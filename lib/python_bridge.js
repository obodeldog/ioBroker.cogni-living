function a4_0x5175(){const _0x2c5b1c=['analysis.energy.ventilationAlerts','HEALTH_RESULT','RL_PENALTY_UPDATE','analysis.health.lastCheck','analysis.energy.mpcActive','stdin','analysis.prediction.trackerConfidence','getState','ENERGY_TRAIN_RESULT','.\x20Please\x20create\x20this\x20file!','Success:\x20','substring','4kchkIB','analysis.energy.warmupDetails','toFixed','search','analysis.health.activityTrend','forEach','error','HEALTH_TRAIN_RESULT','debug','analysis.health.gaitSpeed','analysis.energy.warmupTimes','setStateAsync','exports','561724tkIVqX','data','ENERGY_OPTIMIZE_RESULT','COMFORT_RESULT','de-DE','sendNotification','analysis.security.currentThreshold','sendToPythonWrapper','log','analysis.health.gaitSensors','toString','stdout','PONG','stringify','success','18FkpDfY','analysis.energy.pinnForecast','analysis.energy.heatingScore','writable','apply','5207655Nlsbin','GAIT_RESULT','trim','2-digit','31491avoSpT','7897064ebTiYK','warn','threshold','analysis.prediction.trackerTopRoom','payload','val','analysis.isAlert','analysis.alertReason','parse','close','service.py','is_anomaly','message','[PYTHON]\x20','startsWith','insulation','HEALTH_TREND_RESULT','Unknown','ENERGY_PREDICT_RESULT','applyEnergySavings','2738022nrtHDS','python_service','WARMUP_RESULT','stderr','reason','toLocaleTimeString','Python\x20process\x20exited\x20with\x20code\x20','analysis.energy.warmupSources','keys','analysis.prediction.trackerState','analysis.health.gaitDebug','3117023vcjHDb','âœ…\x20HEALTH\x20TRAINED.','SECURITY_RESULT','TRACKER_RESULT','4190LPWIWh','./setup','info','ðŸ“ˆ\x20Health\x20Trend:\x20','analysis.energy.rlPenalties','child_process','PINN_PREDICT_RESULT','short','toLocaleDateString','11857EDYdfz','ðŸš€\x20Starting\x20Python\x20Bridge\x20using:\x20','toISOString','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','ðŸ\x20Python\x20Pong','[PYTHON\x20ERR]\x20','existsSync','./automation','heating','type','SIGNAL_RESULT','analysis.energy.insulationScore','[LOG]','join','analysis.health.isAnomaly','write','analysis.security.lastScore','(((.+)+)+)+$','length'];a4_0x5175=function(){return _0x2c5b1c;};return a4_0x5175();}const a4_0x594749=a4_0x30c2;(function(_0x5271b0,_0x37840d){const _0x2510c1=a4_0x30c2,_0x3909e9=_0x5271b0();while(!![]){try{const _0x19ff0e=-parseInt(_0x2510c1(0x1e5))/0x1*(-parseInt(_0x2510c1(0x204))/0x2)+parseInt(_0x2510c1(0x220))/0x3*(parseInt(_0x2510c1(0x211))/0x4)+parseInt(_0x2510c1(0x225))/0x5+-parseInt(_0x2510c1(0x23e))/0x6+-parseInt(_0x2510c1(0x1d8))/0x7+parseInt(_0x2510c1(0x22a))/0x8+parseInt(_0x2510c1(0x229))/0x9*(-parseInt(_0x2510c1(0x1dc))/0xa);if(_0x19ff0e===_0x37840d)break;else _0x3909e9['push'](_0x3909e9['shift']());}catch(_0x452c70){_0x3909e9['push'](_0x3909e9['shift']());}}}(a4_0x5175,0x80b99));const a4_0x133744=(function(){let _0x33df8f=!![];return function(_0x594ae3,_0x41d832){const _0x432217=_0x33df8f?function(){const _0x5cfd99=a4_0x30c2;if(_0x41d832){const _0x2e5bdb=_0x41d832[_0x5cfd99(0x224)](_0x594ae3,arguments);return _0x41d832=null,_0x2e5bdb;}}:function(){};return _0x33df8f=![],_0x432217;};}()),a4_0x54fdbf=a4_0x133744(this,function(){const _0x2784c4=a4_0x30c2;return a4_0x54fdbf[_0x2784c4(0x21b)]()['search'](_0x2784c4(0x1f6))[_0x2784c4(0x21b)]()['constructor'](a4_0x54fdbf)[_0x2784c4(0x207)](_0x2784c4(0x1f6));});a4_0x54fdbf();'use strict';const {spawn}=require(a4_0x594749(0x1e1)),path=require('path'),fs=require('fs'),setup=require(a4_0x594749(0x1dd)),automation=require(a4_0x594749(0x1ec));let pythonProcess=null;function a4_0x30c2(_0x554853,_0x1ac979){const _0x3e7fa7=a4_0x5175();return a4_0x30c2=function(_0x54fdbf,_0x133744){_0x54fdbf=_0x54fdbf-0x1cf;let _0x5175d2=_0x3e7fa7[_0x54fdbf];return _0x5175d2;},a4_0x30c2(_0x554853,_0x1ac979);}function send(_0x5076f6,_0x222adf,_0x4959b8={}){const _0x36c155=a4_0x594749;if(!pythonProcess||!pythonProcess[_0x36c155(0x1fd)][_0x36c155(0x223)])return;const _0xac1239=JSON[_0x36c155(0x21e)]({'command':_0x222adf,..._0x4959b8});try{pythonProcess['stdin'][_0x36c155(0x1f4)](_0xac1239+'\x0a');}catch(_0x181fb4){}}function handleResult(_0x57e9e5,_0x19fd49){const _0x2f02ca=a4_0x594749;if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x21d))_0x57e9e5['log'][_0x2f02ca(0x20c)](_0x2f02ca(0x1e9));else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x1da)){const {anomaly_score:_0x516598,is_anomaly:_0x2c57b7,threshold:_0x4c18e6,explanation:_0x713392}=_0x19fd49['payload'];_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1f5),{'val':_0x516598,'ack':!![]}),_0x57e9e5['setStateAsync']('analysis.security.lastCheck',{'val':new Date()[_0x2f02ca(0x1e7)](),'ack':!![]});if(_0x4c18e6)_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x217),{'val':_0x4c18e6,'ack':!![]});if(_0x2c57b7){let _0x524fd5=_0x2f02ca(0x1e8)+_0x516598[_0x2f02ca(0x206)](0x4)+')';if(_0x713392&&_0x713392!==_0x2f02ca(0x23b))_0x524fd5+='\x0aGrund:\x20'+_0x713392;_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x230),{'val':!![],'ack':!![]}),_0x57e9e5['setStateAsync'](_0x2f02ca(0x231),{'val':_0x524fd5,'ack':!![]}),setup[_0x2f02ca(0x216)](_0x57e9e5,'âš ï¸\x20SECURITY\x20ALARM:\x20'+_0x524fd5,![],!![]);}}else{if(_0x19fd49[_0x2f02ca(0x1ee)]==='TRAINING_COMPLETE'){const _0x11a86e=_0x19fd49[_0x2f02ca(0x22e)]['details']||'',_0x2c92cf=_0x19fd49[_0x2f02ca(0x22e)][_0x2f02ca(0x22c)],_0x21d74e=_0x19fd49['payload'][_0x2f02ca(0x21f)]?_0x2f02ca(0x202)+new Date()[_0x2f02ca(0x1d2)]()+'\x20('+_0x11a86e+')':'Failed:\x20'+_0x19fd49['payload'][_0x2f02ca(0x1d1)];_0x57e9e5[_0x2f02ca(0x20f)]('analysis.training.status',{'val':_0x21d74e,'ack':!![]});if(_0x19fd49['payload'][_0x2f02ca(0x21f)]&&_0x2c92cf)_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x217),{'val':_0x2c92cf,'ack':!![]});}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x200)){if(_0x19fd49[_0x2f02ca(0x22e)]['success'])try{const _0xbfb43f=JSON[_0x2f02ca(0x232)](_0x19fd49['payload']['details']);if(_0xbfb43f[_0x2f02ca(0x239)])_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1f0),{'val':JSON['stringify'](_0xbfb43f[_0x2f02ca(0x239)]),'ack':!![]});if(_0xbfb43f[_0x2f02ca(0x1ed)])_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x222),{'val':JSON[_0x2f02ca(0x21e)](_0xbfb43f[_0x2f02ca(0x1ed)]),'ack':!![]});}catch(_0x13c16f){}}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x20b)){if(_0x19fd49['payload'][_0x2f02ca(0x21f)]){_0x57e9e5[_0x2f02ca(0x219)][_0x2f02ca(0x1de)](_0x2f02ca(0x1d9));const _0x8c1ff=new Date(),_0x50fb69=_0x8c1ff[_0x2f02ca(0x1e4)](_0x2f02ca(0x215),{'day':'2-digit','month':'short','hour':_0x2f02ca(0x228),'minute':_0x2f02ca(0x228)});_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1fb),{'val':_0x50fb69,'ack':!![]});}}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x1f9)){const _0x2da9e9=new Date(),_0x31ce1f=_0x2da9e9[_0x2f02ca(0x1e4)](_0x2f02ca(0x215),{'day':_0x2f02ca(0x228),'month':'short','hour':_0x2f02ca(0x228),'minute':_0x2f02ca(0x228)});_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1fb),{'val':_0x31ce1f,'ack':!![]}),_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1f3),{'val':_0x19fd49[_0x2f02ca(0x22e)][_0x2f02ca(0x235)],'ack':!![]});}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x23a)){const {trend_percent:_0x10354e,details:_0x5dc691}=_0x19fd49[_0x2f02ca(0x22e)],_0xe76659=new Date(),_0x152544=_0xe76659[_0x2f02ca(0x1e4)](_0x2f02ca(0x215),{'day':_0x2f02ca(0x228),'month':_0x2f02ca(0x1e3),'hour':_0x2f02ca(0x228),'minute':_0x2f02ca(0x228)});_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1fb),{'val':_0x152544,'ack':!![]}),_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x208),{'val':_0x10354e,'ack':!![]}),_0x57e9e5[_0x2f02ca(0x219)][_0x2f02ca(0x1de)](_0x2f02ca(0x1df)+_0x5dc691);}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x226)){const {speed_trend:_0x4c4436,sensors:_0x2f63b9,proof:_0x133022}=_0x19fd49[_0x2f02ca(0x22e)];if(_0x4c4436!==undefined)_0x57e9e5['setStateAsync'](_0x2f02ca(0x20d),{'val':_0x4c4436,'ack':!![]});if(_0x2f63b9&&Array['isArray'](_0x2f63b9))_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x21a),{'val':_0x2f63b9['join'](',\x20'),'ack':!![]});if(_0x133022)_0x57e9e5['setStateAsync'](_0x2f02ca(0x1d7),{'val':_0x133022,'ack':!![]});}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x23c)){const {forecast:_0x45f4bb}=_0x19fd49[_0x2f02ca(0x22e)];if(_0x45f4bb)_0x57e9e5['setStateAsync']('analysis.energy.forecast',{'val':JSON[_0x2f02ca(0x21e)](_0x45f4bb),'ack':!![]});}else{if(_0x19fd49['type']===_0x2f02ca(0x1cf)){const {times:_0x4c53fa,sources:_0x5d34a9,details:_0x3c0311}=_0x19fd49[_0x2f02ca(0x22e)];if(_0x4c53fa)_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x20e),{'val':JSON[_0x2f02ca(0x21e)](_0x4c53fa),'ack':!![]});if(_0x5d34a9)_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1d4),{'val':JSON[_0x2f02ca(0x21e)](_0x5d34a9),'ack':!![]});if(_0x3c0311)_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x205),{'val':JSON[_0x2f02ca(0x21e)](_0x3c0311),'ack':!![]});}else{if(_0x19fd49['type']===_0x2f02ca(0x1fa)){const {penalties:_0x4e7150}=_0x19fd49[_0x2f02ca(0x22e)];if(_0x4e7150)_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1e0),{'val':JSON[_0x2f02ca(0x21e)](_0x4e7150),'ack':!![]});}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x1e2)){const {forecast:_0x222816}=_0x19fd49['payload'];if(_0x222816)_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x221),{'val':JSON[_0x2f02ca(0x21e)](_0x222816),'ack':!![]});}else{if(_0x19fd49['type']==='VENTILATION_ALERT'){const {alerts:_0x1180ff}=_0x19fd49[_0x2f02ca(0x22e)];if(_0x1180ff)_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1f8),{'val':JSON['stringify'](_0x1180ff),'ack':!![]});}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x213)){const {proposals:_0x373476}=_0x19fd49[_0x2f02ca(0x22e)];_0x57e9e5[_0x2f02ca(0x1ff)](_0x2f02ca(0x1fc),(_0x2341c7,_0x181a07)=>{const _0x5894f8=_0x2f02ca;_0x181a07&&_0x181a07[_0x5894f8(0x22f)]===!![]&&_0x373476&&_0x373476['length']>0x0&&automation[_0x5894f8(0x23d)](_0x57e9e5,_0x373476);});}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x1ef)){const {room:_0x214269,propagation:_0xc0bf5b}=_0x19fd49[_0x2f02ca(0x22e)];let _0xf1d222=_0x2f02ca(0x23b),_0x2515d3=0x0;if(_0xc0bf5b){const _0x201366=Object['entries'](_0xc0bf5b);_0x201366['length']>0x0&&(_0xf1d222=_0x201366[0x0][0x0],_0x2515d3=_0x201366[0x0][0x1]);}_0x57e9e5[_0x2f02ca(0x20f)]('analysis.prediction.nextRoom',{'val':_0xf1d222,'ack':!![]}),_0x57e9e5[_0x2f02ca(0x20f)]('analysis.prediction.confidence',{'val':_0x2515d3,'ack':!![]}),automation['handlePrediction'](_0x57e9e5,_0xf1d222,_0x2515d3);}else{if(_0x19fd49[_0x2f02ca(0x1ee)]===_0x2f02ca(0x1db)){const {probabilities:_0x303dc4}=_0x19fd49[_0x2f02ca(0x22e)];if(_0x303dc4){_0x57e9e5['setStateAsync'](_0x2f02ca(0x1d6),{'val':JSON[_0x2f02ca(0x21e)](_0x303dc4),'ack':!![]});const _0x4c2fcc=Object[_0x2f02ca(0x1d5)](_0x303dc4);if(_0x4c2fcc[_0x2f02ca(0x1f7)]>0x0){const _0x5aee75=_0x4c2fcc[0x0],_0x508960=_0x303dc4[_0x5aee75];_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x22d),{'val':_0x5aee75,'ack':!![]}),_0x57e9e5[_0x2f02ca(0x20f)](_0x2f02ca(0x1fe),{'val':_0x508960,'ack':!![]});}}}else{if(_0x19fd49['type']===_0x2f02ca(0x214)){const {patterns:_0x54e79a}=_0x19fd49['payload'];if(_0x54e79a&&_0x54e79a[_0x2f02ca(0x1f7)]>0x0)_0x57e9e5[_0x2f02ca(0x20f)]('analysis.automation.detectedPatterns',{'val':JSON[_0x2f02ca(0x21e)](_0x54e79a),'ack':!![]});}}}}}}}}}}}}}}}}}}function startService(_0x5aab13,_0x38e114){const _0x5e3ada=a4_0x594749;let _0x115dc8='python3';if(fs[_0x5e3ada(0x1eb)](_0x38e114))_0x115dc8=_0x38e114;const _0x5ad936=path[_0x5e3ada(0x1f2)](__dirname,'..',_0x5e3ada(0x234)),_0x22f123=path[_0x5e3ada(0x1f2)](__dirname,'..',_0x5e3ada(0x23f),_0x5e3ada(0x234));let _0xde8115='';if(fs[_0x5e3ada(0x1eb)](_0x5ad936))_0xde8115=_0x5ad936;else{if(fs[_0x5e3ada(0x1eb)](_0x22f123))_0xde8115=_0x22f123;else{_0x5aab13['log'][_0x5e3ada(0x20a)]('âŒ\x20CRITICAL:\x20\x27service.py\x27\x20not\x20found!\x20Checked:\x20'+_0x5ad936+'\x20AND\x20'+_0x22f123+_0x5e3ada(0x201));return;}}try{_0x5aab13[_0x5e3ada(0x219)][_0x5e3ada(0x1de)](_0x5e3ada(0x1e6)+_0x115dc8+'\x20'+_0xde8115),pythonProcess=spawn(_0x115dc8,[_0xde8115]),pythonProcess[_0x5e3ada(0x21c)]['on'](_0x5e3ada(0x212),_0x49912d=>{const _0xaaf2e6=_0x5e3ada,_0x5bdf01=_0x49912d[_0xaaf2e6(0x21b)]()['split']('\x0a');_0x5bdf01[_0xaaf2e6(0x209)](_0x172a0d=>{const _0x82c75b=_0xaaf2e6,_0x2b7fc1=_0x172a0d[_0x82c75b(0x227)]();if(!_0x2b7fc1)return;if(_0x2b7fc1[_0x82c75b(0x238)](_0x82c75b(0x1f1)))_0x5aab13[_0x82c75b(0x219)][_0x82c75b(0x20c)](_0x82c75b(0x237)+_0x2b7fc1[_0x82c75b(0x203)](0x5)[_0x82c75b(0x227)]());else{if(_0x2b7fc1[_0x82c75b(0x238)]('[RESULT]'))try{const _0xcc4d2c=JSON[_0x82c75b(0x232)](_0x2b7fc1[_0x82c75b(0x203)](0x8)['trim']());handleResult(_0x5aab13,_0xcc4d2c);}catch(_0x566dfb){}}});}),pythonProcess[_0x5e3ada(0x1d0)]['on'](_0x5e3ada(0x212),_0x2a1181=>{const _0x541829=_0x5e3ada;_0x5aab13[_0x541829(0x219)]['error'](_0x541829(0x1ea)+_0x2a1181[_0x541829(0x21b)]()[_0x541829(0x227)]());}),pythonProcess['on'](_0x5e3ada(0x233),_0x489f2a=>{const _0x49cb13=_0x5e3ada;_0x5aab13[_0x49cb13(0x219)][_0x49cb13(0x22b)](_0x49cb13(0x1d3)+_0x489f2a),pythonProcess=null;}),_0x5aab13[_0x5e3ada(0x218)]=(_0x5cddbd,_0xd84a69)=>send(_0x5aab13,_0x5cddbd,_0xd84a69);}catch(_0x11de3f){_0x5aab13[_0x5e3ada(0x219)][_0x5e3ada(0x20a)]('Error\x20launching\x20Python:\x20'+_0x11de3f[_0x5e3ada(0x236)]);}}function stopService(_0x4c14c5){if(pythonProcess){try{pythonProcess['kill']();}catch(_0x2afc34){}pythonProcess=null;}}module[a4_0x594749(0x210)]={'startService':startService,'stopService':stopService,'send':send};