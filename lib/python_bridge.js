function a4_0xfa8b(){const _0x3b9dfd=['warn','analysis.security.lastScore','[RESULT]','analysis.alertReason','Failed:\x20','applyEnergySavings','startsWith','payload','stdout','[PYTHON]\x20','.\x20Please\x20create\x20this\x20file!','5244592lJdGla','python_service','data','parse','toString','analysis.health.activityTrend','toLocaleDateString','type','analysis.prediction.trackerTopRoom','âœ…\x20HEALTH\x20TRAINED.','existsSync','342888LGOOYK','log','toLocaleTimeString','split','analysis.health.isAnomaly','SIGNAL_RESULT','ðŸš€\x20Starting\x20Python\x20Bridge\x20using:\x20','analysis.energy.rlPenalties','70mokhfU','[LOG]','177738ZPMuSY','stderr','entries','stringify','\x0aGrund:\x20','ENERGY_OPTIMIZE_RESULT','writable','analysis.security.currentThreshold','de-DE','2-digit','heating','HEALTH_RESULT','âš ï¸\x20SECURITY\x20ALARM:\x20','analysis.energy.ventilationAlerts','RL_PENALTY_UPDATE','python3','analysis.health.gaitSensors','handlePrediction','TRAINING_COMPLETE','126YwXoSA','137595LVcheE','close','Error\x20launching\x20Python:\x20','toFixed','sendNotification','analysis.prediction.trackerState','setStateAsync','Unknown','ENERGY_TRAIN_RESULT','error','kill','join','analysis.energy.warmupTimes','PONG','apply','stdin','search','success','analysis.energy.pinnForecast','trim','HEALTH_TRAIN_RESULT','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','substring','analysis.health.gaitDebug','analysis.energy.warmupSources','length','insulation','service.py','(((.+)+)+)+$','28YQsfmG','26752OvoLVF','195771lKDGAw','info','details','PINN_PREDICT_RESULT','HEALTH_TREND_RESULT','SECURITY_RESULT','COMFORT_RESULT','isArray','analysis.health.gaitSpeed','threshold','âŒ\x20CRITICAL:\x20\x27service.py\x27\x20not\x20found!\x20Checked:\x20','analysis.training.status','sendToPythonWrapper','analysis.energy.mpcActive','analysis.energy.insulationScore','debug','9979407jgdDTa','TRACKER_RESULT','730zBChEn','path','short','constructor','analysis.security.lastCheck','reason','ENERGY_PREDICT_RESULT','exports','analysis.energy.forecast','./setup','is_anomaly','analysis.health.lastCheck'];a4_0xfa8b=function(){return _0x3b9dfd;};return a4_0xfa8b();}function a4_0x31d0(_0x182918,_0x9204a9){const _0x59510b=a4_0xfa8b();return a4_0x31d0=function(_0xa85dc7,_0x304824){_0xa85dc7=_0xa85dc7-0xea;let _0xfa8b07=_0x59510b[_0xa85dc7];return _0xfa8b07;},a4_0x31d0(_0x182918,_0x9204a9);}const a4_0x2134ab=a4_0x31d0;(function(_0x955050,_0x184b9b){const _0x1859a2=a4_0x31d0,_0x437212=_0x955050();while(!![]){try{const _0x5be47b=parseInt(_0x1859a2(0xfb))/0x1+parseInt(_0x1859a2(0xfa))/0x2*(parseInt(_0x1859a2(0x14c))/0x3)+parseInt(_0x1859a2(0xf9))/0x4*(-parseInt(_0x1859a2(0x14d))/0x5)+parseInt(_0x1859a2(0x12f))/0x6*(-parseInt(_0x1859a2(0x137))/0x7)+parseInt(_0x1859a2(0x124))/0x8+-parseInt(_0x1859a2(0x10b))/0x9+parseInt(_0x1859a2(0x10d))/0xa*(parseInt(_0x1859a2(0x139))/0xb);if(_0x5be47b===_0x184b9b)break;else _0x437212['push'](_0x437212['shift']());}catch(_0x3702dd){_0x437212['push'](_0x437212['shift']());}}}(a4_0xfa8b,0xafb77));const a4_0x304824=(function(){let _0x5e811b=!![];return function(_0x256c3c,_0x1680f4){const _0x4b21c4=_0x5e811b?function(){const _0x426d16=a4_0x31d0;if(_0x1680f4){const _0x35e398=_0x1680f4[_0x426d16(0xea)](_0x256c3c,arguments);return _0x1680f4=null,_0x35e398;}}:function(){};return _0x5e811b=![],_0x4b21c4;};}()),a4_0xa85dc7=a4_0x304824(this,function(){const _0x215fcf=a4_0x31d0;return a4_0xa85dc7['toString']()[_0x215fcf(0xec)](_0x215fcf(0xf8))[_0x215fcf(0x128)]()[_0x215fcf(0x110)](a4_0xa85dc7)[_0x215fcf(0xec)](_0x215fcf(0xf8));});a4_0xa85dc7();'use strict';const {spawn}=require('child_process'),path=require(a4_0x2134ab(0x10e)),fs=require('fs'),setup=require(a4_0x2134ab(0x116)),automation=require('./automation');let pythonProcess=null;function send(_0x15ea34,_0xd7ee09,_0x564978={}){const _0x575047=a4_0x2134ab;if(!pythonProcess||!pythonProcess[_0x575047(0xeb)][_0x575047(0x13f)])return;const _0x40c4da=JSON[_0x575047(0x13c)]({'command':_0xd7ee09,..._0x564978});try{pythonProcess[_0x575047(0xeb)]['write'](_0x40c4da+'\x0a');}catch(_0x9999f6){}}function handleResult(_0xe80100,_0x355e6a){const _0x5b9bff=a4_0x2134ab;if(_0x355e6a['type']===_0x5b9bff(0x15a))_0xe80100['log'][_0x5b9bff(0x10a)]('ðŸ\x20Python\x20Pong');else{if(_0x355e6a[_0x5b9bff(0x12b)]===_0x5b9bff(0x100)){const {anomaly_score:_0x3f86d7,is_anomaly:_0x33b459,threshold:_0x166b22,explanation:_0x2e0806}=_0x355e6a[_0x5b9bff(0x120)];_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x11a),{'val':_0x3f86d7,'ack':!![]}),_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x111),{'val':new Date()['toISOString'](),'ack':!![]});if(_0x166b22)_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x140),{'val':_0x166b22,'ack':!![]});if(_0x33b459){let _0x1cfc79=_0x5b9bff(0xf1)+_0x3f86d7[_0x5b9bff(0x150)](0x4)+')';if(_0x2e0806&&_0x2e0806!=='Unknown')_0x1cfc79+=_0x5b9bff(0x13d)+_0x2e0806;_0xe80100[_0x5b9bff(0x153)]('analysis.isAlert',{'val':!![],'ack':!![]}),_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x11c),{'val':_0x1cfc79,'ack':!![]}),setup[_0x5b9bff(0x151)](_0xe80100,_0x5b9bff(0x145)+_0x1cfc79,![],!![]);}}else{if(_0x355e6a['type']===_0x5b9bff(0x14b)){const _0x5dd168=_0x355e6a[_0x5b9bff(0x120)][_0x5b9bff(0xfd)]||'',_0x33fca3=_0x355e6a[_0x5b9bff(0x120)][_0x5b9bff(0x104)],_0x2f8cfb=_0x355e6a['payload'][_0x5b9bff(0xed)]?'Success:\x20'+new Date()[_0x5b9bff(0x131)]()+'\x20('+_0x5dd168+')':_0x5b9bff(0x11d)+_0x355e6a[_0x5b9bff(0x120)][_0x5b9bff(0x112)];_0xe80100['setStateAsync'](_0x5b9bff(0x106),{'val':_0x2f8cfb,'ack':!![]});if(_0x355e6a[_0x5b9bff(0x120)][_0x5b9bff(0xed)]&&_0x33fca3)_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x140),{'val':_0x33fca3,'ack':!![]});}else{if(_0x355e6a[_0x5b9bff(0x12b)]===_0x5b9bff(0x155)){if(_0x355e6a['payload']['success'])try{const _0x38a4db=JSON['parse'](_0x355e6a[_0x5b9bff(0x120)]['details']);if(_0x38a4db[_0x5b9bff(0xf6)])_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x109),{'val':JSON[_0x5b9bff(0x13c)](_0x38a4db[_0x5b9bff(0xf6)]),'ack':!![]});if(_0x38a4db[_0x5b9bff(0x143)])_0xe80100[_0x5b9bff(0x153)]('analysis.energy.heatingScore',{'val':JSON[_0x5b9bff(0x13c)](_0x38a4db[_0x5b9bff(0x143)]),'ack':!![]});}catch(_0x42718a){}}else{if(_0x355e6a['type']===_0x5b9bff(0xf0)){if(_0x355e6a[_0x5b9bff(0x120)]['success']){_0xe80100[_0x5b9bff(0x130)][_0x5b9bff(0xfc)](_0x5b9bff(0x12d));const _0xe0457f=new Date(),_0x32f4fb=_0xe0457f[_0x5b9bff(0x12a)](_0x5b9bff(0x141),{'day':_0x5b9bff(0x142),'month':_0x5b9bff(0x10f),'hour':_0x5b9bff(0x142),'minute':'2-digit'});_0xe80100['setStateAsync']('analysis.health.lastCheck',{'val':_0x32f4fb,'ack':!![]});}}else{if(_0x355e6a[_0x5b9bff(0x12b)]===_0x5b9bff(0x144)){const _0x146911=new Date(),_0x246e4d=_0x146911[_0x5b9bff(0x12a)]('de-DE',{'day':_0x5b9bff(0x142),'month':_0x5b9bff(0x10f),'hour':_0x5b9bff(0x142),'minute':_0x5b9bff(0x142)});_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x118),{'val':_0x246e4d,'ack':!![]}),_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x133),{'val':_0x355e6a[_0x5b9bff(0x120)][_0x5b9bff(0x117)],'ack':!![]});}else{if(_0x355e6a['type']===_0x5b9bff(0xff)){const {trend_percent:_0x16caa1,details:_0x667195}=_0x355e6a[_0x5b9bff(0x120)],_0x376602=new Date(),_0x36dffa=_0x376602[_0x5b9bff(0x12a)](_0x5b9bff(0x141),{'day':_0x5b9bff(0x142),'month':'short','hour':_0x5b9bff(0x142),'minute':_0x5b9bff(0x142)});_0xe80100[_0x5b9bff(0x153)]('analysis.health.lastCheck',{'val':_0x36dffa,'ack':!![]}),_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x129),{'val':_0x16caa1,'ack':!![]}),_0xe80100[_0x5b9bff(0x130)][_0x5b9bff(0xfc)]('ðŸ“ˆ\x20Health\x20Trend:\x20'+_0x667195);}else{if(_0x355e6a[_0x5b9bff(0x12b)]==='GAIT_RESULT'){const {speed_trend:_0x4983ef,sensors:_0x28eaf5,proof:_0x4f1314}=_0x355e6a[_0x5b9bff(0x120)];if(_0x4983ef!==undefined)_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x103),{'val':_0x4983ef,'ack':!![]});if(_0x28eaf5&&Array[_0x5b9bff(0x102)](_0x28eaf5))_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x149),{'val':_0x28eaf5[_0x5b9bff(0x158)](',\x20'),'ack':!![]});if(_0x4f1314)_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0xf3),{'val':_0x4f1314,'ack':!![]});}else{if(_0x355e6a['type']===_0x5b9bff(0x113)){const {forecast:_0x37610a}=_0x355e6a['payload'];if(_0x37610a)_0xe80100['setStateAsync'](_0x5b9bff(0x115),{'val':JSON[_0x5b9bff(0x13c)](_0x37610a),'ack':!![]});}else{if(_0x355e6a[_0x5b9bff(0x12b)]==='WARMUP_RESULT'){const {times:_0x459328,sources:_0x51435b,details:_0x46ba1f}=_0x355e6a['payload'];if(_0x459328)_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x159),{'val':JSON['stringify'](_0x459328),'ack':!![]});if(_0x51435b)_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0xf4),{'val':JSON[_0x5b9bff(0x13c)](_0x51435b),'ack':!![]});if(_0x46ba1f)_0xe80100[_0x5b9bff(0x153)]('analysis.energy.warmupDetails',{'val':JSON[_0x5b9bff(0x13c)](_0x46ba1f),'ack':!![]});}else{if(_0x355e6a[_0x5b9bff(0x12b)]===_0x5b9bff(0x147)){const {penalties:_0x3dc8ed}=_0x355e6a['payload'];if(_0x3dc8ed)_0xe80100['setStateAsync'](_0x5b9bff(0x136),{'val':JSON[_0x5b9bff(0x13c)](_0x3dc8ed),'ack':!![]});}else{if(_0x355e6a['type']===_0x5b9bff(0xfe)){const {forecast:_0x3d9ec9}=_0x355e6a['payload'];if(_0x3d9ec9)_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0xee),{'val':JSON['stringify'](_0x3d9ec9),'ack':!![]});}else{if(_0x355e6a['type']==='VENTILATION_ALERT'){const {alerts:_0x44edd2}=_0x355e6a['payload'];if(_0x44edd2)_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x146),{'val':JSON[_0x5b9bff(0x13c)](_0x44edd2),'ack':!![]});}else{if(_0x355e6a[_0x5b9bff(0x12b)]===_0x5b9bff(0x13e)){const {proposals:_0x5b9186}=_0x355e6a[_0x5b9bff(0x120)];_0xe80100['getState'](_0x5b9bff(0x108),(_0x1dcc79,_0x3dc6c3)=>{const _0x4e2f92=_0x5b9bff;_0x3dc6c3&&_0x3dc6c3['val']===!![]&&_0x5b9186&&_0x5b9186[_0x4e2f92(0xf5)]>0x0&&automation[_0x4e2f92(0x11e)](_0xe80100,_0x5b9186);});}else{if(_0x355e6a['type']===_0x5b9bff(0x134)){const {room:_0x1bce17,propagation:_0x1a584e}=_0x355e6a['payload'];let _0x1dae52=_0x5b9bff(0x154),_0x2b37c3=0x0;if(_0x1a584e){const _0x56698e=Object[_0x5b9bff(0x13b)](_0x1a584e);_0x56698e['length']>0x0&&(_0x1dae52=_0x56698e[0x0][0x0],_0x2b37c3=_0x56698e[0x0][0x1]);}_0xe80100['setStateAsync']('analysis.prediction.nextRoom',{'val':_0x1dae52,'ack':!![]}),_0xe80100[_0x5b9bff(0x153)]('analysis.prediction.confidence',{'val':_0x2b37c3,'ack':!![]}),automation[_0x5b9bff(0x14a)](_0xe80100,_0x1dae52,_0x2b37c3);}else{if(_0x355e6a['type']===_0x5b9bff(0x10c)){const {probabilities:_0x135a31}=_0x355e6a[_0x5b9bff(0x120)];if(_0x135a31){_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x152),{'val':JSON[_0x5b9bff(0x13c)](_0x135a31),'ack':!![]});const _0x978adb=Object['keys'](_0x135a31);if(_0x978adb[_0x5b9bff(0xf5)]>0x0){const _0x1e1019=_0x978adb[0x0],_0x12e4fe=_0x135a31[_0x1e1019];_0xe80100[_0x5b9bff(0x153)](_0x5b9bff(0x12c),{'val':_0x1e1019,'ack':!![]}),_0xe80100[_0x5b9bff(0x153)]('analysis.prediction.trackerConfidence',{'val':_0x12e4fe,'ack':!![]});}}}else{if(_0x355e6a['type']===_0x5b9bff(0x101)){const {patterns:_0x3058cc}=_0x355e6a['payload'];if(_0x3058cc&&_0x3058cc[_0x5b9bff(0xf5)]>0x0)_0xe80100[_0x5b9bff(0x153)]('analysis.automation.detectedPatterns',{'val':JSON[_0x5b9bff(0x13c)](_0x3058cc),'ack':!![]});}}}}}}}}}}}}}}}}}}function startService(_0x242bad,_0x1874ab){const _0x16a79b=a4_0x2134ab;let _0x22519b=_0x16a79b(0x148);if(fs[_0x16a79b(0x12e)](_0x1874ab))_0x22519b=_0x1874ab;const _0x4a991d=path[_0x16a79b(0x158)](__dirname,'..',_0x16a79b(0xf7)),_0x87b819=path[_0x16a79b(0x158)](__dirname,'..',_0x16a79b(0x125),'service.py');let _0xe86e83='';if(fs['existsSync'](_0x4a991d))_0xe86e83=_0x4a991d;else{if(fs['existsSync'](_0x87b819))_0xe86e83=_0x87b819;else{_0x242bad['log']['error'](_0x16a79b(0x105)+_0x4a991d+'\x20AND\x20'+_0x87b819+_0x16a79b(0x123));return;}}try{_0x242bad[_0x16a79b(0x130)][_0x16a79b(0xfc)](_0x16a79b(0x135)+_0x22519b+'\x20'+_0xe86e83),pythonProcess=spawn(_0x22519b,[_0xe86e83]),pythonProcess[_0x16a79b(0x121)]['on'](_0x16a79b(0x126),_0x4d8738=>{const _0x4b1c97=_0x16a79b,_0x4c8bd4=_0x4d8738['toString']()[_0x4b1c97(0x132)]('\x0a');_0x4c8bd4['forEach'](_0x33c3ba=>{const _0x37775c=_0x4b1c97,_0x3c677c=_0x33c3ba[_0x37775c(0xef)]();if(!_0x3c677c)return;if(_0x3c677c[_0x37775c(0x11f)](_0x37775c(0x138)))_0x242bad[_0x37775c(0x130)][_0x37775c(0x10a)](_0x37775c(0x122)+_0x3c677c['substring'](0x5)['trim']());else{if(_0x3c677c[_0x37775c(0x11f)](_0x37775c(0x11b)))try{const _0x2847ef=JSON[_0x37775c(0x127)](_0x3c677c[_0x37775c(0xf2)](0x8)[_0x37775c(0xef)]());handleResult(_0x242bad,_0x2847ef);}catch(_0x23edfb){}}});}),pythonProcess[_0x16a79b(0x13a)]['on']('data',_0x5c0e9a=>{const _0x3b1f05=_0x16a79b;_0x242bad[_0x3b1f05(0x130)][_0x3b1f05(0x156)]('[PYTHON\x20ERR]\x20'+_0x5c0e9a[_0x3b1f05(0x128)]()[_0x3b1f05(0xef)]());}),pythonProcess['on'](_0x16a79b(0x14e),_0x1c53aa=>{const _0x240c44=_0x16a79b;_0x242bad[_0x240c44(0x130)][_0x240c44(0x119)]('Python\x20process\x20exited\x20with\x20code\x20'+_0x1c53aa),pythonProcess=null;}),_0x242bad[_0x16a79b(0x107)]=(_0x3d0ab2,_0x5132bc)=>send(_0x242bad,_0x3d0ab2,_0x5132bc);}catch(_0x147520){_0x242bad[_0x16a79b(0x130)][_0x16a79b(0x156)](_0x16a79b(0x14f)+_0x147520['message']);}}function stopService(_0x5c9460){const _0x5e68cf=a4_0x2134ab;if(pythonProcess){try{pythonProcess[_0x5e68cf(0x157)]();}catch(_0x94a300){}pythonProcess=null;}}module[a4_0x2134ab(0x114)]={'startService':startService,'stopService':stopService,'send':send};