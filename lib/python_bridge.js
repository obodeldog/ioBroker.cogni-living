const a4_0x111eb9=a4_0x4d94;(function(_0x2d5320,_0x1d82a8){const _0x61678a=a4_0x4d94,_0x599cd0=_0x2d5320();while(!![]){try{const _0x29013f=parseInt(_0x61678a(0x142))/0x1*(parseInt(_0x61678a(0x10e))/0x2)+parseInt(_0x61678a(0x11b))/0x3*(-parseInt(_0x61678a(0x15a))/0x4)+parseInt(_0x61678a(0x116))/0x5+parseInt(_0x61678a(0x14b))/0x6*(-parseInt(_0x61678a(0x148))/0x7)+parseInt(_0x61678a(0x131))/0x8*(parseInt(_0x61678a(0x105))/0x9)+-parseInt(_0x61678a(0x135))/0xa*(parseInt(_0x61678a(0x11e))/0xb)+parseInt(_0x61678a(0x126))/0xc;if(_0x29013f===_0x1d82a8)break;else _0x599cd0['push'](_0x599cd0['shift']());}catch(_0xd7f29b){_0x599cd0['push'](_0x599cd0['shift']());}}}(a4_0x44e3,0x6d134));function a4_0x4d94(_0x17cc5d,_0x5f1f99){const _0x19943e=a4_0x44e3();return a4_0x4d94=function(_0x152b26,_0x3cd893){_0x152b26=_0x152b26-0x103;let _0x44e38f=_0x19943e[_0x152b26];return _0x44e38f;},a4_0x4d94(_0x17cc5d,_0x5f1f99);}const a4_0x3cd893=(function(){let _0x413b79=!![];return function(_0x277fde,_0x55b1d5){const _0x4447b9=_0x413b79?function(){const _0x9a96ef=a4_0x4d94;if(_0x55b1d5){const _0x53beba=_0x55b1d5[_0x9a96ef(0x15c)](_0x277fde,arguments);return _0x55b1d5=null,_0x53beba;}}:function(){};return _0x413b79=![],_0x4447b9;};}()),a4_0x152b26=a4_0x3cd893(this,function(){const _0x8304b5=a4_0x4d94;return a4_0x152b26[_0x8304b5(0x14d)]()[_0x8304b5(0x155)](_0x8304b5(0x13f))[_0x8304b5(0x14d)]()['constructor'](a4_0x152b26)[_0x8304b5(0x155)](_0x8304b5(0x13f));});a4_0x152b26();'use strict';const {spawn}=require(a4_0x111eb9(0x122)),path=require(a4_0x111eb9(0x10c)),fs=require('fs'),setup=require(a4_0x111eb9(0x12d)),automation=require(a4_0x111eb9(0x149));let pythonProcess=null;function a4_0x44e3(){const _0xb7f4dc=['stdout','2209130SCjnIU','./automation','log','6DJSJgh','stdin','toString','trim','GAIT_RESULT','entries','\x0aGrund:\x20','split','analysis.energy.warmupSources','[RESULT]','search','analysis.health.gaitSpeed','toISOString','WARMUP_RESULT','analysis.energy.pinnForecast','184VYnsfZ','stringify','apply','ENERGY_PREDICT_RESULT','[PYTHON]\x20','kill','Error\x20launching\x20Python:\x20','toLocaleTimeString','ðŸ\x20Python\x20Pong','toFixed','108KeFfLQ','âš ï¸\x20SECURITY\x20ALARM:\x20','analysis.energy.warmupTimes','write','info','analysis.energy.heatingScore','substring','path','parse','182498tDBrMJ','error','HEALTH_TRAIN_RESULT','analysis.prediction.confidence','startsWith','details','SIGNAL_RESULT','analysis.security.lastScore','2191725LfsKxe','heating','join','analysis.energy.insulationScore','insulation','17229pErVVJ','analysis.prediction.trackerConfidence','[LOG]','11mIrUVX','analysis.prediction.trackerState','analysis.training.status','Success:\x20','child_process','reason','writable','PONG','7043916xiSLKg','Unknown','length','analysis.prediction.nextRoom','type','exports','success','./setup','âœ…\x20HEALTH\x20TRAINED.','getState','python3','19592kfIUil','analysis.energy.warmupDetails','sendNotification','payload','8494270iisvZM','HEALTH_RESULT','analysis.isAlert','TRACKER_RESULT','service.py','debug','analysis.health.lastCheck','setStateAsync','Failed:\x20','analysis.automation.detectedPatterns','(((.+)+)+)+$','analysis.alertReason','applyEnergySavings','9MmRvOf','python_service','SECURITY_RESULT','analysis.energy.forecast','existsSync'];a4_0x44e3=function(){return _0xb7f4dc;};return a4_0x44e3();}function send(_0x469d6b,_0xc61c42,_0xfa0f10={}){const _0x58e8ce=a4_0x111eb9;if(!pythonProcess||!pythonProcess[_0x58e8ce(0x14c)][_0x58e8ce(0x124)])return;const _0x285422=JSON[_0x58e8ce(0x15b)]({'command':_0xc61c42,..._0xfa0f10});try{pythonProcess['stdin'][_0x58e8ce(0x108)](_0x285422+'\x0a');}catch(_0x4806c8){}}function handleResult(_0x2f4206,_0x1d0b53){const _0x4597a5=a4_0x111eb9;if(_0x1d0b53[_0x4597a5(0x12a)]===_0x4597a5(0x125))_0x2f4206[_0x4597a5(0x14a)][_0x4597a5(0x13a)](_0x4597a5(0x103));else{if(_0x1d0b53[_0x4597a5(0x12a)]===_0x4597a5(0x144)){const {anomaly_score:_0x1e88b8,is_anomaly:_0x1b1dce,threshold:_0xd96929,explanation:_0xeaf084}=_0x1d0b53[_0x4597a5(0x134)];_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x115),{'val':_0x1e88b8,'ack':!![]}),_0x2f4206['setStateAsync']('analysis.security.lastCheck',{'val':new Date()[_0x4597a5(0x157)](),'ack':!![]});if(_0xd96929)_0x2f4206['setStateAsync']('analysis.security.currentThreshold',{'val':_0xd96929,'ack':!![]});if(_0x1b1dce){let _0x569bd5='UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20'+_0x1e88b8[_0x4597a5(0x104)](0x4)+')';if(_0xeaf084&&_0xeaf084!==_0x4597a5(0x127))_0x569bd5+=_0x4597a5(0x151)+_0xeaf084;_0x2f4206['setStateAsync'](_0x4597a5(0x137),{'val':!![],'ack':!![]}),_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x140),{'val':_0x569bd5,'ack':!![]}),setup[_0x4597a5(0x133)](_0x2f4206,_0x4597a5(0x106)+_0x569bd5,![],!![]);}}else{if(_0x1d0b53[_0x4597a5(0x12a)]==='TRAINING_COMPLETE'){const _0x20d3dc=_0x1d0b53['payload'][_0x4597a5(0x113)]||'',_0x426c8b=_0x1d0b53[_0x4597a5(0x134)]['threshold'],_0x3e07ca=_0x1d0b53[_0x4597a5(0x134)][_0x4597a5(0x12c)]?_0x4597a5(0x121)+new Date()[_0x4597a5(0x161)]()+'\x20('+_0x20d3dc+')':_0x4597a5(0x13d)+_0x1d0b53[_0x4597a5(0x134)][_0x4597a5(0x123)];_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x120),{'val':_0x3e07ca,'ack':!![]});if(_0x1d0b53[_0x4597a5(0x134)]['success']&&_0x426c8b)_0x2f4206[_0x4597a5(0x13c)]('analysis.security.currentThreshold',{'val':_0x426c8b,'ack':!![]});}else{if(_0x1d0b53[_0x4597a5(0x12a)]==='ENERGY_TRAIN_RESULT'){if(_0x1d0b53[_0x4597a5(0x134)][_0x4597a5(0x12c)])try{const _0x2cfd4d=JSON[_0x4597a5(0x10d)](_0x1d0b53['payload'][_0x4597a5(0x113)]);if(_0x2cfd4d[_0x4597a5(0x11a)])_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x119),{'val':JSON['stringify'](_0x2cfd4d[_0x4597a5(0x11a)]),'ack':!![]});if(_0x2cfd4d[_0x4597a5(0x117)])_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x10a),{'val':JSON[_0x4597a5(0x15b)](_0x2cfd4d[_0x4597a5(0x117)]),'ack':!![]});}catch(_0x70a116){}}else{if(_0x1d0b53[_0x4597a5(0x12a)]===_0x4597a5(0x110)){if(_0x1d0b53['payload'][_0x4597a5(0x12c)])_0x2f4206[_0x4597a5(0x14a)][_0x4597a5(0x109)](_0x4597a5(0x12e));}else{if(_0x1d0b53['type']===_0x4597a5(0x136))_0x2f4206['setStateAsync'](_0x4597a5(0x13b),{'val':new Date()[_0x4597a5(0x157)](),'ack':!![]}),_0x2f4206['setStateAsync']('analysis.health.isAnomaly',{'val':_0x1d0b53[_0x4597a5(0x134)]['is_anomaly'],'ack':!![]});else{if(_0x1d0b53[_0x4597a5(0x12a)]===_0x4597a5(0x14f)){const {speed_trend:_0xe264b6}=_0x1d0b53[_0x4597a5(0x134)];if(_0xe264b6!==undefined)_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x156),{'val':_0xe264b6,'ack':!![]});}else{if(_0x1d0b53[_0x4597a5(0x12a)]===_0x4597a5(0x15d)){const {forecast:_0x168c8a}=_0x1d0b53[_0x4597a5(0x134)];if(_0x168c8a)_0x2f4206['setStateAsync'](_0x4597a5(0x145),{'val':JSON[_0x4597a5(0x15b)](_0x168c8a),'ack':!![]});}else{if(_0x1d0b53[_0x4597a5(0x12a)]===_0x4597a5(0x158)){const {times:_0x185343,sources:_0x56428e,details:_0x29804f}=_0x1d0b53[_0x4597a5(0x134)];if(_0x185343)_0x2f4206['setStateAsync'](_0x4597a5(0x107),{'val':JSON[_0x4597a5(0x15b)](_0x185343),'ack':!![]});if(_0x56428e)_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x153),{'val':JSON['stringify'](_0x56428e),'ack':!![]});if(_0x29804f)_0x2f4206['setStateAsync'](_0x4597a5(0x132),{'val':JSON[_0x4597a5(0x15b)](_0x29804f),'ack':!![]});}else{if(_0x1d0b53[_0x4597a5(0x12a)]==='RL_PENALTY_UPDATE'){const {penalties:_0x15374b}=_0x1d0b53['payload'];if(_0x15374b)_0x2f4206[_0x4597a5(0x13c)]('analysis.energy.rlPenalties',{'val':JSON['stringify'](_0x15374b),'ack':!![]});}else{if(_0x1d0b53['type']==='PINN_PREDICT_RESULT'){const {forecast:_0x583e63}=_0x1d0b53['payload'];if(_0x583e63)_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x159),{'val':JSON['stringify'](_0x583e63),'ack':!![]});}else{if(_0x1d0b53[_0x4597a5(0x12a)]==='VENTILATION_ALERT'){const {alerts:_0x52ab9a}=_0x1d0b53['payload'];if(_0x52ab9a)_0x2f4206['setStateAsync']('analysis.energy.ventilationAlerts',{'val':JSON[_0x4597a5(0x15b)](_0x52ab9a),'ack':!![]});}else{if(_0x1d0b53[_0x4597a5(0x12a)]==='ENERGY_OPTIMIZE_RESULT'){const {proposals:_0x55397a}=_0x1d0b53[_0x4597a5(0x134)];_0x2f4206[_0x4597a5(0x12f)]('analysis.energy.mpcActive',(_0x5cb815,_0x85e1)=>{const _0x4487c8=_0x4597a5;_0x85e1&&_0x85e1['val']===!![]&&_0x55397a&&_0x55397a['length']>0x0&&automation[_0x4487c8(0x141)](_0x2f4206,_0x55397a);});}else{if(_0x1d0b53[_0x4597a5(0x12a)]===_0x4597a5(0x114)){const {room:_0x3be8a3,propagation:_0x448a50}=_0x1d0b53[_0x4597a5(0x134)];let _0x394ddd=_0x4597a5(0x127),_0x33a1ac=0x0;if(_0x448a50){const _0x259cd3=Object[_0x4597a5(0x150)](_0x448a50);_0x259cd3['length']>0x0&&(_0x394ddd=_0x259cd3[0x0][0x0],_0x33a1ac=_0x259cd3[0x0][0x1]);}_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x129),{'val':_0x394ddd,'ack':!![]}),_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x111),{'val':_0x33a1ac,'ack':!![]}),automation['handlePrediction'](_0x2f4206,_0x394ddd,_0x33a1ac);}else{if(_0x1d0b53[_0x4597a5(0x12a)]===_0x4597a5(0x138)){const {probabilities:_0x303e0c}=_0x1d0b53['payload'];if(_0x303e0c){_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x11f),{'val':JSON[_0x4597a5(0x15b)](_0x303e0c),'ack':!![]});const _0x1a8bb6=Object['keys'](_0x303e0c);if(_0x1a8bb6[_0x4597a5(0x128)]>0x0){const _0x10199c=_0x1a8bb6[0x0],_0x1c07c6=_0x303e0c[_0x10199c];_0x2f4206['setStateAsync']('analysis.prediction.trackerTopRoom',{'val':_0x10199c,'ack':!![]}),_0x2f4206[_0x4597a5(0x13c)](_0x4597a5(0x11c),{'val':_0x1c07c6,'ack':!![]});}}}else{if(_0x1d0b53[_0x4597a5(0x12a)]==='COMFORT_RESULT'){const {patterns:_0x53840c}=_0x1d0b53[_0x4597a5(0x134)];if(_0x53840c&&_0x53840c[_0x4597a5(0x128)]>0x0)_0x2f4206['setStateAsync'](_0x4597a5(0x13e),{'val':JSON['stringify'](_0x53840c),'ack':!![]});}}}}}}}}}}}}}}}}}function startService(_0x468869,_0xbc02bd){const _0x2a673b=a4_0x111eb9;let _0x32f7f9=_0x2a673b(0x130);if(fs[_0x2a673b(0x146)](_0xbc02bd))_0x32f7f9=_0xbc02bd;try{const _0x2dada4=path[_0x2a673b(0x118)](__dirname,'..',_0x2a673b(0x143),_0x2a673b(0x139));pythonProcess=spawn(_0x32f7f9,[_0x2dada4]),pythonProcess[_0x2a673b(0x147)]['on']('data',_0x31b84c=>{const _0x4be0c1=_0x2a673b,_0x3a8b30=_0x31b84c['toString']()[_0x4be0c1(0x152)]('\x0a');_0x3a8b30['forEach'](_0x43f424=>{const _0x55dc4c=_0x4be0c1,_0x334d54=_0x43f424['trim']();if(!_0x334d54)return;if(_0x334d54[_0x55dc4c(0x112)](_0x55dc4c(0x11d)))_0x468869[_0x55dc4c(0x14a)][_0x55dc4c(0x13a)](_0x55dc4c(0x15e)+_0x334d54[_0x55dc4c(0x10b)](0x5)[_0x55dc4c(0x14e)]());else{if(_0x334d54[_0x55dc4c(0x112)](_0x55dc4c(0x154)))try{const _0x5b6310=JSON[_0x55dc4c(0x10d)](_0x334d54[_0x55dc4c(0x10b)](0x8)['trim']());handleResult(_0x468869,_0x5b6310);}catch(_0x51d973){}}});}),pythonProcess['on']('close',_0x511d4a=>{pythonProcess=null;}),_0x468869['sendToPythonWrapper']=(_0x586343,_0x1208e0)=>send(_0x468869,_0x586343,_0x1208e0);}catch(_0x3c221d){_0x468869[_0x2a673b(0x14a)][_0x2a673b(0x10f)](_0x2a673b(0x160)+_0x3c221d['message']);}}function stopService(_0x5cf57c){const _0x1cf3e9=a4_0x111eb9;if(pythonProcess){try{pythonProcess[_0x1cf3e9(0x15f)]();}catch(_0x2674cb){}pythonProcess=null;}}module[a4_0x111eb9(0x12b)]={'startService':startService,'stopService':stopService,'send':send};