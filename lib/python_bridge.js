const a4_0x3a037a=a4_0x1b28;(function(_0x30fa93,_0x6896a1){const _0xf7ad63=a4_0x1b28,_0x46575d=_0x30fa93();while(!![]){try{const _0x17f7c5=-parseInt(_0xf7ad63(0x154))/0x1*(parseInt(_0xf7ad63(0x16c))/0x2)+parseInt(_0xf7ad63(0x13a))/0x3*(parseInt(_0xf7ad63(0x123))/0x4)+-parseInt(_0xf7ad63(0x160))/0x5*(-parseInt(_0xf7ad63(0x126))/0x6)+-parseInt(_0xf7ad63(0x167))/0x7*(parseInt(_0xf7ad63(0x15e))/0x8)+parseInt(_0xf7ad63(0x15b))/0x9*(parseInt(_0xf7ad63(0x173))/0xa)+parseInt(_0xf7ad63(0x163))/0xb*(parseInt(_0xf7ad63(0x14d))/0xc)+-parseInt(_0xf7ad63(0x142))/0xd*(parseInt(_0xf7ad63(0x157))/0xe);if(_0x17f7c5===_0x6896a1)break;else _0x46575d['push'](_0x46575d['shift']());}catch(_0x48e612){_0x46575d['push'](_0x46575d['shift']());}}}(a4_0x2559,0x88c15));const a4_0x205d7e=(function(){let _0xab0b32=!![];return function(_0x194569,_0x48022c){const _0x2cb213=_0xab0b32?function(){const _0x25dfad=a4_0x1b28;if(_0x48022c){const _0x24352a=_0x48022c[_0x25dfad(0x166)](_0x194569,arguments);return _0x48022c=null,_0x24352a;}}:function(){};return _0xab0b32=![],_0x2cb213;};}()),a4_0x783bff=a4_0x205d7e(this,function(){const _0x3fee0a=a4_0x1b28;return a4_0x783bff[_0x3fee0a(0x119)]()[_0x3fee0a(0x113)](_0x3fee0a(0x118))[_0x3fee0a(0x119)]()[_0x3fee0a(0x179)](a4_0x783bff)['search'](_0x3fee0a(0x118));});a4_0x783bff();function a4_0x2559(){const _0x3bb65b=['123znatBb','analysis.security.lastScore','analysis.prediction.nextRoom','analysis.security.lastCheck','analysis.health.gaitSpeed','[RESULT]','./automation','WARMUP_RESULT','367978Olzhvr','analysis.energy.pinnForecast','startsWith','analysis.prediction.trackerConfidence','debug','VENTILATION_ALERT','sendNotification','Unknown','join','toISOString','Error\x20launching\x20Python:\x20','1561500kMrVyU','success','âœ…\x20HEALTH\x20TRAINED.','kill','analysis.alertReason','analysis.health.isAnomaly','details','1WQKGnw','toFixed','ENERGY_PREDICT_RESULT','448jpkcyl','existsSync','split','info','1062NcfLPt','payload','[LOG]','96CvIfWm','exports','2855JWGUyJ','length','entries','33dhzPzV','TRACKER_RESULT','HEALTH_RESULT','apply','347032mEecVP','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','analysis.health.lastCheck','SECURITY_RESULT','analysis.energy.forecast','280754iYMPBh','stdout','close','TRAINING_COMPLETE','analysis.energy.warmupTimes','log','val','57340bycAor','ðŸ\x20Python\x20Pong','getState','analysis.isAlert','stdin','analysis.security.currentThreshold','constructor','search','PINN_PREDICT_RESULT','substring','analysis.energy.heatingScore','service.py','(((.+)+)+)+$','toString','analysis.energy.ventilationAlerts','python_service','analysis.energy.mpcActive','sendToPythonWrapper','analysis.energy.warmupDetails','PONG','SIGNAL_RESULT','child_process','analysis.prediction.trackerState','91216emVsjt','writable','setStateAsync','2094zlNDCX','applyEnergySavings','write','trim','analysis.energy.insulationScore','forEach','stringify','analysis.prediction.confidence','ENERGY_OPTIMIZE_RESULT','reason','parse','analysis.automation.detectedPatterns','analysis.training.status','GAIT_RESULT','Success:\x20','toLocaleTimeString','data','ENERGY_TRAIN_RESULT','type','error'];a4_0x2559=function(){return _0x3bb65b;};return a4_0x2559();}'use strict';function a4_0x1b28(_0x60a52b,_0x57e800){const _0x599cbe=a4_0x2559();return a4_0x1b28=function(_0x783bff,_0x205d7e){_0x783bff=_0x783bff-0x113;let _0x255915=_0x599cbe[_0x783bff];return _0x255915;},a4_0x1b28(_0x60a52b,_0x57e800);}const {spawn}=require(a4_0x3a037a(0x121)),path=require('path'),fs=require('fs'),setup=require('./setup'),automation=require(a4_0x3a037a(0x140));let pythonProcess=null;function send(_0xe18205,_0xdf9363,_0x5122e8={}){const _0x54b75e=a4_0x3a037a;if(!pythonProcess||!pythonProcess[_0x54b75e(0x177)][_0x54b75e(0x124)])return;const _0x4320b2=JSON['stringify']({'command':_0xdf9363,..._0x5122e8});try{pythonProcess[_0x54b75e(0x177)][_0x54b75e(0x128)](_0x4320b2+'\x0a');}catch(_0x480f49){}}function handleResult(_0x2ca86c,_0x261ed4){const _0x24183a=a4_0x3a037a;if(_0x261ed4['type']===_0x24183a(0x11f))_0x2ca86c[_0x24183a(0x171)][_0x24183a(0x146)](_0x24183a(0x174));else{if(_0x261ed4[_0x24183a(0x138)]===_0x24183a(0x16a)){const {anomaly_score:_0x4b9737,is_anomaly:_0x1270a8,threshold:_0x1d314e,explanation:_0x4fa2f9}=_0x261ed4['payload'];_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x13b),{'val':_0x4b9737,'ack':!![]}),_0x2ca86c['setStateAsync'](_0x24183a(0x13d),{'val':new Date()[_0x24183a(0x14b)](),'ack':!![]});if(_0x1d314e)_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x178),{'val':_0x1d314e,'ack':!![]});if(_0x1270a8){let _0x33749a=_0x24183a(0x168)+_0x4b9737[_0x24183a(0x155)](0x4)+')';if(_0x4fa2f9&&_0x4fa2f9!==_0x24183a(0x149))_0x33749a+='\x0aGrund:\x20'+_0x4fa2f9;_0x2ca86c['setStateAsync'](_0x24183a(0x176),{'val':!![],'ack':!![]}),_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x151),{'val':_0x33749a,'ack':!![]}),setup[_0x24183a(0x148)](_0x2ca86c,'âš ï¸\x20SECURITY\x20ALARM:\x20'+_0x33749a,![],!![]);}}else{if(_0x261ed4[_0x24183a(0x138)]===_0x24183a(0x16f)){const _0x12c6c3=_0x261ed4[_0x24183a(0x15c)][_0x24183a(0x153)]||'',_0x44119b=_0x261ed4[_0x24183a(0x15c)]['threshold'],_0x1ab471=_0x261ed4[_0x24183a(0x15c)][_0x24183a(0x14e)]?_0x24183a(0x134)+new Date()[_0x24183a(0x135)]()+'\x20('+_0x12c6c3+')':'Failed:\x20'+_0x261ed4['payload'][_0x24183a(0x12f)];_0x2ca86c['setStateAsync'](_0x24183a(0x132),{'val':_0x1ab471,'ack':!![]});if(_0x261ed4[_0x24183a(0x15c)][_0x24183a(0x14e)]&&_0x44119b)_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x178),{'val':_0x44119b,'ack':!![]});}else{if(_0x261ed4[_0x24183a(0x138)]===_0x24183a(0x137)){if(_0x261ed4[_0x24183a(0x15c)][_0x24183a(0x14e)])try{const _0x49098b=JSON[_0x24183a(0x130)](_0x261ed4[_0x24183a(0x15c)][_0x24183a(0x153)]);if(_0x49098b['insulation'])_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x12a),{'val':JSON[_0x24183a(0x12c)](_0x49098b['insulation']),'ack':!![]});if(_0x49098b['heating'])_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x116),{'val':JSON[_0x24183a(0x12c)](_0x49098b['heating']),'ack':!![]});}catch(_0x54e0f6){}}else{if(_0x261ed4[_0x24183a(0x138)]==='HEALTH_TRAIN_RESULT'){if(_0x261ed4[_0x24183a(0x15c)][_0x24183a(0x14e)])_0x2ca86c[_0x24183a(0x171)][_0x24183a(0x15a)](_0x24183a(0x14f));}else{if(_0x261ed4['type']===_0x24183a(0x165))_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x169),{'val':new Date()[_0x24183a(0x14b)](),'ack':!![]}),_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x152),{'val':_0x261ed4[_0x24183a(0x15c)]['is_anomaly'],'ack':!![]});else{if(_0x261ed4[_0x24183a(0x138)]===_0x24183a(0x133)){const {speed_trend:_0x17667e}=_0x261ed4[_0x24183a(0x15c)];if(_0x17667e!==undefined)_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x13e),{'val':_0x17667e,'ack':!![]});}else{if(_0x261ed4['type']===_0x24183a(0x156)){const {forecast:_0x367827}=_0x261ed4[_0x24183a(0x15c)];if(_0x367827)_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x16b),{'val':JSON[_0x24183a(0x12c)](_0x367827),'ack':!![]});}else{if(_0x261ed4[_0x24183a(0x138)]===_0x24183a(0x141)){const {times:_0x3de21a,sources:_0x19ba62,details:_0x369644}=_0x261ed4[_0x24183a(0x15c)];if(_0x3de21a)_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x170),{'val':JSON[_0x24183a(0x12c)](_0x3de21a),'ack':!![]});if(_0x19ba62)_0x2ca86c[_0x24183a(0x125)]('analysis.energy.warmupSources',{'val':JSON[_0x24183a(0x12c)](_0x19ba62),'ack':!![]});if(_0x369644)_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x11e),{'val':JSON['stringify'](_0x369644),'ack':!![]});}else{if(_0x261ed4[_0x24183a(0x138)]===_0x24183a(0x114)){const {forecast:_0x155eb0}=_0x261ed4[_0x24183a(0x15c)];if(_0x155eb0)_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x143),{'val':JSON[_0x24183a(0x12c)](_0x155eb0),'ack':!![]});}else{if(_0x261ed4['type']===_0x24183a(0x147)){const {alerts:_0x25e4ea}=_0x261ed4['payload'];if(_0x25e4ea)_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x11a),{'val':JSON[_0x24183a(0x12c)](_0x25e4ea),'ack':!![]});}else{if(_0x261ed4[_0x24183a(0x138)]===_0x24183a(0x12e)){const {proposals:_0x2d78bd}=_0x261ed4[_0x24183a(0x15c)];_0x2ca86c[_0x24183a(0x175)](_0x24183a(0x11c),(_0x3976c7,_0x52d6b0)=>{const _0x27febd=_0x24183a;_0x52d6b0&&_0x52d6b0[_0x27febd(0x172)]===!![]&&_0x2d78bd&&_0x2d78bd['length']>0x0&&automation[_0x27febd(0x127)](_0x2ca86c,_0x2d78bd);});}else{if(_0x261ed4[_0x24183a(0x138)]===_0x24183a(0x120)){const {room:_0x477eb0,propagation:_0x5bc60b}=_0x261ed4[_0x24183a(0x15c)];let _0x267ae9=_0x24183a(0x149),_0xf33fb5=0x0;if(_0x5bc60b){const _0x1c1bbe=Object[_0x24183a(0x162)](_0x5bc60b);_0x1c1bbe[_0x24183a(0x161)]>0x0&&(_0x267ae9=_0x1c1bbe[0x0][0x0],_0xf33fb5=_0x1c1bbe[0x0][0x1]);}_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x13c),{'val':_0x267ae9,'ack':!![]}),_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x12d),{'val':_0xf33fb5,'ack':!![]}),automation['handlePrediction'](_0x2ca86c,_0x267ae9,_0xf33fb5);}else{if(_0x261ed4[_0x24183a(0x138)]===_0x24183a(0x164)){const {probabilities:_0x45a50b}=_0x261ed4[_0x24183a(0x15c)];if(_0x45a50b){_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x122),{'val':JSON['stringify'](_0x45a50b),'ack':!![]});const _0x5e5209=Object['keys'](_0x45a50b);if(_0x5e5209[_0x24183a(0x161)]>0x0){const _0x36e944=_0x5e5209[0x0],_0x3d445a=_0x45a50b[_0x36e944];_0x2ca86c[_0x24183a(0x125)]('analysis.prediction.trackerTopRoom',{'val':_0x36e944,'ack':!![]}),_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x145),{'val':_0x3d445a,'ack':!![]});}}}else{if(_0x261ed4[_0x24183a(0x138)]==='COMFORT_RESULT'){const {patterns:_0xac2890}=_0x261ed4['payload'];if(_0xac2890&&_0xac2890[_0x24183a(0x161)]>0x0)_0x2ca86c[_0x24183a(0x125)](_0x24183a(0x131),{'val':JSON['stringify'](_0xac2890),'ack':!![]});}}}}}}}}}}}}}}}}function startService(_0x1a628f,_0x2afbcf){const _0x352f73=a4_0x3a037a;let _0x4b824e='python3';if(fs[_0x352f73(0x158)](_0x2afbcf))_0x4b824e=_0x2afbcf;try{const _0x248029=path[_0x352f73(0x14a)](__dirname,'..',_0x352f73(0x11b),_0x352f73(0x117));pythonProcess=spawn(_0x4b824e,[_0x248029]),pythonProcess[_0x352f73(0x16d)]['on'](_0x352f73(0x136),_0xca59a1=>{const _0x36b7c9=_0x352f73,_0x681a08=_0xca59a1['toString']()[_0x36b7c9(0x159)]('\x0a');_0x681a08[_0x36b7c9(0x12b)](_0x11f3db=>{const _0x2440d8=_0x36b7c9,_0x4b26e7=_0x11f3db[_0x2440d8(0x129)]();if(!_0x4b26e7)return;if(_0x4b26e7[_0x2440d8(0x144)](_0x2440d8(0x15d)))_0x1a628f[_0x2440d8(0x171)][_0x2440d8(0x146)]('[PYTHON]\x20'+_0x4b26e7['substring'](0x5)[_0x2440d8(0x129)]());else{if(_0x4b26e7['startsWith'](_0x2440d8(0x13f)))try{const _0xacaec2=JSON[_0x2440d8(0x130)](_0x4b26e7[_0x2440d8(0x115)](0x8)[_0x2440d8(0x129)]());handleResult(_0x1a628f,_0xacaec2);}catch(_0x25b8fd){}}});}),pythonProcess['on'](_0x352f73(0x16e),_0x2f6df=>{pythonProcess=null;}),_0x1a628f[_0x352f73(0x11d)]=(_0x43415f,_0x1b32c2)=>send(_0x1a628f,_0x43415f,_0x1b32c2);}catch(_0xc83671){_0x1a628f[_0x352f73(0x171)][_0x352f73(0x139)](_0x352f73(0x14c)+_0xc83671['message']);}}function stopService(_0x51cf08){const _0x1800b3=a4_0x3a037a;if(pythonProcess){try{pythonProcess[_0x1800b3(0x150)]();}catch(_0x1a42ad){}pythonProcess=null;}}module[a4_0x3a037a(0x15f)]={'startService':startService,'stopService':stopService,'send':send};