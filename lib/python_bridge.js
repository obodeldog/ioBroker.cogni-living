const a4_0x3bbfbe=a4_0x2b71;(function(_0x152dcc,_0x4dfd4c){const _0x58c610=a4_0x2b71,_0xdada02=_0x152dcc();while(!![]){try{const _0x4f24e5=-parseInt(_0x58c610(0xfa))/0x1+-parseInt(_0x58c610(0xf2))/0x2+parseInt(_0x58c610(0xf3))/0x3*(parseInt(_0x58c610(0xe4))/0x4)+parseInt(_0x58c610(0xf9))/0x5*(parseInt(_0x58c610(0x10b))/0x6)+-parseInt(_0x58c610(0x11f))/0x7+-parseInt(_0x58c610(0xdc))/0x8*(parseInt(_0x58c610(0x12d))/0x9)+parseInt(_0x58c610(0x10a))/0xa;if(_0x4f24e5===_0x4dfd4c)break;else _0xdada02['push'](_0xdada02['shift']());}catch(_0x145dbb){_0xdada02['push'](_0xdada02['shift']());}}}(a4_0x53e4,0xac65f));const a4_0x1844e0=(function(){let _0x585d7b=!![];return function(_0x153b94,_0x14c9a5){const _0x3d534e=_0x585d7b?function(){if(_0x14c9a5){const _0x31b614=_0x14c9a5['apply'](_0x153b94,arguments);return _0x14c9a5=null,_0x31b614;}}:function(){};return _0x585d7b=![],_0x3d534e;};}()),a4_0xcdd1c2=a4_0x1844e0(this,function(){const _0x4381fa=a4_0x2b71;return a4_0xcdd1c2[_0x4381fa(0x123)]()[_0x4381fa(0x12e)](_0x4381fa(0x105))[_0x4381fa(0x123)]()[_0x4381fa(0x110)](a4_0xcdd1c2)[_0x4381fa(0x12e)](_0x4381fa(0x105));});a4_0xcdd1c2();'use strict';const {spawn}=require('child_process'),path=require(a4_0x3bbfbe(0xf5)),fs=require('fs'),setup=require(a4_0x3bbfbe(0xec)),automation=require(a4_0x3bbfbe(0xe8));let pythonProcess=null;function send(_0x343156,_0xf4a81f,_0x170921={}){const _0x1ab074=a4_0x3bbfbe;if(!pythonProcess||!pythonProcess['stdin']['writable'])return;const _0x1cad1f=JSON['stringify']({'command':_0xf4a81f,..._0x170921});try{pythonProcess[_0x1ab074(0x101)][_0x1ab074(0xe1)](_0x1cad1f+'\x0a');}catch(_0x43e767){}}function handleResult(_0x16f91d,_0x1a14d9){const _0xd4cb9e=a4_0x3bbfbe;if(_0x1a14d9[_0xd4cb9e(0xed)]===_0xd4cb9e(0x125))_0x16f91d[_0xd4cb9e(0x10f)][_0xd4cb9e(0xe7)](_0xd4cb9e(0x121));else{if(_0x1a14d9['type']===_0xd4cb9e(0xf6)){const {anomaly_score:_0x5dda1a,is_anomaly:_0x23524d,threshold:_0x468fb3,explanation:_0x109841}=_0x1a14d9[_0xd4cb9e(0x128)];_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0x109),{'val':_0x5dda1a,'ack':!![]}),_0x16f91d[_0xd4cb9e(0x12f)]('analysis.security.lastCheck',{'val':new Date()[_0xd4cb9e(0xda)](),'ack':!![]});if(_0x468fb3)_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0xe2),{'val':_0x468fb3,'ack':!![]});if(_0x23524d){let _0x1aa8e7=_0xd4cb9e(0xf4)+_0x5dda1a[_0xd4cb9e(0x103)](0x4)+')';if(_0x109841&&_0x109841!==_0xd4cb9e(0x116))_0x1aa8e7+=_0xd4cb9e(0xdf)+_0x109841;_0x16f91d['setStateAsync'](_0xd4cb9e(0xd9),{'val':!![],'ack':!![]}),_0x16f91d['setStateAsync'](_0xd4cb9e(0xd6),{'val':_0x1aa8e7,'ack':!![]}),setup[_0xd4cb9e(0xfe)](_0x16f91d,_0xd4cb9e(0xe5)+_0x1aa8e7,![],!![]);}}else{if(_0x1a14d9[_0xd4cb9e(0xed)]===_0xd4cb9e(0x126)){const _0x34d89d=_0x1a14d9['payload'][_0xd4cb9e(0xee)]||'',_0x5e0d53=_0x1a14d9[_0xd4cb9e(0x128)][_0xd4cb9e(0xdb)],_0x37cb0e=_0x1a14d9['payload']['success']?'Success:\x20'+new Date()[_0xd4cb9e(0x12c)]()+'\x20('+_0x34d89d+')':_0xd4cb9e(0x10e)+_0x1a14d9[_0xd4cb9e(0x128)][_0xd4cb9e(0x118)];_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0x11d),{'val':_0x37cb0e,'ack':!![]});if(_0x1a14d9[_0xd4cb9e(0x128)]['success']&&_0x5e0d53)_0x16f91d['setStateAsync'](_0xd4cb9e(0xe2),{'val':_0x5e0d53,'ack':!![]});}else{if(_0x1a14d9['type']===_0xd4cb9e(0x117)){if(_0x1a14d9[_0xd4cb9e(0x128)][_0xd4cb9e(0xf0)])try{const _0x5b9510=JSON[_0xd4cb9e(0x12b)](_0x1a14d9['payload'][_0xd4cb9e(0xee)]);if(_0x5b9510[_0xd4cb9e(0xef)])_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0x10c),{'val':JSON[_0xd4cb9e(0x119)](_0x5b9510[_0xd4cb9e(0xef)]),'ack':!![]});if(_0x5b9510['heating'])_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0x106),{'val':JSON[_0xd4cb9e(0x119)](_0x5b9510[_0xd4cb9e(0xfd)]),'ack':!![]});}catch(_0x4cab47){}}else{if(_0x1a14d9[_0xd4cb9e(0xed)]===_0xd4cb9e(0xea)){if(_0x1a14d9[_0xd4cb9e(0x128)]['success'])_0x16f91d[_0xd4cb9e(0x10f)]['info'](_0xd4cb9e(0xeb));}else{if(_0x1a14d9[_0xd4cb9e(0xed)]===_0xd4cb9e(0x11b))_0x16f91d[_0xd4cb9e(0x12f)]('analysis.health.lastCheck',{'val':new Date()['toISOString'](),'ack':!![]}),_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0x124),{'val':_0x1a14d9[_0xd4cb9e(0x128)][_0xd4cb9e(0x108)],'ack':!![]});else{if(_0x1a14d9['type']===_0xd4cb9e(0x10d)){const {speed_trend:_0x41f178}=_0x1a14d9[_0xd4cb9e(0x128)];if(_0x41f178!==undefined)_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0x11a),{'val':_0x41f178,'ack':!![]});}else{if(_0x1a14d9[_0xd4cb9e(0xed)]===_0xd4cb9e(0x112)){const {forecast:_0x28d114}=_0x1a14d9[_0xd4cb9e(0x128)];if(_0x28d114)_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0xd8),{'val':JSON['stringify'](_0x28d114),'ack':!![]});}else{if(_0x1a14d9[_0xd4cb9e(0xed)]===_0xd4cb9e(0xe6)){const {times:_0x4b0b6a}=_0x1a14d9[_0xd4cb9e(0x128)];if(_0x4b0b6a)_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0xde),{'val':JSON[_0xd4cb9e(0x119)](_0x4b0b6a),'ack':!![]});}else{if(_0x1a14d9[_0xd4cb9e(0xed)]===_0xd4cb9e(0x107)){const {forecast:_0x32fced}=_0x1a14d9['payload'];if(_0x32fced)_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0x113),{'val':JSON['stringify'](_0x32fced),'ack':!![]});}else{if(_0x1a14d9[_0xd4cb9e(0xed)]===_0xd4cb9e(0xd3)){const {alerts:_0x418aeb}=_0x1a14d9[_0xd4cb9e(0x128)];if(_0x418aeb)_0x16f91d[_0xd4cb9e(0x12f)]('analysis.energy.ventilationAlerts',{'val':JSON['stringify'](_0x418aeb),'ack':!![]});}else{if(_0x1a14d9['type']==='ENERGY_OPTIMIZE_RESULT'){const {proposals:_0x391033}=_0x1a14d9[_0xd4cb9e(0x128)];_0x16f91d[_0xd4cb9e(0xe3)](_0xd4cb9e(0x131),(_0x531815,_0x183b1b)=>{const _0x18ef39=_0xd4cb9e;_0x183b1b&&_0x183b1b['val']===!![]&&_0x391033&&_0x391033[_0x18ef39(0xd7)]>0x0&&automation['applyEnergySavings'](_0x16f91d,_0x391033);});}else{if(_0x1a14d9['type']===_0xd4cb9e(0x11c)){const {room:_0x5be9e,propagation:_0x21bd8f}=_0x1a14d9[_0xd4cb9e(0x128)];let _0x366ae6='Unknown',_0x21ec83=0x0;if(_0x21bd8f){const _0x2628a0=Object[_0xd4cb9e(0xdd)](_0x21bd8f);_0x2628a0['length']>0x0&&(_0x366ae6=_0x2628a0[0x0][0x0],_0x21ec83=_0x2628a0[0x0][0x1]);}_0x16f91d['setStateAsync']('analysis.prediction.nextRoom',{'val':_0x366ae6,'ack':!![]}),_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0x11e),{'val':_0x21ec83,'ack':!![]}),automation['handlePrediction'](_0x16f91d,_0x366ae6,_0x21ec83);}else{if(_0x1a14d9[_0xd4cb9e(0xed)]==='TRACKER_RESULT'){const {probabilities:_0x457e85}=_0x1a14d9['payload'];if(_0x457e85){_0x16f91d[_0xd4cb9e(0x12f)](_0xd4cb9e(0xd1),{'val':JSON[_0xd4cb9e(0x119)](_0x457e85),'ack':!![]});const _0x1242a5=Object[_0xd4cb9e(0xf7)](_0x457e85);if(_0x1242a5[_0xd4cb9e(0xd7)]>0x0){const _0x23c9a0=_0x1242a5[0x0],_0x4c024c=_0x457e85[_0x23c9a0];_0x16f91d[_0xd4cb9e(0x12f)]('analysis.prediction.trackerTopRoom',{'val':_0x23c9a0,'ack':!![]}),_0x16f91d['setStateAsync'](_0xd4cb9e(0x104),{'val':_0x4c024c,'ack':!![]});}}}else{if(_0x1a14d9[_0xd4cb9e(0xed)]===_0xd4cb9e(0xf8)){const {patterns:_0x515362}=_0x1a14d9[_0xd4cb9e(0x128)];if(_0x515362&&_0x515362[_0xd4cb9e(0xd7)]>0x0)_0x16f91d['setStateAsync'](_0xd4cb9e(0x114),{'val':JSON['stringify'](_0x515362),'ack':!![]});}}}}}}}}}}}}}}}}function a4_0x2b71(_0x54071a,_0x11a130){const _0x3f62ce=a4_0x53e4();return a4_0x2b71=function(_0xcdd1c2,_0x1844e0){_0xcdd1c2=_0xcdd1c2-0xd1;let _0x53e49c=_0x3f62ce[_0xcdd1c2];return _0x53e49c;},a4_0x2b71(_0x54071a,_0x11a130);}function a4_0x53e4(){const _0x3139f1=['stringify','analysis.health.gaitSpeed','HEALTH_RESULT','SIGNAL_RESULT','analysis.training.status','analysis.prediction.confidence','4170180qILwQg','Error\x20launching\x20Python:\x20','ðŸ\x20Python\x20Pong','forEach','toString','analysis.health.isAnomaly','PONG','TRAINING_COMPLETE','existsSync','payload','python_service','close','parse','toLocaleTimeString','9bNpevX','search','setStateAsync','trim','analysis.energy.mpcActive','analysis.prediction.trackerState','kill','VENTILATION_ALERT','error','[RESULT]','analysis.alertReason','length','analysis.energy.forecast','analysis.isAlert','toISOString','threshold','7838192BHTGdm','entries','analysis.energy.warmupTimes','\x0aGrund:\x20','exports','write','analysis.security.currentThreshold','getState','3984844qSCxBi','âš ï¸\x20SECURITY\x20ALARM:\x20','WARMUP_RESULT','debug','./automation','stdout','HEALTH_TRAIN_RESULT','âœ…\x20HEALTH\x20TRAINED.','./setup','type','details','insulation','success','split','1863262yblypW','3hTMXjn','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','path','SECURITY_RESULT','keys','COMFORT_RESULT','16645zrxAvE','527395ehiniJ','substring','python3','heating','sendNotification','startsWith','join','stdin','[LOG]','toFixed','analysis.prediction.trackerConfidence','(((.+)+)+)+$','analysis.energy.heatingScore','PINN_PREDICT_RESULT','is_anomaly','analysis.security.lastScore','19421830ZLdXGQ','1446NQZPOR','analysis.energy.insulationScore','GAIT_RESULT','Failed:\x20','log','constructor','[PYTHON]\x20','ENERGY_PREDICT_RESULT','analysis.energy.pinnForecast','analysis.automation.detectedPatterns','service.py','Unknown','ENERGY_TRAIN_RESULT','reason'];a4_0x53e4=function(){return _0x3139f1;};return a4_0x53e4();}function startService(_0x156b2d,_0x2116db){const _0x2e38b2=a4_0x3bbfbe;let _0x4eb4af=_0x2e38b2(0xfc);if(fs[_0x2e38b2(0x127)](_0x2116db))_0x4eb4af=_0x2116db;try{const _0x4488da=path[_0x2e38b2(0x100)](__dirname,'..',_0x2e38b2(0x129),_0x2e38b2(0x115));pythonProcess=spawn(_0x4eb4af,[_0x4488da]),pythonProcess[_0x2e38b2(0xe9)]['on']('data',_0x59f16f=>{const _0x421af7=_0x2e38b2,_0x27e585=_0x59f16f[_0x421af7(0x123)]()[_0x421af7(0xf1)]('\x0a');_0x27e585[_0x421af7(0x122)](_0x47ef58=>{const _0x21ac8f=_0x421af7,_0x3d9a01=_0x47ef58[_0x21ac8f(0x130)]();if(!_0x3d9a01)return;if(_0x3d9a01[_0x21ac8f(0xff)](_0x21ac8f(0x102)))_0x156b2d[_0x21ac8f(0x10f)][_0x21ac8f(0xe7)](_0x21ac8f(0x111)+_0x3d9a01[_0x21ac8f(0xfb)](0x5)[_0x21ac8f(0x130)]());else{if(_0x3d9a01[_0x21ac8f(0xff)](_0x21ac8f(0xd5)))try{const _0x5a13af=JSON[_0x21ac8f(0x12b)](_0x3d9a01[_0x21ac8f(0xfb)](0x8)['trim']());handleResult(_0x156b2d,_0x5a13af);}catch(_0x3ba8db){}}});}),pythonProcess['on'](_0x2e38b2(0x12a),_0x2d8e9e=>{pythonProcess=null;}),_0x156b2d['sendToPythonWrapper']=(_0x593829,_0x5e688a)=>send(_0x156b2d,_0x593829,_0x5e688a);}catch(_0x377ebd){_0x156b2d[_0x2e38b2(0x10f)][_0x2e38b2(0xd4)](_0x2e38b2(0x120)+_0x377ebd['message']);}}function stopService(_0x1bd517){const _0x3cfbaa=a4_0x3bbfbe;if(pythonProcess){try{pythonProcess[_0x3cfbaa(0xd2)]();}catch(_0x551e77){}pythonProcess=null;}}module[a4_0x3bbfbe(0xe0)]={'startService':startService,'stopService':stopService,'send':send};