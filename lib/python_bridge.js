const a4_0x5b676c=a4_0x1598;(function(_0x561460,_0x21ebeb){const _0x3b6512=a4_0x1598,_0x4ed31b=_0x561460();while(!![]){try{const _0x34bc01=-parseInt(_0x3b6512(0xbd))/0x1*(-parseInt(_0x3b6512(0xb9))/0x2)+-parseInt(_0x3b6512(0x122))/0x3+-parseInt(_0x3b6512(0xc5))/0x4*(parseInt(_0x3b6512(0xf7))/0x5)+-parseInt(_0x3b6512(0x96))/0x6*(-parseInt(_0x3b6512(0xed))/0x7)+-parseInt(_0x3b6512(0x10a))/0x8+parseInt(_0x3b6512(0xd9))/0x9+-parseInt(_0x3b6512(0x117))/0xa*(parseInt(_0x3b6512(0x9c))/0xb);if(_0x34bc01===_0x21ebeb)break;else _0x4ed31b['push'](_0x4ed31b['shift']());}catch(_0x282a52){_0x4ed31b['push'](_0x4ed31b['shift']());}}}(a4_0xfbfb,0x9fb87));const a4_0x2a82a6=(function(){let _0x142c42=!![];return function(_0xccbd18,_0x415ade){const _0x72c9e6=_0x142c42?function(){const _0x1a8fe5=a4_0x1598;if(_0x415ade){const _0x21b21f=_0x415ade[_0x1a8fe5(0xe1)](_0xccbd18,arguments);return _0x415ade=null,_0x21b21f;}}:function(){};return _0x142c42=![],_0x72c9e6;};}()),a4_0x453db7=a4_0x2a82a6(this,function(){const _0x26ebf0=a4_0x1598;return a4_0x453db7[_0x26ebf0(0xf8)]()[_0x26ebf0(0xf3)](_0x26ebf0(0xe5))[_0x26ebf0(0xf8)]()[_0x26ebf0(0xf4)](a4_0x453db7)[_0x26ebf0(0xf3)](_0x26ebf0(0xe5));});a4_0x453db7();'use strict';const {spawn}=require(a4_0x5b676c(0x111)),path=require('path'),fs=require('fs'),setup=require(a4_0x5b676c(0x106)),automation=require('./automation');let pythonProcess=null,pendingCallbacks=new Map();function send(_0x83e0b2,_0x575eb1,_0x4ab5a8={},_0x23c2e1=null){const _0x4a6a13=a4_0x5b676c;if(!pythonProcess||!pythonProcess[_0x4a6a13(0xa4)][_0x4a6a13(0x9a)])return;if(_0x575eb1===_0x4a6a13(0xa6)){const _0x4466fb=JSON[_0x4a6a13(0x120)](JSON['stringify'](_0x4ab5a8));_0x4466fb[_0x4a6a13(0xa0)]&&Array[_0x4a6a13(0xd4)](_0x4466fb[_0x4a6a13(0xa0)])&&(_0x4466fb['rooms']=_0x4466fb[_0x4a6a13(0xa0)][_0x4a6a13(0xde)](_0x117a89=>setup['normalizeRoomId'](_0x117a89)),_0x83e0b2[_0x4a6a13(0xeb)][_0x4a6a13(0x116)]('[Bridge-Debug]\x20Setting\x20Topology\x20Rooms\x20(Sample):\x20'+_0x4466fb['rooms'][_0x4a6a13(0xda)](0x0,0x3)[_0x4a6a13(0x121)](',\x20')+_0x4a6a13(0x9b))),_0x4466fb[_0x4a6a13(0x107)]&&Array['isArray'](_0x4466fb[_0x4a6a13(0x107)])&&(_0x4466fb[_0x4a6a13(0x107)]=_0x4466fb[_0x4a6a13(0x107)]['map'](_0x5ad8a3=>setup[_0x4a6a13(0x103)](_0x5ad8a3))),_0x4ab5a8=_0x4466fb;}if((_0x575eb1==='TRAIN_TOPOLOGY'||_0x575eb1===_0x4a6a13(0xc9))&&_0x4ab5a8[_0x4a6a13(0xe7)]){if(Array[_0x4a6a13(0xd4)](_0x4ab5a8[_0x4a6a13(0xe7)]))try{_0x4ab5a8[_0x4a6a13(0xe7)][_0x4a6a13(0xb7)]>0x0&&_0x83e0b2[_0x4a6a13(0xeb)][_0x4a6a13(0xe0)]('[Bridge-Debug]\x20Raw\x20Sequence\x20[0]:\x20'+JSON[_0x4a6a13(0xc4)](_0x4ab5a8['sequences'][0x0])[_0x4a6a13(0xd1)](0x0,0x64)+'...'),_0x4ab5a8['sequences']=_0x4ab5a8['sequences'][_0x4a6a13(0xde)](_0xf84a59=>{const _0x45581b=_0x4a6a13;if(_0xf84a59&&_0xf84a59['steps']&&Array[_0x45581b(0xd4)](_0xf84a59['steps']))return _0xf84a59[_0x45581b(0xcf)]['map'](_0x32d4c8=>{const _0x2e1ec8=_0x45581b,_0x5df9f1=_0x32d4c8[_0x2e1ec8(0xaf)]||_0x32d4c8[_0x2e1ec8(0xec)]||_0x32d4c8;return setup[_0x2e1ec8(0x103)](_0x5df9f1);});else{if(Array[_0x45581b(0xd4)](_0xf84a59))return _0xf84a59[_0x45581b(0xde)](_0x25d7f5=>setup[_0x45581b(0x103)](_0x25d7f5));}return[];}),_0x4ab5a8[_0x4a6a13(0xe7)][_0x4a6a13(0xb7)]>0x0&&_0x83e0b2[_0x4a6a13(0xeb)]['info'](_0x4a6a13(0xc1)+JSON[_0x4a6a13(0xc4)](_0x4ab5a8[_0x4a6a13(0xe7)][0x0]));}catch(_0x46ad09){_0x83e0b2[_0x4a6a13(0xeb)][_0x4a6a13(0x11b)](_0x4a6a13(0xc2)+_0x46ad09[_0x4a6a13(0x99)]),_0x4ab5a8['sequences']=[];}else _0x4ab5a8[_0x4a6a13(0xe7)]=[];}_0x4ab5a8['room']&&typeof _0x4ab5a8[_0x4a6a13(0xcc)]===_0x4a6a13(0xd7)&&(_0x4ab5a8['room']=setup[_0x4a6a13(0x103)](_0x4ab5a8['room']));if(_0x4ab5a8['current_temps']&&typeof _0x4ab5a8['current_temps']===_0x4a6a13(0x102)){const _0x3e2ad4={};for(const [_0x2c780c,_0x16ec46]of Object[_0x4a6a13(0x10e)](_0x4ab5a8[_0x4a6a13(0xe2)]))_0x3e2ad4[setup['normalizeRoomId'](_0x2c780c)]=_0x16ec46;_0x4ab5a8[_0x4a6a13(0xe2)]=_0x3e2ad4;}if(_0x4ab5a8['warmup_targets']&&typeof _0x4ab5a8['warmup_targets']===_0x4a6a13(0x102)){const _0x13556c={};for(const [_0xcad755,_0xcfebcb]of Object[_0x4a6a13(0x10e)](_0x4ab5a8[_0x4a6a13(0xf0)]))_0x13556c[setup['normalizeRoomId'](_0xcad755)]=_0xcfebcb;_0x4ab5a8[_0x4a6a13(0xf0)]=_0x13556c;}if(_0x4ab5a8['targets']&&typeof _0x4ab5a8[_0x4a6a13(0x98)]===_0x4a6a13(0x102)){const _0x376445={};for(const [_0x424101,_0x5d0e31]of Object[_0x4a6a13(0x10e)](_0x4ab5a8[_0x4a6a13(0x98)]))_0x376445[setup[_0x4a6a13(0x103)](_0x424101)]=_0x5d0e31;_0x4ab5a8[_0x4a6a13(0x98)]=_0x376445;}_0x575eb1===_0x4a6a13(0x11a)&&_0x4ab5a8[_0x4a6a13(0x108)]&&Array[_0x4a6a13(0xd4)](_0x4ab5a8[_0x4a6a13(0x108)])&&_0x4ab5a8[_0x4a6a13(0x108)][_0x4a6a13(0x95)](_0x5de229=>{const _0x5d95ce=_0x4a6a13;if(_0x5de229&&_0x5de229['room'])_0x5de229['room']=setup['normalizeRoomId'](_0x5de229[_0x5d95ce(0xcc)]);});const _0x59f265=JSON[_0x4a6a13(0xc4)]({'command':_0x575eb1,..._0x4ab5a8});try{pythonProcess[_0x4a6a13(0xa4)][_0x4a6a13(0xa5)](_0x59f265+'\x0a'),_0x23c2e1&&(pendingCallbacks[_0x4a6a13(0xf1)](_0x575eb1,_0x23c2e1),setTimeout(()=>{const _0x35fc88=_0x4a6a13;pendingCallbacks[_0x35fc88(0x11c)](_0x575eb1)&&(pendingCallbacks[_0x35fc88(0xfe)](_0x575eb1),_0x83e0b2[_0x35fc88(0xeb)][_0x35fc88(0x11b)](_0x35fc88(0xfb)+_0x575eb1));},0x2710));}catch(_0x23e23c){}}function a4_0xfbfb(){const _0x406e06=['room','UserWarning','SECURITY_RESULT','steps','\x20Rooms)','substring','analysis.isAlert','heating','isArray','speed_trend','WARMUP_RESULT','string','close','9526212pmOTtz','slice','Error\x20launching\x20Python:\x20','ENERGY_OPTIMIZE_RESULT','HEALTH_RESULT','map','analysis.energy.insulationScore','debug','apply','current_temps','ðŸ\x20Python\x20Pong','HEALTH_TREND_RESULT','(((.+)+)+)+$','python3','sequences','GAIT_RESULT','COMFORT_RESULT','data','log','location','4697hNKpIQ','[LOG]','âŒ\x20CRITICAL:\x20\x27service.py\x27\x20not\x20found!','warmup_targets','set','stderr','search','constructor','analysis.health.gaitDebug','analysis.health.activityTrend','1495fLULTO','toString','sendToPythonWrapper','matrix','[PythonBridge]\x20Timeout\x20for\x20command:\x20','stdout','analysis.prediction.trackerState','delete','proof','analysis.security.lastScore','analysis.prediction.trackerTopRoom','object','normalizeRoomId','sensors','PONG','./setup','monitored','points','analysis.security.topologyMatrix','8200488vWcwtr','error','python_service','[PYTHON\x20ERR]\x20','entries','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','analysis.prediction.confidence','child_process','toLocaleTimeString','ENERGY_PREDICT_RESULT','analysis.energy.rlPenalties','setStateAsync','info','23610gjiBKL','sources','ENERGY_TRAIN_RESULT','TRAIN_ENERGY','warn','has','keys','analysis.energy.pinnForecast','analysis.automation.detectedPatterns','parse','join','1796643HQeKzC','âœ…\x20HEALTH\x20TRAINED.','applyEnergySavings','times','alerts','Failed:\x20','analysis.alertReason','is_anomaly','trim','insulation','analysis.prediction.trackerConfidence','ðŸš€\x20Starting\x20Python\x20Bridge\x20using:\x20','toFixed','sendNotification','forEach','7506CPLTpm','analysis.training.status','targets','message','writable','...','638PJwlRf','_RESULT','TRAINING_COMPLETE','startsWith','rooms','ðŸ“ˆ\x20Health\x20Trend:\x20','Unknown','analysis.health.lastCheck','stdin','write','SET_TOPOLOGY','analysis.prediction.nextRoom','FutureWarning','SIGNAL_RESULT','analysis.energy.ventilationAlerts','analysis.security.lastCheck','type','success','analysis.security.currentThreshold','loc','GRAPH_TRAINED','kill','patterns','payload','Success:\x20','getState','threshold','length','exports','34qzIwYc','Python\x20process\x20exited\x20with\x20code\x20','reason','replace','71211sMZiBz','includes','service.py','trend_percent','[Bridge-Debug]\x20Normalized\x20Sequence\x20[0]\x20(Unpacked):\x20','Gateway\x20Unpack\x20Error:\x20','forecast','stringify','9276cbFjmM','penalties','HEALTH_TRAIN_RESULT','details','TRAIN_SECURITY','âš ï¸\x20SECURITY\x20ALARM:\x20','[PYTHON\x20WARN]\x20'];a4_0xfbfb=function(){return _0x406e06;};return a4_0xfbfb();}function a4_0x1598(_0x4579e4,_0x10049e){const _0x4da968=a4_0xfbfb();return a4_0x1598=function(_0x453db7,_0x2a82a6){_0x453db7=_0x453db7-0x95;let _0xfbfb46=_0x4da968[_0x453db7];return _0xfbfb46;},a4_0x1598(_0x4579e4,_0x10049e);}function handleResult(_0x117a5a,_0x50e032){const _0x1cb3c5=a4_0x5b676c;for(const [_0x4d8e91,_0x4e36e1]of pendingCallbacks[_0x1cb3c5(0x10e)]()){const _0x34987b=_0x4d8e91[_0x1cb3c5(0xbc)]('ANALYZE_','')+_0x1cb3c5(0x9d);if(_0x50e032[_0x1cb3c5(0xac)]===_0x34987b||_0x50e032[_0x1cb3c5(0xac)]===_0x4d8e91+_0x1cb3c5(0x9d)){pendingCallbacks[_0x1cb3c5(0xfe)](_0x4d8e91),_0x117a5a['log']['debug']('[PythonBridge]\x20Callback\x20matched:\x20'+_0x4d8e91+'\x20â†’\x20'+_0x50e032[_0x1cb3c5(0xac)]),_0x4e36e1(_0x50e032);return;}}if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0x105))_0x117a5a[_0x1cb3c5(0xeb)][_0x1cb3c5(0xe0)](_0x1cb3c5(0xe3));else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0xce)){const {anomaly_score:_0xf3bd72,is_anomaly:_0xfc1c61,threshold:_0x461cab,explanation:_0x56ba76}=_0x50e032['payload'];_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0x100),{'val':_0xf3bd72,'ack':!![]}),_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0xab),{'val':new Date()['toISOString'](),'ack':!![]});if(_0x461cab)_0x117a5a['setStateAsync'](_0x1cb3c5(0xae),{'val':_0x461cab,'ack':!![]});if(_0xfc1c61){let _0x1ea41e=_0x1cb3c5(0x10f)+_0xf3bd72[_0x1cb3c5(0x12e)](0x4)+')';if(_0x56ba76&&_0x56ba76!==_0x1cb3c5(0xa2))_0x1ea41e+='\x0aGrund:\x20'+_0x56ba76;_0x117a5a['setStateAsync'](_0x1cb3c5(0xd2),{'val':!![],'ack':!![]}),_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0x128),{'val':_0x1ea41e,'ack':!![]}),setup[_0x1cb3c5(0x12f)](_0x117a5a,_0x1cb3c5(0xca)+_0x1ea41e,![],!![]);}}else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0x9e)){const _0x262873=_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xc8)]||'',_0x3c62b8=_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xb6)],_0x58df0a=_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xad)]?_0x1cb3c5(0xb4)+new Date()[_0x1cb3c5(0x112)]()+'\x20('+_0x262873+')':_0x1cb3c5(0x127)+_0x50e032['payload'][_0x1cb3c5(0xbb)];_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0x97),{'val':_0x58df0a,'ack':!![]});if(_0x50e032['payload'][_0x1cb3c5(0xad)]&&_0x3c62b8)_0x117a5a['setStateAsync'](_0x1cb3c5(0xae),{'val':_0x3c62b8,'ack':!![]});}else{if(_0x50e032['type']===_0x1cb3c5(0xb0)){const _0xfd966e='Graph\x20Updated\x20('+_0x50e032[_0x1cb3c5(0xb3)]['rooms'][_0x1cb3c5(0xb7)]+_0x1cb3c5(0xd0);_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0x97),{'val':_0xfd966e,'ack':!![]}),_0x50e032['payload'][_0x1cb3c5(0xfa)]&&_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xa0)]&&_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0x109),{'val':JSON['stringify'](_0x50e032[_0x1cb3c5(0xb3)]),'ack':!![]});}else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0x119)){if(_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xad)])try{const _0x218ae5=JSON['parse'](_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xc8)]);if(_0x218ae5[_0x1cb3c5(0x12b)])_0x117a5a['setStateAsync'](_0x1cb3c5(0xdf),{'val':JSON[_0x1cb3c5(0xc4)](_0x218ae5[_0x1cb3c5(0x12b)]),'ack':!![]});if(_0x218ae5[_0x1cb3c5(0xd3)])_0x117a5a['setStateAsync']('analysis.energy.heatingScore',{'val':JSON[_0x1cb3c5(0xc4)](_0x218ae5[_0x1cb3c5(0xd3)]),'ack':!![]});}catch(_0x1f6dcc){}}else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0xc7))_0x117a5a[_0x1cb3c5(0xeb)]['info'](_0x1cb3c5(0x123)),_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0xa3),{'val':new Date()['toLocaleDateString'](),'ack':!![]});else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0xdd))_0x117a5a[_0x1cb3c5(0x115)]('analysis.health.isAnomaly',{'val':_0x50e032['payload'][_0x1cb3c5(0x129)],'ack':!![]});else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0xe4))_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0xf6),{'val':_0x50e032['payload'][_0x1cb3c5(0xc0)],'ack':!![]}),_0x117a5a['log'][_0x1cb3c5(0x116)](_0x1cb3c5(0xa1)+_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xc8)]);else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0xe8)){if(_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xd5)]!==undefined)_0x117a5a[_0x1cb3c5(0x115)]('analysis.health.gaitSpeed',{'val':_0x50e032[_0x1cb3c5(0xb3)]['speed_trend'],'ack':!![]});if(_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0x104)])_0x117a5a[_0x1cb3c5(0x115)]('analysis.health.gaitSensors',{'val':_0x50e032[_0x1cb3c5(0xb3)]['sensors']['join'](',\x20'),'ack':!![]});if(_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xff)])_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0xf5),{'val':_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xff)],'ack':!![]});}else{if(_0x50e032['type']===_0x1cb3c5(0x113)){if(_0x50e032[_0x1cb3c5(0xb3)]['forecast'])_0x117a5a['setStateAsync']('analysis.energy.forecast',{'val':JSON[_0x1cb3c5(0xc4)](_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xc3)]),'ack':!![]});}else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0xd6)){if(_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0x125)])_0x117a5a[_0x1cb3c5(0x115)]('analysis.energy.warmupTimes',{'val':JSON['stringify'](_0x50e032['payload'][_0x1cb3c5(0x125)]),'ack':!![]});if(_0x50e032[_0x1cb3c5(0xb3)]['sources'])_0x117a5a[_0x1cb3c5(0x115)]('analysis.energy.warmupSources',{'val':JSON[_0x1cb3c5(0xc4)](_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0x118)]),'ack':!![]});if(_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xc8)])_0x117a5a[_0x1cb3c5(0x115)]('analysis.energy.warmupDetails',{'val':JSON['stringify'](_0x50e032['payload']['details']),'ack':!![]});}else{if(_0x50e032[_0x1cb3c5(0xac)]==='RL_PENALTY_UPDATE'){if(_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xc6)])_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0x114),{'val':JSON['stringify'](_0x50e032[_0x1cb3c5(0xb3)]['penalties']),'ack':!![]});}else{if(_0x50e032[_0x1cb3c5(0xac)]==='PINN_PREDICT_RESULT'){if(_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xc3)])_0x117a5a['setStateAsync'](_0x1cb3c5(0x11e),{'val':JSON['stringify'](_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xc3)]),'ack':!![]});}else{if(_0x50e032['type']==='VENTILATION_ALERT'){if(_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0x126)])_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0xaa),{'val':JSON[_0x1cb3c5(0xc4)](_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0x126)]),'ack':!![]});}else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0xdc)){const {proposals:_0x48ddc9}=_0x50e032[_0x1cb3c5(0xb3)];_0x117a5a[_0x1cb3c5(0xb5)]('analysis.energy.mpcActive',(_0x549739,_0x24c91a)=>{const _0x42db34=_0x1cb3c5;if(_0x24c91a&&_0x24c91a['val']===!![]&&_0x48ddc9&&_0x48ddc9['length']>0x0)automation[_0x42db34(0x124)](_0x117a5a,_0x48ddc9);});}else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0xa9)){const {propagation:_0x219444}=_0x50e032[_0x1cb3c5(0xb3)];let _0x230ddf='Unknown',_0x2a804e=0x0;if(_0x219444){const _0x2d99f0=Object['entries'](_0x219444);_0x2d99f0[_0x1cb3c5(0xb7)]>0x0&&(_0x230ddf=_0x2d99f0[0x0][0x0],_0x2a804e=_0x2d99f0[0x0][0x1]);}_0x117a5a['setStateAsync'](_0x1cb3c5(0xa7),{'val':_0x230ddf,'ack':!![]}),_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0x110),{'val':_0x2a804e,'ack':!![]}),automation['handlePrediction'](_0x117a5a,_0x230ddf,_0x2a804e);}else{if(_0x50e032['type']==='TRACKER_RESULT'){const {probabilities:_0x4f40e0}=_0x50e032[_0x1cb3c5(0xb3)];if(_0x4f40e0){_0x117a5a['setStateAsync'](_0x1cb3c5(0xfd),{'val':JSON['stringify'](_0x4f40e0),'ack':!![]});const _0x4cbae9=Object[_0x1cb3c5(0x11d)](_0x4f40e0);_0x4cbae9['length']>0x0&&(_0x117a5a['setStateAsync'](_0x1cb3c5(0x101),{'val':_0x4cbae9[0x0],'ack':!![]}),_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0x12c),{'val':_0x4f40e0[_0x4cbae9[0x0]],'ack':!![]}));}}else{if(_0x50e032[_0x1cb3c5(0xac)]===_0x1cb3c5(0xe9)){if(_0x50e032['payload'][_0x1cb3c5(0xb2)])_0x117a5a[_0x1cb3c5(0x115)](_0x1cb3c5(0x11f),{'val':JSON[_0x1cb3c5(0xc4)](_0x50e032[_0x1cb3c5(0xb3)][_0x1cb3c5(0xb2)]),'ack':!![]});}}}}}}}}}}}}}}}}}}}function startService(_0x2da843,_0xf610e3){const _0x98d49e=a4_0x5b676c;let _0x2f3ec1=_0x98d49e(0xe6);if(fs['existsSync'](_0xf610e3))_0x2f3ec1=_0xf610e3;const _0x19109c=path['join'](__dirname,'..',_0x98d49e(0xbf)),_0x5e291e=path[_0x98d49e(0x121)](__dirname,'..',_0x98d49e(0x10c),'service.py');let _0x3ab7cc=fs['existsSync'](_0x19109c)?_0x19109c:fs['existsSync'](_0x5e291e)?_0x5e291e:null;if(!_0x3ab7cc){_0x2da843[_0x98d49e(0xeb)][_0x98d49e(0x10b)](_0x98d49e(0xef));return;}try{_0x2da843[_0x98d49e(0xeb)][_0x98d49e(0x116)](_0x98d49e(0x12d)+_0x2f3ec1+'\x20'+_0x3ab7cc),pythonProcess=spawn(_0x2f3ec1,[_0x3ab7cc]),pythonProcess[_0x98d49e(0xfc)]['on'](_0x98d49e(0xea),_0x13c9ef=>{const _0x228a9=_0x98d49e,_0x1eade8=_0x13c9ef[_0x228a9(0xf8)]()['split']('\x0a');_0x1eade8[_0x228a9(0x95)](_0x28fc21=>{const _0x3c437a=_0x228a9,_0x2abd15=_0x28fc21['trim']();if(!_0x2abd15)return;if(_0x2abd15[_0x3c437a(0x9f)](_0x3c437a(0xee)))_0x2da843[_0x3c437a(0xeb)][_0x3c437a(0xe0)]('[PYTHON]\x20'+_0x2abd15['substring'](0x5)[_0x3c437a(0x12a)]());else{if(_0x2abd15[_0x3c437a(0x9f)]('[RESULT]'))try{const _0x42d14=JSON[_0x3c437a(0x120)](_0x2abd15['substring'](0x8)[_0x3c437a(0x12a)]());handleResult(_0x2da843,_0x42d14);}catch(_0x1999e4){}}});}),pythonProcess[_0x98d49e(0xf2)]['on'](_0x98d49e(0xea),_0x3f13a1=>{const _0xd45735=_0x98d49e,_0x3d7527=_0x3f13a1[_0xd45735(0xf8)]()[_0xd45735(0x12a)]();if(!_0x3d7527)return;_0x3d7527[_0xd45735(0xbe)](_0xd45735(0xa8))||_0x3d7527[_0xd45735(0xbe)](_0xd45735(0xcd))||_0x3d7527[_0xd45735(0xbe)]('DeprecationWarning')?_0x2da843[_0xd45735(0xeb)]['warn'](_0xd45735(0xcb)+_0x3d7527):_0x2da843[_0xd45735(0xeb)][_0xd45735(0x10b)](_0xd45735(0x10d)+_0x3d7527);}),pythonProcess['on'](_0x98d49e(0xd8),_0xdc864a=>{const _0x4cbe97=_0x98d49e;_0x2da843[_0x4cbe97(0xeb)][_0x4cbe97(0x11b)](_0x4cbe97(0xba)+_0xdc864a),pythonProcess=null;}),_0x2da843[_0x98d49e(0xf9)]=(_0x1e29c0,_0x4c910f)=>send(_0x2da843,_0x1e29c0,_0x4c910f);}catch(_0x2b8316){_0x2da843['log'][_0x98d49e(0x10b)](_0x98d49e(0xdb)+_0x2b8316['message']);}}function stopService(_0x3aa14e){const _0x15bdc9=a4_0x5b676c;if(pythonProcess){try{pythonProcess[_0x15bdc9(0xb1)]();}catch(_0x1661ae){}pythonProcess=null;}}module[a4_0x5b676c(0xb8)]={'startService':startService,'stopService':stopService,'send':send};