const a4_0x3360fb=a4_0x2ba0;(function(_0x3ef83e,_0x301bf4){const _0x36c807=a4_0x2ba0,_0x416bb3=_0x3ef83e();while(!![]){try{const _0x444d70=parseInt(_0x36c807(0xc4))/0x1*(parseInt(_0x36c807(0xab))/0x2)+parseInt(_0x36c807(0xd2))/0x3+parseInt(_0x36c807(0xe1))/0x4*(-parseInt(_0x36c807(0xae))/0x5)+-parseInt(_0x36c807(0xc0))/0x6*(-parseInt(_0x36c807(0x116))/0x7)+-parseInt(_0x36c807(0xfa))/0x8+parseInt(_0x36c807(0x10c))/0x9*(parseInt(_0x36c807(0xd7))/0xa)+-parseInt(_0x36c807(0xe5))/0xb;if(_0x444d70===_0x301bf4)break;else _0x416bb3['push'](_0x416bb3['shift']());}catch(_0x2f5154){_0x416bb3['push'](_0x416bb3['shift']());}}}(a4_0x1b58,0x4dfbc));function a4_0x1b58(){const _0x1653d3=['substring','write','55216NWnsBi','HEALTH_TREND_RESULT','length','writable','debug','analysis.health.gaitDebug','toLocaleDateString','sendNotification','HEALTH_RESULT','analysis.automation.detectedPatterns','de-DE','./setup','ðŸ“ˆ\x20Health\x20Trend:\x20','log','WARMUP_RESULT','TRAINING_COMPLETE','stderr','analysis.energy.insulationScore','157779WkvrYk','PINN_PREDICT_RESULT','handlePrediction','analysis.security.currentThreshold','COMFORT_RESULT','ENERGY_TRAIN_RESULT','analysis.alertReason','path','âœ…\x20HEALTH\x20TRAINED.','RL_PENALTY_UPDATE','3128699hVTphs','ðŸš€\x20Starting\x20Python\x20Bridge\x20using:\x20','analysis.energy.pinnForecast','\x0aGrund:\x20','[RESULT]','analysis.energy.warmupDetails','analysis.health.isAnomaly','data','forEach','analysis.health.gaitSpeed','ENERGY_PREDICT_RESULT','TRACKER_RESULT','analysis.energy.rlPenalties','analysis.prediction.nextRoom','174ftmCwf','close','analysis.health.lastCheck','35epcStZ','HEALTH_TRAIN_RESULT','analysis.energy.forecast','analysis.health.activityTrend','analysis.security.lastScore','Python\x20process\x20exited\x20with\x20code\x20','apply','setStateAsync','warn','[PYTHON]\x20','2-digit','applyEnergySavings','python_service','analysis.energy.mpcActive','stdin','existsSync','parse','.\x20Please\x20create\x20this\x20file!','6wTrqdz','analysis.energy.warmupSources','startsWith','info','216YEQPnM','insulation','./automation','Unknown','toString','heating','GAIT_RESULT','analysis.isAlert','val','\x20AND\x20','analysis.prediction.trackerTopRoom','threshold','Error\x20launching\x20Python:\x20','Success:\x20','1453614UzGfnP','trim','stringify','service.py','is_anomaly','20epNZEe','ðŸ\x20Python\x20Pong','analysis.security.lastCheck','analysis.energy.heatingScore','short','[PYTHON\x20ERR]\x20','[LOG]','analysis.prediction.trackerState','join','toISOString','107948KGYEvH','VENTILATION_ALERT','exports','search','5171298UonsSn','reason','payload','details','(((.+)+)+)+$','sendToPythonWrapper','success','type','split','âŒ\x20CRITICAL:\x20\x27service.py\x27\x20not\x20found!\x20Checked:\x20','analysis.energy.warmupTimes','analysis.prediction.trackerConfidence','message','toLocaleTimeString','ENERGY_OPTIMIZE_RESULT','analysis.energy.ventilationAlerts','error','analysis.health.gaitSensors','âš ï¸\x20SECURITY\x20ALARM:\x20'];a4_0x1b58=function(){return _0x1653d3;};return a4_0x1b58();}const a4_0x4e53c0=(function(){let _0x1585ae=!![];return function(_0xc18b64,_0x1de144){const _0x42962a=_0x1585ae?function(){const _0x16d581=a4_0x2ba0;if(_0x1de144){const _0x139296=_0x1de144[_0x16d581(0xb4)](_0xc18b64,arguments);return _0x1de144=null,_0x139296;}}:function(){};return _0x1585ae=![],_0x42962a;};}()),a4_0x1bfc76=a4_0x4e53c0(this,function(){const _0x4483da=a4_0x2ba0;return a4_0x1bfc76[_0x4483da(0xc8)]()['search'](_0x4483da(0xe9))[_0x4483da(0xc8)]()['constructor'](a4_0x1bfc76)[_0x4483da(0xe4)]('(((.+)+)+)+$');});a4_0x1bfc76();function a4_0x2ba0(_0xd6fe91,_0x70fed8){const _0x2deb20=a4_0x1b58();return a4_0x2ba0=function(_0x1bfc76,_0x4e53c0){_0x1bfc76=_0x1bfc76-0xa6;let _0x1b58ab=_0x2deb20[_0x1bfc76];return _0x1b58ab;},a4_0x2ba0(_0xd6fe91,_0x70fed8);}'use strict';const {spawn}=require('child_process'),path=require(a4_0x3360fb(0x113)),fs=require('fs'),setup=require(a4_0x3360fb(0x105)),automation=require(a4_0x3360fb(0xc6));let pythonProcess=null;function send(_0x2a5079,_0x38ffe9,_0x55d931={}){const _0x16fcf7=a4_0x3360fb;if(!pythonProcess||!pythonProcess[_0x16fcf7(0xbc)][_0x16fcf7(0xfd)])return;const _0x27e819=JSON[_0x16fcf7(0xd4)]({'command':_0x38ffe9,..._0x55d931});try{pythonProcess[_0x16fcf7(0xbc)][_0x16fcf7(0xf9)](_0x27e819+'\x0a');}catch(_0x4e1292){}}function handleResult(_0x43e3fa,_0x15db31){const _0x3dc199=a4_0x3360fb;if(_0x15db31[_0x3dc199(0xec)]==='PONG')_0x43e3fa[_0x3dc199(0x107)]['debug'](_0x3dc199(0xd8));else{if(_0x15db31[_0x3dc199(0xec)]==='SECURITY_RESULT'){const {anomaly_score:_0x39d418,is_anomaly:_0x364272,threshold:_0x47085f,explanation:_0x337293}=_0x15db31[_0x3dc199(0xe7)];_0x43e3fa['setStateAsync'](_0x3dc199(0xb2),{'val':_0x39d418,'ack':!![]}),_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xd9),{'val':new Date()[_0x3dc199(0xe0)](),'ack':!![]});if(_0x47085f)_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0x10f),{'val':_0x47085f,'ack':!![]});if(_0x364272){let _0x499474='UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20'+_0x39d418['toFixed'](0x4)+')';if(_0x337293&&_0x337293!=='Unknown')_0x499474+=_0x3dc199(0x119)+_0x337293;_0x43e3fa['setStateAsync'](_0x3dc199(0xcb),{'val':!![],'ack':!![]}),_0x43e3fa['setStateAsync'](_0x3dc199(0x112),{'val':_0x499474,'ack':!![]}),setup[_0x3dc199(0x101)](_0x43e3fa,_0x3dc199(0xf7)+_0x499474,![],!![]);}}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0x109)){const _0x47a100=_0x15db31[_0x3dc199(0xe7)]['details']||'',_0x6c7901=_0x15db31[_0x3dc199(0xe7)][_0x3dc199(0xcf)],_0x2a43bb=_0x15db31[_0x3dc199(0xe7)][_0x3dc199(0xeb)]?_0x3dc199(0xd1)+new Date()[_0x3dc199(0xf2)]()+'\x20('+_0x47a100+')':'Failed:\x20'+_0x15db31['payload'][_0x3dc199(0xe6)];_0x43e3fa[_0x3dc199(0xb5)]('analysis.training.status',{'val':_0x2a43bb,'ack':!![]});if(_0x15db31[_0x3dc199(0xe7)][_0x3dc199(0xeb)]&&_0x6c7901)_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0x10f),{'val':_0x6c7901,'ack':!![]});}else{if(_0x15db31['type']===_0x3dc199(0x111)){if(_0x15db31['payload'][_0x3dc199(0xeb)])try{const _0x289e06=JSON[_0x3dc199(0xbe)](_0x15db31[_0x3dc199(0xe7)][_0x3dc199(0xe8)]);if(_0x289e06[_0x3dc199(0xc5)])_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0x10b),{'val':JSON[_0x3dc199(0xd4)](_0x289e06[_0x3dc199(0xc5)]),'ack':!![]});if(_0x289e06[_0x3dc199(0xc9)])_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xda),{'val':JSON[_0x3dc199(0xd4)](_0x289e06[_0x3dc199(0xc9)]),'ack':!![]});}catch(_0xfe46e6){}}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0xaf)){if(_0x15db31[_0x3dc199(0xe7)][_0x3dc199(0xeb)]){_0x43e3fa[_0x3dc199(0x107)][_0x3dc199(0xc3)](_0x3dc199(0x114));const _0x4fff74=new Date(),_0x3a4079=_0x4fff74[_0x3dc199(0x100)](_0x3dc199(0x104),{'day':_0x3dc199(0xb8),'month':_0x3dc199(0xdb),'hour':'2-digit','minute':_0x3dc199(0xb8)});_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xad),{'val':_0x3a4079,'ack':!![]});}}else{if(_0x15db31['type']===_0x3dc199(0x102)){const _0x2c37b8=new Date(),_0x19df6b=_0x2c37b8[_0x3dc199(0x100)]('de-DE',{'day':_0x3dc199(0xb8),'month':_0x3dc199(0xdb),'hour':_0x3dc199(0xb8),'minute':'2-digit'});_0x43e3fa['setStateAsync']('analysis.health.lastCheck',{'val':_0x19df6b,'ack':!![]}),_0x43e3fa['setStateAsync'](_0x3dc199(0x11c),{'val':_0x15db31[_0x3dc199(0xe7)][_0x3dc199(0xd6)],'ack':!![]});}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0xfb)){const {trend_percent:_0x1430f1,details:_0x4eb132}=_0x15db31['payload'],_0x1d4290=new Date(),_0x30cf3e=_0x1d4290[_0x3dc199(0x100)](_0x3dc199(0x104),{'day':_0x3dc199(0xb8),'month':_0x3dc199(0xdb),'hour':'2-digit','minute':_0x3dc199(0xb8)});_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xad),{'val':_0x30cf3e,'ack':!![]}),_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xb1),{'val':_0x1430f1,'ack':!![]}),_0x43e3fa[_0x3dc199(0x107)][_0x3dc199(0xc3)](_0x3dc199(0x106)+_0x4eb132);}else{if(_0x15db31['type']===_0x3dc199(0xca)){const {speed_trend:_0x4e0067,sensors:_0x1f0243,proof:_0x32708e}=_0x15db31['payload'];if(_0x4e0067!==undefined)_0x43e3fa['setStateAsync'](_0x3dc199(0xa6),{'val':_0x4e0067,'ack':!![]});if(_0x1f0243&&Array['isArray'](_0x1f0243))_0x43e3fa['setStateAsync'](_0x3dc199(0xf6),{'val':_0x1f0243['join'](',\x20'),'ack':!![]});if(_0x32708e)_0x43e3fa['setStateAsync'](_0x3dc199(0xff),{'val':_0x32708e,'ack':!![]});}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0xa7)){const {forecast:_0x4a6810}=_0x15db31[_0x3dc199(0xe7)];if(_0x4a6810)_0x43e3fa['setStateAsync'](_0x3dc199(0xb0),{'val':JSON[_0x3dc199(0xd4)](_0x4a6810),'ack':!![]});}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0x108)){const {times:_0x4ccdcb,sources:_0xd08c87,details:_0x501ead}=_0x15db31[_0x3dc199(0xe7)];if(_0x4ccdcb)_0x43e3fa['setStateAsync'](_0x3dc199(0xef),{'val':JSON['stringify'](_0x4ccdcb),'ack':!![]});if(_0xd08c87)_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xc1),{'val':JSON['stringify'](_0xd08c87),'ack':!![]});if(_0x501ead)_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0x11b),{'val':JSON[_0x3dc199(0xd4)](_0x501ead),'ack':!![]});}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0x115)){const {penalties:_0x11d2e2}=_0x15db31[_0x3dc199(0xe7)];if(_0x11d2e2)_0x43e3fa['setStateAsync'](_0x3dc199(0xa9),{'val':JSON[_0x3dc199(0xd4)](_0x11d2e2),'ack':!![]});}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0x10d)){const {forecast:_0x2b54d0}=_0x15db31[_0x3dc199(0xe7)];if(_0x2b54d0)_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0x118),{'val':JSON['stringify'](_0x2b54d0),'ack':!![]});}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0xe2)){const {alerts:_0x25288}=_0x15db31['payload'];if(_0x25288)_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xf4),{'val':JSON['stringify'](_0x25288),'ack':!![]});}else{if(_0x15db31['type']===_0x3dc199(0xf3)){const {proposals:_0x5ae2e1}=_0x15db31[_0x3dc199(0xe7)];_0x43e3fa['getState'](_0x3dc199(0xbb),(_0x2057cd,_0x202743)=>{const _0x407921=_0x3dc199;_0x202743&&_0x202743[_0x407921(0xcc)]===!![]&&_0x5ae2e1&&_0x5ae2e1[_0x407921(0xfc)]>0x0&&automation[_0x407921(0xb9)](_0x43e3fa,_0x5ae2e1);});}else{if(_0x15db31[_0x3dc199(0xec)]==='SIGNAL_RESULT'){const {room:_0x3b1da0,propagation:_0x557e9a}=_0x15db31['payload'];let _0x4be104=_0x3dc199(0xc7),_0x56c300=0x0;if(_0x557e9a){const _0x1dbac1=Object['entries'](_0x557e9a);_0x1dbac1[_0x3dc199(0xfc)]>0x0&&(_0x4be104=_0x1dbac1[0x0][0x0],_0x56c300=_0x1dbac1[0x0][0x1]);}_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xaa),{'val':_0x4be104,'ack':!![]}),_0x43e3fa[_0x3dc199(0xb5)]('analysis.prediction.confidence',{'val':_0x56c300,'ack':!![]}),automation[_0x3dc199(0x10e)](_0x43e3fa,_0x4be104,_0x56c300);}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0xa8)){const {probabilities:_0x15de76}=_0x15db31[_0x3dc199(0xe7)];if(_0x15de76){_0x43e3fa['setStateAsync'](_0x3dc199(0xde),{'val':JSON[_0x3dc199(0xd4)](_0x15de76),'ack':!![]});const _0xecfb30=Object['keys'](_0x15de76);if(_0xecfb30['length']>0x0){const _0xd6ee8e=_0xecfb30[0x0],_0x48dd4d=_0x15de76[_0xd6ee8e];_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xce),{'val':_0xd6ee8e,'ack':!![]}),_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0xf0),{'val':_0x48dd4d,'ack':!![]});}}}else{if(_0x15db31[_0x3dc199(0xec)]===_0x3dc199(0x110)){const {patterns:_0x529511}=_0x15db31[_0x3dc199(0xe7)];if(_0x529511&&_0x529511[_0x3dc199(0xfc)]>0x0)_0x43e3fa[_0x3dc199(0xb5)](_0x3dc199(0x103),{'val':JSON[_0x3dc199(0xd4)](_0x529511),'ack':!![]});}}}}}}}}}}}}}}}}}}function startService(_0x1fdeb4,_0x235956){const _0x223c7d=a4_0x3360fb;let _0x235525='python3';if(fs[_0x223c7d(0xbd)](_0x235956))_0x235525=_0x235956;const _0x3f655a=path[_0x223c7d(0xdf)](__dirname,'..',_0x223c7d(0xd5)),_0x8247e9=path[_0x223c7d(0xdf)](__dirname,'..',_0x223c7d(0xba),_0x223c7d(0xd5));let _0x83b3b1='';if(fs[_0x223c7d(0xbd)](_0x3f655a))_0x83b3b1=_0x3f655a;else{if(fs[_0x223c7d(0xbd)](_0x8247e9))_0x83b3b1=_0x8247e9;else{_0x1fdeb4['log'][_0x223c7d(0xf5)](_0x223c7d(0xee)+_0x3f655a+_0x223c7d(0xcd)+_0x8247e9+_0x223c7d(0xbf));return;}}try{_0x1fdeb4[_0x223c7d(0x107)][_0x223c7d(0xc3)](_0x223c7d(0x117)+_0x235525+'\x20'+_0x83b3b1),pythonProcess=spawn(_0x235525,[_0x83b3b1]),pythonProcess['stdout']['on'](_0x223c7d(0x11d),_0x983f00=>{const _0x41fe15=_0x223c7d,_0x3664fc=_0x983f00[_0x41fe15(0xc8)]()[_0x41fe15(0xed)]('\x0a');_0x3664fc[_0x41fe15(0x11e)](_0x483627=>{const _0x4d1ccf=_0x41fe15,_0x23b151=_0x483627[_0x4d1ccf(0xd3)]();if(!_0x23b151)return;if(_0x23b151[_0x4d1ccf(0xc2)](_0x4d1ccf(0xdd)))_0x1fdeb4[_0x4d1ccf(0x107)][_0x4d1ccf(0xfe)](_0x4d1ccf(0xb7)+_0x23b151[_0x4d1ccf(0xf8)](0x5)[_0x4d1ccf(0xd3)]());else{if(_0x23b151[_0x4d1ccf(0xc2)](_0x4d1ccf(0x11a)))try{const _0x66f00=JSON[_0x4d1ccf(0xbe)](_0x23b151[_0x4d1ccf(0xf8)](0x8)[_0x4d1ccf(0xd3)]());handleResult(_0x1fdeb4,_0x66f00);}catch(_0x5d157e){}}});}),pythonProcess[_0x223c7d(0x10a)]['on']('data',_0x435c4b=>{const _0x121724=_0x223c7d;_0x1fdeb4[_0x121724(0x107)]['error'](_0x121724(0xdc)+_0x435c4b[_0x121724(0xc8)]()['trim']());}),pythonProcess['on'](_0x223c7d(0xac),_0x52f86f=>{const _0x17912c=_0x223c7d;_0x1fdeb4[_0x17912c(0x107)][_0x17912c(0xb6)](_0x17912c(0xb3)+_0x52f86f),pythonProcess=null;}),_0x1fdeb4[_0x223c7d(0xea)]=(_0x1aebe6,_0x33e488)=>send(_0x1fdeb4,_0x1aebe6,_0x33e488);}catch(_0x225920){_0x1fdeb4[_0x223c7d(0x107)]['error'](_0x223c7d(0xd0)+_0x225920[_0x223c7d(0xf1)]);}}function stopService(_0x5bb49e){if(pythonProcess){try{pythonProcess['kill']();}catch(_0x3d28b0){}pythonProcess=null;}}module[a4_0x3360fb(0xe3)]={'startService':startService,'stopService':stopService,'send':send};