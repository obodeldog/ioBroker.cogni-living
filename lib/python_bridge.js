const a4_0x3fd332=a4_0xc6fb;(function(_0x5c0c21,_0x36d99b){const _0xbc1328=a4_0xc6fb,_0x219d06=_0x5c0c21();while(!![]){try{const _0x546ea5=parseInt(_0xbc1328(0x252))/0x1+parseInt(_0xbc1328(0x213))/0x2+parseInt(_0xbc1328(0x1f3))/0x3+parseInt(_0xbc1328(0x215))/0x4*(-parseInt(_0xbc1328(0x27e))/0x5)+parseInt(_0xbc1328(0x214))/0x6*(-parseInt(_0xbc1328(0x248))/0x7)+parseInt(_0xbc1328(0x228))/0x8*(-parseInt(_0xbc1328(0x219))/0x9)+parseInt(_0xbc1328(0x246))/0xa;if(_0x546ea5===_0x36d99b)break;else _0x219d06['push'](_0x219d06['shift']());}catch(_0x380e8d){_0x219d06['push'](_0x219d06['shift']());}}}(a4_0x998f,0x9ec4f));const a4_0x313ea8=(function(){let _0x3ba0c5=!![];return function(_0x19a3e8,_0x7b4b05){const _0x45e1e9=_0x3ba0c5?function(){const _0x3a4b9e=a4_0xc6fb;if(_0x7b4b05){const _0x419219=_0x7b4b05[_0x3a4b9e(0x270)](_0x19a3e8,arguments);return _0x7b4b05=null,_0x419219;}}:function(){};return _0x3ba0c5=![],_0x45e1e9;};}()),a4_0xb7d3b5=a4_0x313ea8(this,function(){const _0x2f242d=a4_0xc6fb;return a4_0xb7d3b5[_0x2f242d(0x207)]()[_0x2f242d(0x1ff)](_0x2f242d(0x256))['toString']()['constructor'](a4_0xb7d3b5)[_0x2f242d(0x1ff)](_0x2f242d(0x256));});function a4_0x998f(){const _0x9dd4ea=['analysis.prediction.confidence','slice','analysis.energy.mpcActive','stringify','Graph\x20Updated\x20(','room','analysis.energy.warmupDetails','normalizeRoomId','analysis.prediction.trackerConfidence','penalties','PONG','Unknown','HEALTH_TRAIN_RESULT','analysis.energy.heatingScore','set','analysis.security.lastCheck','info','toFixed','apply','close','analysis.energy.warmupSources','points','analysis.training.status','python_service','DeprecationWarning','location','exports','analysis.health.gaitDebug','val','PINN_PREDICT_RESULT','path','GRAPH_TRAINED','5ryVNeW','keys','analysis.energy.insulationScore','patterns','\x20â†’\x20','log','warmup_targets','UserWarning','TRAIN_TOPOLOGY','details','1243533wnZvAr','length','analysis.health.lastCheck','sensors','[Bridge-Debug]\x20Setting\x20Topology\x20Rooms\x20(Sample):\x20','setStateAsync','getState','âŒ\x20CRITICAL:\x20\x27service.py\x27\x20not\x20found!','analysis.security.lastScore','includes','toISOString','FutureWarning','search','existsSync','[Bridge-Debug]\x20Normalized\x20Sequence\x20[0]\x20(Unpacked):\x20','current_temps','ENERGY_TRAIN_RESULT','stdin','monitored','startsWith','toString','analysis.prediction.nextRoom','rooms','trend_percent','targets','replace','GAIT_RESULT','parse','analysis.energy.forecast','delete','threshold','âœ…\x20HEALTH\x20TRAINED.','1865554AVYBvo','1272KoQeFp','2835724htYBNH','[PYTHON]\x20','data','stderr','13554SFzgxT','entries','insulation','analysis.prediction.trackerTopRoom','WARMUP_RESULT','is_anomaly','TRAIN_ENERGY','isArray','[LOG]','child_process','handlePrediction','RL_PENALTY_UPDATE','steps','substring','sources','6152TbeqYX','analysis.energy.warmupTimes','write','TRAINING_COMPLETE','VENTILATION_ALERT','analysis.security.currentThreshold','Failed:\x20','analysis.health.gaitSpeed','error','_RESULT','map','heating','writable','trim','SET_TOPOLOGY','[PythonBridge]\x20Timeout\x20for\x20command:\x20','forecast','warn','service.py','loc','...','[PYTHON\x20ERR]\x20','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','applyEnergySavings','\x0aGrund:\x20','analysis.health.activityTrend','message','forEach','split','proof','2280880FeZjwP','success','5789RBEMeJ','âš ï¸\x20SECURITY\x20ALARM:\x20','analysis.alertReason','alerts','ðŸš€\x20Starting\x20Python\x20Bridge\x20using:\x20','sendNotification','payload','debug','analysis.health.gaitSensors','speed_trend','1117312IuLDhZ','[PythonBridge]\x20Callback\x20matched:\x20','[PYTHON\x20WARN]\x20','type','(((.+)+)+)+$','./automation','times','join','ENERGY_PREDICT_RESULT','sequences','object','has'];a4_0x998f=function(){return _0x9dd4ea;};return a4_0x998f();}a4_0xb7d3b5();'use strict';const {spawn}=require(a4_0x3fd332(0x222)),path=require(a4_0x3fd332(0x27c)),fs=require('fs'),setup=require('./setup'),automation=require(a4_0x3fd332(0x257));let pythonProcess=null,pendingCallbacks=new Map();function send(_0x39ac23,_0x1e276e,_0x407295={},_0x166df7=null){const _0x518147=a4_0x3fd332;if(!pythonProcess||!pythonProcess[_0x518147(0x204)][_0x518147(0x234)])return;if(_0x1e276e===_0x518147(0x236)){const _0x22bfd2=JSON[_0x518147(0x20e)](JSON[_0x518147(0x261)](_0x407295));_0x22bfd2[_0x518147(0x209)]&&Array[_0x518147(0x220)](_0x22bfd2[_0x518147(0x209)])&&(_0x22bfd2['rooms']=_0x22bfd2[_0x518147(0x209)]['map'](_0x19a94d=>setup[_0x518147(0x265)](_0x19a94d)),_0x39ac23[_0x518147(0x283)][_0x518147(0x26e)](_0x518147(0x1f7)+_0x22bfd2[_0x518147(0x209)][_0x518147(0x25f)](0x0,0x3)[_0x518147(0x259)](',\x20')+_0x518147(0x23c))),_0x22bfd2[_0x518147(0x205)]&&Array[_0x518147(0x220)](_0x22bfd2[_0x518147(0x205)])&&(_0x22bfd2[_0x518147(0x205)]=_0x22bfd2[_0x518147(0x205)][_0x518147(0x232)](_0x1fb10b=>setup[_0x518147(0x265)](_0x1fb10b))),_0x407295=_0x22bfd2;}if((_0x1e276e===_0x518147(0x286)||_0x1e276e==='TRAIN_SECURITY')&&_0x407295[_0x518147(0x25b)]){if(Array[_0x518147(0x220)](_0x407295[_0x518147(0x25b)]))try{_0x407295['sequences'][_0x518147(0x1f4)]>0x0&&_0x39ac23[_0x518147(0x283)]['debug']('[Bridge-Debug]\x20Raw\x20Sequence\x20[0]:\x20'+JSON[_0x518147(0x261)](_0x407295[_0x518147(0x25b)][0x0])[_0x518147(0x226)](0x0,0x64)+_0x518147(0x23c)),_0x407295[_0x518147(0x25b)]=_0x407295['sequences']['map'](_0x59980e=>{const _0x5bb1d0=_0x518147;if(_0x59980e&&_0x59980e['steps']&&Array[_0x5bb1d0(0x220)](_0x59980e[_0x5bb1d0(0x225)]))return _0x59980e[_0x5bb1d0(0x225)][_0x5bb1d0(0x232)](_0x31cd83=>{const _0x39d5bf=_0x5bb1d0,_0x2af3d9=_0x31cd83[_0x39d5bf(0x23b)]||_0x31cd83[_0x39d5bf(0x277)]||_0x31cd83;return setup[_0x39d5bf(0x265)](_0x2af3d9);});else{if(Array['isArray'](_0x59980e))return _0x59980e[_0x5bb1d0(0x232)](_0x7a2c13=>setup['normalizeRoomId'](_0x7a2c13));}return[];}),_0x407295[_0x518147(0x25b)]['length']>0x0&&_0x39ac23[_0x518147(0x283)][_0x518147(0x26e)](_0x518147(0x201)+JSON[_0x518147(0x261)](_0x407295['sequences'][0x0]));}catch(_0x5c25fd){_0x39ac23[_0x518147(0x283)]['warn']('Gateway\x20Unpack\x20Error:\x20'+_0x5c25fd[_0x518147(0x242)]),_0x407295[_0x518147(0x25b)]=[];}else _0x407295[_0x518147(0x25b)]=[];}_0x407295['room']&&typeof _0x407295['room']==='string'&&(_0x407295[_0x518147(0x263)]=setup['normalizeRoomId'](_0x407295['room']));if(_0x407295[_0x518147(0x202)]&&typeof _0x407295['current_temps']===_0x518147(0x25c)){const _0x3b221c={};for(const [_0x28e21c,_0x35588a]of Object[_0x518147(0x21a)](_0x407295[_0x518147(0x202)]))_0x3b221c[setup[_0x518147(0x265)](_0x28e21c)]=_0x35588a;_0x407295[_0x518147(0x202)]=_0x3b221c;}if(_0x407295[_0x518147(0x284)]&&typeof _0x407295['warmup_targets']===_0x518147(0x25c)){const _0x203bbb={};for(const [_0x2d0884,_0x3f64ca]of Object[_0x518147(0x21a)](_0x407295['warmup_targets']))_0x203bbb[setup[_0x518147(0x265)](_0x2d0884)]=_0x3f64ca;_0x407295['warmup_targets']=_0x203bbb;}if(_0x407295[_0x518147(0x20b)]&&typeof _0x407295[_0x518147(0x20b)]===_0x518147(0x25c)){const _0x31d3dd={};for(const [_0x5a625c,_0x27b345]of Object[_0x518147(0x21a)](_0x407295[_0x518147(0x20b)]))_0x31d3dd[setup[_0x518147(0x265)](_0x5a625c)]=_0x27b345;_0x407295[_0x518147(0x20b)]=_0x31d3dd;}_0x1e276e===_0x518147(0x21f)&&_0x407295['points']&&Array[_0x518147(0x220)](_0x407295[_0x518147(0x273)])&&_0x407295[_0x518147(0x273)][_0x518147(0x243)](_0x17e73b=>{const _0x2dd604=_0x518147;if(_0x17e73b&&_0x17e73b[_0x2dd604(0x263)])_0x17e73b['room']=setup[_0x2dd604(0x265)](_0x17e73b['room']);});const _0x521620=JSON[_0x518147(0x261)]({'command':_0x1e276e,..._0x407295});try{pythonProcess['stdin'][_0x518147(0x22a)](_0x521620+'\x0a'),_0x166df7&&(pendingCallbacks[_0x518147(0x26c)](_0x1e276e,_0x166df7),setTimeout(()=>{const _0x5e539c=_0x518147;pendingCallbacks[_0x5e539c(0x25d)](_0x1e276e)&&(pendingCallbacks[_0x5e539c(0x210)](_0x1e276e),_0x39ac23[_0x5e539c(0x283)][_0x5e539c(0x239)](_0x5e539c(0x237)+_0x1e276e));},0x2710));}catch(_0x9229ff){}}function a4_0xc6fb(_0x52d60c,_0x2c1fed){const _0x27a79b=a4_0x998f();return a4_0xc6fb=function(_0xb7d3b5,_0x313ea8){_0xb7d3b5=_0xb7d3b5-0x1f2;let _0x998f1=_0x27a79b[_0xb7d3b5];return _0x998f1;},a4_0xc6fb(_0x52d60c,_0x2c1fed);}function handleResult(_0x49f56e,_0x33c3e8){const _0x4b00dc=a4_0x3fd332;for(const [_0x15d656,_0x2f3fc6]of pendingCallbacks['entries']()){const _0xb126c2=_0x15d656[_0x4b00dc(0x20c)]('ANALYZE_','')+_0x4b00dc(0x231);if(_0x33c3e8[_0x4b00dc(0x255)]===_0xb126c2||_0x33c3e8[_0x4b00dc(0x255)]===_0x15d656+'_RESULT'){pendingCallbacks['delete'](_0x15d656),_0x49f56e[_0x4b00dc(0x283)][_0x4b00dc(0x24f)](_0x4b00dc(0x253)+_0x15d656+_0x4b00dc(0x282)+_0x33c3e8['type']),_0x2f3fc6(_0x33c3e8);return;}}if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x268))_0x49f56e['log']['debug']('ðŸ\x20Python\x20Pong');else{if(_0x33c3e8[_0x4b00dc(0x255)]==='SECURITY_RESULT'){const {anomaly_score:_0x55088e,is_anomaly:_0x4331ad,threshold:_0x40059a,explanation:_0x5b6d51}=_0x33c3e8['payload'];_0x49f56e['setStateAsync'](_0x4b00dc(0x1fb),{'val':_0x55088e,'ack':!![]}),_0x49f56e['setStateAsync'](_0x4b00dc(0x26d),{'val':new Date()[_0x4b00dc(0x1fd)](),'ack':!![]});if(_0x40059a)_0x49f56e['setStateAsync'](_0x4b00dc(0x22d),{'val':_0x40059a,'ack':!![]});if(_0x4331ad){let _0x5925a7=_0x4b00dc(0x23e)+_0x55088e[_0x4b00dc(0x26f)](0x4)+')';if(_0x5b6d51&&_0x5b6d51!==_0x4b00dc(0x269))_0x5925a7+=_0x4b00dc(0x240)+_0x5b6d51;_0x49f56e[_0x4b00dc(0x1f8)]('analysis.isAlert',{'val':!![],'ack':!![]}),_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x24a),{'val':_0x5925a7,'ack':!![]}),setup[_0x4b00dc(0x24d)](_0x49f56e,_0x4b00dc(0x249)+_0x5925a7,![],!![]);}}else{if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x22b)){const _0x3db6ae=_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x1f2)]||'',_0x4053c5=_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x211)],_0x28b9a7=_0x33c3e8['payload'][_0x4b00dc(0x247)]?'Success:\x20'+new Date()['toLocaleTimeString']()+'\x20('+_0x3db6ae+')':_0x4b00dc(0x22e)+_0x33c3e8[_0x4b00dc(0x24e)]['reason'];_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x274),{'val':_0x28b9a7,'ack':!![]});if(_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x247)]&&_0x4053c5)_0x49f56e['setStateAsync'](_0x4b00dc(0x22d),{'val':_0x4053c5,'ack':!![]});}else{if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x27d)){const _0x48a0b4=_0x4b00dc(0x262)+_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x209)][_0x4b00dc(0x1f4)]+'\x20Rooms)';_0x49f56e[_0x4b00dc(0x1f8)]('analysis.training.status',{'val':_0x48a0b4,'ack':!![]}),_0x33c3e8['payload']['matrix']&&_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x209)]&&_0x49f56e[_0x4b00dc(0x1f8)]('analysis.security.topologyMatrix',{'val':JSON['stringify'](_0x33c3e8[_0x4b00dc(0x24e)]),'ack':!![]});}else{if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x203)){if(_0x33c3e8[_0x4b00dc(0x24e)]['success'])try{const _0x43305e=JSON[_0x4b00dc(0x20e)](_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x1f2)]);if(_0x43305e[_0x4b00dc(0x21b)])_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x280),{'val':JSON[_0x4b00dc(0x261)](_0x43305e[_0x4b00dc(0x21b)]),'ack':!![]});if(_0x43305e[_0x4b00dc(0x233)])_0x49f56e['setStateAsync'](_0x4b00dc(0x26b),{'val':JSON['stringify'](_0x43305e[_0x4b00dc(0x233)]),'ack':!![]});}catch(_0x401512){}}else{if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x26a))_0x49f56e[_0x4b00dc(0x283)][_0x4b00dc(0x26e)](_0x4b00dc(0x212)),_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x1f5),{'val':new Date()['toLocaleDateString'](),'ack':!![]});else{if(_0x33c3e8[_0x4b00dc(0x255)]==='HEALTH_RESULT')_0x49f56e[_0x4b00dc(0x1f8)]('analysis.health.isAnomaly',{'val':_0x33c3e8['payload'][_0x4b00dc(0x21e)],'ack':!![]});else{if(_0x33c3e8[_0x4b00dc(0x255)]==='HEALTH_TREND_RESULT')_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x241),{'val':_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x20a)],'ack':!![]}),_0x49f56e[_0x4b00dc(0x283)][_0x4b00dc(0x26e)]('ðŸ“ˆ\x20Health\x20Trend:\x20'+_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x1f2)]);else{if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x20d)){if(_0x33c3e8['payload'][_0x4b00dc(0x251)]!==undefined)_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x22f),{'val':_0x33c3e8['payload']['speed_trend'],'ack':!![]});if(_0x33c3e8['payload'][_0x4b00dc(0x1f6)])_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x250),{'val':_0x33c3e8['payload'][_0x4b00dc(0x1f6)][_0x4b00dc(0x259)](',\x20'),'ack':!![]});if(_0x33c3e8[_0x4b00dc(0x24e)]['proof'])_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x279),{'val':_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x245)],'ack':!![]});}else{if(_0x33c3e8['type']===_0x4b00dc(0x25a)){if(_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x238)])_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x20f),{'val':JSON[_0x4b00dc(0x261)](_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x238)]),'ack':!![]});}else{if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x21d)){if(_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x258)])_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x229),{'val':JSON[_0x4b00dc(0x261)](_0x33c3e8[_0x4b00dc(0x24e)]['times']),'ack':!![]});if(_0x33c3e8['payload']['sources'])_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x272),{'val':JSON[_0x4b00dc(0x261)](_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x227)]),'ack':!![]});if(_0x33c3e8['payload'][_0x4b00dc(0x1f2)])_0x49f56e['setStateAsync'](_0x4b00dc(0x264),{'val':JSON[_0x4b00dc(0x261)](_0x33c3e8['payload']['details']),'ack':!![]});}else{if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x224)){if(_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x267)])_0x49f56e[_0x4b00dc(0x1f8)]('analysis.energy.rlPenalties',{'val':JSON[_0x4b00dc(0x261)](_0x33c3e8['payload'][_0x4b00dc(0x267)]),'ack':!![]});}else{if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x27b)){if(_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x238)])_0x49f56e[_0x4b00dc(0x1f8)]('analysis.energy.pinnForecast',{'val':JSON[_0x4b00dc(0x261)](_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x238)]),'ack':!![]});}else{if(_0x33c3e8[_0x4b00dc(0x255)]===_0x4b00dc(0x22c)){if(_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x24b)])_0x49f56e[_0x4b00dc(0x1f8)]('analysis.energy.ventilationAlerts',{'val':JSON[_0x4b00dc(0x261)](_0x33c3e8['payload'][_0x4b00dc(0x24b)]),'ack':!![]});}else{if(_0x33c3e8[_0x4b00dc(0x255)]==='ENERGY_OPTIMIZE_RESULT'){const {proposals:_0x3d1a4f}=_0x33c3e8['payload'];_0x49f56e[_0x4b00dc(0x1f9)](_0x4b00dc(0x260),(_0x48ea05,_0x1cce70)=>{const _0xc3a552=_0x4b00dc;if(_0x1cce70&&_0x1cce70[_0xc3a552(0x27a)]===!![]&&_0x3d1a4f&&_0x3d1a4f[_0xc3a552(0x1f4)]>0x0)automation[_0xc3a552(0x23f)](_0x49f56e,_0x3d1a4f);});}else{if(_0x33c3e8[_0x4b00dc(0x255)]==='SIGNAL_RESULT'){const {propagation:_0xe7f991}=_0x33c3e8[_0x4b00dc(0x24e)];let _0x54bea3=_0x4b00dc(0x269),_0x521595=0x0;if(_0xe7f991){const _0x156f5b=Object[_0x4b00dc(0x21a)](_0xe7f991);_0x156f5b[_0x4b00dc(0x1f4)]>0x0&&(_0x54bea3=_0x156f5b[0x0][0x0],_0x521595=_0x156f5b[0x0][0x1]);}_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x208),{'val':_0x54bea3,'ack':!![]}),_0x49f56e['setStateAsync'](_0x4b00dc(0x25e),{'val':_0x521595,'ack':!![]}),automation[_0x4b00dc(0x223)](_0x49f56e,_0x54bea3,_0x521595);}else{if(_0x33c3e8[_0x4b00dc(0x255)]==='TRACKER_RESULT'){const {probabilities:_0x145707}=_0x33c3e8[_0x4b00dc(0x24e)];if(_0x145707){_0x49f56e[_0x4b00dc(0x1f8)]('analysis.prediction.trackerState',{'val':JSON[_0x4b00dc(0x261)](_0x145707),'ack':!![]});const _0x5cbb1f=Object[_0x4b00dc(0x27f)](_0x145707);_0x5cbb1f['length']>0x0&&(_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x21c),{'val':_0x5cbb1f[0x0],'ack':!![]}),_0x49f56e[_0x4b00dc(0x1f8)](_0x4b00dc(0x266),{'val':_0x145707[_0x5cbb1f[0x0]],'ack':!![]}));}}else{if(_0x33c3e8[_0x4b00dc(0x255)]==='COMFORT_RESULT'){if(_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x281)])_0x49f56e[_0x4b00dc(0x1f8)]('analysis.automation.detectedPatterns',{'val':JSON[_0x4b00dc(0x261)](_0x33c3e8[_0x4b00dc(0x24e)][_0x4b00dc(0x281)]),'ack':!![]});}}}}}}}}}}}}}}}}}}}function startService(_0xdd4cc0,_0x2301c0){const _0x338d80=a4_0x3fd332;let _0xfcc370='python3';if(fs[_0x338d80(0x200)](_0x2301c0))_0xfcc370=_0x2301c0;const _0x2a5a3d=path[_0x338d80(0x259)](__dirname,'..',_0x338d80(0x23a)),_0x24b80f=path['join'](__dirname,'..',_0x338d80(0x275),_0x338d80(0x23a));let _0x3e6500=fs[_0x338d80(0x200)](_0x2a5a3d)?_0x2a5a3d:fs[_0x338d80(0x200)](_0x24b80f)?_0x24b80f:null;if(!_0x3e6500){_0xdd4cc0[_0x338d80(0x283)][_0x338d80(0x230)](_0x338d80(0x1fa));return;}try{_0xdd4cc0['log'][_0x338d80(0x26e)](_0x338d80(0x24c)+_0xfcc370+'\x20'+_0x3e6500),pythonProcess=spawn(_0xfcc370,[_0x3e6500]),pythonProcess['stdout']['on'](_0x338d80(0x217),_0x5077d9=>{const _0x372ba7=_0x338d80,_0x49feb4=_0x5077d9[_0x372ba7(0x207)]()[_0x372ba7(0x244)]('\x0a');_0x49feb4[_0x372ba7(0x243)](_0x5f12df=>{const _0x38e740=_0x372ba7,_0x1cfacd=_0x5f12df[_0x38e740(0x235)]();if(!_0x1cfacd)return;if(_0x1cfacd['startsWith'](_0x38e740(0x221)))_0xdd4cc0[_0x38e740(0x283)]['debug'](_0x38e740(0x216)+_0x1cfacd['substring'](0x5)[_0x38e740(0x235)]());else{if(_0x1cfacd[_0x38e740(0x206)]('[RESULT]'))try{const _0x4771e7=JSON[_0x38e740(0x20e)](_0x1cfacd[_0x38e740(0x226)](0x8)[_0x38e740(0x235)]());handleResult(_0xdd4cc0,_0x4771e7);}catch(_0x256f2b){}}});}),pythonProcess[_0x338d80(0x218)]['on'](_0x338d80(0x217),_0x4db8bc=>{const _0x1da9b2=_0x338d80,_0x3fb0ac=_0x4db8bc[_0x1da9b2(0x207)]()[_0x1da9b2(0x235)]();if(!_0x3fb0ac)return;_0x3fb0ac[_0x1da9b2(0x1fc)](_0x1da9b2(0x1fe))||_0x3fb0ac[_0x1da9b2(0x1fc)](_0x1da9b2(0x285))||_0x3fb0ac[_0x1da9b2(0x1fc)](_0x1da9b2(0x276))?_0xdd4cc0[_0x1da9b2(0x283)][_0x1da9b2(0x239)](_0x1da9b2(0x254)+_0x3fb0ac):_0xdd4cc0[_0x1da9b2(0x283)]['error'](_0x1da9b2(0x23d)+_0x3fb0ac);}),pythonProcess['on'](_0x338d80(0x271),_0x518bc6=>{const _0xca8a97=_0x338d80;_0xdd4cc0['log'][_0xca8a97(0x239)]('Python\x20process\x20exited\x20with\x20code\x20'+_0x518bc6),pythonProcess=null;}),_0xdd4cc0['sendToPythonWrapper']=(_0x37d66b,_0x405cdc)=>send(_0xdd4cc0,_0x37d66b,_0x405cdc);}catch(_0x5d839d){_0xdd4cc0['log']['error']('Error\x20launching\x20Python:\x20'+_0x5d839d[_0x338d80(0x242)]);}}function stopService(_0x2782e6){if(pythonProcess){try{pythonProcess['kill']();}catch(_0x4d27f4){}pythonProcess=null;}}module[a4_0x3fd332(0x278)]={'startService':startService,'stopService':stopService,'send':send};