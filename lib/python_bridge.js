const a4_0x1f041a=a4_0x5531;(function(_0x3593fb,_0x49afa2){const _0x2b9314=a4_0x5531,_0xdf1ee4=_0x3593fb();while(!![]){try{const _0x3e55ae=-parseInt(_0x2b9314(0x1ce))/0x1+-parseInt(_0x2b9314(0x189))/0x2*(-parseInt(_0x2b9314(0x194))/0x3)+-parseInt(_0x2b9314(0x1b8))/0x4+parseInt(_0x2b9314(0x1cb))/0x5+parseInt(_0x2b9314(0x1cc))/0x6*(parseInt(_0x2b9314(0x19e))/0x7)+-parseInt(_0x2b9314(0x197))/0x8+parseInt(_0x2b9314(0x1a0))/0x9*(parseInt(_0x2b9314(0x1ae))/0xa);if(_0x3e55ae===_0x49afa2)break;else _0xdf1ee4['push'](_0xdf1ee4['shift']());}catch(_0x568d72){_0xdf1ee4['push'](_0xdf1ee4['shift']());}}}(a4_0x3c98,0xa11c8));function a4_0x5531(_0x251a7a,_0x5e0b58){const _0x5d1daa=a4_0x3c98();return a4_0x5531=function(_0x3690f5,_0x163043){_0x3690f5=_0x3690f5-0x17a;let _0x3c98ac=_0x5d1daa[_0x3690f5];return _0x3c98ac;},a4_0x5531(_0x251a7a,_0x5e0b58);}const a4_0x163043=(function(){let _0x56c34d=!![];return function(_0x55a180,_0x1ec2e6){const _0x174f19=_0x56c34d?function(){const _0x1123ce=a4_0x5531;if(_0x1ec2e6){const _0x3b75f3=_0x1ec2e6[_0x1123ce(0x1bf)](_0x55a180,arguments);return _0x1ec2e6=null,_0x3b75f3;}}:function(){};return _0x56c34d=![],_0x174f19;};}()),a4_0x3690f5=a4_0x163043(this,function(){const _0x4e615b=a4_0x5531;return a4_0x3690f5[_0x4e615b(0x1ab)]()[_0x4e615b(0x198)](_0x4e615b(0x1cd))[_0x4e615b(0x1ab)]()[_0x4e615b(0x17c)](a4_0x3690f5)['search'](_0x4e615b(0x1cd));});function a4_0x3c98(){const _0x375f8e=['(((.+)+)+)+$','739349ZQVtHP','analysis.prediction.trackerState','getState','message','toLocaleTimeString','trim','COMFORT_RESULT','analysis.energy.heatingScore','analysis.energy.insulationScore','constructor','data','SECURITY_RESULT','debug','stdout','entries','payload','TRACKER_RESULT','analysis.energy.warmupSources','analysis.energy.warmupTimes','keys','./automation','sendToPythonWrapper','7156NyexpA','substring','handlePrediction','service.py','applyEnergySavings','[PYTHON]\x20','parse','[RESULT]','analysis.training.status','toISOString','stringify','939KTHyFB','Unknown','join','10416288OBlpgK','search','writable','log','analysis.health.isAnomaly','details','Failed:\x20','7wEycwt','ENERGY_OPTIMIZE_RESULT','382995iJeUQa','analysis.security.currentThreshold','heating','kill','analysis.health.gaitSpeed','error','analysis.energy.forecast','val','./setup','analysis.energy.ventilationAlerts','reason','toString','Error\x20launching\x20Python:\x20','type','240HXYGcH','setStateAsync','âš ï¸\x20SECURITY\x20ALARM:\x20','is_anomaly','python_service','ENERGY_TRAIN_RESULT','analysis.prediction.nextRoom','analysis.security.lastCheck','length','analysis.prediction.confidence','32476pqduVj','GAIT_RESULT','analysis.energy.mpcActive','analysis.isAlert','ENERGY_PREDICT_RESULT','ðŸ\x20Python\x20Pong','âœ…\x20HEALTH\x20TRAINED.','apply','analysis.prediction.trackerTopRoom','analysis.alertReason','HEALTH_TRAIN_RESULT','Success:\x20','success','WARMUP_RESULT','stdin','exports','info','PINN_PREDICT_RESULT','python3','95XPCdpB','3408978hrNZEa'];a4_0x3c98=function(){return _0x375f8e;};return a4_0x3c98();}a4_0x3690f5();'use strict';const {spawn}=require('child_process'),path=require('path'),fs=require('fs'),setup=require(a4_0x1f041a(0x1a8)),automation=require(a4_0x1f041a(0x187));let pythonProcess=null;function send(_0x24363a,_0x39f4aa,_0x5d4fcf={}){const _0x45ed34=a4_0x1f041a;if(!pythonProcess||!pythonProcess['stdin'][_0x45ed34(0x199)])return;const _0xcc32bf=JSON[_0x45ed34(0x193)]({'command':_0x39f4aa,..._0x5d4fcf});try{pythonProcess[_0x45ed34(0x1c6)]['write'](_0xcc32bf+'\x0a');}catch(_0x232bc4){}}function handleResult(_0x51e210,_0x1765a4){const _0x14a76a=a4_0x1f041a;if(_0x1765a4[_0x14a76a(0x1ad)]==='PONG')_0x51e210['log']['debug'](_0x14a76a(0x1bd));else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x17e)){const {anomaly_score:_0x13b5e2,is_anomaly:_0x4cf25e,threshold:_0x41ee46,explanation:_0x2a13b1}=_0x1765a4[_0x14a76a(0x182)];_0x51e210['setStateAsync']('analysis.security.lastScore',{'val':_0x13b5e2,'ack':!![]}),_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x1b5),{'val':new Date()[_0x14a76a(0x192)](),'ack':!![]});if(_0x41ee46)_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x1a1),{'val':_0x41ee46,'ack':!![]});if(_0x4cf25e){let _0x9e8803='UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20'+_0x13b5e2['toFixed'](0x4)+')';if(_0x2a13b1&&_0x2a13b1!==_0x14a76a(0x195))_0x9e8803+='\x0aGrund:\x20'+_0x2a13b1;_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x1bb),{'val':!![],'ack':!![]}),_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x1c1),{'val':_0x9e8803,'ack':!![]}),setup['sendNotification'](_0x51e210,_0x14a76a(0x1b0)+_0x9e8803,![],!![]);}}else{if(_0x1765a4[_0x14a76a(0x1ad)]==='TRAINING_COMPLETE'){const _0x365ff2=_0x1765a4[_0x14a76a(0x182)][_0x14a76a(0x19c)]||'',_0x5b2c03=_0x1765a4[_0x14a76a(0x182)]['threshold'],_0x2e6511=_0x1765a4[_0x14a76a(0x182)][_0x14a76a(0x1c4)]?_0x14a76a(0x1c3)+new Date()[_0x14a76a(0x1d2)]()+'\x20('+_0x365ff2+')':_0x14a76a(0x19d)+_0x1765a4[_0x14a76a(0x182)][_0x14a76a(0x1aa)];_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x191),{'val':_0x2e6511,'ack':!![]});if(_0x1765a4[_0x14a76a(0x182)][_0x14a76a(0x1c4)]&&_0x5b2c03)_0x51e210[_0x14a76a(0x1af)]('analysis.security.currentThreshold',{'val':_0x5b2c03,'ack':!![]});}else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x1b3)){if(_0x1765a4[_0x14a76a(0x182)][_0x14a76a(0x1c4)])try{const _0x1a1ecd=JSON['parse'](_0x1765a4[_0x14a76a(0x182)]['details']);if(_0x1a1ecd['insulation'])_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x17b),{'val':JSON[_0x14a76a(0x193)](_0x1a1ecd['insulation']),'ack':!![]});if(_0x1a1ecd[_0x14a76a(0x1a2)])_0x51e210['setStateAsync'](_0x14a76a(0x17a),{'val':JSON[_0x14a76a(0x193)](_0x1a1ecd[_0x14a76a(0x1a2)]),'ack':!![]});}catch(_0xab8f2){}}else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x1c2)){if(_0x1765a4[_0x14a76a(0x182)][_0x14a76a(0x1c4)])_0x51e210['log'][_0x14a76a(0x1c8)](_0x14a76a(0x1be));}else{if(_0x1765a4['type']==='HEALTH_RESULT')_0x51e210[_0x14a76a(0x1af)]('analysis.health.lastCheck',{'val':new Date()[_0x14a76a(0x192)](),'ack':!![]}),_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x19b),{'val':_0x1765a4[_0x14a76a(0x182)][_0x14a76a(0x1b1)],'ack':!![]});else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x1b9)){const {speed_trend:_0x1d799a}=_0x1765a4[_0x14a76a(0x182)];if(_0x1d799a!==undefined)_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x1a4),{'val':_0x1d799a,'ack':!![]});}else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x1bc)){const {forecast:_0x142793}=_0x1765a4['payload'];if(_0x142793)_0x51e210['setStateAsync'](_0x14a76a(0x1a6),{'val':JSON[_0x14a76a(0x193)](_0x142793),'ack':!![]});}else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x1c5)){const {times:_0x2dfd72,sources:_0x2da7bf}=_0x1765a4[_0x14a76a(0x182)];if(_0x2dfd72)_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x185),{'val':JSON['stringify'](_0x2dfd72),'ack':!![]});if(_0x2da7bf)_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x184),{'val':JSON[_0x14a76a(0x193)](_0x2da7bf),'ack':!![]});}else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x1c9)){const {forecast:_0x5cf07d}=_0x1765a4['payload'];if(_0x5cf07d)_0x51e210['setStateAsync']('analysis.energy.pinnForecast',{'val':JSON[_0x14a76a(0x193)](_0x5cf07d),'ack':!![]});}else{if(_0x1765a4['type']==='VENTILATION_ALERT'){const {alerts:_0x33c8c1}=_0x1765a4['payload'];if(_0x33c8c1)_0x51e210['setStateAsync'](_0x14a76a(0x1a9),{'val':JSON['stringify'](_0x33c8c1),'ack':!![]});}else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x19f)){const {proposals:_0x584344}=_0x1765a4[_0x14a76a(0x182)];_0x51e210[_0x14a76a(0x1d0)](_0x14a76a(0x1ba),(_0x5d504d,_0x4bfc98)=>{const _0x146470=_0x14a76a;_0x4bfc98&&_0x4bfc98[_0x146470(0x1a7)]===!![]&&_0x584344&&_0x584344[_0x146470(0x1b6)]>0x0&&automation[_0x146470(0x18d)](_0x51e210,_0x584344);});}else{if(_0x1765a4[_0x14a76a(0x1ad)]==='SIGNAL_RESULT'){const {room:_0x5721bd,propagation:_0x3821f2}=_0x1765a4['payload'];let _0x22be8e=_0x14a76a(0x195),_0xdeae59=0x0;if(_0x3821f2){const _0x1625db=Object[_0x14a76a(0x181)](_0x3821f2);_0x1625db[_0x14a76a(0x1b6)]>0x0&&(_0x22be8e=_0x1625db[0x0][0x0],_0xdeae59=_0x1625db[0x0][0x1]);}_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x1b4),{'val':_0x22be8e,'ack':!![]}),_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x1b7),{'val':_0xdeae59,'ack':!![]}),automation[_0x14a76a(0x18b)](_0x51e210,_0x22be8e,_0xdeae59);}else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x183)){const {probabilities:_0x544fe7}=_0x1765a4[_0x14a76a(0x182)];if(_0x544fe7){_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x1cf),{'val':JSON['stringify'](_0x544fe7),'ack':!![]});const _0x5e84c8=Object[_0x14a76a(0x186)](_0x544fe7);if(_0x5e84c8['length']>0x0){const _0x3f53ad=_0x5e84c8[0x0],_0x44e91b=_0x544fe7[_0x3f53ad];_0x51e210[_0x14a76a(0x1af)](_0x14a76a(0x1c0),{'val':_0x3f53ad,'ack':!![]}),_0x51e210[_0x14a76a(0x1af)]('analysis.prediction.trackerConfidence',{'val':_0x44e91b,'ack':!![]});}}}else{if(_0x1765a4[_0x14a76a(0x1ad)]===_0x14a76a(0x1d4)){const {patterns:_0x16186b}=_0x1765a4[_0x14a76a(0x182)];if(_0x16186b&&_0x16186b[_0x14a76a(0x1b6)]>0x0)_0x51e210[_0x14a76a(0x1af)]('analysis.automation.detectedPatterns',{'val':JSON['stringify'](_0x16186b),'ack':!![]});}}}}}}}}}}}}}}}}function startService(_0x3d9db1,_0x482d4a){const _0x51372a=a4_0x1f041a;let _0x5d0d34=_0x51372a(0x1ca);if(fs['existsSync'](_0x482d4a))_0x5d0d34=_0x482d4a;try{const _0x33dedf=path[_0x51372a(0x196)](__dirname,'..',_0x51372a(0x1b2),_0x51372a(0x18c));pythonProcess=spawn(_0x5d0d34,[_0x33dedf]),pythonProcess[_0x51372a(0x180)]['on'](_0x51372a(0x17d),_0x4a2b53=>{const _0x4e72e3=_0x51372a,_0x485b1a=_0x4a2b53[_0x4e72e3(0x1ab)]()['split']('\x0a');_0x485b1a['forEach'](_0x4cb632=>{const _0x5420b4=_0x4e72e3,_0x1fac10=_0x4cb632[_0x5420b4(0x1d3)]();if(!_0x1fac10)return;if(_0x1fac10['startsWith']('[LOG]'))_0x3d9db1[_0x5420b4(0x19a)][_0x5420b4(0x17f)](_0x5420b4(0x18e)+_0x1fac10[_0x5420b4(0x18a)](0x5)[_0x5420b4(0x1d3)]());else{if(_0x1fac10['startsWith'](_0x5420b4(0x190)))try{const _0x10fa0a=JSON[_0x5420b4(0x18f)](_0x1fac10[_0x5420b4(0x18a)](0x8)['trim']());handleResult(_0x3d9db1,_0x10fa0a);}catch(_0x331f59){}}});}),pythonProcess['on']('close',_0x1a41f9=>{pythonProcess=null;}),_0x3d9db1[_0x51372a(0x188)]=(_0x3483de,_0x161cc5)=>send(_0x3d9db1,_0x3483de,_0x161cc5);}catch(_0x2278fc){_0x3d9db1[_0x51372a(0x19a)][_0x51372a(0x1a5)](_0x51372a(0x1ac)+_0x2278fc[_0x51372a(0x1d1)]);}}function stopService(_0x48010f){const _0x3599bf=a4_0x1f041a;if(pythonProcess){try{pythonProcess[_0x3599bf(0x1a3)]();}catch(_0x3cbe69){}pythonProcess=null;}}module[a4_0x1f041a(0x1c7)]={'startService':startService,'stopService':stopService,'send':send};