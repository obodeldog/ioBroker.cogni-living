const a4_0x2f369d=a4_0x42b5;function a4_0x42b5(_0x9b8ba6,_0x10471d){const _0xd4a642=a4_0x300b();return a4_0x42b5=function(_0x193cb1,_0x588963){_0x193cb1=_0x193cb1-0x84;let _0x300b4e=_0xd4a642[_0x193cb1];return _0x300b4e;},a4_0x42b5(_0x9b8ba6,_0x10471d);}(function(_0x703f26,_0xcff658){const _0x646d27=a4_0x42b5,_0x2ac9f5=_0x703f26();while(!![]){try{const _0x57134b=parseInt(_0x646d27(0x86))/0x1+-parseInt(_0x646d27(0xc6))/0x2*(-parseInt(_0x646d27(0xfc))/0x3)+parseInt(_0x646d27(0xb5))/0x4+-parseInt(_0x646d27(0x9b))/0x5+parseInt(_0x646d27(0xd4))/0x6*(-parseInt(_0x646d27(0xe9))/0x7)+parseInt(_0x646d27(0x11d))/0x8*(-parseInt(_0x646d27(0xb9))/0x9)+-parseInt(_0x646d27(0xf1))/0xa*(-parseInt(_0x646d27(0xe1))/0xb);if(_0x57134b===_0xcff658)break;else _0x2ac9f5['push'](_0x2ac9f5['shift']());}catch(_0x1ce673){_0x2ac9f5['push'](_0x2ac9f5['shift']());}}}(a4_0x300b,0xca39a));const a4_0x588963=(function(){let _0x5dc92e=!![];return function(_0x2e2615,_0x4f912b){const _0x455be6=_0x5dc92e?function(){const _0x54ae3b=a4_0x42b5;if(_0x4f912b){const _0x407fb7=_0x4f912b[_0x54ae3b(0xcb)](_0x2e2615,arguments);return _0x4f912b=null,_0x407fb7;}}:function(){};return _0x5dc92e=![],_0x455be6;};}()),a4_0x193cb1=a4_0x588963(this,function(){const _0x144e3e=a4_0x42b5;return a4_0x193cb1[_0x144e3e(0xe4)]()[_0x144e3e(0xcd)]('(((.+)+)+)+$')[_0x144e3e(0xe4)]()[_0x144e3e(0x9c)](a4_0x193cb1)['search'](_0x144e3e(0xab));});a4_0x193cb1();'use strict';const {spawn}=require(a4_0x2f369d(0xfe)),path=require('path'),fs=require('fs'),setup=require(a4_0x2f369d(0xbb)),automation=require(a4_0x2f369d(0xe3));let pythonProcess=null,pendingCallbacks=new Map();function send(_0x2307a3,_0x7a9a15,_0x5d2179={},_0x3caf63=null){const _0x29ffa8=a4_0x2f369d;if(!pythonProcess||!pythonProcess[_0x29ffa8(0x102)]['writable'])return;if(_0x7a9a15==='SET_TOPOLOGY'){const _0x3464e5=JSON[_0x29ffa8(0xb6)](JSON[_0x29ffa8(0xde)](_0x5d2179));_0x3464e5['rooms']&&Array[_0x29ffa8(0xe6)](_0x3464e5[_0x29ffa8(0x89)])&&(_0x3464e5[_0x29ffa8(0x89)]=_0x3464e5[_0x29ffa8(0x89)][_0x29ffa8(0x113)](_0x389872=>setup[_0x29ffa8(0x108)](_0x389872)),_0x2307a3[_0x29ffa8(0x11c)][_0x29ffa8(0xda)](_0x29ffa8(0x8c)+_0x3464e5[_0x29ffa8(0x89)][_0x29ffa8(0xdf)](0x0,0x3)[_0x29ffa8(0xb1)](',\x20')+_0x29ffa8(0xd0))),_0x3464e5[_0x29ffa8(0x109)]&&Array[_0x29ffa8(0xe6)](_0x3464e5[_0x29ffa8(0x109)])&&(_0x3464e5[_0x29ffa8(0x109)]=_0x3464e5['monitored'][_0x29ffa8(0x113)](_0x50ddf9=>setup['normalizeRoomId'](_0x50ddf9))),_0x5d2179=_0x3464e5;}if((_0x7a9a15===_0x29ffa8(0xf3)||_0x7a9a15==='TRAIN_SECURITY')&&_0x5d2179['sequences']){if(Array[_0x29ffa8(0xe6)](_0x5d2179[_0x29ffa8(0x93)]))try{_0x5d2179[_0x29ffa8(0x93)][_0x29ffa8(0xed)]>0x0&&_0x2307a3[_0x29ffa8(0x11c)]['debug']('[Bridge-Debug]\x20Raw\x20Sequence\x20[0]:\x20'+JSON[_0x29ffa8(0xde)](_0x5d2179[_0x29ffa8(0x93)][0x0])[_0x29ffa8(0xe8)](0x0,0x64)+_0x29ffa8(0xd0)),_0x5d2179['sequences']=_0x5d2179[_0x29ffa8(0x93)][_0x29ffa8(0x113)](_0x52456b=>{const _0x5d1a81=_0x29ffa8;if(_0x52456b&&_0x52456b[_0x5d1a81(0xdd)]&&Array[_0x5d1a81(0xe6)](_0x52456b[_0x5d1a81(0xdd)]))return _0x52456b[_0x5d1a81(0xdd)][_0x5d1a81(0x113)](_0x557346=>{const _0x1abe78=_0x5d1a81,_0x200ee5=_0x557346[_0x1abe78(0xef)]||_0x557346[_0x1abe78(0xa3)]||_0x557346;return setup[_0x1abe78(0x108)](_0x200ee5);});else{if(Array['isArray'](_0x52456b))return _0x52456b[_0x5d1a81(0x113)](_0x2072c5=>setup[_0x5d1a81(0x108)](_0x2072c5));}return[];}),_0x5d2179[_0x29ffa8(0x93)]['length']>0x0&&_0x2307a3[_0x29ffa8(0x11c)]['info'](_0x29ffa8(0xc8)+JSON[_0x29ffa8(0xde)](_0x5d2179[_0x29ffa8(0x93)][0x0]));}catch(_0x1650af){_0x2307a3[_0x29ffa8(0x11c)][_0x29ffa8(0x10b)]('Gateway\x20Unpack\x20Error:\x20'+_0x1650af[_0x29ffa8(0x10f)]),_0x5d2179[_0x29ffa8(0x93)]=[];}else _0x5d2179[_0x29ffa8(0x93)]=[];}_0x5d2179[_0x29ffa8(0x104)]&&typeof _0x5d2179[_0x29ffa8(0x104)]===_0x29ffa8(0xba)&&(_0x5d2179[_0x29ffa8(0x104)]=setup[_0x29ffa8(0x108)](_0x5d2179[_0x29ffa8(0x104)]));if(_0x5d2179['current_temps']&&typeof _0x5d2179[_0x29ffa8(0xeb)]==='object'){const _0x344c2e={};for(const [_0x15d891,_0x446a1d]of Object[_0x29ffa8(0xf2)](_0x5d2179[_0x29ffa8(0xeb)]))_0x344c2e[setup[_0x29ffa8(0x108)](_0x15d891)]=_0x446a1d;_0x5d2179[_0x29ffa8(0xeb)]=_0x344c2e;}if(_0x5d2179[_0x29ffa8(0xcc)]&&typeof _0x5d2179[_0x29ffa8(0xcc)]==='object'){const _0x4aeb5a={};for(const [_0x563906,_0x33d2bd]of Object[_0x29ffa8(0xf2)](_0x5d2179['warmup_targets']))_0x4aeb5a[setup[_0x29ffa8(0x108)](_0x563906)]=_0x33d2bd;_0x5d2179[_0x29ffa8(0xcc)]=_0x4aeb5a;}if(_0x5d2179[_0x29ffa8(0x8d)]&&typeof _0x5d2179[_0x29ffa8(0x8d)]==='object'){const _0x485f49={};for(const [_0x2c86f7,_0x56098e]of Object[_0x29ffa8(0xf2)](_0x5d2179[_0x29ffa8(0x8d)]))_0x485f49[setup[_0x29ffa8(0x108)](_0x2c86f7)]=_0x56098e;_0x5d2179[_0x29ffa8(0x8d)]=_0x485f49;}_0x7a9a15==='TRAIN_ENERGY'&&_0x5d2179[_0x29ffa8(0xa9)]&&Array['isArray'](_0x5d2179['points'])&&_0x5d2179['points']['forEach'](_0x4a14e6=>{const _0x412851=_0x29ffa8;if(_0x4a14e6&&_0x4a14e6[_0x412851(0x104)])_0x4a14e6['room']=setup[_0x412851(0x108)](_0x4a14e6[_0x412851(0x104)]);});const _0xa68093=JSON['stringify']({'command':_0x7a9a15,..._0x5d2179});try{pythonProcess[_0x29ffa8(0x102)]['write'](_0xa68093+'\x0a'),_0x3caf63&&(pendingCallbacks[_0x29ffa8(0xfa)](_0x7a9a15,_0x3caf63),setTimeout(()=>{const _0x3fc85f=_0x29ffa8;pendingCallbacks[_0x3fc85f(0x105)](_0x7a9a15)&&(pendingCallbacks[_0x3fc85f(0xae)](_0x7a9a15),_0x2307a3['log'][_0x3fc85f(0x10b)](_0x3fc85f(0xdc)+_0x7a9a15));},0x2710));}catch(_0x48e1a0){}}function a4_0x300b(){const _0x59968d=['analysis.energy.rlPenalties','[Bridge-Debug]\x20Setting\x20Topology\x20Rooms\x20(Sample):\x20','targets','ðŸš€\x20Starting\x20Python\x20Bridge\x20using:\x20','heating','HEALTH_TREND_RESULT','getState','analysis.prediction.trackerTopRoom','sequences','Unknown','[PythonBridge]\x20Callback\x20matched:\x20','COMFORT_RESULT','_RESULT','penalties','analysis.isAlert','is_anomaly','4100665WIeGfK','constructor','[PYTHON\x20ERR]\x20','analysis.security.lastScore','keys','analysis.security.currentThreshold','threshold','TRACKER_RESULT','location','forEach','analysis.energy.forecast','stdout','details','GAIT_RESULT','points','Error\x20launching\x20Python:\x20','(((.+)+)+)+$','\x0aGrund:\x20','ENERGY_OPTIMIZE_RESULT','delete','insulation','close','join','[LOG]','python_service','type','3139700qPkpaf','parse','times','[RESULT]','11867841wsxajB','string','./setup','\x20Rooms)','stderr','Python\x20process\x20exited\x20with\x20code\x20','analysis.training.status','existsSync','analysis.health.activityTrend','[PYTHON\x20WARN]\x20','âŒ\x20CRITICAL:\x20\x27service.py\x27\x20not\x20found!','WARMUP_RESULT','âš ï¸\x20SECURITY\x20ALARM:\x20','6WyFHRg','includes','[Bridge-Debug]\x20Normalized\x20Sequence\x20[0]\x20(Unpacked):\x20','analysis.health.isAnomaly','Graph\x20Updated\x20(','apply','warmup_targets','search','debug','speed_trend','...','alerts','analysis.energy.mpcActive','kill','198102QXosiT','forecast','analysis.health.gaitSensors','analysis.energy.ventilationAlerts','analysis.energy.warmupDetails','Success:\x20','info','sources','[PythonBridge]\x20Timeout\x20for\x20command:\x20','steps','stringify','slice','analysis.energy.warmupSources','7205dfxjzE','exports','./automation','toString','SECURITY_RESULT','isArray','val','substring','182YlOXDJ','HEALTH_RESULT','current_temps','split','length','toLocaleTimeString','loc','VENTILATION_ALERT','28370cHdTCL','entries','TRAIN_TOPOLOGY','payload','SIGNAL_RESULT','analysis.prediction.nextRoom','HEALTH_TRAIN_RESULT','analysis.energy.pinnForecast','success','set','analysis.prediction.trackerState','948603HpHghl','sendToPythonWrapper','child_process','patterns','analysis.energy.insulationScore','âœ…\x20HEALTH\x20TRAINED.','stdin','UserWarning','room','has','analysis.health.gaitSpeed','setStateAsync','normalizeRoomId','monitored','service.py','warn','analysis.prediction.confidence','analysis.automation.detectedPatterns','data','message','analysis.security.lastCheck','matrix','trend_percent','map','trim','ENERGY_TRAIN_RESULT','ðŸ\x20Python\x20Pong','analysis.prediction.trackerConfidence','sensors','FutureWarning','PINN_PREDICT_RESULT','TRAINING_COMPLETE','log','8ZKmEOc','proof','ðŸ“ˆ\x20Health\x20Trend:\x20','error','Failed:\x20','233775MfwpOm','DeprecationWarning','applyEnergySavings','rooms','analysis.energy.heatingScore'];a4_0x300b=function(){return _0x59968d;};return a4_0x300b();}function handleResult(_0x33e092,_0x2027e2){const _0x1675cc=a4_0x2f369d;for(const [_0x954bf7,_0x292d9f]of pendingCallbacks[_0x1675cc(0xf2)]()){const _0x29cdc7=_0x954bf7['replace']('ANALYZE_','')+_0x1675cc(0x97);if(_0x2027e2[_0x1675cc(0xb4)]===_0x29cdc7||_0x2027e2['type']===_0x954bf7+_0x1675cc(0x97)){pendingCallbacks[_0x1675cc(0xae)](_0x954bf7),_0x33e092['log'][_0x1675cc(0xce)](_0x1675cc(0x95)+_0x954bf7+'\x20â†’\x20'+_0x2027e2[_0x1675cc(0xb4)]),_0x292d9f(_0x2027e2);return;}}if(_0x2027e2['type']==='PONG')_0x33e092[_0x1675cc(0x11c)][_0x1675cc(0xce)](_0x1675cc(0x116));else{if(_0x2027e2[_0x1675cc(0xb4)]===_0x1675cc(0xe5)){const {anomaly_score:_0x21d3b4,is_anomaly:_0x4367bf,threshold:_0x474aed,explanation:_0x18e5d7}=_0x2027e2[_0x1675cc(0xf4)];_0x33e092['setStateAsync'](_0x1675cc(0x9e),{'val':_0x21d3b4,'ack':!![]}),_0x33e092['setStateAsync'](_0x1675cc(0x110),{'val':new Date()['toISOString'](),'ack':!![]});if(_0x474aed)_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xa0),{'val':_0x474aed,'ack':!![]});if(_0x4367bf){let _0x508f91='UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20'+_0x21d3b4['toFixed'](0x4)+')';if(_0x18e5d7&&_0x18e5d7!==_0x1675cc(0x94))_0x508f91+=_0x1675cc(0xac)+_0x18e5d7;_0x33e092[_0x1675cc(0x107)](_0x1675cc(0x99),{'val':!![],'ack':!![]}),_0x33e092[_0x1675cc(0x107)]('analysis.alertReason',{'val':_0x508f91,'ack':!![]}),setup['sendNotification'](_0x33e092,_0x1675cc(0xc5)+_0x508f91,![],!![]);}}else{if(_0x2027e2[_0x1675cc(0xb4)]===_0x1675cc(0x11b)){const _0x16e0d4=_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xa7)]||'',_0x5efe1c=_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xa1)],_0x4cfc20=_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xf9)]?_0x1675cc(0xd9)+new Date()[_0x1675cc(0xee)]()+'\x20('+_0x16e0d4+')':_0x1675cc(0x85)+_0x2027e2[_0x1675cc(0xf4)]['reason'];_0x33e092['setStateAsync'](_0x1675cc(0xbf),{'val':_0x4cfc20,'ack':!![]});if(_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xf9)]&&_0x5efe1c)_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xa0),{'val':_0x5efe1c,'ack':!![]});}else{if(_0x2027e2[_0x1675cc(0xb4)]==='GRAPH_TRAINED'){const _0x473eb8=_0x1675cc(0xca)+_0x2027e2['payload'][_0x1675cc(0x89)][_0x1675cc(0xed)]+_0x1675cc(0xbc);_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xbf),{'val':_0x473eb8,'ack':!![]}),_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0x111)]&&_0x2027e2['payload'][_0x1675cc(0x89)]&&_0x33e092['setStateAsync']('analysis.security.topologyMatrix',{'val':JSON[_0x1675cc(0xde)](_0x2027e2[_0x1675cc(0xf4)]),'ack':!![]});}else{if(_0x2027e2[_0x1675cc(0xb4)]===_0x1675cc(0x115)){if(_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xf9)])try{const _0x55b36b=JSON[_0x1675cc(0xb6)](_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xa7)]);if(_0x55b36b['insulation'])_0x33e092[_0x1675cc(0x107)](_0x1675cc(0x100),{'val':JSON['stringify'](_0x55b36b[_0x1675cc(0xaf)]),'ack':!![]});if(_0x55b36b[_0x1675cc(0x8f)])_0x33e092['setStateAsync'](_0x1675cc(0x8a),{'val':JSON['stringify'](_0x55b36b['heating']),'ack':!![]});}catch(_0x25952e){}}else{if(_0x2027e2['type']===_0x1675cc(0xf7))_0x33e092[_0x1675cc(0x11c)][_0x1675cc(0xda)](_0x1675cc(0x101)),_0x33e092[_0x1675cc(0x107)]('analysis.health.lastCheck',{'val':new Date()['toLocaleDateString'](),'ack':!![]});else{if(_0x2027e2['type']===_0x1675cc(0xea))_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xc9),{'val':_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0x9a)],'ack':!![]});else{if(_0x2027e2[_0x1675cc(0xb4)]===_0x1675cc(0x90))_0x33e092['setStateAsync'](_0x1675cc(0xc1),{'val':_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0x112)],'ack':!![]}),_0x33e092[_0x1675cc(0x11c)]['info'](_0x1675cc(0x11f)+_0x2027e2['payload'][_0x1675cc(0xa7)]);else{if(_0x2027e2[_0x1675cc(0xb4)]===_0x1675cc(0xa8)){if(_0x2027e2['payload'][_0x1675cc(0xcf)]!==undefined)_0x33e092['setStateAsync'](_0x1675cc(0x106),{'val':_0x2027e2[_0x1675cc(0xf4)]['speed_trend'],'ack':!![]});if(_0x2027e2[_0x1675cc(0xf4)]['sensors'])_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xd6),{'val':_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0x118)][_0x1675cc(0xb1)](',\x20'),'ack':!![]});if(_0x2027e2['payload'][_0x1675cc(0x11e)])_0x33e092['setStateAsync']('analysis.health.gaitDebug',{'val':_0x2027e2['payload'][_0x1675cc(0x11e)],'ack':!![]});}else{if(_0x2027e2[_0x1675cc(0xb4)]==='ENERGY_PREDICT_RESULT'){if(_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xd5)])_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xa5),{'val':JSON['stringify'](_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xd5)]),'ack':!![]});}else{if(_0x2027e2[_0x1675cc(0xb4)]===_0x1675cc(0xc4)){if(_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xb7)])_0x33e092['setStateAsync']('analysis.energy.warmupTimes',{'val':JSON[_0x1675cc(0xde)](_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xb7)]),'ack':!![]});if(_0x2027e2[_0x1675cc(0xf4)]['sources'])_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xe0),{'val':JSON['stringify'](_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xdb)]),'ack':!![]});if(_0x2027e2['payload'][_0x1675cc(0xa7)])_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xd8),{'val':JSON['stringify'](_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xa7)]),'ack':!![]});}else{if(_0x2027e2['type']==='RL_PENALTY_UPDATE'){if(_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0x98)])_0x33e092['setStateAsync'](_0x1675cc(0x8b),{'val':JSON[_0x1675cc(0xde)](_0x2027e2['payload'][_0x1675cc(0x98)]),'ack':!![]});}else{if(_0x2027e2['type']===_0x1675cc(0x11a)){if(_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xd5)])_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xf8),{'val':JSON['stringify'](_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xd5)]),'ack':!![]});}else{if(_0x2027e2[_0x1675cc(0xb4)]===_0x1675cc(0xf0)){if(_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xd1)])_0x33e092['setStateAsync'](_0x1675cc(0xd7),{'val':JSON[_0x1675cc(0xde)](_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xd1)]),'ack':!![]});}else{if(_0x2027e2[_0x1675cc(0xb4)]===_0x1675cc(0xad)){const {proposals:_0x294f5e}=_0x2027e2[_0x1675cc(0xf4)];_0x33e092[_0x1675cc(0x91)](_0x1675cc(0xd2),(_0x4550e3,_0x5ae3e5)=>{const _0xa589d=_0x1675cc;if(_0x5ae3e5&&_0x5ae3e5[_0xa589d(0xe7)]===!![]&&_0x294f5e&&_0x294f5e['length']>0x0)automation[_0xa589d(0x88)](_0x33e092,_0x294f5e);});}else{if(_0x2027e2['type']===_0x1675cc(0xf5)){const {propagation:_0x3e3dc8}=_0x2027e2[_0x1675cc(0xf4)];let _0x3ab50c=_0x1675cc(0x94),_0x57f0f2=0x0;if(_0x3e3dc8){const _0x745ca9=Object[_0x1675cc(0xf2)](_0x3e3dc8);_0x745ca9[_0x1675cc(0xed)]>0x0&&(_0x3ab50c=_0x745ca9[0x0][0x0],_0x57f0f2=_0x745ca9[0x0][0x1]);}_0x33e092['setStateAsync'](_0x1675cc(0xf6),{'val':_0x3ab50c,'ack':!![]}),_0x33e092['setStateAsync'](_0x1675cc(0x10c),{'val':_0x57f0f2,'ack':!![]}),automation['handlePrediction'](_0x33e092,_0x3ab50c,_0x57f0f2);}else{if(_0x2027e2['type']===_0x1675cc(0xa2)){const {probabilities:_0x591680}=_0x2027e2[_0x1675cc(0xf4)];if(_0x591680){_0x33e092[_0x1675cc(0x107)](_0x1675cc(0xfb),{'val':JSON[_0x1675cc(0xde)](_0x591680),'ack':!![]});const _0x24aa6e=Object[_0x1675cc(0x9f)](_0x591680);_0x24aa6e['length']>0x0&&(_0x33e092[_0x1675cc(0x107)](_0x1675cc(0x92),{'val':_0x24aa6e[0x0],'ack':!![]}),_0x33e092[_0x1675cc(0x107)](_0x1675cc(0x117),{'val':_0x591680[_0x24aa6e[0x0]],'ack':!![]}));}}else{if(_0x2027e2['type']===_0x1675cc(0x96)){if(_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xff)])_0x33e092[_0x1675cc(0x107)](_0x1675cc(0x10d),{'val':JSON['stringify'](_0x2027e2[_0x1675cc(0xf4)][_0x1675cc(0xff)]),'ack':!![]});}}}}}}}}}}}}}}}}}}}function startService(_0x5f248e,_0x3c2998){const _0x3cb38a=a4_0x2f369d;let _0x2e6cae='python3';if(fs[_0x3cb38a(0xc0)](_0x3c2998))_0x2e6cae=_0x3c2998;const _0x1bc940=path[_0x3cb38a(0xb1)](__dirname,'..',_0x3cb38a(0x10a)),_0x5435ac=path[_0x3cb38a(0xb1)](__dirname,'..',_0x3cb38a(0xb3),_0x3cb38a(0x10a));let _0x1672bd=fs['existsSync'](_0x1bc940)?_0x1bc940:fs[_0x3cb38a(0xc0)](_0x5435ac)?_0x5435ac:null;if(!_0x1672bd){_0x5f248e['log']['error'](_0x3cb38a(0xc3));return;}try{_0x5f248e[_0x3cb38a(0x11c)][_0x3cb38a(0xda)](_0x3cb38a(0x8e)+_0x2e6cae+'\x20'+_0x1672bd),pythonProcess=spawn(_0x2e6cae,[_0x1672bd]),pythonProcess[_0x3cb38a(0xa6)]['on'](_0x3cb38a(0x10e),_0x40eaed=>{const _0x29962b=_0x3cb38a,_0x1dafc8=_0x40eaed['toString']()[_0x29962b(0xec)]('\x0a');_0x1dafc8[_0x29962b(0xa4)](_0x4d6dc3=>{const _0x44ca74=_0x29962b,_0x4f2adf=_0x4d6dc3[_0x44ca74(0x114)]();if(!_0x4f2adf)return;if(_0x4f2adf['startsWith'](_0x44ca74(0xb2)))_0x5f248e[_0x44ca74(0x11c)][_0x44ca74(0xce)]('[PYTHON]\x20'+_0x4f2adf[_0x44ca74(0xe8)](0x5)[_0x44ca74(0x114)]());else{if(_0x4f2adf['startsWith'](_0x44ca74(0xb8)))try{const _0x1d4fcd=JSON[_0x44ca74(0xb6)](_0x4f2adf['substring'](0x8)[_0x44ca74(0x114)]());handleResult(_0x5f248e,_0x1d4fcd);}catch(_0x3f8200){}}});}),pythonProcess[_0x3cb38a(0xbd)]['on'](_0x3cb38a(0x10e),_0x1527e4=>{const _0x2537b1=_0x3cb38a,_0x19d116=_0x1527e4[_0x2537b1(0xe4)]()[_0x2537b1(0x114)]();if(!_0x19d116)return;_0x19d116[_0x2537b1(0xc7)](_0x2537b1(0x119))||_0x19d116[_0x2537b1(0xc7)](_0x2537b1(0x103))||_0x19d116['includes'](_0x2537b1(0x87))?_0x5f248e['log'][_0x2537b1(0x10b)](_0x2537b1(0xc2)+_0x19d116):_0x5f248e[_0x2537b1(0x11c)][_0x2537b1(0x84)](_0x2537b1(0x9d)+_0x19d116);}),pythonProcess['on'](_0x3cb38a(0xb0),_0x677bac=>{const _0x5aaa11=_0x3cb38a;_0x5f248e[_0x5aaa11(0x11c)][_0x5aaa11(0x10b)](_0x5aaa11(0xbe)+_0x677bac),pythonProcess=null;}),_0x5f248e[_0x3cb38a(0xfd)]=(_0x5b09fd,_0x5a96d5)=>send(_0x5f248e,_0x5b09fd,_0x5a96d5);}catch(_0x57842c){_0x5f248e[_0x3cb38a(0x11c)][_0x3cb38a(0x84)](_0x3cb38a(0xaa)+_0x57842c[_0x3cb38a(0x10f)]);}}function stopService(_0xff9c9a){const _0x298f0d=a4_0x2f369d;if(pythonProcess){try{pythonProcess[_0x298f0d(0xd3)]();}catch(_0xea0082){}pythonProcess=null;}}module[a4_0x2f369d(0xe2)]={'startService':startService,'stopService':stopService,'send':send};