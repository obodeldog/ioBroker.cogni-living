const a4_0x5ccc5b=a4_0x1c61;function a4_0x3c07(){const _0x42583d=['ENERGY_PREDICT_RESULT','toISOString','setStateAsync','python_service','analysis.prediction.nextRoom','constructor','kill','existsSync','service.py','payload','analysis.energy.warmupSources','substring','âœ…\x20HEALTH\x20TRAINED.','639680Fwxqco','analysis.prediction.trackerState','toFixed','startsWith','220666vuYyBK','toString','HEALTH_TRAIN_RESULT','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','close','entries','Success:\x20','1032720LyJTaH','message','RL_PENALTY_UPDATE','Error\x20launching\x20Python:\x20','analysis.energy.heatingScore','getState','handlePrediction','analysis.security.currentThreshold','trim','stdin','analysis.energy.warmupTimes','analysis.health.lastCheck','analysis.energy.insulationScore','ðŸ\x20Python\x20Pong','analysis.security.lastCheck','PONG','heating','search','[PYTHON]\x20','is_anomaly','4060707PeoSGL','exports','success','keys','analysis.prediction.confidence','WARMUP_RESULT','GAIT_RESULT','type','COMFORT_RESULT','length','HEALTH_RESULT','debug','analysis.training.status','analysis.automation.detectedPatterns','stdout','./automation','writable','parse','9GYMTYg','76XVdaJt','insulation','toLocaleTimeString','[LOG]','./setup','threshold','path','2860952aCYvDv','analysis.isAlert','details','analysis.energy.pinnForecast','info','child_process','(((.+)+)+)+$','data','561575IqWWEv','applyEnergySavings','âš ï¸\x20SECURITY\x20ALARM:\x20','analysis.alertReason','ENERGY_TRAIN_RESULT','Failed:\x20','analysis.energy.mpcActive','analysis.energy.ventilationAlerts','ENERGY_OPTIMIZE_RESULT','PINN_PREDICT_RESULT','analysis.health.gaitSpeed','analysis.prediction.trackerConfidence','19179wCpeAN','python3','\x0aGrund:\x20','analysis.energy.forecast','analysis.energy.warmupDetails','split','SECURITY_RESULT','VENTILATION_ALERT','join','write','log','TRACKER_RESULT','stringify','error'];a4_0x3c07=function(){return _0x42583d;};return a4_0x3c07();}(function(_0x427847,_0x1e8b79){const _0x21f757=a4_0x1c61,_0x5ebe84=_0x427847();while(!![]){try{const _0xd87be3=parseInt(_0x21f757(0x105))/0x1+-parseInt(_0x21f757(0x109))/0x2+-parseInt(_0x21f757(0xea))/0x3*(-parseInt(_0x21f757(0xcf))/0x4)+parseInt(_0x21f757(0xde))/0x5+-parseInt(_0x21f757(0x110))/0x6+-parseInt(_0x21f757(0x124))/0x7+parseInt(_0x21f757(0xd6))/0x8*(parseInt(_0x21f757(0xce))/0x9);if(_0xd87be3===_0x1e8b79)break;else _0x5ebe84['push'](_0x5ebe84['shift']());}catch(_0x120c97){_0x5ebe84['push'](_0x5ebe84['shift']());}}}(a4_0x3c07,0x59f8f));const a4_0x5e8da6=(function(){let _0x5a56fb=!![];return function(_0x8a2641,_0xa3de70){const _0x8b3843=_0x5a56fb?function(){if(_0xa3de70){const _0x5d4e46=_0xa3de70['apply'](_0x8a2641,arguments);return _0xa3de70=null,_0x5d4e46;}}:function(){};return _0x5a56fb=![],_0x8b3843;};}()),a4_0x58027f=a4_0x5e8da6(this,function(){const _0x181430=a4_0x1c61;return a4_0x58027f[_0x181430(0x10a)]()['search'](_0x181430(0xdc))[_0x181430(0x10a)]()[_0x181430(0xfd)](a4_0x58027f)[_0x181430(0x121)](_0x181430(0xdc));});a4_0x58027f();'use strict';const {spawn}=require(a4_0x5ccc5b(0xdb)),path=require(a4_0x5ccc5b(0xd5)),fs=require('fs'),setup=require(a4_0x5ccc5b(0xd3)),automation=require(a4_0x5ccc5b(0xcb));let pythonProcess=null;function send(_0x58e228,_0x3aeef2,_0x4038c7={}){const _0x344e94=a4_0x5ccc5b;if(!pythonProcess||!pythonProcess[_0x344e94(0x119)][_0x344e94(0xcc)])return;const _0xd9f927=JSON[_0x344e94(0xf6)]({'command':_0x3aeef2,..._0x4038c7});try{pythonProcess[_0x344e94(0x119)][_0x344e94(0xf3)](_0xd9f927+'\x0a');}catch(_0x12f98b){}}function handleResult(_0x2fc942,_0x5c2eb3){const _0x1ba546=a4_0x5ccc5b;if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0x11f))_0x2fc942['log'][_0x1ba546(0xc7)](_0x1ba546(0x11d));else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0xf0)){const {anomaly_score:_0x4ef47a,is_anomaly:_0x281847,threshold:_0x481e8f,explanation:_0x5096c0}=_0x5c2eb3[_0x1ba546(0x101)];_0x2fc942[_0x1ba546(0xfa)]('analysis.security.lastScore',{'val':_0x4ef47a,'ack':!![]}),_0x2fc942['setStateAsync'](_0x1ba546(0x11e),{'val':new Date()[_0x1ba546(0xf9)](),'ack':!![]});if(_0x481e8f)_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0x117),{'val':_0x481e8f,'ack':!![]});if(_0x281847){let _0x5bf89e=_0x1ba546(0x10c)+_0x4ef47a[_0x1ba546(0x107)](0x4)+')';if(_0x5096c0&&_0x5096c0!=='Unknown')_0x5bf89e+=_0x1ba546(0xec)+_0x5096c0;_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xd7),{'val':!![],'ack':!![]}),_0x2fc942['setStateAsync'](_0x1ba546(0xe1),{'val':_0x5bf89e,'ack':!![]}),setup['sendNotification'](_0x2fc942,_0x1ba546(0xe0)+_0x5bf89e,![],!![]);}}else{if(_0x5c2eb3[_0x1ba546(0x12b)]==='TRAINING_COMPLETE'){const _0x1585bd=_0x5c2eb3[_0x1ba546(0x101)][_0x1ba546(0xd8)]||'',_0x342184=_0x5c2eb3['payload'][_0x1ba546(0xd4)],_0x1eb47d=_0x5c2eb3[_0x1ba546(0x101)][_0x1ba546(0x126)]?_0x1ba546(0x10f)+new Date()[_0x1ba546(0xd1)]()+'\x20('+_0x1585bd+')':_0x1ba546(0xe3)+_0x5c2eb3['payload']['reason'];_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xc8),{'val':_0x1eb47d,'ack':!![]});if(_0x5c2eb3[_0x1ba546(0x101)][_0x1ba546(0x126)]&&_0x342184)_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0x117),{'val':_0x342184,'ack':!![]});}else{if(_0x5c2eb3['type']===_0x1ba546(0xe2)){if(_0x5c2eb3[_0x1ba546(0x101)][_0x1ba546(0x126)])try{const _0x39e046=JSON[_0x1ba546(0xcd)](_0x5c2eb3[_0x1ba546(0x101)][_0x1ba546(0xd8)]);if(_0x39e046[_0x1ba546(0xd0)])_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0x11c),{'val':JSON[_0x1ba546(0xf6)](_0x39e046[_0x1ba546(0xd0)]),'ack':!![]});if(_0x39e046[_0x1ba546(0x120)])_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0x114),{'val':JSON[_0x1ba546(0xf6)](_0x39e046['heating']),'ack':!![]});}catch(_0x241233){}}else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0x10b)){if(_0x5c2eb3['payload'][_0x1ba546(0x126)])_0x2fc942[_0x1ba546(0xf4)][_0x1ba546(0xda)](_0x1ba546(0x104));}else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0xc6))_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0x11b),{'val':new Date()[_0x1ba546(0xf9)](),'ack':!![]}),_0x2fc942['setStateAsync']('analysis.health.isAnomaly',{'val':_0x5c2eb3[_0x1ba546(0x101)][_0x1ba546(0x123)],'ack':!![]});else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0x12a)){const {speed_trend:_0x5de643}=_0x5c2eb3[_0x1ba546(0x101)];if(_0x5de643!==undefined)_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xe8),{'val':_0x5de643,'ack':!![]});}else{if(_0x5c2eb3['type']===_0x1ba546(0xf8)){const {forecast:_0x5abea2}=_0x5c2eb3['payload'];if(_0x5abea2)_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xed),{'val':JSON[_0x1ba546(0xf6)](_0x5abea2),'ack':!![]});}else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0x129)){const {times:_0x43389b,sources:_0x2d3df5,details:_0x3b16b7}=_0x5c2eb3[_0x1ba546(0x101)];if(_0x43389b)_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0x11a),{'val':JSON[_0x1ba546(0xf6)](_0x43389b),'ack':!![]});if(_0x2d3df5)_0x2fc942['setStateAsync'](_0x1ba546(0x102),{'val':JSON[_0x1ba546(0xf6)](_0x2d3df5),'ack':!![]});if(_0x3b16b7)_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xee),{'val':JSON[_0x1ba546(0xf6)](_0x3b16b7),'ack':!![]});}else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0x112)){const {penalties:_0x213d93}=_0x5c2eb3[_0x1ba546(0x101)];if(_0x213d93)_0x2fc942[_0x1ba546(0xfa)]('analysis.energy.rlPenalties',{'val':JSON[_0x1ba546(0xf6)](_0x213d93),'ack':!![]});}else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0xe7)){const {forecast:_0x55eea7}=_0x5c2eb3[_0x1ba546(0x101)];if(_0x55eea7)_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xd9),{'val':JSON[_0x1ba546(0xf6)](_0x55eea7),'ack':!![]});}else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0xf1)){const {alerts:_0x3c8ff4}=_0x5c2eb3[_0x1ba546(0x101)];if(_0x3c8ff4)_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xe5),{'val':JSON[_0x1ba546(0xf6)](_0x3c8ff4),'ack':!![]});}else{if(_0x5c2eb3['type']===_0x1ba546(0xe6)){const {proposals:_0xa7ef3d}=_0x5c2eb3[_0x1ba546(0x101)];_0x2fc942[_0x1ba546(0x115)](_0x1ba546(0xe4),(_0x262e42,_0x6990ba)=>{const _0x206e04=_0x1ba546;_0x6990ba&&_0x6990ba['val']===!![]&&_0xa7ef3d&&_0xa7ef3d[_0x206e04(0x12d)]>0x0&&automation[_0x206e04(0xdf)](_0x2fc942,_0xa7ef3d);});}else{if(_0x5c2eb3[_0x1ba546(0x12b)]==='SIGNAL_RESULT'){const {room:_0x1bd8aa,propagation:_0x7fb811}=_0x5c2eb3['payload'];let _0x445d5f='Unknown',_0x58b5f9=0x0;if(_0x7fb811){const _0x5c8147=Object[_0x1ba546(0x10e)](_0x7fb811);_0x5c8147[_0x1ba546(0x12d)]>0x0&&(_0x445d5f=_0x5c8147[0x0][0x0],_0x58b5f9=_0x5c8147[0x0][0x1]);}_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xfc),{'val':_0x445d5f,'ack':!![]}),_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0x128),{'val':_0x58b5f9,'ack':!![]}),automation[_0x1ba546(0x116)](_0x2fc942,_0x445d5f,_0x58b5f9);}else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0xf5)){const {probabilities:_0x57ef5d}=_0x5c2eb3[_0x1ba546(0x101)];if(_0x57ef5d){_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0x106),{'val':JSON[_0x1ba546(0xf6)](_0x57ef5d),'ack':!![]});const _0x305444=Object[_0x1ba546(0x127)](_0x57ef5d);if(_0x305444[_0x1ba546(0x12d)]>0x0){const _0x2e4910=_0x305444[0x0],_0xacce2b=_0x57ef5d[_0x2e4910];_0x2fc942[_0x1ba546(0xfa)]('analysis.prediction.trackerTopRoom',{'val':_0x2e4910,'ack':!![]}),_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xe9),{'val':_0xacce2b,'ack':!![]});}}}else{if(_0x5c2eb3[_0x1ba546(0x12b)]===_0x1ba546(0x12c)){const {patterns:_0x13c7a5}=_0x5c2eb3[_0x1ba546(0x101)];if(_0x13c7a5&&_0x13c7a5[_0x1ba546(0x12d)]>0x0)_0x2fc942[_0x1ba546(0xfa)](_0x1ba546(0xc9),{'val':JSON[_0x1ba546(0xf6)](_0x13c7a5),'ack':!![]});}}}}}}}}}}}}}}}}}function a4_0x1c61(_0x56b293,_0x10f6f7){const _0x5de7fd=a4_0x3c07();return a4_0x1c61=function(_0x58027f,_0x5e8da6){_0x58027f=_0x58027f-0xc6;let _0x3c078a=_0x5de7fd[_0x58027f];return _0x3c078a;},a4_0x1c61(_0x56b293,_0x10f6f7);}function startService(_0x4252f9,_0x262d8e){const _0xadbe2c=a4_0x5ccc5b;let _0x53cb28=_0xadbe2c(0xeb);if(fs[_0xadbe2c(0xff)](_0x262d8e))_0x53cb28=_0x262d8e;try{const _0x337534=path[_0xadbe2c(0xf2)](__dirname,'..',_0xadbe2c(0xfb),_0xadbe2c(0x100));pythonProcess=spawn(_0x53cb28,[_0x337534]),pythonProcess[_0xadbe2c(0xca)]['on'](_0xadbe2c(0xdd),_0x3ac004=>{const _0x439324=_0xadbe2c,_0x35ef50=_0x3ac004[_0x439324(0x10a)]()[_0x439324(0xef)]('\x0a');_0x35ef50['forEach'](_0x24e5f7=>{const _0x59cf8e=_0x439324,_0x4e8735=_0x24e5f7[_0x59cf8e(0x118)]();if(!_0x4e8735)return;if(_0x4e8735[_0x59cf8e(0x108)](_0x59cf8e(0xd2)))_0x4252f9['log']['debug'](_0x59cf8e(0x122)+_0x4e8735[_0x59cf8e(0x103)](0x5)[_0x59cf8e(0x118)]());else{if(_0x4e8735['startsWith']('[RESULT]'))try{const _0x1d8827=JSON[_0x59cf8e(0xcd)](_0x4e8735[_0x59cf8e(0x103)](0x8)[_0x59cf8e(0x118)]());handleResult(_0x4252f9,_0x1d8827);}catch(_0x453754){}}});}),pythonProcess['on'](_0xadbe2c(0x10d),_0x49d3e7=>{pythonProcess=null;}),_0x4252f9['sendToPythonWrapper']=(_0x4ebdf1,_0x108b2f)=>send(_0x4252f9,_0x4ebdf1,_0x108b2f);}catch(_0x52d861){_0x4252f9[_0xadbe2c(0xf4)][_0xadbe2c(0xf7)](_0xadbe2c(0x113)+_0x52d861[_0xadbe2c(0x111)]);}}function stopService(_0x382764){const _0x1ac38f=a4_0x5ccc5b;if(pythonProcess){try{pythonProcess[_0x1ac38f(0xfe)]();}catch(_0x3978e7){}pythonProcess=null;}}module[a4_0x5ccc5b(0x125)]={'startService':startService,'stopService':stopService,'send':send};