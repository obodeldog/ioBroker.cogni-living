function a4_0x5476(){const _0x19e530=['8uOfLlm','type','3jJnkgD','parse','analysis.health.gaitSpeed','GAIT_RESULT','analysis.security.currentThreshold','error','startsWith','analysis.prediction.confidence','apply','analysis.automation.detectedPatterns','join','stringify','analysis.energy.warmupSources','toString','analysis.training.status','python_service','TRAINING_COMPLETE','service.py','3271185nTfucO','exports','heating','analysis.health.isAnomaly','PONG','analysis.prediction.trackerState','303349EjAXVJ','analysis.energy.warmupTimes','analysis.security.lastCheck','stdout','data','ENERGY_PREDICT_RESULT','success','message','child_process','3226206nBKlLl','existsSync','analysis.prediction.trackerConfidence','writable','COMFORT_RESULT','analysis.health.lastCheck','PINN_PREDICT_RESULT','431488bgcJgX','Unknown','kill','keys','âœ…\x20HEALTH\x20TRAINED.','analysis.isAlert','./setup','log','trim','info','13412949ohHTzx','python3','sendToPythonWrapper','search','\x0aGrund:\x20','(((.+)+)+)+$','Error\x20launching\x20Python:\x20','details','write','[PYTHON]\x20','SECURITY_RESULT','debug','analysis.alertReason','handlePrediction','analysis.energy.mpcActive','payload','forEach','substring','HEALTH_TRAIN_RESULT','getState','[RESULT]','close','5MXCQjI','HEALTH_RESULT','sendNotification','val','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','5084890qcbxQC','insulation','3923311zscziW','length','ENERGY_TRAIN_RESULT','toISOString','setStateAsync','reason','./automation','analysis.energy.pinnForecast','ðŸ\x20Python\x20Pong','analysis.energy.insulationScore','is_anomaly','4WTmlcg'];a4_0x5476=function(){return _0x19e530;};return a4_0x5476();}const a4_0x2a95f9=a4_0x2f71;(function(_0x5de3af,_0x227fa0){const _0x69c645=a4_0x2f71,_0x225e22=_0x5de3af();while(!![]){try{const _0x46e243=parseInt(_0x69c645(0x9d))/0x1*(-parseInt(_0x69c645(0xdf))/0x2)+parseInt(_0x69c645(0xe2))/0x3*(-parseInt(_0x69c645(0xad))/0x4)+-parseInt(_0x69c645(0xcd))/0x5*(parseInt(_0x69c645(0xa6))/0x6)+-parseInt(_0x69c645(0xd4))/0x7*(-parseInt(_0x69c645(0xe0))/0x8)+parseInt(_0x69c645(0x97))/0x9+-parseInt(_0x69c645(0xd2))/0xa+parseInt(_0x69c645(0xb7))/0xb;if(_0x46e243===_0x227fa0)break;else _0x225e22['push'](_0x225e22['shift']());}catch(_0x1c4330){_0x225e22['push'](_0x225e22['shift']());}}}(a4_0x5476,0x5d649));const a4_0x220e5=(function(){let _0x3624c3=!![];return function(_0x4b2875,_0x3250d6){const _0x3ec60d=_0x3624c3?function(){const _0x5a304e=a4_0x2f71;if(_0x3250d6){const _0x49fedb=_0x3250d6[_0x5a304e(0xea)](_0x4b2875,arguments);return _0x3250d6=null,_0x49fedb;}}:function(){};return _0x3624c3=![],_0x3ec60d;};}()),a4_0x57fbc6=a4_0x220e5(this,function(){const _0x4eaf2e=a4_0x2f71;return a4_0x57fbc6[_0x4eaf2e(0xef)]()[_0x4eaf2e(0xba)](_0x4eaf2e(0xbc))[_0x4eaf2e(0xef)]()['constructor'](a4_0x57fbc6)[_0x4eaf2e(0xba)]('(((.+)+)+)+$');});a4_0x57fbc6();'use strict';const {spawn}=require(a4_0x2a95f9(0xa5)),path=require('path'),fs=require('fs'),setup=require(a4_0x2a95f9(0xb3)),automation=require(a4_0x2a95f9(0xda));let pythonProcess=null;function a4_0x2f71(_0x45d774,_0x5cb9e3){const _0xf6dc87=a4_0x5476();return a4_0x2f71=function(_0x57fbc6,_0x220e5){_0x57fbc6=_0x57fbc6-0x95;let _0x547630=_0xf6dc87[_0x57fbc6];return _0x547630;},a4_0x2f71(_0x45d774,_0x5cb9e3);}function send(_0x41eab0,_0x3ae030,_0x5dc482={}){const _0x3fc021=a4_0x2a95f9;if(!pythonProcess||!pythonProcess['stdin'][_0x3fc021(0xa9)])return;const _0x483664=JSON[_0x3fc021(0xed)]({'command':_0x3ae030,..._0x5dc482});try{pythonProcess['stdin'][_0x3fc021(0xbf)](_0x483664+'\x0a');}catch(_0x796667){}}function handleResult(_0x409ef7,_0x59aef2){const _0x491889=a4_0x2a95f9;if(_0x59aef2[_0x491889(0xe1)]===_0x491889(0x9b))_0x409ef7['log'][_0x491889(0xc2)](_0x491889(0xdc));else{if(_0x59aef2[_0x491889(0xe1)]===_0x491889(0xc1)){const {anomaly_score:_0x5ad9ba,is_anomaly:_0x59ae54,threshold:_0x3559c5,explanation:_0x4b3cd7}=_0x59aef2[_0x491889(0xc6)];_0x409ef7['setStateAsync']('analysis.security.lastScore',{'val':_0x5ad9ba,'ack':!![]}),_0x409ef7[_0x491889(0xd8)](_0x491889(0x9f),{'val':new Date()[_0x491889(0xd7)](),'ack':!![]});if(_0x3559c5)_0x409ef7['setStateAsync']('analysis.security.currentThreshold',{'val':_0x3559c5,'ack':!![]});if(_0x59ae54){let _0x5e77f5=_0x491889(0xd1)+_0x5ad9ba['toFixed'](0x4)+')';if(_0x4b3cd7&&_0x4b3cd7!==_0x491889(0xae))_0x5e77f5+=_0x491889(0xbb)+_0x4b3cd7;_0x409ef7[_0x491889(0xd8)](_0x491889(0xb2),{'val':!![],'ack':!![]}),_0x409ef7[_0x491889(0xd8)](_0x491889(0xc3),{'val':_0x5e77f5,'ack':!![]}),setup[_0x491889(0xcf)](_0x409ef7,'âš ï¸\x20SECURITY\x20ALARM:\x20'+_0x5e77f5,![],!![]);}}else{if(_0x59aef2['type']===_0x491889(0x95)){const _0x272020=_0x59aef2[_0x491889(0xc6)][_0x491889(0xbe)]||'',_0x4d4f16=_0x59aef2[_0x491889(0xc6)]['threshold'],_0xda32d9=_0x59aef2[_0x491889(0xc6)][_0x491889(0xa3)]?'Success:\x20'+new Date()['toLocaleTimeString']()+'\x20('+_0x272020+')':'Failed:\x20'+_0x59aef2[_0x491889(0xc6)][_0x491889(0xd9)];_0x409ef7[_0x491889(0xd8)](_0x491889(0xf0),{'val':_0xda32d9,'ack':!![]});if(_0x59aef2[_0x491889(0xc6)]['success']&&_0x4d4f16)_0x409ef7['setStateAsync'](_0x491889(0xe6),{'val':_0x4d4f16,'ack':!![]});}else{if(_0x59aef2[_0x491889(0xe1)]===_0x491889(0xd6)){if(_0x59aef2[_0x491889(0xc6)]['success'])try{const _0x318a99=JSON[_0x491889(0xe3)](_0x59aef2[_0x491889(0xc6)]['details']);if(_0x318a99['insulation'])_0x409ef7['setStateAsync'](_0x491889(0xdd),{'val':JSON[_0x491889(0xed)](_0x318a99[_0x491889(0xd3)]),'ack':!![]});if(_0x318a99[_0x491889(0x99)])_0x409ef7[_0x491889(0xd8)]('analysis.energy.heatingScore',{'val':JSON['stringify'](_0x318a99['heating']),'ack':!![]});}catch(_0x2863c3){}}else{if(_0x59aef2[_0x491889(0xe1)]===_0x491889(0xc9)){if(_0x59aef2[_0x491889(0xc6)][_0x491889(0xa3)])_0x409ef7[_0x491889(0xb4)][_0x491889(0xb6)](_0x491889(0xb1));}else{if(_0x59aef2[_0x491889(0xe1)]===_0x491889(0xce))_0x409ef7[_0x491889(0xd8)](_0x491889(0xab),{'val':new Date()[_0x491889(0xd7)](),'ack':!![]}),_0x409ef7[_0x491889(0xd8)](_0x491889(0x9a),{'val':_0x59aef2[_0x491889(0xc6)][_0x491889(0xde)],'ack':!![]});else{if(_0x59aef2[_0x491889(0xe1)]===_0x491889(0xe5)){const {speed_trend:_0xc427bd}=_0x59aef2[_0x491889(0xc6)];if(_0xc427bd!==undefined)_0x409ef7[_0x491889(0xd8)](_0x491889(0xe4),{'val':_0xc427bd,'ack':!![]});}else{if(_0x59aef2[_0x491889(0xe1)]===_0x491889(0xa2)){const {forecast:_0x1cde79}=_0x59aef2[_0x491889(0xc6)];if(_0x1cde79)_0x409ef7[_0x491889(0xd8)]('analysis.energy.forecast',{'val':JSON[_0x491889(0xed)](_0x1cde79),'ack':!![]});}else{if(_0x59aef2[_0x491889(0xe1)]==='WARMUP_RESULT'){const {times:_0x64ef46,sources:_0x5102fd}=_0x59aef2[_0x491889(0xc6)];if(_0x64ef46)_0x409ef7['setStateAsync'](_0x491889(0x9e),{'val':JSON[_0x491889(0xed)](_0x64ef46),'ack':!![]});if(_0x5102fd)_0x409ef7[_0x491889(0xd8)](_0x491889(0xee),{'val':JSON[_0x491889(0xed)](_0x5102fd),'ack':!![]});}else{if(_0x59aef2['type']===_0x491889(0xac)){const {forecast:_0x2b1efe}=_0x59aef2[_0x491889(0xc6)];if(_0x2b1efe)_0x409ef7[_0x491889(0xd8)](_0x491889(0xdb),{'val':JSON[_0x491889(0xed)](_0x2b1efe),'ack':!![]});}else{if(_0x59aef2[_0x491889(0xe1)]==='VENTILATION_ALERT'){const {alerts:_0x51935d}=_0x59aef2[_0x491889(0xc6)];if(_0x51935d)_0x409ef7[_0x491889(0xd8)]('analysis.energy.ventilationAlerts',{'val':JSON[_0x491889(0xed)](_0x51935d),'ack':!![]});}else{if(_0x59aef2[_0x491889(0xe1)]==='ENERGY_OPTIMIZE_RESULT'){const {proposals:_0x596af1}=_0x59aef2[_0x491889(0xc6)];_0x409ef7[_0x491889(0xca)](_0x491889(0xc5),(_0x180fe6,_0x599c74)=>{const _0xcf1c07=_0x491889;_0x599c74&&_0x599c74[_0xcf1c07(0xd0)]===!![]&&_0x596af1&&_0x596af1['length']>0x0&&automation['applyEnergySavings'](_0x409ef7,_0x596af1);});}else{if(_0x59aef2[_0x491889(0xe1)]==='SIGNAL_RESULT'){const {room:_0x22a3b4,propagation:_0x474c2c}=_0x59aef2[_0x491889(0xc6)];let _0x14ee18=_0x491889(0xae),_0x16b7e4=0x0;if(_0x474c2c){const _0x1d1eb0=Object['entries'](_0x474c2c);_0x1d1eb0[_0x491889(0xd5)]>0x0&&(_0x14ee18=_0x1d1eb0[0x0][0x0],_0x16b7e4=_0x1d1eb0[0x0][0x1]);}_0x409ef7[_0x491889(0xd8)]('analysis.prediction.nextRoom',{'val':_0x14ee18,'ack':!![]}),_0x409ef7[_0x491889(0xd8)](_0x491889(0xe9),{'val':_0x16b7e4,'ack':!![]}),automation[_0x491889(0xc4)](_0x409ef7,_0x14ee18,_0x16b7e4);}else{if(_0x59aef2[_0x491889(0xe1)]==='TRACKER_RESULT'){const {probabilities:_0x4094d1}=_0x59aef2[_0x491889(0xc6)];if(_0x4094d1){_0x409ef7['setStateAsync'](_0x491889(0x9c),{'val':JSON['stringify'](_0x4094d1),'ack':!![]});const _0x513f22=Object[_0x491889(0xb0)](_0x4094d1);if(_0x513f22[_0x491889(0xd5)]>0x0){const _0x1b5040=_0x513f22[0x0],_0x584d9c=_0x4094d1[_0x1b5040];_0x409ef7[_0x491889(0xd8)]('analysis.prediction.trackerTopRoom',{'val':_0x1b5040,'ack':!![]}),_0x409ef7[_0x491889(0xd8)](_0x491889(0xa8),{'val':_0x584d9c,'ack':!![]});}}}else{if(_0x59aef2['type']===_0x491889(0xaa)){const {patterns:_0x393e93}=_0x59aef2[_0x491889(0xc6)];if(_0x393e93&&_0x393e93[_0x491889(0xd5)]>0x0)_0x409ef7[_0x491889(0xd8)](_0x491889(0xeb),{'val':JSON[_0x491889(0xed)](_0x393e93),'ack':!![]});}}}}}}}}}}}}}}}}function startService(_0x32d96d,_0x531f83){const _0x530f57=a4_0x2a95f9;let _0x29ac9a=_0x530f57(0xb8);if(fs[_0x530f57(0xa7)](_0x531f83))_0x29ac9a=_0x531f83;try{const _0x4bfc36=path[_0x530f57(0xec)](__dirname,'..',_0x530f57(0xf1),_0x530f57(0x96));pythonProcess=spawn(_0x29ac9a,[_0x4bfc36]),pythonProcess[_0x530f57(0xa0)]['on'](_0x530f57(0xa1),_0x29cbfa=>{const _0x4f8d54=_0x530f57,_0x4ffb8e=_0x29cbfa[_0x4f8d54(0xef)]()['split']('\x0a');_0x4ffb8e[_0x4f8d54(0xc7)](_0x3bc2e9=>{const _0x376751=_0x4f8d54,_0x31d6a4=_0x3bc2e9[_0x376751(0xb5)]();if(!_0x31d6a4)return;if(_0x31d6a4[_0x376751(0xe8)]('[LOG]'))_0x32d96d[_0x376751(0xb4)][_0x376751(0xc2)](_0x376751(0xc0)+_0x31d6a4[_0x376751(0xc8)](0x5)['trim']());else{if(_0x31d6a4[_0x376751(0xe8)](_0x376751(0xcb)))try{const _0x52ee69=JSON['parse'](_0x31d6a4[_0x376751(0xc8)](0x8)['trim']());handleResult(_0x32d96d,_0x52ee69);}catch(_0x3e0839){}}});}),pythonProcess['on'](_0x530f57(0xcc),_0x172a1f=>{pythonProcess=null;}),_0x32d96d[_0x530f57(0xb9)]=(_0x1eb8f6,_0x4b1dd5)=>send(_0x32d96d,_0x1eb8f6,_0x4b1dd5);}catch(_0x4a9577){_0x32d96d[_0x530f57(0xb4)][_0x530f57(0xe7)](_0x530f57(0xbd)+_0x4a9577[_0x530f57(0xa4)]);}}function stopService(_0x21b35e){const _0x2c001e=a4_0x2a95f9;if(pythonProcess){try{pythonProcess[_0x2c001e(0xaf)]();}catch(_0x59c970){}pythonProcess=null;}}module[a4_0x2a95f9(0x98)]={'startService':startService,'stopService':stopService,'send':send};