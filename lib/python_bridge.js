const a4_0x3d25d4=a4_0x4ade;(function(_0x39415b,_0x3a64d6){const _0x564c88=a4_0x4ade,_0x494512=_0x39415b();while(!![]){try{const _0x1eac85=parseInt(_0x564c88(0x1c5))/0x1*(parseInt(_0x564c88(0x1be))/0x2)+-parseInt(_0x564c88(0x1e8))/0x3+parseInt(_0x564c88(0x1a8))/0x4+parseInt(_0x564c88(0x1ea))/0x5+parseInt(_0x564c88(0x1a2))/0x6*(-parseInt(_0x564c88(0x1d5))/0x7)+parseInt(_0x564c88(0x1b9))/0x8*(parseInt(_0x564c88(0x1c8))/0x9)+-parseInt(_0x564c88(0x1e7))/0xa;if(_0x1eac85===_0x3a64d6)break;else _0x494512['push'](_0x494512['shift']());}catch(_0x45f5e1){_0x494512['push'](_0x494512['shift']());}}}(a4_0x2a63,0x39fcb));const a4_0x59dd31=(function(){let _0x720498=!![];return function(_0x4c471d,_0x29175e){const _0x127973=_0x720498?function(){if(_0x29175e){const _0x531f16=_0x29175e['apply'](_0x4c471d,arguments);return _0x29175e=null,_0x531f16;}}:function(){};return _0x720498=![],_0x127973;};}()),a4_0xd6ad42=a4_0x59dd31(this,function(){const _0x204cad=a4_0x4ade;return a4_0xd6ad42[_0x204cad(0x195)]()['search'](_0x204cad(0x1de))[_0x204cad(0x195)]()[_0x204cad(0x197)](a4_0xd6ad42)[_0x204cad(0x1d7)](_0x204cad(0x1de));});a4_0xd6ad42();'use strict';const {spawn}=require(a4_0x3d25d4(0x1fa)),path=require(a4_0x3d25d4(0x1b4)),fs=require('fs'),setup=require(a4_0x3d25d4(0x1c3)),automation=require(a4_0x3d25d4(0x1bb));let pythonProcess=null;function send(_0x599f26,_0x39874b,_0x1b2743={}){const _0x50b3a9=a4_0x3d25d4;if(!pythonProcess||!pythonProcess['stdin'][_0x50b3a9(0x1e6)])return;const _0x3c78d9=JSON[_0x50b3a9(0x1a1)]({'command':_0x39874b,..._0x1b2743});try{pythonProcess[_0x50b3a9(0x1c2)]['write'](_0x3c78d9+'\x0a');}catch(_0x144fcc){}}function a4_0x2a63(){const _0x5b595c=['[LOG]','threshold','forEach','success','SECURITY_RESULT','join','ðŸš€\x20Starting\x20Python\x20Bridge\x20using:\x20','is_anomaly','reason','HEALTH_TREND_RESULT','path','ENERGY_PREDICT_RESULT','applyEnergySavings','startsWith','analysis.prediction.trackerState','8knZlJG','analysis.training.status','./automation','data','error','8FSFSzz','analysis.health.gaitDebug','analysis.security.lastCheck','analysis.prediction.trackerConfidence','stdin','./setup','val','60791lVZHBh','Error\x20launching\x20Python:\x20','short','111798szVsZQ','analysis.energy.warmupTimes','python_service','close','Failed:\x20','toLocaleTimeString','python3','isArray','analysis.security.lastScore','Unknown','split','SIGNAL_RESULT','kill','1880837RiRMGb','setStateAsync','search','analysis.isAlert','analysis.energy.insulationScore','info','trim','sendNotification','details','(((.+)+)+)+$','substring','heating','analysis.security.currentThreshold','toLocaleDateString','TRAINING_COMPLETE','analysis.health.lastCheck','toISOString','writable','411480vGwPIU','459213HwVfTt','stdout','854150bOAFNl','TRACKER_RESULT','analysis.alertReason','VENTILATION_ALERT','analysis.energy.mpcActive','WARMUP_RESULT','âš ï¸\x20SECURITY\x20ALARM:\x20','2-digit','analysis.health.gaitSpeed','length','GAIT_RESULT','analysis.prediction.confidence','sendToPythonWrapper','analysis.prediction.nextRoom','analysis.health.activityTrend','âœ…\x20HEALTH\x20TRAINED.','child_process','analysis.energy.ventilationAlerts','parse','analysis.health.isAnomaly','service.py','log','PONG','[PYTHON]\x20','existsSync','payload','debug','toString','keys','constructor','exports','stderr','ENERGY_OPTIMIZE_RESULT','insulation','âŒ\x20CRITICAL:\x20\x27service.py\x27\x20not\x20found!\x20Checked:\x20','PINN_PREDICT_RESULT','analysis.health.gaitSensors','de-DE','analysis.energy.rlPenalties','stringify','6JunQTt','type','ðŸ“ˆ\x20Health\x20Trend:\x20','ðŸ\x20Python\x20Pong','toFixed','message','1096036ZOypSJ','RL_PENALTY_UPDATE'];a4_0x2a63=function(){return _0x5b595c;};return a4_0x2a63();}function handleResult(_0x42cfd6,_0x18923c){const _0x447138=a4_0x3d25d4;if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x200))_0x42cfd6['log'][_0x447138(0x204)](_0x447138(0x1a5));else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x1ae)){const {anomaly_score:_0xcaf333,is_anomaly:_0x20ebfe,threshold:_0x52e746,explanation:_0x1bf3b3}=_0x18923c['payload'];_0x42cfd6['setStateAsync'](_0x447138(0x1d0),{'val':_0xcaf333,'ack':!![]}),_0x42cfd6['setStateAsync'](_0x447138(0x1c0),{'val':new Date()[_0x447138(0x1e5)](),'ack':!![]});if(_0x52e746)_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1e1),{'val':_0x52e746,'ack':!![]});if(_0x20ebfe){let _0x881f4='UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20'+_0xcaf333[_0x447138(0x1a6)](0x4)+')';if(_0x1bf3b3&&_0x1bf3b3!==_0x447138(0x1d1))_0x881f4+='\x0aGrund:\x20'+_0x1bf3b3;_0x42cfd6['setStateAsync'](_0x447138(0x1d8),{'val':!![],'ack':!![]}),_0x42cfd6['setStateAsync'](_0x447138(0x1ec),{'val':_0x881f4,'ack':!![]}),setup[_0x447138(0x1dc)](_0x42cfd6,_0x447138(0x1f0)+_0x881f4,![],!![]);}}else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x1e3)){const _0x43cfa3=_0x18923c['payload'][_0x447138(0x1dd)]||'',_0xa3c9ff=_0x18923c[_0x447138(0x203)][_0x447138(0x1ab)],_0x1a09ec=_0x18923c[_0x447138(0x203)][_0x447138(0x1ad)]?'Success:\x20'+new Date()[_0x447138(0x1cd)]()+'\x20('+_0x43cfa3+')':_0x447138(0x1cc)+_0x18923c['payload'][_0x447138(0x1b2)];_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1ba),{'val':_0x1a09ec,'ack':!![]});if(_0x18923c[_0x447138(0x203)][_0x447138(0x1ad)]&&_0xa3c9ff)_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1e1),{'val':_0xa3c9ff,'ack':!![]});}else{if(_0x18923c[_0x447138(0x1a3)]==='ENERGY_TRAIN_RESULT'){if(_0x18923c[_0x447138(0x203)][_0x447138(0x1ad)])try{const _0xdf04a0=JSON[_0x447138(0x1fc)](_0x18923c[_0x447138(0x203)][_0x447138(0x1dd)]);if(_0xdf04a0['insulation'])_0x42cfd6['setStateAsync'](_0x447138(0x1d9),{'val':JSON[_0x447138(0x1a1)](_0xdf04a0[_0x447138(0x19b)]),'ack':!![]});if(_0xdf04a0[_0x447138(0x1e0)])_0x42cfd6[_0x447138(0x1d6)]('analysis.energy.heatingScore',{'val':JSON['stringify'](_0xdf04a0['heating']),'ack':!![]});}catch(_0x17a955){}}else{if(_0x18923c[_0x447138(0x1a3)]==='HEALTH_TRAIN_RESULT'){if(_0x18923c[_0x447138(0x203)][_0x447138(0x1ad)]){_0x42cfd6[_0x447138(0x1ff)][_0x447138(0x1da)](_0x447138(0x1f9));const _0x975eb8=new Date(),_0x4f463d=_0x975eb8[_0x447138(0x1e2)](_0x447138(0x19f),{'day':_0x447138(0x1f1),'month':'short','hour':'2-digit','minute':_0x447138(0x1f1)});_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1e4),{'val':_0x4f463d,'ack':!![]});}}else{if(_0x18923c[_0x447138(0x1a3)]==='HEALTH_RESULT'){const _0x4cf123=new Date(),_0x366ab7=_0x4cf123[_0x447138(0x1e2)](_0x447138(0x19f),{'day':_0x447138(0x1f1),'month':_0x447138(0x1c7),'hour':_0x447138(0x1f1),'minute':'2-digit'});_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1e4),{'val':_0x366ab7,'ack':!![]}),_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1fd),{'val':_0x18923c['payload'][_0x447138(0x1b1)],'ack':!![]});}else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x1b3)){const {trend_percent:_0x36f6eb,details:_0x4704f8}=_0x18923c[_0x447138(0x203)],_0x48fc2f=new Date(),_0x1a93ee=_0x48fc2f[_0x447138(0x1e2)]('de-DE',{'day':_0x447138(0x1f1),'month':_0x447138(0x1c7),'hour':_0x447138(0x1f1),'minute':_0x447138(0x1f1)});_0x42cfd6['setStateAsync'](_0x447138(0x1e4),{'val':_0x1a93ee,'ack':!![]}),_0x42cfd6['setStateAsync'](_0x447138(0x1f8),{'val':_0x36f6eb,'ack':!![]}),_0x42cfd6[_0x447138(0x1ff)]['info'](_0x447138(0x1a4)+_0x4704f8);}else{if(_0x18923c['type']===_0x447138(0x1f4)){const {speed_trend:_0x331c89,sensors:_0x4197d9,proof:_0x49b3f5}=_0x18923c['payload'];if(_0x331c89!==undefined)_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1f2),{'val':_0x331c89,'ack':!![]});if(_0x4197d9&&Array[_0x447138(0x1cf)](_0x4197d9))_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x19e),{'val':_0x4197d9[_0x447138(0x1af)](',\x20'),'ack':!![]});if(_0x49b3f5)_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1bf),{'val':_0x49b3f5,'ack':!![]});}else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x1b5)){const {forecast:_0x26b6c2}=_0x18923c[_0x447138(0x203)];if(_0x26b6c2)_0x42cfd6['setStateAsync']('analysis.energy.forecast',{'val':JSON[_0x447138(0x1a1)](_0x26b6c2),'ack':!![]});}else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x1ef)){const {times:_0x295e74,sources:_0xc82042,details:_0x1978dc}=_0x18923c[_0x447138(0x203)];if(_0x295e74)_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1c9),{'val':JSON[_0x447138(0x1a1)](_0x295e74),'ack':!![]});if(_0xc82042)_0x42cfd6['setStateAsync']('analysis.energy.warmupSources',{'val':JSON[_0x447138(0x1a1)](_0xc82042),'ack':!![]});if(_0x1978dc)_0x42cfd6[_0x447138(0x1d6)]('analysis.energy.warmupDetails',{'val':JSON[_0x447138(0x1a1)](_0x1978dc),'ack':!![]});}else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x1a9)){const {penalties:_0x51edb1}=_0x18923c[_0x447138(0x203)];if(_0x51edb1)_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1a0),{'val':JSON[_0x447138(0x1a1)](_0x51edb1),'ack':!![]});}else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x19d)){const {forecast:_0x560481}=_0x18923c[_0x447138(0x203)];if(_0x560481)_0x42cfd6[_0x447138(0x1d6)]('analysis.energy.pinnForecast',{'val':JSON[_0x447138(0x1a1)](_0x560481),'ack':!![]});}else{if(_0x18923c['type']===_0x447138(0x1ed)){const {alerts:_0x1a3d2a}=_0x18923c[_0x447138(0x203)];if(_0x1a3d2a)_0x42cfd6['setStateAsync'](_0x447138(0x1fb),{'val':JSON[_0x447138(0x1a1)](_0x1a3d2a),'ack':!![]});}else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x19a)){const {proposals:_0x50358b}=_0x18923c[_0x447138(0x203)];_0x42cfd6['getState'](_0x447138(0x1ee),(_0x4e1cbb,_0x440a91)=>{const _0x2c104c=_0x447138;_0x440a91&&_0x440a91[_0x2c104c(0x1c4)]===!![]&&_0x50358b&&_0x50358b[_0x2c104c(0x1f3)]>0x0&&automation[_0x2c104c(0x1b6)](_0x42cfd6,_0x50358b);});}else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x1d3)){const {room:_0x5db780,propagation:_0x51a0ea}=_0x18923c['payload'];let _0x38bd8d=_0x447138(0x1d1),_0x545eaa=0x0;if(_0x51a0ea){const _0x89ce29=Object['entries'](_0x51a0ea);_0x89ce29['length']>0x0&&(_0x38bd8d=_0x89ce29[0x0][0x0],_0x545eaa=_0x89ce29[0x0][0x1]);}_0x42cfd6['setStateAsync'](_0x447138(0x1f7),{'val':_0x38bd8d,'ack':!![]}),_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1f5),{'val':_0x545eaa,'ack':!![]}),automation['handlePrediction'](_0x42cfd6,_0x38bd8d,_0x545eaa);}else{if(_0x18923c[_0x447138(0x1a3)]===_0x447138(0x1eb)){const {probabilities:_0xbb98b5}=_0x18923c[_0x447138(0x203)];if(_0xbb98b5){_0x42cfd6['setStateAsync'](_0x447138(0x1b8),{'val':JSON[_0x447138(0x1a1)](_0xbb98b5),'ack':!![]});const _0xd3fb1e=Object[_0x447138(0x196)](_0xbb98b5);if(_0xd3fb1e[_0x447138(0x1f3)]>0x0){const _0x173cb2=_0xd3fb1e[0x0],_0x5b181a=_0xbb98b5[_0x173cb2];_0x42cfd6[_0x447138(0x1d6)]('analysis.prediction.trackerTopRoom',{'val':_0x173cb2,'ack':!![]}),_0x42cfd6[_0x447138(0x1d6)](_0x447138(0x1c1),{'val':_0x5b181a,'ack':!![]});}}}else{if(_0x18923c[_0x447138(0x1a3)]==='COMFORT_RESULT'){const {patterns:_0x3c0500}=_0x18923c[_0x447138(0x203)];if(_0x3c0500&&_0x3c0500['length']>0x0)_0x42cfd6[_0x447138(0x1d6)]('analysis.automation.detectedPatterns',{'val':JSON[_0x447138(0x1a1)](_0x3c0500),'ack':!![]});}}}}}}}}}}}}}}}}}}function startService(_0x5c0cf2,_0x7e7fc3){const _0x228e30=a4_0x3d25d4;let _0x113d46=_0x228e30(0x1ce);if(fs['existsSync'](_0x7e7fc3))_0x113d46=_0x7e7fc3;const _0x73c375=path[_0x228e30(0x1af)](__dirname,'..',_0x228e30(0x1fe)),_0x3e61fa=path[_0x228e30(0x1af)](__dirname,'..',_0x228e30(0x1ca),'service.py');let _0x407569='';if(fs[_0x228e30(0x202)](_0x73c375))_0x407569=_0x73c375;else{if(fs['existsSync'](_0x3e61fa))_0x407569=_0x3e61fa;else{_0x5c0cf2[_0x228e30(0x1ff)][_0x228e30(0x1bd)](_0x228e30(0x19c)+_0x73c375+'\x20AND\x20'+_0x3e61fa+'.\x20Please\x20create\x20this\x20file!');return;}}try{_0x5c0cf2[_0x228e30(0x1ff)][_0x228e30(0x1da)](_0x228e30(0x1b0)+_0x113d46+'\x20'+_0x407569),pythonProcess=spawn(_0x113d46,[_0x407569]),pythonProcess[_0x228e30(0x1e9)]['on'](_0x228e30(0x1bc),_0x311e01=>{const _0x2c6c09=_0x228e30,_0x5f3b40=_0x311e01['toString']()[_0x2c6c09(0x1d2)]('\x0a');_0x5f3b40[_0x2c6c09(0x1ac)](_0x402898=>{const _0x2fd624=_0x2c6c09,_0xf0c3be=_0x402898[_0x2fd624(0x1db)]();if(!_0xf0c3be)return;if(_0xf0c3be[_0x2fd624(0x1b7)](_0x2fd624(0x1aa)))_0x5c0cf2[_0x2fd624(0x1ff)][_0x2fd624(0x204)](_0x2fd624(0x201)+_0xf0c3be[_0x2fd624(0x1df)](0x5)['trim']());else{if(_0xf0c3be[_0x2fd624(0x1b7)]('[RESULT]'))try{const _0x2b0fd3=JSON[_0x2fd624(0x1fc)](_0xf0c3be[_0x2fd624(0x1df)](0x8)['trim']());handleResult(_0x5c0cf2,_0x2b0fd3);}catch(_0x4d4a3e){}}});}),pythonProcess[_0x228e30(0x199)]['on'](_0x228e30(0x1bc),_0x360214=>{const _0x3887d5=_0x228e30;_0x5c0cf2[_0x3887d5(0x1ff)][_0x3887d5(0x1bd)]('[PYTHON\x20ERR]\x20'+_0x360214[_0x3887d5(0x195)]()[_0x3887d5(0x1db)]());}),pythonProcess['on'](_0x228e30(0x1cb),_0x5470e7=>{_0x5c0cf2['log']['warn']('Python\x20process\x20exited\x20with\x20code\x20'+_0x5470e7),pythonProcess=null;}),_0x5c0cf2[_0x228e30(0x1f6)]=(_0x490e50,_0x34e6a6)=>send(_0x5c0cf2,_0x490e50,_0x34e6a6);}catch(_0x9cc540){_0x5c0cf2['log']['error'](_0x228e30(0x1c6)+_0x9cc540[_0x228e30(0x1a7)]);}}function stopService(_0x268156){const _0x4105ae=a4_0x3d25d4;if(pythonProcess){try{pythonProcess[_0x4105ae(0x1d4)]();}catch(_0x537d70){}pythonProcess=null;}}function a4_0x4ade(_0x2f3088,_0x4e5c87){const _0x3d413b=a4_0x2a63();return a4_0x4ade=function(_0xd6ad42,_0x59dd31){_0xd6ad42=_0xd6ad42-0x195;let _0x2a632e=_0x3d413b[_0xd6ad42];return _0x2a632e;},a4_0x4ade(_0x2f3088,_0x4e5c87);}module[a4_0x3d25d4(0x198)]={'startService':startService,'stopService':stopService,'send':send};