function a4_0x514b(){const _0x1d5a4e=['forEach','child_process','toISOString','path','analysis.prediction.nextRoom','analysis.energy.mpcActive','reason','analysis.security.lastCheck','analysis.energy.pinnForecast','heating','analysis.prediction.trackerConfidence','analysis.isAlert','analysis.energy.warmupSources','analysis.health.gaitSpeed','join','HEALTH_RESULT','write','5WdqvnY','1914848Mensnm','analysis.security.lastScore','handlePrediction','insulation','stdin','5086200CgwvTo','constructor','writable','keys','error','stringify','ENERGY_TRAIN_RESULT','existsSync','PINN_PREDICT_RESULT','split','539945vfmoRX','toLocaleTimeString','TRAINING_COMPLETE','type','[PYTHON]\x20','payload','toFixed','âš ï¸\x20SECURITY\x20ALARM:\x20','626196zkWHYo','8966151zfxzzo','ENERGY_OPTIMIZE_RESULT','Unknown','entries','[RESULT]','exports','log','WARMUP_RESULT','RL_PENALTY_UPDATE','ENERGY_PREDICT_RESULT','info','./automation','analysis.prediction.trackerState','substring','details','analysis.prediction.trackerTopRoom','analysis.prediction.confidence','length','analysis.alertReason','7mEZVFa','./setup','debug','startsWith','49202QXcnqy','parse','threshold','analysis.energy.heatingScore','analysis.energy.warmupTimes','[LOG]','VENTILATION_ALERT','ðŸ\x20Python\x20Pong','\x0aGrund:\x20','analysis.energy.rlPenalties','toString','service.py','close','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','114ojuLFz','109571PuQFYC','âœ…\x20HEALTH\x20TRAINED.','stdout','trim','Failed:\x20','analysis.energy.warmupDetails','analysis.automation.detectedPatterns','analysis.energy.insulationScore','setStateAsync','sendNotification','data','COMFORT_RESULT','is_anomaly','3010lVfAZp','analysis.health.lastCheck','kill','apply','HEALTH_TRAIN_RESULT','search','success','PONG','Error\x20launching\x20Python:\x20'];a4_0x514b=function(){return _0x1d5a4e;};return a4_0x514b();}const a4_0x3699ca=a4_0xfb1a;(function(_0x197171,_0x234498){const _0x24a52e=a4_0xfb1a,_0x4b0ced=_0x197171();while(!![]){try{const _0x4b7c6a=parseInt(_0x24a52e(0x1ef))/0x1+parseInt(_0x24a52e(0x20f))/0x2*(-parseInt(_0x24a52e(0x1b7))/0x3)+-parseInt(_0x24a52e(0x1e0))/0x4+parseInt(_0x24a52e(0x1df))/0x5*(parseInt(_0x24a52e(0x1f7))/0x6)+parseInt(_0x24a52e(0x20b))/0x7*(-parseInt(_0x24a52e(0x1e5))/0x8)+-parseInt(_0x24a52e(0x1f8))/0x9+-parseInt(_0x24a52e(0x1c5))/0xa*(-parseInt(_0x24a52e(0x1b8))/0xb);if(_0x4b7c6a===_0x234498)break;else _0x4b0ced['push'](_0x4b0ced['shift']());}catch(_0x3cbb78){_0x4b0ced['push'](_0x4b0ced['shift']());}}}(a4_0x514b,0x91c10));const a4_0x107a06=(function(){let _0x578e5=!![];return function(_0x18d071,_0x1dbfb0){const _0x1f1460=_0x578e5?function(){const _0x13a7e9=a4_0xfb1a;if(_0x1dbfb0){const _0x5b0fac=_0x1dbfb0[_0x13a7e9(0x1c8)](_0x18d071,arguments);return _0x1dbfb0=null,_0x5b0fac;}}:function(){};return _0x578e5=![],_0x1f1460;};}()),a4_0x5613b2=a4_0x107a06(this,function(){const _0x50bde8=a4_0xfb1a;return a4_0x5613b2['toString']()[_0x50bde8(0x1ca)]('(((.+)+)+)+$')[_0x50bde8(0x1b3)]()[_0x50bde8(0x1e6)](a4_0x5613b2)[_0x50bde8(0x1ca)]('(((.+)+)+)+$');});a4_0x5613b2();'use strict';const {spawn}=require(a4_0x3699ca(0x1cf)),path=require(a4_0x3699ca(0x1d1)),fs=require('fs'),setup=require(a4_0x3699ca(0x20c)),automation=require(a4_0x3699ca(0x203));let pythonProcess=null;function send(_0x53ea8d,_0x4f1e2e,_0x15c1e9={}){const _0x578ad9=a4_0x3699ca;if(!pythonProcess||!pythonProcess[_0x578ad9(0x1e4)][_0x578ad9(0x1e7)])return;const _0x19dba3=JSON[_0x578ad9(0x1ea)]({'command':_0x4f1e2e,..._0x15c1e9});try{pythonProcess[_0x578ad9(0x1e4)][_0x578ad9(0x1de)](_0x19dba3+'\x0a');}catch(_0x570092){}}function a4_0xfb1a(_0x436e72,_0x1d2fa8){const _0x338654=a4_0x514b();return a4_0xfb1a=function(_0x5613b2,_0x107a06){_0x5613b2=_0x5613b2-0x1b3;let _0x514b9e=_0x338654[_0x5613b2];return _0x514b9e;},a4_0xfb1a(_0x436e72,_0x1d2fa8);}function handleResult(_0x58d0ab,_0x37f861){const _0xc0da2f=a4_0x3699ca;if(_0x37f861[_0xc0da2f(0x1f2)]===_0xc0da2f(0x1cc))_0x58d0ab[_0xc0da2f(0x1fe)][_0xc0da2f(0x20d)](_0xc0da2f(0x216));else{if(_0x37f861[_0xc0da2f(0x1f2)]==='SECURITY_RESULT'){const {anomaly_score:_0x3e6448,is_anomaly:_0x4167ad,threshold:_0x201bcc,explanation:_0x78c2b9}=_0x37f861[_0xc0da2f(0x1f4)];_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1e1),{'val':_0x3e6448,'ack':!![]}),_0x58d0ab['setStateAsync'](_0xc0da2f(0x1d5),{'val':new Date()[_0xc0da2f(0x1d0)](),'ack':!![]});if(_0x201bcc)_0x58d0ab[_0xc0da2f(0x1c0)]('analysis.security.currentThreshold',{'val':_0x201bcc,'ack':!![]});if(_0x4167ad){let _0x5f4792=_0xc0da2f(0x1b6)+_0x3e6448[_0xc0da2f(0x1f5)](0x4)+')';if(_0x78c2b9&&_0x78c2b9!==_0xc0da2f(0x1fa))_0x5f4792+=_0xc0da2f(0x217)+_0x78c2b9;_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1d9),{'val':!![],'ack':!![]}),_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x20a),{'val':_0x5f4792,'ack':!![]}),setup[_0xc0da2f(0x1c1)](_0x58d0ab,_0xc0da2f(0x1f6)+_0x5f4792,![],!![]);}}else{if(_0x37f861[_0xc0da2f(0x1f2)]===_0xc0da2f(0x1f1)){const _0x4fe172=_0x37f861[_0xc0da2f(0x1f4)][_0xc0da2f(0x206)]||'',_0xd027ea=_0x37f861['payload'][_0xc0da2f(0x211)],_0x4892fd=_0x37f861[_0xc0da2f(0x1f4)][_0xc0da2f(0x1cb)]?'Success:\x20'+new Date()[_0xc0da2f(0x1f0)]()+'\x20('+_0x4fe172+')':_0xc0da2f(0x1bc)+_0x37f861[_0xc0da2f(0x1f4)][_0xc0da2f(0x1d4)];_0x58d0ab['setStateAsync']('analysis.training.status',{'val':_0x4892fd,'ack':!![]});if(_0x37f861[_0xc0da2f(0x1f4)][_0xc0da2f(0x1cb)]&&_0xd027ea)_0x58d0ab[_0xc0da2f(0x1c0)]('analysis.security.currentThreshold',{'val':_0xd027ea,'ack':!![]});}else{if(_0x37f861[_0xc0da2f(0x1f2)]===_0xc0da2f(0x1eb)){if(_0x37f861[_0xc0da2f(0x1f4)][_0xc0da2f(0x1cb)])try{const _0x119dcd=JSON[_0xc0da2f(0x210)](_0x37f861[_0xc0da2f(0x1f4)][_0xc0da2f(0x206)]);if(_0x119dcd[_0xc0da2f(0x1e3)])_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1bf),{'val':JSON[_0xc0da2f(0x1ea)](_0x119dcd[_0xc0da2f(0x1e3)]),'ack':!![]});if(_0x119dcd[_0xc0da2f(0x1d7)])_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x212),{'val':JSON['stringify'](_0x119dcd[_0xc0da2f(0x1d7)]),'ack':!![]});}catch(_0x4f0643){}}else{if(_0x37f861[_0xc0da2f(0x1f2)]===_0xc0da2f(0x1c9)){if(_0x37f861['payload'][_0xc0da2f(0x1cb)])_0x58d0ab[_0xc0da2f(0x1fe)][_0xc0da2f(0x202)](_0xc0da2f(0x1b9));}else{if(_0x37f861['type']===_0xc0da2f(0x1dd))_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1c6),{'val':new Date()['toISOString'](),'ack':!![]}),_0x58d0ab[_0xc0da2f(0x1c0)]('analysis.health.isAnomaly',{'val':_0x37f861['payload'][_0xc0da2f(0x1c4)],'ack':!![]});else{if(_0x37f861[_0xc0da2f(0x1f2)]==='GAIT_RESULT'){const {speed_trend:_0x5431de}=_0x37f861[_0xc0da2f(0x1f4)];if(_0x5431de!==undefined)_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1db),{'val':_0x5431de,'ack':!![]});}else{if(_0x37f861[_0xc0da2f(0x1f2)]===_0xc0da2f(0x201)){const {forecast:_0x3f05f8}=_0x37f861[_0xc0da2f(0x1f4)];if(_0x3f05f8)_0x58d0ab['setStateAsync']('analysis.energy.forecast',{'val':JSON[_0xc0da2f(0x1ea)](_0x3f05f8),'ack':!![]});}else{if(_0x37f861[_0xc0da2f(0x1f2)]===_0xc0da2f(0x1ff)){const {times:_0x16868c,sources:_0x45bb26,details:_0x8b678e}=_0x37f861[_0xc0da2f(0x1f4)];if(_0x16868c)_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x213),{'val':JSON[_0xc0da2f(0x1ea)](_0x16868c),'ack':!![]});if(_0x45bb26)_0x58d0ab['setStateAsync'](_0xc0da2f(0x1da),{'val':JSON[_0xc0da2f(0x1ea)](_0x45bb26),'ack':!![]});if(_0x8b678e)_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1bd),{'val':JSON[_0xc0da2f(0x1ea)](_0x8b678e),'ack':!![]});}else{if(_0x37f861['type']===_0xc0da2f(0x200)){const {penalties:_0x3851cd}=_0x37f861['payload'];if(_0x3851cd)_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x218),{'val':JSON[_0xc0da2f(0x1ea)](_0x3851cd),'ack':!![]});}else{if(_0x37f861['type']===_0xc0da2f(0x1ed)){const {forecast:_0x44403c}=_0x37f861[_0xc0da2f(0x1f4)];if(_0x44403c)_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1d6),{'val':JSON[_0xc0da2f(0x1ea)](_0x44403c),'ack':!![]});}else{if(_0x37f861[_0xc0da2f(0x1f2)]===_0xc0da2f(0x215)){const {alerts:_0x22b36c}=_0x37f861[_0xc0da2f(0x1f4)];if(_0x22b36c)_0x58d0ab[_0xc0da2f(0x1c0)]('analysis.energy.ventilationAlerts',{'val':JSON['stringify'](_0x22b36c),'ack':!![]});}else{if(_0x37f861[_0xc0da2f(0x1f2)]===_0xc0da2f(0x1f9)){const {proposals:_0x4f165f}=_0x37f861[_0xc0da2f(0x1f4)];_0x58d0ab['getState'](_0xc0da2f(0x1d3),(_0x24af8e,_0x546965)=>{_0x546965&&_0x546965['val']===!![]&&_0x4f165f&&_0x4f165f['length']>0x0&&automation['applyEnergySavings'](_0x58d0ab,_0x4f165f);});}else{if(_0x37f861[_0xc0da2f(0x1f2)]==='SIGNAL_RESULT'){const {room:_0x41ffbc,propagation:_0x24ef32}=_0x37f861[_0xc0da2f(0x1f4)];let _0x1e1408=_0xc0da2f(0x1fa),_0x1ffbc3=0x0;if(_0x24ef32){const _0x43364e=Object[_0xc0da2f(0x1fb)](_0x24ef32);_0x43364e[_0xc0da2f(0x209)]>0x0&&(_0x1e1408=_0x43364e[0x0][0x0],_0x1ffbc3=_0x43364e[0x0][0x1]);}_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1d2),{'val':_0x1e1408,'ack':!![]}),_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x208),{'val':_0x1ffbc3,'ack':!![]}),automation[_0xc0da2f(0x1e2)](_0x58d0ab,_0x1e1408,_0x1ffbc3);}else{if(_0x37f861['type']==='TRACKER_RESULT'){const {probabilities:_0x45a802}=_0x37f861['payload'];if(_0x45a802){_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x204),{'val':JSON[_0xc0da2f(0x1ea)](_0x45a802),'ack':!![]});const _0x812f4c=Object[_0xc0da2f(0x1e8)](_0x45a802);if(_0x812f4c[_0xc0da2f(0x209)]>0x0){const _0x4fa194=_0x812f4c[0x0],_0x145280=_0x45a802[_0x4fa194];_0x58d0ab['setStateAsync'](_0xc0da2f(0x207),{'val':_0x4fa194,'ack':!![]}),_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1d8),{'val':_0x145280,'ack':!![]});}}}else{if(_0x37f861['type']===_0xc0da2f(0x1c3)){const {patterns:_0x33e28d}=_0x37f861[_0xc0da2f(0x1f4)];if(_0x33e28d&&_0x33e28d[_0xc0da2f(0x209)]>0x0)_0x58d0ab[_0xc0da2f(0x1c0)](_0xc0da2f(0x1be),{'val':JSON['stringify'](_0x33e28d),'ack':!![]});}}}}}}}}}}}}}}}}}function startService(_0x279e02,_0x1f0ecd){const _0x3cb73d=a4_0x3699ca;let _0x8eed93='python3';if(fs[_0x3cb73d(0x1ec)](_0x1f0ecd))_0x8eed93=_0x1f0ecd;try{const _0xe6ea03=path[_0x3cb73d(0x1dc)](__dirname,'..','python_service',_0x3cb73d(0x1b4));pythonProcess=spawn(_0x8eed93,[_0xe6ea03]),pythonProcess[_0x3cb73d(0x1ba)]['on'](_0x3cb73d(0x1c2),_0x17e24d=>{const _0x431ea9=_0x3cb73d,_0x304e3c=_0x17e24d[_0x431ea9(0x1b3)]()[_0x431ea9(0x1ee)]('\x0a');_0x304e3c[_0x431ea9(0x1ce)](_0x2505d1=>{const _0x42038c=_0x431ea9,_0x3a425b=_0x2505d1[_0x42038c(0x1bb)]();if(!_0x3a425b)return;if(_0x3a425b['startsWith'](_0x42038c(0x214)))_0x279e02['log'][_0x42038c(0x20d)](_0x42038c(0x1f3)+_0x3a425b[_0x42038c(0x205)](0x5)[_0x42038c(0x1bb)]());else{if(_0x3a425b[_0x42038c(0x20e)](_0x42038c(0x1fc)))try{const _0x2e15c8=JSON[_0x42038c(0x210)](_0x3a425b[_0x42038c(0x205)](0x8)[_0x42038c(0x1bb)]());handleResult(_0x279e02,_0x2e15c8);}catch(_0x4851ba){}}});}),pythonProcess['on'](_0x3cb73d(0x1b5),_0x59b171=>{pythonProcess=null;}),_0x279e02['sendToPythonWrapper']=(_0x2e258c,_0x4414ed)=>send(_0x279e02,_0x2e258c,_0x4414ed);}catch(_0x3c0b21){_0x279e02[_0x3cb73d(0x1fe)][_0x3cb73d(0x1e9)](_0x3cb73d(0x1cd)+_0x3c0b21['message']);}}function stopService(_0x4b6215){const _0x2f2353=a4_0x3699ca;if(pythonProcess){try{pythonProcess[_0x2f2353(0x1c7)]();}catch(_0xe3934c){}pythonProcess=null;}}module[a4_0x3699ca(0x1fd)]={'startService':startService,'stopService':stopService,'send':send};