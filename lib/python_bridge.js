function a4_0x16b1(_0x511012,_0x35f763){const _0x590b26=a4_0x2ce7();return a4_0x16b1=function(_0x16dac8,_0x5eb246){_0x16dac8=_0x16dac8-0x193;let _0x2ce704=_0x590b26[_0x16dac8];return _0x2ce704;},a4_0x16b1(_0x511012,_0x35f763);}const a4_0x32a54d=a4_0x16b1;(function(_0x4db69c,_0x52e848){const _0x3ee36d=a4_0x16b1,_0x3f554a=_0x4db69c();while(!![]){try{const _0x67aeb5=parseInt(_0x3ee36d(0x196))/0x1*(-parseInt(_0x3ee36d(0x1e1))/0x2)+parseInt(_0x3ee36d(0x1ad))/0x3*(parseInt(_0x3ee36d(0x1a6))/0x4)+-parseInt(_0x3ee36d(0x1c6))/0x5+-parseInt(_0x3ee36d(0x198))/0x6*(parseInt(_0x3ee36d(0x1bf))/0x7)+parseInt(_0x3ee36d(0x1df))/0x8*(-parseInt(_0x3ee36d(0x1be))/0x9)+parseInt(_0x3ee36d(0x1ac))/0xa*(parseInt(_0x3ee36d(0x1b4))/0xb)+parseInt(_0x3ee36d(0x1a1))/0xc*(parseInt(_0x3ee36d(0x1a5))/0xd);if(_0x67aeb5===_0x52e848)break;else _0x3f554a['push'](_0x3f554a['shift']());}catch(_0x492c88){_0x3f554a['push'](_0x3f554a['shift']());}}}(a4_0x2ce7,0x3c114));const a4_0x5eb246=(function(){let _0x8b9544=!![];return function(_0x53a65c,_0x5ed356){const _0x171c3b=_0x8b9544?function(){const _0x241b5c=a4_0x16b1;if(_0x5ed356){const _0x45d6db=_0x5ed356[_0x241b5c(0x1cb)](_0x53a65c,arguments);return _0x5ed356=null,_0x45d6db;}}:function(){};return _0x8b9544=![],_0x171c3b;};}()),a4_0x16dac8=a4_0x5eb246(this,function(){const _0x1dd94d=a4_0x16b1;return a4_0x16dac8[_0x1dd94d(0x1d6)]()[_0x1dd94d(0x1ca)]('(((.+)+)+)+$')[_0x1dd94d(0x1d6)]()['constructor'](a4_0x16dac8)[_0x1dd94d(0x1ca)]('(((.+)+)+)+$');});a4_0x16dac8();'use strict';const {spawn}=require('child_process'),path=require(a4_0x32a54d(0x1d2)),fs=require('fs'),setup=require(a4_0x32a54d(0x1b2)),automation=require(a4_0x32a54d(0x1ec));let pythonProcess=null;function send(_0x1ec7a0,_0x2084f1,_0x48f3db={}){const _0xd5e608=a4_0x32a54d;if(!pythonProcess||!pythonProcess['stdin']['writable'])return;const _0x3c48b6=JSON['stringify']({'command':_0x2084f1,..._0x48f3db});try{pythonProcess[_0xd5e608(0x1eb)][_0xd5e608(0x1f7)](_0x3c48b6+'\x0a');}catch(_0x473c1e){}}function handleResult(_0x5b6347,_0x272af1){const _0x29918a=a4_0x32a54d;if(_0x272af1[_0x29918a(0x1dc)]===_0x29918a(0x1f4))_0x5b6347[_0x29918a(0x1a8)][_0x29918a(0x194)]('ðŸ\x20Python\x20Pong');else{if(_0x272af1[_0x29918a(0x1dc)]===_0x29918a(0x1e2)){const {anomaly_score:_0x311dfa,is_anomaly:_0x2ee7ab,threshold:_0x316243,explanation:_0x149d7d}=_0x272af1[_0x29918a(0x1af)];_0x5b6347[_0x29918a(0x1a8)][_0x29918a(0x1e3)](_0x29918a(0x1bc)+_0x311dfa['toFixed'](0x5)+_0x29918a(0x1c4)+(_0x2ee7ab?_0x29918a(0x199):'OK')),_0x5b6347[_0x29918a(0x19f)]('analysis.security.lastScore',{'val':_0x311dfa,'ack':!![]}),_0x5b6347['setStateAsync'](_0x29918a(0x1c5),{'val':new Date()[_0x29918a(0x1c7)](),'ack':!![]});if(_0x316243)_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1aa),{'val':_0x316243,'ack':!![]});if(_0x2ee7ab){let _0x5c5a1d=_0x29918a(0x1cf)+_0x311dfa[_0x29918a(0x1b8)](0x4)+')';if(_0x149d7d&&_0x149d7d!==_0x29918a(0x1da))_0x5c5a1d+='\x0aGrund:\x20'+_0x149d7d;_0x5b6347['setStateAsync'](_0x29918a(0x1f5),{'val':!![],'ack':!![]}),_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1c9),{'val':_0x5c5a1d,'ack':!![]}),setup[_0x29918a(0x1f1)](_0x5b6347,_0x29918a(0x1a2)+_0x5c5a1d,![],!![]);}}else{if(_0x272af1['type']===_0x29918a(0x1d7)){const _0x35dba1=_0x272af1['payload']['details']||'',_0x37b70d=_0x272af1['payload'][_0x29918a(0x1f8)],_0x58b02b=_0x272af1[_0x29918a(0x1af)][_0x29918a(0x1fb)]?_0x29918a(0x1e5)+new Date()[_0x29918a(0x1f3)]()+'\x20('+_0x35dba1+')':_0x29918a(0x195)+_0x272af1[_0x29918a(0x1af)][_0x29918a(0x19c)];_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1a7),{'val':_0x58b02b,'ack':!![]});if(_0x272af1['payload'][_0x29918a(0x1fb)]&&_0x37b70d)_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1aa),{'val':_0x37b70d,'ack':!![]});}else{if(_0x272af1[_0x29918a(0x1dc)]===_0x29918a(0x1db)){const {patterns:_0x3e6a96}=_0x272af1[_0x29918a(0x1af)];if(_0x3e6a96&&_0x3e6a96[_0x29918a(0x1c2)]>0x0){_0x5b6347[_0x29918a(0x1a8)][_0x29918a(0x1e3)](_0x29918a(0x19a)+_0x3e6a96['length']+'\x20new\x20patterns.'),_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1b9),{'val':JSON[_0x29918a(0x1ef)](_0x3e6a96),'ack':!![]});const _0xec8cc6=_0x3e6a96[0x0],_0x5681f1=_0x29918a(0x1f9)+_0xec8cc6[_0x29918a(0x1c3)]+'\x20('+(_0xec8cc6[_0x29918a(0x1ba)]*0x64)[_0x29918a(0x1b8)](0x0)+'%)';_0x5b6347[_0x29918a(0x19f)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),_0x5b6347[_0x29918a(0x19f)]('analysis.automation.description',{'val':_0x5681f1,'ack':!![]});}else _0x5b6347[_0x29918a(0x1a8)]['info'](_0x29918a(0x1ce)),_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1b7),{'val':![],'ack':!![]}),_0x5b6347['setStateAsync'](_0x29918a(0x1b9),{'val':'[]','ack':!![]});}else{if(_0x272af1[_0x29918a(0x1dc)]==='ENERGY_TRAIN_RESULT'){if(_0x272af1[_0x29918a(0x1af)][_0x29918a(0x1fb)])try{const _0x343a84=JSON['parse'](_0x272af1[_0x29918a(0x1af)][_0x29918a(0x1a3)]);if(_0x343a84[_0x29918a(0x1c1)])_0x5b6347['setStateAsync']('analysis.energy.insulationScore',{'val':JSON['stringify'](_0x343a84[_0x29918a(0x1c1)]),'ack':!![]});if(_0x343a84[_0x29918a(0x193)])_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1f0),{'val':JSON[_0x29918a(0x1ef)](_0x343a84[_0x29918a(0x193)]),'ack':!![]});}catch(_0x58c132){}}else{if(_0x272af1[_0x29918a(0x1dc)]===_0x29918a(0x1a9)){if(_0x272af1[_0x29918a(0x1af)][_0x29918a(0x1fb)])_0x5b6347[_0x29918a(0x1a8)][_0x29918a(0x1e3)](_0x29918a(0x1d8));}else{if(_0x272af1['type']===_0x29918a(0x1cd))_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1ea),{'val':new Date()[_0x29918a(0x1c7)](),'ack':!![]}),_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1e6),{'val':_0x272af1[_0x29918a(0x1af)][_0x29918a(0x1fa)],'ack':!![]});else{if(_0x272af1[_0x29918a(0x1dc)]===_0x29918a(0x19d))_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1ee),{'val':_0x272af1['payload'][_0x29918a(0x1a4)],'ack':!![]}),_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1dd),{'val':_0x272af1['payload']['change_percent'],'ack':!![]});else{if(_0x272af1[_0x29918a(0x1dc)]===_0x29918a(0x1ab)){const {speed_trend:_0x252f0b}=_0x272af1[_0x29918a(0x1af)];if(_0x252f0b!==undefined)_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x19e),{'val':_0x252f0b,'ack':!![]});}else{if(_0x272af1['type']===_0x29918a(0x1d5)){const {forecast:_0x24700d}=_0x272af1['payload'];if(_0x24700d)_0x5b6347[_0x29918a(0x19f)]('analysis.energy.forecast',{'val':JSON[_0x29918a(0x1ef)](_0x24700d),'ack':!![]});}else{if(_0x272af1['type']===_0x29918a(0x1a0)){const {data:_0x5221e1}=_0x272af1['payload'];_0x5221e1&&(_0x5b6347[_0x29918a(0x1a8)][_0x29918a(0x1e3)]('ðŸ•¸ï¸\x20Topology\x20Map\x20updated\x20by\x20Python.'),_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1e4),{'val':JSON[_0x29918a(0x1ef)](_0x5221e1),'ack':!![]}));}else{if(_0x272af1[_0x29918a(0x1dc)]===_0x29918a(0x1e7))_0x5b6347[_0x29918a(0x1a8)][_0x29918a(0x194)](_0x29918a(0x1d1));else{if(_0x272af1[_0x29918a(0x1dc)]===_0x29918a(0x1bb)){const {room:_0x529280,propagation:_0x582205}=_0x272af1[_0x29918a(0x1af)];let _0x17c26e=_0x29918a(0x1da),_0x5b6a3c=0x0;if(_0x582205){const _0x5c6acb=Object[_0x29918a(0x1b3)](_0x582205);_0x5c6acb[_0x29918a(0x1c2)]>0x0&&(_0x17c26e=_0x5c6acb[0x0][0x0],_0x5b6a3c=_0x5c6acb[0x0][0x1]);}_0x5b6347['setStateAsync'](_0x29918a(0x1e9),{'val':_0x17c26e,'ack':!![]}),_0x5b6347[_0x29918a(0x19f)](_0x29918a(0x1d4),{'val':_0x5b6a3c,'ack':!![]}),_0x5b6a3c>0.4&&_0x5b6347['log']['debug']('ðŸ”®\x20Prediction:\x20From\x20'+_0x529280+_0x29918a(0x19b)+_0x17c26e+'\x20('+(_0x5b6a3c*0x64)[_0x29918a(0x1b8)](0x0)+'%)'),automation[_0x29918a(0x197)](_0x5b6347,_0x17c26e,_0x5b6a3c);}}}}}}}}}}}}}}function a4_0x2ce7(){const _0x3c4870=['insulation','length','rule','\x20->\x20','analysis.security.lastCheck','2415405MpSXGX','toISOString','data','analysis.alertReason','search','apply','stdout','HEALTH_RESULT','ðŸ›‹ï¸\x20BUTLER:\x20Keine\x20neuen\x20Muster\x20gefunden.','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','join','ðŸ\x20Python\x20confirmed\x20new\x20topology.','path','python3','analysis.prediction.confidence','ENERGY_PREDICT_RESULT','toString','TRAINING_COMPLETE','âœ…\x20HEALTH\x20TRAINED.','split','Unknown','COMFORT_RESULT','type','analysis.health.trendValue','python_service','21544irUOEo','error','128rISqKn','SECURITY_RESULT','info','analysis.security.topologyMatrix','Success:\x20','analysis.health.isAnomaly','TOPOLOGY_ACK','Error\x20launching\x20Python:\x20','analysis.prediction.nextRoom','analysis.health.lastCheck','stdin','./automation','parse','analysis.health.trendDiagnosis','stringify','analysis.energy.heatingScore','sendNotification','message','toLocaleTimeString','PONG','analysis.isAlert','kill','write','threshold','Regel\x20erkannt:\x20','is_anomaly','success','heating','debug','Failed:\x20','93QlxWFq','handlePrediction','6rtMCLq','ANOMALY','ðŸ›‹ï¸\x20BUTLER:\x20Found\x20','\x20->\x20Likely\x20','reason','TREND_RESULT','analysis.health.gaitSpeed','setStateAsync','TOPOLOGY_RESULT','12OCqZGX','âš ï¸\x20SECURITY\x20ALARM:\x20','details','diagnosis','11127961QAMdns','4vKprsA','analysis.training.status','log','HEALTH_TRAIN_RESULT','analysis.security.currentThreshold','GAIT_RESULT','290QmHljo','43413LHPlYh','[RESULT]','payload','close','substring','./setup','entries','95117FyClHt','exports','service.py','analysis.automation.patternDetected','toFixed','analysis.automation.detectedPatterns','confidence','SIGNAL_RESULT','ðŸ›¡ï¸\x20SECURITY\x20CHECK:\x20Score\x20','trim','1287YCTiwj','7441rhLUhf','startsWith'];a4_0x2ce7=function(){return _0x3c4870;};return a4_0x2ce7();}function startService(_0x450b7c,_0xc85274){const _0x1b8fa8=a4_0x32a54d;let _0x3794c1=_0x1b8fa8(0x1d3);if(fs['existsSync'](_0xc85274))_0x3794c1=_0xc85274;try{const _0x3ec7ba=path[_0x1b8fa8(0x1d0)](__dirname,'..',_0x1b8fa8(0x1de),_0x1b8fa8(0x1b6));pythonProcess=spawn(_0x3794c1,[_0x3ec7ba]),pythonProcess[_0x1b8fa8(0x1cc)]['on'](_0x1b8fa8(0x1c8),_0x3391eb=>{const _0x235561=_0x1b8fa8,_0x8112e=_0x3391eb['toString']()[_0x235561(0x1d9)]('\x0a');_0x8112e['forEach'](_0x4df462=>{const _0x2b7c1d=_0x235561,_0x1c96e4=_0x4df462['trim']();if(!_0x1c96e4)return;if(_0x1c96e4[_0x2b7c1d(0x1c0)]('[LOG]'))_0x450b7c[_0x2b7c1d(0x1a8)][_0x2b7c1d(0x194)]('[PYTHON]\x20'+_0x1c96e4[_0x2b7c1d(0x1b1)](0x5)['trim']());else{if(_0x1c96e4[_0x2b7c1d(0x1c0)](_0x2b7c1d(0x1ae)))try{const _0x447490=JSON[_0x2b7c1d(0x1ed)](_0x1c96e4[_0x2b7c1d(0x1b1)](0x8)[_0x2b7c1d(0x1bd)]());handleResult(_0x450b7c,_0x447490);}catch(_0x1dd5cf){}}});}),pythonProcess['on'](_0x1b8fa8(0x1b0),_0x580cc9=>{pythonProcess=null;}),_0x450b7c['sendToPythonWrapper']=(_0x1b8ec6,_0xa982d7)=>send(_0x450b7c,_0x1b8ec6,_0xa982d7);}catch(_0x533434){_0x450b7c['log'][_0x1b8fa8(0x1e0)](_0x1b8fa8(0x1e8)+_0x533434[_0x1b8fa8(0x1f2)]);}}function stopService(_0x4cef8a){const _0x2473dc=a4_0x32a54d;if(pythonProcess){try{pythonProcess[_0x2473dc(0x1f6)]();}catch(_0x479704){}pythonProcess=null;}}module[a4_0x32a54d(0x1b5)]={'startService':startService,'stopService':stopService,'send':send};