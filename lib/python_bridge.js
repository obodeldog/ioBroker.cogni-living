const a2_0x225ffa=a2_0x3836;(function(_0x19456a,_0x5e90d4){const _0x14b3da=a2_0x3836,_0x28e650=_0x19456a();while(!![]){try{const _0x47f929=-parseInt(_0x14b3da(0x1df))/0x1*(parseInt(_0x14b3da(0x1fc))/0x2)+-parseInt(_0x14b3da(0x1ff))/0x3*(parseInt(_0x14b3da(0x1cc))/0x4)+parseInt(_0x14b3da(0x1bc))/0x5+parseInt(_0x14b3da(0x1e3))/0x6*(-parseInt(_0x14b3da(0x1ab))/0x7)+-parseInt(_0x14b3da(0x19c))/0x8+-parseInt(_0x14b3da(0x1ca))/0x9+-parseInt(_0x14b3da(0x1a0))/0xa*(-parseInt(_0x14b3da(0x1e2))/0xb);if(_0x47f929===_0x5e90d4)break;else _0x28e650['push'](_0x28e650['shift']());}catch(_0x1ec0ad){_0x28e650['push'](_0x28e650['shift']());}}}(a2_0x1a64,0x3ab3b));function a2_0x3836(_0x380ead,_0x3a74c3){const _0x152769=a2_0x1a64();return a2_0x3836=function(_0x638d2a,_0x5bbbc9){_0x638d2a=_0x638d2a-0x19c;let _0x1a64e3=_0x152769[_0x638d2a];return _0x1a64e3;},a2_0x3836(_0x380ead,_0x3a74c3);}const a2_0x5bbbc9=(function(){let _0x94e6c0=!![];return function(_0x172eb7,_0xcebfb1){const _0x4d9226=_0x94e6c0?function(){if(_0xcebfb1){const _0x43eec8=_0xcebfb1['apply'](_0x172eb7,arguments);return _0xcebfb1=null,_0x43eec8;}}:function(){};return _0x94e6c0=![],_0x4d9226;};}()),a2_0x638d2a=a2_0x5bbbc9(this,function(){const _0x382458=a2_0x3836;return a2_0x638d2a[_0x382458(0x1e4)]()[_0x382458(0x1fa)](_0x382458(0x1b0))[_0x382458(0x1e4)]()[_0x382458(0x1cb)](a2_0x638d2a)[_0x382458(0x1fa)]('(((.+)+)+)+$');});a2_0x638d2a();'use strict';const {spawn}=require(a2_0x225ffa(0x1ed)),path=require(a2_0x225ffa(0x1dd)),fs=require('fs'),setup=require(a2_0x225ffa(0x1b6));let pythonProcess=null;function send(_0x20950a,_0x39b9b3,_0x4b9f29={}){const _0xa832f=a2_0x225ffa;if(!pythonProcess||!pythonProcess[_0xa832f(0x1ec)]['writable'])return;const _0x13ad23=JSON[_0xa832f(0x1d3)]({'command':_0x39b9b3,..._0x4b9f29});try{pythonProcess['stdin']['write'](_0x13ad23+'\x0a');}catch(_0x339493){}}function a2_0x1a64(){const _0xb57785=['COMFORT_RESULT','toISOString','insulation','heating','ANOMALY','analysis.prediction.nextRoom','HEALTH_TRAIN_RESULT','2567672Yeivha','rule','analysis.health.gaitSpeed','setStateAsync','90LUvbxu','type','TOPOLOGY_ACK','startsWith','ðŸ”®\x20Prediction:\x20From\x20','analysis.security.topologyMatrix','data','analysis.training.status','python3','analysis.energy.forecast','info','35882DKKgHB','ðŸ\x20Python\x20Pong','TREND_RESULT','Unknown','analysis.health.trendDiagnosis','(((.+)+)+)+$','kill','PONG','analysis.security.currentThreshold','toLocaleTimeString','entries','./setup','length','success','âš ï¸\x20SECURITY\x20ALARM:\x20','close','ENERGY_TRAIN_RESULT','1005720sByBLO','Failed:\x20','analysis.energy.heatingScore','stdout','analysis.isAlert','âœ…\x20HEALTH\x20TRAINED.','payload','threshold','toFixed','ðŸ\x20Python\x20confirmed\x20new\x20topology.','parse','TRAINING_COMPLETE','\x20->\x20Likely\x20','analysis.automation.description','3149703GKoeZn','constructor','32EzVlce','split','analysis.health.isAnomaly','Regel\x20erkannt:\x20','[PYTHON]\x20','analysis.prediction.confidence','substring','stringify','python_service','ðŸ›‹ï¸\x20BUTLER:\x20Keine\x20neuen\x20Muster\x20gefunden.','error','trim','TOPOLOGY_RESULT','existsSync','analysis.automation.detectedPatterns','ðŸ•¸ï¸\x20Topology\x20Map\x20updated\x20by\x20Python.','analysis.health.trendValue','path','analysis.automation.patternDetected','397NjJgps','\x20new\x20patterns.','forEach','2179067BpPeDo','390nyqGBJ','toString','log','analysis.security.lastScore','analysis.energy.insulationScore','[LOG]','ENERGY_PREDICT_RESULT','sendToPythonWrapper','join','stdin','child_process','HEALTH_RESULT','\x0aGrund:\x20','Error\x20launching\x20Python:\x20','diagnosis','SECURITY_RESULT','analysis.health.lastCheck','details','debug','[RESULT]','sendNotification','analysis.security.lastCheck','ðŸ›‹ï¸\x20BUTLER:\x20Found\x20','search','exports','1556bHDaFC','analysis.alertReason','change_percent','161472BgqThq','\x20->\x20','message'];a2_0x1a64=function(){return _0xb57785;};return a2_0x1a64();}function handleResult(_0x2976b2,_0x584b00){const _0x2f6551=a2_0x225ffa;if(_0x584b00[_0x2f6551(0x1a1)]===_0x2f6551(0x1b2))_0x2976b2['log']['debug'](_0x2f6551(0x1ac));else{if(_0x584b00[_0x2f6551(0x1a1)]===_0x2f6551(0x1f2)){const {anomaly_score:_0x26dbb4,is_anomaly:_0x3c7201,threshold:_0x21bae3,explanation:_0x78afe}=_0x584b00[_0x2f6551(0x1c2)];_0x2976b2[_0x2f6551(0x1e5)][_0x2f6551(0x1aa)]('ðŸ›¡ï¸\x20SECURITY\x20CHECK:\x20Score\x20'+_0x26dbb4[_0x2f6551(0x1c4)](0x5)+_0x2f6551(0x200)+(_0x3c7201?_0x2f6551(0x206):'OK')),_0x2976b2['setStateAsync'](_0x2f6551(0x1e6),{'val':_0x26dbb4,'ack':!![]}),_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1f8),{'val':new Date()[_0x2f6551(0x203)](),'ack':!![]});if(_0x21bae3)_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1b3),{'val':_0x21bae3,'ack':!![]});if(_0x3c7201){let _0x59acfe='UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20'+_0x26dbb4[_0x2f6551(0x1c4)](0x4)+')';if(_0x78afe&&_0x78afe!==_0x2f6551(0x1ae))_0x59acfe+=_0x2f6551(0x1ef)+_0x78afe;_0x2976b2['setStateAsync'](_0x2f6551(0x1c0),{'val':!![],'ack':!![]}),_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1fd),{'val':_0x59acfe,'ack':!![]}),setup[_0x2f6551(0x1f7)](_0x2976b2,_0x2f6551(0x1b9)+_0x59acfe,![],!![]);}}else{if(_0x584b00[_0x2f6551(0x1a1)]===_0x2f6551(0x1c7)){const _0x2d4956=_0x584b00[_0x2f6551(0x1c2)][_0x2f6551(0x1f4)]||'',_0x58ddac=_0x584b00[_0x2f6551(0x1c2)][_0x2f6551(0x1c3)],_0x26a062=_0x584b00[_0x2f6551(0x1c2)][_0x2f6551(0x1b8)]?'Success:\x20'+new Date()[_0x2f6551(0x1b4)]()+'\x20('+_0x2d4956+')':_0x2f6551(0x1bd)+_0x584b00[_0x2f6551(0x1c2)]['reason'];_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1a7),{'val':_0x26a062,'ack':!![]});if(_0x584b00[_0x2f6551(0x1c2)]['success']&&_0x58ddac)_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1b3),{'val':_0x58ddac,'ack':!![]});}else{if(_0x584b00['type']===_0x2f6551(0x202)){const {patterns:_0x193a1d}=_0x584b00[_0x2f6551(0x1c2)];if(_0x193a1d&&_0x193a1d[_0x2f6551(0x1b7)]>0x0){_0x2976b2[_0x2f6551(0x1e5)][_0x2f6551(0x1aa)](_0x2f6551(0x1f9)+_0x193a1d[_0x2f6551(0x1b7)]+_0x2f6551(0x1e0)),_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1da),{'val':JSON[_0x2f6551(0x1d3)](_0x193a1d),'ack':!![]});const _0x2872f7=_0x193a1d[0x0],_0x5556e5=_0x2f6551(0x1cf)+_0x2872f7[_0x2f6551(0x19d)]+'\x20('+(_0x2872f7['confidence']*0x64)[_0x2f6551(0x1c4)](0x0)+'%)';_0x2976b2[_0x2f6551(0x19f)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),_0x2976b2['setStateAsync'](_0x2f6551(0x1c9),{'val':_0x5556e5,'ack':!![]});}else _0x2976b2[_0x2f6551(0x1e5)][_0x2f6551(0x1aa)](_0x2f6551(0x1d5)),_0x2976b2['setStateAsync'](_0x2f6551(0x1de),{'val':![],'ack':!![]}),_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1da),{'val':'[]','ack':!![]});}else{if(_0x584b00[_0x2f6551(0x1a1)]===_0x2f6551(0x1bb)){if(_0x584b00[_0x2f6551(0x1c2)][_0x2f6551(0x1b8)])try{const _0x10a759=JSON[_0x2f6551(0x1c6)](_0x584b00[_0x2f6551(0x1c2)][_0x2f6551(0x1f4)]);if(_0x10a759['insulation'])_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1e7),{'val':JSON[_0x2f6551(0x1d3)](_0x10a759[_0x2f6551(0x204)]),'ack':!![]});if(_0x10a759[_0x2f6551(0x205)])_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1be),{'val':JSON[_0x2f6551(0x1d3)](_0x10a759['heating']),'ack':!![]});}catch(_0x1d10b8){}}else{if(_0x584b00[_0x2f6551(0x1a1)]===_0x2f6551(0x208)){if(_0x584b00[_0x2f6551(0x1c2)][_0x2f6551(0x1b8)])_0x2976b2[_0x2f6551(0x1e5)][_0x2f6551(0x1aa)](_0x2f6551(0x1c1));}else{if(_0x584b00[_0x2f6551(0x1a1)]===_0x2f6551(0x1ee))_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1f3),{'val':new Date()[_0x2f6551(0x203)](),'ack':!![]}),_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1ce),{'val':_0x584b00[_0x2f6551(0x1c2)]['is_anomaly'],'ack':!![]});else{if(_0x584b00['type']===_0x2f6551(0x1ad))_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1af),{'val':_0x584b00[_0x2f6551(0x1c2)][_0x2f6551(0x1f1)],'ack':!![]}),_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1dc),{'val':_0x584b00['payload'][_0x2f6551(0x1fe)],'ack':!![]});else{if(_0x584b00['type']==='GAIT_RESULT'){const {speed_trend:_0x1fe8d4}=_0x584b00[_0x2f6551(0x1c2)];if(_0x1fe8d4!==undefined)_0x2976b2['setStateAsync'](_0x2f6551(0x19e),{'val':_0x1fe8d4,'ack':!![]});}else{if(_0x584b00[_0x2f6551(0x1a1)]===_0x2f6551(0x1e9)){const {forecast:_0x35d07b}=_0x584b00[_0x2f6551(0x1c2)];if(_0x35d07b)_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1a9),{'val':JSON[_0x2f6551(0x1d3)](_0x35d07b),'ack':!![]});}else{if(_0x584b00[_0x2f6551(0x1a1)]===_0x2f6551(0x1d8)){const {data:_0x59ac19}=_0x584b00[_0x2f6551(0x1c2)];_0x59ac19&&(_0x2976b2[_0x2f6551(0x1e5)][_0x2f6551(0x1aa)](_0x2f6551(0x1db)),_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1a5),{'val':JSON['stringify'](_0x59ac19),'ack':!![]}));}else{if(_0x584b00[_0x2f6551(0x1a1)]===_0x2f6551(0x1a2))_0x2976b2[_0x2f6551(0x1e5)][_0x2f6551(0x1f5)](_0x2f6551(0x1c5));else{if(_0x584b00[_0x2f6551(0x1a1)]==='SIGNAL_RESULT'){const {room:_0x5ce49f,propagation:_0x5d5ccf}=_0x584b00[_0x2f6551(0x1c2)];let _0x54212=_0x2f6551(0x1ae),_0x17d696=0x0;if(_0x5d5ccf){const _0x6d70d6=Object[_0x2f6551(0x1b5)](_0x5d5ccf);_0x6d70d6[_0x2f6551(0x1b7)]>0x0&&(_0x54212=_0x6d70d6[0x0][0x0],_0x17d696=_0x6d70d6[0x0][0x1]);}_0x2976b2['setStateAsync'](_0x2f6551(0x207),{'val':_0x54212,'ack':!![]}),_0x2976b2[_0x2f6551(0x19f)](_0x2f6551(0x1d1),{'val':_0x17d696,'ack':!![]}),_0x17d696>0.4&&_0x2976b2[_0x2f6551(0x1e5)][_0x2f6551(0x1f5)](_0x2f6551(0x1a4)+_0x5ce49f+_0x2f6551(0x1c8)+_0x54212+'\x20('+(_0x17d696*0x64)['toFixed'](0x0)+'%)');}}}}}}}}}}}}}}function startService(_0x3e6912,_0x37d360){const _0x15a50f=a2_0x225ffa;let _0x5cf97e=_0x15a50f(0x1a8);if(fs[_0x15a50f(0x1d9)](_0x37d360))_0x5cf97e=_0x37d360;try{const _0x11929f=path[_0x15a50f(0x1eb)](__dirname,'..',_0x15a50f(0x1d4),'service.py');pythonProcess=spawn(_0x5cf97e,[_0x11929f]),pythonProcess[_0x15a50f(0x1bf)]['on'](_0x15a50f(0x1a6),_0x3cef46=>{const _0x15cb64=_0x15a50f,_0x13e37c=_0x3cef46[_0x15cb64(0x1e4)]()[_0x15cb64(0x1cd)]('\x0a');_0x13e37c[_0x15cb64(0x1e1)](_0x2f499f=>{const _0x3aa83f=_0x15cb64,_0x36de8f=_0x2f499f['trim']();if(!_0x36de8f)return;if(_0x36de8f[_0x3aa83f(0x1a3)](_0x3aa83f(0x1e8)))_0x3e6912[_0x3aa83f(0x1e5)][_0x3aa83f(0x1f5)](_0x3aa83f(0x1d0)+_0x36de8f[_0x3aa83f(0x1d2)](0x5)[_0x3aa83f(0x1d7)]());else{if(_0x36de8f[_0x3aa83f(0x1a3)](_0x3aa83f(0x1f6)))try{const _0x23d885=JSON[_0x3aa83f(0x1c6)](_0x36de8f[_0x3aa83f(0x1d2)](0x8)[_0x3aa83f(0x1d7)]());handleResult(_0x3e6912,_0x23d885);}catch(_0x46bcf0){}}});}),pythonProcess['on'](_0x15a50f(0x1ba),_0xdfaa48=>{pythonProcess=null;}),_0x3e6912[_0x15a50f(0x1ea)]=(_0xb03ca6,_0x3bae15)=>send(_0x3e6912,_0xb03ca6,_0x3bae15);}catch(_0x16b942){_0x3e6912[_0x15a50f(0x1e5)][_0x15a50f(0x1d6)](_0x15a50f(0x1f0)+_0x16b942[_0x15a50f(0x201)]);}}function stopService(_0xaa6518){const _0x56127f=a2_0x225ffa;if(pythonProcess){try{pythonProcess[_0x56127f(0x1b1)]();}catch(_0x2ff226){}pythonProcess=null;}}module[a2_0x225ffa(0x1fb)]={'startService':startService,'stopService':stopService,'send':send};