const a7_0x2f0f20=a7_0xa753;function a7_0x5d49(){const _0x340ed8=['guest','1AKwYiU','analysis.triggerBriefing','11559YFBZrZ','getStateAsync','67610RRfKuw','scheduleJob','log','hour','1378363UDSTsx','isProVersion','split','2871616YfPQrZ','exports','config','message','minute','Briefing\x20Sched\x20Error:\x20','toString','briefingEnabled','218710uullVs','LTM.triggerDailyDigest','modeResetJob','ltmJob','738rGmlmy','floor','val','LTM\x20Sched\x20Error:\x20','driftAnalysisTimer','12FYYXjM','\x20local\x20(','apply','696tfPyfd','error','(((.+)+)+)+$','0\x204\x20*\x20*\x20*','search','RecurrenceRule','â°\x20Initializing\x20All\x20Schedules...','getTimezoneOffset','ðŸ“…\x20Triggering\x20LTM\x20Daily\x20Digest\x20schedule...','cancel','6563546GJnnJX','Reset\x20Sched\x20Error:\x20','30mUQTeu','2929980nFPJXk','0\x203\x20*\x20*\x20*','â˜•\x20Triggering\x20Morning\x20Briefing\x20schedule...','includes','setState','info','\x20UTC,\x20offset:\x20','briefingJob','system.mode'];a7_0x5d49=function(){return _0x340ed8;};return a7_0x5d49();}(function(_0x4cde78,_0x6de3ab){const _0x583948=a7_0xa753,_0x226d53=_0x4cde78();while(!![]){try{const _0x439606=-parseInt(_0x583948(0x17b))/0x1*(-parseInt(_0x583948(0x18e))/0x2)+parseInt(_0x583948(0x17d))/0x3*(parseInt(_0x583948(0x19a))/0x4)+parseInt(_0x583948(0x1a7))/0x5+parseInt(_0x583948(0x1a6))/0x6*(-parseInt(_0x583948(0x183))/0x7)+parseInt(_0x583948(0x186))/0x8+-parseInt(_0x583948(0x192))/0x9*(-parseInt(_0x583948(0x17f))/0xa)+-parseInt(_0x583948(0x1a4))/0xb*(parseInt(_0x583948(0x197))/0xc);if(_0x439606===_0x6de3ab)break;else _0x226d53['push'](_0x226d53['shift']());}catch(_0x2202fb){_0x226d53['push'](_0x226d53['shift']());}}}(a7_0x5d49,0xaa628));const a7_0x31ec26=(function(){let _0x5171db=!![];return function(_0x499c31,_0x3706d4){const _0x3d12f0=_0x5171db?function(){const _0x446b75=a7_0xa753;if(_0x3706d4){const _0x2d4c87=_0x3706d4[_0x446b75(0x199)](_0x499c31,arguments);return _0x3706d4=null,_0x2d4c87;}}:function(){};return _0x5171db=![],_0x3d12f0;};}()),a7_0x4c0260=a7_0x31ec26(this,function(){const _0x525981=a7_0xa753;return a7_0x4c0260[_0x525981(0x18c)]()[_0x525981(0x19e)](_0x525981(0x19c))['toString']()['constructor'](a7_0x4c0260)[_0x525981(0x19e)]('(((.+)+)+)+$');});a7_0x4c0260();'use strict';const schedule=require('node-schedule'),LTM_SCHEDULE=a7_0x2f0f20(0x1a8),MODE_RESET_SCHEDULE=a7_0x2f0f20(0x19d),AUTO_RESET_MODES=['party',a7_0x2f0f20(0x17a)],SYSTEM_DP_MODE=a7_0x2f0f20(0x179);function setupLtmScheduler(_0x3989b4,_0x39b296){const _0x57bbde=a7_0x2f0f20;try{if(_0x3989b4[_0x57bbde(0x191)])_0x3989b4[_0x57bbde(0x191)][_0x57bbde(0x1a3)]();if(!_0x3989b4[_0x57bbde(0x184)])return;_0x3989b4[_0x57bbde(0x191)]=schedule[_0x57bbde(0x180)](LTM_SCHEDULE,_0x39b296);}catch(_0x163f48){_0x3989b4['log'][_0x57bbde(0x19b)](_0x57bbde(0x195)+_0x163f48['message']);}}function setupModeResetScheduler(_0x150459){const _0x41e1b5=a7_0x2f0f20;try{if(_0x150459[_0x41e1b5(0x190)])_0x150459[_0x41e1b5(0x190)][_0x41e1b5(0x1a3)]();_0x150459[_0x41e1b5(0x190)]=schedule[_0x41e1b5(0x180)](MODE_RESET_SCHEDULE,async()=>{const _0x2ce642=_0x41e1b5;try{const _0x5cc146=await _0x150459[_0x2ce642(0x17e)](SYSTEM_DP_MODE);_0x5cc146&&_0x5cc146[_0x2ce642(0x194)]&&AUTO_RESET_MODES[_0x2ce642(0x1aa)](_0x5cc146[_0x2ce642(0x194)])&&await _0x150459['setStateAsync'](SYSTEM_DP_MODE,{'val':'normal','ack':![]});}catch(_0x136448){}});}catch(_0x3ab726){_0x150459[_0x41e1b5(0x181)][_0x41e1b5(0x19b)](_0x41e1b5(0x1a5)+_0x3ab726[_0x41e1b5(0x189)]);}}function setupDriftAnalysisScheduler(_0x435a1f,_0x13f1e6){const _0xb3dbde=a7_0x2f0f20;try{if(_0x435a1f[_0xb3dbde(0x196)])clearInterval(_0x435a1f[_0xb3dbde(0x196)]);if(!_0x435a1f['isProVersion'])return;const _0x121557=_0x435a1f['config']['ltmDriftCheckIntervalHours']||0x18;_0x435a1f[_0xb3dbde(0x196)]=setInterval(_0x13f1e6,_0x121557*0x36ee80),setTimeout(_0x13f1e6,0x1388);}catch(_0x4cfaf4){_0x435a1f['log']['error']('Drift\x20Sched\x20Error:\x20'+_0x4cfaf4[_0xb3dbde(0x189)]);}}function a7_0xa753(_0x31ab93,_0x14076b){const _0x426371=a7_0x5d49();return a7_0xa753=function(_0x4c0260,_0x31ec26){_0x4c0260=_0x4c0260-0x175;let _0x5d4949=_0x426371[_0x4c0260];return _0x5d4949;},a7_0xa753(_0x31ab93,_0x14076b);}function setupBriefingScheduler(_0x5f4134,_0x22fdb8){const _0x19d309=a7_0x2f0f20;try{if(_0x5f4134[_0x19d309(0x178)])_0x5f4134[_0x19d309(0x178)][_0x19d309(0x1a3)]();if(!_0x5f4134[_0x19d309(0x188)][_0x19d309(0x18d)])return;const _0x251a9b=(_0x5f4134['config']['briefingTime']||'08:00')[_0x19d309(0x185)](':'),_0xf8bb95=parseInt(_0x251a9b[0x0])||0x8,_0x460d9d=parseInt(_0x251a9b[0x1])||0x0,_0x5c80b4=new Date(),_0x3a8cca=Math[_0x19d309(0x193)](_0x5c80b4[_0x19d309(0x1a1)]()/-0x3c),_0xb8a46=(_0xf8bb95-_0x3a8cca+0x18)%0x18,_0x2064df=new schedule[(_0x19d309(0x19f))]();_0x2064df[_0x19d309(0x182)]=_0xb8a46,_0x2064df[_0x19d309(0x18a)]=_0x460d9d,_0x5f4134[_0x19d309(0x178)]=schedule[_0x19d309(0x180)](_0x2064df,_0x22fdb8),_0x5f4134['log'][_0x19d309(0x176)]('â˜•\x20Briefing\x20scheduled\x20for\x20'+_0xf8bb95+':'+(_0x460d9d<0xa?'0':'')+_0x460d9d+_0x19d309(0x198)+_0xb8a46+':'+(_0x460d9d<0xa?'0':'')+_0x460d9d+_0x19d309(0x177)+_0x3a8cca+'h)');}catch(_0x474aa3){_0x5f4134[_0x19d309(0x181)][_0x19d309(0x19b)](_0x19d309(0x18b)+_0x474aa3[_0x19d309(0x189)]);}}function initSchedules(_0xf13368){const _0xdc8ba2=a7_0x2f0f20;_0xf13368['log'][_0xdc8ba2(0x176)](_0xdc8ba2(0x1a0)),setupBriefingScheduler(_0xf13368,()=>{const _0x488cac=_0xdc8ba2;_0xf13368[_0x488cac(0x181)]['info'](_0x488cac(0x1a9)),_0xf13368[_0x488cac(0x175)](_0x488cac(0x17c),{'val':!![],'ack':![]});}),setupModeResetScheduler(_0xf13368),setupLtmScheduler(_0xf13368,()=>{const _0x138093=_0xdc8ba2;_0xf13368[_0x138093(0x181)][_0x138093(0x176)](_0x138093(0x1a2)),_0xf13368[_0x138093(0x175)](_0x138093(0x18f),{'val':!![],'ack':![]});}),setupDriftAnalysisScheduler(_0xf13368,()=>{});}module[a7_0x2f0f20(0x187)]={'setupLtmScheduler':setupLtmScheduler,'setupModeResetScheduler':setupModeResetScheduler,'setupDriftAnalysisScheduler':setupDriftAnalysisScheduler,'setupBriefingScheduler':setupBriefingScheduler,'initSchedules':initSchedules};