const a2_0x14b859=a2_0x150b;function a2_0x1ca0(){const _0x16c37d=['3067068rUgquu','party','setStateAsync','guest','08:00','563PrETXq','16155942FzwwSJ','isProVersion','toString','log','config','4089134KXzTvV','normal','briefingJob','modeResetJob','LTM\x20Sched\x20Error:\x20','(((.+)+)+)+$','0\x204\x20*\x20*\x20*','3966939VHiYhy','val','Reset\x20Sched\x20Error:\x20','6EhXdCu','error','4559672BKCKtD','message','briefingEnabled','driftAnalysisTimer','30uQSMmn','ltmJob','briefingTime','exports','0\x203\x20*\x20*\x20*','1110yHxJac','16fTwPFe','Drift\x20Sched\x20Error:\x20','5303410eccTre','\x20*\x20*\x20*','scheduleJob','search'];a2_0x1ca0=function(){return _0x16c37d;};return a2_0x1ca0();}(function(_0x176a46,_0x42d2e9){const _0x4c0c92=a2_0x150b,_0x51c961=_0x176a46();while(!![]){try{const _0x57adc3=-parseInt(_0x4c0c92(0x89))/0x1*(parseInt(_0x4c0c92(0x7d))/0x2)+-parseInt(_0x4c0c92(0x84))/0x3+-parseInt(_0x4c0c92(0x74))/0x4+-parseInt(_0x4c0c92(0x80))/0x5+parseInt(_0x4c0c92(0x72))/0x6*(parseInt(_0x4c0c92(0x8f))/0x7)+parseInt(_0x4c0c92(0x7e))/0x8*(-parseInt(_0x4c0c92(0x6f))/0x9)+-parseInt(_0x4c0c92(0x78))/0xa*(-parseInt(_0x4c0c92(0x8a))/0xb);if(_0x57adc3===_0x42d2e9)break;else _0x51c961['push'](_0x51c961['shift']());}catch(_0x4639d0){_0x51c961['push'](_0x51c961['shift']());}}}(a2_0x1ca0,0x8bfb5));const a2_0xdc6a93=(function(){let _0xfa46f4=!![];return function(_0x505919,_0x4c99e4){const _0x36796d=_0xfa46f4?function(){if(_0x4c99e4){const _0x306c67=_0x4c99e4['apply'](_0x505919,arguments);return _0x4c99e4=null,_0x306c67;}}:function(){};return _0xfa46f4=![],_0x36796d;};}()),a2_0x32c837=a2_0xdc6a93(this,function(){const _0x28f40b=a2_0x150b;return a2_0x32c837[_0x28f40b(0x8c)]()[_0x28f40b(0x83)](_0x28f40b(0x94))[_0x28f40b(0x8c)]()['constructor'](a2_0x32c837)['search']('(((.+)+)+)+$');});a2_0x32c837();'use strict';const schedule=require('node-schedule'),LTM_SCHEDULE=a2_0x14b859(0x7c),MODE_RESET_SCHEDULE=a2_0x14b859(0x6e),AUTO_RESET_MODES=[a2_0x14b859(0x85),a2_0x14b859(0x87)],SYSTEM_DP_MODE='system.mode';function setupLtmScheduler(_0x17da74,_0x4c0b6){const _0x549dd3=a2_0x14b859;try{if(_0x17da74['ltmJob'])_0x17da74[_0x549dd3(0x79)]['cancel']();if(!_0x17da74[_0x549dd3(0x8b)])return;_0x17da74[_0x549dd3(0x79)]=schedule[_0x549dd3(0x82)](LTM_SCHEDULE,_0x4c0b6);}catch(_0x23a889){_0x17da74[_0x549dd3(0x8d)][_0x549dd3(0x73)](_0x549dd3(0x93)+_0x23a889[_0x549dd3(0x75)]);}}function a2_0x150b(_0x4fc852,_0x29b609){const _0x1a62dd=a2_0x1ca0();return a2_0x150b=function(_0x32c837,_0xdc6a93){_0x32c837=_0x32c837-0x6e;let _0x1ca053=_0x1a62dd[_0x32c837];return _0x1ca053;},a2_0x150b(_0x4fc852,_0x29b609);}function setupModeResetScheduler(_0x64118a){const _0x1b76c3=a2_0x14b859;try{if(_0x64118a['modeResetJob'])_0x64118a[_0x1b76c3(0x92)]['cancel']();_0x64118a[_0x1b76c3(0x92)]=schedule[_0x1b76c3(0x82)](MODE_RESET_SCHEDULE,async()=>{const _0x23a785=_0x1b76c3;try{const _0x51ffe9=await _0x64118a['getStateAsync'](SYSTEM_DP_MODE);_0x51ffe9&&_0x51ffe9[_0x23a785(0x70)]&&AUTO_RESET_MODES['includes'](_0x51ffe9[_0x23a785(0x70)])&&await _0x64118a[_0x23a785(0x86)](SYSTEM_DP_MODE,{'val':_0x23a785(0x90),'ack':![]});}catch(_0x19f83c){}});}catch(_0x2510a7){_0x64118a[_0x1b76c3(0x8d)]['error'](_0x1b76c3(0x71)+_0x2510a7[_0x1b76c3(0x75)]);}}function setupDriftAnalysisScheduler(_0x1ac2e7,_0x564b5d){const _0xbcb72d=a2_0x14b859;try{if(_0x1ac2e7[_0xbcb72d(0x77)])clearInterval(_0x1ac2e7[_0xbcb72d(0x77)]);if(!_0x1ac2e7[_0xbcb72d(0x8b)])return;const _0x41cc14=_0x1ac2e7['config']['ltmDriftCheckIntervalHours']||0x18;_0x1ac2e7[_0xbcb72d(0x77)]=setInterval(_0x564b5d,_0x41cc14*0x36ee80),setTimeout(_0x564b5d,0x1388);}catch(_0x344aab){_0x1ac2e7[_0xbcb72d(0x8d)]['error'](_0xbcb72d(0x7f)+_0x344aab[_0xbcb72d(0x75)]);}}function setupBriefingScheduler(_0x24444b,_0x3ab63c){const _0x229af7=a2_0x14b859;try{if(_0x24444b[_0x229af7(0x91)])_0x24444b[_0x229af7(0x91)]['cancel']();if(!_0x24444b[_0x229af7(0x8e)][_0x229af7(0x76)])return;const _0x4d3aa5=(_0x24444b['config'][_0x229af7(0x7a)]||_0x229af7(0x88))['split'](':'),_0x3df7ae=parseInt(_0x4d3aa5[0x0])||0x8,_0x107c89=parseInt(_0x4d3aa5[0x1])||0x0,_0x345eec=_0x107c89+'\x20'+_0x3df7ae+_0x229af7(0x81);_0x24444b[_0x229af7(0x91)]=schedule[_0x229af7(0x82)](_0x345eec,_0x3ab63c);}catch(_0x1601b0){_0x24444b[_0x229af7(0x8d)][_0x229af7(0x73)]('Briefing\x20Sched\x20Error:\x20'+_0x1601b0[_0x229af7(0x75)]);}}module[a2_0x14b859(0x7b)]={'setupLtmScheduler':setupLtmScheduler,'setupModeResetScheduler':setupModeResetScheduler,'setupDriftAnalysisScheduler':setupDriftAnalysisScheduler,'setupBriefingScheduler':setupBriefingScheduler};