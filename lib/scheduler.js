const a7_0x89dbe3=a7_0x1399;function a7_0xb528(){const _0x5f0e9f=['error','log','25896410xLewiO','scheduleJob','Drift\x20Sched\x20Error:\x20','ltmDriftCheckIntervalHours','minute','3xRtsSK','toString','3311344bwHQFT','modeResetJob','config','08:00','node-schedule','â°\x20Initializing\x20All\x20Schedules...','analysis.triggerBriefing','11425KAsVTh','info','10680jnDzwa','constructor','LTM\x20Sched\x20Error:\x20','1440814mqqtUH','ltmJob','getTimezoneOffset','search','922653kwWZtp','â˜•\x20Briefing\x20scheduled\x20for\x20','normal','setState','includes','briefingJob','LTM.triggerDailyDigest','1074MxbgSc','7CneOgd','â˜•\x20Triggering\x20Morning\x20Briefing\x20schedule...','cancel','message','0\x203\x20*\x20*\x20*','system.mode','isProVersion','Briefing\x20Sched\x20Error:\x20','1583586ldGTfg','0\x204\x20*\x20*\x20*','(((.+)+)+)+$','split','driftAnalysisTimer','apply','guest','\x20local\x20(','party'];a7_0xb528=function(){return _0x5f0e9f;};return a7_0xb528();}(function(_0x476b46,_0x3748bf){const _0x35e95a=a7_0x1399,_0xfa5954=_0x476b46();while(!![]){try{const _0x5b5a88=-parseInt(_0x35e95a(0x90))/0x1+-parseInt(_0x35e95a(0x8c))/0x2*(parseInt(_0x35e95a(0xb0))/0x3)+-parseInt(_0x35e95a(0x89))/0x4+parseInt(_0x35e95a(0x87))/0x5*(-parseInt(_0x35e95a(0x97))/0x6)+-parseInt(_0x35e95a(0x98))/0x7*(-parseInt(_0x35e95a(0xb2))/0x8)+-parseInt(_0x35e95a(0xa0))/0x9+parseInt(_0x35e95a(0xab))/0xa;if(_0x5b5a88===_0x3748bf)break;else _0xfa5954['push'](_0xfa5954['shift']());}catch(_0x44603e){_0xfa5954['push'](_0xfa5954['shift']());}}}(a7_0xb528,0xbcafc));const a7_0x143e3a=(function(){let _0x2e6f93=!![];return function(_0x4f91f1,_0x16bc2c){const _0x46fc81=_0x2e6f93?function(){const _0x3a68d4=a7_0x1399;if(_0x16bc2c){const _0x342f0c=_0x16bc2c[_0x3a68d4(0xa5)](_0x4f91f1,arguments);return _0x16bc2c=null,_0x342f0c;}}:function(){};return _0x2e6f93=![],_0x46fc81;};}()),a7_0x1c77e1=a7_0x143e3a(this,function(){const _0x5855a8=a7_0x1399;return a7_0x1c77e1[_0x5855a8(0xb1)]()['search'](_0x5855a8(0xa2))[_0x5855a8(0xb1)]()[_0x5855a8(0x8a)](a7_0x1c77e1)[_0x5855a8(0x8f)](_0x5855a8(0xa2));});a7_0x1c77e1();'use strict';const schedule=require(a7_0x89dbe3(0x84)),LTM_SCHEDULE=a7_0x89dbe3(0x9c),MODE_RESET_SCHEDULE=a7_0x89dbe3(0xa1),AUTO_RESET_MODES=[a7_0x89dbe3(0xa8),a7_0x89dbe3(0xa6)],SYSTEM_DP_MODE=a7_0x89dbe3(0x9d);function setupLtmScheduler(_0x3b9d15,_0x175974){const _0x223dff=a7_0x89dbe3;try{if(_0x3b9d15[_0x223dff(0x8d)])_0x3b9d15[_0x223dff(0x8d)][_0x223dff(0x9a)]();if(!_0x3b9d15['isProVersion'])return;_0x3b9d15[_0x223dff(0x8d)]=schedule[_0x223dff(0xac)](LTM_SCHEDULE,_0x175974);}catch(_0x138657){_0x3b9d15[_0x223dff(0xaa)][_0x223dff(0xa9)](_0x223dff(0x8b)+_0x138657[_0x223dff(0x9b)]);}}function setupModeResetScheduler(_0x3743eb){const _0x3a20b1=a7_0x89dbe3;try{if(_0x3743eb['modeResetJob'])_0x3743eb[_0x3a20b1(0xb3)][_0x3a20b1(0x9a)]();_0x3743eb[_0x3a20b1(0xb3)]=schedule[_0x3a20b1(0xac)](MODE_RESET_SCHEDULE,async()=>{const _0x57d44c=_0x3a20b1;try{const _0x25336d=await _0x3743eb['getStateAsync'](SYSTEM_DP_MODE);_0x25336d&&_0x25336d['val']&&AUTO_RESET_MODES[_0x57d44c(0x94)](_0x25336d['val'])&&await _0x3743eb['setStateAsync'](SYSTEM_DP_MODE,{'val':_0x57d44c(0x92),'ack':![]});}catch(_0x1682f5){}});}catch(_0x241f10){_0x3743eb[_0x3a20b1(0xaa)][_0x3a20b1(0xa9)]('Reset\x20Sched\x20Error:\x20'+_0x241f10['message']);}}function setupDriftAnalysisScheduler(_0x1e0a6a,_0x357905){const _0x27e9da=a7_0x89dbe3;try{if(_0x1e0a6a[_0x27e9da(0xa4)])clearInterval(_0x1e0a6a[_0x27e9da(0xa4)]);if(!_0x1e0a6a[_0x27e9da(0x9e)])return;const _0x22be18=_0x1e0a6a[_0x27e9da(0xb4)][_0x27e9da(0xae)]||0x18;_0x1e0a6a[_0x27e9da(0xa4)]=setInterval(_0x357905,_0x22be18*0x36ee80),setTimeout(_0x357905,0x1388);}catch(_0x5ee356){_0x1e0a6a['log'][_0x27e9da(0xa9)](_0x27e9da(0xad)+_0x5ee356[_0x27e9da(0x9b)]);}}function a7_0x1399(_0x5d0950,_0x37eea9){const _0x1b4aa6=a7_0xb528();return a7_0x1399=function(_0x1c77e1,_0x143e3a){_0x1c77e1=_0x1c77e1-0x84;let _0xb528be=_0x1b4aa6[_0x1c77e1];return _0xb528be;},a7_0x1399(_0x5d0950,_0x37eea9);}function setupBriefingScheduler(_0x59263d,_0x35ad3d){const _0x3e2b52=a7_0x89dbe3;try{if(_0x59263d[_0x3e2b52(0x95)])_0x59263d['briefingJob']['cancel']();if(!_0x59263d[_0x3e2b52(0xb4)]['briefingEnabled'])return;const _0x36b8be=(_0x59263d['config']['briefingTime']||_0x3e2b52(0xb5))[_0x3e2b52(0xa3)](':'),_0xeeec0d=parseInt(_0x36b8be[0x0])||0x8,_0x3ec5c5=parseInt(_0x36b8be[0x1])||0x0,_0x5361f8=new Date(),_0x4d50a0=Math['floor'](_0x5361f8[_0x3e2b52(0x8e)]()/-0x3c),_0x1115b7=(_0xeeec0d-_0x4d50a0+0x18)%0x18,_0x1e0904=new schedule['RecurrenceRule']();_0x1e0904['hour']=_0x1115b7,_0x1e0904[_0x3e2b52(0xaf)]=_0x3ec5c5,_0x59263d[_0x3e2b52(0x95)]=schedule[_0x3e2b52(0xac)](_0x1e0904,_0x35ad3d),_0x59263d['log']['info'](_0x3e2b52(0x91)+_0xeeec0d+':'+(_0x3ec5c5<0xa?'0':'')+_0x3ec5c5+_0x3e2b52(0xa7)+_0x1115b7+':'+(_0x3ec5c5<0xa?'0':'')+_0x3ec5c5+'\x20UTC,\x20offset:\x20'+_0x4d50a0+'h)');}catch(_0x319173){_0x59263d[_0x3e2b52(0xaa)][_0x3e2b52(0xa9)](_0x3e2b52(0x9f)+_0x319173['message']);}}function initSchedules(_0x2144a2){const _0x490169=a7_0x89dbe3;_0x2144a2[_0x490169(0xaa)][_0x490169(0x88)](_0x490169(0x85)),setupBriefingScheduler(_0x2144a2,()=>{const _0xa3c724=_0x490169;_0x2144a2[_0xa3c724(0xaa)][_0xa3c724(0x88)](_0xa3c724(0x99)),_0x2144a2[_0xa3c724(0x93)](_0xa3c724(0x86),{'val':!![],'ack':![]});}),setupModeResetScheduler(_0x2144a2),setupLtmScheduler(_0x2144a2,()=>{const _0x62debd=_0x490169;_0x2144a2[_0x62debd(0xaa)][_0x62debd(0x88)]('ðŸ“…\x20Triggering\x20LTM\x20Daily\x20Digest\x20schedule...'),_0x2144a2[_0x62debd(0x93)](_0x62debd(0x96),{'val':!![],'ack':![]});}),setupDriftAnalysisScheduler(_0x2144a2,()=>{});}module['exports']={'setupLtmScheduler':setupLtmScheduler,'setupModeResetScheduler':setupModeResetScheduler,'setupDriftAnalysisScheduler':setupDriftAnalysisScheduler,'setupBriefingScheduler':setupBriefingScheduler,'initSchedules':initSchedules};