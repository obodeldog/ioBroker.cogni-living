const a7_0x71b2c9=a7_0x5e82;(function(_0x4b24ed,_0x42cbe4){const _0x3b1a1f=a7_0x5e82,_0x5b37bb=_0x4b24ed();while(!![]){try{const _0x364b7a=-parseInt(_0x3b1a1f(0x1fe))/0x1*(-parseInt(_0x3b1a1f(0x1ed))/0x2)+parseInt(_0x3b1a1f(0x210))/0x3*(-parseInt(_0x3b1a1f(0x1f3))/0x4)+-parseInt(_0x3b1a1f(0x202))/0x5*(-parseInt(_0x3b1a1f(0x1e6))/0x6)+-parseInt(_0x3b1a1f(0x214))/0x7+parseInt(_0x3b1a1f(0x1ea))/0x8*(-parseInt(_0x3b1a1f(0x1fa))/0x9)+parseInt(_0x3b1a1f(0x211))/0xa+parseInt(_0x3b1a1f(0x1f2))/0xb;if(_0x364b7a===_0x42cbe4)break;else _0x5b37bb['push'](_0x5b37bb['shift']());}catch(_0x5652a6){_0x5b37bb['push'](_0x5b37bb['shift']());}}}(a7_0x39c0,0x9c50f));const a7_0x375d81=(function(){let _0x1b7fa3=!![];return function(_0x52243f,_0x3cf780){const _0x357ce6=_0x1b7fa3?function(){const _0x17e4b1=a7_0x5e82;if(_0x3cf780){const _0x179950=_0x3cf780[_0x17e4b1(0x1e9)](_0x52243f,arguments);return _0x3cf780=null,_0x179950;}}:function(){};return _0x1b7fa3=![],_0x357ce6;};}()),a7_0x40c537=a7_0x375d81(this,function(){const _0x1395c3=a7_0x5e82;return a7_0x40c537[_0x1395c3(0x1e5)]()[_0x1395c3(0x201)](_0x1395c3(0x206))[_0x1395c3(0x1e5)]()[_0x1395c3(0x1fc)](a7_0x40c537)['search'](_0x1395c3(0x206));});a7_0x40c537();function a7_0x5e82(_0x428ba6,_0x1826d9){const _0x3be0c8=a7_0x39c0();return a7_0x5e82=function(_0x40c537,_0x375d81){_0x40c537=_0x40c537-0x1e2;let _0x39c0dd=_0x3be0c8[_0x40c537];return _0x39c0dd;},a7_0x5e82(_0x428ba6,_0x1826d9);}'use strict';const schedule=require('node-schedule'),LTM_SCHEDULE=a7_0x71b2c9(0x20b),MODE_RESET_SCHEDULE='0\x204\x20*\x20*\x20*',AUTO_RESET_MODES=[a7_0x71b2c9(0x1e7),a7_0x71b2c9(0x1f4)],SYSTEM_DP_MODE=a7_0x71b2c9(0x1e8);function setupLtmScheduler(_0x8929be,_0x509ad6){const _0x17d20f=a7_0x71b2c9;try{if(_0x8929be[_0x17d20f(0x1ef)])_0x8929be[_0x17d20f(0x1ef)][_0x17d20f(0x1f5)]();if(!_0x8929be[_0x17d20f(0x20f)])return;_0x8929be['ltmJob']=schedule[_0x17d20f(0x207)](LTM_SCHEDULE,_0x509ad6);}catch(_0x4abeb0){_0x8929be['log'][_0x17d20f(0x20c)]('LTM\x20Sched\x20Error:\x20'+_0x4abeb0[_0x17d20f(0x1e2)]);}}function setupModeResetScheduler(_0x3bf8cd){const _0x490693=a7_0x71b2c9;try{if(_0x3bf8cd[_0x490693(0x1e4)])_0x3bf8cd['modeResetJob'][_0x490693(0x1f5)]();_0x3bf8cd[_0x490693(0x1e4)]=schedule[_0x490693(0x207)](MODE_RESET_SCHEDULE,async()=>{const _0x46e0ed=_0x490693;try{const _0x212e73=await _0x3bf8cd[_0x46e0ed(0x205)](SYSTEM_DP_MODE);_0x212e73&&_0x212e73['val']&&AUTO_RESET_MODES['includes'](_0x212e73[_0x46e0ed(0x20a)])&&await _0x3bf8cd['setStateAsync'](SYSTEM_DP_MODE,{'val':_0x46e0ed(0x200),'ack':![]});}catch(_0x285e83){}});}catch(_0x10401f){_0x3bf8cd[_0x490693(0x1ff)]['error']('Reset\x20Sched\x20Error:\x20'+_0x10401f['message']);}}function setupDriftAnalysisScheduler(_0x5d2560,_0x589e95){const _0x31a1bf=a7_0x71b2c9;try{if(_0x5d2560[_0x31a1bf(0x1f1)])clearInterval(_0x5d2560[_0x31a1bf(0x1f1)]);if(!_0x5d2560[_0x31a1bf(0x20f)])return;const _0x4b21a9=_0x5d2560[_0x31a1bf(0x1eb)][_0x31a1bf(0x204)]||0x18;_0x5d2560[_0x31a1bf(0x1f1)]=setInterval(_0x589e95,_0x4b21a9*0x36ee80),setTimeout(_0x589e95,0x1388);}catch(_0xf287cf){_0x5d2560[_0x31a1bf(0x1ff)][_0x31a1bf(0x20c)](_0x31a1bf(0x203)+_0xf287cf['message']);}}function setupBriefingScheduler(_0x4c9e66,_0x108706){const _0x46a945=a7_0x71b2c9;try{if(_0x4c9e66[_0x46a945(0x1f6)])_0x4c9e66[_0x46a945(0x1f6)][_0x46a945(0x1f5)]();if(!_0x4c9e66[_0x46a945(0x1eb)]['briefingEnabled'])return;const _0x2c1671=(_0x4c9e66[_0x46a945(0x1eb)][_0x46a945(0x1e3)]||'08:00')[_0x46a945(0x1f8)](':'),_0x28e8f7=parseInt(_0x2c1671[0x0])||0x8,_0x373a24=parseInt(_0x2c1671[0x1])||0x0,_0x3cdc99=new Date(),_0x4b38e6=Math[_0x46a945(0x1f0)](_0x3cdc99[_0x46a945(0x1fd)]()/-0x3c),_0x42f194=(_0x28e8f7-_0x4b38e6+0x18)%0x18,_0x112673=new schedule[(_0x46a945(0x1f9))]();_0x112673[_0x46a945(0x1f7)]=_0x42f194,_0x112673[_0x46a945(0x1ec)]=_0x373a24,_0x4c9e66['briefingJob']=schedule[_0x46a945(0x207)](_0x112673,_0x108706),_0x4c9e66[_0x46a945(0x1ff)][_0x46a945(0x213)](_0x46a945(0x1ee)+_0x28e8f7+':'+(_0x373a24<0xa?'0':'')+_0x373a24+'\x20local\x20('+_0x42f194+':'+(_0x373a24<0xa?'0':'')+_0x373a24+_0x46a945(0x212)+_0x4b38e6+'h)');}catch(_0x4fd90e){_0x4c9e66[_0x46a945(0x1ff)][_0x46a945(0x20c)](_0x46a945(0x20e)+_0x4fd90e['message']);}}function initSchedules(_0x417467){const _0x4e6876=a7_0x71b2c9;_0x417467['log'][_0x4e6876(0x213)](_0x4e6876(0x1fb)),setupBriefingScheduler(_0x417467,()=>{const _0x1e447e=_0x4e6876;_0x417467[_0x1e447e(0x1ff)][_0x1e447e(0x213)](_0x1e447e(0x208)),_0x417467[_0x1e447e(0x215)]('analysis.triggerBriefing',{'val':!![],'ack':![]});}),setupModeResetScheduler(_0x417467),setupLtmScheduler(_0x417467,()=>{const _0x3c5ad1=_0x4e6876;_0x417467[_0x3c5ad1(0x1ff)][_0x3c5ad1(0x213)](_0x3c5ad1(0x209)),_0x417467['setState'](_0x3c5ad1(0x20d),{'val':!![],'ack':![]});}),setupDriftAnalysisScheduler(_0x417467,()=>{});}function a7_0x39c0(){const _0x3af94b=['getTimezoneOffset','1xKsbFB','log','normal','search','5GxaIOK','Drift\x20Sched\x20Error:\x20','ltmDriftCheckIntervalHours','getStateAsync','(((.+)+)+)+$','scheduleJob','‚òï\x20Triggering\x20Morning\x20Briefing\x20schedule...','üìÖ\x20Triggering\x20LTM\x20Daily\x20Digest\x20schedule...','val','0\x203\x20*\x20*\x20*','error','LTM.triggerDailyDigest','Briefing\x20Sched\x20Error:\x20','isProVersion','9xEjjWG','10587440AJFhPY','\x20UTC,\x20offset:\x20','info','7053746uNKcNI','setState','message','briefingTime','modeResetJob','toString','1859328uhtbxj','party','system.mode','apply','168yKirSn','config','minute','1525714nanRaO','‚òï\x20Briefing\x20scheduled\x20for\x20','ltmJob','floor','driftAnalysisTimer','11763840jrUdMo','468956klwMpw','guest','cancel','briefingJob','hour','split','RecurrenceRule','514827UjRTMT','‚è∞\x20Initializing\x20All\x20Schedules...','constructor'];a7_0x39c0=function(){return _0x3af94b;};return a7_0x39c0();}module['exports']={'setupLtmScheduler':setupLtmScheduler,'setupModeResetScheduler':setupModeResetScheduler,'setupDriftAnalysisScheduler':setupDriftAnalysisScheduler,'setupBriefingScheduler':setupBriefingScheduler,'initSchedules':initSchedules};