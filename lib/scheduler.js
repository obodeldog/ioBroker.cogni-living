const a7_0x1d78d6=a7_0x30cf;(function(_0x4790e0,_0xa51c5f){const _0x263980=a7_0x30cf,_0x322a84=_0x4790e0();while(!![]){try{const _0x2d86f4=parseInt(_0x263980(0x9e))/0x1+-parseInt(_0x263980(0xb3))/0x2*(-parseInt(_0x263980(0xb4))/0x3)+-parseInt(_0x263980(0xae))/0x4+-parseInt(_0x263980(0xbd))/0x5+parseInt(_0x263980(0xa7))/0x6*(parseInt(_0x263980(0xaf))/0x7)+parseInt(_0x263980(0xb1))/0x8*(-parseInt(_0x263980(0xa2))/0x9)+parseInt(_0x263980(0xa5))/0xa;if(_0x2d86f4===_0xa51c5f)break;else _0x322a84['push'](_0x322a84['shift']());}catch(_0x275454){_0x322a84['push'](_0x322a84['shift']());}}}(a7_0x1064,0x6dace));const a7_0x5eaea0=(function(){let _0x288444=!![];return function(_0x489cda,_0x158925){const _0x72551f=_0x288444?function(){const _0x49a006=a7_0x30cf;if(_0x158925){const _0x476856=_0x158925[_0x49a006(0xa3)](_0x489cda,arguments);return _0x158925=null,_0x476856;}}:function(){};return _0x288444=![],_0x72551f;};}()),a7_0x4d0a92=a7_0x5eaea0(this,function(){const _0x99ec6=a7_0x30cf;return a7_0x4d0a92[_0x99ec6(0x9c)]()[_0x99ec6(0xa6)](_0x99ec6(0xab))[_0x99ec6(0x9c)]()[_0x99ec6(0xbb)](a7_0x4d0a92)[_0x99ec6(0xa6)](_0x99ec6(0xab));});function a7_0x1064(){const _0x5ae6b7=['party','message','config','(((.+)+)+)+$','includes','briefingJob','2555304vMtFYH','91672zZrvki','error','8xPgzSU','\x20*\x20*\x20*','1331032wgzEST','3BsdsPx','log','getStateAsync','exports','briefingTime','cancel','0\x203\x20*\x20*\x20*','constructor','ltmDriftCheckIntervalHours','1300220ojAKWR','split','modeResetJob','Drift\x20Sched\x20Error:\x20','normal','toString','driftAnalysisTimer','308643mVRDdm','val','isProVersion','0\x204\x20*\x20*\x20*','4474971cBQyNu','apply','ltmJob','1115920ojFZmm','search','348CpmuxH'];a7_0x1064=function(){return _0x5ae6b7;};return a7_0x1064();}a7_0x4d0a92();'use strict';const schedule=require('node-schedule'),LTM_SCHEDULE=a7_0x1d78d6(0xba),MODE_RESET_SCHEDULE=a7_0x1d78d6(0xa1),AUTO_RESET_MODES=[a7_0x1d78d6(0xa8),'guest'],SYSTEM_DP_MODE='system.mode';function setupLtmScheduler(_0x1bd377,_0x300246){const _0x360504=a7_0x1d78d6;try{if(_0x1bd377['ltmJob'])_0x1bd377['ltmJob'][_0x360504(0xb9)]();if(!_0x1bd377[_0x360504(0xa0)])return;_0x1bd377[_0x360504(0xa4)]=schedule['scheduleJob'](LTM_SCHEDULE,_0x300246);}catch(_0x1f2cce){_0x1bd377['log']['error']('LTM\x20Sched\x20Error:\x20'+_0x1f2cce[_0x360504(0xa9)]);}}function a7_0x30cf(_0x3dd052,_0x4804ac){const _0x4e0538=a7_0x1064();return a7_0x30cf=function(_0x4d0a92,_0x5eaea0){_0x4d0a92=_0x4d0a92-0x9a;let _0x1064bb=_0x4e0538[_0x4d0a92];return _0x1064bb;},a7_0x30cf(_0x3dd052,_0x4804ac);}function setupModeResetScheduler(_0x4a8409){const _0x380840=a7_0x1d78d6;try{if(_0x4a8409['modeResetJob'])_0x4a8409['modeResetJob'][_0x380840(0xb9)]();_0x4a8409[_0x380840(0xbf)]=schedule['scheduleJob'](MODE_RESET_SCHEDULE,async()=>{const _0x33807e=_0x380840;try{const _0x2ebd06=await _0x4a8409[_0x33807e(0xb6)](SYSTEM_DP_MODE);_0x2ebd06&&_0x2ebd06[_0x33807e(0x9f)]&&AUTO_RESET_MODES[_0x33807e(0xac)](_0x2ebd06[_0x33807e(0x9f)])&&await _0x4a8409['setStateAsync'](SYSTEM_DP_MODE,{'val':_0x33807e(0x9b),'ack':![]});}catch(_0x2854fa){}});}catch(_0x3792ae){_0x4a8409[_0x380840(0xb5)][_0x380840(0xb0)]('Reset\x20Sched\x20Error:\x20'+_0x3792ae[_0x380840(0xa9)]);}}function setupDriftAnalysisScheduler(_0x3e966b,_0x41f87f){const _0x4ebe5a=a7_0x1d78d6;try{if(_0x3e966b[_0x4ebe5a(0x9d)])clearInterval(_0x3e966b[_0x4ebe5a(0x9d)]);if(!_0x3e966b[_0x4ebe5a(0xa0)])return;const _0x1af969=_0x3e966b[_0x4ebe5a(0xaa)][_0x4ebe5a(0xbc)]||0x18;_0x3e966b[_0x4ebe5a(0x9d)]=setInterval(_0x41f87f,_0x1af969*0x36ee80),setTimeout(_0x41f87f,0x1388);}catch(_0xa55b61){_0x3e966b['log'][_0x4ebe5a(0xb0)](_0x4ebe5a(0x9a)+_0xa55b61[_0x4ebe5a(0xa9)]);}}function setupBriefingScheduler(_0x2ac2cf,_0x2e1063){const _0x2689a7=a7_0x1d78d6;try{if(_0x2ac2cf['briefingJob'])_0x2ac2cf[_0x2689a7(0xad)]['cancel']();if(!_0x2ac2cf[_0x2689a7(0xaa)]['briefingEnabled'])return;const _0x1e1034=(_0x2ac2cf['config'][_0x2689a7(0xb8)]||'08:00')[_0x2689a7(0xbe)](':'),_0x25587f=parseInt(_0x1e1034[0x0])||0x8,_0x3e9d8b=parseInt(_0x1e1034[0x1])||0x0,_0x1360bf=_0x3e9d8b+'\x20'+_0x25587f+_0x2689a7(0xb2);_0x2ac2cf[_0x2689a7(0xad)]=schedule['scheduleJob'](_0x1360bf,_0x2e1063);}catch(_0x14da79){_0x2ac2cf[_0x2689a7(0xb5)][_0x2689a7(0xb0)]('Briefing\x20Sched\x20Error:\x20'+_0x14da79[_0x2689a7(0xa9)]);}}module[a7_0x1d78d6(0xb7)]={'setupLtmScheduler':setupLtmScheduler,'setupModeResetScheduler':setupModeResetScheduler,'setupDriftAnalysisScheduler':setupDriftAnalysisScheduler,'setupBriefingScheduler':setupBriefingScheduler};