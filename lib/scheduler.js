const a7_0x3788f5=a7_0x1b42;(function(_0x9a81db,_0x343468){const _0x46e019=a7_0x1b42,_0x38665a=_0x9a81db();while(!![]){try{const _0x1c1de3=parseInt(_0x46e019(0x197))/0x1*(-parseInt(_0x46e019(0x191))/0x2)+-parseInt(_0x46e019(0x194))/0x3+-parseInt(_0x46e019(0x19f))/0x4*(parseInt(_0x46e019(0x196))/0x5)+-parseInt(_0x46e019(0x1a3))/0x6*(-parseInt(_0x46e019(0x185))/0x7)+-parseInt(_0x46e019(0x192))/0x8*(parseInt(_0x46e019(0x17d))/0x9)+-parseInt(_0x46e019(0x19d))/0xa*(-parseInt(_0x46e019(0x1a1))/0xb)+-parseInt(_0x46e019(0x17f))/0xc*(-parseInt(_0x46e019(0x187))/0xd);if(_0x1c1de3===_0x343468)break;else _0x38665a['push'](_0x38665a['shift']());}catch(_0x3faf33){_0x38665a['push'](_0x38665a['shift']());}}}(a7_0x49e9,0x3596c));const a7_0x40bc72=(function(){let _0x479651=!![];return function(_0x578b47,_0x5c7ce2){const _0x27866a=_0x479651?function(){const _0x2b50e6=a7_0x1b42;if(_0x5c7ce2){const _0x146cd3=_0x5c7ce2[_0x2b50e6(0x19e)](_0x578b47,arguments);return _0x5c7ce2=null,_0x146cd3;}}:function(){};return _0x479651=![],_0x27866a;};}()),a7_0x266d75=a7_0x40bc72(this,function(){const _0xd63a89=a7_0x1b42;return a7_0x266d75[_0xd63a89(0x18c)]()['search'](_0xd63a89(0x184))[_0xd63a89(0x18c)]()['constructor'](a7_0x266d75)[_0xd63a89(0x19c)]('(((.+)+)+)+$');});a7_0x266d75();'use strict';function a7_0x49e9(){const _0x105b12=['ltmDriftCheckIntervalHours','modeResetJob','462wwclKf','3442872OkMQgA','\x20*\x20*\x20*','1045359lfzdzT','guest','14020MTMugB','983dARnqH','driftAnalysisTimer','message','0\x204\x20*\x20*\x20*','split','search','93020VaZfps','apply','568LnrgOf','ltmJob','154LHFNbg','Reset\x20Sched\x20Error:\x20','594ScYLZU','9gTNCZG','normal','576FHjdEs','0\x203\x20*\x20*\x20*','briefingJob','exports','config','(((.+)+)+)+$','21273fLOYby','cancel','322959EdfkRA','log','error','setStateAsync','Briefing\x20Sched\x20Error:\x20','toString','system.mode','includes'];a7_0x49e9=function(){return _0x105b12;};return a7_0x49e9();}const schedule=require('node-schedule'),LTM_SCHEDULE=a7_0x3788f5(0x180),MODE_RESET_SCHEDULE=a7_0x3788f5(0x19a),AUTO_RESET_MODES=['party',a7_0x3788f5(0x195)],SYSTEM_DP_MODE=a7_0x3788f5(0x18d);function setupLtmScheduler(_0x197660,_0x397d4c){const _0x470a19=a7_0x3788f5;try{if(_0x197660[_0x470a19(0x1a0)])_0x197660[_0x470a19(0x1a0)][_0x470a19(0x186)]();if(!_0x197660['isProVersion'])return;_0x197660['ltmJob']=schedule['scheduleJob'](LTM_SCHEDULE,_0x397d4c);}catch(_0x1bc586){_0x197660[_0x470a19(0x188)]['error']('LTM\x20Sched\x20Error:\x20'+_0x1bc586[_0x470a19(0x199)]);}}function setupModeResetScheduler(_0x1d97eb){const _0x3f6bae=a7_0x3788f5;try{if(_0x1d97eb[_0x3f6bae(0x190)])_0x1d97eb['modeResetJob']['cancel']();_0x1d97eb[_0x3f6bae(0x190)]=schedule['scheduleJob'](MODE_RESET_SCHEDULE,async()=>{const _0x7a3edb=_0x3f6bae;try{const _0x28c83c=await _0x1d97eb['getStateAsync'](SYSTEM_DP_MODE);_0x28c83c&&_0x28c83c['val']&&AUTO_RESET_MODES[_0x7a3edb(0x18e)](_0x28c83c['val'])&&await _0x1d97eb[_0x7a3edb(0x18a)](SYSTEM_DP_MODE,{'val':_0x7a3edb(0x17e),'ack':![]});}catch(_0x1294d2){}});}catch(_0x2835a5){_0x1d97eb['log']['error'](_0x3f6bae(0x1a2)+_0x2835a5[_0x3f6bae(0x199)]);}}function a7_0x1b42(_0x93a7bb,_0x585a9e){const _0x9e9174=a7_0x49e9();return a7_0x1b42=function(_0x266d75,_0x40bc72){_0x266d75=_0x266d75-0x17d;let _0x49e99b=_0x9e9174[_0x266d75];return _0x49e99b;},a7_0x1b42(_0x93a7bb,_0x585a9e);}function setupDriftAnalysisScheduler(_0x4dc306,_0x1b997a){const _0x3ca0dc=a7_0x3788f5;try{if(_0x4dc306[_0x3ca0dc(0x198)])clearInterval(_0x4dc306[_0x3ca0dc(0x198)]);if(!_0x4dc306['isProVersion'])return;const _0x35c854=_0x4dc306[_0x3ca0dc(0x183)][_0x3ca0dc(0x18f)]||0x18;_0x4dc306[_0x3ca0dc(0x198)]=setInterval(_0x1b997a,_0x35c854*0x36ee80),setTimeout(_0x1b997a,0x1388);}catch(_0x29d444){_0x4dc306[_0x3ca0dc(0x188)]['error']('Drift\x20Sched\x20Error:\x20'+_0x29d444['message']);}}function setupBriefingScheduler(_0x1e29c0,_0x373af8){const _0x3663a0=a7_0x3788f5;try{if(_0x1e29c0[_0x3663a0(0x181)])_0x1e29c0[_0x3663a0(0x181)][_0x3663a0(0x186)]();if(!_0x1e29c0[_0x3663a0(0x183)]['briefingEnabled'])return;const _0x2292e1=(_0x1e29c0['config']['briefingTime']||'08:00')[_0x3663a0(0x19b)](':'),_0x129a66=parseInt(_0x2292e1[0x0])||0x8,_0x2e2ae8=parseInt(_0x2292e1[0x1])||0x0,_0x1e5372=_0x2e2ae8+'\x20'+_0x129a66+_0x3663a0(0x193);_0x1e29c0['briefingJob']=schedule['scheduleJob'](_0x1e5372,_0x373af8);}catch(_0x3d6de5){_0x1e29c0[_0x3663a0(0x188)][_0x3663a0(0x189)](_0x3663a0(0x18b)+_0x3d6de5[_0x3663a0(0x199)]);}}module[a7_0x3788f5(0x182)]={'setupLtmScheduler':setupLtmScheduler,'setupModeResetScheduler':setupModeResetScheduler,'setupDriftAnalysisScheduler':setupDriftAnalysisScheduler,'setupBriefingScheduler':setupBriefingScheduler};