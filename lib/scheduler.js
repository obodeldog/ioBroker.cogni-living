const a7_0x40e22a=a7_0x5478;(function(_0x29b68a,_0xb177bb){const _0x548f34=a7_0x5478,_0x65a3f3=_0x29b68a();while(!![]){try{const _0x145303=parseInt(_0x548f34(0x8c))/0x1+-parseInt(_0x548f34(0xa8))/0x2+-parseInt(_0x548f34(0x80))/0x3*(-parseInt(_0x548f34(0x8f))/0x4)+parseInt(_0x548f34(0x93))/0x5+-parseInt(_0x548f34(0x9d))/0x6*(-parseInt(_0x548f34(0x7f))/0x7)+-parseInt(_0x548f34(0x95))/0x8*(parseInt(_0x548f34(0x96))/0x9)+parseInt(_0x548f34(0x9f))/0xa*(-parseInt(_0x548f34(0x84))/0xb);if(_0x145303===_0xb177bb)break;else _0x65a3f3['push'](_0x65a3f3['shift']());}catch(_0x23a0ac){_0x65a3f3['push'](_0x65a3f3['shift']());}}}(a7_0x2111,0x9a0f7));function a7_0x5478(_0x149af0,_0x44529f){const _0x51f3bf=a7_0x2111();return a7_0x5478=function(_0x214c9e,_0x4d35f8){_0x214c9e=_0x214c9e-0x7a;let _0x211178=_0x51f3bf[_0x214c9e];return _0x211178;},a7_0x5478(_0x149af0,_0x44529f);}const a7_0x4d35f8=(function(){let _0x308e80=!![];return function(_0x339f57,_0x311c50){const _0x4b5d7a=_0x308e80?function(){if(_0x311c50){const _0x423f50=_0x311c50['apply'](_0x339f57,arguments);return _0x311c50=null,_0x423f50;}}:function(){};return _0x308e80=![],_0x4b5d7a;};}()),a7_0x214c9e=a7_0x4d35f8(this,function(){const _0x31227d=a7_0x5478;return a7_0x214c9e[_0x31227d(0x82)]()[_0x31227d(0xa1)]('(((.+)+)+)+$')[_0x31227d(0x82)]()[_0x31227d(0x7c)](a7_0x214c9e)[_0x31227d(0xa1)](_0x31227d(0xa2));});a7_0x214c9e();'use strict';const schedule=require(a7_0x40e22a(0x99)),LTM_SCHEDULE=a7_0x40e22a(0xab),MODE_RESET_SCHEDULE=a7_0x40e22a(0x91),AUTO_RESET_MODES=[a7_0x40e22a(0xa6),a7_0x40e22a(0x8a)],SYSTEM_DP_MODE='system.mode';function setupLtmScheduler(_0x1e0f82,_0x21fed8){const _0x230cc6=a7_0x40e22a;try{if(_0x1e0f82[_0x230cc6(0xa4)])_0x1e0f82[_0x230cc6(0xa4)][_0x230cc6(0x81)]();if(!_0x1e0f82[_0x230cc6(0x7b)])return;_0x1e0f82[_0x230cc6(0xa4)]=schedule['scheduleJob'](LTM_SCHEDULE,_0x21fed8);}catch(_0x59397d){_0x1e0f82['log'][_0x230cc6(0x8d)](_0x230cc6(0x7d)+_0x59397d[_0x230cc6(0xa7)]);}}function setupModeResetScheduler(_0x8392ad){const _0x4180b4=a7_0x40e22a;try{if(_0x8392ad[_0x4180b4(0x90)])_0x8392ad['modeResetJob']['cancel']();_0x8392ad['modeResetJob']=schedule[_0x4180b4(0x86)](MODE_RESET_SCHEDULE,async()=>{const _0xb92128=_0x4180b4;try{const _0x2910f5=await _0x8392ad[_0xb92128(0x9b)](SYSTEM_DP_MODE);_0x2910f5&&_0x2910f5[_0xb92128(0xaa)]&&AUTO_RESET_MODES['includes'](_0x2910f5['val'])&&await _0x8392ad[_0xb92128(0xa9)](SYSTEM_DP_MODE,{'val':_0xb92128(0x7e),'ack':![]});}catch(_0x12eccd){}});}catch(_0x240267){_0x8392ad[_0x4180b4(0x9c)]['error'](_0x4180b4(0x85)+_0x240267[_0x4180b4(0xa7)]);}}function setupDriftAnalysisScheduler(_0x349c99,_0x56b6da){const _0x5a8069=a7_0x40e22a;try{if(_0x349c99['driftAnalysisTimer'])clearInterval(_0x349c99[_0x5a8069(0xa3)]);if(!_0x349c99[_0x5a8069(0x7b)])return;const _0x1f8804=_0x349c99[_0x5a8069(0x9e)]['ltmDriftCheckIntervalHours']||0x18;_0x349c99[_0x5a8069(0xa3)]=setInterval(_0x56b6da,_0x1f8804*0x36ee80),setTimeout(_0x56b6da,0x1388);}catch(_0x1b0a36){_0x349c99[_0x5a8069(0x9c)][_0x5a8069(0x8d)]('Drift\x20Sched\x20Error:\x20'+_0x1b0a36[_0x5a8069(0xa7)]);}}function setupBriefingScheduler(_0x57348d,_0x1abc20){const _0xf5bc02=a7_0x40e22a;try{if(_0x57348d[_0xf5bc02(0x87)])_0x57348d[_0xf5bc02(0x87)][_0xf5bc02(0x81)]();if(!_0x57348d[_0xf5bc02(0x9e)][_0xf5bc02(0x7a)])return;const _0x5d9afd=(_0x57348d['config']['briefingTime']||_0xf5bc02(0x97))[_0xf5bc02(0x9a)](':'),_0x5a6817=parseInt(_0x5d9afd[0x0])||0x8,_0x4f17f4=parseInt(_0x5d9afd[0x1])||0x0,_0x8438ab=new Date(),_0x3b750c=Math[_0xf5bc02(0x8e)](_0x8438ab[_0xf5bc02(0x92)]()/-0x3c),_0x254b9e=(_0x5a6817-_0x3b750c+0x18)%0x18,_0x3b8f38=new schedule['RecurrenceRule']();_0x3b8f38['hour']=_0x254b9e,_0x3b8f38['minute']=_0x4f17f4,_0x57348d[_0xf5bc02(0x87)]=schedule[_0xf5bc02(0x86)](_0x3b8f38,_0x1abc20),_0x57348d[_0xf5bc02(0x9c)][_0xf5bc02(0xa0)](_0xf5bc02(0x94)+_0x5a6817+':'+(_0x4f17f4<0xa?'0':'')+_0x4f17f4+'\x20local\x20('+_0x254b9e+':'+(_0x4f17f4<0xa?'0':'')+_0x4f17f4+_0xf5bc02(0x88)+_0x3b750c+'h)');}catch(_0x32c84e){_0x57348d[_0xf5bc02(0x9c)][_0xf5bc02(0x8d)](_0xf5bc02(0xa5)+_0x32c84e[_0xf5bc02(0xa7)]);}}function a7_0x2111(){const _0x277d8f=['party','message','1131736yvDiTM','setStateAsync','val','0\x203\x20*\x20*\x20*','briefingEnabled','isProVersion','constructor','LTM\x20Sched\x20Error:\x20','normal','1302kosBsz','3kTQQaf','cancel','toString','LTM.triggerDailyDigest','2696683zHHhVV','Reset\x20Sched\x20Error:\x20','scheduleJob','briefingJob','\x20UTC,\x20offset:\x20','ðŸ“…\x20Triggering\x20LTM\x20Daily\x20Digest\x20schedule...','guest','setState','789460QStgTO','error','floor','3716632pAjooo','modeResetJob','0\x204\x20*\x20*\x20*','getTimezoneOffset','4223735ZeVUeA','â˜•\x20Briefing\x20scheduled\x20for\x20','7576rxqDsb','2898vpJKsY','08:00','â˜•\x20Triggering\x20Morning\x20Briefing\x20schedule...','node-schedule','split','getStateAsync','log','13206jaNdtd','config','60kIBvgN','info','search','(((.+)+)+)+$','driftAnalysisTimer','ltmJob','Briefing\x20Sched\x20Error:\x20'];a7_0x2111=function(){return _0x277d8f;};return a7_0x2111();}function initSchedules(_0x23d639){const _0x5008f5=a7_0x40e22a;_0x23d639[_0x5008f5(0x9c)][_0x5008f5(0xa0)]('â°\x20Initializing\x20All\x20Schedules...'),setupBriefingScheduler(_0x23d639,()=>{const _0x44346b=_0x5008f5;_0x23d639['log'][_0x44346b(0xa0)](_0x44346b(0x98)),_0x23d639[_0x44346b(0x8b)]('analysis.triggerBriefing',{'val':!![],'ack':![]});}),setupModeResetScheduler(_0x23d639),setupLtmScheduler(_0x23d639,()=>{const _0x443e3b=_0x5008f5;_0x23d639['log'][_0x443e3b(0xa0)](_0x443e3b(0x89)),_0x23d639[_0x443e3b(0x8b)](_0x443e3b(0x83),{'val':!![],'ack':![]});}),setupDriftAnalysisScheduler(_0x23d639,()=>{});}module['exports']={'setupLtmScheduler':setupLtmScheduler,'setupModeResetScheduler':setupModeResetScheduler,'setupDriftAnalysisScheduler':setupDriftAnalysisScheduler,'setupBriefingScheduler':setupBriefingScheduler,'initSchedules':initSchedules};