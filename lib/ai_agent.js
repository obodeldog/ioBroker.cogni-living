const a0_0x3b87db=a0_0x2014;(function(_0x3f3d3e,_0x45d6b5){const _0x101a8b=a0_0x2014,_0x143b44=_0x3f3d3e();while(!![]){try{const _0x3d0390=-parseInt(_0x101a8b(0x158))/0x1*(parseInt(_0x101a8b(0x148))/0x2)+-parseInt(_0x101a8b(0xf8))/0x3*(parseInt(_0x101a8b(0x14c))/0x4)+-parseInt(_0x101a8b(0x16b))/0x5+-parseInt(_0x101a8b(0x12c))/0x6+parseInt(_0x101a8b(0x10a))/0x7*(-parseInt(_0x101a8b(0x131))/0x8)+parseInt(_0x101a8b(0x113))/0x9+parseInt(_0x101a8b(0x12b))/0xa;if(_0x3d0390===_0x45d6b5)break;else _0x143b44['push'](_0x143b44['shift']());}catch(_0x11118a){_0x143b44['push'](_0x143b44['shift']());}}}(a0_0x33c5,0x6550a));function a0_0x33c5(){const _0x4a3cf8=['detected','.\x20SYSTEM_MODE:\x20','response','ðŸŒ…\x20Morning\x20Briefing:\x0a','useWeather','.\x20ANWESEND:\x20','Wetterdaten\x20nicht\x20abrufbar','info','system.presenceWho',',\x20Wetter:\x20','alertReason','Unbekannt','LTM.driftAnalysis.baselineDrift','5111694GuafAd','isEmergency','isProVersion','val','approved','config','toISOString','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','baselineDrift','5342409dojwFO','.\x20EMERGENCY:\x20','send','BUTLER\x20Execution\x20Error:\x20','timestamp','âš ï¸\x20ALARM:\x20','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','search','driftDetails','sendNotification','Briefing\x20Error:\x20','analysis.automation.description','ltmStbWindowDays','dailyDigests','analysis.automation.targetValue','.forecast.current.state','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','reason','LTM.driftAnalysis.driftDetails','currentSystemMode','Digest','automationProposal','activityLevel','15155990cVhlOW','136506tQRCrl','analysis.analysisHistory','ltmLtbWindowDays','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','description','8GxIQNR','ANALYZE_HEALTH',',\x20LichtverhÃ¤ltnisse:\x20','aiPersona','analysis.automation.targetId','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','KI\x20offline\x20(Fallback)','\x0aSTB:\x20','rawEventLog','warn','unshift','eventHistory','debug','Traffic-Schutz\x20(Auto-Approved)','log','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','LTM.dailyDigests','analysis.activitySummary','summary','normal','Skipped\x20(Traffic)','KI-Fehler\x20(Fallback)','getForeignStateAsync','2yBSPLP','replace','toString','analysis.automation.autoApply','377892PEgkSt','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','length','(((.+)+)+)+$','analysisHistory','decision','push','%)\x20nach\x20\x22','generateContent','Keine\x20Details.','analysis.lastResult','now','66691UYfLmx','generic','Skipped\x20(No\x20AI\x20or\x20Data)','lastAlertState','getStateAsync','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','.Current.IsNight','setStateAsync','slice','N/A\x20(Learning)','LTM.processingStatus','exports','isAlert','Sicherheit\x20geht\x20vor.','geminiModel','.forecast.current.temperature','text','error','@google/generative-ai','593730ohSYeg','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','Tag','message','stringify','weatherInstance','trim','setForeignStateAsync','LTM.driftAnalysis.lastCheck','analysis.alertReason','parse','24xEoSYT','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Gemini\x20Error:\x20','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'];a0_0x33c5=function(){return _0x4a3cf8;};return a0_0x33c5();}const a0_0x16a9ea=(function(){let _0x3c0b32=!![];return function(_0x49aa8e,_0x87884){const _0x5d0be8=_0x3c0b32?function(){if(_0x87884){const _0x4ff9d6=_0x87884['apply'](_0x49aa8e,arguments);return _0x87884=null,_0x4ff9d6;}}:function(){};return _0x3c0b32=![],_0x5d0be8;};}()),a0_0x1b5ac9=a0_0x16a9ea(this,function(){const _0x2ead5a=a0_0x2014;return a0_0x1b5ac9[_0x2ead5a(0x14a)]()[_0x2ead5a(0x11a)](_0x2ead5a(0x14f))['toString']()['constructor'](a0_0x1b5ac9)[_0x2ead5a(0x11a)](_0x2ead5a(0x14f));});a0_0x1b5ac9();'use strict';const {GoogleGenerativeAI}=require(a0_0x3b87db(0x16a)),setup=require('./setup'),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x3b87db(0x141),LTM_DP_STATUS=a0_0x3b87db(0x162),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x3b87db(0x119),'senior_aal':'PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','family':a0_0x3b87db(0x124),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':a0_0x3b87db(0x165),'energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x51208b=a0_0x3b87db,_0x734bca=Date[_0x51208b(0x157)]();return _0x734bca-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x18e1bf){const _0xc2abc8=a0_0x3b87db;if(!_0x18e1bf['config'][_0xc2abc8(0x101)]||!_0x18e1bf[_0xc2abc8(0x10f)][_0xc2abc8(0x170)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x302c84=_0x18e1bf[_0xc2abc8(0x10f)][_0xc2abc8(0x170)];let _0x3be6d3=await _0x18e1bf[_0xc2abc8(0x147)](_0x302c84+'.Current.Temperature');if(!_0x3be6d3)_0x3be6d3=await _0x18e1bf['getForeignStateAsync'](_0x302c84+_0xc2abc8(0x167));let _0x582d1c=await _0x18e1bf[_0xc2abc8(0x147)](_0x302c84+'.Current.WeatherText');if(!_0x582d1c)_0x582d1c=await _0x18e1bf[_0xc2abc8(0x147)](_0x302c84+_0xc2abc8(0x122));let _0x59b16e=_0xc2abc8(0x108);const _0x490fe2=await _0x18e1bf[_0xc2abc8(0x147)](_0x302c84+_0xc2abc8(0x15e));if(_0x490fe2)_0x59b16e=_0x490fe2[_0xc2abc8(0x10d)]?'Nacht':_0xc2abc8(0x16d);if(_0x3be6d3&&_0x582d1c)return _0x3be6d3[_0xc2abc8(0x10d)]+'Â°C,\x20'+_0x582d1c[_0xc2abc8(0x10d)]+_0xc2abc8(0x133)+_0x59b16e;}catch(_0x1f3b7f){}return _0xc2abc8(0x103);}async function consultButler(_0x248297,_0x3d1563,_0x82e2a5,_0x8825b){const _0x371550=a0_0x3b87db;if(!_0x248297[_0x371550(0x166)])return{'approved':!![],'reason':_0x371550(0x137)};const _0x3a54be=Date[_0x371550(0x157)]();if(decisionCache[_0x3d1563]&&_0x3a54be-decisionCache[_0x3d1563][_0x371550(0x117)]<CACHE_TTL_MS){const _0x4e28fd=decisionCache[_0x3d1563][_0x371550(0x151)];return _0x248297['log'][_0x371550(0x13d)](_0x371550(0x14d)+_0x3d1563+'\x20->\x20'+(_0x4e28fd[_0x371550(0x10e)]?'OK':'NO')+'\x20('+_0x4e28fd[_0x371550(0x125)]+')'),_0x4e28fd;}if(!canCallApi())return _0x248297[_0x371550(0x13f)]['debug']('ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20'+_0x3d1563+'\x20Ã¼bersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0x371550(0x13e)};const _0x1f070b=new Date()['toLocaleTimeString'](),_0x44453d=await getWeatherContext(_0x248297),_0x43e923=PERSONA_MAPPING[_0x248297[_0x371550(0x10f)][_0x371550(0x134)]||_0x371550(0x159)],_0x55168c=_0x371550(0x16c)+_0x1f070b+_0x371550(0x106)+_0x44453d+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x8825b*0x64)['toFixed'](0x0)+_0x371550(0x153)+_0x3d1563+_0x371550(0xfa)+_0x82e2a5+_0x371550(0x12f)+_0x43e923+_0x371550(0x15d);try{updateApiTimestamp();const _0xc5c005=await _0x248297[_0x371550(0x166)][_0x371550(0x154)](_0x55168c),_0x55bea1=_0xc5c005[_0x371550(0xff)][_0x371550(0x168)]()[_0x371550(0x149)](/```json|```/g,'')['trim'](),_0x98a3bf=JSON['parse'](_0x55bea1);return decisionCache[_0x3d1563]={'decision':_0x98a3bf,'timestamp':_0x3a54be},_0x98a3bf;}catch(_0x2afc3a){return _0x248297[_0x371550(0x13f)][_0x371550(0x13a)](_0x371550(0x111)+_0x2afc3a[_0x371550(0x16e)]),decisionCache[_0x3d1563]={'decision':{'approved':!![],'reason':_0x371550(0x146)},'timestamp':_0x3a54be-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}function a0_0x2014(_0x3cceb8,_0x29a3ff){const _0x1dd148=a0_0x33c5();return a0_0x2014=function(_0x1b5ac9,_0x16a9ea){_0x1b5ac9=_0x1b5ac9-0xf7;let _0x33c588=_0x1dd148[_0x1b5ac9];return _0x33c588;},a0_0x2014(_0x3cceb8,_0x29a3ff);}async function runGeminiAnalysis(_0x4d80c8,_0x5a3328=''){const _0x3b96a5=a0_0x3b87db;if(!_0x4d80c8['geminiModel'])return;if(!canCallApi()){_0x4d80c8[_0x3b96a5(0x13f)][_0x3b96a5(0x13d)]('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x4d80c8[_0x3b96a5(0x13c)]['length']===0x0)return;const _0x2c42bd=_0x4d80c8[_0x3b96a5(0x13c)][_0x3b96a5(0x160)](0x0,0xf),_0x384b4a=_0x4d80c8[_0x3b96a5(0x127)],_0x25e89b=PERSONA_MAPPING[_0x4d80c8[_0x3b96a5(0x10f)][_0x3b96a5(0x134)]||'generic'],_0x22ee55=_0x4d80c8[_0x3b96a5(0x10f)]['livingContext']||_0x3b96a5(0x155);let _0x583583=_0x3b96a5(0x108);try{const _0x2a7c2d=await _0x4d80c8['getStateAsync'](_0x3b96a5(0x105));if(_0x2a7c2d&&_0x2a7c2d['val'])_0x583583=_0x2a7c2d[_0x3b96a5(0x10d)];}catch(_0x208f34){}let _0x7a65e9=![];try{const _0x4de53d=await _0x4d80c8[_0x3b96a5(0x15c)](_0x3b96a5(0x14b));if(_0x4de53d&&_0x4de53d[_0x3b96a5(0x10d)])_0x7a65e9=!![];}catch(_0x1e907b){}const _0x4fb1cb=_0x3b96a5(0xf9)+_0x25e89b+'.\x20KONTEXT:\x20'+_0x22ee55+_0x3b96a5(0xfe)+_0x384b4a+_0x3b96a5(0x102)+_0x583583+'.\x20EVENTS:\x20'+JSON[_0x3b96a5(0x16f)](_0x2c42bd)+_0x3b96a5(0x114)+_0x5a3328+_0x3b96a5(0x123);try{updateApiTimestamp();const _0x1153d2=await _0x4d80c8[_0x3b96a5(0x166)][_0x3b96a5(0x154)](_0x4fb1cb),_0x58d343=JSON[_0x3b96a5(0xf7)](_0x1153d2[_0x3b96a5(0xff)][_0x3b96a5(0x168)]()['replace'](/```json|```/g,'')['trim']());await _0x4d80c8['setStateAsync'](_0x3b96a5(0x156),{'val':JSON[_0x3b96a5(0x16f)](_0x58d343),'ack':!![]});if(_0x58d343['summary'])await _0x4d80c8[_0x3b96a5(0x15f)](_0x3b96a5(0x142),{'val':_0x58d343[_0x3b96a5(0x143)],'ack':!![]});const _0x465353={'timestamp':Date[_0x3b96a5(0x157)](),'id':Date[_0x3b96a5(0x157)]()['toString'](),'analysis':{'activity':{'summary':_0x58d343['summary'],'isAlert':_0x58d343[_0x3b96a5(0x164)],'alertReason':_0x58d343['alertReason']},'comfort':{'automationProposal':_0x58d343[_0x3b96a5(0x129)]}}};_0x4d80c8['analysisHistory'][_0x3b96a5(0x13b)](_0x465353);if(_0x4d80c8['analysisHistory'][_0x3b96a5(0x14e)]>0x32)_0x4d80c8[_0x3b96a5(0x150)]['pop']();await _0x4d80c8[_0x3b96a5(0x15f)](_0x3b96a5(0x12d),{'val':JSON[_0x3b96a5(0x16f)](_0x4d80c8[_0x3b96a5(0x150)]),'ack':!![]});const _0x71ee74=_0x58d343['isAlert']||![];_0x71ee74!==_0x4d80c8[_0x3b96a5(0x15b)]&&(await _0x4d80c8[_0x3b96a5(0x15f)]('analysis.isAlert',{'val':_0x71ee74,'ack':!![]}),_0x4d80c8[_0x3b96a5(0x15b)]=_0x71ee74,_0x71ee74&&(await _0x4d80c8[_0x3b96a5(0x15f)](_0x3b96a5(0x174),{'val':_0x58d343['alertReason'],'ack':!![]}),setup[_0x3b96a5(0x11c)](_0x4d80c8,_0x3b96a5(0x118)+_0x58d343[_0x3b96a5(0x107)],![],_0x58d343[_0x3b96a5(0x10b)])));if(_0x58d343[_0x3b96a5(0x129)]&&_0x58d343[_0x3b96a5(0x129)][_0x3b96a5(0xfd)]){await _0x4d80c8[_0x3b96a5(0x15f)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x4d80c8[_0x3b96a5(0x15f)](_0x3b96a5(0x11e),{'val':_0x58d343[_0x3b96a5(0x129)][_0x3b96a5(0x130)],'ack':!![]}),await _0x4d80c8[_0x3b96a5(0x15f)](_0x3b96a5(0x135),{'val':_0x58d343[_0x3b96a5(0x129)]['targetId'],'ack':!![]}),await _0x4d80c8[_0x3b96a5(0x15f)](_0x3b96a5(0x121),{'val':JSON['stringify'](_0x58d343[_0x3b96a5(0x129)]['targetValue']),'ack':!![]});if(_0x7a65e9)executeAutomationAction(_0x4d80c8);}}catch(_0x18ed99){_0x4d80c8[_0x3b96a5(0x13f)][_0x3b96a5(0x169)](_0x3b96a5(0xfb)+_0x18ed99[_0x3b96a5(0x16e)]);}}async function createDailyDigest(_0x49c5b5,_0x1124f4){const _0x570dfb=a0_0x3b87db;if(!_0x49c5b5['isProVersion'])return;if(!canCallApi()){await _0x49c5b5['setStateAsync'](LTM_DP_STATUS,{'val':_0x570dfb(0x145),'ack':!![]});return;}await _0x49c5b5['setStateAsync'](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x49c5b5[_0x570dfb(0x166)]||_0x49c5b5[_0x570dfb(0x139)][_0x570dfb(0x14e)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x49c5b5[_0x570dfb(0x15f)](LTM_DP_STATUS,{'val':_0x570dfb(0x15a),'ack':!![]});return;}const _0x1d17b6=JSON[_0x570dfb(0xf7)](JSON[_0x570dfb(0x16f)](_0x49c5b5[_0x570dfb(0x139)])),_0x43182e=_0x1d17b6['length'],_0x140041=_0x570dfb(0xfc)+JSON[_0x570dfb(0x16f)](_0x1d17b6);try{updateApiTimestamp();const _0x1a7df5=await _0x49c5b5[_0x570dfb(0x166)][_0x570dfb(0x154)](_0x140041),_0x357b05=JSON['parse'](_0x1a7df5[_0x570dfb(0xff)][_0x570dfb(0x168)]()[_0x570dfb(0x149)](/```json|```/g,'')[_0x570dfb(0x171)]()),_0x31172a={'timestamp':new Date()[_0x570dfb(0x110)](),'eventCount':_0x43182e,'summary':_0x357b05[_0x570dfb(0x143)]||_0x570dfb(0x128),'activityLevel':_0x357b05[_0x570dfb(0x12a)]||_0x570dfb(0x144),'systemMode':_0x49c5b5[_0x570dfb(0x127)]};_0x49c5b5[_0x570dfb(0x120)][_0x570dfb(0x152)](_0x31172a);const _0xdb2915=_0x49c5b5[_0x570dfb(0x10f)][_0x570dfb(0x12e)]||0x3c;_0x49c5b5[_0x570dfb(0x120)]['length']>_0xdb2915&&_0x49c5b5[_0x570dfb(0x120)]['splice'](0x0,_0x49c5b5[_0x570dfb(0x120)][_0x570dfb(0x14e)]-_0xdb2915);await _0x49c5b5['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x49c5b5[_0x570dfb(0x120)]),'ack':!![]}),_0x49c5b5[_0x570dfb(0x139)]=[],await _0x49c5b5[_0x570dfb(0x15f)](LTM_DP_RAW_LOG,{'val':JSON[_0x570dfb(0x16f)](_0x49c5b5[_0x570dfb(0x139)]),'ack':!![]}),await _0x49c5b5[_0x570dfb(0x15f)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x49c5b5[_0x570dfb(0x10c)]&&_0x1124f4)_0x1124f4[_0x570dfb(0x115)](_0x49c5b5,_0x570dfb(0x132),{'digest':_0x31172a});}catch(_0xc3382b){_0x49c5b5[_0x570dfb(0x13f)]['error'](_0xc3382b[_0x570dfb(0x16e)]);}}async function runBaselineDriftAnalysis(_0x56fb80){const _0x320b71=a0_0x3b87db;if(!_0x56fb80['isProVersion']||!_0x56fb80[_0x320b71(0x166)])return;if(!canCallApi())return;const _0x2a0721=_0x56fb80[_0x320b71(0x10f)][_0x320b71(0x11f)]||0xe;if(_0x56fb80[_0x320b71(0x120)][_0x320b71(0x14e)]<_0x2a0721+0x7){await _0x56fb80[_0x320b71(0x15f)](_0x320b71(0x109),{'val':_0x320b71(0x161),'ack':!![]});return;}const _0x504f1d=_0x56fb80[_0x320b71(0x120)][_0x320b71(0x160)](-_0x2a0721),_0x51fc4f=_0x56fb80[_0x320b71(0x120)][_0x320b71(0x160)](0x0,_0x56fb80[_0x320b71(0x120)][_0x320b71(0x14e)]-_0x2a0721),_0x277470=_0x320b71(0x136)+JSON['stringify'](_0x51fc4f)+_0x320b71(0x138)+JSON[_0x320b71(0x16f)](_0x504f1d);try{updateApiTimestamp();const _0x55be7b=await _0x56fb80[_0x320b71(0x166)][_0x320b71(0x154)](_0x277470),_0x33c6ec=JSON[_0x320b71(0xf7)](_0x55be7b[_0x320b71(0xff)][_0x320b71(0x168)]()[_0x320b71(0x149)](/```json|```/g,'')[_0x320b71(0x171)]());_0x33c6ec[_0x320b71(0x112)]&&(await _0x56fb80[_0x320b71(0x15f)](_0x320b71(0x109),{'val':_0x33c6ec[_0x320b71(0x112)],'ack':!![]}),await _0x56fb80['setStateAsync'](_0x320b71(0x126),{'val':_0x33c6ec[_0x320b71(0x11b)],'ack':!![]}),await _0x56fb80[_0x320b71(0x15f)](_0x320b71(0x173),{'val':Date[_0x320b71(0x157)](),'ack':!![]}));}catch(_0x1a0336){}}async function executeAutomationAction(_0x4b6ce7){const _0x37ff67=a0_0x3b87db;try{const _0x4f170f=await _0x4b6ce7['getStateAsync'](_0x37ff67(0x135)),_0x5e0ee0=await _0x4b6ce7[_0x37ff67(0x15c)](_0x37ff67(0x121));if(_0x4f170f&&_0x4f170f[_0x37ff67(0x10d)]&&_0x5e0ee0){const _0x1f7f8b=_0x4f170f['val'];let _0x30ce27=_0x5e0ee0[_0x37ff67(0x10d)];try{_0x30ce27=JSON[_0x37ff67(0xf7)](_0x30ce27);}catch(_0x1e706a){}_0x4b6ce7[_0x37ff67(0x13f)][_0x37ff67(0x104)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x1f7f8b+'\x20=\x20'+_0x30ce27),await _0x4b6ce7[_0x37ff67(0x172)](_0x1f7f8b,_0x30ce27);}else _0x4b6ce7[_0x37ff67(0x13f)][_0x37ff67(0x13a)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x2345bc){_0x4b6ce7[_0x37ff67(0x13f)][_0x37ff67(0x169)](_0x37ff67(0x116)+_0x2345bc[_0x37ff67(0x16e)]);}}async function sendMorningBriefing(_0x1ffb60){const _0x1fde45=a0_0x3b87db;if(!_0x1ffb60['geminiModel'])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x55847e=_0x1fde45(0x140),_0x284aab=await _0x1ffb60[_0x1fde45(0x166)][_0x1fde45(0x154)](_0x55847e),_0x140385=_0x284aab[_0x1fde45(0xff)][_0x1fde45(0x168)]();setup['sendNotification'](_0x1ffb60,_0x1fde45(0x100)+_0x140385);}catch(_0x8227e8){_0x1ffb60['log'][_0x1fde45(0x169)](_0x1fde45(0x11d)+_0x8227e8[_0x1fde45(0x16e)]);}}module[a0_0x3b87db(0x163)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};