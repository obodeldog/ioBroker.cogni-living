const a0_0x423592=a0_0x16ea;(function(_0x48b386,_0x285ab5){const _0x1be937=a0_0x16ea,_0x21fc0b=_0x48b386();while(!![]){try{const _0x5a2803=-parseInt(_0x1be937(0xab))/0x1+-parseInt(_0x1be937(0x90))/0x2+-parseInt(_0x1be937(0xba))/0x3*(parseInt(_0x1be937(0xad))/0x4)+-parseInt(_0x1be937(0xbf))/0x5+-parseInt(_0x1be937(0xd6))/0x6*(-parseInt(_0x1be937(0x78))/0x7)+parseInt(_0x1be937(0xc0))/0x8*(-parseInt(_0x1be937(0x73))/0x9)+parseInt(_0x1be937(0x77))/0xa;if(_0x5a2803===_0x285ab5)break;else _0x21fc0b['push'](_0x21fc0b['shift']());}catch(_0x1c54e8){_0x21fc0b['push'](_0x21fc0b['shift']());}}}(a0_0x500e,0xa2e0c));const a0_0x27acb0=(function(){let _0x306dd3=!![];return function(_0x49ce52,_0xc631a7){const _0x401dc9=_0x306dd3?function(){const _0x15c908=a0_0x16ea;if(_0xc631a7){const _0x36ed32=_0xc631a7[_0x15c908(0xa4)](_0x49ce52,arguments);return _0xc631a7=null,_0x36ed32;}}:function(){};return _0x306dd3=![],_0x401dc9;};}()),a0_0x276bc1=a0_0x27acb0(this,function(){const _0x5903be=a0_0x16ea;return a0_0x276bc1['toString']()[_0x5903be(0xc7)](_0x5903be(0xdb))['toString']()[_0x5903be(0x98)](a0_0x276bc1)[_0x5903be(0xc7)](_0x5903be(0xdb));});a0_0x276bc1();'use strict';const {GoogleGenerativeAI}=require(a0_0x423592(0xa2)),setup=require(a0_0x423592(0x92)),GEMINI_MODEL=a0_0x423592(0xbe),LTM_DP_DAILY_DIGESTS=a0_0x423592(0x9e),LTM_DP_STATUS=a0_0x423592(0x7e),LTM_DP_RAW_LOG=a0_0x423592(0xac),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x423592(0x7f),'family':a0_0x423592(0x8c),'single_comfort':a0_0x423592(0xbb),'security':a0_0x423592(0x7d),'energy_saver':a0_0x423592(0xa0)};function canCallApi(){const _0x28c289=a0_0x423592,_0x124e7a=Date[_0x28c289(0xe3)]();return _0x124e7a-lastGlobalApiCall>MIN_API_GAP_MS;}function a0_0x16ea(_0x3e50dc,_0x246e32){const _0x247035=a0_0x500e();return a0_0x16ea=function(_0x276bc1,_0x27acb0){_0x276bc1=_0x276bc1-0x6b;let _0x500e4f=_0x247035[_0x276bc1];return _0x500e4f;},a0_0x16ea(_0x3e50dc,_0x246e32);}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x45197c){const _0x55fe16=a0_0x423592;if(!_0x45197c[_0x55fe16(0x95)][_0x55fe16(0xc4)]||!_0x45197c[_0x55fe16(0x95)][_0x55fe16(0xe9)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x55797c=_0x45197c['config'][_0x55fe16(0xe9)];let _0x1b94dd=await _0x45197c['getForeignStateAsync'](_0x55797c+_0x55fe16(0x85));if(!_0x1b94dd)_0x1b94dd=await _0x45197c[_0x55fe16(0xda)](_0x55797c+'.forecast.current.temperature');let _0x4469d4=await _0x45197c['getForeignStateAsync'](_0x55797c+_0x55fe16(0xbd));if(!_0x4469d4)_0x4469d4=await _0x45197c['getForeignStateAsync'](_0x55797c+'.forecast.current.state');let _0x5656d1=_0x55fe16(0x70);const _0x5e1e7a=await _0x45197c[_0x55fe16(0xda)](_0x55797c+_0x55fe16(0x9c));if(_0x5e1e7a)_0x5656d1=_0x5e1e7a[_0x55fe16(0xd5)]?_0x55fe16(0x72):'Tag';if(_0x1b94dd&&_0x4469d4)return _0x1b94dd[_0x55fe16(0xd5)]+_0x55fe16(0xb7)+_0x4469d4['val']+',\x20LichtverhÃ¤ltnisse:\x20'+_0x5656d1;}catch(_0x19e925){}return _0x55fe16(0xd8);}async function consultButler(_0x179ca4,_0x870032,_0x20062a,_0x215d88){const _0x1f092e=a0_0x423592;if(!_0x179ca4[_0x1f092e(0xe1)])return{'approved':!![],'reason':_0x1f092e(0xb1)};const _0x44ad2c=Date[_0x1f092e(0xe3)]();if(decisionCache[_0x870032]&&_0x44ad2c-decisionCache[_0x870032][_0x1f092e(0x71)]<CACHE_TTL_MS){const _0x161b99=decisionCache[_0x870032][_0x1f092e(0x9d)];return _0x179ca4['log'][_0x1f092e(0x9a)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x870032+_0x1f092e(0x8a)+(_0x161b99[_0x1f092e(0xef)]?'OK':'NO')+'\x20('+_0x161b99[_0x1f092e(0x99)]+')'),_0x161b99;}if(!canCallApi())return _0x179ca4['log'][_0x1f092e(0x9a)](_0x1f092e(0xb8)+_0x870032+_0x1f092e(0xa5)),{'approved':!![],'reason':_0x1f092e(0xe7)};const _0x38acb1=new Date()['toLocaleTimeString'](),_0x1da06f=await getWeatherContext(_0x179ca4),_0x5de529=PERSONA_MAPPING[_0x179ca4[_0x1f092e(0x95)][_0x1f092e(0xc3)]||_0x1f092e(0x91)],_0x1601b2='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x38acb1+_0x1f092e(0x81)+_0x1da06f+_0x1f092e(0xc6)+(_0x215d88*0x64)[_0x1f092e(0xa8)](0x0)+'%)\x20nach\x20\x22'+_0x870032+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x20062a+_0x1f092e(0xc2)+_0x5de529+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x41063a=await _0x179ca4['geminiModel']['generateContent'](_0x1601b2),_0x37ab3c=_0x41063a[_0x1f092e(0xca)][_0x1f092e(0xb4)]()[_0x1f092e(0xde)](/```json|```/g,'')[_0x1f092e(0xc8)](),_0x31ce24=JSON['parse'](_0x37ab3c);return decisionCache[_0x870032]={'decision':_0x31ce24,'timestamp':_0x44ad2c},_0x31ce24;}catch(_0x384fea){return _0x179ca4[_0x1f092e(0xb6)][_0x1f092e(0x8e)]('ðŸ¤–\x20Butler\x20Brain\x20Error:\x20'+_0x384fea[_0x1f092e(0x6b)]),decisionCache[_0x870032]={'decision':{'approved':!![],'reason':_0x1f092e(0x74)},'timestamp':_0x44ad2c-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x1f092e(0x74)};}}async function runGeminiAnalysis(_0x3385ef,_0x2736d7=''){const _0x2a3deb=a0_0x423592;if(!_0x3385ef[_0x2a3deb(0xe1)])return;if(!canCallApi()){_0x3385ef['log'][_0x2a3deb(0x9a)](_0x2a3deb(0x76));return;}if(_0x3385ef[_0x2a3deb(0xee)][_0x2a3deb(0xd7)]===0x0)return;const _0x54e991=_0x3385ef[_0x2a3deb(0xee)][_0x2a3deb(0xd9)](0x0,0xf),_0x19456f=_0x3385ef['currentSystemMode'],_0x5e0219=PERSONA_MAPPING[_0x3385ef[_0x2a3deb(0x95)][_0x2a3deb(0xc3)]||_0x2a3deb(0x91)],_0x431848=_0x3385ef[_0x2a3deb(0x95)]['livingContext']||_0x2a3deb(0xb5);let _0x57cff1=_0x2a3deb(0x70);try{const _0x3fa456=await _0x3385ef[_0x2a3deb(0xaa)](_0x2a3deb(0x88));if(_0x3fa456&&_0x3fa456[_0x2a3deb(0xd5)])_0x57cff1=_0x3fa456[_0x2a3deb(0xd5)];}catch(_0x5b7550){}let _0x7a26a1=![];try{const _0x1eff2f=await _0x3385ef[_0x2a3deb(0xaa)](_0x2a3deb(0xcb));if(_0x1eff2f&&_0x1eff2f[_0x2a3deb(0xd5)])_0x7a26a1=!![];}catch(_0x1c7ba7){}const _0x40780a=_0x2a3deb(0x9b)+_0x5e0219+_0x2a3deb(0xb2)+_0x431848+_0x2a3deb(0xcc)+_0x19456f+'.\x20ANWESEND:\x20'+_0x57cff1+_0x2a3deb(0x89)+JSON[_0x2a3deb(0xdd)](_0x54e991)+'.\x20EMERGENCY:\x20'+_0x2736d7+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x354e3e=await _0x3385ef['geminiModel'][_0x2a3deb(0xe2)](_0x40780a),_0x36c0c5=JSON['parse'](_0x354e3e['response'][_0x2a3deb(0xb4)]()['replace'](/```json|```/g,'')['trim']());await _0x3385ef[_0x2a3deb(0xb9)]('analysis.lastResult',{'val':JSON[_0x2a3deb(0xdd)](_0x36c0c5),'ack':!![]});if(_0x36c0c5[_0x2a3deb(0x7b)])await _0x3385ef[_0x2a3deb(0xb9)](_0x2a3deb(0x84),{'val':_0x36c0c5[_0x2a3deb(0x7b)],'ack':!![]});const _0xd886cf={'timestamp':Date[_0x2a3deb(0xe3)](),'id':Date[_0x2a3deb(0xe3)]()['toString'](),'analysis':{'activity':{'summary':_0x36c0c5[_0x2a3deb(0x7b)],'isAlert':_0x36c0c5['isAlert'],'alertReason':_0x36c0c5['alertReason']},'comfort':{'automationProposal':_0x36c0c5['automationProposal']}}};_0x3385ef['analysisHistory']['unshift'](_0xd886cf);if(_0x3385ef[_0x2a3deb(0xe5)][_0x2a3deb(0xd7)]>0x32)_0x3385ef['analysisHistory'][_0x2a3deb(0xea)]();await _0x3385ef[_0x2a3deb(0xb9)](_0x2a3deb(0xae),{'val':JSON[_0x2a3deb(0xdd)](_0x3385ef['analysisHistory']),'ack':!![]});const _0x30dc98=_0x36c0c5['isAlert']||![];_0x30dc98!==_0x3385ef[_0x2a3deb(0xbc)]&&(await _0x3385ef[_0x2a3deb(0xb9)](_0x2a3deb(0xaf),{'val':_0x30dc98,'ack':!![]}),_0x3385ef[_0x2a3deb(0xbc)]=_0x30dc98,_0x30dc98&&(await _0x3385ef[_0x2a3deb(0xb9)](_0x2a3deb(0x79),{'val':_0x36c0c5['alertReason'],'ack':!![]}),setup[_0x2a3deb(0x80)](_0x3385ef,_0x2a3deb(0xe8)+_0x36c0c5[_0x2a3deb(0x6d)],![],_0x36c0c5[_0x2a3deb(0x82)])));if(_0x36c0c5['automationProposal']&&_0x36c0c5[_0x2a3deb(0xe6)][_0x2a3deb(0xeb)]){await _0x3385ef[_0x2a3deb(0xb9)](_0x2a3deb(0xd0),{'val':!![],'ack':!![]}),await _0x3385ef[_0x2a3deb(0xb9)](_0x2a3deb(0x96),{'val':_0x36c0c5[_0x2a3deb(0xe6)][_0x2a3deb(0xd4)],'ack':!![]}),await _0x3385ef['setStateAsync'](_0x2a3deb(0xce),{'val':_0x36c0c5['automationProposal'][_0x2a3deb(0x6c)],'ack':!![]}),await _0x3385ef[_0x2a3deb(0xb9)](_0x2a3deb(0x93),{'val':JSON[_0x2a3deb(0xdd)](_0x36c0c5[_0x2a3deb(0xe6)][_0x2a3deb(0x7a)]),'ack':!![]});if(_0x7a26a1)executeAutomationAction(_0x3385ef);}}catch(_0x1eb4f9){_0x3385ef['log'][_0x2a3deb(0xe0)](_0x2a3deb(0x8d)+_0x1eb4f9[_0x2a3deb(0x6b)]);}}async function createDailyDigest(_0x1ad4b9,_0x1e4bd8){const _0x470ef1=a0_0x423592;if(!_0x1ad4b9['isProVersion'])return;if(!canCallApi()){await _0x1ad4b9['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x1ad4b9[_0x470ef1(0xb9)](LTM_DP_STATUS,{'val':_0x470ef1(0x86),'ack':!![]});if(!_0x1ad4b9['geminiModel']||_0x1ad4b9[_0x470ef1(0x6f)][_0x470ef1(0xd7)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1ad4b9[_0x470ef1(0xb9)](LTM_DP_STATUS,{'val':_0x470ef1(0xa6),'ack':!![]});return;}const _0x2f2160=JSON[_0x470ef1(0x75)](JSON[_0x470ef1(0xdd)](_0x1ad4b9[_0x470ef1(0x6f)])),_0x3cb081=_0x2f2160['length'],_0x315a48='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x470ef1(0xdd)](_0x2f2160);try{updateApiTimestamp();const _0x2261e1=await _0x1ad4b9[_0x470ef1(0xe1)][_0x470ef1(0xe2)](_0x315a48),_0x77635f=JSON[_0x470ef1(0x75)](_0x2261e1[_0x470ef1(0xca)]['text']()[_0x470ef1(0xde)](/```json|```/g,'')[_0x470ef1(0xc8)]()),_0x2cdde7={'timestamp':new Date()['toISOString'](),'eventCount':_0x3cb081,'summary':_0x77635f[_0x470ef1(0x7b)]||'Digest','activityLevel':_0x77635f[_0x470ef1(0xc9)]||'normal','systemMode':_0x1ad4b9[_0x470ef1(0xa3)]};_0x1ad4b9['dailyDigests'][_0x470ef1(0xdc)](_0x2cdde7);const _0x42225a=_0x1ad4b9[_0x470ef1(0x95)][_0x470ef1(0xd1)]||0x3c;_0x1ad4b9[_0x470ef1(0x83)]['length']>_0x42225a&&_0x1ad4b9[_0x470ef1(0x83)][_0x470ef1(0x9f)](0x0,_0x1ad4b9[_0x470ef1(0x83)][_0x470ef1(0xd7)]-_0x42225a);await _0x1ad4b9[_0x470ef1(0xb9)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x1ad4b9[_0x470ef1(0x83)]),'ack':!![]}),_0x1ad4b9[_0x470ef1(0x6f)]=[],await _0x1ad4b9[_0x470ef1(0xb9)](LTM_DP_RAW_LOG,{'val':JSON[_0x470ef1(0xdd)](_0x1ad4b9[_0x470ef1(0x6f)]),'ack':!![]}),await _0x1ad4b9[_0x470ef1(0xb9)](LTM_DP_STATUS,{'val':_0x470ef1(0xed),'ack':!![]});const _0x49d9d7=_0x470ef1(0xdf)+_0x77635f[_0x470ef1(0x7b)]+_0x470ef1(0xcf)+_0x77635f[_0x470ef1(0xc9)];setup['sendNotification'](_0x1ad4b9,_0x49d9d7,![],![]);if(_0x1ad4b9[_0x470ef1(0xcd)]&&_0x1e4bd8)_0x1e4bd8[_0x470ef1(0x6e)](_0x1ad4b9,_0x470ef1(0xa1),{'digest':_0x2cdde7});}catch(_0x9d9b19){_0x1ad4b9[_0x470ef1(0xb6)]['error'](_0x9d9b19[_0x470ef1(0x6b)]);}}async function runBaselineDriftAnalysis(_0x55db50){const _0x4628da=a0_0x423592;if(!_0x55db50[_0x4628da(0xcd)]||!_0x55db50[_0x4628da(0xe1)])return;if(!canCallApi())return;const _0x7e0139=_0x55db50[_0x4628da(0x95)][_0x4628da(0xec)]||0xe;if(_0x55db50[_0x4628da(0x83)][_0x4628da(0xd7)]<_0x7e0139+0x7){await _0x55db50[_0x4628da(0xb9)](_0x4628da(0xe4),{'val':_0x4628da(0xd3),'ack':!![]});return;}const _0x4aaa41=_0x55db50[_0x4628da(0x83)][_0x4628da(0xd9)](-_0x7e0139),_0x575ea9=_0x55db50[_0x4628da(0x83)][_0x4628da(0xd9)](0x0,_0x55db50[_0x4628da(0x83)][_0x4628da(0xd7)]-_0x7e0139),_0x4780b4=_0x4628da(0x8b)+JSON[_0x4628da(0xdd)](_0x575ea9)+_0x4628da(0xb3)+JSON['stringify'](_0x4aaa41);try{updateApiTimestamp();const _0x33c20b=await _0x55db50[_0x4628da(0xe1)][_0x4628da(0xe2)](_0x4780b4),_0x50c728=JSON[_0x4628da(0x75)](_0x33c20b['response'][_0x4628da(0xb4)]()[_0x4628da(0xde)](/```json|```/g,'')[_0x4628da(0xc8)]());_0x50c728['baselineDrift']&&(await _0x55db50['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x50c728['baselineDrift'],'ack':!![]}),await _0x55db50[_0x4628da(0xb9)](_0x4628da(0xc1),{'val':_0x50c728[_0x4628da(0xb0)],'ack':!![]}),await _0x55db50[_0x4628da(0xb9)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x4628da(0xe3)](),'ack':!![]}));}catch(_0x2e89f3){}}async function executeAutomationAction(_0x19ab90){const _0x24d70f=a0_0x423592;try{const _0x571d45=await _0x19ab90[_0x24d70f(0xaa)](_0x24d70f(0xce)),_0x28375a=await _0x19ab90[_0x24d70f(0xaa)](_0x24d70f(0x93));if(_0x571d45&&_0x571d45[_0x24d70f(0xd5)]&&_0x28375a){const _0x5e3a04=_0x571d45[_0x24d70f(0xd5)];let _0xf93835=_0x28375a[_0x24d70f(0xd5)];try{_0xf93835=JSON[_0x24d70f(0x75)](_0xf93835);}catch(_0x94b09b){}_0x19ab90[_0x24d70f(0xb6)][_0x24d70f(0x87)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x5e3a04+'\x20=\x20'+_0xf93835),await _0x19ab90[_0x24d70f(0x97)](_0x5e3a04,_0xf93835);}else _0x19ab90['log'][_0x24d70f(0x8e)](_0x24d70f(0x94));}catch(_0x3b3ae3){_0x19ab90[_0x24d70f(0xb6)][_0x24d70f(0xe0)](_0x24d70f(0xd2)+_0x3b3ae3[_0x24d70f(0x6b)]);}}async function sendMorningBriefing(_0x52121d){const _0x300e51=a0_0x423592;if(!_0x52121d[_0x300e51(0xe1)]){_0x52121d[_0x300e51(0xb6)]['warn'](_0x300e51(0xa9));return;}_0x52121d[_0x300e51(0xb6)][_0x300e51(0x87)](_0x300e51(0xc5));try{updateApiTimestamp();const _0x463ed8='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0x45e807=await _0x52121d[_0x300e51(0xe1)][_0x300e51(0xe2)](_0x463ed8),_0x39b993=_0x45e807[_0x300e51(0xca)]['text']();_0x52121d[_0x300e51(0xb6)][_0x300e51(0x87)](_0x300e51(0x8f)+_0x39b993[_0x300e51(0xd7)]+_0x300e51(0x7c)),setup[_0x300e51(0x80)](_0x52121d,_0x300e51(0xa7)+_0x39b993);}catch(_0xeee13a){_0x52121d[_0x300e51(0xb6)][_0x300e51(0xe0)]('Briefing\x20Error:\x20'+_0xeee13a[_0x300e51(0x6b)]);}}function a0_0x500e(){const _0x4b7f5e=['error','geminiModel','generateContent','now','LTM.driftAnalysis.baselineDrift','analysisHistory','automationProposal','Traffic-Schutz\x20(Auto-Approved)','âš ï¸\x20ALARM:\x20','weatherInstance','pop','detected','ltmStbWindowDays','Success','eventHistory','approved','message','targetId','alertReason','send','rawEventLog','Unbekannt','timestamp','Nacht','9poDgbJ','KI-Fehler\x20(Fallback)','parse','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','42670300DNdBfD','14NMDSaB','analysis.alertReason','targetValue','summary',').\x20Sending\x20notification...','Sicherheit\x20geht\x20vor.','LTM.processingStatus','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','sendNotification',',\x20Wetter:\x20','isEmergency','dailyDigests','analysis.activitySummary','.Current.Temperature','Started...','info','system.presenceWho','.\x20EVENTS:\x20','\x20->\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','Gemini\x20Error:\x20','warn','ðŸŒ…\x20Briefing\x20generated\x20(Length:\x20','1073964HWMMDi','generic','./setup','analysis.automation.targetValue','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','config','analysis.automation.description','setForeignStateAsync','constructor','reason','debug','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','.Current.IsNight','decision','LTM.dailyDigests','splice','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','ANALYZE_HEALTH','@google/generative-ai','currentSystemMode','apply','\x20Ã¼bersprungen\x20(Auto-Approved).','Skipped\x20(No\x20AI\x20or\x20Data)','ðŸŒ…\x20Morning\x20Briefing:\x0a','toFixed','ðŸ¤–\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','getStateAsync','1080625cJWNdG','LTM.rawEventLog','15804PUqfwD','analysis.analysisHistory','analysis.isAlert','driftDetails','KI\x20offline\x20(Fallback)','.\x20KONTEXT:\x20','\x0aSTB:\x20','text','Keine\x20Details.','log','Â°C,\x20','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','setStateAsync','363iJaDOY','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','lastAlertState','.Current.WeatherText','models/gemini-flash-latest','4941955CdFfqu','8397416mDUAPI','LTM.driftAnalysis.driftDetails','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','aiPersona','useWeather','ðŸŒ…\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','search','trim','activityLevel','response','analysis.automation.autoApply','.\x20SYSTEM_MODE:\x20','isProVersion','analysis.automation.targetId','\x0aAktivitÃ¤t:\x20','analysis.automation.patternDetected','ltmLtbWindowDays','BUTLER\x20Execution\x20Error:\x20','N/A\x20(Learning)','description','val','1601592EERFPm','length','Wetterdaten\x20nicht\x20abrufbar','slice','getForeignStateAsync','(((.+)+)+)+$','push','stringify','replace','ðŸ“…\x20Daily\x20Digest:\x0a'];a0_0x500e=function(){return _0x4b7f5e;};return a0_0x500e();}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};