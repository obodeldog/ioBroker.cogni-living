const a0_0x103a94=a0_0x3eb5;function a0_0x52b2(){const _0x1866f2=['alertReason','response','.forecast.current.temperature','length','2499DKEuDw','LTM.driftAnalysis.driftDetails','exports','analysis.automation.targetId','analysis.lastResult','.\x20KONTEXT:\x20','useWeather','KI-Fehler\x20(Fallback)','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','livingContext','analysisHistory','automationProposal','ltmLtbWindowDays','analysis.alertReason','analysis.activitySummary','\x20Ã¼bersprungen\x20(Auto-Approved).','now','aiPersona','parse','KI\x20offline\x20(Fallback)','summary','send','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','762yYHFNK','apply','rawEventLog','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','description','getStateAsync','Success','âš ï¸\x20ALARM:\x20','\x0aSTB:\x20','analysis.isAlert','text','stringify','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','%)\x20nach\x20\x22','warn','dailyDigests','3039DXVEoZ','info','getForeignStateAsync','splice','.\x20EMERGENCY:\x20','toLocaleTimeString','LTM.dailyDigests','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','lastAlertState','(((.+)+)+)+$','val','N/A\x20(Learning)','LTM.processingStatus','analysis.automation.autoApply','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','4130144acRtNX','toISOString','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','geminiModel','replace','analysis.automation.patternDetected','generateContent','22815IdRhki','baselineDrift','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','.\x20EVENTS:\x20','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','.\x20ANWESEND:\x20','Unbekannt\x20(Kein\x20Sensor)','LTM.driftAnalysis.baselineDrift','trim','18GCIBrC','.Current.Temperature','detected','targetValue','message','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','setStateAsync','unshift','decision','@google/generative-ai','eventHistory','7712270iPdNin','Skipped\x20(Traffic)','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','ltmStbWindowDays','isAlert','.Current.IsNight','reason','5972wZWMvK','analysis.automation.targetValue','log','activityLevel','error','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','Briefing\x20Error:\x20','isEmergency','timestamp','BUTLER\x20Execution\x20Error:\x20','config','ðŸŒ…\x20Morning\x20Briefing:\x0a','.Current.WeatherText','toString','.forecast.current.state','678kTiYfE',',\x20Wetter:\x20','search','10135566NNjUnY','26223769syqOyW','isProVersion','generic','debug','sendNotification','weatherInstance','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','Wetterdaten\x20nicht\x20abrufbar','currentSystemMode','Nacht','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','Gemini\x20Error:\x20','LTM.driftAnalysis.lastCheck','./setup',',\x20LichtverhÃ¤ltnisse:\x20','Keine\x20Details.','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','push','driftDetails'];a0_0x52b2=function(){return _0x1866f2;};return a0_0x52b2();}function a0_0x3eb5(_0x418956,_0x541e9c){const _0x4b6bcd=a0_0x52b2();return a0_0x3eb5=function(_0x559323,_0x2726d1){_0x559323=_0x559323-0xcb;let _0x52b2dc=_0x4b6bcd[_0x559323];return _0x52b2dc;},a0_0x3eb5(_0x418956,_0x541e9c);}(function(_0x445509,_0x52c6d3){const _0x169a39=a0_0x3eb5,_0x40efbd=_0x445509();while(!![]){try{const _0x4cd7b5=-parseInt(_0x169a39(0xd3))/0x1*(-parseInt(_0x169a39(0xea))/0x2)+parseInt(_0x169a39(0xfc))/0x3*(parseInt(_0x169a39(0x12d))/0x4)+parseInt(_0x169a39(0x112))/0x5*(-parseInt(_0x169a39(0x13c))/0x6)+-parseInt(_0x169a39(0x13f))/0x7+-parseInt(_0x169a39(0x10b))/0x8+parseInt(_0x169a39(0x11b))/0x9*(-parseInt(_0x169a39(0x126))/0xa)+parseInt(_0x169a39(0x140))/0xb;if(_0x4cd7b5===_0x52c6d3)break;else _0x40efbd['push'](_0x40efbd['shift']());}catch(_0x4a301b){_0x40efbd['push'](_0x40efbd['shift']());}}}(a0_0x52b2,0xc9b74));const a0_0x2726d1=(function(){let _0x56c5f0=!![];return function(_0x14e7ad,_0x1df97c){const _0x2be4b8=_0x56c5f0?function(){const _0x123545=a0_0x3eb5;if(_0x1df97c){const _0x15d8ee=_0x1df97c[_0x123545(0xeb)](_0x14e7ad,arguments);return _0x1df97c=null,_0x15d8ee;}}:function(){};return _0x56c5f0=![],_0x2be4b8;};}()),a0_0x559323=a0_0x2726d1(this,function(){const _0x3f9fc4=a0_0x3eb5;return a0_0x559323[_0x3f9fc4(0x13a)]()[_0x3f9fc4(0x13e)](_0x3f9fc4(0x105))[_0x3f9fc4(0x13a)]()['constructor'](a0_0x559323)['search'](_0x3f9fc4(0x105));});a0_0x559323();'use strict';const {GoogleGenerativeAI}=require(a0_0x103a94(0x124)),setup=require(a0_0x103a94(0x14d)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x103a94(0x102),LTM_DP_STATUS=a0_0x103a94(0x108),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x103a94(0x14a),'senior_aal':a0_0x103a94(0x128),'family':a0_0x103a94(0x120),'single_comfort':a0_0x103a94(0xe9),'security':'Sicherheit\x20geht\x20vor.','energy_saver':a0_0x103a94(0x10a)};function canCallApi(){const _0x2ccf93=a0_0x103a94,_0x58cfee=Date[_0x2ccf93(0xe3)]();return _0x58cfee-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x2edb1d=a0_0x103a94;lastGlobalApiCall=Date[_0x2edb1d(0xe3)]();}async function getWeatherContext(_0x5472c1){const _0x55278a=a0_0x103a94;if(!_0x5472c1[_0x55278a(0x137)][_0x55278a(0xd9)]||!_0x5472c1[_0x55278a(0x137)][_0x55278a(0x145)])return _0x55278a(0x118);try{const _0xa1ac3c=_0x5472c1[_0x55278a(0x137)][_0x55278a(0x145)];let _0x556da2=await _0x5472c1[_0x55278a(0xfe)](_0xa1ac3c+_0x55278a(0x11c));if(!_0x556da2)_0x556da2=await _0x5472c1[_0x55278a(0xfe)](_0xa1ac3c+_0x55278a(0xd1));let _0x428fb4=await _0x5472c1[_0x55278a(0xfe)](_0xa1ac3c+_0x55278a(0x139));if(!_0x428fb4)_0x428fb4=await _0x5472c1[_0x55278a(0xfe)](_0xa1ac3c+_0x55278a(0x13b));let _0x4488e7='Unbekannt';const _0x388646=await _0x5472c1[_0x55278a(0xfe)](_0xa1ac3c+_0x55278a(0x12b));if(_0x388646)_0x4488e7=_0x388646['val']?_0x55278a(0x149):'Tag';if(_0x556da2&&_0x428fb4)return _0x556da2['val']+'Â°C,\x20'+_0x428fb4[_0x55278a(0x106)]+_0x55278a(0x14e)+_0x4488e7;}catch(_0x505bce){}return _0x55278a(0x147);}async function consultButler(_0x3a3cd1,_0x26f24e,_0x4093b5,_0x3bff97){const _0x173450=a0_0x103a94;if(!_0x3a3cd1[_0x173450(0x10e)])return{'approved':!![],'reason':_0x173450(0xe6)};const _0x3555a3=Date[_0x173450(0xe3)]();if(decisionCache[_0x26f24e]&&_0x3555a3-decisionCache[_0x26f24e][_0x173450(0x135)]<CACHE_TTL_MS){const _0x2d8374=decisionCache[_0x26f24e][_0x173450(0x123)];return _0x3a3cd1[_0x173450(0x12f)]['debug'](_0x173450(0x116)+_0x26f24e+'\x20->\x20'+(_0x2d8374['approved']?'OK':'NO')+'\x20('+_0x2d8374[_0x173450(0x12c)]+')'),_0x2d8374;}if(!canCallApi())return _0x3a3cd1['log'][_0x173450(0x143)](_0x173450(0x132)+_0x26f24e+_0x173450(0xe2)),{'approved':!![],'reason':'Traffic-Schutz\x20(Auto-Approved)'};const _0x17d883=new Date()[_0x173450(0x101)](),_0x2700d5=await getWeatherContext(_0x3a3cd1),_0x56c08e=PERSONA_MAPPING[_0x3a3cd1[_0x173450(0x137)][_0x173450(0xe4)]||_0x173450(0x142)],_0x2d704c=_0x173450(0x103)+_0x17d883+_0x173450(0x13d)+_0x2700d5+_0x173450(0x10d)+(_0x3bff97*0x64)['toFixed'](0x0)+_0x173450(0xf9)+_0x26f24e+_0x173450(0xcc)+_0x4093b5+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x56c08e+_0x173450(0xdb);try{updateApiTimestamp();const _0x258a42=await _0x3a3cd1['geminiModel']['generateContent'](_0x2d704c),_0x2ebb7f=_0x258a42[_0x173450(0xd0)][_0x173450(0xf5)]()[_0x173450(0x10f)](/```json|```/g,'')['trim'](),_0x101fb3=JSON['parse'](_0x2ebb7f);return decisionCache[_0x26f24e]={'decision':_0x101fb3,'timestamp':_0x3555a3},_0x101fb3;}catch(_0x3d3142){return _0x3a3cd1['log'][_0x173450(0xfa)](_0x173450(0xed)+_0x3d3142[_0x173450(0x11f)]),decisionCache[_0x26f24e]={'decision':{'approved':!![],'reason':_0x173450(0xda)},'timestamp':_0x3555a3-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x173450(0xda)};}}async function runGeminiAnalysis(_0x2df41c,_0x259bd1=''){const _0xe4a6e2=a0_0x103a94;if(!_0x2df41c['geminiModel'])return;if(!canCallApi()){_0x2df41c[_0xe4a6e2(0x12f)][_0xe4a6e2(0x143)](_0xe4a6e2(0xee));return;}if(_0x2df41c[_0xe4a6e2(0x125)][_0xe4a6e2(0xd2)]===0x0)return;const _0x24cecf=_0x2df41c[_0xe4a6e2(0x125)]['slice'](0x0,0xf),_0x270683=_0x2df41c[_0xe4a6e2(0x148)],_0x2c0774=PERSONA_MAPPING[_0x2df41c[_0xe4a6e2(0x137)][_0xe4a6e2(0xe4)]||'generic'],_0x5a3430=_0x2df41c[_0xe4a6e2(0x137)][_0xe4a6e2(0xdc)]||_0xe4a6e2(0xcb);let _0xa76944='Unbekannt';try{const _0x46f642=await _0x2df41c[_0xe4a6e2(0xf0)]('system.presenceWho');if(_0x46f642&&_0x46f642[_0xe4a6e2(0x106)])_0xa76944=_0x46f642[_0xe4a6e2(0x106)];}catch(_0x216a8c){}let _0x81a94e=![];try{const _0x29c9de=await _0x2df41c[_0xe4a6e2(0xf0)](_0xe4a6e2(0x109));if(_0x29c9de&&_0x29c9de[_0xe4a6e2(0x106)])_0x81a94e=!![];}catch(_0x2b7a6e){}const _0x380046=_0xe4a6e2(0x114)+_0x2c0774+_0xe4a6e2(0xd8)+_0x5a3430+'.\x20SYSTEM_MODE:\x20'+_0x270683+_0xe4a6e2(0x117)+_0xa76944+_0xe4a6e2(0x115)+JSON[_0xe4a6e2(0xf6)](_0x24cecf)+_0xe4a6e2(0x100)+_0x259bd1+_0xe4a6e2(0x146);try{updateApiTimestamp();const _0x436a6c=await _0x2df41c[_0xe4a6e2(0x10e)]['generateContent'](_0x380046),_0xb11b97=JSON[_0xe4a6e2(0xe5)](_0x436a6c[_0xe4a6e2(0xd0)][_0xe4a6e2(0xf5)]()[_0xe4a6e2(0x10f)](/```json|```/g,'')[_0xe4a6e2(0x11a)]());await _0x2df41c[_0xe4a6e2(0x121)](_0xe4a6e2(0xd7),{'val':JSON[_0xe4a6e2(0xf6)](_0xb11b97),'ack':!![]});if(_0xb11b97[_0xe4a6e2(0xe7)])await _0x2df41c[_0xe4a6e2(0x121)](_0xe4a6e2(0xe1),{'val':_0xb11b97[_0xe4a6e2(0xe7)],'ack':!![]});const _0x1b558b={'timestamp':Date[_0xe4a6e2(0xe3)](),'id':Date[_0xe4a6e2(0xe3)]()[_0xe4a6e2(0x13a)](),'analysis':{'activity':{'summary':_0xb11b97[_0xe4a6e2(0xe7)],'isAlert':_0xb11b97[_0xe4a6e2(0x12a)],'alertReason':_0xb11b97[_0xe4a6e2(0xcf)]},'comfort':{'automationProposal':_0xb11b97[_0xe4a6e2(0xde)]}}};_0x2df41c[_0xe4a6e2(0xdd)][_0xe4a6e2(0x122)](_0x1b558b);if(_0x2df41c[_0xe4a6e2(0xdd)][_0xe4a6e2(0xd2)]>0x32)_0x2df41c[_0xe4a6e2(0xdd)]['pop']();await _0x2df41c[_0xe4a6e2(0x121)]('analysis.analysisHistory',{'val':JSON[_0xe4a6e2(0xf6)](_0x2df41c[_0xe4a6e2(0xdd)]),'ack':!![]});const _0x278c4e=_0xb11b97[_0xe4a6e2(0x12a)]||![];_0x278c4e!==_0x2df41c[_0xe4a6e2(0x104)]&&(await _0x2df41c[_0xe4a6e2(0x121)](_0xe4a6e2(0xf4),{'val':_0x278c4e,'ack':!![]}),_0x2df41c['lastAlertState']=_0x278c4e,_0x278c4e&&(await _0x2df41c[_0xe4a6e2(0x121)](_0xe4a6e2(0xe0),{'val':_0xb11b97[_0xe4a6e2(0xcf)],'ack':!![]}),setup[_0xe4a6e2(0x144)](_0x2df41c,_0xe4a6e2(0xf2)+_0xb11b97[_0xe4a6e2(0xcf)],![],_0xb11b97[_0xe4a6e2(0x134)])));if(_0xb11b97['automationProposal']&&_0xb11b97[_0xe4a6e2(0xde)][_0xe4a6e2(0x11d)]){await _0x2df41c['setStateAsync'](_0xe4a6e2(0x110),{'val':!![],'ack':!![]}),await _0x2df41c[_0xe4a6e2(0x121)]('analysis.automation.description',{'val':_0xb11b97[_0xe4a6e2(0xde)][_0xe4a6e2(0xef)],'ack':!![]}),await _0x2df41c[_0xe4a6e2(0x121)](_0xe4a6e2(0xd6),{'val':_0xb11b97[_0xe4a6e2(0xde)]['targetId'],'ack':!![]}),await _0x2df41c[_0xe4a6e2(0x121)](_0xe4a6e2(0x12e),{'val':JSON[_0xe4a6e2(0xf6)](_0xb11b97[_0xe4a6e2(0xde)][_0xe4a6e2(0x11e)]),'ack':!![]});if(_0x81a94e)executeAutomationAction(_0x2df41c);}}catch(_0x41e61c){_0x2df41c[_0xe4a6e2(0x12f)][_0xe4a6e2(0x131)](_0xe4a6e2(0x14b)+_0x41e61c[_0xe4a6e2(0x11f)]);}}async function createDailyDigest(_0x102655,_0x529be8){const _0x2903e9=a0_0x103a94;if(!_0x102655[_0x2903e9(0x141)])return;if(!canCallApi()){await _0x102655[_0x2903e9(0x121)](LTM_DP_STATUS,{'val':_0x2903e9(0x127),'ack':!![]});return;}await _0x102655['setStateAsync'](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x102655[_0x2903e9(0x10e)]||_0x102655[_0x2903e9(0xec)][_0x2903e9(0xd2)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x102655['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x35344e=JSON[_0x2903e9(0xe5)](JSON[_0x2903e9(0xf6)](_0x102655[_0x2903e9(0xec)])),_0xafca29=_0x35344e[_0x2903e9(0xd2)],_0x46a24a=_0x2903e9(0xf8)+JSON[_0x2903e9(0xf6)](_0x35344e);try{updateApiTimestamp();const _0x32c908=await _0x102655[_0x2903e9(0x10e)][_0x2903e9(0x111)](_0x46a24a),_0x15ff0c=JSON[_0x2903e9(0xe5)](_0x32c908[_0x2903e9(0xd0)]['text']()[_0x2903e9(0x10f)](/```json|```/g,'')[_0x2903e9(0x11a)]()),_0x67a45f={'timestamp':new Date()[_0x2903e9(0x10c)](),'eventCount':_0xafca29,'summary':_0x15ff0c['summary']||'Digest','activityLevel':_0x15ff0c[_0x2903e9(0x130)]||'normal','systemMode':_0x102655[_0x2903e9(0x148)]};_0x102655['dailyDigests'][_0x2903e9(0xcd)](_0x67a45f);const _0x4d27c7=_0x102655[_0x2903e9(0x137)][_0x2903e9(0xdf)]||0x3c;_0x102655[_0x2903e9(0xfb)][_0x2903e9(0xd2)]>_0x4d27c7&&_0x102655['dailyDigests'][_0x2903e9(0xff)](0x0,_0x102655[_0x2903e9(0xfb)][_0x2903e9(0xd2)]-_0x4d27c7);await _0x102655[_0x2903e9(0x121)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x2903e9(0xf6)](_0x102655[_0x2903e9(0xfb)]),'ack':!![]}),_0x102655[_0x2903e9(0xec)]=[],await _0x102655[_0x2903e9(0x121)](LTM_DP_RAW_LOG,{'val':JSON[_0x2903e9(0xf6)](_0x102655['rawEventLog']),'ack':!![]}),await _0x102655['setStateAsync'](LTM_DP_STATUS,{'val':_0x2903e9(0xf1),'ack':!![]});if(_0x102655[_0x2903e9(0x141)]&&_0x529be8)_0x529be8[_0x2903e9(0xe8)](_0x102655,'ANALYZE_HEALTH',{'digest':_0x67a45f});}catch(_0x5f100b){_0x102655[_0x2903e9(0x12f)][_0x2903e9(0x131)](_0x5f100b[_0x2903e9(0x11f)]);}}async function runBaselineDriftAnalysis(_0x24c46e){const _0x37d99d=a0_0x103a94;if(!_0x24c46e['isProVersion']||!_0x24c46e[_0x37d99d(0x10e)])return;if(!canCallApi())return;const _0x16c7ce=_0x24c46e[_0x37d99d(0x137)][_0x37d99d(0x129)]||0xe;if(_0x24c46e['dailyDigests']['length']<_0x16c7ce+0x7){await _0x24c46e[_0x37d99d(0x121)](_0x37d99d(0x119),{'val':_0x37d99d(0x107),'ack':!![]});return;}const _0x526065=_0x24c46e[_0x37d99d(0xfb)]['slice'](-_0x16c7ce),_0x203bab=_0x24c46e['dailyDigests']['slice'](0x0,_0x24c46e[_0x37d99d(0xfb)][_0x37d99d(0xd2)]-_0x16c7ce),_0x38eff7='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON['stringify'](_0x203bab)+_0x37d99d(0xf3)+JSON[_0x37d99d(0xf6)](_0x526065);try{updateApiTimestamp();const _0x437441=await _0x24c46e['geminiModel'][_0x37d99d(0x111)](_0x38eff7),_0x4547ba=JSON[_0x37d99d(0xe5)](_0x437441['response'][_0x37d99d(0xf5)]()[_0x37d99d(0x10f)](/```json|```/g,'')[_0x37d99d(0x11a)]());_0x4547ba[_0x37d99d(0x113)]&&(await _0x24c46e[_0x37d99d(0x121)]('LTM.driftAnalysis.baselineDrift',{'val':_0x4547ba[_0x37d99d(0x113)],'ack':!![]}),await _0x24c46e['setStateAsync'](_0x37d99d(0xd4),{'val':_0x4547ba[_0x37d99d(0xce)],'ack':!![]}),await _0x24c46e[_0x37d99d(0x121)](_0x37d99d(0x14c),{'val':Date['now'](),'ack':!![]}));}catch(_0x578374){}}async function executeAutomationAction(_0x49316b){const _0x229a0d=a0_0x103a94;try{const _0x55d851=await _0x49316b[_0x229a0d(0xf0)]('analysis.automation.targetId'),_0x161dd5=await _0x49316b[_0x229a0d(0xf0)](_0x229a0d(0x12e));if(_0x55d851&&_0x55d851[_0x229a0d(0x106)]&&_0x161dd5){const _0x301f18=_0x55d851[_0x229a0d(0x106)];let _0x546d8c=_0x161dd5[_0x229a0d(0x106)];try{_0x546d8c=JSON[_0x229a0d(0xe5)](_0x546d8c);}catch(_0x4c5042){}_0x49316b[_0x229a0d(0x12f)][_0x229a0d(0xfd)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x301f18+'\x20=\x20'+_0x546d8c),await _0x49316b['setForeignStateAsync'](_0x301f18,_0x546d8c);}else _0x49316b[_0x229a0d(0x12f)][_0x229a0d(0xfa)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x4e2e46){_0x49316b[_0x229a0d(0x12f)][_0x229a0d(0x131)](_0x229a0d(0x136)+_0x4e2e46[_0x229a0d(0x11f)]);}}async function sendMorningBriefing(_0x1639c6){const _0x548cf6=a0_0x103a94;if(!_0x1639c6[_0x548cf6(0x10e)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x2856e5=_0x548cf6(0xf7),_0xbf42ac=await _0x1639c6[_0x548cf6(0x10e)][_0x548cf6(0x111)](_0x2856e5),_0x21e2a0=_0xbf42ac['response'][_0x548cf6(0xf5)]();setup[_0x548cf6(0x144)](_0x1639c6,_0x548cf6(0x138)+_0x21e2a0);}catch(_0x590e61){_0x1639c6[_0x548cf6(0x12f)][_0x548cf6(0x131)](_0x548cf6(0x133)+_0x590e61[_0x548cf6(0x11f)]);}}module[a0_0x103a94(0xd5)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};