const a0_0x2ad19a=a0_0x238d;(function(_0x263258,_0x5ca315){const _0x2c15ab=a0_0x238d,_0x2e9970=_0x263258();while(!![]){try{const _0x235c0a=-parseInt(_0x2c15ab(0x125))/0x1*(parseInt(_0x2c15ab(0x127))/0x2)+parseInt(_0x2c15ab(0x13f))/0x3*(parseInt(_0x2c15ab(0x115))/0x4)+-parseInt(_0x2c15ab(0xee))/0x5*(-parseInt(_0x2c15ab(0x102))/0x6)+parseInt(_0x2c15ab(0x109))/0x7+parseInt(_0x2c15ab(0x12c))/0x8+parseInt(_0x2c15ab(0xc7))/0x9+-parseInt(_0x2c15ab(0x11e))/0xa*(parseInt(_0x2c15ab(0xe1))/0xb);if(_0x235c0a===_0x5ca315)break;else _0x2e9970['push'](_0x2e9970['shift']());}catch(_0xdcc962){_0x2e9970['push'](_0x2e9970['shift']());}}}(a0_0x23e7,0x8016a));const a0_0x5e73c9=(function(){let _0x4505fb=!![];return function(_0x3e6cb5,_0x9048bd){const _0x3dc39a=_0x4505fb?function(){if(_0x9048bd){const _0x1575aa=_0x9048bd['apply'](_0x3e6cb5,arguments);return _0x9048bd=null,_0x1575aa;}}:function(){};return _0x4505fb=![],_0x3dc39a;};}()),a0_0x57b861=a0_0x5e73c9(this,function(){const _0x27509d=a0_0x238d;return a0_0x57b861['toString']()[_0x27509d(0x100)](_0x27509d(0x113))[_0x27509d(0xdd)]()[_0x27509d(0x12a)](a0_0x57b861)[_0x27509d(0x100)](_0x27509d(0x113));});function a0_0x238d(_0x43dc58,_0x42b0f6){const _0x14cdee=a0_0x23e7();return a0_0x238d=function(_0x57b861,_0x5e73c9){_0x57b861=_0x57b861-0xc1;let _0x23e7ef=_0x14cdee[_0x57b861];return _0x23e7ef;},a0_0x238d(_0x43dc58,_0x42b0f6);}function a0_0x23e7(){const _0x3eda3a=['eventHistory','analysis.automation.targetValue','.\x20SYSTEM_MODE:\x20','isAlert','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','useWeather','activityLevel','toString','description','analysis.analysisHistory','ðŸŒ…\x20Morning\x20Briefing:\x0a','1038829buIJGv','analysis.automation.description','analysis.lastResult','debug','splice','\x20=\x20','\x0aAktivitÃ¤t:\x20','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','ANALYZE_HEALTH','geminiModel','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','driftDetails','analysisHistory','33095WjquAA','alertReason','message','error','system.presenceWho','normal','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','setForeignStateAsync','rawEventLog','decision','Wetterdaten\x20nicht\x20abrufbar','KI-Fehler\x20(Fallback)','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','log','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','\x20Ã¼bersprungen\x20(Auto-Approved).','unshift','response','search','weatherInstance','210DaYbYo','\x20->\x20','analysis.alertReason','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','detected','.Current.WeatherText','send','233807dBopte','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','push','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','reason','toFixed','BUTLER\x20Execution\x20Error:\x20','pop','slice','summary','(((.+)+)+)+$','getStateAsync','11640QwuFbB','info','@google/generative-ai','isEmergency','N/A\x20(Learning)','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','livingContext','Digest','stringify','30FwaSoF','lastAlertState','approved','.\x20EMERGENCY:\x20','Success','.\x20ANWESEND:\x20','toLocaleTimeString','1nEGLgC','text','1396832QQFgdG','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','Unbekannt','constructor','length','5905952oTdfMt','automationProposal','âš ï¸\x20ALARM:\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','targetValue',',\x20LichtverhÃ¤ltnisse:\x20','Â°C,\x20','analysis.activitySummary','./setup','getForeignStateAsync','setStateAsync','Tag','isProVersion','targetId',',\x20Wetter:\x20','analysis.automation.autoApply','generic','.\x20EVENTS:\x20','\x0aSTB:\x20','195jdGMkA','val','.forecast.current.temperature','Sicherheit\x20geht\x20vor.','parse','LTM.driftAnalysis.baselineDrift','replace','sendNotification',').\x20Sending\x20notification...','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','now','aiPersona','warn','trim','generateContent','analysis.automation.targetId','currentSystemMode','2825307GXdmDU','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','Started...','baselineDrift','LTM.dailyDigests','dailyDigests','LTM.rawEventLog','LTM.driftAnalysis.lastCheck','.forecast.current.state','config','Skipped\x20(Traffic)','Traffic-Schutz\x20(Auto-Approved)','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'];a0_0x23e7=function(){return _0x3eda3a;};return a0_0x23e7();}a0_0x57b861();'use strict';const {GoogleGenerativeAI}=require(a0_0x2ad19a(0x117)),setup=require(a0_0x2ad19a(0x134)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x2ad19a(0xcc),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x2ad19a(0xce),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x2ad19a(0xc8),'senior_aal':a0_0x2ad19a(0x11a),'family':a0_0x2ad19a(0xfc),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':a0_0x2ad19a(0x142),'energy_saver':a0_0x2ad19a(0xfa)};function canCallApi(){const _0xc7ada5=Date['now']();return _0xc7ada5-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x5a7674=a0_0x2ad19a;lastGlobalApiCall=Date[_0x5a7674(0x149)]();}async function getWeatherContext(_0x18811f){const _0x5d331a=a0_0x2ad19a;if(!_0x18811f[_0x5d331a(0xd1)][_0x5d331a(0xdb)]||!_0x18811f['config'][_0x5d331a(0x101)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x164608=_0x18811f[_0x5d331a(0xd1)][_0x5d331a(0x101)];let _0x42ac71=await _0x18811f[_0x5d331a(0x135)](_0x164608+'.Current.Temperature');if(!_0x42ac71)_0x42ac71=await _0x18811f[_0x5d331a(0x135)](_0x164608+_0x5d331a(0x141));let _0x27d48e=await _0x18811f[_0x5d331a(0x135)](_0x164608+_0x5d331a(0x107));if(!_0x27d48e)_0x27d48e=await _0x18811f[_0x5d331a(0x135)](_0x164608+_0x5d331a(0xd0));let _0x195f9c=_0x5d331a(0x129);const _0x2869cc=await _0x18811f[_0x5d331a(0x135)](_0x164608+'.Current.IsNight');if(_0x2869cc)_0x195f9c=_0x2869cc[_0x5d331a(0x140)]?'Nacht':_0x5d331a(0x137);if(_0x42ac71&&_0x27d48e)return _0x42ac71[_0x5d331a(0x140)]+_0x5d331a(0x132)+_0x27d48e[_0x5d331a(0x140)]+_0x5d331a(0x131)+_0x195f9c;}catch(_0x14d4ba){}return _0x5d331a(0xf8);}async function consultButler(_0x24b373,_0xbbd972,_0xf4879e,_0x5a2840){const _0x500629=a0_0x2ad19a;if(!_0x24b373['geminiModel'])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x4b8997=Date[_0x500629(0x149)]();if(decisionCache[_0xbbd972]&&_0x4b8997-decisionCache[_0xbbd972]['timestamp']<CACHE_TTL_MS){const _0x524dea=decisionCache[_0xbbd972][_0x500629(0xf7)];return _0x24b373[_0x500629(0xfb)]['debug'](_0x500629(0xeb)+_0xbbd972+_0x500629(0x103)+(_0x524dea[_0x500629(0x120)]?'OK':'NO')+'\x20('+_0x524dea[_0x500629(0x10d)]+')'),_0x524dea;}if(!canCallApi())return _0x24b373[_0x500629(0xfb)][_0x500629(0xe4)](_0x500629(0x10a)+_0xbbd972+_0x500629(0xfd)),{'approved':!![],'reason':_0x500629(0xd3)};const _0xd8f45e=new Date()[_0x500629(0x124)](),_0x1c5182=await getWeatherContext(_0x24b373),_0x2a076c=PERSONA_MAPPING[_0x24b373[_0x500629(0xd1)][_0x500629(0xc1)]||'generic'],_0x20b399='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0xd8f45e+_0x500629(0x13a)+_0x1c5182+_0x500629(0x10c)+(_0x5a2840*0x64)[_0x500629(0x10e)](0x0)+'%)\x20nach\x20\x22'+_0xbbd972+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0xf4879e+_0x500629(0xda)+_0x2a076c+_0x500629(0xc9);try{updateApiTimestamp();const _0x4725be=await _0x24b373[_0x500629(0xea)]['generateContent'](_0x20b399),_0x2b3611=_0x4725be[_0x500629(0xff)]['text']()[_0x500629(0x145)](/```json|```/g,'')[_0x500629(0xc3)](),_0xc18f98=JSON['parse'](_0x2b3611);return decisionCache[_0xbbd972]={'decision':_0xc18f98,'timestamp':_0x4b8997},_0xc18f98;}catch(_0x5ac0f6){return _0x24b373[_0x500629(0xfb)][_0x500629(0xc2)](_0x500629(0xd4)+_0x5ac0f6['message']),decisionCache[_0xbbd972]={'decision':{'approved':!![],'reason':_0x500629(0xf9)},'timestamp':_0x4b8997-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x500629(0xf9)};}}async function runGeminiAnalysis(_0xa7a6f0,_0x20fd6c=''){const _0x40789e=a0_0x2ad19a;if(!_0xa7a6f0['geminiModel'])return;if(!canCallApi()){_0xa7a6f0[_0x40789e(0xfb)]['debug']('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0xa7a6f0[_0x40789e(0xd6)]['length']===0x0)return;const _0x17f9d5=_0xa7a6f0['eventHistory'][_0x40789e(0x111)](0x0,0xf),_0x5e03ac=_0xa7a6f0[_0x40789e(0xc6)],_0x4042ad=PERSONA_MAPPING[_0xa7a6f0[_0x40789e(0xd1)]['aiPersona']||_0x40789e(0x13c)],_0x40fd97=_0xa7a6f0[_0x40789e(0xd1)][_0x40789e(0x11b)]||'Keine\x20Details.';let _0x2163f3=_0x40789e(0x129);try{const _0x44540c=await _0xa7a6f0[_0x40789e(0x114)](_0x40789e(0xf2));if(_0x44540c&&_0x44540c[_0x40789e(0x140)])_0x2163f3=_0x44540c[_0x40789e(0x140)];}catch(_0x39af30){}let _0x25f487=![];try{const _0x37c76c=await _0xa7a6f0[_0x40789e(0x114)](_0x40789e(0x13b));if(_0x37c76c&&_0x37c76c[_0x40789e(0x140)])_0x25f487=!![];}catch(_0x52715d){}const _0x12a994=_0x40789e(0xd5)+_0x4042ad+'.\x20KONTEXT:\x20'+_0x40fd97+_0x40789e(0xd8)+_0x5e03ac+_0x40789e(0x123)+_0x2163f3+_0x40789e(0x13d)+JSON[_0x40789e(0x11d)](_0x17f9d5)+_0x40789e(0x121)+_0x20fd6c+_0x40789e(0x128);try{updateApiTimestamp();const _0x57f599=await _0xa7a6f0['geminiModel'][_0x40789e(0xc4)](_0x12a994),_0x4bf1cc=JSON[_0x40789e(0x143)](_0x57f599['response']['text']()['replace'](/```json|```/g,'')[_0x40789e(0xc3)]());await _0xa7a6f0[_0x40789e(0x136)](_0x40789e(0xe3),{'val':JSON[_0x40789e(0x11d)](_0x4bf1cc),'ack':!![]});if(_0x4bf1cc[_0x40789e(0x112)])await _0xa7a6f0['setStateAsync'](_0x40789e(0x133),{'val':_0x4bf1cc['summary'],'ack':!![]});const _0xab12ad={'timestamp':Date[_0x40789e(0x149)](),'id':Date[_0x40789e(0x149)]()[_0x40789e(0xdd)](),'analysis':{'activity':{'summary':_0x4bf1cc[_0x40789e(0x112)],'isAlert':_0x4bf1cc['isAlert'],'alertReason':_0x4bf1cc[_0x40789e(0xef)]},'comfort':{'automationProposal':_0x4bf1cc['automationProposal']}}};_0xa7a6f0[_0x40789e(0xed)][_0x40789e(0xfe)](_0xab12ad);if(_0xa7a6f0[_0x40789e(0xed)][_0x40789e(0x12b)]>0x32)_0xa7a6f0[_0x40789e(0xed)][_0x40789e(0x110)]();await _0xa7a6f0[_0x40789e(0x136)](_0x40789e(0xdf),{'val':JSON[_0x40789e(0x11d)](_0xa7a6f0[_0x40789e(0xed)]),'ack':!![]});const _0x3f99c6=_0x4bf1cc[_0x40789e(0xd9)]||![];_0x3f99c6!==_0xa7a6f0[_0x40789e(0x11f)]&&(await _0xa7a6f0[_0x40789e(0x136)]('analysis.isAlert',{'val':_0x3f99c6,'ack':!![]}),_0xa7a6f0[_0x40789e(0x11f)]=_0x3f99c6,_0x3f99c6&&(await _0xa7a6f0['setStateAsync'](_0x40789e(0x104),{'val':_0x4bf1cc[_0x40789e(0xef)],'ack':!![]}),setup['sendNotification'](_0xa7a6f0,_0x40789e(0x12e)+_0x4bf1cc[_0x40789e(0xef)],![],_0x4bf1cc[_0x40789e(0x118)])));if(_0x4bf1cc[_0x40789e(0x12d)]&&_0x4bf1cc[_0x40789e(0x12d)][_0x40789e(0x106)]){await _0xa7a6f0[_0x40789e(0x136)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0xa7a6f0[_0x40789e(0x136)](_0x40789e(0xe2),{'val':_0x4bf1cc[_0x40789e(0x12d)][_0x40789e(0xde)],'ack':!![]}),await _0xa7a6f0[_0x40789e(0x136)](_0x40789e(0xc5),{'val':_0x4bf1cc['automationProposal'][_0x40789e(0x139)],'ack':!![]}),await _0xa7a6f0['setStateAsync'](_0x40789e(0xd7),{'val':JSON['stringify'](_0x4bf1cc[_0x40789e(0x12d)][_0x40789e(0x130)]),'ack':!![]});if(_0x25f487)executeAutomationAction(_0xa7a6f0);}}catch(_0x5d6b02){_0xa7a6f0[_0x40789e(0xfb)]['error']('Gemini\x20Error:\x20'+_0x5d6b02[_0x40789e(0xf0)]);}}async function createDailyDigest(_0x5a2b1d,_0x32343f){const _0x2b5a6a=a0_0x2ad19a;if(!_0x5a2b1d[_0x2b5a6a(0x138)])return;if(!canCallApi()){await _0x5a2b1d['setStateAsync'](LTM_DP_STATUS,{'val':_0x2b5a6a(0xd2),'ack':!![]});return;}await _0x5a2b1d[_0x2b5a6a(0x136)](LTM_DP_STATUS,{'val':_0x2b5a6a(0xca),'ack':!![]});if(!_0x5a2b1d[_0x2b5a6a(0xea)]||_0x5a2b1d['rawEventLog'][_0x2b5a6a(0x12b)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x5a2b1d['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x332c3b=JSON['parse'](JSON[_0x2b5a6a(0x11d)](_0x5a2b1d[_0x2b5a6a(0xf6)])),_0x58f85a=_0x332c3b[_0x2b5a6a(0x12b)],_0xc2c50e=_0x2b5a6a(0x148)+JSON[_0x2b5a6a(0x11d)](_0x332c3b);try{updateApiTimestamp();const _0x5569d5=await _0x5a2b1d[_0x2b5a6a(0xea)]['generateContent'](_0xc2c50e),_0x1f785d=JSON[_0x2b5a6a(0x143)](_0x5569d5[_0x2b5a6a(0xff)][_0x2b5a6a(0x126)]()[_0x2b5a6a(0x145)](/```json|```/g,'')[_0x2b5a6a(0xc3)]()),_0x488ff9={'timestamp':new Date()['toISOString'](),'eventCount':_0x58f85a,'summary':_0x1f785d[_0x2b5a6a(0x112)]||_0x2b5a6a(0x11c),'activityLevel':_0x1f785d['activityLevel']||_0x2b5a6a(0xf3),'systemMode':_0x5a2b1d['currentSystemMode']};_0x5a2b1d[_0x2b5a6a(0xcd)][_0x2b5a6a(0x10b)](_0x488ff9);const _0x52c725=_0x5a2b1d['config']['ltmLtbWindowDays']||0x3c;_0x5a2b1d[_0x2b5a6a(0xcd)]['length']>_0x52c725&&_0x5a2b1d[_0x2b5a6a(0xcd)][_0x2b5a6a(0xe5)](0x0,_0x5a2b1d['dailyDigests'][_0x2b5a6a(0x12b)]-_0x52c725);await _0x5a2b1d[_0x2b5a6a(0x136)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x2b5a6a(0x11d)](_0x5a2b1d[_0x2b5a6a(0xcd)]),'ack':!![]}),_0x5a2b1d[_0x2b5a6a(0xf6)]=[],await _0x5a2b1d[_0x2b5a6a(0x136)](LTM_DP_RAW_LOG,{'val':JSON[_0x2b5a6a(0x11d)](_0x5a2b1d[_0x2b5a6a(0xf6)]),'ack':!![]}),await _0x5a2b1d[_0x2b5a6a(0x136)](LTM_DP_STATUS,{'val':_0x2b5a6a(0x122),'ack':!![]});const _0x10cc4a='ðŸ“…\x20Daily\x20Digest:\x0a'+_0x1f785d[_0x2b5a6a(0x112)]+_0x2b5a6a(0xe7)+_0x1f785d[_0x2b5a6a(0xdc)];setup['sendNotification'](_0x5a2b1d,_0x10cc4a,![],![]);if(_0x5a2b1d[_0x2b5a6a(0x138)]&&_0x32343f)_0x32343f[_0x2b5a6a(0x108)](_0x5a2b1d,_0x2b5a6a(0xe9),{'digest':_0x488ff9});}catch(_0x37af05){_0x5a2b1d[_0x2b5a6a(0xfb)][_0x2b5a6a(0xf1)](_0x37af05[_0x2b5a6a(0xf0)]);}}async function runBaselineDriftAnalysis(_0x2d9e50){const _0x20bd9a=a0_0x2ad19a;if(!_0x2d9e50[_0x20bd9a(0x138)]||!_0x2d9e50['geminiModel'])return;if(!canCallApi())return;const _0x465162=_0x2d9e50[_0x20bd9a(0xd1)]['ltmStbWindowDays']||0xe;if(_0x2d9e50[_0x20bd9a(0xcd)][_0x20bd9a(0x12b)]<_0x465162+0x7){await _0x2d9e50[_0x20bd9a(0x136)](_0x20bd9a(0x144),{'val':_0x20bd9a(0x119),'ack':!![]});return;}const _0x157ab1=_0x2d9e50['dailyDigests'][_0x20bd9a(0x111)](-_0x465162),_0x265421=_0x2d9e50['dailyDigests'][_0x20bd9a(0x111)](0x0,_0x2d9e50[_0x20bd9a(0xcd)][_0x20bd9a(0x12b)]-_0x465162),_0x26f0dc=_0x20bd9a(0x12f)+JSON['stringify'](_0x265421)+_0x20bd9a(0x13e)+JSON[_0x20bd9a(0x11d)](_0x157ab1);try{updateApiTimestamp();const _0x8430d=await _0x2d9e50[_0x20bd9a(0xea)][_0x20bd9a(0xc4)](_0x26f0dc),_0x4a84d=JSON[_0x20bd9a(0x143)](_0x8430d['response'][_0x20bd9a(0x126)]()[_0x20bd9a(0x145)](/```json|```/g,'')[_0x20bd9a(0xc3)]());_0x4a84d['baselineDrift']&&(await _0x2d9e50['setStateAsync'](_0x20bd9a(0x144),{'val':_0x4a84d[_0x20bd9a(0xcb)],'ack':!![]}),await _0x2d9e50[_0x20bd9a(0x136)]('LTM.driftAnalysis.driftDetails',{'val':_0x4a84d[_0x20bd9a(0xec)],'ack':!![]}),await _0x2d9e50[_0x20bd9a(0x136)](_0x20bd9a(0xcf),{'val':Date[_0x20bd9a(0x149)](),'ack':!![]}));}catch(_0x52fe2c){}}async function executeAutomationAction(_0x558aa5){const _0x29d102=a0_0x2ad19a;try{const _0x47bffa=await _0x558aa5[_0x29d102(0x114)]('analysis.automation.targetId'),_0x1735aa=await _0x558aa5[_0x29d102(0x114)]('analysis.automation.targetValue');if(_0x47bffa&&_0x47bffa[_0x29d102(0x140)]&&_0x1735aa){const _0x3b8cd6=_0x47bffa['val'];let _0x49bb0a=_0x1735aa[_0x29d102(0x140)];try{_0x49bb0a=JSON[_0x29d102(0x143)](_0x49bb0a);}catch(_0x16ae21){}_0x558aa5[_0x29d102(0xfb)][_0x29d102(0x116)](_0x29d102(0xe8)+_0x3b8cd6+_0x29d102(0xe6)+_0x49bb0a),await _0x558aa5[_0x29d102(0xf5)](_0x3b8cd6,_0x49bb0a);}else _0x558aa5[_0x29d102(0xfb)][_0x29d102(0xc2)](_0x29d102(0x105));}catch(_0x3e9751){_0x558aa5['log'][_0x29d102(0xf1)](_0x29d102(0x10f)+_0x3e9751[_0x29d102(0xf0)]);}}async function sendMorningBriefing(_0x529fba){const _0x1f2166=a0_0x2ad19a;if(!_0x529fba[_0x1f2166(0xea)]){_0x529fba['log'][_0x1f2166(0xc2)]('ðŸ¤–\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.');return;}_0x529fba[_0x1f2166(0xfb)]['info']('ðŸŒ…\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...');try{updateApiTimestamp();const _0x372797=_0x1f2166(0xf4),_0x16fdd9=await _0x529fba[_0x1f2166(0xea)][_0x1f2166(0xc4)](_0x372797),_0x3bc1ea=_0x16fdd9['response']['text']();_0x529fba[_0x1f2166(0xfb)][_0x1f2166(0x116)]('ðŸŒ…\x20Briefing\x20generated\x20(Length:\x20'+_0x3bc1ea['length']+_0x1f2166(0x147)),setup[_0x1f2166(0x146)](_0x529fba,_0x1f2166(0xe0)+_0x3bc1ea);}catch(_0x25c224){_0x529fba[_0x1f2166(0xfb)][_0x1f2166(0xf1)]('Briefing\x20Error:\x20'+_0x25c224[_0x1f2166(0xf0)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};