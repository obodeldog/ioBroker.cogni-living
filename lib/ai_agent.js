const a0_0xe5cf02=a0_0x3f6e;(function(_0x6cea31,_0x12a8b4){const _0x4e762b=a0_0x3f6e,_0xc1610e=_0x6cea31();while(!![]){try{const _0x21e799=-parseInt(_0x4e762b(0x199))/0x1*(parseInt(_0x4e762b(0x159))/0x2)+parseInt(_0x4e762b(0x19e))/0x3+parseInt(_0x4e762b(0x178))/0x4+-parseInt(_0x4e762b(0x1b8))/0x5+-parseInt(_0x4e762b(0x191))/0x6+-parseInt(_0x4e762b(0x1b5))/0x7+parseInt(_0x4e762b(0x1d2))/0x8;if(_0x21e799===_0x12a8b4)break;else _0xc1610e['push'](_0xc1610e['shift']());}catch(_0x84195a){_0xc1610e['push'](_0xc1610e['shift']());}}}(a0_0x39a8,0x43f43));const a0_0x4810b4=(function(){let _0x5f7d61=!![];return function(_0x56e72a,_0x22d37c){const _0x4117d7=_0x5f7d61?function(){const _0x46dd75=a0_0x3f6e;if(_0x22d37c){const _0x4f5aeb=_0x22d37c[_0x46dd75(0x158)](_0x56e72a,arguments);return _0x22d37c=null,_0x4f5aeb;}}:function(){};return _0x5f7d61=![],_0x4117d7;};}()),a0_0x2aa38c=a0_0x4810b4(this,function(){const _0x324a96=a0_0x3f6e;return a0_0x2aa38c['toString']()[_0x324a96(0x1ce)](_0x324a96(0x1c5))[_0x324a96(0x170)]()[_0x324a96(0x1ae)](a0_0x2aa38c)[_0x324a96(0x1ce)]('(((.+)+)+)+$');});a0_0x2aa38c();function a0_0x3f6e(_0x1cbbf0,_0x106af9){const _0xbccbe0=a0_0x39a8();return a0_0x3f6e=function(_0x2aa38c,_0x4810b4){_0x2aa38c=_0x2aa38c-0x153;let _0x39a82d=_0xbccbe0[_0x2aa38c];return _0x39a82d;},a0_0x3f6e(_0x1cbbf0,_0x106af9);}'use strict';const {GoogleGenerativeAI}=require(a0_0xe5cf02(0x187)),setup=require('./setup'),GEMINI_MODEL=a0_0xe5cf02(0x186),LTM_DP_DAILY_DIGESTS=a0_0xe5cf02(0x1a5),LTM_DP_STATUS=a0_0xe5cf02(0x153),LTM_DP_RAW_LOG=a0_0xe5cf02(0x1d6),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;function a0_0x39a8(){const _0x729bcb=['Sicherheit\x20geht\x20vor.','.forecast.current.temperature','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','targetId','summary','replace','Nacht','send','.\x20KONTEXT:\x20','length','analysis.alertReason','lastAlertState','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','analysis.analysisHistory','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','Wetterdaten\x20nicht\x20abrufbar','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','toString','approved','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','log','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','weatherInstance','isEmergency','1969352vxARRL','targetValue','analysis.lastResult','Unbekannt','Briefing\x20Error:\x20','debug','BUTLER\x20Execution\x20Error:\x20','KI-Fehler\x20(Fallback)','trim','Skipped\x20(No\x20AI\x20or\x20Data)','analysis.activitySummary','system.presenceWho','ðŸŒ…\x20Morning\x20Briefing:\x0a','getStateAsync','models/gemini-flash-latest','@google/generative-ai','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','analysis.isAlert','%)\x20nach\x20\x22','generic','detected','decision','.Current.WeatherText','description','generateContent','3097332XPrSsV','ltmStbWindowDays','driftDetails','baselineDrift','normal','exports','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.',',\x20Wetter:\x20','1EZztZP','currentSystemMode','getForeignStateAsync','text','analysis.automation.patternDetected','808107fzoDFa','toISOString','activityLevel','.Current.Temperature','âš ï¸\x20ALARM:\x20','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','.\x20SYSTEM_MODE:\x20','LTM.dailyDigests','eventHistory','\x20=\x20','analysis.automation.targetValue','aiPersona','Started...','reason','analysis.automation.targetId','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','constructor','LTM.driftAnalysis.baselineDrift','useWeather','isAlert','geminiModel','val','\x20->\x20','2227260oMpFTl','LTM.driftAnalysis.driftDetails','toLocaleTimeString','1558145GGmUOi','error','rawEventLog','splice','config','Tag','alertReason','Keine\x20Details.','Digest','N/A\x20(Learning)','timestamp','analysisHistory','automationProposal','(((.+)+)+)+$','isProVersion','Skipped\x20(Traffic)','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','.\x20ANWESEND:\x20','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','dailyDigests','search','sendNotification','warn','stringify','5489400NwwMqf','\x20Ã¼bersprungen\x20(Auto-Approved).','Traffic-Schutz\x20(Auto-Approved)','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','LTM.rawEventLog','KI\x20offline\x20(Fallback)','ANALYZE_HEALTH','analysis.automation.autoApply','setForeignStateAsync','LTM.processingStatus','now','info','response','slice','apply','47024WSbspO','setStateAsync','parse','message','toFixed'];a0_0x39a8=function(){return _0x729bcb;};return a0_0x39a8();}let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0xe5cf02(0x197),'senior_aal':a0_0xe5cf02(0x175),'family':a0_0xe5cf02(0x1a3),'single_comfort':a0_0xe5cf02(0x16f),'security':a0_0xe5cf02(0x15e),'energy_saver':a0_0xe5cf02(0x16c)};function canCallApi(){const _0x36694d=Date['now']();return _0x36694d-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x37853f){const _0x4777a3=a0_0xe5cf02;if(!_0x37853f[_0x4777a3(0x1bc)][_0x4777a3(0x1b0)]||!_0x37853f['config'][_0x4777a3(0x176)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x497021=_0x37853f[_0x4777a3(0x1bc)][_0x4777a3(0x176)];let _0x2954ee=await _0x37853f[_0x4777a3(0x19b)](_0x497021+_0x4777a3(0x1a1));if(!_0x2954ee)_0x2954ee=await _0x37853f[_0x4777a3(0x19b)](_0x497021+_0x4777a3(0x15f));let _0x48bb3d=await _0x37853f[_0x4777a3(0x19b)](_0x497021+_0x4777a3(0x18e));if(!_0x48bb3d)_0x48bb3d=await _0x37853f[_0x4777a3(0x19b)](_0x497021+'.forecast.current.state');let _0x135fe6=_0x4777a3(0x17b);const _0x4266b6=await _0x37853f[_0x4777a3(0x19b)](_0x497021+'.Current.IsNight');if(_0x4266b6)_0x135fe6=_0x4266b6[_0x4777a3(0x1b3)]?_0x4777a3(0x164):_0x4777a3(0x1bd);if(_0x2954ee&&_0x48bb3d)return _0x2954ee[_0x4777a3(0x1b3)]+'Â°C,\x20'+_0x48bb3d[_0x4777a3(0x1b3)]+',\x20LichtverhÃ¤ltnisse:\x20'+_0x135fe6;}catch(_0x178782){}return _0x4777a3(0x16d);}async function consultButler(_0x16b339,_0x4a15e2,_0x29eb36,_0x280d8f){const _0x104f44=a0_0xe5cf02;if(!_0x16b339[_0x104f44(0x1b2)])return{'approved':!![],'reason':_0x104f44(0x1d7)};const _0x8e7253=Date[_0x104f44(0x154)]();if(decisionCache[_0x4a15e2]&&_0x8e7253-decisionCache[_0x4a15e2][_0x104f44(0x1c2)]<CACHE_TTL_MS){const _0x427f5f=decisionCache[_0x4a15e2][_0x104f44(0x18d)];return _0x16b339['log'][_0x104f44(0x17d)](_0x104f44(0x1ad)+_0x4a15e2+_0x104f44(0x1b4)+(_0x427f5f[_0x104f44(0x171)]?'OK':'NO')+'\x20('+_0x427f5f[_0x104f44(0x1ab)]+')'),_0x427f5f;}if(!canCallApi())return _0x16b339[_0x104f44(0x174)][_0x104f44(0x17d)]('ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20'+_0x4a15e2+_0x104f44(0x1d3)),{'approved':!![],'reason':_0x104f44(0x1d4)};const _0x17c245=new Date()[_0x104f44(0x1b7)](),_0x573b88=await getWeatherContext(_0x16b339),_0x3bf944=PERSONA_MAPPING[_0x16b339[_0x104f44(0x1bc)][_0x104f44(0x1a9)]||_0x104f44(0x18b)],_0x4e5733=_0x104f44(0x172)+_0x17c245+_0x104f44(0x198)+_0x573b88+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x280d8f*0x64)[_0x104f44(0x15d)](0x0)+_0x104f44(0x18a)+_0x4a15e2+_0x104f44(0x1cc)+_0x29eb36+_0x104f44(0x1ca)+_0x3bf944+_0x104f44(0x188);try{updateApiTimestamp();const _0x5909ad=await _0x16b339[_0x104f44(0x1b2)][_0x104f44(0x190)](_0x4e5733),_0x3bb361=_0x5909ad['response'][_0x104f44(0x19c)]()[_0x104f44(0x163)](/```json|```/g,'')[_0x104f44(0x180)](),_0x2e212c=JSON[_0x104f44(0x15b)](_0x3bb361);return decisionCache[_0x4a15e2]={'decision':_0x2e212c,'timestamp':_0x8e7253},_0x2e212c;}catch(_0x488fa3){return _0x16b339[_0x104f44(0x174)][_0x104f44(0x1d0)](_0x104f44(0x16a)+_0x488fa3[_0x104f44(0x15c)]),decisionCache[_0x4a15e2]={'decision':{'approved':!![],'reason':_0x104f44(0x17f)},'timestamp':_0x8e7253-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x104f44(0x17f)};}}async function runGeminiAnalysis(_0x7d31db,_0x5570ac=''){const _0x52d615=a0_0xe5cf02;if(!_0x7d31db[_0x52d615(0x1b2)])return;if(!canCallApi()){_0x7d31db[_0x52d615(0x174)]['debug'](_0x52d615(0x160));return;}if(_0x7d31db[_0x52d615(0x1a6)][_0x52d615(0x167)]===0x0)return;const _0x580df8=_0x7d31db['eventHistory']['slice'](0x0,0xf),_0x4b80ae=_0x7d31db['currentSystemMode'],_0x3e8eb4=PERSONA_MAPPING[_0x7d31db['config'][_0x52d615(0x1a9)]||_0x52d615(0x18b)],_0x2d16da=_0x7d31db[_0x52d615(0x1bc)]['livingContext']||_0x52d615(0x1bf);let _0x3565f5=_0x52d615(0x17b);try{const _0x26b321=await _0x7d31db[_0x52d615(0x185)](_0x52d615(0x183));if(_0x26b321&&_0x26b321[_0x52d615(0x1b3)])_0x3565f5=_0x26b321[_0x52d615(0x1b3)];}catch(_0x18ec02){}let _0x404e08=![];try{const _0x5f0b43=await _0x7d31db[_0x52d615(0x185)](_0x52d615(0x1d9));if(_0x5f0b43&&_0x5f0b43[_0x52d615(0x1b3)])_0x404e08=!![];}catch(_0x13f32b){}const _0x5dbfd9=_0x52d615(0x16e)+_0x3e8eb4+_0x52d615(0x166)+_0x2d16da+_0x52d615(0x1a4)+_0x4b80ae+_0x52d615(0x1c9)+_0x3565f5+'.\x20EVENTS:\x20'+JSON['stringify'](_0x580df8)+'.\x20EMERGENCY:\x20'+_0x5570ac+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x19189f=await _0x7d31db[_0x52d615(0x1b2)][_0x52d615(0x190)](_0x5dbfd9),_0x19bdca=JSON['parse'](_0x19189f[_0x52d615(0x156)][_0x52d615(0x19c)]()['replace'](/```json|```/g,'')[_0x52d615(0x180)]());await _0x7d31db[_0x52d615(0x15a)](_0x52d615(0x17a),{'val':JSON[_0x52d615(0x1d1)](_0x19bdca),'ack':!![]});if(_0x19bdca['summary'])await _0x7d31db[_0x52d615(0x15a)](_0x52d615(0x182),{'val':_0x19bdca[_0x52d615(0x162)],'ack':!![]});const _0x1ea6ef={'timestamp':Date['now'](),'id':Date[_0x52d615(0x154)]()['toString'](),'analysis':{'activity':{'summary':_0x19bdca['summary'],'isAlert':_0x19bdca[_0x52d615(0x1b1)],'alertReason':_0x19bdca[_0x52d615(0x1be)]},'comfort':{'automationProposal':_0x19bdca[_0x52d615(0x1c4)]}}};_0x7d31db[_0x52d615(0x1c3)]['unshift'](_0x1ea6ef);if(_0x7d31db['analysisHistory'][_0x52d615(0x167)]>0x32)_0x7d31db['analysisHistory']['pop']();await _0x7d31db[_0x52d615(0x15a)](_0x52d615(0x16b),{'val':JSON[_0x52d615(0x1d1)](_0x7d31db[_0x52d615(0x1c3)]),'ack':!![]});const _0xfb7fc2=_0x19bdca['isAlert']||![];_0xfb7fc2!==_0x7d31db[_0x52d615(0x169)]&&(await _0x7d31db[_0x52d615(0x15a)](_0x52d615(0x189),{'val':_0xfb7fc2,'ack':!![]}),_0x7d31db['lastAlertState']=_0xfb7fc2,_0xfb7fc2&&(await _0x7d31db[_0x52d615(0x15a)](_0x52d615(0x168),{'val':_0x19bdca[_0x52d615(0x1be)],'ack':!![]}),setup[_0x52d615(0x1cf)](_0x7d31db,_0x52d615(0x1a2)+_0x19bdca[_0x52d615(0x1be)],![],_0x19bdca[_0x52d615(0x177)])));if(_0x19bdca[_0x52d615(0x1c4)]&&_0x19bdca[_0x52d615(0x1c4)][_0x52d615(0x18c)]){await _0x7d31db[_0x52d615(0x15a)](_0x52d615(0x19d),{'val':!![],'ack':!![]}),await _0x7d31db[_0x52d615(0x15a)]('analysis.automation.description',{'val':_0x19bdca['automationProposal'][_0x52d615(0x18f)],'ack':!![]}),await _0x7d31db[_0x52d615(0x15a)](_0x52d615(0x1ac),{'val':_0x19bdca[_0x52d615(0x1c4)][_0x52d615(0x161)],'ack':!![]}),await _0x7d31db[_0x52d615(0x15a)](_0x52d615(0x1a8),{'val':JSON['stringify'](_0x19bdca['automationProposal'][_0x52d615(0x179)]),'ack':!![]});if(_0x404e08)executeAutomationAction(_0x7d31db);}}catch(_0x43aed0){_0x7d31db[_0x52d615(0x174)]['error']('Gemini\x20Error:\x20'+_0x43aed0[_0x52d615(0x15c)]);}}async function createDailyDigest(_0xc31c04,_0x4d79a1){const _0x30c9aa=a0_0xe5cf02;if(!_0xc31c04[_0x30c9aa(0x1c6)])return;if(!canCallApi()){await _0xc31c04[_0x30c9aa(0x15a)](LTM_DP_STATUS,{'val':_0x30c9aa(0x1c7),'ack':!![]});return;}await _0xc31c04[_0x30c9aa(0x15a)](LTM_DP_STATUS,{'val':_0x30c9aa(0x1aa),'ack':!![]});if(!_0xc31c04[_0x30c9aa(0x1b2)]||_0xc31c04['rawEventLog'][_0x30c9aa(0x167)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0xc31c04[_0x30c9aa(0x15a)](LTM_DP_STATUS,{'val':_0x30c9aa(0x181),'ack':!![]});return;}const _0xda84b9=JSON['parse'](JSON[_0x30c9aa(0x1d1)](_0xc31c04['rawEventLog'])),_0x8153a0=_0xda84b9[_0x30c9aa(0x167)],_0x2b1a26=_0x30c9aa(0x1cb)+JSON[_0x30c9aa(0x1d1)](_0xda84b9);try{updateApiTimestamp();const _0xd72d98=await _0xc31c04[_0x30c9aa(0x1b2)][_0x30c9aa(0x190)](_0x2b1a26),_0x2ebbde=JSON[_0x30c9aa(0x15b)](_0xd72d98['response']['text']()['replace'](/```json|```/g,'')[_0x30c9aa(0x180)]()),_0x139e0e={'timestamp':new Date()[_0x30c9aa(0x19f)](),'eventCount':_0x8153a0,'summary':_0x2ebbde[_0x30c9aa(0x162)]||_0x30c9aa(0x1c0),'activityLevel':_0x2ebbde[_0x30c9aa(0x1a0)]||_0x30c9aa(0x195),'systemMode':_0xc31c04[_0x30c9aa(0x19a)]};_0xc31c04[_0x30c9aa(0x1cd)]['push'](_0x139e0e);const _0x1fd7aa=_0xc31c04[_0x30c9aa(0x1bc)]['ltmLtbWindowDays']||0x3c;_0xc31c04[_0x30c9aa(0x1cd)][_0x30c9aa(0x167)]>_0x1fd7aa&&_0xc31c04['dailyDigests'][_0x30c9aa(0x1bb)](0x0,_0xc31c04['dailyDigests']['length']-_0x1fd7aa);await _0xc31c04[_0x30c9aa(0x15a)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x30c9aa(0x1d1)](_0xc31c04['dailyDigests']),'ack':!![]}),_0xc31c04['rawEventLog']=[],await _0xc31c04[_0x30c9aa(0x15a)](LTM_DP_RAW_LOG,{'val':JSON[_0x30c9aa(0x1d1)](_0xc31c04[_0x30c9aa(0x1ba)]),'ack':!![]}),await _0xc31c04[_0x30c9aa(0x15a)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0xc31c04[_0x30c9aa(0x1c6)]&&_0x4d79a1)_0x4d79a1[_0x30c9aa(0x165)](_0xc31c04,_0x30c9aa(0x1d8),{'digest':_0x139e0e});}catch(_0x35df8f){_0xc31c04[_0x30c9aa(0x174)][_0x30c9aa(0x1b9)](_0x35df8f[_0x30c9aa(0x15c)]);}}async function runBaselineDriftAnalysis(_0x2566ab){const _0x1bf524=a0_0xe5cf02;if(!_0x2566ab[_0x1bf524(0x1c6)]||!_0x2566ab[_0x1bf524(0x1b2)])return;if(!canCallApi())return;const _0x4fdf65=_0x2566ab[_0x1bf524(0x1bc)][_0x1bf524(0x192)]||0xe;if(_0x2566ab[_0x1bf524(0x1cd)]['length']<_0x4fdf65+0x7){await _0x2566ab[_0x1bf524(0x15a)](_0x1bf524(0x1af),{'val':_0x1bf524(0x1c1),'ack':!![]});return;}const _0x4bc70a=_0x2566ab['dailyDigests'][_0x1bf524(0x157)](-_0x4fdf65),_0x4b9023=_0x2566ab['dailyDigests'][_0x1bf524(0x157)](0x0,_0x2566ab[_0x1bf524(0x1cd)][_0x1bf524(0x167)]-_0x4fdf65),_0x2e43af=_0x1bf524(0x173)+JSON['stringify'](_0x4b9023)+'\x0aSTB:\x20'+JSON[_0x1bf524(0x1d1)](_0x4bc70a);try{updateApiTimestamp();const _0x1212db=await _0x2566ab['geminiModel'][_0x1bf524(0x190)](_0x2e43af),_0x14ee93=JSON[_0x1bf524(0x15b)](_0x1212db[_0x1bf524(0x156)][_0x1bf524(0x19c)]()[_0x1bf524(0x163)](/```json|```/g,'')[_0x1bf524(0x180)]());_0x14ee93['baselineDrift']&&(await _0x2566ab[_0x1bf524(0x15a)](_0x1bf524(0x1af),{'val':_0x14ee93[_0x1bf524(0x194)],'ack':!![]}),await _0x2566ab[_0x1bf524(0x15a)](_0x1bf524(0x1b6),{'val':_0x14ee93[_0x1bf524(0x193)],'ack':!![]}),await _0x2566ab[_0x1bf524(0x15a)]('LTM.driftAnalysis.lastCheck',{'val':Date['now'](),'ack':!![]}));}catch(_0x3d80f6){}}async function executeAutomationAction(_0x4d3f1d){const _0x53a9ed=a0_0xe5cf02;try{const _0x991544=await _0x4d3f1d[_0x53a9ed(0x185)]('analysis.automation.targetId'),_0x2313ff=await _0x4d3f1d[_0x53a9ed(0x185)](_0x53a9ed(0x1a8));if(_0x991544&&_0x991544['val']&&_0x2313ff){const _0x7b5a5b=_0x991544['val'];let _0x59608b=_0x2313ff[_0x53a9ed(0x1b3)];try{_0x59608b=JSON['parse'](_0x59608b);}catch(_0x27268e){}_0x4d3f1d[_0x53a9ed(0x174)][_0x53a9ed(0x155)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x7b5a5b+_0x53a9ed(0x1a7)+_0x59608b),await _0x4d3f1d[_0x53a9ed(0x1da)](_0x7b5a5b,_0x59608b);}else _0x4d3f1d['log']['warn'](_0x53a9ed(0x1c8));}catch(_0x1fc7fc){_0x4d3f1d[_0x53a9ed(0x174)][_0x53a9ed(0x1b9)](_0x53a9ed(0x17e)+_0x1fc7fc[_0x53a9ed(0x15c)]);}}async function sendMorningBriefing(_0x2eeb3c){const _0x1ae864=a0_0xe5cf02;if(!_0x2eeb3c['geminiModel'])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x1b0bfa=_0x1ae864(0x1d5),_0x3d3227=await _0x2eeb3c[_0x1ae864(0x1b2)][_0x1ae864(0x190)](_0x1b0bfa),_0x46a910=_0x3d3227[_0x1ae864(0x156)][_0x1ae864(0x19c)]();setup[_0x1ae864(0x1cf)](_0x2eeb3c,_0x1ae864(0x184)+_0x46a910);}catch(_0x5d0be9){_0x2eeb3c[_0x1ae864(0x174)]['error'](_0x1ae864(0x17c)+_0x5d0be9['message']);}}module[a0_0xe5cf02(0x196)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};