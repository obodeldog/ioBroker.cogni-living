const a0_0x4ac8ec=a0_0x3b0d;(function(_0x2b1818,_0x56d561){const _0x15d61c=a0_0x3b0d,_0x10f5a8=_0x2b1818();while(!![]){try{const _0x2464bb=-parseInt(_0x15d61c(0xc0))/0x1*(parseInt(_0x15d61c(0x116))/0x2)+-parseInt(_0x15d61c(0xe1))/0x3*(-parseInt(_0x15d61c(0x130))/0x4)+parseInt(_0x15d61c(0xea))/0x5+-parseInt(_0x15d61c(0xd1))/0x6*(parseInt(_0x15d61c(0xad))/0x7)+-parseInt(_0x15d61c(0x113))/0x8*(parseInt(_0x15d61c(0x128))/0x9)+parseInt(_0x15d61c(0xfb))/0xa*(parseInt(_0x15d61c(0x11d))/0xb)+parseInt(_0x15d61c(0x10c))/0xc;if(_0x2464bb===_0x56d561)break;else _0x10f5a8['push'](_0x10f5a8['shift']());}catch(_0x184c43){_0x10f5a8['push'](_0x10f5a8['shift']());}}}(a0_0x13b8,0x44659));function a0_0x13b8(){const _0x3ca4bd=['response','.Current.WeatherText','656SGxmSL','toISOString','üåÖ\x20Briefing\x20generated\x20(Length:\x20','analysis.lastResult','isProVersion','.\x20SYSTEM_MODE:\x20','analysis.isAlert','weatherInstance','isAlert','\x20√ºbersprungen\x20(Auto-Approved).','7pZRdCR','¬∞C,\x20','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','analysis.automation.patternDetected','.forecast.current.temperature','Nacht','exports','aiPersona','Skipped\x20(Traffic)','search','config','\x0aAktivit√§t:\x20','(((.+)+)+)+$','LTM.driftAnalysis.lastCheck','parse','analysis.automation.targetValue','dailyDigests','apply','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','38kCFOhi','timestamp','toString','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','debug','@google/generative-ai','LTM.driftAnalysis.baselineDrift','setStateAsync','lastAlertState','toFixed','eventHistory','getStateAsync','targetId','LTM.driftAnalysis.driftDetails','\x20=\x20','üåÖ\x20Morning\x20Briefing:\x0a','system.presenceWho','2710182jEFEXG','text',',\x20Wetter:\x20','push','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.',',\x20Lichtverh√§ltnisse:\x20','automationProposal','analysis.automation.targetId','setForeignStateAsync','normal','\x20->\x20','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','decision','analysis.automation.autoApply','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','.forecast.current.state','8238LwxruK','val','replace','toLocaleTimeString','BUTLER\x20Execution\x20Error:\x20','now','sendNotification','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','Traffic-Schutz\x20(Auto-Approved)','959640juqvhi','Briefing\x20Error:\x20','üìÖ\x20Daily\x20Digest:\x0a','summary','Tag','error','message','Keine\x20Details.','\x0aSTB:\x20','ANALYZE_HEALTH','Unbekannt','analysisHistory','getForeignStateAsync','Sicherheit\x20geht\x20vor.','Digest','ü§ñ\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','3730ayqZep','Success','rawEventLog','livingContext','ü§ñ\x20Butler\x20Brain\x20Error:\x20','approved','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','description','detected','useWeather','info','log','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','üåÖ\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...',').\x20Sending\x20notification...','Wetterdaten\x20nicht\x20abrufbar','slice','8893596SeUPmI','send','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','stringify','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','.\x20KONTEXT:\x20','8bVHicF','KI-Fehler\x20(Fallback)','analysis.analysisHistory','29284nfNCFT','Unbekannt\x20(Kein\x20Sensor)','splice','generateContent','length','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','activityLevel','8492ERtGhA','warn','generic','targetValue','pop','N/A\x20(Learning)','currentSystemMode','models/gemini-flash-latest','baselineDrift','geminiModel','trim','3448035CriWzZ','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','LTM.rawEventLog','KI\x20offline\x20(Fallback)','%)\x20nach\x20\x22','alertReason'];a0_0x13b8=function(){return _0x3ca4bd;};return a0_0x13b8();}const a0_0x38ef5e=(function(){let _0x225074=!![];return function(_0x206353,_0x15e44b){const _0x26afd3=_0x225074?function(){const _0x3ec548=a0_0x3b0d;if(_0x15e44b){const _0x2ddf5b=_0x15e44b[_0x3ec548(0xbe)](_0x206353,arguments);return _0x15e44b=null,_0x2ddf5b;}}:function(){};return _0x225074=![],_0x26afd3;};}()),a0_0x1e8120=a0_0x38ef5e(this,function(){const _0x52a4c4=a0_0x3b0d;return a0_0x1e8120[_0x52a4c4(0xc2)]()[_0x52a4c4(0xb6)](_0x52a4c4(0xb9))[_0x52a4c4(0xc2)]()['constructor'](a0_0x1e8120)[_0x52a4c4(0xb6)](_0x52a4c4(0xb9));});a0_0x1e8120();'use strict';const {GoogleGenerativeAI}=require(a0_0x4ac8ec(0xc5)),setup=require('./setup'),GEMINI_MODEL=a0_0x4ac8ec(0x124),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x4ac8ec(0x12a),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x4ac8ec(0xd5),'senior_aal':'PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','family':a0_0x4ac8ec(0x101),'single_comfort':a0_0x4ac8ec(0xc3),'security':a0_0x4ac8ec(0xf7),'energy_saver':a0_0x4ac8ec(0x110)};function canCallApi(){const _0x4df55b=a0_0x4ac8ec,_0x37bbb0=Date[_0x4df55b(0xe6)]();return _0x37bbb0-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x46fd3c=a0_0x4ac8ec;lastGlobalApiCall=Date[_0x46fd3c(0xe6)]();}async function getWeatherContext(_0x1f1b10){const _0x5a9d61=a0_0x4ac8ec;if(!_0x1f1b10[_0x5a9d61(0xb7)][_0x5a9d61(0x104)]||!_0x1f1b10['config'][_0x5a9d61(0xaa)])return _0x5a9d61(0x117);try{const _0x255d26=_0x1f1b10[_0x5a9d61(0xb7)][_0x5a9d61(0xaa)];let _0x1a0df5=await _0x1f1b10['getForeignStateAsync'](_0x255d26+'.Current.Temperature');if(!_0x1a0df5)_0x1a0df5=await _0x1f1b10[_0x5a9d61(0xf6)](_0x255d26+_0x5a9d61(0xb1));let _0x169216=await _0x1f1b10['getForeignStateAsync'](_0x255d26+_0x5a9d61(0x12f));if(!_0x169216)_0x169216=await _0x1f1b10[_0x5a9d61(0xf6)](_0x255d26+_0x5a9d61(0xe0));let _0x4017f5=_0x5a9d61(0xf4);const _0x194195=await _0x1f1b10['getForeignStateAsync'](_0x255d26+'.Current.IsNight');if(_0x194195)_0x4017f5=_0x194195[_0x5a9d61(0xe2)]?_0x5a9d61(0xb2):_0x5a9d61(0xee);if(_0x1a0df5&&_0x169216)return _0x1a0df5['val']+_0x5a9d61(0xae)+_0x169216['val']+_0x5a9d61(0xd6)+_0x4017f5;}catch(_0x1db436){}return _0x5a9d61(0x10a);}async function consultButler(_0x51155e,_0x5aee9b,_0x30a2eb,_0x3b702d){const _0x161a35=a0_0x4ac8ec;if(!_0x51155e['geminiModel'])return{'approved':!![],'reason':_0x161a35(0x12b)};const _0x4c11b0=Date['now']();if(decisionCache[_0x5aee9b]&&_0x4c11b0-decisionCache[_0x5aee9b][_0x161a35(0xc1)]<CACHE_TTL_MS){const _0x253849=decisionCache[_0x5aee9b][_0x161a35(0xdd)];return _0x51155e['log'][_0x161a35(0xc4)](_0x161a35(0x11b)+_0x5aee9b+_0x161a35(0xdb)+(_0x253849[_0x161a35(0x100)]?'OK':'NO')+'\x20('+_0x253849['reason']+')'),_0x253849;}if(!canCallApi())return _0x51155e[_0x161a35(0x106)][_0x161a35(0xc4)](_0x161a35(0xfa)+_0x5aee9b+_0x161a35(0xac)),{'approved':!![],'reason':_0x161a35(0xe9)};const _0xf2e863=new Date()[_0x161a35(0xe4)](),_0x47828f=await getWeatherContext(_0x51155e),_0x198407=PERSONA_MAPPING[_0x51155e['config'][_0x161a35(0xb4)]||_0x161a35(0x11f)],_0x2801d1='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0xf2e863+_0x161a35(0xd3)+_0x47828f+_0x161a35(0x111)+(_0x3b702d*0x64)[_0x161a35(0xc9)](0x0)+_0x161a35(0x12c)+_0x5aee9b+_0x161a35(0xdc)+_0x30a2eb+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x198407+_0x161a35(0xbf);try{updateApiTimestamp();const _0x5c4253=await _0x51155e[_0x161a35(0x126)][_0x161a35(0x119)](_0x2801d1),_0x31ec48=_0x5c4253[_0x161a35(0x12e)]['text']()[_0x161a35(0xe3)](/```json|```/g,'')[_0x161a35(0x127)](),_0x50a8bb=JSON[_0x161a35(0xbb)](_0x31ec48);return decisionCache[_0x5aee9b]={'decision':_0x50a8bb,'timestamp':_0x4c11b0},_0x50a8bb;}catch(_0x4058bc){return _0x51155e['log']['warn'](_0x161a35(0xff)+_0x4058bc['message']),decisionCache[_0x5aee9b]={'decision':{'approved':!![],'reason':_0x161a35(0x114)},'timestamp':_0x4c11b0-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}async function runGeminiAnalysis(_0x6da7ff,_0x17f61d=''){const _0x507eff=a0_0x4ac8ec;if(!_0x6da7ff[_0x507eff(0x126)])return;if(!canCallApi()){_0x6da7ff[_0x507eff(0x106)]['debug'](_0x507eff(0x10e));return;}if(_0x6da7ff[_0x507eff(0xca)][_0x507eff(0x11a)]===0x0)return;const _0x1c2994=_0x6da7ff['eventHistory']['slice'](0x0,0xf),_0x201e86=_0x6da7ff[_0x507eff(0x123)],_0x4caa14=PERSONA_MAPPING[_0x6da7ff[_0x507eff(0xb7)][_0x507eff(0xb4)]||_0x507eff(0x11f)],_0x2e4e05=_0x6da7ff[_0x507eff(0xb7)][_0x507eff(0xfe)]||_0x507eff(0xf1);let _0x5074bc=_0x507eff(0xf4);try{const _0x1002ad=await _0x6da7ff[_0x507eff(0xcb)](_0x507eff(0xd0));if(_0x1002ad&&_0x1002ad[_0x507eff(0xe2)])_0x5074bc=_0x1002ad['val'];}catch(_0xc3227a){}let _0x3e23a5=![];try{const _0x51cbea=await _0x6da7ff[_0x507eff(0xcb)](_0x507eff(0xde));if(_0x51cbea&&_0x51cbea[_0x507eff(0xe2)])_0x3e23a5=!![];}catch(_0x1a8b24){}const _0x2bd26f='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x4caa14+_0x507eff(0x112)+_0x2e4e05+_0x507eff(0xa8)+_0x201e86+'.\x20ANWESEND:\x20'+_0x5074bc+'.\x20EVENTS:\x20'+JSON[_0x507eff(0x10f)](_0x1c2994)+'.\x20EMERGENCY:\x20'+_0x17f61d+_0x507eff(0xaf);try{updateApiTimestamp();const _0x3345f1=await _0x6da7ff[_0x507eff(0x126)]['generateContent'](_0x2bd26f),_0x196098=JSON[_0x507eff(0xbb)](_0x3345f1[_0x507eff(0x12e)][_0x507eff(0xd2)]()[_0x507eff(0xe3)](/```json|```/g,'')[_0x507eff(0x127)]());await _0x6da7ff[_0x507eff(0xc7)](_0x507eff(0x133),{'val':JSON[_0x507eff(0x10f)](_0x196098),'ack':!![]});if(_0x196098[_0x507eff(0xed)])await _0x6da7ff[_0x507eff(0xc7)]('analysis.activitySummary',{'val':_0x196098['summary'],'ack':!![]});const _0x260770={'timestamp':Date[_0x507eff(0xe6)](),'id':Date[_0x507eff(0xe6)]()[_0x507eff(0xc2)](),'analysis':{'activity':{'summary':_0x196098[_0x507eff(0xed)],'isAlert':_0x196098[_0x507eff(0xab)],'alertReason':_0x196098[_0x507eff(0x12d)]},'comfort':{'automationProposal':_0x196098[_0x507eff(0xd7)]}}};_0x6da7ff[_0x507eff(0xf5)]['unshift'](_0x260770);if(_0x6da7ff[_0x507eff(0xf5)]['length']>0x32)_0x6da7ff['analysisHistory'][_0x507eff(0x121)]();await _0x6da7ff[_0x507eff(0xc7)](_0x507eff(0x115),{'val':JSON[_0x507eff(0x10f)](_0x6da7ff[_0x507eff(0xf5)]),'ack':!![]});const _0x27e4f4=_0x196098[_0x507eff(0xab)]||![];_0x27e4f4!==_0x6da7ff[_0x507eff(0xc8)]&&(await _0x6da7ff['setStateAsync'](_0x507eff(0xa9),{'val':_0x27e4f4,'ack':!![]}),_0x6da7ff['lastAlertState']=_0x27e4f4,_0x27e4f4&&(await _0x6da7ff[_0x507eff(0xc7)]('analysis.alertReason',{'val':_0x196098[_0x507eff(0x12d)],'ack':!![]}),setup['sendNotification'](_0x6da7ff,'‚ö†Ô∏è\x20ALARM:\x20'+_0x196098[_0x507eff(0x12d)],![],_0x196098['isEmergency'])));if(_0x196098[_0x507eff(0xd7)]&&_0x196098[_0x507eff(0xd7)][_0x507eff(0x103)]){await _0x6da7ff[_0x507eff(0xc7)](_0x507eff(0xb0),{'val':!![],'ack':!![]}),await _0x6da7ff[_0x507eff(0xc7)]('analysis.automation.description',{'val':_0x196098[_0x507eff(0xd7)][_0x507eff(0x102)],'ack':!![]}),await _0x6da7ff[_0x507eff(0xc7)](_0x507eff(0xd8),{'val':_0x196098[_0x507eff(0xd7)][_0x507eff(0xcc)],'ack':!![]}),await _0x6da7ff[_0x507eff(0xc7)]('analysis.automation.targetValue',{'val':JSON[_0x507eff(0x10f)](_0x196098['automationProposal'][_0x507eff(0x120)]),'ack':!![]});if(_0x3e23a5)executeAutomationAction(_0x6da7ff);}}catch(_0x517e41){_0x6da7ff[_0x507eff(0x106)][_0x507eff(0xef)]('Gemini\x20Error:\x20'+_0x517e41[_0x507eff(0xf0)]);}}async function createDailyDigest(_0x5ea0a5,_0x2884ce){const _0x20bd00=a0_0x4ac8ec;if(!_0x5ea0a5['isProVersion'])return;if(!canCallApi()){await _0x5ea0a5['setStateAsync'](LTM_DP_STATUS,{'val':_0x20bd00(0xb5),'ack':!![]});return;}await _0x5ea0a5['setStateAsync'](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x5ea0a5[_0x20bd00(0x126)]||_0x5ea0a5[_0x20bd00(0xfd)][_0x20bd00(0x11a)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x5ea0a5[_0x20bd00(0xc7)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x110845=JSON[_0x20bd00(0xbb)](JSON[_0x20bd00(0x10f)](_0x5ea0a5[_0x20bd00(0xfd)])),_0x2e95dd=_0x110845[_0x20bd00(0x11a)],_0xf8d456=_0x20bd00(0xdf)+JSON[_0x20bd00(0x10f)](_0x110845);try{updateApiTimestamp();const _0x2921aa=await _0x5ea0a5['geminiModel'][_0x20bd00(0x119)](_0xf8d456),_0x1235ee=JSON[_0x20bd00(0xbb)](_0x2921aa[_0x20bd00(0x12e)][_0x20bd00(0xd2)]()[_0x20bd00(0xe3)](/```json|```/g,'')[_0x20bd00(0x127)]()),_0x6a5c31={'timestamp':new Date()[_0x20bd00(0x131)](),'eventCount':_0x2e95dd,'summary':_0x1235ee[_0x20bd00(0xed)]||_0x20bd00(0xf8),'activityLevel':_0x1235ee[_0x20bd00(0x11c)]||_0x20bd00(0xda),'systemMode':_0x5ea0a5[_0x20bd00(0x123)]};_0x5ea0a5[_0x20bd00(0xbd)][_0x20bd00(0xd4)](_0x6a5c31);const _0x3589c4=_0x5ea0a5[_0x20bd00(0xb7)]['ltmLtbWindowDays']||0x3c;_0x5ea0a5[_0x20bd00(0xbd)]['length']>_0x3589c4&&_0x5ea0a5[_0x20bd00(0xbd)][_0x20bd00(0x118)](0x0,_0x5ea0a5[_0x20bd00(0xbd)][_0x20bd00(0x11a)]-_0x3589c4);await _0x5ea0a5[_0x20bd00(0xc7)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x20bd00(0x10f)](_0x5ea0a5[_0x20bd00(0xbd)]),'ack':!![]}),_0x5ea0a5[_0x20bd00(0xfd)]=[],await _0x5ea0a5['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x20bd00(0x10f)](_0x5ea0a5[_0x20bd00(0xfd)]),'ack':!![]}),await _0x5ea0a5[_0x20bd00(0xc7)](LTM_DP_STATUS,{'val':_0x20bd00(0xfc),'ack':!![]});const _0x1ccceb=_0x20bd00(0xec)+_0x1235ee[_0x20bd00(0xed)]+_0x20bd00(0xb8)+_0x1235ee[_0x20bd00(0x11c)];setup[_0x20bd00(0xe7)](_0x5ea0a5,_0x1ccceb,![],![]);if(_0x5ea0a5[_0x20bd00(0xa7)]&&_0x2884ce)_0x2884ce[_0x20bd00(0x10d)](_0x5ea0a5,_0x20bd00(0xf3),{'digest':_0x6a5c31});}catch(_0x3fa5a0){_0x5ea0a5[_0x20bd00(0x106)][_0x20bd00(0xef)](_0x3fa5a0[_0x20bd00(0xf0)]);}}async function runBaselineDriftAnalysis(_0x16c38b){const _0x358a72=a0_0x4ac8ec;if(!_0x16c38b[_0x358a72(0xa7)]||!_0x16c38b[_0x358a72(0x126)])return;if(!canCallApi())return;const _0x321b64=_0x16c38b[_0x358a72(0xb7)]['ltmStbWindowDays']||0xe;if(_0x16c38b[_0x358a72(0xbd)][_0x358a72(0x11a)]<_0x321b64+0x7){await _0x16c38b[_0x358a72(0xc7)](_0x358a72(0xc6),{'val':_0x358a72(0x122),'ack':!![]});return;}const _0x3301a4=_0x16c38b[_0x358a72(0xbd)][_0x358a72(0x10b)](-_0x321b64),_0x47213e=_0x16c38b['dailyDigests'][_0x358a72(0x10b)](0x0,_0x16c38b[_0x358a72(0xbd)][_0x358a72(0x11a)]-_0x321b64),_0xb5832c=_0x358a72(0x129)+JSON['stringify'](_0x47213e)+_0x358a72(0xf2)+JSON[_0x358a72(0x10f)](_0x3301a4);try{updateApiTimestamp();const _0x4811e9=await _0x16c38b[_0x358a72(0x126)]['generateContent'](_0xb5832c),_0x4b3b96=JSON[_0x358a72(0xbb)](_0x4811e9[_0x358a72(0x12e)][_0x358a72(0xd2)]()[_0x358a72(0xe3)](/```json|```/g,'')[_0x358a72(0x127)]());_0x4b3b96[_0x358a72(0x125)]&&(await _0x16c38b[_0x358a72(0xc7)](_0x358a72(0xc6),{'val':_0x4b3b96['baselineDrift'],'ack':!![]}),await _0x16c38b[_0x358a72(0xc7)](_0x358a72(0xcd),{'val':_0x4b3b96['driftDetails'],'ack':!![]}),await _0x16c38b[_0x358a72(0xc7)](_0x358a72(0xba),{'val':Date[_0x358a72(0xe6)](),'ack':!![]}));}catch(_0x2f96ae){}}async function executeAutomationAction(_0x2261a0){const _0x4e3371=a0_0x4ac8ec;try{const _0x10c63d=await _0x2261a0[_0x4e3371(0xcb)]('analysis.automation.targetId'),_0x2cd73e=await _0x2261a0['getStateAsync'](_0x4e3371(0xbc));if(_0x10c63d&&_0x10c63d[_0x4e3371(0xe2)]&&_0x2cd73e){const _0x126105=_0x10c63d[_0x4e3371(0xe2)];let _0x55a23d=_0x2cd73e[_0x4e3371(0xe2)];try{_0x55a23d=JSON[_0x4e3371(0xbb)](_0x55a23d);}catch(_0x2d7bbb){}_0x2261a0[_0x4e3371(0x106)][_0x4e3371(0x105)](_0x4e3371(0x107)+_0x126105+_0x4e3371(0xce)+_0x55a23d),await _0x2261a0[_0x4e3371(0xd9)](_0x126105,_0x55a23d);}else _0x2261a0['log'][_0x4e3371(0x11e)]('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x562eb8){_0x2261a0[_0x4e3371(0x106)][_0x4e3371(0xef)](_0x4e3371(0xe5)+_0x562eb8[_0x4e3371(0xf0)]);}}function a0_0x3b0d(_0xad6aa6,_0x431a57){const _0x2897ac=a0_0x13b8();return a0_0x3b0d=function(_0x1e8120,_0x38ef5e){_0x1e8120=_0x1e8120-0xa7;let _0x13b817=_0x2897ac[_0x1e8120];return _0x13b817;},a0_0x3b0d(_0xad6aa6,_0x431a57);}async function sendMorningBriefing(_0x5a18f0){const _0x549d3a=a0_0x4ac8ec;if(!_0x5a18f0[_0x549d3a(0x126)]){_0x5a18f0[_0x549d3a(0x106)][_0x549d3a(0x11e)](_0x549d3a(0xf9));return;}_0x5a18f0['log'][_0x549d3a(0x105)](_0x549d3a(0x108));try{updateApiTimestamp();const _0x3eb8a9=_0x549d3a(0xe8),_0x45439e=await _0x5a18f0['geminiModel'][_0x549d3a(0x119)](_0x3eb8a9),_0xd57bf0=_0x45439e[_0x549d3a(0x12e)][_0x549d3a(0xd2)]();_0x5a18f0[_0x549d3a(0x106)][_0x549d3a(0x105)](_0x549d3a(0x132)+_0xd57bf0[_0x549d3a(0x11a)]+_0x549d3a(0x109)),setup[_0x549d3a(0xe7)](_0x5a18f0,_0x549d3a(0xcf)+_0xd57bf0);}catch(_0x1ca2ab){_0x5a18f0[_0x549d3a(0x106)]['error'](_0x549d3a(0xeb)+_0x1ca2ab[_0x549d3a(0xf0)]);}}module[a0_0x4ac8ec(0xb3)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};