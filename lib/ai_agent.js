const a0_0xc5e664=a0_0x279b;(function(_0x385c0,_0x3ee86d){const _0x332af7=a0_0x279b,_0x4d4866=_0x385c0();while(!![]){try{const _0x5e9df3=parseInt(_0x332af7(0x255))/0x1+parseInt(_0x332af7(0x1fb))/0x2*(parseInt(_0x332af7(0x211))/0x3)+-parseInt(_0x332af7(0x275))/0x4*(parseInt(_0x332af7(0x204))/0x5)+parseInt(_0x332af7(0x20e))/0x6+-parseInt(_0x332af7(0x217))/0x7*(parseInt(_0x332af7(0x24d))/0x8)+parseInt(_0x332af7(0x250))/0x9*(-parseInt(_0x332af7(0x249))/0xa)+-parseInt(_0x332af7(0x210))/0xb;if(_0x5e9df3===_0x3ee86d)break;else _0x4d4866['push'](_0x4d4866['shift']());}catch(_0xa391e9){_0x4d4866['push'](_0x4d4866['shift']());}}}(a0_0x12e5,0xa4d84));const a0_0x370c70=(function(){let _0x2e9a02=!![];return function(_0x4d4889,_0x5a5da6){const _0x3559b2=_0x2e9a02?function(){const _0x7542e4=a0_0x279b;if(_0x5a5da6){const _0x1ca42c=_0x5a5da6[_0x7542e4(0x26b)](_0x4d4889,arguments);return _0x5a5da6=null,_0x1ca42c;}}:function(){};return _0x2e9a02=![],_0x3559b2;};}()),a0_0x48a81b=a0_0x370c70(this,function(){const _0x1f99c4=a0_0x279b;return a0_0x48a81b[_0x1f99c4(0x24e)]()[_0x1f99c4(0x20c)]('(((.+)+)+)+$')[_0x1f99c4(0x24e)]()[_0x1f99c4(0x219)](a0_0x48a81b)[_0x1f99c4(0x20c)]('(((.+)+)+)+$');});a0_0x48a81b();'use strict';const {GoogleGenerativeAI}=require(a0_0xc5e664(0x271)),setup=require(a0_0xc5e664(0x25d)),GEMINI_MODEL=a0_0xc5e664(0x263),LTM_DP_DAILY_DIGESTS=a0_0xc5e664(0x221),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0xc5e664(0x262),'senior_aal':a0_0xc5e664(0x22a),'family':a0_0xc5e664(0x254),'single_comfort':a0_0xc5e664(0x202),'security':'Sicherheit\x20geht\x20vor.','energy_saver':a0_0xc5e664(0x20d)};function canCallApi(){const _0x5a6d4c=a0_0xc5e664,_0x315dbf=Date[_0x5a6d4c(0x213)]();return _0x315dbf-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x24647f=a0_0xc5e664;lastGlobalApiCall=Date[_0x24647f(0x213)]();}function a0_0x279b(_0x33dfee,_0x125843){const _0x219006=a0_0x12e5();return a0_0x279b=function(_0x48a81b,_0x370c70){_0x48a81b=_0x48a81b-0x1f2;let _0x12e543=_0x219006[_0x48a81b];return _0x12e543;},a0_0x279b(_0x33dfee,_0x125843);}async function getWeatherContext(_0x464297){const _0x18ba4e=a0_0xc5e664;if(!_0x464297[_0x18ba4e(0x1f8)][_0x18ba4e(0x24b)]||!_0x464297['config'][_0x18ba4e(0x22d)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x3eedf5=_0x464297['config'][_0x18ba4e(0x22d)];let _0x4174a6=await _0x464297[_0x18ba4e(0x1ff)](_0x3eedf5+_0x18ba4e(0x22c));if(!_0x4174a6)_0x4174a6=await _0x464297[_0x18ba4e(0x1ff)](_0x3eedf5+_0x18ba4e(0x1f3));let _0x41d34b=await _0x464297[_0x18ba4e(0x1ff)](_0x3eedf5+'.Current.WeatherText');if(!_0x41d34b)_0x41d34b=await _0x464297[_0x18ba4e(0x1ff)](_0x3eedf5+_0x18ba4e(0x200));let _0x5b105c='Unbekannt';const _0x153125=await _0x464297['getForeignStateAsync'](_0x3eedf5+_0x18ba4e(0x22e));if(_0x153125)_0x5b105c=_0x153125['val']?_0x18ba4e(0x222):'Tag';if(_0x4174a6&&_0x41d34b)return _0x4174a6[_0x18ba4e(0x233)]+_0x18ba4e(0x253)+_0x41d34b[_0x18ba4e(0x233)]+_0x18ba4e(0x252)+_0x5b105c;}catch(_0x30de50){}return _0x18ba4e(0x261);}async function consultButler(_0x35a18e,_0x29f57a,_0x45ace6,_0x2bcb9d){const _0x20dbc1=a0_0xc5e664;if(!_0x35a18e[_0x20dbc1(0x229)])return{'approved':!![],'reason':_0x20dbc1(0x207)};const _0x5a9319=Date[_0x20dbc1(0x213)]();if(decisionCache[_0x29f57a]&&_0x5a9319-decisionCache[_0x29f57a]['timestamp']<CACHE_TTL_MS){const _0x5c7b19=decisionCache[_0x29f57a][_0x20dbc1(0x227)];return _0x35a18e[_0x20dbc1(0x238)][_0x20dbc1(0x214)](_0x20dbc1(0x269)+_0x29f57a+_0x20dbc1(0x26e)+(_0x5c7b19[_0x20dbc1(0x215)]?'OK':'NO')+'\x20('+_0x5c7b19[_0x20dbc1(0x25c)]+')'),_0x5c7b19;}if(!canCallApi())return _0x35a18e[_0x20dbc1(0x238)][_0x20dbc1(0x214)](_0x20dbc1(0x251)+_0x29f57a+'\x20√ºbersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0x20dbc1(0x244)};const _0x21793d=new Date()[_0x20dbc1(0x209)](),_0x2a9315=await getWeatherContext(_0x35a18e),_0x596ec8=PERSONA_MAPPING[_0x35a18e[_0x20dbc1(0x1f8)][_0x20dbc1(0x21f)]||_0x20dbc1(0x218)],_0x140587='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x21793d+',\x20Wetter:\x20'+_0x2a9315+_0x20dbc1(0x206)+(_0x2bcb9d*0x64)['toFixed'](0x0)+_0x20dbc1(0x225)+_0x29f57a+_0x20dbc1(0x203)+_0x45ace6+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x596ec8+_0x20dbc1(0x235);try{updateApiTimestamp();const _0x534735=await _0x35a18e[_0x20dbc1(0x229)][_0x20dbc1(0x24a)](_0x140587),_0x50f53c=_0x534735[_0x20dbc1(0x1f4)]['text']()[_0x20dbc1(0x246)](/```json|```/g,'')[_0x20dbc1(0x220)](),_0x36c9ba=JSON[_0x20dbc1(0x266)](_0x50f53c);return decisionCache[_0x29f57a]={'decision':_0x36c9ba,'timestamp':_0x5a9319},_0x36c9ba;}catch(_0x1dd3a4){return _0x35a18e[_0x20dbc1(0x238)]['warn']('ü§ñ\x20Butler\x20Brain\x20Error:\x20'+_0x1dd3a4['message']),decisionCache[_0x29f57a]={'decision':{'approved':!![],'reason':_0x20dbc1(0x226)},'timestamp':_0x5a9319-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x20dbc1(0x226)};}}async function runGeminiAnalysis(_0x3ab1cd,_0x51233e=''){const _0x55e270=a0_0xc5e664;if(!_0x3ab1cd[_0x55e270(0x229)])return;if(!canCallApi()){_0x3ab1cd[_0x55e270(0x238)][_0x55e270(0x214)](_0x55e270(0x268));return;}if(_0x3ab1cd[_0x55e270(0x25e)]['length']===0x0)return;const _0x51b1d2=_0x3ab1cd['eventHistory'][_0x55e270(0x1f6)](0x0,0xf),_0x5c82ce=_0x3ab1cd[_0x55e270(0x26c)],_0x2265ea=PERSONA_MAPPING[_0x3ab1cd[_0x55e270(0x1f8)][_0x55e270(0x21f)]||_0x55e270(0x218)],_0x381fff=_0x3ab1cd[_0x55e270(0x1f8)][_0x55e270(0x23b)]||_0x55e270(0x257);let _0x177b2b=_0x55e270(0x228);try{const _0x4a5d19=await _0x3ab1cd[_0x55e270(0x1f7)](_0x55e270(0x1fe));if(_0x4a5d19&&_0x4a5d19['val'])_0x177b2b=_0x4a5d19[_0x55e270(0x233)];}catch(_0x3ed1c0){}let _0x9e144d=![];try{const _0x123117=await _0x3ab1cd[_0x55e270(0x1f7)](_0x55e270(0x239));if(_0x123117&&_0x123117[_0x55e270(0x233)])_0x9e144d=!![];}catch(_0x4152fe){}const _0x26ba2f=_0x55e270(0x24f)+_0x2265ea+_0x55e270(0x270)+_0x381fff+'.\x20SYSTEM_MODE:\x20'+_0x5c82ce+_0x55e270(0x243)+_0x177b2b+_0x55e270(0x242)+JSON['stringify'](_0x51b1d2)+_0x55e270(0x26d)+_0x51233e+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x1accc0=await _0x3ab1cd[_0x55e270(0x229)]['generateContent'](_0x26ba2f),_0x57d484=JSON['parse'](_0x1accc0[_0x55e270(0x1f4)]['text']()[_0x55e270(0x246)](/```json|```/g,'')[_0x55e270(0x220)]());await _0x3ab1cd[_0x55e270(0x256)](_0x55e270(0x1fd),{'val':JSON[_0x55e270(0x240)](_0x57d484),'ack':!![]});if(_0x57d484[_0x55e270(0x23e)])await _0x3ab1cd[_0x55e270(0x256)](_0x55e270(0x212),{'val':_0x57d484[_0x55e270(0x23e)],'ack':!![]});const _0x3fb6fc={'timestamp':Date['now'](),'id':Date[_0x55e270(0x213)]()[_0x55e270(0x24e)](),'analysis':{'activity':{'summary':_0x57d484[_0x55e270(0x23e)],'isAlert':_0x57d484[_0x55e270(0x22b)],'alertReason':_0x57d484['alertReason']},'comfort':{'automationProposal':_0x57d484[_0x55e270(0x205)]}}};_0x3ab1cd['analysisHistory']['unshift'](_0x3fb6fc);if(_0x3ab1cd[_0x55e270(0x259)]['length']>0x32)_0x3ab1cd[_0x55e270(0x259)][_0x55e270(0x236)]();await _0x3ab1cd[_0x55e270(0x256)](_0x55e270(0x216),{'val':JSON['stringify'](_0x3ab1cd[_0x55e270(0x259)]),'ack':!![]});const _0x30ffe9=_0x57d484['isAlert']||![];_0x30ffe9!==_0x3ab1cd[_0x55e270(0x232)]&&(await _0x3ab1cd['setStateAsync']('analysis.isAlert',{'val':_0x30ffe9,'ack':!![]}),_0x3ab1cd[_0x55e270(0x232)]=_0x30ffe9,_0x30ffe9&&(await _0x3ab1cd[_0x55e270(0x256)](_0x55e270(0x272),{'val':_0x57d484['alertReason'],'ack':!![]}),setup[_0x55e270(0x23f)](_0x3ab1cd,_0x55e270(0x1f5)+_0x57d484['alertReason'],![],_0x57d484['isEmergency'])));if(_0x57d484[_0x55e270(0x205)]&&_0x57d484[_0x55e270(0x205)][_0x55e270(0x23c)]){await _0x3ab1cd[_0x55e270(0x256)](_0x55e270(0x248),{'val':!![],'ack':!![]}),await _0x3ab1cd[_0x55e270(0x256)](_0x55e270(0x21b),{'val':_0x57d484[_0x55e270(0x205)]['description'],'ack':!![]}),await _0x3ab1cd[_0x55e270(0x256)](_0x55e270(0x21d),{'val':_0x57d484[_0x55e270(0x205)][_0x55e270(0x224)],'ack':!![]}),await _0x3ab1cd[_0x55e270(0x256)](_0x55e270(0x23d),{'val':JSON[_0x55e270(0x240)](_0x57d484['automationProposal'][_0x55e270(0x21e)]),'ack':!![]});if(_0x9e144d)executeAutomationAction(_0x3ab1cd);}}catch(_0x36b6c2){_0x3ab1cd['log'][_0x55e270(0x20f)](_0x55e270(0x23a)+_0x36b6c2[_0x55e270(0x21c)]);}}async function createDailyDigest(_0x33e604,_0x52fa56){const _0x30083d=a0_0xc5e664;if(!_0x33e604[_0x30083d(0x208)])return;if(!canCallApi()){await _0x33e604[_0x30083d(0x256)](LTM_DP_STATUS,{'val':_0x30083d(0x25f),'ack':!![]});return;}await _0x33e604[_0x30083d(0x256)](LTM_DP_STATUS,{'val':_0x30083d(0x237),'ack':!![]});if(!_0x33e604[_0x30083d(0x229)]||_0x33e604[_0x30083d(0x25b)][_0x30083d(0x201)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x33e604[_0x30083d(0x256)](LTM_DP_STATUS,{'val':_0x30083d(0x241),'ack':!![]});return;}const _0x461d2f=JSON[_0x30083d(0x266)](JSON['stringify'](_0x33e604[_0x30083d(0x25b)])),_0x5376f4=_0x461d2f[_0x30083d(0x201)],_0x555e62=_0x30083d(0x1f9)+JSON[_0x30083d(0x240)](_0x461d2f);try{updateApiTimestamp();const _0x39528c=await _0x33e604['geminiModel'][_0x30083d(0x24a)](_0x555e62),_0x2dec67=JSON[_0x30083d(0x266)](_0x39528c[_0x30083d(0x1f4)][_0x30083d(0x247)]()[_0x30083d(0x246)](/```json|```/g,'')[_0x30083d(0x220)]()),_0x9be27={'timestamp':new Date()[_0x30083d(0x273)](),'eventCount':_0x5376f4,'summary':_0x2dec67[_0x30083d(0x23e)]||_0x30083d(0x26f),'activityLevel':_0x2dec67['activityLevel']||_0x30083d(0x260),'systemMode':_0x33e604['currentSystemMode']};_0x33e604[_0x30083d(0x20b)]['push'](_0x9be27);const _0x527ce6=_0x33e604[_0x30083d(0x1f8)][_0x30083d(0x21a)]||0x3c;_0x33e604['dailyDigests'][_0x30083d(0x201)]>_0x527ce6&&_0x33e604['dailyDigests'][_0x30083d(0x223)](0x0,_0x33e604[_0x30083d(0x20b)][_0x30083d(0x201)]-_0x527ce6);await _0x33e604[_0x30083d(0x256)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x30083d(0x240)](_0x33e604[_0x30083d(0x20b)]),'ack':!![]}),_0x33e604[_0x30083d(0x25b)]=[],await _0x33e604['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x30083d(0x240)](_0x33e604[_0x30083d(0x25b)]),'ack':!![]}),await _0x33e604[_0x30083d(0x256)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x33e604[_0x30083d(0x208)]&&_0x52fa56)_0x52fa56['send'](_0x33e604,_0x30083d(0x267),{'digest':_0x9be27});}catch(_0xef1331){_0x33e604[_0x30083d(0x238)][_0x30083d(0x20f)](_0xef1331['message']);}}function a0_0x12e5(){const _0x503e33=['\x0aSTB:\x20','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','pop','Started...','log','analysis.automation.autoApply','Gemini\x20Error:\x20','livingContext','detected','analysis.automation.targetValue','summary','sendNotification','stringify','Skipped\x20(No\x20AI\x20or\x20Data)','.\x20EVENTS:\x20','.\x20ANWESEND:\x20','Traffic-Schutz\x20(Auto-Approved)','exports','replace','text','analysis.automation.patternDetected','1399550IFwfvg','generateContent','useWeather','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','184vwDRhn','toString','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','45ECGuZt','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20',',\x20Lichtverh√§ltnisse:\x20','¬∞C,\x20','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','1324543VmKwjn','setStateAsync','Keine\x20Details.','LTM.driftAnalysis.lastCheck','analysisHistory','driftDetails','rawEventLog','reason','./setup','eventHistory','Skipped\x20(Traffic)','normal','Wetterdaten\x20nicht\x20abrufbar','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','models/gemini-flash-latest','Briefing\x20Error:\x20','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','parse','ANALYZE_HEALTH','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','apply','currentSystemMode','.\x20EMERGENCY:\x20','\x20->\x20','Digest','.\x20KONTEXT:\x20','@google/generative-ai','analysis.alertReason','toISOString','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','8976QKAMIr','setForeignStateAsync','.forecast.current.temperature','response','‚ö†Ô∏è\x20ALARM:\x20','slice','getStateAsync','config','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','info','16KPvkVb','N/A\x20(Learning)','analysis.lastResult','system.presenceWho','getForeignStateAsync','.forecast.current.state','length','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','185hCyAVP','automationProposal','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','KI\x20offline\x20(Fallback)','isProVersion','toLocaleTimeString','BUTLER\x20Execution\x20Error:\x20','dailyDigests','search','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','2986764scdcMX','error','6630327IvtQEA','236682jhuuWg','analysis.activitySummary','now','debug','approved','analysis.analysisHistory','119525ROFFeL','generic','constructor','ltmLtbWindowDays','analysis.automation.description','message','analysis.automation.targetId','targetValue','aiPersona','trim','LTM.dailyDigests','Nacht','splice','targetId','%)\x20nach\x20\x22','KI-Fehler\x20(Fallback)','decision','Unbekannt','geminiModel','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','isAlert','.Current.Temperature','weatherInstance','.Current.IsNight','LTM.driftAnalysis.baselineDrift','baselineDrift','LTM.driftAnalysis.driftDetails','lastAlertState','val'];a0_0x12e5=function(){return _0x503e33;};return a0_0x12e5();}async function runBaselineDriftAnalysis(_0x574d6e){const _0x4fb49a=a0_0xc5e664;if(!_0x574d6e[_0x4fb49a(0x208)]||!_0x574d6e[_0x4fb49a(0x229)])return;if(!canCallApi())return;const _0x3451d4=_0x574d6e[_0x4fb49a(0x1f8)]['ltmStbWindowDays']||0xe;if(_0x574d6e['dailyDigests'][_0x4fb49a(0x201)]<_0x3451d4+0x7){await _0x574d6e[_0x4fb49a(0x256)](_0x4fb49a(0x22f),{'val':_0x4fb49a(0x1fc),'ack':!![]});return;}const _0x61096b=_0x574d6e['dailyDigests'][_0x4fb49a(0x1f6)](-_0x3451d4),_0x500bc3=_0x574d6e[_0x4fb49a(0x20b)][_0x4fb49a(0x1f6)](0x0,_0x574d6e[_0x4fb49a(0x20b)]['length']-_0x3451d4),_0x3f14f8=_0x4fb49a(0x24c)+JSON['stringify'](_0x500bc3)+_0x4fb49a(0x234)+JSON[_0x4fb49a(0x240)](_0x61096b);try{updateApiTimestamp();const _0x244452=await _0x574d6e['geminiModel']['generateContent'](_0x3f14f8),_0x56550e=JSON[_0x4fb49a(0x266)](_0x244452['response'][_0x4fb49a(0x247)]()[_0x4fb49a(0x246)](/```json|```/g,'')[_0x4fb49a(0x220)]());_0x56550e[_0x4fb49a(0x230)]&&(await _0x574d6e[_0x4fb49a(0x256)](_0x4fb49a(0x22f),{'val':_0x56550e['baselineDrift'],'ack':!![]}),await _0x574d6e[_0x4fb49a(0x256)](_0x4fb49a(0x231),{'val':_0x56550e[_0x4fb49a(0x25a)],'ack':!![]}),await _0x574d6e['setStateAsync'](_0x4fb49a(0x258),{'val':Date[_0x4fb49a(0x213)](),'ack':!![]}));}catch(_0x5efecc){}}async function executeAutomationAction(_0x54793f){const _0x592e80=a0_0xc5e664;try{const _0x34b207=await _0x54793f['getStateAsync'](_0x592e80(0x21d)),_0x5430bd=await _0x54793f['getStateAsync'](_0x592e80(0x23d));if(_0x34b207&&_0x34b207['val']&&_0x5430bd){const _0xfd2d61=_0x34b207[_0x592e80(0x233)];let _0x5aba01=_0x5430bd[_0x592e80(0x233)];try{_0x5aba01=JSON[_0x592e80(0x266)](_0x5aba01);}catch(_0x149377){}_0x54793f['log'][_0x592e80(0x1fa)](_0x592e80(0x26a)+_0xfd2d61+'\x20=\x20'+_0x5aba01),await _0x54793f[_0x592e80(0x1f2)](_0xfd2d61,_0x5aba01);}else _0x54793f[_0x592e80(0x238)]['warn'](_0x592e80(0x274));}catch(_0x47cdc7){_0x54793f[_0x592e80(0x238)][_0x592e80(0x20f)](_0x592e80(0x20a)+_0x47cdc7[_0x592e80(0x21c)]);}}async function sendMorningBriefing(_0x302460){const _0x3c2638=a0_0xc5e664;if(!_0x302460[_0x3c2638(0x229)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x2b3145=_0x3c2638(0x265),_0x504073=await _0x302460[_0x3c2638(0x229)]['generateContent'](_0x2b3145),_0x499ab1=_0x504073[_0x3c2638(0x1f4)][_0x3c2638(0x247)]();setup[_0x3c2638(0x23f)](_0x302460,'üåÖ\x20Morning\x20Briefing:\x0a'+_0x499ab1);}catch(_0x57c838){_0x302460[_0x3c2638(0x238)][_0x3c2638(0x20f)](_0x3c2638(0x264)+_0x57c838[_0x3c2638(0x21c)]);}}module[a0_0xc5e664(0x245)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};