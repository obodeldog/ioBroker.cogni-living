const a0_0x208ff9=a0_0x3979;(function(_0x35d915,_0x1599a0){const _0x4450fb=a0_0x3979,_0x448d7c=_0x35d915();while(!![]){try{const _0x433b3f=-parseInt(_0x4450fb(0x24f))/0x1+-parseInt(_0x4450fb(0x1fd))/0x2+parseInt(_0x4450fb(0x247))/0x3*(-parseInt(_0x4450fb(0x208))/0x4)+parseInt(_0x4450fb(0x1ee))/0x5+-parseInt(_0x4450fb(0x25c))/0x6*(-parseInt(_0x4450fb(0x248))/0x7)+parseInt(_0x4450fb(0x24c))/0x8+parseInt(_0x4450fb(0x1f2))/0x9;if(_0x433b3f===_0x1599a0)break;else _0x448d7c['push'](_0x448d7c['shift']());}catch(_0x82bf58){_0x448d7c['push'](_0x448d7c['shift']());}}}(a0_0x2a84,0x9320a));const a0_0x27c648=(function(){let _0x5c1cdd=!![];return function(_0x363c66,_0xa1db02){const _0x37620e=_0x5c1cdd?function(){const _0x30df47=a0_0x3979;if(_0xa1db02){const _0xe8d73e=_0xa1db02[_0x30df47(0x1f3)](_0x363c66,arguments);return _0xa1db02=null,_0xe8d73e;}}:function(){};return _0x5c1cdd=![],_0x37620e;};}()),a0_0x14991b=a0_0x27c648(this,function(){const _0x29970d=a0_0x3979;return a0_0x14991b[_0x29970d(0x20e)]()['search'](_0x29970d(0x21f))['toString']()['constructor'](a0_0x14991b)['search']('(((.+)+)+)+$');});a0_0x14991b();'use strict';const {GoogleGenerativeAI}=require('@google/generative-ai'),setup=require(a0_0x208ff9(0x1ff)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x208ff9(0x1fc),LTM_DP_STATUS=a0_0x208ff9(0x224),LTM_DP_RAW_LOG=a0_0x208ff9(0x214),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x208ff9(0x24d),'family':a0_0x208ff9(0x24a),'single_comfort':a0_0x208ff9(0x217),'security':a0_0x208ff9(0x259),'energy_saver':a0_0x208ff9(0x229)};function canCallApi(){const _0x361df2=a0_0x208ff9,_0x52f597=Date[_0x361df2(0x22c)]();return _0x52f597-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x404475=a0_0x208ff9;lastGlobalApiCall=Date[_0x404475(0x22c)]();}async function getWeatherContext(_0x43655b){const _0xb57e1d=a0_0x208ff9;if(!_0x43655b[_0xb57e1d(0x266)]['useWeather']||!_0x43655b[_0xb57e1d(0x266)][_0xb57e1d(0x22f)])return _0xb57e1d(0x265);try{const _0x2441dd=_0x43655b['config']['weatherInstance'];let _0x17d5f8=await _0x43655b[_0xb57e1d(0x254)](_0x2441dd+'.Current.Temperature');if(!_0x17d5f8)_0x17d5f8=await _0x43655b['getForeignStateAsync'](_0x2441dd+_0xb57e1d(0x210));let _0x26b5c9=await _0x43655b[_0xb57e1d(0x254)](_0x2441dd+_0xb57e1d(0x1f8));if(!_0x26b5c9)_0x26b5c9=await _0x43655b['getForeignStateAsync'](_0x2441dd+_0xb57e1d(0x201));let _0x5581da=_0xb57e1d(0x21c);const _0x3ba84d=await _0x43655b['getForeignStateAsync'](_0x2441dd+'.Current.IsNight');if(_0x3ba84d)_0x5581da=_0x3ba84d[_0xb57e1d(0x251)]?'Nacht':_0xb57e1d(0x243);if(_0x17d5f8&&_0x26b5c9)return _0x17d5f8[_0xb57e1d(0x251)]+_0xb57e1d(0x21e)+_0x26b5c9[_0xb57e1d(0x251)]+_0xb57e1d(0x267)+_0x5581da;}catch(_0x3f15a4){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0xb5d64a,_0x16ce96,_0x40640a,_0x1e7d62){const _0x44500a=a0_0x208ff9;if(!_0xb5d64a['geminiModel'])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x3f7989=Date['now']();if(decisionCache[_0x16ce96]&&_0x3f7989-decisionCache[_0x16ce96][_0x44500a(0x211)]<CACHE_TTL_MS){const _0x2464d=decisionCache[_0x16ce96][_0x44500a(0x1f7)];return _0xb5d64a[_0x44500a(0x21b)]['debug']('ü§ñ\x20Butler\x20Cache\x20Hit:\x20'+_0x16ce96+_0x44500a(0x218)+(_0x2464d[_0x44500a(0x1f4)]?'OK':'NO')+'\x20('+_0x2464d[_0x44500a(0x25d)]+')'),_0x2464d;}if(!canCallApi())return _0xb5d64a['log']['debug']('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x16ce96+'\x20√ºbersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0x44500a(0x204)};const _0x44c4f3=new Date()[_0x44500a(0x242)](),_0x5df4a9=await getWeatherContext(_0xb5d64a),_0x4d1cd0=PERSONA_MAPPING[_0xb5d64a[_0x44500a(0x266)][_0x44500a(0x20d)]||_0x44500a(0x209)],_0x24caca=_0x44500a(0x23e)+_0x44c4f3+_0x44500a(0x244)+_0x5df4a9+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x1e7d62*0x64)[_0x44500a(0x220)](0x0)+_0x44500a(0x212)+_0x16ce96+_0x44500a(0x22b)+_0x40640a+_0x44500a(0x241)+_0x4d1cd0+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x2f7478=await _0xb5d64a[_0x44500a(0x206)][_0x44500a(0x25e)](_0x24caca),_0x3ca13b=_0x2f7478[_0x44500a(0x233)][_0x44500a(0x238)]()['replace'](/```json|```/g,'')[_0x44500a(0x250)](),_0x522b8=JSON['parse'](_0x3ca13b);return decisionCache[_0x16ce96]={'decision':_0x522b8,'timestamp':_0x3f7989},_0x522b8;}catch(_0x110e49){return _0xb5d64a[_0x44500a(0x21b)][_0x44500a(0x260)](_0x44500a(0x23d)+_0x110e49['message']),decisionCache[_0x16ce96]={'decision':{'approved':!![],'reason':_0x44500a(0x249)},'timestamp':_0x3f7989-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x44500a(0x249)};}}async function runGeminiAnalysis(_0x460fb2,_0x2c792d=''){const _0x59ffa9=a0_0x208ff9;if(!_0x460fb2['geminiModel'])return;if(!canCallApi()){_0x460fb2['log'][_0x59ffa9(0x226)](_0x59ffa9(0x20a));return;}if(_0x460fb2[_0x59ffa9(0x207)]['length']===0x0)return;const _0x47694f=_0x460fb2['eventHistory'][_0x59ffa9(0x20b)](0x0,0xf),_0xe6dc56=_0x460fb2['currentSystemMode'],_0x2c93bf=PERSONA_MAPPING[_0x460fb2[_0x59ffa9(0x266)][_0x59ffa9(0x20d)]||_0x59ffa9(0x209)],_0x595384=_0x460fb2[_0x59ffa9(0x266)]['livingContext']||'Keine\x20Details.';let _0x570ef0=_0x59ffa9(0x21c);try{const _0x3a4acd=await _0x460fb2[_0x59ffa9(0x23b)](_0x59ffa9(0x215));if(_0x3a4acd&&_0x3a4acd[_0x59ffa9(0x251)])_0x570ef0=_0x3a4acd[_0x59ffa9(0x251)];}catch(_0x4b4c05){}let _0x3c88a3=![];try{const _0x310f44=await _0x460fb2[_0x59ffa9(0x23b)](_0x59ffa9(0x258));if(_0x310f44&&_0x310f44[_0x59ffa9(0x251)])_0x3c88a3=!![];}catch(_0x1dec63){}const _0x27f062=_0x59ffa9(0x256)+_0x2c93bf+_0x59ffa9(0x1f1)+_0x595384+_0x59ffa9(0x246)+_0xe6dc56+_0x59ffa9(0x26a)+_0x570ef0+'.\x20EVENTS:\x20'+JSON[_0x59ffa9(0x21a)](_0x47694f)+'.\x20EMERGENCY:\x20'+_0x2c792d+_0x59ffa9(0x23f);try{updateApiTimestamp();const _0x46445b=await _0x460fb2[_0x59ffa9(0x206)][_0x59ffa9(0x25e)](_0x27f062),_0x4083be=JSON[_0x59ffa9(0x227)](_0x46445b[_0x59ffa9(0x233)]['text']()['replace'](/```json|```/g,'')['trim']());await _0x460fb2['setStateAsync'](_0x59ffa9(0x205),{'val':JSON['stringify'](_0x4083be),'ack':!![]});if(_0x4083be[_0x59ffa9(0x264)])await _0x460fb2['setStateAsync']('analysis.activitySummary',{'val':_0x4083be[_0x59ffa9(0x264)],'ack':!![]});const _0x2e4965={'timestamp':Date[_0x59ffa9(0x22c)](),'id':Date[_0x59ffa9(0x22c)]()[_0x59ffa9(0x20e)](),'analysis':{'activity':{'summary':_0x4083be['summary'],'isAlert':_0x4083be[_0x59ffa9(0x24e)],'alertReason':_0x4083be['alertReason']},'comfort':{'automationProposal':_0x4083be[_0x59ffa9(0x235)]}}};_0x460fb2[_0x59ffa9(0x228)][_0x59ffa9(0x22d)](_0x2e4965);if(_0x460fb2[_0x59ffa9(0x228)][_0x59ffa9(0x253)]>0x32)_0x460fb2[_0x59ffa9(0x228)][_0x59ffa9(0x222)]();await _0x460fb2[_0x59ffa9(0x1ef)](_0x59ffa9(0x216),{'val':JSON[_0x59ffa9(0x21a)](_0x460fb2[_0x59ffa9(0x228)]),'ack':!![]});const _0x6d64e7=_0x4083be[_0x59ffa9(0x24e)]||![];_0x6d64e7!==_0x460fb2['lastAlertState']&&(await _0x460fb2[_0x59ffa9(0x1ef)](_0x59ffa9(0x213),{'val':_0x6d64e7,'ack':!![]}),_0x460fb2[_0x59ffa9(0x255)]=_0x6d64e7,_0x6d64e7&&(await _0x460fb2[_0x59ffa9(0x1ef)](_0x59ffa9(0x234),{'val':_0x4083be['alertReason'],'ack':!![]}),setup[_0x59ffa9(0x236)](_0x460fb2,_0x59ffa9(0x1fe)+_0x4083be[_0x59ffa9(0x1fa)],![],_0x4083be[_0x59ffa9(0x268)])));if(_0x4083be[_0x59ffa9(0x235)]&&_0x4083be[_0x59ffa9(0x235)]['detected']){await _0x460fb2[_0x59ffa9(0x1ef)](_0x59ffa9(0x237),{'val':!![],'ack':!![]}),await _0x460fb2[_0x59ffa9(0x1ef)](_0x59ffa9(0x25f),{'val':_0x4083be[_0x59ffa9(0x235)]['description'],'ack':!![]}),await _0x460fb2[_0x59ffa9(0x1ef)]('analysis.automation.targetId',{'val':_0x4083be[_0x59ffa9(0x235)][_0x59ffa9(0x219)],'ack':!![]}),await _0x460fb2['setStateAsync'](_0x59ffa9(0x20f),{'val':JSON[_0x59ffa9(0x21a)](_0x4083be[_0x59ffa9(0x235)]['targetValue']),'ack':!![]});if(_0x3c88a3)executeAutomationAction(_0x460fb2);}}catch(_0x4fdf70){_0x460fb2['log'][_0x59ffa9(0x22e)](_0x59ffa9(0x20c)+_0x4fdf70[_0x59ffa9(0x1fb)]);}}async function createDailyDigest(_0x24be5f,_0x2940e3){const _0x2002c0=a0_0x208ff9;if(!_0x24be5f[_0x2002c0(0x200)])return;if(!canCallApi()){await _0x24be5f[_0x2002c0(0x1ef)](LTM_DP_STATUS,{'val':_0x2002c0(0x261),'ack':!![]});return;}await _0x24be5f['setStateAsync'](LTM_DP_STATUS,{'val':_0x2002c0(0x25b),'ack':!![]});if(!_0x24be5f[_0x2002c0(0x206)]||_0x24be5f[_0x2002c0(0x257)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x24be5f[_0x2002c0(0x1ef)](LTM_DP_STATUS,{'val':_0x2002c0(0x245),'ack':!![]});return;}const _0x313fb2=JSON['parse'](JSON['stringify'](_0x24be5f['rawEventLog'])),_0x15ad95=_0x313fb2[_0x2002c0(0x253)],_0x530d6b=_0x2002c0(0x262)+JSON[_0x2002c0(0x21a)](_0x313fb2);try{updateApiTimestamp();const _0x8d4c9b=await _0x24be5f[_0x2002c0(0x206)][_0x2002c0(0x25e)](_0x530d6b),_0x120ec4=JSON[_0x2002c0(0x227)](_0x8d4c9b[_0x2002c0(0x233)]['text']()[_0x2002c0(0x269)](/```json|```/g,'')[_0x2002c0(0x250)]()),_0x4fdeae={'timestamp':new Date()[_0x2002c0(0x23a)](),'eventCount':_0x15ad95,'summary':_0x120ec4[_0x2002c0(0x264)]||_0x2002c0(0x21d),'activityLevel':_0x120ec4['activityLevel']||_0x2002c0(0x25a),'systemMode':_0x24be5f[_0x2002c0(0x252)]};_0x24be5f['dailyDigests'][_0x2002c0(0x230)](_0x4fdeae);const _0x34bb58=_0x24be5f[_0x2002c0(0x266)][_0x2002c0(0x24b)]||0x3c;_0x24be5f['dailyDigests'][_0x2002c0(0x253)]>_0x34bb58&&_0x24be5f[_0x2002c0(0x202)][_0x2002c0(0x240)](0x0,_0x24be5f['dailyDigests']['length']-_0x34bb58);await _0x24be5f[_0x2002c0(0x1ef)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x2002c0(0x21a)](_0x24be5f['dailyDigests']),'ack':!![]}),_0x24be5f[_0x2002c0(0x257)]=[],await _0x24be5f[_0x2002c0(0x1ef)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x24be5f[_0x2002c0(0x257)]),'ack':!![]}),await _0x24be5f[_0x2002c0(0x1ef)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x24be5f['isProVersion']&&_0x2940e3)_0x2940e3[_0x2002c0(0x221)](_0x24be5f,_0x2002c0(0x232),{'digest':_0x4fdeae});}catch(_0x3a0d5f){_0x24be5f[_0x2002c0(0x21b)][_0x2002c0(0x22e)](_0x3a0d5f['message']);}}function a0_0x2a84(){const _0x471559=['ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','Traffic-Schutz\x20(Auto-Approved)','analysis.lastResult','geminiModel','eventHistory','630984XWctnJ','generic','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','slice','Gemini\x20Error:\x20','aiPersona','toString','analysis.automation.targetValue','.forecast.current.temperature','timestamp','%)\x20nach\x20\x22','analysis.isAlert','LTM.rawEventLog','system.presenceWho','analysis.analysisHistory','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','\x20->\x20','targetId','stringify','log','Unbekannt','Digest','¬∞C,\x20','(((.+)+)+)+$','toFixed','send','pop','exports','LTM.processingStatus','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','debug','parse','analysisHistory','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','Briefing\x20Error:\x20','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','now','unshift','error','weatherInstance','push','baselineDrift','ANALYZE_HEALTH','response','analysis.alertReason','automationProposal','sendNotification','analysis.automation.patternDetected','text','N/A\x20(Learning)','toISOString','getStateAsync','analysis.automation.targetId','ü§ñ\x20Butler\x20Brain\x20Error:\x20','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','splice','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','toLocaleTimeString','Tag',',\x20Wetter:\x20','Skipped\x20(No\x20AI\x20or\x20Data)','.\x20SYSTEM_MODE:\x20','3VAlOaG','1526DJqFir','KI-Fehler\x20(Fallback)','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','ltmLtbWindowDays','3014224bfsVMS','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','isAlert','740759IIFOXH','trim','val','currentSystemMode','length','getForeignStateAsync','lastAlertState','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','rawEventLog','analysis.automation.autoApply','Sicherheit\x20geht\x20vor.','normal','Started...','29946QRChjo','reason','generateContent','analysis.automation.description','warn','Skipped\x20(Traffic)','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','\x0aSTB:\x20','summary','Unbekannt\x20(Kein\x20Sensor)','config',',\x20Lichtverh√§ltnisse:\x20','isEmergency','replace','.\x20ANWESEND:\x20','3656225PEbtsq','setStateAsync','BUTLER\x20Execution\x20Error:\x20','.\x20KONTEXT:\x20','1998252qGkJqD','apply','approved','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','LTM.driftAnalysis.baselineDrift','decision','.Current.WeatherText','info','alertReason','message','LTM.dailyDigests','1833900clDjrM','‚ö†Ô∏è\x20ALARM:\x20','./setup','isProVersion','.forecast.current.state','dailyDigests'];a0_0x2a84=function(){return _0x471559;};return a0_0x2a84();}async function runBaselineDriftAnalysis(_0x493445){const _0x24bdc1=a0_0x208ff9;if(!_0x493445[_0x24bdc1(0x200)]||!_0x493445[_0x24bdc1(0x206)])return;if(!canCallApi())return;const _0x5e0dd1=_0x493445['config']['ltmStbWindowDays']||0xe;if(_0x493445[_0x24bdc1(0x202)]['length']<_0x5e0dd1+0x7){await _0x493445['setStateAsync'](_0x24bdc1(0x1f6),{'val':_0x24bdc1(0x239),'ack':!![]});return;}const _0x5d07cd=_0x493445['dailyDigests']['slice'](-_0x5e0dd1),_0x2442e4=_0x493445[_0x24bdc1(0x202)]['slice'](0x0,_0x493445['dailyDigests'][_0x24bdc1(0x253)]-_0x5e0dd1),_0x3dbf09=_0x24bdc1(0x225)+JSON['stringify'](_0x2442e4)+_0x24bdc1(0x263)+JSON['stringify'](_0x5d07cd);try{updateApiTimestamp();const _0x45242c=await _0x493445['geminiModel']['generateContent'](_0x3dbf09),_0x456b40=JSON[_0x24bdc1(0x227)](_0x45242c['response'][_0x24bdc1(0x238)]()[_0x24bdc1(0x269)](/```json|```/g,'')['trim']());_0x456b40['baselineDrift']&&(await _0x493445[_0x24bdc1(0x1ef)](_0x24bdc1(0x1f6),{'val':_0x456b40[_0x24bdc1(0x231)],'ack':!![]}),await _0x493445[_0x24bdc1(0x1ef)]('LTM.driftAnalysis.driftDetails',{'val':_0x456b40['driftDetails'],'ack':!![]}),await _0x493445[_0x24bdc1(0x1ef)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x24bdc1(0x22c)](),'ack':!![]}));}catch(_0x1dd9ac){}}async function executeAutomationAction(_0x3a22e6){const _0x3c4844=a0_0x208ff9;try{const _0x5a1221=await _0x3a22e6['getStateAsync'](_0x3c4844(0x23c)),_0x518624=await _0x3a22e6[_0x3c4844(0x23b)]('analysis.automation.targetValue');if(_0x5a1221&&_0x5a1221['val']&&_0x518624){const _0x5d452c=_0x5a1221[_0x3c4844(0x251)];let _0x5d335f=_0x518624['val'];try{_0x5d335f=JSON[_0x3c4844(0x227)](_0x5d335f);}catch(_0x55d119){}_0x3a22e6[_0x3c4844(0x21b)][_0x3c4844(0x1f9)]('ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x5d452c+'\x20=\x20'+_0x5d335f),await _0x3a22e6['setForeignStateAsync'](_0x5d452c,_0x5d335f);}else _0x3a22e6['log']['warn'](_0x3c4844(0x203));}catch(_0x14a2c4){_0x3a22e6[_0x3c4844(0x21b)][_0x3c4844(0x22e)](_0x3c4844(0x1f0)+_0x14a2c4['message']);}}function a0_0x3979(_0xd50bb,_0x449dbd){const _0x37ee09=a0_0x2a84();return a0_0x3979=function(_0x14991b,_0x27c648){_0x14991b=_0x14991b-0x1ee;let _0x2a84c1=_0x37ee09[_0x14991b];return _0x2a84c1;},a0_0x3979(_0xd50bb,_0x449dbd);}async function sendMorningBriefing(_0x1f2eb4){const _0xdda19e=a0_0x208ff9;if(!_0x1f2eb4['geminiModel'])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x45d43e=_0xdda19e(0x1f5),_0x42af8e=await _0x1f2eb4[_0xdda19e(0x206)][_0xdda19e(0x25e)](_0x45d43e),_0x2da9a7=_0x42af8e['response']['text']();setup[_0xdda19e(0x236)](_0x1f2eb4,'üåÖ\x20Morning\x20Briefing:\x0a'+_0x2da9a7);}catch(_0x1db9e9){_0x1f2eb4[_0xdda19e(0x21b)][_0xdda19e(0x22e)](_0xdda19e(0x22a)+_0x1db9e9[_0xdda19e(0x1fb)]);}}module[a0_0x208ff9(0x223)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};