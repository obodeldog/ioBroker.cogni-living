const a0_0x4d3b62=a0_0x11f3;(function(_0xcc0261,_0x5c4137){const _0x59f781=a0_0x11f3,_0x250708=_0xcc0261();while(!![]){try{const _0x4f1ceb=-parseInt(_0x59f781(0x10f))/0x1+-parseInt(_0x59f781(0x149))/0x2+parseInt(_0x59f781(0x15e))/0x3*(-parseInt(_0x59f781(0x12b))/0x4)+-parseInt(_0x59f781(0xf3))/0x5*(parseInt(_0x59f781(0x10c))/0x6)+parseInt(_0x59f781(0x12f))/0x7+parseInt(_0x59f781(0x141))/0x8*(parseInt(_0x59f781(0xf1))/0x9)+-parseInt(_0x59f781(0xe5))/0xa*(-parseInt(_0x59f781(0x15d))/0xb);if(_0x4f1ceb===_0x5c4137)break;else _0x250708['push'](_0x250708['shift']());}catch(_0x1c7e22){_0x250708['push'](_0x250708['shift']());}}}(a0_0x273d,0xbd31c));const a0_0x562f22=(function(){let _0x5c745a=!![];return function(_0x244cb8,_0x26b996){const _0x1921d6=_0x5c745a?function(){const _0x564453=a0_0x11f3;if(_0x26b996){const _0x822d3c=_0x26b996[_0x564453(0x121)](_0x244cb8,arguments);return _0x26b996=null,_0x822d3c;}}:function(){};return _0x5c745a=![],_0x1921d6;};}()),a0_0x266fbe=a0_0x562f22(this,function(){const _0x5ad5c6=a0_0x11f3;return a0_0x266fbe['toString']()[_0x5ad5c6(0x14d)](_0x5ad5c6(0xec))['toString']()[_0x5ad5c6(0x12e)](a0_0x266fbe)[_0x5ad5c6(0x14d)](_0x5ad5c6(0xec));});function a0_0x11f3(_0x6c3f34,_0x8166f7){const _0x58f050=a0_0x273d();return a0_0x11f3=function(_0x266fbe,_0x562f22){_0x266fbe=_0x266fbe-0xe4;let _0x273d83=_0x58f050[_0x266fbe];return _0x273d83;},a0_0x11f3(_0x6c3f34,_0x8166f7);}a0_0x266fbe();'use strict';const {GoogleGenerativeAI}=require(a0_0x4d3b62(0x124)),setup=require(a0_0x4d3b62(0x106)),GEMINI_MODEL=a0_0x4d3b62(0xe7),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x4d3b62(0x119),LTM_DP_RAW_LOG=a0_0x4d3b62(0x14b),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x4d3b62(0x14c),'senior_aal':a0_0x4d3b62(0x161),'family':a0_0x4d3b62(0x165),'single_comfort':a0_0x4d3b62(0x137),'security':a0_0x4d3b62(0x12a),'energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x86c178=a0_0x4d3b62,_0x3226f3=Date[_0x86c178(0xea)]();return _0x3226f3-lastGlobalApiCall>MIN_API_GAP_MS;}function a0_0x273d(){const _0x16e953=['LTM.rawEventLog','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','search','geminiModel','Gemini\x20Error:\x20','automationProposal','parse','getStateAsync','.Current.Temperature','setStateAsync','Success','isAlert','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','.\x20ANWESEND:\x20','generateContent','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','config','KI-Fehler\x20(Fallback)','22XbGDFV','1174263GcCNzT','stringify','analysis.automation.patternDetected','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','.forecast.current.state','detected','isProVersion','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','normal','12203770XXMuJX','Unbekannt','models/gemini-flash-latest','Unbekannt\x20(Kein\x20Sensor)','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','now','getForeignStateAsync','(((.+)+)+)+$','\x20=\x20','text','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','weatherInstance','22257OaRbQr','analysis.automation.targetValue','25485dXxmgU','info','lastAlertState','Digest','splice','driftDetails','activityLevel','currentSystemMode','sendNotification','LTM.driftAnalysis.lastCheck','analysis.automation.description','LTM.driftAnalysis.driftDetails','toFixed','message','Traffic-Schutz\x20(Auto-Approved)','analysis.analysisHistory','val','replace','timestamp','./setup','targetId','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','\x0aSTB:\x20','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','warn','1746RzXWnD','slice','toString','353522hUuEWz','useWeather','description','âš ï¸\x20ALARM:\x20','Â°C,\x20','generic','Nacht','approved','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20',',\x20LichtverhÃ¤ltnisse:\x20','LTM.processingStatus','debug','analysis.isAlert','\x20Ã¼bersprungen\x20(Auto-Approved).','trim','.forecast.current.temperature','analysis.automation.targetId','%)\x20nach\x20\x22','apply','exports','N/A\x20(Learning)','@google/generative-ai','toLocaleTimeString','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','length','Skipped\x20(Traffic)','Briefing\x20Error:\x20','Sicherheit\x20geht\x20vor.','8NZtDyi','unshift','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','constructor','2748718DDUVIm','error','aiPersona','toISOString','alertReason','log','baselineDrift','\x20->\x20','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','.\x20SYSTEM_MODE:\x20','analysisHistory','summary','.\x20EMERGENCY:\x20','analysis.alertReason','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','rawEventLog','Keine\x20Details.','Started...','4584uknWPs','ANALYZE_HEALTH','.Current.WeatherText','response','dailyDigests','livingContext','ðŸŒ…\x20Morning\x20Briefing:\x0a','decision','1711852FEcexP','system.presenceWho'];a0_0x273d=function(){return _0x16e953;};return a0_0x273d();}function updateApiTimestamp(){const _0x516cb5=a0_0x4d3b62;lastGlobalApiCall=Date[_0x516cb5(0xea)]();}async function getWeatherContext(_0x515871){const _0x1d9a57=a0_0x4d3b62;if(!_0x515871[_0x1d9a57(0x15b)][_0x1d9a57(0x110)]||!_0x515871[_0x1d9a57(0x15b)][_0x1d9a57(0xf0)])return _0x1d9a57(0xe8);try{const _0x450408=_0x515871[_0x1d9a57(0x15b)][_0x1d9a57(0xf0)];let _0x574f8c=await _0x515871[_0x1d9a57(0xeb)](_0x450408+_0x1d9a57(0x153));if(!_0x574f8c)_0x574f8c=await _0x515871['getForeignStateAsync'](_0x450408+_0x1d9a57(0x11e));let _0x1f4e5a=await _0x515871[_0x1d9a57(0xeb)](_0x450408+_0x1d9a57(0x143));if(!_0x1f4e5a)_0x1f4e5a=await _0x515871[_0x1d9a57(0xeb)](_0x450408+_0x1d9a57(0x162));let _0x85500d=_0x1d9a57(0xe6);const _0x2d49be=await _0x515871['getForeignStateAsync'](_0x450408+'.Current.IsNight');if(_0x2d49be)_0x85500d=_0x2d49be[_0x1d9a57(0x103)]?_0x1d9a57(0x115):'Tag';if(_0x574f8c&&_0x1f4e5a)return _0x574f8c[_0x1d9a57(0x103)]+_0x1d9a57(0x113)+_0x1f4e5a['val']+_0x1d9a57(0x118)+_0x85500d;}catch(_0x937f86){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x17f1e9,_0x4009fb,_0x2ac3b7,_0x2d5c25){const _0x137397=a0_0x4d3b62;if(!_0x17f1e9[_0x137397(0x14e)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x6857e3=Date[_0x137397(0xea)]();if(decisionCache[_0x4009fb]&&_0x6857e3-decisionCache[_0x4009fb][_0x137397(0x105)]<CACHE_TTL_MS){const _0xbb2420=decisionCache[_0x4009fb][_0x137397(0x148)];return _0x17f1e9[_0x137397(0x134)]['debug'](_0x137397(0xe9)+_0x4009fb+_0x137397(0x136)+(_0xbb2420[_0x137397(0x116)]?'OK':'NO')+'\x20('+_0xbb2420['reason']+')'),_0xbb2420;}if(!canCallApi())return _0x17f1e9[_0x137397(0x134)][_0x137397(0x11a)]('ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20'+_0x4009fb+_0x137397(0x11c)),{'approved':!![],'reason':_0x137397(0x101)};const _0x73f6ba=new Date()[_0x137397(0x125)](),_0x5c0904=await getWeatherContext(_0x17f1e9),_0x43278f=PERSONA_MAPPING[_0x17f1e9[_0x137397(0x15b)][_0x137397(0x131)]||_0x137397(0x114)],_0x12dd1d=_0x137397(0x12d)+_0x73f6ba+',\x20Wetter:\x20'+_0x5c0904+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x2d5c25*0x64)[_0x137397(0xff)](0x0)+_0x137397(0x120)+_0x4009fb+_0x137397(0x108)+_0x2ac3b7+_0x137397(0x117)+_0x43278f+_0x137397(0x157);try{updateApiTimestamp();const _0x1c511e=await _0x17f1e9[_0x137397(0x14e)]['generateContent'](_0x12dd1d),_0x27b4c3=_0x1c511e[_0x137397(0x144)][_0x137397(0xee)]()[_0x137397(0x104)](/```json|```/g,'')[_0x137397(0x11d)](),_0x487cf8=JSON['parse'](_0x27b4c3);return decisionCache[_0x4009fb]={'decision':_0x487cf8,'timestamp':_0x6857e3},_0x487cf8;}catch(_0x38a6bc){return _0x17f1e9[_0x137397(0x134)][_0x137397(0x10b)](_0x137397(0x13d)+_0x38a6bc[_0x137397(0x100)]),decisionCache[_0x4009fb]={'decision':{'approved':!![],'reason':_0x137397(0x15c)},'timestamp':_0x6857e3-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x137397(0x15c)};}}async function runGeminiAnalysis(_0x33df99,_0x82632b=''){const _0x3b4b09=a0_0x4d3b62;if(!_0x33df99[_0x3b4b09(0x14e)])return;if(!canCallApi()){_0x33df99[_0x3b4b09(0x134)][_0x3b4b09(0x11a)]('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x33df99['eventHistory'][_0x3b4b09(0x127)]===0x0)return;const _0x30af0f=_0x33df99['eventHistory'][_0x3b4b09(0x10d)](0x0,0xf),_0x398922=_0x33df99[_0x3b4b09(0xfa)],_0x57bcde=PERSONA_MAPPING[_0x33df99['config'][_0x3b4b09(0x131)]||_0x3b4b09(0x114)],_0x5118e0=_0x33df99[_0x3b4b09(0x15b)][_0x3b4b09(0x146)]||_0x3b4b09(0x13f);let _0xd5108=_0x3b4b09(0xe6);try{const _0x23cb87=await _0x33df99['getStateAsync'](_0x3b4b09(0x14a));if(_0x23cb87&&_0x23cb87[_0x3b4b09(0x103)])_0xd5108=_0x23cb87[_0x3b4b09(0x103)];}catch(_0x246c42){}let _0x3877b0=![];try{const _0x2b619a=await _0x33df99[_0x3b4b09(0x152)]('analysis.automation.autoApply');if(_0x2b619a&&_0x2b619a[_0x3b4b09(0x103)])_0x3877b0=!![];}catch(_0x498a5c){}const _0x251a46=_0x3b4b09(0x10a)+_0x57bcde+'.\x20KONTEXT:\x20'+_0x5118e0+_0x3b4b09(0x138)+_0x398922+_0x3b4b09(0x158)+_0xd5108+'.\x20EVENTS:\x20'+JSON[_0x3b4b09(0x15f)](_0x30af0f)+_0x3b4b09(0x13b)+_0x82632b+_0x3b4b09(0x15a);try{updateApiTimestamp();const _0x5c87b6=await _0x33df99['geminiModel'][_0x3b4b09(0x159)](_0x251a46),_0x255739=JSON[_0x3b4b09(0x151)](_0x5c87b6[_0x3b4b09(0x144)][_0x3b4b09(0xee)]()[_0x3b4b09(0x104)](/```json|```/g,'')['trim']());await _0x33df99[_0x3b4b09(0x154)]('analysis.lastResult',{'val':JSON[_0x3b4b09(0x15f)](_0x255739),'ack':!![]});if(_0x255739[_0x3b4b09(0x13a)])await _0x33df99[_0x3b4b09(0x154)]('analysis.activitySummary',{'val':_0x255739[_0x3b4b09(0x13a)],'ack':!![]});const _0x580dfd={'timestamp':Date[_0x3b4b09(0xea)](),'id':Date[_0x3b4b09(0xea)]()[_0x3b4b09(0x10e)](),'analysis':{'activity':{'summary':_0x255739[_0x3b4b09(0x13a)],'isAlert':_0x255739['isAlert'],'alertReason':_0x255739[_0x3b4b09(0x133)]},'comfort':{'automationProposal':_0x255739['automationProposal']}}};_0x33df99[_0x3b4b09(0x139)][_0x3b4b09(0x12c)](_0x580dfd);if(_0x33df99['analysisHistory'][_0x3b4b09(0x127)]>0x32)_0x33df99[_0x3b4b09(0x139)]['pop']();await _0x33df99[_0x3b4b09(0x154)](_0x3b4b09(0x102),{'val':JSON[_0x3b4b09(0x15f)](_0x33df99['analysisHistory']),'ack':!![]});const _0x50988b=_0x255739[_0x3b4b09(0x156)]||![];_0x50988b!==_0x33df99[_0x3b4b09(0xf5)]&&(await _0x33df99[_0x3b4b09(0x154)](_0x3b4b09(0x11b),{'val':_0x50988b,'ack':!![]}),_0x33df99[_0x3b4b09(0xf5)]=_0x50988b,_0x50988b&&(await _0x33df99[_0x3b4b09(0x154)](_0x3b4b09(0x13c),{'val':_0x255739['alertReason'],'ack':!![]}),setup[_0x3b4b09(0xfb)](_0x33df99,_0x3b4b09(0x112)+_0x255739['alertReason'],![],_0x255739['isEmergency'])));if(_0x255739['automationProposal']&&_0x255739[_0x3b4b09(0x150)][_0x3b4b09(0x163)]){await _0x33df99[_0x3b4b09(0x154)](_0x3b4b09(0x160),{'val':!![],'ack':!![]}),await _0x33df99[_0x3b4b09(0x154)](_0x3b4b09(0xfd),{'val':_0x255739['automationProposal'][_0x3b4b09(0x111)],'ack':!![]}),await _0x33df99['setStateAsync'](_0x3b4b09(0x11f),{'val':_0x255739['automationProposal'][_0x3b4b09(0x107)],'ack':!![]}),await _0x33df99['setStateAsync']('analysis.automation.targetValue',{'val':JSON[_0x3b4b09(0x15f)](_0x255739[_0x3b4b09(0x150)]['targetValue']),'ack':!![]});if(_0x3877b0)executeAutomationAction(_0x33df99);}}catch(_0x223712){_0x33df99[_0x3b4b09(0x134)]['error'](_0x3b4b09(0x14f)+_0x223712[_0x3b4b09(0x100)]);}}async function createDailyDigest(_0x2946ca,_0x19bd96){const _0x450641=a0_0x4d3b62;if(!_0x2946ca[_0x450641(0x164)])return;if(!canCallApi()){await _0x2946ca[_0x450641(0x154)](LTM_DP_STATUS,{'val':_0x450641(0x128),'ack':!![]});return;}await _0x2946ca[_0x450641(0x154)](LTM_DP_STATUS,{'val':_0x450641(0x140),'ack':!![]});if(!_0x2946ca[_0x450641(0x14e)]||_0x2946ca[_0x450641(0x13e)][_0x450641(0x127)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x2946ca[_0x450641(0x154)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x50767e=JSON[_0x450641(0x151)](JSON[_0x450641(0x15f)](_0x2946ca[_0x450641(0x13e)])),_0x360b89=_0x50767e['length'],_0x42dfd7=_0x450641(0x126)+JSON['stringify'](_0x50767e);try{updateApiTimestamp();const _0x2ada3b=await _0x2946ca[_0x450641(0x14e)][_0x450641(0x159)](_0x42dfd7),_0x3ac271=JSON[_0x450641(0x151)](_0x2ada3b['response']['text']()[_0x450641(0x104)](/```json|```/g,'')[_0x450641(0x11d)]()),_0xe9d136={'timestamp':new Date()[_0x450641(0x132)](),'eventCount':_0x360b89,'summary':_0x3ac271['summary']||_0x450641(0xf6),'activityLevel':_0x3ac271[_0x450641(0xf9)]||_0x450641(0xe4),'systemMode':_0x2946ca[_0x450641(0xfa)]};_0x2946ca[_0x450641(0x145)]['push'](_0xe9d136);const _0x36e189=_0x2946ca[_0x450641(0x15b)]['ltmLtbWindowDays']||0x3c;_0x2946ca['dailyDigests'][_0x450641(0x127)]>_0x36e189&&_0x2946ca[_0x450641(0x145)][_0x450641(0xf7)](0x0,_0x2946ca['dailyDigests'][_0x450641(0x127)]-_0x36e189);await _0x2946ca[_0x450641(0x154)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x2946ca[_0x450641(0x145)]),'ack':!![]}),_0x2946ca[_0x450641(0x13e)]=[],await _0x2946ca[_0x450641(0x154)](LTM_DP_RAW_LOG,{'val':JSON[_0x450641(0x15f)](_0x2946ca[_0x450641(0x13e)]),'ack':!![]}),await _0x2946ca[_0x450641(0x154)](LTM_DP_STATUS,{'val':_0x450641(0x155),'ack':!![]});if(_0x2946ca[_0x450641(0x164)]&&_0x19bd96)_0x19bd96['send'](_0x2946ca,_0x450641(0x142),{'digest':_0xe9d136});}catch(_0x5a91b0){_0x2946ca[_0x450641(0x134)][_0x450641(0x130)](_0x5a91b0['message']);}}async function runBaselineDriftAnalysis(_0x1c9bff){const _0x956d4a=a0_0x4d3b62;if(!_0x1c9bff[_0x956d4a(0x164)]||!_0x1c9bff[_0x956d4a(0x14e)])return;if(!canCallApi())return;const _0x568dde=_0x1c9bff[_0x956d4a(0x15b)]['ltmStbWindowDays']||0xe;if(_0x1c9bff['dailyDigests']['length']<_0x568dde+0x7){await _0x1c9bff[_0x956d4a(0x154)]('LTM.driftAnalysis.baselineDrift',{'val':_0x956d4a(0x123),'ack':!![]});return;}const _0x5a4f5d=_0x1c9bff[_0x956d4a(0x145)][_0x956d4a(0x10d)](-_0x568dde),_0x517ded=_0x1c9bff[_0x956d4a(0x145)][_0x956d4a(0x10d)](0x0,_0x1c9bff[_0x956d4a(0x145)]['length']-_0x568dde),_0x9a49b6='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x956d4a(0x15f)](_0x517ded)+_0x956d4a(0x109)+JSON[_0x956d4a(0x15f)](_0x5a4f5d);try{updateApiTimestamp();const _0x1ee86e=await _0x1c9bff['geminiModel'][_0x956d4a(0x159)](_0x9a49b6),_0x1d83df=JSON[_0x956d4a(0x151)](_0x1ee86e[_0x956d4a(0x144)][_0x956d4a(0xee)]()[_0x956d4a(0x104)](/```json|```/g,'')[_0x956d4a(0x11d)]());_0x1d83df[_0x956d4a(0x135)]&&(await _0x1c9bff[_0x956d4a(0x154)]('LTM.driftAnalysis.baselineDrift',{'val':_0x1d83df[_0x956d4a(0x135)],'ack':!![]}),await _0x1c9bff['setStateAsync'](_0x956d4a(0xfe),{'val':_0x1d83df[_0x956d4a(0xf8)],'ack':!![]}),await _0x1c9bff[_0x956d4a(0x154)](_0x956d4a(0xfc),{'val':Date[_0x956d4a(0xea)](),'ack':!![]}));}catch(_0x40b1bb){}}async function executeAutomationAction(_0xc7fc9b){const _0x16bfaf=a0_0x4d3b62;try{const _0x9deec2=await _0xc7fc9b['getStateAsync'](_0x16bfaf(0x11f)),_0xb8d164=await _0xc7fc9b[_0x16bfaf(0x152)](_0x16bfaf(0xf2));if(_0x9deec2&&_0x9deec2[_0x16bfaf(0x103)]&&_0xb8d164){const _0x18e8f9=_0x9deec2['val'];let _0x405422=_0xb8d164['val'];try{_0x405422=JSON[_0x16bfaf(0x151)](_0x405422);}catch(_0x333801){}_0xc7fc9b[_0x16bfaf(0x134)][_0x16bfaf(0xf4)](_0x16bfaf(0x166)+_0x18e8f9+_0x16bfaf(0xed)+_0x405422),await _0xc7fc9b['setForeignStateAsync'](_0x18e8f9,_0x405422);}else _0xc7fc9b['log']['warn']('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x3275d8){_0xc7fc9b[_0x16bfaf(0x134)][_0x16bfaf(0x130)]('BUTLER\x20Execution\x20Error:\x20'+_0x3275d8[_0x16bfaf(0x100)]);}}async function sendMorningBriefing(_0xa0fdd7){const _0xf66ca1=a0_0x4d3b62;if(!_0xa0fdd7[_0xf66ca1(0x14e)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x39db8a=_0xf66ca1(0xef),_0x32096b=await _0xa0fdd7[_0xf66ca1(0x14e)]['generateContent'](_0x39db8a),_0x183222=_0x32096b[_0xf66ca1(0x144)][_0xf66ca1(0xee)]();setup[_0xf66ca1(0xfb)](_0xa0fdd7,_0xf66ca1(0x147)+_0x183222);}catch(_0x2f23a9){_0xa0fdd7[_0xf66ca1(0x134)]['error'](_0xf66ca1(0x129)+_0x2f23a9[_0xf66ca1(0x100)]);}}module[a0_0x4d3b62(0x122)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};