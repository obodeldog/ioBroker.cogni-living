function a0_0x2411(_0x107d15,_0x19d7c5){const _0x389c36=a0_0x5afa();return a0_0x2411=function(_0x293c79,_0x2906f0){_0x293c79=_0x293c79-0xa1;let _0x5afac4=_0x389c36[_0x293c79];return _0x5afac4;},a0_0x2411(_0x107d15,_0x19d7c5);}const a0_0x564940=a0_0x2411;(function(_0x27622b,_0x2c1bb1){const _0x282648=a0_0x2411,_0x133317=_0x27622b();while(!![]){try{const _0x37793d=parseInt(_0x282648(0xed))/0x1+parseInt(_0x282648(0xda))/0x2+-parseInt(_0x282648(0xf8))/0x3+-parseInt(_0x282648(0xe5))/0x4+parseInt(_0x282648(0xce))/0x5*(parseInt(_0x282648(0x10a))/0x6)+-parseInt(_0x282648(0x105))/0x7+parseInt(_0x282648(0xb9))/0x8*(-parseInt(_0x282648(0xc1))/0x9);if(_0x37793d===_0x2c1bb1)break;else _0x133317['push'](_0x133317['shift']());}catch(_0xaa3ff2){_0x133317['push'](_0x133317['shift']());}}}(a0_0x5afa,0x618e3));const a0_0x2906f0=(function(){let _0x3ac5f8=!![];return function(_0x463068,_0x3c24a1){const _0x2a7302=_0x3ac5f8?function(){const _0x195ae7=a0_0x2411;if(_0x3c24a1){const _0x331c80=_0x3c24a1[_0x195ae7(0xd2)](_0x463068,arguments);return _0x3c24a1=null,_0x331c80;}}:function(){};return _0x3ac5f8=![],_0x2a7302;};}()),a0_0x293c79=a0_0x2906f0(this,function(){const _0x285ffe=a0_0x2411;return a0_0x293c79[_0x285ffe(0xfb)]()[_0x285ffe(0xfe)](_0x285ffe(0x11c))[_0x285ffe(0xfb)]()[_0x285ffe(0xf2)](a0_0x293c79)[_0x285ffe(0xfe)](_0x285ffe(0x11c));});a0_0x293c79();'use strict';const {GoogleGenerativeAI}=require('@google/generative-ai'),setup=require('./setup'),GEMINI_MODEL=a0_0x564940(0x120),LTM_DP_DAILY_DIGESTS=a0_0x564940(0xb7),LTM_DP_STATUS=a0_0x564940(0xcf),LTM_DP_RAW_LOG=a0_0x564940(0x11a),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x564940(0x117),'senior_aal':a0_0x564940(0xe2),'family':a0_0x564940(0xbc),'single_comfort':a0_0x564940(0xc7),'security':a0_0x564940(0xd4),'energy_saver':a0_0x564940(0x114)};function canCallApi(){const _0x59348a=a0_0x564940,_0x176af2=Date[_0x59348a(0xc5)]();return _0x176af2-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x44ca3b=a0_0x564940;lastGlobalApiCall=Date[_0x44ca3b(0xc5)]();}async function getWeatherContext(_0x2f4355){const _0x5a654a=a0_0x564940;if(!_0x2f4355['config'][_0x5a654a(0x104)]||!_0x2f4355['config']['weatherInstance'])return _0x5a654a(0xa5);try{const _0x103d48=_0x2f4355['config'][_0x5a654a(0xaa)];let _0x5a85c5=await _0x2f4355[_0x5a654a(0xf7)](_0x103d48+_0x5a654a(0x101));if(!_0x5a85c5)_0x5a85c5=await _0x2f4355[_0x5a654a(0xf7)](_0x103d48+'.forecast.current.temperature');let _0x54b222=await _0x2f4355[_0x5a654a(0xf7)](_0x103d48+_0x5a654a(0xd8));if(!_0x54b222)_0x54b222=await _0x2f4355[_0x5a654a(0xf7)](_0x103d48+'.forecast.current.state');let _0x1b0305='Unbekannt';const _0x5b7dee=await _0x2f4355['getForeignStateAsync'](_0x103d48+_0x5a654a(0xbd));if(_0x5b7dee)_0x1b0305=_0x5b7dee[_0x5a654a(0xb1)]?_0x5a654a(0xb3):'Tag';if(_0x5a85c5&&_0x54b222)return _0x5a85c5[_0x5a654a(0xb1)]+_0x5a654a(0xdc)+_0x54b222['val']+_0x5a654a(0xee)+_0x1b0305;}catch(_0x242c30){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x320b06,_0x35ec2b,_0x358d8f,_0x2a16c9){const _0x242c8c=a0_0x564940;if(!_0x320b06['geminiModel'])return{'approved':!![],'reason':_0x242c8c(0x10f)};const _0x507530=Date[_0x242c8c(0xc5)]();if(decisionCache[_0x35ec2b]&&_0x507530-decisionCache[_0x35ec2b][_0x242c8c(0xb6)]<CACHE_TTL_MS){const _0x572eb5=decisionCache[_0x35ec2b][_0x242c8c(0x103)];return _0x320b06[_0x242c8c(0x10c)][_0x242c8c(0xf9)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x35ec2b+_0x242c8c(0xb2)+(_0x572eb5['approved']?'OK':'NO')+'\x20('+_0x572eb5[_0x242c8c(0xd7)]+')'),_0x572eb5;}if(!canCallApi())return _0x320b06[_0x242c8c(0x10c)][_0x242c8c(0xf9)](_0x242c8c(0xbf)+_0x35ec2b+'\x20Ã¼bersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0x242c8c(0xad)};const _0xdadc9b=new Date()[_0x242c8c(0xae)](),_0x1c8595=await getWeatherContext(_0x320b06),_0x53cc86=PERSONA_MAPPING[_0x320b06[_0x242c8c(0x109)]['aiPersona']||'generic'],_0x216ae4=_0x242c8c(0xff)+_0xdadc9b+_0x242c8c(0xdf)+_0x1c8595+_0x242c8c(0xa9)+(_0x2a16c9*0x64)['toFixed'](0x0)+_0x242c8c(0x115)+_0x35ec2b+_0x242c8c(0x111)+_0x358d8f+_0x242c8c(0xca)+_0x53cc86+_0x242c8c(0x116);try{updateApiTimestamp();const _0x45d1c7=await _0x320b06['geminiModel'][_0x242c8c(0xd0)](_0x216ae4),_0x340117=_0x45d1c7[_0x242c8c(0x100)][_0x242c8c(0xdd)]()[_0x242c8c(0xdb)](/```json|```/g,'')[_0x242c8c(0xbe)](),_0x2c44b5=JSON[_0x242c8c(0xc8)](_0x340117);return decisionCache[_0x35ec2b]={'decision':_0x2c44b5,'timestamp':_0x507530},_0x2c44b5;}catch(_0x2d005a){return _0x320b06[_0x242c8c(0x10c)][_0x242c8c(0xfd)](_0x242c8c(0x118)+_0x2d005a[_0x242c8c(0xd5)]),decisionCache[_0x35ec2b]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x507530-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x242c8c(0x107)};}}async function runGeminiAnalysis(_0x332917,_0x25160e=''){const _0x28107f=a0_0x564940;if(!_0x332917[_0x28107f(0xe3)])return;if(!canCallApi()){_0x332917['log'][_0x28107f(0xf9)](_0x28107f(0xd6));return;}if(_0x332917[_0x28107f(0xfc)][_0x28107f(0x11d)]===0x0)return;const _0x3a1a19=_0x332917[_0x28107f(0xfc)][_0x28107f(0x10b)](0x0,0xf),_0x54ce94=_0x332917['currentSystemMode'],_0x53f1a5=PERSONA_MAPPING[_0x332917[_0x28107f(0x109)]['aiPersona']||'generic'],_0x52a762=_0x332917[_0x28107f(0x109)]['livingContext']||'Keine\x20Details.';let _0x598762=_0x28107f(0x11b);try{const _0x2551f9=await _0x332917[_0x28107f(0xeb)](_0x28107f(0xa6));if(_0x2551f9&&_0x2551f9['val'])_0x598762=_0x2551f9[_0x28107f(0xb1)];}catch(_0x4d9043){}let _0x4ba2c6=![];try{const _0x4f7007=await _0x332917['getStateAsync']('analysis.automation.autoApply');if(_0x4f7007&&_0x4f7007[_0x28107f(0xb1)])_0x4ba2c6=!![];}catch(_0x5664ff){}const _0x31d9c9=_0x28107f(0x121)+_0x53f1a5+_0x28107f(0xf1)+_0x52a762+'.\x20SYSTEM_MODE:\x20'+_0x54ce94+_0x28107f(0xc0)+_0x598762+'.\x20EVENTS:\x20'+JSON[_0x28107f(0xe7)](_0x3a1a19)+_0x28107f(0x110)+_0x25160e+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x1763ed=await _0x332917[_0x28107f(0xe3)][_0x28107f(0xd0)](_0x31d9c9),_0x76fcf7=JSON[_0x28107f(0xc8)](_0x1763ed[_0x28107f(0x100)][_0x28107f(0xdd)]()[_0x28107f(0xdb)](/```json|```/g,'')[_0x28107f(0xbe)]());await _0x332917[_0x28107f(0xe9)](_0x28107f(0xd3),{'val':JSON[_0x28107f(0xe7)](_0x76fcf7),'ack':!![]});if(_0x76fcf7['summary'])await _0x332917[_0x28107f(0xe9)](_0x28107f(0xb8),{'val':_0x76fcf7['summary'],'ack':!![]});const _0x5e1b5b={'timestamp':Date['now'](),'id':Date[_0x28107f(0xc5)]()[_0x28107f(0xfb)](),'analysis':{'activity':{'summary':_0x76fcf7['summary'],'isAlert':_0x76fcf7[_0x28107f(0x112)],'alertReason':_0x76fcf7[_0x28107f(0xd9)]},'comfort':{'automationProposal':_0x76fcf7[_0x28107f(0x106)]}}};_0x332917[_0x28107f(0x11e)][_0x28107f(0xe1)](_0x5e1b5b);if(_0x332917[_0x28107f(0x11e)][_0x28107f(0x11d)]>0x32)_0x332917[_0x28107f(0x11e)][_0x28107f(0xbb)]();await _0x332917[_0x28107f(0xe9)]('analysis.analysisHistory',{'val':JSON['stringify'](_0x332917['analysisHistory']),'ack':!![]});const _0x2370ed=_0x76fcf7[_0x28107f(0x112)]||![];_0x2370ed!==_0x332917[_0x28107f(0xc4)]&&(await _0x332917[_0x28107f(0xe9)]('analysis.isAlert',{'val':_0x2370ed,'ack':!![]}),_0x332917[_0x28107f(0xc4)]=_0x2370ed,_0x2370ed&&(await _0x332917[_0x28107f(0xe9)](_0x28107f(0xcb),{'val':_0x76fcf7['alertReason'],'ack':!![]}),setup[_0x28107f(0xe6)](_0x332917,_0x28107f(0xf4)+_0x76fcf7['alertReason'],![],_0x76fcf7[_0x28107f(0xac)])));if(_0x76fcf7[_0x28107f(0x106)]&&_0x76fcf7['automationProposal']['detected']){await _0x332917[_0x28107f(0xe9)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x332917[_0x28107f(0xe9)](_0x28107f(0xe4),{'val':_0x76fcf7[_0x28107f(0x106)][_0x28107f(0xc6)],'ack':!![]}),await _0x332917['setStateAsync'](_0x28107f(0xcd),{'val':_0x76fcf7[_0x28107f(0x106)][_0x28107f(0xc9)],'ack':!![]}),await _0x332917[_0x28107f(0xe9)](_0x28107f(0xe0),{'val':JSON[_0x28107f(0xe7)](_0x76fcf7[_0x28107f(0x106)][_0x28107f(0xe8)]),'ack':!![]});if(_0x4ba2c6)executeAutomationAction(_0x332917);}}catch(_0x3a5ba1){_0x332917[_0x28107f(0x10c)]['error']('Gemini\x20Error:\x20'+_0x3a5ba1['message']);}}async function createDailyDigest(_0x23bb02,_0x2203b9){const _0x2a2839=a0_0x564940;if(!_0x23bb02['isProVersion'])return;if(!canCallApi()){await _0x23bb02[_0x2a2839(0xe9)](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x23bb02[_0x2a2839(0xe9)](LTM_DP_STATUS,{'val':_0x2a2839(0x108),'ack':!![]});if(!_0x23bb02[_0x2a2839(0xe3)]||_0x23bb02[_0x2a2839(0xea)][_0x2a2839(0x11d)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x23bb02[_0x2a2839(0xe9)](LTM_DP_STATUS,{'val':_0x2a2839(0x10e),'ack':!![]});return;}const _0x56080f=JSON[_0x2a2839(0xc8)](JSON[_0x2a2839(0xe7)](_0x23bb02[_0x2a2839(0xea)])),_0x3f93dc=_0x56080f['length'],_0x32e2d4=_0x2a2839(0x102)+JSON[_0x2a2839(0xe7)](_0x56080f);try{updateApiTimestamp();const _0x184cff=await _0x23bb02[_0x2a2839(0xe3)][_0x2a2839(0xd0)](_0x32e2d4),_0x2ecd09=JSON[_0x2a2839(0xc8)](_0x184cff['response'][_0x2a2839(0xdd)]()['replace'](/```json|```/g,'')[_0x2a2839(0xbe)]()),_0x2907ea={'timestamp':new Date()[_0x2a2839(0xb4)](),'eventCount':_0x3f93dc,'summary':_0x2ecd09[_0x2a2839(0xa2)]||'Digest','activityLevel':_0x2ecd09[_0x2a2839(0xa8)]||_0x2a2839(0xaf),'systemMode':_0x23bb02[_0x2a2839(0xef)]};_0x23bb02[_0x2a2839(0xc2)][_0x2a2839(0xf6)](_0x2907ea);const _0xebf67b=_0x23bb02[_0x2a2839(0x109)][_0x2a2839(0xf3)]||0x3c;_0x23bb02[_0x2a2839(0xc2)][_0x2a2839(0x11d)]>_0xebf67b&&_0x23bb02[_0x2a2839(0xc2)][_0x2a2839(0xec)](0x0,_0x23bb02[_0x2a2839(0xc2)][_0x2a2839(0x11d)]-_0xebf67b);await _0x23bb02[_0x2a2839(0xe9)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x2a2839(0xe7)](_0x23bb02[_0x2a2839(0xc2)]),'ack':!![]}),_0x23bb02['rawEventLog']=[],await _0x23bb02['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x2a2839(0xe7)](_0x23bb02[_0x2a2839(0xea)]),'ack':!![]}),await _0x23bb02['setStateAsync'](LTM_DP_STATUS,{'val':_0x2a2839(0xb0),'ack':!![]});if(_0x23bb02[_0x2a2839(0x119)]&&_0x2203b9)_0x2203b9[_0x2a2839(0xfa)](_0x23bb02,_0x2a2839(0xab),{'digest':_0x2907ea});}catch(_0x3631df){_0x23bb02[_0x2a2839(0x10c)][_0x2a2839(0xa3)](_0x3631df[_0x2a2839(0xd5)]);}}async function runBaselineDriftAnalysis(_0x1d21ab){const _0x1428a8=a0_0x564940;if(!_0x1d21ab[_0x1428a8(0x119)]||!_0x1d21ab[_0x1428a8(0xe3)])return;if(!canCallApi())return;const _0x5b92bd=_0x1d21ab[_0x1428a8(0x109)][_0x1428a8(0xd1)]||0xe;if(_0x1d21ab['dailyDigests'][_0x1428a8(0x11d)]<_0x5b92bd+0x7){await _0x1d21ab[_0x1428a8(0xe9)](_0x1428a8(0x11f),{'val':_0x1428a8(0xf5),'ack':!![]});return;}const _0x5776c0=_0x1d21ab[_0x1428a8(0xc2)]['slice'](-_0x5b92bd),_0x14d4ce=_0x1d21ab[_0x1428a8(0xc2)][_0x1428a8(0x10b)](0x0,_0x1d21ab[_0x1428a8(0xc2)]['length']-_0x5b92bd),_0x6e9d49='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x1428a8(0xe7)](_0x14d4ce)+_0x1428a8(0xc3)+JSON[_0x1428a8(0xe7)](_0x5776c0);try{updateApiTimestamp();const _0x2ed189=await _0x1d21ab[_0x1428a8(0xe3)][_0x1428a8(0xd0)](_0x6e9d49),_0x46101e=JSON[_0x1428a8(0xc8)](_0x2ed189[_0x1428a8(0x100)][_0x1428a8(0xdd)]()['replace'](/```json|```/g,'')[_0x1428a8(0xbe)]());_0x46101e['baselineDrift']&&(await _0x1d21ab[_0x1428a8(0xe9)](_0x1428a8(0x11f),{'val':_0x46101e[_0x1428a8(0xf0)],'ack':!![]}),await _0x1d21ab[_0x1428a8(0xe9)](_0x1428a8(0xa1),{'val':_0x46101e[_0x1428a8(0xa7)],'ack':!![]}),await _0x1d21ab[_0x1428a8(0xe9)]('LTM.driftAnalysis.lastCheck',{'val':Date['now'](),'ack':!![]}));}catch(_0x42f61e){}}function a0_0x5afa(){const _0x3315a0=['sendNotification','stringify','targetValue','setStateAsync','rawEventLog','getStateAsync','splice','663306NkgFJx',',\x20LichtverhÃ¤ltnisse:\x20','currentSystemMode','baselineDrift','.\x20KONTEXT:\x20','constructor','ltmLtbWindowDays','âš ï¸\x20ALARM:\x20','N/A\x20(Learning)','push','getForeignStateAsync','688158tvRCmP','debug','send','toString','eventHistory','warn','search','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','response','.Current.Temperature','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','decision','useWeather','754824sbxlac','automationProposal','KI-Fehler\x20(Fallback)','Started...','config','335262zRsrak','slice','log','info','Skipped\x20(No\x20AI\x20or\x20Data)','KI\x20offline\x20(Fallback)','.\x20EMERGENCY:\x20','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','isAlert','setForeignStateAsync','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','%)\x20nach\x20\x22','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','isProVersion','LTM.rawEventLog','Unbekannt','(((.+)+)+)+$','length','analysisHistory','LTM.driftAnalysis.baselineDrift','models/gemini-flash-latest','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','LTM.driftAnalysis.driftDetails','summary','error','\x20=\x20','Unbekannt\x20(Kein\x20Sensor)','system.presenceWho','driftDetails','activityLevel','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','weatherInstance','ANALYZE_HEALTH','isEmergency','Traffic-Schutz\x20(Auto-Approved)','toLocaleTimeString','normal','Success','val','\x20->\x20','Nacht','toISOString','Briefing\x20Error:\x20','timestamp','LTM.dailyDigests','analysis.activitySummary','499824Lqfdom','ðŸŒ…\x20Morning\x20Briefing:\x0a','pop','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','.Current.IsNight','trim','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','.\x20ANWESEND:\x20','99aanqzZ','dailyDigests','\x0aSTB:\x20','lastAlertState','now','description','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','parse','targetId','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','analysis.alertReason','exports','analysis.automation.targetId','55BjOWpY','LTM.processingStatus','generateContent','ltmStbWindowDays','apply','analysis.lastResult','Sicherheit\x20geht\x20vor.','message','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','reason','.Current.WeatherText','alertReason','608006aQDngC','replace','Â°C,\x20','text','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20',',\x20Wetter:\x20','analysis.automation.targetValue','unshift','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','geminiModel','analysis.automation.description','631572AUYflK'];a0_0x5afa=function(){return _0x3315a0;};return a0_0x5afa();}async function executeAutomationAction(_0x33f29d){const _0x4df927=a0_0x564940;try{const _0x2be481=await _0x33f29d[_0x4df927(0xeb)](_0x4df927(0xcd)),_0x23223f=await _0x33f29d[_0x4df927(0xeb)](_0x4df927(0xe0));if(_0x2be481&&_0x2be481[_0x4df927(0xb1)]&&_0x23223f){const _0x43a27b=_0x2be481[_0x4df927(0xb1)];let _0x1722df=_0x23223f[_0x4df927(0xb1)];try{_0x1722df=JSON[_0x4df927(0xc8)](_0x1722df);}catch(_0x4166c4){}_0x33f29d[_0x4df927(0x10c)][_0x4df927(0x10d)](_0x4df927(0xde)+_0x43a27b+_0x4df927(0xa4)+_0x1722df),await _0x33f29d[_0x4df927(0x113)](_0x43a27b,_0x1722df);}else _0x33f29d[_0x4df927(0x10c)][_0x4df927(0xfd)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x49fc4f){_0x33f29d[_0x4df927(0x10c)][_0x4df927(0xa3)]('BUTLER\x20Execution\x20Error:\x20'+_0x49fc4f[_0x4df927(0xd5)]);}}async function sendMorningBriefing(_0x4904b6){const _0x377159=a0_0x564940;if(!_0x4904b6[_0x377159(0xe3)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0xa8b206='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0x5a0a34=await _0x4904b6['geminiModel'][_0x377159(0xd0)](_0xa8b206),_0x528767=_0x5a0a34['response'][_0x377159(0xdd)]();setup['sendNotification'](_0x4904b6,_0x377159(0xba)+_0x528767);}catch(_0x2e8e46){_0x4904b6[_0x377159(0x10c)][_0x377159(0xa3)](_0x377159(0xb5)+_0x2e8e46[_0x377159(0xd5)]);}}module[a0_0x564940(0xcc)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};