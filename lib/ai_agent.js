const a0_0x298cd1=a0_0x2914;(function(_0x32a68b,_0x4bf61e){const _0x19711c=a0_0x2914,_0x364999=_0x32a68b();while(!![]){try{const _0x477837=parseInt(_0x19711c(0x189))/0x1+parseInt(_0x19711c(0x175))/0x2+-parseInt(_0x19711c(0x1c3))/0x3+-parseInt(_0x19711c(0x1b3))/0x4*(-parseInt(_0x19711c(0x18b))/0x5)+-parseInt(_0x19711c(0x19f))/0x6*(parseInt(_0x19711c(0x1cd))/0x7)+parseInt(_0x19711c(0x161))/0x8+-parseInt(_0x19711c(0x1a6))/0x9;if(_0x477837===_0x4bf61e)break;else _0x364999['push'](_0x364999['shift']());}catch(_0x9339f8){_0x364999['push'](_0x364999['shift']());}}}(a0_0x47bc,0x4967d));function a0_0x2914(_0x3176c9,_0x2a5511){const _0x489c6b=a0_0x47bc();return a0_0x2914=function(_0x24ae98,_0x27e8fc){_0x24ae98=_0x24ae98-0x14a;let _0x47bc68=_0x489c6b[_0x24ae98];return _0x47bc68;},a0_0x2914(_0x3176c9,_0x2a5511);}const a0_0x27e8fc=(function(){let _0x3c2de6=!![];return function(_0x5e034f,_0x33fb55){const _0x3389fa=_0x3c2de6?function(){const _0x44e99c=a0_0x2914;if(_0x33fb55){const _0x1e728a=_0x33fb55[_0x44e99c(0x1ad)](_0x5e034f,arguments);return _0x33fb55=null,_0x1e728a;}}:function(){};return _0x3c2de6=![],_0x3389fa;};}()),a0_0x24ae98=a0_0x27e8fc(this,function(){const _0x8d46b1=a0_0x2914;return a0_0x24ae98[_0x8d46b1(0x1bf)]()[_0x8d46b1(0x1ac)](_0x8d46b1(0x190))[_0x8d46b1(0x1bf)]()['constructor'](a0_0x24ae98)[_0x8d46b1(0x1ac)](_0x8d46b1(0x190));});a0_0x24ae98();'use strict';function a0_0x47bc(){const _0x5808a2=['2911896wpcreA','analysis.automation.targetValue',',\x20LichtverhÃ¤ltnisse:\x20','automationProposal','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','getForeignStateAsync','search','apply','info','analysis.automation.patternDetected','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','geminiModel','20PWDSQU','log','driftDetails','livingContext','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','detected','Traffic-Schutz\x20(Auto-Approved)','system.presenceWho','sendNotification','@google/generative-ai','now','isAlert','toString','.forecast.current.state','warn','setForeignStateAsync','499959EXXAUJ','analysis.lastResult','\x0aSTB:\x20','KI-Fehler\x20(Fallback)','stringify','ðŸŒ…\x20Morning\x20Briefing:\x0a','isEmergency','val','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','toLocaleTimeString','3642492ckcHaS','alertReason','./setup','.Current.WeatherText','response','summary','.\x20ANWESEND:\x20','description','normal','generateContent','analysis.activitySummary','âš ï¸\x20ALARM:\x20','generic','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20',',\x20Wetter:\x20','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','ltmLtbWindowDays','text','analysis.analysisHistory','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','.\x20EMERGENCY:\x20','LTM.driftAnalysis.lastCheck','Keine\x20Details.','Gemini\x20Error:\x20','pop','BUTLER\x20Execution\x20Error:\x20','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','4070928YdbpxV','Skipped\x20(No\x20AI\x20or\x20Data)','Skipped\x20(Traffic)','message','reason','length','setStateAsync','LTM.driftAnalysis.baselineDrift','targetValue','splice','LTM.processingStatus','.\x20KONTEXT:\x20','N/A\x20(Learning)','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','slice','models/gemini-flash-latest','analysis.isAlert','.forecast.current.temperature','analysisHistory','eventHistory','543736alFRNY','debug','dailyDigests','LTM.dailyDigests','rawEventLog','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','%)\x20nach\x20\x22','approved','Wetterdaten\x20nicht\x20abrufbar','isProVersion','toFixed','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','aiPersona','Digest','.\x20EVENTS:\x20','lastAlertState','replace','parse','timestamp','targetId','458753EQjyOz','weatherInstance','71735MSZVLu','useWeather','KI\x20offline\x20(Fallback)','activityLevel','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','(((.+)+)+)+$','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','Â°C,\x20','Sicherheit\x20geht\x20vor.','toISOString','.Current.Temperature','getStateAsync','Nacht','unshift','LTM.driftAnalysis.driftDetails','trim','baselineDrift','analysis.automation.targetId','6mUeDFK','Success','error','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','exports','config','analysis.alertReason'];a0_0x47bc=function(){return _0x5808a2;};return a0_0x47bc();}const {GoogleGenerativeAI}=require(a0_0x298cd1(0x1bc)),setup=require(a0_0x298cd1(0x1cf)),GEMINI_MODEL=a0_0x298cd1(0x170),LTM_DP_DAILY_DIGESTS=a0_0x298cd1(0x178),LTM_DP_STATUS=a0_0x298cd1(0x16b),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x298cd1(0x16e),'senior_aal':a0_0x298cd1(0x191),'family':a0_0x298cd1(0x18f),'single_comfort':a0_0x298cd1(0x180),'security':a0_0x298cd1(0x195),'energy_saver':a0_0x298cd1(0x1aa)};function canCallApi(){const _0x3a5230=a0_0x298cd1,_0x2b8dc4=Date[_0x3a5230(0x1bd)]();return _0x2b8dc4-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x271123=a0_0x298cd1;lastGlobalApiCall=Date[_0x271123(0x1bd)]();}async function getWeatherContext(_0x2975a1){const _0x1826e7=a0_0x298cd1;if(!_0x2975a1[_0x1826e7(0x1a4)][_0x1826e7(0x18c)]||!_0x2975a1[_0x1826e7(0x1a4)][_0x1826e7(0x18a)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x1d6538=_0x2975a1['config'][_0x1826e7(0x18a)];let _0x305a37=await _0x2975a1[_0x1826e7(0x1ab)](_0x1d6538+_0x1826e7(0x197));if(!_0x305a37)_0x305a37=await _0x2975a1['getForeignStateAsync'](_0x1d6538+_0x1826e7(0x172));let _0x5957a2=await _0x2975a1['getForeignStateAsync'](_0x1d6538+_0x1826e7(0x1d0));if(!_0x5957a2)_0x5957a2=await _0x2975a1['getForeignStateAsync'](_0x1d6538+_0x1826e7(0x1c0));let _0x1f5479='Unbekannt';const _0x46cf8b=await _0x2975a1[_0x1826e7(0x1ab)](_0x1d6538+'.Current.IsNight');if(_0x46cf8b)_0x1f5479=_0x46cf8b[_0x1826e7(0x1ca)]?_0x1826e7(0x199):'Tag';if(_0x305a37&&_0x5957a2)return _0x305a37[_0x1826e7(0x1ca)]+_0x1826e7(0x194)+_0x5957a2[_0x1826e7(0x1ca)]+_0x1826e7(0x1a8)+_0x1f5479;}catch(_0x2453c2){}return _0x1826e7(0x17d);}async function consultButler(_0x65c800,_0x289874,_0x31fdaa,_0x570897){const _0x1549fc=a0_0x298cd1;if(!_0x65c800['geminiModel'])return{'approved':!![],'reason':_0x1549fc(0x18d)};const _0x2f38ac=Date[_0x1549fc(0x1bd)]();if(decisionCache[_0x289874]&&_0x2f38ac-decisionCache[_0x289874][_0x1549fc(0x187)]<CACHE_TTL_MS){const _0x4b6c40=decisionCache[_0x289874]['decision'];return _0x65c800['log'][_0x1549fc(0x176)](_0x1549fc(0x155)+_0x289874+'\x20->\x20'+(_0x4b6c40[_0x1549fc(0x17c)]?'OK':'NO')+'\x20('+_0x4b6c40[_0x1549fc(0x165)]+')'),_0x4b6c40;}if(!canCallApi())return _0x65c800['log']['debug'](_0x1549fc(0x153)+_0x289874+'\x20Ã¼bersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0x1549fc(0x1b9)};const _0x35675e=new Date()[_0x1549fc(0x1cc)](),_0xa65d70=await getWeatherContext(_0x65c800),_0x4606bc=PERSONA_MAPPING[_0x65c800[_0x1549fc(0x1a4)][_0x1549fc(0x181)]||'generic'],_0x38d9f3='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x35675e+_0x1549fc(0x154)+_0xa65d70+_0x1549fc(0x193)+(_0x570897*0x64)[_0x1549fc(0x17f)](0x0)+_0x1549fc(0x17b)+_0x289874+_0x1549fc(0x1b1)+_0x31fdaa+_0x1549fc(0x17a)+_0x4606bc+_0x1549fc(0x160);try{updateApiTimestamp();const _0x1e3868=await _0x65c800[_0x1549fc(0x1b2)]['generateContent'](_0x38d9f3),_0xb3ddb4=_0x1e3868[_0x1549fc(0x14a)]['text']()[_0x1549fc(0x185)](/```json|```/g,'')['trim'](),_0x4ef9de=JSON['parse'](_0xb3ddb4);return decisionCache[_0x289874]={'decision':_0x4ef9de,'timestamp':_0x2f38ac},_0x4ef9de;}catch(_0x461ad1){return _0x65c800[_0x1549fc(0x1b4)][_0x1549fc(0x1c1)]('ðŸ¤–\x20Butler\x20Brain\x20Error:\x20'+_0x461ad1[_0x1549fc(0x164)]),decisionCache[_0x289874]={'decision':{'approved':!![],'reason':_0x1549fc(0x1c6)},'timestamp':_0x2f38ac-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x1549fc(0x1c6)};}}async function runGeminiAnalysis(_0x321642,_0x249f6d=''){const _0x3e55ba=a0_0x298cd1;if(!_0x321642['geminiModel'])return;if(!canCallApi()){_0x321642[_0x3e55ba(0x1b4)][_0x3e55ba(0x176)]('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x321642['eventHistory'][_0x3e55ba(0x166)]===0x0)return;const _0x14f22c=_0x321642[_0x3e55ba(0x174)][_0x3e55ba(0x16f)](0x0,0xf),_0x55514f=_0x321642['currentSystemMode'],_0xcd87eb=PERSONA_MAPPING[_0x321642[_0x3e55ba(0x1a4)]['aiPersona']||_0x3e55ba(0x152)],_0x4b7b4c=_0x321642['config'][_0x3e55ba(0x1b6)]||_0x3e55ba(0x15c);let _0x4313c6='Unbekannt';try{const _0x59243d=await _0x321642['getStateAsync'](_0x3e55ba(0x1ba));if(_0x59243d&&_0x59243d[_0x3e55ba(0x1ca)])_0x4313c6=_0x59243d['val'];}catch(_0x5d62b5){}let _0x47ef98=![];try{const _0x486687=await _0x321642['getStateAsync']('analysis.automation.autoApply');if(_0x486687&&_0x486687[_0x3e55ba(0x1ca)])_0x47ef98=!![];}catch(_0x75c4f4){}const _0xdeb9ff=_0x3e55ba(0x192)+_0xcd87eb+_0x3e55ba(0x16c)+_0x4b7b4c+'.\x20SYSTEM_MODE:\x20'+_0x55514f+_0x3e55ba(0x14c)+_0x4313c6+_0x3e55ba(0x183)+JSON[_0x3e55ba(0x1c7)](_0x14f22c)+_0x3e55ba(0x15a)+_0x249f6d+_0x3e55ba(0x1b0);try{updateApiTimestamp();const _0x1bf0ae=await _0x321642[_0x3e55ba(0x1b2)][_0x3e55ba(0x14f)](_0xdeb9ff),_0x2ef399=JSON[_0x3e55ba(0x186)](_0x1bf0ae['response'][_0x3e55ba(0x157)]()[_0x3e55ba(0x185)](/```json|```/g,'')[_0x3e55ba(0x19c)]());await _0x321642['setStateAsync'](_0x3e55ba(0x1c4),{'val':JSON[_0x3e55ba(0x1c7)](_0x2ef399),'ack':!![]});if(_0x2ef399[_0x3e55ba(0x14b)])await _0x321642[_0x3e55ba(0x167)](_0x3e55ba(0x150),{'val':_0x2ef399[_0x3e55ba(0x14b)],'ack':!![]});const _0x4fe521={'timestamp':Date['now'](),'id':Date[_0x3e55ba(0x1bd)]()[_0x3e55ba(0x1bf)](),'analysis':{'activity':{'summary':_0x2ef399[_0x3e55ba(0x14b)],'isAlert':_0x2ef399['isAlert'],'alertReason':_0x2ef399[_0x3e55ba(0x1ce)]},'comfort':{'automationProposal':_0x2ef399[_0x3e55ba(0x1a9)]}}};_0x321642[_0x3e55ba(0x173)][_0x3e55ba(0x19a)](_0x4fe521);if(_0x321642[_0x3e55ba(0x173)]['length']>0x32)_0x321642[_0x3e55ba(0x173)][_0x3e55ba(0x15e)]();await _0x321642['setStateAsync'](_0x3e55ba(0x158),{'val':JSON[_0x3e55ba(0x1c7)](_0x321642['analysisHistory']),'ack':!![]});const _0x5006fe=_0x2ef399[_0x3e55ba(0x1be)]||![];_0x5006fe!==_0x321642[_0x3e55ba(0x184)]&&(await _0x321642[_0x3e55ba(0x167)](_0x3e55ba(0x171),{'val':_0x5006fe,'ack':!![]}),_0x321642[_0x3e55ba(0x184)]=_0x5006fe,_0x5006fe&&(await _0x321642[_0x3e55ba(0x167)](_0x3e55ba(0x1a5),{'val':_0x2ef399['alertReason'],'ack':!![]}),setup[_0x3e55ba(0x1bb)](_0x321642,_0x3e55ba(0x151)+_0x2ef399[_0x3e55ba(0x1ce)],![],_0x2ef399[_0x3e55ba(0x1c9)])));if(_0x2ef399[_0x3e55ba(0x1a9)]&&_0x2ef399[_0x3e55ba(0x1a9)][_0x3e55ba(0x1b8)]){await _0x321642[_0x3e55ba(0x167)](_0x3e55ba(0x1af),{'val':!![],'ack':!![]}),await _0x321642[_0x3e55ba(0x167)]('analysis.automation.description',{'val':_0x2ef399['automationProposal'][_0x3e55ba(0x14d)],'ack':!![]}),await _0x321642[_0x3e55ba(0x167)]('analysis.automation.targetId',{'val':_0x2ef399[_0x3e55ba(0x1a9)][_0x3e55ba(0x188)],'ack':!![]}),await _0x321642[_0x3e55ba(0x167)](_0x3e55ba(0x1a7),{'val':JSON['stringify'](_0x2ef399[_0x3e55ba(0x1a9)][_0x3e55ba(0x169)]),'ack':!![]});if(_0x47ef98)executeAutomationAction(_0x321642);}}catch(_0x3db560){_0x321642[_0x3e55ba(0x1b4)][_0x3e55ba(0x1a1)](_0x3e55ba(0x15d)+_0x3db560['message']);}}async function createDailyDigest(_0x2d156e,_0x23c1f3){const _0xa8e93d=a0_0x298cd1;if(!_0x2d156e[_0xa8e93d(0x17e)])return;if(!canCallApi()){await _0x2d156e[_0xa8e93d(0x167)](LTM_DP_STATUS,{'val':_0xa8e93d(0x163),'ack':!![]});return;}await _0x2d156e[_0xa8e93d(0x167)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x2d156e['geminiModel']||_0x2d156e['rawEventLog'][_0xa8e93d(0x166)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x2d156e['setStateAsync'](LTM_DP_STATUS,{'val':_0xa8e93d(0x162),'ack':!![]});return;}const _0x452eee=JSON[_0xa8e93d(0x186)](JSON[_0xa8e93d(0x1c7)](_0x2d156e['rawEventLog'])),_0x30f0a5=_0x452eee['length'],_0x757253=_0xa8e93d(0x1cb)+JSON['stringify'](_0x452eee);try{updateApiTimestamp();const _0x4dfc1a=await _0x2d156e[_0xa8e93d(0x1b2)][_0xa8e93d(0x14f)](_0x757253),_0x2a8f8a=JSON['parse'](_0x4dfc1a[_0xa8e93d(0x14a)][_0xa8e93d(0x157)]()[_0xa8e93d(0x185)](/```json|```/g,'')[_0xa8e93d(0x19c)]()),_0x57f8b0={'timestamp':new Date()[_0xa8e93d(0x196)](),'eventCount':_0x30f0a5,'summary':_0x2a8f8a['summary']||_0xa8e93d(0x182),'activityLevel':_0x2a8f8a[_0xa8e93d(0x18e)]||_0xa8e93d(0x14e),'systemMode':_0x2d156e['currentSystemMode']};_0x2d156e[_0xa8e93d(0x177)]['push'](_0x57f8b0);const _0x446df0=_0x2d156e[_0xa8e93d(0x1a4)][_0xa8e93d(0x156)]||0x3c;_0x2d156e['dailyDigests'][_0xa8e93d(0x166)]>_0x446df0&&_0x2d156e[_0xa8e93d(0x177)][_0xa8e93d(0x16a)](0x0,_0x2d156e[_0xa8e93d(0x177)][_0xa8e93d(0x166)]-_0x446df0);await _0x2d156e[_0xa8e93d(0x167)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0xa8e93d(0x1c7)](_0x2d156e[_0xa8e93d(0x177)]),'ack':!![]}),_0x2d156e[_0xa8e93d(0x179)]=[],await _0x2d156e[_0xa8e93d(0x167)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x2d156e[_0xa8e93d(0x179)]),'ack':!![]}),await _0x2d156e[_0xa8e93d(0x167)](LTM_DP_STATUS,{'val':_0xa8e93d(0x1a0),'ack':!![]});if(_0x2d156e[_0xa8e93d(0x17e)]&&_0x23c1f3)_0x23c1f3['send'](_0x2d156e,'ANALYZE_HEALTH',{'digest':_0x57f8b0});}catch(_0x1f6c18){_0x2d156e[_0xa8e93d(0x1b4)]['error'](_0x1f6c18['message']);}}async function runBaselineDriftAnalysis(_0x118832){const _0x54b722=a0_0x298cd1;if(!_0x118832[_0x54b722(0x17e)]||!_0x118832[_0x54b722(0x1b2)])return;if(!canCallApi())return;const _0x2b073a=_0x118832[_0x54b722(0x1a4)]['ltmStbWindowDays']||0xe;if(_0x118832[_0x54b722(0x177)]['length']<_0x2b073a+0x7){await _0x118832['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x54b722(0x16d),'ack':!![]});return;}const _0x596bec=_0x118832['dailyDigests'][_0x54b722(0x16f)](-_0x2b073a),_0x3d09c6=_0x118832[_0x54b722(0x177)]['slice'](0x0,_0x118832[_0x54b722(0x177)]['length']-_0x2b073a),_0x340ac8=_0x54b722(0x159)+JSON[_0x54b722(0x1c7)](_0x3d09c6)+_0x54b722(0x1c5)+JSON[_0x54b722(0x1c7)](_0x596bec);try{updateApiTimestamp();const _0x1986c1=await _0x118832[_0x54b722(0x1b2)]['generateContent'](_0x340ac8),_0xba5eae=JSON[_0x54b722(0x186)](_0x1986c1[_0x54b722(0x14a)][_0x54b722(0x157)]()['replace'](/```json|```/g,'')[_0x54b722(0x19c)]());_0xba5eae[_0x54b722(0x19d)]&&(await _0x118832[_0x54b722(0x167)](_0x54b722(0x168),{'val':_0xba5eae[_0x54b722(0x19d)],'ack':!![]}),await _0x118832[_0x54b722(0x167)](_0x54b722(0x19b),{'val':_0xba5eae[_0x54b722(0x1b5)],'ack':!![]}),await _0x118832[_0x54b722(0x167)](_0x54b722(0x15b),{'val':Date[_0x54b722(0x1bd)](),'ack':!![]}));}catch(_0x961834){}}async function executeAutomationAction(_0x2acd1c){const _0x486ca1=a0_0x298cd1;try{const _0x4e61c0=await _0x2acd1c[_0x486ca1(0x198)](_0x486ca1(0x19e)),_0x27c1ff=await _0x2acd1c['getStateAsync'](_0x486ca1(0x1a7));if(_0x4e61c0&&_0x4e61c0[_0x486ca1(0x1ca)]&&_0x27c1ff){const _0x1d8ee6=_0x4e61c0[_0x486ca1(0x1ca)];let _0x24bd21=_0x27c1ff[_0x486ca1(0x1ca)];try{_0x24bd21=JSON[_0x486ca1(0x186)](_0x24bd21);}catch(_0x466b62){}_0x2acd1c['log'][_0x486ca1(0x1ae)](_0x486ca1(0x1b7)+_0x1d8ee6+'\x20=\x20'+_0x24bd21),await _0x2acd1c[_0x486ca1(0x1c2)](_0x1d8ee6,_0x24bd21);}else _0x2acd1c[_0x486ca1(0x1b4)][_0x486ca1(0x1c1)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x541cfa){_0x2acd1c[_0x486ca1(0x1b4)]['error'](_0x486ca1(0x15f)+_0x541cfa['message']);}}async function sendMorningBriefing(_0x52ac8f){const _0x921883=a0_0x298cd1;if(!_0x52ac8f[_0x921883(0x1b2)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x59d622=_0x921883(0x1a2),_0x3c2d7a=await _0x52ac8f[_0x921883(0x1b2)][_0x921883(0x14f)](_0x59d622),_0x3f8252=_0x3c2d7a[_0x921883(0x14a)][_0x921883(0x157)]();setup[_0x921883(0x1bb)](_0x52ac8f,_0x921883(0x1c8)+_0x3f8252);}catch(_0x87ace){_0x52ac8f[_0x921883(0x1b4)][_0x921883(0x1a1)]('Briefing\x20Error:\x20'+_0x87ace[_0x921883(0x164)]);}}module[a0_0x298cd1(0x1a3)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};