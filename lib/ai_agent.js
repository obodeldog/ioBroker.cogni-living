const a0_0x1858d3=a0_0x11cc;(function(_0x439b0b,_0x30d34c){const _0xe7dd03=a0_0x11cc,_0x3ef807=_0x439b0b();while(!![]){try{const _0x5d841b=parseInt(_0xe7dd03(0x231))/0x1*(-parseInt(_0xe7dd03(0x213))/0x2)+parseInt(_0xe7dd03(0x1f0))/0x3+parseInt(_0xe7dd03(0x1d6))/0x4*(parseInt(_0xe7dd03(0x228))/0x5)+parseInt(_0xe7dd03(0x1fc))/0x6*(-parseInt(_0xe7dd03(0x1f7))/0x7)+parseInt(_0xe7dd03(0x218))/0x8*(-parseInt(_0xe7dd03(0x22c))/0x9)+parseInt(_0xe7dd03(0x200))/0xa+parseInt(_0xe7dd03(0x1e0))/0xb;if(_0x5d841b===_0x30d34c)break;else _0x3ef807['push'](_0x3ef807['shift']());}catch(_0x2ce320){_0x3ef807['push'](_0x3ef807['shift']());}}}(a0_0x3ffc,0x3e8e1));const a0_0x2ec7b1=(function(){let _0x2a2de9=!![];return function(_0xb7e352,_0x4268a8){const _0xfd8d6e=_0x2a2de9?function(){const _0x140e92=a0_0x11cc;if(_0x4268a8){const _0x552ad2=_0x4268a8[_0x140e92(0x217)](_0xb7e352,arguments);return _0x4268a8=null,_0x552ad2;}}:function(){};return _0x2a2de9=![],_0xfd8d6e;};}()),a0_0x3c1b7a=a0_0x2ec7b1(this,function(){const _0x20a38b=a0_0x11cc;return a0_0x3c1b7a['toString']()['search'](_0x20a38b(0x1b3))['toString']()[_0x20a38b(0x1fe)](a0_0x3c1b7a)['search']('(((.+)+)+)+$');});a0_0x3c1b7a();'use strict';const {GoogleGenerativeAI}=require(a0_0x1858d3(0x1dc)),setup=require(a0_0x1858d3(0x209)),GEMINI_MODEL=a0_0x1858d3(0x212),LTM_DP_DAILY_DIGESTS=a0_0x1858d3(0x1b4),LTM_DP_STATUS=a0_0x1858d3(0x1ea),LTM_DP_RAW_LOG=a0_0x1858d3(0x22f),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x1858d3(0x1e9),'senior_aal':a0_0x1858d3(0x1bf),'family':a0_0x1858d3(0x1e7),'single_comfort':a0_0x1858d3(0x21a),'security':'Sicherheit\x20geht\x20vor.','energy_saver':'PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function a0_0x11cc(_0xaaf2be,_0x189a8b){const _0x5a1014=a0_0x3ffc();return a0_0x11cc=function(_0x3c1b7a,_0x2ec7b1){_0x3c1b7a=_0x3c1b7a-0x1b2;let _0x3ffcfc=_0x5a1014[_0x3c1b7a];return _0x3ffcfc;},a0_0x11cc(_0xaaf2be,_0x189a8b);}function canCallApi(){const _0x5a2d4b=a0_0x1858d3,_0x244181=Date[_0x5a2d4b(0x1f8)]();return _0x244181-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x31d654=a0_0x1858d3;lastGlobalApiCall=Date[_0x31d654(0x1f8)]();}function a0_0x3ffc(){const _0x9ec5a9=['targetValue','getStateAsync','alertReason','trim','lastAlertState','analysis.isAlert','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','512915fRXUyh','analysis.automation.autoApply','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','72549UcDDnG','debug','isAlert','LTM.rawEventLog','toISOString','3657iPnvQz',',\x20Wetter:\x20','LTM.driftAnalysis.baselineDrift','geminiModel','decision','livingContext','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','setForeignStateAsync','(((.+)+)+)+$','LTM.dailyDigests','LTM.driftAnalysis.lastCheck','timestamp','isProVersion','ü§ñ\x20Butler\x20Brain\x20Error:\x20','N/A\x20(Learning)','isEmergency','analysis.automation.targetValue','.\x20KONTEXT:\x20','ltmStbWindowDays','summary','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','analysis.automation.description','stringify','sendNotification','config','LTM.driftAnalysis.driftDetails','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','eventHistory','Traffic-Schutz\x20(Auto-Approved)','generic','analysis.analysisHistory','targetId','Keine\x20Details.','\x20->\x20','currentSystemMode','log','analysis.activitySummary','message','Briefing\x20Error:\x20','toLocaleTimeString','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','reason','rawEventLog','4ENJEvO','BUTLER\x20Execution\x20Error:\x20','parse','description','analysis.automation.targetId','val','@google/generative-ai','exports','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','toFixed','5130961JvnBOY','analysisHistory','getForeignStateAsync','driftDetails','dailyDigests','.forecast.current.state','KI-Fehler\x20(Fallback)','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','system.presenceWho','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','LTM.processingStatus','unshift','.\x20ANWESEND:\x20','analysis.alertReason','aiPersona','analysis.automation.patternDetected','99126RTuyZQ','Success','response','\x0aSTB:\x20','automationProposal','text','send','2317EcDFDw','now','generateContent','.\x20SYSTEM_MODE:\x20','Skipped\x20(Traffic)','90nzSXlH','Skipped\x20(No\x20AI\x20or\x20Data)','constructor','‚ö†Ô∏è\x20ALARM:\x20','2510680ZepGLR','useWeather','Digest','slice','¬∞C,\x20','Unbekannt\x20(Kein\x20Sensor)','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','setStateAsync','info','./setup','length','\x20√ºbersprungen\x20(Auto-Approved).','baselineDrift','push','toString','replace','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','error','models/gemini-flash-latest','46wleeSp','normal','Unbekannt','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','apply','504TenBLx','warn','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','weatherInstance','ANALYZE_HEALTH','activityLevel',',\x20Lichtverh√§ltnisse:\x20','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'];a0_0x3ffc=function(){return _0x9ec5a9;};return a0_0x3ffc();}async function getWeatherContext(_0x2a9e18){const _0x582f99=a0_0x1858d3;if(!_0x2a9e18['config'][_0x582f99(0x201)]||!_0x2a9e18[_0x582f99(0x1c3)]['weatherInstance'])return _0x582f99(0x205);try{const _0x5ca895=_0x2a9e18[_0x582f99(0x1c3)][_0x582f99(0x21b)];let _0x2abf9c=await _0x2a9e18[_0x582f99(0x1e2)](_0x5ca895+'.Current.Temperature');if(!_0x2abf9c)_0x2abf9c=await _0x2a9e18[_0x582f99(0x1e2)](_0x5ca895+'.forecast.current.temperature');let _0x94069f=await _0x2a9e18[_0x582f99(0x1e2)](_0x5ca895+'.Current.WeatherText');if(!_0x94069f)_0x94069f=await _0x2a9e18['getForeignStateAsync'](_0x5ca895+_0x582f99(0x1e5));let _0x54db26=_0x582f99(0x215);const _0x26887f=await _0x2a9e18['getForeignStateAsync'](_0x5ca895+'.Current.IsNight');if(_0x26887f)_0x54db26=_0x26887f[_0x582f99(0x1db)]?'Nacht':'Tag';if(_0x2abf9c&&_0x94069f)return _0x2abf9c['val']+_0x582f99(0x204)+_0x94069f[_0x582f99(0x1db)]+_0x582f99(0x21e)+_0x54db26;}catch(_0x1c40ce){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x2c48ee,_0x262d4e,_0xd54f38,_0xb7f7cd){const _0x21e22a=a0_0x1858d3;if(!_0x2c48ee[_0x21e22a(0x234)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x23f785=Date[_0x21e22a(0x1f8)]();if(decisionCache[_0x262d4e]&&_0x23f785-decisionCache[_0x262d4e][_0x21e22a(0x1b6)]<CACHE_TTL_MS){const _0x247228=decisionCache[_0x262d4e][_0x21e22a(0x235)];return _0x2c48ee[_0x21e22a(0x1ce)][_0x21e22a(0x22d)](_0x21e22a(0x227)+_0x262d4e+_0x21e22a(0x1cc)+(_0x247228['approved']?'OK':'NO')+'\x20('+_0x247228[_0x21e22a(0x1d4)]+')'),_0x247228;}if(!canCallApi())return _0x2c48ee['log'][_0x21e22a(0x22d)](_0x21e22a(0x1de)+_0x262d4e+_0x21e22a(0x20b)),{'approved':!![],'reason':_0x21e22a(0x1c7)};const _0x2ec3e2=new Date()[_0x21e22a(0x1d2)](),_0x4ef88b=await getWeatherContext(_0x2c48ee),_0x30a926=PERSONA_MAPPING[_0x2c48ee[_0x21e22a(0x1c3)][_0x21e22a(0x1ee)]||_0x21e22a(0x1c8)],_0x20aa4f=_0x21e22a(0x210)+_0x2ec3e2+_0x21e22a(0x232)+_0x4ef88b+_0x21e22a(0x206)+(_0xb7f7cd*0x64)[_0x21e22a(0x1df)](0x0)+'%)\x20nach\x20\x22'+_0x262d4e+_0x21e22a(0x22a)+_0xd54f38+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x30a926+_0x21e22a(0x216);try{updateApiTimestamp();const _0x5e51b7=await _0x2c48ee['geminiModel'][_0x21e22a(0x1f9)](_0x20aa4f),_0x8abc50=_0x5e51b7[_0x21e22a(0x1f2)][_0x21e22a(0x1f5)]()[_0x21e22a(0x20f)](/```json|```/g,'')[_0x21e22a(0x223)](),_0x51af3f=JSON[_0x21e22a(0x1d8)](_0x8abc50);return decisionCache[_0x262d4e]={'decision':_0x51af3f,'timestamp':_0x23f785},_0x51af3f;}catch(_0x4dfd2e){return _0x2c48ee[_0x21e22a(0x1ce)][_0x21e22a(0x219)](_0x21e22a(0x1b8)+_0x4dfd2e[_0x21e22a(0x1d0)]),decisionCache[_0x262d4e]={'decision':{'approved':!![],'reason':_0x21e22a(0x1e6)},'timestamp':_0x23f785-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x21e22a(0x1e6)};}}async function runGeminiAnalysis(_0x4bc942,_0x40bf6a=''){const _0x2cd643=a0_0x1858d3;if(!_0x4bc942[_0x2cd643(0x234)])return;if(!canCallApi()){_0x4bc942[_0x2cd643(0x1ce)][_0x2cd643(0x22d)](_0x2cd643(0x1c5));return;}if(_0x4bc942[_0x2cd643(0x1c6)][_0x2cd643(0x20a)]===0x0)return;const _0x1398dd=_0x4bc942['eventHistory'][_0x2cd643(0x203)](0x0,0xf),_0x331beb=_0x4bc942[_0x2cd643(0x1cd)],_0x463f99=PERSONA_MAPPING[_0x4bc942['config'][_0x2cd643(0x1ee)]||'generic'],_0x1fce0f=_0x4bc942['config'][_0x2cd643(0x236)]||_0x2cd643(0x1cb);let _0x28618e='Unbekannt';try{const _0x590d3c=await _0x4bc942[_0x2cd643(0x221)](_0x2cd643(0x1e8));if(_0x590d3c&&_0x590d3c['val'])_0x28618e=_0x590d3c['val'];}catch(_0x115e38){}let _0xb5b7a0=![];try{const _0x569286=await _0x4bc942['getStateAsync'](_0x2cd643(0x229));if(_0x569286&&_0x569286[_0x2cd643(0x1db)])_0xb5b7a0=!![];}catch(_0x385a1a){}const _0x38671c=_0x2cd643(0x21f)+_0x463f99+_0x2cd643(0x1bc)+_0x1fce0f+_0x2cd643(0x1fa)+_0x331beb+_0x2cd643(0x1ec)+_0x28618e+'.\x20EVENTS:\x20'+JSON['stringify'](_0x1398dd)+'.\x20EMERGENCY:\x20'+_0x40bf6a+_0x2cd643(0x1d3);try{updateApiTimestamp();const _0x3b9413=await _0x4bc942['geminiModel'][_0x2cd643(0x1f9)](_0x38671c),_0x47f50f=JSON[_0x2cd643(0x1d8)](_0x3b9413[_0x2cd643(0x1f2)][_0x2cd643(0x1f5)]()[_0x2cd643(0x20f)](/```json|```/g,'')[_0x2cd643(0x223)]());await _0x4bc942[_0x2cd643(0x207)]('analysis.lastResult',{'val':JSON[_0x2cd643(0x1c1)](_0x47f50f),'ack':!![]});if(_0x47f50f[_0x2cd643(0x1be)])await _0x4bc942[_0x2cd643(0x207)](_0x2cd643(0x1cf),{'val':_0x47f50f[_0x2cd643(0x1be)],'ack':!![]});const _0x27cd2b={'timestamp':Date['now'](),'id':Date[_0x2cd643(0x1f8)]()[_0x2cd643(0x20e)](),'analysis':{'activity':{'summary':_0x47f50f[_0x2cd643(0x1be)],'isAlert':_0x47f50f[_0x2cd643(0x22e)],'alertReason':_0x47f50f[_0x2cd643(0x222)]},'comfort':{'automationProposal':_0x47f50f[_0x2cd643(0x1f4)]}}};_0x4bc942[_0x2cd643(0x1e1)][_0x2cd643(0x1eb)](_0x27cd2b);if(_0x4bc942[_0x2cd643(0x1e1)][_0x2cd643(0x20a)]>0x32)_0x4bc942[_0x2cd643(0x1e1)]['pop']();await _0x4bc942[_0x2cd643(0x207)](_0x2cd643(0x1c9),{'val':JSON['stringify'](_0x4bc942[_0x2cd643(0x1e1)]),'ack':!![]});const _0x1d3c6f=_0x47f50f[_0x2cd643(0x22e)]||![];_0x1d3c6f!==_0x4bc942[_0x2cd643(0x224)]&&(await _0x4bc942['setStateAsync'](_0x2cd643(0x225),{'val':_0x1d3c6f,'ack':!![]}),_0x4bc942[_0x2cd643(0x224)]=_0x1d3c6f,_0x1d3c6f&&(await _0x4bc942[_0x2cd643(0x207)](_0x2cd643(0x1ed),{'val':_0x47f50f[_0x2cd643(0x222)],'ack':!![]}),setup[_0x2cd643(0x1c2)](_0x4bc942,_0x2cd643(0x1ff)+_0x47f50f[_0x2cd643(0x222)],![],_0x47f50f[_0x2cd643(0x1ba)])));if(_0x47f50f[_0x2cd643(0x1f4)]&&_0x47f50f[_0x2cd643(0x1f4)]['detected']){await _0x4bc942[_0x2cd643(0x207)](_0x2cd643(0x1ef),{'val':!![],'ack':!![]}),await _0x4bc942[_0x2cd643(0x207)](_0x2cd643(0x1c0),{'val':_0x47f50f[_0x2cd643(0x1f4)][_0x2cd643(0x1d9)],'ack':!![]}),await _0x4bc942['setStateAsync'](_0x2cd643(0x1da),{'val':_0x47f50f[_0x2cd643(0x1f4)][_0x2cd643(0x1ca)],'ack':!![]}),await _0x4bc942['setStateAsync'](_0x2cd643(0x1bb),{'val':JSON[_0x2cd643(0x1c1)](_0x47f50f[_0x2cd643(0x1f4)][_0x2cd643(0x220)]),'ack':!![]});if(_0xb5b7a0)executeAutomationAction(_0x4bc942);}}catch(_0x4f8723){_0x4bc942[_0x2cd643(0x1ce)]['error']('Gemini\x20Error:\x20'+_0x4f8723[_0x2cd643(0x1d0)]);}}async function createDailyDigest(_0x1470aa,_0x39de3b){const _0x3ee014=a0_0x1858d3;if(!_0x1470aa[_0x3ee014(0x1b7)])return;if(!canCallApi()){await _0x1470aa[_0x3ee014(0x207)](LTM_DP_STATUS,{'val':_0x3ee014(0x1fb),'ack':!![]});return;}await _0x1470aa['setStateAsync'](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x1470aa[_0x3ee014(0x234)]||_0x1470aa[_0x3ee014(0x1d5)][_0x3ee014(0x20a)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1470aa[_0x3ee014(0x207)](LTM_DP_STATUS,{'val':_0x3ee014(0x1fd),'ack':!![]});return;}const _0x2504e7=JSON[_0x3ee014(0x1d8)](JSON[_0x3ee014(0x1c1)](_0x1470aa['rawEventLog'])),_0x4dcd2b=_0x2504e7[_0x3ee014(0x20a)],_0x5d3dca='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x3ee014(0x1c1)](_0x2504e7);try{updateApiTimestamp();const _0x2d1565=await _0x1470aa['geminiModel'][_0x3ee014(0x1f9)](_0x5d3dca),_0x4ec6fb=JSON[_0x3ee014(0x1d8)](_0x2d1565[_0x3ee014(0x1f2)]['text']()[_0x3ee014(0x20f)](/```json|```/g,'')[_0x3ee014(0x223)]()),_0x5dad10={'timestamp':new Date()[_0x3ee014(0x230)](),'eventCount':_0x4dcd2b,'summary':_0x4ec6fb[_0x3ee014(0x1be)]||_0x3ee014(0x202),'activityLevel':_0x4ec6fb[_0x3ee014(0x21d)]||_0x3ee014(0x214),'systemMode':_0x1470aa[_0x3ee014(0x1cd)]};_0x1470aa[_0x3ee014(0x1e4)][_0x3ee014(0x20d)](_0x5dad10);const _0x30775e=_0x1470aa[_0x3ee014(0x1c3)]['ltmLtbWindowDays']||0x3c;_0x1470aa[_0x3ee014(0x1e4)][_0x3ee014(0x20a)]>_0x30775e&&_0x1470aa['dailyDigests']['splice'](0x0,_0x1470aa[_0x3ee014(0x1e4)]['length']-_0x30775e);await _0x1470aa[_0x3ee014(0x207)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x3ee014(0x1c1)](_0x1470aa[_0x3ee014(0x1e4)]),'ack':!![]}),_0x1470aa[_0x3ee014(0x1d5)]=[],await _0x1470aa['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x3ee014(0x1c1)](_0x1470aa['rawEventLog']),'ack':!![]}),await _0x1470aa['setStateAsync'](LTM_DP_STATUS,{'val':_0x3ee014(0x1f1),'ack':!![]});if(_0x1470aa['isProVersion']&&_0x39de3b)_0x39de3b[_0x3ee014(0x1f6)](_0x1470aa,_0x3ee014(0x21c),{'digest':_0x5dad10});}catch(_0xa31ba6){_0x1470aa['log'][_0x3ee014(0x211)](_0xa31ba6['message']);}}async function runBaselineDriftAnalysis(_0x40d2ee){const _0x3eefc5=a0_0x1858d3;if(!_0x40d2ee[_0x3eefc5(0x1b7)]||!_0x40d2ee[_0x3eefc5(0x234)])return;if(!canCallApi())return;const _0xa01e88=_0x40d2ee[_0x3eefc5(0x1c3)][_0x3eefc5(0x1bd)]||0xe;if(_0x40d2ee[_0x3eefc5(0x1e4)][_0x3eefc5(0x20a)]<_0xa01e88+0x7){await _0x40d2ee['setStateAsync'](_0x3eefc5(0x233),{'val':_0x3eefc5(0x1b9),'ack':!![]});return;}const _0x41ec06=_0x40d2ee[_0x3eefc5(0x1e4)][_0x3eefc5(0x203)](-_0xa01e88),_0x39d00f=_0x40d2ee[_0x3eefc5(0x1e4)][_0x3eefc5(0x203)](0x0,_0x40d2ee[_0x3eefc5(0x1e4)][_0x3eefc5(0x20a)]-_0xa01e88),_0x1d178c=_0x3eefc5(0x226)+JSON[_0x3eefc5(0x1c1)](_0x39d00f)+_0x3eefc5(0x1f3)+JSON[_0x3eefc5(0x1c1)](_0x41ec06);try{updateApiTimestamp();const _0x1014bc=await _0x40d2ee['geminiModel'][_0x3eefc5(0x1f9)](_0x1d178c),_0x3867a3=JSON['parse'](_0x1014bc[_0x3eefc5(0x1f2)][_0x3eefc5(0x1f5)]()[_0x3eefc5(0x20f)](/```json|```/g,'')['trim']());_0x3867a3[_0x3eefc5(0x20c)]&&(await _0x40d2ee[_0x3eefc5(0x207)]('LTM.driftAnalysis.baselineDrift',{'val':_0x3867a3[_0x3eefc5(0x20c)],'ack':!![]}),await _0x40d2ee[_0x3eefc5(0x207)](_0x3eefc5(0x1c4),{'val':_0x3867a3[_0x3eefc5(0x1e3)],'ack':!![]}),await _0x40d2ee[_0x3eefc5(0x207)](_0x3eefc5(0x1b5),{'val':Date[_0x3eefc5(0x1f8)](),'ack':!![]}));}catch(_0x3aeecd){}}async function executeAutomationAction(_0x1f7e57){const _0x5c351b=a0_0x1858d3;try{const _0x13514a=await _0x1f7e57[_0x5c351b(0x221)](_0x5c351b(0x1da)),_0x4c4493=await _0x1f7e57[_0x5c351b(0x221)]('analysis.automation.targetValue');if(_0x13514a&&_0x13514a[_0x5c351b(0x1db)]&&_0x4c4493){const _0x4ace44=_0x13514a[_0x5c351b(0x1db)];let _0x55cd46=_0x4c4493[_0x5c351b(0x1db)];try{_0x55cd46=JSON[_0x5c351b(0x1d8)](_0x55cd46);}catch(_0x4ce760){}_0x1f7e57[_0x5c351b(0x1ce)][_0x5c351b(0x208)](_0x5c351b(0x22b)+_0x4ace44+'\x20=\x20'+_0x55cd46),await _0x1f7e57[_0x5c351b(0x1b2)](_0x4ace44,_0x55cd46);}else _0x1f7e57[_0x5c351b(0x1ce)]['warn'](_0x5c351b(0x237));}catch(_0xaf8bb2){_0x1f7e57[_0x5c351b(0x1ce)][_0x5c351b(0x211)](_0x5c351b(0x1d7)+_0xaf8bb2[_0x5c351b(0x1d0)]);}}async function sendMorningBriefing(_0x340b42){const _0xeeeb0a=a0_0x1858d3;if(!_0x340b42[_0xeeeb0a(0x234)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x2434f3='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0x3e34b5=await _0x340b42['geminiModel']['generateContent'](_0x2434f3),_0x5610b9=_0x3e34b5[_0xeeeb0a(0x1f2)]['text']();setup[_0xeeeb0a(0x1c2)](_0x340b42,'üåÖ\x20Morning\x20Briefing:\x0a'+_0x5610b9);}catch(_0x2f2c01){_0x340b42['log']['error'](_0xeeeb0a(0x1d1)+_0x2f2c01[_0xeeeb0a(0x1d0)]);}}module[a0_0x1858d3(0x1dd)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};