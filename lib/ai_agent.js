const a0_0x3622c0=a0_0x12f4;(function(_0x1d370b,_0x3d4815){const _0x28e049=a0_0x12f4,_0x4650af=_0x1d370b();while(!![]){try{const _0x5bd6ee=-parseInt(_0x28e049(0x149))/0x1+-parseInt(_0x28e049(0x160))/0x2*(parseInt(_0x28e049(0x16e))/0x3)+parseInt(_0x28e049(0x157))/0x4*(-parseInt(_0x28e049(0x15e))/0x5)+-parseInt(_0x28e049(0x178))/0x6+parseInt(_0x28e049(0x194))/0x7*(parseInt(_0x28e049(0x17e))/0x8)+parseInt(_0x28e049(0x16a))/0x9+parseInt(_0x28e049(0x166))/0xa*(parseInt(_0x28e049(0x1ac))/0xb);if(_0x5bd6ee===_0x3d4815)break;else _0x4650af['push'](_0x4650af['shift']());}catch(_0x327a88){_0x4650af['push'](_0x4650af['shift']());}}}(a0_0xe611,0xefd8a));const a0_0x59bcda=(function(){let _0x5f2549=!![];return function(_0x54cc4a,_0x5c2ea0){const _0x9aded=_0x5f2549?function(){const _0x531b6d=a0_0x12f4;if(_0x5c2ea0){const _0x52e67c=_0x5c2ea0[_0x531b6d(0x18b)](_0x54cc4a,arguments);return _0x5c2ea0=null,_0x52e67c;}}:function(){};return _0x5f2549=![],_0x9aded;};}()),a0_0x593def=a0_0x59bcda(this,function(){const _0x1a9df1=a0_0x12f4;return a0_0x593def[_0x1a9df1(0x16b)]()[_0x1a9df1(0x151)](_0x1a9df1(0x15d))['toString']()['constructor'](a0_0x593def)['search'](_0x1a9df1(0x15d));});a0_0x593def();'use strict';const {GoogleGenerativeAI}=require(a0_0x3622c0(0x1b9)),setup=require('./setup'),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x3622c0(0x15b),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x3622c0(0x1b4),'senior_aal':a0_0x3622c0(0x181),'family':'Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','single_comfort':a0_0x3622c0(0x14d),'security':a0_0x3622c0(0x186),'energy_saver':a0_0x3622c0(0x1a3)};function canCallApi(){const _0x193f58=a0_0x3622c0,_0x545a31=Date[_0x193f58(0x19d)]();return _0x545a31-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x3dced5=a0_0x3622c0;lastGlobalApiCall=Date[_0x3dced5(0x19d)]();}async function getWeatherContext(_0x146da0){const _0x3c8eaa=a0_0x3622c0;if(!_0x146da0[_0x3c8eaa(0x1ad)][_0x3c8eaa(0x1aa)]||!_0x146da0[_0x3c8eaa(0x1ad)][_0x3c8eaa(0x1a7)])return _0x3c8eaa(0x1a9);try{const _0x274dea=_0x146da0[_0x3c8eaa(0x1ad)]['weatherInstance'];let _0xf99ff2=await _0x146da0['getForeignStateAsync'](_0x274dea+_0x3c8eaa(0x18e));if(!_0xf99ff2)_0xf99ff2=await _0x146da0[_0x3c8eaa(0x19e)](_0x274dea+_0x3c8eaa(0x1c8));let _0x50a1ee=await _0x146da0[_0x3c8eaa(0x19e)](_0x274dea+'.Current.WeatherText');if(!_0x50a1ee)_0x50a1ee=await _0x146da0[_0x3c8eaa(0x19e)](_0x274dea+_0x3c8eaa(0x179));let _0x51346f='Unbekannt';const _0x5bb2f6=await _0x146da0[_0x3c8eaa(0x19e)](_0x274dea+'.Current.IsNight');if(_0x5bb2f6)_0x51346f=_0x5bb2f6['val']?'Nacht':_0x3c8eaa(0x148);if(_0xf99ff2&&_0x50a1ee)return _0xf99ff2['val']+'¬∞C,\x20'+_0x50a1ee[_0x3c8eaa(0x1b5)]+_0x3c8eaa(0x19c)+_0x51346f;}catch(_0x38af1c){}return _0x3c8eaa(0x189);}async function consultButler(_0x3d4d6c,_0x40b657,_0x198150,_0x3abfe4){const _0x9cf66f=a0_0x3622c0;if(!_0x3d4d6c[_0x9cf66f(0x1b8)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x1a6dd4=Date[_0x9cf66f(0x19d)]();if(decisionCache[_0x40b657]&&_0x1a6dd4-decisionCache[_0x40b657]['timestamp']<CACHE_TTL_MS){const _0x398343=decisionCache[_0x40b657][_0x9cf66f(0x14f)];return _0x3d4d6c[_0x9cf66f(0x1b6)][_0x9cf66f(0x1c4)]('ü§ñ\x20Butler\x20Cache\x20Hit:\x20'+_0x40b657+_0x9cf66f(0x14c)+(_0x398343[_0x9cf66f(0x1c3)]?'OK':'NO')+'\x20('+_0x398343[_0x9cf66f(0x17b)]+')'),_0x398343;}if(!canCallApi())return _0x3d4d6c[_0x9cf66f(0x1b6)][_0x9cf66f(0x1c4)]('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x40b657+'\x20√ºbersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0x9cf66f(0x1b2)};const _0x4bd4d0=new Date()['toLocaleTimeString'](),_0x547824=await getWeatherContext(_0x3d4d6c),_0x1079c1=PERSONA_MAPPING[_0x3d4d6c[_0x9cf66f(0x1ad)][_0x9cf66f(0x14e)]||_0x9cf66f(0x180)],_0x3f8dc4=_0x9cf66f(0x190)+_0x4bd4d0+_0x9cf66f(0x197)+_0x547824+_0x9cf66f(0x17a)+(_0x3abfe4*0x64)[_0x9cf66f(0x18f)](0x0)+_0x9cf66f(0x163)+_0x40b657+_0x9cf66f(0x156)+_0x198150+_0x9cf66f(0x15c)+_0x1079c1+_0x9cf66f(0x167);try{updateApiTimestamp();const _0x3db19d=await _0x3d4d6c[_0x9cf66f(0x1b8)][_0x9cf66f(0x16d)](_0x3f8dc4),_0xf692ab=_0x3db19d[_0x9cf66f(0x162)]['text']()[_0x9cf66f(0x1a8)](/```json|```/g,'')[_0x9cf66f(0x169)](),_0x588642=JSON['parse'](_0xf692ab);return decisionCache[_0x40b657]={'decision':_0x588642,'timestamp':_0x1a6dd4},_0x588642;}catch(_0x277217){return _0x3d4d6c[_0x9cf66f(0x1b6)][_0x9cf66f(0x174)](_0x9cf66f(0x184)+_0x277217[_0x9cf66f(0x154)]),decisionCache[_0x40b657]={'decision':{'approved':!![],'reason':_0x9cf66f(0x18a)},'timestamp':_0x1a6dd4-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x9cf66f(0x18a)};}}async function runGeminiAnalysis(_0x25c7b1,_0x534c2d=''){const _0x5ed450=a0_0x3622c0;if(!_0x25c7b1['geminiModel'])return;if(!canCallApi()){_0x25c7b1[_0x5ed450(0x1b6)]['debug']('ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x25c7b1[_0x5ed450(0x177)][_0x5ed450(0x1bf)]===0x0)return;const _0x75411e=_0x25c7b1[_0x5ed450(0x177)]['slice'](0x0,0xf),_0x388f07=_0x25c7b1[_0x5ed450(0x1ae)],_0x175b8a=PERSONA_MAPPING[_0x25c7b1[_0x5ed450(0x1ad)][_0x5ed450(0x14e)]||_0x5ed450(0x180)],_0x3b47a5=_0x25c7b1[_0x5ed450(0x1ad)][_0x5ed450(0x18d)]||_0x5ed450(0x161);let _0xe49405=_0x5ed450(0x1ab);try{const _0x1d3561=await _0x25c7b1['getStateAsync'](_0x5ed450(0x165));if(_0x1d3561&&_0x1d3561['val'])_0xe49405=_0x1d3561[_0x5ed450(0x1b5)];}catch(_0x4f4293){}let _0x5aff3b=![];try{const _0x15d532=await _0x25c7b1[_0x5ed450(0x196)]('analysis.automation.autoApply');if(_0x15d532&&_0x15d532[_0x5ed450(0x1b5)])_0x5aff3b=!![];}catch(_0x293c57){}const _0x56a990='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x175b8a+_0x5ed450(0x1a6)+_0x3b47a5+'.\x20SYSTEM_MODE:\x20'+_0x388f07+'.\x20ANWESEND:\x20'+_0xe49405+_0x5ed450(0x145)+JSON[_0x5ed450(0x18c)](_0x75411e)+'.\x20EMERGENCY:\x20'+_0x534c2d+_0x5ed450(0x175);try{updateApiTimestamp();const _0x4b3cbf=await _0x25c7b1[_0x5ed450(0x1b8)][_0x5ed450(0x16d)](_0x56a990),_0x18ac36=JSON[_0x5ed450(0x1b1)](_0x4b3cbf[_0x5ed450(0x162)]['text']()[_0x5ed450(0x1a8)](/```json|```/g,'')[_0x5ed450(0x169)]());await _0x25c7b1[_0x5ed450(0x1a5)](_0x5ed450(0x15f),{'val':JSON[_0x5ed450(0x18c)](_0x18ac36),'ack':!![]});if(_0x18ac36[_0x5ed450(0x1c1)])await _0x25c7b1[_0x5ed450(0x1a5)](_0x5ed450(0x150),{'val':_0x18ac36['summary'],'ack':!![]});const _0x2872cf={'timestamp':Date[_0x5ed450(0x19d)](),'id':Date[_0x5ed450(0x19d)]()[_0x5ed450(0x16b)](),'analysis':{'activity':{'summary':_0x18ac36[_0x5ed450(0x1c1)],'isAlert':_0x18ac36[_0x5ed450(0x14b)],'alertReason':_0x18ac36[_0x5ed450(0x14a)]},'comfort':{'automationProposal':_0x18ac36[_0x5ed450(0x191)]}}};_0x25c7b1[_0x5ed450(0x19a)][_0x5ed450(0x1be)](_0x2872cf);if(_0x25c7b1[_0x5ed450(0x19a)][_0x5ed450(0x1bf)]>0x32)_0x25c7b1[_0x5ed450(0x19a)][_0x5ed450(0x1bd)]();await _0x25c7b1[_0x5ed450(0x1a5)](_0x5ed450(0x164),{'val':JSON['stringify'](_0x25c7b1[_0x5ed450(0x19a)]),'ack':!![]});const _0x36d8f3=_0x18ac36[_0x5ed450(0x14b)]||![];_0x36d8f3!==_0x25c7b1[_0x5ed450(0x1bc)]&&(await _0x25c7b1['setStateAsync'](_0x5ed450(0x168),{'val':_0x36d8f3,'ack':!![]}),_0x25c7b1[_0x5ed450(0x1bc)]=_0x36d8f3,_0x36d8f3&&(await _0x25c7b1[_0x5ed450(0x1a5)](_0x5ed450(0x192),{'val':_0x18ac36[_0x5ed450(0x14a)],'ack':!![]}),setup[_0x5ed450(0x187)](_0x25c7b1,_0x5ed450(0x171)+_0x18ac36[_0x5ed450(0x14a)],![],_0x18ac36[_0x5ed450(0x1a0)])));if(_0x18ac36[_0x5ed450(0x191)]&&_0x18ac36[_0x5ed450(0x191)][_0x5ed450(0x176)]){await _0x25c7b1['setStateAsync'](_0x5ed450(0x17c),{'val':!![],'ack':!![]}),await _0x25c7b1['setStateAsync'](_0x5ed450(0x1a4),{'val':_0x18ac36['automationProposal']['description'],'ack':!![]}),await _0x25c7b1[_0x5ed450(0x1a5)](_0x5ed450(0x153),{'val':_0x18ac36[_0x5ed450(0x191)]['targetId'],'ack':!![]}),await _0x25c7b1[_0x5ed450(0x1a5)](_0x5ed450(0x183),{'val':JSON[_0x5ed450(0x18c)](_0x18ac36[_0x5ed450(0x191)]['targetValue']),'ack':!![]});if(_0x5aff3b)executeAutomationAction(_0x25c7b1);}}catch(_0xbf809b){_0x25c7b1['log'][_0x5ed450(0x144)](_0x5ed450(0x1a2)+_0xbf809b['message']);}}async function createDailyDigest(_0x104469,_0x376ca9){const _0x59bd3b=a0_0x3622c0;if(!_0x104469[_0x59bd3b(0x16c)])return;if(!canCallApi()){await _0x104469[_0x59bd3b(0x1a5)](LTM_DP_STATUS,{'val':_0x59bd3b(0x146),'ack':!![]});return;}await _0x104469[_0x59bd3b(0x1a5)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x104469['geminiModel']||_0x104469['rawEventLog'][_0x59bd3b(0x1bf)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x104469[_0x59bd3b(0x1a5)](LTM_DP_STATUS,{'val':_0x59bd3b(0x1c5),'ack':!![]});return;}const _0x141bc8=JSON['parse'](JSON[_0x59bd3b(0x18c)](_0x104469['rawEventLog'])),_0x13aee3=_0x141bc8[_0x59bd3b(0x1bf)],_0x3a9dc0=_0x59bd3b(0x1c2)+JSON[_0x59bd3b(0x18c)](_0x141bc8);try{updateApiTimestamp();const _0x1cec04=await _0x104469[_0x59bd3b(0x1b8)]['generateContent'](_0x3a9dc0),_0x5ab9a8=JSON[_0x59bd3b(0x1b1)](_0x1cec04[_0x59bd3b(0x162)][_0x59bd3b(0x147)]()['replace'](/```json|```/g,'')[_0x59bd3b(0x169)]()),_0x1a38fc={'timestamp':new Date()[_0x59bd3b(0x1c0)](),'eventCount':_0x13aee3,'summary':_0x5ab9a8[_0x59bd3b(0x1c1)]||'Digest','activityLevel':_0x5ab9a8[_0x59bd3b(0x159)]||_0x59bd3b(0x1a1),'systemMode':_0x104469['currentSystemMode']};_0x104469[_0x59bd3b(0x1b3)][_0x59bd3b(0x1b7)](_0x1a38fc);const _0x4c341c=_0x104469['config'][_0x59bd3b(0x158)]||0x3c;_0x104469['dailyDigests'][_0x59bd3b(0x1bf)]>_0x4c341c&&_0x104469[_0x59bd3b(0x1b3)][_0x59bd3b(0x198)](0x0,_0x104469['dailyDigests'][_0x59bd3b(0x1bf)]-_0x4c341c);await _0x104469[_0x59bd3b(0x1a5)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x104469[_0x59bd3b(0x1b3)]),'ack':!![]}),_0x104469['rawEventLog']=[],await _0x104469[_0x59bd3b(0x1a5)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x104469[_0x59bd3b(0x1c7)]),'ack':!![]}),await _0x104469[_0x59bd3b(0x1a5)](LTM_DP_STATUS,{'val':_0x59bd3b(0x17d),'ack':!![]});const _0x3942c2=_0x59bd3b(0x1c6)+_0x5ab9a8['summary']+_0x59bd3b(0x172)+_0x5ab9a8[_0x59bd3b(0x159)];setup[_0x59bd3b(0x187)](_0x104469,_0x3942c2,![],![]);if(_0x104469['isProVersion']&&_0x376ca9)_0x376ca9[_0x59bd3b(0x1af)](_0x104469,_0x59bd3b(0x15a),{'digest':_0x1a38fc});}catch(_0xf884ff){_0x104469[_0x59bd3b(0x1b6)][_0x59bd3b(0x144)](_0xf884ff[_0x59bd3b(0x154)]);}}function a0_0xe611(){const _0x22457c=['analysis.automation.patternDetected','Success','1328EYaiNn','exports','generic','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','LTM.driftAnalysis.baselineDrift','analysis.automation.targetValue','ü§ñ\x20Butler\x20Brain\x20Error:\x20','BUTLER\x20Execution\x20Error:\x20','Sicherheit\x20geht\x20vor.','sendNotification','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','Wetterdaten\x20nicht\x20abrufbar','KI-Fehler\x20(Fallback)','apply','stringify','livingContext','.Current.Temperature','toFixed','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','automationProposal','analysis.alertReason','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','30618McSRVi','slice','getStateAsync',',\x20Wetter:\x20','splice','N/A\x20(Learning)','analysisHistory','baselineDrift',',\x20Lichtverh√§ltnisse:\x20','now','getForeignStateAsync','\x0aSTB:\x20','isEmergency','normal','Gemini\x20Error:\x20','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','analysis.automation.description','setStateAsync','.\x20KONTEXT:\x20','weatherInstance','replace','Unbekannt\x20(Kein\x20Sensor)','useWeather','Unbekannt','49478VMxxQy','config','currentSystemMode','send','LTM.driftAnalysis.driftDetails','parse','Traffic-Schutz\x20(Auto-Approved)','dailyDigests','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','val','log','push','geminiModel','@google/generative-ai','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','LTM.driftAnalysis.lastCheck','lastAlertState','pop','unshift','length','toISOString','summary','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','approved','debug','Skipped\x20(No\x20AI\x20or\x20Data)','üìÖ\x20Daily\x20Digest:\x0a','rawEventLog','.forecast.current.temperature','error','.\x20EVENTS:\x20','Skipped\x20(Traffic)','text','Tag','1836701yiBqTq','alertReason','isAlert','\x20->\x20','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','aiPersona','decision','analysis.activitySummary','search','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','analysis.automation.targetId','message','driftDetails','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','12yPDGTv','ltmLtbWindowDays','activityLevel','ANALYZE_HEALTH','LTM.rawEventLog','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','(((.+)+)+)+$','1635005rEAaHm','analysis.lastResult','2913418RwolrT','Keine\x20Details.','response','%)\x20nach\x20\x22','analysis.analysisHistory','system.presenceWho','12220UNgzsQ','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','analysis.isAlert','trim','5469093dLIEen','toString','isProVersion','generateContent','3JqwOYk','üåÖ\x20Morning\x20Briefing:\x0a','info','‚ö†Ô∏è\x20ALARM:\x20','\x0aAktivit√§t:\x20','ltmStbWindowDays','warn','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','detected','eventHistory','9440964ISrHMB','.forecast.current.state','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','reason'];a0_0xe611=function(){return _0x22457c;};return a0_0xe611();}async function runBaselineDriftAnalysis(_0x25a8c6){const _0x1d0c09=a0_0x3622c0;if(!_0x25a8c6[_0x1d0c09(0x16c)]||!_0x25a8c6[_0x1d0c09(0x1b8)])return;if(!canCallApi())return;const _0x3aee55=_0x25a8c6['config'][_0x1d0c09(0x173)]||0xe;if(_0x25a8c6[_0x1d0c09(0x1b3)]['length']<_0x3aee55+0x7){await _0x25a8c6['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x1d0c09(0x199),'ack':!![]});return;}const _0x5b13c0=_0x25a8c6[_0x1d0c09(0x1b3)]['slice'](-_0x3aee55),_0x8e6f12=_0x25a8c6[_0x1d0c09(0x1b3)][_0x1d0c09(0x195)](0x0,_0x25a8c6[_0x1d0c09(0x1b3)]['length']-_0x3aee55),_0xbd69ee=_0x1d0c09(0x193)+JSON[_0x1d0c09(0x18c)](_0x8e6f12)+_0x1d0c09(0x19f)+JSON[_0x1d0c09(0x18c)](_0x5b13c0);try{updateApiTimestamp();const _0x3661c0=await _0x25a8c6[_0x1d0c09(0x1b8)][_0x1d0c09(0x16d)](_0xbd69ee),_0x6225b8=JSON[_0x1d0c09(0x1b1)](_0x3661c0[_0x1d0c09(0x162)]['text']()[_0x1d0c09(0x1a8)](/```json|```/g,'')[_0x1d0c09(0x169)]());_0x6225b8[_0x1d0c09(0x19b)]&&(await _0x25a8c6['setStateAsync'](_0x1d0c09(0x182),{'val':_0x6225b8['baselineDrift'],'ack':!![]}),await _0x25a8c6['setStateAsync'](_0x1d0c09(0x1b0),{'val':_0x6225b8[_0x1d0c09(0x155)],'ack':!![]}),await _0x25a8c6[_0x1d0c09(0x1a5)](_0x1d0c09(0x1bb),{'val':Date[_0x1d0c09(0x19d)](),'ack':!![]}));}catch(_0x2cfdad){}}function a0_0x12f4(_0x39180e,_0x44abe3){const _0xbafd82=a0_0xe611();return a0_0x12f4=function(_0x593def,_0x59bcda){_0x593def=_0x593def-0x144;let _0xe61195=_0xbafd82[_0x593def];return _0xe61195;},a0_0x12f4(_0x39180e,_0x44abe3);}async function executeAutomationAction(_0x42522a){const _0x2484e7=a0_0x3622c0;try{const _0x54a357=await _0x42522a[_0x2484e7(0x196)](_0x2484e7(0x153)),_0x482d61=await _0x42522a[_0x2484e7(0x196)](_0x2484e7(0x183));if(_0x54a357&&_0x54a357['val']&&_0x482d61){const _0x2e4349=_0x54a357[_0x2484e7(0x1b5)];let _0x1a58be=_0x482d61['val'];try{_0x1a58be=JSON[_0x2484e7(0x1b1)](_0x1a58be);}catch(_0x3ad431){}_0x42522a[_0x2484e7(0x1b6)][_0x2484e7(0x170)](_0x2484e7(0x152)+_0x2e4349+'\x20=\x20'+_0x1a58be),await _0x42522a['setForeignStateAsync'](_0x2e4349,_0x1a58be);}else _0x42522a['log']['warn'](_0x2484e7(0x1ba));}catch(_0x5b8838){_0x42522a[_0x2484e7(0x1b6)][_0x2484e7(0x144)](_0x2484e7(0x185)+_0x5b8838[_0x2484e7(0x154)]);}}async function sendMorningBriefing(_0x1b45cb){const _0x39b7a1=a0_0x3622c0;if(!_0x1b45cb[_0x39b7a1(0x1b8)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x2f4901=_0x39b7a1(0x188),_0x4a368d=await _0x1b45cb[_0x39b7a1(0x1b8)][_0x39b7a1(0x16d)](_0x2f4901),_0x9dbb46=_0x4a368d[_0x39b7a1(0x162)][_0x39b7a1(0x147)]();setup[_0x39b7a1(0x187)](_0x1b45cb,_0x39b7a1(0x16f)+_0x9dbb46);}catch(_0x2b01eb){_0x1b45cb[_0x39b7a1(0x1b6)]['error']('Briefing\x20Error:\x20'+_0x2b01eb[_0x39b7a1(0x154)]);}}module[a0_0x3622c0(0x17f)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};