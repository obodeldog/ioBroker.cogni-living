const a0_0x2f48d8=a0_0x2da1;(function(_0x496260,_0x4c73aa){const _0xfd93f=a0_0x2da1,_0x2e69be=_0x496260();while(!![]){try{const _0x2c05ec=parseInt(_0xfd93f(0x1c6))/0x1*(-parseInt(_0xfd93f(0x1d9))/0x2)+parseInt(_0xfd93f(0x1f8))/0x3*(-parseInt(_0xfd93f(0x1dd))/0x4)+parseInt(_0xfd93f(0x1d7))/0x5*(-parseInt(_0xfd93f(0x1d8))/0x6)+parseInt(_0xfd93f(0x21e))/0x7*(parseInt(_0xfd93f(0x1e3))/0x8)+parseInt(_0xfd93f(0x1f5))/0x9+parseInt(_0xfd93f(0x217))/0xa*(-parseInt(_0xfd93f(0x220))/0xb)+parseInt(_0xfd93f(0x227))/0xc;if(_0x2c05ec===_0x4c73aa)break;else _0x2e69be['push'](_0x2e69be['shift']());}catch(_0x442227){_0x2e69be['push'](_0x2e69be['shift']());}}}(a0_0x3d17,0x6eb7e));function a0_0x3d17(){const _0x112f72=['KI-Fehler\x20(Fallback)','Sicherheit\x20geht\x20vor.','text','driftDetails','stringify','debug','âš ï¸\x20ALARM:\x20','generateContent','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','search','analysis.lastResult','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','targetValue','pop','(((.+)+)+)+$','warn','slice','currentSystemMode','.forecast.current.state','@google/generative-ai','activityLevel','automationProposal','.Current.Temperature','47bJlDDd','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','Briefing\x20Error:\x20','config','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','analysisHistory','analysis.automation.description','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','livingContext','splice','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','push','sendNotification','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','toString','LTM.rawEventLog','535EbvOZK','34968lNIKBf','18982GXVbve','LTM.driftAnalysis.driftDetails','.Current.IsNight','ltmStbWindowDays','449348qBkOwA','timestamp','targetId','Tag','LTM.dailyDigests','LTM.driftAnalysis.lastCheck','96pOmEDW','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','now','dailyDigests','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','baselineDrift','\x20Ã¼bersprungen\x20(Auto-Approved).','apply','analysis.activitySummary','Unbekannt','.Current.WeatherText','rawEventLog','val','KI\x20offline\x20(Fallback)','.forecast.current.temperature','toFixed','analysis.automation.targetValue','setForeignStateAsync','6599115QFBLWl','BUTLER\x20Execution\x20Error:\x20','constructor','3cyedWb','Digest','\x20->\x20','ltmLtbWindowDays','length','isEmergency','lastAlertState','analysis.automation.patternDetected','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','N/A\x20(Learning)','alertReason','geminiModel','parse','./setup','trim','.\x20EMERGENCY:\x20','send','analysis.alertReason','Started...','analysis.analysisHistory','reason','isProVersion','Success','analysis.automation.targetId','Skipped\x20(No\x20AI\x20or\x20Data)','replace','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','toLocaleTimeString','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','models/gemini-flash-latest','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','500eLAYCx','%)\x20nach\x20\x22','log','weatherInstance','message','unshift','info','338534VxhjtQ','Traffic-Schutz\x20(Auto-Approved)','141669tzRfAp','getForeignStateAsync','summary','setStateAsync',',\x20Wetter:\x20','eventHistory','\x20=\x20','11590596cjgizR','\x0aSTB:\x20','generic','aiPersona','error','response','detected','Skipped\x20(Traffic)','getStateAsync'];a0_0x3d17=function(){return _0x112f72;};return a0_0x3d17();}const a0_0xca5735=(function(){let _0x4be58f=!![];return function(_0x31ff3a,_0x2490c0){const _0x57129f=_0x4be58f?function(){const _0x18145e=a0_0x2da1;if(_0x2490c0){const _0x161860=_0x2490c0[_0x18145e(0x1ea)](_0x31ff3a,arguments);return _0x2490c0=null,_0x161860;}}:function(){};return _0x4be58f=![],_0x57129f;};}()),a0_0xa9e7ef=a0_0xca5735(this,function(){const _0xa1bae0=a0_0x2da1;return a0_0xa9e7ef['toString']()[_0xa1bae0(0x1b8)]('(((.+)+)+)+$')[_0xa1bae0(0x1d5)]()[_0xa1bae0(0x1f7)](a0_0xa9e7ef)[_0xa1bae0(0x1b8)](_0xa1bae0(0x1bd));});a0_0xa9e7ef();'use strict';const {GoogleGenerativeAI}=require(a0_0x2f48d8(0x1c2)),setup=require(a0_0x2f48d8(0x205)),GEMINI_MODEL=a0_0x2f48d8(0x215),LTM_DP_DAILY_DIGESTS=a0_0x2f48d8(0x1e1),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x2f48d8(0x1d6),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;function a0_0x2da1(_0x1ab5da,_0x2e84e6){const _0x2eb72d=a0_0x3d17();return a0_0x2da1=function(_0xa9e7ef,_0xca5735){_0xa9e7ef=_0xa9e7ef-0x1a9;let _0x3d17b5=_0x2eb72d[_0xa9e7ef];return _0x3d17b5;},a0_0x2da1(_0x1ab5da,_0x2e84e6);}let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x2f48d8(0x1cd),'family':'Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','single_comfort':a0_0x2f48d8(0x216),'security':a0_0x2f48d8(0x1b0),'energy_saver':a0_0x2f48d8(0x1c7)};function canCallApi(){const _0x3c4a47=Date['now']();return _0x3c4a47-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x39d0e9=a0_0x2f48d8;lastGlobalApiCall=Date[_0x39d0e9(0x1e5)]();}async function getWeatherContext(_0x3ccd15){const _0x245f76=a0_0x2f48d8;if(!_0x3ccd15[_0x245f76(0x1c9)]['useWeather']||!_0x3ccd15[_0x245f76(0x1c9)]['weatherInstance'])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x26ba4c=_0x3ccd15['config'][_0x245f76(0x21a)];let _0x460d38=await _0x3ccd15['getForeignStateAsync'](_0x26ba4c+_0x245f76(0x1c5));if(!_0x460d38)_0x460d38=await _0x3ccd15['getForeignStateAsync'](_0x26ba4c+_0x245f76(0x1f1));let _0x1961d7=await _0x3ccd15[_0x245f76(0x221)](_0x26ba4c+_0x245f76(0x1ed));if(!_0x1961d7)_0x1961d7=await _0x3ccd15[_0x245f76(0x221)](_0x26ba4c+_0x245f76(0x1c1));let _0x3ffeb1='Unbekannt';const _0x21586b=await _0x3ccd15[_0x245f76(0x221)](_0x26ba4c+_0x245f76(0x1db));if(_0x21586b)_0x3ffeb1=_0x21586b[_0x245f76(0x1ef)]?'Nacht':_0x245f76(0x1e0);if(_0x460d38&&_0x1961d7)return _0x460d38[_0x245f76(0x1ef)]+'Â°C,\x20'+_0x1961d7['val']+',\x20LichtverhÃ¤ltnisse:\x20'+_0x3ffeb1;}catch(_0x533df5){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x1b5840,_0x1a3ae6,_0x1d8166,_0xc6f94b){const _0x426b41=a0_0x2f48d8;if(!_0x1b5840['geminiModel'])return{'approved':!![],'reason':_0x426b41(0x1f0)};const _0x1a073f=Date[_0x426b41(0x1e5)]();if(decisionCache[_0x1a3ae6]&&_0x1a073f-decisionCache[_0x1a3ae6][_0x426b41(0x1de)]<CACHE_TTL_MS){const _0x5cd61c=decisionCache[_0x1a3ae6]['decision'];return _0x1b5840['log'][_0x426b41(0x1b4)](_0x426b41(0x212)+_0x1a3ae6+_0x426b41(0x1fa)+(_0x5cd61c['approved']?'OK':'NO')+'\x20('+_0x5cd61c[_0x426b41(0x20c)]+')'),_0x5cd61c;}if(!canCallApi())return _0x1b5840[_0x426b41(0x219)][_0x426b41(0x1b4)](_0x426b41(0x1d4)+_0x1a3ae6+_0x426b41(0x1e9)),{'approved':!![],'reason':_0x426b41(0x21f)};const _0x2cc6ff=new Date()[_0x426b41(0x213)](),_0x4378fb=await getWeatherContext(_0x1b5840),_0x30909b=PERSONA_MAPPING[_0x1b5840[_0x426b41(0x1c9)][_0x426b41(0x1a9)]||_0x426b41(0x229)],_0x37a398=_0x426b41(0x1ba)+_0x2cc6ff+_0x426b41(0x224)+_0x4378fb+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0xc6f94b*0x64)[_0x426b41(0x1f2)](0x0)+_0x426b41(0x218)+_0x1a3ae6+_0x426b41(0x1b7)+_0x1d8166+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x30909b+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x330143=await _0x1b5840[_0x426b41(0x203)][_0x426b41(0x1b6)](_0x37a398),_0x420768=_0x330143[_0x426b41(0x1ab)]['text']()[_0x426b41(0x211)](/```json|```/g,'')['trim'](),_0x59eff2=JSON['parse'](_0x420768);return decisionCache[_0x1a3ae6]={'decision':_0x59eff2,'timestamp':_0x1a073f},_0x59eff2;}catch(_0x2cd0f9){return _0x1b5840[_0x426b41(0x219)][_0x426b41(0x1be)](_0x426b41(0x1d0)+_0x2cd0f9[_0x426b41(0x21b)]),decisionCache[_0x1a3ae6]={'decision':{'approved':!![],'reason':_0x426b41(0x1af)},'timestamp':_0x1a073f-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x426b41(0x1af)};}}async function runGeminiAnalysis(_0x5e3037,_0x3272a0=''){const _0x394c78=a0_0x2f48d8;if(!_0x5e3037['geminiModel'])return;if(!canCallApi()){_0x5e3037[_0x394c78(0x219)][_0x394c78(0x1b4)](_0x394c78(0x214));return;}if(_0x5e3037[_0x394c78(0x225)][_0x394c78(0x1fc)]===0x0)return;const _0x58cfa2=_0x5e3037[_0x394c78(0x225)][_0x394c78(0x1bf)](0x0,0xf),_0x158728=_0x5e3037['currentSystemMode'],_0x54aa3d=PERSONA_MAPPING[_0x5e3037[_0x394c78(0x1c9)][_0x394c78(0x1a9)]||_0x394c78(0x229)],_0x4b69bc=_0x5e3037[_0x394c78(0x1c9)][_0x394c78(0x1ce)]||'Keine\x20Details.';let _0x576936=_0x394c78(0x1ec);try{const _0x1957fb=await _0x5e3037[_0x394c78(0x1ae)]('system.presenceWho');if(_0x1957fb&&_0x1957fb[_0x394c78(0x1ef)])_0x576936=_0x1957fb['val'];}catch(_0x314c79){}let _0x368eae=![];try{const _0x24f8ab=await _0x5e3037[_0x394c78(0x1ae)]('analysis.automation.autoApply');if(_0x24f8ab&&_0x24f8ab[_0x394c78(0x1ef)])_0x368eae=!![];}catch(_0x2a7915){}const _0x415c89='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x54aa3d+'.\x20KONTEXT:\x20'+_0x4b69bc+'.\x20SYSTEM_MODE:\x20'+_0x158728+'.\x20ANWESEND:\x20'+_0x576936+'.\x20EVENTS:\x20'+JSON[_0x394c78(0x1b3)](_0x58cfa2)+_0x394c78(0x207)+_0x3272a0+_0x394c78(0x200);try{updateApiTimestamp();const _0x501a20=await _0x5e3037[_0x394c78(0x203)][_0x394c78(0x1b6)](_0x415c89),_0x30cc42=JSON['parse'](_0x501a20[_0x394c78(0x1ab)]['text']()['replace'](/```json|```/g,'')['trim']());await _0x5e3037[_0x394c78(0x223)](_0x394c78(0x1b9),{'val':JSON[_0x394c78(0x1b3)](_0x30cc42),'ack':!![]});if(_0x30cc42['summary'])await _0x5e3037['setStateAsync'](_0x394c78(0x1eb),{'val':_0x30cc42[_0x394c78(0x222)],'ack':!![]});const _0x569127={'timestamp':Date['now'](),'id':Date[_0x394c78(0x1e5)]()[_0x394c78(0x1d5)](),'analysis':{'activity':{'summary':_0x30cc42['summary'],'isAlert':_0x30cc42['isAlert'],'alertReason':_0x30cc42[_0x394c78(0x202)]},'comfort':{'automationProposal':_0x30cc42[_0x394c78(0x1c4)]}}};_0x5e3037[_0x394c78(0x1cb)][_0x394c78(0x21c)](_0x569127);if(_0x5e3037['analysisHistory'][_0x394c78(0x1fc)]>0x32)_0x5e3037[_0x394c78(0x1cb)][_0x394c78(0x1bc)]();await _0x5e3037[_0x394c78(0x223)](_0x394c78(0x20b),{'val':JSON[_0x394c78(0x1b3)](_0x5e3037[_0x394c78(0x1cb)]),'ack':!![]});const _0x2a9316=_0x30cc42['isAlert']||![];_0x2a9316!==_0x5e3037[_0x394c78(0x1fe)]&&(await _0x5e3037[_0x394c78(0x223)]('analysis.isAlert',{'val':_0x2a9316,'ack':!![]}),_0x5e3037[_0x394c78(0x1fe)]=_0x2a9316,_0x2a9316&&(await _0x5e3037[_0x394c78(0x223)](_0x394c78(0x209),{'val':_0x30cc42[_0x394c78(0x202)],'ack':!![]}),setup['sendNotification'](_0x5e3037,_0x394c78(0x1b5)+_0x30cc42[_0x394c78(0x202)],![],_0x30cc42[_0x394c78(0x1fd)])));if(_0x30cc42[_0x394c78(0x1c4)]&&_0x30cc42[_0x394c78(0x1c4)][_0x394c78(0x1ac)]){await _0x5e3037['setStateAsync'](_0x394c78(0x1ff),{'val':!![],'ack':!![]}),await _0x5e3037['setStateAsync'](_0x394c78(0x1cc),{'val':_0x30cc42['automationProposal']['description'],'ack':!![]}),await _0x5e3037[_0x394c78(0x223)](_0x394c78(0x20f),{'val':_0x30cc42[_0x394c78(0x1c4)][_0x394c78(0x1df)],'ack':!![]}),await _0x5e3037[_0x394c78(0x223)](_0x394c78(0x1f3),{'val':JSON[_0x394c78(0x1b3)](_0x30cc42[_0x394c78(0x1c4)][_0x394c78(0x1bb)]),'ack':!![]});if(_0x368eae)executeAutomationAction(_0x5e3037);}}catch(_0x3ddceb){_0x5e3037[_0x394c78(0x219)][_0x394c78(0x1aa)]('Gemini\x20Error:\x20'+_0x3ddceb[_0x394c78(0x21b)]);}}async function createDailyDigest(_0x3100aa,_0x3073c5){const _0xc9b057=a0_0x2f48d8;if(!_0x3100aa[_0xc9b057(0x20d)])return;if(!canCallApi()){await _0x3100aa[_0xc9b057(0x223)](LTM_DP_STATUS,{'val':_0xc9b057(0x1ad),'ack':!![]});return;}await _0x3100aa[_0xc9b057(0x223)](LTM_DP_STATUS,{'val':_0xc9b057(0x20a),'ack':!![]});if(!_0x3100aa[_0xc9b057(0x203)]||_0x3100aa[_0xc9b057(0x1ee)][_0xc9b057(0x1fc)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x3100aa['setStateAsync'](LTM_DP_STATUS,{'val':_0xc9b057(0x210),'ack':!![]});return;}const _0x105635=JSON[_0xc9b057(0x204)](JSON[_0xc9b057(0x1b3)](_0x3100aa[_0xc9b057(0x1ee)])),_0x58a912=_0x105635[_0xc9b057(0x1fc)],_0x3a9d5c=_0xc9b057(0x1e7)+JSON[_0xc9b057(0x1b3)](_0x105635);try{updateApiTimestamp();const _0x547f8d=await _0x3100aa['geminiModel'][_0xc9b057(0x1b6)](_0x3a9d5c),_0xde10ba=JSON[_0xc9b057(0x204)](_0x547f8d[_0xc9b057(0x1ab)][_0xc9b057(0x1b1)]()[_0xc9b057(0x211)](/```json|```/g,'')[_0xc9b057(0x206)]()),_0x2f05bd={'timestamp':new Date()['toISOString'](),'eventCount':_0x58a912,'summary':_0xde10ba[_0xc9b057(0x222)]||_0xc9b057(0x1f9),'activityLevel':_0xde10ba[_0xc9b057(0x1c3)]||'normal','systemMode':_0x3100aa[_0xc9b057(0x1c0)]};_0x3100aa[_0xc9b057(0x1e6)][_0xc9b057(0x1d1)](_0x2f05bd);const _0x4298e2=_0x3100aa['config'][_0xc9b057(0x1fb)]||0x3c;_0x3100aa[_0xc9b057(0x1e6)][_0xc9b057(0x1fc)]>_0x4298e2&&_0x3100aa[_0xc9b057(0x1e6)][_0xc9b057(0x1cf)](0x0,_0x3100aa[_0xc9b057(0x1e6)][_0xc9b057(0x1fc)]-_0x4298e2);await _0x3100aa[_0xc9b057(0x223)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0xc9b057(0x1b3)](_0x3100aa[_0xc9b057(0x1e6)]),'ack':!![]}),_0x3100aa[_0xc9b057(0x1ee)]=[],await _0x3100aa[_0xc9b057(0x223)](LTM_DP_RAW_LOG,{'val':JSON[_0xc9b057(0x1b3)](_0x3100aa[_0xc9b057(0x1ee)]),'ack':!![]}),await _0x3100aa['setStateAsync'](LTM_DP_STATUS,{'val':_0xc9b057(0x20e),'ack':!![]});if(_0x3100aa[_0xc9b057(0x20d)]&&_0x3073c5)_0x3073c5[_0xc9b057(0x208)](_0x3100aa,'ANALYZE_HEALTH',{'digest':_0x2f05bd});}catch(_0x2e5e2c){_0x3100aa[_0xc9b057(0x219)][_0xc9b057(0x1aa)](_0x2e5e2c['message']);}}async function runBaselineDriftAnalysis(_0xf459a1){const _0x3694c7=a0_0x2f48d8;if(!_0xf459a1[_0x3694c7(0x20d)]||!_0xf459a1[_0x3694c7(0x203)])return;if(!canCallApi())return;const _0x5302ec=_0xf459a1[_0x3694c7(0x1c9)][_0x3694c7(0x1dc)]||0xe;if(_0xf459a1[_0x3694c7(0x1e6)][_0x3694c7(0x1fc)]<_0x5302ec+0x7){await _0xf459a1['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x3694c7(0x201),'ack':!![]});return;}const _0x2635a0=_0xf459a1['dailyDigests'][_0x3694c7(0x1bf)](-_0x5302ec),_0x1cb5c9=_0xf459a1['dailyDigests'][_0x3694c7(0x1bf)](0x0,_0xf459a1['dailyDigests']['length']-_0x5302ec),_0x441553='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON['stringify'](_0x1cb5c9)+_0x3694c7(0x228)+JSON[_0x3694c7(0x1b3)](_0x2635a0);try{updateApiTimestamp();const _0xea645f=await _0xf459a1[_0x3694c7(0x203)][_0x3694c7(0x1b6)](_0x441553),_0x52c4c6=JSON[_0x3694c7(0x204)](_0xea645f[_0x3694c7(0x1ab)][_0x3694c7(0x1b1)]()[_0x3694c7(0x211)](/```json|```/g,'')[_0x3694c7(0x206)]());_0x52c4c6[_0x3694c7(0x1e8)]&&(await _0xf459a1[_0x3694c7(0x223)]('LTM.driftAnalysis.baselineDrift',{'val':_0x52c4c6[_0x3694c7(0x1e8)],'ack':!![]}),await _0xf459a1[_0x3694c7(0x223)](_0x3694c7(0x1da),{'val':_0x52c4c6[_0x3694c7(0x1b2)],'ack':!![]}),await _0xf459a1[_0x3694c7(0x223)](_0x3694c7(0x1e2),{'val':Date['now'](),'ack':!![]}));}catch(_0x37d598){}}async function executeAutomationAction(_0x10e8cb){const _0x4d39db=a0_0x2f48d8;try{const _0x3e5186=await _0x10e8cb[_0x4d39db(0x1ae)](_0x4d39db(0x20f)),_0x100dd5=await _0x10e8cb[_0x4d39db(0x1ae)](_0x4d39db(0x1f3));if(_0x3e5186&&_0x3e5186['val']&&_0x100dd5){const _0x1cc2bd=_0x3e5186['val'];let _0x46cd79=_0x100dd5[_0x4d39db(0x1ef)];try{_0x46cd79=JSON[_0x4d39db(0x204)](_0x46cd79);}catch(_0x2762ad){}_0x10e8cb[_0x4d39db(0x219)][_0x4d39db(0x21d)](_0x4d39db(0x1e4)+_0x1cc2bd+_0x4d39db(0x226)+_0x46cd79),await _0x10e8cb[_0x4d39db(0x1f4)](_0x1cc2bd,_0x46cd79);}else _0x10e8cb['log'][_0x4d39db(0x1be)](_0x4d39db(0x1d3));}catch(_0xa71443){_0x10e8cb['log'][_0x4d39db(0x1aa)](_0x4d39db(0x1f6)+_0xa71443['message']);}}async function sendMorningBriefing(_0x254940){const _0xa49cbb=a0_0x2f48d8;if(!_0x254940[_0xa49cbb(0x203)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x4b7616=_0xa49cbb(0x1ca),_0x2e1479=await _0x254940['geminiModel'][_0xa49cbb(0x1b6)](_0x4b7616),_0x50edb6=_0x2e1479[_0xa49cbb(0x1ab)][_0xa49cbb(0x1b1)]();setup[_0xa49cbb(0x1d2)](_0x254940,'ðŸŒ…\x20Morning\x20Briefing:\x0a'+_0x50edb6);}catch(_0x249b36){_0x254940['log'][_0xa49cbb(0x1aa)](_0xa49cbb(0x1c8)+_0x249b36[_0xa49cbb(0x21b)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};