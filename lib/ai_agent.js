const a0_0x2241b0=a0_0x5869;(function(_0x17e130,_0x349b9e){const _0x5c6bc3=a0_0x5869,_0x5ef55b=_0x17e130();while(!![]){try{const _0x541e24=-parseInt(_0x5c6bc3(0xb1))/0x1*(-parseInt(_0x5c6bc3(0xc0))/0x2)+parseInt(_0x5c6bc3(0xda))/0x3+parseInt(_0x5c6bc3(0xf4))/0x4+parseInt(_0x5c6bc3(0x110))/0x5+parseInt(_0x5c6bc3(0xa8))/0x6+-parseInt(_0x5c6bc3(0xd6))/0x7+-parseInt(_0x5c6bc3(0xd5))/0x8*(parseInt(_0x5c6bc3(0x104))/0x9);if(_0x541e24===_0x349b9e)break;else _0x5ef55b['push'](_0x5ef55b['shift']());}catch(_0x5960b5){_0x5ef55b['push'](_0x5ef55b['shift']());}}}(a0_0x15ac,0x9ab28));const a0_0x25eebc=(function(){let _0x1b0bf9=!![];return function(_0x54443d,_0x5d0c42){const _0x3b51db=_0x1b0bf9?function(){const _0xf95731=a0_0x5869;if(_0x5d0c42){const _0x2dba07=_0x5d0c42[_0xf95731(0xd1)](_0x54443d,arguments);return _0x5d0c42=null,_0x2dba07;}}:function(){};return _0x1b0bf9=![],_0x3b51db;};}()),a0_0x3bc374=a0_0x25eebc(this,function(){const _0x30c3f9=a0_0x5869;return a0_0x3bc374[_0x30c3f9(0xea)]()['search'](_0x30c3f9(0x116))[_0x30c3f9(0xea)]()[_0x30c3f9(0xb9)](a0_0x3bc374)[_0x30c3f9(0xb8)](_0x30c3f9(0x116));});a0_0x3bc374();function a0_0x5869(_0x34285f,_0x10dd57){const _0x310317=a0_0x15ac();return a0_0x5869=function(_0x3bc374,_0x25eebc){_0x3bc374=_0x3bc374-0xa3;let _0x15acf0=_0x310317[_0x3bc374];return _0x15acf0;},a0_0x5869(_0x34285f,_0x10dd57);}'use strict';const {GoogleGenerativeAI}=require(a0_0x2241b0(0xb0)),setup=require(a0_0x2241b0(0xce)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x2241b0(0x10b),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,MIN_API_GAP_MS=0x2710;let lastApiCallTime=0x0;const PERSONA_MAPPING={'generic':a0_0x2241b0(0xe3),'senior_aal':a0_0x2241b0(0xdd),'family':a0_0x2241b0(0x109),'single_comfort':a0_0x2241b0(0xec),'security':a0_0x2241b0(0xe7),'energy_saver':a0_0x2241b0(0xe1)};async function getWeatherContext(_0x11b224){const _0x40b257=a0_0x2241b0;if(!_0x11b224[_0x40b257(0xf2)]['useWeather']||!_0x11b224[_0x40b257(0xf2)][_0x40b257(0xe8)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x1a9c0e=_0x11b224[_0x40b257(0xf2)]['weatherInstance'];let _0x5e772c=await _0x11b224['getForeignStateAsync'](_0x1a9c0e+_0x40b257(0xc4));if(!_0x5e772c)_0x5e772c=await _0x11b224[_0x40b257(0xe6)](_0x1a9c0e+'.forecast.current.temperature');let _0x430ab9=await _0x11b224['getForeignStateAsync'](_0x1a9c0e+_0x40b257(0xd3));if(!_0x430ab9)_0x430ab9=await _0x11b224[_0x40b257(0xe6)](_0x1a9c0e+_0x40b257(0xb5));let _0x5c6766=_0x40b257(0xb6);const _0x19e454=await _0x11b224['getForeignStateAsync'](_0x1a9c0e+_0x40b257(0xb2));if(_0x19e454)_0x5c6766=_0x19e454[_0x40b257(0xef)]?'Nacht':_0x40b257(0x113);if(_0x5e772c&&_0x430ab9)return _0x5e772c[_0x40b257(0xef)]+_0x40b257(0x111)+_0x430ab9[_0x40b257(0xef)]+',\x20LichtverhÃ¤ltnisse:\x20'+_0x5c6766;}catch(_0x246891){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0xb7c9d8,_0x1acf67,_0x4eb19b,_0x4a79a9){const _0x514f1a=a0_0x2241b0;if(!_0xb7c9d8['geminiModel'])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x2cad8d=Date[_0x514f1a(0xa9)]();if(decisionCache[_0x1acf67]&&_0x2cad8d-decisionCache[_0x1acf67][_0x514f1a(0xf8)]<CACHE_TTL_MS){const _0x1c5574=decisionCache[_0x1acf67][_0x514f1a(0x11e)];return _0xb7c9d8[_0x514f1a(0xa3)][_0x514f1a(0x106)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x1acf67+_0x514f1a(0xad)+(_0x1c5574['approved']?'OK':'NO')+'\x20('+_0x1c5574['reason']+')'),_0x1c5574;}if(_0x2cad8d-lastApiCallTime<MIN_API_GAP_MS)return _0xb7c9d8[_0x514f1a(0xa3)][_0x514f1a(0x106)](_0x514f1a(0xdc)+_0x1acf67+_0x514f1a(0xf5)),{'approved':!![],'reason':_0x514f1a(0xbe)};const _0x20f403=new Date()[_0x514f1a(0xd9)](),_0x5d242e=await getWeatherContext(_0xb7c9d8),_0x41c0e7=PERSONA_MAPPING[_0xb7c9d8[_0x514f1a(0xf2)][_0x514f1a(0xae)]||'generic'],_0x1328d4=_0x514f1a(0xc3)+_0x20f403+_0x514f1a(0x11b)+_0x5d242e+_0x514f1a(0x101)+(_0x4a79a9*0x64)[_0x514f1a(0xe2)](0x0)+_0x514f1a(0xf6)+_0x1acf67+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x4eb19b+_0x514f1a(0xa6)+_0x41c0e7+_0x514f1a(0xfe);try{lastApiCallTime=_0x2cad8d;const _0x5b5c3f=await _0xb7c9d8['geminiModel'][_0x514f1a(0xbd)](_0x1328d4),_0x5831ed=_0x5b5c3f[_0x514f1a(0xfa)][_0x514f1a(0x108)]()[_0x514f1a(0x117)](/```json|```/g,'')['trim'](),_0x590aa6=JSON[_0x514f1a(0xd2)](_0x5831ed);return decisionCache[_0x1acf67]={'decision':_0x590aa6,'timestamp':_0x2cad8d},_0x590aa6;}catch(_0x4348a0){return _0xb7c9d8['log'][_0x514f1a(0x102)](_0x514f1a(0xb4)+_0x4348a0[_0x514f1a(0xaf)]),decisionCache[_0x1acf67]={'decision':{'approved':!![],'reason':_0x514f1a(0x119)},'timestamp':_0x2cad8d-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x514f1a(0x119)};}}function a0_0x15ac(){const _0x18d286=['isAlert','ðŸ¤–\x20Rate\x20Limit\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','automationProposal','info','send','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','toFixed','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','ltmLtbWindowDays','ðŸŒ…\x20Morning\x20Briefing:\x0a','getForeignStateAsync','Sicherheit\x20geht\x20vor.','weatherInstance','error','toString','ANALYZE_HEALTH','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','geminiModel','.\x20EMERGENCY:\x20','val','isProVersion','âš ï¸\x20ALARM:\x20','config','system.presenceWho','4372896YjeOEm','\x20Ã¼bersprungen\x20(Auto-Approved).','%)\x20nach\x20\x22','LTM.driftAnalysis.lastCheck','timestamp','.\x20SYSTEM_MODE:\x20','response','alertReason','generic','currentSystemMode','\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','analysis.automation.targetId','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','warn','BUTLER\x20Execution\x20Error:\x20','738522udaOwa','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','debug','lastAlertState','text','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','getStateAsync','LTM.dailyDigests','push','stringify','eventHistory','sendNotification','3882240YIKEVF','Â°C,\x20','analysis.alertReason','Tag','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','analysisHistory','(((.+)+)+)+$','replace','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','KI-Fehler\x20(Fallback)','rawEventLog',',\x20Wetter:\x20','livingContext','Started...','decision','log','analysis.isAlert','setStateAsync','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','4778952AlHJyN','now','summary','targetId','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','\x20->\x20','aiPersona','message','@google/generative-ai','1162yspFhy','.Current.IsNight','Success','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','.forecast.current.state','Unbekannt','trim','search','constructor','LTM.driftAnalysis.baselineDrift','Skipped\x20(No\x20AI\x20or\x20Data)','N/A\x20(Learning)','generateContent','Traffic-Schutz\x20(Auto-Approved)','targetValue','308hhfQjg','toISOString','length','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','.Current.Temperature','dailyDigests','setForeignStateAsync','description','slice','ltmStbWindowDays','analysis.automation.autoApply','activityLevel','pop','baselineDrift','./setup','.\x20KONTEXT:\x20','\x0aSTB:\x20','apply','parse','.Current.WeatherText','isEmergency','296SgaSAL','1732976XVxUQT','\x20=\x20','analysis.activitySummary','toLocaleTimeString','3216726fbvscv'];a0_0x15ac=function(){return _0x18d286;};return a0_0x15ac();}async function executeAutomationAction(_0x29a72a){const _0x1af70c=a0_0x2241b0;try{const _0x2d930f=await _0x29a72a[_0x1af70c(0x10a)](_0x1af70c(0x100)),_0xbba9e3=await _0x29a72a[_0x1af70c(0x10a)]('analysis.automation.targetValue');if(_0x2d930f&&_0x2d930f[_0x1af70c(0xef)]&&_0xbba9e3){const _0x2d23f9=_0x2d930f[_0x1af70c(0xef)];let _0x137431=_0xbba9e3['val'];try{_0x137431=JSON[_0x1af70c(0xd2)](_0x137431);}catch(_0x1efa1d){}_0x29a72a[_0x1af70c(0xa3)][_0x1af70c(0xdf)](_0x1af70c(0x114)+_0x2d23f9+_0x1af70c(0xd7)+_0x137431),await _0x29a72a[_0x1af70c(0xc6)](_0x2d23f9,_0x137431);}else _0x29a72a[_0x1af70c(0xa3)][_0x1af70c(0x102)](_0x1af70c(0x118));}catch(_0x18bb66){_0x29a72a['log'][_0x1af70c(0xe9)](_0x1af70c(0x103)+_0x18bb66[_0x1af70c(0xaf)]);}}async function createDailyDigest(_0x22a0ca,_0xafe021){const _0x2b83e3=a0_0x2241b0;if(!_0x22a0ca['isProVersion'])return;await _0x22a0ca[_0x2b83e3(0xa5)](LTM_DP_STATUS,{'val':_0x2b83e3(0x11d),'ack':!![]});if(!_0x22a0ca[_0x2b83e3(0xed)]||_0x22a0ca[_0x2b83e3(0x11a)][_0x2b83e3(0xc2)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x22a0ca[_0x2b83e3(0xa5)](LTM_DP_STATUS,{'val':_0x2b83e3(0xbb),'ack':!![]});return;}const _0x2d1a7f=JSON[_0x2b83e3(0xd2)](JSON[_0x2b83e3(0x10d)](_0x22a0ca['rawEventLog'])),_0x65ebf3=_0x2d1a7f[_0x2b83e3(0xc2)],_0x5ab205=_0x2b83e3(0x105)+JSON[_0x2b83e3(0x10d)](_0x2d1a7f);try{const _0x1ec29f=await _0x22a0ca[_0x2b83e3(0xed)][_0x2b83e3(0xbd)](_0x5ab205),_0x360415=JSON['parse'](_0x1ec29f['response'][_0x2b83e3(0x108)]()['replace'](/```json|```/g,'')[_0x2b83e3(0xb7)]()),_0x279006={'timestamp':new Date()[_0x2b83e3(0xc1)](),'eventCount':_0x65ebf3,'summary':_0x360415[_0x2b83e3(0xaa)]||'Digest','activityLevel':_0x360415[_0x2b83e3(0xcb)]||'normal','systemMode':_0x22a0ca[_0x2b83e3(0xfd)]};_0x22a0ca[_0x2b83e3(0xc5)][_0x2b83e3(0x10c)](_0x279006);const _0x264b3d=_0x22a0ca[_0x2b83e3(0xf2)][_0x2b83e3(0xe4)]||0x3c;_0x22a0ca[_0x2b83e3(0xc5)][_0x2b83e3(0xc2)]>_0x264b3d&&_0x22a0ca[_0x2b83e3(0xc5)]['splice'](0x0,_0x22a0ca[_0x2b83e3(0xc5)][_0x2b83e3(0xc2)]-_0x264b3d);await _0x22a0ca[_0x2b83e3(0xa5)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x2b83e3(0x10d)](_0x22a0ca[_0x2b83e3(0xc5)]),'ack':!![]}),_0x22a0ca['rawEventLog']=[],await _0x22a0ca['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x2b83e3(0x10d)](_0x22a0ca[_0x2b83e3(0x11a)]),'ack':!![]}),await _0x22a0ca['setStateAsync'](LTM_DP_STATUS,{'val':_0x2b83e3(0xb3),'ack':!![]});if(_0x22a0ca[_0x2b83e3(0xf0)]&&_0xafe021)_0xafe021[_0x2b83e3(0xe0)](_0x22a0ca,_0x2b83e3(0xeb),{'digest':_0x279006});}catch(_0x521c16){_0x22a0ca[_0x2b83e3(0xa3)][_0x2b83e3(0xe9)](_0x521c16[_0x2b83e3(0xaf)]);}}async function runBaselineDriftAnalysis(_0x54f164){const _0x251e56=a0_0x2241b0;if(!_0x54f164[_0x251e56(0xf0)]||!_0x54f164[_0x251e56(0xed)])return;const _0x39ffe1=_0x54f164['config'][_0x251e56(0xc9)]||0xe;if(_0x54f164[_0x251e56(0xc5)][_0x251e56(0xc2)]<_0x39ffe1+0x7){await _0x54f164[_0x251e56(0xa5)](_0x251e56(0xba),{'val':_0x251e56(0xbc),'ack':!![]});return;}const _0x183158=_0x54f164[_0x251e56(0xc5)]['slice'](-_0x39ffe1),_0x3b850e=_0x54f164['dailyDigests'][_0x251e56(0xc8)](0x0,_0x54f164['dailyDigests'][_0x251e56(0xc2)]-_0x39ffe1),_0x184353=_0x251e56(0xa7)+JSON[_0x251e56(0x10d)](_0x3b850e)+_0x251e56(0xd0)+JSON[_0x251e56(0x10d)](_0x183158);try{const _0x11cb7e=await _0x54f164[_0x251e56(0xed)][_0x251e56(0xbd)](_0x184353),_0x18d6fa=JSON[_0x251e56(0xd2)](_0x11cb7e[_0x251e56(0xfa)][_0x251e56(0x108)]()[_0x251e56(0x117)](/```json|```/g,'')[_0x251e56(0xb7)]());_0x18d6fa['baselineDrift']&&(await _0x54f164[_0x251e56(0xa5)](_0x251e56(0xba),{'val':_0x18d6fa[_0x251e56(0xcd)],'ack':!![]}),await _0x54f164['setStateAsync']('LTM.driftAnalysis.driftDetails',{'val':_0x18d6fa['driftDetails'],'ack':!![]}),await _0x54f164[_0x251e56(0xa5)](_0x251e56(0xf7),{'val':Date[_0x251e56(0xa9)](),'ack':!![]}));}catch(_0x58756f){}}async function sendMorningBriefing(_0x551fb4){const _0x579d9b=a0_0x2241b0;if(!_0x551fb4['geminiModel'])return;try{const _0x265867=_0x579d9b(0xff),_0xd63b82=await _0x551fb4[_0x579d9b(0xed)][_0x579d9b(0xbd)](_0x265867),_0x4e5ae2=_0xd63b82[_0x579d9b(0xfa)][_0x579d9b(0x108)]();setup[_0x579d9b(0x10f)](_0x551fb4,_0x579d9b(0xe5)+_0x4e5ae2);}catch(_0x355805){_0x551fb4['log']['error']('Briefing\x20Error:\x20'+_0x355805[_0x579d9b(0xaf)]);}}async function runGeminiAnalysis(_0x3fa92d,_0x5b5d01=''){const _0x318b83=a0_0x2241b0;if(!_0x3fa92d['geminiModel'])return;if(_0x3fa92d['eventHistory'][_0x318b83(0xc2)]===0x0)return;const _0x705ee0=_0x3fa92d[_0x318b83(0x10e)]['slice'](0x0,0xf),_0x9fd1c5=_0x3fa92d['currentSystemMode'],_0x213013=PERSONA_MAPPING[_0x3fa92d[_0x318b83(0xf2)][_0x318b83(0xae)]||_0x318b83(0xfc)],_0x4e33c2=_0x3fa92d[_0x318b83(0xf2)][_0x318b83(0x11c)]||'Keine\x20Details.';let _0x2cc515=_0x318b83(0xb6);try{const _0x489154=await _0x3fa92d[_0x318b83(0x10a)](_0x318b83(0xf3));if(_0x489154&&_0x489154[_0x318b83(0xef)])_0x2cc515=_0x489154[_0x318b83(0xef)];}catch(_0x563694){}let _0xc833b1=![];try{const _0x5cd316=await _0x3fa92d[_0x318b83(0x10a)](_0x318b83(0xca));if(_0x5cd316&&_0x5cd316[_0x318b83(0xef)])_0xc833b1=!![];}catch(_0x1a91ac){}const _0x55431e='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x213013+_0x318b83(0xcf)+_0x4e33c2+_0x318b83(0xf9)+_0x9fd1c5+'.\x20ANWESEND:\x20'+_0x2cc515+'.\x20EVENTS:\x20'+JSON[_0x318b83(0x10d)](_0x705ee0)+_0x318b83(0xee)+_0x5b5d01+_0x318b83(0xac);try{const _0x5a84e2=await _0x3fa92d[_0x318b83(0xed)][_0x318b83(0xbd)](_0x55431e),_0xcc1298=JSON[_0x318b83(0xd2)](_0x5a84e2[_0x318b83(0xfa)][_0x318b83(0x108)]()[_0x318b83(0x117)](/```json|```/g,'')[_0x318b83(0xb7)]());await _0x3fa92d[_0x318b83(0xa5)]('analysis.lastResult',{'val':JSON[_0x318b83(0x10d)](_0xcc1298),'ack':!![]});if(_0xcc1298[_0x318b83(0xaa)])await _0x3fa92d['setStateAsync'](_0x318b83(0xd8),{'val':_0xcc1298[_0x318b83(0xaa)],'ack':!![]});const _0x32f376={'timestamp':Date[_0x318b83(0xa9)](),'id':Date[_0x318b83(0xa9)]()[_0x318b83(0xea)](),'analysis':{'activity':{'summary':_0xcc1298[_0x318b83(0xaa)],'isAlert':_0xcc1298[_0x318b83(0xdb)],'alertReason':_0xcc1298[_0x318b83(0xfb)]},'comfort':{'automationProposal':_0xcc1298[_0x318b83(0xde)]}}};_0x3fa92d['analysisHistory']['unshift'](_0x32f376);if(_0x3fa92d['analysisHistory'][_0x318b83(0xc2)]>0x32)_0x3fa92d[_0x318b83(0x115)][_0x318b83(0xcc)]();await _0x3fa92d['setStateAsync']('analysis.analysisHistory',{'val':JSON[_0x318b83(0x10d)](_0x3fa92d[_0x318b83(0x115)]),'ack':!![]});const _0x3e91a3=_0xcc1298[_0x318b83(0xdb)]||![];_0x3e91a3!==_0x3fa92d[_0x318b83(0x107)]&&(await _0x3fa92d[_0x318b83(0xa5)](_0x318b83(0xa4),{'val':_0x3e91a3,'ack':!![]}),_0x3fa92d[_0x318b83(0x107)]=_0x3e91a3,_0x3e91a3&&(await _0x3fa92d[_0x318b83(0xa5)](_0x318b83(0x112),{'val':_0xcc1298[_0x318b83(0xfb)],'ack':!![]}),setup['sendNotification'](_0x3fa92d,_0x318b83(0xf1)+_0xcc1298[_0x318b83(0xfb)],![],_0xcc1298[_0x318b83(0xd4)])));if(_0xcc1298['automationProposal']&&_0xcc1298[_0x318b83(0xde)]['detected']){await _0x3fa92d[_0x318b83(0xa5)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x3fa92d['setStateAsync']('analysis.automation.description',{'val':_0xcc1298['automationProposal'][_0x318b83(0xc7)],'ack':!![]}),await _0x3fa92d[_0x318b83(0xa5)]('analysis.automation.targetId',{'val':_0xcc1298[_0x318b83(0xde)][_0x318b83(0xab)],'ack':!![]}),await _0x3fa92d[_0x318b83(0xa5)]('analysis.automation.targetValue',{'val':JSON[_0x318b83(0x10d)](_0xcc1298[_0x318b83(0xde)][_0x318b83(0xbf)]),'ack':!![]});if(_0xc833b1)executeAutomationAction(_0x3fa92d);}}catch(_0x549ab9){_0x3fa92d['log'][_0x318b83(0xe9)]('Gemini\x20Error:\x20'+_0x549ab9[_0x318b83(0xaf)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};