const a0_0x223ffc=a0_0x1fca;function a0_0x1fca(_0x548ace,_0x1a95d5){const _0x3bc126=a0_0x3818();return a0_0x1fca=function(_0x3e3283,_0x544044){_0x3e3283=_0x3e3283-0x1d1;let _0x381892=_0x3bc126[_0x3e3283];return _0x381892;},a0_0x1fca(_0x548ace,_0x1a95d5);}(function(_0x44006d,_0x1ac206){const _0xeb98c1=a0_0x1fca,_0x786a4b=_0x44006d();while(!![]){try{const _0x597103=-parseInt(_0xeb98c1(0x1e0))/0x1+parseInt(_0xeb98c1(0x202))/0x2+-parseInt(_0xeb98c1(0x255))/0x3*(-parseInt(_0xeb98c1(0x251))/0x4)+-parseInt(_0xeb98c1(0x1de))/0x5*(parseInt(_0xeb98c1(0x257))/0x6)+-parseInt(_0xeb98c1(0x1da))/0x7+-parseInt(_0xeb98c1(0x20b))/0x8*(parseInt(_0xeb98c1(0x23f))/0x9)+parseInt(_0xeb98c1(0x209))/0xa;if(_0x597103===_0x1ac206)break;else _0x786a4b['push'](_0x786a4b['shift']());}catch(_0x680a36){_0x786a4b['push'](_0x786a4b['shift']());}}}(a0_0x3818,0xd231e));const a0_0x544044=(function(){let _0x471652=!![];return function(_0x5ec4e3,_0x1809cf){const _0x53c5ea=_0x471652?function(){const _0x397cbd=a0_0x1fca;if(_0x1809cf){const _0x12605c=_0x1809cf[_0x397cbd(0x20f)](_0x5ec4e3,arguments);return _0x1809cf=null,_0x12605c;}}:function(){};return _0x471652=![],_0x53c5ea;};}()),a0_0x3e3283=a0_0x544044(this,function(){const _0x944cca=a0_0x1fca;return a0_0x3e3283[_0x944cca(0x244)]()[_0x944cca(0x204)](_0x944cca(0x234))[_0x944cca(0x244)]()['constructor'](a0_0x3e3283)[_0x944cca(0x204)]('(((.+)+)+)+$');});a0_0x3e3283();'use strict';const {GoogleGenerativeAI}=require('@google/generative-ai'),setup=require('./setup'),GEMINI_MODEL=a0_0x223ffc(0x241),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x223ffc(0x22f),LTM_DP_RAW_LOG=a0_0x223ffc(0x239),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x223ffc(0x214),'senior_aal':a0_0x223ffc(0x220),'family':a0_0x223ffc(0x258),'single_comfort':a0_0x223ffc(0x24c),'security':a0_0x223ffc(0x1fd),'energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x5d94b9=Date['now']();return _0x5d94b9-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x1c888c=a0_0x223ffc;lastGlobalApiCall=Date[_0x1c888c(0x20e)]();}async function getWeatherContext(_0xca1043){const _0xd3e373=a0_0x223ffc;if(!_0xca1043[_0xd3e373(0x237)][_0xd3e373(0x1ff)]||!_0xca1043['config']['weatherInstance'])return _0xd3e373(0x1f6);try{const _0x8a9d21=_0xca1043[_0xd3e373(0x237)]['weatherInstance'];let _0x262919=await _0xca1043[_0xd3e373(0x253)](_0x8a9d21+_0xd3e373(0x22c));if(!_0x262919)_0x262919=await _0xca1043[_0xd3e373(0x253)](_0x8a9d21+_0xd3e373(0x1f5));let _0x2b8938=await _0xca1043['getForeignStateAsync'](_0x8a9d21+_0xd3e373(0x224));if(!_0x2b8938)_0x2b8938=await _0xca1043[_0xd3e373(0x253)](_0x8a9d21+_0xd3e373(0x242));let _0x5344a0=_0xd3e373(0x1d3);const _0x4d9124=await _0xca1043[_0xd3e373(0x253)](_0x8a9d21+_0xd3e373(0x228));if(_0x4d9124)_0x5344a0=_0x4d9124[_0xd3e373(0x21e)]?_0xd3e373(0x210):_0xd3e373(0x216);if(_0x262919&&_0x2b8938)return _0x262919['val']+_0xd3e373(0x1f8)+_0x2b8938['val']+_0xd3e373(0x222)+_0x5344a0;}catch(_0x5b7b1f){}return _0xd3e373(0x223);}async function consultButler(_0x5b0656,_0x150335,_0x5a5385,_0x45fa54){const _0x41d9e6=a0_0x223ffc;if(!_0x5b0656[_0x41d9e6(0x1db)])return{'approved':!![],'reason':_0x41d9e6(0x245)};const _0x5d751a=Date[_0x41d9e6(0x20e)]();if(decisionCache[_0x150335]&&_0x5d751a-decisionCache[_0x150335][_0x41d9e6(0x1ef)]<CACHE_TTL_MS){const _0xdfba02=decisionCache[_0x150335][_0x41d9e6(0x1f4)];return _0x5b0656[_0x41d9e6(0x218)][_0x41d9e6(0x23c)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x150335+'\x20->\x20'+(_0xdfba02[_0x41d9e6(0x227)]?'OK':'NO')+'\x20('+_0xdfba02[_0x41d9e6(0x1e2)]+')'),_0xdfba02;}if(!canCallApi())return _0x5b0656[_0x41d9e6(0x218)][_0x41d9e6(0x23c)](_0x41d9e6(0x1d8)+_0x150335+_0x41d9e6(0x252)),{'approved':!![],'reason':_0x41d9e6(0x221)};const _0x1a76aa=new Date()[_0x41d9e6(0x22e)](),_0x5eeb78=await getWeatherContext(_0x5b0656),_0x4bb912=PERSONA_MAPPING[_0x5b0656[_0x41d9e6(0x237)][_0x41d9e6(0x22a)]||_0x41d9e6(0x24b)],_0x5d85dd=_0x41d9e6(0x1dc)+_0x1a76aa+_0x41d9e6(0x215)+_0x5eeb78+_0x41d9e6(0x20c)+(_0x45fa54*0x64)[_0x41d9e6(0x1fb)](0x0)+_0x41d9e6(0x1f7)+_0x150335+_0x41d9e6(0x21c)+_0x5a5385+_0x41d9e6(0x256)+_0x4bb912+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x4729e4=await _0x5b0656[_0x41d9e6(0x1db)][_0x41d9e6(0x1d6)](_0x5d85dd),_0x2557d7=_0x4729e4[_0x41d9e6(0x22b)][_0x41d9e6(0x1e6)]()[_0x41d9e6(0x238)](/```json|```/g,'')[_0x41d9e6(0x1d9)](),_0x5bc544=JSON[_0x41d9e6(0x232)](_0x2557d7);return decisionCache[_0x150335]={'decision':_0x5bc544,'timestamp':_0x5d751a},_0x5bc544;}catch(_0x32b599){return _0x5b0656[_0x41d9e6(0x218)][_0x41d9e6(0x217)](_0x41d9e6(0x21f)+_0x32b599[_0x41d9e6(0x1e5)]),decisionCache[_0x150335]={'decision':{'approved':!![],'reason':_0x41d9e6(0x23d)},'timestamp':_0x5d751a-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x41d9e6(0x23d)};}}async function runGeminiAnalysis(_0x17d27a,_0x31d5e4=''){const _0x4336a5=a0_0x223ffc;if(!_0x17d27a['geminiModel'])return;if(!canCallApi()){_0x17d27a[_0x4336a5(0x218)][_0x4336a5(0x23c)]('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x17d27a[_0x4336a5(0x206)][_0x4336a5(0x23a)]===0x0)return;const _0x2cf97b=_0x17d27a[_0x4336a5(0x206)][_0x4336a5(0x23e)](0x0,0xf),_0x479b2c=_0x17d27a[_0x4336a5(0x21a)],_0x251701=PERSONA_MAPPING[_0x17d27a[_0x4336a5(0x237)][_0x4336a5(0x22a)]||_0x4336a5(0x24b)],_0x24b056=_0x17d27a['config'][_0x4336a5(0x1d1)]||_0x4336a5(0x1df);let _0x3a6205='Unbekannt';try{const _0x38bcf3=await _0x17d27a[_0x4336a5(0x225)](_0x4336a5(0x1e7));if(_0x38bcf3&&_0x38bcf3[_0x4336a5(0x21e)])_0x3a6205=_0x38bcf3['val'];}catch(_0x5ad83c){}let _0x3dc065=![];try{const _0x5d30df=await _0x17d27a['getStateAsync'](_0x4336a5(0x1d4));if(_0x5d30df&&_0x5d30df[_0x4336a5(0x21e)])_0x3dc065=!![];}catch(_0x158ea4){}const _0x39d8d2=_0x4336a5(0x205)+_0x251701+_0x4336a5(0x24e)+_0x24b056+_0x4336a5(0x201)+_0x479b2c+_0x4336a5(0x21d)+_0x3a6205+_0x4336a5(0x249)+JSON[_0x4336a5(0x1dd)](_0x2cf97b)+_0x4336a5(0x1e4)+_0x31d5e4+_0x4336a5(0x230);try{updateApiTimestamp();const _0x14cbed=await _0x17d27a[_0x4336a5(0x1db)]['generateContent'](_0x39d8d2),_0x20ba23=JSON[_0x4336a5(0x232)](_0x14cbed[_0x4336a5(0x22b)]['text']()[_0x4336a5(0x238)](/```json|```/g,'')['trim']());await _0x17d27a[_0x4336a5(0x1eb)](_0x4336a5(0x233),{'val':JSON[_0x4336a5(0x1dd)](_0x20ba23),'ack':!![]});if(_0x20ba23[_0x4336a5(0x1e1)])await _0x17d27a[_0x4336a5(0x1eb)](_0x4336a5(0x22d),{'val':_0x20ba23['summary'],'ack':!![]});const _0x561148={'timestamp':Date[_0x4336a5(0x20e)](),'id':Date[_0x4336a5(0x20e)]()[_0x4336a5(0x244)](),'analysis':{'activity':{'summary':_0x20ba23[_0x4336a5(0x1e1)],'isAlert':_0x20ba23[_0x4336a5(0x240)],'alertReason':_0x20ba23[_0x4336a5(0x247)]},'comfort':{'automationProposal':_0x20ba23['automationProposal']}}};_0x17d27a[_0x4336a5(0x1e8)][_0x4336a5(0x21b)](_0x561148);if(_0x17d27a[_0x4336a5(0x1e8)]['length']>0x32)_0x17d27a['analysisHistory'][_0x4336a5(0x1ea)]();await _0x17d27a[_0x4336a5(0x1eb)]('analysis.analysisHistory',{'val':JSON[_0x4336a5(0x1dd)](_0x17d27a[_0x4336a5(0x1e8)]),'ack':!![]});const _0x5853fe=_0x20ba23[_0x4336a5(0x240)]||![];_0x5853fe!==_0x17d27a[_0x4336a5(0x200)]&&(await _0x17d27a['setStateAsync'](_0x4336a5(0x20d),{'val':_0x5853fe,'ack':!![]}),_0x17d27a[_0x4336a5(0x200)]=_0x5853fe,_0x5853fe&&(await _0x17d27a['setStateAsync'](_0x4336a5(0x1f0),{'val':_0x20ba23[_0x4336a5(0x247)],'ack':!![]}),setup['sendNotification'](_0x17d27a,_0x4336a5(0x1ec)+_0x20ba23[_0x4336a5(0x247)],![],_0x20ba23[_0x4336a5(0x20a)])));if(_0x20ba23[_0x4336a5(0x1f1)]&&_0x20ba23[_0x4336a5(0x1f1)][_0x4336a5(0x219)]){await _0x17d27a['setStateAsync'](_0x4336a5(0x1e9),{'val':!![],'ack':!![]}),await _0x17d27a['setStateAsync']('analysis.automation.description',{'val':_0x20ba23['automationProposal'][_0x4336a5(0x250)],'ack':!![]}),await _0x17d27a[_0x4336a5(0x1eb)](_0x4336a5(0x208),{'val':_0x20ba23[_0x4336a5(0x1f1)][_0x4336a5(0x207)],'ack':!![]}),await _0x17d27a['setStateAsync'](_0x4336a5(0x24a),{'val':JSON['stringify'](_0x20ba23[_0x4336a5(0x1f1)][_0x4336a5(0x1fa)]),'ack':!![]});if(_0x3dc065)executeAutomationAction(_0x17d27a);}}catch(_0x15662f){_0x17d27a[_0x4336a5(0x218)][_0x4336a5(0x1d5)]('Gemini\x20Error:\x20'+_0x15662f[_0x4336a5(0x1e5)]);}}async function createDailyDigest(_0x41a581,_0x8e9277){const _0x30d072=a0_0x223ffc;if(!_0x41a581[_0x30d072(0x231)])return;if(!canCallApi()){await _0x41a581['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x41a581[_0x30d072(0x1eb)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x41a581[_0x30d072(0x1db)]||_0x41a581[_0x30d072(0x243)][_0x30d072(0x23a)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x41a581[_0x30d072(0x1eb)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x57322a=JSON[_0x30d072(0x232)](JSON[_0x30d072(0x1dd)](_0x41a581[_0x30d072(0x243)])),_0x48e2cd=_0x57322a[_0x30d072(0x23a)],_0x5c3aa3=_0x30d072(0x1d2)+JSON[_0x30d072(0x1dd)](_0x57322a);try{updateApiTimestamp();const _0x82a52e=await _0x41a581[_0x30d072(0x1db)][_0x30d072(0x1d6)](_0x5c3aa3),_0x31ed84=JSON[_0x30d072(0x232)](_0x82a52e['response']['text']()['replace'](/```json|```/g,'')['trim']()),_0x1c188a={'timestamp':new Date()[_0x30d072(0x1fe)](),'eventCount':_0x48e2cd,'summary':_0x31ed84['summary']||_0x30d072(0x248),'activityLevel':_0x31ed84[_0x30d072(0x213)]||_0x30d072(0x1f3),'systemMode':_0x41a581['currentSystemMode']};_0x41a581[_0x30d072(0x1ee)][_0x30d072(0x229)](_0x1c188a);const _0x5b1c88=_0x41a581[_0x30d072(0x237)][_0x30d072(0x24d)]||0x3c;_0x41a581['dailyDigests'][_0x30d072(0x23a)]>_0x5b1c88&&_0x41a581[_0x30d072(0x1ee)]['splice'](0x0,_0x41a581[_0x30d072(0x1ee)]['length']-_0x5b1c88);await _0x41a581['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x41a581[_0x30d072(0x1ee)]),'ack':!![]}),_0x41a581['rawEventLog']=[],await _0x41a581[_0x30d072(0x1eb)](LTM_DP_RAW_LOG,{'val':JSON[_0x30d072(0x1dd)](_0x41a581[_0x30d072(0x243)]),'ack':!![]}),await _0x41a581[_0x30d072(0x1eb)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x41a581['isProVersion']&&_0x8e9277)_0x8e9277[_0x30d072(0x24f)](_0x41a581,_0x30d072(0x211),{'digest':_0x1c188a});}catch(_0x4fae38){_0x41a581[_0x30d072(0x218)][_0x30d072(0x1d5)](_0x4fae38[_0x30d072(0x1e5)]);}}async function runBaselineDriftAnalysis(_0x77517c){const _0x3d85d9=a0_0x223ffc;if(!_0x77517c[_0x3d85d9(0x231)]||!_0x77517c[_0x3d85d9(0x1db)])return;if(!canCallApi())return;const _0x3f1c28=_0x77517c[_0x3d85d9(0x237)]['ltmStbWindowDays']||0xe;if(_0x77517c[_0x3d85d9(0x1ee)]['length']<_0x3f1c28+0x7){await _0x77517c['setStateAsync'](_0x3d85d9(0x235),{'val':_0x3d85d9(0x236),'ack':!![]});return;}const _0xa65750=_0x77517c['dailyDigests']['slice'](-_0x3f1c28),_0x2f99b4=_0x77517c[_0x3d85d9(0x1ee)][_0x3d85d9(0x23e)](0x0,_0x77517c[_0x3d85d9(0x1ee)][_0x3d85d9(0x23a)]-_0x3f1c28),_0x26106b=_0x3d85d9(0x226)+JSON[_0x3d85d9(0x1dd)](_0x2f99b4)+_0x3d85d9(0x1ed)+JSON[_0x3d85d9(0x1dd)](_0xa65750);try{updateApiTimestamp();const _0x459032=await _0x77517c[_0x3d85d9(0x1db)]['generateContent'](_0x26106b),_0x331775=JSON[_0x3d85d9(0x232)](_0x459032[_0x3d85d9(0x22b)]['text']()[_0x3d85d9(0x238)](/```json|```/g,'')['trim']());_0x331775['baselineDrift']&&(await _0x77517c[_0x3d85d9(0x1eb)]('LTM.driftAnalysis.baselineDrift',{'val':_0x331775['baselineDrift'],'ack':!![]}),await _0x77517c[_0x3d85d9(0x1eb)](_0x3d85d9(0x246),{'val':_0x331775[_0x3d85d9(0x1fc)],'ack':!![]}),await _0x77517c[_0x3d85d9(0x1eb)](_0x3d85d9(0x23b),{'val':Date[_0x3d85d9(0x20e)](),'ack':!![]}));}catch(_0x27e849){}}async function executeAutomationAction(_0x2f2518){const _0x55a03c=a0_0x223ffc;try{const _0x183611=await _0x2f2518[_0x55a03c(0x225)]('analysis.automation.targetId'),_0x11fe0f=await _0x2f2518[_0x55a03c(0x225)](_0x55a03c(0x24a));if(_0x183611&&_0x183611[_0x55a03c(0x21e)]&&_0x11fe0f){const _0x242f6c=_0x183611[_0x55a03c(0x21e)];let _0x21c152=_0x11fe0f[_0x55a03c(0x21e)];try{_0x21c152=JSON[_0x55a03c(0x232)](_0x21c152);}catch(_0x35864a){}_0x2f2518[_0x55a03c(0x218)][_0x55a03c(0x1d7)](_0x55a03c(0x1f9)+_0x242f6c+_0x55a03c(0x254)+_0x21c152),await _0x2f2518['setForeignStateAsync'](_0x242f6c,_0x21c152);}else _0x2f2518['log'][_0x55a03c(0x217)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x982ce){_0x2f2518[_0x55a03c(0x218)][_0x55a03c(0x1d5)](_0x55a03c(0x203)+_0x982ce[_0x55a03c(0x1e5)]);}}async function sendMorningBriefing(_0x5ac41c){const _0x187bdb=a0_0x223ffc;if(!_0x5ac41c[_0x187bdb(0x1db)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x7f904f=_0x187bdb(0x1f2),_0x58737d=await _0x5ac41c[_0x187bdb(0x1db)]['generateContent'](_0x7f904f),_0x316b01=_0x58737d['response']['text']();setup[_0x187bdb(0x259)](_0x5ac41c,'ðŸŒ…\x20Morning\x20Briefing:\x0a'+_0x316b01);}catch(_0x8ee499){_0x5ac41c['log'][_0x187bdb(0x1d5)](_0x187bdb(0x1e3)+_0x8ee499[_0x187bdb(0x1e5)]);}}function a0_0x3818(){const _0x1c9da2=['toString','KI\x20offline\x20(Fallback)','LTM.driftAnalysis.driftDetails','alertReason','Digest','.\x20EVENTS:\x20','analysis.automation.targetValue','generic','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','ltmLtbWindowDays','.\x20KONTEXT:\x20','send','description','64peWKVu','\x20Ã¼bersprungen\x20(Auto-Approved).','getForeignStateAsync','\x20=\x20','78669UTcdjs','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','642bQjlwy','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','sendNotification','livingContext','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','Unbekannt','analysis.automation.autoApply','error','generateContent','info','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','trim','6407240vhvxur','geminiModel','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','stringify','1205OkxzIB','Keine\x20Details.','1538716cuHUxh','summary','reason','Briefing\x20Error:\x20','.\x20EMERGENCY:\x20','message','text','system.presenceWho','analysisHistory','analysis.automation.patternDetected','pop','setStateAsync','âš ï¸\x20ALARM:\x20','\x0aSTB:\x20','dailyDigests','timestamp','analysis.alertReason','automationProposal','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','normal','decision','.forecast.current.temperature','Unbekannt\x20(Kein\x20Sensor)','%)\x20nach\x20\x22','Â°C,\x20','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','targetValue','toFixed','driftDetails','Sicherheit\x20geht\x20vor.','toISOString','useWeather','lastAlertState','.\x20SYSTEM_MODE:\x20','1384412BicriL','BUTLER\x20Execution\x20Error:\x20','search','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','eventHistory','targetId','analysis.automation.targetId','36839020YKxmkj','isEmergency','895320CTjZmX','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','analysis.isAlert','now','apply','Nacht','ANALYZE_HEALTH','exports','activityLevel','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.',',\x20Wetter:\x20','Tag','warn','log','detected','currentSystemMode','unshift','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','.\x20ANWESEND:\x20','val','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','Traffic-Schutz\x20(Auto-Approved)',',\x20LichtverhÃ¤ltnisse:\x20','Wetterdaten\x20nicht\x20abrufbar','.Current.WeatherText','getStateAsync','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','approved','.Current.IsNight','push','aiPersona','response','.Current.Temperature','analysis.activitySummary','toLocaleTimeString','LTM.processingStatus','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','isProVersion','parse','analysis.lastResult','(((.+)+)+)+$','LTM.driftAnalysis.baselineDrift','N/A\x20(Learning)','config','replace','LTM.rawEventLog','length','LTM.driftAnalysis.lastCheck','debug','KI-Fehler\x20(Fallback)','slice','117JZxYHR','isAlert','models/gemini-flash-latest','.forecast.current.state','rawEventLog'];a0_0x3818=function(){return _0x1c9da2;};return a0_0x3818();}module[a0_0x223ffc(0x212)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};