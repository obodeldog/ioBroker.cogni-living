function a0_0x4f0a(){const _0x13f361=['256990PyhjkM','.Current.WeatherText','text','analysis.isAlert','parse','LTM.driftAnalysis.baselineDrift','.\x20ANWESEND:\x20','Skipped\x20(Traffic)','driftDetails','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','weatherInstance','automationProposal','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','livingContext','val','geminiModel','targetValue','KI-Fehler\x20(Fallback)','isAlert','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','toLocaleTimeString','ltmStbWindowDays','splice','generateContent','./setup','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','length','KI\x20offline\x20(Fallback)','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','ðŸŒ…\x20Morning\x20Briefing:\x0a','error','Sicherheit\x20geht\x20vor.','296596vhEhsH','1030092yoSVqF','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','analysisHistory','@google/generative-ai','Keine\x20Details.','warn','replace','debug','models/gemini-flash-latest','slice','.Current.Temperature','reason',',\x20Wetter:\x20','\x20->\x20','\x0aAktivitÃ¤t:\x20','\x20Ã¼bersprungen\x20(Auto-Approved).','BUTLER\x20Execution\x20Error:\x20','%)\x20nach\x20\x22','Â°C,\x20','activityLevel','LTM.rawEventLog','Gemini\x20Error:\x20','alertReason','21TtOSbH','getForeignStateAsync','.forecast.current.temperature','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','rawEventLog','Nacht','useWeather','6KwgWAh','Unbekannt\x20(Kein\x20Sensor)','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','analysis.automation.description','Wetterdaten\x20nicht\x20abrufbar','summary','(((.+)+)+)+$','analysis.automation.targetValue','LTM.driftAnalysis.lastCheck','system.presenceWho','log','isEmergency','isProVersion','toString','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','eventHistory','.\x20KONTEXT:\x20','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','config','send','553633EkXfAG','trim','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','Unbekannt','.Current.IsNight','response','constructor','setStateAsync','analysis.alertReason','lastAlertState','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','exports','timestamp','decision','detected','toISOString','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','LTM.processingStatus','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','Started...','getStateAsync','\x20=\x20','âš ï¸\x20ALARM:\x20','3405647iKNPOF','description','LTM.dailyDigests','now','dailyDigests','ANALYZE_HEALTH','stringify','analysis.analysisHistory','push','analysis.lastResult','info','sendNotification','analysis.automation.patternDetected','search','generic','analysis.automation.targetId','Tag','message','analysis.activitySummary','972296wPfjRg','LTM.driftAnalysis.driftDetails','pop','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','analysis.automation.autoApply','.\x20EMERGENCY:\x20','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','unshift','aiPersona','5344425kNGNxq','Digest','targetId'];a0_0x4f0a=function(){return _0x13f361;};return a0_0x4f0a();}const a0_0x57d18c=a0_0x5aa4;(function(_0x298da2,_0x25fdc5){const _0x5ba6f6=a0_0x5aa4,_0x312a11=_0x298da2();while(!![]){try{const _0x305f39=-parseInt(_0x5ba6f6(0x1b5))/0x1+-parseInt(_0x5ba6f6(0x183))/0x2+-parseInt(_0x5ba6f6(0x19a))/0x3*(-parseInt(_0x5ba6f6(0x182))/0x4)+-parseInt(_0x5ba6f6(0x162))/0x5*(parseInt(_0x5ba6f6(0x1a1))/0x6)+parseInt(_0x5ba6f6(0x1cc))/0x7+-parseInt(_0x5ba6f6(0x155))/0x8+parseInt(_0x5ba6f6(0x15f))/0x9;if(_0x305f39===_0x25fdc5)break;else _0x312a11['push'](_0x312a11['shift']());}catch(_0x1b4401){_0x312a11['push'](_0x312a11['shift']());}}}(a0_0x4f0a,0x5758f));const a0_0x18c5cc=(function(){let _0x2d8237=!![];return function(_0x3496a6,_0x1cf03f){const _0x23a3ad=_0x2d8237?function(){if(_0x1cf03f){const _0x46bcfc=_0x1cf03f['apply'](_0x3496a6,arguments);return _0x1cf03f=null,_0x46bcfc;}}:function(){};return _0x2d8237=![],_0x23a3ad;};}()),a0_0xf56547=a0_0x18c5cc(this,function(){const _0x2ae377=a0_0x5aa4;return a0_0xf56547[_0x2ae377(0x1ae)]()[_0x2ae377(0x1d9)](_0x2ae377(0x1a7))[_0x2ae377(0x1ae)]()[_0x2ae377(0x1bb)](a0_0xf56547)[_0x2ae377(0x1d9)](_0x2ae377(0x1a7));});a0_0xf56547();'use strict';const {GoogleGenerativeAI}=require(a0_0x57d18c(0x186)),setup=require(a0_0x57d18c(0x17a)),GEMINI_MODEL=a0_0x57d18c(0x18b),LTM_DP_DAILY_DIGESTS=a0_0x57d18c(0x1ce),LTM_DP_STATUS=a0_0x57d18c(0x1c6),LTM_DP_RAW_LOG=a0_0x57d18c(0x197),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;function a0_0x5aa4(_0x5882b1,_0x243792){const _0x574dcd=a0_0x4f0a();return a0_0x5aa4=function(_0xf56547,_0x18c5cc){_0xf56547=_0xf56547-0x150;let _0x4f0aae=_0x574dcd[_0xf56547];return _0x4f0aae;},a0_0x5aa4(_0x5882b1,_0x243792);}let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x57d18c(0x17e),'senior_aal':'PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','family':a0_0x57d18c(0x15b),'single_comfort':a0_0x57d18c(0x1bf),'security':a0_0x57d18c(0x181),'energy_saver':a0_0x57d18c(0x158)};function canCallApi(){const _0xfb4c0f=a0_0x57d18c,_0x4d009e=Date[_0xfb4c0f(0x1cf)]();return _0x4d009e-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x1109c4){const _0x4acf09=a0_0x57d18c;if(!_0x1109c4[_0x4acf09(0x1b3)][_0x4acf09(0x1a0)]||!_0x1109c4[_0x4acf09(0x1b3)][_0x4acf09(0x16c)])return _0x4acf09(0x1a2);try{const _0x3f6737=_0x1109c4[_0x4acf09(0x1b3)][_0x4acf09(0x16c)];let _0x4c5e35=await _0x1109c4[_0x4acf09(0x19b)](_0x3f6737+_0x4acf09(0x18d));if(!_0x4c5e35)_0x4c5e35=await _0x1109c4['getForeignStateAsync'](_0x3f6737+_0x4acf09(0x19c));let _0x4663a7=await _0x1109c4['getForeignStateAsync'](_0x3f6737+_0x4acf09(0x163));if(!_0x4663a7)_0x4663a7=await _0x1109c4[_0x4acf09(0x19b)](_0x3f6737+'.forecast.current.state');let _0x18fd05=_0x4acf09(0x1b8);const _0x4ea4dc=await _0x1109c4['getForeignStateAsync'](_0x3f6737+_0x4acf09(0x1b9));if(_0x4ea4dc)_0x18fd05=_0x4ea4dc[_0x4acf09(0x170)]?_0x4acf09(0x19f):_0x4acf09(0x152);if(_0x4c5e35&&_0x4663a7)return _0x4c5e35[_0x4acf09(0x170)]+_0x4acf09(0x195)+_0x4663a7[_0x4acf09(0x170)]+',\x20LichtverhÃ¤ltnisse:\x20'+_0x18fd05;}catch(_0x522ce4){}return _0x4acf09(0x1a5);}async function consultButler(_0x2226ac,_0x1d56a9,_0xa95612,_0x33efad){const _0x3f23f9=a0_0x57d18c;if(!_0x2226ac[_0x3f23f9(0x171)])return{'approved':!![],'reason':_0x3f23f9(0x17d)};const _0x168e28=Date['now']();if(decisionCache[_0x1d56a9]&&_0x168e28-decisionCache[_0x1d56a9][_0x3f23f9(0x1c1)]<CACHE_TTL_MS){const _0x5c85e1=decisionCache[_0x1d56a9][_0x3f23f9(0x1c2)];return _0x2226ac[_0x3f23f9(0x1ab)][_0x3f23f9(0x18a)](_0x3f23f9(0x19d)+_0x1d56a9+_0x3f23f9(0x190)+(_0x5c85e1['approved']?'OK':'NO')+'\x20('+_0x5c85e1[_0x3f23f9(0x18e)]+')'),_0x5c85e1;}if(!canCallApi())return _0x2226ac[_0x3f23f9(0x1ab)][_0x3f23f9(0x18a)](_0x3f23f9(0x15c)+_0x1d56a9+_0x3f23f9(0x192)),{'approved':!![],'reason':'Traffic-Schutz\x20(Auto-Approved)'};const _0x543243=new Date()[_0x3f23f9(0x176)](),_0x589537=await getWeatherContext(_0x2226ac),_0x445e41=PERSONA_MAPPING[_0x2226ac[_0x3f23f9(0x1b3)]['aiPersona']||_0x3f23f9(0x150)],_0x50ddef=_0x3f23f9(0x1c5)+_0x543243+_0x3f23f9(0x18f)+_0x589537+_0x3f23f9(0x16b)+(_0x33efad*0x64)['toFixed'](0x0)+_0x3f23f9(0x194)+_0x1d56a9+_0x3f23f9(0x1b2)+_0xa95612+_0x3f23f9(0x1af)+_0x445e41+_0x3f23f9(0x1b7);try{updateApiTimestamp();const _0x5b6cca=await _0x2226ac['geminiModel']['generateContent'](_0x50ddef),_0xd8c5ba=_0x5b6cca['response'][_0x3f23f9(0x164)]()['replace'](/```json|```/g,'')['trim'](),_0x13451c=JSON[_0x3f23f9(0x166)](_0xd8c5ba);return decisionCache[_0x1d56a9]={'decision':_0x13451c,'timestamp':_0x168e28},_0x13451c;}catch(_0x69dc60){return _0x2226ac[_0x3f23f9(0x1ab)][_0x3f23f9(0x188)]('ðŸ¤–\x20Butler\x20Brain\x20Error:\x20'+_0x69dc60['message']),decisionCache[_0x1d56a9]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x168e28-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x3f23f9(0x173)};}}async function runGeminiAnalysis(_0x3417fd,_0x10316b=''){const _0x42ab0e=a0_0x57d18c;if(!_0x3417fd[_0x42ab0e(0x171)])return;if(!canCallApi()){_0x3417fd[_0x42ab0e(0x1ab)]['debug'](_0x42ab0e(0x1c7));return;}if(_0x3417fd['eventHistory'][_0x42ab0e(0x17c)]===0x0)return;const _0x41655c=_0x3417fd[_0x42ab0e(0x1b0)]['slice'](0x0,0xf),_0x472294=_0x3417fd['currentSystemMode'],_0x3870eb=PERSONA_MAPPING[_0x3417fd[_0x42ab0e(0x1b3)][_0x42ab0e(0x15e)]||_0x42ab0e(0x150)],_0x2ab63d=_0x3417fd[_0x42ab0e(0x1b3)][_0x42ab0e(0x16f)]||_0x42ab0e(0x187);let _0x1cec1f=_0x42ab0e(0x1b8);try{const _0x5e51ea=await _0x3417fd[_0x42ab0e(0x1c9)](_0x42ab0e(0x1aa));if(_0x5e51ea&&_0x5e51ea[_0x42ab0e(0x170)])_0x1cec1f=_0x5e51ea[_0x42ab0e(0x170)];}catch(_0x4d771f){}let _0x4fee44=![];try{const _0x443555=await _0x3417fd[_0x42ab0e(0x1c9)](_0x42ab0e(0x159));if(_0x443555&&_0x443555[_0x42ab0e(0x170)])_0x4fee44=!![];}catch(_0x25c30b){}const _0x30dc38=_0x42ab0e(0x17b)+_0x3870eb+_0x42ab0e(0x1b1)+_0x2ab63d+'.\x20SYSTEM_MODE:\x20'+_0x472294+_0x42ab0e(0x168)+_0x1cec1f+'.\x20EVENTS:\x20'+JSON['stringify'](_0x41655c)+_0x42ab0e(0x15a)+_0x10316b+_0x42ab0e(0x184);try{updateApiTimestamp();const _0x524c24=await _0x3417fd[_0x42ab0e(0x171)][_0x42ab0e(0x179)](_0x30dc38),_0xd7d956=JSON[_0x42ab0e(0x166)](_0x524c24[_0x42ab0e(0x1ba)][_0x42ab0e(0x164)]()[_0x42ab0e(0x189)](/```json|```/g,'')[_0x42ab0e(0x1b6)]());await _0x3417fd['setStateAsync'](_0x42ab0e(0x1d5),{'val':JSON[_0x42ab0e(0x1d2)](_0xd7d956),'ack':!![]});if(_0xd7d956[_0x42ab0e(0x1a6)])await _0x3417fd['setStateAsync'](_0x42ab0e(0x154),{'val':_0xd7d956[_0x42ab0e(0x1a6)],'ack':!![]});const _0xe03f93={'timestamp':Date[_0x42ab0e(0x1cf)](),'id':Date[_0x42ab0e(0x1cf)]()[_0x42ab0e(0x1ae)](),'analysis':{'activity':{'summary':_0xd7d956[_0x42ab0e(0x1a6)],'isAlert':_0xd7d956[_0x42ab0e(0x174)],'alertReason':_0xd7d956['alertReason']},'comfort':{'automationProposal':_0xd7d956[_0x42ab0e(0x16d)]}}};_0x3417fd[_0x42ab0e(0x185)][_0x42ab0e(0x15d)](_0xe03f93);if(_0x3417fd['analysisHistory'][_0x42ab0e(0x17c)]>0x32)_0x3417fd['analysisHistory'][_0x42ab0e(0x157)]();await _0x3417fd[_0x42ab0e(0x1bc)](_0x42ab0e(0x1d3),{'val':JSON['stringify'](_0x3417fd[_0x42ab0e(0x185)]),'ack':!![]});const _0x5cb851=_0xd7d956['isAlert']||![];_0x5cb851!==_0x3417fd[_0x42ab0e(0x1be)]&&(await _0x3417fd['setStateAsync'](_0x42ab0e(0x165),{'val':_0x5cb851,'ack':!![]}),_0x3417fd[_0x42ab0e(0x1be)]=_0x5cb851,_0x5cb851&&(await _0x3417fd[_0x42ab0e(0x1bc)](_0x42ab0e(0x1bd),{'val':_0xd7d956['alertReason'],'ack':!![]}),setup[_0x42ab0e(0x1d7)](_0x3417fd,_0x42ab0e(0x1cb)+_0xd7d956[_0x42ab0e(0x199)],![],_0xd7d956[_0x42ab0e(0x1ac)])));if(_0xd7d956['automationProposal']&&_0xd7d956[_0x42ab0e(0x16d)][_0x42ab0e(0x1c3)]){await _0x3417fd[_0x42ab0e(0x1bc)](_0x42ab0e(0x1d8),{'val':!![],'ack':!![]}),await _0x3417fd[_0x42ab0e(0x1bc)](_0x42ab0e(0x1a4),{'val':_0xd7d956['automationProposal'][_0x42ab0e(0x1cd)],'ack':!![]}),await _0x3417fd[_0x42ab0e(0x1bc)](_0x42ab0e(0x151),{'val':_0xd7d956[_0x42ab0e(0x16d)][_0x42ab0e(0x161)],'ack':!![]}),await _0x3417fd[_0x42ab0e(0x1bc)](_0x42ab0e(0x1a8),{'val':JSON['stringify'](_0xd7d956['automationProposal'][_0x42ab0e(0x172)]),'ack':!![]});if(_0x4fee44)executeAutomationAction(_0x3417fd);}}catch(_0x63f219){_0x3417fd['log']['error'](_0x42ab0e(0x198)+_0x63f219['message']);}}async function createDailyDigest(_0x2f3cf1,_0x42ac98){const _0x378b46=a0_0x57d18c;if(!_0x2f3cf1['isProVersion'])return;if(!canCallApi()){await _0x2f3cf1[_0x378b46(0x1bc)](LTM_DP_STATUS,{'val':_0x378b46(0x169),'ack':!![]});return;}await _0x2f3cf1['setStateAsync'](LTM_DP_STATUS,{'val':_0x378b46(0x1c8),'ack':!![]});if(!_0x2f3cf1['geminiModel']||_0x2f3cf1[_0x378b46(0x19e)][_0x378b46(0x17c)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x2f3cf1['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x361008=JSON[_0x378b46(0x166)](JSON['stringify'](_0x2f3cf1[_0x378b46(0x19e)])),_0x514ed4=_0x361008[_0x378b46(0x17c)],_0xd9caf4=_0x378b46(0x1a3)+JSON[_0x378b46(0x1d2)](_0x361008);try{updateApiTimestamp();const _0x4a64dc=await _0x2f3cf1['geminiModel']['generateContent'](_0xd9caf4),_0x288d57=JSON[_0x378b46(0x166)](_0x4a64dc[_0x378b46(0x1ba)][_0x378b46(0x164)]()[_0x378b46(0x189)](/```json|```/g,'')[_0x378b46(0x1b6)]()),_0x2a823d={'timestamp':new Date()[_0x378b46(0x1c4)](),'eventCount':_0x514ed4,'summary':_0x288d57[_0x378b46(0x1a6)]||_0x378b46(0x160),'activityLevel':_0x288d57[_0x378b46(0x196)]||'normal','systemMode':_0x2f3cf1['currentSystemMode']};_0x2f3cf1[_0x378b46(0x1d0)][_0x378b46(0x1d4)](_0x2a823d);const _0x383ff8=_0x2f3cf1['config']['ltmLtbWindowDays']||0x3c;_0x2f3cf1['dailyDigests'][_0x378b46(0x17c)]>_0x383ff8&&_0x2f3cf1[_0x378b46(0x1d0)][_0x378b46(0x178)](0x0,_0x2f3cf1[_0x378b46(0x1d0)][_0x378b46(0x17c)]-_0x383ff8);await _0x2f3cf1['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x378b46(0x1d2)](_0x2f3cf1[_0x378b46(0x1d0)]),'ack':!![]}),_0x2f3cf1[_0x378b46(0x19e)]=[],await _0x2f3cf1[_0x378b46(0x1bc)](LTM_DP_RAW_LOG,{'val':JSON[_0x378b46(0x1d2)](_0x2f3cf1[_0x378b46(0x19e)]),'ack':!![]}),await _0x2f3cf1['setStateAsync'](LTM_DP_STATUS,{'val':'Success','ack':!![]});const _0x36c970='ðŸ“…\x20Daily\x20Digest:\x0a'+_0x288d57[_0x378b46(0x1a6)]+_0x378b46(0x191)+_0x288d57[_0x378b46(0x196)];setup['sendNotification'](_0x2f3cf1,_0x36c970,![],![]);if(_0x2f3cf1[_0x378b46(0x1ad)]&&_0x42ac98)_0x42ac98[_0x378b46(0x1b4)](_0x2f3cf1,_0x378b46(0x1d1),{'digest':_0x2a823d});}catch(_0x347fad){_0x2f3cf1[_0x378b46(0x1ab)]['error'](_0x347fad[_0x378b46(0x153)]);}}async function runBaselineDriftAnalysis(_0x28159e){const _0x462dc5=a0_0x57d18c;if(!_0x28159e['isProVersion']||!_0x28159e[_0x462dc5(0x171)])return;if(!canCallApi())return;const _0x3be209=_0x28159e['config'][_0x462dc5(0x177)]||0xe;if(_0x28159e['dailyDigests'][_0x462dc5(0x17c)]<_0x3be209+0x7){await _0x28159e[_0x462dc5(0x1bc)](_0x462dc5(0x167),{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x33e19f=_0x28159e[_0x462dc5(0x1d0)][_0x462dc5(0x18c)](-_0x3be209),_0x34e613=_0x28159e[_0x462dc5(0x1d0)][_0x462dc5(0x18c)](0x0,_0x28159e['dailyDigests'][_0x462dc5(0x17c)]-_0x3be209),_0x2033f1='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x462dc5(0x1d2)](_0x34e613)+'\x0aSTB:\x20'+JSON[_0x462dc5(0x1d2)](_0x33e19f);try{updateApiTimestamp();const _0x580e1b=await _0x28159e[_0x462dc5(0x171)][_0x462dc5(0x179)](_0x2033f1),_0x4f8664=JSON[_0x462dc5(0x166)](_0x580e1b['response'][_0x462dc5(0x164)]()[_0x462dc5(0x189)](/```json|```/g,'')['trim']());_0x4f8664['baselineDrift']&&(await _0x28159e['setStateAsync'](_0x462dc5(0x167),{'val':_0x4f8664['baselineDrift'],'ack':!![]}),await _0x28159e[_0x462dc5(0x1bc)](_0x462dc5(0x156),{'val':_0x4f8664[_0x462dc5(0x16a)],'ack':!![]}),await _0x28159e[_0x462dc5(0x1bc)](_0x462dc5(0x1a9),{'val':Date[_0x462dc5(0x1cf)](),'ack':!![]}));}catch(_0x483f0f){}}async function executeAutomationAction(_0xbb5a10){const _0x516125=a0_0x57d18c;try{const _0x3e43d7=await _0xbb5a10[_0x516125(0x1c9)](_0x516125(0x151)),_0x19167c=await _0xbb5a10[_0x516125(0x1c9)](_0x516125(0x1a8));if(_0x3e43d7&&_0x3e43d7[_0x516125(0x170)]&&_0x19167c){const _0x25a8a8=_0x3e43d7['val'];let _0x4a6939=_0x19167c['val'];try{_0x4a6939=JSON[_0x516125(0x166)](_0x4a6939);}catch(_0x2d0896){}_0xbb5a10[_0x516125(0x1ab)][_0x516125(0x1d6)](_0x516125(0x16e)+_0x25a8a8+_0x516125(0x1ca)+_0x4a6939),await _0xbb5a10['setForeignStateAsync'](_0x25a8a8,_0x4a6939);}else _0xbb5a10['log'][_0x516125(0x188)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x41897f){_0xbb5a10[_0x516125(0x1ab)][_0x516125(0x180)](_0x516125(0x193)+_0x41897f[_0x516125(0x153)]);}}async function sendMorningBriefing(_0x47b867){const _0x29f5eb=a0_0x57d18c;if(!_0x47b867[_0x29f5eb(0x171)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x53edc6=_0x29f5eb(0x175),_0x59dc7a=await _0x47b867[_0x29f5eb(0x171)][_0x29f5eb(0x179)](_0x53edc6),_0x302269=_0x59dc7a[_0x29f5eb(0x1ba)]['text']();setup['sendNotification'](_0x47b867,_0x29f5eb(0x17f)+_0x302269);}catch(_0x12b4d0){_0x47b867[_0x29f5eb(0x1ab)][_0x29f5eb(0x180)]('Briefing\x20Error:\x20'+_0x12b4d0[_0x29f5eb(0x153)]);}}module[a0_0x57d18c(0x1c0)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};