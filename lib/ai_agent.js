const a0_0x1b29e8=a0_0x4459;(function(_0xeeac7c,_0x3252f4){const _0x4e5b3a=a0_0x4459,_0x5d9187=_0xeeac7c();while(!![]){try{const _0xd4cef1=-parseInt(_0x4e5b3a(0x1e2))/0x1*(parseInt(_0x4e5b3a(0x1ee))/0x2)+parseInt(_0x4e5b3a(0x1f1))/0x3+parseInt(_0x4e5b3a(0x1d0))/0x4+parseInt(_0x4e5b3a(0x1af))/0x5*(-parseInt(_0x4e5b3a(0x1f4))/0x6)+parseInt(_0x4e5b3a(0x1d4))/0x7+-parseInt(_0x4e5b3a(0x232))/0x8*(parseInt(_0x4e5b3a(0x1ed))/0x9)+-parseInt(_0x4e5b3a(0x204))/0xa*(parseInt(_0x4e5b3a(0x1c5))/0xb);if(_0xd4cef1===_0x3252f4)break;else _0x5d9187['push'](_0x5d9187['shift']());}catch(_0x3bf3d1){_0x5d9187['push'](_0x5d9187['shift']());}}}(a0_0x5ba8,0xa5fd2));const a0_0xe29819=(function(){let _0x37689b=!![];return function(_0x11208c,_0x9fdb16){const _0x5624c3=_0x37689b?function(){const _0x5aed60=a0_0x4459;if(_0x9fdb16){const _0xcab873=_0x9fdb16[_0x5aed60(0x20d)](_0x11208c,arguments);return _0x9fdb16=null,_0xcab873;}}:function(){};return _0x37689b=![],_0x5624c3;};}()),a0_0x4af739=a0_0xe29819(this,function(){const _0x20fdaa=a0_0x4459;return a0_0x4af739[_0x20fdaa(0x203)]()['search'](_0x20fdaa(0x1f0))[_0x20fdaa(0x203)]()['constructor'](a0_0x4af739)['search'](_0x20fdaa(0x1f0));});a0_0x4af739();'use strict';const {GoogleGenerativeAI}=require(a0_0x1b29e8(0x1c7)),setup=require(a0_0x1b29e8(0x1f5)),GEMINI_MODEL=a0_0x1b29e8(0x230),LTM_DP_DAILY_DIGESTS=a0_0x1b29e8(0x1cf),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x1b29e8(0x1ac),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;function a0_0x5ba8(){const _0x28dd93=['\x0aAktivit√§t:\x20','Unbekannt','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','üìÖ\x20Daily\x20Digest:\x0a','.forecast.current.temperature','Gemini\x20Error:\x20','548237XxNGgn','lastAlertState','message','analysis.automation.targetId','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','analysis.automation.patternDetected',',\x20Wetter:\x20','error','detected','.\x20EVENTS:\x20','analysis.analysisHistory','351BQHlXX','2nTZGzX','analysis.automation.autoApply','(((.+)+)+)+$','2431155lUFAYK','currentSystemMode','setForeignStateAsync','1902HXZEls','./setup','pop','generateContent','targetValue',').\x20Sending\x20notification...','\x20->\x20','slice','analysis.isAlert','useWeather','summary','analysis.alertReason','targetId','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','setStateAsync','toString','2707350rvnxEt','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','analysis.lastResult','üåÖ\x20Briefing\x20generated\x20(Length:\x20','üåÖ\x20Morning\x20Briefing:\x0a','Started...','reason','toISOString','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','apply','aiPersona','\x20√ºbersprungen\x20(Auto-Approved).','send','toLocaleTimeString','rawEventLog','analysis.activitySummary','response','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','analysisHistory','text','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','üåÖ\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','alertReason','LTM.driftAnalysis.baselineDrift','.Current.WeatherText','geminiModel','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','LTM.driftAnalysis.driftDetails','approved','KI-Fehler\x20(Fallback)','\x0aSTB:\x20','‚ö†Ô∏è\x20ALARM:\x20','toFixed','Sicherheit\x20geht\x20vor.','Keine\x20Details.','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','.Current.IsNight','system.presenceWho','description','Wetterdaten\x20nicht\x20abrufbar','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','ltmLtbWindowDays','ü§ñ\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','debug','models/gemini-flash-latest','analysis.automation.targetValue','201752WIBpHl','Tag','val','push','parse','warn','BUTLER\x20Execution\x20Error:\x20','weatherInstance','automationProposal','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','now','sendNotification','unshift','¬∞C,\x20','eventHistory','Briefing\x20Error:\x20','livingContext','activityLevel','LTM.rawEventLog','baselineDrift','log','745iPkFQg','config','.Current.Temperature','Skipped\x20(No\x20AI\x20or\x20Data)','splice','decision','info','timestamp','dailyDigests','N/A\x20(Learning)','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','stringify','ü§ñ\x20Butler\x20Brain\x20Error:\x20','Unbekannt\x20(Kein\x20Sensor)','length','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','generic','analysis.automation.description','isEmergency','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','Traffic-Schutz\x20(Auto-Approved)','11IYqABi','getStateAsync','@google/generative-ai','.\x20KONTEXT:\x20','.\x20EMERGENCY:\x20','.forecast.current.state','.\x20SYSTEM_MODE:\x20','ANALYZE_HEALTH','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','isAlert','LTM.dailyDigests','2535184ckCPxs','ltmStbWindowDays','isProVersion','trim','7598185upHRTI','replace','getForeignStateAsync','Skipped\x20(Traffic)','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','KI\x20offline\x20(Fallback)','driftDetails','Digest'];a0_0x5ba8=function(){return _0x28dd93;};return a0_0x5ba8();}let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x1b29e8(0x1bf),'family':a0_0x1b29e8(0x1cd),'single_comfort':a0_0x1b29e8(0x205),'security':a0_0x1b29e8(0x225),'energy_saver':'PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function a0_0x4459(_0x58107f,_0x30fb2c){const _0x2472a0=a0_0x5ba8();return a0_0x4459=function(_0x4af739,_0xe29819){_0x4af739=_0x4af739-0x1a6;let _0x5ba829=_0x2472a0[_0x4af739];return _0x5ba829;},a0_0x4459(_0x58107f,_0x30fb2c);}function canCallApi(){const _0x1b9fcc=Date['now']();return _0x1b9fcc-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x382222){const _0x5a918d=a0_0x1b29e8;if(!_0x382222['config'][_0x5a918d(0x1fd)]||!_0x382222[_0x5a918d(0x1b0)]['weatherInstance'])return _0x5a918d(0x1bd);try{const _0x1be102=_0x382222[_0x5a918d(0x1b0)][_0x5a918d(0x239)];let _0x476589=await _0x382222[_0x5a918d(0x1d6)](_0x1be102+_0x5a918d(0x1b1));if(!_0x476589)_0x476589=await _0x382222[_0x5a918d(0x1d6)](_0x1be102+_0x5a918d(0x1e0));let _0x4f8cd3=await _0x382222[_0x5a918d(0x1d6)](_0x1be102+_0x5a918d(0x21c));if(!_0x4f8cd3)_0x4f8cd3=await _0x382222['getForeignStateAsync'](_0x1be102+_0x5a918d(0x1ca));let _0x4ede99=_0x5a918d(0x1dd);const _0x2f2e40=await _0x382222[_0x5a918d(0x1d6)](_0x1be102+_0x5a918d(0x228));if(_0x2f2e40)_0x4ede99=_0x2f2e40[_0x5a918d(0x234)]?'Nacht':_0x5a918d(0x233);if(_0x476589&&_0x4f8cd3)return _0x476589[_0x5a918d(0x234)]+_0x5a918d(0x1a7)+_0x4f8cd3['val']+',\x20Lichtverh√§ltnisse:\x20'+_0x4ede99;}catch(_0x918ac5){}return _0x5a918d(0x22b);}async function consultButler(_0x22e8df,_0x1e04f6,_0x570599,_0x43d593){const _0xa5e2f0=a0_0x1b29e8;if(!_0x22e8df[_0xa5e2f0(0x21d)])return{'approved':!![],'reason':_0xa5e2f0(0x1d9)};const _0x42758f=Date[_0xa5e2f0(0x23c)]();if(decisionCache[_0x1e04f6]&&_0x42758f-decisionCache[_0x1e04f6][_0xa5e2f0(0x1b6)]<CACHE_TTL_MS){const _0x551366=decisionCache[_0x1e04f6][_0xa5e2f0(0x1b4)];return _0x22e8df[_0xa5e2f0(0x1ae)][_0xa5e2f0(0x22f)](_0xa5e2f0(0x215)+_0x1e04f6+_0xa5e2f0(0x1fa)+(_0x551366[_0xa5e2f0(0x220)]?'OK':'NO')+'\x20('+_0x551366[_0xa5e2f0(0x20a)]+')'),_0x551366;}if(!canCallApi())return _0x22e8df['log'][_0xa5e2f0(0x22f)](_0xa5e2f0(0x1de)+_0x1e04f6+_0xa5e2f0(0x20f)),{'approved':!![],'reason':_0xa5e2f0(0x1c4)};const _0x4b534b=new Date()[_0xa5e2f0(0x211)](),_0x532b4d=await getWeatherContext(_0x22e8df),_0x1abf17=PERSONA_MAPPING[_0x22e8df[_0xa5e2f0(0x1b0)]['aiPersona']||'generic'],_0x2ee163='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x4b534b+_0xa5e2f0(0x1e8)+_0x532b4d+_0xa5e2f0(0x1ba)+(_0x43d593*0x64)[_0xa5e2f0(0x224)](0x0)+'%)\x20nach\x20\x22'+_0x1e04f6+_0xa5e2f0(0x23b)+_0x570599+_0xa5e2f0(0x227)+_0x1abf17+_0xa5e2f0(0x201);try{updateApiTimestamp();const _0x19e92d=await _0x22e8df['geminiModel']['generateContent'](_0x2ee163),_0x881c50=_0x19e92d[_0xa5e2f0(0x214)]['text']()[_0xa5e2f0(0x1d5)](/```json|```/g,'')[_0xa5e2f0(0x1d3)](),_0x577bd1=JSON[_0xa5e2f0(0x236)](_0x881c50);return decisionCache[_0x1e04f6]={'decision':_0x577bd1,'timestamp':_0x42758f},_0x577bd1;}catch(_0x94d6b1){return _0x22e8df[_0xa5e2f0(0x1ae)][_0xa5e2f0(0x237)](_0xa5e2f0(0x1bc)+_0x94d6b1[_0xa5e2f0(0x1e4)]),decisionCache[_0x1e04f6]={'decision':{'approved':!![],'reason':_0xa5e2f0(0x221)},'timestamp':_0x42758f-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}async function runGeminiAnalysis(_0x4de5d4,_0x57ec7c=''){const _0x489074=a0_0x1b29e8;if(!_0x4de5d4['geminiModel'])return;if(!canCallApi()){_0x4de5d4[_0x489074(0x1ae)][_0x489074(0x22f)](_0x489074(0x1e6));return;}if(_0x4de5d4[_0x489074(0x1a8)][_0x489074(0x1be)]===0x0)return;const _0x313465=_0x4de5d4[_0x489074(0x1a8)][_0x489074(0x1fb)](0x0,0xf),_0x4583d0=_0x4de5d4[_0x489074(0x1f2)],_0x457f64=PERSONA_MAPPING[_0x4de5d4['config'][_0x489074(0x20e)]||_0x489074(0x1c0)],_0x5dc1a9=_0x4de5d4[_0x489074(0x1b0)][_0x489074(0x1aa)]||_0x489074(0x226);let _0x3f7937='Unbekannt';try{const _0xf5e477=await _0x4de5d4[_0x489074(0x1c6)](_0x489074(0x229));if(_0xf5e477&&_0xf5e477[_0x489074(0x234)])_0x3f7937=_0xf5e477['val'];}catch(_0x45f83b){}let _0x7eee81=![];try{const _0x3c1131=await _0x4de5d4[_0x489074(0x1c6)](_0x489074(0x1ef));if(_0x3c1131&&_0x3c1131[_0x489074(0x234)])_0x7eee81=!![];}catch(_0x47f378){}const _0x17edc3=_0x489074(0x21e)+_0x457f64+_0x489074(0x1c8)+_0x5dc1a9+_0x489074(0x1cb)+_0x4583d0+'.\x20ANWESEND:\x20'+_0x3f7937+_0x489074(0x1eb)+JSON[_0x489074(0x1bb)](_0x313465)+_0x489074(0x1c9)+_0x57ec7c+_0x489074(0x1c3);try{updateApiTimestamp();const _0x26415a=await _0x4de5d4['geminiModel']['generateContent'](_0x17edc3),_0x30482f=JSON[_0x489074(0x236)](_0x26415a[_0x489074(0x214)][_0x489074(0x217)]()['replace'](/```json|```/g,'')[_0x489074(0x1d3)]());await _0x4de5d4[_0x489074(0x202)](_0x489074(0x206),{'val':JSON[_0x489074(0x1bb)](_0x30482f),'ack':!![]});if(_0x30482f[_0x489074(0x1fe)])await _0x4de5d4[_0x489074(0x202)](_0x489074(0x213),{'val':_0x30482f[_0x489074(0x1fe)],'ack':!![]});const _0x44b3d0={'timestamp':Date[_0x489074(0x23c)](),'id':Date[_0x489074(0x23c)]()['toString'](),'analysis':{'activity':{'summary':_0x30482f[_0x489074(0x1fe)],'isAlert':_0x30482f['isAlert'],'alertReason':_0x30482f['alertReason']},'comfort':{'automationProposal':_0x30482f[_0x489074(0x23a)]}}};_0x4de5d4[_0x489074(0x216)][_0x489074(0x1a6)](_0x44b3d0);if(_0x4de5d4[_0x489074(0x216)][_0x489074(0x1be)]>0x32)_0x4de5d4[_0x489074(0x216)][_0x489074(0x1f6)]();await _0x4de5d4[_0x489074(0x202)](_0x489074(0x1ec),{'val':JSON[_0x489074(0x1bb)](_0x4de5d4[_0x489074(0x216)]),'ack':!![]});const _0x49a174=_0x30482f[_0x489074(0x1ce)]||![];_0x49a174!==_0x4de5d4[_0x489074(0x1e3)]&&(await _0x4de5d4['setStateAsync'](_0x489074(0x1fc),{'val':_0x49a174,'ack':!![]}),_0x4de5d4[_0x489074(0x1e3)]=_0x49a174,_0x49a174&&(await _0x4de5d4[_0x489074(0x202)](_0x489074(0x1ff),{'val':_0x30482f['alertReason'],'ack':!![]}),setup['sendNotification'](_0x4de5d4,_0x489074(0x223)+_0x30482f[_0x489074(0x21a)],![],_0x30482f[_0x489074(0x1c2)])));if(_0x30482f[_0x489074(0x23a)]&&_0x30482f[_0x489074(0x23a)][_0x489074(0x1ea)]){await _0x4de5d4[_0x489074(0x202)](_0x489074(0x1e7),{'val':!![],'ack':!![]}),await _0x4de5d4[_0x489074(0x202)](_0x489074(0x1c1),{'val':_0x30482f['automationProposal'][_0x489074(0x22a)],'ack':!![]}),await _0x4de5d4[_0x489074(0x202)](_0x489074(0x1e5),{'val':_0x30482f['automationProposal'][_0x489074(0x200)],'ack':!![]}),await _0x4de5d4['setStateAsync'](_0x489074(0x231),{'val':JSON[_0x489074(0x1bb)](_0x30482f[_0x489074(0x23a)][_0x489074(0x1f8)]),'ack':!![]});if(_0x7eee81)executeAutomationAction(_0x4de5d4);}}catch(_0x5ba792){_0x4de5d4['log'][_0x489074(0x1e9)](_0x489074(0x1e1)+_0x5ba792[_0x489074(0x1e4)]);}}async function createDailyDigest(_0x53220f,_0x30dedb){const _0x22392a=a0_0x1b29e8;if(!_0x53220f[_0x22392a(0x1d2)])return;if(!canCallApi()){await _0x53220f['setStateAsync'](LTM_DP_STATUS,{'val':_0x22392a(0x1d7),'ack':!![]});return;}await _0x53220f[_0x22392a(0x202)](LTM_DP_STATUS,{'val':_0x22392a(0x209),'ack':!![]});if(!_0x53220f['geminiModel']||_0x53220f[_0x22392a(0x212)][_0x22392a(0x1be)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x53220f[_0x22392a(0x202)](LTM_DP_STATUS,{'val':_0x22392a(0x1b2),'ack':!![]});return;}const _0x505bbe=JSON['parse'](JSON[_0x22392a(0x1bb)](_0x53220f[_0x22392a(0x212)])),_0x26d044=_0x505bbe[_0x22392a(0x1be)],_0x27186c=_0x22392a(0x1b9)+JSON['stringify'](_0x505bbe);try{updateApiTimestamp();const _0x29e625=await _0x53220f[_0x22392a(0x21d)]['generateContent'](_0x27186c),_0x16bebc=JSON[_0x22392a(0x236)](_0x29e625[_0x22392a(0x214)][_0x22392a(0x217)]()[_0x22392a(0x1d5)](/```json|```/g,'')[_0x22392a(0x1d3)]()),_0x372241={'timestamp':new Date()[_0x22392a(0x20b)](),'eventCount':_0x26d044,'summary':_0x16bebc[_0x22392a(0x1fe)]||_0x22392a(0x1db),'activityLevel':_0x16bebc[_0x22392a(0x1ab)]||'normal','systemMode':_0x53220f['currentSystemMode']};_0x53220f[_0x22392a(0x1b7)][_0x22392a(0x235)](_0x372241);const _0x1c2d53=_0x53220f[_0x22392a(0x1b0)][_0x22392a(0x22d)]||0x3c;_0x53220f[_0x22392a(0x1b7)][_0x22392a(0x1be)]>_0x1c2d53&&_0x53220f[_0x22392a(0x1b7)][_0x22392a(0x1b3)](0x0,_0x53220f['dailyDigests'][_0x22392a(0x1be)]-_0x1c2d53);await _0x53220f[_0x22392a(0x202)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x22392a(0x1bb)](_0x53220f[_0x22392a(0x1b7)]),'ack':!![]}),_0x53220f['rawEventLog']=[],await _0x53220f[_0x22392a(0x202)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x53220f[_0x22392a(0x212)]),'ack':!![]}),await _0x53220f[_0x22392a(0x202)](LTM_DP_STATUS,{'val':'Success','ack':!![]});const _0x33e32e=_0x22392a(0x1df)+_0x16bebc[_0x22392a(0x1fe)]+_0x22392a(0x1dc)+_0x16bebc[_0x22392a(0x1ab)];setup[_0x22392a(0x23d)](_0x53220f,_0x33e32e,![],![]);if(_0x53220f[_0x22392a(0x1d2)]&&_0x30dedb)_0x30dedb[_0x22392a(0x210)](_0x53220f,_0x22392a(0x1cc),{'digest':_0x372241});}catch(_0x2fc28e){_0x53220f['log']['error'](_0x2fc28e[_0x22392a(0x1e4)]);}}async function runBaselineDriftAnalysis(_0x14afd2){const _0x91379=a0_0x1b29e8;if(!_0x14afd2['isProVersion']||!_0x14afd2[_0x91379(0x21d)])return;if(!canCallApi())return;const _0x30dabb=_0x14afd2[_0x91379(0x1b0)][_0x91379(0x1d1)]||0xe;if(_0x14afd2[_0x91379(0x1b7)][_0x91379(0x1be)]<_0x30dabb+0x7){await _0x14afd2['setStateAsync'](_0x91379(0x21b),{'val':_0x91379(0x1b8),'ack':!![]});return;}const _0x1816ba=_0x14afd2[_0x91379(0x1b7)][_0x91379(0x1fb)](-_0x30dabb),_0xaf18a=_0x14afd2[_0x91379(0x1b7)][_0x91379(0x1fb)](0x0,_0x14afd2[_0x91379(0x1b7)][_0x91379(0x1be)]-_0x30dabb),_0x4845e1=_0x91379(0x22c)+JSON[_0x91379(0x1bb)](_0xaf18a)+_0x91379(0x222)+JSON[_0x91379(0x1bb)](_0x1816ba);try{updateApiTimestamp();const _0x49bc40=await _0x14afd2[_0x91379(0x21d)]['generateContent'](_0x4845e1),_0x952640=JSON[_0x91379(0x236)](_0x49bc40[_0x91379(0x214)][_0x91379(0x217)]()[_0x91379(0x1d5)](/```json|```/g,'')[_0x91379(0x1d3)]());_0x952640[_0x91379(0x1ad)]&&(await _0x14afd2[_0x91379(0x202)](_0x91379(0x21b),{'val':_0x952640[_0x91379(0x1ad)],'ack':!![]}),await _0x14afd2[_0x91379(0x202)](_0x91379(0x21f),{'val':_0x952640[_0x91379(0x1da)],'ack':!![]}),await _0x14afd2[_0x91379(0x202)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x91379(0x23c)](),'ack':!![]}));}catch(_0x232b12){}}async function executeAutomationAction(_0x2191d2){const _0x4c3d48=a0_0x1b29e8;try{const _0x553ae4=await _0x2191d2[_0x4c3d48(0x1c6)]('analysis.automation.targetId'),_0x3bd8e9=await _0x2191d2['getStateAsync'](_0x4c3d48(0x231));if(_0x553ae4&&_0x553ae4[_0x4c3d48(0x234)]&&_0x3bd8e9){const _0x4930f4=_0x553ae4[_0x4c3d48(0x234)];let _0x49232c=_0x3bd8e9[_0x4c3d48(0x234)];try{_0x49232c=JSON[_0x4c3d48(0x236)](_0x49232c);}catch(_0xe67cd0){}_0x2191d2['log'][_0x4c3d48(0x1b5)](_0x4c3d48(0x20c)+_0x4930f4+'\x20=\x20'+_0x49232c),await _0x2191d2[_0x4c3d48(0x1f3)](_0x4930f4,_0x49232c);}else _0x2191d2[_0x4c3d48(0x1ae)][_0x4c3d48(0x237)](_0x4c3d48(0x1d8));}catch(_0x12557c){_0x2191d2[_0x4c3d48(0x1ae)]['error'](_0x4c3d48(0x238)+_0x12557c[_0x4c3d48(0x1e4)]);}}async function sendMorningBriefing(_0x2cce74){const _0x2423f2=a0_0x1b29e8;if(!_0x2cce74[_0x2423f2(0x21d)]){_0x2cce74[_0x2423f2(0x1ae)]['warn'](_0x2423f2(0x22e));return;}_0x2cce74[_0x2423f2(0x1ae)][_0x2423f2(0x1b5)](_0x2423f2(0x219));try{updateApiTimestamp();const _0x1de6ad=_0x2423f2(0x218),_0x1e212b=await _0x2cce74[_0x2423f2(0x21d)][_0x2423f2(0x1f7)](_0x1de6ad),_0x30cc28=_0x1e212b[_0x2423f2(0x214)]['text']();_0x2cce74[_0x2423f2(0x1ae)][_0x2423f2(0x1b5)](_0x2423f2(0x207)+_0x30cc28[_0x2423f2(0x1be)]+_0x2423f2(0x1f9)),setup['sendNotification'](_0x2cce74,_0x2423f2(0x208)+_0x30cc28);}catch(_0x3430e7){_0x2cce74[_0x2423f2(0x1ae)][_0x2423f2(0x1e9)](_0x2423f2(0x1a9)+_0x3430e7['message']);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};