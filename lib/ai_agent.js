const a0_0x31d400=a0_0x1021;(function(_0x3bd41b,_0x3cbb69){const _0x4cd863=a0_0x1021,_0x17aae4=_0x3bd41b();while(!![]){try{const _0xba5f59=parseInt(_0x4cd863(0x1f3))/0x1+parseInt(_0x4cd863(0x1ab))/0x2*(parseInt(_0x4cd863(0x1df))/0x3)+parseInt(_0x4cd863(0x1c1))/0x4+parseInt(_0x4cd863(0x1e2))/0x5*(-parseInt(_0x4cd863(0x1f4))/0x6)+parseInt(_0x4cd863(0x1ea))/0x7*(parseInt(_0x4cd863(0x1a6))/0x8)+-parseInt(_0x4cd863(0x1fb))/0x9*(-parseInt(_0x4cd863(0x1eb))/0xa)+-parseInt(_0x4cd863(0x201))/0xb;if(_0xba5f59===_0x3cbb69)break;else _0x17aae4['push'](_0x17aae4['shift']());}catch(_0x47b07c){_0x17aae4['push'](_0x17aae4['shift']());}}}(a0_0x4620,0xa7723));const a0_0x244d89=(function(){let _0xc93711=!![];return function(_0x56ad6,_0x9ba7a6){const _0x2754aa=_0xc93711?function(){const _0x162605=a0_0x1021;if(_0x9ba7a6){const _0x5557d3=_0x9ba7a6[_0x162605(0x1a0)](_0x56ad6,arguments);return _0x9ba7a6=null,_0x5557d3;}}:function(){};return _0xc93711=![],_0x2754aa;};}()),a0_0x10690f=a0_0x244d89(this,function(){const _0x28dfcb=a0_0x1021;return a0_0x10690f[_0x28dfcb(0x1bc)]()[_0x28dfcb(0x1ba)](_0x28dfcb(0x203))[_0x28dfcb(0x1bc)]()[_0x28dfcb(0x20d)](a0_0x10690f)['search'](_0x28dfcb(0x203));});a0_0x10690f();'use strict';const {GoogleGenerativeAI}=require(a0_0x31d400(0x1b1)),setup=require(a0_0x31d400(0x195)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x31d400(0x1ca),LTM_DP_RAW_LOG=a0_0x31d400(0x205),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;function a0_0x4620(){const _0x187b05=['8kENKsy','isAlert','analysis.alertReason','\x20Ã¼bersprungen\x20(Auto-Approved).','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','10ESwabl','Traffic-Schutz\x20(Auto-Approved)','Digest','error','Unbekannt\x20(Kein\x20Sensor)','.\x20ANWESEND:\x20','@google/generative-ai','Skipped\x20(Traffic)','slice','âš ï¸\x20ALARM:\x20',',\x20Wetter:\x20','text','LTM.driftAnalysis.driftDetails','.Current.Temperature','splice','search','getStateAsync','toString','eventHistory','.\x20SYSTEM_MODE:\x20','livingContext','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','4439556fgodfD','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','.\x20EMERGENCY:\x20','rawEventLog','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','LTM.driftAnalysis.lastCheck','trim','generateContent','weatherInstance','LTM.processingStatus','now','push','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','replace','exports','ANALYZE_HEALTH','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','response','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','info','currentSystemMode','BUTLER\x20Execution\x20Error:\x20','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','dailyDigests','analysis.automation.autoApply','alertReason','log','decision','223413FAEBeb','ðŸŒ…\x20Morning\x20Briefing:\x0a','analysis.lastResult','407755hNovar','aiPersona','summary','Skipped\x20(No\x20AI\x20or\x20Data)','length','getForeignStateAsync','toISOString','analysis.activitySummary','6151187RcTAIs','10YikAWF','message','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','Success','targetValue','generic','unshift','Briefing\x20Error:\x20','202537BrpKuO','24gUjBVQ','ltmStbWindowDays','analysis.automation.description','stringify','ltmLtbWindowDays','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','KI-Fehler\x20(Fallback)','834543KMsjsx','Started...','val','targetId','system.presenceWho','debug','18086046wBbFyL','config','(((.+)+)+)+$','setStateAsync','LTM.rawEventLog','.forecast.current.state','warn','sendNotification','toLocaleTimeString','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','lastAlertState','Unbekannt','constructor','activityLevel','analysis.automation.patternDetected','toFixed','approved','\x20=\x20','detected','automationProposal','analysis.isAlert','analysis.automation.targetId','Gemini\x20Error:\x20','./setup','.\x20EVENTS:\x20','setForeignStateAsync','isEmergency','Tag','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','parse','geminiModel','LTM.driftAnalysis.baselineDrift','N/A\x20(Learning)','isProVersion','apply','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','baselineDrift','driftDetails','Wetterdaten\x20nicht\x20abrufbar','analysisHistory'];a0_0x4620=function(){return _0x187b05;};return a0_0x4620();}function a0_0x1021(_0x362b3b,_0x36fb73){const _0x4d7a37=a0_0x4620();return a0_0x1021=function(_0x10690f,_0x244d89){_0x10690f=_0x10690f-0x18d;let _0x462047=_0x4d7a37[_0x10690f];return _0x462047;},a0_0x1021(_0x362b3b,_0x36fb73);}let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x31d400(0x1d2),'family':a0_0x31d400(0x1f9),'single_comfort':a0_0x31d400(0x19a),'security':'Sicherheit\x20geht\x20vor.','energy_saver':a0_0x31d400(0x20a)};function canCallApi(){const _0x528195=Date['now']();return _0x528195-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x3f5d4f=a0_0x31d400;lastGlobalApiCall=Date[_0x3f5d4f(0x1cb)]();}async function getWeatherContext(_0x269a3c){const _0x15e062=a0_0x31d400;if(!_0x269a3c['config']['useWeather']||!_0x269a3c[_0x15e062(0x202)][_0x15e062(0x1c9)])return _0x15e062(0x1af);try{const _0x5aaaaa=_0x269a3c[_0x15e062(0x202)][_0x15e062(0x1c9)];let _0x582525=await _0x269a3c[_0x15e062(0x1e7)](_0x5aaaaa+_0x15e062(0x1b8));if(!_0x582525)_0x582525=await _0x269a3c['getForeignStateAsync'](_0x5aaaaa+'.forecast.current.temperature');let _0x424a30=await _0x269a3c[_0x15e062(0x1e7)](_0x5aaaaa+'.Current.WeatherText');if(!_0x424a30)_0x424a30=await _0x269a3c[_0x15e062(0x1e7)](_0x5aaaaa+_0x15e062(0x206));let _0x44917f=_0x15e062(0x20c);const _0x12f727=await _0x269a3c[_0x15e062(0x1e7)](_0x5aaaaa+'.Current.IsNight');if(_0x12f727)_0x44917f=_0x12f727[_0x15e062(0x1fd)]?'Nacht':_0x15e062(0x199);if(_0x582525&&_0x424a30)return _0x582525[_0x15e062(0x1fd)]+'Â°C,\x20'+_0x424a30[_0x15e062(0x1fd)]+',\x20LichtverhÃ¤ltnisse:\x20'+_0x44917f;}catch(_0x1f8c4a){}return _0x15e062(0x1a4);}async function consultButler(_0x2b4db8,_0x23da39,_0x152f09,_0x5044ad){const _0x4e85fe=a0_0x31d400;if(!_0x2b4db8[_0x4e85fe(0x19c)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x19c819=Date['now']();if(decisionCache[_0x23da39]&&_0x19c819-decisionCache[_0x23da39]['timestamp']<CACHE_TTL_MS){const _0x3419ed=decisionCache[_0x23da39][_0x4e85fe(0x1de)];return _0x2b4db8[_0x4e85fe(0x1dd)][_0x4e85fe(0x200)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x23da39+'\x20->\x20'+(_0x3419ed[_0x4e85fe(0x18e)]?'OK':'NO')+'\x20('+_0x3419ed['reason']+')'),_0x3419ed;}if(!canCallApi())return _0x2b4db8[_0x4e85fe(0x1dd)]['debug'](_0x4e85fe(0x1a1)+_0x23da39+_0x4e85fe(0x1a9)),{'approved':!![],'reason':_0x4e85fe(0x1ac)};const _0x13f7ae=new Date()[_0x4e85fe(0x209)](),_0x154508=await getWeatherContext(_0x2b4db8),_0xc58401=PERSONA_MAPPING[_0x2b4db8[_0x4e85fe(0x202)][_0x4e85fe(0x1e3)]||_0x4e85fe(0x1f0)],_0x46e88b=_0x4e85fe(0x1c0)+_0x13f7ae+_0x4e85fe(0x1b5)+_0x154508+_0x4e85fe(0x1d9)+(_0x5044ad*0x64)[_0x4e85fe(0x18d)](0x0)+'%)\x20nach\x20\x22'+_0x23da39+_0x4e85fe(0x1c2)+_0x152f09+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0xc58401+_0x4e85fe(0x1cd);try{updateApiTimestamp();const _0x46de5e=await _0x2b4db8['geminiModel'][_0x4e85fe(0x1c8)](_0x46e88b),_0x213c6b=_0x46de5e[_0x4e85fe(0x1d4)]['text']()[_0x4e85fe(0x1ce)](/```json|```/g,'')[_0x4e85fe(0x1c7)](),_0x397d09=JSON[_0x4e85fe(0x19b)](_0x213c6b);return decisionCache[_0x23da39]={'decision':_0x397d09,'timestamp':_0x19c819},_0x397d09;}catch(_0x414f23){return _0x2b4db8[_0x4e85fe(0x1dd)][_0x4e85fe(0x207)](_0x4e85fe(0x1d1)+_0x414f23[_0x4e85fe(0x1ec)]),decisionCache[_0x23da39]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x19c819-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x4e85fe(0x1fa)};}}async function runGeminiAnalysis(_0xe93174,_0x41adb0=''){const _0x57c1e3=a0_0x31d400;if(!_0xe93174[_0x57c1e3(0x19c)])return;if(!canCallApi()){_0xe93174[_0x57c1e3(0x1dd)][_0x57c1e3(0x200)](_0x57c1e3(0x1d3));return;}if(_0xe93174[_0x57c1e3(0x1bd)][_0x57c1e3(0x1e6)]===0x0)return;const _0x2af220=_0xe93174['eventHistory'][_0x57c1e3(0x1b3)](0x0,0xf),_0x5ca2ee=_0xe93174[_0x57c1e3(0x1d7)],_0x3b103b=PERSONA_MAPPING[_0xe93174[_0x57c1e3(0x202)][_0x57c1e3(0x1e3)]||_0x57c1e3(0x1f0)],_0x24cae0=_0xe93174['config'][_0x57c1e3(0x1bf)]||'Keine\x20Details.';let _0x29a284='Unbekannt';try{const _0x4558ff=await _0xe93174[_0x57c1e3(0x1bb)](_0x57c1e3(0x1ff));if(_0x4558ff&&_0x4558ff[_0x57c1e3(0x1fd)])_0x29a284=_0x4558ff[_0x57c1e3(0x1fd)];}catch(_0x58e633){}let _0xf1caf3=![];try{const _0x5e138b=await _0xe93174[_0x57c1e3(0x1bb)](_0x57c1e3(0x1db));if(_0x5e138b&&_0x5e138b['val'])_0xf1caf3=!![];}catch(_0x517e8d){}const _0x2b3331='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x3b103b+'.\x20KONTEXT:\x20'+_0x24cae0+_0x57c1e3(0x1be)+_0x5ca2ee+_0x57c1e3(0x1b0)+_0x29a284+_0x57c1e3(0x196)+JSON[_0x57c1e3(0x1f7)](_0x2af220)+_0x57c1e3(0x1c3)+_0x41adb0+_0x57c1e3(0x1aa);try{updateApiTimestamp();const _0x5cdce4=await _0xe93174['geminiModel'][_0x57c1e3(0x1c8)](_0x2b3331),_0x33cacd=JSON['parse'](_0x5cdce4[_0x57c1e3(0x1d4)][_0x57c1e3(0x1b6)]()[_0x57c1e3(0x1ce)](/```json|```/g,'')[_0x57c1e3(0x1c7)]());await _0xe93174[_0x57c1e3(0x204)](_0x57c1e3(0x1e1),{'val':JSON['stringify'](_0x33cacd),'ack':!![]});if(_0x33cacd[_0x57c1e3(0x1e4)])await _0xe93174[_0x57c1e3(0x204)](_0x57c1e3(0x1e9),{'val':_0x33cacd[_0x57c1e3(0x1e4)],'ack':!![]});const _0x1d338a={'timestamp':Date['now'](),'id':Date['now']()[_0x57c1e3(0x1bc)](),'analysis':{'activity':{'summary':_0x33cacd[_0x57c1e3(0x1e4)],'isAlert':_0x33cacd[_0x57c1e3(0x1a7)],'alertReason':_0x33cacd[_0x57c1e3(0x1dc)]},'comfort':{'automationProposal':_0x33cacd[_0x57c1e3(0x191)]}}};_0xe93174[_0x57c1e3(0x1a5)][_0x57c1e3(0x1f1)](_0x1d338a);if(_0xe93174[_0x57c1e3(0x1a5)]['length']>0x32)_0xe93174[_0x57c1e3(0x1a5)]['pop']();await _0xe93174['setStateAsync']('analysis.analysisHistory',{'val':JSON[_0x57c1e3(0x1f7)](_0xe93174[_0x57c1e3(0x1a5)]),'ack':!![]});const _0x4c6969=_0x33cacd[_0x57c1e3(0x1a7)]||![];_0x4c6969!==_0xe93174[_0x57c1e3(0x20b)]&&(await _0xe93174['setStateAsync'](_0x57c1e3(0x192),{'val':_0x4c6969,'ack':!![]}),_0xe93174['lastAlertState']=_0x4c6969,_0x4c6969&&(await _0xe93174[_0x57c1e3(0x204)](_0x57c1e3(0x1a8),{'val':_0x33cacd[_0x57c1e3(0x1dc)],'ack':!![]}),setup[_0x57c1e3(0x208)](_0xe93174,_0x57c1e3(0x1b4)+_0x33cacd['alertReason'],![],_0x33cacd[_0x57c1e3(0x198)])));if(_0x33cacd[_0x57c1e3(0x191)]&&_0x33cacd[_0x57c1e3(0x191)][_0x57c1e3(0x190)]){await _0xe93174[_0x57c1e3(0x204)](_0x57c1e3(0x20f),{'val':!![],'ack':!![]}),await _0xe93174['setStateAsync'](_0x57c1e3(0x1f6),{'val':_0x33cacd[_0x57c1e3(0x191)]['description'],'ack':!![]}),await _0xe93174[_0x57c1e3(0x204)]('analysis.automation.targetId',{'val':_0x33cacd[_0x57c1e3(0x191)][_0x57c1e3(0x1fe)],'ack':!![]}),await _0xe93174['setStateAsync']('analysis.automation.targetValue',{'val':JSON[_0x57c1e3(0x1f7)](_0x33cacd[_0x57c1e3(0x191)][_0x57c1e3(0x1ef)]),'ack':!![]});if(_0xf1caf3)executeAutomationAction(_0xe93174);}}catch(_0x59cbb6){_0xe93174[_0x57c1e3(0x1dd)][_0x57c1e3(0x1ae)](_0x57c1e3(0x194)+_0x59cbb6[_0x57c1e3(0x1ec)]);}}async function createDailyDigest(_0x4b1c69,_0x361504){const _0x141957=a0_0x31d400;if(!_0x4b1c69[_0x141957(0x19f)])return;if(!canCallApi()){await _0x4b1c69['setStateAsync'](LTM_DP_STATUS,{'val':_0x141957(0x1b2),'ack':!![]});return;}await _0x4b1c69[_0x141957(0x204)](LTM_DP_STATUS,{'val':_0x141957(0x1fc),'ack':!![]});if(!_0x4b1c69[_0x141957(0x19c)]||_0x4b1c69['rawEventLog']['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x4b1c69[_0x141957(0x204)](LTM_DP_STATUS,{'val':_0x141957(0x1e5),'ack':!![]});return;}const _0x60594=JSON['parse'](JSON[_0x141957(0x1f7)](_0x4b1c69['rawEventLog'])),_0x454279=_0x60594[_0x141957(0x1e6)],_0x3d7317=_0x141957(0x1ed)+JSON[_0x141957(0x1f7)](_0x60594);try{updateApiTimestamp();const _0x35e831=await _0x4b1c69[_0x141957(0x19c)][_0x141957(0x1c8)](_0x3d7317),_0x7f8283=JSON[_0x141957(0x19b)](_0x35e831[_0x141957(0x1d4)][_0x141957(0x1b6)]()[_0x141957(0x1ce)](/```json|```/g,'')[_0x141957(0x1c7)]()),_0x10280c={'timestamp':new Date()[_0x141957(0x1e8)](),'eventCount':_0x454279,'summary':_0x7f8283[_0x141957(0x1e4)]||_0x141957(0x1ad),'activityLevel':_0x7f8283[_0x141957(0x20e)]||'normal','systemMode':_0x4b1c69['currentSystemMode']};_0x4b1c69[_0x141957(0x1da)][_0x141957(0x1cc)](_0x10280c);const _0x5ee049=_0x4b1c69[_0x141957(0x202)][_0x141957(0x1f8)]||0x3c;_0x4b1c69[_0x141957(0x1da)][_0x141957(0x1e6)]>_0x5ee049&&_0x4b1c69['dailyDigests'][_0x141957(0x1b9)](0x0,_0x4b1c69[_0x141957(0x1da)][_0x141957(0x1e6)]-_0x5ee049);await _0x4b1c69['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x4b1c69[_0x141957(0x1da)]),'ack':!![]}),_0x4b1c69[_0x141957(0x1c4)]=[],await _0x4b1c69['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x4b1c69[_0x141957(0x1c4)]),'ack':!![]}),await _0x4b1c69[_0x141957(0x204)](LTM_DP_STATUS,{'val':_0x141957(0x1ee),'ack':!![]});if(_0x4b1c69[_0x141957(0x19f)]&&_0x361504)_0x361504['send'](_0x4b1c69,_0x141957(0x1d0),{'digest':_0x10280c});}catch(_0x4ec816){_0x4b1c69['log'][_0x141957(0x1ae)](_0x4ec816[_0x141957(0x1ec)]);}}async function runBaselineDriftAnalysis(_0x3314bf){const _0x226658=a0_0x31d400;if(!_0x3314bf['isProVersion']||!_0x3314bf['geminiModel'])return;if(!canCallApi())return;const _0x24a735=_0x3314bf[_0x226658(0x202)][_0x226658(0x1f5)]||0xe;if(_0x3314bf[_0x226658(0x1da)][_0x226658(0x1e6)]<_0x24a735+0x7){await _0x3314bf[_0x226658(0x204)](_0x226658(0x19d),{'val':_0x226658(0x19e),'ack':!![]});return;}const _0x5d3cc2=_0x3314bf[_0x226658(0x1da)][_0x226658(0x1b3)](-_0x24a735),_0x104533=_0x3314bf[_0x226658(0x1da)]['slice'](0x0,_0x3314bf[_0x226658(0x1da)][_0x226658(0x1e6)]-_0x24a735),_0x737a7c=_0x226658(0x1d5)+JSON[_0x226658(0x1f7)](_0x104533)+'\x0aSTB:\x20'+JSON[_0x226658(0x1f7)](_0x5d3cc2);try{updateApiTimestamp();const _0x6ced81=await _0x3314bf['geminiModel'][_0x226658(0x1c8)](_0x737a7c),_0x268f4f=JSON[_0x226658(0x19b)](_0x6ced81[_0x226658(0x1d4)][_0x226658(0x1b6)]()['replace'](/```json|```/g,'')[_0x226658(0x1c7)]());_0x268f4f[_0x226658(0x1a2)]&&(await _0x3314bf['setStateAsync'](_0x226658(0x19d),{'val':_0x268f4f[_0x226658(0x1a2)],'ack':!![]}),await _0x3314bf[_0x226658(0x204)](_0x226658(0x1b7),{'val':_0x268f4f[_0x226658(0x1a3)],'ack':!![]}),await _0x3314bf['setStateAsync'](_0x226658(0x1c6),{'val':Date['now'](),'ack':!![]}));}catch(_0x5102b8){}}async function executeAutomationAction(_0x473d78){const _0x47f32d=a0_0x31d400;try{const _0x2f382b=await _0x473d78[_0x47f32d(0x1bb)](_0x47f32d(0x193)),_0x1d0ee5=await _0x473d78[_0x47f32d(0x1bb)]('analysis.automation.targetValue');if(_0x2f382b&&_0x2f382b[_0x47f32d(0x1fd)]&&_0x1d0ee5){const _0x3d1296=_0x2f382b[_0x47f32d(0x1fd)];let _0x184294=_0x1d0ee5[_0x47f32d(0x1fd)];try{_0x184294=JSON[_0x47f32d(0x19b)](_0x184294);}catch(_0x12d80a){}_0x473d78['log'][_0x47f32d(0x1d6)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x3d1296+_0x47f32d(0x18f)+_0x184294),await _0x473d78[_0x47f32d(0x197)](_0x3d1296,_0x184294);}else _0x473d78[_0x47f32d(0x1dd)][_0x47f32d(0x207)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x431604){_0x473d78['log']['error'](_0x47f32d(0x1d8)+_0x431604[_0x47f32d(0x1ec)]);}}async function sendMorningBriefing(_0x558eeb){const _0x8079c1=a0_0x31d400;if(!_0x558eeb[_0x8079c1(0x19c)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x37d473=_0x8079c1(0x1c5),_0x35a5a2=await _0x558eeb['geminiModel'][_0x8079c1(0x1c8)](_0x37d473),_0x49964c=_0x35a5a2[_0x8079c1(0x1d4)][_0x8079c1(0x1b6)]();setup[_0x8079c1(0x208)](_0x558eeb,_0x8079c1(0x1e0)+_0x49964c);}catch(_0x514dd2){_0x558eeb[_0x8079c1(0x1dd)][_0x8079c1(0x1ae)](_0x8079c1(0x1f2)+_0x514dd2['message']);}}module[a0_0x31d400(0x1cf)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};