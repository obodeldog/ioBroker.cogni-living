const a0_0x230318=a0_0x207e;(function(_0x3d8262,_0x483b9c){const _0x2e1429=a0_0x207e,_0x217b65=_0x3d8262();while(!![]){try{const _0x311f87=-parseInt(_0x2e1429(0x1fa))/0x1*(-parseInt(_0x2e1429(0x231))/0x2)+parseInt(_0x2e1429(0x218))/0x3+parseInt(_0x2e1429(0x25c))/0x4*(-parseInt(_0x2e1429(0x23f))/0x5)+parseInt(_0x2e1429(0x243))/0x6+-parseInt(_0x2e1429(0x225))/0x7*(parseInt(_0x2e1429(0x255))/0x8)+-parseInt(_0x2e1429(0x206))/0x9*(-parseInt(_0x2e1429(0x234))/0xa)+-parseInt(_0x2e1429(0x237))/0xb*(parseInt(_0x2e1429(0x20f))/0xc);if(_0x311f87===_0x483b9c)break;else _0x217b65['push'](_0x217b65['shift']());}catch(_0x24300c){_0x217b65['push'](_0x217b65['shift']());}}}(a0_0x400a,0x815b4));const a0_0x4a19f9=(function(){let _0x16478=!![];return function(_0x27be59,_0x4af4d5){const _0x59ceaf=_0x16478?function(){const _0x58b9ab=a0_0x207e;if(_0x4af4d5){const _0x2a7744=_0x4af4d5[_0x58b9ab(0x21c)](_0x27be59,arguments);return _0x4af4d5=null,_0x2a7744;}}:function(){};return _0x16478=![],_0x59ceaf;};}()),a0_0x460a13=a0_0x4a19f9(this,function(){const _0x240e04=a0_0x207e;return a0_0x460a13[_0x240e04(0x248)]()[_0x240e04(0x1f1)]('(((.+)+)+)+$')['toString']()[_0x240e04(0x203)](a0_0x460a13)[_0x240e04(0x1f1)](_0x240e04(0x20b));});a0_0x460a13();'use strict';const {GoogleGenerativeAI}=require(a0_0x230318(0x219)),setup=require('./setup'),GEMINI_MODEL=a0_0x230318(0x235),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x230318(0x1f2),LTM_DP_RAW_LOG=a0_0x230318(0x240),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x230318(0x1e8),'senior_aal':a0_0x230318(0x1de),'family':a0_0x230318(0x21a),'single_comfort':a0_0x230318(0x254),'security':a0_0x230318(0x224),'energy_saver':a0_0x230318(0x1ee)};function canCallApi(){const _0x3dfba9=a0_0x230318,_0x32e2a7=Date[_0x3dfba9(0x250)]();return _0x32e2a7-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x3145f5=a0_0x230318;lastGlobalApiCall=Date[_0x3145f5(0x250)]();}function a0_0x400a(){const _0x5bb7d6=['reason','Â°C,\x20','parse','BUTLER\x20Execution\x20Error:\x20','text','automationProposal','dailyDigests','replace','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','warn','stringify','length','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','sendNotification','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','approved','.\x20KONTEXT:\x20','search','LTM.processingStatus','âš ï¸\x20ALARM:\x20','analysis.automation.patternDetected','Success','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','LTM.driftAnalysis.driftDetails','setStateAsync','toISOString','110757HBBfoR','isProVersion','detected','currentSystemMode','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','analysisHistory','generic','activityLevel','getStateAsync','constructor','Keine\x20Details.','.\x20EVENTS:\x20','595449JpymrL','geminiModel','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','normal','pop','(((.+)+)+)+$','timestamp','targetValue','.Current.WeatherText','534888BbFWSG','\x20->\x20','Started...','setForeignStateAsync','LTM.driftAnalysis.baselineDrift','analysis.automation.description','ANALYZE_HEALTH','analysis.analysisHistory','.forecast.current.state','1671921SBXrgf','@google/generative-ai','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','Digest','apply','toFixed','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','Skipped\x20(Traffic)','rawEventLog','lastAlertState','generateContent','\x20=\x20','Sicherheit\x20geht\x20vor.','28511QUvXKG','KI\x20offline\x20(Fallback)','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','aiPersona','getForeignStateAsync','Wetterdaten\x20nicht\x20abrufbar','debug','.\x20EMERGENCY:\x20','push','isAlert','trim','%)\x20nach\x20\x22','14fgPZtv','isEmergency','useWeather','90WzuQTp','models/gemini-flash-latest','Unbekannt','121IyawEp','Gemini\x20Error:\x20','val','targetId','analysis.activitySummary','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','.Current.Temperature','driftDetails','1772865ZUMTXB','LTM.rawEventLog','config','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','1396590IsIspW','analysis.isAlert','ltmStbWindowDays','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','.\x20SYSTEM_MODE:\x20','toString','analysis.automation.targetValue','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','system.presenceWho','Traffic-Schutz\x20(Auto-Approved)','\x20Ã¼bersprungen\x20(Auto-Approved).','eventHistory','error','now','unshift','N/A\x20(Learning)','.Current.IsNight','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','1544sDfTHk','message','alertReason','log','response','analysis.automation.targetId','\x0aSTB:\x20','4bkDwhz','ðŸŒ…\x20Morning\x20Briefing:\x0a','slice','summary','weatherInstance','analysis.lastResult','.forecast.current.temperature','livingContext','KI-Fehler\x20(Fallback)','ltmLtbWindowDays','analysis.automation.autoApply','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','exports'];a0_0x400a=function(){return _0x5bb7d6;};return a0_0x400a();}async function getWeatherContext(_0x48688a){const _0x302819=a0_0x230318;if(!_0x48688a['config'][_0x302819(0x233)]||!_0x48688a[_0x302819(0x241)][_0x302819(0x1d7)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x47fe2c=_0x48688a['config'][_0x302819(0x1d7)];let _0x108264=await _0x48688a[_0x302819(0x229)](_0x47fe2c+_0x302819(0x23d));if(!_0x108264)_0x108264=await _0x48688a[_0x302819(0x229)](_0x47fe2c+_0x302819(0x1d9));let _0xe04b0=await _0x48688a[_0x302819(0x229)](_0x47fe2c+_0x302819(0x20e));if(!_0xe04b0)_0xe04b0=await _0x48688a[_0x302819(0x229)](_0x47fe2c+_0x302819(0x217));let _0x55fda2=_0x302819(0x236);const _0x4a1c00=await _0x48688a[_0x302819(0x229)](_0x47fe2c+_0x302819(0x253));if(_0x4a1c00)_0x55fda2=_0x4a1c00[_0x302819(0x239)]?'Nacht':'Tag';if(_0x108264&&_0xe04b0)return _0x108264[_0x302819(0x239)]+_0x302819(0x1e1)+_0xe04b0[_0x302819(0x239)]+',\x20LichtverhÃ¤ltnisse:\x20'+_0x55fda2;}catch(_0xb47aec){}return _0x302819(0x22a);}async function consultButler(_0x3278b5,_0x251ddc,_0x5dedf0,_0x536fcf){const _0x130026=a0_0x230318;if(!_0x3278b5[_0x130026(0x207)])return{'approved':!![],'reason':_0x130026(0x226)};const _0x308b75=Date['now']();if(decisionCache[_0x251ddc]&&_0x308b75-decisionCache[_0x251ddc][_0x130026(0x20c)]<CACHE_TTL_MS){const _0x1e8888=decisionCache[_0x251ddc]['decision'];return _0x3278b5[_0x130026(0x258)][_0x130026(0x22b)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x251ddc+_0x130026(0x210)+(_0x1e8888[_0x130026(0x1ef)]?'OK':'NO')+'\x20('+_0x1e8888[_0x130026(0x1e0)]+')'),_0x1e8888;}if(!canCallApi())return _0x3278b5[_0x130026(0x258)][_0x130026(0x22b)](_0x130026(0x1f6)+_0x251ddc+_0x130026(0x24d)),{'approved':!![],'reason':_0x130026(0x24c)};const _0x22b655=new Date()['toLocaleTimeString'](),_0x33b86a=await getWeatherContext(_0x3278b5),_0x482d63=PERSONA_MAPPING[_0x3278b5[_0x130026(0x241)][_0x130026(0x228)]||'generic'],_0x14d769='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x22b655+',\x20Wetter:\x20'+_0x33b86a+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x536fcf*0x64)[_0x130026(0x21d)](0x0)+_0x130026(0x230)+_0x251ddc+_0x130026(0x1fe)+_0x5dedf0+_0x130026(0x24a)+_0x482d63+_0x130026(0x227);try{updateApiTimestamp();const _0x1a31f6=await _0x3278b5['geminiModel'][_0x130026(0x222)](_0x14d769),_0x7eeabc=_0x1a31f6['response'][_0x130026(0x1e4)]()[_0x130026(0x1e7)](/```json|```/g,'')[_0x130026(0x22f)](),_0x372b97=JSON['parse'](_0x7eeabc);return decisionCache[_0x251ddc]={'decision':_0x372b97,'timestamp':_0x308b75},_0x372b97;}catch(_0x53e400){return _0x3278b5['log'][_0x130026(0x1e9)](_0x130026(0x21e)+_0x53e400['message']),decisionCache[_0x251ddc]={'decision':{'approved':!![],'reason':_0x130026(0x1db)},'timestamp':_0x308b75-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x130026(0x1db)};}}async function runGeminiAnalysis(_0x432b8c,_0x215633=''){const _0x43649d=a0_0x230318;if(!_0x432b8c[_0x43649d(0x207)])return;if(!canCallApi()){_0x432b8c[_0x43649d(0x258)][_0x43649d(0x22b)]('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x432b8c[_0x43649d(0x24e)]['length']===0x0)return;const _0x251ad2=_0x432b8c[_0x43649d(0x24e)][_0x43649d(0x1d5)](0x0,0xf),_0x5ccf16=_0x432b8c['currentSystemMode'],_0x45e3da=PERSONA_MAPPING[_0x432b8c[_0x43649d(0x241)]['aiPersona']||_0x43649d(0x200)],_0x25b13a=_0x432b8c[_0x43649d(0x241)][_0x43649d(0x1da)]||_0x43649d(0x204);let _0x84e635='Unbekannt';try{const _0x239676=await _0x432b8c[_0x43649d(0x202)](_0x43649d(0x24b));if(_0x239676&&_0x239676[_0x43649d(0x239)])_0x84e635=_0x239676[_0x43649d(0x239)];}catch(_0x5ee2ef){}let _0x32a993=![];try{const _0x22eabb=await _0x432b8c[_0x43649d(0x202)](_0x43649d(0x1dd));if(_0x22eabb&&_0x22eabb[_0x43649d(0x239)])_0x32a993=!![];}catch(_0x5465f4){}const _0x136e63=_0x43649d(0x208)+_0x45e3da+_0x43649d(0x1f0)+_0x25b13a+_0x43649d(0x247)+_0x5ccf16+'.\x20ANWESEND:\x20'+_0x84e635+_0x43649d(0x205)+JSON[_0x43649d(0x1ea)](_0x251ad2)+_0x43649d(0x22c)+_0x215633+_0x43649d(0x23c);try{updateApiTimestamp();const _0x4b4d7d=await _0x432b8c['geminiModel'][_0x43649d(0x222)](_0x136e63),_0x41d854=JSON[_0x43649d(0x1e2)](_0x4b4d7d[_0x43649d(0x259)][_0x43649d(0x1e4)]()[_0x43649d(0x1e7)](/```json|```/g,'')[_0x43649d(0x22f)]());await _0x432b8c[_0x43649d(0x1f8)](_0x43649d(0x1d8),{'val':JSON['stringify'](_0x41d854),'ack':!![]});if(_0x41d854[_0x43649d(0x1d6)])await _0x432b8c[_0x43649d(0x1f8)](_0x43649d(0x23b),{'val':_0x41d854[_0x43649d(0x1d6)],'ack':!![]});const _0x281d5e={'timestamp':Date[_0x43649d(0x250)](),'id':Date[_0x43649d(0x250)]()['toString'](),'analysis':{'activity':{'summary':_0x41d854['summary'],'isAlert':_0x41d854['isAlert'],'alertReason':_0x41d854[_0x43649d(0x257)]},'comfort':{'automationProposal':_0x41d854[_0x43649d(0x1e5)]}}};_0x432b8c[_0x43649d(0x1ff)][_0x43649d(0x251)](_0x281d5e);if(_0x432b8c[_0x43649d(0x1ff)][_0x43649d(0x1eb)]>0x32)_0x432b8c[_0x43649d(0x1ff)][_0x43649d(0x20a)]();await _0x432b8c[_0x43649d(0x1f8)](_0x43649d(0x216),{'val':JSON['stringify'](_0x432b8c[_0x43649d(0x1ff)]),'ack':!![]});const _0x33dd35=_0x41d854[_0x43649d(0x22e)]||![];_0x33dd35!==_0x432b8c[_0x43649d(0x221)]&&(await _0x432b8c['setStateAsync'](_0x43649d(0x244),{'val':_0x33dd35,'ack':!![]}),_0x432b8c[_0x43649d(0x221)]=_0x33dd35,_0x33dd35&&(await _0x432b8c[_0x43649d(0x1f8)]('analysis.alertReason',{'val':_0x41d854[_0x43649d(0x257)],'ack':!![]}),setup[_0x43649d(0x1ed)](_0x432b8c,_0x43649d(0x1f3)+_0x41d854['alertReason'],![],_0x41d854[_0x43649d(0x232)])));if(_0x41d854[_0x43649d(0x1e5)]&&_0x41d854[_0x43649d(0x1e5)][_0x43649d(0x1fc)]){await _0x432b8c['setStateAsync'](_0x43649d(0x1f4),{'val':!![],'ack':!![]}),await _0x432b8c['setStateAsync'](_0x43649d(0x214),{'val':_0x41d854['automationProposal']['description'],'ack':!![]}),await _0x432b8c[_0x43649d(0x1f8)](_0x43649d(0x25a),{'val':_0x41d854['automationProposal'][_0x43649d(0x23a)],'ack':!![]}),await _0x432b8c[_0x43649d(0x1f8)](_0x43649d(0x249),{'val':JSON[_0x43649d(0x1ea)](_0x41d854['automationProposal'][_0x43649d(0x20d)]),'ack':!![]});if(_0x32a993)executeAutomationAction(_0x432b8c);}}catch(_0x78b688){_0x432b8c[_0x43649d(0x258)][_0x43649d(0x24f)](_0x43649d(0x238)+_0x78b688[_0x43649d(0x256)]);}}async function createDailyDigest(_0x9538b5,_0x30457c){const _0xf9de09=a0_0x230318;if(!_0x9538b5['isProVersion'])return;if(!canCallApi()){await _0x9538b5['setStateAsync'](LTM_DP_STATUS,{'val':_0xf9de09(0x21f),'ack':!![]});return;}await _0x9538b5[_0xf9de09(0x1f8)](LTM_DP_STATUS,{'val':_0xf9de09(0x211),'ack':!![]});if(!_0x9538b5[_0xf9de09(0x207)]||_0x9538b5[_0xf9de09(0x220)][_0xf9de09(0x1eb)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x9538b5[_0xf9de09(0x1f8)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x5c8415=JSON[_0xf9de09(0x1e2)](JSON[_0xf9de09(0x1ea)](_0x9538b5[_0xf9de09(0x220)])),_0x414bf=_0x5c8415[_0xf9de09(0x1eb)],_0x332f54=_0xf9de09(0x1ec)+JSON[_0xf9de09(0x1ea)](_0x5c8415);try{updateApiTimestamp();const _0x1aa7c3=await _0x9538b5[_0xf9de09(0x207)][_0xf9de09(0x222)](_0x332f54),_0x2be10f=JSON['parse'](_0x1aa7c3['response'][_0xf9de09(0x1e4)]()['replace'](/```json|```/g,'')[_0xf9de09(0x22f)]()),_0x34e7f6={'timestamp':new Date()[_0xf9de09(0x1f9)](),'eventCount':_0x414bf,'summary':_0x2be10f[_0xf9de09(0x1d6)]||_0xf9de09(0x21b),'activityLevel':_0x2be10f[_0xf9de09(0x201)]||_0xf9de09(0x209),'systemMode':_0x9538b5[_0xf9de09(0x1fd)]};_0x9538b5[_0xf9de09(0x1e6)][_0xf9de09(0x22d)](_0x34e7f6);const _0x3a1419=_0x9538b5[_0xf9de09(0x241)][_0xf9de09(0x1dc)]||0x3c;_0x9538b5[_0xf9de09(0x1e6)][_0xf9de09(0x1eb)]>_0x3a1419&&_0x9538b5[_0xf9de09(0x1e6)]['splice'](0x0,_0x9538b5['dailyDigests']['length']-_0x3a1419);await _0x9538b5[_0xf9de09(0x1f8)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x9538b5[_0xf9de09(0x1e6)]),'ack':!![]}),_0x9538b5[_0xf9de09(0x220)]=[],await _0x9538b5[_0xf9de09(0x1f8)](LTM_DP_RAW_LOG,{'val':JSON[_0xf9de09(0x1ea)](_0x9538b5[_0xf9de09(0x220)]),'ack':!![]}),await _0x9538b5[_0xf9de09(0x1f8)](LTM_DP_STATUS,{'val':_0xf9de09(0x1f5),'ack':!![]});if(_0x9538b5[_0xf9de09(0x1fb)]&&_0x30457c)_0x30457c['send'](_0x9538b5,_0xf9de09(0x215),{'digest':_0x34e7f6});}catch(_0x2e3146){_0x9538b5[_0xf9de09(0x258)][_0xf9de09(0x24f)](_0x2e3146['message']);}}async function runBaselineDriftAnalysis(_0x31d87a){const _0x489eeb=a0_0x230318;if(!_0x31d87a[_0x489eeb(0x1fb)]||!_0x31d87a[_0x489eeb(0x207)])return;if(!canCallApi())return;const _0xba250a=_0x31d87a['config'][_0x489eeb(0x245)]||0xe;if(_0x31d87a['dailyDigests'][_0x489eeb(0x1eb)]<_0xba250a+0x7){await _0x31d87a[_0x489eeb(0x1f8)](_0x489eeb(0x213),{'val':_0x489eeb(0x252),'ack':!![]});return;}const _0x235e18=_0x31d87a[_0x489eeb(0x1e6)][_0x489eeb(0x1d5)](-_0xba250a),_0x4111d4=_0x31d87a[_0x489eeb(0x1e6)][_0x489eeb(0x1d5)](0x0,_0x31d87a[_0x489eeb(0x1e6)][_0x489eeb(0x1eb)]-_0xba250a),_0x4dbe84=_0x489eeb(0x246)+JSON[_0x489eeb(0x1ea)](_0x4111d4)+_0x489eeb(0x25b)+JSON[_0x489eeb(0x1ea)](_0x235e18);try{updateApiTimestamp();const _0x21856e=await _0x31d87a[_0x489eeb(0x207)][_0x489eeb(0x222)](_0x4dbe84),_0x531512=JSON[_0x489eeb(0x1e2)](_0x21856e['response'][_0x489eeb(0x1e4)]()[_0x489eeb(0x1e7)](/```json|```/g,'')['trim']());_0x531512['baselineDrift']&&(await _0x31d87a[_0x489eeb(0x1f8)](_0x489eeb(0x213),{'val':_0x531512['baselineDrift'],'ack':!![]}),await _0x31d87a[_0x489eeb(0x1f8)](_0x489eeb(0x1f7),{'val':_0x531512[_0x489eeb(0x23e)],'ack':!![]}),await _0x31d87a[_0x489eeb(0x1f8)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x489eeb(0x250)](),'ack':!![]}));}catch(_0x4e0286){}}async function executeAutomationAction(_0x76aaab){const _0x280499=a0_0x230318;try{const _0x3388a4=await _0x76aaab[_0x280499(0x202)](_0x280499(0x25a)),_0x19aa12=await _0x76aaab['getStateAsync'](_0x280499(0x249));if(_0x3388a4&&_0x3388a4[_0x280499(0x239)]&&_0x19aa12){const _0x47e803=_0x3388a4[_0x280499(0x239)];let _0xe2f207=_0x19aa12[_0x280499(0x239)];try{_0xe2f207=JSON[_0x280499(0x1e2)](_0xe2f207);}catch(_0x12d0f8){}_0x76aaab[_0x280499(0x258)]['info'](_0x280499(0x242)+_0x47e803+_0x280499(0x223)+_0xe2f207),await _0x76aaab[_0x280499(0x212)](_0x47e803,_0xe2f207);}else _0x76aaab[_0x280499(0x258)][_0x280499(0x1e9)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x4e448b){_0x76aaab[_0x280499(0x258)][_0x280499(0x24f)](_0x280499(0x1e3)+_0x4e448b[_0x280499(0x256)]);}}async function sendMorningBriefing(_0x3d52b6){const _0x339ff6=a0_0x230318;if(!_0x3d52b6[_0x339ff6(0x207)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x5cfc65='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0x1f3787=await _0x3d52b6['geminiModel'][_0x339ff6(0x222)](_0x5cfc65),_0x49bd39=_0x1f3787['response']['text']();setup[_0x339ff6(0x1ed)](_0x3d52b6,_0x339ff6(0x1d4)+_0x49bd39);}catch(_0xc5f289){_0x3d52b6[_0x339ff6(0x258)][_0x339ff6(0x24f)]('Briefing\x20Error:\x20'+_0xc5f289[_0x339ff6(0x256)]);}}function a0_0x207e(_0x4c9923,_0x244ba9){const _0x45178c=a0_0x400a();return a0_0x207e=function(_0x460a13,_0x4a19f9){_0x460a13=_0x460a13-0x1d4;let _0x400a86=_0x45178c[_0x460a13];return _0x400a86;},a0_0x207e(_0x4c9923,_0x244ba9);}module[a0_0x230318(0x1df)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};