function a0_0x4900(_0x12137f,_0x22c845){const _0x352ec2=a0_0x156e();return a0_0x4900=function(_0xb38147,_0x40afad){_0xb38147=_0xb38147-0xd1;let _0x156ec1=_0x352ec2[_0xb38147];return _0x156ec1;},a0_0x4900(_0x12137f,_0x22c845);}const a0_0x5e6138=a0_0x4900;(function(_0x19a716,_0x2a1a2f){const _0x2a2b09=a0_0x4900,_0x1cf6ca=_0x19a716();while(!![]){try{const _0x16d6dc=-parseInt(_0x2a2b09(0x10e))/0x1*(parseInt(_0x2a2b09(0xf7))/0x2)+parseInt(_0x2a2b09(0x131))/0x3+-parseInt(_0x2a2b09(0xdb))/0x4*(-parseInt(_0x2a2b09(0x110))/0x5)+-parseInt(_0x2a2b09(0x127))/0x6*(parseInt(_0x2a2b09(0x11d))/0x7)+parseInt(_0x2a2b09(0x14b))/0x8+-parseInt(_0x2a2b09(0xfb))/0x9*(parseInt(_0x2a2b09(0x12e))/0xa)+parseInt(_0x2a2b09(0x157))/0xb;if(_0x16d6dc===_0x2a1a2f)break;else _0x1cf6ca['push'](_0x1cf6ca['shift']());}catch(_0x4651b1){_0x1cf6ca['push'](_0x1cf6ca['shift']());}}}(a0_0x156e,0x89d35));const a0_0x40afad=(function(){let _0xe1971=!![];return function(_0x2cc1da,_0x3e2816){const _0x2b6713=_0xe1971?function(){if(_0x3e2816){const _0x4c461b=_0x3e2816['apply'](_0x2cc1da,arguments);return _0x3e2816=null,_0x4c461b;}}:function(){};return _0xe1971=![],_0x2b6713;};}()),a0_0xb38147=a0_0x40afad(this,function(){const _0x4ae9e5=a0_0x4900;return a0_0xb38147[_0x4ae9e5(0x158)]()['search'](_0x4ae9e5(0x120))[_0x4ae9e5(0x158)]()['constructor'](a0_0xb38147)[_0x4ae9e5(0xe0)](_0x4ae9e5(0x120));});a0_0xb38147();'use strict';const {GoogleGenerativeAI}=require(a0_0x5e6138(0x10f)),setup=require('./setup'),GEMINI_MODEL=a0_0x5e6138(0xff),LTM_DP_DAILY_DIGESTS=a0_0x5e6138(0x13a),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x5e6138(0x14a),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x5e6138(0xd5),'senior_aal':a0_0x5e6138(0x147),'family':a0_0x5e6138(0x102),'single_comfort':a0_0x5e6138(0xdd),'security':a0_0x5e6138(0x118),'energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x2c624a=a0_0x5e6138,_0x1631fe=Date[_0x2c624a(0x105)]();return _0x1631fe-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x3bb783){const _0x3a09b8=a0_0x5e6138;if(!_0x3bb783[_0x3a09b8(0x138)][_0x3a09b8(0x135)]||!_0x3bb783[_0x3a09b8(0x138)][_0x3a09b8(0xda)])return _0x3a09b8(0x101);try{const _0x36d4e7=_0x3bb783[_0x3a09b8(0x138)][_0x3a09b8(0xda)];let _0x4cbee2=await _0x3bb783[_0x3a09b8(0xe4)](_0x36d4e7+_0x3a09b8(0xeb));if(!_0x4cbee2)_0x4cbee2=await _0x3bb783[_0x3a09b8(0xe4)](_0x36d4e7+_0x3a09b8(0xe8));let _0x3714f1=await _0x3bb783[_0x3a09b8(0xe4)](_0x36d4e7+_0x3a09b8(0x142));if(!_0x3714f1)_0x3714f1=await _0x3bb783[_0x3a09b8(0xe4)](_0x36d4e7+_0x3a09b8(0x134));let _0x347421=_0x3a09b8(0x155);const _0x64c4db=await _0x3bb783[_0x3a09b8(0xe4)](_0x36d4e7+'.Current.IsNight');if(_0x64c4db)_0x347421=_0x64c4db[_0x3a09b8(0x10d)]?_0x3a09b8(0x114):_0x3a09b8(0x119);if(_0x4cbee2&&_0x3714f1)return _0x4cbee2[_0x3a09b8(0x10d)]+_0x3a09b8(0x12d)+_0x3714f1['val']+_0x3a09b8(0x15a)+_0x347421;}catch(_0x51b0f7){}return _0x3a09b8(0x10a);}async function consultButler(_0x310f54,_0x1b457b,_0x179d64,_0x2d0ab2){const _0x3a1825=a0_0x5e6138;if(!_0x310f54['geminiModel'])return{'approved':!![],'reason':_0x3a1825(0x13d)};const _0x36bf3f=Date['now']();if(decisionCache[_0x1b457b]&&_0x36bf3f-decisionCache[_0x1b457b][_0x3a1825(0xfd)]<CACHE_TTL_MS){const _0x1c23dd=decisionCache[_0x1b457b][_0x3a1825(0xf4)];return _0x310f54[_0x3a1825(0x104)][_0x3a1825(0x12f)](_0x3a1825(0x112)+_0x1b457b+_0x3a1825(0x12b)+(_0x1c23dd[_0x3a1825(0xf8)]?'OK':'NO')+'\x20('+_0x1c23dd[_0x3a1825(0x159)]+')'),_0x1c23dd;}if(!canCallApi())return _0x310f54['log'][_0x3a1825(0x12f)](_0x3a1825(0xdf)+_0x1b457b+_0x3a1825(0x133)),{'approved':!![],'reason':_0x3a1825(0x115)};const _0x128c8c=new Date()[_0x3a1825(0x11f)](),_0x116b66=await getWeatherContext(_0x310f54),_0x1e518f=PERSONA_MAPPING[_0x310f54[_0x3a1825(0x138)][_0x3a1825(0xf6)]||_0x3a1825(0x139)],_0x54fc26=_0x3a1825(0x100)+_0x128c8c+_0x3a1825(0x117)+_0x116b66+_0x3a1825(0x14f)+(_0x2d0ab2*0x64)['toFixed'](0x0)+_0x3a1825(0x13b)+_0x1b457b+_0x3a1825(0x13f)+_0x179d64+_0x3a1825(0xde)+_0x1e518f+_0x3a1825(0xe9);try{updateApiTimestamp();const _0x4a9cf0=await _0x310f54[_0x3a1825(0x140)][_0x3a1825(0xe3)](_0x54fc26),_0x34f922=_0x4a9cf0[_0x3a1825(0x153)]['text']()[_0x3a1825(0xe7)](/```json|```/g,'')[_0x3a1825(0x106)](),_0x475e58=JSON['parse'](_0x34f922);return decisionCache[_0x1b457b]={'decision':_0x475e58,'timestamp':_0x36bf3f},_0x475e58;}catch(_0x4f25f6){return _0x310f54[_0x3a1825(0x104)][_0x3a1825(0xfc)](_0x3a1825(0x156)+_0x4f25f6['message']),decisionCache[_0x1b457b]={'decision':{'approved':!![],'reason':_0x3a1825(0x121)},'timestamp':_0x36bf3f-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x3a1825(0x121)};}}function a0_0x156e(){const _0xa8ccb8=['ANALYZE_HEALTH','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','analysis.lastResult','automationProposal','LTM.rawEventLog','1209592XGuoqc','rawEventLog','Started...','length','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','info','analysis.alertReason','response','description','Unbekannt','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','15008015KoFOel','toString','reason',',\x20LichtverhÃ¤ltnisse:\x20','Briefing\x20Error:\x20','summary','setForeignStateAsync','message','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','activityLevel','sendNotification','push','analysis.automation.autoApply','weatherInstance','143496WjxSfF','Gemini\x20Error:\x20','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','search','ðŸ¤–\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','detected','generateContent','getForeignStateAsync','LTM.driftAnalysis.baselineDrift','analysis.activitySummary','replace','.forecast.current.temperature','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','analysis.automation.patternDetected','.Current.Temperature','analysis.automation.targetId','livingContext','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','.\x20ANWESEND:\x20','stringify','toISOString','parse','analysis.automation.description','decision','ðŸŒ…\x20Morning\x20Briefing:\x0a','aiPersona','4idVYzo','approved','isAlert','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','18EwnRRp','warn','timestamp','LTM.driftAnalysis.driftDetails','models/gemini-flash-latest','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','Unbekannt\x20(Kein\x20Sensor)','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','system.presenceWho','log','now','trim','error','getStateAsync','.\x20KONTEXT:\x20','Wetterdaten\x20nicht\x20abrufbar','Skipped\x20(Traffic)','.\x20EMERGENCY:\x20','val','514763iDSCRz','@google/generative-ai','125bhRJYj','Digest','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','LTM.driftAnalysis.lastCheck','Nacht','Traffic-Schutz\x20(Auto-Approved)','pop',',\x20Wetter:\x20','Sicherheit\x20geht\x20vor.','Tag','\x20=\x20','targetId','dailyDigests','38731aXedSY',').\x20Sending\x20notification...','toLocaleTimeString','(((.+)+)+)+$','KI-Fehler\x20(Fallback)','analysis.isAlert','lastAlertState','text','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','N/A\x20(Learning)','744wtnACQ','normal','Success','isProVersion','\x20->\x20','slice','Â°C,\x20','3455230jeaubY','debug','\x0aSTB:\x20','1676349mGdyjl','Keine\x20Details.','\x20Ã¼bersprungen\x20(Auto-Approved).','.forecast.current.state','useWeather','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','âš ï¸\x20ALARM:\x20','config','generic','LTM.dailyDigests','%)\x20nach\x20\x22','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','KI\x20offline\x20(Fallback)','analysis.automation.targetValue','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','geminiModel','setStateAsync','.Current.WeatherText','alertReason','baselineDrift','analysisHistory'];a0_0x156e=function(){return _0xa8ccb8;};return a0_0x156e();}async function runGeminiAnalysis(_0x1a692e,_0x39e402=''){const _0x5364c7=a0_0x5e6138;if(!_0x1a692e['geminiModel'])return;if(!canCallApi()){_0x1a692e['log'][_0x5364c7(0x12f)](_0x5364c7(0x150));return;}if(_0x1a692e['eventHistory'][_0x5364c7(0x14e)]===0x0)return;const _0x39345f=_0x1a692e['eventHistory'][_0x5364c7(0x12c)](0x0,0xf),_0x2e3c9e=_0x1a692e['currentSystemMode'],_0x31be22=PERSONA_MAPPING[_0x1a692e[_0x5364c7(0x138)][_0x5364c7(0xf6)]||'generic'],_0x73fab6=_0x1a692e[_0x5364c7(0x138)][_0x5364c7(0xed)]||_0x5364c7(0x132);let _0x2377a1=_0x5364c7(0x155);try{const _0x2d8c61=await _0x1a692e[_0x5364c7(0x108)](_0x5364c7(0x103));if(_0x2d8c61&&_0x2d8c61[_0x5364c7(0x10d)])_0x2377a1=_0x2d8c61[_0x5364c7(0x10d)];}catch(_0x1f50fe){}let _0x28744c=![];try{const _0x314f9c=await _0x1a692e[_0x5364c7(0x108)](_0x5364c7(0xd9));if(_0x314f9c&&_0x314f9c[_0x5364c7(0x10d)])_0x28744c=!![];}catch(_0x111d36){}const _0x49ca1b=_0x5364c7(0xfa)+_0x31be22+_0x5364c7(0x109)+_0x73fab6+'.\x20SYSTEM_MODE:\x20'+_0x2e3c9e+_0x5364c7(0xef)+_0x2377a1+'.\x20EVENTS:\x20'+JSON[_0x5364c7(0xf0)](_0x39345f)+_0x5364c7(0x10c)+_0x39e402+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x3c34fe=await _0x1a692e['geminiModel'][_0x5364c7(0xe3)](_0x49ca1b),_0x246db0=JSON[_0x5364c7(0xf2)](_0x3c34fe[_0x5364c7(0x153)][_0x5364c7(0x124)]()['replace'](/```json|```/g,'')['trim']());await _0x1a692e[_0x5364c7(0x141)](_0x5364c7(0x148),{'val':JSON['stringify'](_0x246db0),'ack':!![]});if(_0x246db0[_0x5364c7(0xd2)])await _0x1a692e[_0x5364c7(0x141)](_0x5364c7(0xe6),{'val':_0x246db0[_0x5364c7(0xd2)],'ack':!![]});const _0x1e587b={'timestamp':Date[_0x5364c7(0x105)](),'id':Date[_0x5364c7(0x105)]()[_0x5364c7(0x158)](),'analysis':{'activity':{'summary':_0x246db0[_0x5364c7(0xd2)],'isAlert':_0x246db0[_0x5364c7(0xf9)],'alertReason':_0x246db0[_0x5364c7(0x143)]},'comfort':{'automationProposal':_0x246db0[_0x5364c7(0x149)]}}};_0x1a692e[_0x5364c7(0x145)]['unshift'](_0x1e587b);if(_0x1a692e[_0x5364c7(0x145)][_0x5364c7(0x14e)]>0x32)_0x1a692e[_0x5364c7(0x145)][_0x5364c7(0x116)]();await _0x1a692e[_0x5364c7(0x141)]('analysis.analysisHistory',{'val':JSON[_0x5364c7(0xf0)](_0x1a692e[_0x5364c7(0x145)]),'ack':!![]});const _0x3eff09=_0x246db0[_0x5364c7(0xf9)]||![];_0x3eff09!==_0x1a692e[_0x5364c7(0x123)]&&(await _0x1a692e[_0x5364c7(0x141)](_0x5364c7(0x122),{'val':_0x3eff09,'ack':!![]}),_0x1a692e[_0x5364c7(0x123)]=_0x3eff09,_0x3eff09&&(await _0x1a692e[_0x5364c7(0x141)](_0x5364c7(0x152),{'val':_0x246db0['alertReason'],'ack':!![]}),setup[_0x5364c7(0xd7)](_0x1a692e,_0x5364c7(0x137)+_0x246db0[_0x5364c7(0x143)],![],_0x246db0['isEmergency'])));if(_0x246db0[_0x5364c7(0x149)]&&_0x246db0['automationProposal'][_0x5364c7(0xe2)]){await _0x1a692e[_0x5364c7(0x141)](_0x5364c7(0xea),{'val':!![],'ack':!![]}),await _0x1a692e[_0x5364c7(0x141)](_0x5364c7(0xf3),{'val':_0x246db0['automationProposal'][_0x5364c7(0x154)],'ack':!![]}),await _0x1a692e[_0x5364c7(0x141)](_0x5364c7(0xec),{'val':_0x246db0[_0x5364c7(0x149)][_0x5364c7(0x11b)],'ack':!![]}),await _0x1a692e[_0x5364c7(0x141)]('analysis.automation.targetValue',{'val':JSON[_0x5364c7(0xf0)](_0x246db0[_0x5364c7(0x149)]['targetValue']),'ack':!![]});if(_0x28744c)executeAutomationAction(_0x1a692e);}}catch(_0x4456af){_0x1a692e[_0x5364c7(0x104)][_0x5364c7(0x107)](_0x5364c7(0xdc)+_0x4456af[_0x5364c7(0xd4)]);}}async function createDailyDigest(_0x30c0c6,_0xca5690){const _0x86b4c9=a0_0x5e6138;if(!_0x30c0c6[_0x86b4c9(0x12a)])return;if(!canCallApi()){await _0x30c0c6[_0x86b4c9(0x141)](LTM_DP_STATUS,{'val':_0x86b4c9(0x10b),'ack':!![]});return;}await _0x30c0c6[_0x86b4c9(0x141)](LTM_DP_STATUS,{'val':_0x86b4c9(0x14d),'ack':!![]});if(!_0x30c0c6['geminiModel']||_0x30c0c6['rawEventLog'][_0x86b4c9(0x14e)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x30c0c6[_0x86b4c9(0x141)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x31a22e=JSON[_0x86b4c9(0xf2)](JSON['stringify'](_0x30c0c6[_0x86b4c9(0x14c)])),_0x34dab1=_0x31a22e[_0x86b4c9(0x14e)],_0x28049c=_0x86b4c9(0x13c)+JSON['stringify'](_0x31a22e);try{updateApiTimestamp();const _0x398b1b=await _0x30c0c6['geminiModel']['generateContent'](_0x28049c),_0x18e8c6=JSON[_0x86b4c9(0xf2)](_0x398b1b[_0x86b4c9(0x153)][_0x86b4c9(0x124)]()[_0x86b4c9(0xe7)](/```json|```/g,'')[_0x86b4c9(0x106)]()),_0x42cdcd={'timestamp':new Date()[_0x86b4c9(0xf1)](),'eventCount':_0x34dab1,'summary':_0x18e8c6[_0x86b4c9(0xd2)]||_0x86b4c9(0x111),'activityLevel':_0x18e8c6['activityLevel']||_0x86b4c9(0x128),'systemMode':_0x30c0c6['currentSystemMode']};_0x30c0c6['dailyDigests'][_0x86b4c9(0xd8)](_0x42cdcd);const _0x34566d=_0x30c0c6[_0x86b4c9(0x138)]['ltmLtbWindowDays']||0x3c;_0x30c0c6[_0x86b4c9(0x11c)][_0x86b4c9(0x14e)]>_0x34566d&&_0x30c0c6[_0x86b4c9(0x11c)]['splice'](0x0,_0x30c0c6[_0x86b4c9(0x11c)][_0x86b4c9(0x14e)]-_0x34566d);await _0x30c0c6['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x30c0c6['dailyDigests']),'ack':!![]}),_0x30c0c6['rawEventLog']=[],await _0x30c0c6[_0x86b4c9(0x141)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x30c0c6[_0x86b4c9(0x14c)]),'ack':!![]}),await _0x30c0c6[_0x86b4c9(0x141)](LTM_DP_STATUS,{'val':_0x86b4c9(0x129),'ack':!![]});const _0xf1caba='ðŸ“…\x20Daily\x20Digest:\x0a'+_0x18e8c6[_0x86b4c9(0xd2)]+'\x0aAktivitÃ¤t:\x20'+_0x18e8c6[_0x86b4c9(0xd6)];setup[_0x86b4c9(0xd7)](_0x30c0c6,_0xf1caba,![],![]);if(_0x30c0c6[_0x86b4c9(0x12a)]&&_0xca5690)_0xca5690['send'](_0x30c0c6,_0x86b4c9(0x146),{'digest':_0x42cdcd});}catch(_0xfb5033){_0x30c0c6[_0x86b4c9(0x104)][_0x86b4c9(0x107)](_0xfb5033[_0x86b4c9(0xd4)]);}}async function runBaselineDriftAnalysis(_0x25792d){const _0x36bc83=a0_0x5e6138;if(!_0x25792d[_0x36bc83(0x12a)]||!_0x25792d[_0x36bc83(0x140)])return;if(!canCallApi())return;const _0x74acda=_0x25792d[_0x36bc83(0x138)]['ltmStbWindowDays']||0xe;if(_0x25792d['dailyDigests']['length']<_0x74acda+0x7){await _0x25792d['setStateAsync'](_0x36bc83(0xe5),{'val':_0x36bc83(0x126),'ack':!![]});return;}const _0x4b5465=_0x25792d[_0x36bc83(0x11c)][_0x36bc83(0x12c)](-_0x74acda),_0x4de75e=_0x25792d['dailyDigests']['slice'](0x0,_0x25792d[_0x36bc83(0x11c)][_0x36bc83(0x14e)]-_0x74acda),_0xa1ace=_0x36bc83(0x136)+JSON[_0x36bc83(0xf0)](_0x4de75e)+_0x36bc83(0x130)+JSON['stringify'](_0x4b5465);try{updateApiTimestamp();const _0x1be4cb=await _0x25792d[_0x36bc83(0x140)][_0x36bc83(0xe3)](_0xa1ace),_0x5789d7=JSON[_0x36bc83(0xf2)](_0x1be4cb[_0x36bc83(0x153)][_0x36bc83(0x124)]()[_0x36bc83(0xe7)](/```json|```/g,'')['trim']());_0x5789d7[_0x36bc83(0x144)]&&(await _0x25792d['setStateAsync'](_0x36bc83(0xe5),{'val':_0x5789d7[_0x36bc83(0x144)],'ack':!![]}),await _0x25792d['setStateAsync'](_0x36bc83(0xfe),{'val':_0x5789d7['driftDetails'],'ack':!![]}),await _0x25792d[_0x36bc83(0x141)](_0x36bc83(0x113),{'val':Date[_0x36bc83(0x105)](),'ack':!![]}));}catch(_0x1c954b){}}async function executeAutomationAction(_0x390ad9){const _0x2350bf=a0_0x5e6138;try{const _0x439a20=await _0x390ad9[_0x2350bf(0x108)](_0x2350bf(0xec)),_0x1da37c=await _0x390ad9[_0x2350bf(0x108)](_0x2350bf(0x13e));if(_0x439a20&&_0x439a20[_0x2350bf(0x10d)]&&_0x1da37c){const _0x32371c=_0x439a20[_0x2350bf(0x10d)];let _0x33721d=_0x1da37c['val'];try{_0x33721d=JSON[_0x2350bf(0xf2)](_0x33721d);}catch(_0x1e75c6){}_0x390ad9[_0x2350bf(0x104)][_0x2350bf(0x151)](_0x2350bf(0xee)+_0x32371c+_0x2350bf(0x11a)+_0x33721d),await _0x390ad9[_0x2350bf(0xd3)](_0x32371c,_0x33721d);}else _0x390ad9[_0x2350bf(0x104)][_0x2350bf(0xfc)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x16f485){_0x390ad9[_0x2350bf(0x104)]['error']('BUTLER\x20Execution\x20Error:\x20'+_0x16f485[_0x2350bf(0xd4)]);}}async function sendMorningBriefing(_0x23e1e7){const _0x1f17f4=a0_0x5e6138;if(!_0x23e1e7['geminiModel']){_0x23e1e7['log'][_0x1f17f4(0xfc)](_0x1f17f4(0xe1));return;}_0x23e1e7[_0x1f17f4(0x104)]['info']('ðŸŒ…\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...');try{updateApiTimestamp();const _0x119703=_0x1f17f4(0x125),_0x1e271f=await _0x23e1e7[_0x1f17f4(0x140)][_0x1f17f4(0xe3)](_0x119703),_0x4b5cca=_0x1e271f[_0x1f17f4(0x153)]['text']();_0x23e1e7['log'][_0x1f17f4(0x151)]('ðŸŒ…\x20Briefing\x20generated\x20(Length:\x20'+_0x4b5cca[_0x1f17f4(0x14e)]+_0x1f17f4(0x11e)),setup[_0x1f17f4(0xd7)](_0x23e1e7,_0x1f17f4(0xf5)+_0x4b5cca);}catch(_0x555b72){_0x23e1e7['log'][_0x1f17f4(0x107)](_0x1f17f4(0xd1)+_0x555b72[_0x1f17f4(0xd4)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};