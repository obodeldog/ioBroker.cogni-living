const a0_0x31213f=a0_0x1270;function a0_0x1270(_0x551760,_0x59735e){const _0x5438af=a0_0x1d4f();return a0_0x1270=function(_0x59aaaa,_0x39a5e5){_0x59aaaa=_0x59aaaa-0xff;let _0x1d4fea=_0x5438af[_0x59aaaa];return _0x1d4fea;},a0_0x1270(_0x551760,_0x59735e);}(function(_0x41c4bf,_0x38969a){const _0x15217d=a0_0x1270,_0x38eb51=_0x41c4bf();while(!![]){try{const _0x209486=parseInt(_0x15217d(0x13b))/0x1+-parseInt(_0x15217d(0x169))/0x2+parseInt(_0x15217d(0x114))/0x3*(-parseInt(_0x15217d(0x133))/0x4)+parseInt(_0x15217d(0x168))/0x5*(parseInt(_0x15217d(0x120))/0x6)+parseInt(_0x15217d(0x181))/0x7*(parseInt(_0x15217d(0x16c))/0x8)+parseInt(_0x15217d(0x118))/0x9*(parseInt(_0x15217d(0x15b))/0xa)+-parseInt(_0x15217d(0x12d))/0xb;if(_0x209486===_0x38969a)break;else _0x38eb51['push'](_0x38eb51['shift']());}catch(_0x391588){_0x38eb51['push'](_0x38eb51['shift']());}}}(a0_0x1d4f,0xd298b));const a0_0x39a5e5=(function(){let _0x3aeaf0=!![];return function(_0x3ee80a,_0x3c8a50){const _0x1a5579=_0x3aeaf0?function(){const _0x512c51=a0_0x1270;if(_0x3c8a50){const _0x40b6f2=_0x3c8a50[_0x512c51(0x129)](_0x3ee80a,arguments);return _0x3c8a50=null,_0x40b6f2;}}:function(){};return _0x3aeaf0=![],_0x1a5579;};}()),a0_0x59aaaa=a0_0x39a5e5(this,function(){const _0x38a9aa=a0_0x1270;return a0_0x59aaaa[_0x38a9aa(0x106)]()[_0x38a9aa(0x170)](_0x38a9aa(0x178))[_0x38a9aa(0x106)]()[_0x38a9aa(0x136)](a0_0x59aaaa)[_0x38a9aa(0x170)](_0x38a9aa(0x178));});a0_0x59aaaa();'use strict';const {GoogleGenerativeAI}=require(a0_0x31213f(0x145)),setup=require('./setup'),GEMINI_MODEL=a0_0x31213f(0x153),LTM_DP_DAILY_DIGESTS=a0_0x31213f(0x109),LTM_DP_STATUS=a0_0x31213f(0x113),LTM_DP_RAW_LOG=a0_0x31213f(0x111),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x31213f(0x123),'senior_aal':a0_0x31213f(0x102),'family':a0_0x31213f(0x101),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':a0_0x31213f(0x112),'energy_saver':'PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x403bac=Date['now']();return _0x403bac-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x1aaacd=a0_0x31213f;lastGlobalApiCall=Date[_0x1aaacd(0x105)]();}async function getWeatherContext(_0x236493){const _0x40e6e8=a0_0x31213f;if(!_0x236493[_0x40e6e8(0x100)][_0x40e6e8(0x167)]||!_0x236493['config'][_0x40e6e8(0x103)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x51983d=_0x236493[_0x40e6e8(0x100)][_0x40e6e8(0x103)];let _0xb4cf78=await _0x236493[_0x40e6e8(0x108)](_0x51983d+_0x40e6e8(0x17a));if(!_0xb4cf78)_0xb4cf78=await _0x236493[_0x40e6e8(0x108)](_0x51983d+_0x40e6e8(0x166));let _0x12208b=await _0x236493[_0x40e6e8(0x108)](_0x51983d+_0x40e6e8(0x147));if(!_0x12208b)_0x12208b=await _0x236493[_0x40e6e8(0x108)](_0x51983d+_0x40e6e8(0x10f));let _0x3d182f=_0x40e6e8(0x180);const _0x1db68f=await _0x236493['getForeignStateAsync'](_0x51983d+_0x40e6e8(0x14e));if(_0x1db68f)_0x3d182f=_0x1db68f[_0x40e6e8(0x15f)]?_0x40e6e8(0x159):_0x40e6e8(0x146);if(_0xb4cf78&&_0x12208b)return _0xb4cf78[_0x40e6e8(0x15f)]+_0x40e6e8(0x12a)+_0x12208b[_0x40e6e8(0x15f)]+_0x40e6e8(0x10c)+_0x3d182f;}catch(_0x56deec){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x235e4c,_0x257ab4,_0x399585,_0xeef873){const _0x3343af=a0_0x31213f;if(!_0x235e4c[_0x3343af(0x127)])return{'approved':!![],'reason':_0x3343af(0x110)};const _0x273b6a=Date['now']();if(decisionCache[_0x257ab4]&&_0x273b6a-decisionCache[_0x257ab4]['timestamp']<CACHE_TTL_MS){const _0x172efc=decisionCache[_0x257ab4][_0x3343af(0x171)];return _0x235e4c[_0x3343af(0x126)][_0x3343af(0x13a)](_0x3343af(0x175)+_0x257ab4+_0x3343af(0x10b)+(_0x172efc[_0x3343af(0x13d)]?'OK':'NO')+'\x20('+_0x172efc[_0x3343af(0x17e)]+')'),_0x172efc;}if(!canCallApi())return _0x235e4c[_0x3343af(0x126)][_0x3343af(0x13a)](_0x3343af(0x125)+_0x257ab4+_0x3343af(0x15d)),{'approved':!![],'reason':_0x3343af(0x158)};const _0x2b73dc=new Date()[_0x3343af(0xff)](),_0x2a654c=await getWeatherContext(_0x235e4c),_0x4add96=PERSONA_MAPPING[_0x235e4c[_0x3343af(0x100)][_0x3343af(0x131)]||_0x3343af(0x117)],_0x542ee1='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x2b73dc+',\x20Wetter:\x20'+_0x2a654c+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0xeef873*0x64)['toFixed'](0x0)+_0x3343af(0x12f)+_0x257ab4+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x399585+_0x3343af(0x122)+_0x4add96+_0x3343af(0x11d);try{updateApiTimestamp();const _0x5c0c98=await _0x235e4c[_0x3343af(0x127)][_0x3343af(0x107)](_0x542ee1),_0x176a90=_0x5c0c98[_0x3343af(0x173)][_0x3343af(0x161)]()['replace'](/```json|```/g,'')[_0x3343af(0x14a)](),_0x3e80cb=JSON[_0x3343af(0x138)](_0x176a90);return decisionCache[_0x257ab4]={'decision':_0x3e80cb,'timestamp':_0x273b6a},_0x3e80cb;}catch(_0x37bcb9){return _0x235e4c[_0x3343af(0x126)][_0x3343af(0x174)]('ü§ñ\x20Butler\x20Brain\x20Error:\x20'+_0x37bcb9[_0x3343af(0x137)]),decisionCache[_0x257ab4]={'decision':{'approved':!![],'reason':_0x3343af(0x17b)},'timestamp':_0x273b6a-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x3343af(0x17b)};}}function a0_0x1d4f(){const _0x4c7c0f=['summary','analysis.automation.patternDetected','.forecast.current.temperature','useWeather','386590GNnzep','2610696eYQCVu','.\x20EMERGENCY:\x20','.\x20EVENTS:\x20','104JnVcIO','eventHistory','analysis.analysisHistory','isProVersion','search','decision','üåÖ\x20Morning\x20Briefing:\x0a','response','warn','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','send','lastAlertState','(((.+)+)+)+$','Gemini\x20Error:\x20','.Current.Temperature','KI-Fehler\x20(Fallback)','isEmergency','info','reason','splice','Unbekannt','448483UGplng','.\x20SYSTEM_MODE:\x20','toLocaleTimeString','config','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','weatherInstance','ltmLtbWindowDays','now','toString','generateContent','getForeignStateAsync','LTM.dailyDigests','unshift','\x20->\x20',',\x20Lichtverh√§ltnisse:\x20','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','\x0aSTB:\x20','.forecast.current.state','KI\x20offline\x20(Fallback)','LTM.rawEventLog','Sicherheit\x20geht\x20vor.','LTM.processingStatus','353229maRMIX','system.presenceWho','toISOString','generic','9QzSrTr','analysis.alertReason','.\x20ANWESEND:\x20','slice','LTM.driftAnalysis.driftDetails','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','description','90zzelKP','automationProposal','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','setStateAsync','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','log','geminiModel','analysis.automation.autoApply','apply','¬∞C,\x20','replace','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','6103053ysdMGY','rawEventLog','%)\x20nach\x20\x22','pop','aiPersona','setForeignStateAsync','44MFYxvj','error','activityLevel','constructor','message','parse','stringify','debug','775587gkourh','analysis.activitySummary','approved','currentSystemMode','targetValue','alertReason','LTM.driftAnalysis.lastCheck','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','Started...','\x20=\x20','@google/generative-ai','Tag','.Current.WeatherText','analysisHistory','getStateAsync','trim','analysis.isAlert','isAlert','Skipped\x20(No\x20AI\x20or\x20Data)','.Current.IsNight','normal','Keine\x20Details.','baselineDrift','analysis.lastResult','models/gemini-flash-latest','Skipped\x20(Traffic)','driftDetails','dailyDigests','length','Traffic-Schutz\x20(Auto-Approved)','Nacht','analysis.automation.targetId','12496930DmNrRo','BUTLER\x20Execution\x20Error:\x20','\x20√ºbersprungen\x20(Auto-Approved).','analysis.automation.targetValue','val','LTM.driftAnalysis.baselineDrift','text','Digest','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'];a0_0x1d4f=function(){return _0x4c7c0f;};return a0_0x1d4f();}async function runGeminiAnalysis(_0x2ee676,_0x3f8a61=''){const _0x152a4b=a0_0x31213f;if(!_0x2ee676['geminiModel'])return;if(!canCallApi()){_0x2ee676[_0x152a4b(0x126)]['debug'](_0x152a4b(0x10d));return;}if(_0x2ee676[_0x152a4b(0x16d)][_0x152a4b(0x157)]===0x0)return;const _0x29feff=_0x2ee676['eventHistory']['slice'](0x0,0xf),_0xf69023=_0x2ee676[_0x152a4b(0x13e)],_0x225d6d=PERSONA_MAPPING[_0x2ee676[_0x152a4b(0x100)][_0x152a4b(0x131)]||_0x152a4b(0x117)],_0x26876e=_0x2ee676['config']['livingContext']||_0x152a4b(0x150);let _0x2c9932=_0x152a4b(0x180);try{const _0x11cc11=await _0x2ee676['getStateAsync'](_0x152a4b(0x115));if(_0x11cc11&&_0x11cc11[_0x152a4b(0x15f)])_0x2c9932=_0x11cc11[_0x152a4b(0x15f)];}catch(_0x1afaf6){}let _0x18295a=![];try{const _0x54bccc=await _0x2ee676[_0x152a4b(0x149)](_0x152a4b(0x128));if(_0x54bccc&&_0x54bccc[_0x152a4b(0x15f)])_0x18295a=!![];}catch(_0x351173){}const _0x4fc8e6=_0x152a4b(0x163)+_0x225d6d+'.\x20KONTEXT:\x20'+_0x26876e+_0x152a4b(0x182)+_0xf69023+_0x152a4b(0x11a)+_0x2c9932+_0x152a4b(0x16b)+JSON[_0x152a4b(0x139)](_0x29feff)+_0x152a4b(0x16a)+_0x3f8a61+_0x152a4b(0x142);try{updateApiTimestamp();const _0x56e031=await _0x2ee676[_0x152a4b(0x127)]['generateContent'](_0x4fc8e6),_0x3a695a=JSON[_0x152a4b(0x138)](_0x56e031[_0x152a4b(0x173)]['text']()[_0x152a4b(0x12b)](/```json|```/g,'')['trim']());await _0x2ee676['setStateAsync'](_0x152a4b(0x152),{'val':JSON['stringify'](_0x3a695a),'ack':!![]});if(_0x3a695a['summary'])await _0x2ee676[_0x152a4b(0x124)](_0x152a4b(0x13c),{'val':_0x3a695a[_0x152a4b(0x164)],'ack':!![]});const _0x3056fc={'timestamp':Date[_0x152a4b(0x105)](),'id':Date[_0x152a4b(0x105)]()[_0x152a4b(0x106)](),'analysis':{'activity':{'summary':_0x3a695a[_0x152a4b(0x164)],'isAlert':_0x3a695a[_0x152a4b(0x14c)],'alertReason':_0x3a695a[_0x152a4b(0x140)]},'comfort':{'automationProposal':_0x3a695a[_0x152a4b(0x121)]}}};_0x2ee676['analysisHistory'][_0x152a4b(0x10a)](_0x3056fc);if(_0x2ee676[_0x152a4b(0x148)]['length']>0x32)_0x2ee676[_0x152a4b(0x148)][_0x152a4b(0x130)]();await _0x2ee676['setStateAsync'](_0x152a4b(0x16e),{'val':JSON[_0x152a4b(0x139)](_0x2ee676[_0x152a4b(0x148)]),'ack':!![]});const _0x755b09=_0x3a695a['isAlert']||![];_0x755b09!==_0x2ee676[_0x152a4b(0x177)]&&(await _0x2ee676[_0x152a4b(0x124)](_0x152a4b(0x14b),{'val':_0x755b09,'ack':!![]}),_0x2ee676[_0x152a4b(0x177)]=_0x755b09,_0x755b09&&(await _0x2ee676[_0x152a4b(0x124)](_0x152a4b(0x119),{'val':_0x3a695a[_0x152a4b(0x140)],'ack':!![]}),setup['sendNotification'](_0x2ee676,'‚ö†Ô∏è\x20ALARM:\x20'+_0x3a695a[_0x152a4b(0x140)],![],_0x3a695a[_0x152a4b(0x17c)])));if(_0x3a695a['automationProposal']&&_0x3a695a[_0x152a4b(0x121)]['detected']){await _0x2ee676[_0x152a4b(0x124)](_0x152a4b(0x165),{'val':!![],'ack':!![]}),await _0x2ee676[_0x152a4b(0x124)]('analysis.automation.description',{'val':_0x3a695a[_0x152a4b(0x121)][_0x152a4b(0x11f)],'ack':!![]}),await _0x2ee676[_0x152a4b(0x124)](_0x152a4b(0x15a),{'val':_0x3a695a[_0x152a4b(0x121)]['targetId'],'ack':!![]}),await _0x2ee676[_0x152a4b(0x124)](_0x152a4b(0x15e),{'val':JSON['stringify'](_0x3a695a[_0x152a4b(0x121)][_0x152a4b(0x13f)]),'ack':!![]});if(_0x18295a)executeAutomationAction(_0x2ee676);}}catch(_0x53ddcd){_0x2ee676[_0x152a4b(0x126)][_0x152a4b(0x134)](_0x152a4b(0x179)+_0x53ddcd[_0x152a4b(0x137)]);}}async function createDailyDigest(_0x453c88,_0x426b7e){const _0x4eb3bf=a0_0x31213f;if(!_0x453c88['isProVersion'])return;if(!canCallApi()){await _0x453c88[_0x4eb3bf(0x124)](LTM_DP_STATUS,{'val':_0x4eb3bf(0x154),'ack':!![]});return;}await _0x453c88[_0x4eb3bf(0x124)](LTM_DP_STATUS,{'val':_0x4eb3bf(0x143),'ack':!![]});if(!_0x453c88['geminiModel']||_0x453c88[_0x4eb3bf(0x12e)][_0x4eb3bf(0x157)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x453c88[_0x4eb3bf(0x124)](LTM_DP_STATUS,{'val':_0x4eb3bf(0x14d),'ack':!![]});return;}const _0x5e34fe=JSON[_0x4eb3bf(0x138)](JSON[_0x4eb3bf(0x139)](_0x453c88['rawEventLog'])),_0x3f911d=_0x5e34fe[_0x4eb3bf(0x157)],_0xc975e7='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON['stringify'](_0x5e34fe);try{updateApiTimestamp();const _0x4139ee=await _0x453c88[_0x4eb3bf(0x127)][_0x4eb3bf(0x107)](_0xc975e7),_0x5dcbc1=JSON['parse'](_0x4139ee['response'][_0x4eb3bf(0x161)]()['replace'](/```json|```/g,'')[_0x4eb3bf(0x14a)]()),_0x435a25={'timestamp':new Date()[_0x4eb3bf(0x116)](),'eventCount':_0x3f911d,'summary':_0x5dcbc1[_0x4eb3bf(0x164)]||_0x4eb3bf(0x162),'activityLevel':_0x5dcbc1[_0x4eb3bf(0x135)]||_0x4eb3bf(0x14f),'systemMode':_0x453c88[_0x4eb3bf(0x13e)]};_0x453c88[_0x4eb3bf(0x156)]['push'](_0x435a25);const _0x525bbe=_0x453c88[_0x4eb3bf(0x100)][_0x4eb3bf(0x104)]||0x3c;_0x453c88[_0x4eb3bf(0x156)]['length']>_0x525bbe&&_0x453c88['dailyDigests'][_0x4eb3bf(0x17f)](0x0,_0x453c88[_0x4eb3bf(0x156)]['length']-_0x525bbe);await _0x453c88[_0x4eb3bf(0x124)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4eb3bf(0x139)](_0x453c88[_0x4eb3bf(0x156)]),'ack':!![]}),_0x453c88[_0x4eb3bf(0x12e)]=[],await _0x453c88[_0x4eb3bf(0x124)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x453c88[_0x4eb3bf(0x12e)]),'ack':!![]}),await _0x453c88[_0x4eb3bf(0x124)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x453c88[_0x4eb3bf(0x16f)]&&_0x426b7e)_0x426b7e[_0x4eb3bf(0x176)](_0x453c88,'ANALYZE_HEALTH',{'digest':_0x435a25});}catch(_0x1a47cb){_0x453c88[_0x4eb3bf(0x126)][_0x4eb3bf(0x134)](_0x1a47cb[_0x4eb3bf(0x137)]);}}async function runBaselineDriftAnalysis(_0x50f5b4){const _0x300e2e=a0_0x31213f;if(!_0x50f5b4[_0x300e2e(0x16f)]||!_0x50f5b4['geminiModel'])return;if(!canCallApi())return;const _0x39cd88=_0x50f5b4[_0x300e2e(0x100)]['ltmStbWindowDays']||0xe;if(_0x50f5b4[_0x300e2e(0x156)][_0x300e2e(0x157)]<_0x39cd88+0x7){await _0x50f5b4['setStateAsync'](_0x300e2e(0x160),{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0xbbfb1c=_0x50f5b4[_0x300e2e(0x156)][_0x300e2e(0x11b)](-_0x39cd88),_0x3c6d04=_0x50f5b4[_0x300e2e(0x156)][_0x300e2e(0x11b)](0x0,_0x50f5b4[_0x300e2e(0x156)][_0x300e2e(0x157)]-_0x39cd88),_0x208d67=_0x300e2e(0x11e)+JSON[_0x300e2e(0x139)](_0x3c6d04)+_0x300e2e(0x10e)+JSON[_0x300e2e(0x139)](_0xbbfb1c);try{updateApiTimestamp();const _0x3be699=await _0x50f5b4[_0x300e2e(0x127)][_0x300e2e(0x107)](_0x208d67),_0x4335ad=JSON[_0x300e2e(0x138)](_0x3be699['response']['text']()['replace'](/```json|```/g,'')[_0x300e2e(0x14a)]());_0x4335ad[_0x300e2e(0x151)]&&(await _0x50f5b4[_0x300e2e(0x124)](_0x300e2e(0x160),{'val':_0x4335ad[_0x300e2e(0x151)],'ack':!![]}),await _0x50f5b4[_0x300e2e(0x124)](_0x300e2e(0x11c),{'val':_0x4335ad[_0x300e2e(0x155)],'ack':!![]}),await _0x50f5b4[_0x300e2e(0x124)](_0x300e2e(0x141),{'val':Date[_0x300e2e(0x105)](),'ack':!![]}));}catch(_0x43206d){}}async function executeAutomationAction(_0x5ea42e){const _0x180927=a0_0x31213f;try{const _0x1ddb8d=await _0x5ea42e[_0x180927(0x149)](_0x180927(0x15a)),_0xda4e38=await _0x5ea42e[_0x180927(0x149)](_0x180927(0x15e));if(_0x1ddb8d&&_0x1ddb8d[_0x180927(0x15f)]&&_0xda4e38){const _0x2ac2a8=_0x1ddb8d[_0x180927(0x15f)];let _0x34505a=_0xda4e38[_0x180927(0x15f)];try{_0x34505a=JSON[_0x180927(0x138)](_0x34505a);}catch(_0x3b9d02){}_0x5ea42e[_0x180927(0x126)][_0x180927(0x17d)]('ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x2ac2a8+_0x180927(0x144)+_0x34505a),await _0x5ea42e[_0x180927(0x132)](_0x2ac2a8,_0x34505a);}else _0x5ea42e[_0x180927(0x126)][_0x180927(0x174)]('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x3f8d9a){_0x5ea42e['log']['error'](_0x180927(0x15c)+_0x3f8d9a[_0x180927(0x137)]);}}async function sendMorningBriefing(_0x1af704){const _0x4ccf22=a0_0x31213f;if(!_0x1af704[_0x4ccf22(0x127)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x4d5e41=_0x4ccf22(0x12c),_0x4909d1=await _0x1af704[_0x4ccf22(0x127)][_0x4ccf22(0x107)](_0x4d5e41),_0xa96596=_0x4909d1['response']['text']();setup['sendNotification'](_0x1af704,_0x4ccf22(0x172)+_0xa96596);}catch(_0x1562d3){_0x1af704[_0x4ccf22(0x126)][_0x4ccf22(0x134)]('Briefing\x20Error:\x20'+_0x1562d3[_0x4ccf22(0x137)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};