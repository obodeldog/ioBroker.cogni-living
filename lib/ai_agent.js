const a0_0x26c256=a0_0x335b;(function(_0x4933ec,_0xae4998){const _0x2406f7=a0_0x335b,_0x1ba65b=_0x4933ec();while(!![]){try{const _0x595b96=parseInt(_0x2406f7(0xfa))/0x1+-parseInt(_0x2406f7(0xec))/0x2*(parseInt(_0x2406f7(0xed))/0x3)+parseInt(_0x2406f7(0xe8))/0x4+parseInt(_0x2406f7(0x90))/0x5*(parseInt(_0x2406f7(0xca))/0x6)+-parseInt(_0x2406f7(0xe4))/0x7*(parseInt(_0x2406f7(0x82))/0x8)+parseInt(_0x2406f7(0x9d))/0x9*(parseInt(_0x2406f7(0x9e))/0xa)+-parseInt(_0x2406f7(0x71))/0xb;if(_0x595b96===_0xae4998)break;else _0x1ba65b['push'](_0x1ba65b['shift']());}catch(_0x2d826b){_0x1ba65b['push'](_0x1ba65b['shift']());}}}(a0_0x18e4,0xba1eb));const a0_0x4eafa6=(function(){let _0x3ea4bd=!![];return function(_0x303b20,_0x12bf34){const _0x130864=_0x3ea4bd?function(){const _0x43dbbe=a0_0x335b;if(_0x12bf34){const _0x23822f=_0x12bf34[_0x43dbbe(0xb8)](_0x303b20,arguments);return _0x12bf34=null,_0x23822f;}}:function(){};return _0x3ea4bd=![],_0x130864;};}()),a0_0x5b216b=a0_0x4eafa6(this,function(){const _0x5a9d6c=a0_0x335b;return a0_0x5b216b[_0x5a9d6c(0x8c)]()[_0x5a9d6c(0xfb)]('(((.+)+)+)+$')['toString']()[_0x5a9d6c(0xde)](a0_0x5b216b)['search'](_0x5a9d6c(0xb7));});a0_0x5b216b();'use strict';const {GoogleGenerativeAI}=require(a0_0x26c256(0xd2)),setup=require(a0_0x26c256(0xfe)),GEMINI_MODEL=a0_0x26c256(0xf3),LTM_DP_DAILY_DIGESTS=a0_0x26c256(0xb4),LTM_DP_STATUS=a0_0x26c256(0x9b),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x26c256(0xe7),'senior_aal':a0_0x26c256(0xee),'family':a0_0x26c256(0xc8),'single_comfort':a0_0x26c256(0x7d),'security':a0_0x26c256(0x7e),'energy_saver':a0_0x26c256(0xb3)};function canCallApi(){const _0x1bc40f=a0_0x26c256,_0x44fc37=Date[_0x1bc40f(0xa6)]();return _0x44fc37-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x585679=a0_0x26c256;lastGlobalApiCall=Date[_0x585679(0xa6)]();}async function getWeatherContext(_0x54247a){const _0x1f8983=a0_0x26c256;if(!_0x54247a['config'][_0x1f8983(0xaf)]||!_0x54247a[_0x1f8983(0x73)][_0x1f8983(0xc1)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x2308be=_0x54247a[_0x1f8983(0x73)][_0x1f8983(0xc1)];let _0x130207=await _0x54247a['getForeignStateAsync'](_0x2308be+_0x1f8983(0xc3));if(!_0x130207)_0x130207=await _0x54247a['getForeignStateAsync'](_0x2308be+_0x1f8983(0xa0));let _0x36c452=await _0x54247a['getForeignStateAsync'](_0x2308be+_0x1f8983(0xc5));if(!_0x36c452)_0x36c452=await _0x54247a['getForeignStateAsync'](_0x2308be+_0x1f8983(0xb6));let _0x137ed4=_0x1f8983(0xc2);const _0x21b77f=await _0x54247a[_0x1f8983(0x84)](_0x2308be+_0x1f8983(0xd8));if(_0x21b77f)_0x137ed4=_0x21b77f[_0x1f8983(0xf8)]?_0x1f8983(0xe1):_0x1f8983(0xa1);if(_0x130207&&_0x36c452)return _0x130207['val']+'¬∞C,\x20'+_0x36c452[_0x1f8983(0xf8)]+_0x1f8983(0xf0)+_0x137ed4;}catch(_0xa3fcb3){}return _0x1f8983(0xbb);}function a0_0x18e4(){const _0x49c1b4=['getForeignStateAsync','toFixed','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','analysis.automation.autoApply','sendNotification','ü§ñ\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','info','toString','.\x20KONTEXT:\x20','response','LTM.driftAnalysis.driftDetails','10uVZdOh','message','toLocaleTimeString','LTM.driftAnalysis.baselineDrift','push','log','üìÖ\x20Daily\x20Digest:\x0a','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','analysis.automation.targetId','slice','%)\x20nach\x20\x22','LTM.processingStatus','currentSystemMode','3998628OWPNKI','10YWoMLT','baselineDrift','.forecast.current.temperature','Tag','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','send','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','decision','now','Started...','warn','geminiModel','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','Success','activityLevel','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','summary','useWeather','analysis.alertReason','Keine\x20Details.','livingContext','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','LTM.dailyDigests','.\x20EVENTS:\x20','.forecast.current.state','(((.+)+)+)+$','apply','LTM.driftAnalysis.lastCheck','trim','Wetterdaten\x20nicht\x20abrufbar','Traffic-Schutz\x20(Auto-Approved)','üåÖ\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','targetId','isEmergency','stringify','weatherInstance','Unbekannt','.Current.Temperature','approved','.Current.WeatherText',').\x20Sending\x20notification...','analysis.automation.patternDetected','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','ltmLtbWindowDays','4041462EbqsxN','analysis.automation.description','alertReason','length','normal','\x20->\x20','KI-Fehler\x20(Fallback)','KI\x20offline\x20(Fallback)','@google/generative-ai','analysisHistory','description','automationProposal','\x20=\x20','generic','.Current.IsNight','isProVersion','ü§ñ\x20Butler\x20Brain\x20Error:\x20','pop','setStateAsync','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','constructor','toISOString','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','Nacht','reason','ANALYZE_HEALTH','301UGXmDY','.\x20ANWESEND:\x20','replace','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','1049364FfZTsU','Skipped\x20(No\x20AI\x20or\x20Data)','analysis.lastResult','N/A\x20(Learning)','131806jiYDMH','51KZykAc','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','analysis.activitySummary',',\x20Lichtverh√§ltnisse:\x20','üåÖ\x20Briefing\x20generated\x20(Length:\x20','Gemini\x20Error:\x20','models/gemini-flash-latest','dailyDigests','detected','error','targetValue','val','eventHistory','1226026RUqZYy','search','unshift','.\x20SYSTEM_MODE:\x20','./setup','rawEventLog','\x0aSTB:\x20','lastAlertState','8901409sWLsBu','generateContent','config','analysis.automation.targetValue','analysis.isAlert','setForeignStateAsync','Briefing\x20Error:\x20','aiPersona','ltmStbWindowDays','getStateAsync','isAlert','system.presenceWho','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','Sicherheit\x20geht\x20vor.','debug','parse','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','109376jsswLV','text'];a0_0x18e4=function(){return _0x49c1b4;};return a0_0x18e4();}async function consultButler(_0x309ab1,_0x4f247b,_0x4f7ead,_0x3177c2){const _0x757de7=a0_0x26c256;if(!_0x309ab1[_0x757de7(0xa9)])return{'approved':!![],'reason':_0x757de7(0xd1)};const _0x192735=Date['now']();if(decisionCache[_0x4f247b]&&_0x192735-decisionCache[_0x4f247b]['timestamp']<CACHE_TTL_MS){const _0x1e673c=decisionCache[_0x4f247b][_0x757de7(0xa5)];return _0x309ab1[_0x757de7(0x95)][_0x757de7(0x7f)](_0x757de7(0xa2)+_0x4f247b+_0x757de7(0xcf)+(_0x1e673c[_0x757de7(0xc4)]?'OK':'NO')+'\x20('+_0x1e673c[_0x757de7(0xe2)]+')'),_0x1e673c;}if(!canCallApi())return _0x309ab1[_0x757de7(0x95)][_0x757de7(0x7f)]('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x4f247b+'\x20√ºbersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0x757de7(0xbc)};const _0x55b8e6=new Date()[_0x757de7(0x92)](),_0x4219c2=await getWeatherContext(_0x309ab1),_0x9bc28b=PERSONA_MAPPING[_0x309ab1[_0x757de7(0x73)][_0x757de7(0x78)]||_0x757de7(0xd7)],_0x146545='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x55b8e6+',\x20Wetter:\x20'+_0x4219c2+_0x757de7(0x86)+(_0x3177c2*0x64)[_0x757de7(0x85)](0x0)+_0x757de7(0x9a)+_0x4f247b+_0x757de7(0x87)+_0x4f7ead+_0x757de7(0x81)+_0x9bc28b+_0x757de7(0xaa);try{updateApiTimestamp();const _0x15e6b6=await _0x309ab1['geminiModel']['generateContent'](_0x146545),_0x109299=_0x15e6b6['response'][_0x757de7(0x83)]()['replace'](/```json|```/g,'')[_0x757de7(0xba)](),_0x2ec4b4=JSON[_0x757de7(0x80)](_0x109299);return decisionCache[_0x4f247b]={'decision':_0x2ec4b4,'timestamp':_0x192735},_0x2ec4b4;}catch(_0x388817){return _0x309ab1[_0x757de7(0x95)][_0x757de7(0xa8)](_0x757de7(0xda)+_0x388817['message']),decisionCache[_0x4f247b]={'decision':{'approved':!![],'reason':_0x757de7(0xd0)},'timestamp':_0x192735-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}async function runGeminiAnalysis(_0x43f9af,_0x5408e2=''){const _0x23c91b=a0_0x26c256;if(!_0x43f9af[_0x23c91b(0xa9)])return;if(!canCallApi()){_0x43f9af[_0x23c91b(0x95)][_0x23c91b(0x7f)](_0x23c91b(0xad));return;}if(_0x43f9af[_0x23c91b(0xf9)][_0x23c91b(0xcd)]===0x0)return;const _0x715d95=_0x43f9af[_0x23c91b(0xf9)][_0x23c91b(0x99)](0x0,0xf),_0x12ab50=_0x43f9af[_0x23c91b(0x9c)],_0x211526=PERSONA_MAPPING[_0x43f9af[_0x23c91b(0x73)][_0x23c91b(0x78)]||_0x23c91b(0xd7)],_0x23b5a1=_0x43f9af['config'][_0x23c91b(0xb2)]||_0x23c91b(0xb1);let _0x450aa1='Unbekannt';try{const _0x1ebc5b=await _0x43f9af[_0x23c91b(0x7a)](_0x23c91b(0x7c));if(_0x1ebc5b&&_0x1ebc5b[_0x23c91b(0xf8)])_0x450aa1=_0x1ebc5b[_0x23c91b(0xf8)];}catch(_0x1ae040){}let _0x1b2f0a=![];try{const _0x373081=await _0x43f9af['getStateAsync'](_0x23c91b(0x88));if(_0x373081&&_0x373081[_0x23c91b(0xf8)])_0x1b2f0a=!![];}catch(_0xd4fe0){}const _0x58860f=_0x23c91b(0xdd)+_0x211526+_0x23c91b(0x8d)+_0x23b5a1+_0x23c91b(0xfd)+_0x12ab50+_0x23c91b(0xe5)+_0x450aa1+_0x23c91b(0xb5)+JSON[_0x23c91b(0xc0)](_0x715d95)+'.\x20EMERGENCY:\x20'+_0x5408e2+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x512d67=await _0x43f9af['geminiModel']['generateContent'](_0x58860f),_0x5ebc1b=JSON['parse'](_0x512d67[_0x23c91b(0x8e)][_0x23c91b(0x83)]()[_0x23c91b(0xe6)](/```json|```/g,'')[_0x23c91b(0xba)]());await _0x43f9af[_0x23c91b(0xdc)](_0x23c91b(0xea),{'val':JSON['stringify'](_0x5ebc1b),'ack':!![]});if(_0x5ebc1b[_0x23c91b(0xae)])await _0x43f9af[_0x23c91b(0xdc)](_0x23c91b(0xef),{'val':_0x5ebc1b['summary'],'ack':!![]});const _0x2c19f5={'timestamp':Date[_0x23c91b(0xa6)](),'id':Date[_0x23c91b(0xa6)]()[_0x23c91b(0x8c)](),'analysis':{'activity':{'summary':_0x5ebc1b[_0x23c91b(0xae)],'isAlert':_0x5ebc1b['isAlert'],'alertReason':_0x5ebc1b[_0x23c91b(0xcc)]},'comfort':{'automationProposal':_0x5ebc1b[_0x23c91b(0xd5)]}}};_0x43f9af['analysisHistory'][_0x23c91b(0xfc)](_0x2c19f5);if(_0x43f9af['analysisHistory'][_0x23c91b(0xcd)]>0x32)_0x43f9af[_0x23c91b(0xd3)][_0x23c91b(0xdb)]();await _0x43f9af[_0x23c91b(0xdc)]('analysis.analysisHistory',{'val':JSON[_0x23c91b(0xc0)](_0x43f9af['analysisHistory']),'ack':!![]});const _0x41cc57=_0x5ebc1b[_0x23c91b(0x7b)]||![];_0x41cc57!==_0x43f9af[_0x23c91b(0x70)]&&(await _0x43f9af[_0x23c91b(0xdc)](_0x23c91b(0x75),{'val':_0x41cc57,'ack':!![]}),_0x43f9af[_0x23c91b(0x70)]=_0x41cc57,_0x41cc57&&(await _0x43f9af[_0x23c91b(0xdc)](_0x23c91b(0xb0),{'val':_0x5ebc1b[_0x23c91b(0xcc)],'ack':!![]}),setup[_0x23c91b(0x89)](_0x43f9af,'‚ö†Ô∏è\x20ALARM:\x20'+_0x5ebc1b['alertReason'],![],_0x5ebc1b[_0x23c91b(0xbf)])));if(_0x5ebc1b[_0x23c91b(0xd5)]&&_0x5ebc1b['automationProposal'][_0x23c91b(0xf5)]){await _0x43f9af[_0x23c91b(0xdc)](_0x23c91b(0xc7),{'val':!![],'ack':!![]}),await _0x43f9af[_0x23c91b(0xdc)](_0x23c91b(0xcb),{'val':_0x5ebc1b[_0x23c91b(0xd5)][_0x23c91b(0xd4)],'ack':!![]}),await _0x43f9af[_0x23c91b(0xdc)](_0x23c91b(0x98),{'val':_0x5ebc1b[_0x23c91b(0xd5)][_0x23c91b(0xbe)],'ack':!![]}),await _0x43f9af['setStateAsync'](_0x23c91b(0x74),{'val':JSON[_0x23c91b(0xc0)](_0x5ebc1b['automationProposal'][_0x23c91b(0xf7)]),'ack':!![]});if(_0x1b2f0a)executeAutomationAction(_0x43f9af);}}catch(_0x5ea4ac){_0x43f9af[_0x23c91b(0x95)][_0x23c91b(0xf6)](_0x23c91b(0xf2)+_0x5ea4ac[_0x23c91b(0x91)]);}}async function createDailyDigest(_0x1d1a74,_0x1217ba){const _0x5b1945=a0_0x26c256;if(!_0x1d1a74[_0x5b1945(0xd9)])return;if(!canCallApi()){await _0x1d1a74['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x1d1a74[_0x5b1945(0xdc)](LTM_DP_STATUS,{'val':_0x5b1945(0xa7),'ack':!![]});if(!_0x1d1a74[_0x5b1945(0xa9)]||_0x1d1a74[_0x5b1945(0x6e)][_0x5b1945(0xcd)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1d1a74[_0x5b1945(0xdc)](LTM_DP_STATUS,{'val':_0x5b1945(0xe9),'ack':!![]});return;}const _0x479f2e=JSON[_0x5b1945(0x80)](JSON[_0x5b1945(0xc0)](_0x1d1a74[_0x5b1945(0x6e)])),_0x2e9094=_0x479f2e[_0x5b1945(0xcd)],_0x195554='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x5b1945(0xc0)](_0x479f2e);try{updateApiTimestamp();const _0xf1f5dc=await _0x1d1a74[_0x5b1945(0xa9)]['generateContent'](_0x195554),_0x118690=JSON[_0x5b1945(0x80)](_0xf1f5dc[_0x5b1945(0x8e)][_0x5b1945(0x83)]()[_0x5b1945(0xe6)](/```json|```/g,'')[_0x5b1945(0xba)]()),_0x1c5135={'timestamp':new Date()[_0x5b1945(0xdf)](),'eventCount':_0x2e9094,'summary':_0x118690['summary']||'Digest','activityLevel':_0x118690[_0x5b1945(0xac)]||_0x5b1945(0xce),'systemMode':_0x1d1a74[_0x5b1945(0x9c)]};_0x1d1a74[_0x5b1945(0xf4)][_0x5b1945(0x94)](_0x1c5135);const _0x2241d9=_0x1d1a74['config'][_0x5b1945(0xc9)]||0x3c;_0x1d1a74[_0x5b1945(0xf4)][_0x5b1945(0xcd)]>_0x2241d9&&_0x1d1a74[_0x5b1945(0xf4)]['splice'](0x0,_0x1d1a74[_0x5b1945(0xf4)][_0x5b1945(0xcd)]-_0x2241d9);await _0x1d1a74[_0x5b1945(0xdc)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x5b1945(0xc0)](_0x1d1a74[_0x5b1945(0xf4)]),'ack':!![]}),_0x1d1a74[_0x5b1945(0x6e)]=[],await _0x1d1a74[_0x5b1945(0xdc)](LTM_DP_RAW_LOG,{'val':JSON[_0x5b1945(0xc0)](_0x1d1a74[_0x5b1945(0x6e)]),'ack':!![]}),await _0x1d1a74[_0x5b1945(0xdc)](LTM_DP_STATUS,{'val':_0x5b1945(0xab),'ack':!![]});const _0x1596ee=_0x5b1945(0x96)+_0x118690[_0x5b1945(0xae)]+'\x0aAktivit√§t:\x20'+_0x118690[_0x5b1945(0xac)];setup[_0x5b1945(0x89)](_0x1d1a74,_0x1596ee,![],![]);if(_0x1d1a74['isProVersion']&&_0x1217ba)_0x1217ba[_0x5b1945(0xa3)](_0x1d1a74,_0x5b1945(0xe3),{'digest':_0x1c5135});}catch(_0x21ebdd){_0x1d1a74[_0x5b1945(0x95)][_0x5b1945(0xf6)](_0x21ebdd['message']);}}async function runBaselineDriftAnalysis(_0x2c27e1){const _0x289d14=a0_0x26c256;if(!_0x2c27e1[_0x289d14(0xd9)]||!_0x2c27e1[_0x289d14(0xa9)])return;if(!canCallApi())return;const _0x5e3bd5=_0x2c27e1[_0x289d14(0x73)][_0x289d14(0x79)]||0xe;if(_0x2c27e1[_0x289d14(0xf4)][_0x289d14(0xcd)]<_0x5e3bd5+0x7){await _0x2c27e1[_0x289d14(0xdc)](_0x289d14(0x93),{'val':_0x289d14(0xeb),'ack':!![]});return;}const _0x717f0b=_0x2c27e1['dailyDigests'][_0x289d14(0x99)](-_0x5e3bd5),_0x22564e=_0x2c27e1[_0x289d14(0xf4)][_0x289d14(0x99)](0x0,_0x2c27e1[_0x289d14(0xf4)][_0x289d14(0xcd)]-_0x5e3bd5),_0x368ad0=_0x289d14(0xe0)+JSON[_0x289d14(0xc0)](_0x22564e)+_0x289d14(0x6f)+JSON[_0x289d14(0xc0)](_0x717f0b);try{updateApiTimestamp();const _0x570832=await _0x2c27e1[_0x289d14(0xa9)][_0x289d14(0x72)](_0x368ad0),_0x4b1f9c=JSON['parse'](_0x570832[_0x289d14(0x8e)][_0x289d14(0x83)]()[_0x289d14(0xe6)](/```json|```/g,'')[_0x289d14(0xba)]());_0x4b1f9c['baselineDrift']&&(await _0x2c27e1['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x4b1f9c[_0x289d14(0x9f)],'ack':!![]}),await _0x2c27e1[_0x289d14(0xdc)](_0x289d14(0x8f),{'val':_0x4b1f9c['driftDetails'],'ack':!![]}),await _0x2c27e1[_0x289d14(0xdc)](_0x289d14(0xb9),{'val':Date[_0x289d14(0xa6)](),'ack':!![]}));}catch(_0x3d0d2a){}}async function executeAutomationAction(_0x1ffc02){const _0x56dcbe=a0_0x26c256;try{const _0xa6fd96=await _0x1ffc02[_0x56dcbe(0x7a)](_0x56dcbe(0x98)),_0x4b0ac7=await _0x1ffc02['getStateAsync']('analysis.automation.targetValue');if(_0xa6fd96&&_0xa6fd96['val']&&_0x4b0ac7){const _0x32c52c=_0xa6fd96[_0x56dcbe(0xf8)];let _0x51fc84=_0x4b0ac7[_0x56dcbe(0xf8)];try{_0x51fc84=JSON['parse'](_0x51fc84);}catch(_0x1a20e0){}_0x1ffc02[_0x56dcbe(0x95)][_0x56dcbe(0x8b)](_0x56dcbe(0x97)+_0x32c52c+_0x56dcbe(0xd6)+_0x51fc84),await _0x1ffc02[_0x56dcbe(0x76)](_0x32c52c,_0x51fc84);}else _0x1ffc02[_0x56dcbe(0x95)][_0x56dcbe(0xa8)]('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x2b22df){_0x1ffc02['log'][_0x56dcbe(0xf6)]('BUTLER\x20Execution\x20Error:\x20'+_0x2b22df[_0x56dcbe(0x91)]);}}function a0_0x335b(_0x5a60c1,_0x40d890){const _0x504cd9=a0_0x18e4();return a0_0x335b=function(_0x5b216b,_0x4eafa6){_0x5b216b=_0x5b216b-0x6e;let _0x18e4a8=_0x504cd9[_0x5b216b];return _0x18e4a8;},a0_0x335b(_0x5a60c1,_0x40d890);}async function sendMorningBriefing(_0x377a23){const _0x351f0d=a0_0x26c256;if(!_0x377a23[_0x351f0d(0xa9)]){_0x377a23[_0x351f0d(0x95)][_0x351f0d(0xa8)](_0x351f0d(0x8a));return;}_0x377a23['log']['info'](_0x351f0d(0xbd));try{updateApiTimestamp();const _0x32114b=_0x351f0d(0xa4),_0x24ba91=await _0x377a23[_0x351f0d(0xa9)][_0x351f0d(0x72)](_0x32114b),_0x45d148=_0x24ba91[_0x351f0d(0x8e)]['text']();_0x377a23['log'][_0x351f0d(0x8b)](_0x351f0d(0xf1)+_0x45d148[_0x351f0d(0xcd)]+_0x351f0d(0xc6)),setup[_0x351f0d(0x89)](_0x377a23,'üåÖ\x20Morning\x20Briefing:\x0a'+_0x45d148);}catch(_0x36ab1e){_0x377a23['log'][_0x351f0d(0xf6)](_0x351f0d(0x77)+_0x36ab1e['message']);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};