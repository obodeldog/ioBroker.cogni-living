const a0_0x33bf05=a0_0x5e75;(function(_0x4eb86f,_0x206ffa){const _0x522e15=a0_0x5e75,_0x17b905=_0x4eb86f();while(!![]){try{const _0x24c0d5=-parseInt(_0x522e15(0x1a2))/0x1+parseInt(_0x522e15(0x14c))/0x2*(-parseInt(_0x522e15(0x1c9))/0x3)+parseInt(_0x522e15(0x152))/0x4+parseInt(_0x522e15(0x1ac))/0x5*(-parseInt(_0x522e15(0x181))/0x6)+parseInt(_0x522e15(0x1bd))/0x7+-parseInt(_0x522e15(0x177))/0x8*(-parseInt(_0x522e15(0x1ba))/0x9)+parseInt(_0x522e15(0x17b))/0xa*(parseInt(_0x522e15(0x1a0))/0xb);if(_0x24c0d5===_0x206ffa)break;else _0x17b905['push'](_0x17b905['shift']());}catch(_0x7450e5){_0x17b905['push'](_0x17b905['shift']());}}}(a0_0x4415,0x512c4));const a0_0x41ae98=(function(){let _0x5c4256=!![];return function(_0x2d6e7c,_0x459765){const _0xefe74c=_0x5c4256?function(){if(_0x459765){const _0x51e256=_0x459765['apply'](_0x2d6e7c,arguments);return _0x459765=null,_0x51e256;}}:function(){};return _0x5c4256=![],_0xefe74c;};}()),a0_0x585029=a0_0x41ae98(this,function(){const _0x40dca8=a0_0x5e75;return a0_0x585029[_0x40dca8(0x184)]()[_0x40dca8(0x1b4)](_0x40dca8(0x1a4))['toString']()[_0x40dca8(0x1d4)](a0_0x585029)['search'](_0x40dca8(0x1a4));});a0_0x585029();'use strict';const {GoogleGenerativeAI}=require(a0_0x33bf05(0x15f)),setup=require(a0_0x33bf05(0x170)),GEMINI_MODEL=a0_0x33bf05(0x176),LTM_DP_DAILY_DIGESTS=a0_0x33bf05(0x18f),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x33bf05(0x174),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x33bf05(0x1d7),'family':a0_0x33bf05(0x1ae),'single_comfort':a0_0x33bf05(0x156),'security':a0_0x33bf05(0x14b),'energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x317b4d=a0_0x33bf05,_0x590a31=Date[_0x317b4d(0x1b8)]();return _0x590a31-lastGlobalApiCall>MIN_API_GAP_MS;}function a0_0x5e75(_0x1bfdaf,_0x3aadc7){const _0x17bd6c=a0_0x4415();return a0_0x5e75=function(_0x585029,_0x41ae98){_0x585029=_0x585029-0x14a;let _0x4415b1=_0x17bd6c[_0x585029];return _0x4415b1;},a0_0x5e75(_0x1bfdaf,_0x3aadc7);}function updateApiTimestamp(){const _0x45689b=a0_0x33bf05;lastGlobalApiCall=Date[_0x45689b(0x1b8)]();}async function getWeatherContext(_0x5b00d4){const _0x5a09cc=a0_0x33bf05;if(!_0x5b00d4['config'][_0x5a09cc(0x164)]||!_0x5b00d4[_0x5a09cc(0x19d)]['weatherInstance'])return _0x5a09cc(0x1ad);try{const _0x31c586=_0x5b00d4[_0x5a09cc(0x19d)][_0x5a09cc(0x16a)];let _0x3a42f1=await _0x5b00d4[_0x5a09cc(0x158)](_0x31c586+_0x5a09cc(0x1c8));if(!_0x3a42f1)_0x3a42f1=await _0x5b00d4[_0x5a09cc(0x158)](_0x31c586+'.forecast.current.temperature');let _0x549155=await _0x5b00d4['getForeignStateAsync'](_0x31c586+_0x5a09cc(0x17d));if(!_0x549155)_0x549155=await _0x5b00d4['getForeignStateAsync'](_0x31c586+_0x5a09cc(0x183));let _0x49b342=_0x5a09cc(0x18e);const _0x28c8ae=await _0x5b00d4[_0x5a09cc(0x158)](_0x31c586+_0x5a09cc(0x157));if(_0x28c8ae)_0x49b342=_0x28c8ae['val']?_0x5a09cc(0x185):_0x5a09cc(0x165);if(_0x3a42f1&&_0x549155)return _0x3a42f1[_0x5a09cc(0x1b5)]+_0x5a09cc(0x193)+_0x549155['val']+_0x5a09cc(0x159)+_0x49b342;}catch(_0x3768cb){}return _0x5a09cc(0x16b);}async function consultButler(_0x2a5591,_0x1c1990,_0xbe1224,_0x32bb85){const _0x48f8cd=a0_0x33bf05;if(!_0x2a5591[_0x48f8cd(0x1d6)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x4384f3=Date[_0x48f8cd(0x1b8)]();if(decisionCache[_0x1c1990]&&_0x4384f3-decisionCache[_0x1c1990][_0x48f8cd(0x1ca)]<CACHE_TTL_MS){const _0x561204=decisionCache[_0x1c1990][_0x48f8cd(0x18b)];return _0x2a5591[_0x48f8cd(0x18c)][_0x48f8cd(0x169)](_0x48f8cd(0x1b0)+_0x1c1990+_0x48f8cd(0x1cd)+(_0x561204[_0x48f8cd(0x14d)]?'OK':'NO')+'\x20('+_0x561204[_0x48f8cd(0x168)]+')'),_0x561204;}if(!canCallApi())return _0x2a5591[_0x48f8cd(0x18c)]['debug'](_0x48f8cd(0x180)+_0x1c1990+_0x48f8cd(0x1cc)),{'approved':!![],'reason':_0x48f8cd(0x1c1)};const _0x1265a9=new Date()[_0x48f8cd(0x1d0)](),_0x230fbd=await getWeatherContext(_0x2a5591),_0x33b28d=PERSONA_MAPPING[_0x2a5591[_0x48f8cd(0x19d)][_0x48f8cd(0x1a5)]||'generic'],_0x359648=_0x48f8cd(0x1d2)+_0x1265a9+_0x48f8cd(0x1aa)+_0x230fbd+_0x48f8cd(0x175)+(_0x32bb85*0x64)['toFixed'](0x0)+_0x48f8cd(0x199)+_0x1c1990+_0x48f8cd(0x1cb)+_0xbe1224+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x33b28d+_0x48f8cd(0x1cf);try{updateApiTimestamp();const _0x454753=await _0x2a5591[_0x48f8cd(0x1d6)]['generateContent'](_0x359648),_0x35c28b=_0x454753[_0x48f8cd(0x178)][_0x48f8cd(0x1d5)]()[_0x48f8cd(0x179)](/```json|```/g,'')['trim'](),_0x5ef4f9=JSON[_0x48f8cd(0x18d)](_0x35c28b);return decisionCache[_0x1c1990]={'decision':_0x5ef4f9,'timestamp':_0x4384f3},_0x5ef4f9;}catch(_0x550b6b){return _0x2a5591[_0x48f8cd(0x18c)][_0x48f8cd(0x1b6)](_0x48f8cd(0x195)+_0x550b6b['message']),decisionCache[_0x1c1990]={'decision':{'approved':!![],'reason':_0x48f8cd(0x1a7)},'timestamp':_0x4384f3-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x48f8cd(0x1a7)};}}async function runGeminiAnalysis(_0x56266d,_0xa2c014=''){const _0x303a4d=a0_0x33bf05;if(!_0x56266d[_0x303a4d(0x1d6)])return;if(!canCallApi()){_0x56266d[_0x303a4d(0x18c)][_0x303a4d(0x169)](_0x303a4d(0x187));return;}if(_0x56266d['eventHistory'][_0x303a4d(0x1d3)]===0x0)return;const _0x121993=_0x56266d[_0x303a4d(0x161)][_0x303a4d(0x17e)](0x0,0xf),_0x598a74=_0x56266d[_0x303a4d(0x1bc)],_0x39b8d7=PERSONA_MAPPING[_0x56266d[_0x303a4d(0x19d)][_0x303a4d(0x1a5)]||_0x303a4d(0x19e)],_0x2986b6=_0x56266d[_0x303a4d(0x19d)]['livingContext']||_0x303a4d(0x17a);let _0x276086=_0x303a4d(0x18e);try{const _0x14edc6=await _0x56266d[_0x303a4d(0x153)]('system.presenceWho');if(_0x14edc6&&_0x14edc6[_0x303a4d(0x1b5)])_0x276086=_0x14edc6['val'];}catch(_0x416600){}let _0x5c860f=![];try{const _0x1e6fb7=await _0x56266d[_0x303a4d(0x153)](_0x303a4d(0x1d1));if(_0x1e6fb7&&_0x1e6fb7['val'])_0x5c860f=!![];}catch(_0x11908d){}const _0x4c3583=_0x303a4d(0x1c5)+_0x39b8d7+_0x303a4d(0x189)+_0x2986b6+_0x303a4d(0x1ce)+_0x598a74+_0x303a4d(0x16f)+_0x276086+'.\x20EVENTS:\x20'+JSON[_0x303a4d(0x1bf)](_0x121993)+_0x303a4d(0x1b7)+_0xa2c014+_0x303a4d(0x14e);try{updateApiTimestamp();const _0x19ef09=await _0x56266d[_0x303a4d(0x1d6)]['generateContent'](_0x4c3583),_0x20bc04=JSON[_0x303a4d(0x18d)](_0x19ef09[_0x303a4d(0x178)][_0x303a4d(0x1d5)]()[_0x303a4d(0x179)](/```json|```/g,'')['trim']());await _0x56266d[_0x303a4d(0x1b9)]('analysis.lastResult',{'val':JSON[_0x303a4d(0x1bf)](_0x20bc04),'ack':!![]});if(_0x20bc04['summary'])await _0x56266d[_0x303a4d(0x1b9)]('analysis.activitySummary',{'val':_0x20bc04[_0x303a4d(0x197)],'ack':!![]});const _0x8050db={'timestamp':Date[_0x303a4d(0x1b8)](),'id':Date[_0x303a4d(0x1b8)]()['toString'](),'analysis':{'activity':{'summary':_0x20bc04[_0x303a4d(0x197)],'isAlert':_0x20bc04[_0x303a4d(0x163)],'alertReason':_0x20bc04[_0x303a4d(0x186)]},'comfort':{'automationProposal':_0x20bc04[_0x303a4d(0x1bb)]}}};_0x56266d['analysisHistory'][_0x303a4d(0x1c3)](_0x8050db);if(_0x56266d[_0x303a4d(0x16e)][_0x303a4d(0x1d3)]>0x32)_0x56266d[_0x303a4d(0x16e)][_0x303a4d(0x150)]();await _0x56266d[_0x303a4d(0x1b9)](_0x303a4d(0x19c),{'val':JSON[_0x303a4d(0x1bf)](_0x56266d[_0x303a4d(0x16e)]),'ack':!![]});const _0x172acf=_0x20bc04[_0x303a4d(0x163)]||![];_0x172acf!==_0x56266d['lastAlertState']&&(await _0x56266d[_0x303a4d(0x1b9)](_0x303a4d(0x182),{'val':_0x172acf,'ack':!![]}),_0x56266d[_0x303a4d(0x191)]=_0x172acf,_0x172acf&&(await _0x56266d[_0x303a4d(0x1b9)](_0x303a4d(0x19b),{'val':_0x20bc04['alertReason'],'ack':!![]}),setup['sendNotification'](_0x56266d,_0x303a4d(0x1a9)+_0x20bc04[_0x303a4d(0x186)],![],_0x20bc04[_0x303a4d(0x1c0)])));if(_0x20bc04[_0x303a4d(0x1bb)]&&_0x20bc04[_0x303a4d(0x1bb)][_0x303a4d(0x19f)]){await _0x56266d[_0x303a4d(0x1b9)](_0x303a4d(0x1b2),{'val':!![],'ack':!![]}),await _0x56266d[_0x303a4d(0x1b9)]('analysis.automation.description',{'val':_0x20bc04[_0x303a4d(0x1bb)]['description'],'ack':!![]}),await _0x56266d[_0x303a4d(0x1b9)](_0x303a4d(0x1ab),{'val':_0x20bc04[_0x303a4d(0x1bb)][_0x303a4d(0x15b)],'ack':!![]}),await _0x56266d['setStateAsync'](_0x303a4d(0x18a),{'val':JSON['stringify'](_0x20bc04[_0x303a4d(0x1bb)][_0x303a4d(0x1c4)]),'ack':!![]});if(_0x5c860f)executeAutomationAction(_0x56266d);}}catch(_0x1b824d){_0x56266d[_0x303a4d(0x18c)][_0x303a4d(0x188)](_0x303a4d(0x16c)+_0x1b824d[_0x303a4d(0x1c6)]);}}async function createDailyDigest(_0x1f65df,_0x1c621c){const _0x3db131=a0_0x33bf05;if(!_0x1f65df[_0x3db131(0x15a)])return;if(!canCallApi()){await _0x1f65df[_0x3db131(0x1b9)](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x1f65df['setStateAsync'](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x1f65df[_0x3db131(0x1d6)]||_0x1f65df[_0x3db131(0x1c2)][_0x3db131(0x1d3)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1f65df[_0x3db131(0x1b9)](LTM_DP_STATUS,{'val':_0x3db131(0x155),'ack':!![]});return;}const _0x34e361=JSON[_0x3db131(0x18d)](JSON[_0x3db131(0x1bf)](_0x1f65df['rawEventLog'])),_0x3fb448=_0x34e361[_0x3db131(0x1d3)],_0x17ab0d=_0x3db131(0x190)+JSON['stringify'](_0x34e361);try{updateApiTimestamp();const _0x140300=await _0x1f65df[_0x3db131(0x1d6)][_0x3db131(0x15c)](_0x17ab0d),_0x1f19d6=JSON['parse'](_0x140300[_0x3db131(0x178)]['text']()['replace'](/```json|```/g,'')[_0x3db131(0x1b1)]()),_0x41fdf9={'timestamp':new Date()[_0x3db131(0x196)](),'eventCount':_0x3fb448,'summary':_0x1f19d6['summary']||_0x3db131(0x1c7),'activityLevel':_0x1f19d6[_0x3db131(0x151)]||'normal','systemMode':_0x1f65df[_0x3db131(0x1bc)]};_0x1f65df['dailyDigests'][_0x3db131(0x1a1)](_0x41fdf9);const _0x5a56b4=_0x1f65df[_0x3db131(0x19d)][_0x3db131(0x154)]||0x3c;_0x1f65df[_0x3db131(0x1b3)][_0x3db131(0x1d3)]>_0x5a56b4&&_0x1f65df[_0x3db131(0x1b3)][_0x3db131(0x194)](0x0,_0x1f65df[_0x3db131(0x1b3)][_0x3db131(0x1d3)]-_0x5a56b4);await _0x1f65df[_0x3db131(0x1b9)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x3db131(0x1bf)](_0x1f65df['dailyDigests']),'ack':!![]}),_0x1f65df['rawEventLog']=[],await _0x1f65df[_0x3db131(0x1b9)](LTM_DP_RAW_LOG,{'val':JSON[_0x3db131(0x1bf)](_0x1f65df['rawEventLog']),'ack':!![]}),await _0x1f65df['setStateAsync'](LTM_DP_STATUS,{'val':_0x3db131(0x198),'ack':!![]});const _0x49da98=_0x3db131(0x166)+_0x1f19d6[_0x3db131(0x197)]+_0x3db131(0x15d)+_0x1f19d6['activityLevel'];setup[_0x3db131(0x17c)](_0x1f65df,_0x49da98,![],![]);if(_0x1f65df[_0x3db131(0x15a)]&&_0x1c621c)_0x1c621c[_0x3db131(0x1a6)](_0x1f65df,'ANALYZE_HEALTH',{'digest':_0x41fdf9});}catch(_0x1949f8){_0x1f65df[_0x3db131(0x18c)][_0x3db131(0x188)](_0x1949f8['message']);}}function a0_0x4415(){const _0x133e2d=['.forecast.current.state','toString','Nacht','alertReason','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','error','.\x20KONTEXT:\x20','analysis.automation.targetValue','decision','log','parse','Unbekannt','LTM.dailyDigests','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','lastAlertState','N/A\x20(Learning)','Â°C,\x20','splice','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','toISOString','summary','Success','%)\x20nach\x20\x22','LTM.driftAnalysis.lastCheck','analysis.alertReason','analysis.analysisHistory','config','generic','detected','11ZhxuXC','push','558447dpjFum','exports','(((.+)+)+)+$','aiPersona','send','KI-Fehler\x20(Fallback)','baselineDrift','âš ï¸\x20ALARM:\x20',',\x20Wetter:\x20','analysis.automation.targetId','195XETwnS','Unbekannt\x20(Kein\x20Sensor)','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','driftDetails','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','trim','analysis.automation.patternDetected','dailyDigests','search','val','warn','.\x20EMERGENCY:\x20','now','setStateAsync','631368pKuClj','automationProposal','currentSystemMode','4037047UGDJFz','setForeignStateAsync','stringify','isEmergency','Traffic-Schutz\x20(Auto-Approved)','rawEventLog','unshift','targetValue','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','message','Digest','.Current.Temperature','18iDKGtE','timestamp','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','\x20Ã¼bersprungen\x20(Auto-Approved).','\x20->\x20','.\x20SYSTEM_MODE:\x20','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','toLocaleTimeString','analysis.automation.autoApply','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','length','constructor','text','geminiModel','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','LTM.driftAnalysis.baselineDrift','Sicherheit\x20geht\x20vor.','11204oGvTlC','approved','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','ltmStbWindowDays','pop','activityLevel','1203996LhnUSy','getStateAsync','ltmLtbWindowDays','Skipped\x20(No\x20AI\x20or\x20Data)','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','.Current.IsNight','getForeignStateAsync',',\x20LichtverhÃ¤ltnisse:\x20','isProVersion','targetId','generateContent','\x0aAktivitÃ¤t:\x20','ðŸ¤–\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','@google/generative-ai','BUTLER\x20Execution\x20Error:\x20','eventHistory','ðŸŒ…\x20Morning\x20Briefing:\x0a','isAlert','useWeather','Tag','ðŸ“…\x20Daily\x20Digest:\x0a','\x0aSTB:\x20','reason','debug','weatherInstance','Wetterdaten\x20nicht\x20abrufbar','Gemini\x20Error:\x20',').\x20Sending\x20notification...','analysisHistory','.\x20ANWESEND:\x20','./setup','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','LTM.driftAnalysis.driftDetails','LTM.rawEventLog','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','models/gemini-flash-latest','32ivvOaS','response','replace','Keine\x20Details.','1888580vEupiO','sendNotification','.Current.WeatherText','slice','info','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','65022ILqtjY','analysis.isAlert'];a0_0x4415=function(){return _0x133e2d;};return a0_0x4415();}async function runBaselineDriftAnalysis(_0x1f58c0){const _0x1dc0e6=a0_0x33bf05;if(!_0x1f58c0[_0x1dc0e6(0x15a)]||!_0x1f58c0[_0x1dc0e6(0x1d6)])return;if(!canCallApi())return;const _0x56bd1e=_0x1f58c0[_0x1dc0e6(0x19d)][_0x1dc0e6(0x14f)]||0xe;if(_0x1f58c0[_0x1dc0e6(0x1b3)]['length']<_0x56bd1e+0x7){await _0x1f58c0[_0x1dc0e6(0x1b9)](_0x1dc0e6(0x14a),{'val':_0x1dc0e6(0x192),'ack':!![]});return;}const _0x4b6000=_0x1f58c0[_0x1dc0e6(0x1b3)]['slice'](-_0x56bd1e),_0xcbc3f9=_0x1f58c0['dailyDigests'][_0x1dc0e6(0x17e)](0x0,_0x1f58c0[_0x1dc0e6(0x1b3)][_0x1dc0e6(0x1d3)]-_0x56bd1e),_0x43e55c='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x1dc0e6(0x1bf)](_0xcbc3f9)+_0x1dc0e6(0x167)+JSON[_0x1dc0e6(0x1bf)](_0x4b6000);try{updateApiTimestamp();const _0x30b287=await _0x1f58c0[_0x1dc0e6(0x1d6)]['generateContent'](_0x43e55c),_0x1dc87e=JSON[_0x1dc0e6(0x18d)](_0x30b287[_0x1dc0e6(0x178)][_0x1dc0e6(0x1d5)]()[_0x1dc0e6(0x179)](/```json|```/g,'')['trim']());_0x1dc87e[_0x1dc0e6(0x1a8)]&&(await _0x1f58c0[_0x1dc0e6(0x1b9)]('LTM.driftAnalysis.baselineDrift',{'val':_0x1dc87e[_0x1dc0e6(0x1a8)],'ack':!![]}),await _0x1f58c0['setStateAsync'](_0x1dc0e6(0x173),{'val':_0x1dc87e[_0x1dc0e6(0x1af)],'ack':!![]}),await _0x1f58c0[_0x1dc0e6(0x1b9)](_0x1dc0e6(0x19a),{'val':Date[_0x1dc0e6(0x1b8)](),'ack':!![]}));}catch(_0x5f30b1){}}async function executeAutomationAction(_0x1b85f9){const _0x1f898b=a0_0x33bf05;try{const _0x35c035=await _0x1b85f9[_0x1f898b(0x153)](_0x1f898b(0x1ab)),_0x2f558f=await _0x1b85f9[_0x1f898b(0x153)](_0x1f898b(0x18a));if(_0x35c035&&_0x35c035[_0x1f898b(0x1b5)]&&_0x2f558f){const _0x1cc28e=_0x35c035[_0x1f898b(0x1b5)];let _0x563880=_0x2f558f[_0x1f898b(0x1b5)];try{_0x563880=JSON[_0x1f898b(0x18d)](_0x563880);}catch(_0x2066b2){}_0x1b85f9[_0x1f898b(0x18c)][_0x1f898b(0x17f)](_0x1f898b(0x172)+_0x1cc28e+'\x20=\x20'+_0x563880),await _0x1b85f9[_0x1f898b(0x1be)](_0x1cc28e,_0x563880);}else _0x1b85f9[_0x1f898b(0x18c)][_0x1f898b(0x1b6)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x52d072){_0x1b85f9[_0x1f898b(0x18c)][_0x1f898b(0x188)](_0x1f898b(0x160)+_0x52d072[_0x1f898b(0x1c6)]);}}async function sendMorningBriefing(_0x3c0d25){const _0x4f2550=a0_0x33bf05;if(!_0x3c0d25[_0x4f2550(0x1d6)]){_0x3c0d25[_0x4f2550(0x18c)]['warn'](_0x4f2550(0x15e));return;}_0x3c0d25[_0x4f2550(0x18c)][_0x4f2550(0x17f)]('ðŸŒ…\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...');try{updateApiTimestamp();const _0x1b2abf=_0x4f2550(0x171),_0x52b6da=await _0x3c0d25[_0x4f2550(0x1d6)][_0x4f2550(0x15c)](_0x1b2abf),_0x46d4a6=_0x52b6da[_0x4f2550(0x178)][_0x4f2550(0x1d5)]();_0x3c0d25[_0x4f2550(0x18c)][_0x4f2550(0x17f)]('ðŸŒ…\x20Briefing\x20generated\x20(Length:\x20'+_0x46d4a6[_0x4f2550(0x1d3)]+_0x4f2550(0x16d)),setup[_0x4f2550(0x17c)](_0x3c0d25,_0x4f2550(0x162)+_0x46d4a6);}catch(_0x44e3d7){_0x3c0d25[_0x4f2550(0x18c)][_0x4f2550(0x188)]('Briefing\x20Error:\x20'+_0x44e3d7[_0x4f2550(0x1c6)]);}}module[a0_0x33bf05(0x1a3)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};