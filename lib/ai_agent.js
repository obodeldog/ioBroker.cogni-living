const a0_0x5e2211=a0_0x14b5;(function(_0x2b776c,_0x217feb){const _0x4ac946=a0_0x14b5,_0x2697a3=_0x2b776c();while(!![]){try{const _0xec737e=parseInt(_0x4ac946(0x182))/0x1*(-parseInt(_0x4ac946(0x1da))/0x2)+-parseInt(_0x4ac946(0x19d))/0x3*(-parseInt(_0x4ac946(0x18e))/0x4)+-parseInt(_0x4ac946(0x17a))/0x5*(parseInt(_0x4ac946(0x187))/0x6)+-parseInt(_0x4ac946(0x1d1))/0x7+parseInt(_0x4ac946(0x197))/0x8*(parseInt(_0x4ac946(0x1a6))/0x9)+parseInt(_0x4ac946(0x1d7))/0xa+parseInt(_0x4ac946(0x194))/0xb;if(_0xec737e===_0x217feb)break;else _0x2697a3['push'](_0x2697a3['shift']());}catch(_0x258724){_0x2697a3['push'](_0x2697a3['shift']());}}}(a0_0x150b,0x55301));const a0_0x153093=(function(){let _0x1aa92f=!![];return function(_0x3e1cf8,_0x411beb){const _0x1183c8=_0x1aa92f?function(){if(_0x411beb){const _0x272970=_0x411beb['apply'](_0x3e1cf8,arguments);return _0x411beb=null,_0x272970;}}:function(){};return _0x1aa92f=![],_0x1183c8;};}()),a0_0x98ea1d=a0_0x153093(this,function(){const _0x3fcac8=a0_0x14b5;return a0_0x98ea1d['toString']()[_0x3fcac8(0x1ad)](_0x3fcac8(0x1b1))['toString']()[_0x3fcac8(0x1ca)](a0_0x98ea1d)[_0x3fcac8(0x1ad)]('(((.+)+)+)+$');});a0_0x98ea1d();function a0_0x14b5(_0x5ac28a,_0x1c78a2){const _0x1b2ee2=a0_0x150b();return a0_0x14b5=function(_0x98ea1d,_0x153093){_0x98ea1d=_0x98ea1d-0x16a;let _0x150b05=_0x1b2ee2[_0x98ea1d];return _0x150b05;},a0_0x14b5(_0x5ac28a,_0x1c78a2);}'use strict';const {GoogleGenerativeAI}=require(a0_0x5e2211(0x1d3)),setup=require('./setup'),GEMINI_MODEL=a0_0x5e2211(0x1bb),LTM_DP_DAILY_DIGESTS=a0_0x5e2211(0x1cf),LTM_DP_STATUS=a0_0x5e2211(0x1dd),LTM_DP_RAW_LOG=a0_0x5e2211(0x184),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x5e2211(0x188),'senior_aal':a0_0x5e2211(0x195),'family':a0_0x5e2211(0x1d8),'single_comfort':a0_0x5e2211(0x1b4),'security':a0_0x5e2211(0x1ea),'energy_saver':a0_0x5e2211(0x19b)};function canCallApi(){const _0x4dbe52=a0_0x5e2211,_0x132d8a=Date[_0x4dbe52(0x16c)]();return _0x132d8a-lastGlobalApiCall>MIN_API_GAP_MS;}function a0_0x150b(){const _0x5b9b35=['.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','dailyDigests','LTM.driftAnalysis.lastCheck','¬∞C,\x20','now','currentSystemMode','length','reason','targetValue','decision','toFixed','push','error','rawEventLog','Started...','BUTLER\x20Execution\x20Error:\x20','activityLevel','.forecast.current.state','190OPmAGg','üåÖ\x20Morning\x20Briefing:\x0a','analysis.activitySummary','exports','aiPersona','.Current.Temperature','analysis.automation.patternDetected','stringify','576277OvMtim','approved','LTM.rawEventLog','val','.forecast.current.temperature','39432WKVtPL','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','ANALYZE_HEALTH','toString','lastAlertState','pop','description','2612836HTvrmt','.Current.WeatherText','splice','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','isEmergency','Digest','2547512PVMPym','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','Skipped\x20(Traffic)','1760656VZpQAn','generateContent','setStateAsync','analysis.automation.targetId','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','KI\x20offline\x20(Fallback)','3jaFKYR','.\x20EMERGENCY:\x20','timestamp','warn','targetId','info','message','analysisHistory','.\x20ANWESEND:\x20','9EmGQVI','response','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','replace','\x20√ºbersprungen\x20(Auto-Approved).','slice','summary','search','send','ltmStbWindowDays','log','(((.+)+)+)+$','useWeather','geminiModel','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','driftDetails','ü§ñ\x20Butler\x20Brain\x20Error:\x20','analysis.isAlert','normal','livingContext','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','models/gemini-flash-latest','unshift','\x20->\x20','automationProposal','trim','generic','isProVersion','getForeignStateAsync','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','alertReason','analysis.alertReason','‚ö†Ô∏è\x20ALARM:\x20','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','LTM.driftAnalysis.baselineDrift','constructor','parse','.\x20KONTEXT:\x20','Wetterdaten\x20nicht\x20abrufbar','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','LTM.dailyDigests','getStateAsync','1360023NzMlck','Keine\x20Details.','@google/generative-ai','sendNotification','%)\x20nach\x20\x22','config','2643480rHTpoJ','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','Traffic-Schutz\x20(Auto-Approved)','2ozImpf','system.presenceWho','toLocaleTimeString','LTM.processingStatus','.Current.IsNight','analysis.analysisHistory','baselineDrift','LTM.driftAnalysis.driftDetails','debug','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','KI-Fehler\x20(Fallback)','Briefing\x20Error:\x20','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','text','Skipped\x20(No\x20AI\x20or\x20Data)','analysis.automation.targetValue','Sicherheit\x20geht\x20vor.'];a0_0x150b=function(){return _0x5b9b35;};return a0_0x150b();}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x299be4){const _0x332993=a0_0x5e2211;if(!_0x299be4['config'][_0x332993(0x1b2)]||!_0x299be4['config']['weatherInstance'])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0xdb751f=_0x299be4[_0x332993(0x1d6)]['weatherInstance'];let _0x26c9dd=await _0x299be4[_0x332993(0x1c2)](_0xdb751f+_0x332993(0x17f));if(!_0x26c9dd)_0x26c9dd=await _0x299be4[_0x332993(0x1c2)](_0xdb751f+_0x332993(0x186));let _0x48cfff=await _0x299be4[_0x332993(0x1c2)](_0xdb751f+_0x332993(0x18f));if(!_0x48cfff)_0x48cfff=await _0x299be4['getForeignStateAsync'](_0xdb751f+_0x332993(0x179));let _0x555804='Unbekannt';const _0x5c3ec7=await _0x299be4['getForeignStateAsync'](_0xdb751f+_0x332993(0x1de));if(_0x5c3ec7)_0x555804=_0x5c3ec7[_0x332993(0x185)]?'Nacht':'Tag';if(_0x26c9dd&&_0x48cfff)return _0x26c9dd[_0x332993(0x185)]+_0x332993(0x16b)+_0x48cfff['val']+',\x20Lichtverh√§ltnisse:\x20'+_0x555804;}catch(_0x53fe73){}return _0x332993(0x1cd);}async function consultButler(_0x4850e4,_0x247c11,_0x3f8a62,_0x2ddffb){const _0xe50c85=a0_0x5e2211;if(!_0x4850e4[_0xe50c85(0x1b3)])return{'approved':!![],'reason':_0xe50c85(0x19c)};const _0x167c93=Date['now']();if(decisionCache[_0x247c11]&&_0x167c93-decisionCache[_0x247c11][_0xe50c85(0x19f)]<CACHE_TTL_MS){const _0x4a1325=decisionCache[_0x247c11][_0xe50c85(0x171)];return _0x4850e4[_0xe50c85(0x1b0)]['debug']('ü§ñ\x20Butler\x20Cache\x20Hit:\x20'+_0x247c11+_0xe50c85(0x1bd)+(_0x4a1325[_0xe50c85(0x183)]?'OK':'NO')+'\x20('+_0x4a1325[_0xe50c85(0x16f)]+')'),_0x4a1325;}if(!canCallApi())return _0x4850e4[_0xe50c85(0x1b0)][_0xe50c85(0x1e2)](_0xe50c85(0x191)+_0x247c11+_0xe50c85(0x1aa)),{'approved':!![],'reason':_0xe50c85(0x1d9)};const _0x225468=new Date()[_0xe50c85(0x1dc)](),_0xcea42c=await getWeatherContext(_0x4850e4),_0x5cdabf=PERSONA_MAPPING[_0x4850e4[_0xe50c85(0x1d6)][_0xe50c85(0x17e)]||_0xe50c85(0x1c0)],_0x488890=_0xe50c85(0x1a8)+_0x225468+',\x20Wetter:\x20'+_0xcea42c+_0xe50c85(0x1eb)+(_0x2ddffb*0x64)[_0xe50c85(0x172)](0x0)+_0xe50c85(0x1d5)+_0x247c11+_0xe50c85(0x1c3)+_0x3f8a62+_0xe50c85(0x1e3)+_0x5cdabf+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x1f4c51=await _0x4850e4[_0xe50c85(0x1b3)][_0xe50c85(0x198)](_0x488890),_0x2adb79=_0x1f4c51[_0xe50c85(0x1a7)]['text']()['replace'](/```json|```/g,'')['trim'](),_0x2c19a2=JSON['parse'](_0x2adb79);return decisionCache[_0x247c11]={'decision':_0x2c19a2,'timestamp':_0x167c93},_0x2c19a2;}catch(_0x454cbd){return _0x4850e4[_0xe50c85(0x1b0)][_0xe50c85(0x1a0)](_0xe50c85(0x1b6)+_0x454cbd['message']),decisionCache[_0x247c11]={'decision':{'approved':!![],'reason':_0xe50c85(0x1e4)},'timestamp':_0x167c93-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0xe50c85(0x1e4)};}}async function runGeminiAnalysis(_0x353fb8,_0x617cfa=''){const _0x194293=a0_0x5e2211;if(!_0x353fb8['geminiModel'])return;if(!canCallApi()){_0x353fb8[_0x194293(0x1b0)][_0x194293(0x1e2)](_0x194293(0x1c4));return;}if(_0x353fb8['eventHistory'][_0x194293(0x16e)]===0x0)return;const _0x380e11=_0x353fb8['eventHistory'][_0x194293(0x1ab)](0x0,0xf),_0xf9df41=_0x353fb8[_0x194293(0x16d)],_0x553178=PERSONA_MAPPING[_0x353fb8[_0x194293(0x1d6)]['aiPersona']||'generic'],_0x229899=_0x353fb8[_0x194293(0x1d6)][_0x194293(0x1b9)]||_0x194293(0x1d2);let _0x251b17='Unbekannt';try{const _0xc8b57d=await _0x353fb8[_0x194293(0x1d0)](_0x194293(0x1db));if(_0xc8b57d&&_0xc8b57d[_0x194293(0x185)])_0x251b17=_0xc8b57d[_0x194293(0x185)];}catch(_0x201689){}let _0x4b5e24=![];try{const _0x303fff=await _0x353fb8[_0x194293(0x1d0)]('analysis.automation.autoApply');if(_0x303fff&&_0x303fff['val'])_0x4b5e24=!![];}catch(_0x391734){}const _0x4dc856=_0x194293(0x1c8)+_0x553178+_0x194293(0x1cc)+_0x229899+'.\x20SYSTEM_MODE:\x20'+_0xf9df41+_0x194293(0x1a5)+_0x251b17+'.\x20EVENTS:\x20'+JSON[_0x194293(0x181)](_0x380e11)+_0x194293(0x19e)+_0x617cfa+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x19ea28=await _0x353fb8[_0x194293(0x1b3)]['generateContent'](_0x4dc856),_0x1c140f=JSON[_0x194293(0x1cb)](_0x19ea28[_0x194293(0x1a7)][_0x194293(0x1e7)]()['replace'](/```json|```/g,'')[_0x194293(0x1bf)]());await _0x353fb8[_0x194293(0x199)]('analysis.lastResult',{'val':JSON['stringify'](_0x1c140f),'ack':!![]});if(_0x1c140f[_0x194293(0x1ac)])await _0x353fb8['setStateAsync'](_0x194293(0x17c),{'val':_0x1c140f[_0x194293(0x1ac)],'ack':!![]});const _0xb0cea1={'timestamp':Date['now'](),'id':Date[_0x194293(0x16c)]()[_0x194293(0x18a)](),'analysis':{'activity':{'summary':_0x1c140f[_0x194293(0x1ac)],'isAlert':_0x1c140f['isAlert'],'alertReason':_0x1c140f[_0x194293(0x1c5)]},'comfort':{'automationProposal':_0x1c140f[_0x194293(0x1be)]}}};_0x353fb8[_0x194293(0x1a4)][_0x194293(0x1bc)](_0xb0cea1);if(_0x353fb8[_0x194293(0x1a4)]['length']>0x32)_0x353fb8['analysisHistory'][_0x194293(0x18c)]();await _0x353fb8[_0x194293(0x199)](_0x194293(0x1df),{'val':JSON[_0x194293(0x181)](_0x353fb8['analysisHistory']),'ack':!![]});const _0x426f06=_0x1c140f['isAlert']||![];_0x426f06!==_0x353fb8[_0x194293(0x18b)]&&(await _0x353fb8[_0x194293(0x199)](_0x194293(0x1b7),{'val':_0x426f06,'ack':!![]}),_0x353fb8['lastAlertState']=_0x426f06,_0x426f06&&(await _0x353fb8[_0x194293(0x199)](_0x194293(0x1c6),{'val':_0x1c140f[_0x194293(0x1c5)],'ack':!![]}),setup[_0x194293(0x1d4)](_0x353fb8,_0x194293(0x1c7)+_0x1c140f[_0x194293(0x1c5)],![],_0x1c140f[_0x194293(0x192)])));if(_0x1c140f['automationProposal']&&_0x1c140f[_0x194293(0x1be)]['detected']){await _0x353fb8['setStateAsync'](_0x194293(0x180),{'val':!![],'ack':!![]}),await _0x353fb8['setStateAsync']('analysis.automation.description',{'val':_0x1c140f[_0x194293(0x1be)][_0x194293(0x18d)],'ack':!![]}),await _0x353fb8['setStateAsync'](_0x194293(0x19a),{'val':_0x1c140f[_0x194293(0x1be)][_0x194293(0x1a1)],'ack':!![]}),await _0x353fb8[_0x194293(0x199)](_0x194293(0x1e9),{'val':JSON[_0x194293(0x181)](_0x1c140f[_0x194293(0x1be)][_0x194293(0x170)]),'ack':!![]});if(_0x4b5e24)executeAutomationAction(_0x353fb8);}}catch(_0x3792a2){_0x353fb8[_0x194293(0x1b0)][_0x194293(0x174)]('Gemini\x20Error:\x20'+_0x3792a2['message']);}}async function createDailyDigest(_0x93fbdb,_0x37b5b0){const _0xa49e6=a0_0x5e2211;if(!_0x93fbdb[_0xa49e6(0x1c1)])return;if(!canCallApi()){await _0x93fbdb[_0xa49e6(0x199)](LTM_DP_STATUS,{'val':_0xa49e6(0x196),'ack':!![]});return;}await _0x93fbdb[_0xa49e6(0x199)](LTM_DP_STATUS,{'val':_0xa49e6(0x176),'ack':!![]});if(!_0x93fbdb[_0xa49e6(0x1b3)]||_0x93fbdb[_0xa49e6(0x175)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x93fbdb[_0xa49e6(0x199)](LTM_DP_STATUS,{'val':_0xa49e6(0x1e8),'ack':!![]});return;}const _0x3ac5bd=JSON[_0xa49e6(0x1cb)](JSON[_0xa49e6(0x181)](_0x93fbdb[_0xa49e6(0x175)])),_0x1fb8ea=_0x3ac5bd[_0xa49e6(0x16e)],_0x169a59='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0xa49e6(0x181)](_0x3ac5bd);try{updateApiTimestamp();const _0x2785fc=await _0x93fbdb['geminiModel'][_0xa49e6(0x198)](_0x169a59),_0x14a4b9=JSON['parse'](_0x2785fc['response'][_0xa49e6(0x1e7)]()[_0xa49e6(0x1a9)](/```json|```/g,'')[_0xa49e6(0x1bf)]()),_0x5d15f0={'timestamp':new Date()['toISOString'](),'eventCount':_0x1fb8ea,'summary':_0x14a4b9['summary']||_0xa49e6(0x193),'activityLevel':_0x14a4b9[_0xa49e6(0x178)]||_0xa49e6(0x1b8),'systemMode':_0x93fbdb['currentSystemMode']};_0x93fbdb['dailyDigests'][_0xa49e6(0x173)](_0x5d15f0);const _0x1d6cc5=_0x93fbdb[_0xa49e6(0x1d6)]['ltmLtbWindowDays']||0x3c;_0x93fbdb[_0xa49e6(0x1ec)]['length']>_0x1d6cc5&&_0x93fbdb[_0xa49e6(0x1ec)][_0xa49e6(0x190)](0x0,_0x93fbdb[_0xa49e6(0x1ec)][_0xa49e6(0x16e)]-_0x1d6cc5);await _0x93fbdb[_0xa49e6(0x199)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x93fbdb[_0xa49e6(0x1ec)]),'ack':!![]}),_0x93fbdb[_0xa49e6(0x175)]=[],await _0x93fbdb['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0xa49e6(0x181)](_0x93fbdb[_0xa49e6(0x175)]),'ack':!![]}),await _0x93fbdb[_0xa49e6(0x199)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x93fbdb['isProVersion']&&_0x37b5b0)_0x37b5b0[_0xa49e6(0x1ae)](_0x93fbdb,_0xa49e6(0x189),{'digest':_0x5d15f0});}catch(_0x85b68b){_0x93fbdb[_0xa49e6(0x1b0)][_0xa49e6(0x174)](_0x85b68b[_0xa49e6(0x1a3)]);}}async function runBaselineDriftAnalysis(_0x510263){const _0x397ba2=a0_0x5e2211;if(!_0x510263[_0x397ba2(0x1c1)]||!_0x510263['geminiModel'])return;if(!canCallApi())return;const _0x28a0ec=_0x510263[_0x397ba2(0x1d6)][_0x397ba2(0x1af)]||0xe;if(_0x510263[_0x397ba2(0x1ec)][_0x397ba2(0x16e)]<_0x28a0ec+0x7){await _0x510263['setStateAsync'](_0x397ba2(0x1c9),{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x2f8f68=_0x510263['dailyDigests'][_0x397ba2(0x1ab)](-_0x28a0ec),_0x472853=_0x510263[_0x397ba2(0x1ec)][_0x397ba2(0x1ab)](0x0,_0x510263[_0x397ba2(0x1ec)][_0x397ba2(0x16e)]-_0x28a0ec),_0x46a64b='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON['stringify'](_0x472853)+'\x0aSTB:\x20'+JSON[_0x397ba2(0x181)](_0x2f8f68);try{updateApiTimestamp();const _0x18f3db=await _0x510263['geminiModel']['generateContent'](_0x46a64b),_0x3b3e5b=JSON[_0x397ba2(0x1cb)](_0x18f3db[_0x397ba2(0x1a7)][_0x397ba2(0x1e7)]()['replace'](/```json|```/g,'')[_0x397ba2(0x1bf)]());_0x3b3e5b[_0x397ba2(0x1e0)]&&(await _0x510263[_0x397ba2(0x199)](_0x397ba2(0x1c9),{'val':_0x3b3e5b[_0x397ba2(0x1e0)],'ack':!![]}),await _0x510263[_0x397ba2(0x199)](_0x397ba2(0x1e1),{'val':_0x3b3e5b[_0x397ba2(0x1b5)],'ack':!![]}),await _0x510263[_0x397ba2(0x199)](_0x397ba2(0x16a),{'val':Date['now'](),'ack':!![]}));}catch(_0x2855ac){}}async function executeAutomationAction(_0x426579){const _0x4117af=a0_0x5e2211;try{const _0x339da4=await _0x426579[_0x4117af(0x1d0)](_0x4117af(0x19a)),_0x3c0da4=await _0x426579[_0x4117af(0x1d0)](_0x4117af(0x1e9));if(_0x339da4&&_0x339da4['val']&&_0x3c0da4){const _0x508576=_0x339da4[_0x4117af(0x185)];let _0x2f9f0c=_0x3c0da4['val'];try{_0x2f9f0c=JSON[_0x4117af(0x1cb)](_0x2f9f0c);}catch(_0x14cf32){}_0x426579[_0x4117af(0x1b0)][_0x4117af(0x1a2)](_0x4117af(0x1e6)+_0x508576+'\x20=\x20'+_0x2f9f0c),await _0x426579['setForeignStateAsync'](_0x508576,_0x2f9f0c);}else _0x426579[_0x4117af(0x1b0)][_0x4117af(0x1a0)](_0x4117af(0x1ce));}catch(_0x132d74){_0x426579[_0x4117af(0x1b0)][_0x4117af(0x174)](_0x4117af(0x177)+_0x132d74[_0x4117af(0x1a3)]);}}async function sendMorningBriefing(_0x359e31){const _0x4cc282=a0_0x5e2211;if(!_0x359e31[_0x4cc282(0x1b3)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x35680a=_0x4cc282(0x1ba),_0x275f57=await _0x359e31[_0x4cc282(0x1b3)][_0x4cc282(0x198)](_0x35680a),_0x1b015b=_0x275f57[_0x4cc282(0x1a7)][_0x4cc282(0x1e7)]();setup[_0x4cc282(0x1d4)](_0x359e31,_0x4cc282(0x17b)+_0x1b015b);}catch(_0x2bda9e){_0x359e31['log'][_0x4cc282(0x174)](_0x4cc282(0x1e5)+_0x2bda9e[_0x4cc282(0x1a3)]);}}module[a0_0x5e2211(0x17d)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};