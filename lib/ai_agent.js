const a0_0x3c2c86=a0_0x3be7;(function(_0x2e8927,_0xc3d4f0){const _0x54679a=a0_0x3be7,_0x5f019c=_0x2e8927();while(!![]){try{const _0x946e6c=-parseInt(_0x54679a(0x106))/0x1*(-parseInt(_0x54679a(0x101))/0x2)+parseInt(_0x54679a(0xb0))/0x3*(parseInt(_0x54679a(0xa3))/0x4)+-parseInt(_0x54679a(0x86))/0x5+parseInt(_0x54679a(0xd0))/0x6*(-parseInt(_0x54679a(0xe0))/0x7)+parseInt(_0x54679a(0xe9))/0x8+-parseInt(_0x54679a(0xf4))/0x9*(parseInt(_0x54679a(0xd5))/0xa)+parseInt(_0x54679a(0xb2))/0xb;if(_0x946e6c===_0xc3d4f0)break;else _0x5f019c['push'](_0x5f019c['shift']());}catch(_0x15f676){_0x5f019c['push'](_0x5f019c['shift']());}}}(a0_0x2834,0x37f7a));function a0_0x3be7(_0x3e55a1,_0x1f3514){const _0x1d8de5=a0_0x2834();return a0_0x3be7=function(_0x1ade8e,_0x164153){_0x1ade8e=_0x1ade8e-0x85;let _0x2834b2=_0x1d8de5[_0x1ade8e];return _0x2834b2;},a0_0x3be7(_0x3e55a1,_0x1f3514);}const a0_0x164153=(function(){let _0x3d5c9e=!![];return function(_0x49df37,_0x175169){const _0x16c1ce=_0x3d5c9e?function(){if(_0x175169){const _0x85cc3d=_0x175169['apply'](_0x49df37,arguments);return _0x175169=null,_0x85cc3d;}}:function(){};return _0x3d5c9e=![],_0x16c1ce;};}()),a0_0x1ade8e=a0_0x164153(this,function(){const _0x2af94e=a0_0x3be7;return a0_0x1ade8e[_0x2af94e(0x103)]()[_0x2af94e(0xfe)](_0x2af94e(0x99))[_0x2af94e(0x103)]()[_0x2af94e(0xf9)](a0_0x1ade8e)[_0x2af94e(0xfe)](_0x2af94e(0x99));});a0_0x1ade8e();'use strict';const {GoogleGenerativeAI}=require(a0_0x3c2c86(0xcf)),setup=require(a0_0x3c2c86(0xb7)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x3c2c86(0x90),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;function a0_0x2834(){const _0x8a1e67=['currentSystemMode','pop','.\x20SYSTEM_MODE:\x20','LTM.driftAnalysis.baselineDrift','timestamp','summary','382516VWUEHF','response','generic','toLocaleTimeString','driftDetails','Skipped\x20(Traffic)','analysis.analysisHistory','analysis.automation.description','dailyDigests','push','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','automationProposal','splice','3ckuaOg','getStateAsync','2756820HxLnWz','Started...','Digest','livingContext','Gemini\x20Error:\x20','./setup','rawEventLog','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','targetValue','length','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ltmLtbWindowDays','.\x20EVENTS:\x20','isAlert','KI\x20offline\x20(Fallback)','\x0aSTB:\x20','geminiModel','.forecast.current.temperature','analysis.isAlert','stringify','analysis.automation.targetId','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','slice','normal','baselineDrift','N/A\x20(Learning)','LTM.driftAnalysis.lastCheck','Sicherheit\x20geht\x20vor.','analysis.alertReason','@google/generative-ai','9498FYNZxc','eventHistory','Skipped\x20(No\x20AI\x20or\x20Data)','info','Traffic-Schutz\x20(Auto-Approved)','1844060BwFpYG','\x20=\x20','toISOString','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','trim','Unbekannt','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','analysis.lastResult','now','ðŸŒ…\x20Morning\x20Briefing:\x0a','1806Giiqaq','val','parse','debug','setStateAsync','analysis.activitySummary','analysis.automation.patternDetected','Wetterdaten\x20nicht\x20abrufbar','getForeignStateAsync','1344440bxuuzG','analysis.automation.targetValue','analysisHistory','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','.Current.IsNight','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','Tag','LTM.driftAnalysis.driftDetails','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','lastAlertState','9JNMGTV','ANALYZE_HEALTH','exports','reason','error','constructor','replace','weatherInstance','Keine\x20Details.','generateContent','search','Success','.Current.Temperature','2qMSWTs','text','toString','KI-Fehler\x20(Fallback)','sendNotification','402083RfiXpW','aiPersona','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','useWeather','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','471625mgsfIm','config','Unbekannt\x20(Kein\x20Sensor)','analysis.automation.autoApply','detected','isProVersion','\x20->\x20','Nacht','log','setForeignStateAsync','LTM.dailyDigests','âš ï¸\x20ALARM:\x20','warn','isEmergency','\x20Ã¼bersprungen\x20(Auto-Approved).','.Current.WeatherText','targetId','message','decision','(((.+)+)+)+$','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','toFixed','alertReason'];a0_0x2834=function(){return _0x8a1e67;};return a0_0x2834();}const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x3c2c86(0xd9),'senior_aal':'PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','family':a0_0x3c2c86(0xad),'single_comfort':a0_0x3c2c86(0x9a),'security':a0_0x3c2c86(0xcd),'energy_saver':a0_0x3c2c86(0xee)};function canCallApi(){const _0x469f07=Date['now']();return _0x469f07-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x11d319=a0_0x3c2c86;lastGlobalApiCall=Date[_0x11d319(0xde)]();}async function getWeatherContext(_0x120c7b){const _0x30829e=a0_0x3c2c86;if(!_0x120c7b['config'][_0x30829e(0x109)]||!_0x120c7b[_0x30829e(0x87)]['weatherInstance'])return _0x30829e(0x88);try{const _0x17f26b=_0x120c7b[_0x30829e(0x87)][_0x30829e(0xfb)];let _0x1b9a75=await _0x120c7b[_0x30829e(0xe8)](_0x17f26b+_0x30829e(0x100));if(!_0x1b9a75)_0x1b9a75=await _0x120c7b[_0x30829e(0xe8)](_0x17f26b+_0x30829e(0xc3));let _0x559015=await _0x120c7b['getForeignStateAsync'](_0x17f26b+_0x30829e(0x95));if(!_0x559015)_0x559015=await _0x120c7b[_0x30829e(0xe8)](_0x17f26b+'.forecast.current.state');let _0x51346d=_0x30829e(0xdb);const _0x52d760=await _0x120c7b[_0x30829e(0xe8)](_0x17f26b+_0x30829e(0xed));if(_0x52d760)_0x51346d=_0x52d760[_0x30829e(0xe1)]?_0x30829e(0x8d):_0x30829e(0xf0);if(_0x1b9a75&&_0x559015)return _0x1b9a75['val']+'Â°C,\x20'+_0x559015[_0x30829e(0xe1)]+',\x20LichtverhÃ¤ltnisse:\x20'+_0x51346d;}catch(_0x3011f5){}return _0x30829e(0xe7);}async function consultButler(_0x230389,_0x5a5414,_0xd59c99,_0x1f2b01){const _0x5b3383=a0_0x3c2c86;if(!_0x230389[_0x5b3383(0xc2)])return{'approved':!![],'reason':_0x5b3383(0xc0)};const _0x238047=Date['now']();if(decisionCache[_0x5a5414]&&_0x238047-decisionCache[_0x5a5414][_0x5b3383(0xa1)]<CACHE_TTL_MS){const _0x6a36db=decisionCache[_0x5a5414][_0x5b3383(0x98)];return _0x230389['log'][_0x5b3383(0xe3)](_0x5b3383(0x85)+_0x5a5414+_0x5b3383(0x8c)+(_0x6a36db['approved']?'OK':'NO')+'\x20('+_0x6a36db[_0x5b3383(0xf7)]+')'),_0x6a36db;}if(!canCallApi())return _0x230389[_0x5b3383(0x8e)]['debug'](_0x5b3383(0xc7)+_0x5a5414+_0x5b3383(0x94)),{'approved':!![],'reason':_0x5b3383(0xd4)};const _0x2c409c=new Date()[_0x5b3383(0xa6)](),_0x347739=await getWeatherContext(_0x230389),_0x29fbc6=PERSONA_MAPPING[_0x230389['config']['aiPersona']||_0x5b3383(0xa5)],_0xe157ff='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x2c409c+',\x20Wetter:\x20'+_0x347739+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x1f2b01*0x64)[_0x5b3383(0x9b)](0x0)+'%)\x20nach\x20\x22'+_0x5a5414+_0x5b3383(0xb9)+_0xd59c99+_0x5b3383(0xdc)+_0x29fbc6+_0x5b3383(0xec);try{updateApiTimestamp();const _0x4b2418=await _0x230389[_0x5b3383(0xc2)][_0x5b3383(0xfd)](_0xe157ff),_0x33c0b1=_0x4b2418['response']['text']()[_0x5b3383(0xfa)](/```json|```/g,'')[_0x5b3383(0xda)](),_0x4ca9e9=JSON[_0x5b3383(0xe2)](_0x33c0b1);return decisionCache[_0x5a5414]={'decision':_0x4ca9e9,'timestamp':_0x238047},_0x4ca9e9;}catch(_0x239927){return _0x230389[_0x5b3383(0x8e)]['warn']('ðŸ¤–\x20Butler\x20Brain\x20Error:\x20'+_0x239927['message']),decisionCache[_0x5a5414]={'decision':{'approved':!![],'reason':_0x5b3383(0x104)},'timestamp':_0x238047-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x5b3383(0x104)};}}async function runGeminiAnalysis(_0x315586,_0x2d0015=''){const _0x27ab5e=a0_0x3c2c86;if(!_0x315586['geminiModel'])return;if(!canCallApi()){_0x315586[_0x27ab5e(0x8e)][_0x27ab5e(0xe3)]('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x315586[_0x27ab5e(0xd1)][_0x27ab5e(0xbb)]===0x0)return;const _0x51c3d9=_0x315586['eventHistory'][_0x27ab5e(0xc8)](0x0,0xf),_0x9df18f=_0x315586[_0x27ab5e(0x9d)],_0x5e360a=PERSONA_MAPPING[_0x315586[_0x27ab5e(0x87)][_0x27ab5e(0x107)]||'generic'],_0x4cd0a8=_0x315586[_0x27ab5e(0x87)][_0x27ab5e(0xb5)]||_0x27ab5e(0xfc);let _0x424930=_0x27ab5e(0xdb);try{const _0x18316e=await _0x315586[_0x27ab5e(0xb1)]('system.presenceWho');if(_0x18316e&&_0x18316e[_0x27ab5e(0xe1)])_0x424930=_0x18316e[_0x27ab5e(0xe1)];}catch(_0x162f89){}let _0x7a6c7e=![];try{const _0x4c1b14=await _0x315586[_0x27ab5e(0xb1)](_0x27ab5e(0x89));if(_0x4c1b14&&_0x4c1b14[_0x27ab5e(0xe1)])_0x7a6c7e=!![];}catch(_0x5a868e){}const _0x1348d8=_0x27ab5e(0xf2)+_0x5e360a+'.\x20KONTEXT:\x20'+_0x4cd0a8+_0x27ab5e(0x9f)+_0x9df18f+'.\x20ANWESEND:\x20'+_0x424930+_0x27ab5e(0xbe)+JSON[_0x27ab5e(0xc5)](_0x51c3d9)+'.\x20EMERGENCY:\x20'+_0x2d0015+_0x27ab5e(0xd8);try{updateApiTimestamp();const _0x3d22ae=await _0x315586['geminiModel']['generateContent'](_0x1348d8),_0x2d14c7=JSON['parse'](_0x3d22ae[_0x27ab5e(0xa4)][_0x27ab5e(0x102)]()['replace'](/```json|```/g,'')[_0x27ab5e(0xda)]());await _0x315586['setStateAsync'](_0x27ab5e(0xdd),{'val':JSON[_0x27ab5e(0xc5)](_0x2d14c7),'ack':!![]});if(_0x2d14c7[_0x27ab5e(0xa2)])await _0x315586[_0x27ab5e(0xe4)](_0x27ab5e(0xe5),{'val':_0x2d14c7['summary'],'ack':!![]});const _0x348692={'timestamp':Date[_0x27ab5e(0xde)](),'id':Date[_0x27ab5e(0xde)]()[_0x27ab5e(0x103)](),'analysis':{'activity':{'summary':_0x2d14c7[_0x27ab5e(0xa2)],'isAlert':_0x2d14c7[_0x27ab5e(0xbf)],'alertReason':_0x2d14c7[_0x27ab5e(0x9c)]},'comfort':{'automationProposal':_0x2d14c7[_0x27ab5e(0xae)]}}};_0x315586[_0x27ab5e(0xeb)]['unshift'](_0x348692);if(_0x315586[_0x27ab5e(0xeb)]['length']>0x32)_0x315586[_0x27ab5e(0xeb)][_0x27ab5e(0x9e)]();await _0x315586['setStateAsync'](_0x27ab5e(0xa9),{'val':JSON[_0x27ab5e(0xc5)](_0x315586['analysisHistory']),'ack':!![]});const _0xb6a47e=_0x2d14c7['isAlert']||![];_0xb6a47e!==_0x315586[_0x27ab5e(0xf3)]&&(await _0x315586[_0x27ab5e(0xe4)](_0x27ab5e(0xc4),{'val':_0xb6a47e,'ack':!![]}),_0x315586['lastAlertState']=_0xb6a47e,_0xb6a47e&&(await _0x315586['setStateAsync'](_0x27ab5e(0xce),{'val':_0x2d14c7['alertReason'],'ack':!![]}),setup[_0x27ab5e(0x105)](_0x315586,_0x27ab5e(0x91)+_0x2d14c7[_0x27ab5e(0x9c)],![],_0x2d14c7[_0x27ab5e(0x93)])));if(_0x2d14c7['automationProposal']&&_0x2d14c7[_0x27ab5e(0xae)][_0x27ab5e(0x8a)]){await _0x315586['setStateAsync'](_0x27ab5e(0xe6),{'val':!![],'ack':!![]}),await _0x315586[_0x27ab5e(0xe4)](_0x27ab5e(0xaa),{'val':_0x2d14c7[_0x27ab5e(0xae)]['description'],'ack':!![]}),await _0x315586[_0x27ab5e(0xe4)](_0x27ab5e(0xc6),{'val':_0x2d14c7[_0x27ab5e(0xae)][_0x27ab5e(0x96)],'ack':!![]}),await _0x315586[_0x27ab5e(0xe4)]('analysis.automation.targetValue',{'val':JSON[_0x27ab5e(0xc5)](_0x2d14c7[_0x27ab5e(0xae)][_0x27ab5e(0xba)]),'ack':!![]});if(_0x7a6c7e)executeAutomationAction(_0x315586);}}catch(_0x7cc829){_0x315586[_0x27ab5e(0x8e)][_0x27ab5e(0xf8)](_0x27ab5e(0xb6)+_0x7cc829[_0x27ab5e(0x97)]);}}async function createDailyDigest(_0x527297,_0x3e4890){const _0x399a4a=a0_0x3c2c86;if(!_0x527297[_0x399a4a(0x8b)])return;if(!canCallApi()){await _0x527297[_0x399a4a(0xe4)](LTM_DP_STATUS,{'val':_0x399a4a(0xa8),'ack':!![]});return;}await _0x527297[_0x399a4a(0xe4)](LTM_DP_STATUS,{'val':_0x399a4a(0xb3),'ack':!![]});if(!_0x527297['geminiModel']||_0x527297[_0x399a4a(0xb8)][_0x399a4a(0xbb)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x527297[_0x399a4a(0xe4)](LTM_DP_STATUS,{'val':_0x399a4a(0xd2),'ack':!![]});return;}const _0x429d4a=JSON[_0x399a4a(0xe2)](JSON['stringify'](_0x527297[_0x399a4a(0xb8)])),_0x865f2a=_0x429d4a[_0x399a4a(0xbb)],_0x2412c1=_0x399a4a(0xbc)+JSON[_0x399a4a(0xc5)](_0x429d4a);try{updateApiTimestamp();const _0x4db301=await _0x527297[_0x399a4a(0xc2)][_0x399a4a(0xfd)](_0x2412c1),_0x2fb9dc=JSON[_0x399a4a(0xe2)](_0x4db301['response'][_0x399a4a(0x102)]()[_0x399a4a(0xfa)](/```json|```/g,'')[_0x399a4a(0xda)]()),_0x1c38f2={'timestamp':new Date()[_0x399a4a(0xd7)](),'eventCount':_0x865f2a,'summary':_0x2fb9dc[_0x399a4a(0xa2)]||_0x399a4a(0xb4),'activityLevel':_0x2fb9dc['activityLevel']||_0x399a4a(0xc9),'systemMode':_0x527297[_0x399a4a(0x9d)]};_0x527297[_0x399a4a(0xab)][_0x399a4a(0xac)](_0x1c38f2);const _0x20d1fe=_0x527297['config'][_0x399a4a(0xbd)]||0x3c;_0x527297[_0x399a4a(0xab)][_0x399a4a(0xbb)]>_0x20d1fe&&_0x527297['dailyDigests'][_0x399a4a(0xaf)](0x0,_0x527297[_0x399a4a(0xab)][_0x399a4a(0xbb)]-_0x20d1fe);await _0x527297[_0x399a4a(0xe4)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x399a4a(0xc5)](_0x527297['dailyDigests']),'ack':!![]}),_0x527297['rawEventLog']=[],await _0x527297[_0x399a4a(0xe4)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x527297[_0x399a4a(0xb8)]),'ack':!![]}),await _0x527297['setStateAsync'](LTM_DP_STATUS,{'val':_0x399a4a(0xff),'ack':!![]});if(_0x527297[_0x399a4a(0x8b)]&&_0x3e4890)_0x3e4890['send'](_0x527297,_0x399a4a(0xf5),{'digest':_0x1c38f2});}catch(_0x11f4d6){_0x527297[_0x399a4a(0x8e)][_0x399a4a(0xf8)](_0x11f4d6[_0x399a4a(0x97)]);}}async function runBaselineDriftAnalysis(_0x4111f2){const _0x24a60c=a0_0x3c2c86;if(!_0x4111f2[_0x24a60c(0x8b)]||!_0x4111f2[_0x24a60c(0xc2)])return;if(!canCallApi())return;const _0x34a8ac=_0x4111f2[_0x24a60c(0x87)]['ltmStbWindowDays']||0xe;if(_0x4111f2[_0x24a60c(0xab)]['length']<_0x34a8ac+0x7){await _0x4111f2[_0x24a60c(0xe4)](_0x24a60c(0xa0),{'val':_0x24a60c(0xcb),'ack':!![]});return;}const _0x2de276=_0x4111f2[_0x24a60c(0xab)][_0x24a60c(0xc8)](-_0x34a8ac),_0x28a479=_0x4111f2[_0x24a60c(0xab)][_0x24a60c(0xc8)](0x0,_0x4111f2[_0x24a60c(0xab)][_0x24a60c(0xbb)]-_0x34a8ac),_0x331cf5=_0x24a60c(0xef)+JSON[_0x24a60c(0xc5)](_0x28a479)+_0x24a60c(0xc1)+JSON['stringify'](_0x2de276);try{updateApiTimestamp();const _0x230787=await _0x4111f2[_0x24a60c(0xc2)][_0x24a60c(0xfd)](_0x331cf5),_0x1d9cf0=JSON['parse'](_0x230787[_0x24a60c(0xa4)][_0x24a60c(0x102)]()[_0x24a60c(0xfa)](/```json|```/g,'')['trim']());_0x1d9cf0[_0x24a60c(0xca)]&&(await _0x4111f2[_0x24a60c(0xe4)](_0x24a60c(0xa0),{'val':_0x1d9cf0[_0x24a60c(0xca)],'ack':!![]}),await _0x4111f2['setStateAsync'](_0x24a60c(0xf1),{'val':_0x1d9cf0[_0x24a60c(0xa7)],'ack':!![]}),await _0x4111f2[_0x24a60c(0xe4)](_0x24a60c(0xcc),{'val':Date['now'](),'ack':!![]}));}catch(_0x328bf7){}}async function executeAutomationAction(_0x385e3a){const _0x712de5=a0_0x3c2c86;try{const _0x368460=await _0x385e3a[_0x712de5(0xb1)](_0x712de5(0xc6)),_0x1fc161=await _0x385e3a['getStateAsync'](_0x712de5(0xea));if(_0x368460&&_0x368460[_0x712de5(0xe1)]&&_0x1fc161){const _0x1d0c11=_0x368460[_0x712de5(0xe1)];let _0x239594=_0x1fc161['val'];try{_0x239594=JSON['parse'](_0x239594);}catch(_0x3c29c8){}_0x385e3a[_0x712de5(0x8e)][_0x712de5(0xd3)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x1d0c11+_0x712de5(0xd6)+_0x239594),await _0x385e3a[_0x712de5(0x8f)](_0x1d0c11,_0x239594);}else _0x385e3a[_0x712de5(0x8e)][_0x712de5(0x92)](_0x712de5(0x108));}catch(_0x51fef8){_0x385e3a[_0x712de5(0x8e)]['error']('BUTLER\x20Execution\x20Error:\x20'+_0x51fef8[_0x712de5(0x97)]);}}async function sendMorningBriefing(_0x3adc4c){const _0x32a975=a0_0x3c2c86;if(!_0x3adc4c['geminiModel'])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x5c9618='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0x108471=await _0x3adc4c['geminiModel'][_0x32a975(0xfd)](_0x5c9618),_0x4275f1=_0x108471[_0x32a975(0xa4)][_0x32a975(0x102)]();setup['sendNotification'](_0x3adc4c,_0x32a975(0xdf)+_0x4275f1);}catch(_0x1ce336){_0x3adc4c['log'][_0x32a975(0xf8)]('Briefing\x20Error:\x20'+_0x1ce336[_0x32a975(0x97)]);}}module[a0_0x3c2c86(0xf6)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};