const a0_0x1752b0=a0_0x4f61;(function(_0xe47c19,_0x5da5e9){const _0x3759a0=a0_0x4f61,_0x3742d9=_0xe47c19();while(!![]){try{const _0x3c2cba=-parseInt(_0x3759a0(0x115))/0x1*(parseInt(_0x3759a0(0x120))/0x2)+parseInt(_0x3759a0(0x168))/0x3+parseInt(_0x3759a0(0x14e))/0x4*(parseInt(_0x3759a0(0x135))/0x5)+-parseInt(_0x3759a0(0x15d))/0x6*(-parseInt(_0x3759a0(0x106))/0x7)+parseInt(_0x3759a0(0x108))/0x8*(-parseInt(_0x3759a0(0x14a))/0x9)+-parseInt(_0x3759a0(0x11e))/0xa+-parseInt(_0x3759a0(0x10d))/0xb*(parseInt(_0x3759a0(0x158))/0xc);if(_0x3c2cba===_0x5da5e9)break;else _0x3742d9['push'](_0x3742d9['shift']());}catch(_0x18e504){_0x3742d9['push'](_0x3742d9['shift']());}}}(a0_0x3279,0x1afd7));function a0_0x4f61(_0x4baa98,_0x36e1b7){const _0xbfc92e=a0_0x3279();return a0_0x4f61=function(_0x3797e3,_0x21c860){_0x3797e3=_0x3797e3-0xf3;let _0x327932=_0xbfc92e[_0x3797e3];return _0x327932;},a0_0x4f61(_0x4baa98,_0x36e1b7);}const a0_0x21c860=(function(){let _0x5a154f=!![];return function(_0xefe37a,_0xe8eca){const _0x303938=_0x5a154f?function(){if(_0xe8eca){const _0x1cb657=_0xe8eca['apply'](_0xefe37a,arguments);return _0xe8eca=null,_0x1cb657;}}:function(){};return _0x5a154f=![],_0x303938;};}()),a0_0x3797e3=a0_0x21c860(this,function(){const _0x3b33ed=a0_0x4f61;return a0_0x3797e3[_0x3b33ed(0xf7)]()[_0x3b33ed(0x118)](_0x3b33ed(0x11d))[_0x3b33ed(0xf7)]()['constructor'](a0_0x3797e3)[_0x3b33ed(0x118)]('(((.+)+)+)+$');});a0_0x3797e3();'use strict';const {GoogleGenerativeAI}=require(a0_0x1752b0(0x107)),setup=require(a0_0x1752b0(0x114)),GEMINI_MODEL=a0_0x1752b0(0x170),LTM_DP_DAILY_DIGESTS=a0_0x1752b0(0x14d),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x1752b0(0x171),'senior_aal':a0_0x1752b0(0x137),'family':a0_0x1752b0(0x16e),'single_comfort':a0_0x1752b0(0x163),'security':a0_0x1752b0(0x11b),'energy_saver':a0_0x1752b0(0x127)};function canCallApi(){const _0x546388=a0_0x1752b0,_0x422cf6=Date[_0x546388(0x145)]();return _0x422cf6-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x22cb09){const _0x4be0c8=a0_0x1752b0;if(!_0x22cb09[_0x4be0c8(0x12c)][_0x4be0c8(0x159)]||!_0x22cb09[_0x4be0c8(0x12c)][_0x4be0c8(0x11a)])return _0x4be0c8(0x153);try{const _0x21a15d=_0x22cb09['config']['weatherInstance'];let _0x28f173=await _0x22cb09[_0x4be0c8(0x132)](_0x21a15d+'.Current.Temperature');if(!_0x28f173)_0x28f173=await _0x22cb09[_0x4be0c8(0x132)](_0x21a15d+_0x4be0c8(0x13b));let _0x1f2983=await _0x22cb09[_0x4be0c8(0x132)](_0x21a15d+_0x4be0c8(0x13d));if(!_0x1f2983)_0x1f2983=await _0x22cb09[_0x4be0c8(0x132)](_0x21a15d+_0x4be0c8(0xfb));let _0x4f2a5a=_0x4be0c8(0x148);const _0xd9d94c=await _0x22cb09[_0x4be0c8(0x132)](_0x21a15d+'.Current.IsNight');if(_0xd9d94c)_0x4f2a5a=_0xd9d94c[_0x4be0c8(0x142)]?'Nacht':_0x4be0c8(0x124);if(_0x28f173&&_0x1f2983)return _0x28f173[_0x4be0c8(0x142)]+_0x4be0c8(0x13a)+_0x1f2983[_0x4be0c8(0x142)]+_0x4be0c8(0xff)+_0x4f2a5a;}catch(_0x1e541d){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x583fc4,_0x1badee,_0x55da07,_0x31c20c){const _0x55ddbd=a0_0x1752b0;if(!_0x583fc4['geminiModel'])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x2ab041=Date[_0x55ddbd(0x145)]();if(decisionCache[_0x1badee]&&_0x2ab041-decisionCache[_0x1badee][_0x55ddbd(0x126)]<CACHE_TTL_MS){const _0x403b45=decisionCache[_0x1badee][_0x55ddbd(0x140)];return _0x583fc4[_0x55ddbd(0x162)][_0x55ddbd(0x16b)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x1badee+_0x55ddbd(0x173)+(_0x403b45[_0x55ddbd(0x151)]?'OK':'NO')+'\x20('+_0x403b45[_0x55ddbd(0x178)]+')'),_0x403b45;}if(!canCallApi())return _0x583fc4[_0x55ddbd(0x162)][_0x55ddbd(0x16b)](_0x55ddbd(0x141)+_0x1badee+_0x55ddbd(0x167)),{'approved':!![],'reason':_0x55ddbd(0x157)};const _0x3a93d7=new Date()[_0x55ddbd(0x14f)](),_0x209fad=await getWeatherContext(_0x583fc4),_0x1c2bd1=PERSONA_MAPPING[_0x583fc4[_0x55ddbd(0x12c)][_0x55ddbd(0xfe)]||_0x55ddbd(0x10b)],_0x283c55=_0x55ddbd(0x154)+_0x3a93d7+_0x55ddbd(0x12d)+_0x209fad+_0x55ddbd(0x14b)+(_0x31c20c*0x64)[_0x55ddbd(0x110)](0x0)+_0x55ddbd(0x121)+_0x1badee+_0x55ddbd(0x156)+_0x55da07+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x1c2bd1+_0x55ddbd(0x138);try{updateApiTimestamp();const _0x23924c=await _0x583fc4[_0x55ddbd(0x16d)][_0x55ddbd(0x161)](_0x283c55),_0xfc0141=_0x23924c[_0x55ddbd(0x105)][_0x55ddbd(0x16a)]()[_0x55ddbd(0xfd)](/```json|```/g,'')[_0x55ddbd(0x123)](),_0x21c3a7=JSON[_0x55ddbd(0x160)](_0xfc0141);return decisionCache[_0x1badee]={'decision':_0x21c3a7,'timestamp':_0x2ab041},_0x21c3a7;}catch(_0x325e66){return _0x583fc4[_0x55ddbd(0x162)]['warn'](_0x55ddbd(0x131)+_0x325e66[_0x55ddbd(0x15b)]),decisionCache[_0x1badee]={'decision':{'approved':!![],'reason':_0x55ddbd(0x13c)},'timestamp':_0x2ab041-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x55ddbd(0x13c)};}}async function runGeminiAnalysis(_0x1634af,_0x157b3e=''){const _0x5701ac=a0_0x1752b0;if(!_0x1634af[_0x5701ac(0x16d)])return;if(!canCallApi()){_0x1634af['log'][_0x5701ac(0x16b)]('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x1634af['eventHistory'][_0x5701ac(0x109)]===0x0)return;const _0x2cf292=_0x1634af['eventHistory'][_0x5701ac(0x150)](0x0,0xf),_0x4c4fc5=_0x1634af[_0x5701ac(0x15f)],_0x50aa8d=PERSONA_MAPPING[_0x1634af['config'][_0x5701ac(0xfe)]||_0x5701ac(0x10b)],_0x598db0=_0x1634af[_0x5701ac(0x12c)][_0x5701ac(0xfa)]||'Keine\x20Details.';let _0x2c0aa1=_0x5701ac(0x148);try{const _0x25543d=await _0x1634af[_0x5701ac(0x144)](_0x5701ac(0xf4));if(_0x25543d&&_0x25543d['val'])_0x2c0aa1=_0x25543d[_0x5701ac(0x142)];}catch(_0x3aa290){}let _0x2ca6d9=![];try{const _0x20958d=await _0x1634af[_0x5701ac(0x144)]('analysis.automation.autoApply');if(_0x20958d&&_0x20958d[_0x5701ac(0x142)])_0x2ca6d9=!![];}catch(_0x4129b7){}const _0x269a78=_0x5701ac(0x133)+_0x50aa8d+'.\x20KONTEXT:\x20'+_0x598db0+_0x5701ac(0x128)+_0x4c4fc5+_0x5701ac(0x116)+_0x2c0aa1+_0x5701ac(0x102)+JSON[_0x5701ac(0x14c)](_0x2cf292)+_0x5701ac(0x12a)+_0x157b3e+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x5c9a6c=await _0x1634af[_0x5701ac(0x16d)][_0x5701ac(0x161)](_0x269a78),_0x51e137=JSON['parse'](_0x5c9a6c['response'][_0x5701ac(0x16a)]()[_0x5701ac(0xfd)](/```json|```/g,'')[_0x5701ac(0x123)]());await _0x1634af[_0x5701ac(0x165)](_0x5701ac(0x122),{'val':JSON[_0x5701ac(0x14c)](_0x51e137),'ack':!![]});if(_0x51e137[_0x5701ac(0xfc)])await _0x1634af['setStateAsync'](_0x5701ac(0x155),{'val':_0x51e137[_0x5701ac(0xfc)],'ack':!![]});const _0x3f2f04={'timestamp':Date[_0x5701ac(0x145)](),'id':Date[_0x5701ac(0x145)]()[_0x5701ac(0xf7)](),'analysis':{'activity':{'summary':_0x51e137['summary'],'isAlert':_0x51e137['isAlert'],'alertReason':_0x51e137['alertReason']},'comfort':{'automationProposal':_0x51e137[_0x5701ac(0x143)]}}};_0x1634af[_0x5701ac(0x169)][_0x5701ac(0x10e)](_0x3f2f04);if(_0x1634af[_0x5701ac(0x169)]['length']>0x32)_0x1634af[_0x5701ac(0x169)][_0x5701ac(0x15c)]();await _0x1634af[_0x5701ac(0x165)](_0x5701ac(0x17b),{'val':JSON['stringify'](_0x1634af[_0x5701ac(0x169)]),'ack':!![]});const _0x5c7ecc=_0x51e137[_0x5701ac(0x146)]||![];_0x5c7ecc!==_0x1634af[_0x5701ac(0x17a)]&&(await _0x1634af['setStateAsync'](_0x5701ac(0x179),{'val':_0x5c7ecc,'ack':!![]}),_0x1634af['lastAlertState']=_0x5c7ecc,_0x5c7ecc&&(await _0x1634af['setStateAsync'](_0x5701ac(0x12e),{'val':_0x51e137[_0x5701ac(0x11f)],'ack':!![]}),setup[_0x5701ac(0x10f)](_0x1634af,_0x5701ac(0x176)+_0x51e137['alertReason'],![],_0x51e137[_0x5701ac(0x103)])));if(_0x51e137[_0x5701ac(0x143)]&&_0x51e137[_0x5701ac(0x143)][_0x5701ac(0x15a)]){await _0x1634af[_0x5701ac(0x165)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x1634af[_0x5701ac(0x165)]('analysis.automation.description',{'val':_0x51e137['automationProposal'][_0x5701ac(0xf8)],'ack':!![]}),await _0x1634af[_0x5701ac(0x165)]('analysis.automation.targetId',{'val':_0x51e137[_0x5701ac(0x143)]['targetId'],'ack':!![]}),await _0x1634af[_0x5701ac(0x165)](_0x5701ac(0x100),{'val':JSON[_0x5701ac(0x14c)](_0x51e137['automationProposal']['targetValue']),'ack':!![]});if(_0x2ca6d9)executeAutomationAction(_0x1634af);}}catch(_0x124815){_0x1634af[_0x5701ac(0x162)][_0x5701ac(0x149)](_0x5701ac(0xf6)+_0x124815[_0x5701ac(0x15b)]);}}async function createDailyDigest(_0x344b8b,_0x8dc81a){const _0x4b0638=a0_0x1752b0;if(!_0x344b8b['isProVersion'])return;if(!canCallApi()){await _0x344b8b['setStateAsync'](LTM_DP_STATUS,{'val':_0x4b0638(0x10c),'ack':!![]});return;}await _0x344b8b['setStateAsync'](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x344b8b[_0x4b0638(0x16d)]||_0x344b8b['rawEventLog'][_0x4b0638(0x109)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x344b8b[_0x4b0638(0x165)](LTM_DP_STATUS,{'val':_0x4b0638(0x11c),'ack':!![]});return;}const _0x171e43=JSON['parse'](JSON[_0x4b0638(0x14c)](_0x344b8b['rawEventLog'])),_0x3bce79=_0x171e43['length'],_0x1cdc25=_0x4b0638(0x130)+JSON[_0x4b0638(0x14c)](_0x171e43);try{updateApiTimestamp();const _0x3d91b5=await _0x344b8b[_0x4b0638(0x16d)][_0x4b0638(0x161)](_0x1cdc25),_0x546719=JSON[_0x4b0638(0x160)](_0x3d91b5[_0x4b0638(0x105)][_0x4b0638(0x16a)]()[_0x4b0638(0xfd)](/```json|```/g,'')[_0x4b0638(0x123)]()),_0x313d7a={'timestamp':new Date()[_0x4b0638(0xf9)](),'eventCount':_0x3bce79,'summary':_0x546719[_0x4b0638(0xfc)]||_0x4b0638(0xf3),'activityLevel':_0x546719[_0x4b0638(0x174)]||'normal','systemMode':_0x344b8b[_0x4b0638(0x15f)]};_0x344b8b[_0x4b0638(0x164)][_0x4b0638(0x119)](_0x313d7a);const _0x2a68e0=_0x344b8b[_0x4b0638(0x12c)][_0x4b0638(0x172)]||0x3c;_0x344b8b['dailyDigests'][_0x4b0638(0x109)]>_0x2a68e0&&_0x344b8b[_0x4b0638(0x164)][_0x4b0638(0x101)](0x0,_0x344b8b['dailyDigests']['length']-_0x2a68e0);await _0x344b8b[_0x4b0638(0x165)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4b0638(0x14c)](_0x344b8b[_0x4b0638(0x164)]),'ack':!![]}),_0x344b8b[_0x4b0638(0x15e)]=[],await _0x344b8b[_0x4b0638(0x165)](LTM_DP_RAW_LOG,{'val':JSON[_0x4b0638(0x14c)](_0x344b8b[_0x4b0638(0x15e)]),'ack':!![]}),await _0x344b8b['setStateAsync'](LTM_DP_STATUS,{'val':'Success','ack':!![]});const _0x1a2656=_0x4b0638(0x112)+_0x546719[_0x4b0638(0xfc)]+_0x4b0638(0x13e)+_0x546719[_0x4b0638(0x174)];setup[_0x4b0638(0x10f)](_0x344b8b,_0x1a2656,![],![]);if(_0x344b8b[_0x4b0638(0x117)]&&_0x8dc81a)_0x8dc81a[_0x4b0638(0x16c)](_0x344b8b,_0x4b0638(0x111),{'digest':_0x313d7a});}catch(_0x54ecf5){_0x344b8b[_0x4b0638(0x162)][_0x4b0638(0x149)](_0x54ecf5['message']);}}async function runBaselineDriftAnalysis(_0x1c59ab){const _0x12fb4e=a0_0x1752b0;if(!_0x1c59ab[_0x12fb4e(0x117)]||!_0x1c59ab[_0x12fb4e(0x16d)])return;if(!canCallApi())return;const _0x5a8d69=_0x1c59ab['config']['ltmStbWindowDays']||0xe;if(_0x1c59ab['dailyDigests'][_0x12fb4e(0x109)]<_0x5a8d69+0x7){await _0x1c59ab[_0x12fb4e(0x165)](_0x12fb4e(0x125),{'val':_0x12fb4e(0x166),'ack':!![]});return;}const _0x29162e=_0x1c59ab[_0x12fb4e(0x164)][_0x12fb4e(0x150)](-_0x5a8d69),_0x4d3b02=_0x1c59ab[_0x12fb4e(0x164)][_0x12fb4e(0x150)](0x0,_0x1c59ab['dailyDigests'][_0x12fb4e(0x109)]-_0x5a8d69),_0x132fd7=_0x12fb4e(0x13f)+JSON[_0x12fb4e(0x14c)](_0x4d3b02)+_0x12fb4e(0x12b)+JSON['stringify'](_0x29162e);try{updateApiTimestamp();const _0x1dd209=await _0x1c59ab[_0x12fb4e(0x16d)][_0x12fb4e(0x161)](_0x132fd7),_0xde3049=JSON[_0x12fb4e(0x160)](_0x1dd209['response'][_0x12fb4e(0x16a)]()['replace'](/```json|```/g,'')[_0x12fb4e(0x123)]());_0xde3049[_0x12fb4e(0x17c)]&&(await _0x1c59ab['setStateAsync'](_0x12fb4e(0x125),{'val':_0xde3049['baselineDrift'],'ack':!![]}),await _0x1c59ab[_0x12fb4e(0x165)](_0x12fb4e(0x147),{'val':_0xde3049['driftDetails'],'ack':!![]}),await _0x1c59ab['setStateAsync']('LTM.driftAnalysis.lastCheck',{'val':Date[_0x12fb4e(0x145)](),'ack':!![]}));}catch(_0x8dbc09){}}function a0_0x3279(){const _0x5a067d=['\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','info','Â°C,\x20','.forecast.current.temperature','KI-Fehler\x20(Fallback)','.Current.WeatherText','\x0aAktivitÃ¤t:\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','decision','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','val','automationProposal','getStateAsync','now','isAlert','LTM.driftAnalysis.driftDetails','Unbekannt','error','49194exfWvk','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','stringify','LTM.dailyDigests','104fnbypa','toLocaleTimeString','slice','approved','\x20=\x20','Unbekannt\x20(Kein\x20Sensor)','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','analysis.activitySummary','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Traffic-Schutz\x20(Auto-Approved)','336DcySqZ','useWeather','detected','message','pop','80784BHqgyV','rawEventLog','currentSystemMode','parse','generateContent','log','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','dailyDigests','setStateAsync','N/A\x20(Learning)','\x20Ã¼bersprungen\x20(Auto-Approved).','149250GYRnNt','analysisHistory','text','debug','send','geminiModel','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','BUTLER\x20Execution\x20Error:\x20','models/gemini-flash-latest','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','ltmLtbWindowDays','\x20->\x20','activityLevel','Briefing\x20Error:\x20','âš ï¸\x20ALARM:\x20',').\x20Sending\x20notification...','reason','analysis.isAlert','lastAlertState','analysis.analysisHistory','baselineDrift','Digest','system.presenceWho','ðŸŒ…\x20Morning\x20Briefing:\x0a','Gemini\x20Error:\x20','toString','description','toISOString','livingContext','.forecast.current.state','summary','replace','aiPersona',',\x20LichtverhÃ¤ltnisse:\x20','analysis.automation.targetValue','splice','.\x20EVENTS:\x20','isEmergency','ðŸ¤–\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','response','77hqWOlq','@google/generative-ai','200oifQeq','length','warn','generic','Skipped\x20(Traffic)','7304nwQbAo','unshift','sendNotification','toFixed','ANALYZE_HEALTH','ðŸ“…\x20Daily\x20Digest:\x0a','exports','./setup','85riCXsx','.\x20ANWESEND:\x20','isProVersion','search','push','weatherInstance','Sicherheit\x20geht\x20vor.','Skipped\x20(No\x20AI\x20or\x20Data)','(((.+)+)+)+$','474780uGmFIS','alertReason','2094kUjbtp','%)\x20nach\x20\x22','analysis.lastResult','trim','Tag','LTM.driftAnalysis.baselineDrift','timestamp','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','.\x20SYSTEM_MODE:\x20','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','.\x20EMERGENCY:\x20','\x0aSTB:\x20','config',',\x20Wetter:\x20','analysis.alertReason','ðŸŒ…\x20Briefing\x20generated\x20(Length:\x20','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','getForeignStateAsync','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','setForeignStateAsync','39310PwZzun','ðŸŒ…\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.'];a0_0x3279=function(){return _0x5a067d;};return a0_0x3279();}async function executeAutomationAction(_0x435412){const _0x1ed187=a0_0x1752b0;try{const _0x118756=await _0x435412[_0x1ed187(0x144)]('analysis.automation.targetId'),_0x3c09d8=await _0x435412[_0x1ed187(0x144)](_0x1ed187(0x100));if(_0x118756&&_0x118756[_0x1ed187(0x142)]&&_0x3c09d8){const _0x507fe4=_0x118756[_0x1ed187(0x142)];let _0x1fde50=_0x3c09d8[_0x1ed187(0x142)];try{_0x1fde50=JSON[_0x1ed187(0x160)](_0x1fde50);}catch(_0xfc89f3){}_0x435412[_0x1ed187(0x162)][_0x1ed187(0x139)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x507fe4+_0x1ed187(0x152)+_0x1fde50),await _0x435412[_0x1ed187(0x134)](_0x507fe4,_0x1fde50);}else _0x435412[_0x1ed187(0x162)][_0x1ed187(0x10a)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x3f8d78){_0x435412[_0x1ed187(0x162)][_0x1ed187(0x149)](_0x1ed187(0x16f)+_0x3f8d78[_0x1ed187(0x15b)]);}}async function sendMorningBriefing(_0x1631f0){const _0x546768=a0_0x1752b0;if(!_0x1631f0[_0x546768(0x16d)]){_0x1631f0['log'][_0x546768(0x10a)](_0x546768(0x104));return;}_0x1631f0['log'][_0x546768(0x139)](_0x546768(0x136));try{updateApiTimestamp();const _0x6850fd=_0x546768(0x129),_0x2813ee=await _0x1631f0[_0x546768(0x16d)][_0x546768(0x161)](_0x6850fd),_0x99809a=_0x2813ee['response'][_0x546768(0x16a)]();_0x1631f0[_0x546768(0x162)]['info'](_0x546768(0x12f)+_0x99809a['length']+_0x546768(0x177)),setup[_0x546768(0x10f)](_0x1631f0,_0x546768(0xf5)+_0x99809a);}catch(_0x2d345a){_0x1631f0[_0x546768(0x162)]['error'](_0x546768(0x175)+_0x2d345a[_0x546768(0x15b)]);}}module[a0_0x1752b0(0x113)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};