const a0_0xe8d8c6=a0_0x2fb8;(function(_0x294b62,_0x2bc33b){const _0x3dd6ef=a0_0x2fb8,_0x5d6e29=_0x294b62();while(!![]){try{const _0x4886df=-parseInt(_0x3dd6ef(0x191))/0x1*(parseInt(_0x3dd6ef(0x1b1))/0x2)+-parseInt(_0x3dd6ef(0x154))/0x3+-parseInt(_0x3dd6ef(0x189))/0x4+-parseInt(_0x3dd6ef(0x150))/0x5+parseInt(_0x3dd6ef(0x17d))/0x6+parseInt(_0x3dd6ef(0x1ac))/0x7+parseInt(_0x3dd6ef(0x170))/0x8;if(_0x4886df===_0x2bc33b)break;else _0x5d6e29['push'](_0x5d6e29['shift']());}catch(_0x2d4d03){_0x5d6e29['push'](_0x5d6e29['shift']());}}}(a0_0x4939,0x6d585));const a0_0x4a3d1b=(function(){let _0x2d3ee8=!![];return function(_0x4a5944,_0x3407e3){const _0x2f09aa=_0x2d3ee8?function(){const _0x1e7c15=a0_0x2fb8;if(_0x3407e3){const _0x2d41b9=_0x3407e3[_0x1e7c15(0x19c)](_0x4a5944,arguments);return _0x3407e3=null,_0x2d41b9;}}:function(){};return _0x2d3ee8=![],_0x2f09aa;};}()),a0_0x15e518=a0_0x4a3d1b(this,function(){const _0x78d18d=a0_0x2fb8;return a0_0x15e518[_0x78d18d(0x173)]()[_0x78d18d(0x19d)](_0x78d18d(0x1bb))['toString']()['constructor'](a0_0x15e518)[_0x78d18d(0x19d)](_0x78d18d(0x1bb));});a0_0x15e518();'use strict';const {GoogleGenerativeAI}=require(a0_0xe8d8c6(0x196)),setup=require(a0_0xe8d8c6(0x156)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0xe8d8c6(0x195),LTM_DP_STATUS=a0_0xe8d8c6(0x184),LTM_DP_RAW_LOG=a0_0xe8d8c6(0x14a),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0xe8d8c6(0x160),'senior_aal':a0_0xe8d8c6(0x181),'family':a0_0xe8d8c6(0x18a),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':'Sicherheit\x20geht\x20vor.','energy_saver':'PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x3eab8b=Date['now']();return _0x3eab8b-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x17cd09=a0_0xe8d8c6;lastGlobalApiCall=Date[_0x17cd09(0x1a2)]();}async function getWeatherContext(_0x3607a9){const _0x59bd83=a0_0xe8d8c6;if(!_0x3607a9['config'][_0x59bd83(0x172)]||!_0x3607a9[_0x59bd83(0x14f)][_0x59bd83(0x169)])return _0x59bd83(0x164);try{const _0x2e2a66=_0x3607a9[_0x59bd83(0x14f)][_0x59bd83(0x169)];let _0x21175d=await _0x3607a9[_0x59bd83(0x1b2)](_0x2e2a66+_0x59bd83(0x198));if(!_0x21175d)_0x21175d=await _0x3607a9[_0x59bd83(0x1b2)](_0x2e2a66+'.forecast.current.temperature');let _0x40b1fc=await _0x3607a9[_0x59bd83(0x1b2)](_0x2e2a66+_0x59bd83(0x17f));if(!_0x40b1fc)_0x40b1fc=await _0x3607a9['getForeignStateAsync'](_0x2e2a66+_0x59bd83(0x185));let _0xfec30b=_0x59bd83(0x197);const _0x2a76fe=await _0x3607a9[_0x59bd83(0x1b2)](_0x2e2a66+_0x59bd83(0x17c));if(_0x2a76fe)_0xfec30b=_0x2a76fe[_0x59bd83(0x182)]?_0x59bd83(0x15f):_0x59bd83(0x1ab);if(_0x21175d&&_0x40b1fc)return _0x21175d[_0x59bd83(0x182)]+_0x59bd83(0x18c)+_0x40b1fc[_0x59bd83(0x182)]+_0x59bd83(0x178)+_0xfec30b;}catch(_0x4aa31e){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x49932b,_0x17d8ba,_0x3f503e,_0x21ebb9){const _0x17fd49=a0_0xe8d8c6;if(!_0x49932b[_0x17fd49(0x1b0)])return{'approved':!![],'reason':_0x17fd49(0x15e)};const _0x1ccaed=Date[_0x17fd49(0x1a2)]();if(decisionCache[_0x17d8ba]&&_0x1ccaed-decisionCache[_0x17d8ba][_0x17fd49(0x1ad)]<CACHE_TTL_MS){const _0x39d79d=decisionCache[_0x17d8ba]['decision'];return _0x49932b[_0x17fd49(0x1a3)][_0x17fd49(0x148)](_0x17fd49(0x165)+_0x17d8ba+'\x20->\x20'+(_0x39d79d['approved']?'OK':'NO')+'\x20('+_0x39d79d[_0x17fd49(0x193)]+')'),_0x39d79d;}if(!canCallApi())return _0x49932b['log'][_0x17fd49(0x148)]('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x17d8ba+_0x17fd49(0x1b9)),{'approved':!![],'reason':_0x17fd49(0x15d)};const _0x3f7a88=new Date()[_0x17fd49(0x1b3)](),_0x1973ad=await getWeatherContext(_0x49932b),_0x47348b=PERSONA_MAPPING[_0x49932b['config'][_0x17fd49(0x1b8)]||'generic'],_0x3e9c44='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x3f7a88+',\x20Wetter:\x20'+_0x1973ad+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x21ebb9*0x64)[_0x17fd49(0x16b)](0x0)+_0x17fd49(0x16e)+_0x17d8ba+_0x17fd49(0x147)+_0x3f503e+_0x17fd49(0x190)+_0x47348b+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x3eb3c1=await _0x49932b[_0x17fd49(0x1b0)][_0x17fd49(0x177)](_0x3e9c44),_0x5bdb22=_0x3eb3c1[_0x17fd49(0x1ae)][_0x17fd49(0x153)]()[_0x17fd49(0x18f)](/```json|```/g,'')[_0x17fd49(0x14c)](),_0x5f223f=JSON['parse'](_0x5bdb22);return decisionCache[_0x17d8ba]={'decision':_0x5f223f,'timestamp':_0x1ccaed},_0x5f223f;}catch(_0x198e32){return _0x49932b[_0x17fd49(0x1a3)][_0x17fd49(0x167)]('ü§ñ\x20Butler\x20Brain\x20Error:\x20'+_0x198e32[_0x17fd49(0x19a)]),decisionCache[_0x17d8ba]={'decision':{'approved':!![],'reason':_0x17fd49(0x155)},'timestamp':_0x1ccaed-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x17fd49(0x155)};}}async function runGeminiAnalysis(_0x336836,_0x186a62=''){const _0x25925c=a0_0xe8d8c6;if(!_0x336836[_0x25925c(0x1b0)])return;if(!canCallApi()){_0x336836[_0x25925c(0x1a3)]['debug']('ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x336836[_0x25925c(0x18e)]['length']===0x0)return;const _0x195fdc=_0x336836[_0x25925c(0x18e)][_0x25925c(0x16f)](0x0,0xf),_0x3333b9=_0x336836[_0x25925c(0x199)],_0x470244=PERSONA_MAPPING[_0x336836[_0x25925c(0x14f)]['aiPersona']||_0x25925c(0x158)],_0x54aeb8=_0x336836[_0x25925c(0x14f)][_0x25925c(0x16c)]||_0x25925c(0x1a8);let _0x2eb54c='Unbekannt';try{const _0xf1d63f=await _0x336836[_0x25925c(0x1a5)](_0x25925c(0x1b4));if(_0xf1d63f&&_0xf1d63f[_0x25925c(0x182)])_0x2eb54c=_0xf1d63f[_0x25925c(0x182)];}catch(_0x3f57bf){}let _0x964e9=![];try{const _0x9fe85c=await _0x336836[_0x25925c(0x1a5)](_0x25925c(0x18b));if(_0x9fe85c&&_0x9fe85c['val'])_0x964e9=!![];}catch(_0x4d3a9b){}const _0x55dcc3=_0x25925c(0x15c)+_0x470244+'.\x20KONTEXT:\x20'+_0x54aeb8+'.\x20SYSTEM_MODE:\x20'+_0x3333b9+_0x25925c(0x18d)+_0x2eb54c+_0x25925c(0x1a1)+JSON[_0x25925c(0x149)](_0x195fdc)+_0x25925c(0x157)+_0x186a62+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x778aa0=await _0x336836[_0x25925c(0x1b0)]['generateContent'](_0x55dcc3),_0xf96494=JSON[_0x25925c(0x162)](_0x778aa0[_0x25925c(0x1ae)][_0x25925c(0x153)]()['replace'](/```json|```/g,'')[_0x25925c(0x14c)]());await _0x336836['setStateAsync'](_0x25925c(0x15b),{'val':JSON[_0x25925c(0x149)](_0xf96494),'ack':!![]});if(_0xf96494['summary'])await _0x336836[_0x25925c(0x17b)](_0x25925c(0x17a),{'val':_0xf96494[_0x25925c(0x1a4)],'ack':!![]});const _0x333bb5={'timestamp':Date['now'](),'id':Date[_0x25925c(0x1a2)]()[_0x25925c(0x173)](),'analysis':{'activity':{'summary':_0xf96494[_0x25925c(0x1a4)],'isAlert':_0xf96494[_0x25925c(0x16d)],'alertReason':_0xf96494[_0x25925c(0x163)]},'comfort':{'automationProposal':_0xf96494['automationProposal']}}};_0x336836[_0x25925c(0x14d)][_0x25925c(0x1b5)](_0x333bb5);if(_0x336836[_0x25925c(0x14d)][_0x25925c(0x16a)]>0x32)_0x336836[_0x25925c(0x14d)]['pop']();await _0x336836[_0x25925c(0x17b)]('analysis.analysisHistory',{'val':JSON[_0x25925c(0x149)](_0x336836[_0x25925c(0x14d)]),'ack':!![]});const _0x46f56b=_0xf96494[_0x25925c(0x16d)]||![];_0x46f56b!==_0x336836[_0x25925c(0x1a9)]&&(await _0x336836[_0x25925c(0x17b)](_0x25925c(0x1ba),{'val':_0x46f56b,'ack':!![]}),_0x336836[_0x25925c(0x1a9)]=_0x46f56b,_0x46f56b&&(await _0x336836['setStateAsync'](_0x25925c(0x161),{'val':_0xf96494[_0x25925c(0x163)],'ack':!![]}),setup['sendNotification'](_0x336836,_0x25925c(0x166)+_0xf96494[_0x25925c(0x163)],![],_0xf96494['isEmergency'])));if(_0xf96494['automationProposal']&&_0xf96494['automationProposal']['detected']){await _0x336836[_0x25925c(0x17b)](_0x25925c(0x15a),{'val':!![],'ack':!![]}),await _0x336836[_0x25925c(0x17b)]('analysis.automation.description',{'val':_0xf96494[_0x25925c(0x183)][_0x25925c(0x19e)],'ack':!![]}),await _0x336836[_0x25925c(0x17b)](_0x25925c(0x180),{'val':_0xf96494[_0x25925c(0x183)]['targetId'],'ack':!![]}),await _0x336836[_0x25925c(0x17b)](_0x25925c(0x174),{'val':JSON[_0x25925c(0x149)](_0xf96494['automationProposal'][_0x25925c(0x187)]),'ack':!![]});if(_0x964e9)executeAutomationAction(_0x336836);}}catch(_0x306e2c){_0x336836[_0x25925c(0x1a3)][_0x25925c(0x14e)]('Gemini\x20Error:\x20'+_0x306e2c['message']);}}function a0_0x2fb8(_0x14ecbb,_0x42a617){const _0x13f8bf=a0_0x4939();return a0_0x2fb8=function(_0x15e518,_0x4a3d1b){_0x15e518=_0x15e518-0x147;let _0x493973=_0x13f8bf[_0x15e518];return _0x493973;},a0_0x2fb8(_0x14ecbb,_0x42a617);}function a0_0x4939(){const _0x2b5646=['LTM.processingStatus','.forecast.current.state','push','targetValue','BUTLER\x20Execution\x20Error:\x20','2001572VNbjAM','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','analysis.automation.autoApply','¬∞C,\x20','.\x20ANWESEND:\x20','eventHistory','replace','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','2191QWGdrh','send','reason','Briefing\x20Error:\x20','LTM.dailyDigests','@google/generative-ai','Unbekannt','.Current.Temperature','currentSystemMode','message','LTM.driftAnalysis.baselineDrift','apply','search','description','exports','info','.\x20EVENTS:\x20','now','log','summary','getStateAsync','LTM.driftAnalysis.driftDetails','normal','Keine\x20Details.','lastAlertState','N/A\x20(Learning)','Tag','6154190DLXQFm','timestamp','response','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','geminiModel','480ZbDYhd','getForeignStateAsync','toLocaleTimeString','system.presenceWho','unshift','\x0aSTB:\x20','\x20=\x20','aiPersona','\x20√ºbersprungen\x20(Auto-Approved).','analysis.isAlert','(((.+)+)+)+$','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','debug','stringify','LTM.rawEventLog','dailyDigests','trim','analysisHistory','error','config','1362410pzUgkZ','üåÖ\x20Morning\x20Briefing:\x0a','isProVersion','text','807339JFLUvO','KI-Fehler\x20(Fallback)','./setup','.\x20EMERGENCY:\x20','generic','ltmLtbWindowDays','analysis.automation.patternDetected','analysis.lastResult','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','Traffic-Schutz\x20(Auto-Approved)','KI\x20offline\x20(Fallback)','Nacht','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','analysis.alertReason','parse','alertReason','Unbekannt\x20(Kein\x20Sensor)','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','‚ö†Ô∏è\x20ALARM:\x20','warn','rawEventLog','weatherInstance','length','toFixed','livingContext','isAlert','%)\x20nach\x20\x22','slice','5219864swGVWh','baselineDrift','useWeather','toString','analysis.automation.targetValue','setForeignStateAsync','Skipped\x20(Traffic)','generateContent',',\x20Lichtverh√§ltnisse:\x20','Skipped\x20(No\x20AI\x20or\x20Data)','analysis.activitySummary','setStateAsync','.Current.IsNight','2904312aHrsjA','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','.Current.WeatherText','analysis.automation.targetId','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','val','automationProposal'];a0_0x4939=function(){return _0x2b5646;};return a0_0x4939();}async function createDailyDigest(_0x3d5767,_0x470964){const _0x40946f=a0_0xe8d8c6;if(!_0x3d5767['isProVersion'])return;if(!canCallApi()){await _0x3d5767[_0x40946f(0x17b)](LTM_DP_STATUS,{'val':_0x40946f(0x176),'ack':!![]});return;}await _0x3d5767['setStateAsync'](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x3d5767[_0x40946f(0x1b0)]||_0x3d5767[_0x40946f(0x168)][_0x40946f(0x16a)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x3d5767[_0x40946f(0x17b)](LTM_DP_STATUS,{'val':_0x40946f(0x179),'ack':!![]});return;}const _0x592b7f=JSON['parse'](JSON['stringify'](_0x3d5767[_0x40946f(0x168)])),_0x5cbd7b=_0x592b7f[_0x40946f(0x16a)],_0x575fed=_0x40946f(0x1af)+JSON[_0x40946f(0x149)](_0x592b7f);try{updateApiTimestamp();const _0x231d21=await _0x3d5767[_0x40946f(0x1b0)][_0x40946f(0x177)](_0x575fed),_0x4177ff=JSON[_0x40946f(0x162)](_0x231d21[_0x40946f(0x1ae)]['text']()[_0x40946f(0x18f)](/```json|```/g,'')[_0x40946f(0x14c)]()),_0x355617={'timestamp':new Date()['toISOString'](),'eventCount':_0x5cbd7b,'summary':_0x4177ff[_0x40946f(0x1a4)]||'Digest','activityLevel':_0x4177ff['activityLevel']||_0x40946f(0x1a7),'systemMode':_0x3d5767['currentSystemMode']};_0x3d5767[_0x40946f(0x14b)][_0x40946f(0x186)](_0x355617);const _0x188ee0=_0x3d5767[_0x40946f(0x14f)][_0x40946f(0x159)]||0x3c;_0x3d5767[_0x40946f(0x14b)]['length']>_0x188ee0&&_0x3d5767[_0x40946f(0x14b)]['splice'](0x0,_0x3d5767[_0x40946f(0x14b)]['length']-_0x188ee0);await _0x3d5767[_0x40946f(0x17b)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x40946f(0x149)](_0x3d5767[_0x40946f(0x14b)]),'ack':!![]}),_0x3d5767['rawEventLog']=[],await _0x3d5767[_0x40946f(0x17b)](LTM_DP_RAW_LOG,{'val':JSON[_0x40946f(0x149)](_0x3d5767[_0x40946f(0x168)]),'ack':!![]}),await _0x3d5767[_0x40946f(0x17b)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x3d5767[_0x40946f(0x152)]&&_0x470964)_0x470964[_0x40946f(0x192)](_0x3d5767,'ANALYZE_HEALTH',{'digest':_0x355617});}catch(_0x1ba907){_0x3d5767[_0x40946f(0x1a3)]['error'](_0x1ba907[_0x40946f(0x19a)]);}}async function runBaselineDriftAnalysis(_0x393f92){const _0x49154c=a0_0xe8d8c6;if(!_0x393f92[_0x49154c(0x152)]||!_0x393f92[_0x49154c(0x1b0)])return;if(!canCallApi())return;const _0x23f212=_0x393f92['config']['ltmStbWindowDays']||0xe;if(_0x393f92[_0x49154c(0x14b)]['length']<_0x23f212+0x7){await _0x393f92['setStateAsync'](_0x49154c(0x19b),{'val':_0x49154c(0x1aa),'ack':!![]});return;}const _0x3b47ad=_0x393f92[_0x49154c(0x14b)][_0x49154c(0x16f)](-_0x23f212),_0x3e0620=_0x393f92[_0x49154c(0x14b)]['slice'](0x0,_0x393f92[_0x49154c(0x14b)][_0x49154c(0x16a)]-_0x23f212),_0x4d13c1=_0x49154c(0x17e)+JSON[_0x49154c(0x149)](_0x3e0620)+_0x49154c(0x1b6)+JSON[_0x49154c(0x149)](_0x3b47ad);try{updateApiTimestamp();const _0x5369c4=await _0x393f92[_0x49154c(0x1b0)][_0x49154c(0x177)](_0x4d13c1),_0x58516b=JSON[_0x49154c(0x162)](_0x5369c4['response']['text']()[_0x49154c(0x18f)](/```json|```/g,'')[_0x49154c(0x14c)]());_0x58516b['baselineDrift']&&(await _0x393f92[_0x49154c(0x17b)](_0x49154c(0x19b),{'val':_0x58516b[_0x49154c(0x171)],'ack':!![]}),await _0x393f92['setStateAsync'](_0x49154c(0x1a6),{'val':_0x58516b['driftDetails'],'ack':!![]}),await _0x393f92[_0x49154c(0x17b)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x49154c(0x1a2)](),'ack':!![]}));}catch(_0x50246d){}}async function executeAutomationAction(_0x348537){const _0x30bcff=a0_0xe8d8c6;try{const _0x474cb3=await _0x348537[_0x30bcff(0x1a5)](_0x30bcff(0x180)),_0x42385f=await _0x348537['getStateAsync'](_0x30bcff(0x174));if(_0x474cb3&&_0x474cb3[_0x30bcff(0x182)]&&_0x42385f){const _0x291f05=_0x474cb3['val'];let _0x5b835e=_0x42385f[_0x30bcff(0x182)];try{_0x5b835e=JSON['parse'](_0x5b835e);}catch(_0x52af3f){}_0x348537[_0x30bcff(0x1a3)][_0x30bcff(0x1a0)]('ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x291f05+_0x30bcff(0x1b7)+_0x5b835e),await _0x348537[_0x30bcff(0x175)](_0x291f05,_0x5b835e);}else _0x348537[_0x30bcff(0x1a3)][_0x30bcff(0x167)]('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x4b04d3){_0x348537[_0x30bcff(0x1a3)]['error'](_0x30bcff(0x188)+_0x4b04d3[_0x30bcff(0x19a)]);}}async function sendMorningBriefing(_0x138ded){const _0x24dcd4=a0_0xe8d8c6;if(!_0x138ded[_0x24dcd4(0x1b0)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x220613='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0x236f0e=await _0x138ded[_0x24dcd4(0x1b0)][_0x24dcd4(0x177)](_0x220613),_0x8359e9=_0x236f0e['response'][_0x24dcd4(0x153)]();setup['sendNotification'](_0x138ded,_0x24dcd4(0x151)+_0x8359e9);}catch(_0x13de30){_0x138ded[_0x24dcd4(0x1a3)][_0x24dcd4(0x14e)](_0x24dcd4(0x194)+_0x13de30[_0x24dcd4(0x19a)]);}}module[a0_0xe8d8c6(0x19f)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};