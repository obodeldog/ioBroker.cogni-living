const a0_0x10324b=a0_0x1aee;(function(_0x10ce46,_0x12ec52){const _0xdf9ab4=a0_0x1aee,_0x23d1ba=_0x10ce46();while(!![]){try{const _0x47bf3d=parseInt(_0xdf9ab4(0x1b6))/0x1+parseInt(_0xdf9ab4(0x1bd))/0x2*(parseInt(_0xdf9ab4(0x213))/0x3)+-parseInt(_0xdf9ab4(0x214))/0x4*(-parseInt(_0xdf9ab4(0x1f6))/0x5)+-parseInt(_0xdf9ab4(0x1dc))/0x6*(parseInt(_0xdf9ab4(0x206))/0x7)+parseInt(_0xdf9ab4(0x1bc))/0x8*(-parseInt(_0xdf9ab4(0x221))/0x9)+parseInt(_0xdf9ab4(0x1e5))/0xa+-parseInt(_0xdf9ab4(0x233))/0xb;if(_0x47bf3d===_0x12ec52)break;else _0x23d1ba['push'](_0x23d1ba['shift']());}catch(_0x529768){_0x23d1ba['push'](_0x23d1ba['shift']());}}}(a0_0xcc6c,0xc8e69));const a0_0x44a494=(function(){let _0x1e7830=!![];return function(_0x148eef,_0x3397cf){const _0x457996=_0x1e7830?function(){const _0x515a0b=a0_0x1aee;if(_0x3397cf){const _0xd339a6=_0x3397cf[_0x515a0b(0x236)](_0x148eef,arguments);return _0x3397cf=null,_0xd339a6;}}:function(){};return _0x1e7830=![],_0x457996;};}()),a0_0x48b4d5=a0_0x44a494(this,function(){const _0x4462f7=a0_0x1aee;return a0_0x48b4d5[_0x4462f7(0x232)]()['search'](_0x4462f7(0x1b4))[_0x4462f7(0x232)]()['constructor'](a0_0x48b4d5)['search'](_0x4462f7(0x1b4));});function a0_0xcc6c(){const _0x28beda=['isProVersion','isAlert','KI-Fehler\x20(Fallback)','trim','toISOString','unshift','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','livingContext','ltmStbWindowDays','5UqVIQB','getForeignStateAsync','val','normal','analysis.automation.autoApply','analysis.automation.patternDetected','timestamp','log','.forecast.current.state','\x20√ºbersprungen\x20(Auto-Approved).','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Started...','rawEventLog','analysisHistory','generic','response','7333529HYzmbR','analysis.automation.targetId','parse','Wetterdaten\x20nicht\x20abrufbar','detected','LTM.processingStatus','summary','.forecast.current.temperature','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','error','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','Skipped\x20(No\x20AI\x20or\x20Data)','KI\x20offline\x20(Fallback)','3volqhV','3783032TCbUqG','config','automationProposal','.\x20KONTEXT:\x20','exports','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','ltmLtbWindowDays','Digest','Gemini\x20Error:\x20','pop','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','system.presenceWho','analysis.automation.targetValue','1305WEJykW','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','N/A\x20(Learning)','isEmergency','Sicherheit\x20geht\x20vor.','setForeignStateAsync','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','setStateAsync','models/gemini-flash-latest','dailyDigests','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','slice','analysis.activitySummary','Unbekannt','now','ü§ñ\x20Butler\x20Brain\x20Error:\x20','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','toString','12309737nqQFFN','¬∞C,\x20','analysis.isAlert','apply','activityLevel','push','analysis.analysisHistory','.Current.WeatherText','description','üåÖ\x20Morning\x20Briefing:\x0a','Nacht','(((.+)+)+)+$','baselineDrift','405809wfcjDM','replace','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','currentSystemMode','weatherInstance','analysis.alertReason','54088iGBliM','2165554NNnbms','text','LTM.dailyDigests','useWeather','reason','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','warn','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','.\x20EMERGENCY:\x20','toLocaleTimeString',',\x20Wetter:\x20','sendNotification','\x0aSTB:\x20','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','eventHistory','Tag','stringify','alertReason','Briefing\x20Error:\x20','Skipped\x20(Traffic)','./setup','approved','getStateAsync','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','info','LTM.driftAnalysis.baselineDrift','message','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','LTM.driftAnalysis.driftDetails','%)\x20nach\x20\x22','targetValue','6wXTtIC','lastAlertState','geminiModel','splice','length','generateContent','debug','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','ANALYZE_HEALTH','15356040wTNRCH','Keine\x20Details.',',\x20Lichtverh√§ltnisse:\x20','Traffic-Schutz\x20(Auto-Approved)','driftDetails','toFixed','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','.\x20ANWESEND:\x20'];a0_0xcc6c=function(){return _0x28beda;};return a0_0xcc6c();}a0_0x48b4d5();'use strict';const {GoogleGenerativeAI}=require('@google/generative-ai'),setup=require(a0_0x10324b(0x1d1)),GEMINI_MODEL=a0_0x10324b(0x229),LTM_DP_DAILY_DIGESTS=a0_0x10324b(0x1bf),LTM_DP_STATUS=a0_0x10324b(0x20b),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x10324b(0x1d8),'senior_aal':a0_0x10324b(0x1b8),'family':a0_0x10324b(0x1eb),'single_comfort':a0_0x10324b(0x231),'security':a0_0x10324b(0x225),'energy_saver':a0_0x10324b(0x210)};function canCallApi(){const _0x826ffb=a0_0x10324b,_0x4ebd67=Date[_0x826ffb(0x22f)]();return _0x4ebd67-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x13a11e=a0_0x10324b;lastGlobalApiCall=Date[_0x13a11e(0x22f)]();}async function getWeatherContext(_0x2da381){const _0x16ca84=a0_0x10324b;if(!_0x2da381[_0x16ca84(0x215)][_0x16ca84(0x1c0)]||!_0x2da381['config'][_0x16ca84(0x1ba)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x416010=_0x2da381[_0x16ca84(0x215)][_0x16ca84(0x1ba)];let _0x67d381=await _0x2da381[_0x16ca84(0x1f7)](_0x416010+'.Current.Temperature');if(!_0x67d381)_0x67d381=await _0x2da381[_0x16ca84(0x1f7)](_0x416010+_0x16ca84(0x20d));let _0x462f8f=await _0x2da381[_0x16ca84(0x1f7)](_0x416010+_0x16ca84(0x23a));if(!_0x462f8f)_0x462f8f=await _0x2da381['getForeignStateAsync'](_0x416010+_0x16ca84(0x1fe));let _0x30076d=_0x16ca84(0x22e);const _0x442aa1=await _0x2da381[_0x16ca84(0x1f7)](_0x416010+'.Current.IsNight');if(_0x442aa1)_0x30076d=_0x442aa1[_0x16ca84(0x1f8)]?_0x16ca84(0x1b3):_0x16ca84(0x1cc);if(_0x67d381&&_0x462f8f)return _0x67d381[_0x16ca84(0x1f8)]+_0x16ca84(0x234)+_0x462f8f[_0x16ca84(0x1f8)]+_0x16ca84(0x1e7)+_0x30076d;}catch(_0x2a20c5){}return _0x16ca84(0x209);}async function consultButler(_0x138e3e,_0x491268,_0xc71044,_0x168bc0){const _0x13d4e7=a0_0x10324b;if(!_0x138e3e[_0x13d4e7(0x1de)])return{'approved':!![],'reason':_0x13d4e7(0x212)};const _0x5500c5=Date[_0x13d4e7(0x22f)]();if(decisionCache[_0x491268]&&_0x5500c5-decisionCache[_0x491268][_0x13d4e7(0x1fc)]<CACHE_TTL_MS){const _0x525226=decisionCache[_0x491268]['decision'];return _0x138e3e[_0x13d4e7(0x1fd)][_0x13d4e7(0x1e2)](_0x13d4e7(0x1ca)+_0x491268+'\x20->\x20'+(_0x525226[_0x13d4e7(0x1d2)]?'OK':'NO')+'\x20('+_0x525226[_0x13d4e7(0x1c1)]+')'),_0x525226;}if(!canCallApi())return _0x138e3e['log'][_0x13d4e7(0x1e2)](_0x13d4e7(0x1e3)+_0x491268+_0x13d4e7(0x1ff)),{'approved':!![],'reason':_0x13d4e7(0x1e8)};const _0x50a119=new Date()[_0x13d4e7(0x1c6)](),_0x544d3d=await getWeatherContext(_0x138e3e),_0x10e76e=PERSONA_MAPPING[_0x138e3e[_0x13d4e7(0x215)]['aiPersona']||_0x13d4e7(0x204)],_0x5b0d19=_0x13d4e7(0x1c4)+_0x50a119+_0x13d4e7(0x1c7)+_0x544d3d+_0x13d4e7(0x219)+(_0x168bc0*0x64)[_0x13d4e7(0x1ea)](0x0)+_0x13d4e7(0x1da)+_0x491268+_0x13d4e7(0x200)+_0xc71044+_0x13d4e7(0x21e)+_0x10e76e+_0x13d4e7(0x1d4);try{updateApiTimestamp();const _0x3dd452=await _0x138e3e[_0x13d4e7(0x1de)][_0x13d4e7(0x1e1)](_0x5b0d19),_0x4aafca=_0x3dd452[_0x13d4e7(0x205)][_0x13d4e7(0x1be)]()[_0x13d4e7(0x1b7)](/```json|```/g,'')[_0x13d4e7(0x1f0)](),_0x2f7907=JSON[_0x13d4e7(0x208)](_0x4aafca);return decisionCache[_0x491268]={'decision':_0x2f7907,'timestamp':_0x5500c5},_0x2f7907;}catch(_0x39076a){return _0x138e3e[_0x13d4e7(0x1fd)][_0x13d4e7(0x1c3)](_0x13d4e7(0x230)+_0x39076a[_0x13d4e7(0x1d7)]),decisionCache[_0x491268]={'decision':{'approved':!![],'reason':_0x13d4e7(0x1ef)},'timestamp':_0x5500c5-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x13d4e7(0x1ef)};}}async function runGeminiAnalysis(_0x192af7,_0x3925e1=''){const _0x2e5267=a0_0x10324b;if(!_0x192af7[_0x2e5267(0x1de)])return;if(!canCallApi()){_0x192af7[_0x2e5267(0x1fd)]['debug'](_0x2e5267(0x1c2));return;}if(_0x192af7[_0x2e5267(0x1cb)]['length']===0x0)return;const _0x4b672a=_0x192af7[_0x2e5267(0x1cb)][_0x2e5267(0x22c)](0x0,0xf),_0x30aee6=_0x192af7[_0x2e5267(0x1b9)],_0x604a64=PERSONA_MAPPING[_0x192af7[_0x2e5267(0x215)]['aiPersona']||'generic'],_0x289faf=_0x192af7[_0x2e5267(0x215)][_0x2e5267(0x1f4)]||_0x2e5267(0x1e6);let _0x128338=_0x2e5267(0x22e);try{const _0x126b2d=await _0x192af7[_0x2e5267(0x1d3)](_0x2e5267(0x21f));if(_0x126b2d&&_0x126b2d[_0x2e5267(0x1f8)])_0x128338=_0x126b2d[_0x2e5267(0x1f8)];}catch(_0x3ed125){}let _0x446d57=![];try{const _0x54e67b=await _0x192af7[_0x2e5267(0x1d3)](_0x2e5267(0x1fa));if(_0x54e67b&&_0x54e67b[_0x2e5267(0x1f8)])_0x446d57=!![];}catch(_0x32a531){}const _0x127d71='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x604a64+_0x2e5267(0x217)+_0x289faf+'.\x20SYSTEM_MODE:\x20'+_0x30aee6+_0x2e5267(0x1ec)+_0x128338+'.\x20EVENTS:\x20'+JSON[_0x2e5267(0x1cd)](_0x4b672a)+_0x2e5267(0x1c5)+_0x3925e1+_0x2e5267(0x22b);try{updateApiTimestamp();const _0x1e8f1d=await _0x192af7[_0x2e5267(0x1de)][_0x2e5267(0x1e1)](_0x127d71),_0x36577e=JSON[_0x2e5267(0x208)](_0x1e8f1d[_0x2e5267(0x205)]['text']()[_0x2e5267(0x1b7)](/```json|```/g,'')[_0x2e5267(0x1f0)]());await _0x192af7['setStateAsync']('analysis.lastResult',{'val':JSON[_0x2e5267(0x1cd)](_0x36577e),'ack':!![]});if(_0x36577e[_0x2e5267(0x20c)])await _0x192af7[_0x2e5267(0x228)](_0x2e5267(0x22d),{'val':_0x36577e[_0x2e5267(0x20c)],'ack':!![]});const _0x48a3b7={'timestamp':Date[_0x2e5267(0x22f)](),'id':Date[_0x2e5267(0x22f)]()['toString'](),'analysis':{'activity':{'summary':_0x36577e[_0x2e5267(0x20c)],'isAlert':_0x36577e['isAlert'],'alertReason':_0x36577e[_0x2e5267(0x1ce)]},'comfort':{'automationProposal':_0x36577e['automationProposal']}}};_0x192af7[_0x2e5267(0x203)][_0x2e5267(0x1f2)](_0x48a3b7);if(_0x192af7[_0x2e5267(0x203)][_0x2e5267(0x1e0)]>0x32)_0x192af7[_0x2e5267(0x203)][_0x2e5267(0x21d)]();await _0x192af7[_0x2e5267(0x228)](_0x2e5267(0x239),{'val':JSON[_0x2e5267(0x1cd)](_0x192af7[_0x2e5267(0x203)]),'ack':!![]});const _0x43e73c=_0x36577e[_0x2e5267(0x1ee)]||![];_0x43e73c!==_0x192af7[_0x2e5267(0x1dd)]&&(await _0x192af7[_0x2e5267(0x228)](_0x2e5267(0x235),{'val':_0x43e73c,'ack':!![]}),_0x192af7[_0x2e5267(0x1dd)]=_0x43e73c,_0x43e73c&&(await _0x192af7[_0x2e5267(0x228)](_0x2e5267(0x1bb),{'val':_0x36577e['alertReason'],'ack':!![]}),setup[_0x2e5267(0x1c8)](_0x192af7,'‚ö†Ô∏è\x20ALARM:\x20'+_0x36577e[_0x2e5267(0x1ce)],![],_0x36577e[_0x2e5267(0x224)])));if(_0x36577e[_0x2e5267(0x216)]&&_0x36577e['automationProposal'][_0x2e5267(0x20a)]){await _0x192af7[_0x2e5267(0x228)](_0x2e5267(0x1fb),{'val':!![],'ack':!![]}),await _0x192af7['setStateAsync']('analysis.automation.description',{'val':_0x36577e[_0x2e5267(0x216)][_0x2e5267(0x1b1)],'ack':!![]}),await _0x192af7[_0x2e5267(0x228)]('analysis.automation.targetId',{'val':_0x36577e[_0x2e5267(0x216)]['targetId'],'ack':!![]}),await _0x192af7[_0x2e5267(0x228)](_0x2e5267(0x220),{'val':JSON[_0x2e5267(0x1cd)](_0x36577e['automationProposal'][_0x2e5267(0x1db)]),'ack':!![]});if(_0x446d57)executeAutomationAction(_0x192af7);}}catch(_0x18e225){_0x192af7[_0x2e5267(0x1fd)][_0x2e5267(0x20f)](_0x2e5267(0x21c)+_0x18e225[_0x2e5267(0x1d7)]);}}async function createDailyDigest(_0x41e8b4,_0x1d451d){const _0xee9fb0=a0_0x10324b;if(!_0x41e8b4[_0xee9fb0(0x1ed)])return;if(!canCallApi()){await _0x41e8b4[_0xee9fb0(0x228)](LTM_DP_STATUS,{'val':_0xee9fb0(0x1d0),'ack':!![]});return;}await _0x41e8b4[_0xee9fb0(0x228)](LTM_DP_STATUS,{'val':_0xee9fb0(0x201),'ack':!![]});if(!_0x41e8b4[_0xee9fb0(0x1de)]||_0x41e8b4[_0xee9fb0(0x202)][_0xee9fb0(0x1e0)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x41e8b4[_0xee9fb0(0x228)](LTM_DP_STATUS,{'val':_0xee9fb0(0x211),'ack':!![]});return;}const _0x59769c=JSON[_0xee9fb0(0x208)](JSON[_0xee9fb0(0x1cd)](_0x41e8b4[_0xee9fb0(0x202)])),_0x133269=_0x59769c[_0xee9fb0(0x1e0)],_0x5f368d=_0xee9fb0(0x227)+JSON[_0xee9fb0(0x1cd)](_0x59769c);try{updateApiTimestamp();const _0x3b52b7=await _0x41e8b4['geminiModel']['generateContent'](_0x5f368d),_0x2535ad=JSON['parse'](_0x3b52b7[_0xee9fb0(0x205)][_0xee9fb0(0x1be)]()[_0xee9fb0(0x1b7)](/```json|```/g,'')[_0xee9fb0(0x1f0)]()),_0x1417f0={'timestamp':new Date()[_0xee9fb0(0x1f1)](),'eventCount':_0x133269,'summary':_0x2535ad[_0xee9fb0(0x20c)]||_0xee9fb0(0x21b),'activityLevel':_0x2535ad[_0xee9fb0(0x237)]||_0xee9fb0(0x1f9),'systemMode':_0x41e8b4[_0xee9fb0(0x1b9)]};_0x41e8b4[_0xee9fb0(0x22a)][_0xee9fb0(0x238)](_0x1417f0);const _0x2a7d77=_0x41e8b4['config'][_0xee9fb0(0x21a)]||0x3c;_0x41e8b4[_0xee9fb0(0x22a)][_0xee9fb0(0x1e0)]>_0x2a7d77&&_0x41e8b4['dailyDigests'][_0xee9fb0(0x1df)](0x0,_0x41e8b4['dailyDigests'][_0xee9fb0(0x1e0)]-_0x2a7d77);await _0x41e8b4['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x41e8b4[_0xee9fb0(0x22a)]),'ack':!![]}),_0x41e8b4[_0xee9fb0(0x202)]=[],await _0x41e8b4[_0xee9fb0(0x228)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x41e8b4[_0xee9fb0(0x202)]),'ack':!![]}),await _0x41e8b4['setStateAsync'](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x41e8b4['isProVersion']&&_0x1d451d)_0x1d451d['send'](_0x41e8b4,_0xee9fb0(0x1e4),{'digest':_0x1417f0});}catch(_0x44a182){_0x41e8b4[_0xee9fb0(0x1fd)][_0xee9fb0(0x20f)](_0x44a182[_0xee9fb0(0x1d7)]);}}function a0_0x1aee(_0x4e9226,_0x1c54b9){const _0x573fc8=a0_0xcc6c();return a0_0x1aee=function(_0x48b4d5,_0x44a494){_0x48b4d5=_0x48b4d5-0x1b1;let _0xcc6c9e=_0x573fc8[_0x48b4d5];return _0xcc6c9e;},a0_0x1aee(_0x4e9226,_0x1c54b9);}async function runBaselineDriftAnalysis(_0x29a996){const _0x27919c=a0_0x10324b;if(!_0x29a996[_0x27919c(0x1ed)]||!_0x29a996['geminiModel'])return;if(!canCallApi())return;const _0x3fe4ab=_0x29a996[_0x27919c(0x215)][_0x27919c(0x1f5)]||0xe;if(_0x29a996[_0x27919c(0x22a)][_0x27919c(0x1e0)]<_0x3fe4ab+0x7){await _0x29a996[_0x27919c(0x228)](_0x27919c(0x1d6),{'val':_0x27919c(0x223),'ack':!![]});return;}const _0x24c390=_0x29a996[_0x27919c(0x22a)]['slice'](-_0x3fe4ab),_0x5bf930=_0x29a996[_0x27919c(0x22a)][_0x27919c(0x22c)](0x0,_0x29a996[_0x27919c(0x22a)][_0x27919c(0x1e0)]-_0x3fe4ab),_0x380f21='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x27919c(0x1cd)](_0x5bf930)+_0x27919c(0x1c9)+JSON[_0x27919c(0x1cd)](_0x24c390);try{updateApiTimestamp();const _0x132b86=await _0x29a996['geminiModel'][_0x27919c(0x1e1)](_0x380f21),_0x2d9ff0=JSON[_0x27919c(0x208)](_0x132b86[_0x27919c(0x205)][_0x27919c(0x1be)]()[_0x27919c(0x1b7)](/```json|```/g,'')[_0x27919c(0x1f0)]());_0x2d9ff0['baselineDrift']&&(await _0x29a996[_0x27919c(0x228)](_0x27919c(0x1d6),{'val':_0x2d9ff0[_0x27919c(0x1b5)],'ack':!![]}),await _0x29a996[_0x27919c(0x228)](_0x27919c(0x1d9),{'val':_0x2d9ff0[_0x27919c(0x1e9)],'ack':!![]}),await _0x29a996[_0x27919c(0x228)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x27919c(0x22f)](),'ack':!![]}));}catch(_0x4ad800){}}async function executeAutomationAction(_0x5c9fa9){const _0xbb2727=a0_0x10324b;try{const _0x292f62=await _0x5c9fa9[_0xbb2727(0x1d3)](_0xbb2727(0x207)),_0x2abbcb=await _0x5c9fa9[_0xbb2727(0x1d3)](_0xbb2727(0x220));if(_0x292f62&&_0x292f62[_0xbb2727(0x1f8)]&&_0x2abbcb){const _0x3c502a=_0x292f62[_0xbb2727(0x1f8)];let _0x2a43b3=_0x2abbcb[_0xbb2727(0x1f8)];try{_0x2a43b3=JSON[_0xbb2727(0x208)](_0x2a43b3);}catch(_0x1b9a29){}_0x5c9fa9[_0xbb2727(0x1fd)][_0xbb2727(0x1d5)](_0xbb2727(0x20e)+_0x3c502a+'\x20=\x20'+_0x2a43b3),await _0x5c9fa9[_0xbb2727(0x226)](_0x3c502a,_0x2a43b3);}else _0x5c9fa9['log'][_0xbb2727(0x1c3)](_0xbb2727(0x222));}catch(_0x19e86f){_0x5c9fa9[_0xbb2727(0x1fd)][_0xbb2727(0x20f)]('BUTLER\x20Execution\x20Error:\x20'+_0x19e86f[_0xbb2727(0x1d7)]);}}async function sendMorningBriefing(_0x3115d5){const _0x17735b=a0_0x10324b;if(!_0x3115d5[_0x17735b(0x1de)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x4d224f=_0x17735b(0x1f3),_0x997d62=await _0x3115d5[_0x17735b(0x1de)]['generateContent'](_0x4d224f),_0x3589af=_0x997d62[_0x17735b(0x205)][_0x17735b(0x1be)]();setup[_0x17735b(0x1c8)](_0x3115d5,_0x17735b(0x1b2)+_0x3589af);}catch(_0xe84a62){_0x3115d5[_0x17735b(0x1fd)][_0x17735b(0x20f)](_0x17735b(0x1cf)+_0xe84a62['message']);}}module[a0_0x10324b(0x218)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};