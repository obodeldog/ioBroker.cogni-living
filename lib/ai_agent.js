function a0_0x54ad(_0xab336c,_0x41104e){const _0x49ac0b=a0_0x1355();return a0_0x54ad=function(_0x43a214,_0x5604bf){_0x43a214=_0x43a214-0x9a;let _0x135594=_0x49ac0b[_0x43a214];return _0x135594;},a0_0x54ad(_0xab336c,_0x41104e);}const a0_0xdd0920=a0_0x54ad;(function(_0x481e15,_0x46404e){const _0x3d0ae7=a0_0x54ad,_0x29a871=_0x481e15();while(!![]){try{const _0xfcfbd=parseInt(_0x3d0ae7(0x112))/0x1+parseInt(_0x3d0ae7(0xda))/0x2*(-parseInt(_0x3d0ae7(0xb2))/0x3)+-parseInt(_0x3d0ae7(0xcd))/0x4+-parseInt(_0x3d0ae7(0xd0))/0x5+parseInt(_0x3d0ae7(0x120))/0x6*(parseInt(_0x3d0ae7(0xb4))/0x7)+-parseInt(_0x3d0ae7(0xd3))/0x8*(parseInt(_0x3d0ae7(0xeb))/0x9)+parseInt(_0x3d0ae7(0xdc))/0xa;if(_0xfcfbd===_0x46404e)break;else _0x29a871['push'](_0x29a871['shift']());}catch(_0x454f3c){_0x29a871['push'](_0x29a871['shift']());}}}(a0_0x1355,0x46759));const a0_0x5604bf=(function(){let _0x4368b1=!![];return function(_0x243444,_0xcf3794){const _0xddb3fd=_0x4368b1?function(){const _0x1ab017=a0_0x54ad;if(_0xcf3794){const _0x5d6fd1=_0xcf3794[_0x1ab017(0xa3)](_0x243444,arguments);return _0xcf3794=null,_0x5d6fd1;}}:function(){};return _0x4368b1=![],_0xddb3fd;};}()),a0_0x43a214=a0_0x5604bf(this,function(){const _0x2a2f19=a0_0x54ad;return a0_0x43a214[_0x2a2f19(0x107)]()[_0x2a2f19(0xa6)](_0x2a2f19(0xf2))[_0x2a2f19(0x107)]()['constructor'](a0_0x43a214)[_0x2a2f19(0xa6)](_0x2a2f19(0xf2));});a0_0x43a214();'use strict';const {GoogleGenerativeAI}=require(a0_0xdd0920(0xab)),setup=require('./setup'),GEMINI_MODEL=a0_0xdd0920(0xc6),LTM_DP_DAILY_DIGESTS=a0_0xdd0920(0x101),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0xdd0920(0x9e),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;function a0_0x1355(){const _0x54eb49=['isEmergency','11367660CrMtIP','analysis.alertReason','toFixed','isAlert','rawEventLog','üåÖ\x20Morning\x20Briefing:\x0a','\x20->\x20','length','\x20=\x20','alertReason','Unbekannt\x20(Kein\x20Sensor)','Success','ltmStbWindowDays','weatherInstance','baselineDrift','10845QIayGW','useWeather','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','.\x20KONTEXT:\x20','\x20√ºbersprungen\x20(Auto-Approved).','system.presenceWho','Tag','(((.+)+)+)+$','ü§ñ\x20Butler\x20Brain\x20Error:\x20','LTM.driftAnalysis.lastCheck','dailyDigests','config','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','summary','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','¬∞C,\x20','Keine\x20Details.','message','description','setForeignStateAsync','%)\x20nach\x20\x22','Unbekannt','LTM.dailyDigests','analysis.analysisHistory','splice','timestamp','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','activityLevel','toString','detected','lastAlertState','BUTLER\x20Execution\x20Error:\x20','.Current.Temperature','N/A\x20(Learning)','send','replace','Started...','livingContext','.\x20SYSTEM_MODE:\x20','241994GpSrAO','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','ltmLtbWindowDays','log','debug','getForeignStateAsync','now','normal','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','geminiModel','analysis.automation.description','analysis.lastResult','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','12evhSZw','.Current.WeatherText','LTM.driftAnalysis.driftDetails','analysis.activitySummary','.\x20EMERGENCY:\x20','val','sendNotification','\x0aSTB:\x20','.\x20EVENTS:\x20','LTM.rawEventLog','toISOString','aiPersona','Digest','analysis.automation.targetValue','apply','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','eventHistory','search','error','stringify','Gemini\x20Error:\x20','warn','@google/generative-ai','text','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','toLocaleTimeString','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','Skipped\x20(Traffic)','Briefing\x20Error:\x20','279Vrujxi','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','1261484vAtrwo','ANALYZE_HEALTH','.forecast.current.state','getStateAsync','response','setStateAsync','decision','generic','push','parse','isProVersion','KI-Fehler\x20(Fallback)','analysis.automation.patternDetected','KI\x20offline\x20(Fallback)','generateContent','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','LTM.driftAnalysis.baselineDrift','models/gemini-flash-latest','slice','analysis.automation.targetId',',\x20Lichtverh√§ltnisse:\x20','pop','Traffic-Schutz\x20(Auto-Approved)','trim','2222060CoAtlG','targetValue','driftDetails','896505OBItPm','targetId','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','1224TJXZeH','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','automationProposal','analysisHistory','Nacht','.forecast.current.temperature','Sicherheit\x20geht\x20vor.','11428JzhKTK'];a0_0x1355=function(){return _0x54eb49;};return a0_0x1355();}let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0xdd0920(0xc4),'senior_aal':a0_0xdd0920(0xd2),'family':a0_0xdd0920(0xb3),'single_comfort':a0_0xdd0920(0xf9),'security':a0_0xdd0920(0xd9),'energy_saver':a0_0xdd0920(0xa4)};function canCallApi(){const _0x15da4b=a0_0xdd0920,_0x19132a=Date[_0x15da4b(0x119)]();return _0x19132a-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x564b49=a0_0xdd0920;lastGlobalApiCall=Date[_0x564b49(0x119)]();}async function getWeatherContext(_0x5d6649){const _0x4829ad=a0_0xdd0920;if(!_0x5d6649['config'][_0x4829ad(0xec)]||!_0x5d6649[_0x4829ad(0xf6)][_0x4829ad(0xe9)])return _0x4829ad(0xe6);try{const _0x191669=_0x5d6649[_0x4829ad(0xf6)]['weatherInstance'];let _0x1a30b3=await _0x5d6649[_0x4829ad(0x118)](_0x191669+_0x4829ad(0x10b));if(!_0x1a30b3)_0x1a30b3=await _0x5d6649[_0x4829ad(0x118)](_0x191669+_0x4829ad(0xd8));let _0x189a7f=await _0x5d6649[_0x4829ad(0x118)](_0x191669+_0x4829ad(0x121));if(!_0x189a7f)_0x189a7f=await _0x5d6649[_0x4829ad(0x118)](_0x191669+_0x4829ad(0xb6));let _0x13ff89=_0x4829ad(0x100);const _0x5e689f=await _0x5d6649['getForeignStateAsync'](_0x191669+'.Current.IsNight');if(_0x5e689f)_0x13ff89=_0x5e689f[_0x4829ad(0x9a)]?_0x4829ad(0xd7):_0x4829ad(0xf1);if(_0x1a30b3&&_0x189a7f)return _0x1a30b3['val']+_0x4829ad(0xfa)+_0x189a7f[_0x4829ad(0x9a)]+_0x4829ad(0xc9)+_0x13ff89;}catch(_0x5641fc){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x1b4a38,_0x47b0de,_0x2956d9,_0x265d99){const _0x4ead02=a0_0xdd0920;if(!_0x1b4a38['geminiModel'])return{'approved':!![],'reason':_0x4ead02(0xc1)};const _0x55af36=Date[_0x4ead02(0x119)]();if(decisionCache[_0x47b0de]&&_0x55af36-decisionCache[_0x47b0de][_0x4ead02(0x104)]<CACHE_TTL_MS){const _0xeaf567=decisionCache[_0x47b0de][_0x4ead02(0xba)];return _0x1b4a38['log'][_0x4ead02(0x117)]('ü§ñ\x20Butler\x20Cache\x20Hit:\x20'+_0x47b0de+_0x4ead02(0xe2)+(_0xeaf567['approved']?'OK':'NO')+'\x20('+_0xeaf567['reason']+')'),_0xeaf567;}if(!canCallApi())return _0x1b4a38[_0x4ead02(0x116)][_0x4ead02(0x117)](_0x4ead02(0x105)+_0x47b0de+_0x4ead02(0xef)),{'approved':!![],'reason':_0x4ead02(0xcb)};const _0x5ca471=new Date()[_0x4ead02(0xae)](),_0x379608=await getWeatherContext(_0x1b4a38),_0x45290f=PERSONA_MAPPING[_0x1b4a38[_0x4ead02(0xf6)][_0x4ead02(0xa0)]||'generic'],_0x432e47=_0x4ead02(0xc3)+_0x5ca471+',\x20Wetter:\x20'+_0x379608+_0x4ead02(0x11f)+(_0x265d99*0x64)[_0x4ead02(0xde)](0x0)+_0x4ead02(0xff)+_0x47b0de+_0x4ead02(0xf7)+_0x2956d9+_0x4ead02(0x11b)+_0x45290f+_0x4ead02(0xad);try{updateApiTimestamp();const _0x283928=await _0x1b4a38[_0x4ead02(0x11c)][_0x4ead02(0xc2)](_0x432e47),_0x401cf8=_0x283928[_0x4ead02(0xb8)][_0x4ead02(0xac)]()[_0x4ead02(0x10e)](/```json|```/g,'')[_0x4ead02(0xcc)](),_0x4745e7=JSON[_0x4ead02(0xbd)](_0x401cf8);return decisionCache[_0x47b0de]={'decision':_0x4745e7,'timestamp':_0x55af36},_0x4745e7;}catch(_0x31379c){return _0x1b4a38['log'][_0x4ead02(0xaa)](_0x4ead02(0xf3)+_0x31379c[_0x4ead02(0xfc)]),decisionCache[_0x47b0de]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x55af36-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x4ead02(0xbf)};}}async function runGeminiAnalysis(_0x29f5c2,_0x108a36=''){const _0x7d69d8=a0_0xdd0920;if(!_0x29f5c2[_0x7d69d8(0x11c)])return;if(!canCallApi()){_0x29f5c2[_0x7d69d8(0x116)][_0x7d69d8(0x117)](_0x7d69d8(0x114));return;}if(_0x29f5c2['eventHistory'][_0x7d69d8(0xe3)]===0x0)return;const _0x250bc1=_0x29f5c2[_0x7d69d8(0xa5)][_0x7d69d8(0xc7)](0x0,0xf),_0x33f44f=_0x29f5c2['currentSystemMode'],_0x45389f=PERSONA_MAPPING[_0x29f5c2[_0x7d69d8(0xf6)][_0x7d69d8(0xa0)]||_0x7d69d8(0xbb)],_0x2a774d=_0x29f5c2[_0x7d69d8(0xf6)][_0x7d69d8(0x110)]||_0x7d69d8(0xfb);let _0x163d50=_0x7d69d8(0x100);try{const _0x391759=await _0x29f5c2[_0x7d69d8(0xb7)](_0x7d69d8(0xf0));if(_0x391759&&_0x391759[_0x7d69d8(0x9a)])_0x163d50=_0x391759[_0x7d69d8(0x9a)];}catch(_0x3ee144){}let _0x240966=![];try{const _0x1734f7=await _0x29f5c2['getStateAsync']('analysis.automation.autoApply');if(_0x1734f7&&_0x1734f7[_0x7d69d8(0x9a)])_0x240966=!![];}catch(_0x362a1c){}const _0x23ad2b=_0x7d69d8(0xaf)+_0x45389f+_0x7d69d8(0xee)+_0x2a774d+_0x7d69d8(0x111)+_0x33f44f+'.\x20ANWESEND:\x20'+_0x163d50+_0x7d69d8(0x9d)+JSON[_0x7d69d8(0xa8)](_0x250bc1)+_0x7d69d8(0x124)+_0x108a36+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x35fc85=await _0x29f5c2['geminiModel'][_0x7d69d8(0xc2)](_0x23ad2b),_0x281b26=JSON[_0x7d69d8(0xbd)](_0x35fc85[_0x7d69d8(0xb8)][_0x7d69d8(0xac)]()[_0x7d69d8(0x10e)](/```json|```/g,'')['trim']());await _0x29f5c2['setStateAsync'](_0x7d69d8(0x11e),{'val':JSON[_0x7d69d8(0xa8)](_0x281b26),'ack':!![]});if(_0x281b26[_0x7d69d8(0xf8)])await _0x29f5c2[_0x7d69d8(0xb9)](_0x7d69d8(0x123),{'val':_0x281b26[_0x7d69d8(0xf8)],'ack':!![]});const _0xf76dca={'timestamp':Date[_0x7d69d8(0x119)](),'id':Date[_0x7d69d8(0x119)]()[_0x7d69d8(0x107)](),'analysis':{'activity':{'summary':_0x281b26[_0x7d69d8(0xf8)],'isAlert':_0x281b26[_0x7d69d8(0xdf)],'alertReason':_0x281b26[_0x7d69d8(0xe5)]},'comfort':{'automationProposal':_0x281b26[_0x7d69d8(0xd5)]}}};_0x29f5c2[_0x7d69d8(0xd6)]['unshift'](_0xf76dca);if(_0x29f5c2['analysisHistory']['length']>0x32)_0x29f5c2[_0x7d69d8(0xd6)][_0x7d69d8(0xca)]();await _0x29f5c2[_0x7d69d8(0xb9)](_0x7d69d8(0x102),{'val':JSON[_0x7d69d8(0xa8)](_0x29f5c2[_0x7d69d8(0xd6)]),'ack':!![]});const _0x1fecd5=_0x281b26[_0x7d69d8(0xdf)]||![];_0x1fecd5!==_0x29f5c2['lastAlertState']&&(await _0x29f5c2['setStateAsync']('analysis.isAlert',{'val':_0x1fecd5,'ack':!![]}),_0x29f5c2[_0x7d69d8(0x109)]=_0x1fecd5,_0x1fecd5&&(await _0x29f5c2[_0x7d69d8(0xb9)](_0x7d69d8(0xdd),{'val':_0x281b26['alertReason'],'ack':!![]}),setup[_0x7d69d8(0x9b)](_0x29f5c2,'‚ö†Ô∏è\x20ALARM:\x20'+_0x281b26['alertReason'],![],_0x281b26[_0x7d69d8(0xdb)])));if(_0x281b26[_0x7d69d8(0xd5)]&&_0x281b26[_0x7d69d8(0xd5)][_0x7d69d8(0x108)]){await _0x29f5c2[_0x7d69d8(0xb9)](_0x7d69d8(0xc0),{'val':!![],'ack':!![]}),await _0x29f5c2['setStateAsync'](_0x7d69d8(0x11d),{'val':_0x281b26[_0x7d69d8(0xd5)][_0x7d69d8(0xfd)],'ack':!![]}),await _0x29f5c2[_0x7d69d8(0xb9)](_0x7d69d8(0xc8),{'val':_0x281b26[_0x7d69d8(0xd5)][_0x7d69d8(0xd1)],'ack':!![]}),await _0x29f5c2[_0x7d69d8(0xb9)](_0x7d69d8(0xa2),{'val':JSON[_0x7d69d8(0xa8)](_0x281b26[_0x7d69d8(0xd5)][_0x7d69d8(0xce)]),'ack':!![]});if(_0x240966)executeAutomationAction(_0x29f5c2);}}catch(_0x57ed14){_0x29f5c2[_0x7d69d8(0x116)][_0x7d69d8(0xa7)](_0x7d69d8(0xa9)+_0x57ed14[_0x7d69d8(0xfc)]);}}async function createDailyDigest(_0x1a0082,_0x2f39f3){const _0x5247a0=a0_0xdd0920;if(!_0x1a0082[_0x5247a0(0xbe)])return;if(!canCallApi()){await _0x1a0082[_0x5247a0(0xb9)](LTM_DP_STATUS,{'val':_0x5247a0(0xb0),'ack':!![]});return;}await _0x1a0082[_0x5247a0(0xb9)](LTM_DP_STATUS,{'val':_0x5247a0(0x10f),'ack':!![]});if(!_0x1a0082[_0x5247a0(0x11c)]||_0x1a0082[_0x5247a0(0xe0)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1a0082[_0x5247a0(0xb9)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x1701ec=JSON['parse'](JSON[_0x5247a0(0xa8)](_0x1a0082[_0x5247a0(0xe0)])),_0xfa2675=_0x1701ec[_0x5247a0(0xe3)],_0x3427b5=_0x5247a0(0x113)+JSON[_0x5247a0(0xa8)](_0x1701ec);try{updateApiTimestamp();const _0x129c30=await _0x1a0082['geminiModel']['generateContent'](_0x3427b5),_0x4b2137=JSON[_0x5247a0(0xbd)](_0x129c30[_0x5247a0(0xb8)][_0x5247a0(0xac)]()[_0x5247a0(0x10e)](/```json|```/g,'')[_0x5247a0(0xcc)]()),_0x45dc33={'timestamp':new Date()[_0x5247a0(0x9f)](),'eventCount':_0xfa2675,'summary':_0x4b2137[_0x5247a0(0xf8)]||_0x5247a0(0xa1),'activityLevel':_0x4b2137[_0x5247a0(0x106)]||_0x5247a0(0x11a),'systemMode':_0x1a0082['currentSystemMode']};_0x1a0082[_0x5247a0(0xf5)][_0x5247a0(0xbc)](_0x45dc33);const _0x1b7b30=_0x1a0082['config'][_0x5247a0(0x115)]||0x3c;_0x1a0082['dailyDigests'][_0x5247a0(0xe3)]>_0x1b7b30&&_0x1a0082[_0x5247a0(0xf5)][_0x5247a0(0x103)](0x0,_0x1a0082[_0x5247a0(0xf5)][_0x5247a0(0xe3)]-_0x1b7b30);await _0x1a0082[_0x5247a0(0xb9)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x5247a0(0xa8)](_0x1a0082[_0x5247a0(0xf5)]),'ack':!![]}),_0x1a0082[_0x5247a0(0xe0)]=[],await _0x1a0082[_0x5247a0(0xb9)](LTM_DP_RAW_LOG,{'val':JSON[_0x5247a0(0xa8)](_0x1a0082[_0x5247a0(0xe0)]),'ack':!![]}),await _0x1a0082[_0x5247a0(0xb9)](LTM_DP_STATUS,{'val':_0x5247a0(0xe7),'ack':!![]});if(_0x1a0082[_0x5247a0(0xbe)]&&_0x2f39f3)_0x2f39f3[_0x5247a0(0x10d)](_0x1a0082,_0x5247a0(0xb5),{'digest':_0x45dc33});}catch(_0x16e3a6){_0x1a0082['log'][_0x5247a0(0xa7)](_0x16e3a6['message']);}}async function runBaselineDriftAnalysis(_0x509666){const _0x3a8d45=a0_0xdd0920;if(!_0x509666[_0x3a8d45(0xbe)]||!_0x509666[_0x3a8d45(0x11c)])return;if(!canCallApi())return;const _0x544ddc=_0x509666[_0x3a8d45(0xf6)][_0x3a8d45(0xe8)]||0xe;if(_0x509666[_0x3a8d45(0xf5)][_0x3a8d45(0xe3)]<_0x544ddc+0x7){await _0x509666['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x3a8d45(0x10c),'ack':!![]});return;}const _0x4faedc=_0x509666['dailyDigests'][_0x3a8d45(0xc7)](-_0x544ddc),_0x5c8e52=_0x509666[_0x3a8d45(0xf5)][_0x3a8d45(0xc7)](0x0,_0x509666['dailyDigests'][_0x3a8d45(0xe3)]-_0x544ddc),_0x521a92=_0x3a8d45(0xd4)+JSON[_0x3a8d45(0xa8)](_0x5c8e52)+_0x3a8d45(0x9c)+JSON[_0x3a8d45(0xa8)](_0x4faedc);try{updateApiTimestamp();const _0x53331f=await _0x509666[_0x3a8d45(0x11c)]['generateContent'](_0x521a92),_0xda4ab=JSON[_0x3a8d45(0xbd)](_0x53331f[_0x3a8d45(0xb8)][_0x3a8d45(0xac)]()[_0x3a8d45(0x10e)](/```json|```/g,'')[_0x3a8d45(0xcc)]());_0xda4ab[_0x3a8d45(0xea)]&&(await _0x509666[_0x3a8d45(0xb9)](_0x3a8d45(0xc5),{'val':_0xda4ab['baselineDrift'],'ack':!![]}),await _0x509666[_0x3a8d45(0xb9)](_0x3a8d45(0x122),{'val':_0xda4ab[_0x3a8d45(0xcf)],'ack':!![]}),await _0x509666[_0x3a8d45(0xb9)](_0x3a8d45(0xf4),{'val':Date[_0x3a8d45(0x119)](),'ack':!![]}));}catch(_0x2f5382){}}async function executeAutomationAction(_0x33f8da){const _0x17ab52=a0_0xdd0920;try{const _0x475751=await _0x33f8da[_0x17ab52(0xb7)](_0x17ab52(0xc8)),_0x162d8a=await _0x33f8da[_0x17ab52(0xb7)](_0x17ab52(0xa2));if(_0x475751&&_0x475751[_0x17ab52(0x9a)]&&_0x162d8a){const _0x30627f=_0x475751['val'];let _0x492b21=_0x162d8a[_0x17ab52(0x9a)];try{_0x492b21=JSON['parse'](_0x492b21);}catch(_0x360740){}_0x33f8da[_0x17ab52(0x116)]['info']('ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x30627f+_0x17ab52(0xe4)+_0x492b21),await _0x33f8da[_0x17ab52(0xfe)](_0x30627f,_0x492b21);}else _0x33f8da[_0x17ab52(0x116)]['warn']('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x4e06e0){_0x33f8da[_0x17ab52(0x116)][_0x17ab52(0xa7)](_0x17ab52(0x10a)+_0x4e06e0['message']);}}async function sendMorningBriefing(_0x16fb34){const _0xb6022=a0_0xdd0920;if(!_0x16fb34[_0xb6022(0x11c)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x103a6d=_0xb6022(0xed),_0x2b519f=await _0x16fb34['geminiModel'][_0xb6022(0xc2)](_0x103a6d),_0x1ba8e2=_0x2b519f[_0xb6022(0xb8)][_0xb6022(0xac)]();setup[_0xb6022(0x9b)](_0x16fb34,_0xb6022(0xe1)+_0x1ba8e2);}catch(_0xcbdc5d){_0x16fb34[_0xb6022(0x116)][_0xb6022(0xa7)](_0xb6022(0xb1)+_0xcbdc5d[_0xb6022(0xfc)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};