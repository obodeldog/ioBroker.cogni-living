const a0_0x1499d3=a0_0x1747;function a0_0x1747(_0xcd4a3d,_0x1c96fe){const _0x5f4160=a0_0x4897();return a0_0x1747=function(_0x23fc7a,_0x270832){_0x23fc7a=_0x23fc7a-0x7c;let _0x489766=_0x5f4160[_0x23fc7a];return _0x489766;},a0_0x1747(_0xcd4a3d,_0x1c96fe);}(function(_0x8e97ed,_0x40bcb9){const _0x222b82=a0_0x1747,_0x570dc6=_0x8e97ed();while(!![]){try{const _0x544426=-parseInt(_0x222b82(0xff))/0x1*(parseInt(_0x222b82(0xf8))/0x2)+parseInt(_0x222b82(0xec))/0x3*(-parseInt(_0x222b82(0xe9))/0x4)+-parseInt(_0x222b82(0xf1))/0x5*(-parseInt(_0x222b82(0x93))/0x6)+-parseInt(_0x222b82(0xe6))/0x7*(-parseInt(_0x222b82(0x82))/0x8)+parseInt(_0x222b82(0xc9))/0x9*(parseInt(_0x222b82(0x81))/0xa)+-parseInt(_0x222b82(0xa9))/0xb+-parseInt(_0x222b82(0xb5))/0xc*(-parseInt(_0x222b82(0xea))/0xd);if(_0x544426===_0x40bcb9)break;else _0x570dc6['push'](_0x570dc6['shift']());}catch(_0x31e3e1){_0x570dc6['push'](_0x570dc6['shift']());}}}(a0_0x4897,0xb0c07));const a0_0x270832=(function(){let _0xff976=!![];return function(_0x5acda8,_0x2dd433){const _0x277302=_0xff976?function(){const _0xc6de44=a0_0x1747;if(_0x2dd433){const _0x2818f6=_0x2dd433[_0xc6de44(0x9f)](_0x5acda8,arguments);return _0x2dd433=null,_0x2818f6;}}:function(){};return _0xff976=![],_0x277302;};}()),a0_0x23fc7a=a0_0x270832(this,function(){const _0x5bed6d=a0_0x1747;return a0_0x23fc7a[_0x5bed6d(0xf0)]()[_0x5bed6d(0x9c)](_0x5bed6d(0xa5))[_0x5bed6d(0xf0)]()[_0x5bed6d(0xa4)](a0_0x23fc7a)[_0x5bed6d(0x9c)]('(((.+)+)+)+$');});a0_0x23fc7a();'use strict';const {GoogleGenerativeAI}=require(a0_0x1499d3(0xe5)),setup=require(a0_0x1499d3(0xf3)),GEMINI_MODEL=a0_0x1499d3(0xcc),LTM_DP_DAILY_DIGESTS=a0_0x1499d3(0xa6),LTM_DP_STATUS=a0_0x1499d3(0xb6),LTM_DP_RAW_LOG=a0_0x1499d3(0x9b),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x1499d3(0xd2),'senior_aal':a0_0x1499d3(0xc1),'family':a0_0x1499d3(0xab),'single_comfort':a0_0x1499d3(0xb8),'security':a0_0x1499d3(0xa7),'energy_saver':a0_0x1499d3(0xf4)};function canCallApi(){const _0x57f61f=Date['now']();return _0x57f61f-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x5d1ae1=a0_0x1499d3;lastGlobalApiCall=Date[_0x5d1ae1(0xaf)]();}async function getWeatherContext(_0x6c34c8){const _0x223916=a0_0x1499d3;if(!_0x6c34c8[_0x223916(0xd0)][_0x223916(0xed)]||!_0x6c34c8['config']['weatherInstance'])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x35cf02=_0x6c34c8['config']['weatherInstance'];let _0x53b0b3=await _0x6c34c8['getForeignStateAsync'](_0x35cf02+_0x223916(0xde));if(!_0x53b0b3)_0x53b0b3=await _0x6c34c8['getForeignStateAsync'](_0x35cf02+_0x223916(0xd9));let _0x2132b7=await _0x6c34c8[_0x223916(0x7e)](_0x35cf02+_0x223916(0x8c));if(!_0x2132b7)_0x2132b7=await _0x6c34c8[_0x223916(0x7e)](_0x35cf02+_0x223916(0xee));let _0x1cf634=_0x223916(0xa3);const _0x50611d=await _0x6c34c8['getForeignStateAsync'](_0x35cf02+_0x223916(0x8e));if(_0x50611d)_0x1cf634=_0x50611d[_0x223916(0xdf)]?_0x223916(0xd7):_0x223916(0xd4);if(_0x53b0b3&&_0x2132b7)return _0x53b0b3[_0x223916(0xdf)]+_0x223916(0x86)+_0x2132b7[_0x223916(0xdf)]+_0x223916(0x7f)+_0x1cf634;}catch(_0x268829){}return _0x223916(0xc6);}async function consultButler(_0x227331,_0x55e876,_0x5ce709,_0x223ed4){const _0x34a3a7=a0_0x1499d3;if(!_0x227331[_0x34a3a7(0x85)])return{'approved':!![],'reason':_0x34a3a7(0xbd)};const _0x56db9b=Date[_0x34a3a7(0xaf)]();if(decisionCache[_0x55e876]&&_0x56db9b-decisionCache[_0x55e876][_0x34a3a7(0xc2)]<CACHE_TTL_MS){const _0x36ba72=decisionCache[_0x55e876][_0x34a3a7(0xe4)];return _0x227331['log']['debug'](_0x34a3a7(0xad)+_0x55e876+'\x20->\x20'+(_0x36ba72[_0x34a3a7(0xbc)]?'OK':'NO')+'\x20('+_0x36ba72[_0x34a3a7(0xc8)]+')'),_0x36ba72;}if(!canCallApi())return _0x227331[_0x34a3a7(0xf2)]['debug'](_0x34a3a7(0x84)+_0x55e876+_0x34a3a7(0xa0)),{'approved':!![],'reason':'Traffic-Schutz\x20(Auto-Approved)'};const _0x538c8b=new Date()[_0x34a3a7(0xe1)](),_0x2155b3=await getWeatherContext(_0x227331),_0x4b45f9=PERSONA_MAPPING[_0x227331['config'][_0x34a3a7(0x9a)]||'generic'],_0x10e3c1='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x538c8b+_0x34a3a7(0x7d)+_0x2155b3+_0x34a3a7(0xf6)+(_0x223ed4*0x64)[_0x34a3a7(0x8a)](0x0)+_0x34a3a7(0x94)+_0x55e876+_0x34a3a7(0xac)+_0x5ce709+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x4b45f9+_0x34a3a7(0xbb);try{updateApiTimestamp();const _0xd032d6=await _0x227331[_0x34a3a7(0x85)]['generateContent'](_0x10e3c1),_0x3c6c96=_0xd032d6[_0x34a3a7(0x7c)][_0x34a3a7(0xd1)]()[_0x34a3a7(0x8f)](/```json|```/g,'')['trim'](),_0x373a7e=JSON[_0x34a3a7(0xcf)](_0x3c6c96);return decisionCache[_0x55e876]={'decision':_0x373a7e,'timestamp':_0x56db9b},_0x373a7e;}catch(_0x5a4d29){return _0x227331[_0x34a3a7(0xf2)][_0x34a3a7(0x96)](_0x34a3a7(0xc5)+_0x5a4d29[_0x34a3a7(0xca)]),decisionCache[_0x55e876]={'decision':{'approved':!![],'reason':_0x34a3a7(0xb9)},'timestamp':_0x56db9b-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x34a3a7(0xb9)};}}async function runGeminiAnalysis(_0x228ace,_0x1023d4=''){const _0x317fd9=a0_0x1499d3;if(!_0x228ace[_0x317fd9(0x85)])return;if(!canCallApi()){_0x228ace[_0x317fd9(0xf2)]['debug'](_0x317fd9(0x87));return;}if(_0x228ace[_0x317fd9(0xf7)][_0x317fd9(0x104)]===0x0)return;const _0x4384c2=_0x228ace['eventHistory'][_0x317fd9(0xce)](0x0,0xf),_0x572e10=_0x228ace['currentSystemMode'],_0x1ada21=PERSONA_MAPPING[_0x228ace[_0x317fd9(0xd0)]['aiPersona']||_0x317fd9(0x9e)],_0x24b189=_0x228ace['config']['livingContext']||_0x317fd9(0xfe);let _0x4164c1=_0x317fd9(0xa3);try{const _0x3f0819=await _0x228ace['getStateAsync'](_0x317fd9(0xe2));if(_0x3f0819&&_0x3f0819[_0x317fd9(0xdf)])_0x4164c1=_0x3f0819[_0x317fd9(0xdf)];}catch(_0x359a0e){}let _0x30e079=![];try{const _0x16807c=await _0x228ace[_0x317fd9(0xb7)]('analysis.automation.autoApply');if(_0x16807c&&_0x16807c[_0x317fd9(0xdf)])_0x30e079=!![];}catch(_0x1aabb3){}const _0x5c483b=_0x317fd9(0x9d)+_0x1ada21+'.\x20KONTEXT:\x20'+_0x24b189+_0x317fd9(0x80)+_0x572e10+_0x317fd9(0xdc)+_0x4164c1+_0x317fd9(0xcd)+JSON[_0x317fd9(0xd6)](_0x4384c2)+'.\x20EMERGENCY:\x20'+_0x1023d4+_0x317fd9(0x103);try{updateApiTimestamp();const _0x3a98a1=await _0x228ace[_0x317fd9(0x85)][_0x317fd9(0xb3)](_0x5c483b),_0x4223ff=JSON[_0x317fd9(0xcf)](_0x3a98a1['response'][_0x317fd9(0xd1)]()[_0x317fd9(0x8f)](/```json|```/g,'')[_0x317fd9(0xe7)]());await _0x228ace[_0x317fd9(0xdd)](_0x317fd9(0xda),{'val':JSON[_0x317fd9(0xd6)](_0x4223ff),'ack':!![]});if(_0x4223ff[_0x317fd9(0xfa)])await _0x228ace[_0x317fd9(0xdd)]('analysis.activitySummary',{'val':_0x4223ff['summary'],'ack':!![]});const _0x559a92={'timestamp':Date[_0x317fd9(0xaf)](),'id':Date['now']()[_0x317fd9(0xf0)](),'analysis':{'activity':{'summary':_0x4223ff[_0x317fd9(0xfa)],'isAlert':_0x4223ff[_0x317fd9(0xd5)],'alertReason':_0x4223ff[_0x317fd9(0xbf)]},'comfort':{'automationProposal':_0x4223ff['automationProposal']}}};_0x228ace['analysisHistory']['unshift'](_0x559a92);if(_0x228ace[_0x317fd9(0x100)]['length']>0x32)_0x228ace[_0x317fd9(0x100)][_0x317fd9(0x97)]();await _0x228ace[_0x317fd9(0xdd)]('analysis.analysisHistory',{'val':JSON[_0x317fd9(0xd6)](_0x228ace[_0x317fd9(0x100)]),'ack':!![]});const _0x595a4b=_0x4223ff['isAlert']||![];_0x595a4b!==_0x228ace[_0x317fd9(0x91)]&&(await _0x228ace['setStateAsync'](_0x317fd9(0xdb),{'val':_0x595a4b,'ack':!![]}),_0x228ace[_0x317fd9(0x91)]=_0x595a4b,_0x595a4b&&(await _0x228ace[_0x317fd9(0xdd)](_0x317fd9(0xeb),{'val':_0x4223ff[_0x317fd9(0xbf)],'ack':!![]}),setup[_0x317fd9(0x90)](_0x228ace,'‚ö†Ô∏è\x20ALARM:\x20'+_0x4223ff[_0x317fd9(0xbf)],![],_0x4223ff['isEmergency'])));if(_0x4223ff['automationProposal']&&_0x4223ff[_0x317fd9(0xe8)][_0x317fd9(0x98)]){await _0x228ace[_0x317fd9(0xdd)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x228ace['setStateAsync'](_0x317fd9(0xb4),{'val':_0x4223ff[_0x317fd9(0xe8)][_0x317fd9(0x101)],'ack':!![]}),await _0x228ace['setStateAsync'](_0x317fd9(0xb2),{'val':_0x4223ff['automationProposal'][_0x317fd9(0xf9)],'ack':!![]}),await _0x228ace['setStateAsync']('analysis.automation.targetValue',{'val':JSON[_0x317fd9(0xd6)](_0x4223ff[_0x317fd9(0xe8)][_0x317fd9(0xf5)]),'ack':!![]});if(_0x30e079)executeAutomationAction(_0x228ace);}}catch(_0x3c51e2){_0x228ace[_0x317fd9(0xf2)][_0x317fd9(0xa2)](_0x317fd9(0xe3)+_0x3c51e2[_0x317fd9(0xca)]);}}async function createDailyDigest(_0x46a681,_0x4d3a97){const _0x487e74=a0_0x1499d3;if(!_0x46a681['isProVersion'])return;if(!canCallApi()){await _0x46a681[_0x487e74(0xdd)](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x46a681[_0x487e74(0xdd)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x46a681[_0x487e74(0x85)]||_0x46a681[_0x487e74(0xc7)][_0x487e74(0x104)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x46a681[_0x487e74(0xdd)](LTM_DP_STATUS,{'val':_0x487e74(0xbe),'ack':!![]});return;}const _0x49ea83=JSON['parse'](JSON['stringify'](_0x46a681[_0x487e74(0xc7)])),_0x577922=_0x49ea83[_0x487e74(0x104)],_0x25fde3=_0x487e74(0xc4)+JSON[_0x487e74(0xd6)](_0x49ea83);try{updateApiTimestamp();const _0x4b134c=await _0x46a681[_0x487e74(0x85)][_0x487e74(0xb3)](_0x25fde3),_0x4d8890=JSON[_0x487e74(0xcf)](_0x4b134c[_0x487e74(0x7c)]['text']()[_0x487e74(0x8f)](/```json|```/g,'')[_0x487e74(0xe7)]()),_0x1cb4ee={'timestamp':new Date()[_0x487e74(0xcb)](),'eventCount':_0x577922,'summary':_0x4d8890['summary']||'Digest','activityLevel':_0x4d8890[_0x487e74(0x8d)]||'normal','systemMode':_0x46a681[_0x487e74(0xc0)]};_0x46a681[_0x487e74(0xae)]['push'](_0x1cb4ee);const _0x19431b=_0x46a681[_0x487e74(0xd0)][_0x487e74(0xef)]||0x3c;_0x46a681[_0x487e74(0xae)][_0x487e74(0x104)]>_0x19431b&&_0x46a681[_0x487e74(0xae)][_0x487e74(0x8b)](0x0,_0x46a681[_0x487e74(0xae)]['length']-_0x19431b);await _0x46a681[_0x487e74(0xdd)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x487e74(0xd6)](_0x46a681[_0x487e74(0xae)]),'ack':!![]}),_0x46a681[_0x487e74(0xc7)]=[],await _0x46a681['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x487e74(0xd6)](_0x46a681['rawEventLog']),'ack':!![]}),await _0x46a681['setStateAsync'](LTM_DP_STATUS,{'val':_0x487e74(0xb0),'ack':!![]});if(_0x46a681['isProVersion']&&_0x4d3a97)_0x4d3a97[_0x487e74(0xc3)](_0x46a681,_0x487e74(0x88),{'digest':_0x1cb4ee});}catch(_0x33944a){_0x46a681['log'][_0x487e74(0xa2)](_0x33944a[_0x487e74(0xca)]);}}async function runBaselineDriftAnalysis(_0x46f280){const _0x40a135=a0_0x1499d3;if(!_0x46f280[_0x40a135(0xe0)]||!_0x46f280[_0x40a135(0x85)])return;if(!canCallApi())return;const _0xa56de1=_0x46f280[_0x40a135(0xd0)][_0x40a135(0xaa)]||0xe;if(_0x46f280[_0x40a135(0xae)][_0x40a135(0x104)]<_0xa56de1+0x7){await _0x46f280[_0x40a135(0xdd)]('LTM.driftAnalysis.baselineDrift',{'val':_0x40a135(0xfb),'ack':!![]});return;}const _0x46f80d=_0x46f280[_0x40a135(0xae)]['slice'](-_0xa56de1),_0x39d4b2=_0x46f280[_0x40a135(0xae)]['slice'](0x0,_0x46f280[_0x40a135(0xae)]['length']-_0xa56de1),_0x593564=_0x40a135(0x102)+JSON[_0x40a135(0xd6)](_0x39d4b2)+_0x40a135(0x92)+JSON[_0x40a135(0xd6)](_0x46f80d);try{updateApiTimestamp();const _0x3b9638=await _0x46f280[_0x40a135(0x85)][_0x40a135(0xb3)](_0x593564),_0xb1da6e=JSON['parse'](_0x3b9638['response'][_0x40a135(0xd1)]()['replace'](/```json|```/g,'')[_0x40a135(0xe7)]());_0xb1da6e[_0x40a135(0xd8)]&&(await _0x46f280[_0x40a135(0xdd)](_0x40a135(0xb1),{'val':_0xb1da6e[_0x40a135(0xd8)],'ack':!![]}),await _0x46f280[_0x40a135(0xdd)](_0x40a135(0xfc),{'val':_0xb1da6e['driftDetails'],'ack':!![]}),await _0x46f280['setStateAsync'](_0x40a135(0xd3),{'val':Date[_0x40a135(0xaf)](),'ack':!![]}));}catch(_0x3b1aed){}}function a0_0x4897(){const _0x2491c1=['aiPersona','LTM.rawEventLog','search','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','generic','apply','\x20√ºbersprungen\x20(Auto-Approved).','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','error','Unbekannt','constructor','(((.+)+)+)+$','LTM.dailyDigests','Sicherheit\x20geht\x20vor.','üåÖ\x20Morning\x20Briefing:\x0a','15719198OlvFBm','ltmStbWindowDays','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','dailyDigests','now','Success','LTM.driftAnalysis.baselineDrift','analysis.automation.targetId','generateContent','analysis.automation.description','20027328EOykFb','LTM.processingStatus','getStateAsync','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','KI-Fehler\x20(Fallback)','\x20=\x20','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','approved','KI\x20offline\x20(Fallback)','Skipped\x20(No\x20AI\x20or\x20Data)','alertReason','currentSystemMode','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','timestamp','send','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ü§ñ\x20Butler\x20Brain\x20Error:\x20','Wetterdaten\x20nicht\x20abrufbar','rawEventLog','reason','1977219adeafM','message','toISOString','models/gemini-flash-latest','.\x20EVENTS:\x20','slice','parse','config','text','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','LTM.driftAnalysis.lastCheck','Tag','isAlert','stringify','Nacht','baselineDrift','.forecast.current.temperature','analysis.lastResult','analysis.isAlert','.\x20ANWESEND:\x20','setStateAsync','.Current.Temperature','val','isProVersion','toLocaleTimeString','system.presenceWho','Gemini\x20Error:\x20','decision','@google/generative-ai','4797863rHwHXW','trim','automationProposal','3019740rCVhng','13SevZCz','analysis.alertReason','3vZNQrx','useWeather','.forecast.current.state','ltmLtbWindowDays','toString','271355nIOCQz','log','./setup','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','targetValue','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','eventHistory','1306APPQxO','targetId','summary','N/A\x20(Learning)','LTM.driftAnalysis.driftDetails','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','Keine\x20Details.','1238ZzFghI','analysisHistory','description','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','length','response',',\x20Wetter:\x20','getForeignStateAsync',',\x20Lichtverh√§ltnisse:\x20','.\x20SYSTEM_MODE:\x20','20ymyfTX','8TCUetR','setForeignStateAsync','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','geminiModel','¬∞C,\x20','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','ANALYZE_HEALTH','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','toFixed','splice','.Current.WeatherText','activityLevel','.Current.IsNight','replace','sendNotification','lastAlertState','\x0aSTB:\x20','102GURfsr','%)\x20nach\x20\x22','exports','warn','pop','detected','analysis.automation.targetValue'];a0_0x4897=function(){return _0x2491c1;};return a0_0x4897();}async function executeAutomationAction(_0x1f59c8){const _0x38ff08=a0_0x1499d3;try{const _0x5bba90=await _0x1f59c8['getStateAsync'](_0x38ff08(0xb2)),_0x5a27c6=await _0x1f59c8[_0x38ff08(0xb7)](_0x38ff08(0x99));if(_0x5bba90&&_0x5bba90[_0x38ff08(0xdf)]&&_0x5a27c6){const _0x103281=_0x5bba90[_0x38ff08(0xdf)];let _0x2ff10b=_0x5a27c6['val'];try{_0x2ff10b=JSON[_0x38ff08(0xcf)](_0x2ff10b);}catch(_0x27479b){}_0x1f59c8[_0x38ff08(0xf2)]['info'](_0x38ff08(0xfd)+_0x103281+_0x38ff08(0xba)+_0x2ff10b),await _0x1f59c8[_0x38ff08(0x83)](_0x103281,_0x2ff10b);}else _0x1f59c8[_0x38ff08(0xf2)][_0x38ff08(0x96)](_0x38ff08(0xa1));}catch(_0x1a067c){_0x1f59c8[_0x38ff08(0xf2)][_0x38ff08(0xa2)]('BUTLER\x20Execution\x20Error:\x20'+_0x1a067c[_0x38ff08(0xca)]);}}async function sendMorningBriefing(_0x287dd7){const _0x5a1523=a0_0x1499d3;if(!_0x287dd7[_0x5a1523(0x85)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x166e17=_0x5a1523(0x89),_0xdb69a6=await _0x287dd7[_0x5a1523(0x85)][_0x5a1523(0xb3)](_0x166e17),_0x78969e=_0xdb69a6[_0x5a1523(0x7c)][_0x5a1523(0xd1)]();setup[_0x5a1523(0x90)](_0x287dd7,_0x5a1523(0xa8)+_0x78969e);}catch(_0x5bdc39){_0x287dd7[_0x5a1523(0xf2)][_0x5a1523(0xa2)]('Briefing\x20Error:\x20'+_0x5bdc39[_0x5a1523(0xca)]);}}module[a0_0x1499d3(0x95)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};