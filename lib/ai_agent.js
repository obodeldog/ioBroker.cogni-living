const a0_0x58fe1b=a0_0x37bf;(function(_0x4c3392,_0x5b1d46){const _0xbadc55=a0_0x37bf,_0x4889ae=_0x4c3392();while(!![]){try{const _0x1faac5=-parseInt(_0xbadc55(0xd8))/0x1*(-parseInt(_0xbadc55(0xe1))/0x2)+-parseInt(_0xbadc55(0xee))/0x3*(parseInt(_0xbadc55(0xf1))/0x4)+-parseInt(_0xbadc55(0xc0))/0x5*(-parseInt(_0xbadc55(0xc8))/0x6)+-parseInt(_0xbadc55(0xb7))/0x7*(-parseInt(_0xbadc55(0xbd))/0x8)+parseInt(_0xbadc55(0x86))/0x9*(-parseInt(_0xbadc55(0x7d))/0xa)+-parseInt(_0xbadc55(0xa5))/0xb*(-parseInt(_0xbadc55(0xf3))/0xc)+-parseInt(_0xbadc55(0x79))/0xd*(parseInt(_0xbadc55(0xe4))/0xe);if(_0x1faac5===_0x5b1d46)break;else _0x4889ae['push'](_0x4889ae['shift']());}catch(_0x720deb){_0x4889ae['push'](_0x4889ae['shift']());}}}(a0_0x1adc,0x5143a));const a0_0xbaef7d=(function(){let _0x590d6e=!![];return function(_0x1a941e,_0x3cbcf6){const _0x210929=_0x590d6e?function(){const _0x3142cc=a0_0x37bf;if(_0x3cbcf6){const _0x1cfcc6=_0x3cbcf6[_0x3142cc(0xdc)](_0x1a941e,arguments);return _0x3cbcf6=null,_0x1cfcc6;}}:function(){};return _0x590d6e=![],_0x210929;};}()),a0_0x382133=a0_0xbaef7d(this,function(){const _0x14a936=a0_0x37bf;return a0_0x382133[_0x14a936(0x91)]()[_0x14a936(0x90)]('(((.+)+)+)+$')[_0x14a936(0x91)]()[_0x14a936(0xa7)](a0_0x382133)[_0x14a936(0x90)](_0x14a936(0xa4));});a0_0x382133();function a0_0x37bf(_0x307821,_0x56b4f7){const _0x2e95d2=a0_0x1adc();return a0_0x37bf=function(_0x382133,_0xbaef7d){_0x382133=_0x382133-0x6d;let _0x1adcea=_0x2e95d2[_0x382133];return _0x1adcea;},a0_0x37bf(_0x307821,_0x56b4f7);}'use strict';const {GoogleGenerativeAI}=require(a0_0x58fe1b(0xa3)),setup=require(a0_0x58fe1b(0xdd)),GEMINI_MODEL=a0_0x58fe1b(0xb2),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x58fe1b(0xaa),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x58fe1b(0xcb),'senior_aal':a0_0x58fe1b(0x8c),'family':a0_0x58fe1b(0x72),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':a0_0x58fe1b(0xe2),'energy_saver':a0_0x58fe1b(0x75)};function canCallApi(){const _0x28c736=a0_0x58fe1b,_0x4abb34=Date[_0x28c736(0xf6)]();return _0x4abb34-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x57ad09){const _0x120ed1=a0_0x58fe1b;if(!_0x57ad09[_0x120ed1(0xb4)][_0x120ed1(0xcc)]||!_0x57ad09[_0x120ed1(0xb4)]['weatherInstance'])return _0x120ed1(0x98);try{const _0x10dfc5=_0x57ad09[_0x120ed1(0xb4)][_0x120ed1(0x8e)];let _0x4b225d=await _0x57ad09[_0x120ed1(0xc6)](_0x10dfc5+'.Current.Temperature');if(!_0x4b225d)_0x4b225d=await _0x57ad09['getForeignStateAsync'](_0x10dfc5+_0x120ed1(0xac));let _0x3939b3=await _0x57ad09[_0x120ed1(0xc6)](_0x10dfc5+_0x120ed1(0xf8));if(!_0x3939b3)_0x3939b3=await _0x57ad09[_0x120ed1(0xc6)](_0x10dfc5+_0x120ed1(0x77));let _0x2f3d77=_0x120ed1(0x94);const _0x2affbe=await _0x57ad09[_0x120ed1(0xc6)](_0x10dfc5+_0x120ed1(0x81));if(_0x2affbe)_0x2f3d77=_0x2affbe[_0x120ed1(0xf5)]?_0x120ed1(0x9a):_0x120ed1(0x8f);if(_0x4b225d&&_0x3939b3)return _0x4b225d[_0x120ed1(0xf5)]+'¬∞C,\x20'+_0x3939b3[_0x120ed1(0xf5)]+_0x120ed1(0xa8)+_0x2f3d77;}catch(_0x4bcd41){}return _0x120ed1(0x84);}async function consultButler(_0x228757,_0x341874,_0x5a8f92,_0x318ec0){const _0x1c7790=a0_0x58fe1b;if(!_0x228757['geminiModel'])return{'approved':!![],'reason':_0x1c7790(0xd3)};const _0x1195d7=Date[_0x1c7790(0xf6)]();if(decisionCache[_0x341874]&&_0x1195d7-decisionCache[_0x341874]['timestamp']<CACHE_TTL_MS){const _0xc17c10=decisionCache[_0x341874][_0x1c7790(0x92)];return _0x228757['log'][_0x1c7790(0xc7)](_0x1c7790(0x97)+_0x341874+'\x20->\x20'+(_0xc17c10['approved']?'OK':'NO')+'\x20('+_0xc17c10[_0x1c7790(0xd2)]+')'),_0xc17c10;}if(!canCallApi())return _0x228757[_0x1c7790(0xf7)][_0x1c7790(0xc7)](_0x1c7790(0xd1)+_0x341874+_0x1c7790(0xf2)),{'approved':!![],'reason':_0x1c7790(0xed)};const _0x1cb616=new Date()[_0x1c7790(0x6e)](),_0x3e9dc3=await getWeatherContext(_0x228757),_0x461af1=PERSONA_MAPPING[_0x228757[_0x1c7790(0xb4)][_0x1c7790(0x7e)]||_0x1c7790(0x85)],_0x2779fd=_0x1c7790(0xdf)+_0x1cb616+_0x1c7790(0xc2)+_0x3e9dc3+_0x1c7790(0xa9)+(_0x318ec0*0x64)[_0x1c7790(0xca)](0x0)+_0x1c7790(0x76)+_0x341874+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x5a8f92+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x461af1+_0x1c7790(0xba);try{updateApiTimestamp();const _0x5d6dda=await _0x228757[_0x1c7790(0xc3)][_0x1c7790(0xb0)](_0x2779fd),_0x41adb7=_0x5d6dda[_0x1c7790(0x89)][_0x1c7790(0xbf)]()['replace'](/```json|```/g,'')['trim'](),_0x40a9d2=JSON['parse'](_0x41adb7);return decisionCache[_0x341874]={'decision':_0x40a9d2,'timestamp':_0x1195d7},_0x40a9d2;}catch(_0x3d1731){return _0x228757[_0x1c7790(0xf7)][_0x1c7790(0xb5)](_0x1c7790(0xa6)+_0x3d1731[_0x1c7790(0xe0)]),decisionCache[_0x341874]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x1195d7-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x1c7790(0x9c)};}}async function runGeminiAnalysis(_0x4b8bdd,_0x31032e=''){const _0x40a540=a0_0x58fe1b;if(!_0x4b8bdd[_0x40a540(0xc3)])return;if(!canCallApi()){_0x4b8bdd['log'][_0x40a540(0xc7)]('ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x4b8bdd[_0x40a540(0x70)][_0x40a540(0xcf)]===0x0)return;const _0x37dfb2=_0x4b8bdd[_0x40a540(0x70)][_0x40a540(0x7f)](0x0,0xf),_0x589980=_0x4b8bdd[_0x40a540(0x73)],_0x26ad70=PERSONA_MAPPING[_0x4b8bdd[_0x40a540(0xb4)][_0x40a540(0x7e)]||_0x40a540(0x85)],_0x24465f=_0x4b8bdd[_0x40a540(0xb4)][_0x40a540(0xc9)]||_0x40a540(0xd7);let _0x1f57bf=_0x40a540(0x94);try{const _0x399699=await _0x4b8bdd[_0x40a540(0x88)]('system.presenceWho');if(_0x399699&&_0x399699[_0x40a540(0xf5)])_0x1f57bf=_0x399699[_0x40a540(0xf5)];}catch(_0x5abfb8){}let _0x2482d3=![];try{const _0x536229=await _0x4b8bdd['getStateAsync'](_0x40a540(0xeb));if(_0x536229&&_0x536229['val'])_0x2482d3=!![];}catch(_0x27c0d8){}const _0x475db9='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x26ad70+_0x40a540(0x7b)+_0x24465f+_0x40a540(0x71)+_0x589980+_0x40a540(0x9f)+_0x1f57bf+_0x40a540(0xc5)+JSON['stringify'](_0x37dfb2)+_0x40a540(0x8b)+_0x31032e+_0x40a540(0xea);try{updateApiTimestamp();const _0x3562f2=await _0x4b8bdd[_0x40a540(0xc3)][_0x40a540(0xb0)](_0x475db9),_0x5b587e=JSON[_0x40a540(0xbb)](_0x3562f2['response']['text']()['replace'](/```json|```/g,'')['trim']());await _0x4b8bdd[_0x40a540(0xe5)](_0x40a540(0xae),{'val':JSON[_0x40a540(0x8d)](_0x5b587e),'ack':!![]});if(_0x5b587e[_0x40a540(0xcd)])await _0x4b8bdd[_0x40a540(0xe5)]('analysis.activitySummary',{'val':_0x5b587e[_0x40a540(0xcd)],'ack':!![]});const _0x149450={'timestamp':Date[_0x40a540(0xf6)](),'id':Date[_0x40a540(0xf6)]()['toString'](),'analysis':{'activity':{'summary':_0x5b587e[_0x40a540(0xcd)],'isAlert':_0x5b587e[_0x40a540(0xce)],'alertReason':_0x5b587e['alertReason']},'comfort':{'automationProposal':_0x5b587e['automationProposal']}}};_0x4b8bdd['analysisHistory'][_0x40a540(0xad)](_0x149450);if(_0x4b8bdd[_0x40a540(0x7a)][_0x40a540(0xcf)]>0x32)_0x4b8bdd[_0x40a540(0x7a)]['pop']();await _0x4b8bdd[_0x40a540(0xe5)](_0x40a540(0x6f),{'val':JSON[_0x40a540(0x8d)](_0x4b8bdd['analysisHistory']),'ack':!![]});const _0x1c9968=_0x5b587e[_0x40a540(0xce)]||![];_0x1c9968!==_0x4b8bdd['lastAlertState']&&(await _0x4b8bdd[_0x40a540(0xe5)](_0x40a540(0xef),{'val':_0x1c9968,'ack':!![]}),_0x4b8bdd['lastAlertState']=_0x1c9968,_0x1c9968&&(await _0x4b8bdd['setStateAsync']('analysis.alertReason',{'val':_0x5b587e[_0x40a540(0xa2)],'ack':!![]}),setup[_0x40a540(0x95)](_0x4b8bdd,_0x40a540(0xc4)+_0x5b587e['alertReason'],![],_0x5b587e[_0x40a540(0xd9)])));if(_0x5b587e[_0x40a540(0x6d)]&&_0x5b587e[_0x40a540(0x6d)][_0x40a540(0x8a)]){await _0x4b8bdd[_0x40a540(0xe5)](_0x40a540(0xda),{'val':!![],'ack':!![]}),await _0x4b8bdd[_0x40a540(0xe5)](_0x40a540(0xb3),{'val':_0x5b587e[_0x40a540(0x6d)][_0x40a540(0x83)],'ack':!![]}),await _0x4b8bdd[_0x40a540(0xe5)](_0x40a540(0xdb),{'val':_0x5b587e[_0x40a540(0x6d)][_0x40a540(0x7c)],'ack':!![]}),await _0x4b8bdd['setStateAsync'](_0x40a540(0x74),{'val':JSON['stringify'](_0x5b587e[_0x40a540(0x6d)][_0x40a540(0x80)]),'ack':!![]});if(_0x2482d3)executeAutomationAction(_0x4b8bdd);}}catch(_0x129404){_0x4b8bdd[_0x40a540(0xf7)]['error'](_0x40a540(0x9d)+_0x129404[_0x40a540(0xe0)]);}}async function createDailyDigest(_0x51f8b4,_0x47951a){const _0x3f036a=a0_0x58fe1b;if(!_0x51f8b4[_0x3f036a(0xc1)])return;if(!canCallApi()){await _0x51f8b4[_0x3f036a(0xe5)](LTM_DP_STATUS,{'val':_0x3f036a(0xde),'ack':!![]});return;}await _0x51f8b4[_0x3f036a(0xe5)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x51f8b4[_0x3f036a(0xc3)]||_0x51f8b4['rawEventLog']['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x51f8b4[_0x3f036a(0xe5)](LTM_DP_STATUS,{'val':_0x3f036a(0xb9),'ack':!![]});return;}const _0x3688b1=JSON[_0x3f036a(0xbb)](JSON[_0x3f036a(0x8d)](_0x51f8b4[_0x3f036a(0xaf)])),_0x7f5c08=_0x3688b1[_0x3f036a(0xcf)],_0x501919=_0x3f036a(0x93)+JSON[_0x3f036a(0x8d)](_0x3688b1);try{updateApiTimestamp();const _0x46382d=await _0x51f8b4[_0x3f036a(0xc3)][_0x3f036a(0xb0)](_0x501919),_0x10704f=JSON[_0x3f036a(0xbb)](_0x46382d[_0x3f036a(0x89)][_0x3f036a(0xbf)]()[_0x3f036a(0xb6)](/```json|```/g,'')[_0x3f036a(0xd5)]()),_0x31121f={'timestamp':new Date()[_0x3f036a(0xa0)](),'eventCount':_0x7f5c08,'summary':_0x10704f['summary']||_0x3f036a(0xe6),'activityLevel':_0x10704f[_0x3f036a(0xe8)]||_0x3f036a(0xd4),'systemMode':_0x51f8b4[_0x3f036a(0x73)]};_0x51f8b4['dailyDigests']['push'](_0x31121f);const _0x16948a=_0x51f8b4[_0x3f036a(0xb4)][_0x3f036a(0xe3)]||0x3c;_0x51f8b4[_0x3f036a(0xd6)][_0x3f036a(0xcf)]>_0x16948a&&_0x51f8b4['dailyDigests'][_0x3f036a(0xf4)](0x0,_0x51f8b4['dailyDigests']['length']-_0x16948a);await _0x51f8b4[_0x3f036a(0xe5)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x51f8b4['dailyDigests']),'ack':!![]}),_0x51f8b4[_0x3f036a(0xaf)]=[],await _0x51f8b4['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x3f036a(0x8d)](_0x51f8b4[_0x3f036a(0xaf)]),'ack':!![]}),await _0x51f8b4['setStateAsync'](LTM_DP_STATUS,{'val':_0x3f036a(0xbe),'ack':!![]});if(_0x51f8b4[_0x3f036a(0xc1)]&&_0x47951a)_0x47951a[_0x3f036a(0xe9)](_0x51f8b4,_0x3f036a(0x82),{'digest':_0x31121f});}catch(_0x275af7){_0x51f8b4[_0x3f036a(0xf7)][_0x3f036a(0x96)](_0x275af7[_0x3f036a(0xe0)]);}}async function runBaselineDriftAnalysis(_0x4e90cc){const _0x4b1af6=a0_0x58fe1b;if(!_0x4e90cc[_0x4b1af6(0xc1)]||!_0x4e90cc['geminiModel'])return;if(!canCallApi())return;const _0x5e62fc=_0x4e90cc[_0x4b1af6(0xb4)][_0x4b1af6(0x9b)]||0xe;if(_0x4e90cc[_0x4b1af6(0xd6)]['length']<_0x5e62fc+0x7){await _0x4e90cc['setStateAsync'](_0x4b1af6(0xec),{'val':_0x4b1af6(0xf0),'ack':!![]});return;}const _0x19100b=_0x4e90cc['dailyDigests'][_0x4b1af6(0x7f)](-_0x5e62fc),_0x3937a9=_0x4e90cc[_0x4b1af6(0xd6)]['slice'](0x0,_0x4e90cc[_0x4b1af6(0xd6)][_0x4b1af6(0xcf)]-_0x5e62fc),_0x5c40ee=_0x4b1af6(0xbc)+JSON[_0x4b1af6(0x8d)](_0x3937a9)+_0x4b1af6(0x99)+JSON[_0x4b1af6(0x8d)](_0x19100b);try{updateApiTimestamp();const _0x4895d2=await _0x4e90cc[_0x4b1af6(0xc3)][_0x4b1af6(0xb0)](_0x5c40ee),_0x2111fe=JSON[_0x4b1af6(0xbb)](_0x4895d2[_0x4b1af6(0x89)]['text']()['replace'](/```json|```/g,'')[_0x4b1af6(0xd5)]());_0x2111fe[_0x4b1af6(0x87)]&&(await _0x4e90cc['setStateAsync'](_0x4b1af6(0xec),{'val':_0x2111fe[_0x4b1af6(0x87)],'ack':!![]}),await _0x4e90cc[_0x4b1af6(0xe5)]('LTM.driftAnalysis.driftDetails',{'val':_0x2111fe['driftDetails'],'ack':!![]}),await _0x4e90cc[_0x4b1af6(0xe5)](_0x4b1af6(0xd0),{'val':Date[_0x4b1af6(0xf6)](),'ack':!![]}));}catch(_0x3afe03){}}async function executeAutomationAction(_0x14d77c){const _0x423a72=a0_0x58fe1b;try{const _0x2b271d=await _0x14d77c[_0x423a72(0x88)]('analysis.automation.targetId'),_0x21ae38=await _0x14d77c['getStateAsync'](_0x423a72(0x74));if(_0x2b271d&&_0x2b271d[_0x423a72(0xf5)]&&_0x21ae38){const _0x3ed449=_0x2b271d[_0x423a72(0xf5)];let _0x585fd2=_0x21ae38[_0x423a72(0xf5)];try{_0x585fd2=JSON[_0x423a72(0xbb)](_0x585fd2);}catch(_0x96acf8){}_0x14d77c[_0x423a72(0xf7)][_0x423a72(0xe7)](_0x423a72(0x9e)+_0x3ed449+_0x423a72(0xa1)+_0x585fd2),await _0x14d77c['setForeignStateAsync'](_0x3ed449,_0x585fd2);}else _0x14d77c[_0x423a72(0xf7)]['warn']('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x49070f){_0x14d77c[_0x423a72(0xf7)][_0x423a72(0x96)](_0x423a72(0xb8)+_0x49070f[_0x423a72(0xe0)]);}}async function sendMorningBriefing(_0x4a5b2a){const _0x2d79c9=a0_0x58fe1b;if(!_0x4a5b2a[_0x2d79c9(0xc3)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x4caf1f=_0x2d79c9(0xb1),_0xc41d0e=await _0x4a5b2a[_0x2d79c9(0xc3)]['generateContent'](_0x4caf1f),_0x189a60=_0xc41d0e['response'][_0x2d79c9(0xbf)]();setup[_0x2d79c9(0x95)](_0x4a5b2a,_0x2d79c9(0xab)+_0x189a60);}catch(_0x51d6d3){_0x4a5b2a[_0x2d79c9(0xf7)][_0x2d79c9(0x96)](_0x2d79c9(0x78)+_0x51d6d3[_0x2d79c9(0xe0)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};function a0_0x1adc(){const _0x18b748=['./setup','Skipped\x20(Traffic)','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','message','2wnRoYx','Sicherheit\x20geht\x20vor.','ltmLtbWindowDays','28WecOho','setStateAsync','Digest','info','activityLevel','send','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','analysis.automation.autoApply','LTM.driftAnalysis.baselineDrift','Traffic-Schutz\x20(Auto-Approved)','3bIxeRu','analysis.isAlert','N/A\x20(Learning)','729884ZYSipB','\x20√ºbersprungen\x20(Auto-Approved).','24IxLioK','splice','val','now','log','.Current.WeatherText','automationProposal','toLocaleTimeString','analysis.analysisHistory','eventHistory','.\x20SYSTEM_MODE:\x20','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','currentSystemMode','analysis.automation.targetValue','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','%)\x20nach\x20\x22','.forecast.current.state','Briefing\x20Error:\x20','3406312HUniqB','analysisHistory','.\x20KONTEXT:\x20','targetId','1623530CPmTYN','aiPersona','slice','targetValue','.Current.IsNight','ANALYZE_HEALTH','description','Wetterdaten\x20nicht\x20abrufbar','generic','9ppKFJK','baselineDrift','getStateAsync','response','detected','.\x20EMERGENCY:\x20','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','stringify','weatherInstance','Tag','search','toString','decision','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','Unbekannt','sendNotification','error','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','Unbekannt\x20(Kein\x20Sensor)','\x0aSTB:\x20','Nacht','ltmStbWindowDays','KI-Fehler\x20(Fallback)','Gemini\x20Error:\x20','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','.\x20ANWESEND:\x20','toISOString','\x20=\x20','alertReason','@google/generative-ai','(((.+)+)+)+$','1459788UUnIRl','ü§ñ\x20Butler\x20Brain\x20Error:\x20','constructor',',\x20Lichtverh√§ltnisse:\x20','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','LTM.rawEventLog','üåÖ\x20Morning\x20Briefing:\x0a','.forecast.current.temperature','unshift','analysis.lastResult','rawEventLog','generateContent','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','models/gemini-flash-latest','analysis.automation.description','config','warn','replace','49AElwNT','BUTLER\x20Execution\x20Error:\x20','Skipped\x20(No\x20AI\x20or\x20Data)','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','parse','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','273392CkxojK','Success','text','42400MNBLkX','isProVersion',',\x20Wetter:\x20','geminiModel','‚ö†Ô∏è\x20ALARM:\x20','.\x20EVENTS:\x20','getForeignStateAsync','debug','318NHyXLp','livingContext','toFixed','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','useWeather','summary','isAlert','length','LTM.driftAnalysis.lastCheck','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','reason','KI\x20offline\x20(Fallback)','normal','trim','dailyDigests','Keine\x20Details.','247656tlpdfO','isEmergency','analysis.automation.patternDetected','analysis.automation.targetId','apply'];a0_0x1adc=function(){return _0x18b748;};return a0_0x1adc();}