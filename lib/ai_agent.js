const a0_0x433869=a0_0x1791;(function(_0x1d462d,_0x36b7a8){const _0xeb5502=a0_0x1791,_0x3b31e1=_0x1d462d();while(!![]){try{const _0x10f4a6=-parseInt(_0xeb5502(0x201))/0x1*(parseInt(_0xeb5502(0x209))/0x2)+-parseInt(_0xeb5502(0x1e1))/0x3*(-parseInt(_0xeb5502(0x1b6))/0x4)+-parseInt(_0xeb5502(0x1bd))/0x5+parseInt(_0xeb5502(0x1ca))/0x6*(parseInt(_0xeb5502(0x1ef))/0x7)+-parseInt(_0xeb5502(0x1cc))/0x8*(parseInt(_0xeb5502(0x1b0))/0x9)+parseInt(_0xeb5502(0x1be))/0xa+parseInt(_0xeb5502(0x1c0))/0xb*(parseInt(_0xeb5502(0x1d0))/0xc);if(_0x10f4a6===_0x36b7a8)break;else _0x3b31e1['push'](_0x3b31e1['shift']());}catch(_0x5965d8){_0x3b31e1['push'](_0x3b31e1['shift']());}}}(a0_0x5143,0x3804e));const a0_0x18dac0=(function(){let _0x2ab98e=!![];return function(_0x332970,_0xade509){const _0x163f59=_0x2ab98e?function(){const _0x1d7643=a0_0x1791;if(_0xade509){const _0x4e7765=_0xade509[_0x1d7643(0x1a8)](_0x332970,arguments);return _0xade509=null,_0x4e7765;}}:function(){};return _0x2ab98e=![],_0x163f59;};}()),a0_0x22c0f9=a0_0x18dac0(this,function(){const _0x4ee3a9=a0_0x1791;return a0_0x22c0f9['toString']()[_0x4ee3a9(0x1fd)](_0x4ee3a9(0x1fb))[_0x4ee3a9(0x1e9)]()[_0x4ee3a9(0x1dd)](a0_0x22c0f9)['search']('(((.+)+)+)+$');});a0_0x22c0f9();'use strict';const {GoogleGenerativeAI}=require(a0_0x433869(0x20c)),setup=require(a0_0x433869(0x220)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x433869(0x21b),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x433869(0x1c3),'senior_aal':a0_0x433869(0x1e6),'family':a0_0x433869(0x205),'single_comfort':a0_0x433869(0x219),'security':'Sicherheit\x20geht\x20vor.','energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function a0_0x5143(){const _0x38c908=['.\x20KONTEXT:\x20','3PHxQpg','.\x20ANWESEND:\x20','replace','.forecast.current.state','ANALYZE_HEALTH','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','toISOString','getStateAsync','toString','geminiModel','%)\x20nach\x20\x22','val','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','1574097MOJBID','Skipped\x20(No\x20AI\x20or\x20Data)','\x20Ã¼bersprungen\x20(Auto-Approved).','stringify','warn','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','setForeignStateAsync','analysisHistory','alertReason','trim','weatherInstance','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','(((.+)+)+)+$','Digest','search','debug','Wetterdaten\x20nicht\x20abrufbar','isEmergency','2HcfcYS','description','dailyDigests','.forecast.current.temperature','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.',',\x20LichtverhÃ¤ltnisse:\x20','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','Gemini\x20Error:\x20','276746WIdERq','.Current.WeatherText','Unbekannt\x20(Kein\x20Sensor)','@google/generative-ai','âš ï¸\x20ALARM:\x20','analysis.automation.targetValue','ltmStbWindowDays','targetValue','.Current.IsNight','isAlert','system.presenceWho','analysis.activitySummary','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','.\x20EVENTS:\x20','exports','send','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','automationProposal','LTM.dailyDigests','analysis.automation.targetId','summary','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','livingContext','./setup','timestamp','lastAlertState','generateContent','sendNotification','unshift','targetId','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','N/A\x20(Learning)','Â°C,\x20','apply','activityLevel','Unbekannt','config','slice','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','eventHistory','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','121113JnSjnL','ðŸŒ…\x20Morning\x20Briefing:\x0a','analysis.alertReason','reason','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','generic','1146440pOdKcq','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','Success','now','message','LTM.driftAnalysis.driftDetails','length','1902785OWzoto','1426430dfbanx','currentSystemMode','6941TJzeqX','toLocaleTimeString','log','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','parse','info',',\x20Wetter:\x20','analysis.lastResult','Tag','6AuVLou','driftDetails','8Tmaoxn','error','rawEventLog','.Current.Temperature','4680SuNSkR','useWeather','push','getForeignStateAsync','response','aiPersona','toFixed','LTM.driftAnalysis.lastCheck','.\x20EMERGENCY:\x20','Traffic-Schutz\x20(Auto-Approved)','setStateAsync','LTM.driftAnalysis.baselineDrift','detected','constructor','text','baselineDrift'];a0_0x5143=function(){return _0x38c908;};return a0_0x5143();}function canCallApi(){const _0xe4b014=a0_0x433869,_0x58cd14=Date[_0xe4b014(0x1b9)]();return _0x58cd14-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x38223c=a0_0x433869;lastGlobalApiCall=Date[_0x38223c(0x1b9)]();}async function getWeatherContext(_0x29a26d){const _0x370e9c=a0_0x433869;if(!_0x29a26d[_0x370e9c(0x1ab)][_0x370e9c(0x1d1)]||!_0x29a26d['config']['weatherInstance'])return _0x370e9c(0x20b);try{const _0x5abb8a=_0x29a26d[_0x370e9c(0x1ab)][_0x370e9c(0x1f9)];let _0x2d510d=await _0x29a26d['getForeignStateAsync'](_0x5abb8a+_0x370e9c(0x1cf));if(!_0x2d510d)_0x2d510d=await _0x29a26d[_0x370e9c(0x1d3)](_0x5abb8a+_0x370e9c(0x204));let _0x1da326=await _0x29a26d[_0x370e9c(0x1d3)](_0x5abb8a+_0x370e9c(0x20a));if(!_0x1da326)_0x1da326=await _0x29a26d[_0x370e9c(0x1d3)](_0x5abb8a+_0x370e9c(0x1e4));let _0x34c8ad=_0x370e9c(0x1aa);const _0x22448e=await _0x29a26d['getForeignStateAsync'](_0x5abb8a+_0x370e9c(0x211));if(_0x22448e)_0x34c8ad=_0x22448e[_0x370e9c(0x1ec)]?'Nacht':_0x370e9c(0x1c9);if(_0x2d510d&&_0x1da326)return _0x2d510d[_0x370e9c(0x1ec)]+_0x370e9c(0x1a7)+_0x1da326[_0x370e9c(0x1ec)]+_0x370e9c(0x206)+_0x34c8ad;}catch(_0x358633){}return _0x370e9c(0x1ff);}async function consultButler(_0x4b17bc,_0x1e2d5f,_0x273b84,_0x5235eb){const _0x500fc6=a0_0x433869;if(!_0x4b17bc[_0x500fc6(0x1ea)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x37f196=Date[_0x500fc6(0x1b9)]();if(decisionCache[_0x1e2d5f]&&_0x37f196-decisionCache[_0x1e2d5f][_0x500fc6(0x221)]<CACHE_TTL_MS){const _0x121326=decisionCache[_0x1e2d5f]['decision'];return _0x4b17bc[_0x500fc6(0x1c2)][_0x500fc6(0x1fe)](_0x500fc6(0x21e)+_0x1e2d5f+'\x20->\x20'+(_0x121326['approved']?'OK':'NO')+'\x20('+_0x121326[_0x500fc6(0x1b3)]+')'),_0x121326;}if(!canCallApi())return _0x4b17bc[_0x500fc6(0x1c2)][_0x500fc6(0x1fe)]('ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20'+_0x1e2d5f+_0x500fc6(0x1f1)),{'approved':!![],'reason':_0x500fc6(0x1d9)};const _0x1686c6=new Date()[_0x500fc6(0x1c1)](),_0x33390f=await getWeatherContext(_0x4b17bc),_0x174e56=PERSONA_MAPPING[_0x4b17bc[_0x500fc6(0x1ab)][_0x500fc6(0x1d5)]||_0x500fc6(0x1b5)],_0x55e6fb=_0x500fc6(0x1af)+_0x1686c6+_0x500fc6(0x1c7)+_0x33390f+_0x500fc6(0x207)+(_0x5235eb*0x64)[_0x500fc6(0x1d6)](0x0)+_0x500fc6(0x1eb)+_0x1e2d5f+_0x500fc6(0x1c4)+_0x273b84+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x174e56+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x271ab8=await _0x4b17bc[_0x500fc6(0x1ea)][_0x500fc6(0x1a1)](_0x55e6fb),_0x488ceb=_0x271ab8[_0x500fc6(0x1d4)][_0x500fc6(0x1de)]()[_0x500fc6(0x1e3)](/```json|```/g,'')[_0x500fc6(0x1f8)](),_0x1e1226=JSON[_0x500fc6(0x1c5)](_0x488ceb);return decisionCache[_0x1e2d5f]={'decision':_0x1e1226,'timestamp':_0x37f196},_0x1e1226;}catch(_0x318909){return _0x4b17bc[_0x500fc6(0x1c2)][_0x500fc6(0x1f3)](_0x500fc6(0x215)+_0x318909[_0x500fc6(0x1ba)]),decisionCache[_0x1e2d5f]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x37f196-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}async function runGeminiAnalysis(_0x5aa402,_0x140738=''){const _0x585a6e=a0_0x433869;if(!_0x5aa402[_0x585a6e(0x1ea)])return;if(!canCallApi()){_0x5aa402[_0x585a6e(0x1c2)]['debug'](_0x585a6e(0x1f4));return;}if(_0x5aa402[_0x585a6e(0x1ae)][_0x585a6e(0x1bc)]===0x0)return;const _0x4d597e=_0x5aa402[_0x585a6e(0x1ae)][_0x585a6e(0x1ac)](0x0,0xf),_0x477326=_0x5aa402['currentSystemMode'],_0x42d620=PERSONA_MAPPING[_0x5aa402[_0x585a6e(0x1ab)]['aiPersona']||_0x585a6e(0x1b5)],_0x62bca0=_0x5aa402[_0x585a6e(0x1ab)][_0x585a6e(0x21f)]||'Keine\x20Details.';let _0x40d352='Unbekannt';try{const _0x2657ee=await _0x5aa402[_0x585a6e(0x1e8)](_0x585a6e(0x213));if(_0x2657ee&&_0x2657ee[_0x585a6e(0x1ec)])_0x40d352=_0x2657ee[_0x585a6e(0x1ec)];}catch(_0x5229eb){}let _0x535f7e=![];try{const _0x444f03=await _0x5aa402[_0x585a6e(0x1e8)]('analysis.automation.autoApply');if(_0x444f03&&_0x444f03[_0x585a6e(0x1ec)])_0x535f7e=!![];}catch(_0x30a891){}const _0x10dea4=_0x585a6e(0x1ed)+_0x42d620+_0x585a6e(0x1e0)+_0x62bca0+'.\x20SYSTEM_MODE:\x20'+_0x477326+_0x585a6e(0x1e2)+_0x40d352+_0x585a6e(0x216)+JSON['stringify'](_0x4d597e)+_0x585a6e(0x1d8)+_0x140738+_0x585a6e(0x1fa);try{updateApiTimestamp();const _0x5d7068=await _0x5aa402[_0x585a6e(0x1ea)][_0x585a6e(0x1a1)](_0x10dea4),_0x199fa8=JSON[_0x585a6e(0x1c5)](_0x5d7068[_0x585a6e(0x1d4)][_0x585a6e(0x1de)]()[_0x585a6e(0x1e3)](/```json|```/g,'')[_0x585a6e(0x1f8)]());await _0x5aa402['setStateAsync'](_0x585a6e(0x1c8),{'val':JSON[_0x585a6e(0x1f2)](_0x199fa8),'ack':!![]});if(_0x199fa8[_0x585a6e(0x21d)])await _0x5aa402[_0x585a6e(0x1da)](_0x585a6e(0x214),{'val':_0x199fa8[_0x585a6e(0x21d)],'ack':!![]});const _0x31ad46={'timestamp':Date[_0x585a6e(0x1b9)](),'id':Date[_0x585a6e(0x1b9)]()[_0x585a6e(0x1e9)](),'analysis':{'activity':{'summary':_0x199fa8[_0x585a6e(0x21d)],'isAlert':_0x199fa8[_0x585a6e(0x212)],'alertReason':_0x199fa8['alertReason']},'comfort':{'automationProposal':_0x199fa8[_0x585a6e(0x21a)]}}};_0x5aa402[_0x585a6e(0x1f6)][_0x585a6e(0x1a3)](_0x31ad46);if(_0x5aa402[_0x585a6e(0x1f6)][_0x585a6e(0x1bc)]>0x32)_0x5aa402[_0x585a6e(0x1f6)]['pop']();await _0x5aa402[_0x585a6e(0x1da)]('analysis.analysisHistory',{'val':JSON[_0x585a6e(0x1f2)](_0x5aa402['analysisHistory']),'ack':!![]});const _0x5d8d89=_0x199fa8['isAlert']||![];_0x5d8d89!==_0x5aa402['lastAlertState']&&(await _0x5aa402[_0x585a6e(0x1da)]('analysis.isAlert',{'val':_0x5d8d89,'ack':!![]}),_0x5aa402[_0x585a6e(0x1a0)]=_0x5d8d89,_0x5d8d89&&(await _0x5aa402[_0x585a6e(0x1da)](_0x585a6e(0x1b2),{'val':_0x199fa8['alertReason'],'ack':!![]}),setup[_0x585a6e(0x1a2)](_0x5aa402,_0x585a6e(0x20d)+_0x199fa8[_0x585a6e(0x1f7)],![],_0x199fa8[_0x585a6e(0x200)])));if(_0x199fa8[_0x585a6e(0x21a)]&&_0x199fa8[_0x585a6e(0x21a)][_0x585a6e(0x1dc)]){await _0x5aa402[_0x585a6e(0x1da)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x5aa402['setStateAsync']('analysis.automation.description',{'val':_0x199fa8[_0x585a6e(0x21a)][_0x585a6e(0x202)],'ack':!![]}),await _0x5aa402[_0x585a6e(0x1da)]('analysis.automation.targetId',{'val':_0x199fa8[_0x585a6e(0x21a)][_0x585a6e(0x1a4)],'ack':!![]}),await _0x5aa402[_0x585a6e(0x1da)](_0x585a6e(0x20e),{'val':JSON[_0x585a6e(0x1f2)](_0x199fa8[_0x585a6e(0x21a)][_0x585a6e(0x210)]),'ack':!![]});if(_0x535f7e)executeAutomationAction(_0x5aa402);}}catch(_0x34e046){_0x5aa402['log'][_0x585a6e(0x1cd)](_0x585a6e(0x208)+_0x34e046[_0x585a6e(0x1ba)]);}}async function createDailyDigest(_0x109ab7,_0x465497){const _0x2f6e98=a0_0x433869;if(!_0x109ab7['isProVersion'])return;if(!canCallApi()){await _0x109ab7[_0x2f6e98(0x1da)](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x109ab7[_0x2f6e98(0x1da)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x109ab7[_0x2f6e98(0x1ea)]||_0x109ab7[_0x2f6e98(0x1ce)][_0x2f6e98(0x1bc)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x109ab7[_0x2f6e98(0x1da)](LTM_DP_STATUS,{'val':_0x2f6e98(0x1f0),'ack':!![]});return;}const _0x4401cb=JSON[_0x2f6e98(0x1c5)](JSON[_0x2f6e98(0x1f2)](_0x109ab7[_0x2f6e98(0x1ce)])),_0xa0f314=_0x4401cb['length'],_0x3f7787=_0x2f6e98(0x1ee)+JSON['stringify'](_0x4401cb);try{updateApiTimestamp();const _0x375ef2=await _0x109ab7[_0x2f6e98(0x1ea)][_0x2f6e98(0x1a1)](_0x3f7787),_0x2eb30d=JSON['parse'](_0x375ef2[_0x2f6e98(0x1d4)][_0x2f6e98(0x1de)]()[_0x2f6e98(0x1e3)](/```json|```/g,'')[_0x2f6e98(0x1f8)]()),_0x5e22e5={'timestamp':new Date()[_0x2f6e98(0x1e7)](),'eventCount':_0xa0f314,'summary':_0x2eb30d[_0x2f6e98(0x21d)]||_0x2f6e98(0x1fc),'activityLevel':_0x2eb30d[_0x2f6e98(0x1a9)]||'normal','systemMode':_0x109ab7[_0x2f6e98(0x1bf)]};_0x109ab7[_0x2f6e98(0x203)][_0x2f6e98(0x1d2)](_0x5e22e5);const _0x34bccc=_0x109ab7['config']['ltmLtbWindowDays']||0x3c;_0x109ab7[_0x2f6e98(0x203)][_0x2f6e98(0x1bc)]>_0x34bccc&&_0x109ab7[_0x2f6e98(0x203)]['splice'](0x0,_0x109ab7[_0x2f6e98(0x203)][_0x2f6e98(0x1bc)]-_0x34bccc);await _0x109ab7[_0x2f6e98(0x1da)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x109ab7[_0x2f6e98(0x203)]),'ack':!![]}),_0x109ab7[_0x2f6e98(0x1ce)]=[],await _0x109ab7['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x109ab7[_0x2f6e98(0x1ce)]),'ack':!![]}),await _0x109ab7[_0x2f6e98(0x1da)](LTM_DP_STATUS,{'val':_0x2f6e98(0x1b8),'ack':!![]});if(_0x109ab7['isProVersion']&&_0x465497)_0x465497[_0x2f6e98(0x218)](_0x109ab7,_0x2f6e98(0x1e5),{'digest':_0x5e22e5});}catch(_0x3c4204){_0x109ab7[_0x2f6e98(0x1c2)][_0x2f6e98(0x1cd)](_0x3c4204['message']);}}async function runBaselineDriftAnalysis(_0x39cad9){const _0x3b95e5=a0_0x433869;if(!_0x39cad9['isProVersion']||!_0x39cad9[_0x3b95e5(0x1ea)])return;if(!canCallApi())return;const _0x2df8b5=_0x39cad9[_0x3b95e5(0x1ab)][_0x3b95e5(0x20f)]||0xe;if(_0x39cad9[_0x3b95e5(0x203)][_0x3b95e5(0x1bc)]<_0x2df8b5+0x7){await _0x39cad9[_0x3b95e5(0x1da)](_0x3b95e5(0x1db),{'val':_0x3b95e5(0x1a6),'ack':!![]});return;}const _0x3aa79f=_0x39cad9[_0x3b95e5(0x203)][_0x3b95e5(0x1ac)](-_0x2df8b5),_0x23a470=_0x39cad9[_0x3b95e5(0x203)]['slice'](0x0,_0x39cad9[_0x3b95e5(0x203)]['length']-_0x2df8b5),_0x88d8d=_0x3b95e5(0x1b4)+JSON[_0x3b95e5(0x1f2)](_0x23a470)+'\x0aSTB:\x20'+JSON['stringify'](_0x3aa79f);try{updateApiTimestamp();const _0x3af6e8=await _0x39cad9['geminiModel'][_0x3b95e5(0x1a1)](_0x88d8d),_0x3a6776=JSON['parse'](_0x3af6e8[_0x3b95e5(0x1d4)][_0x3b95e5(0x1de)]()['replace'](/```json|```/g,'')[_0x3b95e5(0x1f8)]());_0x3a6776[_0x3b95e5(0x1df)]&&(await _0x39cad9[_0x3b95e5(0x1da)](_0x3b95e5(0x1db),{'val':_0x3a6776[_0x3b95e5(0x1df)],'ack':!![]}),await _0x39cad9[_0x3b95e5(0x1da)](_0x3b95e5(0x1bb),{'val':_0x3a6776[_0x3b95e5(0x1cb)],'ack':!![]}),await _0x39cad9[_0x3b95e5(0x1da)](_0x3b95e5(0x1d7),{'val':Date[_0x3b95e5(0x1b9)](),'ack':!![]}));}catch(_0x5c0049){}}function a0_0x1791(_0x138896,_0x5bc17b){const _0x475ab5=a0_0x5143();return a0_0x1791=function(_0x22c0f9,_0x18dac0){_0x22c0f9=_0x22c0f9-0x1a0;let _0x51430b=_0x475ab5[_0x22c0f9];return _0x51430b;},a0_0x1791(_0x138896,_0x5bc17b);}async function executeAutomationAction(_0xe29146){const _0x473bdb=a0_0x433869;try{const _0x2aa4e6=await _0xe29146[_0x473bdb(0x1e8)](_0x473bdb(0x21c)),_0x578105=await _0xe29146['getStateAsync'](_0x473bdb(0x20e));if(_0x2aa4e6&&_0x2aa4e6[_0x473bdb(0x1ec)]&&_0x578105){const _0x316298=_0x2aa4e6[_0x473bdb(0x1ec)];let _0x4b1a30=_0x578105[_0x473bdb(0x1ec)];try{_0x4b1a30=JSON[_0x473bdb(0x1c5)](_0x4b1a30);}catch(_0x304c42){}_0xe29146[_0x473bdb(0x1c2)][_0x473bdb(0x1c6)](_0x473bdb(0x1b7)+_0x316298+'\x20=\x20'+_0x4b1a30),await _0xe29146[_0x473bdb(0x1f5)](_0x316298,_0x4b1a30);}else _0xe29146[_0x473bdb(0x1c2)][_0x473bdb(0x1f3)](_0x473bdb(0x1ad));}catch(_0x12b86e){_0xe29146[_0x473bdb(0x1c2)][_0x473bdb(0x1cd)]('BUTLER\x20Execution\x20Error:\x20'+_0x12b86e[_0x473bdb(0x1ba)]);}}async function sendMorningBriefing(_0x2378c0){const _0x552111=a0_0x433869;if(!_0x2378c0[_0x552111(0x1ea)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x369d35=_0x552111(0x1a5),_0x2e9048=await _0x2378c0[_0x552111(0x1ea)][_0x552111(0x1a1)](_0x369d35),_0x368515=_0x2e9048[_0x552111(0x1d4)]['text']();setup[_0x552111(0x1a2)](_0x2378c0,_0x552111(0x1b1)+_0x368515);}catch(_0x522fc3){_0x2378c0[_0x552111(0x1c2)]['error']('Briefing\x20Error:\x20'+_0x522fc3[_0x552111(0x1ba)]);}}module[a0_0x433869(0x217)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};