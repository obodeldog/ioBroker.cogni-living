function a0_0x51ba(_0x469157,_0x1eb720){const _0x2058b2=a0_0x5eb4();return a0_0x51ba=function(_0x3e42c6,_0x42b6aa){_0x3e42c6=_0x3e42c6-0xbf;let _0x5eb419=_0x2058b2[_0x3e42c6];return _0x5eb419;},a0_0x51ba(_0x469157,_0x1eb720);}const a0_0xd03bd1=a0_0x51ba;(function(_0x3c8302,_0x2a49a5){const _0xa07ce0=a0_0x51ba,_0x3210c0=_0x3c8302();while(!![]){try{const _0x3dd96b=parseInt(_0xa07ce0(0xe8))/0x1*(parseInt(_0xa07ce0(0x104))/0x2)+parseInt(_0xa07ce0(0xd9))/0x3*(-parseInt(_0xa07ce0(0xf0))/0x4)+parseInt(_0xa07ce0(0xce))/0x5+parseInt(_0xa07ce0(0x119))/0x6*(-parseInt(_0xa07ce0(0x101))/0x7)+-parseInt(_0xa07ce0(0xc9))/0x8+-parseInt(_0xa07ce0(0xf1))/0x9+-parseInt(_0xa07ce0(0xfb))/0xa*(-parseInt(_0xa07ce0(0xff))/0xb);if(_0x3dd96b===_0x2a49a5)break;else _0x3210c0['push'](_0x3210c0['shift']());}catch(_0x47dceb){_0x3210c0['push'](_0x3210c0['shift']());}}}(a0_0x5eb4,0xe9c4a));const a0_0x42b6aa=(function(){let _0x5aeed5=!![];return function(_0x1e5660,_0x8cc028){const _0x42b1ba=_0x5aeed5?function(){const _0x2c11cb=a0_0x51ba;if(_0x8cc028){const _0x31ee5b=_0x8cc028[_0x2c11cb(0x130)](_0x1e5660,arguments);return _0x8cc028=null,_0x31ee5b;}}:function(){};return _0x5aeed5=![],_0x42b1ba;};}()),a0_0x3e42c6=a0_0x42b6aa(this,function(){const _0x26522f=a0_0x51ba;return a0_0x3e42c6[_0x26522f(0xf7)]()[_0x26522f(0xd3)](_0x26522f(0x10b))['toString']()['constructor'](a0_0x3e42c6)[_0x26522f(0xd3)](_0x26522f(0x10b));});a0_0x3e42c6();'use strict';const {GoogleGenerativeAI}=require(a0_0xd03bd1(0x111)),setup=require('./setup'),GEMINI_MODEL=a0_0xd03bd1(0xf5),LTM_DP_DAILY_DIGESTS=a0_0xd03bd1(0xdf),LTM_DP_STATUS=a0_0xd03bd1(0x112),LTM_DP_RAW_LOG=a0_0xd03bd1(0x132),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0xd03bd1(0x10d),'senior_aal':a0_0xd03bd1(0x118),'family':'Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':a0_0xd03bd1(0x13d),'energy_saver':a0_0xd03bd1(0xda)};function canCallApi(){const _0x4df25d=a0_0xd03bd1,_0x4383bd=Date[_0x4df25d(0xec)]();return _0x4383bd-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x8b24de=a0_0xd03bd1;lastGlobalApiCall=Date[_0x8b24de(0xec)]();}async function getWeatherContext(_0x7e93a7){const _0x3dd7a6=a0_0xd03bd1;if(!_0x7e93a7[_0x3dd7a6(0xc3)][_0x3dd7a6(0xc8)]||!_0x7e93a7[_0x3dd7a6(0xc3)][_0x3dd7a6(0xd6)])return _0x3dd7a6(0xd7);try{const _0x4ada1b=_0x7e93a7[_0x3dd7a6(0xc3)][_0x3dd7a6(0xd6)];let _0x4c1f9d=await _0x7e93a7['getForeignStateAsync'](_0x4ada1b+'.Current.Temperature');if(!_0x4c1f9d)_0x4c1f9d=await _0x7e93a7[_0x3dd7a6(0xbf)](_0x4ada1b+_0x3dd7a6(0x12a));let _0x5c56f9=await _0x7e93a7[_0x3dd7a6(0xbf)](_0x4ada1b+'.Current.WeatherText');if(!_0x5c56f9)_0x5c56f9=await _0x7e93a7[_0x3dd7a6(0xbf)](_0x4ada1b+_0x3dd7a6(0xd1));let _0x1a085a=_0x3dd7a6(0x124);const _0x233872=await _0x7e93a7[_0x3dd7a6(0xbf)](_0x4ada1b+_0x3dd7a6(0xde));if(_0x233872)_0x1a085a=_0x233872['val']?_0x3dd7a6(0x13e):'Tag';if(_0x4c1f9d&&_0x5c56f9)return _0x4c1f9d[_0x3dd7a6(0x116)]+_0x3dd7a6(0xcb)+_0x5c56f9[_0x3dd7a6(0x116)]+_0x3dd7a6(0xd5)+_0x1a085a;}catch(_0x1973a0){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x2c7b69,_0x1557b5,_0x18eaee,_0x32723c){const _0x1dc1be=a0_0xd03bd1;if(!_0x2c7b69[_0x1dc1be(0xd8)])return{'approved':!![],'reason':_0x1dc1be(0x11e)};const _0x22866f=Date[_0x1dc1be(0xec)]();if(decisionCache[_0x1557b5]&&_0x22866f-decisionCache[_0x1557b5][_0x1dc1be(0xdc)]<CACHE_TTL_MS){const _0x434aa7=decisionCache[_0x1557b5][_0x1dc1be(0x10a)];return _0x2c7b69['log'][_0x1dc1be(0xd2)](_0x1dc1be(0xdb)+_0x1557b5+_0x1dc1be(0xe3)+(_0x434aa7[_0x1dc1be(0x134)]?'OK':'NO')+'\x20('+_0x434aa7[_0x1dc1be(0xd0)]+')'),_0x434aa7;}if(!canCallApi())return _0x2c7b69['log']['debug']('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x1557b5+'\x20√ºbersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0x1dc1be(0xeb)};const _0x4e2559=new Date()[_0x1dc1be(0xf3)](),_0x57ee24=await getWeatherContext(_0x2c7b69),_0x226970=PERSONA_MAPPING[_0x2c7b69[_0x1dc1be(0xc3)][_0x1dc1be(0xf4)]||'generic'],_0x58c6ba=_0x1dc1be(0x128)+_0x4e2559+',\x20Wetter:\x20'+_0x57ee24+_0x1dc1be(0x110)+(_0x32723c*0x64)[_0x1dc1be(0xf2)](0x0)+_0x1dc1be(0xcf)+_0x1557b5+_0x1dc1be(0x139)+_0x18eaee+_0x1dc1be(0x115)+_0x226970+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x4f67fe=await _0x2c7b69['geminiModel'][_0x1dc1be(0x11a)](_0x58c6ba),_0x25ca9c=_0x4f67fe['response'][_0x1dc1be(0x129)]()['replace'](/```json|```/g,'')[_0x1dc1be(0x11b)](),_0x43e20b=JSON['parse'](_0x25ca9c);return decisionCache[_0x1557b5]={'decision':_0x43e20b,'timestamp':_0x22866f},_0x43e20b;}catch(_0x416861){return _0x2c7b69[_0x1dc1be(0x106)][_0x1dc1be(0xcd)](_0x1dc1be(0xfa)+_0x416861[_0x1dc1be(0x13c)]),decisionCache[_0x1557b5]={'decision':{'approved':!![],'reason':_0x1dc1be(0x138)},'timestamp':_0x22866f-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x1dc1be(0x138)};}}async function runGeminiAnalysis(_0x324223,_0x10e662=''){const _0x2b63ac=a0_0xd03bd1;if(!_0x324223['geminiModel'])return;if(!canCallApi()){_0x324223[_0x2b63ac(0x106)][_0x2b63ac(0xd2)](_0x2b63ac(0x131));return;}if(_0x324223['eventHistory'][_0x2b63ac(0x103)]===0x0)return;const _0x3faca7=_0x324223[_0x2b63ac(0xfc)][_0x2b63ac(0xd4)](0x0,0xf),_0x424dac=_0x324223[_0x2b63ac(0xc7)],_0x16c1e6=PERSONA_MAPPING[_0x324223[_0x2b63ac(0xc3)][_0x2b63ac(0xf4)]||_0x2b63ac(0x107)],_0x570171=_0x324223[_0x2b63ac(0xc3)][_0x2b63ac(0xe7)]||_0x2b63ac(0x10f);let _0x6174dd='Unbekannt';try{const _0x2ce038=await _0x324223[_0x2b63ac(0xf6)]('system.presenceWho');if(_0x2ce038&&_0x2ce038['val'])_0x6174dd=_0x2ce038['val'];}catch(_0x4f4f14){}let _0x231929=![];try{const _0x472b19=await _0x324223[_0x2b63ac(0xf6)](_0x2b63ac(0xe2));if(_0x472b19&&_0x472b19[_0x2b63ac(0x116)])_0x231929=!![];}catch(_0x5afb15){}const _0x3a3c8b=_0x2b63ac(0xdd)+_0x16c1e6+_0x2b63ac(0x12b)+_0x570171+_0x2b63ac(0x100)+_0x424dac+_0x2b63ac(0x105)+_0x6174dd+_0x2b63ac(0x12d)+JSON[_0x2b63ac(0x126)](_0x3faca7)+_0x2b63ac(0xc5)+_0x10e662+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x2b4691=await _0x324223['geminiModel'][_0x2b63ac(0x11a)](_0x3a3c8b),_0x16d5ef=JSON['parse'](_0x2b4691[_0x2b63ac(0x114)][_0x2b63ac(0x129)]()[_0x2b63ac(0x12c)](/```json|```/g,'')[_0x2b63ac(0x11b)]());await _0x324223[_0x2b63ac(0x10c)]('analysis.lastResult',{'val':JSON[_0x2b63ac(0x126)](_0x16d5ef),'ack':!![]});if(_0x16d5ef[_0x2b63ac(0xe1)])await _0x324223[_0x2b63ac(0x10c)](_0x2b63ac(0xe6),{'val':_0x16d5ef[_0x2b63ac(0xe1)],'ack':!![]});const _0x3e0d26={'timestamp':Date[_0x2b63ac(0xec)](),'id':Date[_0x2b63ac(0xec)]()[_0x2b63ac(0xf7)](),'analysis':{'activity':{'summary':_0x16d5ef['summary'],'isAlert':_0x16d5ef[_0x2b63ac(0x123)],'alertReason':_0x16d5ef[_0x2b63ac(0x10e)]},'comfort':{'automationProposal':_0x16d5ef[_0x2b63ac(0xe5)]}}};_0x324223[_0x2b63ac(0x137)][_0x2b63ac(0x109)](_0x3e0d26);if(_0x324223[_0x2b63ac(0x137)][_0x2b63ac(0x103)]>0x32)_0x324223['analysisHistory'][_0x2b63ac(0xc4)]();await _0x324223[_0x2b63ac(0x10c)](_0x2b63ac(0xc1),{'val':JSON[_0x2b63ac(0x126)](_0x324223[_0x2b63ac(0x137)]),'ack':!![]});const _0x581c08=_0x16d5ef[_0x2b63ac(0x123)]||![];_0x581c08!==_0x324223[_0x2b63ac(0xfd)]&&(await _0x324223['setStateAsync'](_0x2b63ac(0xf9),{'val':_0x581c08,'ack':!![]}),_0x324223[_0x2b63ac(0xfd)]=_0x581c08,_0x581c08&&(await _0x324223['setStateAsync'](_0x2b63ac(0x11c),{'val':_0x16d5ef['alertReason'],'ack':!![]}),setup['sendNotification'](_0x324223,'‚ö†Ô∏è\x20ALARM:\x20'+_0x16d5ef[_0x2b63ac(0x10e)],![],_0x16d5ef[_0x2b63ac(0xcc)])));if(_0x16d5ef['automationProposal']&&_0x16d5ef[_0x2b63ac(0xe5)][_0x2b63ac(0x120)]){await _0x324223[_0x2b63ac(0x10c)](_0x2b63ac(0xe4),{'val':!![],'ack':!![]}),await _0x324223['setStateAsync'](_0x2b63ac(0x11d),{'val':_0x16d5ef['automationProposal'][_0x2b63ac(0xee)],'ack':!![]}),await _0x324223[_0x2b63ac(0x10c)](_0x2b63ac(0x136),{'val':_0x16d5ef[_0x2b63ac(0xe5)]['targetId'],'ack':!![]}),await _0x324223[_0x2b63ac(0x10c)](_0x2b63ac(0xf8),{'val':JSON[_0x2b63ac(0x126)](_0x16d5ef[_0x2b63ac(0xe5)][_0x2b63ac(0x113)]),'ack':!![]});if(_0x231929)executeAutomationAction(_0x324223);}}catch(_0x50c636){_0x324223[_0x2b63ac(0x106)][_0x2b63ac(0xc6)]('Gemini\x20Error:\x20'+_0x50c636[_0x2b63ac(0x13c)]);}}async function createDailyDigest(_0x1ea0d3,_0x342e59){const _0x509e82=a0_0xd03bd1;if(!_0x1ea0d3[_0x509e82(0x125)])return;if(!canCallApi()){await _0x1ea0d3[_0x509e82(0x10c)](LTM_DP_STATUS,{'val':_0x509e82(0x13a),'ack':!![]});return;}await _0x1ea0d3[_0x509e82(0x10c)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x1ea0d3[_0x509e82(0xd8)]||_0x1ea0d3['rawEventLog'][_0x509e82(0x103)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1ea0d3[_0x509e82(0x10c)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x2ae945=JSON[_0x509e82(0xc2)](JSON[_0x509e82(0x126)](_0x1ea0d3['rawEventLog'])),_0x1e578a=_0x2ae945[_0x509e82(0x103)],_0x298df9='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x509e82(0x126)](_0x2ae945);try{updateApiTimestamp();const _0x284db5=await _0x1ea0d3['geminiModel'][_0x509e82(0x11a)](_0x298df9),_0x4164d7=JSON[_0x509e82(0xc2)](_0x284db5[_0x509e82(0x114)][_0x509e82(0x129)]()[_0x509e82(0x12c)](/```json|```/g,'')[_0x509e82(0x11b)]()),_0x3af094={'timestamp':new Date()['toISOString'](),'eventCount':_0x1e578a,'summary':_0x4164d7[_0x509e82(0xe1)]||'Digest','activityLevel':_0x4164d7[_0x509e82(0x135)]||_0x509e82(0x121),'systemMode':_0x1ea0d3[_0x509e82(0xc7)]};_0x1ea0d3[_0x509e82(0x12f)][_0x509e82(0x102)](_0x3af094);const _0x3bd297=_0x1ea0d3[_0x509e82(0xc3)][_0x509e82(0xe0)]||0x3c;_0x1ea0d3[_0x509e82(0x12f)][_0x509e82(0x103)]>_0x3bd297&&_0x1ea0d3['dailyDigests'][_0x509e82(0x127)](0x0,_0x1ea0d3[_0x509e82(0x12f)][_0x509e82(0x103)]-_0x3bd297);await _0x1ea0d3['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x509e82(0x126)](_0x1ea0d3[_0x509e82(0x12f)]),'ack':!![]}),_0x1ea0d3['rawEventLog']=[],await _0x1ea0d3[_0x509e82(0x10c)](LTM_DP_RAW_LOG,{'val':JSON[_0x509e82(0x126)](_0x1ea0d3[_0x509e82(0x133)]),'ack':!![]}),await _0x1ea0d3[_0x509e82(0x10c)](LTM_DP_STATUS,{'val':_0x509e82(0xe9),'ack':!![]});if(_0x1ea0d3[_0x509e82(0x125)]&&_0x342e59)_0x342e59['send'](_0x1ea0d3,_0x509e82(0x108),{'digest':_0x3af094});}catch(_0x18b0ce){_0x1ea0d3[_0x509e82(0x106)]['error'](_0x18b0ce[_0x509e82(0x13c)]);}}function a0_0x5eb4(){const _0x4014d2=['slice',',\x20Lichtverh√§ltnisse:\x20','weatherInstance','Unbekannt\x20(Kein\x20Sensor)','geminiModel','269193oZxqJl','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','timestamp','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','.Current.IsNight','LTM.dailyDigests','ltmLtbWindowDays','summary','analysis.automation.autoApply','\x20->\x20','analysis.automation.patternDetected','automationProposal','analysis.activitySummary','livingContext','56077iKaueP','Success','baselineDrift','Traffic-Schutz\x20(Auto-Approved)','now','LTM.driftAnalysis.baselineDrift','description','Briefing\x20Error:\x20','4aDitMR','15841080fBPvoL','toFixed','toLocaleTimeString','aiPersona','models/gemini-flash-latest','getStateAsync','toString','analysis.automation.targetValue','analysis.isAlert','ü§ñ\x20Butler\x20Brain\x20Error:\x20','435500RmLZHq','eventHistory','lastAlertState','exports','132hbgwKT','.\x20SYSTEM_MODE:\x20','2954jShzra','push','length','66KGZkOq','.\x20ANWESEND:\x20','log','generic','ANALYZE_HEALTH','unshift','decision','(((.+)+)+)+$','setStateAsync','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','alertReason','Keine\x20Details.','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','@google/generative-ai','LTM.processingStatus','targetValue','response','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','val','N/A\x20(Learning)','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','10086DjxCCk','generateContent','trim','analysis.alertReason','analysis.automation.description','KI\x20offline\x20(Fallback)','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','detected','normal','setForeignStateAsync','isAlert','Unbekannt','isProVersion','stringify','splice','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','text','.forecast.current.temperature','.\x20KONTEXT:\x20','replace','.\x20EVENTS:\x20','LTM.driftAnalysis.driftDetails','dailyDigests','apply','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','LTM.rawEventLog','rawEventLog','approved','activityLevel','analysis.automation.targetId','analysisHistory','KI-Fehler\x20(Fallback)','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Skipped\x20(Traffic)','sendNotification','message','Sicherheit\x20geht\x20vor.','Nacht','getForeignStateAsync','üåÖ\x20Morning\x20Briefing:\x0a','analysis.analysisHistory','parse','config','pop','.\x20EMERGENCY:\x20','error','currentSystemMode','useWeather','374504AkePKy','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','¬∞C,\x20','isEmergency','warn','5952095vWCDha','%)\x20nach\x20\x22','reason','.forecast.current.state','debug','search'];a0_0x5eb4=function(){return _0x4014d2;};return a0_0x5eb4();}async function runBaselineDriftAnalysis(_0x2a2c5f){const _0x57845c=a0_0xd03bd1;if(!_0x2a2c5f[_0x57845c(0x125)]||!_0x2a2c5f['geminiModel'])return;if(!canCallApi())return;const _0x3c2231=_0x2a2c5f[_0x57845c(0xc3)]['ltmStbWindowDays']||0xe;if(_0x2a2c5f[_0x57845c(0x12f)][_0x57845c(0x103)]<_0x3c2231+0x7){await _0x2a2c5f['setStateAsync'](_0x57845c(0xed),{'val':_0x57845c(0x117),'ack':!![]});return;}const _0x2c6c82=_0x2a2c5f['dailyDigests']['slice'](-_0x3c2231),_0x27fac9=_0x2a2c5f[_0x57845c(0x12f)][_0x57845c(0xd4)](0x0,_0x2a2c5f['dailyDigests']['length']-_0x3c2231),_0x35181f=_0x57845c(0x11f)+JSON[_0x57845c(0x126)](_0x27fac9)+'\x0aSTB:\x20'+JSON[_0x57845c(0x126)](_0x2c6c82);try{updateApiTimestamp();const _0x142a38=await _0x2a2c5f[_0x57845c(0xd8)][_0x57845c(0x11a)](_0x35181f),_0x47bbf7=JSON[_0x57845c(0xc2)](_0x142a38['response']['text']()[_0x57845c(0x12c)](/```json|```/g,'')['trim']());_0x47bbf7[_0x57845c(0xea)]&&(await _0x2a2c5f[_0x57845c(0x10c)](_0x57845c(0xed),{'val':_0x47bbf7['baselineDrift'],'ack':!![]}),await _0x2a2c5f[_0x57845c(0x10c)](_0x57845c(0x12e),{'val':_0x47bbf7['driftDetails'],'ack':!![]}),await _0x2a2c5f['setStateAsync']('LTM.driftAnalysis.lastCheck',{'val':Date[_0x57845c(0xec)](),'ack':!![]}));}catch(_0x567bee){}}async function executeAutomationAction(_0x2e3af7){const _0x58f0b2=a0_0xd03bd1;try{const _0x388f9c=await _0x2e3af7['getStateAsync'](_0x58f0b2(0x136)),_0x6c1bb5=await _0x2e3af7[_0x58f0b2(0xf6)](_0x58f0b2(0xf8));if(_0x388f9c&&_0x388f9c['val']&&_0x6c1bb5){const _0x2894b8=_0x388f9c['val'];let _0x4a7c5d=_0x6c1bb5['val'];try{_0x4a7c5d=JSON[_0x58f0b2(0xc2)](_0x4a7c5d);}catch(_0x118904){}_0x2e3af7[_0x58f0b2(0x106)]['info'](_0x58f0b2(0xca)+_0x2894b8+'\x20=\x20'+_0x4a7c5d),await _0x2e3af7[_0x58f0b2(0x122)](_0x2894b8,_0x4a7c5d);}else _0x2e3af7[_0x58f0b2(0x106)]['warn']('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x393711){_0x2e3af7['log'][_0x58f0b2(0xc6)]('BUTLER\x20Execution\x20Error:\x20'+_0x393711[_0x58f0b2(0x13c)]);}}async function sendMorningBriefing(_0x4a2397){const _0x4f44ca=a0_0xd03bd1;if(!_0x4a2397[_0x4f44ca(0xd8)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x299cc6='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0xc2621c=await _0x4a2397[_0x4f44ca(0xd8)][_0x4f44ca(0x11a)](_0x299cc6),_0x35653e=_0xc2621c[_0x4f44ca(0x114)][_0x4f44ca(0x129)]();setup[_0x4f44ca(0x13b)](_0x4a2397,_0x4f44ca(0xc0)+_0x35653e);}catch(_0x1339f0){_0x4a2397['log']['error'](_0x4f44ca(0xef)+_0x1339f0[_0x4f44ca(0x13c)]);}}module[a0_0xd03bd1(0xfe)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};