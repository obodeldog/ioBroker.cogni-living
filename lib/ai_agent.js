const a0_0x4ad799=a0_0x13ef;(function(_0x550bd7,_0x1de1ac){const _0x1e4efe=a0_0x13ef,_0xf39be2=_0x550bd7();while(!![]){try{const _0x240e74=-parseInt(_0x1e4efe(0x133))/0x1*(parseInt(_0x1e4efe(0x149))/0x2)+parseInt(_0x1e4efe(0x169))/0x3*(-parseInt(_0x1e4efe(0x195))/0x4)+parseInt(_0x1e4efe(0x131))/0x5+-parseInt(_0x1e4efe(0x155))/0x6*(parseInt(_0x1e4efe(0x151))/0x7)+parseInt(_0x1e4efe(0x15e))/0x8+-parseInt(_0x1e4efe(0x105))/0x9*(parseInt(_0x1e4efe(0x11c))/0xa)+parseInt(_0x1e4efe(0x187))/0xb*(parseInt(_0x1e4efe(0x191))/0xc);if(_0x240e74===_0x1de1ac)break;else _0xf39be2['push'](_0xf39be2['shift']());}catch(_0x70f5b7){_0xf39be2['push'](_0xf39be2['shift']());}}}(a0_0x2e0d,0xec9f6));function a0_0x13ef(_0x214224,_0x148bed){const _0x227a87=a0_0x2e0d();return a0_0x13ef=function(_0x1b8b99,_0x11c22f){_0x1b8b99=_0x1b8b99-0x104;let _0x2e0d39=_0x227a87[_0x1b8b99];return _0x2e0d39;},a0_0x13ef(_0x214224,_0x148bed);}const a0_0x11c22f=(function(){let _0x145988=!![];return function(_0x3fa1a0,_0x100096){const _0x4e9bd3=_0x145988?function(){const _0x155cfe=a0_0x13ef;if(_0x100096){const _0x20cbb8=_0x100096[_0x155cfe(0x15c)](_0x3fa1a0,arguments);return _0x100096=null,_0x20cbb8;}}:function(){};return _0x145988=![],_0x4e9bd3;};}()),a0_0x1b8b99=a0_0x11c22f(this,function(){const _0x123dfb=a0_0x13ef;return a0_0x1b8b99[_0x123dfb(0x10e)]()[_0x123dfb(0x168)](_0x123dfb(0x156))['toString']()['constructor'](a0_0x1b8b99)['search'](_0x123dfb(0x156));});a0_0x1b8b99();'use strict';const {GoogleGenerativeAI}=require('@google/generative-ai'),setup=require(a0_0x4ad799(0x160)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x4ad799(0x124),LTM_DP_STATUS=a0_0x4ad799(0x164),LTM_DP_RAW_LOG=a0_0x4ad799(0x147),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x4ad799(0x181),'senior_aal':a0_0x4ad799(0x11d),'family':a0_0x4ad799(0x179),'single_comfort':a0_0x4ad799(0x17e),'security':'Sicherheit\x20geht\x20vor.','energy_saver':a0_0x4ad799(0x173)};function canCallApi(){const _0x14cae8=Date['now']();return _0x14cae8-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x5bb428=a0_0x4ad799;lastGlobalApiCall=Date[_0x5bb428(0x12a)]();}async function getWeatherContext(_0xa3d147){const _0x49cabe=a0_0x4ad799;if(!_0xa3d147[_0x49cabe(0x109)]['useWeather']||!_0xa3d147[_0x49cabe(0x109)][_0x49cabe(0x110)])return _0x49cabe(0x138);try{const _0x20b912=_0xa3d147[_0x49cabe(0x109)]['weatherInstance'];let _0x2cecef=await _0xa3d147[_0x49cabe(0x185)](_0x20b912+'.Current.Temperature');if(!_0x2cecef)_0x2cecef=await _0xa3d147[_0x49cabe(0x185)](_0x20b912+_0x49cabe(0x17b));let _0x1fb050=await _0xa3d147[_0x49cabe(0x185)](_0x20b912+'.Current.WeatherText');if(!_0x1fb050)_0x1fb050=await _0xa3d147[_0x49cabe(0x185)](_0x20b912+_0x49cabe(0x184));let _0x3e8ea9=_0x49cabe(0x127);const _0x3aab55=await _0xa3d147[_0x49cabe(0x185)](_0x20b912+_0x49cabe(0x180));if(_0x3aab55)_0x3e8ea9=_0x3aab55['val']?_0x49cabe(0x129):_0x49cabe(0x154);if(_0x2cecef&&_0x1fb050)return _0x2cecef[_0x49cabe(0x192)]+_0x49cabe(0x125)+_0x1fb050['val']+_0x49cabe(0x14e)+_0x3e8ea9;}catch(_0x1dbab8){}return _0x49cabe(0x10b);}function a0_0x2e0d(){const _0x26052f=['.Current.IsNight','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','LTM.driftAnalysis.driftDetails','lastAlertState','.forecast.current.state','getForeignStateAsync','analysis.lastResult','13661934NAmkKe','setStateAsync','eventHistory','%)\x20nach\x20\x22','LTM.driftAnalysis.baselineDrift','toFixed','ü§ñ\x20Butler\x20Brain\x20Error:\x20','\x0aSTB:\x20','isProVersion','targetValue','12HFXJFM','val','toISOString','üåÖ\x20Morning\x20Briefing:\x0a','152GZbpmw','response','444753ekiBme','Gemini\x20Error:\x20','Started...','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','config','warn','Wetterdaten\x20nicht\x20abrufbar','generic','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','toString','Success','weatherInstance','.\x20KONTEXT:\x20','analysis.analysisHistory','analysis.automation.patternDetected','unshift','analysis.activitySummary',').\x20Sending\x20notification...','sendNotification','KI\x20offline\x20(Fallback)','.\x20EVENTS:\x20','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ltmLtbWindowDays','40piCcxP','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','geminiModel','error','alertReason','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','isAlert','üìÖ\x20Daily\x20Digest:\x0a','LTM.dailyDigests','¬∞C,\x20','automationProposal','Unbekannt','.\x20EMERGENCY:\x20','Nacht','now','message','system.presenceWho','livingContext','generateContent','analysis.isAlert','\x0aAktivit√§t:\x20','6572490ilykSp','summary','38229OxWtzk','info','Briefing\x20Error:\x20','analysis.automation.targetId','Keine\x20Details.','Unbekannt\x20(Kein\x20Sensor)','activityLevel','detected','ü§ñ\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','Skipped\x20(Traffic)','analysis.automation.description','text','analysisHistory','decision','splice','baselineDrift','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','aiPersona','ANALYZE_HEALTH','LTM.rawEventLog','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','62BlLZZT','getStateAsync','log','debug','.\x20SYSTEM_MODE:\x20',',\x20Lichtverh√§ltnisse:\x20','exports','analysis.alertReason','8589RaiSOE','BUTLER\x20Execution\x20Error:\x20','analysis.automation.autoApply','Tag','5418LUsRLt','(((.+)+)+)+$','dailyDigests','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','ltmStbWindowDays','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','rawEventLog','apply','stringify','11183344CRvVrL','Skipped\x20(No\x20AI\x20or\x20Data)','./setup','length','isEmergency','timestamp','LTM.processingStatus','N/A\x20(Learning)','reason','targetId','search','39036lVzKnd','currentSystemMode','Digest','push','.\x20ANWESEND:\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','\x20->\x20','LTM.driftAnalysis.lastCheck','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','pop','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','slice','replace','analysis.automation.targetValue','trim','parse','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','.forecast.current.temperature','üåÖ\x20Briefing\x20generated\x20(Length:\x20','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','Traffic-Schutz\x20(Auto-Approved)'];a0_0x2e0d=function(){return _0x26052f;};return a0_0x2e0d();}async function consultButler(_0x346cdf,_0x41f55f,_0x12b1cd,_0x4e2d7c){const _0x3e134c=a0_0x4ad799;if(!_0x346cdf[_0x3e134c(0x11e)])return{'approved':!![],'reason':_0x3e134c(0x118)};const _0xb3ea90=Date[_0x3e134c(0x12a)]();if(decisionCache[_0x41f55f]&&_0xb3ea90-decisionCache[_0x41f55f][_0x3e134c(0x163)]<CACHE_TTL_MS){const _0x150bad=decisionCache[_0x41f55f][_0x3e134c(0x141)];return _0x346cdf[_0x3e134c(0x14b)][_0x3e134c(0x14c)](_0x3e134c(0x148)+_0x41f55f+_0x3e134c(0x16f)+(_0x150bad['approved']?'OK':'NO')+'\x20('+_0x150bad[_0x3e134c(0x166)]+')'),_0x150bad;}if(!canCallApi())return _0x346cdf[_0x3e134c(0x14b)]['debug'](_0x3e134c(0x171)+_0x41f55f+'\x20√ºbersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0x3e134c(0x17f)};const _0x55dc22=new Date()['toLocaleTimeString'](),_0x39a341=await getWeatherContext(_0x346cdf),_0x5542e=PERSONA_MAPPING[_0x346cdf[_0x3e134c(0x109)]['aiPersona']||_0x3e134c(0x10c)],_0x267aad=_0x3e134c(0x10d)+_0x55dc22+',\x20Wetter:\x20'+_0x39a341+_0x3e134c(0x17a)+(_0x4e2d7c*0x64)[_0x3e134c(0x18c)](0x0)+_0x3e134c(0x18a)+_0x41f55f+_0x3e134c(0x17d)+_0x12b1cd+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x5542e+_0x3e134c(0x158);try{updateApiTimestamp();const _0x3e5c85=await _0x346cdf[_0x3e134c(0x11e)][_0x3e134c(0x12e)](_0x267aad),_0x5ab584=_0x3e5c85[_0x3e134c(0x104)]['text']()[_0x3e134c(0x175)](/```json|```/g,'')[_0x3e134c(0x177)](),_0x35648b=JSON[_0x3e134c(0x178)](_0x5ab584);return decisionCache[_0x41f55f]={'decision':_0x35648b,'timestamp':_0xb3ea90},_0x35648b;}catch(_0x1f06a9){return _0x346cdf[_0x3e134c(0x14b)][_0x3e134c(0x10a)](_0x3e134c(0x18d)+_0x1f06a9[_0x3e134c(0x12b)]),decisionCache[_0x41f55f]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0xb3ea90-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}async function runGeminiAnalysis(_0xad338a,_0x38b242=''){const _0x65650d=a0_0x4ad799;if(!_0xad338a[_0x65650d(0x11e)])return;if(!canCallApi()){_0xad338a[_0x65650d(0x14b)][_0x65650d(0x14c)]('ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0xad338a[_0x65650d(0x189)][_0x65650d(0x161)]===0x0)return;const _0x329310=_0xad338a['eventHistory'][_0x65650d(0x174)](0x0,0xf),_0xe2c877=_0xad338a[_0x65650d(0x16a)],_0x4b80b1=PERSONA_MAPPING[_0xad338a[_0x65650d(0x109)][_0x65650d(0x145)]||_0x65650d(0x10c)],_0x20a395=_0xad338a[_0x65650d(0x109)][_0x65650d(0x12d)]||_0x65650d(0x137);let _0x339e4a=_0x65650d(0x127);try{const _0x173d7e=await _0xad338a['getStateAsync'](_0x65650d(0x12c));if(_0x173d7e&&_0x173d7e[_0x65650d(0x192)])_0x339e4a=_0x173d7e[_0x65650d(0x192)];}catch(_0x22a03a){}let _0x1e9e16=![];try{const _0x16e8c1=await _0xad338a['getStateAsync'](_0x65650d(0x153));if(_0x16e8c1&&_0x16e8c1['val'])_0x1e9e16=!![];}catch(_0x56cf01){}const _0x5109ce=_0x65650d(0x15a)+_0x4b80b1+_0x65650d(0x111)+_0x20a395+_0x65650d(0x14d)+_0xe2c877+_0x65650d(0x16d)+_0x339e4a+_0x65650d(0x119)+JSON[_0x65650d(0x15d)](_0x329310)+_0x65650d(0x128)+_0x38b242+_0x65650d(0x13c);try{updateApiTimestamp();const _0x2a7c43=await _0xad338a[_0x65650d(0x11e)]['generateContent'](_0x5109ce),_0x50e433=JSON[_0x65650d(0x178)](_0x2a7c43[_0x65650d(0x104)]['text']()[_0x65650d(0x175)](/```json|```/g,'')['trim']());await _0xad338a[_0x65650d(0x188)](_0x65650d(0x186),{'val':JSON[_0x65650d(0x15d)](_0x50e433),'ack':!![]});if(_0x50e433['summary'])await _0xad338a[_0x65650d(0x188)](_0x65650d(0x115),{'val':_0x50e433[_0x65650d(0x132)],'ack':!![]});const _0x3ea073={'timestamp':Date[_0x65650d(0x12a)](),'id':Date[_0x65650d(0x12a)]()['toString'](),'analysis':{'activity':{'summary':_0x50e433[_0x65650d(0x132)],'isAlert':_0x50e433[_0x65650d(0x122)],'alertReason':_0x50e433[_0x65650d(0x120)]},'comfort':{'automationProposal':_0x50e433[_0x65650d(0x126)]}}};_0xad338a[_0x65650d(0x140)][_0x65650d(0x114)](_0x3ea073);if(_0xad338a[_0x65650d(0x140)][_0x65650d(0x161)]>0x32)_0xad338a[_0x65650d(0x140)][_0x65650d(0x172)]();await _0xad338a[_0x65650d(0x188)](_0x65650d(0x112),{'val':JSON[_0x65650d(0x15d)](_0xad338a['analysisHistory']),'ack':!![]});const _0x37a3e7=_0x50e433[_0x65650d(0x122)]||![];_0x37a3e7!==_0xad338a[_0x65650d(0x183)]&&(await _0xad338a[_0x65650d(0x188)](_0x65650d(0x12f),{'val':_0x37a3e7,'ack':!![]}),_0xad338a[_0x65650d(0x183)]=_0x37a3e7,_0x37a3e7&&(await _0xad338a['setStateAsync'](_0x65650d(0x150),{'val':_0x50e433[_0x65650d(0x120)],'ack':!![]}),setup[_0x65650d(0x117)](_0xad338a,'‚ö†Ô∏è\x20ALARM:\x20'+_0x50e433[_0x65650d(0x120)],![],_0x50e433[_0x65650d(0x162)])));if(_0x50e433[_0x65650d(0x126)]&&_0x50e433[_0x65650d(0x126)][_0x65650d(0x13a)]){await _0xad338a[_0x65650d(0x188)](_0x65650d(0x113),{'val':!![],'ack':!![]}),await _0xad338a[_0x65650d(0x188)](_0x65650d(0x13e),{'val':_0x50e433[_0x65650d(0x126)]['description'],'ack':!![]}),await _0xad338a['setStateAsync']('analysis.automation.targetId',{'val':_0x50e433[_0x65650d(0x126)][_0x65650d(0x167)],'ack':!![]}),await _0xad338a[_0x65650d(0x188)](_0x65650d(0x176),{'val':JSON[_0x65650d(0x15d)](_0x50e433[_0x65650d(0x126)][_0x65650d(0x190)]),'ack':!![]});if(_0x1e9e16)executeAutomationAction(_0xad338a);}}catch(_0x1d8a6f){_0xad338a[_0x65650d(0x14b)]['error'](_0x65650d(0x106)+_0x1d8a6f[_0x65650d(0x12b)]);}}async function createDailyDigest(_0x1bc6fb,_0x188a6b){const _0x2297c3=a0_0x4ad799;if(!_0x1bc6fb[_0x2297c3(0x18f)])return;if(!canCallApi()){await _0x1bc6fb['setStateAsync'](LTM_DP_STATUS,{'val':_0x2297c3(0x13d),'ack':!![]});return;}await _0x1bc6fb[_0x2297c3(0x188)](LTM_DP_STATUS,{'val':_0x2297c3(0x107),'ack':!![]});if(!_0x1bc6fb['geminiModel']||_0x1bc6fb[_0x2297c3(0x15b)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1bc6fb[_0x2297c3(0x188)](LTM_DP_STATUS,{'val':_0x2297c3(0x15f),'ack':!![]});return;}const _0x5177a7=JSON[_0x2297c3(0x178)](JSON[_0x2297c3(0x15d)](_0x1bc6fb['rawEventLog'])),_0x5fa10c=_0x5177a7[_0x2297c3(0x161)],_0x19196c=_0x2297c3(0x11a)+JSON[_0x2297c3(0x15d)](_0x5177a7);try{updateApiTimestamp();const _0x1a45ce=await _0x1bc6fb[_0x2297c3(0x11e)][_0x2297c3(0x12e)](_0x19196c),_0x144ca8=JSON['parse'](_0x1a45ce['response']['text']()[_0x2297c3(0x175)](/```json|```/g,'')[_0x2297c3(0x177)]()),_0x48989f={'timestamp':new Date()[_0x2297c3(0x193)](),'eventCount':_0x5fa10c,'summary':_0x144ca8[_0x2297c3(0x132)]||_0x2297c3(0x16b),'activityLevel':_0x144ca8['activityLevel']||'normal','systemMode':_0x1bc6fb[_0x2297c3(0x16a)]};_0x1bc6fb['dailyDigests'][_0x2297c3(0x16c)](_0x48989f);const _0x2997d4=_0x1bc6fb[_0x2297c3(0x109)][_0x2297c3(0x11b)]||0x3c;_0x1bc6fb['dailyDigests']['length']>_0x2997d4&&_0x1bc6fb['dailyDigests'][_0x2297c3(0x142)](0x0,_0x1bc6fb[_0x2297c3(0x157)][_0x2297c3(0x161)]-_0x2997d4);await _0x1bc6fb[_0x2297c3(0x188)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x1bc6fb[_0x2297c3(0x157)]),'ack':!![]}),_0x1bc6fb[_0x2297c3(0x15b)]=[],await _0x1bc6fb[_0x2297c3(0x188)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x1bc6fb['rawEventLog']),'ack':!![]}),await _0x1bc6fb[_0x2297c3(0x188)](LTM_DP_STATUS,{'val':_0x2297c3(0x10f),'ack':!![]});const _0x3379=_0x2297c3(0x123)+_0x144ca8[_0x2297c3(0x132)]+_0x2297c3(0x130)+_0x144ca8[_0x2297c3(0x139)];setup['sendNotification'](_0x1bc6fb,_0x3379,![],![]);if(_0x1bc6fb[_0x2297c3(0x18f)]&&_0x188a6b)_0x188a6b['send'](_0x1bc6fb,_0x2297c3(0x146),{'digest':_0x48989f});}catch(_0x2da05f){_0x1bc6fb['log'][_0x2297c3(0x11f)](_0x2da05f[_0x2297c3(0x12b)]);}}async function runBaselineDriftAnalysis(_0x3870c7){const _0x2e51af=a0_0x4ad799;if(!_0x3870c7[_0x2e51af(0x18f)]||!_0x3870c7[_0x2e51af(0x11e)])return;if(!canCallApi())return;const _0x3e66ce=_0x3870c7[_0x2e51af(0x109)][_0x2e51af(0x159)]||0xe;if(_0x3870c7[_0x2e51af(0x157)][_0x2e51af(0x161)]<_0x3e66ce+0x7){await _0x3870c7[_0x2e51af(0x188)](_0x2e51af(0x18b),{'val':_0x2e51af(0x165),'ack':!![]});return;}const _0x2dbe1a=_0x3870c7['dailyDigests'][_0x2e51af(0x174)](-_0x3e66ce),_0x3bf6a2=_0x3870c7[_0x2e51af(0x157)][_0x2e51af(0x174)](0x0,_0x3870c7[_0x2e51af(0x157)][_0x2e51af(0x161)]-_0x3e66ce),_0x22e1d5=_0x2e51af(0x16e)+JSON[_0x2e51af(0x15d)](_0x3bf6a2)+_0x2e51af(0x18e)+JSON['stringify'](_0x2dbe1a);try{updateApiTimestamp();const _0x4b2eec=await _0x3870c7[_0x2e51af(0x11e)][_0x2e51af(0x12e)](_0x22e1d5),_0x2b3b92=JSON['parse'](_0x4b2eec[_0x2e51af(0x104)]['text']()[_0x2e51af(0x175)](/```json|```/g,'')[_0x2e51af(0x177)]());_0x2b3b92[_0x2e51af(0x143)]&&(await _0x3870c7[_0x2e51af(0x188)](_0x2e51af(0x18b),{'val':_0x2b3b92[_0x2e51af(0x143)],'ack':!![]}),await _0x3870c7[_0x2e51af(0x188)](_0x2e51af(0x182),{'val':_0x2b3b92['driftDetails'],'ack':!![]}),await _0x3870c7[_0x2e51af(0x188)](_0x2e51af(0x170),{'val':Date['now'](),'ack':!![]}));}catch(_0x40b330){}}async function executeAutomationAction(_0x5bb138){const _0x2252f8=a0_0x4ad799;try{const _0x2e7bd3=await _0x5bb138[_0x2252f8(0x14a)](_0x2252f8(0x136)),_0x11791d=await _0x5bb138[_0x2252f8(0x14a)](_0x2252f8(0x176));if(_0x2e7bd3&&_0x2e7bd3[_0x2252f8(0x192)]&&_0x11791d){const _0x344200=_0x2e7bd3[_0x2252f8(0x192)];let _0x250336=_0x11791d[_0x2252f8(0x192)];try{_0x250336=JSON['parse'](_0x250336);}catch(_0x35f926){}_0x5bb138['log'][_0x2252f8(0x134)](_0x2252f8(0x121)+_0x344200+'\x20=\x20'+_0x250336),await _0x5bb138['setForeignStateAsync'](_0x344200,_0x250336);}else _0x5bb138['log'][_0x2252f8(0x10a)](_0x2252f8(0x108));}catch(_0x306a58){_0x5bb138['log'][_0x2252f8(0x11f)](_0x2252f8(0x152)+_0x306a58[_0x2252f8(0x12b)]);}}async function sendMorningBriefing(_0x6ee383){const _0x47797a=a0_0x4ad799;if(!_0x6ee383[_0x47797a(0x11e)]){_0x6ee383[_0x47797a(0x14b)][_0x47797a(0x10a)](_0x47797a(0x13b));return;}_0x6ee383[_0x47797a(0x14b)]['info']('üåÖ\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...');try{updateApiTimestamp();const _0x42f6d1=_0x47797a(0x144),_0x2956f1=await _0x6ee383['geminiModel'][_0x47797a(0x12e)](_0x42f6d1),_0x138973=_0x2956f1['response'][_0x47797a(0x13f)]();_0x6ee383['log']['info'](_0x47797a(0x17c)+_0x138973[_0x47797a(0x161)]+_0x47797a(0x116)),setup['sendNotification'](_0x6ee383,_0x47797a(0x194)+_0x138973);}catch(_0x3cc866){_0x6ee383[_0x47797a(0x14b)][_0x47797a(0x11f)](_0x47797a(0x135)+_0x3cc866[_0x47797a(0x12b)]);}}module[a0_0x4ad799(0x14f)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};