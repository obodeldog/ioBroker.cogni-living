const a0_0x3a893b=a0_0x13b8;(function(_0x3f9424,_0x24567d){const _0x36d05d=a0_0x13b8,_0x518b00=_0x3f9424();while(!![]){try{const _0x5ec854=-parseInt(_0x36d05d(0x129))/0x1*(-parseInt(_0x36d05d(0x138))/0x2)+parseInt(_0x36d05d(0x186))/0x3*(parseInt(_0x36d05d(0x134))/0x4)+-parseInt(_0x36d05d(0x11f))/0x5*(parseInt(_0x36d05d(0x10f))/0x6)+-parseInt(_0x36d05d(0x13f))/0x7+-parseInt(_0x36d05d(0x147))/0x8+-parseInt(_0x36d05d(0x11c))/0x9*(-parseInt(_0x36d05d(0x122))/0xa)+parseInt(_0x36d05d(0x135))/0xb*(parseInt(_0x36d05d(0x182))/0xc);if(_0x5ec854===_0x24567d)break;else _0x518b00['push'](_0x518b00['shift']());}catch(_0x2cde4a){_0x518b00['push'](_0x518b00['shift']());}}}(a0_0x190d,0x44d33));const a0_0x59f8e4=(function(){let _0x3f8a23=!![];return function(_0x34a412,_0x45f562){const _0xbc0ef7=_0x3f8a23?function(){const _0x22bd42=a0_0x13b8;if(_0x45f562){const _0x28719f=_0x45f562[_0x22bd42(0x11d)](_0x34a412,arguments);return _0x45f562=null,_0x28719f;}}:function(){};return _0x3f8a23=![],_0xbc0ef7;};}()),a0_0x1fff14=a0_0x59f8e4(this,function(){const _0x40decc=a0_0x13b8;return a0_0x1fff14[_0x40decc(0x103)]()[_0x40decc(0x15c)](_0x40decc(0x105))['toString']()[_0x40decc(0x112)](a0_0x1fff14)[_0x40decc(0x15c)](_0x40decc(0x105));});a0_0x1fff14();'use strict';const {GoogleGenerativeAI}=require(a0_0x3a893b(0x180)),setup=require('./setup'),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x3a893b(0x13c),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x3a893b(0x16e),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x3a893b(0x16a),'senior_aal':'PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','family':a0_0x3a893b(0x184),'single_comfort':a0_0x3a893b(0x17b),'security':a0_0x3a893b(0x143),'energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function a0_0x13b8(_0xbc8f63,_0x4b1c5e){const _0x583b07=a0_0x190d();return a0_0x13b8=function(_0x1fff14,_0x59f8e4){_0x1fff14=_0x1fff14-0x100;let _0x190d06=_0x583b07[_0x1fff14];return _0x190d06;},a0_0x13b8(_0xbc8f63,_0x4b1c5e);}function canCallApi(){const _0x54b6bb=a0_0x3a893b,_0x433662=Date[_0x54b6bb(0x10e)]();return _0x433662-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x2daad9=a0_0x3a893b;lastGlobalApiCall=Date[_0x2daad9(0x10e)]();}function a0_0x190d(){const _0x2f276a=['detected','constructor','Digest','getForeignStateAsync','Started...','alertReason','generateContent','analysis.automation.targetValue','Tag','weatherInstance','aiPersona','359271MufkVA','apply','Unbekannt','5MVrFhj','.\x20KONTEXT:\x20','KI\x20offline\x20(Fallback)','10ODKrzY','.\x20ANWESEND:\x20','.Current.WeatherText','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','debug','LTM.driftAnalysis.driftDetails','exports','310mGyokf','.forecast.current.state','stringify','automationProposal','push','setStateAsync','ltmLtbWindowDays','KI-Fehler\x20(Fallback)','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','analysis.activitySummary','log','349764NraDTM','55vDQKZA','parse','val','2888JTiKrz','âš ï¸\x20ALARM:\x20','analysis.automation.targetId','reason','LTM.dailyDigests','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','activityLevel','3246355axubaB','send','LTM.driftAnalysis.baselineDrift','pop','Sicherheit\x20geht\x20vor.','Â°C,\x20','ðŸŒ…\x20Morning\x20Briefing:\x0a','trim','2825456FQTIvC','Traffic-Schutz\x20(Auto-Approved)','\x0aSTB:\x20','analysisHistory','summary','analysis.lastResult','\x20Ã¼bersprungen\x20(Auto-Approved).','Gemini\x20Error:\x20','getStateAsync','ANALYZE_HEALTH','timestamp','Keine\x20Details.','config','\x20->\x20','response','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','isAlert','.forecast.current.temperature','slice','description','isProVersion','search','unshift','decision','Success','ltmStbWindowDays','analysis.isAlert','generic','lastAlertState','length','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','targetId','currentSystemMode','normal','warn','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','.\x20EVENTS:\x20','error','toLocaleTimeString','LTM.rawEventLog','livingContext','.Current.Temperature','splice','N/A\x20(Learning)','isEmergency','Nacht','toFixed','dailyDigests','geminiModel','Unbekannt\x20(Kein\x20Sensor)','sendNotification','Briefing\x20Error:\x20','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','analysis.analysisHistory','info','.Current.IsNight','@google/generative-ai','approved','1232868Wnyxqu','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','targetValue','9XPGFem','.\x20EMERGENCY:\x20','driftDetails','message','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','eventHistory','toString','system.presenceWho','(((.+)+)+)+$','replace','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','analysis.alertReason','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','.\x20SYSTEM_MODE:\x20','baselineDrift','text','rawEventLog','now','988338EFkEKc',',\x20LichtverhÃ¤ltnisse:\x20'];a0_0x190d=function(){return _0x2f276a;};return a0_0x190d();}async function getWeatherContext(_0x2708c1){const _0x76fb72=a0_0x3a893b;if(!_0x2708c1[_0x76fb72(0x153)]['useWeather']||!_0x2708c1[_0x76fb72(0x153)][_0x76fb72(0x11a)])return _0x76fb72(0x178);try{const _0x452131=_0x2708c1[_0x76fb72(0x153)][_0x76fb72(0x11a)];let _0x365982=await _0x2708c1[_0x76fb72(0x114)](_0x452131+_0x76fb72(0x170));if(!_0x365982)_0x365982=await _0x2708c1['getForeignStateAsync'](_0x452131+_0x76fb72(0x158));let _0x3da45f=await _0x2708c1[_0x76fb72(0x114)](_0x452131+_0x76fb72(0x124));if(!_0x3da45f)_0x3da45f=await _0x2708c1[_0x76fb72(0x114)](_0x452131+_0x76fb72(0x12a));let _0x5b523c=_0x76fb72(0x11e);const _0x3857fc=await _0x2708c1[_0x76fb72(0x114)](_0x452131+_0x76fb72(0x17f));if(_0x3857fc)_0x5b523c=_0x3857fc[_0x76fb72(0x137)]?_0x76fb72(0x174):_0x76fb72(0x119);if(_0x365982&&_0x3da45f)return _0x365982[_0x76fb72(0x137)]+_0x76fb72(0x144)+_0x3da45f[_0x76fb72(0x137)]+_0x76fb72(0x110)+_0x5b523c;}catch(_0x3de464){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x2aee3f,_0x17e346,_0x278414,_0x2696ba){const _0x36086c=a0_0x3a893b;if(!_0x2aee3f[_0x36086c(0x177)])return{'approved':!![],'reason':_0x36086c(0x121)};const _0x1a7c96=Date[_0x36086c(0x10e)]();if(decisionCache[_0x17e346]&&_0x1a7c96-decisionCache[_0x17e346][_0x36086c(0x151)]<CACHE_TTL_MS){const _0x5b3ad1=decisionCache[_0x17e346][_0x36086c(0x15e)];return _0x2aee3f[_0x36086c(0x133)][_0x36086c(0x126)](_0x36086c(0x109)+_0x17e346+_0x36086c(0x154)+(_0x5b3ad1[_0x36086c(0x181)]?'OK':'NO')+'\x20('+_0x5b3ad1[_0x36086c(0x13b)]+')'),_0x5b3ad1;}if(!canCallApi())return _0x2aee3f['log'][_0x36086c(0x126)](_0x36086c(0x101)+_0x17e346+_0x36086c(0x14d)),{'approved':!![],'reason':_0x36086c(0x148)};const _0x2e9584=new Date()[_0x36086c(0x16d)](),_0x525eb1=await getWeatherContext(_0x2aee3f),_0x1ffebd=PERSONA_MAPPING[_0x2aee3f[_0x36086c(0x153)][_0x36086c(0x11b)]||'generic'],_0x4c906c=_0x36086c(0x131)+_0x2e9584+',\x20Wetter:\x20'+_0x525eb1+_0x36086c(0x17c)+(_0x2696ba*0x64)[_0x36086c(0x175)](0x0)+'%)\x20nach\x20\x22'+_0x17e346+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x278414+_0x36086c(0x183)+_0x1ffebd+_0x36086c(0x13d);try{updateApiTimestamp();const _0x5b8647=await _0x2aee3f[_0x36086c(0x177)][_0x36086c(0x117)](_0x4c906c),_0xc0cf3f=_0x5b8647[_0x36086c(0x155)][_0x36086c(0x10c)]()['replace'](/```json|```/g,'')[_0x36086c(0x146)](),_0x43a5cb=JSON[_0x36086c(0x136)](_0xc0cf3f);return decisionCache[_0x17e346]={'decision':_0x43a5cb,'timestamp':_0x1a7c96},_0x43a5cb;}catch(_0x448459){return _0x2aee3f[_0x36086c(0x133)]['warn']('ðŸ¤–\x20Butler\x20Brain\x20Error:\x20'+_0x448459['message']),decisionCache[_0x17e346]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x1a7c96-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x36086c(0x130)};}}async function runGeminiAnalysis(_0x55aabf,_0x8a0644=''){const _0x3c6607=a0_0x3a893b;if(!_0x55aabf['geminiModel'])return;if(!canCallApi()){_0x55aabf['log']['debug']('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x55aabf[_0x3c6607(0x102)][_0x3c6607(0x164)]===0x0)return;const _0x36bc33=_0x55aabf[_0x3c6607(0x102)][_0x3c6607(0x159)](0x0,0xf),_0x267648=_0x55aabf['currentSystemMode'],_0x5566d2=PERSONA_MAPPING[_0x55aabf[_0x3c6607(0x153)][_0x3c6607(0x11b)]||_0x3c6607(0x162)],_0x5c8641=_0x55aabf['config'][_0x3c6607(0x16f)]||_0x3c6607(0x152);let _0x4781b1='Unbekannt';try{const _0x55488b=await _0x55aabf['getStateAsync'](_0x3c6607(0x104));if(_0x55488b&&_0x55488b[_0x3c6607(0x137)])_0x4781b1=_0x55488b[_0x3c6607(0x137)];}catch(_0x47bb7a){}let _0x32f0ae=![];try{const _0x3efa28=await _0x55aabf['getStateAsync']('analysis.automation.autoApply');if(_0x3efa28&&_0x3efa28[_0x3c6607(0x137)])_0x32f0ae=!![];}catch(_0x22d8a2){}const _0x337441=_0x3c6607(0x125)+_0x5566d2+_0x3c6607(0x120)+_0x5c8641+_0x3c6607(0x10a)+_0x267648+_0x3c6607(0x123)+_0x4781b1+_0x3c6607(0x16b)+JSON[_0x3c6607(0x12b)](_0x36bc33)+_0x3c6607(0x187)+_0x8a0644+_0x3c6607(0x165);try{updateApiTimestamp();const _0x31d525=await _0x55aabf[_0x3c6607(0x177)][_0x3c6607(0x117)](_0x337441),_0x3ac633=JSON[_0x3c6607(0x136)](_0x31d525[_0x3c6607(0x155)][_0x3c6607(0x10c)]()[_0x3c6607(0x106)](/```json|```/g,'')[_0x3c6607(0x146)]());await _0x55aabf[_0x3c6607(0x12e)](_0x3c6607(0x14c),{'val':JSON[_0x3c6607(0x12b)](_0x3ac633),'ack':!![]});if(_0x3ac633[_0x3c6607(0x14b)])await _0x55aabf[_0x3c6607(0x12e)](_0x3c6607(0x132),{'val':_0x3ac633[_0x3c6607(0x14b)],'ack':!![]});const _0x298931={'timestamp':Date[_0x3c6607(0x10e)](),'id':Date[_0x3c6607(0x10e)]()[_0x3c6607(0x103)](),'analysis':{'activity':{'summary':_0x3ac633[_0x3c6607(0x14b)],'isAlert':_0x3ac633[_0x3c6607(0x157)],'alertReason':_0x3ac633[_0x3c6607(0x116)]},'comfort':{'automationProposal':_0x3ac633[_0x3c6607(0x12c)]}}};_0x55aabf[_0x3c6607(0x14a)][_0x3c6607(0x15d)](_0x298931);if(_0x55aabf['analysisHistory']['length']>0x32)_0x55aabf[_0x3c6607(0x14a)][_0x3c6607(0x142)]();await _0x55aabf['setStateAsync'](_0x3c6607(0x17d),{'val':JSON[_0x3c6607(0x12b)](_0x55aabf[_0x3c6607(0x14a)]),'ack':!![]});const _0x6ebf7a=_0x3ac633[_0x3c6607(0x157)]||![];_0x6ebf7a!==_0x55aabf[_0x3c6607(0x163)]&&(await _0x55aabf[_0x3c6607(0x12e)](_0x3c6607(0x161),{'val':_0x6ebf7a,'ack':!![]}),_0x55aabf[_0x3c6607(0x163)]=_0x6ebf7a,_0x6ebf7a&&(await _0x55aabf['setStateAsync'](_0x3c6607(0x108),{'val':_0x3ac633['alertReason'],'ack':!![]}),setup[_0x3c6607(0x179)](_0x55aabf,_0x3c6607(0x139)+_0x3ac633[_0x3c6607(0x116)],![],_0x3ac633[_0x3c6607(0x173)])));if(_0x3ac633[_0x3c6607(0x12c)]&&_0x3ac633[_0x3c6607(0x12c)][_0x3c6607(0x111)]){await _0x55aabf[_0x3c6607(0x12e)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x55aabf['setStateAsync']('analysis.automation.description',{'val':_0x3ac633[_0x3c6607(0x12c)][_0x3c6607(0x15a)],'ack':!![]}),await _0x55aabf[_0x3c6607(0x12e)](_0x3c6607(0x13a),{'val':_0x3ac633[_0x3c6607(0x12c)][_0x3c6607(0x166)],'ack':!![]}),await _0x55aabf[_0x3c6607(0x12e)](_0x3c6607(0x118),{'val':JSON['stringify'](_0x3ac633[_0x3c6607(0x12c)][_0x3c6607(0x185)]),'ack':!![]});if(_0x32f0ae)executeAutomationAction(_0x55aabf);}}catch(_0x3bd349){_0x55aabf[_0x3c6607(0x133)]['error'](_0x3c6607(0x14e)+_0x3bd349['message']);}}async function createDailyDigest(_0xe7dae4,_0x556aa1){const _0x1d2464=a0_0x3a893b;if(!_0xe7dae4[_0x1d2464(0x15b)])return;if(!canCallApi()){await _0xe7dae4[_0x1d2464(0x12e)](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0xe7dae4[_0x1d2464(0x12e)](LTM_DP_STATUS,{'val':_0x1d2464(0x115),'ack':!![]});if(!_0xe7dae4[_0x1d2464(0x177)]||_0xe7dae4[_0x1d2464(0x10d)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0xe7dae4['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x3c092c=JSON[_0x1d2464(0x136)](JSON[_0x1d2464(0x12b)](_0xe7dae4[_0x1d2464(0x10d)])),_0x18e608=_0x3c092c[_0x1d2464(0x164)],_0x4722b2='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON['stringify'](_0x3c092c);try{updateApiTimestamp();const _0x3e86c8=await _0xe7dae4[_0x1d2464(0x177)]['generateContent'](_0x4722b2),_0x60a183=JSON[_0x1d2464(0x136)](_0x3e86c8[_0x1d2464(0x155)]['text']()[_0x1d2464(0x106)](/```json|```/g,'')['trim']()),_0xa2d6d7={'timestamp':new Date()['toISOString'](),'eventCount':_0x18e608,'summary':_0x60a183['summary']||_0x1d2464(0x113),'activityLevel':_0x60a183[_0x1d2464(0x13e)]||_0x1d2464(0x168),'systemMode':_0xe7dae4[_0x1d2464(0x167)]};_0xe7dae4['dailyDigests'][_0x1d2464(0x12d)](_0xa2d6d7);const _0x34891f=_0xe7dae4['config'][_0x1d2464(0x12f)]||0x3c;_0xe7dae4[_0x1d2464(0x176)][_0x1d2464(0x164)]>_0x34891f&&_0xe7dae4[_0x1d2464(0x176)][_0x1d2464(0x171)](0x0,_0xe7dae4['dailyDigests']['length']-_0x34891f);await _0xe7dae4[_0x1d2464(0x12e)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x1d2464(0x12b)](_0xe7dae4['dailyDigests']),'ack':!![]}),_0xe7dae4[_0x1d2464(0x10d)]=[],await _0xe7dae4['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x1d2464(0x12b)](_0xe7dae4[_0x1d2464(0x10d)]),'ack':!![]}),await _0xe7dae4['setStateAsync'](LTM_DP_STATUS,{'val':_0x1d2464(0x15f),'ack':!![]});if(_0xe7dae4['isProVersion']&&_0x556aa1)_0x556aa1[_0x1d2464(0x140)](_0xe7dae4,_0x1d2464(0x150),{'digest':_0xa2d6d7});}catch(_0x2cc3a0){_0xe7dae4[_0x1d2464(0x133)][_0x1d2464(0x16c)](_0x2cc3a0['message']);}}async function runBaselineDriftAnalysis(_0x37871a){const _0x4941dc=a0_0x3a893b;if(!_0x37871a[_0x4941dc(0x15b)]||!_0x37871a[_0x4941dc(0x177)])return;if(!canCallApi())return;const _0x2230c2=_0x37871a[_0x4941dc(0x153)][_0x4941dc(0x160)]||0xe;if(_0x37871a['dailyDigests'][_0x4941dc(0x164)]<_0x2230c2+0x7){await _0x37871a['setStateAsync'](_0x4941dc(0x141),{'val':_0x4941dc(0x172),'ack':!![]});return;}const _0x52c76c=_0x37871a[_0x4941dc(0x176)][_0x4941dc(0x159)](-_0x2230c2),_0x6841ad=_0x37871a[_0x4941dc(0x176)]['slice'](0x0,_0x37871a[_0x4941dc(0x176)][_0x4941dc(0x164)]-_0x2230c2),_0x57d440='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x4941dc(0x12b)](_0x6841ad)+_0x4941dc(0x149)+JSON['stringify'](_0x52c76c);try{updateApiTimestamp();const _0x549aa0=await _0x37871a['geminiModel'][_0x4941dc(0x117)](_0x57d440),_0x420f39=JSON[_0x4941dc(0x136)](_0x549aa0[_0x4941dc(0x155)][_0x4941dc(0x10c)]()[_0x4941dc(0x106)](/```json|```/g,'')[_0x4941dc(0x146)]());_0x420f39[_0x4941dc(0x10b)]&&(await _0x37871a[_0x4941dc(0x12e)]('LTM.driftAnalysis.baselineDrift',{'val':_0x420f39[_0x4941dc(0x10b)],'ack':!![]}),await _0x37871a['setStateAsync'](_0x4941dc(0x127),{'val':_0x420f39[_0x4941dc(0x188)],'ack':!![]}),await _0x37871a[_0x4941dc(0x12e)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x4941dc(0x10e)](),'ack':!![]}));}catch(_0x1302c2){}}async function executeAutomationAction(_0x179e14){const _0x1a95a2=a0_0x3a893b;try{const _0x22e262=await _0x179e14[_0x1a95a2(0x14f)](_0x1a95a2(0x13a)),_0x1a3a06=await _0x179e14[_0x1a95a2(0x14f)](_0x1a95a2(0x118));if(_0x22e262&&_0x22e262['val']&&_0x1a3a06){const _0x1ccb7b=_0x22e262[_0x1a95a2(0x137)];let _0x2826f7=_0x1a3a06[_0x1a95a2(0x137)];try{_0x2826f7=JSON['parse'](_0x2826f7);}catch(_0x26467){}_0x179e14['log'][_0x1a95a2(0x17e)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x1ccb7b+'\x20=\x20'+_0x2826f7),await _0x179e14['setForeignStateAsync'](_0x1ccb7b,_0x2826f7);}else _0x179e14[_0x1a95a2(0x133)][_0x1a95a2(0x169)](_0x1a95a2(0x107));}catch(_0x5695ca){_0x179e14[_0x1a95a2(0x133)]['error']('BUTLER\x20Execution\x20Error:\x20'+_0x5695ca[_0x1a95a2(0x100)]);}}async function sendMorningBriefing(_0x1541a0){const _0x464ed3=a0_0x3a893b;if(!_0x1541a0[_0x464ed3(0x177)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0xb27158=_0x464ed3(0x156),_0x37955c=await _0x1541a0[_0x464ed3(0x177)][_0x464ed3(0x117)](_0xb27158),_0x3ce5c1=_0x37955c[_0x464ed3(0x155)][_0x464ed3(0x10c)]();setup[_0x464ed3(0x179)](_0x1541a0,_0x464ed3(0x145)+_0x3ce5c1);}catch(_0x3e830a){_0x1541a0['log']['error'](_0x464ed3(0x17a)+_0x3e830a[_0x464ed3(0x100)]);}}module[a0_0x3a893b(0x128)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};