const a0_0x24e9e1=a0_0x4546;(function(_0x56c6e0,_0x280bf4){const _0x38e0af=a0_0x4546,_0xa4188a=_0x56c6e0();while(!![]){try{const _0x45f480=-parseInt(_0x38e0af(0x21c))/0x1*(parseInt(_0x38e0af(0x1d2))/0x2)+parseInt(_0x38e0af(0x1b1))/0x3*(-parseInt(_0x38e0af(0x1a9))/0x4)+parseInt(_0x38e0af(0x21e))/0x5*(-parseInt(_0x38e0af(0x20f))/0x6)+-parseInt(_0x38e0af(0x217))/0x7*(parseInt(_0x38e0af(0x1e8))/0x8)+parseInt(_0x38e0af(0x1e1))/0x9*(parseInt(_0x38e0af(0x20d))/0xa)+-parseInt(_0x38e0af(0x219))/0xb+parseInt(_0x38e0af(0x1a6))/0xc;if(_0x45f480===_0x280bf4)break;else _0xa4188a['push'](_0xa4188a['shift']());}catch(_0x47351f){_0xa4188a['push'](_0xa4188a['shift']());}}}(a0_0x2887,0x2a412));const a0_0x28ee3f=(function(){let _0x59d067=!![];return function(_0x31b2df,_0x2afe63){const _0x4bc402=_0x59d067?function(){const _0x1c8f23=a0_0x4546;if(_0x2afe63){const _0x20d2a6=_0x2afe63[_0x1c8f23(0x1be)](_0x31b2df,arguments);return _0x2afe63=null,_0x20d2a6;}}:function(){};return _0x59d067=![],_0x4bc402;};}()),a0_0x4b249=a0_0x28ee3f(this,function(){const _0x12827b=a0_0x4546;return a0_0x4b249[_0x12827b(0x1e5)]()[_0x12827b(0x215)](_0x12827b(0x21f))[_0x12827b(0x1e5)]()[_0x12827b(0x213)](a0_0x4b249)[_0x12827b(0x215)](_0x12827b(0x21f));});function a0_0x2887(){const _0x1d2c14=['17778xNAbbU','setForeignStateAsync','slice','unshift','analysis.lastResult','lastAlertState','KI-Fehler\x20(Fallback)','.\x20ANWESEND:\x20','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','length','KI\x20offline\x20(Fallback)','splice','apply','debug','geminiModel','isProVersion','alertReason','.\x20EMERGENCY:\x20','eventHistory','Digest','N/A\x20(Learning)','normal','toLocaleTimeString','Started...','Keine\x20Details.','Unbekannt\x20(Kein\x20Sensor)','text','setStateAsync','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','ANALYZE_HEALTH','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','generic','40prCJrR','currentSystemMode','warn','getStateAsync','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','automationProposal','âš ï¸\x20ALARM:\x20','response','\x20=\x20','pop','Skipped\x20(Traffic)','push','val','log','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','1602GpYdgS','Nacht','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Success','toString','decision','analysis.isAlert','200XUTYbd','parse','analysisHistory','sendNotification','summary','ltmLtbWindowDays','aiPersona','rawEventLog','weatherInstance','reason','analysis.automation.targetValue','Sicherheit\x20geht\x20vor.','Unbekannt','ðŸŒ…\x20Morning\x20Briefing:\x0a','targetId','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','getForeignStateAsync','.forecast.current.temperature','analysis.analysisHistory','./setup','LTM.rawEventLog','timestamp','LTM.driftAnalysis.baselineDrift','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','system.presenceWho','generateContent','now','analysis.automation.autoApply','.Current.Temperature','trim',',\x20LichtverhÃ¤ltnisse:\x20','analysis.alertReason','toISOString','analysis.automation.patternDetected','message','stringify','LTM.driftAnalysis.driftDetails','700txKeVT','info','10962CmspYi','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','config','.\x20SYSTEM_MODE:\x20','constructor','\x0aSTB:\x20','search','replace','66262RRenkW','error','2819564zkShRw','description','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','9955icCIqY','Briefing\x20Error:\x20','825zXBBis','(((.+)+)+)+$','LTM.processingStatus','analysis.activitySummary','approved','isAlert','Skipped\x20(No\x20AI\x20or\x20Data)','ltmStbWindowDays','toFixed','analysis.automation.targetId','LTM.dailyDigests','detected','Â°C,\x20','models/gemini-flash-latest','.\x20KONTEXT:\x20','16054188XGFDRd','%)\x20nach\x20\x22','.\x20EVENTS:\x20','124qVoSlc','.Current.WeatherText','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','exports','.Current.IsNight','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','dailyDigests'];a0_0x2887=function(){return _0x1d2c14;};return a0_0x2887();}a0_0x4b249();'use strict';const {GoogleGenerativeAI}=require('@google/generative-ai'),setup=require(a0_0x24e9e1(0x1fb)),GEMINI_MODEL=a0_0x24e9e1(0x22b),LTM_DP_DAILY_DIGESTS=a0_0x24e9e1(0x228),LTM_DP_STATUS=a0_0x24e9e1(0x220),LTM_DP_RAW_LOG=a0_0x24e9e1(0x1fc),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x24e9e1(0x1f7),'family':a0_0x24e9e1(0x1e0),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':a0_0x24e9e1(0x1f3),'energy_saver':a0_0x24e9e1(0x1ab)};function canCallApi(){const _0x4326db=Date['now']();return _0x4326db-lastGlobalApiCall>MIN_API_GAP_MS;}function a0_0x4546(_0x4e4822,_0x55e29a){const _0xb964ca=a0_0x2887();return a0_0x4546=function(_0x4b249,_0x28ee3f){_0x4b249=_0x4b249-0x1a5;let _0x2887f3=_0xb964ca[_0x4b249];return _0x2887f3;},a0_0x4546(_0x4e4822,_0x55e29a);}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x27635a){const _0x5963d8=a0_0x24e9e1;if(!_0x27635a[_0x5963d8(0x211)]['useWeather']||!_0x27635a[_0x5963d8(0x211)]['weatherInstance'])return _0x5963d8(0x1cb);try{const _0x1f9078=_0x27635a[_0x5963d8(0x211)][_0x5963d8(0x1f0)];let _0x49ccd4=await _0x27635a['getForeignStateAsync'](_0x1f9078+_0x5963d8(0x204));if(!_0x49ccd4)_0x49ccd4=await _0x27635a[_0x5963d8(0x1f8)](_0x1f9078+_0x5963d8(0x1f9));let _0x268307=await _0x27635a[_0x5963d8(0x1f8)](_0x1f9078+_0x5963d8(0x1aa));if(!_0x268307)_0x268307=await _0x27635a[_0x5963d8(0x1f8)](_0x1f9078+'.forecast.current.state');let _0x3250d7=_0x5963d8(0x1f4);const _0x2b0a73=await _0x27635a[_0x5963d8(0x1f8)](_0x1f9078+_0x5963d8(0x1ae));if(_0x2b0a73)_0x3250d7=_0x2b0a73[_0x5963d8(0x1de)]?_0x5963d8(0x1e2):'Tag';if(_0x49ccd4&&_0x268307)return _0x49ccd4['val']+_0x5963d8(0x22a)+_0x268307[_0x5963d8(0x1de)]+_0x5963d8(0x206)+_0x3250d7;}catch(_0x3d9eb4){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x50e5fb,_0x2ab041,_0x1741a9,_0x3b7819){const _0x597986=a0_0x24e9e1;if(!_0x50e5fb[_0x597986(0x1c0)])return{'approved':!![],'reason':_0x597986(0x1bc)};const _0x20131f=Date['now']();if(decisionCache[_0x2ab041]&&_0x20131f-decisionCache[_0x2ab041][_0x597986(0x1fd)]<CACHE_TTL_MS){const _0x8b118a=decisionCache[_0x2ab041][_0x597986(0x1e6)];return _0x50e5fb[_0x597986(0x1df)][_0x597986(0x1bf)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x2ab041+'\x20->\x20'+(_0x8b118a[_0x597986(0x222)]?'OK':'NO')+'\x20('+_0x8b118a[_0x597986(0x1f1)]+')'),_0x8b118a;}if(!canCallApi())return _0x50e5fb['log'][_0x597986(0x1bf)]('ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20'+_0x2ab041+'\x20Ã¼bersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':'Traffic-Schutz\x20(Auto-Approved)'};const _0x385a73=new Date()[_0x597986(0x1c8)](),_0x10349c=await getWeatherContext(_0x50e5fb),_0x4fa77d=PERSONA_MAPPING[_0x50e5fb[_0x597986(0x211)][_0x597986(0x1ee)]||_0x597986(0x1d1)],_0x4ba802='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x385a73+',\x20Wetter:\x20'+_0x10349c+_0x597986(0x1ff)+(_0x3b7819*0x64)[_0x597986(0x226)](0x0)+_0x597986(0x1a7)+_0x2ab041+_0x597986(0x1e3)+_0x1741a9+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x4fa77d+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x55eec2=await _0x50e5fb['geminiModel'][_0x597986(0x201)](_0x4ba802),_0x25fb0e=_0x55eec2[_0x597986(0x1d9)]['text']()[_0x597986(0x216)](/```json|```/g,'')[_0x597986(0x205)](),_0x51a413=JSON[_0x597986(0x1e9)](_0x25fb0e);return decisionCache[_0x2ab041]={'decision':_0x51a413,'timestamp':_0x20131f},_0x51a413;}catch(_0x340fdd){return _0x50e5fb[_0x597986(0x1df)]['warn'](_0x597986(0x1d0)+_0x340fdd[_0x597986(0x20a)]),decisionCache[_0x2ab041]={'decision':{'approved':!![],'reason':_0x597986(0x1b7)},'timestamp':_0x20131f-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}async function runGeminiAnalysis(_0x3befac,_0x263d71=''){const _0x472c26=a0_0x24e9e1;if(!_0x3befac[_0x472c26(0x1c0)])return;if(!canCallApi()){_0x3befac['log'][_0x472c26(0x1bf)](_0x472c26(0x1b9));return;}if(_0x3befac[_0x472c26(0x1c4)][_0x472c26(0x1bb)]===0x0)return;const _0x49e2af=_0x3befac[_0x472c26(0x1c4)]['slice'](0x0,0xf),_0x119cc5=_0x3befac[_0x472c26(0x1d3)],_0x2337af=PERSONA_MAPPING[_0x3befac[_0x472c26(0x211)]['aiPersona']||_0x472c26(0x1d1)],_0x481a5a=_0x3befac[_0x472c26(0x211)]['livingContext']||_0x472c26(0x1ca);let _0x405e1=_0x472c26(0x1f4);try{const _0x300f42=await _0x3befac['getStateAsync'](_0x472c26(0x200));if(_0x300f42&&_0x300f42['val'])_0x405e1=_0x300f42[_0x472c26(0x1de)];}catch(_0x3dfb61){}let _0x3e00ab=![];try{const _0x4c31e0=await _0x3befac['getStateAsync'](_0x472c26(0x203));if(_0x4c31e0&&_0x4c31e0['val'])_0x3e00ab=!![];}catch(_0x56cfc2){}const _0x44edce=_0x472c26(0x1d6)+_0x2337af+_0x472c26(0x1a5)+_0x481a5a+_0x472c26(0x212)+_0x119cc5+_0x472c26(0x1b8)+_0x405e1+_0x472c26(0x1a8)+JSON[_0x472c26(0x20b)](_0x49e2af)+_0x472c26(0x1c3)+_0x263d71+_0x472c26(0x1af);try{updateApiTimestamp();const _0xe96a9=await _0x3befac[_0x472c26(0x1c0)][_0x472c26(0x201)](_0x44edce),_0x3e21c6=JSON[_0x472c26(0x1e9)](_0xe96a9['response'][_0x472c26(0x1cc)]()[_0x472c26(0x216)](/```json|```/g,'')[_0x472c26(0x205)]());await _0x3befac[_0x472c26(0x1cd)](_0x472c26(0x1b5),{'val':JSON[_0x472c26(0x20b)](_0x3e21c6),'ack':!![]});if(_0x3e21c6[_0x472c26(0x1ec)])await _0x3befac[_0x472c26(0x1cd)](_0x472c26(0x221),{'val':_0x3e21c6['summary'],'ack':!![]});const _0x209d55={'timestamp':Date[_0x472c26(0x202)](),'id':Date['now']()[_0x472c26(0x1e5)](),'analysis':{'activity':{'summary':_0x3e21c6[_0x472c26(0x1ec)],'isAlert':_0x3e21c6[_0x472c26(0x223)],'alertReason':_0x3e21c6['alertReason']},'comfort':{'automationProposal':_0x3e21c6[_0x472c26(0x1d7)]}}};_0x3befac[_0x472c26(0x1ea)][_0x472c26(0x1b4)](_0x209d55);if(_0x3befac[_0x472c26(0x1ea)][_0x472c26(0x1bb)]>0x32)_0x3befac['analysisHistory'][_0x472c26(0x1db)]();await _0x3befac['setStateAsync'](_0x472c26(0x1fa),{'val':JSON[_0x472c26(0x20b)](_0x3befac['analysisHistory']),'ack':!![]});const _0x556aaa=_0x3e21c6[_0x472c26(0x223)]||![];_0x556aaa!==_0x3befac[_0x472c26(0x1b6)]&&(await _0x3befac['setStateAsync'](_0x472c26(0x1e7),{'val':_0x556aaa,'ack':!![]}),_0x3befac[_0x472c26(0x1b6)]=_0x556aaa,_0x556aaa&&(await _0x3befac[_0x472c26(0x1cd)](_0x472c26(0x207),{'val':_0x3e21c6[_0x472c26(0x1c2)],'ack':!![]}),setup['sendNotification'](_0x3befac,_0x472c26(0x1d8)+_0x3e21c6['alertReason'],![],_0x3e21c6['isEmergency'])));if(_0x3e21c6[_0x472c26(0x1d7)]&&_0x3e21c6[_0x472c26(0x1d7)][_0x472c26(0x229)]){await _0x3befac[_0x472c26(0x1cd)](_0x472c26(0x209),{'val':!![],'ack':!![]}),await _0x3befac[_0x472c26(0x1cd)]('analysis.automation.description',{'val':_0x3e21c6[_0x472c26(0x1d7)][_0x472c26(0x21a)],'ack':!![]}),await _0x3befac['setStateAsync'](_0x472c26(0x227),{'val':_0x3e21c6['automationProposal'][_0x472c26(0x1f6)],'ack':!![]}),await _0x3befac[_0x472c26(0x1cd)](_0x472c26(0x1f2),{'val':JSON[_0x472c26(0x20b)](_0x3e21c6[_0x472c26(0x1d7)]['targetValue']),'ack':!![]});if(_0x3e00ab)executeAutomationAction(_0x3befac);}}catch(_0xcd539a){_0x3befac['log'][_0x472c26(0x218)]('Gemini\x20Error:\x20'+_0xcd539a['message']);}}async function createDailyDigest(_0x334f34,_0x4ce1e6){const _0xf255ae=a0_0x24e9e1;if(!_0x334f34[_0xf255ae(0x1c1)])return;if(!canCallApi()){await _0x334f34[_0xf255ae(0x1cd)](LTM_DP_STATUS,{'val':_0xf255ae(0x1dc),'ack':!![]});return;}await _0x334f34[_0xf255ae(0x1cd)](LTM_DP_STATUS,{'val':_0xf255ae(0x1c9),'ack':!![]});if(!_0x334f34[_0xf255ae(0x1c0)]||_0x334f34['rawEventLog'][_0xf255ae(0x1bb)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x334f34[_0xf255ae(0x1cd)](LTM_DP_STATUS,{'val':_0xf255ae(0x224),'ack':!![]});return;}const _0x5752af=JSON[_0xf255ae(0x1e9)](JSON[_0xf255ae(0x20b)](_0x334f34[_0xf255ae(0x1ef)])),_0x5c8c11=_0x5752af[_0xf255ae(0x1bb)],_0x89f38b=_0xf255ae(0x1ba)+JSON['stringify'](_0x5752af);try{updateApiTimestamp();const _0x1e2ac3=await _0x334f34[_0xf255ae(0x1c0)][_0xf255ae(0x201)](_0x89f38b),_0x58a455=JSON[_0xf255ae(0x1e9)](_0x1e2ac3[_0xf255ae(0x1d9)][_0xf255ae(0x1cc)]()[_0xf255ae(0x216)](/```json|```/g,'')[_0xf255ae(0x205)]()),_0x106001={'timestamp':new Date()[_0xf255ae(0x208)](),'eventCount':_0x5c8c11,'summary':_0x58a455[_0xf255ae(0x1ec)]||_0xf255ae(0x1c5),'activityLevel':_0x58a455['activityLevel']||_0xf255ae(0x1c7),'systemMode':_0x334f34[_0xf255ae(0x1d3)]};_0x334f34[_0xf255ae(0x1b0)][_0xf255ae(0x1dd)](_0x106001);const _0x536e55=_0x334f34[_0xf255ae(0x211)][_0xf255ae(0x1ed)]||0x3c;_0x334f34[_0xf255ae(0x1b0)]['length']>_0x536e55&&_0x334f34[_0xf255ae(0x1b0)][_0xf255ae(0x1bd)](0x0,_0x334f34['dailyDigests'][_0xf255ae(0x1bb)]-_0x536e55);await _0x334f34[_0xf255ae(0x1cd)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0xf255ae(0x20b)](_0x334f34[_0xf255ae(0x1b0)]),'ack':!![]}),_0x334f34['rawEventLog']=[],await _0x334f34['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0xf255ae(0x20b)](_0x334f34[_0xf255ae(0x1ef)]),'ack':!![]}),await _0x334f34[_0xf255ae(0x1cd)](LTM_DP_STATUS,{'val':_0xf255ae(0x1e4),'ack':!![]});if(_0x334f34['isProVersion']&&_0x4ce1e6)_0x4ce1e6['send'](_0x334f34,_0xf255ae(0x1cf),{'digest':_0x106001});}catch(_0x56e8ae){_0x334f34['log'][_0xf255ae(0x218)](_0x56e8ae[_0xf255ae(0x20a)]);}}async function runBaselineDriftAnalysis(_0x5e360b){const _0x5cfea6=a0_0x24e9e1;if(!_0x5e360b[_0x5cfea6(0x1c1)]||!_0x5e360b[_0x5cfea6(0x1c0)])return;if(!canCallApi())return;const _0x2b06be=_0x5e360b[_0x5cfea6(0x211)][_0x5cfea6(0x225)]||0xe;if(_0x5e360b[_0x5cfea6(0x1b0)]['length']<_0x2b06be+0x7){await _0x5e360b[_0x5cfea6(0x1cd)]('LTM.driftAnalysis.baselineDrift',{'val':_0x5cfea6(0x1c6),'ack':!![]});return;}const _0xc86865=_0x5e360b[_0x5cfea6(0x1b0)][_0x5cfea6(0x1b3)](-_0x2b06be),_0x4bd8c8=_0x5e360b[_0x5cfea6(0x1b0)][_0x5cfea6(0x1b3)](0x0,_0x5e360b['dailyDigests'][_0x5cfea6(0x1bb)]-_0x2b06be),_0x5efaef=_0x5cfea6(0x1ac)+JSON[_0x5cfea6(0x20b)](_0x4bd8c8)+_0x5cfea6(0x214)+JSON[_0x5cfea6(0x20b)](_0xc86865);try{updateApiTimestamp();const _0xea896=await _0x5e360b[_0x5cfea6(0x1c0)]['generateContent'](_0x5efaef),_0x23617c=JSON[_0x5cfea6(0x1e9)](_0xea896[_0x5cfea6(0x1d9)][_0x5cfea6(0x1cc)]()[_0x5cfea6(0x216)](/```json|```/g,'')[_0x5cfea6(0x205)]());_0x23617c['baselineDrift']&&(await _0x5e360b[_0x5cfea6(0x1cd)](_0x5cfea6(0x1fe),{'val':_0x23617c['baselineDrift'],'ack':!![]}),await _0x5e360b[_0x5cfea6(0x1cd)](_0x5cfea6(0x20c),{'val':_0x23617c['driftDetails'],'ack':!![]}),await _0x5e360b[_0x5cfea6(0x1cd)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x5cfea6(0x202)](),'ack':!![]}));}catch(_0x16335a){}}async function executeAutomationAction(_0x4a081e){const _0x2e0acb=a0_0x24e9e1;try{const _0x2683b6=await _0x4a081e['getStateAsync'](_0x2e0acb(0x227)),_0x8a2332=await _0x4a081e[_0x2e0acb(0x1d5)]('analysis.automation.targetValue');if(_0x2683b6&&_0x2683b6[_0x2e0acb(0x1de)]&&_0x8a2332){const _0x3d8a1e=_0x2683b6[_0x2e0acb(0x1de)];let _0x52ace3=_0x8a2332[_0x2e0acb(0x1de)];try{_0x52ace3=JSON[_0x2e0acb(0x1e9)](_0x52ace3);}catch(_0x478297){}_0x4a081e[_0x2e0acb(0x1df)][_0x2e0acb(0x20e)](_0x2e0acb(0x210)+_0x3d8a1e+_0x2e0acb(0x1da)+_0x52ace3),await _0x4a081e[_0x2e0acb(0x1b2)](_0x3d8a1e,_0x52ace3);}else _0x4a081e[_0x2e0acb(0x1df)][_0x2e0acb(0x1d4)](_0x2e0acb(0x1ce));}catch(_0x5e5ebb){_0x4a081e[_0x2e0acb(0x1df)][_0x2e0acb(0x218)]('BUTLER\x20Execution\x20Error:\x20'+_0x5e5ebb['message']);}}async function sendMorningBriefing(_0x543737){const _0x14ff8c=a0_0x24e9e1;if(!_0x543737[_0x14ff8c(0x1c0)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x12d701=_0x14ff8c(0x21b),_0x513a0b=await _0x543737[_0x14ff8c(0x1c0)][_0x14ff8c(0x201)](_0x12d701),_0x38a756=_0x513a0b[_0x14ff8c(0x1d9)][_0x14ff8c(0x1cc)]();setup[_0x14ff8c(0x1eb)](_0x543737,_0x14ff8c(0x1f5)+_0x38a756);}catch(_0x3017c2){_0x543737[_0x14ff8c(0x1df)][_0x14ff8c(0x218)](_0x14ff8c(0x21d)+_0x3017c2[_0x14ff8c(0x20a)]);}}module[a0_0x24e9e1(0x1ad)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};