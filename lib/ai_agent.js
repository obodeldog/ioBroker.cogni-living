const a0_0x5c0f80=a0_0x2e80;(function(_0x4e0802,_0x5b6507){const _0x3ce200=a0_0x2e80,_0x16ce8e=_0x4e0802();while(!![]){try{const _0x146c13=-parseInt(_0x3ce200(0x12a))/0x1*(-parseInt(_0x3ce200(0x169))/0x2)+-parseInt(_0x3ce200(0x168))/0x3+-parseInt(_0x3ce200(0x137))/0x4*(-parseInt(_0x3ce200(0x114))/0x5)+parseInt(_0x3ce200(0x15a))/0x6+-parseInt(_0x3ce200(0x173))/0x7*(parseInt(_0x3ce200(0x108))/0x8)+parseInt(_0x3ce200(0x142))/0x9+parseInt(_0x3ce200(0x13b))/0xa*(-parseInt(_0x3ce200(0x16a))/0xb);if(_0x146c13===_0x5b6507)break;else _0x16ce8e['push'](_0x16ce8e['shift']());}catch(_0x5b871b){_0x16ce8e['push'](_0x16ce8e['shift']());}}}(a0_0x48af,0x6d10f));const a0_0xb842d1=(function(){let _0x60d568=!![];return function(_0x2447e9,_0x503a92){const _0x12e33f=_0x60d568?function(){if(_0x503a92){const _0x35419c=_0x503a92['apply'](_0x2447e9,arguments);return _0x503a92=null,_0x35419c;}}:function(){};return _0x60d568=![],_0x12e33f;};}()),a0_0xb14cfb=a0_0xb842d1(this,function(){const _0x3fcf44=a0_0x2e80;return a0_0xb14cfb['toString']()['search'](_0x3fcf44(0x16f))[_0x3fcf44(0x10f)]()[_0x3fcf44(0x16d)](a0_0xb14cfb)['search']('(((.+)+)+)+$');});a0_0xb14cfb();'use strict';const {GoogleGenerativeAI}=require(a0_0x5c0f80(0x143)),setup=require('./setup'),GEMINI_MODEL=a0_0x5c0f80(0x105),LTM_DP_DAILY_DIGESTS=a0_0x5c0f80(0x16c),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x5c0f80(0x101),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x5c0f80(0x128),'senior_aal':a0_0x5c0f80(0x177),'family':a0_0x5c0f80(0x151),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':a0_0x5c0f80(0x15d),'energy_saver':a0_0x5c0f80(0x162)};function canCallApi(){const _0x2be86b=Date['now']();return _0x2be86b-lastGlobalApiCall>MIN_API_GAP_MS;}function a0_0x48af(){const _0x20768f=['KI-Fehler\x20(Fallback)','sendNotification','Keine\x20Details.','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','2357015slKAti','pop','Unbekannt\x20(Kein\x20Sensor)','trim','driftDetails','.\x20KONTEXT:\x20','getStateAsync','summary','Tag','Gemini\x20Error:\x20','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','aiPersona','.\x20EMERGENCY:\x20','response','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','generateContent','parse','val','Digest','Briefing\x20Error:\x20','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','Skipped\x20(No\x20AI\x20or\x20Data)','20XyXBzM','targetValue','\x0aSTB:\x20','generic','lastAlertState','stringify','analysis.automation.targetValue','slice','toFixed','.\x20ANWESEND:\x20','currentSystemMode','send','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','4bOKSUN','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','getForeignStateAsync','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','3559130yDNbfv','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','isProVersion','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','ü§ñ\x20Butler\x20Brain\x20Error:\x20','replace','exports','5673087nSXbbU','@google/generative-ai','toISOString','.forecast.current.temperature','debug','toLocaleTimeString','livingContext','rawEventLog','dailyDigests','length','geminiModel','setStateAsync','.Current.IsNight','reason','isAlert','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','ANALYZE_HEALTH','.Current.WeatherText','analysis.automation.targetId','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','now','ltmStbWindowDays','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','weatherInstance','4556748KauFXk','alertReason','config','Sicherheit\x20geht\x20vor.','analysisHistory','.Current.Temperature','analysis.automation.patternDetected','activityLevel','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','warn','LTM.driftAnalysis.baselineDrift','Nacht','BUTLER\x20Execution\x20Error:\x20','text','924102QWiodz','186RHtwqP','22OzGmlP','approved','LTM.dailyDigests','constructor','KI\x20offline\x20(Fallback)','(((.+)+)+)+$','analysis.automation.autoApply','eventHistory','\x20->\x20','1477olYUGb','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','Success','detected','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','error','N/A\x20(Learning)','analysis.analysisHistory','Unbekannt','.forecast.current.state','description','timestamp','setForeignStateAsync','message','analysis.alertReason','\x20=\x20','LTM.rawEventLog','unshift','automationProposal','ltmLtbWindowDays','models/gemini-flash-latest','analysis.activitySummary','üåÖ\x20Morning\x20Briefing:\x0a','15032poZbfi','targetId','log','baselineDrift','splice','isEmergency','.\x20EVENTS:\x20','toString'];a0_0x48af=function(){return _0x20768f;};return a0_0x48af();}function updateApiTimestamp(){const _0x2b5451=a0_0x5c0f80;lastGlobalApiCall=Date[_0x2b5451(0x156)]();}async function getWeatherContext(_0x2593a3){const _0x14f2c0=a0_0x5c0f80;if(!_0x2593a3['config']['useWeather']||!_0x2593a3['config'][_0x14f2c0(0x159)])return _0x14f2c0(0x116);try{const _0x3d54ff=_0x2593a3[_0x14f2c0(0x15c)][_0x14f2c0(0x159)];let _0x4e8a99=await _0x2593a3[_0x14f2c0(0x139)](_0x3d54ff+_0x14f2c0(0x15f));if(!_0x4e8a99)_0x4e8a99=await _0x2593a3[_0x14f2c0(0x139)](_0x3d54ff+_0x14f2c0(0x145));let _0x4558a8=await _0x2593a3[_0x14f2c0(0x139)](_0x3d54ff+_0x14f2c0(0x153));if(!_0x4558a8)_0x4558a8=await _0x2593a3[_0x14f2c0(0x139)](_0x3d54ff+_0x14f2c0(0xfa));let _0x57c795=_0x14f2c0(0xf9);const _0x37fef1=await _0x2593a3[_0x14f2c0(0x139)](_0x3d54ff+_0x14f2c0(0x14e));if(_0x37fef1)_0x57c795=_0x37fef1[_0x14f2c0(0x125)]?_0x14f2c0(0x165):_0x14f2c0(0x11c);if(_0x4e8a99&&_0x4558a8)return _0x4e8a99['val']+'¬∞C,\x20'+_0x4558a8['val']+',\x20Lichtverh√§ltnisse:\x20'+_0x57c795;}catch(_0x165b57){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x27418a,_0x4f3ac6,_0x509278,_0x20e410){const _0x1f94c8=a0_0x5c0f80;if(!_0x27418a['geminiModel'])return{'approved':!![],'reason':_0x1f94c8(0x16e)};const _0x192c02=Date[_0x1f94c8(0x156)]();if(decisionCache[_0x4f3ac6]&&_0x192c02-decisionCache[_0x4f3ac6][_0x1f94c8(0xfc)]<CACHE_TTL_MS){const _0x205c4b=decisionCache[_0x4f3ac6]['decision'];return _0x27418a[_0x1f94c8(0x10a)][_0x1f94c8(0x146)](_0x1f94c8(0x13e)+_0x4f3ac6+_0x1f94c8(0x172)+(_0x205c4b[_0x1f94c8(0x16b)]?'OK':'NO')+'\x20('+_0x205c4b[_0x1f94c8(0x14f)]+')'),_0x205c4b;}if(!canCallApi())return _0x27418a['log'][_0x1f94c8(0x146)]('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x4f3ac6+'\x20√ºbersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':'Traffic-Schutz\x20(Auto-Approved)'};const _0x295096=new Date()[_0x1f94c8(0x147)](),_0x457b47=await getWeatherContext(_0x27418a),_0x21ca57=PERSONA_MAPPING[_0x27418a[_0x1f94c8(0x15c)][_0x1f94c8(0x11f)]||_0x1f94c8(0x12d)],_0x4118a3=_0x1f94c8(0x158)+_0x295096+',\x20Wetter:\x20'+_0x457b47+_0x1f94c8(0x113)+(_0x20e410*0x64)[_0x1f94c8(0x132)](0x0)+'%)\x20nach\x20\x22'+_0x4f3ac6+_0x1f94c8(0x13a)+_0x509278+_0x1f94c8(0x13c)+_0x21ca57+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x506572=await _0x27418a[_0x1f94c8(0x14c)][_0x1f94c8(0x123)](_0x4118a3),_0x1cede3=_0x506572[_0x1f94c8(0x121)][_0x1f94c8(0x167)]()[_0x1f94c8(0x140)](/```json|```/g,'')['trim'](),_0x27c0da=JSON['parse'](_0x1cede3);return decisionCache[_0x4f3ac6]={'decision':_0x27c0da,'timestamp':_0x192c02},_0x27c0da;}catch(_0x488d95){return _0x27418a[_0x1f94c8(0x10a)][_0x1f94c8(0x163)](_0x1f94c8(0x13f)+_0x488d95[_0x1f94c8(0xfe)]),decisionCache[_0x4f3ac6]={'decision':{'approved':!![],'reason':_0x1f94c8(0x110)},'timestamp':_0x192c02-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x1f94c8(0x110)};}}async function runGeminiAnalysis(_0x42a0f7,_0x352b69=''){const _0x28aca6=a0_0x5c0f80;if(!_0x42a0f7[_0x28aca6(0x14c)])return;if(!canCallApi()){_0x42a0f7[_0x28aca6(0x10a)]['debug'](_0x28aca6(0x174));return;}if(_0x42a0f7[_0x28aca6(0x171)][_0x28aca6(0x14b)]===0x0)return;const _0x5eb708=_0x42a0f7[_0x28aca6(0x171)][_0x28aca6(0x131)](0x0,0xf),_0x32d5f0=_0x42a0f7[_0x28aca6(0x134)],_0x1582c8=PERSONA_MAPPING[_0x42a0f7[_0x28aca6(0x15c)][_0x28aca6(0x11f)]||_0x28aca6(0x12d)],_0x1403e1=_0x42a0f7[_0x28aca6(0x15c)][_0x28aca6(0x148)]||_0x28aca6(0x112);let _0xb854f7=_0x28aca6(0xf9);try{const _0x209fa0=await _0x42a0f7[_0x28aca6(0x11a)]('system.presenceWho');if(_0x209fa0&&_0x209fa0[_0x28aca6(0x125)])_0xb854f7=_0x209fa0['val'];}catch(_0x459394){}let _0x588ab4=![];try{const _0x19fae0=await _0x42a0f7[_0x28aca6(0x11a)](_0x28aca6(0x170));if(_0x19fae0&&_0x19fae0[_0x28aca6(0x125)])_0x588ab4=!![];}catch(_0x65851b){}const _0x33a330=_0x28aca6(0x136)+_0x1582c8+_0x28aca6(0x119)+_0x1403e1+'.\x20SYSTEM_MODE:\x20'+_0x32d5f0+_0x28aca6(0x133)+_0xb854f7+_0x28aca6(0x10e)+JSON[_0x28aca6(0x12f)](_0x5eb708)+_0x28aca6(0x120)+_0x352b69+_0x28aca6(0x11e);try{updateApiTimestamp();const _0x3c347a=await _0x42a0f7['geminiModel'][_0x28aca6(0x123)](_0x33a330),_0xb5641c=JSON[_0x28aca6(0x124)](_0x3c347a[_0x28aca6(0x121)]['text']()[_0x28aca6(0x140)](/```json|```/g,'')['trim']());await _0x42a0f7['setStateAsync']('analysis.lastResult',{'val':JSON['stringify'](_0xb5641c),'ack':!![]});if(_0xb5641c[_0x28aca6(0x11b)])await _0x42a0f7['setStateAsync'](_0x28aca6(0x106),{'val':_0xb5641c[_0x28aca6(0x11b)],'ack':!![]});const _0x467371={'timestamp':Date[_0x28aca6(0x156)](),'id':Date['now']()[_0x28aca6(0x10f)](),'analysis':{'activity':{'summary':_0xb5641c[_0x28aca6(0x11b)],'isAlert':_0xb5641c[_0x28aca6(0x150)],'alertReason':_0xb5641c[_0x28aca6(0x15b)]},'comfort':{'automationProposal':_0xb5641c['automationProposal']}}};_0x42a0f7['analysisHistory'][_0x28aca6(0x102)](_0x467371);if(_0x42a0f7[_0x28aca6(0x15e)]['length']>0x32)_0x42a0f7['analysisHistory'][_0x28aca6(0x115)]();await _0x42a0f7[_0x28aca6(0x14d)](_0x28aca6(0xf8),{'val':JSON[_0x28aca6(0x12f)](_0x42a0f7[_0x28aca6(0x15e)]),'ack':!![]});const _0x1c4e1d=_0xb5641c[_0x28aca6(0x150)]||![];_0x1c4e1d!==_0x42a0f7[_0x28aca6(0x12e)]&&(await _0x42a0f7[_0x28aca6(0x14d)]('analysis.isAlert',{'val':_0x1c4e1d,'ack':!![]}),_0x42a0f7[_0x28aca6(0x12e)]=_0x1c4e1d,_0x1c4e1d&&(await _0x42a0f7[_0x28aca6(0x14d)](_0x28aca6(0xff),{'val':_0xb5641c[_0x28aca6(0x15b)],'ack':!![]}),setup[_0x28aca6(0x111)](_0x42a0f7,'‚ö†Ô∏è\x20ALARM:\x20'+_0xb5641c[_0x28aca6(0x15b)],![],_0xb5641c[_0x28aca6(0x10d)])));if(_0xb5641c[_0x28aca6(0x103)]&&_0xb5641c[_0x28aca6(0x103)][_0x28aca6(0x176)]){await _0x42a0f7[_0x28aca6(0x14d)](_0x28aca6(0x160),{'val':!![],'ack':!![]}),await _0x42a0f7[_0x28aca6(0x14d)]('analysis.automation.description',{'val':_0xb5641c[_0x28aca6(0x103)][_0x28aca6(0xfb)],'ack':!![]}),await _0x42a0f7[_0x28aca6(0x14d)](_0x28aca6(0x154),{'val':_0xb5641c[_0x28aca6(0x103)][_0x28aca6(0x109)],'ack':!![]}),await _0x42a0f7[_0x28aca6(0x14d)]('analysis.automation.targetValue',{'val':JSON[_0x28aca6(0x12f)](_0xb5641c[_0x28aca6(0x103)][_0x28aca6(0x12b)]),'ack':!![]});if(_0x588ab4)executeAutomationAction(_0x42a0f7);}}catch(_0x21a550){_0x42a0f7[_0x28aca6(0x10a)][_0x28aca6(0xf6)](_0x28aca6(0x11d)+_0x21a550[_0x28aca6(0xfe)]);}}function a0_0x2e80(_0x6626bf,_0x2264ab){const _0x5decce=a0_0x48af();return a0_0x2e80=function(_0xb14cfb,_0xb842d1){_0xb14cfb=_0xb14cfb-0xf6;let _0x48af69=_0x5decce[_0xb14cfb];return _0x48af69;},a0_0x2e80(_0x6626bf,_0x2264ab);}async function createDailyDigest(_0x55f296,_0x26f3d7){const _0x11d9c5=a0_0x5c0f80;if(!_0x55f296[_0x11d9c5(0x13d)])return;if(!canCallApi()){await _0x55f296[_0x11d9c5(0x14d)](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x55f296[_0x11d9c5(0x14d)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x55f296[_0x11d9c5(0x14c)]||_0x55f296[_0x11d9c5(0x149)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x55f296[_0x11d9c5(0x14d)](LTM_DP_STATUS,{'val':_0x11d9c5(0x129),'ack':!![]});return;}const _0x3754a6=JSON[_0x11d9c5(0x124)](JSON[_0x11d9c5(0x12f)](_0x55f296['rawEventLog'])),_0x2f3e28=_0x3754a6[_0x11d9c5(0x14b)],_0x3cc3b6='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON['stringify'](_0x3754a6);try{updateApiTimestamp();const _0x5eb5ed=await _0x55f296[_0x11d9c5(0x14c)]['generateContent'](_0x3cc3b6),_0x3562da=JSON[_0x11d9c5(0x124)](_0x5eb5ed[_0x11d9c5(0x121)]['text']()['replace'](/```json|```/g,'')[_0x11d9c5(0x117)]()),_0x5157dd={'timestamp':new Date()[_0x11d9c5(0x144)](),'eventCount':_0x2f3e28,'summary':_0x3562da[_0x11d9c5(0x11b)]||_0x11d9c5(0x126),'activityLevel':_0x3562da[_0x11d9c5(0x161)]||'normal','systemMode':_0x55f296['currentSystemMode']};_0x55f296[_0x11d9c5(0x14a)]['push'](_0x5157dd);const _0x246136=_0x55f296[_0x11d9c5(0x15c)][_0x11d9c5(0x104)]||0x3c;_0x55f296[_0x11d9c5(0x14a)]['length']>_0x246136&&_0x55f296['dailyDigests'][_0x11d9c5(0x10c)](0x0,_0x55f296[_0x11d9c5(0x14a)][_0x11d9c5(0x14b)]-_0x246136);await _0x55f296[_0x11d9c5(0x14d)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x11d9c5(0x12f)](_0x55f296['dailyDigests']),'ack':!![]}),_0x55f296[_0x11d9c5(0x149)]=[],await _0x55f296[_0x11d9c5(0x14d)](LTM_DP_RAW_LOG,{'val':JSON[_0x11d9c5(0x12f)](_0x55f296[_0x11d9c5(0x149)]),'ack':!![]}),await _0x55f296['setStateAsync'](LTM_DP_STATUS,{'val':_0x11d9c5(0x175),'ack':!![]});if(_0x55f296[_0x11d9c5(0x13d)]&&_0x26f3d7)_0x26f3d7[_0x11d9c5(0x135)](_0x55f296,_0x11d9c5(0x152),{'digest':_0x5157dd});}catch(_0x2c491b){_0x55f296[_0x11d9c5(0x10a)][_0x11d9c5(0xf6)](_0x2c491b[_0x11d9c5(0xfe)]);}}async function runBaselineDriftAnalysis(_0x5a1798){const _0x307470=a0_0x5c0f80;if(!_0x5a1798[_0x307470(0x13d)]||!_0x5a1798['geminiModel'])return;if(!canCallApi())return;const _0xb8edab=_0x5a1798[_0x307470(0x15c)][_0x307470(0x157)]||0xe;if(_0x5a1798[_0x307470(0x14a)][_0x307470(0x14b)]<_0xb8edab+0x7){await _0x5a1798['setStateAsync'](_0x307470(0x164),{'val':_0x307470(0xf7),'ack':!![]});return;}const _0x2a4824=_0x5a1798[_0x307470(0x14a)][_0x307470(0x131)](-_0xb8edab),_0x3e5c73=_0x5a1798[_0x307470(0x14a)][_0x307470(0x131)](0x0,_0x5a1798[_0x307470(0x14a)][_0x307470(0x14b)]-_0xb8edab),_0x446c73=_0x307470(0x122)+JSON['stringify'](_0x3e5c73)+_0x307470(0x12c)+JSON[_0x307470(0x12f)](_0x2a4824);try{updateApiTimestamp();const _0x34702a=await _0x5a1798['geminiModel'][_0x307470(0x123)](_0x446c73),_0x3f70d5=JSON['parse'](_0x34702a['response'][_0x307470(0x167)]()[_0x307470(0x140)](/```json|```/g,'')[_0x307470(0x117)]());_0x3f70d5['baselineDrift']&&(await _0x5a1798[_0x307470(0x14d)](_0x307470(0x164),{'val':_0x3f70d5[_0x307470(0x10b)],'ack':!![]}),await _0x5a1798['setStateAsync']('LTM.driftAnalysis.driftDetails',{'val':_0x3f70d5[_0x307470(0x118)],'ack':!![]}),await _0x5a1798[_0x307470(0x14d)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x307470(0x156)](),'ack':!![]}));}catch(_0xb492cf){}}async function executeAutomationAction(_0x184ea9){const _0x9848cb=a0_0x5c0f80;try{const _0x23bdef=await _0x184ea9[_0x9848cb(0x11a)](_0x9848cb(0x154)),_0x507a48=await _0x184ea9[_0x9848cb(0x11a)](_0x9848cb(0x130));if(_0x23bdef&&_0x23bdef[_0x9848cb(0x125)]&&_0x507a48){const _0x2b6190=_0x23bdef['val'];let _0x1fe538=_0x507a48[_0x9848cb(0x125)];try{_0x1fe538=JSON[_0x9848cb(0x124)](_0x1fe538);}catch(_0x45ef41){}_0x184ea9[_0x9848cb(0x10a)]['info']('ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x2b6190+_0x9848cb(0x100)+_0x1fe538),await _0x184ea9[_0x9848cb(0xfd)](_0x2b6190,_0x1fe538);}else _0x184ea9[_0x9848cb(0x10a)][_0x9848cb(0x163)](_0x9848cb(0x155));}catch(_0x3b5209){_0x184ea9[_0x9848cb(0x10a)][_0x9848cb(0xf6)](_0x9848cb(0x166)+_0x3b5209[_0x9848cb(0xfe)]);}}async function sendMorningBriefing(_0x53a0b8){const _0x492bca=a0_0x5c0f80;if(!_0x53a0b8[_0x492bca(0x14c)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0xf3ad20=_0x492bca(0x138),_0x95b78f=await _0x53a0b8['geminiModel']['generateContent'](_0xf3ad20),_0x59002f=_0x95b78f['response'][_0x492bca(0x167)]();setup['sendNotification'](_0x53a0b8,_0x492bca(0x107)+_0x59002f);}catch(_0xd76fd4){_0x53a0b8[_0x492bca(0x10a)][_0x492bca(0xf6)](_0x492bca(0x127)+_0xd76fd4[_0x492bca(0xfe)]);}}module[a0_0x5c0f80(0x141)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};