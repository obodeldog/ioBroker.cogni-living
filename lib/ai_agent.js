const a0_0x58e05a=a0_0x3841;(function(_0x4fb870,_0x3c5ba9){const _0x925243=a0_0x3841,_0x411b3c=_0x4fb870();while(!![]){try{const _0x110533=-parseInt(_0x925243(0xaa))/0x1*(parseInt(_0x925243(0xca))/0x2)+-parseInt(_0x925243(0xe1))/0x3*(-parseInt(_0x925243(0x124))/0x4)+parseInt(_0x925243(0x120))/0x5*(-parseInt(_0x925243(0xa5))/0x6)+-parseInt(_0x925243(0xd0))/0x7+parseInt(_0x925243(0xee))/0x8+parseInt(_0x925243(0xb0))/0x9*(-parseInt(_0x925243(0xe2))/0xa)+parseInt(_0x925243(0x106))/0xb*(parseInt(_0x925243(0x122))/0xc);if(_0x110533===_0x3c5ba9)break;else _0x411b3c['push'](_0x411b3c['shift']());}catch(_0x52b734){_0x411b3c['push'](_0x411b3c['shift']());}}}(a0_0x2381,0xa37d2));const a0_0x2466c4=(function(){let _0x190aeb=!![];return function(_0x2d801e,_0x21ae95){const _0x78a5dc=_0x190aeb?function(){if(_0x21ae95){const _0x5eb7b5=_0x21ae95['apply'](_0x2d801e,arguments);return _0x21ae95=null,_0x5eb7b5;}}:function(){};return _0x190aeb=![],_0x78a5dc;};}()),a0_0x5374a8=a0_0x2466c4(this,function(){const _0x976602=a0_0x3841;return a0_0x5374a8[_0x976602(0xd5)]()[_0x976602(0xff)](_0x976602(0xe5))[_0x976602(0xd5)]()[_0x976602(0xd7)](a0_0x5374a8)[_0x976602(0xff)]('(((.+)+)+)+$');});a0_0x5374a8();function a0_0x3841(_0x20551b,_0x31c176){const _0x262b04=a0_0x2381();return a0_0x3841=function(_0x5374a8,_0x2466c4){_0x5374a8=_0x5374a8-0xa1;let _0x238142=_0x262b04[_0x5374a8];return _0x238142;},a0_0x3841(_0x20551b,_0x31c176);}function a0_0x2381(){const _0x5b1e3b=['system.presenceWho','analysis.alertReason','ðŸŒ…\x20Morning\x20Briefing:\x0a','error','ltmStbWindowDays','trim','isAlert','search','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','analysis.activitySummary','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','toISOString','models/gemini-flash-latest','\x20=\x20','11PuJqjV','debug',',\x20LichtverhÃ¤ltnisse:\x20','analysis.automation.description','getStateAsync','pop','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','livingContext','isEmergency','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','aiPersona','config','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','Skipped\x20(No\x20AI\x20or\x20Data)','lastAlertState','LTM.driftAnalysis.lastCheck','.\x20SYSTEM_MODE:\x20','toFixed','analysis.automation.targetValue','\x20Ã¼bersprungen\x20(Auto-Approved).','detected','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','LTM.driftAnalysis.baselineDrift','text','now','unshift','3520WdNMqk','.Current.Temperature','43367964fxNOWk','ðŸ“…\x20Daily\x20Digest:\x0a','472zVIiRY','@google/generative-ai','LTM.processingStatus','dailyDigests','generic','log','Traffic-Schutz\x20(Auto-Approved)','Tag','11250dZTqZP','warn','geminiModel',',\x20Wetter:\x20','automationProposal','1246322mVgqmI','\x20->\x20','weatherInstance','slice','analysisHistory','.\x20KONTEXT:\x20','430596LoytmU','alertReason','LTM.dailyDigests','setForeignStateAsync','useWeather','BUTLER\x20Execution\x20Error:\x20','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','toLocaleTimeString','./setup','analysis.automation.patternDetected','setStateAsync','.\x20ANWESEND:\x20','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','Unbekannt\x20(Kein\x20Sensor)','timestamp','parse','send','activityLevel','length','push','analysis.automation.autoApply','isProVersion','message','Success','driftDetails','KI-Fehler\x20(Fallback)','2lyVSYq','%)\x20nach\x20\x22','reason','summary','âš ï¸\x20ALARM:\x20','Unbekannt','1003674hiLMaa','sendNotification','getForeignStateAsync','analysis.isAlert','.Current.IsNight','toString','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','constructor','rawEventLog','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','.\x20EVENTS:\x20','Started...','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','.Current.WeatherText','normal','195YcsjSa','180PKnsXO','decision','analysis.automation.targetId','(((.+)+)+)+$','replace','val','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','response','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','LTM.rawEventLog','targetId','Keine\x20Details.','4951032WGKNWW','\x0aSTB:\x20','ltmLtbWindowDays','\x0aAktivitÃ¤t:\x20','stringify','Skipped\x20(Traffic)','Â°C,\x20','currentSystemMode','generateContent','analysis.analysisHistory'];a0_0x2381=function(){return _0x5b1e3b;};return a0_0x2381();}'use strict';const {GoogleGenerativeAI}=require(a0_0x58e05a(0x125)),setup=require(a0_0x58e05a(0xb8)),GEMINI_MODEL=a0_0x58e05a(0x104),LTM_DP_DAILY_DIGESTS=a0_0x58e05a(0xb2),LTM_DP_STATUS=a0_0x58e05a(0x126),LTM_DP_RAW_LOG=a0_0x58e05a(0xeb),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x58e05a(0xda),'senior_aal':a0_0x58e05a(0x102),'family':a0_0x58e05a(0xbc),'single_comfort':a0_0x58e05a(0x10f),'security':'Sicherheit\x20geht\x20vor.','energy_saver':a0_0x58e05a(0x10c)};function canCallApi(){const _0x2b0f67=a0_0x58e05a,_0x24e90b=Date[_0x2b0f67(0x11e)]();return _0x24e90b-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x123795=a0_0x58e05a;lastGlobalApiCall=Date[_0x123795(0x11e)]();}async function getWeatherContext(_0x26816b){const _0x579699=a0_0x58e05a;if(!_0x26816b['config'][_0x579699(0xb4)]||!_0x26816b['config'][_0x579699(0xac)])return _0x579699(0xbd);try{const _0x2621dd=_0x26816b[_0x579699(0x111)][_0x579699(0xac)];let _0x90ebe2=await _0x26816b[_0x579699(0xd2)](_0x2621dd+_0x579699(0x121));if(!_0x90ebe2)_0x90ebe2=await _0x26816b[_0x579699(0xd2)](_0x2621dd+'.forecast.current.temperature');let _0x8d1e4f=await _0x26816b[_0x579699(0xd2)](_0x2621dd+_0x579699(0xdf));if(!_0x8d1e4f)_0x8d1e4f=await _0x26816b['getForeignStateAsync'](_0x2621dd+'.forecast.current.state');let _0x1092f8=_0x579699(0xcf);const _0x504253=await _0x26816b['getForeignStateAsync'](_0x2621dd+_0x579699(0xd4));if(_0x504253)_0x1092f8=_0x504253['val']?'Nacht':_0x579699(0xa4);if(_0x90ebe2&&_0x8d1e4f)return _0x90ebe2['val']+_0x579699(0xf4)+_0x8d1e4f['val']+_0x579699(0x108)+_0x1092f8;}catch(_0xd13fb1){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x3aac36,_0x1bea5b,_0x19716b,_0x1be1dc){const _0x41ca77=a0_0x58e05a;if(!_0x3aac36['geminiModel'])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x5c1d5a=Date['now']();if(decisionCache[_0x1bea5b]&&_0x5c1d5a-decisionCache[_0x1bea5b][_0x41ca77(0xbe)]<CACHE_TTL_MS){const _0x2d77f7=decisionCache[_0x1bea5b][_0x41ca77(0xe3)];return _0x3aac36[_0x41ca77(0xa2)][_0x41ca77(0x107)](_0x41ca77(0xde)+_0x1bea5b+_0x41ca77(0xab)+(_0x2d77f7['approved']?'OK':'NO')+'\x20('+_0x2d77f7[_0x41ca77(0xcc)]+')'),_0x2d77f7;}if(!canCallApi())return _0x3aac36[_0x41ca77(0xa2)][_0x41ca77(0x107)]('ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20'+_0x1bea5b+_0x41ca77(0x119)),{'approved':!![],'reason':_0x41ca77(0xa3)};const _0x973ee=new Date()[_0x41ca77(0xb7)](),_0x388094=await getWeatherContext(_0x3aac36),_0x2dccec=PERSONA_MAPPING[_0x3aac36[_0x41ca77(0x111)][_0x41ca77(0x110)]||'generic'],_0x269661='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x973ee+_0x41ca77(0xa8)+_0x388094+_0x41ca77(0x11b)+(_0x1be1dc*0x64)[_0x41ca77(0x117)](0x0)+_0x41ca77(0xcb)+_0x1bea5b+_0x41ca77(0xe8)+_0x19716b+_0x41ca77(0xea)+_0x2dccec+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x2f2cec=await _0x3aac36[_0x41ca77(0xa7)]['generateContent'](_0x269661),_0x51cb02=_0x2f2cec[_0x41ca77(0xe9)][_0x41ca77(0x11d)]()[_0x41ca77(0xe6)](/```json|```/g,'')['trim'](),_0x56b5ac=JSON[_0x41ca77(0xbf)](_0x51cb02);return decisionCache[_0x1bea5b]={'decision':_0x56b5ac,'timestamp':_0x5c1d5a},_0x56b5ac;}catch(_0x2e8278){return _0x3aac36[_0x41ca77(0xa2)][_0x41ca77(0xa6)](_0x41ca77(0x112)+_0x2e8278[_0x41ca77(0xc6)]),decisionCache[_0x1bea5b]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x5c1d5a-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x41ca77(0xc9)};}}async function runGeminiAnalysis(_0x290fe6,_0x202667=''){const _0x4e6343=a0_0x58e05a;if(!_0x290fe6[_0x4e6343(0xa7)])return;if(!canCallApi()){_0x290fe6[_0x4e6343(0xa2)][_0x4e6343(0x107)](_0x4e6343(0x100));return;}if(_0x290fe6['eventHistory'][_0x4e6343(0xc2)]===0x0)return;const _0x25e2ce=_0x290fe6['eventHistory']['slice'](0x0,0xf),_0x4ee530=_0x290fe6[_0x4e6343(0xf5)],_0x249074=PERSONA_MAPPING[_0x290fe6[_0x4e6343(0x111)][_0x4e6343(0x110)]||_0x4e6343(0xa1)],_0x4b89bc=_0x290fe6['config'][_0x4e6343(0x10d)]||_0x4e6343(0xed);let _0x3c1ec4=_0x4e6343(0xcf);try{const _0x4d45fa=await _0x290fe6[_0x4e6343(0x10a)](_0x4e6343(0xf8));if(_0x4d45fa&&_0x4d45fa[_0x4e6343(0xe7)])_0x3c1ec4=_0x4d45fa[_0x4e6343(0xe7)];}catch(_0x40289d){}let _0x38d090=![];try{const _0x62a561=await _0x290fe6['getStateAsync'](_0x4e6343(0xc4));if(_0x62a561&&_0x62a561['val'])_0x38d090=!![];}catch(_0x3468e5){}const _0x552d6c=_0x4e6343(0xd9)+_0x249074+_0x4e6343(0xaf)+_0x4b89bc+_0x4e6343(0x116)+_0x4ee530+_0x4e6343(0xbb)+_0x3c1ec4+_0x4e6343(0xdb)+JSON['stringify'](_0x25e2ce)+'.\x20EMERGENCY:\x20'+_0x202667+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x1fb5cf=await _0x290fe6['geminiModel'][_0x4e6343(0xf6)](_0x552d6c),_0x4612fd=JSON[_0x4e6343(0xbf)](_0x1fb5cf[_0x4e6343(0xe9)][_0x4e6343(0x11d)]()[_0x4e6343(0xe6)](/```json|```/g,'')[_0x4e6343(0xfd)]());await _0x290fe6[_0x4e6343(0xba)]('analysis.lastResult',{'val':JSON[_0x4e6343(0xf2)](_0x4612fd),'ack':!![]});if(_0x4612fd[_0x4e6343(0xcd)])await _0x290fe6[_0x4e6343(0xba)](_0x4e6343(0x101),{'val':_0x4612fd[_0x4e6343(0xcd)],'ack':!![]});const _0x19615d={'timestamp':Date['now'](),'id':Date['now']()['toString'](),'analysis':{'activity':{'summary':_0x4612fd[_0x4e6343(0xcd)],'isAlert':_0x4612fd[_0x4e6343(0xfe)],'alertReason':_0x4612fd[_0x4e6343(0xb1)]},'comfort':{'automationProposal':_0x4612fd[_0x4e6343(0xa9)]}}};_0x290fe6['analysisHistory'][_0x4e6343(0x11f)](_0x19615d);if(_0x290fe6['analysisHistory'][_0x4e6343(0xc2)]>0x32)_0x290fe6[_0x4e6343(0xae)][_0x4e6343(0x10b)]();await _0x290fe6['setStateAsync'](_0x4e6343(0xf7),{'val':JSON[_0x4e6343(0xf2)](_0x290fe6[_0x4e6343(0xae)]),'ack':!![]});const _0x465430=_0x4612fd[_0x4e6343(0xfe)]||![];_0x465430!==_0x290fe6[_0x4e6343(0x114)]&&(await _0x290fe6['setStateAsync'](_0x4e6343(0xd3),{'val':_0x465430,'ack':!![]}),_0x290fe6[_0x4e6343(0x114)]=_0x465430,_0x465430&&(await _0x290fe6[_0x4e6343(0xba)](_0x4e6343(0xf9),{'val':_0x4612fd[_0x4e6343(0xb1)],'ack':!![]}),setup['sendNotification'](_0x290fe6,_0x4e6343(0xce)+_0x4612fd[_0x4e6343(0xb1)],![],_0x4612fd[_0x4e6343(0x10e)])));if(_0x4612fd[_0x4e6343(0xa9)]&&_0x4612fd['automationProposal'][_0x4e6343(0x11a)]){await _0x290fe6[_0x4e6343(0xba)](_0x4e6343(0xb9),{'val':!![],'ack':!![]}),await _0x290fe6[_0x4e6343(0xba)](_0x4e6343(0x109),{'val':_0x4612fd[_0x4e6343(0xa9)]['description'],'ack':!![]}),await _0x290fe6[_0x4e6343(0xba)](_0x4e6343(0xe4),{'val':_0x4612fd['automationProposal'][_0x4e6343(0xec)],'ack':!![]}),await _0x290fe6[_0x4e6343(0xba)](_0x4e6343(0x118),{'val':JSON['stringify'](_0x4612fd[_0x4e6343(0xa9)]['targetValue']),'ack':!![]});if(_0x38d090)executeAutomationAction(_0x290fe6);}}catch(_0x2296b8){_0x290fe6[_0x4e6343(0xa2)]['error']('Gemini\x20Error:\x20'+_0x2296b8[_0x4e6343(0xc6)]);}}async function createDailyDigest(_0xee7142,_0x5d9914){const _0x4d09ef=a0_0x58e05a;if(!_0xee7142['isProVersion'])return;if(!canCallApi()){await _0xee7142['setStateAsync'](LTM_DP_STATUS,{'val':_0x4d09ef(0xf3),'ack':!![]});return;}await _0xee7142['setStateAsync'](LTM_DP_STATUS,{'val':_0x4d09ef(0xdc),'ack':!![]});if(!_0xee7142[_0x4d09ef(0xa7)]||_0xee7142[_0x4d09ef(0xd8)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0xee7142['setStateAsync'](LTM_DP_STATUS,{'val':_0x4d09ef(0x113),'ack':!![]});return;}const _0x5ad697=JSON[_0x4d09ef(0xbf)](JSON['stringify'](_0xee7142[_0x4d09ef(0xd8)])),_0x4d0ca6=_0x5ad697[_0x4d09ef(0xc2)],_0x175a61=_0x4d09ef(0xdd)+JSON[_0x4d09ef(0xf2)](_0x5ad697);try{updateApiTimestamp();const _0x265784=await _0xee7142['geminiModel'][_0x4d09ef(0xf6)](_0x175a61),_0x4b99be=JSON[_0x4d09ef(0xbf)](_0x265784[_0x4d09ef(0xe9)][_0x4d09ef(0x11d)]()[_0x4d09ef(0xe6)](/```json|```/g,'')['trim']()),_0x2db8af={'timestamp':new Date()[_0x4d09ef(0x103)](),'eventCount':_0x4d0ca6,'summary':_0x4b99be['summary']||'Digest','activityLevel':_0x4b99be[_0x4d09ef(0xc1)]||_0x4d09ef(0xe0),'systemMode':_0xee7142[_0x4d09ef(0xf5)]};_0xee7142[_0x4d09ef(0x127)][_0x4d09ef(0xc3)](_0x2db8af);const _0x5391d5=_0xee7142[_0x4d09ef(0x111)][_0x4d09ef(0xf0)]||0x3c;_0xee7142[_0x4d09ef(0x127)]['length']>_0x5391d5&&_0xee7142[_0x4d09ef(0x127)]['splice'](0x0,_0xee7142[_0x4d09ef(0x127)]['length']-_0x5391d5);await _0xee7142['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0xee7142[_0x4d09ef(0x127)]),'ack':!![]}),_0xee7142['rawEventLog']=[],await _0xee7142[_0x4d09ef(0xba)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0xee7142['rawEventLog']),'ack':!![]}),await _0xee7142[_0x4d09ef(0xba)](LTM_DP_STATUS,{'val':_0x4d09ef(0xc7),'ack':!![]});const _0x48f91a=_0x4d09ef(0x123)+_0x4b99be[_0x4d09ef(0xcd)]+_0x4d09ef(0xf1)+_0x4b99be['activityLevel'];setup[_0x4d09ef(0xd1)](_0xee7142,_0x48f91a,![],![]);if(_0xee7142[_0x4d09ef(0xc5)]&&_0x5d9914)_0x5d9914[_0x4d09ef(0xc0)](_0xee7142,'ANALYZE_HEALTH',{'digest':_0x2db8af});}catch(_0x21d7ab){_0xee7142['log'][_0x4d09ef(0xfb)](_0x21d7ab['message']);}}async function runBaselineDriftAnalysis(_0x29166e){const _0x5d61cb=a0_0x58e05a;if(!_0x29166e['isProVersion']||!_0x29166e['geminiModel'])return;if(!canCallApi())return;const _0x180266=_0x29166e[_0x5d61cb(0x111)][_0x5d61cb(0xfc)]||0xe;if(_0x29166e[_0x5d61cb(0x127)][_0x5d61cb(0xc2)]<_0x180266+0x7){await _0x29166e['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x2362a9=_0x29166e[_0x5d61cb(0x127)][_0x5d61cb(0xad)](-_0x180266),_0xe136a9=_0x29166e[_0x5d61cb(0x127)][_0x5d61cb(0xad)](0x0,_0x29166e[_0x5d61cb(0x127)]['length']-_0x180266),_0x48f21a='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x5d61cb(0xf2)](_0xe136a9)+_0x5d61cb(0xef)+JSON['stringify'](_0x2362a9);try{updateApiTimestamp();const _0x1bbef5=await _0x29166e['geminiModel'][_0x5d61cb(0xf6)](_0x48f21a),_0x48780b=JSON[_0x5d61cb(0xbf)](_0x1bbef5[_0x5d61cb(0xe9)][_0x5d61cb(0x11d)]()[_0x5d61cb(0xe6)](/```json|```/g,'')['trim']());_0x48780b['baselineDrift']&&(await _0x29166e['setStateAsync'](_0x5d61cb(0x11c),{'val':_0x48780b['baselineDrift'],'ack':!![]}),await _0x29166e['setStateAsync']('LTM.driftAnalysis.driftDetails',{'val':_0x48780b[_0x5d61cb(0xc8)],'ack':!![]}),await _0x29166e[_0x5d61cb(0xba)](_0x5d61cb(0x115),{'val':Date[_0x5d61cb(0x11e)](),'ack':!![]}));}catch(_0x426dc3){}}async function executeAutomationAction(_0x3646fe){const _0x40af3c=a0_0x58e05a;try{const _0x28572e=await _0x3646fe[_0x40af3c(0x10a)](_0x40af3c(0xe4)),_0x1c5cc3=await _0x3646fe[_0x40af3c(0x10a)](_0x40af3c(0x118));if(_0x28572e&&_0x28572e[_0x40af3c(0xe7)]&&_0x1c5cc3){const _0x479022=_0x28572e[_0x40af3c(0xe7)];let _0x314f71=_0x1c5cc3[_0x40af3c(0xe7)];try{_0x314f71=JSON[_0x40af3c(0xbf)](_0x314f71);}catch(_0x2cdf5f){}_0x3646fe[_0x40af3c(0xa2)]['info']('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x479022+_0x40af3c(0x105)+_0x314f71),await _0x3646fe[_0x40af3c(0xb3)](_0x479022,_0x314f71);}else _0x3646fe['log']['warn'](_0x40af3c(0xb6));}catch(_0x29c39a){_0x3646fe['log'][_0x40af3c(0xfb)](_0x40af3c(0xb5)+_0x29c39a[_0x40af3c(0xc6)]);}}async function sendMorningBriefing(_0x24bf73){const _0x31cff8=a0_0x58e05a;if(!_0x24bf73[_0x31cff8(0xa7)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x3e58fa=_0x31cff8(0xd6),_0x2d3653=await _0x24bf73[_0x31cff8(0xa7)]['generateContent'](_0x3e58fa),_0x2f2a44=_0x2d3653['response']['text']();setup['sendNotification'](_0x24bf73,_0x31cff8(0xfa)+_0x2f2a44);}catch(_0x3fcdd0){_0x24bf73[_0x31cff8(0xa2)][_0x31cff8(0xfb)]('Briefing\x20Error:\x20'+_0x3fcdd0[_0x31cff8(0xc6)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};