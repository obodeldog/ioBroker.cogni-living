const a0_0x5dd85c=a0_0xf53f;(function(_0xb5548e,_0x248e04){const _0x5654ad=a0_0xf53f,_0x41829a=_0xb5548e();while(!![]){try{const _0x7beb71=-parseInt(_0x5654ad(0x17f))/0x1+-parseInt(_0x5654ad(0x1b6))/0x2*(-parseInt(_0x5654ad(0x1b7))/0x3)+parseInt(_0x5654ad(0x19c))/0x4+-parseInt(_0x5654ad(0x1b8))/0x5+-parseInt(_0x5654ad(0x1a0))/0x6*(-parseInt(_0x5654ad(0x1a2))/0x7)+parseInt(_0x5654ad(0x1f9))/0x8+-parseInt(_0x5654ad(0x1e9))/0x9*(parseInt(_0x5654ad(0x1d8))/0xa);if(_0x7beb71===_0x248e04)break;else _0x41829a['push'](_0x41829a['shift']());}catch(_0x399bf7){_0x41829a['push'](_0x41829a['shift']());}}}(a0_0x5880,0x9e0cb));const a0_0x349682=(function(){let _0x2dd467=!![];return function(_0x21c761,_0x33f3e3){const _0x27db1c=_0x2dd467?function(){if(_0x33f3e3){const _0x474f2f=_0x33f3e3['apply'](_0x21c761,arguments);return _0x33f3e3=null,_0x474f2f;}}:function(){};return _0x2dd467=![],_0x27db1c;};}()),a0_0x1b9c2b=a0_0x349682(this,function(){const _0x33be59=a0_0xf53f;return a0_0x1b9c2b[_0x33be59(0x185)]()[_0x33be59(0x1fc)](_0x33be59(0x186))[_0x33be59(0x185)]()[_0x33be59(0x1aa)](a0_0x1b9c2b)[_0x33be59(0x1fc)](_0x33be59(0x186));});function a0_0x5880(){const _0x4997fa=['debug','N/A\x20(Learning)','.\x20EVENTS:\x20','getStateAsync','activityLevel','unshift','9YUUmXC','getForeignStateAsync','lastAlertState','response','Wetterdaten\x20nicht\x20abrufbar','ðŸ¤–\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','dailyDigests','Â°C,\x20','approved','.\x20SYSTEM_MODE:\x20','.forecast.current.state','KI\x20offline\x20(Fallback)','automationProposal','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','Success','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','2007800vpUJCl','analysis.activitySummary','info','search','send','Traffic-Schutz\x20(Auto-Approved)','setStateAsync','isProVersion','log','KI-Fehler\x20(Fallback)','geminiModel','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','reason','targetId','generateContent','\x20Ã¼bersprungen\x20(Auto-Approved).','758521hzOXsk','text','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','warn','toFixed','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','toString','(((.+)+)+)+$','Briefing\x20Error:\x20','toLocaleTimeString','@google/generative-ai','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','.Current.Temperature','timestamp','Digest','aiPersona','Gemini\x20Error:\x20','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','now','ðŸŒ…\x20Morning\x20Briefing:\x0a',',\x20LichtverhÃ¤ltnisse:\x20','Skipped\x20(No\x20AI\x20or\x20Data)','analysis.alertReason','isAlert','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','useWeather','analysis.analysisHistory','.\x20EMERGENCY:\x20','2355232AVzxzG','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','pop','alertReason','3246YgpeJx','.Current.WeatherText','8365WYuUml','length','sendNotification','error','val','livingContext','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).',').\x20Sending\x20notification...','constructor','exports','splice','LTM.driftAnalysis.lastCheck','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','ltmLtbWindowDays','config','Tag','analysis.automation.description','decision','analysis.automation.targetValue','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','4zYtqUe','828390oeQRUf','897980rQxBtC','setForeignStateAsync','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','ðŸŒ…\x20Briefing\x20generated\x20(Length:\x20','.forecast.current.temperature','LTM.driftAnalysis.driftDetails','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','parse','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','generic','replace','analysisHistory','rawEventLog','models/gemini-flash-latest','./setup','summary','trim','\x0aAktivitÃ¤t:\x20','âš ï¸\x20ALARM:\x20','LTM.processingStatus','ltmStbWindowDays','system.presenceWho','BUTLER\x20Execution\x20Error:\x20','ðŸ“…\x20Daily\x20Digest:\x0a','analysis.automation.patternDetected','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','%)\x20nach\x20\x22','weatherInstance','Unbekannt','detected','.\x20ANWESEND:\x20','push','4530500wkmkQZ','currentSystemMode','message','slice','\x0aSTB:\x20','Skipped\x20(Traffic)','stringify','\x20->\x20','analysis.automation.targetId','baselineDrift','eventHistory'];a0_0x5880=function(){return _0x4997fa;};return a0_0x5880();}a0_0x1b9c2b();'use strict';const {GoogleGenerativeAI}=require(a0_0x5dd85c(0x189)),setup=require(a0_0x5dd85c(0x1c6)),GEMINI_MODEL=a0_0x5dd85c(0x1c5),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x5dd85c(0x1cb),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x5dd85c(0x204),'family':a0_0x5dd85c(0x19d),'single_comfort':a0_0x5dd85c(0x191),'security':'Sicherheit\x20geht\x20vor.','energy_saver':a0_0x5dd85c(0x1a8)};function canCallApi(){const _0x213ac0=a0_0x5dd85c,_0x9d9a96=Date[_0x213ac0(0x192)]();return _0x9d9a96-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x1d87a6=a0_0x5dd85c;lastGlobalApiCall=Date[_0x1d87a6(0x192)]();}async function getWeatherContext(_0x304ce4){const _0x525550=a0_0x5dd85c;if(!_0x304ce4[_0x525550(0x1b0)][_0x525550(0x199)]||!_0x304ce4[_0x525550(0x1b0)]['weatherInstance'])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x582713=_0x304ce4[_0x525550(0x1b0)][_0x525550(0x1d3)];let _0x53e7b6=await _0x304ce4[_0x525550(0x1ea)](_0x582713+_0x525550(0x18b));if(!_0x53e7b6)_0x53e7b6=await _0x304ce4[_0x525550(0x1ea)](_0x582713+_0x525550(0x1bc));let _0x40b603=await _0x304ce4['getForeignStateAsync'](_0x582713+_0x525550(0x1a1));if(!_0x40b603)_0x40b603=await _0x304ce4['getForeignStateAsync'](_0x582713+_0x525550(0x1f3));let _0x464b91='Unbekannt';const _0x169c79=await _0x304ce4[_0x525550(0x1ea)](_0x582713+'.Current.IsNight');if(_0x169c79)_0x464b91=_0x169c79[_0x525550(0x1a6)]?'Nacht':_0x525550(0x1b1);if(_0x53e7b6&&_0x40b603)return _0x53e7b6[_0x525550(0x1a6)]+_0x525550(0x1f0)+_0x40b603[_0x525550(0x1a6)]+_0x525550(0x194)+_0x464b91;}catch(_0x53a76d){}return _0x525550(0x1ed);}async function consultButler(_0x6d7283,_0x5088a1,_0x529326,_0x1b7e56){const _0x21e9c3=a0_0x5dd85c;if(!_0x6d7283[_0x21e9c3(0x203)])return{'approved':!![],'reason':_0x21e9c3(0x1f4)};const _0x1e7c83=Date['now']();if(decisionCache[_0x5088a1]&&_0x1e7c83-decisionCache[_0x5088a1][_0x21e9c3(0x18c)]<CACHE_TTL_MS){const _0x3b5cb5=decisionCache[_0x5088a1][_0x21e9c3(0x1b3)];return _0x6d7283[_0x21e9c3(0x201)][_0x21e9c3(0x1e3)](_0x21e9c3(0x181)+_0x5088a1+_0x21e9c3(0x1df)+(_0x3b5cb5[_0x21e9c3(0x1f1)]?'OK':'NO')+'\x20('+_0x3b5cb5[_0x21e9c3(0x205)]+')'),_0x3b5cb5;}if(!canCallApi())return _0x6d7283[_0x21e9c3(0x201)][_0x21e9c3(0x1e3)](_0x21e9c3(0x1ae)+_0x5088a1+_0x21e9c3(0x17e)),{'approved':!![],'reason':_0x21e9c3(0x1fe)};const _0x42c952=new Date()[_0x21e9c3(0x188)](),_0xed5ebb=await getWeatherContext(_0x6d7283),_0x1afccb=PERSONA_MAPPING[_0x6d7283['config'][_0x21e9c3(0x18e)]||_0x21e9c3(0x1c1)],_0x38232c=_0x21e9c3(0x1c0)+_0x42c952+',\x20Wetter:\x20'+_0xed5ebb+_0x21e9c3(0x184)+(_0x1b7e56*0x64)[_0x21e9c3(0x183)](0x0)+_0x21e9c3(0x1d2)+_0x5088a1+_0x21e9c3(0x190)+_0x529326+_0x21e9c3(0x1f8)+_0x1afccb+_0x21e9c3(0x198);try{updateApiTimestamp();const _0x32a4ce=await _0x6d7283[_0x21e9c3(0x203)]['generateContent'](_0x38232c),_0x3c757e=_0x32a4ce[_0x21e9c3(0x1ec)][_0x21e9c3(0x180)]()['replace'](/```json|```/g,'')['trim'](),_0x35fd1c=JSON[_0x21e9c3(0x1bf)](_0x3c757e);return decisionCache[_0x5088a1]={'decision':_0x35fd1c,'timestamp':_0x1e7c83},_0x35fd1c;}catch(_0x543959){return _0x6d7283[_0x21e9c3(0x201)]['warn']('ðŸ¤–\x20Butler\x20Brain\x20Error:\x20'+_0x543959[_0x21e9c3(0x1da)]),decisionCache[_0x5088a1]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x1e7c83-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x21e9c3(0x202)};}}async function runGeminiAnalysis(_0x22d8a1,_0xa5d152=''){const _0x4ec8a9=a0_0x5dd85c;if(!_0x22d8a1[_0x4ec8a9(0x203)])return;if(!canCallApi()){_0x22d8a1[_0x4ec8a9(0x201)][_0x4ec8a9(0x1e3)](_0x4ec8a9(0x1be));return;}if(_0x22d8a1[_0x4ec8a9(0x1e2)][_0x4ec8a9(0x1a3)]===0x0)return;const _0x458e32=_0x22d8a1[_0x4ec8a9(0x1e2)][_0x4ec8a9(0x1db)](0x0,0xf),_0x4c1350=_0x22d8a1[_0x4ec8a9(0x1d9)],_0x569860=PERSONA_MAPPING[_0x22d8a1[_0x4ec8a9(0x1b0)][_0x4ec8a9(0x18e)]||'generic'],_0x1dc69c=_0x22d8a1[_0x4ec8a9(0x1b0)][_0x4ec8a9(0x1a7)]||'Keine\x20Details.';let _0xc4ea35=_0x4ec8a9(0x1d4);try{const _0x3192fb=await _0x22d8a1[_0x4ec8a9(0x1e6)](_0x4ec8a9(0x1cd));if(_0x3192fb&&_0x3192fb[_0x4ec8a9(0x1a6)])_0xc4ea35=_0x3192fb[_0x4ec8a9(0x1a6)];}catch(_0x393f76){}let _0x11fae4=![];try{const _0x39038e=await _0x22d8a1[_0x4ec8a9(0x1e6)]('analysis.automation.autoApply');if(_0x39038e&&_0x39038e[_0x4ec8a9(0x1a6)])_0x11fae4=!![];}catch(_0x1653e5){}const _0x3921cd='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x569860+'.\x20KONTEXT:\x20'+_0x1dc69c+_0x4ec8a9(0x1f2)+_0x4c1350+_0x4ec8a9(0x1d6)+_0xc4ea35+_0x4ec8a9(0x1e5)+JSON[_0x4ec8a9(0x1de)](_0x458e32)+_0x4ec8a9(0x19b)+_0xa5d152+_0x4ec8a9(0x1ba);try{updateApiTimestamp();const _0x5637fd=await _0x22d8a1[_0x4ec8a9(0x203)][_0x4ec8a9(0x17d)](_0x3921cd),_0x13a067=JSON[_0x4ec8a9(0x1bf)](_0x5637fd[_0x4ec8a9(0x1ec)]['text']()[_0x4ec8a9(0x1c2)](/```json|```/g,'')[_0x4ec8a9(0x1c8)]());await _0x22d8a1[_0x4ec8a9(0x1ff)]('analysis.lastResult',{'val':JSON[_0x4ec8a9(0x1de)](_0x13a067),'ack':!![]});if(_0x13a067[_0x4ec8a9(0x1c7)])await _0x22d8a1['setStateAsync'](_0x4ec8a9(0x1fa),{'val':_0x13a067['summary'],'ack':!![]});const _0x42cc63={'timestamp':Date[_0x4ec8a9(0x192)](),'id':Date['now']()[_0x4ec8a9(0x185)](),'analysis':{'activity':{'summary':_0x13a067[_0x4ec8a9(0x1c7)],'isAlert':_0x13a067[_0x4ec8a9(0x197)],'alertReason':_0x13a067[_0x4ec8a9(0x19f)]},'comfort':{'automationProposal':_0x13a067['automationProposal']}}};_0x22d8a1[_0x4ec8a9(0x1c3)][_0x4ec8a9(0x1e8)](_0x42cc63);if(_0x22d8a1['analysisHistory']['length']>0x32)_0x22d8a1[_0x4ec8a9(0x1c3)][_0x4ec8a9(0x19e)]();await _0x22d8a1[_0x4ec8a9(0x1ff)](_0x4ec8a9(0x19a),{'val':JSON[_0x4ec8a9(0x1de)](_0x22d8a1[_0x4ec8a9(0x1c3)]),'ack':!![]});const _0x5c3ea1=_0x13a067[_0x4ec8a9(0x197)]||![];_0x5c3ea1!==_0x22d8a1['lastAlertState']&&(await _0x22d8a1[_0x4ec8a9(0x1ff)]('analysis.isAlert',{'val':_0x5c3ea1,'ack':!![]}),_0x22d8a1[_0x4ec8a9(0x1eb)]=_0x5c3ea1,_0x5c3ea1&&(await _0x22d8a1[_0x4ec8a9(0x1ff)](_0x4ec8a9(0x196),{'val':_0x13a067['alertReason'],'ack':!![]}),setup[_0x4ec8a9(0x1a4)](_0x22d8a1,_0x4ec8a9(0x1ca)+_0x13a067[_0x4ec8a9(0x19f)],![],_0x13a067['isEmergency'])));if(_0x13a067[_0x4ec8a9(0x1f5)]&&_0x13a067[_0x4ec8a9(0x1f5)][_0x4ec8a9(0x1d5)]){await _0x22d8a1[_0x4ec8a9(0x1ff)](_0x4ec8a9(0x1d0),{'val':!![],'ack':!![]}),await _0x22d8a1[_0x4ec8a9(0x1ff)](_0x4ec8a9(0x1b2),{'val':_0x13a067['automationProposal']['description'],'ack':!![]}),await _0x22d8a1[_0x4ec8a9(0x1ff)](_0x4ec8a9(0x1e0),{'val':_0x13a067[_0x4ec8a9(0x1f5)][_0x4ec8a9(0x206)],'ack':!![]}),await _0x22d8a1[_0x4ec8a9(0x1ff)](_0x4ec8a9(0x1b4),{'val':JSON['stringify'](_0x13a067['automationProposal']['targetValue']),'ack':!![]});if(_0x11fae4)executeAutomationAction(_0x22d8a1);}}catch(_0x4ce9a4){_0x22d8a1[_0x4ec8a9(0x201)][_0x4ec8a9(0x1a5)](_0x4ec8a9(0x18f)+_0x4ce9a4[_0x4ec8a9(0x1da)]);}}async function createDailyDigest(_0x2702f4,_0x2b9881){const _0x26ba2f=a0_0x5dd85c;if(!_0x2702f4[_0x26ba2f(0x200)])return;if(!canCallApi()){await _0x2702f4[_0x26ba2f(0x1ff)](LTM_DP_STATUS,{'val':_0x26ba2f(0x1dd),'ack':!![]});return;}await _0x2702f4[_0x26ba2f(0x1ff)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x2702f4[_0x26ba2f(0x203)]||_0x2702f4[_0x26ba2f(0x1c4)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x2702f4[_0x26ba2f(0x1ff)](LTM_DP_STATUS,{'val':_0x26ba2f(0x195),'ack':!![]});return;}const _0x32d250=JSON[_0x26ba2f(0x1bf)](JSON[_0x26ba2f(0x1de)](_0x2702f4[_0x26ba2f(0x1c4)])),_0x8769da=_0x32d250['length'],_0x4b7a01='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON['stringify'](_0x32d250);try{updateApiTimestamp();const _0x276367=await _0x2702f4[_0x26ba2f(0x203)][_0x26ba2f(0x17d)](_0x4b7a01),_0x37f696=JSON[_0x26ba2f(0x1bf)](_0x276367[_0x26ba2f(0x1ec)][_0x26ba2f(0x180)]()['replace'](/```json|```/g,'')[_0x26ba2f(0x1c8)]()),_0x4454e3={'timestamp':new Date()['toISOString'](),'eventCount':_0x8769da,'summary':_0x37f696[_0x26ba2f(0x1c7)]||_0x26ba2f(0x18d),'activityLevel':_0x37f696['activityLevel']||'normal','systemMode':_0x2702f4['currentSystemMode']};_0x2702f4['dailyDigests'][_0x26ba2f(0x1d7)](_0x4454e3);const _0x50d8b4=_0x2702f4[_0x26ba2f(0x1b0)][_0x26ba2f(0x1af)]||0x3c;_0x2702f4[_0x26ba2f(0x1ef)][_0x26ba2f(0x1a3)]>_0x50d8b4&&_0x2702f4[_0x26ba2f(0x1ef)][_0x26ba2f(0x1ac)](0x0,_0x2702f4['dailyDigests'][_0x26ba2f(0x1a3)]-_0x50d8b4);await _0x2702f4[_0x26ba2f(0x1ff)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x26ba2f(0x1de)](_0x2702f4['dailyDigests']),'ack':!![]}),_0x2702f4[_0x26ba2f(0x1c4)]=[],await _0x2702f4[_0x26ba2f(0x1ff)](LTM_DP_RAW_LOG,{'val':JSON[_0x26ba2f(0x1de)](_0x2702f4['rawEventLog']),'ack':!![]}),await _0x2702f4[_0x26ba2f(0x1ff)](LTM_DP_STATUS,{'val':_0x26ba2f(0x1f7),'ack':!![]});const _0x2176ae=_0x26ba2f(0x1cf)+_0x37f696[_0x26ba2f(0x1c7)]+_0x26ba2f(0x1c9)+_0x37f696[_0x26ba2f(0x1e7)];setup[_0x26ba2f(0x1a4)](_0x2702f4,_0x2176ae,![],![]);if(_0x2702f4[_0x26ba2f(0x200)]&&_0x2b9881)_0x2b9881[_0x26ba2f(0x1fd)](_0x2702f4,'ANALYZE_HEALTH',{'digest':_0x4454e3});}catch(_0x27e92f){_0x2702f4['log'][_0x26ba2f(0x1a5)](_0x27e92f['message']);}}async function runBaselineDriftAnalysis(_0x262e63){const _0x1af357=a0_0x5dd85c;if(!_0x262e63[_0x1af357(0x200)]||!_0x262e63[_0x1af357(0x203)])return;if(!canCallApi())return;const _0x36a1a3=_0x262e63[_0x1af357(0x1b0)][_0x1af357(0x1cc)]||0xe;if(_0x262e63[_0x1af357(0x1ef)][_0x1af357(0x1a3)]<_0x36a1a3+0x7){await _0x262e63[_0x1af357(0x1ff)]('LTM.driftAnalysis.baselineDrift',{'val':_0x1af357(0x1e4),'ack':!![]});return;}const _0x4f558f=_0x262e63['dailyDigests'][_0x1af357(0x1db)](-_0x36a1a3),_0xa1b116=_0x262e63[_0x1af357(0x1ef)][_0x1af357(0x1db)](0x0,_0x262e63[_0x1af357(0x1ef)][_0x1af357(0x1a3)]-_0x36a1a3),_0x3f7a1c=_0x1af357(0x1f6)+JSON[_0x1af357(0x1de)](_0xa1b116)+_0x1af357(0x1dc)+JSON['stringify'](_0x4f558f);try{updateApiTimestamp();const _0x3b20c3=await _0x262e63['geminiModel'][_0x1af357(0x17d)](_0x3f7a1c),_0x249bdf=JSON[_0x1af357(0x1bf)](_0x3b20c3[_0x1af357(0x1ec)][_0x1af357(0x180)]()['replace'](/```json|```/g,'')[_0x1af357(0x1c8)]());_0x249bdf['baselineDrift']&&(await _0x262e63[_0x1af357(0x1ff)]('LTM.driftAnalysis.baselineDrift',{'val':_0x249bdf[_0x1af357(0x1e1)],'ack':!![]}),await _0x262e63['setStateAsync'](_0x1af357(0x1bd),{'val':_0x249bdf['driftDetails'],'ack':!![]}),await _0x262e63['setStateAsync'](_0x1af357(0x1ad),{'val':Date[_0x1af357(0x192)](),'ack':!![]}));}catch(_0x23eaa8){}}async function executeAutomationAction(_0x3355bd){const _0x5291fc=a0_0x5dd85c;try{const _0x554a6b=await _0x3355bd[_0x5291fc(0x1e6)](_0x5291fc(0x1e0)),_0x3b1b29=await _0x3355bd[_0x5291fc(0x1e6)](_0x5291fc(0x1b4));if(_0x554a6b&&_0x554a6b[_0x5291fc(0x1a6)]&&_0x3b1b29){const _0x42278d=_0x554a6b[_0x5291fc(0x1a6)];let _0x3cfef5=_0x3b1b29[_0x5291fc(0x1a6)];try{_0x3cfef5=JSON['parse'](_0x3cfef5);}catch(_0x2f2674){}_0x3355bd[_0x5291fc(0x201)][_0x5291fc(0x1fb)](_0x5291fc(0x1b5)+_0x42278d+'\x20=\x20'+_0x3cfef5),await _0x3355bd[_0x5291fc(0x1b9)](_0x42278d,_0x3cfef5);}else _0x3355bd[_0x5291fc(0x201)][_0x5291fc(0x182)](_0x5291fc(0x18a));}catch(_0x21ac6f){_0x3355bd[_0x5291fc(0x201)][_0x5291fc(0x1a5)](_0x5291fc(0x1ce)+_0x21ac6f[_0x5291fc(0x1da)]);}}function a0_0xf53f(_0x29a1a3,_0x39b4df){const _0x6b09fd=a0_0x5880();return a0_0xf53f=function(_0x1b9c2b,_0x349682){_0x1b9c2b=_0x1b9c2b-0x17d;let _0x588024=_0x6b09fd[_0x1b9c2b];return _0x588024;},a0_0xf53f(_0x29a1a3,_0x39b4df);}async function sendMorningBriefing(_0x59a6f1){const _0x30d219=a0_0x5dd85c;if(!_0x59a6f1[_0x30d219(0x203)]){_0x59a6f1['log']['warn'](_0x30d219(0x1ee));return;}_0x59a6f1['log'][_0x30d219(0x1fb)]('ðŸŒ…\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...');try{updateApiTimestamp();const _0x4adb55=_0x30d219(0x1d1),_0x4c66e6=await _0x59a6f1[_0x30d219(0x203)][_0x30d219(0x17d)](_0x4adb55),_0x53205e=_0x4c66e6[_0x30d219(0x1ec)]['text']();_0x59a6f1[_0x30d219(0x201)]['info'](_0x30d219(0x1bb)+_0x53205e[_0x30d219(0x1a3)]+_0x30d219(0x1a9)),setup[_0x30d219(0x1a4)](_0x59a6f1,_0x30d219(0x193)+_0x53205e);}catch(_0x4e1a68){_0x59a6f1[_0x30d219(0x201)]['error'](_0x30d219(0x187)+_0x4e1a68[_0x30d219(0x1da)]);}}module[a0_0x5dd85c(0x1ab)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};