const a0_0x3cf067=a0_0x24c9;(function(_0x16f522,_0x57daaf){const _0x4599e6=a0_0x24c9,_0x2d1bce=_0x16f522();while(!![]){try{const _0x2b5b0d=parseInt(_0x4599e6(0x181))/0x1+parseInt(_0x4599e6(0x1a5))/0x2*(-parseInt(_0x4599e6(0x190))/0x3)+-parseInt(_0x4599e6(0x154))/0x4*(parseInt(_0x4599e6(0x13f))/0x5)+-parseInt(_0x4599e6(0x16a))/0x6+-parseInt(_0x4599e6(0x164))/0x7+parseInt(_0x4599e6(0x155))/0x8+parseInt(_0x4599e6(0x12d))/0x9*(parseInt(_0x4599e6(0x170))/0xa);if(_0x2b5b0d===_0x57daaf)break;else _0x2d1bce['push'](_0x2d1bce['shift']());}catch(_0x18b329){_0x2d1bce['push'](_0x2d1bce['shift']());}}}(a0_0x4701,0x87607));const a0_0x512e98=(function(){let _0x3810dc=!![];return function(_0x2e5eeb,_0xf9edaf){const _0x5c6733=_0x3810dc?function(){const _0x2f6f47=a0_0x24c9;if(_0xf9edaf){const _0x3cea27=_0xf9edaf[_0x2f6f47(0x1a6)](_0x2e5eeb,arguments);return _0xf9edaf=null,_0x3cea27;}}:function(){};return _0x3810dc=![],_0x5c6733;};}()),a0_0x2dfe75=a0_0x512e98(this,function(){const _0x538c4a=a0_0x24c9;return a0_0x2dfe75[_0x538c4a(0x16b)]()['search']('(((.+)+)+)+$')[_0x538c4a(0x16b)]()[_0x538c4a(0x153)](a0_0x2dfe75)['search'](_0x538c4a(0x175));});a0_0x2dfe75();'use strict';const {GoogleGenerativeAI}=require(a0_0x3cf067(0x130)),setup=require(a0_0x3cf067(0x1ad)),GEMINI_MODEL=a0_0x3cf067(0x178),LTM_DP_DAILY_DIGESTS=a0_0x3cf067(0x17d),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x3cf067(0x161),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x3cf067(0x143),'senior_aal':a0_0x3cf067(0x192),'family':a0_0x3cf067(0x184),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':'Sicherheit\x20geht\x20vor.','energy_saver':a0_0x3cf067(0x149)};function canCallApi(){const _0x42cb57=a0_0x3cf067,_0x2b2e0a=Date[_0x42cb57(0x17c)]();return _0x2b2e0a-lastGlobalApiCall>MIN_API_GAP_MS;}function a0_0x4701(){const _0x31b6cc=['\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','aiPersona','dailyDigests','36TJgHjh','analysis.lastResult','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','âš ï¸\x20ALARM:\x20','.\x20KONTEXT:\x20','analysis.automation.targetValue','setStateAsync','error','timestamp','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','exports','geminiModel','alertReason','Keine\x20Details.','.\x20SYSTEM_MODE:\x20','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','analysis.activitySummary','trim','baselineDrift','toLocaleTimeString','description','97928brbNZs','apply','send','Briefing\x20Error:\x20','toISOString','Started...','ltmStbWindowDays','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','./setup',',\x20LichtverhÃ¤ltnisse:\x20','config','message','KI-Fehler\x20(Fallback)','Skipped\x20(No\x20AI\x20or\x20Data)','873THmNww','Skipped\x20(Traffic)','val','@google/generative-ai','Unbekannt\x20(Kein\x20Sensor)','stringify','targetId','.\x20ANWESEND:\x20','toFixed','weatherInstance','unshift','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','setForeignStateAsync','replace','Unbekannt','analysis.automation.autoApply','\x20Ã¼bersprungen\x20(Auto-Approved).','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','5Sgoevn','.forecast.current.state','Tag','analysis.alertReason','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','generateContent','.forecast.current.temperature','\x20=\x20','sendNotification','getStateAsync','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','Â°C,\x20','Wetterdaten\x20nicht\x20abrufbar','ðŸŒ…\x20Morning\x20Briefing:\x0a','Gemini\x20Error:\x20','push','ltmLtbWindowDays','decision','length','currentSystemMode','constructor','1705364QfPiPf','2807480SLOeuw','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','.Current.IsNight','lastAlertState','isAlert','.Current.Temperature','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','analysis.analysisHistory','approved','slice','LTM.rawEventLog','eventHistory','debug','5795944EBvXxZ','activityLevel','livingContext','LTM.driftAnalysis.baselineDrift','detected','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','3763512LRAqUw','toString','response','automationProposal','warn','.\x20EMERGENCY:\x20','224470WPuKZR',',\x20Wetter:\x20','.Current.WeatherText','analysisHistory','analysis.automation.patternDetected','(((.+)+)+)+$','summary','reason','models/gemini-flash-latest','rawEventLog','isProVersion','text','now','LTM.dailyDigests','ANALYZE_HEALTH','parse','getForeignStateAsync','495362UDEghb','analysis.isAlert','log','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','generic','BUTLER\x20Execution\x20Error:\x20','system.presenceWho','Nacht','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','analysis.automation.targetId','info','\x20->\x20'];a0_0x4701=function(){return _0x31b6cc;};return a0_0x4701();}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x4e9708){const _0x2bc179=a0_0x3cf067;if(!_0x4e9708['config']['useWeather']||!_0x4e9708['config'][_0x2bc179(0x136)])return _0x2bc179(0x131);try{const _0x296b60=_0x4e9708[_0x2bc179(0x1af)][_0x2bc179(0x136)];let _0x282925=await _0x4e9708[_0x2bc179(0x180)](_0x296b60+_0x2bc179(0x15a));if(!_0x282925)_0x282925=await _0x4e9708[_0x2bc179(0x180)](_0x296b60+_0x2bc179(0x145));let _0x217cff=await _0x4e9708[_0x2bc179(0x180)](_0x296b60+_0x2bc179(0x172));if(!_0x217cff)_0x217cff=await _0x4e9708[_0x2bc179(0x180)](_0x296b60+_0x2bc179(0x140));let _0x18f9af=_0x2bc179(0x13b);const _0x209085=await _0x4e9708[_0x2bc179(0x180)](_0x296b60+_0x2bc179(0x157));if(_0x209085)_0x18f9af=_0x209085[_0x2bc179(0x12f)]?_0x2bc179(0x188):_0x2bc179(0x141);if(_0x282925&&_0x217cff)return _0x282925[_0x2bc179(0x12f)]+_0x2bc179(0x14a)+_0x217cff[_0x2bc179(0x12f)]+_0x2bc179(0x1ae)+_0x18f9af;}catch(_0x21261c){}return _0x2bc179(0x14b);}async function consultButler(_0x1ed76b,_0x471bc0,_0x1329ea,_0x1e7cc9){const _0x442f0f=a0_0x3cf067;if(!_0x1ed76b[_0x442f0f(0x19b)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x1f00de=Date[_0x442f0f(0x17c)]();if(decisionCache[_0x471bc0]&&_0x1f00de-decisionCache[_0x471bc0][_0x442f0f(0x198)]<CACHE_TTL_MS){const _0x3b87a0=decisionCache[_0x471bc0][_0x442f0f(0x150)];return _0x1ed76b['log']['debug'](_0x442f0f(0x138)+_0x471bc0+_0x442f0f(0x18c)+(_0x3b87a0[_0x442f0f(0x15f)]?'OK':'NO')+'\x20('+_0x3b87a0[_0x442f0f(0x177)]+')'),_0x3b87a0;}if(!canCallApi())return _0x1ed76b['log'][_0x442f0f(0x163)](_0x442f0f(0x1ac)+_0x471bc0+_0x442f0f(0x13d)),{'approved':!![],'reason':'Traffic-Schutz\x20(Auto-Approved)'};const _0x24ec5b=new Date()[_0x442f0f(0x1a3)](),_0x2eeeec=await getWeatherContext(_0x1ed76b),_0x12a72c=PERSONA_MAPPING[_0x1ed76b['config'][_0x442f0f(0x18e)]||_0x442f0f(0x185)],_0x147ded=_0x442f0f(0x19f)+_0x24ec5b+_0x442f0f(0x171)+_0x2eeeec+_0x442f0f(0x169)+(_0x1e7cc9*0x64)[_0x442f0f(0x135)](0x0)+'%)\x20nach\x20\x22'+_0x471bc0+_0x442f0f(0x18d)+_0x1329ea+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x12a72c+_0x442f0f(0x13e);try{updateApiTimestamp();const _0x48a21e=await _0x1ed76b[_0x442f0f(0x19b)][_0x442f0f(0x144)](_0x147ded),_0x2594f7=_0x48a21e['response'][_0x442f0f(0x17b)]()[_0x442f0f(0x13a)](/```json|```/g,'')[_0x442f0f(0x1a1)](),_0x28e806=JSON[_0x442f0f(0x17f)](_0x2594f7);return decisionCache[_0x471bc0]={'decision':_0x28e806,'timestamp':_0x1f00de},_0x28e806;}catch(_0x4f3931){return _0x1ed76b[_0x442f0f(0x183)][_0x442f0f(0x16e)](_0x442f0f(0x15b)+_0x4f3931[_0x442f0f(0x1b0)]),decisionCache[_0x471bc0]={'decision':{'approved':!![],'reason':_0x442f0f(0x1b1)},'timestamp':_0x1f00de-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x442f0f(0x1b1)};}}async function runGeminiAnalysis(_0x16da27,_0x112dec=''){const _0x316d02=a0_0x3cf067;if(!_0x16da27[_0x316d02(0x19b)])return;if(!canCallApi()){_0x16da27['log'][_0x316d02(0x163)](_0x316d02(0x15d));return;}if(_0x16da27[_0x316d02(0x162)][_0x316d02(0x151)]===0x0)return;const _0x1548bd=_0x16da27['eventHistory'][_0x316d02(0x160)](0x0,0xf),_0x4eeb5b=_0x16da27[_0x316d02(0x152)],_0x9e26d7=PERSONA_MAPPING[_0x16da27[_0x316d02(0x1af)][_0x316d02(0x18e)]||_0x316d02(0x185)],_0x3e5c73=_0x16da27[_0x316d02(0x1af)][_0x316d02(0x166)]||_0x316d02(0x19d);let _0x2dd1a7=_0x316d02(0x13b);try{const _0x499095=await _0x16da27[_0x316d02(0x148)](_0x316d02(0x187));if(_0x499095&&_0x499095[_0x316d02(0x12f)])_0x2dd1a7=_0x499095[_0x316d02(0x12f)];}catch(_0x3b6eef){}let _0x4a623c=![];try{const _0x5b8b19=await _0x16da27[_0x316d02(0x148)](_0x316d02(0x13c));if(_0x5b8b19&&_0x5b8b19[_0x316d02(0x12f)])_0x4a623c=!![];}catch(_0x47649d){}const _0x4c0063=_0x316d02(0x189)+_0x9e26d7+_0x316d02(0x194)+_0x3e5c73+_0x316d02(0x19e)+_0x4eeb5b+_0x316d02(0x134)+_0x2dd1a7+'.\x20EVENTS:\x20'+JSON[_0x316d02(0x132)](_0x1548bd)+_0x316d02(0x16f)+_0x112dec+_0x316d02(0x199);try{updateApiTimestamp();const _0x48ce83=await _0x16da27[_0x316d02(0x19b)][_0x316d02(0x144)](_0x4c0063),_0x204b33=JSON[_0x316d02(0x17f)](_0x48ce83[_0x316d02(0x16c)]['text']()[_0x316d02(0x13a)](/```json|```/g,'')[_0x316d02(0x1a1)]());await _0x16da27[_0x316d02(0x196)](_0x316d02(0x191),{'val':JSON[_0x316d02(0x132)](_0x204b33),'ack':!![]});if(_0x204b33['summary'])await _0x16da27[_0x316d02(0x196)](_0x316d02(0x1a0),{'val':_0x204b33[_0x316d02(0x176)],'ack':!![]});const _0x40c27c={'timestamp':Date['now'](),'id':Date[_0x316d02(0x17c)]()[_0x316d02(0x16b)](),'analysis':{'activity':{'summary':_0x204b33['summary'],'isAlert':_0x204b33[_0x316d02(0x159)],'alertReason':_0x204b33[_0x316d02(0x19c)]},'comfort':{'automationProposal':_0x204b33[_0x316d02(0x16d)]}}};_0x16da27[_0x316d02(0x173)][_0x316d02(0x137)](_0x40c27c);if(_0x16da27['analysisHistory'][_0x316d02(0x151)]>0x32)_0x16da27['analysisHistory']['pop']();await _0x16da27[_0x316d02(0x196)](_0x316d02(0x15e),{'val':JSON[_0x316d02(0x132)](_0x16da27[_0x316d02(0x173)]),'ack':!![]});const _0x4a4a19=_0x204b33[_0x316d02(0x159)]||![];_0x4a4a19!==_0x16da27[_0x316d02(0x158)]&&(await _0x16da27[_0x316d02(0x196)](_0x316d02(0x182),{'val':_0x4a4a19,'ack':!![]}),_0x16da27[_0x316d02(0x158)]=_0x4a4a19,_0x4a4a19&&(await _0x16da27['setStateAsync'](_0x316d02(0x142),{'val':_0x204b33[_0x316d02(0x19c)],'ack':!![]}),setup[_0x316d02(0x147)](_0x16da27,_0x316d02(0x193)+_0x204b33[_0x316d02(0x19c)],![],_0x204b33['isEmergency'])));if(_0x204b33[_0x316d02(0x16d)]&&_0x204b33['automationProposal'][_0x316d02(0x168)]){await _0x16da27[_0x316d02(0x196)](_0x316d02(0x174),{'val':!![],'ack':!![]}),await _0x16da27[_0x316d02(0x196)]('analysis.automation.description',{'val':_0x204b33['automationProposal'][_0x316d02(0x1a4)],'ack':!![]}),await _0x16da27[_0x316d02(0x196)]('analysis.automation.targetId',{'val':_0x204b33[_0x316d02(0x16d)][_0x316d02(0x133)],'ack':!![]}),await _0x16da27['setStateAsync'](_0x316d02(0x195),{'val':JSON[_0x316d02(0x132)](_0x204b33[_0x316d02(0x16d)]['targetValue']),'ack':!![]});if(_0x4a623c)executeAutomationAction(_0x16da27);}}catch(_0x19f3b8){_0x16da27[_0x316d02(0x183)][_0x316d02(0x197)](_0x316d02(0x14d)+_0x19f3b8[_0x316d02(0x1b0)]);}}function a0_0x24c9(_0x58be84,_0x735289){const _0x9b032d=a0_0x4701();return a0_0x24c9=function(_0x2dfe75,_0x512e98){_0x2dfe75=_0x2dfe75-0x12c;let _0x4701f4=_0x9b032d[_0x2dfe75];return _0x4701f4;},a0_0x24c9(_0x58be84,_0x735289);}async function createDailyDigest(_0x529686,_0xb9cf){const _0x409b5a=a0_0x3cf067;if(!_0x529686[_0x409b5a(0x17a)])return;if(!canCallApi()){await _0x529686['setStateAsync'](LTM_DP_STATUS,{'val':_0x409b5a(0x12e),'ack':!![]});return;}await _0x529686[_0x409b5a(0x196)](LTM_DP_STATUS,{'val':_0x409b5a(0x1aa),'ack':!![]});if(!_0x529686[_0x409b5a(0x19b)]||_0x529686[_0x409b5a(0x179)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x529686[_0x409b5a(0x196)](LTM_DP_STATUS,{'val':_0x409b5a(0x12c),'ack':!![]});return;}const _0x56917e=JSON[_0x409b5a(0x17f)](JSON['stringify'](_0x529686[_0x409b5a(0x179)])),_0x4539cd=_0x56917e[_0x409b5a(0x151)],_0x4bfae8='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON['stringify'](_0x56917e);try{updateApiTimestamp();const _0x41831e=await _0x529686[_0x409b5a(0x19b)][_0x409b5a(0x144)](_0x4bfae8),_0x1075cc=JSON[_0x409b5a(0x17f)](_0x41831e[_0x409b5a(0x16c)][_0x409b5a(0x17b)]()['replace'](/```json|```/g,'')[_0x409b5a(0x1a1)]()),_0x26d731={'timestamp':new Date()[_0x409b5a(0x1a9)](),'eventCount':_0x4539cd,'summary':_0x1075cc[_0x409b5a(0x176)]||'Digest','activityLevel':_0x1075cc[_0x409b5a(0x165)]||'normal','systemMode':_0x529686[_0x409b5a(0x152)]};_0x529686[_0x409b5a(0x18f)][_0x409b5a(0x14e)](_0x26d731);const _0x94e8fc=_0x529686[_0x409b5a(0x1af)][_0x409b5a(0x14f)]||0x3c;_0x529686[_0x409b5a(0x18f)][_0x409b5a(0x151)]>_0x94e8fc&&_0x529686[_0x409b5a(0x18f)]['splice'](0x0,_0x529686[_0x409b5a(0x18f)][_0x409b5a(0x151)]-_0x94e8fc);await _0x529686[_0x409b5a(0x196)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x409b5a(0x132)](_0x529686[_0x409b5a(0x18f)]),'ack':!![]}),_0x529686[_0x409b5a(0x179)]=[],await _0x529686[_0x409b5a(0x196)](LTM_DP_RAW_LOG,{'val':JSON[_0x409b5a(0x132)](_0x529686['rawEventLog']),'ack':!![]}),await _0x529686[_0x409b5a(0x196)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x529686[_0x409b5a(0x17a)]&&_0xb9cf)_0xb9cf[_0x409b5a(0x1a7)](_0x529686,_0x409b5a(0x17e),{'digest':_0x26d731});}catch(_0x42884d){_0x529686[_0x409b5a(0x183)][_0x409b5a(0x197)](_0x42884d[_0x409b5a(0x1b0)]);}}async function runBaselineDriftAnalysis(_0x511f0b){const _0x58c524=a0_0x3cf067;if(!_0x511f0b[_0x58c524(0x17a)]||!_0x511f0b[_0x58c524(0x19b)])return;if(!canCallApi())return;const _0x1bfb78=_0x511f0b[_0x58c524(0x1af)][_0x58c524(0x1ab)]||0xe;if(_0x511f0b[_0x58c524(0x18f)][_0x58c524(0x151)]<_0x1bfb78+0x7){await _0x511f0b[_0x58c524(0x196)](_0x58c524(0x167),{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x5a2046=_0x511f0b[_0x58c524(0x18f)]['slice'](-_0x1bfb78),_0x91a256=_0x511f0b[_0x58c524(0x18f)][_0x58c524(0x160)](0x0,_0x511f0b[_0x58c524(0x18f)][_0x58c524(0x151)]-_0x1bfb78),_0x1a4e33=_0x58c524(0x156)+JSON['stringify'](_0x91a256)+'\x0aSTB:\x20'+JSON[_0x58c524(0x132)](_0x5a2046);try{updateApiTimestamp();const _0x432f31=await _0x511f0b[_0x58c524(0x19b)]['generateContent'](_0x1a4e33),_0x13a42c=JSON['parse'](_0x432f31[_0x58c524(0x16c)]['text']()['replace'](/```json|```/g,'')[_0x58c524(0x1a1)]());_0x13a42c[_0x58c524(0x1a2)]&&(await _0x511f0b[_0x58c524(0x196)](_0x58c524(0x167),{'val':_0x13a42c[_0x58c524(0x1a2)],'ack':!![]}),await _0x511f0b[_0x58c524(0x196)]('LTM.driftAnalysis.driftDetails',{'val':_0x13a42c['driftDetails'],'ack':!![]}),await _0x511f0b[_0x58c524(0x196)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x58c524(0x17c)](),'ack':!![]}));}catch(_0xaebcd5){}}async function executeAutomationAction(_0x1b6e6d){const _0x79b3aa=a0_0x3cf067;try{const _0x40f472=await _0x1b6e6d[_0x79b3aa(0x148)](_0x79b3aa(0x18a)),_0x51331c=await _0x1b6e6d[_0x79b3aa(0x148)](_0x79b3aa(0x195));if(_0x40f472&&_0x40f472[_0x79b3aa(0x12f)]&&_0x51331c){const _0x3e9542=_0x40f472['val'];let _0x262745=_0x51331c[_0x79b3aa(0x12f)];try{_0x262745=JSON[_0x79b3aa(0x17f)](_0x262745);}catch(_0x30a5eb){}_0x1b6e6d[_0x79b3aa(0x183)][_0x79b3aa(0x18b)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x3e9542+_0x79b3aa(0x146)+_0x262745),await _0x1b6e6d[_0x79b3aa(0x139)](_0x3e9542,_0x262745);}else _0x1b6e6d[_0x79b3aa(0x183)]['warn'](_0x79b3aa(0x15c));}catch(_0x5aa7b8){_0x1b6e6d[_0x79b3aa(0x183)][_0x79b3aa(0x197)](_0x79b3aa(0x186)+_0x5aa7b8['message']);}}async function sendMorningBriefing(_0x4451c7){const _0x389951=a0_0x3cf067;if(!_0x4451c7[_0x389951(0x19b)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0xee15e0='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0x16cb89=await _0x4451c7[_0x389951(0x19b)][_0x389951(0x144)](_0xee15e0),_0x2014c1=_0x16cb89[_0x389951(0x16c)][_0x389951(0x17b)]();setup['sendNotification'](_0x4451c7,_0x389951(0x14c)+_0x2014c1);}catch(_0x3faf2b){_0x4451c7[_0x389951(0x183)]['error'](_0x389951(0x1a8)+_0x3faf2b[_0x389951(0x1b0)]);}}module[a0_0x3cf067(0x19a)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};