function a0_0x1ae0(){const _0x4c0bbc=['üìÖ\x20Daily\x20Digest:\x0a','error','useWeather','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','system.presenceWho','(((.+)+)+)+$','alertReason','generateContent','LTM.rawEventLog','exports','LTM.dailyDigests','baselineDrift','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','Traffic-Schutz\x20(Auto-Approved)','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','toString','LTM.driftAnalysis.lastCheck','BUTLER\x20Execution\x20Error:\x20','üåÖ\x20Morning\x20Briefing:\x0a','search','reason','length','Unbekannt','eventHistory','¬∞C,\x20','\x0aSTB:\x20','sendNotification','isEmergency','Digest','driftDetails','.\x20EVENTS:\x20','debug','rawEventLog','push','LTM.driftAnalysis.driftDetails','Skipped\x20(Traffic)','warn','toISOString','ANALYZE_HEALTH','2654036JtnuxF','config','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','Tag','getStateAsync',',\x20Lichtverh√§ltnisse:\x20','.Current.WeatherText','slice','currentSystemMode','geminiModel','targetId','2XUVnSp','lastAlertState','analysis.activitySummary','dailyDigests','weatherInstance','parse','description','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).',').\x20Sending\x20notification...','response','4254UMEjtM','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','val','pop','apply','Keine\x20Details.','LTM.processingStatus','livingContext','trim','\x0aAktivit√§t:\x20','analysis.lastResult','summary','send','setForeignStateAsync','aiPersona','490XyxFuM','Unbekannt\x20(Kein\x20Sensor)','üåÖ\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','analysisHistory','text','\x20√ºbersprungen\x20(Auto-Approved).','getForeignStateAsync','2229102fkODyW','unshift','toFixed','420nircGv','Skipped\x20(No\x20AI\x20or\x20Data)','generic','48323ErjVpp','models/gemini-flash-latest','isProVersion','\x20->\x20','Sicherheit\x20geht\x20vor.','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','analysis.automation.targetValue','stringify','timestamp','./setup','now','isAlert','.forecast.current.temperature','toLocaleTimeString','ltmStbWindowDays','setStateAsync','254615coAUUE','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','activityLevel','message','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','3291456ICumkQ','constructor','.\x20SYSTEM_MODE:\x20','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','1764QqZXQI','Gemini\x20Error:\x20','analysis.alertReason','analysis.automation.autoApply','KI-Fehler\x20(Fallback)','targetValue','.\x20KONTEXT:\x20','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','.Current.IsNight','Briefing\x20Error:\x20','LTM.driftAnalysis.baselineDrift','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','1945IRnToM','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','ü§ñ\x20Butler\x20Brain\x20Error:\x20','info','.Current.Temperature','replace','log','automationProposal','%)\x20nach\x20\x22','Success'];a0_0x1ae0=function(){return _0x4c0bbc;};return a0_0x1ae0();}const a0_0x5bb5f8=a0_0x236d;(function(_0xf10c77,_0x40b0dd){const _0x537bc5=a0_0x236d,_0x4dd70d=_0xf10c77();while(!![]){try{const _0x7649e4=-parseInt(_0x537bc5(0x9f))/0x1*(-parseInt(_0x537bc5(0xf1))/0x2)+-parseInt(_0x537bc5(0x114))/0x3*(parseInt(_0x537bc5(0xa8))/0x4)+parseInt(_0x537bc5(0xb4))/0x5*(-parseInt(_0x537bc5(0xfb))/0x6)+parseInt(_0x537bc5(0xe6))/0x7+parseInt(_0x537bc5(0xa4))/0x8+-parseInt(_0x537bc5(0x111))/0x9+-parseInt(_0x537bc5(0x10a))/0xa*(parseInt(_0x537bc5(0x117))/0xb);if(_0x7649e4===_0x40b0dd)break;else _0x4dd70d['push'](_0x4dd70d['shift']());}catch(_0x9ef86f){_0x4dd70d['push'](_0x4dd70d['shift']());}}}(a0_0x1ae0,0x3bbef));const a0_0x580cb7=(function(){let _0x3e979d=!![];return function(_0x5d1e6c,_0x9e48ae){const _0x504b1a=_0x3e979d?function(){const _0x387323=a0_0x236d;if(_0x9e48ae){const _0x2dc49d=_0x9e48ae[_0x387323(0xff)](_0x5d1e6c,arguments);return _0x9e48ae=null,_0x2dc49d;}}:function(){};return _0x3e979d=![],_0x504b1a;};}()),a0_0x2e8250=a0_0x580cb7(this,function(){const _0x4c616d=a0_0x236d;return a0_0x2e8250[_0x4c616d(0xce)]()[_0x4c616d(0xd2)](_0x4c616d(0xc4))[_0x4c616d(0xce)]()[_0x4c616d(0xa5)](a0_0x2e8250)[_0x4c616d(0xd2)](_0x4c616d(0xc4));});a0_0x2e8250();'use strict';const {GoogleGenerativeAI}=require('@google/generative-ai'),setup=require(a0_0x5bb5f8(0x120)),GEMINI_MODEL=a0_0x5bb5f8(0x118),LTM_DP_DAILY_DIGESTS=a0_0x5bb5f8(0xc9),LTM_DP_STATUS=a0_0x5bb5f8(0x101),LTM_DP_RAW_LOG=a0_0x5bb5f8(0xc7),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x5bb5f8(0xaf),'senior_aal':a0_0x5bb5f8(0xa0),'family':a0_0x5bb5f8(0xc2),'single_comfort':a0_0x5bb5f8(0xc1),'security':a0_0x5bb5f8(0x11b),'energy_saver':a0_0x5bb5f8(0xf8)};function canCallApi(){const _0x3d61b8=a0_0x5bb5f8,_0x3ef9df=Date[_0x3d61b8(0x121)]();return _0x3ef9df-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x9cd800=a0_0x5bb5f8;lastGlobalApiCall=Date[_0x9cd800(0x121)]();}async function getWeatherContext(_0x215fd2){const _0x454191=a0_0x5bb5f8;if(!_0x215fd2[_0x454191(0xe7)][_0x454191(0xc0)]||!_0x215fd2[_0x454191(0xe7)]['weatherInstance'])return _0x454191(0x10b);try{const _0x2dd3c2=_0x215fd2[_0x454191(0xe7)][_0x454191(0xf5)];let _0x322ca1=await _0x215fd2['getForeignStateAsync'](_0x2dd3c2+_0x454191(0xb8));if(!_0x322ca1)_0x322ca1=await _0x215fd2[_0x454191(0x110)](_0x2dd3c2+_0x454191(0x123));let _0x454ee5=await _0x215fd2[_0x454191(0x110)](_0x2dd3c2+_0x454191(0xec));if(!_0x454ee5)_0x454ee5=await _0x215fd2[_0x454191(0x110)](_0x2dd3c2+'.forecast.current.state');let _0x553a0a=_0x454191(0xd5);const _0x5045a7=await _0x215fd2['getForeignStateAsync'](_0x2dd3c2+_0x454191(0xb0));if(_0x5045a7)_0x553a0a=_0x5045a7[_0x454191(0xfd)]?'Nacht':_0x454191(0xe9);if(_0x322ca1&&_0x454ee5)return _0x322ca1['val']+_0x454191(0xd7)+_0x454ee5['val']+_0x454191(0xeb)+_0x553a0a;}catch(_0x564040){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x1868a8,_0x169bc9,_0x2e3b8f,_0x5e9e9d){const _0x5d7b35=a0_0x5bb5f8;if(!_0x1868a8[_0x5d7b35(0xef)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x1702c1=Date[_0x5d7b35(0x121)]();if(decisionCache[_0x169bc9]&&_0x1702c1-decisionCache[_0x169bc9][_0x5d7b35(0x11f)]<CACHE_TTL_MS){const _0x3acb6d=decisionCache[_0x169bc9]['decision'];return _0x1868a8['log'][_0x5d7b35(0xde)](_0x5d7b35(0xcd)+_0x169bc9+_0x5d7b35(0x11a)+(_0x3acb6d['approved']?'OK':'NO')+'\x20('+_0x3acb6d[_0x5d7b35(0xd3)]+')'),_0x3acb6d;}if(!canCallApi())return _0x1868a8['log'][_0x5d7b35(0xde)](_0x5d7b35(0xe8)+_0x169bc9+_0x5d7b35(0x10f)),{'approved':!![],'reason':_0x5d7b35(0xcc)};const _0x37c009=new Date()[_0x5d7b35(0x9c)](),_0xab6509=await getWeatherContext(_0x1868a8),_0xe08144=PERSONA_MAPPING[_0x1868a8[_0x5d7b35(0xe7)][_0x5d7b35(0x109)]||'generic'],_0x35943b='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x37c009+',\x20Wetter:\x20'+_0xab6509+_0x5d7b35(0xb3)+(_0x5e9e9d*0x64)[_0x5d7b35(0x113)](0x0)+_0x5d7b35(0xbc)+_0x169bc9+_0x5d7b35(0x11c)+_0x2e3b8f+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0xe08144+_0x5d7b35(0xa7);try{updateApiTimestamp();const _0x81dcfe=await _0x1868a8['geminiModel'][_0x5d7b35(0xc6)](_0x35943b),_0x284172=_0x81dcfe[_0x5d7b35(0xfa)][_0x5d7b35(0x10e)]()[_0x5d7b35(0xb9)](/```json|```/g,'')[_0x5d7b35(0x103)](),_0x3fa187=JSON[_0x5d7b35(0xf6)](_0x284172);return decisionCache[_0x169bc9]={'decision':_0x3fa187,'timestamp':_0x1702c1},_0x3fa187;}catch(_0x567309){return _0x1868a8[_0x5d7b35(0xba)][_0x5d7b35(0xe3)](_0x5d7b35(0xb6)+_0x567309[_0x5d7b35(0xa2)]),decisionCache[_0x169bc9]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x1702c1-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x5d7b35(0xac)};}}function a0_0x236d(_0x461186,_0x1d9171){const _0x3d437f=a0_0x1ae0();return a0_0x236d=function(_0x2e8250,_0x580cb7){_0x2e8250=_0x2e8250-0x9c;let _0x1ae05e=_0x3d437f[_0x2e8250];return _0x1ae05e;},a0_0x236d(_0x461186,_0x1d9171);}async function runGeminiAnalysis(_0x527b3a,_0x82d709=''){const _0x2f7e33=a0_0x5bb5f8;if(!_0x527b3a[_0x2f7e33(0xef)])return;if(!canCallApi()){_0x527b3a[_0x2f7e33(0xba)]['debug']('ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x527b3a[_0x2f7e33(0xd6)][_0x2f7e33(0xd4)]===0x0)return;const _0x3c0bc1=_0x527b3a['eventHistory']['slice'](0x0,0xf),_0x66af61=_0x527b3a[_0x2f7e33(0xee)],_0x5e1390=PERSONA_MAPPING[_0x527b3a[_0x2f7e33(0xe7)][_0x2f7e33(0x109)]||_0x2f7e33(0x116)],_0x19240e=_0x527b3a[_0x2f7e33(0xe7)][_0x2f7e33(0x102)]||_0x2f7e33(0x100);let _0x1ff5a5=_0x2f7e33(0xd5);try{const _0x293f61=await _0x527b3a[_0x2f7e33(0xea)](_0x2f7e33(0xc3));if(_0x293f61&&_0x293f61['val'])_0x1ff5a5=_0x293f61['val'];}catch(_0x2da2ae){}let _0x4bd20f=![];try{const _0xc38488=await _0x527b3a['getStateAsync'](_0x2f7e33(0xab));if(_0xc38488&&_0xc38488[_0x2f7e33(0xfd)])_0x4bd20f=!![];}catch(_0x560ade){}const _0x473398=_0x2f7e33(0xb5)+_0x5e1390+_0x2f7e33(0xae)+_0x19240e+_0x2f7e33(0xa6)+_0x66af61+'.\x20ANWESEND:\x20'+_0x1ff5a5+_0x2f7e33(0xdd)+JSON[_0x2f7e33(0x11e)](_0x3c0bc1)+'.\x20EMERGENCY:\x20'+_0x82d709+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x3cbe53=await _0x527b3a[_0x2f7e33(0xef)][_0x2f7e33(0xc6)](_0x473398),_0x428f5d=JSON[_0x2f7e33(0xf6)](_0x3cbe53[_0x2f7e33(0xfa)][_0x2f7e33(0x10e)]()['replace'](/```json|```/g,'')[_0x2f7e33(0x103)]());await _0x527b3a['setStateAsync'](_0x2f7e33(0x105),{'val':JSON[_0x2f7e33(0x11e)](_0x428f5d),'ack':!![]});if(_0x428f5d[_0x2f7e33(0x106)])await _0x527b3a['setStateAsync'](_0x2f7e33(0xf3),{'val':_0x428f5d[_0x2f7e33(0x106)],'ack':!![]});const _0x460217={'timestamp':Date[_0x2f7e33(0x121)](),'id':Date['now']()[_0x2f7e33(0xce)](),'analysis':{'activity':{'summary':_0x428f5d[_0x2f7e33(0x106)],'isAlert':_0x428f5d['isAlert'],'alertReason':_0x428f5d[_0x2f7e33(0xc5)]},'comfort':{'automationProposal':_0x428f5d[_0x2f7e33(0xbb)]}}};_0x527b3a[_0x2f7e33(0x10d)][_0x2f7e33(0x112)](_0x460217);if(_0x527b3a[_0x2f7e33(0x10d)]['length']>0x32)_0x527b3a[_0x2f7e33(0x10d)][_0x2f7e33(0xfe)]();await _0x527b3a['setStateAsync']('analysis.analysisHistory',{'val':JSON['stringify'](_0x527b3a['analysisHistory']),'ack':!![]});const _0x59cb7a=_0x428f5d[_0x2f7e33(0x122)]||![];_0x59cb7a!==_0x527b3a[_0x2f7e33(0xf2)]&&(await _0x527b3a[_0x2f7e33(0x9e)]('analysis.isAlert',{'val':_0x59cb7a,'ack':!![]}),_0x527b3a[_0x2f7e33(0xf2)]=_0x59cb7a,_0x59cb7a&&(await _0x527b3a[_0x2f7e33(0x9e)](_0x2f7e33(0xaa),{'val':_0x428f5d[_0x2f7e33(0xc5)],'ack':!![]}),setup[_0x2f7e33(0xd9)](_0x527b3a,'‚ö†Ô∏è\x20ALARM:\x20'+_0x428f5d[_0x2f7e33(0xc5)],![],_0x428f5d[_0x2f7e33(0xda)])));if(_0x428f5d[_0x2f7e33(0xbb)]&&_0x428f5d['automationProposal']['detected']){await _0x527b3a['setStateAsync']('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x527b3a[_0x2f7e33(0x9e)]('analysis.automation.description',{'val':_0x428f5d['automationProposal'][_0x2f7e33(0xf7)],'ack':!![]}),await _0x527b3a['setStateAsync']('analysis.automation.targetId',{'val':_0x428f5d[_0x2f7e33(0xbb)][_0x2f7e33(0xf0)],'ack':!![]}),await _0x527b3a[_0x2f7e33(0x9e)](_0x2f7e33(0x11d),{'val':JSON[_0x2f7e33(0x11e)](_0x428f5d[_0x2f7e33(0xbb)][_0x2f7e33(0xad)]),'ack':!![]});if(_0x4bd20f)executeAutomationAction(_0x527b3a);}}catch(_0x39f32f){_0x527b3a['log'][_0x2f7e33(0xbf)](_0x2f7e33(0xa9)+_0x39f32f[_0x2f7e33(0xa2)]);}}async function createDailyDigest(_0x1b20c6,_0xaa8d97){const _0x4a601d=a0_0x5bb5f8;if(!_0x1b20c6[_0x4a601d(0x119)])return;if(!canCallApi()){await _0x1b20c6[_0x4a601d(0x9e)](LTM_DP_STATUS,{'val':_0x4a601d(0xe2),'ack':!![]});return;}await _0x1b20c6[_0x4a601d(0x9e)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x1b20c6[_0x4a601d(0xef)]||_0x1b20c6[_0x4a601d(0xdf)][_0x4a601d(0xd4)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1b20c6[_0x4a601d(0x9e)](LTM_DP_STATUS,{'val':_0x4a601d(0x115),'ack':!![]});return;}const _0x795874=JSON[_0x4a601d(0xf6)](JSON[_0x4a601d(0x11e)](_0x1b20c6[_0x4a601d(0xdf)])),_0x13076a=_0x795874['length'],_0x3b4bfb=_0x4a601d(0xfc)+JSON[_0x4a601d(0x11e)](_0x795874);try{updateApiTimestamp();const _0x4fc6a8=await _0x1b20c6[_0x4a601d(0xef)]['generateContent'](_0x3b4bfb),_0x3c2044=JSON[_0x4a601d(0xf6)](_0x4fc6a8[_0x4a601d(0xfa)][_0x4a601d(0x10e)]()[_0x4a601d(0xb9)](/```json|```/g,'')[_0x4a601d(0x103)]()),_0x128a9e={'timestamp':new Date()[_0x4a601d(0xe4)](),'eventCount':_0x13076a,'summary':_0x3c2044[_0x4a601d(0x106)]||_0x4a601d(0xdb),'activityLevel':_0x3c2044[_0x4a601d(0xa1)]||'normal','systemMode':_0x1b20c6[_0x4a601d(0xee)]};_0x1b20c6['dailyDigests'][_0x4a601d(0xe0)](_0x128a9e);const _0x39083d=_0x1b20c6['config']['ltmLtbWindowDays']||0x3c;_0x1b20c6[_0x4a601d(0xf4)]['length']>_0x39083d&&_0x1b20c6[_0x4a601d(0xf4)]['splice'](0x0,_0x1b20c6['dailyDigests'][_0x4a601d(0xd4)]-_0x39083d);await _0x1b20c6['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4a601d(0x11e)](_0x1b20c6[_0x4a601d(0xf4)]),'ack':!![]}),_0x1b20c6[_0x4a601d(0xdf)]=[],await _0x1b20c6[_0x4a601d(0x9e)](LTM_DP_RAW_LOG,{'val':JSON[_0x4a601d(0x11e)](_0x1b20c6['rawEventLog']),'ack':!![]}),await _0x1b20c6['setStateAsync'](LTM_DP_STATUS,{'val':_0x4a601d(0xbd),'ack':!![]});const _0x129122=_0x4a601d(0xbe)+_0x3c2044[_0x4a601d(0x106)]+_0x4a601d(0x104)+_0x3c2044['activityLevel'];setup[_0x4a601d(0xd9)](_0x1b20c6,_0x129122,![],![]);if(_0x1b20c6['isProVersion']&&_0xaa8d97)_0xaa8d97[_0x4a601d(0x107)](_0x1b20c6,_0x4a601d(0xe5),{'digest':_0x128a9e});}catch(_0xaabba7){_0x1b20c6[_0x4a601d(0xba)]['error'](_0xaabba7['message']);}}async function runBaselineDriftAnalysis(_0x470e28){const _0x14864a=a0_0x5bb5f8;if(!_0x470e28[_0x14864a(0x119)]||!_0x470e28[_0x14864a(0xef)])return;if(!canCallApi())return;const _0x3461ce=_0x470e28[_0x14864a(0xe7)][_0x14864a(0x9d)]||0xe;if(_0x470e28[_0x14864a(0xf4)][_0x14864a(0xd4)]<_0x3461ce+0x7){await _0x470e28[_0x14864a(0x9e)](_0x14864a(0xb2),{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x5cf55f=_0x470e28[_0x14864a(0xf4)][_0x14864a(0xed)](-_0x3461ce),_0x30f16f=_0x470e28['dailyDigests'][_0x14864a(0xed)](0x0,_0x470e28[_0x14864a(0xf4)]['length']-_0x3461ce),_0x200a49='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON['stringify'](_0x30f16f)+_0x14864a(0xd8)+JSON[_0x14864a(0x11e)](_0x5cf55f);try{updateApiTimestamp();const _0x466ebc=await _0x470e28[_0x14864a(0xef)][_0x14864a(0xc6)](_0x200a49),_0x549b05=JSON[_0x14864a(0xf6)](_0x466ebc[_0x14864a(0xfa)][_0x14864a(0x10e)]()[_0x14864a(0xb9)](/```json|```/g,'')[_0x14864a(0x103)]());_0x549b05[_0x14864a(0xca)]&&(await _0x470e28['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x549b05[_0x14864a(0xca)],'ack':!![]}),await _0x470e28[_0x14864a(0x9e)](_0x14864a(0xe1),{'val':_0x549b05[_0x14864a(0xdc)],'ack':!![]}),await _0x470e28[_0x14864a(0x9e)](_0x14864a(0xcf),{'val':Date['now'](),'ack':!![]}));}catch(_0x4e406a){}}async function executeAutomationAction(_0x37fb07){const _0x4e7adf=a0_0x5bb5f8;try{const _0x8a3798=await _0x37fb07[_0x4e7adf(0xea)]('analysis.automation.targetId'),_0x50b69d=await _0x37fb07[_0x4e7adf(0xea)]('analysis.automation.targetValue');if(_0x8a3798&&_0x8a3798['val']&&_0x50b69d){const _0x64542c=_0x8a3798[_0x4e7adf(0xfd)];let _0x3f70c5=_0x50b69d[_0x4e7adf(0xfd)];try{_0x3f70c5=JSON['parse'](_0x3f70c5);}catch(_0x58a4c3){}_0x37fb07[_0x4e7adf(0xba)][_0x4e7adf(0xb7)](_0x4e7adf(0xa3)+_0x64542c+'\x20=\x20'+_0x3f70c5),await _0x37fb07[_0x4e7adf(0x108)](_0x64542c,_0x3f70c5);}else _0x37fb07['log'][_0x4e7adf(0xe3)]('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x3216db){_0x37fb07[_0x4e7adf(0xba)][_0x4e7adf(0xbf)](_0x4e7adf(0xd0)+_0x3216db[_0x4e7adf(0xa2)]);}}async function sendMorningBriefing(_0x4402e0){const _0x3cc4fa=a0_0x5bb5f8;if(!_0x4402e0[_0x3cc4fa(0xef)]){_0x4402e0[_0x3cc4fa(0xba)][_0x3cc4fa(0xe3)]('ü§ñ\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.');return;}_0x4402e0[_0x3cc4fa(0xba)][_0x3cc4fa(0xb7)](_0x3cc4fa(0x10c));try{updateApiTimestamp();const _0x2c59d1=_0x3cc4fa(0xcb),_0xecbdc7=await _0x4402e0['geminiModel'][_0x3cc4fa(0xc6)](_0x2c59d1),_0x53c022=_0xecbdc7[_0x3cc4fa(0xfa)][_0x3cc4fa(0x10e)]();_0x4402e0[_0x3cc4fa(0xba)][_0x3cc4fa(0xb7)]('üåÖ\x20Briefing\x20generated\x20(Length:\x20'+_0x53c022[_0x3cc4fa(0xd4)]+_0x3cc4fa(0xf9)),setup[_0x3cc4fa(0xd9)](_0x4402e0,_0x3cc4fa(0xd1)+_0x53c022);}catch(_0x5a1041){_0x4402e0[_0x3cc4fa(0xba)][_0x3cc4fa(0xbf)](_0x3cc4fa(0xb1)+_0x5a1041[_0x3cc4fa(0xa2)]);}}module[a0_0x5bb5f8(0xc8)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};