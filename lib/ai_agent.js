const a0_0x187c45=a0_0x5931;(function(_0x4ecb26,_0x34448c){const _0xc565c2=a0_0x5931,_0xc2ea88=_0x4ecb26();while(!![]){try{const _0x2d4139=parseInt(_0xc565c2(0x12c))/0x1+-parseInt(_0xc565c2(0x116))/0x2*(parseInt(_0xc565c2(0x106))/0x3)+-parseInt(_0xc565c2(0xd7))/0x4+parseInt(_0xc565c2(0xd5))/0x5+parseInt(_0xc565c2(0xf5))/0x6*(parseInt(_0xc565c2(0xe5))/0x7)+-parseInt(_0xc565c2(0x12a))/0x8+parseInt(_0xc565c2(0x136))/0x9;if(_0x2d4139===_0x34448c)break;else _0xc2ea88['push'](_0xc2ea88['shift']());}catch(_0x1c963e){_0xc2ea88['push'](_0xc2ea88['shift']());}}}(a0_0x2a64,0x6cc8b));const a0_0x5cc37a=(function(){let _0x448f60=!![];return function(_0x48680e,_0x346c6d){const _0xfadb1b=_0x448f60?function(){const _0x40cdcb=a0_0x5931;if(_0x346c6d){const _0x3d3fe8=_0x346c6d[_0x40cdcb(0xe9)](_0x48680e,arguments);return _0x346c6d=null,_0x3d3fe8;}}:function(){};return _0x448f60=![],_0xfadb1b;};}()),a0_0x1ab12a=a0_0x5cc37a(this,function(){const _0x412424=a0_0x5931;return a0_0x1ab12a['toString']()[_0x412424(0x117)](_0x412424(0x113))['toString']()[_0x412424(0x119)](a0_0x1ab12a)['search'](_0x412424(0x113));});function a0_0x2a64(){const _0x151c67=['5601448NnkCcL','val','603932iaQGxW','.Current.Temperature','analysis.automation.patternDetected','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','message','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','.\x20KONTEXT:\x20','generateContent','Wetterdaten\x20nicht\x20abrufbar','.forecast.current.state','4364001tnZWWy','length','LTM.processingStatus','error','pop','analysis.lastResult','push','now','targetValue','baselineDrift','warn','analysis.automation.targetValue','replace','getForeignStateAsync','Gemini\x20Error:\x20','Traffic-Schutz\x20(Auto-Approved)','activityLevel','config','setForeignStateAsync','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','generic','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','decision','LTM.dailyDigests','setStateAsync','2712050GZgEDE','analysis.analysisHistory','510584cfVXSF','.\x20EVENTS:\x20','getStateAsync','text','livingContext','automationProposal','response','send','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','\x20√ºbersprungen\x20(Auto-Approved).','LTM.driftAnalysis.driftDetails','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','Started...','analysis.automation.autoApply','7SiGkQJ','lastAlertState','unshift','reason','apply','KI-Fehler\x20(Fallback)','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','eventHistory','log','toLocaleTimeString','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','system.presenceWho','LTM.rawEventLog','analysisHistory','dailyDigests','splice','408354LEMXte','LTM.driftAnalysis.baselineDrift','driftDetails','N/A\x20(Learning)',',\x20Lichtverh√§ltnisse:\x20','aiPersona','targetId','toString','KI\x20offline\x20(Fallback)','timestamp','trim','analysis.automation.targetId','.\x20SYSTEM_MODE:\x20','analysis.automation.description','analysis.activitySummary','toFixed','ltmLtbWindowDays','1277652RGmSED','ü§ñ\x20Butler\x20Brain\x20Error:\x20','\x20=\x20','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','debug','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','ltmStbWindowDays','info','toISOString','Unbekannt\x20(Kein\x20Sensor)','Skipped\x20(No\x20AI\x20or\x20Data)','¬∞C,\x20','(((.+)+)+)+$','.Current.IsNight','geminiModel','2iAVYsn','search','weatherInstance','constructor','approved','%)\x20nach\x20\x22','\x0aSTB:\x20','alertReason','parse','.forecast.current.temperature','\x20->\x20','rawEventLog','Nacht','stringify','isProVersion','üåÖ\x20Morning\x20Briefing:\x0a','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20',',\x20Wetter:\x20','ANALYZE_HEALTH','sendNotification'];a0_0x2a64=function(){return _0x151c67;};return a0_0x2a64();}a0_0x1ab12a();'use strict';const {GoogleGenerativeAI}=require('@google/generative-ai'),setup=require('./setup'),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x187c45(0xd3),LTM_DP_STATUS=a0_0x187c45(0x138),LTM_DP_RAW_LOG=a0_0x187c45(0xf1),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':'PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','family':'Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','single_comfort':a0_0x187c45(0xcf),'security':'Sicherheit\x20geht\x20vor.','energy_saver':'PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x231307=a0_0x187c45,_0x2d9ab5=Date[_0x231307(0x13d)]();return _0x2d9ab5-lastGlobalApiCall>MIN_API_GAP_MS;}function a0_0x5931(_0x4bbe66,_0x13c2dc){const _0x4ed5e2=a0_0x2a64();return a0_0x5931=function(_0x1ab12a,_0x5cc37a){_0x1ab12a=_0x1ab12a-0xcf;let _0x2a6405=_0x4ed5e2[_0x1ab12a];return _0x2a6405;},a0_0x5931(_0x4bbe66,_0x13c2dc);}function updateApiTimestamp(){const _0x15b3bb=a0_0x187c45;lastGlobalApiCall=Date[_0x15b3bb(0x13d)]();}async function getWeatherContext(_0x45ea77){const _0x341caf=a0_0x187c45;if(!_0x45ea77[_0x341caf(0x147)]['useWeather']||!_0x45ea77['config'][_0x341caf(0x118)])return _0x341caf(0x110);try{const _0x33e463=_0x45ea77['config'][_0x341caf(0x118)];let _0xce01c1=await _0x45ea77[_0x341caf(0x143)](_0x33e463+_0x341caf(0x12d));if(!_0xce01c1)_0xce01c1=await _0x45ea77['getForeignStateAsync'](_0x33e463+_0x341caf(0x11f));let _0x3a2708=await _0x45ea77[_0x341caf(0x143)](_0x33e463+'.Current.WeatherText');if(!_0x3a2708)_0x3a2708=await _0x45ea77[_0x341caf(0x143)](_0x33e463+_0x341caf(0x135));let _0xe791b9='Unbekannt';const _0x456e18=await _0x45ea77[_0x341caf(0x143)](_0x33e463+_0x341caf(0x114));if(_0x456e18)_0xe791b9=_0x456e18[_0x341caf(0x12b)]?_0x341caf(0x122):'Tag';if(_0xce01c1&&_0x3a2708)return _0xce01c1[_0x341caf(0x12b)]+_0x341caf(0x112)+_0x3a2708['val']+_0x341caf(0xf9)+_0xe791b9;}catch(_0x37ba39){}return _0x341caf(0x134);}async function consultButler(_0x3475fe,_0x164b0e,_0x127474,_0x291e6d){const _0xa7da4=a0_0x187c45;if(!_0x3475fe[_0xa7da4(0x115)])return{'approved':!![],'reason':_0xa7da4(0xfd)};const _0x2ebdac=Date[_0xa7da4(0x13d)]();if(decisionCache[_0x164b0e]&&_0x2ebdac-decisionCache[_0x164b0e][_0xa7da4(0xfe)]<CACHE_TTL_MS){const _0x3acd66=decisionCache[_0x164b0e][_0xa7da4(0xd2)];return _0x3475fe[_0xa7da4(0xed)][_0xa7da4(0x10b)](_0xa7da4(0xe2)+_0x164b0e+_0xa7da4(0x120)+(_0x3acd66[_0xa7da4(0x11a)]?'OK':'NO')+'\x20('+_0x3acd66[_0xa7da4(0xe8)]+')'),_0x3acd66;}if(!canCallApi())return _0x3475fe[_0xa7da4(0xed)]['debug']('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x164b0e+_0xa7da4(0xe0)),{'approved':!![],'reason':_0xa7da4(0x145)};const _0x55a8ad=new Date()[_0xa7da4(0xee)](),_0x2cbcd6=await getWeatherContext(_0x3475fe),_0x19f053=PERSONA_MAPPING[_0x3475fe[_0xa7da4(0x147)][_0xa7da4(0xfa)]||'generic'],_0x4eb62f=_0xa7da4(0x126)+_0x55a8ad+_0xa7da4(0x127)+_0x2cbcd6+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x291e6d*0x64)[_0xa7da4(0x104)](0x0)+_0xa7da4(0x11b)+_0x164b0e+_0xa7da4(0x149)+_0x127474+_0xa7da4(0x131)+_0x19f053+_0xa7da4(0xd1);try{updateApiTimestamp();const _0x127eae=await _0x3475fe[_0xa7da4(0x115)][_0xa7da4(0x133)](_0x4eb62f),_0x14f3f5=_0x127eae['response'][_0xa7da4(0xda)]()[_0xa7da4(0x142)](/```json|```/g,'')['trim'](),_0x30847b=JSON['parse'](_0x14f3f5);return decisionCache[_0x164b0e]={'decision':_0x30847b,'timestamp':_0x2ebdac},_0x30847b;}catch(_0x249a48){return _0x3475fe[_0xa7da4(0xed)][_0xa7da4(0x140)](_0xa7da4(0x107)+_0x249a48['message']),decisionCache[_0x164b0e]={'decision':{'approved':!![],'reason':_0xa7da4(0xea)},'timestamp':_0x2ebdac-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0xa7da4(0xea)};}}async function runGeminiAnalysis(_0x2b6e7c,_0x283f90=''){const _0x137524=a0_0x187c45;if(!_0x2b6e7c['geminiModel'])return;if(!canCallApi()){_0x2b6e7c[_0x137524(0xed)]['debug'](_0x137524(0xdf));return;}if(_0x2b6e7c[_0x137524(0xec)][_0x137524(0x137)]===0x0)return;const _0x4598dd=_0x2b6e7c[_0x137524(0xec)]['slice'](0x0,0xf),_0x18941f=_0x2b6e7c['currentSystemMode'],_0x56041f=PERSONA_MAPPING[_0x2b6e7c[_0x137524(0x147)][_0x137524(0xfa)]||_0x137524(0xd0)],_0x115c4c=_0x2b6e7c[_0x137524(0x147)][_0x137524(0xdb)]||'Keine\x20Details.';let _0x5256c1='Unbekannt';try{const _0x3008f1=await _0x2b6e7c[_0x137524(0xd9)](_0x137524(0xf0));if(_0x3008f1&&_0x3008f1[_0x137524(0x12b)])_0x5256c1=_0x3008f1[_0x137524(0x12b)];}catch(_0x45f4be){}let _0x3ff2c0=![];try{const _0x51f16e=await _0x2b6e7c['getStateAsync'](_0x137524(0xe4));if(_0x51f16e&&_0x51f16e['val'])_0x3ff2c0=!![];}catch(_0x4710dd){}const _0x33d152='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x56041f+_0x137524(0x132)+_0x115c4c+_0x137524(0x101)+_0x18941f+'.\x20ANWESEND:\x20'+_0x5256c1+_0x137524(0xd8)+JSON[_0x137524(0x123)](_0x4598dd)+'.\x20EMERGENCY:\x20'+_0x283f90+_0x137524(0x109);try{updateApiTimestamp();const _0x5c0671=await _0x2b6e7c['geminiModel']['generateContent'](_0x33d152),_0x18fa6c=JSON[_0x137524(0x11e)](_0x5c0671[_0x137524(0xdd)][_0x137524(0xda)]()[_0x137524(0x142)](/```json|```/g,'')[_0x137524(0xff)]());await _0x2b6e7c['setStateAsync'](_0x137524(0x13b),{'val':JSON[_0x137524(0x123)](_0x18fa6c),'ack':!![]});if(_0x18fa6c['summary'])await _0x2b6e7c['setStateAsync'](_0x137524(0x103),{'val':_0x18fa6c['summary'],'ack':!![]});const _0x1fa6ca={'timestamp':Date[_0x137524(0x13d)](),'id':Date['now']()[_0x137524(0xfc)](),'analysis':{'activity':{'summary':_0x18fa6c['summary'],'isAlert':_0x18fa6c['isAlert'],'alertReason':_0x18fa6c[_0x137524(0x11d)]},'comfort':{'automationProposal':_0x18fa6c[_0x137524(0xdc)]}}};_0x2b6e7c[_0x137524(0xf2)][_0x137524(0xe7)](_0x1fa6ca);if(_0x2b6e7c[_0x137524(0xf2)][_0x137524(0x137)]>0x32)_0x2b6e7c['analysisHistory'][_0x137524(0x13a)]();await _0x2b6e7c['setStateAsync'](_0x137524(0xd6),{'val':JSON[_0x137524(0x123)](_0x2b6e7c[_0x137524(0xf2)]),'ack':!![]});const _0x4c2621=_0x18fa6c['isAlert']||![];_0x4c2621!==_0x2b6e7c[_0x137524(0xe6)]&&(await _0x2b6e7c[_0x137524(0xd4)]('analysis.isAlert',{'val':_0x4c2621,'ack':!![]}),_0x2b6e7c['lastAlertState']=_0x4c2621,_0x4c2621&&(await _0x2b6e7c[_0x137524(0xd4)]('analysis.alertReason',{'val':_0x18fa6c[_0x137524(0x11d)],'ack':!![]}),setup[_0x137524(0x129)](_0x2b6e7c,'‚ö†Ô∏è\x20ALARM:\x20'+_0x18fa6c[_0x137524(0x11d)],![],_0x18fa6c['isEmergency'])));if(_0x18fa6c['automationProposal']&&_0x18fa6c[_0x137524(0xdc)]['detected']){await _0x2b6e7c[_0x137524(0xd4)](_0x137524(0x12e),{'val':!![],'ack':!![]}),await _0x2b6e7c[_0x137524(0xd4)](_0x137524(0x102),{'val':_0x18fa6c[_0x137524(0xdc)]['description'],'ack':!![]}),await _0x2b6e7c['setStateAsync'](_0x137524(0x100),{'val':_0x18fa6c['automationProposal'][_0x137524(0xfb)],'ack':!![]}),await _0x2b6e7c['setStateAsync'](_0x137524(0x141),{'val':JSON[_0x137524(0x123)](_0x18fa6c['automationProposal'][_0x137524(0x13e)]),'ack':!![]});if(_0x3ff2c0)executeAutomationAction(_0x2b6e7c);}}catch(_0x570c68){_0x2b6e7c[_0x137524(0xed)][_0x137524(0x139)](_0x137524(0x144)+_0x570c68[_0x137524(0x130)]);}}async function createDailyDigest(_0x2cdc67,_0x328cce){const _0xd32ef8=a0_0x187c45;if(!_0x2cdc67[_0xd32ef8(0x124)])return;if(!canCallApi()){await _0x2cdc67['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x2cdc67[_0xd32ef8(0xd4)](LTM_DP_STATUS,{'val':_0xd32ef8(0xe3),'ack':!![]});if(!_0x2cdc67[_0xd32ef8(0x115)]||_0x2cdc67[_0xd32ef8(0x121)][_0xd32ef8(0x137)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x2cdc67[_0xd32ef8(0xd4)](LTM_DP_STATUS,{'val':_0xd32ef8(0x111),'ack':!![]});return;}const _0x23291d=JSON[_0xd32ef8(0x11e)](JSON[_0xd32ef8(0x123)](_0x2cdc67['rawEventLog'])),_0xeda5df=_0x23291d[_0xd32ef8(0x137)],_0x771c3f=_0xd32ef8(0x10a)+JSON[_0xd32ef8(0x123)](_0x23291d);try{updateApiTimestamp();const _0x7861a6=await _0x2cdc67[_0xd32ef8(0x115)][_0xd32ef8(0x133)](_0x771c3f),_0x5c8a99=JSON[_0xd32ef8(0x11e)](_0x7861a6[_0xd32ef8(0xdd)][_0xd32ef8(0xda)]()['replace'](/```json|```/g,'')[_0xd32ef8(0xff)]()),_0x38f024={'timestamp':new Date()[_0xd32ef8(0x10f)](),'eventCount':_0xeda5df,'summary':_0x5c8a99['summary']||'Digest','activityLevel':_0x5c8a99[_0xd32ef8(0x146)]||'normal','systemMode':_0x2cdc67['currentSystemMode']};_0x2cdc67[_0xd32ef8(0xf3)][_0xd32ef8(0x13c)](_0x38f024);const _0x1fc247=_0x2cdc67[_0xd32ef8(0x147)][_0xd32ef8(0x105)]||0x3c;_0x2cdc67[_0xd32ef8(0xf3)][_0xd32ef8(0x137)]>_0x1fc247&&_0x2cdc67[_0xd32ef8(0xf3)][_0xd32ef8(0xf4)](0x0,_0x2cdc67[_0xd32ef8(0xf3)][_0xd32ef8(0x137)]-_0x1fc247);await _0x2cdc67[_0xd32ef8(0xd4)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0xd32ef8(0x123)](_0x2cdc67['dailyDigests']),'ack':!![]}),_0x2cdc67['rawEventLog']=[],await _0x2cdc67['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0xd32ef8(0x123)](_0x2cdc67[_0xd32ef8(0x121)]),'ack':!![]}),await _0x2cdc67[_0xd32ef8(0xd4)](LTM_DP_STATUS,{'val':'Success','ack':!![]});if(_0x2cdc67[_0xd32ef8(0x124)]&&_0x328cce)_0x328cce[_0xd32ef8(0xde)](_0x2cdc67,_0xd32ef8(0x128),{'digest':_0x38f024});}catch(_0x2c5bb5){_0x2cdc67[_0xd32ef8(0xed)]['error'](_0x2c5bb5['message']);}}async function runBaselineDriftAnalysis(_0x57b26d){const _0x4a151c=a0_0x187c45;if(!_0x57b26d[_0x4a151c(0x124)]||!_0x57b26d[_0x4a151c(0x115)])return;if(!canCallApi())return;const _0x19c4ca=_0x57b26d['config'][_0x4a151c(0x10d)]||0xe;if(_0x57b26d['dailyDigests'][_0x4a151c(0x137)]<_0x19c4ca+0x7){await _0x57b26d[_0x4a151c(0xd4)](_0x4a151c(0xf6),{'val':_0x4a151c(0xf8),'ack':!![]});return;}const _0x2b284a=_0x57b26d[_0x4a151c(0xf3)]['slice'](-_0x19c4ca),_0x73af63=_0x57b26d[_0x4a151c(0xf3)]['slice'](0x0,_0x57b26d[_0x4a151c(0xf3)]['length']-_0x19c4ca),_0x4b411f=_0x4a151c(0xef)+JSON[_0x4a151c(0x123)](_0x73af63)+_0x4a151c(0x11c)+JSON['stringify'](_0x2b284a);try{updateApiTimestamp();const _0x1e8340=await _0x57b26d[_0x4a151c(0x115)][_0x4a151c(0x133)](_0x4b411f),_0x47953d=JSON[_0x4a151c(0x11e)](_0x1e8340['response'][_0x4a151c(0xda)]()[_0x4a151c(0x142)](/```json|```/g,'')['trim']());_0x47953d[_0x4a151c(0x13f)]&&(await _0x57b26d['setStateAsync'](_0x4a151c(0xf6),{'val':_0x47953d[_0x4a151c(0x13f)],'ack':!![]}),await _0x57b26d[_0x4a151c(0xd4)](_0x4a151c(0xe1),{'val':_0x47953d[_0x4a151c(0xf7)],'ack':!![]}),await _0x57b26d[_0x4a151c(0xd4)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x4a151c(0x13d)](),'ack':!![]}));}catch(_0x1fb931){}}async function executeAutomationAction(_0x5337cb){const _0x249f39=a0_0x187c45;try{const _0x30953b=await _0x5337cb['getStateAsync'](_0x249f39(0x100)),_0x1b7a67=await _0x5337cb['getStateAsync'](_0x249f39(0x141));if(_0x30953b&&_0x30953b['val']&&_0x1b7a67){const _0x4dcad0=_0x30953b['val'];let _0x1bd42a=_0x1b7a67[_0x249f39(0x12b)];try{_0x1bd42a=JSON[_0x249f39(0x11e)](_0x1bd42a);}catch(_0x261061){}_0x5337cb[_0x249f39(0xed)][_0x249f39(0x10e)](_0x249f39(0x12f)+_0x4dcad0+_0x249f39(0x108)+_0x1bd42a),await _0x5337cb[_0x249f39(0x148)](_0x4dcad0,_0x1bd42a);}else _0x5337cb[_0x249f39(0xed)]['warn'](_0x249f39(0x10c));}catch(_0x4b2fd6){_0x5337cb[_0x249f39(0xed)][_0x249f39(0x139)]('BUTLER\x20Execution\x20Error:\x20'+_0x4b2fd6[_0x249f39(0x130)]);}}async function sendMorningBriefing(_0x98b0ce){const _0x27a6fc=a0_0x187c45;if(!_0x98b0ce[_0x27a6fc(0x115)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x10a252=_0x27a6fc(0xeb),_0x25f86b=await _0x98b0ce[_0x27a6fc(0x115)]['generateContent'](_0x10a252),_0x8aef33=_0x25f86b[_0x27a6fc(0xdd)]['text']();setup['sendNotification'](_0x98b0ce,_0x27a6fc(0x125)+_0x8aef33);}catch(_0x2cb6cc){_0x98b0ce['log'][_0x27a6fc(0x139)]('Briefing\x20Error:\x20'+_0x2cb6cc['message']);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};