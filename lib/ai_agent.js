const a0_0x220f64=a0_0x18d6;function a0_0x5672(){const _0xbcdf6c=['reason','useWeather','weatherInstance','now',',\x20Lichtverh√§ltnisse:\x20','config','.forecast.current.state','system.presenceWho','currentSystemMode','baselineDrift','approved','Sicherheit\x20geht\x20vor.','analysis.automation.targetValue','1324338yFCNGQ','ü§ñ\x20Butler\x20Brain\x20Error:\x20','ANALYZE_HEALTH','@google/generative-ai','analysis.lastResult','\x0aSTB:\x20','.\x20ANWESEND:\x20','Nacht','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','toFixed','info','getForeignStateAsync','description','replace','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','trim','analysis.automation.description','275770THBHQt','12120SqWAAM','Gemini\x20Error:\x20','text','Wetterdaten\x20nicht\x20abrufbar','warn','1629971JaVmuo','Tag','detected','analysis.isAlert','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','targetId','unshift','.Current.Temperature','üåÖ\x20Morning\x20Briefing:\x0a','\x20=\x20','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','livingContext','analysis.automation.targetId','generic','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','debug','driftDetails','¬∞C,\x20','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','toISOString','eventHistory','generateContent','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','aiPersona','getStateAsync','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','send','sendNotification','alertReason','isEmergency','normal','%)\x20nach\x20\x22','Keine\x20Details.','analysis.analysisHistory','BUTLER\x20Execution\x20Error:\x20','.Current.IsNight','Skipped\x20(Traffic)','push','144615PmwSkH','dailyDigests','lastAlertState','Traffic-Schutz\x20(Auto-Approved)','val','analysisHistory','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ltmStbWindowDays','isProVersion','.Current.WeatherText','1675880CJcVwD','.\x20SYSTEM_MODE:\x20','.\x20KONTEXT:\x20','\x20->\x20','geminiModel','stringify','LTM.processingStatus','Unbekannt','KI\x20offline\x20(Fallback)','KI-Fehler\x20(Fallback)','timestamp','.\x20EVENTS:\x20','Unbekannt\x20(Kein\x20Sensor)','rawEventLog','response','Started...','isAlert','setStateAsync','targetValue','LTM.rawEventLog','pop','toLocaleTimeString','LTM.driftAnalysis.lastCheck','LTM.driftAnalysis.baselineDrift','analysis.alertReason','log','686379iTHwyF','LTM.driftAnalysis.driftDetails','search','activityLevel','slice','parse','ltmLtbWindowDays','toString','error','\x20√ºbersprungen\x20(Auto-Approved).','4yBOaHl','LTM.dailyDigests','.forecast.current.temperature','message','Success','summary','.\x20EMERGENCY:\x20','automationProposal','length'];a0_0x5672=function(){return _0xbcdf6c;};return a0_0x5672();}(function(_0x503d73,_0x10c245){const _0x5bb388=a0_0x18d6,_0x57e09f=_0x503d73();while(!![]){try{const _0x19d4f9=parseInt(_0x5bb388(0x102))/0x1+parseInt(_0x5bb388(0x101))/0x2+parseInt(_0x5bb388(0x153))/0x3*(parseInt(_0x5bb388(0x15d))/0x4)+parseInt(_0x5bb388(0x12f))/0x5+-parseInt(_0x5bb388(0x173))/0x6+-parseInt(_0x5bb388(0x107))/0x7+parseInt(_0x5bb388(0x139))/0x8;if(_0x19d4f9===_0x10c245)break;else _0x57e09f['push'](_0x57e09f['shift']());}catch(_0x40741a){_0x57e09f['push'](_0x57e09f['shift']());}}}(a0_0x5672,0x27f2e));const a0_0xba3c36=(function(){let _0x347f5b=!![];return function(_0x3e2505,_0x218049){const _0x458090=_0x347f5b?function(){if(_0x218049){const _0x457e09=_0x218049['apply'](_0x3e2505,arguments);return _0x218049=null,_0x457e09;}}:function(){};return _0x347f5b=![],_0x458090;};}()),a0_0x3c214a=a0_0xba3c36(this,function(){const _0x1a817d=a0_0x18d6;return a0_0x3c214a[_0x1a817d(0x15a)]()[_0x1a817d(0x155)]('(((.+)+)+)+$')[_0x1a817d(0x15a)]()['constructor'](a0_0x3c214a)[_0x1a817d(0x155)]('(((.+)+)+)+$');});a0_0x3c214a();'use strict';const {GoogleGenerativeAI}=require(a0_0x220f64(0x176)),setup=require('./setup'),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x220f64(0x15e),LTM_DP_STATUS=a0_0x220f64(0x13f),LTM_DP_RAW_LOG=a0_0x220f64(0x14c),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x220f64(0xf7),'senior_aal':a0_0x220f64(0x111),'family':a0_0x220f64(0x11a),'single_comfort':a0_0x220f64(0xfe),'security':a0_0x220f64(0x171),'energy_saver':a0_0x220f64(0x116)};function canCallApi(){const _0x43256e=a0_0x220f64,_0x13507a=Date[_0x43256e(0x169)]();return _0x13507a-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}function a0_0x18d6(_0x552399,_0x8821b0){const _0x2117ba=a0_0x5672();return a0_0x18d6=function(_0x3c214a,_0xba3c36){_0x3c214a=_0x3c214a-0xf7;let _0x567241=_0x2117ba[_0x3c214a];return _0x567241;},a0_0x18d6(_0x552399,_0x8821b0);}async function getWeatherContext(_0x4b75d4){const _0x4b8b13=a0_0x220f64;if(!_0x4b75d4[_0x4b8b13(0x16b)][_0x4b8b13(0x167)]||!_0x4b75d4[_0x4b8b13(0x16b)][_0x4b8b13(0x168)])return _0x4b8b13(0x145);try{const _0x228b24=_0x4b75d4[_0x4b8b13(0x16b)]['weatherInstance'];let _0x324942=await _0x4b75d4[_0x4b8b13(0xfb)](_0x228b24+_0x4b8b13(0x10e));if(!_0x324942)_0x324942=await _0x4b75d4[_0x4b8b13(0xfb)](_0x228b24+_0x4b8b13(0x15f));let _0x4ad518=await _0x4b75d4[_0x4b8b13(0xfb)](_0x228b24+_0x4b8b13(0x138));if(!_0x4ad518)_0x4ad518=await _0x4b75d4[_0x4b8b13(0xfb)](_0x228b24+_0x4b8b13(0x16c));let _0x58649f=_0x4b8b13(0x140);const _0x1dd1fb=await _0x4b75d4['getForeignStateAsync'](_0x228b24+_0x4b8b13(0x12c));if(_0x1dd1fb)_0x58649f=_0x1dd1fb[_0x4b8b13(0x133)]?_0x4b8b13(0x17a):_0x4b8b13(0x108);if(_0x324942&&_0x4ad518)return _0x324942[_0x4b8b13(0x133)]+_0x4b8b13(0x119)+_0x4ad518[_0x4b8b13(0x133)]+_0x4b8b13(0x16a)+_0x58649f;}catch(_0x1d5e6e){}return _0x4b8b13(0x105);}async function consultButler(_0x9469f1,_0x5c2a8b,_0x28e469,_0x3e75e1){const _0x131951=a0_0x220f64;if(!_0x9469f1['geminiModel'])return{'approved':!![],'reason':_0x131951(0x141)};const _0x383b44=Date[_0x131951(0x169)]();if(decisionCache[_0x5c2a8b]&&_0x383b44-decisionCache[_0x5c2a8b][_0x131951(0x143)]<CACHE_TTL_MS){const _0x33c0c2=decisionCache[_0x5c2a8b]['decision'];return _0x9469f1['log'][_0x131951(0x117)]('ü§ñ\x20Butler\x20Cache\x20Hit:\x20'+_0x5c2a8b+_0x131951(0x13c)+(_0x33c0c2[_0x131951(0x170)]?'OK':'NO')+'\x20('+_0x33c0c2[_0x131951(0x166)]+')'),_0x33c0c2;}if(!canCallApi())return _0x9469f1['log'][_0x131951(0x117)](_0x131951(0x10b)+_0x5c2a8b+_0x131951(0x15c)),{'approved':!![],'reason':_0x131951(0x132)};const _0x2d2318=new Date()[_0x131951(0x14e)](),_0x309381=await getWeatherContext(_0x9469f1),_0x527e89=PERSONA_MAPPING[_0x9469f1['config']['aiPersona']||_0x131951(0x115)],_0x57ffb7='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x2d2318+',\x20Wetter:\x20'+_0x309381+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x3e75e1*0x64)[_0x131951(0xf9)](0x0)+_0x131951(0x128)+_0x5c2a8b+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x28e469+_0x131951(0x11f)+_0x527e89+_0x131951(0x122);try{updateApiTimestamp();const _0x475578=await _0x9469f1['geminiModel'][_0x131951(0x11d)](_0x57ffb7),_0x3238de=_0x475578[_0x131951(0x147)][_0x131951(0x104)]()['replace'](/```json|```/g,'')['trim'](),_0x501201=JSON[_0x131951(0x158)](_0x3238de);return decisionCache[_0x5c2a8b]={'decision':_0x501201,'timestamp':_0x383b44},_0x501201;}catch(_0x378f73){return _0x9469f1[_0x131951(0x152)][_0x131951(0x106)](_0x131951(0x174)+_0x378f73['message']),decisionCache[_0x5c2a8b]={'decision':{'approved':!![],'reason':_0x131951(0x142)},'timestamp':_0x383b44-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x131951(0x142)};}}async function runGeminiAnalysis(_0x1635fb,_0x5476d2=''){const _0x177215=a0_0x220f64;if(!_0x1635fb['geminiModel'])return;if(!canCallApi()){_0x1635fb[_0x177215(0x152)][_0x177215(0x117)]('ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x1635fb[_0x177215(0x11c)][_0x177215(0x165)]===0x0)return;const _0x13a49b=_0x1635fb[_0x177215(0x11c)][_0x177215(0x157)](0x0,0xf),_0x5f0168=_0x1635fb[_0x177215(0x16e)],_0x3fa8f7=PERSONA_MAPPING[_0x1635fb[_0x177215(0x16b)][_0x177215(0x120)]||_0x177215(0x115)],_0x6cf838=_0x1635fb['config'][_0x177215(0x113)]||_0x177215(0x129);let _0x47d24c=_0x177215(0x140);try{const _0x24a9f1=await _0x1635fb['getStateAsync'](_0x177215(0x16d));if(_0x24a9f1&&_0x24a9f1['val'])_0x47d24c=_0x24a9f1[_0x177215(0x133)];}catch(_0x33bac8){}let _0x29fa01=![];try{const _0x42397e=await _0x1635fb[_0x177215(0x121)]('analysis.automation.autoApply');if(_0x42397e&&_0x42397e[_0x177215(0x133)])_0x29fa01=!![];}catch(_0x5c328b){}const _0x43dec0=_0x177215(0x11e)+_0x3fa8f7+_0x177215(0x13b)+_0x6cf838+_0x177215(0x13a)+_0x5f0168+_0x177215(0x179)+_0x47d24c+_0x177215(0x144)+JSON['stringify'](_0x13a49b)+_0x177215(0x163)+_0x5476d2+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x18ad8f=await _0x1635fb[_0x177215(0x13d)][_0x177215(0x11d)](_0x43dec0),_0x410c14=JSON[_0x177215(0x158)](_0x18ad8f[_0x177215(0x147)][_0x177215(0x104)]()['replace'](/```json|```/g,'')[_0x177215(0xff)]());await _0x1635fb[_0x177215(0x14a)](_0x177215(0x177),{'val':JSON[_0x177215(0x13e)](_0x410c14),'ack':!![]});if(_0x410c14[_0x177215(0x162)])await _0x1635fb[_0x177215(0x14a)]('analysis.activitySummary',{'val':_0x410c14[_0x177215(0x162)],'ack':!![]});const _0x5471f6={'timestamp':Date['now'](),'id':Date['now']()[_0x177215(0x15a)](),'analysis':{'activity':{'summary':_0x410c14['summary'],'isAlert':_0x410c14[_0x177215(0x149)],'alertReason':_0x410c14[_0x177215(0x125)]},'comfort':{'automationProposal':_0x410c14[_0x177215(0x164)]}}};_0x1635fb[_0x177215(0x134)][_0x177215(0x10d)](_0x5471f6);if(_0x1635fb[_0x177215(0x134)][_0x177215(0x165)]>0x32)_0x1635fb['analysisHistory'][_0x177215(0x14d)]();await _0x1635fb['setStateAsync'](_0x177215(0x12a),{'val':JSON[_0x177215(0x13e)](_0x1635fb['analysisHistory']),'ack':!![]});const _0x561cd3=_0x410c14[_0x177215(0x149)]||![];_0x561cd3!==_0x1635fb[_0x177215(0x131)]&&(await _0x1635fb[_0x177215(0x14a)](_0x177215(0x10a),{'val':_0x561cd3,'ack':!![]}),_0x1635fb[_0x177215(0x131)]=_0x561cd3,_0x561cd3&&(await _0x1635fb[_0x177215(0x14a)](_0x177215(0x151),{'val':_0x410c14[_0x177215(0x125)],'ack':!![]}),setup['sendNotification'](_0x1635fb,'‚ö†Ô∏è\x20ALARM:\x20'+_0x410c14[_0x177215(0x125)],![],_0x410c14[_0x177215(0x126)])));if(_0x410c14[_0x177215(0x164)]&&_0x410c14[_0x177215(0x164)][_0x177215(0x109)]){await _0x1635fb[_0x177215(0x14a)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x1635fb['setStateAsync'](_0x177215(0x100),{'val':_0x410c14['automationProposal'][_0x177215(0xfc)],'ack':!![]}),await _0x1635fb[_0x177215(0x14a)](_0x177215(0x114),{'val':_0x410c14[_0x177215(0x164)][_0x177215(0x10c)],'ack':!![]}),await _0x1635fb['setStateAsync'](_0x177215(0x172),{'val':JSON[_0x177215(0x13e)](_0x410c14[_0x177215(0x164)][_0x177215(0x14b)]),'ack':!![]});if(_0x29fa01)executeAutomationAction(_0x1635fb);}}catch(_0x583e37){_0x1635fb[_0x177215(0x152)][_0x177215(0x15b)](_0x177215(0x103)+_0x583e37[_0x177215(0x160)]);}}async function createDailyDigest(_0x18cc50,_0x23c58e){const _0x18be2f=a0_0x220f64;if(!_0x18cc50[_0x18be2f(0x137)])return;if(!canCallApi()){await _0x18cc50[_0x18be2f(0x14a)](LTM_DP_STATUS,{'val':_0x18be2f(0x12d),'ack':!![]});return;}await _0x18cc50[_0x18be2f(0x14a)](LTM_DP_STATUS,{'val':_0x18be2f(0x148),'ack':!![]});if(!_0x18cc50['geminiModel']||_0x18cc50[_0x18be2f(0x146)][_0x18be2f(0x165)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x18cc50[_0x18be2f(0x14a)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x2ada48=JSON[_0x18be2f(0x158)](JSON[_0x18be2f(0x13e)](_0x18cc50[_0x18be2f(0x146)])),_0x424292=_0x2ada48[_0x18be2f(0x165)],_0x11fb78=_0x18be2f(0x135)+JSON[_0x18be2f(0x13e)](_0x2ada48);try{updateApiTimestamp();const _0x31e138=await _0x18cc50['geminiModel'][_0x18be2f(0x11d)](_0x11fb78),_0x5cce27=JSON[_0x18be2f(0x158)](_0x31e138[_0x18be2f(0x147)][_0x18be2f(0x104)]()['replace'](/```json|```/g,'')[_0x18be2f(0xff)]()),_0x2a4f9c={'timestamp':new Date()[_0x18be2f(0x11b)](),'eventCount':_0x424292,'summary':_0x5cce27['summary']||'Digest','activityLevel':_0x5cce27[_0x18be2f(0x156)]||_0x18be2f(0x127),'systemMode':_0x18cc50[_0x18be2f(0x16e)]};_0x18cc50[_0x18be2f(0x130)][_0x18be2f(0x12e)](_0x2a4f9c);const _0xd51997=_0x18cc50['config'][_0x18be2f(0x159)]||0x3c;_0x18cc50['dailyDigests'][_0x18be2f(0x165)]>_0xd51997&&_0x18cc50['dailyDigests']['splice'](0x0,_0x18cc50[_0x18be2f(0x130)][_0x18be2f(0x165)]-_0xd51997);await _0x18cc50[_0x18be2f(0x14a)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x18be2f(0x13e)](_0x18cc50[_0x18be2f(0x130)]),'ack':!![]}),_0x18cc50[_0x18be2f(0x146)]=[],await _0x18cc50[_0x18be2f(0x14a)](LTM_DP_RAW_LOG,{'val':JSON[_0x18be2f(0x13e)](_0x18cc50[_0x18be2f(0x146)]),'ack':!![]}),await _0x18cc50['setStateAsync'](LTM_DP_STATUS,{'val':_0x18be2f(0x161),'ack':!![]});if(_0x18cc50[_0x18be2f(0x137)]&&_0x23c58e)_0x23c58e[_0x18be2f(0x123)](_0x18cc50,_0x18be2f(0x175),{'digest':_0x2a4f9c});}catch(_0x4c96ce){_0x18cc50['log'][_0x18be2f(0x15b)](_0x4c96ce[_0x18be2f(0x160)]);}}async function runBaselineDriftAnalysis(_0x209937){const _0x431696=a0_0x220f64;if(!_0x209937['isProVersion']||!_0x209937[_0x431696(0x13d)])return;if(!canCallApi())return;const _0x291cb6=_0x209937[_0x431696(0x16b)][_0x431696(0x136)]||0xe;if(_0x209937[_0x431696(0x130)][_0x431696(0x165)]<_0x291cb6+0x7){await _0x209937['setStateAsync'](_0x431696(0x150),{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x340bf7=_0x209937['dailyDigests']['slice'](-_0x291cb6),_0x4faadd=_0x209937[_0x431696(0x130)][_0x431696(0x157)](0x0,_0x209937[_0x431696(0x130)]['length']-_0x291cb6),_0x509810=_0x431696(0xf8)+JSON[_0x431696(0x13e)](_0x4faadd)+_0x431696(0x178)+JSON[_0x431696(0x13e)](_0x340bf7);try{updateApiTimestamp();const _0x58987e=await _0x209937['geminiModel'][_0x431696(0x11d)](_0x509810),_0x3da78d=JSON[_0x431696(0x158)](_0x58987e[_0x431696(0x147)][_0x431696(0x104)]()[_0x431696(0xfd)](/```json|```/g,'')['trim']());_0x3da78d[_0x431696(0x16f)]&&(await _0x209937[_0x431696(0x14a)](_0x431696(0x150),{'val':_0x3da78d[_0x431696(0x16f)],'ack':!![]}),await _0x209937['setStateAsync'](_0x431696(0x154),{'val':_0x3da78d[_0x431696(0x118)],'ack':!![]}),await _0x209937['setStateAsync'](_0x431696(0x14f),{'val':Date[_0x431696(0x169)](),'ack':!![]}));}catch(_0x3b3361){}}async function executeAutomationAction(_0x307f9d){const _0x6cdb22=a0_0x220f64;try{const _0x14f7c4=await _0x307f9d[_0x6cdb22(0x121)](_0x6cdb22(0x114)),_0x55ad43=await _0x307f9d[_0x6cdb22(0x121)]('analysis.automation.targetValue');if(_0x14f7c4&&_0x14f7c4[_0x6cdb22(0x133)]&&_0x55ad43){const _0x1b18ce=_0x14f7c4[_0x6cdb22(0x133)];let _0x461aa1=_0x55ad43['val'];try{_0x461aa1=JSON['parse'](_0x461aa1);}catch(_0x58843f){}_0x307f9d['log'][_0x6cdb22(0xfa)]('ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x1b18ce+_0x6cdb22(0x110)+_0x461aa1),await _0x307f9d['setForeignStateAsync'](_0x1b18ce,_0x461aa1);}else _0x307f9d[_0x6cdb22(0x152)]['warn']('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x496554){_0x307f9d[_0x6cdb22(0x152)]['error'](_0x6cdb22(0x12b)+_0x496554[_0x6cdb22(0x160)]);}}async function sendMorningBriefing(_0x1983db){const _0x4af4a3=a0_0x220f64;if(!_0x1983db[_0x4af4a3(0x13d)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x29ffe8=_0x4af4a3(0x112),_0x5303e0=await _0x1983db['geminiModel'][_0x4af4a3(0x11d)](_0x29ffe8),_0x1c5e94=_0x5303e0[_0x4af4a3(0x147)]['text']();setup[_0x4af4a3(0x124)](_0x1983db,_0x4af4a3(0x10f)+_0x1c5e94);}catch(_0x2b7113){_0x1983db[_0x4af4a3(0x152)]['error']('Briefing\x20Error:\x20'+_0x2b7113[_0x4af4a3(0x160)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};