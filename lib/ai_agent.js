const a0_0x5605d8=a0_0x5aa5;(function(_0x8c93f2,_0x33fc0f){const _0x4ba43e=a0_0x5aa5,_0x37cdcb=_0x8c93f2();while(!![]){try{const _0x1a9b2b=parseInt(_0x4ba43e(0xbd))/0x1+-parseInt(_0x4ba43e(0x115))/0x2*(parseInt(_0x4ba43e(0xf9))/0x3)+-parseInt(_0x4ba43e(0xcc))/0x4*(-parseInt(_0x4ba43e(0xd5))/0x5)+-parseInt(_0x4ba43e(0xf2))/0x6*(parseInt(_0x4ba43e(0x10e))/0x7)+-parseInt(_0x4ba43e(0xe7))/0x8+-parseInt(_0x4ba43e(0xbb))/0x9*(parseInt(_0x4ba43e(0xc8))/0xa)+parseInt(_0x4ba43e(0x127))/0xb;if(_0x1a9b2b===_0x33fc0f)break;else _0x37cdcb['push'](_0x37cdcb['shift']());}catch(_0x18d20d){_0x37cdcb['push'](_0x37cdcb['shift']());}}}(a0_0x5d10,0xee4ad));const a0_0x101092=(function(){let _0x2fe955=!![];return function(_0x3b2150,_0x2bf890){const _0x47e597=_0x2fe955?function(){const _0x1dd81f=a0_0x5aa5;if(_0x2bf890){const _0x109e1d=_0x2bf890[_0x1dd81f(0x11b)](_0x3b2150,arguments);return _0x2bf890=null,_0x109e1d;}}:function(){};return _0x2fe955=![],_0x47e597;};}()),a0_0x21e908=a0_0x101092(this,function(){const _0x3004b6=a0_0x5aa5;return a0_0x21e908[_0x3004b6(0xc3)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a0_0x21e908)[_0x3004b6(0x10a)]('(((.+)+)+)+$');});a0_0x21e908();'use strict';const {GoogleGenerativeAI}=require(a0_0x5605d8(0x101)),setup=require(a0_0x5605d8(0x108)),GEMINI_MODEL=a0_0x5605d8(0xc9),LTM_DP_DAILY_DIGESTS=a0_0x5605d8(0xce),LTM_DP_STATUS=a0_0x5605d8(0x118),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;function a0_0x5d10(){const _0x13468e=['./setup','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','search','send','trim','targetId','13009353VvuVCR','analysis.automation.description','summary','Tag','replace','reason','Success','2151970FYACPE','LTM.driftAnalysis.baselineDrift','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','LTM.processingStatus','generateContent','analysis.lastResult','apply','toISOString','Sicherheit\x20geht\x20vor.','now','normal','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','.\x20ANWESEND:\x20','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','geminiModel','pop','Briefing\x20Error:\x20','Unbekannt','35042601AVsrTs','BUTLER\x20Execution\x20Error:\x20','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','weatherInstance','decision','analysis.alertReason','warn','Wetterdaten\x20nicht\x20abrufbar','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','rawEventLog','Skipped\x20(No\x20AI\x20or\x20Data)','error','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','isAlert','system.presenceWho','Traffic-Schutz\x20(Auto-Approved)','analysis.automation.patternDetected','ANALYZE_HEALTH','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','log','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','splice','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','KI-Fehler\x20(Fallback)','.forecast.current.state','N/A\x20(Learning)','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','analysisHistory','automationProposal','254493apWoWx',',\x20Wetter:\x20','1539200CcCvhb','KI\x20offline\x20(Fallback)','Skipped\x20(Traffic)','info','analysis.automation.autoApply','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','toString','eventHistory','.forecast.current.temperature','\x20=\x20','getForeignStateAsync','460AwxdLf','models/gemini-flash-latest','ðŸŒ…\x20Morning\x20Briefing:\x0a','aiPersona','8oOgzAH','Started...','LTM.dailyDigests','livingContext','generic','exports','analysis.automation.targetId','message','\x0aSTB:\x20','4351175xbQIkL','approved','config','currentSystemMode','analysis.automation.targetValue','debug',',\x20LichtverhÃ¤ltnisse:\x20','.Current.IsNight','.Current.Temperature','alertReason','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','driftDetails','getStateAsync','stringify','Keine\x20Details.','analysis.isAlert','.\x20KONTEXT:\x20','parse','10032880vbcvNp','length','Nacht','lastAlertState','âš ï¸\x20ALARM:\x20','description','sendNotification','%)\x20nach\x20\x22','baselineDrift','Digest','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','6pQBVAW','isProVersion','useWeather','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','\x20->\x20','setStateAsync','3lhfpAK','.\x20EVENTS:\x20','\x20Ã¼bersprungen\x20(Auto-Approved).','val','slice','Â°C,\x20','text','.Current.WeatherText','@google/generative-ai','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','response','dailyDigests','toFixed','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','.\x20SYSTEM_MODE:\x20'];a0_0x5d10=function(){return _0x13468e;};return a0_0x5d10();}const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x5605d8(0x109),'senior_aal':a0_0x5605d8(0x102),'family':a0_0x5605d8(0xf6),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':a0_0x5605d8(0x11d),'energy_saver':a0_0x5605d8(0xf5)};function canCallApi(){const _0xea7ad3=a0_0x5605d8,_0x36e5e3=Date[_0xea7ad3(0x11e)]();return _0x36e5e3-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x187cc0){const _0x876edd=a0_0x5605d8;if(!_0x187cc0[_0x876edd(0xd7)][_0x876edd(0xf4)]||!_0x187cc0[_0x876edd(0xd7)][_0x876edd(0x12a)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0xd40102=_0x187cc0[_0x876edd(0xd7)][_0x876edd(0x12a)];let _0xd663a7=await _0x187cc0['getForeignStateAsync'](_0xd40102+_0x876edd(0xdd));if(!_0xd663a7)_0xd663a7=await _0x187cc0[_0x876edd(0xc7)](_0xd40102+_0x876edd(0xc5));let _0x1aef7b=await _0x187cc0[_0x876edd(0xc7)](_0xd40102+_0x876edd(0x100));if(!_0x1aef7b)_0x1aef7b=await _0x187cc0[_0x876edd(0xc7)](_0xd40102+_0x876edd(0xb6));let _0x78206f=_0x876edd(0x126);const _0x5f3b58=await _0x187cc0[_0x876edd(0xc7)](_0xd40102+_0x876edd(0xdc));if(_0x5f3b58)_0x78206f=_0x5f3b58[_0x876edd(0xfc)]?_0x876edd(0xe9):_0x876edd(0x111);if(_0xd663a7&&_0x1aef7b)return _0xd663a7[_0x876edd(0xfc)]+_0x876edd(0xfe)+_0x1aef7b[_0x876edd(0xfc)]+_0x876edd(0xdb)+_0x78206f;}catch(_0x5b3baa){}return _0x876edd(0x12e);}async function consultButler(_0x4ac465,_0x300f6d,_0x173ca8,_0xd4c438){const _0x2db259=a0_0x5605d8;if(!_0x4ac465[_0x2db259(0x123)])return{'approved':!![],'reason':_0x2db259(0xbe)};const _0x3a726d=Date[_0x2db259(0x11e)]();if(decisionCache[_0x300f6d]&&_0x3a726d-decisionCache[_0x300f6d]['timestamp']<CACHE_TTL_MS){const _0x2f3b8c=decisionCache[_0x300f6d][_0x2db259(0x12b)];return _0x4ac465[_0x2db259(0x13a)][_0x2db259(0xda)](_0x2db259(0x13b)+_0x300f6d+_0x2db259(0xf7)+(_0x2f3b8c[_0x2db259(0xd6)]?'OK':'NO')+'\x20('+_0x2f3b8c[_0x2db259(0x113)]+')'),_0x2f3b8c;}if(!canCallApi())return _0x4ac465[_0x2db259(0x13a)][_0x2db259(0xda)](_0x2db259(0xc2)+_0x300f6d+_0x2db259(0xfb)),{'approved':!![],'reason':_0x2db259(0x136)};const _0x3f31db=new Date()['toLocaleTimeString'](),_0xa15877=await getWeatherContext(_0x4ac465),_0x5cdbda=PERSONA_MAPPING[_0x4ac465['config'][_0x2db259(0xcb)]||_0x2db259(0xd0)],_0x470a3e=_0x2db259(0x12f)+_0x3f31db+_0x2db259(0xbc)+_0xa15877+_0x2db259(0x139)+(_0xd4c438*0x64)[_0x2db259(0x105)](0x0)+_0x2db259(0xee)+_0x300f6d+_0x2db259(0xb8)+_0x173ca8+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x5cdbda+_0x2db259(0x13d);try{updateApiTimestamp();const _0x231d78=await _0x4ac465['geminiModel'][_0x2db259(0x119)](_0x470a3e),_0x1928e6=_0x231d78[_0x2db259(0x103)][_0x2db259(0xff)]()['replace'](/```json|```/g,'')[_0x2db259(0x10c)](),_0x50ebfc=JSON[_0x2db259(0xe6)](_0x1928e6);return decisionCache[_0x300f6d]={'decision':_0x50ebfc,'timestamp':_0x3a726d},_0x50ebfc;}catch(_0x409cc6){return _0x4ac465[_0x2db259(0x13a)]['warn'](_0x2db259(0x122)+_0x409cc6[_0x2db259(0xd3)]),decisionCache[_0x300f6d]={'decision':{'approved':!![],'reason':_0x2db259(0xb5)},'timestamp':_0x3a726d-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x2db259(0xb5)};}}async function runGeminiAnalysis(_0x2a2a7a,_0x3e3244=''){const _0x4970a9=a0_0x5605d8;if(!_0x2a2a7a['geminiModel'])return;if(!canCallApi()){_0x2a2a7a['log'][_0x4970a9(0xda)](_0x4970a9(0x106));return;}if(_0x2a2a7a[_0x4970a9(0xc4)][_0x4970a9(0xe8)]===0x0)return;const _0x477fda=_0x2a2a7a[_0x4970a9(0xc4)]['slice'](0x0,0xf),_0x8f04c=_0x2a2a7a[_0x4970a9(0xd8)],_0x1dd6a8=PERSONA_MAPPING[_0x2a2a7a[_0x4970a9(0xd7)][_0x4970a9(0xcb)]||_0x4970a9(0xd0)],_0x345afd=_0x2a2a7a[_0x4970a9(0xd7)][_0x4970a9(0xcf)]||_0x4970a9(0xe3);let _0x1708f=_0x4970a9(0x126);try{const _0x2c00f0=await _0x2a2a7a[_0x4970a9(0xe1)](_0x4970a9(0x135));if(_0x2c00f0&&_0x2c00f0[_0x4970a9(0xfc)])_0x1708f=_0x2c00f0[_0x4970a9(0xfc)];}catch(_0x4945d6){}let _0x3c360c=![];try{const _0x3502ff=await _0x2a2a7a['getStateAsync'](_0x4970a9(0xc1));if(_0x3502ff&&_0x3502ff['val'])_0x3c360c=!![];}catch(_0xfa0ea7){}const _0x54f7c5='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x1dd6a8+_0x4970a9(0xe5)+_0x345afd+_0x4970a9(0x107)+_0x8f04c+_0x4970a9(0x121)+_0x1708f+_0x4970a9(0xfa)+JSON[_0x4970a9(0xe2)](_0x477fda)+'.\x20EMERGENCY:\x20'+_0x3e3244+_0x4970a9(0x129);try{updateApiTimestamp();const _0x239c1c=await _0x2a2a7a[_0x4970a9(0x123)][_0x4970a9(0x119)](_0x54f7c5),_0x34cc9c=JSON[_0x4970a9(0xe6)](_0x239c1c['response'][_0x4970a9(0xff)]()[_0x4970a9(0x112)](/```json|```/g,'')['trim']());await _0x2a2a7a[_0x4970a9(0xf8)](_0x4970a9(0x11a),{'val':JSON[_0x4970a9(0xe2)](_0x34cc9c),'ack':!![]});if(_0x34cc9c['summary'])await _0x2a2a7a[_0x4970a9(0xf8)]('analysis.activitySummary',{'val':_0x34cc9c[_0x4970a9(0x110)],'ack':!![]});const _0x32db25={'timestamp':Date[_0x4970a9(0x11e)](),'id':Date[_0x4970a9(0x11e)]()['toString'](),'analysis':{'activity':{'summary':_0x34cc9c[_0x4970a9(0x110)],'isAlert':_0x34cc9c['isAlert'],'alertReason':_0x34cc9c[_0x4970a9(0xde)]},'comfort':{'automationProposal':_0x34cc9c[_0x4970a9(0xba)]}}};_0x2a2a7a[_0x4970a9(0xb9)]['unshift'](_0x32db25);if(_0x2a2a7a[_0x4970a9(0xb9)][_0x4970a9(0xe8)]>0x32)_0x2a2a7a['analysisHistory'][_0x4970a9(0x124)]();await _0x2a2a7a[_0x4970a9(0xf8)]('analysis.analysisHistory',{'val':JSON[_0x4970a9(0xe2)](_0x2a2a7a[_0x4970a9(0xb9)]),'ack':!![]});const _0x56c285=_0x34cc9c[_0x4970a9(0x134)]||![];_0x56c285!==_0x2a2a7a[_0x4970a9(0xea)]&&(await _0x2a2a7a['setStateAsync'](_0x4970a9(0xe4),{'val':_0x56c285,'ack':!![]}),_0x2a2a7a[_0x4970a9(0xea)]=_0x56c285,_0x56c285&&(await _0x2a2a7a[_0x4970a9(0xf8)](_0x4970a9(0x12c),{'val':_0x34cc9c['alertReason'],'ack':!![]}),setup[_0x4970a9(0xed)](_0x2a2a7a,_0x4970a9(0xeb)+_0x34cc9c[_0x4970a9(0xde)],![],_0x34cc9c['isEmergency'])));if(_0x34cc9c[_0x4970a9(0xba)]&&_0x34cc9c['automationProposal']['detected']){await _0x2a2a7a[_0x4970a9(0xf8)](_0x4970a9(0x137),{'val':!![],'ack':!![]}),await _0x2a2a7a[_0x4970a9(0xf8)](_0x4970a9(0x10f),{'val':_0x34cc9c[_0x4970a9(0xba)][_0x4970a9(0xec)],'ack':!![]}),await _0x2a2a7a[_0x4970a9(0xf8)](_0x4970a9(0xd2),{'val':_0x34cc9c['automationProposal'][_0x4970a9(0x10d)],'ack':!![]}),await _0x2a2a7a[_0x4970a9(0xf8)]('analysis.automation.targetValue',{'val':JSON['stringify'](_0x34cc9c['automationProposal']['targetValue']),'ack':!![]});if(_0x3c360c)executeAutomationAction(_0x2a2a7a);}}catch(_0x48ad10){_0x2a2a7a['log'][_0x4970a9(0x132)]('Gemini\x20Error:\x20'+_0x48ad10['message']);}}async function createDailyDigest(_0x47b892,_0x2a7a78){const _0x31c867=a0_0x5605d8;if(!_0x47b892[_0x31c867(0xf3)])return;if(!canCallApi()){await _0x47b892[_0x31c867(0xf8)](LTM_DP_STATUS,{'val':_0x31c867(0xbf),'ack':!![]});return;}await _0x47b892[_0x31c867(0xf8)](LTM_DP_STATUS,{'val':_0x31c867(0xcd),'ack':!![]});if(!_0x47b892['geminiModel']||_0x47b892['rawEventLog'][_0x31c867(0xe8)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x47b892[_0x31c867(0xf8)](LTM_DP_STATUS,{'val':_0x31c867(0x131),'ack':!![]});return;}const _0x36d535=JSON[_0x31c867(0xe6)](JSON[_0x31c867(0xe2)](_0x47b892[_0x31c867(0x130)])),_0x2f4542=_0x36d535[_0x31c867(0xe8)],_0xb15e4d=_0x31c867(0xdf)+JSON[_0x31c867(0xe2)](_0x36d535);try{updateApiTimestamp();const _0x387c5e=await _0x47b892[_0x31c867(0x123)]['generateContent'](_0xb15e4d),_0x2907bb=JSON[_0x31c867(0xe6)](_0x387c5e[_0x31c867(0x103)]['text']()[_0x31c867(0x112)](/```json|```/g,'')[_0x31c867(0x10c)]()),_0x3476f3={'timestamp':new Date()[_0x31c867(0x11c)](),'eventCount':_0x2f4542,'summary':_0x2907bb[_0x31c867(0x110)]||_0x31c867(0xf0),'activityLevel':_0x2907bb['activityLevel']||_0x31c867(0x11f),'systemMode':_0x47b892['currentSystemMode']};_0x47b892[_0x31c867(0x104)]['push'](_0x3476f3);const _0xf3374e=_0x47b892['config']['ltmLtbWindowDays']||0x3c;_0x47b892[_0x31c867(0x104)][_0x31c867(0xe8)]>_0xf3374e&&_0x47b892[_0x31c867(0x104)][_0x31c867(0x13c)](0x0,_0x47b892[_0x31c867(0x104)][_0x31c867(0xe8)]-_0xf3374e);await _0x47b892[_0x31c867(0xf8)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x31c867(0xe2)](_0x47b892[_0x31c867(0x104)]),'ack':!![]}),_0x47b892['rawEventLog']=[],await _0x47b892['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x31c867(0xe2)](_0x47b892[_0x31c867(0x130)]),'ack':!![]}),await _0x47b892['setStateAsync'](LTM_DP_STATUS,{'val':_0x31c867(0x114),'ack':!![]});if(_0x47b892[_0x31c867(0xf3)]&&_0x2a7a78)_0x2a7a78[_0x31c867(0x10b)](_0x47b892,_0x31c867(0x138),{'digest':_0x3476f3});}catch(_0x472ab6){_0x47b892[_0x31c867(0x13a)][_0x31c867(0x132)](_0x472ab6[_0x31c867(0xd3)]);}}async function runBaselineDriftAnalysis(_0x5352d7){const _0x20f57e=a0_0x5605d8;if(!_0x5352d7[_0x20f57e(0xf3)]||!_0x5352d7[_0x20f57e(0x123)])return;if(!canCallApi())return;const _0x35d9f2=_0x5352d7[_0x20f57e(0xd7)]['ltmStbWindowDays']||0xe;if(_0x5352d7[_0x20f57e(0x104)][_0x20f57e(0xe8)]<_0x35d9f2+0x7){await _0x5352d7[_0x20f57e(0xf8)](_0x20f57e(0x116),{'val':_0x20f57e(0xb7),'ack':!![]});return;}const _0x5a8ae5=_0x5352d7['dailyDigests'][_0x20f57e(0xfd)](-_0x35d9f2),_0x1e902b=_0x5352d7['dailyDigests'][_0x20f57e(0xfd)](0x0,_0x5352d7[_0x20f57e(0x104)][_0x20f57e(0xe8)]-_0x35d9f2),_0x3f7e03=_0x20f57e(0x120)+JSON[_0x20f57e(0xe2)](_0x1e902b)+_0x20f57e(0xd4)+JSON[_0x20f57e(0xe2)](_0x5a8ae5);try{updateApiTimestamp();const _0x338fe0=await _0x5352d7[_0x20f57e(0x123)][_0x20f57e(0x119)](_0x3f7e03),_0x124474=JSON[_0x20f57e(0xe6)](_0x338fe0[_0x20f57e(0x103)][_0x20f57e(0xff)]()[_0x20f57e(0x112)](/```json|```/g,'')[_0x20f57e(0x10c)]());_0x124474['baselineDrift']&&(await _0x5352d7[_0x20f57e(0xf8)](_0x20f57e(0x116),{'val':_0x124474[_0x20f57e(0xef)],'ack':!![]}),await _0x5352d7[_0x20f57e(0xf8)]('LTM.driftAnalysis.driftDetails',{'val':_0x124474[_0x20f57e(0xe0)],'ack':!![]}),await _0x5352d7[_0x20f57e(0xf8)]('LTM.driftAnalysis.lastCheck',{'val':Date[_0x20f57e(0x11e)](),'ack':!![]}));}catch(_0x2643cc){}}async function executeAutomationAction(_0x54a5b4){const _0x88494c=a0_0x5605d8;try{const _0x5ccc6e=await _0x54a5b4[_0x88494c(0xe1)](_0x88494c(0xd2)),_0x2ab239=await _0x54a5b4[_0x88494c(0xe1)](_0x88494c(0xd9));if(_0x5ccc6e&&_0x5ccc6e['val']&&_0x2ab239){const _0xbe1bc0=_0x5ccc6e[_0x88494c(0xfc)];let _0x311f0b=_0x2ab239[_0x88494c(0xfc)];try{_0x311f0b=JSON['parse'](_0x311f0b);}catch(_0xe4d09e){}_0x54a5b4[_0x88494c(0x13a)][_0x88494c(0xc0)](_0x88494c(0x117)+_0xbe1bc0+_0x88494c(0xc6)+_0x311f0b),await _0x54a5b4['setForeignStateAsync'](_0xbe1bc0,_0x311f0b);}else _0x54a5b4[_0x88494c(0x13a)][_0x88494c(0x12d)](_0x88494c(0x133));}catch(_0x70e76d){_0x54a5b4['log'][_0x88494c(0x132)](_0x88494c(0x128)+_0x70e76d[_0x88494c(0xd3)]);}}async function sendMorningBriefing(_0x24f3a5){const _0x165392=a0_0x5605d8;if(!_0x24f3a5[_0x165392(0x123)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x496b63=_0x165392(0xf1),_0xf0a935=await _0x24f3a5[_0x165392(0x123)][_0x165392(0x119)](_0x496b63),_0x1ba5a1=_0xf0a935[_0x165392(0x103)][_0x165392(0xff)]();setup[_0x165392(0xed)](_0x24f3a5,_0x165392(0xca)+_0x1ba5a1);}catch(_0x2a9760){_0x24f3a5[_0x165392(0x13a)][_0x165392(0x132)](_0x165392(0x125)+_0x2a9760[_0x165392(0xd3)]);}}function a0_0x5aa5(_0x17dafe,_0x4a3bc0){const _0x2f5b86=a0_0x5d10();return a0_0x5aa5=function(_0x21e908,_0x101092){_0x21e908=_0x21e908-0xb5;let _0x5d106d=_0x2f5b86[_0x21e908];return _0x5d106d;},a0_0x5aa5(_0x17dafe,_0x4a3bc0);}module[a0_0x5605d8(0xd1)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};