const a0_0x32ee84=a0_0x4d11;(function(_0xaea3c8,_0x5bb14c){const _0x39fd91=a0_0x4d11,_0x2d6712=_0xaea3c8();while(!![]){try{const _0x54c009=parseInt(_0x39fd91(0xd0))/0x1*(-parseInt(_0x39fd91(0xfc))/0x2)+parseInt(_0x39fd91(0x101))/0x3+-parseInt(_0x39fd91(0xb1))/0x4+-parseInt(_0x39fd91(0x103))/0x5+-parseInt(_0x39fd91(0xf3))/0x6+parseInt(_0x39fd91(0xdd))/0x7*(-parseInt(_0x39fd91(0xc0))/0x8)+parseInt(_0x39fd91(0x88))/0x9*(parseInt(_0x39fd91(0xd4))/0xa);if(_0x54c009===_0x5bb14c)break;else _0x2d6712['push'](_0x2d6712['shift']());}catch(_0xf64b68){_0x2d6712['push'](_0x2d6712['shift']());}}}(a0_0x133c,0xef3d5));function a0_0x133c(){const _0x152cb8=['analysis.automation.patternDetected','Digest','Sicherheit\x20geht\x20vor.','toLocaleTimeString','@google/generative-ai','2096204rrbZrN','\x20Ã¼bersprungen\x20(Auto-Approved).','lastAlertState','toFixed','setStateAsync','Started...','isProVersion','info','log','analysis.automation.targetId','LTM.driftAnalysis.lastCheck','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','Traffic-Schutz\x20(Auto-Approved)','Wetterdaten\x20nicht\x20abrufbar','toISOString','12856EGQWeZ','normal','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','analysis.activitySummary','.\x20SYSTEM_MODE:\x20','error','.Current.IsNight','ltmLtbWindowDays','apply','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','unshift','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','Skipped\x20(No\x20AI\x20or\x20Data)','getStateAsync','generic','slice','1851547ekCXuX','.\x20ANWESEND:\x20','livingContext','\x20=\x20','260YwVhsd','./setup','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','decision','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','now','config','targetId','rawEventLog','6412fMKgeJ','weatherInstance','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Skipped\x20(Traffic)','summary','isAlert','Unbekannt\x20(Kein\x20Sensor)','\x20->\x20','Success','(((.+)+)+)+$','LTM.processingStatus','warn','Briefing\x20Error:\x20','parse','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','.\x20EMERGENCY:\x20','geminiModel','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','KI\x20offline\x20(Fallback)','.Current.Temperature','Nacht','LTM.dailyDigests','572166eBJkon','analysis.automation.autoApply','trim','reason','stringify','alertReason','LTM.driftAnalysis.baselineDrift','system.presenceWho','targetValue','2ffFqum','Tag','sendNotification','eventHistory','generateContent','2871861jGfAJR','analysis.automation.targetValue','8813815sJPuyN','Unbekannt','isEmergency','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','currentSystemMode',',\x20Wetter:\x20','aiPersona','.forecast.current.temperature','timestamp','val','N/A\x20(Learning)','text','setForeignStateAsync','.\x20EVENTS:\x20','dailyDigests','1982898MDECmA','\x0aSTB:\x20','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','automationProposal','response','Â°C,\x20','push','description','ðŸŒ…\x20Morning\x20Briefing:\x0a','send','toString','Keine\x20Details.','getForeignStateAsync','.forecast.current.state','debug','LTM.rawEventLog','analysis.automation.description',',\x20LichtverhÃ¤ltnisse:\x20','exports','length','KI-Fehler\x20(Fallback)','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','pop','Gemini\x20Error:\x20','analysisHistory','ltmStbWindowDays','driftDetails','%)\x20nach\x20\x22','analysis.analysisHistory','LTM.driftAnalysis.driftDetails','âš ï¸\x20ALARM:\x20','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','message','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','replace'];a0_0x133c=function(){return _0x152cb8;};return a0_0x133c();}const a0_0xc01cf9=(function(){let _0x3b24ab=!![];return function(_0x186dbb,_0x499502){const _0x2b1f23=_0x3b24ab?function(){const _0x45c27b=a0_0x4d11;if(_0x499502){const _0x25149a=_0x499502[_0x45c27b(0xc8)](_0x186dbb,arguments);return _0x499502=null,_0x25149a;}}:function(){};return _0x3b24ab=![],_0x2b1f23;};}()),a0_0x3fd6fe=a0_0xc01cf9(this,function(){const _0x2e8a87=a0_0x4d11;return a0_0x3fd6fe[_0x2e8a87(0x92)]()['search'](_0x2e8a87(0xe6))[_0x2e8a87(0x92)]()['constructor'](a0_0x3fd6fe)['search'](_0x2e8a87(0xe6));});a0_0x3fd6fe();'use strict';const {GoogleGenerativeAI}=require(a0_0x32ee84(0xb0)),setup=require(a0_0x32ee84(0xd5)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x32ee84(0xf2),LTM_DP_STATUS=a0_0x32ee84(0xe7),LTM_DP_RAW_LOG=a0_0x32ee84(0x97),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x32ee84(0xcb),'family':a0_0x32ee84(0xaa),'single_comfort':a0_0x32ee84(0xee),'security':a0_0x32ee84(0xae),'energy_saver':a0_0x32ee84(0xc2)};function canCallApi(){const _0x3bddb0=a0_0x32ee84,_0x54fcd0=Date[_0x3bddb0(0xd9)]();return _0x54fcd0-lastGlobalApiCall>MIN_API_GAP_MS;}function a0_0x4d11(_0x947211,_0x5b0361){const _0x5719a6=a0_0x133c();return a0_0x4d11=function(_0x3fd6fe,_0xc01cf9){_0x3fd6fe=_0x3fd6fe-0x7b;let _0x133cfa=_0x5719a6[_0x3fd6fe];return _0x133cfa;},a0_0x4d11(_0x947211,_0x5b0361);}function updateApiTimestamp(){const _0x49113f=a0_0x32ee84;lastGlobalApiCall=Date[_0x49113f(0xd9)]();}async function getWeatherContext(_0x241d55){const _0x2ad275=a0_0x32ee84;if(!_0x241d55[_0x2ad275(0xda)]['useWeather']||!_0x241d55[_0x2ad275(0xda)]['weatherInstance'])return _0x2ad275(0xe3);try{const _0x20a494=_0x241d55['config'][_0x2ad275(0xde)];let _0x5605b7=await _0x241d55[_0x2ad275(0x94)](_0x20a494+_0x2ad275(0xf0));if(!_0x5605b7)_0x5605b7=await _0x241d55[_0x2ad275(0x94)](_0x20a494+_0x2ad275(0x80));let _0x64fda0=await _0x241d55[_0x2ad275(0x94)](_0x20a494+'.Current.WeatherText');if(!_0x64fda0)_0x64fda0=await _0x241d55[_0x2ad275(0x94)](_0x20a494+_0x2ad275(0x95));let _0x3b4aa1=_0x2ad275(0x104);const _0x55343d=await _0x241d55[_0x2ad275(0x94)](_0x20a494+_0x2ad275(0xc6));if(_0x55343d)_0x3b4aa1=_0x55343d[_0x2ad275(0x82)]?_0x2ad275(0xf1):_0x2ad275(0xfd);if(_0x5605b7&&_0x64fda0)return _0x5605b7['val']+_0x2ad275(0x8d)+_0x64fda0[_0x2ad275(0x82)]+_0x2ad275(0x99)+_0x3b4aa1;}catch(_0xeee6ff){}return _0x2ad275(0xbe);}async function consultButler(_0x14ccaa,_0xbb988f,_0x48fcfd,_0x22c212){const _0x3669f9=a0_0x32ee84;if(!_0x14ccaa[_0x3669f9(0xed)])return{'approved':!![],'reason':_0x3669f9(0xef)};const _0x295e3e=Date[_0x3669f9(0xd9)]();if(decisionCache[_0xbb988f]&&_0x295e3e-decisionCache[_0xbb988f][_0x3669f9(0x81)]<CACHE_TTL_MS){const _0x1127c9=decisionCache[_0xbb988f][_0x3669f9(0xd7)];return _0x14ccaa[_0x3669f9(0xb9)][_0x3669f9(0x96)](_0x3669f9(0x7c)+_0xbb988f+_0x3669f9(0xe4)+(_0x1127c9['approved']?'OK':'NO')+'\x20('+_0x1127c9[_0x3669f9(0xf6)]+')'),_0x1127c9;}if(!canCallApi())return _0x14ccaa['log'][_0x3669f9(0x96)]('ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20'+_0xbb988f+_0x3669f9(0xb2)),{'approved':!![],'reason':_0x3669f9(0xbd)};const _0x3ba47f=new Date()[_0x3669f9(0xaf)](),_0x4e6a8d=await getWeatherContext(_0x14ccaa),_0x3b0d53=PERSONA_MAPPING[_0x14ccaa['config'][_0x3669f9(0x7f)]||_0x3669f9(0xce)],_0x1dffea=_0x3669f9(0x9d)+_0x3ba47f+_0x3669f9(0x7e)+_0x4e6a8d+_0x3669f9(0xeb)+(_0x22c212*0x64)[_0x3669f9(0xb4)](0x0)+_0x3669f9(0xa4)+_0xbb988f+_0x3669f9(0xdf)+_0x48fcfd+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x3b0d53+_0x3669f9(0xbc);try{updateApiTimestamp();const _0x20d774=await _0x14ccaa['geminiModel'][_0x3669f9(0x100)](_0x1dffea),_0x50c4d9=_0x20d774[_0x3669f9(0x8c)][_0x3669f9(0x84)]()[_0x3669f9(0xab)](/```json|```/g,'')[_0x3669f9(0xf5)](),_0x41d73f=JSON[_0x3669f9(0xea)](_0x50c4d9);return decisionCache[_0xbb988f]={'decision':_0x41d73f,'timestamp':_0x295e3e},_0x41d73f;}catch(_0x2545c0){return _0x14ccaa[_0x3669f9(0xb9)]['warn'](_0x3669f9(0xd8)+_0x2545c0[_0x3669f9(0xa9)]),decisionCache[_0xbb988f]={'decision':{'approved':!![],'reason':_0x3669f9(0x9c)},'timestamp':_0x295e3e-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x3669f9(0x9c)};}}async function runGeminiAnalysis(_0x5a8ecc,_0x1d8215=''){const _0x187a8f=a0_0x32ee84;if(!_0x5a8ecc[_0x187a8f(0xed)])return;if(!canCallApi()){_0x5a8ecc[_0x187a8f(0xb9)][_0x187a8f(0x96)]('ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x5a8ecc['eventHistory']['length']===0x0)return;const _0x3aa887=_0x5a8ecc[_0x187a8f(0xff)][_0x187a8f(0xcf)](0x0,0xf),_0x356e3c=_0x5a8ecc[_0x187a8f(0x7d)],_0x269aa3=PERSONA_MAPPING[_0x5a8ecc['config'][_0x187a8f(0x7f)]||_0x187a8f(0xce)],_0x2ad629=_0x5a8ecc[_0x187a8f(0xda)][_0x187a8f(0xd2)]||_0x187a8f(0x93);let _0x534a8a=_0x187a8f(0x104);try{const _0x42c860=await _0x5a8ecc['getStateAsync'](_0x187a8f(0xfa));if(_0x42c860&&_0x42c860['val'])_0x534a8a=_0x42c860[_0x187a8f(0x82)];}catch(_0x243050){}let _0x299dc6=![];try{const _0x4bc7c3=await _0x5a8ecc[_0x187a8f(0xcd)](_0x187a8f(0xf4));if(_0x4bc7c3&&_0x4bc7c3[_0x187a8f(0x82)])_0x299dc6=!![];}catch(_0x503371){}const _0x5728fd='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x269aa3+'.\x20KONTEXT:\x20'+_0x2ad629+_0x187a8f(0xc4)+_0x356e3c+_0x187a8f(0xd1)+_0x534a8a+_0x187a8f(0x86)+JSON[_0x187a8f(0xf7)](_0x3aa887)+_0x187a8f(0xec)+_0x1d8215+_0x187a8f(0x8a);try{updateApiTimestamp();const _0x12b252=await _0x5a8ecc['geminiModel']['generateContent'](_0x5728fd),_0x3ca916=JSON[_0x187a8f(0xea)](_0x12b252[_0x187a8f(0x8c)][_0x187a8f(0x84)]()[_0x187a8f(0xab)](/```json|```/g,'')['trim']());await _0x5a8ecc[_0x187a8f(0xb5)]('analysis.lastResult',{'val':JSON['stringify'](_0x3ca916),'ack':!![]});if(_0x3ca916['summary'])await _0x5a8ecc[_0x187a8f(0xb5)](_0x187a8f(0xc3),{'val':_0x3ca916[_0x187a8f(0xe1)],'ack':!![]});const _0x512675={'timestamp':Date['now'](),'id':Date['now']()[_0x187a8f(0x92)](),'analysis':{'activity':{'summary':_0x3ca916['summary'],'isAlert':_0x3ca916[_0x187a8f(0xe2)],'alertReason':_0x3ca916[_0x187a8f(0xf8)]},'comfort':{'automationProposal':_0x3ca916[_0x187a8f(0x8b)]}}};_0x5a8ecc[_0x187a8f(0xa1)][_0x187a8f(0xca)](_0x512675);if(_0x5a8ecc[_0x187a8f(0xa1)][_0x187a8f(0x9b)]>0x32)_0x5a8ecc[_0x187a8f(0xa1)][_0x187a8f(0x9f)]();await _0x5a8ecc[_0x187a8f(0xb5)](_0x187a8f(0xa5),{'val':JSON[_0x187a8f(0xf7)](_0x5a8ecc[_0x187a8f(0xa1)]),'ack':!![]});const _0x43c177=_0x3ca916['isAlert']||![];_0x43c177!==_0x5a8ecc[_0x187a8f(0xb3)]&&(await _0x5a8ecc[_0x187a8f(0xb5)]('analysis.isAlert',{'val':_0x43c177,'ack':!![]}),_0x5a8ecc[_0x187a8f(0xb3)]=_0x43c177,_0x43c177&&(await _0x5a8ecc[_0x187a8f(0xb5)]('analysis.alertReason',{'val':_0x3ca916[_0x187a8f(0xf8)],'ack':!![]}),setup[_0x187a8f(0xfe)](_0x5a8ecc,_0x187a8f(0xa7)+_0x3ca916[_0x187a8f(0xf8)],![],_0x3ca916[_0x187a8f(0x7b)])));if(_0x3ca916[_0x187a8f(0x8b)]&&_0x3ca916[_0x187a8f(0x8b)]['detected']){await _0x5a8ecc[_0x187a8f(0xb5)](_0x187a8f(0xac),{'val':!![],'ack':!![]}),await _0x5a8ecc[_0x187a8f(0xb5)](_0x187a8f(0x98),{'val':_0x3ca916[_0x187a8f(0x8b)][_0x187a8f(0x8f)],'ack':!![]}),await _0x5a8ecc[_0x187a8f(0xb5)]('analysis.automation.targetId',{'val':_0x3ca916[_0x187a8f(0x8b)][_0x187a8f(0xdb)],'ack':!![]}),await _0x5a8ecc[_0x187a8f(0xb5)](_0x187a8f(0x102),{'val':JSON['stringify'](_0x3ca916[_0x187a8f(0x8b)][_0x187a8f(0xfb)]),'ack':!![]});if(_0x299dc6)executeAutomationAction(_0x5a8ecc);}}catch(_0x364f9c){_0x5a8ecc[_0x187a8f(0xb9)][_0x187a8f(0xc5)](_0x187a8f(0xa0)+_0x364f9c[_0x187a8f(0xa9)]);}}async function createDailyDigest(_0x6bf325,_0x5f027b){const _0x3312db=a0_0x32ee84;if(!_0x6bf325[_0x3312db(0xb7)])return;if(!canCallApi()){await _0x6bf325[_0x3312db(0xb5)](LTM_DP_STATUS,{'val':_0x3312db(0xe0),'ack':!![]});return;}await _0x6bf325[_0x3312db(0xb5)](LTM_DP_STATUS,{'val':_0x3312db(0xb6),'ack':!![]});if(!_0x6bf325[_0x3312db(0xed)]||_0x6bf325[_0x3312db(0xdc)][_0x3312db(0x9b)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x6bf325[_0x3312db(0xb5)](LTM_DP_STATUS,{'val':_0x3312db(0xcc),'ack':!![]});return;}const _0x1e8c1a=JSON[_0x3312db(0xea)](JSON[_0x3312db(0xf7)](_0x6bf325[_0x3312db(0xdc)])),_0x137281=_0x1e8c1a['length'],_0x53884a='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x3312db(0xf7)](_0x1e8c1a);try{updateApiTimestamp();const _0x2756d3=await _0x6bf325[_0x3312db(0xed)]['generateContent'](_0x53884a),_0x266943=JSON['parse'](_0x2756d3[_0x3312db(0x8c)][_0x3312db(0x84)]()[_0x3312db(0xab)](/```json|```/g,'')[_0x3312db(0xf5)]()),_0x20e046={'timestamp':new Date()[_0x3312db(0xbf)](),'eventCount':_0x137281,'summary':_0x266943[_0x3312db(0xe1)]||_0x3312db(0xad),'activityLevel':_0x266943['activityLevel']||_0x3312db(0xc1),'systemMode':_0x6bf325[_0x3312db(0x7d)]};_0x6bf325[_0x3312db(0x87)][_0x3312db(0x8e)](_0x20e046);const _0x13055a=_0x6bf325[_0x3312db(0xda)][_0x3312db(0xc7)]||0x3c;_0x6bf325[_0x3312db(0x87)][_0x3312db(0x9b)]>_0x13055a&&_0x6bf325[_0x3312db(0x87)]['splice'](0x0,_0x6bf325[_0x3312db(0x87)][_0x3312db(0x9b)]-_0x13055a);await _0x6bf325[_0x3312db(0xb5)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x3312db(0xf7)](_0x6bf325[_0x3312db(0x87)]),'ack':!![]}),_0x6bf325[_0x3312db(0xdc)]=[],await _0x6bf325['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x3312db(0xf7)](_0x6bf325['rawEventLog']),'ack':!![]}),await _0x6bf325[_0x3312db(0xb5)](LTM_DP_STATUS,{'val':_0x3312db(0xe5),'ack':!![]});if(_0x6bf325[_0x3312db(0xb7)]&&_0x5f027b)_0x5f027b[_0x3312db(0x91)](_0x6bf325,'ANALYZE_HEALTH',{'digest':_0x20e046});}catch(_0x4c0ffe){_0x6bf325[_0x3312db(0xb9)][_0x3312db(0xc5)](_0x4c0ffe[_0x3312db(0xa9)]);}}async function runBaselineDriftAnalysis(_0x888b63){const _0x1d3175=a0_0x32ee84;if(!_0x888b63['isProVersion']||!_0x888b63[_0x1d3175(0xed)])return;if(!canCallApi())return;const _0x43863a=_0x888b63[_0x1d3175(0xda)][_0x1d3175(0xa2)]||0xe;if(_0x888b63[_0x1d3175(0x87)][_0x1d3175(0x9b)]<_0x43863a+0x7){await _0x888b63['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x1d3175(0x83),'ack':!![]});return;}const _0x5cc9e2=_0x888b63[_0x1d3175(0x87)][_0x1d3175(0xcf)](-_0x43863a),_0x56ec12=_0x888b63[_0x1d3175(0x87)][_0x1d3175(0xcf)](0x0,_0x888b63['dailyDigests'][_0x1d3175(0x9b)]-_0x43863a),_0x1cc2ab=_0x1d3175(0x9e)+JSON[_0x1d3175(0xf7)](_0x56ec12)+_0x1d3175(0x89)+JSON[_0x1d3175(0xf7)](_0x5cc9e2);try{updateApiTimestamp();const _0xdb6d37=await _0x888b63[_0x1d3175(0xed)]['generateContent'](_0x1cc2ab),_0x1dbb19=JSON[_0x1d3175(0xea)](_0xdb6d37[_0x1d3175(0x8c)][_0x1d3175(0x84)]()[_0x1d3175(0xab)](/```json|```/g,'')[_0x1d3175(0xf5)]());_0x1dbb19['baselineDrift']&&(await _0x888b63['setStateAsync'](_0x1d3175(0xf9),{'val':_0x1dbb19['baselineDrift'],'ack':!![]}),await _0x888b63[_0x1d3175(0xb5)](_0x1d3175(0xa6),{'val':_0x1dbb19[_0x1d3175(0xa3)],'ack':!![]}),await _0x888b63['setStateAsync'](_0x1d3175(0xbb),{'val':Date['now'](),'ack':!![]}));}catch(_0x31ac67){}}async function executeAutomationAction(_0x26ea02){const _0x4fc485=a0_0x32ee84;try{const _0x14257d=await _0x26ea02[_0x4fc485(0xcd)](_0x4fc485(0xba)),_0x2843b8=await _0x26ea02[_0x4fc485(0xcd)](_0x4fc485(0x102));if(_0x14257d&&_0x14257d[_0x4fc485(0x82)]&&_0x2843b8){const _0x2e97f7=_0x14257d[_0x4fc485(0x82)];let _0x4cdfad=_0x2843b8[_0x4fc485(0x82)];try{_0x4cdfad=JSON[_0x4fc485(0xea)](_0x4cdfad);}catch(_0x267183){}_0x26ea02[_0x4fc485(0xb9)][_0x4fc485(0xb8)](_0x4fc485(0xa8)+_0x2e97f7+_0x4fc485(0xd3)+_0x4cdfad),await _0x26ea02[_0x4fc485(0x85)](_0x2e97f7,_0x4cdfad);}else _0x26ea02['log'][_0x4fc485(0xe8)](_0x4fc485(0xd6));}catch(_0x3fdb87){_0x26ea02['log'][_0x4fc485(0xc5)]('BUTLER\x20Execution\x20Error:\x20'+_0x3fdb87[_0x4fc485(0xa9)]);}}async function sendMorningBriefing(_0x31415a){const _0x30c270=a0_0x32ee84;if(!_0x31415a[_0x30c270(0xed)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x2e47fc=_0x30c270(0xc9),_0x43fbe3=await _0x31415a[_0x30c270(0xed)][_0x30c270(0x100)](_0x2e47fc),_0x3e4f89=_0x43fbe3['response'][_0x30c270(0x84)]();setup[_0x30c270(0xfe)](_0x31415a,_0x30c270(0x90)+_0x3e4f89);}catch(_0x32ff29){_0x31415a['log'][_0x30c270(0xc5)](_0x30c270(0xe9)+_0x32ff29[_0x30c270(0xa9)]);}}module[a0_0x32ee84(0x9a)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};