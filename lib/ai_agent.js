const a0_0x4776e0=a0_0x2343;(function(_0x44b50d,_0x1b3e2f){const _0x31ec9f=a0_0x2343,_0x33bfef=_0x44b50d();while(!![]){try{const _0x3096c0=parseInt(_0x31ec9f(0x1dc))/0x1+parseInt(_0x31ec9f(0x1cc))/0x2+-parseInt(_0x31ec9f(0x1f5))/0x3*(parseInt(_0x31ec9f(0x1fe))/0x4)+-parseInt(_0x31ec9f(0x19e))/0x5+-parseInt(_0x31ec9f(0x18d))/0x6*(-parseInt(_0x31ec9f(0x1b9))/0x7)+-parseInt(_0x31ec9f(0x197))/0x8*(parseInt(_0x31ec9f(0x1e9))/0x9)+parseInt(_0x31ec9f(0x17e))/0xa;if(_0x3096c0===_0x1b3e2f)break;else _0x33bfef['push'](_0x33bfef['shift']());}catch(_0x539d59){_0x33bfef['push'](_0x33bfef['shift']());}}}(a0_0x1d46,0x52169));const a0_0x3fae5e=(function(){let _0x3a3767=!![];return function(_0x3626b6,_0x250264){const _0x3855b4=_0x3a3767?function(){if(_0x250264){const _0x522fd3=_0x250264['apply'](_0x3626b6,arguments);return _0x250264=null,_0x522fd3;}}:function(){};return _0x3a3767=![],_0x3855b4;};}()),a0_0x49e32c=a0_0x3fae5e(this,function(){const _0x86e803=a0_0x2343;return a0_0x49e32c[_0x86e803(0x187)]()['search']('(((.+)+)+)+$')[_0x86e803(0x187)]()['constructor'](a0_0x49e32c)[_0x86e803(0x1de)](_0x86e803(0x1c0));});function a0_0x1d46(){const _0x11ff79=['(((.+)+)+)+$','send','aiPersona','analysis.activitySummary','targetId','@google/generative-ai','livingContext','LTM.driftAnalysis.lastCheck','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','toLocaleTimeString','analysis.alertReason','splice','362100qejfUY','analysis.analysisHistory','system.presenceWho','.\x20SYSTEM_MODE:\x20','geminiModel','analysis.automation.patternDetected','BUTLER\x20Execution\x20Error:\x20','ðŸŒ…\x20Morning\x20Briefing:\x0a','analysis.lastResult','eventHistory','unshift','message','Unbekannt','generic','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','âš ï¸\x20ALARM:\x20','251805ERcPAz','decision','search','targetValue','%)\x20nach\x20\x22','alertReason','info','setStateAsync','rawEventLog','reason','analysis.automation.targetId','length',',\x20LichtverhÃ¤ltnisse:\x20','4214169InPDXb','trim','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','isEmergency','.Current.WeatherText','.\x20KONTEXT:\x20','timestamp','analysis.automation.autoApply','.forecast.current.temperature','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','val','summary','6771fdCYTz','\x20=\x20','KI-Fehler\x20(Fallback)','ltmStbWindowDays','getStateAsync','replace','setForeignStateAsync','Briefing\x20Error:\x20','.\x20EVENTS:\x20','1068JGpHrv','analysis.automation.targetValue','10230820LOEdsn','useWeather','detected','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','analysisHistory','LTM.driftAnalysis.driftDetails','automationProposal','toString','\x20->\x20','getForeignStateAsync','exports','N/A\x20(Learning)','error','5862WJloXw','weatherInstance','now','stringify','log','push','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','.\x20EMERGENCY:\x20','Unbekannt\x20(Kein\x20Sensor)','8yADldZ','Success',',\x20Wetter:\x20','Traffic-Schutz\x20(Auto-Approved)','isAlert','analysis.isAlert','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','278415zAZkxk','warn','Sicherheit\x20geht\x20vor.','Started...','lastAlertState','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','LTM.dailyDigests','toFixed','\x0aSTB:\x20','parse','Skipped\x20(No\x20AI\x20or\x20Data)','config','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','Tag','Nacht','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','\x20Ã¼bersprungen\x20(Auto-Approved).','description','LTM.rawEventLog','baselineDrift','text','KI\x20offline\x20(Fallback)','.forecast.current.state','models/gemini-flash-latest','slice','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','49ZKymZj','isProVersion','sendNotification','response','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','generateContent','dailyDigests'];a0_0x1d46=function(){return _0x11ff79;};return a0_0x1d46();}a0_0x49e32c();'use strict';const {GoogleGenerativeAI}=require(a0_0x4776e0(0x1c5)),setup=require('./setup'),GEMINI_MODEL=a0_0x4776e0(0x1b6),LTM_DP_DAILY_DIGESTS=a0_0x4776e0(0x1a4),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x4776e0(0x1b1),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;function a0_0x2343(_0xa89769,_0x21c718){const _0x5213ba=a0_0x1d46();return a0_0x2343=function(_0x49e32c,_0x3fae5e){_0x49e32c=_0x49e32c-0x17d;let _0x1d46d6=_0x5213ba[_0x49e32c];return _0x1d46d6;},a0_0x2343(_0xa89769,_0x21c718);}let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x4776e0(0x182),'senior_aal':a0_0x4776e0(0x1f2),'family':a0_0x4776e0(0x1ae),'single_comfort':a0_0x4776e0(0x193),'security':a0_0x4776e0(0x1a0),'energy_saver':a0_0x4776e0(0x19d)};function canCallApi(){const _0x4214b9=a0_0x4776e0,_0x4b483b=Date[_0x4214b9(0x18f)]();return _0x4b483b-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x1d920d=a0_0x4776e0;lastGlobalApiCall=Date[_0x1d920d(0x18f)]();}async function getWeatherContext(_0x3ae6b2){const _0x1db5d7=a0_0x4776e0;if(!_0x3ae6b2[_0x1db5d7(0x1a9)][_0x1db5d7(0x17f)]||!_0x3ae6b2[_0x1db5d7(0x1a9)][_0x1db5d7(0x18e)])return _0x1db5d7(0x196);try{const _0x379d47=_0x3ae6b2['config']['weatherInstance'];let _0x58f042=await _0x3ae6b2['getForeignStateAsync'](_0x379d47+'.Current.Temperature');if(!_0x58f042)_0x58f042=await _0x3ae6b2[_0x1db5d7(0x189)](_0x379d47+_0x1db5d7(0x1f1));let _0x5aeb2a=await _0x3ae6b2[_0x1db5d7(0x189)](_0x379d47+_0x1db5d7(0x1ed));if(!_0x5aeb2a)_0x5aeb2a=await _0x3ae6b2['getForeignStateAsync'](_0x379d47+_0x1db5d7(0x1b5));let _0x1cb54d=_0x1db5d7(0x1d8);const _0x3bcada=await _0x3ae6b2[_0x1db5d7(0x189)](_0x379d47+'.Current.IsNight');if(_0x3bcada)_0x1cb54d=_0x3bcada[_0x1db5d7(0x1f3)]?_0x1db5d7(0x1ac):_0x1db5d7(0x1ab);if(_0x58f042&&_0x5aeb2a)return _0x58f042[_0x1db5d7(0x1f3)]+'Â°C,\x20'+_0x5aeb2a[_0x1db5d7(0x1f3)]+_0x1db5d7(0x1e8)+_0x1cb54d;}catch(_0x224427){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0xc2ea0f,_0x520be2,_0x317504,_0x5c5748){const _0x164068=a0_0x4776e0;if(!_0xc2ea0f['geminiModel'])return{'approved':!![],'reason':_0x164068(0x1b4)};const _0x2d23a4=Date[_0x164068(0x18f)]();if(decisionCache[_0x520be2]&&_0x2d23a4-decisionCache[_0x520be2][_0x164068(0x1ef)]<CACHE_TTL_MS){const _0x4bdac7=decisionCache[_0x520be2][_0x164068(0x1dd)];return _0xc2ea0f[_0x164068(0x191)]['debug']('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x520be2+_0x164068(0x188)+(_0x4bdac7['approved']?'OK':'NO')+'\x20('+_0x4bdac7[_0x164068(0x1e5)]+')'),_0x4bdac7;}if(!canCallApi())return _0xc2ea0f[_0x164068(0x191)]['debug'](_0x164068(0x1aa)+_0x520be2+_0x164068(0x1af)),{'approved':!![],'reason':_0x164068(0x19a)};const _0x4031c1=new Date()[_0x164068(0x1c9)](),_0x1e01e8=await getWeatherContext(_0xc2ea0f),_0x420a2c=PERSONA_MAPPING[_0xc2ea0f[_0x164068(0x1a9)]['aiPersona']||'generic'],_0x3a03c8=_0x164068(0x1da)+_0x4031c1+_0x164068(0x199)+_0x1e01e8+_0x164068(0x194)+(_0x5c5748*0x64)[_0x164068(0x1a5)](0x0)+_0x164068(0x1e0)+_0x520be2+_0x164068(0x1bd)+_0x317504+_0x164068(0x183)+_0x420a2c+_0x164068(0x1ad);try{updateApiTimestamp();const _0x3e815a=await _0xc2ea0f[_0x164068(0x1d0)][_0x164068(0x1be)](_0x3a03c8),_0x64ef52=_0x3e815a[_0x164068(0x1bc)][_0x164068(0x1b3)]()[_0x164068(0x1fa)](/```json|```/g,'')[_0x164068(0x1ea)](),_0x526978=JSON[_0x164068(0x1a7)](_0x64ef52);return decisionCache[_0x520be2]={'decision':_0x526978,'timestamp':_0x2d23a4},_0x526978;}catch(_0x5db8fd){return _0xc2ea0f[_0x164068(0x191)][_0x164068(0x19f)](_0x164068(0x181)+_0x5db8fd[_0x164068(0x1d7)]),decisionCache[_0x520be2]={'decision':{'approved':!![],'reason':_0x164068(0x1f7)},'timestamp':_0x2d23a4-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x164068(0x1f7)};}}async function runGeminiAnalysis(_0x561a13,_0x17ff2f=''){const _0xd69fb2=a0_0x4776e0;if(!_0x561a13[_0xd69fb2(0x1d0)])return;if(!canCallApi()){_0x561a13[_0xd69fb2(0x191)]['debug'](_0xd69fb2(0x1b8));return;}if(_0x561a13[_0xd69fb2(0x1d5)]['length']===0x0)return;const _0x2aad97=_0x561a13['eventHistory'][_0xd69fb2(0x1b7)](0x0,0xf),_0x32c6ff=_0x561a13['currentSystemMode'],_0x2500bb=PERSONA_MAPPING[_0x561a13[_0xd69fb2(0x1a9)][_0xd69fb2(0x1c2)]||_0xd69fb2(0x1d9)],_0x42d150=_0x561a13[_0xd69fb2(0x1a9)][_0xd69fb2(0x1c6)]||'Keine\x20Details.';let _0x5d16df=_0xd69fb2(0x1d8);try{const _0x51389f=await _0x561a13['getStateAsync'](_0xd69fb2(0x1ce));if(_0x51389f&&_0x51389f[_0xd69fb2(0x1f3)])_0x5d16df=_0x51389f[_0xd69fb2(0x1f3)];}catch(_0x3a48ad){}let _0x40085a=![];try{const _0x1b2e37=await _0x561a13['getStateAsync'](_0xd69fb2(0x1f0));if(_0x1b2e37&&_0x1b2e37[_0xd69fb2(0x1f3)])_0x40085a=!![];}catch(_0x576c02){}const _0x18ebbf='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x2500bb+_0xd69fb2(0x1ee)+_0x42d150+_0xd69fb2(0x1cf)+_0x32c6ff+'.\x20ANWESEND:\x20'+_0x5d16df+_0xd69fb2(0x1fd)+JSON['stringify'](_0x2aad97)+_0xd69fb2(0x195)+_0x17ff2f+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x40e34d=await _0x561a13[_0xd69fb2(0x1d0)][_0xd69fb2(0x1be)](_0x18ebbf),_0x4afa77=JSON[_0xd69fb2(0x1a7)](_0x40e34d[_0xd69fb2(0x1bc)][_0xd69fb2(0x1b3)]()['replace'](/```json|```/g,'')[_0xd69fb2(0x1ea)]());await _0x561a13['setStateAsync'](_0xd69fb2(0x1d4),{'val':JSON[_0xd69fb2(0x190)](_0x4afa77),'ack':!![]});if(_0x4afa77[_0xd69fb2(0x1f4)])await _0x561a13[_0xd69fb2(0x1e3)](_0xd69fb2(0x1c3),{'val':_0x4afa77[_0xd69fb2(0x1f4)],'ack':!![]});const _0x7bb3dd={'timestamp':Date[_0xd69fb2(0x18f)](),'id':Date['now']()[_0xd69fb2(0x187)](),'analysis':{'activity':{'summary':_0x4afa77['summary'],'isAlert':_0x4afa77[_0xd69fb2(0x19b)],'alertReason':_0x4afa77[_0xd69fb2(0x1e1)]},'comfort':{'automationProposal':_0x4afa77[_0xd69fb2(0x186)]}}};_0x561a13[_0xd69fb2(0x184)][_0xd69fb2(0x1d6)](_0x7bb3dd);if(_0x561a13[_0xd69fb2(0x184)][_0xd69fb2(0x1e7)]>0x32)_0x561a13[_0xd69fb2(0x184)]['pop']();await _0x561a13[_0xd69fb2(0x1e3)](_0xd69fb2(0x1cd),{'val':JSON[_0xd69fb2(0x190)](_0x561a13[_0xd69fb2(0x184)]),'ack':!![]});const _0x54efbb=_0x4afa77[_0xd69fb2(0x19b)]||![];_0x54efbb!==_0x561a13[_0xd69fb2(0x1a2)]&&(await _0x561a13[_0xd69fb2(0x1e3)](_0xd69fb2(0x19c),{'val':_0x54efbb,'ack':!![]}),_0x561a13[_0xd69fb2(0x1a2)]=_0x54efbb,_0x54efbb&&(await _0x561a13[_0xd69fb2(0x1e3)](_0xd69fb2(0x1ca),{'val':_0x4afa77[_0xd69fb2(0x1e1)],'ack':!![]}),setup['sendNotification'](_0x561a13,_0xd69fb2(0x1db)+_0x4afa77[_0xd69fb2(0x1e1)],![],_0x4afa77[_0xd69fb2(0x1ec)])));if(_0x4afa77[_0xd69fb2(0x186)]&&_0x4afa77[_0xd69fb2(0x186)][_0xd69fb2(0x180)]){await _0x561a13['setStateAsync'](_0xd69fb2(0x1d1),{'val':!![],'ack':!![]}),await _0x561a13['setStateAsync']('analysis.automation.description',{'val':_0x4afa77[_0xd69fb2(0x186)][_0xd69fb2(0x1b0)],'ack':!![]}),await _0x561a13[_0xd69fb2(0x1e3)](_0xd69fb2(0x1e6),{'val':_0x4afa77['automationProposal'][_0xd69fb2(0x1c4)],'ack':!![]}),await _0x561a13[_0xd69fb2(0x1e3)](_0xd69fb2(0x17d),{'val':JSON['stringify'](_0x4afa77[_0xd69fb2(0x186)][_0xd69fb2(0x1df)]),'ack':!![]});if(_0x40085a)executeAutomationAction(_0x561a13);}}catch(_0x51c5c5){_0x561a13[_0xd69fb2(0x191)][_0xd69fb2(0x18c)]('Gemini\x20Error:\x20'+_0x51c5c5[_0xd69fb2(0x1d7)]);}}async function createDailyDigest(_0x2575a0,_0x324724){const _0xc8c8e4=a0_0x4776e0;if(!_0x2575a0['isProVersion'])return;if(!canCallApi()){await _0x2575a0[_0xc8c8e4(0x1e3)](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x2575a0['setStateAsync'](LTM_DP_STATUS,{'val':_0xc8c8e4(0x1a1),'ack':!![]});if(!_0x2575a0[_0xc8c8e4(0x1d0)]||_0x2575a0[_0xc8c8e4(0x1e4)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x2575a0[_0xc8c8e4(0x1e3)](LTM_DP_STATUS,{'val':_0xc8c8e4(0x1a8),'ack':!![]});return;}const _0xf1f4c1=JSON[_0xc8c8e4(0x1a7)](JSON[_0xc8c8e4(0x190)](_0x2575a0[_0xc8c8e4(0x1e4)])),_0x5f02d0=_0xf1f4c1['length'],_0x510ebb='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0xc8c8e4(0x190)](_0xf1f4c1);try{updateApiTimestamp();const _0x1ac2b0=await _0x2575a0['geminiModel'][_0xc8c8e4(0x1be)](_0x510ebb),_0x1bc33b=JSON[_0xc8c8e4(0x1a7)](_0x1ac2b0[_0xc8c8e4(0x1bc)][_0xc8c8e4(0x1b3)]()['replace'](/```json|```/g,'')[_0xc8c8e4(0x1ea)]()),_0x33054e={'timestamp':new Date()['toISOString'](),'eventCount':_0x5f02d0,'summary':_0x1bc33b[_0xc8c8e4(0x1f4)]||'Digest','activityLevel':_0x1bc33b['activityLevel']||'normal','systemMode':_0x2575a0['currentSystemMode']};_0x2575a0['dailyDigests'][_0xc8c8e4(0x192)](_0x33054e);const _0x520f8b=_0x2575a0[_0xc8c8e4(0x1a9)]['ltmLtbWindowDays']||0x3c;_0x2575a0[_0xc8c8e4(0x1bf)]['length']>_0x520f8b&&_0x2575a0[_0xc8c8e4(0x1bf)][_0xc8c8e4(0x1cb)](0x0,_0x2575a0[_0xc8c8e4(0x1bf)][_0xc8c8e4(0x1e7)]-_0x520f8b);await _0x2575a0[_0xc8c8e4(0x1e3)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x2575a0['dailyDigests']),'ack':!![]}),_0x2575a0[_0xc8c8e4(0x1e4)]=[],await _0x2575a0[_0xc8c8e4(0x1e3)](LTM_DP_RAW_LOG,{'val':JSON[_0xc8c8e4(0x190)](_0x2575a0[_0xc8c8e4(0x1e4)]),'ack':!![]}),await _0x2575a0[_0xc8c8e4(0x1e3)](LTM_DP_STATUS,{'val':_0xc8c8e4(0x198),'ack':!![]});if(_0x2575a0['isProVersion']&&_0x324724)_0x324724[_0xc8c8e4(0x1c1)](_0x2575a0,'ANALYZE_HEALTH',{'digest':_0x33054e});}catch(_0x16d266){_0x2575a0[_0xc8c8e4(0x191)][_0xc8c8e4(0x18c)](_0x16d266[_0xc8c8e4(0x1d7)]);}}async function runBaselineDriftAnalysis(_0xc1926f){const _0x582407=a0_0x4776e0;if(!_0xc1926f[_0x582407(0x1ba)]||!_0xc1926f[_0x582407(0x1d0)])return;if(!canCallApi())return;const _0x3f2bbe=_0xc1926f[_0x582407(0x1a9)][_0x582407(0x1f8)]||0xe;if(_0xc1926f[_0x582407(0x1bf)]['length']<_0x3f2bbe+0x7){await _0xc1926f[_0x582407(0x1e3)]('LTM.driftAnalysis.baselineDrift',{'val':_0x582407(0x18b),'ack':!![]});return;}const _0x2a900a=_0xc1926f[_0x582407(0x1bf)][_0x582407(0x1b7)](-_0x3f2bbe),_0x1a0f67=_0xc1926f['dailyDigests'][_0x582407(0x1b7)](0x0,_0xc1926f[_0x582407(0x1bf)]['length']-_0x3f2bbe),_0x128eae=_0x582407(0x1c8)+JSON[_0x582407(0x190)](_0x1a0f67)+_0x582407(0x1a6)+JSON[_0x582407(0x190)](_0x2a900a);try{updateApiTimestamp();const _0x125fd3=await _0xc1926f[_0x582407(0x1d0)]['generateContent'](_0x128eae),_0x2c40d2=JSON[_0x582407(0x1a7)](_0x125fd3[_0x582407(0x1bc)][_0x582407(0x1b3)]()[_0x582407(0x1fa)](/```json|```/g,'')[_0x582407(0x1ea)]());_0x2c40d2[_0x582407(0x1b2)]&&(await _0xc1926f[_0x582407(0x1e3)]('LTM.driftAnalysis.baselineDrift',{'val':_0x2c40d2[_0x582407(0x1b2)],'ack':!![]}),await _0xc1926f['setStateAsync'](_0x582407(0x185),{'val':_0x2c40d2['driftDetails'],'ack':!![]}),await _0xc1926f[_0x582407(0x1e3)](_0x582407(0x1c7),{'val':Date[_0x582407(0x18f)](),'ack':!![]}));}catch(_0x283ada){}}async function executeAutomationAction(_0x7c0503){const _0x775596=a0_0x4776e0;try{const _0x2c3422=await _0x7c0503[_0x775596(0x1f9)](_0x775596(0x1e6)),_0x1213a7=await _0x7c0503[_0x775596(0x1f9)](_0x775596(0x17d));if(_0x2c3422&&_0x2c3422['val']&&_0x1213a7){const _0x3a343b=_0x2c3422['val'];let _0x40cb79=_0x1213a7[_0x775596(0x1f3)];try{_0x40cb79=JSON[_0x775596(0x1a7)](_0x40cb79);}catch(_0x1a321b){}_0x7c0503['log'][_0x775596(0x1e2)](_0x775596(0x1eb)+_0x3a343b+_0x775596(0x1f6)+_0x40cb79),await _0x7c0503[_0x775596(0x1fb)](_0x3a343b,_0x40cb79);}else _0x7c0503[_0x775596(0x191)][_0x775596(0x19f)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x19907e){_0x7c0503[_0x775596(0x191)][_0x775596(0x18c)](_0x775596(0x1d2)+_0x19907e[_0x775596(0x1d7)]);}}async function sendMorningBriefing(_0x15fff0){const _0xbd162=a0_0x4776e0;if(!_0x15fff0[_0xbd162(0x1d0)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x1dabf3=_0xbd162(0x1a3),_0x39aedb=await _0x15fff0[_0xbd162(0x1d0)]['generateContent'](_0x1dabf3),_0x71e2a=_0x39aedb[_0xbd162(0x1bc)]['text']();setup[_0xbd162(0x1bb)](_0x15fff0,_0xbd162(0x1d3)+_0x71e2a);}catch(_0x3df159){_0x15fff0['log'][_0xbd162(0x18c)](_0xbd162(0x1fc)+_0x3df159[_0xbd162(0x1d7)]);}}module[a0_0x4776e0(0x18a)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};