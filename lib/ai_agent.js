const a0_0x55e944=a0_0x5235;(function(_0x185fd0,_0x423351){const _0x5e4eff=a0_0x5235,_0x22876a=_0x185fd0();while(!![]){try{const _0x43a3bb=parseInt(_0x5e4eff(0x1c1))/0x1+parseInt(_0x5e4eff(0x1a7))/0x2*(-parseInt(_0x5e4eff(0x1bb))/0x3)+-parseInt(_0x5e4eff(0x177))/0x4*(parseInt(_0x5e4eff(0x18e))/0x5)+parseInt(_0x5e4eff(0x1cf))/0x6+parseInt(_0x5e4eff(0x19d))/0x7+-parseInt(_0x5e4eff(0x189))/0x8+-parseInt(_0x5e4eff(0x16c))/0x9;if(_0x43a3bb===_0x423351)break;else _0x22876a['push'](_0x22876a['shift']());}catch(_0x2087c7){_0x22876a['push'](_0x22876a['shift']());}}}(a0_0x422e,0xed520));const a0_0x4f3909=(function(){let _0x2eaa29=!![];return function(_0x327d27,_0x250328){const _0x1811fd=_0x2eaa29?function(){if(_0x250328){const _0x2f3788=_0x250328['apply'](_0x327d27,arguments);return _0x250328=null,_0x2f3788;}}:function(){};return _0x2eaa29=![],_0x1811fd;};}()),a0_0xd7616=a0_0x4f3909(this,function(){const _0x20d9f7=a0_0x5235;return a0_0xd7616[_0x20d9f7(0x1a0)]()[_0x20d9f7(0x1af)](_0x20d9f7(0x1ae))[_0x20d9f7(0x1a0)]()['constructor'](a0_0xd7616)[_0x20d9f7(0x1af)](_0x20d9f7(0x1ae));});a0_0xd7616();'use strict';const {GoogleGenerativeAI}=require(a0_0x55e944(0x1a1)),setup=require(a0_0x55e944(0x184)),GEMINI_MODEL=a0_0x55e944(0x19f),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x55e944(0x167),LTM_DP_RAW_LOG=a0_0x55e944(0x1d5),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x55e944(0x180),'family':a0_0x55e944(0x1cb),'single_comfort':a0_0x55e944(0x153),'security':a0_0x55e944(0x162),'energy_saver':a0_0x55e944(0x1a4)};function canCallApi(){const _0x16e831=Date['now']();return _0x16e831-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x2310dd){const _0x57008f=a0_0x55e944;if(!_0x2310dd[_0x57008f(0x17c)]['useWeather']||!_0x2310dd[_0x57008f(0x17c)][_0x57008f(0x1b2)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x256db5=_0x2310dd[_0x57008f(0x17c)][_0x57008f(0x1b2)];let _0x5d63ef=await _0x2310dd[_0x57008f(0x172)](_0x256db5+_0x57008f(0x1a9));if(!_0x5d63ef)_0x5d63ef=await _0x2310dd[_0x57008f(0x172)](_0x256db5+_0x57008f(0x1e1));let _0x630182=await _0x2310dd[_0x57008f(0x172)](_0x256db5+_0x57008f(0x15f));if(!_0x630182)_0x630182=await _0x2310dd[_0x57008f(0x172)](_0x256db5+_0x57008f(0x175));let _0x3100ae=_0x57008f(0x1ba);const _0x381c75=await _0x2310dd['getForeignStateAsync'](_0x256db5+_0x57008f(0x1ad));if(_0x381c75)_0x3100ae=_0x381c75['val']?'Nacht':_0x57008f(0x183);if(_0x5d63ef&&_0x630182)return _0x5d63ef[_0x57008f(0x155)]+'¬∞C,\x20'+_0x630182[_0x57008f(0x155)]+_0x57008f(0x165)+_0x3100ae;}catch(_0x6ee107){}return _0x57008f(0x163);}async function consultButler(_0x2df0c4,_0x38d2ff,_0x45db13,_0x44c2a4){const _0x392410=a0_0x55e944;if(!_0x2df0c4[_0x392410(0x17f)])return{'approved':!![],'reason':_0x392410(0x1b6)};const _0x4f6424=Date['now']();if(decisionCache[_0x38d2ff]&&_0x4f6424-decisionCache[_0x38d2ff][_0x392410(0x19c)]<CACHE_TTL_MS){const _0x42de26=decisionCache[_0x38d2ff][_0x392410(0x15a)];return _0x2df0c4[_0x392410(0x15b)][_0x392410(0x18f)](_0x392410(0x1a3)+_0x38d2ff+_0x392410(0x156)+(_0x42de26[_0x392410(0x187)]?'OK':'NO')+'\x20('+_0x42de26[_0x392410(0x195)]+')'),_0x42de26;}if(!canCallApi())return _0x2df0c4[_0x392410(0x15b)][_0x392410(0x18f)]('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x38d2ff+_0x392410(0x1cd)),{'approved':!![],'reason':_0x392410(0x17e)};const _0x64947b=new Date()[_0x392410(0x1dc)](),_0x337a35=await getWeatherContext(_0x2df0c4),_0x1a296b=PERSONA_MAPPING[_0x2df0c4['config'][_0x392410(0x1bc)]||_0x392410(0x179)],_0x51e55b='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x64947b+_0x392410(0x154)+_0x337a35+_0x392410(0x1b1)+(_0x44c2a4*0x64)[_0x392410(0x182)](0x0)+_0x392410(0x173)+_0x38d2ff+_0x392410(0x1ac)+_0x45db13+_0x392410(0x1c6)+_0x1a296b+_0x392410(0x17b);try{updateApiTimestamp();const _0x220afc=await _0x2df0c4[_0x392410(0x17f)]['generateContent'](_0x51e55b),_0x359f5b=_0x220afc[_0x392410(0x174)]['text']()[_0x392410(0x1be)](/```json|```/g,'')[_0x392410(0x1de)](),_0xe1d189=JSON[_0x392410(0x1a5)](_0x359f5b);return decisionCache[_0x38d2ff]={'decision':_0xe1d189,'timestamp':_0x4f6424},_0xe1d189;}catch(_0x30ceb3){return _0x2df0c4[_0x392410(0x15b)]['warn'](_0x392410(0x168)+_0x30ceb3[_0x392410(0x1c5)]),decisionCache[_0x38d2ff]={'decision':{'approved':!![],'reason':_0x392410(0x1c2)},'timestamp':_0x4f6424-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x392410(0x1c2)};}}async function runGeminiAnalysis(_0x396463,_0x306732=''){const _0x3676af=a0_0x55e944;if(!_0x396463[_0x3676af(0x17f)])return;if(!canCallApi()){_0x396463['log'][_0x3676af(0x18f)](_0x3676af(0x199));return;}if(_0x396463[_0x3676af(0x19a)][_0x3676af(0x1a6)]===0x0)return;const _0x4ce7d4=_0x396463[_0x3676af(0x19a)]['slice'](0x0,0xf),_0x3b33fb=_0x396463[_0x3676af(0x1ab)],_0xe31019=PERSONA_MAPPING[_0x396463[_0x3676af(0x17c)][_0x3676af(0x1bc)]||'generic'],_0x36eedc=_0x396463['config'][_0x3676af(0x1dd)]||_0x3676af(0x159);let _0x803e12=_0x3676af(0x1ba);try{const _0x49b536=await _0x396463[_0x3676af(0x18a)](_0x3676af(0x1d1));if(_0x49b536&&_0x49b536[_0x3676af(0x155)])_0x803e12=_0x49b536[_0x3676af(0x155)];}catch(_0x42d2c4){}let _0x10a239=![];try{const _0x6b8d03=await _0x396463[_0x3676af(0x18a)](_0x3676af(0x181));if(_0x6b8d03&&_0x6b8d03[_0x3676af(0x155)])_0x10a239=!![];}catch(_0x5bfd15){}const _0x215093=_0x3676af(0x190)+_0xe31019+_0x3676af(0x1d9)+_0x36eedc+'.\x20SYSTEM_MODE:\x20'+_0x3b33fb+_0x3676af(0x1c0)+_0x803e12+_0x3676af(0x1d0)+JSON['stringify'](_0x4ce7d4)+_0x3676af(0x1b3)+_0x306732+_0x3676af(0x1c9);try{updateApiTimestamp();const _0x3fe2e9=await _0x396463[_0x3676af(0x17f)][_0x3676af(0x1c7)](_0x215093),_0x18652a=JSON['parse'](_0x3fe2e9[_0x3676af(0x174)]['text']()['replace'](/```json|```/g,'')['trim']());await _0x396463[_0x3676af(0x19e)](_0x3676af(0x188),{'val':JSON['stringify'](_0x18652a),'ack':!![]});if(_0x18652a[_0x3676af(0x1bd)])await _0x396463[_0x3676af(0x19e)](_0x3676af(0x1bf),{'val':_0x18652a[_0x3676af(0x1bd)],'ack':!![]});const _0x12cf47={'timestamp':Date[_0x3676af(0x1d8)](),'id':Date['now']()['toString'](),'analysis':{'activity':{'summary':_0x18652a[_0x3676af(0x1bd)],'isAlert':_0x18652a[_0x3676af(0x1a8)],'alertReason':_0x18652a[_0x3676af(0x166)]},'comfort':{'automationProposal':_0x18652a['automationProposal']}}};_0x396463['analysisHistory'][_0x3676af(0x1ca)](_0x12cf47);if(_0x396463[_0x3676af(0x178)][_0x3676af(0x1a6)]>0x32)_0x396463[_0x3676af(0x178)][_0x3676af(0x16a)]();await _0x396463[_0x3676af(0x19e)](_0x3676af(0x1d6),{'val':JSON[_0x3676af(0x15c)](_0x396463[_0x3676af(0x178)]),'ack':!![]});const _0x5f1884=_0x18652a[_0x3676af(0x1a8)]||![];_0x5f1884!==_0x396463[_0x3676af(0x194)]&&(await _0x396463[_0x3676af(0x19e)](_0x3676af(0x191),{'val':_0x5f1884,'ack':!![]}),_0x396463[_0x3676af(0x194)]=_0x5f1884,_0x5f1884&&(await _0x396463['setStateAsync'](_0x3676af(0x1b7),{'val':_0x18652a[_0x3676af(0x166)],'ack':!![]}),setup[_0x3676af(0x1aa)](_0x396463,_0x3676af(0x17a)+_0x18652a[_0x3676af(0x166)],![],_0x18652a['isEmergency'])));if(_0x18652a[_0x3676af(0x161)]&&_0x18652a[_0x3676af(0x161)]['detected']){await _0x396463['setStateAsync'](_0x3676af(0x160),{'val':!![],'ack':!![]}),await _0x396463[_0x3676af(0x19e)](_0x3676af(0x1d7),{'val':_0x18652a[_0x3676af(0x161)]['description'],'ack':!![]}),await _0x396463[_0x3676af(0x19e)](_0x3676af(0x16b),{'val':_0x18652a[_0x3676af(0x161)][_0x3676af(0x158)],'ack':!![]}),await _0x396463[_0x3676af(0x19e)](_0x3676af(0x1da),{'val':JSON[_0x3676af(0x15c)](_0x18652a['automationProposal'][_0x3676af(0x176)]),'ack':!![]});if(_0x10a239)executeAutomationAction(_0x396463);}}catch(_0x12cef9){_0x396463[_0x3676af(0x15b)]['error'](_0x3676af(0x185)+_0x12cef9[_0x3676af(0x1c5)]);}}function a0_0x5235(_0x30d19c,_0x4320bb){const _0x2fdb55=a0_0x422e();return a0_0x5235=function(_0xd7616,_0x4f3909){_0xd7616=_0xd7616-0x152;let _0x422e00=_0x2fdb55[_0xd7616];return _0x422e00;},a0_0x5235(_0x30d19c,_0x4320bb);}async function createDailyDigest(_0x461c02,_0x557194){const _0x4cb6b7=a0_0x55e944;if(!_0x461c02[_0x4cb6b7(0x1b8)])return;if(!canCallApi()){await _0x461c02[_0x4cb6b7(0x19e)](LTM_DP_STATUS,{'val':_0x4cb6b7(0x157),'ack':!![]});return;}await _0x461c02[_0x4cb6b7(0x19e)](LTM_DP_STATUS,{'val':_0x4cb6b7(0x1df),'ack':!![]});if(!_0x461c02[_0x4cb6b7(0x17f)]||_0x461c02[_0x4cb6b7(0x19b)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x461c02['setStateAsync'](LTM_DP_STATUS,{'val':_0x4cb6b7(0x1e0),'ack':!![]});return;}const _0x4cb96a=JSON['parse'](JSON['stringify'](_0x461c02[_0x4cb6b7(0x19b)])),_0x208c07=_0x4cb96a[_0x4cb6b7(0x1a6)],_0x4ba128='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x4cb6b7(0x15c)](_0x4cb96a);try{updateApiTimestamp();const _0x3d46f0=await _0x461c02['geminiModel']['generateContent'](_0x4ba128),_0xc8cb48=JSON[_0x4cb6b7(0x1a5)](_0x3d46f0[_0x4cb6b7(0x174)][_0x4cb6b7(0x1b0)]()[_0x4cb6b7(0x1be)](/```json|```/g,'')['trim']()),_0x2b5c5c={'timestamp':new Date()['toISOString'](),'eventCount':_0x208c07,'summary':_0xc8cb48[_0x4cb6b7(0x1bd)]||_0x4cb6b7(0x18b),'activityLevel':_0xc8cb48[_0x4cb6b7(0x186)]||_0x4cb6b7(0x1db),'systemMode':_0x461c02[_0x4cb6b7(0x1ab)]};_0x461c02['dailyDigests'][_0x4cb6b7(0x1d3)](_0x2b5c5c);const _0x205c24=_0x461c02['config'][_0x4cb6b7(0x1cc)]||0x3c;_0x461c02[_0x4cb6b7(0x18c)]['length']>_0x205c24&&_0x461c02[_0x4cb6b7(0x18c)][_0x4cb6b7(0x170)](0x0,_0x461c02[_0x4cb6b7(0x18c)][_0x4cb6b7(0x1a6)]-_0x205c24);await _0x461c02[_0x4cb6b7(0x19e)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4cb6b7(0x15c)](_0x461c02[_0x4cb6b7(0x18c)]),'ack':!![]}),_0x461c02[_0x4cb6b7(0x19b)]=[],await _0x461c02['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x4cb6b7(0x15c)](_0x461c02[_0x4cb6b7(0x19b)]),'ack':!![]}),await _0x461c02[_0x4cb6b7(0x19e)](LTM_DP_STATUS,{'val':'Success','ack':!![]});const _0x378c8a=_0x4cb6b7(0x1c8)+_0xc8cb48['summary']+_0x4cb6b7(0x17d)+_0xc8cb48[_0x4cb6b7(0x186)];setup[_0x4cb6b7(0x1aa)](_0x461c02,_0x378c8a,![],![]);if(_0x461c02[_0x4cb6b7(0x1b8)]&&_0x557194)_0x557194[_0x4cb6b7(0x1d2)](_0x461c02,_0x4cb6b7(0x196),{'digest':_0x2b5c5c});}catch(_0x363f51){_0x461c02[_0x4cb6b7(0x15b)][_0x4cb6b7(0x1b9)](_0x363f51[_0x4cb6b7(0x1c5)]);}}async function runBaselineDriftAnalysis(_0x15c403){const _0x6356d4=a0_0x55e944;if(!_0x15c403[_0x6356d4(0x1b8)]||!_0x15c403[_0x6356d4(0x17f)])return;if(!canCallApi())return;const _0xe67366=_0x15c403[_0x6356d4(0x17c)][_0x6356d4(0x192)]||0xe;if(_0x15c403[_0x6356d4(0x18c)]['length']<_0xe67366+0x7){await _0x15c403[_0x6356d4(0x19e)](_0x6356d4(0x1b4),{'val':_0x6356d4(0x1a2),'ack':!![]});return;}const _0x128e97=_0x15c403[_0x6356d4(0x18c)][_0x6356d4(0x152)](-_0xe67366),_0xf7557a=_0x15c403[_0x6356d4(0x18c)][_0x6356d4(0x152)](0x0,_0x15c403['dailyDigests'][_0x6356d4(0x1a6)]-_0xe67366),_0x236b0e=_0x6356d4(0x1c3)+JSON[_0x6356d4(0x15c)](_0xf7557a)+_0x6356d4(0x18d)+JSON[_0x6356d4(0x15c)](_0x128e97);try{updateApiTimestamp();const _0x22fafd=await _0x15c403[_0x6356d4(0x17f)][_0x6356d4(0x1c7)](_0x236b0e),_0x981d57=JSON[_0x6356d4(0x1a5)](_0x22fafd['response'][_0x6356d4(0x1b0)]()[_0x6356d4(0x1be)](/```json|```/g,'')[_0x6356d4(0x1de)]());_0x981d57['baselineDrift']&&(await _0x15c403['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x981d57[_0x6356d4(0x16f)],'ack':!![]}),await _0x15c403[_0x6356d4(0x19e)](_0x6356d4(0x15d),{'val':_0x981d57[_0x6356d4(0x16d)],'ack':!![]}),await _0x15c403[_0x6356d4(0x19e)](_0x6356d4(0x16e),{'val':Date[_0x6356d4(0x1d8)](),'ack':!![]}));}catch(_0xb0e434){}}async function executeAutomationAction(_0x345de4){const _0x508815=a0_0x55e944;try{const _0x100775=await _0x345de4[_0x508815(0x18a)](_0x508815(0x16b)),_0x14dc4f=await _0x345de4['getStateAsync'](_0x508815(0x1da));if(_0x100775&&_0x100775[_0x508815(0x155)]&&_0x14dc4f){const _0x7004f8=_0x100775[_0x508815(0x155)];let _0x18cd4b=_0x14dc4f['val'];try{_0x18cd4b=JSON['parse'](_0x18cd4b);}catch(_0x1e94d6){}_0x345de4[_0x508815(0x15b)][_0x508815(0x1b5)](_0x508815(0x1c4)+_0x7004f8+_0x508815(0x164)+_0x18cd4b),await _0x345de4['setForeignStateAsync'](_0x7004f8,_0x18cd4b);}else _0x345de4[_0x508815(0x15b)][_0x508815(0x169)](_0x508815(0x15e));}catch(_0x127245){_0x345de4[_0x508815(0x15b)][_0x508815(0x1b9)](_0x508815(0x1ce)+_0x127245['message']);}}async function sendMorningBriefing(_0x284198){const _0x259c2d=a0_0x55e944;if(!_0x284198[_0x259c2d(0x17f)]){_0x284198[_0x259c2d(0x15b)][_0x259c2d(0x169)]('ü§ñ\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.');return;}_0x284198[_0x259c2d(0x15b)][_0x259c2d(0x1b5)](_0x259c2d(0x171));try{updateApiTimestamp();const _0x146f20=_0x259c2d(0x193),_0x41dfe8=await _0x284198[_0x259c2d(0x17f)][_0x259c2d(0x1c7)](_0x146f20),_0x4ab46e=_0x41dfe8[_0x259c2d(0x174)][_0x259c2d(0x1b0)]();_0x284198[_0x259c2d(0x15b)][_0x259c2d(0x1b5)](_0x259c2d(0x1d4)+_0x4ab46e[_0x259c2d(0x1a6)]+').\x20Sending\x20notification...'),setup[_0x259c2d(0x1aa)](_0x284198,'üåÖ\x20Morning\x20Briefing:\x0a'+_0x4ab46e);}catch(_0x59286a){_0x284198[_0x259c2d(0x15b)][_0x259c2d(0x1b9)](_0x259c2d(0x198)+_0x59286a[_0x259c2d(0x1c5)]);}}function a0_0x422e(){const _0x4b0cd1=['.\x20ANWESEND:\x20','1477899BdBtZY','KI-Fehler\x20(Fallback)','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','message','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','generateContent','üìÖ\x20Daily\x20Digest:\x0a','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','unshift','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','ltmLtbWindowDays','\x20√ºbersprungen\x20(Auto-Approved).','BUTLER\x20Execution\x20Error:\x20','9169506NQAclk','.\x20EVENTS:\x20','system.presenceWho','send','push','üåÖ\x20Briefing\x20generated\x20(Length:\x20','LTM.rawEventLog','analysis.analysisHistory','analysis.automation.description','now','.\x20KONTEXT:\x20','analysis.automation.targetValue','normal','toLocaleTimeString','livingContext','trim','Started...','Skipped\x20(No\x20AI\x20or\x20Data)','.forecast.current.temperature','slice','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.',',\x20Wetter:\x20','val','\x20->\x20','Skipped\x20(Traffic)','targetId','Keine\x20Details.','decision','log','stringify','LTM.driftAnalysis.driftDetails','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','.Current.WeatherText','analysis.automation.patternDetected','automationProposal','Sicherheit\x20geht\x20vor.','Wetterdaten\x20nicht\x20abrufbar','\x20=\x20',',\x20Lichtverh√§ltnisse:\x20','alertReason','LTM.processingStatus','ü§ñ\x20Butler\x20Brain\x20Error:\x20','warn','pop','analysis.automation.targetId','3925494VUoXJK','driftDetails','LTM.driftAnalysis.lastCheck','baselineDrift','splice','üåÖ\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','getForeignStateAsync','%)\x20nach\x20\x22','response','.forecast.current.state','targetValue','4sdxIJD','analysisHistory','generic','‚ö†Ô∏è\x20ALARM:\x20','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','config','\x0aAktivit√§t:\x20','Traffic-Schutz\x20(Auto-Approved)','geminiModel','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','analysis.automation.autoApply','toFixed','Tag','./setup','Gemini\x20Error:\x20','activityLevel','approved','analysis.lastResult','6741408wYCEQp','getStateAsync','Digest','dailyDigests','\x0aSTB:\x20','1148030MLsTHa','debug','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','analysis.isAlert','ltmStbWindowDays','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','lastAlertState','reason','ANALYZE_HEALTH','exports','Briefing\x20Error:\x20','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','eventHistory','rawEventLog','timestamp','5617374SrwZUS','setStateAsync','models/gemini-flash-latest','toString','@google/generative-ai','N/A\x20(Learning)','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','parse','length','8GcPcAX','isAlert','.Current.Temperature','sendNotification','currentSystemMode','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','.Current.IsNight','(((.+)+)+)+$','search','text','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','weatherInstance','.\x20EMERGENCY:\x20','LTM.driftAnalysis.baselineDrift','info','KI\x20offline\x20(Fallback)','analysis.alertReason','isProVersion','error','Unbekannt','996090MAGHLn','aiPersona','summary','replace','analysis.activitySummary'];a0_0x422e=function(){return _0x4b0cd1;};return a0_0x422e();}module[a0_0x55e944(0x197)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};