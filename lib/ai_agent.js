const a0_0x45ce59=a0_0x4c2d;(function(_0x1573f8,_0x4da985){const _0x1f7f52=a0_0x4c2d,_0x2f3812=_0x1573f8();while(!![]){try{const _0x3a91a1=-parseInt(_0x1f7f52(0x156))/0x1+-parseInt(_0x1f7f52(0x132))/0x2*(parseInt(_0x1f7f52(0xd5))/0x3)+parseInt(_0x1f7f52(0x107))/0x4+-parseInt(_0x1f7f52(0x14a))/0x5*(parseInt(_0x1f7f52(0x109))/0x6)+parseInt(_0x1f7f52(0x11a))/0x7+parseInt(_0x1f7f52(0x11c))/0x8+parseInt(_0x1f7f52(0x155))/0x9*(parseInt(_0x1f7f52(0x100))/0xa);if(_0x3a91a1===_0x4da985)break;else _0x2f3812['push'](_0x2f3812['shift']());}catch(_0x25854b){_0x2f3812['push'](_0x2f3812['shift']());}}}(a0_0x35f2,0x3347f));const a0_0x7e739c=(function(){let _0x229f82=!![];return function(_0x1fb394,_0x135529){const _0x1b46e1=_0x229f82?function(){const _0x2c950b=a0_0x4c2d;if(_0x135529){const _0xcb7640=_0x135529[_0x2c950b(0x10f)](_0x1fb394,arguments);return _0x135529=null,_0xcb7640;}}:function(){};return _0x229f82=![],_0x1b46e1;};}()),a0_0x2327f2=a0_0x7e739c(this,function(){const _0x46735f=a0_0x4c2d;return a0_0x2327f2[_0x46735f(0xea)]()[_0x46735f(0x136)](_0x46735f(0xe6))['toString']()['constructor'](a0_0x2327f2)[_0x46735f(0x136)](_0x46735f(0xe6));});a0_0x2327f2();'use strict';function a0_0x35f2(){const _0x4c4c78=['system.presenceWho','.forecast.current.temperature','ðŸŒ…\x20Briefing\x20generated\x20(Length:\x20','155708SQcwdG','.forecast.current.state','2047624rAAAYE','.\x20EMERGENCY:\x20','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','\x20=\x20','debug','BUTLER\x20Execution\x20Error:\x20','Wetterdaten\x20nicht\x20abrufbar','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','val','sendNotification','driftDetails','analysis.automation.description','getForeignStateAsync','error','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','now','lastAlertState','LTM.driftAnalysis.driftDetails','rawEventLog','warn','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','response','170jjYuHF','ðŸ“…\x20Daily\x20Digest:\x0a','summary','livingContext','search','Â°C,\x20','info','weatherInstance','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','slice','getStateAsync','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','generic','dailyDigests','Unbekannt','analysis.automation.patternDetected','push','KI\x20offline\x20(Fallback)','replace','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','alertReason','LTM.driftAnalysis.lastCheck','analysisHistory','aiPersona','25NncXND','Nacht','send','LTM.driftAnalysis.baselineDrift','Keine\x20Details.','log','ANALYZE_HEALTH','ðŸŒ…\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','description','analysis.activitySummary','timestamp','54666SJhekV','150264nAQCpH','\x20->\x20','config','generateContent','.\x20ANWESEND:\x20','Skipped\x20(Traffic)','Skipped\x20(No\x20AI\x20or\x20Data)','\x20Ã¼bersprungen\x20(Auto-Approved).','message','Unbekannt\x20(Kein\x20Sensor)','automationProposal','isProVersion','2154twDvdg',',\x20Wetter:\x20','ltmStbWindowDays','toISOString','geminiModel','LTM.dailyDigests','.Current.WeatherText','Started...','@google/generative-ai','./setup','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','parse','setStateAsync','toLocaleTimeString','text','Briefing\x20Error:\x20','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','(((.+)+)+)+$','decision','analysis.automation.targetId','trim','toString','stringify','.Current.IsNight','useWeather','setForeignStateAsync','targetValue','analysis.analysisHistory','âš ï¸\x20ALARM:\x20','currentSystemMode','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','KI-Fehler\x20(Fallback)','Digest','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','LTM.processingStatus','\x0aAktivitÃ¤t:\x20','Tag','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','isAlert','activityLevel','850urtFPe','splice','.Current.Temperature','ðŸŒ…\x20Morning\x20Briefing:\x0a','exports','analysis.automation.autoApply','approved','163156eukQof','length','496722RENcUp','Traffic-Schutz\x20(Auto-Approved)','reason','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','%)\x20nach\x20\x22','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','apply','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','.\x20SYSTEM_MODE:\x20','ltmLtbWindowDays',',\x20LichtverhÃ¤ltnisse:\x20','N/A\x20(Learning)','analysis.automation.targetValue','eventHistory'];a0_0x35f2=function(){return _0x4c4c78;};return a0_0x35f2();}const {GoogleGenerativeAI}=require(a0_0x45ce59(0xdd)),setup=require(a0_0x45ce59(0xde)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x45ce59(0xda),LTM_DP_STATUS=a0_0x45ce59(0xf9),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x45ce59(0xdf),'senior_aal':a0_0x45ce59(0xf4),'family':'Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','single_comfort':a0_0x45ce59(0x145),'security':'Sicherheit\x20geht\x20vor.','energy_saver':a0_0x45ce59(0x12a)};function canCallApi(){const _0x25f20a=Date['now']();return _0x25f20a-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x40875e=a0_0x45ce59;lastGlobalApiCall=Date[_0x40875e(0x12b)]();}async function getWeatherContext(_0xc47eef){const _0x1f65ee=a0_0x45ce59;if(!_0xc47eef[_0x1f65ee(0x158)][_0x1f65ee(0xed)]||!_0xc47eef['config'][_0x1f65ee(0x139)])return _0x1f65ee(0xd2);try{const _0x180433=_0xc47eef['config'][_0x1f65ee(0x139)];let _0xf8d86b=await _0xc47eef[_0x1f65ee(0x128)](_0x180433+_0x1f65ee(0x102));if(!_0xf8d86b)_0xf8d86b=await _0xc47eef[_0x1f65ee(0x128)](_0x180433+_0x1f65ee(0x118));let _0x3e3402=await _0xc47eef[_0x1f65ee(0x128)](_0x180433+_0x1f65ee(0xdb));if(!_0x3e3402)_0x3e3402=await _0xc47eef[_0x1f65ee(0x128)](_0x180433+_0x1f65ee(0x11b));let _0x1654ab='Unbekannt';const _0x2bd2a8=await _0xc47eef[_0x1f65ee(0x128)](_0x180433+_0x1f65ee(0xec));if(_0x2bd2a8)_0x1654ab=_0x2bd2a8[_0x1f65ee(0x124)]?_0x1f65ee(0x14b):_0x1f65ee(0xfb);if(_0xf8d86b&&_0x3e3402)return _0xf8d86b[_0x1f65ee(0x124)]+_0x1f65ee(0x137)+_0x3e3402[_0x1f65ee(0x124)]+_0x1f65ee(0x113)+_0x1654ab;}catch(_0x3e5fc9){}return _0x1f65ee(0x122);}async function consultButler(_0x4cecea,_0x35cfb3,_0x1a102e,_0x5ae54c){const _0x781262=a0_0x45ce59;if(!_0x4cecea[_0x781262(0xd9)])return{'approved':!![],'reason':_0x781262(0x143)};const _0x5f1329=Date[_0x781262(0x12b)]();if(decisionCache[_0x35cfb3]&&_0x5f1329-decisionCache[_0x35cfb3][_0x781262(0x154)]<CACHE_TTL_MS){const _0x1061f2=decisionCache[_0x35cfb3][_0x781262(0xe7)];return _0x4cecea[_0x781262(0x14f)][_0x781262(0x120)](_0x781262(0x11e)+_0x35cfb3+_0x781262(0x157)+(_0x1061f2[_0x781262(0x106)]?'OK':'NO')+'\x20('+_0x1061f2[_0x781262(0x10b)]+')'),_0x1061f2;}if(!canCallApi())return _0x4cecea[_0x781262(0x14f)][_0x781262(0x120)](_0x781262(0x130)+_0x35cfb3+_0x781262(0x15d)),{'approved':!![],'reason':_0x781262(0x10a)};const _0x59d3ef=new Date()[_0x781262(0xe2)](),_0x5aceb4=await getWeatherContext(_0x4cecea),_0x54fe49=PERSONA_MAPPING[_0x4cecea[_0x781262(0x158)][_0x781262(0x149)]||_0x781262(0x13e)],_0x4e7830=_0x781262(0xe5)+_0x59d3ef+_0x781262(0xd6)+_0x5aceb4+_0x781262(0xfc)+(_0x5ae54c*0x64)['toFixed'](0x0)+_0x781262(0x10d)+_0x35cfb3+_0x781262(0x123)+_0x1a102e+_0x781262(0xf3)+_0x54fe49+_0x781262(0xfd);try{updateApiTimestamp();const _0x15b518=await _0x4cecea['geminiModel'][_0x781262(0x159)](_0x4e7830),_0x47ce0e=_0x15b518['response'][_0x781262(0xe3)]()['replace'](/```json|```/g,'')[_0x781262(0xe9)](),_0x371194=JSON[_0x781262(0xe0)](_0x47ce0e);return decisionCache[_0x35cfb3]={'decision':_0x371194,'timestamp':_0x5f1329},_0x371194;}catch(_0x375939){return _0x4cecea[_0x781262(0x14f)][_0x781262(0x12f)]('ðŸ¤–\x20Butler\x20Brain\x20Error:\x20'+_0x375939[_0x781262(0x15e)]),decisionCache[_0x35cfb3]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x5f1329-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x781262(0xf5)};}}async function runGeminiAnalysis(_0x335d22,_0x9d0256=''){const _0x11747a=a0_0x45ce59;if(!_0x335d22['geminiModel'])return;if(!canCallApi()){_0x335d22[_0x11747a(0x14f)][_0x11747a(0x120)](_0x11747a(0xf8));return;}if(_0x335d22['eventHistory'][_0x11747a(0x108)]===0x0)return;const _0xfc6d7a=_0x335d22[_0x11747a(0x116)][_0x11747a(0x13b)](0x0,0xf),_0x49ed08=_0x335d22['currentSystemMode'],_0x515164=PERSONA_MAPPING[_0x335d22[_0x11747a(0x158)][_0x11747a(0x149)]||_0x11747a(0x13e)],_0x14c328=_0x335d22[_0x11747a(0x158)][_0x11747a(0x135)]||_0x11747a(0x14e);let _0x1902b8=_0x11747a(0x140);try{const _0x4a0514=await _0x335d22['getStateAsync'](_0x11747a(0x117));if(_0x4a0514&&_0x4a0514[_0x11747a(0x124)])_0x1902b8=_0x4a0514[_0x11747a(0x124)];}catch(_0x1cd37a){}let _0x5c8c87=![];try{const _0x2543ae=await _0x335d22[_0x11747a(0x13c)](_0x11747a(0x105));if(_0x2543ae&&_0x2543ae[_0x11747a(0x124)])_0x5c8c87=!![];}catch(_0x25a6f4){}const _0x147d77=_0x11747a(0x10e)+_0x515164+'.\x20KONTEXT:\x20'+_0x14c328+_0x11747a(0x111)+_0x49ed08+_0x11747a(0x15a)+_0x1902b8+'.\x20EVENTS:\x20'+JSON[_0x11747a(0xeb)](_0xfc6d7a)+_0x11747a(0x11d)+_0x9d0256+_0x11747a(0x13a);try{updateApiTimestamp();const _0x22d56a=await _0x335d22['geminiModel']['generateContent'](_0x147d77),_0x78c708=JSON[_0x11747a(0xe0)](_0x22d56a[_0x11747a(0x131)]['text']()['replace'](/```json|```/g,'')[_0x11747a(0xe9)]());await _0x335d22[_0x11747a(0xe1)]('analysis.lastResult',{'val':JSON[_0x11747a(0xeb)](_0x78c708),'ack':!![]});if(_0x78c708['summary'])await _0x335d22[_0x11747a(0xe1)](_0x11747a(0x153),{'val':_0x78c708['summary'],'ack':!![]});const _0x164fc4={'timestamp':Date[_0x11747a(0x12b)](),'id':Date[_0x11747a(0x12b)]()[_0x11747a(0xea)](),'analysis':{'activity':{'summary':_0x78c708[_0x11747a(0x134)],'isAlert':_0x78c708[_0x11747a(0xfe)],'alertReason':_0x78c708[_0x11747a(0x146)]},'comfort':{'automationProposal':_0x78c708[_0x11747a(0xd3)]}}};_0x335d22['analysisHistory']['unshift'](_0x164fc4);if(_0x335d22[_0x11747a(0x148)][_0x11747a(0x108)]>0x32)_0x335d22[_0x11747a(0x148)]['pop']();await _0x335d22['setStateAsync'](_0x11747a(0xf0),{'val':JSON['stringify'](_0x335d22[_0x11747a(0x148)]),'ack':!![]});const _0x2f6d8d=_0x78c708['isAlert']||![];_0x2f6d8d!==_0x335d22['lastAlertState']&&(await _0x335d22[_0x11747a(0xe1)]('analysis.isAlert',{'val':_0x2f6d8d,'ack':!![]}),_0x335d22[_0x11747a(0x12c)]=_0x2f6d8d,_0x2f6d8d&&(await _0x335d22['setStateAsync']('analysis.alertReason',{'val':_0x78c708['alertReason'],'ack':!![]}),setup[_0x11747a(0x125)](_0x335d22,_0x11747a(0xf1)+_0x78c708[_0x11747a(0x146)],![],_0x78c708['isEmergency'])));if(_0x78c708[_0x11747a(0xd3)]&&_0x78c708['automationProposal']['detected']){await _0x335d22[_0x11747a(0xe1)](_0x11747a(0x141),{'val':!![],'ack':!![]}),await _0x335d22[_0x11747a(0xe1)](_0x11747a(0x127),{'val':_0x78c708[_0x11747a(0xd3)][_0x11747a(0x152)],'ack':!![]}),await _0x335d22[_0x11747a(0xe1)](_0x11747a(0xe8),{'val':_0x78c708['automationProposal']['targetId'],'ack':!![]}),await _0x335d22[_0x11747a(0xe1)]('analysis.automation.targetValue',{'val':JSON[_0x11747a(0xeb)](_0x78c708[_0x11747a(0xd3)][_0x11747a(0xef)]),'ack':!![]});if(_0x5c8c87)executeAutomationAction(_0x335d22);}}catch(_0x2e08cd){_0x335d22['log']['error']('Gemini\x20Error:\x20'+_0x2e08cd[_0x11747a(0x15e)]);}}async function createDailyDigest(_0x1adcad,_0x2928be){const _0x2508e5=a0_0x45ce59;if(!_0x1adcad['isProVersion'])return;if(!canCallApi()){await _0x1adcad[_0x2508e5(0xe1)](LTM_DP_STATUS,{'val':_0x2508e5(0x15b),'ack':!![]});return;}await _0x1adcad[_0x2508e5(0xe1)](LTM_DP_STATUS,{'val':_0x2508e5(0xdc),'ack':!![]});if(!_0x1adcad[_0x2508e5(0xd9)]||_0x1adcad[_0x2508e5(0x12e)][_0x2508e5(0x108)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1adcad[_0x2508e5(0xe1)](LTM_DP_STATUS,{'val':_0x2508e5(0x15c),'ack':!![]});return;}const _0x24557b=JSON[_0x2508e5(0xe0)](JSON['stringify'](_0x1adcad[_0x2508e5(0x12e)])),_0x2fbb21=_0x24557b[_0x2508e5(0x108)],_0x56505c=_0x2508e5(0x10c)+JSON[_0x2508e5(0xeb)](_0x24557b);try{updateApiTimestamp();const _0x3740b3=await _0x1adcad[_0x2508e5(0xd9)][_0x2508e5(0x159)](_0x56505c),_0x5d8146=JSON[_0x2508e5(0xe0)](_0x3740b3['response'][_0x2508e5(0xe3)]()[_0x2508e5(0x144)](/```json|```/g,'')[_0x2508e5(0xe9)]()),_0x433da1={'timestamp':new Date()[_0x2508e5(0xd8)](),'eventCount':_0x2fbb21,'summary':_0x5d8146[_0x2508e5(0x134)]||_0x2508e5(0xf6),'activityLevel':_0x5d8146[_0x2508e5(0xff)]||'normal','systemMode':_0x1adcad[_0x2508e5(0xf2)]};_0x1adcad['dailyDigests'][_0x2508e5(0x142)](_0x433da1);const _0x3a30ec=_0x1adcad[_0x2508e5(0x158)][_0x2508e5(0x112)]||0x3c;_0x1adcad[_0x2508e5(0x13f)][_0x2508e5(0x108)]>_0x3a30ec&&_0x1adcad['dailyDigests'][_0x2508e5(0x101)](0x0,_0x1adcad[_0x2508e5(0x13f)][_0x2508e5(0x108)]-_0x3a30ec);await _0x1adcad[_0x2508e5(0xe1)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x2508e5(0xeb)](_0x1adcad[_0x2508e5(0x13f)]),'ack':!![]}),_0x1adcad[_0x2508e5(0x12e)]=[],await _0x1adcad['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x2508e5(0xeb)](_0x1adcad[_0x2508e5(0x12e)]),'ack':!![]}),await _0x1adcad['setStateAsync'](LTM_DP_STATUS,{'val':'Success','ack':!![]});const _0x2a8daf=_0x2508e5(0x133)+_0x5d8146[_0x2508e5(0x134)]+_0x2508e5(0xfa)+_0x5d8146[_0x2508e5(0xff)];setup[_0x2508e5(0x125)](_0x1adcad,_0x2a8daf,![],![]);if(_0x1adcad[_0x2508e5(0xd4)]&&_0x2928be)_0x2928be[_0x2508e5(0x14c)](_0x1adcad,_0x2508e5(0x150),{'digest':_0x433da1});}catch(_0x42623b){_0x1adcad[_0x2508e5(0x14f)]['error'](_0x42623b[_0x2508e5(0x15e)]);}}async function runBaselineDriftAnalysis(_0x2f826f){const _0x210ad3=a0_0x45ce59;if(!_0x2f826f[_0x210ad3(0xd4)]||!_0x2f826f[_0x210ad3(0xd9)])return;if(!canCallApi())return;const _0x51081f=_0x2f826f[_0x210ad3(0x158)][_0x210ad3(0xd7)]||0xe;if(_0x2f826f[_0x210ad3(0x13f)][_0x210ad3(0x108)]<_0x51081f+0x7){await _0x2f826f['setStateAsync'](_0x210ad3(0x14d),{'val':_0x210ad3(0x114),'ack':!![]});return;}const _0x111759=_0x2f826f[_0x210ad3(0x13f)][_0x210ad3(0x13b)](-_0x51081f),_0x434daa=_0x2f826f[_0x210ad3(0x13f)][_0x210ad3(0x13b)](0x0,_0x2f826f['dailyDigests'][_0x210ad3(0x108)]-_0x51081f),_0x29abfe='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x210ad3(0xeb)](_0x434daa)+'\x0aSTB:\x20'+JSON[_0x210ad3(0xeb)](_0x111759);try{updateApiTimestamp();const _0x179a61=await _0x2f826f['geminiModel'][_0x210ad3(0x159)](_0x29abfe),_0x42475b=JSON[_0x210ad3(0xe0)](_0x179a61[_0x210ad3(0x131)][_0x210ad3(0xe3)]()[_0x210ad3(0x144)](/```json|```/g,'')['trim']());_0x42475b['baselineDrift']&&(await _0x2f826f[_0x210ad3(0xe1)]('LTM.driftAnalysis.baselineDrift',{'val':_0x42475b['baselineDrift'],'ack':!![]}),await _0x2f826f[_0x210ad3(0xe1)](_0x210ad3(0x12d),{'val':_0x42475b[_0x210ad3(0x126)],'ack':!![]}),await _0x2f826f['setStateAsync'](_0x210ad3(0x147),{'val':Date[_0x210ad3(0x12b)](),'ack':!![]}));}catch(_0x14487d){}}async function executeAutomationAction(_0x53b1b2){const _0x1237c7=a0_0x45ce59;try{const _0x511a73=await _0x53b1b2['getStateAsync'](_0x1237c7(0xe8)),_0x144c8b=await _0x53b1b2[_0x1237c7(0x13c)](_0x1237c7(0x115));if(_0x511a73&&_0x511a73[_0x1237c7(0x124)]&&_0x144c8b){const _0x30f453=_0x511a73[_0x1237c7(0x124)];let _0x4c8137=_0x144c8b['val'];try{_0x4c8137=JSON[_0x1237c7(0xe0)](_0x4c8137);}catch(_0x33ec29){}_0x53b1b2[_0x1237c7(0x14f)][_0x1237c7(0x138)](_0x1237c7(0x110)+_0x30f453+_0x1237c7(0x11f)+_0x4c8137),await _0x53b1b2[_0x1237c7(0xee)](_0x30f453,_0x4c8137);}else _0x53b1b2['log']['warn'](_0x1237c7(0xf7));}catch(_0x488aa9){_0x53b1b2[_0x1237c7(0x14f)][_0x1237c7(0x129)](_0x1237c7(0x121)+_0x488aa9['message']);}}async function sendMorningBriefing(_0xdd4cb5){const _0x1cedf4=a0_0x45ce59;if(!_0xdd4cb5[_0x1cedf4(0xd9)]){_0xdd4cb5[_0x1cedf4(0x14f)][_0x1cedf4(0x12f)]('ðŸ¤–\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.');return;}_0xdd4cb5[_0x1cedf4(0x14f)][_0x1cedf4(0x138)](_0x1cedf4(0x151));try{updateApiTimestamp();const _0xfbedf6=_0x1cedf4(0x13d),_0x5826f6=await _0xdd4cb5[_0x1cedf4(0xd9)][_0x1cedf4(0x159)](_0xfbedf6),_0x364cae=_0x5826f6[_0x1cedf4(0x131)][_0x1cedf4(0xe3)]();_0xdd4cb5['log'][_0x1cedf4(0x138)](_0x1cedf4(0x119)+_0x364cae[_0x1cedf4(0x108)]+').\x20Sending\x20notification...'),setup[_0x1cedf4(0x125)](_0xdd4cb5,_0x1cedf4(0x103)+_0x364cae);}catch(_0x555038){_0xdd4cb5[_0x1cedf4(0x14f)][_0x1cedf4(0x129)](_0x1cedf4(0xe4)+_0x555038[_0x1cedf4(0x15e)]);}}function a0_0x4c2d(_0x412861,_0x13129d){const _0x4efcce=a0_0x35f2();return a0_0x4c2d=function(_0x2327f2,_0x7e739c){_0x2327f2=_0x2327f2-0xd2;let _0x35f254=_0x4efcce[_0x2327f2];return _0x35f254;},a0_0x4c2d(_0x412861,_0x13129d);}module[a0_0x45ce59(0x104)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};