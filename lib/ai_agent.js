const a0_0x1b5e7f=a0_0x283d;(function(_0x3ae594,_0x2f340f){const _0x53ac79=a0_0x283d,_0x1f966d=_0x3ae594();while(!![]){try{const _0x487c88=parseInt(_0x53ac79(0xd8))/0x1*(parseInt(_0x53ac79(0xec))/0x2)+-parseInt(_0x53ac79(0xb6))/0x3*(-parseInt(_0x53ac79(0xed))/0x4)+parseInt(_0x53ac79(0xd6))/0x5+-parseInt(_0x53ac79(0xb7))/0x6*(-parseInt(_0x53ac79(0x71))/0x7)+-parseInt(_0x53ac79(0xc0))/0x8*(parseInt(_0x53ac79(0x98))/0x9)+-parseInt(_0x53ac79(0xef))/0xa+parseInt(_0x53ac79(0x9b))/0xb*(-parseInt(_0x53ac79(0xd2))/0xc);if(_0x487c88===_0x2f340f)break;else _0x1f966d['push'](_0x1f966d['shift']());}catch(_0x476d90){_0x1f966d['push'](_0x1f966d['shift']());}}}(a0_0x5bb1,0x7d313));const a0_0xd223c5=(function(){let _0x1838ca=!![];return function(_0x42b198,_0x5d075d){const _0x20e0bb=_0x1838ca?function(){const _0x4e6a54=a0_0x283d;if(_0x5d075d){const _0x5af8f9=_0x5d075d[_0x4e6a54(0xb3)](_0x42b198,arguments);return _0x5d075d=null,_0x5af8f9;}}:function(){};return _0x1838ca=![],_0x20e0bb;};}()),a0_0x3f7b57=a0_0xd223c5(this,function(){const _0x20710b=a0_0x283d;return a0_0x3f7b57['toString']()[_0x20710b(0xd4)](_0x20710b(0xce))[_0x20710b(0x7c)]()[_0x20710b(0x8f)](a0_0x3f7b57)[_0x20710b(0xd4)](_0x20710b(0xce));});a0_0x3f7b57();'use strict';const {GoogleGenerativeAI}=require(a0_0x1b5e7f(0xa9)),setup=require('./setup'),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x1b5e7f(0xda),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x1b5e7f(0xcc),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;function a0_0x5bb1(){const _0xace5f3=['PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','driftDetails','analysis.isAlert','send','weatherInstance','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','toString','Traffic-Schutz\x20(Auto-Approved)','Unbekannt\x20(Kein\x20Sensor)','Sicherheit\x20geht\x20vor.','reason','slice','Briefing\x20Error:\x20','isAlert','N/A\x20(Learning)','analysis.automation.targetValue','.\x20EMERGENCY:\x20','baselineDrift','KI-Fehler\x20(Fallback)','Tag','Success','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','parse','summary','.forecast.current.temperature','constructor','system.presenceWho','alertReason','analysis.automation.description','\x0aSTB:\x20','response','analysis.automation.patternDetected','Skipped\x20(Traffic)','%)\x20nach\x20\x22','4203ODHLVu','Digest','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','11TZtCJt','.\x20ANWESEND:\x20','push','\x20=\x20','eventHistory','debug','Wetterdaten\x20nicht\x20abrufbar','error','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','approved','replace','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','.\x20KONTEXT:\x20','@google/generative-ai','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','\x20√ºbersprungen\x20(Auto-Approved).','getStateAsync','automationProposal',',\x20Lichtverh√§ltnisse:\x20','.forecast.current.state','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','.Current.Temperature','.\x20EVENTS:\x20','apply','trim','warn','93vCspOD','2015148fBkwiT','sendNotification','aiPersona','targetId','useWeather','generic','geminiModel','analysis.automation.targetId','ü§ñ\x20Butler\x20Brain\x20Error:\x20','10968JYUWtD','length','val','generateContent','message','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','BUTLER\x20Execution\x20Error:\x20','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','üìÖ\x20Daily\x20Digest:\x0a','analysis.analysisHistory','splice','Skipped\x20(No\x20AI\x20or\x20Data)','LTM.rawEventLog','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','(((.+)+)+)+$','analysisHistory','Keine\x20Details.','toFixed','10368024WItAlX','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','search','Started...','3422490sWzafp','ANALYZE_HEALTH','466mnpcuB','setStateAsync','LTM.dailyDigests','info','now','\x0aAktivit√§t:\x20','analysis.activitySummary','log','text','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','analysis.lastResult','lastAlertState','¬∞C,\x20','stringify','LTM.driftAnalysis.lastCheck','config','setForeignStateAsync','currentSystemMode','Unbekannt','dailyDigests','4250webQVG','88472rtaHAT','isProVersion','6792180CLGuJM','üåÖ\x20Morning\x20Briefing:\x0a','rawEventLog','getForeignStateAsync','Nacht','7hsVhxW','exports','isEmergency','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'];a0_0x5bb1=function(){return _0xace5f3;};return a0_0x5bb1();}const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':'Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','senior_aal':a0_0x1b5e7f(0x75),'family':a0_0x1b5e7f(0x9a),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':a0_0x1b5e7f(0x7f),'energy_saver':a0_0x1b5e7f(0xc5)};function canCallApi(){const _0x15d844=Date['now']();return _0x15d844-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x5cd47a=a0_0x1b5e7f;lastGlobalApiCall=Date[_0x5cd47a(0xdc)]();}async function getWeatherContext(_0x59682b){const _0x1c9ba0=a0_0x1b5e7f;if(!_0x59682b[_0x1c9ba0(0xe7)][_0x1c9ba0(0xbb)]||!_0x59682b[_0x1c9ba0(0xe7)][_0x1c9ba0(0x79)])return _0x1c9ba0(0x7e);try{const _0x1e4a74=_0x59682b[_0x1c9ba0(0xe7)][_0x1c9ba0(0x79)];let _0x4c26bf=await _0x59682b[_0x1c9ba0(0x6f)](_0x1e4a74+_0x1c9ba0(0xb1));if(!_0x4c26bf)_0x4c26bf=await _0x59682b[_0x1c9ba0(0x6f)](_0x1e4a74+_0x1c9ba0(0x8e));let _0x456b39=await _0x59682b[_0x1c9ba0(0x6f)](_0x1e4a74+'.Current.WeatherText');if(!_0x456b39)_0x456b39=await _0x59682b[_0x1c9ba0(0x6f)](_0x1e4a74+_0x1c9ba0(0xaf));let _0x3fbdaf=_0x1c9ba0(0xea);const _0x3b855e=await _0x59682b[_0x1c9ba0(0x6f)](_0x1e4a74+'.Current.IsNight');if(_0x3b855e)_0x3fbdaf=_0x3b855e['val']?_0x1c9ba0(0x70):_0x1c9ba0(0x89);if(_0x4c26bf&&_0x456b39)return _0x4c26bf[_0x1c9ba0(0xc2)]+_0x1c9ba0(0xe4)+_0x456b39[_0x1c9ba0(0xc2)]+_0x1c9ba0(0xae)+_0x3fbdaf;}catch(_0x282054){}return _0x1c9ba0(0xa1);}async function consultButler(_0xf0f002,_0x42e77c,_0x56f110,_0x3eeed0){const _0x3c2f29=a0_0x1b5e7f;if(!_0xf0f002['geminiModel'])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x4b1146=Date[_0x3c2f29(0xdc)]();if(decisionCache[_0x42e77c]&&_0x4b1146-decisionCache[_0x42e77c]['timestamp']<CACHE_TTL_MS){const _0x113193=decisionCache[_0x42e77c]['decision'];return _0xf0f002[_0x3c2f29(0xdf)]['debug'](_0x3c2f29(0xa3)+_0x42e77c+'\x20->\x20'+(_0x113193[_0x3c2f29(0xa5)]?'OK':'NO')+'\x20('+_0x113193[_0x3c2f29(0x80)]+')'),_0x113193;}if(!canCallApi())return _0xf0f002[_0x3c2f29(0xdf)]['debug'](_0x3c2f29(0xe1)+_0x42e77c+_0x3c2f29(0xab)),{'approved':!![],'reason':_0x3c2f29(0x7d)};const _0x24a5ce=new Date()['toLocaleTimeString'](),_0x1d6bfc=await getWeatherContext(_0xf0f002),_0x4cab57=PERSONA_MAPPING[_0xf0f002[_0x3c2f29(0xe7)]['aiPersona']||_0x3c2f29(0xbc)],_0x13cdb5=_0x3c2f29(0xc7)+_0x24a5ce+',\x20Wetter:\x20'+_0x1d6bfc+_0x3c2f29(0x7b)+(_0x3eeed0*0x64)[_0x3c2f29(0xd1)](0x0)+_0x3c2f29(0x97)+_0x42e77c+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x56f110+_0x3c2f29(0x74)+_0x4cab57+_0x3c2f29(0xa4);try{updateApiTimestamp();const _0x1f11cd=await _0xf0f002[_0x3c2f29(0xbd)][_0x3c2f29(0xc3)](_0x13cdb5),_0x229e9f=_0x1f11cd[_0x3c2f29(0x94)]['text']()['replace'](/```json|```/g,'')[_0x3c2f29(0xb4)](),_0x182485=JSON['parse'](_0x229e9f);return decisionCache[_0x42e77c]={'decision':_0x182485,'timestamp':_0x4b1146},_0x182485;}catch(_0x2fd007){return _0xf0f002[_0x3c2f29(0xdf)][_0x3c2f29(0xb5)](_0x3c2f29(0xbf)+_0x2fd007['message']),decisionCache[_0x42e77c]={'decision':{'approved':!![],'reason':_0x3c2f29(0x88)},'timestamp':_0x4b1146-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x3c2f29(0x88)};}}async function runGeminiAnalysis(_0x2a6499,_0x6ff11c=''){const _0x3399da=a0_0x1b5e7f;if(!_0x2a6499[_0x3399da(0xbd)])return;if(!canCallApi()){_0x2a6499[_0x3399da(0xdf)][_0x3399da(0xa0)]('ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).');return;}if(_0x2a6499[_0x3399da(0x9f)][_0x3399da(0xc1)]===0x0)return;const _0x189e7d=_0x2a6499[_0x3399da(0x9f)]['slice'](0x0,0xf),_0x8eb0a5=_0x2a6499[_0x3399da(0xe9)],_0x3c330c=PERSONA_MAPPING[_0x2a6499[_0x3399da(0xe7)][_0x3399da(0xb9)]||_0x3399da(0xbc)],_0x2643e1=_0x2a6499[_0x3399da(0xe7)]['livingContext']||_0x3399da(0xd0);let _0x2f10d4=_0x3399da(0xea);try{const _0x9e2f6f=await _0x2a6499['getStateAsync'](_0x3399da(0x90));if(_0x9e2f6f&&_0x9e2f6f[_0x3399da(0xc2)])_0x2f10d4=_0x9e2f6f['val'];}catch(_0x2e5389){}let _0xc1a06d=![];try{const _0x2d05e9=await _0x2a6499['getStateAsync']('analysis.automation.autoApply');if(_0x2d05e9&&_0x2d05e9[_0x3399da(0xc2)])_0xc1a06d=!![];}catch(_0x1caa92){}const _0x6ee85c=_0x3399da(0x7a)+_0x3c330c+_0x3399da(0xa8)+_0x2643e1+'.\x20SYSTEM_MODE:\x20'+_0x8eb0a5+_0x3399da(0x9c)+_0x2f10d4+_0x3399da(0xb2)+JSON[_0x3399da(0xe5)](_0x189e7d)+_0x3399da(0x86)+_0x6ff11c+_0x3399da(0xcd);try{updateApiTimestamp();const _0x3dd004=await _0x2a6499[_0x3399da(0xbd)][_0x3399da(0xc3)](_0x6ee85c),_0x106f9b=JSON[_0x3399da(0x8c)](_0x3dd004[_0x3399da(0x94)][_0x3399da(0xe0)]()[_0x3399da(0xa6)](/```json|```/g,'')['trim']());await _0x2a6499[_0x3399da(0xd9)](_0x3399da(0xe2),{'val':JSON['stringify'](_0x106f9b),'ack':!![]});if(_0x106f9b[_0x3399da(0x8d)])await _0x2a6499[_0x3399da(0xd9)](_0x3399da(0xde),{'val':_0x106f9b[_0x3399da(0x8d)],'ack':!![]});const _0x3fd07b={'timestamp':Date[_0x3399da(0xdc)](),'id':Date[_0x3399da(0xdc)]()[_0x3399da(0x7c)](),'analysis':{'activity':{'summary':_0x106f9b[_0x3399da(0x8d)],'isAlert':_0x106f9b[_0x3399da(0x83)],'alertReason':_0x106f9b[_0x3399da(0x91)]},'comfort':{'automationProposal':_0x106f9b[_0x3399da(0xad)]}}};_0x2a6499[_0x3399da(0xcf)]['unshift'](_0x3fd07b);if(_0x2a6499[_0x3399da(0xcf)][_0x3399da(0xc1)]>0x32)_0x2a6499[_0x3399da(0xcf)]['pop']();await _0x2a6499[_0x3399da(0xd9)](_0x3399da(0xc9),{'val':JSON[_0x3399da(0xe5)](_0x2a6499[_0x3399da(0xcf)]),'ack':!![]});const _0x4755d9=_0x106f9b[_0x3399da(0x83)]||![];_0x4755d9!==_0x2a6499[_0x3399da(0xe3)]&&(await _0x2a6499[_0x3399da(0xd9)](_0x3399da(0x77),{'val':_0x4755d9,'ack':!![]}),_0x2a6499[_0x3399da(0xe3)]=_0x4755d9,_0x4755d9&&(await _0x2a6499[_0x3399da(0xd9)]('analysis.alertReason',{'val':_0x106f9b[_0x3399da(0x91)],'ack':!![]}),setup[_0x3399da(0xb8)](_0x2a6499,'‚ö†Ô∏è\x20ALARM:\x20'+_0x106f9b[_0x3399da(0x91)],![],_0x106f9b[_0x3399da(0x73)])));if(_0x106f9b[_0x3399da(0xad)]&&_0x106f9b[_0x3399da(0xad)]['detected']){await _0x2a6499[_0x3399da(0xd9)](_0x3399da(0x95),{'val':!![],'ack':!![]}),await _0x2a6499[_0x3399da(0xd9)](_0x3399da(0x92),{'val':_0x106f9b['automationProposal']['description'],'ack':!![]}),await _0x2a6499[_0x3399da(0xd9)]('analysis.automation.targetId',{'val':_0x106f9b[_0x3399da(0xad)][_0x3399da(0xba)],'ack':!![]}),await _0x2a6499[_0x3399da(0xd9)](_0x3399da(0x85),{'val':JSON[_0x3399da(0xe5)](_0x106f9b[_0x3399da(0xad)]['targetValue']),'ack':!![]});if(_0xc1a06d)executeAutomationAction(_0x2a6499);}}catch(_0x291ed7){_0x2a6499[_0x3399da(0xdf)]['error']('Gemini\x20Error:\x20'+_0x291ed7['message']);}}async function createDailyDigest(_0x33ead1,_0x48c412){const _0x4eaca0=a0_0x1b5e7f;if(!_0x33ead1[_0x4eaca0(0xee)])return;if(!canCallApi()){await _0x33ead1[_0x4eaca0(0xd9)](LTM_DP_STATUS,{'val':_0x4eaca0(0x96),'ack':!![]});return;}await _0x33ead1[_0x4eaca0(0xd9)](LTM_DP_STATUS,{'val':_0x4eaca0(0xd5),'ack':!![]});if(!_0x33ead1['geminiModel']||_0x33ead1[_0x4eaca0(0x6e)][_0x4eaca0(0xc1)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x33ead1[_0x4eaca0(0xd9)](LTM_DP_STATUS,{'val':_0x4eaca0(0xcb),'ack':!![]});return;}const _0x12e6d5=JSON[_0x4eaca0(0x8c)](JSON[_0x4eaca0(0xe5)](_0x33ead1[_0x4eaca0(0x6e)])),_0x3ff4b9=_0x12e6d5[_0x4eaca0(0xc1)],_0x38ce19=_0x4eaca0(0x8b)+JSON[_0x4eaca0(0xe5)](_0x12e6d5);try{updateApiTimestamp();const _0x4cea9c=await _0x33ead1['geminiModel'][_0x4eaca0(0xc3)](_0x38ce19),_0x1b4bca=JSON[_0x4eaca0(0x8c)](_0x4cea9c[_0x4eaca0(0x94)]['text']()['replace'](/```json|```/g,'')[_0x4eaca0(0xb4)]()),_0x3956b8={'timestamp':new Date()['toISOString'](),'eventCount':_0x3ff4b9,'summary':_0x1b4bca['summary']||_0x4eaca0(0x99),'activityLevel':_0x1b4bca['activityLevel']||'normal','systemMode':_0x33ead1[_0x4eaca0(0xe9)]};_0x33ead1[_0x4eaca0(0xeb)][_0x4eaca0(0x9d)](_0x3956b8);const _0x3fd432=_0x33ead1[_0x4eaca0(0xe7)]['ltmLtbWindowDays']||0x3c;_0x33ead1[_0x4eaca0(0xeb)][_0x4eaca0(0xc1)]>_0x3fd432&&_0x33ead1[_0x4eaca0(0xeb)][_0x4eaca0(0xca)](0x0,_0x33ead1['dailyDigests'][_0x4eaca0(0xc1)]-_0x3fd432);await _0x33ead1[_0x4eaca0(0xd9)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4eaca0(0xe5)](_0x33ead1[_0x4eaca0(0xeb)]),'ack':!![]}),_0x33ead1['rawEventLog']=[],await _0x33ead1['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x4eaca0(0xe5)](_0x33ead1[_0x4eaca0(0x6e)]),'ack':!![]}),await _0x33ead1['setStateAsync'](LTM_DP_STATUS,{'val':_0x4eaca0(0x8a),'ack':!![]});const _0x40edd2=_0x4eaca0(0xc8)+_0x1b4bca[_0x4eaca0(0x8d)]+_0x4eaca0(0xdd)+_0x1b4bca['activityLevel'];setup[_0x4eaca0(0xb8)](_0x33ead1,_0x40edd2,![],![]);if(_0x33ead1['isProVersion']&&_0x48c412)_0x48c412[_0x4eaca0(0x78)](_0x33ead1,_0x4eaca0(0xd7),{'digest':_0x3956b8});}catch(_0xcc03a2){_0x33ead1[_0x4eaca0(0xdf)][_0x4eaca0(0xa2)](_0xcc03a2['message']);}}async function runBaselineDriftAnalysis(_0x3c608d){const _0x5a4f43=a0_0x1b5e7f;if(!_0x3c608d[_0x5a4f43(0xee)]||!_0x3c608d[_0x5a4f43(0xbd)])return;if(!canCallApi())return;const _0x435671=_0x3c608d[_0x5a4f43(0xe7)]['ltmStbWindowDays']||0xe;if(_0x3c608d[_0x5a4f43(0xeb)]['length']<_0x435671+0x7){await _0x3c608d[_0x5a4f43(0xd9)]('LTM.driftAnalysis.baselineDrift',{'val':_0x5a4f43(0x84),'ack':!![]});return;}const _0x32cc6d=_0x3c608d[_0x5a4f43(0xeb)][_0x5a4f43(0x81)](-_0x435671),_0x45a300=_0x3c608d[_0x5a4f43(0xeb)][_0x5a4f43(0x81)](0x0,_0x3c608d[_0x5a4f43(0xeb)][_0x5a4f43(0xc1)]-_0x435671),_0xad38f0=_0x5a4f43(0xb0)+JSON['stringify'](_0x45a300)+_0x5a4f43(0x93)+JSON[_0x5a4f43(0xe5)](_0x32cc6d);try{updateApiTimestamp();const _0x3c826f=await _0x3c608d['geminiModel']['generateContent'](_0xad38f0),_0x2cf45c=JSON[_0x5a4f43(0x8c)](_0x3c826f[_0x5a4f43(0x94)][_0x5a4f43(0xe0)]()['replace'](/```json|```/g,'')[_0x5a4f43(0xb4)]());_0x2cf45c[_0x5a4f43(0x87)]&&(await _0x3c608d[_0x5a4f43(0xd9)]('LTM.driftAnalysis.baselineDrift',{'val':_0x2cf45c[_0x5a4f43(0x87)],'ack':!![]}),await _0x3c608d[_0x5a4f43(0xd9)]('LTM.driftAnalysis.driftDetails',{'val':_0x2cf45c[_0x5a4f43(0x76)],'ack':!![]}),await _0x3c608d['setStateAsync'](_0x5a4f43(0xe6),{'val':Date['now'](),'ack':!![]}));}catch(_0x26e800){}}async function executeAutomationAction(_0x9f75c6){const _0x27bb41=a0_0x1b5e7f;try{const _0x30197e=await _0x9f75c6[_0x27bb41(0xac)](_0x27bb41(0xbe)),_0x129d92=await _0x9f75c6['getStateAsync']('analysis.automation.targetValue');if(_0x30197e&&_0x30197e[_0x27bb41(0xc2)]&&_0x129d92){const _0x2ad87d=_0x30197e[_0x27bb41(0xc2)];let _0x52a218=_0x129d92['val'];try{_0x52a218=JSON['parse'](_0x52a218);}catch(_0x5dd822){}_0x9f75c6[_0x27bb41(0xdf)][_0x27bb41(0xdb)](_0x27bb41(0xa7)+_0x2ad87d+_0x27bb41(0x9e)+_0x52a218),await _0x9f75c6[_0x27bb41(0xe8)](_0x2ad87d,_0x52a218);}else _0x9f75c6['log'][_0x27bb41(0xb5)](_0x27bb41(0xaa));}catch(_0x45065e){_0x9f75c6[_0x27bb41(0xdf)][_0x27bb41(0xa2)](_0x27bb41(0xc6)+_0x45065e[_0x27bb41(0xc4)]);}}function a0_0x283d(_0x6708d6,_0x24310e){const _0x38d471=a0_0x5bb1();return a0_0x283d=function(_0x3f7b57,_0xd223c5){_0x3f7b57=_0x3f7b57-0x6d;let _0x5bb166=_0x38d471[_0x3f7b57];return _0x5bb166;},a0_0x283d(_0x6708d6,_0x24310e);}async function sendMorningBriefing(_0xcc271){const _0x105f91=a0_0x1b5e7f;if(!_0xcc271[_0x105f91(0xbd)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x3f2dad=_0x105f91(0xd3),_0x3847f7=await _0xcc271[_0x105f91(0xbd)][_0x105f91(0xc3)](_0x3f2dad),_0x3e7314=_0x3847f7[_0x105f91(0x94)][_0x105f91(0xe0)]();setup[_0x105f91(0xb8)](_0xcc271,_0x105f91(0x6d)+_0x3e7314);}catch(_0x598a32){_0xcc271[_0x105f91(0xdf)][_0x105f91(0xa2)](_0x105f91(0x82)+_0x598a32[_0x105f91(0xc4)]);}}module[a0_0x1b5e7f(0x72)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};