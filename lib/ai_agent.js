const a0_0x3d23f6=a0_0x47bb;(function(_0xdf89f7,_0x5c1019){const _0x5cefc1=a0_0x47bb,_0x5a92c1=_0xdf89f7();while(!![]){try{const _0x5f238d=parseInt(_0x5cefc1(0x113))/0x1*(parseInt(_0x5cefc1(0x119))/0x2)+parseInt(_0x5cefc1(0x131))/0x3+parseInt(_0x5cefc1(0x16d))/0x4+-parseInt(_0x5cefc1(0x16a))/0x5+-parseInt(_0x5cefc1(0x17a))/0x6+parseInt(_0x5cefc1(0xf9))/0x7*(parseInt(_0x5cefc1(0x145))/0x8)+-parseInt(_0x5cefc1(0x124))/0x9;if(_0x5f238d===_0x5c1019)break;else _0x5a92c1['push'](_0x5a92c1['shift']());}catch(_0x424260){_0x5a92c1['push'](_0x5a92c1['shift']());}}}(a0_0x368e,0xba55f));function a0_0x368e(){const _0x47cc76=['system.presenceWho','3060111WZgfUx','ltmStbWindowDays','KI-Fehler\x20(Fallback)','toLocaleTimeString','analysisHistory','@google/generative-ai','stringify','livingContext','Started...','\x20Ã¼bersprungen\x20(Auto-Approved).','.Current.Temperature','getForeignStateAsync','analysis.automation.patternDetected','LTM.driftAnalysis.baselineDrift','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','driftDetails','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','Digest','isAlert','analysis.automation.targetValue','9248rZnYtS','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','aiPersona','lastAlertState','Success','warn','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','.Current.WeatherText','Keine\x20Details.','LTM.driftAnalysis.lastCheck','trim','decision','parse','analysis.isAlert','generic','summary','isEmergency','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','.forecast.current.temperature','N/A\x20(Learning)','analysis.analysisHistory','Skipped\x20(Traffic)','\x20->\x20','BUTLER\x20Execution\x20Error:\x20','LTM.processingStatus','slice','debug','.\x20SYSTEM_MODE:\x20','toISOString','toString','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','analysis.automation.autoApply','analysis.automation.description','dailyDigests','weatherInstance','alertReason','.\x20EVENTS:\x20','2701090yTzqFQ','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','Tag','4367212YrsixP','.\x20EMERGENCY:\x20','.Current.IsNight','baselineDrift','unshift','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','normal','apply','response','getStateAsync','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','text','constructor','2001450DfpOdm','automationProposal','4984oclhCk','Traffic-Schutz\x20(Auto-Approved)','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','Sicherheit\x20geht\x20vor.','ðŸŒ…\x20Morning\x20Briefing:\x0a','val','length','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','now','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','.\x20ANWESEND:\x20','detected','Skipped\x20(No\x20AI\x20or\x20Data)','replace','description','push','%)\x20nach\x20\x22',',\x20LichtverhÃ¤ltnisse:\x20','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','reason','error','geminiModel','config','setStateAsync','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','KI\x20offline\x20(Fallback)','154647ywvFDZ','log','Wetterdaten\x20nicht\x20abrufbar','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','analysis.automation.targetId','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','10aawXTn','currentSystemMode','models/gemini-flash-latest','(((.+)+)+)+$','Unbekannt','Briefing\x20Error:\x20','activityLevel','LTM.dailyDigests','eventHistory','LTM.rawEventLog','Unbekannt\x20(Kein\x20Sensor)','18640107hyYkYn','generateContent','exports','rawEventLog','useWeather','message','splice','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',',\x20Wetter:\x20','sendNotification','isProVersion','âš ï¸\x20ALARM:\x20'];a0_0x368e=function(){return _0x47cc76;};return a0_0x368e();}const a0_0x40ee85=(function(){let _0x5b29ef=!![];return function(_0x58a1ef,_0x45381b){const _0x9e6a97=_0x5b29ef?function(){const _0x427280=a0_0x47bb;if(_0x45381b){const _0x36d001=_0x45381b[_0x427280(0x174)](_0x58a1ef,arguments);return _0x45381b=null,_0x36d001;}}:function(){};return _0x5b29ef=![],_0x9e6a97;};}()),a0_0x52aa54=a0_0x40ee85(this,function(){const _0x150ea9=a0_0x47bb;return a0_0x52aa54[_0x150ea9(0x162)]()['search'](_0x150ea9(0x11c))['toString']()[_0x150ea9(0x179)](a0_0x52aa54)['search']('(((.+)+)+)+$');});a0_0x52aa54();'use strict';function a0_0x47bb(_0x4ca6db,_0x12d7b7){const _0x48b479=a0_0x368e();return a0_0x47bb=function(_0x52aa54,_0x40ee85){_0x52aa54=_0x52aa54-0xf9;let _0x368ea9=_0x48b479[_0x52aa54];return _0x368ea9;},a0_0x47bb(_0x4ca6db,_0x12d7b7);}const {GoogleGenerativeAI}=require(a0_0x3d23f6(0x136)),setup=require('./setup'),GEMINI_MODEL=a0_0x3d23f6(0x11b),LTM_DP_DAILY_DIGESTS=a0_0x3d23f6(0x120),LTM_DP_STATUS=a0_0x3d23f6(0x15d),LTM_DP_RAW_LOG=a0_0x3d23f6(0x122),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x3d23f6(0x116),'senior_aal':a0_0x3d23f6(0x146),'family':a0_0x3d23f6(0xfb),'single_comfort':a0_0x3d23f6(0x100),'security':a0_0x3d23f6(0xfc),'energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x3ccf16=Date['now']();return _0x3ccf16-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x28e1f7=a0_0x3d23f6;lastGlobalApiCall=Date[_0x28e1f7(0x101)]();}async function getWeatherContext(_0x127aa0){const _0x1b52b0=a0_0x3d23f6;if(!_0x127aa0[_0x1b52b0(0x10f)][_0x1b52b0(0x128)]||!_0x127aa0['config'][_0x1b52b0(0x167)])return _0x1b52b0(0x123);try{const _0x18d5b8=_0x127aa0[_0x1b52b0(0x10f)][_0x1b52b0(0x167)];let _0x391b22=await _0x127aa0[_0x1b52b0(0x13c)](_0x18d5b8+_0x1b52b0(0x13b));if(!_0x391b22)_0x391b22=await _0x127aa0[_0x1b52b0(0x13c)](_0x18d5b8+_0x1b52b0(0x157));let _0x27bab1=await _0x127aa0[_0x1b52b0(0x13c)](_0x18d5b8+_0x1b52b0(0x14c));if(!_0x27bab1)_0x27bab1=await _0x127aa0[_0x1b52b0(0x13c)](_0x18d5b8+'.forecast.current.state');let _0x4efd4c='Unbekannt';const _0x3db052=await _0x127aa0[_0x1b52b0(0x13c)](_0x18d5b8+_0x1b52b0(0x16f));if(_0x3db052)_0x4efd4c=_0x3db052[_0x1b52b0(0xfe)]?'Nacht':_0x1b52b0(0x16c);if(_0x391b22&&_0x27bab1)return _0x391b22[_0x1b52b0(0xfe)]+'Â°C,\x20'+_0x27bab1[_0x1b52b0(0xfe)]+_0x1b52b0(0x10a)+_0x4efd4c;}catch(_0x333e45){}return _0x1b52b0(0x115);}async function consultButler(_0x318046,_0x3a1983,_0x5be370,_0x2928c0){const _0x2056e1=a0_0x3d23f6;if(!_0x318046[_0x2056e1(0x10e)])return{'approved':!![],'reason':_0x2056e1(0x112)};const _0x1f97af=Date[_0x2056e1(0x101)]();if(decisionCache[_0x3a1983]&&_0x1f97af-decisionCache[_0x3a1983]['timestamp']<CACHE_TTL_MS){const _0x15ffd3=decisionCache[_0x3a1983][_0x2056e1(0x150)];return _0x318046['log'][_0x2056e1(0x15f)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x3a1983+_0x2056e1(0x15b)+(_0x15ffd3['approved']?'OK':'NO')+'\x20('+_0x15ffd3[_0x2056e1(0x10c)]+')'),_0x15ffd3;}if(!canCallApi())return _0x318046['log'][_0x2056e1(0x15f)](_0x2056e1(0x14b)+_0x3a1983+_0x2056e1(0x13a)),{'approved':!![],'reason':_0x2056e1(0xfa)};const _0x19d3ff=new Date()[_0x2056e1(0x134)](),_0x136fef=await getWeatherContext(_0x318046),_0x3ac01c=PERSONA_MAPPING[_0x318046[_0x2056e1(0x10f)][_0x2056e1(0x147)]||_0x2056e1(0x153)],_0x38eaf2=_0x2056e1(0x16b)+_0x19d3ff+_0x2056e1(0x12c)+_0x136fef+_0x2056e1(0x156)+(_0x2928c0*0x64)['toFixed'](0x0)+_0x2056e1(0x109)+_0x3a1983+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x5be370+_0x2056e1(0x141)+_0x3ac01c+_0x2056e1(0x172);try{updateApiTimestamp();const _0x1c0520=await _0x318046['geminiModel']['generateContent'](_0x38eaf2),_0x96e3d8=_0x1c0520[_0x2056e1(0x175)][_0x2056e1(0x178)]()[_0x2056e1(0x106)](/```json|```/g,'')['trim'](),_0x2900a0=JSON[_0x2056e1(0x151)](_0x96e3d8);return decisionCache[_0x3a1983]={'decision':_0x2900a0,'timestamp':_0x1f97af},_0x2900a0;}catch(_0x5b4b93){return _0x318046[_0x2056e1(0x114)][_0x2056e1(0x14a)](_0x2056e1(0x102)+_0x5b4b93['message']),decisionCache[_0x3a1983]={'decision':{'approved':!![],'reason':_0x2056e1(0x133)},'timestamp':_0x1f97af-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x2056e1(0x133)};}}async function runGeminiAnalysis(_0x221d31,_0x5496f5=''){const _0xf3e111=a0_0x3d23f6;if(!_0x221d31[_0xf3e111(0x10e)])return;if(!canCallApi()){_0x221d31['log'][_0xf3e111(0x15f)](_0xf3e111(0x177));return;}if(_0x221d31[_0xf3e111(0x121)]['length']===0x0)return;const _0x3ad575=_0x221d31[_0xf3e111(0x121)][_0xf3e111(0x15e)](0x0,0xf),_0x2e61f6=_0x221d31['currentSystemMode'],_0x46e678=PERSONA_MAPPING[_0x221d31['config'][_0xf3e111(0x147)]||_0xf3e111(0x153)],_0x13ee56=_0x221d31[_0xf3e111(0x10f)][_0xf3e111(0x138)]||_0xf3e111(0x14d);let _0x2e39b1=_0xf3e111(0x11d);try{const _0x4e5b8b=await _0x221d31[_0xf3e111(0x176)](_0xf3e111(0x130));if(_0x4e5b8b&&_0x4e5b8b[_0xf3e111(0xfe)])_0x2e39b1=_0x4e5b8b[_0xf3e111(0xfe)];}catch(_0x3ae3e3){}let _0x11b616=![];try{const _0x3632fd=await _0x221d31[_0xf3e111(0x176)](_0xf3e111(0x164));if(_0x3632fd&&_0x3632fd[_0xf3e111(0xfe)])_0x11b616=!![];}catch(_0x4166ac){}const _0x25e76b=_0xf3e111(0x10b)+_0x46e678+'.\x20KONTEXT:\x20'+_0x13ee56+_0xf3e111(0x160)+_0x2e61f6+_0xf3e111(0x103)+_0x2e39b1+_0xf3e111(0x169)+JSON[_0xf3e111(0x137)](_0x3ad575)+_0xf3e111(0x16e)+_0x5496f5+_0xf3e111(0x118);try{updateApiTimestamp();const _0x321e46=await _0x221d31['geminiModel'][_0xf3e111(0x125)](_0x25e76b),_0x2a8625=JSON[_0xf3e111(0x151)](_0x321e46[_0xf3e111(0x175)][_0xf3e111(0x178)]()[_0xf3e111(0x106)](/```json|```/g,'')[_0xf3e111(0x14f)]());await _0x221d31[_0xf3e111(0x110)]('analysis.lastResult',{'val':JSON[_0xf3e111(0x137)](_0x2a8625),'ack':!![]});if(_0x2a8625[_0xf3e111(0x154)])await _0x221d31['setStateAsync']('analysis.activitySummary',{'val':_0x2a8625[_0xf3e111(0x154)],'ack':!![]});const _0x1c6abb={'timestamp':Date[_0xf3e111(0x101)](),'id':Date[_0xf3e111(0x101)]()['toString'](),'analysis':{'activity':{'summary':_0x2a8625[_0xf3e111(0x154)],'isAlert':_0x2a8625[_0xf3e111(0x143)],'alertReason':_0x2a8625[_0xf3e111(0x168)]},'comfort':{'automationProposal':_0x2a8625[_0xf3e111(0x17b)]}}};_0x221d31[_0xf3e111(0x135)][_0xf3e111(0x171)](_0x1c6abb);if(_0x221d31[_0xf3e111(0x135)][_0xf3e111(0xff)]>0x32)_0x221d31['analysisHistory']['pop']();await _0x221d31[_0xf3e111(0x110)](_0xf3e111(0x159),{'val':JSON[_0xf3e111(0x137)](_0x221d31[_0xf3e111(0x135)]),'ack':!![]});const _0x38f679=_0x2a8625[_0xf3e111(0x143)]||![];_0x38f679!==_0x221d31['lastAlertState']&&(await _0x221d31['setStateAsync'](_0xf3e111(0x152),{'val':_0x38f679,'ack':!![]}),_0x221d31[_0xf3e111(0x148)]=_0x38f679,_0x38f679&&(await _0x221d31[_0xf3e111(0x110)]('analysis.alertReason',{'val':_0x2a8625[_0xf3e111(0x168)],'ack':!![]}),setup[_0xf3e111(0x12d)](_0x221d31,_0xf3e111(0x12f)+_0x2a8625[_0xf3e111(0x168)],![],_0x2a8625[_0xf3e111(0x155)])));if(_0x2a8625[_0xf3e111(0x17b)]&&_0x2a8625['automationProposal'][_0xf3e111(0x104)]){await _0x221d31['setStateAsync'](_0xf3e111(0x13d),{'val':!![],'ack':!![]}),await _0x221d31[_0xf3e111(0x110)](_0xf3e111(0x165),{'val':_0x2a8625[_0xf3e111(0x17b)][_0xf3e111(0x107)],'ack':!![]}),await _0x221d31[_0xf3e111(0x110)](_0xf3e111(0x117),{'val':_0x2a8625[_0xf3e111(0x17b)]['targetId'],'ack':!![]}),await _0x221d31['setStateAsync'](_0xf3e111(0x144),{'val':JSON['stringify'](_0x2a8625[_0xf3e111(0x17b)]['targetValue']),'ack':!![]});if(_0x11b616)executeAutomationAction(_0x221d31);}}catch(_0x172247){_0x221d31[_0xf3e111(0x114)][_0xf3e111(0x10d)]('Gemini\x20Error:\x20'+_0x172247['message']);}}async function createDailyDigest(_0x2114c6,_0x565989){const _0x5746f5=a0_0x3d23f6;if(!_0x2114c6[_0x5746f5(0x12e)])return;if(!canCallApi()){await _0x2114c6[_0x5746f5(0x110)](LTM_DP_STATUS,{'val':_0x5746f5(0x15a),'ack':!![]});return;}await _0x2114c6[_0x5746f5(0x110)](LTM_DP_STATUS,{'val':_0x5746f5(0x139),'ack':!![]});if(!_0x2114c6['geminiModel']||_0x2114c6[_0x5746f5(0x127)][_0x5746f5(0xff)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x2114c6[_0x5746f5(0x110)](LTM_DP_STATUS,{'val':_0x5746f5(0x105),'ack':!![]});return;}const _0x23ec94=JSON[_0x5746f5(0x151)](JSON['stringify'](_0x2114c6[_0x5746f5(0x127)])),_0x2a3153=_0x23ec94[_0x5746f5(0xff)],_0x18024c='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x5746f5(0x137)](_0x23ec94);try{updateApiTimestamp();const _0x515a21=await _0x2114c6[_0x5746f5(0x10e)][_0x5746f5(0x125)](_0x18024c),_0x7e6e58=JSON[_0x5746f5(0x151)](_0x515a21[_0x5746f5(0x175)][_0x5746f5(0x178)]()[_0x5746f5(0x106)](/```json|```/g,'')[_0x5746f5(0x14f)]()),_0x14201f={'timestamp':new Date()[_0x5746f5(0x161)](),'eventCount':_0x2a3153,'summary':_0x7e6e58['summary']||_0x5746f5(0x142),'activityLevel':_0x7e6e58[_0x5746f5(0x11f)]||_0x5746f5(0x173),'systemMode':_0x2114c6[_0x5746f5(0x11a)]};_0x2114c6['dailyDigests'][_0x5746f5(0x108)](_0x14201f);const _0x313bbb=_0x2114c6[_0x5746f5(0x10f)]['ltmLtbWindowDays']||0x3c;_0x2114c6['dailyDigests'][_0x5746f5(0xff)]>_0x313bbb&&_0x2114c6[_0x5746f5(0x166)][_0x5746f5(0x12a)](0x0,_0x2114c6['dailyDigests']['length']-_0x313bbb);await _0x2114c6['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x5746f5(0x137)](_0x2114c6[_0x5746f5(0x166)]),'ack':!![]}),_0x2114c6[_0x5746f5(0x127)]=[],await _0x2114c6[_0x5746f5(0x110)](LTM_DP_RAW_LOG,{'val':JSON[_0x5746f5(0x137)](_0x2114c6['rawEventLog']),'ack':!![]}),await _0x2114c6['setStateAsync'](LTM_DP_STATUS,{'val':_0x5746f5(0x149),'ack':!![]});if(_0x2114c6[_0x5746f5(0x12e)]&&_0x565989)_0x565989['send'](_0x2114c6,'ANALYZE_HEALTH',{'digest':_0x14201f});}catch(_0x49cc94){_0x2114c6['log'][_0x5746f5(0x10d)](_0x49cc94['message']);}}async function runBaselineDriftAnalysis(_0x45f9e9){const _0x2b1f86=a0_0x3d23f6;if(!_0x45f9e9[_0x2b1f86(0x12e)]||!_0x45f9e9[_0x2b1f86(0x10e)])return;if(!canCallApi())return;const _0x2447c9=_0x45f9e9[_0x2b1f86(0x10f)][_0x2b1f86(0x132)]||0xe;if(_0x45f9e9['dailyDigests'][_0x2b1f86(0xff)]<_0x2447c9+0x7){await _0x45f9e9[_0x2b1f86(0x110)](_0x2b1f86(0x13e),{'val':_0x2b1f86(0x158),'ack':!![]});return;}const _0x163ab1=_0x45f9e9['dailyDigests'][_0x2b1f86(0x15e)](-_0x2447c9),_0x3cb624=_0x45f9e9[_0x2b1f86(0x166)][_0x2b1f86(0x15e)](0x0,_0x45f9e9[_0x2b1f86(0x166)][_0x2b1f86(0xff)]-_0x2447c9),_0x2409cd=_0x2b1f86(0x163)+JSON[_0x2b1f86(0x137)](_0x3cb624)+'\x0aSTB:\x20'+JSON[_0x2b1f86(0x137)](_0x163ab1);try{updateApiTimestamp();const _0x5eb883=await _0x45f9e9['geminiModel']['generateContent'](_0x2409cd),_0x5e0089=JSON[_0x2b1f86(0x151)](_0x5eb883[_0x2b1f86(0x175)][_0x2b1f86(0x178)]()[_0x2b1f86(0x106)](/```json|```/g,'')[_0x2b1f86(0x14f)]());_0x5e0089[_0x2b1f86(0x170)]&&(await _0x45f9e9[_0x2b1f86(0x110)](_0x2b1f86(0x13e),{'val':_0x5e0089[_0x2b1f86(0x170)],'ack':!![]}),await _0x45f9e9['setStateAsync']('LTM.driftAnalysis.driftDetails',{'val':_0x5e0089[_0x2b1f86(0x140)],'ack':!![]}),await _0x45f9e9[_0x2b1f86(0x110)](_0x2b1f86(0x14e),{'val':Date[_0x2b1f86(0x101)](),'ack':!![]}));}catch(_0x418bdd){}}async function executeAutomationAction(_0x269cc5){const _0x3175cf=a0_0x3d23f6;try{const _0xe7d33e=await _0x269cc5[_0x3175cf(0x176)](_0x3175cf(0x117)),_0xcf5a01=await _0x269cc5[_0x3175cf(0x176)](_0x3175cf(0x144));if(_0xe7d33e&&_0xe7d33e[_0x3175cf(0xfe)]&&_0xcf5a01){const _0x4bdc35=_0xe7d33e['val'];let _0x4fcbcb=_0xcf5a01[_0x3175cf(0xfe)];try{_0x4fcbcb=JSON['parse'](_0x4fcbcb);}catch(_0x53bc6c){}_0x269cc5[_0x3175cf(0x114)]['info'](_0x3175cf(0x13f)+_0x4bdc35+'\x20=\x20'+_0x4fcbcb),await _0x269cc5['setForeignStateAsync'](_0x4bdc35,_0x4fcbcb);}else _0x269cc5['log'][_0x3175cf(0x14a)](_0x3175cf(0x111));}catch(_0x37aea4){_0x269cc5[_0x3175cf(0x114)][_0x3175cf(0x10d)](_0x3175cf(0x15c)+_0x37aea4[_0x3175cf(0x129)]);}}async function sendMorningBriefing(_0x2ba448){const _0x1c07b7=a0_0x3d23f6;if(!_0x2ba448[_0x1c07b7(0x10e)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x27aae5=_0x1c07b7(0x12b),_0x31d55b=await _0x2ba448[_0x1c07b7(0x10e)]['generateContent'](_0x27aae5),_0x175e3a=_0x31d55b[_0x1c07b7(0x175)][_0x1c07b7(0x178)]();setup['sendNotification'](_0x2ba448,_0x1c07b7(0xfd)+_0x175e3a);}catch(_0x13ce73){_0x2ba448[_0x1c07b7(0x114)][_0x1c07b7(0x10d)](_0x1c07b7(0x11e)+_0x13ce73[_0x1c07b7(0x129)]);}}module[a0_0x3d23f6(0x126)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};