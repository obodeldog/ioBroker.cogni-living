const a0_0x99d6bf=a0_0x5467;(function(_0x25d4d5,_0x2a9328){const _0x2c864f=a0_0x5467,_0x227eb6=_0x25d4d5();while(!![]){try{const _0x41ec31=-parseInt(_0x2c864f(0x16a))/0x1*(parseInt(_0x2c864f(0x197))/0x2)+-parseInt(_0x2c864f(0x18b))/0x3*(-parseInt(_0x2c864f(0x144))/0x4)+-parseInt(_0x2c864f(0x1a9))/0x5+-parseInt(_0x2c864f(0x14f))/0x6+-parseInt(_0x2c864f(0x186))/0x7+parseInt(_0x2c864f(0x1ad))/0x8*(parseInt(_0x2c864f(0x15f))/0x9)+parseInt(_0x2c864f(0x1a8))/0xa*(parseInt(_0x2c864f(0x176))/0xb);if(_0x41ec31===_0x2a9328)break;else _0x227eb6['push'](_0x227eb6['shift']());}catch(_0x2bfc16){_0x227eb6['push'](_0x227eb6['shift']());}}}(a0_0x1240,0xc610d));const a0_0x430663=(function(){let _0x1c8d8f=!![];return function(_0x52137e,_0x54f65f){const _0x505dea=_0x1c8d8f?function(){const _0xad27=a0_0x5467;if(_0x54f65f){const _0x3ee8bd=_0x54f65f[_0xad27(0x157)](_0x52137e,arguments);return _0x54f65f=null,_0x3ee8bd;}}:function(){};return _0x1c8d8f=![],_0x505dea;};}()),a0_0x2e40d8=a0_0x430663(this,function(){const _0x3b8957=a0_0x5467;return a0_0x2e40d8[_0x3b8957(0x12d)]()[_0x3b8957(0x141)](_0x3b8957(0x17b))['toString']()['constructor'](a0_0x2e40d8)[_0x3b8957(0x141)](_0x3b8957(0x17b));});a0_0x2e40d8();function a0_0x1240(){const _0x170026=['livingContext','isAlert','detected','activityLevel','analysis.alertReason','geminiModel','LTM.dailyDigests','trim','normal','Â°C,\x20','slice','exports','stringify','Briefing\x20Error:\x20','analysis.lastResult','830FODBkC','5732505LVLXoH','analysis.automation.autoApply','push','Traffic-Schutz\x20(Auto-Approved)','9721752eoKuSl','KI-Fehler\x20(Fallback)','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','.\x20EMERGENCY:\x20','text','error','weatherInstance','toString','Wetterdaten\x20nicht\x20abrufbar','Skipped\x20(No\x20AI\x20or\x20Data)','LTM.rawEventLog','config','reason','log','unshift','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','LTM.driftAnalysis.driftDetails','now','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','automationProposal','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','isEmergency','.\x20ANWESEND:\x20','driftDetails','description','summary','Tag','search','\x0aAktivitÃ¤t:\x20','./setup','1880LSjIIb','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','useWeather','generateContent','targetId','.forecast.current.temperature','Keine\x20Details.','LTM.processingStatus','rawEventLog','currentSystemMode','send','9571140KXsoLX','alertReason','setStateAsync','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','generic','val','analysis.automation.description','aiPersona','apply','analysis.activitySummary','BUTLER\x20Execution\x20Error:\x20','getStateAsync','getForeignStateAsync','length','ANALYZE_HEALTH','lastAlertState','9adtjKv','\x20Ã¼bersprungen\x20(Auto-Approved).','replace','pop','analysisHistory','analysis.automation.patternDetected','info','analysis.isAlert','toISOString','LTM.driftAnalysis.lastCheck','timestamp','239147vdnTfJ','eventHistory','Started...','âš ï¸\x20ALARM:\x20','debug','toFixed','Success','toLocaleTimeString','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','analysis.automation.targetId','.Current.WeatherText','\x20->\x20','417626CNrNZR','response','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','analysis.automation.targetValue','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','(((.+)+)+)+$','parse','N/A\x20(Learning)','message',',\x20Wetter:\x20','%)\x20nach\x20\x22','@google/generative-ai','system.presenceWho','dailyDigests','Nacht','warn','551929xbCpzo','\x20=\x20','Sicherheit\x20geht\x20vor.','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','baselineDrift','4470ESytql','isProVersion','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','Digest','ltmLtbWindowDays','.\x20EVENTS:\x20','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','splice','PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','.forecast.current.state','LTM.driftAnalysis.baselineDrift','sendNotification','12gcpAmh','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20'];a0_0x1240=function(){return _0x170026;};return a0_0x1240();}'use strict';const {GoogleGenerativeAI}=require(a0_0x99d6bf(0x181)),setup=require(a0_0x99d6bf(0x143)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x99d6bf(0x19f),LTM_DP_STATUS=a0_0x99d6bf(0x14b),LTM_DP_RAW_LOG=a0_0x99d6bf(0x130),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x99d6bf(0x1af),'senior_aal':a0_0x99d6bf(0x193),'family':'Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','single_comfort':a0_0x99d6bf(0x172),'security':a0_0x99d6bf(0x188),'energy_saver':a0_0x99d6bf(0x135)};function canCallApi(){const _0x33c6c1=a0_0x99d6bf,_0x1b5abb=Date[_0x33c6c1(0x137)]();return _0x1b5abb-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x927bed=a0_0x99d6bf;lastGlobalApiCall=Date[_0x927bed(0x137)]();}async function getWeatherContext(_0x2a27b7){const _0x532876=a0_0x99d6bf;if(!_0x2a27b7[_0x532876(0x131)][_0x532876(0x146)]||!_0x2a27b7[_0x532876(0x131)][_0x532876(0x12c)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x3b8769=_0x2a27b7[_0x532876(0x131)]['weatherInstance'];let _0x5b1989=await _0x2a27b7[_0x532876(0x15b)](_0x3b8769+'.Current.Temperature');if(!_0x5b1989)_0x5b1989=await _0x2a27b7[_0x532876(0x15b)](_0x3b8769+_0x532876(0x149));let _0x4c55bf=await _0x2a27b7[_0x532876(0x15b)](_0x3b8769+_0x532876(0x174));if(!_0x4c55bf)_0x4c55bf=await _0x2a27b7[_0x532876(0x15b)](_0x3b8769+_0x532876(0x194));let _0x1a522a='Unbekannt';const _0x4ea666=await _0x2a27b7[_0x532876(0x15b)](_0x3b8769+'.Current.IsNight');if(_0x4ea666)_0x1a522a=_0x4ea666['val']?_0x532876(0x184):_0x532876(0x140);if(_0x5b1989&&_0x4c55bf)return _0x5b1989[_0x532876(0x154)]+_0x532876(0x1a2)+_0x4c55bf[_0x532876(0x154)]+',\x20LichtverhÃ¤ltnisse:\x20'+_0x1a522a;}catch(_0x55694c){}return _0x532876(0x12e);}async function consultButler(_0x43b41f,_0x20c077,_0x45cfb6,_0x20738c){const _0x1a5275=a0_0x99d6bf;if(!_0x43b41f['geminiModel'])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x4e8c8c=Date[_0x1a5275(0x137)]();if(decisionCache[_0x20c077]&&_0x4e8c8c-decisionCache[_0x20c077][_0x1a5275(0x169)]<CACHE_TTL_MS){const _0x331087=decisionCache[_0x20c077]['decision'];return _0x43b41f[_0x1a5275(0x133)][_0x1a5275(0x16e)]('ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20'+_0x20c077+_0x1a5275(0x175)+(_0x331087['approved']?'OK':'NO')+'\x20('+_0x331087[_0x1a5275(0x132)]+')'),_0x331087;}if(!canCallApi())return _0x43b41f[_0x1a5275(0x133)][_0x1a5275(0x16e)](_0x1a5275(0x198)+_0x20c077+_0x1a5275(0x160)),{'approved':!![],'reason':_0x1a5275(0x1ac)};const _0x3104bf=new Date()[_0x1a5275(0x171)](),_0xd1d3d4=await getWeatherContext(_0x43b41f),_0x2b5500=PERSONA_MAPPING[_0x43b41f[_0x1a5275(0x131)][_0x1a5275(0x156)]||_0x1a5275(0x153)],_0x164790='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x3104bf+_0x1a5275(0x17f)+_0xd1d3d4+_0x1a5275(0x138)+(_0x20738c*0x64)[_0x1a5275(0x16f)](0x0)+_0x1a5275(0x180)+_0x20c077+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x45cfb6+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x2b5500+'\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20';try{updateApiTimestamp();const _0x1bbed9=await _0x43b41f[_0x1a5275(0x19e)][_0x1a5275(0x147)](_0x164790),_0x1073b7=_0x1bbed9[_0x1a5275(0x177)]['text']()[_0x1a5275(0x161)](/```json|```/g,'')['trim'](),_0xf7cf4e=JSON[_0x1a5275(0x17c)](_0x1073b7);return decisionCache[_0x20c077]={'decision':_0xf7cf4e,'timestamp':_0x4e8c8c},_0xf7cf4e;}catch(_0x16a986){return _0x43b41f[_0x1a5275(0x133)][_0x1a5275(0x185)](_0x1a5275(0x13a)+_0x16a986['message']),decisionCache[_0x20c077]={'decision':{'approved':!![],'reason':_0x1a5275(0x1ae)},'timestamp':_0x4e8c8c-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}function a0_0x5467(_0x257cd5,_0x3ecc61){const _0x5b98b8=a0_0x1240();return a0_0x5467=function(_0x2e40d8,_0x430663){_0x2e40d8=_0x2e40d8-0x129;let _0x12408f=_0x5b98b8[_0x2e40d8];return _0x12408f;},a0_0x5467(_0x257cd5,_0x3ecc61);}async function runGeminiAnalysis(_0x541072,_0x553676=''){const _0x52ff60=a0_0x99d6bf;if(!_0x541072['geminiModel'])return;if(!canCallApi()){_0x541072['log'][_0x52ff60(0x16e)](_0x52ff60(0x152));return;}if(_0x541072[_0x52ff60(0x16b)][_0x52ff60(0x15c)]===0x0)return;const _0x3ab928=_0x541072[_0x52ff60(0x16b)][_0x52ff60(0x1a3)](0x0,0xf),_0x40ba30=_0x541072[_0x52ff60(0x14d)],_0x46d2af=PERSONA_MAPPING[_0x541072[_0x52ff60(0x131)][_0x52ff60(0x156)]||_0x52ff60(0x153)],_0x3f6c39=_0x541072[_0x52ff60(0x131)][_0x52ff60(0x199)]||_0x52ff60(0x14a);let _0x255198='Unbekannt';try{const _0x3f3e4e=await _0x541072[_0x52ff60(0x15a)](_0x52ff60(0x182));if(_0x3f3e4e&&_0x3f3e4e[_0x52ff60(0x154)])_0x255198=_0x3f3e4e[_0x52ff60(0x154)];}catch(_0x1a35f3){}let _0x7abdee=![];try{const _0x23dec9=await _0x541072[_0x52ff60(0x15a)](_0x52ff60(0x1aa));if(_0x23dec9&&_0x23dec9['val'])_0x7abdee=!![];}catch(_0x4c3fae){}const _0x40bb36=_0x52ff60(0x191)+_0x46d2af+'.\x20KONTEXT:\x20'+_0x3f6c39+'.\x20SYSTEM_MODE:\x20'+_0x40ba30+_0x52ff60(0x13c)+_0x255198+_0x52ff60(0x190)+JSON[_0x52ff60(0x1a5)](_0x3ab928)+_0x52ff60(0x129)+_0x553676+_0x52ff60(0x145);try{updateApiTimestamp();const _0x20d03c=await _0x541072[_0x52ff60(0x19e)]['generateContent'](_0x40bb36),_0x43165c=JSON[_0x52ff60(0x17c)](_0x20d03c[_0x52ff60(0x177)]['text']()[_0x52ff60(0x161)](/```json|```/g,'')[_0x52ff60(0x1a0)]());await _0x541072['setStateAsync'](_0x52ff60(0x1a7),{'val':JSON[_0x52ff60(0x1a5)](_0x43165c),'ack':!![]});if(_0x43165c[_0x52ff60(0x13f)])await _0x541072['setStateAsync'](_0x52ff60(0x158),{'val':_0x43165c['summary'],'ack':!![]});const _0x4ab5f8={'timestamp':Date[_0x52ff60(0x137)](),'id':Date['now']()[_0x52ff60(0x12d)](),'analysis':{'activity':{'summary':_0x43165c[_0x52ff60(0x13f)],'isAlert':_0x43165c[_0x52ff60(0x19a)],'alertReason':_0x43165c[_0x52ff60(0x150)]},'comfort':{'automationProposal':_0x43165c[_0x52ff60(0x139)]}}};_0x541072[_0x52ff60(0x163)][_0x52ff60(0x134)](_0x4ab5f8);if(_0x541072['analysisHistory'][_0x52ff60(0x15c)]>0x32)_0x541072['analysisHistory'][_0x52ff60(0x162)]();await _0x541072['setStateAsync']('analysis.analysisHistory',{'val':JSON[_0x52ff60(0x1a5)](_0x541072[_0x52ff60(0x163)]),'ack':!![]});const _0x29d35=_0x43165c[_0x52ff60(0x19a)]||![];_0x29d35!==_0x541072[_0x52ff60(0x15e)]&&(await _0x541072[_0x52ff60(0x151)](_0x52ff60(0x166),{'val':_0x29d35,'ack':!![]}),_0x541072[_0x52ff60(0x15e)]=_0x29d35,_0x29d35&&(await _0x541072[_0x52ff60(0x151)](_0x52ff60(0x19d),{'val':_0x43165c['alertReason'],'ack':!![]}),setup[_0x52ff60(0x196)](_0x541072,_0x52ff60(0x16d)+_0x43165c[_0x52ff60(0x150)],![],_0x43165c[_0x52ff60(0x13b)])));if(_0x43165c['automationProposal']&&_0x43165c[_0x52ff60(0x139)][_0x52ff60(0x19b)]){await _0x541072[_0x52ff60(0x151)](_0x52ff60(0x164),{'val':!![],'ack':!![]}),await _0x541072[_0x52ff60(0x151)](_0x52ff60(0x155),{'val':_0x43165c[_0x52ff60(0x139)][_0x52ff60(0x13e)],'ack':!![]}),await _0x541072[_0x52ff60(0x151)]('analysis.automation.targetId',{'val':_0x43165c['automationProposal'][_0x52ff60(0x148)],'ack':!![]}),await _0x541072[_0x52ff60(0x151)](_0x52ff60(0x179),{'val':JSON[_0x52ff60(0x1a5)](_0x43165c['automationProposal']['targetValue']),'ack':!![]});if(_0x7abdee)executeAutomationAction(_0x541072);}}catch(_0x3514b0){_0x541072[_0x52ff60(0x133)][_0x52ff60(0x12b)]('Gemini\x20Error:\x20'+_0x3514b0[_0x52ff60(0x17e)]);}}async function createDailyDigest(_0x5cd0e3,_0xcd9abc){const _0x32acac=a0_0x99d6bf;if(!_0x5cd0e3[_0x32acac(0x18c)])return;if(!canCallApi()){await _0x5cd0e3[_0x32acac(0x151)](LTM_DP_STATUS,{'val':'Skipped\x20(Traffic)','ack':!![]});return;}await _0x5cd0e3[_0x32acac(0x151)](LTM_DP_STATUS,{'val':_0x32acac(0x16c),'ack':!![]});if(!_0x5cd0e3[_0x32acac(0x19e)]||_0x5cd0e3[_0x32acac(0x14c)][_0x32acac(0x15c)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x5cd0e3['setStateAsync'](LTM_DP_STATUS,{'val':_0x32acac(0x12f),'ack':!![]});return;}const _0x566113=JSON[_0x32acac(0x17c)](JSON['stringify'](_0x5cd0e3[_0x32acac(0x14c)])),_0xce0b71=_0x566113[_0x32acac(0x15c)],_0x1a2713=_0x32acac(0x189)+JSON['stringify'](_0x566113);try{updateApiTimestamp();const _0x47b19e=await _0x5cd0e3[_0x32acac(0x19e)]['generateContent'](_0x1a2713),_0x268b61=JSON[_0x32acac(0x17c)](_0x47b19e[_0x32acac(0x177)][_0x32acac(0x12a)]()[_0x32acac(0x161)](/```json|```/g,'')['trim']()),_0x2bdac7={'timestamp':new Date()[_0x32acac(0x167)](),'eventCount':_0xce0b71,'summary':_0x268b61[_0x32acac(0x13f)]||_0x32acac(0x18e),'activityLevel':_0x268b61[_0x32acac(0x19c)]||_0x32acac(0x1a1),'systemMode':_0x5cd0e3['currentSystemMode']};_0x5cd0e3[_0x32acac(0x183)][_0x32acac(0x1ab)](_0x2bdac7);const _0x2c4e07=_0x5cd0e3[_0x32acac(0x131)][_0x32acac(0x18f)]||0x3c;_0x5cd0e3[_0x32acac(0x183)][_0x32acac(0x15c)]>_0x2c4e07&&_0x5cd0e3[_0x32acac(0x183)][_0x32acac(0x192)](0x0,_0x5cd0e3['dailyDigests']['length']-_0x2c4e07);await _0x5cd0e3[_0x32acac(0x151)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x5cd0e3[_0x32acac(0x183)]),'ack':!![]}),_0x5cd0e3[_0x32acac(0x14c)]=[],await _0x5cd0e3[_0x32acac(0x151)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x5cd0e3['rawEventLog']),'ack':!![]}),await _0x5cd0e3[_0x32acac(0x151)](LTM_DP_STATUS,{'val':_0x32acac(0x170),'ack':!![]});const _0x2f5aa1='ðŸ“…\x20Daily\x20Digest:\x0a'+_0x268b61[_0x32acac(0x13f)]+_0x32acac(0x142)+_0x268b61[_0x32acac(0x19c)];setup[_0x32acac(0x196)](_0x5cd0e3,_0x2f5aa1,![],![]);if(_0x5cd0e3[_0x32acac(0x18c)]&&_0xcd9abc)_0xcd9abc[_0x32acac(0x14e)](_0x5cd0e3,_0x32acac(0x15d),{'digest':_0x2bdac7});}catch(_0x2ab6eb){_0x5cd0e3[_0x32acac(0x133)][_0x32acac(0x12b)](_0x2ab6eb[_0x32acac(0x17e)]);}}async function runBaselineDriftAnalysis(_0x54a1f9){const _0x3ade8d=a0_0x99d6bf;if(!_0x54a1f9['isProVersion']||!_0x54a1f9['geminiModel'])return;if(!canCallApi())return;const _0x1a0b61=_0x54a1f9['config']['ltmStbWindowDays']||0xe;if(_0x54a1f9[_0x3ade8d(0x183)][_0x3ade8d(0x15c)]<_0x1a0b61+0x7){await _0x54a1f9[_0x3ade8d(0x151)](_0x3ade8d(0x195),{'val':_0x3ade8d(0x17d),'ack':!![]});return;}const _0x3f7778=_0x54a1f9[_0x3ade8d(0x183)][_0x3ade8d(0x1a3)](-_0x1a0b61),_0x220b5c=_0x54a1f9['dailyDigests'][_0x3ade8d(0x1a3)](0x0,_0x54a1f9[_0x3ade8d(0x183)]['length']-_0x1a0b61),_0x5e4dc7=_0x3ade8d(0x18d)+JSON['stringify'](_0x220b5c)+'\x0aSTB:\x20'+JSON['stringify'](_0x3f7778);try{updateApiTimestamp();const _0x27dfe1=await _0x54a1f9['geminiModel'][_0x3ade8d(0x147)](_0x5e4dc7),_0x5aef65=JSON[_0x3ade8d(0x17c)](_0x27dfe1[_0x3ade8d(0x177)][_0x3ade8d(0x12a)]()[_0x3ade8d(0x161)](/```json|```/g,'')[_0x3ade8d(0x1a0)]());_0x5aef65[_0x3ade8d(0x18a)]&&(await _0x54a1f9[_0x3ade8d(0x151)](_0x3ade8d(0x195),{'val':_0x5aef65[_0x3ade8d(0x18a)],'ack':!![]}),await _0x54a1f9['setStateAsync'](_0x3ade8d(0x136),{'val':_0x5aef65[_0x3ade8d(0x13d)],'ack':!![]}),await _0x54a1f9['setStateAsync'](_0x3ade8d(0x168),{'val':Date[_0x3ade8d(0x137)](),'ack':!![]}));}catch(_0x15f622){}}async function executeAutomationAction(_0x28e590){const _0xec5ea4=a0_0x99d6bf;try{const _0x17a433=await _0x28e590[_0xec5ea4(0x15a)](_0xec5ea4(0x173)),_0x57a03c=await _0x28e590[_0xec5ea4(0x15a)](_0xec5ea4(0x179));if(_0x17a433&&_0x17a433[_0xec5ea4(0x154)]&&_0x57a03c){const _0x4a8c18=_0x17a433[_0xec5ea4(0x154)];let _0x59f4d7=_0x57a03c[_0xec5ea4(0x154)];try{_0x59f4d7=JSON[_0xec5ea4(0x17c)](_0x59f4d7);}catch(_0x3cb7ce){}_0x28e590['log'][_0xec5ea4(0x165)](_0xec5ea4(0x17a)+_0x4a8c18+_0xec5ea4(0x187)+_0x59f4d7),await _0x28e590['setForeignStateAsync'](_0x4a8c18,_0x59f4d7);}else _0x28e590[_0xec5ea4(0x133)][_0xec5ea4(0x185)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x4cfab4){_0x28e590[_0xec5ea4(0x133)][_0xec5ea4(0x12b)](_0xec5ea4(0x159)+_0x4cfab4['message']);}}async function sendMorningBriefing(_0x590178){const _0x534dcd=a0_0x99d6bf;if(!_0x590178[_0x534dcd(0x19e)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x161216=_0x534dcd(0x178),_0x262783=await _0x590178[_0x534dcd(0x19e)][_0x534dcd(0x147)](_0x161216),_0x2ded9b=_0x262783[_0x534dcd(0x177)][_0x534dcd(0x12a)]();setup[_0x534dcd(0x196)](_0x590178,'ðŸŒ…\x20Morning\x20Briefing:\x0a'+_0x2ded9b);}catch(_0x46ccf8){_0x590178[_0x534dcd(0x133)][_0x534dcd(0x12b)](_0x534dcd(0x1a6)+_0x46ccf8[_0x534dcd(0x17e)]);}}module[a0_0x99d6bf(0x1a4)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};