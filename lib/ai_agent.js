const a0_0x2e3818=a0_0x1061;(function(_0x5a344a,_0x2cc2d0){const _0x3bd6b3=a0_0x1061,_0x45f224=_0x5a344a();while(!![]){try{const _0x1a324c=parseInt(_0x3bd6b3(0x148))/0x1*(parseInt(_0x3bd6b3(0x161))/0x2)+-parseInt(_0x3bd6b3(0x125))/0x3+parseInt(_0x3bd6b3(0x16e))/0x4*(-parseInt(_0x3bd6b3(0x152))/0x5)+parseInt(_0x3bd6b3(0x145))/0x6*(-parseInt(_0x3bd6b3(0x136))/0x7)+parseInt(_0x3bd6b3(0x117))/0x8+parseInt(_0x3bd6b3(0x16f))/0x9*(-parseInt(_0x3bd6b3(0x17e))/0xa)+parseInt(_0x3bd6b3(0x122))/0xb;if(_0x1a324c===_0x2cc2d0)break;else _0x45f224['push'](_0x45f224['shift']());}catch(_0x2da9c6){_0x45f224['push'](_0x45f224['shift']());}}}(a0_0x962f,0x78823));const a0_0x237f67=(function(){let _0x405958=!![];return function(_0x145c23,_0x5e0a69){const _0x1dfb21=_0x405958?function(){const _0x4031a0=a0_0x1061;if(_0x5e0a69){const _0x2e9bef=_0x5e0a69[_0x4031a0(0x16d)](_0x145c23,arguments);return _0x5e0a69=null,_0x2e9bef;}}:function(){};return _0x405958=![],_0x1dfb21;};}()),a0_0x5eef2d=a0_0x237f67(this,function(){const _0x32b940=a0_0x1061;return a0_0x5eef2d['toString']()[_0x32b940(0x172)]('(((.+)+)+)+$')[_0x32b940(0x179)]()[_0x32b940(0x177)](a0_0x5eef2d)[_0x32b940(0x172)](_0x32b940(0x187));});function a0_0x1061(_0x1dc039,_0x158b87){const _0x2d9ebd=a0_0x962f();return a0_0x1061=function(_0x5eef2d,_0x237f67){_0x5eef2d=_0x5eef2d-0x112;let _0x962fda=_0x2d9ebd[_0x5eef2d];return _0x962fda;},a0_0x1061(_0x1dc039,_0x158b87);}a0_0x5eef2d();'use strict';function a0_0x962f(){const _0x4bca46=['15DVQYTs','isEmergency','\x20=\x20','automationProposal','response','analysis.alertReason','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','analysis.automation.autoApply','\x0aAktivit√§t:\x20','sendNotification','message','val','info','Success','analysis.analysisHistory','10UiRxNm','lastAlertState','now','.Current.IsNight','Skipped\x20(No\x20AI\x20or\x20Data)','targetValue','LTM.driftAnalysis.lastCheck','LTM.driftAnalysis.baselineDrift','LTM.driftAnalysis.driftDetails','unshift','.forecast.current.temperature','eventHistory','apply','711368biWvmT','162jpuddN','\x20->\x20','parse','search','\x0aSTB:\x20','getForeignStateAsync','Skipped\x20(Traffic)','activityLevel','constructor','aiPersona','toString','warn','.forecast.current.state','\x20√ºbersprungen\x20(Auto-Approved).','./setup','178730OIGXEz','error','currentSystemMode','toLocaleTimeString','Traffic-Schutz\x20(Auto-Approved)','analysis.automation.patternDetected','exports','debug','.\x20EMERGENCY:\x20','(((.+)+)+)+$','summary','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','.\x20SYSTEM_MODE:\x20','text',',\x20Lichtverh√§ltnisse:\x20','toISOString','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','KI-Fehler\x20(Fallback)','analysis.automation.targetId','Tag','Unbekannt','system.presenceWho','@google/generative-ai','ltmLtbWindowDays','dailyDigests','Started...','.\x20KONTEXT:\x20','push','1831584IGHGFJ','baselineDrift','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','generic','alertReason','generateContent','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','decision','.Current.WeatherText','Unbekannt\x20(Kein\x20Sensor)','22456522melGTA','isProVersion','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','2922978htJHyj','stringify','getStateAsync','log','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','splice','weatherInstance','Sicherheit\x20geht\x20vor.','approved','isAlert','.\x20ANWESEND:\x20','send','length','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','N/A\x20(Learning)','setStateAsync','Digest','7rVUCAx','driftDetails','setForeignStateAsync','trim','Gemini\x20Error:\x20','KI\x20offline\x20(Fallback)','config','üåÖ\x20Morning\x20Briefing:\x0a','Keine\x20Details.','.\x20EVENTS:\x20','geminiModel','slice','detected','pop','analysis.automation.targetValue','2042556yOqVvK','rawEventLog','BUTLER\x20Execution\x20Error:\x20','78629SfqpFd','replace','targetId','reason','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','analysisHistory','Wetterdaten\x20nicht\x20abrufbar','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','analysis.automation.description'];a0_0x962f=function(){return _0x4bca46;};return a0_0x962f();}const {GoogleGenerativeAI}=require(a0_0x2e3818(0x196)),setup=require(a0_0x2e3818(0x17d)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x2e3818(0x14c),'senior_aal':a0_0x2e3818(0x119),'family':a0_0x2e3818(0x14f),'single_comfort':a0_0x2e3818(0x158),'security':a0_0x2e3818(0x12c),'energy_saver':a0_0x2e3818(0x150)};function canCallApi(){const _0xef4484=a0_0x2e3818,_0x365860=Date[_0xef4484(0x163)]();return _0x365860-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x12e41c=a0_0x2e3818;lastGlobalApiCall=Date[_0x12e41c(0x163)]();}async function getWeatherContext(_0x1ac4e0){const _0x36e76a=a0_0x2e3818;if(!_0x1ac4e0['config']['useWeather']||!_0x1ac4e0[_0x36e76a(0x13c)][_0x36e76a(0x12b)])return _0x36e76a(0x121);try{const _0x5e0305=_0x1ac4e0[_0x36e76a(0x13c)][_0x36e76a(0x12b)];let _0x4ea88c=await _0x1ac4e0[_0x36e76a(0x174)](_0x5e0305+'.Current.Temperature');if(!_0x4ea88c)_0x4ea88c=await _0x1ac4e0['getForeignStateAsync'](_0x5e0305+_0x36e76a(0x16b));let _0x411a20=await _0x1ac4e0['getForeignStateAsync'](_0x5e0305+_0x36e76a(0x120));if(!_0x411a20)_0x411a20=await _0x1ac4e0[_0x36e76a(0x174)](_0x5e0305+_0x36e76a(0x17b));let _0xdf312b='Unbekannt';const _0x591b65=await _0x1ac4e0[_0x36e76a(0x174)](_0x5e0305+_0x36e76a(0x164));if(_0x591b65)_0xdf312b=_0x591b65[_0x36e76a(0x15d)]?'Nacht':_0x36e76a(0x193);if(_0x4ea88c&&_0x411a20)return _0x4ea88c[_0x36e76a(0x15d)]+'¬∞C,\x20'+_0x411a20[_0x36e76a(0x15d)]+_0x36e76a(0x18d)+_0xdf312b;}catch(_0x51ae2f){}return _0x36e76a(0x14e);}async function consultButler(_0xe0daed,_0x25541a,_0x1d1c21,_0x374204){const _0x1f7800=a0_0x2e3818;if(!_0xe0daed[_0x1f7800(0x140)])return{'approved':!![],'reason':_0x1f7800(0x13b)};const _0x454c3d=Date['now']();if(decisionCache[_0x25541a]&&_0x454c3d-decisionCache[_0x25541a]['timestamp']<CACHE_TTL_MS){const _0x4cdb94=decisionCache[_0x25541a][_0x1f7800(0x11f)];return _0xe0daed[_0x1f7800(0x128)][_0x1f7800(0x185)](_0x1f7800(0x129)+_0x25541a+_0x1f7800(0x170)+(_0x4cdb94[_0x1f7800(0x12d)]?'OK':'NO')+'\x20('+_0x4cdb94[_0x1f7800(0x14b)]+')'),_0x4cdb94;}if(!canCallApi())return _0xe0daed[_0x1f7800(0x128)][_0x1f7800(0x185)]('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x25541a+_0x1f7800(0x17c)),{'approved':!![],'reason':_0x1f7800(0x182)};const _0x5cef67=new Date()[_0x1f7800(0x181)](),_0x1abe1b=await getWeatherContext(_0xe0daed),_0x5d6a9e=PERSONA_MAPPING[_0xe0daed[_0x1f7800(0x13c)][_0x1f7800(0x178)]||_0x1f7800(0x11a)],_0xc6104c='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x5cef67+',\x20Wetter:\x20'+_0x1abe1b+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x374204*0x64)['toFixed'](0x0)+'%)\x20nach\x20\x22'+_0x25541a+_0x1f7800(0x18f)+_0x1d1c21+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x5d6a9e+_0x1f7800(0x11d);try{updateApiTimestamp();const _0x457a74=await _0xe0daed[_0x1f7800(0x140)][_0x1f7800(0x11c)](_0xc6104c),_0xddcada=_0x457a74[_0x1f7800(0x156)][_0x1f7800(0x18c)]()[_0x1f7800(0x149)](/```json|```/g,'')[_0x1f7800(0x139)](),_0x29bd5c=JSON[_0x1f7800(0x171)](_0xddcada);return decisionCache[_0x25541a]={'decision':_0x29bd5c,'timestamp':_0x454c3d},_0x29bd5c;}catch(_0x19cfa4){return _0xe0daed[_0x1f7800(0x128)][_0x1f7800(0x17a)]('ü§ñ\x20Butler\x20Brain\x20Error:\x20'+_0x19cfa4['message']),decisionCache[_0x25541a]={'decision':{'approved':!![],'reason':_0x1f7800(0x191)},'timestamp':_0x454c3d-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x1f7800(0x191)};}}async function runGeminiAnalysis(_0xe00c9b,_0x12efc6=''){const _0x3b1c90=a0_0x2e3818;if(!_0xe00c9b[_0x3b1c90(0x140)])return;if(!canCallApi()){_0xe00c9b[_0x3b1c90(0x128)]['debug'](_0x3b1c90(0x18a));return;}if(_0xe00c9b[_0x3b1c90(0x16c)][_0x3b1c90(0x131)]===0x0)return;const _0x153270=_0xe00c9b[_0x3b1c90(0x16c)][_0x3b1c90(0x141)](0x0,0xf),_0x2c0939=_0xe00c9b['currentSystemMode'],_0x2e933b=PERSONA_MAPPING[_0xe00c9b[_0x3b1c90(0x13c)][_0x3b1c90(0x178)]||_0x3b1c90(0x11a)],_0x3772f8=_0xe00c9b[_0x3b1c90(0x13c)]['livingContext']||_0x3b1c90(0x13e);let _0x14e028=_0x3b1c90(0x194);try{const _0x599683=await _0xe00c9b[_0x3b1c90(0x127)](_0x3b1c90(0x195));if(_0x599683&&_0x599683[_0x3b1c90(0x15d)])_0x14e028=_0x599683[_0x3b1c90(0x15d)];}catch(_0xd3ba3e){}let _0x4059b4=![];try{const _0x557bc5=await _0xe00c9b[_0x3b1c90(0x127)](_0x3b1c90(0x159));if(_0x557bc5&&_0x557bc5[_0x3b1c90(0x15d)])_0x4059b4=!![];}catch(_0x2d78dd){}const _0x5274c7=_0x3b1c90(0x132)+_0x2e933b+_0x3b1c90(0x115)+_0x3772f8+_0x3b1c90(0x18b)+_0x2c0939+_0x3b1c90(0x12f)+_0x14e028+_0x3b1c90(0x13f)+JSON[_0x3b1c90(0x126)](_0x153270)+_0x3b1c90(0x186)+_0x12efc6+'.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}';try{updateApiTimestamp();const _0x2bfbe4=await _0xe00c9b['geminiModel'][_0x3b1c90(0x11c)](_0x5274c7),_0x593b0b=JSON[_0x3b1c90(0x171)](_0x2bfbe4[_0x3b1c90(0x156)][_0x3b1c90(0x18c)]()[_0x3b1c90(0x149)](/```json|```/g,'')[_0x3b1c90(0x139)]());await _0xe00c9b[_0x3b1c90(0x134)]('analysis.lastResult',{'val':JSON[_0x3b1c90(0x126)](_0x593b0b),'ack':!![]});if(_0x593b0b['summary'])await _0xe00c9b['setStateAsync']('analysis.activitySummary',{'val':_0x593b0b[_0x3b1c90(0x188)],'ack':!![]});const _0x4a35e2={'timestamp':Date['now'](),'id':Date[_0x3b1c90(0x163)]()[_0x3b1c90(0x179)](),'analysis':{'activity':{'summary':_0x593b0b['summary'],'isAlert':_0x593b0b[_0x3b1c90(0x12e)],'alertReason':_0x593b0b['alertReason']},'comfort':{'automationProposal':_0x593b0b[_0x3b1c90(0x155)]}}};_0xe00c9b['analysisHistory'][_0x3b1c90(0x16a)](_0x4a35e2);if(_0xe00c9b[_0x3b1c90(0x14d)][_0x3b1c90(0x131)]>0x32)_0xe00c9b[_0x3b1c90(0x14d)][_0x3b1c90(0x143)]();await _0xe00c9b[_0x3b1c90(0x134)](_0x3b1c90(0x160),{'val':JSON['stringify'](_0xe00c9b['analysisHistory']),'ack':!![]});const _0x6c7f36=_0x593b0b[_0x3b1c90(0x12e)]||![];_0x6c7f36!==_0xe00c9b[_0x3b1c90(0x162)]&&(await _0xe00c9b['setStateAsync']('analysis.isAlert',{'val':_0x6c7f36,'ack':!![]}),_0xe00c9b[_0x3b1c90(0x162)]=_0x6c7f36,_0x6c7f36&&(await _0xe00c9b[_0x3b1c90(0x134)](_0x3b1c90(0x157),{'val':_0x593b0b[_0x3b1c90(0x11b)],'ack':!![]}),setup['sendNotification'](_0xe00c9b,'‚ö†Ô∏è\x20ALARM:\x20'+_0x593b0b[_0x3b1c90(0x11b)],![],_0x593b0b[_0x3b1c90(0x153)])));if(_0x593b0b[_0x3b1c90(0x155)]&&_0x593b0b[_0x3b1c90(0x155)][_0x3b1c90(0x142)]){await _0xe00c9b[_0x3b1c90(0x134)](_0x3b1c90(0x183),{'val':!![],'ack':!![]}),await _0xe00c9b[_0x3b1c90(0x134)](_0x3b1c90(0x151),{'val':_0x593b0b[_0x3b1c90(0x155)]['description'],'ack':!![]}),await _0xe00c9b['setStateAsync'](_0x3b1c90(0x192),{'val':_0x593b0b[_0x3b1c90(0x155)][_0x3b1c90(0x14a)],'ack':!![]}),await _0xe00c9b[_0x3b1c90(0x134)](_0x3b1c90(0x144),{'val':JSON[_0x3b1c90(0x126)](_0x593b0b[_0x3b1c90(0x155)][_0x3b1c90(0x166)]),'ack':!![]});if(_0x4059b4)executeAutomationAction(_0xe00c9b);}}catch(_0xe8aff3){_0xe00c9b[_0x3b1c90(0x128)][_0x3b1c90(0x17f)](_0x3b1c90(0x13a)+_0xe8aff3[_0x3b1c90(0x15c)]);}}async function createDailyDigest(_0x18f982,_0x224624){const _0x2e146b=a0_0x2e3818;if(!_0x18f982[_0x2e146b(0x123)])return;if(!canCallApi()){await _0x18f982['setStateAsync'](LTM_DP_STATUS,{'val':_0x2e146b(0x175),'ack':!![]});return;}await _0x18f982[_0x2e146b(0x134)](LTM_DP_STATUS,{'val':_0x2e146b(0x114),'ack':!![]});if(!_0x18f982[_0x2e146b(0x140)]||_0x18f982['rawEventLog'][_0x2e146b(0x131)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x18f982['setStateAsync'](LTM_DP_STATUS,{'val':_0x2e146b(0x165),'ack':!![]});return;}const _0x343ce7=JSON[_0x2e146b(0x171)](JSON[_0x2e146b(0x126)](_0x18f982[_0x2e146b(0x146)])),_0x4ac47e=_0x343ce7[_0x2e146b(0x131)],_0x22297f=_0x2e146b(0x189)+JSON[_0x2e146b(0x126)](_0x343ce7);try{updateApiTimestamp();const _0x3edcd7=await _0x18f982[_0x2e146b(0x140)]['generateContent'](_0x22297f),_0x4ab7f4=JSON[_0x2e146b(0x171)](_0x3edcd7['response']['text']()[_0x2e146b(0x149)](/```json|```/g,'')[_0x2e146b(0x139)]()),_0x297fed={'timestamp':new Date()[_0x2e146b(0x18e)](),'eventCount':_0x4ac47e,'summary':_0x4ab7f4[_0x2e146b(0x188)]||_0x2e146b(0x135),'activityLevel':_0x4ab7f4[_0x2e146b(0x176)]||'normal','systemMode':_0x18f982[_0x2e146b(0x180)]};_0x18f982[_0x2e146b(0x113)][_0x2e146b(0x116)](_0x297fed);const _0x55ceef=_0x18f982[_0x2e146b(0x13c)][_0x2e146b(0x112)]||0x3c;_0x18f982[_0x2e146b(0x113)][_0x2e146b(0x131)]>_0x55ceef&&_0x18f982['dailyDigests'][_0x2e146b(0x12a)](0x0,_0x18f982['dailyDigests']['length']-_0x55ceef);await _0x18f982['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x2e146b(0x126)](_0x18f982[_0x2e146b(0x113)]),'ack':!![]}),_0x18f982['rawEventLog']=[],await _0x18f982[_0x2e146b(0x134)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x18f982[_0x2e146b(0x146)]),'ack':!![]}),await _0x18f982[_0x2e146b(0x134)](LTM_DP_STATUS,{'val':_0x2e146b(0x15f),'ack':!![]});const _0x4ddfbb='üìÖ\x20Daily\x20Digest:\x0a'+_0x4ab7f4['summary']+_0x2e146b(0x15a)+_0x4ab7f4[_0x2e146b(0x176)];setup[_0x2e146b(0x15b)](_0x18f982,_0x4ddfbb,![],![]);if(_0x18f982[_0x2e146b(0x123)]&&_0x224624)_0x224624[_0x2e146b(0x130)](_0x18f982,'ANALYZE_HEALTH',{'digest':_0x297fed});}catch(_0x1d2057){_0x18f982[_0x2e146b(0x128)][_0x2e146b(0x17f)](_0x1d2057[_0x2e146b(0x15c)]);}}async function runBaselineDriftAnalysis(_0x3bc7fd){const _0x33cec5=a0_0x2e3818;if(!_0x3bc7fd[_0x33cec5(0x123)]||!_0x3bc7fd[_0x33cec5(0x140)])return;if(!canCallApi())return;const _0x5a0ae9=_0x3bc7fd[_0x33cec5(0x13c)]['ltmStbWindowDays']||0xe;if(_0x3bc7fd[_0x33cec5(0x113)][_0x33cec5(0x131)]<_0x5a0ae9+0x7){await _0x3bc7fd[_0x33cec5(0x134)](_0x33cec5(0x168),{'val':_0x33cec5(0x133),'ack':!![]});return;}const _0x46f87b=_0x3bc7fd[_0x33cec5(0x113)][_0x33cec5(0x141)](-_0x5a0ae9),_0x5119e7=_0x3bc7fd['dailyDigests'][_0x33cec5(0x141)](0x0,_0x3bc7fd[_0x33cec5(0x113)][_0x33cec5(0x131)]-_0x5a0ae9),_0x2c28e9=_0x33cec5(0x11e)+JSON[_0x33cec5(0x126)](_0x5119e7)+_0x33cec5(0x173)+JSON['stringify'](_0x46f87b);try{updateApiTimestamp();const _0x3037c0=await _0x3bc7fd[_0x33cec5(0x140)][_0x33cec5(0x11c)](_0x2c28e9),_0x6378b4=JSON[_0x33cec5(0x171)](_0x3037c0[_0x33cec5(0x156)][_0x33cec5(0x18c)]()[_0x33cec5(0x149)](/```json|```/g,'')[_0x33cec5(0x139)]());_0x6378b4[_0x33cec5(0x118)]&&(await _0x3bc7fd['setStateAsync'](_0x33cec5(0x168),{'val':_0x6378b4[_0x33cec5(0x118)],'ack':!![]}),await _0x3bc7fd[_0x33cec5(0x134)](_0x33cec5(0x169),{'val':_0x6378b4[_0x33cec5(0x137)],'ack':!![]}),await _0x3bc7fd[_0x33cec5(0x134)](_0x33cec5(0x167),{'val':Date[_0x33cec5(0x163)](),'ack':!![]}));}catch(_0x546591){}}async function executeAutomationAction(_0x202f01){const _0x4cd3df=a0_0x2e3818;try{const _0x3d2e56=await _0x202f01[_0x4cd3df(0x127)]('analysis.automation.targetId'),_0x5a154e=await _0x202f01[_0x4cd3df(0x127)](_0x4cd3df(0x144));if(_0x3d2e56&&_0x3d2e56['val']&&_0x5a154e){const _0x3a1778=_0x3d2e56[_0x4cd3df(0x15d)];let _0x470fc2=_0x5a154e[_0x4cd3df(0x15d)];try{_0x470fc2=JSON['parse'](_0x470fc2);}catch(_0x3c07cf){}_0x202f01[_0x4cd3df(0x128)][_0x4cd3df(0x15e)](_0x4cd3df(0x124)+_0x3a1778+_0x4cd3df(0x154)+_0x470fc2),await _0x202f01[_0x4cd3df(0x138)](_0x3a1778,_0x470fc2);}else _0x202f01[_0x4cd3df(0x128)][_0x4cd3df(0x17a)]('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x345480){_0x202f01[_0x4cd3df(0x128)][_0x4cd3df(0x17f)](_0x4cd3df(0x147)+_0x345480[_0x4cd3df(0x15c)]);}}async function sendMorningBriefing(_0x340725){const _0x3765a0=a0_0x2e3818;if(!_0x340725[_0x3765a0(0x140)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x104845=_0x3765a0(0x190),_0x3e4a04=await _0x340725[_0x3765a0(0x140)]['generateContent'](_0x104845),_0x1ce7d4=_0x3e4a04[_0x3765a0(0x156)][_0x3765a0(0x18c)]();setup[_0x3765a0(0x15b)](_0x340725,_0x3765a0(0x13d)+_0x1ce7d4);}catch(_0x1b2022){_0x340725['log']['error']('Briefing\x20Error:\x20'+_0x1b2022['message']);}}module[a0_0x2e3818(0x184)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};