const a0_0x28b16b=a0_0x4cc2;(function(_0x373216,_0x16baf8){const _0x1273e4=a0_0x4cc2,_0x306814=_0x373216();while(!![]){try{const _0x3942d2=parseInt(_0x1273e4(0x9d))/0x1+parseInt(_0x1273e4(0xcf))/0x2*(parseInt(_0x1273e4(0xc7))/0x3)+-parseInt(_0x1273e4(0xaf))/0x4+-parseInt(_0x1273e4(0x104))/0x5+parseInt(_0x1273e4(0xb9))/0x6*(parseInt(_0x1273e4(0x115))/0x7)+parseInt(_0x1273e4(0xe6))/0x8+-parseInt(_0x1273e4(0xf3))/0x9*(-parseInt(_0x1273e4(0x110))/0xa);if(_0x3942d2===_0x16baf8)break;else _0x306814['push'](_0x306814['shift']());}catch(_0x3a9e91){_0x306814['push'](_0x306814['shift']());}}}(a0_0x21ff,0x9bfdb));const a0_0x2cd1fb=(function(){let _0x29115e=!![];return function(_0x1aa73d,_0x47d7f7){const _0x16bf6c=_0x29115e?function(){const _0xc5e3d3=a0_0x4cc2;if(_0x47d7f7){const _0xa2c9d7=_0x47d7f7[_0xc5e3d3(0xad)](_0x1aa73d,arguments);return _0x47d7f7=null,_0xa2c9d7;}}:function(){};return _0x29115e=![],_0x16bf6c;};}()),a0_0x38d411=a0_0x2cd1fb(this,function(){const _0xc35845=a0_0x4cc2;return a0_0x38d411[_0xc35845(0xe7)]()[_0xc35845(0xce)]('(((.+)+)+)+$')[_0xc35845(0xe7)]()[_0xc35845(0xfd)](a0_0x38d411)['search'](_0xc35845(0xd6));});a0_0x38d411();'use strict';const {GoogleGenerativeAI}=require(a0_0x28b16b(0xfe)),setup=require(a0_0x28b16b(0xa3)),GEMINI_MODEL=a0_0x28b16b(0x11e),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x28b16b(0x11a),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x28b16b(0xe3),'senior_aal':a0_0x28b16b(0xb1),'family':a0_0x28b16b(0x10c),'single_comfort':'Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','security':'Sicherheit\x20geht\x20vor.','energy_saver':'PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x5ef267=a0_0x28b16b,_0x29f405=Date[_0x5ef267(0xcc)]();return _0x29f405-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x56fdfb=a0_0x28b16b;lastGlobalApiCall=Date[_0x56fdfb(0xcc)]();}async function getWeatherContext(_0xe3d06e){const _0x474231=a0_0x28b16b;if(!_0xe3d06e['config'][_0x474231(0x11c)]||!_0xe3d06e['config']['weatherInstance'])return _0x474231(0xb4);try{const _0x2d3577=_0xe3d06e[_0x474231(0xc4)]['weatherInstance'];let _0x563470=await _0xe3d06e[_0x474231(0xed)](_0x2d3577+'.Current.Temperature');if(!_0x563470)_0x563470=await _0xe3d06e[_0x474231(0xed)](_0x2d3577+_0x474231(0xee));let _0x4c5d93=await _0xe3d06e[_0x474231(0xed)](_0x2d3577+_0x474231(0x9e));if(!_0x4c5d93)_0x4c5d93=await _0xe3d06e['getForeignStateAsync'](_0x2d3577+_0x474231(0x108));let _0x148a51=_0x474231(0x11f);const _0x3e36fa=await _0xe3d06e[_0x474231(0xed)](_0x2d3577+_0x474231(0x102));if(_0x3e36fa)_0x148a51=_0x3e36fa['val']?_0x474231(0x10a):_0x474231(0xef);if(_0x563470&&_0x4c5d93)return _0x563470[_0x474231(0xbf)]+_0x474231(0xa2)+_0x4c5d93[_0x474231(0xbf)]+_0x474231(0x111)+_0x148a51;}catch(_0x405692){}return _0x474231(0xf1);}function a0_0x4cc2(_0x2becb9,_0x18d778){const _0x2dcabe=a0_0x21ff();return a0_0x4cc2=function(_0x38d411,_0x2cd1fb){_0x38d411=_0x38d411-0x9b;let _0x21ff15=_0x2dcabe[_0x38d411];return _0x21ff15;},a0_0x4cc2(_0x2becb9,_0x18d778);}async function consultButler(_0x2c52f5,_0xa8ddbd,_0x3aecea,_0x49cdde){const _0xe118e8=a0_0x28b16b;if(!_0x2c52f5[_0xe118e8(0x11d)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x1fc7e3=Date['now']();if(decisionCache[_0xa8ddbd]&&_0x1fc7e3-decisionCache[_0xa8ddbd][_0xe118e8(0xd5)]<CACHE_TTL_MS){const _0x253c37=decisionCache[_0xa8ddbd]['decision'];return _0x2c52f5['log'][_0xe118e8(0xd0)](_0xe118e8(0xf4)+_0xa8ddbd+'\x20->\x20'+(_0x253c37[_0xe118e8(0x107)]?'OK':'NO')+'\x20('+_0x253c37[_0xe118e8(0xf0)]+')'),_0x253c37;}if(!canCallApi())return _0x2c52f5[_0xe118e8(0x11b)][_0xe118e8(0xd0)](_0xe118e8(0xe5)+_0xa8ddbd+_0xe118e8(0xc5)),{'approved':!![],'reason':_0xe118e8(0xde)};const _0x372069=new Date()[_0xe118e8(0xff)](),_0x461efb=await getWeatherContext(_0x2c52f5),_0x3e37c9=PERSONA_MAPPING[_0x2c52f5[_0xe118e8(0xc4)][_0xe118e8(0x103)]||_0xe118e8(0xeb)],_0x4f26e2='\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20'+_0x372069+',\x20Wetter:\x20'+_0x461efb+_0xe118e8(0xb0)+(_0x49cdde*0x64)[_0xe118e8(0xa1)](0x0)+_0xe118e8(0xbe)+_0xa8ddbd+_0xe118e8(0xd1)+_0x3aecea+_0xe118e8(0xba)+_0x3e37c9+_0xe118e8(0x122);try{updateApiTimestamp();const _0x3568d6=await _0x2c52f5[_0xe118e8(0x11d)][_0xe118e8(0xdc)](_0x4f26e2),_0x2624fb=_0x3568d6[_0xe118e8(0xc1)][_0xe118e8(0xca)]()[_0xe118e8(0xa0)](/```json|```/g,'')[_0xe118e8(0xa5)](),_0x57a2e3=JSON['parse'](_0x2624fb);return decisionCache[_0xa8ddbd]={'decision':_0x57a2e3,'timestamp':_0x1fc7e3},_0x57a2e3;}catch(_0xbcb1d2){return _0x2c52f5['log'][_0xe118e8(0x101)](_0xe118e8(0x121)+_0xbcb1d2[_0xe118e8(0xbb)]),decisionCache[_0xa8ddbd]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x1fc7e3-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0xe118e8(0xd7)};}}async function runGeminiAnalysis(_0x4b7721,_0x10a50d=''){const _0x7aa10b=a0_0x28b16b;if(!_0x4b7721[_0x7aa10b(0x11d)])return;if(!canCallApi()){_0x4b7721[_0x7aa10b(0x11b)]['debug'](_0x7aa10b(0x116));return;}if(_0x4b7721[_0x7aa10b(0xc2)]['length']===0x0)return;const _0x213037=_0x4b7721['eventHistory'][_0x7aa10b(0x9c)](0x0,0xf),_0xd462c3=_0x4b7721['currentSystemMode'],_0x4be15c=PERSONA_MAPPING[_0x4b7721['config'][_0x7aa10b(0x103)]||_0x7aa10b(0xeb)],_0x41baf5=_0x4b7721[_0x7aa10b(0xc4)][_0x7aa10b(0x10d)]||_0x7aa10b(0xf8);let _0x1eb61a=_0x7aa10b(0x11f);try{const _0x124780=await _0x4b7721[_0x7aa10b(0xa9)](_0x7aa10b(0x119));if(_0x124780&&_0x124780['val'])_0x1eb61a=_0x124780[_0x7aa10b(0xbf)];}catch(_0x265d88){}let _0x4bd3d5=![];try{const _0x576ef6=await _0x4b7721[_0x7aa10b(0xa9)]('analysis.automation.autoApply');if(_0x576ef6&&_0x576ef6[_0x7aa10b(0xbf)])_0x4bd3d5=!![];}catch(_0x3fffef){}const _0x5cb9ee=_0x7aa10b(0x105)+_0x4be15c+'.\x20KONTEXT:\x20'+_0x41baf5+_0x7aa10b(0x117)+_0xd462c3+'.\x20ANWESEND:\x20'+_0x1eb61a+_0x7aa10b(0xd4)+JSON[_0x7aa10b(0xb2)](_0x213037)+'.\x20EMERGENCY:\x20'+_0x10a50d+_0x7aa10b(0xab);try{updateApiTimestamp();const _0x59ce38=await _0x4b7721['geminiModel'][_0x7aa10b(0xdc)](_0x5cb9ee),_0x261436=JSON[_0x7aa10b(0x114)](_0x59ce38[_0x7aa10b(0xc1)][_0x7aa10b(0xca)]()[_0x7aa10b(0xa0)](/```json|```/g,'')[_0x7aa10b(0xa5)]());await _0x4b7721[_0x7aa10b(0xb6)]('analysis.lastResult',{'val':JSON['stringify'](_0x261436),'ack':!![]});if(_0x261436['summary'])await _0x4b7721[_0x7aa10b(0xb6)](_0x7aa10b(0xea),{'val':_0x261436[_0x7aa10b(0x112)],'ack':!![]});const _0xdb9c5c={'timestamp':Date[_0x7aa10b(0xcc)](),'id':Date['now']()[_0x7aa10b(0xe7)](),'analysis':{'activity':{'summary':_0x261436[_0x7aa10b(0x112)],'isAlert':_0x261436['isAlert'],'alertReason':_0x261436[_0x7aa10b(0xd9)]},'comfort':{'automationProposal':_0x261436[_0x7aa10b(0xd3)]}}};_0x4b7721[_0x7aa10b(0xf9)][_0x7aa10b(0xae)](_0xdb9c5c);if(_0x4b7721[_0x7aa10b(0xf9)]['length']>0x32)_0x4b7721['analysisHistory'][_0x7aa10b(0xcb)]();await _0x4b7721['setStateAsync']('analysis.analysisHistory',{'val':JSON[_0x7aa10b(0xb2)](_0x4b7721[_0x7aa10b(0xf9)]),'ack':!![]});const _0x54000f=_0x261436[_0x7aa10b(0x113)]||![];_0x54000f!==_0x4b7721[_0x7aa10b(0x120)]&&(await _0x4b7721[_0x7aa10b(0xb6)](_0x7aa10b(0x123),{'val':_0x54000f,'ack':!![]}),_0x4b7721[_0x7aa10b(0x120)]=_0x54000f,_0x54000f&&(await _0x4b7721['setStateAsync']('analysis.alertReason',{'val':_0x261436[_0x7aa10b(0xd9)],'ack':!![]}),setup['sendNotification'](_0x4b7721,_0x7aa10b(0xf5)+_0x261436['alertReason'],![],_0x261436[_0x7aa10b(0x9f)])));if(_0x261436[_0x7aa10b(0xd3)]&&_0x261436['automationProposal'][_0x7aa10b(0x106)]){await _0x4b7721[_0x7aa10b(0xb6)](_0x7aa10b(0xec),{'val':!![],'ack':!![]}),await _0x4b7721['setStateAsync'](_0x7aa10b(0xb7),{'val':_0x261436[_0x7aa10b(0xd3)][_0x7aa10b(0xbc)],'ack':!![]}),await _0x4b7721['setStateAsync'](_0x7aa10b(0x10f),{'val':_0x261436[_0x7aa10b(0xd3)]['targetId'],'ack':!![]}),await _0x4b7721['setStateAsync']('analysis.automation.targetValue',{'val':JSON[_0x7aa10b(0xb2)](_0x261436[_0x7aa10b(0xd3)][_0x7aa10b(0xfb)]),'ack':!![]});if(_0x4bd3d5)executeAutomationAction(_0x4b7721);}}catch(_0x5b9e18){_0x4b7721['log'][_0x7aa10b(0xa8)](_0x7aa10b(0xf2)+_0x5b9e18[_0x7aa10b(0xbb)]);}}async function createDailyDigest(_0x435b06,_0x5d2b4a){const _0x4d2f53=a0_0x28b16b;if(!_0x435b06[_0x4d2f53(0xd8)])return;if(!canCallApi()){await _0x435b06['setStateAsync'](LTM_DP_STATUS,{'val':_0x4d2f53(0xa6),'ack':!![]});return;}await _0x435b06[_0x4d2f53(0xb6)](LTM_DP_STATUS,{'val':_0x4d2f53(0xa4),'ack':!![]});if(!_0x435b06[_0x4d2f53(0x11d)]||_0x435b06[_0x4d2f53(0xac)][_0x4d2f53(0x118)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x435b06[_0x4d2f53(0xb6)](LTM_DP_STATUS,{'val':_0x4d2f53(0xb8),'ack':!![]});return;}const _0x514459=JSON[_0x4d2f53(0x114)](JSON[_0x4d2f53(0xb2)](_0x435b06[_0x4d2f53(0xac)])),_0x157906=_0x514459[_0x4d2f53(0x118)],_0x209c1a=_0x4d2f53(0xc0)+JSON[_0x4d2f53(0xb2)](_0x514459);try{updateApiTimestamp();const _0x279036=await _0x435b06[_0x4d2f53(0x11d)]['generateContent'](_0x209c1a),_0xccca06=JSON[_0x4d2f53(0x114)](_0x279036['response'][_0x4d2f53(0xca)]()['replace'](/```json|```/g,'')[_0x4d2f53(0xa5)]()),_0x5a8f11={'timestamp':new Date()[_0x4d2f53(0x10b)](),'eventCount':_0x157906,'summary':_0xccca06[_0x4d2f53(0x112)]||_0x4d2f53(0xdf),'activityLevel':_0xccca06[_0x4d2f53(0x109)]||'normal','systemMode':_0x435b06[_0x4d2f53(0xc8)]};_0x435b06['dailyDigests']['push'](_0x5a8f11);const _0x741d3c=_0x435b06[_0x4d2f53(0xc4)][_0x4d2f53(0xe2)]||0x3c;_0x435b06[_0x4d2f53(0xa7)]['length']>_0x741d3c&&_0x435b06[_0x4d2f53(0xa7)][_0x4d2f53(0xc3)](0x0,_0x435b06['dailyDigests'][_0x4d2f53(0x118)]-_0x741d3c);await _0x435b06[_0x4d2f53(0xb6)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4d2f53(0xb2)](_0x435b06[_0x4d2f53(0xa7)]),'ack':!![]}),_0x435b06[_0x4d2f53(0xac)]=[],await _0x435b06[_0x4d2f53(0xb6)](LTM_DP_RAW_LOG,{'val':JSON[_0x4d2f53(0xb2)](_0x435b06[_0x4d2f53(0xac)]),'ack':!![]}),await _0x435b06[_0x4d2f53(0xb6)](LTM_DP_STATUS,{'val':_0x4d2f53(0xe4),'ack':!![]});const _0x2b106a=_0x4d2f53(0xbd)+_0xccca06['summary']+_0x4d2f53(0xfc)+_0xccca06[_0x4d2f53(0x109)];setup['sendNotification'](_0x435b06,_0x2b106a,![],![]);if(_0x435b06['isProVersion']&&_0x5d2b4a)_0x5d2b4a[_0x4d2f53(0xf7)](_0x435b06,'ANALYZE_HEALTH',{'digest':_0x5a8f11});}catch(_0x42127c){_0x435b06['log']['error'](_0x42127c[_0x4d2f53(0xbb)]);}}async function runBaselineDriftAnalysis(_0x39c689){const _0x939ba4=a0_0x28b16b;if(!_0x39c689['isProVersion']||!_0x39c689[_0x939ba4(0x11d)])return;if(!canCallApi())return;const _0x54fb51=_0x39c689['config'][_0x939ba4(0xb3)]||0xe;if(_0x39c689['dailyDigests']['length']<_0x54fb51+0x7){await _0x39c689['setStateAsync']('LTM.driftAnalysis.baselineDrift',{'val':_0x939ba4(0x100),'ack':!![]});return;}const _0x2cae62=_0x39c689[_0x939ba4(0xa7)]['slice'](-_0x54fb51),_0x52ee17=_0x39c689[_0x939ba4(0xa7)][_0x939ba4(0x9c)](0x0,_0x39c689['dailyDigests'][_0x939ba4(0x118)]-_0x54fb51),_0x4146e2='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x939ba4(0xb2)](_0x52ee17)+_0x939ba4(0xdd)+JSON[_0x939ba4(0xb2)](_0x2cae62);try{updateApiTimestamp();const _0x49e702=await _0x39c689[_0x939ba4(0x11d)][_0x939ba4(0xdc)](_0x4146e2),_0x3b1942=JSON['parse'](_0x49e702[_0x939ba4(0xc1)][_0x939ba4(0xca)]()[_0x939ba4(0xa0)](/```json|```/g,'')[_0x939ba4(0xa5)]());_0x3b1942[_0x939ba4(0xe1)]&&(await _0x39c689[_0x939ba4(0xb6)](_0x939ba4(0xdb),{'val':_0x3b1942[_0x939ba4(0xe1)],'ack':!![]}),await _0x39c689[_0x939ba4(0xb6)](_0x939ba4(0xb5),{'val':_0x3b1942['driftDetails'],'ack':!![]}),await _0x39c689[_0x939ba4(0xb6)](_0x939ba4(0xcd),{'val':Date[_0x939ba4(0xcc)](),'ack':!![]}));}catch(_0x3bd723){}}async function executeAutomationAction(_0x268214){const _0x508f22=a0_0x28b16b;try{const _0x4b7545=await _0x268214['getStateAsync'](_0x508f22(0x10f)),_0x4e2a6a=await _0x268214['getStateAsync'](_0x508f22(0xfa));if(_0x4b7545&&_0x4b7545[_0x508f22(0xbf)]&&_0x4e2a6a){const _0x261eec=_0x4b7545[_0x508f22(0xbf)];let _0x2ad648=_0x4e2a6a[_0x508f22(0xbf)];try{_0x2ad648=JSON['parse'](_0x2ad648);}catch(_0x5d836f){}_0x268214[_0x508f22(0x11b)][_0x508f22(0x9b)](_0x508f22(0xda)+_0x261eec+_0x508f22(0xc6)+_0x2ad648),await _0x268214[_0x508f22(0xc9)](_0x261eec,_0x2ad648);}else _0x268214[_0x508f22(0x11b)][_0x508f22(0x101)](_0x508f22(0xe9));}catch(_0x5a3386){_0x268214[_0x508f22(0x11b)][_0x508f22(0xa8)](_0x508f22(0x10e)+_0x5a3386[_0x508f22(0xbb)]);}}async function sendMorningBriefing(_0x1eff12){const _0x68780f=a0_0x28b16b;if(!_0x1eff12[_0x68780f(0x11d)]){_0x1eff12[_0x68780f(0x11b)][_0x68780f(0x101)]('ü§ñ\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.');return;}_0x1eff12[_0x68780f(0x11b)][_0x68780f(0x9b)](_0x68780f(0xe8));try{updateApiTimestamp();const _0x162cf1=_0x68780f(0xe0),_0x3a8cb3=await _0x1eff12[_0x68780f(0x11d)][_0x68780f(0xdc)](_0x162cf1),_0x736118=_0x3a8cb3[_0x68780f(0xc1)]['text']();_0x1eff12['log']['info'](_0x68780f(0xaa)+_0x736118[_0x68780f(0x118)]+').\x20Sending\x20notification...'),setup[_0x68780f(0xf6)](_0x1eff12,_0x68780f(0xd2)+_0x736118);}catch(_0x2a779c){_0x1eff12['log'][_0x68780f(0xa8)]('Briefing\x20Error:\x20'+_0x2a779c[_0x68780f(0xbb)]);}}function a0_0x21ff(){const _0x29bbbd=['LTM.driftAnalysis.driftDetails','setStateAsync','analysis.automation.description','Skipped\x20(No\x20AI\x20or\x20Data)','366ORXiQL','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','message','description','üìÖ\x20Daily\x20Digest:\x0a','%)\x20nach\x20\x22','val','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','response','eventHistory','splice','config','\x20√ºbersprungen\x20(Auto-Approved).','\x20=\x20','1219683ggeaqX','currentSystemMode','setForeignStateAsync','text','pop','now','LTM.driftAnalysis.lastCheck','search','4fqQIur','debug','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','üåÖ\x20Morning\x20Briefing:\x0a','automationProposal','.\x20EVENTS:\x20','timestamp','(((.+)+)+)+$','KI-Fehler\x20(Fallback)','isProVersion','alertReason','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','LTM.driftAnalysis.baselineDrift','generateContent','\x0aSTB:\x20','Traffic-Schutz\x20(Auto-Approved)','Digest','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','baselineDrift','ltmLtbWindowDays','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','Success','ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20','6582672fjZJPZ','toString','üåÖ\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','analysis.activitySummary','generic','analysis.automation.patternDetected','getForeignStateAsync','.forecast.current.temperature','Tag','reason','Wetterdaten\x20nicht\x20abrufbar','Gemini\x20Error:\x20','63ldOLjT','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','‚ö†Ô∏è\x20ALARM:\x20','sendNotification','send','Keine\x20Details.','analysisHistory','analysis.automation.targetValue','targetValue','\x0aAktivit√§t:\x20','constructor','@google/generative-ai','toLocaleTimeString','N/A\x20(Learning)','warn','.Current.IsNight','aiPersona','5338140ThuFge','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','detected','approved','.forecast.current.state','activityLevel','Nacht','toISOString','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','livingContext','BUTLER\x20Execution\x20Error:\x20','analysis.automation.targetId','144790DECGbc',',\x20Lichtverh√§ltnisse:\x20','summary','isAlert','parse','78911jGoEEv','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','.\x20SYSTEM_MODE:\x20','length','system.presenceWho','LTM.processingStatus','log','useWeather','geminiModel','models/gemini-flash-latest','Unbekannt','lastAlertState','ü§ñ\x20Butler\x20Brain\x20Error:\x20','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','analysis.isAlert','info','slice','223587UjxHAn','.Current.WeatherText','isEmergency','replace','toFixed','¬∞C,\x20','./setup','Started...','trim','Skipped\x20(Traffic)','dailyDigests','error','getStateAsync','üåÖ\x20Briefing\x20generated\x20(Length:\x20','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','rawEventLog','apply','unshift','3767928fAUfWZ','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','stringify','ltmStbWindowDays','Unbekannt\x20(Kein\x20Sensor)'];a0_0x21ff=function(){return _0x29bbbd;};return a0_0x21ff();}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};