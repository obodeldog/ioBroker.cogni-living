const a0_0x37a3f9=a0_0x1665;(function(_0xf7b7cb,_0x408874){const _0x45a706=a0_0x1665,_0x3b70b4=_0xf7b7cb();while(!![]){try{const _0x254a68=-parseInt(_0x45a706(0x144))/0x1*(parseInt(_0x45a706(0xe2))/0x2)+parseInt(_0x45a706(0x123))/0x3*(parseInt(_0x45a706(0xde))/0x4)+parseInt(_0x45a706(0x130))/0x5*(parseInt(_0x45a706(0x103))/0x6)+parseInt(_0x45a706(0x14a))/0x7+-parseInt(_0x45a706(0xf2))/0x8*(-parseInt(_0x45a706(0x107))/0x9)+parseInt(_0x45a706(0xf5))/0xa*(parseInt(_0x45a706(0x115))/0xb)+-parseInt(_0x45a706(0x13a))/0xc;if(_0x254a68===_0x408874)break;else _0x3b70b4['push'](_0x3b70b4['shift']());}catch(_0x3e5988){_0x3b70b4['push'](_0x3b70b4['shift']());}}}(a0_0x3cfb,0x3e384));const a0_0x3776b6=(function(){let _0xa2f7b8=!![];return function(_0x5441a4,_0x29bda2){const _0xd64194=_0xa2f7b8?function(){const _0x59197f=a0_0x1665;if(_0x29bda2){const _0x349857=_0x29bda2[_0x59197f(0x131)](_0x5441a4,arguments);return _0x29bda2=null,_0x349857;}}:function(){};return _0xa2f7b8=![],_0xd64194;};}()),a0_0x45ccc4=a0_0x3776b6(this,function(){const _0x3d323a=a0_0x1665;return a0_0x45ccc4[_0x3d323a(0x11d)]()[_0x3d323a(0x108)]('(((.+)+)+)+$')[_0x3d323a(0x11d)]()[_0x3d323a(0x13d)](a0_0x45ccc4)[_0x3d323a(0x108)]('(((.+)+)+)+$');});a0_0x45ccc4();'use strict';function a0_0x1665(_0x391cda,_0xe4f1bb){const _0x388aab=a0_0x3cfb();return a0_0x1665=function(_0x45ccc4,_0x3776b6){_0x45ccc4=_0x45ccc4-0xd9;let _0x3cfbc1=_0x388aab[_0x45ccc4];return _0x3cfbc1;},a0_0x1665(_0x391cda,_0xe4f1bb);}const {GoogleGenerativeAI}=require('@google/generative-ai'),setup=require(a0_0x37a3f9(0x12d)),GEMINI_MODEL=a0_0x37a3f9(0xe6),LTM_DP_DAILY_DIGESTS=a0_0x37a3f9(0x136),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x37a3f9(0x114),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;function a0_0x3cfb(){const _0x47bb13=['pop','LTM.driftAnalysis.lastCheck','.forecast.current.state','496eVEnQs','dailyDigests','sendNotification','getStateAsync','2602Dtprqp','.Current.IsNight','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','models/gemini-flash-latest','\x20->\x20','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','KI\x20offline\x20(Fallback)','send','.forecast.current.temperature','LTM.driftAnalysis.driftDetails','analysis.automation.autoApply','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','lastAlertState','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','Skipped\x20(Traffic)','8UdsRqG','\x20Ã¼bersprungen\x20(Auto-Approved).','isProVersion','2532940YurSud','isAlert','info','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','generateContent','Tag','setStateAsync','Digest','getForeignStateAsync','system.presenceWho','.Current.WeatherText','Nacht','analysisHistory','debug','30LvQMdM','text','toFixed','targetId','4046157eMjJpp','search','config','warn','%)\x20nach\x20\x22','geminiModel','Started...','error','slice','analysis.automation.targetValue','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','stringify','activityLevel','LTM.rawEventLog','11gJpgxB','N/A\x20(Learning)','Keine\x20Details.','now','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','reason','rawEventLog','analysis.alertReason','toString','toLocaleTimeString','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','analysis.automation.targetId','automationProposal','Unbekannt','7749WMNEgb','.Current.Temperature','description',',\x20Wetter:\x20','Briefing\x20Error:\x20','LTM.driftAnalysis.baselineDrift','summary','\x20=\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','parse','./setup','Success','Â°C,\x20','89290FdyJnk','apply','baselineDrift','analysis.automation.description','log','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','LTM.dailyDigests','length','Skipped\x20(No\x20AI\x20or\x20Data)','ltmStbWindowDays','8391384NEKgiR','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','driftDetails','constructor','setForeignStateAsync','generic','livingContext','detected','response','âš ï¸\x20ALARM:\x20','183rrrnCY','analysis.automation.patternDetected','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','.\x20KONTEXT:\x20','weatherInstance','558376JbveTp',',\x20LichtverhÃ¤ltnisse:\x20','replace','eventHistory','val','alertReason','message','timestamp','trim','toISOString','decision','analysis.analysisHistory'];a0_0x3cfb=function(){return _0x47bb13;};return a0_0x3cfb();}let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x37a3f9(0xf8),'senior_aal':'PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','family':a0_0x37a3f9(0x147),'single_comfort':a0_0x37a3f9(0x135),'security':'Sicherheit\x20geht\x20vor.','energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x3547df=Date['now']();return _0x3547df-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}async function getWeatherContext(_0x4a6995){const _0x36936c=a0_0x37a3f9;if(!_0x4a6995[_0x36936c(0x109)]['useWeather']||!_0x4a6995[_0x36936c(0x109)]['weatherInstance'])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0xbca938=_0x4a6995['config'][_0x36936c(0x149)];let _0x27a6eb=await _0x4a6995[_0x36936c(0xfd)](_0xbca938+_0x36936c(0x124));if(!_0x27a6eb)_0x27a6eb=await _0x4a6995['getForeignStateAsync'](_0xbca938+_0x36936c(0xeb));let _0x29cda5=await _0x4a6995[_0x36936c(0xfd)](_0xbca938+_0x36936c(0xff));if(!_0x29cda5)_0x29cda5=await _0x4a6995[_0x36936c(0xfd)](_0xbca938+_0x36936c(0xdd));let _0xe45ff0='Unbekannt';const _0x7b6694=await _0x4a6995['getForeignStateAsync'](_0xbca938+_0x36936c(0xe3));if(_0x7b6694)_0xe45ff0=_0x7b6694[_0x36936c(0x14e)]?_0x36936c(0x100):_0x36936c(0xfa);if(_0x27a6eb&&_0x29cda5)return _0x27a6eb[_0x36936c(0x14e)]+_0x36936c(0x12f)+_0x29cda5[_0x36936c(0x14e)]+_0x36936c(0x14b)+_0xe45ff0;}catch(_0x388f52){}return'Wetterdaten\x20nicht\x20abrufbar';}async function consultButler(_0x31180f,_0x54d320,_0x1659fb,_0x368a28){const _0x50bc5f=a0_0x37a3f9;if(!_0x31180f[_0x50bc5f(0x10c)])return{'approved':!![],'reason':_0x50bc5f(0xe9)};const _0x1d1dda=Date[_0x50bc5f(0x118)]();if(decisionCache[_0x54d320]&&_0x1d1dda-decisionCache[_0x54d320][_0x50bc5f(0x151)]<CACHE_TTL_MS){const _0x4f0c99=decisionCache[_0x54d320][_0x50bc5f(0xd9)];return _0x31180f[_0x50bc5f(0x134)][_0x50bc5f(0x102)](_0x50bc5f(0x11f)+_0x54d320+_0x50bc5f(0xe7)+(_0x4f0c99['approved']?'OK':'NO')+'\x20('+_0x4f0c99[_0x50bc5f(0x11a)]+')'),_0x4f0c99;}if(!canCallApi())return _0x31180f[_0x50bc5f(0x134)][_0x50bc5f(0x102)](_0x50bc5f(0x111)+_0x54d320+_0x50bc5f(0xf3)),{'approved':!![],'reason':'Traffic-Schutz\x20(Auto-Approved)'};const _0x237e87=new Date()[_0x50bc5f(0x11e)](),_0x3517cc=await getWeatherContext(_0x31180f),_0xf30335=PERSONA_MAPPING[_0x31180f[_0x50bc5f(0x109)]['aiPersona']||_0x50bc5f(0x13f)],_0x921e03=_0x50bc5f(0xe4)+_0x237e87+_0x50bc5f(0x126)+_0x3517cc+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x368a28*0x64)[_0x50bc5f(0x105)](0x0)+_0x50bc5f(0x10b)+_0x54d320+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x1659fb+_0x50bc5f(0xe8)+_0xf30335+_0x50bc5f(0xe5);try{updateApiTimestamp();const _0x14b47f=await _0x31180f[_0x50bc5f(0x10c)][_0x50bc5f(0xf9)](_0x921e03),_0x395e9d=_0x14b47f['response'][_0x50bc5f(0x104)]()['replace'](/```json|```/g,'')[_0x50bc5f(0x152)](),_0x685f45=JSON[_0x50bc5f(0x12c)](_0x395e9d);return decisionCache[_0x54d320]={'decision':_0x685f45,'timestamp':_0x1d1dda},_0x685f45;}catch(_0x59d6fa){return _0x31180f[_0x50bc5f(0x134)][_0x50bc5f(0x10a)](_0x50bc5f(0x13b)+_0x59d6fa[_0x50bc5f(0x150)]),decisionCache[_0x54d320]={'decision':{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'},'timestamp':_0x1d1dda-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}async function runGeminiAnalysis(_0x5a918c,_0x43d7a9=''){const _0x519ae5=a0_0x37a3f9;if(!_0x5a918c[_0x519ae5(0x10c)])return;if(!canCallApi()){_0x5a918c[_0x519ae5(0x134)][_0x519ae5(0x102)](_0x519ae5(0x146));return;}if(_0x5a918c[_0x519ae5(0x14d)][_0x519ae5(0x137)]===0x0)return;const _0x16826f=_0x5a918c[_0x519ae5(0x14d)][_0x519ae5(0x10f)](0x0,0xf),_0xb203f3=_0x5a918c['currentSystemMode'],_0x1de420=PERSONA_MAPPING[_0x5a918c['config']['aiPersona']||_0x519ae5(0x13f)],_0x3184f4=_0x5a918c['config'][_0x519ae5(0x140)]||_0x519ae5(0x117);let _0x349709=_0x519ae5(0x122);try{const _0x4529f8=await _0x5a918c[_0x519ae5(0xe1)](_0x519ae5(0xfe));if(_0x4529f8&&_0x4529f8[_0x519ae5(0x14e)])_0x349709=_0x4529f8[_0x519ae5(0x14e)];}catch(_0x1e3ec9){}let _0x2268c0=![];try{const _0x189bf6=await _0x5a918c[_0x519ae5(0xe1)](_0x519ae5(0xed));if(_0x189bf6&&_0x189bf6['val'])_0x2268c0=!![];}catch(_0x2dfe76){}const _0x49235d='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x1de420+_0x519ae5(0x148)+_0x3184f4+'.\x20SYSTEM_MODE:\x20'+_0xb203f3+'.\x20ANWESEND:\x20'+_0x349709+'.\x20EVENTS:\x20'+JSON[_0x519ae5(0x112)](_0x16826f)+'.\x20EMERGENCY:\x20'+_0x43d7a9+_0x519ae5(0xf0);try{updateApiTimestamp();const _0x20af15=await _0x5a918c[_0x519ae5(0x10c)]['generateContent'](_0x49235d),_0x46309f=JSON[_0x519ae5(0x12c)](_0x20af15[_0x519ae5(0x142)][_0x519ae5(0x104)]()[_0x519ae5(0x14c)](/```json|```/g,'')[_0x519ae5(0x152)]());await _0x5a918c[_0x519ae5(0xfb)]('analysis.lastResult',{'val':JSON[_0x519ae5(0x112)](_0x46309f),'ack':!![]});if(_0x46309f[_0x519ae5(0x129)])await _0x5a918c[_0x519ae5(0xfb)]('analysis.activitySummary',{'val':_0x46309f['summary'],'ack':!![]});const _0x53720e={'timestamp':Date[_0x519ae5(0x118)](),'id':Date[_0x519ae5(0x118)]()[_0x519ae5(0x11d)](),'analysis':{'activity':{'summary':_0x46309f[_0x519ae5(0x129)],'isAlert':_0x46309f[_0x519ae5(0xf6)],'alertReason':_0x46309f[_0x519ae5(0x14f)]},'comfort':{'automationProposal':_0x46309f[_0x519ae5(0x121)]}}};_0x5a918c[_0x519ae5(0x101)]['unshift'](_0x53720e);if(_0x5a918c[_0x519ae5(0x101)]['length']>0x32)_0x5a918c[_0x519ae5(0x101)][_0x519ae5(0xdb)]();await _0x5a918c[_0x519ae5(0xfb)](_0x519ae5(0xda),{'val':JSON['stringify'](_0x5a918c[_0x519ae5(0x101)]),'ack':!![]});const _0x4691ea=_0x46309f['isAlert']||![];_0x4691ea!==_0x5a918c[_0x519ae5(0xef)]&&(await _0x5a918c[_0x519ae5(0xfb)]('analysis.isAlert',{'val':_0x4691ea,'ack':!![]}),_0x5a918c[_0x519ae5(0xef)]=_0x4691ea,_0x4691ea&&(await _0x5a918c['setStateAsync'](_0x519ae5(0x11c),{'val':_0x46309f[_0x519ae5(0x14f)],'ack':!![]}),setup[_0x519ae5(0xe0)](_0x5a918c,_0x519ae5(0x143)+_0x46309f[_0x519ae5(0x14f)],![],_0x46309f['isEmergency'])));if(_0x46309f[_0x519ae5(0x121)]&&_0x46309f[_0x519ae5(0x121)][_0x519ae5(0x141)]){await _0x5a918c[_0x519ae5(0xfb)](_0x519ae5(0x145),{'val':!![],'ack':!![]}),await _0x5a918c[_0x519ae5(0xfb)](_0x519ae5(0x133),{'val':_0x46309f['automationProposal'][_0x519ae5(0x125)],'ack':!![]}),await _0x5a918c['setStateAsync'](_0x519ae5(0x120),{'val':_0x46309f[_0x519ae5(0x121)][_0x519ae5(0x106)],'ack':!![]}),await _0x5a918c[_0x519ae5(0xfb)](_0x519ae5(0x110),{'val':JSON[_0x519ae5(0x112)](_0x46309f['automationProposal']['targetValue']),'ack':!![]});if(_0x2268c0)executeAutomationAction(_0x5a918c);}}catch(_0x868cac){_0x5a918c[_0x519ae5(0x134)][_0x519ae5(0x10e)]('Gemini\x20Error:\x20'+_0x868cac[_0x519ae5(0x150)]);}}async function createDailyDigest(_0x5471ea,_0x47f22b){const _0x5f000b=a0_0x37a3f9;if(!_0x5471ea['isProVersion'])return;if(!canCallApi()){await _0x5471ea['setStateAsync'](LTM_DP_STATUS,{'val':_0x5f000b(0xf1),'ack':!![]});return;}await _0x5471ea[_0x5f000b(0xfb)](LTM_DP_STATUS,{'val':_0x5f000b(0x10d),'ack':!![]});if(!_0x5471ea[_0x5f000b(0x10c)]||_0x5471ea[_0x5f000b(0x11b)][_0x5f000b(0x137)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x5471ea[_0x5f000b(0xfb)](LTM_DP_STATUS,{'val':_0x5f000b(0x138),'ack':!![]});return;}const _0x14e58e=JSON[_0x5f000b(0x12c)](JSON['stringify'](_0x5471ea[_0x5f000b(0x11b)])),_0x88470c=_0x14e58e['length'],_0x1eacbe='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON['stringify'](_0x14e58e);try{updateApiTimestamp();const _0x1c95bf=await _0x5471ea[_0x5f000b(0x10c)][_0x5f000b(0xf9)](_0x1eacbe),_0x5f08b1=JSON[_0x5f000b(0x12c)](_0x1c95bf[_0x5f000b(0x142)][_0x5f000b(0x104)]()[_0x5f000b(0x14c)](/```json|```/g,'')['trim']()),_0x4b14b3={'timestamp':new Date()[_0x5f000b(0x153)](),'eventCount':_0x88470c,'summary':_0x5f08b1[_0x5f000b(0x129)]||_0x5f000b(0xfc),'activityLevel':_0x5f08b1[_0x5f000b(0x113)]||'normal','systemMode':_0x5471ea['currentSystemMode']};_0x5471ea[_0x5f000b(0xdf)]['push'](_0x4b14b3);const _0xf423f2=_0x5471ea[_0x5f000b(0x109)]['ltmLtbWindowDays']||0x3c;_0x5471ea['dailyDigests'][_0x5f000b(0x137)]>_0xf423f2&&_0x5471ea['dailyDigests']['splice'](0x0,_0x5471ea[_0x5f000b(0xdf)][_0x5f000b(0x137)]-_0xf423f2);await _0x5471ea['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x5f000b(0x112)](_0x5471ea[_0x5f000b(0xdf)]),'ack':!![]}),_0x5471ea[_0x5f000b(0x11b)]=[],await _0x5471ea['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x5f000b(0x112)](_0x5471ea[_0x5f000b(0x11b)]),'ack':!![]}),await _0x5471ea[_0x5f000b(0xfb)](LTM_DP_STATUS,{'val':_0x5f000b(0x12e),'ack':!![]});if(_0x5471ea[_0x5f000b(0xf4)]&&_0x47f22b)_0x47f22b[_0x5f000b(0xea)](_0x5471ea,'ANALYZE_HEALTH',{'digest':_0x4b14b3});}catch(_0x5a5216){_0x5471ea[_0x5f000b(0x134)][_0x5f000b(0x10e)](_0x5a5216['message']);}}async function runBaselineDriftAnalysis(_0x204d99){const _0x1a77a1=a0_0x37a3f9;if(!_0x204d99[_0x1a77a1(0xf4)]||!_0x204d99[_0x1a77a1(0x10c)])return;if(!canCallApi())return;const _0x5c754e=_0x204d99['config'][_0x1a77a1(0x139)]||0xe;if(_0x204d99['dailyDigests'][_0x1a77a1(0x137)]<_0x5c754e+0x7){await _0x204d99[_0x1a77a1(0xfb)](_0x1a77a1(0x128),{'val':_0x1a77a1(0x116),'ack':!![]});return;}const _0x27fe7a=_0x204d99[_0x1a77a1(0xdf)][_0x1a77a1(0x10f)](-_0x5c754e),_0x4379b6=_0x204d99['dailyDigests'][_0x1a77a1(0x10f)](0x0,_0x204d99[_0x1a77a1(0xdf)][_0x1a77a1(0x137)]-_0x5c754e),_0x36714e=_0x1a77a1(0x12b)+JSON['stringify'](_0x4379b6)+'\x0aSTB:\x20'+JSON['stringify'](_0x27fe7a);try{updateApiTimestamp();const _0x391a6f=await _0x204d99[_0x1a77a1(0x10c)][_0x1a77a1(0xf9)](_0x36714e),_0x173bfd=JSON[_0x1a77a1(0x12c)](_0x391a6f['response']['text']()[_0x1a77a1(0x14c)](/```json|```/g,'')[_0x1a77a1(0x152)]());_0x173bfd[_0x1a77a1(0x132)]&&(await _0x204d99[_0x1a77a1(0xfb)](_0x1a77a1(0x128),{'val':_0x173bfd[_0x1a77a1(0x132)],'ack':!![]}),await _0x204d99[_0x1a77a1(0xfb)](_0x1a77a1(0xec),{'val':_0x173bfd[_0x1a77a1(0x13c)],'ack':!![]}),await _0x204d99[_0x1a77a1(0xfb)](_0x1a77a1(0xdc),{'val':Date[_0x1a77a1(0x118)](),'ack':!![]}));}catch(_0x4246e6){}}async function executeAutomationAction(_0x2f9733){const _0x58cde1=a0_0x37a3f9;try{const _0x2fd0a3=await _0x2f9733[_0x58cde1(0xe1)](_0x58cde1(0x120)),_0x3a26ea=await _0x2f9733[_0x58cde1(0xe1)](_0x58cde1(0x110));if(_0x2fd0a3&&_0x2fd0a3[_0x58cde1(0x14e)]&&_0x3a26ea){const _0x5b7343=_0x2fd0a3[_0x58cde1(0x14e)];let _0x4e38ab=_0x3a26ea['val'];try{_0x4e38ab=JSON[_0x58cde1(0x12c)](_0x4e38ab);}catch(_0x2947e6){}_0x2f9733['log'][_0x58cde1(0xf7)](_0x58cde1(0xee)+_0x5b7343+_0x58cde1(0x12a)+_0x4e38ab),await _0x2f9733[_0x58cde1(0x13e)](_0x5b7343,_0x4e38ab);}else _0x2f9733[_0x58cde1(0x134)][_0x58cde1(0x10a)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x331588){_0x2f9733[_0x58cde1(0x134)][_0x58cde1(0x10e)]('BUTLER\x20Execution\x20Error:\x20'+_0x331588[_0x58cde1(0x150)]);}}async function sendMorningBriefing(_0x132196){const _0x2bc6d1=a0_0x37a3f9;if(!_0x132196[_0x2bc6d1(0x10c)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x34b407=_0x2bc6d1(0x119),_0x5a7a00=await _0x132196['geminiModel']['generateContent'](_0x34b407),_0x44a88a=_0x5a7a00[_0x2bc6d1(0x142)]['text']();setup['sendNotification'](_0x132196,'ðŸŒ…\x20Morning\x20Briefing:\x0a'+_0x44a88a);}catch(_0xe8cb2e){_0x132196[_0x2bc6d1(0x134)][_0x2bc6d1(0x10e)](_0x2bc6d1(0x127)+_0xe8cb2e[_0x2bc6d1(0x150)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};