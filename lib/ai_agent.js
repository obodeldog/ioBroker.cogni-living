const a0_0x40367f=a0_0x4fca;(function(_0x340175,_0x16dc23){const _0x2a7f85=a0_0x4fca,_0x41016f=_0x340175();while(!![]){try{const _0x3e5008=-parseInt(_0x2a7f85(0x177))/0x1*(-parseInt(_0x2a7f85(0x11e))/0x2)+-parseInt(_0x2a7f85(0x13d))/0x3+-parseInt(_0x2a7f85(0x187))/0x4+parseInt(_0x2a7f85(0x144))/0x5+parseInt(_0x2a7f85(0x198))/0x6+parseInt(_0x2a7f85(0x11c))/0x7+parseInt(_0x2a7f85(0x12b))/0x8;if(_0x3e5008===_0x16dc23)break;else _0x41016f['push'](_0x41016f['shift']());}catch(_0x5af73e){_0x41016f['push'](_0x41016f['shift']());}}}(a0_0x2857,0x8c214));const a0_0x404f8f=(function(){let _0xac778a=!![];return function(_0x1fca7a,_0x2b18f0){const _0x22b6c3=_0xac778a?function(){const _0xf15ca5=a0_0x4fca;if(_0x2b18f0){const _0x36a014=_0x2b18f0[_0xf15ca5(0x174)](_0x1fca7a,arguments);return _0x2b18f0=null,_0x36a014;}}:function(){};return _0xac778a=![],_0x22b6c3;};}()),a0_0x212dbe=a0_0x404f8f(this,function(){const _0x59c9b1=a0_0x4fca;return a0_0x212dbe[_0x59c9b1(0x13e)]()['search'](_0x59c9b1(0x189))[_0x59c9b1(0x13e)]()[_0x59c9b1(0x199)](a0_0x212dbe)['search'](_0x59c9b1(0x189));});a0_0x212dbe();'use strict';const {GoogleGenerativeAI}=require(a0_0x40367f(0x154)),setup=require(a0_0x40367f(0x184)),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x40367f(0x123),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_RAW_LOG=a0_0x40367f(0x16c),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x40367f(0x16a),'senior_aal':'PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','family':'Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','single_comfort':a0_0x40367f(0x171),'security':a0_0x40367f(0x124),'energy_saver':a0_0x40367f(0x125)};function canCallApi(){const _0x504f6d=a0_0x40367f,_0x1645e4=Date[_0x504f6d(0x15b)]();return _0x1645e4-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x12dabc=a0_0x40367f;lastGlobalApiCall=Date[_0x12dabc(0x15b)]();}async function getWeatherContext(_0x582b02){const _0x541d14=a0_0x40367f;if(!_0x582b02[_0x541d14(0x17a)][_0x541d14(0x129)]||!_0x582b02[_0x541d14(0x17a)][_0x541d14(0x169)])return _0x541d14(0x140);try{const _0x1c345f=_0x582b02[_0x541d14(0x17a)]['weatherInstance'];let _0x116c83=await _0x582b02[_0x541d14(0x133)](_0x1c345f+_0x541d14(0x14e));if(!_0x116c83)_0x116c83=await _0x582b02[_0x541d14(0x133)](_0x1c345f+'.forecast.current.temperature');let _0x355ae5=await _0x582b02[_0x541d14(0x133)](_0x1c345f+_0x541d14(0x148));if(!_0x355ae5)_0x355ae5=await _0x582b02['getForeignStateAsync'](_0x1c345f+_0x541d14(0x17b));let _0x2ecd33=_0x541d14(0x19a);const _0x368575=await _0x582b02['getForeignStateAsync'](_0x1c345f+_0x541d14(0x168));if(_0x368575)_0x2ecd33=_0x368575[_0x541d14(0x153)]?'Nacht':'Tag';if(_0x116c83&&_0x355ae5)return _0x116c83['val']+_0x541d14(0x13a)+_0x355ae5[_0x541d14(0x153)]+',\x20LichtverhÃ¤ltnisse:\x20'+_0x2ecd33;}catch(_0x2ed183){}return _0x541d14(0x192);}async function consultButler(_0x51d93e,_0xe66276,_0xaff211,_0x1a3cf2){const _0xa1a26d=a0_0x40367f;if(!_0x51d93e[_0xa1a26d(0x13c)])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x268b9c=Date[_0xa1a26d(0x15b)]();if(decisionCache[_0xe66276]&&_0x268b9c-decisionCache[_0xe66276][_0xa1a26d(0x18e)]<CACHE_TTL_MS){const _0x34357c=decisionCache[_0xe66276][_0xa1a26d(0x197)];return _0x51d93e[_0xa1a26d(0x161)]['debug'](_0xa1a26d(0x11b)+_0xe66276+'\x20->\x20'+(_0x34357c[_0xa1a26d(0x150)]?'OK':'NO')+'\x20('+_0x34357c['reason']+')'),_0x34357c;}if(!canCallApi())return _0x51d93e[_0xa1a26d(0x161)][_0xa1a26d(0x17d)](_0xa1a26d(0x164)+_0xe66276+'\x20Ã¼bersprungen\x20(Auto-Approved).'),{'approved':!![],'reason':_0xa1a26d(0x14c)};const _0x1ab024=new Date()[_0xa1a26d(0x155)](),_0x15cbe2=await getWeatherContext(_0x51d93e),_0x11f4d1=PERSONA_MAPPING[_0x51d93e[_0xa1a26d(0x17a)]['aiPersona']||'generic'],_0x16eb58=_0xa1a26d(0x182)+_0x1ab024+_0xa1a26d(0x126)+_0x15cbe2+_0xa1a26d(0x12f)+(_0x1a3cf2*0x64)[_0xa1a26d(0x141)](0x0)+_0xa1a26d(0x166)+_0xe66276+_0xa1a26d(0x176)+_0xaff211+_0xa1a26d(0x16b)+_0x11f4d1+_0xa1a26d(0x185);try{updateApiTimestamp();const _0xf6d173=await _0x51d93e[_0xa1a26d(0x13c)][_0xa1a26d(0x157)](_0x16eb58),_0x31a6e2=_0xf6d173[_0xa1a26d(0x11f)][_0xa1a26d(0x17f)]()[_0xa1a26d(0x121)](/```json|```/g,'')[_0xa1a26d(0x139)](),_0x1ad7bf=JSON[_0xa1a26d(0x137)](_0x31a6e2);return decisionCache[_0xe66276]={'decision':_0x1ad7bf,'timestamp':_0x268b9c},_0x1ad7bf;}catch(_0x3ae42a){return _0x51d93e[_0xa1a26d(0x161)]['warn']('ðŸ¤–\x20Butler\x20Brain\x20Error:\x20'+_0x3ae42a['message']),decisionCache[_0xe66276]={'decision':{'approved':!![],'reason':_0xa1a26d(0x15d)},'timestamp':_0x268b9c-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0xa1a26d(0x15d)};}}async function runGeminiAnalysis(_0x188cb3,_0x45e0a8=''){const _0x4ec569=a0_0x40367f;if(!_0x188cb3['geminiModel'])return;if(!canCallApi()){_0x188cb3['log'][_0x4ec569(0x17d)](_0x4ec569(0x190));return;}if(_0x188cb3[_0x4ec569(0x178)][_0x4ec569(0x15e)]===0x0)return;const _0x49aa1a=_0x188cb3['eventHistory'][_0x4ec569(0x16d)](0x0,0xf),_0x562bd7=_0x188cb3[_0x4ec569(0x14b)],_0x39e080=PERSONA_MAPPING[_0x188cb3[_0x4ec569(0x17a)][_0x4ec569(0x186)]||'generic'],_0x3ad86f=_0x188cb3['config']['livingContext']||'Keine\x20Details.';let _0x5161fa=_0x4ec569(0x19a);try{const _0x6d786e=await _0x188cb3[_0x4ec569(0x196)](_0x4ec569(0x11a));if(_0x6d786e&&_0x6d786e[_0x4ec569(0x153)])_0x5161fa=_0x6d786e[_0x4ec569(0x153)];}catch(_0x565638){}let _0x1b065d=![];try{const _0x2b61c2=await _0x188cb3[_0x4ec569(0x196)](_0x4ec569(0x18f));if(_0x2b61c2&&_0x2b61c2[_0x4ec569(0x153)])_0x1b065d=!![];}catch(_0x26d322){}const _0xf7cb1='ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20'+_0x39e080+'.\x20KONTEXT:\x20'+_0x3ad86f+'.\x20SYSTEM_MODE:\x20'+_0x562bd7+_0x4ec569(0x134)+_0x5161fa+_0x4ec569(0x179)+JSON[_0x4ec569(0x147)](_0x49aa1a)+_0x4ec569(0x12a)+_0x45e0a8+_0x4ec569(0x16f);try{updateApiTimestamp();const _0x87966b=await _0x188cb3[_0x4ec569(0x13c)]['generateContent'](_0xf7cb1),_0x52e982=JSON[_0x4ec569(0x137)](_0x87966b['response'][_0x4ec569(0x17f)]()[_0x4ec569(0x121)](/```json|```/g,'')[_0x4ec569(0x139)]());await _0x188cb3['setStateAsync'](_0x4ec569(0x183),{'val':JSON[_0x4ec569(0x147)](_0x52e982),'ack':!![]});if(_0x52e982['summary'])await _0x188cb3[_0x4ec569(0x18b)](_0x4ec569(0x158),{'val':_0x52e982['summary'],'ack':!![]});const _0x5468df={'timestamp':Date[_0x4ec569(0x15b)](),'id':Date[_0x4ec569(0x15b)]()[_0x4ec569(0x13e)](),'analysis':{'activity':{'summary':_0x52e982[_0x4ec569(0x12e)],'isAlert':_0x52e982[_0x4ec569(0x180)],'alertReason':_0x52e982['alertReason']},'comfort':{'automationProposal':_0x52e982[_0x4ec569(0x15a)]}}};_0x188cb3[_0x4ec569(0x156)]['unshift'](_0x5468df);if(_0x188cb3[_0x4ec569(0x156)][_0x4ec569(0x15e)]>0x32)_0x188cb3['analysisHistory'][_0x4ec569(0x142)]();await _0x188cb3[_0x4ec569(0x18b)](_0x4ec569(0x165),{'val':JSON[_0x4ec569(0x147)](_0x188cb3[_0x4ec569(0x156)]),'ack':!![]});const _0x39be0e=_0x52e982[_0x4ec569(0x180)]||![];_0x39be0e!==_0x188cb3[_0x4ec569(0x127)]&&(await _0x188cb3[_0x4ec569(0x18b)](_0x4ec569(0x152),{'val':_0x39be0e,'ack':!![]}),_0x188cb3[_0x4ec569(0x127)]=_0x39be0e,_0x39be0e&&(await _0x188cb3[_0x4ec569(0x18b)](_0x4ec569(0x136),{'val':_0x52e982[_0x4ec569(0x194)],'ack':!![]}),setup[_0x4ec569(0x14d)](_0x188cb3,_0x4ec569(0x120)+_0x52e982[_0x4ec569(0x194)],![],_0x52e982[_0x4ec569(0x11d)])));if(_0x52e982[_0x4ec569(0x15a)]&&_0x52e982[_0x4ec569(0x15a)][_0x4ec569(0x13b)]){await _0x188cb3['setStateAsync'](_0x4ec569(0x12c),{'val':!![],'ack':!![]}),await _0x188cb3[_0x4ec569(0x18b)](_0x4ec569(0x170),{'val':_0x52e982['automationProposal'][_0x4ec569(0x15c)],'ack':!![]}),await _0x188cb3[_0x4ec569(0x18b)](_0x4ec569(0x12d),{'val':_0x52e982[_0x4ec569(0x15a)]['targetId'],'ack':!![]}),await _0x188cb3[_0x4ec569(0x18b)](_0x4ec569(0x151),{'val':JSON['stringify'](_0x52e982[_0x4ec569(0x15a)][_0x4ec569(0x17e)]),'ack':!![]});if(_0x1b065d)executeAutomationAction(_0x188cb3);}}catch(_0x52aeb8){_0x188cb3[_0x4ec569(0x161)]['error']('Gemini\x20Error:\x20'+_0x52aeb8['message']);}}async function createDailyDigest(_0x323391,_0x493a13){const _0x6c913a=a0_0x40367f;if(!_0x323391[_0x6c913a(0x17c)])return;if(!canCallApi()){await _0x323391[_0x6c913a(0x18b)](LTM_DP_STATUS,{'val':_0x6c913a(0x15f),'ack':!![]});return;}await _0x323391[_0x6c913a(0x18b)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x323391[_0x6c913a(0x13c)]||_0x323391[_0x6c913a(0x188)][_0x6c913a(0x15e)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x323391[_0x6c913a(0x18b)](LTM_DP_STATUS,{'val':_0x6c913a(0x14a),'ack':!![]});return;}const _0x16496f=JSON[_0x6c913a(0x137)](JSON['stringify'](_0x323391[_0x6c913a(0x188)])),_0x194915=_0x16496f[_0x6c913a(0x15e)],_0x394588=_0x6c913a(0x163)+JSON['stringify'](_0x16496f);try{updateApiTimestamp();const _0x219f09=await _0x323391[_0x6c913a(0x13c)][_0x6c913a(0x157)](_0x394588),_0x1f79ef=JSON[_0x6c913a(0x137)](_0x219f09[_0x6c913a(0x11f)][_0x6c913a(0x17f)]()['replace'](/```json|```/g,'')[_0x6c913a(0x139)]()),_0xda7471={'timestamp':new Date()[_0x6c913a(0x146)](),'eventCount':_0x194915,'summary':_0x1f79ef['summary']||'Digest','activityLevel':_0x1f79ef[_0x6c913a(0x13f)]||_0x6c913a(0x195),'systemMode':_0x323391[_0x6c913a(0x14b)]};_0x323391[_0x6c913a(0x128)][_0x6c913a(0x193)](_0xda7471);const _0x51b1f8=_0x323391[_0x6c913a(0x17a)][_0x6c913a(0x172)]||0x3c;_0x323391[_0x6c913a(0x128)]['length']>_0x51b1f8&&_0x323391['dailyDigests']['splice'](0x0,_0x323391['dailyDigests'][_0x6c913a(0x15e)]-_0x51b1f8);await _0x323391['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x323391['dailyDigests']),'ack':!![]}),_0x323391['rawEventLog']=[],await _0x323391[_0x6c913a(0x18b)](LTM_DP_RAW_LOG,{'val':JSON[_0x6c913a(0x147)](_0x323391[_0x6c913a(0x188)]),'ack':!![]}),await _0x323391[_0x6c913a(0x18b)](LTM_DP_STATUS,{'val':'Success','ack':!![]});const _0x2b4c4e='ðŸ“…\x20Daily\x20Digest:\x0a'+_0x1f79ef['summary']+'\x0aAktivitÃ¤t:\x20'+_0x1f79ef['activityLevel'];setup[_0x6c913a(0x14d)](_0x323391,_0x2b4c4e,![],![]);if(_0x323391[_0x6c913a(0x17c)]&&_0x493a13)_0x493a13[_0x6c913a(0x149)](_0x323391,_0x6c913a(0x130),{'digest':_0xda7471});}catch(_0x5d78c5){_0x323391[_0x6c913a(0x161)][_0x6c913a(0x122)](_0x5d78c5['message']);}}async function runBaselineDriftAnalysis(_0x227e67){const _0x46ebe2=a0_0x40367f;if(!_0x227e67[_0x46ebe2(0x17c)]||!_0x227e67[_0x46ebe2(0x13c)])return;if(!canCallApi())return;const _0x551d14=_0x227e67['config']['ltmStbWindowDays']||0xe;if(_0x227e67[_0x46ebe2(0x128)][_0x46ebe2(0x15e)]<_0x551d14+0x7){await _0x227e67['setStateAsync'](_0x46ebe2(0x14f),{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x4e885f=_0x227e67[_0x46ebe2(0x128)]['slice'](-_0x551d14),_0x2c2acc=_0x227e67[_0x46ebe2(0x128)]['slice'](0x0,_0x227e67[_0x46ebe2(0x128)][_0x46ebe2(0x15e)]-_0x551d14),_0x4ac28e='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x46ebe2(0x147)](_0x2c2acc)+'\x0aSTB:\x20'+JSON[_0x46ebe2(0x147)](_0x4e885f);try{updateApiTimestamp();const _0x2fb18f=await _0x227e67[_0x46ebe2(0x13c)][_0x46ebe2(0x157)](_0x4ac28e),_0x39bab5=JSON['parse'](_0x2fb18f['response'][_0x46ebe2(0x17f)]()[_0x46ebe2(0x121)](/```json|```/g,'')[_0x46ebe2(0x139)]());_0x39bab5[_0x46ebe2(0x16e)]&&(await _0x227e67[_0x46ebe2(0x18b)](_0x46ebe2(0x14f),{'val':_0x39bab5[_0x46ebe2(0x16e)],'ack':!![]}),await _0x227e67['setStateAsync'](_0x46ebe2(0x135),{'val':_0x39bab5[_0x46ebe2(0x143)],'ack':!![]}),await _0x227e67['setStateAsync']('LTM.driftAnalysis.lastCheck',{'val':Date['now'](),'ack':!![]}));}catch(_0x3aaac1){}}async function executeAutomationAction(_0x2dad32){const _0x3ed735=a0_0x40367f;try{const _0x3608e9=await _0x2dad32[_0x3ed735(0x196)](_0x3ed735(0x12d)),_0x1d898f=await _0x2dad32[_0x3ed735(0x196)]('analysis.automation.targetValue');if(_0x3608e9&&_0x3608e9[_0x3ed735(0x153)]&&_0x1d898f){const _0x42b21d=_0x3608e9[_0x3ed735(0x153)];let _0xf40229=_0x1d898f['val'];try{_0xf40229=JSON[_0x3ed735(0x137)](_0xf40229);}catch(_0x4b9dc9){}_0x2dad32[_0x3ed735(0x161)][_0x3ed735(0x18d)](_0x3ed735(0x132)+_0x42b21d+_0x3ed735(0x18c)+_0xf40229),await _0x2dad32[_0x3ed735(0x131)](_0x42b21d,_0xf40229);}else _0x2dad32['log'][_0x3ed735(0x173)](_0x3ed735(0x191));}catch(_0x406fec){_0x2dad32[_0x3ed735(0x161)][_0x3ed735(0x122)](_0x3ed735(0x145)+_0x406fec[_0x3ed735(0x162)]);}}function a0_0x4fca(_0x1c5699,_0x52cd05){const _0x5a0cc0=a0_0x2857();return a0_0x4fca=function(_0x212dbe,_0x404f8f){_0x212dbe=_0x212dbe-0x11a;let _0x2857bf=_0x5a0cc0[_0x212dbe];return _0x2857bf;},a0_0x4fca(_0x1c5699,_0x52cd05);}async function sendMorningBriefing(_0x31345e){const _0x3a8621=a0_0x40367f;if(!_0x31345e[_0x3a8621(0x13c)]){_0x31345e[_0x3a8621(0x161)][_0x3a8621(0x173)](_0x3a8621(0x175));return;}_0x31345e[_0x3a8621(0x161)]['info'](_0x3a8621(0x167));try{updateApiTimestamp();const _0x1180b5=_0x3a8621(0x138),_0x15acb5=await _0x31345e[_0x3a8621(0x13c)]['generateContent'](_0x1180b5),_0x1e3d77=_0x15acb5[_0x3a8621(0x11f)]['text']();_0x31345e[_0x3a8621(0x161)][_0x3a8621(0x18d)](_0x3a8621(0x160)+_0x1e3d77[_0x3a8621(0x15e)]+_0x3a8621(0x159)),setup[_0x3a8621(0x14d)](_0x31345e,'ðŸŒ…\x20Morning\x20Briefing:\x0a'+_0x1e3d77);}catch(_0x4273b2){_0x31345e[_0x3a8621(0x161)][_0x3a8621(0x122)](_0x3a8621(0x181)+_0x4273b2['message']);}}function a0_0x2857(){const _0x24e663=['analysis.analysisHistory','%)\x20nach\x20\x22','ðŸŒ…\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','.Current.IsNight','weatherInstance','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','LTM.rawEventLog','slice','baselineDrift','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','analysis.automation.description','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','ltmLtbWindowDays','warn','apply','ðŸ¤–\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','30GJFygD','eventHistory','.\x20EVENTS:\x20','config','.forecast.current.state','isProVersion','debug','targetValue','text','isAlert','Briefing\x20Error:\x20','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','analysis.lastResult','./setup','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','aiPersona','3058348FGhqgy','rawEventLog','(((.+)+)+)+$','exports','setStateAsync','\x20=\x20','info','timestamp','analysis.automation.autoApply','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','Wetterdaten\x20nicht\x20abrufbar','push','alertReason','normal','getStateAsync','decision','782166ZQMKnA','constructor','Unbekannt','system.presenceWho','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','759829YVEjdJ','isEmergency','30314YJNcgL','response','âš ï¸\x20ALARM:\x20','replace','error','LTM.dailyDigests','Sicherheit\x20geht\x20vor.','PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).',',\x20Wetter:\x20','lastAlertState','dailyDigests','useWeather','.\x20EMERGENCY:\x20','8459536QTurrf','analysis.automation.patternDetected','analysis.automation.targetId','summary','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','ANALYZE_HEALTH','setForeignStateAsync','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','getForeignStateAsync','.\x20ANWESEND:\x20','LTM.driftAnalysis.driftDetails','analysis.alertReason','parse','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','trim','Â°C,\x20','detected','geminiModel','2912814xpxApk','toString','activityLevel','Unbekannt\x20(Kein\x20Sensor)','toFixed','pop','driftDetails','2792185KIKcgV','BUTLER\x20Execution\x20Error:\x20','toISOString','stringify','.Current.WeatherText','send','Skipped\x20(No\x20AI\x20or\x20Data)','currentSystemMode','Traffic-Schutz\x20(Auto-Approved)','sendNotification','.Current.Temperature','LTM.driftAnalysis.baselineDrift','approved','analysis.automation.targetValue','analysis.isAlert','val','@google/generative-ai','toLocaleTimeString','analysisHistory','generateContent','analysis.activitySummary',').\x20Sending\x20notification...','automationProposal','now','description','KI-Fehler\x20(Fallback)','length','Skipped\x20(Traffic)','ðŸŒ…\x20Briefing\x20generated\x20(Length:\x20','log','message','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20'];a0_0x2857=function(){return _0x24e663;};return a0_0x2857();}module[a0_0x40367f(0x18a)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};