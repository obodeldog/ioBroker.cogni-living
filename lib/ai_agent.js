const a0_0x4773f5=a0_0x1650;(function(_0x44c38f,_0x53d3e0){const _0x154bf9=a0_0x1650,_0x2eaaa6=_0x44c38f();while(!![]){try{const _0x1a8d36=parseInt(_0x154bf9(0x14a))/0x1*(-parseInt(_0x154bf9(0x12e))/0x2)+-parseInt(_0x154bf9(0xfc))/0x3+parseInt(_0x154bf9(0x132))/0x4*(-parseInt(_0x154bf9(0x120))/0x5)+parseInt(_0x154bf9(0xf5))/0x6+parseInt(_0x154bf9(0x130))/0x7+-parseInt(_0x154bf9(0x145))/0x8*(-parseInt(_0x154bf9(0xe3))/0x9)+parseInt(_0x154bf9(0xe2))/0xa*(-parseInt(_0x154bf9(0xf7))/0xb);if(_0x1a8d36===_0x53d3e0)break;else _0x2eaaa6['push'](_0x2eaaa6['shift']());}catch(_0x1e3ed8){_0x2eaaa6['push'](_0x2eaaa6['shift']());}}}(a0_0x103a,0x2ba51));const a0_0x2358c9=(function(){let _0x5b4342=!![];return function(_0x2b7b7c,_0x40445a){const _0x2e9095=_0x5b4342?function(){const _0x217929=a0_0x1650;if(_0x40445a){const _0x5af33d=_0x40445a[_0x217929(0x144)](_0x2b7b7c,arguments);return _0x40445a=null,_0x5af33d;}}:function(){};return _0x5b4342=![],_0x2e9095;};}()),a0_0x354c95=a0_0x2358c9(this,function(){const _0x24f409=a0_0x1650;return a0_0x354c95['toString']()[_0x24f409(0x11e)]('(((.+)+)+)+$')[_0x24f409(0x110)]()[_0x24f409(0x137)](a0_0x354c95)[_0x24f409(0x11e)](_0x24f409(0x116));});function a0_0x1650(_0xcff1b7,_0x75e04a){const _0x27d8d1=a0_0x103a();return a0_0x1650=function(_0x354c95,_0x2358c9){_0x354c95=_0x354c95-0xd7;let _0x103afd=_0x27d8d1[_0x354c95];return _0x103afd;},a0_0x1650(_0xcff1b7,_0x75e04a);}a0_0x354c95();'use strict';const {GoogleGenerativeAI}=require(a0_0x4773f5(0xdd)),setup=require('./setup'),GEMINI_MODEL='models/gemini-flash-latest',LTM_DP_DAILY_DIGESTS=a0_0x4773f5(0x14e),LTM_DP_STATUS=a0_0x4773f5(0x155),LTM_DP_RAW_LOG=a0_0x4773f5(0x129),LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x4773f5(0xf3),'senior_aal':a0_0x4773f5(0x14c),'family':a0_0x4773f5(0x159),'single_comfort':a0_0x4773f5(0xe4),'security':a0_0x4773f5(0x139),'energy_saver':a0_0x4773f5(0x101)};function canCallApi(){const _0x338286=Date['now']();return _0x338286-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){const _0x7a011=a0_0x4773f5;lastGlobalApiCall=Date[_0x7a011(0x134)]();}async function getWeatherContext(_0x2787ed){const _0x2401fe=a0_0x4773f5;if(!_0x2787ed[_0x2401fe(0x111)][_0x2401fe(0x148)]||!_0x2787ed[_0x2401fe(0x111)][_0x2401fe(0x113)])return'Unbekannt\x20(Kein\x20Sensor)';try{const _0x189c65=_0x2787ed[_0x2401fe(0x111)][_0x2401fe(0x113)];let _0x3791a7=await _0x2787ed[_0x2401fe(0x14d)](_0x189c65+_0x2401fe(0xe8));if(!_0x3791a7)_0x3791a7=await _0x2787ed[_0x2401fe(0x14d)](_0x189c65+_0x2401fe(0x106));let _0x443221=await _0x2787ed[_0x2401fe(0x14d)](_0x189c65+'.Current.WeatherText');if(!_0x443221)_0x443221=await _0x2787ed[_0x2401fe(0x14d)](_0x189c65+'.forecast.current.state');let _0x3f0757='Unbekannt';const _0x218061=await _0x2787ed[_0x2401fe(0x14d)](_0x189c65+_0x2401fe(0xeb));if(_0x218061)_0x3f0757=_0x218061['val']?'Nacht':_0x2401fe(0x15d);if(_0x3791a7&&_0x443221)return _0x3791a7[_0x2401fe(0x138)]+_0x2401fe(0x10c)+_0x443221['val']+_0x2401fe(0x133)+_0x3f0757;}catch(_0x2d5e9b){}return _0x2401fe(0xfb);}async function consultButler(_0x13da20,_0x10fbc7,_0x256210,_0x2a5b54){const _0x2a1220=a0_0x4773f5;if(!_0x13da20['geminiModel'])return{'approved':!![],'reason':'KI\x20offline\x20(Fallback)'};const _0x35686f=Date['now']();if(decisionCache[_0x10fbc7]&&_0x35686f-decisionCache[_0x10fbc7][_0x2a1220(0x13e)]<CACHE_TTL_MS){const _0x3d5dd8=decisionCache[_0x10fbc7][_0x2a1220(0x117)];return _0x13da20['log'][_0x2a1220(0xe0)](_0x2a1220(0x104)+_0x10fbc7+_0x2a1220(0xec)+(_0x3d5dd8[_0x2a1220(0xf8)]?'OK':'NO')+'\x20('+_0x3d5dd8[_0x2a1220(0x102)]+')'),_0x3d5dd8;}if(!canCallApi())return _0x13da20[_0x2a1220(0x10d)]['debug']('ü§ñ\x20Traffic\x20Schutz:\x20Anfrage\x20f√ºr\x20'+_0x10fbc7+_0x2a1220(0x13a)),{'approved':!![],'reason':_0x2a1220(0xdc)};const _0x1d4fd5=new Date()[_0x2a1220(0x105)](),_0x5c56e1=await getWeatherContext(_0x13da20),_0x50c998=PERSONA_MAPPING[_0x13da20[_0x2a1220(0x111)][_0x2a1220(0x10f)]||_0x2a1220(0x11f)],_0x48d72f=_0x2a1220(0x11a)+_0x1d4fd5+_0x2a1220(0x131)+_0x5c56e1+'.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20('+(_0x2a5b54*0x64)['toFixed'](0x0)+_0x2a1220(0x143)+_0x10fbc7+_0x2a1220(0xdb)+_0x256210+_0x2a1220(0x122)+_0x50c998+_0x2a1220(0xf2);try{updateApiTimestamp();const _0x4e58f3=await _0x13da20[_0x2a1220(0xe9)][_0x2a1220(0x100)](_0x48d72f),_0x4eef74=_0x4e58f3[_0x2a1220(0x12b)][_0x2a1220(0x10e)]()['replace'](/```json|```/g,'')['trim'](),_0x322c47=JSON[_0x2a1220(0x12d)](_0x4eef74);return decisionCache[_0x10fbc7]={'decision':_0x322c47,'timestamp':_0x35686f},_0x322c47;}catch(_0x3bb28c){return _0x13da20[_0x2a1220(0x10d)]['warn'](_0x2a1220(0xfd)+_0x3bb28c[_0x2a1220(0x153)]),decisionCache[_0x10fbc7]={'decision':{'approved':!![],'reason':_0x2a1220(0x156)},'timestamp':_0x35686f-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':_0x2a1220(0x156)};}}async function runGeminiAnalysis(_0x41b629,_0x16a670=''){const _0x3ad0b4=a0_0x4773f5;if(!_0x41b629[_0x3ad0b4(0xe9)])return;if(!canCallApi()){_0x41b629['log'][_0x3ad0b4(0xe0)](_0x3ad0b4(0xf6));return;}if(_0x41b629[_0x3ad0b4(0x124)][_0x3ad0b4(0xf1)]===0x0)return;const _0xead886=_0x41b629[_0x3ad0b4(0x124)]['slice'](0x0,0xf),_0x4a3a25=_0x41b629[_0x3ad0b4(0x15b)],_0x375707=PERSONA_MAPPING[_0x41b629[_0x3ad0b4(0x111)][_0x3ad0b4(0x10f)]||_0x3ad0b4(0x11f)],_0x426221=_0x41b629[_0x3ad0b4(0x111)]['livingContext']||_0x3ad0b4(0x114);let _0x1caf0a=_0x3ad0b4(0x13b);try{const _0x4de24e=await _0x41b629[_0x3ad0b4(0x15e)](_0x3ad0b4(0x154));if(_0x4de24e&&_0x4de24e[_0x3ad0b4(0x138)])_0x1caf0a=_0x4de24e[_0x3ad0b4(0x138)];}catch(_0x416783){}let _0xdb94f4=![];try{const _0x19c9d3=await _0x41b629[_0x3ad0b4(0x15e)](_0x3ad0b4(0x109));if(_0x19c9d3&&_0x19c9d3[_0x3ad0b4(0x138)])_0xdb94f4=!![];}catch(_0x3e10ff){}const _0x298356=_0x3ad0b4(0xe5)+_0x375707+_0x3ad0b4(0x12c)+_0x426221+_0x3ad0b4(0x11b)+_0x4a3a25+'.\x20ANWESEND:\x20'+_0x1caf0a+_0x3ad0b4(0x10a)+JSON[_0x3ad0b4(0x157)](_0xead886)+_0x3ad0b4(0xf4)+_0x16a670+_0x3ad0b4(0x147);try{updateApiTimestamp();const _0x5e031f=await _0x41b629[_0x3ad0b4(0xe9)][_0x3ad0b4(0x100)](_0x298356),_0xe9f562=JSON[_0x3ad0b4(0x12d)](_0x5e031f[_0x3ad0b4(0x12b)][_0x3ad0b4(0x10e)]()[_0x3ad0b4(0x13c)](/```json|```/g,'')[_0x3ad0b4(0x15a)]());await _0x41b629[_0x3ad0b4(0xda)](_0x3ad0b4(0x14f),{'val':JSON[_0x3ad0b4(0x157)](_0xe9f562),'ack':!![]});if(_0xe9f562['summary'])await _0x41b629[_0x3ad0b4(0xda)](_0x3ad0b4(0xea),{'val':_0xe9f562[_0x3ad0b4(0x12a)],'ack':!![]});const _0x7ba0a9={'timestamp':Date[_0x3ad0b4(0x134)](),'id':Date[_0x3ad0b4(0x134)]()[_0x3ad0b4(0x110)](),'analysis':{'activity':{'summary':_0xe9f562[_0x3ad0b4(0x12a)],'isAlert':_0xe9f562[_0x3ad0b4(0x127)],'alertReason':_0xe9f562['alertReason']},'comfort':{'automationProposal':_0xe9f562[_0x3ad0b4(0x151)]}}};_0x41b629['analysisHistory'][_0x3ad0b4(0x13f)](_0x7ba0a9);if(_0x41b629[_0x3ad0b4(0x107)][_0x3ad0b4(0xf1)]>0x32)_0x41b629[_0x3ad0b4(0x107)][_0x3ad0b4(0xef)]();await _0x41b629[_0x3ad0b4(0xda)]('analysis.analysisHistory',{'val':JSON[_0x3ad0b4(0x157)](_0x41b629['analysisHistory']),'ack':!![]});const _0x1f5ede=_0xe9f562[_0x3ad0b4(0x127)]||![];_0x1f5ede!==_0x41b629[_0x3ad0b4(0xf9)]&&(await _0x41b629['setStateAsync'](_0x3ad0b4(0x11d),{'val':_0x1f5ede,'ack':!![]}),_0x41b629[_0x3ad0b4(0xf9)]=_0x1f5ede,_0x1f5ede&&(await _0x41b629[_0x3ad0b4(0xda)](_0x3ad0b4(0x11c),{'val':_0xe9f562['alertReason'],'ack':!![]}),setup[_0x3ad0b4(0x149)](_0x41b629,_0x3ad0b4(0xf0)+_0xe9f562[_0x3ad0b4(0x115)],![],_0xe9f562[_0x3ad0b4(0x12f)])));if(_0xe9f562['automationProposal']&&_0xe9f562[_0x3ad0b4(0x151)][_0x3ad0b4(0x152)]){await _0x41b629[_0x3ad0b4(0xda)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x41b629['setStateAsync'](_0x3ad0b4(0x103),{'val':_0xe9f562['automationProposal'][_0x3ad0b4(0x128)],'ack':!![]}),await _0x41b629[_0x3ad0b4(0xda)](_0x3ad0b4(0x142),{'val':_0xe9f562[_0x3ad0b4(0x151)][_0x3ad0b4(0x108)],'ack':!![]}),await _0x41b629[_0x3ad0b4(0xda)](_0x3ad0b4(0xd7),{'val':JSON[_0x3ad0b4(0x157)](_0xe9f562[_0x3ad0b4(0x151)]['targetValue']),'ack':!![]});if(_0xdb94f4)executeAutomationAction(_0x41b629);}}catch(_0x573d7c){_0x41b629[_0x3ad0b4(0x10d)][_0x3ad0b4(0x146)]('Gemini\x20Error:\x20'+_0x573d7c[_0x3ad0b4(0x153)]);}}async function createDailyDigest(_0x153544,_0x3c47b1){const _0x11a268=a0_0x4773f5;if(!_0x153544[_0x11a268(0x140)])return;if(!canCallApi()){await _0x153544[_0x11a268(0xda)](LTM_DP_STATUS,{'val':_0x11a268(0x118),'ack':!![]});return;}await _0x153544[_0x11a268(0xda)](LTM_DP_STATUS,{'val':_0x11a268(0x135),'ack':!![]});if(!_0x153544['geminiModel']||_0x153544[_0x11a268(0x126)][_0x11a268(0xf1)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x153544['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x1eb312=JSON[_0x11a268(0x12d)](JSON[_0x11a268(0x157)](_0x153544['rawEventLog'])),_0x52fefa=_0x1eb312[_0x11a268(0xf1)],_0x17285e=_0x11a268(0x119)+JSON['stringify'](_0x1eb312);try{updateApiTimestamp();const _0x5581d4=await _0x153544[_0x11a268(0xe9)]['generateContent'](_0x17285e),_0x59357d=JSON[_0x11a268(0x12d)](_0x5581d4[_0x11a268(0x12b)][_0x11a268(0x10e)]()['replace'](/```json|```/g,'')[_0x11a268(0x15a)]()),_0x406533={'timestamp':new Date()[_0x11a268(0x13d)](),'eventCount':_0x52fefa,'summary':_0x59357d[_0x11a268(0x12a)]||_0x11a268(0x112),'activityLevel':_0x59357d['activityLevel']||'normal','systemMode':_0x153544['currentSystemMode']};_0x153544['dailyDigests'][_0x11a268(0x14b)](_0x406533);const _0x114661=_0x153544[_0x11a268(0x111)]['ltmLtbWindowDays']||0x3c;_0x153544[_0x11a268(0x141)]['length']>_0x114661&&_0x153544[_0x11a268(0x141)]['splice'](0x0,_0x153544[_0x11a268(0x141)]['length']-_0x114661);await _0x153544['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x11a268(0x157)](_0x153544[_0x11a268(0x141)]),'ack':!![]}),_0x153544[_0x11a268(0x126)]=[],await _0x153544[_0x11a268(0xda)](LTM_DP_RAW_LOG,{'val':JSON[_0x11a268(0x157)](_0x153544[_0x11a268(0x126)]),'ack':!![]}),await _0x153544[_0x11a268(0xda)](LTM_DP_STATUS,{'val':_0x11a268(0xfe),'ack':!![]});const _0x8085e5='üìÖ\x20Daily\x20Digest:\x0a'+_0x59357d[_0x11a268(0x12a)]+_0x11a268(0xdf)+_0x59357d['activityLevel'];setup[_0x11a268(0x149)](_0x153544,_0x8085e5,![],![]);if(_0x153544['isProVersion']&&_0x3c47b1)_0x3c47b1[_0x11a268(0xed)](_0x153544,_0x11a268(0xff),{'digest':_0x406533});}catch(_0x4c0858){_0x153544[_0x11a268(0x10d)][_0x11a268(0x146)](_0x4c0858['message']);}}async function runBaselineDriftAnalysis(_0x509aa6){const _0x4206dd=a0_0x4773f5;if(!_0x509aa6['isProVersion']||!_0x509aa6['geminiModel'])return;if(!canCallApi())return;const _0x47ee53=_0x509aa6['config']['ltmStbWindowDays']||0xe;if(_0x509aa6[_0x4206dd(0x141)][_0x4206dd(0xf1)]<_0x47ee53+0x7){await _0x509aa6[_0x4206dd(0xda)]('LTM.driftAnalysis.baselineDrift',{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x8ca81a=_0x509aa6[_0x4206dd(0x141)][_0x4206dd(0x10b)](-_0x47ee53),_0x549780=_0x509aa6['dailyDigests'][_0x4206dd(0x10b)](0x0,_0x509aa6[_0x4206dd(0x141)][_0x4206dd(0xf1)]-_0x47ee53),_0x68c867=_0x4206dd(0xe7)+JSON[_0x4206dd(0x157)](_0x549780)+_0x4206dd(0x123)+JSON[_0x4206dd(0x157)](_0x8ca81a);try{updateApiTimestamp();const _0x58eae6=await _0x509aa6[_0x4206dd(0xe9)][_0x4206dd(0x100)](_0x68c867),_0x405701=JSON[_0x4206dd(0x12d)](_0x58eae6['response'][_0x4206dd(0x10e)]()[_0x4206dd(0x13c)](/```json|```/g,'')[_0x4206dd(0x15a)]());_0x405701[_0x4206dd(0xde)]&&(await _0x509aa6[_0x4206dd(0xda)]('LTM.driftAnalysis.baselineDrift',{'val':_0x405701['baselineDrift'],'ack':!![]}),await _0x509aa6[_0x4206dd(0xda)](_0x4206dd(0x125),{'val':_0x405701[_0x4206dd(0xe1)],'ack':!![]}),await _0x509aa6['setStateAsync'](_0x4206dd(0xd8),{'val':Date['now'](),'ack':!![]}));}catch(_0x10ee18){}}async function executeAutomationAction(_0x165087){const _0x342e18=a0_0x4773f5;try{const _0x1a4496=await _0x165087[_0x342e18(0x15e)]('analysis.automation.targetId'),_0x412cbd=await _0x165087[_0x342e18(0x15e)]('analysis.automation.targetValue');if(_0x1a4496&&_0x1a4496['val']&&_0x412cbd){const _0x4b89e8=_0x1a4496['val'];let _0x3defec=_0x412cbd[_0x342e18(0x138)];try{_0x3defec=JSON[_0x342e18(0x12d)](_0x3defec);}catch(_0x4c6e48){}_0x165087[_0x342e18(0x10d)][_0x342e18(0x150)](_0x342e18(0x15c)+_0x4b89e8+_0x342e18(0xfa)+_0x3defec),await _0x165087['setForeignStateAsync'](_0x4b89e8,_0x3defec);}else _0x165087[_0x342e18(0x10d)][_0x342e18(0x136)](_0x342e18(0x158));}catch(_0xead009){_0x165087[_0x342e18(0x10d)][_0x342e18(0x146)]('BUTLER\x20Execution\x20Error:\x20'+_0xead009[_0x342e18(0x153)]);}}async function sendMorningBriefing(_0xad1ae0){const _0x3ead79=a0_0x4773f5;if(!_0xad1ae0[_0x3ead79(0xe9)]){_0xad1ae0[_0x3ead79(0x10d)]['warn'](_0x3ead79(0xd9));return;}_0xad1ae0[_0x3ead79(0x10d)]['info'](_0x3ead79(0xe6));try{updateApiTimestamp();const _0x1d150a=_0x3ead79(0xee),_0x476ebe=await _0xad1ae0[_0x3ead79(0xe9)][_0x3ead79(0x100)](_0x1d150a),_0x2b0bcc=_0x476ebe[_0x3ead79(0x12b)][_0x3ead79(0x10e)]();_0xad1ae0[_0x3ead79(0x10d)][_0x3ead79(0x150)]('üåÖ\x20Briefing\x20generated\x20(Length:\x20'+_0x2b0bcc[_0x3ead79(0xf1)]+').\x20Sending\x20notification...'),setup[_0x3ead79(0x149)](_0xad1ae0,_0x3ead79(0x121)+_0x2b0bcc);}catch(_0x317740){_0xad1ae0['log'][_0x3ead79(0x146)]('Briefing\x20Error:\x20'+_0x317740[_0x3ead79(0x153)]);}}module['exports']={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};function a0_0x103a(){const _0x4cb986=['Skipped\x20(Traffic)','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','.\x20SYSTEM_MODE:\x20','analysis.alertReason','analysis.isAlert','search','generic','20575ZIKWWp','üåÖ\x20Morning\x20Briefing:\x0a','\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20','\x0aSTB:\x20','eventHistory','LTM.driftAnalysis.driftDetails','rawEventLog','isAlert','description','LTM.rawEventLog','summary','response','.\x20KONTEXT:\x20','parse','7096dngFbT','isEmergency','2068857iZxitI',',\x20Wetter:\x20','152MUWHrh',',\x20Lichtverh√§ltnisse:\x20','now','Started...','warn','constructor','val','Sicherheit\x20geht\x20vor.','\x20√ºbersprungen\x20(Auto-Approved).','Unbekannt','replace','toISOString','timestamp','unshift','isProVersion','dailyDigests','analysis.automation.targetId','%)\x20nach\x20\x22','apply','2301024FsbVKM','error','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','useWeather','sendNotification','20DCnUqF','push','PRIORIT√ÑT:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','getForeignStateAsync','LTM.dailyDigests','analysis.lastResult','info','automationProposal','detected','message','system.presenceWho','LTM.processingStatus','KI-Fehler\x20(Fallback)','stringify','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','Fokus\x20auf\x20Komfort\x20f√ºr\x20die\x20Familie.','trim','currentSystemMode','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','Tag','getStateAsync','analysis.automation.targetValue','LTM.driftAnalysis.lastCheck','ü§ñ\x20Morning\x20Briefing\x20skipped:\x20No\x20Gemini\x20Model.','setStateAsync','\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22','Traffic-Schutz\x20(Auto-Approved)','@google/generative-ai','baselineDrift','\x0aAktivit√§t:\x20','debug','driftDetails','22430puWFgi','9IeQFEF','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','üåÖ\x20Starting\x20Morning\x20Briefing\x20sequence\x20(Traffic\x20Check\x20bypassed)...','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','.Current.Temperature','geminiModel','analysis.activitySummary','.Current.IsNight','\x20->\x20','send','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','pop','‚ö†Ô∏è\x20ALARM:\x20','length','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20f√ºr\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.','.\x20EMERGENCY:\x20','1683684uuneKX','ü§ñ\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','913EFPVky','approved','lastAlertState','\x20=\x20','Wetterdaten\x20nicht\x20abrufbar','814575LXrJqJ','ü§ñ\x20Butler\x20Brain\x20Error:\x20','Success','ANALYZE_HEALTH','generateContent','PRIORIT√ÑT:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).','reason','analysis.automation.description','ü§ñ\x20Butler\x20Cache\x20Hit:\x20','toLocaleTimeString','.forecast.current.temperature','analysisHistory','targetId','analysis.automation.autoApply','.\x20EVENTS:\x20','slice','¬∞C,\x20','log','text','aiPersona','toString','config','Digest','weatherInstance','Keine\x20Details.','alertReason','(((.+)+)+)+$','decision'];a0_0x103a=function(){return _0x4cb986;};return a0_0x103a();}