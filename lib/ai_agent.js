function a0_0x4f89(_0x2d0916,_0x5b91e7){const _0x26300e=a0_0x5e6a();return a0_0x4f89=function(_0x5910ff,_0x2d4e99){_0x5910ff=_0x5910ff-0xc6;let _0x5e6ab4=_0x26300e[_0x5910ff];return _0x5e6ab4;},a0_0x4f89(_0x2d0916,_0x5b91e7);}const a0_0x31f482=a0_0x4f89;(function(_0x1a9b4c,_0x21ba43){const _0x503d9c=a0_0x4f89,_0x55ead1=_0x1a9b4c();while(!![]){try{const _0x5a2f9f=parseInt(_0x503d9c(0xe3))/0x1*(parseInt(_0x503d9c(0x126))/0x2)+-parseInt(_0x503d9c(0x139))/0x3+-parseInt(_0x503d9c(0xe9))/0x4*(parseInt(_0x503d9c(0x120))/0x5)+-parseInt(_0x503d9c(0x148))/0x6+parseInt(_0x503d9c(0x102))/0x7+-parseInt(_0x503d9c(0xe4))/0x8+parseInt(_0x503d9c(0x13a))/0x9*(parseInt(_0x503d9c(0xee))/0xa);if(_0x5a2f9f===_0x21ba43)break;else _0x55ead1['push'](_0x55ead1['shift']());}catch(_0x47f671){_0x55ead1['push'](_0x55ead1['shift']());}}}(a0_0x5e6a,0x5ca2c));const a0_0x2d4e99=(function(){let _0x3e6000=!![];return function(_0x52718e,_0x6eec85){const _0x3eacdc=_0x3e6000?function(){if(_0x6eec85){const _0x1bf29f=_0x6eec85['apply'](_0x52718e,arguments);return _0x6eec85=null,_0x1bf29f;}}:function(){};return _0x3e6000=![],_0x3eacdc;};}()),a0_0x5910ff=a0_0x2d4e99(this,function(){const _0x374fbb=a0_0x4f89;return a0_0x5910ff[_0x374fbb(0x117)]()[_0x374fbb(0xfc)](_0x374fbb(0xde))[_0x374fbb(0x117)]()[_0x374fbb(0x131)](a0_0x5910ff)[_0x374fbb(0xfc)](_0x374fbb(0xde));});a0_0x5910ff();'use strict';const {GoogleGenerativeAI}=require(a0_0x31f482(0x13b)),setup=require('./setup'),GEMINI_MODEL=a0_0x31f482(0xf4),LTM_DP_DAILY_DIGESTS=a0_0x31f482(0x11b),LTM_DP_STATUS=a0_0x31f482(0x132),LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,MIN_API_GAP_MS=0x4e20;let lastGlobalApiCall=0x0;const decisionCache={},CACHE_TTL_MS=0xf*0x3c*0x3e8,PERSONA_MAPPING={'generic':a0_0x31f482(0x147),'senior_aal':'PRIORITÃ„T:\x20Sicherheit\x20und\x20Licht.\x20Schalte\x20lieber\x20einmal\x20zu\x20viel\x20als\x20zu\x20wenig.','family':a0_0x31f482(0xd6),'single_comfort':a0_0x31f482(0x137),'security':a0_0x31f482(0x10e),'energy_saver':'PRIORITÃ„T:\x20Energie\x20sparen.\x20Schalte\x20nur,\x20wenn\x20absolut\x20notwendig\x20(Dunkelheit).'};function canCallApi(){const _0x114a1d=Date['now']();return _0x114a1d-lastGlobalApiCall>MIN_API_GAP_MS;}function updateApiTimestamp(){lastGlobalApiCall=Date['now']();}function a0_0x5e6a(){const _0x5305f1=['1487058TWaZbW','analysis.automation.targetId','push','aiPersona','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','alertReason','debug','text','ltmLtbWindowDays','generateContent','Unbekannt\x20(Kein\x20Sensor)','ltmStbWindowDays','\x20Ã¼bersprungen\x20(Auto-Approved).','analysis.automation.patternDetected','ðŸ¤–\x20Butler\x20Brain\x20Error:\x20','ðŸ¤–\x20Traffic\x20Schutz:\x20Anfrage\x20fÃ¼r\x20','setStateAsync','dailyDigests','Tag','length','replace','LTM.driftAnalysis.lastCheck','ðŸŒ…\x20Morning\x20Briefing:\x0a','response','Fokus\x20auf\x20Komfort\x20fÃ¼r\x20die\x20Familie.','%)\x20nach\x20\x22','\x0a\x20\x20\x20\x20FRAGE:\x20Ist\x20es\x20dunkel\x20genug\x20fÃ¼r\x20Licht?\x0a\x20\x20\x20\x20FORMAT:\x20{\x20\x22approved\x22:\x20boolean,\x20\x22reason\x22:\x20\x22kurzer\x20Grund\x22\x20}\x0a\x20\x20\x20\x20',',\x20LichtverhÃ¤ltnisse:\x20','isAlert','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','useWeather','.Current.IsNight','(((.+)+)+)+$','isProVersion','config','sendNotification','ANALYZE_HEALTH','473511ylrpTU','5161488evTyvh','Keine\x20Details.','.\x20ANWESEND:\x20','isEmergency',',\x20Wetter:\x20','20WkkoAn','automationProposal','splice','pop','Unbekannt','30VNSLqb','eventHistory','âš ï¸\x20ALARM:\x20','getStateAsync','Traffic-Schutz\x20(Auto-Approved)','.forecast.current.state','models/gemini-flash-latest','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','\x20->\x20','Success','generic','lastAlertState','Nacht','analysis.automation.autoApply','search','analysis.alertReason','baselineDrift','message','Gemini\x20Error:\x20','Wetterdaten\x20nicht\x20abrufbar','4933726HxaOVk','analysis.activitySummary','summary','warn','KI-Fehler\x20(Fallback)','rawEventLog','targetId','analysis.automation.targetValue','setForeignStateAsync','trim','.\x20KONTEXT:\x20','getForeignStateAsync','Sicherheit\x20geht\x20vor.','analysis.analysisHistory','ðŸ¤–\x20Autopilot\x20skipped\x20(Traffic\x20Protection\x20active).','BUTLER\x20Execution\x20Error:\x20','toLocaleTimeString','analysisHistory','\x0aAktivitÃ¤t:\x20','error','.Current.WeatherText','toString','slice','driftDetails','Briefing\x20Error:\x20','LTM.dailyDigests','KI\x20offline\x20(Fallback)','LTM.driftAnalysis.baselineDrift','exports','targetValue','702935YTSFjI','.\x0a\x20\x20\x20\x20EVENT:\x20Bewohner\x20geht\x20wahrscheinlich\x20(','.forecast.current.temperature','detected','reason','now','2cxHGAY','Started...','analysis.lastResult','Skipped\x20(No\x20AI\x20or\x20Data)','Digest','LTM.driftAnalysis.driftDetails','Skipped\x20(Traffic)','\x20=\x20','.\x20EMERGENCY:\x20','ðŸ¤–\x20Butler\x20Cache\x20Hit:\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','constructor','LTM.processingStatus','val','N/A\x20(Learning)','activityLevel','stringify','Maximaler\x20Komfort,\x20Energie\x20ist\x20zweitrangig.','\x0a\x20\x20\x20\x20ROLLE:\x20Haus-Butler.\x0a\x20\x20\x20\x20SITUATION:\x20','555990ubogTP','2947203EpNvMW','@google/generative-ai','decision','analysis.automation.description','parse','unshift','toISOString','currentSystemMode','normal','geminiModel','.\x20EVENTS:\x20','timestamp','log','Entscheide\x20ausgewogen\x20zwischen\x20Komfort\x20und\x20Energie.'];a0_0x5e6a=function(){return _0x5305f1;};return a0_0x5e6a();}async function getWeatherContext(_0x3ecb6e){const _0x40eded=a0_0x31f482;if(!_0x3ecb6e[_0x40eded(0xe0)][_0x40eded(0xdc)]||!_0x3ecb6e[_0x40eded(0xe0)]['weatherInstance'])return _0x40eded(0xc8);try{const _0x1bd443=_0x3ecb6e['config']['weatherInstance'];let _0x3262ec=await _0x3ecb6e[_0x40eded(0x10d)](_0x1bd443+'.Current.Temperature');if(!_0x3262ec)_0x3262ec=await _0x3ecb6e['getForeignStateAsync'](_0x1bd443+_0x40eded(0x122));let _0x303d46=await _0x3ecb6e[_0x40eded(0x10d)](_0x1bd443+_0x40eded(0x116));if(!_0x303d46)_0x303d46=await _0x3ecb6e[_0x40eded(0x10d)](_0x1bd443+_0x40eded(0xf3));let _0x5122fc=_0x40eded(0xed);const _0x12d204=await _0x3ecb6e[_0x40eded(0x10d)](_0x1bd443+_0x40eded(0xdd));if(_0x12d204)_0x5122fc=_0x12d204[_0x40eded(0x133)]?_0x40eded(0xfa):_0x40eded(0xd0);if(_0x3262ec&&_0x303d46)return _0x3262ec['val']+'Â°C,\x20'+_0x303d46['val']+_0x40eded(0xd9)+_0x5122fc;}catch(_0x494bd0){}return _0x40eded(0x101);}async function consultButler(_0x2c4520,_0x2772b9,_0x8863bd,_0x3d7cf3){const _0x33b741=a0_0x31f482;if(!_0x2c4520['geminiModel'])return{'approved':!![],'reason':_0x33b741(0x11c)};const _0x57f2a3=Date['now']();if(decisionCache[_0x2772b9]&&_0x57f2a3-decisionCache[_0x2772b9][_0x33b741(0x145)]<CACHE_TTL_MS){const _0x524179=decisionCache[_0x2772b9][_0x33b741(0x13c)];return _0x2c4520['log'][_0x33b741(0x14f)](_0x33b741(0x12f)+_0x2772b9+_0x33b741(0xf6)+(_0x524179['approved']?'OK':'NO')+'\x20('+_0x524179[_0x33b741(0x124)]+')'),_0x524179;}if(!canCallApi())return _0x2c4520[_0x33b741(0x146)]['debug'](_0x33b741(0xcd)+_0x2772b9+_0x33b741(0xca)),{'approved':!![],'reason':_0x33b741(0xf2)};const _0x50fbf2=new Date()[_0x33b741(0x112)](),_0x5a490a=await getWeatherContext(_0x2c4520),_0x3cbde9=PERSONA_MAPPING[_0x2c4520[_0x33b741(0xe0)][_0x33b741(0x14b)]||_0x33b741(0xf8)],_0x202495=_0x33b741(0x138)+_0x50fbf2+_0x33b741(0xe8)+_0x5a490a+_0x33b741(0x121)+(_0x3d7cf3*0x64)['toFixed'](0x0)+_0x33b741(0xd7)+_0x2772b9+'\x22.\x0a\x20\x20\x20\x20AKTION:\x20Schalte\x20\x22'+_0x8863bd+'\x22\x20AN.\x0a\x20\x20\x20\x20STRATEGIE:\x20'+_0x3cbde9+_0x33b741(0xd8);try{updateApiTimestamp();const _0x5a8439=await _0x2c4520['geminiModel'][_0x33b741(0xc7)](_0x202495),_0x28ed85=_0x5a8439[_0x33b741(0xd5)][_0x33b741(0x150)]()['replace'](/```json|```/g,'')[_0x33b741(0x10b)](),_0x1d782c=JSON['parse'](_0x28ed85);return decisionCache[_0x2772b9]={'decision':_0x1d782c,'timestamp':_0x57f2a3},_0x1d782c;}catch(_0x4105bd){return _0x2c4520['log']['warn'](_0x33b741(0xcc)+_0x4105bd['message']),decisionCache[_0x2772b9]={'decision':{'approved':!![],'reason':_0x33b741(0x106)},'timestamp':_0x57f2a3-(CACHE_TTL_MS-0xea60)},{'approved':!![],'reason':'KI-Fehler\x20(Fallback)'};}}async function runGeminiAnalysis(_0x35a46,_0x37592c=''){const _0x15fdbf=a0_0x31f482;if(!_0x35a46[_0x15fdbf(0x143)])return;if(!canCallApi()){_0x35a46[_0x15fdbf(0x146)][_0x15fdbf(0x14f)](_0x15fdbf(0x110));return;}if(_0x35a46['eventHistory'][_0x15fdbf(0xd1)]===0x0)return;const _0x2086bb=_0x35a46[_0x15fdbf(0xef)]['slice'](0x0,0xf),_0x38c807=_0x35a46[_0x15fdbf(0x141)],_0x307fdc=PERSONA_MAPPING[_0x35a46[_0x15fdbf(0xe0)][_0x15fdbf(0x14b)]||_0x15fdbf(0xf8)],_0x315cca=_0x35a46[_0x15fdbf(0xe0)]['livingContext']||_0x15fdbf(0xe5);let _0x572e5a=_0x15fdbf(0xed);try{const _0x1493db=await _0x35a46[_0x15fdbf(0xf1)]('system.presenceWho');if(_0x1493db&&_0x1493db[_0x15fdbf(0x133)])_0x572e5a=_0x1493db[_0x15fdbf(0x133)];}catch(_0x57762b){}let _0x28f5cb=![];try{const _0x454d15=await _0x35a46[_0x15fdbf(0xf1)](_0x15fdbf(0xfb));if(_0x454d15&&_0x454d15['val'])_0x28f5cb=!![];}catch(_0x162435){}const _0x2d1e77=_0x15fdbf(0xdb)+_0x307fdc+_0x15fdbf(0x10c)+_0x315cca+'.\x20SYSTEM_MODE:\x20'+_0x38c807+_0x15fdbf(0xe6)+_0x572e5a+_0x15fdbf(0x144)+JSON[_0x15fdbf(0x136)](_0x2086bb)+_0x15fdbf(0x12e)+_0x37592c+_0x15fdbf(0x14d);try{updateApiTimestamp();const _0x1ee115=await _0x35a46['geminiModel'][_0x15fdbf(0xc7)](_0x2d1e77),_0x1cbc2d=JSON[_0x15fdbf(0x13e)](_0x1ee115[_0x15fdbf(0xd5)][_0x15fdbf(0x150)]()['replace'](/```json|```/g,'')[_0x15fdbf(0x10b)]());await _0x35a46[_0x15fdbf(0xce)](_0x15fdbf(0x128),{'val':JSON['stringify'](_0x1cbc2d),'ack':!![]});if(_0x1cbc2d['summary'])await _0x35a46[_0x15fdbf(0xce)](_0x15fdbf(0x103),{'val':_0x1cbc2d[_0x15fdbf(0x104)],'ack':!![]});const _0x40016d={'timestamp':Date['now'](),'id':Date[_0x15fdbf(0x125)]()[_0x15fdbf(0x117)](),'analysis':{'activity':{'summary':_0x1cbc2d['summary'],'isAlert':_0x1cbc2d[_0x15fdbf(0xda)],'alertReason':_0x1cbc2d[_0x15fdbf(0x14e)]},'comfort':{'automationProposal':_0x1cbc2d[_0x15fdbf(0xea)]}}};_0x35a46[_0x15fdbf(0x113)][_0x15fdbf(0x13f)](_0x40016d);if(_0x35a46[_0x15fdbf(0x113)][_0x15fdbf(0xd1)]>0x32)_0x35a46[_0x15fdbf(0x113)][_0x15fdbf(0xec)]();await _0x35a46[_0x15fdbf(0xce)](_0x15fdbf(0x10f),{'val':JSON[_0x15fdbf(0x136)](_0x35a46[_0x15fdbf(0x113)]),'ack':!![]});const _0x58a34f=_0x1cbc2d[_0x15fdbf(0xda)]||![];_0x58a34f!==_0x35a46[_0x15fdbf(0xf9)]&&(await _0x35a46[_0x15fdbf(0xce)]('analysis.isAlert',{'val':_0x58a34f,'ack':!![]}),_0x35a46[_0x15fdbf(0xf9)]=_0x58a34f,_0x58a34f&&(await _0x35a46['setStateAsync'](_0x15fdbf(0xfd),{'val':_0x1cbc2d['alertReason'],'ack':!![]}),setup[_0x15fdbf(0xe1)](_0x35a46,_0x15fdbf(0xf0)+_0x1cbc2d[_0x15fdbf(0x14e)],![],_0x1cbc2d[_0x15fdbf(0xe7)])));if(_0x1cbc2d[_0x15fdbf(0xea)]&&_0x1cbc2d[_0x15fdbf(0xea)][_0x15fdbf(0x123)]){await _0x35a46['setStateAsync'](_0x15fdbf(0xcb),{'val':!![],'ack':!![]}),await _0x35a46[_0x15fdbf(0xce)](_0x15fdbf(0x13d),{'val':_0x1cbc2d[_0x15fdbf(0xea)]['description'],'ack':!![]}),await _0x35a46['setStateAsync'](_0x15fdbf(0x149),{'val':_0x1cbc2d[_0x15fdbf(0xea)][_0x15fdbf(0x108)],'ack':!![]}),await _0x35a46[_0x15fdbf(0xce)]('analysis.automation.targetValue',{'val':JSON[_0x15fdbf(0x136)](_0x1cbc2d['automationProposal'][_0x15fdbf(0x11f)]),'ack':!![]});if(_0x28f5cb)executeAutomationAction(_0x35a46);}}catch(_0x3af7b5){_0x35a46[_0x15fdbf(0x146)]['error'](_0x15fdbf(0x100)+_0x3af7b5['message']);}}async function createDailyDigest(_0x3cdf04,_0x36e6ae){const _0x57c11f=a0_0x31f482;if(!_0x3cdf04[_0x57c11f(0xdf)])return;if(!canCallApi()){await _0x3cdf04[_0x57c11f(0xce)](LTM_DP_STATUS,{'val':_0x57c11f(0x12c),'ack':!![]});return;}await _0x3cdf04['setStateAsync'](LTM_DP_STATUS,{'val':_0x57c11f(0x127),'ack':!![]});if(!_0x3cdf04[_0x57c11f(0x143)]||_0x3cdf04['rawEventLog']['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x3cdf04[_0x57c11f(0xce)](LTM_DP_STATUS,{'val':_0x57c11f(0x129),'ack':!![]});return;}const _0x30734d=JSON[_0x57c11f(0x13e)](JSON[_0x57c11f(0x136)](_0x3cdf04[_0x57c11f(0x107)])),_0x374a63=_0x30734d[_0x57c11f(0xd1)],_0x1fc1e2='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x57c11f(0x136)](_0x30734d);try{updateApiTimestamp();const _0x7df777=await _0x3cdf04[_0x57c11f(0x143)]['generateContent'](_0x1fc1e2),_0x3eb9d1=JSON['parse'](_0x7df777[_0x57c11f(0xd5)][_0x57c11f(0x150)]()['replace'](/```json|```/g,'')[_0x57c11f(0x10b)]()),_0x20acc2={'timestamp':new Date()[_0x57c11f(0x140)](),'eventCount':_0x374a63,'summary':_0x3eb9d1['summary']||_0x57c11f(0x12a),'activityLevel':_0x3eb9d1[_0x57c11f(0x135)]||_0x57c11f(0x142),'systemMode':_0x3cdf04[_0x57c11f(0x141)]};_0x3cdf04[_0x57c11f(0xcf)][_0x57c11f(0x14a)](_0x20acc2);const _0x5cba36=_0x3cdf04[_0x57c11f(0xe0)][_0x57c11f(0xc6)]||0x3c;_0x3cdf04[_0x57c11f(0xcf)]['length']>_0x5cba36&&_0x3cdf04['dailyDigests'][_0x57c11f(0xeb)](0x0,_0x3cdf04[_0x57c11f(0xcf)][_0x57c11f(0xd1)]-_0x5cba36);await _0x3cdf04[_0x57c11f(0xce)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x57c11f(0x136)](_0x3cdf04[_0x57c11f(0xcf)]),'ack':!![]}),_0x3cdf04[_0x57c11f(0x107)]=[],await _0x3cdf04[_0x57c11f(0xce)](LTM_DP_RAW_LOG,{'val':JSON[_0x57c11f(0x136)](_0x3cdf04[_0x57c11f(0x107)]),'ack':!![]}),await _0x3cdf04[_0x57c11f(0xce)](LTM_DP_STATUS,{'val':_0x57c11f(0xf7),'ack':!![]});const _0x1e7bad='ðŸ“…\x20Daily\x20Digest:\x0a'+_0x3eb9d1['summary']+_0x57c11f(0x114)+_0x3eb9d1[_0x57c11f(0x135)];setup['sendNotification'](_0x3cdf04,_0x1e7bad,![],![]);if(_0x3cdf04[_0x57c11f(0xdf)]&&_0x36e6ae)_0x36e6ae['send'](_0x3cdf04,_0x57c11f(0xe2),{'digest':_0x20acc2});}catch(_0x524c31){_0x3cdf04[_0x57c11f(0x146)][_0x57c11f(0x115)](_0x524c31[_0x57c11f(0xff)]);}}async function runBaselineDriftAnalysis(_0x1ec3dd){const _0x451fc9=a0_0x31f482;if(!_0x1ec3dd[_0x451fc9(0xdf)]||!_0x1ec3dd[_0x451fc9(0x143)])return;if(!canCallApi())return;const _0x451a60=_0x1ec3dd[_0x451fc9(0xe0)][_0x451fc9(0xc9)]||0xe;if(_0x1ec3dd['dailyDigests'][_0x451fc9(0xd1)]<_0x451a60+0x7){await _0x1ec3dd[_0x451fc9(0xce)]('LTM.driftAnalysis.baselineDrift',{'val':_0x451fc9(0x134),'ack':!![]});return;}const _0x4fe4ce=_0x1ec3dd[_0x451fc9(0xcf)][_0x451fc9(0x118)](-_0x451a60),_0x34038e=_0x1ec3dd[_0x451fc9(0xcf)][_0x451fc9(0x118)](0x0,_0x1ec3dd[_0x451fc9(0xcf)][_0x451fc9(0xd1)]-_0x451a60),_0x36e052=_0x451fc9(0x130)+JSON[_0x451fc9(0x136)](_0x34038e)+'\x0aSTB:\x20'+JSON[_0x451fc9(0x136)](_0x4fe4ce);try{updateApiTimestamp();const _0x2f5ea5=await _0x1ec3dd[_0x451fc9(0x143)][_0x451fc9(0xc7)](_0x36e052),_0x3f73b3=JSON[_0x451fc9(0x13e)](_0x2f5ea5['response'][_0x451fc9(0x150)]()[_0x451fc9(0xd2)](/```json|```/g,'')[_0x451fc9(0x10b)]());_0x3f73b3[_0x451fc9(0xfe)]&&(await _0x1ec3dd[_0x451fc9(0xce)](_0x451fc9(0x11d),{'val':_0x3f73b3[_0x451fc9(0xfe)],'ack':!![]}),await _0x1ec3dd['setStateAsync'](_0x451fc9(0x12b),{'val':_0x3f73b3[_0x451fc9(0x119)],'ack':!![]}),await _0x1ec3dd[_0x451fc9(0xce)](_0x451fc9(0xd3),{'val':Date[_0x451fc9(0x125)](),'ack':!![]}));}catch(_0x5de280){}}async function executeAutomationAction(_0x33f0c5){const _0x312e95=a0_0x31f482;try{const _0x2892c2=await _0x33f0c5[_0x312e95(0xf1)](_0x312e95(0x149)),_0x45abde=await _0x33f0c5[_0x312e95(0xf1)](_0x312e95(0x109));if(_0x2892c2&&_0x2892c2[_0x312e95(0x133)]&&_0x45abde){const _0x5d1c6e=_0x2892c2[_0x312e95(0x133)];let _0x56d172=_0x45abde['val'];try{_0x56d172=JSON[_0x312e95(0x13e)](_0x56d172);}catch(_0x278bf0){}_0x33f0c5['log']['info'](_0x312e95(0xf5)+_0x5d1c6e+_0x312e95(0x12d)+_0x56d172),await _0x33f0c5[_0x312e95(0x10a)](_0x5d1c6e,_0x56d172);}else _0x33f0c5[_0x312e95(0x146)][_0x312e95(0x105)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x12f52d){_0x33f0c5[_0x312e95(0x146)][_0x312e95(0x115)](_0x312e95(0x111)+_0x12f52d[_0x312e95(0xff)]);}}async function sendMorningBriefing(_0x56c632){const _0x341651=a0_0x31f482;if(!_0x56c632[_0x341651(0x143)])return;if(!canCallApi())return;try{updateApiTimestamp();const _0x40cd08=_0x341651(0x14c),_0x4330a4=await _0x56c632[_0x341651(0x143)][_0x341651(0xc7)](_0x40cd08),_0x933598=_0x4330a4[_0x341651(0xd5)]['text']();setup[_0x341651(0xe1)](_0x56c632,_0x341651(0xd4)+_0x933598);}catch(_0x398dcb){_0x56c632[_0x341651(0x146)][_0x341651(0x115)](_0x341651(0x11a)+_0x398dcb['message']);}}module[a0_0x31f482(0x11e)]={'executeAutomationAction':executeAutomationAction,'createDailyDigest':createDailyDigest,'runBaselineDriftAnalysis':runBaselineDriftAnalysis,'sendMorningBriefing':sendMorningBriefing,'runGeminiAnalysis':runGeminiAnalysis,'consultButler':consultButler};