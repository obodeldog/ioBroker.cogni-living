const a1_0x2a1229=a1_0x566b;(function(_0x187785,_0x4731f6){const _0xfa623a=a1_0x566b,_0x2eb430=_0x187785();while(!![]){try{const _0x266ebf=parseInt(_0xfa623a(0x24c))/0x1*(parseInt(_0xfa623a(0x1df))/0x2)+parseInt(_0xfa623a(0x21e))/0x3*(parseInt(_0xfa623a(0x1e9))/0x4)+-parseInt(_0xfa623a(0x254))/0x5+-parseInt(_0xfa623a(0x256))/0x6+-parseInt(_0xfa623a(0x211))/0x7+-parseInt(_0xfa623a(0x1a4))/0x8*(parseInt(_0xfa623a(0x1fe))/0x9)+parseInt(_0xfa623a(0x205))/0xa;if(_0x266ebf===_0x4731f6)break;else _0x2eb430['push'](_0x2eb430['shift']());}catch(_0x278573){_0x2eb430['push'](_0x2eb430['shift']());}}}(a1_0x36b1,0x6c46d));function a1_0x36b1(){const _0x1753d4=['ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','hm-rpc','sort','slice','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','1017585PEwsUy','analysis.automation.lastAction','429714HageCA','analysis.automation.confidenceThreshold','\x20gefunden!','dimmer','.1.LEVEL','info','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','analysis.energy.ventilationAlerts','default','\x20wurde\x20manuell\x20erhÃ¶ht.','\x20auf\x20','devices','warn','Â°C\x20(nicht\x20','.4.SET_TEMPERATURE','switch','.1.TEMPERATURE','window','18024JqmcXA','now','Unbekannt','(((.+)+)+)+$','Â°C\x20(Vorlauf:\x20','exports','soll','valveMapping','open','getHours','analysis.energy.warmupTargets','Â°C.',']:\x20Raum-Trigger\x20\x27','normal','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','\x27\x20(Match:\x20','messwert','ankunft','analysis.energy.warmupTimes','./ai_agent','Calendar\x20Check\x20Error:\x20','urlaub\x20ende','room','active','config','ist','\x20ist\x20auf\x20','[MPC]\x20','getForeignObjectsAsync','triggerTime','sensor','split','level.valve','SET','entries','add','calendarSelection','abs','\x20->\x20Schalte\x20',')\x20aktiv.\x20Heize\x20auf\x20','valve_position','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','getTime','ðŸ“…\x20[MPC\x20INFO]\x20','\x20erreicht\x20Limit\x20(','string','analysis.energy.schedulePreview','thermostat','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','eventStart','ACTUAL','score','current_heating_setpoint','PERFECT','occupied_heating_setpoint','includes','value.valve','from','findIndex','4XVePiR','target','contact','[WATCHDOG]\x20','Â°C!\x20(Puffer:\x20','minutes_safe','manual','useCalendar','role','\x20min).','332jeolnm','log','set','setStateAsync','unit','thermostat.setpoint','replace','analysis.energy.rlPenalties','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','push','thermostatMapping','\x20min)','_calName','setForeignStateAsync','length','\x20->\x20','reason','level','analysis.energy.warmupSources','getStateAsync','number','3195EpHvVN','ðŸ§¹\x20[MPC\x20CLEANUP]\x20','.1.SET_POINT_TEMPERATURE','Soll','temp','SET_POINT_TEMPERATURE','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','203790UnTRmr','actual','system.mode','Fehlt','.1.ACTUAL_TEMPERATURE','search','stringify','openknx','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','common','getForeignStateAsync','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','986510esSLAX','approved','rescue_','toString','PrÃ¤diktion:\x20','Classic','until','parse','error','sendToPythonWrapper','summary','toLowerCase','_meta','29307vhljIp','light','TRAIN_RL_PENALTY','mpc_','indexOf','type','setpoint','date','map','location','filter','wert','cal_','values','join','find','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','message','isArray','.data.table','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','local_temperature','pi_heating_demand','analysis.energy.mpcActiveInterventions','Ist',':\x20Aufheizen\x20auf\x20','remove','event','analysis.energy.activeEnforcements','splice','temperature','analysis.automation.mode',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','ðŸ“…\x20SMART\x20SCHEDULE\x20[','rÃ¼ckkehr','currentSystemMode','Â°C!\x20(Puffer\x20leer).','analysis.automation.actionLog','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','forEach','too_cold','name','val','valve','Â°C\x20(via\x20','off','414088hiGTuQ','ACTUAL_TEMPERATURE','calendarInstance'];a1_0x36b1=function(){return _0x1753d4;};return a1_0x36b1();}const a1_0x4126c0=(function(){let _0x440320=!![];return function(_0x2600dc,_0x24468e){const _0x475506=_0x440320?function(){if(_0x24468e){const _0x3e8d29=_0x24468e['apply'](_0x2600dc,arguments);return _0x24468e=null,_0x3e8d29;}}:function(){};return _0x440320=![],_0x475506;};}()),a1_0x15b88c=a1_0x4126c0(this,function(){const _0x1b132f=a1_0x566b;return a1_0x15b88c[_0x1b132f(0x214)]()[_0x1b132f(0x20a)](_0x1b132f(0x1a7))[_0x1b132f(0x214)]()['constructor'](a1_0x15b88c)[_0x1b132f(0x20a)](_0x1b132f(0x1a7));});a1_0x15b88c();'use strict';const aiAgent=require(a1_0x2a1229(0x1b7)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x1e69a1){const _0x4fbb1c=a1_0x2a1229;if(!_0x1e69a1)return'';return _0x1e69a1[_0x4fbb1c(0x21c)]()[_0x4fbb1c(0x1ef)](/\s+/g,'')['trim']();}async function logAutomationAction(_0x2c1d08,_0x3727ec){const _0x390cfa=a1_0x2a1229;await _0x2c1d08[_0x390cfa(0x1ec)](_0x390cfa(0x255),{'val':_0x3727ec,'ack':!![]});try{const _0xed6afb=_0x390cfa(0x243),_0x3aa920=await _0x2c1d08['getStateAsync'](_0xed6afb);let _0x53de39=[];if(_0x3aa920&&_0x3aa920['val'])try{_0x53de39=JSON[_0x390cfa(0x218)](_0x3aa920[_0x390cfa(0x248)]);}catch(_0x5e93b1){}_0x53de39['unshift']({'ts':Date[_0x390cfa(0x1a5)](),'msg':_0x3727ec});if(_0x53de39[_0x390cfa(0x1f7)]>0x32)_0x53de39=_0x53de39['slice'](0x0,0x32);await _0x2c1d08[_0x390cfa(0x1ec)](_0xed6afb,{'val':JSON[_0x390cfa(0x20b)](_0x53de39),'ack':!![]});}catch(_0x400be8){}}async function handlePrediction(_0x5d1449,_0x1722dd,_0x1cede1){const _0x588ea4=a1_0x2a1229;if(!_0x1722dd||_0x1722dd==='Unknown')return;let _0x231d16='off',_0x575d85=0.6;try{const _0x542a79=await _0x5d1449[_0x588ea4(0x1fc)](_0x588ea4(0x23d));if(_0x542a79&&_0x542a79[_0x588ea4(0x248)])_0x231d16=_0x542a79[_0x588ea4(0x248)];const _0x5d5936=await _0x5d1449[_0x588ea4(0x1fc)](_0x588ea4(0x257));if(_0x5d5936&&_0x5d5936[_0x588ea4(0x248)])_0x575d85=_0x5d5936[_0x588ea4(0x248)];}catch(_0x42645a){}if(_0x231d16===_0x588ea4(0x24b)||_0x1cede1<_0x575d85)return;const _0x1470f1=Date['now']();if(lastActions[_0x1722dd]&&_0x1470f1-lastActions[_0x1722dd]<COOLDOWN_MS)return;const _0x22ff8b=_0x5d1449['config']['devices']||[],_0x1fa62e=normalize(_0x1722dd),_0x3b026b=_0x22ff8b['find'](_0x1545db=>normalize(_0x1545db[_0x588ea4(0x227)])===_0x1fa62e&&(_0x1545db[_0x588ea4(0x223)]===_0x588ea4(0x21f)||_0x1545db['type']===_0x588ea4(0x259)||_0x1545db['type']===_0x588ea4(0x1a1)));if(!_0x3b026b)return;const _0x5cb625=await aiAgent['consultButler'](_0x5d1449,_0x1722dd,_0x3b026b['name'],_0x1cede1);if(!_0x5cb625[_0x588ea4(0x212)])return;const _0xa6c9c1=_0x588ea4(0x215)+_0x1722dd+_0x588ea4(0x1ca)+_0x3b026b['name']+'\x20('+_0x5cb625[_0x588ea4(0x1f9)]+')';await logAutomationAction(_0x5d1449,'['+_0x231d16['toUpperCase']()+']\x20'+_0xa6c9c1);if(_0x231d16===_0x588ea4(0x1bb)){const _0x527711=await _0x5d1449[_0x588ea4(0x20f)](_0x3b026b['id']);(!_0x527711||!_0x527711[_0x588ea4(0x248)]&&_0x527711[_0x588ea4(0x248)]!==!![])&&await _0x5d1449[_0x588ea4(0x1f6)](_0x3b026b['id'],!![]),lastActions[_0x1722dd]=_0x1470f1;}}async function findRelatedId(_0x4c11aa,_0x401dae,_0xf0ec65='setpoint'){const _0x2a9f17=a1_0x2a1229;if(_0xf0ec65===_0x2a9f17(0x224)&&_0x4c11aa['config'][_0x2a9f17(0x1f3)]){let _0x439b5b=_0x4c11aa[_0x2a9f17(0x1bc)][_0x2a9f17(0x1f3)];if(typeof _0x439b5b===_0x2a9f17(0x1d1))try{_0x439b5b=JSON['parse'](_0x439b5b);}catch(_0x50ecd4){}if(_0x439b5b&&_0x439b5b[_0x401dae])return _0x439b5b[_0x401dae];}if(_0xf0ec65===_0x2a9f17(0x249)&&_0x4c11aa[_0x2a9f17(0x1bc)][_0x2a9f17(0x1ab)]){let _0x237f36=_0x4c11aa[_0x2a9f17(0x1bc)][_0x2a9f17(0x1ab)];if(typeof _0x237f36===_0x2a9f17(0x1d1))try{_0x237f36=JSON[_0x2a9f17(0x218)](_0x237f36);}catch(_0x24f909){}if(_0x237f36&&_0x237f36[_0x401dae])return _0x237f36[_0x401dae];}let _0xb4536d=[];if(_0xf0ec65===_0x2a9f17(0x224))_0xb4536d=[{'s':_0x2a9f17(0x209),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x2a9f17(0x1a2),'t':_0x2a9f17(0x200)},{'s':_0x2a9f17(0x1a2),'t':_0x2a9f17(0x1a0)},{'s':_0x2a9f17(0x24d),'t':_0x2a9f17(0x203)},{'s':_0x2a9f17(0x233),'t':_0x2a9f17(0x1da)},{'s':_0x2a9f17(0x233),'t':_0x2a9f17(0x1d8)},{'s':_0x2a9f17(0x23c),'t':'target_temperature'},{'s':_0x2a9f17(0x1d6),'t':_0x2a9f17(0x1c5)},{'s':_0x2a9f17(0x236),'t':_0x2a9f17(0x201)},{'s':'temperature','t':_0x2a9f17(0x224)}];else _0xf0ec65===_0x2a9f17(0x249)&&(_0xb4536d=[{'s':_0x2a9f17(0x209),'t':'.1.LEVEL'},{'s':_0x2a9f17(0x1a2),'t':_0x2a9f17(0x25a)},{'s':_0x2a9f17(0x1a2),'t':'.4.VALVE_STATE'},{'s':_0x2a9f17(0x233),'t':_0x2a9f17(0x234)},{'s':'temperature','t':_0x2a9f17(0x1cc)},{'s':_0x2a9f17(0x23c),'t':_0x2a9f17(0x1fa)}]);for(const _0x58504e of _0xb4536d){if(_0x401dae[_0x2a9f17(0x1db)](_0x58504e['s'])){const _0x1b1985=_0x401dae[_0x2a9f17(0x1ef)](_0x58504e['s'],_0x58504e['t']),_0xfe0ca7=await _0x4c11aa['getForeignObjectAsync'](_0x1b1985);if(_0xfe0ca7)return _0x1b1985;}}try{const _0x120c9f=_0x401dae[_0x2a9f17(0x1c3)]('.');if(_0x120c9f[_0x2a9f17(0x1f7)]>0x2){const _0x729c6b=_0x120c9f[_0x2a9f17(0x252)](0x0,-0x1)[_0x2a9f17(0x22c)]('.'),_0x1957e9=await _0x4c11aa[_0x2a9f17(0x1c0)](_0x729c6b+'.*'),_0x25b2ff=[],_0x1b25b2=_0x401dae[_0x2a9f17(0x1c3)](/[._]+/)[_0x2a9f17(0x228)](_0x3ff6d1=>![_0x2a9f17(0x20c),'0',_0x2a9f17(0x250),_0x2a9f17(0x1bd),_0x2a9f17(0x229),_0x2a9f17(0x23c),_0x2a9f17(0x206),_0x2a9f17(0x1c2),_0x2a9f17(0x1b4),'state'][_0x2a9f17(0x1db)](_0x3ff6d1[_0x2a9f17(0x21c)]()));for(const [_0x507b99,_0x2d962f]of Object['entries'](_0x1957e9)){if(_0x507b99===_0x401dae)continue;if(_0x2d962f&&_0x2d962f[_0x2a9f17(0x20e)]){const _0x2404b1=_0x507b99[_0x2a9f17(0x21c)](),_0x2dec2c=(_0x2d962f[_0x2a9f17(0x20e)][_0x2a9f17(0x1e7)]||'')[_0x2a9f17(0x21c)](),_0x43dfef=(_0x2d962f['common'][_0x2a9f17(0x1ed)]||'')[_0x2a9f17(0x21c)]();let _0x45d591=![];if(_0xf0ec65===_0x2a9f17(0x224)&&_0x2d962f[_0x2a9f17(0x20e)]['write']===!![])_0x45d591=_0x2404b1[_0x2a9f17(0x1db)](_0x2a9f17(0x1eb))||_0x2404b1[_0x2a9f17(0x1db)](_0x2a9f17(0x1aa))||_0x2404b1[_0x2a9f17(0x1db)](_0x2a9f17(0x1e0))||_0x2dec2c[_0x2a9f17(0x1db)]('level.temperature')||_0x2dec2c['includes'](_0x2a9f17(0x1ee));else _0xf0ec65==='valve'&&(_0x45d591=_0x2404b1[_0x2a9f17(0x1db)](_0x2a9f17(0x1fa))||_0x2404b1[_0x2a9f17(0x1db)](_0x2a9f17(0x249))||_0x2404b1[_0x2a9f17(0x1db)]('stellwert')||_0x2404b1[_0x2a9f17(0x1db)]('position')||_0x2dec2c[_0x2a9f17(0x1db)](_0x2a9f17(0x1c4))||_0x2dec2c[_0x2a9f17(0x1db)](_0x2a9f17(0x1dc))||_0x43dfef[_0x2a9f17(0x1db)]('%'));if(_0x45d591){const _0x42726a=_0x507b99[_0x2a9f17(0x1c3)](/[._]+/)[_0x2a9f17(0x226)](_0x6226c3=>_0x6226c3['toLowerCase']());let _0x260ab2=0x0;_0x1b25b2[_0x2a9f17(0x245)](_0x13272f=>{const _0x3384c5=_0x2a9f17;if(_0x42726a[_0x3384c5(0x1db)](_0x13272f[_0x3384c5(0x21c)]()))_0x260ab2++;}),_0x25b2ff['push']({'id':_0x507b99,'score':_0x260ab2});}}}if(_0x25b2ff[_0x2a9f17(0x1f7)]>0x0){_0x25b2ff[_0x2a9f17(0x251)]((_0x19e1cf,_0x171d7d)=>_0x171d7d[_0x2a9f17(0x1d7)]-_0x19e1cf[_0x2a9f17(0x1d7)]);if(_0x25b2ff[0x0][_0x2a9f17(0x1d7)]>0x0)return _0x25b2ff[0x0]['id'];}}}catch(_0x3ce81c){}return null;}async function scanThermostats(_0x49771f){const _0x4583bb=a1_0x2a1229,_0x97fc01=_0x49771f[_0x4583bb(0x1bc)][_0x4583bb(0x19d)]||[],_0x3dee1b=[],_0x245ff8=_0x97fc01['filter'](_0x53a7f0=>_0x53a7f0['id']&&_0x53a7f0['id'][_0x4583bb(0x1db)](_0x4583bb(0x23c))||_0x53a7f0[_0x4583bb(0x223)]&&[_0x4583bb(0x23c),_0x4583bb(0x1d3),'sensor'][_0x4583bb(0x1db)](_0x53a7f0[_0x4583bb(0x223)])||_0x53a7f0[_0x4583bb(0x247)]&&_0x53a7f0[_0x4583bb(0x247)]['toLowerCase']()[_0x4583bb(0x1db)](_0x4583bb(0x202)));for(const _0x473614 of _0x245ff8){const _0xa6b21=await findRelatedId(_0x49771f,_0x473614['id'],_0x4583bb(0x224)),_0x372d6c=await findRelatedId(_0x49771f,_0x473614['id'],_0x4583bb(0x249));let _0x3a3945='Nicht\x20gefunden',_0x257b99=![],_0x2568e9=_0x49771f[_0x4583bb(0x1bc)][_0x4583bb(0x1f3)]||{};if(typeof _0x2568e9==='string')try{_0x2568e9=JSON[_0x4583bb(0x218)](_0x2568e9);}catch(_0x59f7da){}let _0x303b09=_0x49771f['config'][_0x4583bb(0x1ab)]||{};if(typeof _0x303b09===_0x4583bb(0x1d1))try{_0x303b09=JSON[_0x4583bb(0x218)](_0x303b09);}catch(_0x11c1d5){}if(_0x2568e9[_0x473614['id']]&&_0x2568e9[_0x473614['id']]===_0xa6b21||_0x303b09[_0x473614['id']]&&_0x303b09[_0x473614['id']]===_0x372d6c)_0x3a3945='Manuelles\x20Mapping',_0x257b99=!![];else(_0xa6b21||_0x372d6c)&&(_0x3a3945='Auto-Erkennung');_0x3dee1b[_0x4583bb(0x1f2)]({'room':_0x473614[_0x4583bb(0x227)]||_0x4583bb(0x1a6),'sensorId':_0x473614['id'],'setpointId':_0xa6b21||'-','valveId':_0x372d6c||'-','source':_0x3a3945,'isManual':_0x257b99,'status':_0xa6b21&&_0x372d6c?_0x4583bb(0x1d9):_0xa6b21?'OK':_0x4583bb(0x208)});}return _0x3dee1b[_0x4583bb(0x251)]((_0x3fa0a1,_0x28eda0)=>_0x3fa0a1[_0x4583bb(0x1ba)]['localeCompare'](_0x28eda0['room']));}async function updateSchedulePreview(_0x4bf203){const _0x16a552=a1_0x2a1229;if(!_0x4bf203['config']['useCalendar']||!_0x4bf203[_0x16a552(0x1bc)][_0x16a552(0x24e)])return;let _0x3b06ad={};try{const _0x487646=await _0x4bf203['getStateAsync']('analysis.energy.warmupTimes');if(_0x487646&&_0x487646[_0x16a552(0x248)])_0x3b06ad=JSON[_0x16a552(0x218)](_0x487646[_0x16a552(0x248)]);}catch(_0x8fd823){}const _0x31c59b=[],_0x569bff=Date['now'](),_0x184170=0x30*0x3c*0x3c*0x3e8;try{const _0x368eb6=await _0x4bf203[_0x16a552(0x20f)](_0x4bf203[_0x16a552(0x1bc)][_0x16a552(0x24e)]+_0x16a552(0x231));if(!_0x368eb6||!_0x368eb6['val'])return;const _0x44dc84=JSON[_0x16a552(0x218)](_0x368eb6[_0x16a552(0x248)]),_0x56df76=_0x4bf203[_0x16a552(0x1bc)][_0x16a552(0x1c8)]||[],_0x5e692a=_0x4bf203[_0x16a552(0x1bc)][_0x16a552(0x19d)]||[],_0x303185=new Set();_0x5e692a[_0x16a552(0x245)](_0x3dfec1=>{const _0x56cc9c=_0x16a552;if(_0x3dfec1['location'])_0x303185[_0x56cc9c(0x1c7)](_0x3dfec1[_0x56cc9c(0x227)]);});for(const _0x1e2ca1 of _0x44dc84){if(_0x1e2ca1[_0x16a552(0x1f5)]&&_0x56df76[_0x16a552(0x1f7)]>0x0&&!_0x56df76[_0x16a552(0x1db)](_0x1e2ca1[_0x16a552(0x1f5)]))continue;const _0x163e80=_0x1e2ca1['_date']||_0x1e2ca1[_0x16a552(0x1d5)]||_0x1e2ca1[_0x16a552(0x225)];if(!_0x163e80)continue;const _0x5ad23c=new Date(_0x163e80),_0x1bf6be=_0x5ad23c[_0x16a552(0x1ce)]();if(isNaN(_0x1bf6be))continue;if(_0x1bf6be<_0x569bff)continue;if(_0x1bf6be>_0x569bff+_0x184170)continue;const _0x43ca6c=(_0x1e2ca1['event']||_0x1e2ca1[_0x16a552(0x21b)]||'')[_0x16a552(0x21c)]();let _0x4afa35=![],_0x21d7bd=[],_0x2f458c=_0x1e2ca1[_0x16a552(0x239)]||_0x1e2ca1[_0x16a552(0x21b)]||_0x16a552(0x1a6);if(_0x43ca6c[_0x16a552(0x1db)](_0x16a552(0x1b9))||_0x43ca6c['includes'](_0x16a552(0x240))||_0x43ca6c[_0x16a552(0x1db)]('ankunft'))_0x4afa35=!![],_0x21d7bd=Array[_0x16a552(0x1dd)](_0x303185);else for(const _0x96e4e4 of _0x303185){if(_0x43ca6c[_0x16a552(0x1db)](_0x96e4e4[_0x16a552(0x21c)]()))_0x21d7bd[_0x16a552(0x1f2)](_0x96e4e4);}_0x21d7bd[_0x16a552(0x1f7)]>0x0&&_0x21d7bd[_0x16a552(0x245)](_0x3aa704=>{const _0x5dfbed=_0x16a552;let _0x529155=0x3c;if(_0x4afa35){let _0x39cd05=0x0;Object[_0x5dfbed(0x22b)](_0x3b06ad)['forEach'](_0x564984=>{if(_0x564984>_0x39cd05)_0x39cd05=_0x564984;}),_0x529155=_0x39cd05>0x0?_0x39cd05:0x78;}else _0x529155=_0x3b06ad[_0x3aa704]||0x3c;const _0x2f8e43=new Date(_0x1bf6be-_0x529155*0xea60);_0x31c59b['push']({'eventTime':_0x1bf6be,'triggerTime':_0x2f8e43[_0x5dfbed(0x1ce)](),'room':_0x3aa704,'minutes':_0x529155,'reason':_0x2f458c,'isGlobal':_0x4afa35});});}}catch(_0x492d72){}_0x31c59b[_0x16a552(0x251)]((_0x11dd7d,_0x456b53)=>_0x11dd7d[_0x16a552(0x1c1)]-_0x456b53['triggerTime']);const _0x160682=_0x31c59b['slice'](0x0,0x5);await _0x4bf203[_0x16a552(0x1ec)](_0x16a552(0x1d2),{'val':JSON[_0x16a552(0x20b)](_0x160682),'ack':!![]});}async function monitorEnforcements(_0x27a1e8){const _0xe1b07b=a1_0x2a1229;try{const _0x244aca=_0xe1b07b(0x23a),_0xc66e01=await _0x27a1e8[_0xe1b07b(0x1fc)](_0x244aca);if(!_0xc66e01||!_0xc66e01[_0xe1b07b(0x248)])return;let _0x2a59fc=[];try{_0x2a59fc=JSON[_0xe1b07b(0x218)](_0xc66e01[_0xe1b07b(0x248)]);}catch(_0x434fdc){return;}if(!Array[_0xe1b07b(0x230)](_0x2a59fc)||_0x2a59fc['length']===0x0)return;const _0x305fb5=Date['now'](),_0x27dd75=_0x27a1e8[_0xe1b07b(0x1bc)]['devices']||[];let _0x13d09e=![];for(let _0x54cf10=_0x2a59fc[_0xe1b07b(0x1f7)]-0x1;_0x54cf10>=0x0;_0x54cf10--){const _0x27d9af=_0x2a59fc[_0x54cf10];if(_0x305fb5>=_0x27d9af[_0xe1b07b(0x217)]){_0x27a1e8[_0xe1b07b(0x1ea)]['info'](_0xe1b07b(0x20d)+_0x27d9af[_0xe1b07b(0x1ba)]+'\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.'),_0x2a59fc[_0xe1b07b(0x23b)](_0x54cf10,0x1),_0x13d09e=!![];continue;}const _0x3a13b5=_0x27dd75[_0xe1b07b(0x22d)](_0x10ee89=>normalize(_0x10ee89[_0xe1b07b(0x227)])===normalize(_0x27d9af[_0xe1b07b(0x1ba)])&&(_0x10ee89[_0xe1b07b(0x223)]===_0xe1b07b(0x23c)||_0x10ee89['type']===_0xe1b07b(0x1d3)));if(_0x3a13b5){const _0x181b0d=await findRelatedId(_0x27a1e8,_0x3a13b5['id'],_0xe1b07b(0x224));if(_0x181b0d){const _0x209a16=await _0x27a1e8[_0xe1b07b(0x20f)](_0x181b0d);_0x209a16&&typeof _0x209a16[_0xe1b07b(0x248)]==='number'&&(_0x209a16['val']<0xf&&(_0x27a1e8[_0xe1b07b(0x1ea)]['warn'](_0xe1b07b(0x24f)+_0x27d9af[_0xe1b07b(0x1ba)]+_0xe1b07b(0x19c)+_0x209a16[_0xe1b07b(0x248)]+_0xe1b07b(0x1cd)+_0x27d9af[_0xe1b07b(0x1e0)]+_0xe1b07b(0x1af)),await _0x27a1e8['setForeignStateAsync'](_0x181b0d,_0x27d9af[_0xe1b07b(0x1e0)]),await logAutomationAction(_0x27a1e8,'[FORCE]\x20'+_0x27d9af[_0xe1b07b(0x1ba)]+':\x20'+_0x209a16[_0xe1b07b(0x248)]+'Â°C\x20->\x20'+_0x27d9af[_0xe1b07b(0x1e0)]+'Â°C\x20(Kalender-Schutz)')));}}}_0x13d09e&&await _0x27a1e8['setStateAsync'](_0x244aca,{'val':JSON[_0xe1b07b(0x20b)](_0x2a59fc),'ack':!![]});}catch(_0x4c2d7c){_0x27a1e8[_0xe1b07b(0x1ea)][_0xe1b07b(0x219)]('Enforcement\x20Monitor\x20Error:\x20'+_0x4c2d7c['message']);}}function a1_0x566b(_0x277c72,_0x2b5f24){const _0x52f3a5=a1_0x36b1();return a1_0x566b=function(_0x15b88c,_0x4126c0){_0x15b88c=_0x15b88c-0x19c;let _0x36b1d0=_0x52f3a5[_0x15b88c];return _0x36b1d0;},a1_0x566b(_0x277c72,_0x2b5f24);}async function checkCalendarTriggers(_0x5cbc3c){const _0x375901=a1_0x2a1229;if(!_0x5cbc3c[_0x375901(0x1bc)][_0x375901(0x1e6)]||!_0x5cbc3c[_0x375901(0x1bc)][_0x375901(0x24e)])return;await updateSchedulePreview(_0x5cbc3c);let _0x5b1d1={},_0x18c6b5={};try{const _0x2dd3ed=await _0x5cbc3c[_0x375901(0x1fc)](_0x375901(0x1b6));if(_0x2dd3ed&&_0x2dd3ed[_0x375901(0x248)])_0x5b1d1=JSON[_0x375901(0x218)](_0x2dd3ed[_0x375901(0x248)]);const _0x438a10=await _0x5cbc3c[_0x375901(0x1fc)](_0x375901(0x1fb));if(_0x438a10&&_0x438a10[_0x375901(0x248)])_0x18c6b5=JSON[_0x375901(0x218)](_0x438a10[_0x375901(0x248)]);}catch(_0x50d9ff){}let _0x7bd4a4={'default':0x15};try{const _0x1862ac=await _0x5cbc3c[_0x375901(0x1fc)](_0x375901(0x1ae));if(_0x1862ac&&_0x1862ac[_0x375901(0x248)])_0x7bd4a4=JSON[_0x375901(0x218)](_0x1862ac['val']);}catch(_0x11224a){}let _0x7c0d45=[];try{const _0x1920fd=await _0x5cbc3c[_0x375901(0x1fc)](_0x375901(0x23a));if(_0x1920fd&&_0x1920fd['val'])_0x7c0d45=JSON['parse'](_0x1920fd[_0x375901(0x248)]);}catch(_0x1a5b6f){}try{const _0x2eba2b=await _0x5cbc3c[_0x375901(0x20f)](_0x5cbc3c[_0x375901(0x1bc)][_0x375901(0x24e)]+'.data.table');if(!_0x2eba2b||!_0x2eba2b[_0x375901(0x248)])return;const _0x1ee882=JSON['parse'](_0x2eba2b[_0x375901(0x248)]),_0x5e1424=Date[_0x375901(0x1a5)](),_0x203a44=_0x5cbc3c[_0x375901(0x1bc)][_0x375901(0x19d)]||[],_0x170adc=_0x5cbc3c[_0x375901(0x1bc)][_0x375901(0x1c8)]||[];let _0xa4a5c5=![];for(const _0x22d89d of _0x1ee882){if(_0x22d89d[_0x375901(0x1f5)]&&_0x170adc[_0x375901(0x1f7)]>0x0&&!_0x170adc[_0x375901(0x1db)](_0x22d89d[_0x375901(0x1f5)]))continue;const _0x30026a=_0x22d89d['_date']||_0x22d89d[_0x375901(0x1d5)]||_0x22d89d[_0x375901(0x225)];if(!_0x30026a)continue;const _0x402672=new Date(_0x30026a);if(isNaN(_0x402672[_0x375901(0x1ce)]()))continue;const _0x54e054=(_0x22d89d[_0x375901(0x239)]||_0x22d89d[_0x375901(0x21b)]||'')[_0x375901(0x21c)]();if(_0x54e054[_0x375901(0x1db)](_0x375901(0x1b9))||_0x54e054['includes']('rÃ¼ckkehr')||_0x54e054[_0x375901(0x1db)](_0x375901(0x1b5))){let _0x4d848e=0x0;Object[_0x375901(0x22b)](_0x5b1d1)[_0x375901(0x245)](_0x4c7635=>{if(_0x4c7635>_0x4d848e)_0x4d848e=_0x4c7635;});if(_0x4d848e===0x0)_0x4d848e=0x78;const _0x58490d=_0x402672[_0x375901(0x1ce)]()-_0x4d848e*0xea60;_0x5e1424>=_0x58490d&&_0x5e1424<_0x402672[_0x375901(0x1ce)]()&&(_0x5cbc3c[_0x375901(0x241)]!==_0x375901(0x1b1)&&(_0x5cbc3c[_0x375901(0x1ea)][_0x375901(0x25b)](_0x375901(0x232)+_0x4d848e+_0x375901(0x1e8)),await _0x5cbc3c[_0x375901(0x1ec)](_0x375901(0x207),{'val':_0x375901(0x1b1),'ack':![]})));}for(const _0x5dd044 of _0x203a44){if(_0x5dd044[_0x375901(0x227)]){const _0x41df4b=_0x5dd044[_0x375901(0x227)][_0x375901(0x21c)](),_0x4b4af9=(_0x5dd044[_0x375901(0x247)]||'')[_0x375901(0x21c)]();let _0x768af=_0x54e054['includes'](_0x41df4b);!_0x768af&&_0x4b4af9['length']>0x3&&_0x54e054['includes'](_0x4b4af9)&&(_0x768af=!![]);if(_0x768af){const _0xd05ab6=_0x5b1d1[_0x5dd044[_0x375901(0x227)]]||0x3c,_0x1a8b1b=_0x18c6b5[_0x5dd044[_0x375901(0x227)]]||_0x375901(0x216),_0x577d5f=_0x402672[_0x375901(0x1ce)]()-_0xd05ab6*0xea60;if(_0x5e1424>=_0x577d5f&&_0x5e1424<_0x402672[_0x375901(0x1ce)]()){const _0x6ace41=lastActions[_0x375901(0x22a)+_0x5dd044['location']];if(_0x6ace41&&_0x5e1424-_0x6ace41<CAL_COOLDOWN_MS)continue;const _0x23a5cd=await findRelatedId(_0x5cbc3c,_0x5dd044['id'],_0x375901(0x224));if(_0x23a5cd){let _0x554380=_0x7bd4a4[_0x5dd044['location']];if(_0x554380===undefined)_0x554380=_0x7bd4a4[_0x375901(0x25e)];if(_0x554380===undefined)_0x554380=0x15;const _0x1087a1=await _0x5cbc3c[_0x375901(0x20f)](_0x23a5cd);if(_0x1087a1&&typeof _0x1087a1[_0x375901(0x248)]===_0x375901(0x1fd)&&_0x1087a1['val']<_0x554380-0.5){_0x5cbc3c[_0x375901(0x1ea)][_0x375901(0x25b)](_0x375901(0x23f)+_0x1a8b1b+_0x375901(0x1b0)+_0x5dd044[_0x375901(0x227)]+_0x375901(0x1b3)+_0x54e054+_0x375901(0x1cb)+_0x554380+_0x375901(0x1a8)+_0xd05ab6+_0x375901(0x1e8)),await _0x5cbc3c[_0x375901(0x1f6)](_0x23a5cd,_0x554380),await logAutomationAction(_0x5cbc3c,'[CAL]\x20'+_0x5dd044[_0x375901(0x227)]+_0x375901(0x1f8)+_0x554380+_0x375901(0x24a)+_0x1a8b1b+')'),lastActions['cal_'+_0x5dd044[_0x375901(0x227)]]=_0x5e1424;const _0x3b1d61=_0x7c0d45[_0x375901(0x1de)](_0x1d6709=>_0x1d6709['room']===_0x5dd044['location']);if(_0x3b1d61!==-0x1)_0x7c0d45['splice'](_0x3b1d61,0x1);_0x7c0d45[_0x375901(0x1f2)]({'room':_0x5dd044[_0x375901(0x227)],'target':_0x554380,'until':_0x402672[_0x375901(0x1ce)]()}),_0xa4a5c5=!![];}}}}}}}_0xa4a5c5&&await _0x5cbc3c[_0x375901(0x1ec)](_0x375901(0x23a),{'val':JSON[_0x375901(0x20b)](_0x7c0d45),'ack':!![]});}catch(_0x2e4203){_0x5cbc3c['log'][_0x375901(0x19e)](_0x375901(0x1b8)+_0x2e4203[_0x375901(0x22f)]);}}async function manageMpcIntervention(_0x518d43,_0x41f617,_0x55ce06){const _0x44b409=a1_0x2a1229;try{const _0x2aacb4=_0x44b409(0x235),_0x5f161d=await _0x518d43['getStateAsync'](_0x2aacb4);let _0x59fefd=[];if(_0x5f161d&&_0x5f161d[_0x44b409(0x248)])try{_0x59fefd=JSON['parse'](_0x5f161d['val']);}catch(_0x41dab1){}const _0xdedb0b=_0x59fefd[_0x44b409(0x222)](_0x41f617);if(_0x55ce06===_0x44b409(0x1c7))_0xdedb0b===-0x1&&(_0x59fefd[_0x44b409(0x1f2)](_0x41f617),await _0x518d43[_0x44b409(0x1ec)](_0x2aacb4,{'val':JSON['stringify'](_0x59fefd),'ack':!![]}));else _0x55ce06==='remove'&&(_0xdedb0b!==-0x1&&(_0x59fefd[_0x44b409(0x23b)](_0xdedb0b,0x1),await _0x518d43[_0x44b409(0x1ec)](_0x2aacb4,{'val':JSON[_0x44b409(0x20b)](_0x59fefd),'ack':!![]})));}catch(_0x4656a0){}}async function cleanupGhostInterventions(_0x3229dd){const _0x4e2d88=a1_0x2a1229;try{const _0x165afe='analysis.energy.mpcActiveInterventions',_0x237cf9=await _0x3229dd[_0x4e2d88(0x1fc)](_0x165afe);if(!_0x237cf9||!_0x237cf9[_0x4e2d88(0x248)])return;const _0x4b302e=JSON['parse'](_0x237cf9[_0x4e2d88(0x248)]);if(!Array[_0x4e2d88(0x230)](_0x4b302e)||_0x4b302e[_0x4e2d88(0x1f7)]===0x0)return;let _0x3e84f5={'default':0x15};try{const _0x53c1c6=await _0x3229dd[_0x4e2d88(0x1fc)](_0x4e2d88(0x1ae));if(_0x53c1c6&&_0x53c1c6[_0x4e2d88(0x248)])_0x3e84f5=JSON[_0x4e2d88(0x218)](_0x53c1c6[_0x4e2d88(0x248)]);}catch(_0x132acc){}let _0x495c47=[];try{const _0x2b6928=await _0x3229dd[_0x4e2d88(0x1fc)](_0x4e2d88(0x25d));if(_0x2b6928&&_0x2b6928[_0x4e2d88(0x248)])_0x495c47=JSON[_0x4e2d88(0x218)](_0x2b6928['val']);}catch(_0x30e050){}let _0x251136={},_0x2c97cc=![];try{const _0x59629b=await _0x3229dd[_0x4e2d88(0x1fc)](_0x4e2d88(0x1f0));if(_0x59629b&&_0x59629b[_0x4e2d88(0x248)])_0x251136=JSON[_0x4e2d88(0x218)](_0x59629b['val']);}catch(_0x226bb2){}if(_0x251136[_0x4e2d88(0x21d)]){const _0x237532=Date[_0x4e2d88(0x1a5)]();for(const [_0x45da50,_0x413e66]of Object[_0x4e2d88(0x1c6)](_0x251136['_meta'])){_0x237532-_0x413e66>PENALTY_TTL&&(delete _0x251136[_0x45da50],delete _0x251136[_0x4e2d88(0x21d)][_0x45da50],_0x2c97cc=!![],_0x3229dd[_0x4e2d88(0x1ea)][_0x4e2d88(0x25b)](_0x4e2d88(0x1d4)+_0x45da50+_0x4e2d88(0x210)));}}const _0x4ae78a=_0x3229dd[_0x4e2d88(0x1bc)]['devices']||[];let _0x52646a=![];for(let _0x2572f2=_0x4b302e[_0x4e2d88(0x1f7)]-0x1;_0x2572f2>=0x0;_0x2572f2--){const _0x12d1b2=_0x4b302e[_0x2572f2],_0x2de3d7=_0x4ae78a[_0x4e2d88(0x22d)](_0x5b318a=>normalize(_0x5b318a['location'])===normalize(_0x12d1b2)&&(_0x5b318a['type']===_0x4e2d88(0x23c)||_0x5b318a['type']===_0x4e2d88(0x1d3)));if(!_0x2de3d7){_0x3229dd[_0x4e2d88(0x1ea)][_0x4e2d88(0x19e)]('ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x12d1b2+_0x4e2d88(0x22e)),_0x4b302e[_0x4e2d88(0x23b)](_0x2572f2,0x1),_0x52646a=!![];continue;}if(_0x2de3d7){const _0x351e92=await findRelatedId(_0x3229dd,_0x2de3d7['id'],'setpoint'),_0xe3911b=await _0x3229dd[_0x4e2d88(0x20f)](_0x2de3d7['id']);if(_0x351e92){const _0x5b7603=await _0x3229dd[_0x4e2d88(0x20f)](_0x351e92);if(_0x5b7603&&typeof _0x5b7603[_0x4e2d88(0x248)]===_0x4e2d88(0x1fd)){let _0x24af52=![],_0x3426e6='';Math[_0x4e2d88(0x1c9)](_0x5b7603[_0x4e2d88(0x248)]-ECO_TEMP)>0.5&&(_0x24af52=!![],_0x3426e6='manual');if(!_0x24af52&&_0xe3911b&&typeof _0xe3911b['val']===_0x4e2d88(0x1fd)){const _0x55089b=_0x3e84f5[_0x12d1b2]||_0x3e84f5[_0x4e2d88(0x25e)]||0x15;_0xe3911b[_0x4e2d88(0x248)]<_0x55089b+0.2&&(_0x24af52=!![],_0x3426e6=_0x4e2d88(0x246));}if(_0x24af52){if(_0x3426e6===_0x4e2d88(0x1e5)){_0x3229dd[_0x4e2d88(0x1ea)][_0x4e2d88(0x25b)](_0x4e2d88(0x1ff)+_0x12d1b2+_0x4e2d88(0x1be)+_0x5b7603[_0x4e2d88(0x248)]+_0x4e2d88(0x19f)+ECO_TEMP+'Â°C).\x20Entferne\x20Status.');const _0x344969=lastActions[_0x4e2d88(0x22a)+_0x12d1b2],_0x5d3a85=_0x344969&&Date[_0x4e2d88(0x1a5)]()-_0x344969<0x2*0x3c*0x3e8;if(!_0x5d3a85&&_0x5b7603[_0x4e2d88(0x248)]>ECO_TEMP+0.5){_0x3229dd['sendToPythonWrapper']&&(_0x3229dd[_0x4e2d88(0x1ea)][_0x4e2d88(0x25b)](_0x4e2d88(0x25c)+_0x12d1b2+_0x4e2d88(0x25f)),_0x3229dd[_0x4e2d88(0x21a)](_0x4e2d88(0x220),{'room':_0x12d1b2}));const _0x3a9eb1=_0x12d1b2+'_'+new Date()[_0x4e2d88(0x1ad)]();if(!_0x251136[_0x3a9eb1]){_0x251136[_0x3a9eb1]=0x1;if(!_0x251136[_0x4e2d88(0x21d)])_0x251136[_0x4e2d88(0x21d)]={};_0x251136['_meta'][_0x3a9eb1]=Date[_0x4e2d88(0x1a5)](),_0x2c97cc=!![];}}else _0x5d3a85&&_0x3229dd[_0x4e2d88(0x1ea)]['info'](_0x4e2d88(0x1cf)+_0x12d1b2+_0x4e2d88(0x1b2));}else{if(_0x3426e6===_0x4e2d88(0x246)){let _0x3727d8=![];if(_0x495c47[_0x4e2d88(0x22d)](_0x437a65=>_0x437a65[_0x4e2d88(0x1ba)]===_0x12d1b2))_0x3727d8=!![];const _0x444481=_0x4ae78a['filter'](_0x3227bd=>normalize(_0x3227bd[_0x4e2d88(0x227)])===normalize(_0x12d1b2)&&(_0x3227bd['type']===_0x4e2d88(0x1a3)||_0x3227bd[_0x4e2d88(0x223)]===_0x4e2d88(0x1c2)||_0x3227bd['type']===_0x4e2d88(0x1e1)));for(const _0x425b90 of _0x444481){try{const _0x5507ff=await _0x3229dd[_0x4e2d88(0x20f)](_0x425b90['id']);if(_0x5507ff&&(_0x5507ff[_0x4e2d88(0x248)]===!![]||_0x5507ff[_0x4e2d88(0x248)]===0x1||String(_0x5507ff[_0x4e2d88(0x248)])[_0x4e2d88(0x21c)]()===_0x4e2d88(0x1ac)))_0x3727d8=!![];}catch(_0x7e4622){}}if(_0x3727d8)_0x3229dd['log'][_0x4e2d88(0x25b)](_0x4e2d88(0x244)+_0x12d1b2+_0x4e2d88(0x253));else{const _0x4a822a=_0x3e84f5[_0x12d1b2]||_0x3e84f5['default']||0x15;_0x3229dd['log'][_0x4e2d88(0x25b)]('ðŸš¨\x20[MPC\x20WATCHDOG]\x20'+_0x12d1b2+_0x4e2d88(0x1d0)+_0xe3911b[_0x4e2d88(0x248)]+'Â°C\x20<\x20'+(_0x4a822a+0.2)+'Â°C).\x20Sparmodus\x20beendet!'),await _0x3229dd[_0x4e2d88(0x1f6)](_0x351e92,_0x4a822a),await logAutomationAction(_0x3229dd,_0x4e2d88(0x1e2)+_0x12d1b2+_0x4e2d88(0x23e)+_0x4a822a+'Â°C'),lastActions['rescue_'+_0x12d1b2]=Date[_0x4e2d88(0x1a5)]();}}}_0x4b302e[_0x4e2d88(0x23b)](_0x2572f2,0x1),_0x52646a=!![];}}}}}_0x52646a&&await _0x3229dd[_0x4e2d88(0x1ec)](_0x165afe,{'val':JSON['stringify'](_0x4b302e),'ack':!![]}),_0x2c97cc&&await _0x3229dd['setStateAsync'](_0x4e2d88(0x1f0),{'val':JSON[_0x4e2d88(0x20b)](_0x251136),'ack':!![]});}catch(_0x75544b){}}async function applyEnergySavings(_0xfd3bff,_0x478049){const _0x693c35=a1_0x2a1229;await cleanupGhostInterventions(_0xfd3bff);if(!_0x478049||_0x478049['length']===0x0)return;const _0x191c90=_0xfd3bff[_0x693c35(0x1bc)][_0x693c35(0x19d)]||[],_0x4d203e=Date[_0x693c35(0x1a5)]();for(const _0x14ec79 of _0x478049){const _0x3a9ef2=_0x14ec79['room'],_0x5ddfad=_0x14ec79[_0x693c35(0x1e4)],_0x591867=_0x14ec79[_0x693c35(0x1e0)]||0x15;if(lastActions[_0x693c35(0x213)+_0x3a9ef2]&&_0x4d203e-lastActions[_0x693c35(0x213)+_0x3a9ef2]<RESCUE_LOCK_MS)continue;const _0x3c1554=_0x191c90['find'](_0x4b77ad=>normalize(_0x4b77ad[_0x693c35(0x227)])===normalize(_0x3a9ef2)&&(_0x4b77ad['type']===_0x693c35(0x23c)||_0x4b77ad[_0x693c35(0x223)]===_0x693c35(0x1d3)));if(!_0x3c1554)continue;const _0x32e536=await findRelatedId(_0xfd3bff,_0x3c1554['id'],_0x693c35(0x224));if(_0x32e536){if(lastActions[_0x693c35(0x221)+_0x3a9ef2]&&_0x4d203e-lastActions[_0x693c35(0x221)+_0x3a9ef2]<0x1e*0x3c*0x3e8)continue;const _0x4bfcaa=await _0xfd3bff[_0x693c35(0x20f)](_0x32e536);if(_0x4bfcaa&&typeof _0x4bfcaa[_0x693c35(0x248)]===_0x693c35(0x1fd)){const _0x54cc2e=_0x4bfcaa['val'];_0x54cc2e!==ECO_TEMP&&await manageMpcIntervention(_0xfd3bff,_0x3a9ef2,_0x693c35(0x238));if(_0x5ddfad>0x1e)_0x54cc2e>ECO_TEMP+0.5&&(_0xfd3bff[_0x693c35(0x1ea)]['info'](_0x693c35(0x1f1)+_0x3a9ef2+_0x693c35(0x19c)+ECO_TEMP+_0x693c35(0x1e3)+_0x5ddfad+_0x693c35(0x1f4)),await _0xfd3bff[_0x693c35(0x1f6)](_0x32e536,ECO_TEMP),await manageMpcIntervention(_0xfd3bff,_0x3a9ef2,_0x693c35(0x1c7)),lastActions[_0x693c35(0x221)+_0x3a9ef2]=_0x4d203e,await logAutomationAction(_0xfd3bff,_0x693c35(0x1bf)+_0x3a9ef2+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'Â°C'));else _0x5ddfad<=0xf&&(_0x54cc2e<_0x591867&&(_0xfd3bff[_0x693c35(0x1ea)][_0x693c35(0x25b)]('ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20'+_0x3a9ef2+'\x20wieder\x20auf\x20'+_0x591867+_0x693c35(0x242)),await _0xfd3bff[_0x693c35(0x1f6)](_0x32e536,_0x591867),await manageMpcIntervention(_0xfd3bff,_0x3a9ef2,_0x693c35(0x238)),lastActions[_0x693c35(0x221)+_0x3a9ef2]=_0x4d203e,await logAutomationAction(_0xfd3bff,_0x693c35(0x1bf)+_0x3a9ef2+_0x693c35(0x237)+_0x591867+'Â°C')));}}else _0xfd3bff[_0x693c35(0x1ea)]['warn'](_0x693c35(0x204)+_0x3a9ef2+_0x693c35(0x258));}}module[a1_0x2a1229(0x1a9)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};