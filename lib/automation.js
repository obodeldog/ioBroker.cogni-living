const a1_0x1dca58=a1_0x9ede;(function(_0x481eb6,_0x5c60d2){const _0x4d23da=a1_0x9ede,_0x2241ab=_0x481eb6();while(!![]){try{const _0xee9262=parseInt(_0x4d23da(0x161))/0x1+parseInt(_0x4d23da(0x1c4))/0x2*(parseInt(_0x4d23da(0x15e))/0x3)+-parseInt(_0x4d23da(0x178))/0x4*(-parseInt(_0x4d23da(0x1c9))/0x5)+-parseInt(_0x4d23da(0x130))/0x6*(-parseInt(_0x4d23da(0x1d9))/0x7)+-parseInt(_0x4d23da(0x183))/0x8*(parseInt(_0x4d23da(0x17f))/0x9)+parseInt(_0x4d23da(0x134))/0xa*(parseInt(_0x4d23da(0x1aa))/0xb)+-parseInt(_0x4d23da(0x152))/0xc*(parseInt(_0x4d23da(0x148))/0xd);if(_0xee9262===_0x5c60d2)break;else _0x2241ab['push'](_0x2241ab['shift']());}catch(_0x5c810b){_0x2241ab['push'](_0x2241ab['shift']());}}}(a1_0x1654,0xec35d));const a1_0x180b14=(function(){let _0x3bcaec=!![];return function(_0x8932dd,_0x18bdac){const _0xa8960d=_0x3bcaec?function(){const _0x33cdb4=a1_0x9ede;if(_0x18bdac){const _0x4c8276=_0x18bdac[_0x33cdb4(0x1b8)](_0x8932dd,arguments);return _0x18bdac=null,_0x4c8276;}}:function(){};return _0x3bcaec=![],_0xa8960d;};}()),a1_0x212a1a=a1_0x180b14(this,function(){const _0x4d84a6=a1_0x9ede;return a1_0x212a1a[_0x4d84a6(0x165)]()['search'](_0x4d84a6(0x1b1))[_0x4d84a6(0x165)]()['constructor'](a1_0x212a1a)[_0x4d84a6(0x199)](_0x4d84a6(0x1b1));});a1_0x212a1a();'use strict';const aiAgent=require(a1_0x1dca58(0x146)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,lastActions={};function normalize(_0x2b2913){const _0x5d063a=a1_0x1dca58;if(!_0x2b2913)return'';return _0x2b2913[_0x5d063a(0x1dd)]()[_0x5d063a(0x198)](/\s+/g,'')[_0x5d063a(0x176)]();}async function logAutomationAction(_0x57991d,_0x58fb38){const _0x5548bc=a1_0x1dca58;await _0x57991d[_0x5548bc(0x18e)](_0x5548bc(0x1a8),{'val':_0x58fb38,'ack':!![]});try{const _0x235ea3='analysis.automation.actionLog',_0x3dc424=await _0x57991d[_0x5548bc(0x18a)](_0x235ea3);let _0x2992e3=[];if(_0x3dc424&&_0x3dc424[_0x5548bc(0x15d)])try{_0x2992e3=JSON[_0x5548bc(0x157)](_0x3dc424[_0x5548bc(0x15d)]);}catch(_0x3a3eee){}_0x2992e3[_0x5548bc(0x181)]({'ts':Date[_0x5548bc(0x19f)](),'msg':_0x58fb38});if(_0x2992e3[_0x5548bc(0x1bb)]>0x32)_0x2992e3=_0x2992e3[_0x5548bc(0x16c)](0x0,0x32);await _0x57991d[_0x5548bc(0x18e)](_0x235ea3,{'val':JSON[_0x5548bc(0x1bc)](_0x2992e3),'ack':!![]});}catch(_0x3982c1){}}async function handlePrediction(_0x5b989d,_0x4b6d5b,_0x89e1b9){const _0x4999d5=a1_0x1dca58;if(!_0x4b6d5b||_0x4b6d5b===_0x4999d5(0x18d))return;let _0x29218a=_0x4999d5(0x1bd),_0x315447=0.6;try{const _0x5d2c44=await _0x5b989d[_0x4999d5(0x18a)](_0x4999d5(0x197));if(_0x5d2c44&&_0x5d2c44[_0x4999d5(0x15d)])_0x29218a=_0x5d2c44[_0x4999d5(0x15d)];const _0x3e1930=await _0x5b989d[_0x4999d5(0x18a)]('analysis.automation.confidenceThreshold');if(_0x3e1930&&_0x3e1930[_0x4999d5(0x15d)])_0x315447=_0x3e1930['val'];}catch(_0x51d814){}if(_0x29218a==='off'||_0x89e1b9<_0x315447)return;const _0xfe9da4=Date[_0x4999d5(0x19f)]();if(lastActions[_0x4b6d5b]&&_0xfe9da4-lastActions[_0x4b6d5b]<COOLDOWN_MS)return;const _0xe49bb3=_0x5b989d[_0x4999d5(0x121)][_0x4999d5(0x155)]||[],_0x1072b7=normalize(_0x4b6d5b),_0x62ec69=_0xe49bb3[_0x4999d5(0x14d)](_0x2c2319=>normalize(_0x2c2319[_0x4999d5(0x16e)])===_0x1072b7&&(_0x2c2319[_0x4999d5(0x14f)]==='light'||_0x2c2319[_0x4999d5(0x14f)]==='dimmer'||_0x2c2319[_0x4999d5(0x14f)]===_0x4999d5(0x1d8)));if(!_0x62ec69)return;const _0x186ca2=await aiAgent[_0x4999d5(0x191)](_0x5b989d,_0x4b6d5b,_0x62ec69[_0x4999d5(0x1de)],_0x89e1b9);if(!_0x186ca2[_0x4999d5(0x1a7)])return;const _0x3c381a=_0x4999d5(0x132)+_0x4b6d5b+_0x4999d5(0x122)+_0x62ec69['name']+'\x20('+_0x186ca2[_0x4999d5(0x13b)]+')';await logAutomationAction(_0x5b989d,'['+_0x29218a[_0x4999d5(0x1cd)]()+']\x20'+_0x3c381a);if(_0x29218a==='active'){const _0x5bcaaf=await _0x5b989d[_0x4999d5(0x135)](_0x62ec69['id']);(!_0x5bcaaf||!_0x5bcaaf['val']&&_0x5bcaaf[_0x4999d5(0x15d)]!==!![])&&await _0x5b989d['setForeignStateAsync'](_0x62ec69['id'],!![]),lastActions[_0x4b6d5b]=_0xfe9da4;}}async function findRelatedId(_0xc5339,_0x3504ec,_0x4ebe39=a1_0x1dca58(0x149)){const _0x1622d4=a1_0x1dca58;if(_0x4ebe39==='setpoint'&&_0xc5339[_0x1622d4(0x121)][_0x1622d4(0x195)]){let _0x57388f=_0xc5339['config']['thermostatMapping'];if(typeof _0x57388f==='string')try{_0x57388f=JSON[_0x1622d4(0x157)](_0x57388f);}catch(_0x52b4a9){}if(_0x57388f&&_0x57388f[_0x3504ec])return _0x57388f[_0x3504ec];}if(_0x4ebe39==='valve'&&_0xc5339['config'][_0x1622d4(0x16f)]){let _0x37ecea=_0xc5339[_0x1622d4(0x121)][_0x1622d4(0x16f)];if(typeof _0x37ecea===_0x1622d4(0x170))try{_0x37ecea=JSON[_0x1622d4(0x157)](_0x37ecea);}catch(_0x29bd2f){}if(_0x37ecea&&_0x37ecea[_0x3504ec])return _0x37ecea[_0x3504ec];}let _0x500881=[];if(_0x4ebe39===_0x1622d4(0x149))_0x500881=[{'s':_0x1622d4(0x188),'t':_0x1622d4(0x128)},{'s':_0x1622d4(0x166),'t':_0x1622d4(0x128)},{'s':_0x1622d4(0x166),'t':_0x1622d4(0x189)},{'s':'ACTUAL_TEMPERATURE','t':_0x1622d4(0x19b)},{'s':'local_temperature','t':_0x1622d4(0x11d)},{'s':_0x1622d4(0x1a0),'t':_0x1622d4(0x124)},{'s':_0x1622d4(0x133),'t':_0x1622d4(0x186)},{'s':_0x1622d4(0x1d7),'t':'SET'},{'s':_0x1622d4(0x1c5),'t':'Soll'},{'s':_0x1622d4(0x133),'t':_0x1622d4(0x149)}];else _0x4ebe39===_0x1622d4(0x1b5)&&(_0x500881=[{'s':_0x1622d4(0x188),'t':_0x1622d4(0x159)},{'s':'.1.TEMPERATURE','t':_0x1622d4(0x159)},{'s':_0x1622d4(0x166),'t':_0x1622d4(0x184)},{'s':_0x1622d4(0x1a0),'t':'pi_heating_demand'},{'s':'temperature','t':_0x1622d4(0x1d4)},{'s':_0x1622d4(0x133),'t':_0x1622d4(0x1b0)}]);for(const _0x464f99 of _0x500881){if(_0x3504ec[_0x1622d4(0x187)](_0x464f99['s'])){const _0x38b7c8=_0x3504ec[_0x1622d4(0x198)](_0x464f99['s'],_0x464f99['t']),_0x4d2622=await _0xc5339[_0x1622d4(0x192)](_0x38b7c8);if(_0x4d2622)return _0x38b7c8;}}try{const _0x4b84ce=_0x3504ec[_0x1622d4(0x180)]('.');if(_0x4b84ce['length']>0x2){const _0x508920=_0x4b84ce[_0x1622d4(0x16c)](0x0,-0x1)['join']('.'),_0x1d7cd5=await _0xc5339[_0x1622d4(0x1bf)](_0x508920+'.*'),_0x175b94=[],_0x104aec=_0x3504ec[_0x1622d4(0x180)](/[._]+/)[_0x1622d4(0x150)](_0x24ea6e=>![_0x1622d4(0x1b2),'0',_0x1622d4(0x1a3),_0x1622d4(0x1ca),_0x1622d4(0x1cf),_0x1622d4(0x133),'actual',_0x1622d4(0x1a6),_0x1622d4(0x190),'state']['includes'](_0x24ea6e['toLowerCase']()));for(const [_0x13612f,_0x1bf6b7]of Object[_0x1622d4(0x14a)](_0x1d7cd5)){if(_0x13612f===_0x3504ec)continue;if(_0x1bf6b7&&_0x1bf6b7[_0x1622d4(0x196)]){const _0x584bae=_0x13612f[_0x1622d4(0x1dd)](),_0xab7121=(_0x1bf6b7['common'][_0x1622d4(0x15a)]||'')[_0x1622d4(0x1dd)](),_0x3ca85f=(_0x1bf6b7[_0x1622d4(0x196)]['unit']||'')['toLowerCase']();let _0x4f3267=![];if(_0x4ebe39===_0x1622d4(0x149)&&_0x1bf6b7[_0x1622d4(0x196)][_0x1622d4(0x194)]===!![])_0x4f3267=_0x584bae[_0x1622d4(0x187)](_0x1622d4(0x1a5))||_0x584bae['includes'](_0x1622d4(0x168))||_0x584bae[_0x1622d4(0x187)](_0x1622d4(0x1c7))||_0xab7121[_0x1622d4(0x187)](_0x1622d4(0x1c2))||_0xab7121[_0x1622d4(0x187)](_0x1622d4(0x12b));else _0x4ebe39==='valve'&&(_0x4f3267=_0x584bae[_0x1622d4(0x187)](_0x1622d4(0x1b0))||_0x584bae[_0x1622d4(0x187)]('valve')||_0x584bae[_0x1622d4(0x187)](_0x1622d4(0x1d3))||_0x584bae[_0x1622d4(0x187)]('position')||_0xab7121[_0x1622d4(0x187)](_0x1622d4(0x11e))||_0xab7121[_0x1622d4(0x187)](_0x1622d4(0x1ba))||_0x3ca85f[_0x1622d4(0x187)]('%'));if(_0x4f3267){const _0x64460d=_0x13612f[_0x1622d4(0x180)](/[._]+/)[_0x1622d4(0x1dc)](_0x3a4a1c=>_0x3a4a1c[_0x1622d4(0x1dd)]());let _0x75afea=0x0;_0x104aec[_0x1622d4(0x147)](_0x155709=>{const _0x32b86c=_0x1622d4;if(_0x64460d[_0x32b86c(0x187)](_0x155709['toLowerCase']()))_0x75afea++;}),_0x175b94['push']({'id':_0x13612f,'score':_0x75afea});}}}if(_0x175b94[_0x1622d4(0x1bb)]>0x0){_0x175b94[_0x1622d4(0x1da)]((_0x4fa919,_0x120cf3)=>_0x120cf3[_0x1622d4(0x193)]-_0x4fa919[_0x1622d4(0x193)]);if(_0x175b94[0x0]['score']>0x0)return _0x175b94[0x0]['id'];}}}catch(_0x24bf78){}return null;}async function scanThermostats(_0x2f3e68){const _0x330567=a1_0x1dca58,_0xeae2a0=_0x2f3e68[_0x330567(0x121)][_0x330567(0x155)]||[],_0x3d8bc8=[],_0x1bb472=_0xeae2a0[_0x330567(0x150)](_0x3e9da9=>_0x3e9da9['id']&&_0x3e9da9['id'][_0x330567(0x187)](_0x330567(0x133))||_0x3e9da9[_0x330567(0x14f)]&&[_0x330567(0x133),_0x330567(0x1c8),'sensor'][_0x330567(0x187)](_0x3e9da9[_0x330567(0x14f)])||_0x3e9da9['name']&&_0x3e9da9['name'][_0x330567(0x1dd)]()[_0x330567(0x187)](_0x330567(0x1d0)));for(const _0x36bb8c of _0x1bb472){const _0x378870=await findRelatedId(_0x2f3e68,_0x36bb8c['id'],'setpoint'),_0x2d9050=await findRelatedId(_0x2f3e68,_0x36bb8c['id'],_0x330567(0x1b5));let _0x33b448=_0x330567(0x1c0),_0x41d6ce=![],_0x51ae5b=_0x2f3e68['config'][_0x330567(0x195)]||{};if(typeof _0x51ae5b===_0x330567(0x170))try{_0x51ae5b=JSON[_0x330567(0x157)](_0x51ae5b);}catch(_0x1834e2){}let _0x3c8f6f=_0x2f3e68[_0x330567(0x121)][_0x330567(0x16f)]||{};if(typeof _0x3c8f6f===_0x330567(0x170))try{_0x3c8f6f=JSON[_0x330567(0x157)](_0x3c8f6f);}catch(_0x281b3b){}if(_0x51ae5b[_0x36bb8c['id']]&&_0x51ae5b[_0x36bb8c['id']]===_0x378870||_0x3c8f6f[_0x36bb8c['id']]&&_0x3c8f6f[_0x36bb8c['id']]===_0x2d9050)_0x33b448=_0x330567(0x141),_0x41d6ce=!![];else(_0x378870||_0x2d9050)&&(_0x33b448=_0x330567(0x15b));_0x3d8bc8[_0x330567(0x18b)]({'room':_0x36bb8c[_0x330567(0x16e)]||'Unbekannt','sensorId':_0x36bb8c['id'],'setpointId':_0x378870||'-','valveId':_0x2d9050||'-','source':_0x33b448,'isManual':_0x41d6ce,'status':_0x378870&&_0x2d9050?_0x330567(0x127):_0x378870?'OK':_0x330567(0x160)});}return _0x3d8bc8[_0x330567(0x1da)]((_0x3fc479,_0x56c335)=>_0x3fc479[_0x330567(0x153)][_0x330567(0x19c)](_0x56c335[_0x330567(0x153)]));}async function updateSchedulePreview(_0x12e4a4){const _0x5bdfe5=a1_0x1dca58;if(!_0x12e4a4[_0x5bdfe5(0x121)][_0x5bdfe5(0x17a)]||!_0x12e4a4['config'][_0x5bdfe5(0x175)])return;let _0x4f1635={};try{const _0x38d9a1=await _0x12e4a4[_0x5bdfe5(0x18a)](_0x5bdfe5(0x1ad));if(_0x38d9a1&&_0x38d9a1['val'])_0x4f1635=JSON['parse'](_0x38d9a1[_0x5bdfe5(0x15d)]);}catch(_0x1f4d05){}const _0x1dd215=[],_0x593455=Date[_0x5bdfe5(0x19f)](),_0x30c6b0=0x30*0x3c*0x3c*0x3e8;try{const _0x2a16ef=await _0x12e4a4[_0x5bdfe5(0x135)](_0x12e4a4['config'][_0x5bdfe5(0x175)]+_0x5bdfe5(0x13d));if(!_0x2a16ef||!_0x2a16ef[_0x5bdfe5(0x15d)])return;const _0x1da7e9=JSON[_0x5bdfe5(0x157)](_0x2a16ef[_0x5bdfe5(0x15d)]),_0x5eb7de=_0x12e4a4['config'][_0x5bdfe5(0x140)]||[],_0x30e8a4=_0x12e4a4[_0x5bdfe5(0x121)][_0x5bdfe5(0x155)]||[],_0x1db057=new Set();_0x30e8a4[_0x5bdfe5(0x147)](_0x4454d7=>{const _0x587df9=_0x5bdfe5;if(_0x4454d7[_0x587df9(0x16e)])_0x1db057['add'](_0x4454d7[_0x587df9(0x16e)]);});for(const _0x283ee3 of _0x1da7e9){if(_0x283ee3['_calName']&&_0x5eb7de[_0x5bdfe5(0x1bb)]>0x0&&!_0x5eb7de[_0x5bdfe5(0x187)](_0x283ee3['_calName']))continue;const _0x40552b=_0x283ee3[_0x5bdfe5(0x1c6)]||_0x283ee3['eventStart']||_0x283ee3[_0x5bdfe5(0x169)];if(!_0x40552b)continue;const _0x57dc85=new Date(_0x40552b),_0x3f1405=_0x57dc85['getTime']();if(isNaN(_0x3f1405))continue;if(_0x3f1405<_0x593455)continue;if(_0x3f1405>_0x593455+_0x30c6b0)continue;const _0x15e2de=(_0x283ee3['event']||_0x283ee3[_0x5bdfe5(0x17b)]||'')[_0x5bdfe5(0x1dd)]();let _0x102d59=![],_0xeb7071=[],_0x14eea3=_0x283ee3[_0x5bdfe5(0x129)]||_0x283ee3[_0x5bdfe5(0x17b)]||_0x5bdfe5(0x1b3);if(_0x15e2de['includes']('urlaub\x20ende')||_0x15e2de[_0x5bdfe5(0x187)](_0x5bdfe5(0x15f))||_0x15e2de[_0x5bdfe5(0x187)](_0x5bdfe5(0x19d)))_0x102d59=!![],_0xeb7071=Array[_0x5bdfe5(0x14b)](_0x1db057);else for(const _0x42ba69 of _0x1db057){if(_0x15e2de['includes'](_0x42ba69['toLowerCase']()))_0xeb7071['push'](_0x42ba69);}_0xeb7071['length']>0x0&&_0xeb7071[_0x5bdfe5(0x147)](_0x27b33c=>{const _0x83a3a7=_0x5bdfe5;let _0x598eb2=0x3c;if(_0x102d59){let _0x5cc413=0x0;Object['values'](_0x4f1635)[_0x83a3a7(0x147)](_0x4399e3=>{if(_0x4399e3>_0x5cc413)_0x5cc413=_0x4399e3;}),_0x598eb2=_0x5cc413>0x0?_0x5cc413:0x78;}else _0x598eb2=_0x4f1635[_0x27b33c]||0x3c;const _0x5a1bb8=new Date(_0x3f1405-_0x598eb2*0xea60);_0x1dd215[_0x83a3a7(0x18b)]({'eventTime':_0x3f1405,'triggerTime':_0x5a1bb8[_0x83a3a7(0x1ae)](),'room':_0x27b33c,'minutes':_0x598eb2,'reason':_0x14eea3,'isGlobal':_0x102d59});});}}catch(_0x583a6b){}_0x1dd215[_0x5bdfe5(0x1da)]((_0x2fd3b1,_0x5a8fa2)=>_0x2fd3b1[_0x5bdfe5(0x185)]-_0x5a8fa2[_0x5bdfe5(0x185)]);const _0x16391b=_0x1dd215[_0x5bdfe5(0x16c)](0x0,0x5);await _0x12e4a4[_0x5bdfe5(0x18e)](_0x5bdfe5(0x162),{'val':JSON['stringify'](_0x16391b),'ack':!![]});}async function monitorEnforcements(_0x1ae101){const _0x2c9ffb=a1_0x1dca58;try{const _0x534552=_0x2c9ffb(0x17e),_0x18b176=await _0x1ae101['getStateAsync'](_0x534552);if(!_0x18b176||!_0x18b176[_0x2c9ffb(0x15d)])return;let _0x4dc005=[];try{_0x4dc005=JSON[_0x2c9ffb(0x157)](_0x18b176[_0x2c9ffb(0x15d)]);}catch(_0x11d1d6){return;}if(!Array[_0x2c9ffb(0x1b6)](_0x4dc005)||_0x4dc005[_0x2c9ffb(0x1bb)]===0x0)return;const _0xd5662c=Date[_0x2c9ffb(0x19f)](),_0x1e3f95=_0x1ae101['config'][_0x2c9ffb(0x155)]||[];let _0x37aa09=![];for(let _0x14f3fd=_0x4dc005[_0x2c9ffb(0x1bb)]-0x1;_0x14f3fd>=0x0;_0x14f3fd--){const _0x51edff=_0x4dc005[_0x14f3fd];if(_0xd5662c>=_0x51edff[_0x2c9ffb(0x179)]){_0x1ae101[_0x2c9ffb(0x142)]['info'](_0x2c9ffb(0x1a1)+_0x51edff[_0x2c9ffb(0x153)]+_0x2c9ffb(0x17c)),_0x4dc005[_0x2c9ffb(0x167)](_0x14f3fd,0x1),_0x37aa09=!![];continue;}const _0x11ecfd=_0x1e3f95['find'](_0x4c548c=>normalize(_0x4c548c['location'])===normalize(_0x51edff[_0x2c9ffb(0x153)])&&(_0x4c548c['type']==='temperature'||_0x4c548c[_0x2c9ffb(0x14f)]===_0x2c9ffb(0x1c8)));if(_0x11ecfd){const _0x46d287=await findRelatedId(_0x1ae101,_0x11ecfd['id'],_0x2c9ffb(0x149));if(_0x46d287){const _0x25b3d0=await _0x1ae101[_0x2c9ffb(0x135)](_0x46d287);_0x25b3d0&&typeof _0x25b3d0[_0x2c9ffb(0x15d)]==='number'&&(_0x25b3d0['val']<0xf&&(_0x1ae101[_0x2c9ffb(0x142)][_0x2c9ffb(0x1a9)](_0x2c9ffb(0x18c)+_0x51edff[_0x2c9ffb(0x153)]+_0x2c9ffb(0x1d6)+_0x25b3d0[_0x2c9ffb(0x15d)]+_0x2c9ffb(0x12f)+_0x51edff[_0x2c9ffb(0x1c7)]+_0x2c9ffb(0x131)),await _0x1ae101[_0x2c9ffb(0x14c)](_0x46d287,_0x51edff[_0x2c9ffb(0x1c7)]),await logAutomationAction(_0x1ae101,'[FORCE]\x20'+_0x51edff['room']+':\x20'+_0x25b3d0[_0x2c9ffb(0x15d)]+_0x2c9ffb(0x1d5)+_0x51edff[_0x2c9ffb(0x1c7)]+_0x2c9ffb(0x1d1))));}}}_0x37aa09&&await _0x1ae101[_0x2c9ffb(0x18e)](_0x534552,{'val':JSON[_0x2c9ffb(0x1bc)](_0x4dc005),'ack':!![]});}catch(_0x17d14e){_0x1ae101['log']['error'](_0x2c9ffb(0x13c)+_0x17d14e[_0x2c9ffb(0x1cc)]);}}function a1_0x9ede(_0x120277,_0x3f4e19){const _0xb64b62=a1_0x1654();return a1_0x9ede=function(_0x212a1a,_0x180b14){_0x212a1a=_0x212a1a-0x11d;let _0x16545b=_0xb64b62[_0x212a1a];return _0x16545b;},a1_0x9ede(_0x120277,_0x3f4e19);}async function checkCalendarTriggers(_0x5bb022){const _0x3e60e1=a1_0x1dca58;if(!_0x5bb022[_0x3e60e1(0x121)]['useCalendar']||!_0x5bb022[_0x3e60e1(0x121)]['calendarInstance'])return;await updateSchedulePreview(_0x5bb022);let _0x967894={},_0x2b44a5={};try{const _0x24b8b1=await _0x5bb022[_0x3e60e1(0x18a)](_0x3e60e1(0x1ad));if(_0x24b8b1&&_0x24b8b1[_0x3e60e1(0x15d)])_0x967894=JSON['parse'](_0x24b8b1[_0x3e60e1(0x15d)]);const _0x594023=await _0x5bb022[_0x3e60e1(0x18a)]('analysis.energy.warmupSources');if(_0x594023&&_0x594023[_0x3e60e1(0x15d)])_0x2b44a5=JSON[_0x3e60e1(0x157)](_0x594023[_0x3e60e1(0x15d)]);}catch(_0x377f6b){}let _0x1bcebd={'default':0x15};try{const _0x5a8cfd=await _0x5bb022[_0x3e60e1(0x18a)]('analysis.energy.warmupTargets');if(_0x5a8cfd&&_0x5a8cfd[_0x3e60e1(0x15d)])_0x1bcebd=JSON[_0x3e60e1(0x157)](_0x5a8cfd[_0x3e60e1(0x15d)]);}catch(_0x163a72){}let _0x3315d1=[];try{const _0x23efe9=await _0x5bb022[_0x3e60e1(0x18a)](_0x3e60e1(0x17e));if(_0x23efe9&&_0x23efe9['val'])_0x3315d1=JSON['parse'](_0x23efe9[_0x3e60e1(0x15d)]);}catch(_0x1c5983){}try{const _0x5541f3=await _0x5bb022[_0x3e60e1(0x135)](_0x5bb022[_0x3e60e1(0x121)][_0x3e60e1(0x175)]+_0x3e60e1(0x13d));if(!_0x5541f3||!_0x5541f3[_0x3e60e1(0x15d)])return;const _0x3bf1f9=JSON[_0x3e60e1(0x157)](_0x5541f3[_0x3e60e1(0x15d)]),_0x18684f=Date[_0x3e60e1(0x19f)](),_0x570e5f=_0x5bb022[_0x3e60e1(0x121)][_0x3e60e1(0x155)]||[],_0x42c3c0=_0x5bb022['config'][_0x3e60e1(0x140)]||[];let _0x1ed624=![];for(const _0x111d8b of _0x3bf1f9){if(_0x111d8b[_0x3e60e1(0x138)]&&_0x42c3c0[_0x3e60e1(0x1bb)]>0x0&&!_0x42c3c0[_0x3e60e1(0x187)](_0x111d8b[_0x3e60e1(0x138)]))continue;const _0x11aadf=_0x111d8b[_0x3e60e1(0x1c6)]||_0x111d8b[_0x3e60e1(0x1af)]||_0x111d8b['date'];if(!_0x11aadf)continue;const _0x30794e=new Date(_0x11aadf);if(isNaN(_0x30794e[_0x3e60e1(0x1ae)]()))continue;const _0x35e3a5=(_0x111d8b[_0x3e60e1(0x129)]||_0x111d8b[_0x3e60e1(0x17b)]||'')[_0x3e60e1(0x1dd)]();if(_0x35e3a5[_0x3e60e1(0x187)]('urlaub\x20ende')||_0x35e3a5[_0x3e60e1(0x187)](_0x3e60e1(0x15f))||_0x35e3a5[_0x3e60e1(0x187)](_0x3e60e1(0x19d))){let _0x46db37=0x0;Object[_0x3e60e1(0x1d2)](_0x967894)['forEach'](_0x4386d3=>{if(_0x4386d3>_0x46db37)_0x46db37=_0x4386d3;});if(_0x46db37===0x0)_0x46db37=0x78;const _0x21a19d=_0x30794e[_0x3e60e1(0x1ae)]()-_0x46db37*0xea60;_0x18684f>=_0x21a19d&&_0x18684f<_0x30794e[_0x3e60e1(0x1ae)]()&&(_0x5bb022[_0x3e60e1(0x1be)]!==_0x3e60e1(0x151)&&(_0x5bb022['log']['info'](_0x3e60e1(0x19a)+_0x46db37+_0x3e60e1(0x174)),await _0x5bb022[_0x3e60e1(0x18e)](_0x3e60e1(0x143),{'val':_0x3e60e1(0x151),'ack':![]})));}for(const _0x5b5482 of _0x570e5f){if(_0x5b5482['location']){const _0x3ee6c1=_0x5b5482[_0x3e60e1(0x16e)][_0x3e60e1(0x1dd)](),_0x87253=(_0x5b5482['name']||'')['toLowerCase']();let _0x3681b8=_0x35e3a5['includes'](_0x3ee6c1);!_0x3681b8&&_0x87253[_0x3e60e1(0x1bb)]>0x3&&_0x35e3a5[_0x3e60e1(0x187)](_0x87253)&&(_0x3681b8=!![]);if(_0x3681b8){const _0x4560ab=_0x967894[_0x5b5482[_0x3e60e1(0x16e)]]||0x3c,_0x183d5d=_0x2b44a5[_0x5b5482[_0x3e60e1(0x16e)]]||_0x3e60e1(0x12d),_0x213323=_0x30794e[_0x3e60e1(0x1ae)]()-_0x4560ab*0xea60;if(_0x18684f>=_0x213323&&_0x18684f<_0x30794e[_0x3e60e1(0x1ae)]()){const _0x3c788d=lastActions['cal_'+_0x5b5482[_0x3e60e1(0x16e)]];if(_0x3c788d&&_0x18684f-_0x3c788d<CAL_COOLDOWN_MS)continue;const _0xd64b76=await findRelatedId(_0x5bb022,_0x5b5482['id'],_0x3e60e1(0x149));if(_0xd64b76){let _0x2c7fc7=_0x1bcebd[_0x5b5482[_0x3e60e1(0x16e)]];if(_0x2c7fc7===undefined)_0x2c7fc7=_0x1bcebd[_0x3e60e1(0x123)];if(_0x2c7fc7===undefined)_0x2c7fc7=0x15;const _0x394217=await _0x5bb022['getForeignStateAsync'](_0xd64b76);if(_0x394217&&typeof _0x394217[_0x3e60e1(0x15d)]===_0x3e60e1(0x1ab)&&_0x394217[_0x3e60e1(0x15d)]<_0x2c7fc7-0.5){_0x5bb022[_0x3e60e1(0x142)][_0x3e60e1(0x145)](_0x3e60e1(0x163)+_0x183d5d+_0x3e60e1(0x182)+_0x5b5482[_0x3e60e1(0x16e)]+'\x27\x20(Match:\x20'+_0x35e3a5+_0x3e60e1(0x1b9)+_0x2c7fc7+'Â°C\x20(Vorlauf:\x20'+_0x4560ab+_0x3e60e1(0x174)),await _0x5bb022[_0x3e60e1(0x14c)](_0xd64b76,_0x2c7fc7),await logAutomationAction(_0x5bb022,_0x3e60e1(0x18f)+_0x5b5482[_0x3e60e1(0x16e)]+_0x3e60e1(0x1a4)+_0x2c7fc7+_0x3e60e1(0x13e)+_0x183d5d+')'),lastActions['cal_'+_0x5b5482['location']]=_0x18684f;const _0x12425c=_0x3315d1[_0x3e60e1(0x144)](_0x26cfaa=>_0x26cfaa['room']===_0x5b5482[_0x3e60e1(0x16e)]);if(_0x12425c!==-0x1)_0x3315d1['splice'](_0x12425c,0x1);_0x3315d1['push']({'room':_0x5b5482[_0x3e60e1(0x16e)],'target':_0x2c7fc7,'until':_0x30794e[_0x3e60e1(0x1ae)]()}),_0x1ed624=!![];}}}}}}}_0x1ed624&&await _0x5bb022[_0x3e60e1(0x18e)](_0x3e60e1(0x17e),{'val':JSON[_0x3e60e1(0x1bc)](_0x3315d1),'ack':!![]});}catch(_0x2776cb){_0x5bb022['log'][_0x3e60e1(0x1a9)]('Calendar\x20Check\x20Error:\x20'+_0x2776cb[_0x3e60e1(0x1cc)]);}}function a1_0x1654(){const _0xf65af8=['remove','location','valveMapping','string','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','Â°C\x20<\x20','\x20min).','calendarInstance','trim','exports','3631336vqzNnb','until','useCalendar','summary','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','\x20erreicht\x20Limit\x20(','analysis.energy.activeEnforcements','10905471GPWBVp','split','unshift',']:\x20Raum-Trigger\x20\x27','8gTmTSu','.4.VALVE_STATE','triggerTime','target_temperature','includes','.1.ACTUAL_TEMPERATURE','.4.SET_TEMPERATURE','getStateAsync','push','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','Unknown','setStateAsync','[CAL]\x20','messwert','consultButler','getForeignObjectAsync','score','write','thermostatMapping','common','analysis.automation.mode','replace','search','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','SET_POINT_TEMPERATURE','localeCompare','ankunft','Â°C).\x20Entferne\x20Status.','now','local_temperature','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','[MPC]\x20','hm-rpc','\x20->\x20','set','sensor','approved','analysis.automation.lastAction','warn','6694215afXSWO','number','contact','analysis.energy.warmupTimes','getTime','eventStart','level','(((.+)+)+)+$','openknx','Unbekannt','rescue_','valve','isArray','Â°C).\x20Sparmodus\x20beendet!','apply',')\x20aktiv.\x20Heize\x20auf\x20','value.valve','length','stringify','off','currentSystemMode','getForeignObjectsAsync','Nicht\x20gefunden','[WATCHDOG]\x20','level.temperature','window','49506DWNXTt','Ist','_date','target','thermostat','5UFmxxR','ist','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','message','toUpperCase','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','wert','temp','Â°C\x20(Kalender-Schutz)','values','stellwert','valve_position','Â°C\x20->\x20','\x20auf\x20','ACTUAL','switch','3969MnNRZj','sort','manual','map','toLowerCase','name','occupied_heating_setpoint','level.valve',':\x20Aufheizen\x20auf\x20','indexOf','config','\x20->\x20Schalte\x20','default','current_heating_setpoint','open','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','PERFECT','.1.SET_POINT_TEMPERATURE','event','\x20gefunden!','thermostat.setpoint','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20','Classic','add','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','5046KMsWyn','Â°C.','PrÃ¤diktion:\x20','temperature','30Gsvzuh','getForeignStateAsync','mpc_','minutes_safe','_calName','\x20wieder\x20auf\x20','too_cold','reason','Enforcement\x20Monitor\x20Error:\x20','.data.table','Â°C\x20(via\x20','abs','calendarSelection','Manuelles\x20Mapping','log','system.mode','findIndex','info','./ai_agent','forEach','65WOctXh','setpoint','entries','from','setForeignStateAsync','find','sendToPythonWrapper','type','filter','normal','9636492qoYycl','room','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','devices','Â°C!\x20(Puffer:\x20','parse','\x20min)','.1.LEVEL','role','Auto-Erkennung','analysis.energy.mpcActiveInterventions','val','171GuJxvt','rÃ¼ckkehr','Fehlt','1573144pNVRxo','analysis.energy.schedulePreview','ðŸ“…\x20SMART\x20SCHEDULE\x20[','Â°C!\x20(Puffer\x20leer).','toString','.1.TEMPERATURE','splice','soll','date',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','\x20wurde\x20manuell\x20erhÃ¶ht.','slice'];a1_0x1654=function(){return _0xf65af8;};return a1_0x1654();}async function manageMpcIntervention(_0x3cbd74,_0x497399,_0xabae92){const _0x5e1d08=a1_0x1dca58;try{const _0x29f0b9=_0x5e1d08(0x15c),_0xb39c77=await _0x3cbd74[_0x5e1d08(0x18a)](_0x29f0b9);let _0x1c47d1=[];if(_0xb39c77&&_0xb39c77['val'])try{_0x1c47d1=JSON['parse'](_0xb39c77[_0x5e1d08(0x15d)]);}catch(_0x5766e7){}const _0x2aa117=_0x1c47d1[_0x5e1d08(0x120)](_0x497399);if(_0xabae92===_0x5e1d08(0x12e))_0x2aa117===-0x1&&(_0x1c47d1[_0x5e1d08(0x18b)](_0x497399),await _0x3cbd74[_0x5e1d08(0x18e)](_0x29f0b9,{'val':JSON[_0x5e1d08(0x1bc)](_0x1c47d1),'ack':!![]}));else _0xabae92==='remove'&&(_0x2aa117!==-0x1&&(_0x1c47d1[_0x5e1d08(0x167)](_0x2aa117,0x1),await _0x3cbd74[_0x5e1d08(0x18e)](_0x29f0b9,{'val':JSON[_0x5e1d08(0x1bc)](_0x1c47d1),'ack':!![]})));}catch(_0x142894){}}async function cleanupGhostInterventions(_0x1ed81b){const _0xc4e702=a1_0x1dca58;try{const _0x5803fd=_0xc4e702(0x15c),_0x21e63b=await _0x1ed81b[_0xc4e702(0x18a)](_0x5803fd);if(!_0x21e63b||!_0x21e63b[_0xc4e702(0x15d)])return;const _0x26b7c1=JSON['parse'](_0x21e63b[_0xc4e702(0x15d)]);if(!Array[_0xc4e702(0x1b6)](_0x26b7c1)||_0x26b7c1[_0xc4e702(0x1bb)]===0x0)return;let _0x276a27={'default':0x15};try{const _0x4b150c=await _0x1ed81b[_0xc4e702(0x18a)]('analysis.energy.warmupTargets');if(_0x4b150c&&_0x4b150c[_0xc4e702(0x15d)])_0x276a27=JSON[_0xc4e702(0x157)](_0x4b150c[_0xc4e702(0x15d)]);}catch(_0x3b1d22){}let _0x1d419a=[];try{const _0x4e9835=await _0x1ed81b[_0xc4e702(0x18a)]('analysis.energy.ventilationAlerts');if(_0x4e9835&&_0x4e9835[_0xc4e702(0x15d)])_0x1d419a=JSON[_0xc4e702(0x157)](_0x4e9835[_0xc4e702(0x15d)]);}catch(_0x321044){}const _0x5c0434=_0x1ed81b[_0xc4e702(0x121)][_0xc4e702(0x155)]||[];let _0x37732e=![];for(let _0x705336=_0x26b7c1['length']-0x1;_0x705336>=0x0;_0x705336--){const _0xf1c375=_0x26b7c1[_0x705336],_0x43ab6a=_0x5c0434[_0xc4e702(0x14d)](_0x1cb735=>normalize(_0x1cb735[_0xc4e702(0x16e)])===normalize(_0xf1c375)&&(_0x1cb735[_0xc4e702(0x14f)]===_0xc4e702(0x133)||_0x1cb735[_0xc4e702(0x14f)]===_0xc4e702(0x1c8)));if(!_0x43ab6a){_0x1ed81b['log'][_0xc4e702(0x1a9)]('ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0xf1c375+_0xc4e702(0x1cb)),_0x26b7c1[_0xc4e702(0x167)](_0x705336,0x1),_0x37732e=!![];continue;}if(_0x43ab6a){const _0x2452d7=await findRelatedId(_0x1ed81b,_0x43ab6a['id'],_0xc4e702(0x149)),_0xd3dca7=await _0x1ed81b['getForeignStateAsync'](_0x43ab6a['id']);if(_0x2452d7){const _0xf22a7c=await _0x1ed81b[_0xc4e702(0x135)](_0x2452d7);if(_0xf22a7c&&typeof _0xf22a7c[_0xc4e702(0x15d)]==='number'){let _0x5ba9ee=![],_0x304eca='';Math[_0xc4e702(0x13f)](_0xf22a7c[_0xc4e702(0x15d)]-ECO_TEMP)>0.5&&(_0x5ba9ee=!![],_0x304eca=_0xc4e702(0x1db));if(!_0x5ba9ee&&_0xd3dca7&&typeof _0xd3dca7[_0xc4e702(0x15d)]===_0xc4e702(0x1ab)){const _0x206f1e=_0x276a27[_0xf1c375]||_0x276a27['default']||0x15;_0xd3dca7[_0xc4e702(0x15d)]<_0x206f1e+0.2&&(_0x5ba9ee=!![],_0x304eca=_0xc4e702(0x13a));}if(_0x5ba9ee){if(_0x304eca==='manual'){_0x1ed81b['log'][_0xc4e702(0x145)]('ðŸ§¹\x20[MPC\x20CLEANUP]\x20'+_0xf1c375+'\x20ist\x20auf\x20'+_0xf22a7c[_0xc4e702(0x15d)]+'Â°C\x20(nicht\x20'+ECO_TEMP+_0xc4e702(0x19e));const _0x9523cb=lastActions['cal_'+_0xf1c375],_0x9fb4fc=_0x9523cb&&Date[_0xc4e702(0x19f)]()-_0x9523cb<0x2*0x3c*0x3e8;if(!_0x9fb4fc&&_0xf22a7c['val']>ECO_TEMP+0.5)_0x1ed81b[_0xc4e702(0x14e)]&&(_0x1ed81b['log'][_0xc4e702(0x145)]('ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20'+_0xf1c375+_0xc4e702(0x16b)),_0x1ed81b[_0xc4e702(0x14e)]('TRAIN_RL_PENALTY',{'room':_0xf1c375}));else _0x9fb4fc&&_0x1ed81b[_0xc4e702(0x142)]['info']('ðŸ“…\x20[MPC\x20INFO]\x20'+_0xf1c375+_0xc4e702(0x154));}else{if(_0x304eca==='too_cold'){let _0x39c343=![];if(_0x1d419a[_0xc4e702(0x14d)](_0x4a2df4=>_0x4a2df4[_0xc4e702(0x153)]===_0xf1c375))_0x39c343=!![];const _0x24df5c=_0x5c0434[_0xc4e702(0x150)](_0x4783cb=>normalize(_0x4783cb[_0xc4e702(0x16e)])===normalize(_0xf1c375)&&(_0x4783cb[_0xc4e702(0x14f)]===_0xc4e702(0x1c3)||_0x4783cb[_0xc4e702(0x14f)]===_0xc4e702(0x1a6)||_0x4783cb[_0xc4e702(0x14f)]===_0xc4e702(0x1ac)));for(const _0xe8d14d of _0x24df5c){try{const _0x1f30b7=await _0x1ed81b[_0xc4e702(0x135)](_0xe8d14d['id']);if(_0x1f30b7&&(_0x1f30b7[_0xc4e702(0x15d)]===!![]||_0x1f30b7[_0xc4e702(0x15d)]===0x1||String(_0x1f30b7[_0xc4e702(0x15d)])[_0xc4e702(0x1dd)]()===_0xc4e702(0x125)))_0x39c343=!![];}catch(_0x19631b){}}if(_0x39c343)_0x1ed81b[_0xc4e702(0x142)][_0xc4e702(0x145)](_0xc4e702(0x126)+_0xf1c375+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x2fe85e=_0x276a27[_0xf1c375]||_0x276a27[_0xc4e702(0x123)]||0x15;_0x1ed81b[_0xc4e702(0x142)][_0xc4e702(0x145)](_0xc4e702(0x172)+_0xf1c375+_0xc4e702(0x17d)+_0xd3dca7[_0xc4e702(0x15d)]+_0xc4e702(0x173)+(_0x2fe85e+0.2)+_0xc4e702(0x1b7)),await _0x1ed81b[_0xc4e702(0x14c)](_0x2452d7,_0x2fe85e),await logAutomationAction(_0x1ed81b,_0xc4e702(0x1c1)+_0xf1c375+_0xc4e702(0x16a)+_0x2fe85e+'Â°C'),lastActions['rescue_'+_0xf1c375]=Date['now']();}}}_0x26b7c1['splice'](_0x705336,0x1),_0x37732e=!![];}}}}}_0x37732e&&await _0x1ed81b[_0xc4e702(0x18e)](_0x5803fd,{'val':JSON['stringify'](_0x26b7c1),'ack':!![]});}catch(_0x5a1a60){}}async function applyEnergySavings(_0x2d5a6c,_0x5cea58){const _0x3d9df9=a1_0x1dca58;await cleanupGhostInterventions(_0x2d5a6c);if(!_0x5cea58||_0x5cea58[_0x3d9df9(0x1bb)]===0x0)return;const _0x158a21=_0x2d5a6c[_0x3d9df9(0x121)][_0x3d9df9(0x155)]||[],_0x2e2243=Date[_0x3d9df9(0x19f)]();for(const _0x507295 of _0x5cea58){const _0x18f473=_0x507295[_0x3d9df9(0x153)],_0x4cfb7e=_0x507295[_0x3d9df9(0x137)],_0x37ba7c=_0x507295[_0x3d9df9(0x1c7)]||0x15;if(lastActions[_0x3d9df9(0x1b4)+_0x18f473]&&_0x2e2243-lastActions[_0x3d9df9(0x1b4)+_0x18f473]<RESCUE_LOCK_MS)continue;const _0x1bdd84=_0x158a21[_0x3d9df9(0x14d)](_0x1ff5f4=>normalize(_0x1ff5f4[_0x3d9df9(0x16e)])===normalize(_0x18f473)&&(_0x1ff5f4[_0x3d9df9(0x14f)]===_0x3d9df9(0x133)||_0x1ff5f4[_0x3d9df9(0x14f)]==='thermostat'));if(!_0x1bdd84)continue;const _0x4b591d=await findRelatedId(_0x2d5a6c,_0x1bdd84['id'],_0x3d9df9(0x149));if(_0x4b591d){if(lastActions[_0x3d9df9(0x136)+_0x18f473]&&_0x2e2243-lastActions[_0x3d9df9(0x136)+_0x18f473]<0x1e*0x3c*0x3e8)continue;const _0x269f73=await _0x2d5a6c[_0x3d9df9(0x135)](_0x4b591d);if(_0x269f73&&typeof _0x269f73[_0x3d9df9(0x15d)]===_0x3d9df9(0x1ab)){const _0x59465b=_0x269f73['val'];_0x59465b!==ECO_TEMP&&await manageMpcIntervention(_0x2d5a6c,_0x18f473,_0x3d9df9(0x16d));if(_0x4cfb7e>0x1e)_0x59465b>ECO_TEMP+0.5&&(_0x2d5a6c['log'][_0x3d9df9(0x145)](_0x3d9df9(0x1ce)+_0x18f473+_0x3d9df9(0x1d6)+ECO_TEMP+_0x3d9df9(0x156)+_0x4cfb7e+_0x3d9df9(0x158)),await _0x2d5a6c[_0x3d9df9(0x14c)](_0x4b591d,ECO_TEMP),await manageMpcIntervention(_0x2d5a6c,_0x18f473,'add'),lastActions['mpc_'+_0x18f473]=_0x2e2243,await logAutomationAction(_0x2d5a6c,_0x3d9df9(0x1a2)+_0x18f473+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'Â°C'));else _0x4cfb7e<=0xf&&(_0x59465b<_0x37ba7c&&(_0x2d5a6c[_0x3d9df9(0x142)]['info'](_0x3d9df9(0x12c)+_0x18f473+_0x3d9df9(0x139)+_0x37ba7c+_0x3d9df9(0x164)),await _0x2d5a6c[_0x3d9df9(0x14c)](_0x4b591d,_0x37ba7c),await manageMpcIntervention(_0x2d5a6c,_0x18f473,_0x3d9df9(0x16d)),lastActions[_0x3d9df9(0x136)+_0x18f473]=_0x2e2243,await logAutomationAction(_0x2d5a6c,_0x3d9df9(0x1a2)+_0x18f473+_0x3d9df9(0x11f)+_0x37ba7c+'Â°C')));}}else _0x2d5a6c['log']['warn'](_0x3d9df9(0x171)+_0x18f473+_0x3d9df9(0x12a));}}module[a1_0x1dca58(0x177)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};