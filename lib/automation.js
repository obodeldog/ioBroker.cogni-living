const a1_0x2d8a97=a1_0x2b02;(function(_0x5c7018,_0x578d14){const _0x7253ee=a1_0x2b02,_0x4c75b1=_0x5c7018();while(!![]){try{const _0x5b2b76=parseInt(_0x7253ee(0x1f8))/0x1*(-parseInt(_0x7253ee(0x191))/0x2)+-parseInt(_0x7253ee(0x199))/0x3+-parseInt(_0x7253ee(0x207))/0x4+-parseInt(_0x7253ee(0x1f5))/0x5*(parseInt(_0x7253ee(0x1a0))/0x6)+parseInt(_0x7253ee(0x201))/0x7*(-parseInt(_0x7253ee(0x219))/0x8)+parseInt(_0x7253ee(0x1f3))/0x9*(-parseInt(_0x7253ee(0x186))/0xa)+parseInt(_0x7253ee(0x1bd))/0xb*(parseInt(_0x7253ee(0x19d))/0xc);if(_0x5b2b76===_0x578d14)break;else _0x4c75b1['push'](_0x4c75b1['shift']());}catch(_0xde5e1a){_0x4c75b1['push'](_0x4c75b1['shift']());}}}(a1_0x1183,0x6732c));const a1_0x9b040e=(function(){let _0x5f726=!![];return function(_0x44427f,_0x5cc99f){const _0xdfdfe5=_0x5f726?function(){const _0x2b5e44=a1_0x2b02;if(_0x5cc99f){const _0x37dddd=_0x5cc99f[_0x2b5e44(0x15d)](_0x44427f,arguments);return _0x5cc99f=null,_0x37dddd;}}:function(){};return _0x5f726=![],_0xdfdfe5;};}()),a1_0x4be8c6=a1_0x9b040e(this,function(){const _0x2e4a70=a1_0x2b02;return a1_0x4be8c6[_0x2e4a70(0x20c)]()[_0x2e4a70(0x154)](_0x2e4a70(0x20d))[_0x2e4a70(0x20c)]()['constructor'](a1_0x4be8c6)[_0x2e4a70(0x154)]('(((.+)+)+)+$');});a1_0x4be8c6();'use strict';const aiAgent=require(a1_0x2d8a97(0x1fd)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x5b8e5c){const _0x1f0fe3=a1_0x2d8a97;if(!_0x5b8e5c)return'';return _0x5b8e5c[_0x1f0fe3(0x217)]()['replace'](/\s+/g,'')[_0x1f0fe3(0x158)]();}function getWarmupRobust(_0xd3e6ff,_0x3734bf){const _0x1084df=a1_0x2d8a97;if(!_0xd3e6ff||!_0x3734bf)return 0x3c;if(_0xd3e6ff[_0x3734bf]!==undefined)return _0xd3e6ff[_0x3734bf];const _0x5b612c=_0x3734bf[_0x1084df(0x217)]()[_0x1084df(0x16e)](/Ã¤/g,'ae')['replace'](/Ã¶/g,'oe')[_0x1084df(0x16e)](/Ã¼/g,'ue')[_0x1084df(0x16e)](/ÃŸ/g,'ss')[_0x1084df(0x16e)](/\s+/g,'_')[_0x1084df(0x16e)](/[^a-z0-9_]/g,'');if(_0xd3e6ff[_0x5b612c]!==undefined)return _0xd3e6ff[_0x5b612c];return 0x3c;}async function logAutomationAction(_0x58a39c,_0x5528cc){const _0x3ef8b0=a1_0x2d8a97;await _0x58a39c[_0x3ef8b0(0x177)](_0x3ef8b0(0x1b0),{'val':_0x5528cc,'ack':!![]});try{const _0x359502='analysis.automation.actionLog',_0x4461ca=await _0x58a39c[_0x3ef8b0(0x1d7)](_0x359502);let _0x47114a=[];if(_0x4461ca&&_0x4461ca['val'])try{_0x47114a=JSON[_0x3ef8b0(0x1b9)](_0x4461ca[_0x3ef8b0(0x1ed)]);}catch(_0x16d8e0){}_0x47114a[_0x3ef8b0(0x1e7)]({'ts':Date['now'](),'msg':_0x5528cc});if(_0x47114a[_0x3ef8b0(0x17e)]>0x32)_0x47114a=_0x47114a[_0x3ef8b0(0x1e8)](0x0,0x32);await _0x58a39c[_0x3ef8b0(0x177)](_0x359502,{'val':JSON[_0x3ef8b0(0x1ca)](_0x47114a),'ack':!![]});}catch(_0x11e254){}}async function handlePrediction(_0xefaa22,_0x22345a,_0xd539b){const _0x653f04=a1_0x2d8a97;if(!_0x22345a||_0x22345a===_0x653f04(0x209))return;let _0x22de95=_0x653f04(0x1f6),_0x23fe60=0.6;try{const _0x119bef=await _0xefaa22['getStateAsync'](_0x653f04(0x21c));if(_0x119bef&&_0x119bef[_0x653f04(0x1ed)])_0x22de95=_0x119bef['val'];const _0x3596b8=await _0xefaa22[_0x653f04(0x1d7)](_0x653f04(0x151));if(_0x3596b8&&_0x3596b8[_0x653f04(0x1ed)])_0x23fe60=_0x3596b8['val'];}catch(_0x4719e){}if(_0x22de95===_0x653f04(0x1f6)||_0xd539b<_0x23fe60)return;const _0x29f731=Date[_0x653f04(0x1ee)]();if(lastActions[_0x22345a]&&_0x29f731-lastActions[_0x22345a]<COOLDOWN_MS)return;const _0x19e3ac=_0xefaa22[_0x653f04(0x20e)][_0x653f04(0x1db)]||[],_0x5dcf2a=normalize(_0x22345a),_0x445b08=_0x19e3ac['find'](_0x126166=>normalize(_0x126166['location'])===_0x5dcf2a&&(_0x126166[_0x653f04(0x167)]===_0x653f04(0x1e3)||_0x126166['type']===_0x653f04(0x20a)||_0x126166['type']==='switch'));if(!_0x445b08)return;const _0x46e3ba=await aiAgent[_0x653f04(0x1cd)](_0xefaa22,_0x22345a,_0x445b08['name'],_0xd539b);if(!_0x46e3ba[_0x653f04(0x192)])return;const _0x1a545f=_0x653f04(0x16d)+_0x22345a+'\x20->\x20Schalte\x20'+_0x445b08[_0x653f04(0x1e1)]+'\x20('+_0x46e3ba[_0x653f04(0x1cf)]+')';await logAutomationAction(_0xefaa22,'['+_0x22de95[_0x653f04(0x1b2)]()+']\x20'+_0x1a545f);if(_0x22de95===_0x653f04(0x1ef)){const _0x509004=await _0xefaa22['getForeignStateAsync'](_0x445b08['id']);(!_0x509004||!_0x509004[_0x653f04(0x1ed)]&&_0x509004['val']!==!![])&&await _0xefaa22[_0x653f04(0x164)](_0x445b08['id'],!![]),lastActions[_0x22345a]=_0x29f731;}}async function findRelatedId(_0x25aecb,_0x362ca0,_0x1504dc='setpoint'){const _0x539a57=a1_0x2d8a97;if(_0x1504dc===_0x539a57(0x1ac)&&_0x25aecb[_0x539a57(0x20e)][_0x539a57(0x1c2)]){let _0x470649=_0x25aecb[_0x539a57(0x20e)][_0x539a57(0x1c2)];if(typeof _0x470649===_0x539a57(0x185))try{_0x470649=JSON[_0x539a57(0x1b9)](_0x470649);}catch(_0x1ebb35){}if(_0x470649&&_0x470649[_0x362ca0])return _0x470649[_0x362ca0];}if(_0x1504dc===_0x539a57(0x180)&&_0x25aecb[_0x539a57(0x20e)][_0x539a57(0x1e9)]){let _0xd1db0e=_0x25aecb['config'][_0x539a57(0x1e9)];if(typeof _0xd1db0e===_0x539a57(0x185))try{_0xd1db0e=JSON[_0x539a57(0x1b9)](_0xd1db0e);}catch(_0x4d54c1){}if(_0xd1db0e&&_0xd1db0e[_0x362ca0])return _0xd1db0e[_0x362ca0];}let _0x11a4ea=[];if(_0x1504dc===_0x539a57(0x1ac))_0x11a4ea=[{'s':_0x539a57(0x183),'t':_0x539a57(0x1ad)},{'s':_0x539a57(0x19a),'t':'.1.SET_POINT_TEMPERATURE'},{'s':'.1.TEMPERATURE','t':_0x539a57(0x21a)},{'s':_0x539a57(0x17b),'t':'SET_POINT_TEMPERATURE'},{'s':_0x539a57(0x1ba),'t':_0x539a57(0x1be)},{'s':_0x539a57(0x1ba),'t':_0x539a57(0x157)},{'s':_0x539a57(0x212),'t':'target_temperature'},{'s':_0x539a57(0x1aa),'t':_0x539a57(0x1d0)},{'s':'Ist','t':'Soll'},{'s':'temperature','t':_0x539a57(0x1ac)}];else _0x1504dc==='valve'&&(_0x11a4ea=[{'s':_0x539a57(0x183),'t':'.1.LEVEL'},{'s':_0x539a57(0x19a),'t':_0x539a57(0x1c6)},{'s':_0x539a57(0x19a),'t':_0x539a57(0x1b7)},{'s':_0x539a57(0x1ba),'t':'pi_heating_demand'},{'s':_0x539a57(0x212),'t':_0x539a57(0x1a6)},{'s':_0x539a57(0x212),'t':_0x539a57(0x15c)}]);for(const _0x16ec43 of _0x11a4ea){if(_0x362ca0[_0x539a57(0x218)](_0x16ec43['s'])){const _0x17f74d=_0x362ca0[_0x539a57(0x16e)](_0x16ec43['s'],_0x16ec43['t']),_0x4b6b15=await _0x25aecb['getForeignObjectAsync'](_0x17f74d);if(_0x4b6b15)return _0x17f74d;}}try{const _0x2dde29=_0x362ca0[_0x539a57(0x15b)]('.');if(_0x2dde29[_0x539a57(0x17e)]>0x2){const _0x22072e=_0x2dde29[_0x539a57(0x1e8)](0x0,-0x1)[_0x539a57(0x175)]('.'),_0x2606d6=await _0x25aecb[_0x539a57(0x153)](_0x22072e+'.*'),_0x1343d0=[],_0x308140=_0x362ca0[_0x539a57(0x15b)](/[._]+/)[_0x539a57(0x1e0)](_0x448fe9=>![_0x539a57(0x1e4),'0','hm-rpc',_0x539a57(0x173),_0x539a57(0x1dc),'temperature',_0x539a57(0x1e2),_0x539a57(0x16b),_0x539a57(0x1f2),_0x539a57(0x1fb)][_0x539a57(0x218)](_0x448fe9[_0x539a57(0x217)]()));for(const [_0x533a59,_0x2d4fa9]of Object[_0x539a57(0x21d)](_0x2606d6)){if(_0x533a59===_0x362ca0)continue;if(_0x2d4fa9&&_0x2d4fa9[_0x539a57(0x182)]){const _0x545477=_0x533a59[_0x539a57(0x217)](),_0x366845=(_0x2d4fa9[_0x539a57(0x182)][_0x539a57(0x194)]||'')[_0x539a57(0x217)](),_0xdbf325=(_0x2d4fa9[_0x539a57(0x182)][_0x539a57(0x1ce)]||'')[_0x539a57(0x217)]();let _0x589f2c=![];if(_0x1504dc===_0x539a57(0x1ac)&&_0x2d4fa9[_0x539a57(0x182)][_0x539a57(0x214)]===!![])_0x589f2c=_0x545477[_0x539a57(0x218)]('set')||_0x545477[_0x539a57(0x218)](_0x539a57(0x1eb))||_0x545477['includes'](_0x539a57(0x17f))||_0x366845[_0x539a57(0x218)](_0x539a57(0x1fa))||_0x366845[_0x539a57(0x218)](_0x539a57(0x189));else _0x1504dc===_0x539a57(0x180)&&(_0x589f2c=_0x545477[_0x539a57(0x218)](_0x539a57(0x15c))||_0x545477[_0x539a57(0x218)]('valve')||_0x545477[_0x539a57(0x218)]('stellwert')||_0x545477[_0x539a57(0x218)](_0x539a57(0x1f4))||_0x366845[_0x539a57(0x218)](_0x539a57(0x1d5))||_0x366845[_0x539a57(0x218)](_0x539a57(0x200))||_0xdbf325['includes']('%'));if(_0x589f2c){const _0xa696a8=_0x533a59[_0x539a57(0x15b)](/[._]+/)[_0x539a57(0x176)](_0x346eff=>_0x346eff['toLowerCase']());let _0x2f7dc0=0x0;_0x308140[_0x539a57(0x1a4)](_0x1e5646=>{const _0x1632f9=_0x539a57;if(_0xa696a8[_0x1632f9(0x218)](_0x1e5646[_0x1632f9(0x217)]()))_0x2f7dc0++;}),_0x1343d0[_0x539a57(0x1b4)]({'id':_0x533a59,'score':_0x2f7dc0});}}}if(_0x1343d0[_0x539a57(0x17e)]>0x0){_0x1343d0[_0x539a57(0x160)]((_0xa150f0,_0x2e0a2f)=>_0x2e0a2f[_0x539a57(0x1c9)]-_0xa150f0[_0x539a57(0x1c9)]);if(_0x1343d0[0x0][_0x539a57(0x1c9)]>0x0)return _0x1343d0[0x0]['id'];}}}catch(_0x80cf07){}return null;}async function scanThermostats(_0x1ea1d4){const _0xc823e8=a1_0x2d8a97,_0x24fa54=_0x1ea1d4[_0xc823e8(0x20e)][_0xc823e8(0x1db)]||[],_0x1cd296=[],_0x1c4175=_0x24fa54['filter'](_0xfc816a=>_0xfc816a['id']&&_0xfc816a['id'][_0xc823e8(0x218)](_0xc823e8(0x212))||_0xfc816a[_0xc823e8(0x167)]&&[_0xc823e8(0x212),_0xc823e8(0x1ea),'sensor'][_0xc823e8(0x218)](_0xfc816a[_0xc823e8(0x167)])||_0xfc816a[_0xc823e8(0x1e1)]&&_0xfc816a[_0xc823e8(0x1e1)]['toLowerCase']()[_0xc823e8(0x218)](_0xc823e8(0x161)));for(const _0x59bbbb of _0x1c4175){const _0x37709c=await findRelatedId(_0x1ea1d4,_0x59bbbb['id'],_0xc823e8(0x1ac)),_0x2ebf06=await findRelatedId(_0x1ea1d4,_0x59bbbb['id'],_0xc823e8(0x180));let _0x1ec7c1=_0xc823e8(0x1f9),_0x7c0bec=![],_0x3e03a6=_0x1ea1d4['config'][_0xc823e8(0x1c2)]||{};if(typeof _0x3e03a6===_0xc823e8(0x185))try{_0x3e03a6=JSON[_0xc823e8(0x1b9)](_0x3e03a6);}catch(_0x2a8c98){}let _0x2661ca=_0x1ea1d4['config'][_0xc823e8(0x1e9)]||{};if(typeof _0x2661ca==='string')try{_0x2661ca=JSON[_0xc823e8(0x1b9)](_0x2661ca);}catch(_0x11b78f){}if(_0x3e03a6[_0x59bbbb['id']]&&_0x3e03a6[_0x59bbbb['id']]===_0x37709c||_0x2661ca[_0x59bbbb['id']]&&_0x2661ca[_0x59bbbb['id']]===_0x2ebf06)_0x1ec7c1='Manuelles\x20Mapping',_0x7c0bec=!![];else(_0x37709c||_0x2ebf06)&&(_0x1ec7c1=_0xc823e8(0x1a7));_0x1cd296[_0xc823e8(0x1b4)]({'room':_0x59bbbb[_0xc823e8(0x1fe)]||_0xc823e8(0x1f7),'sensorId':_0x59bbbb['id'],'setpointId':_0x37709c||'-','valveId':_0x2ebf06||'-','source':_0x1ec7c1,'isManual':_0x7c0bec,'status':_0x37709c&&_0x2ebf06?_0xc823e8(0x1a5):_0x37709c?'OK':_0xc823e8(0x196)});}return _0x1cd296[_0xc823e8(0x160)]((_0x997968,_0xa1dd)=>_0x997968[_0xc823e8(0x21b)][_0xc823e8(0x163)](_0xa1dd['room']));}async function updateSchedulePreview(_0x1257b3){const _0x402767=a1_0x2d8a97;if(!_0x1257b3['config'][_0x402767(0x188)]||!_0x1257b3['config'][_0x402767(0x1fc)])return;let _0x4d260a={};try{const _0x3c253e=await _0x1257b3[_0x402767(0x1d7)](_0x402767(0x184));if(_0x3c253e&&_0x3c253e['val'])_0x4d260a=JSON['parse'](_0x3c253e[_0x402767(0x1ed)]);}catch(_0xed6e0b){}const _0x485fd7=[],_0x14c88f=Date[_0x402767(0x1ee)](),_0x244151=0x30*0x3c*0x3c*0x3e8;try{const _0x15caa8=await _0x1257b3[_0x402767(0x156)](_0x1257b3[_0x402767(0x20e)]['calendarInstance']+_0x402767(0x155));if(!_0x15caa8||!_0x15caa8[_0x402767(0x1ed)])return;const _0xe42fb2=JSON[_0x402767(0x1b9)](_0x15caa8[_0x402767(0x1ed)]),_0x267067=_0x1257b3[_0x402767(0x20e)]['calendarSelection']||[],_0x54e213=_0x1257b3[_0x402767(0x20e)][_0x402767(0x1db)]||[],_0x53d6fe=new Set();_0x54e213[_0x402767(0x1a4)](_0x4997ad=>{const _0x48553a=_0x402767;if(_0x4997ad[_0x48553a(0x1fe)])_0x53d6fe[_0x48553a(0x159)](_0x4997ad[_0x48553a(0x1fe)]);});for(const _0x562eba of _0xe42fb2){if(_0x562eba[_0x402767(0x18c)]&&_0x267067[_0x402767(0x17e)]>0x0&&!_0x267067[_0x402767(0x218)](_0x562eba[_0x402767(0x18c)]))continue;const _0x8a76f=_0x562eba[_0x402767(0x1a3)]||_0x562eba[_0x402767(0x181)]||_0x562eba[_0x402767(0x152)];if(!_0x8a76f)continue;const _0x2df696=new Date(_0x8a76f),_0x44325a=_0x2df696['getTime']();if(isNaN(_0x44325a))continue;if(_0x44325a<_0x14c88f)continue;if(_0x44325a>_0x14c88f+_0x244151)continue;const _0x1dfdb3=(_0x562eba[_0x402767(0x1d9)]||_0x562eba[_0x402767(0x16f)]||'')[_0x402767(0x217)]();let _0x304ef1=![],_0x17e171=[],_0x290424=_0x562eba[_0x402767(0x1d9)]||_0x562eba[_0x402767(0x16f)]||_0x402767(0x1f7);if(_0x1dfdb3['includes'](_0x402767(0x193))||_0x1dfdb3[_0x402767(0x218)]('rÃ¼ckkehr')||_0x1dfdb3[_0x402767(0x218)](_0x402767(0x1c0)))_0x304ef1=!![],_0x17e171=Array[_0x402767(0x165)](_0x53d6fe);else for(const _0x1fa1c9 of _0x53d6fe){if(_0x1dfdb3[_0x402767(0x218)](_0x1fa1c9['toLowerCase']()))_0x17e171[_0x402767(0x1b4)](_0x1fa1c9);}_0x17e171[_0x402767(0x17e)]>0x0&&_0x17e171[_0x402767(0x1a4)](_0xb30a85=>{const _0x23e3cf=_0x402767;let _0xe48ca0=0x3c;if(_0x304ef1){let _0x30bc18=0x0;Object[_0x23e3cf(0x1c5)](_0x4d260a)[_0x23e3cf(0x1a4)](_0x586c88=>{if(_0x586c88>_0x30bc18)_0x30bc18=_0x586c88;}),_0xe48ca0=_0x30bc18>0x0?_0x30bc18:0x78;}else _0xe48ca0=getWarmupRobust(_0x4d260a,_0xb30a85);const _0x997468=new Date(_0x44325a-_0xe48ca0*0xea60);_0x485fd7['push']({'eventTime':_0x44325a,'triggerTime':_0x997468[_0x23e3cf(0x18a)](),'room':_0xb30a85,'minutes':_0xe48ca0,'reason':_0x290424,'isGlobal':_0x304ef1});});}}catch(_0x3f7655){}_0x485fd7[_0x402767(0x160)]((_0x140479,_0xd23e14)=>_0x140479[_0x402767(0x178)]-_0xd23e14['triggerTime']);const _0x44190a=_0x485fd7['slice'](0x0,0x1e);await _0x1257b3['setStateAsync'](_0x402767(0x215),{'val':JSON[_0x402767(0x1ca)](_0x44190a),'ack':!![]});}function a1_0x1183(){const _0x5baf22=['event','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','devices','wert','warn','splice','ðŸ“…\x20SMART\x20SCHEDULE\x20[','filter','name','actual','light','openknx','findIndex',']:\x20Raum-Trigger\x20\x27','unshift','slice','valveMapping','thermostat','soll','\x20wieder\x20auf\x20','val','now','active',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','messwert','244179AowITW','position','25fEngbb','off','Unbekannt','564100RMMgnO','Nicht\x20gefunden','level.temperature','state','calendarInstance','./ai_agent','location','system.mode','value.valve','1638joTRgl',')\x20aktiv.\x20Heize\x20auf\x20','_meta','ðŸ“…\x20[MPC\x20INFO]\x20','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','manual','408956DuTCoG','cal_','Unknown','dimmer','analysis.energy.activeEnforcements','toString','(((.+)+)+)+$','config','Â°C).\x20Sparmodus\x20beendet!','\x20ist\x20auf\x20','mpc_','temperature','\x27\x20(Match:\x20','write','analysis.energy.schedulePreview','isArray','toLowerCase','includes','6664IpJwXj','.4.SET_TEMPERATURE','room','analysis.automation.mode','entries','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','analysis.automation.confidenceThreshold','date','getForeignObjectsAsync','search','.data.table','getForeignStateAsync','current_heating_setpoint','trim','add','Calendar\x20Check\x20Error:\x20','split','level','apply','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','[CAL]\x20','sort','temp','Â°C\x20(nicht\x20','localeCompare','setForeignStateAsync','from','message','type','analysis.energy.warmupSources','default','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','sensor','Â°C\x20(Kalender-Schutz)','PrÃ¤diktion:\x20','replace','summary','calendarSelection','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','ist','too_cold','join','map','setStateAsync','triggerTime','[MPC]\x20','window','ACTUAL_TEMPERATURE','\x20auf\x20','until','length','target','valve','eventStart','common','.1.ACTUAL_TEMPERATURE','analysis.energy.warmupTimes','string','10yUCoNs','Â°C.','useCalendar','thermostat.setpoint','getTime','normal','_calName','[FORCE]\x20','Â°C!\x20(Puffer\x20leer).','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','find','2xgVYCz','approved','urlaub\x20ende','role','error','Fehlt','indexOf','log','1637658OXeQEf','.1.TEMPERATURE','currentSystemMode','rÃ¼ckkehr','12YwHZLc','Â°C\x20(via\x20','info','66786nRfeuk','Â°C\x20->\x20','Â°C\x20(Vorlauf:\x20','_date','forEach','PERFECT','valve_position','Auto-Erkennung','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','open','ACTUAL','Enforcement\x20Monitor\x20Error:\x20','setpoint','.1.SET_POINT_TEMPERATURE','TRAIN_RL_PENALTY','\x20erreicht\x20Limit\x20(','analysis.automation.lastAction','abs','toUpperCase','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','push','sendToPythonWrapper','minutes_safe','.4.VALVE_STATE','remove','parse','local_temperature','\x20wurde\x20manuell\x20erhÃ¶ht.','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','21038963LhUJMs','occupied_heating_setpoint','analysis.energy.mpcActiveInterventions','ankunft','\x20min).','thermostatMapping','analysis.energy.rlPenalties','analysis.energy.ventilationAlerts','values','.1.LEVEL','number',':\x20Absenkung\x20auf\x20','score','stringify','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','Â°C!\x20(Puffer:\x20','consultButler','unit','reason','SET','getHours','\x20min)','\x20->\x20','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','level.valve','[WATCHDOG]\x20','getStateAsync','ðŸ§¹\x20[MPC\x20CLEANUP]\x20'];a1_0x1183=function(){return _0x5baf22;};return a1_0x1183();}async function monitorEnforcements(_0x45447d){const _0x220437=a1_0x2d8a97;try{const _0x4068a4=_0x220437(0x20b),_0x3ef41f=await _0x45447d[_0x220437(0x1d7)](_0x4068a4);if(!_0x3ef41f||!_0x3ef41f[_0x220437(0x1ed)])return;let _0x3730b6=[];try{_0x3730b6=JSON['parse'](_0x3ef41f[_0x220437(0x1ed)]);}catch(_0x43fa8b){return;}if(!Array['isArray'](_0x3730b6)||_0x3730b6[_0x220437(0x17e)]===0x0)return;const _0x10d8e3=Date[_0x220437(0x1ee)](),_0x3eaf25=_0x45447d[_0x220437(0x20e)]['devices']||[];let _0xffe656=![];for(let _0x5065f4=_0x3730b6[_0x220437(0x17e)]-0x1;_0x5065f4>=0x0;_0x5065f4--){const _0x44e08d=_0x3730b6[_0x5065f4];if(_0x10d8e3>=_0x44e08d[_0x220437(0x17d)]){_0x45447d[_0x220437(0x198)][_0x220437(0x19f)](_0x220437(0x205)+_0x44e08d[_0x220437(0x21b)]+_0x220437(0x1d4)),_0x3730b6[_0x220437(0x1de)](_0x5065f4,0x1),_0xffe656=!![];continue;}const _0x23d770=_0x3eaf25[_0x220437(0x190)](_0x32f68c=>normalize(_0x32f68c[_0x220437(0x1fe)])===normalize(_0x44e08d['room'])&&(_0x32f68c[_0x220437(0x167)]===_0x220437(0x212)||_0x32f68c[_0x220437(0x167)]==='thermostat'));if(_0x23d770){const _0x414b6b=await findRelatedId(_0x45447d,_0x23d770['id'],'setpoint');if(_0x414b6b){const _0x5c4a22=await _0x45447d[_0x220437(0x156)](_0x414b6b);_0x5c4a22&&typeof _0x5c4a22['val']===_0x220437(0x1c7)&&(_0x5c4a22['val']<0xf&&(_0x45447d['log']['warn'](_0x220437(0x1bc)+_0x44e08d[_0x220437(0x21b)]+_0x220437(0x17c)+_0x5c4a22[_0x220437(0x1ed)]+_0x220437(0x18f)+_0x44e08d[_0x220437(0x17f)]+_0x220437(0x187)),await _0x45447d['setForeignStateAsync'](_0x414b6b,_0x44e08d[_0x220437(0x17f)]),await logAutomationAction(_0x45447d,_0x220437(0x18d)+_0x44e08d['room']+':\x20'+_0x5c4a22[_0x220437(0x1ed)]+_0x220437(0x1a1)+_0x44e08d[_0x220437(0x17f)]+_0x220437(0x16c))));}}}_0xffe656&&await _0x45447d[_0x220437(0x177)](_0x4068a4,{'val':JSON['stringify'](_0x3730b6),'ack':!![]});}catch(_0x3024e6){_0x45447d[_0x220437(0x198)][_0x220437(0x195)](_0x220437(0x1ab)+_0x3024e6[_0x220437(0x166)]);}}async function checkCalendarTriggers(_0x57d0e2){const _0xb71f56=a1_0x2d8a97;if(!_0x57d0e2[_0xb71f56(0x20e)][_0xb71f56(0x188)]||!_0x57d0e2[_0xb71f56(0x20e)][_0xb71f56(0x1fc)])return;await updateSchedulePreview(_0x57d0e2);let _0xb58e64={},_0x15fb40={};try{const _0x15fc3d=await _0x57d0e2[_0xb71f56(0x1d7)](_0xb71f56(0x184));if(_0x15fc3d&&_0x15fc3d[_0xb71f56(0x1ed)])_0xb58e64=JSON[_0xb71f56(0x1b9)](_0x15fc3d[_0xb71f56(0x1ed)]);const _0x143911=await _0x57d0e2['getStateAsync'](_0xb71f56(0x168));if(_0x143911&&_0x143911[_0xb71f56(0x1ed)])_0x15fb40=JSON['parse'](_0x143911[_0xb71f56(0x1ed)]);}catch(_0x1ccc6a){}let _0x160ed5={'default':0x15};try{const _0x472a78=await _0x57d0e2[_0xb71f56(0x1d7)]('analysis.energy.warmupTargets');if(_0x472a78&&_0x472a78[_0xb71f56(0x1ed)])_0x160ed5=JSON[_0xb71f56(0x1b9)](_0x472a78[_0xb71f56(0x1ed)]);}catch(_0x2e3834){}let _0x42e583=[];try{const _0x37161a=await _0x57d0e2[_0xb71f56(0x1d7)]('analysis.energy.activeEnforcements');if(_0x37161a&&_0x37161a['val'])_0x42e583=JSON[_0xb71f56(0x1b9)](_0x37161a['val']);}catch(_0x2dfcec){}try{const _0x520564=await _0x57d0e2['getForeignStateAsync'](_0x57d0e2['config'][_0xb71f56(0x1fc)]+'.data.table');if(!_0x520564||!_0x520564[_0xb71f56(0x1ed)])return;const _0x34cb11=JSON[_0xb71f56(0x1b9)](_0x520564[_0xb71f56(0x1ed)]),_0x202dfd=Date[_0xb71f56(0x1ee)](),_0x1671b9=_0x57d0e2[_0xb71f56(0x20e)][_0xb71f56(0x1db)]||[],_0x492f6d=_0x57d0e2[_0xb71f56(0x20e)][_0xb71f56(0x170)]||[];let _0x5bcd35=![];for(const _0x1834cb of _0x34cb11){if(_0x1834cb[_0xb71f56(0x18c)]&&_0x492f6d[_0xb71f56(0x17e)]>0x0&&!_0x492f6d[_0xb71f56(0x218)](_0x1834cb[_0xb71f56(0x18c)]))continue;const _0x4fa948=_0x1834cb[_0xb71f56(0x1a3)]||_0x1834cb[_0xb71f56(0x181)]||_0x1834cb[_0xb71f56(0x152)];if(!_0x4fa948)continue;const _0x14f228=new Date(_0x4fa948);if(isNaN(_0x14f228[_0xb71f56(0x18a)]()))continue;const _0x3e6626=(_0x1834cb[_0xb71f56(0x1d9)]||_0x1834cb['summary']||'')[_0xb71f56(0x217)]();if(_0x3e6626['includes'](_0xb71f56(0x193))||_0x3e6626['includes'](_0xb71f56(0x19c))||_0x3e6626[_0xb71f56(0x218)]('ankunft')){let _0x54a5de=0x0;Object[_0xb71f56(0x1c5)](_0xb58e64)[_0xb71f56(0x1a4)](_0x4390db=>{if(_0x4390db>_0x54a5de)_0x54a5de=_0x4390db;});if(_0x54a5de===0x0)_0x54a5de=0x78;const _0x396af4=_0x14f228['getTime']()-_0x54a5de*0xea60;_0x202dfd>=_0x396af4&&_0x202dfd<_0x14f228[_0xb71f56(0x18a)]()&&(_0x57d0e2[_0xb71f56(0x19b)]!=='normal'&&(_0x57d0e2[_0xb71f56(0x198)][_0xb71f56(0x19f)]('ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x54a5de+_0xb71f56(0x1c1)),await _0x57d0e2['setStateAsync'](_0xb71f56(0x1ff),{'val':_0xb71f56(0x18b),'ack':![]})));}for(const _0x25e305 of _0x1671b9){if(_0x25e305[_0xb71f56(0x1fe)]){const _0x49d948=_0x25e305[_0xb71f56(0x1fe)]['toLowerCase'](),_0x2948d=(_0x25e305[_0xb71f56(0x1e1)]||'')[_0xb71f56(0x217)]();let _0x2a1e65=_0x3e6626[_0xb71f56(0x218)](_0x49d948);!_0x2a1e65&&_0x2948d['length']>0x3&&_0x3e6626[_0xb71f56(0x218)](_0x2948d)&&(_0x2a1e65=!![]);if(_0x2a1e65){const _0xbd4b12=getWarmupRobust(_0xb58e64,_0x25e305[_0xb71f56(0x1fe)]),_0x573a09=_0x15fb40[_0x25e305[_0xb71f56(0x1fe)]]||'Classic',_0x22f515=_0x14f228['getTime']()-_0xbd4b12*0xea60;if(_0x202dfd>=_0x22f515&&_0x202dfd<_0x14f228[_0xb71f56(0x18a)]()){const _0x5d1002=lastActions[_0xb71f56(0x208)+_0x25e305[_0xb71f56(0x1fe)]];if(_0x5d1002&&_0x202dfd-_0x5d1002<CAL_COOLDOWN_MS)continue;const _0x10746b=await findRelatedId(_0x57d0e2,_0x25e305['id'],_0xb71f56(0x1ac));if(_0x10746b){let _0x5beb87=_0x160ed5[_0x25e305[_0xb71f56(0x1fe)]];if(_0x5beb87===undefined)_0x5beb87=_0x160ed5[_0xb71f56(0x169)];if(_0x5beb87===undefined)_0x5beb87=0x15;const _0x1c3839=await _0x57d0e2[_0xb71f56(0x156)](_0x10746b);if(_0x1c3839&&typeof _0x1c3839[_0xb71f56(0x1ed)]===_0xb71f56(0x1c7)&&_0x1c3839[_0xb71f56(0x1ed)]<_0x5beb87-0.5){_0x57d0e2['log'][_0xb71f56(0x19f)](_0xb71f56(0x1df)+_0x573a09+_0xb71f56(0x1e6)+_0x25e305[_0xb71f56(0x1fe)]+_0xb71f56(0x213)+_0x3e6626+_0xb71f56(0x202)+_0x5beb87+_0xb71f56(0x1a2)+_0xbd4b12+_0xb71f56(0x1c1)),await _0x57d0e2[_0xb71f56(0x164)](_0x10746b,_0x5beb87),await logAutomationAction(_0x57d0e2,_0xb71f56(0x15f)+_0x25e305[_0xb71f56(0x1fe)]+_0xb71f56(0x1d3)+_0x5beb87+_0xb71f56(0x19e)+_0x573a09+')'),lastActions[_0xb71f56(0x208)+_0x25e305[_0xb71f56(0x1fe)]]=_0x202dfd;const _0x4433e9=_0x42e583[_0xb71f56(0x1e5)](_0x4c2311=>_0x4c2311[_0xb71f56(0x21b)]===_0x25e305[_0xb71f56(0x1fe)]);if(_0x4433e9!==-0x1)_0x42e583['splice'](_0x4433e9,0x1);_0x42e583[_0xb71f56(0x1b4)]({'room':_0x25e305[_0xb71f56(0x1fe)],'target':_0x5beb87,'until':_0x14f228[_0xb71f56(0x18a)]()}),_0x5bcd35=!![];}}}}}}}_0x5bcd35&&await _0x57d0e2['setStateAsync'](_0xb71f56(0x20b),{'val':JSON[_0xb71f56(0x1ca)](_0x42e583),'ack':!![]});}catch(_0x1fe3f7){_0x57d0e2[_0xb71f56(0x198)][_0xb71f56(0x1dd)](_0xb71f56(0x15a)+_0x1fe3f7['message']);}}async function manageMpcIntervention(_0x824dc5,_0x4737e6,_0x5d1c71){const _0x5f061e=a1_0x2d8a97;try{const _0x53fc71=_0x5f061e(0x1bf),_0x1e132e=await _0x824dc5[_0x5f061e(0x1d7)](_0x53fc71);let _0x42cac3=[];if(_0x1e132e&&_0x1e132e[_0x5f061e(0x1ed)])try{_0x42cac3=JSON[_0x5f061e(0x1b9)](_0x1e132e[_0x5f061e(0x1ed)]);}catch(_0x463c5d){}const _0x8aa49d=_0x42cac3[_0x5f061e(0x197)](_0x4737e6);if(_0x5d1c71===_0x5f061e(0x159))_0x8aa49d===-0x1&&(_0x42cac3[_0x5f061e(0x1b4)](_0x4737e6),await _0x824dc5[_0x5f061e(0x177)](_0x53fc71,{'val':JSON[_0x5f061e(0x1ca)](_0x42cac3),'ack':!![]}));else _0x5d1c71===_0x5f061e(0x1b8)&&(_0x8aa49d!==-0x1&&(_0x42cac3['splice'](_0x8aa49d,0x1),await _0x824dc5[_0x5f061e(0x177)](_0x53fc71,{'val':JSON['stringify'](_0x42cac3),'ack':!![]})));}catch(_0x379de3){}}function a1_0x2b02(_0x8a56ea,_0x53bddd){const _0x57e30d=a1_0x1183();return a1_0x2b02=function(_0x4be8c6,_0x9b040e){_0x4be8c6=_0x4be8c6-0x150;let _0x1183b0=_0x57e30d[_0x4be8c6];return _0x1183b0;},a1_0x2b02(_0x8a56ea,_0x53bddd);}async function cleanupGhostInterventions(_0x2c32c8){const _0x1de044=a1_0x2d8a97;try{const _0x54d633=_0x1de044(0x1bf),_0x1d6a24=await _0x2c32c8['getStateAsync'](_0x54d633);if(!_0x1d6a24||!_0x1d6a24[_0x1de044(0x1ed)])return;const _0x2a10ed=JSON[_0x1de044(0x1b9)](_0x1d6a24['val']);if(!Array[_0x1de044(0x216)](_0x2a10ed)||_0x2a10ed['length']===0x0)return;let _0x324df4={'default':0x15};try{const _0x439e5f=await _0x2c32c8['getStateAsync']('analysis.energy.warmupTargets');if(_0x439e5f&&_0x439e5f[_0x1de044(0x1ed)])_0x324df4=JSON[_0x1de044(0x1b9)](_0x439e5f[_0x1de044(0x1ed)]);}catch(_0x52a77a){}let _0x5222b1=[];try{const _0x3b547f=await _0x2c32c8['getStateAsync'](_0x1de044(0x1c4));if(_0x3b547f&&_0x3b547f[_0x1de044(0x1ed)])_0x5222b1=JSON['parse'](_0x3b547f['val']);}catch(_0x104ff4){}let _0x842093={},_0x3fd820=![];try{const _0x31a6e1=await _0x2c32c8['getStateAsync'](_0x1de044(0x1c3));if(_0x31a6e1&&_0x31a6e1[_0x1de044(0x1ed)])_0x842093=JSON['parse'](_0x31a6e1[_0x1de044(0x1ed)]);}catch(_0x4c1e93){}if(_0x842093[_0x1de044(0x203)]){const _0x1ca94f=Date['now']();for(const [_0x5a23ea,_0x4fa957]of Object['entries'](_0x842093[_0x1de044(0x203)])){_0x1ca94f-_0x4fa957>PENALTY_TTL&&(delete _0x842093[_0x5a23ea],delete _0x842093[_0x1de044(0x203)][_0x5a23ea],_0x3fd820=!![],_0x2c32c8[_0x1de044(0x198)][_0x1de044(0x19f)](_0x1de044(0x16a)+_0x5a23ea+_0x1de044(0x150)));}}const _0x242700=_0x2c32c8[_0x1de044(0x20e)][_0x1de044(0x1db)]||[];let _0x18d254=![];for(let _0x54c2d1=_0x2a10ed[_0x1de044(0x17e)]-0x1;_0x54c2d1>=0x0;_0x54c2d1--){const _0x3fadd7=_0x2a10ed[_0x54c2d1],_0x118bb7=_0x242700[_0x1de044(0x190)](_0x279fbf=>normalize(_0x279fbf['location'])===normalize(_0x3fadd7)&&(_0x279fbf[_0x1de044(0x167)]===_0x1de044(0x212)||_0x279fbf[_0x1de044(0x167)]===_0x1de044(0x1ea)));if(!_0x118bb7){_0x2c32c8[_0x1de044(0x198)][_0x1de044(0x1dd)](_0x1de044(0x1f1)+_0x3fadd7+_0x1de044(0x1cb)),_0x2a10ed[_0x1de044(0x1de)](_0x54c2d1,0x1),_0x18d254=!![];continue;}if(_0x118bb7){const _0x2e8f4d=await findRelatedId(_0x2c32c8,_0x118bb7['id'],'setpoint'),_0x400ef=await _0x2c32c8[_0x1de044(0x156)](_0x118bb7['id']);if(_0x2e8f4d){const _0x417b81=await _0x2c32c8[_0x1de044(0x156)](_0x2e8f4d);if(_0x417b81&&typeof _0x417b81[_0x1de044(0x1ed)]===_0x1de044(0x1c7)){let _0x1ae44a=![],_0x479ceb='';Math[_0x1de044(0x1b1)](_0x417b81[_0x1de044(0x1ed)]-ECO_TEMP)>0.5&&(_0x1ae44a=!![],_0x479ceb=_0x1de044(0x206));if(!_0x1ae44a&&_0x400ef&&typeof _0x400ef[_0x1de044(0x1ed)]==='number'){const _0x24de8f=_0x324df4[_0x3fadd7]||_0x324df4[_0x1de044(0x169)]||0x15;_0x400ef[_0x1de044(0x1ed)]<_0x24de8f+0.2&&(_0x1ae44a=!![],_0x479ceb=_0x1de044(0x174));}if(_0x1ae44a){if(_0x479ceb===_0x1de044(0x206)){_0x2c32c8[_0x1de044(0x198)]['info'](_0x1de044(0x1d8)+_0x3fadd7+_0x1de044(0x210)+_0x417b81[_0x1de044(0x1ed)]+_0x1de044(0x162)+ECO_TEMP+'Â°C).\x20Entferne\x20Status.');const _0x4074ed=lastActions[_0x1de044(0x208)+_0x3fadd7],_0x473817=_0x4074ed&&Date[_0x1de044(0x1ee)]()-_0x4074ed<0x2*0x3c*0x3e8;if(!_0x473817&&_0x417b81[_0x1de044(0x1ed)]>ECO_TEMP+0.5){_0x2c32c8[_0x1de044(0x1b5)]&&(_0x2c32c8['log'][_0x1de044(0x19f)](_0x1de044(0x1a8)+_0x3fadd7+_0x1de044(0x1bb)),_0x2c32c8[_0x1de044(0x1b5)](_0x1de044(0x1ae),{'room':_0x3fadd7}));const _0x15b5ef=_0x3fadd7+'_'+new Date()[_0x1de044(0x1d1)]();if(!_0x842093[_0x15b5ef]){_0x842093[_0x15b5ef]=0x1;if(!_0x842093[_0x1de044(0x203)])_0x842093['_meta']={};_0x842093[_0x1de044(0x203)][_0x15b5ef]=Date['now'](),_0x3fd820=!![];}}else _0x473817&&_0x2c32c8[_0x1de044(0x198)][_0x1de044(0x19f)](_0x1de044(0x204)+_0x3fadd7+'\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x479ceb===_0x1de044(0x174)){let _0x1701bc=![];if(_0x5222b1['find'](_0x186bce=>_0x186bce[_0x1de044(0x21b)]===_0x3fadd7))_0x1701bc=!![];const _0x493c8f=_0x242700[_0x1de044(0x1e0)](_0x12e13d=>normalize(_0x12e13d[_0x1de044(0x1fe)])===normalize(_0x3fadd7)&&(_0x12e13d[_0x1de044(0x167)]===_0x1de044(0x17a)||_0x12e13d['type']===_0x1de044(0x16b)||_0x12e13d[_0x1de044(0x167)]==='contact'));for(const _0xbc03f0 of _0x493c8f){try{const _0x4831d7=await _0x2c32c8['getForeignStateAsync'](_0xbc03f0['id']);if(_0x4831d7&&(_0x4831d7[_0x1de044(0x1ed)]===!![]||_0x4831d7[_0x1de044(0x1ed)]===0x1||String(_0x4831d7['val'])[_0x1de044(0x217)]()===_0x1de044(0x1a9)))_0x1701bc=!![];}catch(_0x5cee2e){}}if(_0x1701bc)_0x2c32c8['log'][_0x1de044(0x19f)](_0x1de044(0x15e)+_0x3fadd7+_0x1de044(0x172));else{const _0x1f7189=_0x324df4[_0x3fadd7]||_0x324df4['default']||0x15;_0x2c32c8[_0x1de044(0x198)][_0x1de044(0x19f)](_0x1de044(0x1b3)+_0x3fadd7+_0x1de044(0x1af)+_0x400ef[_0x1de044(0x1ed)]+'Â°C\x20<\x20'+(_0x1f7189+0.2)+_0x1de044(0x20f)),await _0x2c32c8['setForeignStateAsync'](_0x2e8f4d,_0x1f7189),await logAutomationAction(_0x2c32c8,_0x1de044(0x1d6)+_0x3fadd7+_0x1de044(0x1f0)+_0x1f7189+'Â°C'),lastActions['rescue_'+_0x3fadd7]=Date[_0x1de044(0x1ee)]();}}}_0x2a10ed['splice'](_0x54c2d1,0x1),_0x18d254=!![];}}}}}_0x18d254&&await _0x2c32c8['setStateAsync'](_0x54d633,{'val':JSON['stringify'](_0x2a10ed),'ack':!![]}),_0x3fd820&&await _0x2c32c8[_0x1de044(0x177)](_0x1de044(0x1c3),{'val':JSON[_0x1de044(0x1ca)](_0x842093),'ack':!![]});}catch(_0x30fd7b){}}async function applyEnergySavings(_0x20a565,_0x46f994){const _0x2a56be=a1_0x2d8a97;await cleanupGhostInterventions(_0x20a565);if(!_0x46f994||_0x46f994[_0x2a56be(0x17e)]===0x0)return;const _0x1e165c=_0x20a565[_0x2a56be(0x20e)][_0x2a56be(0x1db)]||[],_0x10c6ef=Date['now']();for(const _0x1fee36 of _0x46f994){const _0x37f853=_0x1fee36['room'],_0x3b102f=_0x1fee36[_0x2a56be(0x1b6)],_0x549332=_0x1fee36['target']||0x15;if(lastActions['rescue_'+_0x37f853]&&_0x10c6ef-lastActions['rescue_'+_0x37f853]<RESCUE_LOCK_MS)continue;const _0x4d8b28=_0x1e165c[_0x2a56be(0x190)](_0x1920a5=>normalize(_0x1920a5[_0x2a56be(0x1fe)])===normalize(_0x37f853)&&(_0x1920a5[_0x2a56be(0x167)]===_0x2a56be(0x212)||_0x1920a5[_0x2a56be(0x167)]===_0x2a56be(0x1ea)));if(!_0x4d8b28)continue;const _0x49ecd2=await findRelatedId(_0x20a565,_0x4d8b28['id'],_0x2a56be(0x1ac));if(_0x49ecd2){if(lastActions[_0x2a56be(0x211)+_0x37f853]&&_0x10c6ef-lastActions['mpc_'+_0x37f853]<0x1e*0x3c*0x3e8)continue;const _0x4d4909=await _0x20a565[_0x2a56be(0x156)](_0x49ecd2);if(_0x4d4909&&typeof _0x4d4909['val']===_0x2a56be(0x1c7)){const _0x229768=_0x4d4909[_0x2a56be(0x1ed)];_0x229768!==ECO_TEMP&&await manageMpcIntervention(_0x20a565,_0x37f853,'remove');if(_0x3b102f>0x1e)_0x229768>ECO_TEMP+0.5&&(_0x20a565[_0x2a56be(0x198)][_0x2a56be(0x19f)](_0x2a56be(0x171)+_0x37f853+'\x20auf\x20'+ECO_TEMP+_0x2a56be(0x1cc)+_0x3b102f+_0x2a56be(0x1d2)),await _0x20a565[_0x2a56be(0x164)](_0x49ecd2,ECO_TEMP),await manageMpcIntervention(_0x20a565,_0x37f853,_0x2a56be(0x159)),lastActions[_0x2a56be(0x211)+_0x37f853]=_0x10c6ef,await logAutomationAction(_0x20a565,_0x2a56be(0x179)+_0x37f853+_0x2a56be(0x1c8)+ECO_TEMP+'Â°C'));else _0x3b102f<=0xf&&(_0x229768<_0x549332&&(_0x20a565[_0x2a56be(0x198)]['info']('ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20'+_0x37f853+_0x2a56be(0x1ec)+_0x549332+_0x2a56be(0x18e)),await _0x20a565[_0x2a56be(0x164)](_0x49ecd2,_0x549332),await manageMpcIntervention(_0x20a565,_0x37f853,'remove'),lastActions[_0x2a56be(0x211)+_0x37f853]=_0x10c6ef,await logAutomationAction(_0x20a565,_0x2a56be(0x179)+_0x37f853+':\x20Aufheizen\x20auf\x20'+_0x549332+'Â°C')));}}else _0x20a565[_0x2a56be(0x198)][_0x2a56be(0x1dd)](_0x2a56be(0x1da)+_0x37f853+'\x20gefunden!');}}module['exports']={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};