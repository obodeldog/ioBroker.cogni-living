const a1_0x66b19d=a1_0x410a;(function(_0x4311a0,_0x5b3b60){const _0xde1e9e=a1_0x410a,_0x4c463f=_0x4311a0();while(!![]){try{const _0x39fb3e=parseInt(_0xde1e9e(0x1df))/0x1*(-parseInt(_0xde1e9e(0x183))/0x2)+parseInt(_0xde1e9e(0x193))/0x3*(-parseInt(_0xde1e9e(0x1a5))/0x4)+parseInt(_0xde1e9e(0x1b6))/0x5+-parseInt(_0xde1e9e(0x12b))/0x6*(-parseInt(_0xde1e9e(0x140))/0x7)+parseInt(_0xde1e9e(0x12a))/0x8*(-parseInt(_0xde1e9e(0x146))/0x9)+parseInt(_0xde1e9e(0x1a9))/0xa*(-parseInt(_0xde1e9e(0x14a))/0xb)+parseInt(_0xde1e9e(0x165))/0xc*(parseInt(_0xde1e9e(0x1e9))/0xd);if(_0x39fb3e===_0x5b3b60)break;else _0x4c463f['push'](_0x4c463f['shift']());}catch(_0x5eebd8){_0x4c463f['push'](_0x4c463f['shift']());}}}(a1_0x2155,0x7566c));const a1_0x33061a=(function(){let _0x4c515f=!![];return function(_0x108507,_0x2b7dcb){const _0x1ddf7a=_0x4c515f?function(){if(_0x2b7dcb){const _0x4f18b7=_0x2b7dcb['apply'](_0x108507,arguments);return _0x2b7dcb=null,_0x4f18b7;}}:function(){};return _0x4c515f=![],_0x1ddf7a;};}()),a1_0x492038=a1_0x33061a(this,function(){const _0x59ecce=a1_0x410a;return a1_0x492038[_0x59ecce(0x180)]()[_0x59ecce(0x137)](_0x59ecce(0x1dc))[_0x59ecce(0x180)]()[_0x59ecce(0x133)](a1_0x492038)['search'](_0x59ecce(0x1dc));});function a1_0x2155(){const _0x1d67f5=['üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','.1.SET_POINT_TEMPERATURE','\x20gefunden!','push','setStateAsync','occupied_heating_setpoint','toUpperCase','find','target','val','Enforcement\x20Monitor\x20Error:\x20','thermostat','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','log','PERFECT','normal',':\x20Absenkung\x20auf\x20','reason','_date','light','date','.1.ACTUAL_TEMPERATURE','score','19018452PsSbNB','Auto-Erkennung','analysis.energy.mpcActiveInterventions','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','abs','sendToPythonWrapper','useCalendar','setForeignStateAsync','[FORCE]\x20','.data.table','ist','actual','¬∞C!\x20(Puffer\x20leer).','add','\x20->\x20Schalte\x20','number','¬∞C\x20(Vorlauf:\x20','.1.TEMPERATURE','cal_','¬∞C\x20<\x20','analysis.automation.confidenceThreshold','splice','Calendar\x20Check\x20Error:\x20','\x20min)','temperature','values','consultButler','toString','toLowerCase','indexOf','1063418rQeNIK','[WATCHDOG]\x20','ACTUAL_TEMPERATURE','\x20auf\x20','analysis.automation.mode','trim','pi_heating_demand','messwert','window','config','SET','valve','position','isArray','üìÖ\x20[MPC\x20INFO]\x20','hm-rpc','813441rewQKp','¬∞C).\x20Sparmodus\x20beendet!','location','room','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','name','openknx','remove','devices','_calName','\x20min).','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','approved','üö®\x20[MPC\x20WATCHDOG]\x20','default','now','analysis.energy.rlPenalties','temp','4MEuZVh','role','Ist','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','139730HkUpRy','analysis.energy.ventilationAlerts','analysis.energy.warmupTargets','valveMapping','eventStart','[MPC]\x20',':\x20Aufheizen\x20auf\x20','¬∞C\x20->\x20','off','current_heating_setpoint','switch','TRAIN_RL_PENALTY','length','3034305MHHzmp','calendarInstance','calendarSelection','message','sort','[CAL]\x20','Unknown','currentSystemMode','\x27\x20(Match:\x20','thermostatMapping','\x20->\x20','dimmer','filter','error','thermostat.setpoint','level','manual','getStateAsync','level.temperature','.1.LEVEL','exports','üßπ\x20[MPC\x20CLEANUP]\x20','soll','unit','sensor','replace','setpoint','ACTUAL','entries','string','common','getTime','system.mode','.4.SET_TEMPERATURE','Unbekannt','level.valve','analysis.energy.schedulePreview','stringify','(((.+)+)+)+$','unshift','info','1uiswEs','.4.VALVE_STATE','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','\x20wurde\x20manuell\x20erh√∂ht.','warn','r√ºckkehr','slice','\x20ist\x20auf\x20','getForeignObjectsAsync','type','13zWGxsi','_meta','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','32WAZkBu','6TmMLKe','local_temperature','analysis.energy.activeEnforcements','mpc_','analysis.energy.warmupTimes','analysis.energy.warmupSources','üìÖ\x20SMART\x20SCHEDULE\x20[','triggerTime','constructor','event','stellwert','too_cold','search','./ai_agent','findIndex','rescue_','¬∞C!\x20(Puffer:\x20','localeCompare','¬∞C.','split','Classic','233275QiJmqL','until','ankunft','\x20erreicht\x20Limit\x20(','¬∞C\x20(via\x20','forEach','1960785cFtKqO','summary','open','parse','55eUauKD','includes','getForeignStateAsync'];a1_0x2155=function(){return _0x1d67f5;};return a1_0x2155();}a1_0x492038();'use strict';const aiAgent=require(a1_0x66b19d(0x138)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x329088){const _0x39bcf0=a1_0x66b19d;if(!_0x329088)return'';return _0x329088['toLowerCase']()['replace'](/\s+/g,'')[_0x39bcf0(0x188)]();}function getWarmupRobust(_0x46bc74,_0x1131c6){const _0x568361=a1_0x66b19d;if(!_0x46bc74||!_0x1131c6)return 0x3c;if(_0x46bc74[_0x1131c6]!==undefined)return _0x46bc74[_0x1131c6];const _0x1f0aa3=_0x1131c6[_0x568361(0x181)]()[_0x568361(0x1cf)](/√§/g,'ae')[_0x568361(0x1cf)](/√∂/g,'oe')['replace'](/√º/g,'ue')['replace'](/√ü/g,'ss')[_0x568361(0x1cf)](/\s+/g,'_')[_0x568361(0x1cf)](/[^a-z0-9_]/g,'');if(_0x46bc74[_0x1f0aa3]!==undefined)return _0x46bc74[_0x1f0aa3];return 0x3c;}async function logAutomationAction(_0x81e117,_0x12a689){const _0x546a29=a1_0x66b19d;await _0x81e117[_0x546a29(0x152)]('analysis.automation.lastAction',{'val':_0x12a689,'ack':!![]});try{const _0x17a449='analysis.automation.actionLog',_0x39491c=await _0x81e117['getStateAsync'](_0x17a449);let _0x1441ab=[];if(_0x39491c&&_0x39491c['val'])try{_0x1441ab=JSON['parse'](_0x39491c[_0x546a29(0x157)]);}catch(_0x39788d){}_0x1441ab[_0x546a29(0x1dd)]({'ts':Date[_0x546a29(0x1a2)](),'msg':_0x12a689});if(_0x1441ab[_0x546a29(0x1b5)]>0x32)_0x1441ab=_0x1441ab[_0x546a29(0x1e5)](0x0,0x32);await _0x81e117['setStateAsync'](_0x17a449,{'val':JSON[_0x546a29(0x1db)](_0x1441ab),'ack':!![]});}catch(_0x1a518e){}}async function handlePrediction(_0x3c617c,_0x4e2bc8,_0x52690b){const _0x2996c3=a1_0x66b19d;if(!_0x4e2bc8||_0x4e2bc8===_0x2996c3(0x1bc))return;let _0x211309=_0x2996c3(0x1b1),_0x284ce9=0.6;try{const _0x1ae36a=await _0x3c617c['getStateAsync'](_0x2996c3(0x187));if(_0x1ae36a&&_0x1ae36a[_0x2996c3(0x157)])_0x211309=_0x1ae36a[_0x2996c3(0x157)];const _0x5189d2=await _0x3c617c[_0x2996c3(0x1c7)](_0x2996c3(0x179));if(_0x5189d2&&_0x5189d2[_0x2996c3(0x157)])_0x284ce9=_0x5189d2[_0x2996c3(0x157)];}catch(_0x4a99e5){}if(_0x211309===_0x2996c3(0x1b1)||_0x52690b<_0x284ce9)return;const _0x3c3eb0=Date[_0x2996c3(0x1a2)]();if(lastActions[_0x4e2bc8]&&_0x3c3eb0-lastActions[_0x4e2bc8]<COOLDOWN_MS)return;const _0x3d5fe8=_0x3c617c[_0x2996c3(0x18c)][_0x2996c3(0x19b)]||[],_0x4cbe70=normalize(_0x4e2bc8),_0x1cfc47=_0x3d5fe8[_0x2996c3(0x155)](_0x2fa7bb=>normalize(_0x2fa7bb[_0x2996c3(0x195)])===_0x4cbe70&&(_0x2fa7bb['type']===_0x2996c3(0x161)||_0x2fa7bb[_0x2996c3(0x1e8)]===_0x2996c3(0x1c1)||_0x2fa7bb['type']===_0x2996c3(0x1b3)));if(!_0x1cfc47)return;const _0x32f6ae=await aiAgent[_0x2996c3(0x17f)](_0x3c617c,_0x4e2bc8,_0x1cfc47['name'],_0x52690b);if(!_0x32f6ae[_0x2996c3(0x19f)])return;const _0x226fda='Pr√§diktion:\x20'+_0x4e2bc8+_0x2996c3(0x173)+_0x1cfc47[_0x2996c3(0x198)]+'\x20('+_0x32f6ae[_0x2996c3(0x15f)]+')';await logAutomationAction(_0x3c617c,'['+_0x211309[_0x2996c3(0x154)]()+']\x20'+_0x226fda);if(_0x211309==='active'){const _0x4fdf6f=await _0x3c617c[_0x2996c3(0x14c)](_0x1cfc47['id']);(!_0x4fdf6f||!_0x4fdf6f['val']&&_0x4fdf6f['val']!==!![])&&await _0x3c617c['setForeignStateAsync'](_0x1cfc47['id'],!![]),lastActions[_0x4e2bc8]=_0x3c3eb0;}}async function findRelatedId(_0x40c2a0,_0x3dae41,_0x22ec44=a1_0x66b19d(0x1d0)){const _0x398005=a1_0x66b19d;if(_0x22ec44==='setpoint'&&_0x40c2a0[_0x398005(0x18c)][_0x398005(0x1bf)]){let _0x2dea69=_0x40c2a0['config'][_0x398005(0x1bf)];if(typeof _0x2dea69===_0x398005(0x1d3))try{_0x2dea69=JSON[_0x398005(0x149)](_0x2dea69);}catch(_0x51d1d6){}if(_0x2dea69&&_0x2dea69[_0x3dae41])return _0x2dea69[_0x3dae41];}if(_0x22ec44===_0x398005(0x18e)&&_0x40c2a0[_0x398005(0x18c)][_0x398005(0x1ac)]){let _0x5b9eb4=_0x40c2a0[_0x398005(0x18c)]['valveMapping'];if(typeof _0x5b9eb4===_0x398005(0x1d3))try{_0x5b9eb4=JSON[_0x398005(0x149)](_0x5b9eb4);}catch(_0x3c05b5){}if(_0x5b9eb4&&_0x5b9eb4[_0x3dae41])return _0x5b9eb4[_0x3dae41];}let _0x2c39f2=[];if(_0x22ec44===_0x398005(0x1d0))_0x2c39f2=[{'s':_0x398005(0x163),'t':_0x398005(0x14f)},{'s':_0x398005(0x176),'t':_0x398005(0x14f)},{'s':'.1.TEMPERATURE','t':_0x398005(0x1d7)},{'s':_0x398005(0x185),'t':'SET_POINT_TEMPERATURE'},{'s':_0x398005(0x12c),'t':_0x398005(0x153)},{'s':_0x398005(0x12c),'t':_0x398005(0x1b2)},{'s':_0x398005(0x17d),'t':'target_temperature'},{'s':_0x398005(0x1d1),'t':_0x398005(0x18d)},{'s':_0x398005(0x1a7),'t':'Soll'},{'s':_0x398005(0x17d),'t':_0x398005(0x1d0)}];else _0x22ec44===_0x398005(0x18e)&&(_0x2c39f2=[{'s':_0x398005(0x163),'t':_0x398005(0x1c9)},{'s':_0x398005(0x176),'t':_0x398005(0x1c9)},{'s':_0x398005(0x176),'t':_0x398005(0x1e0)},{'s':_0x398005(0x12c),'t':_0x398005(0x189)},{'s':_0x398005(0x17d),'t':'valve_position'},{'s':_0x398005(0x17d),'t':_0x398005(0x1c5)}]);for(const _0x4f1ba2 of _0x2c39f2){if(_0x3dae41[_0x398005(0x14b)](_0x4f1ba2['s'])){const _0x4d42f7=_0x3dae41[_0x398005(0x1cf)](_0x4f1ba2['s'],_0x4f1ba2['t']),_0x4bda2c=await _0x40c2a0['getForeignObjectAsync'](_0x4d42f7);if(_0x4bda2c)return _0x4d42f7;}}try{const _0x5a7305=_0x3dae41[_0x398005(0x13e)]('.');if(_0x5a7305[_0x398005(0x1b5)]>0x2){const _0x3761e4=_0x5a7305['slice'](0x0,-0x1)['join']('.'),_0x473c37=await _0x40c2a0[_0x398005(0x1e7)](_0x3761e4+'.*'),_0x135e33=[],_0x877854=_0x3dae41[_0x398005(0x13e)](/[._]+/)[_0x398005(0x1c2)](_0x131ab3=>![_0x398005(0x199),'0',_0x398005(0x192),_0x398005(0x16f),'wert','temperature',_0x398005(0x170),_0x398005(0x1ce),_0x398005(0x18a),'state'][_0x398005(0x14b)](_0x131ab3[_0x398005(0x181)]()));for(const [_0x555b21,_0x5f2605]of Object[_0x398005(0x1d2)](_0x473c37)){if(_0x555b21===_0x3dae41)continue;if(_0x5f2605&&_0x5f2605[_0x398005(0x1d4)]){const _0x255d6a=_0x555b21[_0x398005(0x181)](),_0x22a8b4=(_0x5f2605['common'][_0x398005(0x1a6)]||'')[_0x398005(0x181)](),_0x4d7c9d=(_0x5f2605[_0x398005(0x1d4)][_0x398005(0x1cd)]||'')[_0x398005(0x181)]();let _0x5a2a83=![];if(_0x22ec44===_0x398005(0x1d0)&&_0x5f2605[_0x398005(0x1d4)]['write']===!![])_0x5a2a83=_0x255d6a['includes']('set')||_0x255d6a['includes'](_0x398005(0x1cc))||_0x255d6a[_0x398005(0x14b)]('target')||_0x22a8b4[_0x398005(0x14b)](_0x398005(0x1c8))||_0x22a8b4['includes'](_0x398005(0x1c4));else _0x22ec44==='valve'&&(_0x5a2a83=_0x255d6a[_0x398005(0x14b)](_0x398005(0x1c5))||_0x255d6a[_0x398005(0x14b)](_0x398005(0x18e))||_0x255d6a[_0x398005(0x14b)](_0x398005(0x135))||_0x255d6a['includes'](_0x398005(0x18f))||_0x22a8b4[_0x398005(0x14b)](_0x398005(0x1d9))||_0x22a8b4[_0x398005(0x14b)]('value.valve')||_0x4d7c9d[_0x398005(0x14b)]('%'));if(_0x5a2a83){const _0x434c7a=_0x555b21[_0x398005(0x13e)](/[._]+/)['map'](_0x452050=>_0x452050['toLowerCase']());let _0xba34bd=0x0;_0x877854[_0x398005(0x145)](_0x9c239=>{if(_0x434c7a['includes'](_0x9c239['toLowerCase']()))_0xba34bd++;}),_0x135e33[_0x398005(0x151)]({'id':_0x555b21,'score':_0xba34bd});}}}if(_0x135e33[_0x398005(0x1b5)]>0x0){_0x135e33['sort']((_0x5ca3df,_0x1e4516)=>_0x1e4516[_0x398005(0x164)]-_0x5ca3df['score']);if(_0x135e33[0x0][_0x398005(0x164)]>0x0)return _0x135e33[0x0]['id'];}}}catch(_0x1d38fa){}return null;}async function scanThermostats(_0x2423ed){const _0x156241=a1_0x66b19d,_0x1311ed=_0x2423ed[_0x156241(0x18c)][_0x156241(0x19b)]||[],_0x19b604=[],_0x4912cc=_0x1311ed[_0x156241(0x1c2)](_0x5eae98=>_0x5eae98['id']&&_0x5eae98['id']['includes'](_0x156241(0x17d))||_0x5eae98['type']&&[_0x156241(0x17d),'thermostat','sensor']['includes'](_0x5eae98[_0x156241(0x1e8)])||_0x5eae98[_0x156241(0x198)]&&_0x5eae98[_0x156241(0x198)][_0x156241(0x181)]()[_0x156241(0x14b)](_0x156241(0x1a4)));for(const _0x543776 of _0x4912cc){const _0x55d26f=await findRelatedId(_0x2423ed,_0x543776['id'],'setpoint'),_0x21b890=await findRelatedId(_0x2423ed,_0x543776['id'],_0x156241(0x18e));let _0x4c6179='Nicht\x20gefunden',_0x5604b1=![],_0x766604=_0x2423ed['config'][_0x156241(0x1bf)]||{};if(typeof _0x766604===_0x156241(0x1d3))try{_0x766604=JSON[_0x156241(0x149)](_0x766604);}catch(_0x270c01){}let _0x4bfd1e=_0x2423ed[_0x156241(0x18c)][_0x156241(0x1ac)]||{};if(typeof _0x4bfd1e===_0x156241(0x1d3))try{_0x4bfd1e=JSON['parse'](_0x4bfd1e);}catch(_0x1ffed1){}if(_0x766604[_0x543776['id']]&&_0x766604[_0x543776['id']]===_0x55d26f||_0x4bfd1e[_0x543776['id']]&&_0x4bfd1e[_0x543776['id']]===_0x21b890)_0x4c6179='Manuelles\x20Mapping',_0x5604b1=!![];else(_0x55d26f||_0x21b890)&&(_0x4c6179=_0x156241(0x166));_0x19b604['push']({'room':_0x543776['location']||_0x156241(0x1d8),'sensorId':_0x543776['id'],'setpointId':_0x55d26f||'-','valveId':_0x21b890||'-','source':_0x4c6179,'isManual':_0x5604b1,'status':_0x55d26f&&_0x21b890?_0x156241(0x15c):_0x55d26f?'OK':'Fehlt'});}return _0x19b604[_0x156241(0x1ba)]((_0xde88bf,_0x16b629)=>_0xde88bf[_0x156241(0x196)][_0x156241(0x13c)](_0x16b629[_0x156241(0x196)]));}async function updateSchedulePreview(_0x27c07e){const _0x12d04c=a1_0x66b19d;if(!_0x27c07e[_0x12d04c(0x18c)]['useCalendar']||!_0x27c07e['config'][_0x12d04c(0x1b7)])return;let _0x220c59={};try{const _0x4249a2=await _0x27c07e[_0x12d04c(0x1c7)](_0x12d04c(0x12f));if(_0x4249a2&&_0x4249a2['val'])_0x220c59=JSON[_0x12d04c(0x149)](_0x4249a2[_0x12d04c(0x157)]);}catch(_0xb89fc6){}const _0x131c62=[],_0x2a656d=Date[_0x12d04c(0x1a2)](),_0x269386=0x30*0x3c*0x3c*0x3e8;try{const _0x1c2e4b=await _0x27c07e[_0x12d04c(0x14c)](_0x27c07e[_0x12d04c(0x18c)][_0x12d04c(0x1b7)]+'.data.table');if(!_0x1c2e4b||!_0x1c2e4b['val'])return;const _0x125ddb=JSON[_0x12d04c(0x149)](_0x1c2e4b[_0x12d04c(0x157)]),_0xf40e59=_0x27c07e[_0x12d04c(0x18c)][_0x12d04c(0x1b8)]||[],_0xa6a506=_0x27c07e[_0x12d04c(0x18c)][_0x12d04c(0x19b)]||[],_0x23ee3c=new Set();_0xa6a506[_0x12d04c(0x145)](_0x33a57a=>{const _0x4961b9=_0x12d04c;if(_0x33a57a[_0x4961b9(0x195)])_0x23ee3c[_0x4961b9(0x172)](_0x33a57a['location']);});for(const _0xc88492 of _0x125ddb){if(_0xc88492[_0x12d04c(0x19c)]&&_0xf40e59[_0x12d04c(0x1b5)]>0x0&&!_0xf40e59[_0x12d04c(0x14b)](_0xc88492['_calName']))continue;const _0x44c016=_0xc88492[_0x12d04c(0x160)]||_0xc88492[_0x12d04c(0x1ad)]||_0xc88492[_0x12d04c(0x162)];if(!_0x44c016)continue;const _0x68ff51=new Date(_0x44c016),_0x3bb0d4=_0x68ff51[_0x12d04c(0x1d5)]();if(isNaN(_0x3bb0d4))continue;if(_0x3bb0d4<_0x2a656d)continue;if(_0x3bb0d4>_0x2a656d+_0x269386)continue;const _0x4b1ce2=(_0xc88492[_0x12d04c(0x134)]||_0xc88492[_0x12d04c(0x147)]||'')['toLowerCase']();let _0x3e4eba=![],_0x4d773=[],_0x15e14c=_0xc88492[_0x12d04c(0x134)]||_0xc88492['summary']||_0x12d04c(0x1d8);if(_0x4b1ce2[_0x12d04c(0x14b)]('urlaub\x20ende')||_0x4b1ce2[_0x12d04c(0x14b)]('r√ºckkehr')||_0x4b1ce2[_0x12d04c(0x14b)](_0x12d04c(0x142)))_0x3e4eba=!![],_0x4d773=Array['from'](_0x23ee3c);else for(const _0x4f749b of _0x23ee3c){if(_0x4b1ce2[_0x12d04c(0x14b)](_0x4f749b[_0x12d04c(0x181)]()))_0x4d773[_0x12d04c(0x151)](_0x4f749b);}_0x4d773[_0x12d04c(0x1b5)]>0x0&&_0x4d773[_0x12d04c(0x145)](_0x13a2e3=>{const _0x5883a4=_0x12d04c;let _0x5ef035=0x3c;if(_0x3e4eba){let _0x416182=0x0;Object[_0x5883a4(0x17e)](_0x220c59)[_0x5883a4(0x145)](_0x124b3f=>{if(_0x124b3f>_0x416182)_0x416182=_0x124b3f;}),_0x5ef035=_0x416182>0x0?_0x416182:0x78;}else _0x5ef035=getWarmupRobust(_0x220c59,_0x13a2e3);const _0x36ee4a=new Date(_0x3bb0d4-_0x5ef035*0xea60);_0x131c62[_0x5883a4(0x151)]({'eventTime':_0x3bb0d4,'triggerTime':_0x36ee4a['getTime'](),'room':_0x13a2e3,'minutes':_0x5ef035,'reason':_0x15e14c,'isGlobal':_0x3e4eba});});}}catch(_0x97b8be){}_0x131c62[_0x12d04c(0x1ba)]((_0x1c26e4,_0x44eb4b)=>_0x1c26e4[_0x12d04c(0x132)]-_0x44eb4b['triggerTime']);const _0x648db8=_0x131c62['slice'](0x0,0x5);await _0x27c07e[_0x12d04c(0x152)](_0x12d04c(0x1da),{'val':JSON[_0x12d04c(0x1db)](_0x648db8),'ack':!![]});}async function monitorEnforcements(_0xe3a917){const _0x17bbc1=a1_0x66b19d;try{const _0xdfe129=_0x17bbc1(0x12d),_0x5662f8=await _0xe3a917['getStateAsync'](_0xdfe129);if(!_0x5662f8||!_0x5662f8['val'])return;let _0x1f0ed0=[];try{_0x1f0ed0=JSON[_0x17bbc1(0x149)](_0x5662f8[_0x17bbc1(0x157)]);}catch(_0x5862a8){return;}if(!Array[_0x17bbc1(0x190)](_0x1f0ed0)||_0x1f0ed0[_0x17bbc1(0x1b5)]===0x0)return;const _0x4bed68=Date[_0x17bbc1(0x1a2)](),_0x20fca6=_0xe3a917[_0x17bbc1(0x18c)]['devices']||[];let _0x55c39f=![];for(let _0x22c27c=_0x1f0ed0[_0x17bbc1(0x1b5)]-0x1;_0x22c27c>=0x0;_0x22c27c--){const _0x1ee8e2=_0x1f0ed0[_0x22c27c];if(_0x4bed68>=_0x1ee8e2[_0x17bbc1(0x141)]){_0xe3a917[_0x17bbc1(0x15b)][_0x17bbc1(0x1de)](_0x17bbc1(0x1e1)+_0x1ee8e2[_0x17bbc1(0x196)]+'\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.'),_0x1f0ed0[_0x17bbc1(0x17a)](_0x22c27c,0x1),_0x55c39f=!![];continue;}const _0x4d9de9=_0x20fca6[_0x17bbc1(0x155)](_0x5c09bc=>normalize(_0x5c09bc[_0x17bbc1(0x195)])===normalize(_0x1ee8e2[_0x17bbc1(0x196)])&&(_0x5c09bc[_0x17bbc1(0x1e8)]===_0x17bbc1(0x17d)||_0x5c09bc['type']===_0x17bbc1(0x159)));if(_0x4d9de9){const _0x5ab0d2=await findRelatedId(_0xe3a917,_0x4d9de9['id'],_0x17bbc1(0x1d0));if(_0x5ab0d2){const _0x2699e8=await _0xe3a917[_0x17bbc1(0x14c)](_0x5ab0d2);_0x2699e8&&typeof _0x2699e8[_0x17bbc1(0x157)]===_0x17bbc1(0x174)&&(_0x2699e8[_0x17bbc1(0x157)]<0xf&&(_0xe3a917[_0x17bbc1(0x15b)]['warn'](_0x17bbc1(0x14e)+_0x1ee8e2[_0x17bbc1(0x196)]+_0x17bbc1(0x186)+_0x2699e8[_0x17bbc1(0x157)]+_0x17bbc1(0x1a8)+_0x1ee8e2['target']+_0x17bbc1(0x13d)),await _0xe3a917['setForeignStateAsync'](_0x5ab0d2,_0x1ee8e2[_0x17bbc1(0x156)]),await logAutomationAction(_0xe3a917,_0x17bbc1(0x16d)+_0x1ee8e2[_0x17bbc1(0x196)]+':\x20'+_0x2699e8[_0x17bbc1(0x157)]+_0x17bbc1(0x1b0)+_0x1ee8e2[_0x17bbc1(0x156)]+'¬∞C\x20(Kalender-Schutz)')));}}}_0x55c39f&&await _0xe3a917[_0x17bbc1(0x152)](_0xdfe129,{'val':JSON[_0x17bbc1(0x1db)](_0x1f0ed0),'ack':!![]});}catch(_0x21dcb6){_0xe3a917[_0x17bbc1(0x15b)][_0x17bbc1(0x1c3)](_0x17bbc1(0x158)+_0x21dcb6[_0x17bbc1(0x1b9)]);}}async function checkCalendarTriggers(_0x5d7302){const _0x411a90=a1_0x66b19d;if(!_0x5d7302[_0x411a90(0x18c)][_0x411a90(0x16b)]||!_0x5d7302[_0x411a90(0x18c)]['calendarInstance'])return;await updateSchedulePreview(_0x5d7302);let _0x54b2d1={},_0x50b064={};try{const _0x21fa84=await _0x5d7302[_0x411a90(0x1c7)](_0x411a90(0x12f));if(_0x21fa84&&_0x21fa84['val'])_0x54b2d1=JSON[_0x411a90(0x149)](_0x21fa84[_0x411a90(0x157)]);const _0x1fdb99=await _0x5d7302[_0x411a90(0x1c7)](_0x411a90(0x130));if(_0x1fdb99&&_0x1fdb99[_0x411a90(0x157)])_0x50b064=JSON['parse'](_0x1fdb99[_0x411a90(0x157)]);}catch(_0x4c20fa){}let _0x37315c={'default':0x15};try{const _0x1792dc=await _0x5d7302[_0x411a90(0x1c7)](_0x411a90(0x1ab));if(_0x1792dc&&_0x1792dc[_0x411a90(0x157)])_0x37315c=JSON[_0x411a90(0x149)](_0x1792dc[_0x411a90(0x157)]);}catch(_0x4b44c4){}let _0x53868a=[];try{const _0x2e96b6=await _0x5d7302[_0x411a90(0x1c7)](_0x411a90(0x12d));if(_0x2e96b6&&_0x2e96b6['val'])_0x53868a=JSON[_0x411a90(0x149)](_0x2e96b6[_0x411a90(0x157)]);}catch(_0x2cd0dc){}try{const _0xe9220d=await _0x5d7302[_0x411a90(0x14c)](_0x5d7302[_0x411a90(0x18c)][_0x411a90(0x1b7)]+_0x411a90(0x16e));if(!_0xe9220d||!_0xe9220d[_0x411a90(0x157)])return;const _0xea3b2f=JSON[_0x411a90(0x149)](_0xe9220d['val']),_0x4f809e=Date[_0x411a90(0x1a2)](),_0x142b75=_0x5d7302[_0x411a90(0x18c)][_0x411a90(0x19b)]||[],_0x1b85ca=_0x5d7302[_0x411a90(0x18c)]['calendarSelection']||[];let _0x350f6b=![];for(const _0x40db66 of _0xea3b2f){if(_0x40db66[_0x411a90(0x19c)]&&_0x1b85ca[_0x411a90(0x1b5)]>0x0&&!_0x1b85ca[_0x411a90(0x14b)](_0x40db66[_0x411a90(0x19c)]))continue;const _0x41fc20=_0x40db66[_0x411a90(0x160)]||_0x40db66[_0x411a90(0x1ad)]||_0x40db66[_0x411a90(0x162)];if(!_0x41fc20)continue;const _0x2e3fcf=new Date(_0x41fc20);if(isNaN(_0x2e3fcf[_0x411a90(0x1d5)]()))continue;const _0x636d=(_0x40db66[_0x411a90(0x134)]||_0x40db66['summary']||'')[_0x411a90(0x181)]();if(_0x636d['includes']('urlaub\x20ende')||_0x636d[_0x411a90(0x14b)](_0x411a90(0x1e4))||_0x636d[_0x411a90(0x14b)](_0x411a90(0x142))){let _0x1861cf=0x0;Object[_0x411a90(0x17e)](_0x54b2d1)[_0x411a90(0x145)](_0x438b80=>{if(_0x438b80>_0x1861cf)_0x1861cf=_0x438b80;});if(_0x1861cf===0x0)_0x1861cf=0x78;const _0x15a947=_0x2e3fcf['getTime']()-_0x1861cf*0xea60;_0x4f809e>=_0x15a947&&_0x4f809e<_0x2e3fcf[_0x411a90(0x1d5)]()&&(_0x5d7302[_0x411a90(0x1bd)]!==_0x411a90(0x15d)&&(_0x5d7302[_0x411a90(0x15b)][_0x411a90(0x1de)]('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x1861cf+_0x411a90(0x19d)),await _0x5d7302[_0x411a90(0x152)](_0x411a90(0x1d6),{'val':_0x411a90(0x15d),'ack':![]})));}for(const _0x285698 of _0x142b75){if(_0x285698[_0x411a90(0x195)]){const _0x4dc685=_0x285698[_0x411a90(0x195)]['toLowerCase'](),_0x14c8f2=(_0x285698[_0x411a90(0x198)]||'')[_0x411a90(0x181)]();let _0x46fefa=_0x636d[_0x411a90(0x14b)](_0x4dc685);!_0x46fefa&&_0x14c8f2[_0x411a90(0x1b5)]>0x3&&_0x636d[_0x411a90(0x14b)](_0x14c8f2)&&(_0x46fefa=!![]);if(_0x46fefa){const _0x34a1b8=getWarmupRobust(_0x54b2d1,_0x285698[_0x411a90(0x195)]),_0x4e87e2=_0x50b064[_0x285698['location']]||_0x411a90(0x13f),_0x174380=_0x2e3fcf['getTime']()-_0x34a1b8*0xea60;if(_0x4f809e>=_0x174380&&_0x4f809e<_0x2e3fcf[_0x411a90(0x1d5)]()){const _0x4cb97c=lastActions[_0x411a90(0x177)+_0x285698[_0x411a90(0x195)]];if(_0x4cb97c&&_0x4f809e-_0x4cb97c<CAL_COOLDOWN_MS)continue;const _0x1d299c=await findRelatedId(_0x5d7302,_0x285698['id'],'setpoint');if(_0x1d299c){let _0x504af7=_0x37315c[_0x285698[_0x411a90(0x195)]];if(_0x504af7===undefined)_0x504af7=_0x37315c[_0x411a90(0x1a1)];if(_0x504af7===undefined)_0x504af7=0x15;const _0x136969=await _0x5d7302[_0x411a90(0x14c)](_0x1d299c);if(_0x136969&&typeof _0x136969['val']==='number'&&_0x136969[_0x411a90(0x157)]<_0x504af7-0.5){_0x5d7302[_0x411a90(0x15b)]['info'](_0x411a90(0x131)+_0x4e87e2+']:\x20Raum-Trigger\x20\x27'+_0x285698[_0x411a90(0x195)]+_0x411a90(0x1be)+_0x636d+')\x20aktiv.\x20Heize\x20auf\x20'+_0x504af7+_0x411a90(0x175)+_0x34a1b8+_0x411a90(0x19d)),await _0x5d7302[_0x411a90(0x16c)](_0x1d299c,_0x504af7),await logAutomationAction(_0x5d7302,_0x411a90(0x1bb)+_0x285698[_0x411a90(0x195)]+_0x411a90(0x1c0)+_0x504af7+_0x411a90(0x144)+_0x4e87e2+')'),lastActions['cal_'+_0x285698['location']]=_0x4f809e;const _0x381d24=_0x53868a[_0x411a90(0x139)](_0x3f7db8=>_0x3f7db8['room']===_0x285698[_0x411a90(0x195)]);if(_0x381d24!==-0x1)_0x53868a[_0x411a90(0x17a)](_0x381d24,0x1);_0x53868a[_0x411a90(0x151)]({'room':_0x285698[_0x411a90(0x195)],'target':_0x504af7,'until':_0x2e3fcf[_0x411a90(0x1d5)]()}),_0x350f6b=!![];}}}}}}}_0x350f6b&&await _0x5d7302[_0x411a90(0x152)](_0x411a90(0x12d),{'val':JSON[_0x411a90(0x1db)](_0x53868a),'ack':!![]});}catch(_0x4e2777){_0x5d7302[_0x411a90(0x15b)][_0x411a90(0x1e3)](_0x411a90(0x17b)+_0x4e2777[_0x411a90(0x1b9)]);}}async function manageMpcIntervention(_0x1781f6,_0xb470e6,_0x1a976e){const _0x1938d8=a1_0x66b19d;try{const _0x3b8f49=_0x1938d8(0x167),_0x3ba5a2=await _0x1781f6[_0x1938d8(0x1c7)](_0x3b8f49);let _0x257553=[];if(_0x3ba5a2&&_0x3ba5a2['val'])try{_0x257553=JSON[_0x1938d8(0x149)](_0x3ba5a2[_0x1938d8(0x157)]);}catch(_0x2f457f){}const _0x2bb60c=_0x257553[_0x1938d8(0x182)](_0xb470e6);if(_0x1a976e===_0x1938d8(0x172))_0x2bb60c===-0x1&&(_0x257553[_0x1938d8(0x151)](_0xb470e6),await _0x1781f6[_0x1938d8(0x152)](_0x3b8f49,{'val':JSON[_0x1938d8(0x1db)](_0x257553),'ack':!![]}));else _0x1a976e===_0x1938d8(0x19a)&&(_0x2bb60c!==-0x1&&(_0x257553[_0x1938d8(0x17a)](_0x2bb60c,0x1),await _0x1781f6[_0x1938d8(0x152)](_0x3b8f49,{'val':JSON[_0x1938d8(0x1db)](_0x257553),'ack':!![]})));}catch(_0x245f1d){}}async function cleanupGhostInterventions(_0x1349ef){const _0x1e195a=a1_0x66b19d;try{const _0x3bc321='analysis.energy.mpcActiveInterventions',_0x2c8e0a=await _0x1349ef['getStateAsync'](_0x3bc321);if(!_0x2c8e0a||!_0x2c8e0a[_0x1e195a(0x157)])return;const _0x50c86f=JSON[_0x1e195a(0x149)](_0x2c8e0a['val']);if(!Array[_0x1e195a(0x190)](_0x50c86f)||_0x50c86f[_0x1e195a(0x1b5)]===0x0)return;let _0x7200ad={'default':0x15};try{const _0x287a0f=await _0x1349ef[_0x1e195a(0x1c7)](_0x1e195a(0x1ab));if(_0x287a0f&&_0x287a0f[_0x1e195a(0x157)])_0x7200ad=JSON[_0x1e195a(0x149)](_0x287a0f[_0x1e195a(0x157)]);}catch(_0x345bd0){}let _0x54e621=[];try{const _0x47d171=await _0x1349ef[_0x1e195a(0x1c7)](_0x1e195a(0x1aa));if(_0x47d171&&_0x47d171[_0x1e195a(0x157)])_0x54e621=JSON['parse'](_0x47d171[_0x1e195a(0x157)]);}catch(_0x218d13){}let _0x4599e9={},_0x3f59f8=![];try{const _0x4793f3=await _0x1349ef[_0x1e195a(0x1c7)](_0x1e195a(0x1a3));if(_0x4793f3&&_0x4793f3['val'])_0x4599e9=JSON[_0x1e195a(0x149)](_0x4793f3[_0x1e195a(0x157)]);}catch(_0x4609ae){}if(_0x4599e9['_meta']){const _0x188fa2=Date[_0x1e195a(0x1a2)]();for(const [_0x1d87e2,_0x1182e3]of Object['entries'](_0x4599e9[_0x1e195a(0x1ea)])){_0x188fa2-_0x1182e3>PENALTY_TTL&&(delete _0x4599e9[_0x1d87e2],delete _0x4599e9[_0x1e195a(0x1ea)][_0x1d87e2],_0x3f59f8=!![],_0x1349ef['log'][_0x1e195a(0x1de)](_0x1e195a(0x15a)+_0x1d87e2+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x42d90e=_0x1349ef[_0x1e195a(0x18c)][_0x1e195a(0x19b)]||[];let _0x18e86b=![];for(let _0x138e9f=_0x50c86f[_0x1e195a(0x1b5)]-0x1;_0x138e9f>=0x0;_0x138e9f--){const _0x40de8a=_0x50c86f[_0x138e9f],_0x11f1ce=_0x42d90e[_0x1e195a(0x155)](_0x4e9647=>normalize(_0x4e9647[_0x1e195a(0x195)])===normalize(_0x40de8a)&&(_0x4e9647[_0x1e195a(0x1e8)]===_0x1e195a(0x17d)||_0x4e9647[_0x1e195a(0x1e8)]===_0x1e195a(0x159)));if(!_0x11f1ce){_0x1349ef[_0x1e195a(0x15b)][_0x1e195a(0x1e3)](_0x1e195a(0x129)+_0x40de8a+'\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.'),_0x50c86f['splice'](_0x138e9f,0x1),_0x18e86b=!![];continue;}if(_0x11f1ce){const _0x4c1afd=await findRelatedId(_0x1349ef,_0x11f1ce['id'],_0x1e195a(0x1d0)),_0x32968c=await _0x1349ef['getForeignStateAsync'](_0x11f1ce['id']);if(_0x4c1afd){const _0x9fe4d0=await _0x1349ef[_0x1e195a(0x14c)](_0x4c1afd);if(_0x9fe4d0&&typeof _0x9fe4d0[_0x1e195a(0x157)]===_0x1e195a(0x174)){let _0x5af845=![],_0x40cabc='';Math[_0x1e195a(0x169)](_0x9fe4d0[_0x1e195a(0x157)]-ECO_TEMP)>0.5&&(_0x5af845=!![],_0x40cabc=_0x1e195a(0x1c6));if(!_0x5af845&&_0x32968c&&typeof _0x32968c['val']===_0x1e195a(0x174)){const _0x5a1285=_0x7200ad[_0x40de8a]||_0x7200ad[_0x1e195a(0x1a1)]||0x15;_0x32968c['val']<_0x5a1285+0.2&&(_0x5af845=!![],_0x40cabc=_0x1e195a(0x136));}if(_0x5af845){if(_0x40cabc===_0x1e195a(0x1c6)){_0x1349ef['log'][_0x1e195a(0x1de)](_0x1e195a(0x1cb)+_0x40de8a+_0x1e195a(0x1e6)+_0x9fe4d0['val']+'¬∞C\x20(nicht\x20'+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0x438711=lastActions[_0x1e195a(0x177)+_0x40de8a],_0x2330f9=_0x438711&&Date[_0x1e195a(0x1a2)]()-_0x438711<0x2*0x3c*0x3e8;if(!_0x2330f9&&_0x9fe4d0[_0x1e195a(0x157)]>ECO_TEMP+0.5){_0x1349ef[_0x1e195a(0x16a)]&&(_0x1349ef['log'][_0x1e195a(0x1de)](_0x1e195a(0x168)+_0x40de8a+_0x1e195a(0x1e2)),_0x1349ef[_0x1e195a(0x16a)](_0x1e195a(0x1b4),{'room':_0x40de8a}));const _0x4bf8f5=_0x40de8a+'_'+new Date()['getHours']();if(!_0x4599e9[_0x4bf8f5]){_0x4599e9[_0x4bf8f5]=0x1;if(!_0x4599e9[_0x1e195a(0x1ea)])_0x4599e9[_0x1e195a(0x1ea)]={};_0x4599e9[_0x1e195a(0x1ea)][_0x4bf8f5]=Date[_0x1e195a(0x1a2)](),_0x3f59f8=!![];}}else _0x2330f9&&_0x1349ef[_0x1e195a(0x15b)][_0x1e195a(0x1de)](_0x1e195a(0x191)+_0x40de8a+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x40cabc===_0x1e195a(0x136)){let _0x466dce=![];if(_0x54e621['find'](_0xda6038=>_0xda6038['room']===_0x40de8a))_0x466dce=!![];const _0x3a7577=_0x42d90e[_0x1e195a(0x1c2)](_0x393260=>normalize(_0x393260[_0x1e195a(0x195)])===normalize(_0x40de8a)&&(_0x393260['type']===_0x1e195a(0x18b)||_0x393260[_0x1e195a(0x1e8)]===_0x1e195a(0x1ce)||_0x393260[_0x1e195a(0x1e8)]==='contact'));for(const _0x30c678 of _0x3a7577){try{const _0x300d4e=await _0x1349ef[_0x1e195a(0x14c)](_0x30c678['id']);if(_0x300d4e&&(_0x300d4e[_0x1e195a(0x157)]===!![]||_0x300d4e[_0x1e195a(0x157)]===0x1||String(_0x300d4e['val'])[_0x1e195a(0x181)]()===_0x1e195a(0x148)))_0x466dce=!![];}catch(_0x474b16){}}if(_0x466dce)_0x1349ef['log'][_0x1e195a(0x1de)](_0x1e195a(0x14d)+_0x40de8a+_0x1e195a(0x19e));else{const _0x204f00=_0x7200ad[_0x40de8a]||_0x7200ad['default']||0x15;_0x1349ef[_0x1e195a(0x15b)]['info'](_0x1e195a(0x1a0)+_0x40de8a+_0x1e195a(0x143)+_0x32968c[_0x1e195a(0x157)]+_0x1e195a(0x178)+(_0x204f00+0.2)+_0x1e195a(0x194)),await _0x1349ef[_0x1e195a(0x16c)](_0x4c1afd,_0x204f00),await logAutomationAction(_0x1349ef,_0x1e195a(0x184)+_0x40de8a+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x204f00+'¬∞C'),lastActions[_0x1e195a(0x13a)+_0x40de8a]=Date['now']();}}}_0x50c86f[_0x1e195a(0x17a)](_0x138e9f,0x1),_0x18e86b=!![];}}}}}_0x18e86b&&await _0x1349ef[_0x1e195a(0x152)](_0x3bc321,{'val':JSON[_0x1e195a(0x1db)](_0x50c86f),'ack':!![]}),_0x3f59f8&&await _0x1349ef[_0x1e195a(0x152)](_0x1e195a(0x1a3),{'val':JSON[_0x1e195a(0x1db)](_0x4599e9),'ack':!![]});}catch(_0x790d42){}}function a1_0x410a(_0x567205,_0x3d6d7e){const _0x5ce91f=a1_0x2155();return a1_0x410a=function(_0x492038,_0x33061a){_0x492038=_0x492038-0x129;let _0x2155ae=_0x5ce91f[_0x492038];return _0x2155ae;},a1_0x410a(_0x567205,_0x3d6d7e);}async function applyEnergySavings(_0x42f8b5,_0xa9c262){const _0x27c1a4=a1_0x66b19d;await cleanupGhostInterventions(_0x42f8b5);if(!_0xa9c262||_0xa9c262['length']===0x0)return;const _0x595e6f=_0x42f8b5[_0x27c1a4(0x18c)]['devices']||[],_0x3827db=Date[_0x27c1a4(0x1a2)]();for(const _0x17184b of _0xa9c262){const _0xa12eb=_0x17184b[_0x27c1a4(0x196)],_0x108bcc=_0x17184b['minutes_safe'],_0x6bfc34=_0x17184b['target']||0x15;if(lastActions[_0x27c1a4(0x13a)+_0xa12eb]&&_0x3827db-lastActions['rescue_'+_0xa12eb]<RESCUE_LOCK_MS)continue;const _0x370bec=_0x595e6f[_0x27c1a4(0x155)](_0x64a216=>normalize(_0x64a216['location'])===normalize(_0xa12eb)&&(_0x64a216[_0x27c1a4(0x1e8)]===_0x27c1a4(0x17d)||_0x64a216['type']===_0x27c1a4(0x159)));if(!_0x370bec)continue;const _0x1ae169=await findRelatedId(_0x42f8b5,_0x370bec['id'],'setpoint');if(_0x1ae169){if(lastActions[_0x27c1a4(0x12e)+_0xa12eb]&&_0x3827db-lastActions[_0x27c1a4(0x12e)+_0xa12eb]<0x1e*0x3c*0x3e8)continue;const _0x4bd81e=await _0x42f8b5[_0x27c1a4(0x14c)](_0x1ae169);if(_0x4bd81e&&typeof _0x4bd81e[_0x27c1a4(0x157)]===_0x27c1a4(0x174)){const _0x1f70bb=_0x4bd81e['val'];_0x1f70bb!==ECO_TEMP&&await manageMpcIntervention(_0x42f8b5,_0xa12eb,_0x27c1a4(0x19a));if(_0x108bcc>0x1e)_0x1f70bb>ECO_TEMP+0.5&&(_0x42f8b5[_0x27c1a4(0x15b)][_0x27c1a4(0x1de)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0xa12eb+_0x27c1a4(0x186)+ECO_TEMP+_0x27c1a4(0x13b)+_0x108bcc+_0x27c1a4(0x17c)),await _0x42f8b5['setForeignStateAsync'](_0x1ae169,ECO_TEMP),await manageMpcIntervention(_0x42f8b5,_0xa12eb,_0x27c1a4(0x172)),lastActions[_0x27c1a4(0x12e)+_0xa12eb]=_0x3827db,await logAutomationAction(_0x42f8b5,_0x27c1a4(0x1ae)+_0xa12eb+_0x27c1a4(0x15e)+ECO_TEMP+'¬∞C'));else _0x108bcc<=0xf&&(_0x1f70bb<_0x6bfc34&&(_0x42f8b5['log'][_0x27c1a4(0x1de)]('üî•\x20[MPC\x20ACTION]\x20Heize\x20'+_0xa12eb+'\x20wieder\x20auf\x20'+_0x6bfc34+_0x27c1a4(0x171)),await _0x42f8b5[_0x27c1a4(0x16c)](_0x1ae169,_0x6bfc34),await manageMpcIntervention(_0x42f8b5,_0xa12eb,_0x27c1a4(0x19a)),lastActions[_0x27c1a4(0x12e)+_0xa12eb]=_0x3827db,await logAutomationAction(_0x42f8b5,_0x27c1a4(0x1ae)+_0xa12eb+_0x27c1a4(0x1af)+_0x6bfc34+'¬∞C')));}}else _0x42f8b5['log'][_0x27c1a4(0x1e3)](_0x27c1a4(0x197)+_0xa12eb+_0x27c1a4(0x150));}}module[a1_0x66b19d(0x1ca)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};