const a1_0x353f9c=a1_0x3d96;(function(_0x4cd3e0,_0x833eed){const _0x36af05=a1_0x3d96,_0x22472d=_0x4cd3e0();while(!![]){try{const _0x497498=-parseInt(_0x36af05(0x10c))/0x1*(parseInt(_0x36af05(0x17f))/0x2)+-parseInt(_0x36af05(0x165))/0x3+parseInt(_0x36af05(0x114))/0x4+-parseInt(_0x36af05(0x172))/0x5*(parseInt(_0x36af05(0x150))/0x6)+parseInt(_0x36af05(0x11a))/0x7+-parseInt(_0x36af05(0x197))/0x8+parseInt(_0x36af05(0x120))/0x9;if(_0x497498===_0x833eed)break;else _0x22472d['push'](_0x22472d['shift']());}catch(_0x213150){_0x22472d['push'](_0x22472d['shift']());}}}(a1_0x1e3d,0xa50c9));const a1_0x59da6b=(function(){let _0x231525=!![];return function(_0x530b18,_0x92572b){const _0x512094=_0x231525?function(){if(_0x92572b){const _0x361329=_0x92572b['apply'](_0x530b18,arguments);return _0x92572b=null,_0x361329;}}:function(){};return _0x231525=![],_0x512094;};}()),a1_0x2fb071=a1_0x59da6b(this,function(){const _0x527eb3=a1_0x3d96;return a1_0x2fb071['toString']()[_0x527eb3(0x149)](_0x527eb3(0x148))['toString']()[_0x527eb3(0x121)](a1_0x2fb071)[_0x527eb3(0x149)]('(((.+)+)+)+$');});a1_0x2fb071();'use strict';const aiAgent=require(a1_0x353f9c(0x107)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x13bc48){const _0x3a2713=a1_0x353f9c;if(!_0x13bc48)return'';return _0x13bc48[_0x3a2713(0x181)]()['replace'](/\s+/g,'')[_0x3a2713(0x10b)]();}function a1_0x3d96(_0x23c031,_0x3c3dbe){const _0x164c40=a1_0x1e3d();return a1_0x3d96=function(_0x2fb071,_0x59da6b){_0x2fb071=_0x2fb071-0xe6;let _0x1e3dac=_0x164c40[_0x2fb071];return _0x1e3dac;},a1_0x3d96(_0x23c031,_0x3c3dbe);}function getWarmupRobust(_0x55a723,_0x13bbbb){const _0x11224e=a1_0x353f9c;if(!_0x55a723||!_0x13bbbb)return 0x3c;if(_0x55a723[_0x13bbbb]!==undefined)return _0x55a723[_0x13bbbb];const _0xa5185e=_0x13bbbb[_0x11224e(0x181)]()[_0x11224e(0xf4)](/√§/g,'ae')[_0x11224e(0xf4)](/√∂/g,'oe')[_0x11224e(0xf4)](/√º/g,'ue')[_0x11224e(0xf4)](/√ü/g,'ss')[_0x11224e(0xf4)](/\s+/g,'_')[_0x11224e(0xf4)](/[^a-z0-9_]/g,'');if(_0x55a723[_0xa5185e]!==undefined)return _0x55a723[_0xa5185e];return 0x3c;}async function logAutomationAction(_0x389a4a,_0x45c6db){const _0x2f0e5e=a1_0x353f9c;await _0x389a4a[_0x2f0e5e(0x158)](_0x2f0e5e(0x195),{'val':_0x45c6db,'ack':!![]});try{const _0x3440a6=_0x2f0e5e(0xf7),_0x3da4a1=await _0x389a4a['getStateAsync'](_0x3440a6);let _0x229cd0=[];if(_0x3da4a1&&_0x3da4a1[_0x2f0e5e(0x18c)])try{_0x229cd0=JSON[_0x2f0e5e(0x156)](_0x3da4a1[_0x2f0e5e(0x18c)]);}catch(_0x5ad6bc){}_0x229cd0['unshift']({'ts':Date[_0x2f0e5e(0x194)](),'msg':_0x45c6db});if(_0x229cd0[_0x2f0e5e(0x184)]>0x32)_0x229cd0=_0x229cd0[_0x2f0e5e(0x185)](0x0,0x32);await _0x389a4a[_0x2f0e5e(0x158)](_0x3440a6,{'val':JSON[_0x2f0e5e(0x17d)](_0x229cd0),'ack':!![]});}catch(_0x4f3437){}}async function handlePrediction(_0x56a540,_0x35166c,_0x1ad3d8){const _0x27d089=a1_0x353f9c;if(!_0x35166c||_0x35166c==='Unknown')return;let _0x3f4845=_0x27d089(0x191),_0x5d9cb1=0.6;try{const _0x1b2390=await _0x56a540[_0x27d089(0xe7)]('analysis.automation.mode');if(_0x1b2390&&_0x1b2390[_0x27d089(0x18c)])_0x3f4845=_0x1b2390[_0x27d089(0x18c)];const _0x2f1533=await _0x56a540[_0x27d089(0xe7)]('analysis.automation.confidenceThreshold');if(_0x2f1533&&_0x2f1533[_0x27d089(0x18c)])_0x5d9cb1=_0x2f1533['val'];}catch(_0x12c921){}if(_0x3f4845===_0x27d089(0x191)||_0x1ad3d8<_0x5d9cb1)return;const _0x4999ac=Date[_0x27d089(0x194)]();if(lastActions[_0x35166c]&&_0x4999ac-lastActions[_0x35166c]<COOLDOWN_MS)return;const _0x39ad1e=_0x56a540[_0x27d089(0x140)][_0x27d089(0x12e)]||[],_0x65776a=normalize(_0x35166c),_0x227f3f=_0x39ad1e['find'](_0x540234=>normalize(_0x540234[_0x27d089(0x14b)])===_0x65776a&&(_0x540234[_0x27d089(0x15e)]===_0x27d089(0x183)||_0x540234[_0x27d089(0x15e)]===_0x27d089(0x109)||_0x540234[_0x27d089(0x15e)]===_0x27d089(0x188)));if(!_0x227f3f)return;const _0x2f52d8=await aiAgent['consultButler'](_0x56a540,_0x35166c,_0x227f3f[_0x27d089(0x182)],_0x1ad3d8);if(!_0x2f52d8[_0x27d089(0x16d)])return;const _0x1bc515=_0x27d089(0x154)+_0x35166c+_0x27d089(0x15c)+_0x227f3f[_0x27d089(0x182)]+'\x20('+_0x2f52d8[_0x27d089(0x19f)]+')';await logAutomationAction(_0x56a540,'['+_0x3f4845[_0x27d089(0x102)]()+']\x20'+_0x1bc515);if(_0x3f4845==='active'){const _0x5582b=await _0x56a540[_0x27d089(0xfa)](_0x227f3f['id']);(!_0x5582b||!_0x5582b[_0x27d089(0x18c)]&&_0x5582b[_0x27d089(0x18c)]!==!![])&&await _0x56a540[_0x27d089(0x169)](_0x227f3f['id'],!![]),lastActions[_0x35166c]=_0x4999ac;}}function a1_0x1e3d(){const _0x5e719b=['Unbekannt','info','setForeignStateAsync','from','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','warn','approved','soll','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','¬∞C\x20(Kalender-Schutz)','local_temperature','445iURenh','\x20auf\x20','üî•\x20[MPC\x20ACTION]\x20Heize\x20','target','date','values','_meta','¬∞C\x20(via\x20','Classic','map','rescue_','stringify','.1.TEMPERATURE','2DSEYkH','level','toLowerCase','name','light','length','slice','current_heating_setpoint','split','switch','forEach','exports','urlaub\x20ende','val','¬∞C\x20->\x20','temp','useCalendar','room','off','Fehlt','[WATCHDOG]\x20','now','analysis.automation.lastAction','¬∞C\x20(Vorlauf:\x20','975808EyQSnK','isArray','\x20min).','stellwert','score','add','valveMapping','number','reason','analysis.energy.activeEnforcements','remove','getStateAsync','\x20min)','target_temperature','valve_position','ist','string','write','level.temperature','findIndex','SET_POINT_TEMPERATURE','\x20->\x20','analysis.energy.warmupSources','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','replace','push','analysis.energy.warmupTimes','analysis.automation.actionLog','system.mode','.4.VALVE_STATE','getForeignStateAsync','üìÖ\x20SMART\x20SCHEDULE\x20[','position','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','cal_','mpc_','filter','open','toUpperCase','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','splice','analysis.energy.ventilationAlerts','\x27\x20(Match:\x20','./ai_agent','common','dimmer','[CAL]\x20','trim','1202987KykHkA','temperature','calendarInstance','triggerTime','window','.4.SET_TEMPERATURE','too_cold','r√ºckkehr','1830596KdSrJd','¬∞C).\x20Sparmodus\x20beendet!','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','entries','5516119pGJpkM','\x20wieder\x20auf\x20','thermostatMapping','Nicht\x20gefunden','eventStart','üìÖ\x20[MPC\x20INFO]\x20','11640177isrxYd','constructor','localeCompare','sensor','state','default','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','_calName','getHours','analysis.energy.mpcActiveInterventions','\x20erreicht\x20Limit\x20(','event','hm-rpc','error','devices','calendarSelection','summary','messwert','analysis.energy.schedulePreview','log','thermostat','find','SET','[FORCE]\x20','getTime','Soll','minutes_safe','Ist','setpoint','role','.data.table','analysis.energy.rlPenalties','config','normal','.1.LEVEL','üßπ\x20[MPC\x20CLEANUP]\x20','occupied_heating_setpoint','message','.1.ACTUAL_TEMPERATURE','value.valve','(((.+)+)+)+$','search','¬∞C\x20(nicht\x20','location','includes','PERFECT','abs','sort','34344OaHnkn','indexOf','[MPC]\x20','wert','Pr√§diktion:\x20','contact','parse','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','setStateAsync','Enforcement\x20Monitor\x20Error:\x20','valve','manual','\x20->\x20Schalte\x20','getForeignObjectsAsync','type','¬∞C.','¬∞C).\x20Entferne\x20Status.','.1.SET_POINT_TEMPERATURE',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','Calendar\x20Check\x20Error:\x20','¬∞C!\x20(Puffer\x20leer).','85737mBcfir','TRAIN_RL_PENALTY'];a1_0x1e3d=function(){return _0x5e719b;};return a1_0x1e3d();}async function findRelatedId(_0x21b494,_0x5ab6ac,_0x398a11=a1_0x353f9c(0x13c)){const _0x21de05=a1_0x353f9c;if(_0x398a11===_0x21de05(0x13c)&&_0x21b494['config'][_0x21de05(0x11c)]){let _0x22363c=_0x21b494[_0x21de05(0x140)][_0x21de05(0x11c)];if(typeof _0x22363c===_0x21de05(0xec))try{_0x22363c=JSON[_0x21de05(0x156)](_0x22363c);}catch(_0x14d566){}if(_0x22363c&&_0x22363c[_0x5ab6ac])return _0x22363c[_0x5ab6ac];}if(_0x398a11==='valve'&&_0x21b494['config'][_0x21de05(0x19d)]){let _0x1844f5=_0x21b494[_0x21de05(0x140)]['valveMapping'];if(typeof _0x1844f5==='string')try{_0x1844f5=JSON[_0x21de05(0x156)](_0x1844f5);}catch(_0x1effd9){}if(_0x1844f5&&_0x1844f5[_0x5ab6ac])return _0x1844f5[_0x5ab6ac];}let _0x46c83d=[];if(_0x398a11==='setpoint')_0x46c83d=[{'s':_0x21de05(0x146),'t':_0x21de05(0x161)},{'s':_0x21de05(0x17e),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x21de05(0x17e),'t':_0x21de05(0x111)},{'s':'ACTUAL_TEMPERATURE','t':_0x21de05(0xf0)},{'s':'local_temperature','t':_0x21de05(0x144)},{'s':_0x21de05(0x171),'t':_0x21de05(0x186)},{'s':_0x21de05(0x10d),'t':_0x21de05(0xe9)},{'s':'ACTUAL','t':_0x21de05(0x136)},{'s':_0x21de05(0x13b),'t':_0x21de05(0x139)},{'s':_0x21de05(0x10d),'t':_0x21de05(0x13c)}];else _0x398a11===_0x21de05(0x15a)&&(_0x46c83d=[{'s':'.1.ACTUAL_TEMPERATURE','t':'.1.LEVEL'},{'s':_0x21de05(0x17e),'t':_0x21de05(0x142)},{'s':_0x21de05(0x17e),'t':_0x21de05(0xf9)},{'s':_0x21de05(0x171),'t':'pi_heating_demand'},{'s':'temperature','t':_0x21de05(0xea)},{'s':'temperature','t':_0x21de05(0x180)}]);for(const _0x2f9fba of _0x46c83d){if(_0x5ab6ac[_0x21de05(0x14c)](_0x2f9fba['s'])){const _0x199059=_0x5ab6ac[_0x21de05(0xf4)](_0x2f9fba['s'],_0x2f9fba['t']),_0x3d001d=await _0x21b494['getForeignObjectAsync'](_0x199059);if(_0x3d001d)return _0x199059;}}try{const _0x36467b=_0x5ab6ac['split']('.');if(_0x36467b['length']>0x2){const _0x246e58=_0x36467b['slice'](0x0,-0x1)['join']('.'),_0x115a4d=await _0x21b494[_0x21de05(0x15d)](_0x246e58+'.*'),_0x592d65=[],_0x4d090b=_0x5ab6ac[_0x21de05(0x187)](/[._]+/)[_0x21de05(0x100)](_0x59a372=>!['openknx','0',_0x21de05(0x12c),_0x21de05(0xeb),_0x21de05(0x153),'temperature','actual','sensor',_0x21de05(0x131),_0x21de05(0x124)][_0x21de05(0x14c)](_0x59a372['toLowerCase']()));for(const [_0x8ad6d2,_0x1d559b]of Object['entries'](_0x115a4d)){if(_0x8ad6d2===_0x5ab6ac)continue;if(_0x1d559b&&_0x1d559b[_0x21de05(0x108)]){const _0x2049c4=_0x8ad6d2[_0x21de05(0x181)](),_0x416790=(_0x1d559b[_0x21de05(0x108)][_0x21de05(0x13d)]||'')[_0x21de05(0x181)](),_0x304211=(_0x1d559b[_0x21de05(0x108)]['unit']||'')[_0x21de05(0x181)]();let _0xcb1fa6=![];if(_0x398a11===_0x21de05(0x13c)&&_0x1d559b[_0x21de05(0x108)][_0x21de05(0xed)]===!![])_0xcb1fa6=_0x2049c4[_0x21de05(0x14c)]('set')||_0x2049c4['includes'](_0x21de05(0x16e))||_0x2049c4[_0x21de05(0x14c)]('target')||_0x416790[_0x21de05(0x14c)](_0x21de05(0xee))||_0x416790[_0x21de05(0x14c)]('thermostat.setpoint');else _0x398a11==='valve'&&(_0xcb1fa6=_0x2049c4[_0x21de05(0x14c)]('level')||_0x2049c4[_0x21de05(0x14c)](_0x21de05(0x15a))||_0x2049c4[_0x21de05(0x14c)](_0x21de05(0x19a))||_0x2049c4[_0x21de05(0x14c)](_0x21de05(0xfc))||_0x416790[_0x21de05(0x14c)]('level.valve')||_0x416790[_0x21de05(0x14c)](_0x21de05(0x147))||_0x304211[_0x21de05(0x14c)]('%'));if(_0xcb1fa6){const _0x1fa10b=_0x8ad6d2[_0x21de05(0x187)](/[._]+/)[_0x21de05(0x17b)](_0x254cdd=>_0x254cdd[_0x21de05(0x181)]());let _0x27d8fe=0x0;_0x4d090b[_0x21de05(0x189)](_0x149b2f=>{const _0x1e52ec=_0x21de05;if(_0x1fa10b[_0x1e52ec(0x14c)](_0x149b2f['toLowerCase']()))_0x27d8fe++;}),_0x592d65[_0x21de05(0xf5)]({'id':_0x8ad6d2,'score':_0x27d8fe});}}}if(_0x592d65[_0x21de05(0x184)]>0x0){_0x592d65[_0x21de05(0x14f)]((_0x3d30e8,_0x54d955)=>_0x54d955['score']-_0x3d30e8[_0x21de05(0x19b)]);if(_0x592d65[0x0][_0x21de05(0x19b)]>0x0)return _0x592d65[0x0]['id'];}}}catch(_0xaac281){}return null;}async function scanThermostats(_0x4c6d7f){const _0xd57e9f=a1_0x353f9c,_0x716b0f=_0x4c6d7f[_0xd57e9f(0x140)][_0xd57e9f(0x12e)]||[],_0x1c1303=[],_0x5781d9=_0x716b0f['filter'](_0x4a6540=>_0x4a6540['id']&&_0x4a6540['id']['includes'](_0xd57e9f(0x10d))||_0x4a6540[_0xd57e9f(0x15e)]&&[_0xd57e9f(0x10d),_0xd57e9f(0x134),_0xd57e9f(0x123)][_0xd57e9f(0x14c)](_0x4a6540['type'])||_0x4a6540[_0xd57e9f(0x182)]&&_0x4a6540[_0xd57e9f(0x182)][_0xd57e9f(0x181)]()['includes'](_0xd57e9f(0x18e)));for(const _0x3bcd1e of _0x5781d9){const _0x26b8cf=await findRelatedId(_0x4c6d7f,_0x3bcd1e['id'],_0xd57e9f(0x13c)),_0x647f8f=await findRelatedId(_0x4c6d7f,_0x3bcd1e['id'],_0xd57e9f(0x15a));let _0x1491dd=_0xd57e9f(0x11d),_0xfbf949=![],_0x9d4030=_0x4c6d7f[_0xd57e9f(0x140)][_0xd57e9f(0x11c)]||{};if(typeof _0x9d4030===_0xd57e9f(0xec))try{_0x9d4030=JSON[_0xd57e9f(0x156)](_0x9d4030);}catch(_0x36f75b){}let _0x590a3d=_0x4c6d7f[_0xd57e9f(0x140)][_0xd57e9f(0x19d)]||{};if(typeof _0x590a3d==='string')try{_0x590a3d=JSON[_0xd57e9f(0x156)](_0x590a3d);}catch(_0x598d3b){}if(_0x9d4030[_0x3bcd1e['id']]&&_0x9d4030[_0x3bcd1e['id']]===_0x26b8cf||_0x590a3d[_0x3bcd1e['id']]&&_0x590a3d[_0x3bcd1e['id']]===_0x647f8f)_0x1491dd='Manuelles\x20Mapping',_0xfbf949=!![];else(_0x26b8cf||_0x647f8f)&&(_0x1491dd='Auto-Erkennung');_0x1c1303['push']({'room':_0x3bcd1e['location']||_0xd57e9f(0x167),'sensorId':_0x3bcd1e['id'],'setpointId':_0x26b8cf||'-','valveId':_0x647f8f||'-','source':_0x1491dd,'isManual':_0xfbf949,'status':_0x26b8cf&&_0x647f8f?_0xd57e9f(0x14d):_0x26b8cf?'OK':_0xd57e9f(0x192)});}return _0x1c1303[_0xd57e9f(0x14f)]((_0x4e057c,_0x5094a8)=>_0x4e057c[_0xd57e9f(0x190)][_0xd57e9f(0x122)](_0x5094a8['room']));}async function updateSchedulePreview(_0x29b0c8){const _0x4cf336=a1_0x353f9c;if(!_0x29b0c8[_0x4cf336(0x140)][_0x4cf336(0x18f)]||!_0x29b0c8[_0x4cf336(0x140)][_0x4cf336(0x10e)])return;let _0x58fde8={};try{const _0x40084c=await _0x29b0c8[_0x4cf336(0xe7)](_0x4cf336(0xf6));if(_0x40084c&&_0x40084c['val'])_0x58fde8=JSON[_0x4cf336(0x156)](_0x40084c[_0x4cf336(0x18c)]);}catch(_0x287f7f){}const _0x415bc5=[],_0x76ffbd=Date[_0x4cf336(0x194)](),_0x52ed98=0x30*0x3c*0x3c*0x3e8;try{const _0x30eca1=await _0x29b0c8[_0x4cf336(0xfa)](_0x29b0c8[_0x4cf336(0x140)]['calendarInstance']+_0x4cf336(0x13e));if(!_0x30eca1||!_0x30eca1['val'])return;const _0x4ad2a2=JSON[_0x4cf336(0x156)](_0x30eca1[_0x4cf336(0x18c)]),_0x4e6c8a=_0x29b0c8[_0x4cf336(0x140)][_0x4cf336(0x12f)]||[],_0x106a44=_0x29b0c8[_0x4cf336(0x140)]['devices']||[],_0x8f82c4=new Set();_0x106a44[_0x4cf336(0x189)](_0x327d38=>{const _0x3d257d=_0x4cf336;if(_0x327d38['location'])_0x8f82c4[_0x3d257d(0x19c)](_0x327d38[_0x3d257d(0x14b)]);});for(const _0x195b6f of _0x4ad2a2){if(_0x195b6f['_calName']&&_0x4e6c8a[_0x4cf336(0x184)]>0x0&&!_0x4e6c8a[_0x4cf336(0x14c)](_0x195b6f[_0x4cf336(0x127)]))continue;const _0x504efc=_0x195b6f['_date']||_0x195b6f[_0x4cf336(0x11e)]||_0x195b6f[_0x4cf336(0x176)];if(!_0x504efc)continue;const _0x5b0110=new Date(_0x504efc),_0xfe66a0=_0x5b0110['getTime']();if(isNaN(_0xfe66a0))continue;if(_0xfe66a0<_0x76ffbd)continue;if(_0xfe66a0>_0x76ffbd+_0x52ed98)continue;const _0x42911a=(_0x195b6f[_0x4cf336(0x12b)]||_0x195b6f[_0x4cf336(0x130)]||'')[_0x4cf336(0x181)]();let _0xf60d6f=![],_0x1f9478=[],_0x204933=_0x195b6f['event']||_0x195b6f[_0x4cf336(0x130)]||_0x4cf336(0x167);if(_0x42911a['includes'](_0x4cf336(0x18b))||_0x42911a[_0x4cf336(0x14c)](_0x4cf336(0x113))||_0x42911a[_0x4cf336(0x14c)]('ankunft'))_0xf60d6f=!![],_0x1f9478=Array[_0x4cf336(0x16a)](_0x8f82c4);else for(const _0x31fecb of _0x8f82c4){if(_0x42911a[_0x4cf336(0x14c)](_0x31fecb[_0x4cf336(0x181)]()))_0x1f9478[_0x4cf336(0xf5)](_0x31fecb);}_0x1f9478[_0x4cf336(0x184)]>0x0&&_0x1f9478['forEach'](_0x444e90=>{const _0x456d17=_0x4cf336;let _0x34b075=0x3c;if(_0xf60d6f){let _0x1b2233=0x0;Object[_0x456d17(0x177)](_0x58fde8)[_0x456d17(0x189)](_0xfda523=>{if(_0xfda523>_0x1b2233)_0x1b2233=_0xfda523;}),_0x34b075=_0x1b2233>0x0?_0x1b2233:0x78;}else _0x34b075=getWarmupRobust(_0x58fde8,_0x444e90);const _0x443407=new Date(_0xfe66a0-_0x34b075*0xea60);_0x415bc5[_0x456d17(0xf5)]({'eventTime':_0xfe66a0,'triggerTime':_0x443407[_0x456d17(0x138)](),'room':_0x444e90,'minutes':_0x34b075,'reason':_0x204933,'isGlobal':_0xf60d6f});});}}catch(_0x6f2a5){}_0x415bc5[_0x4cf336(0x14f)]((_0x2f22ac,_0x260c81)=>_0x2f22ac[_0x4cf336(0x10f)]-_0x260c81[_0x4cf336(0x10f)]);const _0x9e5e5c=_0x415bc5[_0x4cf336(0x185)](0x0,0x1e);await _0x29b0c8[_0x4cf336(0x158)](_0x4cf336(0x132),{'val':JSON[_0x4cf336(0x17d)](_0x9e5e5c),'ack':!![]});}async function monitorEnforcements(_0x395fff){const _0x558400=a1_0x353f9c;try{const _0x253eee=_0x558400(0x1a0),_0x261f15=await _0x395fff['getStateAsync'](_0x253eee);if(!_0x261f15||!_0x261f15['val'])return;let _0x4485b4=[];try{_0x4485b4=JSON['parse'](_0x261f15[_0x558400(0x18c)]);}catch(_0x10554e){return;}if(!Array['isArray'](_0x4485b4)||_0x4485b4[_0x558400(0x184)]===0x0)return;const _0x21b7de=Date[_0x558400(0x194)](),_0x3bf1fb=_0x395fff[_0x558400(0x140)]['devices']||[];let _0x4ec4b5=![];for(let _0x173f7c=_0x4485b4[_0x558400(0x184)]-0x1;_0x173f7c>=0x0;_0x173f7c--){const _0xb89010=_0x4485b4[_0x173f7c];if(_0x21b7de>=_0xb89010['until']){_0x395fff[_0x558400(0x133)]['info'](_0x558400(0x16f)+_0xb89010['room']+_0x558400(0x117)),_0x4485b4[_0x558400(0x104)](_0x173f7c,0x1),_0x4ec4b5=!![];continue;}const _0x7a5887=_0x3bf1fb['find'](_0x2ee8fd=>normalize(_0x2ee8fd[_0x558400(0x14b)])===normalize(_0xb89010[_0x558400(0x190)])&&(_0x2ee8fd['type']===_0x558400(0x10d)||_0x2ee8fd[_0x558400(0x15e)]==='thermostat'));if(_0x7a5887){const _0x5beef5=await findRelatedId(_0x395fff,_0x7a5887['id'],_0x558400(0x13c));if(_0x5beef5){const _0x458054=await _0x395fff[_0x558400(0xfa)](_0x5beef5);_0x458054&&typeof _0x458054['val']===_0x558400(0x19e)&&(_0x458054[_0x558400(0x18c)]<0xf&&(_0x395fff[_0x558400(0x133)]['warn'](_0x558400(0x157)+_0xb89010['room']+_0x558400(0x173)+_0x458054[_0x558400(0x18c)]+'¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20'+_0xb89010[_0x558400(0x175)]+_0x558400(0x15f)),await _0x395fff['setForeignStateAsync'](_0x5beef5,_0xb89010[_0x558400(0x175)]),await logAutomationAction(_0x395fff,_0x558400(0x137)+_0xb89010[_0x558400(0x190)]+':\x20'+_0x458054[_0x558400(0x18c)]+_0x558400(0x18d)+_0xb89010[_0x558400(0x175)]+_0x558400(0x170))));}}}_0x4ec4b5&&await _0x395fff[_0x558400(0x158)](_0x253eee,{'val':JSON[_0x558400(0x17d)](_0x4485b4),'ack':!![]});}catch(_0x574a4b){_0x395fff[_0x558400(0x133)][_0x558400(0x12d)](_0x558400(0x159)+_0x574a4b[_0x558400(0x145)]);}}async function checkCalendarTriggers(_0x3d1218){const _0x17792e=a1_0x353f9c;if(!_0x3d1218['config'][_0x17792e(0x18f)]||!_0x3d1218[_0x17792e(0x140)][_0x17792e(0x10e)])return;await updateSchedulePreview(_0x3d1218);let _0x527f7d={},_0x42b757={};try{const _0x35e089=await _0x3d1218[_0x17792e(0xe7)](_0x17792e(0xf6));if(_0x35e089&&_0x35e089[_0x17792e(0x18c)])_0x527f7d=JSON['parse'](_0x35e089['val']);const _0x496ac7=await _0x3d1218[_0x17792e(0xe7)](_0x17792e(0xf2));if(_0x496ac7&&_0x496ac7['val'])_0x42b757=JSON['parse'](_0x496ac7[_0x17792e(0x18c)]);}catch(_0x3436b7){}let _0x5d4985={'default':0x15};try{const _0x5e0c09=await _0x3d1218[_0x17792e(0xe7)]('analysis.energy.warmupTargets');if(_0x5e0c09&&_0x5e0c09[_0x17792e(0x18c)])_0x5d4985=JSON[_0x17792e(0x156)](_0x5e0c09[_0x17792e(0x18c)]);}catch(_0x4d7f53){}let _0x42fbaf=[];try{const _0x460954=await _0x3d1218[_0x17792e(0xe7)](_0x17792e(0x1a0));if(_0x460954&&_0x460954[_0x17792e(0x18c)])_0x42fbaf=JSON[_0x17792e(0x156)](_0x460954[_0x17792e(0x18c)]);}catch(_0x2acb84){}try{const _0x2cadb5=await _0x3d1218[_0x17792e(0xfa)](_0x3d1218['config'][_0x17792e(0x10e)]+_0x17792e(0x13e));if(!_0x2cadb5||!_0x2cadb5[_0x17792e(0x18c)])return;const _0x95bb88=JSON[_0x17792e(0x156)](_0x2cadb5[_0x17792e(0x18c)]),_0x3d6366=Date[_0x17792e(0x194)](),_0x22a20e=_0x3d1218[_0x17792e(0x140)]['devices']||[],_0x405f96=_0x3d1218[_0x17792e(0x140)][_0x17792e(0x12f)]||[];let _0x1de3a3=![];for(const _0x594c77 of _0x95bb88){if(_0x594c77[_0x17792e(0x127)]&&_0x405f96['length']>0x0&&!_0x405f96[_0x17792e(0x14c)](_0x594c77[_0x17792e(0x127)]))continue;const _0x37e77e=_0x594c77['_date']||_0x594c77[_0x17792e(0x11e)]||_0x594c77[_0x17792e(0x176)];if(!_0x37e77e)continue;const _0x5d6d31=new Date(_0x37e77e);if(isNaN(_0x5d6d31['getTime']()))continue;const _0x2e54d9=(_0x594c77[_0x17792e(0x12b)]||_0x594c77['summary']||'')[_0x17792e(0x181)]();if(_0x2e54d9[_0x17792e(0x14c)](_0x17792e(0x18b))||_0x2e54d9['includes'](_0x17792e(0x113))||_0x2e54d9['includes']('ankunft')){let _0x281ddc=0x0;Object[_0x17792e(0x177)](_0x527f7d)[_0x17792e(0x189)](_0x494630=>{if(_0x494630>_0x281ddc)_0x281ddc=_0x494630;});if(_0x281ddc===0x0)_0x281ddc=0x78;const _0x58fbea=_0x5d6d31[_0x17792e(0x138)]()-_0x281ddc*0xea60;_0x3d6366>=_0x58fbea&&_0x3d6366<_0x5d6d31[_0x17792e(0x138)]()&&(_0x3d1218['currentSystemMode']!==_0x17792e(0x141)&&(_0x3d1218[_0x17792e(0x133)][_0x17792e(0x168)](_0x17792e(0x118)+_0x281ddc+_0x17792e(0x199)),await _0x3d1218[_0x17792e(0x158)](_0x17792e(0xf8),{'val':_0x17792e(0x141),'ack':![]})));}for(const _0x61fc50 of _0x22a20e){if(_0x61fc50['location']){const _0x28497e=_0x61fc50[_0x17792e(0x14b)][_0x17792e(0x181)](),_0x145f5d=(_0x61fc50[_0x17792e(0x182)]||'')[_0x17792e(0x181)]();let _0x5f5a95=_0x2e54d9[_0x17792e(0x14c)](_0x28497e);!_0x5f5a95&&_0x145f5d[_0x17792e(0x184)]>0x3&&_0x2e54d9[_0x17792e(0x14c)](_0x145f5d)&&(_0x5f5a95=!![]);if(_0x5f5a95){const _0x5db056=getWarmupRobust(_0x527f7d,_0x61fc50[_0x17792e(0x14b)]),_0x3d68c5=_0x42b757[_0x61fc50['location']]||_0x17792e(0x17a),_0x182c2d=_0x5d6d31[_0x17792e(0x138)]()-_0x5db056*0xea60;if(_0x3d6366>=_0x182c2d&&_0x3d6366<_0x5d6d31[_0x17792e(0x138)]()){const _0x5f4529=lastActions[_0x17792e(0xfe)+_0x61fc50[_0x17792e(0x14b)]];if(_0x5f4529&&_0x3d6366-_0x5f4529<CAL_COOLDOWN_MS)continue;const _0x534dc8=await findRelatedId(_0x3d1218,_0x61fc50['id'],_0x17792e(0x13c));if(_0x534dc8){let _0x2cf172=_0x5d4985[_0x61fc50['location']];if(_0x2cf172===undefined)_0x2cf172=_0x5d4985[_0x17792e(0x125)];if(_0x2cf172===undefined)_0x2cf172=0x15;const _0x334b70=await _0x3d1218[_0x17792e(0xfa)](_0x534dc8);if(_0x334b70&&typeof _0x334b70['val']===_0x17792e(0x19e)&&_0x334b70[_0x17792e(0x18c)]<_0x2cf172-0.5){_0x3d1218[_0x17792e(0x133)]['info'](_0x17792e(0xfb)+_0x3d68c5+']:\x20Raum-Trigger\x20\x27'+_0x61fc50['location']+_0x17792e(0x106)+_0x2e54d9+')\x20aktiv.\x20Heize\x20auf\x20'+_0x2cf172+_0x17792e(0x196)+_0x5db056+'\x20min).'),await _0x3d1218['setForeignStateAsync'](_0x534dc8,_0x2cf172),await logAutomationAction(_0x3d1218,_0x17792e(0x10a)+_0x61fc50[_0x17792e(0x14b)]+_0x17792e(0xf1)+_0x2cf172+_0x17792e(0x179)+_0x3d68c5+')'),lastActions[_0x17792e(0xfe)+_0x61fc50[_0x17792e(0x14b)]]=_0x3d6366;const _0x44d186=_0x42fbaf[_0x17792e(0xef)](_0x47d71f=>_0x47d71f[_0x17792e(0x190)]===_0x61fc50[_0x17792e(0x14b)]);if(_0x44d186!==-0x1)_0x42fbaf[_0x17792e(0x104)](_0x44d186,0x1);_0x42fbaf['push']({'room':_0x61fc50[_0x17792e(0x14b)],'target':_0x2cf172,'until':_0x5d6d31[_0x17792e(0x138)]()}),_0x1de3a3=!![];}}}}}}}_0x1de3a3&&await _0x3d1218[_0x17792e(0x158)](_0x17792e(0x1a0),{'val':JSON[_0x17792e(0x17d)](_0x42fbaf),'ack':!![]});}catch(_0x4ee15d){_0x3d1218[_0x17792e(0x133)][_0x17792e(0x16c)](_0x17792e(0x163)+_0x4ee15d[_0x17792e(0x145)]);}}async function manageMpcIntervention(_0x3a3ad9,_0x450e00,_0x233bda){const _0x3f6cf5=a1_0x353f9c;try{const _0x32c1e0=_0x3f6cf5(0x129),_0x5a46ea=await _0x3a3ad9[_0x3f6cf5(0xe7)](_0x32c1e0);let _0x1de1e1=[];if(_0x5a46ea&&_0x5a46ea[_0x3f6cf5(0x18c)])try{_0x1de1e1=JSON[_0x3f6cf5(0x156)](_0x5a46ea[_0x3f6cf5(0x18c)]);}catch(_0x742fe5){}const _0xc93019=_0x1de1e1[_0x3f6cf5(0x151)](_0x450e00);if(_0x233bda==='add')_0xc93019===-0x1&&(_0x1de1e1[_0x3f6cf5(0xf5)](_0x450e00),await _0x3a3ad9[_0x3f6cf5(0x158)](_0x32c1e0,{'val':JSON[_0x3f6cf5(0x17d)](_0x1de1e1),'ack':!![]}));else _0x233bda===_0x3f6cf5(0xe6)&&(_0xc93019!==-0x1&&(_0x1de1e1['splice'](_0xc93019,0x1),await _0x3a3ad9[_0x3f6cf5(0x158)](_0x32c1e0,{'val':JSON['stringify'](_0x1de1e1),'ack':!![]})));}catch(_0x315cfd){}}async function cleanupGhostInterventions(_0x1a4974){const _0x38c2e7=a1_0x353f9c;try{const _0x53a043='analysis.energy.mpcActiveInterventions',_0x51f650=await _0x1a4974[_0x38c2e7(0xe7)](_0x53a043);if(!_0x51f650||!_0x51f650[_0x38c2e7(0x18c)])return;const _0x27b486=JSON[_0x38c2e7(0x156)](_0x51f650[_0x38c2e7(0x18c)]);if(!Array[_0x38c2e7(0x198)](_0x27b486)||_0x27b486[_0x38c2e7(0x184)]===0x0)return;let _0x260b45={'default':0x15};try{const _0x1e5d31=await _0x1a4974[_0x38c2e7(0xe7)]('analysis.energy.warmupTargets');if(_0x1e5d31&&_0x1e5d31[_0x38c2e7(0x18c)])_0x260b45=JSON['parse'](_0x1e5d31[_0x38c2e7(0x18c)]);}catch(_0x445f5b){}let _0x27d4d8=[];try{const _0x383aab=await _0x1a4974['getStateAsync'](_0x38c2e7(0x105));if(_0x383aab&&_0x383aab[_0x38c2e7(0x18c)])_0x27d4d8=JSON[_0x38c2e7(0x156)](_0x383aab[_0x38c2e7(0x18c)]);}catch(_0x514ece){}let _0x8894b2={},_0x52bf3b=![];try{const _0xd64078=await _0x1a4974[_0x38c2e7(0xe7)](_0x38c2e7(0x13f));if(_0xd64078&&_0xd64078[_0x38c2e7(0x18c)])_0x8894b2=JSON[_0x38c2e7(0x156)](_0xd64078[_0x38c2e7(0x18c)]);}catch(_0x4bc4ec){}if(_0x8894b2[_0x38c2e7(0x178)]){const _0x5e42f2=Date[_0x38c2e7(0x194)]();for(const [_0x39f807,_0x5ddd6e]of Object[_0x38c2e7(0x119)](_0x8894b2[_0x38c2e7(0x178)])){_0x5e42f2-_0x5ddd6e>PENALTY_TTL&&(delete _0x8894b2[_0x39f807],delete _0x8894b2[_0x38c2e7(0x178)][_0x39f807],_0x52bf3b=!![],_0x1a4974[_0x38c2e7(0x133)][_0x38c2e7(0x168)]('üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27'+_0x39f807+_0x38c2e7(0x16b)));}}const _0x6568b6=_0x1a4974[_0x38c2e7(0x140)][_0x38c2e7(0x12e)]||[];let _0x2336a5=![];for(let _0x194e5e=_0x27b486['length']-0x1;_0x194e5e>=0x0;_0x194e5e--){const _0x2822b5=_0x27b486[_0x194e5e],_0x457962=_0x6568b6['find'](_0x17e44e=>normalize(_0x17e44e['location'])===normalize(_0x2822b5)&&(_0x17e44e['type']==='temperature'||_0x17e44e[_0x38c2e7(0x15e)]===_0x38c2e7(0x134)));if(!_0x457962){_0x1a4974['log'][_0x38c2e7(0x16c)](_0x38c2e7(0xfd)+_0x2822b5+_0x38c2e7(0x126)),_0x27b486[_0x38c2e7(0x104)](_0x194e5e,0x1),_0x2336a5=!![];continue;}if(_0x457962){const _0x46d145=await findRelatedId(_0x1a4974,_0x457962['id'],'setpoint'),_0x55daf8=await _0x1a4974[_0x38c2e7(0xfa)](_0x457962['id']);if(_0x46d145){const _0x2ee9b2=await _0x1a4974[_0x38c2e7(0xfa)](_0x46d145);if(_0x2ee9b2&&typeof _0x2ee9b2[_0x38c2e7(0x18c)]===_0x38c2e7(0x19e)){let _0x507c75=![],_0xb9978c='';Math[_0x38c2e7(0x14e)](_0x2ee9b2['val']-ECO_TEMP)>0.5&&(_0x507c75=!![],_0xb9978c=_0x38c2e7(0x15b));if(!_0x507c75&&_0x55daf8&&typeof _0x55daf8[_0x38c2e7(0x18c)]===_0x38c2e7(0x19e)){const _0x167860=_0x260b45[_0x2822b5]||_0x260b45[_0x38c2e7(0x125)]||0x15;_0x55daf8[_0x38c2e7(0x18c)]<_0x167860+0.2&&(_0x507c75=!![],_0xb9978c=_0x38c2e7(0x112));}if(_0x507c75){if(_0xb9978c===_0x38c2e7(0x15b)){_0x1a4974[_0x38c2e7(0x133)][_0x38c2e7(0x168)](_0x38c2e7(0x143)+_0x2822b5+'\x20ist\x20auf\x20'+_0x2ee9b2['val']+_0x38c2e7(0x14a)+ECO_TEMP+_0x38c2e7(0x160));const _0x31671f=lastActions[_0x38c2e7(0xfe)+_0x2822b5],_0x509d56=_0x31671f&&Date[_0x38c2e7(0x194)]()-_0x31671f<0x2*0x3c*0x3e8;if(!_0x509d56&&_0x2ee9b2[_0x38c2e7(0x18c)]>ECO_TEMP+0.5){_0x1a4974['sendToPythonWrapper']&&(_0x1a4974['log'][_0x38c2e7(0x168)](_0x38c2e7(0x103)+_0x2822b5+'\x20wurde\x20manuell\x20erh√∂ht.'),_0x1a4974['sendToPythonWrapper'](_0x38c2e7(0x166),{'room':_0x2822b5}));const _0x2f91cb=_0x2822b5+'_'+new Date()[_0x38c2e7(0x128)]();if(!_0x8894b2[_0x2f91cb]){_0x8894b2[_0x2f91cb]=0x1;if(!_0x8894b2[_0x38c2e7(0x178)])_0x8894b2['_meta']={};_0x8894b2[_0x38c2e7(0x178)][_0x2f91cb]=Date[_0x38c2e7(0x194)](),_0x52bf3b=!![];}}else _0x509d56&&_0x1a4974[_0x38c2e7(0x133)][_0x38c2e7(0x168)](_0x38c2e7(0x11f)+_0x2822b5+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0xb9978c===_0x38c2e7(0x112)){let _0x38ea62=![];if(_0x27d4d8[_0x38c2e7(0x135)](_0x186205=>_0x186205[_0x38c2e7(0x190)]===_0x2822b5))_0x38ea62=!![];const _0x258e9f=_0x6568b6[_0x38c2e7(0x100)](_0x1fb90b=>normalize(_0x1fb90b[_0x38c2e7(0x14b)])===normalize(_0x2822b5)&&(_0x1fb90b[_0x38c2e7(0x15e)]===_0x38c2e7(0x110)||_0x1fb90b[_0x38c2e7(0x15e)]===_0x38c2e7(0x123)||_0x1fb90b[_0x38c2e7(0x15e)]===_0x38c2e7(0x155)));for(const _0x3f87a9 of _0x258e9f){try{const _0xccf575=await _0x1a4974[_0x38c2e7(0xfa)](_0x3f87a9['id']);if(_0xccf575&&(_0xccf575['val']===!![]||_0xccf575[_0x38c2e7(0x18c)]===0x1||String(_0xccf575[_0x38c2e7(0x18c)])[_0x38c2e7(0x181)]()===_0x38c2e7(0x101)))_0x38ea62=!![];}catch(_0x21705e){}}if(_0x38ea62)_0x1a4974[_0x38c2e7(0x133)][_0x38c2e7(0x168)](_0x38c2e7(0x116)+_0x2822b5+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x1b140f=_0x260b45[_0x2822b5]||_0x260b45[_0x38c2e7(0x125)]||0x15;_0x1a4974[_0x38c2e7(0x133)][_0x38c2e7(0x168)]('üö®\x20[MPC\x20WATCHDOG]\x20'+_0x2822b5+_0x38c2e7(0x12a)+_0x55daf8['val']+'¬∞C\x20<\x20'+(_0x1b140f+0.2)+_0x38c2e7(0x115)),await _0x1a4974[_0x38c2e7(0x169)](_0x46d145,_0x1b140f),await logAutomationAction(_0x1a4974,_0x38c2e7(0x193)+_0x2822b5+_0x38c2e7(0x162)+_0x1b140f+'¬∞C'),lastActions[_0x38c2e7(0x17c)+_0x2822b5]=Date['now']();}}}_0x27b486[_0x38c2e7(0x104)](_0x194e5e,0x1),_0x2336a5=!![];}}}}}_0x2336a5&&await _0x1a4974[_0x38c2e7(0x158)](_0x53a043,{'val':JSON[_0x38c2e7(0x17d)](_0x27b486),'ack':!![]}),_0x52bf3b&&await _0x1a4974[_0x38c2e7(0x158)](_0x38c2e7(0x13f),{'val':JSON['stringify'](_0x8894b2),'ack':!![]});}catch(_0x4cf1d4){}}async function applyEnergySavings(_0x5947bb,_0x3448f6){const _0x568650=a1_0x353f9c;await cleanupGhostInterventions(_0x5947bb);if(!_0x3448f6||_0x3448f6[_0x568650(0x184)]===0x0)return;const _0x598dd5=_0x5947bb['config']['devices']||[],_0x387eb3=Date['now']();for(const _0x266cc2 of _0x3448f6){const _0x5f2564=_0x266cc2['room'],_0xf069a2=_0x266cc2[_0x568650(0x13a)],_0x524acf=_0x266cc2['target']||0x15;if(lastActions[_0x568650(0x17c)+_0x5f2564]&&_0x387eb3-lastActions[_0x568650(0x17c)+_0x5f2564]<RESCUE_LOCK_MS)continue;const _0x288301=_0x598dd5['find'](_0x5691ef=>normalize(_0x5691ef['location'])===normalize(_0x5f2564)&&(_0x5691ef[_0x568650(0x15e)]===_0x568650(0x10d)||_0x5691ef[_0x568650(0x15e)]===_0x568650(0x134)));if(!_0x288301)continue;const _0x5c37b7=await findRelatedId(_0x5947bb,_0x288301['id'],'setpoint');if(_0x5c37b7){if(lastActions[_0x568650(0xff)+_0x5f2564]&&_0x387eb3-lastActions[_0x568650(0xff)+_0x5f2564]<0x1e*0x3c*0x3e8)continue;const _0x2bedc8=await _0x5947bb[_0x568650(0xfa)](_0x5c37b7);if(_0x2bedc8&&typeof _0x2bedc8['val']===_0x568650(0x19e)){const _0x5f068e=_0x2bedc8[_0x568650(0x18c)];_0x5f068e!==ECO_TEMP&&await manageMpcIntervention(_0x5947bb,_0x5f2564,_0x568650(0xe6));if(_0xf069a2>0x1e)_0x5f068e>ECO_TEMP+0.5&&(_0x5947bb[_0x568650(0x133)]['info']('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x5f2564+_0x568650(0x173)+ECO_TEMP+'¬∞C!\x20(Puffer:\x20'+_0xf069a2+_0x568650(0xe8)),await _0x5947bb['setForeignStateAsync'](_0x5c37b7,ECO_TEMP),await manageMpcIntervention(_0x5947bb,_0x5f2564,_0x568650(0x19c)),lastActions[_0x568650(0xff)+_0x5f2564]=_0x387eb3,await logAutomationAction(_0x5947bb,_0x568650(0x152)+_0x5f2564+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'¬∞C'));else _0xf069a2<=0xf&&(_0x5f068e<_0x524acf&&(_0x5947bb[_0x568650(0x133)][_0x568650(0x168)](_0x568650(0x174)+_0x5f2564+_0x568650(0x11b)+_0x524acf+_0x568650(0x164)),await _0x5947bb[_0x568650(0x169)](_0x5c37b7,_0x524acf),await manageMpcIntervention(_0x5947bb,_0x5f2564,'remove'),lastActions[_0x568650(0xff)+_0x5f2564]=_0x387eb3,await logAutomationAction(_0x5947bb,'[MPC]\x20'+_0x5f2564+':\x20Aufheizen\x20auf\x20'+_0x524acf+'¬∞C')));}}else _0x5947bb[_0x568650(0x133)][_0x568650(0x16c)](_0x568650(0xf3)+_0x5f2564+'\x20gefunden!');}}module[a1_0x353f9c(0x18a)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};