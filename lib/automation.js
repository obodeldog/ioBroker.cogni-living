function a1_0x7dbb(_0x375a8e,_0x45074b){const _0x19b8be=a1_0x3bee();return a1_0x7dbb=function(_0x35ec5b,_0x5ae3e1){_0x35ec5b=_0x35ec5b-0x12d;let _0x3bee3d=_0x19b8be[_0x35ec5b];return _0x3bee3d;},a1_0x7dbb(_0x375a8e,_0x45074b);}function a1_0x3bee(){const _0x3a624a=['ðŸ¤–\x20Automation:\x20WÃ¼rde\x20','890030sYBYcW','\x20schalten,\x20aber\x20kein\x20Licht-GerÃ¤t\x20dort\x20gefunden.','analysis.automation.confidenceThreshold','1384kmZYZZ','1791cWtgQD','getForeignStateAsync','simulate','log','search','toUpperCase','Unknown','20848BPIdFM','active','now','510885vGWjhn','ðŸ¤–\x20Butler\x20Blocked:\x20','getStateAsync','off','light','info','approved','analysis.automation.mode','setForeignStateAsync','dimmer','setStateAsync','name','171ATEDIj','âš¡\x20ACTION:\x20','debug','[BLOCKED]\x20','toString','location','1135182xWmojn','val','consultButler','(((.+)+)+)+$','analysis.automation.lastAction','1241576zLLFMe','type','apply','reason','constructor','\x20->\x20Schalte\x20','980100LjHWGA'];a1_0x3bee=function(){return _0x3a624a;};return a1_0x3bee();}(function(_0x18b1aa,_0x231132){const _0x2161ff=a1_0x7dbb,_0x2d40ec=_0x18b1aa();while(!![]){try{const _0x3892f9=-parseInt(_0x2161ff(0x14a))/0x1*(parseInt(_0x2161ff(0x133))/0x2)+parseInt(_0x2161ff(0x13e))/0x3+-parseInt(_0x2161ff(0x12e))/0x4+-parseInt(_0x2161ff(0x130))/0x5+parseInt(_0x2161ff(0x150))/0x6+-parseInt(_0x2161ff(0x155))/0x7+-parseInt(_0x2161ff(0x13b))/0x8*(-parseInt(_0x2161ff(0x134))/0x9);if(_0x3892f9===_0x231132)break;else _0x2d40ec['push'](_0x2d40ec['shift']());}catch(_0x800a08){_0x2d40ec['push'](_0x2d40ec['shift']());}}}(a1_0x3bee,0x26e7b));const a1_0x5ae3e1=(function(){let _0x3892db=!![];return function(_0x193142,_0x595ae0){const _0x5cf6ab=_0x3892db?function(){const _0x5cabe5=a1_0x7dbb;if(_0x595ae0){const _0x3473a3=_0x595ae0[_0x5cabe5(0x157)](_0x193142,arguments);return _0x595ae0=null,_0x3473a3;}}:function(){};return _0x3892db=![],_0x5cf6ab;};}()),a1_0x35ec5b=a1_0x5ae3e1(this,function(){const _0xc9c2bd=a1_0x7dbb;return a1_0x35ec5b[_0xc9c2bd(0x14e)]()[_0xc9c2bd(0x138)](_0xc9c2bd(0x153))[_0xc9c2bd(0x14e)]()[_0xc9c2bd(0x159)](a1_0x35ec5b)['search'](_0xc9c2bd(0x153));});a1_0x35ec5b();'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,lastActions={};async function handlePrediction(_0x2c3949,_0x4181d4,_0x3d3a18){const _0x57a31b=a1_0x7dbb;if(!_0x4181d4||_0x4181d4===_0x57a31b(0x13a))return;let _0x593bfb=_0x57a31b(0x141),_0x4b126c=0.6;try{const _0x1b179e=await _0x2c3949['getStateAsync'](_0x57a31b(0x145));if(_0x1b179e&&_0x1b179e['val'])_0x593bfb=_0x1b179e[_0x57a31b(0x151)];const _0x200795=await _0x2c3949[_0x57a31b(0x140)](_0x57a31b(0x132));if(_0x200795&&_0x200795[_0x57a31b(0x151)])_0x4b126c=_0x200795[_0x57a31b(0x151)];}catch(_0x2385ad){}if(_0x593bfb===_0x57a31b(0x141))return;if(_0x3d3a18<_0x4b126c)return;const _0x912e27=Date[_0x57a31b(0x13d)]();if(lastActions[_0x4181d4]&&_0x912e27-lastActions[_0x4181d4]<COOLDOWN_MS)return;const _0x1060de=_0x2c3949['config']['devices']||[],_0x1369b=_0x1060de['find'](_0x1f649e=>_0x1f649e[_0x57a31b(0x14f)]===_0x4181d4&&(_0x1f649e[_0x57a31b(0x156)]===_0x57a31b(0x142)||_0x1f649e['type']===_0x57a31b(0x147)||_0x1f649e[_0x57a31b(0x156)]==='switch'));if(!_0x1369b){_0x2c3949[_0x57a31b(0x137)][_0x57a31b(0x14c)](_0x57a31b(0x12f)+_0x4181d4+_0x57a31b(0x131));return;}const _0x332c04=await aiAgent[_0x57a31b(0x152)](_0x2c3949,_0x4181d4,_0x1369b[_0x57a31b(0x149)],_0x3d3a18);if(!_0x332c04[_0x57a31b(0x144)]){_0x2c3949[_0x57a31b(0x137)][_0x57a31b(0x14c)](_0x57a31b(0x13f)+_0x4181d4+'\x20->\x20'+_0x332c04[_0x57a31b(0x158)]),await _0x2c3949[_0x57a31b(0x148)](_0x57a31b(0x154),{'val':_0x57a31b(0x14d)+_0x332c04[_0x57a31b(0x158)],'ack':!![]});return;}const _0x35ef6f='PrÃ¤diktion:\x20'+_0x4181d4+_0x57a31b(0x12d)+_0x1369b[_0x57a31b(0x149)]+'\x20('+_0x332c04[_0x57a31b(0x158)]+')';await _0x2c3949[_0x57a31b(0x148)](_0x57a31b(0x154),{'val':'['+_0x593bfb[_0x57a31b(0x139)]()+']\x20'+_0x35ef6f,'ack':!![]});if(_0x593bfb===_0x57a31b(0x136))_0x2c3949[_0x57a31b(0x137)]['info']('ðŸ‘€\x20SIMULATION:\x20'+_0x35ef6f);else{if(_0x593bfb===_0x57a31b(0x13c)){_0x2c3949[_0x57a31b(0x137)][_0x57a31b(0x143)](_0x57a31b(0x14b)+_0x35ef6f);const _0x4739a2=await _0x2c3949[_0x57a31b(0x135)](_0x1369b['id']);if(_0x4739a2&&(_0x4739a2[_0x57a31b(0x151)]===!![]||_0x4739a2[_0x57a31b(0x151)]>0x0)){}else await _0x2c3949[_0x57a31b(0x146)](_0x1369b['id'],!![]);lastActions[_0x4181d4]=_0x912e27;}}}module['exports']={'handlePrediction':handlePrediction};