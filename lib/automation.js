const a1_0x343f99=a1_0xc52d;(function(_0x2b4b76,_0x43b7f8){const _0x31e247=a1_0xc52d,_0x5c9cff=_0x2b4b76();while(!![]){try{const _0x49a691=parseInt(_0x31e247(0x132))/0x1+-parseInt(_0x31e247(0xdb))/0x2*(parseInt(_0x31e247(0xfe))/0x3)+-parseInt(_0x31e247(0x160))/0x4+parseInt(_0x31e247(0x108))/0x5*(parseInt(_0x31e247(0x135))/0x6)+-parseInt(_0x31e247(0x152))/0x7+-parseInt(_0x31e247(0xcc))/0x8+parseInt(_0x31e247(0x13c))/0x9;if(_0x49a691===_0x43b7f8)break;else _0x5c9cff['push'](_0x5c9cff['shift']());}catch(_0x47fcb3){_0x5c9cff['push'](_0x5c9cff['shift']());}}}(a1_0x2a1c,0x54b4a));function a1_0xc52d(_0x5530c1,_0x48bb0f){const _0x3a6f88=a1_0x2a1c();return a1_0xc52d=function(_0x35d399,_0x5421a7){_0x35d399=_0x35d399-0xc0;let _0x2a1c6a=_0x3a6f88[_0x35d399];return _0x2a1c6a;},a1_0xc52d(_0x5530c1,_0x48bb0f);}const a1_0x5421a7=(function(){let _0x49f7d5=!![];return function(_0x358116,_0x22fa69){const _0x1b2927=_0x49f7d5?function(){const _0x19e53e=a1_0xc52d;if(_0x22fa69){const _0x5e33ef=_0x22fa69[_0x19e53e(0xc2)](_0x358116,arguments);return _0x22fa69=null,_0x5e33ef;}}:function(){};return _0x49f7d5=![],_0x1b2927;};}()),a1_0x35d399=a1_0x5421a7(this,function(){const _0x3d523c=a1_0xc52d;return a1_0x35d399[_0x3d523c(0xdc)]()[_0x3d523c(0xc6)](_0x3d523c(0x186))[_0x3d523c(0xdc)]()['constructor'](a1_0x35d399)[_0x3d523c(0xc6)]('(((.+)+)+)+$');});a1_0x35d399();'use strict';const aiAgent=require(a1_0x343f99(0x11b)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x3a747e){const _0x30dec0=a1_0x343f99;if(!_0x3a747e)return'';return _0x3a747e[_0x30dec0(0x10e)]()[_0x30dec0(0x10f)](/\s+/g,'')[_0x30dec0(0x151)]();}function getWarmupRobust(_0x330e09,_0x5dda2b){const _0x1a92c4=a1_0x343f99;if(!_0x330e09||!_0x5dda2b)return 0x3c;if(_0x330e09[_0x5dda2b]!==undefined)return _0x330e09[_0x5dda2b];const _0x5c2057=_0x5dda2b[_0x1a92c4(0x10e)]()['replace'](/√§/g,'ae')['replace'](/√∂/g,'oe')[_0x1a92c4(0x10f)](/√º/g,'ue')[_0x1a92c4(0x10f)](/√ü/g,'ss')['replace'](/\s+/g,'_')[_0x1a92c4(0x10f)](/[^a-z0-9_]/g,'');if(_0x330e09[_0x5c2057]!==undefined)return _0x330e09[_0x5c2057];return 0x3c;}async function logAutomationAction(_0xdf7721,_0x1c7a56){const _0x4d022a=a1_0x343f99;await _0xdf7721[_0x4d022a(0xec)]('analysis.automation.lastAction',{'val':_0x1c7a56,'ack':!![]});try{const _0x3c8ddd=_0x4d022a(0xf0),_0x313048=await _0xdf7721[_0x4d022a(0x162)](_0x3c8ddd);let _0x4b6806=[];if(_0x313048&&_0x313048[_0x4d022a(0xe1)])try{_0x4b6806=JSON[_0x4d022a(0xfb)](_0x313048[_0x4d022a(0xe1)]);}catch(_0x1abc43){}_0x4b6806['unshift']({'ts':Date[_0x4d022a(0x17e)](),'msg':_0x1c7a56});if(_0x4b6806[_0x4d022a(0xd4)]>0x32)_0x4b6806=_0x4b6806[_0x4d022a(0x173)](0x0,0x32);await _0xdf7721[_0x4d022a(0xec)](_0x3c8ddd,{'val':JSON[_0x4d022a(0xf3)](_0x4b6806),'ack':!![]});}catch(_0x416d51){}}async function handlePrediction(_0x40f037,_0x27fcbe,_0x39114f){const _0x56d698=a1_0x343f99;if(!_0x27fcbe||_0x27fcbe===_0x56d698(0x14e))return;let _0x3ba358=_0x56d698(0xce),_0x7a4cfa=0.6;try{const _0x2d6200=await _0x40f037['getStateAsync'](_0x56d698(0xe6));if(_0x2d6200&&_0x2d6200[_0x56d698(0xe1)])_0x3ba358=_0x2d6200[_0x56d698(0xe1)];const _0x2a38a1=await _0x40f037[_0x56d698(0x162)](_0x56d698(0x179));if(_0x2a38a1&&_0x2a38a1[_0x56d698(0xe1)])_0x7a4cfa=_0x2a38a1[_0x56d698(0xe1)];}catch(_0x3a66bb){}if(_0x3ba358==='off'||_0x39114f<_0x7a4cfa)return;const _0x8abb25=Date['now']();if(lastActions[_0x27fcbe]&&_0x8abb25-lastActions[_0x27fcbe]<COOLDOWN_MS)return;const _0x15d6e9=_0x40f037['config'][_0x56d698(0xc9)]||[],_0x47445f=normalize(_0x27fcbe),_0x3fb6d0=_0x15d6e9[_0x56d698(0x106)](_0x38c4d2=>normalize(_0x38c4d2[_0x56d698(0x117)])===_0x47445f&&(_0x38c4d2[_0x56d698(0xd7)]===_0x56d698(0x153)||_0x38c4d2[_0x56d698(0xd7)]==='dimmer'||_0x38c4d2[_0x56d698(0xd7)]===_0x56d698(0xd6)));if(!_0x3fb6d0)return;const _0x189756=await aiAgent[_0x56d698(0x10b)](_0x40f037,_0x27fcbe,_0x3fb6d0[_0x56d698(0x129)],_0x39114f);if(!_0x189756[_0x56d698(0x125)])return;const _0x5176be=_0x56d698(0x10d)+_0x27fcbe+_0x56d698(0x146)+_0x3fb6d0[_0x56d698(0x129)]+'\x20('+_0x189756['reason']+')';await logAutomationAction(_0x40f037,'['+_0x3ba358[_0x56d698(0xf5)]()+']\x20'+_0x5176be);if(_0x3ba358===_0x56d698(0x15a)){const _0x4d0f1e=await _0x40f037[_0x56d698(0x124)](_0x3fb6d0['id']);(!_0x4d0f1e||!_0x4d0f1e[_0x56d698(0xe1)]&&_0x4d0f1e[_0x56d698(0xe1)]!==!![])&&await _0x40f037['setForeignStateAsync'](_0x3fb6d0['id'],!![]),lastActions[_0x27fcbe]=_0x8abb25;}}async function findRelatedId(_0x5c3c00,_0x4229ae,_0x4c4782=a1_0x343f99(0xcb)){const _0x41c7ec=a1_0x343f99;if(_0x4c4782===_0x41c7ec(0xcb)&&_0x5c3c00['config'][_0x41c7ec(0x15e)]){let _0x36d3d6=_0x5c3c00[_0x41c7ec(0xf2)][_0x41c7ec(0x15e)];if(typeof _0x36d3d6===_0x41c7ec(0x16a))try{_0x36d3d6=JSON[_0x41c7ec(0xfb)](_0x36d3d6);}catch(_0x414f41){}if(_0x36d3d6&&_0x36d3d6[_0x4229ae])return _0x36d3d6[_0x4229ae];}if(_0x4c4782===_0x41c7ec(0x113)&&_0x5c3c00[_0x41c7ec(0xf2)]['valveMapping']){let _0x166a56=_0x5c3c00[_0x41c7ec(0xf2)][_0x41c7ec(0x145)];if(typeof _0x166a56===_0x41c7ec(0x16a))try{_0x166a56=JSON[_0x41c7ec(0xfb)](_0x166a56);}catch(_0x4a79c0){}if(_0x166a56&&_0x166a56[_0x4229ae])return _0x166a56[_0x4229ae];}let _0x25c3e1=[];if(_0x4c4782===_0x41c7ec(0xcb))_0x25c3e1=[{'s':_0x41c7ec(0x181),'t':_0x41c7ec(0xe0)},{'s':'.1.TEMPERATURE','t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x41c7ec(0x169),'t':_0x41c7ec(0x126)},{'s':_0x41c7ec(0x176),'t':_0x41c7ec(0x15c)},{'s':_0x41c7ec(0x156),'t':_0x41c7ec(0x119)},{'s':_0x41c7ec(0x156),'t':'current_heating_setpoint'},{'s':_0x41c7ec(0x11c),'t':_0x41c7ec(0x16f)},{'s':_0x41c7ec(0x161),'t':_0x41c7ec(0xdd)},{'s':_0x41c7ec(0x116),'t':'Soll'},{'s':_0x41c7ec(0x11c),'t':_0x41c7ec(0xcb)}];else _0x4c4782===_0x41c7ec(0x113)&&(_0x25c3e1=[{'s':_0x41c7ec(0x181),'t':_0x41c7ec(0xe3)},{'s':_0x41c7ec(0x169),'t':'.1.LEVEL'},{'s':_0x41c7ec(0x169),'t':'.4.VALVE_STATE'},{'s':_0x41c7ec(0x156),'t':_0x41c7ec(0x17b)},{'s':_0x41c7ec(0x11c),'t':_0x41c7ec(0x154)},{'s':_0x41c7ec(0x11c),'t':_0x41c7ec(0x14d)}]);for(const _0x213660 of _0x25c3e1){if(_0x4229ae[_0x41c7ec(0xd9)](_0x213660['s'])){const _0x6167f7=_0x4229ae[_0x41c7ec(0x10f)](_0x213660['s'],_0x213660['t']),_0x5e2152=await _0x5c3c00[_0x41c7ec(0xfd)](_0x6167f7);if(_0x5e2152)return _0x6167f7;}}try{const _0x43757b=_0x4229ae[_0x41c7ec(0x101)]('.');if(_0x43757b[_0x41c7ec(0xd4)]>0x2){const _0x58daf3=_0x43757b['slice'](0x0,-0x1)[_0x41c7ec(0x147)]('.'),_0x3708a9=await _0x5c3c00[_0x41c7ec(0x16b)](_0x58daf3+'.*'),_0x5ab8ee=[],_0x42cd8f=_0x4229ae[_0x41c7ec(0x101)](/[._]+/)[_0x41c7ec(0xf7)](_0x110279=>![_0x41c7ec(0xc0),'0','hm-rpc',_0x41c7ec(0xef),_0x41c7ec(0xe7),_0x41c7ec(0x11c),_0x41c7ec(0x105),'sensor',_0x41c7ec(0x183),_0x41c7ec(0x185)][_0x41c7ec(0xd9)](_0x110279[_0x41c7ec(0x10e)]()));for(const [_0x28d52d,_0x2a3108]of Object[_0x41c7ec(0xc5)](_0x3708a9)){if(_0x28d52d===_0x4229ae)continue;if(_0x2a3108&&_0x2a3108[_0x41c7ec(0x157)]){const _0x14fc4c=_0x28d52d[_0x41c7ec(0x10e)](),_0x44b768=(_0x2a3108[_0x41c7ec(0x157)][_0x41c7ec(0x180)]||'')['toLowerCase'](),_0x11e153=(_0x2a3108[_0x41c7ec(0x157)][_0x41c7ec(0x174)]||'')[_0x41c7ec(0x10e)]();let _0x3c9fdc=![];if(_0x4c4782==='setpoint'&&_0x2a3108[_0x41c7ec(0x157)][_0x41c7ec(0x14c)]===!![])_0x3c9fdc=_0x14fc4c['includes'](_0x41c7ec(0x140))||_0x14fc4c[_0x41c7ec(0xd9)](_0x41c7ec(0x10c))||_0x14fc4c[_0x41c7ec(0xd9)]('target')||_0x44b768[_0x41c7ec(0xd9)]('level.temperature')||_0x44b768[_0x41c7ec(0xd9)](_0x41c7ec(0xf4));else _0x4c4782===_0x41c7ec(0x113)&&(_0x3c9fdc=_0x14fc4c[_0x41c7ec(0xd9)](_0x41c7ec(0x14d))||_0x14fc4c['includes'](_0x41c7ec(0x113))||_0x14fc4c[_0x41c7ec(0xd9)]('stellwert')||_0x14fc4c[_0x41c7ec(0xd9)](_0x41c7ec(0xea))||_0x44b768['includes'](_0x41c7ec(0x188))||_0x44b768[_0x41c7ec(0xd9)](_0x41c7ec(0x115))||_0x11e153[_0x41c7ec(0xd9)]('%'));if(_0x3c9fdc){const _0x595865=_0x28d52d['split'](/[._]+/)[_0x41c7ec(0x15b)](_0x4271cd=>_0x4271cd[_0x41c7ec(0x10e)]());let _0x6ff82e=0x0;_0x42cd8f[_0x41c7ec(0x13f)](_0x44ba19=>{const _0x53ee58=_0x41c7ec;if(_0x595865[_0x53ee58(0xd9)](_0x44ba19['toLowerCase']()))_0x6ff82e++;}),_0x5ab8ee[_0x41c7ec(0x163)]({'id':_0x28d52d,'score':_0x6ff82e});}}}if(_0x5ab8ee[_0x41c7ec(0xd4)]>0x0){_0x5ab8ee[_0x41c7ec(0x149)]((_0x4c1299,_0xd572ce)=>_0xd572ce[_0x41c7ec(0x122)]-_0x4c1299[_0x41c7ec(0x122)]);if(_0x5ab8ee[0x0][_0x41c7ec(0x122)]>0x0)return _0x5ab8ee[0x0]['id'];}}}catch(_0x4a090d){}return null;}async function scanThermostats(_0x49610b){const _0x413926=a1_0x343f99,_0x4efe9a=_0x49610b[_0x413926(0xf2)][_0x413926(0xc9)]||[],_0x39f4b2=[],_0x5102b7=_0x4efe9a[_0x413926(0xf7)](_0x258e85=>_0x258e85['id']&&_0x258e85['id']['includes'](_0x413926(0x11c))||_0x258e85[_0x413926(0xd7)]&&[_0x413926(0x11c),_0x413926(0x130),_0x413926(0xcf)][_0x413926(0xd9)](_0x258e85[_0x413926(0xd7)])||_0x258e85['name']&&_0x258e85['name'][_0x413926(0x10e)]()[_0x413926(0xd9)](_0x413926(0x12e)));for(const _0x549a48 of _0x5102b7){const _0x12abcc=await findRelatedId(_0x49610b,_0x549a48['id'],'setpoint'),_0x3e1ae4=await findRelatedId(_0x49610b,_0x549a48['id'],_0x413926(0x113));let _0x140abf='Nicht\x20gefunden',_0x5e7e7f=![],_0x334107=_0x49610b[_0x413926(0xf2)][_0x413926(0x15e)]||{};if(typeof _0x334107===_0x413926(0x16a))try{_0x334107=JSON[_0x413926(0xfb)](_0x334107);}catch(_0x4156db){}let _0x5a7358=_0x49610b['config']['valveMapping']||{};if(typeof _0x5a7358==='string')try{_0x5a7358=JSON[_0x413926(0xfb)](_0x5a7358);}catch(_0x54117a){}if(_0x334107[_0x549a48['id']]&&_0x334107[_0x549a48['id']]===_0x12abcc||_0x5a7358[_0x549a48['id']]&&_0x5a7358[_0x549a48['id']]===_0x3e1ae4)_0x140abf=_0x413926(0x118),_0x5e7e7f=!![];else(_0x12abcc||_0x3e1ae4)&&(_0x140abf=_0x413926(0xe5));_0x39f4b2[_0x413926(0x163)]({'room':_0x549a48['location']||_0x413926(0x17f),'sensorId':_0x549a48['id'],'setpointId':_0x12abcc||'-','valveId':_0x3e1ae4||'-','source':_0x140abf,'isManual':_0x5e7e7f,'status':_0x12abcc&&_0x3e1ae4?_0x413926(0x170):_0x12abcc?'OK':_0x413926(0xca)});}return _0x39f4b2['sort']((_0x38d985,_0x4c22d2)=>_0x38d985[_0x413926(0x168)][_0x413926(0x178)](_0x4c22d2[_0x413926(0x168)]));}async function updateSchedulePreview(_0x57003d){const _0x33909e=a1_0x343f99;if(!_0x57003d[_0x33909e(0xf2)][_0x33909e(0xed)]||!_0x57003d[_0x33909e(0xf2)]['calendarInstance'])return;let _0x43321b={};try{const _0x268f6c=await _0x57003d[_0x33909e(0x162)](_0x33909e(0x11d));if(_0x268f6c&&_0x268f6c[_0x33909e(0xe1)])_0x43321b=JSON[_0x33909e(0xfb)](_0x268f6c[_0x33909e(0xe1)]);}catch(_0x24bc5a){}const _0x471c23=[],_0x565466=Date[_0x33909e(0x17e)](),_0x55ce13=0x30*0x3c*0x3c*0x3e8;try{const _0x241372=await _0x57003d[_0x33909e(0x124)](_0x57003d[_0x33909e(0xf2)][_0x33909e(0x184)]+_0x33909e(0x171));if(!_0x241372||!_0x241372[_0x33909e(0xe1)])return;const _0x3e7276=JSON[_0x33909e(0xfb)](_0x241372[_0x33909e(0xe1)]),_0x5a38c2=_0x57003d[_0x33909e(0xf2)][_0x33909e(0x12b)]||[],_0xc4f264=_0x57003d[_0x33909e(0xf2)]['devices']||[],_0x55e76d=new Set();_0xc4f264['forEach'](_0x99637d=>{const _0x201004=_0x33909e;if(_0x99637d[_0x201004(0x117)])_0x55e76d[_0x201004(0x12d)](_0x99637d['location']);});for(const _0x3bb5f4 of _0x3e7276){if(_0x3bb5f4[_0x33909e(0x167)]&&_0x5a38c2[_0x33909e(0xd4)]>0x0&&!_0x5a38c2[_0x33909e(0xd9)](_0x3bb5f4['_calName']))continue;const _0x1a6cc3=_0x3bb5f4[_0x33909e(0xc4)]||_0x3bb5f4[_0x33909e(0x123)]||_0x3bb5f4[_0x33909e(0x159)];if(!_0x1a6cc3)continue;const _0x540bc1=new Date(_0x1a6cc3),_0x35298d=_0x540bc1[_0x33909e(0x187)]();if(isNaN(_0x35298d))continue;if(_0x35298d<_0x565466)continue;if(_0x35298d>_0x565466+_0x55ce13)continue;const _0x3d492d=(_0x3bb5f4[_0x33909e(0x177)]||_0x3bb5f4[_0x33909e(0x165)]||'')[_0x33909e(0x10e)]();let _0x4758e4=![],_0x5d492e=[],_0x225f19=_0x3bb5f4['event']||_0x3bb5f4[_0x33909e(0x165)]||_0x33909e(0x17f);if(_0x3d492d[_0x33909e(0xd9)](_0x33909e(0x11e))||_0x3d492d[_0x33909e(0xd9)](_0x33909e(0xf9))||_0x3d492d[_0x33909e(0xd9)](_0x33909e(0x17a)))_0x4758e4=!![],_0x5d492e=Array[_0x33909e(0x155)](_0x55e76d);else for(const _0x50f222 of _0x55e76d){if(_0x3d492d[_0x33909e(0xd9)](_0x50f222[_0x33909e(0x10e)]()))_0x5d492e[_0x33909e(0x163)](_0x50f222);}_0x5d492e[_0x33909e(0xd4)]>0x0&&_0x5d492e[_0x33909e(0x13f)](_0x407f4d=>{const _0x3c90a8=_0x33909e;let _0x492550=0x3c;if(_0x4758e4){let _0x46f226=0x0;Object[_0x3c90a8(0x100)](_0x43321b)[_0x3c90a8(0x13f)](_0x5c7199=>{if(_0x5c7199>_0x46f226)_0x46f226=_0x5c7199;}),_0x492550=_0x46f226>0x0?_0x46f226:0x78;}else _0x492550=getWarmupRobust(_0x43321b,_0x407f4d);const _0x3b0967=new Date(_0x35298d-_0x492550*0xea60);_0x471c23['push']({'eventTime':_0x35298d,'triggerTime':_0x3b0967[_0x3c90a8(0x187)](),'room':_0x407f4d,'minutes':_0x492550,'reason':_0x225f19,'isGlobal':_0x4758e4});});}}catch(_0x3470d7){}_0x471c23[_0x33909e(0x149)]((_0x1114f8,_0x2fac41)=>_0x1114f8['triggerTime']-_0x2fac41['triggerTime']);const _0x15e73b=_0x471c23[_0x33909e(0x173)](0x0,0x1e);await _0x57003d[_0x33909e(0xec)](_0x33909e(0x150),{'val':JSON[_0x33909e(0xf3)](_0x15e73b),'ack':!![]});}async function monitorEnforcements(_0x55d39f){const _0x1f6496=a1_0x343f99;try{const _0x1348c1='analysis.energy.activeEnforcements',_0x588bbe=await _0x55d39f[_0x1f6496(0x162)](_0x1348c1);if(!_0x588bbe||!_0x588bbe['val'])return;let _0x268373=[];try{_0x268373=JSON[_0x1f6496(0xfb)](_0x588bbe[_0x1f6496(0xe1)]);}catch(_0x113a14){return;}if(!Array[_0x1f6496(0x104)](_0x268373)||_0x268373[_0x1f6496(0xd4)]===0x0)return;const _0x5f02d5=Date['now'](),_0xa456de=_0x55d39f[_0x1f6496(0xf2)]['devices']||[];let _0x5bad42=![];for(let _0x516aa6=_0x268373['length']-0x1;_0x516aa6>=0x0;_0x516aa6--){const _0xb3bccd=_0x268373[_0x516aa6];if(_0x5f02d5>=_0xb3bccd[_0x1f6496(0xe9)]){_0x55d39f[_0x1f6496(0xd2)][_0x1f6496(0x143)](_0x1f6496(0x17d)+_0xb3bccd[_0x1f6496(0x168)]+_0x1f6496(0x15f)),_0x268373[_0x1f6496(0x127)](_0x516aa6,0x1),_0x5bad42=!![];continue;}const _0x2b7f22=_0xa456de[_0x1f6496(0x106)](_0x177756=>normalize(_0x177756[_0x1f6496(0x117)])===normalize(_0xb3bccd[_0x1f6496(0x168)])&&(_0x177756[_0x1f6496(0xd7)]===_0x1f6496(0x11c)||_0x177756[_0x1f6496(0xd7)]===_0x1f6496(0x130)));if(_0x2b7f22){const _0x20084f=await findRelatedId(_0x55d39f,_0x2b7f22['id'],_0x1f6496(0xcb));if(_0x20084f){const _0x5d4316=await _0x55d39f['getForeignStateAsync'](_0x20084f);_0x5d4316&&typeof _0x5d4316[_0x1f6496(0xe1)]===_0x1f6496(0x114)&&(_0x5d4316[_0x1f6496(0xe1)]<0xf&&(_0x55d39f['log']['warn']('üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0xb3bccd['room']+_0x1f6496(0x12a)+_0x5d4316['val']+_0x1f6496(0x189)+_0xb3bccd[_0x1f6496(0x142)]+_0x1f6496(0x109)),await _0x55d39f['setForeignStateAsync'](_0x20084f,_0xb3bccd['target']),await logAutomationAction(_0x55d39f,_0x1f6496(0x148)+_0xb3bccd['room']+':\x20'+_0x5d4316[_0x1f6496(0xe1)]+_0x1f6496(0x14b)+_0xb3bccd[_0x1f6496(0x142)]+_0x1f6496(0x158))));}}}_0x5bad42&&await _0x55d39f[_0x1f6496(0xec)](_0x1348c1,{'val':JSON[_0x1f6496(0xf3)](_0x268373),'ack':!![]});}catch(_0x5ec795){_0x55d39f['log']['error'](_0x1f6496(0xdf)+_0x5ec795['message']);}}async function checkCalendarTriggers(_0x5aa8e3){const _0x1b1657=a1_0x343f99;if(!_0x5aa8e3['config'][_0x1b1657(0xed)]||!_0x5aa8e3[_0x1b1657(0xf2)][_0x1b1657(0x184)])return;await updateSchedulePreview(_0x5aa8e3);let _0x521a6a={},_0x2d3668={};try{const _0x545a2c=await _0x5aa8e3[_0x1b1657(0x162)]('analysis.energy.warmupTimes');if(_0x545a2c&&_0x545a2c[_0x1b1657(0xe1)])_0x521a6a=JSON[_0x1b1657(0xfb)](_0x545a2c['val']);const _0x210ebc=await _0x5aa8e3[_0x1b1657(0x162)](_0x1b1657(0x175));if(_0x210ebc&&_0x210ebc[_0x1b1657(0xe1)])_0x2d3668=JSON[_0x1b1657(0xfb)](_0x210ebc[_0x1b1657(0xe1)]);}catch(_0xa24521){}let _0x2d9ccf={'default':0x15};try{const _0xed8d3c=await _0x5aa8e3[_0x1b1657(0x162)](_0x1b1657(0x131));if(_0xed8d3c&&_0xed8d3c['val'])_0x2d9ccf=JSON[_0x1b1657(0xfb)](_0xed8d3c[_0x1b1657(0xe1)]);}catch(_0x221302){}let _0x443893=[];try{const _0x3bfcfb=await _0x5aa8e3[_0x1b1657(0x162)](_0x1b1657(0xd5));if(_0x3bfcfb&&_0x3bfcfb[_0x1b1657(0xe1)])_0x443893=JSON[_0x1b1657(0xfb)](_0x3bfcfb[_0x1b1657(0xe1)]);}catch(_0x41d662){}try{const _0x1232bf=await _0x5aa8e3['getForeignStateAsync'](_0x5aa8e3[_0x1b1657(0xf2)]['calendarInstance']+_0x1b1657(0x171));if(!_0x1232bf||!_0x1232bf[_0x1b1657(0xe1)])return;const _0x3e7614=JSON[_0x1b1657(0xfb)](_0x1232bf['val']),_0x5b8a80=Date[_0x1b1657(0x17e)](),_0x38687=_0x5aa8e3['config'][_0x1b1657(0xc9)]||[],_0x1cf05c=_0x5aa8e3['config']['calendarSelection']||[];let _0x5e8ba1=![];for(const _0x1e4ede of _0x3e7614){if(_0x1e4ede[_0x1b1657(0x167)]&&_0x1cf05c[_0x1b1657(0xd4)]>0x0&&!_0x1cf05c[_0x1b1657(0xd9)](_0x1e4ede[_0x1b1657(0x167)]))continue;const _0x6a4783=_0x1e4ede[_0x1b1657(0xc4)]||_0x1e4ede[_0x1b1657(0x123)]||_0x1e4ede[_0x1b1657(0x159)];if(!_0x6a4783)continue;const _0x177c6c=new Date(_0x6a4783);if(isNaN(_0x177c6c[_0x1b1657(0x187)]()))continue;const _0x2c6eb3=(_0x1e4ede[_0x1b1657(0x177)]||_0x1e4ede[_0x1b1657(0x165)]||'')[_0x1b1657(0x10e)]();if(_0x2c6eb3['includes'](_0x1b1657(0x11e))||_0x2c6eb3['includes'](_0x1b1657(0xf9))||_0x2c6eb3[_0x1b1657(0xd9)](_0x1b1657(0x17a))){let _0x56f50f=0x0;Object[_0x1b1657(0x100)](_0x521a6a)[_0x1b1657(0x13f)](_0x199ea2=>{if(_0x199ea2>_0x56f50f)_0x56f50f=_0x199ea2;});if(_0x56f50f===0x0)_0x56f50f=0x78;const _0xdab236=_0x177c6c[_0x1b1657(0x187)]()-_0x56f50f*0xea60;_0x5b8a80>=_0xdab236&&_0x5b8a80<_0x177c6c[_0x1b1657(0x187)]()&&(_0x5aa8e3[_0x1b1657(0x102)]!==_0x1b1657(0x141)&&(_0x5aa8e3[_0x1b1657(0xd2)][_0x1b1657(0x143)](_0x1b1657(0x15d)+_0x56f50f+'\x20min).'),await _0x5aa8e3[_0x1b1657(0xec)](_0x1b1657(0x133),{'val':_0x1b1657(0x141),'ack':![]})));}for(const _0x5a5dee of _0x38687){if(_0x5a5dee[_0x1b1657(0x117)]){const _0x2456e5=_0x5a5dee[_0x1b1657(0x117)][_0x1b1657(0x10e)](),_0x3f08a7=(_0x5a5dee[_0x1b1657(0x129)]||'')['toLowerCase']();let _0x429999=_0x2c6eb3['includes'](_0x2456e5);!_0x429999&&_0x3f08a7[_0x1b1657(0xd4)]>0x3&&_0x2c6eb3[_0x1b1657(0xd9)](_0x3f08a7)&&(_0x429999=!![]);if(_0x429999){const _0x4a6a80=getWarmupRobust(_0x521a6a,_0x5a5dee[_0x1b1657(0x117)]),_0x14581b=_0x2d3668[_0x5a5dee[_0x1b1657(0x117)]]||_0x1b1657(0xcd),_0x1314cf=_0x177c6c['getTime']()-_0x4a6a80*0xea60;if(_0x5b8a80>=_0x1314cf&&_0x5b8a80<_0x177c6c['getTime']()){const _0x3ae56b=lastActions[_0x1b1657(0x139)+_0x5a5dee['location']];if(_0x3ae56b&&_0x5b8a80-_0x3ae56b<CAL_COOLDOWN_MS)continue;const _0x501e14=await findRelatedId(_0x5aa8e3,_0x5a5dee['id'],_0x1b1657(0xcb));if(_0x501e14){let _0x270bd8=_0x2d9ccf[_0x5a5dee['location']];if(_0x270bd8===undefined)_0x270bd8=_0x2d9ccf[_0x1b1657(0x134)];if(_0x270bd8===undefined)_0x270bd8=0x15;const _0x282542=await _0x5aa8e3[_0x1b1657(0x124)](_0x501e14);if(_0x282542&&typeof _0x282542[_0x1b1657(0xe1)]==='number'&&_0x282542['val']<_0x270bd8-0.5){_0x5aa8e3['log']['info'](_0x1b1657(0xda)+_0x14581b+_0x1b1657(0x182)+_0x5a5dee['location']+_0x1b1657(0xd1)+_0x2c6eb3+')\x20aktiv.\x20Heize\x20auf\x20'+_0x270bd8+_0x1b1657(0x16d)+_0x4a6a80+'\x20min).'),await _0x5aa8e3[_0x1b1657(0x17c)](_0x501e14,_0x270bd8),await logAutomationAction(_0x5aa8e3,_0x1b1657(0x136)+_0x5a5dee[_0x1b1657(0x117)]+'\x20->\x20'+_0x270bd8+_0x1b1657(0x120)+_0x14581b+')'),lastActions['cal_'+_0x5a5dee[_0x1b1657(0x117)]]=_0x5b8a80;const _0x55a879=_0x443893[_0x1b1657(0xd3)](_0x16fc1a=>_0x16fc1a[_0x1b1657(0x168)]===_0x5a5dee['location']);if(_0x55a879!==-0x1)_0x443893[_0x1b1657(0x127)](_0x55a879,0x1);_0x443893[_0x1b1657(0x163)]({'room':_0x5a5dee['location'],'target':_0x270bd8,'until':_0x177c6c['getTime']()}),_0x5e8ba1=!![];}}}}}}}_0x5e8ba1&&await _0x5aa8e3[_0x1b1657(0xec)](_0x1b1657(0xd5),{'val':JSON[_0x1b1657(0xf3)](_0x443893),'ack':!![]});}catch(_0x3d1f06){_0x5aa8e3[_0x1b1657(0xd2)][_0x1b1657(0xf6)](_0x1b1657(0xe8)+_0x3d1f06[_0x1b1657(0x12f)]);}}async function manageMpcIntervention(_0x7bf668,_0x443f43,_0x4a3471){const _0x3363d0=a1_0x343f99;try{const _0x9df0f3=_0x3363d0(0x111),_0x4742e9=await _0x7bf668[_0x3363d0(0x162)](_0x9df0f3);let _0x1ed6b2=[];if(_0x4742e9&&_0x4742e9[_0x3363d0(0xe1)])try{_0x1ed6b2=JSON[_0x3363d0(0xfb)](_0x4742e9[_0x3363d0(0xe1)]);}catch(_0x130233){}const _0xcb569c=_0x1ed6b2[_0x3363d0(0x128)](_0x443f43);if(_0x4a3471===_0x3363d0(0x12d))_0xcb569c===-0x1&&(_0x1ed6b2['push'](_0x443f43),await _0x7bf668[_0x3363d0(0xec)](_0x9df0f3,{'val':JSON[_0x3363d0(0xf3)](_0x1ed6b2),'ack':!![]}));else _0x4a3471==='remove'&&(_0xcb569c!==-0x1&&(_0x1ed6b2['splice'](_0xcb569c,0x1),await _0x7bf668['setStateAsync'](_0x9df0f3,{'val':JSON[_0x3363d0(0xf3)](_0x1ed6b2),'ack':!![]})));}catch(_0x419edb){}}async function cleanupGhostInterventions(_0x385e7f){const _0x56a7a9=a1_0x343f99;try{const _0x2958de='analysis.energy.mpcActiveInterventions',_0x4c44df=await _0x385e7f[_0x56a7a9(0x162)](_0x2958de);if(!_0x4c44df||!_0x4c44df[_0x56a7a9(0xe1)])return;const _0xa1ca45=JSON['parse'](_0x4c44df[_0x56a7a9(0xe1)]);if(!Array[_0x56a7a9(0x104)](_0xa1ca45)||_0xa1ca45[_0x56a7a9(0xd4)]===0x0)return;let _0x48fff1={'default':0x15};try{const _0x4cc8a7=await _0x385e7f[_0x56a7a9(0x162)](_0x56a7a9(0x131));if(_0x4cc8a7&&_0x4cc8a7[_0x56a7a9(0xe1)])_0x48fff1=JSON[_0x56a7a9(0xfb)](_0x4cc8a7[_0x56a7a9(0xe1)]);}catch(_0x44bad4){}let _0x4e0042=[];try{const _0x476bd2=await _0x385e7f[_0x56a7a9(0x162)](_0x56a7a9(0x112));if(_0x476bd2&&_0x476bd2[_0x56a7a9(0xe1)])_0x4e0042=JSON['parse'](_0x476bd2['val']);}catch(_0x2cf6b6){}let _0x12d291={},_0x31d291=![];try{const _0x4be5d1=await _0x385e7f[_0x56a7a9(0x162)]('analysis.energy.rlPenalties');if(_0x4be5d1&&_0x4be5d1[_0x56a7a9(0xe1)])_0x12d291=JSON['parse'](_0x4be5d1[_0x56a7a9(0xe1)]);}catch(_0x224ac9){}if(_0x12d291[_0x56a7a9(0x166)]){const _0x25ecfe=Date[_0x56a7a9(0x17e)]();for(const [_0x117686,_0x1b1b04]of Object['entries'](_0x12d291['_meta'])){_0x25ecfe-_0x1b1b04>PENALTY_TTL&&(delete _0x12d291[_0x117686],delete _0x12d291['_meta'][_0x117686],_0x31d291=!![],_0x385e7f[_0x56a7a9(0xd2)][_0x56a7a9(0x143)](_0x56a7a9(0x14a)+_0x117686+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x53392c=_0x385e7f[_0x56a7a9(0xf2)][_0x56a7a9(0xc9)]||[];let _0x4de79c=![];for(let _0x1b68dc=_0xa1ca45[_0x56a7a9(0xd4)]-0x1;_0x1b68dc>=0x0;_0x1b68dc--){const _0x393be3=_0xa1ca45[_0x1b68dc],_0x4cd2f2=_0x53392c[_0x56a7a9(0x106)](_0xa99880=>normalize(_0xa99880[_0x56a7a9(0x117)])===normalize(_0x393be3)&&(_0xa99880[_0x56a7a9(0xd7)]==='temperature'||_0xa99880[_0x56a7a9(0xd7)]===_0x56a7a9(0x130)));if(!_0x4cd2f2){_0x385e7f[_0x56a7a9(0xd2)]['warn'](_0x56a7a9(0xe4)+_0x393be3+'\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.'),_0xa1ca45['splice'](_0x1b68dc,0x1),_0x4de79c=!![];continue;}if(_0x4cd2f2){const _0x5e74d4=await findRelatedId(_0x385e7f,_0x4cd2f2['id'],'setpoint'),_0xa7f519=await _0x385e7f[_0x56a7a9(0x124)](_0x4cd2f2['id']);if(_0x5e74d4){const _0x4cdce6=await _0x385e7f[_0x56a7a9(0x124)](_0x5e74d4);if(_0x4cdce6&&typeof _0x4cdce6[_0x56a7a9(0xe1)]==='number'){let _0x45febc=![],_0x3d52cb='';Math[_0x56a7a9(0xd8)](_0x4cdce6['val']-ECO_TEMP)>0.5&&(_0x45febc=!![],_0x3d52cb=_0x56a7a9(0xf8));if(!_0x45febc&&_0xa7f519&&typeof _0xa7f519[_0x56a7a9(0xe1)]===_0x56a7a9(0x114)){const _0x1912b7=_0x48fff1[_0x393be3]||_0x48fff1[_0x56a7a9(0x134)]||0x15;_0xa7f519['val']<_0x1912b7+0.2&&(_0x45febc=!![],_0x3d52cb=_0x56a7a9(0x16c));}if(_0x45febc){if(_0x3d52cb==='manual'){_0x385e7f[_0x56a7a9(0xd2)][_0x56a7a9(0x143)](_0x56a7a9(0xeb)+_0x393be3+_0x56a7a9(0x164)+_0x4cdce6['val']+_0x56a7a9(0x121)+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0x1579fd=lastActions[_0x56a7a9(0x139)+_0x393be3],_0x5cf2b6=_0x1579fd&&Date[_0x56a7a9(0x17e)]()-_0x1579fd<0x2*0x3c*0x3e8;if(!_0x5cf2b6&&_0x4cdce6['val']>ECO_TEMP+0.5){_0x385e7f[_0x56a7a9(0x107)]&&(_0x385e7f[_0x56a7a9(0xd2)]['info'](_0x56a7a9(0x11a)+_0x393be3+_0x56a7a9(0x172)),_0x385e7f['sendToPythonWrapper'](_0x56a7a9(0x13e),{'room':_0x393be3}));const _0x56a967=_0x393be3+'_'+new Date()[_0x56a7a9(0x16e)]();if(!_0x12d291[_0x56a967]){_0x12d291[_0x56a967]=0x1;if(!_0x12d291[_0x56a7a9(0x166)])_0x12d291[_0x56a7a9(0x166)]={};_0x12d291['_meta'][_0x56a967]=Date[_0x56a7a9(0x17e)](),_0x31d291=!![];}}else _0x5cf2b6&&_0x385e7f[_0x56a7a9(0xd2)][_0x56a7a9(0x143)](_0x56a7a9(0x10a)+_0x393be3+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x3d52cb===_0x56a7a9(0x16c)){let _0x562d1a=![];if(_0x4e0042[_0x56a7a9(0x106)](_0x2630dc=>_0x2630dc[_0x56a7a9(0x168)]===_0x393be3))_0x562d1a=!![];const _0x484c3e=_0x53392c[_0x56a7a9(0xf7)](_0x1b41a4=>normalize(_0x1b41a4[_0x56a7a9(0x117)])===normalize(_0x393be3)&&(_0x1b41a4[_0x56a7a9(0xd7)]===_0x56a7a9(0x12c)||_0x1b41a4[_0x56a7a9(0xd7)]==='sensor'||_0x1b41a4[_0x56a7a9(0xd7)]===_0x56a7a9(0x13a)));for(const _0x111fb1 of _0x484c3e){try{const _0x11cd0f=await _0x385e7f[_0x56a7a9(0x124)](_0x111fb1['id']);if(_0x11cd0f&&(_0x11cd0f[_0x56a7a9(0xe1)]===!![]||_0x11cd0f[_0x56a7a9(0xe1)]===0x1||String(_0x11cd0f[_0x56a7a9(0xe1)])[_0x56a7a9(0x10e)]()===_0x56a7a9(0xc1)))_0x562d1a=!![];}catch(_0x5354bf){}}if(_0x562d1a)_0x385e7f[_0x56a7a9(0xd2)][_0x56a7a9(0x143)]('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x393be3+_0x56a7a9(0x11f));else{const _0x131ffa=_0x48fff1[_0x393be3]||_0x48fff1[_0x56a7a9(0x134)]||0x15;_0x385e7f[_0x56a7a9(0xd2)][_0x56a7a9(0x143)](_0x56a7a9(0xde)+_0x393be3+_0x56a7a9(0x138)+_0xa7f519[_0x56a7a9(0xe1)]+_0x56a7a9(0xc7)+(_0x131ffa+0.2)+_0x56a7a9(0xee)),await _0x385e7f[_0x56a7a9(0x17c)](_0x5e74d4,_0x131ffa),await logAutomationAction(_0x385e7f,_0x56a7a9(0x13b)+_0x393be3+_0x56a7a9(0xc8)+_0x131ffa+'¬∞C'),lastActions[_0x56a7a9(0xff)+_0x393be3]=Date[_0x56a7a9(0x17e)]();}}}_0xa1ca45[_0x56a7a9(0x127)](_0x1b68dc,0x1),_0x4de79c=!![];}}}}}_0x4de79c&&await _0x385e7f['setStateAsync'](_0x2958de,{'val':JSON['stringify'](_0xa1ca45),'ack':!![]}),_0x31d291&&await _0x385e7f[_0x56a7a9(0xec)](_0x56a7a9(0x103),{'val':JSON[_0x56a7a9(0xf3)](_0x12d291),'ack':!![]});}catch(_0x296987){}}async function applyEnergySavings(_0x358752,_0x5d587f){const _0x1ab5de=a1_0x343f99;await cleanupGhostInterventions(_0x358752);if(!_0x5d587f||_0x5d587f[_0x1ab5de(0xd4)]===0x0)return;const _0x365941=_0x358752[_0x1ab5de(0xf2)]['devices']||[],_0x393ab8=Date[_0x1ab5de(0x17e)]();for(const _0x1e2840 of _0x5d587f){const _0x18b6a5=_0x1e2840[_0x1ab5de(0x168)],_0x3fe744=_0x1e2840[_0x1ab5de(0xe2)],_0x3dfb41=_0x1e2840['target']||0x15;if(lastActions['rescue_'+_0x18b6a5]&&_0x393ab8-lastActions[_0x1ab5de(0xff)+_0x18b6a5]<RESCUE_LOCK_MS)continue;const _0x2d4acd=_0x365941[_0x1ab5de(0x106)](_0x3fcbdc=>normalize(_0x3fcbdc[_0x1ab5de(0x117)])===normalize(_0x18b6a5)&&(_0x3fcbdc['type']===_0x1ab5de(0x11c)||_0x3fcbdc[_0x1ab5de(0xd7)]===_0x1ab5de(0x130)));if(!_0x2d4acd)continue;const _0x5b1601=await findRelatedId(_0x358752,_0x2d4acd['id'],_0x1ab5de(0xcb));if(_0x5b1601){if(lastActions[_0x1ab5de(0xfc)+_0x18b6a5]&&_0x393ab8-lastActions[_0x1ab5de(0xfc)+_0x18b6a5]<0x1e*0x3c*0x3e8)continue;const _0x20aa34=await _0x358752[_0x1ab5de(0x124)](_0x5b1601);if(_0x20aa34&&typeof _0x20aa34[_0x1ab5de(0xe1)]==='number'){const _0x55eb23=_0x20aa34['val'];_0x55eb23!==ECO_TEMP&&await manageMpcIntervention(_0x358752,_0x18b6a5,_0x1ab5de(0x13d));if(_0x3fe744>0x1e)_0x55eb23>ECO_TEMP+0.5&&(_0x358752[_0x1ab5de(0xd2)][_0x1ab5de(0x143)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x18b6a5+_0x1ab5de(0x12a)+ECO_TEMP+_0x1ab5de(0xc3)+_0x3fe744+_0x1ab5de(0xd0)),await _0x358752[_0x1ab5de(0x17c)](_0x5b1601,ECO_TEMP),await manageMpcIntervention(_0x358752,_0x18b6a5,_0x1ab5de(0x12d)),lastActions['mpc_'+_0x18b6a5]=_0x393ab8,await logAutomationAction(_0x358752,_0x1ab5de(0x110)+_0x18b6a5+_0x1ab5de(0x14f)+ECO_TEMP+'¬∞C'));else _0x3fe744<=0xf&&(_0x55eb23<_0x3dfb41&&(_0x358752[_0x1ab5de(0xd2)]['info'](_0x1ab5de(0x137)+_0x18b6a5+_0x1ab5de(0x18a)+_0x3dfb41+_0x1ab5de(0x144)),await _0x358752[_0x1ab5de(0x17c)](_0x5b1601,_0x3dfb41),await manageMpcIntervention(_0x358752,_0x18b6a5,_0x1ab5de(0x13d)),lastActions[_0x1ab5de(0xfc)+_0x18b6a5]=_0x393ab8,await logAutomationAction(_0x358752,_0x1ab5de(0x110)+_0x18b6a5+_0x1ab5de(0xfa)+_0x3dfb41+'¬∞C')));}}else _0x358752[_0x1ab5de(0xd2)]['warn']('[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20'+_0x18b6a5+_0x1ab5de(0xf1));}}function a1_0x2a1c(){const _0x5eb205=['manual','r√ºckkehr',':\x20Aufheizen\x20auf\x20','parse','mpc_','getForeignObjectAsync','240miLrwq','rescue_','values','split','currentSystemMode','analysis.energy.rlPenalties','isArray','actual','find','sendToPythonWrapper','327265HPwYyF','¬∞C.','üìÖ\x20[MPC\x20INFO]\x20','consultButler','soll','Pr√§diktion:\x20','toLowerCase','replace','[MPC]\x20','analysis.energy.mpcActiveInterventions','analysis.energy.ventilationAlerts','valve','number','value.valve','Ist','location','Manuelles\x20Mapping','occupied_heating_setpoint','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','./ai_agent','temperature','analysis.energy.warmupTimes','urlaub\x20ende','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','¬∞C\x20(via\x20','¬∞C\x20(nicht\x20','score','eventStart','getForeignStateAsync','approved','.4.SET_TEMPERATURE','splice','indexOf','name','\x20auf\x20','calendarSelection','window','add','temp','message','thermostat','analysis.energy.warmupTargets','109100snIldn','system.mode','default','12TJXBxB','[CAL]\x20','üî•\x20[MPC\x20ACTION]\x20Heize\x20','\x20erreicht\x20Limit\x20(','cal_','contact','[WATCHDOG]\x20','10867887XkZAyI','remove','TRAIN_RL_PENALTY','forEach','set','normal','target','info','¬∞C!\x20(Puffer\x20leer).','valveMapping','\x20->\x20Schalte\x20','join','[FORCE]\x20','sort','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','¬∞C\x20->\x20','write','level','Unknown',':\x20Absenkung\x20auf\x20','analysis.energy.schedulePreview','trim','912569fbrasr','light','valve_position','from','local_temperature','common','¬∞C\x20(Kalender-Schutz)','date','active','map','SET_POINT_TEMPERATURE','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','thermostatMapping','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','1427248FRPmuO','ACTUAL','getStateAsync','push','\x20ist\x20auf\x20','summary','_meta','_calName','room','.1.TEMPERATURE','string','getForeignObjectsAsync','too_cold','¬∞C\x20(Vorlauf:\x20','getHours','target_temperature','PERFECT','.data.table','\x20wurde\x20manuell\x20erh√∂ht.','slice','unit','analysis.energy.warmupSources','ACTUAL_TEMPERATURE','event','localeCompare','analysis.automation.confidenceThreshold','ankunft','pi_heating_demand','setForeignStateAsync','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','now','Unbekannt','role','.1.ACTUAL_TEMPERATURE',']:\x20Raum-Trigger\x20\x27','messwert','calendarInstance','state','(((.+)+)+)+$','getTime','level.valve','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','\x20wieder\x20auf\x20','openknx','open','apply','¬∞C!\x20(Puffer:\x20','_date','entries','search','¬∞C\x20<\x20',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','devices','Fehlt','setpoint','1066688sJlNcN','Classic','off','sensor','\x20min)','\x27\x20(Match:\x20','log','findIndex','length','analysis.energy.activeEnforcements','switch','type','abs','includes','üìÖ\x20SMART\x20SCHEDULE\x20[','12002oGfDfT','toString','SET','üö®\x20[MPC\x20WATCHDOG]\x20','Enforcement\x20Monitor\x20Error:\x20','.1.SET_POINT_TEMPERATURE','val','minutes_safe','.1.LEVEL','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','Auto-Erkennung','analysis.automation.mode','wert','Calendar\x20Check\x20Error:\x20','until','position','üßπ\x20[MPC\x20CLEANUP]\x20','setStateAsync','useCalendar','¬∞C).\x20Sparmodus\x20beendet!','ist','analysis.automation.actionLog','\x20gefunden!','config','stringify','thermostat.setpoint','toUpperCase','warn','filter'];a1_0x2a1c=function(){return _0x5eb205;};return a1_0x2a1c();}module['exports']={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};