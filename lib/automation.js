const a1_0x5a304a=a1_0x1119;function a1_0x1119(_0xc61cbf,_0x5d5a44){const _0xf8bc6b=a1_0x3f4e();return a1_0x1119=function(_0x5d5b2d,_0x5e788b){_0x5d5b2d=_0x5d5b2d-0x170;let _0x3f4e83=_0xf8bc6b[_0x5d5b2d];return _0x3f4e83;},a1_0x1119(_0xc61cbf,_0x5d5a44);}(function(_0x37d982,_0x4c446b){const _0x5ac2d6=a1_0x1119,_0xf08774=_0x37d982();while(!![]){try{const _0x1e4204=-parseInt(_0x5ac2d6(0x1df))/0x1+-parseInt(_0x5ac2d6(0x170))/0x2*(parseInt(_0x5ac2d6(0x199))/0x3)+-parseInt(_0x5ac2d6(0x1cc))/0x4+parseInt(_0x5ac2d6(0x1ca))/0x5+parseInt(_0x5ac2d6(0x192))/0x6*(parseInt(_0x5ac2d6(0x229))/0x7)+-parseInt(_0x5ac2d6(0x1db))/0x8*(parseInt(_0x5ac2d6(0x217))/0x9)+parseInt(_0x5ac2d6(0x1ea))/0xa;if(_0x1e4204===_0x4c446b)break;else _0xf08774['push'](_0xf08774['shift']());}catch(_0x3fe843){_0xf08774['push'](_0xf08774['shift']());}}}(a1_0x3f4e,0xde039));function a1_0x3f4e(){const _0x25da43=['9213bFYqub','calendarSelection','valve','off','position','\x20min)',')\x20aktiv.\x20Heize\x20auf\x20','reason','warn','useCalendar','Pr√§diktion:\x20','getTime','üßπ\x20[MPC\x20CLEANUP]\x20','.4.VALVE_STATE','role','date','length','Manuelles\x20Mapping','./ai_agent','level','local_temperature','hm-rpc','analysis.energy.activeEnforcements','[WATCHDOG]\x20','¬∞C\x20->\x20','actual','common','exports','analysis.energy.warmupTargets','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','apply','_meta','add','number','set','\x20gefunden!','abs','getForeignObjectAsync','Fehlt','config','_calName','Enforcement\x20Monitor\x20Error:\x20','Soll','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','map','level.valve','analysis.automation.lastAction','Auto-Erkennung','[MPC]\x20','6178550LPNTif','value.valve','1679652CyHygv','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27',':\x20Aufheizen\x20auf\x20','unit','summary','until','values','getStateAsync','[CAL]\x20','minutes_safe','current_heating_setpoint','getHours','occupied_heating_setpoint','setpoint','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','172728jvNsCm','soll','\x20auf\x20','analysis.energy.mpcActiveInterventions','541121PQSvtF','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','setStateAsync','messwert','currentSystemMode','toLowerCase','¬∞C\x20<\x20','üìÖ\x20[MPC\x20INFO]\x20','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','openknx','splice','30490840sFsYIn','Unknown','\x20->\x20','Calendar\x20Check\x20Error:\x20','Classic','eventStart','open','temperature','.1.ACTUAL_TEMPERATURE','wert','.1.TEMPERATURE','¬∞C!\x20(Puffer\x20leer).','string','\x20min).','toString','PERFECT',']:\x20Raum-Trigger\x20\x27','urlaub\x20ende','rescue_','.4.SET_TEMPERATURE','write','analysis.energy.warmupTimes','valveMapping','triggerTime','val','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','entries','indexOf','setForeignStateAsync','parse','dimmer','Nicht\x20gefunden','event','location','room','getForeignObjectsAsync','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','manual','devices','level.temperature','Ist','split','log','üìÖ\x20SMART\x20SCHEDULE\x20[','info','657mwdnXJ','¬∞C).\x20Sparmodus\x20beendet!','thermostat.setpoint','ist','consultButler','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','target_temperature','sendToPythonWrapper','isArray','sensor','thermostat','sort','\x20ist\x20auf\x20','active','remove','r√ºckkehr','default','search','37534CusZRA','from','_date','¬∞C.','\x20wieder\x20auf\x20','valve_position','replace','normal','getForeignStateAsync','Unbekannt','analysis.energy.schedulePreview','approved','score','error','ACTUAL','1164snuJcm','analysis.energy.ventilationAlerts','includes','thermostatMapping','\x20wurde\x20manuell\x20erh√∂ht.','stringify','system.mode','üö®\x20[MPC\x20WATCHDOG]\x20','mpc_','findIndex','toUpperCase','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','type','join','unshift','SET','find','SET_POINT_TEMPERATURE','cal_','.data.table','message','pi_heating_demand','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','stellwert','push','localeCompare','calendarInstance','analysis.automation.mode','filter','analysis.energy.rlPenalties','analysis.automation.actionLog','¬∞C!\x20(Puffer:\x20','trim','¬∞C\x20(nicht\x20','1062IgiDip','name','TRAIN_RL_PENALTY','slice','target','forEach','now'];a1_0x3f4e=function(){return _0x25da43;};return a1_0x3f4e();}const a1_0x5e788b=(function(){let _0x47f74c=!![];return function(_0x2ab89e,_0xb9b1d4){const _0xa27178=_0x47f74c?function(){const _0x1d1f0a=a1_0x1119;if(_0xb9b1d4){const _0x5900e2=_0xb9b1d4[_0x1d1f0a(0x1b7)](_0x2ab89e,arguments);return _0xb9b1d4=null,_0x5900e2;}}:function(){};return _0x47f74c=![],_0xa27178;};}()),a1_0x5d5b2d=a1_0x5e788b(this,function(){const _0x2772ec=a1_0x1119;return a1_0x5d5b2d[_0x2772ec(0x1f8)]()[_0x2772ec(0x228)]('(((.+)+)+)+$')[_0x2772ec(0x1f8)]()['constructor'](a1_0x5d5b2d)[_0x2772ec(0x228)]('(((.+)+)+)+$');});a1_0x5d5b2d();'use strict';const aiAgent=require(a1_0x5a304a(0x1ab)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x1e2871){const _0x56734b=a1_0x5a304a;if(!_0x1e2871)return'';return _0x1e2871[_0x56734b(0x1e4)]()['replace'](/\s+/g,'')[_0x56734b(0x190)]();}function getWarmupRobust(_0x36a00b,_0x14b977){const _0x502e75=a1_0x5a304a;if(!_0x36a00b||!_0x14b977)return 0x3c;if(_0x36a00b[_0x14b977]!==undefined)return _0x36a00b[_0x14b977];const _0x339101=_0x14b977[_0x502e75(0x1e4)]()[_0x502e75(0x22f)](/√§/g,'ae')[_0x502e75(0x22f)](/√∂/g,'oe')[_0x502e75(0x22f)](/√º/g,'ue')[_0x502e75(0x22f)](/√ü/g,'ss')[_0x502e75(0x22f)](/\s+/g,'_')[_0x502e75(0x22f)](/[^a-z0-9_]/g,'');if(_0x36a00b[_0x339101]!==undefined)return _0x36a00b[_0x339101];return 0x3c;}async function logAutomationAction(_0x3c7a4d,_0x212bb7){const _0x39bfcf=a1_0x5a304a;await _0x3c7a4d[_0x39bfcf(0x1e1)](_0x39bfcf(0x1c7),{'val':_0x212bb7,'ack':!![]});try{const _0x3c7afd=_0x39bfcf(0x18e),_0x596c08=await _0x3c7a4d['getStateAsync'](_0x3c7afd);let _0x246b3e=[];if(_0x596c08&&_0x596c08[_0x39bfcf(0x202)])try{_0x246b3e=JSON[_0x39bfcf(0x207)](_0x596c08['val']);}catch(_0x1af668){}_0x246b3e[_0x39bfcf(0x17e)]({'ts':Date['now'](),'msg':_0x212bb7});if(_0x246b3e['length']>0x32)_0x246b3e=_0x246b3e['slice'](0x0,0x32);await _0x3c7a4d[_0x39bfcf(0x1e1)](_0x3c7afd,{'val':JSON[_0x39bfcf(0x175)](_0x246b3e),'ack':!![]});}catch(_0x29b8d8){}}async function handlePrediction(_0x263956,_0x322b07,_0x4215f0){const _0x41face=a1_0x5a304a;if(!_0x322b07||_0x322b07===_0x41face(0x1eb))return;let _0x412643=_0x41face(0x19c),_0x3e8ce3=0.6;try{const _0x346dd1=await _0x263956[_0x41face(0x1d3)](_0x41face(0x18b));if(_0x346dd1&&_0x346dd1[_0x41face(0x202)])_0x412643=_0x346dd1['val'];const _0x5231e5=await _0x263956['getStateAsync']('analysis.automation.confidenceThreshold');if(_0x5231e5&&_0x5231e5[_0x41face(0x202)])_0x3e8ce3=_0x5231e5['val'];}catch(_0x28c5ff){}if(_0x412643===_0x41face(0x19c)||_0x4215f0<_0x3e8ce3)return;const _0x48f68a=Date['now']();if(lastActions[_0x322b07]&&_0x48f68a-lastActions[_0x322b07]<COOLDOWN_MS)return;const _0x4f1a29=_0x263956[_0x41face(0x1c0)][_0x41face(0x210)]||[],_0x4db7c9=normalize(_0x322b07),_0x24f477=_0x4f1a29[_0x41face(0x180)](_0x1cbebc=>normalize(_0x1cbebc['location'])===_0x4db7c9&&(_0x1cbebc[_0x41face(0x17c)]==='light'||_0x1cbebc['type']===_0x41face(0x208)||_0x1cbebc[_0x41face(0x17c)]==='switch'));if(!_0x24f477)return;const _0x4dba7e=await aiAgent[_0x41face(0x21b)](_0x263956,_0x322b07,_0x24f477[_0x41face(0x193)],_0x4215f0);if(!_0x4dba7e[_0x41face(0x234)])return;const _0x55a93d=_0x41face(0x1a3)+_0x322b07+'\x20->\x20Schalte\x20'+_0x24f477['name']+'\x20('+_0x4dba7e[_0x41face(0x1a0)]+')';await logAutomationAction(_0x263956,'['+_0x412643[_0x41face(0x17a)]()+']\x20'+_0x55a93d);if(_0x412643===_0x41face(0x224)){const _0x48d50e=await _0x263956[_0x41face(0x231)](_0x24f477['id']);(!_0x48d50e||!_0x48d50e['val']&&_0x48d50e['val']!==!![])&&await _0x263956[_0x41face(0x206)](_0x24f477['id'],!![]),lastActions[_0x322b07]=_0x48f68a;}}async function findRelatedId(_0x2db37c,_0x56d1e5,_0x91fa01=a1_0x5a304a(0x1d9)){const _0x12c57b=a1_0x5a304a;if(_0x91fa01==='setpoint'&&_0x2db37c['config']['thermostatMapping']){let _0x229f27=_0x2db37c['config'][_0x12c57b(0x173)];if(typeof _0x229f27===_0x12c57b(0x1f6))try{_0x229f27=JSON['parse'](_0x229f27);}catch(_0x36bb94){}if(_0x229f27&&_0x229f27[_0x56d1e5])return _0x229f27[_0x56d1e5];}if(_0x91fa01==='valve'&&_0x2db37c['config']['valveMapping']){let _0x4a2652=_0x2db37c[_0x12c57b(0x1c0)][_0x12c57b(0x200)];if(typeof _0x4a2652===_0x12c57b(0x1f6))try{_0x4a2652=JSON[_0x12c57b(0x207)](_0x4a2652);}catch(_0x496ea2){}if(_0x4a2652&&_0x4a2652[_0x56d1e5])return _0x4a2652[_0x56d1e5];}let _0x1854ec=[];if(_0x91fa01==='setpoint')_0x1854ec=[{'s':_0x12c57b(0x1f2),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x12c57b(0x1f4),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x12c57b(0x1f4),'t':_0x12c57b(0x1fd)},{'s':'ACTUAL_TEMPERATURE','t':_0x12c57b(0x181)},{'s':_0x12c57b(0x1ad),'t':_0x12c57b(0x1d8)},{'s':_0x12c57b(0x1ad),'t':_0x12c57b(0x1d6)},{'s':_0x12c57b(0x1f1),'t':_0x12c57b(0x21d)},{'s':_0x12c57b(0x237),'t':_0x12c57b(0x17f)},{'s':_0x12c57b(0x212),'t':_0x12c57b(0x1c3)},{'s':_0x12c57b(0x1f1),'t':_0x12c57b(0x1d9)}];else _0x91fa01==='valve'&&(_0x1854ec=[{'s':_0x12c57b(0x1f2),'t':'.1.LEVEL'},{'s':_0x12c57b(0x1f4),'t':'.1.LEVEL'},{'s':'.1.TEMPERATURE','t':_0x12c57b(0x1a6)},{'s':_0x12c57b(0x1ad),'t':_0x12c57b(0x185)},{'s':_0x12c57b(0x1f1),'t':_0x12c57b(0x22e)},{'s':'temperature','t':_0x12c57b(0x1ac)}]);for(const _0x3d6e35 of _0x1854ec){if(_0x56d1e5['includes'](_0x3d6e35['s'])){const _0x3d6058=_0x56d1e5[_0x12c57b(0x22f)](_0x3d6e35['s'],_0x3d6e35['t']),_0x38fb90=await _0x2db37c[_0x12c57b(0x1be)](_0x3d6058);if(_0x38fb90)return _0x3d6058;}}try{const _0x427233=_0x56d1e5['split']('.');if(_0x427233['length']>0x2){const _0x37f429=_0x427233['slice'](0x0,-0x1)[_0x12c57b(0x17d)]('.'),_0x4b1a4b=await _0x2db37c[_0x12c57b(0x20d)](_0x37f429+'.*'),_0x2d3ccc=[],_0x5679c8=_0x56d1e5[_0x12c57b(0x213)](/[._]+/)[_0x12c57b(0x18c)](_0x5ae0d7=>![_0x12c57b(0x1e8),'0',_0x12c57b(0x1ae),_0x12c57b(0x21a),_0x12c57b(0x1f3),_0x12c57b(0x1f1),_0x12c57b(0x1b2),_0x12c57b(0x220),_0x12c57b(0x1e2),'state'][_0x12c57b(0x172)](_0x5ae0d7['toLowerCase']()));for(const [_0x26d8b5,_0x3b472b]of Object[_0x12c57b(0x204)](_0x4b1a4b)){if(_0x26d8b5===_0x56d1e5)continue;if(_0x3b472b&&_0x3b472b[_0x12c57b(0x1b3)]){const _0x507b06=_0x26d8b5[_0x12c57b(0x1e4)](),_0xb4c898=(_0x3b472b[_0x12c57b(0x1b3)][_0x12c57b(0x1a7)]||'')[_0x12c57b(0x1e4)](),_0x10d43a=(_0x3b472b[_0x12c57b(0x1b3)][_0x12c57b(0x1cf)]||'')[_0x12c57b(0x1e4)]();let _0x5dbf77=![];if(_0x91fa01==='setpoint'&&_0x3b472b['common'][_0x12c57b(0x1fe)]===!![])_0x5dbf77=_0x507b06[_0x12c57b(0x172)](_0x12c57b(0x1bb))||_0x507b06[_0x12c57b(0x172)](_0x12c57b(0x1dc))||_0x507b06[_0x12c57b(0x172)](_0x12c57b(0x196))||_0xb4c898['includes'](_0x12c57b(0x211))||_0xb4c898[_0x12c57b(0x172)](_0x12c57b(0x219));else _0x91fa01===_0x12c57b(0x19b)&&(_0x5dbf77=_0x507b06[_0x12c57b(0x172)](_0x12c57b(0x1ac))||_0x507b06['includes'](_0x12c57b(0x19b))||_0x507b06[_0x12c57b(0x172)](_0x12c57b(0x187))||_0x507b06['includes'](_0x12c57b(0x19d))||_0xb4c898[_0x12c57b(0x172)](_0x12c57b(0x1c6))||_0xb4c898[_0x12c57b(0x172)](_0x12c57b(0x1cb))||_0x10d43a[_0x12c57b(0x172)]('%'));if(_0x5dbf77){const _0x146a62=_0x26d8b5[_0x12c57b(0x213)](/[._]+/)[_0x12c57b(0x1c5)](_0x109313=>_0x109313['toLowerCase']());let _0x765e82=0x0;_0x5679c8[_0x12c57b(0x197)](_0x5264ba=>{if(_0x146a62['includes'](_0x5264ba['toLowerCase']()))_0x765e82++;}),_0x2d3ccc['push']({'id':_0x26d8b5,'score':_0x765e82});}}}if(_0x2d3ccc[_0x12c57b(0x1a9)]>0x0){_0x2d3ccc[_0x12c57b(0x222)]((_0x17c091,_0x2bb933)=>_0x2bb933[_0x12c57b(0x235)]-_0x17c091[_0x12c57b(0x235)]);if(_0x2d3ccc[0x0][_0x12c57b(0x235)]>0x0)return _0x2d3ccc[0x0]['id'];}}}catch(_0x432638){}return null;}async function scanThermostats(_0x1157ba){const _0x4b2acc=a1_0x5a304a,_0xbd019f=_0x1157ba[_0x4b2acc(0x1c0)][_0x4b2acc(0x210)]||[],_0x33c258=[],_0x1867a6=_0xbd019f[_0x4b2acc(0x18c)](_0x83fe1a=>_0x83fe1a['id']&&_0x83fe1a['id']['includes'](_0x4b2acc(0x1f1))||_0x83fe1a['type']&&[_0x4b2acc(0x1f1),_0x4b2acc(0x221),_0x4b2acc(0x220)][_0x4b2acc(0x172)](_0x83fe1a['type'])||_0x83fe1a[_0x4b2acc(0x193)]&&_0x83fe1a[_0x4b2acc(0x193)][_0x4b2acc(0x1e4)]()[_0x4b2acc(0x172)]('temp'));for(const _0x5af031 of _0x1867a6){const _0x26eb1e=await findRelatedId(_0x1157ba,_0x5af031['id'],_0x4b2acc(0x1d9)),_0x2c6ec0=await findRelatedId(_0x1157ba,_0x5af031['id'],_0x4b2acc(0x19b));let _0x3a9407=_0x4b2acc(0x209),_0x255c28=![],_0x226b2d=_0x1157ba['config'][_0x4b2acc(0x173)]||{};if(typeof _0x226b2d===_0x4b2acc(0x1f6))try{_0x226b2d=JSON[_0x4b2acc(0x207)](_0x226b2d);}catch(_0x3421c3){}let _0x3e9f06=_0x1157ba[_0x4b2acc(0x1c0)][_0x4b2acc(0x200)]||{};if(typeof _0x3e9f06===_0x4b2acc(0x1f6))try{_0x3e9f06=JSON[_0x4b2acc(0x207)](_0x3e9f06);}catch(_0x4f62d6){}if(_0x226b2d[_0x5af031['id']]&&_0x226b2d[_0x5af031['id']]===_0x26eb1e||_0x3e9f06[_0x5af031['id']]&&_0x3e9f06[_0x5af031['id']]===_0x2c6ec0)_0x3a9407=_0x4b2acc(0x1aa),_0x255c28=!![];else(_0x26eb1e||_0x2c6ec0)&&(_0x3a9407=_0x4b2acc(0x1c8));_0x33c258[_0x4b2acc(0x188)]({'room':_0x5af031[_0x4b2acc(0x20b)]||_0x4b2acc(0x232),'sensorId':_0x5af031['id'],'setpointId':_0x26eb1e||'-','valveId':_0x2c6ec0||'-','source':_0x3a9407,'isManual':_0x255c28,'status':_0x26eb1e&&_0x2c6ec0?_0x4b2acc(0x1f9):_0x26eb1e?'OK':_0x4b2acc(0x1bf)});}return _0x33c258['sort']((_0x23a85a,_0x2c9d58)=>_0x23a85a[_0x4b2acc(0x20c)][_0x4b2acc(0x189)](_0x2c9d58['room']));}async function updateSchedulePreview(_0x3ba815){const _0x6eb142=a1_0x5a304a;if(!_0x3ba815['config'][_0x6eb142(0x1a2)]||!_0x3ba815[_0x6eb142(0x1c0)][_0x6eb142(0x18a)])return;let _0x2c5cea={};try{const _0x3bbf3d=await _0x3ba815[_0x6eb142(0x1d3)](_0x6eb142(0x1ff));if(_0x3bbf3d&&_0x3bbf3d[_0x6eb142(0x202)])_0x2c5cea=JSON[_0x6eb142(0x207)](_0x3bbf3d[_0x6eb142(0x202)]);}catch(_0x516cc6){}const _0xee1d18=[],_0x5f5c7c=Date[_0x6eb142(0x198)](),_0x863e62=0x30*0x3c*0x3c*0x3e8;try{const _0xb03b6e=await _0x3ba815[_0x6eb142(0x231)](_0x3ba815[_0x6eb142(0x1c0)][_0x6eb142(0x18a)]+'.data.table');if(!_0xb03b6e||!_0xb03b6e[_0x6eb142(0x202)])return;const _0x3ea2d0=JSON[_0x6eb142(0x207)](_0xb03b6e[_0x6eb142(0x202)]),_0x36d0a3=_0x3ba815['config']['calendarSelection']||[],_0x2895f4=_0x3ba815['config']['devices']||[],_0xb56db9=new Set();_0x2895f4['forEach'](_0x6934f=>{const _0x3954a3=_0x6eb142;if(_0x6934f['location'])_0xb56db9[_0x3954a3(0x1b9)](_0x6934f[_0x3954a3(0x20b)]);});for(const _0x3cdab4 of _0x3ea2d0){if(_0x3cdab4['_calName']&&_0x36d0a3[_0x6eb142(0x1a9)]>0x0&&!_0x36d0a3[_0x6eb142(0x172)](_0x3cdab4['_calName']))continue;const _0x2268a4=_0x3cdab4[_0x6eb142(0x22b)]||_0x3cdab4[_0x6eb142(0x1ef)]||_0x3cdab4['date'];if(!_0x2268a4)continue;const _0x39b61c=new Date(_0x2268a4),_0x8787fe=_0x39b61c[_0x6eb142(0x1a4)]();if(isNaN(_0x8787fe))continue;if(_0x8787fe<_0x5f5c7c)continue;if(_0x8787fe>_0x5f5c7c+_0x863e62)continue;const _0x58232f=(_0x3cdab4[_0x6eb142(0x20a)]||_0x3cdab4['summary']||'')[_0x6eb142(0x1e4)]();let _0x25261e=![],_0x412075=[],_0x1aa8f7=_0x3cdab4[_0x6eb142(0x20a)]||_0x3cdab4[_0x6eb142(0x1d0)]||_0x6eb142(0x232);if(_0x58232f['includes'](_0x6eb142(0x1fb))||_0x58232f['includes'](_0x6eb142(0x226))||_0x58232f[_0x6eb142(0x172)]('ankunft'))_0x25261e=!![],_0x412075=Array[_0x6eb142(0x22a)](_0xb56db9);else for(const _0x31d6b6 of _0xb56db9){if(_0x58232f['includes'](_0x31d6b6['toLowerCase']()))_0x412075['push'](_0x31d6b6);}_0x412075[_0x6eb142(0x1a9)]>0x0&&_0x412075[_0x6eb142(0x197)](_0x16ff3e=>{const _0x113770=_0x6eb142;let _0x432851=0x3c;if(_0x25261e){let _0x213a92=0x0;Object[_0x113770(0x1d2)](_0x2c5cea)[_0x113770(0x197)](_0x5a7305=>{if(_0x5a7305>_0x213a92)_0x213a92=_0x5a7305;}),_0x432851=_0x213a92>0x0?_0x213a92:0x78;}else _0x432851=getWarmupRobust(_0x2c5cea,_0x16ff3e);const _0x374c73=new Date(_0x8787fe-_0x432851*0xea60);_0xee1d18[_0x113770(0x188)]({'eventTime':_0x8787fe,'triggerTime':_0x374c73[_0x113770(0x1a4)](),'room':_0x16ff3e,'minutes':_0x432851,'reason':_0x1aa8f7,'isGlobal':_0x25261e});});}}catch(_0x2e213b){}_0xee1d18[_0x6eb142(0x222)]((_0x5cd1f0,_0x2d5d2a)=>_0x5cd1f0[_0x6eb142(0x201)]-_0x2d5d2a[_0x6eb142(0x201)]);const _0x4cd056=_0xee1d18[_0x6eb142(0x195)](0x0,0x5);await _0x3ba815[_0x6eb142(0x1e1)](_0x6eb142(0x233),{'val':JSON['stringify'](_0x4cd056),'ack':!![]});}async function monitorEnforcements(_0xef1cc3){const _0x177e59=a1_0x5a304a;try{const _0x21ae8f=_0x177e59(0x1af),_0x49ffcc=await _0xef1cc3[_0x177e59(0x1d3)](_0x21ae8f);if(!_0x49ffcc||!_0x49ffcc[_0x177e59(0x202)])return;let _0x4d2b63=[];try{_0x4d2b63=JSON['parse'](_0x49ffcc['val']);}catch(_0x118c2e){return;}if(!Array['isArray'](_0x4d2b63)||_0x4d2b63['length']===0x0)return;const _0x5affa3=Date['now'](),_0x1b4e50=_0xef1cc3['config'][_0x177e59(0x210)]||[];let _0x1b739d=![];for(let _0x54f100=_0x4d2b63[_0x177e59(0x1a9)]-0x1;_0x54f100>=0x0;_0x54f100--){const _0x189391=_0x4d2b63[_0x54f100];if(_0x5affa3>=_0x189391[_0x177e59(0x1d1)]){_0xef1cc3['log'][_0x177e59(0x216)](_0x177e59(0x1b6)+_0x189391[_0x177e59(0x20c)]+_0x177e59(0x1e0)),_0x4d2b63[_0x177e59(0x1e9)](_0x54f100,0x1),_0x1b739d=!![];continue;}const _0x5ad82f=_0x1b4e50[_0x177e59(0x180)](_0x549c32=>normalize(_0x549c32[_0x177e59(0x20b)])===normalize(_0x189391[_0x177e59(0x20c)])&&(_0x549c32[_0x177e59(0x17c)]===_0x177e59(0x1f1)||_0x549c32[_0x177e59(0x17c)]===_0x177e59(0x221)));if(_0x5ad82f){const _0x5ed8e7=await findRelatedId(_0xef1cc3,_0x5ad82f['id'],'setpoint');if(_0x5ed8e7){const _0x39b0c0=await _0xef1cc3[_0x177e59(0x231)](_0x5ed8e7);_0x39b0c0&&typeof _0x39b0c0[_0x177e59(0x202)]===_0x177e59(0x1ba)&&(_0x39b0c0[_0x177e59(0x202)]<0xf&&(_0xef1cc3[_0x177e59(0x214)]['warn'](_0x177e59(0x21c)+_0x189391[_0x177e59(0x20c)]+'\x20auf\x20'+_0x39b0c0[_0x177e59(0x202)]+_0x177e59(0x203)+_0x189391[_0x177e59(0x196)]+_0x177e59(0x22c)),await _0xef1cc3[_0x177e59(0x206)](_0x5ed8e7,_0x189391[_0x177e59(0x196)]),await logAutomationAction(_0xef1cc3,'[FORCE]\x20'+_0x189391['room']+':\x20'+_0x39b0c0[_0x177e59(0x202)]+_0x177e59(0x1b1)+_0x189391['target']+'¬∞C\x20(Kalender-Schutz)')));}}}_0x1b739d&&await _0xef1cc3[_0x177e59(0x1e1)](_0x21ae8f,{'val':JSON[_0x177e59(0x175)](_0x4d2b63),'ack':!![]});}catch(_0x2affcc){_0xef1cc3[_0x177e59(0x214)][_0x177e59(0x236)](_0x177e59(0x1c2)+_0x2affcc[_0x177e59(0x184)]);}}async function checkCalendarTriggers(_0x35cc74){const _0x59311a=a1_0x5a304a;if(!_0x35cc74[_0x59311a(0x1c0)][_0x59311a(0x1a2)]||!_0x35cc74[_0x59311a(0x1c0)][_0x59311a(0x18a)])return;await updateSchedulePreview(_0x35cc74);let _0x24cf4={},_0xf122cc={};try{const _0x4c9a1e=await _0x35cc74[_0x59311a(0x1d3)](_0x59311a(0x1ff));if(_0x4c9a1e&&_0x4c9a1e[_0x59311a(0x202)])_0x24cf4=JSON[_0x59311a(0x207)](_0x4c9a1e[_0x59311a(0x202)]);const _0x53b593=await _0x35cc74[_0x59311a(0x1d3)]('analysis.energy.warmupSources');if(_0x53b593&&_0x53b593[_0x59311a(0x202)])_0xf122cc=JSON[_0x59311a(0x207)](_0x53b593[_0x59311a(0x202)]);}catch(_0x4a0b22){}let _0x1516f2={'default':0x15};try{const _0x23ba2d=await _0x35cc74[_0x59311a(0x1d3)](_0x59311a(0x1b5));if(_0x23ba2d&&_0x23ba2d[_0x59311a(0x202)])_0x1516f2=JSON[_0x59311a(0x207)](_0x23ba2d['val']);}catch(_0x564265){}let _0x18e48b=[];try{const _0x5d7d86=await _0x35cc74[_0x59311a(0x1d3)](_0x59311a(0x1af));if(_0x5d7d86&&_0x5d7d86[_0x59311a(0x202)])_0x18e48b=JSON[_0x59311a(0x207)](_0x5d7d86[_0x59311a(0x202)]);}catch(_0x40f97a){}try{const _0x1a7a47=await _0x35cc74[_0x59311a(0x231)](_0x35cc74['config'][_0x59311a(0x18a)]+_0x59311a(0x183));if(!_0x1a7a47||!_0x1a7a47[_0x59311a(0x202)])return;const _0x15ef6c=JSON[_0x59311a(0x207)](_0x1a7a47['val']),_0x291788=Date[_0x59311a(0x198)](),_0x58f777=_0x35cc74[_0x59311a(0x1c0)]['devices']||[],_0x66c90=_0x35cc74[_0x59311a(0x1c0)][_0x59311a(0x19a)]||[];let _0x31ccfc=![];for(const _0x142ef1 of _0x15ef6c){if(_0x142ef1['_calName']&&_0x66c90[_0x59311a(0x1a9)]>0x0&&!_0x66c90[_0x59311a(0x172)](_0x142ef1[_0x59311a(0x1c1)]))continue;const _0x4990d4=_0x142ef1[_0x59311a(0x22b)]||_0x142ef1['eventStart']||_0x142ef1[_0x59311a(0x1a8)];if(!_0x4990d4)continue;const _0x85c38e=new Date(_0x4990d4);if(isNaN(_0x85c38e[_0x59311a(0x1a4)]()))continue;const _0x494671=(_0x142ef1['event']||_0x142ef1[_0x59311a(0x1d0)]||'')[_0x59311a(0x1e4)]();if(_0x494671['includes'](_0x59311a(0x1fb))||_0x494671['includes']('r√ºckkehr')||_0x494671[_0x59311a(0x172)]('ankunft')){let _0x1ec9cc=0x0;Object[_0x59311a(0x1d2)](_0x24cf4)[_0x59311a(0x197)](_0x2e0f2c=>{if(_0x2e0f2c>_0x1ec9cc)_0x1ec9cc=_0x2e0f2c;});if(_0x1ec9cc===0x0)_0x1ec9cc=0x78;const _0x326db0=_0x85c38e[_0x59311a(0x1a4)]()-_0x1ec9cc*0xea60;_0x291788>=_0x326db0&&_0x291788<_0x85c38e[_0x59311a(0x1a4)]()&&(_0x35cc74[_0x59311a(0x1e3)]!==_0x59311a(0x230)&&(_0x35cc74[_0x59311a(0x214)][_0x59311a(0x216)]('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x1ec9cc+_0x59311a(0x1f7)),await _0x35cc74[_0x59311a(0x1e1)](_0x59311a(0x176),{'val':'normal','ack':![]})));}for(const _0x1972a2 of _0x58f777){if(_0x1972a2['location']){const _0x3c6dba=_0x1972a2['location'][_0x59311a(0x1e4)](),_0x5b7dd9=(_0x1972a2['name']||'')[_0x59311a(0x1e4)]();let _0x33ad7f=_0x494671[_0x59311a(0x172)](_0x3c6dba);!_0x33ad7f&&_0x5b7dd9[_0x59311a(0x1a9)]>0x3&&_0x494671[_0x59311a(0x172)](_0x5b7dd9)&&(_0x33ad7f=!![]);if(_0x33ad7f){const _0x16989c=getWarmupRobust(_0x24cf4,_0x1972a2[_0x59311a(0x20b)]),_0x2730b7=_0xf122cc[_0x1972a2[_0x59311a(0x20b)]]||_0x59311a(0x1ee),_0x2c5670=_0x85c38e[_0x59311a(0x1a4)]()-_0x16989c*0xea60;if(_0x291788>=_0x2c5670&&_0x291788<_0x85c38e[_0x59311a(0x1a4)]()){const _0x251cbc=lastActions[_0x59311a(0x182)+_0x1972a2['location']];if(_0x251cbc&&_0x291788-_0x251cbc<CAL_COOLDOWN_MS)continue;const _0x515724=await findRelatedId(_0x35cc74,_0x1972a2['id'],_0x59311a(0x1d9));if(_0x515724){let _0x1e1640=_0x1516f2[_0x1972a2[_0x59311a(0x20b)]];if(_0x1e1640===undefined)_0x1e1640=_0x1516f2[_0x59311a(0x227)];if(_0x1e1640===undefined)_0x1e1640=0x15;const _0xbe143f=await _0x35cc74[_0x59311a(0x231)](_0x515724);if(_0xbe143f&&typeof _0xbe143f[_0x59311a(0x202)]===_0x59311a(0x1ba)&&_0xbe143f[_0x59311a(0x202)]<_0x1e1640-0.5){_0x35cc74[_0x59311a(0x214)][_0x59311a(0x216)](_0x59311a(0x215)+_0x2730b7+_0x59311a(0x1fa)+_0x1972a2[_0x59311a(0x20b)]+'\x27\x20(Match:\x20'+_0x494671+_0x59311a(0x19f)+_0x1e1640+'¬∞C\x20(Vorlauf:\x20'+_0x16989c+'\x20min).'),await _0x35cc74[_0x59311a(0x206)](_0x515724,_0x1e1640),await logAutomationAction(_0x35cc74,_0x59311a(0x1d4)+_0x1972a2[_0x59311a(0x20b)]+_0x59311a(0x1ec)+_0x1e1640+'¬∞C\x20(via\x20'+_0x2730b7+')'),lastActions[_0x59311a(0x182)+_0x1972a2[_0x59311a(0x20b)]]=_0x291788;const _0x3b9d34=_0x18e48b[_0x59311a(0x179)](_0x4298b4=>_0x4298b4['room']===_0x1972a2[_0x59311a(0x20b)]);if(_0x3b9d34!==-0x1)_0x18e48b[_0x59311a(0x1e9)](_0x3b9d34,0x1);_0x18e48b['push']({'room':_0x1972a2[_0x59311a(0x20b)],'target':_0x1e1640,'until':_0x85c38e[_0x59311a(0x1a4)]()}),_0x31ccfc=!![];}}}}}}}_0x31ccfc&&await _0x35cc74[_0x59311a(0x1e1)](_0x59311a(0x1af),{'val':JSON[_0x59311a(0x175)](_0x18e48b),'ack':!![]});}catch(_0x41bf26){_0x35cc74[_0x59311a(0x214)][_0x59311a(0x1a1)](_0x59311a(0x1ed)+_0x41bf26['message']);}}async function manageMpcIntervention(_0x5f75e6,_0x12304f,_0x1b17aa){const _0x36d885=a1_0x5a304a;try{const _0x3c01b5=_0x36d885(0x1de),_0x25116f=await _0x5f75e6[_0x36d885(0x1d3)](_0x3c01b5);let _0x3aa148=[];if(_0x25116f&&_0x25116f[_0x36d885(0x202)])try{_0x3aa148=JSON[_0x36d885(0x207)](_0x25116f[_0x36d885(0x202)]);}catch(_0x4a0a41){}const _0x10497d=_0x3aa148[_0x36d885(0x205)](_0x12304f);if(_0x1b17aa===_0x36d885(0x1b9))_0x10497d===-0x1&&(_0x3aa148[_0x36d885(0x188)](_0x12304f),await _0x5f75e6[_0x36d885(0x1e1)](_0x3c01b5,{'val':JSON[_0x36d885(0x175)](_0x3aa148),'ack':!![]}));else _0x1b17aa===_0x36d885(0x225)&&(_0x10497d!==-0x1&&(_0x3aa148[_0x36d885(0x1e9)](_0x10497d,0x1),await _0x5f75e6[_0x36d885(0x1e1)](_0x3c01b5,{'val':JSON[_0x36d885(0x175)](_0x3aa148),'ack':!![]})));}catch(_0x1aa0fd){}}async function cleanupGhostInterventions(_0x918e29){const _0x5974fa=a1_0x5a304a;try{const _0x4b6d11=_0x5974fa(0x1de),_0x35c927=await _0x918e29['getStateAsync'](_0x4b6d11);if(!_0x35c927||!_0x35c927[_0x5974fa(0x202)])return;const _0x1467fd=JSON[_0x5974fa(0x207)](_0x35c927[_0x5974fa(0x202)]);if(!Array[_0x5974fa(0x21f)](_0x1467fd)||_0x1467fd[_0x5974fa(0x1a9)]===0x0)return;let _0x412d48={'default':0x15};try{const _0x39fe97=await _0x918e29[_0x5974fa(0x1d3)]('analysis.energy.warmupTargets');if(_0x39fe97&&_0x39fe97['val'])_0x412d48=JSON[_0x5974fa(0x207)](_0x39fe97[_0x5974fa(0x202)]);}catch(_0x333879){}let _0x15df02=[];try{const _0x58f05b=await _0x918e29['getStateAsync'](_0x5974fa(0x171));if(_0x58f05b&&_0x58f05b[_0x5974fa(0x202)])_0x15df02=JSON[_0x5974fa(0x207)](_0x58f05b[_0x5974fa(0x202)]);}catch(_0x662796){}let _0x3e303e={},_0x1249f9=![];try{const _0x54f49e=await _0x918e29[_0x5974fa(0x1d3)](_0x5974fa(0x18d));if(_0x54f49e&&_0x54f49e[_0x5974fa(0x202)])_0x3e303e=JSON['parse'](_0x54f49e[_0x5974fa(0x202)]);}catch(_0x4e41fe){}if(_0x3e303e['_meta']){const _0xb013a6=Date['now']();for(const [_0x4aaf9f,_0x280600]of Object['entries'](_0x3e303e[_0x5974fa(0x1b8)])){_0xb013a6-_0x280600>PENALTY_TTL&&(delete _0x3e303e[_0x4aaf9f],delete _0x3e303e['_meta'][_0x4aaf9f],_0x1249f9=!![],_0x918e29[_0x5974fa(0x214)][_0x5974fa(0x216)](_0x5974fa(0x186)+_0x4aaf9f+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x2f923d=_0x918e29[_0x5974fa(0x1c0)][_0x5974fa(0x210)]||[];let _0x504bbc=![];for(let _0x447c83=_0x1467fd[_0x5974fa(0x1a9)]-0x1;_0x447c83>=0x0;_0x447c83--){const _0x1d695d=_0x1467fd[_0x447c83],_0x1a3272=_0x2f923d['find'](_0x38b798=>normalize(_0x38b798['location'])===normalize(_0x1d695d)&&(_0x38b798[_0x5974fa(0x17c)]==='temperature'||_0x38b798['type']===_0x5974fa(0x221)));if(!_0x1a3272){_0x918e29['log'][_0x5974fa(0x1a1)](_0x5974fa(0x1cd)+_0x1d695d+_0x5974fa(0x17b)),_0x1467fd[_0x5974fa(0x1e9)](_0x447c83,0x1),_0x504bbc=!![];continue;}if(_0x1a3272){const _0x448e79=await findRelatedId(_0x918e29,_0x1a3272['id'],_0x5974fa(0x1d9)),_0x2f8562=await _0x918e29[_0x5974fa(0x231)](_0x1a3272['id']);if(_0x448e79){const _0x12c848=await _0x918e29[_0x5974fa(0x231)](_0x448e79);if(_0x12c848&&typeof _0x12c848['val']===_0x5974fa(0x1ba)){let _0x27abc9=![],_0x4f06b9='';Math[_0x5974fa(0x1bd)](_0x12c848[_0x5974fa(0x202)]-ECO_TEMP)>0.5&&(_0x27abc9=!![],_0x4f06b9=_0x5974fa(0x20f));if(!_0x27abc9&&_0x2f8562&&typeof _0x2f8562[_0x5974fa(0x202)]===_0x5974fa(0x1ba)){const _0x39b917=_0x412d48[_0x1d695d]||_0x412d48['default']||0x15;_0x2f8562[_0x5974fa(0x202)]<_0x39b917+0.2&&(_0x27abc9=!![],_0x4f06b9='too_cold');}if(_0x27abc9){if(_0x4f06b9==='manual'){_0x918e29[_0x5974fa(0x214)][_0x5974fa(0x216)](_0x5974fa(0x1a5)+_0x1d695d+_0x5974fa(0x223)+_0x12c848['val']+_0x5974fa(0x191)+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0xf9f716=lastActions[_0x5974fa(0x182)+_0x1d695d],_0x2c963b=_0xf9f716&&Date[_0x5974fa(0x198)]()-_0xf9f716<0x2*0x3c*0x3e8;if(!_0x2c963b&&_0x12c848['val']>ECO_TEMP+0.5){_0x918e29[_0x5974fa(0x21e)]&&(_0x918e29['log']['info'](_0x5974fa(0x1e7)+_0x1d695d+_0x5974fa(0x174)),_0x918e29[_0x5974fa(0x21e)](_0x5974fa(0x194),{'room':_0x1d695d}));const _0x59de1d=_0x1d695d+'_'+new Date()[_0x5974fa(0x1d7)]();if(!_0x3e303e[_0x59de1d]){_0x3e303e[_0x59de1d]=0x1;if(!_0x3e303e[_0x5974fa(0x1b8)])_0x3e303e[_0x5974fa(0x1b8)]={};_0x3e303e[_0x5974fa(0x1b8)][_0x59de1d]=Date[_0x5974fa(0x198)](),_0x1249f9=!![];}}else _0x2c963b&&_0x918e29[_0x5974fa(0x214)][_0x5974fa(0x216)](_0x5974fa(0x1e6)+_0x1d695d+_0x5974fa(0x1c4));}else{if(_0x4f06b9==='too_cold'){let _0x11b1f7=![];if(_0x15df02[_0x5974fa(0x180)](_0x6a23ce=>_0x6a23ce[_0x5974fa(0x20c)]===_0x1d695d))_0x11b1f7=!![];const _0x5da1ba=_0x2f923d[_0x5974fa(0x18c)](_0x4b8629=>normalize(_0x4b8629['location'])===normalize(_0x1d695d)&&(_0x4b8629['type']==='window'||_0x4b8629['type']===_0x5974fa(0x220)||_0x4b8629[_0x5974fa(0x17c)]==='contact'));for(const _0x55b1df of _0x5da1ba){try{const _0x4d02fc=await _0x918e29[_0x5974fa(0x231)](_0x55b1df['id']);if(_0x4d02fc&&(_0x4d02fc[_0x5974fa(0x202)]===!![]||_0x4d02fc['val']===0x1||String(_0x4d02fc[_0x5974fa(0x202)])['toLowerCase']()===_0x5974fa(0x1f0)))_0x11b1f7=!![];}catch(_0x1a73b0){}}if(_0x11b1f7)_0x918e29[_0x5974fa(0x214)]['info'](_0x5974fa(0x20e)+_0x1d695d+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x4f1d13=_0x412d48[_0x1d695d]||_0x412d48[_0x5974fa(0x227)]||0x15;_0x918e29['log'][_0x5974fa(0x216)](_0x5974fa(0x177)+_0x1d695d+'\x20erreicht\x20Limit\x20('+_0x2f8562[_0x5974fa(0x202)]+_0x5974fa(0x1e5)+(_0x4f1d13+0.2)+_0x5974fa(0x218)),await _0x918e29['setForeignStateAsync'](_0x448e79,_0x4f1d13),await logAutomationAction(_0x918e29,_0x5974fa(0x1b0)+_0x1d695d+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x4f1d13+'¬∞C'),lastActions[_0x5974fa(0x1fc)+_0x1d695d]=Date['now']();}}}_0x1467fd['splice'](_0x447c83,0x1),_0x504bbc=!![];}}}}}_0x504bbc&&await _0x918e29[_0x5974fa(0x1e1)](_0x4b6d11,{'val':JSON['stringify'](_0x1467fd),'ack':!![]}),_0x1249f9&&await _0x918e29['setStateAsync']('analysis.energy.rlPenalties',{'val':JSON[_0x5974fa(0x175)](_0x3e303e),'ack':!![]});}catch(_0x20e18b){}}async function applyEnergySavings(_0x18ed49,_0x53ae9c){const _0x326489=a1_0x5a304a;await cleanupGhostInterventions(_0x18ed49);if(!_0x53ae9c||_0x53ae9c[_0x326489(0x1a9)]===0x0)return;const _0x230e53=_0x18ed49['config'][_0x326489(0x210)]||[],_0xbc42c6=Date[_0x326489(0x198)]();for(const _0x2bec7e of _0x53ae9c){const _0x5a720e=_0x2bec7e[_0x326489(0x20c)],_0x48e775=_0x2bec7e[_0x326489(0x1d5)],_0x8d3a01=_0x2bec7e[_0x326489(0x196)]||0x15;if(lastActions[_0x326489(0x1fc)+_0x5a720e]&&_0xbc42c6-lastActions[_0x326489(0x1fc)+_0x5a720e]<RESCUE_LOCK_MS)continue;const _0x57f3e9=_0x230e53[_0x326489(0x180)](_0x474a5e=>normalize(_0x474a5e[_0x326489(0x20b)])===normalize(_0x5a720e)&&(_0x474a5e[_0x326489(0x17c)]===_0x326489(0x1f1)||_0x474a5e['type']===_0x326489(0x221)));if(!_0x57f3e9)continue;const _0x52b82f=await findRelatedId(_0x18ed49,_0x57f3e9['id'],_0x326489(0x1d9));if(_0x52b82f){if(lastActions[_0x326489(0x178)+_0x5a720e]&&_0xbc42c6-lastActions[_0x326489(0x178)+_0x5a720e]<0x1e*0x3c*0x3e8)continue;const _0x316879=await _0x18ed49['getForeignStateAsync'](_0x52b82f);if(_0x316879&&typeof _0x316879['val']===_0x326489(0x1ba)){const _0x5b0040=_0x316879[_0x326489(0x202)];_0x5b0040!==ECO_TEMP&&await manageMpcIntervention(_0x18ed49,_0x5a720e,_0x326489(0x225));if(_0x48e775>0x1e)_0x5b0040>ECO_TEMP+0.5&&(_0x18ed49[_0x326489(0x214)][_0x326489(0x216)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x5a720e+_0x326489(0x1dd)+ECO_TEMP+_0x326489(0x18f)+_0x48e775+_0x326489(0x19e)),await _0x18ed49[_0x326489(0x206)](_0x52b82f,ECO_TEMP),await manageMpcIntervention(_0x18ed49,_0x5a720e,'add'),lastActions[_0x326489(0x178)+_0x5a720e]=_0xbc42c6,await logAutomationAction(_0x18ed49,'[MPC]\x20'+_0x5a720e+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'¬∞C'));else _0x48e775<=0xf&&(_0x5b0040<_0x8d3a01&&(_0x18ed49[_0x326489(0x214)]['info']('üî•\x20[MPC\x20ACTION]\x20Heize\x20'+_0x5a720e+_0x326489(0x22d)+_0x8d3a01+_0x326489(0x1f5)),await _0x18ed49[_0x326489(0x206)](_0x52b82f,_0x8d3a01),await manageMpcIntervention(_0x18ed49,_0x5a720e,_0x326489(0x225)),lastActions[_0x326489(0x178)+_0x5a720e]=_0xbc42c6,await logAutomationAction(_0x18ed49,_0x326489(0x1c9)+_0x5a720e+_0x326489(0x1ce)+_0x8d3a01+'¬∞C')));}}else _0x18ed49['log'][_0x326489(0x1a1)](_0x326489(0x1da)+_0x5a720e+_0x326489(0x1bc));}}module[a1_0x5a304a(0x1b4)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};