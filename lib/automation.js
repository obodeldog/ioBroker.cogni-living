const a1_0x56c961=a1_0x30a9;(function(_0x42d5b6,_0x273d7e){const _0x1af3b1=a1_0x30a9,_0x1b188f=_0x42d5b6();while(!![]){try{const _0x431076=-parseInt(_0x1af3b1(0x194))/0x1*(parseInt(_0x1af3b1(0x1cd))/0x2)+-parseInt(_0x1af3b1(0x153))/0x3*(-parseInt(_0x1af3b1(0x1e6))/0x4)+-parseInt(_0x1af3b1(0x1e4))/0x5*(parseInt(_0x1af3b1(0x1bb))/0x6)+-parseInt(_0x1af3b1(0x1fb))/0x7*(-parseInt(_0x1af3b1(0x208))/0x8)+-parseInt(_0x1af3b1(0x14d))/0x9+-parseInt(_0x1af3b1(0x182))/0xa*(-parseInt(_0x1af3b1(0x1f0))/0xb)+parseInt(_0x1af3b1(0x147))/0xc;if(_0x431076===_0x273d7e)break;else _0x1b188f['push'](_0x1b188f['shift']());}catch(_0x2cec32){_0x1b188f['push'](_0x1b188f['shift']());}}}(a1_0x2a64,0xbc9e9));const a1_0x2d10ec=(function(){let _0x44e685=!![];return function(_0xb5067d,_0x1a8bd4){const _0x5ddf1b=_0x44e685?function(){const _0x31d2d5=a1_0x30a9;if(_0x1a8bd4){const _0x12f5e3=_0x1a8bd4[_0x31d2d5(0x15f)](_0xb5067d,arguments);return _0x1a8bd4=null,_0x12f5e3;}}:function(){};return _0x44e685=![],_0x5ddf1b;};}()),a1_0x4a14ba=a1_0x2d10ec(this,function(){const _0x534038=a1_0x30a9;return a1_0x4a14ba['toString']()[_0x534038(0x1c4)](_0x534038(0x203))['toString']()[_0x534038(0x150)](a1_0x4a14ba)[_0x534038(0x1c4)](_0x534038(0x203));});a1_0x4a14ba();'use strict';const aiAgent=require(a1_0x56c961(0x1b2)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x61057){const _0x413987=a1_0x56c961;if(!_0x61057)return'';return _0x61057[_0x413987(0x1ec)]()[_0x413987(0x1ef)](/\s+/g,'')['trim']();}async function logAutomationAction(_0x28edd9,_0x3a5c3b){const _0x12a24a=a1_0x56c961;await _0x28edd9[_0x12a24a(0x16e)](_0x12a24a(0x205),{'val':_0x3a5c3b,'ack':!![]});try{const _0x1fc355=_0x12a24a(0x161),_0xa98362=await _0x28edd9[_0x12a24a(0x1f2)](_0x1fc355);let _0x500535=[];if(_0xa98362&&_0xa98362[_0x12a24a(0x17f)])try{_0x500535=JSON[_0x12a24a(0x1cb)](_0xa98362[_0x12a24a(0x17f)]);}catch(_0xe2b3ad){}_0x500535['unshift']({'ts':Date[_0x12a24a(0x170)](),'msg':_0x3a5c3b});if(_0x500535['length']>0x32)_0x500535=_0x500535[_0x12a24a(0x171)](0x0,0x32);await _0x28edd9[_0x12a24a(0x16e)](_0x1fc355,{'val':JSON[_0x12a24a(0x1f3)](_0x500535),'ack':!![]});}catch(_0x582c4e){}}async function handlePrediction(_0x5a4809,_0x74a1b9,_0x3f8ba1){const _0x1353ec=a1_0x56c961;if(!_0x74a1b9||_0x74a1b9==='Unknown')return;let _0x5f4969=_0x1353ec(0x183),_0x2bbf3a=0.6;try{const _0x24d793=await _0x5a4809[_0x1353ec(0x1f2)](_0x1353ec(0x141));if(_0x24d793&&_0x24d793[_0x1353ec(0x17f)])_0x5f4969=_0x24d793[_0x1353ec(0x17f)];const _0x4b8718=await _0x5a4809[_0x1353ec(0x1f2)](_0x1353ec(0x1bf));if(_0x4b8718&&_0x4b8718[_0x1353ec(0x17f)])_0x2bbf3a=_0x4b8718['val'];}catch(_0x1bf46a){}if(_0x5f4969===_0x1353ec(0x183)||_0x3f8ba1<_0x2bbf3a)return;const _0x3eaff3=Date[_0x1353ec(0x170)]();if(lastActions[_0x74a1b9]&&_0x3eaff3-lastActions[_0x74a1b9]<COOLDOWN_MS)return;const _0x727979=_0x5a4809[_0x1353ec(0x14a)][_0x1353ec(0x162)]||[],_0x220e62=normalize(_0x74a1b9),_0x4d83e2=_0x727979[_0x1353ec(0x1aa)](_0x102ac2=>normalize(_0x102ac2['location'])===_0x220e62&&(_0x102ac2[_0x1353ec(0x1d2)]==='light'||_0x102ac2[_0x1353ec(0x1d2)]==='dimmer'||_0x102ac2['type']===_0x1353ec(0x14c)));if(!_0x4d83e2)return;const _0x11c9e6=await aiAgent[_0x1353ec(0x1be)](_0x5a4809,_0x74a1b9,_0x4d83e2[_0x1353ec(0x1c7)],_0x3f8ba1);if(!_0x11c9e6['approved'])return;const _0xf9392c=_0x1353ec(0x168)+_0x74a1b9+_0x1353ec(0x187)+_0x4d83e2[_0x1353ec(0x1c7)]+'\x20('+_0x11c9e6[_0x1353ec(0x175)]+')';await logAutomationAction(_0x5a4809,'['+_0x5f4969[_0x1353ec(0x13c)]()+']\x20'+_0xf9392c);if(_0x5f4969===_0x1353ec(0x13d)){const _0x50ae06=await _0x5a4809[_0x1353ec(0x14f)](_0x4d83e2['id']);(!_0x50ae06||!_0x50ae06[_0x1353ec(0x17f)]&&_0x50ae06[_0x1353ec(0x17f)]!==!![])&&await _0x5a4809['setForeignStateAsync'](_0x4d83e2['id'],!![]),lastActions[_0x74a1b9]=_0x3eaff3;}}async function findRelatedId(_0x400f43,_0x13c6af,_0x58fc35=a1_0x56c961(0x1e2)){const _0x2499f4=a1_0x56c961;if(_0x58fc35===_0x2499f4(0x1e2)&&_0x400f43[_0x2499f4(0x14a)][_0x2499f4(0x1c0)]){let _0x9b3ea2=_0x400f43['config'][_0x2499f4(0x1c0)];if(typeof _0x9b3ea2===_0x2499f4(0x1d3))try{_0x9b3ea2=JSON[_0x2499f4(0x1cb)](_0x9b3ea2);}catch(_0x53b79b){}if(_0x9b3ea2&&_0x9b3ea2[_0x13c6af])return _0x9b3ea2[_0x13c6af];}if(_0x58fc35===_0x2499f4(0x206)&&_0x400f43['config'][_0x2499f4(0x1b6)]){let _0x76f0e8=_0x400f43['config'][_0x2499f4(0x1b6)];if(typeof _0x76f0e8===_0x2499f4(0x1d3))try{_0x76f0e8=JSON[_0x2499f4(0x1cb)](_0x76f0e8);}catch(_0x35093b){}if(_0x76f0e8&&_0x76f0e8[_0x13c6af])return _0x76f0e8[_0x13c6af];}let _0x4d019b=[];if(_0x58fc35===_0x2499f4(0x1e2))_0x4d019b=[{'s':_0x2499f4(0x1da),'t':_0x2499f4(0x191)},{'s':'.1.TEMPERATURE','t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x2499f4(0x1e8),'t':_0x2499f4(0x18f)},{'s':'ACTUAL_TEMPERATURE','t':_0x2499f4(0x189)},{'s':'local_temperature','t':_0x2499f4(0x1a9)},{'s':'local_temperature','t':_0x2499f4(0x17e)},{'s':_0x2499f4(0x16d),'t':'target_temperature'},{'s':_0x2499f4(0x140),'t':_0x2499f4(0x17a)},{'s':_0x2499f4(0x1ce),'t':_0x2499f4(0x1b9)},{'s':_0x2499f4(0x16d),'t':'setpoint'}];else _0x58fc35==='valve'&&(_0x4d019b=[{'s':_0x2499f4(0x1da),'t':_0x2499f4(0x209)},{'s':_0x2499f4(0x1e8),'t':_0x2499f4(0x209)},{'s':_0x2499f4(0x1e8),'t':_0x2499f4(0x1ac)},{'s':_0x2499f4(0x184),'t':_0x2499f4(0x16a)},{'s':'temperature','t':_0x2499f4(0x174)},{'s':_0x2499f4(0x16d),'t':_0x2499f4(0x1fe)}]);for(const _0x1ece25 of _0x4d019b){if(_0x13c6af[_0x2499f4(0x193)](_0x1ece25['s'])){const _0x3e1626=_0x13c6af[_0x2499f4(0x1ef)](_0x1ece25['s'],_0x1ece25['t']),_0x3f41bd=await _0x400f43[_0x2499f4(0x17d)](_0x3e1626);if(_0x3f41bd)return _0x3e1626;}}try{const _0x54b815=_0x13c6af['split']('.');if(_0x54b815['length']>0x2){const _0x1db747=_0x54b815['slice'](0x0,-0x1)['join']('.'),_0x3e4b93=await _0x400f43[_0x2499f4(0x1f5)](_0x1db747+'.*'),_0x2c9c5c=[],_0x204ebd=_0x13c6af[_0x2499f4(0x1e9)](/[._]+/)['filter'](_0x23e95d=>![_0x2499f4(0x1bd),'0',_0x2499f4(0x1b1),_0x2499f4(0x144),'wert',_0x2499f4(0x16d),_0x2499f4(0x167),_0x2499f4(0x1ed),_0x2499f4(0x1a7),_0x2499f4(0x154)][_0x2499f4(0x193)](_0x23e95d[_0x2499f4(0x1ec)]()));for(const [_0x53f14d,_0x34c026]of Object[_0x2499f4(0x1cf)](_0x3e4b93)){if(_0x53f14d===_0x13c6af)continue;if(_0x34c026&&_0x34c026['common']){const _0x1a831a=_0x53f14d[_0x2499f4(0x1ec)](),_0x12177b=(_0x34c026[_0x2499f4(0x1dd)][_0x2499f4(0x19a)]||'')['toLowerCase'](),_0x1cbc21=(_0x34c026[_0x2499f4(0x1dd)][_0x2499f4(0x1ff)]||'')[_0x2499f4(0x1ec)]();let _0x218b8f=![];if(_0x58fc35===_0x2499f4(0x1e2)&&_0x34c026['common'][_0x2499f4(0x1d5)]===!![])_0x218b8f=_0x1a831a['includes'](_0x2499f4(0x1a4))||_0x1a831a[_0x2499f4(0x193)](_0x2499f4(0x1de))||_0x1a831a[_0x2499f4(0x193)](_0x2499f4(0x151))||_0x12177b[_0x2499f4(0x193)]('level.temperature')||_0x12177b['includes'](_0x2499f4(0x197));else _0x58fc35===_0x2499f4(0x206)&&(_0x218b8f=_0x1a831a[_0x2499f4(0x193)]('level')||_0x1a831a[_0x2499f4(0x193)]('valve')||_0x1a831a[_0x2499f4(0x193)]('stellwert')||_0x1a831a[_0x2499f4(0x193)](_0x2499f4(0x1d7))||_0x12177b[_0x2499f4(0x193)]('level.valve')||_0x12177b[_0x2499f4(0x193)](_0x2499f4(0x186))||_0x1cbc21['includes']('%'));if(_0x218b8f){const _0xba185c=_0x53f14d['split'](/[._]+/)[_0x2499f4(0x200)](_0x12c8f9=>_0x12c8f9[_0x2499f4(0x1ec)]());let _0x2dd846=0x0;_0x204ebd['forEach'](_0x5c9ba2=>{const _0x5dde07=_0x2499f4;if(_0xba185c['includes'](_0x5c9ba2[_0x5dde07(0x1ec)]()))_0x2dd846++;}),_0x2c9c5c[_0x2499f4(0x1ee)]({'id':_0x53f14d,'score':_0x2dd846});}}}if(_0x2c9c5c[_0x2499f4(0x160)]>0x0){_0x2c9c5c['sort']((_0xe9c7c2,_0x16cf79)=>_0x16cf79[_0x2499f4(0x1e7)]-_0xe9c7c2[_0x2499f4(0x1e7)]);if(_0x2c9c5c[0x0][_0x2499f4(0x1e7)]>0x0)return _0x2c9c5c[0x0]['id'];}}}catch(_0x190a00){}return null;}async function scanThermostats(_0x1bf386){const _0x5b24f0=a1_0x56c961,_0x16e2fc=_0x1bf386['config']['devices']||[],_0x72eac4=[],_0x4699ab=_0x16e2fc[_0x5b24f0(0x190)](_0x280669=>_0x280669['id']&&_0x280669['id']['includes'](_0x5b24f0(0x16d))||_0x280669[_0x5b24f0(0x1d2)]&&[_0x5b24f0(0x16d),'thermostat',_0x5b24f0(0x1ed)]['includes'](_0x280669[_0x5b24f0(0x1d2)])||_0x280669[_0x5b24f0(0x1c7)]&&_0x280669[_0x5b24f0(0x1c7)]['toLowerCase']()[_0x5b24f0(0x193)](_0x5b24f0(0x14b)));for(const _0x4970bd of _0x4699ab){const _0x3906f2=await findRelatedId(_0x1bf386,_0x4970bd['id'],'setpoint'),_0x27525f=await findRelatedId(_0x1bf386,_0x4970bd['id'],_0x5b24f0(0x206));let _0x2e171d=_0x5b24f0(0x1b5),_0x3c1581=![],_0x11cfa8=_0x1bf386['config'][_0x5b24f0(0x1c0)]||{};if(typeof _0x11cfa8===_0x5b24f0(0x1d3))try{_0x11cfa8=JSON[_0x5b24f0(0x1cb)](_0x11cfa8);}catch(_0x232276){}let _0x533a68=_0x1bf386[_0x5b24f0(0x14a)][_0x5b24f0(0x1b6)]||{};if(typeof _0x533a68===_0x5b24f0(0x1d3))try{_0x533a68=JSON[_0x5b24f0(0x1cb)](_0x533a68);}catch(_0x1b5a84){}if(_0x11cfa8[_0x4970bd['id']]&&_0x11cfa8[_0x4970bd['id']]===_0x3906f2||_0x533a68[_0x4970bd['id']]&&_0x533a68[_0x4970bd['id']]===_0x27525f)_0x2e171d=_0x5b24f0(0x1db),_0x3c1581=!![];else(_0x3906f2||_0x27525f)&&(_0x2e171d=_0x5b24f0(0x1b0));_0x72eac4[_0x5b24f0(0x1ee)]({'room':_0x4970bd[_0x5b24f0(0x19c)]||_0x5b24f0(0x201),'sensorId':_0x4970bd['id'],'setpointId':_0x3906f2||'-','valveId':_0x27525f||'-','source':_0x2e171d,'isManual':_0x3c1581,'status':_0x3906f2&&_0x27525f?_0x5b24f0(0x18d):_0x3906f2?'OK':_0x5b24f0(0x145)});}return _0x72eac4[_0x5b24f0(0x17b)]((_0x51441a,_0x7801fe)=>_0x51441a[_0x5b24f0(0x155)][_0x5b24f0(0x176)](_0x7801fe[_0x5b24f0(0x155)]));}async function updateSchedulePreview(_0x19566d){const _0x3106f0=a1_0x56c961;if(!_0x19566d['config'][_0x3106f0(0x157)]||!_0x19566d[_0x3106f0(0x14a)][_0x3106f0(0x1d1)])return;let _0x3a6628={};try{const _0x4b3570=await _0x19566d[_0x3106f0(0x1f2)](_0x3106f0(0x204));if(_0x4b3570&&_0x4b3570[_0x3106f0(0x17f)])_0x3a6628=JSON[_0x3106f0(0x1cb)](_0x4b3570[_0x3106f0(0x17f)]);}catch(_0x40a561){}const _0x49e8c6=[],_0x311d4c=Date[_0x3106f0(0x170)](),_0x41776f=0x30*0x3c*0x3c*0x3e8;try{const _0x1cdba7=await _0x19566d['getForeignStateAsync'](_0x19566d[_0x3106f0(0x14a)][_0x3106f0(0x1d1)]+'.data.table');if(!_0x1cdba7||!_0x1cdba7[_0x3106f0(0x17f)])return;const _0x2a03a0=JSON[_0x3106f0(0x1cb)](_0x1cdba7[_0x3106f0(0x17f)]),_0x31555a=_0x19566d[_0x3106f0(0x14a)][_0x3106f0(0x18b)]||[],_0x5bb83c=_0x19566d[_0x3106f0(0x14a)][_0x3106f0(0x162)]||[],_0x3a6eb0=new Set();_0x5bb83c[_0x3106f0(0x188)](_0x49bc93=>{const _0x298761=_0x3106f0;if(_0x49bc93[_0x298761(0x19c)])_0x3a6eb0['add'](_0x49bc93['location']);});for(const _0x3b8092 of _0x2a03a0){if(_0x3b8092[_0x3106f0(0x1d8)]&&_0x31555a['length']>0x0&&!_0x31555a[_0x3106f0(0x193)](_0x3b8092[_0x3106f0(0x1d8)]))continue;const _0x232b29=_0x3b8092[_0x3106f0(0x181)]||_0x3b8092['eventStart']||_0x3b8092[_0x3106f0(0x19f)];if(!_0x232b29)continue;const _0x681277=new Date(_0x232b29),_0x562efe=_0x681277[_0x3106f0(0x192)]();if(isNaN(_0x562efe))continue;if(_0x562efe<_0x311d4c)continue;if(_0x562efe>_0x311d4c+_0x41776f)continue;const _0x3ebc7a=(_0x3b8092[_0x3106f0(0x1d4)]||_0x3b8092['summary']||'')[_0x3106f0(0x1ec)]();let _0x171429=![],_0x38dbb3=[],_0x5bbec5=_0x3b8092[_0x3106f0(0x1d4)]||_0x3b8092[_0x3106f0(0x1fc)]||_0x3106f0(0x201);if(_0x3ebc7a[_0x3106f0(0x193)]('urlaub\x20ende')||_0x3ebc7a[_0x3106f0(0x193)]('rÃ¼ckkehr')||_0x3ebc7a[_0x3106f0(0x193)](_0x3106f0(0x1f7)))_0x171429=!![],_0x38dbb3=Array['from'](_0x3a6eb0);else for(const _0x3ee782 of _0x3a6eb0){if(_0x3ebc7a[_0x3106f0(0x193)](_0x3ee782[_0x3106f0(0x1ec)]()))_0x38dbb3[_0x3106f0(0x1ee)](_0x3ee782);}_0x38dbb3[_0x3106f0(0x160)]>0x0&&_0x38dbb3[_0x3106f0(0x188)](_0x316759=>{const _0x36447f=_0x3106f0;let _0x95ba41=0x3c;if(_0x171429){let _0x462320=0x0;Object['values'](_0x3a6628)[_0x36447f(0x188)](_0x3b35a6=>{if(_0x3b35a6>_0x462320)_0x462320=_0x3b35a6;}),_0x95ba41=_0x462320>0x0?_0x462320:0x78;}else _0x95ba41=_0x3a6628[_0x316759]||0x3c;const _0x2e990a=new Date(_0x562efe-_0x95ba41*0xea60);_0x49e8c6[_0x36447f(0x1ee)]({'eventTime':_0x562efe,'triggerTime':_0x2e990a['getTime'](),'room':_0x316759,'minutes':_0x95ba41,'reason':_0x5bbec5,'isGlobal':_0x171429});});}}catch(_0x14b809){}_0x49e8c6[_0x3106f0(0x17b)]((_0xca6887,_0x374c67)=>_0xca6887[_0x3106f0(0x156)]-_0x374c67[_0x3106f0(0x156)]);const _0x2948ff=_0x49e8c6[_0x3106f0(0x171)](0x0,0x5);await _0x19566d[_0x3106f0(0x16e)](_0x3106f0(0x1af),{'val':JSON[_0x3106f0(0x1f3)](_0x2948ff),'ack':!![]});}async function monitorEnforcements(_0x50b161){const _0x2c4492=a1_0x56c961;try{const _0x50eee5=_0x2c4492(0x1e1),_0x48be67=await _0x50b161[_0x2c4492(0x1f2)](_0x50eee5);if(!_0x48be67||!_0x48be67[_0x2c4492(0x17f)])return;let _0x3d2ce8=[];try{_0x3d2ce8=JSON['parse'](_0x48be67['val']);}catch(_0x49530e){return;}if(!Array['isArray'](_0x3d2ce8)||_0x3d2ce8[_0x2c4492(0x160)]===0x0)return;const _0x27ac51=Date['now'](),_0x4db3bb=_0x50b161[_0x2c4492(0x14a)][_0x2c4492(0x162)]||[];let _0x591e19=![];for(let _0x994e87=_0x3d2ce8[_0x2c4492(0x160)]-0x1;_0x994e87>=0x0;_0x994e87--){const _0x3cf686=_0x3d2ce8[_0x994e87];if(_0x27ac51>=_0x3cf686[_0x2c4492(0x165)]){_0x50b161[_0x2c4492(0x143)][_0x2c4492(0x180)]('ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20'+_0x3cf686['room']+_0x2c4492(0x1b7)),_0x3d2ce8['splice'](_0x994e87,0x1),_0x591e19=!![];continue;}const _0x504923=_0x4db3bb[_0x2c4492(0x1aa)](_0x3478cf=>normalize(_0x3478cf['location'])===normalize(_0x3cf686['room'])&&(_0x3478cf['type']===_0x2c4492(0x16d)||_0x3478cf['type']===_0x2c4492(0x1ad)));if(_0x504923){const _0x175b85=await findRelatedId(_0x50b161,_0x504923['id'],_0x2c4492(0x1e2));if(_0x175b85){const _0x2e0cf9=await _0x50b161[_0x2c4492(0x14f)](_0x175b85);_0x2e0cf9&&typeof _0x2e0cf9[_0x2c4492(0x17f)]===_0x2c4492(0x185)&&(_0x2e0cf9['val']<0xf&&(_0x50b161['log'][_0x2c4492(0x178)](_0x2c4492(0x16b)+_0x3cf686[_0x2c4492(0x155)]+'\x20auf\x20'+_0x2e0cf9[_0x2c4492(0x17f)]+'Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20'+_0x3cf686[_0x2c4492(0x151)]+'Â°C.'),await _0x50b161['setForeignStateAsync'](_0x175b85,_0x3cf686[_0x2c4492(0x151)]),await logAutomationAction(_0x50b161,_0x2c4492(0x16c)+_0x3cf686[_0x2c4492(0x155)]+':\x20'+_0x2e0cf9['val']+_0x2c4492(0x19e)+_0x3cf686['target']+_0x2c4492(0x159))));}}}_0x591e19&&await _0x50b161[_0x2c4492(0x16e)](_0x50eee5,{'val':JSON['stringify'](_0x3d2ce8),'ack':!![]});}catch(_0x4d427a){_0x50b161[_0x2c4492(0x143)][_0x2c4492(0x199)](_0x2c4492(0x1e3)+_0x4d427a[_0x2c4492(0x152)]);}}async function checkCalendarTriggers(_0x11701a){const _0x50075d=a1_0x56c961;if(!_0x11701a[_0x50075d(0x14a)][_0x50075d(0x157)]||!_0x11701a[_0x50075d(0x14a)][_0x50075d(0x1d1)])return;await updateSchedulePreview(_0x11701a);let _0x50ba67={},_0x27e05d={};try{const _0x335cdb=await _0x11701a[_0x50075d(0x1f2)]('analysis.energy.warmupTimes');if(_0x335cdb&&_0x335cdb[_0x50075d(0x17f)])_0x50ba67=JSON[_0x50075d(0x1cb)](_0x335cdb[_0x50075d(0x17f)]);const _0x13adb0=await _0x11701a[_0x50075d(0x1f2)](_0x50075d(0x15c));if(_0x13adb0&&_0x13adb0[_0x50075d(0x17f)])_0x27e05d=JSON[_0x50075d(0x1cb)](_0x13adb0[_0x50075d(0x17f)]);}catch(_0xe6537){}let _0x47077b={'default':0x15};try{const _0x4f91c9=await _0x11701a[_0x50075d(0x1f2)](_0x50075d(0x1a8));if(_0x4f91c9&&_0x4f91c9[_0x50075d(0x17f)])_0x47077b=JSON[_0x50075d(0x1cb)](_0x4f91c9[_0x50075d(0x17f)]);}catch(_0x28e258){}let _0x340d82=[];try{const _0x3d9eed=await _0x11701a[_0x50075d(0x1f2)](_0x50075d(0x1e1));if(_0x3d9eed&&_0x3d9eed['val'])_0x340d82=JSON[_0x50075d(0x1cb)](_0x3d9eed[_0x50075d(0x17f)]);}catch(_0x3ab3d3){}try{const _0x38fc07=await _0x11701a['getForeignStateAsync'](_0x11701a[_0x50075d(0x14a)]['calendarInstance']+_0x50075d(0x177));if(!_0x38fc07||!_0x38fc07[_0x50075d(0x17f)])return;const _0x1e01a5=JSON[_0x50075d(0x1cb)](_0x38fc07[_0x50075d(0x17f)]),_0x68cc46=Date['now'](),_0x4c6d5c=_0x11701a[_0x50075d(0x14a)]['devices']||[],_0x2ee84b=_0x11701a[_0x50075d(0x14a)][_0x50075d(0x18b)]||[];let _0x10f7f0=![];for(const _0x17d210 of _0x1e01a5){if(_0x17d210[_0x50075d(0x1d8)]&&_0x2ee84b[_0x50075d(0x160)]>0x0&&!_0x2ee84b['includes'](_0x17d210[_0x50075d(0x1d8)]))continue;const _0x423e2d=_0x17d210[_0x50075d(0x181)]||_0x17d210[_0x50075d(0x1ba)]||_0x17d210[_0x50075d(0x19f)];if(!_0x423e2d)continue;const _0x24be35=new Date(_0x423e2d);if(isNaN(_0x24be35[_0x50075d(0x192)]()))continue;const _0x550ad8=(_0x17d210[_0x50075d(0x1d4)]||_0x17d210['summary']||'')[_0x50075d(0x1ec)]();if(_0x550ad8[_0x50075d(0x193)](_0x50075d(0x1ab))||_0x550ad8[_0x50075d(0x193)](_0x50075d(0x179))||_0x550ad8[_0x50075d(0x193)](_0x50075d(0x1f7))){let _0x30066e=0x0;Object[_0x50075d(0x1c8)](_0x50ba67)['forEach'](_0x1760cf=>{if(_0x1760cf>_0x30066e)_0x30066e=_0x1760cf;});if(_0x30066e===0x0)_0x30066e=0x78;const _0x44a43f=_0x24be35[_0x50075d(0x192)]()-_0x30066e*0xea60;_0x68cc46>=_0x44a43f&&_0x68cc46<_0x24be35[_0x50075d(0x192)]()&&(_0x11701a[_0x50075d(0x158)]!=='normal'&&(_0x11701a['log'][_0x50075d(0x180)](_0x50075d(0x1a6)+_0x30066e+_0x50075d(0x15d)),await _0x11701a[_0x50075d(0x16e)](_0x50075d(0x16f),{'val':_0x50075d(0x15e),'ack':![]})));}for(const _0x3281c8 of _0x4c6d5c){if(_0x3281c8[_0x50075d(0x19c)]){const _0x94e62e=_0x3281c8['location'][_0x50075d(0x1ec)](),_0x255ae0=(_0x3281c8[_0x50075d(0x1c7)]||'')[_0x50075d(0x1ec)]();let _0xcd3ed=_0x550ad8[_0x50075d(0x193)](_0x94e62e);!_0xcd3ed&&_0x255ae0[_0x50075d(0x160)]>0x3&&_0x550ad8[_0x50075d(0x193)](_0x255ae0)&&(_0xcd3ed=!![]);if(_0xcd3ed){const _0x150f51=_0x50ba67[_0x3281c8['location']]||0x3c,_0x897c8d=_0x27e05d[_0x3281c8[_0x50075d(0x19c)]]||'Classic',_0x25d027=_0x24be35[_0x50075d(0x192)]()-_0x150f51*0xea60;if(_0x68cc46>=_0x25d027&&_0x68cc46<_0x24be35[_0x50075d(0x192)]()){const _0xed4a29=lastActions['cal_'+_0x3281c8[_0x50075d(0x19c)]];if(_0xed4a29&&_0x68cc46-_0xed4a29<CAL_COOLDOWN_MS)continue;const _0x1c746d=await findRelatedId(_0x11701a,_0x3281c8['id'],_0x50075d(0x1e2));if(_0x1c746d){let _0x1bd7e1=_0x47077b[_0x3281c8[_0x50075d(0x19c)]];if(_0x1bd7e1===undefined)_0x1bd7e1=_0x47077b['default'];if(_0x1bd7e1===undefined)_0x1bd7e1=0x15;const _0x568908=await _0x11701a['getForeignStateAsync'](_0x1c746d);if(_0x568908&&typeof _0x568908[_0x50075d(0x17f)]===_0x50075d(0x185)&&_0x568908[_0x50075d(0x17f)]<_0x1bd7e1-0.5){_0x11701a[_0x50075d(0x143)][_0x50075d(0x180)](_0x50075d(0x202)+_0x897c8d+']:\x20Raum-Trigger\x20\x27'+_0x3281c8['location']+_0x50075d(0x15a)+_0x550ad8+_0x50075d(0x1cc)+_0x1bd7e1+_0x50075d(0x18a)+_0x150f51+'\x20min).'),await _0x11701a[_0x50075d(0x1b8)](_0x1c746d,_0x1bd7e1),await logAutomationAction(_0x11701a,_0x50075d(0x15b)+_0x3281c8[_0x50075d(0x19c)]+_0x50075d(0x172)+_0x1bd7e1+_0x50075d(0x169)+_0x897c8d+')'),lastActions[_0x50075d(0x1fd)+_0x3281c8[_0x50075d(0x19c)]]=_0x68cc46;const _0x3bc140=_0x340d82[_0x50075d(0x1a5)](_0x3fa591=>_0x3fa591['room']===_0x3281c8[_0x50075d(0x19c)]);if(_0x3bc140!==-0x1)_0x340d82[_0x50075d(0x1f6)](_0x3bc140,0x1);_0x340d82[_0x50075d(0x1ee)]({'room':_0x3281c8[_0x50075d(0x19c)],'target':_0x1bd7e1,'until':_0x24be35[_0x50075d(0x192)]()}),_0x10f7f0=!![];}}}}}}}_0x10f7f0&&await _0x11701a[_0x50075d(0x16e)](_0x50075d(0x1e1),{'val':JSON['stringify'](_0x340d82),'ack':!![]});}catch(_0x2c56b5){_0x11701a['log'][_0x50075d(0x178)](_0x50075d(0x1c2)+_0x2c56b5[_0x50075d(0x152)]);}}function a1_0x30a9(_0x1f34b6,_0x2629f2){const _0x1b895d=a1_0x2a64();return a1_0x30a9=function(_0x4a14ba,_0x2d10ec){_0x4a14ba=_0x4a14ba-0x13b;let _0x2a6427=_0x1b895d[_0x4a14ba];return _0x2a6427;},a1_0x30a9(_0x1f34b6,_0x2629f2);}async function manageMpcIntervention(_0x540748,_0x4cf8b8,_0x35cc13){const _0x17d113=a1_0x56c961;try{const _0xcd7e0c='analysis.energy.mpcActiveInterventions',_0x509307=await _0x540748[_0x17d113(0x1f2)](_0xcd7e0c);let _0x227a4b=[];if(_0x509307&&_0x509307[_0x17d113(0x17f)])try{_0x227a4b=JSON[_0x17d113(0x1cb)](_0x509307[_0x17d113(0x17f)]);}catch(_0x1be929){}const _0x25bf6b=_0x227a4b[_0x17d113(0x1b3)](_0x4cf8b8);if(_0x35cc13===_0x17d113(0x18c))_0x25bf6b===-0x1&&(_0x227a4b['push'](_0x4cf8b8),await _0x540748[_0x17d113(0x16e)](_0xcd7e0c,{'val':JSON[_0x17d113(0x1f3)](_0x227a4b),'ack':!![]}));else _0x35cc13===_0x17d113(0x173)&&(_0x25bf6b!==-0x1&&(_0x227a4b['splice'](_0x25bf6b,0x1),await _0x540748[_0x17d113(0x16e)](_0xcd7e0c,{'val':JSON[_0x17d113(0x1f3)](_0x227a4b),'ack':!![]})));}catch(_0x21c8ac){}}async function cleanupGhostInterventions(_0x63d111){const _0x239503=a1_0x56c961;try{const _0x1654a2='analysis.energy.mpcActiveInterventions',_0x33cd26=await _0x63d111[_0x239503(0x1f2)](_0x1654a2);if(!_0x33cd26||!_0x33cd26['val'])return;const _0x5f1091=JSON[_0x239503(0x1cb)](_0x33cd26['val']);if(!Array[_0x239503(0x1a1)](_0x5f1091)||_0x5f1091[_0x239503(0x160)]===0x0)return;let _0x320b92={'default':0x15};try{const _0x6f4aed=await _0x63d111[_0x239503(0x1f2)]('analysis.energy.warmupTargets');if(_0x6f4aed&&_0x6f4aed['val'])_0x320b92=JSON[_0x239503(0x1cb)](_0x6f4aed[_0x239503(0x17f)]);}catch(_0x507f78){}let _0x33e2b1=[];try{const _0x59d0f2=await _0x63d111[_0x239503(0x1f2)](_0x239503(0x1c5));if(_0x59d0f2&&_0x59d0f2[_0x239503(0x17f)])_0x33e2b1=JSON[_0x239503(0x1cb)](_0x59d0f2['val']);}catch(_0x237b35){}let _0x37a214={},_0x5d2a62=![];try{const _0x18368c=await _0x63d111[_0x239503(0x1f2)](_0x239503(0x1d0));if(_0x18368c&&_0x18368c[_0x239503(0x17f)])_0x37a214=JSON['parse'](_0x18368c[_0x239503(0x17f)]);}catch(_0x66d09c){}if(_0x37a214[_0x239503(0x18e)]){const _0x408cfb=Date[_0x239503(0x170)]();for(const [_0x4d0b5c,_0x560dcf]of Object['entries'](_0x37a214[_0x239503(0x18e)])){_0x408cfb-_0x560dcf>PENALTY_TTL&&(delete _0x37a214[_0x4d0b5c],delete _0x37a214['_meta'][_0x4d0b5c],_0x5d2a62=!![],_0x63d111[_0x239503(0x143)][_0x239503(0x180)](_0x239503(0x13f)+_0x4d0b5c+_0x239503(0x1c6)));}}const _0x4a3433=_0x63d111[_0x239503(0x14a)][_0x239503(0x162)]||[];let _0x47ea73=![];for(let _0x35e388=_0x5f1091[_0x239503(0x160)]-0x1;_0x35e388>=0x0;_0x35e388--){const _0x25bc67=_0x5f1091[_0x35e388],_0x149dc8=_0x4a3433[_0x239503(0x1aa)](_0x13f975=>normalize(_0x13f975[_0x239503(0x19c)])===normalize(_0x25bc67)&&(_0x13f975['type']===_0x239503(0x16d)||_0x13f975['type']===_0x239503(0x1ad)));if(!_0x149dc8){_0x63d111['log'][_0x239503(0x178)](_0x239503(0x1e0)+_0x25bc67+_0x239503(0x13e)),_0x5f1091[_0x239503(0x1f6)](_0x35e388,0x1),_0x47ea73=!![];continue;}if(_0x149dc8){const _0x5445b4=await findRelatedId(_0x63d111,_0x149dc8['id'],_0x239503(0x1e2)),_0x29b22f=await _0x63d111[_0x239503(0x14f)](_0x149dc8['id']);if(_0x5445b4){const _0x9c3054=await _0x63d111[_0x239503(0x14f)](_0x5445b4);if(_0x9c3054&&typeof _0x9c3054[_0x239503(0x17f)]===_0x239503(0x185)){let _0xa37472=![],_0x5c9dd9='';Math[_0x239503(0x207)](_0x9c3054['val']-ECO_TEMP)>0.5&&(_0xa37472=!![],_0x5c9dd9=_0x239503(0x1c9));if(!_0xa37472&&_0x29b22f&&typeof _0x29b22f[_0x239503(0x17f)]===_0x239503(0x185)){const _0x216c9e=_0x320b92[_0x25bc67]||_0x320b92[_0x239503(0x1c3)]||0x15;_0x29b22f[_0x239503(0x17f)]<_0x216c9e+0.2&&(_0xa37472=!![],_0x5c9dd9=_0x239503(0x1c1));}if(_0xa37472){if(_0x5c9dd9===_0x239503(0x1c9)){_0x63d111[_0x239503(0x143)][_0x239503(0x180)](_0x239503(0x196)+_0x25bc67+_0x239503(0x1e5)+_0x9c3054['val']+_0x239503(0x146)+ECO_TEMP+_0x239503(0x163));const _0x4e8e50=lastActions[_0x239503(0x1fd)+_0x25bc67],_0x3c2ab1=_0x4e8e50&&Date[_0x239503(0x170)]()-_0x4e8e50<0x2*0x3c*0x3e8;if(!_0x3c2ab1&&_0x9c3054['val']>ECO_TEMP+0.5){_0x63d111[_0x239503(0x149)]&&(_0x63d111[_0x239503(0x143)]['info'](_0x239503(0x1fa)+_0x25bc67+_0x239503(0x1df)),_0x63d111[_0x239503(0x149)](_0x239503(0x19d),{'room':_0x25bc67}));const _0x30b0b1=_0x25bc67+'_'+new Date()[_0x239503(0x1a3)]();if(!_0x37a214[_0x30b0b1]){_0x37a214[_0x30b0b1]=0x1;if(!_0x37a214['_meta'])_0x37a214[_0x239503(0x18e)]={};_0x37a214['_meta'][_0x30b0b1]=Date[_0x239503(0x170)](),_0x5d2a62=!![];}}else _0x3c2ab1&&_0x63d111[_0x239503(0x143)]['info'](_0x239503(0x1bc)+_0x25bc67+_0x239503(0x1d9));}else{if(_0x5c9dd9===_0x239503(0x1c1)){let _0x1b3ab5=![];if(_0x33e2b1[_0x239503(0x1aa)](_0x2f0105=>_0x2f0105[_0x239503(0x155)]===_0x25bc67))_0x1b3ab5=!![];const _0x1aa3b4=_0x4a3433[_0x239503(0x190)](_0xec67e9=>normalize(_0xec67e9[_0x239503(0x19c)])===normalize(_0x25bc67)&&(_0xec67e9[_0x239503(0x1d2)]===_0x239503(0x1ca)||_0xec67e9[_0x239503(0x1d2)]===_0x239503(0x1ed)||_0xec67e9[_0x239503(0x1d2)]==='contact'));for(const _0x2ecd1d of _0x1aa3b4){try{const _0xba0166=await _0x63d111['getForeignStateAsync'](_0x2ecd1d['id']);if(_0xba0166&&(_0xba0166[_0x239503(0x17f)]===!![]||_0xba0166[_0x239503(0x17f)]===0x1||String(_0xba0166[_0x239503(0x17f)])['toLowerCase']()==='open'))_0x1b3ab5=!![];}catch(_0x259eca){}}if(_0x1b3ab5)_0x63d111[_0x239503(0x143)][_0x239503(0x180)](_0x239503(0x195)+_0x25bc67+_0x239503(0x14e));else{const _0x2d5d99=_0x320b92[_0x25bc67]||_0x320b92[_0x239503(0x1c3)]||0x15;_0x63d111[_0x239503(0x143)][_0x239503(0x180)](_0x239503(0x166)+_0x25bc67+_0x239503(0x1dc)+_0x29b22f[_0x239503(0x17f)]+_0x239503(0x1a2)+(_0x2d5d99+0.2)+_0x239503(0x1eb)),await _0x63d111[_0x239503(0x1b8)](_0x5445b4,_0x2d5d99),await logAutomationAction(_0x63d111,_0x239503(0x148)+_0x25bc67+_0x239503(0x142)+_0x2d5d99+'Â°C'),lastActions[_0x239503(0x1b4)+_0x25bc67]=Date[_0x239503(0x170)]();}}}_0x5f1091[_0x239503(0x1f6)](_0x35e388,0x1),_0x47ea73=!![];}}}}}_0x47ea73&&await _0x63d111[_0x239503(0x16e)](_0x1654a2,{'val':JSON['stringify'](_0x5f1091),'ack':!![]}),_0x5d2a62&&await _0x63d111[_0x239503(0x16e)]('analysis.energy.rlPenalties',{'val':JSON[_0x239503(0x1f3)](_0x37a214),'ack':!![]});}catch(_0x247c3e){}}function a1_0x2a64(){const _0x22d2e9=['findIndex','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','messwert','analysis.energy.warmupTargets','occupied_heating_setpoint','find','urlaub\x20ende','.4.VALVE_STATE','thermostat','Â°C!\x20(Puffer:\x20','analysis.energy.schedulePreview','Auto-Erkennung','hm-rpc','./ai_agent','indexOf','rescue_','Nicht\x20gefunden','valveMapping','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','setForeignStateAsync','Soll','eventStart','66AJcVHK','ðŸ“…\x20[MPC\x20INFO]\x20','openknx','consultButler','analysis.automation.confidenceThreshold','thermostatMapping','too_cold','Calendar\x20Check\x20Error:\x20','default','search','analysis.energy.ventilationAlerts','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','name','values','manual','window','parse',')\x20aktiv.\x20Heize\x20auf\x20','1929190YkYMcT','Ist','entries','analysis.energy.rlPenalties','calendarInstance','type','string','event','write','mpc_','position','_calName','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','.1.ACTUAL_TEMPERATURE','Manuelles\x20Mapping','\x20erreicht\x20Limit\x20(','common','soll','\x20wurde\x20manuell\x20erhÃ¶ht.','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','analysis.energy.activeEnforcements','setpoint','Enforcement\x20Monitor\x20Error:\x20','129635lvXkOr','\x20ist\x20auf\x20','12BCEVAV','score','.1.TEMPERATURE','split',':\x20Aufheizen\x20auf\x20','Â°C).\x20Sparmodus\x20beendet!','toLowerCase','sensor','push','replace','8693102MQqbSz','\x20wieder\x20auf\x20','getStateAsync','stringify','Â°C!\x20(Puffer\x20leer).','getForeignObjectsAsync','splice','ankunft',':\x20Absenkung\x20auf\x20','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','882287kWWgLG','summary','cal_','level','unit','map','Unbekannt','ðŸ“…\x20SMART\x20SCHEDULE\x20[','(((.+)+)+)+$','analysis.energy.warmupTimes','analysis.automation.lastAction','valve','abs','8fPIVfH','.1.LEVEL','\x20gefunden!','[MPC]\x20','toUpperCase','active','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','ACTUAL','analysis.automation.mode',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','log','ist','Fehlt','Â°C\x20(nicht\x20','13392888cmLigG','[WATCHDOG]\x20','sendToPythonWrapper','config','temp','switch','3543534nSDhzV','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','getForeignStateAsync','constructor','target','message','383706cXOGWi','state','room','triggerTime','useCalendar','currentSystemMode','Â°C\x20(Kalender-Schutz)','\x27\x20(Match:\x20','[CAL]\x20','analysis.energy.warmupSources','\x20min).','normal','apply','length','analysis.automation.actionLog','devices','Â°C).\x20Entferne\x20Status.','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','until','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','actual','PrÃ¤diktion:\x20','Â°C\x20(via\x20','pi_heating_demand','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','[FORCE]\x20','temperature','setStateAsync','system.mode','now','slice','\x20->\x20','remove','valve_position','reason','localeCompare','.data.table','warn','rÃ¼ckkehr','SET','sort','\x20auf\x20','getForeignObjectAsync','current_heating_setpoint','val','info','_date','10nXOUqm','off','local_temperature','number','value.valve','\x20->\x20Schalte\x20','forEach','SET_POINT_TEMPERATURE','Â°C\x20(Vorlauf:\x20','calendarSelection','add','PERFECT','_meta','.4.SET_TEMPERATURE','filter','.1.SET_POINT_TEMPERATURE','getTime','includes','1fWIZtI','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','ðŸ§¹\x20[MPC\x20CLEANUP]\x20','thermostat.setpoint','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20','error','role','exports','location','TRAIN_RL_PENALTY','Â°C\x20->\x20','date','\x20min)','isArray','Â°C\x20<\x20','getHours','set'];a1_0x2a64=function(){return _0x22d2e9;};return a1_0x2a64();}async function applyEnergySavings(_0x5567af,_0x54aad8){const _0x56fb89=a1_0x56c961;await cleanupGhostInterventions(_0x5567af);if(!_0x54aad8||_0x54aad8['length']===0x0)return;const _0x70670c=_0x5567af[_0x56fb89(0x14a)][_0x56fb89(0x162)]||[],_0x5b2d6a=Date[_0x56fb89(0x170)]();for(const _0x5bf611 of _0x54aad8){const _0x35db99=_0x5bf611[_0x56fb89(0x155)],_0x538bc6=_0x5bf611['minutes_safe'],_0xf9188c=_0x5bf611[_0x56fb89(0x151)]||0x15;if(lastActions[_0x56fb89(0x1b4)+_0x35db99]&&_0x5b2d6a-lastActions[_0x56fb89(0x1b4)+_0x35db99]<RESCUE_LOCK_MS)continue;const _0x50e8d0=_0x70670c['find'](_0x2527c9=>normalize(_0x2527c9[_0x56fb89(0x19c)])===normalize(_0x35db99)&&(_0x2527c9[_0x56fb89(0x1d2)]==='temperature'||_0x2527c9[_0x56fb89(0x1d2)]==='thermostat'));if(!_0x50e8d0)continue;const _0x4b0894=await findRelatedId(_0x5567af,_0x50e8d0['id'],_0x56fb89(0x1e2));if(_0x4b0894){if(lastActions['mpc_'+_0x35db99]&&_0x5b2d6a-lastActions['mpc_'+_0x35db99]<0x1e*0x3c*0x3e8)continue;const _0x43e081=await _0x5567af[_0x56fb89(0x14f)](_0x4b0894);if(_0x43e081&&typeof _0x43e081['val']===_0x56fb89(0x185)){const _0x65fe54=_0x43e081[_0x56fb89(0x17f)];_0x65fe54!==ECO_TEMP&&await manageMpcIntervention(_0x5567af,_0x35db99,_0x56fb89(0x173));if(_0x538bc6>0x1e)_0x65fe54>ECO_TEMP+0.5&&(_0x5567af['log'][_0x56fb89(0x180)](_0x56fb89(0x164)+_0x35db99+_0x56fb89(0x17c)+ECO_TEMP+_0x56fb89(0x1ae)+_0x538bc6+_0x56fb89(0x1a0)),await _0x5567af[_0x56fb89(0x1b8)](_0x4b0894,ECO_TEMP),await manageMpcIntervention(_0x5567af,_0x35db99,_0x56fb89(0x18c)),lastActions[_0x56fb89(0x1d6)+_0x35db99]=_0x5b2d6a,await logAutomationAction(_0x5567af,_0x56fb89(0x13b)+_0x35db99+_0x56fb89(0x1f8)+ECO_TEMP+'Â°C'));else _0x538bc6<=0xf&&(_0x65fe54<_0xf9188c&&(_0x5567af[_0x56fb89(0x143)][_0x56fb89(0x180)](_0x56fb89(0x198)+_0x35db99+_0x56fb89(0x1f1)+_0xf9188c+_0x56fb89(0x1f4)),await _0x5567af[_0x56fb89(0x1b8)](_0x4b0894,_0xf9188c),await manageMpcIntervention(_0x5567af,_0x35db99,'remove'),lastActions['mpc_'+_0x35db99]=_0x5b2d6a,await logAutomationAction(_0x5567af,_0x56fb89(0x13b)+_0x35db99+_0x56fb89(0x1ea)+_0xf9188c+'Â°C')));}}else _0x5567af[_0x56fb89(0x143)][_0x56fb89(0x178)](_0x56fb89(0x1f9)+_0x35db99+_0x56fb89(0x20a));}}module[a1_0x56c961(0x19b)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};