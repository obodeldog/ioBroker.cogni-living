function a1_0x28f0(_0x2be462,_0x1e5202){const _0x59ec17=a1_0xefea();return a1_0x28f0=function(_0x39532e,_0x363fef){_0x39532e=_0x39532e-0xd7;let _0xefea68=_0x59ec17[_0x39532e];return _0xefea68;},a1_0x28f0(_0x2be462,_0x1e5202);}(function(_0x3c5216,_0x385039){const _0x3105d7=a1_0x28f0,_0x114132=_0x3c5216();while(!![]){try{const _0x2c41ba=parseInt(_0x3105d7(0xfb))/0x1+parseInt(_0x3105d7(0xef))/0x2*(parseInt(_0x3105d7(0xfd))/0x3)+parseInt(_0x3105d7(0xff))/0x4+parseInt(_0x3105d7(0xed))/0x5*(-parseInt(_0x3105d7(0xe1))/0x6)+-parseInt(_0x3105d7(0x103))/0x7*(parseInt(_0x3105d7(0xe3))/0x8)+-parseInt(_0x3105d7(0xe7))/0x9+parseInt(_0x3105d7(0xea))/0xa*(parseInt(_0x3105d7(0xf2))/0xb);if(_0x2c41ba===_0x385039)break;else _0x114132['push'](_0x114132['shift']());}catch(_0x44ca96){_0x114132['push'](_0x114132['shift']());}}}(a1_0xefea,0x23c4d));const a1_0x363fef=(function(){let _0x263f34=!![];return function(_0x523a70,_0x38a75d){const _0xa2125d=_0x263f34?function(){const _0x57e1c6=a1_0x28f0;if(_0x38a75d){const _0x4c3c1e=_0x38a75d[_0x57e1c6(0xfa)](_0x523a70,arguments);return _0x38a75d=null,_0x4c3c1e;}}:function(){};return _0x263f34=![],_0xa2125d;};}()),a1_0x39532e=a1_0x363fef(this,function(){const _0x3ddb64=a1_0x28f0;return a1_0x39532e[_0x3ddb64(0xf0)]()[_0x3ddb64(0xe8)](_0x3ddb64(0xe5))[_0x3ddb64(0xf0)]()[_0x3ddb64(0xec)](a1_0x39532e)['search']('(((.+)+)+)+$');});a1_0x39532e();function a1_0xefea(){const _0xa5df38=['light','804036fNJIQJ','[BLOCKED]\x20','dimmer','find','665973KJhhkj','type','setForeignStateAsync','off','log','analysis.automation.lastAction','simulate','ðŸ‘€\x20SIMULATION:\x20','val','ðŸ¤–\x20Butler\x20Blocked:\x20','ðŸ¤–\x20Automation:\x20WÃ¼rde\x20','90LufBLS','active','16WBovoy','config','(((.+)+)+)+$','getForeignStateAsync','257859DDpHEZ','search','name','40glsIEc','getStateAsync','constructor','49565MLjzwL','approved','3294Enildd','toString','info','384494rygMBh','debug','\x20schalten,\x20aber\x20kein\x20Licht-GerÃ¤t\x20dort\x20gefunden.','consultButler','reason','switch','setStateAsync','âš¡\x20ACTION:\x20','apply','171661RobVmx','devices','3rGyZqH'];a1_0xefea=function(){return _0xa5df38;};return a1_0xefea();}'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,lastActions={};async function handlePrediction(_0xa0ea7a,_0x3bd592,_0x144d1b){const _0x48e65a=a1_0x28f0;if(!_0x3bd592||_0x3bd592==='Unknown')return;let _0x31651e='off',_0x4956e5=0.6;try{const _0x154097=await _0xa0ea7a[_0x48e65a(0xeb)]('analysis.automation.mode');if(_0x154097&&_0x154097[_0x48e65a(0xde)])_0x31651e=_0x154097[_0x48e65a(0xde)];const _0x3fd43c=await _0xa0ea7a[_0x48e65a(0xeb)]('analysis.automation.confidenceThreshold');if(_0x3fd43c&&_0x3fd43c['val'])_0x4956e5=_0x3fd43c[_0x48e65a(0xde)];}catch(_0x4c733c){}if(_0x31651e===_0x48e65a(0xd9))return;if(_0x144d1b<_0x4956e5)return;const _0x261e84=Date['now']();if(lastActions[_0x3bd592]&&_0x261e84-lastActions[_0x3bd592]<COOLDOWN_MS)return;const _0x1b6e79=_0xa0ea7a[_0x48e65a(0xe4)][_0x48e65a(0xfc)]||[],_0x1caa54=_0x1b6e79[_0x48e65a(0x102)](_0x3c5d0d=>_0x3c5d0d['location']===_0x3bd592&&(_0x3c5d0d[_0x48e65a(0xd7)]===_0x48e65a(0xfe)||_0x3c5d0d[_0x48e65a(0xd7)]===_0x48e65a(0x101)||_0x3c5d0d[_0x48e65a(0xd7)]===_0x48e65a(0xf7)));if(!_0x1caa54){_0xa0ea7a[_0x48e65a(0xda)][_0x48e65a(0xf3)](_0x48e65a(0xe0)+_0x3bd592+_0x48e65a(0xf4));return;}const _0xac2eaa=await aiAgent[_0x48e65a(0xf5)](_0xa0ea7a,_0x3bd592,_0x1caa54[_0x48e65a(0xe9)],_0x144d1b);if(!_0xac2eaa[_0x48e65a(0xee)]){_0xa0ea7a[_0x48e65a(0xda)]['debug'](_0x48e65a(0xdf)+_0x3bd592+'\x20->\x20'+_0xac2eaa['reason']),await _0xa0ea7a[_0x48e65a(0xf8)]('analysis.automation.lastAction',{'val':_0x48e65a(0x100)+_0xac2eaa[_0x48e65a(0xf6)],'ack':!![]});return;}const _0x56b3cf='PrÃ¤diktion:\x20'+_0x3bd592+'\x20->\x20Schalte\x20'+_0x1caa54[_0x48e65a(0xe9)]+'\x20('+_0xac2eaa[_0x48e65a(0xf6)]+')';await _0xa0ea7a['setStateAsync'](_0x48e65a(0xdb),{'val':'['+_0x31651e['toUpperCase']()+']\x20'+_0x56b3cf,'ack':!![]});if(_0x31651e===_0x48e65a(0xdc))_0xa0ea7a['log'][_0x48e65a(0xf1)](_0x48e65a(0xdd)+_0x56b3cf);else{if(_0x31651e===_0x48e65a(0xe2)){_0xa0ea7a[_0x48e65a(0xda)][_0x48e65a(0xf1)](_0x48e65a(0xf9)+_0x56b3cf);const _0x163ba4=await _0xa0ea7a[_0x48e65a(0xe6)](_0x1caa54['id']);if(_0x163ba4&&(_0x163ba4[_0x48e65a(0xde)]===!![]||_0x163ba4[_0x48e65a(0xde)]>0x0)){}else await _0xa0ea7a[_0x48e65a(0xd8)](_0x1caa54['id'],!![]);lastActions[_0x3bd592]=_0x261e84;}}}module['exports']={'handlePrediction':handlePrediction};