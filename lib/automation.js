const a1_0x343099=a1_0x22e8;(function(_0x548832,_0x278a84){const _0x3113b2=a1_0x22e8,_0x5e0a5c=_0x548832();while(!![]){try{const _0x56251f=-parseInt(_0x3113b2(0xeb))/0x1*(parseInt(_0x3113b2(0xb4))/0x2)+-parseInt(_0x3113b2(0xee))/0x3*(-parseInt(_0x3113b2(0xe7))/0x4)+parseInt(_0x3113b2(0x8b))/0x5+-parseInt(_0x3113b2(0x103))/0x6+parseInt(_0x3113b2(0x115))/0x7*(-parseInt(_0x3113b2(0x7e))/0x8)+-parseInt(_0x3113b2(0x10c))/0x9+parseInt(_0x3113b2(0x112))/0xa;if(_0x56251f===_0x278a84)break;else _0x5e0a5c['push'](_0x5e0a5c['shift']());}catch(_0x278e3d){_0x5e0a5c['push'](_0x5e0a5c['shift']());}}}(a1_0x44fc,0x594d2));const a1_0x19b2ad=(function(){let _0x6f50b7=!![];return function(_0x483485,_0xb96769){const _0x3a3206=_0x6f50b7?function(){if(_0xb96769){const _0x35c782=_0xb96769['apply'](_0x483485,arguments);return _0xb96769=null,_0x35c782;}}:function(){};return _0x6f50b7=![],_0x3a3206;};}()),a1_0x2904c7=a1_0x19b2ad(this,function(){const _0x33b814=a1_0x22e8;return a1_0x2904c7['toString']()[_0x33b814(0x6e)](_0x33b814(0x116))[_0x33b814(0xbc)]()[_0x33b814(0x97)](a1_0x2904c7)['search'](_0x33b814(0x116));});a1_0x2904c7();'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0xbff9c6){const _0x5773a7=a1_0x22e8;if(!_0xbff9c6)return'';return _0xbff9c6[_0x5773a7(0x73)]()[_0x5773a7(0xc8)](/\s+/g,'')['trim']();}function getWarmupRobust(_0x1ad4ad,_0x7ef567){const _0x2037ea=a1_0x22e8;if(!_0x1ad4ad||!_0x7ef567)return 0x3c;if(_0x1ad4ad[_0x7ef567]!==undefined)return _0x1ad4ad[_0x7ef567];const _0x4e3c76=_0x7ef567[_0x2037ea(0x73)]()['replace'](/√§/g,'ae')['replace'](/√∂/g,'oe')[_0x2037ea(0xc8)](/√º/g,'ue')[_0x2037ea(0xc8)](/√ü/g,'ss')['replace'](/\s+/g,'_')[_0x2037ea(0xc8)](/[^a-z0-9_]/g,'');if(_0x1ad4ad[_0x4e3c76]!==undefined)return _0x1ad4ad[_0x4e3c76];return 0x3c;}async function logAutomationAction(_0x2b1187,_0x236481){const _0x6564c5=a1_0x22e8;await _0x2b1187[_0x6564c5(0xa5)](_0x6564c5(0xe0),{'val':_0x236481,'ack':!![]});try{const _0x282afb=_0x6564c5(0xb9),_0x46d447=await _0x2b1187[_0x6564c5(0x98)](_0x282afb);let _0x3c871b=[];if(_0x46d447&&_0x46d447[_0x6564c5(0xb6)])try{_0x3c871b=JSON[_0x6564c5(0xce)](_0x46d447['val']);}catch(_0x35d9da){}_0x3c871b[_0x6564c5(0x125)]({'ts':Date[_0x6564c5(0x71)](),'msg':_0x236481});if(_0x3c871b[_0x6564c5(0x127)]>0x32)_0x3c871b=_0x3c871b['slice'](0x0,0x32);await _0x2b1187[_0x6564c5(0xa5)](_0x282afb,{'val':JSON[_0x6564c5(0xb8)](_0x3c871b),'ack':!![]});}catch(_0x262808){}}function a1_0x22e8(_0x4ea468,_0x1cffd3){const _0x2a6d2e=a1_0x44fc();return a1_0x22e8=function(_0x2904c7,_0x19b2ad){_0x2904c7=_0x2904c7-0x6d;let _0x44fc37=_0x2a6d2e[_0x2904c7];return _0x44fc37;},a1_0x22e8(_0x4ea468,_0x1cffd3);}async function handlePrediction(_0x5855a3,_0x562386,_0x580080){const _0x1e8c1c=a1_0x22e8;if(!_0x562386||_0x562386===_0x1e8c1c(0x12d))return;let _0x5425a9=_0x1e8c1c(0xaf),_0x4138f8=0.6;try{const _0x4c9d30=await _0x5855a3[_0x1e8c1c(0x98)](_0x1e8c1c(0x8e));if(_0x4c9d30&&_0x4c9d30[_0x1e8c1c(0xb6)])_0x5425a9=_0x4c9d30['val'];const _0x516e5a=await _0x5855a3['getStateAsync'](_0x1e8c1c(0x12e));if(_0x516e5a&&_0x516e5a['val'])_0x4138f8=_0x516e5a[_0x1e8c1c(0xb6)];}catch(_0xecceba){}if(_0x5425a9===_0x1e8c1c(0xaf)||_0x580080<_0x4138f8)return;const _0x591ebf=Date[_0x1e8c1c(0x71)]();if(lastActions[_0x562386]&&_0x591ebf-lastActions[_0x562386]<COOLDOWN_MS)return;const _0x139ed2=_0x5855a3[_0x1e8c1c(0xb1)][_0x1e8c1c(0xc1)]||[],_0x481c07=normalize(_0x562386),_0x389843=_0x139ed2[_0x1e8c1c(0x92)](_0x523e1f=>normalize(_0x523e1f[_0x1e8c1c(0x9e)])===_0x481c07&&(_0x523e1f[_0x1e8c1c(0x9a)]===_0x1e8c1c(0xd1)||_0x523e1f[_0x1e8c1c(0x9a)]==='dimmer'||_0x523e1f['type']===_0x1e8c1c(0xa8)));if(!_0x389843)return;const _0x483cce=await aiAgent[_0x1e8c1c(0xa3)](_0x5855a3,_0x562386,_0x389843[_0x1e8c1c(0x105)],_0x580080);if(!_0x483cce[_0x1e8c1c(0xa9)])return;const _0x8dab46='Pr√§diktion:\x20'+_0x562386+_0x1e8c1c(0xe5)+_0x389843[_0x1e8c1c(0x105)]+'\x20('+_0x483cce[_0x1e8c1c(0xf7)]+')';await logAutomationAction(_0x5855a3,'['+_0x5425a9['toUpperCase']()+']\x20'+_0x8dab46);if(_0x5425a9===_0x1e8c1c(0xdf)){const _0x505e55=await _0x5855a3[_0x1e8c1c(0x95)](_0x389843['id']);(!_0x505e55||!_0x505e55['val']&&_0x505e55[_0x1e8c1c(0xb6)]!==!![])&&await _0x5855a3[_0x1e8c1c(0x10f)](_0x389843['id'],!![]),lastActions[_0x562386]=_0x591ebf;}}async function findRelatedId(_0x168782,_0x5cf702,_0x5b7999=a1_0x343099(0xca)){const _0x2fd6fa=a1_0x343099;if(_0x5b7999==='setpoint'&&_0x168782[_0x2fd6fa(0xb1)][_0x2fd6fa(0xcf)]){let _0x335798=_0x168782[_0x2fd6fa(0xb1)][_0x2fd6fa(0xcf)];if(typeof _0x335798===_0x2fd6fa(0xd8))try{_0x335798=JSON[_0x2fd6fa(0xce)](_0x335798);}catch(_0x3065fd){}if(_0x335798&&_0x335798[_0x5cf702])return _0x335798[_0x5cf702];}if(_0x5b7999===_0x2fd6fa(0x8a)&&_0x168782[_0x2fd6fa(0xb1)]['valveMapping']){let _0x40d2fa=_0x168782[_0x2fd6fa(0xb1)]['valveMapping'];if(typeof _0x40d2fa==='string')try{_0x40d2fa=JSON[_0x2fd6fa(0xce)](_0x40d2fa);}catch(_0x2d4a54){}if(_0x40d2fa&&_0x40d2fa[_0x5cf702])return _0x40d2fa[_0x5cf702];}let _0xe7f379=[];if(_0x5b7999===_0x2fd6fa(0xca))_0xe7f379=[{'s':_0x2fd6fa(0x74),'t':_0x2fd6fa(0x114)},{'s':_0x2fd6fa(0x102),'t':_0x2fd6fa(0x114)},{'s':_0x2fd6fa(0x102),'t':_0x2fd6fa(0x99)},{'s':'ACTUAL_TEMPERATURE','t':_0x2fd6fa(0xf9)},{'s':_0x2fd6fa(0xbf),'t':_0x2fd6fa(0x9d)},{'s':_0x2fd6fa(0xbf),'t':'current_heating_setpoint'},{'s':_0x2fd6fa(0x110),'t':_0x2fd6fa(0x82)},{'s':_0x2fd6fa(0x107),'t':_0x2fd6fa(0x124)},{'s':_0x2fd6fa(0x108),'t':_0x2fd6fa(0x11f)},{'s':'temperature','t':'setpoint'}];else _0x5b7999==='valve'&&(_0xe7f379=[{'s':_0x2fd6fa(0x74),'t':_0x2fd6fa(0x12b)},{'s':_0x2fd6fa(0x102),'t':_0x2fd6fa(0x12b)},{'s':_0x2fd6fa(0x102),'t':_0x2fd6fa(0xc5)},{'s':_0x2fd6fa(0xbf),'t':_0x2fd6fa(0x7b)},{'s':_0x2fd6fa(0x110),'t':_0x2fd6fa(0x10e)},{'s':_0x2fd6fa(0x110),'t':_0x2fd6fa(0xd5)}]);for(const _0x15f7f2 of _0xe7f379){if(_0x5cf702[_0x2fd6fa(0x84)](_0x15f7f2['s'])){const _0x590f29=_0x5cf702[_0x2fd6fa(0xc8)](_0x15f7f2['s'],_0x15f7f2['t']),_0x1d5589=await _0x168782[_0x2fd6fa(0xab)](_0x590f29);if(_0x1d5589)return _0x590f29;}}try{const _0x46a6e7=_0x5cf702[_0x2fd6fa(0xc9)]('.');if(_0x46a6e7[_0x2fd6fa(0x127)]>0x2){const _0x42fafc=_0x46a6e7['slice'](0x0,-0x1)[_0x2fd6fa(0x8c)]('.'),_0x3360da=await _0x168782['getForeignObjectsAsync'](_0x42fafc+'.*'),_0x322d3a=[],_0x4c0cf8=_0x5cf702[_0x2fd6fa(0xc9)](/[._]+/)[_0x2fd6fa(0xd4)](_0x4d957b=>![_0x2fd6fa(0x83),'0','hm-rpc','ist',_0x2fd6fa(0x126),_0x2fd6fa(0x110),_0x2fd6fa(0x11d),_0x2fd6fa(0xc2),_0x2fd6fa(0x119),'state']['includes'](_0x4d957b['toLowerCase']()));for(const [_0x21616d,_0x3aac45]of Object['entries'](_0x3360da)){if(_0x21616d===_0x5cf702)continue;if(_0x3aac45&&_0x3aac45['common']){const _0x2b02c7=_0x21616d['toLowerCase'](),_0x393b65=(_0x3aac45[_0x2fd6fa(0x90)][_0x2fd6fa(0x89)]||'')[_0x2fd6fa(0x73)](),_0x1a4d63=(_0x3aac45[_0x2fd6fa(0x90)][_0x2fd6fa(0xd9)]||'')['toLowerCase']();let _0x269e3a=![];if(_0x5b7999===_0x2fd6fa(0xca)&&_0x3aac45[_0x2fd6fa(0x90)][_0x2fd6fa(0xec)]===!![])_0x269e3a=_0x2b02c7[_0x2fd6fa(0x84)](_0x2fd6fa(0x7c))||_0x2b02c7[_0x2fd6fa(0x84)](_0x2fd6fa(0xdb))||_0x2b02c7[_0x2fd6fa(0x84)](_0x2fd6fa(0xb5))||_0x393b65[_0x2fd6fa(0x84)](_0x2fd6fa(0xd2))||_0x393b65[_0x2fd6fa(0x84)](_0x2fd6fa(0xf3));else _0x5b7999===_0x2fd6fa(0x8a)&&(_0x269e3a=_0x2b02c7[_0x2fd6fa(0x84)]('level')||_0x2b02c7['includes']('valve')||_0x2b02c7['includes']('stellwert')||_0x2b02c7[_0x2fd6fa(0x84)](_0x2fd6fa(0xde))||_0x393b65[_0x2fd6fa(0x84)]('level.valve')||_0x393b65[_0x2fd6fa(0x84)]('value.valve')||_0x1a4d63['includes']('%'));if(_0x269e3a){const _0x49e30e=_0x21616d['split'](/[._]+/)[_0x2fd6fa(0xa1)](_0x3260d9=>_0x3260d9[_0x2fd6fa(0x73)]());let _0x37bc75=0x0;_0x4c0cf8['forEach'](_0x142de0=>{const _0x277f=_0x2fd6fa;if(_0x49e30e[_0x277f(0x84)](_0x142de0[_0x277f(0x73)]()))_0x37bc75++;}),_0x322d3a[_0x2fd6fa(0x94)]({'id':_0x21616d,'score':_0x37bc75});}}}if(_0x322d3a[_0x2fd6fa(0x127)]>0x0){_0x322d3a[_0x2fd6fa(0x128)]((_0x339deb,_0x58eeef)=>_0x58eeef[_0x2fd6fa(0xe6)]-_0x339deb[_0x2fd6fa(0xe6)]);if(_0x322d3a[0x0]['score']>0x0)return _0x322d3a[0x0]['id'];}}}catch(_0x466583){}return null;}async function scanThermostats(_0x4f7dd5){const _0x1412d4=a1_0x343099,_0x308d27=_0x4f7dd5[_0x1412d4(0xb1)][_0x1412d4(0xc1)]||[],_0x55f765=[],_0x4aef72=_0x308d27['filter'](_0x58d51c=>_0x58d51c['id']&&_0x58d51c['id'][_0x1412d4(0x84)](_0x1412d4(0x110))||_0x58d51c[_0x1412d4(0x9a)]&&[_0x1412d4(0x110),_0x1412d4(0xb2),_0x1412d4(0xc2)]['includes'](_0x58d51c[_0x1412d4(0x9a)])||_0x58d51c[_0x1412d4(0x105)]&&_0x58d51c[_0x1412d4(0x105)]['toLowerCase']()['includes'](_0x1412d4(0x11c)));for(const _0x324b75 of _0x4aef72){const _0x13fdce=await findRelatedId(_0x4f7dd5,_0x324b75['id'],_0x1412d4(0xca)),_0x1b79df=await findRelatedId(_0x4f7dd5,_0x324b75['id'],_0x1412d4(0x8a));let _0x1898bd=_0x1412d4(0x104),_0x2fe438=![],_0x4d8dfc=_0x4f7dd5[_0x1412d4(0xb1)][_0x1412d4(0xcf)]||{};if(typeof _0x4d8dfc===_0x1412d4(0xd8))try{_0x4d8dfc=JSON['parse'](_0x4d8dfc);}catch(_0x50c81d){}let _0x3d5899=_0x4f7dd5[_0x1412d4(0xb1)][_0x1412d4(0x10a)]||{};if(typeof _0x3d5899===_0x1412d4(0xd8))try{_0x3d5899=JSON[_0x1412d4(0xce)](_0x3d5899);}catch(_0x1bb364){}if(_0x4d8dfc[_0x324b75['id']]&&_0x4d8dfc[_0x324b75['id']]===_0x13fdce||_0x3d5899[_0x324b75['id']]&&_0x3d5899[_0x324b75['id']]===_0x1b79df)_0x1898bd='Manuelles\x20Mapping',_0x2fe438=!![];else(_0x13fdce||_0x1b79df)&&(_0x1898bd=_0x1412d4(0xa0));_0x55f765[_0x1412d4(0x94)]({'room':_0x324b75['location']||_0x1412d4(0xfe),'sensorId':_0x324b75['id'],'setpointId':_0x13fdce||'-','valveId':_0x1b79df||'-','source':_0x1898bd,'isManual':_0x2fe438,'status':_0x13fdce&&_0x1b79df?'PERFECT':_0x13fdce?'OK':_0x1412d4(0x87)});}return _0x55f765[_0x1412d4(0x128)]((_0x4e59e1,_0xf81c8e)=>_0x4e59e1[_0x1412d4(0xac)][_0x1412d4(0x10b)](_0xf81c8e['room']));}async function updateSchedulePreview(_0x4ea1f){const _0x241f47=a1_0x343099;if(!_0x4ea1f['config']['useCalendar']||!_0x4ea1f['config']['calendarInstance'])return;let _0x445056={};try{const _0x27b00d=await _0x4ea1f[_0x241f47(0x98)](_0x241f47(0xed));if(_0x27b00d&&_0x27b00d[_0x241f47(0xb6)])_0x445056=JSON['parse'](_0x27b00d[_0x241f47(0xb6)]);}catch(_0xfc1e96){}const _0x5e6b71=[],_0xa64331=Date[_0x241f47(0x71)](),_0x4c07a5=0x30*0x3c*0x3c*0x3e8;try{const _0xeaee56=await _0x4ea1f[_0x241f47(0x95)](_0x4ea1f[_0x241f47(0xb1)][_0x241f47(0xdd)]+_0x241f47(0xa4));if(!_0xeaee56||!_0xeaee56['val'])return;const _0x38f9fa=JSON[_0x241f47(0xce)](_0xeaee56[_0x241f47(0xb6)]),_0x21bc61=_0x4ea1f['config'][_0x241f47(0xbd)]||[],_0x451843=_0x4ea1f[_0x241f47(0xb1)][_0x241f47(0xc1)]||[],_0x5196b8=new Set();_0x451843['forEach'](_0x2b5652=>{const _0x123da7=_0x241f47;if(_0x2b5652[_0x123da7(0x9e)])_0x5196b8[_0x123da7(0xd0)](_0x2b5652['location']);});for(const _0x312991 of _0x38f9fa){if(_0x312991['_calName']&&_0x21bc61[_0x241f47(0x127)]>0x0&&!_0x21bc61[_0x241f47(0x84)](_0x312991[_0x241f47(0x12a)]))continue;const _0x361c87=_0x312991[_0x241f47(0xc7)]||_0x312991['eventStart']||_0x312991['date'];if(!_0x361c87)continue;const _0x30a9b0=new Date(_0x361c87),_0xf5d7bc=_0x30a9b0['getTime']();if(isNaN(_0xf5d7bc))continue;if(_0xf5d7bc<_0xa64331)continue;if(_0xf5d7bc>_0xa64331+_0x4c07a5)continue;const _0x78e0e5=(_0x312991[_0x241f47(0x88)]||_0x312991[_0x241f47(0xfb)]||'')['toLowerCase']();let _0x2ea79d=![],_0x201c89=[],_0xc4c1c4=_0x312991[_0x241f47(0x88)]||_0x312991[_0x241f47(0xfb)]||_0x241f47(0xfe);if(_0x78e0e5[_0x241f47(0x84)](_0x241f47(0xbe))||_0x78e0e5['includes'](_0x241f47(0xaa))||_0x78e0e5[_0x241f47(0x84)](_0x241f47(0x10d)))_0x2ea79d=!![],_0x201c89=Array[_0x241f47(0x12f)](_0x5196b8);else for(const _0x5a63b8 of _0x5196b8){if(_0x78e0e5[_0x241f47(0x84)](_0x5a63b8[_0x241f47(0x73)]()))_0x201c89[_0x241f47(0x94)](_0x5a63b8);}_0x201c89[_0x241f47(0x127)]>0x0&&_0x201c89[_0x241f47(0x12c)](_0x37eb21=>{const _0x227a2d=_0x241f47;let _0x45236f=0x3c;if(_0x2ea79d){let _0xb7e835=0x0;Object[_0x227a2d(0xcb)](_0x445056)['forEach'](_0x34f0ea=>{if(_0x34f0ea>_0xb7e835)_0xb7e835=_0x34f0ea;}),_0x45236f=_0xb7e835>0x0?_0xb7e835:0x78;}else _0x45236f=getWarmupRobust(_0x445056,_0x37eb21);const _0x28c1b5=new Date(_0xf5d7bc-_0x45236f*0xea60);_0x5e6b71[_0x227a2d(0x94)]({'eventTime':_0xf5d7bc,'triggerTime':_0x28c1b5[_0x227a2d(0xcc)](),'room':_0x37eb21,'minutes':_0x45236f,'reason':_0xc4c1c4,'isGlobal':_0x2ea79d});});}}catch(_0x23493b){}_0x5e6b71[_0x241f47(0x128)]((_0x590075,_0x29bf58)=>_0x590075['triggerTime']-_0x29bf58[_0x241f47(0x70)]);const _0x302fdc=_0x5e6b71[_0x241f47(0xf4)](0x0,0x1e);await _0x4ea1f['setStateAsync'](_0x241f47(0x91),{'val':JSON[_0x241f47(0xb8)](_0x302fdc),'ack':!![]});}async function monitorEnforcements(_0x31f08a){const _0x270007=a1_0x343099;try{const _0x331fe7=_0x270007(0xfa),_0x1c9ef4=await _0x31f08a[_0x270007(0x98)](_0x331fe7);if(!_0x1c9ef4||!_0x1c9ef4[_0x270007(0xb6)])return;let _0x39bc2b=[];try{_0x39bc2b=JSON[_0x270007(0xce)](_0x1c9ef4[_0x270007(0xb6)]);}catch(_0x39b106){return;}if(!Array['isArray'](_0x39bc2b)||_0x39bc2b[_0x270007(0x127)]===0x0)return;const _0x5b84c7=Date[_0x270007(0x71)](),_0x374050=_0x31f08a[_0x270007(0xb1)][_0x270007(0xc1)]||[];let _0x1b2caf=![];for(let _0x59f518=_0x39bc2b[_0x270007(0x127)]-0x1;_0x59f518>=0x0;_0x59f518--){const _0x5b14d6=_0x39bc2b[_0x59f518];if(_0x5b84c7>=_0x5b14d6[_0x270007(0xa6)]){_0x31f08a[_0x270007(0xea)][_0x270007(0x75)](_0x270007(0x80)+_0x5b14d6[_0x270007(0xac)]+_0x270007(0xf8)),_0x39bc2b[_0x270007(0xdc)](_0x59f518,0x1),_0x1b2caf=!![];continue;}const _0x2280d4=_0x374050[_0x270007(0x92)](_0x2c3068=>normalize(_0x2c3068[_0x270007(0x9e)])===normalize(_0x5b14d6[_0x270007(0xac)])&&(_0x2c3068[_0x270007(0x9a)]==='temperature'||_0x2c3068['type']==='thermostat'));if(_0x2280d4){const _0x66bbf=await findRelatedId(_0x31f08a,_0x2280d4['id'],_0x270007(0xca));if(_0x66bbf){const _0x1727b8=await _0x31f08a[_0x270007(0x95)](_0x66bbf);_0x1727b8&&typeof _0x1727b8[_0x270007(0xb6)]==='number'&&(_0x1727b8[_0x270007(0xb6)]<0xf&&(_0x31f08a[_0x270007(0xea)]['warn'](_0x270007(0x8d)+_0x5b14d6['room']+_0x270007(0xd7)+_0x1727b8[_0x270007(0xb6)]+_0x270007(0xf5)+_0x5b14d6[_0x270007(0xb5)]+_0x270007(0x7f)),await _0x31f08a[_0x270007(0x10f)](_0x66bbf,_0x5b14d6[_0x270007(0xb5)]),await logAutomationAction(_0x31f08a,'[FORCE]\x20'+_0x5b14d6[_0x270007(0xac)]+':\x20'+_0x1727b8[_0x270007(0xb6)]+_0x270007(0xbb)+_0x5b14d6[_0x270007(0xb5)]+'¬∞C\x20(Kalender-Schutz)')));}}}_0x1b2caf&&await _0x31f08a[_0x270007(0xa5)](_0x331fe7,{'val':JSON[_0x270007(0xb8)](_0x39bc2b),'ack':!![]});}catch(_0x345844){_0x31f08a['log'][_0x270007(0x11a)](_0x270007(0xb7)+_0x345844['message']);}}async function checkCalendarTriggers(_0x35118a){const _0x48a1a5=a1_0x343099;if(!_0x35118a[_0x48a1a5(0xb1)][_0x48a1a5(0x6d)]||!_0x35118a['config'][_0x48a1a5(0xdd)])return;await updateSchedulePreview(_0x35118a);let _0x55b2e5={},_0x35091f={};try{const _0xcdbe0e=await _0x35118a['getStateAsync'](_0x48a1a5(0xed));if(_0xcdbe0e&&_0xcdbe0e[_0x48a1a5(0xb6)])_0x55b2e5=JSON[_0x48a1a5(0xce)](_0xcdbe0e[_0x48a1a5(0xb6)]);const _0x7f6741=await _0x35118a[_0x48a1a5(0x98)](_0x48a1a5(0x8f));if(_0x7f6741&&_0x7f6741[_0x48a1a5(0xb6)])_0x35091f=JSON[_0x48a1a5(0xce)](_0x7f6741['val']);}catch(_0x1f808c){}let _0x45c763={'default':0x15};try{const _0x3d465f=await _0x35118a[_0x48a1a5(0x98)](_0x48a1a5(0xe1));if(_0x3d465f&&_0x3d465f[_0x48a1a5(0xb6)])_0x45c763=JSON[_0x48a1a5(0xce)](_0x3d465f[_0x48a1a5(0xb6)]);}catch(_0xe463fc){}let _0x178868=[];try{const _0x2acb04=await _0x35118a['getStateAsync'](_0x48a1a5(0xfa));if(_0x2acb04&&_0x2acb04['val'])_0x178868=JSON[_0x48a1a5(0xce)](_0x2acb04['val']);}catch(_0x97c878){}try{const _0x4954ca=await _0x35118a[_0x48a1a5(0x95)](_0x35118a[_0x48a1a5(0xb1)][_0x48a1a5(0xdd)]+_0x48a1a5(0xa4));if(!_0x4954ca||!_0x4954ca['val'])return;const _0x3a9e60=JSON[_0x48a1a5(0xce)](_0x4954ca[_0x48a1a5(0xb6)]),_0x57000c=Date[_0x48a1a5(0x71)](),_0x25e662=_0x35118a[_0x48a1a5(0xb1)][_0x48a1a5(0xc1)]||[],_0x47ee2d=_0x35118a['config'][_0x48a1a5(0xbd)]||[];let _0xfd6c97=![];for(const _0x8698bc of _0x3a9e60){if(_0x8698bc[_0x48a1a5(0x12a)]&&_0x47ee2d[_0x48a1a5(0x127)]>0x0&&!_0x47ee2d[_0x48a1a5(0x84)](_0x8698bc['_calName']))continue;const _0x2958d4=_0x8698bc[_0x48a1a5(0xc7)]||_0x8698bc[_0x48a1a5(0xc6)]||_0x8698bc[_0x48a1a5(0x123)];if(!_0x2958d4)continue;const _0x199323=new Date(_0x2958d4);if(isNaN(_0x199323[_0x48a1a5(0xcc)]()))continue;const _0x22afa8=(_0x8698bc[_0x48a1a5(0x88)]||_0x8698bc[_0x48a1a5(0xfb)]||'')[_0x48a1a5(0x73)]();if(_0x22afa8['includes'](_0x48a1a5(0xbe))||_0x22afa8['includes'](_0x48a1a5(0xaa))||_0x22afa8[_0x48a1a5(0x84)](_0x48a1a5(0x10d))){let _0x2d9bcf=0x0;Object[_0x48a1a5(0xcb)](_0x55b2e5)[_0x48a1a5(0x12c)](_0x53fd1c=>{if(_0x53fd1c>_0x2d9bcf)_0x2d9bcf=_0x53fd1c;});if(_0x2d9bcf===0x0)_0x2d9bcf=0x78;const _0x5d2b0e=_0x199323[_0x48a1a5(0xcc)]()-_0x2d9bcf*0xea60;_0x57000c>=_0x5d2b0e&&_0x57000c<_0x199323[_0x48a1a5(0xcc)]()&&(_0x35118a['currentSystemMode']!==_0x48a1a5(0x120)&&(_0x35118a[_0x48a1a5(0xea)]['info']('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x2d9bcf+_0x48a1a5(0x81)),await _0x35118a[_0x48a1a5(0xa5)](_0x48a1a5(0x101),{'val':_0x48a1a5(0x120),'ack':![]})));}for(const _0x4b9c5f of _0x25e662){if(_0x4b9c5f[_0x48a1a5(0x9e)]){const _0x16e063=_0x4b9c5f['location'][_0x48a1a5(0x73)](),_0x72573a=(_0x4b9c5f['name']||'')[_0x48a1a5(0x73)]();let _0x22914c=_0x22afa8[_0x48a1a5(0x84)](_0x16e063);!_0x22914c&&_0x72573a['length']>0x3&&_0x22afa8[_0x48a1a5(0x84)](_0x72573a)&&(_0x22914c=!![]);if(_0x22914c){const _0xc6fdbe=getWarmupRobust(_0x55b2e5,_0x4b9c5f[_0x48a1a5(0x9e)]),_0x2f6e8a=_0x35091f[_0x4b9c5f['location']]||_0x48a1a5(0x111),_0x153d1d=_0x199323['getTime']()-_0xc6fdbe*0xea60;if(_0x57000c>=_0x153d1d&&_0x57000c<_0x199323[_0x48a1a5(0xcc)]()){const _0x1f775c=lastActions[_0x48a1a5(0x122)+_0x4b9c5f[_0x48a1a5(0x9e)]];if(_0x1f775c&&_0x57000c-_0x1f775c<CAL_COOLDOWN_MS)continue;const _0x2a8b19=await findRelatedId(_0x35118a,_0x4b9c5f['id'],_0x48a1a5(0xca));if(_0x2a8b19){let _0x4f7b60=_0x45c763[_0x4b9c5f[_0x48a1a5(0x9e)]];if(_0x4f7b60===undefined)_0x4f7b60=_0x45c763['default'];if(_0x4f7b60===undefined)_0x4f7b60=0x15;const _0x5e8a91=await _0x35118a[_0x48a1a5(0x95)](_0x2a8b19);if(_0x5e8a91&&typeof _0x5e8a91[_0x48a1a5(0xb6)]===_0x48a1a5(0xba)&&_0x5e8a91['val']<_0x4f7b60-0.5){_0x35118a['log'][_0x48a1a5(0x75)](_0x48a1a5(0x72)+_0x2f6e8a+_0x48a1a5(0xc0)+_0x4b9c5f[_0x48a1a5(0x9e)]+_0x48a1a5(0xfc)+_0x22afa8+_0x48a1a5(0x113)+_0x4f7b60+_0x48a1a5(0xef)+_0xc6fdbe+'\x20min).'),await _0x35118a[_0x48a1a5(0x10f)](_0x2a8b19,_0x4f7b60),await logAutomationAction(_0x35118a,_0x48a1a5(0x121)+_0x4b9c5f['location']+_0x48a1a5(0xc3)+_0x4f7b60+_0x48a1a5(0xe3)+_0x2f6e8a+')'),lastActions[_0x48a1a5(0x122)+_0x4b9c5f[_0x48a1a5(0x9e)]]=_0x57000c;const _0x4f0714=_0x178868[_0x48a1a5(0xf6)](_0x114c07=>_0x114c07['room']===_0x4b9c5f[_0x48a1a5(0x9e)]);if(_0x4f0714!==-0x1)_0x178868[_0x48a1a5(0xdc)](_0x4f0714,0x1);_0x178868[_0x48a1a5(0x94)]({'room':_0x4b9c5f[_0x48a1a5(0x9e)],'target':_0x4f7b60,'until':_0x199323['getTime']()}),_0xfd6c97=!![];}}}}}}}_0xfd6c97&&await _0x35118a['setStateAsync'](_0x48a1a5(0xfa),{'val':JSON[_0x48a1a5(0xb8)](_0x178868),'ack':!![]});}catch(_0x335b07){_0x35118a[_0x48a1a5(0xea)][_0x48a1a5(0xe4)](_0x48a1a5(0xc4)+_0x335b07['message']);}}async function manageMpcIntervention(_0x270c39,_0x24bda0,_0x445ef3){const _0x497d33=a1_0x343099;try{const _0x592eeb=_0x497d33(0x77),_0x3196f0=await _0x270c39['getStateAsync'](_0x592eeb);let _0x540d63=[];if(_0x3196f0&&_0x3196f0[_0x497d33(0xb6)])try{_0x540d63=JSON[_0x497d33(0xce)](_0x3196f0[_0x497d33(0xb6)]);}catch(_0x52112e){}const _0x227c06=_0x540d63[_0x497d33(0x11b)](_0x24bda0);if(_0x445ef3===_0x497d33(0xd0))_0x227c06===-0x1&&(_0x540d63[_0x497d33(0x94)](_0x24bda0),await _0x270c39[_0x497d33(0xa5)](_0x592eeb,{'val':JSON[_0x497d33(0xb8)](_0x540d63),'ack':!![]}));else _0x445ef3===_0x497d33(0xcd)&&(_0x227c06!==-0x1&&(_0x540d63['splice'](_0x227c06,0x1),await _0x270c39[_0x497d33(0xa5)](_0x592eeb,{'val':JSON[_0x497d33(0xb8)](_0x540d63),'ack':!![]})));}catch(_0x2f566e){}}async function cleanupGhostInterventions(_0x577c3a){const _0x96f726=a1_0x343099;try{const _0xb9a624='analysis.energy.mpcActiveInterventions',_0x3c879c=await _0x577c3a[_0x96f726(0x98)](_0xb9a624);if(!_0x3c879c||!_0x3c879c[_0x96f726(0xb6)])return;const _0x6b66a=JSON[_0x96f726(0xce)](_0x3c879c['val']);if(!Array[_0x96f726(0x118)](_0x6b66a)||_0x6b66a['length']===0x0)return;let _0x3ee411={'default':0x15};try{const _0x33527c=await _0x577c3a['getStateAsync'](_0x96f726(0xe1));if(_0x33527c&&_0x33527c[_0x96f726(0xb6)])_0x3ee411=JSON[_0x96f726(0xce)](_0x33527c[_0x96f726(0xb6)]);}catch(_0xd574c9){}let _0x2e550c=[];try{const _0x1d0641=await _0x577c3a[_0x96f726(0x98)](_0x96f726(0xa7));if(_0x1d0641&&_0x1d0641[_0x96f726(0xb6)])_0x2e550c=JSON['parse'](_0x1d0641[_0x96f726(0xb6)]);}catch(_0x42c0a4){}let _0x56b3c3={},_0x22a026=![];try{const _0x1acf74=await _0x577c3a[_0x96f726(0x98)]('analysis.energy.rlPenalties');if(_0x1acf74&&_0x1acf74[_0x96f726(0xb6)])_0x56b3c3=JSON[_0x96f726(0xce)](_0x1acf74[_0x96f726(0xb6)]);}catch(_0x275325){}if(_0x56b3c3[_0x96f726(0xad)]){const _0x2e46d0=Date['now']();for(const [_0x36d1e5,_0x3e9284]of Object['entries'](_0x56b3c3[_0x96f726(0xad)])){_0x2e46d0-_0x3e9284>PENALTY_TTL&&(delete _0x56b3c3[_0x36d1e5],delete _0x56b3c3['_meta'][_0x36d1e5],_0x22a026=!![],_0x577c3a[_0x96f726(0xea)]['info'](_0x96f726(0xf2)+_0x36d1e5+_0x96f726(0x130)));}}const _0x476460=_0x577c3a[_0x96f726(0xb1)][_0x96f726(0xc1)]||[];let _0x4fdc66=![];for(let _0x22eba5=_0x6b66a[_0x96f726(0x127)]-0x1;_0x22eba5>=0x0;_0x22eba5--){const _0x3c4a75=_0x6b66a[_0x22eba5],_0x2bca1b=_0x476460['find'](_0x55e837=>normalize(_0x55e837['location'])===normalize(_0x3c4a75)&&(_0x55e837[_0x96f726(0x9a)]===_0x96f726(0x110)||_0x55e837[_0x96f726(0x9a)]===_0x96f726(0xb2)));if(!_0x2bca1b){_0x577c3a['log'][_0x96f726(0xe4)]('üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x3c4a75+_0x96f726(0x129)),_0x6b66a[_0x96f726(0xdc)](_0x22eba5,0x1),_0x4fdc66=!![];continue;}if(_0x2bca1b){const _0x1d9b85=await findRelatedId(_0x577c3a,_0x2bca1b['id'],_0x96f726(0xca)),_0x27ccd0=await _0x577c3a[_0x96f726(0x95)](_0x2bca1b['id']);if(_0x1d9b85){const _0x4f3f2f=await _0x577c3a[_0x96f726(0x95)](_0x1d9b85);if(_0x4f3f2f&&typeof _0x4f3f2f[_0x96f726(0xb6)]===_0x96f726(0xba)){let _0x5b55ce=![],_0x3940dc='';Math[_0x96f726(0x9c)](_0x4f3f2f['val']-ECO_TEMP)>0.5&&(_0x5b55ce=!![],_0x3940dc='manual');if(!_0x5b55ce&&_0x27ccd0&&typeof _0x27ccd0[_0x96f726(0xb6)]==='number'){const _0x43fcca=_0x3ee411[_0x3c4a75]||_0x3ee411[_0x96f726(0xd6)]||0x15;_0x27ccd0[_0x96f726(0xb6)]<_0x43fcca+0.2&&(_0x5b55ce=!![],_0x3940dc=_0x96f726(0xf1));}if(_0x5b55ce){if(_0x3940dc==='manual'){_0x577c3a[_0x96f726(0xea)][_0x96f726(0x75)](_0x96f726(0xda)+_0x3c4a75+_0x96f726(0x85)+_0x4f3f2f[_0x96f726(0xb6)]+'¬∞C\x20(nicht\x20'+ECO_TEMP+_0x96f726(0x78));const _0x4db555=lastActions[_0x96f726(0x122)+_0x3c4a75],_0x50141b=_0x4db555&&Date[_0x96f726(0x71)]()-_0x4db555<0x2*0x3c*0x3e8;if(!_0x50141b&&_0x4f3f2f[_0x96f726(0xb6)]>ECO_TEMP+0.5){_0x577c3a[_0x96f726(0x11e)]&&(_0x577c3a[_0x96f726(0xea)]['info'](_0x96f726(0xff)+_0x3c4a75+_0x96f726(0x117)),_0x577c3a[_0x96f726(0x11e)](_0x96f726(0x109),{'room':_0x3c4a75}));const _0x429fe6=_0x3c4a75+'_'+new Date()[_0x96f726(0x100)]();if(!_0x56b3c3[_0x429fe6]){_0x56b3c3[_0x429fe6]=0x1;if(!_0x56b3c3[_0x96f726(0xad)])_0x56b3c3[_0x96f726(0xad)]={};_0x56b3c3[_0x96f726(0xad)][_0x429fe6]=Date[_0x96f726(0x71)](),_0x22a026=!![];}}else _0x50141b&&_0x577c3a['log'][_0x96f726(0x75)]('üìÖ\x20[MPC\x20INFO]\x20'+_0x3c4a75+_0x96f726(0xfd));}else{if(_0x3940dc===_0x96f726(0xf1)){let _0x5d5c58=![];if(_0x2e550c[_0x96f726(0x92)](_0x326a74=>_0x326a74[_0x96f726(0xac)]===_0x3c4a75))_0x5d5c58=!![];const _0xbb179=_0x476460[_0x96f726(0xd4)](_0x5e6ee7=>normalize(_0x5e6ee7[_0x96f726(0x9e)])===normalize(_0x3c4a75)&&(_0x5e6ee7[_0x96f726(0x9a)]===_0x96f726(0xe9)||_0x5e6ee7['type']==='sensor'||_0x5e6ee7[_0x96f726(0x9a)]===_0x96f726(0x7d)));for(const _0x4c1c0 of _0xbb179){try{const _0x5b7fa9=await _0x577c3a[_0x96f726(0x95)](_0x4c1c0['id']);if(_0x5b7fa9&&(_0x5b7fa9[_0x96f726(0xb6)]===!![]||_0x5b7fa9[_0x96f726(0xb6)]===0x1||String(_0x5b7fa9[_0x96f726(0xb6)])[_0x96f726(0x73)]()===_0x96f726(0x106)))_0x5d5c58=!![];}catch(_0x40400d){}}if(_0x5d5c58)_0x577c3a['log'][_0x96f726(0x75)](_0x96f726(0x6f)+_0x3c4a75+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x45259b=_0x3ee411[_0x3c4a75]||_0x3ee411[_0x96f726(0xd6)]||0x15;_0x577c3a[_0x96f726(0xea)]['info'](_0x96f726(0x7a)+_0x3c4a75+_0x96f726(0xb0)+_0x27ccd0[_0x96f726(0xb6)]+_0x96f726(0xd3)+(_0x45259b+0.2)+_0x96f726(0xae)),await _0x577c3a[_0x96f726(0x10f)](_0x1d9b85,_0x45259b),await logAutomationAction(_0x577c3a,_0x96f726(0x96)+_0x3c4a75+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x45259b+'¬∞C'),lastActions[_0x96f726(0x86)+_0x3c4a75]=Date['now']();}}}_0x6b66a['splice'](_0x22eba5,0x1),_0x4fdc66=!![];}}}}}_0x4fdc66&&await _0x577c3a[_0x96f726(0xa5)](_0xb9a624,{'val':JSON[_0x96f726(0xb8)](_0x6b66a),'ack':!![]}),_0x22a026&&await _0x577c3a[_0x96f726(0xa5)]('analysis.energy.rlPenalties',{'val':JSON[_0x96f726(0xb8)](_0x56b3c3),'ack':!![]});}catch(_0x33da88){}}async function applyEnergySavings(_0x36cb7c,_0x21aa51){const _0x503675=a1_0x343099;await cleanupGhostInterventions(_0x36cb7c);if(!_0x21aa51||_0x21aa51[_0x503675(0x127)]===0x0)return;const _0x3ef9d3=_0x36cb7c[_0x503675(0xb1)][_0x503675(0xc1)]||[],_0x15167f=Date[_0x503675(0x71)]();for(const _0x5e8744 of _0x21aa51){const _0x5acc14=_0x5e8744[_0x503675(0xac)],_0x41b876=_0x5e8744[_0x503675(0xe2)],_0x38fa18=_0x5e8744[_0x503675(0xb5)]||0x15;if(lastActions[_0x503675(0x86)+_0x5acc14]&&_0x15167f-lastActions[_0x503675(0x86)+_0x5acc14]<RESCUE_LOCK_MS)continue;const _0x5e4b91=_0x3ef9d3[_0x503675(0x92)](_0x59e3a7=>normalize(_0x59e3a7[_0x503675(0x9e)])===normalize(_0x5acc14)&&(_0x59e3a7[_0x503675(0x9a)]===_0x503675(0x110)||_0x59e3a7[_0x503675(0x9a)]===_0x503675(0xb2)));if(!_0x5e4b91)continue;const _0x51cdee=await findRelatedId(_0x36cb7c,_0x5e4b91['id'],_0x503675(0xca));if(_0x51cdee){if(lastActions[_0x503675(0xa2)+_0x5acc14]&&_0x15167f-lastActions[_0x503675(0xa2)+_0x5acc14]<0x1e*0x3c*0x3e8)continue;const _0x4269d0=await _0x36cb7c[_0x503675(0x95)](_0x51cdee);if(_0x4269d0&&typeof _0x4269d0['val']===_0x503675(0xba)){const _0x227ac8=_0x4269d0[_0x503675(0xb6)];_0x227ac8!==ECO_TEMP&&await manageMpcIntervention(_0x36cb7c,_0x5acc14,_0x503675(0xcd));if(_0x41b876>0x1e)_0x227ac8>ECO_TEMP+0.5&&(_0x36cb7c['log'][_0x503675(0x75)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x5acc14+'\x20auf\x20'+ECO_TEMP+_0x503675(0xb3)+_0x41b876+_0x503675(0x9b)),await _0x36cb7c['setForeignStateAsync'](_0x51cdee,ECO_TEMP),await manageMpcIntervention(_0x36cb7c,_0x5acc14,'add'),lastActions['mpc_'+_0x5acc14]=_0x15167f,await logAutomationAction(_0x36cb7c,_0x503675(0x93)+_0x5acc14+_0x503675(0xe8)+ECO_TEMP+'¬∞C'));else _0x41b876<=0xf&&(_0x227ac8<_0x38fa18&&(_0x36cb7c[_0x503675(0xea)][_0x503675(0x75)]('üî•\x20[MPC\x20ACTION]\x20Heize\x20'+_0x5acc14+_0x503675(0x79)+_0x38fa18+'¬∞C!\x20(Puffer\x20leer).'),await _0x36cb7c[_0x503675(0x10f)](_0x51cdee,_0x38fa18),await manageMpcIntervention(_0x36cb7c,_0x5acc14,'remove'),lastActions[_0x503675(0xa2)+_0x5acc14]=_0x15167f,await logAutomationAction(_0x36cb7c,_0x503675(0x93)+_0x5acc14+_0x503675(0xf0)+_0x38fa18+'¬∞C')));}}else _0x36cb7c[_0x503675(0xea)][_0x503675(0xe4)]('[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20'+_0x5acc14+_0x503675(0x9f));}}function a1_0x44fc(){const _0x17bef8=['splice','calendarInstance','position','active','analysis.automation.lastAction','analysis.energy.warmupTargets','minutes_safe','¬∞C\x20(via\x20','warn','\x20->\x20Schalte\x20','score','4mYpjcz',':\x20Absenkung\x20auf\x20','window','log','1zRxEPe','write','analysis.energy.warmupTimes','39033ORuJZj','¬∞C\x20(Vorlauf:\x20',':\x20Aufheizen\x20auf\x20','too_cold','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','thermostat.setpoint','slice','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','findIndex','reason','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','SET_POINT_TEMPERATURE','analysis.energy.activeEnforcements','summary','\x27\x20(Match:\x20','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','Unbekannt','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','getHours','system.mode','.1.TEMPERATURE','259110Ilbdwo','Nicht\x20gefunden','name','open','ACTUAL','Ist','TRAIN_RL_PENALTY','valveMapping','localeCompare','4799790gMDguW','ankunft','valve_position','setForeignStateAsync','temperature','Classic','16145890SjHGDJ',')\x20aktiv.\x20Heize\x20auf\x20','.1.SET_POINT_TEMPERATURE','21TQRVZz','(((.+)+)+)+$','\x20wurde\x20manuell\x20erh√∂ht.','isArray','messwert','error','indexOf','temp','actual','sendToPythonWrapper','Soll','normal','[CAL]\x20','cal_','date','SET','unshift','wert','length','sort','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','_calName','.1.LEVEL','forEach','Unknown','analysis.automation.confidenceThreshold','from','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','useCalendar','search','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','triggerTime','now','üìÖ\x20SMART\x20SCHEDULE\x20[','toLowerCase','.1.ACTUAL_TEMPERATURE','info','exports','analysis.energy.mpcActiveInterventions','¬∞C).\x20Entferne\x20Status.','\x20wieder\x20auf\x20','üö®\x20[MPC\x20WATCHDOG]\x20','pi_heating_demand','set','contact','1159376umVdrw','¬∞C.','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','\x20min).','target_temperature','openknx','includes','\x20ist\x20auf\x20','rescue_','Fehlt','event','role','valve','1335290anfmnv','join','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','analysis.automation.mode','analysis.energy.warmupSources','common','analysis.energy.schedulePreview','find','[MPC]\x20','push','getForeignStateAsync','[WATCHDOG]\x20','constructor','getStateAsync','.4.SET_TEMPERATURE','type','\x20min)','abs','occupied_heating_setpoint','location','\x20gefunden!','Auto-Erkennung','map','mpc_','consultButler','.data.table','setStateAsync','until','analysis.energy.ventilationAlerts','switch','approved','r√ºckkehr','getForeignObjectAsync','room','_meta','¬∞C).\x20Sparmodus\x20beendet!','off','\x20erreicht\x20Limit\x20(','config','thermostat','¬∞C!\x20(Puffer:\x20','1035238jvxZvi','target','val','Enforcement\x20Monitor\x20Error:\x20','stringify','analysis.automation.actionLog','number','¬∞C\x20->\x20','toString','calendarSelection','urlaub\x20ende','local_temperature',']:\x20Raum-Trigger\x20\x27','devices','sensor','\x20->\x20','Calendar\x20Check\x20Error:\x20','.4.VALVE_STATE','eventStart','_date','replace','split','setpoint','values','getTime','remove','parse','thermostatMapping','add','light','level.temperature','¬∞C\x20<\x20','filter','level','default','\x20auf\x20','string','unit','üßπ\x20[MPC\x20CLEANUP]\x20','soll'];a1_0x44fc=function(){return _0x17bef8;};return a1_0x44fc();}module[a1_0x343099(0x76)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};