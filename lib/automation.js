function a1_0xb16a(){const _0x474766=['191682VAHBAv','PrÃ¤diktion:\x20','toUpperCase','light','location','\x27\x20(norm:\x20\x27','(((.+)+)+)+$','analysis.automation.mode','toString','ðŸ”\x20Device-Search\x20failed:\x20Predicted\x20\x27','val','1584104tgtPeS','name','\x20->\x20Schalte\x20','dimmer','active','type','info','3fqSYFl','77rYNqiw','60XxNwPl','setStateAsync','find','Unknown','exports','devices','off','analysis.automation.lastAction','simulate','8256nKCRhP','trim','\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.','getStateAsync','search','apply','setForeignStateAsync','getForeignStateAsync','./ai_agent','306804HsFAmH','reason','1103970KHLxEM','consultButler','analysis.automation.confidenceThreshold','650404uaJRYF','debug','15870eJqKxg','log','[BLOCKED]\x20'];a1_0xb16a=function(){return _0x474766;};return a1_0xb16a();}const a1_0x3e0ad0=a1_0x2d22;(function(_0x3e19df,_0x1fb133){const _0xaf8a64=a1_0x2d22,_0x59d04c=_0x3e19df();while(!![]){try{const _0x3177d7=parseInt(_0xaf8a64(0x18f))/0x1+parseInt(_0xaf8a64(0x188))/0x2+-parseInt(_0xaf8a64(0x174))/0x3*(parseInt(_0xaf8a64(0x18d))/0x4)+parseInt(_0xaf8a64(0x18a))/0x5+-parseInt(_0xaf8a64(0x17f))/0x6*(parseInt(_0xaf8a64(0x175))/0x7)+-parseInt(_0xaf8a64(0x16d))/0x8+parseInt(_0xaf8a64(0x192))/0x9*(parseInt(_0xaf8a64(0x176))/0xa);if(_0x3177d7===_0x1fb133)break;else _0x59d04c['push'](_0x59d04c['shift']());}catch(_0x519539){_0x59d04c['push'](_0x59d04c['shift']());}}}(a1_0xb16a,0x22b18));const a1_0x1c8b08=(function(){let _0x2a7fbb=!![];return function(_0x53b7a1,_0x3039d2){const _0x535dff=_0x2a7fbb?function(){const _0x4e1465=a1_0x2d22;if(_0x3039d2){const _0x3c36b1=_0x3039d2[_0x4e1465(0x184)](_0x53b7a1,arguments);return _0x3039d2=null,_0x3c36b1;}}:function(){};return _0x2a7fbb=![],_0x535dff;};}()),a1_0x5c2945=a1_0x1c8b08(this,function(){const _0x3e4627=a1_0x2d22;return a1_0x5c2945[_0x3e4627(0x16a)]()[_0x3e4627(0x183)](_0x3e4627(0x168))['toString']()['constructor'](a1_0x5c2945)[_0x3e4627(0x183)](_0x3e4627(0x168));});a1_0x5c2945();function a1_0x2d22(_0x49a2b6,_0x41ac07){const _0x57d910=a1_0xb16a();return a1_0x2d22=function(_0x5c2945,_0x1c8b08){_0x5c2945=_0x5c2945-0x166;let _0xb16abc=_0x57d910[_0x5c2945];return _0xb16abc;},a1_0x2d22(_0x49a2b6,_0x41ac07);}'use strict';const aiAgent=require(a1_0x3e0ad0(0x187)),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function normalize(_0x26f89c){const _0x3ec749=a1_0x3e0ad0;if(!_0x26f89c)return'';return _0x26f89c['toLowerCase']()['replace'](/\s+/g,'')[_0x3ec749(0x180)]();}async function handlePrediction(_0x2588a0,_0x2bfb44,_0x44e823){const _0x29265d=a1_0x3e0ad0;if(!_0x2bfb44||_0x2bfb44===_0x29265d(0x179))return;let _0x1417dc='off',_0x542915=0.6;try{const _0xc25b55=await _0x2588a0[_0x29265d(0x182)](_0x29265d(0x169));if(_0xc25b55&&_0xc25b55['val'])_0x1417dc=_0xc25b55['val'];const _0x2c245d=await _0x2588a0['getStateAsync'](_0x29265d(0x18c));if(_0x2c245d&&_0x2c245d[_0x29265d(0x16c)])_0x542915=_0x2c245d[_0x29265d(0x16c)];}catch(_0x28e5a5){}if(_0x1417dc===_0x29265d(0x17c))return;if(_0x44e823<_0x542915)return;const _0xff3716=Date['now']();if(lastActions[_0x2bfb44]&&_0xff3716-lastActions[_0x2bfb44]<COOLDOWN_MS)return;const _0x1eb1c9=_0x2588a0['config'][_0x29265d(0x17b)]||[],_0x11d064=normalize(_0x2bfb44),_0x513ff8=_0x1eb1c9[_0x29265d(0x178)](_0x14d91e=>{const _0x3e5ada=_0x29265d;return normalize(_0x14d91e[_0x3e5ada(0x166)])===_0x11d064&&(_0x14d91e[_0x3e5ada(0x172)]===_0x3e5ada(0x195)||_0x14d91e[_0x3e5ada(0x172)]===_0x3e5ada(0x170)||_0x14d91e['type']==='switch');});if(!_0x513ff8){const _0x1ebb41=_0x29265d(0x16b)+_0x2bfb44+_0x29265d(0x167)+_0x11d064+_0x29265d(0x181);_0x2588a0[_0x29265d(0x190)][_0x29265d(0x18e)](_0x1ebb41);return;}const _0x4edf53=await aiAgent[_0x29265d(0x18b)](_0x2588a0,_0x2bfb44,_0x513ff8['name'],_0x44e823);if(!_0x4edf53['approved']){_0x2588a0['log'][_0x29265d(0x18e)]('ðŸ¤–\x20Butler\x20Blocked:\x20'+_0x2bfb44+'\x20->\x20'+_0x4edf53[_0x29265d(0x189)]),await _0x2588a0[_0x29265d(0x177)](_0x29265d(0x17d),{'val':_0x29265d(0x191)+_0x4edf53['reason'],'ack':!![]});return;}const _0x1e4463=_0x29265d(0x193)+_0x2bfb44+_0x29265d(0x16f)+_0x513ff8[_0x29265d(0x16e)]+'\x20('+_0x4edf53[_0x29265d(0x189)]+')';await _0x2588a0[_0x29265d(0x177)](_0x29265d(0x17d),{'val':'['+_0x1417dc[_0x29265d(0x194)]()+']\x20'+_0x1e4463,'ack':!![]});if(_0x1417dc===_0x29265d(0x17e))_0x2588a0[_0x29265d(0x190)][_0x29265d(0x173)]('ðŸ‘€\x20SIMULATION:\x20'+_0x1e4463);else{if(_0x1417dc===_0x29265d(0x171)){_0x2588a0[_0x29265d(0x190)][_0x29265d(0x173)]('âš¡\x20ACTION:\x20'+_0x1e4463);const _0xd20009=await _0x2588a0[_0x29265d(0x186)](_0x513ff8['id']);if(_0xd20009&&(_0xd20009['val']===!![]||_0xd20009['val']>0x0)){}else await _0x2588a0[_0x29265d(0x185)](_0x513ff8['id'],!![]);lastActions[_0x2bfb44]=_0xff3716;}}}module[a1_0x3e0ad0(0x17a)]={'handlePrediction':handlePrediction};