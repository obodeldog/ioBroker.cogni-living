const a1_0x20fa5e=a1_0x56e4;(function(_0x325e11,_0x272d3e){const _0x409f6a=a1_0x56e4,_0x52841b=_0x325e11();while(!![]){try{const _0x5ae5bc=parseInt(_0x409f6a(0x159))/0x1+-parseInt(_0x409f6a(0x139))/0x2*(-parseInt(_0x409f6a(0x1af))/0x3)+-parseInt(_0x409f6a(0x19a))/0x4*(parseInt(_0x409f6a(0x170))/0x5)+-parseInt(_0x409f6a(0x158))/0x6+parseInt(_0x409f6a(0x18a))/0x7+-parseInt(_0x409f6a(0x1b5))/0x8+parseInt(_0x409f6a(0x1c3))/0x9;if(_0x5ae5bc===_0x272d3e)break;else _0x52841b['push'](_0x52841b['shift']());}catch(_0x19ae39){_0x52841b['push'](_0x52841b['shift']());}}}(a1_0x3419,0x1da84));const a1_0x2b82cd=(function(){let _0x2d38e6=!![];return function(_0x53c1dd,_0x576d55){const _0xd84b21=_0x2d38e6?function(){const _0x6d579e=a1_0x56e4;if(_0x576d55){const _0x1b4bb4=_0x576d55[_0x6d579e(0x150)](_0x53c1dd,arguments);return _0x576d55=null,_0x1b4bb4;}}:function(){};return _0x2d38e6=![],_0xd84b21;};}()),a1_0xdf2532=a1_0x2b82cd(this,function(){const _0x1474d4=a1_0x56e4;return a1_0xdf2532['toString']()[_0x1474d4(0x1c1)](_0x1474d4(0x10a))['toString']()[_0x1474d4(0x122)](a1_0xdf2532)[_0x1474d4(0x1c1)]('(((.+)+)+)+$');});a1_0xdf2532();'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x53c47b){const _0x5917a1=a1_0x56e4;if(!_0x53c47b)return'';return _0x53c47b['toLowerCase']()[_0x5917a1(0x1c5)](/\s+/g,'')[_0x5917a1(0x173)]();}function getWarmupRobust(_0x44c71d,_0x290546){const _0x5a9a1c=a1_0x56e4;if(!_0x44c71d||!_0x290546)return 0x3c;if(_0x44c71d[_0x290546]!==undefined)return _0x44c71d[_0x290546];const _0x43f0cc=_0x290546[_0x5a9a1c(0x19d)]()[_0x5a9a1c(0x1c5)](/√§/g,'ae')[_0x5a9a1c(0x1c5)](/√∂/g,'oe')[_0x5a9a1c(0x1c5)](/√º/g,'ue')[_0x5a9a1c(0x1c5)](/√ü/g,'ss')[_0x5a9a1c(0x1c5)](/\s+/g,'_')['replace'](/[^a-z0-9_]/g,'');if(_0x44c71d[_0x43f0cc]!==undefined)return _0x44c71d[_0x43f0cc];return 0x3c;}async function logAutomationAction(_0x2bf6e4,_0x1b5b29){const _0x526756=a1_0x56e4;await _0x2bf6e4[_0x526756(0x169)](_0x526756(0x12b),{'val':_0x1b5b29,'ack':!![]});try{const _0xa719de=_0x526756(0x112),_0xaf7cc0=await _0x2bf6e4[_0x526756(0x11d)](_0xa719de);let _0x35a573=[];if(_0xaf7cc0&&_0xaf7cc0[_0x526756(0x142)])try{_0x35a573=JSON[_0x526756(0x118)](_0xaf7cc0[_0x526756(0x142)]);}catch(_0x4258af){}_0x35a573[_0x526756(0x10e)]({'ts':Date[_0x526756(0x1b2)](),'msg':_0x1b5b29});if(_0x35a573[_0x526756(0x113)]>0x32)_0x35a573=_0x35a573[_0x526756(0x171)](0x0,0x32);await _0x2bf6e4[_0x526756(0x169)](_0xa719de,{'val':JSON[_0x526756(0x1b0)](_0x35a573),'ack':!![]});}catch(_0x462698){}}async function handlePrediction(_0x3d5aa0,_0x577382,_0x3266dd){const _0x524b03=a1_0x56e4;if(!_0x577382||_0x577382===_0x524b03(0x16e))return;let _0x34e6ec=_0x524b03(0x13c),_0x40b4e1=0.6;try{const _0xf7725f=await _0x3d5aa0[_0x524b03(0x11d)](_0x524b03(0x16c));if(_0xf7725f&&_0xf7725f[_0x524b03(0x142)])_0x34e6ec=_0xf7725f[_0x524b03(0x142)];const _0x5c3cec=await _0x3d5aa0[_0x524b03(0x11d)]('analysis.automation.confidenceThreshold');if(_0x5c3cec&&_0x5c3cec[_0x524b03(0x142)])_0x40b4e1=_0x5c3cec['val'];}catch(_0xded417){}if(_0x34e6ec===_0x524b03(0x13c)||_0x3266dd<_0x40b4e1)return;const _0x1e5c7f=Date['now']();if(lastActions[_0x577382]&&_0x1e5c7f-lastActions[_0x577382]<COOLDOWN_MS)return;const _0x2c035f=_0x3d5aa0[_0x524b03(0x175)]['devices']||[],_0x2659db=normalize(_0x577382),_0x4d22a0=_0x2c035f[_0x524b03(0x15c)](_0x460066=>normalize(_0x460066['location'])===_0x2659db&&(_0x460066[_0x524b03(0x1a2)]===_0x524b03(0x1a4)||_0x460066['type']===_0x524b03(0x1b3)||_0x460066[_0x524b03(0x1a2)]===_0x524b03(0x1ab)));if(!_0x4d22a0)return;const _0x3149ad=await aiAgent[_0x524b03(0x135)](_0x3d5aa0,_0x577382,_0x4d22a0[_0x524b03(0x192)],_0x3266dd);if(!_0x3149ad['approved'])return;const _0x4a1aa3=_0x524b03(0x13b)+_0x577382+_0x524b03(0x137)+_0x4d22a0[_0x524b03(0x192)]+'\x20('+_0x3149ad['reason']+')';await logAutomationAction(_0x3d5aa0,'['+_0x34e6ec[_0x524b03(0x1c2)]()+']\x20'+_0x4a1aa3);if(_0x34e6ec==='active'){const _0x42e16c=await _0x3d5aa0[_0x524b03(0x198)](_0x4d22a0['id']);(!_0x42e16c||!_0x42e16c[_0x524b03(0x142)]&&_0x42e16c['val']!==!![])&&await _0x3d5aa0[_0x524b03(0x154)](_0x4d22a0['id'],!![]),lastActions[_0x577382]=_0x1e5c7f;}}function a1_0x56e4(_0x3b339b,_0x4721ae){const _0xe2e40=a1_0x3419();return a1_0x56e4=function(_0xdf2532,_0x2b82cd){_0xdf2532=_0xdf2532-0x103;let _0x341942=_0xe2e40[_0xdf2532];return _0x341942;},a1_0x56e4(_0x3b339b,_0x4721ae);}async function findRelatedId(_0x264ad4,_0x1b1fb3,_0x2b61d2=a1_0x20fa5e(0x116)){const _0x2e3745=a1_0x20fa5e;if(_0x2b61d2===_0x2e3745(0x116)&&_0x264ad4['config'][_0x2e3745(0x106)]){let _0x5582f6=_0x264ad4[_0x2e3745(0x175)][_0x2e3745(0x106)];if(typeof _0x5582f6===_0x2e3745(0x124))try{_0x5582f6=JSON['parse'](_0x5582f6);}catch(_0xeace64){}if(_0x5582f6&&_0x5582f6[_0x1b1fb3])return _0x5582f6[_0x1b1fb3];}if(_0x2b61d2===_0x2e3745(0x13d)&&_0x264ad4['config'][_0x2e3745(0x1c7)]){let _0x57d87f=_0x264ad4['config'][_0x2e3745(0x1c7)];if(typeof _0x57d87f==='string')try{_0x57d87f=JSON['parse'](_0x57d87f);}catch(_0x17b77d){}if(_0x57d87f&&_0x57d87f[_0x1b1fb3])return _0x57d87f[_0x1b1fb3];}let _0x34119f=[];if(_0x2b61d2===_0x2e3745(0x116))_0x34119f=[{'s':_0x2e3745(0x15a),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x2e3745(0x111),'t':_0x2e3745(0x10d)},{'s':'.1.TEMPERATURE','t':_0x2e3745(0x120)},{'s':_0x2e3745(0x134),'t':_0x2e3745(0x188)},{'s':_0x2e3745(0x1a1),'t':_0x2e3745(0x13a)},{'s':_0x2e3745(0x1a1),'t':_0x2e3745(0x176)},{'s':_0x2e3745(0x127),'t':_0x2e3745(0x183)},{'s':_0x2e3745(0x1bc),'t':'SET'},{'s':_0x2e3745(0x157),'t':_0x2e3745(0x11a)},{'s':_0x2e3745(0x127),'t':_0x2e3745(0x116)}];else _0x2b61d2===_0x2e3745(0x13d)&&(_0x34119f=[{'s':_0x2e3745(0x15a),'t':_0x2e3745(0x1ae)},{'s':_0x2e3745(0x111),'t':_0x2e3745(0x1ae)},{'s':_0x2e3745(0x111),'t':_0x2e3745(0x17a)},{'s':'local_temperature','t':_0x2e3745(0x162)},{'s':_0x2e3745(0x127),'t':_0x2e3745(0x163)},{'s':_0x2e3745(0x127),'t':_0x2e3745(0x144)}]);for(const _0x568e1d of _0x34119f){if(_0x1b1fb3[_0x2e3745(0x184)](_0x568e1d['s'])){const _0x4c85a4=_0x1b1fb3['replace'](_0x568e1d['s'],_0x568e1d['t']),_0x488623=await _0x264ad4[_0x2e3745(0x1aa)](_0x4c85a4);if(_0x488623)return _0x4c85a4;}}try{const _0x5648d5=_0x1b1fb3[_0x2e3745(0x10c)]('.');if(_0x5648d5[_0x2e3745(0x113)]>0x2){const _0x4757ed=_0x5648d5[_0x2e3745(0x171)](0x0,-0x1)[_0x2e3745(0x189)]('.'),_0x42989d=await _0x264ad4[_0x2e3745(0x186)](_0x4757ed+'.*'),_0x298dd2=[],_0x565d1f=_0x1b1fb3[_0x2e3745(0x10c)](/[._]+/)[_0x2e3745(0x1bb)](_0x484133=>![_0x2e3745(0x121),'0',_0x2e3745(0x185),_0x2e3745(0x108),_0x2e3745(0x195),_0x2e3745(0x127),_0x2e3745(0x151),_0x2e3745(0x156),_0x2e3745(0x15f),'state'][_0x2e3745(0x184)](_0x484133[_0x2e3745(0x19d)]()));for(const [_0x1c6be,_0x2e6863]of Object[_0x2e3745(0x128)](_0x42989d)){if(_0x1c6be===_0x1b1fb3)continue;if(_0x2e6863&&_0x2e6863['common']){const _0x124903=_0x1c6be['toLowerCase'](),_0x9203d3=(_0x2e6863['common'][_0x2e3745(0x18b)]||'')[_0x2e3745(0x19d)](),_0x25e10e=(_0x2e6863[_0x2e3745(0x1c4)][_0x2e3745(0x182)]||'')[_0x2e3745(0x19d)]();let _0x1b62de=![];if(_0x2b61d2===_0x2e3745(0x116)&&_0x2e6863[_0x2e3745(0x1c4)][_0x2e3745(0x14b)]===!![])_0x1b62de=_0x124903['includes'](_0x2e3745(0x193))||_0x124903['includes'](_0x2e3745(0x1be))||_0x124903[_0x2e3745(0x184)]('target')||_0x9203d3[_0x2e3745(0x184)](_0x2e3745(0x12c))||_0x9203d3['includes'](_0x2e3745(0x19f));else _0x2b61d2==='valve'&&(_0x1b62de=_0x124903[_0x2e3745(0x184)](_0x2e3745(0x144))||_0x124903['includes'](_0x2e3745(0x13d))||_0x124903[_0x2e3745(0x184)](_0x2e3745(0x17d))||_0x124903[_0x2e3745(0x184)]('position')||_0x9203d3[_0x2e3745(0x184)](_0x2e3745(0x143))||_0x9203d3['includes'](_0x2e3745(0x161))||_0x25e10e[_0x2e3745(0x184)]('%'));if(_0x1b62de){const _0x45e333=_0x1c6be[_0x2e3745(0x10c)](/[._]+/)[_0x2e3745(0x138)](_0x3b9482=>_0x3b9482['toLowerCase']());let _0x1c439c=0x0;_0x565d1f[_0x2e3745(0x13f)](_0x584548=>{const _0x5bf9aa=_0x2e3745;if(_0x45e333[_0x5bf9aa(0x184)](_0x584548[_0x5bf9aa(0x19d)]()))_0x1c439c++;}),_0x298dd2[_0x2e3745(0x117)]({'id':_0x1c6be,'score':_0x1c439c});}}}if(_0x298dd2['length']>0x0){_0x298dd2[_0x2e3745(0x131)]((_0x2e7bd0,_0x2c8fb0)=>_0x2c8fb0[_0x2e3745(0x15b)]-_0x2e7bd0[_0x2e3745(0x15b)]);if(_0x298dd2[0x0][_0x2e3745(0x15b)]>0x0)return _0x298dd2[0x0]['id'];}}}catch(_0x4d4184){}return null;}function a1_0x3419(){const _0x321146=['üìÖ\x20[MPC\x20INFO]\x20','info','write','open','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','\x20ist\x20auf\x20',':\x20Absenkung\x20auf\x20','apply','actual',')\x20aktiv.\x20Heize\x20auf\x20','üßπ\x20[MPC\x20CLEANUP]\x20','setForeignStateAsync','\x20min).','sensor','Ist','1272936ghlrNl','47958MYAdvs','.1.ACTUAL_TEMPERATURE','score','find','manual','devices','messwert','¬∞C\x20<\x20','value.valve','pi_heating_demand','valve_position','summary','findIndex','Nicht\x20gefunden','triggerTime','¬∞C).\x20Sparmodus\x20beendet!','setStateAsync','add','warn','analysis.automation.mode','sendToPythonWrapper','Unknown','window','5xLGJYf','slice','_calName','trim','remove','config','current_heating_setpoint','error','room','location','.4.VALVE_STATE','default','üî•\x20[MPC\x20ACTION]\x20Heize\x20','stellwert','isArray','¬∞C\x20(Kalender-Schutz)',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','_date','unit','target_temperature','includes','hm-rpc','getForeignObjectsAsync','ankunft','SET_POINT_TEMPERATURE','join','478625eFgtvE','role','\x20->\x20','getTime','¬∞C!\x20(Puffer:\x20','[FORCE]\x20','until','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','name','set','values','wert','r√ºckkehr','\x20wieder\x20auf\x20','getForeignStateAsync','thermostat','881972aaroPR','Manuelles\x20Mapping','¬∞C!\x20(Puffer\x20leer).','toLowerCase','rescue_','thermostat.setpoint','from','local_temperature','type','splice','light','urlaub\x20ende','analysis.energy.ventilationAlerts','analysis.energy.warmupSources','\x20min)','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','getForeignObjectAsync','switch','useCalendar','event','.1.LEVEL','753VykDjJ','stringify','analysis.energy.mpcActiveInterventions','now','dimmer','\x27\x20(Match:\x20','949352dBqcJf','analysis.energy.warmupTimes','minutes_safe','_meta','¬∞C\x20->\x20','analysis.energy.activeEnforcements','filter','ACTUAL','temp','soll','calendarSelection','Fehlt','search','toUpperCase','2997639BzczVF','common','replace','cal_','valveMapping','üìÖ\x20SMART\x20SCHEDULE\x20[','¬∞C\x20(nicht\x20','analysis.energy.warmupTargets','thermostatMapping','number','ist','analysis.energy.schedulePreview','(((.+)+)+)+$','üö®\x20[MPC\x20WATCHDOG]\x20','split','.1.SET_POINT_TEMPERATURE','unshift','eventStart','too_cold','.1.TEMPERATURE','analysis.automation.actionLog','length','indexOf','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','setpoint','push','parse','\x20auf\x20','Soll','mpc_','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','getStateAsync','.data.table','[WATCHDOG]\x20','.4.SET_TEMPERATURE','openknx','constructor','date','string','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','Enforcement\x20Monitor\x20Error:\x20','temperature','entries','exports','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','analysis.automation.lastAction','level.temperature','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','message','Classic','sort','system.mode','log','ACTUAL_TEMPERATURE','consultButler','target','\x20->\x20Schalte\x20','map','1780dSWKev','occupied_heating_setpoint','Pr√§diktion:\x20','off','valve','calendarInstance','forEach','¬∞C\x20(Vorlauf:\x20','analysis.energy.rlPenalties','val','level.valve','level','[MPC]\x20','contact',']:\x20Raum-Trigger\x20\x27','\x20wurde\x20manuell\x20erh√∂ht.'];a1_0x3419=function(){return _0x321146;};return a1_0x3419();}async function scanThermostats(_0x27d87e){const _0x258616=a1_0x20fa5e,_0x5d6053=_0x27d87e['config']['devices']||[],_0x58d111=[],_0x47b676=_0x5d6053[_0x258616(0x1bb)](_0x3482b7=>_0x3482b7['id']&&_0x3482b7['id'][_0x258616(0x184)](_0x258616(0x127))||_0x3482b7[_0x258616(0x1a2)]&&[_0x258616(0x127),_0x258616(0x199),_0x258616(0x156)][_0x258616(0x184)](_0x3482b7['type'])||_0x3482b7['name']&&_0x3482b7[_0x258616(0x192)][_0x258616(0x19d)]()['includes'](_0x258616(0x1bd)));for(const _0x436b40 of _0x47b676){const _0x34ba47=await findRelatedId(_0x27d87e,_0x436b40['id'],_0x258616(0x116)),_0x3dbb24=await findRelatedId(_0x27d87e,_0x436b40['id'],'valve');let _0x5b0d17=_0x258616(0x166),_0x3b3fea=![],_0x184e5c=_0x27d87e[_0x258616(0x175)][_0x258616(0x106)]||{};if(typeof _0x184e5c===_0x258616(0x124))try{_0x184e5c=JSON[_0x258616(0x118)](_0x184e5c);}catch(_0x4e7d43){}let _0x37624a=_0x27d87e[_0x258616(0x175)][_0x258616(0x1c7)]||{};if(typeof _0x37624a===_0x258616(0x124))try{_0x37624a=JSON['parse'](_0x37624a);}catch(_0x19e6e5){}if(_0x184e5c[_0x436b40['id']]&&_0x184e5c[_0x436b40['id']]===_0x34ba47||_0x37624a[_0x436b40['id']]&&_0x37624a[_0x436b40['id']]===_0x3dbb24)_0x5b0d17=_0x258616(0x19b),_0x3b3fea=!![];else(_0x34ba47||_0x3dbb24)&&(_0x5b0d17='Auto-Erkennung');_0x58d111[_0x258616(0x117)]({'room':_0x436b40[_0x258616(0x179)]||'Unbekannt','sensorId':_0x436b40['id'],'setpointId':_0x34ba47||'-','valveId':_0x3dbb24||'-','source':_0x5b0d17,'isManual':_0x3b3fea,'status':_0x34ba47&&_0x3dbb24?'PERFECT':_0x34ba47?'OK':_0x258616(0x1c0)});}return _0x58d111[_0x258616(0x131)]((_0x266712,_0x3b85c0)=>_0x266712[_0x258616(0x178)]['localeCompare'](_0x3b85c0[_0x258616(0x178)]));}async function updateSchedulePreview(_0x134d88){const _0x2564ef=a1_0x20fa5e;if(!_0x134d88[_0x2564ef(0x175)][_0x2564ef(0x1ac)]||!_0x134d88[_0x2564ef(0x175)]['calendarInstance'])return;let _0x1a9528={};try{const _0x48acbf=await _0x134d88[_0x2564ef(0x11d)](_0x2564ef(0x1b6));if(_0x48acbf&&_0x48acbf[_0x2564ef(0x142)])_0x1a9528=JSON[_0x2564ef(0x118)](_0x48acbf['val']);}catch(_0x3c48b7){}const _0x1ca7e5=[],_0x142c5f=Date[_0x2564ef(0x1b2)](),_0x24ff75=0x30*0x3c*0x3c*0x3e8;try{const _0x3dcb71=await _0x134d88['getForeignStateAsync'](_0x134d88[_0x2564ef(0x175)]['calendarInstance']+_0x2564ef(0x11e));if(!_0x3dcb71||!_0x3dcb71[_0x2564ef(0x142)])return;const _0x57d28a=JSON[_0x2564ef(0x118)](_0x3dcb71[_0x2564ef(0x142)]),_0x444ede=_0x134d88[_0x2564ef(0x175)][_0x2564ef(0x1bf)]||[],_0x4c6365=_0x134d88[_0x2564ef(0x175)][_0x2564ef(0x15e)]||[],_0x384f95=new Set();_0x4c6365[_0x2564ef(0x13f)](_0x4bb004=>{const _0x3dfe0b=_0x2564ef;if(_0x4bb004[_0x3dfe0b(0x179)])_0x384f95[_0x3dfe0b(0x16a)](_0x4bb004[_0x3dfe0b(0x179)]);});for(const _0x173473 of _0x57d28a){if(_0x173473['_calName']&&_0x444ede[_0x2564ef(0x113)]>0x0&&!_0x444ede[_0x2564ef(0x184)](_0x173473[_0x2564ef(0x172)]))continue;const _0x359cdf=_0x173473[_0x2564ef(0x181)]||_0x173473[_0x2564ef(0x10f)]||_0x173473[_0x2564ef(0x123)];if(!_0x359cdf)continue;const _0x5c18b4=new Date(_0x359cdf),_0x4dc8c0=_0x5c18b4[_0x2564ef(0x18d)]();if(isNaN(_0x4dc8c0))continue;if(_0x4dc8c0<_0x142c5f)continue;if(_0x4dc8c0>_0x142c5f+_0x24ff75)continue;const _0x3f53f4=(_0x173473['event']||_0x173473[_0x2564ef(0x164)]||'')[_0x2564ef(0x19d)]();let _0x57b3ca=![],_0x2d288e=[],_0x1e2d9d=_0x173473[_0x2564ef(0x1ad)]||_0x173473[_0x2564ef(0x164)]||'Unbekannt';if(_0x3f53f4[_0x2564ef(0x184)](_0x2564ef(0x1a5))||_0x3f53f4[_0x2564ef(0x184)](_0x2564ef(0x196))||_0x3f53f4[_0x2564ef(0x184)](_0x2564ef(0x187)))_0x57b3ca=!![],_0x2d288e=Array[_0x2564ef(0x1a0)](_0x384f95);else for(const _0x5ce223 of _0x384f95){if(_0x3f53f4[_0x2564ef(0x184)](_0x5ce223[_0x2564ef(0x19d)]()))_0x2d288e[_0x2564ef(0x117)](_0x5ce223);}_0x2d288e[_0x2564ef(0x113)]>0x0&&_0x2d288e[_0x2564ef(0x13f)](_0x1835ac=>{const _0x2ef887=_0x2564ef;let _0x257717=0x3c;if(_0x57b3ca){let _0x30d2cf=0x0;Object['values'](_0x1a9528)[_0x2ef887(0x13f)](_0x75ce38=>{if(_0x75ce38>_0x30d2cf)_0x30d2cf=_0x75ce38;}),_0x257717=_0x30d2cf>0x0?_0x30d2cf:0x78;}else _0x257717=getWarmupRobust(_0x1a9528,_0x1835ac);const _0x3ee9e1=new Date(_0x4dc8c0-_0x257717*0xea60);_0x1ca7e5['push']({'eventTime':_0x4dc8c0,'triggerTime':_0x3ee9e1[_0x2ef887(0x18d)](),'room':_0x1835ac,'minutes':_0x257717,'reason':_0x1e2d9d,'isGlobal':_0x57b3ca});});}}catch(_0xa04626){}_0x1ca7e5[_0x2564ef(0x131)]((_0x30c43b,_0x5b8151)=>_0x30c43b[_0x2564ef(0x167)]-_0x5b8151[_0x2564ef(0x167)]);const _0x79ee0f=_0x1ca7e5['slice'](0x0,0x5);await _0x134d88[_0x2564ef(0x169)](_0x2564ef(0x109),{'val':JSON[_0x2564ef(0x1b0)](_0x79ee0f),'ack':!![]});}async function monitorEnforcements(_0x4b276f){const _0x1cee45=a1_0x20fa5e;try{const _0xf2ede=_0x1cee45(0x1ba),_0x5702d6=await _0x4b276f[_0x1cee45(0x11d)](_0xf2ede);if(!_0x5702d6||!_0x5702d6[_0x1cee45(0x142)])return;let _0x7030cc=[];try{_0x7030cc=JSON[_0x1cee45(0x118)](_0x5702d6['val']);}catch(_0x39355a){return;}if(!Array[_0x1cee45(0x17e)](_0x7030cc)||_0x7030cc[_0x1cee45(0x113)]===0x0)return;const _0x25451b=Date[_0x1cee45(0x1b2)](),_0x4d630a=_0x4b276f[_0x1cee45(0x175)][_0x1cee45(0x15e)]||[];let _0x245118=![];for(let _0x17c5eb=_0x7030cc[_0x1cee45(0x113)]-0x1;_0x17c5eb>=0x0;_0x17c5eb--){const _0x2dc2d1=_0x7030cc[_0x17c5eb];if(_0x25451b>=_0x2dc2d1[_0x1cee45(0x190)]){_0x4b276f[_0x1cee45(0x133)][_0x1cee45(0x14a)](_0x1cee45(0x12e)+_0x2dc2d1[_0x1cee45(0x178)]+_0x1cee45(0x115)),_0x7030cc[_0x1cee45(0x1a3)](_0x17c5eb,0x1),_0x245118=!![];continue;}const _0x373060=_0x4d630a['find'](_0x10c081=>normalize(_0x10c081['location'])===normalize(_0x2dc2d1['room'])&&(_0x10c081['type']===_0x1cee45(0x127)||_0x10c081['type']===_0x1cee45(0x199)));if(_0x373060){const _0x2a86ab=await findRelatedId(_0x4b276f,_0x373060['id'],_0x1cee45(0x116));if(_0x2a86ab){const _0x22987d=await _0x4b276f['getForeignStateAsync'](_0x2a86ab);_0x22987d&&typeof _0x22987d[_0x1cee45(0x142)]===_0x1cee45(0x107)&&(_0x22987d['val']<0xf&&(_0x4b276f[_0x1cee45(0x133)][_0x1cee45(0x16b)](_0x1cee45(0x1a9)+_0x2dc2d1['room']+'\x20auf\x20'+_0x22987d[_0x1cee45(0x142)]+'¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20'+_0x2dc2d1[_0x1cee45(0x136)]+'¬∞C.'),await _0x4b276f['setForeignStateAsync'](_0x2a86ab,_0x2dc2d1[_0x1cee45(0x136)]),await logAutomationAction(_0x4b276f,_0x1cee45(0x18f)+_0x2dc2d1[_0x1cee45(0x178)]+':\x20'+_0x22987d['val']+_0x1cee45(0x1b9)+_0x2dc2d1[_0x1cee45(0x136)]+_0x1cee45(0x17f))));}}}_0x245118&&await _0x4b276f['setStateAsync'](_0xf2ede,{'val':JSON['stringify'](_0x7030cc),'ack':!![]});}catch(_0x11fee8){_0x4b276f[_0x1cee45(0x133)][_0x1cee45(0x177)](_0x1cee45(0x126)+_0x11fee8[_0x1cee45(0x12f)]);}}async function checkCalendarTriggers(_0x4604df){const _0x2100f3=a1_0x20fa5e;if(!_0x4604df[_0x2100f3(0x175)][_0x2100f3(0x1ac)]||!_0x4604df[_0x2100f3(0x175)][_0x2100f3(0x13e)])return;await updateSchedulePreview(_0x4604df);let _0x254509={},_0x4a6f9f={};try{const _0x4c599e=await _0x4604df[_0x2100f3(0x11d)](_0x2100f3(0x1b6));if(_0x4c599e&&_0x4c599e[_0x2100f3(0x142)])_0x254509=JSON[_0x2100f3(0x118)](_0x4c599e[_0x2100f3(0x142)]);const _0x4a6833=await _0x4604df[_0x2100f3(0x11d)](_0x2100f3(0x1a7));if(_0x4a6833&&_0x4a6833[_0x2100f3(0x142)])_0x4a6f9f=JSON[_0x2100f3(0x118)](_0x4a6833['val']);}catch(_0x394eef){}let _0x1d52bb={'default':0x15};try{const _0x3f211b=await _0x4604df['getStateAsync'](_0x2100f3(0x105));if(_0x3f211b&&_0x3f211b['val'])_0x1d52bb=JSON[_0x2100f3(0x118)](_0x3f211b[_0x2100f3(0x142)]);}catch(_0x49a1af){}let _0x46bb4b=[];try{const _0x2098cc=await _0x4604df[_0x2100f3(0x11d)](_0x2100f3(0x1ba));if(_0x2098cc&&_0x2098cc[_0x2100f3(0x142)])_0x46bb4b=JSON['parse'](_0x2098cc['val']);}catch(_0x29d3c3){}try{const _0x8c31f0=await _0x4604df['getForeignStateAsync'](_0x4604df[_0x2100f3(0x175)][_0x2100f3(0x13e)]+_0x2100f3(0x11e));if(!_0x8c31f0||!_0x8c31f0[_0x2100f3(0x142)])return;const _0x2d5acf=JSON['parse'](_0x8c31f0['val']),_0x41fd3a=Date[_0x2100f3(0x1b2)](),_0x368499=_0x4604df['config']['devices']||[],_0x3cce4b=_0x4604df[_0x2100f3(0x175)][_0x2100f3(0x1bf)]||[];let _0x5d406a=![];for(const _0x3f3889 of _0x2d5acf){if(_0x3f3889['_calName']&&_0x3cce4b[_0x2100f3(0x113)]>0x0&&!_0x3cce4b[_0x2100f3(0x184)](_0x3f3889[_0x2100f3(0x172)]))continue;const _0x220bb1=_0x3f3889['_date']||_0x3f3889[_0x2100f3(0x10f)]||_0x3f3889[_0x2100f3(0x123)];if(!_0x220bb1)continue;const _0x399d8e=new Date(_0x220bb1);if(isNaN(_0x399d8e['getTime']()))continue;const _0x2c3514=(_0x3f3889[_0x2100f3(0x1ad)]||_0x3f3889[_0x2100f3(0x164)]||'')[_0x2100f3(0x19d)]();if(_0x2c3514['includes'](_0x2100f3(0x1a5))||_0x2c3514[_0x2100f3(0x184)](_0x2100f3(0x196))||_0x2c3514[_0x2100f3(0x184)]('ankunft')){let _0x114567=0x0;Object[_0x2100f3(0x194)](_0x254509)[_0x2100f3(0x13f)](_0x1504ae=>{if(_0x1504ae>_0x114567)_0x114567=_0x1504ae;});if(_0x114567===0x0)_0x114567=0x78;const _0x3dc2b5=_0x399d8e[_0x2100f3(0x18d)]()-_0x114567*0xea60;_0x41fd3a>=_0x3dc2b5&&_0x41fd3a<_0x399d8e[_0x2100f3(0x18d)]()&&(_0x4604df['currentSystemMode']!=='normal'&&(_0x4604df[_0x2100f3(0x133)][_0x2100f3(0x14a)](_0x2100f3(0x12a)+_0x114567+_0x2100f3(0x155)),await _0x4604df['setStateAsync'](_0x2100f3(0x132),{'val':'normal','ack':![]})));}for(const _0x4288cb of _0x368499){if(_0x4288cb['location']){const _0x5d1eb4=_0x4288cb[_0x2100f3(0x179)]['toLowerCase'](),_0x2cb9c6=(_0x4288cb['name']||'')['toLowerCase']();let _0x4cc1c2=_0x2c3514['includes'](_0x5d1eb4);!_0x4cc1c2&&_0x2cb9c6[_0x2100f3(0x113)]>0x3&&_0x2c3514[_0x2100f3(0x184)](_0x2cb9c6)&&(_0x4cc1c2=!![]);if(_0x4cc1c2){const _0x1ded09=getWarmupRobust(_0x254509,_0x4288cb[_0x2100f3(0x179)]),_0x3e654e=_0x4a6f9f[_0x4288cb[_0x2100f3(0x179)]]||_0x2100f3(0x130),_0x2192da=_0x399d8e[_0x2100f3(0x18d)]()-_0x1ded09*0xea60;if(_0x41fd3a>=_0x2192da&&_0x41fd3a<_0x399d8e[_0x2100f3(0x18d)]()){const _0x1a08e2=lastActions['cal_'+_0x4288cb['location']];if(_0x1a08e2&&_0x41fd3a-_0x1a08e2<CAL_COOLDOWN_MS)continue;const _0x376435=await findRelatedId(_0x4604df,_0x4288cb['id'],_0x2100f3(0x116));if(_0x376435){let _0x121c5a=_0x1d52bb[_0x4288cb[_0x2100f3(0x179)]];if(_0x121c5a===undefined)_0x121c5a=_0x1d52bb[_0x2100f3(0x17b)];if(_0x121c5a===undefined)_0x121c5a=0x15;const _0x1ea80f=await _0x4604df[_0x2100f3(0x198)](_0x376435);if(_0x1ea80f&&typeof _0x1ea80f[_0x2100f3(0x142)]==='number'&&_0x1ea80f[_0x2100f3(0x142)]<_0x121c5a-0.5){_0x4604df[_0x2100f3(0x133)][_0x2100f3(0x14a)](_0x2100f3(0x103)+_0x3e654e+_0x2100f3(0x147)+_0x4288cb['location']+_0x2100f3(0x1b4)+_0x2c3514+_0x2100f3(0x152)+_0x121c5a+_0x2100f3(0x140)+_0x1ded09+_0x2100f3(0x155)),await _0x4604df['setForeignStateAsync'](_0x376435,_0x121c5a),await logAutomationAction(_0x4604df,'[CAL]\x20'+_0x4288cb[_0x2100f3(0x179)]+_0x2100f3(0x18c)+_0x121c5a+'¬∞C\x20(via\x20'+_0x3e654e+')'),lastActions[_0x2100f3(0x1c6)+_0x4288cb[_0x2100f3(0x179)]]=_0x41fd3a;const _0x56f9b2=_0x46bb4b[_0x2100f3(0x165)](_0x21b2f6=>_0x21b2f6['room']===_0x4288cb[_0x2100f3(0x179)]);if(_0x56f9b2!==-0x1)_0x46bb4b[_0x2100f3(0x1a3)](_0x56f9b2,0x1);_0x46bb4b[_0x2100f3(0x117)]({'room':_0x4288cb['location'],'target':_0x121c5a,'until':_0x399d8e[_0x2100f3(0x18d)]()}),_0x5d406a=!![];}}}}}}}_0x5d406a&&await _0x4604df[_0x2100f3(0x169)](_0x2100f3(0x1ba),{'val':JSON['stringify'](_0x46bb4b),'ack':!![]});}catch(_0x4d4b69){_0x4604df['log'][_0x2100f3(0x16b)]('Calendar\x20Check\x20Error:\x20'+_0x4d4b69[_0x2100f3(0x12f)]);}}async function manageMpcIntervention(_0x1c076e,_0x3f14f5,_0x4ceb70){const _0x548d78=a1_0x20fa5e;try{const _0x207fc4=_0x548d78(0x1b1),_0x4056b9=await _0x1c076e[_0x548d78(0x11d)](_0x207fc4);let _0x1d00d6=[];if(_0x4056b9&&_0x4056b9[_0x548d78(0x142)])try{_0x1d00d6=JSON['parse'](_0x4056b9[_0x548d78(0x142)]);}catch(_0x30e64f){}const _0x51719f=_0x1d00d6[_0x548d78(0x114)](_0x3f14f5);if(_0x4ceb70===_0x548d78(0x16a))_0x51719f===-0x1&&(_0x1d00d6[_0x548d78(0x117)](_0x3f14f5),await _0x1c076e[_0x548d78(0x169)](_0x207fc4,{'val':JSON[_0x548d78(0x1b0)](_0x1d00d6),'ack':!![]}));else _0x4ceb70===_0x548d78(0x174)&&(_0x51719f!==-0x1&&(_0x1d00d6[_0x548d78(0x1a3)](_0x51719f,0x1),await _0x1c076e[_0x548d78(0x169)](_0x207fc4,{'val':JSON[_0x548d78(0x1b0)](_0x1d00d6),'ack':!![]})));}catch(_0x1396ce){}}async function cleanupGhostInterventions(_0x26a754){const _0x372a9f=a1_0x20fa5e;try{const _0xb5ea16=_0x372a9f(0x1b1),_0x14465c=await _0x26a754['getStateAsync'](_0xb5ea16);if(!_0x14465c||!_0x14465c[_0x372a9f(0x142)])return;const _0x57714c=JSON['parse'](_0x14465c['val']);if(!Array[_0x372a9f(0x17e)](_0x57714c)||_0x57714c[_0x372a9f(0x113)]===0x0)return;let _0xb43324={'default':0x15};try{const _0x574d79=await _0x26a754[_0x372a9f(0x11d)](_0x372a9f(0x105));if(_0x574d79&&_0x574d79['val'])_0xb43324=JSON[_0x372a9f(0x118)](_0x574d79['val']);}catch(_0x57ae5f){}let _0x3a1d48=[];try{const _0xbe8ca6=await _0x26a754[_0x372a9f(0x11d)](_0x372a9f(0x1a6));if(_0xbe8ca6&&_0xbe8ca6[_0x372a9f(0x142)])_0x3a1d48=JSON[_0x372a9f(0x118)](_0xbe8ca6[_0x372a9f(0x142)]);}catch(_0x47a6c9){}let _0x3b3072={},_0x58547c=![];try{const _0x798887=await _0x26a754[_0x372a9f(0x11d)](_0x372a9f(0x141));if(_0x798887&&_0x798887[_0x372a9f(0x142)])_0x3b3072=JSON[_0x372a9f(0x118)](_0x798887[_0x372a9f(0x142)]);}catch(_0x4fdca6){}if(_0x3b3072[_0x372a9f(0x1b8)]){const _0x4ea082=Date[_0x372a9f(0x1b2)]();for(const [_0x3624e3,_0x1b5b2a]of Object[_0x372a9f(0x128)](_0x3b3072[_0x372a9f(0x1b8)])){_0x4ea082-_0x1b5b2a>PENALTY_TTL&&(delete _0x3b3072[_0x3624e3],delete _0x3b3072[_0x372a9f(0x1b8)][_0x3624e3],_0x58547c=!![],_0x26a754[_0x372a9f(0x133)][_0x372a9f(0x14a)](_0x372a9f(0x12d)+_0x3624e3+_0x372a9f(0x125)));}}const _0x5e798b=_0x26a754[_0x372a9f(0x175)][_0x372a9f(0x15e)]||[];let _0x99c69c=![];for(let _0x4c3998=_0x57714c[_0x372a9f(0x113)]-0x1;_0x4c3998>=0x0;_0x4c3998--){const _0x22cf61=_0x57714c[_0x4c3998],_0x1d59a1=_0x5e798b[_0x372a9f(0x15c)](_0x1af8d7=>normalize(_0x1af8d7[_0x372a9f(0x179)])===normalize(_0x22cf61)&&(_0x1af8d7[_0x372a9f(0x1a2)]===_0x372a9f(0x127)||_0x1af8d7[_0x372a9f(0x1a2)]===_0x372a9f(0x199)));if(!_0x1d59a1){_0x26a754[_0x372a9f(0x133)][_0x372a9f(0x16b)]('üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x22cf61+_0x372a9f(0x14d)),_0x57714c[_0x372a9f(0x1a3)](_0x4c3998,0x1),_0x99c69c=!![];continue;}if(_0x1d59a1){const _0x38fc10=await findRelatedId(_0x26a754,_0x1d59a1['id'],_0x372a9f(0x116)),_0x37e907=await _0x26a754['getForeignStateAsync'](_0x1d59a1['id']);if(_0x38fc10){const _0x5becc3=await _0x26a754['getForeignStateAsync'](_0x38fc10);if(_0x5becc3&&typeof _0x5becc3['val']===_0x372a9f(0x107)){let _0x12131b=![],_0x5364d2='';Math['abs'](_0x5becc3['val']-ECO_TEMP)>0.5&&(_0x12131b=!![],_0x5364d2=_0x372a9f(0x15d));if(!_0x12131b&&_0x37e907&&typeof _0x37e907['val']===_0x372a9f(0x107)){const _0x1f1d3d=_0xb43324[_0x22cf61]||_0xb43324['default']||0x15;_0x37e907[_0x372a9f(0x142)]<_0x1f1d3d+0.2&&(_0x12131b=!![],_0x5364d2=_0x372a9f(0x110));}if(_0x12131b){if(_0x5364d2===_0x372a9f(0x15d)){_0x26a754[_0x372a9f(0x133)][_0x372a9f(0x14a)](_0x372a9f(0x153)+_0x22cf61+_0x372a9f(0x14e)+_0x5becc3[_0x372a9f(0x142)]+_0x372a9f(0x104)+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0x2cf346=lastActions[_0x372a9f(0x1c6)+_0x22cf61],_0x469430=_0x2cf346&&Date['now']()-_0x2cf346<0x2*0x3c*0x3e8;if(!_0x469430&&_0x5becc3[_0x372a9f(0x142)]>ECO_TEMP+0.5){_0x26a754[_0x372a9f(0x16d)]&&(_0x26a754[_0x372a9f(0x133)][_0x372a9f(0x14a)](_0x372a9f(0x11c)+_0x22cf61+_0x372a9f(0x148)),_0x26a754['sendToPythonWrapper']('TRAIN_RL_PENALTY',{'room':_0x22cf61}));const _0xf86216=_0x22cf61+'_'+new Date()['getHours']();if(!_0x3b3072[_0xf86216]){_0x3b3072[_0xf86216]=0x1;if(!_0x3b3072[_0x372a9f(0x1b8)])_0x3b3072[_0x372a9f(0x1b8)]={};_0x3b3072[_0x372a9f(0x1b8)][_0xf86216]=Date[_0x372a9f(0x1b2)](),_0x58547c=!![];}}else _0x469430&&_0x26a754['log'][_0x372a9f(0x14a)](_0x372a9f(0x149)+_0x22cf61+_0x372a9f(0x191));}else{if(_0x5364d2===_0x372a9f(0x110)){let _0x2ab08e=![];if(_0x3a1d48['find'](_0x486482=>_0x486482[_0x372a9f(0x178)]===_0x22cf61))_0x2ab08e=!![];const _0x48fcbb=_0x5e798b['filter'](_0x14d8ed=>normalize(_0x14d8ed[_0x372a9f(0x179)])===normalize(_0x22cf61)&&(_0x14d8ed[_0x372a9f(0x1a2)]===_0x372a9f(0x16f)||_0x14d8ed[_0x372a9f(0x1a2)]===_0x372a9f(0x156)||_0x14d8ed[_0x372a9f(0x1a2)]===_0x372a9f(0x146)));for(const _0x35f79f of _0x48fcbb){try{const _0x248b8a=await _0x26a754[_0x372a9f(0x198)](_0x35f79f['id']);if(_0x248b8a&&(_0x248b8a[_0x372a9f(0x142)]===!![]||_0x248b8a['val']===0x1||String(_0x248b8a['val'])[_0x372a9f(0x19d)]()===_0x372a9f(0x14c)))_0x2ab08e=!![];}catch(_0x3053a9){}}if(_0x2ab08e)_0x26a754[_0x372a9f(0x133)][_0x372a9f(0x14a)]('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x22cf61+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x1c2694=_0xb43324[_0x22cf61]||_0xb43324[_0x372a9f(0x17b)]||0x15;_0x26a754[_0x372a9f(0x133)]['info'](_0x372a9f(0x10b)+_0x22cf61+'\x20erreicht\x20Limit\x20('+_0x37e907[_0x372a9f(0x142)]+_0x372a9f(0x160)+(_0x1c2694+0.2)+_0x372a9f(0x168)),await _0x26a754[_0x372a9f(0x154)](_0x38fc10,_0x1c2694),await logAutomationAction(_0x26a754,_0x372a9f(0x11f)+_0x22cf61+_0x372a9f(0x180)+_0x1c2694+'¬∞C'),lastActions[_0x372a9f(0x19e)+_0x22cf61]=Date[_0x372a9f(0x1b2)]();}}}_0x57714c['splice'](_0x4c3998,0x1),_0x99c69c=!![];}}}}}_0x99c69c&&await _0x26a754[_0x372a9f(0x169)](_0xb5ea16,{'val':JSON[_0x372a9f(0x1b0)](_0x57714c),'ack':!![]}),_0x58547c&&await _0x26a754[_0x372a9f(0x169)]('analysis.energy.rlPenalties',{'val':JSON[_0x372a9f(0x1b0)](_0x3b3072),'ack':!![]});}catch(_0x28a722){}}async function applyEnergySavings(_0x4e2072,_0x28598c){const _0x4e51af=a1_0x20fa5e;await cleanupGhostInterventions(_0x4e2072);if(!_0x28598c||_0x28598c[_0x4e51af(0x113)]===0x0)return;const _0x30ab93=_0x4e2072[_0x4e51af(0x175)][_0x4e51af(0x15e)]||[],_0x40521b=Date[_0x4e51af(0x1b2)]();for(const _0x899c7c of _0x28598c){const _0x454926=_0x899c7c[_0x4e51af(0x178)],_0x16fbd8=_0x899c7c[_0x4e51af(0x1b7)],_0x3d080e=_0x899c7c[_0x4e51af(0x136)]||0x15;if(lastActions[_0x4e51af(0x19e)+_0x454926]&&_0x40521b-lastActions[_0x4e51af(0x19e)+_0x454926]<RESCUE_LOCK_MS)continue;const _0x5f3d5a=_0x30ab93[_0x4e51af(0x15c)](_0x4459ab=>normalize(_0x4459ab['location'])===normalize(_0x454926)&&(_0x4459ab[_0x4e51af(0x1a2)]===_0x4e51af(0x127)||_0x4459ab[_0x4e51af(0x1a2)]===_0x4e51af(0x199)));if(!_0x5f3d5a)continue;const _0x11f993=await findRelatedId(_0x4e2072,_0x5f3d5a['id'],'setpoint');if(_0x11f993){if(lastActions[_0x4e51af(0x11b)+_0x454926]&&_0x40521b-lastActions['mpc_'+_0x454926]<0x1e*0x3c*0x3e8)continue;const _0x46ce91=await _0x4e2072['getForeignStateAsync'](_0x11f993);if(_0x46ce91&&typeof _0x46ce91[_0x4e51af(0x142)]===_0x4e51af(0x107)){const _0x20033f=_0x46ce91[_0x4e51af(0x142)];_0x20033f!==ECO_TEMP&&await manageMpcIntervention(_0x4e2072,_0x454926,_0x4e51af(0x174));if(_0x16fbd8>0x1e)_0x20033f>ECO_TEMP+0.5&&(_0x4e2072['log'][_0x4e51af(0x14a)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x454926+_0x4e51af(0x119)+ECO_TEMP+_0x4e51af(0x18e)+_0x16fbd8+_0x4e51af(0x1a8)),await _0x4e2072[_0x4e51af(0x154)](_0x11f993,ECO_TEMP),await manageMpcIntervention(_0x4e2072,_0x454926,_0x4e51af(0x16a)),lastActions[_0x4e51af(0x11b)+_0x454926]=_0x40521b,await logAutomationAction(_0x4e2072,_0x4e51af(0x145)+_0x454926+_0x4e51af(0x14f)+ECO_TEMP+'¬∞C'));else _0x16fbd8<=0xf&&(_0x20033f<_0x3d080e&&(_0x4e2072[_0x4e51af(0x133)][_0x4e51af(0x14a)](_0x4e51af(0x17c)+_0x454926+_0x4e51af(0x197)+_0x3d080e+_0x4e51af(0x19c)),await _0x4e2072[_0x4e51af(0x154)](_0x11f993,_0x3d080e),await manageMpcIntervention(_0x4e2072,_0x454926,_0x4e51af(0x174)),lastActions['mpc_'+_0x454926]=_0x40521b,await logAutomationAction(_0x4e2072,_0x4e51af(0x145)+_0x454926+':\x20Aufheizen\x20auf\x20'+_0x3d080e+'¬∞C')));}}else _0x4e2072[_0x4e51af(0x133)][_0x4e51af(0x16b)]('[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20'+_0x454926+'\x20gefunden!');}}module[a1_0x20fa5e(0x129)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};