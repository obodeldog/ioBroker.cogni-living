const a1_0x1ea947=a1_0x3c21;function a1_0x5d7d(){const _0x326c4b=['active','setForeignStateAsync','\x20->\x20Schalte\x20','setStateAsync','ðŸ”\x20Device-Search\x20failed:\x20Predicted\x20\x27','analysis.automation.confidenceThreshold','search','apply','ðŸ¤–\x20Butler\x20Blocked:\x20','(((.+)+)+)+$','approved','simulate','val','log','now','light','\x27\x20(norm:\x20\x27','trim','type','getStateAsync','location','27481useogq','\x20->\x20','off','toLowerCase','reason','debug','âš¡\x20ACTION:\x20','toString','./ai_agent','getForeignStateAsync','2311308DbTFck','switch','find','consultButler','config','exports','2315820oRzXSy','2BHeCeO','21dxuhds','ðŸ‘€\x20SIMULATION:\x20','name','\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.','10FNgKqQ','PrÃ¤diktion:\x20','dimmer','1816371yICPfz','24qEgAxU','1392162nospNP','1145148eTvhxR','devices','replace','9871257SDEdKM'];a1_0x5d7d=function(){return _0x326c4b;};return a1_0x5d7d();}function a1_0x3c21(_0x419d85,_0x26db04){const _0x575b9d=a1_0x5d7d();return a1_0x3c21=function(_0x8a1b91,_0x5c2bd1){_0x8a1b91=_0x8a1b91-0x85;let _0x5d7d00=_0x575b9d[_0x8a1b91];return _0x5d7d00;},a1_0x3c21(_0x419d85,_0x26db04);}(function(_0x3edacc,_0x7de8a){const _0x435ab5=a1_0x3c21,_0xa0349b=_0x3edacc();while(!![]){try{const _0x462a0b=parseInt(_0x435ab5(0x90))/0x1*(parseInt(_0x435ab5(0xa1))/0x2)+-parseInt(_0x435ab5(0x9a))/0x3+parseInt(_0x435ab5(0xac))/0x4*(parseInt(_0x435ab5(0xa6))/0x5)+parseInt(_0x435ab5(0xab))/0x6*(-parseInt(_0x435ab5(0xa2))/0x7)+-parseInt(_0x435ab5(0xaa))/0x8*(-parseInt(_0x435ab5(0xa9))/0x9)+-parseInt(_0x435ab5(0xa0))/0xa+parseInt(_0x435ab5(0xaf))/0xb;if(_0x462a0b===_0x7de8a)break;else _0xa0349b['push'](_0xa0349b['shift']());}catch(_0x2b4d52){_0xa0349b['push'](_0xa0349b['shift']());}}}(a1_0x5d7d,0x62d40));const a1_0x5c2bd1=(function(){let _0xeb2832=!![];return function(_0x373c14,_0x284814){const _0x2a1941=_0xeb2832?function(){const _0x20fceb=a1_0x3c21;if(_0x284814){const _0x5936d1=_0x284814[_0x20fceb(0xb7)](_0x373c14,arguments);return _0x284814=null,_0x5936d1;}}:function(){};return _0xeb2832=![],_0x2a1941;};}()),a1_0x8a1b91=a1_0x5c2bd1(this,function(){const _0xec2fa5=a1_0x3c21;return a1_0x8a1b91['toString']()[_0xec2fa5(0xb6)](_0xec2fa5(0xb9))[_0xec2fa5(0x97)]()['constructor'](a1_0x8a1b91)[_0xec2fa5(0xb6)](_0xec2fa5(0xb9));});a1_0x8a1b91();'use strict';const aiAgent=require(a1_0x1ea947(0x98)),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function normalize(_0x59206d){const _0x5eb3be=a1_0x1ea947;if(!_0x59206d)return'';return _0x59206d[_0x5eb3be(0x93)]()[_0x5eb3be(0xae)](/\s+/g,'')[_0x5eb3be(0x8c)]();}async function handlePrediction(_0x37be4c,_0x4cc4b9,_0x1bc0c2){const _0x327409=a1_0x1ea947;if(!_0x4cc4b9||_0x4cc4b9==='Unknown')return;let _0x4ba905='off',_0x579914=0.6;try{const _0x30efa1=await _0x37be4c[_0x327409(0x8e)]('analysis.automation.mode');if(_0x30efa1&&_0x30efa1[_0x327409(0x87)])_0x4ba905=_0x30efa1[_0x327409(0x87)];const _0x406f6c=await _0x37be4c['getStateAsync'](_0x327409(0xb5));if(_0x406f6c&&_0x406f6c[_0x327409(0x87)])_0x579914=_0x406f6c[_0x327409(0x87)];}catch(_0x934f4e){}if(_0x4ba905===_0x327409(0x92))return;if(_0x1bc0c2<_0x579914)return;const _0x1b3d07=Date[_0x327409(0x89)]();if(lastActions[_0x4cc4b9]&&_0x1b3d07-lastActions[_0x4cc4b9]<COOLDOWN_MS)return;const _0x24ad7a=_0x37be4c[_0x327409(0x9e)][_0x327409(0xad)]||[],_0x4411f4=normalize(_0x4cc4b9),_0x37ef84=_0x24ad7a[_0x327409(0x9c)](_0x330cb4=>{const _0x40bef7=_0x327409;return normalize(_0x330cb4[_0x40bef7(0x8f)])===_0x4411f4&&(_0x330cb4[_0x40bef7(0x8d)]===_0x40bef7(0x8a)||_0x330cb4[_0x40bef7(0x8d)]===_0x40bef7(0xa8)||_0x330cb4[_0x40bef7(0x8d)]===_0x40bef7(0x9b));});if(!_0x37ef84){const _0x216479=_0x327409(0xb4)+_0x4cc4b9+_0x327409(0x8b)+_0x4411f4+_0x327409(0xa5);_0x37be4c[_0x327409(0x88)][_0x327409(0x95)](_0x216479);return;}const _0x452779=await aiAgent[_0x327409(0x9d)](_0x37be4c,_0x4cc4b9,_0x37ef84[_0x327409(0xa4)],_0x1bc0c2);if(!_0x452779[_0x327409(0x85)]){_0x37be4c[_0x327409(0x88)]['debug'](_0x327409(0xb8)+_0x4cc4b9+_0x327409(0x91)+_0x452779[_0x327409(0x94)]),await _0x37be4c[_0x327409(0xb3)]('analysis.automation.lastAction',{'val':'[BLOCKED]\x20'+_0x452779[_0x327409(0x94)],'ack':!![]});return;}const _0x3f93e3=_0x327409(0xa7)+_0x4cc4b9+_0x327409(0xb2)+_0x37ef84[_0x327409(0xa4)]+'\x20('+_0x452779[_0x327409(0x94)]+')';await _0x37be4c[_0x327409(0xb3)]('analysis.automation.lastAction',{'val':'['+_0x4ba905['toUpperCase']()+']\x20'+_0x3f93e3,'ack':!![]});if(_0x4ba905===_0x327409(0x86))_0x37be4c[_0x327409(0x88)]['info'](_0x327409(0xa3)+_0x3f93e3);else{if(_0x4ba905===_0x327409(0xb0)){_0x37be4c['log']['info'](_0x327409(0x96)+_0x3f93e3);const _0x2c704b=await _0x37be4c[_0x327409(0x99)](_0x37ef84['id']);if(_0x2c704b&&(_0x2c704b[_0x327409(0x87)]===!![]||_0x2c704b['val']>0x0)){}else await _0x37be4c[_0x327409(0xb1)](_0x37ef84['id'],!![]);lastActions[_0x4cc4b9]=_0x1b3d07;}}}module[a1_0x1ea947(0x9f)]={'handlePrediction':handlePrediction};