const a1_0x46d267=a1_0x45ab;(function(_0x3fa85c,_0x3c961e){const _0x55d2af=a1_0x45ab,_0x4b515f=_0x3fa85c();while(!![]){try{const _0x276358=-parseInt(_0x55d2af(0x1c0))/0x1+-parseInt(_0x55d2af(0x1c1))/0x2+-parseInt(_0x55d2af(0x1b3))/0x3+-parseInt(_0x55d2af(0x1a4))/0x4*(-parseInt(_0x55d2af(0x1ba))/0x5)+-parseInt(_0x55d2af(0x195))/0x6+-parseInt(_0x55d2af(0x1a2))/0x7+-parseInt(_0x55d2af(0x1b2))/0x8*(-parseInt(_0x55d2af(0x1a0))/0x9);if(_0x276358===_0x3c961e)break;else _0x4b515f['push'](_0x4b515f['shift']());}catch(_0x55d71e){_0x4b515f['push'](_0x4b515f['shift']());}}}(a1_0x1060,0xdd7f2));const a1_0x17d59e=(function(){let _0xddb6d1=!![];return function(_0x2f951b,_0x1ee9c8){const _0x2b4358=_0xddb6d1?function(){const _0x54bf47=a1_0x45ab;if(_0x1ee9c8){const _0x4fe5ff=_0x1ee9c8[_0x54bf47(0x1aa)](_0x2f951b,arguments);return _0x1ee9c8=null,_0x4fe5ff;}}:function(){};return _0xddb6d1=![],_0x2b4358;};}()),a1_0x29518b=a1_0x17d59e(this,function(){const _0x1e3a70=a1_0x45ab;return a1_0x29518b['toString']()[_0x1e3a70(0x1af)]('(((.+)+)+)+$')[_0x1e3a70(0x1ab)]()[_0x1e3a70(0x1a7)](a1_0x29518b)[_0x1e3a70(0x1af)]('(((.+)+)+)+$');});a1_0x29518b();function a1_0x45ab(_0xb2d933,_0xd03e1){const _0x1dd1d1=a1_0x1060();return a1_0x45ab=function(_0x29518b,_0x17d59e){_0x29518b=_0x29518b-0x195;let _0x106052=_0x1dd1d1[_0x29518b];return _0x106052;},a1_0x45ab(_0xb2d933,_0xd03e1);}'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function a1_0x1060(){const _0x1ba9b9=['\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.','setStateAsync','dimmer','ðŸ”\x20Device-Search\x20failed:\x20Predicted\x20\x27','replace','trim','switch','light','getForeignStateAsync','222273ZqwwaJ','analysis.automation.mode','11052398hcaBjN','\x27\x20(norm:\x20\x27','238976KSenwC','type','log','constructor','âš¡\x20ACTION:\x20','[BLOCKED]\x20','apply','toString','approved','debug','ðŸ¤–\x20Butler\x20Blocked:\x20','search','name','active','1824FBKSrd','3412509wyUkFM','config','info','getStateAsync','setForeignStateAsync','toUpperCase','\x20->\x20Schalte\x20','80afsjNH','ðŸ‘€\x20SIMULATION:\x20','consultButler','find','reason','off','1649391vykRmQ','2536606wYAbbc','analysis.automation.lastAction','exports','val','272754dJlJvI','toLowerCase'];a1_0x1060=function(){return _0x1ba9b9;};return a1_0x1060();}function normalize(_0x432e5d){const _0x1f9dc6=a1_0x45ab;if(!_0x432e5d)return'';return _0x432e5d[_0x1f9dc6(0x196)]()[_0x1f9dc6(0x19b)](/\s+/g,'')[_0x1f9dc6(0x19c)]();}async function handlePrediction(_0x1bc7b1,_0x496344,_0x37d8fd){const _0x2d6c04=a1_0x45ab;if(!_0x496344||_0x496344==='Unknown')return;let _0x5888d4=_0x2d6c04(0x1bf),_0x417100=0.6;try{const _0x291867=await _0x1bc7b1[_0x2d6c04(0x1b6)](_0x2d6c04(0x1a1));if(_0x291867&&_0x291867['val'])_0x5888d4=_0x291867[_0x2d6c04(0x1c4)];const _0xdee908=await _0x1bc7b1[_0x2d6c04(0x1b6)]('analysis.automation.confidenceThreshold');if(_0xdee908&&_0xdee908['val'])_0x417100=_0xdee908[_0x2d6c04(0x1c4)];}catch(_0x354538){}if(_0x5888d4===_0x2d6c04(0x1bf))return;if(_0x37d8fd<_0x417100)return;const _0x120217=Date['now']();if(lastActions[_0x496344]&&_0x120217-lastActions[_0x496344]<COOLDOWN_MS)return;const _0x2ac4ae=_0x1bc7b1[_0x2d6c04(0x1b4)]['devices']||[],_0x29a731=normalize(_0x496344),_0x3230ac=_0x2ac4ae[_0x2d6c04(0x1bd)](_0x3e82cc=>{const _0x515c58=_0x2d6c04;return normalize(_0x3e82cc['location'])===_0x29a731&&(_0x3e82cc[_0x515c58(0x1a5)]===_0x515c58(0x19e)||_0x3e82cc[_0x515c58(0x1a5)]===_0x515c58(0x199)||_0x3e82cc[_0x515c58(0x1a5)]===_0x515c58(0x19d));});if(!_0x3230ac){const _0x1648db=_0x2d6c04(0x19a)+_0x496344+_0x2d6c04(0x1a3)+_0x29a731+_0x2d6c04(0x197);_0x1bc7b1['log'][_0x2d6c04(0x1ad)](_0x1648db);return;}const _0x388996=await aiAgent[_0x2d6c04(0x1bc)](_0x1bc7b1,_0x496344,_0x3230ac['name'],_0x37d8fd);if(!_0x388996[_0x2d6c04(0x1ac)]){_0x1bc7b1[_0x2d6c04(0x1a6)][_0x2d6c04(0x1ad)](_0x2d6c04(0x1ae)+_0x496344+'\x20->\x20'+_0x388996[_0x2d6c04(0x1be)]),await _0x1bc7b1[_0x2d6c04(0x198)](_0x2d6c04(0x1c2),{'val':_0x2d6c04(0x1a9)+_0x388996[_0x2d6c04(0x1be)],'ack':!![]});return;}const _0x5c5a69='PrÃ¤diktion:\x20'+_0x496344+_0x2d6c04(0x1b9)+_0x3230ac[_0x2d6c04(0x1b0)]+'\x20('+_0x388996[_0x2d6c04(0x1be)]+')';await _0x1bc7b1[_0x2d6c04(0x198)](_0x2d6c04(0x1c2),{'val':'['+_0x5888d4[_0x2d6c04(0x1b8)]()+']\x20'+_0x5c5a69,'ack':!![]});if(_0x5888d4==='simulate')_0x1bc7b1[_0x2d6c04(0x1a6)]['info'](_0x2d6c04(0x1bb)+_0x5c5a69);else{if(_0x5888d4===_0x2d6c04(0x1b1)){_0x1bc7b1['log'][_0x2d6c04(0x1b5)](_0x2d6c04(0x1a8)+_0x5c5a69);const _0x28dfd4=await _0x1bc7b1[_0x2d6c04(0x19f)](_0x3230ac['id']);if(_0x28dfd4&&(_0x28dfd4['val']===!![]||_0x28dfd4[_0x2d6c04(0x1c4)]>0x0)){}else await _0x1bc7b1[_0x2d6c04(0x1b7)](_0x3230ac['id'],!![]);lastActions[_0x496344]=_0x120217;}}}module[a1_0x46d267(0x1c3)]={'handlePrediction':handlePrediction};