const a1_0x358d44=a1_0x3457;(function(_0x303ed0,_0x15675d){const _0x497b1e=a1_0x3457,_0x446007=_0x303ed0();while(!![]){try{const _0x4be9f0=parseInt(_0x497b1e(0x207))/0x1*(-parseInt(_0x497b1e(0x1a8))/0x2)+parseInt(_0x497b1e(0x1a0))/0x3+parseInt(_0x497b1e(0x241))/0x4+parseInt(_0x497b1e(0x1f4))/0x5+parseInt(_0x497b1e(0x242))/0x6*(-parseInt(_0x497b1e(0x235))/0x7)+-parseInt(_0x497b1e(0x1ae))/0x8+parseInt(_0x497b1e(0x226))/0x9;if(_0x4be9f0===_0x15675d)break;else _0x446007['push'](_0x446007['shift']());}catch(_0xaa51b9){_0x446007['push'](_0x446007['shift']());}}}(a1_0x47a0,0xc68de));const a1_0x34f3c9=(function(){let _0x2f81a5=!![];return function(_0x332501,_0xda6768){const _0x4932df=_0x2f81a5?function(){const _0x16a1fd=a1_0x3457;if(_0xda6768){const _0x357723=_0xda6768[_0x16a1fd(0x206)](_0x332501,arguments);return _0xda6768=null,_0x357723;}}:function(){};return _0x2f81a5=![],_0x4932df;};}()),a1_0x18a76c=a1_0x34f3c9(this,function(){const _0x17fe73=a1_0x3457;return a1_0x18a76c['toString']()[_0x17fe73(0x19d)](_0x17fe73(0x1ed))[_0x17fe73(0x1df)]()[_0x17fe73(0x1f0)](a1_0x18a76c)[_0x17fe73(0x19d)]('(((.+)+)+)+$');});a1_0x18a76c();'use strict';const aiAgent=require(a1_0x358d44(0x1ab)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x26ffc0){const _0x3686fa=a1_0x358d44;if(!_0x26ffc0)return'';return _0x26ffc0['toLowerCase']()[_0x3686fa(0x1bc)](/\s+/g,'')[_0x3686fa(0x1d9)]();}function a1_0x47a0(){const _0x16d4e3=['.1.LEVEL','localeCompare','level','stringify','Â°C).\x20Sparmodus\x20beendet!','default','position','setStateAsync','Enforcement\x20Monitor\x20Error:\x20','[FORCE]\x20','local_temperature','analysis.energy.mpcActiveInterventions','(((.+)+)+)+$','state','unshift','constructor','.1.SET_POINT_TEMPERATURE','add','\x20->\x20','7675485mOdnMW','Â°C!\x20(Puffer:\x20','\x27\x20(Match:\x20','setpoint','message','actual','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','info','sort','analysis.energy.schedulePreview','findIndex','ðŸ“…\x20[MPC\x20INFO]\x20','set','analysis.automation.actionLog','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','includes','now','apply','107AEvDui','active','find','off','analysis.energy.ventilationAlerts','too_cold','config','ankunft','val','PERFECT','split','mpc_','name','Â°C\x20<\x20','score','ist','stellwert','target',':\x20Aufheizen\x20auf\x20','cal_','number','getTime','analysis.automation.mode','normal','date','eventStart','entries','Â°C.','common','warn','.4.VALVE_STATE','13746708LiHMms','getForeignObjectAsync','Soll','.1.ACTUAL_TEMPERATURE','soll','pi_heating_demand','indexOf',')\x20aktiv.\x20Heize\x20auf\x20','until','_calName','location','calendarSelection','devices','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','sensor','490amEVgF','Calendar\x20Check\x20Error:\x20','\x20wurde\x20manuell\x20erhÃ¶ht.','role','\x20ist\x20auf\x20','string','currentSystemMode','Â°C\x20(nicht\x20','remove','slice','join','window','686932yCSSJd','61662AgMnhk','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','value.valve','toUpperCase','error','log','length','\x20erreicht\x20Limit\x20(','[WATCHDOG]\x20','Classic','occupied_heating_setpoint','\x20auf\x20','ðŸ“…\x20SMART\x20SCHEDULE\x20[','exports','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','TRAIN_RL_PENALTY','analysis.energy.warmupSources','ðŸ§¹\x20[MPC\x20CLEANUP]\x20','room','_meta','PrÃ¤diktion:\x20','Â°C!\x20(Puffer\x20leer).','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','setForeignStateAsync','search','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','3449778eJiSoT','[MPC]\x20','current_heating_setpoint','abs','Unbekannt','messwert','approved','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','29514sphJfP','Auto-Erkennung',':\x20Absenkung\x20auf\x20','./ai_agent','parse','analysis.automation.lastAction','10180008dfLpzo','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','rescue_','type','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','switch','Â°C\x20(Vorlauf:\x20','useCalendar','_date','getStateAsync','Nicht\x20gefunden','getForeignStateAsync','Fehlt','filter','replace','temperature','Manuelles\x20Mapping','analysis.energy.rlPenalties','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','push','Â°C\x20(Kalender-Schutz)','event','\x20min).','dimmer','forEach','rÃ¼ckkehr','\x20wieder\x20auf\x20','calendarInstance','openknx','triggerTime','valve','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','splice','analysis.automation.confidenceThreshold','analysis.energy.activeEnforcements','sendToPythonWrapper','manual','.1.TEMPERATURE','isArray','Unknown','Â°C\x20->\x20','analysis.energy.warmupTimes','urlaub\x20ende','trim','valveMapping','target_temperature','toLowerCase','\x20gefunden!','thermostat','toString','summary'];a1_0x47a0=function(){return _0x16d4e3;};return a1_0x47a0();}function getWarmupRobust(_0x4779ba,_0x254e9e){const _0x4a8081=a1_0x358d44;if(!_0x4779ba||!_0x254e9e)return 0x3c;if(_0x4779ba[_0x254e9e]!==undefined)return _0x4779ba[_0x254e9e];const _0x3e935c=_0x254e9e[_0x4a8081(0x1dc)]()[_0x4a8081(0x1bc)](/Ã¤/g,'ae')[_0x4a8081(0x1bc)](/Ã¶/g,'oe')['replace'](/Ã¼/g,'ue')[_0x4a8081(0x1bc)](/ÃŸ/g,'ss')[_0x4a8081(0x1bc)](/\s+/g,'_')[_0x4a8081(0x1bc)](/[^a-z0-9_]/g,'');if(_0x4779ba[_0x3e935c]!==undefined)return _0x4779ba[_0x3e935c];return 0x3c;}async function logAutomationAction(_0x2374fc,_0x776b6a){const _0x4954a2=a1_0x358d44;await _0x2374fc['setStateAsync'](_0x4954a2(0x1ad),{'val':_0x776b6a,'ack':!![]});try{const _0x145b75=_0x4954a2(0x201),_0x4d86c1=await _0x2374fc[_0x4954a2(0x1b7)](_0x145b75);let _0x22fc18=[];if(_0x4d86c1&&_0x4d86c1[_0x4954a2(0x20f)])try{_0x22fc18=JSON['parse'](_0x4d86c1[_0x4954a2(0x20f)]);}catch(_0x14545a){}_0x22fc18[_0x4954a2(0x1ef)]({'ts':Date[_0x4954a2(0x205)](),'msg':_0x776b6a});if(_0x22fc18[_0x4954a2(0x248)]>0x32)_0x22fc18=_0x22fc18[_0x4954a2(0x23e)](0x0,0x32);await _0x2374fc['setStateAsync'](_0x145b75,{'val':JSON[_0x4954a2(0x1e4)](_0x22fc18),'ack':!![]});}catch(_0xe49b41){}}async function handlePrediction(_0x39868e,_0x28f14d,_0x4390ad){const _0x237d9e=a1_0x358d44;if(!_0x28f14d||_0x28f14d===_0x237d9e(0x1d5))return;let _0x1b2291=_0x237d9e(0x20a),_0x23700f=0.6;try{const _0x51e454=await _0x39868e[_0x237d9e(0x1b7)](_0x237d9e(0x21d));if(_0x51e454&&_0x51e454[_0x237d9e(0x20f)])_0x1b2291=_0x51e454[_0x237d9e(0x20f)];const _0x141ace=await _0x39868e[_0x237d9e(0x1b7)](_0x237d9e(0x1cf));if(_0x141ace&&_0x141ace[_0x237d9e(0x20f)])_0x23700f=_0x141ace[_0x237d9e(0x20f)];}catch(_0x390cac){}if(_0x1b2291===_0x237d9e(0x20a)||_0x4390ad<_0x23700f)return;const _0x2cab37=Date['now']();if(lastActions[_0x28f14d]&&_0x2cab37-lastActions[_0x28f14d]<COOLDOWN_MS)return;const _0x3825cb=_0x39868e[_0x237d9e(0x20d)]['devices']||[],_0x28fbee=normalize(_0x28f14d),_0x392672=_0x3825cb[_0x237d9e(0x209)](_0x432b60=>normalize(_0x432b60[_0x237d9e(0x230)])===_0x28fbee&&(_0x432b60['type']==='light'||_0x432b60[_0x237d9e(0x1b1)]===_0x237d9e(0x1c5)||_0x432b60[_0x237d9e(0x1b1)]===_0x237d9e(0x1b3)));if(!_0x392672)return;const _0xdc3ce7=await aiAgent['consultButler'](_0x39868e,_0x28f14d,_0x392672['name'],_0x4390ad);if(!_0xdc3ce7[_0x237d9e(0x1a6)])return;const _0x20adea=_0x237d9e(0x256)+_0x28f14d+'\x20->\x20Schalte\x20'+_0x392672[_0x237d9e(0x213)]+'\x20('+_0xdc3ce7['reason']+')';await logAutomationAction(_0x39868e,'['+_0x1b2291[_0x237d9e(0x245)]()+']\x20'+_0x20adea);if(_0x1b2291===_0x237d9e(0x208)){const _0x44ad1c=await _0x39868e[_0x237d9e(0x1b9)](_0x392672['id']);(!_0x44ad1c||!_0x44ad1c[_0x237d9e(0x20f)]&&_0x44ad1c[_0x237d9e(0x20f)]!==!![])&&await _0x39868e[_0x237d9e(0x19c)](_0x392672['id'],!![]),lastActions[_0x28f14d]=_0x2cab37;}}async function findRelatedId(_0x40640d,_0x2669a0,_0x494f79=a1_0x358d44(0x1f7)){const _0x146ab8=a1_0x358d44;if(_0x494f79==='setpoint'&&_0x40640d[_0x146ab8(0x20d)]['thermostatMapping']){let _0x1545fa=_0x40640d[_0x146ab8(0x20d)]['thermostatMapping'];if(typeof _0x1545fa==='string')try{_0x1545fa=JSON['parse'](_0x1545fa);}catch(_0x2c8e89){}if(_0x1545fa&&_0x1545fa[_0x2669a0])return _0x1545fa[_0x2669a0];}if(_0x494f79===_0x146ab8(0x1cc)&&_0x40640d['config'][_0x146ab8(0x1da)]){let _0x366c9b=_0x40640d['config'][_0x146ab8(0x1da)];if(typeof _0x366c9b==='string')try{_0x366c9b=JSON[_0x146ab8(0x1ac)](_0x366c9b);}catch(_0x596ad0){}if(_0x366c9b&&_0x366c9b[_0x2669a0])return _0x366c9b[_0x2669a0];}let _0x349586=[];if(_0x494f79===_0x146ab8(0x1f7))_0x349586=[{'s':_0x146ab8(0x229),'t':_0x146ab8(0x1f1)},{'s':_0x146ab8(0x1d3),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x146ab8(0x1d3),'t':'.4.SET_TEMPERATURE'},{'s':'ACTUAL_TEMPERATURE','t':'SET_POINT_TEMPERATURE'},{'s':_0x146ab8(0x1eb),'t':_0x146ab8(0x24c)},{'s':_0x146ab8(0x1eb),'t':_0x146ab8(0x1a2)},{'s':_0x146ab8(0x1bd),'t':_0x146ab8(0x1db)},{'s':'ACTUAL','t':'SET'},{'s':'Ist','t':_0x146ab8(0x228)},{'s':_0x146ab8(0x1bd),'t':_0x146ab8(0x1f7)}];else _0x494f79===_0x146ab8(0x1cc)&&(_0x349586=[{'s':_0x146ab8(0x229),'t':'.1.LEVEL'},{'s':_0x146ab8(0x1d3),'t':_0x146ab8(0x1e1)},{'s':_0x146ab8(0x1d3),'t':_0x146ab8(0x225)},{'s':_0x146ab8(0x1eb),'t':_0x146ab8(0x22b)},{'s':'temperature','t':'valve_position'},{'s':_0x146ab8(0x1bd),'t':_0x146ab8(0x1e3)}]);for(const _0x509207 of _0x349586){if(_0x2669a0[_0x146ab8(0x204)](_0x509207['s'])){const _0x4b3fdb=_0x2669a0['replace'](_0x509207['s'],_0x509207['t']),_0x1767d7=await _0x40640d[_0x146ab8(0x227)](_0x4b3fdb);if(_0x1767d7)return _0x4b3fdb;}}try{const _0x27c601=_0x2669a0[_0x146ab8(0x211)]('.');if(_0x27c601[_0x146ab8(0x248)]>0x2){const _0xbcb088=_0x27c601[_0x146ab8(0x23e)](0x0,-0x1)[_0x146ab8(0x23f)]('.'),_0x2eee4b=await _0x40640d['getForeignObjectsAsync'](_0xbcb088+'.*'),_0x391eea=[],_0x5eab05=_0x2669a0['split'](/[._]+/)[_0x146ab8(0x1bb)](_0x11199d=>![_0x146ab8(0x1ca),'0','hm-rpc',_0x146ab8(0x216),'wert','temperature',_0x146ab8(0x1f9),_0x146ab8(0x234),_0x146ab8(0x1a5),_0x146ab8(0x1ee)][_0x146ab8(0x204)](_0x11199d['toLowerCase']()));for(const [_0x28d60b,_0x465a53]of Object[_0x146ab8(0x221)](_0x2eee4b)){if(_0x28d60b===_0x2669a0)continue;if(_0x465a53&&_0x465a53['common']){const _0x24e0b5=_0x28d60b[_0x146ab8(0x1dc)](),_0x1608cb=(_0x465a53[_0x146ab8(0x223)][_0x146ab8(0x238)]||'')[_0x146ab8(0x1dc)](),_0x598ec4=(_0x465a53[_0x146ab8(0x223)]['unit']||'')[_0x146ab8(0x1dc)]();let _0x2ed999=![];if(_0x494f79===_0x146ab8(0x1f7)&&_0x465a53[_0x146ab8(0x223)]['write']===!![])_0x2ed999=_0x24e0b5['includes'](_0x146ab8(0x200))||_0x24e0b5[_0x146ab8(0x204)](_0x146ab8(0x22a))||_0x24e0b5['includes'](_0x146ab8(0x218))||_0x1608cb['includes']('level.temperature')||_0x1608cb[_0x146ab8(0x204)]('thermostat.setpoint');else _0x494f79===_0x146ab8(0x1cc)&&(_0x2ed999=_0x24e0b5[_0x146ab8(0x204)](_0x146ab8(0x1e3))||_0x24e0b5[_0x146ab8(0x204)](_0x146ab8(0x1cc))||_0x24e0b5[_0x146ab8(0x204)](_0x146ab8(0x217))||_0x24e0b5[_0x146ab8(0x204)](_0x146ab8(0x1e7))||_0x1608cb['includes']('level.valve')||_0x1608cb[_0x146ab8(0x204)](_0x146ab8(0x244))||_0x598ec4['includes']('%'));if(_0x2ed999){const _0x2b632a=_0x28d60b[_0x146ab8(0x211)](/[._]+/)['map'](_0x5c2902=>_0x5c2902[_0x146ab8(0x1dc)]());let _0x2c0a1a=0x0;_0x5eab05['forEach'](_0x3ef3c9=>{const _0x55d0b3=_0x146ab8;if(_0x2b632a[_0x55d0b3(0x204)](_0x3ef3c9[_0x55d0b3(0x1dc)]()))_0x2c0a1a++;}),_0x391eea[_0x146ab8(0x1c1)]({'id':_0x28d60b,'score':_0x2c0a1a});}}}if(_0x391eea['length']>0x0){_0x391eea[_0x146ab8(0x1fc)]((_0x5b889d,_0x144c7d)=>_0x144c7d[_0x146ab8(0x215)]-_0x5b889d[_0x146ab8(0x215)]);if(_0x391eea[0x0][_0x146ab8(0x215)]>0x0)return _0x391eea[0x0]['id'];}}}catch(_0x59176b){}return null;}function a1_0x3457(_0x10dd27,_0x51cc6b){const _0x77c548=a1_0x47a0();return a1_0x3457=function(_0x18a76c,_0x34f3c9){_0x18a76c=_0x18a76c-0x19c;let _0x47a0fe=_0x77c548[_0x18a76c];return _0x47a0fe;},a1_0x3457(_0x10dd27,_0x51cc6b);}async function scanThermostats(_0x1703bf){const _0x3b4007=a1_0x358d44,_0x54bdcd=_0x1703bf[_0x3b4007(0x20d)][_0x3b4007(0x232)]||[],_0x430803=[],_0x3d94fd=_0x54bdcd[_0x3b4007(0x1bb)](_0x13159c=>_0x13159c['id']&&_0x13159c['id'][_0x3b4007(0x204)](_0x3b4007(0x1bd))||_0x13159c[_0x3b4007(0x1b1)]&&[_0x3b4007(0x1bd),_0x3b4007(0x1de),_0x3b4007(0x234)]['includes'](_0x13159c[_0x3b4007(0x1b1)])||_0x13159c[_0x3b4007(0x213)]&&_0x13159c[_0x3b4007(0x213)][_0x3b4007(0x1dc)]()[_0x3b4007(0x204)]('temp'));for(const _0x3e63fe of _0x3d94fd){const _0x4f7e0e=await findRelatedId(_0x1703bf,_0x3e63fe['id'],'setpoint'),_0x3b28f4=await findRelatedId(_0x1703bf,_0x3e63fe['id'],'valve');let _0xa738ff=_0x3b4007(0x1b8),_0x5f432c=![],_0x5c4541=_0x1703bf[_0x3b4007(0x20d)]['thermostatMapping']||{};if(typeof _0x5c4541===_0x3b4007(0x23a))try{_0x5c4541=JSON[_0x3b4007(0x1ac)](_0x5c4541);}catch(_0x59670e){}let _0x98f07f=_0x1703bf[_0x3b4007(0x20d)][_0x3b4007(0x1da)]||{};if(typeof _0x98f07f==='string')try{_0x98f07f=JSON[_0x3b4007(0x1ac)](_0x98f07f);}catch(_0x3b6831){}if(_0x5c4541[_0x3e63fe['id']]&&_0x5c4541[_0x3e63fe['id']]===_0x4f7e0e||_0x98f07f[_0x3e63fe['id']]&&_0x98f07f[_0x3e63fe['id']]===_0x3b28f4)_0xa738ff=_0x3b4007(0x1be),_0x5f432c=!![];else(_0x4f7e0e||_0x3b28f4)&&(_0xa738ff=_0x3b4007(0x1a9));_0x430803[_0x3b4007(0x1c1)]({'room':_0x3e63fe[_0x3b4007(0x230)]||_0x3b4007(0x1a4),'sensorId':_0x3e63fe['id'],'setpointId':_0x4f7e0e||'-','valveId':_0x3b28f4||'-','source':_0xa738ff,'isManual':_0x5f432c,'status':_0x4f7e0e&&_0x3b28f4?_0x3b4007(0x210):_0x4f7e0e?'OK':_0x3b4007(0x1ba)});}return _0x430803[_0x3b4007(0x1fc)]((_0x1d43bd,_0x115987)=>_0x1d43bd['room'][_0x3b4007(0x1e2)](_0x115987[_0x3b4007(0x254)]));}async function updateSchedulePreview(_0x5cbb95){const _0x46b349=a1_0x358d44;if(!_0x5cbb95[_0x46b349(0x20d)][_0x46b349(0x1b5)]||!_0x5cbb95['config'][_0x46b349(0x1c9)])return;let _0x3d58e6={};try{const _0x5d44ed=await _0x5cbb95[_0x46b349(0x1b7)](_0x46b349(0x1d7));if(_0x5d44ed&&_0x5d44ed[_0x46b349(0x20f)])_0x3d58e6=JSON['parse'](_0x5d44ed[_0x46b349(0x20f)]);}catch(_0x27cbd0){}const _0x312781=[],_0x48c140=Date[_0x46b349(0x205)](),_0x5a5711=0x30*0x3c*0x3c*0x3e8;try{const _0x33173a=await _0x5cbb95[_0x46b349(0x1b9)](_0x5cbb95[_0x46b349(0x20d)][_0x46b349(0x1c9)]+'.data.table');if(!_0x33173a||!_0x33173a[_0x46b349(0x20f)])return;const _0x3b625c=JSON[_0x46b349(0x1ac)](_0x33173a[_0x46b349(0x20f)]),_0x1eae2a=_0x5cbb95['config'][_0x46b349(0x231)]||[],_0x591f57=_0x5cbb95[_0x46b349(0x20d)][_0x46b349(0x232)]||[],_0x5dbe53=new Set();_0x591f57[_0x46b349(0x1c6)](_0x7df47f=>{const _0x1e0393=_0x46b349;if(_0x7df47f['location'])_0x5dbe53[_0x1e0393(0x1f2)](_0x7df47f[_0x1e0393(0x230)]);});for(const _0x35f797 of _0x3b625c){if(_0x35f797['_calName']&&_0x1eae2a['length']>0x0&&!_0x1eae2a[_0x46b349(0x204)](_0x35f797[_0x46b349(0x22f)]))continue;const _0x27030b=_0x35f797[_0x46b349(0x1b6)]||_0x35f797[_0x46b349(0x220)]||_0x35f797['date'];if(!_0x27030b)continue;const _0x2d2e50=new Date(_0x27030b),_0x3d551b=_0x2d2e50[_0x46b349(0x21c)]();if(isNaN(_0x3d551b))continue;if(_0x3d551b<_0x48c140)continue;if(_0x3d551b>_0x48c140+_0x5a5711)continue;const _0x1dabcf=(_0x35f797[_0x46b349(0x1c3)]||_0x35f797[_0x46b349(0x1e0)]||'')[_0x46b349(0x1dc)]();let _0x31319d=![],_0x13bc55=[],_0x506532=_0x35f797[_0x46b349(0x1c3)]||_0x35f797['summary']||'Unbekannt';if(_0x1dabcf[_0x46b349(0x204)]('urlaub\x20ende')||_0x1dabcf[_0x46b349(0x204)](_0x46b349(0x1c7))||_0x1dabcf[_0x46b349(0x204)](_0x46b349(0x20e)))_0x31319d=!![],_0x13bc55=Array['from'](_0x5dbe53);else for(const _0x3abe89 of _0x5dbe53){if(_0x1dabcf[_0x46b349(0x204)](_0x3abe89['toLowerCase']()))_0x13bc55[_0x46b349(0x1c1)](_0x3abe89);}_0x13bc55[_0x46b349(0x248)]>0x0&&_0x13bc55[_0x46b349(0x1c6)](_0x20b566=>{const _0xa5a5b3=_0x46b349;let _0x55bbdd=0x3c;if(_0x31319d){let _0x4b5e0f=0x0;Object['values'](_0x3d58e6)['forEach'](_0xb0ab21=>{if(_0xb0ab21>_0x4b5e0f)_0x4b5e0f=_0xb0ab21;}),_0x55bbdd=_0x4b5e0f>0x0?_0x4b5e0f:0x78;}else _0x55bbdd=getWarmupRobust(_0x3d58e6,_0x20b566);const _0x35d717=new Date(_0x3d551b-_0x55bbdd*0xea60);_0x312781['push']({'eventTime':_0x3d551b,'triggerTime':_0x35d717[_0xa5a5b3(0x21c)](),'room':_0x20b566,'minutes':_0x55bbdd,'reason':_0x506532,'isGlobal':_0x31319d});});}}catch(_0x2d00fc){}_0x312781[_0x46b349(0x1fc)]((_0x4d7720,_0x4a0ae3)=>_0x4d7720[_0x46b349(0x1cb)]-_0x4a0ae3[_0x46b349(0x1cb)]);const _0x166e3f=_0x312781['slice'](0x0,0x1e);await _0x5cbb95[_0x46b349(0x1e8)](_0x46b349(0x1fd),{'val':JSON[_0x46b349(0x1e4)](_0x166e3f),'ack':!![]});}async function monitorEnforcements(_0x1ad2b6){const _0x1fea50=a1_0x358d44;try{const _0x2f6840=_0x1fea50(0x1d0),_0x1a936a=await _0x1ad2b6[_0x1fea50(0x1b7)](_0x2f6840);if(!_0x1a936a||!_0x1a936a['val'])return;let _0x32ed39=[];try{_0x32ed39=JSON[_0x1fea50(0x1ac)](_0x1a936a['val']);}catch(_0x16f7d9){return;}if(!Array[_0x1fea50(0x1d4)](_0x32ed39)||_0x32ed39[_0x1fea50(0x248)]===0x0)return;const _0x466a48=Date[_0x1fea50(0x205)](),_0x18ebdd=_0x1ad2b6[_0x1fea50(0x20d)][_0x1fea50(0x232)]||[];let _0x2c171c=![];for(let _0x538d6a=_0x32ed39['length']-0x1;_0x538d6a>=0x0;_0x538d6a--){const _0x32044f=_0x32ed39[_0x538d6a];if(_0x466a48>=_0x32044f[_0x1fea50(0x22e)]){_0x1ad2b6['log'][_0x1fea50(0x1fb)](_0x1fea50(0x243)+_0x32044f[_0x1fea50(0x254)]+_0x1fea50(0x258)),_0x32ed39[_0x1fea50(0x1ce)](_0x538d6a,0x1),_0x2c171c=!![];continue;}const _0x2ebdf=_0x18ebdd[_0x1fea50(0x209)](_0x53daf5=>normalize(_0x53daf5[_0x1fea50(0x230)])===normalize(_0x32044f[_0x1fea50(0x254)])&&(_0x53daf5['type']===_0x1fea50(0x1bd)||_0x53daf5['type']===_0x1fea50(0x1de)));if(_0x2ebdf){const _0xa5d244=await findRelatedId(_0x1ad2b6,_0x2ebdf['id'],'setpoint');if(_0xa5d244){const _0x1df494=await _0x1ad2b6['getForeignStateAsync'](_0xa5d244);_0x1df494&&typeof _0x1df494['val']===_0x1fea50(0x21b)&&(_0x1df494[_0x1fea50(0x20f)]<0xf&&(_0x1ad2b6[_0x1fea50(0x247)]['warn'](_0x1fea50(0x19e)+_0x32044f[_0x1fea50(0x254)]+_0x1fea50(0x24d)+_0x1df494['val']+_0x1fea50(0x250)+_0x32044f[_0x1fea50(0x218)]+_0x1fea50(0x222)),await _0x1ad2b6['setForeignStateAsync'](_0xa5d244,_0x32044f['target']),await logAutomationAction(_0x1ad2b6,_0x1fea50(0x1ea)+_0x32044f[_0x1fea50(0x254)]+':\x20'+_0x1df494[_0x1fea50(0x20f)]+_0x1fea50(0x1d6)+_0x32044f['target']+_0x1fea50(0x1c2))));}}}_0x2c171c&&await _0x1ad2b6[_0x1fea50(0x1e8)](_0x2f6840,{'val':JSON[_0x1fea50(0x1e4)](_0x32ed39),'ack':!![]});}catch(_0x54afb4){_0x1ad2b6['log'][_0x1fea50(0x246)](_0x1fea50(0x1e9)+_0x54afb4[_0x1fea50(0x1f8)]);}}async function checkCalendarTriggers(_0x1d9c66){const _0x298637=a1_0x358d44;if(!_0x1d9c66[_0x298637(0x20d)][_0x298637(0x1b5)]||!_0x1d9c66[_0x298637(0x20d)][_0x298637(0x1c9)])return;await updateSchedulePreview(_0x1d9c66);let _0x5211bc={},_0x5ad397={};try{const _0x37c76e=await _0x1d9c66[_0x298637(0x1b7)](_0x298637(0x1d7));if(_0x37c76e&&_0x37c76e[_0x298637(0x20f)])_0x5211bc=JSON['parse'](_0x37c76e[_0x298637(0x20f)]);const _0x172e70=await _0x1d9c66['getStateAsync'](_0x298637(0x252));if(_0x172e70&&_0x172e70['val'])_0x5ad397=JSON[_0x298637(0x1ac)](_0x172e70[_0x298637(0x20f)]);}catch(_0x19e3e8){}let _0x44aa65={'default':0x15};try{const _0x256926=await _0x1d9c66[_0x298637(0x1b7)]('analysis.energy.warmupTargets');if(_0x256926&&_0x256926['val'])_0x44aa65=JSON[_0x298637(0x1ac)](_0x256926[_0x298637(0x20f)]);}catch(_0xe6852d){}let _0x73516b=[];try{const _0x2bd1d8=await _0x1d9c66[_0x298637(0x1b7)]('analysis.energy.activeEnforcements');if(_0x2bd1d8&&_0x2bd1d8[_0x298637(0x20f)])_0x73516b=JSON[_0x298637(0x1ac)](_0x2bd1d8[_0x298637(0x20f)]);}catch(_0x1f3306){}try{const _0x19361a=await _0x1d9c66[_0x298637(0x1b9)](_0x1d9c66['config']['calendarInstance']+'.data.table');if(!_0x19361a||!_0x19361a[_0x298637(0x20f)])return;const _0x580812=JSON['parse'](_0x19361a[_0x298637(0x20f)]),_0x3e3d28=Date[_0x298637(0x205)](),_0xa7cc63=_0x1d9c66['config'][_0x298637(0x232)]||[],_0x278da7=_0x1d9c66['config'][_0x298637(0x231)]||[];let _0x27046c=![];for(const _0x590055 of _0x580812){if(_0x590055[_0x298637(0x22f)]&&_0x278da7['length']>0x0&&!_0x278da7[_0x298637(0x204)](_0x590055[_0x298637(0x22f)]))continue;const _0x35112f=_0x590055['_date']||_0x590055['eventStart']||_0x590055[_0x298637(0x21f)];if(!_0x35112f)continue;const _0x412ebb=new Date(_0x35112f);if(isNaN(_0x412ebb[_0x298637(0x21c)]()))continue;const _0x338e81=(_0x590055[_0x298637(0x1c3)]||_0x590055[_0x298637(0x1e0)]||'')[_0x298637(0x1dc)]();if(_0x338e81[_0x298637(0x204)](_0x298637(0x1d8))||_0x338e81[_0x298637(0x204)](_0x298637(0x1c7))||_0x338e81[_0x298637(0x204)](_0x298637(0x20e))){let _0xf2990b=0x0;Object['values'](_0x5211bc)[_0x298637(0x1c6)](_0x3b234e=>{if(_0x3b234e>_0xf2990b)_0xf2990b=_0x3b234e;});if(_0xf2990b===0x0)_0xf2990b=0x78;const _0x92fd46=_0x412ebb[_0x298637(0x21c)]()-_0xf2990b*0xea60;_0x3e3d28>=_0x92fd46&&_0x3e3d28<_0x412ebb[_0x298637(0x21c)]()&&(_0x1d9c66[_0x298637(0x23b)]!==_0x298637(0x21e)&&(_0x1d9c66[_0x298637(0x247)][_0x298637(0x1fb)](_0x298637(0x1a7)+_0xf2990b+_0x298637(0x1c4)),await _0x1d9c66[_0x298637(0x1e8)]('system.mode',{'val':_0x298637(0x21e),'ack':![]})));}for(const _0x1adf1f of _0xa7cc63){if(_0x1adf1f[_0x298637(0x230)]){const _0xdb040d=_0x1adf1f[_0x298637(0x230)][_0x298637(0x1dc)](),_0x3dde09=(_0x1adf1f[_0x298637(0x213)]||'')[_0x298637(0x1dc)]();let _0x28f579=_0x338e81['includes'](_0xdb040d);!_0x28f579&&_0x3dde09[_0x298637(0x248)]>0x3&&_0x338e81['includes'](_0x3dde09)&&(_0x28f579=!![]);if(_0x28f579){const _0x26ef93=getWarmupRobust(_0x5211bc,_0x1adf1f[_0x298637(0x230)]),_0x595028=_0x5ad397[_0x1adf1f[_0x298637(0x230)]]||_0x298637(0x24b),_0x567f23=_0x412ebb['getTime']()-_0x26ef93*0xea60;if(_0x3e3d28>=_0x567f23&&_0x3e3d28<_0x412ebb[_0x298637(0x21c)]()){const _0x2aee91=lastActions[_0x298637(0x21a)+_0x1adf1f['location']];if(_0x2aee91&&_0x3e3d28-_0x2aee91<CAL_COOLDOWN_MS)continue;const _0x489af4=await findRelatedId(_0x1d9c66,_0x1adf1f['id'],_0x298637(0x1f7));if(_0x489af4){let _0x14a565=_0x44aa65[_0x1adf1f[_0x298637(0x230)]];if(_0x14a565===undefined)_0x14a565=_0x44aa65[_0x298637(0x1e6)];if(_0x14a565===undefined)_0x14a565=0x15;const _0x2acfad=await _0x1d9c66[_0x298637(0x1b9)](_0x489af4);if(_0x2acfad&&typeof _0x2acfad[_0x298637(0x20f)]===_0x298637(0x21b)&&_0x2acfad[_0x298637(0x20f)]<_0x14a565-0.5){_0x1d9c66['log']['info'](_0x298637(0x24e)+_0x595028+']:\x20Raum-Trigger\x20\x27'+_0x1adf1f[_0x298637(0x230)]+_0x298637(0x1f6)+_0x338e81+_0x298637(0x22d)+_0x14a565+_0x298637(0x1b4)+_0x26ef93+_0x298637(0x1c4)),await _0x1d9c66[_0x298637(0x19c)](_0x489af4,_0x14a565),await logAutomationAction(_0x1d9c66,'[CAL]\x20'+_0x1adf1f[_0x298637(0x230)]+_0x298637(0x1f3)+_0x14a565+'Â°C\x20(via\x20'+_0x595028+')'),lastActions['cal_'+_0x1adf1f['location']]=_0x3e3d28;const _0x2fba32=_0x73516b[_0x298637(0x1fe)](_0x2c7017=>_0x2c7017['room']===_0x1adf1f[_0x298637(0x230)]);if(_0x2fba32!==-0x1)_0x73516b[_0x298637(0x1ce)](_0x2fba32,0x1);_0x73516b[_0x298637(0x1c1)]({'room':_0x1adf1f[_0x298637(0x230)],'target':_0x14a565,'until':_0x412ebb[_0x298637(0x21c)]()}),_0x27046c=!![];}}}}}}}_0x27046c&&await _0x1d9c66[_0x298637(0x1e8)](_0x298637(0x1d0),{'val':JSON['stringify'](_0x73516b),'ack':!![]});}catch(_0x318b6b){_0x1d9c66[_0x298637(0x247)][_0x298637(0x224)](_0x298637(0x236)+_0x318b6b[_0x298637(0x1f8)]);}}async function manageMpcIntervention(_0x49e661,_0xbb74fa,_0x4b10a9){const _0x70a463=a1_0x358d44;try{const _0x48828b=_0x70a463(0x1ec),_0x356bfb=await _0x49e661[_0x70a463(0x1b7)](_0x48828b);let _0x48f886=[];if(_0x356bfb&&_0x356bfb[_0x70a463(0x20f)])try{_0x48f886=JSON[_0x70a463(0x1ac)](_0x356bfb[_0x70a463(0x20f)]);}catch(_0x381369){}const _0x1549cc=_0x48f886[_0x70a463(0x22c)](_0xbb74fa);if(_0x4b10a9===_0x70a463(0x1f2))_0x1549cc===-0x1&&(_0x48f886[_0x70a463(0x1c1)](_0xbb74fa),await _0x49e661[_0x70a463(0x1e8)](_0x48828b,{'val':JSON[_0x70a463(0x1e4)](_0x48f886),'ack':!![]}));else _0x4b10a9==='remove'&&(_0x1549cc!==-0x1&&(_0x48f886[_0x70a463(0x1ce)](_0x1549cc,0x1),await _0x49e661[_0x70a463(0x1e8)](_0x48828b,{'val':JSON[_0x70a463(0x1e4)](_0x48f886),'ack':!![]})));}catch(_0x4ef93a){}}async function cleanupGhostInterventions(_0x295146){const _0x2c9efd=a1_0x358d44;try{const _0x36b828=_0x2c9efd(0x1ec),_0x23c481=await _0x295146[_0x2c9efd(0x1b7)](_0x36b828);if(!_0x23c481||!_0x23c481[_0x2c9efd(0x20f)])return;const _0x2588b5=JSON[_0x2c9efd(0x1ac)](_0x23c481['val']);if(!Array[_0x2c9efd(0x1d4)](_0x2588b5)||_0x2588b5[_0x2c9efd(0x248)]===0x0)return;let _0x2fa7e7={'default':0x15};try{const _0x2f05c2=await _0x295146['getStateAsync']('analysis.energy.warmupTargets');if(_0x2f05c2&&_0x2f05c2['val'])_0x2fa7e7=JSON[_0x2c9efd(0x1ac)](_0x2f05c2[_0x2c9efd(0x20f)]);}catch(_0x3b28f8){}let _0x6ef610=[];try{const _0x4be023=await _0x295146[_0x2c9efd(0x1b7)](_0x2c9efd(0x20b));if(_0x4be023&&_0x4be023['val'])_0x6ef610=JSON[_0x2c9efd(0x1ac)](_0x4be023[_0x2c9efd(0x20f)]);}catch(_0x29045d){}let _0x16c7a6={},_0x37352e=![];try{const _0x519ff1=await _0x295146[_0x2c9efd(0x1b7)](_0x2c9efd(0x1bf));if(_0x519ff1&&_0x519ff1['val'])_0x16c7a6=JSON['parse'](_0x519ff1[_0x2c9efd(0x20f)]);}catch(_0x51126d){}if(_0x16c7a6[_0x2c9efd(0x255)]){const _0x2e5710=Date[_0x2c9efd(0x205)]();for(const [_0x934144,_0x461374]of Object[_0x2c9efd(0x221)](_0x16c7a6['_meta'])){_0x2e5710-_0x461374>PENALTY_TTL&&(delete _0x16c7a6[_0x934144],delete _0x16c7a6[_0x2c9efd(0x255)][_0x934144],_0x37352e=!![],_0x295146[_0x2c9efd(0x247)][_0x2c9efd(0x1fb)](_0x2c9efd(0x19f)+_0x934144+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x218fa8=_0x295146[_0x2c9efd(0x20d)][_0x2c9efd(0x232)]||[];let _0x3eb3da=![];for(let _0x9ca986=_0x2588b5[_0x2c9efd(0x248)]-0x1;_0x9ca986>=0x0;_0x9ca986--){const _0xe2c449=_0x2588b5[_0x9ca986],_0xfe8f56=_0x218fa8['find'](_0x17b456=>normalize(_0x17b456['location'])===normalize(_0xe2c449)&&(_0x17b456[_0x2c9efd(0x1b1)]===_0x2c9efd(0x1bd)||_0x17b456['type']===_0x2c9efd(0x1de)));if(!_0xfe8f56){_0x295146[_0x2c9efd(0x247)]['warn'](_0x2c9efd(0x203)+_0xe2c449+_0x2c9efd(0x233)),_0x2588b5[_0x2c9efd(0x1ce)](_0x9ca986,0x1),_0x3eb3da=!![];continue;}if(_0xfe8f56){const _0x4ece51=await findRelatedId(_0x295146,_0xfe8f56['id'],_0x2c9efd(0x1f7)),_0x4f4a3=await _0x295146[_0x2c9efd(0x1b9)](_0xfe8f56['id']);if(_0x4ece51){const _0x4b7077=await _0x295146[_0x2c9efd(0x1b9)](_0x4ece51);if(_0x4b7077&&typeof _0x4b7077[_0x2c9efd(0x20f)]===_0x2c9efd(0x21b)){let _0x5029e3=![],_0x440336='';Math[_0x2c9efd(0x1a3)](_0x4b7077[_0x2c9efd(0x20f)]-ECO_TEMP)>0.5&&(_0x5029e3=!![],_0x440336='manual');if(!_0x5029e3&&_0x4f4a3&&typeof _0x4f4a3[_0x2c9efd(0x20f)]===_0x2c9efd(0x21b)){const _0x53f395=_0x2fa7e7[_0xe2c449]||_0x2fa7e7['default']||0x15;_0x4f4a3[_0x2c9efd(0x20f)]<_0x53f395+0.2&&(_0x5029e3=!![],_0x440336=_0x2c9efd(0x20c));}if(_0x5029e3){if(_0x440336===_0x2c9efd(0x1d2)){_0x295146[_0x2c9efd(0x247)][_0x2c9efd(0x1fb)](_0x2c9efd(0x253)+_0xe2c449+_0x2c9efd(0x239)+_0x4b7077['val']+_0x2c9efd(0x23c)+ECO_TEMP+'Â°C).\x20Entferne\x20Status.');const _0x3df0ee=lastActions[_0x2c9efd(0x21a)+_0xe2c449],_0x352e7b=_0x3df0ee&&Date[_0x2c9efd(0x205)]()-_0x3df0ee<0x2*0x3c*0x3e8;if(!_0x352e7b&&_0x4b7077[_0x2c9efd(0x20f)]>ECO_TEMP+0.5){_0x295146[_0x2c9efd(0x1d1)]&&(_0x295146[_0x2c9efd(0x247)]['info'](_0x2c9efd(0x1af)+_0xe2c449+_0x2c9efd(0x237)),_0x295146['sendToPythonWrapper'](_0x2c9efd(0x251),{'room':_0xe2c449}));const _0x172b7d=_0xe2c449+'_'+new Date()['getHours']();if(!_0x16c7a6[_0x172b7d]){_0x16c7a6[_0x172b7d]=0x1;if(!_0x16c7a6[_0x2c9efd(0x255)])_0x16c7a6[_0x2c9efd(0x255)]={};_0x16c7a6[_0x2c9efd(0x255)][_0x172b7d]=Date[_0x2c9efd(0x205)](),_0x37352e=!![];}}else _0x352e7b&&_0x295146[_0x2c9efd(0x247)][_0x2c9efd(0x1fb)](_0x2c9efd(0x1ff)+_0xe2c449+_0x2c9efd(0x202));}else{if(_0x440336==='too_cold'){let _0x4e8cff=![];if(_0x6ef610[_0x2c9efd(0x209)](_0x535d26=>_0x535d26['room']===_0xe2c449))_0x4e8cff=!![];const _0x53b020=_0x218fa8[_0x2c9efd(0x1bb)](_0x2c3689=>normalize(_0x2c3689[_0x2c9efd(0x230)])===normalize(_0xe2c449)&&(_0x2c3689['type']===_0x2c9efd(0x240)||_0x2c3689['type']==='sensor'||_0x2c3689[_0x2c9efd(0x1b1)]==='contact'));for(const _0x44a369 of _0x53b020){try{const _0x279b38=await _0x295146[_0x2c9efd(0x1b9)](_0x44a369['id']);if(_0x279b38&&(_0x279b38[_0x2c9efd(0x20f)]===!![]||_0x279b38[_0x2c9efd(0x20f)]===0x1||String(_0x279b38[_0x2c9efd(0x20f)])['toLowerCase']()==='open'))_0x4e8cff=!![];}catch(_0x57717a){}}if(_0x4e8cff)_0x295146['log'][_0x2c9efd(0x1fb)](_0x2c9efd(0x1b2)+_0xe2c449+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x1c8fc2=_0x2fa7e7[_0xe2c449]||_0x2fa7e7['default']||0x15;_0x295146[_0x2c9efd(0x247)][_0x2c9efd(0x1fb)](_0x2c9efd(0x1c0)+_0xe2c449+_0x2c9efd(0x249)+_0x4f4a3[_0x2c9efd(0x20f)]+_0x2c9efd(0x214)+(_0x1c8fc2+0.2)+_0x2c9efd(0x1e5)),await _0x295146[_0x2c9efd(0x19c)](_0x4ece51,_0x1c8fc2),await logAutomationAction(_0x295146,_0x2c9efd(0x24a)+_0xe2c449+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x1c8fc2+'Â°C'),lastActions[_0x2c9efd(0x1b0)+_0xe2c449]=Date['now']();}}}_0x2588b5[_0x2c9efd(0x1ce)](_0x9ca986,0x1),_0x3eb3da=!![];}}}}}_0x3eb3da&&await _0x295146[_0x2c9efd(0x1e8)](_0x36b828,{'val':JSON[_0x2c9efd(0x1e4)](_0x2588b5),'ack':!![]}),_0x37352e&&await _0x295146['setStateAsync'](_0x2c9efd(0x1bf),{'val':JSON[_0x2c9efd(0x1e4)](_0x16c7a6),'ack':!![]});}catch(_0x428616){}}async function applyEnergySavings(_0x137781,_0x1b3a44){const _0x1eae26=a1_0x358d44;await cleanupGhostInterventions(_0x137781);if(!_0x1b3a44||_0x1b3a44['length']===0x0)return;const _0x8e3602=_0x137781[_0x1eae26(0x20d)][_0x1eae26(0x232)]||[],_0x189cfc=Date[_0x1eae26(0x205)]();for(const _0x490d11 of _0x1b3a44){const _0x3d5a0e=_0x490d11[_0x1eae26(0x254)],_0x1ad05f=_0x490d11['minutes_safe'],_0x3d95cc=_0x490d11['target']||0x15;if(lastActions[_0x1eae26(0x1b0)+_0x3d5a0e]&&_0x189cfc-lastActions[_0x1eae26(0x1b0)+_0x3d5a0e]<RESCUE_LOCK_MS)continue;const _0x2bc418=_0x8e3602[_0x1eae26(0x209)](_0x1182c1=>normalize(_0x1182c1['location'])===normalize(_0x3d5a0e)&&(_0x1182c1[_0x1eae26(0x1b1)]===_0x1eae26(0x1bd)||_0x1182c1[_0x1eae26(0x1b1)]===_0x1eae26(0x1de)));if(!_0x2bc418)continue;const _0x4921d8=await findRelatedId(_0x137781,_0x2bc418['id'],_0x1eae26(0x1f7));if(_0x4921d8){if(lastActions[_0x1eae26(0x212)+_0x3d5a0e]&&_0x189cfc-lastActions[_0x1eae26(0x212)+_0x3d5a0e]<0x1e*0x3c*0x3e8)continue;const _0x58eb76=await _0x137781[_0x1eae26(0x1b9)](_0x4921d8);if(_0x58eb76&&typeof _0x58eb76['val']===_0x1eae26(0x21b)){const _0x18d153=_0x58eb76[_0x1eae26(0x20f)];_0x18d153!==ECO_TEMP&&await manageMpcIntervention(_0x137781,_0x3d5a0e,_0x1eae26(0x23d));if(_0x1ad05f>0x1e)_0x18d153>ECO_TEMP+0.5&&(_0x137781[_0x1eae26(0x247)][_0x1eae26(0x1fb)](_0x1eae26(0x1cd)+_0x3d5a0e+_0x1eae26(0x24d)+ECO_TEMP+_0x1eae26(0x1f5)+_0x1ad05f+'\x20min)'),await _0x137781[_0x1eae26(0x19c)](_0x4921d8,ECO_TEMP),await manageMpcIntervention(_0x137781,_0x3d5a0e,_0x1eae26(0x1f2)),lastActions['mpc_'+_0x3d5a0e]=_0x189cfc,await logAutomationAction(_0x137781,_0x1eae26(0x1a1)+_0x3d5a0e+_0x1eae26(0x1aa)+ECO_TEMP+'Â°C'));else _0x1ad05f<=0xf&&(_0x18d153<_0x3d95cc&&(_0x137781[_0x1eae26(0x247)][_0x1eae26(0x1fb)]('ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20'+_0x3d5a0e+_0x1eae26(0x1c8)+_0x3d95cc+_0x1eae26(0x257)),await _0x137781['setForeignStateAsync'](_0x4921d8,_0x3d95cc),await manageMpcIntervention(_0x137781,_0x3d5a0e,'remove'),lastActions['mpc_'+_0x3d5a0e]=_0x189cfc,await logAutomationAction(_0x137781,_0x1eae26(0x1a1)+_0x3d5a0e+_0x1eae26(0x219)+_0x3d95cc+'Â°C')));}}else _0x137781[_0x1eae26(0x247)][_0x1eae26(0x224)](_0x1eae26(0x1fa)+_0x3d5a0e+_0x1eae26(0x1dd));}}module[a1_0x358d44(0x24f)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};