const a1_0x421342=a1_0x36fc;(function(_0x12deaa,_0x751179){const _0x274605=a1_0x36fc,_0x374c4e=_0x12deaa();while(!![]){try{const _0x3ed4a0=-parseInt(_0x274605(0x1bb))/0x1*(-parseInt(_0x274605(0x1a2))/0x2)+parseInt(_0x274605(0x194))/0x3+-parseInt(_0x274605(0x1d7))/0x4*(parseInt(_0x274605(0x1a7))/0x5)+-parseInt(_0x274605(0x198))/0x6+-parseInt(_0x274605(0x177))/0x7*(-parseInt(_0x274605(0x170))/0x8)+-parseInt(_0x274605(0x183))/0x9*(parseInt(_0x274605(0x1b1))/0xa)+-parseInt(_0x274605(0x17a))/0xb*(-parseInt(_0x274605(0x1b2))/0xc);if(_0x3ed4a0===_0x751179)break;else _0x374c4e['push'](_0x374c4e['shift']());}catch(_0x389eb5){_0x374c4e['push'](_0x374c4e['shift']());}}}(a1_0x390f,0xb738e));function a1_0x36fc(_0x6ff9ea,_0x2cb4ab){const _0x16f8e3=a1_0x390f();return a1_0x36fc=function(_0x448f55,_0x132e86){_0x448f55=_0x448f55-0x151;let _0x390f7a=_0x16f8e3[_0x448f55];return _0x390f7a;},a1_0x36fc(_0x6ff9ea,_0x2cb4ab);}const a1_0x132e86=(function(){let _0x2f9372=!![];return function(_0x2c4dbd,_0x4dbc70){const _0x200fb8=_0x2f9372?function(){if(_0x4dbc70){const _0x4b42ff=_0x4dbc70['apply'](_0x2c4dbd,arguments);return _0x4dbc70=null,_0x4b42ff;}}:function(){};return _0x2f9372=![],_0x200fb8;};}()),a1_0x448f55=a1_0x132e86(this,function(){const _0x6209e3=a1_0x36fc;return a1_0x448f55[_0x6209e3(0x1ea)]()[_0x6209e3(0x1c4)](_0x6209e3(0x1ef))[_0x6209e3(0x1ea)]()['constructor'](a1_0x448f55)[_0x6209e3(0x1c4)](_0x6209e3(0x1ef));});a1_0x448f55();'use strict';const aiAgent=require(a1_0x421342(0x193)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x4863d4){const _0x35c595=a1_0x421342;if(!_0x4863d4)return'';return _0x4863d4[_0x35c595(0x1f5)]()[_0x35c595(0x1fc)](/\s+/g,'')[_0x35c595(0x207)]();}function getWarmupRobust(_0x5ae8da,_0x432c10){const _0x5f38fb=a1_0x421342;if(!_0x5ae8da||!_0x432c10)return 0x3c;if(_0x5ae8da[_0x432c10]!==undefined)return _0x5ae8da[_0x432c10];const _0x462294=_0x432c10['toLowerCase']()[_0x5f38fb(0x1fc)](/Ã¤/g,'ae')[_0x5f38fb(0x1fc)](/Ã¶/g,'oe')[_0x5f38fb(0x1fc)](/Ã¼/g,'ue')[_0x5f38fb(0x1fc)](/ÃŸ/g,'ss')[_0x5f38fb(0x1fc)](/\s+/g,'_')['replace'](/[^a-z0-9_]/g,'');if(_0x5ae8da[_0x462294]!==undefined)return _0x5ae8da[_0x462294];return 0x3c;}async function logAutomationAction(_0x3c38ea,_0x5dfd49){const _0x4d0a2f=a1_0x421342;await _0x3c38ea[_0x4d0a2f(0x1c7)](_0x4d0a2f(0x16b),{'val':_0x5dfd49,'ack':!![]});try{const _0x3a0e45=_0x4d0a2f(0x1b3),_0x5734ad=await _0x3c38ea[_0x4d0a2f(0x1ca)](_0x3a0e45);let _0x2b245d=[];if(_0x5734ad&&_0x5734ad['val'])try{_0x2b245d=JSON[_0x4d0a2f(0x16a)](_0x5734ad[_0x4d0a2f(0x1ba)]);}catch(_0x208dbb){}_0x2b245d[_0x4d0a2f(0x1c1)]({'ts':Date['now'](),'msg':_0x5dfd49});if(_0x2b245d['length']>0x32)_0x2b245d=_0x2b245d[_0x4d0a2f(0x1fb)](0x0,0x32);await _0x3c38ea['setStateAsync'](_0x3a0e45,{'val':JSON[_0x4d0a2f(0x192)](_0x2b245d),'ack':!![]});}catch(_0x2e24fb){}}async function handlePrediction(_0x5030e4,_0x16963e,_0x57a83c){const _0x44745d=a1_0x421342;if(!_0x16963e||_0x16963e==='Unknown')return;let _0x36b9fe='off',_0x1bd384=0.6;try{const _0x286b59=await _0x5030e4[_0x44745d(0x1ca)](_0x44745d(0x15b));if(_0x286b59&&_0x286b59[_0x44745d(0x1ba)])_0x36b9fe=_0x286b59['val'];const _0xf243f5=await _0x5030e4['getStateAsync'](_0x44745d(0x18a));if(_0xf243f5&&_0xf243f5[_0x44745d(0x1ba)])_0x1bd384=_0xf243f5[_0x44745d(0x1ba)];}catch(_0x39ea3a){}if(_0x36b9fe==='off'||_0x57a83c<_0x1bd384)return;const _0x3e8ba5=Date[_0x44745d(0x191)]();if(lastActions[_0x16963e]&&_0x3e8ba5-lastActions[_0x16963e]<COOLDOWN_MS)return;const _0x435448=_0x5030e4[_0x44745d(0x1d2)][_0x44745d(0x1c3)]||[],_0x240d34=normalize(_0x16963e),_0x60714d=_0x435448[_0x44745d(0x1ce)](_0x92642a=>normalize(_0x92642a[_0x44745d(0x179)])===_0x240d34&&(_0x92642a[_0x44745d(0x155)]===_0x44745d(0x162)||_0x92642a[_0x44745d(0x155)]==='dimmer'||_0x92642a[_0x44745d(0x155)]===_0x44745d(0x173)));if(!_0x60714d)return;const _0x352904=await aiAgent['consultButler'](_0x5030e4,_0x16963e,_0x60714d[_0x44745d(0x1a1)],_0x57a83c);if(!_0x352904[_0x44745d(0x203)])return;const _0x4da280=_0x44745d(0x189)+_0x16963e+'\x20->\x20Schalte\x20'+_0x60714d[_0x44745d(0x1a1)]+'\x20('+_0x352904[_0x44745d(0x156)]+')';await logAutomationAction(_0x5030e4,'['+_0x36b9fe['toUpperCase']()+']\x20'+_0x4da280);if(_0x36b9fe===_0x44745d(0x1cd)){const _0x3a742e=await _0x5030e4[_0x44745d(0x1f4)](_0x60714d['id']);(!_0x3a742e||!_0x3a742e['val']&&_0x3a742e['val']!==!![])&&await _0x5030e4[_0x44745d(0x1e6)](_0x60714d['id'],!![]),lastActions[_0x16963e]=_0x3e8ba5;}}async function findRelatedId(_0x2bd211,_0x33d7d0,_0x14eac6=a1_0x421342(0x16c)){const _0x185170=a1_0x421342;if(_0x14eac6===_0x185170(0x16c)&&_0x2bd211[_0x185170(0x1d2)][_0x185170(0x17b)]){let _0x503533=_0x2bd211[_0x185170(0x1d2)][_0x185170(0x17b)];if(typeof _0x503533===_0x185170(0x204))try{_0x503533=JSON[_0x185170(0x16a)](_0x503533);}catch(_0x40a0cb){}if(_0x503533&&_0x503533[_0x33d7d0])return _0x503533[_0x33d7d0];}if(_0x14eac6===_0x185170(0x20b)&&_0x2bd211['config'][_0x185170(0x1cc)]){let _0x519fd4=_0x2bd211[_0x185170(0x1d2)][_0x185170(0x1cc)];if(typeof _0x519fd4===_0x185170(0x204))try{_0x519fd4=JSON[_0x185170(0x16a)](_0x519fd4);}catch(_0x21ab45){}if(_0x519fd4&&_0x519fd4[_0x33d7d0])return _0x519fd4[_0x33d7d0];}let _0x33f99d=[];if(_0x14eac6==='setpoint')_0x33f99d=[{'s':_0x185170(0x1ac),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x185170(0x1ec),'t':_0x185170(0x17e)},{'s':_0x185170(0x1ec),'t':_0x185170(0x18b)},{'s':'ACTUAL_TEMPERATURE','t':_0x185170(0x169)},{'s':_0x185170(0x1d9),'t':_0x185170(0x1f0)},{'s':_0x185170(0x1d9),'t':_0x185170(0x1ed)},{'s':_0x185170(0x152),'t':'target_temperature'},{'s':'ACTUAL','t':_0x185170(0x1f8)},{'s':_0x185170(0x1c0),'t':'Soll'},{'s':_0x185170(0x152),'t':_0x185170(0x16c)}];else _0x14eac6===_0x185170(0x20b)&&(_0x33f99d=[{'s':'.1.ACTUAL_TEMPERATURE','t':'.1.LEVEL'},{'s':_0x185170(0x1ec),'t':_0x185170(0x1ee)},{'s':'.1.TEMPERATURE','t':_0x185170(0x1bf)},{'s':_0x185170(0x1d9),'t':_0x185170(0x178)},{'s':'temperature','t':_0x185170(0x1c8)},{'s':'temperature','t':'level'}]);for(const _0x16d111 of _0x33f99d){if(_0x33d7d0[_0x185170(0x18e)](_0x16d111['s'])){const _0xb95342=_0x33d7d0[_0x185170(0x1fc)](_0x16d111['s'],_0x16d111['t']),_0x2975ca=await _0x2bd211[_0x185170(0x185)](_0xb95342);if(_0x2975ca)return _0xb95342;}}try{const _0x52768f=_0x33d7d0[_0x185170(0x1a6)]('.');if(_0x52768f[_0x185170(0x1f2)]>0x2){const _0x3749e2=_0x52768f['slice'](0x0,-0x1)[_0x185170(0x18d)]('.'),_0x576a30=await _0x2bd211['getForeignObjectsAsync'](_0x3749e2+'.*'),_0x1f96bc=[],_0x1609d3=_0x33d7d0[_0x185170(0x1a6)](/[._]+/)['filter'](_0xa2e32b=>![_0x185170(0x175),'0','hm-rpc','ist','wert',_0x185170(0x152),'actual','sensor',_0x185170(0x186),_0x185170(0x1e0)][_0x185170(0x18e)](_0xa2e32b[_0x185170(0x1f5)]()));for(const [_0x327c06,_0x226b2a]of Object[_0x185170(0x157)](_0x576a30)){if(_0x327c06===_0x33d7d0)continue;if(_0x226b2a&&_0x226b2a[_0x185170(0x1eb)]){const _0x12c7eb=_0x327c06[_0x185170(0x1f5)](),_0x22f625=(_0x226b2a[_0x185170(0x1eb)]['role']||'')[_0x185170(0x1f5)](),_0x3e5c06=(_0x226b2a['common'][_0x185170(0x154)]||'')[_0x185170(0x1f5)]();let _0x382b95=![];if(_0x14eac6===_0x185170(0x16c)&&_0x226b2a[_0x185170(0x1eb)][_0x185170(0x168)]===!![])_0x382b95=_0x12c7eb[_0x185170(0x18e)](_0x185170(0x1f9))||_0x12c7eb['includes']('soll')||_0x12c7eb[_0x185170(0x18e)]('target')||_0x22f625[_0x185170(0x18e)](_0x185170(0x1a9))||_0x22f625[_0x185170(0x18e)](_0x185170(0x1cb));else _0x14eac6===_0x185170(0x20b)&&(_0x382b95=_0x12c7eb[_0x185170(0x18e)]('level')||_0x12c7eb['includes'](_0x185170(0x20b))||_0x12c7eb[_0x185170(0x18e)](_0x185170(0x190))||_0x12c7eb[_0x185170(0x18e)](_0x185170(0x160))||_0x22f625[_0x185170(0x18e)](_0x185170(0x1dc))||_0x22f625[_0x185170(0x18e)](_0x185170(0x1cf))||_0x3e5c06[_0x185170(0x18e)]('%'));if(_0x382b95){const _0x51eb48=_0x327c06[_0x185170(0x1a6)](/[._]+/)[_0x185170(0x199)](_0x34a895=>_0x34a895[_0x185170(0x1f5)]());let _0x645404=0x0;_0x1609d3['forEach'](_0xf839df=>{const _0x5e2a0e=_0x185170;if(_0x51eb48[_0x5e2a0e(0x18e)](_0xf839df['toLowerCase']()))_0x645404++;}),_0x1f96bc['push']({'id':_0x327c06,'score':_0x645404});}}}if(_0x1f96bc[_0x185170(0x1f2)]>0x0){_0x1f96bc['sort']((_0x2d1408,_0x1493ff)=>_0x1493ff[_0x185170(0x1a5)]-_0x2d1408[_0x185170(0x1a5)]);if(_0x1f96bc[0x0][_0x185170(0x1a5)]>0x0)return _0x1f96bc[0x0]['id'];}}}catch(_0x3ce851){}return null;}async function scanThermostats(_0x730a5){const _0x92af6=a1_0x421342,_0x5623ff=_0x730a5[_0x92af6(0x1d2)][_0x92af6(0x1c3)]||[],_0x2c040a=[],_0x5454ef=_0x5623ff[_0x92af6(0x161)](_0x1e2e04=>_0x1e2e04['id']&&_0x1e2e04['id'][_0x92af6(0x18e)](_0x92af6(0x152))||_0x1e2e04[_0x92af6(0x155)]&&[_0x92af6(0x152),_0x92af6(0x1c2),_0x92af6(0x197)][_0x92af6(0x18e)](_0x1e2e04[_0x92af6(0x155)])||_0x1e2e04[_0x92af6(0x1a1)]&&_0x1e2e04[_0x92af6(0x1a1)][_0x92af6(0x1f5)]()['includes'](_0x92af6(0x20c)));for(const _0x1bec61 of _0x5454ef){const _0x34de47=await findRelatedId(_0x730a5,_0x1bec61['id'],_0x92af6(0x16c)),_0x11175f=await findRelatedId(_0x730a5,_0x1bec61['id'],'valve');let _0x18421c=_0x92af6(0x167),_0x161621=![],_0x2f031e=_0x730a5[_0x92af6(0x1d2)][_0x92af6(0x17b)]||{};if(typeof _0x2f031e==='string')try{_0x2f031e=JSON[_0x92af6(0x16a)](_0x2f031e);}catch(_0x1209f4){}let _0x5cf340=_0x730a5[_0x92af6(0x1d2)]['valveMapping']||{};if(typeof _0x5cf340===_0x92af6(0x204))try{_0x5cf340=JSON[_0x92af6(0x16a)](_0x5cf340);}catch(_0x3cb5f4){}if(_0x2f031e[_0x1bec61['id']]&&_0x2f031e[_0x1bec61['id']]===_0x34de47||_0x5cf340[_0x1bec61['id']]&&_0x5cf340[_0x1bec61['id']]===_0x11175f)_0x18421c='Manuelles\x20Mapping',_0x161621=!![];else(_0x34de47||_0x11175f)&&(_0x18421c=_0x92af6(0x1e9));_0x2c040a[_0x92af6(0x15c)]({'room':_0x1bec61[_0x92af6(0x179)]||_0x92af6(0x1e4),'sensorId':_0x1bec61['id'],'setpointId':_0x34de47||'-','valveId':_0x11175f||'-','source':_0x18421c,'isManual':_0x161621,'status':_0x34de47&&_0x11175f?_0x92af6(0x19a):_0x34de47?'OK':_0x92af6(0x195)});}return _0x2c040a[_0x92af6(0x19c)]((_0x52285d,_0x23139d)=>_0x52285d[_0x92af6(0x184)][_0x92af6(0x151)](_0x23139d[_0x92af6(0x184)]));}async function updateSchedulePreview(_0x253c41){const _0x503338=a1_0x421342;if(!_0x253c41['config'][_0x503338(0x1fe)]||!_0x253c41['config'][_0x503338(0x1d0)])return;let _0x47c1a1={};try{const _0x4e7ec4=await _0x253c41['getStateAsync']('analysis.energy.warmupTimes');if(_0x4e7ec4&&_0x4e7ec4['val'])_0x47c1a1=JSON[_0x503338(0x16a)](_0x4e7ec4['val']);}catch(_0x5bf3d5){}const _0x395c4e=[],_0xda43cc=Date[_0x503338(0x191)](),_0x442b21=0x30*0x3c*0x3c*0x3e8;try{const _0x4f8086=await _0x253c41['getForeignStateAsync'](_0x253c41[_0x503338(0x1d2)][_0x503338(0x1d0)]+_0x503338(0x1b6));if(!_0x4f8086||!_0x4f8086[_0x503338(0x1ba)])return;const _0x31cc30=JSON[_0x503338(0x16a)](_0x4f8086[_0x503338(0x1ba)]),_0x8ccd75=_0x253c41[_0x503338(0x1d2)]['calendarSelection']||[],_0xa5ddd4=_0x253c41[_0x503338(0x1d2)]['devices']||[],_0xa27995=new Set();_0xa5ddd4[_0x503338(0x15a)](_0x55bb7c=>{const _0x1d73ae=_0x503338;if(_0x55bb7c[_0x1d73ae(0x179)])_0xa27995[_0x1d73ae(0x1db)](_0x55bb7c[_0x1d73ae(0x179)]);});for(const _0x5dc560 of _0x31cc30){if(_0x5dc560['_calName']&&_0x8ccd75['length']>0x0&&!_0x8ccd75[_0x503338(0x18e)](_0x5dc560['_calName']))continue;const _0x23ec02=_0x5dc560[_0x503338(0x18c)]||_0x5dc560[_0x503338(0x1bd)]||_0x5dc560[_0x503338(0x1ab)];if(!_0x23ec02)continue;const _0x2e3ee8=new Date(_0x23ec02),_0x2322fb=_0x2e3ee8[_0x503338(0x202)]();if(isNaN(_0x2322fb))continue;if(_0x2322fb<_0xda43cc)continue;if(_0x2322fb>_0xda43cc+_0x442b21)continue;const _0x4d8283=(_0x5dc560[_0x503338(0x165)]||_0x5dc560[_0x503338(0x171)]||'')['toLowerCase']();let _0x102820=![],_0x3f15ea=[],_0xe3b7d9=_0x5dc560['event']||_0x5dc560[_0x503338(0x171)]||_0x503338(0x1e4);if(_0x4d8283[_0x503338(0x18e)](_0x503338(0x1d6))||_0x4d8283['includes']('rÃ¼ckkehr')||_0x4d8283['includes'](_0x503338(0x1e8)))_0x102820=!![],_0x3f15ea=Array['from'](_0xa27995);else for(const _0x4a3c6c of _0xa27995){if(_0x4d8283['includes'](_0x4a3c6c[_0x503338(0x1f5)]()))_0x3f15ea['push'](_0x4a3c6c);}_0x3f15ea['length']>0x0&&_0x3f15ea[_0x503338(0x15a)](_0x2fc9d1=>{const _0x2c4186=_0x503338;let _0x5557b1=0x3c;if(_0x102820){let _0x705bf0=0x0;Object[_0x2c4186(0x1e5)](_0x47c1a1)[_0x2c4186(0x15a)](_0x146ecb=>{if(_0x146ecb>_0x705bf0)_0x705bf0=_0x146ecb;}),_0x5557b1=_0x705bf0>0x0?_0x705bf0:0x78;}else _0x5557b1=getWarmupRobust(_0x47c1a1,_0x2fc9d1);const _0x25a228=new Date(_0x2322fb-_0x5557b1*0xea60);_0x395c4e['push']({'eventTime':_0x2322fb,'triggerTime':_0x25a228[_0x2c4186(0x202)](),'room':_0x2fc9d1,'minutes':_0x5557b1,'reason':_0xe3b7d9,'isGlobal':_0x102820});});}}catch(_0x57eb81){}_0x395c4e[_0x503338(0x19c)]((_0x2fac8e,_0xd11c6e)=>_0x2fac8e['triggerTime']-_0xd11c6e[_0x503338(0x1fa)]);const _0x3574ea=_0x395c4e[_0x503338(0x1fb)](0x0,0x5);await _0x253c41[_0x503338(0x1c7)](_0x503338(0x15d),{'val':JSON[_0x503338(0x192)](_0x3574ea),'ack':!![]});}function a1_0x390f(){const _0x2e7d16=['normal','val','85SaSxsg','warn','eventStart','contact','.4.VALVE_STATE','Ist','unshift','thermostat','devices','search','getHours','analysis.energy.mpcActiveInterventions','setStateAsync','valve_position','\x20->\x20','getStateAsync','thermostat.setpoint','valveMapping','active','find','value.valve','calendarInstance','Â°C).\x20Entferne\x20Status.','config','error','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','analysis.energy.warmupSources','urlaub\x20ende','937844NKvxAt','currentSystemMode','local_temperature','Â°C\x20(nicht\x20','add','level.valve','analysis.energy.rlPenalties','_calName','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','state','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20','Â°C\x20(Vorlauf:\x20','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','Unbekannt','values','setForeignStateAsync','\x20erreicht\x20Limit\x20(','ankunft','Auto-Erkennung','toString','common','.1.TEMPERATURE','current_heating_setpoint','.1.LEVEL','(((.+)+)+)+$','occupied_heating_setpoint','Â°C\x20->\x20','length','rÃ¼ckkehr','getForeignStateAsync','toLowerCase','[MPC]\x20','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','SET','set','triggerTime','slice','replace','\x20gefunden!','useCalendar','\x20wurde\x20manuell\x20erhÃ¶ht.','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','getTime','approved','string','Â°C!\x20(Puffer:\x20','analysis.energy.warmupTimes','trim','rescue_','\x20min).','ðŸ§¹\x20[MPC\x20CLEANUP]\x20','valve','temp','localeCompare','temperature','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','unit','type','reason','entries','TRAIN_RL_PENALTY','Â°C\x20(via\x20','forEach','analysis.automation.mode','push','analysis.energy.schedulePreview','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','cal_','position','filter','light','mpc_','splice','event','message','Nicht\x20gefunden','write','SET_POINT_TEMPERATURE','parse','analysis.automation.lastAction','setpoint','exports','too_cold','\x20auf\x20','2896NbAPnL','summary','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','switch','findIndex','openknx',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','4830DpXFyG','pi_heating_demand','location','11EaISrR','thermostatMapping','analysis.energy.ventilationAlerts','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','.1.SET_POINT_TEMPERATURE','[FORCE]\x20','target','remove','Â°C.','27RIOYMU','room','getForeignObjectAsync','messwert',')\x20aktiv.\x20Heize\x20auf\x20','calendarSelection','PrÃ¤diktion:\x20','analysis.automation.confidenceThreshold','.4.SET_TEMPERATURE','_date','join','includes','Â°C).\x20Sparmodus\x20beendet!','stellwert','now','stringify','./ai_agent','2827335lbHxZV','Fehlt','Â°C!\x20(Puffer\x20leer).','sensor','478548fOmPFt','map','PERFECT','\x27\x20(Match:\x20','sort','\x20min)','info','analysis.energy.activeEnforcements','_meta','name','2774reCfUF','[WATCHDOG]\x20','manual','score','split','15TjmFiw','isArray','level.temperature','default','date','.1.ACTUAL_TEMPERATURE','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','log','sendToPythonWrapper','3987930EwluaQ','17038536VYwlzo','analysis.automation.actionLog','number','Enforcement\x20Monitor\x20Error:\x20','.data.table','analysis.energy.warmupTargets',']:\x20Raum-Trigger\x20\x27'];a1_0x390f=function(){return _0x2e7d16;};return a1_0x390f();}async function monitorEnforcements(_0x43c31d){const _0x300886=a1_0x421342;try{const _0x7cdadc='analysis.energy.activeEnforcements',_0x5085c1=await _0x43c31d[_0x300886(0x1ca)](_0x7cdadc);if(!_0x5085c1||!_0x5085c1[_0x300886(0x1ba)])return;let _0x44047c=[];try{_0x44047c=JSON[_0x300886(0x16a)](_0x5085c1[_0x300886(0x1ba)]);}catch(_0x5a11fa){return;}if(!Array[_0x300886(0x1a8)](_0x44047c)||_0x44047c['length']===0x0)return;const _0x544376=Date[_0x300886(0x191)](),_0x202e04=_0x43c31d[_0x300886(0x1d2)]['devices']||[];let _0x2f7520=![];for(let _0x7333e7=_0x44047c[_0x300886(0x1f2)]-0x1;_0x7333e7>=0x0;_0x7333e7--){const _0x1e1b3d=_0x44047c[_0x7333e7];if(_0x544376>=_0x1e1b3d['until']){_0x43c31d['log'][_0x300886(0x19e)]('ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20'+_0x1e1b3d[_0x300886(0x184)]+_0x300886(0x17d)),_0x44047c[_0x300886(0x164)](_0x7333e7,0x1),_0x2f7520=!![];continue;}const _0x51246d=_0x202e04['find'](_0x3ad0a3=>normalize(_0x3ad0a3[_0x300886(0x179)])===normalize(_0x1e1b3d[_0x300886(0x184)])&&(_0x3ad0a3[_0x300886(0x155)]==='temperature'||_0x3ad0a3[_0x300886(0x155)]==='thermostat'));if(_0x51246d){const _0x40a725=await findRelatedId(_0x43c31d,_0x51246d['id'],_0x300886(0x16c));if(_0x40a725){const _0x6d4e79=await _0x43c31d['getForeignStateAsync'](_0x40a725);_0x6d4e79&&typeof _0x6d4e79['val']==='number'&&(_0x6d4e79[_0x300886(0x1ba)]<0xf&&(_0x43c31d[_0x300886(0x1af)][_0x300886(0x1bc)](_0x300886(0x200)+_0x1e1b3d[_0x300886(0x184)]+_0x300886(0x16f)+_0x6d4e79['val']+_0x300886(0x172)+_0x1e1b3d['target']+_0x300886(0x182)),await _0x43c31d[_0x300886(0x1e6)](_0x40a725,_0x1e1b3d[_0x300886(0x180)]),await logAutomationAction(_0x43c31d,_0x300886(0x17f)+_0x1e1b3d[_0x300886(0x184)]+':\x20'+_0x6d4e79['val']+_0x300886(0x1f1)+_0x1e1b3d[_0x300886(0x180)]+'Â°C\x20(Kalender-Schutz)')));}}}_0x2f7520&&await _0x43c31d['setStateAsync'](_0x7cdadc,{'val':JSON[_0x300886(0x192)](_0x44047c),'ack':!![]});}catch(_0x3541c3){_0x43c31d[_0x300886(0x1af)][_0x300886(0x1d3)](_0x300886(0x1b5)+_0x3541c3[_0x300886(0x166)]);}}async function checkCalendarTriggers(_0x9dfb95){const _0x32a169=a1_0x421342;if(!_0x9dfb95[_0x32a169(0x1d2)][_0x32a169(0x1fe)]||!_0x9dfb95[_0x32a169(0x1d2)][_0x32a169(0x1d0)])return;await updateSchedulePreview(_0x9dfb95);let _0xd9801b={},_0x5c1c53={};try{const _0x59040a=await _0x9dfb95[_0x32a169(0x1ca)](_0x32a169(0x206));if(_0x59040a&&_0x59040a[_0x32a169(0x1ba)])_0xd9801b=JSON[_0x32a169(0x16a)](_0x59040a[_0x32a169(0x1ba)]);const _0x23ea78=await _0x9dfb95['getStateAsync'](_0x32a169(0x1d5));if(_0x23ea78&&_0x23ea78[_0x32a169(0x1ba)])_0x5c1c53=JSON[_0x32a169(0x16a)](_0x23ea78[_0x32a169(0x1ba)]);}catch(_0x1e7912){}let _0x63b7be={'default':0x15};try{const _0x5c1eb4=await _0x9dfb95[_0x32a169(0x1ca)](_0x32a169(0x1b7));if(_0x5c1eb4&&_0x5c1eb4[_0x32a169(0x1ba)])_0x63b7be=JSON[_0x32a169(0x16a)](_0x5c1eb4['val']);}catch(_0x167f6f){}let _0x2b710f=[];try{const _0xb45892=await _0x9dfb95[_0x32a169(0x1ca)](_0x32a169(0x19f));if(_0xb45892&&_0xb45892[_0x32a169(0x1ba)])_0x2b710f=JSON[_0x32a169(0x16a)](_0xb45892[_0x32a169(0x1ba)]);}catch(_0x58dd04){}try{const _0x2e4cc3=await _0x9dfb95[_0x32a169(0x1f4)](_0x9dfb95['config']['calendarInstance']+'.data.table');if(!_0x2e4cc3||!_0x2e4cc3[_0x32a169(0x1ba)])return;const _0x2a854d=JSON[_0x32a169(0x16a)](_0x2e4cc3['val']),_0x120f4a=Date[_0x32a169(0x191)](),_0x3f0b33=_0x9dfb95['config'][_0x32a169(0x1c3)]||[],_0x470cf3=_0x9dfb95[_0x32a169(0x1d2)][_0x32a169(0x188)]||[];let _0x1fc08d=![];for(const _0x23578b of _0x2a854d){if(_0x23578b[_0x32a169(0x1de)]&&_0x470cf3[_0x32a169(0x1f2)]>0x0&&!_0x470cf3['includes'](_0x23578b[_0x32a169(0x1de)]))continue;const _0x563990=_0x23578b[_0x32a169(0x18c)]||_0x23578b['eventStart']||_0x23578b[_0x32a169(0x1ab)];if(!_0x563990)continue;const _0xc300bc=new Date(_0x563990);if(isNaN(_0xc300bc[_0x32a169(0x202)]()))continue;const _0x35a71a=(_0x23578b[_0x32a169(0x165)]||_0x23578b[_0x32a169(0x171)]||'')['toLowerCase']();if(_0x35a71a['includes'](_0x32a169(0x1d6))||_0x35a71a['includes'](_0x32a169(0x1f3))||_0x35a71a[_0x32a169(0x18e)](_0x32a169(0x1e8))){let _0x431cf0=0x0;Object['values'](_0xd9801b)[_0x32a169(0x15a)](_0xa09f8c=>{if(_0xa09f8c>_0x431cf0)_0x431cf0=_0xa09f8c;});if(_0x431cf0===0x0)_0x431cf0=0x78;const _0x2095f2=_0xc300bc[_0x32a169(0x202)]()-_0x431cf0*0xea60;_0x120f4a>=_0x2095f2&&_0x120f4a<_0xc300bc[_0x32a169(0x202)]()&&(_0x9dfb95[_0x32a169(0x1d8)]!==_0x32a169(0x1b9)&&(_0x9dfb95[_0x32a169(0x1af)][_0x32a169(0x19e)](_0x32a169(0x1d4)+_0x431cf0+_0x32a169(0x209)),await _0x9dfb95[_0x32a169(0x1c7)]('system.mode',{'val':_0x32a169(0x1b9),'ack':![]})));}for(const _0xc5bae9 of _0x3f0b33){if(_0xc5bae9['location']){const _0x2b39d=_0xc5bae9['location']['toLowerCase'](),_0x236f48=(_0xc5bae9[_0x32a169(0x1a1)]||'')[_0x32a169(0x1f5)]();let _0x59ce91=_0x35a71a[_0x32a169(0x18e)](_0x2b39d);!_0x59ce91&&_0x236f48[_0x32a169(0x1f2)]>0x3&&_0x35a71a[_0x32a169(0x18e)](_0x236f48)&&(_0x59ce91=!![]);if(_0x59ce91){const _0x5314bd=getWarmupRobust(_0xd9801b,_0xc5bae9[_0x32a169(0x179)]),_0x4fb635=_0x5c1c53[_0xc5bae9['location']]||'Classic',_0x2d4bfb=_0xc300bc[_0x32a169(0x202)]()-_0x5314bd*0xea60;if(_0x120f4a>=_0x2d4bfb&&_0x120f4a<_0xc300bc[_0x32a169(0x202)]()){const _0x9bf55=lastActions[_0x32a169(0x15f)+_0xc5bae9[_0x32a169(0x179)]];if(_0x9bf55&&_0x120f4a-_0x9bf55<CAL_COOLDOWN_MS)continue;const _0x138507=await findRelatedId(_0x9dfb95,_0xc5bae9['id'],_0x32a169(0x16c));if(_0x138507){let _0x2152fb=_0x63b7be[_0xc5bae9[_0x32a169(0x179)]];if(_0x2152fb===undefined)_0x2152fb=_0x63b7be[_0x32a169(0x1aa)];if(_0x2152fb===undefined)_0x2152fb=0x15;const _0x5c7786=await _0x9dfb95['getForeignStateAsync'](_0x138507);if(_0x5c7786&&typeof _0x5c7786[_0x32a169(0x1ba)]===_0x32a169(0x1b4)&&_0x5c7786[_0x32a169(0x1ba)]<_0x2152fb-0.5){_0x9dfb95[_0x32a169(0x1af)]['info']('ðŸ“…\x20SMART\x20SCHEDULE\x20['+_0x4fb635+_0x32a169(0x1b8)+_0xc5bae9[_0x32a169(0x179)]+_0x32a169(0x19b)+_0x35a71a+_0x32a169(0x187)+_0x2152fb+_0x32a169(0x1e2)+_0x5314bd+_0x32a169(0x209)),await _0x9dfb95['setForeignStateAsync'](_0x138507,_0x2152fb),await logAutomationAction(_0x9dfb95,'[CAL]\x20'+_0xc5bae9[_0x32a169(0x179)]+_0x32a169(0x1c9)+_0x2152fb+_0x32a169(0x159)+_0x4fb635+')'),lastActions[_0x32a169(0x15f)+_0xc5bae9[_0x32a169(0x179)]]=_0x120f4a;const _0x172c03=_0x2b710f[_0x32a169(0x174)](_0x3be14a=>_0x3be14a[_0x32a169(0x184)]===_0xc5bae9['location']);if(_0x172c03!==-0x1)_0x2b710f[_0x32a169(0x164)](_0x172c03,0x1);_0x2b710f[_0x32a169(0x15c)]({'room':_0xc5bae9['location'],'target':_0x2152fb,'until':_0xc300bc[_0x32a169(0x202)]()}),_0x1fc08d=!![];}}}}}}}_0x1fc08d&&await _0x9dfb95[_0x32a169(0x1c7)](_0x32a169(0x19f),{'val':JSON[_0x32a169(0x192)](_0x2b710f),'ack':!![]});}catch(_0x3b3d30){_0x9dfb95[_0x32a169(0x1af)][_0x32a169(0x1bc)]('Calendar\x20Check\x20Error:\x20'+_0x3b3d30[_0x32a169(0x166)]);}}async function manageMpcIntervention(_0x30169f,_0x31b0fa,_0x3c90){const _0x3e00b2=a1_0x421342;try{const _0x308fbf=_0x3e00b2(0x1c6),_0x483d2f=await _0x30169f[_0x3e00b2(0x1ca)](_0x308fbf);let _0x409122=[];if(_0x483d2f&&_0x483d2f['val'])try{_0x409122=JSON['parse'](_0x483d2f[_0x3e00b2(0x1ba)]);}catch(_0x3fbf5f){}const _0x1fac4a=_0x409122['indexOf'](_0x31b0fa);if(_0x3c90===_0x3e00b2(0x1db))_0x1fac4a===-0x1&&(_0x409122[_0x3e00b2(0x15c)](_0x31b0fa),await _0x30169f[_0x3e00b2(0x1c7)](_0x308fbf,{'val':JSON[_0x3e00b2(0x192)](_0x409122),'ack':!![]}));else _0x3c90===_0x3e00b2(0x181)&&(_0x1fac4a!==-0x1&&(_0x409122[_0x3e00b2(0x164)](_0x1fac4a,0x1),await _0x30169f[_0x3e00b2(0x1c7)](_0x308fbf,{'val':JSON[_0x3e00b2(0x192)](_0x409122),'ack':!![]})));}catch(_0x1f111f){}}async function cleanupGhostInterventions(_0x22f85a){const _0x2bb974=a1_0x421342;try{const _0x1b65b9=_0x2bb974(0x1c6),_0x33a052=await _0x22f85a[_0x2bb974(0x1ca)](_0x1b65b9);if(!_0x33a052||!_0x33a052[_0x2bb974(0x1ba)])return;const _0xdb08fb=JSON[_0x2bb974(0x16a)](_0x33a052[_0x2bb974(0x1ba)]);if(!Array[_0x2bb974(0x1a8)](_0xdb08fb)||_0xdb08fb[_0x2bb974(0x1f2)]===0x0)return;let _0x207a61={'default':0x15};try{const _0x446885=await _0x22f85a[_0x2bb974(0x1ca)](_0x2bb974(0x1b7));if(_0x446885&&_0x446885[_0x2bb974(0x1ba)])_0x207a61=JSON[_0x2bb974(0x16a)](_0x446885[_0x2bb974(0x1ba)]);}catch(_0x5c6660){}let _0x275693=[];try{const _0x4690b2=await _0x22f85a[_0x2bb974(0x1ca)](_0x2bb974(0x17c));if(_0x4690b2&&_0x4690b2[_0x2bb974(0x1ba)])_0x275693=JSON['parse'](_0x4690b2[_0x2bb974(0x1ba)]);}catch(_0x149ff2){}let _0x1a5587={},_0x21071d=![];try{const _0x45b951=await _0x22f85a[_0x2bb974(0x1ca)](_0x2bb974(0x1dd));if(_0x45b951&&_0x45b951[_0x2bb974(0x1ba)])_0x1a5587=JSON[_0x2bb974(0x16a)](_0x45b951[_0x2bb974(0x1ba)]);}catch(_0x15b42c){}if(_0x1a5587[_0x2bb974(0x1a0)]){const _0x4e769e=Date['now']();for(const [_0x1cbc0d,_0x504aef]of Object[_0x2bb974(0x157)](_0x1a5587[_0x2bb974(0x1a0)])){_0x4e769e-_0x504aef>PENALTY_TTL&&(delete _0x1a5587[_0x1cbc0d],delete _0x1a5587[_0x2bb974(0x1a0)][_0x1cbc0d],_0x21071d=!![],_0x22f85a[_0x2bb974(0x1af)][_0x2bb974(0x19e)](_0x2bb974(0x1f7)+_0x1cbc0d+_0x2bb974(0x15e)));}}const _0x263184=_0x22f85a[_0x2bb974(0x1d2)][_0x2bb974(0x1c3)]||[];let _0x3a22c7=![];for(let _0x10a6ff=_0xdb08fb[_0x2bb974(0x1f2)]-0x1;_0x10a6ff>=0x0;_0x10a6ff--){const _0x47560c=_0xdb08fb[_0x10a6ff],_0xc1536d=_0x263184[_0x2bb974(0x1ce)](_0x1cfc16=>normalize(_0x1cfc16['location'])===normalize(_0x47560c)&&(_0x1cfc16[_0x2bb974(0x155)]===_0x2bb974(0x152)||_0x1cfc16[_0x2bb974(0x155)]===_0x2bb974(0x1c2)));if(!_0xc1536d){_0x22f85a[_0x2bb974(0x1af)][_0x2bb974(0x1bc)](_0x2bb974(0x1ad)+_0x47560c+_0x2bb974(0x1df)),_0xdb08fb['splice'](_0x10a6ff,0x1),_0x3a22c7=!![];continue;}if(_0xc1536d){const _0x1dffff=await findRelatedId(_0x22f85a,_0xc1536d['id'],_0x2bb974(0x16c)),_0x521820=await _0x22f85a[_0x2bb974(0x1f4)](_0xc1536d['id']);if(_0x1dffff){const _0x3784be=await _0x22f85a[_0x2bb974(0x1f4)](_0x1dffff);if(_0x3784be&&typeof _0x3784be[_0x2bb974(0x1ba)]===_0x2bb974(0x1b4)){let _0x5dffc8=![],_0x2b3726='';Math['abs'](_0x3784be[_0x2bb974(0x1ba)]-ECO_TEMP)>0.5&&(_0x5dffc8=!![],_0x2b3726='manual');if(!_0x5dffc8&&_0x521820&&typeof _0x521820[_0x2bb974(0x1ba)]===_0x2bb974(0x1b4)){const _0x268a11=_0x207a61[_0x47560c]||_0x207a61[_0x2bb974(0x1aa)]||0x15;_0x521820[_0x2bb974(0x1ba)]<_0x268a11+0.2&&(_0x5dffc8=!![],_0x2b3726='too_cold');}if(_0x5dffc8){if(_0x2b3726===_0x2bb974(0x1a4)){_0x22f85a[_0x2bb974(0x1af)][_0x2bb974(0x19e)](_0x2bb974(0x20a)+_0x47560c+'\x20ist\x20auf\x20'+_0x3784be[_0x2bb974(0x1ba)]+_0x2bb974(0x1da)+ECO_TEMP+_0x2bb974(0x1d1));const _0x8074b1=lastActions['cal_'+_0x47560c],_0x5dc14a=_0x8074b1&&Date[_0x2bb974(0x191)]()-_0x8074b1<0x2*0x3c*0x3e8;if(!_0x5dc14a&&_0x3784be[_0x2bb974(0x1ba)]>ECO_TEMP+0.5){_0x22f85a[_0x2bb974(0x1b0)]&&(_0x22f85a[_0x2bb974(0x1af)][_0x2bb974(0x19e)](_0x2bb974(0x153)+_0x47560c+_0x2bb974(0x1ff)),_0x22f85a['sendToPythonWrapper'](_0x2bb974(0x158),{'room':_0x47560c}));const _0x9afed6=_0x47560c+'_'+new Date()[_0x2bb974(0x1c5)]();if(!_0x1a5587[_0x9afed6]){_0x1a5587[_0x9afed6]=0x1;if(!_0x1a5587['_meta'])_0x1a5587['_meta']={};_0x1a5587[_0x2bb974(0x1a0)][_0x9afed6]=Date[_0x2bb974(0x191)](),_0x21071d=!![];}}else _0x5dc14a&&_0x22f85a[_0x2bb974(0x1af)][_0x2bb974(0x19e)]('ðŸ“…\x20[MPC\x20INFO]\x20'+_0x47560c+'\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x2b3726===_0x2bb974(0x16e)){let _0x4f224c=![];if(_0x275693[_0x2bb974(0x1ce)](_0x1f6e47=>_0x1f6e47['room']===_0x47560c))_0x4f224c=!![];const _0x163ca7=_0x263184[_0x2bb974(0x161)](_0x31fab1=>normalize(_0x31fab1[_0x2bb974(0x179)])===normalize(_0x47560c)&&(_0x31fab1[_0x2bb974(0x155)]==='window'||_0x31fab1[_0x2bb974(0x155)]==='sensor'||_0x31fab1[_0x2bb974(0x155)]===_0x2bb974(0x1be)));for(const _0x46b17d of _0x163ca7){try{const _0x8771c2=await _0x22f85a[_0x2bb974(0x1f4)](_0x46b17d['id']);if(_0x8771c2&&(_0x8771c2[_0x2bb974(0x1ba)]===!![]||_0x8771c2[_0x2bb974(0x1ba)]===0x1||String(_0x8771c2[_0x2bb974(0x1ba)])[_0x2bb974(0x1f5)]()==='open'))_0x4f224c=!![];}catch(_0x4acfd6){}}if(_0x4f224c)_0x22f85a[_0x2bb974(0x1af)]['info'](_0x2bb974(0x1e3)+_0x47560c+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x220d21=_0x207a61[_0x47560c]||_0x207a61[_0x2bb974(0x1aa)]||0x15;_0x22f85a[_0x2bb974(0x1af)]['info']('ðŸš¨\x20[MPC\x20WATCHDOG]\x20'+_0x47560c+_0x2bb974(0x1e7)+_0x521820[_0x2bb974(0x1ba)]+'Â°C\x20<\x20'+(_0x220d21+0.2)+_0x2bb974(0x18f)),await _0x22f85a['setForeignStateAsync'](_0x1dffff,_0x220d21),await logAutomationAction(_0x22f85a,_0x2bb974(0x1a3)+_0x47560c+_0x2bb974(0x176)+_0x220d21+'Â°C'),lastActions[_0x2bb974(0x208)+_0x47560c]=Date[_0x2bb974(0x191)]();}}}_0xdb08fb['splice'](_0x10a6ff,0x1),_0x3a22c7=!![];}}}}}_0x3a22c7&&await _0x22f85a[_0x2bb974(0x1c7)](_0x1b65b9,{'val':JSON[_0x2bb974(0x192)](_0xdb08fb),'ack':!![]}),_0x21071d&&await _0x22f85a[_0x2bb974(0x1c7)]('analysis.energy.rlPenalties',{'val':JSON[_0x2bb974(0x192)](_0x1a5587),'ack':!![]});}catch(_0x1bfeed){}}async function applyEnergySavings(_0x51e4e2,_0x2e4196){const _0x3c53c2=a1_0x421342;await cleanupGhostInterventions(_0x51e4e2);if(!_0x2e4196||_0x2e4196[_0x3c53c2(0x1f2)]===0x0)return;const _0x1d8233=_0x51e4e2[_0x3c53c2(0x1d2)][_0x3c53c2(0x1c3)]||[],_0x33cc96=Date[_0x3c53c2(0x191)]();for(const _0xcc4909 of _0x2e4196){const _0x488b0f=_0xcc4909['room'],_0x422dbd=_0xcc4909['minutes_safe'],_0x1921f7=_0xcc4909['target']||0x15;if(lastActions['rescue_'+_0x488b0f]&&_0x33cc96-lastActions[_0x3c53c2(0x208)+_0x488b0f]<RESCUE_LOCK_MS)continue;const _0x47c916=_0x1d8233[_0x3c53c2(0x1ce)](_0xa5c361=>normalize(_0xa5c361[_0x3c53c2(0x179)])===normalize(_0x488b0f)&&(_0xa5c361[_0x3c53c2(0x155)]===_0x3c53c2(0x152)||_0xa5c361[_0x3c53c2(0x155)]===_0x3c53c2(0x1c2)));if(!_0x47c916)continue;const _0x4c20c2=await findRelatedId(_0x51e4e2,_0x47c916['id'],_0x3c53c2(0x16c));if(_0x4c20c2){if(lastActions[_0x3c53c2(0x163)+_0x488b0f]&&_0x33cc96-lastActions['mpc_'+_0x488b0f]<0x1e*0x3c*0x3e8)continue;const _0x557e98=await _0x51e4e2['getForeignStateAsync'](_0x4c20c2);if(_0x557e98&&typeof _0x557e98['val']===_0x3c53c2(0x1b4)){const _0x538c32=_0x557e98['val'];_0x538c32!==ECO_TEMP&&await manageMpcIntervention(_0x51e4e2,_0x488b0f,_0x3c53c2(0x181));if(_0x422dbd>0x1e)_0x538c32>ECO_TEMP+0.5&&(_0x51e4e2[_0x3c53c2(0x1af)][_0x3c53c2(0x19e)](_0x3c53c2(0x1ae)+_0x488b0f+_0x3c53c2(0x16f)+ECO_TEMP+_0x3c53c2(0x205)+_0x422dbd+_0x3c53c2(0x19d)),await _0x51e4e2[_0x3c53c2(0x1e6)](_0x4c20c2,ECO_TEMP),await manageMpcIntervention(_0x51e4e2,_0x488b0f,'add'),lastActions[_0x3c53c2(0x163)+_0x488b0f]=_0x33cc96,await logAutomationAction(_0x51e4e2,_0x3c53c2(0x1f6)+_0x488b0f+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'Â°C'));else _0x422dbd<=0xf&&(_0x538c32<_0x1921f7&&(_0x51e4e2['log']['info'](_0x3c53c2(0x1e1)+_0x488b0f+'\x20wieder\x20auf\x20'+_0x1921f7+_0x3c53c2(0x196)),await _0x51e4e2[_0x3c53c2(0x1e6)](_0x4c20c2,_0x1921f7),await manageMpcIntervention(_0x51e4e2,_0x488b0f,'remove'),lastActions[_0x3c53c2(0x163)+_0x488b0f]=_0x33cc96,await logAutomationAction(_0x51e4e2,_0x3c53c2(0x1f6)+_0x488b0f+':\x20Aufheizen\x20auf\x20'+_0x1921f7+'Â°C')));}}else _0x51e4e2[_0x3c53c2(0x1af)][_0x3c53c2(0x1bc)](_0x3c53c2(0x201)+_0x488b0f+_0x3c53c2(0x1fd));}}module[a1_0x421342(0x16d)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};