const a1_0x41b97b=a1_0x29fd;(function(_0x5c9f47,_0x2e91d6){const _0x2a56cd=a1_0x29fd,_0x3ba0d7=_0x5c9f47();while(!![]){try{const _0x818bba=-parseInt(_0x2a56cd(0xbd))/0x1+-parseInt(_0x2a56cd(0x12a))/0x2+parseInt(_0x2a56cd(0x146))/0x3+-parseInt(_0x2a56cd(0x11a))/0x4*(parseInt(_0x2a56cd(0x8f))/0x5)+parseInt(_0x2a56cd(0xfe))/0x6+-parseInt(_0x2a56cd(0x123))/0x7*(parseInt(_0x2a56cd(0xe5))/0x8)+parseInt(_0x2a56cd(0xaf))/0x9;if(_0x818bba===_0x2e91d6)break;else _0x3ba0d7['push'](_0x3ba0d7['shift']());}catch(_0x2b9db4){_0x3ba0d7['push'](_0x3ba0d7['shift']());}}}(a1_0x5c32,0x94f4d));function a1_0x29fd(_0x317486,_0x2c1a60){const _0x1171bf=a1_0x5c32();return a1_0x29fd=function(_0x437e60,_0x5d587c){_0x437e60=_0x437e60-0x88;let _0x5c32e4=_0x1171bf[_0x437e60];return _0x5c32e4;},a1_0x29fd(_0x317486,_0x2c1a60);}function a1_0x5c32(){const _0x4587d0=['active','setForeignStateAsync','window','1932501nTIfSF','¬∞C.','üî•\x20[MPC\x20ACTION]\x20Heize\x20','[CAL]\x20','mpc_','.1.LEVEL','_date','log','splice','string','70705ZllclF','valve_position','name','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','common','now','getTime','SET','state','push','valveMapping','light','¬∞C\x20(via\x20','isArray','parse','üßπ\x20[MPC\x20CLEANUP]\x20','[WATCHDOG]\x20','level.valve','add','analysis.energy.warmupTimes','thermostat','Ist','triggerTime','sensor','\x20gefunden!','Unbekannt','toLowerCase','consultButler','setpoint','getForeignObjectsAsync','setStateAsync','level','17560710YJGQGe','event','temperature','_meta','entries','sort','ist','useCalendar','thermostatMapping','position','occupied_heating_setpoint','filter','.4.VALVE_STATE','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','524016WVxBKy','analysis.automation.confidenceThreshold','\x20auf\x20','getHours','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.',':\x20Absenkung\x20auf\x20','constructor','TRAIN_RL_PENALTY','¬∞C!\x20(Puffer:\x20','target_temperature','analysis.energy.mpcActiveInterventions','Classic','devices','valve','urlaub\x20ende','score','Manuelles\x20Mapping','value.valve','¬∞C\x20(Kalender-Schutz)','local_temperature','calendarInstance','apply','stringify','date','number','open','Pr√§diktion:\x20','_calName','thermostat.setpoint','stellwert','wert','info','summary','minutes_safe','map','\x20min).','values','ACTUAL_TEMPERATURE','abs','actual','226952ihVofI','getForeignStateAsync','üö®\x20[MPC\x20WATCHDOG]\x20','analysis.energy.activeEnforcements','config','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','./ai_agent','unit','calendarSelection','getForeignObjectAsync','temp','Soll','remove','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','reason','type','¬∞C\x20(nicht\x20','target','system.mode','val','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','error','.4.SET_TEMPERATURE','role','room','4808364GsfOfO','.1.ACTUAL_TEMPERATURE','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','findIndex','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','localeCompare','toUpperCase','\x20min)','ankunft','r√ºckkehr','.data.table','pi_heating_demand','default','\x20erreicht\x20Limit\x20(','sendToPythonWrapper','Fehlt','warn','hm-rpc','slice','.1.TEMPERATURE','analysis.energy.warmupTargets','normal','indexOf','\x20ist\x20auf\x20','Calendar\x20Check\x20Error:\x20','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','analysis.automation.lastAction','replace','164lkTuxH','getStateAsync','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','forEach','search','unshift','until','trim','manual','147evLyqS','cal_','.1.SET_POINT_TEMPERATURE','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20',']:\x20Raum-Trigger\x20\x27','message','¬∞C\x20(Vorlauf:\x20','2174160dfISuD','split','[MPC]\x20','location','\x20->\x20Schalte\x20','eventStart','rescue_','(((.+)+)+)+$','messwert','toString','üìÖ\x20SMART\x20SCHEDULE\x20[','includes','approved',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','analysis.energy.rlPenalties','analysis.automation.mode','length','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','SET_POINT_TEMPERATURE','from','PERFECT','find','too_cold','off','switch'];a1_0x5c32=function(){return _0x4587d0;};return a1_0x5c32();}const a1_0x5d587c=(function(){let _0x1e1a87=!![];return function(_0x38e756,_0x1a840e){const _0x39ee58=_0x1e1a87?function(){const _0x3e04b2=a1_0x29fd;if(_0x1a840e){const _0x2fec51=_0x1a840e[_0x3e04b2(0xd2)](_0x38e756,arguments);return _0x1a840e=null,_0x2fec51;}}:function(){};return _0x1e1a87=![],_0x39ee58;};}()),a1_0x437e60=a1_0x5d587c(this,function(){const _0x1d915a=a1_0x29fd;return a1_0x437e60[_0x1d915a(0x133)]()[_0x1d915a(0x11e)](_0x1d915a(0x131))[_0x1d915a(0x133)]()[_0x1d915a(0xc3)](a1_0x437e60)[_0x1d915a(0x11e)](_0x1d915a(0x131));});a1_0x437e60();'use strict';const aiAgent=require(a1_0x41b97b(0xeb)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x56b9af){const _0x39b7eb=a1_0x41b97b;if(!_0x56b9af)return'';return _0x56b9af[_0x39b7eb(0xa9)]()['replace'](/\s+/g,'')[_0x39b7eb(0x121)]();}function getWarmupRobust(_0x50d663,_0x169ace){const _0x7e17b8=a1_0x41b97b;if(!_0x50d663||!_0x169ace)return 0x3c;if(_0x50d663[_0x169ace]!==undefined)return _0x50d663[_0x169ace];const _0x375dad=_0x169ace[_0x7e17b8(0xa9)]()[_0x7e17b8(0x119)](/√§/g,'ae')[_0x7e17b8(0x119)](/√∂/g,'oe')[_0x7e17b8(0x119)](/√º/g,'ue')['replace'](/√ü/g,'ss')[_0x7e17b8(0x119)](/\s+/g,'_')[_0x7e17b8(0x119)](/[^a-z0-9_]/g,'');if(_0x50d663[_0x375dad]!==undefined)return _0x50d663[_0x375dad];return 0x3c;}async function logAutomationAction(_0x1c3f1d,_0x3ce707){const _0xfccd19=a1_0x41b97b;await _0x1c3f1d[_0xfccd19(0xad)](_0xfccd19(0x118),{'val':_0x3ce707,'ack':!![]});try{const _0x46eacf='analysis.automation.actionLog',_0x108855=await _0x1c3f1d[_0xfccd19(0x11b)](_0x46eacf);let _0x599ab4=[];if(_0x108855&&_0x108855[_0xfccd19(0xf8)])try{_0x599ab4=JSON[_0xfccd19(0x9d)](_0x108855[_0xfccd19(0xf8)]);}catch(_0x29ff0d){}_0x599ab4[_0xfccd19(0x11f)]({'ts':Date[_0xfccd19(0x94)](),'msg':_0x3ce707});if(_0x599ab4[_0xfccd19(0x13a)]>0x32)_0x599ab4=_0x599ab4[_0xfccd19(0x110)](0x0,0x32);await _0x1c3f1d[_0xfccd19(0xad)](_0x46eacf,{'val':JSON[_0xfccd19(0xd3)](_0x599ab4),'ack':!![]});}catch(_0x138c35){}}async function handlePrediction(_0x22a37d,_0x16949c,_0x436e3e){const _0x53925c=a1_0x41b97b;if(!_0x16949c||_0x16949c==='Unknown')return;let _0x27290d=_0x53925c(0x141),_0x27b3d8=0.6;try{const _0x5596ce=await _0x22a37d[_0x53925c(0x11b)](_0x53925c(0x139));if(_0x5596ce&&_0x5596ce[_0x53925c(0xf8)])_0x27290d=_0x5596ce[_0x53925c(0xf8)];const _0x22aebf=await _0x22a37d['getStateAsync'](_0x53925c(0xbe));if(_0x22aebf&&_0x22aebf[_0x53925c(0xf8)])_0x27b3d8=_0x22aebf[_0x53925c(0xf8)];}catch(_0x548812){}if(_0x27290d===_0x53925c(0x141)||_0x436e3e<_0x27b3d8)return;const _0x3f51ef=Date[_0x53925c(0x94)]();if(lastActions[_0x16949c]&&_0x3f51ef-lastActions[_0x16949c]<COOLDOWN_MS)return;const _0x2d90c2=_0x22a37d[_0x53925c(0xe9)][_0x53925c(0xc9)]||[],_0x12c2c4=normalize(_0x16949c),_0x2309cc=_0x2d90c2[_0x53925c(0x13f)](_0x11bd22=>normalize(_0x11bd22['location'])===_0x12c2c4&&(_0x11bd22['type']===_0x53925c(0x9a)||_0x11bd22[_0x53925c(0xf4)]==='dimmer'||_0x11bd22[_0x53925c(0xf4)]===_0x53925c(0x142)));if(!_0x2309cc)return;const _0x19134c=await aiAgent[_0x53925c(0xaa)](_0x22a37d,_0x16949c,_0x2309cc['name'],_0x436e3e);if(!_0x19134c[_0x53925c(0x136)])return;const _0x22db5f=_0x53925c(0xd7)+_0x16949c+_0x53925c(0x12e)+_0x2309cc['name']+'\x20('+_0x19134c[_0x53925c(0xf3)]+')';await logAutomationAction(_0x22a37d,'['+_0x27290d[_0x53925c(0x104)]()+']\x20'+_0x22db5f);if(_0x27290d===_0x53925c(0x143)){const _0x2fa720=await _0x22a37d[_0x53925c(0xe6)](_0x2309cc['id']);(!_0x2fa720||!_0x2fa720[_0x53925c(0xf8)]&&_0x2fa720[_0x53925c(0xf8)]!==!![])&&await _0x22a37d[_0x53925c(0x144)](_0x2309cc['id'],!![]),lastActions[_0x16949c]=_0x3f51ef;}}async function findRelatedId(_0x58caa8,_0x12d593,_0x213295=a1_0x41b97b(0xab)){const _0x27aed4=a1_0x41b97b;if(_0x213295===_0x27aed4(0xab)&&_0x58caa8[_0x27aed4(0xe9)][_0x27aed4(0xb7)]){let _0x3328ee=_0x58caa8[_0x27aed4(0xe9)][_0x27aed4(0xb7)];if(typeof _0x3328ee===_0x27aed4(0x8e))try{_0x3328ee=JSON[_0x27aed4(0x9d)](_0x3328ee);}catch(_0x229674){}if(_0x3328ee&&_0x3328ee[_0x12d593])return _0x3328ee[_0x12d593];}if(_0x213295===_0x27aed4(0xca)&&_0x58caa8['config'][_0x27aed4(0x99)]){let _0x2e4cb8=_0x58caa8[_0x27aed4(0xe9)]['valveMapping'];if(typeof _0x2e4cb8==='string')try{_0x2e4cb8=JSON[_0x27aed4(0x9d)](_0x2e4cb8);}catch(_0x65af21){}if(_0x2e4cb8&&_0x2e4cb8[_0x12d593])return _0x2e4cb8[_0x12d593];}let _0xd3be1a=[];if(_0x213295==='setpoint')_0xd3be1a=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x27aed4(0x125)},{'s':_0x27aed4(0x111),'t':_0x27aed4(0x125)},{'s':_0x27aed4(0x111),'t':_0x27aed4(0xfb)},{'s':_0x27aed4(0xe2),'t':_0x27aed4(0x13c)},{'s':_0x27aed4(0xd0),'t':_0x27aed4(0xb9)},{'s':_0x27aed4(0xd0),'t':'current_heating_setpoint'},{'s':'temperature','t':_0x27aed4(0xc6)},{'s':'ACTUAL','t':_0x27aed4(0x96)},{'s':_0x27aed4(0xa4),'t':_0x27aed4(0xf0)},{'s':_0x27aed4(0xb1),'t':_0x27aed4(0xab)}];else _0x213295===_0x27aed4(0xca)&&(_0xd3be1a=[{'s':_0x27aed4(0xff),'t':_0x27aed4(0x8a)},{'s':_0x27aed4(0x111),'t':_0x27aed4(0x8a)},{'s':_0x27aed4(0x111),'t':_0x27aed4(0xbb)},{'s':_0x27aed4(0xd0),'t':_0x27aed4(0x109)},{'s':_0x27aed4(0xb1),'t':_0x27aed4(0x90)},{'s':_0x27aed4(0xb1),'t':_0x27aed4(0xae)}]);for(const _0x2bc1f6 of _0xd3be1a){if(_0x12d593[_0x27aed4(0x135)](_0x2bc1f6['s'])){const _0xd6de99=_0x12d593[_0x27aed4(0x119)](_0x2bc1f6['s'],_0x2bc1f6['t']),_0x59cc4f=await _0x58caa8[_0x27aed4(0xee)](_0xd6de99);if(_0x59cc4f)return _0xd6de99;}}try{const _0xaea7f4=_0x12d593[_0x27aed4(0x12b)]('.');if(_0xaea7f4[_0x27aed4(0x13a)]>0x2){const _0x2c3543=_0xaea7f4[_0x27aed4(0x110)](0x0,-0x1)['join']('.'),_0x3dfa0f=await _0x58caa8[_0x27aed4(0xac)](_0x2c3543+'.*'),_0xc4551e=[],_0xe418da=_0x12d593['split'](/[._]+/)['filter'](_0x356594=>!['openknx','0',_0x27aed4(0x10f),_0x27aed4(0xb5),_0x27aed4(0xdb),_0x27aed4(0xb1),_0x27aed4(0xe4),_0x27aed4(0xa6),_0x27aed4(0x132),_0x27aed4(0x97)][_0x27aed4(0x135)](_0x356594['toLowerCase']()));for(const [_0x55e1df,_0x2441bd]of Object[_0x27aed4(0xb3)](_0x3dfa0f)){if(_0x55e1df===_0x12d593)continue;if(_0x2441bd&&_0x2441bd[_0x27aed4(0x93)]){const _0x1b3cb9=_0x55e1df[_0x27aed4(0xa9)](),_0x301913=(_0x2441bd[_0x27aed4(0x93)][_0x27aed4(0xfc)]||'')[_0x27aed4(0xa9)](),_0x872314=(_0x2441bd[_0x27aed4(0x93)][_0x27aed4(0xec)]||'')[_0x27aed4(0xa9)]();let _0x37bce3=![];if(_0x213295===_0x27aed4(0xab)&&_0x2441bd[_0x27aed4(0x93)]['write']===!![])_0x37bce3=_0x1b3cb9['includes']('set')||_0x1b3cb9['includes']('soll')||_0x1b3cb9['includes'](_0x27aed4(0xf6))||_0x301913[_0x27aed4(0x135)]('level.temperature')||_0x301913[_0x27aed4(0x135)](_0x27aed4(0xd9));else _0x213295===_0x27aed4(0xca)&&(_0x37bce3=_0x1b3cb9[_0x27aed4(0x135)]('level')||_0x1b3cb9['includes'](_0x27aed4(0xca))||_0x1b3cb9['includes'](_0x27aed4(0xda))||_0x1b3cb9[_0x27aed4(0x135)](_0x27aed4(0xb8))||_0x301913[_0x27aed4(0x135)](_0x27aed4(0xa0))||_0x301913[_0x27aed4(0x135)](_0x27aed4(0xce))||_0x872314[_0x27aed4(0x135)]('%'));if(_0x37bce3){const _0x4961ea=_0x55e1df[_0x27aed4(0x12b)](/[._]+/)[_0x27aed4(0xdf)](_0x2f86f6=>_0x2f86f6[_0x27aed4(0xa9)]());let _0x3824e6=0x0;_0xe418da[_0x27aed4(0x11d)](_0x561830=>{const _0x54c778=_0x27aed4;if(_0x4961ea['includes'](_0x561830[_0x54c778(0xa9)]()))_0x3824e6++;}),_0xc4551e[_0x27aed4(0x98)]({'id':_0x55e1df,'score':_0x3824e6});}}}if(_0xc4551e[_0x27aed4(0x13a)]>0x0){_0xc4551e[_0x27aed4(0xb4)]((_0x297770,_0x5a3c3)=>_0x5a3c3[_0x27aed4(0xcc)]-_0x297770[_0x27aed4(0xcc)]);if(_0xc4551e[0x0]['score']>0x0)return _0xc4551e[0x0]['id'];}}}catch(_0x24953d){}return null;}async function scanThermostats(_0x3d4636){const _0x3ae872=a1_0x41b97b,_0x3ea9fb=_0x3d4636[_0x3ae872(0xe9)][_0x3ae872(0xc9)]||[],_0x492b57=[],_0x106924=_0x3ea9fb['filter'](_0x5c4b11=>_0x5c4b11['id']&&_0x5c4b11['id'][_0x3ae872(0x135)]('temperature')||_0x5c4b11[_0x3ae872(0xf4)]&&[_0x3ae872(0xb1),_0x3ae872(0xa3),_0x3ae872(0xa6)][_0x3ae872(0x135)](_0x5c4b11[_0x3ae872(0xf4)])||_0x5c4b11['name']&&_0x5c4b11[_0x3ae872(0x91)]['toLowerCase']()['includes'](_0x3ae872(0xef)));for(const _0xd7ed94 of _0x106924){const _0x115e42=await findRelatedId(_0x3d4636,_0xd7ed94['id'],'setpoint'),_0x526d75=await findRelatedId(_0x3d4636,_0xd7ed94['id'],_0x3ae872(0xca));let _0x182724='Nicht\x20gefunden',_0x36d41e=![],_0x4e39a0=_0x3d4636[_0x3ae872(0xe9)][_0x3ae872(0xb7)]||{};if(typeof _0x4e39a0===_0x3ae872(0x8e))try{_0x4e39a0=JSON['parse'](_0x4e39a0);}catch(_0x335f7a){}let _0x53aa24=_0x3d4636[_0x3ae872(0xe9)][_0x3ae872(0x99)]||{};if(typeof _0x53aa24===_0x3ae872(0x8e))try{_0x53aa24=JSON['parse'](_0x53aa24);}catch(_0x3befdf){}if(_0x4e39a0[_0xd7ed94['id']]&&_0x4e39a0[_0xd7ed94['id']]===_0x115e42||_0x53aa24[_0xd7ed94['id']]&&_0x53aa24[_0xd7ed94['id']]===_0x526d75)_0x182724=_0x3ae872(0xcd),_0x36d41e=!![];else(_0x115e42||_0x526d75)&&(_0x182724='Auto-Erkennung');_0x492b57[_0x3ae872(0x98)]({'room':_0xd7ed94[_0x3ae872(0x12d)]||_0x3ae872(0xa8),'sensorId':_0xd7ed94['id'],'setpointId':_0x115e42||'-','valveId':_0x526d75||'-','source':_0x182724,'isManual':_0x36d41e,'status':_0x115e42&&_0x526d75?_0x3ae872(0x13e):_0x115e42?'OK':_0x3ae872(0x10d)});}return _0x492b57[_0x3ae872(0xb4)]((_0x1a344a,_0x3e9007)=>_0x1a344a[_0x3ae872(0xfd)][_0x3ae872(0x103)](_0x3e9007[_0x3ae872(0xfd)]));}async function updateSchedulePreview(_0x3b3954){const _0x31a436=a1_0x41b97b;if(!_0x3b3954[_0x31a436(0xe9)][_0x31a436(0xb6)]||!_0x3b3954[_0x31a436(0xe9)][_0x31a436(0xd1)])return;let _0x17293b={};try{const _0x5bdc69=await _0x3b3954[_0x31a436(0x11b)](_0x31a436(0xa2));if(_0x5bdc69&&_0x5bdc69[_0x31a436(0xf8)])_0x17293b=JSON[_0x31a436(0x9d)](_0x5bdc69[_0x31a436(0xf8)]);}catch(_0x28cecb){}const _0x4ec7bd=[],_0x989d82=Date[_0x31a436(0x94)](),_0x4b4b61=0x30*0x3c*0x3c*0x3e8;try{const _0x19e384=await _0x3b3954[_0x31a436(0xe6)](_0x3b3954[_0x31a436(0xe9)]['calendarInstance']+_0x31a436(0x108));if(!_0x19e384||!_0x19e384[_0x31a436(0xf8)])return;const _0x1d3960=JSON['parse'](_0x19e384[_0x31a436(0xf8)]),_0x452adc=_0x3b3954['config'][_0x31a436(0xed)]||[],_0x2460a0=_0x3b3954[_0x31a436(0xe9)][_0x31a436(0xc9)]||[],_0x4eb61b=new Set();_0x2460a0[_0x31a436(0x11d)](_0x4696da=>{const _0x44ed19=_0x31a436;if(_0x4696da[_0x44ed19(0x12d)])_0x4eb61b['add'](_0x4696da[_0x44ed19(0x12d)]);});for(const _0x4f92f7 of _0x1d3960){if(_0x4f92f7['_calName']&&_0x452adc[_0x31a436(0x13a)]>0x0&&!_0x452adc[_0x31a436(0x135)](_0x4f92f7[_0x31a436(0xd8)]))continue;const _0xb78fd0=_0x4f92f7[_0x31a436(0x8b)]||_0x4f92f7[_0x31a436(0x12f)]||_0x4f92f7[_0x31a436(0xd4)];if(!_0xb78fd0)continue;const _0x47d181=new Date(_0xb78fd0),_0x2e3468=_0x47d181[_0x31a436(0x95)]();if(isNaN(_0x2e3468))continue;if(_0x2e3468<_0x989d82)continue;if(_0x2e3468>_0x989d82+_0x4b4b61)continue;const _0x33701e=(_0x4f92f7['event']||_0x4f92f7['summary']||'')[_0x31a436(0xa9)]();let _0x7f0eba=![],_0x72425=[],_0x1f606f=_0x4f92f7[_0x31a436(0xb0)]||_0x4f92f7[_0x31a436(0xdd)]||'Unbekannt';if(_0x33701e['includes']('urlaub\x20ende')||_0x33701e['includes'](_0x31a436(0x107))||_0x33701e['includes'](_0x31a436(0x106)))_0x7f0eba=!![],_0x72425=Array[_0x31a436(0x13d)](_0x4eb61b);else for(const _0x34ee20 of _0x4eb61b){if(_0x33701e[_0x31a436(0x135)](_0x34ee20['toLowerCase']()))_0x72425[_0x31a436(0x98)](_0x34ee20);}_0x72425[_0x31a436(0x13a)]>0x0&&_0x72425[_0x31a436(0x11d)](_0x272534=>{const _0x5f195b=_0x31a436;let _0x35e8d9=0x3c;if(_0x7f0eba){let _0x45129b=0x0;Object['values'](_0x17293b)[_0x5f195b(0x11d)](_0x58ab8c=>{if(_0x58ab8c>_0x45129b)_0x45129b=_0x58ab8c;}),_0x35e8d9=_0x45129b>0x0?_0x45129b:0x78;}else _0x35e8d9=getWarmupRobust(_0x17293b,_0x272534);const _0x4ac766=new Date(_0x2e3468-_0x35e8d9*0xea60);_0x4ec7bd[_0x5f195b(0x98)]({'eventTime':_0x2e3468,'triggerTime':_0x4ac766['getTime'](),'room':_0x272534,'minutes':_0x35e8d9,'reason':_0x1f606f,'isGlobal':_0x7f0eba});});}}catch(_0x1463ed){}_0x4ec7bd['sort']((_0x4ff93a,_0x1faa11)=>_0x4ff93a[_0x31a436(0xa5)]-_0x1faa11[_0x31a436(0xa5)]);const _0x22f25a=_0x4ec7bd[_0x31a436(0x110)](0x0,0x5);await _0x3b3954[_0x31a436(0xad)]('analysis.energy.schedulePreview',{'val':JSON['stringify'](_0x22f25a),'ack':!![]});}async function monitorEnforcements(_0x15e68d){const _0x5386a0=a1_0x41b97b;try{const _0x4efef7=_0x5386a0(0xe8),_0x5d8ac5=await _0x15e68d[_0x5386a0(0x11b)](_0x4efef7);if(!_0x5d8ac5||!_0x5d8ac5[_0x5386a0(0xf8)])return;let _0x2185d8=[];try{_0x2185d8=JSON[_0x5386a0(0x9d)](_0x5d8ac5[_0x5386a0(0xf8)]);}catch(_0x330c73){return;}if(!Array['isArray'](_0x2185d8)||_0x2185d8['length']===0x0)return;const _0x5a8468=Date[_0x5386a0(0x94)](),_0x133866=_0x15e68d[_0x5386a0(0xe9)][_0x5386a0(0xc9)]||[];let _0x29143b=![];for(let _0x4c18d6=_0x2185d8[_0x5386a0(0x13a)]-0x1;_0x4c18d6>=0x0;_0x4c18d6--){const _0x5e0fe1=_0x2185d8[_0x4c18d6];if(_0x5a8468>=_0x5e0fe1[_0x5386a0(0x120)]){_0x15e68d[_0x5386a0(0x8c)][_0x5386a0(0xdc)]('üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20'+_0x5e0fe1[_0x5386a0(0xfd)]+_0x5386a0(0xf2)),_0x2185d8['splice'](_0x4c18d6,0x1),_0x29143b=!![];continue;}const _0x39b287=_0x133866['find'](_0x8a181e=>normalize(_0x8a181e[_0x5386a0(0x12d)])===normalize(_0x5e0fe1['room'])&&(_0x8a181e[_0x5386a0(0xf4)]===_0x5386a0(0xb1)||_0x8a181e[_0x5386a0(0xf4)]===_0x5386a0(0xa3)));if(_0x39b287){const _0x1ded87=await findRelatedId(_0x15e68d,_0x39b287['id'],_0x5386a0(0xab));if(_0x1ded87){const _0x17da16=await _0x15e68d[_0x5386a0(0xe6)](_0x1ded87);_0x17da16&&typeof _0x17da16['val']===_0x5386a0(0xd5)&&(_0x17da16[_0x5386a0(0xf8)]<0xf&&(_0x15e68d[_0x5386a0(0x8c)][_0x5386a0(0x10e)](_0x5386a0(0x100)+_0x5e0fe1[_0x5386a0(0xfd)]+_0x5386a0(0xbf)+_0x17da16[_0x5386a0(0xf8)]+_0x5386a0(0x102)+_0x5e0fe1[_0x5386a0(0xf6)]+_0x5386a0(0x147)),await _0x15e68d[_0x5386a0(0x144)](_0x1ded87,_0x5e0fe1['target']),await logAutomationAction(_0x15e68d,'[FORCE]\x20'+_0x5e0fe1[_0x5386a0(0xfd)]+':\x20'+_0x17da16[_0x5386a0(0xf8)]+'¬∞C\x20->\x20'+_0x5e0fe1[_0x5386a0(0xf6)]+_0x5386a0(0xcf))));}}}_0x29143b&&await _0x15e68d['setStateAsync'](_0x4efef7,{'val':JSON[_0x5386a0(0xd3)](_0x2185d8),'ack':!![]});}catch(_0x4ce53c){_0x15e68d['log'][_0x5386a0(0xfa)]('Enforcement\x20Monitor\x20Error:\x20'+_0x4ce53c[_0x5386a0(0x128)]);}}async function checkCalendarTriggers(_0x388961){const _0x1274f1=a1_0x41b97b;if(!_0x388961[_0x1274f1(0xe9)][_0x1274f1(0xb6)]||!_0x388961[_0x1274f1(0xe9)][_0x1274f1(0xd1)])return;await updateSchedulePreview(_0x388961);let _0x4e1904={},_0x26abb9={};try{const _0x57c2c5=await _0x388961[_0x1274f1(0x11b)](_0x1274f1(0xa2));if(_0x57c2c5&&_0x57c2c5[_0x1274f1(0xf8)])_0x4e1904=JSON['parse'](_0x57c2c5[_0x1274f1(0xf8)]);const _0x2a2b7b=await _0x388961[_0x1274f1(0x11b)]('analysis.energy.warmupSources');if(_0x2a2b7b&&_0x2a2b7b[_0x1274f1(0xf8)])_0x26abb9=JSON[_0x1274f1(0x9d)](_0x2a2b7b['val']);}catch(_0x3e1e95){}let _0x539772={'default':0x15};try{const _0x172ab0=await _0x388961[_0x1274f1(0x11b)](_0x1274f1(0x112));if(_0x172ab0&&_0x172ab0['val'])_0x539772=JSON['parse'](_0x172ab0[_0x1274f1(0xf8)]);}catch(_0x94ea29){}let _0x7c667=[];try{const _0x24ce1a=await _0x388961[_0x1274f1(0x11b)](_0x1274f1(0xe8));if(_0x24ce1a&&_0x24ce1a[_0x1274f1(0xf8)])_0x7c667=JSON[_0x1274f1(0x9d)](_0x24ce1a[_0x1274f1(0xf8)]);}catch(_0x5aa551){}try{const _0x2e1638=await _0x388961[_0x1274f1(0xe6)](_0x388961[_0x1274f1(0xe9)][_0x1274f1(0xd1)]+_0x1274f1(0x108));if(!_0x2e1638||!_0x2e1638['val'])return;const _0x4ffb69=JSON[_0x1274f1(0x9d)](_0x2e1638['val']),_0x2ec57f=Date[_0x1274f1(0x94)](),_0x1bbb74=_0x388961[_0x1274f1(0xe9)][_0x1274f1(0xc9)]||[],_0x2c4712=_0x388961[_0x1274f1(0xe9)]['calendarSelection']||[];let _0x269adb=![];for(const _0x46740d of _0x4ffb69){if(_0x46740d[_0x1274f1(0xd8)]&&_0x2c4712['length']>0x0&&!_0x2c4712[_0x1274f1(0x135)](_0x46740d[_0x1274f1(0xd8)]))continue;const _0x3351ea=_0x46740d['_date']||_0x46740d[_0x1274f1(0x12f)]||_0x46740d[_0x1274f1(0xd4)];if(!_0x3351ea)continue;const _0x37a776=new Date(_0x3351ea);if(isNaN(_0x37a776['getTime']()))continue;const _0x1fb0b3=(_0x46740d[_0x1274f1(0xb0)]||_0x46740d[_0x1274f1(0xdd)]||'')[_0x1274f1(0xa9)]();if(_0x1fb0b3[_0x1274f1(0x135)](_0x1274f1(0xcb))||_0x1fb0b3[_0x1274f1(0x135)](_0x1274f1(0x107))||_0x1fb0b3[_0x1274f1(0x135)]('ankunft')){let _0x1ff09d=0x0;Object[_0x1274f1(0xe1)](_0x4e1904)['forEach'](_0x34067c=>{if(_0x34067c>_0x1ff09d)_0x1ff09d=_0x34067c;});if(_0x1ff09d===0x0)_0x1ff09d=0x78;const _0x30234a=_0x37a776[_0x1274f1(0x95)]()-_0x1ff09d*0xea60;_0x2ec57f>=_0x30234a&&_0x2ec57f<_0x37a776[_0x1274f1(0x95)]()&&(_0x388961['currentSystemMode']!==_0x1274f1(0x113)&&(_0x388961[_0x1274f1(0x8c)]['info'](_0x1274f1(0x126)+_0x1ff09d+_0x1274f1(0xe0)),await _0x388961[_0x1274f1(0xad)](_0x1274f1(0xf7),{'val':_0x1274f1(0x113),'ack':![]})));}for(const _0x2d7b41 of _0x1bbb74){if(_0x2d7b41[_0x1274f1(0x12d)]){const _0x8b61b9=_0x2d7b41['location'][_0x1274f1(0xa9)](),_0x685e61=(_0x2d7b41[_0x1274f1(0x91)]||'')[_0x1274f1(0xa9)]();let _0x58a851=_0x1fb0b3[_0x1274f1(0x135)](_0x8b61b9);!_0x58a851&&_0x685e61[_0x1274f1(0x13a)]>0x3&&_0x1fb0b3['includes'](_0x685e61)&&(_0x58a851=!![]);if(_0x58a851){const _0x4d4010=getWarmupRobust(_0x4e1904,_0x2d7b41[_0x1274f1(0x12d)]),_0x50387b=_0x26abb9[_0x2d7b41[_0x1274f1(0x12d)]]||_0x1274f1(0xc8),_0x38ac51=_0x37a776[_0x1274f1(0x95)]()-_0x4d4010*0xea60;if(_0x2ec57f>=_0x38ac51&&_0x2ec57f<_0x37a776[_0x1274f1(0x95)]()){const _0x258616=lastActions[_0x1274f1(0x124)+_0x2d7b41[_0x1274f1(0x12d)]];if(_0x258616&&_0x2ec57f-_0x258616<CAL_COOLDOWN_MS)continue;const _0x354837=await findRelatedId(_0x388961,_0x2d7b41['id'],_0x1274f1(0xab));if(_0x354837){let _0x1ec075=_0x539772[_0x2d7b41[_0x1274f1(0x12d)]];if(_0x1ec075===undefined)_0x1ec075=_0x539772[_0x1274f1(0x10a)];if(_0x1ec075===undefined)_0x1ec075=0x15;const _0x255e34=await _0x388961[_0x1274f1(0xe6)](_0x354837);if(_0x255e34&&typeof _0x255e34[_0x1274f1(0xf8)]==='number'&&_0x255e34[_0x1274f1(0xf8)]<_0x1ec075-0.5){_0x388961[_0x1274f1(0x8c)][_0x1274f1(0xdc)](_0x1274f1(0x134)+_0x50387b+_0x1274f1(0x127)+_0x2d7b41[_0x1274f1(0x12d)]+'\x27\x20(Match:\x20'+_0x1fb0b3+')\x20aktiv.\x20Heize\x20auf\x20'+_0x1ec075+_0x1274f1(0x129)+_0x4d4010+_0x1274f1(0xe0)),await _0x388961['setForeignStateAsync'](_0x354837,_0x1ec075),await logAutomationAction(_0x388961,_0x1274f1(0x88)+_0x2d7b41[_0x1274f1(0x12d)]+'\x20->\x20'+_0x1ec075+_0x1274f1(0x9b)+_0x50387b+')'),lastActions[_0x1274f1(0x124)+_0x2d7b41['location']]=_0x2ec57f;const _0x2d3fe9=_0x7c667[_0x1274f1(0x101)](_0x3b9c44=>_0x3b9c44[_0x1274f1(0xfd)]===_0x2d7b41[_0x1274f1(0x12d)]);if(_0x2d3fe9!==-0x1)_0x7c667[_0x1274f1(0x8d)](_0x2d3fe9,0x1);_0x7c667[_0x1274f1(0x98)]({'room':_0x2d7b41[_0x1274f1(0x12d)],'target':_0x1ec075,'until':_0x37a776['getTime']()}),_0x269adb=!![];}}}}}}}_0x269adb&&await _0x388961[_0x1274f1(0xad)](_0x1274f1(0xe8),{'val':JSON[_0x1274f1(0xd3)](_0x7c667),'ack':!![]});}catch(_0x2fa11f){_0x388961[_0x1274f1(0x8c)][_0x1274f1(0x10e)](_0x1274f1(0x116)+_0x2fa11f[_0x1274f1(0x128)]);}}async function manageMpcIntervention(_0x7b2485,_0x23eee9,_0x5e7440){const _0x470358=a1_0x41b97b;try{const _0x51f39d=_0x470358(0xc7),_0x418678=await _0x7b2485[_0x470358(0x11b)](_0x51f39d);let _0x22eb0c=[];if(_0x418678&&_0x418678[_0x470358(0xf8)])try{_0x22eb0c=JSON[_0x470358(0x9d)](_0x418678[_0x470358(0xf8)]);}catch(_0x39ea80){}const _0x1e391f=_0x22eb0c[_0x470358(0x114)](_0x23eee9);if(_0x5e7440===_0x470358(0xa1))_0x1e391f===-0x1&&(_0x22eb0c[_0x470358(0x98)](_0x23eee9),await _0x7b2485[_0x470358(0xad)](_0x51f39d,{'val':JSON[_0x470358(0xd3)](_0x22eb0c),'ack':!![]}));else _0x5e7440==='remove'&&(_0x1e391f!==-0x1&&(_0x22eb0c[_0x470358(0x8d)](_0x1e391f,0x1),await _0x7b2485[_0x470358(0xad)](_0x51f39d,{'val':JSON[_0x470358(0xd3)](_0x22eb0c),'ack':!![]})));}catch(_0x212bcf){}}async function cleanupGhostInterventions(_0x32a0ed){const _0x28963d=a1_0x41b97b;try{const _0x58bac5=_0x28963d(0xc7),_0x377e6d=await _0x32a0ed[_0x28963d(0x11b)](_0x58bac5);if(!_0x377e6d||!_0x377e6d[_0x28963d(0xf8)])return;const _0x30e7f5=JSON[_0x28963d(0x9d)](_0x377e6d[_0x28963d(0xf8)]);if(!Array[_0x28963d(0x9c)](_0x30e7f5)||_0x30e7f5['length']===0x0)return;let _0x10736c={'default':0x15};try{const _0x587d49=await _0x32a0ed[_0x28963d(0x11b)]('analysis.energy.warmupTargets');if(_0x587d49&&_0x587d49[_0x28963d(0xf8)])_0x10736c=JSON[_0x28963d(0x9d)](_0x587d49[_0x28963d(0xf8)]);}catch(_0x224bd5){}let _0x84f585=[];try{const _0x3a2e3f=await _0x32a0ed[_0x28963d(0x11b)]('analysis.energy.ventilationAlerts');if(_0x3a2e3f&&_0x3a2e3f['val'])_0x84f585=JSON[_0x28963d(0x9d)](_0x3a2e3f[_0x28963d(0xf8)]);}catch(_0x469f60){}let _0x38fc89={},_0x250e9f=![];try{const _0x712d0c=await _0x32a0ed[_0x28963d(0x11b)](_0x28963d(0x138));if(_0x712d0c&&_0x712d0c[_0x28963d(0xf8)])_0x38fc89=JSON[_0x28963d(0x9d)](_0x712d0c[_0x28963d(0xf8)]);}catch(_0x32555c){}if(_0x38fc89[_0x28963d(0xb2)]){const _0x28f1ca=Date[_0x28963d(0x94)]();for(const [_0x3c46bd,_0x4a7d89]of Object[_0x28963d(0xb3)](_0x38fc89[_0x28963d(0xb2)])){_0x28f1ca-_0x4a7d89>PENALTY_TTL&&(delete _0x38fc89[_0x3c46bd],delete _0x38fc89[_0x28963d(0xb2)][_0x3c46bd],_0x250e9f=!![],_0x32a0ed['log']['info'](_0x28963d(0xf9)+_0x3c46bd+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x74cbdb=_0x32a0ed['config'][_0x28963d(0xc9)]||[];let _0x1f78d3=![];for(let _0xed7a6b=_0x30e7f5['length']-0x1;_0xed7a6b>=0x0;_0xed7a6b--){const _0x525c8a=_0x30e7f5[_0xed7a6b],_0x6bd19f=_0x74cbdb[_0x28963d(0x13f)](_0x256a7a=>normalize(_0x256a7a['location'])===normalize(_0x525c8a)&&(_0x256a7a['type']===_0x28963d(0xb1)||_0x256a7a[_0x28963d(0xf4)]===_0x28963d(0xa3)));if(!_0x6bd19f){_0x32a0ed[_0x28963d(0x8c)][_0x28963d(0x10e)](_0x28963d(0x117)+_0x525c8a+_0x28963d(0xc1)),_0x30e7f5[_0x28963d(0x8d)](_0xed7a6b,0x1),_0x1f78d3=!![];continue;}if(_0x6bd19f){const _0x13c934=await findRelatedId(_0x32a0ed,_0x6bd19f['id'],_0x28963d(0xab)),_0xebd1e5=await _0x32a0ed[_0x28963d(0xe6)](_0x6bd19f['id']);if(_0x13c934){const _0x1c6478=await _0x32a0ed[_0x28963d(0xe6)](_0x13c934);if(_0x1c6478&&typeof _0x1c6478[_0x28963d(0xf8)]===_0x28963d(0xd5)){let _0x42d26d=![],_0x5f046c='';Math[_0x28963d(0xe3)](_0x1c6478[_0x28963d(0xf8)]-ECO_TEMP)>0.5&&(_0x42d26d=!![],_0x5f046c='manual');if(!_0x42d26d&&_0xebd1e5&&typeof _0xebd1e5[_0x28963d(0xf8)]===_0x28963d(0xd5)){const _0x3bd376=_0x10736c[_0x525c8a]||_0x10736c[_0x28963d(0x10a)]||0x15;_0xebd1e5[_0x28963d(0xf8)]<_0x3bd376+0.2&&(_0x42d26d=!![],_0x5f046c=_0x28963d(0x140));}if(_0x42d26d){if(_0x5f046c===_0x28963d(0x122)){_0x32a0ed[_0x28963d(0x8c)][_0x28963d(0xdc)](_0x28963d(0x9e)+_0x525c8a+_0x28963d(0x115)+_0x1c6478[_0x28963d(0xf8)]+_0x28963d(0xf5)+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0x2b978d=lastActions['cal_'+_0x525c8a],_0x1438b7=_0x2b978d&&Date[_0x28963d(0x94)]()-_0x2b978d<0x2*0x3c*0x3e8;if(!_0x1438b7&&_0x1c6478[_0x28963d(0xf8)]>ECO_TEMP+0.5){_0x32a0ed[_0x28963d(0x10c)]&&(_0x32a0ed['log'][_0x28963d(0xdc)](_0x28963d(0x92)+_0x525c8a+'\x20wurde\x20manuell\x20erh√∂ht.'),_0x32a0ed[_0x28963d(0x10c)](_0x28963d(0xc4),{'room':_0x525c8a}));const _0x35a8e5=_0x525c8a+'_'+new Date()[_0x28963d(0xc0)]();if(!_0x38fc89[_0x35a8e5]){_0x38fc89[_0x35a8e5]=0x1;if(!_0x38fc89[_0x28963d(0xb2)])_0x38fc89[_0x28963d(0xb2)]={};_0x38fc89[_0x28963d(0xb2)][_0x35a8e5]=Date[_0x28963d(0x94)](),_0x250e9f=!![];}}else _0x1438b7&&_0x32a0ed[_0x28963d(0x8c)][_0x28963d(0xdc)]('üìÖ\x20[MPC\x20INFO]\x20'+_0x525c8a+_0x28963d(0xbc));}else{if(_0x5f046c==='too_cold'){let _0x565b21=![];if(_0x84f585[_0x28963d(0x13f)](_0x2b3048=>_0x2b3048[_0x28963d(0xfd)]===_0x525c8a))_0x565b21=!![];const _0x2ec3cb=_0x74cbdb[_0x28963d(0xba)](_0x29faa9=>normalize(_0x29faa9['location'])===normalize(_0x525c8a)&&(_0x29faa9[_0x28963d(0xf4)]===_0x28963d(0x145)||_0x29faa9[_0x28963d(0xf4)]===_0x28963d(0xa6)||_0x29faa9['type']==='contact'));for(const _0x155770 of _0x2ec3cb){try{const _0x7509c7=await _0x32a0ed[_0x28963d(0xe6)](_0x155770['id']);if(_0x7509c7&&(_0x7509c7[_0x28963d(0xf8)]===!![]||_0x7509c7[_0x28963d(0xf8)]===0x1||String(_0x7509c7[_0x28963d(0xf8)])[_0x28963d(0xa9)]()===_0x28963d(0xd6)))_0x565b21=!![];}catch(_0x60bc2f){}}if(_0x565b21)_0x32a0ed[_0x28963d(0x8c)]['info']('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x525c8a+_0x28963d(0xea));else{const _0x388b36=_0x10736c[_0x525c8a]||_0x10736c[_0x28963d(0x10a)]||0x15;_0x32a0ed[_0x28963d(0x8c)]['info'](_0x28963d(0xe7)+_0x525c8a+_0x28963d(0x10b)+_0xebd1e5[_0x28963d(0xf8)]+'¬∞C\x20<\x20'+(_0x388b36+0.2)+'¬∞C).\x20Sparmodus\x20beendet!'),await _0x32a0ed[_0x28963d(0x144)](_0x13c934,_0x388b36),await logAutomationAction(_0x32a0ed,_0x28963d(0x9f)+_0x525c8a+_0x28963d(0x137)+_0x388b36+'¬∞C'),lastActions[_0x28963d(0x130)+_0x525c8a]=Date[_0x28963d(0x94)]();}}}_0x30e7f5[_0x28963d(0x8d)](_0xed7a6b,0x1),_0x1f78d3=!![];}}}}}_0x1f78d3&&await _0x32a0ed[_0x28963d(0xad)](_0x58bac5,{'val':JSON[_0x28963d(0xd3)](_0x30e7f5),'ack':!![]}),_0x250e9f&&await _0x32a0ed[_0x28963d(0xad)]('analysis.energy.rlPenalties',{'val':JSON[_0x28963d(0xd3)](_0x38fc89),'ack':!![]});}catch(_0x33b5e9){}}async function applyEnergySavings(_0x2c5a79,_0x7688c0){const _0x301ae6=a1_0x41b97b;await cleanupGhostInterventions(_0x2c5a79);if(!_0x7688c0||_0x7688c0[_0x301ae6(0x13a)]===0x0)return;const _0x1ad215=_0x2c5a79[_0x301ae6(0xe9)]['devices']||[],_0x2a82ac=Date[_0x301ae6(0x94)]();for(const _0x5dd5c4 of _0x7688c0){const _0x3deaaf=_0x5dd5c4['room'],_0x53316a=_0x5dd5c4[_0x301ae6(0xde)],_0x3804cf=_0x5dd5c4['target']||0x15;if(lastActions[_0x301ae6(0x130)+_0x3deaaf]&&_0x2a82ac-lastActions[_0x301ae6(0x130)+_0x3deaaf]<RESCUE_LOCK_MS)continue;const _0x25c3e6=_0x1ad215[_0x301ae6(0x13f)](_0x3f1470=>normalize(_0x3f1470[_0x301ae6(0x12d)])===normalize(_0x3deaaf)&&(_0x3f1470[_0x301ae6(0xf4)]===_0x301ae6(0xb1)||_0x3f1470[_0x301ae6(0xf4)]===_0x301ae6(0xa3)));if(!_0x25c3e6)continue;const _0x55c927=await findRelatedId(_0x2c5a79,_0x25c3e6['id'],_0x301ae6(0xab));if(_0x55c927){if(lastActions[_0x301ae6(0x89)+_0x3deaaf]&&_0x2a82ac-lastActions[_0x301ae6(0x89)+_0x3deaaf]<0x1e*0x3c*0x3e8)continue;const _0x352c83=await _0x2c5a79[_0x301ae6(0xe6)](_0x55c927);if(_0x352c83&&typeof _0x352c83[_0x301ae6(0xf8)]==='number'){const _0x89ffc0=_0x352c83[_0x301ae6(0xf8)];_0x89ffc0!==ECO_TEMP&&await manageMpcIntervention(_0x2c5a79,_0x3deaaf,_0x301ae6(0xf1));if(_0x53316a>0x1e)_0x89ffc0>ECO_TEMP+0.5&&(_0x2c5a79['log']['info'](_0x301ae6(0x13b)+_0x3deaaf+_0x301ae6(0xbf)+ECO_TEMP+_0x301ae6(0xc5)+_0x53316a+_0x301ae6(0x105)),await _0x2c5a79[_0x301ae6(0x144)](_0x55c927,ECO_TEMP),await manageMpcIntervention(_0x2c5a79,_0x3deaaf,_0x301ae6(0xa1)),lastActions['mpc_'+_0x3deaaf]=_0x2a82ac,await logAutomationAction(_0x2c5a79,_0x301ae6(0x12c)+_0x3deaaf+_0x301ae6(0xc2)+ECO_TEMP+'¬∞C'));else _0x53316a<=0xf&&(_0x89ffc0<_0x3804cf&&(_0x2c5a79[_0x301ae6(0x8c)][_0x301ae6(0xdc)](_0x301ae6(0x148)+_0x3deaaf+'\x20wieder\x20auf\x20'+_0x3804cf+'¬∞C!\x20(Puffer\x20leer).'),await _0x2c5a79[_0x301ae6(0x144)](_0x55c927,_0x3804cf),await manageMpcIntervention(_0x2c5a79,_0x3deaaf,'remove'),lastActions[_0x301ae6(0x89)+_0x3deaaf]=_0x2a82ac,await logAutomationAction(_0x2c5a79,_0x301ae6(0x12c)+_0x3deaaf+':\x20Aufheizen\x20auf\x20'+_0x3804cf+'¬∞C')));}}else _0x2c5a79[_0x301ae6(0x8c)]['warn'](_0x301ae6(0x11c)+_0x3deaaf+_0x301ae6(0xa7));}}module['exports']={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};