const a1_0x2f0a66=a1_0x5721;(function(_0x599748,_0x2fd3bf){const _0x48ee70=a1_0x5721,_0x521d4b=_0x599748();while(!![]){try{const _0x337703=-parseInt(_0x48ee70(0x220))/0x1+parseInt(_0x48ee70(0x1e8))/0x2+-parseInt(_0x48ee70(0x297))/0x3+parseInt(_0x48ee70(0x282))/0x4+-parseInt(_0x48ee70(0x260))/0x5+parseInt(_0x48ee70(0x247))/0x6+parseInt(_0x48ee70(0x1ea))/0x7*(parseInt(_0x48ee70(0x209))/0x8);if(_0x337703===_0x2fd3bf)break;else _0x521d4b['push'](_0x521d4b['shift']());}catch(_0x3e8646){_0x521d4b['push'](_0x521d4b['shift']());}}}(a1_0x557f,0x3b7ed));const a1_0x17e866=(function(){let _0x38f018=!![];return function(_0x2246d8,_0x539a2e){const _0x411b47=_0x38f018?function(){const _0x487b62=a1_0x5721;if(_0x539a2e){const _0x545e0b=_0x539a2e[_0x487b62(0x257)](_0x2246d8,arguments);return _0x539a2e=null,_0x545e0b;}}:function(){};return _0x38f018=![],_0x411b47;};}()),a1_0x2fd9e8=a1_0x17e866(this,function(){const _0xaea2a6=a1_0x5721;return a1_0x2fd9e8[_0xaea2a6(0x230)]()[_0xaea2a6(0x1f8)](_0xaea2a6(0x237))[_0xaea2a6(0x230)]()[_0xaea2a6(0x281)](a1_0x2fd9e8)[_0xaea2a6(0x1f8)](_0xaea2a6(0x237));});a1_0x2fd9e8();function a1_0x557f(){const _0x5e3ff2=['type','length','\x20min).','(((.+)+)+)+$','toLowerCase','role',':\x20Aufheizen\x20auf\x20','local_temperature','open','devices','setForeignStateAsync','warn','analysis.automation.lastAction','sensor','stringify','split','.1.SET_POINT_TEMPERATURE','join','current_heating_setpoint','2846136moucnL','forEach','config','write',']:\x20Raum-Trigger\x20\x27','calendarSelection','Â°C\x20(via\x20','valve','number','active','reason','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','[FORCE]\x20','values','temperature','replace','apply','analysis.automation.confidenceThreshold','event','useCalendar','\x20erreicht\x20Limit\x20(','window','mpc_','.1.TEMPERATURE','getForeignStateAsync','848820jANTar','Enforcement\x20Monitor\x20Error:\x20','currentSystemMode','system.mode','getForeignObjectAsync','TRAIN_RL_PENALTY','switch','room','\x20gefunden!','exports','.4.VALVE_STATE','map','rÃ¼ckkehr','cal_','Nicht\x20gefunden','\x20min)','valveMapping','./ai_agent','setpoint','push','actual','PERFECT','thermostat.setpoint','Â°C!\x20(Puffer:\x20','location','getHours','info','level','.data.table','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','calendarInstance','getStateAsync','_meta','constructor','580288NviWbF','.1.ACTUAL_TEMPERATURE','value.valve','sort','\x20wieder\x20auf\x20','analysis.energy.mpcActiveInterventions','Soll','val','slice','normal','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','date','from','ðŸ“…\x20[MPC\x20INFO]\x20','thermostatMapping','\x20auf\x20','score','isArray','analysis.energy.warmupTimes','contact','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','542928CZJVPL','now','findIndex','\x20->\x20Schalte\x20','summary','ACTUAL_TEMPERATURE','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','includes','manual','setStateAsync','too_cold','level.temperature','temp','rescue_','position','454478TDMqcC','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','11193tLJzZm','Ist','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','Â°C\x20->\x20','hm-rpc','getTime','soll','target','PrÃ¤diktion:\x20','find','unit','.4.SET_TEMPERATURE','set','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','search','message','analysis.energy.rlPenalties','\x20wurde\x20manuell\x20erhÃ¶ht.','_calName','trim','indexOf','pi_heating_demand','ACTUAL','parse','.1.LEVEL','analysis.energy.ventilationAlerts','analysis.energy.schedulePreview','log','string','[MPC]\x20','valve_position','360ARRubt','analysis.energy.warmupTargets','toUpperCase','unshift','thermostat',')\x20aktiv.\x20Heize\x20auf\x20','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','consultButler','urlaub\x20ende','triggerTime','ankunft','approved','_date','analysis.energy.activeEnforcements','sendToPythonWrapper','Fehlt','[WATCHDOG]\x20','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','splice','eventStart','remove','Unbekannt','324189vFxhxh','Manuelles\x20Mapping','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','localeCompare','SET','\x27\x20(Match:\x20',':\x20Absenkung\x20auf\x20','add','target_temperature','off','messwert','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','name','analysis.automation.mode','entries','common','toString','filter','default','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.'];a1_0x557f=function(){return _0x5e3ff2;};return a1_0x557f();}'use strict';const aiAgent=require(a1_0x2f0a66(0x271)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x4503d3){const _0x221593=a1_0x2f0a66;if(!_0x4503d3)return'';return _0x4503d3[_0x221593(0x238)]()[_0x221593(0x256)](/\s+/g,'')[_0x221593(0x1fd)]();}async function logAutomationAction(_0x3425c9,_0x3ad965){const _0x4e8224=a1_0x2f0a66;await _0x3425c9[_0x4e8224(0x2a0)](_0x4e8224(0x240),{'val':_0x3ad965,'ack':!![]});try{const _0x19afaf='analysis.automation.actionLog',_0x2a3047=await _0x3425c9[_0x4e8224(0x27f)](_0x19afaf);let _0x62584e=[];if(_0x2a3047&&_0x2a3047['val'])try{_0x62584e=JSON[_0x4e8224(0x201)](_0x2a3047[_0x4e8224(0x289)]);}catch(_0x26c70a){}_0x62584e[_0x4e8224(0x20c)]({'ts':Date[_0x4e8224(0x298)](),'msg':_0x3ad965});if(_0x62584e[_0x4e8224(0x235)]>0x32)_0x62584e=_0x62584e['slice'](0x0,0x32);await _0x3425c9[_0x4e8224(0x2a0)](_0x19afaf,{'val':JSON[_0x4e8224(0x242)](_0x62584e),'ack':!![]});}catch(_0x132f82){}}async function handlePrediction(_0x1086d0,_0x5971ad,_0x3de16f){const _0x476f67=a1_0x2f0a66;if(!_0x5971ad||_0x5971ad==='Unknown')return;let _0x2df808=_0x476f67(0x229),_0x2ae226=0.6;try{const _0x53b0cc=await _0x1086d0[_0x476f67(0x27f)](_0x476f67(0x22d));if(_0x53b0cc&&_0x53b0cc[_0x476f67(0x289)])_0x2df808=_0x53b0cc[_0x476f67(0x289)];const _0x20521f=await _0x1086d0[_0x476f67(0x27f)](_0x476f67(0x258));if(_0x20521f&&_0x20521f['val'])_0x2ae226=_0x20521f[_0x476f67(0x289)];}catch(_0x1f6c5f){}if(_0x2df808===_0x476f67(0x229)||_0x3de16f<_0x2ae226)return;const _0xb2b0f1=Date['now']();if(lastActions[_0x5971ad]&&_0xb2b0f1-lastActions[_0x5971ad]<COOLDOWN_MS)return;const _0x142f15=_0x1086d0[_0x476f67(0x249)][_0x476f67(0x23d)]||[],_0x260705=normalize(_0x5971ad),_0x48673a=_0x142f15[_0x476f67(0x1f3)](_0x11b665=>normalize(_0x11b665[_0x476f67(0x278)])===_0x260705&&(_0x11b665[_0x476f67(0x234)]==='light'||_0x11b665['type']==='dimmer'||_0x11b665[_0x476f67(0x234)]===_0x476f67(0x266)));if(!_0x48673a)return;const _0x423419=await aiAgent[_0x476f67(0x210)](_0x1086d0,_0x5971ad,_0x48673a['name'],_0x3de16f);if(!_0x423419[_0x476f67(0x214)])return;const _0x349b6e=_0x476f67(0x1f2)+_0x5971ad+_0x476f67(0x29a)+_0x48673a['name']+'\x20('+_0x423419[_0x476f67(0x251)]+')';await logAutomationAction(_0x1086d0,'['+_0x2df808[_0x476f67(0x20b)]()+']\x20'+_0x349b6e);if(_0x2df808===_0x476f67(0x250)){const _0x470e4a=await _0x1086d0['getForeignStateAsync'](_0x48673a['id']);(!_0x470e4a||!_0x470e4a[_0x476f67(0x289)]&&_0x470e4a[_0x476f67(0x289)]!==!![])&&await _0x1086d0[_0x476f67(0x23e)](_0x48673a['id'],!![]),lastActions[_0x5971ad]=_0xb2b0f1;}}async function findRelatedId(_0x1cc87b,_0x33e5df,_0x113464=a1_0x2f0a66(0x272)){const _0x13628a=a1_0x2f0a66;if(_0x113464===_0x13628a(0x272)&&_0x1cc87b[_0x13628a(0x249)][_0x13628a(0x290)]){let _0x47ff9e=_0x1cc87b[_0x13628a(0x249)][_0x13628a(0x290)];if(typeof _0x47ff9e===_0x13628a(0x206))try{_0x47ff9e=JSON[_0x13628a(0x201)](_0x47ff9e);}catch(_0x5525a7){}if(_0x47ff9e&&_0x47ff9e[_0x33e5df])return _0x47ff9e[_0x33e5df];}if(_0x113464===_0x13628a(0x24e)&&_0x1cc87b[_0x13628a(0x249)]['valveMapping']){let _0x2b71a3=_0x1cc87b[_0x13628a(0x249)][_0x13628a(0x270)];if(typeof _0x2b71a3===_0x13628a(0x206))try{_0x2b71a3=JSON[_0x13628a(0x201)](_0x2b71a3);}catch(_0x323cec){}if(_0x2b71a3&&_0x2b71a3[_0x33e5df])return _0x2b71a3[_0x33e5df];}let _0x15c726=[];if(_0x113464==='setpoint')_0x15c726=[{'s':_0x13628a(0x283),'t':_0x13628a(0x244)},{'s':_0x13628a(0x25e),'t':_0x13628a(0x244)},{'s':_0x13628a(0x25e),'t':_0x13628a(0x1f5)},{'s':_0x13628a(0x29c),'t':'SET_POINT_TEMPERATURE'},{'s':'local_temperature','t':'occupied_heating_setpoint'},{'s':'local_temperature','t':_0x13628a(0x246)},{'s':_0x13628a(0x255),'t':_0x13628a(0x228)},{'s':_0x13628a(0x200),'t':_0x13628a(0x224)},{'s':_0x13628a(0x1eb),'t':_0x13628a(0x288)},{'s':_0x13628a(0x255),'t':_0x13628a(0x272)}];else _0x113464===_0x13628a(0x24e)&&(_0x15c726=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x13628a(0x202)},{'s':_0x13628a(0x25e),'t':_0x13628a(0x202)},{'s':_0x13628a(0x25e),'t':_0x13628a(0x26a)},{'s':_0x13628a(0x23b),'t':_0x13628a(0x1ff)},{'s':'temperature','t':_0x13628a(0x208)},{'s':_0x13628a(0x255),'t':'level'}]);for(const _0x334ae5 of _0x15c726){if(_0x33e5df[_0x13628a(0x29e)](_0x334ae5['s'])){const _0x14ef6a=_0x33e5df[_0x13628a(0x256)](_0x334ae5['s'],_0x334ae5['t']),_0x4bdc85=await _0x1cc87b[_0x13628a(0x264)](_0x14ef6a);if(_0x4bdc85)return _0x14ef6a;}}try{const _0x21f52c=_0x33e5df[_0x13628a(0x243)]('.');if(_0x21f52c[_0x13628a(0x235)]>0x2){const _0x25fac0=_0x21f52c['slice'](0x0,-0x1)[_0x13628a(0x245)]('.'),_0x29a13b=await _0x1cc87b['getForeignObjectsAsync'](_0x25fac0+'.*'),_0x5471e6=[],_0x2121fc=_0x33e5df[_0x13628a(0x243)](/[._]+/)[_0x13628a(0x231)](_0xe7101f=>!['openknx','0',_0x13628a(0x1ee),'ist','wert',_0x13628a(0x255),_0x13628a(0x274),_0x13628a(0x241),_0x13628a(0x22a),'state']['includes'](_0xe7101f[_0x13628a(0x238)]()));for(const [_0x343e3a,_0x3b8331]of Object[_0x13628a(0x22e)](_0x29a13b)){if(_0x343e3a===_0x33e5df)continue;if(_0x3b8331&&_0x3b8331[_0x13628a(0x22f)]){const _0x5039ce=_0x343e3a['toLowerCase'](),_0x4472a9=(_0x3b8331['common'][_0x13628a(0x239)]||'')[_0x13628a(0x238)](),_0x3c22a5=(_0x3b8331[_0x13628a(0x22f)][_0x13628a(0x1f4)]||'')[_0x13628a(0x238)]();let _0xc7c5a7=![];if(_0x113464==='setpoint'&&_0x3b8331[_0x13628a(0x22f)][_0x13628a(0x24a)]===!![])_0xc7c5a7=_0x5039ce[_0x13628a(0x29e)](_0x13628a(0x1f6))||_0x5039ce[_0x13628a(0x29e)](_0x13628a(0x1f0))||_0x5039ce[_0x13628a(0x29e)](_0x13628a(0x1f1))||_0x4472a9[_0x13628a(0x29e)](_0x13628a(0x2a2))||_0x4472a9['includes'](_0x13628a(0x276));else _0x113464===_0x13628a(0x24e)&&(_0xc7c5a7=_0x5039ce['includes'](_0x13628a(0x27b))||_0x5039ce['includes'](_0x13628a(0x24e))||_0x5039ce[_0x13628a(0x29e)]('stellwert')||_0x5039ce[_0x13628a(0x29e)](_0x13628a(0x2a5))||_0x4472a9['includes']('level.valve')||_0x4472a9['includes'](_0x13628a(0x284))||_0x3c22a5[_0x13628a(0x29e)]('%'));if(_0xc7c5a7){const _0x432795=_0x343e3a['split'](/[._]+/)[_0x13628a(0x26b)](_0x29a999=>_0x29a999[_0x13628a(0x238)]());let _0x4f147e=0x0;_0x2121fc[_0x13628a(0x248)](_0x2259f8=>{const _0x2360ca=_0x13628a;if(_0x432795[_0x2360ca(0x29e)](_0x2259f8[_0x2360ca(0x238)]()))_0x4f147e++;}),_0x5471e6[_0x13628a(0x273)]({'id':_0x343e3a,'score':_0x4f147e});}}}if(_0x5471e6[_0x13628a(0x235)]>0x0){_0x5471e6[_0x13628a(0x285)]((_0x18ea8e,_0x133260)=>_0x133260[_0x13628a(0x292)]-_0x18ea8e[_0x13628a(0x292)]);if(_0x5471e6[0x0][_0x13628a(0x292)]>0x0)return _0x5471e6[0x0]['id'];}}}catch(_0x2cc971){}return null;}async function scanThermostats(_0x11acaf){const _0x1a7a00=a1_0x2f0a66,_0x3a1e15=_0x11acaf[_0x1a7a00(0x249)]['devices']||[],_0x22bd6c=[],_0x1049d2=_0x3a1e15['filter'](_0x522d0f=>_0x522d0f['id']&&_0x522d0f['id'][_0x1a7a00(0x29e)](_0x1a7a00(0x255))||_0x522d0f[_0x1a7a00(0x234)]&&[_0x1a7a00(0x255),'thermostat',_0x1a7a00(0x241)][_0x1a7a00(0x29e)](_0x522d0f[_0x1a7a00(0x234)])||_0x522d0f[_0x1a7a00(0x22c)]&&_0x522d0f[_0x1a7a00(0x22c)][_0x1a7a00(0x238)]()[_0x1a7a00(0x29e)](_0x1a7a00(0x2a3)));for(const _0x5e3f0d of _0x1049d2){const _0x5aadce=await findRelatedId(_0x11acaf,_0x5e3f0d['id'],_0x1a7a00(0x272)),_0x3bb3a6=await findRelatedId(_0x11acaf,_0x5e3f0d['id'],_0x1a7a00(0x24e));let _0xbf07d=_0x1a7a00(0x26e),_0x2573c1=![],_0x3814c8=_0x11acaf['config'][_0x1a7a00(0x290)]||{};if(typeof _0x3814c8===_0x1a7a00(0x206))try{_0x3814c8=JSON[_0x1a7a00(0x201)](_0x3814c8);}catch(_0x4b4ae7){}let _0x3ffe84=_0x11acaf[_0x1a7a00(0x249)][_0x1a7a00(0x270)]||{};if(typeof _0x3ffe84==='string')try{_0x3ffe84=JSON[_0x1a7a00(0x201)](_0x3ffe84);}catch(_0x142b45){}if(_0x3814c8[_0x5e3f0d['id']]&&_0x3814c8[_0x5e3f0d['id']]===_0x5aadce||_0x3ffe84[_0x5e3f0d['id']]&&_0x3ffe84[_0x5e3f0d['id']]===_0x3bb3a6)_0xbf07d=_0x1a7a00(0x221),_0x2573c1=!![];else(_0x5aadce||_0x3bb3a6)&&(_0xbf07d='Auto-Erkennung');_0x22bd6c[_0x1a7a00(0x273)]({'room':_0x5e3f0d['location']||'Unbekannt','sensorId':_0x5e3f0d['id'],'setpointId':_0x5aadce||'-','valveId':_0x3bb3a6||'-','source':_0xbf07d,'isManual':_0x2573c1,'status':_0x5aadce&&_0x3bb3a6?_0x1a7a00(0x275):_0x5aadce?'OK':_0x1a7a00(0x218)});}return _0x22bd6c['sort']((_0x380632,_0x2d65dd)=>_0x380632[_0x1a7a00(0x267)][_0x1a7a00(0x223)](_0x2d65dd['room']));}async function updateSchedulePreview(_0x392c8f){const _0x41be31=a1_0x2f0a66;if(!_0x392c8f[_0x41be31(0x249)][_0x41be31(0x25a)]||!_0x392c8f[_0x41be31(0x249)][_0x41be31(0x27e)])return;let _0x4284ba={};try{const _0x49c763=await _0x392c8f['getStateAsync'](_0x41be31(0x294));if(_0x49c763&&_0x49c763[_0x41be31(0x289)])_0x4284ba=JSON[_0x41be31(0x201)](_0x49c763['val']);}catch(_0x4dcdaf){}const _0x3d30e1=[],_0x7947c4=Date[_0x41be31(0x298)](),_0xca8a0f=0x30*0x3c*0x3c*0x3e8;try{const _0xe9e4bf=await _0x392c8f[_0x41be31(0x25f)](_0x392c8f[_0x41be31(0x249)][_0x41be31(0x27e)]+_0x41be31(0x27c));if(!_0xe9e4bf||!_0xe9e4bf[_0x41be31(0x289)])return;const _0x4a6737=JSON[_0x41be31(0x201)](_0xe9e4bf['val']),_0x1e4404=_0x392c8f['config'][_0x41be31(0x24c)]||[],_0xf892b4=_0x392c8f[_0x41be31(0x249)][_0x41be31(0x23d)]||[],_0x23b0e5=new Set();_0xf892b4[_0x41be31(0x248)](_0x20edb0=>{const _0x3c07a6=_0x41be31;if(_0x20edb0['location'])_0x23b0e5[_0x3c07a6(0x227)](_0x20edb0[_0x3c07a6(0x278)]);});for(const _0x3291c6 of _0x4a6737){if(_0x3291c6[_0x41be31(0x1fc)]&&_0x1e4404['length']>0x0&&!_0x1e4404['includes'](_0x3291c6[_0x41be31(0x1fc)]))continue;const _0x4c0cc0=_0x3291c6['_date']||_0x3291c6['eventStart']||_0x3291c6['date'];if(!_0x4c0cc0)continue;const _0x2d65c1=new Date(_0x4c0cc0),_0x5d8375=_0x2d65c1['getTime']();if(isNaN(_0x5d8375))continue;if(_0x5d8375<_0x7947c4)continue;if(_0x5d8375>_0x7947c4+_0xca8a0f)continue;const _0x33449f=(_0x3291c6[_0x41be31(0x259)]||_0x3291c6[_0x41be31(0x29b)]||'')[_0x41be31(0x238)]();let _0x24bfac=![],_0x2ea6a7=[],_0x420b3c=_0x3291c6[_0x41be31(0x259)]||_0x3291c6[_0x41be31(0x29b)]||_0x41be31(0x21f);if(_0x33449f['includes'](_0x41be31(0x211))||_0x33449f['includes'](_0x41be31(0x26c))||_0x33449f[_0x41be31(0x29e)](_0x41be31(0x213)))_0x24bfac=!![],_0x2ea6a7=Array[_0x41be31(0x28e)](_0x23b0e5);else for(const _0x397876 of _0x23b0e5){if(_0x33449f[_0x41be31(0x29e)](_0x397876[_0x41be31(0x238)]()))_0x2ea6a7['push'](_0x397876);}_0x2ea6a7[_0x41be31(0x235)]>0x0&&_0x2ea6a7[_0x41be31(0x248)](_0x3c7556=>{const _0x478dfd=_0x41be31;let _0x255fcd=0x3c;if(_0x24bfac){let _0x558e04=0x0;Object['values'](_0x4284ba)[_0x478dfd(0x248)](_0x320a75=>{if(_0x320a75>_0x558e04)_0x558e04=_0x320a75;}),_0x255fcd=_0x558e04>0x0?_0x558e04:0x78;}else _0x255fcd=_0x4284ba[_0x3c7556]||0x3c;const _0x5f32fc=new Date(_0x5d8375-_0x255fcd*0xea60);_0x3d30e1[_0x478dfd(0x273)]({'eventTime':_0x5d8375,'triggerTime':_0x5f32fc[_0x478dfd(0x1ef)](),'room':_0x3c7556,'minutes':_0x255fcd,'reason':_0x420b3c,'isGlobal':_0x24bfac});});}}catch(_0x827069){}_0x3d30e1['sort']((_0x176d5f,_0x56bbcc)=>_0x176d5f[_0x41be31(0x212)]-_0x56bbcc['triggerTime']);const _0x44a503=_0x3d30e1[_0x41be31(0x28a)](0x0,0x5);await _0x392c8f[_0x41be31(0x2a0)](_0x41be31(0x204),{'val':JSON[_0x41be31(0x242)](_0x44a503),'ack':!![]});}async function monitorEnforcements(_0x436429){const _0x249f23=a1_0x2f0a66;try{const _0x58cd0c=_0x249f23(0x216),_0x57cb21=await _0x436429[_0x249f23(0x27f)](_0x58cd0c);if(!_0x57cb21||!_0x57cb21[_0x249f23(0x289)])return;let _0xe7b917=[];try{_0xe7b917=JSON[_0x249f23(0x201)](_0x57cb21['val']);}catch(_0x1621a1){return;}if(!Array[_0x249f23(0x293)](_0xe7b917)||_0xe7b917[_0x249f23(0x235)]===0x0)return;const _0x4b8505=Date[_0x249f23(0x298)](),_0x205413=_0x436429[_0x249f23(0x249)][_0x249f23(0x23d)]||[];let _0x2c869d=![];for(let _0x52257a=_0xe7b917[_0x249f23(0x235)]-0x1;_0x52257a>=0x0;_0x52257a--){const _0x38fb41=_0xe7b917[_0x52257a];if(_0x4b8505>=_0x38fb41['until']){_0x436429[_0x249f23(0x205)][_0x249f23(0x27a)](_0x249f23(0x21b)+_0x38fb41[_0x249f23(0x267)]+_0x249f23(0x233)),_0xe7b917[_0x249f23(0x21c)](_0x52257a,0x1),_0x2c869d=!![];continue;}const _0x339ec3=_0x205413[_0x249f23(0x1f3)](_0xf2830=>normalize(_0xf2830[_0x249f23(0x278)])===normalize(_0x38fb41[_0x249f23(0x267)])&&(_0xf2830[_0x249f23(0x234)]===_0x249f23(0x255)||_0xf2830[_0x249f23(0x234)]===_0x249f23(0x20d)));if(_0x339ec3){const _0x33420e=await findRelatedId(_0x436429,_0x339ec3['id'],_0x249f23(0x272));if(_0x33420e){const _0x1b7c94=await _0x436429[_0x249f23(0x25f)](_0x33420e);_0x1b7c94&&typeof _0x1b7c94['val']===_0x249f23(0x24f)&&(_0x1b7c94[_0x249f23(0x289)]<0xf&&(_0x436429[_0x249f23(0x205)][_0x249f23(0x23f)](_0x249f23(0x21a)+_0x38fb41[_0x249f23(0x267)]+_0x249f23(0x291)+_0x1b7c94[_0x249f23(0x289)]+_0x249f23(0x1f7)+_0x38fb41[_0x249f23(0x1f1)]+'Â°C.'),await _0x436429[_0x249f23(0x23e)](_0x33420e,_0x38fb41['target']),await logAutomationAction(_0x436429,_0x249f23(0x253)+_0x38fb41[_0x249f23(0x267)]+':\x20'+_0x1b7c94['val']+_0x249f23(0x1ed)+_0x38fb41[_0x249f23(0x1f1)]+'Â°C\x20(Kalender-Schutz)')));}}}_0x2c869d&&await _0x436429[_0x249f23(0x2a0)](_0x58cd0c,{'val':JSON[_0x249f23(0x242)](_0xe7b917),'ack':!![]});}catch(_0x20f15f){_0x436429[_0x249f23(0x205)]['error'](_0x249f23(0x261)+_0x20f15f[_0x249f23(0x1f9)]);}}async function checkCalendarTriggers(_0x2f5358){const _0x45d7c7=a1_0x2f0a66;if(!_0x2f5358['config']['useCalendar']||!_0x2f5358[_0x45d7c7(0x249)][_0x45d7c7(0x27e)])return;await updateSchedulePreview(_0x2f5358);let _0x4a280c={},_0xc70227={};try{const _0x14b127=await _0x2f5358[_0x45d7c7(0x27f)](_0x45d7c7(0x294));if(_0x14b127&&_0x14b127[_0x45d7c7(0x289)])_0x4a280c=JSON[_0x45d7c7(0x201)](_0x14b127[_0x45d7c7(0x289)]);const _0x2ef23a=await _0x2f5358['getStateAsync']('analysis.energy.warmupSources');if(_0x2ef23a&&_0x2ef23a[_0x45d7c7(0x289)])_0xc70227=JSON[_0x45d7c7(0x201)](_0x2ef23a[_0x45d7c7(0x289)]);}catch(_0x2ff9ef){}let _0x228367={'default':0x15};try{const _0x29267e=await _0x2f5358[_0x45d7c7(0x27f)](_0x45d7c7(0x20a));if(_0x29267e&&_0x29267e['val'])_0x228367=JSON['parse'](_0x29267e[_0x45d7c7(0x289)]);}catch(_0x565257){}let _0x7ab1cf=[];try{const _0x59daa5=await _0x2f5358['getStateAsync'](_0x45d7c7(0x216));if(_0x59daa5&&_0x59daa5[_0x45d7c7(0x289)])_0x7ab1cf=JSON[_0x45d7c7(0x201)](_0x59daa5[_0x45d7c7(0x289)]);}catch(_0x1e191d){}try{const _0x1216b4=await _0x2f5358[_0x45d7c7(0x25f)](_0x2f5358[_0x45d7c7(0x249)]['calendarInstance']+_0x45d7c7(0x27c));if(!_0x1216b4||!_0x1216b4[_0x45d7c7(0x289)])return;const _0x1450e2=JSON['parse'](_0x1216b4[_0x45d7c7(0x289)]),_0x30c839=Date[_0x45d7c7(0x298)](),_0x5c3c3a=_0x2f5358[_0x45d7c7(0x249)]['devices']||[],_0x5c858d=_0x2f5358[_0x45d7c7(0x249)][_0x45d7c7(0x24c)]||[];let _0x2bc881=![];for(const _0x5c4015 of _0x1450e2){if(_0x5c4015[_0x45d7c7(0x1fc)]&&_0x5c858d[_0x45d7c7(0x235)]>0x0&&!_0x5c858d[_0x45d7c7(0x29e)](_0x5c4015[_0x45d7c7(0x1fc)]))continue;const _0x1ddfbd=_0x5c4015[_0x45d7c7(0x215)]||_0x5c4015[_0x45d7c7(0x21d)]||_0x5c4015[_0x45d7c7(0x28d)];if(!_0x1ddfbd)continue;const _0x1888d5=new Date(_0x1ddfbd);if(isNaN(_0x1888d5[_0x45d7c7(0x1ef)]()))continue;const _0x35b155=(_0x5c4015[_0x45d7c7(0x259)]||_0x5c4015['summary']||'')['toLowerCase']();if(_0x35b155['includes'](_0x45d7c7(0x211))||_0x35b155['includes'](_0x45d7c7(0x26c))||_0x35b155[_0x45d7c7(0x29e)]('ankunft')){let _0x30cff2=0x0;Object[_0x45d7c7(0x254)](_0x4a280c)['forEach'](_0x36f094=>{if(_0x36f094>_0x30cff2)_0x30cff2=_0x36f094;});if(_0x30cff2===0x0)_0x30cff2=0x78;const _0x418130=_0x1888d5[_0x45d7c7(0x1ef)]()-_0x30cff2*0xea60;_0x30c839>=_0x418130&&_0x30c839<_0x1888d5[_0x45d7c7(0x1ef)]()&&(_0x2f5358[_0x45d7c7(0x262)]!==_0x45d7c7(0x28b)&&(_0x2f5358['log'][_0x45d7c7(0x27a)]('ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x30cff2+_0x45d7c7(0x236)),await _0x2f5358[_0x45d7c7(0x2a0)](_0x45d7c7(0x263),{'val':_0x45d7c7(0x28b),'ack':![]})));}for(const _0x3d4138 of _0x5c3c3a){if(_0x3d4138[_0x45d7c7(0x278)]){const _0xf2ac9d=_0x3d4138[_0x45d7c7(0x278)][_0x45d7c7(0x238)](),_0x478ee0=(_0x3d4138[_0x45d7c7(0x22c)]||'')['toLowerCase']();let _0x12d165=_0x35b155['includes'](_0xf2ac9d);!_0x12d165&&_0x478ee0[_0x45d7c7(0x235)]>0x3&&_0x35b155['includes'](_0x478ee0)&&(_0x12d165=!![]);if(_0x12d165){const _0x330f71=_0x4a280c[_0x3d4138[_0x45d7c7(0x278)]]||0x3c,_0x44f9bd=_0xc70227[_0x3d4138[_0x45d7c7(0x278)]]||'Classic',_0x399575=_0x1888d5['getTime']()-_0x330f71*0xea60;if(_0x30c839>=_0x399575&&_0x30c839<_0x1888d5[_0x45d7c7(0x1ef)]()){const _0x4ea0c3=lastActions[_0x45d7c7(0x26d)+_0x3d4138[_0x45d7c7(0x278)]];if(_0x4ea0c3&&_0x30c839-_0x4ea0c3<CAL_COOLDOWN_MS)continue;const _0x47792d=await findRelatedId(_0x2f5358,_0x3d4138['id'],_0x45d7c7(0x272));if(_0x47792d){let _0x347043=_0x228367[_0x3d4138[_0x45d7c7(0x278)]];if(_0x347043===undefined)_0x347043=_0x228367[_0x45d7c7(0x232)];if(_0x347043===undefined)_0x347043=0x15;const _0xedfe20=await _0x2f5358[_0x45d7c7(0x25f)](_0x47792d);if(_0xedfe20&&typeof _0xedfe20[_0x45d7c7(0x289)]===_0x45d7c7(0x24f)&&_0xedfe20[_0x45d7c7(0x289)]<_0x347043-0.5){_0x2f5358[_0x45d7c7(0x205)][_0x45d7c7(0x27a)]('ðŸ“…\x20SMART\x20SCHEDULE\x20['+_0x44f9bd+_0x45d7c7(0x24b)+_0x3d4138[_0x45d7c7(0x278)]+_0x45d7c7(0x225)+_0x35b155+_0x45d7c7(0x20e)+_0x347043+'Â°C\x20(Vorlauf:\x20'+_0x330f71+_0x45d7c7(0x236)),await _0x2f5358[_0x45d7c7(0x23e)](_0x47792d,_0x347043),await logAutomationAction(_0x2f5358,'[CAL]\x20'+_0x3d4138[_0x45d7c7(0x278)]+'\x20->\x20'+_0x347043+_0x45d7c7(0x24d)+_0x44f9bd+')'),lastActions[_0x45d7c7(0x26d)+_0x3d4138['location']]=_0x30c839;const _0x1419c5=_0x7ab1cf[_0x45d7c7(0x299)](_0x2170d2=>_0x2170d2['room']===_0x3d4138[_0x45d7c7(0x278)]);if(_0x1419c5!==-0x1)_0x7ab1cf[_0x45d7c7(0x21c)](_0x1419c5,0x1);_0x7ab1cf[_0x45d7c7(0x273)]({'room':_0x3d4138['location'],'target':_0x347043,'until':_0x1888d5[_0x45d7c7(0x1ef)]()}),_0x2bc881=!![];}}}}}}}_0x2bc881&&await _0x2f5358['setStateAsync'](_0x45d7c7(0x216),{'val':JSON[_0x45d7c7(0x242)](_0x7ab1cf),'ack':!![]});}catch(_0x5a9576){_0x2f5358[_0x45d7c7(0x205)]['warn']('Calendar\x20Check\x20Error:\x20'+_0x5a9576['message']);}}async function manageMpcIntervention(_0x18ebec,_0x46f0d7,_0x1b7e41){const _0x37d840=a1_0x2f0a66;try{const _0x19a8fc='analysis.energy.mpcActiveInterventions',_0x44704b=await _0x18ebec[_0x37d840(0x27f)](_0x19a8fc);let _0x52e0e4=[];if(_0x44704b&&_0x44704b[_0x37d840(0x289)])try{_0x52e0e4=JSON[_0x37d840(0x201)](_0x44704b[_0x37d840(0x289)]);}catch(_0x432b06){}const _0x1cbdcb=_0x52e0e4[_0x37d840(0x1fe)](_0x46f0d7);if(_0x1b7e41===_0x37d840(0x227))_0x1cbdcb===-0x1&&(_0x52e0e4['push'](_0x46f0d7),await _0x18ebec[_0x37d840(0x2a0)](_0x19a8fc,{'val':JSON['stringify'](_0x52e0e4),'ack':!![]}));else _0x1b7e41===_0x37d840(0x21e)&&(_0x1cbdcb!==-0x1&&(_0x52e0e4[_0x37d840(0x21c)](_0x1cbdcb,0x1),await _0x18ebec['setStateAsync'](_0x19a8fc,{'val':JSON[_0x37d840(0x242)](_0x52e0e4),'ack':!![]})));}catch(_0x1189e2){}}async function cleanupGhostInterventions(_0x215e1b){const _0xac1ec7=a1_0x2f0a66;try{const _0x5b5426=_0xac1ec7(0x287),_0x4b199b=await _0x215e1b[_0xac1ec7(0x27f)](_0x5b5426);if(!_0x4b199b||!_0x4b199b['val'])return;const _0x135b54=JSON[_0xac1ec7(0x201)](_0x4b199b[_0xac1ec7(0x289)]);if(!Array['isArray'](_0x135b54)||_0x135b54[_0xac1ec7(0x235)]===0x0)return;let _0x472881={'default':0x15};try{const _0x599ee0=await _0x215e1b[_0xac1ec7(0x27f)]('analysis.energy.warmupTargets');if(_0x599ee0&&_0x599ee0['val'])_0x472881=JSON[_0xac1ec7(0x201)](_0x599ee0[_0xac1ec7(0x289)]);}catch(_0x317070){}let _0x55640b=[];try{const _0x4472aa=await _0x215e1b[_0xac1ec7(0x27f)](_0xac1ec7(0x203));if(_0x4472aa&&_0x4472aa[_0xac1ec7(0x289)])_0x55640b=JSON[_0xac1ec7(0x201)](_0x4472aa[_0xac1ec7(0x289)]);}catch(_0x6eb6e8){}let _0x35f441={},_0x54779d=![];try{const _0xc50b23=await _0x215e1b['getStateAsync'](_0xac1ec7(0x1fa));if(_0xc50b23&&_0xc50b23['val'])_0x35f441=JSON[_0xac1ec7(0x201)](_0xc50b23[_0xac1ec7(0x289)]);}catch(_0x2a8789){}if(_0x35f441[_0xac1ec7(0x280)]){const _0x41dd69=Date['now']();for(const [_0x4b2edb,_0x5ebbab]of Object[_0xac1ec7(0x22e)](_0x35f441[_0xac1ec7(0x280)])){_0x41dd69-_0x5ebbab>PENALTY_TTL&&(delete _0x35f441[_0x4b2edb],delete _0x35f441['_meta'][_0x4b2edb],_0x54779d=!![],_0x215e1b[_0xac1ec7(0x205)]['info'](_0xac1ec7(0x20f)+_0x4b2edb+_0xac1ec7(0x27d)));}}const _0x20bc0e=_0x215e1b[_0xac1ec7(0x249)]['devices']||[];let _0xcce4da=![];for(let _0x112684=_0x135b54['length']-0x1;_0x112684>=0x0;_0x112684--){const _0x2ec617=_0x135b54[_0x112684],_0x219d9c=_0x20bc0e['find'](_0x42a356=>normalize(_0x42a356[_0xac1ec7(0x278)])===normalize(_0x2ec617)&&(_0x42a356['type']===_0xac1ec7(0x255)||_0x42a356['type']===_0xac1ec7(0x20d)));if(!_0x219d9c){_0x215e1b['log']['warn'](_0xac1ec7(0x29d)+_0x2ec617+_0xac1ec7(0x222)),_0x135b54['splice'](_0x112684,0x1),_0xcce4da=!![];continue;}if(_0x219d9c){const _0x282a8f=await findRelatedId(_0x215e1b,_0x219d9c['id'],_0xac1ec7(0x272)),_0x1f6e62=await _0x215e1b[_0xac1ec7(0x25f)](_0x219d9c['id']);if(_0x282a8f){const _0x2597c2=await _0x215e1b[_0xac1ec7(0x25f)](_0x282a8f);if(_0x2597c2&&typeof _0x2597c2[_0xac1ec7(0x289)]===_0xac1ec7(0x24f)){let _0x495d08=![],_0x4eedcf='';Math['abs'](_0x2597c2[_0xac1ec7(0x289)]-ECO_TEMP)>0.5&&(_0x495d08=!![],_0x4eedcf=_0xac1ec7(0x29f));if(!_0x495d08&&_0x1f6e62&&typeof _0x1f6e62[_0xac1ec7(0x289)]===_0xac1ec7(0x24f)){const _0x171fb8=_0x472881[_0x2ec617]||_0x472881['default']||0x15;_0x1f6e62[_0xac1ec7(0x289)]<_0x171fb8+0.2&&(_0x495d08=!![],_0x4eedcf=_0xac1ec7(0x2a1));}if(_0x495d08){if(_0x4eedcf===_0xac1ec7(0x29f)){_0x215e1b[_0xac1ec7(0x205)]['info']('ðŸ§¹\x20[MPC\x20CLEANUP]\x20'+_0x2ec617+'\x20ist\x20auf\x20'+_0x2597c2['val']+'Â°C\x20(nicht\x20'+ECO_TEMP+'Â°C).\x20Entferne\x20Status.');const _0x11f95f=lastActions[_0xac1ec7(0x26d)+_0x2ec617],_0x2338d6=_0x11f95f&&Date[_0xac1ec7(0x298)]()-_0x11f95f<0x2*0x3c*0x3e8;if(!_0x2338d6&&_0x2597c2[_0xac1ec7(0x289)]>ECO_TEMP+0.5){_0x215e1b['sendToPythonWrapper']&&(_0x215e1b[_0xac1ec7(0x205)][_0xac1ec7(0x27a)](_0xac1ec7(0x1e9)+_0x2ec617+_0xac1ec7(0x1fb)),_0x215e1b[_0xac1ec7(0x217)](_0xac1ec7(0x265),{'room':_0x2ec617}));const _0x1c15f7=_0x2ec617+'_'+new Date()[_0xac1ec7(0x279)]();if(!_0x35f441[_0x1c15f7]){_0x35f441[_0x1c15f7]=0x1;if(!_0x35f441[_0xac1ec7(0x280)])_0x35f441['_meta']={};_0x35f441[_0xac1ec7(0x280)][_0x1c15f7]=Date[_0xac1ec7(0x298)](),_0x54779d=!![];}}else _0x2338d6&&_0x215e1b[_0xac1ec7(0x205)][_0xac1ec7(0x27a)](_0xac1ec7(0x28f)+_0x2ec617+'\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x4eedcf===_0xac1ec7(0x2a1)){let _0x3cddc6=![];if(_0x55640b['find'](_0x1fafcd=>_0x1fafcd[_0xac1ec7(0x267)]===_0x2ec617))_0x3cddc6=!![];const _0x1a740b=_0x20bc0e[_0xac1ec7(0x231)](_0x4108bf=>normalize(_0x4108bf['location'])===normalize(_0x2ec617)&&(_0x4108bf['type']===_0xac1ec7(0x25c)||_0x4108bf[_0xac1ec7(0x234)]===_0xac1ec7(0x241)||_0x4108bf['type']===_0xac1ec7(0x295)));for(const _0x1b6da0 of _0x1a740b){try{const _0x17d3c2=await _0x215e1b[_0xac1ec7(0x25f)](_0x1b6da0['id']);if(_0x17d3c2&&(_0x17d3c2['val']===!![]||_0x17d3c2[_0xac1ec7(0x289)]===0x1||String(_0x17d3c2[_0xac1ec7(0x289)])[_0xac1ec7(0x238)]()===_0xac1ec7(0x23c)))_0x3cddc6=!![];}catch(_0x239de9){}}if(_0x3cddc6)_0x215e1b[_0xac1ec7(0x205)][_0xac1ec7(0x27a)](_0xac1ec7(0x1ec)+_0x2ec617+_0xac1ec7(0x22b));else{const _0x46cb63=_0x472881[_0x2ec617]||_0x472881['default']||0x15;_0x215e1b['log'][_0xac1ec7(0x27a)](_0xac1ec7(0x28c)+_0x2ec617+_0xac1ec7(0x25b)+_0x1f6e62['val']+'Â°C\x20<\x20'+(_0x46cb63+0.2)+'Â°C).\x20Sparmodus\x20beendet!'),await _0x215e1b['setForeignStateAsync'](_0x282a8f,_0x46cb63),await logAutomationAction(_0x215e1b,_0xac1ec7(0x219)+_0x2ec617+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x46cb63+'Â°C'),lastActions['rescue_'+_0x2ec617]=Date[_0xac1ec7(0x298)]();}}}_0x135b54[_0xac1ec7(0x21c)](_0x112684,0x1),_0xcce4da=!![];}}}}}_0xcce4da&&await _0x215e1b[_0xac1ec7(0x2a0)](_0x5b5426,{'val':JSON['stringify'](_0x135b54),'ack':!![]}),_0x54779d&&await _0x215e1b[_0xac1ec7(0x2a0)](_0xac1ec7(0x1fa),{'val':JSON[_0xac1ec7(0x242)](_0x35f441),'ack':!![]});}catch(_0x373d9e){}}function a1_0x5721(_0x2ef707,_0x2caafe){const _0x4c418b=a1_0x557f();return a1_0x5721=function(_0x2fd9e8,_0x17e866){_0x2fd9e8=_0x2fd9e8-0x1e8;let _0x557f52=_0x4c418b[_0x2fd9e8];return _0x557f52;},a1_0x5721(_0x2ef707,_0x2caafe);}async function applyEnergySavings(_0x11149f,_0x228edb){const _0x2dd048=a1_0x2f0a66;await cleanupGhostInterventions(_0x11149f);if(!_0x228edb||_0x228edb[_0x2dd048(0x235)]===0x0)return;const _0x48fc77=_0x11149f[_0x2dd048(0x249)]['devices']||[],_0x4793c0=Date[_0x2dd048(0x298)]();for(const _0x89ef87 of _0x228edb){const _0x4d544b=_0x89ef87[_0x2dd048(0x267)],_0x20a171=_0x89ef87['minutes_safe'],_0x3623e3=_0x89ef87['target']||0x15;if(lastActions[_0x2dd048(0x2a4)+_0x4d544b]&&_0x4793c0-lastActions[_0x2dd048(0x2a4)+_0x4d544b]<RESCUE_LOCK_MS)continue;const _0x4d380=_0x48fc77['find'](_0x2d7c76=>normalize(_0x2d7c76[_0x2dd048(0x278)])===normalize(_0x4d544b)&&(_0x2d7c76[_0x2dd048(0x234)]===_0x2dd048(0x255)||_0x2d7c76[_0x2dd048(0x234)]===_0x2dd048(0x20d)));if(!_0x4d380)continue;const _0xeedebd=await findRelatedId(_0x11149f,_0x4d380['id'],_0x2dd048(0x272));if(_0xeedebd){if(lastActions[_0x2dd048(0x25d)+_0x4d544b]&&_0x4793c0-lastActions[_0x2dd048(0x25d)+_0x4d544b]<0x1e*0x3c*0x3e8)continue;const _0x52ac74=await _0x11149f[_0x2dd048(0x25f)](_0xeedebd);if(_0x52ac74&&typeof _0x52ac74[_0x2dd048(0x289)]===_0x2dd048(0x24f)){const _0x1b456c=_0x52ac74['val'];_0x1b456c!==ECO_TEMP&&await manageMpcIntervention(_0x11149f,_0x4d544b,'remove');if(_0x20a171>0x1e)_0x1b456c>ECO_TEMP+0.5&&(_0x11149f[_0x2dd048(0x205)][_0x2dd048(0x27a)](_0x2dd048(0x252)+_0x4d544b+'\x20auf\x20'+ECO_TEMP+_0x2dd048(0x277)+_0x20a171+_0x2dd048(0x26f)),await _0x11149f[_0x2dd048(0x23e)](_0xeedebd,ECO_TEMP),await manageMpcIntervention(_0x11149f,_0x4d544b,'add'),lastActions[_0x2dd048(0x25d)+_0x4d544b]=_0x4793c0,await logAutomationAction(_0x11149f,_0x2dd048(0x207)+_0x4d544b+_0x2dd048(0x226)+ECO_TEMP+'Â°C'));else _0x20a171<=0xf&&(_0x1b456c<_0x3623e3&&(_0x11149f[_0x2dd048(0x205)][_0x2dd048(0x27a)]('ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20'+_0x4d544b+_0x2dd048(0x286)+_0x3623e3+'Â°C!\x20(Puffer\x20leer).'),await _0x11149f[_0x2dd048(0x23e)](_0xeedebd,_0x3623e3),await manageMpcIntervention(_0x11149f,_0x4d544b,_0x2dd048(0x21e)),lastActions['mpc_'+_0x4d544b]=_0x4793c0,await logAutomationAction(_0x11149f,_0x2dd048(0x207)+_0x4d544b+_0x2dd048(0x23a)+_0x3623e3+'Â°C')));}}else _0x11149f[_0x2dd048(0x205)][_0x2dd048(0x23f)](_0x2dd048(0x296)+_0x4d544b+_0x2dd048(0x268));}}module[a1_0x2f0a66(0x269)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};