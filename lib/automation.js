const a1_0x195c8e=a1_0x192c;function a1_0x192c(_0x35701d,_0x5cba02){const _0x23fd6c=a1_0x13be();return a1_0x192c=function(_0x11b39e,_0x16c22b){_0x11b39e=_0x11b39e-0x1ac;let _0x13be77=_0x23fd6c[_0x11b39e];return _0x13be77;},a1_0x192c(_0x35701d,_0x5cba02);}(function(_0x45b256,_0x39339d){const _0xd011b7=a1_0x192c,_0x1c87a8=_0x45b256();while(!![]){try{const _0x4f2da4=parseInt(_0xd011b7(0x1ed))/0x1*(parseInt(_0xd011b7(0x25a))/0x2)+parseInt(_0xd011b7(0x1c3))/0x3+-parseInt(_0xd011b7(0x1c8))/0x4*(parseInt(_0xd011b7(0x228))/0x5)+-parseInt(_0xd011b7(0x26c))/0x6+parseInt(_0xd011b7(0x204))/0x7+parseInt(_0xd011b7(0x220))/0x8+parseInt(_0xd011b7(0x1e0))/0x9;if(_0x4f2da4===_0x39339d)break;else _0x1c87a8['push'](_0x1c87a8['shift']());}catch(_0x5786f4){_0x1c87a8['push'](_0x1c87a8['shift']());}}}(a1_0x13be,0x2b24b));const a1_0x16c22b=(function(){let _0x528855=!![];return function(_0x2d5f15,_0xba6004){const _0x20ab36=_0x528855?function(){const _0x470456=a1_0x192c;if(_0xba6004){const _0x88189=_0xba6004[_0x470456(0x23c)](_0x2d5f15,arguments);return _0xba6004=null,_0x88189;}}:function(){};return _0x528855=![],_0x20ab36;};}()),a1_0x11b39e=a1_0x16c22b(this,function(){const _0x4ce16d=a1_0x192c;return a1_0x11b39e[_0x4ce16d(0x1d5)]()[_0x4ce16d(0x200)](_0x4ce16d(0x236))[_0x4ce16d(0x1d5)]()['constructor'](a1_0x11b39e)[_0x4ce16d(0x200)]('(((.+)+)+)+$');});a1_0x11b39e();'use strict';const aiAgent=require(a1_0x195c8e(0x219)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0xaa3b1e){const _0x5d1586=a1_0x195c8e;if(!_0xaa3b1e)return'';return _0xaa3b1e[_0x5d1586(0x224)]()['replace'](/\s+/g,'')[_0x5d1586(0x20d)]();}function getWarmupRobust(_0x5f55aa,_0x6d9938){const _0x2810aa=a1_0x195c8e;if(!_0x5f55aa||!_0x6d9938)return 0x3c;if(_0x5f55aa[_0x6d9938]!==undefined)return _0x5f55aa[_0x6d9938];const _0x1abc8c=_0x6d9938[_0x2810aa(0x224)]()[_0x2810aa(0x24f)](/Ã¤/g,'ae')[_0x2810aa(0x24f)](/Ã¶/g,'oe')[_0x2810aa(0x24f)](/Ã¼/g,'ue')[_0x2810aa(0x24f)](/ÃŸ/g,'ss')[_0x2810aa(0x24f)](/\s+/g,'_')[_0x2810aa(0x24f)](/[^a-z0-9_]/g,'');if(_0x5f55aa[_0x1abc8c]!==undefined)return _0x5f55aa[_0x1abc8c];return 0x3c;}function a1_0x13be(){const _0x3a807b=['calendarSelection','toString','manual','toUpperCase','contact','role','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','mpc_','sendToPythonWrapper','.1.ACTUAL_TEMPERATURE','messwert','minutes_safe','2350098pDjfRl','_calName','\x20->\x20','getStateAsync','Calendar\x20Check\x20Error:\x20','rescue_','val','thermostat','string','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','thermostatMapping','includes','openknx','1HPgtWv','ðŸ“…\x20[MPC\x20INFO]\x20','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','system.mode','getForeignStateAsync','\x20gefunden!','stringify','.4.VALVE_STATE','setStateAsync','\x20auf\x20','getTime','values','number','Â°C\x20(via\x20',':\x20Absenkung\x20auf\x20','local_temperature','split','current_heating_setpoint','\x20min).','search','parse',':\x20Aufheizen\x20auf\x20','event','1034985eWagdp','temp','ist','remove','log','[WATCHDOG]\x20','open','useCalendar','Â°C).\x20Sparmodus\x20beendet!','trim','Classic','_date','setpoint','length','Â°C\x20<\x20','.data.table','value.valve','valveMapping','summary','date','normal','./ai_agent','until','Â°C\x20(nicht\x20','location','localeCompare','Â°C\x20->\x20','position','764064UKDVQF','eventStart','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','reason','toLowerCase','sort','[CAL]\x20','message','15HBFRQF','getForeignObjectsAsync','\x20min)','devices','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','add','analysis.energy.mpcActiveInterventions','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','slice','analysis.automation.mode','analysis.energy.warmupTimes','target','triggerTime','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','(((.+)+)+)+$','valve_position','config','indexOf','target_temperature','find','apply','getForeignObjectAsync','splice','sensor','too_cold','default','room','exports','temperature','[MPC]\x20','now','Unbekannt','forEach','urlaub\x20ende','Unknown','calendarInstance','.1.LEVEL','getHours','push','replace','ankunft','\x20wieder\x20auf\x20','Â°C\x20(Vorlauf:\x20','error','analysis.automation.lastAction','unit','TRAIN_RL_PENALTY','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20','.1.TEMPERATURE','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','115414EFxSpY','analysis.energy.warmupTargets','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','ACTUAL_TEMPERATURE','consultButler','soll',']:\x20Raum-Trigger\x20\x27','setForeignStateAsync','common','analysis.energy.schedulePreview','dimmer','window','analysis.energy.activeEnforcements','entries','Manuelles\x20Mapping','score','filter','name','2021928vaTaVn','Enforcement\x20Monitor\x20Error:\x20','\x27\x20(Match:\x20','info','PERFECT','Â°C).\x20Entferne\x20Status.','active','write','valve','.1.SET_POINT_TEMPERATURE','analysis.energy.ventilationAlerts','map','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','ACTUAL','wert','ðŸ“…\x20SMART\x20SCHEDULE\x20[','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','actual','_meta','off','type','rÃ¼ckkehr','warn','53856zRQCDq','.4.SET_TEMPERATURE','currentSystemMode','isArray','cal_','88588ZrNsYC','level.valve','join','pi_heating_demand','approved','Â°C.','level','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','Fehlt','analysis.automation.actionLog',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','Auto-Erkennung'];a1_0x13be=function(){return _0x3a807b;};return a1_0x13be();}async function logAutomationAction(_0x442e6f,_0x4497e5){const _0x53281a=a1_0x195c8e;await _0x442e6f['setStateAsync'](_0x53281a(0x254),{'val':_0x4497e5,'ack':!![]});try{const _0x249b76=_0x53281a(0x1d1),_0x264d9c=await _0x442e6f[_0x53281a(0x1e3)](_0x249b76);let _0x2601ee=[];if(_0x264d9c&&_0x264d9c[_0x53281a(0x1e6)])try{_0x2601ee=JSON['parse'](_0x264d9c[_0x53281a(0x1e6)]);}catch(_0x4a605f){}_0x2601ee['unshift']({'ts':Date['now'](),'msg':_0x4497e5});if(_0x2601ee['length']>0x32)_0x2601ee=_0x2601ee[_0x53281a(0x230)](0x0,0x32);await _0x442e6f[_0x53281a(0x1f5)](_0x249b76,{'val':JSON['stringify'](_0x2601ee),'ack':!![]});}catch(_0x37c6a6){}}async function handlePrediction(_0x2286b2,_0x3640a2,_0x18357c){const _0x3fc1c1=a1_0x195c8e;if(!_0x3640a2||_0x3640a2===_0x3fc1c1(0x24a))return;let _0x2c957a=_0x3fc1c1(0x1bf),_0xee1dd9=0.6;try{const _0x379a08=await _0x2286b2[_0x3fc1c1(0x1e3)](_0x3fc1c1(0x231));if(_0x379a08&&_0x379a08['val'])_0x2c957a=_0x379a08[_0x3fc1c1(0x1e6)];const _0x3778d6=await _0x2286b2['getStateAsync']('analysis.automation.confidenceThreshold');if(_0x3778d6&&_0x3778d6['val'])_0xee1dd9=_0x3778d6[_0x3fc1c1(0x1e6)];}catch(_0x8a92c){}if(_0x2c957a===_0x3fc1c1(0x1bf)||_0x18357c<_0xee1dd9)return;const _0x4f7c17=Date[_0x3fc1c1(0x246)]();if(lastActions[_0x3640a2]&&_0x4f7c17-lastActions[_0x3640a2]<COOLDOWN_MS)return;const _0x417520=_0x2286b2['config'][_0x3fc1c1(0x22b)]||[],_0x2a52d9=normalize(_0x3640a2),_0x443c9c=_0x417520[_0x3fc1c1(0x23b)](_0x22f8b3=>normalize(_0x22f8b3[_0x3fc1c1(0x21c)])===_0x2a52d9&&(_0x22f8b3['type']==='light'||_0x22f8b3['type']===_0x3fc1c1(0x264)||_0x22f8b3[_0x3fc1c1(0x1c0)]==='switch'));if(!_0x443c9c)return;const _0x117574=await aiAgent[_0x3fc1c1(0x25e)](_0x2286b2,_0x3640a2,_0x443c9c[_0x3fc1c1(0x26b)],_0x18357c);if(!_0x117574[_0x3fc1c1(0x1cc)])return;const _0x23f34f='PrÃ¤diktion:\x20'+_0x3640a2+'\x20->\x20Schalte\x20'+_0x443c9c[_0x3fc1c1(0x26b)]+'\x20('+_0x117574[_0x3fc1c1(0x223)]+')';await logAutomationAction(_0x2286b2,'['+_0x2c957a[_0x3fc1c1(0x1d7)]()+']\x20'+_0x23f34f);if(_0x2c957a===_0x3fc1c1(0x1b1)){const _0x23a9a0=await _0x2286b2[_0x3fc1c1(0x1f1)](_0x443c9c['id']);(!_0x23a9a0||!_0x23a9a0[_0x3fc1c1(0x1e6)]&&_0x23a9a0[_0x3fc1c1(0x1e6)]!==!![])&&await _0x2286b2[_0x3fc1c1(0x261)](_0x443c9c['id'],!![]),lastActions[_0x3640a2]=_0x4f7c17;}}async function findRelatedId(_0x4d5e14,_0x48d175,_0x4950ad='setpoint'){const _0x1fc001=a1_0x195c8e;if(_0x4950ad===_0x1fc001(0x210)&&_0x4d5e14[_0x1fc001(0x238)][_0x1fc001(0x1ea)]){let _0x49f832=_0x4d5e14[_0x1fc001(0x238)][_0x1fc001(0x1ea)];if(typeof _0x49f832===_0x1fc001(0x1e8))try{_0x49f832=JSON[_0x1fc001(0x201)](_0x49f832);}catch(_0x2f56ad){}if(_0x49f832&&_0x49f832[_0x48d175])return _0x49f832[_0x48d175];}if(_0x4950ad===_0x1fc001(0x1b3)&&_0x4d5e14[_0x1fc001(0x238)][_0x1fc001(0x215)]){let _0x43728e=_0x4d5e14[_0x1fc001(0x238)][_0x1fc001(0x215)];if(typeof _0x43728e==='string')try{_0x43728e=JSON[_0x1fc001(0x201)](_0x43728e);}catch(_0x530865){}if(_0x43728e&&_0x43728e[_0x48d175])return _0x43728e[_0x48d175];}let _0x424b4e=[];if(_0x4950ad===_0x1fc001(0x210))_0x424b4e=[{'s':_0x1fc001(0x1dd),'t':_0x1fc001(0x1b4)},{'s':_0x1fc001(0x258),'t':_0x1fc001(0x1b4)},{'s':_0x1fc001(0x258),'t':_0x1fc001(0x1c4)},{'s':_0x1fc001(0x25d),'t':'SET_POINT_TEMPERATURE'},{'s':_0x1fc001(0x1fc),'t':'occupied_heating_setpoint'},{'s':_0x1fc001(0x1fc),'t':_0x1fc001(0x1fe)},{'s':'temperature','t':_0x1fc001(0x23a)},{'s':_0x1fc001(0x1b9),'t':'SET'},{'s':'Ist','t':'Soll'},{'s':'temperature','t':_0x1fc001(0x210)}];else _0x4950ad===_0x1fc001(0x1b3)&&(_0x424b4e=[{'s':_0x1fc001(0x1dd),'t':_0x1fc001(0x24c)},{'s':_0x1fc001(0x258),'t':_0x1fc001(0x24c)},{'s':_0x1fc001(0x258),'t':_0x1fc001(0x1f4)},{'s':_0x1fc001(0x1fc),'t':_0x1fc001(0x1cb)},{'s':_0x1fc001(0x244),'t':_0x1fc001(0x237)},{'s':'temperature','t':_0x1fc001(0x1ce)}]);for(const _0x36fd4c of _0x424b4e){if(_0x48d175[_0x1fc001(0x1eb)](_0x36fd4c['s'])){const _0x35623b=_0x48d175[_0x1fc001(0x24f)](_0x36fd4c['s'],_0x36fd4c['t']),_0x11e610=await _0x4d5e14[_0x1fc001(0x23d)](_0x35623b);if(_0x11e610)return _0x35623b;}}try{const _0x226364=_0x48d175[_0x1fc001(0x1fd)]('.');if(_0x226364['length']>0x2){const _0x5e46c8=_0x226364['slice'](0x0,-0x1)[_0x1fc001(0x1ca)]('.'),_0x3a2dae=await _0x4d5e14[_0x1fc001(0x229)](_0x5e46c8+'.*'),_0x4cf328=[],_0x2b164a=_0x48d175[_0x1fc001(0x1fd)](/[._]+/)[_0x1fc001(0x26a)](_0x2b1885=>![_0x1fc001(0x1ec),'0','hm-rpc',_0x1fc001(0x206),_0x1fc001(0x1ba),_0x1fc001(0x244),_0x1fc001(0x1bd),_0x1fc001(0x23f),_0x1fc001(0x1de),'state']['includes'](_0x2b1885[_0x1fc001(0x224)]()));for(const [_0x2e3797,_0x5184c8]of Object[_0x1fc001(0x267)](_0x3a2dae)){if(_0x2e3797===_0x48d175)continue;if(_0x5184c8&&_0x5184c8['common']){const _0x5c6127=_0x2e3797[_0x1fc001(0x224)](),_0x145621=(_0x5184c8[_0x1fc001(0x262)][_0x1fc001(0x1d9)]||'')[_0x1fc001(0x224)](),_0x3cb105=(_0x5184c8[_0x1fc001(0x262)][_0x1fc001(0x255)]||'')[_0x1fc001(0x224)]();let _0x2f54f7=![];if(_0x4950ad===_0x1fc001(0x210)&&_0x5184c8[_0x1fc001(0x262)][_0x1fc001(0x1b2)]===!![])_0x2f54f7=_0x5c6127[_0x1fc001(0x1eb)]('set')||_0x5c6127[_0x1fc001(0x1eb)](_0x1fc001(0x25f))||_0x5c6127[_0x1fc001(0x1eb)](_0x1fc001(0x233))||_0x145621['includes']('level.temperature')||_0x145621[_0x1fc001(0x1eb)]('thermostat.setpoint');else _0x4950ad===_0x1fc001(0x1b3)&&(_0x2f54f7=_0x5c6127[_0x1fc001(0x1eb)](_0x1fc001(0x1ce))||_0x5c6127[_0x1fc001(0x1eb)](_0x1fc001(0x1b3))||_0x5c6127[_0x1fc001(0x1eb)]('stellwert')||_0x5c6127[_0x1fc001(0x1eb)](_0x1fc001(0x21f))||_0x145621[_0x1fc001(0x1eb)](_0x1fc001(0x1c9))||_0x145621[_0x1fc001(0x1eb)](_0x1fc001(0x214))||_0x3cb105['includes']('%'));if(_0x2f54f7){const _0x4d7d5d=_0x2e3797[_0x1fc001(0x1fd)](/[._]+/)[_0x1fc001(0x1b6)](_0x2930e9=>_0x2930e9[_0x1fc001(0x224)]());let _0x376824=0x0;_0x2b164a[_0x1fc001(0x248)](_0x4f05c1=>{const _0x47a01b=_0x1fc001;if(_0x4d7d5d[_0x47a01b(0x1eb)](_0x4f05c1[_0x47a01b(0x224)]()))_0x376824++;}),_0x4cf328[_0x1fc001(0x24e)]({'id':_0x2e3797,'score':_0x376824});}}}if(_0x4cf328[_0x1fc001(0x211)]>0x0){_0x4cf328[_0x1fc001(0x225)]((_0x3648a8,_0xb2b27e)=>_0xb2b27e[_0x1fc001(0x269)]-_0x3648a8['score']);if(_0x4cf328[0x0][_0x1fc001(0x269)]>0x0)return _0x4cf328[0x0]['id'];}}}catch(_0x2a6974){}return null;}async function scanThermostats(_0x451b62){const _0x2d3191=a1_0x195c8e,_0x3a3b75=_0x451b62[_0x2d3191(0x238)][_0x2d3191(0x22b)]||[],_0x11e965=[],_0x218c8b=_0x3a3b75['filter'](_0x13f97f=>_0x13f97f['id']&&_0x13f97f['id'][_0x2d3191(0x1eb)](_0x2d3191(0x244))||_0x13f97f[_0x2d3191(0x1c0)]&&[_0x2d3191(0x244),_0x2d3191(0x1e7),_0x2d3191(0x23f)]['includes'](_0x13f97f['type'])||_0x13f97f[_0x2d3191(0x26b)]&&_0x13f97f['name']['toLowerCase']()[_0x2d3191(0x1eb)](_0x2d3191(0x205)));for(const _0x554239 of _0x218c8b){const _0x4a0012=await findRelatedId(_0x451b62,_0x554239['id'],'setpoint'),_0x3b02e6=await findRelatedId(_0x451b62,_0x554239['id'],_0x2d3191(0x1b3));let _0xf3103d='Nicht\x20gefunden',_0x1c61d7=![],_0x20eb55=_0x451b62[_0x2d3191(0x238)][_0x2d3191(0x1ea)]||{};if(typeof _0x20eb55===_0x2d3191(0x1e8))try{_0x20eb55=JSON[_0x2d3191(0x201)](_0x20eb55);}catch(_0x2539b7){}let _0x56e48=_0x451b62[_0x2d3191(0x238)][_0x2d3191(0x215)]||{};if(typeof _0x56e48==='string')try{_0x56e48=JSON[_0x2d3191(0x201)](_0x56e48);}catch(_0x20a655){}if(_0x20eb55[_0x554239['id']]&&_0x20eb55[_0x554239['id']]===_0x4a0012||_0x56e48[_0x554239['id']]&&_0x56e48[_0x554239['id']]===_0x3b02e6)_0xf3103d=_0x2d3191(0x268),_0x1c61d7=!![];else(_0x4a0012||_0x3b02e6)&&(_0xf3103d=_0x2d3191(0x1d3));_0x11e965[_0x2d3191(0x24e)]({'room':_0x554239[_0x2d3191(0x21c)]||'Unbekannt','sensorId':_0x554239['id'],'setpointId':_0x4a0012||'-','valveId':_0x3b02e6||'-','source':_0xf3103d,'isManual':_0x1c61d7,'status':_0x4a0012&&_0x3b02e6?_0x2d3191(0x1af):_0x4a0012?'OK':_0x2d3191(0x1d0)});}return _0x11e965[_0x2d3191(0x225)]((_0x411023,_0x51274a)=>_0x411023['room'][_0x2d3191(0x21d)](_0x51274a[_0x2d3191(0x242)]));}async function updateSchedulePreview(_0x31119f){const _0x11f49c=a1_0x195c8e;if(!_0x31119f[_0x11f49c(0x238)][_0x11f49c(0x20b)]||!_0x31119f[_0x11f49c(0x238)][_0x11f49c(0x24b)])return;let _0x278196={};try{const _0x9bd2af=await _0x31119f[_0x11f49c(0x1e3)]('analysis.energy.warmupTimes');if(_0x9bd2af&&_0x9bd2af[_0x11f49c(0x1e6)])_0x278196=JSON['parse'](_0x9bd2af[_0x11f49c(0x1e6)]);}catch(_0x456bc2){}const _0x386d35=[],_0x42ac06=Date[_0x11f49c(0x246)](),_0x250549=0x30*0x3c*0x3c*0x3e8;try{const _0x4a5238=await _0x31119f[_0x11f49c(0x1f1)](_0x31119f[_0x11f49c(0x238)][_0x11f49c(0x24b)]+_0x11f49c(0x213));if(!_0x4a5238||!_0x4a5238[_0x11f49c(0x1e6)])return;const _0x4c8356=JSON[_0x11f49c(0x201)](_0x4a5238[_0x11f49c(0x1e6)]),_0x4f3812=_0x31119f[_0x11f49c(0x238)]['calendarSelection']||[],_0x494928=_0x31119f['config'][_0x11f49c(0x22b)]||[],_0xa04d9a=new Set();_0x494928[_0x11f49c(0x248)](_0x5a2c5b=>{const _0x50659a=_0x11f49c;if(_0x5a2c5b[_0x50659a(0x21c)])_0xa04d9a[_0x50659a(0x22d)](_0x5a2c5b['location']);});for(const _0x4952a0 of _0x4c8356){if(_0x4952a0['_calName']&&_0x4f3812['length']>0x0&&!_0x4f3812['includes'](_0x4952a0[_0x11f49c(0x1e1)]))continue;const _0x97b4b=_0x4952a0[_0x11f49c(0x20f)]||_0x4952a0[_0x11f49c(0x221)]||_0x4952a0[_0x11f49c(0x217)];if(!_0x97b4b)continue;const _0xa4975=new Date(_0x97b4b),_0xd74683=_0xa4975[_0x11f49c(0x1f7)]();if(isNaN(_0xd74683))continue;if(_0xd74683<_0x42ac06)continue;if(_0xd74683>_0x42ac06+_0x250549)continue;const _0xde25f8=(_0x4952a0['event']||_0x4952a0[_0x11f49c(0x216)]||'')[_0x11f49c(0x224)]();let _0xc18679=![],_0x20eecc=[],_0x3eca93=_0x4952a0['event']||_0x4952a0['summary']||_0x11f49c(0x247);if(_0xde25f8['includes'](_0x11f49c(0x249))||_0xde25f8[_0x11f49c(0x1eb)]('rÃ¼ckkehr')||_0xde25f8[_0x11f49c(0x1eb)](_0x11f49c(0x250)))_0xc18679=!![],_0x20eecc=Array['from'](_0xa04d9a);else for(const _0x138287 of _0xa04d9a){if(_0xde25f8[_0x11f49c(0x1eb)](_0x138287[_0x11f49c(0x224)]()))_0x20eecc[_0x11f49c(0x24e)](_0x138287);}_0x20eecc[_0x11f49c(0x211)]>0x0&&_0x20eecc[_0x11f49c(0x248)](_0x4f4f1d=>{const _0x22c14d=_0x11f49c;let _0x350d02=0x3c;if(_0xc18679){let _0x1f7d70=0x0;Object[_0x22c14d(0x1f8)](_0x278196)[_0x22c14d(0x248)](_0x14c521=>{if(_0x14c521>_0x1f7d70)_0x1f7d70=_0x14c521;}),_0x350d02=_0x1f7d70>0x0?_0x1f7d70:0x78;}else _0x350d02=getWarmupRobust(_0x278196,_0x4f4f1d);const _0x5a0087=new Date(_0xd74683-_0x350d02*0xea60);_0x386d35['push']({'eventTime':_0xd74683,'triggerTime':_0x5a0087[_0x22c14d(0x1f7)](),'room':_0x4f4f1d,'minutes':_0x350d02,'reason':_0x3eca93,'isGlobal':_0xc18679});});}}catch(_0x5151da){}_0x386d35[_0x11f49c(0x225)]((_0x4be7c1,_0x41a789)=>_0x4be7c1[_0x11f49c(0x234)]-_0x41a789['triggerTime']);const _0x507d9b=_0x386d35[_0x11f49c(0x230)](0x0,0x5);await _0x31119f['setStateAsync'](_0x11f49c(0x263),{'val':JSON['stringify'](_0x507d9b),'ack':!![]});}async function monitorEnforcements(_0x4fd579){const _0x18b43c=a1_0x195c8e;try{const _0x1ec745='analysis.energy.activeEnforcements',_0x36c470=await _0x4fd579[_0x18b43c(0x1e3)](_0x1ec745);if(!_0x36c470||!_0x36c470[_0x18b43c(0x1e6)])return;let _0x31e9b5=[];try{_0x31e9b5=JSON['parse'](_0x36c470['val']);}catch(_0x3be945){return;}if(!Array[_0x18b43c(0x1c6)](_0x31e9b5)||_0x31e9b5[_0x18b43c(0x211)]===0x0)return;const _0x5340dd=Date['now'](),_0x5c9d0d=_0x4fd579[_0x18b43c(0x238)]['devices']||[];let _0x877ff5=![];for(let _0x9108b3=_0x31e9b5[_0x18b43c(0x211)]-0x1;_0x9108b3>=0x0;_0x9108b3--){const _0x214773=_0x31e9b5[_0x9108b3];if(_0x5340dd>=_0x214773[_0x18b43c(0x21a)]){_0x4fd579[_0x18b43c(0x208)][_0x18b43c(0x1ae)](_0x18b43c(0x1e9)+_0x214773[_0x18b43c(0x242)]+_0x18b43c(0x1bc)),_0x31e9b5[_0x18b43c(0x23e)](_0x9108b3,0x1),_0x877ff5=!![];continue;}const _0x202cc2=_0x5c9d0d['find'](_0x40258e=>normalize(_0x40258e[_0x18b43c(0x21c)])===normalize(_0x214773['room'])&&(_0x40258e[_0x18b43c(0x1c0)]===_0x18b43c(0x244)||_0x40258e[_0x18b43c(0x1c0)]===_0x18b43c(0x1e7)));if(_0x202cc2){const _0x39da31=await findRelatedId(_0x4fd579,_0x202cc2['id'],_0x18b43c(0x210));if(_0x39da31){const _0x5020f0=await _0x4fd579[_0x18b43c(0x1f1)](_0x39da31);_0x5020f0&&typeof _0x5020f0[_0x18b43c(0x1e6)]==='number'&&(_0x5020f0[_0x18b43c(0x1e6)]<0xf&&(_0x4fd579[_0x18b43c(0x208)][_0x18b43c(0x1c2)]('ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x214773[_0x18b43c(0x242)]+_0x18b43c(0x1f6)+_0x5020f0[_0x18b43c(0x1e6)]+_0x18b43c(0x22c)+_0x214773['target']+_0x18b43c(0x1cd)),await _0x4fd579['setForeignStateAsync'](_0x39da31,_0x214773[_0x18b43c(0x233)]),await logAutomationAction(_0x4fd579,'[FORCE]\x20'+_0x214773['room']+':\x20'+_0x5020f0[_0x18b43c(0x1e6)]+_0x18b43c(0x21e)+_0x214773[_0x18b43c(0x233)]+'Â°C\x20(Kalender-Schutz)')));}}}_0x877ff5&&await _0x4fd579[_0x18b43c(0x1f5)](_0x1ec745,{'val':JSON['stringify'](_0x31e9b5),'ack':!![]});}catch(_0x798620){_0x4fd579['log'][_0x18b43c(0x253)](_0x18b43c(0x1ac)+_0x798620[_0x18b43c(0x227)]);}}async function checkCalendarTriggers(_0x2c25f7){const _0x3c8011=a1_0x195c8e;if(!_0x2c25f7['config']['useCalendar']||!_0x2c25f7['config'][_0x3c8011(0x24b)])return;await updateSchedulePreview(_0x2c25f7);let _0xe2f370={},_0x3f8ec9={};try{const _0x3d145d=await _0x2c25f7['getStateAsync'](_0x3c8011(0x232));if(_0x3d145d&&_0x3d145d['val'])_0xe2f370=JSON['parse'](_0x3d145d['val']);const _0x508da9=await _0x2c25f7[_0x3c8011(0x1e3)]('analysis.energy.warmupSources');if(_0x508da9&&_0x508da9[_0x3c8011(0x1e6)])_0x3f8ec9=JSON[_0x3c8011(0x201)](_0x508da9[_0x3c8011(0x1e6)]);}catch(_0x2db24a){}let _0x2c2191={'default':0x15};try{const _0x278265=await _0x2c25f7[_0x3c8011(0x1e3)](_0x3c8011(0x25b));if(_0x278265&&_0x278265[_0x3c8011(0x1e6)])_0x2c2191=JSON[_0x3c8011(0x201)](_0x278265[_0x3c8011(0x1e6)]);}catch(_0x5f1fed){}let _0x1ea4f3=[];try{const _0x55bed7=await _0x2c25f7[_0x3c8011(0x1e3)](_0x3c8011(0x266));if(_0x55bed7&&_0x55bed7[_0x3c8011(0x1e6)])_0x1ea4f3=JSON['parse'](_0x55bed7['val']);}catch(_0x18fce1){}try{const _0x429527=await _0x2c25f7[_0x3c8011(0x1f1)](_0x2c25f7['config'][_0x3c8011(0x24b)]+_0x3c8011(0x213));if(!_0x429527||!_0x429527[_0x3c8011(0x1e6)])return;const _0x3288ac=JSON[_0x3c8011(0x201)](_0x429527[_0x3c8011(0x1e6)]),_0x16dfb2=Date[_0x3c8011(0x246)](),_0x12ad0c=_0x2c25f7[_0x3c8011(0x238)][_0x3c8011(0x22b)]||[],_0x2c209d=_0x2c25f7['config'][_0x3c8011(0x1d4)]||[];let _0x577349=![];for(const _0x3a0ad7 of _0x3288ac){if(_0x3a0ad7['_calName']&&_0x2c209d['length']>0x0&&!_0x2c209d[_0x3c8011(0x1eb)](_0x3a0ad7[_0x3c8011(0x1e1)]))continue;const _0x5415a2=_0x3a0ad7['_date']||_0x3a0ad7['eventStart']||_0x3a0ad7[_0x3c8011(0x217)];if(!_0x5415a2)continue;const _0x31ca4d=new Date(_0x5415a2);if(isNaN(_0x31ca4d['getTime']()))continue;const _0x56a067=(_0x3a0ad7[_0x3c8011(0x203)]||_0x3a0ad7['summary']||'')[_0x3c8011(0x224)]();if(_0x56a067[_0x3c8011(0x1eb)](_0x3c8011(0x249))||_0x56a067[_0x3c8011(0x1eb)](_0x3c8011(0x1c1))||_0x56a067[_0x3c8011(0x1eb)](_0x3c8011(0x250))){let _0x4d1251=0x0;Object[_0x3c8011(0x1f8)](_0xe2f370)[_0x3c8011(0x248)](_0x20c249=>{if(_0x20c249>_0x4d1251)_0x4d1251=_0x20c249;});if(_0x4d1251===0x0)_0x4d1251=0x78;const _0x4bdbc6=_0x31ca4d['getTime']()-_0x4d1251*0xea60;_0x16dfb2>=_0x4bdbc6&&_0x16dfb2<_0x31ca4d[_0x3c8011(0x1f7)]()&&(_0x2c25f7[_0x3c8011(0x1c5)]!==_0x3c8011(0x218)&&(_0x2c25f7[_0x3c8011(0x208)][_0x3c8011(0x1ae)](_0x3c8011(0x222)+_0x4d1251+_0x3c8011(0x1ff)),await _0x2c25f7[_0x3c8011(0x1f5)](_0x3c8011(0x1f0),{'val':_0x3c8011(0x218),'ack':![]})));}for(const _0x2693bf of _0x12ad0c){if(_0x2693bf[_0x3c8011(0x21c)]){const _0x1541c5=_0x2693bf[_0x3c8011(0x21c)]['toLowerCase'](),_0x5c8fef=(_0x2693bf[_0x3c8011(0x26b)]||'')[_0x3c8011(0x224)]();let _0x27c044=_0x56a067[_0x3c8011(0x1eb)](_0x1541c5);!_0x27c044&&_0x5c8fef[_0x3c8011(0x211)]>0x3&&_0x56a067[_0x3c8011(0x1eb)](_0x5c8fef)&&(_0x27c044=!![]);if(_0x27c044){const _0x242564=getWarmupRobust(_0xe2f370,_0x2693bf[_0x3c8011(0x21c)]),_0x4358bd=_0x3f8ec9[_0x2693bf['location']]||_0x3c8011(0x20e),_0x86cd17=_0x31ca4d[_0x3c8011(0x1f7)]()-_0x242564*0xea60;if(_0x16dfb2>=_0x86cd17&&_0x16dfb2<_0x31ca4d[_0x3c8011(0x1f7)]()){const _0x4416da=lastActions[_0x3c8011(0x1c7)+_0x2693bf['location']];if(_0x4416da&&_0x16dfb2-_0x4416da<CAL_COOLDOWN_MS)continue;const _0x1ea259=await findRelatedId(_0x2c25f7,_0x2693bf['id'],_0x3c8011(0x210));if(_0x1ea259){let _0x2c571b=_0x2c2191[_0x2693bf[_0x3c8011(0x21c)]];if(_0x2c571b===undefined)_0x2c571b=_0x2c2191['default'];if(_0x2c571b===undefined)_0x2c571b=0x15;const _0x48b47b=await _0x2c25f7[_0x3c8011(0x1f1)](_0x1ea259);if(_0x48b47b&&typeof _0x48b47b[_0x3c8011(0x1e6)]==='number'&&_0x48b47b[_0x3c8011(0x1e6)]<_0x2c571b-0.5){_0x2c25f7['log'][_0x3c8011(0x1ae)](_0x3c8011(0x1bb)+_0x4358bd+_0x3c8011(0x260)+_0x2693bf[_0x3c8011(0x21c)]+_0x3c8011(0x1ad)+_0x56a067+')\x20aktiv.\x20Heize\x20auf\x20'+_0x2c571b+_0x3c8011(0x252)+_0x242564+_0x3c8011(0x1ff)),await _0x2c25f7['setForeignStateAsync'](_0x1ea259,_0x2c571b),await logAutomationAction(_0x2c25f7,_0x3c8011(0x226)+_0x2693bf['location']+_0x3c8011(0x1e2)+_0x2c571b+_0x3c8011(0x1fa)+_0x4358bd+')'),lastActions[_0x3c8011(0x1c7)+_0x2693bf[_0x3c8011(0x21c)]]=_0x16dfb2;const _0x353ec4=_0x1ea4f3['findIndex'](_0x1ae3f3=>_0x1ae3f3[_0x3c8011(0x242)]===_0x2693bf[_0x3c8011(0x21c)]);if(_0x353ec4!==-0x1)_0x1ea4f3[_0x3c8011(0x23e)](_0x353ec4,0x1);_0x1ea4f3['push']({'room':_0x2693bf[_0x3c8011(0x21c)],'target':_0x2c571b,'until':_0x31ca4d[_0x3c8011(0x1f7)]()}),_0x577349=!![];}}}}}}}_0x577349&&await _0x2c25f7[_0x3c8011(0x1f5)](_0x3c8011(0x266),{'val':JSON[_0x3c8011(0x1f3)](_0x1ea4f3),'ack':!![]});}catch(_0x5d1dc2){_0x2c25f7[_0x3c8011(0x208)][_0x3c8011(0x1c2)](_0x3c8011(0x1e4)+_0x5d1dc2['message']);}}async function manageMpcIntervention(_0x5d531c,_0x343e4e,_0x8776f7){const _0x86f312=a1_0x195c8e;try{const _0x4bd68a=_0x86f312(0x22e),_0x58cc7a=await _0x5d531c[_0x86f312(0x1e3)](_0x4bd68a);let _0x20460a=[];if(_0x58cc7a&&_0x58cc7a[_0x86f312(0x1e6)])try{_0x20460a=JSON[_0x86f312(0x201)](_0x58cc7a[_0x86f312(0x1e6)]);}catch(_0x1415b){}const _0x3000f0=_0x20460a[_0x86f312(0x239)](_0x343e4e);if(_0x8776f7===_0x86f312(0x22d))_0x3000f0===-0x1&&(_0x20460a[_0x86f312(0x24e)](_0x343e4e),await _0x5d531c[_0x86f312(0x1f5)](_0x4bd68a,{'val':JSON[_0x86f312(0x1f3)](_0x20460a),'ack':!![]}));else _0x8776f7===_0x86f312(0x207)&&(_0x3000f0!==-0x1&&(_0x20460a[_0x86f312(0x23e)](_0x3000f0,0x1),await _0x5d531c[_0x86f312(0x1f5)](_0x4bd68a,{'val':JSON['stringify'](_0x20460a),'ack':!![]})));}catch(_0x3b256c){}}async function cleanupGhostInterventions(_0x2708da){const _0x5cad32=a1_0x195c8e;try{const _0x2fdc03=_0x5cad32(0x22e),_0x5195d0=await _0x2708da[_0x5cad32(0x1e3)](_0x2fdc03);if(!_0x5195d0||!_0x5195d0[_0x5cad32(0x1e6)])return;const _0x12beab=JSON['parse'](_0x5195d0[_0x5cad32(0x1e6)]);if(!Array[_0x5cad32(0x1c6)](_0x12beab)||_0x12beab[_0x5cad32(0x211)]===0x0)return;let _0x225555={'default':0x15};try{const _0x40f322=await _0x2708da['getStateAsync']('analysis.energy.warmupTargets');if(_0x40f322&&_0x40f322['val'])_0x225555=JSON['parse'](_0x40f322[_0x5cad32(0x1e6)]);}catch(_0x1edaf3){}let _0x5dd925=[];try{const _0x36eba0=await _0x2708da[_0x5cad32(0x1e3)](_0x5cad32(0x1b5));if(_0x36eba0&&_0x36eba0['val'])_0x5dd925=JSON[_0x5cad32(0x201)](_0x36eba0['val']);}catch(_0x5bc5f9){}let _0x3eee9a={},_0xeae2f7=![];try{const _0xa2f27f=await _0x2708da[_0x5cad32(0x1e3)]('analysis.energy.rlPenalties');if(_0xa2f27f&&_0xa2f27f[_0x5cad32(0x1e6)])_0x3eee9a=JSON[_0x5cad32(0x201)](_0xa2f27f['val']);}catch(_0x28bfa3){}if(_0x3eee9a[_0x5cad32(0x1be)]){const _0x5802ba=Date[_0x5cad32(0x246)]();for(const [_0x316182,_0x5a4bc4]of Object['entries'](_0x3eee9a[_0x5cad32(0x1be)])){_0x5802ba-_0x5a4bc4>PENALTY_TTL&&(delete _0x3eee9a[_0x316182],delete _0x3eee9a[_0x5cad32(0x1be)][_0x316182],_0xeae2f7=!![],_0x2708da[_0x5cad32(0x208)]['info'](_0x5cad32(0x22f)+_0x316182+_0x5cad32(0x259)));}}const _0x5e2a5d=_0x2708da[_0x5cad32(0x238)][_0x5cad32(0x22b)]||[];let _0x1e3741=![];for(let _0x5a275f=_0x12beab[_0x5cad32(0x211)]-0x1;_0x5a275f>=0x0;_0x5a275f--){const _0x363a5b=_0x12beab[_0x5a275f],_0x3f2215=_0x5e2a5d[_0x5cad32(0x23b)](_0x2c5dc7=>normalize(_0x2c5dc7[_0x5cad32(0x21c)])===normalize(_0x363a5b)&&(_0x2c5dc7[_0x5cad32(0x1c0)]===_0x5cad32(0x244)||_0x2c5dc7[_0x5cad32(0x1c0)]===_0x5cad32(0x1e7)));if(!_0x3f2215){_0x2708da[_0x5cad32(0x208)][_0x5cad32(0x1c2)](_0x5cad32(0x1b8)+_0x363a5b+_0x5cad32(0x1cf)),_0x12beab['splice'](_0x5a275f,0x1),_0x1e3741=!![];continue;}if(_0x3f2215){const _0x31b481=await findRelatedId(_0x2708da,_0x3f2215['id'],_0x5cad32(0x210)),_0x2c9aa2=await _0x2708da['getForeignStateAsync'](_0x3f2215['id']);if(_0x31b481){const _0x2c9ab9=await _0x2708da['getForeignStateAsync'](_0x31b481);if(_0x2c9ab9&&typeof _0x2c9ab9[_0x5cad32(0x1e6)]===_0x5cad32(0x1f9)){let _0x45cc30=![],_0x2127f0='';Math['abs'](_0x2c9ab9['val']-ECO_TEMP)>0.5&&(_0x45cc30=!![],_0x2127f0=_0x5cad32(0x1d6));if(!_0x45cc30&&_0x2c9aa2&&typeof _0x2c9aa2['val']===_0x5cad32(0x1f9)){const _0x22839e=_0x225555[_0x363a5b]||_0x225555[_0x5cad32(0x241)]||0x15;_0x2c9aa2[_0x5cad32(0x1e6)]<_0x22839e+0.2&&(_0x45cc30=!![],_0x2127f0=_0x5cad32(0x240));}if(_0x45cc30){if(_0x2127f0===_0x5cad32(0x1d6)){_0x2708da[_0x5cad32(0x208)][_0x5cad32(0x1ae)]('ðŸ§¹\x20[MPC\x20CLEANUP]\x20'+_0x363a5b+'\x20ist\x20auf\x20'+_0x2c9ab9['val']+_0x5cad32(0x21b)+ECO_TEMP+_0x5cad32(0x1b0));const _0x24851d=lastActions[_0x5cad32(0x1c7)+_0x363a5b],_0x33d413=_0x24851d&&Date[_0x5cad32(0x246)]()-_0x24851d<0x2*0x3c*0x3e8;if(!_0x33d413&&_0x2c9ab9['val']>ECO_TEMP+0.5){_0x2708da[_0x5cad32(0x1dc)]&&(_0x2708da[_0x5cad32(0x208)][_0x5cad32(0x1ae)](_0x5cad32(0x1ef)+_0x363a5b+'\x20wurde\x20manuell\x20erhÃ¶ht.'),_0x2708da['sendToPythonWrapper'](_0x5cad32(0x256),{'room':_0x363a5b}));const _0x391305=_0x363a5b+'_'+new Date()[_0x5cad32(0x24d)]();if(!_0x3eee9a[_0x391305]){_0x3eee9a[_0x391305]=0x1;if(!_0x3eee9a[_0x5cad32(0x1be)])_0x3eee9a['_meta']={};_0x3eee9a['_meta'][_0x391305]=Date[_0x5cad32(0x246)](),_0xeae2f7=!![];}}else _0x33d413&&_0x2708da[_0x5cad32(0x208)]['info'](_0x5cad32(0x1ee)+_0x363a5b+'\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x2127f0===_0x5cad32(0x240)){let _0x5f1edb=![];if(_0x5dd925[_0x5cad32(0x23b)](_0x299f67=>_0x299f67['room']===_0x363a5b))_0x5f1edb=!![];const _0xffbe95=_0x5e2a5d['filter'](_0x465926=>normalize(_0x465926[_0x5cad32(0x21c)])===normalize(_0x363a5b)&&(_0x465926[_0x5cad32(0x1c0)]===_0x5cad32(0x265)||_0x465926[_0x5cad32(0x1c0)]===_0x5cad32(0x23f)||_0x465926['type']===_0x5cad32(0x1d8)));for(const _0x277f07 of _0xffbe95){try{const _0x5db0e6=await _0x2708da[_0x5cad32(0x1f1)](_0x277f07['id']);if(_0x5db0e6&&(_0x5db0e6[_0x5cad32(0x1e6)]===!![]||_0x5db0e6['val']===0x1||String(_0x5db0e6['val'])[_0x5cad32(0x224)]()===_0x5cad32(0x20a)))_0x5f1edb=!![];}catch(_0x26c4a3){}}if(_0x5f1edb)_0x2708da[_0x5cad32(0x208)][_0x5cad32(0x1ae)](_0x5cad32(0x25c)+_0x363a5b+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x305325=_0x225555[_0x363a5b]||_0x225555['default']||0x15;_0x2708da[_0x5cad32(0x208)][_0x5cad32(0x1ae)](_0x5cad32(0x235)+_0x363a5b+'\x20erreicht\x20Limit\x20('+_0x2c9aa2['val']+_0x5cad32(0x212)+(_0x305325+0.2)+_0x5cad32(0x20c)),await _0x2708da[_0x5cad32(0x261)](_0x31b481,_0x305325),await logAutomationAction(_0x2708da,_0x5cad32(0x209)+_0x363a5b+_0x5cad32(0x1d2)+_0x305325+'Â°C'),lastActions[_0x5cad32(0x1e5)+_0x363a5b]=Date[_0x5cad32(0x246)]();}}}_0x12beab[_0x5cad32(0x23e)](_0x5a275f,0x1),_0x1e3741=!![];}}}}}_0x1e3741&&await _0x2708da['setStateAsync'](_0x2fdc03,{'val':JSON[_0x5cad32(0x1f3)](_0x12beab),'ack':!![]}),_0xeae2f7&&await _0x2708da[_0x5cad32(0x1f5)]('analysis.energy.rlPenalties',{'val':JSON[_0x5cad32(0x1f3)](_0x3eee9a),'ack':!![]});}catch(_0x575a55){}}async function applyEnergySavings(_0x4c348f,_0x16868e){const _0x1f8e40=a1_0x195c8e;await cleanupGhostInterventions(_0x4c348f);if(!_0x16868e||_0x16868e['length']===0x0)return;const _0x28a148=_0x4c348f['config'][_0x1f8e40(0x22b)]||[],_0x6f6e12=Date[_0x1f8e40(0x246)]();for(const _0x1effc9 of _0x16868e){const _0xd14f14=_0x1effc9[_0x1f8e40(0x242)],_0x358f66=_0x1effc9[_0x1f8e40(0x1df)],_0x2ed697=_0x1effc9[_0x1f8e40(0x233)]||0x15;if(lastActions[_0x1f8e40(0x1e5)+_0xd14f14]&&_0x6f6e12-lastActions[_0x1f8e40(0x1e5)+_0xd14f14]<RESCUE_LOCK_MS)continue;const _0x545180=_0x28a148[_0x1f8e40(0x23b)](_0x420e71=>normalize(_0x420e71[_0x1f8e40(0x21c)])===normalize(_0xd14f14)&&(_0x420e71[_0x1f8e40(0x1c0)]===_0x1f8e40(0x244)||_0x420e71['type']===_0x1f8e40(0x1e7)));if(!_0x545180)continue;const _0x209911=await findRelatedId(_0x4c348f,_0x545180['id'],'setpoint');if(_0x209911){if(lastActions[_0x1f8e40(0x1db)+_0xd14f14]&&_0x6f6e12-lastActions[_0x1f8e40(0x1db)+_0xd14f14]<0x1e*0x3c*0x3e8)continue;const _0x45c703=await _0x4c348f[_0x1f8e40(0x1f1)](_0x209911);if(_0x45c703&&typeof _0x45c703[_0x1f8e40(0x1e6)]===_0x1f8e40(0x1f9)){const _0x559d64=_0x45c703[_0x1f8e40(0x1e6)];_0x559d64!==ECO_TEMP&&await manageMpcIntervention(_0x4c348f,_0xd14f14,'remove');if(_0x358f66>0x1e)_0x559d64>ECO_TEMP+0.5&&(_0x4c348f[_0x1f8e40(0x208)][_0x1f8e40(0x1ae)](_0x1f8e40(0x1da)+_0xd14f14+_0x1f8e40(0x1f6)+ECO_TEMP+'Â°C!\x20(Puffer:\x20'+_0x358f66+_0x1f8e40(0x22a)),await _0x4c348f[_0x1f8e40(0x261)](_0x209911,ECO_TEMP),await manageMpcIntervention(_0x4c348f,_0xd14f14,_0x1f8e40(0x22d)),lastActions['mpc_'+_0xd14f14]=_0x6f6e12,await logAutomationAction(_0x4c348f,_0x1f8e40(0x245)+_0xd14f14+_0x1f8e40(0x1fb)+ECO_TEMP+'Â°C'));else _0x358f66<=0xf&&(_0x559d64<_0x2ed697&&(_0x4c348f[_0x1f8e40(0x208)][_0x1f8e40(0x1ae)](_0x1f8e40(0x257)+_0xd14f14+_0x1f8e40(0x251)+_0x2ed697+'Â°C!\x20(Puffer\x20leer).'),await _0x4c348f['setForeignStateAsync'](_0x209911,_0x2ed697),await manageMpcIntervention(_0x4c348f,_0xd14f14,_0x1f8e40(0x207)),lastActions[_0x1f8e40(0x1db)+_0xd14f14]=_0x6f6e12,await logAutomationAction(_0x4c348f,_0x1f8e40(0x245)+_0xd14f14+_0x1f8e40(0x202)+_0x2ed697+'Â°C')));}}else _0x4c348f[_0x1f8e40(0x208)][_0x1f8e40(0x1c2)](_0x1f8e40(0x1b7)+_0xd14f14+_0x1f8e40(0x1f2));}}module[a1_0x195c8e(0x243)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};