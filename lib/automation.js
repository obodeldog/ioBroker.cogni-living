const a1_0x24ec02=a1_0x3c68;function a1_0x3795(){const _0x42bcb9=['.4.SET_TEMPERATURE','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','forEach','switch','./ai_agent','PERFECT','role','\x20->\x20','approved','location','state','.1.TEMPERATURE','urlaub\x20ende','light','entries','üìÖ\x20[MPC\x20INFO]\x20','sendToPythonWrapper','map','now','analysis.energy.rlPenalties','type','mpc_','Pr√§diktion:\x20','_date','ist','\x20min)','üßπ\x20[MPC\x20CLEANUP]\x20','.1.LEVEL','event','search','¬∞C.','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','TRAIN_RL_PENALTY','actual','analysis.energy.activeEnforcements','thermostat','reason','target','Enforcement\x20Monitor\x20Error:\x20','includes','info','abs','77nIOYxv','266344mptFhI','position','¬∞C\x20<\x20','¬∞C).\x20Entferne\x20Status.','115tojPPo','Fehlt','occupied_heating_setpoint','thermostatMapping','consultButler','toString','number','length','_calName','setForeignStateAsync','\x20gefunden!','exports','local_temperature','setStateAsync','analysis.energy.mpcActiveInterventions','join','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','analysis.energy.warmupTimes','Soll','Ist','getForeignStateAsync','thermostat.setpoint','system.mode','[CAL]\x20','.data.table','toUpperCase','\x20auf\x20','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','valveMapping','replace','Unbekannt','calendarInstance','manual','slice','off','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','summary','(((.+)+)+)+$','calendarSelection','analysis.energy.warmupSources','441VyRTUe','Manuelles\x20Mapping','default','string','ACTUAL','parse','analysis.energy.ventilationAlerts','596946sViJJI','[MPC]\x20','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','¬∞C\x20(via\x20','¬∞C\x20(Kalender-Schutz)','until','ankunft',':\x20Absenkung\x20auf\x20','level','.4.VALVE_STATE','2279560tbUdSj','push','level.valve','find','message','current_heating_setpoint','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','add','Auto-Erkennung','room','config','devices','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','\x20wurde\x20manuell\x20erh√∂ht.','date','currentSystemMode','rescue_','common','66610EQKfHl','constructor','.1.ACTUAL_TEMPERATURE','¬∞C\x20->\x20','analysis.automation.lastAction','unshift','too_cold','\x20erreicht\x20Limit\x20(','triggerTime','score','sensor','Classic','temp','analysis.automation.mode','localeCompare','remove','_meta','val','\x20wieder\x20auf\x20','normal','\x20min).','getTime','analysis.energy.warmupTargets','analysis.automation.actionLog','SET_POINT_TEMPERATURE','788642neOKrU','toLowerCase','getStateAsync','sort','name','eventStart','analysis.energy.schedulePreview','Calendar\x20Check\x20Error:\x20','6192ZcjCae','valve','log','¬∞C!\x20(Puffer:\x20','getForeignObjectsAsync','250912TCqqEq','warn','pi_heating_demand','ACTUAL_TEMPERATURE',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','splice','stringify','üö®\x20[MPC\x20WATCHDOG]\x20','¬∞C\x20(nicht\x20','setpoint','Nicht\x20gefunden','openknx','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','filter','.1.SET_POINT_TEMPERATURE','open','[WATCHDOG]\x20','r√ºckkehr','üî•\x20[MPC\x20ACTION]\x20Heize\x20','temperature','isArray','split',']:\x20Raum-Trigger\x20\x27','cal_','indexOf',')\x20aktiv.\x20Heize\x20auf\x20','useCalendar'];a1_0x3795=function(){return _0x42bcb9;};return a1_0x3795();}(function(_0x4439b5,_0x2e366e){const _0x501d32=a1_0x3c68,_0x27daf9=_0x4439b5();while(!![]){try{const _0x461730=-parseInt(_0x501d32(0x1e1))/0x1+parseInt(_0x501d32(0x234))/0x2+-parseInt(_0x501d32(0x1ac))/0x3+parseInt(_0x501d32(0x1b6))/0x4+parseInt(_0x501d32(0x238))/0x5*(parseInt(_0x501d32(0x1e9))/0x6)+-parseInt(_0x501d32(0x233))/0x7*(-parseInt(_0x501d32(0x1ee))/0x8)+parseInt(_0x501d32(0x1a5))/0x9*(parseInt(_0x501d32(0x1c8))/0xa);if(_0x461730===_0x2e366e)break;else _0x27daf9['push'](_0x27daf9['shift']());}catch(_0x2f7379){_0x27daf9['push'](_0x27daf9['shift']());}}}(a1_0x3795,0x643c7));const a1_0x4a2f7c=(function(){let _0x2fa2e3=!![];return function(_0x5d655d,_0x2fc607){const _0x44d734=_0x2fa2e3?function(){if(_0x2fc607){const _0x4d03c4=_0x2fc607['apply'](_0x5d655d,arguments);return _0x2fc607=null,_0x4d03c4;}}:function(){};return _0x2fa2e3=![],_0x44d734;};}()),a1_0xc0e6b3=a1_0x4a2f7c(this,function(){const _0x20a315=a1_0x3c68;return a1_0xc0e6b3[_0x20a315(0x23d)]()[_0x20a315(0x226)](_0x20a315(0x1a2))[_0x20a315(0x23d)]()[_0x20a315(0x1c9)](a1_0xc0e6b3)[_0x20a315(0x226)](_0x20a315(0x1a2));});a1_0xc0e6b3();'use strict';const aiAgent=require(a1_0x24ec02(0x20d)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x435916){const _0x175b7e=a1_0x24ec02;if(!_0x435916)return'';return _0x435916[_0x175b7e(0x1e2)]()[_0x175b7e(0x199)](/\s+/g,'')['trim']();}function getWarmupRobust(_0x3a53a7,_0x4daaef){const _0x249a31=a1_0x24ec02;if(!_0x3a53a7||!_0x4daaef)return 0x3c;if(_0x3a53a7[_0x4daaef]!==undefined)return _0x3a53a7[_0x4daaef];const _0x532fe6=_0x4daaef['toLowerCase']()[_0x249a31(0x199)](/√§/g,'ae')[_0x249a31(0x199)](/√∂/g,'oe')[_0x249a31(0x199)](/√º/g,'ue')['replace'](/√ü/g,'ss')['replace'](/\s+/g,'_')[_0x249a31(0x199)](/[^a-z0-9_]/g,'');if(_0x3a53a7[_0x532fe6]!==undefined)return _0x3a53a7[_0x532fe6];return 0x3c;}async function logAutomationAction(_0x27d853,_0x41daef){const _0x2c9232=a1_0x24ec02;await _0x27d853[_0x2c9232(0x245)](_0x2c9232(0x1cc),{'val':_0x41daef,'ack':!![]});try{const _0x243521=_0x2c9232(0x1df),_0x2ea8b9=await _0x27d853[_0x2c9232(0x1e3)](_0x243521);let _0x2ee953=[];if(_0x2ea8b9&&_0x2ea8b9[_0x2c9232(0x1d9)])try{_0x2ee953=JSON[_0x2c9232(0x1aa)](_0x2ea8b9['val']);}catch(_0x2ede3e){}_0x2ee953[_0x2c9232(0x1cd)]({'ts':Date[_0x2c9232(0x21b)](),'msg':_0x41daef});if(_0x2ee953[_0x2c9232(0x23f)]>0x32)_0x2ee953=_0x2ee953['slice'](0x0,0x32);await _0x27d853[_0x2c9232(0x245)](_0x243521,{'val':JSON[_0x2c9232(0x1f4)](_0x2ee953),'ack':!![]});}catch(_0x5d43fc){}}async function handlePrediction(_0x206126,_0x41d1e7,_0x253780){const _0x274d05=a1_0x24ec02;if(!_0x41d1e7||_0x41d1e7==='Unknown')return;let _0x568372=_0x274d05(0x19e),_0x1bcfc1=0.6;try{const _0x59cf6d=await _0x206126[_0x274d05(0x1e3)](_0x274d05(0x1d5));if(_0x59cf6d&&_0x59cf6d[_0x274d05(0x1d9)])_0x568372=_0x59cf6d[_0x274d05(0x1d9)];const _0x45f6ed=await _0x206126['getStateAsync']('analysis.automation.confidenceThreshold');if(_0x45f6ed&&_0x45f6ed['val'])_0x1bcfc1=_0x45f6ed[_0x274d05(0x1d9)];}catch(_0x1b81b8){}if(_0x568372===_0x274d05(0x19e)||_0x253780<_0x1bcfc1)return;const _0x3812f7=Date[_0x274d05(0x21b)]();if(lastActions[_0x41d1e7]&&_0x3812f7-lastActions[_0x41d1e7]<COOLDOWN_MS)return;const _0x7fe0e8=_0x206126['config'][_0x274d05(0x1c1)]||[],_0x5e6997=normalize(_0x41d1e7),_0x15df1e=_0x7fe0e8[_0x274d05(0x1b9)](_0xa08998=>normalize(_0xa08998['location'])===_0x5e6997&&(_0xa08998['type']===_0x274d05(0x216)||_0xa08998[_0x274d05(0x21d)]==='dimmer'||_0xa08998['type']===_0x274d05(0x20c)));if(!_0x15df1e)return;const _0x59010f=await aiAgent[_0x274d05(0x23c)](_0x206126,_0x41d1e7,_0x15df1e[_0x274d05(0x1e5)],_0x253780);if(!_0x59010f[_0x274d05(0x211)])return;const _0x426f6e=_0x274d05(0x21f)+_0x41d1e7+'\x20->\x20Schalte\x20'+_0x15df1e['name']+'\x20('+_0x59010f[_0x274d05(0x22d)]+')';await logAutomationAction(_0x206126,'['+_0x568372[_0x274d05(0x195)]()+']\x20'+_0x426f6e);if(_0x568372==='active'){const _0x18106b=await _0x206126['getForeignStateAsync'](_0x15df1e['id']);(!_0x18106b||!_0x18106b[_0x274d05(0x1d9)]&&_0x18106b[_0x274d05(0x1d9)]!==!![])&&await _0x206126['setForeignStateAsync'](_0x15df1e['id'],!![]),lastActions[_0x41d1e7]=_0x3812f7;}}async function findRelatedId(_0x5ea019,_0x3c1ab8,_0x2db2db='setpoint'){const _0x838efd=a1_0x24ec02;if(_0x2db2db==='setpoint'&&_0x5ea019[_0x838efd(0x1c0)][_0x838efd(0x23b)]){let _0x583d49=_0x5ea019['config'][_0x838efd(0x23b)];if(typeof _0x583d49===_0x838efd(0x1a8))try{_0x583d49=JSON['parse'](_0x583d49);}catch(_0x2fa63b){}if(_0x583d49&&_0x583d49[_0x3c1ab8])return _0x583d49[_0x3c1ab8];}if(_0x2db2db===_0x838efd(0x1ea)&&_0x5ea019['config'][_0x838efd(0x198)]){let _0x378c8f=_0x5ea019['config'][_0x838efd(0x198)];if(typeof _0x378c8f===_0x838efd(0x1a8))try{_0x378c8f=JSON[_0x838efd(0x1aa)](_0x378c8f);}catch(_0x28ff8e){}if(_0x378c8f&&_0x378c8f[_0x3c1ab8])return _0x378c8f[_0x3c1ab8];}let _0x22cea4=[];if(_0x2db2db===_0x838efd(0x1f7))_0x22cea4=[{'s':_0x838efd(0x1ca),'t':_0x838efd(0x1fc)},{'s':_0x838efd(0x214),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x838efd(0x214),'t':_0x838efd(0x209)},{'s':_0x838efd(0x1f1),'t':_0x838efd(0x1e0)},{'s':_0x838efd(0x244),'t':_0x838efd(0x23a)},{'s':_0x838efd(0x244),'t':_0x838efd(0x1bb)},{'s':_0x838efd(0x201),'t':'target_temperature'},{'s':_0x838efd(0x1a9),'t':'SET'},{'s':_0x838efd(0x24b),'t':_0x838efd(0x24a)},{'s':_0x838efd(0x201),'t':_0x838efd(0x1f7)}];else _0x2db2db==='valve'&&(_0x22cea4=[{'s':_0x838efd(0x1ca),'t':_0x838efd(0x224)},{'s':_0x838efd(0x214),'t':_0x838efd(0x224)},{'s':_0x838efd(0x214),'t':_0x838efd(0x1b5)},{'s':_0x838efd(0x244),'t':_0x838efd(0x1f0)},{'s':_0x838efd(0x201),'t':'valve_position'},{'s':_0x838efd(0x201),'t':_0x838efd(0x1b4)}]);for(const _0x3d3c84 of _0x22cea4){if(_0x3c1ab8[_0x838efd(0x230)](_0x3d3c84['s'])){const _0x36ce9b=_0x3c1ab8[_0x838efd(0x199)](_0x3d3c84['s'],_0x3d3c84['t']),_0x391388=await _0x5ea019['getForeignObjectAsync'](_0x36ce9b);if(_0x391388)return _0x36ce9b;}}try{const _0x124f21=_0x3c1ab8['split']('.');if(_0x124f21[_0x838efd(0x23f)]>0x2){const _0x3c34a3=_0x124f21[_0x838efd(0x19d)](0x0,-0x1)[_0x838efd(0x247)]('.'),_0x30236b=await _0x5ea019[_0x838efd(0x1ed)](_0x3c34a3+'.*'),_0x3eb048=[],_0x3f1ab7=_0x3c1ab8[_0x838efd(0x203)](/[._]+/)[_0x838efd(0x1fb)](_0x42dc0f=>![_0x838efd(0x1f9),'0','hm-rpc',_0x838efd(0x221),'wert',_0x838efd(0x201),_0x838efd(0x22a),_0x838efd(0x1d2),'messwert',_0x838efd(0x213)][_0x838efd(0x230)](_0x42dc0f[_0x838efd(0x1e2)]()));for(const [_0x7ca00d,_0x2876c6]of Object[_0x838efd(0x217)](_0x30236b)){if(_0x7ca00d===_0x3c1ab8)continue;if(_0x2876c6&&_0x2876c6[_0x838efd(0x1c7)]){const _0x436151=_0x7ca00d[_0x838efd(0x1e2)](),_0xd950aa=(_0x2876c6[_0x838efd(0x1c7)][_0x838efd(0x20f)]||'')['toLowerCase'](),_0x53da9e=(_0x2876c6[_0x838efd(0x1c7)]['unit']||'')[_0x838efd(0x1e2)]();let _0x6d89=![];if(_0x2db2db==='setpoint'&&_0x2876c6[_0x838efd(0x1c7)]['write']===!![])_0x6d89=_0x436151[_0x838efd(0x230)]('set')||_0x436151[_0x838efd(0x230)]('soll')||_0x436151[_0x838efd(0x230)](_0x838efd(0x22e))||_0xd950aa[_0x838efd(0x230)]('level.temperature')||_0xd950aa['includes'](_0x838efd(0x24d));else _0x2db2db===_0x838efd(0x1ea)&&(_0x6d89=_0x436151[_0x838efd(0x230)](_0x838efd(0x1b4))||_0x436151[_0x838efd(0x230)](_0x838efd(0x1ea))||_0x436151['includes']('stellwert')||_0x436151[_0x838efd(0x230)](_0x838efd(0x235))||_0xd950aa['includes'](_0x838efd(0x1b8))||_0xd950aa['includes']('value.valve')||_0x53da9e[_0x838efd(0x230)]('%'));if(_0x6d89){const _0x1ace3b=_0x7ca00d[_0x838efd(0x203)](/[._]+/)[_0x838efd(0x21a)](_0x25a513=>_0x25a513[_0x838efd(0x1e2)]());let _0x9f8c1b=0x0;_0x3f1ab7[_0x838efd(0x20b)](_0x15f07e=>{if(_0x1ace3b['includes'](_0x15f07e['toLowerCase']()))_0x9f8c1b++;}),_0x3eb048[_0x838efd(0x1b7)]({'id':_0x7ca00d,'score':_0x9f8c1b});}}}if(_0x3eb048[_0x838efd(0x23f)]>0x0){_0x3eb048[_0x838efd(0x1e4)]((_0x19e9fb,_0x9549a9)=>_0x9549a9[_0x838efd(0x1d1)]-_0x19e9fb[_0x838efd(0x1d1)]);if(_0x3eb048[0x0][_0x838efd(0x1d1)]>0x0)return _0x3eb048[0x0]['id'];}}}catch(_0x5a65fa){}return null;}async function scanThermostats(_0x3a3604){const _0x1fee13=a1_0x24ec02,_0x5b2c52=_0x3a3604[_0x1fee13(0x1c0)][_0x1fee13(0x1c1)]||[],_0xa691a5=[],_0x4e54f6=_0x5b2c52[_0x1fee13(0x1fb)](_0x479392=>_0x479392['id']&&_0x479392['id'][_0x1fee13(0x230)]('temperature')||_0x479392[_0x1fee13(0x21d)]&&[_0x1fee13(0x201),'thermostat',_0x1fee13(0x1d2)]['includes'](_0x479392[_0x1fee13(0x21d)])||_0x479392[_0x1fee13(0x1e5)]&&_0x479392[_0x1fee13(0x1e5)][_0x1fee13(0x1e2)]()[_0x1fee13(0x230)](_0x1fee13(0x1d4)));for(const _0x5f02e6 of _0x4e54f6){const _0x527d5b=await findRelatedId(_0x3a3604,_0x5f02e6['id'],_0x1fee13(0x1f7)),_0x3cd620=await findRelatedId(_0x3a3604,_0x5f02e6['id'],'valve');let _0xd7da7=_0x1fee13(0x1f8),_0x45e905=![],_0x1210f3=_0x3a3604[_0x1fee13(0x1c0)][_0x1fee13(0x23b)]||{};if(typeof _0x1210f3===_0x1fee13(0x1a8))try{_0x1210f3=JSON[_0x1fee13(0x1aa)](_0x1210f3);}catch(_0x1baec8){}let _0x3bd57a=_0x3a3604['config'][_0x1fee13(0x198)]||{};if(typeof _0x3bd57a===_0x1fee13(0x1a8))try{_0x3bd57a=JSON[_0x1fee13(0x1aa)](_0x3bd57a);}catch(_0x37adbc){}if(_0x1210f3[_0x5f02e6['id']]&&_0x1210f3[_0x5f02e6['id']]===_0x527d5b||_0x3bd57a[_0x5f02e6['id']]&&_0x3bd57a[_0x5f02e6['id']]===_0x3cd620)_0xd7da7=_0x1fee13(0x1a6),_0x45e905=!![];else(_0x527d5b||_0x3cd620)&&(_0xd7da7=_0x1fee13(0x1be));_0xa691a5[_0x1fee13(0x1b7)]({'room':_0x5f02e6[_0x1fee13(0x212)]||_0x1fee13(0x19a),'sensorId':_0x5f02e6['id'],'setpointId':_0x527d5b||'-','valveId':_0x3cd620||'-','source':_0xd7da7,'isManual':_0x45e905,'status':_0x527d5b&&_0x3cd620?_0x1fee13(0x20e):_0x527d5b?'OK':_0x1fee13(0x239)});}return _0xa691a5[_0x1fee13(0x1e4)]((_0x1238a9,_0x1af0e7)=>_0x1238a9[_0x1fee13(0x1bf)][_0x1fee13(0x1d6)](_0x1af0e7[_0x1fee13(0x1bf)]));}async function updateSchedulePreview(_0x4738ff){const _0x126381=a1_0x24ec02;if(!_0x4738ff[_0x126381(0x1c0)]['useCalendar']||!_0x4738ff['config'][_0x126381(0x19b)])return;let _0x5a6b21={};try{const _0x403519=await _0x4738ff[_0x126381(0x1e3)](_0x126381(0x249));if(_0x403519&&_0x403519[_0x126381(0x1d9)])_0x5a6b21=JSON[_0x126381(0x1aa)](_0x403519['val']);}catch(_0x4a2fa4){}const _0x6cb013=[],_0x4ab932=Date[_0x126381(0x21b)](),_0x5df060=0x30*0x3c*0x3c*0x3e8;try{const _0x1dc2e8=await _0x4738ff['getForeignStateAsync'](_0x4738ff[_0x126381(0x1c0)][_0x126381(0x19b)]+'.data.table');if(!_0x1dc2e8||!_0x1dc2e8[_0x126381(0x1d9)])return;const _0x192c3=JSON[_0x126381(0x1aa)](_0x1dc2e8['val']),_0x2530b4=_0x4738ff[_0x126381(0x1c0)]['calendarSelection']||[],_0x4ad17e=_0x4738ff[_0x126381(0x1c0)][_0x126381(0x1c1)]||[],_0x33cf14=new Set();_0x4ad17e[_0x126381(0x20b)](_0x19ef28=>{const _0x2b9a13=_0x126381;if(_0x19ef28[_0x2b9a13(0x212)])_0x33cf14[_0x2b9a13(0x1bd)](_0x19ef28[_0x2b9a13(0x212)]);});for(const _0x3e754d of _0x192c3){if(_0x3e754d[_0x126381(0x240)]&&_0x2530b4[_0x126381(0x23f)]>0x0&&!_0x2530b4[_0x126381(0x230)](_0x3e754d[_0x126381(0x240)]))continue;const _0x1ce081=_0x3e754d[_0x126381(0x220)]||_0x3e754d[_0x126381(0x1e6)]||_0x3e754d[_0x126381(0x1c4)];if(!_0x1ce081)continue;const _0x5c12cd=new Date(_0x1ce081),_0x33962e=_0x5c12cd[_0x126381(0x1dd)]();if(isNaN(_0x33962e))continue;if(_0x33962e<_0x4ab932)continue;if(_0x33962e>_0x4ab932+_0x5df060)continue;const _0x289c6e=(_0x3e754d['event']||_0x3e754d[_0x126381(0x1a1)]||'')[_0x126381(0x1e2)]();let _0x5e2b6d=![],_0x355231=[],_0x413f2e=_0x3e754d[_0x126381(0x225)]||_0x3e754d[_0x126381(0x1a1)]||_0x126381(0x19a);if(_0x289c6e['includes'](_0x126381(0x215))||_0x289c6e['includes']('r√ºckkehr')||_0x289c6e[_0x126381(0x230)](_0x126381(0x1b2)))_0x5e2b6d=!![],_0x355231=Array['from'](_0x33cf14);else for(const _0xa1078f of _0x33cf14){if(_0x289c6e[_0x126381(0x230)](_0xa1078f[_0x126381(0x1e2)]()))_0x355231[_0x126381(0x1b7)](_0xa1078f);}_0x355231[_0x126381(0x23f)]>0x0&&_0x355231[_0x126381(0x20b)](_0x47624e=>{const _0x35e65e=_0x126381;let _0x1f9473=0x3c;if(_0x5e2b6d){let _0x22436c=0x0;Object['values'](_0x5a6b21)['forEach'](_0x1c76f9=>{if(_0x1c76f9>_0x22436c)_0x22436c=_0x1c76f9;}),_0x1f9473=_0x22436c>0x0?_0x22436c:0x78;}else _0x1f9473=getWarmupRobust(_0x5a6b21,_0x47624e);const _0x44ab84=new Date(_0x33962e-_0x1f9473*0xea60);_0x6cb013[_0x35e65e(0x1b7)]({'eventTime':_0x33962e,'triggerTime':_0x44ab84['getTime'](),'room':_0x47624e,'minutes':_0x1f9473,'reason':_0x413f2e,'isGlobal':_0x5e2b6d});});}}catch(_0x21c14d){}_0x6cb013['sort']((_0x7e657b,_0x3d85a6)=>_0x7e657b[_0x126381(0x1d0)]-_0x3d85a6[_0x126381(0x1d0)]);const _0x2eaca2=_0x6cb013[_0x126381(0x19d)](0x0,0x5);await _0x4738ff['setStateAsync'](_0x126381(0x1e7),{'val':JSON[_0x126381(0x1f4)](_0x2eaca2),'ack':!![]});}async function monitorEnforcements(_0x203d81){const _0x33c763=a1_0x24ec02;try{const _0x140158=_0x33c763(0x22b),_0x45e527=await _0x203d81[_0x33c763(0x1e3)](_0x140158);if(!_0x45e527||!_0x45e527[_0x33c763(0x1d9)])return;let _0x5846ef=[];try{_0x5846ef=JSON[_0x33c763(0x1aa)](_0x45e527[_0x33c763(0x1d9)]);}catch(_0x31de90){return;}if(!Array[_0x33c763(0x202)](_0x5846ef)||_0x5846ef['length']===0x0)return;const _0x3a5d81=Date[_0x33c763(0x21b)](),_0x51d723=_0x203d81[_0x33c763(0x1c0)]['devices']||[];let _0xb9affe=![];for(let _0x3c258c=_0x5846ef[_0x33c763(0x23f)]-0x1;_0x3c258c>=0x0;_0x3c258c--){const _0x1922c1=_0x5846ef[_0x3c258c];if(_0x3a5d81>=_0x1922c1[_0x33c763(0x1b1)]){_0x203d81[_0x33c763(0x1eb)][_0x33c763(0x231)](_0x33c763(0x20a)+_0x1922c1[_0x33c763(0x1bf)]+_0x33c763(0x1c2)),_0x5846ef['splice'](_0x3c258c,0x1),_0xb9affe=!![];continue;}const _0x172572=_0x51d723[_0x33c763(0x1b9)](_0x32ac68=>normalize(_0x32ac68[_0x33c763(0x212)])===normalize(_0x1922c1[_0x33c763(0x1bf)])&&(_0x32ac68[_0x33c763(0x21d)]===_0x33c763(0x201)||_0x32ac68[_0x33c763(0x21d)]==='thermostat'));if(_0x172572){const _0x33a9e8=await findRelatedId(_0x203d81,_0x172572['id'],'setpoint');if(_0x33a9e8){const _0x298d71=await _0x203d81[_0x33c763(0x24c)](_0x33a9e8);_0x298d71&&typeof _0x298d71['val']===_0x33c763(0x23e)&&(_0x298d71[_0x33c763(0x1d9)]<0xf&&(_0x203d81['log'][_0x33c763(0x1ef)](_0x33c763(0x228)+_0x1922c1[_0x33c763(0x1bf)]+_0x33c763(0x196)+_0x298d71[_0x33c763(0x1d9)]+_0x33c763(0x19f)+_0x1922c1['target']+_0x33c763(0x227)),await _0x203d81[_0x33c763(0x241)](_0x33a9e8,_0x1922c1[_0x33c763(0x22e)]),await logAutomationAction(_0x203d81,'[FORCE]\x20'+_0x1922c1['room']+':\x20'+_0x298d71['val']+_0x33c763(0x1cb)+_0x1922c1[_0x33c763(0x22e)]+_0x33c763(0x1b0))));}}}_0xb9affe&&await _0x203d81[_0x33c763(0x245)](_0x140158,{'val':JSON[_0x33c763(0x1f4)](_0x5846ef),'ack':!![]});}catch(_0xa90128){_0x203d81[_0x33c763(0x1eb)]['error'](_0x33c763(0x22f)+_0xa90128[_0x33c763(0x1ba)]);}}async function checkCalendarTriggers(_0x123b40){const _0x2b0375=a1_0x24ec02;if(!_0x123b40[_0x2b0375(0x1c0)][_0x2b0375(0x208)]||!_0x123b40['config'][_0x2b0375(0x19b)])return;await updateSchedulePreview(_0x123b40);let _0x3fbc7f={},_0x4de7d7={};try{const _0x2ff7eb=await _0x123b40[_0x2b0375(0x1e3)](_0x2b0375(0x249));if(_0x2ff7eb&&_0x2ff7eb[_0x2b0375(0x1d9)])_0x3fbc7f=JSON[_0x2b0375(0x1aa)](_0x2ff7eb[_0x2b0375(0x1d9)]);const _0x54f1fa=await _0x123b40[_0x2b0375(0x1e3)](_0x2b0375(0x1a4));if(_0x54f1fa&&_0x54f1fa['val'])_0x4de7d7=JSON['parse'](_0x54f1fa[_0x2b0375(0x1d9)]);}catch(_0x55c07a){}let _0x694a3c={'default':0x15};try{const _0x374d87=await _0x123b40['getStateAsync']('analysis.energy.warmupTargets');if(_0x374d87&&_0x374d87[_0x2b0375(0x1d9)])_0x694a3c=JSON[_0x2b0375(0x1aa)](_0x374d87[_0x2b0375(0x1d9)]);}catch(_0x69f270){}let _0xfc0ac5=[];try{const _0x26578a=await _0x123b40[_0x2b0375(0x1e3)](_0x2b0375(0x22b));if(_0x26578a&&_0x26578a[_0x2b0375(0x1d9)])_0xfc0ac5=JSON[_0x2b0375(0x1aa)](_0x26578a[_0x2b0375(0x1d9)]);}catch(_0x198273){}try{const _0xb6c7e4=await _0x123b40['getForeignStateAsync'](_0x123b40['config'][_0x2b0375(0x19b)]+_0x2b0375(0x250));if(!_0xb6c7e4||!_0xb6c7e4[_0x2b0375(0x1d9)])return;const _0x1755fc=JSON[_0x2b0375(0x1aa)](_0xb6c7e4[_0x2b0375(0x1d9)]),_0x5bcd6a=Date['now'](),_0x2a1109=_0x123b40[_0x2b0375(0x1c0)][_0x2b0375(0x1c1)]||[],_0x7b01cb=_0x123b40[_0x2b0375(0x1c0)][_0x2b0375(0x1a3)]||[];let _0x3791b7=![];for(const _0x39ca27 of _0x1755fc){if(_0x39ca27['_calName']&&_0x7b01cb[_0x2b0375(0x23f)]>0x0&&!_0x7b01cb[_0x2b0375(0x230)](_0x39ca27[_0x2b0375(0x240)]))continue;const _0x4fac92=_0x39ca27[_0x2b0375(0x220)]||_0x39ca27[_0x2b0375(0x1e6)]||_0x39ca27[_0x2b0375(0x1c4)];if(!_0x4fac92)continue;const _0x52a879=new Date(_0x4fac92);if(isNaN(_0x52a879['getTime']()))continue;const _0x23531e=(_0x39ca27[_0x2b0375(0x225)]||_0x39ca27[_0x2b0375(0x1a1)]||'')[_0x2b0375(0x1e2)]();if(_0x23531e['includes'](_0x2b0375(0x215))||_0x23531e['includes'](_0x2b0375(0x1ff))||_0x23531e[_0x2b0375(0x230)](_0x2b0375(0x1b2))){let _0x2448b2=0x0;Object['values'](_0x3fbc7f)['forEach'](_0x29562b=>{if(_0x29562b>_0x2448b2)_0x2448b2=_0x29562b;});if(_0x2448b2===0x0)_0x2448b2=0x78;const _0x1a91bd=_0x52a879['getTime']()-_0x2448b2*0xea60;_0x5bcd6a>=_0x1a91bd&&_0x5bcd6a<_0x52a879[_0x2b0375(0x1dd)]()&&(_0x123b40[_0x2b0375(0x1c5)]!==_0x2b0375(0x1db)&&(_0x123b40[_0x2b0375(0x1eb)][_0x2b0375(0x231)](_0x2b0375(0x1fa)+_0x2448b2+_0x2b0375(0x1dc)),await _0x123b40[_0x2b0375(0x245)](_0x2b0375(0x24e),{'val':_0x2b0375(0x1db),'ack':![]})));}for(const _0x54c342 of _0x2a1109){if(_0x54c342['location']){const _0x2168f3=_0x54c342[_0x2b0375(0x212)][_0x2b0375(0x1e2)](),_0x14de65=(_0x54c342[_0x2b0375(0x1e5)]||'')['toLowerCase']();let _0x2c661b=_0x23531e[_0x2b0375(0x230)](_0x2168f3);!_0x2c661b&&_0x14de65[_0x2b0375(0x23f)]>0x3&&_0x23531e['includes'](_0x14de65)&&(_0x2c661b=!![]);if(_0x2c661b){const _0x2edc4b=getWarmupRobust(_0x3fbc7f,_0x54c342[_0x2b0375(0x212)]),_0x33b67f=_0x4de7d7[_0x54c342[_0x2b0375(0x212)]]||_0x2b0375(0x1d3),_0x237136=_0x52a879[_0x2b0375(0x1dd)]()-_0x2edc4b*0xea60;if(_0x5bcd6a>=_0x237136&&_0x5bcd6a<_0x52a879[_0x2b0375(0x1dd)]()){const _0x34302c=lastActions['cal_'+_0x54c342[_0x2b0375(0x212)]];if(_0x34302c&&_0x5bcd6a-_0x34302c<CAL_COOLDOWN_MS)continue;const _0x405e23=await findRelatedId(_0x123b40,_0x54c342['id'],_0x2b0375(0x1f7));if(_0x405e23){let _0x3e8200=_0x694a3c[_0x54c342[_0x2b0375(0x212)]];if(_0x3e8200===undefined)_0x3e8200=_0x694a3c[_0x2b0375(0x1a7)];if(_0x3e8200===undefined)_0x3e8200=0x15;const _0x15e8dd=await _0x123b40[_0x2b0375(0x24c)](_0x405e23);if(_0x15e8dd&&typeof _0x15e8dd[_0x2b0375(0x1d9)]===_0x2b0375(0x23e)&&_0x15e8dd['val']<_0x3e8200-0.5){_0x123b40['log'][_0x2b0375(0x231)]('üìÖ\x20SMART\x20SCHEDULE\x20['+_0x33b67f+_0x2b0375(0x204)+_0x54c342[_0x2b0375(0x212)]+'\x27\x20(Match:\x20'+_0x23531e+_0x2b0375(0x207)+_0x3e8200+'¬∞C\x20(Vorlauf:\x20'+_0x2edc4b+_0x2b0375(0x1dc)),await _0x123b40[_0x2b0375(0x241)](_0x405e23,_0x3e8200),await logAutomationAction(_0x123b40,_0x2b0375(0x24f)+_0x54c342[_0x2b0375(0x212)]+_0x2b0375(0x210)+_0x3e8200+_0x2b0375(0x1af)+_0x33b67f+')'),lastActions[_0x2b0375(0x205)+_0x54c342[_0x2b0375(0x212)]]=_0x5bcd6a;const _0x466940=_0xfc0ac5['findIndex'](_0x298e2e=>_0x298e2e['room']===_0x54c342[_0x2b0375(0x212)]);if(_0x466940!==-0x1)_0xfc0ac5[_0x2b0375(0x1f3)](_0x466940,0x1);_0xfc0ac5['push']({'room':_0x54c342[_0x2b0375(0x212)],'target':_0x3e8200,'until':_0x52a879[_0x2b0375(0x1dd)]()}),_0x3791b7=!![];}}}}}}}_0x3791b7&&await _0x123b40[_0x2b0375(0x245)](_0x2b0375(0x22b),{'val':JSON[_0x2b0375(0x1f4)](_0xfc0ac5),'ack':!![]});}catch(_0x1a2ba0){_0x123b40[_0x2b0375(0x1eb)][_0x2b0375(0x1ef)](_0x2b0375(0x1e8)+_0x1a2ba0[_0x2b0375(0x1ba)]);}}async function manageMpcIntervention(_0x24db57,_0x577c56,_0x55c780){const _0x21904e=a1_0x24ec02;try{const _0x378c46='analysis.energy.mpcActiveInterventions',_0x4d01d2=await _0x24db57['getStateAsync'](_0x378c46);let _0x20371d=[];if(_0x4d01d2&&_0x4d01d2[_0x21904e(0x1d9)])try{_0x20371d=JSON[_0x21904e(0x1aa)](_0x4d01d2['val']);}catch(_0x3528d7){}const _0xb01eb=_0x20371d[_0x21904e(0x206)](_0x577c56);if(_0x55c780===_0x21904e(0x1bd))_0xb01eb===-0x1&&(_0x20371d[_0x21904e(0x1b7)](_0x577c56),await _0x24db57[_0x21904e(0x245)](_0x378c46,{'val':JSON['stringify'](_0x20371d),'ack':!![]}));else _0x55c780===_0x21904e(0x1d7)&&(_0xb01eb!==-0x1&&(_0x20371d[_0x21904e(0x1f3)](_0xb01eb,0x1),await _0x24db57[_0x21904e(0x245)](_0x378c46,{'val':JSON[_0x21904e(0x1f4)](_0x20371d),'ack':!![]})));}catch(_0x9922c4){}}async function cleanupGhostInterventions(_0x278695){const _0x29cf99=a1_0x24ec02;try{const _0x39acbc=_0x29cf99(0x246),_0x17dd65=await _0x278695[_0x29cf99(0x1e3)](_0x39acbc);if(!_0x17dd65||!_0x17dd65['val'])return;const _0x2ac6d5=JSON[_0x29cf99(0x1aa)](_0x17dd65[_0x29cf99(0x1d9)]);if(!Array[_0x29cf99(0x202)](_0x2ac6d5)||_0x2ac6d5['length']===0x0)return;let _0x5e16a8={'default':0x15};try{const _0x5c1901=await _0x278695[_0x29cf99(0x1e3)](_0x29cf99(0x1de));if(_0x5c1901&&_0x5c1901['val'])_0x5e16a8=JSON[_0x29cf99(0x1aa)](_0x5c1901[_0x29cf99(0x1d9)]);}catch(_0xf47cff){}let _0xb378a8=[];try{const _0x435c00=await _0x278695[_0x29cf99(0x1e3)](_0x29cf99(0x1ab));if(_0x435c00&&_0x435c00[_0x29cf99(0x1d9)])_0xb378a8=JSON['parse'](_0x435c00[_0x29cf99(0x1d9)]);}catch(_0x41af9b){}let _0x240e64={},_0xfa3289=![];try{const _0x1c4e12=await _0x278695[_0x29cf99(0x1e3)](_0x29cf99(0x21c));if(_0x1c4e12&&_0x1c4e12['val'])_0x240e64=JSON[_0x29cf99(0x1aa)](_0x1c4e12[_0x29cf99(0x1d9)]);}catch(_0x4a3628){}if(_0x240e64['_meta']){const _0x3b6685=Date[_0x29cf99(0x21b)]();for(const [_0x52f745,_0x43eb78]of Object['entries'](_0x240e64['_meta'])){_0x3b6685-_0x43eb78>PENALTY_TTL&&(delete _0x240e64[_0x52f745],delete _0x240e64['_meta'][_0x52f745],_0xfa3289=!![],_0x278695[_0x29cf99(0x1eb)]['info'](_0x29cf99(0x197)+_0x52f745+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x1e9e3a=_0x278695[_0x29cf99(0x1c0)]['devices']||[];let _0x1a4749=![];for(let _0x4f47c3=_0x2ac6d5[_0x29cf99(0x23f)]-0x1;_0x4f47c3>=0x0;_0x4f47c3--){const _0x1efbe5=_0x2ac6d5[_0x4f47c3],_0x20e28a=_0x1e9e3a[_0x29cf99(0x1b9)](_0x41ca58=>normalize(_0x41ca58[_0x29cf99(0x212)])===normalize(_0x1efbe5)&&(_0x41ca58[_0x29cf99(0x21d)]==='temperature'||_0x41ca58[_0x29cf99(0x21d)]===_0x29cf99(0x22c)));if(!_0x20e28a){_0x278695[_0x29cf99(0x1eb)][_0x29cf99(0x1ef)]('üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x1efbe5+_0x29cf99(0x1ae)),_0x2ac6d5['splice'](_0x4f47c3,0x1),_0x1a4749=!![];continue;}if(_0x20e28a){const _0x33dcad=await findRelatedId(_0x278695,_0x20e28a['id'],_0x29cf99(0x1f7)),_0x20df9f=await _0x278695[_0x29cf99(0x24c)](_0x20e28a['id']);if(_0x33dcad){const _0x5074f1=await _0x278695[_0x29cf99(0x24c)](_0x33dcad);if(_0x5074f1&&typeof _0x5074f1[_0x29cf99(0x1d9)]===_0x29cf99(0x23e)){let _0x421185=![],_0x36c1ac='';Math[_0x29cf99(0x232)](_0x5074f1[_0x29cf99(0x1d9)]-ECO_TEMP)>0.5&&(_0x421185=!![],_0x36c1ac='manual');if(!_0x421185&&_0x20df9f&&typeof _0x20df9f['val']==='number'){const _0x445ba8=_0x5e16a8[_0x1efbe5]||_0x5e16a8[_0x29cf99(0x1a7)]||0x15;_0x20df9f[_0x29cf99(0x1d9)]<_0x445ba8+0.2&&(_0x421185=!![],_0x36c1ac='too_cold');}if(_0x421185){if(_0x36c1ac===_0x29cf99(0x19c)){_0x278695[_0x29cf99(0x1eb)]['info'](_0x29cf99(0x223)+_0x1efbe5+'\x20ist\x20auf\x20'+_0x5074f1[_0x29cf99(0x1d9)]+_0x29cf99(0x1f6)+ECO_TEMP+_0x29cf99(0x237));const _0x1e6dfd=lastActions[_0x29cf99(0x205)+_0x1efbe5],_0x263796=_0x1e6dfd&&Date['now']()-_0x1e6dfd<0x2*0x3c*0x3e8;if(!_0x263796&&_0x5074f1[_0x29cf99(0x1d9)]>ECO_TEMP+0.5){_0x278695[_0x29cf99(0x219)]&&(_0x278695[_0x29cf99(0x1eb)][_0x29cf99(0x231)]('üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20'+_0x1efbe5+_0x29cf99(0x1c3)),_0x278695[_0x29cf99(0x219)](_0x29cf99(0x229),{'room':_0x1efbe5}));const _0xc09c57=_0x1efbe5+'_'+new Date()['getHours']();if(!_0x240e64[_0xc09c57]){_0x240e64[_0xc09c57]=0x1;if(!_0x240e64[_0x29cf99(0x1d8)])_0x240e64[_0x29cf99(0x1d8)]={};_0x240e64[_0x29cf99(0x1d8)][_0xc09c57]=Date['now'](),_0xfa3289=!![];}}else _0x263796&&_0x278695[_0x29cf99(0x1eb)][_0x29cf99(0x231)](_0x29cf99(0x218)+_0x1efbe5+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x36c1ac===_0x29cf99(0x1ce)){let _0x202733=![];if(_0xb378a8[_0x29cf99(0x1b9)](_0x94a7d6=>_0x94a7d6['room']===_0x1efbe5))_0x202733=!![];const _0x18bd5e=_0x1e9e3a[_0x29cf99(0x1fb)](_0x29c158=>normalize(_0x29c158[_0x29cf99(0x212)])===normalize(_0x1efbe5)&&(_0x29c158[_0x29cf99(0x21d)]==='window'||_0x29c158[_0x29cf99(0x21d)]===_0x29cf99(0x1d2)||_0x29c158['type']==='contact'));for(const _0x13e51c of _0x18bd5e){try{const _0x59ca5c=await _0x278695['getForeignStateAsync'](_0x13e51c['id']);if(_0x59ca5c&&(_0x59ca5c[_0x29cf99(0x1d9)]===!![]||_0x59ca5c[_0x29cf99(0x1d9)]===0x1||String(_0x59ca5c['val'])['toLowerCase']()===_0x29cf99(0x1fd)))_0x202733=!![];}catch(_0x3ec1a1){}}if(_0x202733)_0x278695[_0x29cf99(0x1eb)][_0x29cf99(0x231)](_0x29cf99(0x248)+_0x1efbe5+_0x29cf99(0x1bc));else{const _0x4d6991=_0x5e16a8[_0x1efbe5]||_0x5e16a8[_0x29cf99(0x1a7)]||0x15;_0x278695[_0x29cf99(0x1eb)][_0x29cf99(0x231)](_0x29cf99(0x1f5)+_0x1efbe5+_0x29cf99(0x1cf)+_0x20df9f[_0x29cf99(0x1d9)]+_0x29cf99(0x236)+(_0x4d6991+0.2)+'¬∞C).\x20Sparmodus\x20beendet!'),await _0x278695['setForeignStateAsync'](_0x33dcad,_0x4d6991),await logAutomationAction(_0x278695,_0x29cf99(0x1fe)+_0x1efbe5+_0x29cf99(0x1f2)+_0x4d6991+'¬∞C'),lastActions['rescue_'+_0x1efbe5]=Date[_0x29cf99(0x21b)]();}}}_0x2ac6d5[_0x29cf99(0x1f3)](_0x4f47c3,0x1),_0x1a4749=!![];}}}}}_0x1a4749&&await _0x278695[_0x29cf99(0x245)](_0x39acbc,{'val':JSON[_0x29cf99(0x1f4)](_0x2ac6d5),'ack':!![]}),_0xfa3289&&await _0x278695[_0x29cf99(0x245)](_0x29cf99(0x21c),{'val':JSON[_0x29cf99(0x1f4)](_0x240e64),'ack':!![]});}catch(_0x4d4d64){}}function a1_0x3c68(_0x58ec01,_0x3fbf6e){const _0x2b7256=a1_0x3795();return a1_0x3c68=function(_0xc0e6b3,_0x4a2f7c){_0xc0e6b3=_0xc0e6b3-0x195;let _0x3795cd=_0x2b7256[_0xc0e6b3];return _0x3795cd;},a1_0x3c68(_0x58ec01,_0x3fbf6e);}async function applyEnergySavings(_0x26bf42,_0x4af54d){const _0x47b187=a1_0x24ec02;await cleanupGhostInterventions(_0x26bf42);if(!_0x4af54d||_0x4af54d[_0x47b187(0x23f)]===0x0)return;const _0x3d798a=_0x26bf42[_0x47b187(0x1c0)][_0x47b187(0x1c1)]||[],_0x288363=Date['now']();for(const _0x2c5a58 of _0x4af54d){const _0x3302de=_0x2c5a58[_0x47b187(0x1bf)],_0x56b334=_0x2c5a58['minutes_safe'],_0x4eac25=_0x2c5a58['target']||0x15;if(lastActions[_0x47b187(0x1c6)+_0x3302de]&&_0x288363-lastActions[_0x47b187(0x1c6)+_0x3302de]<RESCUE_LOCK_MS)continue;const _0x2119cb=_0x3d798a[_0x47b187(0x1b9)](_0x34cdd9=>normalize(_0x34cdd9['location'])===normalize(_0x3302de)&&(_0x34cdd9[_0x47b187(0x21d)]===_0x47b187(0x201)||_0x34cdd9[_0x47b187(0x21d)]===_0x47b187(0x22c)));if(!_0x2119cb)continue;const _0x2e9d5e=await findRelatedId(_0x26bf42,_0x2119cb['id'],'setpoint');if(_0x2e9d5e){if(lastActions[_0x47b187(0x21e)+_0x3302de]&&_0x288363-lastActions['mpc_'+_0x3302de]<0x1e*0x3c*0x3e8)continue;const _0x26d1ad=await _0x26bf42[_0x47b187(0x24c)](_0x2e9d5e);if(_0x26d1ad&&typeof _0x26d1ad[_0x47b187(0x1d9)]===_0x47b187(0x23e)){const _0x4c90de=_0x26d1ad[_0x47b187(0x1d9)];_0x4c90de!==ECO_TEMP&&await manageMpcIntervention(_0x26bf42,_0x3302de,_0x47b187(0x1d7));if(_0x56b334>0x1e)_0x4c90de>ECO_TEMP+0.5&&(_0x26bf42[_0x47b187(0x1eb)][_0x47b187(0x231)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x3302de+_0x47b187(0x196)+ECO_TEMP+_0x47b187(0x1ec)+_0x56b334+_0x47b187(0x222)),await _0x26bf42[_0x47b187(0x241)](_0x2e9d5e,ECO_TEMP),await manageMpcIntervention(_0x26bf42,_0x3302de,'add'),lastActions[_0x47b187(0x21e)+_0x3302de]=_0x288363,await logAutomationAction(_0x26bf42,'[MPC]\x20'+_0x3302de+_0x47b187(0x1b3)+ECO_TEMP+'¬∞C'));else _0x56b334<=0xf&&(_0x4c90de<_0x4eac25&&(_0x26bf42[_0x47b187(0x1eb)]['info'](_0x47b187(0x200)+_0x3302de+_0x47b187(0x1da)+_0x4eac25+'¬∞C!\x20(Puffer\x20leer).'),await _0x26bf42[_0x47b187(0x241)](_0x2e9d5e,_0x4eac25),await manageMpcIntervention(_0x26bf42,_0x3302de,_0x47b187(0x1d7)),lastActions[_0x47b187(0x21e)+_0x3302de]=_0x288363,await logAutomationAction(_0x26bf42,_0x47b187(0x1ad)+_0x3302de+':\x20Aufheizen\x20auf\x20'+_0x4eac25+'¬∞C')));}}else _0x26bf42[_0x47b187(0x1eb)][_0x47b187(0x1ef)](_0x47b187(0x1a0)+_0x3302de+_0x47b187(0x242));}}module[a1_0x24ec02(0x243)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};