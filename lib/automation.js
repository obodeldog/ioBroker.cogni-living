function a1_0x372d(_0x14387a,_0x581763){const _0x44a481=a1_0x1707();return a1_0x372d=function(_0x8dc52,_0x2b98d7){_0x8dc52=_0x8dc52-0x1e3;let _0x1707c4=_0x44a481[_0x8dc52];return _0x1707c4;},a1_0x372d(_0x14387a,_0x581763);}const a1_0x149f93=a1_0x372d;(function(_0x175661,_0x15101d){const _0x2fcf98=a1_0x372d,_0x5a04aa=_0x175661();while(!![]){try{const _0xadca8=-parseInt(_0x2fcf98(0x25f))/0x1+parseInt(_0x2fcf98(0x283))/0x2+-parseInt(_0x2fcf98(0x228))/0x3+parseInt(_0x2fcf98(0x214))/0x4+-parseInt(_0x2fcf98(0x247))/0x5+parseInt(_0x2fcf98(0x275))/0x6+-parseInt(_0x2fcf98(0x1ed))/0x7;if(_0xadca8===_0x15101d)break;else _0x5a04aa['push'](_0x5a04aa['shift']());}catch(_0x5abbfe){_0x5a04aa['push'](_0x5a04aa['shift']());}}}(a1_0x1707,0xf061a));const a1_0x2b98d7=(function(){let _0x5c630f=!![];return function(_0x40a725,_0x19afca){const _0x537a92=_0x5c630f?function(){const _0x45c084=a1_0x372d;if(_0x19afca){const _0x52a3c5=_0x19afca[_0x45c084(0x233)](_0x40a725,arguments);return _0x19afca=null,_0x52a3c5;}}:function(){};return _0x5c630f=![],_0x537a92;};}()),a1_0x8dc52=a1_0x2b98d7(this,function(){const _0xf74ab=a1_0x372d;return a1_0x8dc52[_0xf74ab(0x1ff)]()['search'](_0xf74ab(0x1f7))['toString']()['constructor'](a1_0x8dc52)['search']('(((.+)+)+)+$');});a1_0x8dc52();'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x4ff29){const _0x3ce2b9=a1_0x372d;if(!_0x4ff29)return'';return _0x4ff29[_0x3ce2b9(0x264)]()['replace'](/\s+/g,'')[_0x3ce2b9(0x1fc)]();}function getWarmupRobust(_0x4b9396,_0x5d27f0){const _0x5df87a=a1_0x372d;if(!_0x4b9396||!_0x5d27f0)return 0x3c;if(_0x4b9396[_0x5d27f0]!==undefined)return _0x4b9396[_0x5d27f0];const _0x274109=_0x5d27f0[_0x5df87a(0x264)]()[_0x5df87a(0x211)](/√§/g,'ae')[_0x5df87a(0x211)](/√∂/g,'oe')[_0x5df87a(0x211)](/√º/g,'ue')['replace'](/√ü/g,'ss')[_0x5df87a(0x211)](/\s+/g,'_')[_0x5df87a(0x211)](/[^a-z0-9_]/g,'');if(_0x4b9396[_0x274109]!==undefined)return _0x4b9396[_0x274109];return 0x3c;}async function logAutomationAction(_0x3be617,_0x5c88f6){const _0x4e5555=a1_0x372d;await _0x3be617[_0x4e5555(0x256)](_0x4e5555(0x29d),{'val':_0x5c88f6,'ack':!![]});try{const _0x56e335='analysis.automation.actionLog',_0x1c2b78=await _0x3be617[_0x4e5555(0x1e3)](_0x56e335);let _0x485651=[];if(_0x1c2b78&&_0x1c2b78[_0x4e5555(0x21c)])try{_0x485651=JSON[_0x4e5555(0x26b)](_0x1c2b78[_0x4e5555(0x21c)]);}catch(_0x1a668f){}_0x485651['unshift']({'ts':Date['now'](),'msg':_0x5c88f6});if(_0x485651[_0x4e5555(0x215)]>0x32)_0x485651=_0x485651[_0x4e5555(0x21e)](0x0,0x32);await _0x3be617[_0x4e5555(0x256)](_0x56e335,{'val':JSON['stringify'](_0x485651),'ack':!![]});}catch(_0xab1f85){}}async function handlePrediction(_0x54aebd,_0x4999bb,_0x26f430){const _0x423765=a1_0x372d;if(!_0x4999bb||_0x4999bb===_0x423765(0x270))return;let _0x4392af=_0x423765(0x238),_0x3f430b=0.6;try{const _0x5452ff=await _0x54aebd[_0x423765(0x1e3)]('analysis.automation.mode');if(_0x5452ff&&_0x5452ff['val'])_0x4392af=_0x5452ff[_0x423765(0x21c)];const _0x3c97f3=await _0x54aebd[_0x423765(0x1e3)](_0x423765(0x205));if(_0x3c97f3&&_0x3c97f3[_0x423765(0x21c)])_0x3f430b=_0x3c97f3[_0x423765(0x21c)];}catch(_0x3162bb){}if(_0x4392af===_0x423765(0x238)||_0x26f430<_0x3f430b)return;const _0x18538d=Date['now']();if(lastActions[_0x4999bb]&&_0x18538d-lastActions[_0x4999bb]<COOLDOWN_MS)return;const _0x1cd325=_0x54aebd[_0x423765(0x1e4)][_0x423765(0x244)]||[],_0x1bd6dd=normalize(_0x4999bb),_0x20080f=_0x1cd325[_0x423765(0x269)](_0x51bbf2=>normalize(_0x51bbf2['location'])===_0x1bd6dd&&(_0x51bbf2[_0x423765(0x207)]===_0x423765(0x212)||_0x51bbf2[_0x423765(0x207)]===_0x423765(0x267)||_0x51bbf2[_0x423765(0x207)]===_0x423765(0x1fb)));if(!_0x20080f)return;const _0x12f293=await aiAgent[_0x423765(0x254)](_0x54aebd,_0x4999bb,_0x20080f[_0x423765(0x273)],_0x26f430);if(!_0x12f293[_0x423765(0x239)])return;const _0xa97e8f=_0x423765(0x217)+_0x4999bb+_0x423765(0x22e)+_0x20080f[_0x423765(0x273)]+'\x20('+_0x12f293['reason']+')';await logAutomationAction(_0x54aebd,'['+_0x4392af[_0x423765(0x225)]()+']\x20'+_0xa97e8f);if(_0x4392af===_0x423765(0x28e)){const _0xb460b9=await _0x54aebd[_0x423765(0x24f)](_0x20080f['id']);(!_0xb460b9||!_0xb460b9[_0x423765(0x21c)]&&_0xb460b9[_0x423765(0x21c)]!==!![])&&await _0x54aebd[_0x423765(0x218)](_0x20080f['id'],!![]),lastActions[_0x4999bb]=_0x18538d;}}async function findRelatedId(_0xdf8ecb,_0x3e06b9,_0x1bf04f='setpoint'){const _0x1ec74c=a1_0x372d;if(_0x1bf04f===_0x1ec74c(0x27b)&&_0xdf8ecb[_0x1ec74c(0x1e4)][_0x1ec74c(0x23d)]){let _0x1c5b33=_0xdf8ecb['config']['thermostatMapping'];if(typeof _0x1c5b33===_0x1ec74c(0x288))try{_0x1c5b33=JSON['parse'](_0x1c5b33);}catch(_0x117a13){}if(_0x1c5b33&&_0x1c5b33[_0x3e06b9])return _0x1c5b33[_0x3e06b9];}if(_0x1bf04f==='valve'&&_0xdf8ecb['config'][_0x1ec74c(0x234)]){let _0x24763d=_0xdf8ecb[_0x1ec74c(0x1e4)]['valveMapping'];if(typeof _0x24763d===_0x1ec74c(0x288))try{_0x24763d=JSON[_0x1ec74c(0x26b)](_0x24763d);}catch(_0x5dfd74){}if(_0x24763d&&_0x24763d[_0x3e06b9])return _0x24763d[_0x3e06b9];}let _0x1a827f=[];if(_0x1bf04f===_0x1ec74c(0x27b))_0x1a827f=[{'s':_0x1ec74c(0x229),'t':_0x1ec74c(0x200)},{'s':_0x1ec74c(0x204),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x1ec74c(0x204),'t':_0x1ec74c(0x295)},{'s':_0x1ec74c(0x297),'t':_0x1ec74c(0x224)},{'s':_0x1ec74c(0x278),'t':'occupied_heating_setpoint'},{'s':_0x1ec74c(0x278),'t':_0x1ec74c(0x291)},{'s':_0x1ec74c(0x216),'t':'target_temperature'},{'s':'ACTUAL','t':_0x1ec74c(0x246)},{'s':_0x1ec74c(0x20f),'t':_0x1ec74c(0x28c)},{'s':_0x1ec74c(0x216),'t':_0x1ec74c(0x27b)}];else _0x1bf04f===_0x1ec74c(0x266)&&(_0x1a827f=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x1ec74c(0x243)},{'s':_0x1ec74c(0x204),'t':'.1.LEVEL'},{'s':_0x1ec74c(0x204),'t':_0x1ec74c(0x202)},{'s':_0x1ec74c(0x278),'t':'pi_heating_demand'},{'s':_0x1ec74c(0x216),'t':'valve_position'},{'s':_0x1ec74c(0x216),'t':'level'}]);for(const _0x1b7c24 of _0x1a827f){if(_0x3e06b9['includes'](_0x1b7c24['s'])){const _0x30077e=_0x3e06b9['replace'](_0x1b7c24['s'],_0x1b7c24['t']),_0x578abe=await _0xdf8ecb[_0x1ec74c(0x219)](_0x30077e);if(_0x578abe)return _0x30077e;}}try{const _0x33b604=_0x3e06b9[_0x1ec74c(0x1f5)]('.');if(_0x33b604[_0x1ec74c(0x215)]>0x2){const _0x4f753f=_0x33b604[_0x1ec74c(0x21e)](0x0,-0x1)[_0x1ec74c(0x27d)]('.'),_0x201ddc=await _0xdf8ecb['getForeignObjectsAsync'](_0x4f753f+'.*'),_0x459b71=[],_0x9ecdba=_0x3e06b9[_0x1ec74c(0x1f5)](/[._]+/)[_0x1ec74c(0x290)](_0x4434b4=>!['openknx','0',_0x1ec74c(0x25c),_0x1ec74c(0x20c),'wert',_0x1ec74c(0x216),_0x1ec74c(0x271),'sensor',_0x1ec74c(0x296),_0x1ec74c(0x223)][_0x1ec74c(0x253)](_0x4434b4[_0x1ec74c(0x264)]()));for(const [_0x435842,_0x318a25]of Object[_0x1ec74c(0x26d)](_0x201ddc)){if(_0x435842===_0x3e06b9)continue;if(_0x318a25&&_0x318a25[_0x1ec74c(0x265)]){const _0x5dca20=_0x435842[_0x1ec74c(0x264)](),_0x175c3b=(_0x318a25[_0x1ec74c(0x265)]['role']||'')[_0x1ec74c(0x264)](),_0xf23b77=(_0x318a25[_0x1ec74c(0x265)][_0x1ec74c(0x222)]||'')[_0x1ec74c(0x264)]();let _0x2a2d25=![];if(_0x1bf04f==='setpoint'&&_0x318a25['common'][_0x1ec74c(0x23e)]===!![])_0x2a2d25=_0x5dca20[_0x1ec74c(0x253)](_0x1ec74c(0x1f8))||_0x5dca20[_0x1ec74c(0x253)](_0x1ec74c(0x250))||_0x5dca20[_0x1ec74c(0x253)](_0x1ec74c(0x24d))||_0x175c3b['includes'](_0x1ec74c(0x252))||_0x175c3b[_0x1ec74c(0x253)]('thermostat.setpoint');else _0x1bf04f===_0x1ec74c(0x266)&&(_0x2a2d25=_0x5dca20[_0x1ec74c(0x253)](_0x1ec74c(0x23b))||_0x5dca20['includes']('valve')||_0x5dca20[_0x1ec74c(0x253)]('stellwert')||_0x5dca20[_0x1ec74c(0x253)](_0x1ec74c(0x29a))||_0x175c3b[_0x1ec74c(0x253)](_0x1ec74c(0x298))||_0x175c3b[_0x1ec74c(0x253)](_0x1ec74c(0x26f))||_0xf23b77[_0x1ec74c(0x253)]('%'));if(_0x2a2d25){const _0x17e67d=_0x435842['split'](/[._]+/)[_0x1ec74c(0x24b)](_0x330f7a=>_0x330f7a[_0x1ec74c(0x264)]());let _0x1ec8c0=0x0;_0x9ecdba[_0x1ec74c(0x258)](_0x58b985=>{if(_0x17e67d['includes'](_0x58b985['toLowerCase']()))_0x1ec8c0++;}),_0x459b71[_0x1ec74c(0x268)]({'id':_0x435842,'score':_0x1ec8c0});}}}if(_0x459b71[_0x1ec74c(0x215)]>0x0){_0x459b71[_0x1ec74c(0x1ee)]((_0x2a2e84,_0x106e35)=>_0x106e35[_0x1ec74c(0x245)]-_0x2a2e84[_0x1ec74c(0x245)]);if(_0x459b71[0x0][_0x1ec74c(0x245)]>0x0)return _0x459b71[0x0]['id'];}}}catch(_0x278bee){}return null;}function a1_0x1707(){const _0x4770eb=['analysis.energy.warmupSources','open','[FORCE]\x20','map','analysis.energy.ventilationAlerts','target','\x20min).','getForeignStateAsync','soll','Nicht\x20gefunden','level.temperature','includes','consultButler','until','setStateAsync','üìÖ\x20SMART\x20SCHEDULE\x20[','forEach','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','number','abs','hm-rpc','\x27\x20(Match:\x20','Calendar\x20Check\x20Error:\x20','903816diPuWW','üö®\x20[MPC\x20WATCHDOG]\x20','localeCompare','triggerTime','Unbekannt','toLowerCase','common','valve','dimmer','push','find','mpc_','parse','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','entries','_date','value.valve','Unknown','actual','eventStart','name','Fehlt','2158068DYGEmy','¬∞C!\x20(Puffer\x20leer).','getTime','local_temperature','¬∞C\x20(Vorlauf:\x20','.data.table','setpoint','temp','join','indexOf','\x20wieder\x20auf\x20','PERFECT','log','event','2571742pXylgZ','isArray','ankunft',':\x20Aufheizen\x20auf\x20','stringify','string','sensor','analysis.energy.schedulePreview','_meta','Soll','Manuelles\x20Mapping','active','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','filter','current_heating_setpoint','room','Enforcement\x20Monitor\x20Error:\x20','too_cold','.4.SET_TEMPERATURE','messwert','ACTUAL_TEMPERATURE','level.valve','analysis.energy.mpcActiveInterventions','position','üî•\x20[MPC\x20ACTION]\x20Heize\x20','¬∞C\x20(Kalender-Schutz)','analysis.automation.lastAction','TRAIN_RL_PENALTY','info','rescue_','getStateAsync','config','contact','\x20auf\x20','Auto-Erkennung','¬∞C).\x20Sparmodus\x20beendet!','r√ºckkehr','\x20erreicht\x20Limit\x20(','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','remove','6424271cWczlt','sort','summary','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27',':\x20Absenkung\x20auf\x20','\x20gefunden!','¬∞C\x20<\x20','values','split',']:\x20Raum-Trigger\x20\x27','(((.+)+)+)+$','set','_calName','add','switch','trim','date','currentSystemMode','toString','.1.SET_POINT_TEMPERATURE','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','.4.VALVE_STATE','thermostat','.1.TEMPERATURE','analysis.automation.confidenceThreshold','from','type','¬∞C\x20->\x20','¬∞C!\x20(Puffer:\x20','splice','[WATCHDOG]\x20','ist','now','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','Ist','analysis.energy.activeEnforcements','replace','light','default','7719856qZLmph','length','temperature','Pr√§diktion:\x20','setForeignStateAsync','getForeignObjectAsync','\x20->\x20','calendarInstance','val','analysis.energy.warmupTimes','slice','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','calendarSelection','normal','unit','state','SET_POINT_TEMPERATURE','toUpperCase','analysis.energy.warmupTargets','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','2269308fmyTeR','.1.ACTUAL_TEMPERATURE','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','\x20wurde\x20manuell\x20erh√∂ht.','exports','cal_','\x20->\x20Schalte\x20','warn','location','manual',')\x20aktiv.\x20Heize\x20auf\x20','apply','valveMapping','Classic','urlaub\x20ende','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','off','approved','findIndex','level','¬∞C).\x20Entferne\x20Status.','thermostatMapping','write','message','sendToPythonWrapper','üìÖ\x20[MPC\x20INFO]\x20','useCalendar','.1.LEVEL','devices','score','SET','64530bVSMYZ'];a1_0x1707=function(){return _0x4770eb;};return a1_0x1707();}async function scanThermostats(_0x30db62){const _0x5f414e=a1_0x372d,_0x341885=_0x30db62[_0x5f414e(0x1e4)]['devices']||[],_0x3f94d7=[],_0x427016=_0x341885[_0x5f414e(0x290)](_0xf7b665=>_0xf7b665['id']&&_0xf7b665['id'][_0x5f414e(0x253)]('temperature')||_0xf7b665['type']&&[_0x5f414e(0x216),'thermostat',_0x5f414e(0x289)][_0x5f414e(0x253)](_0xf7b665['type'])||_0xf7b665[_0x5f414e(0x273)]&&_0xf7b665[_0x5f414e(0x273)][_0x5f414e(0x264)]()[_0x5f414e(0x253)](_0x5f414e(0x27c)));for(const _0x1e65a1 of _0x427016){const _0x2a5ae4=await findRelatedId(_0x30db62,_0x1e65a1['id'],_0x5f414e(0x27b)),_0x16c38f=await findRelatedId(_0x30db62,_0x1e65a1['id'],_0x5f414e(0x266));let _0x40362f=_0x5f414e(0x251),_0x9f3060=![],_0x267d57=_0x30db62[_0x5f414e(0x1e4)]['thermostatMapping']||{};if(typeof _0x267d57===_0x5f414e(0x288))try{_0x267d57=JSON[_0x5f414e(0x26b)](_0x267d57);}catch(_0x4ffe70){}let _0x2dd809=_0x30db62[_0x5f414e(0x1e4)][_0x5f414e(0x234)]||{};if(typeof _0x2dd809==='string')try{_0x2dd809=JSON[_0x5f414e(0x26b)](_0x2dd809);}catch(_0x3d4424){}if(_0x267d57[_0x1e65a1['id']]&&_0x267d57[_0x1e65a1['id']]===_0x2a5ae4||_0x2dd809[_0x1e65a1['id']]&&_0x2dd809[_0x1e65a1['id']]===_0x16c38f)_0x40362f=_0x5f414e(0x28d),_0x9f3060=!![];else(_0x2a5ae4||_0x16c38f)&&(_0x40362f=_0x5f414e(0x1e7));_0x3f94d7[_0x5f414e(0x268)]({'room':_0x1e65a1[_0x5f414e(0x230)]||_0x5f414e(0x263),'sensorId':_0x1e65a1['id'],'setpointId':_0x2a5ae4||'-','valveId':_0x16c38f||'-','source':_0x40362f,'isManual':_0x9f3060,'status':_0x2a5ae4&&_0x16c38f?_0x5f414e(0x280):_0x2a5ae4?'OK':_0x5f414e(0x274)});}return _0x3f94d7[_0x5f414e(0x1ee)]((_0x321bcd,_0x515e77)=>_0x321bcd[_0x5f414e(0x292)][_0x5f414e(0x261)](_0x515e77[_0x5f414e(0x292)]));}async function updateSchedulePreview(_0xbf20e3){const _0x14a5ac=a1_0x372d;if(!_0xbf20e3['config'][_0x14a5ac(0x242)]||!_0xbf20e3[_0x14a5ac(0x1e4)]['calendarInstance'])return;let _0x59e8d8={};try{const _0x49c2d3=await _0xbf20e3[_0x14a5ac(0x1e3)](_0x14a5ac(0x21d));if(_0x49c2d3&&_0x49c2d3[_0x14a5ac(0x21c)])_0x59e8d8=JSON['parse'](_0x49c2d3[_0x14a5ac(0x21c)]);}catch(_0x4fa580){}const _0x24a75a=[],_0xa818ca=Date[_0x14a5ac(0x20d)](),_0x5d8da2=0x30*0x3c*0x3c*0x3e8;try{const _0x22ae3b=await _0xbf20e3[_0x14a5ac(0x24f)](_0xbf20e3[_0x14a5ac(0x1e4)]['calendarInstance']+_0x14a5ac(0x27a));if(!_0x22ae3b||!_0x22ae3b[_0x14a5ac(0x21c)])return;const _0x191f5a=JSON[_0x14a5ac(0x26b)](_0x22ae3b[_0x14a5ac(0x21c)]),_0x550377=_0xbf20e3[_0x14a5ac(0x1e4)][_0x14a5ac(0x220)]||[],_0x1cb9f7=_0xbf20e3[_0x14a5ac(0x1e4)][_0x14a5ac(0x244)]||[],_0x44d1ca=new Set();_0x1cb9f7[_0x14a5ac(0x258)](_0x515e58=>{const _0x1f96be=_0x14a5ac;if(_0x515e58['location'])_0x44d1ca['add'](_0x515e58[_0x1f96be(0x230)]);});for(const _0x13b0ca of _0x191f5a){if(_0x13b0ca[_0x14a5ac(0x1f9)]&&_0x550377[_0x14a5ac(0x215)]>0x0&&!_0x550377['includes'](_0x13b0ca[_0x14a5ac(0x1f9)]))continue;const _0x2fb2f2=_0x13b0ca[_0x14a5ac(0x26e)]||_0x13b0ca[_0x14a5ac(0x272)]||_0x13b0ca[_0x14a5ac(0x1fd)];if(!_0x2fb2f2)continue;const _0x59c4fe=new Date(_0x2fb2f2),_0x3cbacf=_0x59c4fe[_0x14a5ac(0x277)]();if(isNaN(_0x3cbacf))continue;if(_0x3cbacf<_0xa818ca)continue;if(_0x3cbacf>_0xa818ca+_0x5d8da2)continue;const _0x2531c5=(_0x13b0ca['event']||_0x13b0ca['summary']||'')[_0x14a5ac(0x264)]();let _0x5d1434=![],_0xdf5eb9=[],_0x2386d2=_0x13b0ca[_0x14a5ac(0x282)]||_0x13b0ca[_0x14a5ac(0x1ef)]||_0x14a5ac(0x263);if(_0x2531c5[_0x14a5ac(0x253)](_0x14a5ac(0x236))||_0x2531c5['includes']('r√ºckkehr')||_0x2531c5['includes']('ankunft'))_0x5d1434=!![],_0xdf5eb9=Array[_0x14a5ac(0x206)](_0x44d1ca);else for(const _0xecf491 of _0x44d1ca){if(_0x2531c5[_0x14a5ac(0x253)](_0xecf491['toLowerCase']()))_0xdf5eb9[_0x14a5ac(0x268)](_0xecf491);}_0xdf5eb9[_0x14a5ac(0x215)]>0x0&&_0xdf5eb9['forEach'](_0x4dbdc1=>{const _0x3181a7=_0x14a5ac;let _0x318849=0x3c;if(_0x5d1434){let _0x5950ad=0x0;Object[_0x3181a7(0x1f4)](_0x59e8d8)[_0x3181a7(0x258)](_0x8025ea=>{if(_0x8025ea>_0x5950ad)_0x5950ad=_0x8025ea;}),_0x318849=_0x5950ad>0x0?_0x5950ad:0x78;}else _0x318849=getWarmupRobust(_0x59e8d8,_0x4dbdc1);const _0xd1441a=new Date(_0x3cbacf-_0x318849*0xea60);_0x24a75a['push']({'eventTime':_0x3cbacf,'triggerTime':_0xd1441a[_0x3181a7(0x277)](),'room':_0x4dbdc1,'minutes':_0x318849,'reason':_0x2386d2,'isGlobal':_0x5d1434});});}}catch(_0x11bce6){}_0x24a75a['sort']((_0x5da9b4,_0x1c82e4)=>_0x5da9b4[_0x14a5ac(0x262)]-_0x1c82e4[_0x14a5ac(0x262)]);const _0x5c6118=_0x24a75a[_0x14a5ac(0x21e)](0x0,0x5);await _0xbf20e3[_0x14a5ac(0x256)](_0x14a5ac(0x28a),{'val':JSON[_0x14a5ac(0x287)](_0x5c6118),'ack':!![]});}async function monitorEnforcements(_0x13c2fa){const _0x3e978c=a1_0x372d;try{const _0x19e443=_0x3e978c(0x210),_0x1cd61f=await _0x13c2fa[_0x3e978c(0x1e3)](_0x19e443);if(!_0x1cd61f||!_0x1cd61f[_0x3e978c(0x21c)])return;let _0xfe32cd=[];try{_0xfe32cd=JSON[_0x3e978c(0x26b)](_0x1cd61f[_0x3e978c(0x21c)]);}catch(_0x56e4ae){return;}if(!Array[_0x3e978c(0x284)](_0xfe32cd)||_0xfe32cd['length']===0x0)return;const _0x3bf6fd=Date[_0x3e978c(0x20d)](),_0x20e47f=_0x13c2fa[_0x3e978c(0x1e4)][_0x3e978c(0x244)]||[];let _0x4e8b1b=![];for(let _0x2e5266=_0xfe32cd[_0x3e978c(0x215)]-0x1;_0x2e5266>=0x0;_0x2e5266--){const _0x1dc37c=_0xfe32cd[_0x2e5266];if(_0x3bf6fd>=_0x1dc37c[_0x3e978c(0x255)]){_0x13c2fa[_0x3e978c(0x281)]['info'](_0x3e978c(0x237)+_0x1dc37c[_0x3e978c(0x292)]+_0x3e978c(0x259)),_0xfe32cd[_0x3e978c(0x20a)](_0x2e5266,0x1),_0x4e8b1b=!![];continue;}const _0x153837=_0x20e47f['find'](_0x1796b8=>normalize(_0x1796b8[_0x3e978c(0x230)])===normalize(_0x1dc37c[_0x3e978c(0x292)])&&(_0x1796b8[_0x3e978c(0x207)]===_0x3e978c(0x216)||_0x1796b8[_0x3e978c(0x207)]===_0x3e978c(0x203)));if(_0x153837){const _0x2595ae=await findRelatedId(_0x13c2fa,_0x153837['id'],_0x3e978c(0x27b));if(_0x2595ae){const _0x1e0050=await _0x13c2fa[_0x3e978c(0x24f)](_0x2595ae);_0x1e0050&&typeof _0x1e0050[_0x3e978c(0x21c)]===_0x3e978c(0x25a)&&(_0x1e0050[_0x3e978c(0x21c)]<0xf&&(_0x13c2fa['log'][_0x3e978c(0x22f)]('üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x1dc37c[_0x3e978c(0x292)]+_0x3e978c(0x1e6)+_0x1e0050[_0x3e978c(0x21c)]+_0x3e978c(0x227)+_0x1dc37c[_0x3e978c(0x24d)]+'¬∞C.'),await _0x13c2fa[_0x3e978c(0x218)](_0x2595ae,_0x1dc37c[_0x3e978c(0x24d)]),await logAutomationAction(_0x13c2fa,_0x3e978c(0x24a)+_0x1dc37c[_0x3e978c(0x292)]+':\x20'+_0x1e0050[_0x3e978c(0x21c)]+_0x3e978c(0x208)+_0x1dc37c[_0x3e978c(0x24d)]+_0x3e978c(0x29c))));}}}_0x4e8b1b&&await _0x13c2fa[_0x3e978c(0x256)](_0x19e443,{'val':JSON[_0x3e978c(0x287)](_0xfe32cd),'ack':!![]});}catch(_0x32ee12){_0x13c2fa[_0x3e978c(0x281)]['error'](_0x3e978c(0x293)+_0x32ee12[_0x3e978c(0x23f)]);}}async function checkCalendarTriggers(_0x2b0a62){const _0x199757=a1_0x372d;if(!_0x2b0a62[_0x199757(0x1e4)]['useCalendar']||!_0x2b0a62[_0x199757(0x1e4)][_0x199757(0x21b)])return;await updateSchedulePreview(_0x2b0a62);let _0xe11837={},_0x1af697={};try{const _0x5401f6=await _0x2b0a62['getStateAsync'](_0x199757(0x21d));if(_0x5401f6&&_0x5401f6[_0x199757(0x21c)])_0xe11837=JSON[_0x199757(0x26b)](_0x5401f6[_0x199757(0x21c)]);const _0x5c694f=await _0x2b0a62['getStateAsync'](_0x199757(0x248));if(_0x5c694f&&_0x5c694f[_0x199757(0x21c)])_0x1af697=JSON[_0x199757(0x26b)](_0x5c694f[_0x199757(0x21c)]);}catch(_0xd0b75a){}let _0x2b230b={'default':0x15};try{const _0x31e3ae=await _0x2b0a62[_0x199757(0x1e3)](_0x199757(0x226));if(_0x31e3ae&&_0x31e3ae['val'])_0x2b230b=JSON[_0x199757(0x26b)](_0x31e3ae[_0x199757(0x21c)]);}catch(_0x1886d2){}let _0x14fb20=[];try{const _0x59cd70=await _0x2b0a62[_0x199757(0x1e3)](_0x199757(0x210));if(_0x59cd70&&_0x59cd70['val'])_0x14fb20=JSON['parse'](_0x59cd70[_0x199757(0x21c)]);}catch(_0x3e41a6){}try{const _0x25769f=await _0x2b0a62[_0x199757(0x24f)](_0x2b0a62[_0x199757(0x1e4)][_0x199757(0x21b)]+_0x199757(0x27a));if(!_0x25769f||!_0x25769f[_0x199757(0x21c)])return;const _0x4f0624=JSON[_0x199757(0x26b)](_0x25769f[_0x199757(0x21c)]),_0x520239=Date['now'](),_0x74e820=_0x2b0a62[_0x199757(0x1e4)][_0x199757(0x244)]||[],_0x229978=_0x2b0a62[_0x199757(0x1e4)]['calendarSelection']||[];let _0x41ced9=![];for(const _0x5c8118 of _0x4f0624){if(_0x5c8118[_0x199757(0x1f9)]&&_0x229978[_0x199757(0x215)]>0x0&&!_0x229978[_0x199757(0x253)](_0x5c8118[_0x199757(0x1f9)]))continue;const _0x5a07b2=_0x5c8118[_0x199757(0x26e)]||_0x5c8118[_0x199757(0x272)]||_0x5c8118[_0x199757(0x1fd)];if(!_0x5a07b2)continue;const _0x57f652=new Date(_0x5a07b2);if(isNaN(_0x57f652['getTime']()))continue;const _0x5a7047=(_0x5c8118[_0x199757(0x282)]||_0x5c8118['summary']||'')[_0x199757(0x264)]();if(_0x5a7047[_0x199757(0x253)](_0x199757(0x236))||_0x5a7047[_0x199757(0x253)](_0x199757(0x1e9))||_0x5a7047[_0x199757(0x253)](_0x199757(0x285))){let _0x32a3a9=0x0;Object[_0x199757(0x1f4)](_0xe11837)[_0x199757(0x258)](_0x43fead=>{if(_0x43fead>_0x32a3a9)_0x32a3a9=_0x43fead;});if(_0x32a3a9===0x0)_0x32a3a9=0x78;const _0x444869=_0x57f652[_0x199757(0x277)]()-_0x32a3a9*0xea60;_0x520239>=_0x444869&&_0x520239<_0x57f652[_0x199757(0x277)]()&&(_0x2b0a62[_0x199757(0x1fe)]!==_0x199757(0x221)&&(_0x2b0a62['log'][_0x199757(0x29f)]('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x32a3a9+'\x20min).'),await _0x2b0a62['setStateAsync']('system.mode',{'val':_0x199757(0x221),'ack':![]})));}for(const _0x518704 of _0x74e820){if(_0x518704['location']){const _0x4bfde1=_0x518704['location']['toLowerCase'](),_0x2a82f1=(_0x518704['name']||'')['toLowerCase']();let _0x36bf95=_0x5a7047[_0x199757(0x253)](_0x4bfde1);!_0x36bf95&&_0x2a82f1['length']>0x3&&_0x5a7047[_0x199757(0x253)](_0x2a82f1)&&(_0x36bf95=!![]);if(_0x36bf95){const _0x445a88=getWarmupRobust(_0xe11837,_0x518704[_0x199757(0x230)]),_0x5d165d=_0x1af697[_0x518704[_0x199757(0x230)]]||_0x199757(0x235),_0x5e6a30=_0x57f652[_0x199757(0x277)]()-_0x445a88*0xea60;if(_0x520239>=_0x5e6a30&&_0x520239<_0x57f652[_0x199757(0x277)]()){const _0x56d4bd=lastActions['cal_'+_0x518704[_0x199757(0x230)]];if(_0x56d4bd&&_0x520239-_0x56d4bd<CAL_COOLDOWN_MS)continue;const _0xc31a7f=await findRelatedId(_0x2b0a62,_0x518704['id'],'setpoint');if(_0xc31a7f){let _0x7926b3=_0x2b230b[_0x518704[_0x199757(0x230)]];if(_0x7926b3===undefined)_0x7926b3=_0x2b230b['default'];if(_0x7926b3===undefined)_0x7926b3=0x15;const _0x3e85ea=await _0x2b0a62[_0x199757(0x24f)](_0xc31a7f);if(_0x3e85ea&&typeof _0x3e85ea[_0x199757(0x21c)]==='number'&&_0x3e85ea['val']<_0x7926b3-0.5){_0x2b0a62[_0x199757(0x281)][_0x199757(0x29f)](_0x199757(0x257)+_0x5d165d+_0x199757(0x1f6)+_0x518704[_0x199757(0x230)]+_0x199757(0x25d)+_0x5a7047+_0x199757(0x232)+_0x7926b3+_0x199757(0x279)+_0x445a88+_0x199757(0x24e)),await _0x2b0a62['setForeignStateAsync'](_0xc31a7f,_0x7926b3),await logAutomationAction(_0x2b0a62,'[CAL]\x20'+_0x518704[_0x199757(0x230)]+_0x199757(0x21a)+_0x7926b3+'¬∞C\x20(via\x20'+_0x5d165d+')'),lastActions['cal_'+_0x518704[_0x199757(0x230)]]=_0x520239;const _0x3ada9b=_0x14fb20[_0x199757(0x23a)](_0x564ca4=>_0x564ca4['room']===_0x518704['location']);if(_0x3ada9b!==-0x1)_0x14fb20[_0x199757(0x20a)](_0x3ada9b,0x1);_0x14fb20[_0x199757(0x268)]({'room':_0x518704['location'],'target':_0x7926b3,'until':_0x57f652[_0x199757(0x277)]()}),_0x41ced9=!![];}}}}}}}_0x41ced9&&await _0x2b0a62['setStateAsync'](_0x199757(0x210),{'val':JSON[_0x199757(0x287)](_0x14fb20),'ack':!![]});}catch(_0x34d837){_0x2b0a62[_0x199757(0x281)]['warn'](_0x199757(0x25e)+_0x34d837['message']);}}async function manageMpcIntervention(_0x3fc624,_0x1f50ef,_0x5ef478){const _0x4d48ab=a1_0x372d;try{const _0x8b9567=_0x4d48ab(0x299),_0x1ab83a=await _0x3fc624[_0x4d48ab(0x1e3)](_0x8b9567);let _0x2ba6bf=[];if(_0x1ab83a&&_0x1ab83a['val'])try{_0x2ba6bf=JSON[_0x4d48ab(0x26b)](_0x1ab83a['val']);}catch(_0x82304){}const _0x319515=_0x2ba6bf[_0x4d48ab(0x27e)](_0x1f50ef);if(_0x5ef478===_0x4d48ab(0x1fa))_0x319515===-0x1&&(_0x2ba6bf['push'](_0x1f50ef),await _0x3fc624['setStateAsync'](_0x8b9567,{'val':JSON['stringify'](_0x2ba6bf),'ack':!![]}));else _0x5ef478==='remove'&&(_0x319515!==-0x1&&(_0x2ba6bf[_0x4d48ab(0x20a)](_0x319515,0x1),await _0x3fc624['setStateAsync'](_0x8b9567,{'val':JSON['stringify'](_0x2ba6bf),'ack':!![]})));}catch(_0x426069){}}async function cleanupGhostInterventions(_0x10982f){const _0x340271=a1_0x372d;try{const _0x28fec3=_0x340271(0x299),_0x3f3d10=await _0x10982f['getStateAsync'](_0x28fec3);if(!_0x3f3d10||!_0x3f3d10[_0x340271(0x21c)])return;const _0x13a03e=JSON[_0x340271(0x26b)](_0x3f3d10[_0x340271(0x21c)]);if(!Array['isArray'](_0x13a03e)||_0x13a03e['length']===0x0)return;let _0x13b59b={'default':0x15};try{const _0x3101b2=await _0x10982f[_0x340271(0x1e3)](_0x340271(0x226));if(_0x3101b2&&_0x3101b2['val'])_0x13b59b=JSON[_0x340271(0x26b)](_0x3101b2[_0x340271(0x21c)]);}catch(_0x3f4b26){}let _0x22bc0c=[];try{const _0x13141c=await _0x10982f[_0x340271(0x1e3)](_0x340271(0x24c));if(_0x13141c&&_0x13141c[_0x340271(0x21c)])_0x22bc0c=JSON[_0x340271(0x26b)](_0x13141c[_0x340271(0x21c)]);}catch(_0x2f2ddf){}let _0x22e952={},_0x27e27d=![];try{const _0x371c54=await _0x10982f['getStateAsync']('analysis.energy.rlPenalties');if(_0x371c54&&_0x371c54['val'])_0x22e952=JSON[_0x340271(0x26b)](_0x371c54['val']);}catch(_0x3026ee){}if(_0x22e952['_meta']){const _0x2ac79d=Date[_0x340271(0x20d)]();for(const [_0x2db9f3,_0x119892]of Object[_0x340271(0x26d)](_0x22e952[_0x340271(0x28b)])){_0x2ac79d-_0x119892>PENALTY_TTL&&(delete _0x22e952[_0x2db9f3],delete _0x22e952['_meta'][_0x2db9f3],_0x27e27d=!![],_0x10982f[_0x340271(0x281)][_0x340271(0x29f)](_0x340271(0x201)+_0x2db9f3+_0x340271(0x21f)));}}const _0x1fdb50=_0x10982f[_0x340271(0x1e4)][_0x340271(0x244)]||[];let _0x5bad71=![];for(let _0x9376c5=_0x13a03e[_0x340271(0x215)]-0x1;_0x9376c5>=0x0;_0x9376c5--){const _0x438f4e=_0x13a03e[_0x9376c5],_0xca08d4=_0x1fdb50[_0x340271(0x269)](_0x30ef28=>normalize(_0x30ef28[_0x340271(0x230)])===normalize(_0x438f4e)&&(_0x30ef28[_0x340271(0x207)]==='temperature'||_0x30ef28['type']==='thermostat'));if(!_0xca08d4){_0x10982f[_0x340271(0x281)]['warn'](_0x340271(0x1f0)+_0x438f4e+_0x340271(0x28f)),_0x13a03e[_0x340271(0x20a)](_0x9376c5,0x1),_0x5bad71=!![];continue;}if(_0xca08d4){const _0x290e77=await findRelatedId(_0x10982f,_0xca08d4['id'],_0x340271(0x27b)),_0x4bb412=await _0x10982f['getForeignStateAsync'](_0xca08d4['id']);if(_0x290e77){const _0x4852b7=await _0x10982f[_0x340271(0x24f)](_0x290e77);if(_0x4852b7&&typeof _0x4852b7[_0x340271(0x21c)]===_0x340271(0x25a)){let _0x46f180=![],_0x3109b4='';Math[_0x340271(0x25b)](_0x4852b7['val']-ECO_TEMP)>0.5&&(_0x46f180=!![],_0x3109b4=_0x340271(0x231));if(!_0x46f180&&_0x4bb412&&typeof _0x4bb412[_0x340271(0x21c)]===_0x340271(0x25a)){const _0x19993b=_0x13b59b[_0x438f4e]||_0x13b59b['default']||0x15;_0x4bb412[_0x340271(0x21c)]<_0x19993b+0.2&&(_0x46f180=!![],_0x3109b4=_0x340271(0x294));}if(_0x46f180){if(_0x3109b4===_0x340271(0x231)){_0x10982f[_0x340271(0x281)][_0x340271(0x29f)]('üßπ\x20[MPC\x20CLEANUP]\x20'+_0x438f4e+'\x20ist\x20auf\x20'+_0x4852b7['val']+'¬∞C\x20(nicht\x20'+ECO_TEMP+_0x340271(0x23c));const _0x10d7b6=lastActions[_0x340271(0x22d)+_0x438f4e],_0x2d2887=_0x10d7b6&&Date[_0x340271(0x20d)]()-_0x10d7b6<0x2*0x3c*0x3e8;if(!_0x2d2887&&_0x4852b7['val']>ECO_TEMP+0.5){_0x10982f[_0x340271(0x240)]&&(_0x10982f[_0x340271(0x281)]['info'](_0x340271(0x20e)+_0x438f4e+_0x340271(0x22b)),_0x10982f['sendToPythonWrapper'](_0x340271(0x29e),{'room':_0x438f4e}));const _0x53eb8f=_0x438f4e+'_'+new Date()['getHours']();if(!_0x22e952[_0x53eb8f]){_0x22e952[_0x53eb8f]=0x1;if(!_0x22e952[_0x340271(0x28b)])_0x22e952['_meta']={};_0x22e952[_0x340271(0x28b)][_0x53eb8f]=Date[_0x340271(0x20d)](),_0x27e27d=!![];}}else _0x2d2887&&_0x10982f[_0x340271(0x281)][_0x340271(0x29f)](_0x340271(0x241)+_0x438f4e+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x3109b4===_0x340271(0x294)){let _0x356839=![];if(_0x22bc0c[_0x340271(0x269)](_0x4fe656=>_0x4fe656['room']===_0x438f4e))_0x356839=!![];const _0x1cfa6f=_0x1fdb50[_0x340271(0x290)](_0x77b2b3=>normalize(_0x77b2b3[_0x340271(0x230)])===normalize(_0x438f4e)&&(_0x77b2b3[_0x340271(0x207)]==='window'||_0x77b2b3[_0x340271(0x207)]===_0x340271(0x289)||_0x77b2b3[_0x340271(0x207)]===_0x340271(0x1e5)));for(const _0x2cda44 of _0x1cfa6f){try{const _0x244d5a=await _0x10982f[_0x340271(0x24f)](_0x2cda44['id']);if(_0x244d5a&&(_0x244d5a[_0x340271(0x21c)]===!![]||_0x244d5a[_0x340271(0x21c)]===0x1||String(_0x244d5a[_0x340271(0x21c)])['toLowerCase']()===_0x340271(0x249)))_0x356839=!![];}catch(_0xb4798d){}}if(_0x356839)_0x10982f[_0x340271(0x281)][_0x340271(0x29f)](_0x340271(0x26c)+_0x438f4e+_0x340271(0x22a));else{const _0x3b271c=_0x13b59b[_0x438f4e]||_0x13b59b[_0x340271(0x213)]||0x15;_0x10982f['log'][_0x340271(0x29f)](_0x340271(0x260)+_0x438f4e+_0x340271(0x1ea)+_0x4bb412[_0x340271(0x21c)]+_0x340271(0x1f3)+(_0x3b271c+0.2)+_0x340271(0x1e8)),await _0x10982f[_0x340271(0x218)](_0x290e77,_0x3b271c),await logAutomationAction(_0x10982f,_0x340271(0x20b)+_0x438f4e+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x3b271c+'¬∞C'),lastActions[_0x340271(0x2a0)+_0x438f4e]=Date[_0x340271(0x20d)]();}}}_0x13a03e[_0x340271(0x20a)](_0x9376c5,0x1),_0x5bad71=!![];}}}}}_0x5bad71&&await _0x10982f[_0x340271(0x256)](_0x28fec3,{'val':JSON['stringify'](_0x13a03e),'ack':!![]}),_0x27e27d&&await _0x10982f[_0x340271(0x256)]('analysis.energy.rlPenalties',{'val':JSON[_0x340271(0x287)](_0x22e952),'ack':!![]});}catch(_0x58bf2d){}}async function applyEnergySavings(_0x187c3b,_0x39433a){const _0x31000f=a1_0x372d;await cleanupGhostInterventions(_0x187c3b);if(!_0x39433a||_0x39433a[_0x31000f(0x215)]===0x0)return;const _0x174482=_0x187c3b[_0x31000f(0x1e4)][_0x31000f(0x244)]||[],_0x138fdc=Date[_0x31000f(0x20d)]();for(const _0x51fe7f of _0x39433a){const _0x2aa9f5=_0x51fe7f['room'],_0x1707ac=_0x51fe7f['minutes_safe'],_0x3f27c0=_0x51fe7f[_0x31000f(0x24d)]||0x15;if(lastActions[_0x31000f(0x2a0)+_0x2aa9f5]&&_0x138fdc-lastActions[_0x31000f(0x2a0)+_0x2aa9f5]<RESCUE_LOCK_MS)continue;const _0x3263aa=_0x174482['find'](_0x563795=>normalize(_0x563795['location'])===normalize(_0x2aa9f5)&&(_0x563795[_0x31000f(0x207)]===_0x31000f(0x216)||_0x563795[_0x31000f(0x207)]==='thermostat'));if(!_0x3263aa)continue;const _0x354ae3=await findRelatedId(_0x187c3b,_0x3263aa['id'],_0x31000f(0x27b));if(_0x354ae3){if(lastActions[_0x31000f(0x26a)+_0x2aa9f5]&&_0x138fdc-lastActions[_0x31000f(0x26a)+_0x2aa9f5]<0x1e*0x3c*0x3e8)continue;const _0x2208fd=await _0x187c3b[_0x31000f(0x24f)](_0x354ae3);if(_0x2208fd&&typeof _0x2208fd[_0x31000f(0x21c)]==='number'){const _0x32fc21=_0x2208fd[_0x31000f(0x21c)];_0x32fc21!==ECO_TEMP&&await manageMpcIntervention(_0x187c3b,_0x2aa9f5,_0x31000f(0x1ec));if(_0x1707ac>0x1e)_0x32fc21>ECO_TEMP+0.5&&(_0x187c3b[_0x31000f(0x281)][_0x31000f(0x29f)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x2aa9f5+'\x20auf\x20'+ECO_TEMP+_0x31000f(0x209)+_0x1707ac+'\x20min)'),await _0x187c3b[_0x31000f(0x218)](_0x354ae3,ECO_TEMP),await manageMpcIntervention(_0x187c3b,_0x2aa9f5,_0x31000f(0x1fa)),lastActions['mpc_'+_0x2aa9f5]=_0x138fdc,await logAutomationAction(_0x187c3b,'[MPC]\x20'+_0x2aa9f5+_0x31000f(0x1f1)+ECO_TEMP+'¬∞C'));else _0x1707ac<=0xf&&(_0x32fc21<_0x3f27c0&&(_0x187c3b[_0x31000f(0x281)][_0x31000f(0x29f)](_0x31000f(0x29b)+_0x2aa9f5+_0x31000f(0x27f)+_0x3f27c0+_0x31000f(0x276)),await _0x187c3b[_0x31000f(0x218)](_0x354ae3,_0x3f27c0),await manageMpcIntervention(_0x187c3b,_0x2aa9f5,_0x31000f(0x1ec)),lastActions['mpc_'+_0x2aa9f5]=_0x138fdc,await logAutomationAction(_0x187c3b,'[MPC]\x20'+_0x2aa9f5+_0x31000f(0x286)+_0x3f27c0+'¬∞C')));}}else _0x187c3b['log'][_0x31000f(0x22f)](_0x31000f(0x1eb)+_0x2aa9f5+_0x31000f(0x1f2));}}module[a1_0x149f93(0x22c)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};