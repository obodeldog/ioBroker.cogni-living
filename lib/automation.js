const a1_0x4955ec=a1_0x29b7;(function(_0x5474a9,_0x3c1273){const _0x52c99a=a1_0x29b7,_0x33e4a0=_0x5474a9();while(!![]){try{const _0x51186a=parseInt(_0x52c99a(0x11a))/0x1+parseInt(_0x52c99a(0x105))/0x2*(-parseInt(_0x52c99a(0x11c))/0x3)+parseInt(_0x52c99a(0x102))/0x4+-parseInt(_0x52c99a(0x119))/0x5*(parseInt(_0x52c99a(0x118))/0x6)+-parseInt(_0x52c99a(0x10c))/0x7*(-parseInt(_0x52c99a(0x11d))/0x8)+parseInt(_0x52c99a(0xeb))/0x9+parseInt(_0x52c99a(0xfb))/0xa*(-parseInt(_0x52c99a(0xec))/0xb);if(_0x51186a===_0x3c1273)break;else _0x33e4a0['push'](_0x33e4a0['shift']());}catch(_0x5ef09d){_0x33e4a0['push'](_0x33e4a0['shift']());}}}(a1_0x44a3,0x19f00));const a1_0xad98e8=(function(){let _0x3c4bee=!![];return function(_0x5d73c4,_0x176325){const _0x400819=_0x3c4bee?function(){const _0x52d6c5=a1_0x29b7;if(_0x176325){const _0x28fe01=_0x176325[_0x52d6c5(0x10a)](_0x5d73c4,arguments);return _0x176325=null,_0x28fe01;}}:function(){};return _0x3c4bee=![],_0x400819;};}()),a1_0x49a9bf=a1_0xad98e8(this,function(){const _0x5564cd=a1_0x29b7;return a1_0x49a9bf[_0x5564cd(0x110)]()[_0x5564cd(0x10b)](_0x5564cd(0xee))[_0x5564cd(0x110)]()[_0x5564cd(0xed)](a1_0x49a9bf)[_0x5564cd(0x10b)](_0x5564cd(0xee));});a1_0x49a9bf();function a1_0x44a3(){const _0x39aa48=['1463Zhuvsr','constructor','(((.+)+)+)+$','config','replace','light','analysis.automation.mode','analysis.automation.lastAction','ðŸ”\x20Device-Search\x20failed:\x20Predicted\x20\x27','now','val','ðŸ‘€\x20SIMULATION:\x20','switch','type','location','22520DisXPN','simulate','debug','setStateAsync','reason','active','toLowerCase','592580oHbKeh','info','log','26Crhbvy','ðŸ¤–\x20Butler\x20Blocked:\x20','[BLOCKED]\x20','name','\x27\x20(norm:\x20\x27','apply','search','13293wZzEJR','getStateAsync','exports','PrÃ¤diktion:\x20','toString','consultButler','devices','\x20->\x20','getForeignStateAsync','trim','toUpperCase','Unknown','6enFseO','522645WiLuWX','89413mhfLZH','approved','16476ImNlXj','592HlBaDa','analysis.automation.confidenceThreshold','1832373SxlRIl'];a1_0x44a3=function(){return _0x39aa48;};return a1_0x44a3();}'use strict';function a1_0x29b7(_0x33a5dd,_0x5e3686){const _0x4be503=a1_0x44a3();return a1_0x29b7=function(_0x49a9bf,_0xad98e8){_0x49a9bf=_0x49a9bf-0xeb;let _0x44a339=_0x4be503[_0x49a9bf];return _0x44a339;},a1_0x29b7(_0x33a5dd,_0x5e3686);}const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function normalize(_0x3cadbf){const _0x3fe94c=a1_0x29b7;if(!_0x3cadbf)return'';return _0x3cadbf[_0x3fe94c(0x101)]()[_0x3fe94c(0xf0)](/\s+/g,'')[_0x3fe94c(0x115)]();}async function handlePrediction(_0x275a5a,_0x20ddb2,_0x657772){const _0x5eaa6f=a1_0x29b7;if(!_0x20ddb2||_0x20ddb2===_0x5eaa6f(0x117))return;let _0xc7a9c6='off',_0x2339a9=0.6;try{const _0x3eb91c=await _0x275a5a[_0x5eaa6f(0x10d)](_0x5eaa6f(0xf2));if(_0x3eb91c&&_0x3eb91c[_0x5eaa6f(0xf6)])_0xc7a9c6=_0x3eb91c[_0x5eaa6f(0xf6)];const _0x529357=await _0x275a5a[_0x5eaa6f(0x10d)](_0x5eaa6f(0x11e));if(_0x529357&&_0x529357['val'])_0x2339a9=_0x529357[_0x5eaa6f(0xf6)];}catch(_0x4cb686){}if(_0xc7a9c6==='off')return;if(_0x657772<_0x2339a9)return;const _0x26ff51=Date[_0x5eaa6f(0xf5)]();if(lastActions[_0x20ddb2]&&_0x26ff51-lastActions[_0x20ddb2]<COOLDOWN_MS)return;const _0x1d33e8=_0x275a5a[_0x5eaa6f(0xef)][_0x5eaa6f(0x112)]||[],_0x56c87a=normalize(_0x20ddb2),_0x17c417=_0x1d33e8['find'](_0x31dca9=>{const _0x35b012=_0x5eaa6f;return normalize(_0x31dca9[_0x35b012(0xfa)])===_0x56c87a&&(_0x31dca9[_0x35b012(0xf9)]===_0x35b012(0xf1)||_0x31dca9[_0x35b012(0xf9)]==='dimmer'||_0x31dca9[_0x35b012(0xf9)]===_0x35b012(0xf8));});if(!_0x17c417){const _0x3da56a=_0x5eaa6f(0xf4)+_0x20ddb2+_0x5eaa6f(0x109)+_0x56c87a+'\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.';_0x275a5a['log'][_0x5eaa6f(0xfd)](_0x3da56a);return;}const _0x17a104=await aiAgent[_0x5eaa6f(0x111)](_0x275a5a,_0x20ddb2,_0x17c417[_0x5eaa6f(0x108)],_0x657772);if(!_0x17a104[_0x5eaa6f(0x11b)]){_0x275a5a[_0x5eaa6f(0x104)]['debug'](_0x5eaa6f(0x106)+_0x20ddb2+_0x5eaa6f(0x113)+_0x17a104[_0x5eaa6f(0xff)]),await _0x275a5a[_0x5eaa6f(0xfe)](_0x5eaa6f(0xf3),{'val':_0x5eaa6f(0x107)+_0x17a104['reason'],'ack':!![]});return;}const _0x28bce8=_0x5eaa6f(0x10f)+_0x20ddb2+'\x20->\x20Schalte\x20'+_0x17c417[_0x5eaa6f(0x108)]+'\x20('+_0x17a104[_0x5eaa6f(0xff)]+')';await _0x275a5a[_0x5eaa6f(0xfe)](_0x5eaa6f(0xf3),{'val':'['+_0xc7a9c6[_0x5eaa6f(0x116)]()+']\x20'+_0x28bce8,'ack':!![]});if(_0xc7a9c6===_0x5eaa6f(0xfc))_0x275a5a[_0x5eaa6f(0x104)][_0x5eaa6f(0x103)](_0x5eaa6f(0xf7)+_0x28bce8);else{if(_0xc7a9c6===_0x5eaa6f(0x100)){_0x275a5a['log'][_0x5eaa6f(0x103)]('âš¡\x20ACTION:\x20'+_0x28bce8);const _0x129323=await _0x275a5a[_0x5eaa6f(0x114)](_0x17c417['id']);if(_0x129323&&(_0x129323[_0x5eaa6f(0xf6)]===!![]||_0x129323['val']>0x0)){}else await _0x275a5a['setForeignStateAsync'](_0x17c417['id'],!![]);lastActions[_0x20ddb2]=_0x26ff51;}}}module[a1_0x4955ec(0x10e)]={'handlePrediction':handlePrediction};