const a1_0x216f1d=a1_0x5001;(function(_0x3230ff,_0x15cdfc){const _0x3e8a62=a1_0x5001,_0x49cb2f=_0x3230ff();while(!![]){try{const _0x1f1bbf=parseInt(_0x3e8a62(0x142))/0x1*(-parseInt(_0x3e8a62(0x13d))/0x2)+-parseInt(_0x3e8a62(0x121))/0x3*(parseInt(_0x3e8a62(0x16e))/0x4)+-parseInt(_0x3e8a62(0xe8))/0x5*(parseInt(_0x3e8a62(0x14b))/0x6)+parseInt(_0x3e8a62(0x175))/0x7+-parseInt(_0x3e8a62(0x103))/0x8*(-parseInt(_0x3e8a62(0x130))/0x9)+parseInt(_0x3e8a62(0x17e))/0xa+parseInt(_0x3e8a62(0x168))/0xb;if(_0x1f1bbf===_0x15cdfc)break;else _0x49cb2f['push'](_0x49cb2f['shift']());}catch(_0x1f5d73){_0x49cb2f['push'](_0x49cb2f['shift']());}}}(a1_0x9918,0x193f3));function a1_0x9918(){const _0x353429=['\x20->\x20Schalte\x20','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','getForeignObjectsAsync','messwert','currentSystemMode','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','9235YPRzxT','set','Fehlt','soll','normal','_calName','message','level.temperature','light','window','length','analysis.energy.warmupSources','type','setStateAsync','¬∞C\x20(via\x20','config','openknx','warn','target_temperature','eventStart','error','devices','exports','\x20auf\x20','¬∞C\x20(nicht\x20','values','state','1872HzVjlB','info','search','value.valve','unit','Ist','minutes_safe','level','setpoint','urlaub\x20ende','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','[WATCHDOG]\x20',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','\x20wieder\x20auf\x20','abs','push','forEach','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','SET_POINT_TEMPERATURE','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20',')\x20aktiv.\x20Heize\x20auf\x20','.4.SET_TEMPERATURE','pi_heating_demand','üßπ\x20[MPC\x20CLEANUP]\x20','Classic','toUpperCase','ACTUAL_TEMPERATURE','analysis.automation.actionLog','getHours','dimmer','1146kUHySN','.1.TEMPERATURE','now','wert','manual','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','level.valve','valve','add','event','val','Unknown','sensor','entries','from','1044XAXEZN','date','Nicht\x20gefunden','Unbekannt','PERFECT','analysis.energy.mpcActiveInterventions','toLowerCase','rescue_','\x20->\x20','number','setForeignStateAsync','.1.SET_POINT_TEMPERATURE','sort','2dAaiRr','target','¬∞C!\x20(Puffer:\x20','.1.LEVEL','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','27746JKfRto',':\x20Absenkung\x20auf\x20','thermostat','Enforcement\x20Monitor\x20Error:\x20','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','local_temperature','analysis.automation.lastAction','ist','find','444lPMroO','occupied_heating_setpoint','analysis.energy.ventilationAlerts','¬∞C).\x20Entferne\x20Status.','¬∞C.','analysis.energy.warmupTargets','summary','split','getForeignStateAsync','temp','mpc_','log','üî•\x20[MPC\x20ACTION]\x20Heize\x20','localeCompare','getTime','[MPC]\x20','score','getStateAsync','\x20min).','parse','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','ankunft','ACTUAL','\x20erreicht\x20Limit\x20(','¬∞C\x20<\x20','calendarSelection','r√ºckkehr','stellwert','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','1354683LPTMiT','findIndex','analysis.automation.mode','_meta','triggerTime','stringify','1568shyols','system.mode','Manuelles\x20Mapping','thermostatMapping','room','reason','name','647899RYGtuz','splice','_date','toString','valveMapping','location','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','analysis.energy.activeEnforcements','trim','1747250ALSfSC','join','contact','approved','filter',']:\x20Raum-Trigger\x20\x27','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','¬∞C!\x20(Puffer\x20leer).','temperature','calendarInstance','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','write','.1.ACTUAL_TEMPERATURE','remove','string','cal_','analysis.energy.rlPenalties','(((.+)+)+)+$','consultButler','unshift','TRAIN_RL_PENALTY','slice','\x27\x20(Match:\x20','üö®\x20[MPC\x20WATCHDOG]\x20','Calendar\x20Check\x20Error:\x20','analysis.energy.warmupTimes','switch','analysis.energy.schedulePreview','includes','./ai_agent','isArray','default','off','replace','common','active','¬∞C\x20->\x20'];a1_0x9918=function(){return _0x353429;};return a1_0x9918();}const a1_0x4ca68d=(function(){let _0x3964c6=!![];return function(_0x58b003,_0x51f766){const _0x467d8c=_0x3964c6?function(){if(_0x51f766){const _0xba007f=_0x51f766['apply'](_0x58b003,arguments);return _0x51f766=null,_0xba007f;}}:function(){};return _0x3964c6=![],_0x467d8c;};}()),a1_0x30a4c8=a1_0x4ca68d(this,function(){const _0x2a4798=a1_0x5001;return a1_0x30a4c8[_0x2a4798(0x178)]()[_0x2a4798(0x105)](_0x2a4798(0x18f))[_0x2a4798(0x178)]()['constructor'](a1_0x30a4c8)[_0x2a4798(0x105)](_0x2a4798(0x18f));});a1_0x30a4c8();'use strict';const aiAgent=require(a1_0x216f1d(0x19b)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x90a247){const _0x2b4665=a1_0x216f1d;if(!_0x90a247)return'';return _0x90a247[_0x2b4665(0x136)]()[_0x2b4665(0x19f)](/\s+/g,'')[_0x2b4665(0x17d)]();}function getWarmupRobust(_0x171baf,_0xd29dbf){const _0x4cebd9=a1_0x216f1d;if(!_0x171baf||!_0xd29dbf)return 0x3c;if(_0x171baf[_0xd29dbf]!==undefined)return _0x171baf[_0xd29dbf];const _0x50124a=_0xd29dbf['toLowerCase']()[_0x4cebd9(0x19f)](/√§/g,'ae')['replace'](/√∂/g,'oe')[_0x4cebd9(0x19f)](/√º/g,'ue')['replace'](/√ü/g,'ss')['replace'](/\s+/g,'_')[_0x4cebd9(0x19f)](/[^a-z0-9_]/g,'');if(_0x171baf[_0x50124a]!==undefined)return _0x171baf[_0x50124a];return 0x3c;}async function logAutomationAction(_0x5cbcd3,_0x5bae74){const _0x578ea2=a1_0x216f1d;await _0x5cbcd3['setStateAsync'](_0x578ea2(0x148),{'val':_0x5bae74,'ack':!![]});try{const _0x2018ba=_0x578ea2(0x11e),_0x588329=await _0x5cbcd3[_0x578ea2(0x15c)](_0x2018ba);let _0x5921c9=[];if(_0x588329&&_0x588329[_0x578ea2(0x12b)])try{_0x5921c9=JSON['parse'](_0x588329[_0x578ea2(0x12b)]);}catch(_0x45240f){}_0x5921c9[_0x578ea2(0x191)]({'ts':Date[_0x578ea2(0x123)](),'msg':_0x5bae74});if(_0x5921c9[_0x578ea2(0xf2)]>0x32)_0x5921c9=_0x5921c9[_0x578ea2(0x193)](0x0,0x32);await _0x5cbcd3[_0x578ea2(0xf5)](_0x2018ba,{'val':JSON['stringify'](_0x5921c9),'ack':!![]});}catch(_0x5c62bc){}}async function handlePrediction(_0xc269a9,_0x5127fa,_0xc69585){const _0x390f56=a1_0x216f1d;if(!_0x5127fa||_0x5127fa===_0x390f56(0x12c))return;let _0x3865cd=_0x390f56(0x19e),_0x569053=0.6;try{const _0x4351ce=await _0xc269a9['getStateAsync'](_0x390f56(0x16a));if(_0x4351ce&&_0x4351ce[_0x390f56(0x12b)])_0x3865cd=_0x4351ce['val'];const _0x6d4ad7=await _0xc269a9[_0x390f56(0x15c)]('analysis.automation.confidenceThreshold');if(_0x6d4ad7&&_0x6d4ad7['val'])_0x569053=_0x6d4ad7['val'];}catch(_0x8db083){}if(_0x3865cd===_0x390f56(0x19e)||_0xc69585<_0x569053)return;const _0x517bba=Date[_0x390f56(0x123)]();if(lastActions[_0x5127fa]&&_0x517bba-lastActions[_0x5127fa]<COOLDOWN_MS)return;const _0x5b5612=_0xc269a9[_0x390f56(0xf7)][_0x390f56(0xfd)]||[],_0x5e6a4c=normalize(_0x5127fa),_0xfa0770=_0x5b5612[_0x390f56(0x14a)](_0xa8e00b=>normalize(_0xa8e00b['location'])===_0x5e6a4c&&(_0xa8e00b[_0x390f56(0xf4)]===_0x390f56(0xf0)||_0xa8e00b[_0x390f56(0xf4)]===_0x390f56(0x120)||_0xa8e00b[_0x390f56(0xf4)]===_0x390f56(0x198)));if(!_0xfa0770)return;const _0x776783=await aiAgent[_0x390f56(0x190)](_0xc269a9,_0x5127fa,_0xfa0770['name'],_0xc69585);if(!_0x776783[_0x390f56(0x181)])return;const _0x57b518='Pr√§diktion:\x20'+_0x5127fa+_0x390f56(0x1a3)+_0xfa0770[_0x390f56(0x174)]+'\x20('+_0x776783[_0x390f56(0x173)]+')';await logAutomationAction(_0xc269a9,'['+_0x3865cd[_0x390f56(0x11c)]()+']\x20'+_0x57b518);if(_0x3865cd===_0x390f56(0x1a1)){const _0x5eb56a=await _0xc269a9[_0x390f56(0x153)](_0xfa0770['id']);(!_0x5eb56a||!_0x5eb56a['val']&&_0x5eb56a['val']!==!![])&&await _0xc269a9[_0x390f56(0x13a)](_0xfa0770['id'],!![]),lastActions[_0x5127fa]=_0x517bba;}}async function findRelatedId(_0x3c97e0,_0x259851,_0x36f025='setpoint'){const _0x4074cf=a1_0x216f1d;if(_0x36f025===_0x4074cf(0x10b)&&_0x3c97e0['config'][_0x4074cf(0x171)]){let _0x4f2586=_0x3c97e0['config']['thermostatMapping'];if(typeof _0x4f2586===_0x4074cf(0x18c))try{_0x4f2586=JSON[_0x4074cf(0x15e)](_0x4f2586);}catch(_0x109a86){}if(_0x4f2586&&_0x4f2586[_0x259851])return _0x4f2586[_0x259851];}if(_0x36f025===_0x4074cf(0x128)&&_0x3c97e0['config'][_0x4074cf(0x179)]){let _0x53188f=_0x3c97e0[_0x4074cf(0xf7)][_0x4074cf(0x179)];if(typeof _0x53188f==='string')try{_0x53188f=JSON[_0x4074cf(0x15e)](_0x53188f);}catch(_0x3db5fb){}if(_0x53188f&&_0x53188f[_0x259851])return _0x53188f[_0x259851];}let _0x4906ef=[];if(_0x36f025==='setpoint')_0x4906ef=[{'s':_0x4074cf(0x18a),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x4074cf(0x122),'t':_0x4074cf(0x13b)},{'s':_0x4074cf(0x122),'t':_0x4074cf(0x118)},{'s':_0x4074cf(0x11d),'t':_0x4074cf(0x115)},{'s':_0x4074cf(0x147),'t':_0x4074cf(0x14c)},{'s':_0x4074cf(0x147),'t':'current_heating_setpoint'},{'s':_0x4074cf(0x186),'t':_0x4074cf(0xfa)},{'s':_0x4074cf(0x161),'t':'SET'},{'s':_0x4074cf(0x108),'t':'Soll'},{'s':'temperature','t':_0x4074cf(0x10b)}];else _0x36f025===_0x4074cf(0x128)&&(_0x4906ef=[{'s':_0x4074cf(0x18a),'t':_0x4074cf(0x140)},{'s':'.1.TEMPERATURE','t':_0x4074cf(0x140)},{'s':'.1.TEMPERATURE','t':'.4.VALVE_STATE'},{'s':_0x4074cf(0x147),'t':_0x4074cf(0x119)},{'s':_0x4074cf(0x186),'t':'valve_position'},{'s':'temperature','t':_0x4074cf(0x10a)}]);for(const _0x1a50f4 of _0x4906ef){if(_0x259851['includes'](_0x1a50f4['s'])){const _0x21da8c=_0x259851[_0x4074cf(0x19f)](_0x1a50f4['s'],_0x1a50f4['t']),_0x24511c=await _0x3c97e0['getForeignObjectAsync'](_0x21da8c);if(_0x24511c)return _0x21da8c;}}try{const _0x3de98f=_0x259851[_0x4074cf(0x152)]('.');if(_0x3de98f[_0x4074cf(0xf2)]>0x2){const _0x9898c2=_0x3de98f[_0x4074cf(0x193)](0x0,-0x1)[_0x4074cf(0x17f)]('.'),_0x388050=await _0x3c97e0[_0x4074cf(0x1a5)](_0x9898c2+'.*'),_0xd739b6=[],_0x5423dc=_0x259851[_0x4074cf(0x152)](/[._]+/)[_0x4074cf(0x182)](_0x2a92d8=>![_0x4074cf(0xf8),'0','hm-rpc',_0x4074cf(0x149),_0x4074cf(0x124),_0x4074cf(0x186),'actual','sensor',_0x4074cf(0xe5),_0x4074cf(0x102)][_0x4074cf(0x19a)](_0x2a92d8[_0x4074cf(0x136)]()));for(const [_0x3d6ce6,_0x497ef9]of Object[_0x4074cf(0x12e)](_0x388050)){if(_0x3d6ce6===_0x259851)continue;if(_0x497ef9&&_0x497ef9[_0x4074cf(0x1a0)]){const _0x14dbef=_0x3d6ce6[_0x4074cf(0x136)](),_0x3b131d=(_0x497ef9[_0x4074cf(0x1a0)]['role']||'')[_0x4074cf(0x136)](),_0x4bbce2=(_0x497ef9[_0x4074cf(0x1a0)][_0x4074cf(0x107)]||'')[_0x4074cf(0x136)]();let _0x16fce1=![];if(_0x36f025===_0x4074cf(0x10b)&&_0x497ef9['common'][_0x4074cf(0x189)]===!![])_0x16fce1=_0x14dbef['includes'](_0x4074cf(0xe9))||_0x14dbef[_0x4074cf(0x19a)](_0x4074cf(0xeb))||_0x14dbef['includes'](_0x4074cf(0x13e))||_0x3b131d[_0x4074cf(0x19a)](_0x4074cf(0xef))||_0x3b131d['includes']('thermostat.setpoint');else _0x36f025==='valve'&&(_0x16fce1=_0x14dbef[_0x4074cf(0x19a)](_0x4074cf(0x10a))||_0x14dbef[_0x4074cf(0x19a)](_0x4074cf(0x128))||_0x14dbef[_0x4074cf(0x19a)](_0x4074cf(0x166))||_0x14dbef[_0x4074cf(0x19a)]('position')||_0x3b131d[_0x4074cf(0x19a)](_0x4074cf(0x127))||_0x3b131d[_0x4074cf(0x19a)](_0x4074cf(0x106))||_0x4bbce2[_0x4074cf(0x19a)]('%'));if(_0x16fce1){const _0x505d19=_0x3d6ce6[_0x4074cf(0x152)](/[._]+/)['map'](_0x319e23=>_0x319e23[_0x4074cf(0x136)]());let _0x12d3a6=0x0;_0x5423dc[_0x4074cf(0x113)](_0x460779=>{const _0x32db61=_0x4074cf;if(_0x505d19['includes'](_0x460779[_0x32db61(0x136)]()))_0x12d3a6++;}),_0xd739b6[_0x4074cf(0x112)]({'id':_0x3d6ce6,'score':_0x12d3a6});}}}if(_0xd739b6['length']>0x0){_0xd739b6[_0x4074cf(0x13c)]((_0x185d10,_0x447704)=>_0x447704[_0x4074cf(0x15b)]-_0x185d10['score']);if(_0xd739b6[0x0][_0x4074cf(0x15b)]>0x0)return _0xd739b6[0x0]['id'];}}}catch(_0x415b71){}return null;}async function scanThermostats(_0x4c14df){const _0x10b210=a1_0x216f1d,_0x19e5cd=_0x4c14df[_0x10b210(0xf7)][_0x10b210(0xfd)]||[],_0x40115b=[],_0x1ee8dd=_0x19e5cd[_0x10b210(0x182)](_0x46aa1c=>_0x46aa1c['id']&&_0x46aa1c['id'][_0x10b210(0x19a)](_0x10b210(0x186))||_0x46aa1c[_0x10b210(0xf4)]&&[_0x10b210(0x186),_0x10b210(0x144),'sensor'][_0x10b210(0x19a)](_0x46aa1c[_0x10b210(0xf4)])||_0x46aa1c['name']&&_0x46aa1c[_0x10b210(0x174)][_0x10b210(0x136)]()['includes'](_0x10b210(0x154)));for(const _0x18ed42 of _0x1ee8dd){const _0x4887f3=await findRelatedId(_0x4c14df,_0x18ed42['id'],'setpoint'),_0x4252d1=await findRelatedId(_0x4c14df,_0x18ed42['id'],'valve');let _0x168550=_0x10b210(0x132),_0x514a44=![],_0x2f8613=_0x4c14df[_0x10b210(0xf7)][_0x10b210(0x171)]||{};if(typeof _0x2f8613===_0x10b210(0x18c))try{_0x2f8613=JSON[_0x10b210(0x15e)](_0x2f8613);}catch(_0xc3efb5){}let _0x575bd5=_0x4c14df[_0x10b210(0xf7)][_0x10b210(0x179)]||{};if(typeof _0x575bd5===_0x10b210(0x18c))try{_0x575bd5=JSON[_0x10b210(0x15e)](_0x575bd5);}catch(_0x30f7f9){}if(_0x2f8613[_0x18ed42['id']]&&_0x2f8613[_0x18ed42['id']]===_0x4887f3||_0x575bd5[_0x18ed42['id']]&&_0x575bd5[_0x18ed42['id']]===_0x4252d1)_0x168550=_0x10b210(0x170),_0x514a44=!![];else(_0x4887f3||_0x4252d1)&&(_0x168550='Auto-Erkennung');_0x40115b['push']({'room':_0x18ed42[_0x10b210(0x17a)]||_0x10b210(0x133),'sensorId':_0x18ed42['id'],'setpointId':_0x4887f3||'-','valveId':_0x4252d1||'-','source':_0x168550,'isManual':_0x514a44,'status':_0x4887f3&&_0x4252d1?_0x10b210(0x134):_0x4887f3?'OK':_0x10b210(0xea)});}return _0x40115b[_0x10b210(0x13c)]((_0x1f8fa1,_0x2eff39)=>_0x1f8fa1[_0x10b210(0x172)][_0x10b210(0x158)](_0x2eff39[_0x10b210(0x172)]));}async function updateSchedulePreview(_0x13c38){const _0x52dce5=a1_0x216f1d;if(!_0x13c38[_0x52dce5(0xf7)]['useCalendar']||!_0x13c38[_0x52dce5(0xf7)]['calendarInstance'])return;let _0x54115e={};try{const _0x2ada12=await _0x13c38['getStateAsync'](_0x52dce5(0x197));if(_0x2ada12&&_0x2ada12['val'])_0x54115e=JSON[_0x52dce5(0x15e)](_0x2ada12[_0x52dce5(0x12b)]);}catch(_0x36accc){}const _0x388412=[],_0x1ef99e=Date[_0x52dce5(0x123)](),_0x16d5a1=0x30*0x3c*0x3c*0x3e8;try{const _0xdac4e0=await _0x13c38[_0x52dce5(0x153)](_0x13c38[_0x52dce5(0xf7)][_0x52dce5(0x187)]+'.data.table');if(!_0xdac4e0||!_0xdac4e0['val'])return;const _0x2da044=JSON[_0x52dce5(0x15e)](_0xdac4e0[_0x52dce5(0x12b)]),_0x261c0a=_0x13c38[_0x52dce5(0xf7)]['calendarSelection']||[],_0x3b759c=_0x13c38[_0x52dce5(0xf7)][_0x52dce5(0xfd)]||[],_0x8f57bc=new Set();_0x3b759c[_0x52dce5(0x113)](_0x31a2e5=>{const _0x2920ee=_0x52dce5;if(_0x31a2e5['location'])_0x8f57bc[_0x2920ee(0x129)](_0x31a2e5['location']);});for(const _0x3da645 of _0x2da044){if(_0x3da645[_0x52dce5(0xed)]&&_0x261c0a[_0x52dce5(0xf2)]>0x0&&!_0x261c0a[_0x52dce5(0x19a)](_0x3da645[_0x52dce5(0xed)]))continue;const _0x2a2424=_0x3da645[_0x52dce5(0x177)]||_0x3da645['eventStart']||_0x3da645[_0x52dce5(0x131)];if(!_0x2a2424)continue;const _0x405fe5=new Date(_0x2a2424),_0x47409d=_0x405fe5[_0x52dce5(0x159)]();if(isNaN(_0x47409d))continue;if(_0x47409d<_0x1ef99e)continue;if(_0x47409d>_0x1ef99e+_0x16d5a1)continue;const _0x3d9d6c=(_0x3da645[_0x52dce5(0x12a)]||_0x3da645[_0x52dce5(0x151)]||'')[_0x52dce5(0x136)]();let _0x58bef6=![],_0x4d0894=[],_0x1681df=_0x3da645['event']||_0x3da645[_0x52dce5(0x151)]||'Unbekannt';if(_0x3d9d6c[_0x52dce5(0x19a)](_0x52dce5(0x10c))||_0x3d9d6c[_0x52dce5(0x19a)](_0x52dce5(0x165))||_0x3d9d6c[_0x52dce5(0x19a)]('ankunft'))_0x58bef6=!![],_0x4d0894=Array[_0x52dce5(0x12f)](_0x8f57bc);else for(const _0x1154fc of _0x8f57bc){if(_0x3d9d6c[_0x52dce5(0x19a)](_0x1154fc[_0x52dce5(0x136)]()))_0x4d0894[_0x52dce5(0x112)](_0x1154fc);}_0x4d0894[_0x52dce5(0xf2)]>0x0&&_0x4d0894['forEach'](_0x610010=>{const _0x3a321c=_0x52dce5;let _0x2412cf=0x3c;if(_0x58bef6){let _0x1b727f=0x0;Object[_0x3a321c(0x101)](_0x54115e)[_0x3a321c(0x113)](_0x4d3c2a=>{if(_0x4d3c2a>_0x1b727f)_0x1b727f=_0x4d3c2a;}),_0x2412cf=_0x1b727f>0x0?_0x1b727f:0x78;}else _0x2412cf=getWarmupRobust(_0x54115e,_0x610010);const _0x5d9c12=new Date(_0x47409d-_0x2412cf*0xea60);_0x388412[_0x3a321c(0x112)]({'eventTime':_0x47409d,'triggerTime':_0x5d9c12['getTime'](),'room':_0x610010,'minutes':_0x2412cf,'reason':_0x1681df,'isGlobal':_0x58bef6});});}}catch(_0x334c84){}_0x388412['sort']((_0x4b138f,_0x2df38c)=>_0x4b138f['triggerTime']-_0x2df38c[_0x52dce5(0x16c)]);const _0x113846=_0x388412[_0x52dce5(0x193)](0x0,0x5);await _0x13c38[_0x52dce5(0xf5)](_0x52dce5(0x199),{'val':JSON[_0x52dce5(0x16d)](_0x113846),'ack':!![]});}async function monitorEnforcements(_0x308531){const _0x365e6a=a1_0x216f1d;try{const _0x3ac351=_0x365e6a(0x17c),_0x3e694a=await _0x308531['getStateAsync'](_0x3ac351);if(!_0x3e694a||!_0x3e694a[_0x365e6a(0x12b)])return;let _0x3bd32b=[];try{_0x3bd32b=JSON['parse'](_0x3e694a[_0x365e6a(0x12b)]);}catch(_0xc40232){return;}if(!Array['isArray'](_0x3bd32b)||_0x3bd32b[_0x365e6a(0xf2)]===0x0)return;const _0x537aa5=Date['now'](),_0x5867a0=_0x308531[_0x365e6a(0xf7)][_0x365e6a(0xfd)]||[];let _0x20f3a6=![];for(let _0x39d9aa=_0x3bd32b['length']-0x1;_0x39d9aa>=0x0;_0x39d9aa--){const _0x1daf66=_0x3bd32b[_0x39d9aa];if(_0x537aa5>=_0x1daf66['until']){_0x308531[_0x365e6a(0x156)][_0x365e6a(0x104)](_0x365e6a(0x10d)+_0x1daf66[_0x365e6a(0x172)]+_0x365e6a(0x167)),_0x3bd32b[_0x365e6a(0x176)](_0x39d9aa,0x1),_0x20f3a6=!![];continue;}const _0x1bc202=_0x5867a0[_0x365e6a(0x14a)](_0x45752c=>normalize(_0x45752c[_0x365e6a(0x17a)])===normalize(_0x1daf66[_0x365e6a(0x172)])&&(_0x45752c['type']==='temperature'||_0x45752c[_0x365e6a(0xf4)]==='thermostat'));if(_0x1bc202){const _0x2cb40a=await findRelatedId(_0x308531,_0x1bc202['id'],_0x365e6a(0x10b));if(_0x2cb40a){const _0x1d1843=await _0x308531[_0x365e6a(0x153)](_0x2cb40a);_0x1d1843&&typeof _0x1d1843[_0x365e6a(0x12b)]===_0x365e6a(0x139)&&(_0x1d1843[_0x365e6a(0x12b)]<0xf&&(_0x308531[_0x365e6a(0x156)]['warn'](_0x365e6a(0x116)+_0x1daf66['room']+_0x365e6a(0xff)+_0x1d1843[_0x365e6a(0x12b)]+_0x365e6a(0x15f)+_0x1daf66[_0x365e6a(0x13e)]+_0x365e6a(0x14f)),await _0x308531[_0x365e6a(0x13a)](_0x2cb40a,_0x1daf66[_0x365e6a(0x13e)]),await logAutomationAction(_0x308531,'[FORCE]\x20'+_0x1daf66[_0x365e6a(0x172)]+':\x20'+_0x1d1843[_0x365e6a(0x12b)]+_0x365e6a(0x1a2)+_0x1daf66['target']+'¬∞C\x20(Kalender-Schutz)')));}}}_0x20f3a6&&await _0x308531[_0x365e6a(0xf5)](_0x3ac351,{'val':JSON[_0x365e6a(0x16d)](_0x3bd32b),'ack':!![]});}catch(_0x521683){_0x308531['log'][_0x365e6a(0xfc)](_0x365e6a(0x145)+_0x521683[_0x365e6a(0xee)]);}}function a1_0x5001(_0x5bcff6,_0x2fe85a){const _0x4f894b=a1_0x9918();return a1_0x5001=function(_0x30a4c8,_0x4ca68d){_0x30a4c8=_0x30a4c8-0xe5;let _0x9918b4=_0x4f894b[_0x30a4c8];return _0x9918b4;},a1_0x5001(_0x5bcff6,_0x2fe85a);}async function checkCalendarTriggers(_0x360c6c){const _0x3fb6ea=a1_0x216f1d;if(!_0x360c6c['config']['useCalendar']||!_0x360c6c[_0x3fb6ea(0xf7)][_0x3fb6ea(0x187)])return;await updateSchedulePreview(_0x360c6c);let _0x1b1efd={},_0xcaf883={};try{const _0x589d3e=await _0x360c6c[_0x3fb6ea(0x15c)](_0x3fb6ea(0x197));if(_0x589d3e&&_0x589d3e[_0x3fb6ea(0x12b)])_0x1b1efd=JSON[_0x3fb6ea(0x15e)](_0x589d3e['val']);const _0x1b8df2=await _0x360c6c['getStateAsync'](_0x3fb6ea(0xf3));if(_0x1b8df2&&_0x1b8df2['val'])_0xcaf883=JSON[_0x3fb6ea(0x15e)](_0x1b8df2[_0x3fb6ea(0x12b)]);}catch(_0x43bc59){}let _0x1c8695={'default':0x15};try{const _0x236954=await _0x360c6c[_0x3fb6ea(0x15c)](_0x3fb6ea(0x150));if(_0x236954&&_0x236954[_0x3fb6ea(0x12b)])_0x1c8695=JSON[_0x3fb6ea(0x15e)](_0x236954[_0x3fb6ea(0x12b)]);}catch(_0x271b6b){}let _0x9ef6c=[];try{const _0x8ee694=await _0x360c6c[_0x3fb6ea(0x15c)](_0x3fb6ea(0x17c));if(_0x8ee694&&_0x8ee694['val'])_0x9ef6c=JSON[_0x3fb6ea(0x15e)](_0x8ee694[_0x3fb6ea(0x12b)]);}catch(_0x27027a){}try{const _0x52bb8b=await _0x360c6c[_0x3fb6ea(0x153)](_0x360c6c[_0x3fb6ea(0xf7)][_0x3fb6ea(0x187)]+'.data.table');if(!_0x52bb8b||!_0x52bb8b[_0x3fb6ea(0x12b)])return;const _0x3e59b1=JSON['parse'](_0x52bb8b[_0x3fb6ea(0x12b)]),_0xf1516c=Date[_0x3fb6ea(0x123)](),_0x105d53=_0x360c6c[_0x3fb6ea(0xf7)]['devices']||[],_0x51af00=_0x360c6c[_0x3fb6ea(0xf7)][_0x3fb6ea(0x164)]||[];let _0x548a04=![];for(const _0x5700d6 of _0x3e59b1){if(_0x5700d6[_0x3fb6ea(0xed)]&&_0x51af00[_0x3fb6ea(0xf2)]>0x0&&!_0x51af00[_0x3fb6ea(0x19a)](_0x5700d6['_calName']))continue;const _0x259d38=_0x5700d6['_date']||_0x5700d6[_0x3fb6ea(0xfb)]||_0x5700d6[_0x3fb6ea(0x131)];if(!_0x259d38)continue;const _0x3fcae2=new Date(_0x259d38);if(isNaN(_0x3fcae2['getTime']()))continue;const _0x1cfa02=(_0x5700d6[_0x3fb6ea(0x12a)]||_0x5700d6[_0x3fb6ea(0x151)]||'')[_0x3fb6ea(0x136)]();if(_0x1cfa02[_0x3fb6ea(0x19a)](_0x3fb6ea(0x10c))||_0x1cfa02['includes']('r√ºckkehr')||_0x1cfa02[_0x3fb6ea(0x19a)](_0x3fb6ea(0x160))){let _0x55edea=0x0;Object['values'](_0x1b1efd)[_0x3fb6ea(0x113)](_0x53ab32=>{if(_0x53ab32>_0x55edea)_0x55edea=_0x53ab32;});if(_0x55edea===0x0)_0x55edea=0x78;const _0x2be6bd=_0x3fcae2[_0x3fb6ea(0x159)]()-_0x55edea*0xea60;_0xf1516c>=_0x2be6bd&&_0xf1516c<_0x3fcae2[_0x3fb6ea(0x159)]()&&(_0x360c6c[_0x3fb6ea(0xe6)]!=='normal'&&(_0x360c6c[_0x3fb6ea(0x156)][_0x3fb6ea(0x104)](_0x3fb6ea(0x17b)+_0x55edea+_0x3fb6ea(0x15d)),await _0x360c6c[_0x3fb6ea(0xf5)](_0x3fb6ea(0x16f),{'val':_0x3fb6ea(0xec),'ack':![]})));}for(const _0xff76dd of _0x105d53){if(_0xff76dd[_0x3fb6ea(0x17a)]){const _0x2a63b3=_0xff76dd[_0x3fb6ea(0x17a)][_0x3fb6ea(0x136)](),_0x146179=(_0xff76dd['name']||'')[_0x3fb6ea(0x136)]();let _0x297c80=_0x1cfa02[_0x3fb6ea(0x19a)](_0x2a63b3);!_0x297c80&&_0x146179[_0x3fb6ea(0xf2)]>0x3&&_0x1cfa02[_0x3fb6ea(0x19a)](_0x146179)&&(_0x297c80=!![]);if(_0x297c80){const _0x3ebf08=getWarmupRobust(_0x1b1efd,_0xff76dd['location']),_0x498be4=_0xcaf883[_0xff76dd[_0x3fb6ea(0x17a)]]||_0x3fb6ea(0x11b),_0x2bab8e=_0x3fcae2[_0x3fb6ea(0x159)]()-_0x3ebf08*0xea60;if(_0xf1516c>=_0x2bab8e&&_0xf1516c<_0x3fcae2[_0x3fb6ea(0x159)]()){const _0x55ee31=lastActions[_0x3fb6ea(0x18d)+_0xff76dd[_0x3fb6ea(0x17a)]];if(_0x55ee31&&_0xf1516c-_0x55ee31<CAL_COOLDOWN_MS)continue;const _0x55e267=await findRelatedId(_0x360c6c,_0xff76dd['id'],_0x3fb6ea(0x10b));if(_0x55e267){let _0x149b34=_0x1c8695[_0xff76dd[_0x3fb6ea(0x17a)]];if(_0x149b34===undefined)_0x149b34=_0x1c8695['default'];if(_0x149b34===undefined)_0x149b34=0x15;const _0x182bc8=await _0x360c6c[_0x3fb6ea(0x153)](_0x55e267);if(_0x182bc8&&typeof _0x182bc8[_0x3fb6ea(0x12b)]===_0x3fb6ea(0x139)&&_0x182bc8['val']<_0x149b34-0.5){_0x360c6c[_0x3fb6ea(0x156)][_0x3fb6ea(0x104)]('üìÖ\x20SMART\x20SCHEDULE\x20['+_0x498be4+_0x3fb6ea(0x183)+_0xff76dd[_0x3fb6ea(0x17a)]+_0x3fb6ea(0x194)+_0x1cfa02+_0x3fb6ea(0x117)+_0x149b34+'¬∞C\x20(Vorlauf:\x20'+_0x3ebf08+_0x3fb6ea(0x15d)),await _0x360c6c['setForeignStateAsync'](_0x55e267,_0x149b34),await logAutomationAction(_0x360c6c,'[CAL]\x20'+_0xff76dd['location']+_0x3fb6ea(0x138)+_0x149b34+_0x3fb6ea(0xf6)+_0x498be4+')'),lastActions['cal_'+_0xff76dd[_0x3fb6ea(0x17a)]]=_0xf1516c;const _0x20fbb1=_0x9ef6c[_0x3fb6ea(0x169)](_0x45a494=>_0x45a494[_0x3fb6ea(0x172)]===_0xff76dd[_0x3fb6ea(0x17a)]);if(_0x20fbb1!==-0x1)_0x9ef6c[_0x3fb6ea(0x176)](_0x20fbb1,0x1);_0x9ef6c[_0x3fb6ea(0x112)]({'room':_0xff76dd['location'],'target':_0x149b34,'until':_0x3fcae2[_0x3fb6ea(0x159)]()}),_0x548a04=!![];}}}}}}}_0x548a04&&await _0x360c6c[_0x3fb6ea(0xf5)](_0x3fb6ea(0x17c),{'val':JSON[_0x3fb6ea(0x16d)](_0x9ef6c),'ack':!![]});}catch(_0x4beeaa){_0x360c6c['log'][_0x3fb6ea(0xf9)](_0x3fb6ea(0x196)+_0x4beeaa[_0x3fb6ea(0xee)]);}}async function manageMpcIntervention(_0x44d25d,_0x43fbe6,_0x33c658){const _0x228f31=a1_0x216f1d;try{const _0x38e8db=_0x228f31(0x135),_0x110a68=await _0x44d25d['getStateAsync'](_0x38e8db);let _0x4e007e=[];if(_0x110a68&&_0x110a68['val'])try{_0x4e007e=JSON[_0x228f31(0x15e)](_0x110a68['val']);}catch(_0x25f0fc){}const _0x2764de=_0x4e007e['indexOf'](_0x43fbe6);if(_0x33c658===_0x228f31(0x129))_0x2764de===-0x1&&(_0x4e007e[_0x228f31(0x112)](_0x43fbe6),await _0x44d25d[_0x228f31(0xf5)](_0x38e8db,{'val':JSON[_0x228f31(0x16d)](_0x4e007e),'ack':!![]}));else _0x33c658===_0x228f31(0x18b)&&(_0x2764de!==-0x1&&(_0x4e007e[_0x228f31(0x176)](_0x2764de,0x1),await _0x44d25d['setStateAsync'](_0x38e8db,{'val':JSON[_0x228f31(0x16d)](_0x4e007e),'ack':!![]})));}catch(_0x5c792c){}}async function cleanupGhostInterventions(_0x251314){const _0x285f01=a1_0x216f1d;try{const _0x24c979='analysis.energy.mpcActiveInterventions',_0x3f5a1e=await _0x251314['getStateAsync'](_0x24c979);if(!_0x3f5a1e||!_0x3f5a1e[_0x285f01(0x12b)])return;const _0x13662f=JSON['parse'](_0x3f5a1e[_0x285f01(0x12b)]);if(!Array[_0x285f01(0x19c)](_0x13662f)||_0x13662f['length']===0x0)return;let _0xc641f8={'default':0x15};try{const _0x297546=await _0x251314[_0x285f01(0x15c)](_0x285f01(0x150));if(_0x297546&&_0x297546[_0x285f01(0x12b)])_0xc641f8=JSON['parse'](_0x297546[_0x285f01(0x12b)]);}catch(_0x1c3ffd){}let _0x5db5b7=[];try{const _0x5d5edf=await _0x251314[_0x285f01(0x15c)](_0x285f01(0x14d));if(_0x5d5edf&&_0x5d5edf['val'])_0x5db5b7=JSON[_0x285f01(0x15e)](_0x5d5edf[_0x285f01(0x12b)]);}catch(_0x254250){}let _0x4b0816={},_0x1d037e=![];try{const _0x1aa554=await _0x251314[_0x285f01(0x15c)](_0x285f01(0x18e));if(_0x1aa554&&_0x1aa554['val'])_0x4b0816=JSON[_0x285f01(0x15e)](_0x1aa554['val']);}catch(_0x330ead){}if(_0x4b0816[_0x285f01(0x16b)]){const _0x4db653=Date['now']();for(const [_0x4d7628,_0x503adc]of Object[_0x285f01(0x12e)](_0x4b0816[_0x285f01(0x16b)])){_0x4db653-_0x503adc>PENALTY_TTL&&(delete _0x4b0816[_0x4d7628],delete _0x4b0816[_0x285f01(0x16b)][_0x4d7628],_0x1d037e=!![],_0x251314['log'][_0x285f01(0x104)](_0x285f01(0xe7)+_0x4d7628+_0x285f01(0x1a4)));}}const _0x446601=_0x251314[_0x285f01(0xf7)]['devices']||[];let _0x3a774b=![];for(let _0x654d8a=_0x13662f[_0x285f01(0xf2)]-0x1;_0x654d8a>=0x0;_0x654d8a--){const _0x38ee14=_0x13662f[_0x654d8a],_0x358b76=_0x446601['find'](_0xe24d2a=>normalize(_0xe24d2a[_0x285f01(0x17a)])===normalize(_0x38ee14)&&(_0xe24d2a[_0x285f01(0xf4)]===_0x285f01(0x186)||_0xe24d2a[_0x285f01(0xf4)]===_0x285f01(0x144)));if(!_0x358b76){_0x251314[_0x285f01(0x156)][_0x285f01(0xf9)]('üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x38ee14+_0x285f01(0x126)),_0x13662f[_0x285f01(0x176)](_0x654d8a,0x1),_0x3a774b=!![];continue;}if(_0x358b76){const _0x154f93=await findRelatedId(_0x251314,_0x358b76['id'],_0x285f01(0x10b)),_0x2c2f15=await _0x251314[_0x285f01(0x153)](_0x358b76['id']);if(_0x154f93){const _0x13fdf9=await _0x251314[_0x285f01(0x153)](_0x154f93);if(_0x13fdf9&&typeof _0x13fdf9[_0x285f01(0x12b)]===_0x285f01(0x139)){let _0x5ca7f7=![],_0x15b0f4='';Math[_0x285f01(0x111)](_0x13fdf9[_0x285f01(0x12b)]-ECO_TEMP)>0.5&&(_0x5ca7f7=!![],_0x15b0f4=_0x285f01(0x125));if(!_0x5ca7f7&&_0x2c2f15&&typeof _0x2c2f15[_0x285f01(0x12b)]===_0x285f01(0x139)){const _0x7ecf13=_0xc641f8[_0x38ee14]||_0xc641f8[_0x285f01(0x19d)]||0x15;_0x2c2f15[_0x285f01(0x12b)]<_0x7ecf13+0.2&&(_0x5ca7f7=!![],_0x15b0f4='too_cold');}if(_0x5ca7f7){if(_0x15b0f4===_0x285f01(0x125)){_0x251314[_0x285f01(0x156)]['info'](_0x285f01(0x11a)+_0x38ee14+'\x20ist\x20auf\x20'+_0x13fdf9['val']+_0x285f01(0x100)+ECO_TEMP+_0x285f01(0x14e));const _0x10303a=lastActions[_0x285f01(0x18d)+_0x38ee14],_0x2e0f46=_0x10303a&&Date[_0x285f01(0x123)]()-_0x10303a<0x2*0x3c*0x3e8;if(!_0x2e0f46&&_0x13fdf9['val']>ECO_TEMP+0.5){_0x251314['sendToPythonWrapper']&&(_0x251314[_0x285f01(0x156)][_0x285f01(0x104)]('üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20'+_0x38ee14+'\x20wurde\x20manuell\x20erh√∂ht.'),_0x251314['sendToPythonWrapper'](_0x285f01(0x192),{'room':_0x38ee14}));const _0x4c5ab3=_0x38ee14+'_'+new Date()[_0x285f01(0x11f)]();if(!_0x4b0816[_0x4c5ab3]){_0x4b0816[_0x4c5ab3]=0x1;if(!_0x4b0816[_0x285f01(0x16b)])_0x4b0816[_0x285f01(0x16b)]={};_0x4b0816[_0x285f01(0x16b)][_0x4c5ab3]=Date[_0x285f01(0x123)](),_0x1d037e=!![];}}else _0x2e0f46&&_0x251314[_0x285f01(0x156)][_0x285f01(0x104)]('üìÖ\x20[MPC\x20INFO]\x20'+_0x38ee14+_0x285f01(0x141));}else{if(_0x15b0f4==='too_cold'){let _0x2bf173=![];if(_0x5db5b7['find'](_0x5ebed9=>_0x5ebed9[_0x285f01(0x172)]===_0x38ee14))_0x2bf173=!![];const _0x58c1d7=_0x446601[_0x285f01(0x182)](_0x5189c4=>normalize(_0x5189c4[_0x285f01(0x17a)])===normalize(_0x38ee14)&&(_0x5189c4[_0x285f01(0xf4)]===_0x285f01(0xf1)||_0x5189c4[_0x285f01(0xf4)]===_0x285f01(0x12d)||_0x5189c4[_0x285f01(0xf4)]===_0x285f01(0x180)));for(const _0x4ebcbf of _0x58c1d7){try{const _0x544b84=await _0x251314[_0x285f01(0x153)](_0x4ebcbf['id']);if(_0x544b84&&(_0x544b84[_0x285f01(0x12b)]===!![]||_0x544b84[_0x285f01(0x12b)]===0x1||String(_0x544b84[_0x285f01(0x12b)])['toLowerCase']()==='open'))_0x2bf173=!![];}catch(_0x3a0f7b){}}if(_0x2bf173)_0x251314[_0x285f01(0x156)]['info'](_0x285f01(0x146)+_0x38ee14+_0x285f01(0x188));else{const _0x18f8ca=_0xc641f8[_0x38ee14]||_0xc641f8['default']||0x15;_0x251314[_0x285f01(0x156)][_0x285f01(0x104)](_0x285f01(0x195)+_0x38ee14+_0x285f01(0x162)+_0x2c2f15['val']+_0x285f01(0x163)+(_0x18f8ca+0.2)+'¬∞C).\x20Sparmodus\x20beendet!'),await _0x251314[_0x285f01(0x13a)](_0x154f93,_0x18f8ca),await logAutomationAction(_0x251314,_0x285f01(0x10e)+_0x38ee14+_0x285f01(0x10f)+_0x18f8ca+'¬∞C'),lastActions[_0x285f01(0x137)+_0x38ee14]=Date[_0x285f01(0x123)]();}}}_0x13662f[_0x285f01(0x176)](_0x654d8a,0x1),_0x3a774b=!![];}}}}}_0x3a774b&&await _0x251314[_0x285f01(0xf5)](_0x24c979,{'val':JSON[_0x285f01(0x16d)](_0x13662f),'ack':!![]}),_0x1d037e&&await _0x251314[_0x285f01(0xf5)](_0x285f01(0x18e),{'val':JSON[_0x285f01(0x16d)](_0x4b0816),'ack':!![]});}catch(_0x5a0c32){}}async function applyEnergySavings(_0x3ec226,_0x43b55b){const _0x521e38=a1_0x216f1d;await cleanupGhostInterventions(_0x3ec226);if(!_0x43b55b||_0x43b55b[_0x521e38(0xf2)]===0x0)return;const _0x1e6eb2=_0x3ec226[_0x521e38(0xf7)][_0x521e38(0xfd)]||[],_0x66a03d=Date[_0x521e38(0x123)]();for(const _0x415d8c of _0x43b55b){const _0x3fd2bc=_0x415d8c[_0x521e38(0x172)],_0x5cb176=_0x415d8c[_0x521e38(0x109)],_0x2cc061=_0x415d8c[_0x521e38(0x13e)]||0x15;if(lastActions['rescue_'+_0x3fd2bc]&&_0x66a03d-lastActions[_0x521e38(0x137)+_0x3fd2bc]<RESCUE_LOCK_MS)continue;const _0x4226d4=_0x1e6eb2['find'](_0x48aa7f=>normalize(_0x48aa7f[_0x521e38(0x17a)])===normalize(_0x3fd2bc)&&(_0x48aa7f[_0x521e38(0xf4)]==='temperature'||_0x48aa7f[_0x521e38(0xf4)]===_0x521e38(0x144)));if(!_0x4226d4)continue;const _0x5438e5=await findRelatedId(_0x3ec226,_0x4226d4['id'],_0x521e38(0x10b));if(_0x5438e5){if(lastActions['mpc_'+_0x3fd2bc]&&_0x66a03d-lastActions[_0x521e38(0x155)+_0x3fd2bc]<0x1e*0x3c*0x3e8)continue;const _0x4e0a9b=await _0x3ec226[_0x521e38(0x153)](_0x5438e5);if(_0x4e0a9b&&typeof _0x4e0a9b['val']===_0x521e38(0x139)){const _0x52f1e5=_0x4e0a9b[_0x521e38(0x12b)];_0x52f1e5!==ECO_TEMP&&await manageMpcIntervention(_0x3ec226,_0x3fd2bc,_0x521e38(0x18b));if(_0x5cb176>0x1e)_0x52f1e5>ECO_TEMP+0.5&&(_0x3ec226[_0x521e38(0x156)]['info'](_0x521e38(0x184)+_0x3fd2bc+'\x20auf\x20'+ECO_TEMP+_0x521e38(0x13f)+_0x5cb176+'\x20min)'),await _0x3ec226[_0x521e38(0x13a)](_0x5438e5,ECO_TEMP),await manageMpcIntervention(_0x3ec226,_0x3fd2bc,_0x521e38(0x129)),lastActions['mpc_'+_0x3fd2bc]=_0x66a03d,await logAutomationAction(_0x3ec226,_0x521e38(0x15a)+_0x3fd2bc+_0x521e38(0x143)+ECO_TEMP+'¬∞C'));else _0x5cb176<=0xf&&(_0x52f1e5<_0x2cc061&&(_0x3ec226[_0x521e38(0x156)][_0x521e38(0x104)](_0x521e38(0x157)+_0x3fd2bc+_0x521e38(0x110)+_0x2cc061+_0x521e38(0x185)),await _0x3ec226[_0x521e38(0x13a)](_0x5438e5,_0x2cc061),await manageMpcIntervention(_0x3ec226,_0x3fd2bc,_0x521e38(0x18b)),lastActions[_0x521e38(0x155)+_0x3fd2bc]=_0x66a03d,await logAutomationAction(_0x3ec226,'[MPC]\x20'+_0x3fd2bc+':\x20Aufheizen\x20auf\x20'+_0x2cc061+'¬∞C')));}}else _0x3ec226[_0x521e38(0x156)]['warn'](_0x521e38(0x114)+_0x3fd2bc+'\x20gefunden!');}}module[a1_0x216f1d(0xfe)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};