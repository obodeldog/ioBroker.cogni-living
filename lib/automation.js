const a1_0x3502ac=a1_0x934e;(function(_0xd0a7b3,_0xd72078){const _0x3fdd4d=a1_0x934e,_0x359295=_0xd0a7b3();while(!![]){try{const _0x569660=-parseInt(_0x3fdd4d(0xa0))/0x1+parseInt(_0x3fdd4d(0x111))/0x2*(-parseInt(_0x3fdd4d(0x130))/0x3)+parseInt(_0x3fdd4d(0xb7))/0x4+-parseInt(_0x3fdd4d(0x129))/0x5+parseInt(_0x3fdd4d(0xb9))/0x6+parseInt(_0x3fdd4d(0xe0))/0x7+parseInt(_0x3fdd4d(0xe6))/0x8*(parseInt(_0x3fdd4d(0x143))/0x9);if(_0x569660===_0xd72078)break;else _0x359295['push'](_0x359295['shift']());}catch(_0x55b01f){_0x359295['push'](_0x359295['shift']());}}}(a1_0x1806,0xe1829));const a1_0xfbfcb4=(function(){let _0x31c81d=!![];return function(_0x3aeead,_0x2b2ed8){const _0x3f0568=_0x31c81d?function(){const _0x3e6996=a1_0x934e;if(_0x2b2ed8){const _0x51778b=_0x2b2ed8[_0x3e6996(0xe9)](_0x3aeead,arguments);return _0x2b2ed8=null,_0x51778b;}}:function(){};return _0x31c81d=![],_0x3f0568;};}()),a1_0x4bbd06=a1_0xfbfcb4(this,function(){const _0x517655=a1_0x934e;return a1_0x4bbd06[_0x517655(0xb4)]()['search'](_0x517655(0xbf))[_0x517655(0xb4)]()[_0x517655(0x11a)](a1_0x4bbd06)[_0x517655(0xac)]('(((.+)+)+)+$');});a1_0x4bbd06();'use strict';function a1_0x934e(_0x39c003,_0x16586a){const _0x15e9ea=a1_0x1806();return a1_0x934e=function(_0x4bbd06,_0xfbfcb4){_0x4bbd06=_0x4bbd06-0x9d;let _0x1806bf=_0x15e9ea[_0x4bbd06];return _0x1806bf;},a1_0x934e(_0x39c003,_0x16586a);}function a1_0x1806(){const _0x5f1fd0=['.4.SET_TEMPERATURE','_meta','valve','getTime','setForeignStateAsync','\x27\x20(Match:\x20','unit','type','eventStart','reason','parse','default','rescue_','analysis.automation.confidenceThreshold','ðŸ“…\x20SMART\x20SCHEDULE\x20[','Â°C!\x20(Puffer:\x20','stringify','contact','726762VVSwGa','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','analysis.energy.ventilationAlerts','findIndex','value.valve','from','\x20min)','entries','dimmer','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','\x20min).','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','search','filter','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','exports','getForeignObjectsAsync','warn','[CAL]\x20','[MPC]\x20','toString','.1.LEVEL','PrÃ¤diktion:\x20','462168SPRZaQ','analysis.energy.mpcActiveInterventions','3729456GJlnIR','too_cold','useCalendar','.data.table','info','temp','(((.+)+)+)+$','forEach','valve_position','Nicht\x20gefunden','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','switch','\x20->\x20Schalte\x20','.1.TEMPERATURE','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','room','\x20wurde\x20manuell\x20erhÃ¶ht.','sensor','indexOf','[FORCE]\x20','messwert','stellwert','splice','consultButler','sendToPythonWrapper','ðŸ§¹\x20[MPC\x20CLEANUP]\x20','openknx','analysis.energy.rlPenalties','log',')\x20aktiv.\x20Heize\x20auf\x20','./ai_agent','currentSystemMode','soll','temperature','off','Â°C).\x20Entferne\x20Status.','split','_date','12055435euNnAg','toLowerCase','summary','manual','state','Calendar\x20Check\x20Error:\x20','24FttgyS','ACTUAL_TEMPERATURE','Â°C.','apply','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20',':\x20Absenkung\x20auf\x20','calendarInstance','PERFECT','normal','thermostat.setpoint','system.mode','open','.4.VALVE_STATE','analysis.energy.warmupTargets','analysis.automation.actionLog','.1.SET_POINT_TEMPERATURE','minutes_safe','Â°C\x20(nicht\x20','abs','write','thermostat','string','\x20auf\x20','setStateAsync','local_temperature','ACTUAL','config','remove','error','Classic','common','replace','map','sort','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','rÃ¼ckkehr','level.temperature','score','Unknown','slice','urlaub\x20ende','current_heating_setpoint','position','4AsegdI','Fehlt','\x20ist\x20auf\x20','name','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','Manuelles\x20Mapping','calendarSelection','number','Â°C\x20(Kalender-Schutz)','constructor','ankunft','level','wert','push',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','.1.ACTUAL_TEMPERATURE','ðŸ“…\x20[MPC\x20INFO]\x20','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','find','analysis.energy.warmupSources','triggerTime','getStateAsync','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','4907495UoxIov','now','mpc_','val','includes','devices','values','1827354LBCbgs','active','\x20erreicht\x20Limit\x20(','length','target_temperature','unshift','isArray','ist','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20','event','add','pi_heating_demand','_calName','message','getForeignObjectAsync','getForeignStateAsync','analysis.energy.warmupTimes','setpoint','analysis.energy.activeEnforcements','4172589ogHLky','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','approved','trim','Â°C\x20(via\x20','hm-rpc','valveMapping','location','getHours',':\x20Aufheizen\x20auf\x20','Â°C!\x20(Puffer\x20leer).','cal_','until','analysis.automation.lastAction','target'];a1_0x1806=function(){return _0x5f1fd0;};return a1_0x1806();}const aiAgent=require(a1_0x3502ac(0xd8)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x6e09fe){const _0x2eed89=a1_0x3502ac;if(!_0x6e09fe)return'';return _0x6e09fe[_0x2eed89(0xe1)]()['replace'](/\s+/g,'')[_0x2eed89(0x146)]();}function getWarmupRobust(_0x4e35c9,_0x439ebf){const _0x25a9c2=a1_0x3502ac;if(!_0x4e35c9||!_0x439ebf)return 0x3c;if(_0x4e35c9[_0x439ebf]!==undefined)return _0x4e35c9[_0x439ebf];const _0x38f6b8=_0x439ebf[_0x25a9c2(0xe1)]()[_0x25a9c2(0x105)](/Ã¤/g,'ae')[_0x25a9c2(0x105)](/Ã¶/g,'oe')[_0x25a9c2(0x105)](/Ã¼/g,'ue')[_0x25a9c2(0x105)](/ÃŸ/g,'ss')[_0x25a9c2(0x105)](/\s+/g,'_')[_0x25a9c2(0x105)](/[^a-z0-9_]/g,'');if(_0x4e35c9[_0x38f6b8]!==undefined)return _0x4e35c9[_0x38f6b8];return 0x3c;}async function logAutomationAction(_0x5430f6,_0x42cebf){const _0xdac8ac=a1_0x3502ac;await _0x5430f6['setStateAsync'](_0xdac8ac(0x150),{'val':_0x42cebf,'ack':!![]});try{const _0x2a55ac=_0xdac8ac(0xf4),_0x2c9794=await _0x5430f6[_0xdac8ac(0x127)](_0x2a55ac);let _0x28bfc8=[];if(_0x2c9794&&_0x2c9794['val'])try{_0x28bfc8=JSON['parse'](_0x2c9794[_0xdac8ac(0x12c)]);}catch(_0x300c84){}_0x28bfc8[_0xdac8ac(0x135)]({'ts':Date[_0xdac8ac(0x12a)](),'msg':_0x42cebf});if(_0x28bfc8[_0xdac8ac(0x133)]>0x32)_0x28bfc8=_0x28bfc8[_0xdac8ac(0x10d)](0x0,0x32);await _0x5430f6[_0xdac8ac(0xfd)](_0x2a55ac,{'val':JSON[_0xdac8ac(0x9e)](_0x28bfc8),'ack':!![]});}catch(_0xf6169c){}}async function handlePrediction(_0x346421,_0x5df8f5,_0x531dc0){const _0x43e0d6=a1_0x3502ac;if(!_0x5df8f5||_0x5df8f5===_0x43e0d6(0x10c))return;let _0x39b189=_0x43e0d6(0xdc),_0x413ba8=0.6;try{const _0x201de8=await _0x346421['getStateAsync']('analysis.automation.mode');if(_0x201de8&&_0x201de8[_0x43e0d6(0x12c)])_0x39b189=_0x201de8[_0x43e0d6(0x12c)];const _0x44bfdb=await _0x346421['getStateAsync'](_0x43e0d6(0x15f));if(_0x44bfdb&&_0x44bfdb[_0x43e0d6(0x12c)])_0x413ba8=_0x44bfdb['val'];}catch(_0x123ff2){}if(_0x39b189===_0x43e0d6(0xdc)||_0x531dc0<_0x413ba8)return;const _0x1cc309=Date[_0x43e0d6(0x12a)]();if(lastActions[_0x5df8f5]&&_0x1cc309-lastActions[_0x5df8f5]<COOLDOWN_MS)return;const _0x5ca3c7=_0x346421['config'][_0x43e0d6(0x12e)]||[],_0x25c19a=normalize(_0x5df8f5),_0x2ba90a=_0x5ca3c7[_0x43e0d6(0x124)](_0x2c3cbd=>normalize(_0x2c3cbd[_0x43e0d6(0x14a)])===_0x25c19a&&(_0x2c3cbd[_0x43e0d6(0x159)]==='light'||_0x2c3cbd[_0x43e0d6(0x159)]===_0x43e0d6(0xa8)||_0x2c3cbd[_0x43e0d6(0x159)]===_0x43e0d6(0xc4)));if(!_0x2ba90a)return;const _0x4bd526=await aiAgent[_0x43e0d6(0xd1)](_0x346421,_0x5df8f5,_0x2ba90a[_0x43e0d6(0x114)],_0x531dc0);if(!_0x4bd526[_0x43e0d6(0x145)])return;const _0x29cefe=_0x43e0d6(0xb6)+_0x5df8f5+_0x43e0d6(0xc5)+_0x2ba90a[_0x43e0d6(0x114)]+'\x20('+_0x4bd526[_0x43e0d6(0x15b)]+')';await logAutomationAction(_0x346421,'['+_0x39b189['toUpperCase']()+']\x20'+_0x29cefe);if(_0x39b189===_0x43e0d6(0x131)){const _0x525d6c=await _0x346421[_0x43e0d6(0x13f)](_0x2ba90a['id']);(!_0x525d6c||!_0x525d6c[_0x43e0d6(0x12c)]&&_0x525d6c[_0x43e0d6(0x12c)]!==!![])&&await _0x346421[_0x43e0d6(0x156)](_0x2ba90a['id'],!![]),lastActions[_0x5df8f5]=_0x1cc309;}}async function findRelatedId(_0x3c5c54,_0x1a8d83,_0x2fb6cf=a1_0x3502ac(0x141)){const _0x5371ea=a1_0x3502ac;if(_0x2fb6cf==='setpoint'&&_0x3c5c54[_0x5371ea(0x100)]['thermostatMapping']){let _0x532577=_0x3c5c54[_0x5371ea(0x100)]['thermostatMapping'];if(typeof _0x532577===_0x5371ea(0xfb))try{_0x532577=JSON['parse'](_0x532577);}catch(_0x26e580){}if(_0x532577&&_0x532577[_0x1a8d83])return _0x532577[_0x1a8d83];}if(_0x2fb6cf===_0x5371ea(0x154)&&_0x3c5c54['config'][_0x5371ea(0x149)]){let _0xe3117b=_0x3c5c54['config'][_0x5371ea(0x149)];if(typeof _0xe3117b==='string')try{_0xe3117b=JSON['parse'](_0xe3117b);}catch(_0x14e391){}if(_0xe3117b&&_0xe3117b[_0x1a8d83])return _0xe3117b[_0x1a8d83];}let _0x4df76e=[];if(_0x2fb6cf===_0x5371ea(0x141))_0x4df76e=[{'s':_0x5371ea(0x120),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x5371ea(0xc6),'t':_0x5371ea(0xf5)},{'s':_0x5371ea(0xc6),'t':_0x5371ea(0x152)},{'s':_0x5371ea(0xe7),'t':'SET_POINT_TEMPERATURE'},{'s':_0x5371ea(0xfe),'t':'occupied_heating_setpoint'},{'s':_0x5371ea(0xfe),'t':_0x5371ea(0x10f)},{'s':'temperature','t':_0x5371ea(0x134)},{'s':_0x5371ea(0xff),'t':'SET'},{'s':'Ist','t':'Soll'},{'s':_0x5371ea(0xdb),'t':_0x5371ea(0x141)}];else _0x2fb6cf===_0x5371ea(0x154)&&(_0x4df76e=[{'s':_0x5371ea(0x120),'t':_0x5371ea(0xb5)},{'s':_0x5371ea(0xc6),'t':'.1.LEVEL'},{'s':_0x5371ea(0xc6),'t':_0x5371ea(0xf2)},{'s':_0x5371ea(0xfe),'t':_0x5371ea(0x13b)},{'s':_0x5371ea(0xdb),'t':_0x5371ea(0xc1)},{'s':_0x5371ea(0xdb),'t':_0x5371ea(0x11c)}]);for(const _0x523aca of _0x4df76e){if(_0x1a8d83[_0x5371ea(0x12d)](_0x523aca['s'])){const _0x47d7df=_0x1a8d83['replace'](_0x523aca['s'],_0x523aca['t']),_0x4423b7=await _0x3c5c54[_0x5371ea(0x13e)](_0x47d7df);if(_0x4423b7)return _0x47d7df;}}try{const _0xf348b4=_0x1a8d83[_0x5371ea(0xde)]('.');if(_0xf348b4[_0x5371ea(0x133)]>0x2){const _0x3b0071=_0xf348b4[_0x5371ea(0x10d)](0x0,-0x1)['join']('.'),_0x4d6be4=await _0x3c5c54[_0x5371ea(0xb0)](_0x3b0071+'.*'),_0x8ef52c=[],_0x2d258f=_0x1a8d83[_0x5371ea(0xde)](/[._]+/)[_0x5371ea(0xad)](_0x1b5b31=>![_0x5371ea(0xd4),'0',_0x5371ea(0x148),_0x5371ea(0x137),_0x5371ea(0x11d),'temperature','actual',_0x5371ea(0xcb),_0x5371ea(0xce),_0x5371ea(0xe4)]['includes'](_0x1b5b31[_0x5371ea(0xe1)]()));for(const [_0x7dd12,_0x4230bf]of Object[_0x5371ea(0xa7)](_0x4d6be4)){if(_0x7dd12===_0x1a8d83)continue;if(_0x4230bf&&_0x4230bf['common']){const _0x5b51b7=_0x7dd12[_0x5371ea(0xe1)](),_0x1733d0=(_0x4230bf[_0x5371ea(0x104)]['role']||'')['toLowerCase'](),_0x1c1821=(_0x4230bf['common'][_0x5371ea(0x158)]||'')['toLowerCase']();let _0x35f90d=![];if(_0x2fb6cf===_0x5371ea(0x141)&&_0x4230bf[_0x5371ea(0x104)][_0x5371ea(0xf9)]===!![])_0x35f90d=_0x5b51b7[_0x5371ea(0x12d)]('set')||_0x5b51b7[_0x5371ea(0x12d)](_0x5371ea(0xda))||_0x5b51b7[_0x5371ea(0x12d)](_0x5371ea(0x151))||_0x1733d0[_0x5371ea(0x12d)](_0x5371ea(0x10a))||_0x1733d0[_0x5371ea(0x12d)](_0x5371ea(0xef));else _0x2fb6cf==='valve'&&(_0x35f90d=_0x5b51b7[_0x5371ea(0x12d)](_0x5371ea(0x11c))||_0x5b51b7['includes'](_0x5371ea(0x154))||_0x5b51b7[_0x5371ea(0x12d)](_0x5371ea(0xcf))||_0x5b51b7['includes'](_0x5371ea(0x110))||_0x1733d0[_0x5371ea(0x12d)]('level.valve')||_0x1733d0[_0x5371ea(0x12d)](_0x5371ea(0xa4))||_0x1c1821[_0x5371ea(0x12d)]('%'));if(_0x35f90d){const _0x4503ab=_0x7dd12['split'](/[._]+/)[_0x5371ea(0x106)](_0x112e07=>_0x112e07[_0x5371ea(0xe1)]());let _0x2b0d76=0x0;_0x2d258f[_0x5371ea(0xc0)](_0x2a5e1c=>{const _0x879d98=_0x5371ea;if(_0x4503ab['includes'](_0x2a5e1c[_0x879d98(0xe1)]()))_0x2b0d76++;}),_0x8ef52c[_0x5371ea(0x11e)]({'id':_0x7dd12,'score':_0x2b0d76});}}}if(_0x8ef52c['length']>0x0){_0x8ef52c[_0x5371ea(0x107)]((_0x5ca8ee,_0x208382)=>_0x208382[_0x5371ea(0x10b)]-_0x5ca8ee['score']);if(_0x8ef52c[0x0]['score']>0x0)return _0x8ef52c[0x0]['id'];}}}catch(_0x3b4b07){}return null;}async function scanThermostats(_0x53f8a3){const _0x2e86c8=a1_0x3502ac,_0x502c1c=_0x53f8a3[_0x2e86c8(0x100)]['devices']||[],_0x240d4c=[],_0x48337e=_0x502c1c['filter'](_0x1b44ee=>_0x1b44ee['id']&&_0x1b44ee['id'][_0x2e86c8(0x12d)](_0x2e86c8(0xdb))||_0x1b44ee[_0x2e86c8(0x159)]&&[_0x2e86c8(0xdb),'thermostat',_0x2e86c8(0xcb)][_0x2e86c8(0x12d)](_0x1b44ee[_0x2e86c8(0x159)])||_0x1b44ee[_0x2e86c8(0x114)]&&_0x1b44ee[_0x2e86c8(0x114)][_0x2e86c8(0xe1)]()[_0x2e86c8(0x12d)](_0x2e86c8(0xbe)));for(const _0x55ad92 of _0x48337e){const _0x4b80d1=await findRelatedId(_0x53f8a3,_0x55ad92['id'],_0x2e86c8(0x141)),_0xb2db6e=await findRelatedId(_0x53f8a3,_0x55ad92['id'],'valve');let _0x562114=_0x2e86c8(0xc2),_0x281973=![],_0x1bfeab=_0x53f8a3[_0x2e86c8(0x100)]['thermostatMapping']||{};if(typeof _0x1bfeab===_0x2e86c8(0xfb))try{_0x1bfeab=JSON['parse'](_0x1bfeab);}catch(_0x5cc441){}let _0x2117ed=_0x53f8a3[_0x2e86c8(0x100)][_0x2e86c8(0x149)]||{};if(typeof _0x2117ed===_0x2e86c8(0xfb))try{_0x2117ed=JSON[_0x2e86c8(0x15c)](_0x2117ed);}catch(_0x3ef779){}if(_0x1bfeab[_0x55ad92['id']]&&_0x1bfeab[_0x55ad92['id']]===_0x4b80d1||_0x2117ed[_0x55ad92['id']]&&_0x2117ed[_0x55ad92['id']]===_0xb2db6e)_0x562114=_0x2e86c8(0x116),_0x281973=!![];else(_0x4b80d1||_0xb2db6e)&&(_0x562114='Auto-Erkennung');_0x240d4c[_0x2e86c8(0x11e)]({'room':_0x55ad92['location']||'Unbekannt','sensorId':_0x55ad92['id'],'setpointId':_0x4b80d1||'-','valveId':_0xb2db6e||'-','source':_0x562114,'isManual':_0x281973,'status':_0x4b80d1&&_0xb2db6e?_0x2e86c8(0xed):_0x4b80d1?'OK':_0x2e86c8(0x112)});}return _0x240d4c[_0x2e86c8(0x107)]((_0x54ac70,_0x588778)=>_0x54ac70[_0x2e86c8(0xc9)]['localeCompare'](_0x588778[_0x2e86c8(0xc9)]));}async function updateSchedulePreview(_0x51f5b2){const _0x2006aa=a1_0x3502ac;if(!_0x51f5b2[_0x2006aa(0x100)][_0x2006aa(0xbb)]||!_0x51f5b2[_0x2006aa(0x100)][_0x2006aa(0xec)])return;let _0x589700={};try{const _0x5e8484=await _0x51f5b2[_0x2006aa(0x127)](_0x2006aa(0x140));if(_0x5e8484&&_0x5e8484[_0x2006aa(0x12c)])_0x589700=JSON[_0x2006aa(0x15c)](_0x5e8484[_0x2006aa(0x12c)]);}catch(_0x5dbec0){}const _0x149b89=[],_0x1c6cb1=Date[_0x2006aa(0x12a)](),_0x54522f=0x30*0x3c*0x3c*0x3e8;try{const _0x256767=await _0x51f5b2[_0x2006aa(0x13f)](_0x51f5b2[_0x2006aa(0x100)][_0x2006aa(0xec)]+_0x2006aa(0xbc));if(!_0x256767||!_0x256767[_0x2006aa(0x12c)])return;const _0x32c3bf=JSON['parse'](_0x256767[_0x2006aa(0x12c)]),_0x114b7b=_0x51f5b2[_0x2006aa(0x100)]['calendarSelection']||[],_0x4d602e=_0x51f5b2[_0x2006aa(0x100)][_0x2006aa(0x12e)]||[],_0x47e8a7=new Set();_0x4d602e[_0x2006aa(0xc0)](_0x46a027=>{const _0x51d028=_0x2006aa;if(_0x46a027['location'])_0x47e8a7[_0x51d028(0x13a)](_0x46a027['location']);});for(const _0x3c7462 of _0x32c3bf){if(_0x3c7462[_0x2006aa(0x13c)]&&_0x114b7b['length']>0x0&&!_0x114b7b[_0x2006aa(0x12d)](_0x3c7462[_0x2006aa(0x13c)]))continue;const _0x35f684=_0x3c7462[_0x2006aa(0xdf)]||_0x3c7462[_0x2006aa(0x15a)]||_0x3c7462['date'];if(!_0x35f684)continue;const _0x43e174=new Date(_0x35f684),_0x3da22d=_0x43e174[_0x2006aa(0x155)]();if(isNaN(_0x3da22d))continue;if(_0x3da22d<_0x1c6cb1)continue;if(_0x3da22d>_0x1c6cb1+_0x54522f)continue;const _0x324a20=(_0x3c7462[_0x2006aa(0x139)]||_0x3c7462[_0x2006aa(0xe2)]||'')[_0x2006aa(0xe1)]();let _0x2add0a=![],_0xa758c8=[],_0x3b0614=_0x3c7462[_0x2006aa(0x139)]||_0x3c7462[_0x2006aa(0xe2)]||'Unbekannt';if(_0x324a20[_0x2006aa(0x12d)]('urlaub\x20ende')||_0x324a20[_0x2006aa(0x12d)](_0x2006aa(0x109))||_0x324a20[_0x2006aa(0x12d)](_0x2006aa(0x11b)))_0x2add0a=!![],_0xa758c8=Array[_0x2006aa(0xa5)](_0x47e8a7);else for(const _0x52c01f of _0x47e8a7){if(_0x324a20[_0x2006aa(0x12d)](_0x52c01f['toLowerCase']()))_0xa758c8[_0x2006aa(0x11e)](_0x52c01f);}_0xa758c8[_0x2006aa(0x133)]>0x0&&_0xa758c8['forEach'](_0x3f997a=>{const _0x1953ac=_0x2006aa;let _0x2aa421=0x3c;if(_0x2add0a){let _0x26b23d=0x0;Object[_0x1953ac(0x12f)](_0x589700)['forEach'](_0x90a819=>{if(_0x90a819>_0x26b23d)_0x26b23d=_0x90a819;}),_0x2aa421=_0x26b23d>0x0?_0x26b23d:0x78;}else _0x2aa421=getWarmupRobust(_0x589700,_0x3f997a);const _0x125f52=new Date(_0x3da22d-_0x2aa421*0xea60);_0x149b89[_0x1953ac(0x11e)]({'eventTime':_0x3da22d,'triggerTime':_0x125f52['getTime'](),'room':_0x3f997a,'minutes':_0x2aa421,'reason':_0x3b0614,'isGlobal':_0x2add0a});});}}catch(_0x45403f){}_0x149b89['sort']((_0x27e397,_0x2170eb)=>_0x27e397[_0x2006aa(0x126)]-_0x2170eb[_0x2006aa(0x126)]);const _0x1a6bf1=_0x149b89['slice'](0x0,0x5);await _0x51f5b2[_0x2006aa(0xfd)]('analysis.energy.schedulePreview',{'val':JSON[_0x2006aa(0x9e)](_0x1a6bf1),'ack':!![]});}async function monitorEnforcements(_0x566cf9){const _0x2abf6e=a1_0x3502ac;try{const _0x21dcbc=_0x2abf6e(0x142),_0x2fded1=await _0x566cf9[_0x2abf6e(0x127)](_0x21dcbc);if(!_0x2fded1||!_0x2fded1[_0x2abf6e(0x12c)])return;let _0x5426eb=[];try{_0x5426eb=JSON[_0x2abf6e(0x15c)](_0x2fded1[_0x2abf6e(0x12c)]);}catch(_0x2dc4f3){return;}if(!Array[_0x2abf6e(0x136)](_0x5426eb)||_0x5426eb['length']===0x0)return;const _0x1231a0=Date['now'](),_0x3e9102=_0x566cf9['config'][_0x2abf6e(0x12e)]||[];let _0x1625c7=![];for(let _0x364157=_0x5426eb[_0x2abf6e(0x133)]-0x1;_0x364157>=0x0;_0x364157--){const _0x5430db=_0x5426eb[_0x364157];if(_0x1231a0>=_0x5430db[_0x2abf6e(0x14f)]){_0x566cf9[_0x2abf6e(0xd6)][_0x2abf6e(0xbd)](_0x2abf6e(0xea)+_0x5430db['room']+_0x2abf6e(0x115)),_0x5426eb[_0x2abf6e(0xd0)](_0x364157,0x1),_0x1625c7=!![];continue;}const _0x430576=_0x3e9102['find'](_0xfde42f=>normalize(_0xfde42f['location'])===normalize(_0x5430db[_0x2abf6e(0xc9)])&&(_0xfde42f['type']==='temperature'||_0xfde42f[_0x2abf6e(0x159)]===_0x2abf6e(0xfa)));if(_0x430576){const _0x4256fb=await findRelatedId(_0x566cf9,_0x430576['id'],_0x2abf6e(0x141));if(_0x4256fb){const _0x52997b=await _0x566cf9[_0x2abf6e(0x13f)](_0x4256fb);_0x52997b&&typeof _0x52997b[_0x2abf6e(0x12c)]==='number'&&(_0x52997b['val']<0xf&&(_0x566cf9[_0x2abf6e(0xd6)][_0x2abf6e(0xb1)](_0x2abf6e(0xa9)+_0x5430db[_0x2abf6e(0xc9)]+_0x2abf6e(0xfc)+_0x52997b[_0x2abf6e(0x12c)]+_0x2abf6e(0x123)+_0x5430db[_0x2abf6e(0x151)]+_0x2abf6e(0xe8)),await _0x566cf9[_0x2abf6e(0x156)](_0x4256fb,_0x5430db['target']),await logAutomationAction(_0x566cf9,_0x2abf6e(0xcd)+_0x5430db[_0x2abf6e(0xc9)]+':\x20'+_0x52997b[_0x2abf6e(0x12c)]+'Â°C\x20->\x20'+_0x5430db[_0x2abf6e(0x151)]+_0x2abf6e(0x119))));}}}_0x1625c7&&await _0x566cf9[_0x2abf6e(0xfd)](_0x21dcbc,{'val':JSON[_0x2abf6e(0x9e)](_0x5426eb),'ack':!![]});}catch(_0x502752){_0x566cf9[_0x2abf6e(0xd6)][_0x2abf6e(0x102)]('Enforcement\x20Monitor\x20Error:\x20'+_0x502752[_0x2abf6e(0x13d)]);}}async function checkCalendarTriggers(_0x1585cf){const _0x29422d=a1_0x3502ac;if(!_0x1585cf[_0x29422d(0x100)][_0x29422d(0xbb)]||!_0x1585cf[_0x29422d(0x100)][_0x29422d(0xec)])return;await updateSchedulePreview(_0x1585cf);let _0x547201={},_0x4917f4={};try{const _0x3b68b0=await _0x1585cf[_0x29422d(0x127)](_0x29422d(0x140));if(_0x3b68b0&&_0x3b68b0['val'])_0x547201=JSON['parse'](_0x3b68b0[_0x29422d(0x12c)]);const _0x550961=await _0x1585cf[_0x29422d(0x127)](_0x29422d(0x125));if(_0x550961&&_0x550961[_0x29422d(0x12c)])_0x4917f4=JSON[_0x29422d(0x15c)](_0x550961[_0x29422d(0x12c)]);}catch(_0x29b75d){}let _0x8070f3={'default':0x15};try{const _0x2d5382=await _0x1585cf[_0x29422d(0x127)](_0x29422d(0xf3));if(_0x2d5382&&_0x2d5382['val'])_0x8070f3=JSON[_0x29422d(0x15c)](_0x2d5382[_0x29422d(0x12c)]);}catch(_0xd26cd2){}let _0x29f934=[];try{const _0x376e50=await _0x1585cf['getStateAsync'](_0x29422d(0x142));if(_0x376e50&&_0x376e50[_0x29422d(0x12c)])_0x29f934=JSON[_0x29422d(0x15c)](_0x376e50[_0x29422d(0x12c)]);}catch(_0x31c537){}try{const _0x3ff4de=await _0x1585cf[_0x29422d(0x13f)](_0x1585cf[_0x29422d(0x100)][_0x29422d(0xec)]+_0x29422d(0xbc));if(!_0x3ff4de||!_0x3ff4de[_0x29422d(0x12c)])return;const _0x1b7984=JSON[_0x29422d(0x15c)](_0x3ff4de[_0x29422d(0x12c)]),_0x20de10=Date['now'](),_0x344d98=_0x1585cf[_0x29422d(0x100)]['devices']||[],_0x3d2289=_0x1585cf[_0x29422d(0x100)][_0x29422d(0x117)]||[];let _0x5cdc90=![];for(const _0x19685c of _0x1b7984){if(_0x19685c[_0x29422d(0x13c)]&&_0x3d2289[_0x29422d(0x133)]>0x0&&!_0x3d2289['includes'](_0x19685c['_calName']))continue;const _0x96308c=_0x19685c[_0x29422d(0xdf)]||_0x19685c[_0x29422d(0x15a)]||_0x19685c['date'];if(!_0x96308c)continue;const _0x5429dd=new Date(_0x96308c);if(isNaN(_0x5429dd[_0x29422d(0x155)]()))continue;const _0x477907=(_0x19685c['event']||_0x19685c[_0x29422d(0xe2)]||'')[_0x29422d(0xe1)]();if(_0x477907[_0x29422d(0x12d)](_0x29422d(0x10e))||_0x477907['includes']('rÃ¼ckkehr')||_0x477907[_0x29422d(0x12d)](_0x29422d(0x11b))){let _0x1057e0=0x0;Object[_0x29422d(0x12f)](_0x547201)[_0x29422d(0xc0)](_0x1fd93a=>{if(_0x1fd93a>_0x1057e0)_0x1057e0=_0x1fd93a;});if(_0x1057e0===0x0)_0x1057e0=0x78;const _0x11cb5e=_0x5429dd['getTime']()-_0x1057e0*0xea60;_0x20de10>=_0x11cb5e&&_0x20de10<_0x5429dd['getTime']()&&(_0x1585cf[_0x29422d(0xd9)]!==_0x29422d(0xee)&&(_0x1585cf[_0x29422d(0xd6)][_0x29422d(0xbd)](_0x29422d(0x128)+_0x1057e0+_0x29422d(0xaa)),await _0x1585cf[_0x29422d(0xfd)](_0x29422d(0xf0),{'val':_0x29422d(0xee),'ack':![]})));}for(const _0x1ee1a7 of _0x344d98){if(_0x1ee1a7[_0x29422d(0x14a)]){const _0x5b2856=_0x1ee1a7[_0x29422d(0x14a)][_0x29422d(0xe1)](),_0x1a1255=(_0x1ee1a7[_0x29422d(0x114)]||'')['toLowerCase']();let _0x221367=_0x477907[_0x29422d(0x12d)](_0x5b2856);!_0x221367&&_0x1a1255['length']>0x3&&_0x477907[_0x29422d(0x12d)](_0x1a1255)&&(_0x221367=!![]);if(_0x221367){const _0x23d172=getWarmupRobust(_0x547201,_0x1ee1a7[_0x29422d(0x14a)]),_0x5d06c=_0x4917f4[_0x1ee1a7[_0x29422d(0x14a)]]||_0x29422d(0x103),_0x19cbbd=_0x5429dd['getTime']()-_0x23d172*0xea60;if(_0x20de10>=_0x19cbbd&&_0x20de10<_0x5429dd['getTime']()){const _0x33c7c9=lastActions['cal_'+_0x1ee1a7[_0x29422d(0x14a)]];if(_0x33c7c9&&_0x20de10-_0x33c7c9<CAL_COOLDOWN_MS)continue;const _0x354297=await findRelatedId(_0x1585cf,_0x1ee1a7['id'],'setpoint');if(_0x354297){let _0x2c1160=_0x8070f3[_0x1ee1a7['location']];if(_0x2c1160===undefined)_0x2c1160=_0x8070f3['default'];if(_0x2c1160===undefined)_0x2c1160=0x15;const _0x1d046b=await _0x1585cf[_0x29422d(0x13f)](_0x354297);if(_0x1d046b&&typeof _0x1d046b[_0x29422d(0x12c)]===_0x29422d(0x118)&&_0x1d046b[_0x29422d(0x12c)]<_0x2c1160-0.5){_0x1585cf[_0x29422d(0xd6)]['info'](_0x29422d(0x160)+_0x5d06c+']:\x20Raum-Trigger\x20\x27'+_0x1ee1a7['location']+_0x29422d(0x157)+_0x477907+_0x29422d(0xd7)+_0x2c1160+'Â°C\x20(Vorlauf:\x20'+_0x23d172+'\x20min).'),await _0x1585cf['setForeignStateAsync'](_0x354297,_0x2c1160),await logAutomationAction(_0x1585cf,_0x29422d(0xb2)+_0x1ee1a7[_0x29422d(0x14a)]+'\x20->\x20'+_0x2c1160+_0x29422d(0x147)+_0x5d06c+')'),lastActions['cal_'+_0x1ee1a7['location']]=_0x20de10;const _0x44b718=_0x29f934[_0x29422d(0xa3)](_0x1c7fff=>_0x1c7fff[_0x29422d(0xc9)]===_0x1ee1a7[_0x29422d(0x14a)]);if(_0x44b718!==-0x1)_0x29f934[_0x29422d(0xd0)](_0x44b718,0x1);_0x29f934['push']({'room':_0x1ee1a7[_0x29422d(0x14a)],'target':_0x2c1160,'until':_0x5429dd[_0x29422d(0x155)]()}),_0x5cdc90=!![];}}}}}}}_0x5cdc90&&await _0x1585cf[_0x29422d(0xfd)](_0x29422d(0x142),{'val':JSON[_0x29422d(0x9e)](_0x29f934),'ack':!![]});}catch(_0x52ab83){_0x1585cf[_0x29422d(0xd6)][_0x29422d(0xb1)](_0x29422d(0xe5)+_0x52ab83[_0x29422d(0x13d)]);}}async function manageMpcIntervention(_0x31cde7,_0x2aaf26,_0x58f985){const _0x39f46f=a1_0x3502ac;try{const _0x22f181=_0x39f46f(0xb8),_0x5341b0=await _0x31cde7[_0x39f46f(0x127)](_0x22f181);let _0x31af65=[];if(_0x5341b0&&_0x5341b0[_0x39f46f(0x12c)])try{_0x31af65=JSON[_0x39f46f(0x15c)](_0x5341b0['val']);}catch(_0x58619a){}const _0x94ca19=_0x31af65[_0x39f46f(0xcc)](_0x2aaf26);if(_0x58f985===_0x39f46f(0x13a))_0x94ca19===-0x1&&(_0x31af65[_0x39f46f(0x11e)](_0x2aaf26),await _0x31cde7[_0x39f46f(0xfd)](_0x22f181,{'val':JSON['stringify'](_0x31af65),'ack':!![]}));else _0x58f985===_0x39f46f(0x101)&&(_0x94ca19!==-0x1&&(_0x31af65['splice'](_0x94ca19,0x1),await _0x31cde7[_0x39f46f(0xfd)](_0x22f181,{'val':JSON[_0x39f46f(0x9e)](_0x31af65),'ack':!![]})));}catch(_0x39834a){}}async function cleanupGhostInterventions(_0x34af8a){const _0x574d1c=a1_0x3502ac;try{const _0x3617ad=_0x574d1c(0xb8),_0x3d89e2=await _0x34af8a[_0x574d1c(0x127)](_0x3617ad);if(!_0x3d89e2||!_0x3d89e2[_0x574d1c(0x12c)])return;const _0x476642=JSON[_0x574d1c(0x15c)](_0x3d89e2[_0x574d1c(0x12c)]);if(!Array[_0x574d1c(0x136)](_0x476642)||_0x476642[_0x574d1c(0x133)]===0x0)return;let _0x62bd77={'default':0x15};try{const _0x1f4035=await _0x34af8a[_0x574d1c(0x127)](_0x574d1c(0xf3));if(_0x1f4035&&_0x1f4035[_0x574d1c(0x12c)])_0x62bd77=JSON[_0x574d1c(0x15c)](_0x1f4035[_0x574d1c(0x12c)]);}catch(_0x5c51eb){}let _0x67a42d=[];try{const _0x1b2c38=await _0x34af8a[_0x574d1c(0x127)](_0x574d1c(0xa2));if(_0x1b2c38&&_0x1b2c38[_0x574d1c(0x12c)])_0x67a42d=JSON[_0x574d1c(0x15c)](_0x1b2c38[_0x574d1c(0x12c)]);}catch(_0x3340d1){}let _0x5e148f={},_0x4ffed7=![];try{const _0x663699=await _0x34af8a[_0x574d1c(0x127)](_0x574d1c(0xd5));if(_0x663699&&_0x663699[_0x574d1c(0x12c)])_0x5e148f=JSON[_0x574d1c(0x15c)](_0x663699['val']);}catch(_0x4a4b24){}if(_0x5e148f[_0x574d1c(0x153)]){const _0x277e90=Date[_0x574d1c(0x12a)]();for(const [_0x2b431d,_0x35bdfc]of Object['entries'](_0x5e148f[_0x574d1c(0x153)])){_0x277e90-_0x35bdfc>PENALTY_TTL&&(delete _0x5e148f[_0x2b431d],delete _0x5e148f[_0x574d1c(0x153)][_0x2b431d],_0x4ffed7=!![],_0x34af8a['log'][_0x574d1c(0xbd)](_0x574d1c(0x122)+_0x2b431d+_0x574d1c(0xc3)));}}const _0x2cd857=_0x34af8a[_0x574d1c(0x100)]['devices']||[];let _0x45e0d5=![];for(let _0x6026e4=_0x476642[_0x574d1c(0x133)]-0x1;_0x6026e4>=0x0;_0x6026e4--){const _0x49c284=_0x476642[_0x6026e4],_0x5dc1fa=_0x2cd857[_0x574d1c(0x124)](_0x26f3a2=>normalize(_0x26f3a2['location'])===normalize(_0x49c284)&&(_0x26f3a2[_0x574d1c(0x159)]==='temperature'||_0x26f3a2[_0x574d1c(0x159)]==='thermostat'));if(!_0x5dc1fa){_0x34af8a['log'][_0x574d1c(0xb1)](_0x574d1c(0xc8)+_0x49c284+_0x574d1c(0x144)),_0x476642[_0x574d1c(0xd0)](_0x6026e4,0x1),_0x45e0d5=!![];continue;}if(_0x5dc1fa){const _0x30b755=await findRelatedId(_0x34af8a,_0x5dc1fa['id'],_0x574d1c(0x141)),_0x4504eb=await _0x34af8a[_0x574d1c(0x13f)](_0x5dc1fa['id']);if(_0x30b755){const _0x30bf62=await _0x34af8a[_0x574d1c(0x13f)](_0x30b755);if(_0x30bf62&&typeof _0x30bf62[_0x574d1c(0x12c)]===_0x574d1c(0x118)){let _0x28a224=![],_0x58e082='';Math[_0x574d1c(0xf8)](_0x30bf62['val']-ECO_TEMP)>0.5&&(_0x28a224=!![],_0x58e082=_0x574d1c(0xe3));if(!_0x28a224&&_0x4504eb&&typeof _0x4504eb[_0x574d1c(0x12c)]===_0x574d1c(0x118)){const _0x44511e=_0x62bd77[_0x49c284]||_0x62bd77['default']||0x15;_0x4504eb['val']<_0x44511e+0.2&&(_0x28a224=!![],_0x58e082=_0x574d1c(0xba));}if(_0x28a224){if(_0x58e082===_0x574d1c(0xe3)){_0x34af8a['log']['info'](_0x574d1c(0xd3)+_0x49c284+_0x574d1c(0x113)+_0x30bf62['val']+_0x574d1c(0xf7)+ECO_TEMP+_0x574d1c(0xdd));const _0x2a703a=lastActions[_0x574d1c(0x14e)+_0x49c284],_0x515b1e=_0x2a703a&&Date[_0x574d1c(0x12a)]()-_0x2a703a<0x2*0x3c*0x3e8;if(!_0x515b1e&&_0x30bf62[_0x574d1c(0x12c)]>ECO_TEMP+0.5){_0x34af8a['sendToPythonWrapper']&&(_0x34af8a[_0x574d1c(0xd6)][_0x574d1c(0xbd)](_0x574d1c(0xc7)+_0x49c284+_0x574d1c(0xca)),_0x34af8a[_0x574d1c(0xd2)]('TRAIN_RL_PENALTY',{'room':_0x49c284}));const _0x264343=_0x49c284+'_'+new Date()[_0x574d1c(0x14b)]();if(!_0x5e148f[_0x264343]){_0x5e148f[_0x264343]=0x1;if(!_0x5e148f[_0x574d1c(0x153)])_0x5e148f[_0x574d1c(0x153)]={};_0x5e148f['_meta'][_0x264343]=Date['now'](),_0x4ffed7=!![];}}else _0x515b1e&&_0x34af8a[_0x574d1c(0xd6)][_0x574d1c(0xbd)](_0x574d1c(0x121)+_0x49c284+'\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x58e082===_0x574d1c(0xba)){let _0x4624c6=![];if(_0x67a42d[_0x574d1c(0x124)](_0x2166f5=>_0x2166f5['room']===_0x49c284))_0x4624c6=!![];const _0x1078dd=_0x2cd857[_0x574d1c(0xad)](_0x2fb79d=>normalize(_0x2fb79d['location'])===normalize(_0x49c284)&&(_0x2fb79d[_0x574d1c(0x159)]==='window'||_0x2fb79d['type']===_0x574d1c(0xcb)||_0x2fb79d[_0x574d1c(0x159)]===_0x574d1c(0x9f)));for(const _0x2aadc2 of _0x1078dd){try{const _0x2977b3=await _0x34af8a[_0x574d1c(0x13f)](_0x2aadc2['id']);if(_0x2977b3&&(_0x2977b3['val']===!![]||_0x2977b3[_0x574d1c(0x12c)]===0x1||String(_0x2977b3[_0x574d1c(0x12c)])['toLowerCase']()===_0x574d1c(0xf1)))_0x4624c6=!![];}catch(_0xc033c7){}}if(_0x4624c6)_0x34af8a['log']['info'](_0x574d1c(0xab)+_0x49c284+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x52866b=_0x62bd77[_0x49c284]||_0x62bd77[_0x574d1c(0x15d)]||0x15;_0x34af8a['log'][_0x574d1c(0xbd)](_0x574d1c(0x108)+_0x49c284+_0x574d1c(0x132)+_0x4504eb[_0x574d1c(0x12c)]+'Â°C\x20<\x20'+(_0x52866b+0.2)+'Â°C).\x20Sparmodus\x20beendet!'),await _0x34af8a['setForeignStateAsync'](_0x30b755,_0x52866b),await logAutomationAction(_0x34af8a,'[WATCHDOG]\x20'+_0x49c284+_0x574d1c(0x11f)+_0x52866b+'Â°C'),lastActions[_0x574d1c(0x15e)+_0x49c284]=Date['now']();}}}_0x476642[_0x574d1c(0xd0)](_0x6026e4,0x1),_0x45e0d5=!![];}}}}}_0x45e0d5&&await _0x34af8a[_0x574d1c(0xfd)](_0x3617ad,{'val':JSON[_0x574d1c(0x9e)](_0x476642),'ack':!![]}),_0x4ffed7&&await _0x34af8a['setStateAsync'](_0x574d1c(0xd5),{'val':JSON[_0x574d1c(0x9e)](_0x5e148f),'ack':!![]});}catch(_0x560b49){}}async function applyEnergySavings(_0x3edc31,_0x3f1b31){const _0x9e48b4=a1_0x3502ac;await cleanupGhostInterventions(_0x3edc31);if(!_0x3f1b31||_0x3f1b31['length']===0x0)return;const _0x2dc228=_0x3edc31[_0x9e48b4(0x100)]['devices']||[],_0x40efe1=Date[_0x9e48b4(0x12a)]();for(const _0x42e843 of _0x3f1b31){const _0x55a9a4=_0x42e843[_0x9e48b4(0xc9)],_0x3dfd7a=_0x42e843[_0x9e48b4(0xf6)],_0x39146b=_0x42e843[_0x9e48b4(0x151)]||0x15;if(lastActions[_0x9e48b4(0x15e)+_0x55a9a4]&&_0x40efe1-lastActions['rescue_'+_0x55a9a4]<RESCUE_LOCK_MS)continue;const _0x48579b=_0x2dc228[_0x9e48b4(0x124)](_0xa92664=>normalize(_0xa92664[_0x9e48b4(0x14a)])===normalize(_0x55a9a4)&&(_0xa92664[_0x9e48b4(0x159)]===_0x9e48b4(0xdb)||_0xa92664['type']==='thermostat'));if(!_0x48579b)continue;const _0x3ca232=await findRelatedId(_0x3edc31,_0x48579b['id'],_0x9e48b4(0x141));if(_0x3ca232){if(lastActions[_0x9e48b4(0x12b)+_0x55a9a4]&&_0x40efe1-lastActions[_0x9e48b4(0x12b)+_0x55a9a4]<0x1e*0x3c*0x3e8)continue;const _0x4bbd16=await _0x3edc31[_0x9e48b4(0x13f)](_0x3ca232);if(_0x4bbd16&&typeof _0x4bbd16[_0x9e48b4(0x12c)]===_0x9e48b4(0x118)){const _0x100ef9=_0x4bbd16[_0x9e48b4(0x12c)];_0x100ef9!==ECO_TEMP&&await manageMpcIntervention(_0x3edc31,_0x55a9a4,_0x9e48b4(0x101));if(_0x3dfd7a>0x1e)_0x100ef9>ECO_TEMP+0.5&&(_0x3edc31[_0x9e48b4(0xd6)][_0x9e48b4(0xbd)](_0x9e48b4(0xae)+_0x55a9a4+'\x20auf\x20'+ECO_TEMP+_0x9e48b4(0x9d)+_0x3dfd7a+_0x9e48b4(0xa6)),await _0x3edc31[_0x9e48b4(0x156)](_0x3ca232,ECO_TEMP),await manageMpcIntervention(_0x3edc31,_0x55a9a4,_0x9e48b4(0x13a)),lastActions[_0x9e48b4(0x12b)+_0x55a9a4]=_0x40efe1,await logAutomationAction(_0x3edc31,'[MPC]\x20'+_0x55a9a4+_0x9e48b4(0xeb)+ECO_TEMP+'Â°C'));else _0x3dfd7a<=0xf&&(_0x100ef9<_0x39146b&&(_0x3edc31['log'][_0x9e48b4(0xbd)](_0x9e48b4(0x138)+_0x55a9a4+'\x20wieder\x20auf\x20'+_0x39146b+_0x9e48b4(0x14d)),await _0x3edc31[_0x9e48b4(0x156)](_0x3ca232,_0x39146b),await manageMpcIntervention(_0x3edc31,_0x55a9a4,_0x9e48b4(0x101)),lastActions['mpc_'+_0x55a9a4]=_0x40efe1,await logAutomationAction(_0x3edc31,_0x9e48b4(0xb3)+_0x55a9a4+_0x9e48b4(0x14c)+_0x39146b+'Â°C')));}}else _0x3edc31[_0x9e48b4(0xd6)][_0x9e48b4(0xb1)](_0x9e48b4(0xa1)+_0x55a9a4+'\x20gefunden!');}}module[a1_0x3502ac(0xaf)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};