const a1_0x3fa3d2=a1_0x1e21;(function(_0x15a1f7,_0x1cae12){const _0x4d8a91=a1_0x1e21,_0x6dd4be=_0x15a1f7();while(!![]){try{const _0x493aa9=parseInt(_0x4d8a91(0x114))/0x1*(parseInt(_0x4d8a91(0x121))/0x2)+parseInt(_0x4d8a91(0x11e))/0x3*(parseInt(_0x4d8a91(0x117))/0x4)+parseInt(_0x4d8a91(0x11a))/0x5*(parseInt(_0x4d8a91(0x124))/0x6)+parseInt(_0x4d8a91(0x112))/0x7+-parseInt(_0x4d8a91(0x10c))/0x8+parseInt(_0x4d8a91(0x128))/0x9+-parseInt(_0x4d8a91(0x10d))/0xa*(parseInt(_0x4d8a91(0x10b))/0xb);if(_0x493aa9===_0x1cae12)break;else _0x6dd4be['push'](_0x6dd4be['shift']());}catch(_0x459237){_0x6dd4be['push'](_0x6dd4be['shift']());}}}(a1_0x3405,0x33ada));function a1_0x3405(){const _0x21b4fd=['\x20->\x20','find','(((.+)+)+)+$','consultButler','1126174iwvhYs','toUpperCase','309jGsFle','exports','approved','4qnaKCJ','info','setStateAsync','3065tkykQa','location','\x20schalten,\x20aber\x20kein\x20Licht-GerÃ¤t\x20dort\x20gefunden.','getStateAsync','327417IwxKEm','ðŸ¤–\x20Butler\x20Blocked:\x20','name','202TeHOlq','[BLOCKED]\x20','analysis.automation.lastAction','1566MGxITZ','now','search','constructor','1712259KROcLa','Unknown','off','âš¡\x20ACTION:\x20','switch','\x20->\x20Schalte\x20','analysis.automation.confidenceThreshold','setForeignStateAsync','type','ðŸ¤–\x20Automation:\x20WÃ¼rde\x20','log','simulate','ðŸ‘€\x20SIMULATION:\x20','debug','95128IxqBKZ','1373696XOujEu','310NdEcYk'];a1_0x3405=function(){return _0x21b4fd;};return a1_0x3405();}const a1_0xe01461=(function(){let _0x4154bc=!![];return function(_0x2e10d3,_0xd273a9){const _0x25344e=_0x4154bc?function(){if(_0xd273a9){const _0x24a66f=_0xd273a9['apply'](_0x2e10d3,arguments);return _0xd273a9=null,_0x24a66f;}}:function(){};return _0x4154bc=![],_0x25344e;};}()),a1_0x14998b=a1_0xe01461(this,function(){const _0x46ba07=a1_0x1e21;return a1_0x14998b['toString']()[_0x46ba07(0x126)]('(((.+)+)+)+$')['toString']()[_0x46ba07(0x127)](a1_0x14998b)[_0x46ba07(0x126)](_0x46ba07(0x110));});function a1_0x1e21(_0x37cda1,_0xa6c7){const _0x49fb4a=a1_0x3405();return a1_0x1e21=function(_0x14998b,_0xe01461){_0x14998b=_0x14998b-0x108;let _0x3405fb=_0x49fb4a[_0x14998b];return _0x3405fb;},a1_0x1e21(_0x37cda1,_0xa6c7);}a1_0x14998b();'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,lastActions={};async function handlePrediction(_0x2d248b,_0x3702b3,_0x29c65d){const _0x69b9db=a1_0x1e21;if(!_0x3702b3||_0x3702b3===_0x69b9db(0x129))return;let _0x299ae3=_0x69b9db(0x12a),_0x45d52d=0.6;try{const _0x28dbaa=await _0x2d248b[_0x69b9db(0x11d)]('analysis.automation.mode');if(_0x28dbaa&&_0x28dbaa['val'])_0x299ae3=_0x28dbaa['val'];const _0xdb8770=await _0x2d248b[_0x69b9db(0x11d)](_0x69b9db(0x12e));if(_0xdb8770&&_0xdb8770['val'])_0x45d52d=_0xdb8770['val'];}catch(_0x55f5cf){}if(_0x299ae3===_0x69b9db(0x12a))return;if(_0x29c65d<_0x45d52d)return;const _0x2080d4=Date[_0x69b9db(0x125)]();if(lastActions[_0x3702b3]&&_0x2080d4-lastActions[_0x3702b3]<COOLDOWN_MS)return;const _0xacd4d9=_0x2d248b['config']['devices']||[],_0x227b2c=_0xacd4d9[_0x69b9db(0x10f)](_0x89e560=>_0x89e560[_0x69b9db(0x11b)]===_0x3702b3&&(_0x89e560[_0x69b9db(0x130)]==='light'||_0x89e560[_0x69b9db(0x130)]==='dimmer'||_0x89e560[_0x69b9db(0x130)]===_0x69b9db(0x12c)));if(!_0x227b2c){_0x2d248b['log'][_0x69b9db(0x10a)](_0x69b9db(0x131)+_0x3702b3+_0x69b9db(0x11c));return;}const _0x5cc923=await aiAgent[_0x69b9db(0x111)](_0x2d248b,_0x3702b3,_0x227b2c[_0x69b9db(0x120)],_0x29c65d);if(!_0x5cc923[_0x69b9db(0x116)]){_0x2d248b[_0x69b9db(0x132)][_0x69b9db(0x10a)](_0x69b9db(0x11f)+_0x3702b3+_0x69b9db(0x10e)+_0x5cc923['reason']),await _0x2d248b[_0x69b9db(0x119)](_0x69b9db(0x123),{'val':_0x69b9db(0x122)+_0x5cc923['reason'],'ack':!![]});return;}const _0x57a0c2='PrÃ¤diktion:\x20'+_0x3702b3+_0x69b9db(0x12d)+_0x227b2c[_0x69b9db(0x120)]+'\x20('+_0x5cc923['reason']+')';await _0x2d248b[_0x69b9db(0x119)]('analysis.automation.lastAction',{'val':'['+_0x299ae3[_0x69b9db(0x113)]()+']\x20'+_0x57a0c2,'ack':!![]});if(_0x299ae3===_0x69b9db(0x108))_0x2d248b[_0x69b9db(0x132)]['info'](_0x69b9db(0x109)+_0x57a0c2);else{if(_0x299ae3==='active'){_0x2d248b['log'][_0x69b9db(0x118)](_0x69b9db(0x12b)+_0x57a0c2);const _0x7f42e8=await _0x2d248b['getForeignStateAsync'](_0x227b2c['id']);if(_0x7f42e8&&(_0x7f42e8['val']===!![]||_0x7f42e8['val']>0x0)){}else await _0x2d248b[_0x69b9db(0x12f)](_0x227b2c['id'],!![]);lastActions[_0x3702b3]=_0x2080d4;}}}module[a1_0x3fa3d2(0x115)]={'handlePrediction':handlePrediction};