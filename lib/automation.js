const a1_0x35df12=a1_0x3161;(function(_0x3560d6,_0x4f1178){const _0x497ff2=a1_0x3161,_0x2fcb2f=_0x3560d6();while(!![]){try{const _0x19d8f7=parseInt(_0x497ff2(0xc9))/0x1*(parseInt(_0x497ff2(0xbe))/0x2)+-parseInt(_0x497ff2(0x122))/0x3+parseInt(_0x497ff2(0x11c))/0x4+-parseInt(_0x497ff2(0x136))/0x5*(-parseInt(_0x497ff2(0xcf))/0x6)+parseInt(_0x497ff2(0xe5))/0x7*(parseInt(_0x497ff2(0x110))/0x8)+-parseInt(_0x497ff2(0x158))/0x9*(-parseInt(_0x497ff2(0xd7))/0xa)+-parseInt(_0x497ff2(0xf8))/0xb*(parseInt(_0x497ff2(0x102))/0xc);if(_0x19d8f7===_0x4f1178)break;else _0x2fcb2f['push'](_0x2fcb2f['shift']());}catch(_0x42af0d){_0x2fcb2f['push'](_0x2fcb2f['shift']());}}}(a1_0x3f46,0xc7412));const a1_0x4f06e7=(function(){let _0x3375c7=!![];return function(_0xd67dc6,_0xabcc22){const _0x464229=_0x3375c7?function(){const _0x28282a=a1_0x3161;if(_0xabcc22){const _0x189161=_0xabcc22[_0x28282a(0xe8)](_0xd67dc6,arguments);return _0xabcc22=null,_0x189161;}}:function(){};return _0x3375c7=![],_0x464229;};}()),a1_0x1ce77d=a1_0x4f06e7(this,function(){const _0x28ad74=a1_0x3161;return a1_0x1ce77d[_0x28ad74(0x14e)]()[_0x28ad74(0xf7)](_0x28ad74(0x12a))[_0x28ad74(0x14e)]()['constructor'](a1_0x1ce77d)[_0x28ad74(0xf7)](_0x28ad74(0x12a));});a1_0x1ce77d();'use strict';const aiAgent=require(a1_0x35df12(0xcd)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x2485dd){const _0x369422=a1_0x35df12;if(!_0x2485dd)return'';return _0x2485dd[_0x369422(0xde)]()[_0x369422(0xf4)](/\s+/g,'')[_0x369422(0x117)]();}function getWarmupRobust(_0x1ee549,_0x326faa){const _0x2e48ab=a1_0x35df12;if(!_0x1ee549||!_0x326faa)return 0x3c;if(_0x1ee549[_0x326faa]!==undefined)return _0x1ee549[_0x326faa];const _0x5831eb=_0x326faa[_0x2e48ab(0xde)]()['replace'](/√§/g,'ae')[_0x2e48ab(0xf4)](/√∂/g,'oe')[_0x2e48ab(0xf4)](/√º/g,'ue')[_0x2e48ab(0xf4)](/√ü/g,'ss')[_0x2e48ab(0xf4)](/\s+/g,'_')[_0x2e48ab(0xf4)](/[^a-z0-9_]/g,'');if(_0x1ee549[_0x5831eb]!==undefined)return _0x1ee549[_0x5831eb];return 0x3c;}async function logAutomationAction(_0x3371a1,_0x49850c){const _0x5bbb18=a1_0x35df12;await _0x3371a1[_0x5bbb18(0xc3)](_0x5bbb18(0x11e),{'val':_0x49850c,'ack':!![]});try{const _0x53e2f3=_0x5bbb18(0x118),_0x5bb1c3=await _0x3371a1[_0x5bbb18(0x148)](_0x53e2f3);let _0x5d1bcf=[];if(_0x5bb1c3&&_0x5bb1c3[_0x5bbb18(0x131)])try{_0x5d1bcf=JSON[_0x5bbb18(0x166)](_0x5bb1c3[_0x5bbb18(0x131)]);}catch(_0x52cb27){}_0x5d1bcf[_0x5bbb18(0x179)]({'ts':Date[_0x5bbb18(0x15f)](),'msg':_0x49850c});if(_0x5d1bcf[_0x5bbb18(0x15b)]>0x32)_0x5d1bcf=_0x5d1bcf['slice'](0x0,0x32);await _0x3371a1['setStateAsync'](_0x53e2f3,{'val':JSON[_0x5bbb18(0x170)](_0x5d1bcf),'ack':!![]});}catch(_0x342598){}}async function handlePrediction(_0x331d23,_0x48fbfb,_0xde3ec5){const _0x350bf4=a1_0x35df12;if(!_0x48fbfb||_0x48fbfb==='Unknown')return;let _0x520495='off',_0x260b58=0.6;try{const _0x5ec347=await _0x331d23[_0x350bf4(0x148)](_0x350bf4(0x14a));if(_0x5ec347&&_0x5ec347['val'])_0x520495=_0x5ec347['val'];const _0x4aadac=await _0x331d23[_0x350bf4(0x148)](_0x350bf4(0xbd));if(_0x4aadac&&_0x4aadac[_0x350bf4(0x131)])_0x260b58=_0x4aadac[_0x350bf4(0x131)];}catch(_0x7641e0){}if(_0x520495===_0x350bf4(0xf1)||_0xde3ec5<_0x260b58)return;const _0xe4d986=Date[_0x350bf4(0x15f)]();if(lastActions[_0x48fbfb]&&_0xe4d986-lastActions[_0x48fbfb]<COOLDOWN_MS)return;const _0x2d499b=_0x331d23['config'][_0x350bf4(0xca)]||[],_0x1e36e6=normalize(_0x48fbfb),_0x494e60=_0x2d499b[_0x350bf4(0x100)](_0x136a8a=>normalize(_0x136a8a[_0x350bf4(0xd6)])===_0x1e36e6&&(_0x136a8a[_0x350bf4(0x12e)]===_0x350bf4(0x161)||_0x136a8a['type']===_0x350bf4(0x150)||_0x136a8a[_0x350bf4(0x12e)]===_0x350bf4(0x11f)));if(!_0x494e60)return;const _0x5529c9=await aiAgent[_0x350bf4(0xe0)](_0x331d23,_0x48fbfb,_0x494e60[_0x350bf4(0xe3)],_0xde3ec5);if(!_0x5529c9[_0x350bf4(0x107)])return;const _0x1a0374=_0x350bf4(0xc5)+_0x48fbfb+_0x350bf4(0x108)+_0x494e60[_0x350bf4(0xe3)]+'\x20('+_0x5529c9['reason']+')';await logAutomationAction(_0x331d23,'['+_0x520495['toUpperCase']()+']\x20'+_0x1a0374);if(_0x520495===_0x350bf4(0x113)){const _0x185dee=await _0x331d23[_0x350bf4(0x16e)](_0x494e60['id']);(!_0x185dee||!_0x185dee['val']&&_0x185dee[_0x350bf4(0x131)]!==!![])&&await _0x331d23[_0x350bf4(0x176)](_0x494e60['id'],!![]),lastActions[_0x48fbfb]=_0xe4d986;}}async function findRelatedId(_0x55a4e1,_0x1adb02,_0x5a3616=a1_0x35df12(0x125)){const _0x1fd1ab=a1_0x35df12;if(_0x5a3616===_0x1fd1ab(0x125)&&_0x55a4e1[_0x1fd1ab(0x134)][_0x1fd1ab(0x112)]){let _0x1f025a=_0x55a4e1[_0x1fd1ab(0x134)][_0x1fd1ab(0x112)];if(typeof _0x1f025a===_0x1fd1ab(0x12c))try{_0x1f025a=JSON[_0x1fd1ab(0x166)](_0x1f025a);}catch(_0x15f8e0){}if(_0x1f025a&&_0x1f025a[_0x1adb02])return _0x1f025a[_0x1adb02];}if(_0x5a3616==='valve'&&_0x55a4e1['config']['valveMapping']){let _0xa9432e=_0x55a4e1[_0x1fd1ab(0x134)][_0x1fd1ab(0xf9)];if(typeof _0xa9432e===_0x1fd1ab(0x12c))try{_0xa9432e=JSON[_0x1fd1ab(0x166)](_0xa9432e);}catch(_0x12cdfd){}if(_0xa9432e&&_0xa9432e[_0x1adb02])return _0xa9432e[_0x1adb02];}let _0x465cb8=[];if(_0x5a3616===_0x1fd1ab(0x125))_0x465cb8=[{'s':_0x1fd1ab(0x16f),'t':_0x1fd1ab(0x139)},{'s':_0x1fd1ab(0x177),'t':_0x1fd1ab(0x139)},{'s':_0x1fd1ab(0x177),'t':_0x1fd1ab(0xdb)},{'s':'ACTUAL_TEMPERATURE','t':_0x1fd1ab(0xdd)},{'s':_0x1fd1ab(0xe6),'t':_0x1fd1ab(0xc4)},{'s':_0x1fd1ab(0xe6),'t':_0x1fd1ab(0xed)},{'s':_0x1fd1ab(0x178),'t':'target_temperature'},{'s':'ACTUAL','t':_0x1fd1ab(0x156)},{'s':_0x1fd1ab(0xe1),'t':'Soll'},{'s':_0x1fd1ab(0x178),'t':'setpoint'}];else _0x5a3616===_0x1fd1ab(0x13d)&&(_0x465cb8=[{'s':_0x1fd1ab(0x16f),'t':'.1.LEVEL'},{'s':'.1.TEMPERATURE','t':_0x1fd1ab(0xdc)},{'s':_0x1fd1ab(0x177),'t':_0x1fd1ab(0x106)},{'s':'local_temperature','t':'pi_heating_demand'},{'s':'temperature','t':_0x1fd1ab(0x165)},{'s':'temperature','t':'level'}]);for(const _0x2d6df5 of _0x465cb8){if(_0x1adb02[_0x1fd1ab(0xf2)](_0x2d6df5['s'])){const _0x503e74=_0x1adb02[_0x1fd1ab(0xf4)](_0x2d6df5['s'],_0x2d6df5['t']),_0x5eac14=await _0x55a4e1[_0x1fd1ab(0x132)](_0x503e74);if(_0x5eac14)return _0x503e74;}}try{const _0x102816=_0x1adb02[_0x1fd1ab(0xcc)]('.');if(_0x102816['length']>0x2){const _0x5397a1=_0x102816['slice'](0x0,-0x1)[_0x1fd1ab(0x163)]('.'),_0x11b98b=await _0x55a4e1['getForeignObjectsAsync'](_0x5397a1+'.*'),_0x17b4c6=[],_0x40ca8d=_0x1adb02[_0x1fd1ab(0xcc)](/[._]+/)[_0x1fd1ab(0xc6)](_0x15a510=>![_0x1fd1ab(0x11a),'0',_0x1fd1ab(0x173),'ist',_0x1fd1ab(0x141),_0x1fd1ab(0x178),_0x1fd1ab(0x14d),_0x1fd1ab(0x109),_0x1fd1ab(0x175),_0x1fd1ab(0x146)]['includes'](_0x15a510[_0x1fd1ab(0xde)]()));for(const [_0x38caf6,_0x59a10c]of Object[_0x1fd1ab(0x128)](_0x11b98b)){if(_0x38caf6===_0x1adb02)continue;if(_0x59a10c&&_0x59a10c[_0x1fd1ab(0xec)]){const _0x1476b6=_0x38caf6[_0x1fd1ab(0xde)](),_0x18dbf3=(_0x59a10c[_0x1fd1ab(0xec)][_0x1fd1ab(0xfc)]||'')['toLowerCase'](),_0x49e4ea=(_0x59a10c[_0x1fd1ab(0xec)]['unit']||'')['toLowerCase']();let _0x15c83e=![];if(_0x5a3616==='setpoint'&&_0x59a10c[_0x1fd1ab(0xec)][_0x1fd1ab(0x152)]===!![])_0x15c83e=_0x1476b6[_0x1fd1ab(0xf2)](_0x1fd1ab(0x127))||_0x1476b6[_0x1fd1ab(0xf2)](_0x1fd1ab(0x11b))||_0x1476b6['includes']('target')||_0x18dbf3[_0x1fd1ab(0xf2)](_0x1fd1ab(0xeb))||_0x18dbf3[_0x1fd1ab(0xf2)](_0x1fd1ab(0xff));else _0x5a3616===_0x1fd1ab(0x13d)&&(_0x15c83e=_0x1476b6[_0x1fd1ab(0xf2)]('level')||_0x1476b6['includes']('valve')||_0x1476b6[_0x1fd1ab(0xf2)]('stellwert')||_0x1476b6['includes'](_0x1fd1ab(0x11d))||_0x18dbf3[_0x1fd1ab(0xf2)](_0x1fd1ab(0xe7))||_0x18dbf3[_0x1fd1ab(0xf2)](_0x1fd1ab(0xce))||_0x49e4ea['includes']('%'));if(_0x15c83e){const _0x4e6209=_0x38caf6[_0x1fd1ab(0xcc)](/[._]+/)['map'](_0x3a4a70=>_0x3a4a70['toLowerCase']());let _0x2a135a=0x0;_0x40ca8d[_0x1fd1ab(0x16b)](_0xff9c86=>{if(_0x4e6209['includes'](_0xff9c86['toLowerCase']()))_0x2a135a++;}),_0x17b4c6[_0x1fd1ab(0x14b)]({'id':_0x38caf6,'score':_0x2a135a});}}}if(_0x17b4c6[_0x1fd1ab(0x15b)]>0x0){_0x17b4c6[_0x1fd1ab(0x129)]((_0x2a5c47,_0x3a2fa9)=>_0x3a2fa9[_0x1fd1ab(0x149)]-_0x2a5c47[_0x1fd1ab(0x149)]);if(_0x17b4c6[0x0]['score']>0x0)return _0x17b4c6[0x0]['id'];}}}catch(_0x3303d9){}return null;}async function scanThermostats(_0x1d5119){const _0x48b58b=a1_0x35df12,_0x7c0af4=_0x1d5119['config'][_0x48b58b(0xca)]||[],_0x3b1b6e=[],_0x4b70c6=_0x7c0af4[_0x48b58b(0xc6)](_0x5da828=>_0x5da828['id']&&_0x5da828['id'][_0x48b58b(0xf2)]('temperature')||_0x5da828[_0x48b58b(0x12e)]&&['temperature','thermostat',_0x48b58b(0x109)][_0x48b58b(0xf2)](_0x5da828[_0x48b58b(0x12e)])||_0x5da828[_0x48b58b(0xe3)]&&_0x5da828[_0x48b58b(0xe3)][_0x48b58b(0xde)]()['includes'](_0x48b58b(0x147)));for(const _0x18a82e of _0x4b70c6){const _0x1f0001=await findRelatedId(_0x1d5119,_0x18a82e['id'],'setpoint'),_0x4f6fdf=await findRelatedId(_0x1d5119,_0x18a82e['id'],_0x48b58b(0x13d));let _0x21400d=_0x48b58b(0x151),_0x43d45=![],_0x45b1ff=_0x1d5119[_0x48b58b(0x134)][_0x48b58b(0x112)]||{};if(typeof _0x45b1ff===_0x48b58b(0x12c))try{_0x45b1ff=JSON[_0x48b58b(0x166)](_0x45b1ff);}catch(_0x2c50a8){}let _0xc8cb67=_0x1d5119[_0x48b58b(0x134)][_0x48b58b(0xf9)]||{};if(typeof _0xc8cb67===_0x48b58b(0x12c))try{_0xc8cb67=JSON[_0x48b58b(0x166)](_0xc8cb67);}catch(_0x23e96f){}if(_0x45b1ff[_0x18a82e['id']]&&_0x45b1ff[_0x18a82e['id']]===_0x1f0001||_0xc8cb67[_0x18a82e['id']]&&_0xc8cb67[_0x18a82e['id']]===_0x4f6fdf)_0x21400d='Manuelles\x20Mapping',_0x43d45=!![];else(_0x1f0001||_0x4f6fdf)&&(_0x21400d=_0x48b58b(0xe4));_0x3b1b6e[_0x48b58b(0x14b)]({'room':_0x18a82e['location']||_0x48b58b(0x105),'sensorId':_0x18a82e['id'],'setpointId':_0x1f0001||'-','valveId':_0x4f6fdf||'-','source':_0x21400d,'isManual':_0x43d45,'status':_0x1f0001&&_0x4f6fdf?'PERFECT':_0x1f0001?'OK':_0x48b58b(0x160)});}return _0x3b1b6e[_0x48b58b(0x129)]((_0x39924c,_0x2888f5)=>_0x39924c[_0x48b58b(0xfb)][_0x48b58b(0x171)](_0x2888f5[_0x48b58b(0xfb)]));}async function updateSchedulePreview(_0x27649f){const _0x22a6d4=a1_0x35df12;if(!_0x27649f['config'][_0x22a6d4(0x119)]||!_0x27649f[_0x22a6d4(0x134)][_0x22a6d4(0x114)])return;let _0x2ca728={};try{const _0x749cd3=await _0x27649f['getStateAsync'](_0x22a6d4(0xd4));if(_0x749cd3&&_0x749cd3[_0x22a6d4(0x131)])_0x2ca728=JSON['parse'](_0x749cd3[_0x22a6d4(0x131)]);}catch(_0x33af70){}const _0x2b5224=[],_0x235909=Date[_0x22a6d4(0x15f)](),_0x44e8a4=0x30*0x3c*0x3c*0x3e8;try{const _0xf8e55b=await _0x27649f[_0x22a6d4(0x16e)](_0x27649f[_0x22a6d4(0x134)][_0x22a6d4(0x114)]+'.data.table');if(!_0xf8e55b||!_0xf8e55b[_0x22a6d4(0x131)])return;const _0x31bbe4=JSON[_0x22a6d4(0x166)](_0xf8e55b[_0x22a6d4(0x131)]),_0xb597a9=_0x27649f[_0x22a6d4(0x134)][_0x22a6d4(0x101)]||[],_0x1974db=_0x27649f[_0x22a6d4(0x134)][_0x22a6d4(0xca)]||[],_0x144cf9=new Set();_0x1974db[_0x22a6d4(0x16b)](_0x5c50c0=>{const _0x385f66=_0x22a6d4;if(_0x5c50c0[_0x385f66(0xd6)])_0x144cf9[_0x385f66(0x14c)](_0x5c50c0[_0x385f66(0xd6)]);});for(const _0x5a17b6 of _0x31bbe4){if(_0x5a17b6[_0x22a6d4(0x12d)]&&_0xb597a9['length']>0x0&&!_0xb597a9[_0x22a6d4(0xf2)](_0x5a17b6['_calName']))continue;const _0x235fdc=_0x5a17b6[_0x22a6d4(0x135)]||_0x5a17b6[_0x22a6d4(0x124)]||_0x5a17b6['date'];if(!_0x235fdc)continue;const _0x1b7069=new Date(_0x235fdc),_0x36863c=_0x1b7069[_0x22a6d4(0x12f)]();if(isNaN(_0x36863c))continue;if(_0x36863c<_0x235909)continue;if(_0x36863c>_0x235909+_0x44e8a4)continue;const _0x39291f=(_0x5a17b6[_0x22a6d4(0x159)]||_0x5a17b6['summary']||'')['toLowerCase']();let _0x3231b3=![],_0xc04d42=[],_0x43c63d=_0x5a17b6['event']||_0x5a17b6[_0x22a6d4(0xd8)]||_0x22a6d4(0x105);if(_0x39291f[_0x22a6d4(0xf2)](_0x22a6d4(0x111))||_0x39291f[_0x22a6d4(0xf2)]('r√ºckkehr')||_0x39291f[_0x22a6d4(0xf2)](_0x22a6d4(0x168)))_0x3231b3=!![],_0xc04d42=Array[_0x22a6d4(0x13f)](_0x144cf9);else for(const _0x24ad06 of _0x144cf9){if(_0x39291f[_0x22a6d4(0xf2)](_0x24ad06['toLowerCase']()))_0xc04d42[_0x22a6d4(0x14b)](_0x24ad06);}_0xc04d42[_0x22a6d4(0x15b)]>0x0&&_0xc04d42[_0x22a6d4(0x16b)](_0x357628=>{const _0x3a0a34=_0x22a6d4;let _0x2572ad=0x3c;if(_0x3231b3){let _0x34c5ea=0x0;Object[_0x3a0a34(0x144)](_0x2ca728)[_0x3a0a34(0x16b)](_0x4e7429=>{if(_0x4e7429>_0x34c5ea)_0x34c5ea=_0x4e7429;}),_0x2572ad=_0x34c5ea>0x0?_0x34c5ea:0x78;}else _0x2572ad=getWarmupRobust(_0x2ca728,_0x357628);const _0x170fa9=new Date(_0x36863c-_0x2572ad*0xea60);_0x2b5224[_0x3a0a34(0x14b)]({'eventTime':_0x36863c,'triggerTime':_0x170fa9[_0x3a0a34(0x12f)](),'room':_0x357628,'minutes':_0x2572ad,'reason':_0x43c63d,'isGlobal':_0x3231b3});});}}catch(_0x2f587a){}_0x2b5224['sort']((_0x4c4ce2,_0x3c8630)=>_0x4c4ce2[_0x22a6d4(0xbf)]-_0x3c8630[_0x22a6d4(0xbf)]);const _0x577c7b=_0x2b5224[_0x22a6d4(0xda)](0x0,0x5);await _0x27649f[_0x22a6d4(0xc3)](_0x22a6d4(0xc8),{'val':JSON[_0x22a6d4(0x170)](_0x577c7b),'ack':!![]});}function a1_0x3f46(){const _0x3991e8=['switch','\x20auf\x20','getHours','4349103iKVBcL','mpc_','eventStart','setpoint','üö®\x20[MPC\x20WATCHDOG]\x20','set','entries','sort','(((.+)+)+)+$','\x20ist\x20auf\x20','string','_calName','type','getTime','¬∞C).\x20Sparmodus\x20beendet!','val','getForeignObjectAsync','isArray','config','_date','80giWVkI',')\x20aktiv.\x20Heize\x20auf\x20','¬∞C\x20(nicht\x20','.1.SET_POINT_TEMPERATURE','warn','analysis.energy.warmupSources','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','valve','exports','from','¬∞C!\x20(Puffer\x20leer).','wert','üî•\x20[MPC\x20ACTION]\x20Heize\x20','message','values','log','state','temp','getStateAsync','score','analysis.automation.mode','push','add','actual','toString','üßπ\x20[MPC\x20CLEANUP]\x20','dimmer','Nicht\x20gefunden','write','TRAIN_RL_PENALTY','[CAL]\x20','¬∞C\x20->\x20','SET','abs','9oaZagh','event','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','length','contact','system.mode','[FORCE]\x20','now','Fehlt','light','target','join','analysis.energy.warmupTargets','valve_position','parse','cal_','ankunft','analysis.energy.activeEnforcements','¬∞C.','forEach','thermostat','rescue_','getForeignStateAsync','.1.ACTUAL_TEMPERATURE','stringify','localeCompare','¬∞C\x20<\x20','hm-rpc','¬∞C\x20(Kalender-Schutz)','messwert','setForeignStateAsync','.1.TEMPERATURE','temperature','unshift','analysis.automation.confidenceThreshold','44tePYrR','triggerTime','Calendar\x20Check\x20Error:\x20','remove','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','setStateAsync','occupied_heating_setpoint','Pr√§diktion:\x20','filter','indexOf','analysis.energy.schedulePreview','68354ljCnxz','devices','splice','split','./ai_agent','value.valve','224682KuHGaX','info','[MPC]\x20','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','\x20->\x20','analysis.energy.warmupTimes','analysis.energy.ventilationAlerts','location','1275290ZFGFFd','summary','üìÖ\x20SMART\x20SCHEDULE\x20[','slice','.4.SET_TEMPERATURE','.1.LEVEL','SET_POINT_TEMPERATURE','toLowerCase','analysis.energy.rlPenalties','consultButler','Ist','\x20min).','name','Auto-Erkennung','7QytKmP','local_temperature','level.valve','apply','Classic','¬∞C\x20(Vorlauf:\x20','level.temperature','common','current_heating_setpoint',':\x20Absenkung\x20auf\x20','number','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','off','includes','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','replace','\x20wieder\x20auf\x20',':\x20Aufheizen\x20auf\x20','search','700799QHPTqS','valveMapping','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','room','role','manual','too_cold','thermostat.setpoint','find','calendarSelection','372xNpIIg','normal','Enforcement\x20Monitor\x20Error:\x20','Unbekannt','.4.VALVE_STATE','approved','\x20->\x20Schalte\x20','sensor','analysis.energy.mpcActiveInterventions','sendToPythonWrapper','\x20erreicht\x20Limit\x20(','¬∞C\x20(via\x20','_meta','r√ºckkehr','4700216HuBiUG','urlaub\x20ende','thermostatMapping','active','calendarInstance','default',']:\x20Raum-Trigger\x20\x27','trim','analysis.automation.actionLog','useCalendar','openknx','soll','5691320ZwNWVH','position','analysis.automation.lastAction'];a1_0x3f46=function(){return _0x3991e8;};return a1_0x3f46();}async function monitorEnforcements(_0x3b33df){const _0x53701f=a1_0x35df12;try{const _0x48c9e3=_0x53701f(0x169),_0x49e19c=await _0x3b33df[_0x53701f(0x148)](_0x48c9e3);if(!_0x49e19c||!_0x49e19c['val'])return;let _0x330228=[];try{_0x330228=JSON[_0x53701f(0x166)](_0x49e19c['val']);}catch(_0xfaf54b){return;}if(!Array[_0x53701f(0x133)](_0x330228)||_0x330228[_0x53701f(0x15b)]===0x0)return;const _0x1a5a91=Date[_0x53701f(0x15f)](),_0xf5f108=_0x3b33df['config'][_0x53701f(0xca)]||[];let _0x5f36c1=![];for(let _0x3a90fc=_0x330228['length']-0x1;_0x3a90fc>=0x0;_0x3a90fc--){const _0xf7a276=_0x330228[_0x3a90fc];if(_0x1a5a91>=_0xf7a276['until']){_0x3b33df[_0x53701f(0x145)]['info'](_0x53701f(0x13c)+_0xf7a276[_0x53701f(0xfb)]+'\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.'),_0x330228[_0x53701f(0xcb)](_0x3a90fc,0x1),_0x5f36c1=!![];continue;}const _0x16ba7d=_0xf5f108[_0x53701f(0x100)](_0x5adc7b=>normalize(_0x5adc7b[_0x53701f(0xd6)])===normalize(_0xf7a276[_0x53701f(0xfb)])&&(_0x5adc7b[_0x53701f(0x12e)]===_0x53701f(0x178)||_0x5adc7b[_0x53701f(0x12e)]===_0x53701f(0x16c)));if(_0x16ba7d){const _0xdd43e6=await findRelatedId(_0x3b33df,_0x16ba7d['id'],'setpoint');if(_0xdd43e6){const _0x197df2=await _0x3b33df[_0x53701f(0x16e)](_0xdd43e6);_0x197df2&&typeof _0x197df2[_0x53701f(0x131)]===_0x53701f(0xef)&&(_0x197df2[_0x53701f(0x131)]<0xf&&(_0x3b33df['log']['warn']('üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0xf7a276[_0x53701f(0xfb)]+'\x20auf\x20'+_0x197df2[_0x53701f(0x131)]+'¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20'+_0xf7a276[_0x53701f(0x162)]+_0x53701f(0x16a)),await _0x3b33df[_0x53701f(0x176)](_0xdd43e6,_0xf7a276[_0x53701f(0x162)]),await logAutomationAction(_0x3b33df,_0x53701f(0x15e)+_0xf7a276[_0x53701f(0xfb)]+':\x20'+_0x197df2[_0x53701f(0x131)]+_0x53701f(0x155)+_0xf7a276['target']+_0x53701f(0x174))));}}}_0x5f36c1&&await _0x3b33df[_0x53701f(0xc3)](_0x48c9e3,{'val':JSON['stringify'](_0x330228),'ack':!![]});}catch(_0xe40315){_0x3b33df['log']['error'](_0x53701f(0x104)+_0xe40315[_0x53701f(0x143)]);}}async function checkCalendarTriggers(_0x249f93){const _0x3347d2=a1_0x35df12;if(!_0x249f93['config'][_0x3347d2(0x119)]||!_0x249f93[_0x3347d2(0x134)][_0x3347d2(0x114)])return;await updateSchedulePreview(_0x249f93);let _0x5f7841={},_0x5bb6fe={};try{const _0x122921=await _0x249f93[_0x3347d2(0x148)](_0x3347d2(0xd4));if(_0x122921&&_0x122921[_0x3347d2(0x131)])_0x5f7841=JSON[_0x3347d2(0x166)](_0x122921['val']);const _0x42b73e=await _0x249f93[_0x3347d2(0x148)](_0x3347d2(0x13b));if(_0x42b73e&&_0x42b73e[_0x3347d2(0x131)])_0x5bb6fe=JSON['parse'](_0x42b73e[_0x3347d2(0x131)]);}catch(_0xdea271){}let _0x2cfa01={'default':0x15};try{const _0x166b64=await _0x249f93[_0x3347d2(0x148)]('analysis.energy.warmupTargets');if(_0x166b64&&_0x166b64[_0x3347d2(0x131)])_0x2cfa01=JSON[_0x3347d2(0x166)](_0x166b64[_0x3347d2(0x131)]);}catch(_0x233f0f){}let _0x1a0f6e=[];try{const _0x27b3ee=await _0x249f93[_0x3347d2(0x148)]('analysis.energy.activeEnforcements');if(_0x27b3ee&&_0x27b3ee[_0x3347d2(0x131)])_0x1a0f6e=JSON[_0x3347d2(0x166)](_0x27b3ee['val']);}catch(_0x5d866f){}try{const _0x1e5f73=await _0x249f93[_0x3347d2(0x16e)](_0x249f93[_0x3347d2(0x134)][_0x3347d2(0x114)]+'.data.table');if(!_0x1e5f73||!_0x1e5f73[_0x3347d2(0x131)])return;const _0x274138=JSON[_0x3347d2(0x166)](_0x1e5f73['val']),_0x49d525=Date['now'](),_0x48b557=_0x249f93[_0x3347d2(0x134)][_0x3347d2(0xca)]||[],_0x3f10a4=_0x249f93[_0x3347d2(0x134)][_0x3347d2(0x101)]||[];let _0x20bdd4=![];for(const _0x242432 of _0x274138){if(_0x242432[_0x3347d2(0x12d)]&&_0x3f10a4[_0x3347d2(0x15b)]>0x0&&!_0x3f10a4[_0x3347d2(0xf2)](_0x242432[_0x3347d2(0x12d)]))continue;const _0x16f1a0=_0x242432[_0x3347d2(0x135)]||_0x242432[_0x3347d2(0x124)]||_0x242432['date'];if(!_0x16f1a0)continue;const _0x5e6abe=new Date(_0x16f1a0);if(isNaN(_0x5e6abe['getTime']()))continue;const _0x56a6af=(_0x242432[_0x3347d2(0x159)]||_0x242432[_0x3347d2(0xd8)]||'')[_0x3347d2(0xde)]();if(_0x56a6af[_0x3347d2(0xf2)](_0x3347d2(0x111))||_0x56a6af[_0x3347d2(0xf2)](_0x3347d2(0x10f))||_0x56a6af[_0x3347d2(0xf2)](_0x3347d2(0x168))){let _0x2051a5=0x0;Object[_0x3347d2(0x144)](_0x5f7841)[_0x3347d2(0x16b)](_0x4ac377=>{if(_0x4ac377>_0x2051a5)_0x2051a5=_0x4ac377;});if(_0x2051a5===0x0)_0x2051a5=0x78;const _0x5f05e6=_0x5e6abe[_0x3347d2(0x12f)]()-_0x2051a5*0xea60;_0x49d525>=_0x5f05e6&&_0x49d525<_0x5e6abe[_0x3347d2(0x12f)]()&&(_0x249f93['currentSystemMode']!==_0x3347d2(0x103)&&(_0x249f93[_0x3347d2(0x145)][_0x3347d2(0xd0)]('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x2051a5+'\x20min).'),await _0x249f93[_0x3347d2(0xc3)](_0x3347d2(0x15d),{'val':_0x3347d2(0x103),'ack':![]})));}for(const _0x9733b8 of _0x48b557){if(_0x9733b8[_0x3347d2(0xd6)]){const _0x336a60=_0x9733b8['location'][_0x3347d2(0xde)](),_0x3bffa1=(_0x9733b8[_0x3347d2(0xe3)]||'')[_0x3347d2(0xde)]();let _0x469c0a=_0x56a6af[_0x3347d2(0xf2)](_0x336a60);!_0x469c0a&&_0x3bffa1[_0x3347d2(0x15b)]>0x3&&_0x56a6af[_0x3347d2(0xf2)](_0x3bffa1)&&(_0x469c0a=!![]);if(_0x469c0a){const _0x1dd1f4=getWarmupRobust(_0x5f7841,_0x9733b8[_0x3347d2(0xd6)]),_0x495978=_0x5bb6fe[_0x9733b8[_0x3347d2(0xd6)]]||_0x3347d2(0xe9),_0x5c1098=_0x5e6abe[_0x3347d2(0x12f)]()-_0x1dd1f4*0xea60;if(_0x49d525>=_0x5c1098&&_0x49d525<_0x5e6abe['getTime']()){const _0x1aa71c=lastActions['cal_'+_0x9733b8['location']];if(_0x1aa71c&&_0x49d525-_0x1aa71c<CAL_COOLDOWN_MS)continue;const _0xba1390=await findRelatedId(_0x249f93,_0x9733b8['id'],_0x3347d2(0x125));if(_0xba1390){let _0x1732e4=_0x2cfa01[_0x9733b8[_0x3347d2(0xd6)]];if(_0x1732e4===undefined)_0x1732e4=_0x2cfa01['default'];if(_0x1732e4===undefined)_0x1732e4=0x15;const _0x3a7d8a=await _0x249f93[_0x3347d2(0x16e)](_0xba1390);if(_0x3a7d8a&&typeof _0x3a7d8a[_0x3347d2(0x131)]===_0x3347d2(0xef)&&_0x3a7d8a[_0x3347d2(0x131)]<_0x1732e4-0.5){_0x249f93[_0x3347d2(0x145)]['info'](_0x3347d2(0xd9)+_0x495978+_0x3347d2(0x116)+_0x9733b8[_0x3347d2(0xd6)]+'\x27\x20(Match:\x20'+_0x56a6af+_0x3347d2(0x137)+_0x1732e4+_0x3347d2(0xea)+_0x1dd1f4+_0x3347d2(0xe2)),await _0x249f93[_0x3347d2(0x176)](_0xba1390,_0x1732e4),await logAutomationAction(_0x249f93,_0x3347d2(0x154)+_0x9733b8[_0x3347d2(0xd6)]+_0x3347d2(0xd3)+_0x1732e4+_0x3347d2(0x10d)+_0x495978+')'),lastActions[_0x3347d2(0x167)+_0x9733b8[_0x3347d2(0xd6)]]=_0x49d525;const _0xda38f4=_0x1a0f6e['findIndex'](_0x3a29e4=>_0x3a29e4[_0x3347d2(0xfb)]===_0x9733b8[_0x3347d2(0xd6)]);if(_0xda38f4!==-0x1)_0x1a0f6e[_0x3347d2(0xcb)](_0xda38f4,0x1);_0x1a0f6e['push']({'room':_0x9733b8['location'],'target':_0x1732e4,'until':_0x5e6abe[_0x3347d2(0x12f)]()}),_0x20bdd4=!![];}}}}}}}_0x20bdd4&&await _0x249f93[_0x3347d2(0xc3)](_0x3347d2(0x169),{'val':JSON['stringify'](_0x1a0f6e),'ack':!![]});}catch(_0x428dca){_0x249f93['log'][_0x3347d2(0x13a)](_0x3347d2(0xc0)+_0x428dca[_0x3347d2(0x143)]);}}function a1_0x3161(_0x2a83be,_0x2b4fbe){const _0x1dbbb4=a1_0x3f46();return a1_0x3161=function(_0x1ce77d,_0x4f06e7){_0x1ce77d=_0x1ce77d-0xbd;let _0x3f46b1=_0x1dbbb4[_0x1ce77d];return _0x3f46b1;},a1_0x3161(_0x2a83be,_0x2b4fbe);}async function manageMpcIntervention(_0x380727,_0x3cdf68,_0x20b990){const _0x368829=a1_0x35df12;try{const _0x731f75=_0x368829(0x10a),_0x55a677=await _0x380727[_0x368829(0x148)](_0x731f75);let _0x1a460b=[];if(_0x55a677&&_0x55a677[_0x368829(0x131)])try{_0x1a460b=JSON[_0x368829(0x166)](_0x55a677[_0x368829(0x131)]);}catch(_0x3bc9e4){}const _0x77477f=_0x1a460b[_0x368829(0xc7)](_0x3cdf68);if(_0x20b990==='add')_0x77477f===-0x1&&(_0x1a460b[_0x368829(0x14b)](_0x3cdf68),await _0x380727[_0x368829(0xc3)](_0x731f75,{'val':JSON[_0x368829(0x170)](_0x1a460b),'ack':!![]}));else _0x20b990===_0x368829(0xc1)&&(_0x77477f!==-0x1&&(_0x1a460b['splice'](_0x77477f,0x1),await _0x380727[_0x368829(0xc3)](_0x731f75,{'val':JSON[_0x368829(0x170)](_0x1a460b),'ack':!![]})));}catch(_0x32c472){}}async function cleanupGhostInterventions(_0x318eab){const _0x4bd805=a1_0x35df12;try{const _0x3a1fc2=_0x4bd805(0x10a),_0x4383f7=await _0x318eab[_0x4bd805(0x148)](_0x3a1fc2);if(!_0x4383f7||!_0x4383f7['val'])return;const _0x4069e5=JSON[_0x4bd805(0x166)](_0x4383f7[_0x4bd805(0x131)]);if(!Array[_0x4bd805(0x133)](_0x4069e5)||_0x4069e5['length']===0x0)return;let _0x1bf71e={'default':0x15};try{const _0x1762bd=await _0x318eab[_0x4bd805(0x148)](_0x4bd805(0x164));if(_0x1762bd&&_0x1762bd[_0x4bd805(0x131)])_0x1bf71e=JSON[_0x4bd805(0x166)](_0x1762bd[_0x4bd805(0x131)]);}catch(_0x2ab23a){}let _0x15138b=[];try{const _0x1d6000=await _0x318eab[_0x4bd805(0x148)](_0x4bd805(0xd5));if(_0x1d6000&&_0x1d6000[_0x4bd805(0x131)])_0x15138b=JSON['parse'](_0x1d6000[_0x4bd805(0x131)]);}catch(_0x2d233e){}let _0x170a49={},_0x3d897a=![];try{const _0x155235=await _0x318eab['getStateAsync'](_0x4bd805(0xdf));if(_0x155235&&_0x155235[_0x4bd805(0x131)])_0x170a49=JSON[_0x4bd805(0x166)](_0x155235[_0x4bd805(0x131)]);}catch(_0x423213){}if(_0x170a49[_0x4bd805(0x10e)]){const _0x29f70f=Date[_0x4bd805(0x15f)]();for(const [_0x510175,_0x397912]of Object['entries'](_0x170a49[_0x4bd805(0x10e)])){_0x29f70f-_0x397912>PENALTY_TTL&&(delete _0x170a49[_0x510175],delete _0x170a49[_0x4bd805(0x10e)][_0x510175],_0x3d897a=!![],_0x318eab[_0x4bd805(0x145)][_0x4bd805(0xd0)](_0x4bd805(0x15a)+_0x510175+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x5bba96=_0x318eab[_0x4bd805(0x134)]['devices']||[];let _0x29ada7=![];for(let _0x151557=_0x4069e5['length']-0x1;_0x151557>=0x0;_0x151557--){const _0x2e988d=_0x4069e5[_0x151557],_0x5c03fa=_0x5bba96[_0x4bd805(0x100)](_0x16a4a7=>normalize(_0x16a4a7[_0x4bd805(0xd6)])===normalize(_0x2e988d)&&(_0x16a4a7[_0x4bd805(0x12e)]===_0x4bd805(0x178)||_0x16a4a7[_0x4bd805(0x12e)]===_0x4bd805(0x16c)));if(!_0x5c03fa){_0x318eab['log'][_0x4bd805(0x13a)](_0x4bd805(0xf0)+_0x2e988d+_0x4bd805(0xf3)),_0x4069e5[_0x4bd805(0xcb)](_0x151557,0x1),_0x29ada7=!![];continue;}if(_0x5c03fa){const _0x1f2dcb=await findRelatedId(_0x318eab,_0x5c03fa['id'],_0x4bd805(0x125)),_0x193f6b=await _0x318eab['getForeignStateAsync'](_0x5c03fa['id']);if(_0x1f2dcb){const _0x18fda4=await _0x318eab[_0x4bd805(0x16e)](_0x1f2dcb);if(_0x18fda4&&typeof _0x18fda4[_0x4bd805(0x131)]==='number'){let _0x3c7a62=![],_0x3f25db='';Math[_0x4bd805(0x157)](_0x18fda4[_0x4bd805(0x131)]-ECO_TEMP)>0.5&&(_0x3c7a62=!![],_0x3f25db=_0x4bd805(0xfd));if(!_0x3c7a62&&_0x193f6b&&typeof _0x193f6b[_0x4bd805(0x131)]==='number'){const _0x57be73=_0x1bf71e[_0x2e988d]||_0x1bf71e[_0x4bd805(0x115)]||0x15;_0x193f6b[_0x4bd805(0x131)]<_0x57be73+0.2&&(_0x3c7a62=!![],_0x3f25db=_0x4bd805(0xfe));}if(_0x3c7a62){if(_0x3f25db===_0x4bd805(0xfd)){_0x318eab[_0x4bd805(0x145)]['info'](_0x4bd805(0x14f)+_0x2e988d+_0x4bd805(0x12b)+_0x18fda4[_0x4bd805(0x131)]+_0x4bd805(0x138)+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0x2ae918=lastActions[_0x4bd805(0x167)+_0x2e988d],_0x51d997=_0x2ae918&&Date[_0x4bd805(0x15f)]()-_0x2ae918<0x2*0x3c*0x3e8;if(!_0x51d997&&_0x18fda4['val']>ECO_TEMP+0.5){_0x318eab[_0x4bd805(0x10b)]&&(_0x318eab[_0x4bd805(0x145)][_0x4bd805(0xd0)]('üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20'+_0x2e988d+'\x20wurde\x20manuell\x20erh√∂ht.'),_0x318eab[_0x4bd805(0x10b)](_0x4bd805(0x153),{'room':_0x2e988d}));const _0x2b7c41=_0x2e988d+'_'+new Date()[_0x4bd805(0x121)]();if(!_0x170a49[_0x2b7c41]){_0x170a49[_0x2b7c41]=0x1;if(!_0x170a49[_0x4bd805(0x10e)])_0x170a49[_0x4bd805(0x10e)]={};_0x170a49[_0x4bd805(0x10e)][_0x2b7c41]=Date[_0x4bd805(0x15f)](),_0x3d897a=!![];}}else _0x51d997&&_0x318eab['log']['info']('üìÖ\x20[MPC\x20INFO]\x20'+_0x2e988d+_0x4bd805(0xd2));}else{if(_0x3f25db==='too_cold'){let _0x453222=![];if(_0x15138b['find'](_0x8a6650=>_0x8a6650[_0x4bd805(0xfb)]===_0x2e988d))_0x453222=!![];const _0x520385=_0x5bba96[_0x4bd805(0xc6)](_0x2df322=>normalize(_0x2df322[_0x4bd805(0xd6)])===normalize(_0x2e988d)&&(_0x2df322[_0x4bd805(0x12e)]==='window'||_0x2df322[_0x4bd805(0x12e)]===_0x4bd805(0x109)||_0x2df322[_0x4bd805(0x12e)]===_0x4bd805(0x15c)));for(const _0x400d8f of _0x520385){try{const _0x29689=await _0x318eab[_0x4bd805(0x16e)](_0x400d8f['id']);if(_0x29689&&(_0x29689[_0x4bd805(0x131)]===!![]||_0x29689[_0x4bd805(0x131)]===0x1||String(_0x29689[_0x4bd805(0x131)])[_0x4bd805(0xde)]()==='open'))_0x453222=!![];}catch(_0x3c5b07){}}if(_0x453222)_0x318eab['log'][_0x4bd805(0xd0)]('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x2e988d+_0x4bd805(0xc2));else{const _0x1d3220=_0x1bf71e[_0x2e988d]||_0x1bf71e[_0x4bd805(0x115)]||0x15;_0x318eab[_0x4bd805(0x145)][_0x4bd805(0xd0)](_0x4bd805(0x126)+_0x2e988d+_0x4bd805(0x10c)+_0x193f6b[_0x4bd805(0x131)]+_0x4bd805(0x172)+(_0x1d3220+0.2)+_0x4bd805(0x130)),await _0x318eab[_0x4bd805(0x176)](_0x1f2dcb,_0x1d3220),await logAutomationAction(_0x318eab,'[WATCHDOG]\x20'+_0x2e988d+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x1d3220+'¬∞C'),lastActions[_0x4bd805(0x16d)+_0x2e988d]=Date[_0x4bd805(0x15f)]();}}}_0x4069e5['splice'](_0x151557,0x1),_0x29ada7=!![];}}}}}_0x29ada7&&await _0x318eab[_0x4bd805(0xc3)](_0x3a1fc2,{'val':JSON[_0x4bd805(0x170)](_0x4069e5),'ack':!![]}),_0x3d897a&&await _0x318eab['setStateAsync'](_0x4bd805(0xdf),{'val':JSON['stringify'](_0x170a49),'ack':!![]});}catch(_0x50773e){}}async function applyEnergySavings(_0x4ee379,_0x5b6067){const _0x8f8bae=a1_0x35df12;await cleanupGhostInterventions(_0x4ee379);if(!_0x5b6067||_0x5b6067[_0x8f8bae(0x15b)]===0x0)return;const _0x3e2d5c=_0x4ee379['config']['devices']||[],_0x2412b4=Date[_0x8f8bae(0x15f)]();for(const _0x5c7d71 of _0x5b6067){const _0xe61aca=_0x5c7d71[_0x8f8bae(0xfb)],_0x59d3b0=_0x5c7d71['minutes_safe'],_0x2e10c5=_0x5c7d71[_0x8f8bae(0x162)]||0x15;if(lastActions[_0x8f8bae(0x16d)+_0xe61aca]&&_0x2412b4-lastActions[_0x8f8bae(0x16d)+_0xe61aca]<RESCUE_LOCK_MS)continue;const _0x52eeda=_0x3e2d5c[_0x8f8bae(0x100)](_0x1c697e=>normalize(_0x1c697e[_0x8f8bae(0xd6)])===normalize(_0xe61aca)&&(_0x1c697e[_0x8f8bae(0x12e)]==='temperature'||_0x1c697e['type']===_0x8f8bae(0x16c)));if(!_0x52eeda)continue;const _0x467df3=await findRelatedId(_0x4ee379,_0x52eeda['id'],_0x8f8bae(0x125));if(_0x467df3){if(lastActions[_0x8f8bae(0x123)+_0xe61aca]&&_0x2412b4-lastActions[_0x8f8bae(0x123)+_0xe61aca]<0x1e*0x3c*0x3e8)continue;const _0x3fb42a=await _0x4ee379[_0x8f8bae(0x16e)](_0x467df3);if(_0x3fb42a&&typeof _0x3fb42a[_0x8f8bae(0x131)]===_0x8f8bae(0xef)){const _0x480bfe=_0x3fb42a[_0x8f8bae(0x131)];_0x480bfe!==ECO_TEMP&&await manageMpcIntervention(_0x4ee379,_0xe61aca,_0x8f8bae(0xc1));if(_0x59d3b0>0x1e)_0x480bfe>ECO_TEMP+0.5&&(_0x4ee379[_0x8f8bae(0x145)][_0x8f8bae(0xd0)](_0x8f8bae(0xfa)+_0xe61aca+_0x8f8bae(0x120)+ECO_TEMP+'¬∞C!\x20(Puffer:\x20'+_0x59d3b0+'\x20min)'),await _0x4ee379[_0x8f8bae(0x176)](_0x467df3,ECO_TEMP),await manageMpcIntervention(_0x4ee379,_0xe61aca,_0x8f8bae(0x14c)),lastActions[_0x8f8bae(0x123)+_0xe61aca]=_0x2412b4,await logAutomationAction(_0x4ee379,'[MPC]\x20'+_0xe61aca+_0x8f8bae(0xee)+ECO_TEMP+'¬∞C'));else _0x59d3b0<=0xf&&(_0x480bfe<_0x2e10c5&&(_0x4ee379[_0x8f8bae(0x145)]['info'](_0x8f8bae(0x142)+_0xe61aca+_0x8f8bae(0xf5)+_0x2e10c5+_0x8f8bae(0x140)),await _0x4ee379[_0x8f8bae(0x176)](_0x467df3,_0x2e10c5),await manageMpcIntervention(_0x4ee379,_0xe61aca,'remove'),lastActions[_0x8f8bae(0x123)+_0xe61aca]=_0x2412b4,await logAutomationAction(_0x4ee379,_0x8f8bae(0xd1)+_0xe61aca+_0x8f8bae(0xf6)+_0x2e10c5+'¬∞C')));}}else _0x4ee379[_0x8f8bae(0x145)][_0x8f8bae(0x13a)]('[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20'+_0xe61aca+'\x20gefunden!');}}module[a1_0x35df12(0x13e)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};