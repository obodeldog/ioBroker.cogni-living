const a1_0x5022b0=a1_0x2ca5;(function(_0x2109ac,_0xe296ad){const _0x585074=a1_0x2ca5,_0x2f5e07=_0x2109ac();while(!![]){try{const _0x31e166=-parseInt(_0x585074(0x1cd))/0x1+-parseInt(_0x585074(0x197))/0x2*(parseInt(_0x585074(0x1d0))/0x3)+parseInt(_0x585074(0x19c))/0x4+parseInt(_0x585074(0x228))/0x5+-parseInt(_0x585074(0x208))/0x6*(-parseInt(_0x585074(0x1ab))/0x7)+parseInt(_0x585074(0x1e2))/0x8*(parseInt(_0x585074(0x1cb))/0x9)+-parseInt(_0x585074(0x23e))/0xa*(parseInt(_0x585074(0x19e))/0xb);if(_0x31e166===_0xe296ad)break;else _0x2f5e07['push'](_0x2f5e07['shift']());}catch(_0x7feec7){_0x2f5e07['push'](_0x2f5e07['shift']());}}}(a1_0x21f4,0xbc8fb));const a1_0xa9b7e7=(function(){let _0x4d3409=!![];return function(_0x191aa1,_0x5c1767){const _0x49478c=_0x4d3409?function(){const _0xe38563=a1_0x2ca5;if(_0x5c1767){const _0x2d10f8=_0x5c1767[_0xe38563(0x1a7)](_0x191aa1,arguments);return _0x5c1767=null,_0x2d10f8;}}:function(){};return _0x4d3409=![],_0x49478c;};}()),a1_0x4e8b56=a1_0xa9b7e7(this,function(){const _0x98eb5c=a1_0x2ca5;return a1_0x4e8b56[_0x98eb5c(0x1b2)]()[_0x98eb5c(0x180)](_0x98eb5c(0x214))[_0x98eb5c(0x1b2)]()[_0x98eb5c(0x18d)](a1_0x4e8b56)[_0x98eb5c(0x180)](_0x98eb5c(0x214));});a1_0x4e8b56();'use strict';const aiAgent=require(a1_0x5022b0(0x20f)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x42b16){const _0x3cdb2b=a1_0x5022b0;if(!_0x42b16)return'';return _0x42b16[_0x3cdb2b(0x225)]()[_0x3cdb2b(0x1b3)](/\s+/g,'')['trim']();}function getWarmupRobust(_0x46ee44,_0x4610a6){const _0x5ed22e=a1_0x5022b0;if(!_0x46ee44||!_0x4610a6)return 0x3c;if(_0x46ee44[_0x4610a6]!==undefined)return _0x46ee44[_0x4610a6];const _0x891e53=_0x4610a6['toLowerCase']()[_0x5ed22e(0x1b3)](/Ã¤/g,'ae')['replace'](/Ã¶/g,'oe')[_0x5ed22e(0x1b3)](/Ã¼/g,'ue')[_0x5ed22e(0x1b3)](/ÃŸ/g,'ss')[_0x5ed22e(0x1b3)](/\s+/g,'_')[_0x5ed22e(0x1b3)](/[^a-z0-9_]/g,'');if(_0x46ee44[_0x891e53]!==undefined)return _0x46ee44[_0x891e53];return 0x3c;}async function logAutomationAction(_0x245b6c,_0x10d22f){const _0x11c523=a1_0x5022b0;await _0x245b6c[_0x11c523(0x1c8)](_0x11c523(0x227),{'val':_0x10d22f,'ack':!![]});try{const _0x4bd7b4=_0x11c523(0x182),_0x3800c6=await _0x245b6c[_0x11c523(0x1cc)](_0x4bd7b4);let _0xa44343=[];if(_0x3800c6&&_0x3800c6[_0x11c523(0x18a)])try{_0xa44343=JSON[_0x11c523(0x204)](_0x3800c6[_0x11c523(0x18a)]);}catch(_0x4c6006){}_0xa44343[_0x11c523(0x19f)]({'ts':Date[_0x11c523(0x187)](),'msg':_0x10d22f});if(_0xa44343[_0x11c523(0x1a3)]>0x32)_0xa44343=_0xa44343['slice'](0x0,0x32);await _0x245b6c[_0x11c523(0x1c8)](_0x4bd7b4,{'val':JSON[_0x11c523(0x226)](_0xa44343),'ack':!![]});}catch(_0x4af5a3){}}async function handlePrediction(_0x45c780,_0x31b73d,_0x51efda){const _0x38571a=a1_0x5022b0;if(!_0x31b73d||_0x31b73d===_0x38571a(0x1fc))return;let _0x2e21e3=_0x38571a(0x1a5),_0x42e068=0.6;try{const _0x255f04=await _0x45c780[_0x38571a(0x1cc)](_0x38571a(0x1f7));if(_0x255f04&&_0x255f04['val'])_0x2e21e3=_0x255f04[_0x38571a(0x18a)];const _0x5143e6=await _0x45c780[_0x38571a(0x1cc)](_0x38571a(0x189));if(_0x5143e6&&_0x5143e6[_0x38571a(0x18a)])_0x42e068=_0x5143e6['val'];}catch(_0x5cd031){}if(_0x2e21e3==='off'||_0x51efda<_0x42e068)return;const _0x4af1e3=Date['now']();if(lastActions[_0x31b73d]&&_0x4af1e3-lastActions[_0x31b73d]<COOLDOWN_MS)return;const _0xf84a54=_0x45c780['config'][_0x38571a(0x236)]||[],_0x3045ea=normalize(_0x31b73d),_0x2eca50=_0xf84a54[_0x38571a(0x1be)](_0x32f356=>normalize(_0x32f356[_0x38571a(0x239)])===_0x3045ea&&(_0x32f356[_0x38571a(0x1ed)]===_0x38571a(0x1f8)||_0x32f356[_0x38571a(0x1ed)]===_0x38571a(0x209)||_0x32f356[_0x38571a(0x1ed)]==='switch'));if(!_0x2eca50)return;const _0xfe18e=await aiAgent['consultButler'](_0x45c780,_0x31b73d,_0x2eca50[_0x38571a(0x216)],_0x51efda);if(!_0xfe18e['approved'])return;const _0x888fa=_0x38571a(0x1a2)+_0x31b73d+_0x38571a(0x207)+_0x2eca50[_0x38571a(0x216)]+'\x20('+_0xfe18e[_0x38571a(0x22b)]+')';await logAutomationAction(_0x45c780,'['+_0x2e21e3[_0x38571a(0x1a4)]()+']\x20'+_0x888fa);if(_0x2e21e3===_0x38571a(0x1ac)){const _0x297981=await _0x45c780[_0x38571a(0x23a)](_0x2eca50['id']);(!_0x297981||!_0x297981['val']&&_0x297981[_0x38571a(0x18a)]!==!![])&&await _0x45c780[_0x38571a(0x224)](_0x2eca50['id'],!![]),lastActions[_0x31b73d]=_0x4af1e3;}}async function findRelatedId(_0x200efc,_0x152a0e,_0x57afcc='setpoint'){const _0x3b601e=a1_0x5022b0;if(_0x57afcc===_0x3b601e(0x1ec)&&_0x200efc[_0x3b601e(0x20a)][_0x3b601e(0x212)]){let _0x1b2ee2=_0x200efc[_0x3b601e(0x20a)][_0x3b601e(0x212)];if(typeof _0x1b2ee2===_0x3b601e(0x1c1))try{_0x1b2ee2=JSON[_0x3b601e(0x204)](_0x1b2ee2);}catch(_0x4a1921){}if(_0x1b2ee2&&_0x1b2ee2[_0x152a0e])return _0x1b2ee2[_0x152a0e];}if(_0x57afcc===_0x3b601e(0x183)&&_0x200efc[_0x3b601e(0x20a)][_0x3b601e(0x192)]){let _0x33e7a2=_0x200efc[_0x3b601e(0x20a)]['valveMapping'];if(typeof _0x33e7a2==='string')try{_0x33e7a2=JSON['parse'](_0x33e7a2);}catch(_0x1ddc53){}if(_0x33e7a2&&_0x33e7a2[_0x152a0e])return _0x33e7a2[_0x152a0e];}let _0x214759=[];if(_0x57afcc===_0x3b601e(0x1ec))_0x214759=[{'s':'.1.ACTUAL_TEMPERATURE','t':'.1.SET_POINT_TEMPERATURE'},{'s':'.1.TEMPERATURE','t':_0x3b601e(0x220)},{'s':'.1.TEMPERATURE','t':'.4.SET_TEMPERATURE'},{'s':_0x3b601e(0x221),'t':'SET_POINT_TEMPERATURE'},{'s':_0x3b601e(0x233),'t':_0x3b601e(0x1f6)},{'s':_0x3b601e(0x233),'t':'current_heating_setpoint'},{'s':_0x3b601e(0x1ca),'t':_0x3b601e(0x21f)},{'s':'ACTUAL','t':'SET'},{'s':_0x3b601e(0x1df),'t':_0x3b601e(0x1ee)},{'s':_0x3b601e(0x1ca),'t':'setpoint'}];else _0x57afcc===_0x3b601e(0x183)&&(_0x214759=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x3b601e(0x1ff)},{'s':_0x3b601e(0x1ad),'t':_0x3b601e(0x1ff)},{'s':'.1.TEMPERATURE','t':_0x3b601e(0x21d)},{'s':_0x3b601e(0x233),'t':_0x3b601e(0x1fb)},{'s':'temperature','t':_0x3b601e(0x1b7)},{'s':'temperature','t':_0x3b601e(0x1c9)}]);for(const _0x2a08aa of _0x214759){if(_0x152a0e[_0x3b601e(0x1c3)](_0x2a08aa['s'])){const _0x406587=_0x152a0e[_0x3b601e(0x1b3)](_0x2a08aa['s'],_0x2a08aa['t']),_0x13dc7a=await _0x200efc['getForeignObjectAsync'](_0x406587);if(_0x13dc7a)return _0x406587;}}try{const _0x51bc01=_0x152a0e['split']('.');if(_0x51bc01[_0x3b601e(0x1a3)]>0x2){const _0x7a461b=_0x51bc01[_0x3b601e(0x185)](0x0,-0x1)['join']('.'),_0x1b8774=await _0x200efc['getForeignObjectsAsync'](_0x7a461b+'.*'),_0x4ac253=[],_0x25b4ce=_0x152a0e[_0x3b601e(0x1fd)](/[._]+/)['filter'](_0x39e68d=>![_0x3b601e(0x1af),'0',_0x3b601e(0x21e),_0x3b601e(0x1d7),_0x3b601e(0x18e),_0x3b601e(0x1ca),_0x3b601e(0x213),_0x3b601e(0x1db),_0x3b601e(0x1c7),'state'][_0x3b601e(0x1c3)](_0x39e68d[_0x3b601e(0x225)]()));for(const [_0x17d48b,_0x5b6ac7]of Object[_0x3b601e(0x1e9)](_0x1b8774)){if(_0x17d48b===_0x152a0e)continue;if(_0x5b6ac7&&_0x5b6ac7['common']){const _0x257819=_0x17d48b[_0x3b601e(0x225)](),_0x340254=(_0x5b6ac7[_0x3b601e(0x1e7)][_0x3b601e(0x1f5)]||'')[_0x3b601e(0x225)](),_0x6917c6=(_0x5b6ac7['common'][_0x3b601e(0x1d4)]||'')[_0x3b601e(0x225)]();let _0x24df3e=![];if(_0x57afcc===_0x3b601e(0x1ec)&&_0x5b6ac7[_0x3b601e(0x1e7)][_0x3b601e(0x223)]===!![])_0x24df3e=_0x257819['includes'](_0x3b601e(0x1d8))||_0x257819[_0x3b601e(0x1c3)](_0x3b601e(0x191))||_0x257819[_0x3b601e(0x1c3)]('target')||_0x340254[_0x3b601e(0x1c3)](_0x3b601e(0x229))||_0x340254[_0x3b601e(0x1c3)](_0x3b601e(0x1c5));else _0x57afcc===_0x3b601e(0x183)&&(_0x24df3e=_0x257819[_0x3b601e(0x1c3)](_0x3b601e(0x1c9))||_0x257819[_0x3b601e(0x1c3)](_0x3b601e(0x183))||_0x257819[_0x3b601e(0x1c3)](_0x3b601e(0x1b1))||_0x257819[_0x3b601e(0x1c3)]('position')||_0x340254[_0x3b601e(0x1c3)]('level.valve')||_0x340254[_0x3b601e(0x1c3)](_0x3b601e(0x20c))||_0x6917c6[_0x3b601e(0x1c3)]('%'));if(_0x24df3e){const _0xbe342b=_0x17d48b[_0x3b601e(0x1fd)](/[._]+/)[_0x3b601e(0x1ea)](_0x312374=>_0x312374[_0x3b601e(0x225)]());let _0x5a7dbf=0x0;_0x25b4ce[_0x3b601e(0x1f0)](_0x593bf7=>{const _0x4dddc4=_0x3b601e;if(_0xbe342b['includes'](_0x593bf7[_0x4dddc4(0x225)]()))_0x5a7dbf++;}),_0x4ac253[_0x3b601e(0x1d5)]({'id':_0x17d48b,'score':_0x5a7dbf});}}}if(_0x4ac253[_0x3b601e(0x1a3)]>0x0){_0x4ac253[_0x3b601e(0x1a9)]((_0x445254,_0x4ce6b8)=>_0x4ce6b8['score']-_0x445254['score']);if(_0x4ac253[0x0][_0x3b601e(0x1b4)]>0x0)return _0x4ac253[0x0]['id'];}}}catch(_0x288b18){}return null;}function a1_0x2ca5(_0x131e68,_0x12b528){const _0x13326b=a1_0x21f4();return a1_0x2ca5=function(_0x4e8b56,_0xa9b7e7){_0x4e8b56=_0x4e8b56-0x17d;let _0x21f4f9=_0x13326b[_0x4e8b56];return _0x21f4f9;},a1_0x2ca5(_0x131e68,_0x12b528);}async function scanThermostats(_0x4e2c02){const _0x581276=a1_0x5022b0,_0x587b3c=_0x4e2c02['config']['devices']||[],_0x22527d=[],_0xe89d48=_0x587b3c[_0x581276(0x232)](_0x5094c4=>_0x5094c4['id']&&_0x5094c4['id'][_0x581276(0x1c3)](_0x581276(0x1ca))||_0x5094c4[_0x581276(0x1ed)]&&[_0x581276(0x1ca),_0x581276(0x1bf),'sensor'][_0x581276(0x1c3)](_0x5094c4[_0x581276(0x1ed)])||_0x5094c4[_0x581276(0x216)]&&_0x5094c4['name'][_0x581276(0x225)]()[_0x581276(0x1c3)](_0x581276(0x1e3)));for(const _0x34e089 of _0xe89d48){const _0x14659e=await findRelatedId(_0x4e2c02,_0x34e089['id'],'setpoint'),_0x2563d1=await findRelatedId(_0x4e2c02,_0x34e089['id'],'valve');let _0x299000=_0x581276(0x206),_0x20f69d=![],_0x46744d=_0x4e2c02[_0x581276(0x20a)][_0x581276(0x212)]||{};if(typeof _0x46744d==='string')try{_0x46744d=JSON['parse'](_0x46744d);}catch(_0x16eacf){}let _0x9d8a50=_0x4e2c02[_0x581276(0x20a)][_0x581276(0x192)]||{};if(typeof _0x9d8a50===_0x581276(0x1c1))try{_0x9d8a50=JSON[_0x581276(0x204)](_0x9d8a50);}catch(_0x1d7d77){}if(_0x46744d[_0x34e089['id']]&&_0x46744d[_0x34e089['id']]===_0x14659e||_0x9d8a50[_0x34e089['id']]&&_0x9d8a50[_0x34e089['id']]===_0x2563d1)_0x299000='Manuelles\x20Mapping',_0x20f69d=!![];else(_0x14659e||_0x2563d1)&&(_0x299000=_0x581276(0x231));_0x22527d[_0x581276(0x1d5)]({'room':_0x34e089['location']||_0x581276(0x21a),'sensorId':_0x34e089['id'],'setpointId':_0x14659e||'-','valveId':_0x2563d1||'-','source':_0x299000,'isManual':_0x20f69d,'status':_0x14659e&&_0x2563d1?_0x581276(0x1aa):_0x14659e?'OK':'Fehlt'});}return _0x22527d[_0x581276(0x1a9)]((_0x3d8e1e,_0x1c1f33)=>_0x3d8e1e[_0x581276(0x1ba)]['localeCompare'](_0x1c1f33[_0x581276(0x1ba)]));}async function updateSchedulePreview(_0x57b1b1){const _0x578d33=a1_0x5022b0;if(!_0x57b1b1[_0x578d33(0x20a)][_0x578d33(0x1da)]||!_0x57b1b1[_0x578d33(0x20a)][_0x578d33(0x1c2)])return;let _0x1818c1={};try{const _0x867f7b=await _0x57b1b1[_0x578d33(0x1cc)]('analysis.energy.warmupTimes');if(_0x867f7b&&_0x867f7b[_0x578d33(0x18a)])_0x1818c1=JSON[_0x578d33(0x204)](_0x867f7b[_0x578d33(0x18a)]);}catch(_0x3448b4){}const _0x684828=[],_0x23c1a0=Date[_0x578d33(0x187)](),_0xdd0b47=0x30*0x3c*0x3c*0x3e8;try{const _0x446996=await _0x57b1b1[_0x578d33(0x23a)](_0x57b1b1[_0x578d33(0x20a)]['calendarInstance']+_0x578d33(0x190));if(!_0x446996||!_0x446996[_0x578d33(0x18a)])return;const _0x278785=JSON[_0x578d33(0x204)](_0x446996[_0x578d33(0x18a)]),_0xb45f1b=_0x57b1b1['config'][_0x578d33(0x1a8)]||[],_0xde4de3=_0x57b1b1[_0x578d33(0x20a)][_0x578d33(0x236)]||[],_0x4fbdc3=new Set();_0xde4de3[_0x578d33(0x1f0)](_0x41dd3e=>{const _0x154f2b=_0x578d33;if(_0x41dd3e[_0x154f2b(0x239)])_0x4fbdc3[_0x154f2b(0x203)](_0x41dd3e[_0x154f2b(0x239)]);});for(const _0x25ec35 of _0x278785){if(_0x25ec35[_0x578d33(0x23b)]&&_0xb45f1b['length']>0x0&&!_0xb45f1b[_0x578d33(0x1c3)](_0x25ec35[_0x578d33(0x23b)]))continue;const _0x327239=_0x25ec35['_date']||_0x25ec35[_0x578d33(0x1f4)]||_0x25ec35[_0x578d33(0x19b)];if(!_0x327239)continue;const _0x4a2ccc=new Date(_0x327239),_0x388af1=_0x4a2ccc[_0x578d33(0x1f3)]();if(isNaN(_0x388af1))continue;if(_0x388af1<_0x23c1a0)continue;if(_0x388af1>_0x23c1a0+_0xdd0b47)continue;const _0x5a0a90=(_0x25ec35[_0x578d33(0x1b5)]||_0x25ec35[_0x578d33(0x1f1)]||'')[_0x578d33(0x225)]();let _0x1dfb62=![],_0x5410dd=[],_0x3acd61=_0x25ec35[_0x578d33(0x1b5)]||_0x25ec35[_0x578d33(0x1f1)]||_0x578d33(0x21a);if(_0x5a0a90[_0x578d33(0x1c3)](_0x578d33(0x240))||_0x5a0a90[_0x578d33(0x1c3)](_0x578d33(0x199))||_0x5a0a90['includes'](_0x578d33(0x235)))_0x1dfb62=!![],_0x5410dd=Array[_0x578d33(0x186)](_0x4fbdc3);else for(const _0x75833c of _0x4fbdc3){if(_0x5a0a90[_0x578d33(0x1c3)](_0x75833c[_0x578d33(0x225)]()))_0x5410dd[_0x578d33(0x1d5)](_0x75833c);}_0x5410dd[_0x578d33(0x1a3)]>0x0&&_0x5410dd[_0x578d33(0x1f0)](_0x552e61=>{const _0x34d1b9=_0x578d33;let _0x2fb1df=0x3c;if(_0x1dfb62){let _0x947a5c=0x0;Object[_0x34d1b9(0x219)](_0x1818c1)['forEach'](_0x238b9e=>{if(_0x238b9e>_0x947a5c)_0x947a5c=_0x238b9e;}),_0x2fb1df=_0x947a5c>0x0?_0x947a5c:0x78;}else _0x2fb1df=getWarmupRobust(_0x1818c1,_0x552e61);const _0x12094e=new Date(_0x388af1-_0x2fb1df*0xea60);_0x684828[_0x34d1b9(0x1d5)]({'eventTime':_0x388af1,'triggerTime':_0x12094e[_0x34d1b9(0x1f3)](),'room':_0x552e61,'minutes':_0x2fb1df,'reason':_0x3acd61,'isGlobal':_0x1dfb62});});}}catch(_0x3304fb){}_0x684828[_0x578d33(0x1a9)]((_0x5e6853,_0x209337)=>_0x5e6853[_0x578d33(0x22c)]-_0x209337[_0x578d33(0x22c)]);const _0x58f472=_0x684828[_0x578d33(0x185)](0x0,0x1e);await _0x57b1b1[_0x578d33(0x1c8)](_0x578d33(0x210),{'val':JSON[_0x578d33(0x226)](_0x58f472),'ack':!![]});}async function monitorEnforcements(_0x210003){const _0x821a48=a1_0x5022b0;try{const _0x5aa310='analysis.energy.activeEnforcements',_0x4eda19=await _0x210003[_0x821a48(0x1cc)](_0x5aa310);if(!_0x4eda19||!_0x4eda19['val'])return;let _0x1452a0=[];try{_0x1452a0=JSON[_0x821a48(0x204)](_0x4eda19[_0x821a48(0x18a)]);}catch(_0x8be806){return;}if(!Array[_0x821a48(0x1bd)](_0x1452a0)||_0x1452a0[_0x821a48(0x1a3)]===0x0)return;const _0x52a362=Date[_0x821a48(0x187)](),_0x5e707e=_0x210003[_0x821a48(0x20a)][_0x821a48(0x236)]||[];let _0x197fb3=![];for(let _0x460d9e=_0x1452a0['length']-0x1;_0x460d9e>=0x0;_0x460d9e--){const _0x54b5d6=_0x1452a0[_0x460d9e];if(_0x52a362>=_0x54b5d6[_0x821a48(0x181)]){_0x210003[_0x821a48(0x20e)]['info'](_0x821a48(0x1b0)+_0x54b5d6[_0x821a48(0x1ba)]+'\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.'),_0x1452a0[_0x821a48(0x20b)](_0x460d9e,0x1),_0x197fb3=!![];continue;}const _0x315f3f=_0x5e707e[_0x821a48(0x1be)](_0x1e90f3=>normalize(_0x1e90f3[_0x821a48(0x239)])===normalize(_0x54b5d6[_0x821a48(0x1ba)])&&(_0x1e90f3[_0x821a48(0x1ed)]===_0x821a48(0x1ca)||_0x1e90f3[_0x821a48(0x1ed)]===_0x821a48(0x1bf)));if(_0x315f3f){const _0x3b201d=await findRelatedId(_0x210003,_0x315f3f['id'],_0x821a48(0x1ec));if(_0x3b201d){const _0x2d5233=await _0x210003[_0x821a48(0x23a)](_0x3b201d);_0x2d5233&&typeof _0x2d5233[_0x821a48(0x18a)]==='number'&&(_0x2d5233[_0x821a48(0x18a)]<0xf&&(_0x210003[_0x821a48(0x20e)][_0x821a48(0x1a6)](_0x821a48(0x222)+_0x54b5d6[_0x821a48(0x1ba)]+_0x821a48(0x1de)+_0x2d5233['val']+'Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20'+_0x54b5d6[_0x821a48(0x205)]+'Â°C.'),await _0x210003[_0x821a48(0x224)](_0x3b201d,_0x54b5d6[_0x821a48(0x205)]),await logAutomationAction(_0x210003,_0x821a48(0x1ae)+_0x54b5d6[_0x821a48(0x1ba)]+':\x20'+_0x2d5233[_0x821a48(0x18a)]+_0x821a48(0x23d)+_0x54b5d6['target']+_0x821a48(0x1eb))));}}}_0x197fb3&&await _0x210003[_0x821a48(0x1c8)](_0x5aa310,{'val':JSON['stringify'](_0x1452a0),'ack':!![]});}catch(_0x1daf4a){_0x210003['log']['error'](_0x821a48(0x237)+_0x1daf4a[_0x821a48(0x1d3)]);}}async function checkCalendarTriggers(_0x4b12c3){const _0x5f9dba=a1_0x5022b0;if(!_0x4b12c3[_0x5f9dba(0x20a)]['useCalendar']||!_0x4b12c3[_0x5f9dba(0x20a)][_0x5f9dba(0x1c2)])return;await updateSchedulePreview(_0x4b12c3);let _0x584246={},_0x505c6a={};try{const _0x443635=await _0x4b12c3[_0x5f9dba(0x1cc)](_0x5f9dba(0x21b));if(_0x443635&&_0x443635[_0x5f9dba(0x18a)])_0x584246=JSON['parse'](_0x443635['val']);const _0x30f2f8=await _0x4b12c3[_0x5f9dba(0x1cc)](_0x5f9dba(0x17d));if(_0x30f2f8&&_0x30f2f8[_0x5f9dba(0x18a)])_0x505c6a=JSON[_0x5f9dba(0x204)](_0x30f2f8['val']);}catch(_0x5148b6){}let _0x279f93={'default':0x15};try{const _0x4f5169=await _0x4b12c3[_0x5f9dba(0x1cc)](_0x5f9dba(0x202));if(_0x4f5169&&_0x4f5169[_0x5f9dba(0x18a)])_0x279f93=JSON[_0x5f9dba(0x204)](_0x4f5169['val']);}catch(_0x147ef9){}let _0xd85c0f=[];try{const _0x4e7396=await _0x4b12c3[_0x5f9dba(0x1cc)]('analysis.energy.activeEnforcements');if(_0x4e7396&&_0x4e7396[_0x5f9dba(0x18a)])_0xd85c0f=JSON[_0x5f9dba(0x204)](_0x4e7396[_0x5f9dba(0x18a)]);}catch(_0x46f129){}try{const _0x5015e1=await _0x4b12c3[_0x5f9dba(0x23a)](_0x4b12c3['config'][_0x5f9dba(0x1c2)]+_0x5f9dba(0x190));if(!_0x5015e1||!_0x5015e1['val'])return;const _0x7b0693=JSON['parse'](_0x5015e1[_0x5f9dba(0x18a)]),_0x165fc4=Date[_0x5f9dba(0x187)](),_0x221a08=_0x4b12c3[_0x5f9dba(0x20a)]['devices']||[],_0x90e6ef=_0x4b12c3['config'][_0x5f9dba(0x1a8)]||[];let _0x5da45e=![];for(const _0x229abc of _0x7b0693){if(_0x229abc[_0x5f9dba(0x23b)]&&_0x90e6ef[_0x5f9dba(0x1a3)]>0x0&&!_0x90e6ef[_0x5f9dba(0x1c3)](_0x229abc[_0x5f9dba(0x23b)]))continue;const _0x451f66=_0x229abc[_0x5f9dba(0x19a)]||_0x229abc[_0x5f9dba(0x1f4)]||_0x229abc['date'];if(!_0x451f66)continue;const _0x4857e0=new Date(_0x451f66);if(isNaN(_0x4857e0['getTime']()))continue;const _0x223a74=(_0x229abc['event']||_0x229abc[_0x5f9dba(0x1f1)]||'')[_0x5f9dba(0x225)]();if(_0x223a74[_0x5f9dba(0x1c3)](_0x5f9dba(0x240))||_0x223a74[_0x5f9dba(0x1c3)](_0x5f9dba(0x199))||_0x223a74[_0x5f9dba(0x1c3)]('ankunft')){let _0xaf7675=0x0;Object['values'](_0x584246)['forEach'](_0x675e7=>{if(_0x675e7>_0xaf7675)_0xaf7675=_0x675e7;});if(_0xaf7675===0x0)_0xaf7675=0x78;const _0x2cb5d6=_0x4857e0[_0x5f9dba(0x1f3)]()-_0xaf7675*0xea60;_0x165fc4>=_0x2cb5d6&&_0x165fc4<_0x4857e0[_0x5f9dba(0x1f3)]()&&(_0x4b12c3[_0x5f9dba(0x1c6)]!=='normal'&&(_0x4b12c3[_0x5f9dba(0x20e)][_0x5f9dba(0x1b9)](_0x5f9dba(0x1e4)+_0xaf7675+_0x5f9dba(0x20d)),await _0x4b12c3[_0x5f9dba(0x1c8)](_0x5f9dba(0x1c0),{'val':'normal','ack':![]})));}for(const _0x3d1ecf of _0x221a08){if(_0x3d1ecf[_0x5f9dba(0x239)]){const _0x293545=_0x3d1ecf[_0x5f9dba(0x239)][_0x5f9dba(0x225)](),_0x5e1880=(_0x3d1ecf[_0x5f9dba(0x216)]||'')[_0x5f9dba(0x225)]();let _0x33eb8d=_0x223a74['includes'](_0x293545);!_0x33eb8d&&_0x5e1880[_0x5f9dba(0x1a3)]>0x3&&_0x223a74[_0x5f9dba(0x1c3)](_0x5e1880)&&(_0x33eb8d=!![]);if(_0x33eb8d){const _0x25a2b3=getWarmupRobust(_0x584246,_0x3d1ecf['location']),_0x5d42de=_0x505c6a[_0x3d1ecf[_0x5f9dba(0x239)]]||'Classic',_0x1a2338=_0x4857e0[_0x5f9dba(0x1f3)]()-_0x25a2b3*0xea60;if(_0x165fc4>=_0x1a2338&&_0x165fc4<_0x4857e0['getTime']()){const _0x5eff0f=lastActions[_0x5f9dba(0x1b6)+_0x3d1ecf[_0x5f9dba(0x239)]];if(_0x5eff0f&&_0x165fc4-_0x5eff0f<CAL_COOLDOWN_MS)continue;const _0x4f0025=await findRelatedId(_0x4b12c3,_0x3d1ecf['id'],_0x5f9dba(0x1ec));if(_0x4f0025){let _0x28862d=_0x279f93[_0x3d1ecf[_0x5f9dba(0x239)]];if(_0x28862d===undefined)_0x28862d=_0x279f93[_0x5f9dba(0x211)];if(_0x28862d===undefined)_0x28862d=0x15;const _0x32c414=await _0x4b12c3[_0x5f9dba(0x23a)](_0x4f0025);if(_0x32c414&&typeof _0x32c414[_0x5f9dba(0x18a)]===_0x5f9dba(0x1cf)&&_0x32c414['val']<_0x28862d-0.5){_0x4b12c3['log'][_0x5f9dba(0x1b9)](_0x5f9dba(0x217)+_0x5d42de+']:\x20Raum-Trigger\x20\x27'+_0x3d1ecf[_0x5f9dba(0x239)]+_0x5f9dba(0x18f)+_0x223a74+')\x20aktiv.\x20Heize\x20auf\x20'+_0x28862d+_0x5f9dba(0x1f2)+_0x25a2b3+_0x5f9dba(0x20d)),await _0x4b12c3[_0x5f9dba(0x224)](_0x4f0025,_0x28862d),await logAutomationAction(_0x4b12c3,'[CAL]\x20'+_0x3d1ecf['location']+_0x5f9dba(0x218)+_0x28862d+_0x5f9dba(0x1b8)+_0x5d42de+')'),lastActions['cal_'+_0x3d1ecf[_0x5f9dba(0x239)]]=_0x165fc4;const _0x55908b=_0xd85c0f[_0x5f9dba(0x1e1)](_0x4ba761=>_0x4ba761['room']===_0x3d1ecf['location']);if(_0x55908b!==-0x1)_0xd85c0f[_0x5f9dba(0x20b)](_0x55908b,0x1);_0xd85c0f[_0x5f9dba(0x1d5)]({'room':_0x3d1ecf[_0x5f9dba(0x239)],'target':_0x28862d,'until':_0x4857e0[_0x5f9dba(0x1f3)]()}),_0x5da45e=!![];}}}}}}}_0x5da45e&&await _0x4b12c3[_0x5f9dba(0x1c8)](_0x5f9dba(0x234),{'val':JSON[_0x5f9dba(0x226)](_0xd85c0f),'ack':!![]});}catch(_0x736b7f){_0x4b12c3[_0x5f9dba(0x20e)][_0x5f9dba(0x1a6)]('Calendar\x20Check\x20Error:\x20'+_0x736b7f[_0x5f9dba(0x1d3)]);}}async function manageMpcIntervention(_0x55352e,_0x180610,_0x312acc){const _0x36a1bd=a1_0x5022b0;try{const _0x30f859='analysis.energy.mpcActiveInterventions',_0x3b8a1b=await _0x55352e[_0x36a1bd(0x1cc)](_0x30f859);let _0x342d50=[];if(_0x3b8a1b&&_0x3b8a1b[_0x36a1bd(0x18a)])try{_0x342d50=JSON['parse'](_0x3b8a1b[_0x36a1bd(0x18a)]);}catch(_0x537938){}const _0x17ac69=_0x342d50[_0x36a1bd(0x1bb)](_0x180610);if(_0x312acc==='add')_0x17ac69===-0x1&&(_0x342d50['push'](_0x180610),await _0x55352e[_0x36a1bd(0x1c8)](_0x30f859,{'val':JSON[_0x36a1bd(0x226)](_0x342d50),'ack':!![]}));else _0x312acc===_0x36a1bd(0x23f)&&(_0x17ac69!==-0x1&&(_0x342d50[_0x36a1bd(0x20b)](_0x17ac69,0x1),await _0x55352e[_0x36a1bd(0x1c8)](_0x30f859,{'val':JSON[_0x36a1bd(0x226)](_0x342d50),'ack':!![]})));}catch(_0x4e553d){}}async function cleanupGhostInterventions(_0x211c03){const _0x3b89ea=a1_0x5022b0;try{const _0x51ff45=_0x3b89ea(0x201),_0x3a8cc0=await _0x211c03['getStateAsync'](_0x51ff45);if(!_0x3a8cc0||!_0x3a8cc0[_0x3b89ea(0x18a)])return;const _0x448852=JSON[_0x3b89ea(0x204)](_0x3a8cc0[_0x3b89ea(0x18a)]);if(!Array['isArray'](_0x448852)||_0x448852['length']===0x0)return;let _0x3f10a5={'default':0x15};try{const _0x3f4b6e=await _0x211c03[_0x3b89ea(0x1cc)](_0x3b89ea(0x202));if(_0x3f4b6e&&_0x3f4b6e[_0x3b89ea(0x18a)])_0x3f10a5=JSON[_0x3b89ea(0x204)](_0x3f4b6e[_0x3b89ea(0x18a)]);}catch(_0x11ce86){}let _0x19c3ce=[];try{const _0x1f95a0=await _0x211c03[_0x3b89ea(0x1cc)](_0x3b89ea(0x21c));if(_0x1f95a0&&_0x1f95a0['val'])_0x19c3ce=JSON['parse'](_0x1f95a0[_0x3b89ea(0x18a)]);}catch(_0x4ca58d){}let _0x21415e={},_0x66cd7a=![];try{const _0xd93b5f=await _0x211c03['getStateAsync'](_0x3b89ea(0x22d));if(_0xd93b5f&&_0xd93b5f[_0x3b89ea(0x18a)])_0x21415e=JSON['parse'](_0xd93b5f['val']);}catch(_0xf92a10){}if(_0x21415e[_0x3b89ea(0x1d1)]){const _0x450d2e=Date['now']();for(const [_0x2f0227,_0x9e527d]of Object['entries'](_0x21415e[_0x3b89ea(0x1d1)])){_0x450d2e-_0x9e527d>PENALTY_TTL&&(delete _0x21415e[_0x2f0227],delete _0x21415e[_0x3b89ea(0x1d1)][_0x2f0227],_0x66cd7a=!![],_0x211c03[_0x3b89ea(0x20e)][_0x3b89ea(0x1b9)](_0x3b89ea(0x1fe)+_0x2f0227+_0x3b89ea(0x215)));}}const _0x3d19d4=_0x211c03[_0x3b89ea(0x20a)][_0x3b89ea(0x236)]||[];let _0x1e5831=![];for(let _0x4bf9d8=_0x448852[_0x3b89ea(0x1a3)]-0x1;_0x4bf9d8>=0x0;_0x4bf9d8--){const _0x237f0f=_0x448852[_0x4bf9d8],_0x3df318=_0x3d19d4[_0x3b89ea(0x1be)](_0x41ac7d=>normalize(_0x41ac7d[_0x3b89ea(0x239)])===normalize(_0x237f0f)&&(_0x41ac7d[_0x3b89ea(0x1ed)]==='temperature'||_0x41ac7d[_0x3b89ea(0x1ed)]===_0x3b89ea(0x1bf)));if(!_0x3df318){_0x211c03[_0x3b89ea(0x20e)][_0x3b89ea(0x1a6)](_0x3b89ea(0x18c)+_0x237f0f+_0x3b89ea(0x184)),_0x448852[_0x3b89ea(0x20b)](_0x4bf9d8,0x1),_0x1e5831=!![];continue;}if(_0x3df318){const _0xdc4113=await findRelatedId(_0x211c03,_0x3df318['id'],_0x3b89ea(0x1ec)),_0x31888d=await _0x211c03['getForeignStateAsync'](_0x3df318['id']);if(_0xdc4113){const _0xb97738=await _0x211c03[_0x3b89ea(0x23a)](_0xdc4113);if(_0xb97738&&typeof _0xb97738[_0x3b89ea(0x18a)]===_0x3b89ea(0x1cf)){let _0x490884=![],_0x5cdefe='';Math[_0x3b89ea(0x194)](_0xb97738[_0x3b89ea(0x18a)]-ECO_TEMP)>0.5&&(_0x490884=!![],_0x5cdefe=_0x3b89ea(0x1e8));if(!_0x490884&&_0x31888d&&typeof _0x31888d[_0x3b89ea(0x18a)]==='number'){const _0x1d49d1=_0x3f10a5[_0x237f0f]||_0x3f10a5[_0x3b89ea(0x211)]||0x15;_0x31888d[_0x3b89ea(0x18a)]<_0x1d49d1+0.2&&(_0x490884=!![],_0x5cdefe=_0x3b89ea(0x18b));}if(_0x490884){if(_0x5cdefe===_0x3b89ea(0x1e8)){_0x211c03[_0x3b89ea(0x20e)][_0x3b89ea(0x1b9)](_0x3b89ea(0x1ce)+_0x237f0f+'\x20ist\x20auf\x20'+_0xb97738[_0x3b89ea(0x18a)]+'Â°C\x20(nicht\x20'+ECO_TEMP+_0x3b89ea(0x22a));const _0x496a34=lastActions[_0x3b89ea(0x1b6)+_0x237f0f],_0x1542d5=_0x496a34&&Date[_0x3b89ea(0x187)]()-_0x496a34<0x2*0x3c*0x3e8;if(!_0x1542d5&&_0xb97738['val']>ECO_TEMP+0.5){_0x211c03['sendToPythonWrapper']&&(_0x211c03[_0x3b89ea(0x20e)][_0x3b89ea(0x1b9)](_0x3b89ea(0x1e6)+_0x237f0f+_0x3b89ea(0x1d6)),_0x211c03[_0x3b89ea(0x200)](_0x3b89ea(0x1e5),{'room':_0x237f0f}));const _0x34ae93=_0x237f0f+'_'+new Date()[_0x3b89ea(0x1ef)]();if(!_0x21415e[_0x34ae93]){_0x21415e[_0x34ae93]=0x1;if(!_0x21415e['_meta'])_0x21415e[_0x3b89ea(0x1d1)]={};_0x21415e[_0x3b89ea(0x1d1)][_0x34ae93]=Date[_0x3b89ea(0x187)](),_0x66cd7a=!![];}}else _0x1542d5&&_0x211c03[_0x3b89ea(0x20e)][_0x3b89ea(0x1b9)]('ðŸ“…\x20[MPC\x20INFO]\x20'+_0x237f0f+_0x3b89ea(0x1dc));}else{if(_0x5cdefe===_0x3b89ea(0x18b)){let _0x46a6a7=![];if(_0x19c3ce[_0x3b89ea(0x1be)](_0x399534=>_0x399534[_0x3b89ea(0x1ba)]===_0x237f0f))_0x46a6a7=!![];const _0x279e96=_0x3d19d4[_0x3b89ea(0x232)](_0x3cb145=>normalize(_0x3cb145[_0x3b89ea(0x239)])===normalize(_0x237f0f)&&(_0x3cb145[_0x3b89ea(0x1ed)]===_0x3b89ea(0x19d)||_0x3cb145[_0x3b89ea(0x1ed)]==='sensor'||_0x3cb145[_0x3b89ea(0x1ed)]===_0x3b89ea(0x198)));for(const _0x46607a of _0x279e96){try{const _0x549b9b=await _0x211c03[_0x3b89ea(0x23a)](_0x46607a['id']);if(_0x549b9b&&(_0x549b9b['val']===!![]||_0x549b9b['val']===0x1||String(_0x549b9b[_0x3b89ea(0x18a)])[_0x3b89ea(0x225)]()===_0x3b89ea(0x1a1)))_0x46a6a7=!![];}catch(_0xd2887e){}}if(_0x46a6a7)_0x211c03[_0x3b89ea(0x20e)][_0x3b89ea(0x1b9)](_0x3b89ea(0x1d2)+_0x237f0f+_0x3b89ea(0x17f));else{const _0x228797=_0x3f10a5[_0x237f0f]||_0x3f10a5[_0x3b89ea(0x211)]||0x15;_0x211c03[_0x3b89ea(0x20e)][_0x3b89ea(0x1b9)](_0x3b89ea(0x22e)+_0x237f0f+_0x3b89ea(0x188)+_0x31888d[_0x3b89ea(0x18a)]+_0x3b89ea(0x1f9)+(_0x228797+0.2)+_0x3b89ea(0x196)),await _0x211c03[_0x3b89ea(0x224)](_0xdc4113,_0x228797),await logAutomationAction(_0x211c03,_0x3b89ea(0x1d9)+_0x237f0f+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x228797+'Â°C'),lastActions['rescue_'+_0x237f0f]=Date[_0x3b89ea(0x187)]();}}}_0x448852['splice'](_0x4bf9d8,0x1),_0x1e5831=!![];}}}}}_0x1e5831&&await _0x211c03['setStateAsync'](_0x51ff45,{'val':JSON[_0x3b89ea(0x226)](_0x448852),'ack':!![]}),_0x66cd7a&&await _0x211c03[_0x3b89ea(0x1c8)](_0x3b89ea(0x22d),{'val':JSON[_0x3b89ea(0x226)](_0x21415e),'ack':!![]});}catch(_0x223a30){}}async function applyEnergySavings(_0x3c215f,_0x3aed2f){const _0x27736d=a1_0x5022b0;await cleanupGhostInterventions(_0x3c215f);if(!_0x3aed2f||_0x3aed2f[_0x27736d(0x1a3)]===0x0)return;const _0x89f3b9=_0x3c215f[_0x27736d(0x20a)][_0x27736d(0x236)]||[],_0x4474b8=Date[_0x27736d(0x187)]();for(const _0x531929 of _0x3aed2f){const _0x288edb=_0x531929['room'],_0x1a48da=_0x531929[_0x27736d(0x22f)],_0x1e6ec1=_0x531929['target']||0x15;if(lastActions[_0x27736d(0x193)+_0x288edb]&&_0x4474b8-lastActions['rescue_'+_0x288edb]<RESCUE_LOCK_MS)continue;const _0x26e946=_0x89f3b9[_0x27736d(0x1be)](_0x1b81fc=>normalize(_0x1b81fc['location'])===normalize(_0x288edb)&&(_0x1b81fc['type']===_0x27736d(0x1ca)||_0x1b81fc['type']===_0x27736d(0x1bf)));if(!_0x26e946)continue;const _0x3caba5=await findRelatedId(_0x3c215f,_0x26e946['id'],'setpoint');if(_0x3caba5){if(lastActions[_0x27736d(0x195)+_0x288edb]&&_0x4474b8-lastActions[_0x27736d(0x195)+_0x288edb]<0x1e*0x3c*0x3e8)continue;const _0x5487b6=await _0x3c215f[_0x27736d(0x23a)](_0x3caba5);if(_0x5487b6&&typeof _0x5487b6['val']===_0x27736d(0x1cf)){const _0x3498eb=_0x5487b6[_0x27736d(0x18a)];_0x3498eb!==ECO_TEMP&&await manageMpcIntervention(_0x3c215f,_0x288edb,_0x27736d(0x23f));if(_0x1a48da>0x1e)_0x3498eb>ECO_TEMP+0.5&&(_0x3c215f['log'][_0x27736d(0x1b9)](_0x27736d(0x23c)+_0x288edb+_0x27736d(0x1de)+ECO_TEMP+_0x27736d(0x17e)+_0x1a48da+_0x27736d(0x1dd)),await _0x3c215f[_0x27736d(0x224)](_0x3caba5,ECO_TEMP),await manageMpcIntervention(_0x3c215f,_0x288edb,_0x27736d(0x203)),lastActions['mpc_'+_0x288edb]=_0x4474b8,await logAutomationAction(_0x3c215f,'[MPC]\x20'+_0x288edb+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'Â°C'));else _0x1a48da<=0xf&&(_0x3498eb<_0x1e6ec1&&(_0x3c215f['log']['info']('ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20'+_0x288edb+_0x27736d(0x1fa)+_0x1e6ec1+_0x27736d(0x230)),await _0x3c215f[_0x27736d(0x224)](_0x3caba5,_0x1e6ec1),await manageMpcIntervention(_0x3c215f,_0x288edb,_0x27736d(0x23f)),lastActions[_0x27736d(0x195)+_0x288edb]=_0x4474b8,await logAutomationAction(_0x3c215f,_0x27736d(0x1a0)+_0x288edb+_0x27736d(0x238)+_0x1e6ec1+'Â°C')));}}else _0x3c215f[_0x27736d(0x20e)][_0x27736d(0x1a6)](_0x27736d(0x1e0)+_0x288edb+_0x27736d(0x1bc));}}module[a1_0x5022b0(0x1c4)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};function a1_0x21f4(){const _0x359536=['analysis.automation.confidenceThreshold','val','too_cold','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','constructor','wert','\x27\x20(Match:\x20','.data.table','soll','valveMapping','rescue_','abs','mpc_','Â°C).\x20Sparmodus\x20beendet!','736pOyQOb','contact','rÃ¼ckkehr','_date','date','2405028vklbuz','window','66QmxNhS','unshift','[MPC]\x20','open','PrÃ¤diktion:\x20','length','toUpperCase','off','warn','apply','calendarSelection','sort','PERFECT','1379938bCriLO','active','.1.TEMPERATURE','[FORCE]\x20','openknx','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','stellwert','toString','replace','score','event','cal_','valve_position','Â°C\x20(via\x20','info','room','indexOf','\x20gefunden!','isArray','find','thermostat','system.mode','string','calendarInstance','includes','exports','thermostat.setpoint','currentSystemMode','messwert','setStateAsync','level','temperature','198XVBbRd','getStateAsync','1434379wNdyqB','ðŸ§¹\x20[MPC\x20CLEANUP]\x20','number','11874UGYCsw','_meta','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','message','unit','push','\x20wurde\x20manuell\x20erhÃ¶ht.','ist','set','[WATCHDOG]\x20','useCalendar','sensor','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','\x20min)','\x20auf\x20','Ist','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','findIndex','402056ebNEfW','temp','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','TRAIN_RL_PENALTY','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','common','manual','entries','map','Â°C\x20(Kalender-Schutz)','setpoint','type','Soll','getHours','forEach','summary','Â°C\x20(Vorlauf:\x20','getTime','eventStart','role','occupied_heating_setpoint','analysis.automation.mode','light','Â°C\x20<\x20','\x20wieder\x20auf\x20','pi_heating_demand','Unknown','split','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','.1.LEVEL','sendToPythonWrapper','analysis.energy.mpcActiveInterventions','analysis.energy.warmupTargets','add','parse','target','Nicht\x20gefunden','\x20->\x20Schalte\x20','18cEiKgT','dimmer','config','splice','value.valve','\x20min).','log','./ai_agent','analysis.energy.schedulePreview','default','thermostatMapping','actual','(((.+)+)+)+$','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','name','ðŸ“…\x20SMART\x20SCHEDULE\x20[','\x20->\x20','values','Unbekannt','analysis.energy.warmupTimes','analysis.energy.ventilationAlerts','.4.VALVE_STATE','hm-rpc','target_temperature','.1.SET_POINT_TEMPERATURE','ACTUAL_TEMPERATURE','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','write','setForeignStateAsync','toLowerCase','stringify','analysis.automation.lastAction','7374685PORQOb','level.temperature','Â°C).\x20Entferne\x20Status.','reason','triggerTime','analysis.energy.rlPenalties','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','minutes_safe','Â°C!\x20(Puffer\x20leer).','Auto-Erkennung','filter','local_temperature','analysis.energy.activeEnforcements','ankunft','devices','Enforcement\x20Monitor\x20Error:\x20',':\x20Aufheizen\x20auf\x20','location','getForeignStateAsync','_calName','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','Â°C\x20->\x20','183300DFlXCg','remove','urlaub\x20ende','analysis.energy.warmupSources','Â°C!\x20(Puffer:\x20','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','search','until','analysis.automation.actionLog','valve','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','slice','from','now','\x20erreicht\x20Limit\x20('];a1_0x21f4=function(){return _0x359536;};return a1_0x21f4();}