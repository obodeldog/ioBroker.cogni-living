const a1_0x559f7c=a1_0x1d27;(function(_0x48430c,_0x3e04fd){const _0x11b556=a1_0x1d27,_0x3629d8=_0x48430c();while(!![]){try{const _0x8b779=-parseInt(_0x11b556(0x223))/0x1*(-parseInt(_0x11b556(0x226))/0x2)+parseInt(_0x11b556(0x1ca))/0x3+-parseInt(_0x11b556(0x250))/0x4*(-parseInt(_0x11b556(0x21d))/0x5)+parseInt(_0x11b556(0x229))/0x6+parseInt(_0x11b556(0x242))/0x7*(parseInt(_0x11b556(0x1f7))/0x8)+-parseInt(_0x11b556(0x1c3))/0x9*(parseInt(_0x11b556(0x22e))/0xa)+parseInt(_0x11b556(0x219))/0xb*(-parseInt(_0x11b556(0x1fa))/0xc);if(_0x8b779===_0x3e04fd)break;else _0x3629d8['push'](_0x3629d8['shift']());}catch(_0x2f4651){_0x3629d8['push'](_0x3629d8['shift']());}}}(a1_0x4d20,0xa747f));const a1_0x966691=(function(){let _0x370997=!![];return function(_0x5060a3,_0xa9e111){const _0x43a13c=_0x370997?function(){const _0x33b8d8=a1_0x1d27;if(_0xa9e111){const _0x5123eb=_0xa9e111[_0x33b8d8(0x210)](_0x5060a3,arguments);return _0xa9e111=null,_0x5123eb;}}:function(){};return _0x370997=![],_0x43a13c;};}()),a1_0x24ffa9=a1_0x966691(this,function(){const _0xf48939=a1_0x1d27;return a1_0x24ffa9[_0xf48939(0x20c)]()[_0xf48939(0x264)](_0xf48939(0x26d))[_0xf48939(0x20c)]()[_0xf48939(0x1d5)](a1_0x24ffa9)['search'](_0xf48939(0x26d));});a1_0x24ffa9();'use strict';const aiAgent=require(a1_0x559f7c(0x1e3)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,lastActions={};function normalize(_0x302d8f){const _0x469875=a1_0x559f7c;if(!_0x302d8f)return'';return _0x302d8f['toLowerCase']()['replace'](/\s+/g,'')[_0x469875(0x1c8)]();}async function logAutomationAction(_0x56e921,_0x4c00f2){const _0x196c50=a1_0x559f7c;await _0x56e921['setStateAsync'](_0x196c50(0x1c7),{'val':_0x4c00f2,'ack':!![]});try{const _0x533bde=_0x196c50(0x235),_0x294b04=await _0x56e921[_0x196c50(0x258)](_0x533bde);let _0x15df0d=[];if(_0x294b04&&_0x294b04[_0x196c50(0x24a)])try{_0x15df0d=JSON['parse'](_0x294b04[_0x196c50(0x24a)]);}catch(_0x149df4){}_0x15df0d[_0x196c50(0x20d)]({'ts':Date[_0x196c50(0x22c)](),'msg':_0x4c00f2});if(_0x15df0d[_0x196c50(0x234)]>0x32)_0x15df0d=_0x15df0d[_0x196c50(0x259)](0x0,0x32);await _0x56e921[_0x196c50(0x24f)](_0x533bde,{'val':JSON[_0x196c50(0x1de)](_0x15df0d),'ack':!![]});}catch(_0x384274){}}function a1_0x1d27(_0x4b4936,_0x1c13b9){const _0x4ca067=a1_0x4d20();return a1_0x1d27=function(_0x24ffa9,_0x966691){_0x24ffa9=_0x24ffa9-0x1b1;let _0x4d205a=_0x4ca067[_0x24ffa9];return _0x4d205a;},a1_0x1d27(_0x4b4936,_0x1c13b9);}function a1_0x4d20(){const _0x4b7f98=['actual','\x20erreicht\x20Limit\x20(','currentSystemMode','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','constructor','calendarSelection','target','isArray','eventStart','PERFECT','analysis.energy.warmupSources','_calName','Fehlt','stringify','temperature','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','\x20ist\x20auf\x20','useCalendar','./ai_agent','add','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','too_cold','room','indexOf','¬∞C!\x20(Puffer\x20leer).','dimmer','includes','.1.LEVEL','split','[MPC]\x20','date','manual','calendarInstance','normal','splice','üìÖ\x20SMART\x20SCHEDULE\x20[','Unknown','active','69280pXtdQd','ankunft','.data.table','228rvQKBm','level.valve','map','state','reason','toLowerCase','triggerTime','current_heating_setpoint','stellwert','window','occupied_heating_setpoint','valve_position','sensor','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','¬∞C\x20(via\x20','warn','openknx','event','toString','unshift','thermostat','wert','apply','common','parse','score','string','¬∞C!\x20(Puffer:\x20','filter','üö®\x20[MPC\x20WATCHDOG]\x20','level.temperature','1246839gWKOzT','üî•\x20[MPC\x20ACTION]\x20Heize\x20','\x20min)','role','170JaWODc','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','location','sendToPythonWrapper','¬∞C).\x20Sparmodus\x20beendet!','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','13CAjRqo',':\x20Absenkung\x20auf\x20','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','179742pKxAtA','.1.ACTUAL_TEMPERATURE','valve','1713336csJDax','soll','analysis.energy.warmupTimes','now','\x20->\x20Schalte\x20','1190wWgZug','analysis.energy.mpcActiveInterventions','getForeignStateAsync','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','mpc_','.1.TEMPERATURE','length','analysis.automation.actionLog','set','getForeignObjectsAsync','analysis.energy.ventilationAlerts','Soll','rescue_','¬∞C\x20(Vorlauf:\x20','analysis.automation.confidenceThreshold','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','approved','¬∞C\x20<\x20','setForeignStateAsync','until','791oXGVbC','.4.SET_TEMPERATURE','info','log','exports','push','value.valve','Calendar\x20Check\x20Error:\x20','val','replace','join','analysis.energy.warmupTargets','Classic','setStateAsync','110336Kippxk','summary','cal_','number','\x20min).','default','Unbekannt','analysis.energy.activeEnforcements','getStateAsync','slice','write','open','entries','forEach','devices','system.mode','r√ºckkehr','urlaub\x20ende','Nicht\x20gefunden','\x20auf\x20','search','TRAIN_RL_PENALTY','switch','type',')\x20aktiv.\x20Heize\x20auf\x20','analysis.automation.mode','Auto-Erkennung','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','pi_heating_demand','(((.+)+)+)+$','message','getTime','valveMapping','minutes_safe','off','find','remove','toUpperCase','local_temperature','temp','.1.SET_POINT_TEMPERATURE','setpoint','values','config',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','level','[WATCHDOG]\x20','from','¬∞C\x20(Kalender-Schutz)','47187SxQfHa','hm-rpc','üìÖ\x20[MPC\x20INFO]\x20','SET','analysis.automation.lastAction','trim','[FORCE]\x20','277248fzHHkL','thermostat.setpoint','thermostatMapping','SET_POINT_TEMPERATURE','name','consultButler',']:\x20Raum-Trigger\x20\x27'];a1_0x4d20=function(){return _0x4b7f98;};return a1_0x4d20();}async function handlePrediction(_0x42ee07,_0x37619d,_0x30064c){const _0x245350=a1_0x559f7c;if(!_0x37619d||_0x37619d===_0x245350(0x1f5))return;let _0x510154=_0x245350(0x1b4),_0x4d2b2d=0.6;try{const _0x5a1383=await _0x42ee07[_0x245350(0x258)](_0x245350(0x269));if(_0x5a1383&&_0x5a1383[_0x245350(0x24a)])_0x510154=_0x5a1383[_0x245350(0x24a)];const _0x1ca9a8=await _0x42ee07[_0x245350(0x258)](_0x245350(0x23c));if(_0x1ca9a8&&_0x1ca9a8[_0x245350(0x24a)])_0x4d2b2d=_0x1ca9a8[_0x245350(0x24a)];}catch(_0x20f7d0){}if(_0x510154===_0x245350(0x1b4)||_0x30064c<_0x4d2b2d)return;const _0x5b5edf=Date[_0x245350(0x22c)]();if(lastActions[_0x37619d]&&_0x5b5edf-lastActions[_0x37619d]<COOLDOWN_MS)return;const _0xf23b2e=_0x42ee07[_0x245350(0x1bd)][_0x245350(0x25e)]||[],_0x1ef4e8=normalize(_0x37619d),_0x32027b=_0xf23b2e[_0x245350(0x1b5)](_0x470844=>normalize(_0x470844[_0x245350(0x21f)])===_0x1ef4e8&&(_0x470844[_0x245350(0x267)]==='light'||_0x470844[_0x245350(0x267)]===_0x245350(0x1ea)||_0x470844[_0x245350(0x267)]===_0x245350(0x266)));if(!_0x32027b)return;const _0x15afd1=await aiAgent[_0x245350(0x1cf)](_0x42ee07,_0x37619d,_0x32027b['name'],_0x30064c);if(!_0x15afd1[_0x245350(0x23e)])return;const _0x238c2b='Pr√§diktion:\x20'+_0x37619d+_0x245350(0x22d)+_0x32027b['name']+'\x20('+_0x15afd1[_0x245350(0x1fe)]+')';await logAutomationAction(_0x42ee07,'['+_0x510154[_0x245350(0x1b7)]()+']\x20'+_0x238c2b);if(_0x510154===_0x245350(0x1f6)){const _0x3e908d=await _0x42ee07['getForeignStateAsync'](_0x32027b['id']);(!_0x3e908d||!_0x3e908d[_0x245350(0x24a)]&&_0x3e908d['val']!==!![])&&await _0x42ee07['setForeignStateAsync'](_0x32027b['id'],!![]),lastActions[_0x37619d]=_0x5b5edf;}}async function findRelatedId(_0x112c6b,_0x1494e1,_0x3fcdee=a1_0x559f7c(0x1bb)){const _0xca9ec7=a1_0x559f7c;if(_0x3fcdee===_0xca9ec7(0x1bb)&&_0x112c6b[_0xca9ec7(0x1bd)]['thermostatMapping']){let _0x127ac9=_0x112c6b[_0xca9ec7(0x1bd)][_0xca9ec7(0x1cc)];if(typeof _0x127ac9===_0xca9ec7(0x214))try{_0x127ac9=JSON[_0xca9ec7(0x212)](_0x127ac9);}catch(_0x40a8d8){}if(_0x127ac9&&_0x127ac9[_0x1494e1])return _0x127ac9[_0x1494e1];}if(_0x3fcdee===_0xca9ec7(0x228)&&_0x112c6b[_0xca9ec7(0x1bd)][_0xca9ec7(0x1b2)]){let _0x3c644e=_0x112c6b[_0xca9ec7(0x1bd)][_0xca9ec7(0x1b2)];if(typeof _0x3c644e===_0xca9ec7(0x214))try{_0x3c644e=JSON[_0xca9ec7(0x212)](_0x3c644e);}catch(_0x406f46){}if(_0x3c644e&&_0x3c644e[_0x1494e1])return _0x3c644e[_0x1494e1];}let _0x4cddd6=[];if(_0x3fcdee==='setpoint')_0x4cddd6=[{'s':_0xca9ec7(0x227),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0xca9ec7(0x233),'t':_0xca9ec7(0x1ba)},{'s':'.1.TEMPERATURE','t':_0xca9ec7(0x243)},{'s':'ACTUAL_TEMPERATURE','t':_0xca9ec7(0x1cd)},{'s':_0xca9ec7(0x1b8),'t':_0xca9ec7(0x204)},{'s':'local_temperature','t':_0xca9ec7(0x201)},{'s':'temperature','t':'target_temperature'},{'s':'ACTUAL','t':_0xca9ec7(0x1c6)},{'s':'Ist','t':_0xca9ec7(0x239)},{'s':_0xca9ec7(0x1df),'t':'setpoint'}];else _0x3fcdee===_0xca9ec7(0x228)&&(_0x4cddd6=[{'s':_0xca9ec7(0x227),'t':_0xca9ec7(0x1ec)},{'s':_0xca9ec7(0x233),'t':_0xca9ec7(0x1ec)},{'s':_0xca9ec7(0x233),'t':'.4.VALVE_STATE'},{'s':'local_temperature','t':_0xca9ec7(0x26c)},{'s':'temperature','t':_0xca9ec7(0x205)},{'s':_0xca9ec7(0x1df),'t':_0xca9ec7(0x1bf)}]);for(const _0x2887f3 of _0x4cddd6){if(_0x1494e1['includes'](_0x2887f3['s'])){const _0xc1f7e7=_0x1494e1[_0xca9ec7(0x24b)](_0x2887f3['s'],_0x2887f3['t']),_0x5e4a79=await _0x112c6b['getForeignObjectAsync'](_0xc1f7e7);if(_0x5e4a79)return _0xc1f7e7;}}try{const _0x7ed034=_0x1494e1[_0xca9ec7(0x1ed)]('.');if(_0x7ed034[_0xca9ec7(0x234)]>0x2){const _0x34b996=_0x7ed034['slice'](0x0,-0x1)[_0xca9ec7(0x24c)]('.'),_0x283164=await _0x112c6b[_0xca9ec7(0x237)](_0x34b996+'.*'),_0x5c849c=[],_0x521939=_0x1494e1[_0xca9ec7(0x1ed)](/[._]+/)[_0xca9ec7(0x216)](_0x24701a=>![_0xca9ec7(0x20a),'0',_0xca9ec7(0x1c4),'ist',_0xca9ec7(0x20f),_0xca9ec7(0x1df),_0xca9ec7(0x1d1),_0xca9ec7(0x206),'messwert',_0xca9ec7(0x1fd)][_0xca9ec7(0x1eb)](_0x24701a[_0xca9ec7(0x1ff)]()));for(const [_0x1d2d0e,_0x55192a]of Object[_0xca9ec7(0x25c)](_0x283164)){if(_0x1d2d0e===_0x1494e1)continue;if(_0x55192a&&_0x55192a[_0xca9ec7(0x211)]){const _0x312300=_0x1d2d0e[_0xca9ec7(0x1ff)](),_0x23c4bd=(_0x55192a['common'][_0xca9ec7(0x21c)]||'')[_0xca9ec7(0x1ff)](),_0x25d953=(_0x55192a['common']['unit']||'')[_0xca9ec7(0x1ff)]();let _0x46a1db=![];if(_0x3fcdee===_0xca9ec7(0x1bb)&&_0x55192a[_0xca9ec7(0x211)][_0xca9ec7(0x25a)]===!![])_0x46a1db=_0x312300[_0xca9ec7(0x1eb)](_0xca9ec7(0x236))||_0x312300['includes'](_0xca9ec7(0x22a))||_0x312300[_0xca9ec7(0x1eb)](_0xca9ec7(0x1d7))||_0x23c4bd[_0xca9ec7(0x1eb)](_0xca9ec7(0x218))||_0x23c4bd['includes'](_0xca9ec7(0x1cb));else _0x3fcdee===_0xca9ec7(0x228)&&(_0x46a1db=_0x312300[_0xca9ec7(0x1eb)](_0xca9ec7(0x1bf))||_0x312300[_0xca9ec7(0x1eb)](_0xca9ec7(0x228))||_0x312300[_0xca9ec7(0x1eb)](_0xca9ec7(0x202))||_0x312300[_0xca9ec7(0x1eb)]('position')||_0x23c4bd[_0xca9ec7(0x1eb)](_0xca9ec7(0x1fb))||_0x23c4bd['includes'](_0xca9ec7(0x248))||_0x25d953['includes']('%'));if(_0x46a1db){const _0xabadd1=_0x1d2d0e[_0xca9ec7(0x1ed)](/[._]+/)[_0xca9ec7(0x1fc)](_0x1b55fc=>_0x1b55fc[_0xca9ec7(0x1ff)]());let _0x3bbbd9=0x0;_0x521939[_0xca9ec7(0x25d)](_0x4a35bc=>{const _0x4a24f6=_0xca9ec7;if(_0xabadd1['includes'](_0x4a35bc[_0x4a24f6(0x1ff)]()))_0x3bbbd9++;}),_0x5c849c[_0xca9ec7(0x247)]({'id':_0x1d2d0e,'score':_0x3bbbd9});}}}if(_0x5c849c[_0xca9ec7(0x234)]>0x0){_0x5c849c['sort']((_0x2d5494,_0x5ec780)=>_0x5ec780[_0xca9ec7(0x213)]-_0x2d5494[_0xca9ec7(0x213)]);if(_0x5c849c[0x0][_0xca9ec7(0x213)]>0x0)return _0x5c849c[0x0]['id'];}}}catch(_0x124a11){}return null;}async function scanThermostats(_0x3b9dc2){const _0x77feaf=a1_0x559f7c,_0x28a5ab=_0x3b9dc2[_0x77feaf(0x1bd)][_0x77feaf(0x25e)]||[],_0x51dd58=[],_0x199db3=_0x28a5ab[_0x77feaf(0x216)](_0x4ac192=>_0x4ac192['id']&&_0x4ac192['id'][_0x77feaf(0x1eb)](_0x77feaf(0x1df))||_0x4ac192['type']&&[_0x77feaf(0x1df),_0x77feaf(0x20e),_0x77feaf(0x206)][_0x77feaf(0x1eb)](_0x4ac192['type'])||_0x4ac192[_0x77feaf(0x1ce)]&&_0x4ac192[_0x77feaf(0x1ce)][_0x77feaf(0x1ff)]()['includes'](_0x77feaf(0x1b9)));for(const _0x2943da of _0x199db3){const _0x39dbcd=await findRelatedId(_0x3b9dc2,_0x2943da['id'],'setpoint'),_0x7915ed=await findRelatedId(_0x3b9dc2,_0x2943da['id'],_0x77feaf(0x228));let _0x4f22d3=_0x77feaf(0x262),_0x4934c8=![],_0x58c2a0=_0x3b9dc2[_0x77feaf(0x1bd)][_0x77feaf(0x1cc)]||{};if(typeof _0x58c2a0===_0x77feaf(0x214))try{_0x58c2a0=JSON[_0x77feaf(0x212)](_0x58c2a0);}catch(_0x29e1c3){}let _0x5af670=_0x3b9dc2[_0x77feaf(0x1bd)][_0x77feaf(0x1b2)]||{};if(typeof _0x5af670==='string')try{_0x5af670=JSON[_0x77feaf(0x212)](_0x5af670);}catch(_0x266c93){}if(_0x58c2a0[_0x2943da['id']]&&_0x58c2a0[_0x2943da['id']]===_0x39dbcd||_0x5af670[_0x2943da['id']]&&_0x5af670[_0x2943da['id']]===_0x7915ed)_0x4f22d3='Manuelles\x20Mapping',_0x4934c8=!![];else(_0x39dbcd||_0x7915ed)&&(_0x4f22d3=_0x77feaf(0x26a));_0x51dd58[_0x77feaf(0x247)]({'room':_0x2943da[_0x77feaf(0x21f)]||_0x77feaf(0x256),'sensorId':_0x2943da['id'],'setpointId':_0x39dbcd||'-','valveId':_0x7915ed||'-','source':_0x4f22d3,'isManual':_0x4934c8,'status':_0x39dbcd&&_0x7915ed?_0x77feaf(0x1da):_0x39dbcd?'OK':_0x77feaf(0x1dd)});}return _0x51dd58['sort']((_0xcdffd6,_0x44baa3)=>_0xcdffd6[_0x77feaf(0x1e7)]['localeCompare'](_0x44baa3[_0x77feaf(0x1e7)]));}async function updateSchedulePreview(_0x5de378){const _0x38cb58=a1_0x559f7c;if(!_0x5de378['config'][_0x38cb58(0x1e2)]||!_0x5de378['config'][_0x38cb58(0x1f1)])return;let _0x1704f8={};try{const _0x27d028=await _0x5de378[_0x38cb58(0x258)](_0x38cb58(0x22b));if(_0x27d028&&_0x27d028[_0x38cb58(0x24a)])_0x1704f8=JSON[_0x38cb58(0x212)](_0x27d028[_0x38cb58(0x24a)]);}catch(_0x56a15a){}const _0x31b671=[],_0x34d2b7=Date['now'](),_0x132066=0x30*0x3c*0x3c*0x3e8;try{const _0x125eca=await _0x5de378[_0x38cb58(0x230)](_0x5de378[_0x38cb58(0x1bd)][_0x38cb58(0x1f1)]+_0x38cb58(0x1f9));if(!_0x125eca||!_0x125eca['val'])return;const _0x38e649=JSON[_0x38cb58(0x212)](_0x125eca['val']),_0x3617ca=_0x5de378[_0x38cb58(0x1bd)]['calendarSelection']||[],_0x44bc3f=_0x5de378[_0x38cb58(0x1bd)]['devices']||[],_0x5e5942=new Set();_0x44bc3f[_0x38cb58(0x25d)](_0x38f640=>{const _0x42e012=_0x38cb58;if(_0x38f640[_0x42e012(0x21f)])_0x5e5942[_0x42e012(0x1e4)](_0x38f640[_0x42e012(0x21f)]);});for(const _0x33efe6 of _0x38e649){if(_0x33efe6[_0x38cb58(0x1dc)]&&_0x3617ca['length']>0x0&&!_0x3617ca[_0x38cb58(0x1eb)](_0x33efe6['_calName']))continue;const _0x1d2a5d=_0x33efe6['_date']||_0x33efe6[_0x38cb58(0x1d9)]||_0x33efe6[_0x38cb58(0x1ef)];if(!_0x1d2a5d)continue;const _0x177d72=new Date(_0x1d2a5d),_0x3c4abd=_0x177d72[_0x38cb58(0x1b1)]();if(isNaN(_0x3c4abd))continue;if(_0x3c4abd<_0x34d2b7)continue;if(_0x3c4abd>_0x34d2b7+_0x132066)continue;const _0x32d706=(_0x33efe6[_0x38cb58(0x20b)]||_0x33efe6[_0x38cb58(0x251)]||'')[_0x38cb58(0x1ff)]();let _0x2d8816=![],_0x35b0ef=[],_0x42fb08=_0x33efe6[_0x38cb58(0x20b)]||_0x33efe6['summary']||_0x38cb58(0x256);if(_0x32d706[_0x38cb58(0x1eb)](_0x38cb58(0x261))||_0x32d706[_0x38cb58(0x1eb)](_0x38cb58(0x260))||_0x32d706[_0x38cb58(0x1eb)]('ankunft'))_0x2d8816=!![],_0x35b0ef=Array[_0x38cb58(0x1c1)](_0x5e5942);else for(const _0x5e722f of _0x5e5942){if(_0x32d706['includes'](_0x5e722f['toLowerCase']()))_0x35b0ef[_0x38cb58(0x247)](_0x5e722f);}_0x35b0ef[_0x38cb58(0x234)]>0x0&&_0x35b0ef[_0x38cb58(0x25d)](_0x3a888e=>{const _0x3cef30=_0x38cb58;let _0x16a0a3=0x3c;if(_0x2d8816){let _0x1be49a=0x0;Object[_0x3cef30(0x1bc)](_0x1704f8)[_0x3cef30(0x25d)](_0x53453a=>{if(_0x53453a>_0x1be49a)_0x1be49a=_0x53453a;}),_0x16a0a3=_0x1be49a>0x0?_0x1be49a:0x78;}else _0x16a0a3=_0x1704f8[_0x3a888e]||0x3c;const _0x1bca5b=new Date(_0x3c4abd-_0x16a0a3*0xea60);_0x31b671['push']({'eventTime':_0x3c4abd,'triggerTime':_0x1bca5b['getTime'](),'room':_0x3a888e,'minutes':_0x16a0a3,'reason':_0x42fb08,'isGlobal':_0x2d8816});});}}catch(_0xacdd06){}_0x31b671['sort']((_0x31ce29,_0x373a97)=>_0x31ce29[_0x38cb58(0x200)]-_0x373a97[_0x38cb58(0x200)]);const _0x2693c0=_0x31b671[_0x38cb58(0x259)](0x0,0x5);await _0x5de378['setStateAsync']('analysis.energy.schedulePreview',{'val':JSON[_0x38cb58(0x1de)](_0x2693c0),'ack':!![]});}async function monitorEnforcements(_0x14ab85){const _0x1f5691=a1_0x559f7c;try{const _0x2d6f10=_0x1f5691(0x257),_0x58ecb2=await _0x14ab85[_0x1f5691(0x258)](_0x2d6f10);if(!_0x58ecb2||!_0x58ecb2[_0x1f5691(0x24a)])return;let _0x4dd4b5=[];try{_0x4dd4b5=JSON[_0x1f5691(0x212)](_0x58ecb2[_0x1f5691(0x24a)]);}catch(_0x34be49){return;}if(!Array[_0x1f5691(0x1d8)](_0x4dd4b5)||_0x4dd4b5[_0x1f5691(0x234)]===0x0)return;const _0x232a4f=Date['now'](),_0x43fc0a=_0x14ab85['config']['devices']||[];let _0x3f52fb=![];for(let _0x41c1fc=_0x4dd4b5[_0x1f5691(0x234)]-0x1;_0x41c1fc>=0x0;_0x41c1fc--){const _0x1fbd1b=_0x4dd4b5[_0x41c1fc];if(_0x232a4f>=_0x1fbd1b[_0x1f5691(0x241)]){_0x14ab85[_0x1f5691(0x245)][_0x1f5691(0x244)](_0x1f5691(0x207)+_0x1fbd1b[_0x1f5691(0x1e7)]+_0x1f5691(0x1e0)),_0x4dd4b5['splice'](_0x41c1fc,0x1),_0x3f52fb=!![];continue;}const _0xc8fe7d=_0x43fc0a[_0x1f5691(0x1b5)](_0x45aeea=>normalize(_0x45aeea[_0x1f5691(0x21f)])===normalize(_0x1fbd1b[_0x1f5691(0x1e7)])&&(_0x45aeea['type']==='temperature'||_0x45aeea['type']===_0x1f5691(0x20e)));if(_0xc8fe7d){const _0x55c2ec=await findRelatedId(_0x14ab85,_0xc8fe7d['id'],_0x1f5691(0x1bb));if(_0x55c2ec){const _0x332507=await _0x14ab85[_0x1f5691(0x230)](_0x55c2ec);_0x332507&&typeof _0x332507[_0x1f5691(0x24a)]===_0x1f5691(0x253)&&(_0x332507[_0x1f5691(0x24a)]<0xf&&(_0x14ab85[_0x1f5691(0x245)][_0x1f5691(0x209)]('üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x1fbd1b[_0x1f5691(0x1e7)]+'\x20auf\x20'+_0x332507[_0x1f5691(0x24a)]+'¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20'+_0x1fbd1b['target']+'¬∞C.'),await _0x14ab85[_0x1f5691(0x240)](_0x55c2ec,_0x1fbd1b[_0x1f5691(0x1d7)]),await logAutomationAction(_0x14ab85,_0x1f5691(0x1c9)+_0x1fbd1b[_0x1f5691(0x1e7)]+':\x20'+_0x332507[_0x1f5691(0x24a)]+'¬∞C\x20->\x20'+_0x1fbd1b[_0x1f5691(0x1d7)]+_0x1f5691(0x1c2))));}}}_0x3f52fb&&await _0x14ab85[_0x1f5691(0x24f)](_0x2d6f10,{'val':JSON[_0x1f5691(0x1de)](_0x4dd4b5),'ack':!![]});}catch(_0x11ee6e){_0x14ab85[_0x1f5691(0x245)]['error']('Enforcement\x20Monitor\x20Error:\x20'+_0x11ee6e[_0x1f5691(0x26e)]);}}async function checkCalendarTriggers(_0x5cd28a){const _0xbbe899=a1_0x559f7c;if(!_0x5cd28a['config'][_0xbbe899(0x1e2)]||!_0x5cd28a[_0xbbe899(0x1bd)][_0xbbe899(0x1f1)])return;await updateSchedulePreview(_0x5cd28a);let _0x22e100={},_0xa936a2={};try{const _0x13aa4a=await _0x5cd28a[_0xbbe899(0x258)](_0xbbe899(0x22b));if(_0x13aa4a&&_0x13aa4a[_0xbbe899(0x24a)])_0x22e100=JSON[_0xbbe899(0x212)](_0x13aa4a[_0xbbe899(0x24a)]);const _0x66fd88=await _0x5cd28a[_0xbbe899(0x258)](_0xbbe899(0x1db));if(_0x66fd88&&_0x66fd88[_0xbbe899(0x24a)])_0xa936a2=JSON['parse'](_0x66fd88['val']);}catch(_0x1ff5b0){}let _0x5cd11a={'default':0x15};try{const _0x473cac=await _0x5cd28a[_0xbbe899(0x258)](_0xbbe899(0x24d));if(_0x473cac&&_0x473cac['val'])_0x5cd11a=JSON[_0xbbe899(0x212)](_0x473cac[_0xbbe899(0x24a)]);}catch(_0x2744b5){}let _0x2c935b=[];try{const _0x107ac7=await _0x5cd28a['getStateAsync'](_0xbbe899(0x257));if(_0x107ac7&&_0x107ac7[_0xbbe899(0x24a)])_0x2c935b=JSON[_0xbbe899(0x212)](_0x107ac7[_0xbbe899(0x24a)]);}catch(_0x21b4f7){}try{const _0x224fe7=await _0x5cd28a[_0xbbe899(0x230)](_0x5cd28a[_0xbbe899(0x1bd)][_0xbbe899(0x1f1)]+_0xbbe899(0x1f9));if(!_0x224fe7||!_0x224fe7[_0xbbe899(0x24a)])return;const _0x1cb575=JSON['parse'](_0x224fe7[_0xbbe899(0x24a)]),_0x49bd84=Date[_0xbbe899(0x22c)](),_0xd1e317=_0x5cd28a[_0xbbe899(0x1bd)][_0xbbe899(0x25e)]||[],_0x4c3126=_0x5cd28a[_0xbbe899(0x1bd)][_0xbbe899(0x1d6)]||[];let _0x5d3d2f=![];for(const _0xc6ac25 of _0x1cb575){if(_0xc6ac25[_0xbbe899(0x1dc)]&&_0x4c3126[_0xbbe899(0x234)]>0x0&&!_0x4c3126['includes'](_0xc6ac25[_0xbbe899(0x1dc)]))continue;const _0x2ecde9=_0xc6ac25['_date']||_0xc6ac25['eventStart']||_0xc6ac25[_0xbbe899(0x1ef)];if(!_0x2ecde9)continue;const _0x40086b=new Date(_0x2ecde9);if(isNaN(_0x40086b['getTime']()))continue;const _0x2c7530=(_0xc6ac25['event']||_0xc6ac25['summary']||'')[_0xbbe899(0x1ff)]();if(_0x2c7530[_0xbbe899(0x1eb)]('urlaub\x20ende')||_0x2c7530['includes'](_0xbbe899(0x260))||_0x2c7530[_0xbbe899(0x1eb)](_0xbbe899(0x1f8))){let _0x54fed4=0x0;Object['values'](_0x22e100)['forEach'](_0x3c9e58=>{if(_0x3c9e58>_0x54fed4)_0x54fed4=_0x3c9e58;});if(_0x54fed4===0x0)_0x54fed4=0x78;const _0x1ad408=_0x40086b[_0xbbe899(0x1b1)]()-_0x54fed4*0xea60;_0x49bd84>=_0x1ad408&&_0x49bd84<_0x40086b['getTime']()&&(_0x5cd28a[_0xbbe899(0x1d3)]!==_0xbbe899(0x1f2)&&(_0x5cd28a[_0xbbe899(0x245)][_0xbbe899(0x244)](_0xbbe899(0x1e5)+_0x54fed4+_0xbbe899(0x254)),await _0x5cd28a[_0xbbe899(0x24f)](_0xbbe899(0x25f),{'val':_0xbbe899(0x1f2),'ack':![]})));}for(const _0x19e220 of _0xd1e317){if(_0x19e220[_0xbbe899(0x21f)]){const _0x2f3ce7=_0x19e220[_0xbbe899(0x21f)]['toLowerCase'](),_0x560fc5=(_0x19e220[_0xbbe899(0x1ce)]||'')[_0xbbe899(0x1ff)]();let _0xbcf2d0=_0x2c7530[_0xbbe899(0x1eb)](_0x2f3ce7);!_0xbcf2d0&&_0x560fc5[_0xbbe899(0x234)]>0x3&&_0x2c7530[_0xbbe899(0x1eb)](_0x560fc5)&&(_0xbcf2d0=!![]);if(_0xbcf2d0){const _0x5a2c25=_0x22e100[_0x19e220[_0xbbe899(0x21f)]]||0x3c,_0x3a5c02=_0xa936a2[_0x19e220[_0xbbe899(0x21f)]]||_0xbbe899(0x24e),_0x2d7f2b=_0x40086b[_0xbbe899(0x1b1)]()-_0x5a2c25*0xea60;if(_0x49bd84>=_0x2d7f2b&&_0x49bd84<_0x40086b[_0xbbe899(0x1b1)]()){const _0x5aa636=lastActions[_0xbbe899(0x252)+_0x19e220[_0xbbe899(0x21f)]];if(_0x5aa636&&_0x49bd84-_0x5aa636<CAL_COOLDOWN_MS)continue;const _0x40c42c=await findRelatedId(_0x5cd28a,_0x19e220['id'],_0xbbe899(0x1bb));if(_0x40c42c){let _0x3eb1c3=_0x5cd11a[_0x19e220[_0xbbe899(0x21f)]];if(_0x3eb1c3===undefined)_0x3eb1c3=_0x5cd11a['default'];if(_0x3eb1c3===undefined)_0x3eb1c3=0x15;const _0x2e9459=await _0x5cd28a[_0xbbe899(0x230)](_0x40c42c);if(_0x2e9459&&typeof _0x2e9459[_0xbbe899(0x24a)]==='number'&&_0x2e9459[_0xbbe899(0x24a)]<_0x3eb1c3-0.5){_0x5cd28a['log'][_0xbbe899(0x244)](_0xbbe899(0x1f4)+_0x3a5c02+_0xbbe899(0x1d0)+_0x19e220[_0xbbe899(0x21f)]+'\x27\x20(Match:\x20'+_0x2c7530+_0xbbe899(0x268)+_0x3eb1c3+_0xbbe899(0x23b)+_0x5a2c25+_0xbbe899(0x254)),await _0x5cd28a['setForeignStateAsync'](_0x40c42c,_0x3eb1c3),await logAutomationAction(_0x5cd28a,'[CAL]\x20'+_0x19e220[_0xbbe899(0x21f)]+'\x20->\x20'+_0x3eb1c3+_0xbbe899(0x208)+_0x3a5c02+')'),lastActions[_0xbbe899(0x252)+_0x19e220[_0xbbe899(0x21f)]]=_0x49bd84;const _0x26b80a=_0x2c935b['findIndex'](_0x41ee62=>_0x41ee62[_0xbbe899(0x1e7)]===_0x19e220[_0xbbe899(0x21f)]);if(_0x26b80a!==-0x1)_0x2c935b['splice'](_0x26b80a,0x1);_0x2c935b[_0xbbe899(0x247)]({'room':_0x19e220[_0xbbe899(0x21f)],'target':_0x3eb1c3,'until':_0x40086b[_0xbbe899(0x1b1)]()}),_0x5d3d2f=!![];}}}}}}}_0x5d3d2f&&await _0x5cd28a['setStateAsync'](_0xbbe899(0x257),{'val':JSON[_0xbbe899(0x1de)](_0x2c935b),'ack':!![]});}catch(_0x267d5d){_0x5cd28a[_0xbbe899(0x245)][_0xbbe899(0x209)](_0xbbe899(0x249)+_0x267d5d[_0xbbe899(0x26e)]);}}async function manageMpcIntervention(_0x329c6d,_0x5bbf37,_0x297501){const _0x31969c=a1_0x559f7c;try{const _0x134853=_0x31969c(0x22f),_0x3e864f=await _0x329c6d[_0x31969c(0x258)](_0x134853);let _0x27b694=[];if(_0x3e864f&&_0x3e864f[_0x31969c(0x24a)])try{_0x27b694=JSON['parse'](_0x3e864f[_0x31969c(0x24a)]);}catch(_0x11059d){}const _0x2616d8=_0x27b694[_0x31969c(0x1e8)](_0x5bbf37);if(_0x297501===_0x31969c(0x1e4))_0x2616d8===-0x1&&(_0x27b694['push'](_0x5bbf37),await _0x329c6d[_0x31969c(0x24f)](_0x134853,{'val':JSON[_0x31969c(0x1de)](_0x27b694),'ack':!![]}));else _0x297501===_0x31969c(0x1b6)&&(_0x2616d8!==-0x1&&(_0x27b694[_0x31969c(0x1f3)](_0x2616d8,0x1),await _0x329c6d[_0x31969c(0x24f)](_0x134853,{'val':JSON[_0x31969c(0x1de)](_0x27b694),'ack':!![]})));}catch(_0x4f5be5){}}async function cleanupGhostInterventions(_0x54eb10){const _0x442564=a1_0x559f7c;try{const _0x24c109='analysis.energy.mpcActiveInterventions',_0x12a67d=await _0x54eb10['getStateAsync'](_0x24c109);if(!_0x12a67d||!_0x12a67d['val'])return;const _0x2d1bf4=JSON[_0x442564(0x212)](_0x12a67d[_0x442564(0x24a)]);if(!Array[_0x442564(0x1d8)](_0x2d1bf4)||_0x2d1bf4[_0x442564(0x234)]===0x0)return;let _0x5d5947={'default':0x15};try{const _0x3f1129=await _0x54eb10[_0x442564(0x258)]('analysis.energy.warmupTargets');if(_0x3f1129&&_0x3f1129['val'])_0x5d5947=JSON[_0x442564(0x212)](_0x3f1129[_0x442564(0x24a)]);}catch(_0x48ab37){}let _0x364282=[];try{const _0x4e0472=await _0x54eb10[_0x442564(0x258)](_0x442564(0x238));if(_0x4e0472&&_0x4e0472[_0x442564(0x24a)])_0x364282=JSON['parse'](_0x4e0472[_0x442564(0x24a)]);}catch(_0xcfb489){}const _0x4e047f=_0x54eb10['config'][_0x442564(0x25e)]||[];let _0x3d20d7=![];for(let _0x331bd4=_0x2d1bf4[_0x442564(0x234)]-0x1;_0x331bd4>=0x0;_0x331bd4--){const _0x51ca76=_0x2d1bf4[_0x331bd4],_0x138275=_0x4e047f[_0x442564(0x1b5)](_0x4d7c69=>normalize(_0x4d7c69[_0x442564(0x21f)])===normalize(_0x51ca76)&&(_0x4d7c69[_0x442564(0x267)]==='temperature'||_0x4d7c69['type']===_0x442564(0x20e)));if(!_0x138275){_0x54eb10['log'][_0x442564(0x209)](_0x442564(0x1d4)+_0x51ca76+_0x442564(0x225)),_0x2d1bf4[_0x442564(0x1f3)](_0x331bd4,0x1),_0x3d20d7=!![];continue;}if(_0x138275){const _0x5d1b42=await findRelatedId(_0x54eb10,_0x138275['id'],_0x442564(0x1bb)),_0xfa16a7=await _0x54eb10[_0x442564(0x230)](_0x138275['id']);if(_0x5d1b42){const _0x4d8d18=await _0x54eb10[_0x442564(0x230)](_0x5d1b42);if(_0x4d8d18&&typeof _0x4d8d18[_0x442564(0x24a)]==='number'){let _0x7485fe=![],_0x374123='';Math['abs'](_0x4d8d18[_0x442564(0x24a)]-ECO_TEMP)>0.5&&(_0x7485fe=!![],_0x374123=_0x442564(0x1f0));if(!_0x7485fe&&_0xfa16a7&&typeof _0xfa16a7[_0x442564(0x24a)]===_0x442564(0x253)){const _0xd059bf=_0x5d5947[_0x51ca76]||_0x5d5947['default']||0x15;_0xfa16a7['val']<_0xd059bf+0.2&&(_0x7485fe=!![],_0x374123=_0x442564(0x1e6));}if(_0x7485fe){if(_0x374123===_0x442564(0x1f0)){_0x54eb10[_0x442564(0x245)][_0x442564(0x244)]('üßπ\x20[MPC\x20CLEANUP]\x20'+_0x51ca76+_0x442564(0x1e1)+_0x4d8d18[_0x442564(0x24a)]+'¬∞C\x20(nicht\x20'+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0x4204ec=lastActions[_0x442564(0x252)+_0x51ca76],_0x4b4f76=_0x4204ec&&Date[_0x442564(0x22c)]()-_0x4204ec<0x2*0x3c*0x3e8;if(!_0x4b4f76&&_0x4d8d18[_0x442564(0x24a)]>ECO_TEMP+0.5)_0x54eb10[_0x442564(0x220)]&&(_0x54eb10[_0x442564(0x245)][_0x442564(0x244)](_0x442564(0x21e)+_0x51ca76+'\x20wurde\x20manuell\x20erh√∂ht.'),_0x54eb10[_0x442564(0x220)](_0x442564(0x265),{'room':_0x51ca76}));else _0x4b4f76&&_0x54eb10['log'][_0x442564(0x244)](_0x442564(0x1c5)+_0x51ca76+_0x442564(0x222));}else{if(_0x374123==='too_cold'){let _0x28e7b9=![];if(_0x364282[_0x442564(0x1b5)](_0x401c80=>_0x401c80[_0x442564(0x1e7)]===_0x51ca76))_0x28e7b9=!![];const _0x3c1416=_0x4e047f[_0x442564(0x216)](_0x263d8d=>normalize(_0x263d8d[_0x442564(0x21f)])===normalize(_0x51ca76)&&(_0x263d8d['type']===_0x442564(0x203)||_0x263d8d[_0x442564(0x267)]===_0x442564(0x206)||_0x263d8d[_0x442564(0x267)]==='contact'));for(const _0x9022a5 of _0x3c1416){try{const _0x3217ca=await _0x54eb10[_0x442564(0x230)](_0x9022a5['id']);if(_0x3217ca&&(_0x3217ca['val']===!![]||_0x3217ca['val']===0x1||String(_0x3217ca[_0x442564(0x24a)])[_0x442564(0x1ff)]()===_0x442564(0x25b)))_0x28e7b9=!![];}catch(_0x23374d){}}if(_0x28e7b9)_0x54eb10['log'][_0x442564(0x244)](_0x442564(0x231)+_0x51ca76+_0x442564(0x23d));else{const _0x39420b=_0x5d5947[_0x51ca76]||_0x5d5947[_0x442564(0x255)]||0x15;_0x54eb10[_0x442564(0x245)][_0x442564(0x244)](_0x442564(0x217)+_0x51ca76+_0x442564(0x1d2)+_0xfa16a7[_0x442564(0x24a)]+_0x442564(0x23f)+(_0x39420b+0.2)+_0x442564(0x221)),await _0x54eb10[_0x442564(0x240)](_0x5d1b42,_0x39420b),await logAutomationAction(_0x54eb10,_0x442564(0x1c0)+_0x51ca76+_0x442564(0x1be)+_0x39420b+'¬∞C'),lastActions[_0x442564(0x23a)+_0x51ca76]=Date[_0x442564(0x22c)]();}}}_0x2d1bf4[_0x442564(0x1f3)](_0x331bd4,0x1),_0x3d20d7=!![];}}}}}_0x3d20d7&&await _0x54eb10['setStateAsync'](_0x24c109,{'val':JSON['stringify'](_0x2d1bf4),'ack':!![]});}catch(_0xfe4fc){}}async function applyEnergySavings(_0x5f521e,_0xc2d891){const _0x2f6d5c=a1_0x559f7c;await cleanupGhostInterventions(_0x5f521e);if(!_0xc2d891||_0xc2d891['length']===0x0)return;const _0x40568f=_0x5f521e[_0x2f6d5c(0x1bd)]['devices']||[],_0xef0fdd=Date[_0x2f6d5c(0x22c)]();for(const _0x54a9fe of _0xc2d891){const _0x4a278b=_0x54a9fe[_0x2f6d5c(0x1e7)],_0x4ea65f=_0x54a9fe[_0x2f6d5c(0x1b3)],_0x6218da=_0x54a9fe[_0x2f6d5c(0x1d7)]||0x15;if(lastActions[_0x2f6d5c(0x23a)+_0x4a278b]&&_0xef0fdd-lastActions[_0x2f6d5c(0x23a)+_0x4a278b]<RESCUE_LOCK_MS)continue;const _0x3d4c54=_0x40568f[_0x2f6d5c(0x1b5)](_0xfbf032=>normalize(_0xfbf032[_0x2f6d5c(0x21f)])===normalize(_0x4a278b)&&(_0xfbf032[_0x2f6d5c(0x267)]===_0x2f6d5c(0x1df)||_0xfbf032[_0x2f6d5c(0x267)]===_0x2f6d5c(0x20e)));if(!_0x3d4c54)continue;const _0x561a0f=await findRelatedId(_0x5f521e,_0x3d4c54['id'],_0x2f6d5c(0x1bb));if(_0x561a0f){if(lastActions[_0x2f6d5c(0x232)+_0x4a278b]&&_0xef0fdd-lastActions['mpc_'+_0x4a278b]<0x1e*0x3c*0x3e8)continue;const _0x3be6f4=await _0x5f521e[_0x2f6d5c(0x230)](_0x561a0f);if(_0x3be6f4&&typeof _0x3be6f4[_0x2f6d5c(0x24a)]===_0x2f6d5c(0x253)){const _0x24623f=_0x3be6f4[_0x2f6d5c(0x24a)];_0x24623f!==ECO_TEMP&&await manageMpcIntervention(_0x5f521e,_0x4a278b,_0x2f6d5c(0x1b6));if(_0x4ea65f>0x1e)_0x24623f>ECO_TEMP+0.5&&(_0x5f521e[_0x2f6d5c(0x245)]['info'](_0x2f6d5c(0x26b)+_0x4a278b+_0x2f6d5c(0x263)+ECO_TEMP+_0x2f6d5c(0x215)+_0x4ea65f+_0x2f6d5c(0x21b)),await _0x5f521e[_0x2f6d5c(0x240)](_0x561a0f,ECO_TEMP),await manageMpcIntervention(_0x5f521e,_0x4a278b,_0x2f6d5c(0x1e4)),lastActions[_0x2f6d5c(0x232)+_0x4a278b]=_0xef0fdd,await logAutomationAction(_0x5f521e,_0x2f6d5c(0x1ee)+_0x4a278b+_0x2f6d5c(0x224)+ECO_TEMP+'¬∞C'));else _0x4ea65f<=0xf&&(_0x24623f<_0x6218da&&(_0x5f521e['log']['info'](_0x2f6d5c(0x21a)+_0x4a278b+'\x20wieder\x20auf\x20'+_0x6218da+_0x2f6d5c(0x1e9)),await _0x5f521e[_0x2f6d5c(0x240)](_0x561a0f,_0x6218da),await manageMpcIntervention(_0x5f521e,_0x4a278b,_0x2f6d5c(0x1b6)),lastActions['mpc_'+_0x4a278b]=_0xef0fdd,await logAutomationAction(_0x5f521e,_0x2f6d5c(0x1ee)+_0x4a278b+':\x20Aufheizen\x20auf\x20'+_0x6218da+'¬∞C')));}}else _0x5f521e[_0x2f6d5c(0x245)]['warn']('[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20'+_0x4a278b+'\x20gefunden!');}}module[a1_0x559f7c(0x246)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};