function a1_0x2c6a(_0x598759,_0x41432a){const _0x539e41=a1_0x52db();return a1_0x2c6a=function(_0x753411,_0x46e157){_0x753411=_0x753411-0x14b;let _0x52db9f=_0x539e41[_0x753411];return _0x52db9f;},a1_0x2c6a(_0x598759,_0x41432a);}function a1_0x52db(){const _0x556637=['replace','3238400JeolTv','off','\x20->\x20','exports','1757bIWxdz','getForeignStateAsync','getStateAsync','simulate','constructor','name','ðŸ‘€\x20SIMULATION:\x20','PrÃ¤diktion:\x20','info','analysis.automation.confidenceThreshold','log','setStateAsync','light','5217594rlWXtO','now','analysis.automation.lastAction','approved','5512339ACNSUl','toLowerCase','config','val','debug','search','3747796DAiswt','toString','Unknown','analysis.automation.mode','reason','26101168wHXZqd','toUpperCase','devices','setForeignStateAsync','consultButler','apply','./ai_agent','842btXPEs','switch','5348208BwAscA','type','ðŸ¤–\x20Butler\x20Blocked:\x20','[BLOCKED]\x20','trim'];a1_0x52db=function(){return _0x556637;};return a1_0x52db();}const a1_0x100102=a1_0x2c6a;(function(_0x10602d,_0x13fc8a){const _0x1a427a=a1_0x2c6a,_0x38fe76=_0x10602d();while(!![]){try{const _0x4173ba=parseInt(_0x1a427a(0x160))/0x1*(parseInt(_0x1a427a(0x154))/0x2)+parseInt(_0x1a427a(0x16d))/0x3+parseInt(_0x1a427a(0x177))/0x4+parseInt(_0x1a427a(0x15c))/0x5+parseInt(_0x1a427a(0x156))/0x6+-parseInt(_0x1a427a(0x171))/0x7+-parseInt(_0x1a427a(0x14d))/0x8;if(_0x4173ba===_0x13fc8a)break;else _0x38fe76['push'](_0x38fe76['shift']());}catch(_0x161bdf){_0x38fe76['push'](_0x38fe76['shift']());}}}(a1_0x52db,0xdce41));const a1_0x46e157=(function(){let _0x2f6689=!![];return function(_0x1c3040,_0x12b57c){const _0x4508ed=_0x2f6689?function(){const _0x3557aa=a1_0x2c6a;if(_0x12b57c){const _0x417349=_0x12b57c[_0x3557aa(0x152)](_0x1c3040,arguments);return _0x12b57c=null,_0x417349;}}:function(){};return _0x2f6689=![],_0x4508ed;};}()),a1_0x753411=a1_0x46e157(this,function(){const _0x38e50d=a1_0x2c6a;return a1_0x753411[_0x38e50d(0x178)]()[_0x38e50d(0x176)]('(((.+)+)+)+$')[_0x38e50d(0x178)]()[_0x38e50d(0x164)](a1_0x753411)['search']('(((.+)+)+)+$');});a1_0x753411();'use strict';const aiAgent=require(a1_0x100102(0x153)),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function normalize(_0x354e1c){const _0x2c5cec=a1_0x100102;if(!_0x354e1c)return'';return _0x354e1c[_0x2c5cec(0x172)]()[_0x2c5cec(0x15b)](/\s+/g,'')[_0x2c5cec(0x15a)]();}async function handlePrediction(_0x474c6c,_0x51bdb5,_0x5eef46){const _0x41ea73=a1_0x100102;if(!_0x51bdb5||_0x51bdb5===_0x41ea73(0x179))return;let _0x49714b='off',_0xca25bb=0.6;try{const _0x2e8f20=await _0x474c6c[_0x41ea73(0x162)](_0x41ea73(0x14b));if(_0x2e8f20&&_0x2e8f20['val'])_0x49714b=_0x2e8f20['val'];const _0x519ef4=await _0x474c6c[_0x41ea73(0x162)](_0x41ea73(0x169));if(_0x519ef4&&_0x519ef4[_0x41ea73(0x174)])_0xca25bb=_0x519ef4[_0x41ea73(0x174)];}catch(_0x47aa80){}if(_0x49714b===_0x41ea73(0x15d))return;if(_0x5eef46<_0xca25bb)return;const _0x309eb6=Date[_0x41ea73(0x16e)]();if(lastActions[_0x51bdb5]&&_0x309eb6-lastActions[_0x51bdb5]<COOLDOWN_MS)return;const _0x36dbe7=_0x474c6c[_0x41ea73(0x173)][_0x41ea73(0x14f)]||[],_0x38a25e=normalize(_0x51bdb5),_0xaacf90=_0x36dbe7['find'](_0x4c25e4=>{const _0x5e426b=_0x41ea73;return normalize(_0x4c25e4['location'])===_0x38a25e&&(_0x4c25e4['type']===_0x5e426b(0x16c)||_0x4c25e4[_0x5e426b(0x157)]==='dimmer'||_0x4c25e4[_0x5e426b(0x157)]===_0x5e426b(0x155));});if(!_0xaacf90){const _0x18c4b5='ðŸ”\x20Device-Search\x20failed:\x20Predicted\x20\x27'+_0x51bdb5+'\x27\x20(norm:\x20\x27'+_0x38a25e+'\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.';_0x474c6c['log']['debug'](_0x18c4b5);return;}const _0x1b6226=await aiAgent[_0x41ea73(0x151)](_0x474c6c,_0x51bdb5,_0xaacf90['name'],_0x5eef46);if(!_0x1b6226[_0x41ea73(0x170)]){_0x474c6c['log'][_0x41ea73(0x175)](_0x41ea73(0x158)+_0x51bdb5+_0x41ea73(0x15e)+_0x1b6226[_0x41ea73(0x14c)]),await _0x474c6c[_0x41ea73(0x16b)](_0x41ea73(0x16f),{'val':_0x41ea73(0x159)+_0x1b6226['reason'],'ack':!![]});return;}const _0x145e39=_0x41ea73(0x167)+_0x51bdb5+'\x20->\x20Schalte\x20'+_0xaacf90[_0x41ea73(0x165)]+'\x20('+_0x1b6226['reason']+')';await _0x474c6c['setStateAsync'](_0x41ea73(0x16f),{'val':'['+_0x49714b[_0x41ea73(0x14e)]()+']\x20'+_0x145e39,'ack':!![]});if(_0x49714b===_0x41ea73(0x163))_0x474c6c[_0x41ea73(0x16a)][_0x41ea73(0x168)](_0x41ea73(0x166)+_0x145e39);else{if(_0x49714b==='active'){_0x474c6c[_0x41ea73(0x16a)][_0x41ea73(0x168)]('âš¡\x20ACTION:\x20'+_0x145e39);const _0x8cfddc=await _0x474c6c[_0x41ea73(0x161)](_0xaacf90['id']);if(_0x8cfddc&&(_0x8cfddc[_0x41ea73(0x174)]===!![]||_0x8cfddc[_0x41ea73(0x174)]>0x0)){}else await _0x474c6c[_0x41ea73(0x150)](_0xaacf90['id'],!![]);lastActions[_0x51bdb5]=_0x309eb6;}}}module[a1_0x100102(0x15f)]={'handlePrediction':handlePrediction};