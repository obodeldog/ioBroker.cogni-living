const a1_0x26aa9d=a1_0x2cb5;(function(_0x5b4365,_0x12d130){const _0x2056cd=a1_0x2cb5,_0x45837a=_0x5b4365();while(!![]){try{const _0x229b75=-parseInt(_0x2056cd(0x79))/0x1+-parseInt(_0x2056cd(0xba))/0x2*(parseInt(_0x2056cd(0x11a))/0x3)+parseInt(_0x2056cd(0x120))/0x4+-parseInt(_0x2056cd(0xdc))/0x5*(parseInt(_0x2056cd(0x7f))/0x6)+-parseInt(_0x2056cd(0x88))/0x7+parseInt(_0x2056cd(0x8a))/0x8+parseInt(_0x2056cd(0xf9))/0x9*(parseInt(_0x2056cd(0x9a))/0xa);if(_0x229b75===_0x12d130)break;else _0x45837a['push'](_0x45837a['shift']());}catch(_0x145b8e){_0x45837a['push'](_0x45837a['shift']());}}}(a1_0x4683,0x7f275));const a1_0x788d65=(function(){let _0x4b801f=!![];return function(_0x3ac8b0,_0x42d766){const _0x51c386=_0x4b801f?function(){const _0x226112=a1_0x2cb5;if(_0x42d766){const _0x1c5dad=_0x42d766[_0x226112(0x94)](_0x3ac8b0,arguments);return _0x42d766=null,_0x1c5dad;}}:function(){};return _0x4b801f=![],_0x51c386;};}()),a1_0x17c5a5=a1_0x788d65(this,function(){const _0x2590da=a1_0x2cb5;return a1_0x17c5a5[_0x2590da(0xb2)]()['search'](_0x2590da(0x9d))[_0x2590da(0xb2)]()[_0x2590da(0x9f)](a1_0x17c5a5)[_0x2590da(0xdd)](_0x2590da(0x9d));});function a1_0x4683(){const _0x19f9a8=['manual','./ai_agent','130CTSYPx','Auto-Erkennung','join','(((.+)+)+)+$','current_heating_setpoint','constructor','push','analysis.energy.warmupSources','level','parse','.4.VALVE_STATE','analysis.energy.warmupTimes','warn','_calName','location','\x20->\x20Schalte\x20','eventStart','level.valve','Soll','¬∞C\x20<\x20','analysis.energy.schedulePreview','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','calendarSelection','state','toString','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','findIndex','triggerTime','entries','¬∞C.','\x20ist\x20auf\x20','off','1331630TPXCtk','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','useCalendar','Enforcement\x20Monitor\x20Error:\x20','\x20min)','temp','analysis.automation.mode','soll','¬∞C\x20(Kalender-Schutz)','.1.ACTUAL_TEMPERATURE','isArray','open','analysis.automation.confidenceThreshold','cal_','val','normal','split','analysis.energy.rlPenalties','from','consultButler','sensor','position','¬∞C\x20(nicht\x20','mpc_','_meta','target','message','getStateAsync','stringify','includes','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','toLowerCase','analysis.energy.warmupTargets','window','1055vOHkGl','search','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','pi_heating_demand',':\x20Aufheizen\x20auf\x20','getHours','Unbekannt','Pr√§diktion:\x20','log',':\x20Absenkung\x20auf\x20','[CAL]\x20','[FORCE]\x20','sendToPythonWrapper','üìÖ\x20SMART\x20SCHEDULE\x20[','dimmer','¬∞C).\x20Sparmodus\x20beendet!','system.mode','reason','ankunft','unit','valve',']:\x20Raum-Trigger\x20\x27','TRAIN_RL_PENALTY','actual','slice','[WATCHDOG]\x20','\x20wieder\x20auf\x20','ist','until','1951038pQTQJj','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','toUpperCase','\x20gefunden!','hm-rpc','setpoint','room','üî•\x20[MPC\x20ACTION]\x20Heize\x20',')\x20aktiv.\x20Heize\x20auf\x20','values','info','openknx','setStateAsync','stellwert','SET_POINT_TEMPERATURE','find','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','number','summary','PERFECT','Fehlt','analysis.energy.ventilationAlerts','thermostat.setpoint','config','analysis.energy.mpcActiveInterventions','score','messwert','length','¬∞C!\x20(Puffer:\x20','_date','value.valve','splice','r√ºckkehr','3DVrWfE','üìÖ\x20[MPC\x20INFO]\x20','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','unshift','\x20min).','rescue_','1779904NqLIWd','Calendar\x20Check\x20Error:\x20','thermostat','.1.TEMPERATURE','sort','¬∞C\x20(Vorlauf:\x20','date','\x27\x20(Match:\x20','üßπ\x20[MPC\x20CLEANUP]\x20','string','trim','write',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','.1.SET_POINT_TEMPERATURE','getForeignObjectAsync','getTime','¬∞C\x20(via\x20','set','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','thermostatMapping','valve_position','valveMapping','devices','ACTUAL','analysis.automation.actionLog','name','Unknown','forEach','event','.1.LEVEL','role','filter','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','contact','\x20wurde\x20manuell\x20erh√∂ht.','563919FbauDH','now','ACTUAL_TEMPERATURE','type','urlaub\x20ende','Ist','29514LTrptE','add','[MPC]\x20','common','getForeignStateAsync','\x20auf\x20','Manuelles\x20Mapping','abs','calendarInstance','4462619iAulwG','.data.table','1302712ZCmkXW','analysis.automation.lastAction','temperature','¬∞C\x20->\x20','SET','¬∞C).\x20Entferne\x20Status.','Nicht\x20gefunden','default','too_cold','setForeignStateAsync','apply','remove','analysis.energy.activeEnforcements','üö®\x20[MPC\x20WATCHDOG]\x20'];a1_0x4683=function(){return _0x19f9a8;};return a1_0x4683();}a1_0x17c5a5();'use strict';const aiAgent=require(a1_0x26aa9d(0x99)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x39e365){const _0x35ace8=a1_0x26aa9d;if(!_0x39e365)return'';return _0x39e365[_0x35ace8(0xd9)]()['replace'](/\s+/g,'')[_0x35ace8(0x12a)]();}async function logAutomationAction(_0x4ea935,_0x17faba){const _0x5b141c=a1_0x26aa9d;await _0x4ea935[_0x5b141c(0x105)](_0x5b141c(0x8b),{'val':_0x17faba,'ack':!![]});try{const _0x3b0876=_0x5b141c(0x6e),_0xaedb20=await _0x4ea935['getStateAsync'](_0x3b0876);let _0x5095af=[];if(_0xaedb20&&_0xaedb20[_0x5b141c(0xc8)])try{_0x5095af=JSON['parse'](_0xaedb20['val']);}catch(_0x207a15){}_0x5095af[_0x5b141c(0x11d)]({'ts':Date[_0x5b141c(0x7a)](),'msg':_0x17faba});if(_0x5095af[_0x5b141c(0x114)]>0x32)_0x5095af=_0x5095af[_0x5b141c(0xf4)](0x0,0x32);await _0x4ea935[_0x5b141c(0x105)](_0x3b0876,{'val':JSON[_0x5b141c(0xd6)](_0x5095af),'ack':!![]});}catch(_0x11a539){}}async function handlePrediction(_0x3f0415,_0x4bddf1,_0x5d7b5e){const _0x30f758=a1_0x26aa9d;if(!_0x4bddf1||_0x4bddf1===_0x30f758(0x70))return;let _0x4c23bc=_0x30f758(0xb9),_0x3081ec=0.6;try{const _0xc81058=await _0x3f0415[_0x30f758(0xd5)](_0x30f758(0xc0));if(_0xc81058&&_0xc81058[_0x30f758(0xc8)])_0x4c23bc=_0xc81058[_0x30f758(0xc8)];const _0x15afd6=await _0x3f0415['getStateAsync'](_0x30f758(0xc6));if(_0x15afd6&&_0x15afd6[_0x30f758(0xc8)])_0x3081ec=_0x15afd6[_0x30f758(0xc8)];}catch(_0x5e2feb){}if(_0x4c23bc==='off'||_0x5d7b5e<_0x3081ec)return;const _0x256731=Date[_0x30f758(0x7a)]();if(lastActions[_0x4bddf1]&&_0x256731-lastActions[_0x4bddf1]<COOLDOWN_MS)return;const _0x53cb2b=_0x3f0415[_0x30f758(0x110)][_0x30f758(0x6c)]||[],_0x2ac0f4=normalize(_0x4bddf1),_0x5adf1b=_0x53cb2b['find'](_0x30a042=>normalize(_0x30a042['location'])===_0x2ac0f4&&(_0x30a042[_0x30f758(0x7c)]==='light'||_0x30a042[_0x30f758(0x7c)]===_0x30f758(0xea)||_0x30a042[_0x30f758(0x7c)]==='switch'));if(!_0x5adf1b)return;const _0xeee53a=await aiAgent[_0x30f758(0xcd)](_0x3f0415,_0x4bddf1,_0x5adf1b['name'],_0x5d7b5e);if(!_0xeee53a['approved'])return;const _0x515d76=_0x30f758(0xe3)+_0x4bddf1+_0x30f758(0xa9)+_0x5adf1b['name']+'\x20('+_0xeee53a[_0x30f758(0xed)]+')';await logAutomationAction(_0x3f0415,'['+_0x4c23bc[_0x30f758(0xfb)]()+']\x20'+_0x515d76);if(_0x4c23bc==='active'){const _0x194c88=await _0x3f0415[_0x30f758(0x83)](_0x5adf1b['id']);(!_0x194c88||!_0x194c88[_0x30f758(0xc8)]&&_0x194c88[_0x30f758(0xc8)]!==!![])&&await _0x3f0415[_0x30f758(0x93)](_0x5adf1b['id'],!![]),lastActions[_0x4bddf1]=_0x256731;}}async function findRelatedId(_0x2b75e8,_0x45a98e,_0x5116be='setpoint'){const _0x313834=a1_0x26aa9d;if(_0x5116be==='setpoint'&&_0x2b75e8[_0x313834(0x110)][_0x313834(0x69)]){let _0x212b69=_0x2b75e8[_0x313834(0x110)]['thermostatMapping'];if(typeof _0x212b69==='string')try{_0x212b69=JSON[_0x313834(0xa3)](_0x212b69);}catch(_0x5d38a4){}if(_0x212b69&&_0x212b69[_0x45a98e])return _0x212b69[_0x45a98e];}if(_0x5116be==='valve'&&_0x2b75e8[_0x313834(0x110)][_0x313834(0x6b)]){let _0x1dc279=_0x2b75e8[_0x313834(0x110)][_0x313834(0x6b)];if(typeof _0x1dc279==='string')try{_0x1dc279=JSON['parse'](_0x1dc279);}catch(_0x370cf6){}if(_0x1dc279&&_0x1dc279[_0x45a98e])return _0x1dc279[_0x45a98e];}let _0x10a7bc=[];if(_0x5116be==='setpoint')_0x10a7bc=[{'s':_0x313834(0xc3),'t':_0x313834(0x12d)},{'s':_0x313834(0x123),'t':_0x313834(0x12d)},{'s':_0x313834(0x123),'t':'.4.SET_TEMPERATURE'},{'s':_0x313834(0x7b),'t':_0x313834(0x107)},{'s':'local_temperature','t':'occupied_heating_setpoint'},{'s':'local_temperature','t':_0x313834(0x9e)},{'s':_0x313834(0x8c),'t':'target_temperature'},{'s':_0x313834(0x6d),'t':_0x313834(0x8e)},{'s':_0x313834(0x7e),'t':_0x313834(0xac)},{'s':_0x313834(0x8c),'t':_0x313834(0xfe)}];else _0x5116be===_0x313834(0xf0)&&(_0x10a7bc=[{'s':_0x313834(0xc3),'t':_0x313834(0x73)},{'s':_0x313834(0x123),'t':_0x313834(0x73)},{'s':'.1.TEMPERATURE','t':_0x313834(0xa4)},{'s':'local_temperature','t':_0x313834(0xdf)},{'s':_0x313834(0x8c),'t':_0x313834(0x6a)},{'s':_0x313834(0x8c),'t':'level'}]);for(const _0xa91e4f of _0x10a7bc){if(_0x45a98e[_0x313834(0xd7)](_0xa91e4f['s'])){const _0x1ad508=_0x45a98e['replace'](_0xa91e4f['s'],_0xa91e4f['t']),_0xacfd74=await _0x2b75e8[_0x313834(0x64)](_0x1ad508);if(_0xacfd74)return _0x1ad508;}}try{const _0x58b669=_0x45a98e['split']('.');if(_0x58b669[_0x313834(0x114)]>0x2){const _0x100a9b=_0x58b669['slice'](0x0,-0x1)[_0x313834(0x9c)]('.'),_0x5f02c1=await _0x2b75e8['getForeignObjectsAsync'](_0x100a9b+'.*'),_0x14bccf=[],_0x5415ae=_0x45a98e['split'](/[._]+/)['filter'](_0x3dca23=>![_0x313834(0x104),'0',_0x313834(0xfd),_0x313834(0xf7),'wert','temperature',_0x313834(0xf3),'sensor',_0x313834(0x113),_0x313834(0xb1)][_0x313834(0xd7)](_0x3dca23['toLowerCase']()));for(const [_0xf9f67a,_0x1b5867]of Object[_0x313834(0xb6)](_0x5f02c1)){if(_0xf9f67a===_0x45a98e)continue;if(_0x1b5867&&_0x1b5867[_0x313834(0x82)]){const _0x4cc784=_0xf9f67a['toLowerCase'](),_0x121d98=(_0x1b5867[_0x313834(0x82)][_0x313834(0x74)]||'')['toLowerCase'](),_0x1a9c51=(_0x1b5867[_0x313834(0x82)][_0x313834(0xef)]||'')['toLowerCase']();let _0x42ddab=![];if(_0x5116be===_0x313834(0xfe)&&_0x1b5867[_0x313834(0x82)][_0x313834(0x12b)]===!![])_0x42ddab=_0x4cc784[_0x313834(0xd7)](_0x313834(0x67))||_0x4cc784[_0x313834(0xd7)](_0x313834(0xc1))||_0x4cc784[_0x313834(0xd7)]('target')||_0x121d98['includes']('level.temperature')||_0x121d98[_0x313834(0xd7)](_0x313834(0x10f));else _0x5116be===_0x313834(0xf0)&&(_0x42ddab=_0x4cc784['includes'](_0x313834(0xa2))||_0x4cc784[_0x313834(0xd7)](_0x313834(0xf0))||_0x4cc784[_0x313834(0xd7)](_0x313834(0x106))||_0x4cc784[_0x313834(0xd7)](_0x313834(0xcf))||_0x121d98[_0x313834(0xd7)](_0x313834(0xab))||_0x121d98[_0x313834(0xd7)](_0x313834(0x117))||_0x1a9c51['includes']('%'));if(_0x42ddab){const _0x36aa7b=_0xf9f67a[_0x313834(0xca)](/[._]+/)['map'](_0x50510f=>_0x50510f['toLowerCase']());let _0x21a654=0x0;_0x5415ae['forEach'](_0xe8c96f=>{const _0x45349a=_0x313834;if(_0x36aa7b[_0x45349a(0xd7)](_0xe8c96f[_0x45349a(0xd9)]()))_0x21a654++;}),_0x14bccf[_0x313834(0xa0)]({'id':_0xf9f67a,'score':_0x21a654});}}}if(_0x14bccf[_0x313834(0x114)]>0x0){_0x14bccf[_0x313834(0x124)]((_0x3c9fdd,_0x386daf)=>_0x386daf[_0x313834(0x112)]-_0x3c9fdd['score']);if(_0x14bccf[0x0][_0x313834(0x112)]>0x0)return _0x14bccf[0x0]['id'];}}}catch(_0x11b1d6){}return null;}function a1_0x2cb5(_0x4e76ef,_0x2bce2c){const _0x3bec03=a1_0x4683();return a1_0x2cb5=function(_0x17c5a5,_0x788d65){_0x17c5a5=_0x17c5a5-0x64;let _0x46834c=_0x3bec03[_0x17c5a5];return _0x46834c;},a1_0x2cb5(_0x4e76ef,_0x2bce2c);}async function scanThermostats(_0x494082){const _0x355e8d=a1_0x26aa9d,_0x92e7f8=_0x494082[_0x355e8d(0x110)][_0x355e8d(0x6c)]||[],_0x5dcf16=[],_0x4ef02e=_0x92e7f8[_0x355e8d(0x75)](_0x1a69b0=>_0x1a69b0['id']&&_0x1a69b0['id'][_0x355e8d(0xd7)](_0x355e8d(0x8c))||_0x1a69b0[_0x355e8d(0x7c)]&&[_0x355e8d(0x8c),_0x355e8d(0x122),_0x355e8d(0xce)][_0x355e8d(0xd7)](_0x1a69b0[_0x355e8d(0x7c)])||_0x1a69b0[_0x355e8d(0x6f)]&&_0x1a69b0['name'][_0x355e8d(0xd9)]()['includes'](_0x355e8d(0xbf)));for(const _0x338a73 of _0x4ef02e){const _0x26042a=await findRelatedId(_0x494082,_0x338a73['id'],_0x355e8d(0xfe)),_0x48ad21=await findRelatedId(_0x494082,_0x338a73['id'],_0x355e8d(0xf0));let _0x3a779a=_0x355e8d(0x90),_0x3d93de=![],_0x3c8a84=_0x494082[_0x355e8d(0x110)]['thermostatMapping']||{};if(typeof _0x3c8a84===_0x355e8d(0x129))try{_0x3c8a84=JSON[_0x355e8d(0xa3)](_0x3c8a84);}catch(_0x203ac9){}let _0x469918=_0x494082['config'][_0x355e8d(0x6b)]||{};if(typeof _0x469918==='string')try{_0x469918=JSON['parse'](_0x469918);}catch(_0x320043){}if(_0x3c8a84[_0x338a73['id']]&&_0x3c8a84[_0x338a73['id']]===_0x26042a||_0x469918[_0x338a73['id']]&&_0x469918[_0x338a73['id']]===_0x48ad21)_0x3a779a=_0x355e8d(0x85),_0x3d93de=!![];else(_0x26042a||_0x48ad21)&&(_0x3a779a=_0x355e8d(0x9b));_0x5dcf16['push']({'room':_0x338a73[_0x355e8d(0xa8)]||_0x355e8d(0xe2),'sensorId':_0x338a73['id'],'setpointId':_0x26042a||'-','valveId':_0x48ad21||'-','source':_0x3a779a,'isManual':_0x3d93de,'status':_0x26042a&&_0x48ad21?_0x355e8d(0x10c):_0x26042a?'OK':_0x355e8d(0x10d)});}return _0x5dcf16['sort']((_0x144ced,_0x348e41)=>_0x144ced[_0x355e8d(0xff)]['localeCompare'](_0x348e41['room']));}async function updateSchedulePreview(_0x380edb){const _0x3a607d=a1_0x26aa9d;if(!_0x380edb['config'][_0x3a607d(0xbc)]||!_0x380edb[_0x3a607d(0x110)]['calendarInstance'])return;let _0x2ebf9c={};try{const _0x1de8e5=await _0x380edb[_0x3a607d(0xd5)]('analysis.energy.warmupTimes');if(_0x1de8e5&&_0x1de8e5[_0x3a607d(0xc8)])_0x2ebf9c=JSON[_0x3a607d(0xa3)](_0x1de8e5[_0x3a607d(0xc8)]);}catch(_0x56455f){}const _0x445754=[],_0x4734d8=Date[_0x3a607d(0x7a)](),_0x47ad1b=0x30*0x3c*0x3c*0x3e8;try{const _0xfa9f14=await _0x380edb[_0x3a607d(0x83)](_0x380edb[_0x3a607d(0x110)][_0x3a607d(0x87)]+_0x3a607d(0x89));if(!_0xfa9f14||!_0xfa9f14['val'])return;const _0x54246e=JSON['parse'](_0xfa9f14[_0x3a607d(0xc8)]),_0xdb0d4a=_0x380edb[_0x3a607d(0x110)][_0x3a607d(0xb0)]||[],_0x42c1aa=_0x380edb[_0x3a607d(0x110)][_0x3a607d(0x6c)]||[],_0x14d9ef=new Set();_0x42c1aa['forEach'](_0xb7fbda=>{const _0x224085=_0x3a607d;if(_0xb7fbda[_0x224085(0xa8)])_0x14d9ef[_0x224085(0x80)](_0xb7fbda[_0x224085(0xa8)]);});for(const _0x4a5809 of _0x54246e){if(_0x4a5809[_0x3a607d(0xa7)]&&_0xdb0d4a[_0x3a607d(0x114)]>0x0&&!_0xdb0d4a['includes'](_0x4a5809[_0x3a607d(0xa7)]))continue;const _0x162405=_0x4a5809[_0x3a607d(0x116)]||_0x4a5809[_0x3a607d(0xaa)]||_0x4a5809[_0x3a607d(0x126)];if(!_0x162405)continue;const _0x431b66=new Date(_0x162405),_0x2b8618=_0x431b66[_0x3a607d(0x65)]();if(isNaN(_0x2b8618))continue;if(_0x2b8618<_0x4734d8)continue;if(_0x2b8618>_0x4734d8+_0x47ad1b)continue;const _0x6fc8fe=(_0x4a5809['event']||_0x4a5809[_0x3a607d(0x10b)]||'')[_0x3a607d(0xd9)]();let _0x12146b=![],_0x2d4763=[],_0x2177c2=_0x4a5809[_0x3a607d(0x72)]||_0x4a5809[_0x3a607d(0x10b)]||'Unbekannt';if(_0x6fc8fe[_0x3a607d(0xd7)](_0x3a607d(0x7d))||_0x6fc8fe[_0x3a607d(0xd7)]('r√ºckkehr')||_0x6fc8fe['includes'](_0x3a607d(0xee)))_0x12146b=!![],_0x2d4763=Array[_0x3a607d(0xcc)](_0x14d9ef);else for(const _0x16f594 of _0x14d9ef){if(_0x6fc8fe[_0x3a607d(0xd7)](_0x16f594[_0x3a607d(0xd9)]()))_0x2d4763[_0x3a607d(0xa0)](_0x16f594);}_0x2d4763[_0x3a607d(0x114)]>0x0&&_0x2d4763[_0x3a607d(0x71)](_0x56d596=>{const _0x3245b1=_0x3a607d;let _0x3ce2e3=0x3c;if(_0x12146b){let _0x321722=0x0;Object[_0x3245b1(0x102)](_0x2ebf9c)[_0x3245b1(0x71)](_0x40f419=>{if(_0x40f419>_0x321722)_0x321722=_0x40f419;}),_0x3ce2e3=_0x321722>0x0?_0x321722:0x78;}else _0x3ce2e3=_0x2ebf9c[_0x56d596]||0x3c;const _0x4b3fb5=new Date(_0x2b8618-_0x3ce2e3*0xea60);_0x445754[_0x3245b1(0xa0)]({'eventTime':_0x2b8618,'triggerTime':_0x4b3fb5[_0x3245b1(0x65)](),'room':_0x56d596,'minutes':_0x3ce2e3,'reason':_0x2177c2,'isGlobal':_0x12146b});});}}catch(_0x226057){}_0x445754[_0x3a607d(0x124)]((_0x21ba3c,_0x13ce3f)=>_0x21ba3c[_0x3a607d(0xb5)]-_0x13ce3f[_0x3a607d(0xb5)]);const _0x2adfe6=_0x445754[_0x3a607d(0xf4)](0x0,0x5);await _0x380edb[_0x3a607d(0x105)](_0x3a607d(0xae),{'val':JSON[_0x3a607d(0xd6)](_0x2adfe6),'ack':!![]});}async function monitorEnforcements(_0x523708){const _0x152529=a1_0x26aa9d;try{const _0x3521e0=_0x152529(0x96),_0x9fb5f=await _0x523708[_0x152529(0xd5)](_0x3521e0);if(!_0x9fb5f||!_0x9fb5f['val'])return;let _0x142219=[];try{_0x142219=JSON[_0x152529(0xa3)](_0x9fb5f['val']);}catch(_0x40fa7f){return;}if(!Array[_0x152529(0xc4)](_0x142219)||_0x142219[_0x152529(0x114)]===0x0)return;const _0x51a79d=Date[_0x152529(0x7a)](),_0x1b9861=_0x523708[_0x152529(0x110)][_0x152529(0x6c)]||[];let _0x20ad30=![];for(let _0x28c6a5=_0x142219[_0x152529(0x114)]-0x1;_0x28c6a5>=0x0;_0x28c6a5--){const _0x2a5211=_0x142219[_0x28c6a5];if(_0x51a79d>=_0x2a5211[_0x152529(0xf8)]){_0x523708[_0x152529(0xe4)][_0x152529(0x103)](_0x152529(0x68)+_0x2a5211[_0x152529(0xff)]+_0x152529(0xd8)),_0x142219[_0x152529(0x118)](_0x28c6a5,0x1),_0x20ad30=!![];continue;}const _0x1156d0=_0x1b9861[_0x152529(0x108)](_0x1d3226=>normalize(_0x1d3226[_0x152529(0xa8)])===normalize(_0x2a5211['room'])&&(_0x1d3226[_0x152529(0x7c)]===_0x152529(0x8c)||_0x1d3226[_0x152529(0x7c)]===_0x152529(0x122)));if(_0x1156d0){const _0x2b4cf1=await findRelatedId(_0x523708,_0x1156d0['id'],_0x152529(0xfe));if(_0x2b4cf1){const _0x25f37e=await _0x523708[_0x152529(0x83)](_0x2b4cf1);_0x25f37e&&typeof _0x25f37e[_0x152529(0xc8)]===_0x152529(0x10a)&&(_0x25f37e[_0x152529(0xc8)]<0xf&&(_0x523708[_0x152529(0xe4)][_0x152529(0xa6)](_0x152529(0xaf)+_0x2a5211[_0x152529(0xff)]+_0x152529(0x84)+_0x25f37e[_0x152529(0xc8)]+_0x152529(0xde)+_0x2a5211[_0x152529(0xd3)]+_0x152529(0xb7)),await _0x523708['setForeignStateAsync'](_0x2b4cf1,_0x2a5211['target']),await logAutomationAction(_0x523708,_0x152529(0xe7)+_0x2a5211[_0x152529(0xff)]+':\x20'+_0x25f37e['val']+_0x152529(0x8d)+_0x2a5211['target']+_0x152529(0xc2))));}}}_0x20ad30&&await _0x523708[_0x152529(0x105)](_0x3521e0,{'val':JSON[_0x152529(0xd6)](_0x142219),'ack':!![]});}catch(_0x14a9c4){_0x523708[_0x152529(0xe4)]['error'](_0x152529(0xbd)+_0x14a9c4['message']);}}async function checkCalendarTriggers(_0x426b70){const _0x8fe7e1=a1_0x26aa9d;if(!_0x426b70[_0x8fe7e1(0x110)][_0x8fe7e1(0xbc)]||!_0x426b70['config'][_0x8fe7e1(0x87)])return;await updateSchedulePreview(_0x426b70);let _0xb0a2f2={},_0x57231b={};try{const _0x4c627f=await _0x426b70['getStateAsync'](_0x8fe7e1(0xa5));if(_0x4c627f&&_0x4c627f[_0x8fe7e1(0xc8)])_0xb0a2f2=JSON[_0x8fe7e1(0xa3)](_0x4c627f[_0x8fe7e1(0xc8)]);const _0xf6f1af=await _0x426b70[_0x8fe7e1(0xd5)](_0x8fe7e1(0xa1));if(_0xf6f1af&&_0xf6f1af[_0x8fe7e1(0xc8)])_0x57231b=JSON['parse'](_0xf6f1af[_0x8fe7e1(0xc8)]);}catch(_0x54eb22){}let _0x1a5496={'default':0x15};try{const _0x327a52=await _0x426b70[_0x8fe7e1(0xd5)](_0x8fe7e1(0xda));if(_0x327a52&&_0x327a52[_0x8fe7e1(0xc8)])_0x1a5496=JSON[_0x8fe7e1(0xa3)](_0x327a52[_0x8fe7e1(0xc8)]);}catch(_0x55a4e5){}let _0x53ddb2=[];try{const _0x2b34b3=await _0x426b70[_0x8fe7e1(0xd5)](_0x8fe7e1(0x96));if(_0x2b34b3&&_0x2b34b3[_0x8fe7e1(0xc8)])_0x53ddb2=JSON[_0x8fe7e1(0xa3)](_0x2b34b3['val']);}catch(_0x509065){}try{const _0x4e9434=await _0x426b70['getForeignStateAsync'](_0x426b70['config'][_0x8fe7e1(0x87)]+_0x8fe7e1(0x89));if(!_0x4e9434||!_0x4e9434[_0x8fe7e1(0xc8)])return;const _0x5801d8=JSON[_0x8fe7e1(0xa3)](_0x4e9434[_0x8fe7e1(0xc8)]),_0x58f863=Date['now'](),_0x69c164=_0x426b70[_0x8fe7e1(0x110)][_0x8fe7e1(0x6c)]||[],_0x259816=_0x426b70[_0x8fe7e1(0x110)][_0x8fe7e1(0xb0)]||[];let _0x88beae=![];for(const _0x3d63e9 of _0x5801d8){if(_0x3d63e9['_calName']&&_0x259816[_0x8fe7e1(0x114)]>0x0&&!_0x259816[_0x8fe7e1(0xd7)](_0x3d63e9[_0x8fe7e1(0xa7)]))continue;const _0x828bbc=_0x3d63e9['_date']||_0x3d63e9[_0x8fe7e1(0xaa)]||_0x3d63e9[_0x8fe7e1(0x126)];if(!_0x828bbc)continue;const _0x4816e4=new Date(_0x828bbc);if(isNaN(_0x4816e4[_0x8fe7e1(0x65)]()))continue;const _0x59c319=(_0x3d63e9['event']||_0x3d63e9[_0x8fe7e1(0x10b)]||'')['toLowerCase']();if(_0x59c319[_0x8fe7e1(0xd7)](_0x8fe7e1(0x7d))||_0x59c319[_0x8fe7e1(0xd7)](_0x8fe7e1(0x119))||_0x59c319[_0x8fe7e1(0xd7)](_0x8fe7e1(0xee))){let _0x52590c=0x0;Object['values'](_0xb0a2f2)[_0x8fe7e1(0x71)](_0x165b66=>{if(_0x165b66>_0x52590c)_0x52590c=_0x165b66;});if(_0x52590c===0x0)_0x52590c=0x78;const _0x3bc9e7=_0x4816e4[_0x8fe7e1(0x65)]()-_0x52590c*0xea60;_0x58f863>=_0x3bc9e7&&_0x58f863<_0x4816e4[_0x8fe7e1(0x65)]()&&(_0x426b70['currentSystemMode']!==_0x8fe7e1(0xc9)&&(_0x426b70[_0x8fe7e1(0xe4)][_0x8fe7e1(0x103)](_0x8fe7e1(0x11c)+_0x52590c+'\x20min).'),await _0x426b70['setStateAsync'](_0x8fe7e1(0xec),{'val':'normal','ack':![]})));}for(const _0x28a763 of _0x69c164){if(_0x28a763[_0x8fe7e1(0xa8)]){const _0x29b4a0=_0x28a763[_0x8fe7e1(0xa8)][_0x8fe7e1(0xd9)](),_0x3d263b=(_0x28a763[_0x8fe7e1(0x6f)]||'')['toLowerCase']();let _0x211799=_0x59c319[_0x8fe7e1(0xd7)](_0x29b4a0);!_0x211799&&_0x3d263b[_0x8fe7e1(0x114)]>0x3&&_0x59c319[_0x8fe7e1(0xd7)](_0x3d263b)&&(_0x211799=!![]);if(_0x211799){const _0xa77781=_0xb0a2f2[_0x28a763[_0x8fe7e1(0xa8)]]||0x3c,_0x5b433f=_0x57231b[_0x28a763[_0x8fe7e1(0xa8)]]||'Classic',_0x439229=_0x4816e4[_0x8fe7e1(0x65)]()-_0xa77781*0xea60;if(_0x58f863>=_0x439229&&_0x58f863<_0x4816e4['getTime']()){const _0x5839c2=lastActions[_0x8fe7e1(0xc7)+_0x28a763['location']];if(_0x5839c2&&_0x58f863-_0x5839c2<CAL_COOLDOWN_MS)continue;const _0x297516=await findRelatedId(_0x426b70,_0x28a763['id'],_0x8fe7e1(0xfe));if(_0x297516){let _0x219d5a=_0x1a5496[_0x28a763[_0x8fe7e1(0xa8)]];if(_0x219d5a===undefined)_0x219d5a=_0x1a5496['default'];if(_0x219d5a===undefined)_0x219d5a=0x15;const _0x2c1698=await _0x426b70[_0x8fe7e1(0x83)](_0x297516);if(_0x2c1698&&typeof _0x2c1698[_0x8fe7e1(0xc8)]===_0x8fe7e1(0x10a)&&_0x2c1698[_0x8fe7e1(0xc8)]<_0x219d5a-0.5){_0x426b70['log']['info'](_0x8fe7e1(0xe9)+_0x5b433f+_0x8fe7e1(0xf1)+_0x28a763['location']+_0x8fe7e1(0x127)+_0x59c319+_0x8fe7e1(0x101)+_0x219d5a+_0x8fe7e1(0x125)+_0xa77781+_0x8fe7e1(0x11e)),await _0x426b70[_0x8fe7e1(0x93)](_0x297516,_0x219d5a),await logAutomationAction(_0x426b70,_0x8fe7e1(0xe6)+_0x28a763[_0x8fe7e1(0xa8)]+'\x20->\x20'+_0x219d5a+_0x8fe7e1(0x66)+_0x5b433f+')'),lastActions[_0x8fe7e1(0xc7)+_0x28a763[_0x8fe7e1(0xa8)]]=_0x58f863;const _0x4e891b=_0x53ddb2[_0x8fe7e1(0xb4)](_0x540ae1=>_0x540ae1[_0x8fe7e1(0xff)]===_0x28a763[_0x8fe7e1(0xa8)]);if(_0x4e891b!==-0x1)_0x53ddb2['splice'](_0x4e891b,0x1);_0x53ddb2['push']({'room':_0x28a763[_0x8fe7e1(0xa8)],'target':_0x219d5a,'until':_0x4816e4[_0x8fe7e1(0x65)]()}),_0x88beae=!![];}}}}}}}_0x88beae&&await _0x426b70[_0x8fe7e1(0x105)](_0x8fe7e1(0x96),{'val':JSON[_0x8fe7e1(0xd6)](_0x53ddb2),'ack':!![]});}catch(_0x131e4b){_0x426b70[_0x8fe7e1(0xe4)][_0x8fe7e1(0xa6)](_0x8fe7e1(0x121)+_0x131e4b[_0x8fe7e1(0xd4)]);}}async function manageMpcIntervention(_0x27669c,_0xb3091,_0x4d9bf5){const _0xb0dbd5=a1_0x26aa9d;try{const _0x7ef422=_0xb0dbd5(0x111),_0x39523c=await _0x27669c['getStateAsync'](_0x7ef422);let _0x510a6e=[];if(_0x39523c&&_0x39523c[_0xb0dbd5(0xc8)])try{_0x510a6e=JSON[_0xb0dbd5(0xa3)](_0x39523c[_0xb0dbd5(0xc8)]);}catch(_0x12d431){}const _0x40f42a=_0x510a6e['indexOf'](_0xb3091);if(_0x4d9bf5===_0xb0dbd5(0x80))_0x40f42a===-0x1&&(_0x510a6e['push'](_0xb3091),await _0x27669c[_0xb0dbd5(0x105)](_0x7ef422,{'val':JSON[_0xb0dbd5(0xd6)](_0x510a6e),'ack':!![]}));else _0x4d9bf5==='remove'&&(_0x40f42a!==-0x1&&(_0x510a6e[_0xb0dbd5(0x118)](_0x40f42a,0x1),await _0x27669c[_0xb0dbd5(0x105)](_0x7ef422,{'val':JSON[_0xb0dbd5(0xd6)](_0x510a6e),'ack':!![]})));}catch(_0x4cc2bc){}}async function cleanupGhostInterventions(_0x18f3ce){const _0x3f1694=a1_0x26aa9d;try{const _0x259ac6=_0x3f1694(0x111),_0x3e6e3b=await _0x18f3ce[_0x3f1694(0xd5)](_0x259ac6);if(!_0x3e6e3b||!_0x3e6e3b['val'])return;const _0x3d1209=JSON[_0x3f1694(0xa3)](_0x3e6e3b[_0x3f1694(0xc8)]);if(!Array[_0x3f1694(0xc4)](_0x3d1209)||_0x3d1209[_0x3f1694(0x114)]===0x0)return;let _0x306480={'default':0x15};try{const _0x150d66=await _0x18f3ce['getStateAsync'](_0x3f1694(0xda));if(_0x150d66&&_0x150d66['val'])_0x306480=JSON[_0x3f1694(0xa3)](_0x150d66[_0x3f1694(0xc8)]);}catch(_0x14d32b){}let _0x1afb0d=[];try{const _0x4c3068=await _0x18f3ce[_0x3f1694(0xd5)](_0x3f1694(0x10e));if(_0x4c3068&&_0x4c3068[_0x3f1694(0xc8)])_0x1afb0d=JSON[_0x3f1694(0xa3)](_0x4c3068[_0x3f1694(0xc8)]);}catch(_0xf0ec93){}let _0x5ac93d={},_0x581a0f=![];try{const _0x15faee=await _0x18f3ce[_0x3f1694(0xd5)](_0x3f1694(0xcb));if(_0x15faee&&_0x15faee[_0x3f1694(0xc8)])_0x5ac93d=JSON[_0x3f1694(0xa3)](_0x15faee['val']);}catch(_0x454dbd){}if(_0x5ac93d['_meta']){const _0x1967bc=Date[_0x3f1694(0x7a)]();for(const [_0x16807b,_0x525492]of Object[_0x3f1694(0xb6)](_0x5ac93d[_0x3f1694(0xd2)])){_0x1967bc-_0x525492>PENALTY_TTL&&(delete _0x5ac93d[_0x16807b],delete _0x5ac93d[_0x3f1694(0xd2)][_0x16807b],_0x581a0f=!![],_0x18f3ce['log']['info']('üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27'+_0x16807b+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x56a9fd=_0x18f3ce[_0x3f1694(0x110)]['devices']||[];let _0x566de9=![];for(let _0x4fa9e9=_0x3d1209[_0x3f1694(0x114)]-0x1;_0x4fa9e9>=0x0;_0x4fa9e9--){const _0x2cb9ae=_0x3d1209[_0x4fa9e9],_0x378fbe=_0x56a9fd[_0x3f1694(0x108)](_0x3e0cf5=>normalize(_0x3e0cf5['location'])===normalize(_0x2cb9ae)&&(_0x3e0cf5[_0x3f1694(0x7c)]==='temperature'||_0x3e0cf5[_0x3f1694(0x7c)]===_0x3f1694(0x122)));if(!_0x378fbe){_0x18f3ce[_0x3f1694(0xe4)][_0x3f1694(0xa6)]('üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x2cb9ae+_0x3f1694(0x76)),_0x3d1209['splice'](_0x4fa9e9,0x1),_0x566de9=!![];continue;}if(_0x378fbe){const _0x108598=await findRelatedId(_0x18f3ce,_0x378fbe['id'],_0x3f1694(0xfe)),_0xd78223=await _0x18f3ce[_0x3f1694(0x83)](_0x378fbe['id']);if(_0x108598){const _0x1e097c=await _0x18f3ce[_0x3f1694(0x83)](_0x108598);if(_0x1e097c&&typeof _0x1e097c[_0x3f1694(0xc8)]===_0x3f1694(0x10a)){let _0x3206d0=![],_0x1179e7='';Math[_0x3f1694(0x86)](_0x1e097c[_0x3f1694(0xc8)]-ECO_TEMP)>0.5&&(_0x3206d0=!![],_0x1179e7='manual');if(!_0x3206d0&&_0xd78223&&typeof _0xd78223[_0x3f1694(0xc8)]===_0x3f1694(0x10a)){const _0x1d47f1=_0x306480[_0x2cb9ae]||_0x306480[_0x3f1694(0x91)]||0x15;_0xd78223['val']<_0x1d47f1+0.2&&(_0x3206d0=!![],_0x1179e7=_0x3f1694(0x92));}if(_0x3206d0){if(_0x1179e7===_0x3f1694(0x98)){_0x18f3ce['log'][_0x3f1694(0x103)](_0x3f1694(0x128)+_0x2cb9ae+_0x3f1694(0xb8)+_0x1e097c[_0x3f1694(0xc8)]+_0x3f1694(0xd0)+ECO_TEMP+_0x3f1694(0x8f));const _0x29b4d4=lastActions['cal_'+_0x2cb9ae],_0x5d269a=_0x29b4d4&&Date[_0x3f1694(0x7a)]()-_0x29b4d4<0x2*0x3c*0x3e8;if(!_0x5d269a&&_0x1e097c['val']>ECO_TEMP+0.5){_0x18f3ce[_0x3f1694(0xe8)]&&(_0x18f3ce['log']['info'](_0x3f1694(0xb3)+_0x2cb9ae+_0x3f1694(0x78)),_0x18f3ce[_0x3f1694(0xe8)](_0x3f1694(0xf2),{'room':_0x2cb9ae}));const _0x37ff17=_0x2cb9ae+'_'+new Date()[_0x3f1694(0xe1)]();if(!_0x5ac93d[_0x37ff17]){_0x5ac93d[_0x37ff17]=0x1;if(!_0x5ac93d[_0x3f1694(0xd2)])_0x5ac93d[_0x3f1694(0xd2)]={};_0x5ac93d['_meta'][_0x37ff17]=Date[_0x3f1694(0x7a)](),_0x581a0f=!![];}}else _0x5d269a&&_0x18f3ce[_0x3f1694(0xe4)]['info'](_0x3f1694(0x11b)+_0x2cb9ae+_0x3f1694(0xfa));}else{if(_0x1179e7===_0x3f1694(0x92)){let _0x571eca=![];if(_0x1afb0d[_0x3f1694(0x108)](_0x4e3ba1=>_0x4e3ba1[_0x3f1694(0xff)]===_0x2cb9ae))_0x571eca=!![];const _0x506c89=_0x56a9fd[_0x3f1694(0x75)](_0x364abd=>normalize(_0x364abd['location'])===normalize(_0x2cb9ae)&&(_0x364abd[_0x3f1694(0x7c)]===_0x3f1694(0xdb)||_0x364abd['type']===_0x3f1694(0xce)||_0x364abd[_0x3f1694(0x7c)]===_0x3f1694(0x77)));for(const _0x3a2451 of _0x506c89){try{const _0x21e745=await _0x18f3ce[_0x3f1694(0x83)](_0x3a2451['id']);if(_0x21e745&&(_0x21e745[_0x3f1694(0xc8)]===!![]||_0x21e745[_0x3f1694(0xc8)]===0x1||String(_0x21e745[_0x3f1694(0xc8)])[_0x3f1694(0xd9)]()===_0x3f1694(0xc5)))_0x571eca=!![];}catch(_0xed643a){}}if(_0x571eca)_0x18f3ce[_0x3f1694(0xe4)][_0x3f1694(0x103)]('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x2cb9ae+'\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.');else{const _0x2ab8e0=_0x306480[_0x2cb9ae]||_0x306480[_0x3f1694(0x91)]||0x15;_0x18f3ce[_0x3f1694(0xe4)][_0x3f1694(0x103)](_0x3f1694(0x97)+_0x2cb9ae+'\x20erreicht\x20Limit\x20('+_0xd78223['val']+_0x3f1694(0xad)+(_0x2ab8e0+0.2)+_0x3f1694(0xeb)),await _0x18f3ce['setForeignStateAsync'](_0x108598,_0x2ab8e0),await logAutomationAction(_0x18f3ce,_0x3f1694(0xf5)+_0x2cb9ae+_0x3f1694(0x12c)+_0x2ab8e0+'¬∞C'),lastActions['rescue_'+_0x2cb9ae]=Date[_0x3f1694(0x7a)]();}}}_0x3d1209[_0x3f1694(0x118)](_0x4fa9e9,0x1),_0x566de9=!![];}}}}}_0x566de9&&await _0x18f3ce['setStateAsync'](_0x259ac6,{'val':JSON[_0x3f1694(0xd6)](_0x3d1209),'ack':!![]}),_0x581a0f&&await _0x18f3ce[_0x3f1694(0x105)]('analysis.energy.rlPenalties',{'val':JSON[_0x3f1694(0xd6)](_0x5ac93d),'ack':!![]});}catch(_0x4e2957){}}async function applyEnergySavings(_0x17afe5,_0x4d7b25){const _0x424025=a1_0x26aa9d;await cleanupGhostInterventions(_0x17afe5);if(!_0x4d7b25||_0x4d7b25[_0x424025(0x114)]===0x0)return;const _0x1ddc6e=_0x17afe5[_0x424025(0x110)][_0x424025(0x6c)]||[],_0x13d55b=Date[_0x424025(0x7a)]();for(const _0x26dae6 of _0x4d7b25){const _0x29ffab=_0x26dae6[_0x424025(0xff)],_0x452cd5=_0x26dae6['minutes_safe'],_0x2ffce1=_0x26dae6['target']||0x15;if(lastActions[_0x424025(0x11f)+_0x29ffab]&&_0x13d55b-lastActions[_0x424025(0x11f)+_0x29ffab]<RESCUE_LOCK_MS)continue;const _0x28871a=_0x1ddc6e[_0x424025(0x108)](_0x44ee4b=>normalize(_0x44ee4b[_0x424025(0xa8)])===normalize(_0x29ffab)&&(_0x44ee4b['type']===_0x424025(0x8c)||_0x44ee4b['type']===_0x424025(0x122)));if(!_0x28871a)continue;const _0x4f130b=await findRelatedId(_0x17afe5,_0x28871a['id'],'setpoint');if(_0x4f130b){if(lastActions['mpc_'+_0x29ffab]&&_0x13d55b-lastActions['mpc_'+_0x29ffab]<0x1e*0x3c*0x3e8)continue;const _0x3f6b1b=await _0x17afe5[_0x424025(0x83)](_0x4f130b);if(_0x3f6b1b&&typeof _0x3f6b1b['val']===_0x424025(0x10a)){const _0x52408f=_0x3f6b1b[_0x424025(0xc8)];_0x52408f!==ECO_TEMP&&await manageMpcIntervention(_0x17afe5,_0x29ffab,_0x424025(0x95));if(_0x452cd5>0x1e)_0x52408f>ECO_TEMP+0.5&&(_0x17afe5['log'][_0x424025(0x103)](_0x424025(0x109)+_0x29ffab+_0x424025(0x84)+ECO_TEMP+_0x424025(0x115)+_0x452cd5+_0x424025(0xbe)),await _0x17afe5[_0x424025(0x93)](_0x4f130b,ECO_TEMP),await manageMpcIntervention(_0x17afe5,_0x29ffab,_0x424025(0x80)),lastActions['mpc_'+_0x29ffab]=_0x13d55b,await logAutomationAction(_0x17afe5,_0x424025(0x81)+_0x29ffab+_0x424025(0xe5)+ECO_TEMP+'¬∞C'));else _0x452cd5<=0xf&&(_0x52408f<_0x2ffce1&&(_0x17afe5[_0x424025(0xe4)]['info'](_0x424025(0x100)+_0x29ffab+_0x424025(0xf6)+_0x2ffce1+'¬∞C!\x20(Puffer\x20leer).'),await _0x17afe5[_0x424025(0x93)](_0x4f130b,_0x2ffce1),await manageMpcIntervention(_0x17afe5,_0x29ffab,'remove'),lastActions[_0x424025(0xd1)+_0x29ffab]=_0x13d55b,await logAutomationAction(_0x17afe5,_0x424025(0x81)+_0x29ffab+_0x424025(0xe0)+_0x2ffce1+'¬∞C')));}}else _0x17afe5[_0x424025(0xe4)]['warn'](_0x424025(0xbb)+_0x29ffab+_0x424025(0xfc));}}module['exports']={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};