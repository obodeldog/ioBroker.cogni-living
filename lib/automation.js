const a1_0x11690e=a1_0x1538;function a1_0x1538(_0x3fb119,_0x59fd20){const _0xfa2813=a1_0x4ad3();return a1_0x1538=function(_0x105696,_0x43454b){_0x105696=_0x105696-0x80;let _0x4ad3ad=_0xfa2813[_0x105696];return _0x4ad3ad;},a1_0x1538(_0x3fb119,_0x59fd20);}(function(_0x3a6b6f,_0x5c6d59){const _0x24a8f5=a1_0x1538,_0x52b392=_0x3a6b6f();while(!![]){try{const _0x1f2863=-parseInt(_0x24a8f5(0x90))/0x1*(parseInt(_0x24a8f5(0x82))/0x2)+-parseInt(_0x24a8f5(0x88))/0x3*(parseInt(_0x24a8f5(0xa9))/0x4)+-parseInt(_0x24a8f5(0xb0))/0x5+-parseInt(_0x24a8f5(0x9d))/0x6+parseInt(_0x24a8f5(0x8d))/0x7*(parseInt(_0x24a8f5(0xaa))/0x8)+parseInt(_0x24a8f5(0x87))/0x9+parseInt(_0x24a8f5(0x86))/0xa*(parseInt(_0x24a8f5(0xa8))/0xb);if(_0x1f2863===_0x5c6d59)break;else _0x52b392['push'](_0x52b392['shift']());}catch(_0x4dd07c){_0x52b392['push'](_0x52b392['shift']());}}}(a1_0x4ad3,0xedcdd));const a1_0x43454b=(function(){let _0x3e725c=!![];return function(_0x595342,_0x1ec3dd){const _0x1d11b6=_0x3e725c?function(){const _0x8ac842=a1_0x1538;if(_0x1ec3dd){const _0xdccbb0=_0x1ec3dd[_0x8ac842(0x9e)](_0x595342,arguments);return _0x1ec3dd=null,_0xdccbb0;}}:function(){};return _0x3e725c=![],_0x1d11b6;};}()),a1_0x105696=a1_0x43454b(this,function(){const _0x9d614f=a1_0x1538;return a1_0x105696[_0x9d614f(0x9b)]()[_0x9d614f(0x8c)]('(((.+)+)+)+$')[_0x9d614f(0x9b)]()[_0x9d614f(0xa3)](a1_0x105696)[_0x9d614f(0x8c)](_0x9d614f(0x94));});function a1_0x4ad3(){const _0x4ce5c0=['approved','toUpperCase','log','search','385tApZOQ','ðŸ‘€\x20SIMULATION:\x20','\x20schalten,\x20aber\x20kein\x20Licht-GerÃ¤t\x20dort\x20gefunden.','25WhhuOL','\x20->\x20','debug','reason','(((.+)+)+)+$','âš¡\x20ACTION:\x20','val','type','\x20->\x20Schalte\x20','consultButler','PrÃ¤diktion:\x20','toString','ðŸ¤–\x20Butler\x20Blocked:\x20','452280EsDpcN','apply','location','find','dimmer','active','constructor','off','getStateAsync','setStateAsync','analysis.automation.confidenceThreshold','451oGrvIW','4225164LLZdtR','17144VvgyNE','setForeignStateAsync','analysis.automation.lastAction','./ai_agent','getForeignStateAsync','exports','5572270JJobeT','simulate','ðŸ¤–\x20Automation:\x20WÃ¼rde\x20','config','18628CTkzxf','info','light','now','349850xPhyTo','17106930hoRBKq','3ICBqKB'];a1_0x4ad3=function(){return _0x4ce5c0;};return a1_0x4ad3();}a1_0x105696();'use strict';const aiAgent=require(a1_0x11690e(0xad)),COOLDOWN_MS=0x3c*0x3e8,lastActions={};async function handlePrediction(_0x24a917,_0x5529fd,_0x199979){const _0x4e6d6e=a1_0x11690e;if(!_0x5529fd||_0x5529fd==='Unknown')return;let _0x48c0f1=_0x4e6d6e(0xa4),_0x1db1c7=0.6;try{const _0xe12ca5=await _0x24a917[_0x4e6d6e(0xa5)]('analysis.automation.mode');if(_0xe12ca5&&_0xe12ca5[_0x4e6d6e(0x96)])_0x48c0f1=_0xe12ca5[_0x4e6d6e(0x96)];const _0x3739e2=await _0x24a917[_0x4e6d6e(0xa5)](_0x4e6d6e(0xa7));if(_0x3739e2&&_0x3739e2[_0x4e6d6e(0x96)])_0x1db1c7=_0x3739e2['val'];}catch(_0x24c625){}if(_0x48c0f1===_0x4e6d6e(0xa4))return;if(_0x199979<_0x1db1c7)return;const _0x13476c=Date[_0x4e6d6e(0x85)]();if(lastActions[_0x5529fd]&&_0x13476c-lastActions[_0x5529fd]<COOLDOWN_MS)return;const _0x55ae12=_0x24a917[_0x4e6d6e(0x81)]['devices']||[],_0x2ef164=_0x55ae12[_0x4e6d6e(0xa0)](_0xde2a22=>_0xde2a22[_0x4e6d6e(0x9f)]===_0x5529fd&&(_0xde2a22[_0x4e6d6e(0x97)]===_0x4e6d6e(0x84)||_0xde2a22[_0x4e6d6e(0x97)]===_0x4e6d6e(0xa1)||_0xde2a22[_0x4e6d6e(0x97)]==='switch'));if(!_0x2ef164){_0x24a917[_0x4e6d6e(0x8b)][_0x4e6d6e(0x92)](_0x4e6d6e(0x80)+_0x5529fd+_0x4e6d6e(0x8f));return;}const _0x45e814=await aiAgent[_0x4e6d6e(0x99)](_0x24a917,_0x5529fd,_0x2ef164['name'],_0x199979);if(!_0x45e814[_0x4e6d6e(0x89)]){_0x24a917[_0x4e6d6e(0x8b)]['debug'](_0x4e6d6e(0x9c)+_0x5529fd+_0x4e6d6e(0x91)+_0x45e814['reason']),await _0x24a917[_0x4e6d6e(0xa6)](_0x4e6d6e(0xac),{'val':'[BLOCKED]\x20'+_0x45e814['reason'],'ack':!![]});return;}const _0x163653=_0x4e6d6e(0x9a)+_0x5529fd+_0x4e6d6e(0x98)+_0x2ef164['name']+'\x20('+_0x45e814[_0x4e6d6e(0x93)]+')';await _0x24a917[_0x4e6d6e(0xa6)]('analysis.automation.lastAction',{'val':'['+_0x48c0f1[_0x4e6d6e(0x8a)]()+']\x20'+_0x163653,'ack':!![]});if(_0x48c0f1===_0x4e6d6e(0xb1))_0x24a917[_0x4e6d6e(0x8b)][_0x4e6d6e(0x83)](_0x4e6d6e(0x8e)+_0x163653);else{if(_0x48c0f1===_0x4e6d6e(0xa2)){_0x24a917['log'][_0x4e6d6e(0x83)](_0x4e6d6e(0x95)+_0x163653);const _0x313d62=await _0x24a917[_0x4e6d6e(0xae)](_0x2ef164['id']);if(_0x313d62&&(_0x313d62['val']===!![]||_0x313d62['val']>0x0)){}else await _0x24a917[_0x4e6d6e(0xab)](_0x2ef164['id'],!![]);lastActions[_0x5529fd]=_0x13476c;}}}module[a1_0x11690e(0xaf)]={'handlePrediction':handlePrediction};