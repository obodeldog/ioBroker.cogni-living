const a1_0x1f7b9d=a1_0x16fc;(function(_0x3e36d6,_0x5ad234){const _0x19d917=a1_0x16fc,_0x160487=_0x3e36d6();while(!![]){try{const _0x1c5b24=parseInt(_0x19d917(0xc7))/0x1*(-parseInt(_0x19d917(0x103))/0x2)+parseInt(_0x19d917(0x110))/0x3*(parseInt(_0x19d917(0x140))/0x4)+-parseInt(_0x19d917(0xec))/0x5+parseInt(_0x19d917(0x15d))/0x6+-parseInt(_0x19d917(0x123))/0x7+parseInt(_0x19d917(0xff))/0x8*(-parseInt(_0x19d917(0x107))/0x9)+-parseInt(_0x19d917(0xcb))/0xa*(-parseInt(_0x19d917(0x158))/0xb);if(_0x1c5b24===_0x5ad234)break;else _0x160487['push'](_0x160487['shift']());}catch(_0x2fc26a){_0x160487['push'](_0x160487['shift']());}}}(a1_0x2530,0xb70ca));const a1_0x187fdc=(function(){let _0xf0235f=!![];return function(_0x5c24db,_0x2638ff){const _0x3e7a7d=_0xf0235f?function(){const _0x50abb8=a1_0x16fc;if(_0x2638ff){const _0x46c925=_0x2638ff[_0x50abb8(0x160)](_0x5c24db,arguments);return _0x2638ff=null,_0x46c925;}}:function(){};return _0xf0235f=![],_0x3e7a7d;};}()),a1_0xcc754c=a1_0x187fdc(this,function(){const _0x431111=a1_0x16fc;return a1_0xcc754c[_0x431111(0x15a)]()[_0x431111(0x143)](_0x431111(0x126))[_0x431111(0x15a)]()[_0x431111(0x117)](a1_0xcc754c)[_0x431111(0x143)]('(((.+)+)+)+$');});a1_0xcc754c();'use strict';const aiAgent=require(a1_0x1f7b9d(0x15c)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x282939){const _0x1887fe=a1_0x1f7b9d;if(!_0x282939)return'';return _0x282939[_0x1887fe(0xf9)]()[_0x1887fe(0x13e)](/\s+/g,'')[_0x1887fe(0x14b)]();}function getWarmupRobust(_0x3b4fc3,_0x572665){const _0x1e99cf=a1_0x1f7b9d;if(!_0x3b4fc3||!_0x572665)return 0x3c;if(_0x3b4fc3[_0x572665]!==undefined)return _0x3b4fc3[_0x572665];const _0x262568=_0x572665[_0x1e99cf(0xf9)]()[_0x1e99cf(0x13e)](/√§/g,'ae')['replace'](/√∂/g,'oe')[_0x1e99cf(0x13e)](/√º/g,'ue')[_0x1e99cf(0x13e)](/√ü/g,'ss')[_0x1e99cf(0x13e)](/\s+/g,'_')[_0x1e99cf(0x13e)](/[^a-z0-9_]/g,'');if(_0x3b4fc3[_0x262568]!==undefined)return _0x3b4fc3[_0x262568];return 0x3c;}async function logAutomationAction(_0x9469c0,_0x30a223){const _0x23a5db=a1_0x1f7b9d;await _0x9469c0[_0x23a5db(0x111)](_0x23a5db(0x115),{'val':_0x30a223,'ack':!![]});try{const _0x42d561=_0x23a5db(0xeb),_0x337428=await _0x9469c0[_0x23a5db(0x13d)](_0x42d561);let _0x19eb09=[];if(_0x337428&&_0x337428['val'])try{_0x19eb09=JSON['parse'](_0x337428[_0x23a5db(0x10c)]);}catch(_0x6968e5){}_0x19eb09[_0x23a5db(0xb5)]({'ts':Date[_0x23a5db(0xcc)](),'msg':_0x30a223});if(_0x19eb09['length']>0x32)_0x19eb09=_0x19eb09['slice'](0x0,0x32);await _0x9469c0[_0x23a5db(0x111)](_0x42d561,{'val':JSON[_0x23a5db(0x15e)](_0x19eb09),'ack':!![]});}catch(_0x5587ee){}}async function handlePrediction(_0x1d017b,_0x4f247e,_0x1e12b2){const _0x5eed06=a1_0x1f7b9d;if(!_0x4f247e||_0x4f247e==='Unknown')return;let _0x36e8a2=_0x5eed06(0x10a),_0x359bf7=0.6;try{const _0x4024de=await _0x1d017b[_0x5eed06(0x13d)](_0x5eed06(0xfd));if(_0x4024de&&_0x4024de['val'])_0x36e8a2=_0x4024de['val'];const _0x4f9b9f=await _0x1d017b[_0x5eed06(0x13d)]('analysis.automation.confidenceThreshold');if(_0x4f9b9f&&_0x4f9b9f[_0x5eed06(0x10c)])_0x359bf7=_0x4f9b9f[_0x5eed06(0x10c)];}catch(_0x4d5e0b){}if(_0x36e8a2===_0x5eed06(0x10a)||_0x1e12b2<_0x359bf7)return;const _0x11dea6=Date['now']();if(lastActions[_0x4f247e]&&_0x11dea6-lastActions[_0x4f247e]<COOLDOWN_MS)return;const _0x3a06e9=_0x1d017b[_0x5eed06(0xef)]['devices']||[],_0x43ade0=normalize(_0x4f247e),_0x4c414b=_0x3a06e9['find'](_0x1ec5e8=>normalize(_0x1ec5e8[_0x5eed06(0xc2)])===_0x43ade0&&(_0x1ec5e8[_0x5eed06(0xfa)]===_0x5eed06(0x106)||_0x1ec5e8[_0x5eed06(0xfa)]==='dimmer'||_0x1ec5e8[_0x5eed06(0xfa)]===_0x5eed06(0xbc)));if(!_0x4c414b)return;const _0x38c34d=await aiAgent[_0x5eed06(0x156)](_0x1d017b,_0x4f247e,_0x4c414b[_0x5eed06(0x104)],_0x1e12b2);if(!_0x38c34d[_0x5eed06(0xee)])return;const _0x391710=_0x5eed06(0x9d)+_0x4f247e+_0x5eed06(0x14a)+_0x4c414b[_0x5eed06(0x104)]+'\x20('+_0x38c34d[_0x5eed06(0x150)]+')';await logAutomationAction(_0x1d017b,'['+_0x36e8a2[_0x5eed06(0x116)]()+']\x20'+_0x391710);if(_0x36e8a2===_0x5eed06(0xf2)){const _0x4e19a6=await _0x1d017b[_0x5eed06(0x99)](_0x4c414b['id']);(!_0x4e19a6||!_0x4e19a6[_0x5eed06(0x10c)]&&_0x4e19a6['val']!==!![])&&await _0x1d017b[_0x5eed06(0xd2)](_0x4c414b['id'],!![]),lastActions[_0x4f247e]=_0x11dea6;}}async function findRelatedId(_0x466e3c,_0x3fec8d,_0xa32e44='setpoint'){const _0x2abc27=a1_0x1f7b9d;if(_0xa32e44===_0x2abc27(0x10e)&&_0x466e3c['config']['thermostatMapping']){let _0x24ae97=_0x466e3c['config']['thermostatMapping'];if(typeof _0x24ae97===_0x2abc27(0xde))try{_0x24ae97=JSON[_0x2abc27(0x122)](_0x24ae97);}catch(_0x38d87e){}if(_0x24ae97&&_0x24ae97[_0x3fec8d])return _0x24ae97[_0x3fec8d];}if(_0xa32e44==='valve'&&_0x466e3c[_0x2abc27(0xef)][_0x2abc27(0xba)]){let _0x140c3a=_0x466e3c[_0x2abc27(0xef)][_0x2abc27(0xba)];if(typeof _0x140c3a===_0x2abc27(0xde))try{_0x140c3a=JSON[_0x2abc27(0x122)](_0x140c3a);}catch(_0x2cdbc8){}if(_0x140c3a&&_0x140c3a[_0x3fec8d])return _0x140c3a[_0x3fec8d];}let _0x4394e7=[];if(_0xa32e44==='setpoint')_0x4394e7=[{'s':_0x2abc27(0x14c),'t':_0x2abc27(0xce)},{'s':_0x2abc27(0x157),'t':_0x2abc27(0xce)},{'s':_0x2abc27(0x157),'t':_0x2abc27(0xe8)},{'s':_0x2abc27(0x112),'t':_0x2abc27(0xa9)},{'s':'local_temperature','t':_0x2abc27(0xfb)},{'s':_0x2abc27(0x151),'t':_0x2abc27(0x108)},{'s':_0x2abc27(0xd8),'t':_0x2abc27(0x133)},{'s':_0x2abc27(0xa3),'t':_0x2abc27(0xc0)},{'s':_0x2abc27(0x12b),'t':_0x2abc27(0x144)},{'s':_0x2abc27(0xd8),'t':_0x2abc27(0x10e)}];else _0xa32e44==='valve'&&(_0x4394e7=[{'s':_0x2abc27(0x14c),'t':_0x2abc27(0xe0)},{'s':_0x2abc27(0x157),'t':'.1.LEVEL'},{'s':_0x2abc27(0x157),'t':'.4.VALVE_STATE'},{'s':'local_temperature','t':_0x2abc27(0x11c)},{'s':_0x2abc27(0xd8),'t':_0x2abc27(0xf1)},{'s':'temperature','t':_0x2abc27(0x14d)}]);for(const _0x5dba25 of _0x4394e7){if(_0x3fec8d[_0x2abc27(0xb7)](_0x5dba25['s'])){const _0x214888=_0x3fec8d[_0x2abc27(0x13e)](_0x5dba25['s'],_0x5dba25['t']),_0x44d5f1=await _0x466e3c[_0x2abc27(0x101)](_0x214888);if(_0x44d5f1)return _0x214888;}}try{const _0x25906d=_0x3fec8d['split']('.');if(_0x25906d[_0x2abc27(0xb3)]>0x2){const _0x1937e3=_0x25906d['slice'](0x0,-0x1)[_0x2abc27(0xfc)]('.'),_0x198fef=await _0x466e3c[_0x2abc27(0xe6)](_0x1937e3+'.*'),_0x3cd091=[],_0x2d9822=_0x3fec8d['split'](/[._]+/)[_0x2abc27(0x11b)](_0x4f817f=>!['openknx','0',_0x2abc27(0xc9),'ist',_0x2abc27(0x129),'temperature','actual',_0x2abc27(0xc5),_0x2abc27(0xd3),_0x2abc27(0x145)][_0x2abc27(0xb7)](_0x4f817f[_0x2abc27(0xf9)]()));for(const [_0x3ad3f2,_0x2905e1]of Object[_0x2abc27(0xf6)](_0x198fef)){if(_0x3ad3f2===_0x3fec8d)continue;if(_0x2905e1&&_0x2905e1[_0x2abc27(0x11f)]){const _0x549fd7=_0x3ad3f2[_0x2abc27(0xf9)](),_0x54aa24=(_0x2905e1[_0x2abc27(0x11f)][_0x2abc27(0x141)]||'')[_0x2abc27(0xf9)](),_0x5abaf5=(_0x2905e1[_0x2abc27(0x11f)][_0x2abc27(0xd1)]||'')['toLowerCase']();let _0x1b3c3f=![];if(_0xa32e44===_0x2abc27(0x10e)&&_0x2905e1[_0x2abc27(0x11f)][_0x2abc27(0x14f)]===!![])_0x1b3c3f=_0x549fd7[_0x2abc27(0xb7)]('set')||_0x549fd7[_0x2abc27(0xb7)](_0x2abc27(0x12f))||_0x549fd7[_0x2abc27(0xb7)](_0x2abc27(0x10f))||_0x54aa24[_0x2abc27(0xb7)](_0x2abc27(0xa0))||_0x54aa24[_0x2abc27(0xb7)]('thermostat.setpoint');else _0xa32e44===_0x2abc27(0x159)&&(_0x1b3c3f=_0x549fd7[_0x2abc27(0xb7)](_0x2abc27(0x14d))||_0x549fd7[_0x2abc27(0xb7)]('valve')||_0x549fd7[_0x2abc27(0xb7)](_0x2abc27(0xae))||_0x549fd7[_0x2abc27(0xb7)](_0x2abc27(0x14e))||_0x54aa24[_0x2abc27(0xb7)](_0x2abc27(0xaa))||_0x54aa24[_0x2abc27(0xb7)](_0x2abc27(0x113))||_0x5abaf5[_0x2abc27(0xb7)]('%'));if(_0x1b3c3f){const _0x3d20ca=_0x3ad3f2[_0x2abc27(0x125)](/[._]+/)[_0x2abc27(0xe5)](_0xdf163e=>_0xdf163e[_0x2abc27(0xf9)]());let _0x24133f=0x0;_0x2d9822[_0x2abc27(0xa5)](_0x4d8889=>{if(_0x3d20ca['includes'](_0x4d8889['toLowerCase']()))_0x24133f++;}),_0x3cd091['push']({'id':_0x3ad3f2,'score':_0x24133f});}}}if(_0x3cd091['length']>0x0){_0x3cd091[_0x2abc27(0x155)]((_0x5ef3fc,_0x3984a3)=>_0x3984a3[_0x2abc27(0xea)]-_0x5ef3fc['score']);if(_0x3cd091[0x0][_0x2abc27(0xea)]>0x0)return _0x3cd091[0x0]['id'];}}}catch(_0x5b46e5){}return null;}function a1_0x16fc(_0x1861a5,_0xab52b5){const _0x31a37b=a1_0x2530();return a1_0x16fc=function(_0xcc754c,_0x187fdc){_0xcc754c=_0xcc754c-0x99;let _0x25306d=_0x31a37b[_0xcc754c];return _0x25306d;},a1_0x16fc(_0x1861a5,_0xab52b5);}async function scanThermostats(_0x9401a){const _0x1357e2=a1_0x1f7b9d,_0x49addd=_0x9401a[_0x1357e2(0xef)][_0x1357e2(0x119)]||[],_0x1c1657=[],_0x463984=_0x49addd[_0x1357e2(0x11b)](_0x2efee5=>_0x2efee5['id']&&_0x2efee5['id'][_0x1357e2(0xb7)]('temperature')||_0x2efee5[_0x1357e2(0xfa)]&&[_0x1357e2(0xd8),'thermostat','sensor'][_0x1357e2(0xb7)](_0x2efee5['type'])||_0x2efee5[_0x1357e2(0x104)]&&_0x2efee5[_0x1357e2(0x104)][_0x1357e2(0xf9)]()['includes']('temp'));for(const _0x3dd589 of _0x463984){const _0x4ddf82=await findRelatedId(_0x9401a,_0x3dd589['id'],_0x1357e2(0x10e)),_0x42d7fa=await findRelatedId(_0x9401a,_0x3dd589['id'],_0x1357e2(0x159));let _0x3a0d8e=_0x1357e2(0x152),_0x4cb526=![],_0x28be78=_0x9401a[_0x1357e2(0xef)][_0x1357e2(0xb0)]||{};if(typeof _0x28be78==='string')try{_0x28be78=JSON[_0x1357e2(0x122)](_0x28be78);}catch(_0x17bd7b){}let _0x4a3935=_0x9401a[_0x1357e2(0xef)]['valveMapping']||{};if(typeof _0x4a3935===_0x1357e2(0xde))try{_0x4a3935=JSON[_0x1357e2(0x122)](_0x4a3935);}catch(_0x14446c){}if(_0x28be78[_0x3dd589['id']]&&_0x28be78[_0x3dd589['id']]===_0x4ddf82||_0x4a3935[_0x3dd589['id']]&&_0x4a3935[_0x3dd589['id']]===_0x42d7fa)_0x3a0d8e='Manuelles\x20Mapping',_0x4cb526=!![];else(_0x4ddf82||_0x42d7fa)&&(_0x3a0d8e=_0x1357e2(0xdd));_0x1c1657[_0x1357e2(0x11a)]({'room':_0x3dd589[_0x1357e2(0xc2)]||'Unbekannt','sensorId':_0x3dd589['id'],'setpointId':_0x4ddf82||'-','valveId':_0x42d7fa||'-','source':_0x3a0d8e,'isManual':_0x4cb526,'status':_0x4ddf82&&_0x42d7fa?_0x1357e2(0x130):_0x4ddf82?'OK':_0x1357e2(0xdf)});}return _0x1c1657['sort']((_0x200eaf,_0x4dbd29)=>_0x200eaf[_0x1357e2(0xcf)][_0x1357e2(0xa1)](_0x4dbd29[_0x1357e2(0xcf)]));}async function updateSchedulePreview(_0x5ab068){const _0x26fecc=a1_0x1f7b9d;if(!_0x5ab068[_0x26fecc(0xef)]['useCalendar']||!_0x5ab068[_0x26fecc(0xef)]['calendarInstance'])return;let _0x49b9df={};try{const _0x22e605=await _0x5ab068['getStateAsync'](_0x26fecc(0xb9));if(_0x22e605&&_0x22e605[_0x26fecc(0x10c)])_0x49b9df=JSON['parse'](_0x22e605[_0x26fecc(0x10c)]);}catch(_0x43a60e){}const _0x36ca68=[],_0x119465=Date['now'](),_0x52980a=0x30*0x3c*0x3c*0x3e8;try{const _0x23aeb0=await _0x5ab068['getForeignStateAsync'](_0x5ab068[_0x26fecc(0xef)]['calendarInstance']+_0x26fecc(0x137));if(!_0x23aeb0||!_0x23aeb0[_0x26fecc(0x10c)])return;const _0xdb459c=JSON[_0x26fecc(0x122)](_0x23aeb0[_0x26fecc(0x10c)]),_0x11fd1e=_0x5ab068['config'][_0x26fecc(0xf5)]||[],_0x41c453=_0x5ab068[_0x26fecc(0xef)][_0x26fecc(0x119)]||[],_0xde293d=new Set();_0x41c453['forEach'](_0x422ccc=>{const _0x400036=_0x26fecc;if(_0x422ccc[_0x400036(0xc2)])_0xde293d[_0x400036(0x15f)](_0x422ccc[_0x400036(0xc2)]);});for(const _0x4c6404 of _0xdb459c){if(_0x4c6404[_0x26fecc(0x148)]&&_0x11fd1e[_0x26fecc(0xb3)]>0x0&&!_0x11fd1e[_0x26fecc(0xb7)](_0x4c6404[_0x26fecc(0x148)]))continue;const _0x5cddf7=_0x4c6404[_0x26fecc(0xc8)]||_0x4c6404['eventStart']||_0x4c6404['date'];if(!_0x5cddf7)continue;const _0x594b28=new Date(_0x5cddf7),_0x473aa5=_0x594b28['getTime']();if(isNaN(_0x473aa5))continue;if(_0x473aa5<_0x119465)continue;if(_0x473aa5>_0x119465+_0x52980a)continue;const _0x441c8b=(_0x4c6404[_0x26fecc(0xc1)]||_0x4c6404[_0x26fecc(0xda)]||'')['toLowerCase']();let _0x4155a4=![],_0x8b9399=[],_0x178a57=_0x4c6404[_0x26fecc(0xc1)]||_0x4c6404[_0x26fecc(0xda)]||_0x26fecc(0xa6);if(_0x441c8b[_0x26fecc(0xb7)]('urlaub\x20ende')||_0x441c8b[_0x26fecc(0xb7)](_0x26fecc(0xd9))||_0x441c8b['includes'](_0x26fecc(0x105)))_0x4155a4=!![],_0x8b9399=Array[_0x26fecc(0xb2)](_0xde293d);else for(const _0x38ae11 of _0xde293d){if(_0x441c8b[_0x26fecc(0xb7)](_0x38ae11[_0x26fecc(0xf9)]()))_0x8b9399[_0x26fecc(0x11a)](_0x38ae11);}_0x8b9399[_0x26fecc(0xb3)]>0x0&&_0x8b9399[_0x26fecc(0xa5)](_0x2d353c=>{const _0x217eac=_0x26fecc;let _0x5d9dfe=0x3c;if(_0x4155a4){let _0x5152d6=0x0;Object[_0x217eac(0xc6)](_0x49b9df)[_0x217eac(0xa5)](_0x189304=>{if(_0x189304>_0x5152d6)_0x5152d6=_0x189304;}),_0x5d9dfe=_0x5152d6>0x0?_0x5152d6:0x78;}else _0x5d9dfe=getWarmupRobust(_0x49b9df,_0x2d353c);const _0x2fe942=new Date(_0x473aa5-_0x5d9dfe*0xea60);_0x36ca68[_0x217eac(0x11a)]({'eventTime':_0x473aa5,'triggerTime':_0x2fe942[_0x217eac(0xe3)](),'room':_0x2d353c,'minutes':_0x5d9dfe,'reason':_0x178a57,'isGlobal':_0x4155a4});});}}catch(_0x43fa57){}_0x36ca68[_0x26fecc(0x155)]((_0x22928c,_0x38d5b9)=>_0x22928c['triggerTime']-_0x38d5b9[_0x26fecc(0xed)]);const _0x480a65=_0x36ca68['slice'](0x0,0x5);await _0x5ab068[_0x26fecc(0x111)](_0x26fecc(0xf7),{'val':JSON[_0x26fecc(0x15e)](_0x480a65),'ack':!![]});}async function monitorEnforcements(_0x545983){const _0x5cc084=a1_0x1f7b9d;try{const _0x36b7fa=_0x5cc084(0x120),_0x1dcf8e=await _0x545983[_0x5cc084(0x13d)](_0x36b7fa);if(!_0x1dcf8e||!_0x1dcf8e[_0x5cc084(0x10c)])return;let _0x58a403=[];try{_0x58a403=JSON['parse'](_0x1dcf8e[_0x5cc084(0x10c)]);}catch(_0x2b05a8){return;}if(!Array[_0x5cc084(0xf0)](_0x58a403)||_0x58a403['length']===0x0)return;const _0x258d55=Date['now'](),_0x536354=_0x545983[_0x5cc084(0xef)][_0x5cc084(0x119)]||[];let _0x13509a=![];for(let _0x94f914=_0x58a403[_0x5cc084(0xb3)]-0x1;_0x94f914>=0x0;_0x94f914--){const _0x273a4a=_0x58a403[_0x94f914];if(_0x258d55>=_0x273a4a['until']){_0x545983[_0x5cc084(0xb6)]['info'](_0x5cc084(0x102)+_0x273a4a['room']+_0x5cc084(0xa8)),_0x58a403[_0x5cc084(0x124)](_0x94f914,0x1),_0x13509a=!![];continue;}const _0x23c3c2=_0x536354[_0x5cc084(0xbf)](_0x1a14f9=>normalize(_0x1a14f9[_0x5cc084(0xc2)])===normalize(_0x273a4a['room'])&&(_0x1a14f9[_0x5cc084(0xfa)]===_0x5cc084(0xd8)||_0x1a14f9[_0x5cc084(0xfa)]===_0x5cc084(0xf8)));if(_0x23c3c2){const _0x1cde2e=await findRelatedId(_0x545983,_0x23c3c2['id'],_0x5cc084(0x10e));if(_0x1cde2e){const _0x916451=await _0x545983[_0x5cc084(0x99)](_0x1cde2e);_0x916451&&typeof _0x916451[_0x5cc084(0x10c)]===_0x5cc084(0xfe)&&(_0x916451[_0x5cc084(0x10c)]<0xf&&(_0x545983[_0x5cc084(0xb6)][_0x5cc084(0x9f)](_0x5cc084(0xd6)+_0x273a4a[_0x5cc084(0xcf)]+_0x5cc084(0x13a)+_0x916451[_0x5cc084(0x10c)]+'¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20'+_0x273a4a['target']+'¬∞C.'),await _0x545983[_0x5cc084(0xd2)](_0x1cde2e,_0x273a4a[_0x5cc084(0x10f)]),await logAutomationAction(_0x545983,_0x5cc084(0x114)+_0x273a4a[_0x5cc084(0xcf)]+':\x20'+_0x916451[_0x5cc084(0x10c)]+_0x5cc084(0x135)+_0x273a4a[_0x5cc084(0x10f)]+_0x5cc084(0x153))));}}}_0x13509a&&await _0x545983[_0x5cc084(0x111)](_0x36b7fa,{'val':JSON['stringify'](_0x58a403),'ack':!![]});}catch(_0xa0e48){_0x545983[_0x5cc084(0xb6)]['error'](_0x5cc084(0xad)+_0xa0e48['message']);}}async function checkCalendarTriggers(_0x367674){const _0x171f37=a1_0x1f7b9d;if(!_0x367674[_0x171f37(0xef)]['useCalendar']||!_0x367674[_0x171f37(0xef)][_0x171f37(0xd5)])return;await updateSchedulePreview(_0x367674);let _0x3e68d3={},_0x56487c={};try{const _0x2d9b62=await _0x367674['getStateAsync'](_0x171f37(0xb9));if(_0x2d9b62&&_0x2d9b62[_0x171f37(0x10c)])_0x3e68d3=JSON['parse'](_0x2d9b62[_0x171f37(0x10c)]);const _0x46434b=await _0x367674[_0x171f37(0x13d)](_0x171f37(0x147));if(_0x46434b&&_0x46434b[_0x171f37(0x10c)])_0x56487c=JSON['parse'](_0x46434b['val']);}catch(_0x1038f5){}let _0x4b84d1={'default':0x15};try{const _0x16cb6b=await _0x367674[_0x171f37(0x13d)]('analysis.energy.warmupTargets');if(_0x16cb6b&&_0x16cb6b['val'])_0x4b84d1=JSON[_0x171f37(0x122)](_0x16cb6b[_0x171f37(0x10c)]);}catch(_0x91ba13){}let _0x3f036e=[];try{const _0x274c8b=await _0x367674[_0x171f37(0x13d)](_0x171f37(0x120));if(_0x274c8b&&_0x274c8b[_0x171f37(0x10c)])_0x3f036e=JSON['parse'](_0x274c8b['val']);}catch(_0x5795d0){}try{const _0x58cde1=await _0x367674[_0x171f37(0x99)](_0x367674[_0x171f37(0xef)][_0x171f37(0xd5)]+'.data.table');if(!_0x58cde1||!_0x58cde1[_0x171f37(0x10c)])return;const _0x370aa2=JSON[_0x171f37(0x122)](_0x58cde1[_0x171f37(0x10c)]),_0x21fddd=Date[_0x171f37(0xcc)](),_0x4b7bf7=_0x367674['config']['devices']||[],_0x1dd5c0=_0x367674[_0x171f37(0xef)][_0x171f37(0xf5)]||[];let _0x2af1a9=![];for(const _0xdf506d of _0x370aa2){if(_0xdf506d[_0x171f37(0x148)]&&_0x1dd5c0[_0x171f37(0xb3)]>0x0&&!_0x1dd5c0[_0x171f37(0xb7)](_0xdf506d[_0x171f37(0x148)]))continue;const _0x19218d=_0xdf506d['_date']||_0xdf506d[_0x171f37(0xa4)]||_0xdf506d[_0x171f37(0x10b)];if(!_0x19218d)continue;const _0x351ce5=new Date(_0x19218d);if(isNaN(_0x351ce5[_0x171f37(0xe3)]()))continue;const _0x49f32c=(_0xdf506d[_0x171f37(0xc1)]||_0xdf506d['summary']||'')['toLowerCase']();if(_0x49f32c[_0x171f37(0xb7)](_0x171f37(0x138))||_0x49f32c[_0x171f37(0xb7)](_0x171f37(0xd9))||_0x49f32c['includes'](_0x171f37(0x105))){let _0x15e81f=0x0;Object[_0x171f37(0xc6)](_0x3e68d3)[_0x171f37(0xa5)](_0x4545ae=>{if(_0x4545ae>_0x15e81f)_0x15e81f=_0x4545ae;});if(_0x15e81f===0x0)_0x15e81f=0x78;const _0x5d90cc=_0x351ce5[_0x171f37(0xe3)]()-_0x15e81f*0xea60;_0x21fddd>=_0x5d90cc&&_0x21fddd<_0x351ce5[_0x171f37(0xe3)]()&&(_0x367674[_0x171f37(0x12d)]!==_0x171f37(0xd0)&&(_0x367674['log'][_0x171f37(0xb4)](_0x171f37(0x12a)+_0x15e81f+_0x171f37(0xb8)),await _0x367674[_0x171f37(0x111)](_0x171f37(0x109),{'val':'normal','ack':![]})));}for(const _0x3ab751 of _0x4b7bf7){if(_0x3ab751[_0x171f37(0xc2)]){const _0x54c8d1=_0x3ab751[_0x171f37(0xc2)][_0x171f37(0xf9)](),_0x5782e4=(_0x3ab751[_0x171f37(0x104)]||'')['toLowerCase']();let _0x38d618=_0x49f32c[_0x171f37(0xb7)](_0x54c8d1);!_0x38d618&&_0x5782e4[_0x171f37(0xb3)]>0x3&&_0x49f32c[_0x171f37(0xb7)](_0x5782e4)&&(_0x38d618=!![]);if(_0x38d618){const _0x875195=getWarmupRobust(_0x3e68d3,_0x3ab751[_0x171f37(0xc2)]),_0x319be6=_0x56487c[_0x3ab751[_0x171f37(0xc2)]]||_0x171f37(0x161),_0x2d093a=_0x351ce5[_0x171f37(0xe3)]()-_0x875195*0xea60;if(_0x21fddd>=_0x2d093a&&_0x21fddd<_0x351ce5[_0x171f37(0xe3)]()){const _0x50116f=lastActions[_0x171f37(0x12e)+_0x3ab751[_0x171f37(0xc2)]];if(_0x50116f&&_0x21fddd-_0x50116f<CAL_COOLDOWN_MS)continue;const _0x16df1d=await findRelatedId(_0x367674,_0x3ab751['id'],'setpoint');if(_0x16df1d){let _0x37524d=_0x4b84d1[_0x3ab751['location']];if(_0x37524d===undefined)_0x37524d=_0x4b84d1[_0x171f37(0xab)];if(_0x37524d===undefined)_0x37524d=0x15;const _0x4c0241=await _0x367674[_0x171f37(0x99)](_0x16df1d);if(_0x4c0241&&typeof _0x4c0241['val']===_0x171f37(0xfe)&&_0x4c0241[_0x171f37(0x10c)]<_0x37524d-0.5){_0x367674['log'][_0x171f37(0xb4)]('üìÖ\x20SMART\x20SCHEDULE\x20['+_0x319be6+_0x171f37(0xbd)+_0x3ab751[_0x171f37(0xc2)]+_0x171f37(0xac)+_0x49f32c+')\x20aktiv.\x20Heize\x20auf\x20'+_0x37524d+_0x171f37(0x13c)+_0x875195+_0x171f37(0xb8)),await _0x367674['setForeignStateAsync'](_0x16df1d,_0x37524d),await logAutomationAction(_0x367674,_0x171f37(0x127)+_0x3ab751['location']+'\x20->\x20'+_0x37524d+_0x171f37(0xa7)+_0x319be6+')'),lastActions[_0x171f37(0x12e)+_0x3ab751[_0x171f37(0xc2)]]=_0x21fddd;const _0x66924b=_0x3f036e[_0x171f37(0x131)](_0x2d7db3=>_0x2d7db3[_0x171f37(0xcf)]===_0x3ab751[_0x171f37(0xc2)]);if(_0x66924b!==-0x1)_0x3f036e[_0x171f37(0x124)](_0x66924b,0x1);_0x3f036e['push']({'room':_0x3ab751[_0x171f37(0xc2)],'target':_0x37524d,'until':_0x351ce5[_0x171f37(0xe3)]()}),_0x2af1a9=!![];}}}}}}}_0x2af1a9&&await _0x367674[_0x171f37(0x111)](_0x171f37(0x120),{'val':JSON['stringify'](_0x3f036e),'ack':!![]});}catch(_0x5900a8){_0x367674[_0x171f37(0xb6)][_0x171f37(0x9f)](_0x171f37(0xf4)+_0x5900a8[_0x171f37(0x13f)]);}}function a1_0x2530(){const _0x489e70=['constructor','analysis.energy.rlPenalties','devices','push','filter','pi_heating_demand',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','\x20erreicht\x20Limit\x20(','common','analysis.energy.activeEnforcements','\x20gefunden!','parse','1516445ytBQDD','splice','split','(((.+)+)+)+$','[CAL]\x20','[WATCHDOG]\x20','wert','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','Ist','exports','currentSystemMode','cal_','soll','PERFECT','findIndex','contact','target_temperature','\x20wurde\x20manuell\x20erh√∂ht.','¬∞C\x20->\x20','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','.data.table','urlaub\x20ende','analysis.energy.ventilationAlerts','\x20auf\x20','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','¬∞C\x20(Vorlauf:\x20','getStateAsync','replace','message','507356TUckmQ','role','\x20wieder\x20auf\x20','search','Soll','state','indexOf','analysis.energy.warmupSources','_calName','sendToPythonWrapper','\x20->\x20Schalte\x20','trim','.1.ACTUAL_TEMPERATURE','level','position','write','reason','local_temperature','Nicht\x20gefunden','¬∞C\x20(Kalender-Schutz)','¬∞C\x20(nicht\x20','sort','consultButler','.1.TEMPERATURE','25905FsaZEo','valve','toString','window','./ai_agent','2681640ZJJcvd','stringify','add','apply','Classic','getForeignStateAsync','¬∞C).\x20Sparmodus\x20beendet!','rescue_','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','Pr√§diktion:\x20','TRAIN_RL_PENALTY','warn','level.temperature','localeCompare',':\x20Absenkung\x20auf\x20','ACTUAL','eventStart','forEach','Unbekannt','¬∞C\x20(via\x20','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','SET_POINT_TEMPERATURE','level.valve','default','\x27\x20(Match:\x20','Enforcement\x20Monitor\x20Error:\x20','stellwert','remove','thermostatMapping','analysis.energy.mpcActiveInterventions','from','length','info','unshift','log','includes','\x20min).','analysis.energy.warmupTimes','valveMapping','üö®\x20[MPC\x20WATCHDOG]\x20','switch',']:\x20Raum-Trigger\x20\x27','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','find','SET','event','location','¬∞C\x20<\x20','üî•\x20[MPC\x20ACTION]\x20Heize\x20','sensor','values','64uZWZQO','_date','hm-rpc','minutes_safe','9820CYuHmY','now','getHours','.1.SET_POINT_TEMPERATURE','room','normal','unit','setForeignStateAsync','messwert','mpc_','calendarInstance','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','temperature','r√ºckkehr','summary','_meta','üßπ\x20[MPC\x20CLEANUP]\x20','Auto-Erkennung','string','Fehlt','.1.LEVEL','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','getTime','¬∞C!\x20(Puffer\x20leer).','map','getForeignObjectsAsync','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','.4.SET_TEMPERATURE','abs','score','analysis.automation.actionLog','4430110VXvRcf','triggerTime','approved','config','isArray','valve_position','active','analysis.energy.warmupTargets','Calendar\x20Check\x20Error:\x20','calendarSelection','entries','analysis.energy.schedulePreview','thermostat','toLowerCase','type','occupied_heating_setpoint','join','analysis.automation.mode','number','992JhmzTK','\x20ist\x20auf\x20','getForeignObjectAsync','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','45614xknqkq','name','ankunft','light','61164UJzlSu','current_heating_setpoint','system.mode','off','date','val','[MPC]\x20','setpoint','target','33kEBhxx','setStateAsync','ACTUAL_TEMPERATURE','value.valve','[FORCE]\x20','analysis.automation.lastAction','toUpperCase'];a1_0x2530=function(){return _0x489e70;};return a1_0x2530();}async function manageMpcIntervention(_0x326408,_0x3d164b,_0x11678e){const _0x210989=a1_0x1f7b9d;try{const _0x1bc2a7=_0x210989(0xb1),_0x518586=await _0x326408[_0x210989(0x13d)](_0x1bc2a7);let _0x261871=[];if(_0x518586&&_0x518586[_0x210989(0x10c)])try{_0x261871=JSON['parse'](_0x518586['val']);}catch(_0x2330c3){}const _0x52b2e1=_0x261871[_0x210989(0x146)](_0x3d164b);if(_0x11678e===_0x210989(0x15f))_0x52b2e1===-0x1&&(_0x261871[_0x210989(0x11a)](_0x3d164b),await _0x326408[_0x210989(0x111)](_0x1bc2a7,{'val':JSON['stringify'](_0x261871),'ack':!![]}));else _0x11678e===_0x210989(0xaf)&&(_0x52b2e1!==-0x1&&(_0x261871[_0x210989(0x124)](_0x52b2e1,0x1),await _0x326408['setStateAsync'](_0x1bc2a7,{'val':JSON[_0x210989(0x15e)](_0x261871),'ack':!![]})));}catch(_0x9dfcdb){}}async function cleanupGhostInterventions(_0x4443b6){const _0x390040=a1_0x1f7b9d;try{const _0x955c7d=_0x390040(0xb1),_0x231c95=await _0x4443b6[_0x390040(0x13d)](_0x955c7d);if(!_0x231c95||!_0x231c95[_0x390040(0x10c)])return;const _0x5d0a08=JSON[_0x390040(0x122)](_0x231c95[_0x390040(0x10c)]);if(!Array['isArray'](_0x5d0a08)||_0x5d0a08['length']===0x0)return;let _0xf27788={'default':0x15};try{const _0x2f7fc0=await _0x4443b6[_0x390040(0x13d)](_0x390040(0xf3));if(_0x2f7fc0&&_0x2f7fc0[_0x390040(0x10c)])_0xf27788=JSON[_0x390040(0x122)](_0x2f7fc0[_0x390040(0x10c)]);}catch(_0x25089e){}let _0x1a28b0=[];try{const _0x411362=await _0x4443b6[_0x390040(0x13d)](_0x390040(0x139));if(_0x411362&&_0x411362[_0x390040(0x10c)])_0x1a28b0=JSON[_0x390040(0x122)](_0x411362['val']);}catch(_0x28d76e){}let _0x3cc35e={},_0x7af6e2=![];try{const _0x28f0c5=await _0x4443b6[_0x390040(0x13d)](_0x390040(0x118));if(_0x28f0c5&&_0x28f0c5['val'])_0x3cc35e=JSON['parse'](_0x28f0c5[_0x390040(0x10c)]);}catch(_0x177c06){}if(_0x3cc35e['_meta']){const _0x8d787=Date[_0x390040(0xcc)]();for(const [_0x58ef0c,_0xa4584c]of Object[_0x390040(0xf6)](_0x3cc35e[_0x390040(0xdb)])){_0x8d787-_0xa4584c>PENALTY_TTL&&(delete _0x3cc35e[_0x58ef0c],delete _0x3cc35e[_0x390040(0xdb)][_0x58ef0c],_0x7af6e2=!![],_0x4443b6[_0x390040(0xb6)][_0x390040(0xb4)](_0x390040(0xd7)+_0x58ef0c+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x1cd6f1=_0x4443b6[_0x390040(0xef)][_0x390040(0x119)]||[];let _0x1e88d2=![];for(let _0x1c6ed3=_0x5d0a08['length']-0x1;_0x1c6ed3>=0x0;_0x1c6ed3--){const _0x3caeb5=_0x5d0a08[_0x1c6ed3],_0x415246=_0x1cd6f1[_0x390040(0xbf)](_0x1a3bfd=>normalize(_0x1a3bfd[_0x390040(0xc2)])===normalize(_0x3caeb5)&&(_0x1a3bfd[_0x390040(0xfa)]===_0x390040(0xd8)||_0x1a3bfd[_0x390040(0xfa)]===_0x390040(0xf8)));if(!_0x415246){_0x4443b6[_0x390040(0xb6)][_0x390040(0x9f)](_0x390040(0x136)+_0x3caeb5+_0x390040(0x13b)),_0x5d0a08[_0x390040(0x124)](_0x1c6ed3,0x1),_0x1e88d2=!![];continue;}if(_0x415246){const _0x3d902a=await findRelatedId(_0x4443b6,_0x415246['id'],_0x390040(0x10e)),_0x25b1fc=await _0x4443b6[_0x390040(0x99)](_0x415246['id']);if(_0x3d902a){const _0x5a5285=await _0x4443b6[_0x390040(0x99)](_0x3d902a);if(_0x5a5285&&typeof _0x5a5285[_0x390040(0x10c)]===_0x390040(0xfe)){let _0x5a79a6=![],_0x421ad4='';Math[_0x390040(0xe9)](_0x5a5285[_0x390040(0x10c)]-ECO_TEMP)>0.5&&(_0x5a79a6=!![],_0x421ad4='manual');if(!_0x5a79a6&&_0x25b1fc&&typeof _0x25b1fc[_0x390040(0x10c)]===_0x390040(0xfe)){const _0x3f8080=_0xf27788[_0x3caeb5]||_0xf27788[_0x390040(0xab)]||0x15;_0x25b1fc[_0x390040(0x10c)]<_0x3f8080+0.2&&(_0x5a79a6=!![],_0x421ad4='too_cold');}if(_0x5a79a6){if(_0x421ad4==='manual'){_0x4443b6[_0x390040(0xb6)][_0x390040(0xb4)](_0x390040(0xdc)+_0x3caeb5+_0x390040(0x100)+_0x5a5285[_0x390040(0x10c)]+_0x390040(0x154)+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0x1305d8=lastActions[_0x390040(0x12e)+_0x3caeb5],_0x953262=_0x1305d8&&Date['now']()-_0x1305d8<0x2*0x3c*0x3e8;if(!_0x953262&&_0x5a5285['val']>ECO_TEMP+0.5){_0x4443b6[_0x390040(0x149)]&&(_0x4443b6['log'][_0x390040(0xb4)](_0x390040(0xe2)+_0x3caeb5+_0x390040(0x134)),_0x4443b6[_0x390040(0x149)](_0x390040(0x9e),{'room':_0x3caeb5}));const _0x316186=_0x3caeb5+'_'+new Date()[_0x390040(0xcd)]();if(!_0x3cc35e[_0x316186]){_0x3cc35e[_0x316186]=0x1;if(!_0x3cc35e['_meta'])_0x3cc35e[_0x390040(0xdb)]={};_0x3cc35e[_0x390040(0xdb)][_0x316186]=Date[_0x390040(0xcc)](),_0x7af6e2=!![];}}else _0x953262&&_0x4443b6[_0x390040(0xb6)][_0x390040(0xb4)]('üìÖ\x20[MPC\x20INFO]\x20'+_0x3caeb5+_0x390040(0x9c));}else{if(_0x421ad4==='too_cold'){let _0x30d99e=![];if(_0x1a28b0[_0x390040(0xbf)](_0x52b432=>_0x52b432[_0x390040(0xcf)]===_0x3caeb5))_0x30d99e=!![];const _0x294e4a=_0x1cd6f1[_0x390040(0x11b)](_0x49bf92=>normalize(_0x49bf92[_0x390040(0xc2)])===normalize(_0x3caeb5)&&(_0x49bf92[_0x390040(0xfa)]===_0x390040(0x15b)||_0x49bf92['type']===_0x390040(0xc5)||_0x49bf92['type']===_0x390040(0x132)));for(const _0x40a49b of _0x294e4a){try{const _0x1f315a=await _0x4443b6[_0x390040(0x99)](_0x40a49b['id']);if(_0x1f315a&&(_0x1f315a['val']===!![]||_0x1f315a[_0x390040(0x10c)]===0x1||String(_0x1f315a[_0x390040(0x10c)])[_0x390040(0xf9)]()==='open'))_0x30d99e=!![];}catch(_0x1c79f2){}}if(_0x30d99e)_0x4443b6['log'][_0x390040(0xb4)](_0x390040(0xbe)+_0x3caeb5+_0x390040(0xe1));else{const _0x4d7b9f=_0xf27788[_0x3caeb5]||_0xf27788[_0x390040(0xab)]||0x15;_0x4443b6[_0x390040(0xb6)][_0x390040(0xb4)](_0x390040(0xbb)+_0x3caeb5+_0x390040(0x11e)+_0x25b1fc[_0x390040(0x10c)]+_0x390040(0xc3)+(_0x4d7b9f+0.2)+_0x390040(0x9a)),await _0x4443b6[_0x390040(0xd2)](_0x3d902a,_0x4d7b9f),await logAutomationAction(_0x4443b6,_0x390040(0x128)+_0x3caeb5+_0x390040(0x11d)+_0x4d7b9f+'¬∞C'),lastActions[_0x390040(0x9b)+_0x3caeb5]=Date[_0x390040(0xcc)]();}}}_0x5d0a08['splice'](_0x1c6ed3,0x1),_0x1e88d2=!![];}}}}}_0x1e88d2&&await _0x4443b6[_0x390040(0x111)](_0x955c7d,{'val':JSON[_0x390040(0x15e)](_0x5d0a08),'ack':!![]}),_0x7af6e2&&await _0x4443b6[_0x390040(0x111)](_0x390040(0x118),{'val':JSON[_0x390040(0x15e)](_0x3cc35e),'ack':!![]});}catch(_0x1ac72f){}}async function applyEnergySavings(_0x4ba938,_0x319e76){const _0x5981a2=a1_0x1f7b9d;await cleanupGhostInterventions(_0x4ba938);if(!_0x319e76||_0x319e76[_0x5981a2(0xb3)]===0x0)return;const _0x45eb75=_0x4ba938[_0x5981a2(0xef)][_0x5981a2(0x119)]||[],_0x545eff=Date[_0x5981a2(0xcc)]();for(const _0xb091b9 of _0x319e76){const _0x2c63bd=_0xb091b9['room'],_0x36e568=_0xb091b9[_0x5981a2(0xca)],_0x122631=_0xb091b9[_0x5981a2(0x10f)]||0x15;if(lastActions[_0x5981a2(0x9b)+_0x2c63bd]&&_0x545eff-lastActions[_0x5981a2(0x9b)+_0x2c63bd]<RESCUE_LOCK_MS)continue;const _0x588e13=_0x45eb75[_0x5981a2(0xbf)](_0x114b3a=>normalize(_0x114b3a[_0x5981a2(0xc2)])===normalize(_0x2c63bd)&&(_0x114b3a['type']===_0x5981a2(0xd8)||_0x114b3a['type']===_0x5981a2(0xf8)));if(!_0x588e13)continue;const _0x425f24=await findRelatedId(_0x4ba938,_0x588e13['id'],_0x5981a2(0x10e));if(_0x425f24){if(lastActions[_0x5981a2(0xd4)+_0x2c63bd]&&_0x545eff-lastActions[_0x5981a2(0xd4)+_0x2c63bd]<0x1e*0x3c*0x3e8)continue;const _0x258031=await _0x4ba938['getForeignStateAsync'](_0x425f24);if(_0x258031&&typeof _0x258031['val']===_0x5981a2(0xfe)){const _0x587ecf=_0x258031[_0x5981a2(0x10c)];_0x587ecf!==ECO_TEMP&&await manageMpcIntervention(_0x4ba938,_0x2c63bd,_0x5981a2(0xaf));if(_0x36e568>0x1e)_0x587ecf>ECO_TEMP+0.5&&(_0x4ba938[_0x5981a2(0xb6)][_0x5981a2(0xb4)](_0x5981a2(0xe7)+_0x2c63bd+_0x5981a2(0x13a)+ECO_TEMP+'¬∞C!\x20(Puffer:\x20'+_0x36e568+'\x20min)'),await _0x4ba938[_0x5981a2(0xd2)](_0x425f24,ECO_TEMP),await manageMpcIntervention(_0x4ba938,_0x2c63bd,_0x5981a2(0x15f)),lastActions['mpc_'+_0x2c63bd]=_0x545eff,await logAutomationAction(_0x4ba938,_0x5981a2(0x10d)+_0x2c63bd+_0x5981a2(0xa2)+ECO_TEMP+'¬∞C'));else _0x36e568<=0xf&&(_0x587ecf<_0x122631&&(_0x4ba938[_0x5981a2(0xb6)][_0x5981a2(0xb4)](_0x5981a2(0xc4)+_0x2c63bd+_0x5981a2(0x142)+_0x122631+_0x5981a2(0xe4)),await _0x4ba938[_0x5981a2(0xd2)](_0x425f24,_0x122631),await manageMpcIntervention(_0x4ba938,_0x2c63bd,_0x5981a2(0xaf)),lastActions[_0x5981a2(0xd4)+_0x2c63bd]=_0x545eff,await logAutomationAction(_0x4ba938,'[MPC]\x20'+_0x2c63bd+':\x20Aufheizen\x20auf\x20'+_0x122631+'¬∞C')));}}else _0x4ba938['log']['warn']('[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20'+_0x2c63bd+_0x5981a2(0x121));}}module[a1_0x1f7b9d(0x12c)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};