const a1_0x56ba8d=a1_0x754c;(function(_0x5b969d,_0x1b1b9f){const _0x480cec=a1_0x754c,_0x2cfcb2=_0x5b969d();while(!![]){try{const _0x17373b=-parseInt(_0x480cec(0x142))/0x1+-parseInt(_0x480cec(0x10c))/0x2*(-parseInt(_0x480cec(0x12c))/0x3)+-parseInt(_0x480cec(0x18e))/0x4*(parseInt(_0x480cec(0x15e))/0x5)+-parseInt(_0x480cec(0x113))/0x6+parseInt(_0x480cec(0x118))/0x7*(-parseInt(_0x480cec(0x1a3))/0x8)+parseInt(_0x480cec(0x111))/0x9+parseInt(_0x480cec(0x16c))/0xa;if(_0x17373b===_0x1b1b9f)break;else _0x2cfcb2['push'](_0x2cfcb2['shift']());}catch(_0x42e075){_0x2cfcb2['push'](_0x2cfcb2['shift']());}}}(a1_0x1d89,0x452b4));const a1_0x23426b=(function(){let _0x264db7=!![];return function(_0x500e3b,_0x9e72d3){const _0x104e05=_0x264db7?function(){const _0x45179b=a1_0x754c;if(_0x9e72d3){const _0x5bf499=_0x9e72d3[_0x45179b(0x168)](_0x500e3b,arguments);return _0x9e72d3=null,_0x5bf499;}}:function(){};return _0x264db7=![],_0x104e05;};}()),a1_0x44a5ec=a1_0x23426b(this,function(){const _0x50a993=a1_0x754c;return a1_0x44a5ec[_0x50a993(0x1aa)]()[_0x50a993(0x1b0)](_0x50a993(0x163))[_0x50a993(0x1aa)]()[_0x50a993(0x15b)](a1_0x44a5ec)[_0x50a993(0x1b0)](_0x50a993(0x163));});a1_0x44a5ec();'use strict';const aiAgent=require(a1_0x56ba8d(0x143)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x54caa7){const _0x17d595=a1_0x56ba8d;if(!_0x54caa7)return'';return _0x54caa7[_0x17d595(0x15d)]()['replace'](/\s+/g,'')['trim']();}function getWarmupRobust(_0x52d41d,_0x37f8d9){const _0x2d3f26=a1_0x56ba8d;if(!_0x52d41d||!_0x37f8d9)return 0x3c;if(_0x52d41d[_0x37f8d9]!==undefined)return _0x52d41d[_0x37f8d9];const _0x13677d=_0x37f8d9[_0x2d3f26(0x15d)]()[_0x2d3f26(0x121)](/√§/g,'ae')['replace'](/√∂/g,'oe')['replace'](/√º/g,'ue')['replace'](/√ü/g,'ss')[_0x2d3f26(0x121)](/\s+/g,'_')[_0x2d3f26(0x121)](/[^a-z0-9_]/g,'');if(_0x52d41d[_0x13677d]!==undefined)return _0x52d41d[_0x13677d];return 0x3c;}async function logAutomationAction(_0x3e0ee1,_0xf58629){const _0x24f65f=a1_0x56ba8d;await _0x3e0ee1['setStateAsync']('analysis.automation.lastAction',{'val':_0xf58629,'ack':!![]});try{const _0x44b929=_0x24f65f(0x1c0),_0x3bb724=await _0x3e0ee1[_0x24f65f(0x116)](_0x44b929);let _0x5a44a6=[];if(_0x3bb724&&_0x3bb724[_0x24f65f(0x10e)])try{_0x5a44a6=JSON[_0x24f65f(0x1b4)](_0x3bb724['val']);}catch(_0x3af0af){}_0x5a44a6[_0x24f65f(0x161)]({'ts':Date[_0x24f65f(0x1b2)](),'msg':_0xf58629});if(_0x5a44a6[_0x24f65f(0x195)]>0x32)_0x5a44a6=_0x5a44a6[_0x24f65f(0x139)](0x0,0x32);await _0x3e0ee1[_0x24f65f(0x145)](_0x44b929,{'val':JSON[_0x24f65f(0x114)](_0x5a44a6),'ack':!![]});}catch(_0x192961){}}async function handlePrediction(_0x1c70ec,_0x161385,_0x5b8257){const _0x5ef97a=a1_0x56ba8d;if(!_0x161385||_0x161385===_0x5ef97a(0x16d))return;let _0x4eadff=_0x5ef97a(0x17b),_0x2604e6=0.6;try{const _0x373c5c=await _0x1c70ec['getStateAsync']('analysis.automation.mode');if(_0x373c5c&&_0x373c5c[_0x5ef97a(0x10e)])_0x4eadff=_0x373c5c[_0x5ef97a(0x10e)];const _0x2eee3c=await _0x1c70ec[_0x5ef97a(0x116)]('analysis.automation.confidenceThreshold');if(_0x2eee3c&&_0x2eee3c[_0x5ef97a(0x10e)])_0x2604e6=_0x2eee3c[_0x5ef97a(0x10e)];}catch(_0x186b5e){}if(_0x4eadff==='off'||_0x5b8257<_0x2604e6)return;const _0x28dc8c=Date[_0x5ef97a(0x1b2)]();if(lastActions[_0x161385]&&_0x28dc8c-lastActions[_0x161385]<COOLDOWN_MS)return;const _0x596c25=_0x1c70ec[_0x5ef97a(0x187)][_0x5ef97a(0x15f)]||[],_0x1632e0=normalize(_0x161385),_0x1f044c=_0x596c25[_0x5ef97a(0x162)](_0x413281=>normalize(_0x413281[_0x5ef97a(0x131)])===_0x1632e0&&(_0x413281[_0x5ef97a(0x196)]===_0x5ef97a(0x146)||_0x413281[_0x5ef97a(0x196)]===_0x5ef97a(0x198)||_0x413281[_0x5ef97a(0x196)]===_0x5ef97a(0x133)));if(!_0x1f044c)return;const _0x2e7729=await aiAgent['consultButler'](_0x1c70ec,_0x161385,_0x1f044c[_0x5ef97a(0x128)],_0x5b8257);if(!_0x2e7729[_0x5ef97a(0x10b)])return;const _0x18a1ee=_0x5ef97a(0x123)+_0x161385+_0x5ef97a(0x19b)+_0x1f044c[_0x5ef97a(0x128)]+'\x20('+_0x2e7729['reason']+')';await logAutomationAction(_0x1c70ec,'['+_0x4eadff[_0x5ef97a(0x149)]()+']\x20'+_0x18a1ee);if(_0x4eadff===_0x5ef97a(0x147)){const _0x13251d=await _0x1c70ec[_0x5ef97a(0x194)](_0x1f044c['id']);(!_0x13251d||!_0x13251d[_0x5ef97a(0x10e)]&&_0x13251d[_0x5ef97a(0x10e)]!==!![])&&await _0x1c70ec[_0x5ef97a(0x17a)](_0x1f044c['id'],!![]),lastActions[_0x161385]=_0x28dc8c;}}async function findRelatedId(_0x478ebe,_0xe7ed99,_0x50ac21=a1_0x56ba8d(0x110)){const _0x58c2ad=a1_0x56ba8d;if(_0x50ac21===_0x58c2ad(0x110)&&_0x478ebe[_0x58c2ad(0x187)][_0x58c2ad(0x13b)]){let _0x240ef2=_0x478ebe[_0x58c2ad(0x187)]['thermostatMapping'];if(typeof _0x240ef2==='string')try{_0x240ef2=JSON[_0x58c2ad(0x1b4)](_0x240ef2);}catch(_0x412b90){}if(_0x240ef2&&_0x240ef2[_0xe7ed99])return _0x240ef2[_0xe7ed99];}if(_0x50ac21===_0x58c2ad(0x10d)&&_0x478ebe[_0x58c2ad(0x187)][_0x58c2ad(0x185)]){let _0x170016=_0x478ebe[_0x58c2ad(0x187)][_0x58c2ad(0x185)];if(typeof _0x170016===_0x58c2ad(0x18c))try{_0x170016=JSON[_0x58c2ad(0x1b4)](_0x170016);}catch(_0x15fba1){}if(_0x170016&&_0x170016[_0xe7ed99])return _0x170016[_0xe7ed99];}let _0x457f67=[];if(_0x50ac21==='setpoint')_0x457f67=[{'s':_0x58c2ad(0x1c1),'t':_0x58c2ad(0x1be)},{'s':_0x58c2ad(0x174),'t':_0x58c2ad(0x1be)},{'s':_0x58c2ad(0x174),'t':'.4.SET_TEMPERATURE'},{'s':_0x58c2ad(0x1a6),'t':_0x58c2ad(0x1bb)},{'s':_0x58c2ad(0x126),'t':_0x58c2ad(0x140)},{'s':'local_temperature','t':'current_heating_setpoint'},{'s':_0x58c2ad(0x153),'t':_0x58c2ad(0x1a2)},{'s':_0x58c2ad(0x135),'t':_0x58c2ad(0x141)},{'s':_0x58c2ad(0x148),'t':_0x58c2ad(0x193)},{'s':_0x58c2ad(0x153),'t':_0x58c2ad(0x110)}];else _0x50ac21==='valve'&&(_0x457f67=[{'s':_0x58c2ad(0x1c1),'t':_0x58c2ad(0x19e)},{'s':_0x58c2ad(0x174),'t':'.1.LEVEL'},{'s':_0x58c2ad(0x174),'t':_0x58c2ad(0x15c)},{'s':'local_temperature','t':_0x58c2ad(0x156)},{'s':'temperature','t':_0x58c2ad(0x1c3)},{'s':_0x58c2ad(0x153),'t':'level'}]);for(const _0x2ca4d8 of _0x457f67){if(_0xe7ed99[_0x58c2ad(0x182)](_0x2ca4d8['s'])){const _0x2f8a87=_0xe7ed99[_0x58c2ad(0x121)](_0x2ca4d8['s'],_0x2ca4d8['t']),_0x33be92=await _0x478ebe[_0x58c2ad(0x11f)](_0x2f8a87);if(_0x33be92)return _0x2f8a87;}}try{const _0x30c540=_0xe7ed99['split']('.');if(_0x30c540['length']>0x2){const _0x20dc56=_0x30c540[_0x58c2ad(0x139)](0x0,-0x1)[_0x58c2ad(0x119)]('.'),_0x2920e5=await _0x478ebe[_0x58c2ad(0x15a)](_0x20dc56+'.*'),_0x1fa035=[],_0x35c649=_0xe7ed99[_0x58c2ad(0x18a)](/[._]+/)[_0x58c2ad(0x189)](_0x277944=>![_0x58c2ad(0x1a0),'0',_0x58c2ad(0x11b),'ist',_0x58c2ad(0x172),'temperature',_0x58c2ad(0x169),_0x58c2ad(0x1a9),_0x58c2ad(0x180),'state'][_0x58c2ad(0x182)](_0x277944[_0x58c2ad(0x15d)]()));for(const [_0x122110,_0x43eb70]of Object[_0x58c2ad(0x10f)](_0x2920e5)){if(_0x122110===_0xe7ed99)continue;if(_0x43eb70&&_0x43eb70['common']){const _0x2489ce=_0x122110[_0x58c2ad(0x15d)](),_0x726e0a=(_0x43eb70['common'][_0x58c2ad(0x17c)]||'')[_0x58c2ad(0x15d)](),_0x11d6f8=(_0x43eb70['common'][_0x58c2ad(0x1a1)]||'')[_0x58c2ad(0x15d)]();let _0x491417=![];if(_0x50ac21==='setpoint'&&_0x43eb70[_0x58c2ad(0x19a)][_0x58c2ad(0x17f)]===!![])_0x491417=_0x2489ce[_0x58c2ad(0x182)](_0x58c2ad(0x154))||_0x2489ce[_0x58c2ad(0x182)](_0x58c2ad(0x134))||_0x2489ce[_0x58c2ad(0x182)](_0x58c2ad(0x18d))||_0x726e0a['includes'](_0x58c2ad(0x124))||_0x726e0a[_0x58c2ad(0x182)](_0x58c2ad(0x152));else _0x50ac21===_0x58c2ad(0x10d)&&(_0x491417=_0x2489ce[_0x58c2ad(0x182)](_0x58c2ad(0x178))||_0x2489ce[_0x58c2ad(0x182)]('valve')||_0x2489ce['includes']('stellwert')||_0x2489ce[_0x58c2ad(0x182)](_0x58c2ad(0x109))||_0x726e0a[_0x58c2ad(0x182)]('level.valve')||_0x726e0a['includes'](_0x58c2ad(0x1c5))||_0x11d6f8[_0x58c2ad(0x182)]('%'));if(_0x491417){const _0x1b0644=_0x122110[_0x58c2ad(0x18a)](/[._]+/)[_0x58c2ad(0x122)](_0x356b60=>_0x356b60[_0x58c2ad(0x15d)]());let _0x5a4143=0x0;_0x35c649[_0x58c2ad(0x12e)](_0x4d85e6=>{const _0x148041=_0x58c2ad;if(_0x1b0644[_0x148041(0x182)](_0x4d85e6[_0x148041(0x15d)]()))_0x5a4143++;}),_0x1fa035['push']({'id':_0x122110,'score':_0x5a4143});}}}if(_0x1fa035[_0x58c2ad(0x195)]>0x0){_0x1fa035[_0x58c2ad(0x1b7)]((_0x37b7eb,_0x5489ed)=>_0x5489ed[_0x58c2ad(0x1ad)]-_0x37b7eb[_0x58c2ad(0x1ad)]);if(_0x1fa035[0x0][_0x58c2ad(0x1ad)]>0x0)return _0x1fa035[0x0]['id'];}}}catch(_0x4aeef2){}return null;}async function scanThermostats(_0x310ba9){const _0x30162d=a1_0x56ba8d,_0x5f2bd6=_0x310ba9[_0x30162d(0x187)][_0x30162d(0x15f)]||[],_0x178d9f=[],_0x21a80b=_0x5f2bd6['filter'](_0x13aedb=>_0x13aedb['id']&&_0x13aedb['id']['includes'](_0x30162d(0x153))||_0x13aedb['type']&&[_0x30162d(0x153),_0x30162d(0x137),_0x30162d(0x1a9)][_0x30162d(0x182)](_0x13aedb[_0x30162d(0x196)])||_0x13aedb['name']&&_0x13aedb[_0x30162d(0x128)][_0x30162d(0x15d)]()[_0x30162d(0x182)](_0x30162d(0x19d)));for(const _0x3aa0a6 of _0x21a80b){const _0xaa237f=await findRelatedId(_0x310ba9,_0x3aa0a6['id'],_0x30162d(0x110)),_0x241912=await findRelatedId(_0x310ba9,_0x3aa0a6['id'],_0x30162d(0x10d));let _0x14668d=_0x30162d(0x197),_0x3ea094=![],_0x3b0ab4=_0x310ba9[_0x30162d(0x187)]['thermostatMapping']||{};if(typeof _0x3b0ab4==='string')try{_0x3b0ab4=JSON['parse'](_0x3b0ab4);}catch(_0x599464){}let _0x43768f=_0x310ba9[_0x30162d(0x187)][_0x30162d(0x185)]||{};if(typeof _0x43768f===_0x30162d(0x18c))try{_0x43768f=JSON[_0x30162d(0x1b4)](_0x43768f);}catch(_0x5b9b41){}if(_0x3b0ab4[_0x3aa0a6['id']]&&_0x3b0ab4[_0x3aa0a6['id']]===_0xaa237f||_0x43768f[_0x3aa0a6['id']]&&_0x43768f[_0x3aa0a6['id']]===_0x241912)_0x14668d=_0x30162d(0x175),_0x3ea094=!![];else(_0xaa237f||_0x241912)&&(_0x14668d=_0x30162d(0x160));_0x178d9f[_0x30162d(0x17e)]({'room':_0x3aa0a6['location']||_0x30162d(0x1bf),'sensorId':_0x3aa0a6['id'],'setpointId':_0xaa237f||'-','valveId':_0x241912||'-','source':_0x14668d,'isManual':_0x3ea094,'status':_0xaa237f&&_0x241912?_0x30162d(0x144):_0xaa237f?'OK':_0x30162d(0x164)});}return _0x178d9f[_0x30162d(0x1b7)]((_0x3980bf,_0x4dbdfb)=>_0x3980bf[_0x30162d(0x125)][_0x30162d(0x1a8)](_0x4dbdfb[_0x30162d(0x125)]));}async function updateSchedulePreview(_0x3a9b86){const _0x1f45e1=a1_0x56ba8d;if(!_0x3a9b86[_0x1f45e1(0x187)][_0x1f45e1(0x12b)]||!_0x3a9b86['config']['calendarInstance'])return;let _0x58ea6d={};try{const _0x535b26=await _0x3a9b86[_0x1f45e1(0x116)]('analysis.energy.warmupTimes');if(_0x535b26&&_0x535b26[_0x1f45e1(0x10e)])_0x58ea6d=JSON[_0x1f45e1(0x1b4)](_0x535b26[_0x1f45e1(0x10e)]);}catch(_0x4996c7){}const _0x31e8c4=[],_0x2c9ef0=Date[_0x1f45e1(0x1b2)](),_0x131eb3=0x30*0x3c*0x3c*0x3e8;try{const _0x4effe6=await _0x3a9b86['getForeignStateAsync'](_0x3a9b86[_0x1f45e1(0x187)]['calendarInstance']+_0x1f45e1(0x167));if(!_0x4effe6||!_0x4effe6['val'])return;const _0x5952c9=JSON[_0x1f45e1(0x1b4)](_0x4effe6[_0x1f45e1(0x10e)]),_0x29af83=_0x3a9b86['config'][_0x1f45e1(0x1ba)]||[],_0x1b95aa=_0x3a9b86['config'][_0x1f45e1(0x15f)]||[],_0x42d40b=new Set();_0x1b95aa['forEach'](_0x5e4c7e=>{const _0x171db6=_0x1f45e1;if(_0x5e4c7e[_0x171db6(0x131)])_0x42d40b['add'](_0x5e4c7e['location']);});for(const _0x31dbb4 of _0x5952c9){if(_0x31dbb4[_0x1f45e1(0x12f)]&&_0x29af83[_0x1f45e1(0x195)]>0x0&&!_0x29af83[_0x1f45e1(0x182)](_0x31dbb4[_0x1f45e1(0x12f)]))continue;const _0x5e4244=_0x31dbb4['_date']||_0x31dbb4[_0x1f45e1(0x13f)]||_0x31dbb4['date'];if(!_0x5e4244)continue;const _0x2b19eb=new Date(_0x5e4244),_0xc49b5d=_0x2b19eb[_0x1f45e1(0x176)]();if(isNaN(_0xc49b5d))continue;if(_0xc49b5d<_0x2c9ef0)continue;if(_0xc49b5d>_0x2c9ef0+_0x131eb3)continue;const _0x527b17=(_0x31dbb4[_0x1f45e1(0x191)]||_0x31dbb4['summary']||'')[_0x1f45e1(0x15d)]();let _0x327a45=![],_0x24faa2=[],_0x1f1cc8=_0x31dbb4[_0x1f45e1(0x191)]||_0x31dbb4[_0x1f45e1(0x16e)]||_0x1f45e1(0x1bf);if(_0x527b17[_0x1f45e1(0x182)](_0x1f45e1(0x11a))||_0x527b17[_0x1f45e1(0x182)]('r√ºckkehr')||_0x527b17['includes'](_0x1f45e1(0x1bd)))_0x327a45=!![],_0x24faa2=Array[_0x1f45e1(0x1ab)](_0x42d40b);else for(const _0x4be73b of _0x42d40b){if(_0x527b17[_0x1f45e1(0x182)](_0x4be73b[_0x1f45e1(0x15d)]()))_0x24faa2[_0x1f45e1(0x17e)](_0x4be73b);}_0x24faa2['length']>0x0&&_0x24faa2['forEach'](_0x4f3593=>{const _0x56a231=_0x1f45e1;let _0x1efe89=0x3c;if(_0x327a45){let _0x6dc4a9=0x0;Object[_0x56a231(0x192)](_0x58ea6d)[_0x56a231(0x12e)](_0x2b28a8=>{if(_0x2b28a8>_0x6dc4a9)_0x6dc4a9=_0x2b28a8;}),_0x1efe89=_0x6dc4a9>0x0?_0x6dc4a9:0x78;}else _0x1efe89=getWarmupRobust(_0x58ea6d,_0x4f3593);const _0x545e53=new Date(_0xc49b5d-_0x1efe89*0xea60);_0x31e8c4['push']({'eventTime':_0xc49b5d,'triggerTime':_0x545e53['getTime'](),'room':_0x4f3593,'minutes':_0x1efe89,'reason':_0x1f1cc8,'isGlobal':_0x327a45});});}}catch(_0x167b6c){}_0x31e8c4[_0x1f45e1(0x1b7)]((_0xdb54c3,_0x593878)=>_0xdb54c3[_0x1f45e1(0x1b5)]-_0x593878[_0x1f45e1(0x1b5)]);const _0x22619a=_0x31e8c4['slice'](0x0,0x1e);await _0x3a9b86[_0x1f45e1(0x145)](_0x1f45e1(0x157),{'val':JSON['stringify'](_0x22619a),'ack':!![]});}async function monitorEnforcements(_0x890c6b){const _0x41e8e3=a1_0x56ba8d;try{const _0x22b415=_0x41e8e3(0x170),_0x54f0b3=await _0x890c6b[_0x41e8e3(0x116)](_0x22b415);if(!_0x54f0b3||!_0x54f0b3[_0x41e8e3(0x10e)])return;let _0x4356eb=[];try{_0x4356eb=JSON[_0x41e8e3(0x1b4)](_0x54f0b3[_0x41e8e3(0x10e)]);}catch(_0x1bc7a4){return;}if(!Array[_0x41e8e3(0x12a)](_0x4356eb)||_0x4356eb['length']===0x0)return;const _0x1a6cb1=Date[_0x41e8e3(0x1b2)](),_0x2cc7ca=_0x890c6b['config'][_0x41e8e3(0x15f)]||[];let _0x529d75=![];for(let _0x3dabf6=_0x4356eb[_0x41e8e3(0x195)]-0x1;_0x3dabf6>=0x0;_0x3dabf6--){const _0x5874c4=_0x4356eb[_0x3dabf6];if(_0x1a6cb1>=_0x5874c4['until']){_0x890c6b['log'][_0x41e8e3(0x184)](_0x41e8e3(0x16b)+_0x5874c4[_0x41e8e3(0x125)]+_0x41e8e3(0x159)),_0x4356eb[_0x41e8e3(0x177)](_0x3dabf6,0x1),_0x529d75=!![];continue;}const _0x5a208c=_0x2cc7ca[_0x41e8e3(0x162)](_0x38711b=>normalize(_0x38711b[_0x41e8e3(0x131)])===normalize(_0x5874c4[_0x41e8e3(0x125)])&&(_0x38711b[_0x41e8e3(0x196)]===_0x41e8e3(0x153)||_0x38711b[_0x41e8e3(0x196)]===_0x41e8e3(0x137)));if(_0x5a208c){const _0x23973d=await findRelatedId(_0x890c6b,_0x5a208c['id'],'setpoint');if(_0x23973d){const _0x5670fc=await _0x890c6b[_0x41e8e3(0x194)](_0x23973d);_0x5670fc&&typeof _0x5670fc[_0x41e8e3(0x10e)]===_0x41e8e3(0x151)&&(_0x5670fc[_0x41e8e3(0x10e)]<0xf&&(_0x890c6b[_0x41e8e3(0x1bc)][_0x41e8e3(0x171)](_0x41e8e3(0x188)+_0x5874c4[_0x41e8e3(0x125)]+_0x41e8e3(0x181)+_0x5670fc['val']+_0x41e8e3(0x158)+_0x5874c4[_0x41e8e3(0x18d)]+_0x41e8e3(0x1ac)),await _0x890c6b[_0x41e8e3(0x17a)](_0x23973d,_0x5874c4['target']),await logAutomationAction(_0x890c6b,'[FORCE]\x20'+_0x5874c4['room']+':\x20'+_0x5670fc['val']+'¬∞C\x20->\x20'+_0x5874c4[_0x41e8e3(0x18d)]+'¬∞C\x20(Kalender-Schutz)')));}}}_0x529d75&&await _0x890c6b['setStateAsync'](_0x22b415,{'val':JSON[_0x41e8e3(0x114)](_0x4356eb),'ack':!![]});}catch(_0x4fbcd2){_0x890c6b[_0x41e8e3(0x1bc)]['error']('Enforcement\x20Monitor\x20Error:\x20'+_0x4fbcd2[_0x41e8e3(0x199)]);}}function a1_0x754c(_0x22b845,_0x5efae4){const _0x5005c8=a1_0x1d89();return a1_0x754c=function(_0x44a5ec,_0x23426b){_0x44a5ec=_0x44a5ec-0x109;let _0x1d89a9=_0x5005c8[_0x44a5ec];return _0x1d89a9;},a1_0x754c(_0x22b845,_0x5efae4);}async function checkCalendarTriggers(_0x4b941e){const _0x35ad53=a1_0x56ba8d;if(!_0x4b941e['config']['useCalendar']||!_0x4b941e[_0x35ad53(0x187)][_0x35ad53(0x14d)])return;await updateSchedulePreview(_0x4b941e);let _0x1f33e9={},_0x5c12fe={};try{const _0x1c700e=await _0x4b941e['getStateAsync'](_0x35ad53(0x11d));if(_0x1c700e&&_0x1c700e['val'])_0x1f33e9=JSON[_0x35ad53(0x1b4)](_0x1c700e[_0x35ad53(0x10e)]);const _0x3b2876=await _0x4b941e[_0x35ad53(0x116)]('analysis.energy.warmupSources');if(_0x3b2876&&_0x3b2876[_0x35ad53(0x10e)])_0x5c12fe=JSON[_0x35ad53(0x1b4)](_0x3b2876[_0x35ad53(0x10e)]);}catch(_0x3a9322){}let _0x5ca8d8={'default':0x15};try{const _0x29e37c=await _0x4b941e[_0x35ad53(0x116)](_0x35ad53(0x13c));if(_0x29e37c&&_0x29e37c[_0x35ad53(0x10e)])_0x5ca8d8=JSON[_0x35ad53(0x1b4)](_0x29e37c['val']);}catch(_0x33e953){}let _0x479291=[];try{const _0x3ef5c4=await _0x4b941e[_0x35ad53(0x116)](_0x35ad53(0x170));if(_0x3ef5c4&&_0x3ef5c4[_0x35ad53(0x10e)])_0x479291=JSON['parse'](_0x3ef5c4[_0x35ad53(0x10e)]);}catch(_0x1144df){}try{const _0x1bd5ac=await _0x4b941e[_0x35ad53(0x194)](_0x4b941e[_0x35ad53(0x187)]['calendarInstance']+'.data.table');if(!_0x1bd5ac||!_0x1bd5ac[_0x35ad53(0x10e)])return;const _0x2d1768=JSON[_0x35ad53(0x1b4)](_0x1bd5ac[_0x35ad53(0x10e)]),_0x9542b6=Date['now'](),_0xc96716=_0x4b941e[_0x35ad53(0x187)][_0x35ad53(0x15f)]||[],_0x3ccd61=_0x4b941e[_0x35ad53(0x187)][_0x35ad53(0x1ba)]||[];let _0x21e203=![];for(const _0x1954ee of _0x2d1768){if(_0x1954ee[_0x35ad53(0x12f)]&&_0x3ccd61[_0x35ad53(0x195)]>0x0&&!_0x3ccd61['includes'](_0x1954ee[_0x35ad53(0x12f)]))continue;const _0x4ff049=_0x1954ee[_0x35ad53(0x12d)]||_0x1954ee[_0x35ad53(0x13f)]||_0x1954ee['date'];if(!_0x4ff049)continue;const _0x529a0c=new Date(_0x4ff049);if(isNaN(_0x529a0c[_0x35ad53(0x176)]()))continue;const _0x5628d3=(_0x1954ee[_0x35ad53(0x191)]||_0x1954ee['summary']||'')[_0x35ad53(0x15d)]();if(_0x5628d3['includes'](_0x35ad53(0x11a))||_0x5628d3[_0x35ad53(0x182)]('r√ºckkehr')||_0x5628d3[_0x35ad53(0x182)](_0x35ad53(0x1bd))){let _0x333457=0x0;Object['values'](_0x1f33e9)['forEach'](_0x34f609=>{if(_0x34f609>_0x333457)_0x333457=_0x34f609;});if(_0x333457===0x0)_0x333457=0x78;const _0x1bac87=_0x529a0c[_0x35ad53(0x176)]()-_0x333457*0xea60;_0x9542b6>=_0x1bac87&&_0x9542b6<_0x529a0c['getTime']()&&(_0x4b941e[_0x35ad53(0x1ae)]!==_0x35ad53(0x129)&&(_0x4b941e[_0x35ad53(0x1bc)][_0x35ad53(0x184)](_0x35ad53(0x14c)+_0x333457+'\x20min).'),await _0x4b941e[_0x35ad53(0x145)](_0x35ad53(0x19c),{'val':'normal','ack':![]})));}for(const _0x403905 of _0xc96716){if(_0x403905[_0x35ad53(0x131)]){const _0x1610b9=_0x403905[_0x35ad53(0x131)][_0x35ad53(0x15d)](),_0x55be98=(_0x403905[_0x35ad53(0x128)]||'')[_0x35ad53(0x15d)]();let _0x2a16d7=_0x5628d3[_0x35ad53(0x182)](_0x1610b9);!_0x2a16d7&&_0x55be98['length']>0x3&&_0x5628d3['includes'](_0x55be98)&&(_0x2a16d7=!![]);if(_0x2a16d7){const _0x2219a4=getWarmupRobust(_0x1f33e9,_0x403905[_0x35ad53(0x131)]),_0xf135b0=_0x5c12fe[_0x403905['location']]||_0x35ad53(0x150),_0x466067=_0x529a0c[_0x35ad53(0x176)]()-_0x2219a4*0xea60;if(_0x9542b6>=_0x466067&&_0x9542b6<_0x529a0c[_0x35ad53(0x176)]()){const _0x1172fc=lastActions[_0x35ad53(0x13e)+_0x403905[_0x35ad53(0x131)]];if(_0x1172fc&&_0x9542b6-_0x1172fc<CAL_COOLDOWN_MS)continue;const _0x4eae6d=await findRelatedId(_0x4b941e,_0x403905['id'],_0x35ad53(0x110));if(_0x4eae6d){let _0x1c3977=_0x5ca8d8[_0x403905[_0x35ad53(0x131)]];if(_0x1c3977===undefined)_0x1c3977=_0x5ca8d8['default'];if(_0x1c3977===undefined)_0x1c3977=0x15;const _0x31375f=await _0x4b941e[_0x35ad53(0x194)](_0x4eae6d);if(_0x31375f&&typeof _0x31375f['val']===_0x35ad53(0x151)&&_0x31375f['val']<_0x1c3977-0.5){_0x4b941e['log'][_0x35ad53(0x184)](_0x35ad53(0x1b9)+_0xf135b0+']:\x20Raum-Trigger\x20\x27'+_0x403905[_0x35ad53(0x131)]+'\x27\x20(Match:\x20'+_0x5628d3+')\x20aktiv.\x20Heize\x20auf\x20'+_0x1c3977+_0x35ad53(0x1b3)+_0x2219a4+_0x35ad53(0x186)),await _0x4b941e[_0x35ad53(0x17a)](_0x4eae6d,_0x1c3977),await logAutomationAction(_0x4b941e,_0x35ad53(0x1c2)+_0x403905['location']+'\x20->\x20'+_0x1c3977+_0x35ad53(0x1a5)+_0xf135b0+')'),lastActions['cal_'+_0x403905[_0x35ad53(0x131)]]=_0x9542b6;const _0x33ed25=_0x479291['findIndex'](_0x3e1496=>_0x3e1496[_0x35ad53(0x125)]===_0x403905[_0x35ad53(0x131)]);if(_0x33ed25!==-0x1)_0x479291[_0x35ad53(0x177)](_0x33ed25,0x1);_0x479291[_0x35ad53(0x17e)]({'room':_0x403905['location'],'target':_0x1c3977,'until':_0x529a0c[_0x35ad53(0x176)]()}),_0x21e203=!![];}}}}}}}_0x21e203&&await _0x4b941e[_0x35ad53(0x145)](_0x35ad53(0x170),{'val':JSON[_0x35ad53(0x114)](_0x479291),'ack':!![]});}catch(_0x58b9cb){_0x4b941e[_0x35ad53(0x1bc)][_0x35ad53(0x171)]('Calendar\x20Check\x20Error:\x20'+_0x58b9cb[_0x35ad53(0x199)]);}}async function manageMpcIntervention(_0x57fb3d,_0x297149,_0x26d4e7){const _0x71805a=a1_0x56ba8d;try{const _0x22463a='analysis.energy.mpcActiveInterventions',_0x336ce3=await _0x57fb3d[_0x71805a(0x116)](_0x22463a);let _0x3135c2=[];if(_0x336ce3&&_0x336ce3['val'])try{_0x3135c2=JSON['parse'](_0x336ce3[_0x71805a(0x10e)]);}catch(_0x5e124d){}const _0x5d9ebe=_0x3135c2[_0x71805a(0x127)](_0x297149);if(_0x26d4e7===_0x71805a(0x155))_0x5d9ebe===-0x1&&(_0x3135c2[_0x71805a(0x17e)](_0x297149),await _0x57fb3d[_0x71805a(0x145)](_0x22463a,{'val':JSON[_0x71805a(0x114)](_0x3135c2),'ack':!![]}));else _0x26d4e7===_0x71805a(0x10a)&&(_0x5d9ebe!==-0x1&&(_0x3135c2[_0x71805a(0x177)](_0x5d9ebe,0x1),await _0x57fb3d['setStateAsync'](_0x22463a,{'val':JSON[_0x71805a(0x114)](_0x3135c2),'ack':!![]})));}catch(_0x30795d){}}async function cleanupGhostInterventions(_0x522f71){const _0x399fb2=a1_0x56ba8d;try{const _0x2460df='analysis.energy.mpcActiveInterventions',_0x5df9e8=await _0x522f71[_0x399fb2(0x116)](_0x2460df);if(!_0x5df9e8||!_0x5df9e8['val'])return;const _0x43af5d=JSON[_0x399fb2(0x1b4)](_0x5df9e8[_0x399fb2(0x10e)]);if(!Array['isArray'](_0x43af5d)||_0x43af5d[_0x399fb2(0x195)]===0x0)return;let _0x5bdbad={'default':0x15};try{const _0x3eff4d=await _0x522f71[_0x399fb2(0x116)](_0x399fb2(0x13c));if(_0x3eff4d&&_0x3eff4d[_0x399fb2(0x10e)])_0x5bdbad=JSON[_0x399fb2(0x1b4)](_0x3eff4d['val']);}catch(_0x5012b5){}let _0x1b7d0b=[];try{const _0x40c312=await _0x522f71[_0x399fb2(0x116)](_0x399fb2(0x136));if(_0x40c312&&_0x40c312[_0x399fb2(0x10e)])_0x1b7d0b=JSON[_0x399fb2(0x1b4)](_0x40c312[_0x399fb2(0x10e)]);}catch(_0x39e80f){}let _0x4c3911={},_0x53f89e=![];try{const _0x77f7aa=await _0x522f71[_0x399fb2(0x116)](_0x399fb2(0x130));if(_0x77f7aa&&_0x77f7aa[_0x399fb2(0x10e)])_0x4c3911=JSON[_0x399fb2(0x1b4)](_0x77f7aa[_0x399fb2(0x10e)]);}catch(_0xece588){}if(_0x4c3911[_0x399fb2(0x1a7)]){const _0x19b3a9=Date[_0x399fb2(0x1b2)]();for(const [_0x45c708,_0xc79345]of Object[_0x399fb2(0x10f)](_0x4c3911[_0x399fb2(0x1a7)])){_0x19b3a9-_0xc79345>PENALTY_TTL&&(delete _0x4c3911[_0x45c708],delete _0x4c3911[_0x399fb2(0x1a7)][_0x45c708],_0x53f89e=!![],_0x522f71[_0x399fb2(0x1bc)][_0x399fb2(0x184)](_0x399fb2(0x190)+_0x45c708+_0x399fb2(0x165)));}}const _0x218ca6=_0x522f71[_0x399fb2(0x187)][_0x399fb2(0x15f)]||[];let _0xb4e281=![];for(let _0x4e1de5=_0x43af5d['length']-0x1;_0x4e1de5>=0x0;_0x4e1de5--){const _0x573b2e=_0x43af5d[_0x4e1de5],_0x412d5c=_0x218ca6[_0x399fb2(0x162)](_0x54a7da=>normalize(_0x54a7da[_0x399fb2(0x131)])===normalize(_0x573b2e)&&(_0x54a7da[_0x399fb2(0x196)]===_0x399fb2(0x153)||_0x54a7da['type']===_0x399fb2(0x137)));if(!_0x412d5c){_0x522f71['log']['warn'](_0x399fb2(0x112)+_0x573b2e+_0x399fb2(0x14f)),_0x43af5d[_0x399fb2(0x177)](_0x4e1de5,0x1),_0xb4e281=!![];continue;}if(_0x412d5c){const _0x427abc=await findRelatedId(_0x522f71,_0x412d5c['id'],'setpoint'),_0xd39822=await _0x522f71[_0x399fb2(0x194)](_0x412d5c['id']);if(_0x427abc){const _0x4e8980=await _0x522f71[_0x399fb2(0x194)](_0x427abc);if(_0x4e8980&&typeof _0x4e8980[_0x399fb2(0x10e)]==='number'){let _0x4818d3=![],_0x1f1f85='';Math[_0x399fb2(0x14b)](_0x4e8980[_0x399fb2(0x10e)]-ECO_TEMP)>0.5&&(_0x4818d3=!![],_0x1f1f85=_0x399fb2(0x14a));if(!_0x4818d3&&_0xd39822&&typeof _0xd39822[_0x399fb2(0x10e)]===_0x399fb2(0x151)){const _0x580244=_0x5bdbad[_0x573b2e]||_0x5bdbad[_0x399fb2(0x16a)]||0x15;_0xd39822[_0x399fb2(0x10e)]<_0x580244+0.2&&(_0x4818d3=!![],_0x1f1f85=_0x399fb2(0x11e));}if(_0x4818d3){if(_0x1f1f85===_0x399fb2(0x14a)){_0x522f71[_0x399fb2(0x1bc)][_0x399fb2(0x184)]('üßπ\x20[MPC\x20CLEANUP]\x20'+_0x573b2e+'\x20ist\x20auf\x20'+_0x4e8980[_0x399fb2(0x10e)]+_0x399fb2(0x18b)+ECO_TEMP+_0x399fb2(0x138));const _0x2922b5=lastActions['cal_'+_0x573b2e],_0x228ca7=_0x2922b5&&Date[_0x399fb2(0x1b2)]()-_0x2922b5<0x2*0x3c*0x3e8;if(!_0x228ca7&&_0x4e8980[_0x399fb2(0x10e)]>ECO_TEMP+0.5){_0x522f71[_0x399fb2(0x19f)]&&(_0x522f71[_0x399fb2(0x1bc)][_0x399fb2(0x184)](_0x399fb2(0x16f)+_0x573b2e+_0x399fb2(0x1b6)),_0x522f71[_0x399fb2(0x19f)]('TRAIN_RL_PENALTY',{'room':_0x573b2e}));const _0x20d62e=_0x573b2e+'_'+new Date()[_0x399fb2(0x14e)]();if(!_0x4c3911[_0x20d62e]){_0x4c3911[_0x20d62e]=0x1;if(!_0x4c3911[_0x399fb2(0x1a7)])_0x4c3911[_0x399fb2(0x1a7)]={};_0x4c3911['_meta'][_0x20d62e]=Date[_0x399fb2(0x1b2)](),_0x53f89e=!![];}}else _0x228ca7&&_0x522f71['log'][_0x399fb2(0x184)](_0x399fb2(0x17d)+_0x573b2e+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x1f1f85===_0x399fb2(0x11e)){let _0x65d0a2=![];if(_0x1b7d0b[_0x399fb2(0x162)](_0x33ddfc=>_0x33ddfc[_0x399fb2(0x125)]===_0x573b2e))_0x65d0a2=!![];const _0x57a2d6=_0x218ca6[_0x399fb2(0x189)](_0x513c3e=>normalize(_0x513c3e[_0x399fb2(0x131)])===normalize(_0x573b2e)&&(_0x513c3e[_0x399fb2(0x196)]==='window'||_0x513c3e['type']===_0x399fb2(0x1a9)||_0x513c3e[_0x399fb2(0x196)]===_0x399fb2(0x1a4)));for(const _0xd4881b of _0x57a2d6){try{const _0x18eb93=await _0x522f71['getForeignStateAsync'](_0xd4881b['id']);if(_0x18eb93&&(_0x18eb93[_0x399fb2(0x10e)]===!![]||_0x18eb93['val']===0x1||String(_0x18eb93[_0x399fb2(0x10e)])[_0x399fb2(0x15d)]()==='open'))_0x65d0a2=!![];}catch(_0x329bb1){}}if(_0x65d0a2)_0x522f71[_0x399fb2(0x1bc)]['info'](_0x399fb2(0x117)+_0x573b2e+_0x399fb2(0x183));else{const _0x3d9dbe=_0x5bdbad[_0x573b2e]||_0x5bdbad[_0x399fb2(0x16a)]||0x15;_0x522f71['log'][_0x399fb2(0x184)](_0x399fb2(0x11c)+_0x573b2e+'\x20erreicht\x20Limit\x20('+_0xd39822[_0x399fb2(0x10e)]+_0x399fb2(0x18f)+(_0x3d9dbe+0.2)+_0x399fb2(0x1b8)),await _0x522f71[_0x399fb2(0x17a)](_0x427abc,_0x3d9dbe),await logAutomationAction(_0x522f71,_0x399fb2(0x120)+_0x573b2e+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x3d9dbe+'¬∞C'),lastActions['rescue_'+_0x573b2e]=Date[_0x399fb2(0x1b2)]();}}}_0x43af5d['splice'](_0x4e1de5,0x1),_0xb4e281=!![];}}}}}_0xb4e281&&await _0x522f71[_0x399fb2(0x145)](_0x2460df,{'val':JSON['stringify'](_0x43af5d),'ack':!![]}),_0x53f89e&&await _0x522f71['setStateAsync']('analysis.energy.rlPenalties',{'val':JSON[_0x399fb2(0x114)](_0x4c3911),'ack':!![]});}catch(_0x127de0){}}function a1_0x1d89(){const _0x58245e=['sort','¬∞C).\x20Sparmodus\x20beendet!','üìÖ\x20SMART\x20SCHEDULE\x20[','calendarSelection','SET_POINT_TEMPERATURE','log','ankunft','.1.SET_POINT_TEMPERATURE','Unbekannt','analysis.automation.actionLog','.1.ACTUAL_TEMPERATURE','[CAL]\x20','valve_position','[MPC]\x20','value.valve','position','remove','approved','280988OoJkNI','valve','val','entries','setpoint','986409FBFqwk','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','1137996WaLqgm','stringify','üî•\x20[MPC\x20ACTION]\x20Heize\x20','getStateAsync','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','63AOPPsx','join','urlaub\x20ende','hm-rpc','üö®\x20[MPC\x20WATCHDOG]\x20','analysis.energy.warmupTimes','too_cold','getForeignObjectAsync','[WATCHDOG]\x20','replace','map','Pr√§diktion:\x20','level.temperature','room','local_temperature','indexOf','name','normal','isArray','useCalendar','6ezytUC','_date','forEach','_calName','analysis.energy.rlPenalties','location','exports','switch','soll','ACTUAL','analysis.energy.ventilationAlerts','thermostat','¬∞C).\x20Entferne\x20Status.','slice','¬∞C!\x20(Puffer\x20leer).','thermostatMapping','analysis.energy.warmupTargets','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','cal_','eventStart','occupied_heating_setpoint','SET','356922iIKJqT','./ai_agent','PERFECT','setStateAsync','light','active','Ist','toUpperCase','manual','abs','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','calendarInstance','getHours','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','Classic','number','thermostat.setpoint','temperature','set','add','pi_heating_demand','analysis.energy.schedulePreview','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','getForeignObjectsAsync','constructor','.4.VALVE_STATE','toLowerCase','5bxasIh','devices','Auto-Erkennung','unshift','find','(((.+)+)+)+$','Fehlt','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','\x20gefunden!','.data.table','apply','actual','default','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','9770760WvZdhc','Unknown','summary','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','analysis.energy.activeEnforcements','warn','wert','rescue_','.1.TEMPERATURE','Manuelles\x20Mapping','getTime','splice','level','minutes_safe','setForeignStateAsync','off','role','üìÖ\x20[MPC\x20INFO]\x20','push','write','messwert','\x20auf\x20','includes','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','info','valveMapping','\x20min).','config','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','filter','split','¬∞C\x20(nicht\x20','string','target','647324NkgwXc','¬∞C\x20<\x20','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','event','values','Soll','getForeignStateAsync','length','type','Nicht\x20gefunden','dimmer','message','common','\x20->\x20Schalte\x20','system.mode','temp','.1.LEVEL','sendToPythonWrapper','openknx','unit','target_temperature','334160GvwoTI','contact','¬∞C\x20(via\x20','ACTUAL_TEMPERATURE','_meta','localeCompare','sensor','toString','from','¬∞C.','score','currentSystemMode','mpc_','search',':\x20Absenkung\x20auf\x20','now','¬∞C\x20(Vorlauf:\x20','parse','triggerTime','\x20wurde\x20manuell\x20erh√∂ht.'];a1_0x1d89=function(){return _0x58245e;};return a1_0x1d89();}async function applyEnergySavings(_0x35499b,_0xeda809){const _0x5692d7=a1_0x56ba8d;await cleanupGhostInterventions(_0x35499b);if(!_0xeda809||_0xeda809[_0x5692d7(0x195)]===0x0)return;const _0x1ffded=_0x35499b['config'][_0x5692d7(0x15f)]||[],_0x37b740=Date[_0x5692d7(0x1b2)]();for(const _0x48c010 of _0xeda809){const _0x2b2646=_0x48c010[_0x5692d7(0x125)],_0x141fc6=_0x48c010[_0x5692d7(0x179)],_0x33bc5c=_0x48c010[_0x5692d7(0x18d)]||0x15;if(lastActions['rescue_'+_0x2b2646]&&_0x37b740-lastActions[_0x5692d7(0x173)+_0x2b2646]<RESCUE_LOCK_MS)continue;const _0x485b6c=_0x1ffded[_0x5692d7(0x162)](_0x1ae1f7=>normalize(_0x1ae1f7[_0x5692d7(0x131)])===normalize(_0x2b2646)&&(_0x1ae1f7[_0x5692d7(0x196)]===_0x5692d7(0x153)||_0x1ae1f7['type']===_0x5692d7(0x137)));if(!_0x485b6c)continue;const _0x619ea3=await findRelatedId(_0x35499b,_0x485b6c['id'],_0x5692d7(0x110));if(_0x619ea3){if(lastActions['mpc_'+_0x2b2646]&&_0x37b740-lastActions[_0x5692d7(0x1af)+_0x2b2646]<0x1e*0x3c*0x3e8)continue;const _0x3df348=await _0x35499b[_0x5692d7(0x194)](_0x619ea3);if(_0x3df348&&typeof _0x3df348[_0x5692d7(0x10e)]===_0x5692d7(0x151)){const _0x5c4cd3=_0x3df348[_0x5692d7(0x10e)];_0x5c4cd3!==ECO_TEMP&&await manageMpcIntervention(_0x35499b,_0x2b2646,_0x5692d7(0x10a));if(_0x141fc6>0x1e)_0x5c4cd3>ECO_TEMP+0.5&&(_0x35499b[_0x5692d7(0x1bc)][_0x5692d7(0x184)](_0x5692d7(0x13d)+_0x2b2646+_0x5692d7(0x181)+ECO_TEMP+'¬∞C!\x20(Puffer:\x20'+_0x141fc6+'\x20min)'),await _0x35499b['setForeignStateAsync'](_0x619ea3,ECO_TEMP),await manageMpcIntervention(_0x35499b,_0x2b2646,_0x5692d7(0x155)),lastActions[_0x5692d7(0x1af)+_0x2b2646]=_0x37b740,await logAutomationAction(_0x35499b,_0x5692d7(0x1c4)+_0x2b2646+_0x5692d7(0x1b1)+ECO_TEMP+'¬∞C'));else _0x141fc6<=0xf&&(_0x5c4cd3<_0x33bc5c&&(_0x35499b['log'][_0x5692d7(0x184)](_0x5692d7(0x115)+_0x2b2646+'\x20wieder\x20auf\x20'+_0x33bc5c+_0x5692d7(0x13a)),await _0x35499b[_0x5692d7(0x17a)](_0x619ea3,_0x33bc5c),await manageMpcIntervention(_0x35499b,_0x2b2646,'remove'),lastActions['mpc_'+_0x2b2646]=_0x37b740,await logAutomationAction(_0x35499b,'[MPC]\x20'+_0x2b2646+':\x20Aufheizen\x20auf\x20'+_0x33bc5c+'¬∞C')));}}else _0x35499b[_0x5692d7(0x1bc)][_0x5692d7(0x171)]('[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20'+_0x2b2646+_0x5692d7(0x166));}}module[a1_0x56ba8d(0x132)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};