const a1_0xd8c4e2=a1_0x838a;(function(_0x6470ef,_0x2ff248){const _0x90da47=a1_0x838a,_0x266fc7=_0x6470ef();while(!![]){try{const _0x44f902=-parseInt(_0x90da47(0x1d3))/0x1+-parseInt(_0x90da47(0x1eb))/0x2*(parseInt(_0x90da47(0x1b4))/0x3)+-parseInt(_0x90da47(0x232))/0x4+-parseInt(_0x90da47(0x268))/0x5*(parseInt(_0x90da47(0x1dd))/0x6)+parseInt(_0x90da47(0x1c3))/0x7*(parseInt(_0x90da47(0x270))/0x8)+-parseInt(_0x90da47(0x265))/0x9+-parseInt(_0x90da47(0x22f))/0xa*(-parseInt(_0x90da47(0x260))/0xb);if(_0x44f902===_0x2ff248)break;else _0x266fc7['push'](_0x266fc7['shift']());}catch(_0x7d456a){_0x266fc7['push'](_0x266fc7['shift']());}}}(a1_0x5652,0xb152e));const a1_0x1e70ad=(function(){let _0xd10179=!![];return function(_0x58ec89,_0x1bb29f){const _0x2e68d9=_0xd10179?function(){const _0x215749=a1_0x838a;if(_0x1bb29f){const _0x1806ac=_0x1bb29f[_0x215749(0x246)](_0x58ec89,arguments);return _0x1bb29f=null,_0x1806ac;}}:function(){};return _0xd10179=![],_0x2e68d9;};}()),a1_0x4e64f6=a1_0x1e70ad(this,function(){const _0x53ae87=a1_0x838a;return a1_0x4e64f6['toString']()[_0x53ae87(0x23d)](_0x53ae87(0x1ed))['toString']()['constructor'](a1_0x4e64f6)['search'](_0x53ae87(0x1ed));});a1_0x4e64f6();'use strict';function a1_0x838a(_0x5d91b9,_0x2fb3b7){const _0x480404=a1_0x5652();return a1_0x838a=function(_0x4e64f6,_0x1e70ad){_0x4e64f6=_0x4e64f6-0x1b2;let _0x565266=_0x480404[_0x4e64f6];return _0x565266;},a1_0x838a(_0x5d91b9,_0x2fb3b7);}const aiAgent=require(a1_0xd8c4e2(0x1c6)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x2f28f4){const _0x1019fa=a1_0xd8c4e2;if(!_0x2f28f4)return'';return _0x2f28f4[_0x1019fa(0x251)]()['replace'](/\s+/g,'')[_0x1019fa(0x209)]();}function getWarmupRobust(_0x462622,_0x4c7e93){const _0x488f99=a1_0xd8c4e2;if(!_0x462622||!_0x4c7e93)return 0x3c;if(_0x462622[_0x4c7e93]!==undefined)return _0x462622[_0x4c7e93];const _0x3d3ad0=_0x4c7e93[_0x488f99(0x251)]()['replace'](/√§/g,'ae')[_0x488f99(0x22a)](/√∂/g,'oe')[_0x488f99(0x22a)](/√º/g,'ue')['replace'](/√ü/g,'ss')[_0x488f99(0x22a)](/\s+/g,'_')[_0x488f99(0x22a)](/[^a-z0-9_]/g,'');if(_0x462622[_0x3d3ad0]!==undefined)return _0x462622[_0x3d3ad0];return 0x3c;}async function logAutomationAction(_0x3c7b53,_0x4f7a69){const _0x3f47ee=a1_0xd8c4e2;await _0x3c7b53[_0x3f47ee(0x244)](_0x3f47ee(0x221),{'val':_0x4f7a69,'ack':!![]});try{const _0x1a5a75=_0x3f47ee(0x249),_0xe9a098=await _0x3c7b53[_0x3f47ee(0x1fd)](_0x1a5a75);let _0x10b1cd=[];if(_0xe9a098&&_0xe9a098['val'])try{_0x10b1cd=JSON[_0x3f47ee(0x1fe)](_0xe9a098[_0x3f47ee(0x217)]);}catch(_0x101ba8){}_0x10b1cd[_0x3f47ee(0x1f9)]({'ts':Date[_0x3f47ee(0x236)](),'msg':_0x4f7a69});if(_0x10b1cd[_0x3f47ee(0x202)]>0x32)_0x10b1cd=_0x10b1cd['slice'](0x0,0x32);await _0x3c7b53['setStateAsync'](_0x1a5a75,{'val':JSON[_0x3f47ee(0x1f4)](_0x10b1cd),'ack':!![]});}catch(_0x180a39){}}async function handlePrediction(_0x84626a,_0x1fe10c,_0x4875fd){const _0x389691=a1_0xd8c4e2;if(!_0x1fe10c||_0x1fe10c==='Unknown')return;let _0x1d22e9=_0x389691(0x25f),_0x110789=0.6;try{const _0x406ec0=await _0x84626a['getStateAsync'](_0x389691(0x252));if(_0x406ec0&&_0x406ec0[_0x389691(0x217)])_0x1d22e9=_0x406ec0[_0x389691(0x217)];const _0x385707=await _0x84626a[_0x389691(0x1fd)](_0x389691(0x1c2));if(_0x385707&&_0x385707[_0x389691(0x217)])_0x110789=_0x385707['val'];}catch(_0x5daa7b){}if(_0x1d22e9===_0x389691(0x25f)||_0x4875fd<_0x110789)return;const _0xf4ff6b=Date[_0x389691(0x236)]();if(lastActions[_0x1fe10c]&&_0xf4ff6b-lastActions[_0x1fe10c]<COOLDOWN_MS)return;const _0x526448=_0x84626a[_0x389691(0x242)][_0x389691(0x1bd)]||[],_0x430912=normalize(_0x1fe10c),_0x256c3b=_0x526448[_0x389691(0x222)](_0xeddefc=>normalize(_0xeddefc['location'])===_0x430912&&(_0xeddefc[_0x389691(0x23f)]===_0x389691(0x234)||_0xeddefc['type']===_0x389691(0x1f2)||_0xeddefc[_0x389691(0x23f)]===_0x389691(0x26a)));if(!_0x256c3b)return;const _0x4b6996=await aiAgent[_0x389691(0x261)](_0x84626a,_0x1fe10c,_0x256c3b[_0x389691(0x1bc)],_0x4875fd);if(!_0x4b6996['approved'])return;const _0x493169=_0x389691(0x1e1)+_0x1fe10c+_0x389691(0x1e3)+_0x256c3b[_0x389691(0x1bc)]+'\x20('+_0x4b6996[_0x389691(0x1de)]+')';await logAutomationAction(_0x84626a,'['+_0x1d22e9[_0x389691(0x25a)]()+']\x20'+_0x493169);if(_0x1d22e9===_0x389691(0x215)){const _0x205d74=await _0x84626a[_0x389691(0x1b3)](_0x256c3b['id']);(!_0x205d74||!_0x205d74[_0x389691(0x217)]&&_0x205d74[_0x389691(0x217)]!==!![])&&await _0x84626a['setForeignStateAsync'](_0x256c3b['id'],!![]),lastActions[_0x1fe10c]=_0xf4ff6b;}}async function findRelatedId(_0xa25373,_0x4fca8e,_0x4974c5='setpoint'){const _0xaf2755=a1_0xd8c4e2;if(_0x4974c5===_0xaf2755(0x1f1)&&_0xa25373[_0xaf2755(0x242)][_0xaf2755(0x1c9)]){let _0x33861c=_0xa25373[_0xaf2755(0x242)][_0xaf2755(0x1c9)];if(typeof _0x33861c===_0xaf2755(0x269))try{_0x33861c=JSON[_0xaf2755(0x1fe)](_0x33861c);}catch(_0x2c3e53){}if(_0x33861c&&_0x33861c[_0x4fca8e])return _0x33861c[_0x4fca8e];}if(_0x4974c5===_0xaf2755(0x22d)&&_0xa25373[_0xaf2755(0x242)][_0xaf2755(0x20c)]){let _0x2e572c=_0xa25373[_0xaf2755(0x242)][_0xaf2755(0x20c)];if(typeof _0x2e572c===_0xaf2755(0x269))try{_0x2e572c=JSON['parse'](_0x2e572c);}catch(_0x2719e3){}if(_0x2e572c&&_0x2e572c[_0x4fca8e])return _0x2e572c[_0x4fca8e];}let _0x5e4bb9=[];if(_0x4974c5===_0xaf2755(0x1f1))_0x5e4bb9=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0xaf2755(0x1bb)},{'s':_0xaf2755(0x204),'t':_0xaf2755(0x1bb)},{'s':_0xaf2755(0x204),'t':_0xaf2755(0x213)},{'s':_0xaf2755(0x20e),'t':_0xaf2755(0x22c)},{'s':'local_temperature','t':'occupied_heating_setpoint'},{'s':_0xaf2755(0x1bf),'t':_0xaf2755(0x1f8)},{'s':_0xaf2755(0x233),'t':_0xaf2755(0x203)},{'s':_0xaf2755(0x24b),'t':'SET'},{'s':'Ist','t':_0xaf2755(0x21c)},{'s':_0xaf2755(0x233),'t':'setpoint'}];else _0x4974c5===_0xaf2755(0x22d)&&(_0x5e4bb9=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0xaf2755(0x1b6)},{'s':_0xaf2755(0x204),'t':_0xaf2755(0x1b6)},{'s':'.1.TEMPERATURE','t':'.4.VALVE_STATE'},{'s':_0xaf2755(0x1bf),'t':_0xaf2755(0x1cb)},{'s':'temperature','t':_0xaf2755(0x1d5)},{'s':_0xaf2755(0x233),'t':_0xaf2755(0x211)}]);for(const _0x6d4444 of _0x5e4bb9){if(_0x4fca8e[_0xaf2755(0x23a)](_0x6d4444['s'])){const _0x2847d0=_0x4fca8e[_0xaf2755(0x22a)](_0x6d4444['s'],_0x6d4444['t']),_0x26fc1e=await _0xa25373[_0xaf2755(0x1d4)](_0x2847d0);if(_0x26fc1e)return _0x2847d0;}}try{const _0x1a4c97=_0x4fca8e['split']('.');if(_0x1a4c97[_0xaf2755(0x202)]>0x2){const _0xb8de20=_0x1a4c97[_0xaf2755(0x231)](0x0,-0x1)[_0xaf2755(0x1f3)]('.'),_0x3f5d62=await _0xa25373[_0xaf2755(0x26c)](_0xb8de20+'.*'),_0x538cac=[],_0x4eb966=_0x4fca8e[_0xaf2755(0x1e6)](/[._]+/)['filter'](_0x2d5cb6=>![_0xaf2755(0x267),'0',_0xaf2755(0x245),'ist','wert','temperature',_0xaf2755(0x25d),_0xaf2755(0x1db),_0xaf2755(0x1f0),_0xaf2755(0x20a)][_0xaf2755(0x23a)](_0x2d5cb6[_0xaf2755(0x251)]()));for(const [_0x2523af,_0x1d4891]of Object[_0xaf2755(0x1dc)](_0x3f5d62)){if(_0x2523af===_0x4fca8e)continue;if(_0x1d4891&&_0x1d4891[_0xaf2755(0x239)]){const _0x3209c7=_0x2523af[_0xaf2755(0x251)](),_0x53a623=(_0x1d4891[_0xaf2755(0x239)][_0xaf2755(0x207)]||'')[_0xaf2755(0x251)](),_0x5d1a55=(_0x1d4891['common'][_0xaf2755(0x1d1)]||'')[_0xaf2755(0x251)]();let _0x5e0049=![];if(_0x4974c5===_0xaf2755(0x1f1)&&_0x1d4891[_0xaf2755(0x239)][_0xaf2755(0x1da)]===!![])_0x5e0049=_0x3209c7[_0xaf2755(0x23a)]('set')||_0x3209c7[_0xaf2755(0x23a)](_0xaf2755(0x263))||_0x3209c7[_0xaf2755(0x23a)](_0xaf2755(0x1e2))||_0x53a623[_0xaf2755(0x23a)](_0xaf2755(0x262))||_0x53a623['includes'](_0xaf2755(0x1b8));else _0x4974c5===_0xaf2755(0x22d)&&(_0x5e0049=_0x3209c7['includes'](_0xaf2755(0x211))||_0x3209c7['includes'](_0xaf2755(0x22d))||_0x3209c7[_0xaf2755(0x23a)](_0xaf2755(0x1e0))||_0x3209c7['includes']('position')||_0x53a623[_0xaf2755(0x23a)]('level.valve')||_0x53a623[_0xaf2755(0x23a)](_0xaf2755(0x26b))||_0x5d1a55[_0xaf2755(0x23a)]('%'));if(_0x5e0049){const _0xa7b1d8=_0x2523af['split'](/[._]+/)[_0xaf2755(0x1b9)](_0x4d3793=>_0x4d3793[_0xaf2755(0x251)]());let _0x5e6a69=0x0;_0x4eb966[_0xaf2755(0x1f5)](_0x863ead=>{const _0x277739=_0xaf2755;if(_0xa7b1d8[_0x277739(0x23a)](_0x863ead[_0x277739(0x251)]()))_0x5e6a69++;}),_0x538cac['push']({'id':_0x2523af,'score':_0x5e6a69});}}}if(_0x538cac[_0xaf2755(0x202)]>0x0){_0x538cac['sort']((_0x44274e,_0x57d509)=>_0x57d509[_0xaf2755(0x25e)]-_0x44274e[_0xaf2755(0x25e)]);if(_0x538cac[0x0][_0xaf2755(0x25e)]>0x0)return _0x538cac[0x0]['id'];}}}catch(_0x9354b0){}return null;}async function scanThermostats(_0xddac13){const _0x197330=a1_0xd8c4e2,_0x4e25ca=_0xddac13[_0x197330(0x242)][_0x197330(0x1bd)]||[],_0x860617=[],_0x44a858=_0x4e25ca[_0x197330(0x1d9)](_0x13c51c=>_0x13c51c['id']&&_0x13c51c['id'][_0x197330(0x23a)](_0x197330(0x233))||_0x13c51c['type']&&[_0x197330(0x233),_0x197330(0x1fc),_0x197330(0x1db)][_0x197330(0x23a)](_0x13c51c[_0x197330(0x23f)])||_0x13c51c[_0x197330(0x1bc)]&&_0x13c51c[_0x197330(0x1bc)][_0x197330(0x251)]()[_0x197330(0x23a)](_0x197330(0x20b)));for(const _0x5aa55b of _0x44a858){const _0x4b650a=await findRelatedId(_0xddac13,_0x5aa55b['id'],'setpoint'),_0x5781f6=await findRelatedId(_0xddac13,_0x5aa55b['id'],'valve');let _0x1c5e7b=_0x197330(0x1d6),_0x44eaf4=![],_0x24131c=_0xddac13[_0x197330(0x242)][_0x197330(0x1c9)]||{};if(typeof _0x24131c===_0x197330(0x269))try{_0x24131c=JSON[_0x197330(0x1fe)](_0x24131c);}catch(_0x44432a){}let _0x40c2c4=_0xddac13[_0x197330(0x242)]['valveMapping']||{};if(typeof _0x40c2c4===_0x197330(0x269))try{_0x40c2c4=JSON[_0x197330(0x1fe)](_0x40c2c4);}catch(_0x17500b){}if(_0x24131c[_0x5aa55b['id']]&&_0x24131c[_0x5aa55b['id']]===_0x4b650a||_0x40c2c4[_0x5aa55b['id']]&&_0x40c2c4[_0x5aa55b['id']]===_0x5781f6)_0x1c5e7b=_0x197330(0x23e),_0x44eaf4=!![];else(_0x4b650a||_0x5781f6)&&(_0x1c5e7b=_0x197330(0x1cc));_0x860617[_0x197330(0x200)]({'room':_0x5aa55b[_0x197330(0x1e8)]||_0x197330(0x241),'sensorId':_0x5aa55b['id'],'setpointId':_0x4b650a||'-','valveId':_0x5781f6||'-','source':_0x1c5e7b,'isManual':_0x44eaf4,'status':_0x4b650a&&_0x5781f6?'PERFECT':_0x4b650a?'OK':'Fehlt'});}return _0x860617[_0x197330(0x255)]((_0x1768f2,_0x322b74)=>_0x1768f2[_0x197330(0x1e4)][_0x197330(0x227)](_0x322b74[_0x197330(0x1e4)]));}async function updateSchedulePreview(_0x46a3ec){const _0x4757c2=a1_0xd8c4e2;if(!_0x46a3ec[_0x4757c2(0x242)][_0x4757c2(0x235)]||!_0x46a3ec[_0x4757c2(0x242)][_0x4757c2(0x1ca)])return;let _0xa26634={};try{const _0xc1c636=await _0x46a3ec[_0x4757c2(0x1fd)](_0x4757c2(0x223));if(_0xc1c636&&_0xc1c636[_0x4757c2(0x217)])_0xa26634=JSON[_0x4757c2(0x1fe)](_0xc1c636[_0x4757c2(0x217)]);}catch(_0x87374a){}const _0x39476c=[],_0x1f205f=Date[_0x4757c2(0x236)](),_0x37e921=0x30*0x3c*0x3c*0x3e8;try{const _0x3af033=await _0x46a3ec[_0x4757c2(0x1b3)](_0x46a3ec[_0x4757c2(0x242)][_0x4757c2(0x1ca)]+_0x4757c2(0x1d0));if(!_0x3af033||!_0x3af033['val'])return;const _0x58acb2=JSON[_0x4757c2(0x1fe)](_0x3af033['val']),_0x10f536=_0x46a3ec[_0x4757c2(0x242)][_0x4757c2(0x254)]||[],_0x4481ef=_0x46a3ec[_0x4757c2(0x242)][_0x4757c2(0x1bd)]||[],_0x48e13a=new Set();_0x4481ef[_0x4757c2(0x1f5)](_0x2a01cf=>{const _0x1c4591=_0x4757c2;if(_0x2a01cf[_0x1c4591(0x1e8)])_0x48e13a[_0x1c4591(0x266)](_0x2a01cf['location']);});for(const _0x23cc09 of _0x58acb2){if(_0x23cc09[_0x4757c2(0x219)]&&_0x10f536[_0x4757c2(0x202)]>0x0&&!_0x10f536[_0x4757c2(0x23a)](_0x23cc09['_calName']))continue;const _0xe0be7d=_0x23cc09[_0x4757c2(0x20f)]||_0x23cc09[_0x4757c2(0x210)]||_0x23cc09['date'];if(!_0xe0be7d)continue;const _0x132cfb=new Date(_0xe0be7d),_0x3c385d=_0x132cfb[_0x4757c2(0x1c0)]();if(isNaN(_0x3c385d))continue;if(_0x3c385d<_0x1f205f)continue;if(_0x3c385d>_0x1f205f+_0x37e921)continue;const _0x289dc2=(_0x23cc09[_0x4757c2(0x258)]||_0x23cc09[_0x4757c2(0x238)]||'')[_0x4757c2(0x251)]();let _0x20d950=![],_0x3a2bde=[],_0x313bfa=_0x23cc09['event']||_0x23cc09[_0x4757c2(0x238)]||'Unbekannt';if(_0x289dc2['includes'](_0x4757c2(0x1c1))||_0x289dc2[_0x4757c2(0x23a)](_0x4757c2(0x26f))||_0x289dc2[_0x4757c2(0x23a)](_0x4757c2(0x1b7)))_0x20d950=!![],_0x3a2bde=Array[_0x4757c2(0x26e)](_0x48e13a);else for(const _0x5f57c2 of _0x48e13a){if(_0x289dc2[_0x4757c2(0x23a)](_0x5f57c2['toLowerCase']()))_0x3a2bde[_0x4757c2(0x200)](_0x5f57c2);}_0x3a2bde['length']>0x0&&_0x3a2bde[_0x4757c2(0x1f5)](_0x10e29e=>{const _0x7e7153=_0x4757c2;let _0x5d46a3=0x3c;if(_0x20d950){let _0x1f6d77=0x0;Object['values'](_0xa26634)[_0x7e7153(0x1f5)](_0x439031=>{if(_0x439031>_0x1f6d77)_0x1f6d77=_0x439031;}),_0x5d46a3=_0x1f6d77>0x0?_0x1f6d77:0x78;}else _0x5d46a3=getWarmupRobust(_0xa26634,_0x10e29e);const _0x4a60b8=new Date(_0x3c385d-_0x5d46a3*0xea60);_0x39476c[_0x7e7153(0x200)]({'eventTime':_0x3c385d,'triggerTime':_0x4a60b8[_0x7e7153(0x1c0)](),'room':_0x10e29e,'minutes':_0x5d46a3,'reason':_0x313bfa,'isGlobal':_0x20d950});});}}catch(_0x4b51bf){}_0x39476c[_0x4757c2(0x255)]((_0x4390c2,_0x53884a)=>_0x4390c2[_0x4757c2(0x1b5)]-_0x53884a[_0x4757c2(0x1b5)]);const _0x5142f3=_0x39476c['slice'](0x0,0x5);await _0x46a3ec[_0x4757c2(0x244)]('analysis.energy.schedulePreview',{'val':JSON[_0x4757c2(0x1f4)](_0x5142f3),'ack':!![]});}async function monitorEnforcements(_0x3e3a7e){const _0x4e746b=a1_0xd8c4e2;try{const _0xaa16b3=_0x4e746b(0x220),_0x3982a2=await _0x3e3a7e[_0x4e746b(0x1fd)](_0xaa16b3);if(!_0x3982a2||!_0x3982a2[_0x4e746b(0x217)])return;let _0x4f476c=[];try{_0x4f476c=JSON['parse'](_0x3982a2[_0x4e746b(0x217)]);}catch(_0x3798e2){return;}if(!Array[_0x4e746b(0x264)](_0x4f476c)||_0x4f476c[_0x4e746b(0x202)]===0x0)return;const _0x173b41=Date[_0x4e746b(0x236)](),_0x573793=_0x3e3a7e[_0x4e746b(0x242)][_0x4e746b(0x1bd)]||[];let _0xa9cd7a=![];for(let _0x28ce3f=_0x4f476c[_0x4e746b(0x202)]-0x1;_0x28ce3f>=0x0;_0x28ce3f--){const _0x1740f2=_0x4f476c[_0x28ce3f];if(_0x173b41>=_0x1740f2[_0x4e746b(0x205)]){_0x3e3a7e[_0x4e746b(0x1cd)][_0x4e746b(0x1b2)](_0x4e746b(0x212)+_0x1740f2['room']+_0x4e746b(0x21f)),_0x4f476c[_0x4e746b(0x21a)](_0x28ce3f,0x1),_0xa9cd7a=!![];continue;}const _0x184623=_0x573793[_0x4e746b(0x222)](_0xd89b2a=>normalize(_0xd89b2a['location'])===normalize(_0x1740f2[_0x4e746b(0x1e4)])&&(_0xd89b2a[_0x4e746b(0x23f)]==='temperature'||_0xd89b2a['type']===_0x4e746b(0x1fc)));if(_0x184623){const _0x4965f8=await findRelatedId(_0x3e3a7e,_0x184623['id'],'setpoint');if(_0x4965f8){const _0xbb481c=await _0x3e3a7e['getForeignStateAsync'](_0x4965f8);_0xbb481c&&typeof _0xbb481c[_0x4e746b(0x217)]===_0x4e746b(0x1c5)&&(_0xbb481c[_0x4e746b(0x217)]<0xf&&(_0x3e3a7e['log'][_0x4e746b(0x201)]('üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x1740f2[_0x4e746b(0x1e4)]+'\x20auf\x20'+_0xbb481c[_0x4e746b(0x217)]+_0x4e746b(0x25b)+_0x1740f2[_0x4e746b(0x1e2)]+'¬∞C.'),await _0x3e3a7e[_0x4e746b(0x1ba)](_0x4965f8,_0x1740f2['target']),await logAutomationAction(_0x3e3a7e,_0x4e746b(0x1be)+_0x1740f2[_0x4e746b(0x1e4)]+':\x20'+_0xbb481c[_0x4e746b(0x217)]+_0x4e746b(0x24c)+_0x1740f2[_0x4e746b(0x1e2)]+_0x4e746b(0x20d))));}}}_0xa9cd7a&&await _0x3e3a7e['setStateAsync'](_0xaa16b3,{'val':JSON[_0x4e746b(0x1f4)](_0x4f476c),'ack':!![]});}catch(_0x44a3c8){_0x3e3a7e[_0x4e746b(0x1cd)][_0x4e746b(0x247)]('Enforcement\x20Monitor\x20Error:\x20'+_0x44a3c8['message']);}}async function checkCalendarTriggers(_0x4d91ee){const _0x10b3bd=a1_0xd8c4e2;if(!_0x4d91ee[_0x10b3bd(0x242)][_0x10b3bd(0x235)]||!_0x4d91ee[_0x10b3bd(0x242)][_0x10b3bd(0x1ca)])return;await updateSchedulePreview(_0x4d91ee);let _0x495e37={},_0x2e9ea1={};try{const _0x627358=await _0x4d91ee[_0x10b3bd(0x1fd)](_0x10b3bd(0x223));if(_0x627358&&_0x627358[_0x10b3bd(0x217)])_0x495e37=JSON[_0x10b3bd(0x1fe)](_0x627358[_0x10b3bd(0x217)]);const _0x1dfd2d=await _0x4d91ee[_0x10b3bd(0x1fd)](_0x10b3bd(0x1cf));if(_0x1dfd2d&&_0x1dfd2d[_0x10b3bd(0x217)])_0x2e9ea1=JSON[_0x10b3bd(0x1fe)](_0x1dfd2d[_0x10b3bd(0x217)]);}catch(_0xd2139c){}let _0x2711ef={'default':0x15};try{const _0x4d73ff=await _0x4d91ee[_0x10b3bd(0x1fd)](_0x10b3bd(0x1c7));if(_0x4d73ff&&_0x4d73ff[_0x10b3bd(0x217)])_0x2711ef=JSON[_0x10b3bd(0x1fe)](_0x4d73ff[_0x10b3bd(0x217)]);}catch(_0x24def7){}let _0x4ded27=[];try{const _0xdb6cd3=await _0x4d91ee[_0x10b3bd(0x1fd)](_0x10b3bd(0x220));if(_0xdb6cd3&&_0xdb6cd3['val'])_0x4ded27=JSON[_0x10b3bd(0x1fe)](_0xdb6cd3[_0x10b3bd(0x217)]);}catch(_0xadee70){}try{const _0x55ac12=await _0x4d91ee[_0x10b3bd(0x1b3)](_0x4d91ee[_0x10b3bd(0x242)][_0x10b3bd(0x1ca)]+_0x10b3bd(0x1d0));if(!_0x55ac12||!_0x55ac12[_0x10b3bd(0x217)])return;const _0x4ee6a8=JSON[_0x10b3bd(0x1fe)](_0x55ac12['val']),_0x30d4a1=Date[_0x10b3bd(0x236)](),_0x4011b3=_0x4d91ee[_0x10b3bd(0x242)][_0x10b3bd(0x1bd)]||[],_0x2bf587=_0x4d91ee[_0x10b3bd(0x242)][_0x10b3bd(0x254)]||[];let _0x42317a=![];for(const _0x6e8363 of _0x4ee6a8){if(_0x6e8363[_0x10b3bd(0x219)]&&_0x2bf587[_0x10b3bd(0x202)]>0x0&&!_0x2bf587[_0x10b3bd(0x23a)](_0x6e8363[_0x10b3bd(0x219)]))continue;const _0xf36656=_0x6e8363[_0x10b3bd(0x20f)]||_0x6e8363[_0x10b3bd(0x210)]||_0x6e8363['date'];if(!_0xf36656)continue;const _0x561529=new Date(_0xf36656);if(isNaN(_0x561529[_0x10b3bd(0x1c0)]()))continue;const _0x2ee54b=(_0x6e8363[_0x10b3bd(0x258)]||_0x6e8363[_0x10b3bd(0x238)]||'')['toLowerCase']();if(_0x2ee54b[_0x10b3bd(0x23a)]('urlaub\x20ende')||_0x2ee54b[_0x10b3bd(0x23a)]('r√ºckkehr')||_0x2ee54b['includes'](_0x10b3bd(0x1b7))){let _0x43f60c=0x0;Object['values'](_0x495e37)[_0x10b3bd(0x1f5)](_0x5dd8a4=>{if(_0x5dd8a4>_0x43f60c)_0x43f60c=_0x5dd8a4;});if(_0x43f60c===0x0)_0x43f60c=0x78;const _0x4ac02d=_0x561529[_0x10b3bd(0x1c0)]()-_0x43f60c*0xea60;_0x30d4a1>=_0x4ac02d&&_0x30d4a1<_0x561529[_0x10b3bd(0x1c0)]()&&(_0x4d91ee[_0x10b3bd(0x229)]!=='normal'&&(_0x4d91ee[_0x10b3bd(0x1cd)]['info']('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x43f60c+_0x10b3bd(0x1fb)),await _0x4d91ee['setStateAsync'](_0x10b3bd(0x26d),{'val':_0x10b3bd(0x1e7),'ack':![]})));}for(const _0x415b3b of _0x4011b3){if(_0x415b3b['location']){const _0x546e7f=_0x415b3b[_0x10b3bd(0x1e8)][_0x10b3bd(0x251)](),_0x31378a=(_0x415b3b[_0x10b3bd(0x1bc)]||'')[_0x10b3bd(0x251)]();let _0x2696a8=_0x2ee54b[_0x10b3bd(0x23a)](_0x546e7f);!_0x2696a8&&_0x31378a['length']>0x3&&_0x2ee54b[_0x10b3bd(0x23a)](_0x31378a)&&(_0x2696a8=!![]);if(_0x2696a8){const _0x92115d=getWarmupRobust(_0x495e37,_0x415b3b[_0x10b3bd(0x1e8)]),_0x147002=_0x2e9ea1[_0x415b3b[_0x10b3bd(0x1e8)]]||'Classic',_0x33f77c=_0x561529[_0x10b3bd(0x1c0)]()-_0x92115d*0xea60;if(_0x30d4a1>=_0x33f77c&&_0x30d4a1<_0x561529[_0x10b3bd(0x1c0)]()){const _0x2a53f6=lastActions[_0x10b3bd(0x226)+_0x415b3b[_0x10b3bd(0x1e8)]];if(_0x2a53f6&&_0x30d4a1-_0x2a53f6<CAL_COOLDOWN_MS)continue;const _0x52efaa=await findRelatedId(_0x4d91ee,_0x415b3b['id'],_0x10b3bd(0x1f1));if(_0x52efaa){let _0x4cce8e=_0x2711ef[_0x415b3b['location']];if(_0x4cce8e===undefined)_0x4cce8e=_0x2711ef['default'];if(_0x4cce8e===undefined)_0x4cce8e=0x15;const _0x5dc244=await _0x4d91ee[_0x10b3bd(0x1b3)](_0x52efaa);if(_0x5dc244&&typeof _0x5dc244[_0x10b3bd(0x217)]===_0x10b3bd(0x1c5)&&_0x5dc244[_0x10b3bd(0x217)]<_0x4cce8e-0.5){_0x4d91ee[_0x10b3bd(0x1cd)][_0x10b3bd(0x1b2)](_0x10b3bd(0x1d7)+_0x147002+_0x10b3bd(0x250)+_0x415b3b[_0x10b3bd(0x1e8)]+'\x27\x20(Match:\x20'+_0x2ee54b+')\x20aktiv.\x20Heize\x20auf\x20'+_0x4cce8e+'¬∞C\x20(Vorlauf:\x20'+_0x92115d+'\x20min).'),await _0x4d91ee[_0x10b3bd(0x1ba)](_0x52efaa,_0x4cce8e),await logAutomationAction(_0x4d91ee,'[CAL]\x20'+_0x415b3b[_0x10b3bd(0x1e8)]+_0x10b3bd(0x25c)+_0x4cce8e+_0x10b3bd(0x24a)+_0x147002+')'),lastActions[_0x10b3bd(0x226)+_0x415b3b['location']]=_0x30d4a1;const _0x57ed89=_0x4ded27['findIndex'](_0x4d8147=>_0x4d8147[_0x10b3bd(0x1e4)]===_0x415b3b['location']);if(_0x57ed89!==-0x1)_0x4ded27[_0x10b3bd(0x21a)](_0x57ed89,0x1);_0x4ded27['push']({'room':_0x415b3b[_0x10b3bd(0x1e8)],'target':_0x4cce8e,'until':_0x561529[_0x10b3bd(0x1c0)]()}),_0x42317a=!![];}}}}}}}_0x42317a&&await _0x4d91ee['setStateAsync'](_0x10b3bd(0x220),{'val':JSON['stringify'](_0x4ded27),'ack':!![]});}catch(_0x2fe4f3){_0x4d91ee[_0x10b3bd(0x1cd)]['warn']('Calendar\x20Check\x20Error:\x20'+_0x2fe4f3[_0x10b3bd(0x1ce)]);}}async function manageMpcIntervention(_0x1c8c53,_0x1e2bd5,_0x37267b){const _0x472eda=a1_0xd8c4e2;try{const _0xa795aa='analysis.energy.mpcActiveInterventions',_0x37b1db=await _0x1c8c53[_0x472eda(0x1fd)](_0xa795aa);let _0x11fdf3=[];if(_0x37b1db&&_0x37b1db[_0x472eda(0x217)])try{_0x11fdf3=JSON[_0x472eda(0x1fe)](_0x37b1db[_0x472eda(0x217)]);}catch(_0x4bd631){}const _0x121a5b=_0x11fdf3[_0x472eda(0x243)](_0x1e2bd5);if(_0x37267b==='add')_0x121a5b===-0x1&&(_0x11fdf3[_0x472eda(0x200)](_0x1e2bd5),await _0x1c8c53[_0x472eda(0x244)](_0xa795aa,{'val':JSON[_0x472eda(0x1f4)](_0x11fdf3),'ack':!![]}));else _0x37267b===_0x472eda(0x1ea)&&(_0x121a5b!==-0x1&&(_0x11fdf3[_0x472eda(0x21a)](_0x121a5b,0x1),await _0x1c8c53['setStateAsync'](_0xa795aa,{'val':JSON[_0x472eda(0x1f4)](_0x11fdf3),'ack':!![]})));}catch(_0x3a1a7f){}}async function cleanupGhostInterventions(_0x3b31ab){const _0x55da38=a1_0xd8c4e2;try{const _0x19132b=_0x55da38(0x22b),_0x232ef6=await _0x3b31ab['getStateAsync'](_0x19132b);if(!_0x232ef6||!_0x232ef6['val'])return;const _0x5764ec=JSON[_0x55da38(0x1fe)](_0x232ef6['val']);if(!Array['isArray'](_0x5764ec)||_0x5764ec[_0x55da38(0x202)]===0x0)return;let _0x40c22f={'default':0x15};try{const _0x54abad=await _0x3b31ab['getStateAsync'](_0x55da38(0x1c7));if(_0x54abad&&_0x54abad[_0x55da38(0x217)])_0x40c22f=JSON[_0x55da38(0x1fe)](_0x54abad[_0x55da38(0x217)]);}catch(_0x52dc4e){}let _0x30cc8c=[];try{const _0x1f30ba=await _0x3b31ab[_0x55da38(0x1fd)](_0x55da38(0x259));if(_0x1f30ba&&_0x1f30ba[_0x55da38(0x217)])_0x30cc8c=JSON[_0x55da38(0x1fe)](_0x1f30ba[_0x55da38(0x217)]);}catch(_0x1ad1b9){}let _0x18398c={},_0x4377fc=![];try{const _0x221da2=await _0x3b31ab['getStateAsync'](_0x55da38(0x237));if(_0x221da2&&_0x221da2[_0x55da38(0x217)])_0x18398c=JSON[_0x55da38(0x1fe)](_0x221da2[_0x55da38(0x217)]);}catch(_0x4a0434){}if(_0x18398c['_meta']){const _0x4c0c86=Date[_0x55da38(0x236)]();for(const [_0x30a68c,_0x3f0bd2]of Object[_0x55da38(0x1dc)](_0x18398c[_0x55da38(0x23c)])){_0x4c0c86-_0x3f0bd2>PENALTY_TTL&&(delete _0x18398c[_0x30a68c],delete _0x18398c['_meta'][_0x30a68c],_0x4377fc=!![],_0x3b31ab[_0x55da38(0x1cd)][_0x55da38(0x1b2)](_0x55da38(0x1d8)+_0x30a68c+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x56fb4b=_0x3b31ab['config']['devices']||[];let _0x261a3c=![];for(let _0x34fdf0=_0x5764ec['length']-0x1;_0x34fdf0>=0x0;_0x34fdf0--){const _0x22bb9f=_0x5764ec[_0x34fdf0],_0xbbf73b=_0x56fb4b[_0x55da38(0x222)](_0x110efe=>normalize(_0x110efe['location'])===normalize(_0x22bb9f)&&(_0x110efe[_0x55da38(0x23f)]==='temperature'||_0x110efe[_0x55da38(0x23f)]===_0x55da38(0x1fc)));if(!_0xbbf73b){_0x3b31ab[_0x55da38(0x1cd)]['warn']('üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x22bb9f+_0x55da38(0x208)),_0x5764ec['splice'](_0x34fdf0,0x1),_0x261a3c=!![];continue;}if(_0xbbf73b){const _0x4cf37d=await findRelatedId(_0x3b31ab,_0xbbf73b['id'],_0x55da38(0x1f1)),_0x1df440=await _0x3b31ab[_0x55da38(0x1b3)](_0xbbf73b['id']);if(_0x4cf37d){const _0x121fcd=await _0x3b31ab['getForeignStateAsync'](_0x4cf37d);if(_0x121fcd&&typeof _0x121fcd['val']===_0x55da38(0x1c5)){let _0x512fee=![],_0x149404='';Math[_0x55da38(0x253)](_0x121fcd['val']-ECO_TEMP)>0.5&&(_0x512fee=!![],_0x149404=_0x55da38(0x1ff));if(!_0x512fee&&_0x1df440&&typeof _0x1df440[_0x55da38(0x217)]==='number'){const _0x2a6f1d=_0x40c22f[_0x22bb9f]||_0x40c22f[_0x55da38(0x248)]||0x15;_0x1df440[_0x55da38(0x217)]<_0x2a6f1d+0.2&&(_0x512fee=!![],_0x149404=_0x55da38(0x214));}if(_0x512fee){if(_0x149404===_0x55da38(0x1ff)){_0x3b31ab[_0x55da38(0x1cd)][_0x55da38(0x1b2)](_0x55da38(0x206)+_0x22bb9f+_0x55da38(0x22e)+_0x121fcd[_0x55da38(0x217)]+_0x55da38(0x218)+ECO_TEMP+_0x55da38(0x225));const _0x508cbb=lastActions[_0x55da38(0x226)+_0x22bb9f],_0x1a895a=_0x508cbb&&Date[_0x55da38(0x236)]()-_0x508cbb<0x2*0x3c*0x3e8;if(!_0x1a895a&&_0x121fcd['val']>ECO_TEMP+0.5){_0x3b31ab[_0x55da38(0x1c4)]&&(_0x3b31ab[_0x55da38(0x1cd)][_0x55da38(0x1b2)](_0x55da38(0x257)+_0x22bb9f+'\x20wurde\x20manuell\x20erh√∂ht.'),_0x3b31ab['sendToPythonWrapper'](_0x55da38(0x224),{'room':_0x22bb9f}));const _0x35011f=_0x22bb9f+'_'+new Date()[_0x55da38(0x24e)]();if(!_0x18398c[_0x35011f]){_0x18398c[_0x35011f]=0x1;if(!_0x18398c['_meta'])_0x18398c[_0x55da38(0x23c)]={};_0x18398c[_0x55da38(0x23c)][_0x35011f]=Date[_0x55da38(0x236)](),_0x4377fc=!![];}}else _0x1a895a&&_0x3b31ab[_0x55da38(0x1cd)][_0x55da38(0x1b2)]('üìÖ\x20[MPC\x20INFO]\x20'+_0x22bb9f+_0x55da38(0x1f6));}else{if(_0x149404==='too_cold'){let _0x449426=![];if(_0x30cc8c[_0x55da38(0x222)](_0x1c4e0e=>_0x1c4e0e[_0x55da38(0x1e4)]===_0x22bb9f))_0x449426=!![];const _0x2ebbb4=_0x56fb4b[_0x55da38(0x1d9)](_0x503825=>normalize(_0x503825[_0x55da38(0x1e8)])===normalize(_0x22bb9f)&&(_0x503825['type']===_0x55da38(0x23b)||_0x503825[_0x55da38(0x23f)]===_0x55da38(0x1db)||_0x503825[_0x55da38(0x23f)]===_0x55da38(0x216)));for(const _0x232623 of _0x2ebbb4){try{const _0x57fdd3=await _0x3b31ab['getForeignStateAsync'](_0x232623['id']);if(_0x57fdd3&&(_0x57fdd3[_0x55da38(0x217)]===!![]||_0x57fdd3[_0x55da38(0x217)]===0x1||String(_0x57fdd3[_0x55da38(0x217)])['toLowerCase']()===_0x55da38(0x1e5)))_0x449426=!![];}catch(_0x2180aa){}}if(_0x449426)_0x3b31ab[_0x55da38(0x1cd)][_0x55da38(0x1b2)]('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x22bb9f+_0x55da38(0x1ec));else{const _0x311397=_0x40c22f[_0x22bb9f]||_0x40c22f[_0x55da38(0x248)]||0x15;_0x3b31ab[_0x55da38(0x1cd)][_0x55da38(0x1b2)](_0x55da38(0x21d)+_0x22bb9f+'\x20erreicht\x20Limit\x20('+_0x1df440[_0x55da38(0x217)]+_0x55da38(0x21b)+(_0x311397+0.2)+_0x55da38(0x230)),await _0x3b31ab[_0x55da38(0x1ba)](_0x4cf37d,_0x311397),await logAutomationAction(_0x3b31ab,_0x55da38(0x228)+_0x22bb9f+_0x55da38(0x1ef)+_0x311397+'¬∞C'),lastActions['rescue_'+_0x22bb9f]=Date[_0x55da38(0x236)]();}}}_0x5764ec[_0x55da38(0x21a)](_0x34fdf0,0x1),_0x261a3c=!![];}}}}}_0x261a3c&&await _0x3b31ab[_0x55da38(0x244)](_0x19132b,{'val':JSON[_0x55da38(0x1f4)](_0x5764ec),'ack':!![]}),_0x4377fc&&await _0x3b31ab[_0x55da38(0x244)](_0x55da38(0x237),{'val':JSON[_0x55da38(0x1f4)](_0x18398c),'ack':!![]});}catch(_0x447353){}}async function applyEnergySavings(_0x4066b4,_0x19696e){const _0x49dd37=a1_0xd8c4e2;await cleanupGhostInterventions(_0x4066b4);if(!_0x19696e||_0x19696e[_0x49dd37(0x202)]===0x0)return;const _0x2706cd=_0x4066b4['config']['devices']||[],_0x3fc661=Date[_0x49dd37(0x236)]();for(const _0x5267ce of _0x19696e){const _0xd135da=_0x5267ce[_0x49dd37(0x1e4)],_0x4474a9=_0x5267ce[_0x49dd37(0x1ee)],_0x2674cd=_0x5267ce[_0x49dd37(0x1e2)]||0x15;if(lastActions['rescue_'+_0xd135da]&&_0x3fc661-lastActions['rescue_'+_0xd135da]<RESCUE_LOCK_MS)continue;const _0x30cb65=_0x2706cd[_0x49dd37(0x222)](_0xc6dcd1=>normalize(_0xc6dcd1[_0x49dd37(0x1e8)])===normalize(_0xd135da)&&(_0xc6dcd1[_0x49dd37(0x23f)]===_0x49dd37(0x233)||_0xc6dcd1['type']==='thermostat'));if(!_0x30cb65)continue;const _0x187158=await findRelatedId(_0x4066b4,_0x30cb65['id'],'setpoint');if(_0x187158){if(lastActions['mpc_'+_0xd135da]&&_0x3fc661-lastActions[_0x49dd37(0x240)+_0xd135da]<0x1e*0x3c*0x3e8)continue;const _0x564404=await _0x4066b4['getForeignStateAsync'](_0x187158);if(_0x564404&&typeof _0x564404[_0x49dd37(0x217)]===_0x49dd37(0x1c5)){const _0x27356e=_0x564404[_0x49dd37(0x217)];_0x27356e!==ECO_TEMP&&await manageMpcIntervention(_0x4066b4,_0xd135da,_0x49dd37(0x1ea));if(_0x4474a9>0x1e)_0x27356e>ECO_TEMP+0.5&&(_0x4066b4['log'][_0x49dd37(0x1b2)](_0x49dd37(0x24f)+_0xd135da+'\x20auf\x20'+ECO_TEMP+_0x49dd37(0x1fa)+_0x4474a9+_0x49dd37(0x1e9)),await _0x4066b4[_0x49dd37(0x1ba)](_0x187158,ECO_TEMP),await manageMpcIntervention(_0x4066b4,_0xd135da,_0x49dd37(0x266)),lastActions[_0x49dd37(0x240)+_0xd135da]=_0x3fc661,await logAutomationAction(_0x4066b4,'[MPC]\x20'+_0xd135da+_0x49dd37(0x1f7)+ECO_TEMP+'¬∞C'));else _0x4474a9<=0xf&&(_0x27356e<_0x2674cd&&(_0x4066b4[_0x49dd37(0x1cd)]['info'](_0x49dd37(0x1df)+_0xd135da+'\x20wieder\x20auf\x20'+_0x2674cd+_0x49dd37(0x1c8)),await _0x4066b4[_0x49dd37(0x1ba)](_0x187158,_0x2674cd),await manageMpcIntervention(_0x4066b4,_0xd135da,_0x49dd37(0x1ea)),lastActions[_0x49dd37(0x240)+_0xd135da]=_0x3fc661,await logAutomationAction(_0x4066b4,_0x49dd37(0x1d2)+_0xd135da+_0x49dd37(0x21e)+_0x2674cd+'¬∞C')));}}else _0x4066b4['log']['warn'](_0x49dd37(0x24d)+_0xd135da+'\x20gefunden!');}}module[a1_0xd8c4e2(0x256)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};function a1_0x5652(){const _0xf1f7ae=['\x20->\x20','actual','score','off','4798563kydNOq','consultButler','level.temperature','soll','isArray','8104761UVUaom','add','openknx','109255pCVCQv','string','switch','value.valve','getForeignObjectsAsync','system.mode','from','r√ºckkehr','145696lOBZeV','info','getForeignStateAsync','1754931qDdgOq','triggerTime','.1.LEVEL','ankunft','thermostat.setpoint','map','setForeignStateAsync','.1.SET_POINT_TEMPERATURE','name','devices','[FORCE]\x20','local_temperature','getTime','urlaub\x20ende','analysis.automation.confidenceThreshold','266cQgQpB','sendToPythonWrapper','number','./ai_agent','analysis.energy.warmupTargets','¬∞C!\x20(Puffer\x20leer).','thermostatMapping','calendarInstance','pi_heating_demand','Auto-Erkennung','log','message','analysis.energy.warmupSources','.data.table','unit','[MPC]\x20','862729rJhIEA','getForeignObjectAsync','valve_position','Nicht\x20gefunden','üìÖ\x20SMART\x20SCHEDULE\x20[','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','filter','write','sensor','entries','150cHymfd','reason','üî•\x20[MPC\x20ACTION]\x20Heize\x20','stellwert','Pr√§diktion:\x20','target','\x20->\x20Schalte\x20','room','open','split','normal','location','\x20min)','remove','2vQBVBQ','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','(((.+)+)+)+$','minutes_safe',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','messwert','setpoint','dimmer','join','stringify','forEach','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.',':\x20Absenkung\x20auf\x20','current_heating_setpoint','unshift','¬∞C!\x20(Puffer:\x20','\x20min).','thermostat','getStateAsync','parse','manual','push','warn','length','target_temperature','.1.TEMPERATURE','until','üßπ\x20[MPC\x20CLEANUP]\x20','role','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','trim','state','temp','valveMapping','¬∞C\x20(Kalender-Schutz)','ACTUAL_TEMPERATURE','_date','eventStart','level','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','.4.SET_TEMPERATURE','too_cold','active','contact','val','¬∞C\x20(nicht\x20','_calName','splice','¬∞C\x20<\x20','Soll','üö®\x20[MPC\x20WATCHDOG]\x20',':\x20Aufheizen\x20auf\x20','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','analysis.energy.activeEnforcements','analysis.automation.lastAction','find','analysis.energy.warmupTimes','TRAIN_RL_PENALTY','¬∞C).\x20Entferne\x20Status.','cal_','localeCompare','[WATCHDOG]\x20','currentSystemMode','replace','analysis.energy.mpcActiveInterventions','SET_POINT_TEMPERATURE','valve','\x20ist\x20auf\x20','80fbNYSu','¬∞C).\x20Sparmodus\x20beendet!','slice','2244368bElYKc','temperature','light','useCalendar','now','analysis.energy.rlPenalties','summary','common','includes','window','_meta','search','Manuelles\x20Mapping','type','mpc_','Unbekannt','config','indexOf','setStateAsync','hm-rpc','apply','error','default','analysis.automation.actionLog','¬∞C\x20(via\x20','ACTUAL','¬∞C\x20->\x20','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','getHours','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20',']:\x20Raum-Trigger\x20\x27','toLowerCase','analysis.automation.mode','abs','calendarSelection','sort','exports','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','event','analysis.energy.ventilationAlerts','toUpperCase','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20'];a1_0x5652=function(){return _0xf1f7ae;};return a1_0x5652();}