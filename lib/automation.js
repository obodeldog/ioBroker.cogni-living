const a1_0x37de83=a1_0xd65a;(function(_0x3b8ec9,_0x169914){const _0x245566=a1_0xd65a,_0x3d1599=_0x3b8ec9();while(!![]){try{const _0x3b44b5=-parseInt(_0x245566(0x157))/0x1*(parseInt(_0x245566(0x153))/0x2)+parseInt(_0x245566(0x163))/0x3+-parseInt(_0x245566(0x14e))/0x4+-parseInt(_0x245566(0x14b))/0x5*(parseInt(_0x245566(0x150))/0x6)+parseInt(_0x245566(0x164))/0x7+parseInt(_0x245566(0x161))/0x8*(parseInt(_0x245566(0x156))/0x9)+parseInt(_0x245566(0x16b))/0xa*(parseInt(_0x245566(0x155))/0xb);if(_0x3b44b5===_0x169914)break;else _0x3d1599['push'](_0x3d1599['shift']());}catch(_0x570d0f){_0x3d1599['push'](_0x3d1599['shift']());}}}(a1_0x5703,0x37be3));function a1_0xd65a(_0x894344,_0x1b3dbb){const _0x36d07d=a1_0x5703();return a1_0xd65a=function(_0x292769,_0x1ddda3){_0x292769=_0x292769-0x13c;let _0x570321=_0x36d07d[_0x292769];return _0x570321;},a1_0xd65a(_0x894344,_0x1b3dbb);}const a1_0x1ddda3=(function(){let _0x196d7b=!![];return function(_0x778e1a,_0x631b12){const _0x1e21d9=_0x196d7b?function(){const _0x1b7e8f=a1_0xd65a;if(_0x631b12){const _0x5d50a2=_0x631b12[_0x1b7e8f(0x160)](_0x778e1a,arguments);return _0x631b12=null,_0x5d50a2;}}:function(){};return _0x196d7b=![],_0x1e21d9;};}()),a1_0x292769=a1_0x1ddda3(this,function(){const _0x1f712f=a1_0xd65a;return a1_0x292769[_0x1f712f(0x140)]()['search'](_0x1f712f(0x141))[_0x1f712f(0x140)]()['constructor'](a1_0x292769)[_0x1f712f(0x15f)](_0x1f712f(0x141));});a1_0x292769();'use strict';function a1_0x5703(){const _0x2ff875=['info','light','getStateAsync','100gYYLOc','val','exports','1715436NIMmfL','\x20->\x20','12828RSmrZJ','reason','toLowerCase','3414VgaDPA','replace','11nKAatV','9rKMblK','201KDykMp','switch','./ai_agent','ðŸ¤–\x20Butler\x20Blocked:\x20','\x27\x20(norm:\x20\x27','analysis.automation.confidenceThreshold','âš¡\x20ACTION:\x20','\x20->\x20Schalte\x20','search','apply','1316688aCFQMw','off','755124ksxidj','2241953bRvFHa','log','toUpperCase','Unknown','consultButler','find','approved','3064760WQWKaj','[BLOCKED]\x20','config','debug','simulate','setForeignStateAsync','devices','toString','(((.+)+)+)+$','dimmer','name','setStateAsync','location','type','analysis.automation.lastAction'];a1_0x5703=function(){return _0x2ff875;};return a1_0x5703();}const aiAgent=require(a1_0x37de83(0x159)),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function normalize(_0x1d87c3){const _0x30bf1e=a1_0x37de83;if(!_0x1d87c3)return'';return _0x1d87c3[_0x30bf1e(0x152)]()[_0x30bf1e(0x154)](/\s+/g,'')['trim']();}async function handlePrediction(_0x3e0a9d,_0x1bebc0,_0x4455d7){const _0x283943=a1_0x37de83;if(!_0x1bebc0||_0x1bebc0===_0x283943(0x167))return;let _0x546022=_0x283943(0x162),_0x207189=0.6;try{const _0x4443fa=await _0x3e0a9d['getStateAsync']('analysis.automation.mode');if(_0x4443fa&&_0x4443fa['val'])_0x546022=_0x4443fa[_0x283943(0x14c)];const _0x15f1b6=await _0x3e0a9d[_0x283943(0x14a)](_0x283943(0x15c));if(_0x15f1b6&&_0x15f1b6[_0x283943(0x14c)])_0x207189=_0x15f1b6[_0x283943(0x14c)];}catch(_0x371c7a){}if(_0x546022===_0x283943(0x162))return;if(_0x4455d7<_0x207189)return;const _0x317dd7=Date['now']();if(lastActions[_0x1bebc0]&&_0x317dd7-lastActions[_0x1bebc0]<COOLDOWN_MS)return;const _0xdd3197=_0x3e0a9d[_0x283943(0x16d)][_0x283943(0x13f)]||[],_0x1ca7c0=normalize(_0x1bebc0),_0x58765c=_0xdd3197[_0x283943(0x169)](_0x13304d=>{const _0x16f84a=_0x283943;return normalize(_0x13304d[_0x16f84a(0x145)])===_0x1ca7c0&&(_0x13304d[_0x16f84a(0x146)]===_0x16f84a(0x149)||_0x13304d[_0x16f84a(0x146)]===_0x16f84a(0x142)||_0x13304d[_0x16f84a(0x146)]===_0x16f84a(0x158));});if(!_0x58765c){const _0x3b8109='ðŸ”\x20Device-Search\x20failed:\x20Predicted\x20\x27'+_0x1bebc0+_0x283943(0x15b)+_0x1ca7c0+'\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.';_0x3e0a9d[_0x283943(0x165)][_0x283943(0x13c)](_0x3b8109);return;}const _0x418d1b=await aiAgent[_0x283943(0x168)](_0x3e0a9d,_0x1bebc0,_0x58765c[_0x283943(0x143)],_0x4455d7);if(!_0x418d1b[_0x283943(0x16a)]){_0x3e0a9d[_0x283943(0x165)][_0x283943(0x13c)](_0x283943(0x15a)+_0x1bebc0+_0x283943(0x14f)+_0x418d1b[_0x283943(0x151)]),await _0x3e0a9d[_0x283943(0x144)](_0x283943(0x147),{'val':_0x283943(0x16c)+_0x418d1b[_0x283943(0x151)],'ack':!![]});return;}const _0x275dfd='PrÃ¤diktion:\x20'+_0x1bebc0+_0x283943(0x15e)+_0x58765c[_0x283943(0x143)]+'\x20('+_0x418d1b['reason']+')';await _0x3e0a9d[_0x283943(0x144)]('analysis.automation.lastAction',{'val':'['+_0x546022[_0x283943(0x166)]()+']\x20'+_0x275dfd,'ack':!![]});if(_0x546022===_0x283943(0x13d))_0x3e0a9d[_0x283943(0x165)][_0x283943(0x148)]('ðŸ‘€\x20SIMULATION:\x20'+_0x275dfd);else{if(_0x546022==='active'){_0x3e0a9d[_0x283943(0x165)]['info'](_0x283943(0x15d)+_0x275dfd);const _0x4bf88a=await _0x3e0a9d['getForeignStateAsync'](_0x58765c['id']);if(_0x4bf88a&&(_0x4bf88a[_0x283943(0x14c)]===!![]||_0x4bf88a[_0x283943(0x14c)]>0x0)){}else await _0x3e0a9d[_0x283943(0x13e)](_0x58765c['id'],!![]);lastActions[_0x1bebc0]=_0x317dd7;}}}module[a1_0x37de83(0x14d)]={'handlePrediction':handlePrediction};