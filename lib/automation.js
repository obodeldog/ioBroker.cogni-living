const a1_0x3ef08c=a1_0x369c;(function(_0x238a2d,_0xf11c5b){const _0x2083b6=a1_0x369c,_0x152976=_0x238a2d();while(!![]){try{const _0x16033d=-parseInt(_0x2083b6(0x156))/0x1*(-parseInt(_0x2083b6(0x196))/0x2)+-parseInt(_0x2083b6(0x154))/0x3+-parseInt(_0x2083b6(0x1b7))/0x4+parseInt(_0x2083b6(0x1cb))/0x5*(parseInt(_0x2083b6(0x13b))/0x6)+-parseInt(_0x2083b6(0x190))/0x7*(-parseInt(_0x2083b6(0x17a))/0x8)+parseInt(_0x2083b6(0x11f))/0x9*(-parseInt(_0x2083b6(0x175))/0xa)+parseInt(_0x2083b6(0x15e))/0xb;if(_0x16033d===_0xf11c5b)break;else _0x152976['push'](_0x152976['shift']());}catch(_0x4107b3){_0x152976['push'](_0x152976['shift']());}}}(a1_0x415d,0xe0fad));const a1_0x21eb69=(function(){let _0x4ce6d=!![];return function(_0x4b69f3,_0x6371a0){const _0x15c21b=_0x4ce6d?function(){const _0x12ab15=a1_0x369c;if(_0x6371a0){const _0x5ab4f7=_0x6371a0[_0x12ab15(0x19c)](_0x4b69f3,arguments);return _0x6371a0=null,_0x5ab4f7;}}:function(){};return _0x4ce6d=![],_0x15c21b;};}()),a1_0x279500=a1_0x21eb69(this,function(){const _0x9f7c14=a1_0x369c;return a1_0x279500['toString']()[_0x9f7c14(0x163)]('(((.+)+)+)+$')[_0x9f7c14(0x14e)]()[_0x9f7c14(0x123)](a1_0x279500)['search'](_0x9f7c14(0x1c1));});a1_0x279500();'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x2060fc){const _0x2a32b5=a1_0x369c;if(!_0x2060fc)return'';return _0x2060fc[_0x2a32b5(0x178)]()[_0x2a32b5(0x153)](/\s+/g,'')[_0x2a32b5(0x1be)]();}function getWarmupRobust(_0x2153dd,_0x39d782){const _0x5acdd8=a1_0x369c;if(!_0x2153dd||!_0x39d782)return 0x3c;if(_0x2153dd[_0x39d782]!==undefined)return _0x2153dd[_0x39d782];const _0x46c6cd=_0x39d782['toLowerCase']()['replace'](/√§/g,'ae')[_0x5acdd8(0x153)](/√∂/g,'oe')['replace'](/√º/g,'ue')[_0x5acdd8(0x153)](/√ü/g,'ss')[_0x5acdd8(0x153)](/\s+/g,'_')['replace'](/[^a-z0-9_]/g,'');if(_0x2153dd[_0x46c6cd]!==undefined)return _0x2153dd[_0x46c6cd];return 0x3c;}async function logAutomationAction(_0x52b902,_0x9fcf38){const _0x29846b=a1_0x369c;await _0x52b902['setStateAsync'](_0x29846b(0x1ae),{'val':_0x9fcf38,'ack':!![]});try{const _0x576c6e=_0x29846b(0x12b),_0x581036=await _0x52b902[_0x29846b(0x116)](_0x576c6e);let _0x13f13a=[];if(_0x581036&&_0x581036[_0x29846b(0x19e)])try{_0x13f13a=JSON[_0x29846b(0x1aa)](_0x581036['val']);}catch(_0x23b7b1){}_0x13f13a['unshift']({'ts':Date[_0x29846b(0x17e)](),'msg':_0x9fcf38});if(_0x13f13a[_0x29846b(0x11e)]>0x32)_0x13f13a=_0x13f13a[_0x29846b(0x195)](0x0,0x32);await _0x52b902[_0x29846b(0x14f)](_0x576c6e,{'val':JSON[_0x29846b(0x18a)](_0x13f13a),'ack':!![]});}catch(_0x364d2f){}}function a1_0x369c(_0x39d3bc,_0x49e4d9){const _0x125c94=a1_0x415d();return a1_0x369c=function(_0x279500,_0x21eb69){_0x279500=_0x279500-0x10b;let _0x415d11=_0x125c94[_0x279500];return _0x415d11;},a1_0x369c(_0x39d3bc,_0x49e4d9);}async function handlePrediction(_0x1a292d,_0x231b88,_0x4382c3){const _0x2ee841=a1_0x369c;if(!_0x231b88||_0x231b88===_0x2ee841(0x1a0))return;let _0x15c096=_0x2ee841(0x111),_0x4f1f50=0.6;try{const _0x3e303a=await _0x1a292d[_0x2ee841(0x116)](_0x2ee841(0x15d));if(_0x3e303a&&_0x3e303a[_0x2ee841(0x19e)])_0x15c096=_0x3e303a[_0x2ee841(0x19e)];const _0x3bb7c5=await _0x1a292d['getStateAsync']('analysis.automation.confidenceThreshold');if(_0x3bb7c5&&_0x3bb7c5[_0x2ee841(0x19e)])_0x4f1f50=_0x3bb7c5[_0x2ee841(0x19e)];}catch(_0x2050bd){}if(_0x15c096===_0x2ee841(0x111)||_0x4382c3<_0x4f1f50)return;const _0x25f63e=Date[_0x2ee841(0x17e)]();if(lastActions[_0x231b88]&&_0x25f63e-lastActions[_0x231b88]<COOLDOWN_MS)return;const _0x49228a=_0x1a292d[_0x2ee841(0x17c)][_0x2ee841(0x18d)]||[],_0x66bcb9=normalize(_0x231b88),_0xd0ad59=_0x49228a[_0x2ee841(0x1a3)](_0x91799a=>normalize(_0x91799a[_0x2ee841(0x1c8)])===_0x66bcb9&&(_0x91799a['type']===_0x2ee841(0x179)||_0x91799a['type']===_0x2ee841(0x146)||_0x91799a[_0x2ee841(0x1c4)]===_0x2ee841(0x135)));if(!_0xd0ad59)return;const _0x232e91=await aiAgent[_0x2ee841(0x1c9)](_0x1a292d,_0x231b88,_0xd0ad59[_0x2ee841(0x126)],_0x4382c3);if(!_0x232e91[_0x2ee841(0x187)])return;const _0x1d3ed3=_0x2ee841(0x182)+_0x231b88+_0x2ee841(0x1a1)+_0xd0ad59[_0x2ee841(0x126)]+'\x20('+_0x232e91[_0x2ee841(0x1a2)]+')';await logAutomationAction(_0x1a292d,'['+_0x15c096[_0x2ee841(0x158)]()+']\x20'+_0x1d3ed3);if(_0x15c096==='active'){const _0x50ed9a=await _0x1a292d[_0x2ee841(0x139)](_0xd0ad59['id']);(!_0x50ed9a||!_0x50ed9a[_0x2ee841(0x19e)]&&_0x50ed9a['val']!==!![])&&await _0x1a292d[_0x2ee841(0x148)](_0xd0ad59['id'],!![]),lastActions[_0x231b88]=_0x25f63e;}}async function findRelatedId(_0x509a9e,_0x3f1ac3,_0x89b04a='setpoint'){const _0x5be56c=a1_0x369c;if(_0x89b04a==='setpoint'&&_0x509a9e[_0x5be56c(0x17c)][_0x5be56c(0x127)]){let _0x4e93cc=_0x509a9e[_0x5be56c(0x17c)][_0x5be56c(0x127)];if(typeof _0x4e93cc==='string')try{_0x4e93cc=JSON['parse'](_0x4e93cc);}catch(_0x3ccf8f){}if(_0x4e93cc&&_0x4e93cc[_0x3f1ac3])return _0x4e93cc[_0x3f1ac3];}if(_0x89b04a===_0x5be56c(0x15a)&&_0x509a9e[_0x5be56c(0x17c)]['valveMapping']){let _0xc9dba9=_0x509a9e[_0x5be56c(0x17c)][_0x5be56c(0x19d)];if(typeof _0xc9dba9===_0x5be56c(0x16a))try{_0xc9dba9=JSON[_0x5be56c(0x1aa)](_0xc9dba9);}catch(_0xea142a){}if(_0xc9dba9&&_0xc9dba9[_0x3f1ac3])return _0xc9dba9[_0x3f1ac3];}let _0x3d6058=[];if(_0x89b04a===_0x5be56c(0x186))_0x3d6058=[{'s':_0x5be56c(0x173),'t':'.1.SET_POINT_TEMPERATURE'},{'s':'.1.TEMPERATURE','t':_0x5be56c(0x12d)},{'s':_0x5be56c(0x165),'t':_0x5be56c(0x17b)},{'s':_0x5be56c(0x122),'t':_0x5be56c(0x10c)},{'s':_0x5be56c(0x1c7),'t':_0x5be56c(0x1b9)},{'s':_0x5be56c(0x1c7),'t':'current_heating_setpoint'},{'s':_0x5be56c(0x1a7),'t':_0x5be56c(0x10d)},{'s':_0x5be56c(0x157),'t':_0x5be56c(0x16c)},{'s':'Ist','t':'Soll'},{'s':_0x5be56c(0x1a7),'t':'setpoint'}];else _0x89b04a===_0x5be56c(0x15a)&&(_0x3d6058=[{'s':_0x5be56c(0x173),'t':_0x5be56c(0x1b3)},{'s':_0x5be56c(0x165),'t':_0x5be56c(0x1b3)},{'s':_0x5be56c(0x165),'t':_0x5be56c(0x1ac)},{'s':'local_temperature','t':_0x5be56c(0x169)},{'s':'temperature','t':_0x5be56c(0x185)},{'s':_0x5be56c(0x1a7),'t':_0x5be56c(0x1c3)}]);for(const _0x414d5c of _0x3d6058){if(_0x3f1ac3[_0x5be56c(0x13a)](_0x414d5c['s'])){const _0x5d746e=_0x3f1ac3[_0x5be56c(0x153)](_0x414d5c['s'],_0x414d5c['t']),_0x5929ec=await _0x509a9e['getForeignObjectAsync'](_0x5d746e);if(_0x5929ec)return _0x5d746e;}}try{const _0x5c31ae=_0x3f1ac3[_0x5be56c(0x177)]('.');if(_0x5c31ae[_0x5be56c(0x11e)]>0x2){const _0x2257a6=_0x5c31ae[_0x5be56c(0x195)](0x0,-0x1)[_0x5be56c(0x10b)]('.'),_0x164097=await _0x509a9e[_0x5be56c(0x160)](_0x2257a6+'.*'),_0x400c94=[],_0x1f3d30=_0x3f1ac3[_0x5be56c(0x177)](/[._]+/)[_0x5be56c(0x13f)](_0xcfaf09=>![_0x5be56c(0x198),'0',_0x5be56c(0x112),_0x5be56c(0x15c),'wert','temperature','actual',_0x5be56c(0x188),'messwert',_0x5be56c(0x138)][_0x5be56c(0x13a)](_0xcfaf09['toLowerCase']()));for(const [_0x13fe85,_0x3252b9]of Object['entries'](_0x164097)){if(_0x13fe85===_0x3f1ac3)continue;if(_0x3252b9&&_0x3252b9[_0x5be56c(0x17f)]){const _0x266d40=_0x13fe85[_0x5be56c(0x178)](),_0x3b5eae=(_0x3252b9[_0x5be56c(0x17f)]['role']||'')[_0x5be56c(0x178)](),_0x4d793c=(_0x3252b9[_0x5be56c(0x17f)][_0x5be56c(0x11b)]||'')[_0x5be56c(0x178)]();let _0x1f99d4=![];if(_0x89b04a==='setpoint'&&_0x3252b9[_0x5be56c(0x17f)]['write']===!![])_0x1f99d4=_0x266d40[_0x5be56c(0x13a)](_0x5be56c(0x17d))||_0x266d40[_0x5be56c(0x13a)](_0x5be56c(0x1a8))||_0x266d40[_0x5be56c(0x13a)]('target')||_0x3b5eae[_0x5be56c(0x13a)](_0x5be56c(0x183))||_0x3b5eae[_0x5be56c(0x13a)]('thermostat.setpoint');else _0x89b04a==='valve'&&(_0x1f99d4=_0x266d40[_0x5be56c(0x13a)](_0x5be56c(0x1c3))||_0x266d40['includes'](_0x5be56c(0x15a))||_0x266d40[_0x5be56c(0x13a)]('stellwert')||_0x266d40[_0x5be56c(0x13a)](_0x5be56c(0x16f))||_0x3b5eae[_0x5be56c(0x13a)](_0x5be56c(0x1a5))||_0x3b5eae[_0x5be56c(0x13a)](_0x5be56c(0x192))||_0x4d793c[_0x5be56c(0x13a)]('%'));if(_0x1f99d4){const _0x168456=_0x13fe85['split'](/[._]+/)[_0x5be56c(0x16e)](_0x9e5e42=>_0x9e5e42[_0x5be56c(0x178)]());let _0x15dfff=0x0;_0x1f3d30[_0x5be56c(0x193)](_0x330a78=>{const _0x1a08a3=_0x5be56c;if(_0x168456['includes'](_0x330a78[_0x1a08a3(0x178)]()))_0x15dfff++;}),_0x400c94['push']({'id':_0x13fe85,'score':_0x15dfff});}}}if(_0x400c94[_0x5be56c(0x11e)]>0x0){_0x400c94[_0x5be56c(0x181)]((_0xbac679,_0x2cbd76)=>_0x2cbd76[_0x5be56c(0x1bf)]-_0xbac679[_0x5be56c(0x1bf)]);if(_0x400c94[0x0][_0x5be56c(0x1bf)]>0x0)return _0x400c94[0x0]['id'];}}}catch(_0x2e9a09){}return null;}async function scanThermostats(_0x3260fe){const _0x518a00=a1_0x369c,_0x174822=_0x3260fe['config'][_0x518a00(0x18d)]||[],_0xcb9c59=[],_0x115e15=_0x174822[_0x518a00(0x13f)](_0x3392dd=>_0x3392dd['id']&&_0x3392dd['id'][_0x518a00(0x13a)](_0x518a00(0x1a7))||_0x3392dd[_0x518a00(0x1c4)]&&[_0x518a00(0x1a7),_0x518a00(0x16d),'sensor']['includes'](_0x3392dd['type'])||_0x3392dd['name']&&_0x3392dd[_0x518a00(0x126)][_0x518a00(0x178)]()[_0x518a00(0x13a)](_0x518a00(0x142)));for(const _0x469e0e of _0x115e15){const _0x282693=await findRelatedId(_0x3260fe,_0x469e0e['id'],'setpoint'),_0x5d864e=await findRelatedId(_0x3260fe,_0x469e0e['id'],'valve');let _0x38e9ad='Nicht\x20gefunden',_0x368ece=![],_0x9f1c97=_0x3260fe['config']['thermostatMapping']||{};if(typeof _0x9f1c97===_0x518a00(0x16a))try{_0x9f1c97=JSON[_0x518a00(0x1aa)](_0x9f1c97);}catch(_0x462af4){}let _0x428dc2=_0x3260fe[_0x518a00(0x17c)][_0x518a00(0x19d)]||{};if(typeof _0x428dc2===_0x518a00(0x16a))try{_0x428dc2=JSON['parse'](_0x428dc2);}catch(_0x20d32c){}if(_0x9f1c97[_0x469e0e['id']]&&_0x9f1c97[_0x469e0e['id']]===_0x282693||_0x428dc2[_0x469e0e['id']]&&_0x428dc2[_0x469e0e['id']]===_0x5d864e)_0x38e9ad='Manuelles\x20Mapping',_0x368ece=!![];else(_0x282693||_0x5d864e)&&(_0x38e9ad=_0x518a00(0x130));_0xcb9c59['push']({'room':_0x469e0e[_0x518a00(0x1c8)]||_0x518a00(0x18e),'sensorId':_0x469e0e['id'],'setpointId':_0x282693||'-','valveId':_0x5d864e||'-','source':_0x38e9ad,'isManual':_0x368ece,'status':_0x282693&&_0x5d864e?_0x518a00(0x152):_0x282693?'OK':_0x518a00(0x184)});}return _0xcb9c59[_0x518a00(0x181)]((_0x4aa5a0,_0x13e4a8)=>_0x4aa5a0['room'][_0x518a00(0x16b)](_0x13e4a8[_0x518a00(0x128)]));}async function updateSchedulePreview(_0x4cde2b){const _0x59ee87=a1_0x369c;if(!_0x4cde2b[_0x59ee87(0x17c)][_0x59ee87(0x129)]||!_0x4cde2b[_0x59ee87(0x17c)][_0x59ee87(0x168)])return;let _0x518ba9={};try{const _0x317c2e=await _0x4cde2b['getStateAsync']('analysis.energy.warmupTimes');if(_0x317c2e&&_0x317c2e[_0x59ee87(0x19e)])_0x518ba9=JSON['parse'](_0x317c2e[_0x59ee87(0x19e)]);}catch(_0x467589){}const _0x44f6cb=[],_0x19fa2a=Date['now'](),_0x4eabe5=0x30*0x3c*0x3c*0x3e8;try{const _0x37a78e=await _0x4cde2b[_0x59ee87(0x139)](_0x4cde2b[_0x59ee87(0x17c)]['calendarInstance']+_0x59ee87(0x1c2));if(!_0x37a78e||!_0x37a78e['val'])return;const _0xc561a8=JSON[_0x59ee87(0x1aa)](_0x37a78e['val']),_0x19045b=_0x4cde2b[_0x59ee87(0x17c)]['calendarSelection']||[],_0x3d3d8f=_0x4cde2b[_0x59ee87(0x17c)][_0x59ee87(0x18d)]||[],_0x4f91ed=new Set();_0x3d3d8f['forEach'](_0x42a0ed=>{const _0x4998d8=_0x59ee87;if(_0x42a0ed[_0x4998d8(0x1c8)])_0x4f91ed[_0x4998d8(0x12f)](_0x42a0ed[_0x4998d8(0x1c8)]);});for(const _0x2b9f9c of _0xc561a8){if(_0x2b9f9c[_0x59ee87(0x110)]&&_0x19045b[_0x59ee87(0x11e)]>0x0&&!_0x19045b['includes'](_0x2b9f9c[_0x59ee87(0x110)]))continue;const _0x461320=_0x2b9f9c[_0x59ee87(0x1b2)]||_0x2b9f9c[_0x59ee87(0x144)]||_0x2b9f9c[_0x59ee87(0x1ab)];if(!_0x461320)continue;const _0x24d4b3=new Date(_0x461320),_0x11029b=_0x24d4b3[_0x59ee87(0x1c6)]();if(isNaN(_0x11029b))continue;if(_0x11029b<_0x19fa2a)continue;if(_0x11029b>_0x19fa2a+_0x4eabe5)continue;const _0x287904=(_0x2b9f9c[_0x59ee87(0x140)]||_0x2b9f9c['summary']||'')[_0x59ee87(0x178)]();let _0xbd4f9f=![],_0x1e0206=[],_0x257a15=_0x2b9f9c['event']||_0x2b9f9c[_0x59ee87(0x124)]||'Unbekannt';if(_0x287904[_0x59ee87(0x13a)](_0x59ee87(0x14b))||_0x287904['includes'](_0x59ee87(0x10e))||_0x287904['includes'](_0x59ee87(0x1a4)))_0xbd4f9f=!![],_0x1e0206=Array[_0x59ee87(0x11d)](_0x4f91ed);else for(const _0x695f7e of _0x4f91ed){if(_0x287904[_0x59ee87(0x13a)](_0x695f7e[_0x59ee87(0x178)]()))_0x1e0206[_0x59ee87(0x13c)](_0x695f7e);}_0x1e0206[_0x59ee87(0x11e)]>0x0&&_0x1e0206[_0x59ee87(0x193)](_0x51b1a8=>{const _0x3ad97e=_0x59ee87;let _0x832c0a=0x3c;if(_0xbd4f9f){let _0x3baaa1=0x0;Object[_0x3ad97e(0x1c0)](_0x518ba9)[_0x3ad97e(0x193)](_0x1c8d38=>{if(_0x1c8d38>_0x3baaa1)_0x3baaa1=_0x1c8d38;}),_0x832c0a=_0x3baaa1>0x0?_0x3baaa1:0x78;}else _0x832c0a=getWarmupRobust(_0x518ba9,_0x51b1a8);const _0x798b8a=new Date(_0x11029b-_0x832c0a*0xea60);_0x44f6cb[_0x3ad97e(0x13c)]({'eventTime':_0x11029b,'triggerTime':_0x798b8a[_0x3ad97e(0x1c6)](),'room':_0x51b1a8,'minutes':_0x832c0a,'reason':_0x257a15,'isGlobal':_0xbd4f9f});});}}catch(_0x47fa9b){}_0x44f6cb[_0x59ee87(0x181)]((_0x486f8b,_0x1fa6d8)=>_0x486f8b['triggerTime']-_0x1fa6d8[_0x59ee87(0x1a9)]);const _0x17f1c0=_0x44f6cb[_0x59ee87(0x195)](0x0,0x5);await _0x4cde2b[_0x59ee87(0x14f)]('analysis.energy.schedulePreview',{'val':JSON['stringify'](_0x17f1c0),'ack':!![]});}async function monitorEnforcements(_0x396748){const _0x5d8c02=a1_0x369c;try{const _0x10b615=_0x5d8c02(0x149),_0xafdd61=await _0x396748[_0x5d8c02(0x116)](_0x10b615);if(!_0xafdd61||!_0xafdd61['val'])return;let _0x496ebc=[];try{_0x496ebc=JSON[_0x5d8c02(0x1aa)](_0xafdd61[_0x5d8c02(0x19e)]);}catch(_0x2ecf74){return;}if(!Array[_0x5d8c02(0x14d)](_0x496ebc)||_0x496ebc['length']===0x0)return;const _0x4c0c77=Date[_0x5d8c02(0x17e)](),_0x171e97=_0x396748[_0x5d8c02(0x17c)][_0x5d8c02(0x18d)]||[];let _0x3d0f2a=![];for(let _0x3a3838=_0x496ebc['length']-0x1;_0x3a3838>=0x0;_0x3a3838--){const _0x4bdfa5=_0x496ebc[_0x3a3838];if(_0x4c0c77>=_0x4bdfa5[_0x5d8c02(0x11c)]){_0x396748[_0x5d8c02(0x143)][_0x5d8c02(0x125)](_0x5d8c02(0x12c)+_0x4bdfa5[_0x5d8c02(0x128)]+_0x5d8c02(0x167)),_0x496ebc[_0x5d8c02(0x137)](_0x3a3838,0x1),_0x3d0f2a=!![];continue;}const _0xa417cb=_0x171e97[_0x5d8c02(0x1a3)](_0x38bd62=>normalize(_0x38bd62[_0x5d8c02(0x1c8)])===normalize(_0x4bdfa5['room'])&&(_0x38bd62[_0x5d8c02(0x1c4)]==='temperature'||_0x38bd62[_0x5d8c02(0x1c4)]===_0x5d8c02(0x16d)));if(_0xa417cb){const _0x4e6525=await findRelatedId(_0x396748,_0xa417cb['id'],_0x5d8c02(0x186));if(_0x4e6525){const _0x292888=await _0x396748[_0x5d8c02(0x139)](_0x4e6525);_0x292888&&typeof _0x292888[_0x5d8c02(0x19e)]===_0x5d8c02(0x18b)&&(_0x292888[_0x5d8c02(0x19e)]<0xf&&(_0x396748['log'][_0x5d8c02(0x121)](_0x5d8c02(0x170)+_0x4bdfa5[_0x5d8c02(0x128)]+_0x5d8c02(0x172)+_0x292888[_0x5d8c02(0x19e)]+_0x5d8c02(0x1b6)+_0x4bdfa5['target']+_0x5d8c02(0x174)),await _0x396748['setForeignStateAsync'](_0x4e6525,_0x4bdfa5[_0x5d8c02(0x115)]),await logAutomationAction(_0x396748,'[FORCE]\x20'+_0x4bdfa5[_0x5d8c02(0x128)]+':\x20'+_0x292888[_0x5d8c02(0x19e)]+_0x5d8c02(0x171)+_0x4bdfa5['target']+_0x5d8c02(0x13e))));}}}_0x3d0f2a&&await _0x396748[_0x5d8c02(0x14f)](_0x10b615,{'val':JSON[_0x5d8c02(0x18a)](_0x496ebc),'ack':!![]});}catch(_0x2b1590){_0x396748[_0x5d8c02(0x143)][_0x5d8c02(0x13d)](_0x5d8c02(0x18f)+_0x2b1590['message']);}}async function checkCalendarTriggers(_0x1f6dca){const _0x494252=a1_0x369c;if(!_0x1f6dca[_0x494252(0x17c)]['useCalendar']||!_0x1f6dca[_0x494252(0x17c)]['calendarInstance'])return;await updateSchedulePreview(_0x1f6dca);let _0x501029={},_0x5b2103={};try{const _0x502611=await _0x1f6dca[_0x494252(0x116)](_0x494252(0x1ba));if(_0x502611&&_0x502611[_0x494252(0x19e)])_0x501029=JSON[_0x494252(0x1aa)](_0x502611[_0x494252(0x19e)]);const _0x388601=await _0x1f6dca[_0x494252(0x116)](_0x494252(0x194));if(_0x388601&&_0x388601[_0x494252(0x19e)])_0x5b2103=JSON[_0x494252(0x1aa)](_0x388601['val']);}catch(_0x5455b6){}let _0x38075a={'default':0x15};try{const _0x2046af=await _0x1f6dca['getStateAsync'](_0x494252(0x1bd));if(_0x2046af&&_0x2046af[_0x494252(0x19e)])_0x38075a=JSON[_0x494252(0x1aa)](_0x2046af['val']);}catch(_0xef9a54){}let _0x46019c=[];try{const _0xf5ddf6=await _0x1f6dca[_0x494252(0x116)](_0x494252(0x149));if(_0xf5ddf6&&_0xf5ddf6[_0x494252(0x19e)])_0x46019c=JSON[_0x494252(0x1aa)](_0xf5ddf6['val']);}catch(_0x1f0a01){}try{const _0x2b8e62=await _0x1f6dca[_0x494252(0x139)](_0x1f6dca['config'][_0x494252(0x168)]+_0x494252(0x1c2));if(!_0x2b8e62||!_0x2b8e62[_0x494252(0x19e)])return;const _0x1eb27d=JSON[_0x494252(0x1aa)](_0x2b8e62[_0x494252(0x19e)]),_0xda97e0=Date[_0x494252(0x17e)](),_0xe9b54a=_0x1f6dca['config'][_0x494252(0x18d)]||[],_0x1ef24c=_0x1f6dca['config'][_0x494252(0x189)]||[];let _0x50dbdb=![];for(const _0x1ac3e2 of _0x1eb27d){if(_0x1ac3e2['_calName']&&_0x1ef24c[_0x494252(0x11e)]>0x0&&!_0x1ef24c['includes'](_0x1ac3e2[_0x494252(0x110)]))continue;const _0x566730=_0x1ac3e2[_0x494252(0x1b2)]||_0x1ac3e2[_0x494252(0x144)]||_0x1ac3e2[_0x494252(0x1ab)];if(!_0x566730)continue;const _0x620961=new Date(_0x566730);if(isNaN(_0x620961[_0x494252(0x1c6)]()))continue;const _0x59cc2f=(_0x1ac3e2[_0x494252(0x140)]||_0x1ac3e2[_0x494252(0x124)]||'')[_0x494252(0x178)]();if(_0x59cc2f[_0x494252(0x13a)](_0x494252(0x14b))||_0x59cc2f[_0x494252(0x13a)](_0x494252(0x10e))||_0x59cc2f[_0x494252(0x13a)](_0x494252(0x1a4))){let _0x2097bb=0x0;Object[_0x494252(0x1c0)](_0x501029)[_0x494252(0x193)](_0x491558=>{if(_0x491558>_0x2097bb)_0x2097bb=_0x491558;});if(_0x2097bb===0x0)_0x2097bb=0x78;const _0x5aaefc=_0x620961[_0x494252(0x1c6)]()-_0x2097bb*0xea60;_0xda97e0>=_0x5aaefc&&_0xda97e0<_0x620961['getTime']()&&(_0x1f6dca[_0x494252(0x161)]!==_0x494252(0x155)&&(_0x1f6dca[_0x494252(0x143)][_0x494252(0x125)](_0x494252(0x1c5)+_0x2097bb+_0x494252(0x132)),await _0x1f6dca[_0x494252(0x14f)](_0x494252(0x147),{'val':_0x494252(0x155),'ack':![]})));}for(const _0x47daef of _0xe9b54a){if(_0x47daef[_0x494252(0x1c8)]){const _0x57ebb5=_0x47daef[_0x494252(0x1c8)][_0x494252(0x178)](),_0x52698a=(_0x47daef[_0x494252(0x126)]||'')[_0x494252(0x178)]();let _0x439a3d=_0x59cc2f[_0x494252(0x13a)](_0x57ebb5);!_0x439a3d&&_0x52698a['length']>0x3&&_0x59cc2f[_0x494252(0x13a)](_0x52698a)&&(_0x439a3d=!![]);if(_0x439a3d){const _0x5c5bc0=getWarmupRobust(_0x501029,_0x47daef[_0x494252(0x1c8)]),_0x2fe39d=_0x5b2103[_0x47daef['location']]||_0x494252(0x11a),_0x1fae2c=_0x620961[_0x494252(0x1c6)]()-_0x5c5bc0*0xea60;if(_0xda97e0>=_0x1fae2c&&_0xda97e0<_0x620961[_0x494252(0x1c6)]()){const _0x5d5031=lastActions[_0x494252(0x14c)+_0x47daef[_0x494252(0x1c8)]];if(_0x5d5031&&_0xda97e0-_0x5d5031<CAL_COOLDOWN_MS)continue;const _0x536e34=await findRelatedId(_0x1f6dca,_0x47daef['id'],_0x494252(0x186));if(_0x536e34){let _0x1137a0=_0x38075a[_0x47daef[_0x494252(0x1c8)]];if(_0x1137a0===undefined)_0x1137a0=_0x38075a[_0x494252(0x162)];if(_0x1137a0===undefined)_0x1137a0=0x15;const _0x40ed23=await _0x1f6dca[_0x494252(0x139)](_0x536e34);if(_0x40ed23&&typeof _0x40ed23['val']==='number'&&_0x40ed23[_0x494252(0x19e)]<_0x1137a0-0.5){_0x1f6dca[_0x494252(0x143)][_0x494252(0x125)](_0x494252(0x159)+_0x2fe39d+']:\x20Raum-Trigger\x20\x27'+_0x47daef[_0x494252(0x1c8)]+'\x27\x20(Match:\x20'+_0x59cc2f+_0x494252(0x176)+_0x1137a0+_0x494252(0x119)+_0x5c5bc0+_0x494252(0x132)),await _0x1f6dca[_0x494252(0x148)](_0x536e34,_0x1137a0),await logAutomationAction(_0x1f6dca,'[CAL]\x20'+_0x47daef[_0x494252(0x1c8)]+_0x494252(0x164)+_0x1137a0+'¬∞C\x20(via\x20'+_0x2fe39d+')'),lastActions[_0x494252(0x14c)+_0x47daef[_0x494252(0x1c8)]]=_0xda97e0;const _0x2c4129=_0x46019c['findIndex'](_0x17c2f9=>_0x17c2f9[_0x494252(0x128)]===_0x47daef[_0x494252(0x1c8)]);if(_0x2c4129!==-0x1)_0x46019c[_0x494252(0x137)](_0x2c4129,0x1);_0x46019c['push']({'room':_0x47daef['location'],'target':_0x1137a0,'until':_0x620961['getTime']()}),_0x50dbdb=!![];}}}}}}}_0x50dbdb&&await _0x1f6dca['setStateAsync']('analysis.energy.activeEnforcements',{'val':JSON[_0x494252(0x18a)](_0x46019c),'ack':!![]});}catch(_0x42cfb2){_0x1f6dca[_0x494252(0x143)]['warn'](_0x494252(0x166)+_0x42cfb2[_0x494252(0x15b)]);}}async function manageMpcIntervention(_0x5e1bc1,_0x3cf4e0,_0x2ead16){const _0x12b7a9=a1_0x369c;try{const _0x351541=_0x12b7a9(0x19f),_0x45f090=await _0x5e1bc1['getStateAsync'](_0x351541);let _0x2c77b5=[];if(_0x45f090&&_0x45f090[_0x12b7a9(0x19e)])try{_0x2c77b5=JSON[_0x12b7a9(0x1aa)](_0x45f090[_0x12b7a9(0x19e)]);}catch(_0x3d6bc8){}const _0x34467b=_0x2c77b5['indexOf'](_0x3cf4e0);if(_0x2ead16===_0x12b7a9(0x12f))_0x34467b===-0x1&&(_0x2c77b5['push'](_0x3cf4e0),await _0x5e1bc1[_0x12b7a9(0x14f)](_0x351541,{'val':JSON[_0x12b7a9(0x18a)](_0x2c77b5),'ack':!![]}));else _0x2ead16===_0x12b7a9(0x136)&&(_0x34467b!==-0x1&&(_0x2c77b5[_0x12b7a9(0x137)](_0x34467b,0x1),await _0x5e1bc1[_0x12b7a9(0x14f)](_0x351541,{'val':JSON['stringify'](_0x2c77b5),'ack':!![]})));}catch(_0x52237e){}}async function cleanupGhostInterventions(_0x3aafc0){const _0x98e912=a1_0x369c;try{const _0x580fe8=_0x98e912(0x19f),_0x5f0591=await _0x3aafc0['getStateAsync'](_0x580fe8);if(!_0x5f0591||!_0x5f0591['val'])return;const _0x1cb41e=JSON[_0x98e912(0x1aa)](_0x5f0591['val']);if(!Array[_0x98e912(0x14d)](_0x1cb41e)||_0x1cb41e['length']===0x0)return;let _0x48f78e={'default':0x15};try{const _0x12d7ce=await _0x3aafc0[_0x98e912(0x116)](_0x98e912(0x1bd));if(_0x12d7ce&&_0x12d7ce['val'])_0x48f78e=JSON[_0x98e912(0x1aa)](_0x12d7ce[_0x98e912(0x19e)]);}catch(_0x1daaec){}let _0x1b7b91=[];try{const _0x110ba9=await _0x3aafc0[_0x98e912(0x116)](_0x98e912(0x1b1));if(_0x110ba9&&_0x110ba9['val'])_0x1b7b91=JSON['parse'](_0x110ba9[_0x98e912(0x19e)]);}catch(_0xa2f748){}let _0xe0603e={},_0x13a7e8=![];try{const _0x2ef7fd=await _0x3aafc0[_0x98e912(0x116)]('analysis.energy.rlPenalties');if(_0x2ef7fd&&_0x2ef7fd[_0x98e912(0x19e)])_0xe0603e=JSON[_0x98e912(0x1aa)](_0x2ef7fd['val']);}catch(_0x2d1420){}if(_0xe0603e[_0x98e912(0x12e)]){const _0x53ca5d=Date['now']();for(const [_0x59fb1f,_0x21c1e4]of Object[_0x98e912(0x151)](_0xe0603e[_0x98e912(0x12e)])){_0x53ca5d-_0x21c1e4>PENALTY_TTL&&(delete _0xe0603e[_0x59fb1f],delete _0xe0603e[_0x98e912(0x12e)][_0x59fb1f],_0x13a7e8=!![],_0x3aafc0['log'][_0x98e912(0x125)](_0x98e912(0x117)+_0x59fb1f+_0x98e912(0x1b5)));}}const _0x21855d=_0x3aafc0[_0x98e912(0x17c)]['devices']||[];let _0x501703=![];for(let _0x276acc=_0x1cb41e['length']-0x1;_0x276acc>=0x0;_0x276acc--){const _0x26fc98=_0x1cb41e[_0x276acc],_0x2b2f75=_0x21855d[_0x98e912(0x1a3)](_0x3b7806=>normalize(_0x3b7806[_0x98e912(0x1c8)])===normalize(_0x26fc98)&&(_0x3b7806['type']===_0x98e912(0x1a7)||_0x3b7806[_0x98e912(0x1c4)]===_0x98e912(0x16d)));if(!_0x2b2f75){_0x3aafc0[_0x98e912(0x143)]['warn']('üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x26fc98+'\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.'),_0x1cb41e['splice'](_0x276acc,0x1),_0x501703=!![];continue;}if(_0x2b2f75){const _0x9eb9ae=await findRelatedId(_0x3aafc0,_0x2b2f75['id'],_0x98e912(0x186)),_0x57fe08=await _0x3aafc0['getForeignStateAsync'](_0x2b2f75['id']);if(_0x9eb9ae){const _0x5df365=await _0x3aafc0[_0x98e912(0x139)](_0x9eb9ae);if(_0x5df365&&typeof _0x5df365['val']===_0x98e912(0x18b)){let _0x49c7f2=![],_0x58982f='';Math['abs'](_0x5df365[_0x98e912(0x19e)]-ECO_TEMP)>0.5&&(_0x49c7f2=!![],_0x58982f=_0x98e912(0x131));if(!_0x49c7f2&&_0x57fe08&&typeof _0x57fe08[_0x98e912(0x19e)]===_0x98e912(0x18b)){const _0x49591b=_0x48f78e[_0x26fc98]||_0x48f78e['default']||0x15;_0x57fe08['val']<_0x49591b+0.2&&(_0x49c7f2=!![],_0x58982f=_0x98e912(0x1ad));}if(_0x49c7f2){if(_0x58982f===_0x98e912(0x131)){_0x3aafc0[_0x98e912(0x143)]['info'](_0x98e912(0x10f)+_0x26fc98+_0x98e912(0x1bb)+_0x5df365[_0x98e912(0x19e)]+'¬∞C\x20(nicht\x20'+ECO_TEMP+_0x98e912(0x1a6));const _0x379c6f=lastActions['cal_'+_0x26fc98],_0x122906=_0x379c6f&&Date['now']()-_0x379c6f<0x2*0x3c*0x3e8;if(!_0x122906&&_0x5df365['val']>ECO_TEMP+0.5){_0x3aafc0[_0x98e912(0x113)]&&(_0x3aafc0[_0x98e912(0x143)][_0x98e912(0x125)](_0x98e912(0x19a)+_0x26fc98+_0x98e912(0x1cc)),_0x3aafc0[_0x98e912(0x113)]('TRAIN_RL_PENALTY',{'room':_0x26fc98}));const _0x5557dd=_0x26fc98+'_'+new Date()[_0x98e912(0x1b8)]();if(!_0xe0603e[_0x5557dd]){_0xe0603e[_0x5557dd]=0x1;if(!_0xe0603e[_0x98e912(0x12e)])_0xe0603e['_meta']={};_0xe0603e[_0x98e912(0x12e)][_0x5557dd]=Date[_0x98e912(0x17e)](),_0x13a7e8=!![];}}else _0x122906&&_0x3aafc0[_0x98e912(0x143)][_0x98e912(0x125)](_0x98e912(0x1ca)+_0x26fc98+_0x98e912(0x118));}else{if(_0x58982f==='too_cold'){let _0x249350=![];if(_0x1b7b91[_0x98e912(0x1a3)](_0x3f8e0d=>_0x3f8e0d[_0x98e912(0x128)]===_0x26fc98))_0x249350=!![];const _0x3b218a=_0x21855d[_0x98e912(0x13f)](_0x5e9daa=>normalize(_0x5e9daa[_0x98e912(0x1c8)])===normalize(_0x26fc98)&&(_0x5e9daa['type']===_0x98e912(0x134)||_0x5e9daa['type']==='sensor'||_0x5e9daa[_0x98e912(0x1c4)]===_0x98e912(0x12a)));for(const _0x315d0e of _0x3b218a){try{const _0x23d1d2=await _0x3aafc0['getForeignStateAsync'](_0x315d0e['id']);if(_0x23d1d2&&(_0x23d1d2[_0x98e912(0x19e)]===!![]||_0x23d1d2[_0x98e912(0x19e)]===0x1||String(_0x23d1d2['val'])[_0x98e912(0x178)]()===_0x98e912(0x14a)))_0x249350=!![];}catch(_0x48f0d5){}}if(_0x249350)_0x3aafc0[_0x98e912(0x143)][_0x98e912(0x125)]('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x26fc98+_0x98e912(0x1bc));else{const _0x2a1b42=_0x48f78e[_0x26fc98]||_0x48f78e[_0x98e912(0x162)]||0x15;_0x3aafc0[_0x98e912(0x143)][_0x98e912(0x125)](_0x98e912(0x1b0)+_0x26fc98+'\x20erreicht\x20Limit\x20('+_0x57fe08[_0x98e912(0x19e)]+_0x98e912(0x141)+(_0x2a1b42+0.2)+'¬∞C).\x20Sparmodus\x20beendet!'),await _0x3aafc0['setForeignStateAsync'](_0x9eb9ae,_0x2a1b42),await logAutomationAction(_0x3aafc0,_0x98e912(0x1af)+_0x26fc98+_0x98e912(0x145)+_0x2a1b42+'¬∞C'),lastActions['rescue_'+_0x26fc98]=Date['now']();}}}_0x1cb41e['splice'](_0x276acc,0x1),_0x501703=!![];}}}}}_0x501703&&await _0x3aafc0[_0x98e912(0x14f)](_0x580fe8,{'val':JSON[_0x98e912(0x18a)](_0x1cb41e),'ack':!![]}),_0x13a7e8&&await _0x3aafc0[_0x98e912(0x14f)](_0x98e912(0x120),{'val':JSON['stringify'](_0xe0603e),'ack':!![]});}catch(_0x48f3d0){}}async function applyEnergySavings(_0x2a73c0,_0x42d903){const _0x3e64d9=a1_0x369c;await cleanupGhostInterventions(_0x2a73c0);if(!_0x42d903||_0x42d903[_0x3e64d9(0x11e)]===0x0)return;const _0x37f7e5=_0x2a73c0[_0x3e64d9(0x17c)]['devices']||[],_0x4cbace=Date[_0x3e64d9(0x17e)]();for(const _0x316032 of _0x42d903){const _0x369859=_0x316032['room'],_0x1b8d21=_0x316032[_0x3e64d9(0x1b4)],_0x65d30a=_0x316032[_0x3e64d9(0x115)]||0x15;if(lastActions['rescue_'+_0x369859]&&_0x4cbace-lastActions[_0x3e64d9(0x199)+_0x369859]<RESCUE_LOCK_MS)continue;const _0x4844c2=_0x37f7e5[_0x3e64d9(0x1a3)](_0x4ddc4a=>normalize(_0x4ddc4a[_0x3e64d9(0x1c8)])===normalize(_0x369859)&&(_0x4ddc4a[_0x3e64d9(0x1c4)]===_0x3e64d9(0x1a7)||_0x4ddc4a[_0x3e64d9(0x1c4)]==='thermostat'));if(!_0x4844c2)continue;const _0xd0077b=await findRelatedId(_0x2a73c0,_0x4844c2['id'],_0x3e64d9(0x186));if(_0xd0077b){if(lastActions[_0x3e64d9(0x150)+_0x369859]&&_0x4cbace-lastActions[_0x3e64d9(0x150)+_0x369859]<0x1e*0x3c*0x3e8)continue;const _0x44e8c=await _0x2a73c0[_0x3e64d9(0x139)](_0xd0077b);if(_0x44e8c&&typeof _0x44e8c[_0x3e64d9(0x19e)]==='number'){const _0x4911d3=_0x44e8c[_0x3e64d9(0x19e)];_0x4911d3!==ECO_TEMP&&await manageMpcIntervention(_0x2a73c0,_0x369859,'remove');if(_0x1b8d21>0x1e)_0x4911d3>ECO_TEMP+0.5&&(_0x2a73c0[_0x3e64d9(0x143)][_0x3e64d9(0x125)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x369859+_0x3e64d9(0x172)+ECO_TEMP+_0x3e64d9(0x15f)+_0x1b8d21+_0x3e64d9(0x197)),await _0x2a73c0[_0x3e64d9(0x148)](_0xd0077b,ECO_TEMP),await manageMpcIntervention(_0x2a73c0,_0x369859,_0x3e64d9(0x12f)),lastActions[_0x3e64d9(0x150)+_0x369859]=_0x4cbace,await logAutomationAction(_0x2a73c0,'[MPC]\x20'+_0x369859+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'¬∞C'));else _0x1b8d21<=0xf&&(_0x4911d3<_0x65d30a&&(_0x2a73c0[_0x3e64d9(0x143)][_0x3e64d9(0x125)]('üî•\x20[MPC\x20ACTION]\x20Heize\x20'+_0x369859+_0x3e64d9(0x180)+_0x65d30a+'¬∞C!\x20(Puffer\x20leer).'),await _0x2a73c0[_0x3e64d9(0x148)](_0xd0077b,_0x65d30a),await manageMpcIntervention(_0x2a73c0,_0x369859,_0x3e64d9(0x136)),lastActions[_0x3e64d9(0x150)+_0x369859]=_0x4cbace,await logAutomationAction(_0x2a73c0,_0x3e64d9(0x191)+_0x369859+_0x3e64d9(0x19b)+_0x65d30a+'¬∞C')));}}else _0x2a73c0[_0x3e64d9(0x143)][_0x3e64d9(0x121)](_0x3e64d9(0x18c)+_0x369859+_0x3e64d9(0x114));}}module[a1_0x3ef08c(0x133)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};function a1_0x415d(){const _0x1fa291=['approved','sensor','calendarSelection','stringify','number','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','devices','Unbekannt','Enforcement\x20Monitor\x20Error:\x20','179123VeXcBf','[MPC]\x20','value.valve','forEach','analysis.energy.warmupSources','slice','22PdbYAk','\x20min)','openknx','rescue_','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20',':\x20Aufheizen\x20auf\x20','apply','valveMapping','val','analysis.energy.mpcActiveInterventions','Unknown','\x20->\x20Schalte\x20','reason','find','ankunft','level.valve','¬∞C).\x20Entferne\x20Status.','temperature','soll','triggerTime','parse','date','.4.VALVE_STATE','too_cold','analysis.automation.lastAction','[WATCHDOG]\x20','üö®\x20[MPC\x20WATCHDOG]\x20','analysis.energy.ventilationAlerts','_date','.1.LEVEL','minutes_safe','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','2239536ycBWDF','getHours','occupied_heating_setpoint','analysis.energy.warmupTimes','\x20ist\x20auf\x20','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','analysis.energy.warmupTargets','trim','score','values','(((.+)+)+)+$','.data.table','level','type','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','getTime','local_temperature','location','consultButler','üìÖ\x20[MPC\x20INFO]\x20','50cHKBfB','\x20wurde\x20manuell\x20erh√∂ht.','join','SET_POINT_TEMPERATURE','target_temperature','r√ºckkehr','üßπ\x20[MPC\x20CLEANUP]\x20','_calName','off','hm-rpc','sendToPythonWrapper','\x20gefunden!','target','getStateAsync','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','¬∞C\x20(Vorlauf:\x20','Classic','unit','until','from','length','81KXrSnk','analysis.energy.rlPenalties','warn','ACTUAL_TEMPERATURE','constructor','summary','info','name','thermostatMapping','room','useCalendar','contact','analysis.automation.actionLog','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','.1.SET_POINT_TEMPERATURE','_meta','add','Auto-Erkennung','manual','\x20min).','exports','window','switch','remove','splice','state','getForeignStateAsync','includes','541146litBFX','push','error','¬∞C\x20(Kalender-Schutz)','filter','event','¬∞C\x20<\x20','temp','log','eventStart',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','dimmer','system.mode','setForeignStateAsync','analysis.energy.activeEnforcements','open','urlaub\x20ende','cal_','isArray','toString','setStateAsync','mpc_','entries','PERFECT','replace','5362908KbNUMq','normal','115113VxaTlJ','ACTUAL','toUpperCase','üìÖ\x20SMART\x20SCHEDULE\x20[','valve','message','ist','analysis.automation.mode','24208250yaOMjg','¬∞C!\x20(Puffer:\x20','getForeignObjectsAsync','currentSystemMode','default','search','\x20->\x20','.1.TEMPERATURE','Calendar\x20Check\x20Error:\x20','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','calendarInstance','pi_heating_demand','string','localeCompare','SET','thermostat','map','position','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','¬∞C\x20->\x20','\x20auf\x20','.1.ACTUAL_TEMPERATURE','¬∞C.','1307370GxhVXo',')\x20aktiv.\x20Heize\x20auf\x20','split','toLowerCase','light','24ymNgDN','.4.SET_TEMPERATURE','config','set','now','common','\x20wieder\x20auf\x20','sort','Pr√§diktion:\x20','level.temperature','Fehlt','valve_position','setpoint'];a1_0x415d=function(){return _0x1fa291;};return a1_0x415d();}