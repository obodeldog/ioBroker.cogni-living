const a1_0x5aed9a=a1_0x4fb5;(function(_0x2ca3a8,_0x30dea4){const _0x50fb90=a1_0x4fb5,_0x4ac900=_0x2ca3a8();while(!![]){try{const _0x9e1fb7=parseInt(_0x50fb90(0xe7))/0x1*(parseInt(_0x50fb90(0xbe))/0x2)+parseInt(_0x50fb90(0xf8))/0x3+-parseInt(_0x50fb90(0x129))/0x4*(parseInt(_0x50fb90(0x92))/0x5)+-parseInt(_0x50fb90(0xc1))/0x6*(-parseInt(_0x50fb90(0xbb))/0x7)+-parseInt(_0x50fb90(0x110))/0x8+-parseInt(_0x50fb90(0x7b))/0x9+parseInt(_0x50fb90(0xae))/0xa*(parseInt(_0x50fb90(0xe8))/0xb);if(_0x9e1fb7===_0x30dea4)break;else _0x4ac900['push'](_0x4ac900['shift']());}catch(_0x15578c){_0x4ac900['push'](_0x4ac900['shift']());}}}(a1_0x21a2,0x27329));const a1_0x288e0e=(function(){let _0x7d6394=!![];return function(_0x4f5032,_0x38b71c){const _0x32da4d=_0x7d6394?function(){const _0x18fa94=a1_0x4fb5;if(_0x38b71c){const _0x3f8a3e=_0x38b71c[_0x18fa94(0x119)](_0x4f5032,arguments);return _0x38b71c=null,_0x3f8a3e;}}:function(){};return _0x7d6394=![],_0x32da4d;};}()),a1_0x517793=a1_0x288e0e(this,function(){const _0x25836d=a1_0x4fb5;return a1_0x517793[_0x25836d(0x97)]()[_0x25836d(0x111)](_0x25836d(0xc4))[_0x25836d(0x97)]()[_0x25836d(0x131)](a1_0x517793)[_0x25836d(0x111)](_0x25836d(0xc4));});a1_0x517793();'use strict';const aiAgent=require(a1_0x5aed9a(0x8b)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x541ada){const _0x48ef4b=a1_0x5aed9a;if(!_0x541ada)return'';return _0x541ada[_0x48ef4b(0xa8)]()['replace'](/\s+/g,'')[_0x48ef4b(0xe9)]();}function a1_0x4fb5(_0xa74bff,_0x76ebab){const _0x260e65=a1_0x21a2();return a1_0x4fb5=function(_0x517793,_0x288e0e){_0x517793=_0x517793-0x72;let _0x21a22a=_0x260e65[_0x517793];return _0x21a22a;},a1_0x4fb5(_0xa74bff,_0x76ebab);}function getWarmupRobust(_0x143e59,_0x3e8fec){const _0x2b3d2e=a1_0x5aed9a;if(!_0x143e59||!_0x3e8fec)return 0x3c;if(_0x143e59[_0x3e8fec]!==undefined)return _0x143e59[_0x3e8fec];const _0x453824=_0x3e8fec['toLowerCase']()['replace'](/√§/g,'ae')['replace'](/√∂/g,'oe')[_0x2b3d2e(0x123)](/√º/g,'ue')['replace'](/√ü/g,'ss')[_0x2b3d2e(0x123)](/\s+/g,'_')[_0x2b3d2e(0x123)](/[^a-z0-9_]/g,'');if(_0x143e59[_0x453824]!==undefined)return _0x143e59[_0x453824];return 0x3c;}async function logAutomationAction(_0x5c9e57,_0x35515f){const _0x5efdf0=a1_0x5aed9a;await _0x5c9e57[_0x5efdf0(0xa1)](_0x5efdf0(0xc2),{'val':_0x35515f,'ack':!![]});try{const _0x1e7710=_0x5efdf0(0xb2),_0x2f36ad=await _0x5c9e57[_0x5efdf0(0xfe)](_0x1e7710);let _0x47dd84=[];if(_0x2f36ad&&_0x2f36ad[_0x5efdf0(0x9c)])try{_0x47dd84=JSON['parse'](_0x2f36ad[_0x5efdf0(0x9c)]);}catch(_0x5e1aba){}_0x47dd84[_0x5efdf0(0x118)]({'ts':Date[_0x5efdf0(0x115)](),'msg':_0x35515f});if(_0x47dd84['length']>0x32)_0x47dd84=_0x47dd84[_0x5efdf0(0x11c)](0x0,0x32);await _0x5c9e57[_0x5efdf0(0xa1)](_0x1e7710,{'val':JSON['stringify'](_0x47dd84),'ack':!![]});}catch(_0x652e4e){}}async function handlePrediction(_0x492698,_0x51ea60,_0x3c4876){const _0x3e5e33=a1_0x5aed9a;if(!_0x51ea60||_0x51ea60===_0x3e5e33(0xd5))return;let _0x31ed90='off',_0x535103=0.6;try{const _0x1d4bd5=await _0x492698['getStateAsync'](_0x3e5e33(0xe1));if(_0x1d4bd5&&_0x1d4bd5[_0x3e5e33(0x9c)])_0x31ed90=_0x1d4bd5[_0x3e5e33(0x9c)];const _0x1da4ec=await _0x492698[_0x3e5e33(0xfe)]('analysis.automation.confidenceThreshold');if(_0x1da4ec&&_0x1da4ec['val'])_0x535103=_0x1da4ec['val'];}catch(_0x37b00b){}if(_0x31ed90===_0x3e5e33(0x135)||_0x3c4876<_0x535103)return;const _0x3fe4bb=Date[_0x3e5e33(0x115)]();if(lastActions[_0x51ea60]&&_0x3fe4bb-lastActions[_0x51ea60]<COOLDOWN_MS)return;const _0x3bb28a=_0x492698[_0x3e5e33(0xa0)][_0x3e5e33(0x113)]||[],_0x293025=normalize(_0x51ea60),_0x48891d=_0x3bb28a[_0x3e5e33(0x91)](_0x2a358a=>normalize(_0x2a358a['location'])===_0x293025&&(_0x2a358a[_0x3e5e33(0xa7)]===_0x3e5e33(0x94)||_0x2a358a[_0x3e5e33(0xa7)]===_0x3e5e33(0x11b)||_0x2a358a['type']===_0x3e5e33(0xa3)));if(!_0x48891d)return;const _0x52d530=await aiAgent['consultButler'](_0x492698,_0x51ea60,_0x48891d[_0x3e5e33(0xb1)],_0x3c4876);if(!_0x52d530[_0x3e5e33(0xc0)])return;const _0x5abe56=_0x3e5e33(0x139)+_0x51ea60+_0x3e5e33(0xb7)+_0x48891d[_0x3e5e33(0xb1)]+'\x20('+_0x52d530[_0x3e5e33(0x124)]+')';await logAutomationAction(_0x492698,'['+_0x31ed90[_0x3e5e33(0x10b)]()+']\x20'+_0x5abe56);if(_0x31ed90===_0x3e5e33(0x12e)){const _0x3545ab=await _0x492698['getForeignStateAsync'](_0x48891d['id']);(!_0x3545ab||!_0x3545ab[_0x3e5e33(0x9c)]&&_0x3545ab[_0x3e5e33(0x9c)]!==!![])&&await _0x492698['setForeignStateAsync'](_0x48891d['id'],!![]),lastActions[_0x51ea60]=_0x3fe4bb;}}async function findRelatedId(_0x110dc,_0x12de76,_0x5bab58=a1_0x5aed9a(0xd1)){const _0x5f2fa4=a1_0x5aed9a;if(_0x5bab58===_0x5f2fa4(0xd1)&&_0x110dc[_0x5f2fa4(0xa0)][_0x5f2fa4(0xaa)]){let _0x256e20=_0x110dc[_0x5f2fa4(0xa0)]['thermostatMapping'];if(typeof _0x256e20===_0x5f2fa4(0x8f))try{_0x256e20=JSON[_0x5f2fa4(0x11a)](_0x256e20);}catch(_0x18d337){}if(_0x256e20&&_0x256e20[_0x12de76])return _0x256e20[_0x12de76];}if(_0x5bab58===_0x5f2fa4(0x96)&&_0x110dc['config']['valveMapping']){let _0x3a1f41=_0x110dc['config']['valveMapping'];if(typeof _0x3a1f41===_0x5f2fa4(0x8f))try{_0x3a1f41=JSON[_0x5f2fa4(0x11a)](_0x3a1f41);}catch(_0x1b9b82){}if(_0x3a1f41&&_0x3a1f41[_0x12de76])return _0x3a1f41[_0x12de76];}let _0x2f4302=[];if(_0x5bab58===_0x5f2fa4(0xd1))_0x2f4302=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x5f2fa4(0xfd)},{'s':_0x5f2fa4(0xdc),'t':_0x5f2fa4(0xfd)},{'s':_0x5f2fa4(0xdc),'t':_0x5f2fa4(0x90)},{'s':_0x5f2fa4(0xec),'t':_0x5f2fa4(0x87)},{'s':_0x5f2fa4(0x136),'t':_0x5f2fa4(0xd7)},{'s':_0x5f2fa4(0x136),'t':_0x5f2fa4(0xcb)},{'s':_0x5f2fa4(0x11f),'t':'target_temperature'},{'s':'ACTUAL','t':_0x5f2fa4(0x108)},{'s':_0x5f2fa4(0x82),'t':'Soll'},{'s':_0x5f2fa4(0x11f),'t':_0x5f2fa4(0xd1)}];else _0x5bab58==='valve'&&(_0x2f4302=[{'s':_0x5f2fa4(0xa2),'t':_0x5f2fa4(0x9f)},{'s':'.1.TEMPERATURE','t':'.1.LEVEL'},{'s':_0x5f2fa4(0xdc),'t':_0x5f2fa4(0x122)},{'s':_0x5f2fa4(0x136),'t':'pi_heating_demand'},{'s':_0x5f2fa4(0x11f),'t':_0x5f2fa4(0x103)},{'s':'temperature','t':_0x5f2fa4(0xd6)}]);for(const _0x54ff00 of _0x2f4302){if(_0x12de76['includes'](_0x54ff00['s'])){const _0xe04e66=_0x12de76['replace'](_0x54ff00['s'],_0x54ff00['t']),_0x10dd68=await _0x110dc['getForeignObjectAsync'](_0xe04e66);if(_0x10dd68)return _0xe04e66;}}try{const _0x5ea256=_0x12de76[_0x5f2fa4(0xa5)]('.');if(_0x5ea256[_0x5f2fa4(0xdf)]>0x2){const _0x3a2116=_0x5ea256['slice'](0x0,-0x1)[_0x5f2fa4(0x104)]('.'),_0x5a2f09=await _0x110dc['getForeignObjectsAsync'](_0x3a2116+'.*'),_0x109ca4=[],_0x59abfd=_0x12de76['split'](/[._]+/)[_0x5f2fa4(0xd9)](_0x1a0201=>![_0x5f2fa4(0x137),'0','hm-rpc','ist',_0x5f2fa4(0xe3),_0x5f2fa4(0x11f),_0x5f2fa4(0xdb),_0x5f2fa4(0xf2),'messwert',_0x5f2fa4(0x127)]['includes'](_0x1a0201[_0x5f2fa4(0xa8)]()));for(const [_0x22da69,_0x4c3719]of Object['entries'](_0x5a2f09)){if(_0x22da69===_0x12de76)continue;if(_0x4c3719&&_0x4c3719[_0x5f2fa4(0x7f)]){const _0x52aa88=_0x22da69['toLowerCase'](),_0x3fc41e=(_0x4c3719[_0x5f2fa4(0x7f)][_0x5f2fa4(0x120)]||'')[_0x5f2fa4(0xa8)](),_0x1081f4=(_0x4c3719[_0x5f2fa4(0x7f)][_0x5f2fa4(0xee)]||'')[_0x5f2fa4(0xa8)]();let _0x2610ed=![];if(_0x5bab58===_0x5f2fa4(0xd1)&&_0x4c3719[_0x5f2fa4(0x7f)]['write']===!![])_0x2610ed=_0x52aa88[_0x5f2fa4(0x10f)](_0x5f2fa4(0xb5))||_0x52aa88[_0x5f2fa4(0x10f)](_0x5f2fa4(0xa4))||_0x52aa88[_0x5f2fa4(0x10f)](_0x5f2fa4(0x8c))||_0x3fc41e[_0x5f2fa4(0x10f)](_0x5f2fa4(0xea))||_0x3fc41e[_0x5f2fa4(0x10f)](_0x5f2fa4(0x128));else _0x5bab58===_0x5f2fa4(0x96)&&(_0x2610ed=_0x52aa88[_0x5f2fa4(0x10f)](_0x5f2fa4(0xd6))||_0x52aa88[_0x5f2fa4(0x10f)](_0x5f2fa4(0x96))||_0x52aa88[_0x5f2fa4(0x10f)](_0x5f2fa4(0x73))||_0x52aa88[_0x5f2fa4(0x10f)](_0x5f2fa4(0x101))||_0x3fc41e[_0x5f2fa4(0x10f)](_0x5f2fa4(0xa9))||_0x3fc41e[_0x5f2fa4(0x10f)](_0x5f2fa4(0x10c))||_0x1081f4[_0x5f2fa4(0x10f)]('%'));if(_0x2610ed){const _0x1c0493=_0x22da69['split'](/[._]+/)[_0x5f2fa4(0x12b)](_0x2f6a10=>_0x2f6a10['toLowerCase']());let _0x10c1c0=0x0;_0x59abfd[_0x5f2fa4(0x10d)](_0x31ddef=>{const _0x57c146=_0x5f2fa4;if(_0x1c0493[_0x57c146(0x10f)](_0x31ddef['toLowerCase']()))_0x10c1c0++;}),_0x109ca4[_0x5f2fa4(0xf6)]({'id':_0x22da69,'score':_0x10c1c0});}}}if(_0x109ca4['length']>0x0){_0x109ca4[_0x5f2fa4(0x9d)]((_0xb7037f,_0x55b37e)=>_0x55b37e[_0x5f2fa4(0xf9)]-_0xb7037f[_0x5f2fa4(0xf9)]);if(_0x109ca4[0x0][_0x5f2fa4(0xf9)]>0x0)return _0x109ca4[0x0]['id'];}}}catch(_0x30e023){}return null;}async function scanThermostats(_0x52c05c){const _0x55aaac=a1_0x5aed9a,_0x574abb=_0x52c05c[_0x55aaac(0xa0)]['devices']||[],_0x241fc6=[],_0x3941ad=_0x574abb[_0x55aaac(0xd9)](_0x2c5377=>_0x2c5377['id']&&_0x2c5377['id'][_0x55aaac(0x10f)](_0x55aaac(0x11f))||_0x2c5377[_0x55aaac(0xa7)]&&[_0x55aaac(0x11f),_0x55aaac(0xbc),_0x55aaac(0xf2)][_0x55aaac(0x10f)](_0x2c5377[_0x55aaac(0xa7)])||_0x2c5377[_0x55aaac(0xb1)]&&_0x2c5377['name']['toLowerCase']()[_0x55aaac(0x10f)](_0x55aaac(0xbd)));for(const _0x32f107 of _0x3941ad){const _0x2e01cf=await findRelatedId(_0x52c05c,_0x32f107['id'],'setpoint'),_0x22793d=await findRelatedId(_0x52c05c,_0x32f107['id'],'valve');let _0x3f2ce3=_0x55aaac(0xfc),_0x423690=![],_0x43e67d=_0x52c05c[_0x55aaac(0xa0)][_0x55aaac(0xaa)]||{};if(typeof _0x43e67d===_0x55aaac(0x8f))try{_0x43e67d=JSON[_0x55aaac(0x11a)](_0x43e67d);}catch(_0x5d805c){}let _0x251581=_0x52c05c[_0x55aaac(0xa0)][_0x55aaac(0xb4)]||{};if(typeof _0x251581==='string')try{_0x251581=JSON['parse'](_0x251581);}catch(_0x3da176){}if(_0x43e67d[_0x32f107['id']]&&_0x43e67d[_0x32f107['id']]===_0x2e01cf||_0x251581[_0x32f107['id']]&&_0x251581[_0x32f107['id']]===_0x22793d)_0x3f2ce3=_0x55aaac(0xbf),_0x423690=!![];else(_0x2e01cf||_0x22793d)&&(_0x3f2ce3=_0x55aaac(0xf5));_0x241fc6[_0x55aaac(0xf6)]({'room':_0x32f107[_0x55aaac(0xd8)]||_0x55aaac(0xba),'sensorId':_0x32f107['id'],'setpointId':_0x2e01cf||'-','valveId':_0x22793d||'-','source':_0x3f2ce3,'isManual':_0x423690,'status':_0x2e01cf&&_0x22793d?_0x55aaac(0xab):_0x2e01cf?'OK':_0x55aaac(0xd3)});}return _0x241fc6['sort']((_0x5e5251,_0x35150d)=>_0x5e5251['room'][_0x55aaac(0xd2)](_0x35150d['room']));}async function updateSchedulePreview(_0x3083a5){const _0x56c5fa=a1_0x5aed9a;if(!_0x3083a5[_0x56c5fa(0xa0)][_0x56c5fa(0xc5)]||!_0x3083a5[_0x56c5fa(0xa0)]['calendarInstance'])return;let _0x337cbf={};try{const _0x2f625c=await _0x3083a5[_0x56c5fa(0xfe)](_0x56c5fa(0x11d));if(_0x2f625c&&_0x2f625c['val'])_0x337cbf=JSON[_0x56c5fa(0x11a)](_0x2f625c['val']);}catch(_0x40a0a3){}const _0xc448c9=[],_0x5b25b2=Date[_0x56c5fa(0x115)](),_0x35578d=0x30*0x3c*0x3c*0x3e8;try{const _0xb79999=await _0x3083a5[_0x56c5fa(0xfb)](_0x3083a5[_0x56c5fa(0xa0)][_0x56c5fa(0xeb)]+_0x56c5fa(0x132));if(!_0xb79999||!_0xb79999[_0x56c5fa(0x9c)])return;const _0xc473d4=JSON[_0x56c5fa(0x11a)](_0xb79999[_0x56c5fa(0x9c)]),_0x3e5cab=_0x3083a5[_0x56c5fa(0xa0)]['calendarSelection']||[],_0x196c49=_0x3083a5[_0x56c5fa(0xa0)][_0x56c5fa(0x113)]||[],_0x4d1833=new Set();_0x196c49[_0x56c5fa(0x10d)](_0x33b4dd=>{const _0x45fb05=_0x56c5fa;if(_0x33b4dd['location'])_0x4d1833['add'](_0x33b4dd[_0x45fb05(0xd8)]);});for(const _0x5c9d80 of _0xc473d4){if(_0x5c9d80[_0x56c5fa(0x8d)]&&_0x3e5cab[_0x56c5fa(0xdf)]>0x0&&!_0x3e5cab[_0x56c5fa(0x10f)](_0x5c9d80['_calName']))continue;const _0x28f9c5=_0x5c9d80[_0x56c5fa(0x9b)]||_0x5c9d80[_0x56c5fa(0x10a)]||_0x5c9d80[_0x56c5fa(0x7e)];if(!_0x28f9c5)continue;const _0x4bd014=new Date(_0x28f9c5),_0x29a61c=_0x4bd014[_0x56c5fa(0x7c)]();if(isNaN(_0x29a61c))continue;if(_0x29a61c<_0x5b25b2)continue;if(_0x29a61c>_0x5b25b2+_0x35578d)continue;const _0xc14a62=(_0x5c9d80[_0x56c5fa(0x9e)]||_0x5c9d80['summary']||'')[_0x56c5fa(0xa8)]();let _0x2830d8=![],_0x472a96=[],_0x325c2e=_0x5c9d80[_0x56c5fa(0x9e)]||_0x5c9d80[_0x56c5fa(0xf3)]||_0x56c5fa(0xba);if(_0xc14a62[_0x56c5fa(0x10f)](_0x56c5fa(0x10e))||_0xc14a62[_0x56c5fa(0x10f)](_0x56c5fa(0xd0))||_0xc14a62[_0x56c5fa(0x10f)]('ankunft'))_0x2830d8=!![],_0x472a96=Array[_0x56c5fa(0xac)](_0x4d1833);else for(const _0x4ca195 of _0x4d1833){if(_0xc14a62[_0x56c5fa(0x10f)](_0x4ca195[_0x56c5fa(0xa8)]()))_0x472a96[_0x56c5fa(0xf6)](_0x4ca195);}_0x472a96[_0x56c5fa(0xdf)]>0x0&&_0x472a96[_0x56c5fa(0x10d)](_0x4cfa80=>{const _0x370bb7=_0x56c5fa;let _0x1856b6=0x3c;if(_0x2830d8){let _0x2806c9=0x0;Object[_0x370bb7(0xb6)](_0x337cbf)[_0x370bb7(0x10d)](_0xae496a=>{if(_0xae496a>_0x2806c9)_0x2806c9=_0xae496a;}),_0x1856b6=_0x2806c9>0x0?_0x2806c9:0x78;}else _0x1856b6=getWarmupRobust(_0x337cbf,_0x4cfa80);const _0x5e192b=new Date(_0x29a61c-_0x1856b6*0xea60);_0xc448c9[_0x370bb7(0xf6)]({'eventTime':_0x29a61c,'triggerTime':_0x5e192b[_0x370bb7(0x7c)](),'room':_0x4cfa80,'minutes':_0x1856b6,'reason':_0x325c2e,'isGlobal':_0x2830d8});});}}catch(_0x5649be){}_0xc448c9['sort']((_0x7c9b3b,_0x26bdde)=>_0x7c9b3b[_0x56c5fa(0xe6)]-_0x26bdde[_0x56c5fa(0xe6)]);const _0x5ed0dc=_0xc448c9['slice'](0x0,0x1e);await _0x3083a5[_0x56c5fa(0xa1)]('analysis.energy.schedulePreview',{'val':JSON[_0x56c5fa(0x9a)](_0x5ed0dc),'ack':!![]});}async function monitorEnforcements(_0x1c8297){const _0x4710d6=a1_0x5aed9a;try{const _0x5d0391=_0x4710d6(0x107),_0x3868d7=await _0x1c8297['getStateAsync'](_0x5d0391);if(!_0x3868d7||!_0x3868d7[_0x4710d6(0x9c)])return;let _0x41d310=[];try{_0x41d310=JSON[_0x4710d6(0x11a)](_0x3868d7[_0x4710d6(0x9c)]);}catch(_0x5998b8){return;}if(!Array[_0x4710d6(0x72)](_0x41d310)||_0x41d310[_0x4710d6(0xdf)]===0x0)return;const _0xbe985f=Date['now'](),_0x2d6b76=_0x1c8297[_0x4710d6(0xa0)][_0x4710d6(0x113)]||[];let _0x4e3764=![];for(let _0x168f40=_0x41d310['length']-0x1;_0x168f40>=0x0;_0x168f40--){const _0x2e2978=_0x41d310[_0x168f40];if(_0xbe985f>=_0x2e2978[_0x4710d6(0x138)]){_0x1c8297[_0x4710d6(0x76)][_0x4710d6(0xb9)](_0x4710d6(0xcd)+_0x2e2978[_0x4710d6(0x133)]+_0x4710d6(0xad)),_0x41d310[_0x4710d6(0x75)](_0x168f40,0x1),_0x4e3764=!![];continue;}const _0x2dc256=_0x2d6b76[_0x4710d6(0x91)](_0x549de3=>normalize(_0x549de3[_0x4710d6(0xd8)])===normalize(_0x2e2978[_0x4710d6(0x133)])&&(_0x549de3[_0x4710d6(0xa7)]===_0x4710d6(0x11f)||_0x549de3[_0x4710d6(0xa7)]===_0x4710d6(0xbc)));if(_0x2dc256){const _0x40aadf=await findRelatedId(_0x1c8297,_0x2dc256['id'],_0x4710d6(0xd1));if(_0x40aadf){const _0x2bfe93=await _0x1c8297[_0x4710d6(0xfb)](_0x40aadf);_0x2bfe93&&typeof _0x2bfe93['val']===_0x4710d6(0x74)&&(_0x2bfe93['val']<0xf&&(_0x1c8297[_0x4710d6(0x76)][_0x4710d6(0x86)](_0x4710d6(0x12a)+_0x2e2978[_0x4710d6(0x133)]+_0x4710d6(0x11e)+_0x2bfe93[_0x4710d6(0x9c)]+'¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20'+_0x2e2978[_0x4710d6(0x8c)]+'¬∞C.'),await _0x1c8297['setForeignStateAsync'](_0x40aadf,_0x2e2978[_0x4710d6(0x8c)]),await logAutomationAction(_0x1c8297,_0x4710d6(0xb0)+_0x2e2978[_0x4710d6(0x133)]+':\x20'+_0x2bfe93[_0x4710d6(0x9c)]+_0x4710d6(0x85)+_0x2e2978[_0x4710d6(0x8c)]+_0x4710d6(0x121))));}}}_0x4e3764&&await _0x1c8297[_0x4710d6(0xa1)](_0x5d0391,{'val':JSON[_0x4710d6(0x9a)](_0x41d310),'ack':!![]});}catch(_0x553102){_0x1c8297[_0x4710d6(0x76)]['error'](_0x4710d6(0xde)+_0x553102['message']);}}async function checkCalendarTriggers(_0x43ed76){const _0x24546d=a1_0x5aed9a;if(!_0x43ed76['config']['useCalendar']||!_0x43ed76[_0x24546d(0xa0)][_0x24546d(0xeb)])return;await updateSchedulePreview(_0x43ed76);let _0x502ea3={},_0x3a3044={};try{const _0x150ce9=await _0x43ed76[_0x24546d(0xfe)]('analysis.energy.warmupTimes');if(_0x150ce9&&_0x150ce9[_0x24546d(0x9c)])_0x502ea3=JSON['parse'](_0x150ce9[_0x24546d(0x9c)]);const _0x16a2b0=await _0x43ed76[_0x24546d(0xfe)](_0x24546d(0xca));if(_0x16a2b0&&_0x16a2b0['val'])_0x3a3044=JSON[_0x24546d(0x11a)](_0x16a2b0[_0x24546d(0x9c)]);}catch(_0x174809){}let _0x29d251={'default':0x15};try{const _0x4fc996=await _0x43ed76[_0x24546d(0xfe)]('analysis.energy.warmupTargets');if(_0x4fc996&&_0x4fc996[_0x24546d(0x9c)])_0x29d251=JSON[_0x24546d(0x11a)](_0x4fc996[_0x24546d(0x9c)]);}catch(_0x55bb84){}let _0x2bf47a=[];try{const _0x10f517=await _0x43ed76[_0x24546d(0xfe)](_0x24546d(0x107));if(_0x10f517&&_0x10f517[_0x24546d(0x9c)])_0x2bf47a=JSON[_0x24546d(0x11a)](_0x10f517[_0x24546d(0x9c)]);}catch(_0x339dac){}try{const _0x31cd2e=await _0x43ed76['getForeignStateAsync'](_0x43ed76[_0x24546d(0xa0)]['calendarInstance']+_0x24546d(0x132));if(!_0x31cd2e||!_0x31cd2e[_0x24546d(0x9c)])return;const _0x27d72c=JSON['parse'](_0x31cd2e[_0x24546d(0x9c)]),_0x5aef30=Date[_0x24546d(0x115)](),_0x3e7f62=_0x43ed76['config'][_0x24546d(0x113)]||[],_0x227b8b=_0x43ed76[_0x24546d(0xa0)]['calendarSelection']||[];let _0x39e077=![];for(const _0x171e25 of _0x27d72c){if(_0x171e25[_0x24546d(0x8d)]&&_0x227b8b[_0x24546d(0xdf)]>0x0&&!_0x227b8b[_0x24546d(0x10f)](_0x171e25[_0x24546d(0x8d)]))continue;const _0xbcc9e0=_0x171e25['_date']||_0x171e25['eventStart']||_0x171e25['date'];if(!_0xbcc9e0)continue;const _0x5a6661=new Date(_0xbcc9e0);if(isNaN(_0x5a6661[_0x24546d(0x7c)]()))continue;const _0x2a19b1=(_0x171e25[_0x24546d(0x9e)]||_0x171e25[_0x24546d(0xf3)]||'')[_0x24546d(0xa8)]();if(_0x2a19b1[_0x24546d(0x10f)]('urlaub\x20ende')||_0x2a19b1[_0x24546d(0x10f)](_0x24546d(0xd0))||_0x2a19b1[_0x24546d(0x10f)](_0x24546d(0x80))){let _0x1a2f83=0x0;Object['values'](_0x502ea3)[_0x24546d(0x10d)](_0x44bedf=>{if(_0x44bedf>_0x1a2f83)_0x1a2f83=_0x44bedf;});if(_0x1a2f83===0x0)_0x1a2f83=0x78;const _0x5d0962=_0x5a6661[_0x24546d(0x7c)]()-_0x1a2f83*0xea60;_0x5aef30>=_0x5d0962&&_0x5aef30<_0x5a6661[_0x24546d(0x7c)]()&&(_0x43ed76[_0x24546d(0x89)]!=='normal'&&(_0x43ed76['log'][_0x24546d(0xb9)](_0x24546d(0x112)+_0x1a2f83+_0x24546d(0xf4)),await _0x43ed76['setStateAsync'](_0x24546d(0x12f),{'val':_0x24546d(0x78),'ack':![]})));}for(const _0x42140d of _0x3e7f62){if(_0x42140d[_0x24546d(0xd8)]){const _0x13bc3f=_0x42140d[_0x24546d(0xd8)]['toLowerCase'](),_0x2cd108=(_0x42140d[_0x24546d(0xb1)]||'')[_0x24546d(0xa8)]();let _0x5a8071=_0x2a19b1['includes'](_0x13bc3f);!_0x5a8071&&_0x2cd108['length']>0x3&&_0x2a19b1[_0x24546d(0x10f)](_0x2cd108)&&(_0x5a8071=!![]);if(_0x5a8071){const _0x295917=getWarmupRobust(_0x502ea3,_0x42140d[_0x24546d(0xd8)]),_0x12b081=_0x3a3044[_0x42140d[_0x24546d(0xd8)]]||_0x24546d(0x105),_0x28233f=_0x5a6661['getTime']()-_0x295917*0xea60;if(_0x5aef30>=_0x28233f&&_0x5aef30<_0x5a6661[_0x24546d(0x7c)]()){const _0x38ff9f=lastActions[_0x24546d(0xcf)+_0x42140d[_0x24546d(0xd8)]];if(_0x38ff9f&&_0x5aef30-_0x38ff9f<CAL_COOLDOWN_MS)continue;const _0x57e8ba=await findRelatedId(_0x43ed76,_0x42140d['id'],_0x24546d(0xd1));if(_0x57e8ba){let _0x3360c3=_0x29d251[_0x42140d[_0x24546d(0xd8)]];if(_0x3360c3===undefined)_0x3360c3=_0x29d251['default'];if(_0x3360c3===undefined)_0x3360c3=0x15;const _0x6bd2cd=await _0x43ed76[_0x24546d(0xfb)](_0x57e8ba);if(_0x6bd2cd&&typeof _0x6bd2cd[_0x24546d(0x9c)]===_0x24546d(0x74)&&_0x6bd2cd[_0x24546d(0x9c)]<_0x3360c3-0.5){_0x43ed76[_0x24546d(0x76)][_0x24546d(0xb9)]('üìÖ\x20SMART\x20SCHEDULE\x20['+_0x12b081+_0x24546d(0xaf)+_0x42140d[_0x24546d(0xd8)]+_0x24546d(0x95)+_0x2a19b1+')\x20aktiv.\x20Heize\x20auf\x20'+_0x3360c3+_0x24546d(0x100)+_0x295917+_0x24546d(0xf4)),await _0x43ed76[_0x24546d(0xb8)](_0x57e8ba,_0x3360c3),await logAutomationAction(_0x43ed76,_0x24546d(0x130)+_0x42140d['location']+_0x24546d(0xed)+_0x3360c3+_0x24546d(0xb3)+_0x12b081+')'),lastActions['cal_'+_0x42140d[_0x24546d(0xd8)]]=_0x5aef30;const _0x4902b1=_0x2bf47a[_0x24546d(0x117)](_0x316d0e=>_0x316d0e[_0x24546d(0x133)]===_0x42140d[_0x24546d(0xd8)]);if(_0x4902b1!==-0x1)_0x2bf47a[_0x24546d(0x75)](_0x4902b1,0x1);_0x2bf47a[_0x24546d(0xf6)]({'room':_0x42140d[_0x24546d(0xd8)],'target':_0x3360c3,'until':_0x5a6661[_0x24546d(0x7c)]()}),_0x39e077=!![];}}}}}}}_0x39e077&&await _0x43ed76[_0x24546d(0xa1)]('analysis.energy.activeEnforcements',{'val':JSON[_0x24546d(0x9a)](_0x2bf47a),'ack':!![]});}catch(_0x46025a){_0x43ed76[_0x24546d(0x76)][_0x24546d(0x86)]('Calendar\x20Check\x20Error:\x20'+_0x46025a[_0x24546d(0x79)]);}}async function manageMpcIntervention(_0x2b5725,_0x1451b3,_0x502fe7){const _0x32dcdc=a1_0x5aed9a;try{const _0x1ff301=_0x32dcdc(0xc6),_0x1748c0=await _0x2b5725[_0x32dcdc(0xfe)](_0x1ff301);let _0x5eea59=[];if(_0x1748c0&&_0x1748c0[_0x32dcdc(0x9c)])try{_0x5eea59=JSON['parse'](_0x1748c0[_0x32dcdc(0x9c)]);}catch(_0x2e1954){}const _0x828e95=_0x5eea59[_0x32dcdc(0xc8)](_0x1451b3);if(_0x502fe7==='add')_0x828e95===-0x1&&(_0x5eea59[_0x32dcdc(0xf6)](_0x1451b3),await _0x2b5725[_0x32dcdc(0xa1)](_0x1ff301,{'val':JSON[_0x32dcdc(0x9a)](_0x5eea59),'ack':!![]}));else _0x502fe7===_0x32dcdc(0x125)&&(_0x828e95!==-0x1&&(_0x5eea59[_0x32dcdc(0x75)](_0x828e95,0x1),await _0x2b5725[_0x32dcdc(0xa1)](_0x1ff301,{'val':JSON[_0x32dcdc(0x9a)](_0x5eea59),'ack':!![]})));}catch(_0x586390){}}async function cleanupGhostInterventions(_0x149ade){const _0x7ef5a5=a1_0x5aed9a;try{const _0x472d3b=_0x7ef5a5(0xc6),_0x253cda=await _0x149ade[_0x7ef5a5(0xfe)](_0x472d3b);if(!_0x253cda||!_0x253cda[_0x7ef5a5(0x9c)])return;const _0x3c2df8=JSON[_0x7ef5a5(0x11a)](_0x253cda[_0x7ef5a5(0x9c)]);if(!Array[_0x7ef5a5(0x72)](_0x3c2df8)||_0x3c2df8['length']===0x0)return;let _0x456532={'default':0x15};try{const _0x4ac680=await _0x149ade[_0x7ef5a5(0xfe)](_0x7ef5a5(0xa6));if(_0x4ac680&&_0x4ac680[_0x7ef5a5(0x9c)])_0x456532=JSON[_0x7ef5a5(0x11a)](_0x4ac680['val']);}catch(_0x21a7fb){}let _0x21e15e=[];try{const _0x452022=await _0x149ade[_0x7ef5a5(0xfe)](_0x7ef5a5(0x77));if(_0x452022&&_0x452022[_0x7ef5a5(0x9c)])_0x21e15e=JSON[_0x7ef5a5(0x11a)](_0x452022['val']);}catch(_0x47f05c){}let _0x220c5d={},_0x31455f=![];try{const _0x5dad69=await _0x149ade[_0x7ef5a5(0xfe)](_0x7ef5a5(0xdd));if(_0x5dad69&&_0x5dad69[_0x7ef5a5(0x9c)])_0x220c5d=JSON[_0x7ef5a5(0x11a)](_0x5dad69['val']);}catch(_0x3ad83d){}if(_0x220c5d[_0x7ef5a5(0x84)]){const _0x536755=Date['now']();for(const [_0x45f3dd,_0x223c07]of Object['entries'](_0x220c5d[_0x7ef5a5(0x84)])){_0x536755-_0x223c07>PENALTY_TTL&&(delete _0x220c5d[_0x45f3dd],delete _0x220c5d[_0x7ef5a5(0x84)][_0x45f3dd],_0x31455f=!![],_0x149ade[_0x7ef5a5(0x76)][_0x7ef5a5(0xb9)]('üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27'+_0x45f3dd+_0x7ef5a5(0xd4)));}}const _0x1de665=_0x149ade[_0x7ef5a5(0xa0)][_0x7ef5a5(0x113)]||[];let _0x37eafd=![];for(let _0x26ad3f=_0x3c2df8['length']-0x1;_0x26ad3f>=0x0;_0x26ad3f--){const _0x52c8da=_0x3c2df8[_0x26ad3f],_0x325501=_0x1de665['find'](_0x3d5125=>normalize(_0x3d5125[_0x7ef5a5(0xd8)])===normalize(_0x52c8da)&&(_0x3d5125['type']===_0x7ef5a5(0x11f)||_0x3d5125[_0x7ef5a5(0xa7)]==='thermostat'));if(!_0x325501){_0x149ade[_0x7ef5a5(0x76)][_0x7ef5a5(0x86)](_0x7ef5a5(0xfa)+_0x52c8da+_0x7ef5a5(0xe2)),_0x3c2df8[_0x7ef5a5(0x75)](_0x26ad3f,0x1),_0x37eafd=!![];continue;}if(_0x325501){const _0x159394=await findRelatedId(_0x149ade,_0x325501['id'],_0x7ef5a5(0xd1)),_0x2411e7=await _0x149ade[_0x7ef5a5(0xfb)](_0x325501['id']);if(_0x159394){const _0x4efbc2=await _0x149ade['getForeignStateAsync'](_0x159394);if(_0x4efbc2&&typeof _0x4efbc2[_0x7ef5a5(0x9c)]==='number'){let _0x39f9bb=![],_0x2ad820='';Math[_0x7ef5a5(0x88)](_0x4efbc2[_0x7ef5a5(0x9c)]-ECO_TEMP)>0.5&&(_0x39f9bb=!![],_0x2ad820=_0x7ef5a5(0x134));if(!_0x39f9bb&&_0x2411e7&&typeof _0x2411e7[_0x7ef5a5(0x9c)]===_0x7ef5a5(0x74)){const _0x235880=_0x456532[_0x52c8da]||_0x456532[_0x7ef5a5(0x7a)]||0x15;_0x2411e7['val']<_0x235880+0.2&&(_0x39f9bb=!![],_0x2ad820=_0x7ef5a5(0xc9));}if(_0x39f9bb){if(_0x2ad820===_0x7ef5a5(0x134)){_0x149ade[_0x7ef5a5(0x76)][_0x7ef5a5(0xb9)](_0x7ef5a5(0xce)+_0x52c8da+'\x20ist\x20auf\x20'+_0x4efbc2[_0x7ef5a5(0x9c)]+_0x7ef5a5(0xc3)+ECO_TEMP+_0x7ef5a5(0xcc));const _0xfedf2c=lastActions[_0x7ef5a5(0xcf)+_0x52c8da],_0x3db344=_0xfedf2c&&Date[_0x7ef5a5(0x115)]()-_0xfedf2c<0x2*0x3c*0x3e8;if(!_0x3db344&&_0x4efbc2[_0x7ef5a5(0x9c)]>ECO_TEMP+0.5){_0x149ade['sendToPythonWrapper']&&(_0x149ade[_0x7ef5a5(0x76)][_0x7ef5a5(0xb9)](_0x7ef5a5(0x12d)+_0x52c8da+_0x7ef5a5(0xe5)),_0x149ade[_0x7ef5a5(0xff)]('TRAIN_RL_PENALTY',{'room':_0x52c8da}));const _0x1662ed=_0x52c8da+'_'+new Date()[_0x7ef5a5(0x98)]();if(!_0x220c5d[_0x1662ed]){_0x220c5d[_0x1662ed]=0x1;if(!_0x220c5d[_0x7ef5a5(0x84)])_0x220c5d[_0x7ef5a5(0x84)]={};_0x220c5d[_0x7ef5a5(0x84)][_0x1662ed]=Date['now'](),_0x31455f=!![];}}else _0x3db344&&_0x149ade['log'][_0x7ef5a5(0xb9)](_0x7ef5a5(0x99)+_0x52c8da+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x2ad820==='too_cold'){let _0x280b=![];if(_0x21e15e[_0x7ef5a5(0x91)](_0x911211=>_0x911211[_0x7ef5a5(0x133)]===_0x52c8da))_0x280b=!![];const _0x1a3850=_0x1de665['filter'](_0x538ccb=>normalize(_0x538ccb['location'])===normalize(_0x52c8da)&&(_0x538ccb[_0x7ef5a5(0xa7)]==='window'||_0x538ccb['type']===_0x7ef5a5(0xf2)||_0x538ccb[_0x7ef5a5(0xa7)]==='contact'));for(const _0x5db2e6 of _0x1a3850){try{const _0x3c0d20=await _0x149ade[_0x7ef5a5(0xfb)](_0x5db2e6['id']);if(_0x3c0d20&&(_0x3c0d20[_0x7ef5a5(0x9c)]===!![]||_0x3c0d20[_0x7ef5a5(0x9c)]===0x1||String(_0x3c0d20[_0x7ef5a5(0x9c)])[_0x7ef5a5(0xa8)]()===_0x7ef5a5(0x126)))_0x280b=!![];}catch(_0x2dcef6){}}if(_0x280b)_0x149ade[_0x7ef5a5(0x76)][_0x7ef5a5(0xb9)](_0x7ef5a5(0x109)+_0x52c8da+_0x7ef5a5(0x102));else{const _0x26ebcb=_0x456532[_0x52c8da]||_0x456532['default']||0x15;_0x149ade[_0x7ef5a5(0x76)][_0x7ef5a5(0xb9)](_0x7ef5a5(0x93)+_0x52c8da+_0x7ef5a5(0x12c)+_0x2411e7['val']+'¬∞C\x20<\x20'+(_0x26ebcb+0.2)+_0x7ef5a5(0xf7)),await _0x149ade[_0x7ef5a5(0xb8)](_0x159394,_0x26ebcb),await logAutomationAction(_0x149ade,'[WATCHDOG]\x20'+_0x52c8da+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x26ebcb+'¬∞C'),lastActions[_0x7ef5a5(0xf0)+_0x52c8da]=Date['now']();}}}_0x3c2df8['splice'](_0x26ad3f,0x1),_0x37eafd=!![];}}}}}_0x37eafd&&await _0x149ade['setStateAsync'](_0x472d3b,{'val':JSON[_0x7ef5a5(0x9a)](_0x3c2df8),'ack':!![]}),_0x31455f&&await _0x149ade[_0x7ef5a5(0xa1)](_0x7ef5a5(0xdd),{'val':JSON['stringify'](_0x220c5d),'ack':!![]});}catch(_0x3c10e1){}}async function applyEnergySavings(_0x3c76ec,_0x5e1d36){const _0x2b6407=a1_0x5aed9a;await cleanupGhostInterventions(_0x3c76ec);if(!_0x5e1d36||_0x5e1d36[_0x2b6407(0xdf)]===0x0)return;const _0x6a0edf=_0x3c76ec['config'][_0x2b6407(0x113)]||[],_0x556367=Date[_0x2b6407(0x115)]();for(const _0x2b007a of _0x5e1d36){const _0x2339f1=_0x2b007a[_0x2b6407(0x133)],_0x257950=_0x2b007a[_0x2b6407(0xe4)],_0x144a68=_0x2b007a[_0x2b6407(0x8c)]||0x15;if(lastActions[_0x2b6407(0xf0)+_0x2339f1]&&_0x556367-lastActions['rescue_'+_0x2339f1]<RESCUE_LOCK_MS)continue;const _0x8d491b=_0x6a0edf[_0x2b6407(0x91)](_0x4433d6=>normalize(_0x4433d6[_0x2b6407(0xd8)])===normalize(_0x2339f1)&&(_0x4433d6[_0x2b6407(0xa7)]===_0x2b6407(0x11f)||_0x4433d6['type']===_0x2b6407(0xbc)));if(!_0x8d491b)continue;const _0xd3cd83=await findRelatedId(_0x3c76ec,_0x8d491b['id'],_0x2b6407(0xd1));if(_0xd3cd83){if(lastActions[_0x2b6407(0xda)+_0x2339f1]&&_0x556367-lastActions['mpc_'+_0x2339f1]<0x1e*0x3c*0x3e8)continue;const _0x10b02b=await _0x3c76ec[_0x2b6407(0xfb)](_0xd3cd83);if(_0x10b02b&&typeof _0x10b02b[_0x2b6407(0x9c)]===_0x2b6407(0x74)){const _0x5798e3=_0x10b02b[_0x2b6407(0x9c)];_0x5798e3!==ECO_TEMP&&await manageMpcIntervention(_0x3c76ec,_0x2339f1,_0x2b6407(0x125));if(_0x257950>0x1e)_0x5798e3>ECO_TEMP+0.5&&(_0x3c76ec[_0x2b6407(0x76)]['info'](_0x2b6407(0x114)+_0x2339f1+_0x2b6407(0x11e)+ECO_TEMP+_0x2b6407(0x83)+_0x257950+_0x2b6407(0xe0)),await _0x3c76ec[_0x2b6407(0xb8)](_0xd3cd83,ECO_TEMP),await manageMpcIntervention(_0x3c76ec,_0x2339f1,_0x2b6407(0xf1)),lastActions[_0x2b6407(0xda)+_0x2339f1]=_0x556367,await logAutomationAction(_0x3c76ec,_0x2b6407(0x8a)+_0x2339f1+_0x2b6407(0xef)+ECO_TEMP+'¬∞C'));else _0x257950<=0xf&&(_0x5798e3<_0x144a68&&(_0x3c76ec[_0x2b6407(0x76)][_0x2b6407(0xb9)]('üî•\x20[MPC\x20ACTION]\x20Heize\x20'+_0x2339f1+_0x2b6407(0x106)+_0x144a68+_0x2b6407(0x116)),await _0x3c76ec[_0x2b6407(0xb8)](_0xd3cd83,_0x144a68),await manageMpcIntervention(_0x3c76ec,_0x2339f1,'remove'),lastActions[_0x2b6407(0xda)+_0x2339f1]=_0x556367,await logAutomationAction(_0x3c76ec,_0x2b6407(0x8a)+_0x2339f1+_0x2b6407(0xc7)+_0x144a68+'¬∞C')));}}else _0x3c76ec[_0x2b6407(0x76)][_0x2b6407(0x86)](_0x2b6407(0x7d)+_0x2339f1+_0x2b6407(0x8e));}}function a1_0x21a2(){const _0x19e693=['role','¬∞C\x20(Kalender-Schutz)','.4.VALVE_STATE','replace','reason','remove','open','state','thermostat.setpoint','251716rXRdAD','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','map','\x20erreicht\x20Limit\x20(','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','active','system.mode','[CAL]\x20','constructor','.data.table','room','manual','off','local_temperature','openknx','until','Pr√§diktion:\x20','isArray','stellwert','number','splice','log','analysis.energy.ventilationAlerts','normal','message','default','2727090kKVHDq','getTime','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','date','common','ankunft','exports','Ist','¬∞C!\x20(Puffer:\x20','_meta','¬∞C\x20->\x20','warn','SET_POINT_TEMPERATURE','abs','currentSystemMode','[MPC]\x20','./ai_agent','target','_calName','\x20gefunden!','string','.4.SET_TEMPERATURE','find','15emJbAT','üö®\x20[MPC\x20WATCHDOG]\x20','light','\x27\x20(Match:\x20','valve','toString','getHours','üìÖ\x20[MPC\x20INFO]\x20','stringify','_date','val','sort','event','.1.LEVEL','config','setStateAsync','.1.ACTUAL_TEMPERATURE','switch','soll','split','analysis.energy.warmupTargets','type','toLowerCase','level.valve','thermostatMapping','PERFECT','from','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','67730xgvxuf',']:\x20Raum-Trigger\x20\x27','[FORCE]\x20','name','analysis.automation.actionLog','¬∞C\x20(via\x20','valveMapping','set','values','\x20->\x20Schalte\x20','setForeignStateAsync','info','Unbekannt','42oWQjnk','thermostat','temp','6ImcYRq','Manuelles\x20Mapping','approved','161358jGKMDq','analysis.automation.lastAction','¬∞C\x20(nicht\x20','(((.+)+)+)+$','useCalendar','analysis.energy.mpcActiveInterventions',':\x20Aufheizen\x20auf\x20','indexOf','too_cold','analysis.energy.warmupSources','current_heating_setpoint','¬∞C).\x20Entferne\x20Status.','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','üßπ\x20[MPC\x20CLEANUP]\x20','cal_','r√ºckkehr','setpoint','localeCompare','Fehlt','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','Unknown','level','occupied_heating_setpoint','location','filter','mpc_','actual','.1.TEMPERATURE','analysis.energy.rlPenalties','Enforcement\x20Monitor\x20Error:\x20','length','\x20min)','analysis.automation.mode','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','wert','minutes_safe','\x20wurde\x20manuell\x20erh√∂ht.','triggerTime','82121FQSiDg','319ubAYxo','trim','level.temperature','calendarInstance','ACTUAL_TEMPERATURE','\x20->\x20','unit',':\x20Absenkung\x20auf\x20','rescue_','add','sensor','summary','\x20min).','Auto-Erkennung','push','¬∞C).\x20Sparmodus\x20beendet!','921978HqflGD','score','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','getForeignStateAsync','Nicht\x20gefunden','.1.SET_POINT_TEMPERATURE','getStateAsync','sendToPythonWrapper','¬∞C\x20(Vorlauf:\x20','position','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','valve_position','join','Classic','\x20wieder\x20auf\x20','analysis.energy.activeEnforcements','SET','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','eventStart','toUpperCase','value.valve','forEach','urlaub\x20ende','includes','2072912zVGUXZ','search','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','devices','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','now','¬∞C!\x20(Puffer\x20leer).','findIndex','unshift','apply','parse','dimmer','slice','analysis.energy.warmupTimes','\x20auf\x20','temperature'];a1_0x21a2=function(){return _0x19e693;};return a1_0x21a2();}module[a1_0x5aed9a(0x81)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};