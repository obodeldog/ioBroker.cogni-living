const a1_0x44e112=a1_0x2397;(function(_0x5bc68e,_0x4b82cc){const _0x41419d=a1_0x2397,_0x4677e6=_0x5bc68e();while(!![]){try{const _0x5c9e16=parseInt(_0x41419d(0x115))/0x1+parseInt(_0x41419d(0xda))/0x2*(parseInt(_0x41419d(0x11b))/0x3)+parseInt(_0x41419d(0xf1))/0x4*(-parseInt(_0x41419d(0x107))/0x5)+-parseInt(_0x41419d(0x89))/0x6+parseInt(_0x41419d(0x101))/0x7+-parseInt(_0x41419d(0x12c))/0x8*(parseInt(_0x41419d(0xb9))/0x9)+-parseInt(_0x41419d(0x12d))/0xa*(-parseInt(_0x41419d(0xa1))/0xb);if(_0x5c9e16===_0x4b82cc)break;else _0x4677e6['push'](_0x4677e6['shift']());}catch(_0x25298a){_0x4677e6['push'](_0x4677e6['shift']());}}}(a1_0x5b2e,0xaf0b2));const a1_0x47075e=(function(){let _0xec52eb=!![];return function(_0xe1c77e,_0x5cfc5a){const _0x2d8aff=_0xec52eb?function(){const _0x539c45=a1_0x2397;if(_0x5cfc5a){const _0x342829=_0x5cfc5a[_0x539c45(0xb3)](_0xe1c77e,arguments);return _0x5cfc5a=null,_0x342829;}}:function(){};return _0xec52eb=![],_0x2d8aff;};}()),a1_0x3af66c=a1_0x47075e(this,function(){const _0x1494bd=a1_0x2397;return a1_0x3af66c[_0x1494bd(0x117)]()[_0x1494bd(0xca)](_0x1494bd(0x112))[_0x1494bd(0x117)]()[_0x1494bd(0xfe)](a1_0x3af66c)[_0x1494bd(0xca)](_0x1494bd(0x112));});a1_0x3af66c();'use strict';const aiAgent=require(a1_0x44e112(0xa3)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x316596){const _0x5342c2=a1_0x44e112;if(!_0x316596)return'';return _0x316596[_0x5342c2(0xe6)]()[_0x5342c2(0xb1)](/\s+/g,'')[_0x5342c2(0xb4)]();}function getWarmupRobust(_0x572b2b,_0x4932b6){const _0x5d674c=a1_0x44e112;if(!_0x572b2b||!_0x4932b6)return 0x3c;if(_0x572b2b[_0x4932b6]!==undefined)return _0x572b2b[_0x4932b6];const _0x387088=_0x4932b6[_0x5d674c(0xe6)]()['replace'](/Ã¤/g,'ae')[_0x5d674c(0xb1)](/Ã¶/g,'oe')[_0x5d674c(0xb1)](/Ã¼/g,'ue')[_0x5d674c(0xb1)](/ÃŸ/g,'ss')[_0x5d674c(0xb1)](/\s+/g,'_')[_0x5d674c(0xb1)](/[^a-z0-9_]/g,'');if(_0x572b2b[_0x387088]!==undefined)return _0x572b2b[_0x387088];return 0x3c;}async function logAutomationAction(_0xf5890,_0x59f091){const _0x3720e0=a1_0x44e112;await _0xf5890[_0x3720e0(0x122)](_0x3720e0(0x12f),{'val':_0x59f091,'ack':!![]});try{const _0x8382c7='analysis.automation.actionLog',_0x560b78=await _0xf5890[_0x3720e0(0xa0)](_0x8382c7);let _0x11df13=[];if(_0x560b78&&_0x560b78[_0x3720e0(0xfa)])try{_0x11df13=JSON[_0x3720e0(0x11c)](_0x560b78[_0x3720e0(0xfa)]);}catch(_0x5400d8){}_0x11df13['unshift']({'ts':Date[_0x3720e0(0x106)](),'msg':_0x59f091});if(_0x11df13[_0x3720e0(0x8b)]>0x32)_0x11df13=_0x11df13[_0x3720e0(0x124)](0x0,0x32);await _0xf5890[_0x3720e0(0x122)](_0x8382c7,{'val':JSON[_0x3720e0(0x138)](_0x11df13),'ack':!![]});}catch(_0x58faf7){}}async function handlePrediction(_0x81daf5,_0xd0a4e3,_0x155dfd){const _0x955268=a1_0x44e112;if(!_0xd0a4e3||_0xd0a4e3===_0x955268(0xfb))return;let _0x368b38='off',_0x982ba1=0.6;try{const _0x373ddd=await _0x81daf5[_0x955268(0xa0)](_0x955268(0x8a));if(_0x373ddd&&_0x373ddd[_0x955268(0xfa)])_0x368b38=_0x373ddd[_0x955268(0xfa)];const _0x59e6db=await _0x81daf5[_0x955268(0xa0)](_0x955268(0xcd));if(_0x59e6db&&_0x59e6db[_0x955268(0xfa)])_0x982ba1=_0x59e6db[_0x955268(0xfa)];}catch(_0x383d6d){}if(_0x368b38===_0x955268(0xf4)||_0x155dfd<_0x982ba1)return;const _0x51f20a=Date[_0x955268(0x106)]();if(lastActions[_0xd0a4e3]&&_0x51f20a-lastActions[_0xd0a4e3]<COOLDOWN_MS)return;const _0x165a9e=_0x81daf5['config']['devices']||[],_0x5557af=normalize(_0xd0a4e3),_0x568f00=_0x165a9e['find'](_0x218cd1=>normalize(_0x218cd1[_0x955268(0x137)])===_0x5557af&&(_0x218cd1[_0x955268(0x133)]===_0x955268(0xaf)||_0x218cd1['type']==='dimmer'||_0x218cd1[_0x955268(0x133)]==='switch'));if(!_0x568f00)return;const _0xa4ba46=await aiAgent[_0x955268(0x90)](_0x81daf5,_0xd0a4e3,_0x568f00[_0x955268(0xbe)],_0x155dfd);if(!_0xa4ba46['approved'])return;const _0x236761=_0x955268(0xc7)+_0xd0a4e3+_0x955268(0x141)+_0x568f00[_0x955268(0xbe)]+'\x20('+_0xa4ba46[_0x955268(0x139)]+')';await logAutomationAction(_0x81daf5,'['+_0x368b38['toUpperCase']()+']\x20'+_0x236761);if(_0x368b38===_0x955268(0x10e)){const _0x5b3703=await _0x81daf5[_0x955268(0xa4)](_0x568f00['id']);(!_0x5b3703||!_0x5b3703['val']&&_0x5b3703[_0x955268(0xfa)]!==!![])&&await _0x81daf5[_0x955268(0x95)](_0x568f00['id'],!![]),lastActions[_0xd0a4e3]=_0x51f20a;}}async function findRelatedId(_0x32bc8,_0x5542e8,_0x3a8b06=a1_0x44e112(0xef)){const _0x127227=a1_0x44e112;if(_0x3a8b06===_0x127227(0xef)&&_0x32bc8[_0x127227(0x136)]['thermostatMapping']){let _0x1f64a7=_0x32bc8[_0x127227(0x136)]['thermostatMapping'];if(typeof _0x1f64a7===_0x127227(0x121))try{_0x1f64a7=JSON[_0x127227(0x11c)](_0x1f64a7);}catch(_0x9f0ddb){}if(_0x1f64a7&&_0x1f64a7[_0x5542e8])return _0x1f64a7[_0x5542e8];}if(_0x3a8b06===_0x127227(0x10c)&&_0x32bc8[_0x127227(0x136)][_0x127227(0xfd)]){let _0x1bc647=_0x32bc8[_0x127227(0x136)][_0x127227(0xfd)];if(typeof _0x1bc647===_0x127227(0x121))try{_0x1bc647=JSON['parse'](_0x1bc647);}catch(_0x40138d){}if(_0x1bc647&&_0x1bc647[_0x5542e8])return _0x1bc647[_0x5542e8];}let _0x35bf71=[];if(_0x3a8b06===_0x127227(0xef))_0x35bf71=[{'s':_0x127227(0x128),'t':_0x127227(0x125)},{'s':'.1.TEMPERATURE','t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x127227(0x94),'t':_0x127227(0xce)},{'s':_0x127227(0x8c),'t':_0x127227(0xb7)},{'s':_0x127227(0x8f),'t':'occupied_heating_setpoint'},{'s':_0x127227(0x8f),'t':'current_heating_setpoint'},{'s':'temperature','t':_0x127227(0xd5)},{'s':_0x127227(0x98),'t':_0x127227(0x8e)},{'s':_0x127227(0xf2),'t':_0x127227(0xc1)},{'s':_0x127227(0xd6),'t':_0x127227(0xef)}];else _0x3a8b06===_0x127227(0x10c)&&(_0x35bf71=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x127227(0xd2)},{'s':_0x127227(0x94),'t':_0x127227(0xd2)},{'s':'.1.TEMPERATURE','t':'.4.VALVE_STATE'},{'s':_0x127227(0x8f),'t':_0x127227(0x9f)},{'s':_0x127227(0xd6),'t':_0x127227(0xb2)},{'s':_0x127227(0xd6),'t':_0x127227(0x102)}]);for(const _0x240fa5 of _0x35bf71){if(_0x5542e8[_0x127227(0x116)](_0x240fa5['s'])){const _0x3f3226=_0x5542e8[_0x127227(0xb1)](_0x240fa5['s'],_0x240fa5['t']),_0x22c741=await _0x32bc8[_0x127227(0xeb)](_0x3f3226);if(_0x22c741)return _0x3f3226;}}try{const _0x10e5b0=_0x5542e8['split']('.');if(_0x10e5b0[_0x127227(0x8b)]>0x2){const _0x52b0c3=_0x10e5b0[_0x127227(0x124)](0x0,-0x1)[_0x127227(0xfc)]('.'),_0x29824e=await _0x32bc8[_0x127227(0xbf)](_0x52b0c3+'.*'),_0x1f17aa=[],_0x7049a0=_0x5542e8[_0x127227(0xae)](/[._]+/)[_0x127227(0xcc)](_0x45c0d7=>![_0x127227(0x97),'0',_0x127227(0x96),_0x127227(0x126),'wert',_0x127227(0xd6),_0x127227(0x114),_0x127227(0xb5),_0x127227(0xf6),_0x127227(0xd8)][_0x127227(0x116)](_0x45c0d7['toLowerCase']()));for(const [_0x10200f,_0x161401]of Object[_0x127227(0xf9)](_0x29824e)){if(_0x10200f===_0x5542e8)continue;if(_0x161401&&_0x161401[_0x127227(0x12e)]){const _0x597cb2=_0x10200f[_0x127227(0xe6)](),_0x1cfe1a=(_0x161401[_0x127227(0x12e)]['role']||'')['toLowerCase'](),_0x26bf17=(_0x161401['common'][_0x127227(0xd4)]||'')[_0x127227(0xe6)]();let _0x585d57=![];if(_0x3a8b06===_0x127227(0xef)&&_0x161401[_0x127227(0x12e)][_0x127227(0xe2)]===!![])_0x585d57=_0x597cb2['includes'](_0x127227(0x92))||_0x597cb2[_0x127227(0x116)](_0x127227(0xdc))||_0x597cb2[_0x127227(0x116)](_0x127227(0x9a))||_0x1cfe1a[_0x127227(0x116)](_0x127227(0xd0))||_0x1cfe1a[_0x127227(0x116)](_0x127227(0x13a));else _0x3a8b06===_0x127227(0x10c)&&(_0x585d57=_0x597cb2[_0x127227(0x116)](_0x127227(0x102))||_0x597cb2[_0x127227(0x116)](_0x127227(0x10c))||_0x597cb2[_0x127227(0x116)](_0x127227(0xa6))||_0x597cb2['includes'](_0x127227(0xe8))||_0x1cfe1a['includes'](_0x127227(0x109))||_0x1cfe1a[_0x127227(0x116)]('value.valve')||_0x26bf17[_0x127227(0x116)]('%'));if(_0x585d57){const _0x246432=_0x10200f[_0x127227(0xae)](/[._]+/)['map'](_0x4f174a=>_0x4f174a[_0x127227(0xe6)]());let _0x5dce52=0x0;_0x7049a0[_0x127227(0x110)](_0x4c52a1=>{const _0x255c94=_0x127227;if(_0x246432[_0x255c94(0x116)](_0x4c52a1['toLowerCase']()))_0x5dce52++;}),_0x1f17aa['push']({'id':_0x10200f,'score':_0x5dce52});}}}if(_0x1f17aa[_0x127227(0x8b)]>0x0){_0x1f17aa[_0x127227(0x13d)]((_0x401f6a,_0x13696a)=>_0x13696a[_0x127227(0x8d)]-_0x401f6a[_0x127227(0x8d)]);if(_0x1f17aa[0x0][_0x127227(0x8d)]>0x0)return _0x1f17aa[0x0]['id'];}}}catch(_0xf69f95){}return null;}function a1_0x5b2e(){const _0x1fc715=['510077xYqxjh','includes','toString','_date','ðŸ§¹\x20[MPC\x20CLEANUP]\x20','Â°C\x20<\x20','23964adMuEO','parse','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','analysis.energy.ventilationAlerts','devices','.data.table','string','setStateAsync','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','slice','.1.SET_POINT_TEMPERATURE','ist','sendToPythonWrapper','.1.ACTUAL_TEMPERATURE','manual','Â°C!\x20(Puffer:\x20','warn','12008NVPXvA','80KOtmDk','common','analysis.automation.lastAction','Â°C\x20(Kalender-Schutz)','Â°C).\x20Sparmodus\x20beendet!','\x20wurde\x20manuell\x20erhÃ¶ht.','type','find','[FORCE]\x20','config','location','stringify','reason','thermostat.setpoint','analysis.energy.activeEnforcements','info','sort','\x20erreicht\x20Limit\x20(','date','[WATCHDOG]\x20','\x20->\x20Schalte\x20','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','Manuelles\x20Mapping','TRAIN_RL_PENALTY','thermostat','\x27\x20(Match:\x20',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','analysis.energy.warmupSources','Â°C.','values','push','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','abs','getTime','4305918GpZxMt','analysis.automation.mode','length','ACTUAL_TEMPERATURE','score','SET','local_temperature','consultButler','analysis.energy.mpcActiveInterventions','set','ankunft','.1.TEMPERATURE','setForeignStateAsync','hm-rpc','openknx','ACTUAL','triggerTime','target','useCalendar','\x20auf\x20','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','room','pi_heating_demand','getStateAsync','2280058yFYGnc','log','./ai_agent','getForeignStateAsync','Â°C\x20(nicht\x20','stellwert','normal','Â°C\x20(via\x20','error','Enforcement\x20Monitor\x20Error:\x20','Â°C\x20->\x20','eventStart','ðŸ“…\x20SMART\x20SCHEDULE\x20[','split','light','mpc_','replace','valve_position','apply','trim','sensor','Unbekannt','SET_POINT_TEMPERATURE','analysis.energy.rlPenalties','6723IVZpYA','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','indexOf','add','localeCompare','name','getForeignObjectsAsync','contact','Soll','window','number','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','[CAL]\x20','default','PrÃ¤diktion:\x20','_calName','message','search','until','filter','analysis.automation.confidenceThreshold','.4.SET_TEMPERATURE','from','level.temperature','analysis.energy.warmupTimes','.1.LEVEL','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','unit','target_temperature','temperature','rÃ¼ckkehr','state','\x20ist\x20auf\x20','274vlrPue','Â°C).\x20Entferne\x20Status.','soll','analysis.energy.warmupTargets','calendarInstance','Auto-Erkennung','\x20min).','Fehlt','write','thermostatMapping','Â°C!\x20(Puffer\x20leer).',')\x20aktiv.\x20Heize\x20auf\x20','toLowerCase','calendarSelection','position','too_cold','system.mode','getForeignObjectAsync','splice','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','analysis.energy.schedulePreview','setpoint','_meta','2444MMFmpE','Ist','cal_','off','minutes_safe','messwert','remove','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20','entries','val','Unknown','join','valveMapping','constructor','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','summary','4748506BFTrdv','level','temp','event','rescue_','now','11335zAQKgg','currentSystemMode','level.valve',']:\x20Raum-Trigger\x20\x27','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','valve','getHours','active','urlaub\x20ende','forEach','Â°C\x20(Vorlauf:\x20','(((.+)+)+)+$','isArray','actual'];a1_0x5b2e=function(){return _0x1fc715;};return a1_0x5b2e();}async function scanThermostats(_0x45d1ea){const _0x3ba814=a1_0x44e112,_0x2f3187=_0x45d1ea[_0x3ba814(0x136)]['devices']||[],_0x4794f0=[],_0x214b78=_0x2f3187[_0x3ba814(0xcc)](_0x10bcb3=>_0x10bcb3['id']&&_0x10bcb3['id'][_0x3ba814(0x116)](_0x3ba814(0xd6))||_0x10bcb3['type']&&[_0x3ba814(0xd6),_0x3ba814(0x7f),_0x3ba814(0xb5)][_0x3ba814(0x116)](_0x10bcb3[_0x3ba814(0x133)])||_0x10bcb3[_0x3ba814(0xbe)]&&_0x10bcb3[_0x3ba814(0xbe)][_0x3ba814(0xe6)]()[_0x3ba814(0x116)](_0x3ba814(0x103)));for(const _0x59afbb of _0x214b78){const _0x3afdc3=await findRelatedId(_0x45d1ea,_0x59afbb['id'],_0x3ba814(0xef)),_0x4ca451=await findRelatedId(_0x45d1ea,_0x59afbb['id'],'valve');let _0x46bac2='Nicht\x20gefunden',_0x49fa0e=![],_0x57b0c2=_0x45d1ea[_0x3ba814(0x136)][_0x3ba814(0xe3)]||{};if(typeof _0x57b0c2===_0x3ba814(0x121))try{_0x57b0c2=JSON[_0x3ba814(0x11c)](_0x57b0c2);}catch(_0x4bdc98){}let _0x3f3b7e=_0x45d1ea[_0x3ba814(0x136)][_0x3ba814(0xfd)]||{};if(typeof _0x3f3b7e==='string')try{_0x3f3b7e=JSON[_0x3ba814(0x11c)](_0x3f3b7e);}catch(_0x1fc7a4){}if(_0x57b0c2[_0x59afbb['id']]&&_0x57b0c2[_0x59afbb['id']]===_0x3afdc3||_0x3f3b7e[_0x59afbb['id']]&&_0x3f3b7e[_0x59afbb['id']]===_0x4ca451)_0x46bac2=_0x3ba814(0x143),_0x49fa0e=!![];else(_0x3afdc3||_0x4ca451)&&(_0x46bac2=_0x3ba814(0xdf));_0x4794f0[_0x3ba814(0x85)]({'room':_0x59afbb[_0x3ba814(0x137)]||'Unbekannt','sensorId':_0x59afbb['id'],'setpointId':_0x3afdc3||'-','valveId':_0x4ca451||'-','source':_0x46bac2,'isManual':_0x49fa0e,'status':_0x3afdc3&&_0x4ca451?'PERFECT':_0x3afdc3?'OK':_0x3ba814(0xe1)});}return _0x4794f0[_0x3ba814(0x13d)]((_0xfc909c,_0x5d4c9d)=>_0xfc909c[_0x3ba814(0x9e)][_0x3ba814(0xbd)](_0x5d4c9d[_0x3ba814(0x9e)]));}async function updateSchedulePreview(_0x221156){const _0x33f66b=a1_0x44e112;if(!_0x221156[_0x33f66b(0x136)][_0x33f66b(0x9b)]||!_0x221156[_0x33f66b(0x136)][_0x33f66b(0xde)])return;let _0x58c5b9={};try{const _0x4a350d=await _0x221156[_0x33f66b(0xa0)](_0x33f66b(0xd1));if(_0x4a350d&&_0x4a350d[_0x33f66b(0xfa)])_0x58c5b9=JSON[_0x33f66b(0x11c)](_0x4a350d[_0x33f66b(0xfa)]);}catch(_0x490ba3){}const _0x5c4ce0=[],_0x1a8fb0=Date[_0x33f66b(0x106)](),_0x573c45=0x30*0x3c*0x3c*0x3e8;try{const _0x5cb0e6=await _0x221156[_0x33f66b(0xa4)](_0x221156[_0x33f66b(0x136)]['calendarInstance']+_0x33f66b(0x120));if(!_0x5cb0e6||!_0x5cb0e6[_0x33f66b(0xfa)])return;const _0x27bc9d=JSON[_0x33f66b(0x11c)](_0x5cb0e6[_0x33f66b(0xfa)]),_0xafa698=_0x221156[_0x33f66b(0x136)][_0x33f66b(0xe7)]||[],_0x3ec81b=_0x221156[_0x33f66b(0x136)]['devices']||[],_0x1116e3=new Set();_0x3ec81b[_0x33f66b(0x110)](_0xdc97f5=>{const _0x333582=_0x33f66b;if(_0xdc97f5[_0x333582(0x137)])_0x1116e3['add'](_0xdc97f5[_0x333582(0x137)]);});for(const _0x932f45 of _0x27bc9d){if(_0x932f45['_calName']&&_0xafa698[_0x33f66b(0x8b)]>0x0&&!_0xafa698['includes'](_0x932f45[_0x33f66b(0xc8)]))continue;const _0x235b00=_0x932f45[_0x33f66b(0x118)]||_0x932f45[_0x33f66b(0xac)]||_0x932f45[_0x33f66b(0x13f)];if(!_0x235b00)continue;const _0x35c270=new Date(_0x235b00),_0x43d144=_0x35c270[_0x33f66b(0x88)]();if(isNaN(_0x43d144))continue;if(_0x43d144<_0x1a8fb0)continue;if(_0x43d144>_0x1a8fb0+_0x573c45)continue;const _0x536021=(_0x932f45['event']||_0x932f45[_0x33f66b(0x100)]||'')['toLowerCase']();let _0xee389c=![],_0x6d253a=[],_0x76e50d=_0x932f45[_0x33f66b(0x104)]||_0x932f45[_0x33f66b(0x100)]||_0x33f66b(0xb6);if(_0x536021[_0x33f66b(0x116)](_0x33f66b(0x10f))||_0x536021[_0x33f66b(0x116)](_0x33f66b(0xd7))||_0x536021['includes']('ankunft'))_0xee389c=!![],_0x6d253a=Array[_0x33f66b(0xcf)](_0x1116e3);else for(const _0x3b2c91 of _0x1116e3){if(_0x536021[_0x33f66b(0x116)](_0x3b2c91[_0x33f66b(0xe6)]()))_0x6d253a['push'](_0x3b2c91);}_0x6d253a['length']>0x0&&_0x6d253a[_0x33f66b(0x110)](_0x2c3da6=>{const _0xb7d9bd=_0x33f66b;let _0x413025=0x3c;if(_0xee389c){let _0x38f644=0x0;Object[_0xb7d9bd(0x84)](_0x58c5b9)['forEach'](_0x26523f=>{if(_0x26523f>_0x38f644)_0x38f644=_0x26523f;}),_0x413025=_0x38f644>0x0?_0x38f644:0x78;}else _0x413025=getWarmupRobust(_0x58c5b9,_0x2c3da6);const _0x55899e=new Date(_0x43d144-_0x413025*0xea60);_0x5c4ce0['push']({'eventTime':_0x43d144,'triggerTime':_0x55899e[_0xb7d9bd(0x88)](),'room':_0x2c3da6,'minutes':_0x413025,'reason':_0x76e50d,'isGlobal':_0xee389c});});}}catch(_0x45e4d2){}_0x5c4ce0[_0x33f66b(0x13d)]((_0x1a9db7,_0x2da183)=>_0x1a9db7[_0x33f66b(0x99)]-_0x2da183['triggerTime']);const _0x4e297f=_0x5c4ce0[_0x33f66b(0x124)](0x0,0x5);await _0x221156[_0x33f66b(0x122)](_0x33f66b(0xee),{'val':JSON[_0x33f66b(0x138)](_0x4e297f),'ack':!![]});}async function monitorEnforcements(_0x41d93b){const _0x544719=a1_0x44e112;try{const _0x25690a=_0x544719(0x13b),_0x432bfa=await _0x41d93b[_0x544719(0xa0)](_0x25690a);if(!_0x432bfa||!_0x432bfa[_0x544719(0xfa)])return;let _0xf52033=[];try{_0xf52033=JSON['parse'](_0x432bfa[_0x544719(0xfa)]);}catch(_0x2a53e7){return;}if(!Array[_0x544719(0x113)](_0xf52033)||_0xf52033[_0x544719(0x8b)]===0x0)return;const _0x5e81c6=Date[_0x544719(0x106)](),_0x261035=_0x41d93b[_0x544719(0x136)][_0x544719(0x11f)]||[];let _0x5c5e73=![];for(let _0x227d21=_0xf52033['length']-0x1;_0x227d21>=0x0;_0x227d21--){const _0x20d93d=_0xf52033[_0x227d21];if(_0x5e81c6>=_0x20d93d[_0x544719(0xcb)]){_0x41d93b[_0x544719(0xa2)][_0x544719(0x13c)](_0x544719(0xff)+_0x20d93d[_0x544719(0x9e)]+_0x544719(0x11d)),_0xf52033[_0x544719(0xec)](_0x227d21,0x1),_0x5c5e73=!![];continue;}const _0x355847=_0x261035[_0x544719(0x134)](_0x5dff59=>normalize(_0x5dff59[_0x544719(0x137)])===normalize(_0x20d93d[_0x544719(0x9e)])&&(_0x5dff59[_0x544719(0x133)]===_0x544719(0xd6)||_0x5dff59[_0x544719(0x133)]==='thermostat'));if(_0x355847){const _0x193f05=await findRelatedId(_0x41d93b,_0x355847['id'],_0x544719(0xef));if(_0x193f05){const _0x3432cc=await _0x41d93b[_0x544719(0xa4)](_0x193f05);_0x3432cc&&typeof _0x3432cc[_0x544719(0xfa)]===_0x544719(0xc3)&&(_0x3432cc[_0x544719(0xfa)]<0xf&&(_0x41d93b['log']['warn']('ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x20d93d['room']+_0x544719(0x9c)+_0x3432cc[_0x544719(0xfa)]+'Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20'+_0x20d93d[_0x544719(0x9a)]+_0x544719(0x83)),await _0x41d93b[_0x544719(0x95)](_0x193f05,_0x20d93d['target']),await logAutomationAction(_0x41d93b,_0x544719(0x135)+_0x20d93d['room']+':\x20'+_0x3432cc[_0x544719(0xfa)]+_0x544719(0xab)+_0x20d93d['target']+_0x544719(0x130))));}}}_0x5c5e73&&await _0x41d93b[_0x544719(0x122)](_0x25690a,{'val':JSON[_0x544719(0x138)](_0xf52033),'ack':!![]});}catch(_0x1b9b67){_0x41d93b[_0x544719(0xa2)][_0x544719(0xa9)](_0x544719(0xaa)+_0x1b9b67[_0x544719(0xc9)]);}}function a1_0x2397(_0x5c02d7,_0x3bea8a){const _0x577dc8=a1_0x5b2e();return a1_0x2397=function(_0x3af66c,_0x47075e){_0x3af66c=_0x3af66c-0x7e;let _0x5b2e41=_0x577dc8[_0x3af66c];return _0x5b2e41;},a1_0x2397(_0x5c02d7,_0x3bea8a);}async function checkCalendarTriggers(_0x3fe72f){const _0x41367b=a1_0x44e112;if(!_0x3fe72f['config'][_0x41367b(0x9b)]||!_0x3fe72f[_0x41367b(0x136)][_0x41367b(0xde)])return;await updateSchedulePreview(_0x3fe72f);let _0x2f0566={},_0xda2be2={};try{const _0x18f986=await _0x3fe72f[_0x41367b(0xa0)](_0x41367b(0xd1));if(_0x18f986&&_0x18f986['val'])_0x2f0566=JSON[_0x41367b(0x11c)](_0x18f986[_0x41367b(0xfa)]);const _0x3e4566=await _0x3fe72f['getStateAsync'](_0x41367b(0x82));if(_0x3e4566&&_0x3e4566[_0x41367b(0xfa)])_0xda2be2=JSON['parse'](_0x3e4566[_0x41367b(0xfa)]);}catch(_0x1eff5c){}let _0x28ae10={'default':0x15};try{const _0x24bbac=await _0x3fe72f[_0x41367b(0xa0)]('analysis.energy.warmupTargets');if(_0x24bbac&&_0x24bbac[_0x41367b(0xfa)])_0x28ae10=JSON['parse'](_0x24bbac[_0x41367b(0xfa)]);}catch(_0x4ca8a6){}let _0x2febcc=[];try{const _0x4192c3=await _0x3fe72f['getStateAsync']('analysis.energy.activeEnforcements');if(_0x4192c3&&_0x4192c3[_0x41367b(0xfa)])_0x2febcc=JSON['parse'](_0x4192c3[_0x41367b(0xfa)]);}catch(_0x482953){}try{const _0x40ab49=await _0x3fe72f[_0x41367b(0xa4)](_0x3fe72f[_0x41367b(0x136)]['calendarInstance']+_0x41367b(0x120));if(!_0x40ab49||!_0x40ab49['val'])return;const _0x1844f6=JSON['parse'](_0x40ab49[_0x41367b(0xfa)]),_0x59236e=Date[_0x41367b(0x106)](),_0x3880e4=_0x3fe72f[_0x41367b(0x136)][_0x41367b(0x11f)]||[],_0x5e2a3b=_0x3fe72f[_0x41367b(0x136)][_0x41367b(0xe7)]||[];let _0x29823f=![];for(const _0x163502 of _0x1844f6){if(_0x163502['_calName']&&_0x5e2a3b[_0x41367b(0x8b)]>0x0&&!_0x5e2a3b['includes'](_0x163502[_0x41367b(0xc8)]))continue;const _0x2e0004=_0x163502['_date']||_0x163502[_0x41367b(0xac)]||_0x163502[_0x41367b(0x13f)];if(!_0x2e0004)continue;const _0x50013c=new Date(_0x2e0004);if(isNaN(_0x50013c[_0x41367b(0x88)]()))continue;const _0x3f9b3c=(_0x163502[_0x41367b(0x104)]||_0x163502[_0x41367b(0x100)]||'')['toLowerCase']();if(_0x3f9b3c[_0x41367b(0x116)](_0x41367b(0x10f))||_0x3f9b3c[_0x41367b(0x116)](_0x41367b(0xd7))||_0x3f9b3c[_0x41367b(0x116)](_0x41367b(0x93))){let _0x47ec86=0x0;Object[_0x41367b(0x84)](_0x2f0566)[_0x41367b(0x110)](_0x383ba2=>{if(_0x383ba2>_0x47ec86)_0x47ec86=_0x383ba2;});if(_0x47ec86===0x0)_0x47ec86=0x78;const _0x11583d=_0x50013c['getTime']()-_0x47ec86*0xea60;_0x59236e>=_0x11583d&&_0x59236e<_0x50013c['getTime']()&&(_0x3fe72f[_0x41367b(0x108)]!==_0x41367b(0xa7)&&(_0x3fe72f[_0x41367b(0xa2)][_0x41367b(0x13c)](_0x41367b(0x123)+_0x47ec86+'\x20min).'),await _0x3fe72f['setStateAsync'](_0x41367b(0xea),{'val':_0x41367b(0xa7),'ack':![]})));}for(const _0x4962a6 of _0x3880e4){if(_0x4962a6[_0x41367b(0x137)]){const _0x472898=_0x4962a6[_0x41367b(0x137)][_0x41367b(0xe6)](),_0x59dd4e=(_0x4962a6[_0x41367b(0xbe)]||'')[_0x41367b(0xe6)]();let _0x4881cb=_0x3f9b3c['includes'](_0x472898);!_0x4881cb&&_0x59dd4e[_0x41367b(0x8b)]>0x3&&_0x3f9b3c['includes'](_0x59dd4e)&&(_0x4881cb=!![]);if(_0x4881cb){const _0x18af21=getWarmupRobust(_0x2f0566,_0x4962a6[_0x41367b(0x137)]),_0x5bfb28=_0xda2be2[_0x4962a6[_0x41367b(0x137)]]||'Classic',_0x4b91d7=_0x50013c[_0x41367b(0x88)]()-_0x18af21*0xea60;if(_0x59236e>=_0x4b91d7&&_0x59236e<_0x50013c['getTime']()){const _0x4a9f9a=lastActions[_0x41367b(0xf3)+_0x4962a6[_0x41367b(0x137)]];if(_0x4a9f9a&&_0x59236e-_0x4a9f9a<CAL_COOLDOWN_MS)continue;const _0x248cef=await findRelatedId(_0x3fe72f,_0x4962a6['id'],'setpoint');if(_0x248cef){let _0x4180b7=_0x28ae10[_0x4962a6[_0x41367b(0x137)]];if(_0x4180b7===undefined)_0x4180b7=_0x28ae10['default'];if(_0x4180b7===undefined)_0x4180b7=0x15;const _0x1b59fa=await _0x3fe72f[_0x41367b(0xa4)](_0x248cef);if(_0x1b59fa&&typeof _0x1b59fa[_0x41367b(0xfa)]===_0x41367b(0xc3)&&_0x1b59fa['val']<_0x4180b7-0.5){_0x3fe72f['log'][_0x41367b(0x13c)](_0x41367b(0xad)+_0x5bfb28+_0x41367b(0x10a)+_0x4962a6[_0x41367b(0x137)]+_0x41367b(0x80)+_0x3f9b3c+_0x41367b(0xe5)+_0x4180b7+_0x41367b(0x111)+_0x18af21+_0x41367b(0xe0)),await _0x3fe72f['setForeignStateAsync'](_0x248cef,_0x4180b7),await logAutomationAction(_0x3fe72f,_0x41367b(0xc5)+_0x4962a6['location']+'\x20->\x20'+_0x4180b7+_0x41367b(0xa8)+_0x5bfb28+')'),lastActions['cal_'+_0x4962a6[_0x41367b(0x137)]]=_0x59236e;const _0x5cb3ac=_0x2febcc['findIndex'](_0x350ed8=>_0x350ed8[_0x41367b(0x9e)]===_0x4962a6[_0x41367b(0x137)]);if(_0x5cb3ac!==-0x1)_0x2febcc[_0x41367b(0xec)](_0x5cb3ac,0x1);_0x2febcc[_0x41367b(0x85)]({'room':_0x4962a6[_0x41367b(0x137)],'target':_0x4180b7,'until':_0x50013c[_0x41367b(0x88)]()}),_0x29823f=!![];}}}}}}}_0x29823f&&await _0x3fe72f[_0x41367b(0x122)](_0x41367b(0x13b),{'val':JSON[_0x41367b(0x138)](_0x2febcc),'ack':!![]});}catch(_0x39f672){_0x3fe72f[_0x41367b(0xa2)]['warn']('Calendar\x20Check\x20Error:\x20'+_0x39f672['message']);}}async function manageMpcIntervention(_0x22b77b,_0x1988d3,_0xd2a994){const _0xd93969=a1_0x44e112;try{const _0x3b15ed=_0xd93969(0x91),_0x5b7f52=await _0x22b77b[_0xd93969(0xa0)](_0x3b15ed);let _0x34a6ab=[];if(_0x5b7f52&&_0x5b7f52[_0xd93969(0xfa)])try{_0x34a6ab=JSON[_0xd93969(0x11c)](_0x5b7f52[_0xd93969(0xfa)]);}catch(_0x6533a7){}const _0x2db010=_0x34a6ab[_0xd93969(0xbb)](_0x1988d3);if(_0xd2a994===_0xd93969(0xbc))_0x2db010===-0x1&&(_0x34a6ab['push'](_0x1988d3),await _0x22b77b[_0xd93969(0x122)](_0x3b15ed,{'val':JSON[_0xd93969(0x138)](_0x34a6ab),'ack':!![]}));else _0xd2a994===_0xd93969(0xf7)&&(_0x2db010!==-0x1&&(_0x34a6ab[_0xd93969(0xec)](_0x2db010,0x1),await _0x22b77b['setStateAsync'](_0x3b15ed,{'val':JSON[_0xd93969(0x138)](_0x34a6ab),'ack':!![]})));}catch(_0x3fb4b2){}}async function cleanupGhostInterventions(_0x294d47){const _0x5d75d8=a1_0x44e112;try{const _0x16af59=_0x5d75d8(0x91),_0x544b0f=await _0x294d47[_0x5d75d8(0xa0)](_0x16af59);if(!_0x544b0f||!_0x544b0f[_0x5d75d8(0xfa)])return;const _0x5b49dc=JSON[_0x5d75d8(0x11c)](_0x544b0f[_0x5d75d8(0xfa)]);if(!Array[_0x5d75d8(0x113)](_0x5b49dc)||_0x5b49dc[_0x5d75d8(0x8b)]===0x0)return;let _0x494fa4={'default':0x15};try{const _0x42d246=await _0x294d47['getStateAsync'](_0x5d75d8(0xdd));if(_0x42d246&&_0x42d246[_0x5d75d8(0xfa)])_0x494fa4=JSON[_0x5d75d8(0x11c)](_0x42d246[_0x5d75d8(0xfa)]);}catch(_0x50037a){}let _0x478e6b=[];try{const _0x497e00=await _0x294d47[_0x5d75d8(0xa0)](_0x5d75d8(0x11e));if(_0x497e00&&_0x497e00[_0x5d75d8(0xfa)])_0x478e6b=JSON[_0x5d75d8(0x11c)](_0x497e00['val']);}catch(_0x37fb39){}let _0xf41bf0={},_0x4dc799=![];try{const _0x297109=await _0x294d47[_0x5d75d8(0xa0)](_0x5d75d8(0xb8));if(_0x297109&&_0x297109[_0x5d75d8(0xfa)])_0xf41bf0=JSON[_0x5d75d8(0x11c)](_0x297109[_0x5d75d8(0xfa)]);}catch(_0x356b5e){}if(_0xf41bf0[_0x5d75d8(0xf0)]){const _0x536dff=Date[_0x5d75d8(0x106)]();for(const [_0x49f2b1,_0x23428a]of Object[_0x5d75d8(0xf9)](_0xf41bf0[_0x5d75d8(0xf0)])){_0x536dff-_0x23428a>PENALTY_TTL&&(delete _0xf41bf0[_0x49f2b1],delete _0xf41bf0[_0x5d75d8(0xf0)][_0x49f2b1],_0x4dc799=!![],_0x294d47['log'][_0x5d75d8(0x13c)](_0x5d75d8(0x86)+_0x49f2b1+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x4881b4=_0x294d47[_0x5d75d8(0x136)][_0x5d75d8(0x11f)]||[];let _0x50d884=![];for(let _0x32841e=_0x5b49dc[_0x5d75d8(0x8b)]-0x1;_0x32841e>=0x0;_0x32841e--){const _0x26a0e7=_0x5b49dc[_0x32841e],_0x2ecba9=_0x4881b4[_0x5d75d8(0x134)](_0x4d109e=>normalize(_0x4d109e[_0x5d75d8(0x137)])===normalize(_0x26a0e7)&&(_0x4d109e['type']===_0x5d75d8(0xd6)||_0x4d109e[_0x5d75d8(0x133)]==='thermostat'));if(!_0x2ecba9){_0x294d47[_0x5d75d8(0xa2)]['warn']('ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x26a0e7+_0x5d75d8(0xed)),_0x5b49dc[_0x5d75d8(0xec)](_0x32841e,0x1),_0x50d884=!![];continue;}if(_0x2ecba9){const _0x244235=await findRelatedId(_0x294d47,_0x2ecba9['id'],_0x5d75d8(0xef)),_0x12f6ac=await _0x294d47[_0x5d75d8(0xa4)](_0x2ecba9['id']);if(_0x244235){const _0x133950=await _0x294d47[_0x5d75d8(0xa4)](_0x244235);if(_0x133950&&typeof _0x133950[_0x5d75d8(0xfa)]==='number'){let _0x4d7c68=![],_0x4c3aaa='';Math[_0x5d75d8(0x87)](_0x133950['val']-ECO_TEMP)>0.5&&(_0x4d7c68=!![],_0x4c3aaa=_0x5d75d8(0x129));if(!_0x4d7c68&&_0x12f6ac&&typeof _0x12f6ac[_0x5d75d8(0xfa)]===_0x5d75d8(0xc3)){const _0x32d54a=_0x494fa4[_0x26a0e7]||_0x494fa4[_0x5d75d8(0xc6)]||0x15;_0x12f6ac[_0x5d75d8(0xfa)]<_0x32d54a+0.2&&(_0x4d7c68=!![],_0x4c3aaa=_0x5d75d8(0xe9));}if(_0x4d7c68){if(_0x4c3aaa===_0x5d75d8(0x129)){_0x294d47[_0x5d75d8(0xa2)][_0x5d75d8(0x13c)](_0x5d75d8(0x119)+_0x26a0e7+_0x5d75d8(0xd9)+_0x133950['val']+_0x5d75d8(0xa5)+ECO_TEMP+_0x5d75d8(0xdb));const _0x5b9cde=lastActions[_0x5d75d8(0xf3)+_0x26a0e7],_0x4b517b=_0x5b9cde&&Date['now']()-_0x5b9cde<0x2*0x3c*0x3e8;if(!_0x4b517b&&_0x133950[_0x5d75d8(0xfa)]>ECO_TEMP+0.5){_0x294d47['sendToPythonWrapper']&&(_0x294d47['log'][_0x5d75d8(0x13c)](_0x5d75d8(0xc4)+_0x26a0e7+_0x5d75d8(0x132)),_0x294d47[_0x5d75d8(0x127)](_0x5d75d8(0x7e),{'room':_0x26a0e7}));const _0x2e91c4=_0x26a0e7+'_'+new Date()[_0x5d75d8(0x10d)]();if(!_0xf41bf0[_0x2e91c4]){_0xf41bf0[_0x2e91c4]=0x1;if(!_0xf41bf0[_0x5d75d8(0xf0)])_0xf41bf0[_0x5d75d8(0xf0)]={};_0xf41bf0['_meta'][_0x2e91c4]=Date[_0x5d75d8(0x106)](),_0x4dc799=!![];}}else _0x4b517b&&_0x294d47[_0x5d75d8(0xa2)]['info']('ðŸ“…\x20[MPC\x20INFO]\x20'+_0x26a0e7+_0x5d75d8(0xba));}else{if(_0x4c3aaa===_0x5d75d8(0xe9)){let _0x3bc8a2=![];if(_0x478e6b['find'](_0x17b299=>_0x17b299['room']===_0x26a0e7))_0x3bc8a2=!![];const _0x436957=_0x4881b4[_0x5d75d8(0xcc)](_0x38d4c4=>normalize(_0x38d4c4['location'])===normalize(_0x26a0e7)&&(_0x38d4c4[_0x5d75d8(0x133)]===_0x5d75d8(0xc2)||_0x38d4c4[_0x5d75d8(0x133)]===_0x5d75d8(0xb5)||_0x38d4c4['type']===_0x5d75d8(0xc0)));for(const _0x42a651 of _0x436957){try{const _0x13c3ba=await _0x294d47[_0x5d75d8(0xa4)](_0x42a651['id']);if(_0x13c3ba&&(_0x13c3ba[_0x5d75d8(0xfa)]===!![]||_0x13c3ba[_0x5d75d8(0xfa)]===0x1||String(_0x13c3ba[_0x5d75d8(0xfa)])['toLowerCase']()==='open'))_0x3bc8a2=!![];}catch(_0x3300d5){}}if(_0x3bc8a2)_0x294d47[_0x5d75d8(0xa2)][_0x5d75d8(0x13c)](_0x5d75d8(0x142)+_0x26a0e7+_0x5d75d8(0x10b));else{const _0x5a0f04=_0x494fa4[_0x26a0e7]||_0x494fa4['default']||0x15;_0x294d47[_0x5d75d8(0xa2)]['info']('ðŸš¨\x20[MPC\x20WATCHDOG]\x20'+_0x26a0e7+_0x5d75d8(0x13e)+_0x12f6ac[_0x5d75d8(0xfa)]+_0x5d75d8(0x11a)+(_0x5a0f04+0.2)+_0x5d75d8(0x131)),await _0x294d47[_0x5d75d8(0x95)](_0x244235,_0x5a0f04),await logAutomationAction(_0x294d47,_0x5d75d8(0x140)+_0x26a0e7+_0x5d75d8(0x81)+_0x5a0f04+'Â°C'),lastActions['rescue_'+_0x26a0e7]=Date[_0x5d75d8(0x106)]();}}}_0x5b49dc[_0x5d75d8(0xec)](_0x32841e,0x1),_0x50d884=!![];}}}}}_0x50d884&&await _0x294d47[_0x5d75d8(0x122)](_0x16af59,{'val':JSON[_0x5d75d8(0x138)](_0x5b49dc),'ack':!![]}),_0x4dc799&&await _0x294d47['setStateAsync'](_0x5d75d8(0xb8),{'val':JSON[_0x5d75d8(0x138)](_0xf41bf0),'ack':!![]});}catch(_0x515709){}}async function applyEnergySavings(_0x546a93,_0x954deb){const _0x3c9bda=a1_0x44e112;await cleanupGhostInterventions(_0x546a93);if(!_0x954deb||_0x954deb[_0x3c9bda(0x8b)]===0x0)return;const _0x5ac96c=_0x546a93['config'][_0x3c9bda(0x11f)]||[],_0x58ee1c=Date[_0x3c9bda(0x106)]();for(const _0x4a3c3e of _0x954deb){const _0x367a9d=_0x4a3c3e[_0x3c9bda(0x9e)],_0x5d3e1b=_0x4a3c3e[_0x3c9bda(0xf5)],_0x2a44f6=_0x4a3c3e['target']||0x15;if(lastActions[_0x3c9bda(0x105)+_0x367a9d]&&_0x58ee1c-lastActions[_0x3c9bda(0x105)+_0x367a9d]<RESCUE_LOCK_MS)continue;const _0x221855=_0x5ac96c['find'](_0x4fc519=>normalize(_0x4fc519[_0x3c9bda(0x137)])===normalize(_0x367a9d)&&(_0x4fc519['type']===_0x3c9bda(0xd6)||_0x4fc519[_0x3c9bda(0x133)]===_0x3c9bda(0x7f)));if(!_0x221855)continue;const _0x50d8fd=await findRelatedId(_0x546a93,_0x221855['id'],_0x3c9bda(0xef));if(_0x50d8fd){if(lastActions[_0x3c9bda(0xb0)+_0x367a9d]&&_0x58ee1c-lastActions[_0x3c9bda(0xb0)+_0x367a9d]<0x1e*0x3c*0x3e8)continue;const _0x1db24d=await _0x546a93[_0x3c9bda(0xa4)](_0x50d8fd);if(_0x1db24d&&typeof _0x1db24d[_0x3c9bda(0xfa)]==='number'){const _0x5dde38=_0x1db24d['val'];_0x5dde38!==ECO_TEMP&&await manageMpcIntervention(_0x546a93,_0x367a9d,_0x3c9bda(0xf7));if(_0x5d3e1b>0x1e)_0x5dde38>ECO_TEMP+0.5&&(_0x546a93[_0x3c9bda(0xa2)][_0x3c9bda(0x13c)](_0x3c9bda(0x9d)+_0x367a9d+'\x20auf\x20'+ECO_TEMP+_0x3c9bda(0x12a)+_0x5d3e1b+'\x20min)'),await _0x546a93['setForeignStateAsync'](_0x50d8fd,ECO_TEMP),await manageMpcIntervention(_0x546a93,_0x367a9d,'add'),lastActions[_0x3c9bda(0xb0)+_0x367a9d]=_0x58ee1c,await logAutomationAction(_0x546a93,'[MPC]\x20'+_0x367a9d+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'Â°C'));else _0x5d3e1b<=0xf&&(_0x5dde38<_0x2a44f6&&(_0x546a93['log']['info'](_0x3c9bda(0xf8)+_0x367a9d+'\x20wieder\x20auf\x20'+_0x2a44f6+_0x3c9bda(0xe4)),await _0x546a93[_0x3c9bda(0x95)](_0x50d8fd,_0x2a44f6),await manageMpcIntervention(_0x546a93,_0x367a9d,'remove'),lastActions['mpc_'+_0x367a9d]=_0x58ee1c,await logAutomationAction(_0x546a93,'[MPC]\x20'+_0x367a9d+':\x20Aufheizen\x20auf\x20'+_0x2a44f6+'Â°C')));}}else _0x546a93[_0x3c9bda(0xa2)][_0x3c9bda(0x12b)](_0x3c9bda(0xd3)+_0x367a9d+'\x20gefunden!');}}module['exports']={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};