const a1_0x995038=a1_0x46ac;(function(_0x1b5651,_0x4b6f9d){const _0x18e0a3=a1_0x46ac,_0x3e0de9=_0x1b5651();while(!![]){try{const _0x478f78=-parseInt(_0x18e0a3(0x147))/0x1+parseInt(_0x18e0a3(0xf2))/0x2*(-parseInt(_0x18e0a3(0xf5))/0x3)+-parseInt(_0x18e0a3(0xf6))/0x4+parseInt(_0x18e0a3(0x185))/0x5+parseInt(_0x18e0a3(0x163))/0x6+parseInt(_0x18e0a3(0x13a))/0x7+parseInt(_0x18e0a3(0x182))/0x8;if(_0x478f78===_0x4b6f9d)break;else _0x3e0de9['push'](_0x3e0de9['shift']());}catch(_0x1cee3a){_0x3e0de9['push'](_0x3e0de9['shift']());}}}(a1_0x3ce6,0x3e205));function a1_0x46ac(_0x18fb61,_0x504ae5){const _0x409df5=a1_0x3ce6();return a1_0x46ac=function(_0x1f8065,_0x45941d){_0x1f8065=_0x1f8065-0xed;let _0x3ce60d=_0x409df5[_0x1f8065];return _0x3ce60d;},a1_0x46ac(_0x18fb61,_0x504ae5);}const a1_0x45941d=(function(){let _0x19ff6e=!![];return function(_0x3550f9,_0x43ab49){const _0x3a9014=_0x19ff6e?function(){const _0x15412d=a1_0x46ac;if(_0x43ab49){const _0x47719b=_0x43ab49[_0x15412d(0x177)](_0x3550f9,arguments);return _0x43ab49=null,_0x47719b;}}:function(){};return _0x19ff6e=![],_0x3a9014;};}()),a1_0x1f8065=a1_0x45941d(this,function(){const _0x350e5a=a1_0x46ac;return a1_0x1f8065[_0x350e5a(0x124)]()['search']('(((.+)+)+)+$')[_0x350e5a(0x124)]()[_0x350e5a(0x16f)](a1_0x1f8065)['search']('(((.+)+)+)+$');});a1_0x1f8065();'use strict';const aiAgent=require(a1_0x995038(0x106)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0xe1fb53){const _0x116789=a1_0x995038;if(!_0xe1fb53)return'';return _0xe1fb53[_0x116789(0x18e)]()[_0x116789(0x118)](/\s+/g,'')['trim']();}function getWarmupRobust(_0x45255c,_0x268030){const _0x5a591d=a1_0x995038;if(!_0x45255c||!_0x268030)return 0x3c;if(_0x45255c[_0x268030]!==undefined)return _0x45255c[_0x268030];const _0x3c5f40=_0x268030[_0x5a591d(0x18e)]()['replace'](/√§/g,'ae')['replace'](/√∂/g,'oe')[_0x5a591d(0x118)](/√º/g,'ue')[_0x5a591d(0x118)](/√ü/g,'ss')[_0x5a591d(0x118)](/\s+/g,'_')['replace'](/[^a-z0-9_]/g,'');if(_0x45255c[_0x3c5f40]!==undefined)return _0x45255c[_0x3c5f40];return 0x3c;}async function logAutomationAction(_0x51f828,_0x37fbbb){const _0x3b669f=a1_0x995038;await _0x51f828[_0x3b669f(0x14a)]('analysis.automation.lastAction',{'val':_0x37fbbb,'ack':!![]});try{const _0x1db7b9='analysis.automation.actionLog',_0x3c4338=await _0x51f828[_0x3b669f(0x167)](_0x1db7b9);let _0x201450=[];if(_0x3c4338&&_0x3c4338[_0x3b669f(0x13b)])try{_0x201450=JSON[_0x3b669f(0x107)](_0x3c4338[_0x3b669f(0x13b)]);}catch(_0x5e0751){}_0x201450[_0x3b669f(0x11e)]({'ts':Date[_0x3b669f(0xf1)](),'msg':_0x37fbbb});if(_0x201450[_0x3b669f(0x171)]>0x32)_0x201450=_0x201450[_0x3b669f(0xed)](0x0,0x32);await _0x51f828[_0x3b669f(0x14a)](_0x1db7b9,{'val':JSON[_0x3b669f(0x111)](_0x201450),'ack':!![]});}catch(_0x2e1f71){}}async function handlePrediction(_0x3ac48d,_0x4cffe7,_0x430d11){const _0x810b60=a1_0x995038;if(!_0x4cffe7||_0x4cffe7===_0x810b60(0x102))return;let _0xc31ebd=_0x810b60(0xf4),_0x38ebda=0.6;try{const _0x3eb6a0=await _0x3ac48d[_0x810b60(0x167)](_0x810b60(0x141));if(_0x3eb6a0&&_0x3eb6a0[_0x810b60(0x13b)])_0xc31ebd=_0x3eb6a0['val'];const _0x30d54d=await _0x3ac48d[_0x810b60(0x167)](_0x810b60(0x17d));if(_0x30d54d&&_0x30d54d[_0x810b60(0x13b)])_0x38ebda=_0x30d54d[_0x810b60(0x13b)];}catch(_0x158b43){}if(_0xc31ebd===_0x810b60(0xf4)||_0x430d11<_0x38ebda)return;const _0xf317bf=Date[_0x810b60(0xf1)]();if(lastActions[_0x4cffe7]&&_0xf317bf-lastActions[_0x4cffe7]<COOLDOWN_MS)return;const _0x1ad0e3=_0x3ac48d[_0x810b60(0x12b)][_0x810b60(0x12c)]||[],_0x36a9bb=normalize(_0x4cffe7),_0x485334=_0x1ad0e3[_0x810b60(0x12e)](_0x5113f1=>normalize(_0x5113f1[_0x810b60(0x179)])===_0x36a9bb&&(_0x5113f1[_0x810b60(0x146)]===_0x810b60(0x14f)||_0x5113f1[_0x810b60(0x146)]===_0x810b60(0x10d)||_0x5113f1[_0x810b60(0x146)]===_0x810b60(0x12f)));if(!_0x485334)return;const _0x2265c1=await aiAgent[_0x810b60(0x19a)](_0x3ac48d,_0x4cffe7,_0x485334[_0x810b60(0x196)],_0x430d11);if(!_0x2265c1[_0x810b60(0x131)])return;const _0x1a91f6=_0x810b60(0x153)+_0x4cffe7+'\x20->\x20Schalte\x20'+_0x485334[_0x810b60(0x196)]+'\x20('+_0x2265c1['reason']+')';await logAutomationAction(_0x3ac48d,'['+_0xc31ebd[_0x810b60(0xef)]()+']\x20'+_0x1a91f6);if(_0xc31ebd===_0x810b60(0x1a2)){const _0x545ec3=await _0x3ac48d[_0x810b60(0x15d)](_0x485334['id']);(!_0x545ec3||!_0x545ec3['val']&&_0x545ec3[_0x810b60(0x13b)]!==!![])&&await _0x3ac48d['setForeignStateAsync'](_0x485334['id'],!![]),lastActions[_0x4cffe7]=_0xf317bf;}}async function findRelatedId(_0x5cbc5e,_0x546ca7,_0x10cc17='setpoint'){const _0x14b0f4=a1_0x995038;if(_0x10cc17===_0x14b0f4(0x129)&&_0x5cbc5e[_0x14b0f4(0x12b)][_0x14b0f4(0xfd)]){let _0x3f2b0b=_0x5cbc5e[_0x14b0f4(0x12b)]['thermostatMapping'];if(typeof _0x3f2b0b===_0x14b0f4(0x15f))try{_0x3f2b0b=JSON[_0x14b0f4(0x107)](_0x3f2b0b);}catch(_0x277a69){}if(_0x3f2b0b&&_0x3f2b0b[_0x546ca7])return _0x3f2b0b[_0x546ca7];}if(_0x10cc17==='valve'&&_0x5cbc5e['config'][_0x14b0f4(0x19c)]){let _0x566d8a=_0x5cbc5e[_0x14b0f4(0x12b)][_0x14b0f4(0x19c)];if(typeof _0x566d8a===_0x14b0f4(0x15f))try{_0x566d8a=JSON[_0x14b0f4(0x107)](_0x566d8a);}catch(_0x5c3f87){}if(_0x566d8a&&_0x566d8a[_0x546ca7])return _0x566d8a[_0x546ca7];}let _0x28960b=[];if(_0x10cc17==='setpoint')_0x28960b=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x14b0f4(0x194)},{'s':_0x14b0f4(0x176),'t':_0x14b0f4(0x194)},{'s':_0x14b0f4(0x176),'t':_0x14b0f4(0x193)},{'s':_0x14b0f4(0x192),'t':_0x14b0f4(0x152)},{'s':'local_temperature','t':_0x14b0f4(0xf3)},{'s':_0x14b0f4(0x103),'t':_0x14b0f4(0x18d)},{'s':_0x14b0f4(0x14d),'t':_0x14b0f4(0x150)},{'s':_0x14b0f4(0x138),'t':_0x14b0f4(0x19d)},{'s':_0x14b0f4(0x113),'t':'Soll'},{'s':'temperature','t':_0x14b0f4(0x129)}];else _0x10cc17===_0x14b0f4(0x164)&&(_0x28960b=[{'s':_0x14b0f4(0x136),'t':_0x14b0f4(0x105)},{'s':_0x14b0f4(0x176),'t':'.1.LEVEL'},{'s':'.1.TEMPERATURE','t':_0x14b0f4(0x1a3)},{'s':'local_temperature','t':'pi_heating_demand'},{'s':_0x14b0f4(0x14d),'t':'valve_position'},{'s':_0x14b0f4(0x14d),'t':'level'}]);for(const _0x22074d of _0x28960b){if(_0x546ca7[_0x14b0f4(0xf0)](_0x22074d['s'])){const _0xc00b1c=_0x546ca7[_0x14b0f4(0x118)](_0x22074d['s'],_0x22074d['t']),_0x39bc1b=await _0x5cbc5e[_0x14b0f4(0x19b)](_0xc00b1c);if(_0x39bc1b)return _0xc00b1c;}}try{const _0x235da6=_0x546ca7[_0x14b0f4(0x14b)]('.');if(_0x235da6[_0x14b0f4(0x171)]>0x2){const _0x277ce9=_0x235da6['slice'](0x0,-0x1)[_0x14b0f4(0x157)]('.'),_0x568576=await _0x5cbc5e[_0x14b0f4(0x158)](_0x277ce9+'.*'),_0x570342=[],_0x1c002a=_0x546ca7[_0x14b0f4(0x14b)](/[._]+/)[_0x14b0f4(0x126)](_0x28e25f=>![_0x14b0f4(0x11f),'0',_0x14b0f4(0x142),_0x14b0f4(0x189),'wert','temperature',_0x14b0f4(0x15e),_0x14b0f4(0x110),'messwert','state'][_0x14b0f4(0xf0)](_0x28e25f[_0x14b0f4(0x18e)]()));for(const [_0x288d18,_0xf04f2a]of Object['entries'](_0x568576)){if(_0x288d18===_0x546ca7)continue;if(_0xf04f2a&&_0xf04f2a[_0x14b0f4(0x18a)]){const _0x36d6bf=_0x288d18['toLowerCase'](),_0x1685ae=(_0xf04f2a['common'][_0x14b0f4(0x168)]||'')[_0x14b0f4(0x18e)](),_0x16348c=(_0xf04f2a[_0x14b0f4(0x18a)][_0x14b0f4(0x15a)]||'')['toLowerCase']();let _0x519ffe=![];if(_0x10cc17===_0x14b0f4(0x129)&&_0xf04f2a['common']['write']===!![])_0x519ffe=_0x36d6bf['includes']('set')||_0x36d6bf[_0x14b0f4(0xf0)]('soll')||_0x36d6bf[_0x14b0f4(0xf0)](_0x14b0f4(0x165))||_0x1685ae[_0x14b0f4(0xf0)](_0x14b0f4(0x170))||_0x1685ae[_0x14b0f4(0xf0)](_0x14b0f4(0x116));else _0x10cc17===_0x14b0f4(0x164)&&(_0x519ffe=_0x36d6bf[_0x14b0f4(0xf0)](_0x14b0f4(0x154))||_0x36d6bf['includes'](_0x14b0f4(0x164))||_0x36d6bf['includes']('stellwert')||_0x36d6bf[_0x14b0f4(0xf0)]('position')||_0x1685ae[_0x14b0f4(0xf0)](_0x14b0f4(0xfb))||_0x1685ae[_0x14b0f4(0xf0)](_0x14b0f4(0x160))||_0x16348c[_0x14b0f4(0xf0)]('%'));if(_0x519ffe){const _0x73cb4=_0x288d18[_0x14b0f4(0x14b)](/[._]+/)[_0x14b0f4(0x120)](_0x43395e=>_0x43395e[_0x14b0f4(0x18e)]());let _0x52e036=0x0;_0x1c002a[_0x14b0f4(0x144)](_0x4e60ac=>{if(_0x73cb4['includes'](_0x4e60ac['toLowerCase']()))_0x52e036++;}),_0x570342[_0x14b0f4(0x151)]({'id':_0x288d18,'score':_0x52e036});}}}if(_0x570342[_0x14b0f4(0x171)]>0x0){_0x570342[_0x14b0f4(0x159)]((_0x129ea5,_0x50448f)=>_0x50448f[_0x14b0f4(0xfc)]-_0x129ea5[_0x14b0f4(0xfc)]);if(_0x570342[0x0][_0x14b0f4(0xfc)]>0x0)return _0x570342[0x0]['id'];}}}catch(_0x24969e){}return null;}async function scanThermostats(_0x5b4f80){const _0x17c7d5=a1_0x995038,_0xefa383=_0x5b4f80[_0x17c7d5(0x12b)]['devices']||[],_0x1c11b4=[],_0x387f83=_0xefa383['filter'](_0x1231b3=>_0x1231b3['id']&&_0x1231b3['id']['includes']('temperature')||_0x1231b3['type']&&['temperature',_0x17c7d5(0x13e),_0x17c7d5(0x110)][_0x17c7d5(0xf0)](_0x1231b3[_0x17c7d5(0x146)])||_0x1231b3[_0x17c7d5(0x196)]&&_0x1231b3['name'][_0x17c7d5(0x18e)]()[_0x17c7d5(0xf0)](_0x17c7d5(0x15b)));for(const _0x471705 of _0x387f83){const _0x1a892c=await findRelatedId(_0x5b4f80,_0x471705['id'],_0x17c7d5(0x129)),_0x208909=await findRelatedId(_0x5b4f80,_0x471705['id'],_0x17c7d5(0x164));let _0x177623='Nicht\x20gefunden',_0x33dc45=![],_0x10e7df=_0x5b4f80[_0x17c7d5(0x12b)]['thermostatMapping']||{};if(typeof _0x10e7df===_0x17c7d5(0x15f))try{_0x10e7df=JSON[_0x17c7d5(0x107)](_0x10e7df);}catch(_0x1b4e35){}let _0x56afb1=_0x5b4f80[_0x17c7d5(0x12b)]['valveMapping']||{};if(typeof _0x56afb1===_0x17c7d5(0x15f))try{_0x56afb1=JSON[_0x17c7d5(0x107)](_0x56afb1);}catch(_0x349ecc){}if(_0x10e7df[_0x471705['id']]&&_0x10e7df[_0x471705['id']]===_0x1a892c||_0x56afb1[_0x471705['id']]&&_0x56afb1[_0x471705['id']]===_0x208909)_0x177623=_0x17c7d5(0xee),_0x33dc45=!![];else(_0x1a892c||_0x208909)&&(_0x177623='Auto-Erkennung');_0x1c11b4[_0x17c7d5(0x151)]({'room':_0x471705['location']||_0x17c7d5(0x137),'sensorId':_0x471705['id'],'setpointId':_0x1a892c||'-','valveId':_0x208909||'-','source':_0x177623,'isManual':_0x33dc45,'status':_0x1a892c&&_0x208909?_0x17c7d5(0x149):_0x1a892c?'OK':_0x17c7d5(0x1a1)});}return _0x1c11b4[_0x17c7d5(0x159)]((_0x129410,_0x137e76)=>_0x129410[_0x17c7d5(0x11c)][_0x17c7d5(0x15c)](_0x137e76[_0x17c7d5(0x11c)]));}async function updateSchedulePreview(_0x3d1131){const _0x5cbea5=a1_0x995038;if(!_0x3d1131['config']['useCalendar']||!_0x3d1131[_0x5cbea5(0x12b)][_0x5cbea5(0x17e)])return;let _0x1592fe={};try{const _0xd96906=await _0x3d1131['getStateAsync'](_0x5cbea5(0xff));if(_0xd96906&&_0xd96906[_0x5cbea5(0x13b)])_0x1592fe=JSON['parse'](_0xd96906['val']);}catch(_0x10dd2e){}const _0x4b7cd1=[],_0x10dd1a=Date[_0x5cbea5(0xf1)](),_0x19f711=0x30*0x3c*0x3c*0x3e8;try{const _0x5cfa74=await _0x3d1131[_0x5cbea5(0x15d)](_0x3d1131[_0x5cbea5(0x12b)][_0x5cbea5(0x17e)]+_0x5cbea5(0x162));if(!_0x5cfa74||!_0x5cfa74[_0x5cbea5(0x13b)])return;const _0x7f69b4=JSON[_0x5cbea5(0x107)](_0x5cfa74['val']),_0x21be4c=_0x3d1131['config']['calendarSelection']||[],_0x5c64c7=_0x3d1131[_0x5cbea5(0x12b)][_0x5cbea5(0x12c)]||[],_0x5393b1=new Set();_0x5c64c7[_0x5cbea5(0x144)](_0x56466b=>{const _0x4a666d=_0x5cbea5;if(_0x56466b[_0x4a666d(0x179)])_0x5393b1[_0x4a666d(0x134)](_0x56466b['location']);});for(const _0x590481 of _0x7f69b4){if(_0x590481[_0x5cbea5(0x191)]&&_0x21be4c[_0x5cbea5(0x171)]>0x0&&!_0x21be4c[_0x5cbea5(0xf0)](_0x590481['_calName']))continue;const _0x5ed639=_0x590481[_0x5cbea5(0x16e)]||_0x590481[_0x5cbea5(0x10e)]||_0x590481[_0x5cbea5(0x101)];if(!_0x5ed639)continue;const _0x297bad=new Date(_0x5ed639),_0x4b0727=_0x297bad[_0x5cbea5(0x17f)]();if(isNaN(_0x4b0727))continue;if(_0x4b0727<_0x10dd1a)continue;if(_0x4b0727>_0x10dd1a+_0x19f711)continue;const _0x3b8cff=(_0x590481[_0x5cbea5(0x140)]||_0x590481['summary']||'')[_0x5cbea5(0x18e)]();let _0xc9643c=![],_0x34035d=[],_0x5417cd=_0x590481[_0x5cbea5(0x140)]||_0x590481[_0x5cbea5(0x175)]||_0x5cbea5(0x137);if(_0x3b8cff[_0x5cbea5(0xf0)](_0x5cbea5(0x199))||_0x3b8cff[_0x5cbea5(0xf0)](_0x5cbea5(0x11d))||_0x3b8cff[_0x5cbea5(0xf0)](_0x5cbea5(0x156)))_0xc9643c=!![],_0x34035d=Array['from'](_0x5393b1);else for(const _0x4f04b1 of _0x5393b1){if(_0x3b8cff[_0x5cbea5(0xf0)](_0x4f04b1[_0x5cbea5(0x18e)]()))_0x34035d[_0x5cbea5(0x151)](_0x4f04b1);}_0x34035d[_0x5cbea5(0x171)]>0x0&&_0x34035d[_0x5cbea5(0x144)](_0x2888f5=>{const _0x23edf8=_0x5cbea5;let _0x47165a=0x3c;if(_0xc9643c){let _0x458312=0x0;Object['values'](_0x1592fe)['forEach'](_0x5af3a6=>{if(_0x5af3a6>_0x458312)_0x458312=_0x5af3a6;}),_0x47165a=_0x458312>0x0?_0x458312:0x78;}else _0x47165a=getWarmupRobust(_0x1592fe,_0x2888f5);const _0x3bb8b9=new Date(_0x4b0727-_0x47165a*0xea60);_0x4b7cd1[_0x23edf8(0x151)]({'eventTime':_0x4b0727,'triggerTime':_0x3bb8b9[_0x23edf8(0x17f)](),'room':_0x2888f5,'minutes':_0x47165a,'reason':_0x5417cd,'isGlobal':_0xc9643c});});}}catch(_0x694c75){}_0x4b7cd1[_0x5cbea5(0x159)]((_0x8da33f,_0x589ec9)=>_0x8da33f[_0x5cbea5(0x18b)]-_0x589ec9[_0x5cbea5(0x18b)]);const _0x3f1629=_0x4b7cd1[_0x5cbea5(0xed)](0x0,0x5);await _0x3d1131[_0x5cbea5(0x14a)](_0x5cbea5(0x132),{'val':JSON[_0x5cbea5(0x111)](_0x3f1629),'ack':!![]});}async function monitorEnforcements(_0x4dedce){const _0x586ba3=a1_0x995038;try{const _0x22a97f=_0x586ba3(0x148),_0x384050=await _0x4dedce[_0x586ba3(0x167)](_0x22a97f);if(!_0x384050||!_0x384050['val'])return;let _0x7ead3e=[];try{_0x7ead3e=JSON[_0x586ba3(0x107)](_0x384050['val']);}catch(_0xdbd31c){return;}if(!Array['isArray'](_0x7ead3e)||_0x7ead3e[_0x586ba3(0x171)]===0x0)return;const _0xcf553d=Date[_0x586ba3(0xf1)](),_0x58144e=_0x4dedce[_0x586ba3(0x12b)][_0x586ba3(0x12c)]||[];let _0x1f8398=![];for(let _0x1419cd=_0x7ead3e[_0x586ba3(0x171)]-0x1;_0x1419cd>=0x0;_0x1419cd--){const _0x23a263=_0x7ead3e[_0x1419cd];if(_0xcf553d>=_0x23a263[_0x586ba3(0x174)]){_0x4dedce['log'][_0x586ba3(0x183)](_0x586ba3(0x173)+_0x23a263[_0x586ba3(0x11c)]+_0x586ba3(0x104)),_0x7ead3e[_0x586ba3(0x195)](_0x1419cd,0x1),_0x1f8398=!![];continue;}const _0x3d355c=_0x58144e[_0x586ba3(0x12e)](_0x1d9166=>normalize(_0x1d9166[_0x586ba3(0x179)])===normalize(_0x23a263[_0x586ba3(0x11c)])&&(_0x1d9166[_0x586ba3(0x146)]===_0x586ba3(0x14d)||_0x1d9166[_0x586ba3(0x146)]===_0x586ba3(0x13e)));if(_0x3d355c){const _0x163021=await findRelatedId(_0x4dedce,_0x3d355c['id'],'setpoint');if(_0x163021){const _0x4bc69d=await _0x4dedce['getForeignStateAsync'](_0x163021);_0x4bc69d&&typeof _0x4bc69d[_0x586ba3(0x13b)]===_0x586ba3(0x19e)&&(_0x4bc69d[_0x586ba3(0x13b)]<0xf&&(_0x4dedce[_0x586ba3(0x14e)][_0x586ba3(0x18f)](_0x586ba3(0x13c)+_0x23a263['room']+_0x586ba3(0x181)+_0x4bc69d['val']+_0x586ba3(0xfe)+_0x23a263[_0x586ba3(0x165)]+'¬∞C.'),await _0x4dedce['setForeignStateAsync'](_0x163021,_0x23a263['target']),await logAutomationAction(_0x4dedce,_0x586ba3(0x115)+_0x23a263[_0x586ba3(0x11c)]+':\x20'+_0x4bc69d[_0x586ba3(0x13b)]+_0x586ba3(0x198)+_0x23a263[_0x586ba3(0x165)]+'¬∞C\x20(Kalender-Schutz)')));}}}_0x1f8398&&await _0x4dedce[_0x586ba3(0x14a)](_0x22a97f,{'val':JSON[_0x586ba3(0x111)](_0x7ead3e),'ack':!![]});}catch(_0x406914){_0x4dedce[_0x586ba3(0x14e)][_0x586ba3(0x17c)]('Enforcement\x20Monitor\x20Error:\x20'+_0x406914[_0x586ba3(0x117)]);}}async function checkCalendarTriggers(_0x570b3f){const _0x40a304=a1_0x995038;if(!_0x570b3f[_0x40a304(0x12b)][_0x40a304(0x119)]||!_0x570b3f[_0x40a304(0x12b)][_0x40a304(0x17e)])return;await updateSchedulePreview(_0x570b3f);let _0x1cc541={},_0x339a10={};try{const _0x482f9d=await _0x570b3f[_0x40a304(0x167)]('analysis.energy.warmupTimes');if(_0x482f9d&&_0x482f9d[_0x40a304(0x13b)])_0x1cc541=JSON[_0x40a304(0x107)](_0x482f9d[_0x40a304(0x13b)]);const _0x15bb77=await _0x570b3f[_0x40a304(0x167)](_0x40a304(0x121));if(_0x15bb77&&_0x15bb77[_0x40a304(0x13b)])_0x339a10=JSON['parse'](_0x15bb77[_0x40a304(0x13b)]);}catch(_0x1ffc67){}let _0xe2fb4={'default':0x15};try{const _0xdc87b6=await _0x570b3f['getStateAsync'](_0x40a304(0x180));if(_0xdc87b6&&_0xdc87b6[_0x40a304(0x13b)])_0xe2fb4=JSON[_0x40a304(0x107)](_0xdc87b6['val']);}catch(_0x14abfd){}let _0x162935=[];try{const _0x2286b3=await _0x570b3f['getStateAsync'](_0x40a304(0x148));if(_0x2286b3&&_0x2286b3[_0x40a304(0x13b)])_0x162935=JSON[_0x40a304(0x107)](_0x2286b3['val']);}catch(_0x201398){}try{const _0x3fc896=await _0x570b3f[_0x40a304(0x15d)](_0x570b3f['config']['calendarInstance']+_0x40a304(0x162));if(!_0x3fc896||!_0x3fc896[_0x40a304(0x13b)])return;const _0x432a80=JSON[_0x40a304(0x107)](_0x3fc896[_0x40a304(0x13b)]),_0x11a95b=Date[_0x40a304(0xf1)](),_0x2aead9=_0x570b3f['config'][_0x40a304(0x12c)]||[],_0x2c8323=_0x570b3f[_0x40a304(0x12b)][_0x40a304(0x11a)]||[];let _0x3d09b6=![];for(const _0x4f66e3 of _0x432a80){if(_0x4f66e3[_0x40a304(0x191)]&&_0x2c8323[_0x40a304(0x171)]>0x0&&!_0x2c8323[_0x40a304(0xf0)](_0x4f66e3[_0x40a304(0x191)]))continue;const _0x1f5b2c=_0x4f66e3[_0x40a304(0x16e)]||_0x4f66e3[_0x40a304(0x10e)]||_0x4f66e3['date'];if(!_0x1f5b2c)continue;const _0x55bf03=new Date(_0x1f5b2c);if(isNaN(_0x55bf03['getTime']()))continue;const _0x5416be=(_0x4f66e3['event']||_0x4f66e3[_0x40a304(0x175)]||'')[_0x40a304(0x18e)]();if(_0x5416be[_0x40a304(0xf0)](_0x40a304(0x199))||_0x5416be[_0x40a304(0xf0)](_0x40a304(0x11d))||_0x5416be[_0x40a304(0xf0)](_0x40a304(0x156))){let _0x54c072=0x0;Object[_0x40a304(0x14c)](_0x1cc541)[_0x40a304(0x144)](_0x2048fe=>{if(_0x2048fe>_0x54c072)_0x54c072=_0x2048fe;});if(_0x54c072===0x0)_0x54c072=0x78;const _0x147d81=_0x55bf03[_0x40a304(0x17f)]()-_0x54c072*0xea60;_0x11a95b>=_0x147d81&&_0x11a95b<_0x55bf03[_0x40a304(0x17f)]()&&(_0x570b3f['currentSystemMode']!==_0x40a304(0xf8)&&(_0x570b3f[_0x40a304(0x14e)][_0x40a304(0x183)](_0x40a304(0xf7)+_0x54c072+'\x20min).'),await _0x570b3f['setStateAsync'](_0x40a304(0x114),{'val':_0x40a304(0xf8),'ack':![]})));}for(const _0xcffb5e of _0x2aead9){if(_0xcffb5e[_0x40a304(0x179)]){const _0x1eef9b=_0xcffb5e[_0x40a304(0x179)]['toLowerCase'](),_0x26e128=(_0xcffb5e[_0x40a304(0x196)]||'')['toLowerCase']();let _0xf863f7=_0x5416be['includes'](_0x1eef9b);!_0xf863f7&&_0x26e128[_0x40a304(0x171)]>0x3&&_0x5416be[_0x40a304(0xf0)](_0x26e128)&&(_0xf863f7=!![]);if(_0xf863f7){const _0x856fe4=getWarmupRobust(_0x1cc541,_0xcffb5e['location']),_0x557cf2=_0x339a10[_0xcffb5e[_0x40a304(0x179)]]||_0x40a304(0x155),_0x82fbcc=_0x55bf03[_0x40a304(0x17f)]()-_0x856fe4*0xea60;if(_0x11a95b>=_0x82fbcc&&_0x11a95b<_0x55bf03['getTime']()){const _0xfe528f=lastActions['cal_'+_0xcffb5e[_0x40a304(0x179)]];if(_0xfe528f&&_0x11a95b-_0xfe528f<CAL_COOLDOWN_MS)continue;const _0x48aa29=await findRelatedId(_0x570b3f,_0xcffb5e['id'],_0x40a304(0x129));if(_0x48aa29){let _0x3fc192=_0xe2fb4[_0xcffb5e['location']];if(_0x3fc192===undefined)_0x3fc192=_0xe2fb4[_0x40a304(0x13d)];if(_0x3fc192===undefined)_0x3fc192=0x15;const _0x200002=await _0x570b3f[_0x40a304(0x15d)](_0x48aa29);if(_0x200002&&typeof _0x200002[_0x40a304(0x13b)]==='number'&&_0x200002[_0x40a304(0x13b)]<_0x3fc192-0.5){_0x570b3f[_0x40a304(0x14e)][_0x40a304(0x183)](_0x40a304(0x12a)+_0x557cf2+_0x40a304(0x169)+_0xcffb5e[_0x40a304(0x179)]+_0x40a304(0x1a0)+_0x5416be+_0x40a304(0x11b)+_0x3fc192+_0x40a304(0x123)+_0x856fe4+_0x40a304(0x17b)),await _0x570b3f['setForeignStateAsync'](_0x48aa29,_0x3fc192),await logAutomationAction(_0x570b3f,'[CAL]\x20'+_0xcffb5e['location']+_0x40a304(0x127)+_0x3fc192+'¬∞C\x20(via\x20'+_0x557cf2+')'),lastActions[_0x40a304(0x10c)+_0xcffb5e['location']]=_0x11a95b;const _0x4d4932=_0x162935[_0x40a304(0x13f)](_0x3c2ccf=>_0x3c2ccf['room']===_0xcffb5e['location']);if(_0x4d4932!==-0x1)_0x162935[_0x40a304(0x195)](_0x4d4932,0x1);_0x162935[_0x40a304(0x151)]({'room':_0xcffb5e[_0x40a304(0x179)],'target':_0x3fc192,'until':_0x55bf03[_0x40a304(0x17f)]()}),_0x3d09b6=!![];}}}}}}}_0x3d09b6&&await _0x570b3f[_0x40a304(0x14a)](_0x40a304(0x148),{'val':JSON[_0x40a304(0x111)](_0x162935),'ack':!![]});}catch(_0x10b10d){_0x570b3f[_0x40a304(0x14e)][_0x40a304(0x18f)](_0x40a304(0x133)+_0x10b10d[_0x40a304(0x117)]);}}async function manageMpcIntervention(_0xbbb7af,_0xe77ab4,_0x282b4f){const _0xa3da47=a1_0x995038;try{const _0x5f102a=_0xa3da47(0x178),_0x2a4fd5=await _0xbbb7af[_0xa3da47(0x167)](_0x5f102a);let _0x1b6ebc=[];if(_0x2a4fd5&&_0x2a4fd5[_0xa3da47(0x13b)])try{_0x1b6ebc=JSON[_0xa3da47(0x107)](_0x2a4fd5[_0xa3da47(0x13b)]);}catch(_0x4d1120){}const _0x5c20e9=_0x1b6ebc[_0xa3da47(0x109)](_0xe77ab4);if(_0x282b4f==='add')_0x5c20e9===-0x1&&(_0x1b6ebc[_0xa3da47(0x151)](_0xe77ab4),await _0xbbb7af[_0xa3da47(0x14a)](_0x5f102a,{'val':JSON[_0xa3da47(0x111)](_0x1b6ebc),'ack':!![]}));else _0x282b4f===_0xa3da47(0x135)&&(_0x5c20e9!==-0x1&&(_0x1b6ebc['splice'](_0x5c20e9,0x1),await _0xbbb7af[_0xa3da47(0x14a)](_0x5f102a,{'val':JSON[_0xa3da47(0x111)](_0x1b6ebc),'ack':!![]})));}catch(_0x543c9e){}}function a1_0x3ce6(){const _0x1de295=['active','.4.VALVE_STATE','slice','Manuelles\x20Mapping','toUpperCase','includes','now','92982gbpIGr','occupied_heating_setpoint','off','3AnkgPq','1118492QBtLkp','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','normal','rescue_','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','level.valve','score','thermostatMapping','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','analysis.energy.warmupTimes',':\x20Aufheizen\x20auf\x20','date','Unknown','local_temperature','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','.1.LEVEL','./ai_agent','parse',':\x20Absenkung\x20auf\x20','indexOf','isArray','sendToPythonWrapper','cal_','dimmer','eventStart','[WATCHDOG]\x20','sensor','stringify','abs','Ist','system.mode','[FORCE]\x20','thermostat.setpoint','message','replace','useCalendar','calendarSelection',')\x20aktiv.\x20Heize\x20auf\x20','room','r√ºckkehr','unshift','openknx','map','analysis.energy.warmupSources','mpc_','¬∞C\x20(Vorlauf:\x20','toString','\x20min)','filter','\x20->\x20','exports','setpoint','üìÖ\x20SMART\x20SCHEDULE\x20[','config','devices','¬∞C\x20(nicht\x20','find','switch','¬∞C!\x20(Puffer:\x20','approved','analysis.energy.schedulePreview','Calendar\x20Check\x20Error:\x20','add','remove','.1.ACTUAL_TEMPERATURE','Unbekannt','ACTUAL','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','1306788rhTNoY','val','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','default','thermostat','findIndex','event','analysis.automation.mode','hm-rpc','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','forEach','open','type','100279vQCbIT','analysis.energy.activeEnforcements','PERFECT','setStateAsync','split','values','temperature','log','light','target_temperature','push','SET_POINT_TEMPERATURE','Pr√§diktion:\x20','level','Classic','ankunft','join','getForeignObjectsAsync','sort','unit','temp','localeCompare','getForeignStateAsync','actual','string','value.valve','üßπ\x20[MPC\x20CLEANUP]\x20','.data.table','2500026TTaqGo','valve','target','getHours','getStateAsync','role',']:\x20Raum-Trigger\x20\x27','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','window','üö®\x20[MPC\x20WATCHDOG]\x20','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','_date','constructor','level.temperature','length','¬∞C).\x20Sparmodus\x20beendet!','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','until','summary','.1.TEMPERATURE','apply','analysis.energy.mpcActiveInterventions','location','\x20ist\x20auf\x20','\x20min).','error','analysis.automation.confidenceThreshold','calendarInstance','getTime','analysis.energy.warmupTargets','\x20auf\x20','334392hVHzNJ','info','contact','178540PdWZQO','_meta','setForeignStateAsync','[MPC]\x20','ist','common','triggerTime','too_cold','current_heating_setpoint','toLowerCase','warn','\x20wurde\x20manuell\x20erh√∂ht.','_calName','ACTUAL_TEMPERATURE','.4.SET_TEMPERATURE','.1.SET_POINT_TEMPERATURE','splice','name',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','¬∞C\x20->\x20','urlaub\x20ende','consultButler','getForeignObjectAsync','valveMapping','SET','number','analysis.energy.rlPenalties','\x27\x20(Match:\x20','Fehlt'];a1_0x3ce6=function(){return _0x1de295;};return a1_0x3ce6();}async function cleanupGhostInterventions(_0x1b415a){const _0x2943e7=a1_0x995038;try{const _0x369a29=_0x2943e7(0x178),_0x1f7ead=await _0x1b415a[_0x2943e7(0x167)](_0x369a29);if(!_0x1f7ead||!_0x1f7ead[_0x2943e7(0x13b)])return;const _0x59c43e=JSON[_0x2943e7(0x107)](_0x1f7ead[_0x2943e7(0x13b)]);if(!Array[_0x2943e7(0x10a)](_0x59c43e)||_0x59c43e['length']===0x0)return;let _0x427f43={'default':0x15};try{const _0x2d1722=await _0x1b415a['getStateAsync']('analysis.energy.warmupTargets');if(_0x2d1722&&_0x2d1722[_0x2943e7(0x13b)])_0x427f43=JSON[_0x2943e7(0x107)](_0x2d1722['val']);}catch(_0x26b680){}let _0x335530=[];try{const _0x124425=await _0x1b415a['getStateAsync']('analysis.energy.ventilationAlerts');if(_0x124425&&_0x124425['val'])_0x335530=JSON[_0x2943e7(0x107)](_0x124425['val']);}catch(_0x431ced){}let _0xa3be06={},_0x4735b7=![];try{const _0x3cf476=await _0x1b415a[_0x2943e7(0x167)](_0x2943e7(0x19f));if(_0x3cf476&&_0x3cf476[_0x2943e7(0x13b)])_0xa3be06=JSON[_0x2943e7(0x107)](_0x3cf476[_0x2943e7(0x13b)]);}catch(_0x2ddf9f){}if(_0xa3be06[_0x2943e7(0x186)]){const _0x4c9ad0=Date['now']();for(const [_0x186cb1,_0x540637]of Object['entries'](_0xa3be06[_0x2943e7(0x186)])){_0x4c9ad0-_0x540637>PENALTY_TTL&&(delete _0xa3be06[_0x186cb1],delete _0xa3be06['_meta'][_0x186cb1],_0x4735b7=!![],_0x1b415a['log'][_0x2943e7(0x183)](_0x2943e7(0x16d)+_0x186cb1+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x5bc476=_0x1b415a[_0x2943e7(0x12b)][_0x2943e7(0x12c)]||[];let _0x2b02f6=![];for(let _0x161df7=_0x59c43e[_0x2943e7(0x171)]-0x1;_0x161df7>=0x0;_0x161df7--){const _0x5d9f77=_0x59c43e[_0x161df7],_0x372779=_0x5bc476['find'](_0x2ee19f=>normalize(_0x2ee19f[_0x2943e7(0x179)])===normalize(_0x5d9f77)&&(_0x2ee19f[_0x2943e7(0x146)]===_0x2943e7(0x14d)||_0x2ee19f[_0x2943e7(0x146)]===_0x2943e7(0x13e)));if(!_0x372779){_0x1b415a['log'][_0x2943e7(0x18f)](_0x2943e7(0xfa)+_0x5d9f77+_0x2943e7(0x16a)),_0x59c43e[_0x2943e7(0x195)](_0x161df7,0x1),_0x2b02f6=!![];continue;}if(_0x372779){const _0x22293e=await findRelatedId(_0x1b415a,_0x372779['id'],'setpoint'),_0x5f393f=await _0x1b415a[_0x2943e7(0x15d)](_0x372779['id']);if(_0x22293e){const _0xf2863e=await _0x1b415a['getForeignStateAsync'](_0x22293e);if(_0xf2863e&&typeof _0xf2863e[_0x2943e7(0x13b)]==='number'){let _0x1be0c2=![],_0x22a12d='';Math[_0x2943e7(0x112)](_0xf2863e[_0x2943e7(0x13b)]-ECO_TEMP)>0.5&&(_0x1be0c2=!![],_0x22a12d='manual');if(!_0x1be0c2&&_0x5f393f&&typeof _0x5f393f['val']==='number'){const _0x59fb54=_0x427f43[_0x5d9f77]||_0x427f43['default']||0x15;_0x5f393f[_0x2943e7(0x13b)]<_0x59fb54+0.2&&(_0x1be0c2=!![],_0x22a12d=_0x2943e7(0x18c));}if(_0x1be0c2){if(_0x22a12d==='manual'){_0x1b415a[_0x2943e7(0x14e)][_0x2943e7(0x183)](_0x2943e7(0x161)+_0x5d9f77+_0x2943e7(0x17a)+_0xf2863e['val']+_0x2943e7(0x12d)+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0x435fb4=lastActions[_0x2943e7(0x10c)+_0x5d9f77],_0x3523b9=_0x435fb4&&Date[_0x2943e7(0xf1)]()-_0x435fb4<0x2*0x3c*0x3e8;if(!_0x3523b9&&_0xf2863e[_0x2943e7(0x13b)]>ECO_TEMP+0.5){_0x1b415a['sendToPythonWrapper']&&(_0x1b415a[_0x2943e7(0x14e)][_0x2943e7(0x183)]('üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20'+_0x5d9f77+_0x2943e7(0x190)),_0x1b415a[_0x2943e7(0x10b)]('TRAIN_RL_PENALTY',{'room':_0x5d9f77}));const _0x290838=_0x5d9f77+'_'+new Date()[_0x2943e7(0x166)]();if(!_0xa3be06[_0x290838]){_0xa3be06[_0x290838]=0x1;if(!_0xa3be06[_0x2943e7(0x186)])_0xa3be06['_meta']={};_0xa3be06['_meta'][_0x290838]=Date[_0x2943e7(0xf1)](),_0x4735b7=!![];}}else _0x3523b9&&_0x1b415a[_0x2943e7(0x14e)][_0x2943e7(0x183)]('üìÖ\x20[MPC\x20INFO]\x20'+_0x5d9f77+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x22a12d===_0x2943e7(0x18c)){let _0x50c344=![];if(_0x335530[_0x2943e7(0x12e)](_0x105b1b=>_0x105b1b['room']===_0x5d9f77))_0x50c344=!![];const _0x4f001c=_0x5bc476[_0x2943e7(0x126)](_0x10fbd9=>normalize(_0x10fbd9[_0x2943e7(0x179)])===normalize(_0x5d9f77)&&(_0x10fbd9[_0x2943e7(0x146)]===_0x2943e7(0x16b)||_0x10fbd9[_0x2943e7(0x146)]===_0x2943e7(0x110)||_0x10fbd9[_0x2943e7(0x146)]===_0x2943e7(0x184)));for(const _0x3189ac of _0x4f001c){try{const _0x2560ce=await _0x1b415a[_0x2943e7(0x15d)](_0x3189ac['id']);if(_0x2560ce&&(_0x2560ce[_0x2943e7(0x13b)]===!![]||_0x2560ce[_0x2943e7(0x13b)]===0x1||String(_0x2560ce[_0x2943e7(0x13b)])['toLowerCase']()===_0x2943e7(0x145)))_0x50c344=!![];}catch(_0x6c2a0b){}}if(_0x50c344)_0x1b415a[_0x2943e7(0x14e)]['info'](_0x2943e7(0x143)+_0x5d9f77+_0x2943e7(0x139));else{const _0x296fcd=_0x427f43[_0x5d9f77]||_0x427f43[_0x2943e7(0x13d)]||0x15;_0x1b415a[_0x2943e7(0x14e)]['info'](_0x2943e7(0x16c)+_0x5d9f77+'\x20erreicht\x20Limit\x20('+_0x5f393f[_0x2943e7(0x13b)]+'¬∞C\x20<\x20'+(_0x296fcd+0.2)+_0x2943e7(0x172)),await _0x1b415a[_0x2943e7(0x187)](_0x22293e,_0x296fcd),await logAutomationAction(_0x1b415a,_0x2943e7(0x10f)+_0x5d9f77+_0x2943e7(0x197)+_0x296fcd+'¬∞C'),lastActions['rescue_'+_0x5d9f77]=Date[_0x2943e7(0xf1)]();}}}_0x59c43e[_0x2943e7(0x195)](_0x161df7,0x1),_0x2b02f6=!![];}}}}}_0x2b02f6&&await _0x1b415a[_0x2943e7(0x14a)](_0x369a29,{'val':JSON[_0x2943e7(0x111)](_0x59c43e),'ack':!![]}),_0x4735b7&&await _0x1b415a['setStateAsync'](_0x2943e7(0x19f),{'val':JSON['stringify'](_0xa3be06),'ack':!![]});}catch(_0x4c3405){}}async function applyEnergySavings(_0x543460,_0x29d35f){const _0x5038c7=a1_0x995038;await cleanupGhostInterventions(_0x543460);if(!_0x29d35f||_0x29d35f['length']===0x0)return;const _0x59519e=_0x543460[_0x5038c7(0x12b)][_0x5038c7(0x12c)]||[],_0x3322bc=Date[_0x5038c7(0xf1)]();for(const _0x345a41 of _0x29d35f){const _0x326943=_0x345a41[_0x5038c7(0x11c)],_0x60ea0b=_0x345a41['minutes_safe'],_0x159234=_0x345a41[_0x5038c7(0x165)]||0x15;if(lastActions[_0x5038c7(0xf9)+_0x326943]&&_0x3322bc-lastActions['rescue_'+_0x326943]<RESCUE_LOCK_MS)continue;const _0x4ac43c=_0x59519e[_0x5038c7(0x12e)](_0x444687=>normalize(_0x444687[_0x5038c7(0x179)])===normalize(_0x326943)&&(_0x444687[_0x5038c7(0x146)]===_0x5038c7(0x14d)||_0x444687[_0x5038c7(0x146)]===_0x5038c7(0x13e)));if(!_0x4ac43c)continue;const _0x59fe69=await findRelatedId(_0x543460,_0x4ac43c['id'],_0x5038c7(0x129));if(_0x59fe69){if(lastActions['mpc_'+_0x326943]&&_0x3322bc-lastActions[_0x5038c7(0x122)+_0x326943]<0x1e*0x3c*0x3e8)continue;const _0x2dc67a=await _0x543460[_0x5038c7(0x15d)](_0x59fe69);if(_0x2dc67a&&typeof _0x2dc67a[_0x5038c7(0x13b)]===_0x5038c7(0x19e)){const _0x54f2fc=_0x2dc67a[_0x5038c7(0x13b)];_0x54f2fc!==ECO_TEMP&&await manageMpcIntervention(_0x543460,_0x326943,_0x5038c7(0x135));if(_0x60ea0b>0x1e)_0x54f2fc>ECO_TEMP+0.5&&(_0x543460[_0x5038c7(0x14e)][_0x5038c7(0x183)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x326943+_0x5038c7(0x181)+ECO_TEMP+_0x5038c7(0x130)+_0x60ea0b+_0x5038c7(0x125)),await _0x543460['setForeignStateAsync'](_0x59fe69,ECO_TEMP),await manageMpcIntervention(_0x543460,_0x326943,_0x5038c7(0x134)),lastActions['mpc_'+_0x326943]=_0x3322bc,await logAutomationAction(_0x543460,_0x5038c7(0x188)+_0x326943+_0x5038c7(0x108)+ECO_TEMP+'¬∞C'));else _0x60ea0b<=0xf&&(_0x54f2fc<_0x159234&&(_0x543460[_0x5038c7(0x14e)][_0x5038c7(0x183)]('üî•\x20[MPC\x20ACTION]\x20Heize\x20'+_0x326943+'\x20wieder\x20auf\x20'+_0x159234+'¬∞C!\x20(Puffer\x20leer).'),await _0x543460[_0x5038c7(0x187)](_0x59fe69,_0x159234),await manageMpcIntervention(_0x543460,_0x326943,'remove'),lastActions['mpc_'+_0x326943]=_0x3322bc,await logAutomationAction(_0x543460,_0x5038c7(0x188)+_0x326943+_0x5038c7(0x100)+_0x159234+'¬∞C')));}}else _0x543460[_0x5038c7(0x14e)][_0x5038c7(0x18f)]('[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20'+_0x326943+'\x20gefunden!');}}module[a1_0x995038(0x128)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};