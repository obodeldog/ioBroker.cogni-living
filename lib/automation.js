const a1_0x547eee=a1_0x3a51;function a1_0x6bf4(){const _0x20e54f=['PrÃ¤diktion:\x20','toLowerCase','113624NkokZJ','devices','apply','(((.+)+)+)+$','3ZxsdJx','8166470yDqXvf','getStateAsync','dimmer','off','setStateAsync','constructor','39797978kXSBdD','./ai_agent','analysis.automation.mode','location','\x27\x20(norm:\x20\x27','getForeignStateAsync','408gxfLZY','now','val','replace','âš¡\x20ACTION:\x20','ðŸ‘€\x20SIMULATION:\x20','ðŸ”\x20Device-Search\x20failed:\x20Predicted\x20\x27','2840HeXtfS','log','info','active','find','exports','simulate','131926LvxoJY','approved','search','consultButler','[BLOCKED]\x20','\x20->\x20','29475sEqoDC','config','analysis.automation.confidenceThreshold','toUpperCase','switch','5soDUgN','reason','4151277OVgjHb','toString','name','debug','5498156OjiQnn','\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.','light','analysis.automation.lastAction'];a1_0x6bf4=function(){return _0x20e54f;};return a1_0x6bf4();}(function(_0x35ee3b,_0x45e30b){const _0xb917ec=a1_0x3a51,_0x2daad2=_0x35ee3b();while(!![]){try{const _0x159a5a=parseInt(_0xb917ec(0x86))/0x1*(parseInt(_0xb917ec(0xa1))/0x2)+-parseInt(_0xb917ec(0xae))/0x3+parseInt(_0xb917ec(0xb2))/0x4*(parseInt(_0xb917ec(0xac))/0x5)+parseInt(_0xb917ec(0x93))/0x6*(-parseInt(_0xb917ec(0x82))/0x7)+parseInt(_0xb917ec(0x9a))/0x8*(-parseInt(_0xb917ec(0xa7))/0x9)+-parseInt(_0xb917ec(0x87))/0xa+parseInt(_0xb917ec(0x8d))/0xb;if(_0x159a5a===_0x45e30b)break;else _0x2daad2['push'](_0x2daad2['shift']());}catch(_0x4622a7){_0x2daad2['push'](_0x2daad2['shift']());}}}(a1_0x6bf4,0xb0aa3));const a1_0xe14457=(function(){let _0x4b674b=!![];return function(_0x1e32bd,_0x3e2c8a){const _0x572c78=_0x4b674b?function(){const _0x570333=a1_0x3a51;if(_0x3e2c8a){const _0x9d1630=_0x3e2c8a[_0x570333(0x84)](_0x1e32bd,arguments);return _0x3e2c8a=null,_0x9d1630;}}:function(){};return _0x4b674b=![],_0x572c78;};}()),a1_0x543b39=a1_0xe14457(this,function(){const _0x53a90a=a1_0x3a51;return a1_0x543b39['toString']()[_0x53a90a(0xa3)](_0x53a90a(0x85))[_0x53a90a(0xaf)]()[_0x53a90a(0x8c)](a1_0x543b39)[_0x53a90a(0xa3)](_0x53a90a(0x85));});function a1_0x3a51(_0x55022c,_0x40ea8c){const _0x118aea=a1_0x6bf4();return a1_0x3a51=function(_0x543b39,_0xe14457){_0x543b39=_0x543b39-0x80;let _0x6bf45e=_0x118aea[_0x543b39];return _0x6bf45e;},a1_0x3a51(_0x55022c,_0x40ea8c);}a1_0x543b39();'use strict';const aiAgent=require(a1_0x547eee(0x8e)),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function normalize(_0x17546c){const _0x1f28c0=a1_0x547eee;if(!_0x17546c)return'';return _0x17546c[_0x1f28c0(0x81)]()[_0x1f28c0(0x96)](/\s+/g,'')['trim']();}async function handlePrediction(_0x5b3427,_0x24b2a9,_0x1ba1b3){const _0x5a32be=a1_0x547eee;if(!_0x24b2a9||_0x24b2a9==='Unknown')return;let _0x2390e3=_0x5a32be(0x8a),_0x41b6c0=0.6;try{const _0x1a724f=await _0x5b3427['getStateAsync'](_0x5a32be(0x8f));if(_0x1a724f&&_0x1a724f[_0x5a32be(0x95)])_0x2390e3=_0x1a724f['val'];const _0x5a3831=await _0x5b3427[_0x5a32be(0x88)](_0x5a32be(0xa9));if(_0x5a3831&&_0x5a3831[_0x5a32be(0x95)])_0x41b6c0=_0x5a3831[_0x5a32be(0x95)];}catch(_0x842942){}if(_0x2390e3===_0x5a32be(0x8a))return;if(_0x1ba1b3<_0x41b6c0)return;const _0x1c4f26=Date[_0x5a32be(0x94)]();if(lastActions[_0x24b2a9]&&_0x1c4f26-lastActions[_0x24b2a9]<COOLDOWN_MS)return;const _0x338e11=_0x5b3427[_0x5a32be(0xa8)][_0x5a32be(0x83)]||[],_0x5495d8=normalize(_0x24b2a9),_0x21827e=_0x338e11[_0x5a32be(0x9e)](_0x33bb5b=>{const _0x194a44=_0x5a32be;return normalize(_0x33bb5b[_0x194a44(0x90)])===_0x5495d8&&(_0x33bb5b['type']===_0x194a44(0xb4)||_0x33bb5b['type']===_0x194a44(0x89)||_0x33bb5b['type']===_0x194a44(0xab));});if(!_0x21827e){const _0xbcd425=_0x5a32be(0x99)+_0x24b2a9+_0x5a32be(0x91)+_0x5495d8+_0x5a32be(0xb3);_0x5b3427['log']['debug'](_0xbcd425);return;}const _0x54cf89=await aiAgent[_0x5a32be(0xa4)](_0x5b3427,_0x24b2a9,_0x21827e['name'],_0x1ba1b3);if(!_0x54cf89[_0x5a32be(0xa2)]){_0x5b3427[_0x5a32be(0x9b)][_0x5a32be(0xb1)]('ðŸ¤–\x20Butler\x20Blocked:\x20'+_0x24b2a9+_0x5a32be(0xa6)+_0x54cf89[_0x5a32be(0xad)]),await _0x5b3427[_0x5a32be(0x8b)](_0x5a32be(0xb5),{'val':_0x5a32be(0xa5)+_0x54cf89[_0x5a32be(0xad)],'ack':!![]});return;}const _0x490f98=_0x5a32be(0x80)+_0x24b2a9+'\x20->\x20Schalte\x20'+_0x21827e[_0x5a32be(0xb0)]+'\x20('+_0x54cf89['reason']+')';await _0x5b3427[_0x5a32be(0x8b)](_0x5a32be(0xb5),{'val':'['+_0x2390e3[_0x5a32be(0xaa)]()+']\x20'+_0x490f98,'ack':!![]});if(_0x2390e3===_0x5a32be(0xa0))_0x5b3427['log'][_0x5a32be(0x9c)](_0x5a32be(0x98)+_0x490f98);else{if(_0x2390e3===_0x5a32be(0x9d)){_0x5b3427[_0x5a32be(0x9b)][_0x5a32be(0x9c)](_0x5a32be(0x97)+_0x490f98);const _0x4cfef4=await _0x5b3427[_0x5a32be(0x92)](_0x21827e['id']);if(_0x4cfef4&&(_0x4cfef4[_0x5a32be(0x95)]===!![]||_0x4cfef4[_0x5a32be(0x95)]>0x0)){}else await _0x5b3427['setForeignStateAsync'](_0x21827e['id'],!![]);lastActions[_0x24b2a9]=_0x1c4f26;}}}module[a1_0x547eee(0x9f)]={'handlePrediction':handlePrediction};