const a1_0x5cef29=a1_0x14d1;(function(_0x53eced,_0x30cf6c){const _0x50f2c4=a1_0x14d1,_0x5e9f26=_0x53eced();while(!![]){try{const _0x31f448=parseInt(_0x50f2c4(0x1d5))/0x1*(-parseInt(_0x50f2c4(0x174))/0x2)+-parseInt(_0x50f2c4(0x1a8))/0x3+parseInt(_0x50f2c4(0x18b))/0x4+-parseInt(_0x50f2c4(0x178))/0x5*(parseInt(_0x50f2c4(0x1ce))/0x6)+-parseInt(_0x50f2c4(0x17d))/0x7+-parseInt(_0x50f2c4(0x1fc))/0x8+parseInt(_0x50f2c4(0x1db))/0x9*(parseInt(_0x50f2c4(0x189))/0xa);if(_0x31f448===_0x30cf6c)break;else _0x5e9f26['push'](_0x5e9f26['shift']());}catch(_0x4efe8f){_0x5e9f26['push'](_0x5e9f26['shift']());}}}(a1_0x3ebc,0x5c13e));const a1_0x5941d4=(function(){let _0xc121a3=!![];return function(_0x54dc2e,_0x4e111c){const _0x3d1661=_0xc121a3?function(){const _0x1117c3=a1_0x14d1;if(_0x4e111c){const _0x42eb34=_0x4e111c[_0x1117c3(0x162)](_0x54dc2e,arguments);return _0x4e111c=null,_0x42eb34;}}:function(){};return _0xc121a3=![],_0x3d1661;};}()),a1_0x5b0dd1=a1_0x5941d4(this,function(){const _0x1a0a5b=a1_0x14d1;return a1_0x5b0dd1[_0x1a0a5b(0x1df)]()[_0x1a0a5b(0x20b)](_0x1a0a5b(0x1cc))[_0x1a0a5b(0x1df)]()[_0x1a0a5b(0x1bb)](a1_0x5b0dd1)[_0x1a0a5b(0x20b)](_0x1a0a5b(0x1cc));});a1_0x5b0dd1();'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x37864d){const _0x197350=a1_0x14d1;if(!_0x37864d)return'';return _0x37864d[_0x197350(0x1a4)]()[_0x197350(0x202)](/\s+/g,'')[_0x197350(0x1e9)]();}async function logAutomationAction(_0x47c65e,_0x1fe614){const _0x1f46d9=a1_0x14d1;await _0x47c65e['setStateAsync'](_0x1f46d9(0x20a),{'val':_0x1fe614,'ack':!![]});try{const _0x381567='analysis.automation.actionLog',_0xaef2a0=await _0x47c65e[_0x1f46d9(0x1bd)](_0x381567);let _0x497264=[];if(_0xaef2a0&&_0xaef2a0[_0x1f46d9(0x168)])try{_0x497264=JSON[_0x1f46d9(0x1f6)](_0xaef2a0[_0x1f46d9(0x168)]);}catch(_0xe2b8a8){}_0x497264[_0x1f46d9(0x15e)]({'ts':Date['now'](),'msg':_0x1fe614});if(_0x497264[_0x1f46d9(0x1ac)]>0x32)_0x497264=_0x497264[_0x1f46d9(0x175)](0x0,0x32);await _0x47c65e['setStateAsync'](_0x381567,{'val':JSON['stringify'](_0x497264),'ack':!![]});}catch(_0x405a10){}}async function handlePrediction(_0x5bca0b,_0x195f25,_0x1dcbcf){const _0x10b7dd=a1_0x14d1;if(!_0x195f25||_0x195f25===_0x10b7dd(0x171))return;let _0x22aa81=_0x10b7dd(0x1cf),_0xa1bc8e=0.6;try{const _0x3f128d=await _0x5bca0b[_0x10b7dd(0x1bd)](_0x10b7dd(0x1a3));if(_0x3f128d&&_0x3f128d[_0x10b7dd(0x168)])_0x22aa81=_0x3f128d[_0x10b7dd(0x168)];const _0x2d886d=await _0x5bca0b[_0x10b7dd(0x1bd)](_0x10b7dd(0x161));if(_0x2d886d&&_0x2d886d[_0x10b7dd(0x168)])_0xa1bc8e=_0x2d886d[_0x10b7dd(0x168)];}catch(_0x20cdeb){}if(_0x22aa81===_0x10b7dd(0x1cf)||_0x1dcbcf<_0xa1bc8e)return;const _0x7fbb8b=Date[_0x10b7dd(0x1a5)]();if(lastActions[_0x195f25]&&_0x7fbb8b-lastActions[_0x195f25]<COOLDOWN_MS)return;const _0x239fa4=_0x5bca0b[_0x10b7dd(0x201)][_0x10b7dd(0x192)]||[],_0x57462b=normalize(_0x195f25),_0x125968=_0x239fa4[_0x10b7dd(0x1ca)](_0xca72f7=>normalize(_0xca72f7[_0x10b7dd(0x1da)])===_0x57462b&&(_0xca72f7[_0x10b7dd(0x164)]==='light'||_0xca72f7[_0x10b7dd(0x164)]===_0x10b7dd(0x185)||_0xca72f7[_0x10b7dd(0x164)]===_0x10b7dd(0x1a6)));if(!_0x125968)return;const _0x30a777=await aiAgent[_0x10b7dd(0x20d)](_0x5bca0b,_0x195f25,_0x125968[_0x10b7dd(0x1d0)],_0x1dcbcf);if(!_0x30a777[_0x10b7dd(0x1be)])return;const _0xa35b62=_0x10b7dd(0x1c2)+_0x195f25+_0x10b7dd(0x198)+_0x125968[_0x10b7dd(0x1d0)]+'\x20('+_0x30a777[_0x10b7dd(0x205)]+')';await logAutomationAction(_0x5bca0b,'['+_0x22aa81[_0x10b7dd(0x1b6)]()+']\x20'+_0xa35b62);if(_0x22aa81===_0x10b7dd(0x17c)){const _0x5bc039=await _0x5bca0b[_0x10b7dd(0x1c9)](_0x125968['id']);(!_0x5bc039||!_0x5bc039[_0x10b7dd(0x168)]&&_0x5bc039[_0x10b7dd(0x168)]!==!![])&&await _0x5bca0b[_0x10b7dd(0x1b1)](_0x125968['id'],!![]),lastActions[_0x195f25]=_0x7fbb8b;}}function a1_0x3ebc(){const _0xe79e26=['SET','exports','analysis.automation.mode','toLowerCase','now','switch','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','1268271agKatx','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','\x27\x20(Match:\x20','includes','length','too_cold','default','system.mode','ACTUAL','setForeignStateAsync','thermostat.setpoint','level.temperature','error','remove','toUpperCase','abs','getForeignObjectsAsync','.4.SET_TEMPERATURE','thermostatMapping','constructor','[WATCHDOG]\x20','getStateAsync','approved','warn','soll',':\x20Aufheizen\x20auf\x20','Pr√§diktion:\x20','Calendar\x20Check\x20Error:\x20','\x20->\x20','ankunft','pi_heating_demand','.data.table','info','getForeignStateAsync','find','set','(((.+)+)+)+$','.1.SET_POINT_TEMPERATURE','606PJNEUg','off','name','openknx','write','triggerTime','stringify','1wJHpNY','\x20min)','useCalendar','indexOf','current_heating_setpoint','location','19090917jjWfrv','add','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','toString','Classic','level','temperature','from','setStateAsync','¬∞C.','Manuelles\x20Mapping','thermostat','calendarInstance','trim','eventStart','_meta','number','split','.4.VALVE_STATE',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20',')\x20aktiv.\x20Heize\x20auf\x20','\x20ist\x20auf\x20','analysis.energy.warmupTargets','forEach','position','common','parse','date','occupied_heating_setpoint','\x20auf\x20','window','entries','5069088sgxMmy','splice','mpc_','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','¬∞C\x20<\x20','config','replace','currentSystemMode','analysis.energy.activeEnforcements','reason','setpoint','SET_POINT_TEMPERATURE','_calName','TRAIN_RL_PENALTY','analysis.automation.lastAction','search','localeCompare','consultButler','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','¬∞C\x20(via\x20','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','event','_date','room','valve','Soll','Enforcement\x20Monitor\x20Error:\x20','Nicht\x20gefunden','unshift','manual','PERFECT','analysis.automation.confidenceThreshold','apply','[CAL]\x20','type','\x20erreicht\x20Limit\x20(','summary','getTime','val','ACTUAL_TEMPERATURE','üìÖ\x20[MPC\x20INFO]\x20','role','r√ºckkehr','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','[FORCE]\x20','string','Ist','Unknown','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','.1.TEMPERATURE','1401274piIJyA','slice','urlaub\x20ende','filter','305XMNdoU','contact','.1.ACTUAL_TEMPERATURE','ist','active','845733MfNoWI','message','valveMapping','target','level.valve','values','log','analysis.energy.warmupTimes','dimmer','¬∞C\x20->\x20','sort','push','10VRnVeo','üî•\x20[MPC\x20ACTION]\x20Heize\x20','559788wfyGRa','score','analysis.energy.warmupSources','getForeignObjectAsync','üßπ\x20[MPC\x20CLEANUP]\x20','\x20min).','¬∞C\x20(Vorlauf:\x20','devices','hm-rpc','Unbekannt','isArray','actual','sensor','\x20->\x20Schalte\x20','sendToPythonWrapper','value.valve','wert','¬∞C).\x20Sparmodus\x20beendet!','cal_','normal','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','analysis.energy.rlPenalties'];a1_0x3ebc=function(){return _0xe79e26;};return a1_0x3ebc();}function a1_0x14d1(_0x3291cc,_0x31ff5f){const _0x2b2996=a1_0x3ebc();return a1_0x14d1=function(_0x5b0dd1,_0x5941d4){_0x5b0dd1=_0x5b0dd1-0x155;let _0x3ebcf1=_0x2b2996[_0x5b0dd1];return _0x3ebcf1;},a1_0x14d1(_0x3291cc,_0x31ff5f);}async function findRelatedId(_0x559142,_0x335487,_0x463108=a1_0x5cef29(0x206)){const _0x75d48=a1_0x5cef29;if(_0x463108===_0x75d48(0x206)&&_0x559142['config'][_0x75d48(0x1ba)]){let _0x50f789=_0x559142['config'][_0x75d48(0x1ba)];if(typeof _0x50f789===_0x75d48(0x16f))try{_0x50f789=JSON['parse'](_0x50f789);}catch(_0x23e35c){}if(_0x50f789&&_0x50f789[_0x335487])return _0x50f789[_0x335487];}if(_0x463108===_0x75d48(0x15a)&&_0x559142[_0x75d48(0x201)][_0x75d48(0x17f)]){let _0x3a12ad=_0x559142[_0x75d48(0x201)][_0x75d48(0x17f)];if(typeof _0x3a12ad==='string')try{_0x3a12ad=JSON['parse'](_0x3a12ad);}catch(_0xf9c1d3){}if(_0x3a12ad&&_0x3a12ad[_0x335487])return _0x3a12ad[_0x335487];}let _0x19ef7f=[];if(_0x463108===_0x75d48(0x206))_0x19ef7f=[{'s':_0x75d48(0x17a),'t':_0x75d48(0x1cd)},{'s':_0x75d48(0x173),'t':_0x75d48(0x1cd)},{'s':_0x75d48(0x173),'t':_0x75d48(0x1b9)},{'s':_0x75d48(0x169),'t':_0x75d48(0x207)},{'s':'local_temperature','t':_0x75d48(0x1f8)},{'s':'local_temperature','t':_0x75d48(0x1d9)},{'s':_0x75d48(0x1e2),'t':'target_temperature'},{'s':_0x75d48(0x1b0),'t':_0x75d48(0x1a1)},{'s':_0x75d48(0x170),'t':_0x75d48(0x15b)},{'s':_0x75d48(0x1e2),'t':_0x75d48(0x206)}];else _0x463108===_0x75d48(0x15a)&&(_0x19ef7f=[{'s':'.1.ACTUAL_TEMPERATURE','t':'.1.LEVEL'},{'s':_0x75d48(0x173),'t':'.1.LEVEL'},{'s':_0x75d48(0x173),'t':_0x75d48(0x1ee)},{'s':'local_temperature','t':_0x75d48(0x1c6)},{'s':_0x75d48(0x1e2),'t':'valve_position'},{'s':_0x75d48(0x1e2),'t':'level'}]);for(const _0x43fece of _0x19ef7f){if(_0x335487['includes'](_0x43fece['s'])){const _0x4ebc82=_0x335487[_0x75d48(0x202)](_0x43fece['s'],_0x43fece['t']),_0x5551dc=await _0x559142[_0x75d48(0x18e)](_0x4ebc82);if(_0x5551dc)return _0x4ebc82;}}try{const _0x270b85=_0x335487['split']('.');if(_0x270b85['length']>0x2){const _0x45b4a6=_0x270b85[_0x75d48(0x175)](0x0,-0x1)['join']('.'),_0x29dd31=await _0x559142[_0x75d48(0x1b8)](_0x45b4a6+'.*'),_0x7361cb=[],_0x481b51=_0x335487[_0x75d48(0x1ed)](/[._]+/)[_0x75d48(0x177)](_0x343d66=>![_0x75d48(0x1d1),'0',_0x75d48(0x193),_0x75d48(0x17b),_0x75d48(0x19b),'temperature',_0x75d48(0x196),_0x75d48(0x197),'messwert','state'][_0x75d48(0x1ab)](_0x343d66[_0x75d48(0x1a4)]()));for(const [_0x8ab742,_0x32f439]of Object['entries'](_0x29dd31)){if(_0x8ab742===_0x335487)continue;if(_0x32f439&&_0x32f439[_0x75d48(0x1f5)]){const _0xd8485a=_0x8ab742['toLowerCase'](),_0x2055cf=(_0x32f439[_0x75d48(0x1f5)][_0x75d48(0x16b)]||'')[_0x75d48(0x1a4)](),_0x29a9d2=(_0x32f439[_0x75d48(0x1f5)]['unit']||'')[_0x75d48(0x1a4)]();let _0x89f230=![];if(_0x463108===_0x75d48(0x206)&&_0x32f439[_0x75d48(0x1f5)][_0x75d48(0x1d2)]===!![])_0x89f230=_0xd8485a[_0x75d48(0x1ab)](_0x75d48(0x1cb))||_0xd8485a[_0x75d48(0x1ab)](_0x75d48(0x1c0))||_0xd8485a['includes'](_0x75d48(0x180))||_0x2055cf[_0x75d48(0x1ab)](_0x75d48(0x1b3))||_0x2055cf[_0x75d48(0x1ab)](_0x75d48(0x1b2));else _0x463108===_0x75d48(0x15a)&&(_0x89f230=_0xd8485a[_0x75d48(0x1ab)](_0x75d48(0x1e1))||_0xd8485a['includes']('valve')||_0xd8485a[_0x75d48(0x1ab)]('stellwert')||_0xd8485a[_0x75d48(0x1ab)](_0x75d48(0x1f4))||_0x2055cf[_0x75d48(0x1ab)](_0x75d48(0x181))||_0x2055cf[_0x75d48(0x1ab)](_0x75d48(0x19a))||_0x29a9d2[_0x75d48(0x1ab)]('%'));if(_0x89f230){const _0x1d6d23=_0x8ab742['split'](/[._]+/)['map'](_0x426f8b=>_0x426f8b['toLowerCase']());let _0x42bf5a=0x0;_0x481b51['forEach'](_0x18b4c1=>{const _0x101bf8=_0x75d48;if(_0x1d6d23[_0x101bf8(0x1ab)](_0x18b4c1[_0x101bf8(0x1a4)]()))_0x42bf5a++;}),_0x7361cb['push']({'id':_0x8ab742,'score':_0x42bf5a});}}}if(_0x7361cb['length']>0x0){_0x7361cb[_0x75d48(0x187)]((_0xd32856,_0x154c13)=>_0x154c13[_0x75d48(0x18c)]-_0xd32856[_0x75d48(0x18c)]);if(_0x7361cb[0x0][_0x75d48(0x18c)]>0x0)return _0x7361cb[0x0]['id'];}}}catch(_0x189330){}return null;}async function scanThermostats(_0x20f3d3){const _0x351d29=a1_0x5cef29,_0x403df2=_0x20f3d3[_0x351d29(0x201)][_0x351d29(0x192)]||[],_0x55c933=[],_0x5a319e=_0x403df2[_0x351d29(0x177)](_0x6e5370=>_0x6e5370['id']&&_0x6e5370['id']['includes']('temperature')||_0x6e5370['type']&&[_0x351d29(0x1e2),_0x351d29(0x1e7),_0x351d29(0x197)][_0x351d29(0x1ab)](_0x6e5370[_0x351d29(0x164)])||_0x6e5370[_0x351d29(0x1d0)]&&_0x6e5370[_0x351d29(0x1d0)]['toLowerCase']()[_0x351d29(0x1ab)]('temp'));for(const _0x1ae9a6 of _0x5a319e){const _0x50c5a2=await findRelatedId(_0x20f3d3,_0x1ae9a6['id'],_0x351d29(0x206)),_0x57cf43=await findRelatedId(_0x20f3d3,_0x1ae9a6['id'],_0x351d29(0x15a));let _0xd2c7bc=_0x351d29(0x15d),_0x2229bc=![],_0x363c74=_0x20f3d3[_0x351d29(0x201)][_0x351d29(0x1ba)]||{};if(typeof _0x363c74===_0x351d29(0x16f))try{_0x363c74=JSON[_0x351d29(0x1f6)](_0x363c74);}catch(_0x53ceca){}let _0x34dd23=_0x20f3d3[_0x351d29(0x201)][_0x351d29(0x17f)]||{};if(typeof _0x34dd23==='string')try{_0x34dd23=JSON[_0x351d29(0x1f6)](_0x34dd23);}catch(_0x1f3944){}if(_0x363c74[_0x1ae9a6['id']]&&_0x363c74[_0x1ae9a6['id']]===_0x50c5a2||_0x34dd23[_0x1ae9a6['id']]&&_0x34dd23[_0x1ae9a6['id']]===_0x57cf43)_0xd2c7bc=_0x351d29(0x1e6),_0x2229bc=!![];else(_0x50c5a2||_0x57cf43)&&(_0xd2c7bc='Auto-Erkennung');_0x55c933[_0x351d29(0x188)]({'room':_0x1ae9a6['location']||_0x351d29(0x194),'sensorId':_0x1ae9a6['id'],'setpointId':_0x50c5a2||'-','valveId':_0x57cf43||'-','source':_0xd2c7bc,'isManual':_0x2229bc,'status':_0x50c5a2&&_0x57cf43?_0x351d29(0x160):_0x50c5a2?'OK':'Fehlt'});}return _0x55c933[_0x351d29(0x187)]((_0x4fe5c6,_0x47e104)=>_0x4fe5c6[_0x351d29(0x159)][_0x351d29(0x20c)](_0x47e104[_0x351d29(0x159)]));}async function updateSchedulePreview(_0x1a122b){const _0x75d930=a1_0x5cef29;if(!_0x1a122b[_0x75d930(0x201)][_0x75d930(0x1d7)]||!_0x1a122b['config'][_0x75d930(0x1e8)])return;let _0x525606={};try{const _0x5c1502=await _0x1a122b[_0x75d930(0x1bd)](_0x75d930(0x184));if(_0x5c1502&&_0x5c1502[_0x75d930(0x168)])_0x525606=JSON[_0x75d930(0x1f6)](_0x5c1502[_0x75d930(0x168)]);}catch(_0x530b4a){}const _0x4abab4=[],_0xe0ef5e=Date[_0x75d930(0x1a5)](),_0x209a7c=0x30*0x3c*0x3c*0x3e8;try{const _0x3b5a0e=await _0x1a122b[_0x75d930(0x1c9)](_0x1a122b[_0x75d930(0x201)][_0x75d930(0x1e8)]+_0x75d930(0x1c7));if(!_0x3b5a0e||!_0x3b5a0e['val'])return;const _0x12af36=JSON[_0x75d930(0x1f6)](_0x3b5a0e[_0x75d930(0x168)]),_0x55649f=_0x1a122b['config']['calendarSelection']||[],_0x44a8c8=_0x1a122b['config'][_0x75d930(0x192)]||[],_0x5e6268=new Set();_0x44a8c8[_0x75d930(0x1f3)](_0x23a712=>{const _0x1c7833=_0x75d930;if(_0x23a712[_0x1c7833(0x1da)])_0x5e6268[_0x1c7833(0x1dc)](_0x23a712['location']);});for(const _0x18bb6f of _0x12af36){if(_0x18bb6f['_calName']&&_0x55649f[_0x75d930(0x1ac)]>0x0&&!_0x55649f['includes'](_0x18bb6f[_0x75d930(0x208)]))continue;const _0x4fb6c8=_0x18bb6f[_0x75d930(0x158)]||_0x18bb6f[_0x75d930(0x1ea)]||_0x18bb6f[_0x75d930(0x1f7)];if(!_0x4fb6c8)continue;const _0x41e4e0=new Date(_0x4fb6c8),_0x51d6d3=_0x41e4e0[_0x75d930(0x167)]();if(isNaN(_0x51d6d3))continue;if(_0x51d6d3<_0xe0ef5e)continue;if(_0x51d6d3>_0xe0ef5e+_0x209a7c)continue;const _0x31c070=(_0x18bb6f[_0x75d930(0x157)]||_0x18bb6f['summary']||'')[_0x75d930(0x1a4)]();let _0x22e9fb=![],_0x82194b=[],_0x3995b3=_0x18bb6f[_0x75d930(0x157)]||_0x18bb6f['summary']||'Unbekannt';if(_0x31c070['includes'](_0x75d930(0x176))||_0x31c070[_0x75d930(0x1ab)]('r√ºckkehr')||_0x31c070[_0x75d930(0x1ab)](_0x75d930(0x1c5)))_0x22e9fb=!![],_0x82194b=Array[_0x75d930(0x1e3)](_0x5e6268);else for(const _0x2f3383 of _0x5e6268){if(_0x31c070['includes'](_0x2f3383[_0x75d930(0x1a4)]()))_0x82194b[_0x75d930(0x188)](_0x2f3383);}_0x82194b[_0x75d930(0x1ac)]>0x0&&_0x82194b['forEach'](_0x20f84c=>{const _0x5b9ae9=_0x75d930;let _0x5de20b=0x3c;if(_0x22e9fb){let _0x252f49=0x0;Object[_0x5b9ae9(0x182)](_0x525606)[_0x5b9ae9(0x1f3)](_0x5b60f8=>{if(_0x5b60f8>_0x252f49)_0x252f49=_0x5b60f8;}),_0x5de20b=_0x252f49>0x0?_0x252f49:0x78;}else _0x5de20b=_0x525606[_0x20f84c]||0x3c;const _0x1b4117=new Date(_0x51d6d3-_0x5de20b*0xea60);_0x4abab4['push']({'eventTime':_0x51d6d3,'triggerTime':_0x1b4117['getTime'](),'room':_0x20f84c,'minutes':_0x5de20b,'reason':_0x3995b3,'isGlobal':_0x22e9fb});});}}catch(_0x5f01c4){}_0x4abab4[_0x75d930(0x187)]((_0x3218f8,_0x50558d)=>_0x3218f8[_0x75d930(0x1d3)]-_0x50558d[_0x75d930(0x1d3)]);const _0x5d8326=_0x4abab4[_0x75d930(0x175)](0x0,0x5);await _0x1a122b[_0x75d930(0x1e4)]('analysis.energy.schedulePreview',{'val':JSON[_0x75d930(0x1d4)](_0x5d8326),'ack':!![]});}async function monitorEnforcements(_0x2bf9bc){const _0x1329ce=a1_0x5cef29;try{const _0xbd84c5=_0x1329ce(0x204),_0x401a08=await _0x2bf9bc[_0x1329ce(0x1bd)](_0xbd84c5);if(!_0x401a08||!_0x401a08[_0x1329ce(0x168)])return;let _0x2667f1=[];try{_0x2667f1=JSON[_0x1329ce(0x1f6)](_0x401a08['val']);}catch(_0x1ac035){return;}if(!Array[_0x1329ce(0x195)](_0x2667f1)||_0x2667f1[_0x1329ce(0x1ac)]===0x0)return;const _0x5c07de=Date[_0x1329ce(0x1a5)](),_0x1388bb=_0x2bf9bc['config'][_0x1329ce(0x192)]||[];let _0x4d2f24=![];for(let _0x37deae=_0x2667f1['length']-0x1;_0x37deae>=0x0;_0x37deae--){const _0x125750=_0x2667f1[_0x37deae];if(_0x5c07de>=_0x125750['until']){_0x2bf9bc[_0x1329ce(0x183)][_0x1329ce(0x1c8)](_0x1329ce(0x20e)+_0x125750[_0x1329ce(0x159)]+_0x1329ce(0x1a9)),_0x2667f1[_0x1329ce(0x1fd)](_0x37deae,0x1),_0x4d2f24=!![];continue;}const _0xc1ade6=_0x1388bb[_0x1329ce(0x1ca)](_0xdb0c33=>normalize(_0xdb0c33['location'])===normalize(_0x125750['room'])&&(_0xdb0c33[_0x1329ce(0x164)]===_0x1329ce(0x1e2)||_0xdb0c33[_0x1329ce(0x164)]===_0x1329ce(0x1e7)));if(_0xc1ade6){const _0x23ef0a=await findRelatedId(_0x2bf9bc,_0xc1ade6['id'],_0x1329ce(0x206));if(_0x23ef0a){const _0x2b50b4=await _0x2bf9bc['getForeignStateAsync'](_0x23ef0a);_0x2b50b4&&typeof _0x2b50b4['val']===_0x1329ce(0x1ec)&&(_0x2b50b4[_0x1329ce(0x168)]<0xf&&(_0x2bf9bc['log'][_0x1329ce(0x1bf)](_0x1329ce(0x1dd)+_0x125750['room']+_0x1329ce(0x1f9)+_0x2b50b4['val']+_0x1329ce(0x1de)+_0x125750[_0x1329ce(0x180)]+_0x1329ce(0x1e5)),await _0x2bf9bc['setForeignStateAsync'](_0x23ef0a,_0x125750[_0x1329ce(0x180)]),await logAutomationAction(_0x2bf9bc,_0x1329ce(0x16e)+_0x125750[_0x1329ce(0x159)]+':\x20'+_0x2b50b4[_0x1329ce(0x168)]+_0x1329ce(0x186)+_0x125750[_0x1329ce(0x180)]+'¬∞C\x20(Kalender-Schutz)')));}}}_0x4d2f24&&await _0x2bf9bc[_0x1329ce(0x1e4)](_0xbd84c5,{'val':JSON[_0x1329ce(0x1d4)](_0x2667f1),'ack':!![]});}catch(_0x478ae2){_0x2bf9bc[_0x1329ce(0x183)][_0x1329ce(0x1b4)](_0x1329ce(0x15c)+_0x478ae2[_0x1329ce(0x17e)]);}}async function checkCalendarTriggers(_0x5cd427){const _0x161707=a1_0x5cef29;if(!_0x5cd427[_0x161707(0x201)][_0x161707(0x1d7)]||!_0x5cd427['config']['calendarInstance'])return;await updateSchedulePreview(_0x5cd427);let _0x5a6c9d={},_0x24e8c6={};try{const _0x3c57fd=await _0x5cd427['getStateAsync']('analysis.energy.warmupTimes');if(_0x3c57fd&&_0x3c57fd[_0x161707(0x168)])_0x5a6c9d=JSON['parse'](_0x3c57fd[_0x161707(0x168)]);const _0x7c5045=await _0x5cd427[_0x161707(0x1bd)](_0x161707(0x18d));if(_0x7c5045&&_0x7c5045[_0x161707(0x168)])_0x24e8c6=JSON[_0x161707(0x1f6)](_0x7c5045[_0x161707(0x168)]);}catch(_0x2f2993){}let _0xf43d02={'default':0x15};try{const _0x439b30=await _0x5cd427[_0x161707(0x1bd)](_0x161707(0x1f2));if(_0x439b30&&_0x439b30[_0x161707(0x168)])_0xf43d02=JSON[_0x161707(0x1f6)](_0x439b30[_0x161707(0x168)]);}catch(_0x205d58){}let _0x36c531=[];try{const _0x592593=await _0x5cd427[_0x161707(0x1bd)](_0x161707(0x204));if(_0x592593&&_0x592593[_0x161707(0x168)])_0x36c531=JSON[_0x161707(0x1f6)](_0x592593['val']);}catch(_0x203b47){}try{const _0x489988=await _0x5cd427['getForeignStateAsync'](_0x5cd427['config']['calendarInstance']+_0x161707(0x1c7));if(!_0x489988||!_0x489988[_0x161707(0x168)])return;const _0x5385a2=JSON[_0x161707(0x1f6)](_0x489988[_0x161707(0x168)]),_0x28a4c1=Date[_0x161707(0x1a5)](),_0x3f70bd=_0x5cd427['config'][_0x161707(0x192)]||[],_0x112265=_0x5cd427['config']['calendarSelection']||[];let _0x2fed92=![];for(const _0x2946c9 of _0x5385a2){if(_0x2946c9[_0x161707(0x208)]&&_0x112265[_0x161707(0x1ac)]>0x0&&!_0x112265[_0x161707(0x1ab)](_0x2946c9[_0x161707(0x208)]))continue;const _0x2d57f7=_0x2946c9['_date']||_0x2946c9[_0x161707(0x1ea)]||_0x2946c9[_0x161707(0x1f7)];if(!_0x2d57f7)continue;const _0x571aef=new Date(_0x2d57f7);if(isNaN(_0x571aef['getTime']()))continue;const _0xbf4ce8=(_0x2946c9['event']||_0x2946c9[_0x161707(0x166)]||'')[_0x161707(0x1a4)]();if(_0xbf4ce8[_0x161707(0x1ab)]('urlaub\x20ende')||_0xbf4ce8['includes'](_0x161707(0x16c))||_0xbf4ce8[_0x161707(0x1ab)](_0x161707(0x1c5))){let _0x1b1160=0x0;Object[_0x161707(0x182)](_0x5a6c9d)[_0x161707(0x1f3)](_0x23d876=>{if(_0x23d876>_0x1b1160)_0x1b1160=_0x23d876;});if(_0x1b1160===0x0)_0x1b1160=0x78;const _0x4ea272=_0x571aef[_0x161707(0x167)]()-_0x1b1160*0xea60;_0x28a4c1>=_0x4ea272&&_0x28a4c1<_0x571aef[_0x161707(0x167)]()&&(_0x5cd427[_0x161707(0x203)]!==_0x161707(0x19e)&&(_0x5cd427[_0x161707(0x183)][_0x161707(0x1c8)]('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x1b1160+_0x161707(0x190)),await _0x5cd427[_0x161707(0x1e4)](_0x161707(0x1af),{'val':_0x161707(0x19e),'ack':![]})));}for(const _0x56af78 of _0x3f70bd){if(_0x56af78[_0x161707(0x1da)]){const _0x1ac38e=_0x56af78[_0x161707(0x1da)][_0x161707(0x1a4)](),_0x5298ad=(_0x56af78['name']||'')['toLowerCase']();let _0x217cea=_0xbf4ce8[_0x161707(0x1ab)](_0x1ac38e);!_0x217cea&&_0x5298ad[_0x161707(0x1ac)]>0x3&&_0xbf4ce8['includes'](_0x5298ad)&&(_0x217cea=!![]);if(_0x217cea){const _0x50a76c=_0x5a6c9d[_0x56af78[_0x161707(0x1da)]]||0x3c,_0x35dd80=_0x24e8c6[_0x56af78[_0x161707(0x1da)]]||_0x161707(0x1e0),_0x147e29=_0x571aef[_0x161707(0x167)]()-_0x50a76c*0xea60;if(_0x28a4c1>=_0x147e29&&_0x28a4c1<_0x571aef[_0x161707(0x167)]()){const _0x58577a=lastActions[_0x161707(0x19d)+_0x56af78['location']];if(_0x58577a&&_0x28a4c1-_0x58577a<CAL_COOLDOWN_MS)continue;const _0x5a7b05=await findRelatedId(_0x5cd427,_0x56af78['id'],_0x161707(0x206));if(_0x5a7b05){let _0xc198d2=_0xf43d02[_0x56af78[_0x161707(0x1da)]];if(_0xc198d2===undefined)_0xc198d2=_0xf43d02[_0x161707(0x1ae)];if(_0xc198d2===undefined)_0xc198d2=0x15;const _0x5e2a45=await _0x5cd427[_0x161707(0x1c9)](_0x5a7b05);if(_0x5e2a45&&typeof _0x5e2a45[_0x161707(0x168)]===_0x161707(0x1ec)&&_0x5e2a45[_0x161707(0x168)]<_0xc198d2-0.5){_0x5cd427[_0x161707(0x183)][_0x161707(0x1c8)]('üìÖ\x20SMART\x20SCHEDULE\x20['+_0x35dd80+']:\x20Raum-Trigger\x20\x27'+_0x56af78[_0x161707(0x1da)]+_0x161707(0x1aa)+_0xbf4ce8+_0x161707(0x1f0)+_0xc198d2+_0x161707(0x191)+_0x50a76c+'\x20min).'),await _0x5cd427[_0x161707(0x1b1)](_0x5a7b05,_0xc198d2),await logAutomationAction(_0x5cd427,_0x161707(0x163)+_0x56af78[_0x161707(0x1da)]+_0x161707(0x1c4)+_0xc198d2+_0x161707(0x155)+_0x35dd80+')'),lastActions['cal_'+_0x56af78[_0x161707(0x1da)]]=_0x28a4c1;const _0x3743a6=_0x36c531['findIndex'](_0x4713b2=>_0x4713b2[_0x161707(0x159)]===_0x56af78['location']);if(_0x3743a6!==-0x1)_0x36c531[_0x161707(0x1fd)](_0x3743a6,0x1);_0x36c531[_0x161707(0x188)]({'room':_0x56af78[_0x161707(0x1da)],'target':_0xc198d2,'until':_0x571aef[_0x161707(0x167)]()}),_0x2fed92=!![];}}}}}}}_0x2fed92&&await _0x5cd427[_0x161707(0x1e4)](_0x161707(0x204),{'val':JSON[_0x161707(0x1d4)](_0x36c531),'ack':!![]});}catch(_0x3770a8){_0x5cd427['log'][_0x161707(0x1bf)](_0x161707(0x1c3)+_0x3770a8[_0x161707(0x17e)]);}}async function manageMpcIntervention(_0x5556dd,_0x33e0b7,_0x3c780d){const _0x3c66b3=a1_0x5cef29;try{const _0x359c66='analysis.energy.mpcActiveInterventions',_0x4ae19f=await _0x5556dd[_0x3c66b3(0x1bd)](_0x359c66);let _0x417958=[];if(_0x4ae19f&&_0x4ae19f[_0x3c66b3(0x168)])try{_0x417958=JSON[_0x3c66b3(0x1f6)](_0x4ae19f['val']);}catch(_0x51a9bc){}const _0x5cb3f9=_0x417958[_0x3c66b3(0x1d8)](_0x33e0b7);if(_0x3c780d===_0x3c66b3(0x1dc))_0x5cb3f9===-0x1&&(_0x417958[_0x3c66b3(0x188)](_0x33e0b7),await _0x5556dd['setStateAsync'](_0x359c66,{'val':JSON['stringify'](_0x417958),'ack':!![]}));else _0x3c780d==='remove'&&(_0x5cb3f9!==-0x1&&(_0x417958[_0x3c66b3(0x1fd)](_0x5cb3f9,0x1),await _0x5556dd['setStateAsync'](_0x359c66,{'val':JSON[_0x3c66b3(0x1d4)](_0x417958),'ack':!![]})));}catch(_0x5b5e0c){}}async function cleanupGhostInterventions(_0xa17d0d){const _0x224f1d=a1_0x5cef29;try{const _0x17557c='analysis.energy.mpcActiveInterventions',_0x141223=await _0xa17d0d['getStateAsync'](_0x17557c);if(!_0x141223||!_0x141223[_0x224f1d(0x168)])return;const _0x332e9e=JSON[_0x224f1d(0x1f6)](_0x141223[_0x224f1d(0x168)]);if(!Array['isArray'](_0x332e9e)||_0x332e9e[_0x224f1d(0x1ac)]===0x0)return;let _0x343d9f={'default':0x15};try{const _0x19fbb7=await _0xa17d0d[_0x224f1d(0x1bd)](_0x224f1d(0x1f2));if(_0x19fbb7&&_0x19fbb7['val'])_0x343d9f=JSON[_0x224f1d(0x1f6)](_0x19fbb7[_0x224f1d(0x168)]);}catch(_0x4f5a40){}let _0x22e68f=[];try{const _0x2dc35b=await _0xa17d0d[_0x224f1d(0x1bd)]('analysis.energy.ventilationAlerts');if(_0x2dc35b&&_0x2dc35b[_0x224f1d(0x168)])_0x22e68f=JSON[_0x224f1d(0x1f6)](_0x2dc35b[_0x224f1d(0x168)]);}catch(_0xaae5cd){}let _0x3dc260={},_0xd95b90=![];try{const _0x29bc7d=await _0xa17d0d['getStateAsync']('analysis.energy.rlPenalties');if(_0x29bc7d&&_0x29bc7d['val'])_0x3dc260=JSON[_0x224f1d(0x1f6)](_0x29bc7d[_0x224f1d(0x168)]);}catch(_0x3d4bfd){}if(_0x3dc260[_0x224f1d(0x1eb)]){const _0x30ab60=Date['now']();for(const [_0x59f9c9,_0x1a3351]of Object[_0x224f1d(0x1fb)](_0x3dc260['_meta'])){_0x30ab60-_0x1a3351>PENALTY_TTL&&(delete _0x3dc260[_0x59f9c9],delete _0x3dc260[_0x224f1d(0x1eb)][_0x59f9c9],_0xd95b90=!![],_0xa17d0d['log'][_0x224f1d(0x1c8)](_0x224f1d(0x172)+_0x59f9c9+_0x224f1d(0x156)));}}const _0x10411e=_0xa17d0d[_0x224f1d(0x201)][_0x224f1d(0x192)]||[];let _0x3883fd=![];for(let _0x2dd8ce=_0x332e9e[_0x224f1d(0x1ac)]-0x1;_0x2dd8ce>=0x0;_0x2dd8ce--){const _0x488a2b=_0x332e9e[_0x2dd8ce],_0x5de910=_0x10411e['find'](_0x5b5a81=>normalize(_0x5b5a81[_0x224f1d(0x1da)])===normalize(_0x488a2b)&&(_0x5b5a81['type']===_0x224f1d(0x1e2)||_0x5b5a81[_0x224f1d(0x164)]==='thermostat'));if(!_0x5de910){_0xa17d0d[_0x224f1d(0x183)][_0x224f1d(0x1bf)]('üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x488a2b+_0x224f1d(0x16d)),_0x332e9e['splice'](_0x2dd8ce,0x1),_0x3883fd=!![];continue;}if(_0x5de910){const _0x49f3e0=await findRelatedId(_0xa17d0d,_0x5de910['id'],'setpoint'),_0x4143d1=await _0xa17d0d[_0x224f1d(0x1c9)](_0x5de910['id']);if(_0x49f3e0){const _0x2b418f=await _0xa17d0d[_0x224f1d(0x1c9)](_0x49f3e0);if(_0x2b418f&&typeof _0x2b418f[_0x224f1d(0x168)]===_0x224f1d(0x1ec)){let _0x476def=![],_0x55ed3d='';Math[_0x224f1d(0x1b7)](_0x2b418f[_0x224f1d(0x168)]-ECO_TEMP)>0.5&&(_0x476def=!![],_0x55ed3d=_0x224f1d(0x15f));if(!_0x476def&&_0x4143d1&&typeof _0x4143d1['val']==='number'){const _0x587950=_0x343d9f[_0x488a2b]||_0x343d9f[_0x224f1d(0x1ae)]||0x15;_0x4143d1['val']<_0x587950+0.2&&(_0x476def=!![],_0x55ed3d=_0x224f1d(0x1ad));}if(_0x476def){if(_0x55ed3d==='manual'){_0xa17d0d[_0x224f1d(0x183)]['info'](_0x224f1d(0x18f)+_0x488a2b+_0x224f1d(0x1f1)+_0x2b418f[_0x224f1d(0x168)]+'¬∞C\x20(nicht\x20'+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0xb4255c=lastActions[_0x224f1d(0x19d)+_0x488a2b],_0x7e5f65=_0xb4255c&&Date[_0x224f1d(0x1a5)]()-_0xb4255c<0x2*0x3c*0x3e8;if(!_0x7e5f65&&_0x2b418f[_0x224f1d(0x168)]>ECO_TEMP+0.5){_0xa17d0d[_0x224f1d(0x199)]&&(_0xa17d0d[_0x224f1d(0x183)][_0x224f1d(0x1c8)](_0x224f1d(0x19f)+_0x488a2b+'\x20wurde\x20manuell\x20erh√∂ht.'),_0xa17d0d[_0x224f1d(0x199)](_0x224f1d(0x209),{'room':_0x488a2b}));const _0x248664=_0x488a2b+'_'+new Date()['getHours']();if(!_0x3dc260[_0x248664]){_0x3dc260[_0x248664]=0x1;if(!_0x3dc260[_0x224f1d(0x1eb)])_0x3dc260[_0x224f1d(0x1eb)]={};_0x3dc260[_0x224f1d(0x1eb)][_0x248664]=Date[_0x224f1d(0x1a5)](),_0xd95b90=!![];}}else _0x7e5f65&&_0xa17d0d['log']['info'](_0x224f1d(0x16a)+_0x488a2b+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x55ed3d==='too_cold'){let _0x57affa=![];if(_0x22e68f[_0x224f1d(0x1ca)](_0x391990=>_0x391990[_0x224f1d(0x159)]===_0x488a2b))_0x57affa=!![];const _0x3cc78c=_0x10411e[_0x224f1d(0x177)](_0x2b43ab=>normalize(_0x2b43ab[_0x224f1d(0x1da)])===normalize(_0x488a2b)&&(_0x2b43ab[_0x224f1d(0x164)]===_0x224f1d(0x1fa)||_0x2b43ab['type']===_0x224f1d(0x197)||_0x2b43ab['type']===_0x224f1d(0x179)));for(const _0x4536b6 of _0x3cc78c){try{const _0x27958a=await _0xa17d0d[_0x224f1d(0x1c9)](_0x4536b6['id']);if(_0x27958a&&(_0x27958a[_0x224f1d(0x168)]===!![]||_0x27958a[_0x224f1d(0x168)]===0x1||String(_0x27958a[_0x224f1d(0x168)])[_0x224f1d(0x1a4)]()==='open'))_0x57affa=!![];}catch(_0x5ae7fe){}}if(_0x57affa)_0xa17d0d[_0x224f1d(0x183)][_0x224f1d(0x1c8)](_0x224f1d(0x1ff)+_0x488a2b+_0x224f1d(0x1a7));else{const _0x2e8540=_0x343d9f[_0x488a2b]||_0x343d9f[_0x224f1d(0x1ae)]||0x15;_0xa17d0d[_0x224f1d(0x183)][_0x224f1d(0x1c8)]('üö®\x20[MPC\x20WATCHDOG]\x20'+_0x488a2b+_0x224f1d(0x165)+_0x4143d1['val']+_0x224f1d(0x200)+(_0x2e8540+0.2)+_0x224f1d(0x19c)),await _0xa17d0d[_0x224f1d(0x1b1)](_0x49f3e0,_0x2e8540),await logAutomationAction(_0xa17d0d,_0x224f1d(0x1bc)+_0x488a2b+_0x224f1d(0x1ef)+_0x2e8540+'¬∞C'),lastActions['rescue_'+_0x488a2b]=Date[_0x224f1d(0x1a5)]();}}}_0x332e9e[_0x224f1d(0x1fd)](_0x2dd8ce,0x1),_0x3883fd=!![];}}}}}_0x3883fd&&await _0xa17d0d[_0x224f1d(0x1e4)](_0x17557c,{'val':JSON[_0x224f1d(0x1d4)](_0x332e9e),'ack':!![]}),_0xd95b90&&await _0xa17d0d[_0x224f1d(0x1e4)](_0x224f1d(0x1a0),{'val':JSON[_0x224f1d(0x1d4)](_0x3dc260),'ack':!![]});}catch(_0xc14bd4){}}async function applyEnergySavings(_0x8fd6e4,_0x4248b7){const _0x56619f=a1_0x5cef29;await cleanupGhostInterventions(_0x8fd6e4);if(!_0x4248b7||_0x4248b7['length']===0x0)return;const _0xe02193=_0x8fd6e4[_0x56619f(0x201)][_0x56619f(0x192)]||[],_0x143139=Date[_0x56619f(0x1a5)]();for(const _0x111dd2 of _0x4248b7){const _0x135a2c=_0x111dd2[_0x56619f(0x159)],_0x42f5fe=_0x111dd2['minutes_safe'],_0x28b01a=_0x111dd2[_0x56619f(0x180)]||0x15;if(lastActions['rescue_'+_0x135a2c]&&_0x143139-lastActions['rescue_'+_0x135a2c]<RESCUE_LOCK_MS)continue;const _0x401f5a=_0xe02193[_0x56619f(0x1ca)](_0x1b0f0a=>normalize(_0x1b0f0a[_0x56619f(0x1da)])===normalize(_0x135a2c)&&(_0x1b0f0a[_0x56619f(0x164)]===_0x56619f(0x1e2)||_0x1b0f0a[_0x56619f(0x164)]===_0x56619f(0x1e7)));if(!_0x401f5a)continue;const _0x2c9aad=await findRelatedId(_0x8fd6e4,_0x401f5a['id'],_0x56619f(0x206));if(_0x2c9aad){if(lastActions[_0x56619f(0x1fe)+_0x135a2c]&&_0x143139-lastActions[_0x56619f(0x1fe)+_0x135a2c]<0x1e*0x3c*0x3e8)continue;const _0x3667d3=await _0x8fd6e4[_0x56619f(0x1c9)](_0x2c9aad);if(_0x3667d3&&typeof _0x3667d3[_0x56619f(0x168)]==='number'){const _0x4bc748=_0x3667d3[_0x56619f(0x168)];_0x4bc748!==ECO_TEMP&&await manageMpcIntervention(_0x8fd6e4,_0x135a2c,_0x56619f(0x1b5));if(_0x42f5fe>0x1e)_0x4bc748>ECO_TEMP+0.5&&(_0x8fd6e4[_0x56619f(0x183)][_0x56619f(0x1c8)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x135a2c+_0x56619f(0x1f9)+ECO_TEMP+'¬∞C!\x20(Puffer:\x20'+_0x42f5fe+_0x56619f(0x1d6)),await _0x8fd6e4[_0x56619f(0x1b1)](_0x2c9aad,ECO_TEMP),await manageMpcIntervention(_0x8fd6e4,_0x135a2c,_0x56619f(0x1dc)),lastActions[_0x56619f(0x1fe)+_0x135a2c]=_0x143139,await logAutomationAction(_0x8fd6e4,'[MPC]\x20'+_0x135a2c+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'¬∞C'));else _0x42f5fe<=0xf&&(_0x4bc748<_0x28b01a&&(_0x8fd6e4[_0x56619f(0x183)][_0x56619f(0x1c8)](_0x56619f(0x18a)+_0x135a2c+'\x20wieder\x20auf\x20'+_0x28b01a+'¬∞C!\x20(Puffer\x20leer).'),await _0x8fd6e4[_0x56619f(0x1b1)](_0x2c9aad,_0x28b01a),await manageMpcIntervention(_0x8fd6e4,_0x135a2c,_0x56619f(0x1b5)),lastActions['mpc_'+_0x135a2c]=_0x143139,await logAutomationAction(_0x8fd6e4,'[MPC]\x20'+_0x135a2c+_0x56619f(0x1c1)+_0x28b01a+'¬∞C')));}}else _0x8fd6e4[_0x56619f(0x183)][_0x56619f(0x1bf)]('[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20'+_0x135a2c+'\x20gefunden!');}}module[a1_0x5cef29(0x1a2)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};