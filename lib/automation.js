const a1_0x32a12e=a1_0x3182;(function(_0x4fd651,_0x3e40e5){const _0x48f9d5=a1_0x3182,_0x780372=_0x4fd651();while(!![]){try{const _0x552903=-parseInt(_0x48f9d5(0xbd))/0x1+-parseInt(_0x48f9d5(0xd0))/0x2*(-parseInt(_0x48f9d5(0xc7))/0x3)+parseInt(_0x48f9d5(0x99))/0x4+-parseInt(_0x48f9d5(0x124))/0x5*(parseInt(_0x48f9d5(0xc9))/0x6)+parseInt(_0x48f9d5(0xec))/0x7+parseInt(_0x48f9d5(0x118))/0x8+-parseInt(_0x48f9d5(0x117))/0x9*(-parseInt(_0x48f9d5(0x113))/0xa);if(_0x552903===_0x3e40e5)break;else _0x780372['push'](_0x780372['shift']());}catch(_0x29e237){_0x780372['push'](_0x780372['shift']());}}}(a1_0x5fa6,0x27c1e));const a1_0x19ff18=(function(){let _0x28f4e4=!![];return function(_0x57a914,_0x1d804f){const _0x14ffb6=_0x28f4e4?function(){const _0x30083a=a1_0x3182;if(_0x1d804f){const _0x185069=_0x1d804f[_0x30083a(0x12d)](_0x57a914,arguments);return _0x1d804f=null,_0x185069;}}:function(){};return _0x28f4e4=![],_0x14ffb6;};}()),a1_0x21e0a9=a1_0x19ff18(this,function(){const _0xc29dee=a1_0x3182;return a1_0x21e0a9[_0xc29dee(0xb3)]()[_0xc29dee(0xa3)](_0xc29dee(0xcf))[_0xc29dee(0xb3)]()[_0xc29dee(0xd5)](a1_0x21e0a9)[_0xc29dee(0xa3)](_0xc29dee(0xcf));});a1_0x21e0a9();'use strict';function a1_0x3182(_0xd28915,_0x3dd506){const _0x36987e=a1_0x5fa6();return a1_0x3182=function(_0x21e0a9,_0x19ff18){_0x21e0a9=_0x21e0a9-0x8e;let _0x5fa62d=_0x36987e[_0x21e0a9];return _0x5fa62d;},a1_0x3182(_0xd28915,_0x3dd506);}const aiAgent=require(a1_0x32a12e(0x143)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x1721a6){const _0xfbd8d1=a1_0x32a12e;if(!_0x1721a6)return'';return _0x1721a6[_0xfbd8d1(0xde)]()[_0xfbd8d1(0xeb)](/\s+/g,'')[_0xfbd8d1(0x134)]();}async function logAutomationAction(_0x5cb061,_0x2b88ba){const _0xe2c0fc=a1_0x32a12e;await _0x5cb061[_0xe2c0fc(0x120)](_0xe2c0fc(0xf9),{'val':_0x2b88ba,'ack':!![]});try{const _0x994784='analysis.automation.actionLog',_0x5d58de=await _0x5cb061[_0xe2c0fc(0x107)](_0x994784);let _0x345b35=[];if(_0x5d58de&&_0x5d58de['val'])try{_0x345b35=JSON[_0xe2c0fc(0x12e)](_0x5d58de[_0xe2c0fc(0x9d)]);}catch(_0x3d7abb){}_0x345b35[_0xe2c0fc(0x97)]({'ts':Date[_0xe2c0fc(0x139)](),'msg':_0x2b88ba});if(_0x345b35['length']>0x32)_0x345b35=_0x345b35[_0xe2c0fc(0xe6)](0x0,0x32);await _0x5cb061[_0xe2c0fc(0x120)](_0x994784,{'val':JSON[_0xe2c0fc(0x11f)](_0x345b35),'ack':!![]});}catch(_0x2056e4){}}async function handlePrediction(_0x435fe6,_0x207859,_0x7d722e){const _0x4d96f9=a1_0x32a12e;if(!_0x207859||_0x207859===_0x4d96f9(0xe0))return;let _0x3917aa='off',_0x3e7fe2=0.6;try{const _0x27a8ae=await _0x435fe6[_0x4d96f9(0x107)]('analysis.automation.mode');if(_0x27a8ae&&_0x27a8ae[_0x4d96f9(0x9d)])_0x3917aa=_0x27a8ae['val'];const _0x3af757=await _0x435fe6['getStateAsync'](_0x4d96f9(0xd4));if(_0x3af757&&_0x3af757[_0x4d96f9(0x9d)])_0x3e7fe2=_0x3af757[_0x4d96f9(0x9d)];}catch(_0x43e63b){}if(_0x3917aa==='off'||_0x7d722e<_0x3e7fe2)return;const _0x32f470=Date['now']();if(lastActions[_0x207859]&&_0x32f470-lastActions[_0x207859]<COOLDOWN_MS)return;const _0x436e6d=_0x435fe6[_0x4d96f9(0x14b)][_0x4d96f9(0x9e)]||[],_0x330337=normalize(_0x207859),_0xf1d202=_0x436e6d[_0x4d96f9(0x111)](_0x42de87=>normalize(_0x42de87[_0x4d96f9(0x10f)])===_0x330337&&(_0x42de87[_0x4d96f9(0xa2)]===_0x4d96f9(0xf5)||_0x42de87[_0x4d96f9(0xa2)]===_0x4d96f9(0xbc)||_0x42de87[_0x4d96f9(0xa2)]==='switch'));if(!_0xf1d202)return;const _0xd450b6=await aiAgent[_0x4d96f9(0x13f)](_0x435fe6,_0x207859,_0xf1d202[_0x4d96f9(0x14e)],_0x7d722e);if(!_0xd450b6[_0x4d96f9(0x115)])return;const _0x56811b=_0x4d96f9(0xdc)+_0x207859+_0x4d96f9(0xbf)+_0xf1d202['name']+'\x20('+_0xd450b6[_0x4d96f9(0x132)]+')';await logAutomationAction(_0x435fe6,'['+_0x3917aa[_0x4d96f9(0x123)]()+']\x20'+_0x56811b);if(_0x3917aa==='active'){const _0x52afb5=await _0x435fe6[_0x4d96f9(0xf0)](_0xf1d202['id']);(!_0x52afb5||!_0x52afb5[_0x4d96f9(0x9d)]&&_0x52afb5[_0x4d96f9(0x9d)]!==!![])&&await _0x435fe6[_0x4d96f9(0x116)](_0xf1d202['id'],!![]),lastActions[_0x207859]=_0x32f470;}}async function findRelatedId(_0x4a9914,_0x1f191f,_0x185fc2=a1_0x32a12e(0x110)){const _0x5ab0a2=a1_0x32a12e;if(_0x185fc2===_0x5ab0a2(0x110)&&_0x4a9914[_0x5ab0a2(0x14b)][_0x5ab0a2(0xd9)]){let _0x2b55ca=_0x4a9914[_0x5ab0a2(0x14b)]['thermostatMapping'];if(typeof _0x2b55ca===_0x5ab0a2(0xfb))try{_0x2b55ca=JSON['parse'](_0x2b55ca);}catch(_0x425008){}if(_0x2b55ca&&_0x2b55ca[_0x1f191f])return _0x2b55ca[_0x1f191f];}if(_0x185fc2===_0x5ab0a2(0xb2)&&_0x4a9914[_0x5ab0a2(0x14b)][_0x5ab0a2(0x138)]){let _0x386b4c=_0x4a9914[_0x5ab0a2(0x14b)]['valveMapping'];if(typeof _0x386b4c===_0x5ab0a2(0xfb))try{_0x386b4c=JSON[_0x5ab0a2(0x12e)](_0x386b4c);}catch(_0x2fcdea){}if(_0x386b4c&&_0x386b4c[_0x1f191f])return _0x386b4c[_0x1f191f];}let _0x2b579b=[];if(_0x185fc2===_0x5ab0a2(0x110))_0x2b579b=[{'s':_0x5ab0a2(0x10a),'t':_0x5ab0a2(0xed)},{'s':_0x5ab0a2(0x92),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x5ab0a2(0x92),'t':'.4.SET_TEMPERATURE'},{'s':'ACTUAL_TEMPERATURE','t':_0x5ab0a2(0xe5)},{'s':_0x5ab0a2(0x125),'t':'occupied_heating_setpoint'},{'s':'local_temperature','t':_0x5ab0a2(0x127)},{'s':'temperature','t':'target_temperature'},{'s':'ACTUAL','t':_0x5ab0a2(0xef)},{'s':_0x5ab0a2(0xf1),'t':_0x5ab0a2(0x126)},{'s':_0x5ab0a2(0x10d),'t':'setpoint'}];else _0x185fc2==='valve'&&(_0x2b579b=[{'s':_0x5ab0a2(0x10a),'t':_0x5ab0a2(0x135)},{'s':_0x5ab0a2(0x92),'t':'.1.LEVEL'},{'s':_0x5ab0a2(0x92),'t':_0x5ab0a2(0x9f)},{'s':_0x5ab0a2(0x125),'t':'pi_heating_demand'},{'s':_0x5ab0a2(0x10d),'t':'valve_position'},{'s':_0x5ab0a2(0x10d),'t':_0x5ab0a2(0xad)}]);for(const _0x4e13f1 of _0x2b579b){if(_0x1f191f['includes'](_0x4e13f1['s'])){const _0x44f367=_0x1f191f[_0x5ab0a2(0xeb)](_0x4e13f1['s'],_0x4e13f1['t']),_0x43809c=await _0x4a9914['getForeignObjectAsync'](_0x44f367);if(_0x43809c)return _0x44f367;}}try{const _0x74a4ad=_0x1f191f[_0x5ab0a2(0x11a)]('.');if(_0x74a4ad['length']>0x2){const _0xce2a4c=_0x74a4ad[_0x5ab0a2(0xe6)](0x0,-0x1)[_0x5ab0a2(0xa7)]('.'),_0x314489=await _0x4a9914[_0x5ab0a2(0x108)](_0xce2a4c+'.*'),_0x4f3802=[],_0x8e3fbf=_0x1f191f[_0x5ab0a2(0x11a)](/[._]+/)['filter'](_0x928d25=>![_0x5ab0a2(0xfe),'0','hm-rpc','ist',_0x5ab0a2(0x121),_0x5ab0a2(0x10d),_0x5ab0a2(0x140),_0x5ab0a2(0xe8),'messwert',_0x5ab0a2(0xb6)][_0x5ab0a2(0xfc)](_0x928d25[_0x5ab0a2(0xde)]()));for(const [_0x349e72,_0x25bc5f]of Object[_0x5ab0a2(0x13e)](_0x314489)){if(_0x349e72===_0x1f191f)continue;if(_0x25bc5f&&_0x25bc5f['common']){const _0x4a569a=_0x349e72[_0x5ab0a2(0xde)](),_0x6d1f06=(_0x25bc5f[_0x5ab0a2(0xd7)][_0x5ab0a2(0x131)]||'')['toLowerCase'](),_0x1e2328=(_0x25bc5f[_0x5ab0a2(0xd7)]['unit']||'')['toLowerCase']();let _0x9a82a9=![];if(_0x185fc2===_0x5ab0a2(0x110)&&_0x25bc5f[_0x5ab0a2(0xd7)]['write']===!![])_0x9a82a9=_0x4a569a[_0x5ab0a2(0xfc)](_0x5ab0a2(0x112))||_0x4a569a[_0x5ab0a2(0xfc)]('soll')||_0x4a569a[_0x5ab0a2(0xfc)](_0x5ab0a2(0xf2))||_0x6d1f06[_0x5ab0a2(0xfc)]('level.temperature')||_0x6d1f06['includes']('thermostat.setpoint');else _0x185fc2===_0x5ab0a2(0xb2)&&(_0x9a82a9=_0x4a569a[_0x5ab0a2(0xfc)]('level')||_0x4a569a[_0x5ab0a2(0xfc)](_0x5ab0a2(0xb2))||_0x4a569a[_0x5ab0a2(0xfc)](_0x5ab0a2(0x149))||_0x4a569a[_0x5ab0a2(0xfc)]('position')||_0x6d1f06[_0x5ab0a2(0xfc)](_0x5ab0a2(0x137))||_0x6d1f06[_0x5ab0a2(0xfc)](_0x5ab0a2(0x144))||_0x1e2328[_0x5ab0a2(0xfc)]('%'));if(_0x9a82a9){const _0x34726d=_0x349e72[_0x5ab0a2(0x11a)](/[._]+/)[_0x5ab0a2(0x109)](_0x15228c=>_0x15228c[_0x5ab0a2(0xde)]());let _0x3ca472=0x0;_0x8e3fbf[_0x5ab0a2(0x100)](_0x440966=>{const _0x4a866c=_0x5ab0a2;if(_0x34726d['includes'](_0x440966[_0x4a866c(0xde)]()))_0x3ca472++;}),_0x4f3802[_0x5ab0a2(0x11d)]({'id':_0x349e72,'score':_0x3ca472});}}}if(_0x4f3802['length']>0x0){_0x4f3802[_0x5ab0a2(0x13d)]((_0x3b5e6c,_0x3efb33)=>_0x3efb33[_0x5ab0a2(0x119)]-_0x3b5e6c[_0x5ab0a2(0x119)]);if(_0x4f3802[0x0][_0x5ab0a2(0x119)]>0x0)return _0x4f3802[0x0]['id'];}}}catch(_0x3dae4e){}return null;}function a1_0x5fa6(){const _0x13a796=['consultButler','actual',':\x20Absenkung\x20auf\x20','calendarSelection','./ai_agent','value.valve','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20','analysis.energy.ventilationAlerts','\x20gefunden!','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','stellwert','Manuelles\x20Mapping','config','info','analysis.energy.rlPenalties','name','ðŸ“…\x20SMART\x20SCHEDULE\x20[','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','\x20wieder\x20auf\x20','\x27\x20(Match:\x20','Â°C!\x20(Puffer\x20leer).','thermostat','analysis.energy.warmupTimes','.1.TEMPERATURE','[WATCHDOG]\x20','window','ðŸ“…\x20[MPC\x20INFO]\x20','[CAL]\x20','unshift','mpc_','844712YahnMm','warn',']:\x20Raum-Trigger\x20\x27','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','val','devices','.4.VALVE_STATE','Â°C).\x20Sparmodus\x20beendet!','Fehlt','type','search','useCalendar','Â°C.','urlaub\x20ende','join','eventStart','ðŸ§¹\x20[MPC\x20CLEANUP]\x20','\x20min).','Unbekannt','analysis.energy.warmupTargets','level','_calName','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','calendarInstance','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','valve','toString','isArray','findIndex','state','Â°C\x20(via\x20','minutes_safe','from','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','system.mode','dimmer','239518zbKnpY','_meta','\x20->\x20Schalte\x20',')\x20aktiv.\x20Heize\x20auf\x20','length','\x20->\x20','Â°C\x20<\x20','open','Â°C).\x20Entferne\x20Status.','Nicht\x20gefunden','160932ZOrHAt','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','1722066sMHwEb','default','_date','add','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','getTime','(((.+)+)+)+$','4EhHBVv','analysis.energy.warmupSources','Â°C!\x20(Puffer:\x20','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','analysis.automation.confidenceThreshold','constructor','number','common','date','thermostatMapping','until','\x20auf\x20','PrÃ¤diktion:\x20','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','toLowerCase','Â°C\x20->\x20','Unknown','currentSystemMode','rÃ¼ckkehr','abs','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','SET_POINT_TEMPERATURE','slice','[MPC]\x20','sensor','localeCompare','log','replace','1712368NjyYfo','.1.SET_POINT_TEMPERATURE','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','SET','getForeignStateAsync','Ist','target','remove','normal','light','sendToPythonWrapper','Â°C\x20(Kalender-Schutz)','ankunft','analysis.automation.lastAction','cal_','string','includes','\x20wurde\x20manuell\x20erhÃ¶ht.','openknx','values','forEach',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','exports','splice','message','\x20ist\x20auf\x20','TRAIN_RL_PENALTY','getStateAsync','getForeignObjectsAsync','map','.1.ACTUAL_TEMPERATURE','\x20erreicht\x20Limit\x20(','too_cold','temperature','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','location','setpoint','find','set','10TmRtHN','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','approved','setForeignStateAsync','314235CPBISE','730960HuJjHb','score','split','[FORCE]\x20','analysis.energy.activeEnforcements','push','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','stringify','setStateAsync','wert','rescue_','toUpperCase','5XreYsh','local_temperature','Soll','current_heating_setpoint','filter','analysis.energy.mpcActiveInterventions','\x20min)','Â°C\x20(nicht\x20','manual','apply','parse','.data.table','event','role','reason','summary','trim','.1.LEVEL','Calendar\x20Check\x20Error:\x20','level.valve','valveMapping','now','room','error','analysis.energy.schedulePreview','sort','entries'];a1_0x5fa6=function(){return _0x13a796;};return a1_0x5fa6();}async function scanThermostats(_0x5f4c30){const _0x345348=a1_0x32a12e,_0x130bd0=_0x5f4c30['config'][_0x345348(0x9e)]||[],_0x36488a=[],_0x27bbab=_0x130bd0[_0x345348(0x128)](_0x56089f=>_0x56089f['id']&&_0x56089f['id'][_0x345348(0xfc)](_0x345348(0x10d))||_0x56089f[_0x345348(0xa2)]&&[_0x345348(0x10d),'thermostat',_0x345348(0xe8)]['includes'](_0x56089f[_0x345348(0xa2)])||_0x56089f[_0x345348(0x14e)]&&_0x56089f['name'][_0x345348(0xde)]()[_0x345348(0xfc)]('temp'));for(const _0x4fe20e of _0x27bbab){const _0x450739=await findRelatedId(_0x5f4c30,_0x4fe20e['id'],_0x345348(0x110)),_0x4a4df1=await findRelatedId(_0x5f4c30,_0x4fe20e['id'],'valve');let _0x4f1553=_0x345348(0xc6),_0x4eb183=![],_0x344551=_0x5f4c30[_0x345348(0x14b)]['thermostatMapping']||{};if(typeof _0x344551===_0x345348(0xfb))try{_0x344551=JSON[_0x345348(0x12e)](_0x344551);}catch(_0x22afbd){}let _0x3b6d28=_0x5f4c30[_0x345348(0x14b)][_0x345348(0x138)]||{};if(typeof _0x3b6d28===_0x345348(0xfb))try{_0x3b6d28=JSON[_0x345348(0x12e)](_0x3b6d28);}catch(_0x2da032){}if(_0x344551[_0x4fe20e['id']]&&_0x344551[_0x4fe20e['id']]===_0x450739||_0x3b6d28[_0x4fe20e['id']]&&_0x3b6d28[_0x4fe20e['id']]===_0x4a4df1)_0x4f1553=_0x345348(0x14a),_0x4eb183=!![];else(_0x450739||_0x4a4df1)&&(_0x4f1553='Auto-Erkennung');_0x36488a[_0x345348(0x11d)]({'room':_0x4fe20e['location']||_0x345348(0xab),'sensorId':_0x4fe20e['id'],'setpointId':_0x450739||'-','valveId':_0x4a4df1||'-','source':_0x4f1553,'isManual':_0x4eb183,'status':_0x450739&&_0x4a4df1?'PERFECT':_0x450739?'OK':_0x345348(0xa1)});}return _0x36488a[_0x345348(0x13d)]((_0x18f2d9,_0x57e9fc)=>_0x18f2d9[_0x345348(0x13a)][_0x345348(0xe9)](_0x57e9fc[_0x345348(0x13a)]));}async function updateSchedulePreview(_0xfe12e0){const _0x3a6037=a1_0x32a12e;if(!_0xfe12e0['config'][_0x3a6037(0xa4)]||!_0xfe12e0[_0x3a6037(0x14b)][_0x3a6037(0xb0)])return;let _0x7a30b2={};try{const _0x12a34f=await _0xfe12e0[_0x3a6037(0x107)](_0x3a6037(0x91));if(_0x12a34f&&_0x12a34f['val'])_0x7a30b2=JSON[_0x3a6037(0x12e)](_0x12a34f[_0x3a6037(0x9d)]);}catch(_0x58fadd){}const _0x37e12b=[],_0x391273=Date[_0x3a6037(0x139)](),_0x120291=0x30*0x3c*0x3c*0x3e8;try{const _0x1d1bf7=await _0xfe12e0[_0x3a6037(0xf0)](_0xfe12e0[_0x3a6037(0x14b)][_0x3a6037(0xb0)]+_0x3a6037(0x12f));if(!_0x1d1bf7||!_0x1d1bf7['val'])return;const _0x77c8c8=JSON[_0x3a6037(0x12e)](_0x1d1bf7[_0x3a6037(0x9d)]),_0x375c5d=_0xfe12e0[_0x3a6037(0x14b)]['calendarSelection']||[],_0x15c845=_0xfe12e0['config'][_0x3a6037(0x9e)]||[],_0x48515c=new Set();_0x15c845[_0x3a6037(0x100)](_0x3a6b67=>{const _0x3caa5d=_0x3a6037;if(_0x3a6b67['location'])_0x48515c[_0x3caa5d(0xcc)](_0x3a6b67[_0x3caa5d(0x10f)]);});for(const _0x29f5d1 of _0x77c8c8){if(_0x29f5d1[_0x3a6037(0xae)]&&_0x375c5d['length']>0x0&&!_0x375c5d['includes'](_0x29f5d1[_0x3a6037(0xae)]))continue;const _0x5ab871=_0x29f5d1[_0x3a6037(0xcb)]||_0x29f5d1['eventStart']||_0x29f5d1[_0x3a6037(0xd8)];if(!_0x5ab871)continue;const _0x18f615=new Date(_0x5ab871),_0xda597a=_0x18f615[_0x3a6037(0xce)]();if(isNaN(_0xda597a))continue;if(_0xda597a<_0x391273)continue;if(_0xda597a>_0x391273+_0x120291)continue;const _0x526612=(_0x29f5d1['event']||_0x29f5d1[_0x3a6037(0x133)]||'')[_0x3a6037(0xde)]();let _0x259d03=![],_0x30d907=[],_0x320839=_0x29f5d1[_0x3a6037(0x130)]||_0x29f5d1[_0x3a6037(0x133)]||'Unbekannt';if(_0x526612[_0x3a6037(0xfc)](_0x3a6037(0xa6))||_0x526612[_0x3a6037(0xfc)](_0x3a6037(0xe2))||_0x526612[_0x3a6037(0xfc)](_0x3a6037(0xf8)))_0x259d03=!![],_0x30d907=Array[_0x3a6037(0xb9)](_0x48515c);else for(const _0x34b802 of _0x48515c){if(_0x526612[_0x3a6037(0xfc)](_0x34b802[_0x3a6037(0xde)]()))_0x30d907['push'](_0x34b802);}_0x30d907[_0x3a6037(0xc1)]>0x0&&_0x30d907[_0x3a6037(0x100)](_0x40259c=>{const _0x1bf44b=_0x3a6037;let _0x219d73=0x3c;if(_0x259d03){let _0x574538=0x0;Object['values'](_0x7a30b2)[_0x1bf44b(0x100)](_0x1885c6=>{if(_0x1885c6>_0x574538)_0x574538=_0x1885c6;}),_0x219d73=_0x574538>0x0?_0x574538:0x78;}else _0x219d73=_0x7a30b2[_0x40259c]||0x3c;const _0x259783=new Date(_0xda597a-_0x219d73*0xea60);_0x37e12b[_0x1bf44b(0x11d)]({'eventTime':_0xda597a,'triggerTime':_0x259783['getTime'](),'room':_0x40259c,'minutes':_0x219d73,'reason':_0x320839,'isGlobal':_0x259d03});});}}catch(_0x1e1f83){}_0x37e12b[_0x3a6037(0x13d)]((_0x4f0db8,_0x22d783)=>_0x4f0db8['triggerTime']-_0x22d783['triggerTime']);const _0x6f5897=_0x37e12b['slice'](0x0,0x5);await _0xfe12e0[_0x3a6037(0x120)](_0x3a6037(0x13c),{'val':JSON[_0x3a6037(0x11f)](_0x6f5897),'ack':!![]});}async function monitorEnforcements(_0x34a547){const _0x29721c=a1_0x32a12e;try{const _0x233ad8=_0x29721c(0x11c),_0x8b686d=await _0x34a547[_0x29721c(0x107)](_0x233ad8);if(!_0x8b686d||!_0x8b686d[_0x29721c(0x9d)])return;let _0x5c1724=[];try{_0x5c1724=JSON[_0x29721c(0x12e)](_0x8b686d[_0x29721c(0x9d)]);}catch(_0x2af3b8){return;}if(!Array['isArray'](_0x5c1724)||_0x5c1724[_0x29721c(0xc1)]===0x0)return;const _0xe50f2f=Date[_0x29721c(0x139)](),_0x83a582=_0x34a547[_0x29721c(0x14b)][_0x29721c(0x9e)]||[];let _0x26b1d3=![];for(let _0x79e06e=_0x5c1724['length']-0x1;_0x79e06e>=0x0;_0x79e06e--){const _0x542dbc=_0x5c1724[_0x79e06e];if(_0xe50f2f>=_0x542dbc[_0x29721c(0xda)]){_0x34a547[_0x29721c(0xea)][_0x29721c(0x14c)](_0x29721c(0xc8)+_0x542dbc[_0x29721c(0x13a)]+_0x29721c(0x11e)),_0x5c1724[_0x29721c(0x103)](_0x79e06e,0x1),_0x26b1d3=!![];continue;}const _0x212c8d=_0x83a582['find'](_0x1e17ca=>normalize(_0x1e17ca[_0x29721c(0x10f)])===normalize(_0x542dbc[_0x29721c(0x13a)])&&(_0x1e17ca[_0x29721c(0xa2)]==='temperature'||_0x1e17ca[_0x29721c(0xa2)]===_0x29721c(0x90)));if(_0x212c8d){const _0x260e56=await findRelatedId(_0x34a547,_0x212c8d['id'],_0x29721c(0x110));if(_0x260e56){const _0x182515=await _0x34a547['getForeignStateAsync'](_0x260e56);_0x182515&&typeof _0x182515[_0x29721c(0x9d)]===_0x29721c(0xd6)&&(_0x182515[_0x29721c(0x9d)]<0xf&&(_0x34a547[_0x29721c(0xea)][_0x29721c(0x9a)](_0x29721c(0x148)+_0x542dbc[_0x29721c(0x13a)]+_0x29721c(0xdb)+_0x182515[_0x29721c(0x9d)]+_0x29721c(0xe4)+_0x542dbc[_0x29721c(0xf2)]+_0x29721c(0xa5)),await _0x34a547[_0x29721c(0x116)](_0x260e56,_0x542dbc[_0x29721c(0xf2)]),await logAutomationAction(_0x34a547,_0x29721c(0x11b)+_0x542dbc[_0x29721c(0x13a)]+':\x20'+_0x182515[_0x29721c(0x9d)]+_0x29721c(0xdf)+_0x542dbc['target']+_0x29721c(0xf7))));}}}_0x26b1d3&&await _0x34a547[_0x29721c(0x120)](_0x233ad8,{'val':JSON[_0x29721c(0x11f)](_0x5c1724),'ack':!![]});}catch(_0x189a2d){_0x34a547[_0x29721c(0xea)][_0x29721c(0x13b)]('Enforcement\x20Monitor\x20Error:\x20'+_0x189a2d[_0x29721c(0x104)]);}}async function checkCalendarTriggers(_0x2d395b){const _0x98e3b7=a1_0x32a12e;if(!_0x2d395b['config'][_0x98e3b7(0xa4)]||!_0x2d395b[_0x98e3b7(0x14b)][_0x98e3b7(0xb0)])return;await updateSchedulePreview(_0x2d395b);let _0x3d890e={},_0x3f2dda={};try{const _0x2d6420=await _0x2d395b[_0x98e3b7(0x107)](_0x98e3b7(0x91));if(_0x2d6420&&_0x2d6420[_0x98e3b7(0x9d)])_0x3d890e=JSON[_0x98e3b7(0x12e)](_0x2d6420[_0x98e3b7(0x9d)]);const _0x137f9f=await _0x2d395b['getStateAsync'](_0x98e3b7(0xd1));if(_0x137f9f&&_0x137f9f[_0x98e3b7(0x9d)])_0x3f2dda=JSON[_0x98e3b7(0x12e)](_0x137f9f['val']);}catch(_0x2c0d67){}let _0xd5f3eb={'default':0x15};try{const _0x333d7a=await _0x2d395b[_0x98e3b7(0x107)](_0x98e3b7(0xac));if(_0x333d7a&&_0x333d7a['val'])_0xd5f3eb=JSON[_0x98e3b7(0x12e)](_0x333d7a['val']);}catch(_0x5ba66f){}let _0x59f9d7=[];try{const _0x120ba4=await _0x2d395b['getStateAsync']('analysis.energy.activeEnforcements');if(_0x120ba4&&_0x120ba4[_0x98e3b7(0x9d)])_0x59f9d7=JSON[_0x98e3b7(0x12e)](_0x120ba4[_0x98e3b7(0x9d)]);}catch(_0x1b2727){}try{const _0x5ef9bb=await _0x2d395b['getForeignStateAsync'](_0x2d395b[_0x98e3b7(0x14b)][_0x98e3b7(0xb0)]+'.data.table');if(!_0x5ef9bb||!_0x5ef9bb[_0x98e3b7(0x9d)])return;const _0x58c8b8=JSON[_0x98e3b7(0x12e)](_0x5ef9bb[_0x98e3b7(0x9d)]),_0x34c947=Date[_0x98e3b7(0x139)](),_0x51ef7b=_0x2d395b['config'][_0x98e3b7(0x9e)]||[],_0x3cb9ae=_0x2d395b['config'][_0x98e3b7(0x142)]||[];let _0x93feba=![];for(const _0x55c4be of _0x58c8b8){if(_0x55c4be[_0x98e3b7(0xae)]&&_0x3cb9ae[_0x98e3b7(0xc1)]>0x0&&!_0x3cb9ae[_0x98e3b7(0xfc)](_0x55c4be[_0x98e3b7(0xae)]))continue;const _0x2f25b7=_0x55c4be[_0x98e3b7(0xcb)]||_0x55c4be[_0x98e3b7(0xa8)]||_0x55c4be[_0x98e3b7(0xd8)];if(!_0x2f25b7)continue;const _0x3a4c73=new Date(_0x2f25b7);if(isNaN(_0x3a4c73[_0x98e3b7(0xce)]()))continue;const _0xbdcc20=(_0x55c4be['event']||_0x55c4be['summary']||'')[_0x98e3b7(0xde)]();if(_0xbdcc20['includes'](_0x98e3b7(0xa6))||_0xbdcc20[_0x98e3b7(0xfc)](_0x98e3b7(0xe2))||_0xbdcc20[_0x98e3b7(0xfc)]('ankunft')){let _0x15f760=0x0;Object[_0x98e3b7(0xff)](_0x3d890e)['forEach'](_0x2b14ee=>{if(_0x2b14ee>_0x15f760)_0x15f760=_0x2b14ee;});if(_0x15f760===0x0)_0x15f760=0x78;const _0x282f97=_0x3a4c73[_0x98e3b7(0xce)]()-_0x15f760*0xea60;_0x34c947>=_0x282f97&&_0x34c947<_0x3a4c73['getTime']()&&(_0x2d395b[_0x98e3b7(0xe1)]!==_0x98e3b7(0xf4)&&(_0x2d395b['log'][_0x98e3b7(0x14c)](_0x98e3b7(0xba)+_0x15f760+_0x98e3b7(0xaa)),await _0x2d395b[_0x98e3b7(0x120)](_0x98e3b7(0xbb),{'val':_0x98e3b7(0xf4),'ack':![]})));}for(const _0x589a29 of _0x51ef7b){if(_0x589a29[_0x98e3b7(0x10f)]){const _0x4c5403=_0x589a29[_0x98e3b7(0x10f)]['toLowerCase'](),_0x54f856=(_0x589a29[_0x98e3b7(0x14e)]||'')[_0x98e3b7(0xde)]();let _0x228fbb=_0xbdcc20[_0x98e3b7(0xfc)](_0x4c5403);!_0x228fbb&&_0x54f856[_0x98e3b7(0xc1)]>0x3&&_0xbdcc20[_0x98e3b7(0xfc)](_0x54f856)&&(_0x228fbb=!![]);if(_0x228fbb){const _0xdce530=_0x3d890e[_0x589a29[_0x98e3b7(0x10f)]]||0x3c,_0x155829=_0x3f2dda[_0x589a29['location']]||'Classic',_0x54b945=_0x3a4c73['getTime']()-_0xdce530*0xea60;if(_0x34c947>=_0x54b945&&_0x34c947<_0x3a4c73[_0x98e3b7(0xce)]()){const _0x3234e0=lastActions[_0x98e3b7(0xfa)+_0x589a29[_0x98e3b7(0x10f)]];if(_0x3234e0&&_0x34c947-_0x3234e0<CAL_COOLDOWN_MS)continue;const _0x311cfe=await findRelatedId(_0x2d395b,_0x589a29['id'],_0x98e3b7(0x110));if(_0x311cfe){let _0x46b75a=_0xd5f3eb[_0x589a29[_0x98e3b7(0x10f)]];if(_0x46b75a===undefined)_0x46b75a=_0xd5f3eb[_0x98e3b7(0xca)];if(_0x46b75a===undefined)_0x46b75a=0x15;const _0x27402c=await _0x2d395b[_0x98e3b7(0xf0)](_0x311cfe);if(_0x27402c&&typeof _0x27402c['val']===_0x98e3b7(0xd6)&&_0x27402c[_0x98e3b7(0x9d)]<_0x46b75a-0.5){_0x2d395b[_0x98e3b7(0xea)]['info'](_0x98e3b7(0x14f)+_0x155829+_0x98e3b7(0x9b)+_0x589a29[_0x98e3b7(0x10f)]+_0x98e3b7(0x8e)+_0xbdcc20+_0x98e3b7(0xc0)+_0x46b75a+'Â°C\x20(Vorlauf:\x20'+_0xdce530+'\x20min).'),await _0x2d395b['setForeignStateAsync'](_0x311cfe,_0x46b75a),await logAutomationAction(_0x2d395b,_0x98e3b7(0x96)+_0x589a29[_0x98e3b7(0x10f)]+_0x98e3b7(0xc2)+_0x46b75a+_0x98e3b7(0xb7)+_0x155829+')'),lastActions[_0x98e3b7(0xfa)+_0x589a29[_0x98e3b7(0x10f)]]=_0x34c947;const _0x3118a6=_0x59f9d7[_0x98e3b7(0xb5)](_0x379986=>_0x379986[_0x98e3b7(0x13a)]===_0x589a29[_0x98e3b7(0x10f)]);if(_0x3118a6!==-0x1)_0x59f9d7[_0x98e3b7(0x103)](_0x3118a6,0x1);_0x59f9d7[_0x98e3b7(0x11d)]({'room':_0x589a29['location'],'target':_0x46b75a,'until':_0x3a4c73[_0x98e3b7(0xce)]()}),_0x93feba=!![];}}}}}}}_0x93feba&&await _0x2d395b[_0x98e3b7(0x120)](_0x98e3b7(0x11c),{'val':JSON[_0x98e3b7(0x11f)](_0x59f9d7),'ack':!![]});}catch(_0x2e5304){_0x2d395b[_0x98e3b7(0xea)][_0x98e3b7(0x9a)](_0x98e3b7(0x136)+_0x2e5304[_0x98e3b7(0x104)]);}}async function manageMpcIntervention(_0x129198,_0x858190,_0x463eaf){const _0xc07227=a1_0x32a12e;try{const _0x5b7bf1=_0xc07227(0x129),_0xa9d9ee=await _0x129198[_0xc07227(0x107)](_0x5b7bf1);let _0x32ec63=[];if(_0xa9d9ee&&_0xa9d9ee[_0xc07227(0x9d)])try{_0x32ec63=JSON[_0xc07227(0x12e)](_0xa9d9ee['val']);}catch(_0x13b1c9){}const _0x22b70b=_0x32ec63['indexOf'](_0x858190);if(_0x463eaf===_0xc07227(0xcc))_0x22b70b===-0x1&&(_0x32ec63[_0xc07227(0x11d)](_0x858190),await _0x129198[_0xc07227(0x120)](_0x5b7bf1,{'val':JSON['stringify'](_0x32ec63),'ack':!![]}));else _0x463eaf===_0xc07227(0xf3)&&(_0x22b70b!==-0x1&&(_0x32ec63[_0xc07227(0x103)](_0x22b70b,0x1),await _0x129198[_0xc07227(0x120)](_0x5b7bf1,{'val':JSON[_0xc07227(0x11f)](_0x32ec63),'ack':!![]})));}catch(_0x19dc98){}}async function cleanupGhostInterventions(_0x547dde){const _0x1e5f6a=a1_0x32a12e;try{const _0x2ab5a5=_0x1e5f6a(0x129),_0x5f53de=await _0x547dde[_0x1e5f6a(0x107)](_0x2ab5a5);if(!_0x5f53de||!_0x5f53de['val'])return;const _0x40c48e=JSON[_0x1e5f6a(0x12e)](_0x5f53de[_0x1e5f6a(0x9d)]);if(!Array[_0x1e5f6a(0xb4)](_0x40c48e)||_0x40c48e[_0x1e5f6a(0xc1)]===0x0)return;let _0x140945={'default':0x15};try{const _0x21034f=await _0x547dde['getStateAsync'](_0x1e5f6a(0xac));if(_0x21034f&&_0x21034f['val'])_0x140945=JSON[_0x1e5f6a(0x12e)](_0x21034f[_0x1e5f6a(0x9d)]);}catch(_0x439fe0){}let _0x320d52=[];try{const _0x47b988=await _0x547dde[_0x1e5f6a(0x107)](_0x1e5f6a(0x146));if(_0x47b988&&_0x47b988[_0x1e5f6a(0x9d)])_0x320d52=JSON['parse'](_0x47b988['val']);}catch(_0x16b1fd){}let _0x590750={},_0x27f9b4=![];try{const _0x3ac163=await _0x547dde['getStateAsync'](_0x1e5f6a(0x14d));if(_0x3ac163&&_0x3ac163[_0x1e5f6a(0x9d)])_0x590750=JSON[_0x1e5f6a(0x12e)](_0x3ac163[_0x1e5f6a(0x9d)]);}catch(_0xb110b7){}if(_0x590750[_0x1e5f6a(0xbe)]){const _0x40eb5d=Date['now']();for(const [_0x2f36e2,_0x48d468]of Object[_0x1e5f6a(0x13e)](_0x590750['_meta'])){_0x40eb5d-_0x48d468>PENALTY_TTL&&(delete _0x590750[_0x2f36e2],delete _0x590750[_0x1e5f6a(0xbe)][_0x2f36e2],_0x27f9b4=!![],_0x547dde[_0x1e5f6a(0xea)]['info']('ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27'+_0x2f36e2+_0x1e5f6a(0xaf)));}}const _0x228276=_0x547dde[_0x1e5f6a(0x14b)][_0x1e5f6a(0x9e)]||[];let _0x1f4bdd=![];for(let _0x367694=_0x40c48e[_0x1e5f6a(0xc1)]-0x1;_0x367694>=0x0;_0x367694--){const _0x54526c=_0x40c48e[_0x367694],_0x457320=_0x228276[_0x1e5f6a(0x111)](_0x129325=>normalize(_0x129325[_0x1e5f6a(0x10f)])===normalize(_0x54526c)&&(_0x129325[_0x1e5f6a(0xa2)]===_0x1e5f6a(0x10d)||_0x129325[_0x1e5f6a(0xa2)]===_0x1e5f6a(0x90)));if(!_0x457320){_0x547dde[_0x1e5f6a(0xea)][_0x1e5f6a(0x9a)](_0x1e5f6a(0x114)+_0x54526c+_0x1e5f6a(0xee)),_0x40c48e[_0x1e5f6a(0x103)](_0x367694,0x1),_0x1f4bdd=!![];continue;}if(_0x457320){const _0x128c86=await findRelatedId(_0x547dde,_0x457320['id'],_0x1e5f6a(0x110)),_0x28c7b4=await _0x547dde[_0x1e5f6a(0xf0)](_0x457320['id']);if(_0x128c86){const _0x2adeb3=await _0x547dde['getForeignStateAsync'](_0x128c86);if(_0x2adeb3&&typeof _0x2adeb3[_0x1e5f6a(0x9d)]===_0x1e5f6a(0xd6)){let _0x1174db=![],_0x589ef6='';Math[_0x1e5f6a(0xe3)](_0x2adeb3[_0x1e5f6a(0x9d)]-ECO_TEMP)>0.5&&(_0x1174db=!![],_0x589ef6='manual');if(!_0x1174db&&_0x28c7b4&&typeof _0x28c7b4[_0x1e5f6a(0x9d)]===_0x1e5f6a(0xd6)){const _0x2a4192=_0x140945[_0x54526c]||_0x140945['default']||0x15;_0x28c7b4[_0x1e5f6a(0x9d)]<_0x2a4192+0.2&&(_0x1174db=!![],_0x589ef6=_0x1e5f6a(0x10c));}if(_0x1174db){if(_0x589ef6===_0x1e5f6a(0x12c)){_0x547dde[_0x1e5f6a(0xea)][_0x1e5f6a(0x14c)](_0x1e5f6a(0xa9)+_0x54526c+_0x1e5f6a(0x105)+_0x2adeb3['val']+_0x1e5f6a(0x12b)+ECO_TEMP+_0x1e5f6a(0xc5));const _0x13542f=lastActions[_0x1e5f6a(0xfa)+_0x54526c],_0x3e8853=_0x13542f&&Date[_0x1e5f6a(0x139)]()-_0x13542f<0x2*0x3c*0x3e8;if(!_0x3e8853&&_0x2adeb3[_0x1e5f6a(0x9d)]>ECO_TEMP+0.5){_0x547dde['sendToPythonWrapper']&&(_0x547dde['log'][_0x1e5f6a(0x14c)](_0x1e5f6a(0xdd)+_0x54526c+_0x1e5f6a(0xfd)),_0x547dde[_0x1e5f6a(0xf6)](_0x1e5f6a(0x106),{'room':_0x54526c}));const _0x119bd5=_0x54526c+'_'+new Date()['getHours']();if(!_0x590750[_0x119bd5]){_0x590750[_0x119bd5]=0x1;if(!_0x590750[_0x1e5f6a(0xbe)])_0x590750[_0x1e5f6a(0xbe)]={};_0x590750[_0x1e5f6a(0xbe)][_0x119bd5]=Date[_0x1e5f6a(0x139)](),_0x27f9b4=!![];}}else _0x3e8853&&_0x547dde['log'][_0x1e5f6a(0x14c)](_0x1e5f6a(0x95)+_0x54526c+_0x1e5f6a(0x10e));}else{if(_0x589ef6===_0x1e5f6a(0x10c)){let _0x8800dd=![];if(_0x320d52['find'](_0x12d740=>_0x12d740[_0x1e5f6a(0x13a)]===_0x54526c))_0x8800dd=!![];const _0xcd92d1=_0x228276[_0x1e5f6a(0x128)](_0x4246a0=>normalize(_0x4246a0[_0x1e5f6a(0x10f)])===normalize(_0x54526c)&&(_0x4246a0[_0x1e5f6a(0xa2)]===_0x1e5f6a(0x94)||_0x4246a0[_0x1e5f6a(0xa2)]===_0x1e5f6a(0xe8)||_0x4246a0['type']==='contact'));for(const _0xd01fcf of _0xcd92d1){try{const _0x3421bf=await _0x547dde[_0x1e5f6a(0xf0)](_0xd01fcf['id']);if(_0x3421bf&&(_0x3421bf['val']===!![]||_0x3421bf['val']===0x1||String(_0x3421bf[_0x1e5f6a(0x9d)])['toLowerCase']()===_0x1e5f6a(0xc4)))_0x8800dd=!![];}catch(_0x2a4abe){}}if(_0x8800dd)_0x547dde['log']['info'](_0x1e5f6a(0xb1)+_0x54526c+_0x1e5f6a(0x9c));else{const _0x173791=_0x140945[_0x54526c]||_0x140945[_0x1e5f6a(0xca)]||0x15;_0x547dde['log'][_0x1e5f6a(0x14c)](_0x1e5f6a(0xcd)+_0x54526c+_0x1e5f6a(0x10b)+_0x28c7b4['val']+_0x1e5f6a(0xc3)+(_0x173791+0.2)+_0x1e5f6a(0xa0)),await _0x547dde[_0x1e5f6a(0x116)](_0x128c86,_0x173791),await logAutomationAction(_0x547dde,_0x1e5f6a(0x93)+_0x54526c+_0x1e5f6a(0x101)+_0x173791+'Â°C'),lastActions[_0x1e5f6a(0x122)+_0x54526c]=Date[_0x1e5f6a(0x139)]();}}}_0x40c48e[_0x1e5f6a(0x103)](_0x367694,0x1),_0x1f4bdd=!![];}}}}}_0x1f4bdd&&await _0x547dde[_0x1e5f6a(0x120)](_0x2ab5a5,{'val':JSON[_0x1e5f6a(0x11f)](_0x40c48e),'ack':!![]}),_0x27f9b4&&await _0x547dde[_0x1e5f6a(0x120)](_0x1e5f6a(0x14d),{'val':JSON[_0x1e5f6a(0x11f)](_0x590750),'ack':!![]});}catch(_0x4f9fad){}}async function applyEnergySavings(_0x4c3ba0,_0x3a18ed){const _0x569601=a1_0x32a12e;await cleanupGhostInterventions(_0x4c3ba0);if(!_0x3a18ed||_0x3a18ed['length']===0x0)return;const _0xfac6e3=_0x4c3ba0[_0x569601(0x14b)][_0x569601(0x9e)]||[],_0x3d6af8=Date[_0x569601(0x139)]();for(const _0x261d13 of _0x3a18ed){const _0x372d51=_0x261d13[_0x569601(0x13a)],_0x735759=_0x261d13[_0x569601(0xb8)],_0x3b0220=_0x261d13[_0x569601(0xf2)]||0x15;if(lastActions[_0x569601(0x122)+_0x372d51]&&_0x3d6af8-lastActions[_0x569601(0x122)+_0x372d51]<RESCUE_LOCK_MS)continue;const _0x19f839=_0xfac6e3[_0x569601(0x111)](_0x184c07=>normalize(_0x184c07[_0x569601(0x10f)])===normalize(_0x372d51)&&(_0x184c07[_0x569601(0xa2)]===_0x569601(0x10d)||_0x184c07[_0x569601(0xa2)]===_0x569601(0x90)));if(!_0x19f839)continue;const _0x254765=await findRelatedId(_0x4c3ba0,_0x19f839['id'],_0x569601(0x110));if(_0x254765){if(lastActions[_0x569601(0x98)+_0x372d51]&&_0x3d6af8-lastActions['mpc_'+_0x372d51]<0x1e*0x3c*0x3e8)continue;const _0x1a1cdc=await _0x4c3ba0['getForeignStateAsync'](_0x254765);if(_0x1a1cdc&&typeof _0x1a1cdc[_0x569601(0x9d)]===_0x569601(0xd6)){const _0x5f3569=_0x1a1cdc['val'];_0x5f3569!==ECO_TEMP&&await manageMpcIntervention(_0x4c3ba0,_0x372d51,_0x569601(0xf3));if(_0x735759>0x1e)_0x5f3569>ECO_TEMP+0.5&&(_0x4c3ba0[_0x569601(0xea)]['info'](_0x569601(0xd3)+_0x372d51+_0x569601(0xdb)+ECO_TEMP+_0x569601(0xd2)+_0x735759+_0x569601(0x12a)),await _0x4c3ba0[_0x569601(0x116)](_0x254765,ECO_TEMP),await manageMpcIntervention(_0x4c3ba0,_0x372d51,'add'),lastActions[_0x569601(0x98)+_0x372d51]=_0x3d6af8,await logAutomationAction(_0x4c3ba0,_0x569601(0xe7)+_0x372d51+_0x569601(0x141)+ECO_TEMP+'Â°C'));else _0x735759<=0xf&&(_0x5f3569<_0x3b0220&&(_0x4c3ba0[_0x569601(0xea)]['info'](_0x569601(0x145)+_0x372d51+_0x569601(0x151)+_0x3b0220+_0x569601(0x8f)),await _0x4c3ba0[_0x569601(0x116)](_0x254765,_0x3b0220),await manageMpcIntervention(_0x4c3ba0,_0x372d51,_0x569601(0xf3)),lastActions[_0x569601(0x98)+_0x372d51]=_0x3d6af8,await logAutomationAction(_0x4c3ba0,_0x569601(0xe7)+_0x372d51+':\x20Aufheizen\x20auf\x20'+_0x3b0220+'Â°C')));}}else _0x4c3ba0[_0x569601(0xea)][_0x569601(0x9a)](_0x569601(0x150)+_0x372d51+_0x569601(0x147));}}module[a1_0x32a12e(0x102)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};