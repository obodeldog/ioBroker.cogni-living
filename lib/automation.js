const a1_0x550909=a1_0x1749;(function(_0x35e97a,_0x1f1330){const _0x5b5350=a1_0x1749,_0x1ad6e1=_0x35e97a();while(!![]){try{const _0x1dc2c8=-parseInt(_0x5b5350(0x138))/0x1*(-parseInt(_0x5b5350(0x17e))/0x2)+-parseInt(_0x5b5350(0xef))/0x3+-parseInt(_0x5b5350(0xe0))/0x4*(parseInt(_0x5b5350(0xd8))/0x5)+parseInt(_0x5b5350(0x11d))/0x6+-parseInt(_0x5b5350(0xe8))/0x7+parseInt(_0x5b5350(0xbf))/0x8+parseInt(_0x5b5350(0xd3))/0x9;if(_0x1dc2c8===_0x1f1330)break;else _0x1ad6e1['push'](_0x1ad6e1['shift']());}catch(_0x3720db){_0x1ad6e1['push'](_0x1ad6e1['shift']());}}}(a1_0x3b83,0x5eb8d));function a1_0x1749(_0x424d44,_0x1a7c6a){const _0x335158=a1_0x3b83();return a1_0x1749=function(_0x2fc3f8,_0x3b8cb3){_0x2fc3f8=_0x2fc3f8-0xbf;let _0x3b83f5=_0x335158[_0x2fc3f8];return _0x3b83f5;},a1_0x1749(_0x424d44,_0x1a7c6a);}const a1_0x3b8cb3=(function(){let _0x32cd4a=!![];return function(_0x361ea9,_0x2d7f09){const _0x21ea0a=_0x32cd4a?function(){if(_0x2d7f09){const _0x51fb04=_0x2d7f09['apply'](_0x361ea9,arguments);return _0x2d7f09=null,_0x51fb04;}}:function(){};return _0x32cd4a=![],_0x21ea0a;};}()),a1_0x2fc3f8=a1_0x3b8cb3(this,function(){const _0xadc331=a1_0x1749;return a1_0x2fc3f8[_0xadc331(0xc1)]()['search'](_0xadc331(0x161))[_0xadc331(0xc1)]()[_0xadc331(0x152)](a1_0x2fc3f8)[_0xadc331(0x111)](_0xadc331(0x161));});a1_0x2fc3f8();'use strict';const aiAgent=require(a1_0x550909(0x14c)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x2f5e71){const _0x242b15=a1_0x550909;if(!_0x2f5e71)return'';return _0x2f5e71[_0x242b15(0xf6)]()[_0x242b15(0x176)](/\s+/g,'')[_0x242b15(0x10f)]();}function getWarmupRobust(_0x1d7ff6,_0x9a608b){const _0xd3a1e2=a1_0x550909;if(!_0x1d7ff6||!_0x9a608b)return 0x3c;if(_0x1d7ff6[_0x9a608b]!==undefined)return _0x1d7ff6[_0x9a608b];const _0x4efb95=_0x9a608b['toLowerCase']()[_0xd3a1e2(0x176)](/√§/g,'ae')[_0xd3a1e2(0x176)](/√∂/g,'oe')['replace'](/√º/g,'ue')[_0xd3a1e2(0x176)](/√ü/g,'ss')[_0xd3a1e2(0x176)](/\s+/g,'_')['replace'](/[^a-z0-9_]/g,'');if(_0x1d7ff6[_0x4efb95]!==undefined)return _0x1d7ff6[_0x4efb95];return 0x3c;}async function logAutomationAction(_0x209a21,_0x58a87c){const _0x13df6f=a1_0x550909;await _0x209a21[_0x13df6f(0x167)](_0x13df6f(0xee),{'val':_0x58a87c,'ack':!![]});try{const _0x457526=_0x13df6f(0xf2),_0x5c3d17=await _0x209a21[_0x13df6f(0xf9)](_0x457526);let _0x4498d7=[];if(_0x5c3d17&&_0x5c3d17[_0x13df6f(0x140)])try{_0x4498d7=JSON[_0x13df6f(0x104)](_0x5c3d17[_0x13df6f(0x140)]);}catch(_0x30402a){}_0x4498d7['unshift']({'ts':Date[_0x13df6f(0x172)](),'msg':_0x58a87c});if(_0x4498d7[_0x13df6f(0xf0)]>0x32)_0x4498d7=_0x4498d7[_0x13df6f(0x103)](0x0,0x32);await _0x209a21['setStateAsync'](_0x457526,{'val':JSON[_0x13df6f(0x110)](_0x4498d7),'ack':!![]});}catch(_0x4bf0e4){}}async function handlePrediction(_0xdc3f59,_0x9861d4,_0x3fdc12){const _0x2a8457=a1_0x550909;if(!_0x9861d4||_0x9861d4===_0x2a8457(0xfc))return;let _0x596534=_0x2a8457(0xdb),_0xd2207d=0.6;try{const _0x14021e=await _0xdc3f59[_0x2a8457(0xf9)](_0x2a8457(0xc7));if(_0x14021e&&_0x14021e['val'])_0x596534=_0x14021e[_0x2a8457(0x140)];const _0x2867d6=await _0xdc3f59['getStateAsync']('analysis.automation.confidenceThreshold');if(_0x2867d6&&_0x2867d6['val'])_0xd2207d=_0x2867d6[_0x2a8457(0x140)];}catch(_0x267145){}if(_0x596534===_0x2a8457(0xdb)||_0x3fdc12<_0xd2207d)return;const _0x39bfa2=Date[_0x2a8457(0x172)]();if(lastActions[_0x9861d4]&&_0x39bfa2-lastActions[_0x9861d4]<COOLDOWN_MS)return;const _0x1a27d6=_0xdc3f59[_0x2a8457(0xd6)][_0x2a8457(0x17d)]||[],_0x1f60eb=normalize(_0x9861d4),_0x4b40aa=_0x1a27d6[_0x2a8457(0x173)](_0x3918b3=>normalize(_0x3918b3[_0x2a8457(0x102)])===_0x1f60eb&&(_0x3918b3[_0x2a8457(0xe2)]===_0x2a8457(0x15f)||_0x3918b3[_0x2a8457(0xe2)]===_0x2a8457(0x10b)||_0x3918b3[_0x2a8457(0xe2)]==='switch'));if(!_0x4b40aa)return;const _0x5bed12=await aiAgent[_0x2a8457(0x100)](_0xdc3f59,_0x9861d4,_0x4b40aa[_0x2a8457(0x11b)],_0x3fdc12);if(!_0x5bed12[_0x2a8457(0xf5)])return;const _0x38160e=_0x2a8457(0xdc)+_0x9861d4+_0x2a8457(0x118)+_0x4b40aa[_0x2a8457(0x11b)]+'\x20('+_0x5bed12['reason']+')';await logAutomationAction(_0xdc3f59,'['+_0x596534['toUpperCase']()+']\x20'+_0x38160e);if(_0x596534==='active'){const _0x4b3cfc=await _0xdc3f59[_0x2a8457(0x14b)](_0x4b40aa['id']);(!_0x4b3cfc||!_0x4b3cfc[_0x2a8457(0x140)]&&_0x4b3cfc['val']!==!![])&&await _0xdc3f59[_0x2a8457(0xcc)](_0x4b40aa['id'],!![]),lastActions[_0x9861d4]=_0x39bfa2;}}async function findRelatedId(_0x440781,_0x4ecb9c,_0x11ed6b=a1_0x550909(0xd5)){const _0xedac1a=a1_0x550909;if(_0x11ed6b==='setpoint'&&_0x440781[_0xedac1a(0xd6)][_0xedac1a(0x16f)]){let _0x4baa0f=_0x440781[_0xedac1a(0xd6)][_0xedac1a(0x16f)];if(typeof _0x4baa0f===_0xedac1a(0x11e))try{_0x4baa0f=JSON[_0xedac1a(0x104)](_0x4baa0f);}catch(_0x2f1919){}if(_0x4baa0f&&_0x4baa0f[_0x4ecb9c])return _0x4baa0f[_0x4ecb9c];}if(_0x11ed6b===_0xedac1a(0xd1)&&_0x440781[_0xedac1a(0xd6)]['valveMapping']){let _0x30e77a=_0x440781[_0xedac1a(0xd6)][_0xedac1a(0x150)];if(typeof _0x30e77a===_0xedac1a(0x11e))try{_0x30e77a=JSON[_0xedac1a(0x104)](_0x30e77a);}catch(_0x4c5620){}if(_0x30e77a&&_0x30e77a[_0x4ecb9c])return _0x30e77a[_0x4ecb9c];}let _0xd3c5d7=[];if(_0x11ed6b===_0xedac1a(0xd5))_0xd3c5d7=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0xedac1a(0x13b)},{'s':'.1.TEMPERATURE','t':'.1.SET_POINT_TEMPERATURE'},{'s':_0xedac1a(0x168),'t':_0xedac1a(0x12f)},{'s':_0xedac1a(0xc4),'t':'SET_POINT_TEMPERATURE'},{'s':'local_temperature','t':_0xedac1a(0x141)},{'s':_0xedac1a(0xff),'t':_0xedac1a(0xdf)},{'s':_0xedac1a(0xfe),'t':_0xedac1a(0x16d)},{'s':'ACTUAL','t':_0xedac1a(0x129)},{'s':_0xedac1a(0xc3),'t':_0xedac1a(0xeb)},{'s':_0xedac1a(0xfe),'t':_0xedac1a(0xd5)}];else _0x11ed6b===_0xedac1a(0xd1)&&(_0xd3c5d7=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0xedac1a(0x101)},{'s':_0xedac1a(0x168),'t':_0xedac1a(0x101)},{'s':'.1.TEMPERATURE','t':_0xedac1a(0xd4)},{'s':'local_temperature','t':'pi_heating_demand'},{'s':'temperature','t':_0xedac1a(0x17b)},{'s':_0xedac1a(0xfe),'t':_0xedac1a(0x107)}]);for(const _0x3c67f5 of _0xd3c5d7){if(_0x4ecb9c[_0xedac1a(0xfa)](_0x3c67f5['s'])){const _0x170ad6=_0x4ecb9c['replace'](_0x3c67f5['s'],_0x3c67f5['t']),_0x2978f1=await _0x440781[_0xedac1a(0xc6)](_0x170ad6);if(_0x2978f1)return _0x170ad6;}}try{const _0x12812b=_0x4ecb9c[_0xedac1a(0x156)]('.');if(_0x12812b[_0xedac1a(0xf0)]>0x2){const _0x2ecf4f=_0x12812b[_0xedac1a(0x103)](0x0,-0x1)[_0xedac1a(0xca)]('.'),_0x42c6c7=await _0x440781[_0xedac1a(0x151)](_0x2ecf4f+'.*'),_0x54b99d=[],_0x4ea824=_0x4ecb9c['split'](/[._]+/)[_0xedac1a(0x131)](_0x213477=>![_0xedac1a(0x16b),'0',_0xedac1a(0x13a),_0xedac1a(0x133),_0xedac1a(0x120),'temperature','actual',_0xedac1a(0x105),_0xedac1a(0xd0),_0xedac1a(0x132)][_0xedac1a(0xfa)](_0x213477[_0xedac1a(0xf6)]()));for(const [_0x3c0f11,_0x22c0a1]of Object[_0xedac1a(0x10e)](_0x42c6c7)){if(_0x3c0f11===_0x4ecb9c)continue;if(_0x22c0a1&&_0x22c0a1[_0xedac1a(0x112)]){const _0xd6a51b=_0x3c0f11[_0xedac1a(0xf6)](),_0x3fc8b0=(_0x22c0a1[_0xedac1a(0x112)]['role']||'')[_0xedac1a(0xf6)](),_0x331936=(_0x22c0a1['common'][_0xedac1a(0x171)]||'')[_0xedac1a(0xf6)]();let _0x553c3b=![];if(_0x11ed6b===_0xedac1a(0xd5)&&_0x22c0a1[_0xedac1a(0x112)][_0xedac1a(0xc2)]===!![])_0x553c3b=_0xd6a51b[_0xedac1a(0xfa)](_0xedac1a(0x166))||_0xd6a51b[_0xedac1a(0xfa)](_0xedac1a(0x115))||_0xd6a51b[_0xedac1a(0xfa)](_0xedac1a(0x148))||_0x3fc8b0[_0xedac1a(0xfa)](_0xedac1a(0x13e))||_0x3fc8b0[_0xedac1a(0xfa)](_0xedac1a(0x12e));else _0x11ed6b===_0xedac1a(0xd1)&&(_0x553c3b=_0xd6a51b[_0xedac1a(0xfa)](_0xedac1a(0x107))||_0xd6a51b['includes']('valve')||_0xd6a51b[_0xedac1a(0xfa)](_0xedac1a(0x137))||_0xd6a51b[_0xedac1a(0xfa)](_0xedac1a(0x13d))||_0x3fc8b0[_0xedac1a(0xfa)](_0xedac1a(0x16a))||_0x3fc8b0['includes'](_0xedac1a(0xc5))||_0x331936[_0xedac1a(0xfa)]('%'));if(_0x553c3b){const _0x4e28a6=_0x3c0f11['split'](/[._]+/)[_0xedac1a(0xf1)](_0x309c64=>_0x309c64[_0xedac1a(0xf6)]());let _0x55d16d=0x0;_0x4ea824['forEach'](_0x276cb3=>{const _0x22afbc=_0xedac1a;if(_0x4e28a6[_0x22afbc(0xfa)](_0x276cb3[_0x22afbc(0xf6)]()))_0x55d16d++;}),_0x54b99d['push']({'id':_0x3c0f11,'score':_0x55d16d});}}}if(_0x54b99d['length']>0x0){_0x54b99d['sort']((_0x2292e6,_0x52a3a4)=>_0x52a3a4[_0xedac1a(0xcf)]-_0x2292e6[_0xedac1a(0xcf)]);if(_0x54b99d[0x0][_0xedac1a(0xcf)]>0x0)return _0x54b99d[0x0]['id'];}}}catch(_0x12697e){}return null;}async function scanThermostats(_0x3616b1){const _0xe20c28=a1_0x550909,_0x4a6f40=_0x3616b1[_0xe20c28(0xd6)][_0xe20c28(0x17d)]||[],_0x5e70de=[],_0x5938ef=_0x4a6f40[_0xe20c28(0x131)](_0x4a395d=>_0x4a395d['id']&&_0x4a395d['id'][_0xe20c28(0xfa)]('temperature')||_0x4a395d[_0xe20c28(0xe2)]&&['temperature','thermostat',_0xe20c28(0x105)][_0xe20c28(0xfa)](_0x4a395d[_0xe20c28(0xe2)])||_0x4a395d[_0xe20c28(0x11b)]&&_0x4a395d[_0xe20c28(0x11b)][_0xe20c28(0xf6)]()['includes'](_0xe20c28(0x164)));for(const _0x38676a of _0x5938ef){const _0x2a8638=await findRelatedId(_0x3616b1,_0x38676a['id'],'setpoint'),_0x182593=await findRelatedId(_0x3616b1,_0x38676a['id'],'valve');let _0x329af9=_0xe20c28(0x121),_0x133f0f=![],_0x3a6e3c=_0x3616b1[_0xe20c28(0xd6)][_0xe20c28(0x16f)]||{};if(typeof _0x3a6e3c===_0xe20c28(0x11e))try{_0x3a6e3c=JSON['parse'](_0x3a6e3c);}catch(_0x3aa6ea){}let _0x16ceaa=_0x3616b1[_0xe20c28(0xd6)][_0xe20c28(0x150)]||{};if(typeof _0x16ceaa===_0xe20c28(0x11e))try{_0x16ceaa=JSON[_0xe20c28(0x104)](_0x16ceaa);}catch(_0x44555c){}if(_0x3a6e3c[_0x38676a['id']]&&_0x3a6e3c[_0x38676a['id']]===_0x2a8638||_0x16ceaa[_0x38676a['id']]&&_0x16ceaa[_0x38676a['id']]===_0x182593)_0x329af9=_0xe20c28(0x10c),_0x133f0f=!![];else(_0x2a8638||_0x182593)&&(_0x329af9='Auto-Erkennung');_0x5e70de[_0xe20c28(0x11f)]({'room':_0x38676a['location']||'Unbekannt','sensorId':_0x38676a['id'],'setpointId':_0x2a8638||'-','valveId':_0x182593||'-','source':_0x329af9,'isManual':_0x133f0f,'status':_0x2a8638&&_0x182593?'PERFECT':_0x2a8638?'OK':_0xe20c28(0x169)});}return _0x5e70de[_0xe20c28(0xce)]((_0x5bab48,_0x60edc0)=>_0x5bab48['room']['localeCompare'](_0x60edc0[_0xe20c28(0xcb)]));}async function updateSchedulePreview(_0xb317fb){const _0x1535bb=a1_0x550909;if(!_0xb317fb[_0x1535bb(0xd6)]['useCalendar']||!_0xb317fb[_0x1535bb(0xd6)]['calendarInstance'])return;let _0x19e4bc={};try{const _0x257c7e=await _0xb317fb[_0x1535bb(0xf9)](_0x1535bb(0x13c));if(_0x257c7e&&_0x257c7e['val'])_0x19e4bc=JSON[_0x1535bb(0x104)](_0x257c7e[_0x1535bb(0x140)]);}catch(_0x27aaf5){}const _0x199916=[],_0xbe747f=Date[_0x1535bb(0x172)](),_0xe5fe7b=0x30*0x3c*0x3c*0x3e8;try{const _0x144e29=await _0xb317fb['getForeignStateAsync'](_0xb317fb[_0x1535bb(0xd6)][_0x1535bb(0x113)]+'.data.table');if(!_0x144e29||!_0x144e29['val'])return;const _0x5e41f0=JSON[_0x1535bb(0x104)](_0x144e29[_0x1535bb(0x140)]),_0x502a18=_0xb317fb['config']['calendarSelection']||[],_0x14ad8d=_0xb317fb[_0x1535bb(0xd6)][_0x1535bb(0x17d)]||[],_0xdc6579=new Set();_0x14ad8d[_0x1535bb(0x16c)](_0x4bb571=>{const _0x187e45=_0x1535bb;if(_0x4bb571[_0x187e45(0x102)])_0xdc6579[_0x187e45(0xfd)](_0x4bb571['location']);});for(const _0xf25177 of _0x5e41f0){if(_0xf25177['_calName']&&_0x502a18[_0x1535bb(0xf0)]>0x0&&!_0x502a18[_0x1535bb(0xfa)](_0xf25177['_calName']))continue;const _0x471af7=_0xf25177[_0x1535bb(0xcd)]||_0xf25177['eventStart']||_0xf25177[_0x1535bb(0xd7)];if(!_0x471af7)continue;const _0x455a35=new Date(_0x471af7),_0x155abb=_0x455a35[_0x1535bb(0x117)]();if(isNaN(_0x155abb))continue;if(_0x155abb<_0xbe747f)continue;if(_0x155abb>_0xbe747f+_0xe5fe7b)continue;const _0x3df66e=(_0xf25177[_0x1535bb(0xed)]||_0xf25177[_0x1535bb(0x119)]||'')[_0x1535bb(0xf6)]();let _0x108fb2=![],_0x1ff0cf=[],_0x48fc92=_0xf25177[_0x1535bb(0xed)]||_0xf25177['summary']||'Unbekannt';if(_0x3df66e[_0x1535bb(0xfa)](_0x1535bb(0x154))||_0x3df66e['includes'](_0x1535bb(0xd9))||_0x3df66e[_0x1535bb(0xfa)](_0x1535bb(0x175)))_0x108fb2=!![],_0x1ff0cf=Array['from'](_0xdc6579);else for(const _0x5a53ba of _0xdc6579){if(_0x3df66e[_0x1535bb(0xfa)](_0x5a53ba['toLowerCase']()))_0x1ff0cf['push'](_0x5a53ba);}_0x1ff0cf[_0x1535bb(0xf0)]>0x0&&_0x1ff0cf[_0x1535bb(0x16c)](_0x1de64e=>{const _0x1fdb30=_0x1535bb;let _0x22af4a=0x3c;if(_0x108fb2){let _0x1bcad0=0x0;Object[_0x1fdb30(0xc0)](_0x19e4bc)[_0x1fdb30(0x16c)](_0xb3c82a=>{if(_0xb3c82a>_0x1bcad0)_0x1bcad0=_0xb3c82a;}),_0x22af4a=_0x1bcad0>0x0?_0x1bcad0:0x78;}else _0x22af4a=getWarmupRobust(_0x19e4bc,_0x1de64e);const _0x33bd35=new Date(_0x155abb-_0x22af4a*0xea60);_0x199916[_0x1fdb30(0x11f)]({'eventTime':_0x155abb,'triggerTime':_0x33bd35[_0x1fdb30(0x117)](),'room':_0x1de64e,'minutes':_0x22af4a,'reason':_0x48fc92,'isGlobal':_0x108fb2});});}}catch(_0x31c79d){}_0x199916[_0x1535bb(0xce)]((_0x258348,_0x52c6b9)=>_0x258348[_0x1535bb(0x15b)]-_0x52c6b9[_0x1535bb(0x15b)]);const _0x52e28a=_0x199916[_0x1535bb(0x103)](0x0,0x1e);await _0xb317fb[_0x1535bb(0x167)]('analysis.energy.schedulePreview',{'val':JSON['stringify'](_0x52e28a),'ack':!![]});}function a1_0x3b83(){const _0x4c4795=['getStateAsync','includes','until','Unknown','add','temperature','local_temperature','consultButler','.1.LEVEL','location','slice','parse','sensor','window','level','abs','mpc_','\x20wurde\x20manuell\x20erh√∂ht.','dimmer','Manuelles\x20Mapping','[MPC]\x20','entries','trim','stringify','search','common','calendarInstance','¬∞C\x20(Vorlauf:\x20','soll','\x20min)','getTime','\x20->\x20Schalte\x20','summary','[WATCHDOG]\x20','name','Enforcement\x20Monitor\x20Error:\x20','2066136uBSgNo','string','push','wert','Nicht\x20gefunden','contact','Classic','üßπ\x20[MPC\x20CLEANUP]\x20','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','system.mode','getHours','analysis.energy.mpcActiveInterventions','SET','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','[CAL]\x20','exports',']:\x20Raum-Trigger\x20\x27','thermostat.setpoint','.4.SET_TEMPERATURE','üö®\x20[MPC\x20WATCHDOG]\x20','filter','state','ist','log','normal','Calendar\x20Check\x20Error:\x20','stellwert','5851OrYtFW','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','hm-rpc','.1.SET_POINT_TEMPERATURE','analysis.energy.warmupTimes','position','level.temperature','[FORCE]\x20','val','occupied_heating_setpoint',':\x20Aufheizen\x20auf\x20','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','splice','analysis.energy.ventilationAlerts','analysis.energy.warmupSources','¬∞C).\x20Sparmodus\x20beendet!','target','\x20min).','cal_','getForeignStateAsync','./ai_agent','¬∞C\x20(nicht\x20','info','message','valveMapping','getForeignObjectsAsync','constructor','too_cold','urlaub\x20ende','¬∞C\x20(Kalender-Schutz)','split','üî•\x20[MPC\x20ACTION]\x20Heize\x20','remove','analysis.energy.rlPenalties','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','triggerTime','isArray','rescue_','\x20erreicht\x20Limit\x20(','light',':\x20Absenkung\x20auf\x20','(((.+)+)+)+$','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','¬∞C.','temp','_meta','set','setStateAsync','.1.TEMPERATURE','Fehlt','level.valve','openknx','forEach','target_temperature','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','thermostatMapping',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','unit','now','find','warn','ankunft','replace','useCalendar','minutes_safe','üìÖ\x20SMART\x20SCHEDULE\x20[','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','valve_position','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','devices','6hAVdwm','currentSystemMode','number','thermostat','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','üìÖ\x20[MPC\x20INFO]\x20','888344wHxKth','values','toString','write','Ist','ACTUAL_TEMPERATURE','value.valve','getForeignObjectAsync','analysis.automation.mode','\x20auf\x20','¬∞C\x20(via\x20','join','room','setForeignStateAsync','_date','sort','score','messwert','valve','open','14944293LGBznO','.4.VALVE_STATE','setpoint','config','date','14590igmUAc','r√ºckkehr','manual','off','Pr√§diktion:\x20','analysis.energy.activeEnforcements',')\x20aktiv.\x20Heize\x20auf\x20','current_heating_setpoint','692rRvjOW','¬∞C!\x20(Puffer\x20leer).','type','\x20->\x20','sendToPythonWrapper','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','error','3832136QSKghW','¬∞C\x20->\x20','_calName','Soll','.data.table','event','analysis.automation.lastAction','2079558cluwpZ','length','map','analysis.automation.actionLog','indexOf','¬∞C).\x20Entferne\x20Status.','approved','toLowerCase','default','analysis.energy.warmupTargets'];a1_0x3b83=function(){return _0x4c4795;};return a1_0x3b83();}async function monitorEnforcements(_0x34bd00){const _0x2b044f=a1_0x550909;try{const _0x323d04=_0x2b044f(0xdd),_0x26706a=await _0x34bd00['getStateAsync'](_0x323d04);if(!_0x26706a||!_0x26706a['val'])return;let _0x169592=[];try{_0x169592=JSON[_0x2b044f(0x104)](_0x26706a[_0x2b044f(0x140)]);}catch(_0x5ef7d2){return;}if(!Array[_0x2b044f(0x15c)](_0x169592)||_0x169592[_0x2b044f(0xf0)]===0x0)return;const _0x469134=Date[_0x2b044f(0x172)](),_0x1cacec=_0x34bd00['config'][_0x2b044f(0x17d)]||[];let _0x35d216=![];for(let _0x3c4f9b=_0x169592[_0x2b044f(0xf0)]-0x1;_0x3c4f9b>=0x0;_0x3c4f9b--){const _0x5cb48a=_0x169592[_0x3c4f9b];if(_0x469134>=_0x5cb48a[_0x2b044f(0xfb)]){_0x34bd00[_0x2b044f(0x134)][_0x2b044f(0x14e)](_0x2b044f(0xe5)+_0x5cb48a['room']+_0x2b044f(0x182)),_0x169592[_0x2b044f(0x144)](_0x3c4f9b,0x1),_0x35d216=!![];continue;}const _0x2a1328=_0x1cacec[_0x2b044f(0x173)](_0x572fe7=>normalize(_0x572fe7['location'])===normalize(_0x5cb48a[_0x2b044f(0xcb)])&&(_0x572fe7[_0x2b044f(0xe2)]===_0x2b044f(0xfe)||_0x572fe7[_0x2b044f(0xe2)]===_0x2b044f(0x181)));if(_0x2a1328){const _0x51864e=await findRelatedId(_0x34bd00,_0x2a1328['id'],_0x2b044f(0xd5));if(_0x51864e){const _0x2ecc02=await _0x34bd00[_0x2b044f(0x14b)](_0x51864e);_0x2ecc02&&typeof _0x2ecc02[_0x2b044f(0x140)]==='number'&&(_0x2ecc02[_0x2b044f(0x140)]<0xf&&(_0x34bd00['log'][_0x2b044f(0x174)]('üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x5cb48a[_0x2b044f(0xcb)]+_0x2b044f(0xc8)+_0x2ecc02[_0x2b044f(0x140)]+_0x2b044f(0x17a)+_0x5cb48a[_0x2b044f(0x148)]+_0x2b044f(0x163)),await _0x34bd00['setForeignStateAsync'](_0x51864e,_0x5cb48a[_0x2b044f(0x148)]),await logAutomationAction(_0x34bd00,_0x2b044f(0x13f)+_0x5cb48a[_0x2b044f(0xcb)]+':\x20'+_0x2ecc02['val']+_0x2b044f(0xe9)+_0x5cb48a['target']+_0x2b044f(0x155))));}}}_0x35d216&&await _0x34bd00[_0x2b044f(0x167)](_0x323d04,{'val':JSON[_0x2b044f(0x110)](_0x169592),'ack':!![]});}catch(_0x28faf8){_0x34bd00['log'][_0x2b044f(0xe7)](_0x2b044f(0x11c)+_0x28faf8[_0x2b044f(0x14f)]);}}async function checkCalendarTriggers(_0x3262c7){const _0x34c1c8=a1_0x550909;if(!_0x3262c7[_0x34c1c8(0xd6)][_0x34c1c8(0x177)]||!_0x3262c7[_0x34c1c8(0xd6)]['calendarInstance'])return;await updateSchedulePreview(_0x3262c7);let _0x347e51={},_0x33b679={};try{const _0x54a169=await _0x3262c7[_0x34c1c8(0xf9)](_0x34c1c8(0x13c));if(_0x54a169&&_0x54a169['val'])_0x347e51=JSON['parse'](_0x54a169[_0x34c1c8(0x140)]);const _0x5ababa=await _0x3262c7[_0x34c1c8(0xf9)](_0x34c1c8(0x146));if(_0x5ababa&&_0x5ababa[_0x34c1c8(0x140)])_0x33b679=JSON[_0x34c1c8(0x104)](_0x5ababa[_0x34c1c8(0x140)]);}catch(_0x264585){}let _0x27b289={'default':0x15};try{const _0x370677=await _0x3262c7['getStateAsync'](_0x34c1c8(0xf8));if(_0x370677&&_0x370677[_0x34c1c8(0x140)])_0x27b289=JSON[_0x34c1c8(0x104)](_0x370677[_0x34c1c8(0x140)]);}catch(_0x1faf35){}let _0x18ffeb=[];try{const _0x5719b0=await _0x3262c7[_0x34c1c8(0xf9)](_0x34c1c8(0xdd));if(_0x5719b0&&_0x5719b0[_0x34c1c8(0x140)])_0x18ffeb=JSON[_0x34c1c8(0x104)](_0x5719b0[_0x34c1c8(0x140)]);}catch(_0xf71842){}try{const _0x18bd2e=await _0x3262c7[_0x34c1c8(0x14b)](_0x3262c7[_0x34c1c8(0xd6)][_0x34c1c8(0x113)]+_0x34c1c8(0xec));if(!_0x18bd2e||!_0x18bd2e['val'])return;const _0x27da8a=JSON[_0x34c1c8(0x104)](_0x18bd2e['val']),_0x3d8e5e=Date['now'](),_0x572fe6=_0x3262c7['config']['devices']||[],_0x5a341=_0x3262c7[_0x34c1c8(0xd6)]['calendarSelection']||[];let _0x5ca563=![];for(const _0x4e285f of _0x27da8a){if(_0x4e285f[_0x34c1c8(0xea)]&&_0x5a341[_0x34c1c8(0xf0)]>0x0&&!_0x5a341[_0x34c1c8(0xfa)](_0x4e285f[_0x34c1c8(0xea)]))continue;const _0x595d25=_0x4e285f[_0x34c1c8(0xcd)]||_0x4e285f['eventStart']||_0x4e285f['date'];if(!_0x595d25)continue;const _0x332e90=new Date(_0x595d25);if(isNaN(_0x332e90[_0x34c1c8(0x117)]()))continue;const _0x5c15ed=(_0x4e285f[_0x34c1c8(0xed)]||_0x4e285f[_0x34c1c8(0x119)]||'')[_0x34c1c8(0xf6)]();if(_0x5c15ed[_0x34c1c8(0xfa)](_0x34c1c8(0x154))||_0x5c15ed['includes'](_0x34c1c8(0xd9))||_0x5c15ed['includes']('ankunft')){let _0x1a0abf=0x0;Object[_0x34c1c8(0xc0)](_0x347e51)[_0x34c1c8(0x16c)](_0x3d41a6=>{if(_0x3d41a6>_0x1a0abf)_0x1a0abf=_0x3d41a6;});if(_0x1a0abf===0x0)_0x1a0abf=0x78;const _0x1a9428=_0x332e90[_0x34c1c8(0x117)]()-_0x1a0abf*0xea60;_0x3d8e5e>=_0x1a9428&&_0x3d8e5e<_0x332e90[_0x34c1c8(0x117)]()&&(_0x3262c7[_0x34c1c8(0x17f)]!=='normal'&&(_0x3262c7['log'][_0x34c1c8(0x14e)](_0x34c1c8(0x143)+_0x1a0abf+_0x34c1c8(0x149)),await _0x3262c7[_0x34c1c8(0x167)](_0x34c1c8(0x126),{'val':_0x34c1c8(0x135),'ack':![]})));}for(const _0x570fe2 of _0x572fe6){if(_0x570fe2[_0x34c1c8(0x102)]){const _0x43a9fa=_0x570fe2[_0x34c1c8(0x102)][_0x34c1c8(0xf6)](),_0x4ee647=(_0x570fe2[_0x34c1c8(0x11b)]||'')[_0x34c1c8(0xf6)]();let _0x1244e9=_0x5c15ed[_0x34c1c8(0xfa)](_0x43a9fa);!_0x1244e9&&_0x4ee647[_0x34c1c8(0xf0)]>0x3&&_0x5c15ed[_0x34c1c8(0xfa)](_0x4ee647)&&(_0x1244e9=!![]);if(_0x1244e9){const _0x54c8df=getWarmupRobust(_0x347e51,_0x570fe2[_0x34c1c8(0x102)]),_0x3efc71=_0x33b679[_0x570fe2['location']]||_0x34c1c8(0x123),_0x5599c5=_0x332e90[_0x34c1c8(0x117)]()-_0x54c8df*0xea60;if(_0x3d8e5e>=_0x5599c5&&_0x3d8e5e<_0x332e90['getTime']()){const _0x1ff79b=lastActions[_0x34c1c8(0x14a)+_0x570fe2[_0x34c1c8(0x102)]];if(_0x1ff79b&&_0x3d8e5e-_0x1ff79b<CAL_COOLDOWN_MS)continue;const _0x14c3f5=await findRelatedId(_0x3262c7,_0x570fe2['id'],'setpoint');if(_0x14c3f5){let _0x98dd7e=_0x27b289[_0x570fe2[_0x34c1c8(0x102)]];if(_0x98dd7e===undefined)_0x98dd7e=_0x27b289[_0x34c1c8(0xf7)];if(_0x98dd7e===undefined)_0x98dd7e=0x15;const _0x8cfd82=await _0x3262c7['getForeignStateAsync'](_0x14c3f5);if(_0x8cfd82&&typeof _0x8cfd82[_0x34c1c8(0x140)]===_0x34c1c8(0x180)&&_0x8cfd82[_0x34c1c8(0x140)]<_0x98dd7e-0.5){_0x3262c7['log'][_0x34c1c8(0x14e)](_0x34c1c8(0x179)+_0x3efc71+_0x34c1c8(0x12d)+_0x570fe2['location']+'\x27\x20(Match:\x20'+_0x5c15ed+_0x34c1c8(0xde)+_0x98dd7e+_0x34c1c8(0x114)+_0x54c8df+'\x20min).'),await _0x3262c7[_0x34c1c8(0xcc)](_0x14c3f5,_0x98dd7e),await logAutomationAction(_0x3262c7,_0x34c1c8(0x12b)+_0x570fe2[_0x34c1c8(0x102)]+_0x34c1c8(0xe3)+_0x98dd7e+_0x34c1c8(0xc9)+_0x3efc71+')'),lastActions[_0x34c1c8(0x14a)+_0x570fe2[_0x34c1c8(0x102)]]=_0x3d8e5e;const _0x53736a=_0x18ffeb['findIndex'](_0x531cd0=>_0x531cd0[_0x34c1c8(0xcb)]===_0x570fe2[_0x34c1c8(0x102)]);if(_0x53736a!==-0x1)_0x18ffeb[_0x34c1c8(0x144)](_0x53736a,0x1);_0x18ffeb[_0x34c1c8(0x11f)]({'room':_0x570fe2[_0x34c1c8(0x102)],'target':_0x98dd7e,'until':_0x332e90[_0x34c1c8(0x117)]()}),_0x5ca563=!![];}}}}}}}_0x5ca563&&await _0x3262c7['setStateAsync'](_0x34c1c8(0xdd),{'val':JSON[_0x34c1c8(0x110)](_0x18ffeb),'ack':!![]});}catch(_0x27452e){_0x3262c7[_0x34c1c8(0x134)][_0x34c1c8(0x174)](_0x34c1c8(0x136)+_0x27452e['message']);}}async function manageMpcIntervention(_0x3eabfa,_0x2e19de,_0x488726){const _0x41f3ab=a1_0x550909;try{const _0x14b71a=_0x41f3ab(0x128),_0x5af1e1=await _0x3eabfa[_0x41f3ab(0xf9)](_0x14b71a);let _0xa15660=[];if(_0x5af1e1&&_0x5af1e1['val'])try{_0xa15660=JSON[_0x41f3ab(0x104)](_0x5af1e1[_0x41f3ab(0x140)]);}catch(_0x502a78){}const _0x14a828=_0xa15660[_0x41f3ab(0xf3)](_0x2e19de);if(_0x488726===_0x41f3ab(0xfd))_0x14a828===-0x1&&(_0xa15660['push'](_0x2e19de),await _0x3eabfa['setStateAsync'](_0x14b71a,{'val':JSON[_0x41f3ab(0x110)](_0xa15660),'ack':!![]}));else _0x488726===_0x41f3ab(0x158)&&(_0x14a828!==-0x1&&(_0xa15660[_0x41f3ab(0x144)](_0x14a828,0x1),await _0x3eabfa['setStateAsync'](_0x14b71a,{'val':JSON[_0x41f3ab(0x110)](_0xa15660),'ack':!![]})));}catch(_0xfd30a1){}}async function cleanupGhostInterventions(_0x44d4af){const _0x111cf0=a1_0x550909;try{const _0x38ddfa='analysis.energy.mpcActiveInterventions',_0x20258f=await _0x44d4af['getStateAsync'](_0x38ddfa);if(!_0x20258f||!_0x20258f[_0x111cf0(0x140)])return;const _0x6204c7=JSON[_0x111cf0(0x104)](_0x20258f[_0x111cf0(0x140)]);if(!Array[_0x111cf0(0x15c)](_0x6204c7)||_0x6204c7[_0x111cf0(0xf0)]===0x0)return;let _0x4793ff={'default':0x15};try{const _0x3012b5=await _0x44d4af[_0x111cf0(0xf9)](_0x111cf0(0xf8));if(_0x3012b5&&_0x3012b5[_0x111cf0(0x140)])_0x4793ff=JSON[_0x111cf0(0x104)](_0x3012b5['val']);}catch(_0x1700dd){}let _0xece0c0=[];try{const _0x523393=await _0x44d4af[_0x111cf0(0xf9)](_0x111cf0(0x145));if(_0x523393&&_0x523393[_0x111cf0(0x140)])_0xece0c0=JSON['parse'](_0x523393['val']);}catch(_0xfed532){}let _0x17a796={},_0x49e82c=![];try{const _0x2ffb8c=await _0x44d4af['getStateAsync'](_0x111cf0(0x159));if(_0x2ffb8c&&_0x2ffb8c['val'])_0x17a796=JSON[_0x111cf0(0x104)](_0x2ffb8c[_0x111cf0(0x140)]);}catch(_0x9ecb10){}if(_0x17a796['_meta']){const _0x1e2acb=Date['now']();for(const [_0x107ad7,_0x5b127b]of Object[_0x111cf0(0x10e)](_0x17a796['_meta'])){_0x1e2acb-_0x5b127b>PENALTY_TTL&&(delete _0x17a796[_0x107ad7],delete _0x17a796[_0x111cf0(0x165)][_0x107ad7],_0x49e82c=!![],_0x44d4af[_0x111cf0(0x134)]['info'](_0x111cf0(0x139)+_0x107ad7+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x39f38e=_0x44d4af[_0x111cf0(0xd6)][_0x111cf0(0x17d)]||[];let _0x57b510=![];for(let _0x4b7ff2=_0x6204c7['length']-0x1;_0x4b7ff2>=0x0;_0x4b7ff2--){const _0x353b2f=_0x6204c7[_0x4b7ff2],_0x1f8f1a=_0x39f38e[_0x111cf0(0x173)](_0xbefc=>normalize(_0xbefc[_0x111cf0(0x102)])===normalize(_0x353b2f)&&(_0xbefc[_0x111cf0(0xe2)]==='temperature'||_0xbefc['type']===_0x111cf0(0x181)));if(!_0x1f8f1a){_0x44d4af[_0x111cf0(0x134)]['warn'](_0x111cf0(0x162)+_0x353b2f+_0x111cf0(0x12a)),_0x6204c7['splice'](_0x4b7ff2,0x1),_0x57b510=!![];continue;}if(_0x1f8f1a){const _0xb487f1=await findRelatedId(_0x44d4af,_0x1f8f1a['id'],_0x111cf0(0xd5)),_0xa2534d=await _0x44d4af[_0x111cf0(0x14b)](_0x1f8f1a['id']);if(_0xb487f1){const _0x2e84a5=await _0x44d4af[_0x111cf0(0x14b)](_0xb487f1);if(_0x2e84a5&&typeof _0x2e84a5['val']==='number'){let _0x51671b=![],_0x1aa36f='';Math[_0x111cf0(0x108)](_0x2e84a5[_0x111cf0(0x140)]-ECO_TEMP)>0.5&&(_0x51671b=!![],_0x1aa36f='manual');if(!_0x51671b&&_0xa2534d&&typeof _0xa2534d['val']===_0x111cf0(0x180)){const _0x21bcda=_0x4793ff[_0x353b2f]||_0x4793ff[_0x111cf0(0xf7)]||0x15;_0xa2534d['val']<_0x21bcda+0.2&&(_0x51671b=!![],_0x1aa36f='too_cold');}if(_0x51671b){if(_0x1aa36f===_0x111cf0(0xda)){_0x44d4af[_0x111cf0(0x134)]['info'](_0x111cf0(0x124)+_0x353b2f+'\x20ist\x20auf\x20'+_0x2e84a5[_0x111cf0(0x140)]+_0x111cf0(0x14d)+ECO_TEMP+_0x111cf0(0xf4));const _0x8a887=lastActions[_0x111cf0(0x14a)+_0x353b2f],_0x41f28d=_0x8a887&&Date[_0x111cf0(0x172)]()-_0x8a887<0x2*0x3c*0x3e8;if(!_0x41f28d&&_0x2e84a5[_0x111cf0(0x140)]>ECO_TEMP+0.5){_0x44d4af['sendToPythonWrapper']&&(_0x44d4af[_0x111cf0(0x134)]['info'](_0x111cf0(0x125)+_0x353b2f+_0x111cf0(0x10a)),_0x44d4af[_0x111cf0(0xe4)]('TRAIN_RL_PENALTY',{'room':_0x353b2f}));const _0x5d578d=_0x353b2f+'_'+new Date()[_0x111cf0(0x127)]();if(!_0x17a796[_0x5d578d]){_0x17a796[_0x5d578d]=0x1;if(!_0x17a796[_0x111cf0(0x165)])_0x17a796[_0x111cf0(0x165)]={};_0x17a796[_0x111cf0(0x165)][_0x5d578d]=Date[_0x111cf0(0x172)](),_0x49e82c=!![];}}else _0x41f28d&&_0x44d4af['log'][_0x111cf0(0x14e)](_0x111cf0(0x183)+_0x353b2f+_0x111cf0(0x16e));}else{if(_0x1aa36f===_0x111cf0(0x153)){let _0x241561=![];if(_0xece0c0[_0x111cf0(0x173)](_0x709996=>_0x709996['room']===_0x353b2f))_0x241561=!![];const _0x25a978=_0x39f38e[_0x111cf0(0x131)](_0x2106ac=>normalize(_0x2106ac['location'])===normalize(_0x353b2f)&&(_0x2106ac[_0x111cf0(0xe2)]===_0x111cf0(0x106)||_0x2106ac[_0x111cf0(0xe2)]==='sensor'||_0x2106ac[_0x111cf0(0xe2)]===_0x111cf0(0x122)));for(const _0x3d5448 of _0x25a978){try{const _0x794a9d=await _0x44d4af[_0x111cf0(0x14b)](_0x3d5448['id']);if(_0x794a9d&&(_0x794a9d['val']===!![]||_0x794a9d[_0x111cf0(0x140)]===0x1||String(_0x794a9d[_0x111cf0(0x140)])[_0x111cf0(0xf6)]()===_0x111cf0(0xd2)))_0x241561=!![];}catch(_0x5bb41e){}}if(_0x241561)_0x44d4af[_0x111cf0(0x134)]['info'](_0x111cf0(0x15a)+_0x353b2f+_0x111cf0(0xe6));else{const _0x34b52c=_0x4793ff[_0x353b2f]||_0x4793ff[_0x111cf0(0xf7)]||0x15;_0x44d4af['log']['info'](_0x111cf0(0x130)+_0x353b2f+_0x111cf0(0x15e)+_0xa2534d[_0x111cf0(0x140)]+'¬∞C\x20<\x20'+(_0x34b52c+0.2)+_0x111cf0(0x147)),await _0x44d4af[_0x111cf0(0xcc)](_0xb487f1,_0x34b52c),await logAutomationAction(_0x44d4af,_0x111cf0(0x11a)+_0x353b2f+_0x111cf0(0x170)+_0x34b52c+'¬∞C'),lastActions[_0x111cf0(0x15d)+_0x353b2f]=Date[_0x111cf0(0x172)]();}}}_0x6204c7[_0x111cf0(0x144)](_0x4b7ff2,0x1),_0x57b510=!![];}}}}}_0x57b510&&await _0x44d4af[_0x111cf0(0x167)](_0x38ddfa,{'val':JSON[_0x111cf0(0x110)](_0x6204c7),'ack':!![]}),_0x49e82c&&await _0x44d4af['setStateAsync'](_0x111cf0(0x159),{'val':JSON['stringify'](_0x17a796),'ack':!![]});}catch(_0x53e85a){}}async function applyEnergySavings(_0x422062,_0x18f8cb){const _0x3e5567=a1_0x550909;await cleanupGhostInterventions(_0x422062);if(!_0x18f8cb||_0x18f8cb[_0x3e5567(0xf0)]===0x0)return;const _0x3871cb=_0x422062[_0x3e5567(0xd6)][_0x3e5567(0x17d)]||[],_0x34b835=Date[_0x3e5567(0x172)]();for(const _0x52c949 of _0x18f8cb){const _0x341f47=_0x52c949[_0x3e5567(0xcb)],_0x4aa92b=_0x52c949[_0x3e5567(0x178)],_0x19c577=_0x52c949[_0x3e5567(0x148)]||0x15;if(lastActions['rescue_'+_0x341f47]&&_0x34b835-lastActions[_0x3e5567(0x15d)+_0x341f47]<RESCUE_LOCK_MS)continue;const _0x154e0c=_0x3871cb[_0x3e5567(0x173)](_0x13712c=>normalize(_0x13712c[_0x3e5567(0x102)])===normalize(_0x341f47)&&(_0x13712c[_0x3e5567(0xe2)]===_0x3e5567(0xfe)||_0x13712c[_0x3e5567(0xe2)]===_0x3e5567(0x181)));if(!_0x154e0c)continue;const _0x488f29=await findRelatedId(_0x422062,_0x154e0c['id'],_0x3e5567(0xd5));if(_0x488f29){if(lastActions['mpc_'+_0x341f47]&&_0x34b835-lastActions[_0x3e5567(0x109)+_0x341f47]<0x1e*0x3c*0x3e8)continue;const _0x2eb87c=await _0x422062[_0x3e5567(0x14b)](_0x488f29);if(_0x2eb87c&&typeof _0x2eb87c[_0x3e5567(0x140)]===_0x3e5567(0x180)){const _0x3ef582=_0x2eb87c['val'];_0x3ef582!==ECO_TEMP&&await manageMpcIntervention(_0x422062,_0x341f47,_0x3e5567(0x158));if(_0x4aa92b>0x1e)_0x3ef582>ECO_TEMP+0.5&&(_0x422062[_0x3e5567(0x134)][_0x3e5567(0x14e)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x341f47+_0x3e5567(0xc8)+ECO_TEMP+'¬∞C!\x20(Puffer:\x20'+_0x4aa92b+_0x3e5567(0x116)),await _0x422062[_0x3e5567(0xcc)](_0x488f29,ECO_TEMP),await manageMpcIntervention(_0x422062,_0x341f47,_0x3e5567(0xfd)),lastActions[_0x3e5567(0x109)+_0x341f47]=_0x34b835,await logAutomationAction(_0x422062,_0x3e5567(0x10d)+_0x341f47+_0x3e5567(0x160)+ECO_TEMP+'¬∞C'));else _0x4aa92b<=0xf&&(_0x3ef582<_0x19c577&&(_0x422062[_0x3e5567(0x134)]['info'](_0x3e5567(0x157)+_0x341f47+'\x20wieder\x20auf\x20'+_0x19c577+_0x3e5567(0xe1)),await _0x422062[_0x3e5567(0xcc)](_0x488f29,_0x19c577),await manageMpcIntervention(_0x422062,_0x341f47,_0x3e5567(0x158)),lastActions[_0x3e5567(0x109)+_0x341f47]=_0x34b835,await logAutomationAction(_0x422062,_0x3e5567(0x10d)+_0x341f47+_0x3e5567(0x142)+_0x19c577+'¬∞C')));}}else _0x422062['log'][_0x3e5567(0x174)](_0x3e5567(0x17c)+_0x341f47+'\x20gefunden!');}}module[a1_0x550909(0x12c)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};