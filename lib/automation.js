const a1_0x55d45d=a1_0x5079;(function(_0x51b537,_0xabd8e0){const _0x36921f=a1_0x5079,_0x5e1790=_0x51b537();while(!![]){try{const _0xff6a83=-parseInt(_0x36921f(0x18b))/0x1*(-parseInt(_0x36921f(0x185))/0x2)+parseInt(_0x36921f(0x19e))/0x3+parseInt(_0x36921f(0x174))/0x4*(-parseInt(_0x36921f(0x19a))/0x5)+-parseInt(_0x36921f(0x192))/0x6*(-parseInt(_0x36921f(0x178))/0x7)+parseInt(_0x36921f(0x179))/0x8*(parseInt(_0x36921f(0x1a3))/0x9)+parseInt(_0x36921f(0x186))/0xa*(parseInt(_0x36921f(0x18c))/0xb)+-parseInt(_0x36921f(0x197))/0xc;if(_0xff6a83===_0xabd8e0)break;else _0x5e1790['push'](_0x5e1790['shift']());}catch(_0x4a130b){_0x5e1790['push'](_0x5e1790['shift']());}}}(a1_0xe0e6,0x8526d));const a1_0x406065=(function(){let _0x55a03e=!![];return function(_0x1b48ec,_0x2a322e){const _0x58c179=_0x55a03e?function(){const _0x4272c2=a1_0x5079;if(_0x2a322e){const _0x58e0ef=_0x2a322e[_0x4272c2(0x196)](_0x1b48ec,arguments);return _0x2a322e=null,_0x58e0ef;}}:function(){};return _0x55a03e=![],_0x58c179;};}()),a1_0x4f8e4a=a1_0x406065(this,function(){const _0x10c264=a1_0x5079;return a1_0x4f8e4a[_0x10c264(0x17a)]()[_0x10c264(0x199)](_0x10c264(0x1a0))[_0x10c264(0x17a)]()[_0x10c264(0x189)](a1_0x4f8e4a)[_0x10c264(0x199)](_0x10c264(0x1a0));});a1_0x4f8e4a();function a1_0x5079(_0x5638c2,_0x368111){const _0x6013e1=a1_0xe0e6();return a1_0x5079=function(_0x4f8e4a,_0x406065){_0x4f8e4a=_0x4f8e4a-0x174;let _0xe0e62e=_0x6013e1[_0x4f8e4a];return _0xe0e62e;},a1_0x5079(_0x5638c2,_0x368111);}'use strict';const aiAgent=require(a1_0x55d45d(0x18a)),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function a1_0xe0e6(){const _0x294411=['consultButler','toUpperCase','exports','13307npIASr','760BJwwBB','toString','switch','devices','getStateAsync','log','name','light','ðŸ¤–\x20Butler\x20Blocked:\x20','ðŸ¤–\x20Automation:\x20WÃ¼rde\x20','\x20->\x20','type','4iwcQnR','10KjTqbG','info','reason','constructor','./ai_agent','110479CKvDBW','5222459SvCjsy','âš¡\x20ACTION:\x20','analysis.automation.lastAction','off','config','\x20->\x20Schalte\x20','1692AFDsND','analysis.automation.mode','PrÃ¤diktion:\x20','now','apply','22245552XhheMe','dimmer','search','15tCbwhp','debug','setStateAsync','Unknown','1648215sIGkuy','[BLOCKED]\x20','(((.+)+)+)+$','val','ðŸ‘€\x20SIMULATION:\x20','75078YrOdJs','232692DzLgXi'];a1_0xe0e6=function(){return _0x294411;};return a1_0xe0e6();}async function handlePrediction(_0x46a2c6,_0xcc0688,_0x28d2c8){const _0x47012f=a1_0x55d45d;if(!_0xcc0688||_0xcc0688===_0x47012f(0x19d))return;let _0x196642=_0x47012f(0x18f),_0x4f08aa=0.6;try{const _0x14ae02=await _0x46a2c6[_0x47012f(0x17d)](_0x47012f(0x193));if(_0x14ae02&&_0x14ae02['val'])_0x196642=_0x14ae02[_0x47012f(0x1a1)];const _0x43f23a=await _0x46a2c6[_0x47012f(0x17d)]('analysis.automation.confidenceThreshold');if(_0x43f23a&&_0x43f23a[_0x47012f(0x1a1)])_0x4f08aa=_0x43f23a[_0x47012f(0x1a1)];}catch(_0x4eb8b9){}if(_0x196642===_0x47012f(0x18f))return;if(_0x28d2c8<_0x4f08aa)return;const _0x1f7365=Date[_0x47012f(0x195)]();if(lastActions[_0xcc0688]&&_0x1f7365-lastActions[_0xcc0688]<COOLDOWN_MS)return;const _0x787c01=_0x46a2c6[_0x47012f(0x190)][_0x47012f(0x17c)]||[],_0x1bcb1c=_0x787c01['find'](_0x360607=>_0x360607['location']===_0xcc0688&&(_0x360607[_0x47012f(0x184)]===_0x47012f(0x180)||_0x360607['type']===_0x47012f(0x198)||_0x360607[_0x47012f(0x184)]===_0x47012f(0x17b)));if(!_0x1bcb1c){_0x46a2c6[_0x47012f(0x17e)][_0x47012f(0x19b)](_0x47012f(0x182)+_0xcc0688+'\x20schalten,\x20aber\x20kein\x20Licht-GerÃ¤t\x20dort\x20gefunden.');return;}const _0x188fc4=await aiAgent[_0x47012f(0x175)](_0x46a2c6,_0xcc0688,_0x1bcb1c[_0x47012f(0x17f)],_0x28d2c8);if(!_0x188fc4['approved']){_0x46a2c6['log'][_0x47012f(0x19b)](_0x47012f(0x181)+_0xcc0688+_0x47012f(0x183)+_0x188fc4[_0x47012f(0x188)]),await _0x46a2c6[_0x47012f(0x19c)](_0x47012f(0x18e),{'val':_0x47012f(0x19f)+_0x188fc4[_0x47012f(0x188)],'ack':!![]});return;}const _0x38fabd=_0x47012f(0x194)+_0xcc0688+_0x47012f(0x191)+_0x1bcb1c[_0x47012f(0x17f)]+'\x20('+_0x188fc4['reason']+')';await _0x46a2c6[_0x47012f(0x19c)]('analysis.automation.lastAction',{'val':'['+_0x196642[_0x47012f(0x176)]()+']\x20'+_0x38fabd,'ack':!![]});if(_0x196642==='simulate')_0x46a2c6[_0x47012f(0x17e)][_0x47012f(0x187)](_0x47012f(0x1a2)+_0x38fabd);else{if(_0x196642==='active'){_0x46a2c6[_0x47012f(0x17e)][_0x47012f(0x187)](_0x47012f(0x18d)+_0x38fabd);const _0x1b46d3=await _0x46a2c6['getForeignStateAsync'](_0x1bcb1c['id']);if(_0x1b46d3&&(_0x1b46d3['val']===!![]||_0x1b46d3[_0x47012f(0x1a1)]>0x0)){}else await _0x46a2c6['setForeignStateAsync'](_0x1bcb1c['id'],!![]);lastActions[_0xcc0688]=_0x1f7365;}}}module[a1_0x55d45d(0x177)]={'handlePrediction':handlePrediction};