(function(_0x339633,_0x1cbe93){const _0x19e834=a1_0x1b3b,_0x3bbc1c=_0x339633();while(!![]){try{const _0x3a42c7=-parseInt(_0x19e834(0xf4))/0x1+parseInt(_0x19e834(0xca))/0x2*(-parseInt(_0x19e834(0xe6))/0x3)+parseInt(_0x19e834(0xcf))/0x4+parseInt(_0x19e834(0xcb))/0x5+-parseInt(_0x19e834(0xdd))/0x6+parseInt(_0x19e834(0xd6))/0x7+-parseInt(_0x19e834(0xe8))/0x8*(-parseInt(_0x19e834(0xe2))/0x9);if(_0x3a42c7===_0x1cbe93)break;else _0x3bbc1c['push'](_0x3bbc1c['shift']());}catch(_0x43ee64){_0x3bbc1c['push'](_0x3bbc1c['shift']());}}}(a1_0x2604,0xdbf72));const a1_0xc4540=(function(){let _0xe33bb9=!![];return function(_0x222c0a,_0x3a9f20){const _0x3114b4=_0xe33bb9?function(){if(_0x3a9f20){const _0x499cc7=_0x3a9f20['apply'](_0x222c0a,arguments);return _0x3a9f20=null,_0x499cc7;}}:function(){};return _0xe33bb9=![],_0x3114b4;};}()),a1_0x5f1dd0=a1_0xc4540(this,function(){const _0x10b002=a1_0x1b3b;return a1_0x5f1dd0[_0x10b002(0xd4)]()[_0x10b002(0xe0)](_0x10b002(0xcc))['toString']()[_0x10b002(0xe5)](a1_0x5f1dd0)['search'](_0x10b002(0xcc));});a1_0x5f1dd0();'use strict';function a1_0x2604(){const _0x1f9fe0=['setForeignStateAsync','\x20->\x20','search','location','9mvCoMG','ðŸ”\x20Device-Search\x20failed:\x20Predicted\x20\x27','\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.','constructor','802110ZfjMMu','log','16133896nQSytX','analysis.automation.lastAction','setStateAsync','getStateAsync','simulate','analysis.automation.confidenceThreshold','analysis.automation.mode','light','\x20->\x20Schalte\x20','reason','debug','ðŸ‘€\x20SIMULATION:\x20','1504166HSwdcx','ðŸ¤–\x20Butler\x20Blocked:\x20','replace','info','val','[BLOCKED]\x20','getForeignStateAsync','6CjNVcs','6962130jpyfVe','(((.+)+)+)+$','find','name','2103612VBnNaK','type','now','switch','toLowerCase','toString','active','4387096rBTLkf','âš¡\x20ACTION:\x20','config','trim','approved','devices','PrÃ¤diktion:\x20','8127240paitev'];a1_0x2604=function(){return _0x1f9fe0;};return a1_0x2604();}const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function a1_0x1b3b(_0x2be6f8,_0x160fe1){const _0x469fc2=a1_0x2604();return a1_0x1b3b=function(_0x5f1dd0,_0xc4540){_0x5f1dd0=_0x5f1dd0-0xc7;let _0x2604a0=_0x469fc2[_0x5f1dd0];return _0x2604a0;},a1_0x1b3b(_0x2be6f8,_0x160fe1);}function normalize(_0x4526d4){const _0x4796b7=a1_0x1b3b;if(!_0x4526d4)return'';return _0x4526d4[_0x4796b7(0xd3)]()[_0x4796b7(0xf6)](/\s+/g,'')[_0x4796b7(0xd9)]();}async function handlePrediction(_0x5e29f8,_0x401fea,_0xd0634){const _0x3bf69d=a1_0x1b3b;if(!_0x401fea||_0x401fea==='Unknown')return;let _0xffd4f7='off',_0x10480e=0.6;try{const _0x4ab88a=await _0x5e29f8[_0x3bf69d(0xeb)](_0x3bf69d(0xee));if(_0x4ab88a&&_0x4ab88a[_0x3bf69d(0xc7)])_0xffd4f7=_0x4ab88a[_0x3bf69d(0xc7)];const _0x3eca44=await _0x5e29f8[_0x3bf69d(0xeb)](_0x3bf69d(0xed));if(_0x3eca44&&_0x3eca44['val'])_0x10480e=_0x3eca44['val'];}catch(_0x2e4dc0){}if(_0xffd4f7==='off')return;if(_0xd0634<_0x10480e)return;const _0x2933a3=Date[_0x3bf69d(0xd1)]();if(lastActions[_0x401fea]&&_0x2933a3-lastActions[_0x401fea]<COOLDOWN_MS)return;const _0x54c813=_0x5e29f8[_0x3bf69d(0xd8)][_0x3bf69d(0xdb)]||[],_0x36397c=normalize(_0x401fea),_0x54e8e3=_0x54c813[_0x3bf69d(0xcd)](_0x478992=>{const _0x109b90=_0x3bf69d;return normalize(_0x478992[_0x109b90(0xe1)])===_0x36397c&&(_0x478992[_0x109b90(0xd0)]===_0x109b90(0xef)||_0x478992[_0x109b90(0xd0)]==='dimmer'||_0x478992[_0x109b90(0xd0)]===_0x109b90(0xd2));});if(!_0x54e8e3){const _0x3ad84d=_0x3bf69d(0xe3)+_0x401fea+'\x27\x20(norm:\x20\x27'+_0x36397c+_0x3bf69d(0xe4);_0x5e29f8['log'][_0x3bf69d(0xf2)](_0x3ad84d);return;}const _0x413740=await aiAgent['consultButler'](_0x5e29f8,_0x401fea,_0x54e8e3[_0x3bf69d(0xce)],_0xd0634);if(!_0x413740[_0x3bf69d(0xda)]){_0x5e29f8[_0x3bf69d(0xe7)][_0x3bf69d(0xf2)](_0x3bf69d(0xf5)+_0x401fea+_0x3bf69d(0xdf)+_0x413740[_0x3bf69d(0xf1)]),await _0x5e29f8[_0x3bf69d(0xea)](_0x3bf69d(0xe9),{'val':_0x3bf69d(0xc8)+_0x413740[_0x3bf69d(0xf1)],'ack':!![]});return;}const _0x54a43b=_0x3bf69d(0xdc)+_0x401fea+_0x3bf69d(0xf0)+_0x54e8e3['name']+'\x20('+_0x413740[_0x3bf69d(0xf1)]+')';await _0x5e29f8['setStateAsync'](_0x3bf69d(0xe9),{'val':'['+_0xffd4f7['toUpperCase']()+']\x20'+_0x54a43b,'ack':!![]});if(_0xffd4f7===_0x3bf69d(0xec))_0x5e29f8['log'][_0x3bf69d(0xf7)](_0x3bf69d(0xf3)+_0x54a43b);else{if(_0xffd4f7===_0x3bf69d(0xd5)){_0x5e29f8[_0x3bf69d(0xe7)][_0x3bf69d(0xf7)](_0x3bf69d(0xd7)+_0x54a43b);const _0x1ee531=await _0x5e29f8[_0x3bf69d(0xc9)](_0x54e8e3['id']);if(_0x1ee531&&(_0x1ee531[_0x3bf69d(0xc7)]===!![]||_0x1ee531[_0x3bf69d(0xc7)]>0x0)){}else await _0x5e29f8[_0x3bf69d(0xde)](_0x54e8e3['id'],!![]);lastActions[_0x401fea]=_0x2933a3;}}}module['exports']={'handlePrediction':handlePrediction};