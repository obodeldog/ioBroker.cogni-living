function a1_0x1af7(_0x4c4489,_0x276e45){const _0x50688a=a1_0x512c();return a1_0x1af7=function(_0x587fbf,_0x3f36bf){_0x587fbf=_0x587fbf-0x1db;let _0x512c12=_0x50688a[_0x587fbf];return _0x512c12;},a1_0x1af7(_0x4c4489,_0x276e45);}const a1_0x3fe260=a1_0x1af7;(function(_0x3f69b4,_0x547c8d){const _0x54b86f=a1_0x1af7,_0x4da2ff=_0x3f69b4();while(!![]){try{const _0x3ffb3f=parseInt(_0x54b86f(0x1fe))/0x1*(-parseInt(_0x54b86f(0x218))/0x2)+-parseInt(_0x54b86f(0x20b))/0x3+-parseInt(_0x54b86f(0x244))/0x4+-parseInt(_0x54b86f(0x252))/0x5+parseInt(_0x54b86f(0x239))/0x6*(parseInt(_0x54b86f(0x26d))/0x7)+-parseInt(_0x54b86f(0x247))/0x8*(parseInt(_0x54b86f(0x1dd))/0x9)+-parseInt(_0x54b86f(0x256))/0xa*(-parseInt(_0x54b86f(0x284))/0xb);if(_0x3ffb3f===_0x547c8d)break;else _0x4da2ff['push'](_0x4da2ff['shift']());}catch(_0x40df13){_0x4da2ff['push'](_0x4da2ff['shift']());}}}(a1_0x512c,0x42fa2));const a1_0x3f36bf=(function(){let _0x5f4c66=!![];return function(_0x1b846e,_0x2214ae){const _0x29e73a=_0x5f4c66?function(){const _0x511a6a=a1_0x1af7;if(_0x2214ae){const _0x5de0bd=_0x2214ae[_0x511a6a(0x254)](_0x1b846e,arguments);return _0x2214ae=null,_0x5de0bd;}}:function(){};return _0x5f4c66=![],_0x29e73a;};}()),a1_0x587fbf=a1_0x3f36bf(this,function(){const _0x302109=a1_0x1af7;return a1_0x587fbf[_0x302109(0x241)]()[_0x302109(0x1df)]('(((.+)+)+)+$')['toString']()['constructor'](a1_0x587fbf)[_0x302109(0x1df)](_0x302109(0x225));});a1_0x587fbf();'use strict';const aiAgent=require(a1_0x3fe260(0x263)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x1eafa3){const _0xb232c7=a1_0x3fe260;if(!_0x1eafa3)return'';return _0x1eafa3['toLowerCase']()[_0xb232c7(0x1e6)](/\s+/g,'')['trim']();}function getWarmupRobust(_0x4adcc4,_0x541746){const _0x1cce54=a1_0x3fe260;if(!_0x4adcc4||!_0x541746)return 0x3c;if(_0x4adcc4[_0x541746]!==undefined)return _0x4adcc4[_0x541746];const _0x3b13a3=_0x541746[_0x1cce54(0x23d)]()[_0x1cce54(0x1e6)](/Ã¤/g,'ae')[_0x1cce54(0x1e6)](/Ã¶/g,'oe')[_0x1cce54(0x1e6)](/Ã¼/g,'ue')[_0x1cce54(0x1e6)](/ÃŸ/g,'ss')['replace'](/\s+/g,'_')[_0x1cce54(0x1e6)](/[^a-z0-9_]/g,'');if(_0x4adcc4[_0x3b13a3]!==undefined)return _0x4adcc4[_0x3b13a3];return 0x3c;}async function logAutomationAction(_0x208ef5,_0x3a1f47){const _0x179775=a1_0x3fe260;await _0x208ef5['setStateAsync']('analysis.automation.lastAction',{'val':_0x3a1f47,'ack':!![]});try{const _0x56fd04=_0x179775(0x238),_0x350f01=await _0x208ef5[_0x179775(0x22d)](_0x56fd04);let _0x524dbe=[];if(_0x350f01&&_0x350f01[_0x179775(0x28d)])try{_0x524dbe=JSON[_0x179775(0x23f)](_0x350f01[_0x179775(0x28d)]);}catch(_0x4e5420){}_0x524dbe[_0x179775(0x1f3)]({'ts':Date[_0x179775(0x20f)](),'msg':_0x3a1f47});if(_0x524dbe[_0x179775(0x1e3)]>0x32)_0x524dbe=_0x524dbe[_0x179775(0x215)](0x0,0x32);await _0x208ef5[_0x179775(0x1f5)](_0x56fd04,{'val':JSON[_0x179775(0x243)](_0x524dbe),'ack':!![]});}catch(_0x41d04d){}}async function handlePrediction(_0x4061e4,_0x24bc13,_0x123ccb){const _0x4a502a=a1_0x3fe260;if(!_0x24bc13||_0x24bc13===_0x4a502a(0x277))return;let _0xef9b57='off',_0x4c003d=0.6;try{const _0x500751=await _0x4061e4['getStateAsync'](_0x4a502a(0x209));if(_0x500751&&_0x500751[_0x4a502a(0x28d)])_0xef9b57=_0x500751[_0x4a502a(0x28d)];const _0x1e1adf=await _0x4061e4[_0x4a502a(0x22d)](_0x4a502a(0x1f4));if(_0x1e1adf&&_0x1e1adf['val'])_0x4c003d=_0x1e1adf[_0x4a502a(0x28d)];}catch(_0x49cacc){}if(_0xef9b57==='off'||_0x123ccb<_0x4c003d)return;const _0x178d7f=Date[_0x4a502a(0x20f)]();if(lastActions[_0x24bc13]&&_0x178d7f-lastActions[_0x24bc13]<COOLDOWN_MS)return;const _0xb230ca=_0x4061e4[_0x4a502a(0x207)][_0x4a502a(0x1ef)]||[],_0x3e21d3=normalize(_0x24bc13),_0x3a412b=_0xb230ca[_0x4a502a(0x245)](_0x3139d4=>normalize(_0x3139d4[_0x4a502a(0x227)])===_0x3e21d3&&(_0x3139d4[_0x4a502a(0x224)]==='light'||_0x3139d4[_0x4a502a(0x224)]===_0x4a502a(0x28c)||_0x3139d4[_0x4a502a(0x224)]===_0x4a502a(0x297)));if(!_0x3a412b)return;const _0x27d58f=await aiAgent['consultButler'](_0x4061e4,_0x24bc13,_0x3a412b[_0x4a502a(0x265)],_0x123ccb);if(!_0x27d58f[_0x4a502a(0x1ee)])return;const _0x28be36=_0x4a502a(0x20e)+_0x24bc13+_0x4a502a(0x29c)+_0x3a412b[_0x4a502a(0x265)]+'\x20('+_0x27d58f[_0x4a502a(0x226)]+')';await logAutomationAction(_0x4061e4,'['+_0xef9b57['toUpperCase']()+']\x20'+_0x28be36);if(_0xef9b57===_0x4a502a(0x21f)){const _0x5448d8=await _0x4061e4[_0x4a502a(0x237)](_0x3a412b['id']);(!_0x5448d8||!_0x5448d8[_0x4a502a(0x28d)]&&_0x5448d8[_0x4a502a(0x28d)]!==!![])&&await _0x4061e4['setForeignStateAsync'](_0x3a412b['id'],!![]),lastActions[_0x24bc13]=_0x178d7f;}}async function findRelatedId(_0x521257,_0x4b38a2,_0xec5fdf=a1_0x3fe260(0x268)){const _0x13c314=a1_0x3fe260;if(_0xec5fdf===_0x13c314(0x268)&&_0x521257[_0x13c314(0x207)]['thermostatMapping']){let _0x206582=_0x521257[_0x13c314(0x207)][_0x13c314(0x249)];if(typeof _0x206582===_0x13c314(0x1e4))try{_0x206582=JSON['parse'](_0x206582);}catch(_0x247048){}if(_0x206582&&_0x206582[_0x4b38a2])return _0x206582[_0x4b38a2];}if(_0xec5fdf===_0x13c314(0x216)&&_0x521257[_0x13c314(0x207)]['valveMapping']){let _0x4e1a07=_0x521257['config'][_0x13c314(0x251)];if(typeof _0x4e1a07===_0x13c314(0x1e4))try{_0x4e1a07=JSON['parse'](_0x4e1a07);}catch(_0x23ef00){}if(_0x4e1a07&&_0x4e1a07[_0x4b38a2])return _0x4e1a07[_0x4b38a2];}let _0x38c4c0=[];if(_0xec5fdf===_0x13c314(0x268))_0x38c4c0=[{'s':_0x13c314(0x25b),'t':_0x13c314(0x29b)},{'s':'.1.TEMPERATURE','t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x13c314(0x253),'t':_0x13c314(0x22a)},{'s':_0x13c314(0x250),'t':_0x13c314(0x21a)},{'s':'local_temperature','t':_0x13c314(0x242)},{'s':_0x13c314(0x1de),'t':'current_heating_setpoint'},{'s':_0x13c314(0x23e),'t':_0x13c314(0x220)},{'s':_0x13c314(0x219),'t':_0x13c314(0x211)},{'s':_0x13c314(0x232),'t':'Soll'},{'s':_0x13c314(0x23e),'t':_0x13c314(0x268)}];else _0xec5fdf===_0x13c314(0x216)&&(_0x38c4c0=[{'s':_0x13c314(0x25b),'t':'.1.LEVEL'},{'s':_0x13c314(0x253),'t':_0x13c314(0x202)},{'s':_0x13c314(0x253),'t':_0x13c314(0x1f9)},{'s':'local_temperature','t':_0x13c314(0x21d)},{'s':_0x13c314(0x23e),'t':'valve_position'},{'s':_0x13c314(0x23e),'t':'level'}]);for(const _0x2ce242 of _0x38c4c0){if(_0x4b38a2[_0x13c314(0x274)](_0x2ce242['s'])){const _0x4ac837=_0x4b38a2[_0x13c314(0x1e6)](_0x2ce242['s'],_0x2ce242['t']),_0x5a5cc0=await _0x521257[_0x13c314(0x260)](_0x4ac837);if(_0x5a5cc0)return _0x4ac837;}}try{const _0xf2b038=_0x4b38a2['split']('.');if(_0xf2b038['length']>0x2){const _0x353660=_0xf2b038[_0x13c314(0x215)](0x0,-0x1)['join']('.'),_0x2077d0=await _0x521257[_0x13c314(0x20d)](_0x353660+'.*'),_0x2d2e4d=[],_0x29662e=_0x4b38a2[_0x13c314(0x236)](/[._]+/)[_0x13c314(0x27f)](_0x3dd814=>![_0x13c314(0x292),'0',_0x13c314(0x299),_0x13c314(0x1fd),'wert',_0x13c314(0x23e),_0x13c314(0x1fb),_0x13c314(0x266),_0x13c314(0x1ff),_0x13c314(0x1e2)]['includes'](_0x3dd814[_0x13c314(0x23d)]()));for(const [_0x3827d0,_0x130389]of Object[_0x13c314(0x1db)](_0x2077d0)){if(_0x3827d0===_0x4b38a2)continue;if(_0x130389&&_0x130389[_0x13c314(0x233)]){const _0xa26ba0=_0x3827d0[_0x13c314(0x23d)](),_0x486f27=(_0x130389[_0x13c314(0x233)][_0x13c314(0x228)]||'')['toLowerCase'](),_0x45bb1c=(_0x130389[_0x13c314(0x233)]['unit']||'')['toLowerCase']();let _0x1538cc=![];if(_0xec5fdf===_0x13c314(0x268)&&_0x130389[_0x13c314(0x233)][_0x13c314(0x1e5)]===!![])_0x1538cc=_0xa26ba0[_0x13c314(0x274)](_0x13c314(0x1e0))||_0xa26ba0['includes'](_0x13c314(0x24a))||_0xa26ba0['includes']('target')||_0x486f27[_0x13c314(0x274)](_0x13c314(0x1f6))||_0x486f27[_0x13c314(0x274)](_0x13c314(0x294));else _0xec5fdf==='valve'&&(_0x1538cc=_0xa26ba0['includes'](_0x13c314(0x27a))||_0xa26ba0['includes']('valve')||_0xa26ba0[_0x13c314(0x274)](_0x13c314(0x290))||_0xa26ba0[_0x13c314(0x274)]('position')||_0x486f27[_0x13c314(0x274)]('level.valve')||_0x486f27[_0x13c314(0x274)]('value.valve')||_0x45bb1c[_0x13c314(0x274)]('%'));if(_0x1538cc){const _0x491afe=_0x3827d0[_0x13c314(0x236)](/[._]+/)[_0x13c314(0x286)](_0x2ac70d=>_0x2ac70d['toLowerCase']());let _0x50b44c=0x0;_0x29662e[_0x13c314(0x278)](_0x364b05=>{const _0x32e85a=_0x13c314;if(_0x491afe[_0x32e85a(0x274)](_0x364b05[_0x32e85a(0x23d)]()))_0x50b44c++;}),_0x2d2e4d[_0x13c314(0x200)]({'id':_0x3827d0,'score':_0x50b44c});}}}if(_0x2d2e4d[_0x13c314(0x1e3)]>0x0){_0x2d2e4d[_0x13c314(0x257)]((_0x42aa72,_0x284542)=>_0x284542[_0x13c314(0x222)]-_0x42aa72[_0x13c314(0x222)]);if(_0x2d2e4d[0x0][_0x13c314(0x222)]>0x0)return _0x2d2e4d[0x0]['id'];}}}catch(_0x328ed2){}return null;}function a1_0x512c(){const _0x13edb5=['_date','Ist','common','error','analysis.energy.activeEnforcements','split','getForeignStateAsync','analysis.automation.actionLog','6mpCkvA','summary','event','[MPC]\x20','toLowerCase','temperature','parse','date','toString','occupied_heating_setpoint','stringify','976164bfRNaA','find','TRAIN_RL_PENALTY','8tEMpzo','contact','thermostatMapping','soll','\x20->\x20','Auto-Erkennung','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','_meta','abs','ACTUAL_TEMPERATURE','valveMapping','2249990iciNOQ','.1.TEMPERATURE','apply','analysis.energy.rlPenalties','2270ykaKqd','sort','number','ankunft','add','.1.ACTUAL_TEMPERATURE','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','ðŸ“…\x20SMART\x20SCHEDULE\x20[','remove','until','getForeignObjectAsync','getHours','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','./ai_agent','calendarInstance','name','sensor','_calName','setpoint','analysis.energy.ventilationAlerts',']:\x20Raum-Trigger\x20\x27','eventStart','Â°C!\x20(Puffer\x20leer).','3255931tjlMzo','info','values','log','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','getTime','Nicht\x20gefunden','includes','target','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','Unknown','forEach','\x20ist\x20auf\x20','level','exports','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','[WATCHDOG]\x20','[CAL]\x20','filter','message','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','\x20min).','48543WeWkJI','.data.table','map','Â°C.','rescue_','Â°C\x20(nicht\x20',')\x20aktiv.\x20Heize\x20auf\x20','\x20min)','dimmer','val','normal','Fehlt','stellwert','[FORCE]\x20','openknx','\x20gefunden!','thermostat.setpoint','urlaub\x20ende','currentSystemMode','switch','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20','hm-rpc','Â°C\x20(via\x20','.1.SET_POINT_TEMPERATURE','\x20->\x20Schalte\x20','entries','\x27\x20(Match:\x20','276516vljrFF','local_temperature','search','set','triggerTime','state','length','string','write','replace','\x20erreicht\x20Limit\x20(','PERFECT','Manuelles\x20Mapping','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','localeCompare','Unbekannt','splice','approved','devices','analysis.energy.warmupTimes','sendToPythonWrapper','setForeignStateAsync','unshift','analysis.automation.confidenceThreshold','setStateAsync','level.temperature','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','.4.VALVE_STATE','useCalendar','actual','thermostat','ist','1jldkoF','messwert','push','rÃ¼ckkehr','.1.LEVEL','mpc_','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','isArray',':\x20Aufheizen\x20auf\x20','config','warn','analysis.automation.mode','Â°C\x20(Vorlauf:\x20','24939ZTDzIv','analysis.energy.warmupTargets','getForeignObjectsAsync','PrÃ¤diktion:\x20','now','manual','SET','minutes_safe','Â°C).\x20Sparmodus\x20beendet!','open','slice','valve','default','918940apZTMZ','ACTUAL','SET_POINT_TEMPERATURE','room','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','pi_heating_demand','cal_','active','target_temperature','temp','score','Â°C\x20(Kalender-Schutz)','type','(((.+)+)+)+$','reason','location','role','indexOf','.4.SET_TEMPERATURE','calendarSelection','system.mode','getStateAsync','\x20wieder\x20auf\x20','Classic','analysis.energy.warmupSources'];a1_0x512c=function(){return _0x13edb5;};return a1_0x512c();}async function scanThermostats(_0x9254){const _0x203b93=a1_0x3fe260,_0x2e61c1=_0x9254[_0x203b93(0x207)]['devices']||[],_0x5494b6=[],_0x57d4f5=_0x2e61c1[_0x203b93(0x27f)](_0x1685be=>_0x1685be['id']&&_0x1685be['id']['includes'](_0x203b93(0x23e))||_0x1685be[_0x203b93(0x224)]&&[_0x203b93(0x23e),'thermostat',_0x203b93(0x266)]['includes'](_0x1685be[_0x203b93(0x224)])||_0x1685be[_0x203b93(0x265)]&&_0x1685be['name']['toLowerCase']()[_0x203b93(0x274)](_0x203b93(0x221)));for(const _0x121ef1 of _0x57d4f5){const _0x110da4=await findRelatedId(_0x9254,_0x121ef1['id'],'setpoint'),_0x47c2c5=await findRelatedId(_0x9254,_0x121ef1['id'],_0x203b93(0x216));let _0x1a52d2=_0x203b93(0x273),_0x490b64=![],_0x4263a2=_0x9254['config']['thermostatMapping']||{};if(typeof _0x4263a2===_0x203b93(0x1e4))try{_0x4263a2=JSON[_0x203b93(0x23f)](_0x4263a2);}catch(_0x4f1b69){}let _0x2c70b7=_0x9254[_0x203b93(0x207)][_0x203b93(0x251)]||{};if(typeof _0x2c70b7===_0x203b93(0x1e4))try{_0x2c70b7=JSON[_0x203b93(0x23f)](_0x2c70b7);}catch(_0x3ac09b){}if(_0x4263a2[_0x121ef1['id']]&&_0x4263a2[_0x121ef1['id']]===_0x110da4||_0x2c70b7[_0x121ef1['id']]&&_0x2c70b7[_0x121ef1['id']]===_0x47c2c5)_0x1a52d2=_0x203b93(0x1e9),_0x490b64=!![];else(_0x110da4||_0x47c2c5)&&(_0x1a52d2=_0x203b93(0x24c));_0x5494b6[_0x203b93(0x200)]({'room':_0x121ef1[_0x203b93(0x227)]||_0x203b93(0x1ec),'sensorId':_0x121ef1['id'],'setpointId':_0x110da4||'-','valveId':_0x47c2c5||'-','source':_0x1a52d2,'isManual':_0x490b64,'status':_0x110da4&&_0x47c2c5?_0x203b93(0x1e8):_0x110da4?'OK':_0x203b93(0x28f)});}return _0x5494b6[_0x203b93(0x257)]((_0x2b611d,_0x34039b)=>_0x2b611d[_0x203b93(0x21b)][_0x203b93(0x1eb)](_0x34039b[_0x203b93(0x21b)]));}async function updateSchedulePreview(_0xbef73c){const _0x5046e7=a1_0x3fe260;if(!_0xbef73c['config'][_0x5046e7(0x1fa)]||!_0xbef73c[_0x5046e7(0x207)][_0x5046e7(0x264)])return;let _0xa3bbee={};try{const _0x5a2e6f=await _0xbef73c[_0x5046e7(0x22d)](_0x5046e7(0x1f0));if(_0x5a2e6f&&_0x5a2e6f[_0x5046e7(0x28d)])_0xa3bbee=JSON[_0x5046e7(0x23f)](_0x5a2e6f['val']);}catch(_0x853ad){}const _0x3cd67a=[],_0x391b40=Date[_0x5046e7(0x20f)](),_0x56025f=0x30*0x3c*0x3c*0x3e8;try{const _0x4181bc=await _0xbef73c[_0x5046e7(0x237)](_0xbef73c['config'][_0x5046e7(0x264)]+_0x5046e7(0x285));if(!_0x4181bc||!_0x4181bc['val'])return;const _0x21b0c1=JSON['parse'](_0x4181bc[_0x5046e7(0x28d)]),_0xdb3305=_0xbef73c[_0x5046e7(0x207)][_0x5046e7(0x22b)]||[],_0x2a1b39=_0xbef73c[_0x5046e7(0x207)][_0x5046e7(0x1ef)]||[],_0x52a53d=new Set();_0x2a1b39['forEach'](_0x56cc61=>{const _0x248a9a=_0x5046e7;if(_0x56cc61[_0x248a9a(0x227)])_0x52a53d[_0x248a9a(0x25a)](_0x56cc61[_0x248a9a(0x227)]);});for(const _0xd2a2d0 of _0x21b0c1){if(_0xd2a2d0[_0x5046e7(0x267)]&&_0xdb3305[_0x5046e7(0x1e3)]>0x0&&!_0xdb3305[_0x5046e7(0x274)](_0xd2a2d0[_0x5046e7(0x267)]))continue;const _0xb4a353=_0xd2a2d0['_date']||_0xd2a2d0[_0x5046e7(0x26b)]||_0xd2a2d0[_0x5046e7(0x240)];if(!_0xb4a353)continue;const _0x1f3e96=new Date(_0xb4a353),_0x5285e0=_0x1f3e96[_0x5046e7(0x272)]();if(isNaN(_0x5285e0))continue;if(_0x5285e0<_0x391b40)continue;if(_0x5285e0>_0x391b40+_0x56025f)continue;const _0x416c6a=(_0xd2a2d0[_0x5046e7(0x23b)]||_0xd2a2d0[_0x5046e7(0x23a)]||'')['toLowerCase']();let _0x4dd627=![],_0x53a02e=[],_0x130546=_0xd2a2d0[_0x5046e7(0x23b)]||_0xd2a2d0[_0x5046e7(0x23a)]||_0x5046e7(0x1ec);if(_0x416c6a[_0x5046e7(0x274)](_0x5046e7(0x295))||_0x416c6a[_0x5046e7(0x274)](_0x5046e7(0x201))||_0x416c6a[_0x5046e7(0x274)](_0x5046e7(0x259)))_0x4dd627=!![],_0x53a02e=Array['from'](_0x52a53d);else for(const _0x36414c of _0x52a53d){if(_0x416c6a[_0x5046e7(0x274)](_0x36414c[_0x5046e7(0x23d)]()))_0x53a02e['push'](_0x36414c);}_0x53a02e['length']>0x0&&_0x53a02e[_0x5046e7(0x278)](_0x279569=>{const _0x4f5022=_0x5046e7;let _0x2275cc=0x3c;if(_0x4dd627){let _0x18f040=0x0;Object[_0x4f5022(0x26f)](_0xa3bbee)[_0x4f5022(0x278)](_0x10b981=>{if(_0x10b981>_0x18f040)_0x18f040=_0x10b981;}),_0x2275cc=_0x18f040>0x0?_0x18f040:0x78;}else _0x2275cc=getWarmupRobust(_0xa3bbee,_0x279569);const _0x5ddb07=new Date(_0x5285e0-_0x2275cc*0xea60);_0x3cd67a[_0x4f5022(0x200)]({'eventTime':_0x5285e0,'triggerTime':_0x5ddb07[_0x4f5022(0x272)](),'room':_0x279569,'minutes':_0x2275cc,'reason':_0x130546,'isGlobal':_0x4dd627});});}}catch(_0x3b0025){}_0x3cd67a[_0x5046e7(0x257)]((_0x3c1bfc,_0x435666)=>_0x3c1bfc[_0x5046e7(0x1e1)]-_0x435666['triggerTime']);const _0x11466a=_0x3cd67a[_0x5046e7(0x215)](0x0,0x5);await _0xbef73c[_0x5046e7(0x1f5)]('analysis.energy.schedulePreview',{'val':JSON[_0x5046e7(0x243)](_0x11466a),'ack':!![]});}async function monitorEnforcements(_0x47e36c){const _0x23b12d=a1_0x3fe260;try{const _0x3cbf1a=_0x23b12d(0x235),_0x466e52=await _0x47e36c[_0x23b12d(0x22d)](_0x3cbf1a);if(!_0x466e52||!_0x466e52[_0x23b12d(0x28d)])return;let _0x6caf51=[];try{_0x6caf51=JSON[_0x23b12d(0x23f)](_0x466e52[_0x23b12d(0x28d)]);}catch(_0x5ce9d4){return;}if(!Array[_0x23b12d(0x205)](_0x6caf51)||_0x6caf51[_0x23b12d(0x1e3)]===0x0)return;const _0x3ce437=Date[_0x23b12d(0x20f)](),_0x1a6dfe=_0x47e36c['config']['devices']||[];let _0x58eaf5=![];for(let _0x6ab1df=_0x6caf51[_0x23b12d(0x1e3)]-0x1;_0x6ab1df>=0x0;_0x6ab1df--){const _0x129c47=_0x6caf51[_0x6ab1df];if(_0x3ce437>=_0x129c47[_0x23b12d(0x25f)]){_0x47e36c[_0x23b12d(0x270)]['info'](_0x23b12d(0x24d)+_0x129c47['room']+'\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.'),_0x6caf51[_0x23b12d(0x1ed)](_0x6ab1df,0x1),_0x58eaf5=!![];continue;}const _0x4a3f25=_0x1a6dfe[_0x23b12d(0x245)](_0x353e44=>normalize(_0x353e44['location'])===normalize(_0x129c47[_0x23b12d(0x21b)])&&(_0x353e44['type']===_0x23b12d(0x23e)||_0x353e44[_0x23b12d(0x224)]===_0x23b12d(0x1fc)));if(_0x4a3f25){const _0x4fdb62=await findRelatedId(_0x47e36c,_0x4a3f25['id'],_0x23b12d(0x268));if(_0x4fdb62){const _0xc13c5f=await _0x47e36c['getForeignStateAsync'](_0x4fdb62);_0xc13c5f&&typeof _0xc13c5f['val']==='number'&&(_0xc13c5f[_0x23b12d(0x28d)]<0xf&&(_0x47e36c[_0x23b12d(0x270)]['warn'](_0x23b12d(0x21c)+_0x129c47[_0x23b12d(0x21b)]+'\x20auf\x20'+_0xc13c5f[_0x23b12d(0x28d)]+_0x23b12d(0x25c)+_0x129c47['target']+_0x23b12d(0x287)),await _0x47e36c[_0x23b12d(0x1f2)](_0x4fdb62,_0x129c47['target']),await logAutomationAction(_0x47e36c,_0x23b12d(0x291)+_0x129c47[_0x23b12d(0x21b)]+':\x20'+_0xc13c5f[_0x23b12d(0x28d)]+'Â°C\x20->\x20'+_0x129c47[_0x23b12d(0x275)]+_0x23b12d(0x223))));}}}_0x58eaf5&&await _0x47e36c[_0x23b12d(0x1f5)](_0x3cbf1a,{'val':JSON[_0x23b12d(0x243)](_0x6caf51),'ack':!![]});}catch(_0x2a0573){_0x47e36c[_0x23b12d(0x270)][_0x23b12d(0x234)]('Enforcement\x20Monitor\x20Error:\x20'+_0x2a0573[_0x23b12d(0x280)]);}}async function checkCalendarTriggers(_0x226bab){const _0x289525=a1_0x3fe260;if(!_0x226bab[_0x289525(0x207)][_0x289525(0x1fa)]||!_0x226bab['config'][_0x289525(0x264)])return;await updateSchedulePreview(_0x226bab);let _0x2693ce={},_0x565976={};try{const _0x116c80=await _0x226bab[_0x289525(0x22d)](_0x289525(0x1f0));if(_0x116c80&&_0x116c80[_0x289525(0x28d)])_0x2693ce=JSON[_0x289525(0x23f)](_0x116c80[_0x289525(0x28d)]);const _0x4ccb8b=await _0x226bab['getStateAsync'](_0x289525(0x230));if(_0x4ccb8b&&_0x4ccb8b[_0x289525(0x28d)])_0x565976=JSON[_0x289525(0x23f)](_0x4ccb8b[_0x289525(0x28d)]);}catch(_0x1eb7f3){}let _0x1cc992={'default':0x15};try{const _0x3f7f92=await _0x226bab[_0x289525(0x22d)]('analysis.energy.warmupTargets');if(_0x3f7f92&&_0x3f7f92[_0x289525(0x28d)])_0x1cc992=JSON[_0x289525(0x23f)](_0x3f7f92['val']);}catch(_0xec86d0){}let _0x38f7ac=[];try{const _0x2eedc4=await _0x226bab['getStateAsync']('analysis.energy.activeEnforcements');if(_0x2eedc4&&_0x2eedc4[_0x289525(0x28d)])_0x38f7ac=JSON[_0x289525(0x23f)](_0x2eedc4['val']);}catch(_0x2b044c){}try{const _0x2cf86a=await _0x226bab[_0x289525(0x237)](_0x226bab[_0x289525(0x207)][_0x289525(0x264)]+'.data.table');if(!_0x2cf86a||!_0x2cf86a[_0x289525(0x28d)])return;const _0x397b8b=JSON['parse'](_0x2cf86a[_0x289525(0x28d)]),_0x2e14ca=Date[_0x289525(0x20f)](),_0x64cdb9=_0x226bab[_0x289525(0x207)][_0x289525(0x1ef)]||[],_0x2c2e54=_0x226bab[_0x289525(0x207)][_0x289525(0x22b)]||[];let _0x3be975=![];for(const _0x51d447 of _0x397b8b){if(_0x51d447[_0x289525(0x267)]&&_0x2c2e54[_0x289525(0x1e3)]>0x0&&!_0x2c2e54[_0x289525(0x274)](_0x51d447['_calName']))continue;const _0x581e00=_0x51d447[_0x289525(0x231)]||_0x51d447['eventStart']||_0x51d447[_0x289525(0x240)];if(!_0x581e00)continue;const _0x2c6d8d=new Date(_0x581e00);if(isNaN(_0x2c6d8d[_0x289525(0x272)]()))continue;const _0x59ae87=(_0x51d447[_0x289525(0x23b)]||_0x51d447[_0x289525(0x23a)]||'')[_0x289525(0x23d)]();if(_0x59ae87[_0x289525(0x274)](_0x289525(0x295))||_0x59ae87[_0x289525(0x274)](_0x289525(0x201))||_0x59ae87[_0x289525(0x274)](_0x289525(0x259))){let _0x57598d=0x0;Object[_0x289525(0x26f)](_0x2693ce)[_0x289525(0x278)](_0x504f97=>{if(_0x504f97>_0x57598d)_0x57598d=_0x504f97;});if(_0x57598d===0x0)_0x57598d=0x78;const _0x3ff506=_0x2c6d8d[_0x289525(0x272)]()-_0x57598d*0xea60;_0x2e14ca>=_0x3ff506&&_0x2e14ca<_0x2c6d8d[_0x289525(0x272)]()&&(_0x226bab[_0x289525(0x296)]!==_0x289525(0x28e)&&(_0x226bab['log'][_0x289525(0x26e)]('ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x57598d+_0x289525(0x283)),await _0x226bab['setStateAsync'](_0x289525(0x22c),{'val':_0x289525(0x28e),'ack':![]})));}for(const _0x179f49 of _0x64cdb9){if(_0x179f49[_0x289525(0x227)]){const _0x37b8f8=_0x179f49[_0x289525(0x227)]['toLowerCase'](),_0x3831d3=(_0x179f49[_0x289525(0x265)]||'')[_0x289525(0x23d)]();let _0x5d722c=_0x59ae87['includes'](_0x37b8f8);!_0x5d722c&&_0x3831d3['length']>0x3&&_0x59ae87[_0x289525(0x274)](_0x3831d3)&&(_0x5d722c=!![]);if(_0x5d722c){const _0x373ee8=getWarmupRobust(_0x2693ce,_0x179f49[_0x289525(0x227)]),_0x6af198=_0x565976[_0x179f49[_0x289525(0x227)]]||_0x289525(0x22f),_0x1dc795=_0x2c6d8d[_0x289525(0x272)]()-_0x373ee8*0xea60;if(_0x2e14ca>=_0x1dc795&&_0x2e14ca<_0x2c6d8d['getTime']()){const _0x3107cb=lastActions['cal_'+_0x179f49[_0x289525(0x227)]];if(_0x3107cb&&_0x2e14ca-_0x3107cb<CAL_COOLDOWN_MS)continue;const _0x47544=await findRelatedId(_0x226bab,_0x179f49['id'],_0x289525(0x268));if(_0x47544){let _0x900826=_0x1cc992[_0x179f49['location']];if(_0x900826===undefined)_0x900826=_0x1cc992[_0x289525(0x217)];if(_0x900826===undefined)_0x900826=0x15;const _0x56abd5=await _0x226bab[_0x289525(0x237)](_0x47544);if(_0x56abd5&&typeof _0x56abd5[_0x289525(0x28d)]==='number'&&_0x56abd5[_0x289525(0x28d)]<_0x900826-0.5){_0x226bab[_0x289525(0x270)][_0x289525(0x26e)](_0x289525(0x25d)+_0x6af198+_0x289525(0x26a)+_0x179f49[_0x289525(0x227)]+_0x289525(0x1dc)+_0x59ae87+_0x289525(0x28a)+_0x900826+_0x289525(0x20a)+_0x373ee8+_0x289525(0x283)),await _0x226bab[_0x289525(0x1f2)](_0x47544,_0x900826),await logAutomationAction(_0x226bab,_0x289525(0x27e)+_0x179f49[_0x289525(0x227)]+_0x289525(0x24b)+_0x900826+_0x289525(0x29a)+_0x6af198+')'),lastActions[_0x289525(0x21e)+_0x179f49['location']]=_0x2e14ca;const _0x57da60=_0x38f7ac['findIndex'](_0x8b54de=>_0x8b54de[_0x289525(0x21b)]===_0x179f49['location']);if(_0x57da60!==-0x1)_0x38f7ac[_0x289525(0x1ed)](_0x57da60,0x1);_0x38f7ac[_0x289525(0x200)]({'room':_0x179f49[_0x289525(0x227)],'target':_0x900826,'until':_0x2c6d8d[_0x289525(0x272)]()}),_0x3be975=!![];}}}}}}}_0x3be975&&await _0x226bab['setStateAsync'](_0x289525(0x235),{'val':JSON[_0x289525(0x243)](_0x38f7ac),'ack':!![]});}catch(_0x2ad096){_0x226bab[_0x289525(0x270)][_0x289525(0x208)]('Calendar\x20Check\x20Error:\x20'+_0x2ad096[_0x289525(0x280)]);}}async function manageMpcIntervention(_0x4a5922,_0x44fcf9,_0x55a6a9){const _0x47740e=a1_0x3fe260;try{const _0x4ae72b='analysis.energy.mpcActiveInterventions',_0x557d77=await _0x4a5922[_0x47740e(0x22d)](_0x4ae72b);let _0x464d42=[];if(_0x557d77&&_0x557d77[_0x47740e(0x28d)])try{_0x464d42=JSON[_0x47740e(0x23f)](_0x557d77[_0x47740e(0x28d)]);}catch(_0x27a71a){}const _0x230294=_0x464d42[_0x47740e(0x229)](_0x44fcf9);if(_0x55a6a9===_0x47740e(0x25a))_0x230294===-0x1&&(_0x464d42['push'](_0x44fcf9),await _0x4a5922[_0x47740e(0x1f5)](_0x4ae72b,{'val':JSON[_0x47740e(0x243)](_0x464d42),'ack':!![]}));else _0x55a6a9===_0x47740e(0x25e)&&(_0x230294!==-0x1&&(_0x464d42[_0x47740e(0x1ed)](_0x230294,0x1),await _0x4a5922[_0x47740e(0x1f5)](_0x4ae72b,{'val':JSON[_0x47740e(0x243)](_0x464d42),'ack':!![]})));}catch(_0x3fcae7){}}async function cleanupGhostInterventions(_0x5a7f6d){const _0x404987=a1_0x3fe260;try{const _0x598772='analysis.energy.mpcActiveInterventions',_0x19792a=await _0x5a7f6d[_0x404987(0x22d)](_0x598772);if(!_0x19792a||!_0x19792a['val'])return;const _0x4ba9c0=JSON[_0x404987(0x23f)](_0x19792a[_0x404987(0x28d)]);if(!Array['isArray'](_0x4ba9c0)||_0x4ba9c0[_0x404987(0x1e3)]===0x0)return;let _0x3e0de0={'default':0x15};try{const _0x1027b3=await _0x5a7f6d['getStateAsync'](_0x404987(0x20c));if(_0x1027b3&&_0x1027b3[_0x404987(0x28d)])_0x3e0de0=JSON['parse'](_0x1027b3[_0x404987(0x28d)]);}catch(_0x4f491b){}let _0x29191d=[];try{const _0x14845a=await _0x5a7f6d[_0x404987(0x22d)](_0x404987(0x269));if(_0x14845a&&_0x14845a[_0x404987(0x28d)])_0x29191d=JSON[_0x404987(0x23f)](_0x14845a[_0x404987(0x28d)]);}catch(_0x5166d6){}let _0x45d4f5={},_0x1b4922=![];try{const _0xaffca6=await _0x5a7f6d[_0x404987(0x22d)]('analysis.energy.rlPenalties');if(_0xaffca6&&_0xaffca6[_0x404987(0x28d)])_0x45d4f5=JSON[_0x404987(0x23f)](_0xaffca6[_0x404987(0x28d)]);}catch(_0x438785){}if(_0x45d4f5[_0x404987(0x24e)]){const _0x39b36c=Date[_0x404987(0x20f)]();for(const [_0x27e053,_0x1f5eae]of Object[_0x404987(0x1db)](_0x45d4f5['_meta'])){_0x39b36c-_0x1f5eae>PENALTY_TTL&&(delete _0x45d4f5[_0x27e053],delete _0x45d4f5[_0x404987(0x24e)][_0x27e053],_0x1b4922=!![],_0x5a7f6d[_0x404987(0x270)][_0x404987(0x26e)](_0x404987(0x204)+_0x27e053+_0x404987(0x281)));}}const _0x423362=_0x5a7f6d[_0x404987(0x207)][_0x404987(0x1ef)]||[];let _0x21c5f8=![];for(let _0x81997e=_0x4ba9c0[_0x404987(0x1e3)]-0x1;_0x81997e>=0x0;_0x81997e--){const _0x1f309e=_0x4ba9c0[_0x81997e],_0x39b000=_0x423362['find'](_0x224c46=>normalize(_0x224c46['location'])===normalize(_0x1f309e)&&(_0x224c46[_0x404987(0x224)]==='temperature'||_0x224c46['type']===_0x404987(0x1fc)));if(!_0x39b000){_0x5a7f6d[_0x404987(0x270)][_0x404987(0x208)]('ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x1f309e+_0x404987(0x271)),_0x4ba9c0['splice'](_0x81997e,0x1),_0x21c5f8=!![];continue;}if(_0x39b000){const _0x53ad68=await findRelatedId(_0x5a7f6d,_0x39b000['id'],_0x404987(0x268)),_0x3b74ea=await _0x5a7f6d['getForeignStateAsync'](_0x39b000['id']);if(_0x53ad68){const _0xe0368a=await _0x5a7f6d[_0x404987(0x237)](_0x53ad68);if(_0xe0368a&&typeof _0xe0368a[_0x404987(0x28d)]===_0x404987(0x258)){let _0x489cf4=![],_0x5a2ffc='';Math[_0x404987(0x24f)](_0xe0368a[_0x404987(0x28d)]-ECO_TEMP)>0.5&&(_0x489cf4=!![],_0x5a2ffc=_0x404987(0x210));if(!_0x489cf4&&_0x3b74ea&&typeof _0x3b74ea[_0x404987(0x28d)]===_0x404987(0x258)){const _0x27497b=_0x3e0de0[_0x1f309e]||_0x3e0de0[_0x404987(0x217)]||0x15;_0x3b74ea['val']<_0x27497b+0.2&&(_0x489cf4=!![],_0x5a2ffc='too_cold');}if(_0x489cf4){if(_0x5a2ffc==='manual'){_0x5a7f6d[_0x404987(0x270)][_0x404987(0x26e)]('ðŸ§¹\x20[MPC\x20CLEANUP]\x20'+_0x1f309e+_0x404987(0x279)+_0xe0368a['val']+_0x404987(0x289)+ECO_TEMP+'Â°C).\x20Entferne\x20Status.');const _0x2780e9=lastActions[_0x404987(0x21e)+_0x1f309e],_0x4d4891=_0x2780e9&&Date[_0x404987(0x20f)]()-_0x2780e9<0x2*0x3c*0x3e8;if(!_0x4d4891&&_0xe0368a[_0x404987(0x28d)]>ECO_TEMP+0.5){_0x5a7f6d['sendToPythonWrapper']&&(_0x5a7f6d[_0x404987(0x270)]['info'](_0x404987(0x27c)+_0x1f309e+'\x20wurde\x20manuell\x20erhÃ¶ht.'),_0x5a7f6d[_0x404987(0x1f1)](_0x404987(0x246),{'room':_0x1f309e}));const _0x4f9253=_0x1f309e+'_'+new Date()[_0x404987(0x261)]();if(!_0x45d4f5[_0x4f9253]){_0x45d4f5[_0x4f9253]=0x1;if(!_0x45d4f5[_0x404987(0x24e)])_0x45d4f5['_meta']={};_0x45d4f5[_0x404987(0x24e)][_0x4f9253]=Date[_0x404987(0x20f)](),_0x1b4922=!![];}}else _0x4d4891&&_0x5a7f6d[_0x404987(0x270)][_0x404987(0x26e)]('ðŸ“…\x20[MPC\x20INFO]\x20'+_0x1f309e+_0x404987(0x282));}else{if(_0x5a2ffc==='too_cold'){let _0x563f1b=![];if(_0x29191d[_0x404987(0x245)](_0x2b9999=>_0x2b9999[_0x404987(0x21b)]===_0x1f309e))_0x563f1b=!![];const _0x1bef53=_0x423362[_0x404987(0x27f)](_0x4c4609=>normalize(_0x4c4609[_0x404987(0x227)])===normalize(_0x1f309e)&&(_0x4c4609['type']==='window'||_0x4c4609[_0x404987(0x224)]===_0x404987(0x266)||_0x4c4609[_0x404987(0x224)]===_0x404987(0x248)));for(const _0x1dd38c of _0x1bef53){try{const _0x3d3486=await _0x5a7f6d[_0x404987(0x237)](_0x1dd38c['id']);if(_0x3d3486&&(_0x3d3486[_0x404987(0x28d)]===!![]||_0x3d3486[_0x404987(0x28d)]===0x1||String(_0x3d3486[_0x404987(0x28d)])[_0x404987(0x23d)]()===_0x404987(0x214)))_0x563f1b=!![];}catch(_0x47d5c6){}}if(_0x563f1b)_0x5a7f6d[_0x404987(0x270)]['info'](_0x404987(0x1f8)+_0x1f309e+_0x404987(0x1ea));else{const _0x3ad5ae=_0x3e0de0[_0x1f309e]||_0x3e0de0[_0x404987(0x217)]||0x15;_0x5a7f6d[_0x404987(0x270)][_0x404987(0x26e)](_0x404987(0x1f7)+_0x1f309e+_0x404987(0x1e7)+_0x3b74ea['val']+'Â°C\x20<\x20'+(_0x3ad5ae+0.2)+_0x404987(0x213)),await _0x5a7f6d[_0x404987(0x1f2)](_0x53ad68,_0x3ad5ae),await logAutomationAction(_0x5a7f6d,_0x404987(0x27d)+_0x1f309e+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x3ad5ae+'Â°C'),lastActions[_0x404987(0x288)+_0x1f309e]=Date['now']();}}}_0x4ba9c0[_0x404987(0x1ed)](_0x81997e,0x1),_0x21c5f8=!![];}}}}}_0x21c5f8&&await _0x5a7f6d[_0x404987(0x1f5)](_0x598772,{'val':JSON['stringify'](_0x4ba9c0),'ack':!![]}),_0x1b4922&&await _0x5a7f6d[_0x404987(0x1f5)](_0x404987(0x255),{'val':JSON['stringify'](_0x45d4f5),'ack':!![]});}catch(_0x555108){}}async function applyEnergySavings(_0x5db0dc,_0x194b25){const _0x4f5ec6=a1_0x3fe260;await cleanupGhostInterventions(_0x5db0dc);if(!_0x194b25||_0x194b25[_0x4f5ec6(0x1e3)]===0x0)return;const _0x49f066=_0x5db0dc['config'][_0x4f5ec6(0x1ef)]||[],_0x11aeec=Date['now']();for(const _0x18ac52 of _0x194b25){const _0x501689=_0x18ac52['room'],_0x15c64e=_0x18ac52[_0x4f5ec6(0x212)],_0x1de853=_0x18ac52[_0x4f5ec6(0x275)]||0x15;if(lastActions[_0x4f5ec6(0x288)+_0x501689]&&_0x11aeec-lastActions['rescue_'+_0x501689]<RESCUE_LOCK_MS)continue;const _0x51a56a=_0x49f066['find'](_0x3b7fa4=>normalize(_0x3b7fa4['location'])===normalize(_0x501689)&&(_0x3b7fa4['type']==='temperature'||_0x3b7fa4[_0x4f5ec6(0x224)]==='thermostat'));if(!_0x51a56a)continue;const _0x505c4b=await findRelatedId(_0x5db0dc,_0x51a56a['id'],_0x4f5ec6(0x268));if(_0x505c4b){if(lastActions[_0x4f5ec6(0x203)+_0x501689]&&_0x11aeec-lastActions[_0x4f5ec6(0x203)+_0x501689]<0x1e*0x3c*0x3e8)continue;const _0x236900=await _0x5db0dc['getForeignStateAsync'](_0x505c4b);if(_0x236900&&typeof _0x236900[_0x4f5ec6(0x28d)]==='number'){const _0xde151e=_0x236900[_0x4f5ec6(0x28d)];_0xde151e!==ECO_TEMP&&await manageMpcIntervention(_0x5db0dc,_0x501689,_0x4f5ec6(0x25e));if(_0x15c64e>0x1e)_0xde151e>ECO_TEMP+0.5&&(_0x5db0dc[_0x4f5ec6(0x270)]['info'](_0x4f5ec6(0x276)+_0x501689+'\x20auf\x20'+ECO_TEMP+'Â°C!\x20(Puffer:\x20'+_0x15c64e+_0x4f5ec6(0x28b)),await _0x5db0dc[_0x4f5ec6(0x1f2)](_0x505c4b,ECO_TEMP),await manageMpcIntervention(_0x5db0dc,_0x501689,_0x4f5ec6(0x25a)),lastActions[_0x4f5ec6(0x203)+_0x501689]=_0x11aeec,await logAutomationAction(_0x5db0dc,_0x4f5ec6(0x23c)+_0x501689+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'Â°C'));else _0x15c64e<=0xf&&(_0xde151e<_0x1de853&&(_0x5db0dc[_0x4f5ec6(0x270)]['info'](_0x4f5ec6(0x298)+_0x501689+_0x4f5ec6(0x22e)+_0x1de853+_0x4f5ec6(0x26c)),await _0x5db0dc[_0x4f5ec6(0x1f2)](_0x505c4b,_0x1de853),await manageMpcIntervention(_0x5db0dc,_0x501689,'remove'),lastActions[_0x4f5ec6(0x203)+_0x501689]=_0x11aeec,await logAutomationAction(_0x5db0dc,_0x4f5ec6(0x23c)+_0x501689+_0x4f5ec6(0x206)+_0x1de853+'Â°C')));}}else _0x5db0dc[_0x4f5ec6(0x270)]['warn'](_0x4f5ec6(0x262)+_0x501689+_0x4f5ec6(0x293));}}module[a1_0x3fe260(0x27b)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};