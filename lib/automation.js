function a1_0x4bfa(){const _0x47ef36=['light','\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.','5824392PLgogO','info','getForeignStateAsync','find','676457wMOYnZ','consultButler','devices','switch','4526289DKBute','val','(((.+)+)+)+$','Pr√§diktion:\x20','9xtlFPY','2920515fbUTzH','setForeignStateAsync','exports','reason','active','getStateAsync','apply','ü§ñ\x20Butler\x20Blocked:\x20','[BLOCKED]\x20','off','location','analysis.automation.lastAction','427rCfoqA','toLowerCase','‚ö°\x20ACTION:\x20','dimmer','10ndBPov','constructor','name','üîç\x20Device-Search\x20failed:\x20Predicted\x20\x27','log','./ai_agent','simulate','now','toString','search','type','analysis.automation.mode','86082Dhxugp','üëÄ\x20SIMULATION:\x20','169972RhvwQU','1532106vzsSlP','debug'];a1_0x4bfa=function(){return _0x47ef36;};return a1_0x4bfa();}const a1_0x2f42ce=a1_0x1ea4;(function(_0x21c90e,_0x57f2ff){const _0x13dac5=a1_0x1ea4,_0x29ae1d=_0x21c90e();while(!![]){try{const _0xd4ad7b=-parseInt(_0x13dac5(0x11e))/0x1+parseInt(_0x13dac5(0x116))/0x2+-parseInt(_0x13dac5(0x126))/0x3*(-parseInt(_0x13dac5(0x115))/0x4)+parseInt(_0x13dac5(0x127))/0x5+parseInt(_0x13dac5(0x113))/0x6*(parseInt(_0x13dac5(0x103))/0x7)+-parseInt(_0x13dac5(0x11a))/0x8+-parseInt(_0x13dac5(0x122))/0x9*(parseInt(_0x13dac5(0x107))/0xa);if(_0xd4ad7b===_0x57f2ff)break;else _0x29ae1d['push'](_0x29ae1d['shift']());}catch(_0xc70378){_0x29ae1d['push'](_0x29ae1d['shift']());}}}(a1_0x4bfa,0x6cbbf));const a1_0x5b977d=(function(){let _0x191049=!![];return function(_0x4692d2,_0x2e77a5){const _0x121775=_0x191049?function(){const _0x340a28=a1_0x1ea4;if(_0x2e77a5){const _0x21b048=_0x2e77a5[_0x340a28(0xfd)](_0x4692d2,arguments);return _0x2e77a5=null,_0x21b048;}}:function(){};return _0x191049=![],_0x121775;};}()),a1_0x246077=a1_0x5b977d(this,function(){const _0x3ebc1a=a1_0x1ea4;return a1_0x246077['toString']()[_0x3ebc1a(0x110)]('(((.+)+)+)+$')[_0x3ebc1a(0x10f)]()[_0x3ebc1a(0x108)](a1_0x246077)[_0x3ebc1a(0x110)](_0x3ebc1a(0x124));});a1_0x246077();'use strict';const aiAgent=require(a1_0x2f42ce(0x10c)),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function normalize(_0x561806){const _0x3d366c=a1_0x2f42ce;if(!_0x561806)return'';return _0x561806[_0x3d366c(0x104)]()['replace'](/\s+/g,'')['trim']();}function a1_0x1ea4(_0x41819e,_0x19add2){const _0x244f4c=a1_0x4bfa();return a1_0x1ea4=function(_0x246077,_0x5b977d){_0x246077=_0x246077-0xf8;let _0x4bfa34=_0x244f4c[_0x246077];return _0x4bfa34;},a1_0x1ea4(_0x41819e,_0x19add2);}async function handlePrediction(_0x118c95,_0x30324a,_0xe2d7cb){const _0x302bc7=a1_0x2f42ce;if(!_0x30324a||_0x30324a==='Unknown')return;let _0x24c07d=_0x302bc7(0x100),_0x403a67=0.6;try{const _0x85be83=await _0x118c95[_0x302bc7(0xfc)](_0x302bc7(0x112));if(_0x85be83&&_0x85be83[_0x302bc7(0x123)])_0x24c07d=_0x85be83[_0x302bc7(0x123)];const _0x59549=await _0x118c95[_0x302bc7(0xfc)]('analysis.automation.confidenceThreshold');if(_0x59549&&_0x59549[_0x302bc7(0x123)])_0x403a67=_0x59549[_0x302bc7(0x123)];}catch(_0x893831){}if(_0x24c07d===_0x302bc7(0x100))return;if(_0xe2d7cb<_0x403a67)return;const _0x5a5106=Date[_0x302bc7(0x10e)]();if(lastActions[_0x30324a]&&_0x5a5106-lastActions[_0x30324a]<COOLDOWN_MS)return;const _0x2799e5=_0x118c95['config'][_0x302bc7(0x120)]||[],_0x4bf42f=normalize(_0x30324a),_0x38ad81=_0x2799e5[_0x302bc7(0x11d)](_0x12bc0d=>{const _0x431c41=_0x302bc7;return normalize(_0x12bc0d[_0x431c41(0x101)])===_0x4bf42f&&(_0x12bc0d['type']===_0x431c41(0x118)||_0x12bc0d[_0x431c41(0x111)]===_0x431c41(0x106)||_0x12bc0d[_0x431c41(0x111)]===_0x431c41(0x121));});if(!_0x38ad81){const _0x29955a=_0x302bc7(0x10a)+_0x30324a+'\x27\x20(norm:\x20\x27'+_0x4bf42f+_0x302bc7(0x119);_0x118c95[_0x302bc7(0x10b)]['debug'](_0x29955a);return;}const _0x13eefe=await aiAgent[_0x302bc7(0x11f)](_0x118c95,_0x30324a,_0x38ad81['name'],_0xe2d7cb);if(!_0x13eefe['approved']){_0x118c95[_0x302bc7(0x10b)][_0x302bc7(0x117)](_0x302bc7(0xfe)+_0x30324a+'\x20->\x20'+_0x13eefe[_0x302bc7(0xfa)]),await _0x118c95['setStateAsync'](_0x302bc7(0x102),{'val':_0x302bc7(0xff)+_0x13eefe[_0x302bc7(0xfa)],'ack':!![]});return;}const _0x899599=_0x302bc7(0x125)+_0x30324a+'\x20->\x20Schalte\x20'+_0x38ad81[_0x302bc7(0x109)]+'\x20('+_0x13eefe['reason']+')';await _0x118c95['setStateAsync']('analysis.automation.lastAction',{'val':'['+_0x24c07d['toUpperCase']()+']\x20'+_0x899599,'ack':!![]});if(_0x24c07d===_0x302bc7(0x10d))_0x118c95['log']['info'](_0x302bc7(0x114)+_0x899599);else{if(_0x24c07d===_0x302bc7(0xfb)){_0x118c95[_0x302bc7(0x10b)][_0x302bc7(0x11b)](_0x302bc7(0x105)+_0x899599);const _0x311763=await _0x118c95[_0x302bc7(0x11c)](_0x38ad81['id']);if(_0x311763&&(_0x311763[_0x302bc7(0x123)]===!![]||_0x311763[_0x302bc7(0x123)]>0x0)){}else await _0x118c95[_0x302bc7(0xf8)](_0x38ad81['id'],!![]);lastActions[_0x30324a]=_0x5a5106;}}}module[a1_0x2f42ce(0xf9)]={'handlePrediction':handlePrediction};