const a1_0x40b8fb=a1_0x4127;(function(_0x1deebd,_0x9229ce){const _0xcdc88=a1_0x4127,_0x3807a4=_0x1deebd();while(!![]){try{const _0x5d6e97=parseInt(_0xcdc88(0x141))/0x1+parseInt(_0xcdc88(0x138))/0x2+-parseInt(_0xcdc88(0xbe))/0x3+parseInt(_0xcdc88(0x14f))/0x4*(-parseInt(_0xcdc88(0xfd))/0x5)+-parseInt(_0xcdc88(0xb9))/0x6+parseInt(_0xcdc88(0xdd))/0x7*(parseInt(_0xcdc88(0x108))/0x8)+parseInt(_0xcdc88(0xf5))/0x9*(parseInt(_0xcdc88(0xe0))/0xa);if(_0x5d6e97===_0x9229ce)break;else _0x3807a4['push'](_0x3807a4['shift']());}catch(_0x2d7b5a){_0x3807a4['push'](_0x3807a4['shift']());}}}(a1_0x3b0f,0xb5138));const a1_0xc9057f=(function(){let _0x322ee7=!![];return function(_0x11d032,_0x535e74){const _0x482ac6=_0x322ee7?function(){const _0x137c58=a1_0x4127;if(_0x535e74){const _0x159f41=_0x535e74[_0x137c58(0xd7)](_0x11d032,arguments);return _0x535e74=null,_0x159f41;}}:function(){};return _0x322ee7=![],_0x482ac6;};}()),a1_0x1f5821=a1_0xc9057f(this,function(){const _0x76fbce=a1_0x4127;return a1_0x1f5821[_0x76fbce(0xe9)]()[_0x76fbce(0x115)](_0x76fbce(0x117))[_0x76fbce(0xe9)]()[_0x76fbce(0x130)](a1_0x1f5821)[_0x76fbce(0x115)](_0x76fbce(0x117));});a1_0x1f5821();'use strict';const aiAgent=require(a1_0x40b8fb(0x145)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,lastActions={};function a1_0x3b0f(){const _0x160718=['\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','Â°C\x20(Kalender-Schutz)','cal_','.1.TEMPERATURE','Â°C\x20(Vorlauf:\x20','2112066cTwzfP','Â°C\x20(nicht\x20','info','setpoint','ðŸ“…\x20[MPC\x20INFO]\x20','getForeignStateAsync','Unbekannt','analysis.energy.mpcActiveInterventions','forEach','314610nCHiGo','filter','Ist','\x20->\x20','./ai_agent','thermostat','level.valve','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','name','PrÃ¤diktion:\x20','val','Â°C!\x20(Puffer:\x20','ðŸ“…\x20SMART\x20SCHEDULE\x20[','findIndex','335812YLsUwC','manual','getTime','value.valve','triggerTime','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','location','position','toLowerCase','\x20gefunden!','target','occupied_heating_setpoint','localeCompare','stringify','find',']:\x20Raum-Trigger\x20\x27','analysis.automation.actionLog','\x27\x20(Match:\x20','rescue_','sort','unit','log','string',':\x20Absenkung\x20auf\x20','event','mpc_','length','thermostatMapping','\x20ist\x20auf\x20','score','add','Â°C\x20<\x20','[FORCE]\x20','config','number','getForeignObjectsAsync','.1.ACTUAL_TEMPERATURE','\x20wieder\x20auf\x20','wert','entries','Auto-Erkennung','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','Manuelles\x20Mapping','4698666HLxlPV','hm-rpc','\x20auf\x20','devices','\x20min).','3443646wVidmK','setForeignStateAsync','room','set','level.temperature','Classic','common','indexOf','splice','stellwert','thermostat.setpoint','local_temperature','getForeignObjectAsync','\x20wurde\x20manuell\x20erhÃ¶ht.','TRAIN_RL_PENALTY','warn','analysis.energy.warmupTimes','_date','target_temperature','push','ACTUAL','window','.1.LEVEL','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','ACTUAL_TEMPERATURE','apply','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','open','analysis.energy.activeEnforcements','temperature','.4.SET_TEMPERATURE','3260369LuCTSD','role','Nicht\x20gefunden','638090oAkuYV',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','dimmer','analysis.energy.warmupTargets','slice','useCalendar','Enforcement\x20Monitor\x20Error:\x20','ankunft','toString','calendarSelection','rÃ¼ckkehr','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','Â°C).\x20Entferne\x20Status.','setStateAsync','values','normal','abs','light','_calName','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','189hWvHCF',')\x20aktiv.\x20Heize\x20auf\x20','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','minutes_safe','off','analysis.automation.confidenceThreshold','.1.SET_POINT_TEMPERATURE','[CAL]\x20','30nXrvfm','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','PERFECT','\x20erreicht\x20Limit\x20(','remove','Â°C.','currentSystemMode','summary','valve_position','Â°C!\x20(Puffer\x20leer).','too_cold','8SPAcXQ','getStateAsync','ist','switch','pi_heating_demand','now','openknx','split','active','.data.table','Â°C\x20(via\x20','system.mode','valveMapping','search','urlaub\x20ende','(((.+)+)+)+$','level','analysis.automation.mode','isArray','calendarInstance','replace','trim','unshift','\x20min)','type','write','sensor','SET','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20',':\x20Aufheizen\x20auf\x20','message','ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','valve','messwert','soll','includes','Â°C).\x20Sparmodus\x20beendet!','eventStart','Soll','date','constructor','parse','default'];a1_0x3b0f=function(){return _0x160718;};return a1_0x3b0f();}function normalize(_0x3f6bfd){const _0x1782fb=a1_0x40b8fb;if(!_0x3f6bfd)return'';return _0x3f6bfd[_0x1782fb(0x157)]()[_0x1782fb(0x11c)](/\s+/g,'')[_0x1782fb(0x11d)]();}async function logAutomationAction(_0x53d3b1,_0x57eb53){const _0x146bdd=a1_0x40b8fb;await _0x53d3b1[_0x146bdd(0xee)]('analysis.automation.lastAction',{'val':_0x57eb53,'ack':!![]});try{const _0x57b189=_0x146bdd(0x9e),_0x473c25=await _0x53d3b1[_0x146bdd(0x109)](_0x57b189);let _0x3bd93b=[];if(_0x473c25&&_0x473c25[_0x146bdd(0x14b)])try{_0x3bd93b=JSON[_0x146bdd(0x131)](_0x473c25[_0x146bdd(0x14b)]);}catch(_0x138e0f){}_0x3bd93b[_0x146bdd(0x11e)]({'ts':Date['now'](),'msg':_0x57eb53});if(_0x3bd93b[_0x146bdd(0xa8)]>0x32)_0x3bd93b=_0x3bd93b[_0x146bdd(0xe5)](0x0,0x32);await _0x53d3b1['setStateAsync'](_0x57b189,{'val':JSON[_0x146bdd(0x15c)](_0x3bd93b),'ack':!![]});}catch(_0x172e52){}}async function handlePrediction(_0x23eefb,_0x599363,_0x49efc8){const _0x7511e6=a1_0x40b8fb;if(!_0x599363||_0x599363==='Unknown')return;let _0x448a83=_0x7511e6(0xf9),_0x4bd841=0.6;try{const _0x3e4413=await _0x23eefb[_0x7511e6(0x109)](_0x7511e6(0x119));if(_0x3e4413&&_0x3e4413['val'])_0x448a83=_0x3e4413[_0x7511e6(0x14b)];const _0x33acf8=await _0x23eefb[_0x7511e6(0x109)](_0x7511e6(0xfa));if(_0x33acf8&&_0x33acf8[_0x7511e6(0x14b)])_0x4bd841=_0x33acf8[_0x7511e6(0x14b)];}catch(_0x170c64){}if(_0x448a83===_0x7511e6(0xf9)||_0x49efc8<_0x4bd841)return;const _0x5ef43c=Date[_0x7511e6(0x10d)]();if(lastActions[_0x599363]&&_0x5ef43c-lastActions[_0x599363]<COOLDOWN_MS)return;const _0x5903ed=_0x23eefb['config'][_0x7511e6(0xbc)]||[],_0x56c74a=normalize(_0x599363),_0xc7a30b=_0x5903ed[_0x7511e6(0x15d)](_0x53c2fd=>normalize(_0x53c2fd[_0x7511e6(0x155)])===_0x56c74a&&(_0x53c2fd[_0x7511e6(0x120)]===_0x7511e6(0xf2)||_0x53c2fd['type']===_0x7511e6(0xe3)||_0x53c2fd[_0x7511e6(0x120)]===_0x7511e6(0x10b)));if(!_0xc7a30b)return;const _0x38890c=await aiAgent['consultButler'](_0x23eefb,_0x599363,_0xc7a30b['name'],_0x49efc8);if(!_0x38890c['approved'])return;const _0x238947=_0x7511e6(0x14a)+_0x599363+'\x20->\x20Schalte\x20'+_0xc7a30b['name']+'\x20('+_0x38890c['reason']+')';await logAutomationAction(_0x23eefb,'['+_0x448a83['toUpperCase']()+']\x20'+_0x238947);if(_0x448a83===_0x7511e6(0x110)){const _0x4f34e7=await _0x23eefb[_0x7511e6(0x13d)](_0xc7a30b['id']);(!_0x4f34e7||!_0x4f34e7[_0x7511e6(0x14b)]&&_0x4f34e7[_0x7511e6(0x14b)]!==!![])&&await _0x23eefb[_0x7511e6(0xbf)](_0xc7a30b['id'],!![]),lastActions[_0x599363]=_0x5ef43c;}}async function findRelatedId(_0x280b7f,_0xb5697f,_0x4750ba='setpoint'){const _0x5229fa=a1_0x40b8fb;if(_0x4750ba==='setpoint'&&_0x280b7f[_0x5229fa(0xaf)][_0x5229fa(0xa9)]){let _0x53299a=_0x280b7f['config'][_0x5229fa(0xa9)];if(typeof _0x53299a===_0x5229fa(0xa4))try{_0x53299a=JSON[_0x5229fa(0x131)](_0x53299a);}catch(_0x443882){}if(_0x53299a&&_0x53299a[_0xb5697f])return _0x53299a[_0xb5697f];}if(_0x4750ba==='valve'&&_0x280b7f[_0x5229fa(0xaf)]['valveMapping']){let _0x48dbef=_0x280b7f[_0x5229fa(0xaf)][_0x5229fa(0x114)];if(typeof _0x48dbef===_0x5229fa(0xa4))try{_0x48dbef=JSON[_0x5229fa(0x131)](_0x48dbef);}catch(_0x4a8aec){}if(_0x48dbef&&_0x48dbef[_0xb5697f])return _0x48dbef[_0xb5697f];}let _0x320e8c=[];if(_0x4750ba===_0x5229fa(0x13b))_0x320e8c=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x5229fa(0xfb)},{'s':'.1.TEMPERATURE','t':_0x5229fa(0xfb)},{'s':'.1.TEMPERATURE','t':_0x5229fa(0xdc)},{'s':_0x5229fa(0xd6),'t':'SET_POINT_TEMPERATURE'},{'s':_0x5229fa(0xc9),'t':_0x5229fa(0x15a)},{'s':'local_temperature','t':'current_heating_setpoint'},{'s':_0x5229fa(0xdb),'t':_0x5229fa(0xd0)},{'s':_0x5229fa(0xd2),'t':_0x5229fa(0x123)},{'s':_0x5229fa(0x143),'t':_0x5229fa(0x12e)},{'s':'temperature','t':_0x5229fa(0x13b)}];else _0x4750ba===_0x5229fa(0x128)&&(_0x320e8c=[{'s':_0x5229fa(0xb2),'t':_0x5229fa(0xd4)},{'s':_0x5229fa(0x136),'t':_0x5229fa(0xd4)},{'s':_0x5229fa(0x136),'t':'.4.VALVE_STATE'},{'s':_0x5229fa(0xc9),'t':_0x5229fa(0x10c)},{'s':'temperature','t':_0x5229fa(0x105)},{'s':_0x5229fa(0xdb),'t':_0x5229fa(0x118)}]);for(const _0x3edc28 of _0x320e8c){if(_0xb5697f[_0x5229fa(0x12b)](_0x3edc28['s'])){const _0xaef292=_0xb5697f[_0x5229fa(0x11c)](_0x3edc28['s'],_0x3edc28['t']),_0x5d9cb2=await _0x280b7f[_0x5229fa(0xca)](_0xaef292);if(_0x5d9cb2)return _0xaef292;}}try{const _0x4d006a=_0xb5697f['split']('.');if(_0x4d006a['length']>0x2){const _0x204634=_0x4d006a[_0x5229fa(0xe5)](0x0,-0x1)['join']('.'),_0x2ff2d7=await _0x280b7f[_0x5229fa(0xb1)](_0x204634+'.*'),_0x2ed8a9=[],_0x1b9e98=_0xb5697f[_0x5229fa(0x10f)](/[._]+/)[_0x5229fa(0x142)](_0x3be439=>![_0x5229fa(0x10e),'0',_0x5229fa(0xba),_0x5229fa(0x10a),_0x5229fa(0xb4),_0x5229fa(0xdb),'actual',_0x5229fa(0x122),_0x5229fa(0x129),'state'][_0x5229fa(0x12b)](_0x3be439[_0x5229fa(0x157)]()));for(const [_0x448461,_0x37ec5a]of Object[_0x5229fa(0xb5)](_0x2ff2d7)){if(_0x448461===_0xb5697f)continue;if(_0x37ec5a&&_0x37ec5a['common']){const _0x44cf9c=_0x448461[_0x5229fa(0x157)](),_0x323c28=(_0x37ec5a['common'][_0x5229fa(0xde)]||'')[_0x5229fa(0x157)](),_0xe69f89=(_0x37ec5a['common'][_0x5229fa(0xa2)]||'')[_0x5229fa(0x157)]();let _0x1159a5=![];if(_0x4750ba===_0x5229fa(0x13b)&&_0x37ec5a[_0x5229fa(0xc4)][_0x5229fa(0x121)]===!![])_0x1159a5=_0x44cf9c[_0x5229fa(0x12b)](_0x5229fa(0xc1))||_0x44cf9c[_0x5229fa(0x12b)](_0x5229fa(0x12a))||_0x44cf9c[_0x5229fa(0x12b)](_0x5229fa(0x159))||_0x323c28[_0x5229fa(0x12b)](_0x5229fa(0xc2))||_0x323c28[_0x5229fa(0x12b)](_0x5229fa(0xc8));else _0x4750ba===_0x5229fa(0x128)&&(_0x1159a5=_0x44cf9c['includes'](_0x5229fa(0x118))||_0x44cf9c['includes'](_0x5229fa(0x128))||_0x44cf9c[_0x5229fa(0x12b)](_0x5229fa(0xc7))||_0x44cf9c[_0x5229fa(0x12b)](_0x5229fa(0x156))||_0x323c28[_0x5229fa(0x12b)](_0x5229fa(0x147))||_0x323c28[_0x5229fa(0x12b)](_0x5229fa(0x152))||_0xe69f89['includes']('%'));if(_0x1159a5){const _0x59dc80=_0x448461['split'](/[._]+/)['map'](_0x58d95b=>_0x58d95b[_0x5229fa(0x157)]());let _0x5e11ea=0x0;_0x1b9e98[_0x5229fa(0x140)](_0x5d48de=>{const _0x5d5229=_0x5229fa;if(_0x59dc80[_0x5d5229(0x12b)](_0x5d48de['toLowerCase']()))_0x5e11ea++;}),_0x2ed8a9[_0x5229fa(0xd1)]({'id':_0x448461,'score':_0x5e11ea});}}}if(_0x2ed8a9['length']>0x0){_0x2ed8a9['sort']((_0x54f3f4,_0x1d6725)=>_0x1d6725[_0x5229fa(0xab)]-_0x54f3f4[_0x5229fa(0xab)]);if(_0x2ed8a9[0x0][_0x5229fa(0xab)]>0x0)return _0x2ed8a9[0x0]['id'];}}}catch(_0xee1d75){}return null;}async function scanThermostats(_0x2c163f){const _0x41ea68=a1_0x40b8fb,_0x4a9282=_0x2c163f['config'][_0x41ea68(0xbc)]||[],_0x23f3e6=[],_0x123215=_0x4a9282[_0x41ea68(0x142)](_0x15ca06=>_0x15ca06['id']&&_0x15ca06['id'][_0x41ea68(0x12b)](_0x41ea68(0xdb))||_0x15ca06[_0x41ea68(0x120)]&&[_0x41ea68(0xdb),'thermostat','sensor'][_0x41ea68(0x12b)](_0x15ca06[_0x41ea68(0x120)])||_0x15ca06[_0x41ea68(0x149)]&&_0x15ca06[_0x41ea68(0x149)]['toLowerCase']()[_0x41ea68(0x12b)]('temp'));for(const _0x4043e6 of _0x123215){const _0x5ced9b=await findRelatedId(_0x2c163f,_0x4043e6['id'],_0x41ea68(0x13b)),_0x2ae0e8=await findRelatedId(_0x2c163f,_0x4043e6['id'],_0x41ea68(0x128));let _0x2872a1=_0x41ea68(0xdf),_0x2750aa=![],_0x183f77=_0x2c163f[_0x41ea68(0xaf)][_0x41ea68(0xa9)]||{};if(typeof _0x183f77===_0x41ea68(0xa4))try{_0x183f77=JSON[_0x41ea68(0x131)](_0x183f77);}catch(_0x4c1d82){}let _0x398ddc=_0x2c163f[_0x41ea68(0xaf)][_0x41ea68(0x114)]||{};if(typeof _0x398ddc===_0x41ea68(0xa4))try{_0x398ddc=JSON[_0x41ea68(0x131)](_0x398ddc);}catch(_0x3da493){}if(_0x183f77[_0x4043e6['id']]&&_0x183f77[_0x4043e6['id']]===_0x5ced9b||_0x398ddc[_0x4043e6['id']]&&_0x398ddc[_0x4043e6['id']]===_0x2ae0e8)_0x2872a1=_0x41ea68(0xb8),_0x2750aa=!![];else(_0x5ced9b||_0x2ae0e8)&&(_0x2872a1=_0x41ea68(0xb6));_0x23f3e6['push']({'room':_0x4043e6[_0x41ea68(0x155)]||'Unbekannt','sensorId':_0x4043e6['id'],'setpointId':_0x5ced9b||'-','valveId':_0x2ae0e8||'-','source':_0x2872a1,'isManual':_0x2750aa,'status':_0x5ced9b&&_0x2ae0e8?_0x41ea68(0xff):_0x5ced9b?'OK':'Fehlt'});}return _0x23f3e6['sort']((_0x1c9f6a,_0x26d61f)=>_0x1c9f6a[_0x41ea68(0xc0)][_0x41ea68(0x15b)](_0x26d61f[_0x41ea68(0xc0)]));}async function updateSchedulePreview(_0x4c9e50){const _0x40dc0b=a1_0x40b8fb;if(!_0x4c9e50['config'][_0x40dc0b(0xe6)]||!_0x4c9e50[_0x40dc0b(0xaf)][_0x40dc0b(0x11b)])return;let _0x1a1a66={};try{const _0x1244da=await _0x4c9e50[_0x40dc0b(0x109)](_0x40dc0b(0xce));if(_0x1244da&&_0x1244da['val'])_0x1a1a66=JSON[_0x40dc0b(0x131)](_0x1244da[_0x40dc0b(0x14b)]);}catch(_0x57c724){}const _0x1b8d0a=[],_0x341688=Date[_0x40dc0b(0x10d)](),_0x3d09bd=0x30*0x3c*0x3c*0x3e8;try{const _0x1fcc12=await _0x4c9e50[_0x40dc0b(0x13d)](_0x4c9e50[_0x40dc0b(0xaf)][_0x40dc0b(0x11b)]+_0x40dc0b(0x111));if(!_0x1fcc12||!_0x1fcc12[_0x40dc0b(0x14b)])return;const _0x4c9da2=JSON[_0x40dc0b(0x131)](_0x1fcc12[_0x40dc0b(0x14b)]),_0x5dc24c=_0x4c9e50[_0x40dc0b(0xaf)]['calendarSelection']||[],_0x2fb5ff=_0x4c9e50[_0x40dc0b(0xaf)]['devices']||[],_0x4ab1e9=new Set();_0x2fb5ff[_0x40dc0b(0x140)](_0x3a60d2=>{const _0x39018d=_0x40dc0b;if(_0x3a60d2['location'])_0x4ab1e9[_0x39018d(0xac)](_0x3a60d2[_0x39018d(0x155)]);});for(const _0x1136cd of _0x4c9da2){if(_0x1136cd[_0x40dc0b(0xf3)]&&_0x5dc24c[_0x40dc0b(0xa8)]>0x0&&!_0x5dc24c[_0x40dc0b(0x12b)](_0x1136cd['_calName']))continue;const _0x36758c=_0x1136cd[_0x40dc0b(0xcf)]||_0x1136cd[_0x40dc0b(0x12d)]||_0x1136cd['date'];if(!_0x36758c)continue;const _0x48d89b=new Date(_0x36758c),_0x191dc6=_0x48d89b['getTime']();if(isNaN(_0x191dc6))continue;if(_0x191dc6<_0x341688)continue;if(_0x191dc6>_0x341688+_0x3d09bd)continue;const _0x5d3103=(_0x1136cd[_0x40dc0b(0xa6)]||_0x1136cd['summary']||'')['toLowerCase']();let _0x1c9722=![],_0x55105f=[],_0x2caac4=_0x1136cd[_0x40dc0b(0xa6)]||_0x1136cd[_0x40dc0b(0x104)]||_0x40dc0b(0x13e);if(_0x5d3103[_0x40dc0b(0x12b)]('urlaub\x20ende')||_0x5d3103[_0x40dc0b(0x12b)](_0x40dc0b(0xeb))||_0x5d3103['includes'](_0x40dc0b(0xe8)))_0x1c9722=!![],_0x55105f=Array['from'](_0x4ab1e9);else for(const _0x5551ba of _0x4ab1e9){if(_0x5d3103['includes'](_0x5551ba[_0x40dc0b(0x157)]()))_0x55105f[_0x40dc0b(0xd1)](_0x5551ba);}_0x55105f[_0x40dc0b(0xa8)]>0x0&&_0x55105f[_0x40dc0b(0x140)](_0x3ca906=>{const _0x2fa19c=_0x40dc0b;let _0x3c3799=0x3c;if(_0x1c9722){let _0x10f578=0x0;Object[_0x2fa19c(0xef)](_0x1a1a66)['forEach'](_0x306da5=>{if(_0x306da5>_0x10f578)_0x10f578=_0x306da5;}),_0x3c3799=_0x10f578>0x0?_0x10f578:0x78;}else _0x3c3799=_0x1a1a66[_0x3ca906]||0x3c;const _0x2b591f=new Date(_0x191dc6-_0x3c3799*0xea60);_0x1b8d0a[_0x2fa19c(0xd1)]({'eventTime':_0x191dc6,'triggerTime':_0x2b591f[_0x2fa19c(0x151)](),'room':_0x3ca906,'minutes':_0x3c3799,'reason':_0x2caac4,'isGlobal':_0x1c9722});});}}catch(_0xc1f518){}_0x1b8d0a[_0x40dc0b(0xa1)]((_0x4502b6,_0x2c33f1)=>_0x4502b6[_0x40dc0b(0x153)]-_0x2c33f1[_0x40dc0b(0x153)]);const _0x1a28fd=_0x1b8d0a[_0x40dc0b(0xe5)](0x0,0x5);await _0x4c9e50['setStateAsync']('analysis.energy.schedulePreview',{'val':JSON['stringify'](_0x1a28fd),'ack':!![]});}async function monitorEnforcements(_0xdd7734){const _0x1dd117=a1_0x40b8fb;try{const _0x3c1954=_0x1dd117(0xda),_0x3b5100=await _0xdd7734['getStateAsync'](_0x3c1954);if(!_0x3b5100||!_0x3b5100[_0x1dd117(0x14b)])return;let _0x528f20=[];try{_0x528f20=JSON['parse'](_0x3b5100[_0x1dd117(0x14b)]);}catch(_0x29b832){return;}if(!Array[_0x1dd117(0x11a)](_0x528f20)||_0x528f20[_0x1dd117(0xa8)]===0x0)return;const _0x5116d2=Date[_0x1dd117(0x10d)](),_0x4b7406=_0xdd7734[_0x1dd117(0xaf)][_0x1dd117(0xbc)]||[];let _0x35151d=![];for(let _0x345a2e=_0x528f20[_0x1dd117(0xa8)]-0x1;_0x345a2e>=0x0;_0x345a2e--){const _0x578c83=_0x528f20[_0x345a2e];if(_0x5116d2>=_0x578c83['until']){_0xdd7734[_0x1dd117(0xa3)][_0x1dd117(0x13a)](_0x1dd117(0xb7)+_0x578c83[_0x1dd117(0xc0)]+_0x1dd117(0x133)),_0x528f20[_0x1dd117(0xc6)](_0x345a2e,0x1),_0x35151d=!![];continue;}const _0x36ed02=_0x4b7406[_0x1dd117(0x15d)](_0x4881e8=>normalize(_0x4881e8[_0x1dd117(0x155)])===normalize(_0x578c83[_0x1dd117(0xc0)])&&(_0x4881e8['type']===_0x1dd117(0xdb)||_0x4881e8[_0x1dd117(0x120)]===_0x1dd117(0x146)));if(_0x36ed02){const _0x420ba6=await findRelatedId(_0xdd7734,_0x36ed02['id'],'setpoint');if(_0x420ba6){const _0x1cd9a7=await _0xdd7734[_0x1dd117(0x13d)](_0x420ba6);_0x1cd9a7&&typeof _0x1cd9a7[_0x1dd117(0x14b)]===_0x1dd117(0xb0)&&(_0x1cd9a7[_0x1dd117(0x14b)]<0xf&&(_0xdd7734[_0x1dd117(0xa3)]['warn']('ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x578c83[_0x1dd117(0xc0)]+'\x20auf\x20'+_0x1cd9a7[_0x1dd117(0x14b)]+_0x1dd117(0xd8)+_0x578c83[_0x1dd117(0x159)]+_0x1dd117(0x102)),await _0xdd7734[_0x1dd117(0xbf)](_0x420ba6,_0x578c83[_0x1dd117(0x159)]),await logAutomationAction(_0xdd7734,_0x1dd117(0xae)+_0x578c83[_0x1dd117(0xc0)]+':\x20'+_0x1cd9a7[_0x1dd117(0x14b)]+'Â°C\x20->\x20'+_0x578c83[_0x1dd117(0x159)]+_0x1dd117(0x134))));}}}_0x35151d&&await _0xdd7734[_0x1dd117(0xee)](_0x3c1954,{'val':JSON[_0x1dd117(0x15c)](_0x528f20),'ack':!![]});}catch(_0x423ea7){_0xdd7734[_0x1dd117(0xa3)]['error'](_0x1dd117(0xe7)+_0x423ea7[_0x1dd117(0x126)]);}}function a1_0x4127(_0x130f14,_0x287e20){const _0x985aec=a1_0x3b0f();return a1_0x4127=function(_0x1f5821,_0xc9057f){_0x1f5821=_0x1f5821-0x9e;let _0x3b0fdd=_0x985aec[_0x1f5821];return _0x3b0fdd;},a1_0x4127(_0x130f14,_0x287e20);}async function checkCalendarTriggers(_0x412f6e){const _0x5710fd=a1_0x40b8fb;if(!_0x412f6e[_0x5710fd(0xaf)][_0x5710fd(0xe6)]||!_0x412f6e[_0x5710fd(0xaf)][_0x5710fd(0x11b)])return;await updateSchedulePreview(_0x412f6e);let _0x440e0c={},_0xa8af0e={};try{const _0x2bb284=await _0x412f6e[_0x5710fd(0x109)]('analysis.energy.warmupTimes');if(_0x2bb284&&_0x2bb284[_0x5710fd(0x14b)])_0x440e0c=JSON[_0x5710fd(0x131)](_0x2bb284[_0x5710fd(0x14b)]);const _0x5ac29c=await _0x412f6e[_0x5710fd(0x109)]('analysis.energy.warmupSources');if(_0x5ac29c&&_0x5ac29c[_0x5710fd(0x14b)])_0xa8af0e=JSON['parse'](_0x5ac29c[_0x5710fd(0x14b)]);}catch(_0x33791e){}let _0x272640={'default':0x15};try{const _0x5e8838=await _0x412f6e[_0x5710fd(0x109)](_0x5710fd(0xe4));if(_0x5e8838&&_0x5e8838['val'])_0x272640=JSON['parse'](_0x5e8838['val']);}catch(_0x6671ab){}let _0x40c9cc=[];try{const _0x22307e=await _0x412f6e['getStateAsync'](_0x5710fd(0xda));if(_0x22307e&&_0x22307e[_0x5710fd(0x14b)])_0x40c9cc=JSON[_0x5710fd(0x131)](_0x22307e[_0x5710fd(0x14b)]);}catch(_0x440f53){}try{const _0x5b69dc=await _0x412f6e[_0x5710fd(0x13d)](_0x412f6e[_0x5710fd(0xaf)][_0x5710fd(0x11b)]+_0x5710fd(0x111));if(!_0x5b69dc||!_0x5b69dc[_0x5710fd(0x14b)])return;const _0x3ed0ba=JSON['parse'](_0x5b69dc[_0x5710fd(0x14b)]),_0x41f3cf=Date[_0x5710fd(0x10d)](),_0x90195c=_0x412f6e['config'][_0x5710fd(0xbc)]||[],_0x4e1450=_0x412f6e[_0x5710fd(0xaf)][_0x5710fd(0xea)]||[];let _0x39ccd0=![];for(const _0x1ffe14 of _0x3ed0ba){if(_0x1ffe14[_0x5710fd(0xf3)]&&_0x4e1450[_0x5710fd(0xa8)]>0x0&&!_0x4e1450[_0x5710fd(0x12b)](_0x1ffe14[_0x5710fd(0xf3)]))continue;const _0x40a569=_0x1ffe14[_0x5710fd(0xcf)]||_0x1ffe14['eventStart']||_0x1ffe14[_0x5710fd(0x12f)];if(!_0x40a569)continue;const _0x27b507=new Date(_0x40a569);if(isNaN(_0x27b507['getTime']()))continue;const _0x3caf5f=(_0x1ffe14['event']||_0x1ffe14[_0x5710fd(0x104)]||'')[_0x5710fd(0x157)]();if(_0x3caf5f[_0x5710fd(0x12b)](_0x5710fd(0x116))||_0x3caf5f['includes'](_0x5710fd(0xeb))||_0x3caf5f[_0x5710fd(0x12b)](_0x5710fd(0xe8))){let _0x310d01=0x0;Object[_0x5710fd(0xef)](_0x440e0c)['forEach'](_0xa971ee=>{if(_0xa971ee>_0x310d01)_0x310d01=_0xa971ee;});if(_0x310d01===0x0)_0x310d01=0x78;const _0x2e4216=_0x27b507[_0x5710fd(0x151)]()-_0x310d01*0xea60;_0x41f3cf>=_0x2e4216&&_0x41f3cf<_0x27b507[_0x5710fd(0x151)]()&&(_0x412f6e[_0x5710fd(0x103)]!==_0x5710fd(0xf0)&&(_0x412f6e[_0x5710fd(0xa3)][_0x5710fd(0x13a)](_0x5710fd(0x127)+_0x310d01+_0x5710fd(0xbd)),await _0x412f6e[_0x5710fd(0xee)](_0x5710fd(0x113),{'val':_0x5710fd(0xf0),'ack':![]})));}for(const _0x30fb3d of _0x90195c){if(_0x30fb3d[_0x5710fd(0x155)]){const _0x484dff=_0x30fb3d['location'][_0x5710fd(0x157)](),_0x27cada=(_0x30fb3d[_0x5710fd(0x149)]||'')[_0x5710fd(0x157)]();let _0x3b84a6=_0x3caf5f['includes'](_0x484dff);!_0x3b84a6&&_0x27cada[_0x5710fd(0xa8)]>0x3&&_0x3caf5f[_0x5710fd(0x12b)](_0x27cada)&&(_0x3b84a6=!![]);if(_0x3b84a6){const _0x3858af=_0x440e0c[_0x30fb3d['location']]||0x3c,_0x4c87ba=_0xa8af0e[_0x30fb3d[_0x5710fd(0x155)]]||_0x5710fd(0xc3),_0xc7775e=_0x27b507[_0x5710fd(0x151)]()-_0x3858af*0xea60;if(_0x41f3cf>=_0xc7775e&&_0x41f3cf<_0x27b507[_0x5710fd(0x151)]()){const _0x584c0f=lastActions[_0x5710fd(0x135)+_0x30fb3d[_0x5710fd(0x155)]];if(_0x584c0f&&_0x41f3cf-_0x584c0f<CAL_COOLDOWN_MS)continue;const _0x589850=await findRelatedId(_0x412f6e,_0x30fb3d['id'],'setpoint');if(_0x589850){let _0x783fbc=_0x272640[_0x30fb3d[_0x5710fd(0x155)]];if(_0x783fbc===undefined)_0x783fbc=_0x272640['default'];if(_0x783fbc===undefined)_0x783fbc=0x15;const _0x1e8ad8=await _0x412f6e['getForeignStateAsync'](_0x589850);if(_0x1e8ad8&&typeof _0x1e8ad8['val']===_0x5710fd(0xb0)&&_0x1e8ad8['val']<_0x783fbc-0.5){_0x412f6e[_0x5710fd(0xa3)][_0x5710fd(0x13a)](_0x5710fd(0x14d)+_0x4c87ba+_0x5710fd(0x15e)+_0x30fb3d[_0x5710fd(0x155)]+_0x5710fd(0x9f)+_0x3caf5f+_0x5710fd(0xf6)+_0x783fbc+_0x5710fd(0x137)+_0x3858af+_0x5710fd(0xbd)),await _0x412f6e['setForeignStateAsync'](_0x589850,_0x783fbc),await logAutomationAction(_0x412f6e,_0x5710fd(0xfc)+_0x30fb3d[_0x5710fd(0x155)]+_0x5710fd(0x144)+_0x783fbc+_0x5710fd(0x112)+_0x4c87ba+')'),lastActions[_0x5710fd(0x135)+_0x30fb3d['location']]=_0x41f3cf;const _0x53bf43=_0x40c9cc[_0x5710fd(0x14e)](_0x4baec1=>_0x4baec1[_0x5710fd(0xc0)]===_0x30fb3d[_0x5710fd(0x155)]);if(_0x53bf43!==-0x1)_0x40c9cc[_0x5710fd(0xc6)](_0x53bf43,0x1);_0x40c9cc[_0x5710fd(0xd1)]({'room':_0x30fb3d[_0x5710fd(0x155)],'target':_0x783fbc,'until':_0x27b507[_0x5710fd(0x151)]()}),_0x39ccd0=!![];}}}}}}}_0x39ccd0&&await _0x412f6e[_0x5710fd(0xee)](_0x5710fd(0xda),{'val':JSON[_0x5710fd(0x15c)](_0x40c9cc),'ack':!![]});}catch(_0x12fdce){_0x412f6e[_0x5710fd(0xa3)][_0x5710fd(0xcd)]('Calendar\x20Check\x20Error:\x20'+_0x12fdce['message']);}}async function manageMpcIntervention(_0x494643,_0xe5da05,_0x24ce6d){const _0x23939a=a1_0x40b8fb;try{const _0x1cdb66='analysis.energy.mpcActiveInterventions',_0x16d6ad=await _0x494643[_0x23939a(0x109)](_0x1cdb66);let _0x5197e6=[];if(_0x16d6ad&&_0x16d6ad[_0x23939a(0x14b)])try{_0x5197e6=JSON[_0x23939a(0x131)](_0x16d6ad[_0x23939a(0x14b)]);}catch(_0x2adc96){}const _0xf56d46=_0x5197e6[_0x23939a(0xc5)](_0xe5da05);if(_0x24ce6d===_0x23939a(0xac))_0xf56d46===-0x1&&(_0x5197e6[_0x23939a(0xd1)](_0xe5da05),await _0x494643[_0x23939a(0xee)](_0x1cdb66,{'val':JSON[_0x23939a(0x15c)](_0x5197e6),'ack':!![]}));else _0x24ce6d==='remove'&&(_0xf56d46!==-0x1&&(_0x5197e6[_0x23939a(0xc6)](_0xf56d46,0x1),await _0x494643['setStateAsync'](_0x1cdb66,{'val':JSON[_0x23939a(0x15c)](_0x5197e6),'ack':!![]})));}catch(_0x544b59){}}async function cleanupGhostInterventions(_0x2af320){const _0x4e04c1=a1_0x40b8fb;try{const _0x4233c1=_0x4e04c1(0x13f),_0xe2d2e8=await _0x2af320[_0x4e04c1(0x109)](_0x4233c1);if(!_0xe2d2e8||!_0xe2d2e8[_0x4e04c1(0x14b)])return;const _0x3c0724=JSON[_0x4e04c1(0x131)](_0xe2d2e8[_0x4e04c1(0x14b)]);if(!Array[_0x4e04c1(0x11a)](_0x3c0724)||_0x3c0724[_0x4e04c1(0xa8)]===0x0)return;let _0x3ab6d6={'default':0x15};try{const _0x42390c=await _0x2af320[_0x4e04c1(0x109)](_0x4e04c1(0xe4));if(_0x42390c&&_0x42390c[_0x4e04c1(0x14b)])_0x3ab6d6=JSON[_0x4e04c1(0x131)](_0x42390c[_0x4e04c1(0x14b)]);}catch(_0x16a7c2){}let _0x2bcad7=[];try{const _0x598ccb=await _0x2af320[_0x4e04c1(0x109)]('analysis.energy.ventilationAlerts');if(_0x598ccb&&_0x598ccb[_0x4e04c1(0x14b)])_0x2bcad7=JSON[_0x4e04c1(0x131)](_0x598ccb['val']);}catch(_0x4494a9){}const _0x47345c=_0x2af320[_0x4e04c1(0xaf)][_0x4e04c1(0xbc)]||[];let _0x14b9aa=![];for(let _0x4ac522=_0x3c0724[_0x4e04c1(0xa8)]-0x1;_0x4ac522>=0x0;_0x4ac522--){const _0x47bbf6=_0x3c0724[_0x4ac522],_0x596a34=_0x47345c['find'](_0x4e0101=>normalize(_0x4e0101[_0x4e04c1(0x155)])===normalize(_0x47bbf6)&&(_0x4e0101[_0x4e04c1(0x120)]===_0x4e04c1(0xdb)||_0x4e0101[_0x4e04c1(0x120)]===_0x4e04c1(0x146)));if(!_0x596a34){_0x2af320[_0x4e04c1(0xa3)][_0x4e04c1(0xcd)](_0x4e04c1(0x154)+_0x47bbf6+'\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.'),_0x3c0724['splice'](_0x4ac522,0x1),_0x14b9aa=!![];continue;}if(_0x596a34){const _0x5e9cf2=await findRelatedId(_0x2af320,_0x596a34['id'],_0x4e04c1(0x13b)),_0x28abd9=await _0x2af320[_0x4e04c1(0x13d)](_0x596a34['id']);if(_0x5e9cf2){const _0x31598d=await _0x2af320['getForeignStateAsync'](_0x5e9cf2);if(_0x31598d&&typeof _0x31598d['val']===_0x4e04c1(0xb0)){let _0x18e674=![],_0x2b00ce='';Math[_0x4e04c1(0xf1)](_0x31598d[_0x4e04c1(0x14b)]-ECO_TEMP)>0.5&&(_0x18e674=!![],_0x2b00ce='manual');if(!_0x18e674&&_0x28abd9&&typeof _0x28abd9[_0x4e04c1(0x14b)]===_0x4e04c1(0xb0)){const _0x67d30a=_0x3ab6d6[_0x47bbf6]||_0x3ab6d6[_0x4e04c1(0x132)]||0x15;_0x28abd9[_0x4e04c1(0x14b)]<_0x67d30a+0.2&&(_0x18e674=!![],_0x2b00ce=_0x4e04c1(0x107));}if(_0x18e674){if(_0x2b00ce===_0x4e04c1(0x150)){_0x2af320[_0x4e04c1(0xa3)]['info']('ðŸ§¹\x20[MPC\x20CLEANUP]\x20'+_0x47bbf6+_0x4e04c1(0xaa)+_0x31598d[_0x4e04c1(0x14b)]+_0x4e04c1(0x139)+ECO_TEMP+_0x4e04c1(0xed));const _0x89507c=lastActions['cal_'+_0x47bbf6],_0x5acd81=_0x89507c&&Date[_0x4e04c1(0x10d)]()-_0x89507c<0x2*0x3c*0x3e8;if(!_0x5acd81&&_0x31598d['val']>ECO_TEMP+0.5)_0x2af320['sendToPythonWrapper']&&(_0x2af320[_0x4e04c1(0xa3)][_0x4e04c1(0x13a)](_0x4e04c1(0xec)+_0x47bbf6+_0x4e04c1(0xcb)),_0x2af320['sendToPythonWrapper'](_0x4e04c1(0xcc),{'room':_0x47bbf6}));else _0x5acd81&&_0x2af320[_0x4e04c1(0xa3)][_0x4e04c1(0x13a)](_0x4e04c1(0x13c)+_0x47bbf6+_0x4e04c1(0xd5));}else{if(_0x2b00ce===_0x4e04c1(0x107)){let _0xedd489=![];if(_0x2bcad7[_0x4e04c1(0x15d)](_0x260403=>_0x260403['room']===_0x47bbf6))_0xedd489=!![];const _0x5600cc=_0x47345c[_0x4e04c1(0x142)](_0x3011a8=>normalize(_0x3011a8[_0x4e04c1(0x155)])===normalize(_0x47bbf6)&&(_0x3011a8['type']===_0x4e04c1(0xd3)||_0x3011a8[_0x4e04c1(0x120)]===_0x4e04c1(0x122)||_0x3011a8[_0x4e04c1(0x120)]==='contact'));for(const _0x5b6ad8 of _0x5600cc){try{const _0x420090=await _0x2af320[_0x4e04c1(0x13d)](_0x5b6ad8['id']);if(_0x420090&&(_0x420090[_0x4e04c1(0x14b)]===!![]||_0x420090[_0x4e04c1(0x14b)]===0x1||String(_0x420090[_0x4e04c1(0x14b)])[_0x4e04c1(0x157)]()===_0x4e04c1(0xd9)))_0xedd489=!![];}catch(_0x597a4a){}}if(_0xedd489)_0x2af320[_0x4e04c1(0xa3)][_0x4e04c1(0x13a)](_0x4e04c1(0xf4)+_0x47bbf6+_0x4e04c1(0x148));else{const _0x215a4a=_0x3ab6d6[_0x47bbf6]||_0x3ab6d6[_0x4e04c1(0x132)]||0x15;_0x2af320[_0x4e04c1(0xa3)]['info'](_0x4e04c1(0xfe)+_0x47bbf6+_0x4e04c1(0x100)+_0x28abd9[_0x4e04c1(0x14b)]+_0x4e04c1(0xad)+(_0x215a4a+0.2)+_0x4e04c1(0x12c)),await _0x2af320[_0x4e04c1(0xbf)](_0x5e9cf2,_0x215a4a),await logAutomationAction(_0x2af320,'[WATCHDOG]\x20'+_0x47bbf6+_0x4e04c1(0xe1)+_0x215a4a+'Â°C'),lastActions[_0x4e04c1(0xa0)+_0x47bbf6]=Date[_0x4e04c1(0x10d)]();}}}_0x3c0724['splice'](_0x4ac522,0x1),_0x14b9aa=!![];}}}}}_0x14b9aa&&await _0x2af320['setStateAsync'](_0x4233c1,{'val':JSON[_0x4e04c1(0x15c)](_0x3c0724),'ack':!![]});}catch(_0x5a045a){}}async function applyEnergySavings(_0x324cd7,_0x210707){const _0x5f3b9f=a1_0x40b8fb;await cleanupGhostInterventions(_0x324cd7);if(!_0x210707||_0x210707[_0x5f3b9f(0xa8)]===0x0)return;const _0x2e39d1=_0x324cd7[_0x5f3b9f(0xaf)]['devices']||[],_0x4e55d1=Date[_0x5f3b9f(0x10d)]();for(const _0x4a7fe8 of _0x210707){const _0xa52b4f=_0x4a7fe8[_0x5f3b9f(0xc0)],_0x83aacd=_0x4a7fe8[_0x5f3b9f(0xf8)],_0x208909=_0x4a7fe8['target']||0x15;if(lastActions['rescue_'+_0xa52b4f]&&_0x4e55d1-lastActions[_0x5f3b9f(0xa0)+_0xa52b4f]<RESCUE_LOCK_MS)continue;const _0x36ce50=_0x2e39d1[_0x5f3b9f(0x15d)](_0x43c4a5=>normalize(_0x43c4a5['location'])===normalize(_0xa52b4f)&&(_0x43c4a5['type']===_0x5f3b9f(0xdb)||_0x43c4a5['type']==='thermostat'));if(!_0x36ce50)continue;const _0x122a2f=await findRelatedId(_0x324cd7,_0x36ce50['id'],_0x5f3b9f(0x13b));if(_0x122a2f){if(lastActions[_0x5f3b9f(0xa7)+_0xa52b4f]&&_0x4e55d1-lastActions['mpc_'+_0xa52b4f]<0x1e*0x3c*0x3e8)continue;const _0x1d6eed=await _0x324cd7['getForeignStateAsync'](_0x122a2f);if(_0x1d6eed&&typeof _0x1d6eed[_0x5f3b9f(0x14b)]===_0x5f3b9f(0xb0)){const _0x8f2a12=_0x1d6eed[_0x5f3b9f(0x14b)];_0x8f2a12!==ECO_TEMP&&await manageMpcIntervention(_0x324cd7,_0xa52b4f,_0x5f3b9f(0x101));if(_0x83aacd>0x1e)_0x8f2a12>ECO_TEMP+0.5&&(_0x324cd7[_0x5f3b9f(0xa3)]['info'](_0x5f3b9f(0xe2)+_0xa52b4f+_0x5f3b9f(0xbb)+ECO_TEMP+_0x5f3b9f(0x14c)+_0x83aacd+_0x5f3b9f(0x11f)),await _0x324cd7[_0x5f3b9f(0xbf)](_0x122a2f,ECO_TEMP),await manageMpcIntervention(_0x324cd7,_0xa52b4f,'add'),lastActions[_0x5f3b9f(0xa7)+_0xa52b4f]=_0x4e55d1,await logAutomationAction(_0x324cd7,'[MPC]\x20'+_0xa52b4f+_0x5f3b9f(0xa5)+ECO_TEMP+'Â°C'));else _0x83aacd<=0xf&&(_0x8f2a12<_0x208909&&(_0x324cd7['log'][_0x5f3b9f(0x13a)](_0x5f3b9f(0x124)+_0xa52b4f+_0x5f3b9f(0xb3)+_0x208909+_0x5f3b9f(0x106)),await _0x324cd7[_0x5f3b9f(0xbf)](_0x122a2f,_0x208909),await manageMpcIntervention(_0x324cd7,_0xa52b4f,'remove'),lastActions['mpc_'+_0xa52b4f]=_0x4e55d1,await logAutomationAction(_0x324cd7,'[MPC]\x20'+_0xa52b4f+_0x5f3b9f(0x125)+_0x208909+'Â°C')));}}else _0x324cd7[_0x5f3b9f(0xa3)][_0x5f3b9f(0xcd)](_0x5f3b9f(0xf7)+_0xa52b4f+_0x5f3b9f(0x158));}}module['exports']={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};