const a1_0x28d26d=a1_0x4e80;(function(_0x58f375,_0x44e703){const _0xe15058=a1_0x4e80,_0x8a8f18=_0x58f375();while(!![]){try{const _0x3d1e42=parseInt(_0xe15058(0x20f))/0x1+parseInt(_0xe15058(0x225))/0x2*(parseInt(_0xe15058(0x1ff))/0x3)+parseInt(_0xe15058(0x296))/0x4*(parseInt(_0xe15058(0x1f9))/0x5)+-parseInt(_0xe15058(0x26d))/0x6+parseInt(_0xe15058(0x28c))/0x7+parseInt(_0xe15058(0x235))/0x8+parseInt(_0xe15058(0x295))/0x9*(-parseInt(_0xe15058(0x27a))/0xa);if(_0x3d1e42===_0x44e703)break;else _0x8a8f18['push'](_0x8a8f18['shift']());}catch(_0x457c53){_0x8a8f18['push'](_0x8a8f18['shift']());}}}(a1_0x5611,0x58644));const a1_0x3658f9=(function(){let _0xd3d901=!![];return function(_0x533832,_0x23e563){const _0x1f05c1=_0xd3d901?function(){const _0x323abb=a1_0x4e80;if(_0x23e563){const _0x1f4c31=_0x23e563[_0x323abb(0x21c)](_0x533832,arguments);return _0x23e563=null,_0x1f4c31;}}:function(){};return _0xd3d901=![],_0x1f05c1;};}()),a1_0x106a23=a1_0x3658f9(this,function(){const _0xfbc165=a1_0x4e80;return a1_0x106a23[_0xfbc165(0x27d)]()['search'](_0xfbc165(0x261))[_0xfbc165(0x27d)]()[_0xfbc165(0x244)](a1_0x106a23)[_0xfbc165(0x224)](_0xfbc165(0x261));});a1_0x106a23();'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x5876d9){const _0x32545f=a1_0x4e80;if(!_0x5876d9)return'';return _0x5876d9[_0x32545f(0x253)]()['replace'](/\s+/g,'')[_0x32545f(0x24b)]();}function getWarmupRobust(_0x2817b4,_0x5c5438){const _0x481228=a1_0x4e80;if(!_0x2817b4||!_0x5c5438)return 0x3c;if(_0x2817b4[_0x5c5438]!==undefined)return _0x2817b4[_0x5c5438];const _0x225452=_0x5c5438[_0x481228(0x253)]()[_0x481228(0x231)](/√§/g,'ae')['replace'](/√∂/g,'oe')[_0x481228(0x231)](/√º/g,'ue')[_0x481228(0x231)](/√ü/g,'ss')[_0x481228(0x231)](/\s+/g,'_')[_0x481228(0x231)](/[^a-z0-9_]/g,'');if(_0x2817b4[_0x225452]!==undefined)return _0x2817b4[_0x225452];return 0x3c;}async function logAutomationAction(_0x304641,_0xfda8f3){const _0x362002=a1_0x4e80;await _0x304641[_0x362002(0x205)]('analysis.automation.lastAction',{'val':_0xfda8f3,'ack':!![]});try{const _0x5b052a=_0x362002(0x1f8),_0x4333ea=await _0x304641[_0x362002(0x26e)](_0x5b052a);let _0x35b4d3=[];if(_0x4333ea&&_0x4333ea[_0x362002(0x1fd)])try{_0x35b4d3=JSON[_0x362002(0x26a)](_0x4333ea['val']);}catch(_0x34a92f){}_0x35b4d3[_0x362002(0x264)]({'ts':Date['now'](),'msg':_0xfda8f3});if(_0x35b4d3[_0x362002(0x293)]>0x32)_0x35b4d3=_0x35b4d3[_0x362002(0x2a2)](0x0,0x32);await _0x304641[_0x362002(0x205)](_0x5b052a,{'val':JSON['stringify'](_0x35b4d3),'ack':!![]});}catch(_0xf6211a){}}async function handlePrediction(_0xd79887,_0x3097fe,_0x58ceb4){const _0x345037=a1_0x4e80;if(!_0x3097fe||_0x3097fe==='Unknown')return;let _0x22d914=_0x345037(0x23b),_0x53cacb=0.6;try{const _0xbc259f=await _0xd79887[_0x345037(0x26e)](_0x345037(0x259));if(_0xbc259f&&_0xbc259f['val'])_0x22d914=_0xbc259f['val'];const _0x22a86a=await _0xd79887['getStateAsync']('analysis.automation.confidenceThreshold');if(_0x22a86a&&_0x22a86a[_0x345037(0x1fd)])_0x53cacb=_0x22a86a[_0x345037(0x1fd)];}catch(_0x16b010){}if(_0x22d914==='off'||_0x58ceb4<_0x53cacb)return;const _0x1e64ea=Date['now']();if(lastActions[_0x3097fe]&&_0x1e64ea-lastActions[_0x3097fe]<COOLDOWN_MS)return;const _0x54ad9c=_0xd79887[_0x345037(0x242)][_0x345037(0x20b)]||[],_0x34206e=normalize(_0x3097fe),_0x424b1d=_0x54ad9c[_0x345037(0x1e7)](_0x57768d=>normalize(_0x57768d[_0x345037(0x25c)])===_0x34206e&&(_0x57768d[_0x345037(0x274)]===_0x345037(0x265)||_0x57768d[_0x345037(0x274)]===_0x345037(0x280)||_0x57768d['type']===_0x345037(0x290)));if(!_0x424b1d)return;const _0x3f85cf=await aiAgent[_0x345037(0x260)](_0xd79887,_0x3097fe,_0x424b1d[_0x345037(0x218)],_0x58ceb4);if(!_0x3f85cf[_0x345037(0x241)])return;const _0x1bd017=_0x345037(0x297)+_0x3097fe+_0x345037(0x25e)+_0x424b1d[_0x345037(0x218)]+'\x20('+_0x3f85cf[_0x345037(0x1f4)]+')';await logAutomationAction(_0xd79887,'['+_0x22d914[_0x345037(0x201)]()+']\x20'+_0x1bd017);if(_0x22d914===_0x345037(0x29b)){const _0x2fd5d0=await _0xd79887[_0x345037(0x286)](_0x424b1d['id']);(!_0x2fd5d0||!_0x2fd5d0[_0x345037(0x1fd)]&&_0x2fd5d0['val']!==!![])&&await _0xd79887[_0x345037(0x1e0)](_0x424b1d['id'],!![]),lastActions[_0x3097fe]=_0x1e64ea;}}async function findRelatedId(_0x58ad93,_0x218dff,_0x4ac633='setpoint'){const _0x508eb9=a1_0x4e80;if(_0x4ac633==='setpoint'&&_0x58ad93[_0x508eb9(0x242)][_0x508eb9(0x279)]){let _0x286aef=_0x58ad93[_0x508eb9(0x242)][_0x508eb9(0x279)];if(typeof _0x286aef===_0x508eb9(0x289))try{_0x286aef=JSON[_0x508eb9(0x26a)](_0x286aef);}catch(_0x4e0b87){}if(_0x286aef&&_0x286aef[_0x218dff])return _0x286aef[_0x218dff];}if(_0x4ac633==='valve'&&_0x58ad93[_0x508eb9(0x242)][_0x508eb9(0x285)]){let _0x395e90=_0x58ad93[_0x508eb9(0x242)][_0x508eb9(0x285)];if(typeof _0x395e90===_0x508eb9(0x289))try{_0x395e90=JSON[_0x508eb9(0x26a)](_0x395e90);}catch(_0x36b814){}if(_0x395e90&&_0x395e90[_0x218dff])return _0x395e90[_0x218dff];}let _0x4ef2f1=[];if(_0x4ac633===_0x508eb9(0x2a5))_0x4ef2f1=[{'s':_0x508eb9(0x256),'t':_0x508eb9(0x298)},{'s':'.1.TEMPERATURE','t':_0x508eb9(0x298)},{'s':_0x508eb9(0x2a7),'t':_0x508eb9(0x213)},{'s':_0x508eb9(0x29a),'t':'SET_POINT_TEMPERATURE'},{'s':'local_temperature','t':_0x508eb9(0x29c)},{'s':_0x508eb9(0x228),'t':_0x508eb9(0x210)},{'s':'temperature','t':'target_temperature'},{'s':_0x508eb9(0x21e),'t':_0x508eb9(0x20e)},{'s':_0x508eb9(0x221),'t':_0x508eb9(0x21f)},{'s':'temperature','t':_0x508eb9(0x2a5)}];else _0x4ac633===_0x508eb9(0x227)&&(_0x4ef2f1=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x508eb9(0x237)},{'s':_0x508eb9(0x2a7),'t':_0x508eb9(0x237)},{'s':_0x508eb9(0x2a7),'t':_0x508eb9(0x2a0)},{'s':_0x508eb9(0x228),'t':'pi_heating_demand'},{'s':'temperature','t':_0x508eb9(0x292)},{'s':_0x508eb9(0x1ec),'t':'level'}]);for(const _0x21cb70 of _0x4ef2f1){if(_0x218dff[_0x508eb9(0x1f1)](_0x21cb70['s'])){const _0x578edd=_0x218dff['replace'](_0x21cb70['s'],_0x21cb70['t']),_0xc5970=await _0x58ad93[_0x508eb9(0x1fe)](_0x578edd);if(_0xc5970)return _0x578edd;}}try{const _0x4d0932=_0x218dff[_0x508eb9(0x1e1)]('.');if(_0x4d0932[_0x508eb9(0x293)]>0x2){const _0x1040ba=_0x4d0932[_0x508eb9(0x2a2)](0x0,-0x1)[_0x508eb9(0x258)]('.'),_0x4d3842=await _0x58ad93['getForeignObjectsAsync'](_0x1040ba+'.*'),_0x108da5=[],_0x258d91=_0x218dff['split'](/[._]+/)['filter'](_0x516958=>![_0x508eb9(0x250),'0',_0x508eb9(0x248),_0x508eb9(0x246),_0x508eb9(0x245),_0x508eb9(0x1ec),'actual',_0x508eb9(0x273),_0x508eb9(0x282),'state'][_0x508eb9(0x1f1)](_0x516958['toLowerCase']()));for(const [_0x286049,_0x448a45]of Object[_0x508eb9(0x24f)](_0x4d3842)){if(_0x286049===_0x218dff)continue;if(_0x448a45&&_0x448a45[_0x508eb9(0x255)]){const _0x41722a=_0x286049[_0x508eb9(0x253)](),_0x23cb1f=(_0x448a45[_0x508eb9(0x255)][_0x508eb9(0x229)]||'')[_0x508eb9(0x253)](),_0x462b16=(_0x448a45[_0x508eb9(0x255)][_0x508eb9(0x217)]||'')[_0x508eb9(0x253)]();let _0x1e2745=![];if(_0x4ac633===_0x508eb9(0x2a5)&&_0x448a45[_0x508eb9(0x255)][_0x508eb9(0x22f)]===!![])_0x1e2745=_0x41722a['includes'](_0x508eb9(0x272))||_0x41722a[_0x508eb9(0x1f1)](_0x508eb9(0x269))||_0x41722a['includes']('target')||_0x23cb1f[_0x508eb9(0x1f1)](_0x508eb9(0x23e))||_0x23cb1f[_0x508eb9(0x1f1)](_0x508eb9(0x29f));else _0x4ac633===_0x508eb9(0x227)&&(_0x1e2745=_0x41722a[_0x508eb9(0x1f1)]('level')||_0x41722a[_0x508eb9(0x1f1)]('valve')||_0x41722a[_0x508eb9(0x1f1)](_0x508eb9(0x22b))||_0x41722a[_0x508eb9(0x1f1)](_0x508eb9(0x26b))||_0x23cb1f[_0x508eb9(0x1f1)](_0x508eb9(0x208))||_0x23cb1f['includes'](_0x508eb9(0x21a))||_0x462b16[_0x508eb9(0x1f1)]('%'));if(_0x1e2745){const _0x47b6af=_0x286049[_0x508eb9(0x1e1)](/[._]+/)[_0x508eb9(0x28d)](_0x224a9d=>_0x224a9d['toLowerCase']());let _0x110dc5=0x0;_0x258d91['forEach'](_0x464324=>{const _0x1e574b=_0x508eb9;if(_0x47b6af['includes'](_0x464324[_0x1e574b(0x253)]()))_0x110dc5++;}),_0x108da5[_0x508eb9(0x22e)]({'id':_0x286049,'score':_0x110dc5});}}}if(_0x108da5[_0x508eb9(0x293)]>0x0){_0x108da5[_0x508eb9(0x20a)]((_0x29f8e6,_0xf5be5f)=>_0xf5be5f['score']-_0x29f8e6['score']);if(_0x108da5[0x0][_0x508eb9(0x233)]>0x0)return _0x108da5[0x0]['id'];}}}catch(_0x110276){}return null;}async function scanThermostats(_0x488612){const _0x3ab507=a1_0x4e80,_0x304989=_0x488612[_0x3ab507(0x242)][_0x3ab507(0x20b)]||[],_0x1d8aaa=[],_0x2650b4=_0x304989['filter'](_0x1b5a59=>_0x1b5a59['id']&&_0x1b5a59['id'][_0x3ab507(0x1f1)](_0x3ab507(0x1ec))||_0x1b5a59[_0x3ab507(0x274)]&&[_0x3ab507(0x1ec),_0x3ab507(0x1f2),_0x3ab507(0x273)]['includes'](_0x1b5a59[_0x3ab507(0x274)])||_0x1b5a59[_0x3ab507(0x218)]&&_0x1b5a59[_0x3ab507(0x218)][_0x3ab507(0x253)]()['includes'](_0x3ab507(0x1e3)));for(const _0x6cce4f of _0x2650b4){const _0x4f22a1=await findRelatedId(_0x488612,_0x6cce4f['id'],'setpoint'),_0x5a9072=await findRelatedId(_0x488612,_0x6cce4f['id'],'valve');let _0x4751cb=_0x3ab507(0x25f),_0x216ad2=![],_0x42dd1a=_0x488612[_0x3ab507(0x242)][_0x3ab507(0x279)]||{};if(typeof _0x42dd1a===_0x3ab507(0x289))try{_0x42dd1a=JSON['parse'](_0x42dd1a);}catch(_0x3d5c91){}let _0xbb5489=_0x488612[_0x3ab507(0x242)][_0x3ab507(0x285)]||{};if(typeof _0xbb5489===_0x3ab507(0x289))try{_0xbb5489=JSON[_0x3ab507(0x26a)](_0xbb5489);}catch(_0x34216d){}if(_0x42dd1a[_0x6cce4f['id']]&&_0x42dd1a[_0x6cce4f['id']]===_0x4f22a1||_0xbb5489[_0x6cce4f['id']]&&_0xbb5489[_0x6cce4f['id']]===_0x5a9072)_0x4751cb=_0x3ab507(0x209),_0x216ad2=!![];else(_0x4f22a1||_0x5a9072)&&(_0x4751cb=_0x3ab507(0x21b));_0x1d8aaa[_0x3ab507(0x22e)]({'room':_0x6cce4f[_0x3ab507(0x25c)]||_0x3ab507(0x23f),'sensorId':_0x6cce4f['id'],'setpointId':_0x4f22a1||'-','valveId':_0x5a9072||'-','source':_0x4751cb,'isManual':_0x216ad2,'status':_0x4f22a1&&_0x5a9072?_0x3ab507(0x2a4):_0x4f22a1?'OK':_0x3ab507(0x275)});}return _0x1d8aaa['sort']((_0x1c7591,_0x51a2ac)=>_0x1c7591[_0x3ab507(0x1e4)][_0x3ab507(0x24c)](_0x51a2ac[_0x3ab507(0x1e4)]));}async function updateSchedulePreview(_0x350c59){const _0x10bd4d=a1_0x4e80;if(!_0x350c59['config'][_0x10bd4d(0x202)]||!_0x350c59['config'][_0x10bd4d(0x206)])return;let _0x303d8a={};try{const _0x4e83f2=await _0x350c59[_0x10bd4d(0x26e)](_0x10bd4d(0x1fc));if(_0x4e83f2&&_0x4e83f2['val'])_0x303d8a=JSON[_0x10bd4d(0x26a)](_0x4e83f2[_0x10bd4d(0x1fd)]);}catch(_0x3120ba){}const _0xf1ed47=[],_0x3394db=Date['now'](),_0x380618=0x30*0x3c*0x3c*0x3e8;try{const _0x43c2f5=await _0x350c59[_0x10bd4d(0x286)](_0x350c59[_0x10bd4d(0x242)][_0x10bd4d(0x206)]+_0x10bd4d(0x1e2));if(!_0x43c2f5||!_0x43c2f5[_0x10bd4d(0x1fd)])return;const _0x2d0ab9=JSON[_0x10bd4d(0x26a)](_0x43c2f5[_0x10bd4d(0x1fd)]),_0x2be574=_0x350c59[_0x10bd4d(0x242)][_0x10bd4d(0x24a)]||[],_0x404fe4=_0x350c59['config'][_0x10bd4d(0x20b)]||[],_0x421649=new Set();_0x404fe4[_0x10bd4d(0x24e)](_0x25e5bc=>{const _0x2f8312=_0x10bd4d;if(_0x25e5bc[_0x2f8312(0x25c)])_0x421649[_0x2f8312(0x27e)](_0x25e5bc[_0x2f8312(0x25c)]);});for(const _0x3510a0 of _0x2d0ab9){if(_0x3510a0[_0x10bd4d(0x29d)]&&_0x2be574[_0x10bd4d(0x293)]>0x0&&!_0x2be574[_0x10bd4d(0x1f1)](_0x3510a0[_0x10bd4d(0x29d)]))continue;const _0x17e371=_0x3510a0[_0x10bd4d(0x263)]||_0x3510a0['eventStart']||_0x3510a0[_0x10bd4d(0x252)];if(!_0x17e371)continue;const _0x46ffa9=new Date(_0x17e371),_0x29f153=_0x46ffa9[_0x10bd4d(0x277)]();if(isNaN(_0x29f153))continue;if(_0x29f153<_0x3394db)continue;if(_0x29f153>_0x3394db+_0x380618)continue;const _0xa22e88=(_0x3510a0[_0x10bd4d(0x2a1)]||_0x3510a0['summary']||'')[_0x10bd4d(0x253)]();let _0x163474=![],_0x314ade=[],_0x23d1ef=_0x3510a0['event']||_0x3510a0['summary']||_0x10bd4d(0x23f);if(_0xa22e88[_0x10bd4d(0x1f1)](_0x10bd4d(0x223))||_0xa22e88[_0x10bd4d(0x1f1)](_0x10bd4d(0x1ef))||_0xa22e88['includes'](_0x10bd4d(0x1f6)))_0x163474=!![],_0x314ade=Array['from'](_0x421649);else for(const _0x21b419 of _0x421649){if(_0xa22e88[_0x10bd4d(0x1f1)](_0x21b419[_0x10bd4d(0x253)]()))_0x314ade[_0x10bd4d(0x22e)](_0x21b419);}_0x314ade[_0x10bd4d(0x293)]>0x0&&_0x314ade[_0x10bd4d(0x24e)](_0x1dfc9e=>{const _0x3efce8=_0x10bd4d;let _0x583a29=0x3c;if(_0x163474){let _0x275726=0x0;Object['values'](_0x303d8a)[_0x3efce8(0x24e)](_0x48b2bd=>{if(_0x48b2bd>_0x275726)_0x275726=_0x48b2bd;}),_0x583a29=_0x275726>0x0?_0x275726:0x78;}else _0x583a29=getWarmupRobust(_0x303d8a,_0x1dfc9e);const _0x4000e0=new Date(_0x29f153-_0x583a29*0xea60);_0xf1ed47[_0x3efce8(0x22e)]({'eventTime':_0x29f153,'triggerTime':_0x4000e0[_0x3efce8(0x277)](),'room':_0x1dfc9e,'minutes':_0x583a29,'reason':_0x23d1ef,'isGlobal':_0x163474});});}}catch(_0x2f57c7){}_0xf1ed47['sort']((_0x4565fa,_0x41bb69)=>_0x4565fa[_0x10bd4d(0x28f)]-_0x41bb69['triggerTime']);const _0x5b65ed=_0xf1ed47[_0x10bd4d(0x2a2)](0x0,0x5);await _0x350c59[_0x10bd4d(0x205)](_0x10bd4d(0x1f0),{'val':JSON[_0x10bd4d(0x2a3)](_0x5b65ed),'ack':!![]});}function a1_0x4e80(_0x26c18d,_0x13d9d3){const _0x4a9032=a1_0x5611();return a1_0x4e80=function(_0x106a23,_0x3658f9){_0x106a23=_0x106a23-0x1e0;let _0x561110=_0x4a9032[_0x106a23];return _0x561110;},a1_0x4e80(_0x26c18d,_0x13d9d3);}async function monitorEnforcements(_0x3397b){const _0x405dfd=a1_0x4e80;try{const _0x1aa7d5=_0x405dfd(0x219),_0x4d400d=await _0x3397b[_0x405dfd(0x26e)](_0x1aa7d5);if(!_0x4d400d||!_0x4d400d[_0x405dfd(0x1fd)])return;let _0x1a128a=[];try{_0x1a128a=JSON['parse'](_0x4d400d[_0x405dfd(0x1fd)]);}catch(_0x5e262b){return;}if(!Array[_0x405dfd(0x287)](_0x1a128a)||_0x1a128a[_0x405dfd(0x293)]===0x0)return;const _0x1907e8=Date[_0x405dfd(0x216)](),_0x3809f8=_0x3397b[_0x405dfd(0x242)][_0x405dfd(0x20b)]||[];let _0x3fda1e=![];for(let _0xc7baf=_0x1a128a[_0x405dfd(0x293)]-0x1;_0xc7baf>=0x0;_0xc7baf--){const _0x1e7ee0=_0x1a128a[_0xc7baf];if(_0x1907e8>=_0x1e7ee0[_0x405dfd(0x214)]){_0x3397b[_0x405dfd(0x1f5)][_0x405dfd(0x268)]('üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20'+_0x1e7ee0[_0x405dfd(0x1e4)]+_0x405dfd(0x27c)),_0x1a128a['splice'](_0xc7baf,0x1),_0x3fda1e=!![];continue;}const _0x4ddb5e=_0x3809f8[_0x405dfd(0x1e7)](_0x4dfd8c=>normalize(_0x4dfd8c[_0x405dfd(0x25c)])===normalize(_0x1e7ee0[_0x405dfd(0x1e4)])&&(_0x4dfd8c[_0x405dfd(0x274)]===_0x405dfd(0x1ec)||_0x4dfd8c[_0x405dfd(0x274)]===_0x405dfd(0x1f2)));if(_0x4ddb5e){const _0x27c48e=await findRelatedId(_0x3397b,_0x4ddb5e['id'],_0x405dfd(0x2a5));if(_0x27c48e){const _0x12640f=await _0x3397b[_0x405dfd(0x286)](_0x27c48e);_0x12640f&&typeof _0x12640f[_0x405dfd(0x1fd)]===_0x405dfd(0x251)&&(_0x12640f[_0x405dfd(0x1fd)]<0xf&&(_0x3397b[_0x405dfd(0x1f5)]['warn'](_0x405dfd(0x28e)+_0x1e7ee0[_0x405dfd(0x1e4)]+_0x405dfd(0x23a)+_0x12640f['val']+_0x405dfd(0x200)+_0x1e7ee0['target']+_0x405dfd(0x28b)),await _0x3397b['setForeignStateAsync'](_0x27c48e,_0x1e7ee0[_0x405dfd(0x284)]),await logAutomationAction(_0x3397b,'[FORCE]\x20'+_0x1e7ee0[_0x405dfd(0x1e4)]+':\x20'+_0x12640f[_0x405dfd(0x1fd)]+'¬∞C\x20->\x20'+_0x1e7ee0[_0x405dfd(0x284)]+'¬∞C\x20(Kalender-Schutz)')));}}}_0x3fda1e&&await _0x3397b['setStateAsync'](_0x1aa7d5,{'val':JSON[_0x405dfd(0x2a3)](_0x1a128a),'ack':!![]});}catch(_0x131da5){_0x3397b[_0x405dfd(0x1f5)][_0x405dfd(0x21d)]('Enforcement\x20Monitor\x20Error:\x20'+_0x131da5[_0x405dfd(0x1e5)]);}}async function checkCalendarTriggers(_0x26d7d7){const _0x58ed23=a1_0x4e80;if(!_0x26d7d7[_0x58ed23(0x242)][_0x58ed23(0x202)]||!_0x26d7d7[_0x58ed23(0x242)][_0x58ed23(0x206)])return;await updateSchedulePreview(_0x26d7d7);let _0x503106={},_0x342547={};try{const _0x12af70=await _0x26d7d7[_0x58ed23(0x26e)](_0x58ed23(0x1fc));if(_0x12af70&&_0x12af70[_0x58ed23(0x1fd)])_0x503106=JSON['parse'](_0x12af70[_0x58ed23(0x1fd)]);const _0x394921=await _0x26d7d7[_0x58ed23(0x26e)](_0x58ed23(0x276));if(_0x394921&&_0x394921['val'])_0x342547=JSON[_0x58ed23(0x26a)](_0x394921[_0x58ed23(0x1fd)]);}catch(_0x45e0c4){}let _0x1f2805={'default':0x15};try{const _0xaa2090=await _0x26d7d7[_0x58ed23(0x26e)](_0x58ed23(0x212));if(_0xaa2090&&_0xaa2090[_0x58ed23(0x1fd)])_0x1f2805=JSON[_0x58ed23(0x26a)](_0xaa2090[_0x58ed23(0x1fd)]);}catch(_0x22f23f){}let _0x2d6fa3=[];try{const _0x5d5c40=await _0x26d7d7[_0x58ed23(0x26e)](_0x58ed23(0x219));if(_0x5d5c40&&_0x5d5c40[_0x58ed23(0x1fd)])_0x2d6fa3=JSON[_0x58ed23(0x26a)](_0x5d5c40[_0x58ed23(0x1fd)]);}catch(_0x112783){}try{const _0x2b14b8=await _0x26d7d7['getForeignStateAsync'](_0x26d7d7[_0x58ed23(0x242)][_0x58ed23(0x206)]+_0x58ed23(0x1e2));if(!_0x2b14b8||!_0x2b14b8[_0x58ed23(0x1fd)])return;const _0x2d06de=JSON['parse'](_0x2b14b8[_0x58ed23(0x1fd)]),_0x4a0824=Date[_0x58ed23(0x216)](),_0x328305=_0x26d7d7[_0x58ed23(0x242)][_0x58ed23(0x20b)]||[],_0x4a1dfc=_0x26d7d7['config'][_0x58ed23(0x24a)]||[];let _0x5ce090=![];for(const _0x3b78da of _0x2d06de){if(_0x3b78da[_0x58ed23(0x29d)]&&_0x4a1dfc[_0x58ed23(0x293)]>0x0&&!_0x4a1dfc[_0x58ed23(0x1f1)](_0x3b78da['_calName']))continue;const _0x208cd5=_0x3b78da[_0x58ed23(0x263)]||_0x3b78da['eventStart']||_0x3b78da[_0x58ed23(0x252)];if(!_0x208cd5)continue;const _0x41183e=new Date(_0x208cd5);if(isNaN(_0x41183e[_0x58ed23(0x277)]()))continue;const _0x2c1559=(_0x3b78da[_0x58ed23(0x2a1)]||_0x3b78da[_0x58ed23(0x1fa)]||'')[_0x58ed23(0x253)]();if(_0x2c1559[_0x58ed23(0x1f1)](_0x58ed23(0x223))||_0x2c1559[_0x58ed23(0x1f1)]('r√ºckkehr')||_0x2c1559['includes'](_0x58ed23(0x1f6))){let _0x2388d6=0x0;Object[_0x58ed23(0x1fb)](_0x503106)[_0x58ed23(0x24e)](_0x557465=>{if(_0x557465>_0x2388d6)_0x2388d6=_0x557465;});if(_0x2388d6===0x0)_0x2388d6=0x78;const _0x2f2779=_0x41183e['getTime']()-_0x2388d6*0xea60;_0x4a0824>=_0x2f2779&&_0x4a0824<_0x41183e['getTime']()&&(_0x26d7d7[_0x58ed23(0x266)]!==_0x58ed23(0x27f)&&(_0x26d7d7[_0x58ed23(0x1f5)]['info'](_0x58ed23(0x28a)+_0x2388d6+'\x20min).'),await _0x26d7d7['setStateAsync'](_0x58ed23(0x1f3),{'val':'normal','ack':![]})));}for(const _0x198571 of _0x328305){if(_0x198571[_0x58ed23(0x25c)]){const _0x45b7e9=_0x198571[_0x58ed23(0x25c)][_0x58ed23(0x253)](),_0x45ccc9=(_0x198571[_0x58ed23(0x218)]||'')[_0x58ed23(0x253)]();let _0x42c1bd=_0x2c1559[_0x58ed23(0x1f1)](_0x45b7e9);!_0x42c1bd&&_0x45ccc9[_0x58ed23(0x293)]>0x3&&_0x2c1559[_0x58ed23(0x1f1)](_0x45ccc9)&&(_0x42c1bd=!![]);if(_0x42c1bd){const _0x47d5ee=getWarmupRobust(_0x503106,_0x198571[_0x58ed23(0x25c)]),_0x16eef5=_0x342547[_0x198571[_0x58ed23(0x25c)]]||_0x58ed23(0x234),_0x4c1bf0=_0x41183e[_0x58ed23(0x277)]()-_0x47d5ee*0xea60;if(_0x4a0824>=_0x4c1bf0&&_0x4a0824<_0x41183e['getTime']()){const _0x3cd6b0=lastActions[_0x58ed23(0x236)+_0x198571[_0x58ed23(0x25c)]];if(_0x3cd6b0&&_0x4a0824-_0x3cd6b0<CAL_COOLDOWN_MS)continue;const _0x310784=await findRelatedId(_0x26d7d7,_0x198571['id'],_0x58ed23(0x2a5));if(_0x310784){let _0x589b63=_0x1f2805[_0x198571['location']];if(_0x589b63===undefined)_0x589b63=_0x1f2805['default'];if(_0x589b63===undefined)_0x589b63=0x15;const _0x1752ba=await _0x26d7d7['getForeignStateAsync'](_0x310784);if(_0x1752ba&&typeof _0x1752ba[_0x58ed23(0x1fd)]===_0x58ed23(0x251)&&_0x1752ba[_0x58ed23(0x1fd)]<_0x589b63-0.5){_0x26d7d7[_0x58ed23(0x1f5)][_0x58ed23(0x268)](_0x58ed23(0x267)+_0x16eef5+']:\x20Raum-Trigger\x20\x27'+_0x198571[_0x58ed23(0x25c)]+_0x58ed23(0x20c)+_0x2c1559+_0x58ed23(0x29e)+_0x589b63+'¬∞C\x20(Vorlauf:\x20'+_0x47d5ee+_0x58ed23(0x283)),await _0x26d7d7[_0x58ed23(0x1e0)](_0x310784,_0x589b63),await logAutomationAction(_0x26d7d7,_0x58ed23(0x243)+_0x198571[_0x58ed23(0x25c)]+_0x58ed23(0x207)+_0x589b63+_0x58ed23(0x1eb)+_0x16eef5+')'),lastActions[_0x58ed23(0x236)+_0x198571[_0x58ed23(0x25c)]]=_0x4a0824;const _0x34ec94=_0x2d6fa3[_0x58ed23(0x278)](_0xf564f0=>_0xf564f0[_0x58ed23(0x1e4)]===_0x198571[_0x58ed23(0x25c)]);if(_0x34ec94!==-0x1)_0x2d6fa3[_0x58ed23(0x1ee)](_0x34ec94,0x1);_0x2d6fa3[_0x58ed23(0x22e)]({'room':_0x198571[_0x58ed23(0x25c)],'target':_0x589b63,'until':_0x41183e[_0x58ed23(0x277)]()}),_0x5ce090=!![];}}}}}}}_0x5ce090&&await _0x26d7d7[_0x58ed23(0x205)](_0x58ed23(0x219),{'val':JSON[_0x58ed23(0x2a3)](_0x2d6fa3),'ack':!![]});}catch(_0x3846b9){_0x26d7d7['log'][_0x58ed23(0x294)](_0x58ed23(0x25b)+_0x3846b9[_0x58ed23(0x1e5)]);}}async function manageMpcIntervention(_0x3211da,_0x460958,_0x37f4b2){const _0x4d04f2=a1_0x4e80;try{const _0x34eb8c=_0x4d04f2(0x271),_0x3b4a25=await _0x3211da[_0x4d04f2(0x26e)](_0x34eb8c);let _0x3c36bf=[];if(_0x3b4a25&&_0x3b4a25[_0x4d04f2(0x1fd)])try{_0x3c36bf=JSON[_0x4d04f2(0x26a)](_0x3b4a25['val']);}catch(_0xb5694c){}const _0x2f78e3=_0x3c36bf[_0x4d04f2(0x226)](_0x460958);if(_0x37f4b2===_0x4d04f2(0x27e))_0x2f78e3===-0x1&&(_0x3c36bf[_0x4d04f2(0x22e)](_0x460958),await _0x3211da[_0x4d04f2(0x205)](_0x34eb8c,{'val':JSON[_0x4d04f2(0x2a3)](_0x3c36bf),'ack':!![]}));else _0x37f4b2===_0x4d04f2(0x1e6)&&(_0x2f78e3!==-0x1&&(_0x3c36bf['splice'](_0x2f78e3,0x1),await _0x3211da[_0x4d04f2(0x205)](_0x34eb8c,{'val':JSON[_0x4d04f2(0x2a3)](_0x3c36bf),'ack':!![]})));}catch(_0x3dd0d0){}}async function cleanupGhostInterventions(_0x4fec02){const _0xdf28=a1_0x4e80;try{const _0x37bfca=_0xdf28(0x271),_0x3e873d=await _0x4fec02[_0xdf28(0x26e)](_0x37bfca);if(!_0x3e873d||!_0x3e873d[_0xdf28(0x1fd)])return;const _0x25d284=JSON['parse'](_0x3e873d[_0xdf28(0x1fd)]);if(!Array['isArray'](_0x25d284)||_0x25d284['length']===0x0)return;let _0x52be13={'default':0x15};try{const _0x219f16=await _0x4fec02[_0xdf28(0x26e)](_0xdf28(0x212));if(_0x219f16&&_0x219f16['val'])_0x52be13=JSON[_0xdf28(0x26a)](_0x219f16['val']);}catch(_0x5159c3){}let _0x145e11=[];try{const _0x495bd6=await _0x4fec02[_0xdf28(0x26e)](_0xdf28(0x1ed));if(_0x495bd6&&_0x495bd6[_0xdf28(0x1fd)])_0x145e11=JSON[_0xdf28(0x26a)](_0x495bd6[_0xdf28(0x1fd)]);}catch(_0x90f929){}let _0x14e1ff={},_0x49a849=![];try{const _0x261455=await _0x4fec02[_0xdf28(0x26e)](_0xdf28(0x25d));if(_0x261455&&_0x261455['val'])_0x14e1ff=JSON[_0xdf28(0x26a)](_0x261455['val']);}catch(_0x50b321){}if(_0x14e1ff[_0xdf28(0x249)]){const _0x2316d6=Date[_0xdf28(0x216)]();for(const [_0x1b7393,_0x352fda]of Object[_0xdf28(0x24f)](_0x14e1ff[_0xdf28(0x249)])){_0x2316d6-_0x352fda>PENALTY_TTL&&(delete _0x14e1ff[_0x1b7393],delete _0x14e1ff[_0xdf28(0x249)][_0x1b7393],_0x49a849=!![],_0x4fec02['log'][_0xdf28(0x268)]('üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27'+_0x1b7393+_0xdf28(0x291)));}}const _0x29321d=_0x4fec02[_0xdf28(0x242)][_0xdf28(0x20b)]||[];let _0x3f4d01=![];for(let _0x49369f=_0x25d284[_0xdf28(0x293)]-0x1;_0x49369f>=0x0;_0x49369f--){const _0x5b961a=_0x25d284[_0x49369f],_0x5d17f7=_0x29321d['find'](_0x1667b8=>normalize(_0x1667b8['location'])===normalize(_0x5b961a)&&(_0x1667b8['type']===_0xdf28(0x1ec)||_0x1667b8[_0xdf28(0x274)]===_0xdf28(0x1f2)));if(!_0x5d17f7){_0x4fec02[_0xdf28(0x1f5)]['warn'](_0xdf28(0x254)+_0x5b961a+'\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.'),_0x25d284[_0xdf28(0x1ee)](_0x49369f,0x1),_0x3f4d01=!![];continue;}if(_0x5d17f7){const _0xe3fa0a=await findRelatedId(_0x4fec02,_0x5d17f7['id'],'setpoint'),_0x4bc4c6=await _0x4fec02[_0xdf28(0x286)](_0x5d17f7['id']);if(_0xe3fa0a){const _0x4e0491=await _0x4fec02['getForeignStateAsync'](_0xe3fa0a);if(_0x4e0491&&typeof _0x4e0491[_0xdf28(0x1fd)]===_0xdf28(0x251)){let _0x5d2b72=![],_0x2ca8df='';Math[_0xdf28(0x257)](_0x4e0491[_0xdf28(0x1fd)]-ECO_TEMP)>0.5&&(_0x5d2b72=!![],_0x2ca8df=_0xdf28(0x220));if(!_0x5d2b72&&_0x4bc4c6&&typeof _0x4bc4c6[_0xdf28(0x1fd)]===_0xdf28(0x251)){const _0x194b95=_0x52be13[_0x5b961a]||_0x52be13['default']||0x15;_0x4bc4c6[_0xdf28(0x1fd)]<_0x194b95+0.2&&(_0x5d2b72=!![],_0x2ca8df='too_cold');}if(_0x5d2b72){if(_0x2ca8df===_0xdf28(0x220)){_0x4fec02['log'][_0xdf28(0x268)](_0xdf28(0x2a6)+_0x5b961a+_0xdf28(0x239)+_0x4e0491['val']+_0xdf28(0x240)+ECO_TEMP+_0xdf28(0x23c));const _0x5e4338=lastActions[_0xdf28(0x236)+_0x5b961a],_0x65e5f7=_0x5e4338&&Date[_0xdf28(0x216)]()-_0x5e4338<0x2*0x3c*0x3e8;if(!_0x65e5f7&&_0x4e0491[_0xdf28(0x1fd)]>ECO_TEMP+0.5){_0x4fec02[_0xdf28(0x299)]&&(_0x4fec02[_0xdf28(0x1f5)][_0xdf28(0x268)]('üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20'+_0x5b961a+_0xdf28(0x1e8)),_0x4fec02[_0xdf28(0x299)](_0xdf28(0x288),{'room':_0x5b961a}));const _0x1e11c5=_0x5b961a+'_'+new Date()[_0xdf28(0x203)]();if(!_0x14e1ff[_0x1e11c5]){_0x14e1ff[_0x1e11c5]=0x1;if(!_0x14e1ff['_meta'])_0x14e1ff[_0xdf28(0x249)]={};_0x14e1ff[_0xdf28(0x249)][_0x1e11c5]=Date[_0xdf28(0x216)](),_0x49a849=!![];}}else _0x65e5f7&&_0x4fec02[_0xdf28(0x1f5)][_0xdf28(0x268)](_0xdf28(0x25a)+_0x5b961a+_0xdf28(0x211));}else{if(_0x2ca8df===_0xdf28(0x22c)){let _0x503e50=![];if(_0x145e11[_0xdf28(0x1e7)](_0x4d1f58=>_0x4d1f58[_0xdf28(0x1e4)]===_0x5b961a))_0x503e50=!![];const _0x433855=_0x29321d[_0xdf28(0x26c)](_0x44b54e=>normalize(_0x44b54e[_0xdf28(0x25c)])===normalize(_0x5b961a)&&(_0x44b54e[_0xdf28(0x274)]===_0xdf28(0x230)||_0x44b54e[_0xdf28(0x274)]===_0xdf28(0x273)||_0x44b54e['type']==='contact'));for(const _0x1d1936 of _0x433855){try{const _0x2d5d82=await _0x4fec02['getForeignStateAsync'](_0x1d1936['id']);if(_0x2d5d82&&(_0x2d5d82[_0xdf28(0x1fd)]===!![]||_0x2d5d82[_0xdf28(0x1fd)]===0x1||String(_0x2d5d82['val'])[_0xdf28(0x253)]()===_0xdf28(0x204)))_0x503e50=!![];}catch(_0x4cf4e3){}}if(_0x503e50)_0x4fec02[_0xdf28(0x1f5)][_0xdf28(0x268)]('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x5b961a+_0xdf28(0x222));else{const _0x5c0086=_0x52be13[_0x5b961a]||_0x52be13[_0xdf28(0x232)]||0x15;_0x4fec02[_0xdf28(0x1f5)][_0xdf28(0x268)]('üö®\x20[MPC\x20WATCHDOG]\x20'+_0x5b961a+'\x20erreicht\x20Limit\x20('+_0x4bc4c6[_0xdf28(0x1fd)]+_0xdf28(0x215)+(_0x5c0086+0.2)+'¬∞C).\x20Sparmodus\x20beendet!'),await _0x4fec02[_0xdf28(0x1e0)](_0xe3fa0a,_0x5c0086),await logAutomationAction(_0x4fec02,_0xdf28(0x1f7)+_0x5b961a+_0xdf28(0x1e9)+_0x5c0086+'¬∞C'),lastActions[_0xdf28(0x27b)+_0x5b961a]=Date['now']();}}}_0x25d284[_0xdf28(0x1ee)](_0x49369f,0x1),_0x3f4d01=!![];}}}}}_0x3f4d01&&await _0x4fec02['setStateAsync'](_0x37bfca,{'val':JSON[_0xdf28(0x2a3)](_0x25d284),'ack':!![]}),_0x49a849&&await _0x4fec02[_0xdf28(0x205)](_0xdf28(0x25d),{'val':JSON[_0xdf28(0x2a3)](_0x14e1ff),'ack':!![]});}catch(_0x490212){}}async function applyEnergySavings(_0x5b4809,_0xb69627){const _0x334b7d=a1_0x4e80;await cleanupGhostInterventions(_0x5b4809);if(!_0xb69627||_0xb69627['length']===0x0)return;const _0x122b62=_0x5b4809[_0x334b7d(0x242)][_0x334b7d(0x20b)]||[],_0x26af2a=Date[_0x334b7d(0x216)]();for(const _0x4f67c0 of _0xb69627){const _0x90fe12=_0x4f67c0[_0x334b7d(0x1e4)],_0x1e0563=_0x4f67c0[_0x334b7d(0x262)],_0x35ab5a=_0x4f67c0['target']||0x15;if(lastActions['rescue_'+_0x90fe12]&&_0x26af2a-lastActions['rescue_'+_0x90fe12]<RESCUE_LOCK_MS)continue;const _0x320682=_0x122b62['find'](_0x290ca6=>normalize(_0x290ca6[_0x334b7d(0x25c)])===normalize(_0x90fe12)&&(_0x290ca6[_0x334b7d(0x274)]===_0x334b7d(0x1ec)||_0x290ca6[_0x334b7d(0x274)]===_0x334b7d(0x1f2)));if(!_0x320682)continue;const _0x35883d=await findRelatedId(_0x5b4809,_0x320682['id'],_0x334b7d(0x2a5));if(_0x35883d){if(lastActions[_0x334b7d(0x270)+_0x90fe12]&&_0x26af2a-lastActions[_0x334b7d(0x270)+_0x90fe12]<0x1e*0x3c*0x3e8)continue;const _0x55dee5=await _0x5b4809[_0x334b7d(0x286)](_0x35883d);if(_0x55dee5&&typeof _0x55dee5['val']===_0x334b7d(0x251)){const _0x59661f=_0x55dee5[_0x334b7d(0x1fd)];_0x59661f!==ECO_TEMP&&await manageMpcIntervention(_0x5b4809,_0x90fe12,_0x334b7d(0x1e6));if(_0x1e0563>0x1e)_0x59661f>ECO_TEMP+0.5&&(_0x5b4809[_0x334b7d(0x1f5)][_0x334b7d(0x268)](_0x334b7d(0x238)+_0x90fe12+_0x334b7d(0x23a)+ECO_TEMP+_0x334b7d(0x20d)+_0x1e0563+'\x20min)'),await _0x5b4809[_0x334b7d(0x1e0)](_0x35883d,ECO_TEMP),await manageMpcIntervention(_0x5b4809,_0x90fe12,'add'),lastActions[_0x334b7d(0x270)+_0x90fe12]=_0x26af2a,await logAutomationAction(_0x5b4809,_0x334b7d(0x1ea)+_0x90fe12+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'¬∞C'));else _0x1e0563<=0xf&&(_0x59661f<_0x35ab5a&&(_0x5b4809[_0x334b7d(0x1f5)][_0x334b7d(0x268)](_0x334b7d(0x23d)+_0x90fe12+_0x334b7d(0x247)+_0x35ab5a+_0x334b7d(0x22d)),await _0x5b4809['setForeignStateAsync'](_0x35883d,_0x35ab5a),await manageMpcIntervention(_0x5b4809,_0x90fe12,_0x334b7d(0x1e6)),lastActions[_0x334b7d(0x270)+_0x90fe12]=_0x26af2a,await logAutomationAction(_0x5b4809,'[MPC]\x20'+_0x90fe12+_0x334b7d(0x24d)+_0x35ab5a+'¬∞C')));}}else _0x5b4809[_0x334b7d(0x1f5)][_0x334b7d(0x294)](_0x334b7d(0x22a)+_0x90fe12+_0x334b7d(0x26f));}}function a1_0x5611(){const _0x18a3ae=['SET','512243DNEKAu','current_heating_setpoint','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','analysis.energy.warmupTargets','.4.SET_TEMPERATURE','until','¬∞C\x20<\x20','now','unit','name','analysis.energy.activeEnforcements','value.valve','Auto-Erkennung','apply','error','ACTUAL','Soll','manual','Ist','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','urlaub\x20ende','search','2dhWYYh','indexOf','valve','local_temperature','role','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','stellwert','too_cold','¬∞C!\x20(Puffer\x20leer).','push','write','window','replace','default','score','Classic','683392aoQFEk','cal_','.1.LEVEL','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','\x20ist\x20auf\x20','\x20auf\x20','off','¬∞C).\x20Entferne\x20Status.','üî•\x20[MPC\x20ACTION]\x20Heize\x20','level.temperature','Unbekannt','¬∞C\x20(nicht\x20','approved','config','[CAL]\x20','constructor','wert','ist','\x20wieder\x20auf\x20','hm-rpc','_meta','calendarSelection','trim','localeCompare',':\x20Aufheizen\x20auf\x20','forEach','entries','openknx','number','date','toLowerCase','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','common','.1.ACTUAL_TEMPERATURE','abs','join','analysis.automation.mode','üìÖ\x20[MPC\x20INFO]\x20','Calendar\x20Check\x20Error:\x20','location','analysis.energy.rlPenalties','\x20->\x20Schalte\x20','Nicht\x20gefunden','consultButler','(((.+)+)+)+$','minutes_safe','_date','unshift','light','currentSystemMode','üìÖ\x20SMART\x20SCHEDULE\x20[','info','soll','parse','position','filter','1842594SbbYlz','getStateAsync','\x20gefunden!','mpc_','analysis.energy.mpcActiveInterventions','set','sensor','type','Fehlt','analysis.energy.warmupSources','getTime','findIndex','thermostatMapping','10stpUrI','rescue_','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','toString','add','normal','dimmer','exports','messwert','\x20min).','target','valveMapping','getForeignStateAsync','isArray','TRAIN_RL_PENALTY','string','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','¬∞C.','1224657zeBweJ','map','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','triggerTime','switch','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','valve_position','length','warn','7577829avUWTd','4cRqqcL','Pr√§diktion:\x20','.1.SET_POINT_TEMPERATURE','sendToPythonWrapper','ACTUAL_TEMPERATURE','active','occupied_heating_setpoint','_calName',')\x20aktiv.\x20Heize\x20auf\x20','thermostat.setpoint','.4.VALVE_STATE','event','slice','stringify','PERFECT','setpoint','üßπ\x20[MPC\x20CLEANUP]\x20','.1.TEMPERATURE','setForeignStateAsync','split','.data.table','temp','room','message','remove','find','\x20wurde\x20manuell\x20erh√∂ht.',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','[MPC]\x20','¬∞C\x20(via\x20','temperature','analysis.energy.ventilationAlerts','splice','r√ºckkehr','analysis.energy.schedulePreview','includes','thermostat','system.mode','reason','log','ankunft','[WATCHDOG]\x20','analysis.automation.actionLog','438945Clfifj','summary','values','analysis.energy.warmupTimes','val','getForeignObjectAsync','1952175eTPfYl','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','toUpperCase','useCalendar','getHours','open','setStateAsync','calendarInstance','\x20->\x20','level.valve','Manuelles\x20Mapping','sort','devices','\x27\x20(Match:\x20','¬∞C!\x20(Puffer:\x20'];a1_0x5611=function(){return _0x18a3ae;};return a1_0x5611();}module[a1_0x28d26d(0x281)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};