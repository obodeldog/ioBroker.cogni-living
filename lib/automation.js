const a1_0x54b7b0=a1_0x2e93;(function(_0x241bce,_0x3e2455){const _0x4f5c91=a1_0x2e93,_0x223d38=_0x241bce();while(!![]){try{const _0x27f1e0=-parseInt(_0x4f5c91(0x1d5))/0x1+-parseInt(_0x4f5c91(0x162))/0x2+parseInt(_0x4f5c91(0x180))/0x3*(-parseInt(_0x4f5c91(0x1b8))/0x4)+parseInt(_0x4f5c91(0x19f))/0x5*(-parseInt(_0x4f5c91(0x179))/0x6)+parseInt(_0x4f5c91(0x169))/0x7*(-parseInt(_0x4f5c91(0x143))/0x8)+parseInt(_0x4f5c91(0x1ea))/0x9+parseInt(_0x4f5c91(0x1ca))/0xa;if(_0x27f1e0===_0x3e2455)break;else _0x223d38['push'](_0x223d38['shift']());}catch(_0x3a4608){_0x223d38['push'](_0x223d38['shift']());}}}(a1_0x1e88,0x70c56));const a1_0x1af4d3=(function(){let _0x24f258=!![];return function(_0x581f5e,_0x36b25a){const _0x594ac5=_0x24f258?function(){const _0x3ac793=a1_0x2e93;if(_0x36b25a){const _0x569221=_0x36b25a[_0x3ac793(0x157)](_0x581f5e,arguments);return _0x36b25a=null,_0x569221;}}:function(){};return _0x24f258=![],_0x594ac5;};}()),a1_0x12208b=a1_0x1af4d3(this,function(){const _0x956adb=a1_0x2e93;return a1_0x12208b[_0x956adb(0x13c)]()['search']('(((.+)+)+)+$')[_0x956adb(0x13c)]()['constructor'](a1_0x12208b)['search'](_0x956adb(0x1c7));});a1_0x12208b();'use strict';const aiAgent=require('./ai_agent'),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x5ba763){const _0x298dcb=a1_0x2e93;if(!_0x5ba763)return'';return _0x5ba763['toLowerCase']()[_0x298dcb(0x1ae)](/\s+/g,'')[_0x298dcb(0x1d3)]();}function getWarmupRobust(_0x26363b,_0x3052a2){const _0x4c667f=a1_0x2e93;if(!_0x26363b||!_0x3052a2)return 0x3c;if(_0x26363b[_0x3052a2]!==undefined)return _0x26363b[_0x3052a2];const _0x3ad7ac=_0x3052a2[_0x4c667f(0x13b)]()['replace'](/√§/g,'ae')[_0x4c667f(0x1ae)](/√∂/g,'oe')['replace'](/√º/g,'ue')[_0x4c667f(0x1ae)](/√ü/g,'ss')[_0x4c667f(0x1ae)](/\s+/g,'_')['replace'](/[^a-z0-9_]/g,'');if(_0x26363b[_0x3ad7ac]!==undefined)return _0x26363b[_0x3ad7ac];return 0x3c;}async function logAutomationAction(_0x45143c,_0x29bd63){const _0x526790=a1_0x2e93;await _0x45143c['setStateAsync'](_0x526790(0x1e7),{'val':_0x29bd63,'ack':!![]});try{const _0x44df1f=_0x526790(0x1a8),_0x3e96fc=await _0x45143c['getStateAsync'](_0x44df1f);let _0x2b6910=[];if(_0x3e96fc&&_0x3e96fc[_0x526790(0x193)])try{_0x2b6910=JSON[_0x526790(0x172)](_0x3e96fc[_0x526790(0x193)]);}catch(_0x17db77){}_0x2b6910[_0x526790(0x19c)]({'ts':Date['now'](),'msg':_0x29bd63});if(_0x2b6910[_0x526790(0x1aa)]>0x32)_0x2b6910=_0x2b6910[_0x526790(0x1df)](0x0,0x32);await _0x45143c['setStateAsync'](_0x44df1f,{'val':JSON[_0x526790(0x13a)](_0x2b6910),'ack':!![]});}catch(_0x43b789){}}async function handlePrediction(_0x18bd70,_0x27d4d8,_0x5aa656){const _0x4b6ee4=a1_0x2e93;if(!_0x27d4d8||_0x27d4d8==='Unknown')return;let _0x8ae99a=_0x4b6ee4(0x1cb),_0xe6c997=0.6;try{const _0x2f9781=await _0x18bd70['getStateAsync'](_0x4b6ee4(0x1de));if(_0x2f9781&&_0x2f9781[_0x4b6ee4(0x193)])_0x8ae99a=_0x2f9781[_0x4b6ee4(0x193)];const _0x9774aa=await _0x18bd70[_0x4b6ee4(0x1bf)]('analysis.automation.confidenceThreshold');if(_0x9774aa&&_0x9774aa[_0x4b6ee4(0x193)])_0xe6c997=_0x9774aa[_0x4b6ee4(0x193)];}catch(_0x3225a6){}if(_0x8ae99a===_0x4b6ee4(0x1cb)||_0x5aa656<_0xe6c997)return;const _0x1cf383=Date[_0x4b6ee4(0x186)]();if(lastActions[_0x27d4d8]&&_0x1cf383-lastActions[_0x27d4d8]<COOLDOWN_MS)return;const _0x3ee664=_0x18bd70['config'][_0x4b6ee4(0x153)]||[],_0x5e1a3a=normalize(_0x27d4d8),_0x369f2a=_0x3ee664[_0x4b6ee4(0x13e)](_0x53019b=>normalize(_0x53019b['location'])===_0x5e1a3a&&(_0x53019b['type']==='light'||_0x53019b[_0x4b6ee4(0x1be)]===_0x4b6ee4(0x190)||_0x53019b[_0x4b6ee4(0x1be)]==='switch'));if(!_0x369f2a)return;const _0x378715=await aiAgent[_0x4b6ee4(0x181)](_0x18bd70,_0x27d4d8,_0x369f2a[_0x4b6ee4(0x17f)],_0x5aa656);if(!_0x378715['approved'])return;const _0x6d6463='Pr√§diktion:\x20'+_0x27d4d8+_0x4b6ee4(0x1a5)+_0x369f2a[_0x4b6ee4(0x17f)]+'\x20('+_0x378715['reason']+')';await logAutomationAction(_0x18bd70,'['+_0x8ae99a[_0x4b6ee4(0x16d)]()+']\x20'+_0x6d6463);if(_0x8ae99a===_0x4b6ee4(0x145)){const _0x1637a5=await _0x18bd70[_0x4b6ee4(0x1c1)](_0x369f2a['id']);(!_0x1637a5||!_0x1637a5[_0x4b6ee4(0x193)]&&_0x1637a5[_0x4b6ee4(0x193)]!==!![])&&await _0x18bd70[_0x4b6ee4(0x166)](_0x369f2a['id'],!![]),lastActions[_0x27d4d8]=_0x1cf383;}}async function findRelatedId(_0x59e038,_0x28789d,_0x5b3ae0=a1_0x54b7b0(0x184)){const _0x286fd4=a1_0x54b7b0;if(_0x5b3ae0===_0x286fd4(0x184)&&_0x59e038['config']['thermostatMapping']){let _0x45eddf=_0x59e038['config']['thermostatMapping'];if(typeof _0x45eddf===_0x286fd4(0x1d9))try{_0x45eddf=JSON[_0x286fd4(0x172)](_0x45eddf);}catch(_0x4ed120){}if(_0x45eddf&&_0x45eddf[_0x28789d])return _0x45eddf[_0x28789d];}if(_0x5b3ae0==='valve'&&_0x59e038[_0x286fd4(0x1ee)]['valveMapping']){let _0x5e643f=_0x59e038[_0x286fd4(0x1ee)][_0x286fd4(0x16f)];if(typeof _0x5e643f===_0x286fd4(0x1d9))try{_0x5e643f=JSON[_0x286fd4(0x172)](_0x5e643f);}catch(_0x428294){}if(_0x5e643f&&_0x5e643f[_0x28789d])return _0x5e643f[_0x28789d];}let _0x400666=[];if(_0x5b3ae0==='setpoint')_0x400666=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x286fd4(0x16b)},{'s':_0x286fd4(0x1dc),'t':_0x286fd4(0x16b)},{'s':_0x286fd4(0x1dc),'t':_0x286fd4(0x1e6)},{'s':_0x286fd4(0x1da),'t':'SET_POINT_TEMPERATURE'},{'s':_0x286fd4(0x1a1),'t':_0x286fd4(0x15c)},{'s':'local_temperature','t':_0x286fd4(0x1a9)},{'s':_0x286fd4(0x1bb),'t':_0x286fd4(0x182)},{'s':_0x286fd4(0x14a),'t':_0x286fd4(0x173)},{'s':_0x286fd4(0x198),'t':'Soll'},{'s':_0x286fd4(0x1bb),'t':_0x286fd4(0x184)}];else _0x5b3ae0===_0x286fd4(0x18d)&&(_0x400666=[{'s':_0x286fd4(0x1d8),'t':_0x286fd4(0x149)},{'s':_0x286fd4(0x1dc),'t':_0x286fd4(0x149)},{'s':_0x286fd4(0x1dc),'t':_0x286fd4(0x13d)},{'s':_0x286fd4(0x1a1),'t':_0x286fd4(0x14f)},{'s':_0x286fd4(0x1bb),'t':'valve_position'},{'s':_0x286fd4(0x1bb),'t':_0x286fd4(0x1cc)}]);for(const _0x39d50e of _0x400666){if(_0x28789d[_0x286fd4(0x176)](_0x39d50e['s'])){const _0x246457=_0x28789d[_0x286fd4(0x1ae)](_0x39d50e['s'],_0x39d50e['t']),_0x3fda76=await _0x59e038[_0x286fd4(0x1d0)](_0x246457);if(_0x3fda76)return _0x246457;}}try{const _0x31964c=_0x28789d[_0x286fd4(0x1e8)]('.');if(_0x31964c[_0x286fd4(0x1aa)]>0x2){const _0x3b5612=_0x31964c[_0x286fd4(0x1df)](0x0,-0x1)[_0x286fd4(0x1d7)]('.'),_0x187955=await _0x59e038['getForeignObjectsAsync'](_0x3b5612+'.*'),_0xf091f9=[],_0x4e5952=_0x28789d[_0x286fd4(0x1e8)](/[._]+/)[_0x286fd4(0x1d4)](_0x16107b=>![_0x286fd4(0x1ac),'0','hm-rpc',_0x286fd4(0x192),'wert',_0x286fd4(0x1bb),'actual',_0x286fd4(0x1e9),'messwert',_0x286fd4(0x1eb)][_0x286fd4(0x176)](_0x16107b[_0x286fd4(0x13b)]()));for(const [_0x5e2a3f,_0x43c309]of Object[_0x286fd4(0x188)](_0x187955)){if(_0x5e2a3f===_0x28789d)continue;if(_0x43c309&&_0x43c309[_0x286fd4(0x1e3)]){const _0x4686e6=_0x5e2a3f[_0x286fd4(0x13b)](),_0x2f94aa=(_0x43c309[_0x286fd4(0x1e3)][_0x286fd4(0x154)]||'')[_0x286fd4(0x13b)](),_0x1ad313=(_0x43c309[_0x286fd4(0x1e3)][_0x286fd4(0x1ab)]||'')[_0x286fd4(0x13b)]();let _0x287e25=![];if(_0x5b3ae0===_0x286fd4(0x184)&&_0x43c309[_0x286fd4(0x1e3)][_0x286fd4(0x15d)]===!![])_0x287e25=_0x4686e6[_0x286fd4(0x176)](_0x286fd4(0x1b5))||_0x4686e6[_0x286fd4(0x176)](_0x286fd4(0x147))||_0x4686e6['includes'](_0x286fd4(0x196))||_0x2f94aa[_0x286fd4(0x176)](_0x286fd4(0x14e))||_0x2f94aa[_0x286fd4(0x176)](_0x286fd4(0x16a));else _0x5b3ae0===_0x286fd4(0x18d)&&(_0x287e25=_0x4686e6[_0x286fd4(0x176)](_0x286fd4(0x1cc))||_0x4686e6['includes'](_0x286fd4(0x18d))||_0x4686e6[_0x286fd4(0x176)]('stellwert')||_0x4686e6[_0x286fd4(0x176)](_0x286fd4(0x1b3))||_0x2f94aa[_0x286fd4(0x176)](_0x286fd4(0x1a2))||_0x2f94aa['includes']('value.valve')||_0x1ad313[_0x286fd4(0x176)]('%'));if(_0x287e25){const _0x440bb5=_0x5e2a3f[_0x286fd4(0x1e8)](/[._]+/)[_0x286fd4(0x1af)](_0x44af64=>_0x44af64['toLowerCase']());let _0x989c27=0x0;_0x4e5952[_0x286fd4(0x17b)](_0x33f730=>{const _0x17e42a=_0x286fd4;if(_0x440bb5[_0x17e42a(0x176)](_0x33f730[_0x17e42a(0x13b)]()))_0x989c27++;}),_0xf091f9['push']({'id':_0x5e2a3f,'score':_0x989c27});}}}if(_0xf091f9[_0x286fd4(0x1aa)]>0x0){_0xf091f9[_0x286fd4(0x1d2)]((_0x5551c0,_0x55e7ef)=>_0x55e7ef[_0x286fd4(0x1d6)]-_0x5551c0['score']);if(_0xf091f9[0x0]['score']>0x0)return _0xf091f9[0x0]['id'];}}}catch(_0xc98caa){}return null;}async function scanThermostats(_0x59cbc2){const _0x2dc241=a1_0x54b7b0,_0x38a49c=_0x59cbc2[_0x2dc241(0x1ee)][_0x2dc241(0x153)]||[],_0x703518=[],_0xcd2a32=_0x38a49c[_0x2dc241(0x1d4)](_0x5d149d=>_0x5d149d['id']&&_0x5d149d['id']['includes'](_0x2dc241(0x1bb))||_0x5d149d[_0x2dc241(0x1be)]&&[_0x2dc241(0x1bb),_0x2dc241(0x17c),_0x2dc241(0x1e9)]['includes'](_0x5d149d[_0x2dc241(0x1be)])||_0x5d149d[_0x2dc241(0x17f)]&&_0x5d149d['name'][_0x2dc241(0x13b)]()[_0x2dc241(0x176)](_0x2dc241(0x18c)));for(const _0x302a0f of _0xcd2a32){const _0x5baf92=await findRelatedId(_0x59cbc2,_0x302a0f['id'],_0x2dc241(0x184)),_0xa64f38=await findRelatedId(_0x59cbc2,_0x302a0f['id'],'valve');let _0x38a5b2=_0x2dc241(0x1ad),_0x502ba6=![],_0x4ec3a3=_0x59cbc2[_0x2dc241(0x1ee)]['thermostatMapping']||{};if(typeof _0x4ec3a3===_0x2dc241(0x1d9))try{_0x4ec3a3=JSON[_0x2dc241(0x172)](_0x4ec3a3);}catch(_0x17fa21){}let _0x473704=_0x59cbc2['config']['valveMapping']||{};if(typeof _0x473704===_0x2dc241(0x1d9))try{_0x473704=JSON[_0x2dc241(0x172)](_0x473704);}catch(_0x3e0867){}if(_0x4ec3a3[_0x302a0f['id']]&&_0x4ec3a3[_0x302a0f['id']]===_0x5baf92||_0x473704[_0x302a0f['id']]&&_0x473704[_0x302a0f['id']]===_0xa64f38)_0x38a5b2='Manuelles\x20Mapping',_0x502ba6=!![];else(_0x5baf92||_0xa64f38)&&(_0x38a5b2=_0x2dc241(0x1c4));_0x703518[_0x2dc241(0x1ce)]({'room':_0x302a0f[_0x2dc241(0x197)]||_0x2dc241(0x15e),'sensorId':_0x302a0f['id'],'setpointId':_0x5baf92||'-','valveId':_0xa64f38||'-','source':_0x38a5b2,'isManual':_0x502ba6,'status':_0x5baf92&&_0xa64f38?_0x2dc241(0x14d):_0x5baf92?'OK':'Fehlt'});}return _0x703518[_0x2dc241(0x1d2)]((_0x18b883,_0x4f4a96)=>_0x18b883['room'][_0x2dc241(0x178)](_0x4f4a96[_0x2dc241(0x164)]));}function a1_0x2e93(_0x11a427,_0x21f968){const _0x22befa=a1_0x1e88();return a1_0x2e93=function(_0x12208b,_0x1af4d3){_0x12208b=_0x12208b-0x139;let _0x1e88e2=_0x22befa[_0x12208b];return _0x1e88e2;},a1_0x2e93(_0x11a427,_0x21f968);}async function updateSchedulePreview(_0x21203d){const _0x593bba=a1_0x54b7b0;if(!_0x21203d[_0x593bba(0x1ee)]['useCalendar']||!_0x21203d[_0x593bba(0x1ee)]['calendarInstance'])return;let _0x357f8a={};try{const _0x4c7a05=await _0x21203d[_0x593bba(0x1bf)](_0x593bba(0x1c5));if(_0x4c7a05&&_0x4c7a05[_0x593bba(0x193)])_0x357f8a=JSON[_0x593bba(0x172)](_0x4c7a05[_0x593bba(0x193)]);}catch(_0x568f4b){}const _0xa98eca=[],_0x6efb89=Date[_0x593bba(0x186)](),_0x138115=0x30*0x3c*0x3c*0x3e8;try{const _0x1746d0=await _0x21203d[_0x593bba(0x1c1)](_0x21203d[_0x593bba(0x1ee)][_0x593bba(0x1a0)]+_0x593bba(0x1ba));if(!_0x1746d0||!_0x1746d0[_0x593bba(0x193)])return;const _0x165433=JSON[_0x593bba(0x172)](_0x1746d0['val']),_0x1c8baf=_0x21203d[_0x593bba(0x1ee)][_0x593bba(0x1b6)]||[],_0x2286c8=_0x21203d[_0x593bba(0x1ee)]['devices']||[],_0x57bd07=new Set();_0x2286c8['forEach'](_0x510e72=>{const _0x582447=_0x593bba;if(_0x510e72[_0x582447(0x197)])_0x57bd07[_0x582447(0x148)](_0x510e72['location']);});for(const _0x30a0d4 of _0x165433){if(_0x30a0d4[_0x593bba(0x139)]&&_0x1c8baf[_0x593bba(0x1aa)]>0x0&&!_0x1c8baf[_0x593bba(0x176)](_0x30a0d4[_0x593bba(0x139)]))continue;const _0x41d6e6=_0x30a0d4[_0x593bba(0x19a)]||_0x30a0d4[_0x593bba(0x1a3)]||_0x30a0d4[_0x593bba(0x171)];if(!_0x41d6e6)continue;const _0x1d410b=new Date(_0x41d6e6),_0x1fb3c0=_0x1d410b[_0x593bba(0x1e5)]();if(isNaN(_0x1fb3c0))continue;if(_0x1fb3c0<_0x6efb89)continue;if(_0x1fb3c0>_0x6efb89+_0x138115)continue;const _0xcdb613=(_0x30a0d4[_0x593bba(0x1c8)]||_0x30a0d4[_0x593bba(0x151)]||'')[_0x593bba(0x13b)]();let _0x1d19b0=![],_0x28365b=[],_0xb7acb7=_0x30a0d4[_0x593bba(0x1c8)]||_0x30a0d4[_0x593bba(0x151)]||_0x593bba(0x15e);if(_0xcdb613[_0x593bba(0x176)](_0x593bba(0x18e))||_0xcdb613[_0x593bba(0x176)](_0x593bba(0x155))||_0xcdb613['includes'](_0x593bba(0x170)))_0x1d19b0=!![],_0x28365b=Array[_0x593bba(0x160)](_0x57bd07);else for(const _0x4c929e of _0x57bd07){if(_0xcdb613[_0x593bba(0x176)](_0x4c929e[_0x593bba(0x13b)]()))_0x28365b[_0x593bba(0x1ce)](_0x4c929e);}_0x28365b[_0x593bba(0x1aa)]>0x0&&_0x28365b[_0x593bba(0x17b)](_0x1f369c=>{const _0x7095dd=_0x593bba;let _0x2e0ca9=0x3c;if(_0x1d19b0){let _0x2bacdb=0x0;Object[_0x7095dd(0x175)](_0x357f8a)['forEach'](_0x5a2bb1=>{if(_0x5a2bb1>_0x2bacdb)_0x2bacdb=_0x5a2bb1;}),_0x2e0ca9=_0x2bacdb>0x0?_0x2bacdb:0x78;}else _0x2e0ca9=getWarmupRobust(_0x357f8a,_0x1f369c);const _0x11a38d=new Date(_0x1fb3c0-_0x2e0ca9*0xea60);_0xa98eca[_0x7095dd(0x1ce)]({'eventTime':_0x1fb3c0,'triggerTime':_0x11a38d[_0x7095dd(0x1e5)](),'room':_0x1f369c,'minutes':_0x2e0ca9,'reason':_0xb7acb7,'isGlobal':_0x1d19b0});});}}catch(_0x53dbf9){}_0xa98eca['sort']((_0x44d7b9,_0x4cf81d)=>_0x44d7b9[_0x593bba(0x19b)]-_0x4cf81d['triggerTime']);const _0xd8d2e7=_0xa98eca[_0x593bba(0x1df)](0x0,0x1e);await _0x21203d[_0x593bba(0x140)](_0x593bba(0x189),{'val':JSON['stringify'](_0xd8d2e7),'ack':!![]});}async function monitorEnforcements(_0x44cbbf){const _0x325a95=a1_0x54b7b0;try{const _0x3ba112='analysis.energy.activeEnforcements',_0x21e779=await _0x44cbbf[_0x325a95(0x1bf)](_0x3ba112);if(!_0x21e779||!_0x21e779[_0x325a95(0x193)])return;let _0x3c183a=[];try{_0x3c183a=JSON[_0x325a95(0x172)](_0x21e779['val']);}catch(_0x5aecdb){return;}if(!Array[_0x325a95(0x1bc)](_0x3c183a)||_0x3c183a[_0x325a95(0x1aa)]===0x0)return;const _0x3e2162=Date[_0x325a95(0x186)](),_0x38d45a=_0x44cbbf[_0x325a95(0x1ee)]['devices']||[];let _0x52e7ea=![];for(let _0x11fbbc=_0x3c183a[_0x325a95(0x1aa)]-0x1;_0x11fbbc>=0x0;_0x11fbbc--){const _0x1fa070=_0x3c183a[_0x11fbbc];if(_0x3e2162>=_0x1fa070[_0x325a95(0x1a6)]){_0x44cbbf['log'][_0x325a95(0x1d1)]('üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20'+_0x1fa070[_0x325a95(0x164)]+_0x325a95(0x1e4)),_0x3c183a[_0x325a95(0x1b2)](_0x11fbbc,0x1),_0x52e7ea=!![];continue;}const _0x265a4b=_0x38d45a['find'](_0x596521=>normalize(_0x596521[_0x325a95(0x197)])===normalize(_0x1fa070[_0x325a95(0x164)])&&(_0x596521[_0x325a95(0x1be)]===_0x325a95(0x1bb)||_0x596521[_0x325a95(0x1be)]==='thermostat'));if(_0x265a4b){const _0x8bd540=await findRelatedId(_0x44cbbf,_0x265a4b['id'],_0x325a95(0x184));if(_0x8bd540){const _0x3792f4=await _0x44cbbf[_0x325a95(0x1c1)](_0x8bd540);_0x3792f4&&typeof _0x3792f4[_0x325a95(0x193)]===_0x325a95(0x1b0)&&(_0x3792f4[_0x325a95(0x193)]<0xf&&(_0x44cbbf[_0x325a95(0x1a4)]['warn'](_0x325a95(0x158)+_0x1fa070[_0x325a95(0x164)]+'\x20auf\x20'+_0x3792f4['val']+_0x325a95(0x1c2)+_0x1fa070[_0x325a95(0x196)]+_0x325a95(0x199)),await _0x44cbbf['setForeignStateAsync'](_0x8bd540,_0x1fa070[_0x325a95(0x196)]),await logAutomationAction(_0x44cbbf,'[FORCE]\x20'+_0x1fa070['room']+':\x20'+_0x3792f4[_0x325a95(0x193)]+_0x325a95(0x1db)+_0x1fa070[_0x325a95(0x196)]+_0x325a95(0x1ed))));}}}_0x52e7ea&&await _0x44cbbf[_0x325a95(0x140)](_0x3ba112,{'val':JSON['stringify'](_0x3c183a),'ack':!![]});}catch(_0x1e6915){_0x44cbbf[_0x325a95(0x1a4)][_0x325a95(0x16c)](_0x325a95(0x194)+_0x1e6915[_0x325a95(0x1c0)]);}}async function checkCalendarTriggers(_0x1d5c19){const _0x43f2dd=a1_0x54b7b0;if(!_0x1d5c19[_0x43f2dd(0x1ee)][_0x43f2dd(0x18b)]||!_0x1d5c19[_0x43f2dd(0x1ee)]['calendarInstance'])return;await updateSchedulePreview(_0x1d5c19);let _0x19ea53={},_0x56cfd7={};try{const _0xe91e7d=await _0x1d5c19[_0x43f2dd(0x1bf)](_0x43f2dd(0x1c5));if(_0xe91e7d&&_0xe91e7d[_0x43f2dd(0x193)])_0x19ea53=JSON[_0x43f2dd(0x172)](_0xe91e7d[_0x43f2dd(0x193)]);const _0x4cdf19=await _0x1d5c19[_0x43f2dd(0x1bf)](_0x43f2dd(0x1c9));if(_0x4cdf19&&_0x4cdf19['val'])_0x56cfd7=JSON['parse'](_0x4cdf19[_0x43f2dd(0x193)]);}catch(_0x576a91){}let _0x227eac={'default':0x15};try{const _0x24d093=await _0x1d5c19[_0x43f2dd(0x1bf)](_0x43f2dd(0x187));if(_0x24d093&&_0x24d093[_0x43f2dd(0x193)])_0x227eac=JSON[_0x43f2dd(0x172)](_0x24d093[_0x43f2dd(0x193)]);}catch(_0x922616){}let _0x5ace71=[];try{const _0x20c2d6=await _0x1d5c19['getStateAsync'](_0x43f2dd(0x174));if(_0x20c2d6&&_0x20c2d6['val'])_0x5ace71=JSON['parse'](_0x20c2d6['val']);}catch(_0x2c46cb){}try{const _0x3df546=await _0x1d5c19[_0x43f2dd(0x1c1)](_0x1d5c19['config'][_0x43f2dd(0x1a0)]+_0x43f2dd(0x1ba));if(!_0x3df546||!_0x3df546[_0x43f2dd(0x193)])return;const _0x420a69=JSON['parse'](_0x3df546[_0x43f2dd(0x193)]),_0xa010e5=Date[_0x43f2dd(0x186)](),_0x2af796=_0x1d5c19['config'][_0x43f2dd(0x153)]||[],_0x5cc5f6=_0x1d5c19[_0x43f2dd(0x1ee)]['calendarSelection']||[];let _0x30f4c7=![];for(const _0x11b7ab of _0x420a69){if(_0x11b7ab[_0x43f2dd(0x139)]&&_0x5cc5f6['length']>0x0&&!_0x5cc5f6['includes'](_0x11b7ab[_0x43f2dd(0x139)]))continue;const _0x1441ac=_0x11b7ab[_0x43f2dd(0x19a)]||_0x11b7ab[_0x43f2dd(0x1a3)]||_0x11b7ab[_0x43f2dd(0x171)];if(!_0x1441ac)continue;const _0x22351d=new Date(_0x1441ac);if(isNaN(_0x22351d[_0x43f2dd(0x1e5)]()))continue;const _0x386c4f=(_0x11b7ab['event']||_0x11b7ab[_0x43f2dd(0x151)]||'')[_0x43f2dd(0x13b)]();if(_0x386c4f[_0x43f2dd(0x176)](_0x43f2dd(0x18e))||_0x386c4f[_0x43f2dd(0x176)](_0x43f2dd(0x155))||_0x386c4f[_0x43f2dd(0x176)](_0x43f2dd(0x170))){let _0x4f243e=0x0;Object['values'](_0x19ea53)[_0x43f2dd(0x17b)](_0x4b4a57=>{if(_0x4b4a57>_0x4f243e)_0x4f243e=_0x4b4a57;});if(_0x4f243e===0x0)_0x4f243e=0x78;const _0x1f01ee=_0x22351d[_0x43f2dd(0x1e5)]()-_0x4f243e*0xea60;_0xa010e5>=_0x1f01ee&&_0xa010e5<_0x22351d['getTime']()&&(_0x1d5c19[_0x43f2dd(0x19e)]!==_0x43f2dd(0x18a)&&(_0x1d5c19[_0x43f2dd(0x1a4)][_0x43f2dd(0x1d1)](_0x43f2dd(0x14c)+_0x4f243e+_0x43f2dd(0x1b7)),await _0x1d5c19[_0x43f2dd(0x140)]('system.mode',{'val':_0x43f2dd(0x18a),'ack':![]})));}for(const _0xd59ef1 of _0x2af796){if(_0xd59ef1[_0x43f2dd(0x197)]){const _0x242030=_0xd59ef1[_0x43f2dd(0x197)]['toLowerCase'](),_0x4a75ef=(_0xd59ef1['name']||'')[_0x43f2dd(0x13b)]();let _0x103e2e=_0x386c4f['includes'](_0x242030);!_0x103e2e&&_0x4a75ef[_0x43f2dd(0x1aa)]>0x3&&_0x386c4f[_0x43f2dd(0x176)](_0x4a75ef)&&(_0x103e2e=!![]);if(_0x103e2e){const _0x8b9fde=getWarmupRobust(_0x19ea53,_0xd59ef1[_0x43f2dd(0x197)]),_0xb75d3a=_0x56cfd7[_0xd59ef1['location']]||_0x43f2dd(0x1c6),_0x1ad577=_0x22351d['getTime']()-_0x8b9fde*0xea60;if(_0xa010e5>=_0x1ad577&&_0xa010e5<_0x22351d[_0x43f2dd(0x1e5)]()){const _0x4e858a=lastActions[_0x43f2dd(0x14b)+_0xd59ef1[_0x43f2dd(0x197)]];if(_0x4e858a&&_0xa010e5-_0x4e858a<CAL_COOLDOWN_MS)continue;const _0x2160e7=await findRelatedId(_0x1d5c19,_0xd59ef1['id'],_0x43f2dd(0x184));if(_0x2160e7){let _0x419b00=_0x227eac[_0xd59ef1[_0x43f2dd(0x197)]];if(_0x419b00===undefined)_0x419b00=_0x227eac[_0x43f2dd(0x150)];if(_0x419b00===undefined)_0x419b00=0x15;const _0x52c606=await _0x1d5c19['getForeignStateAsync'](_0x2160e7);if(_0x52c606&&typeof _0x52c606[_0x43f2dd(0x193)]==='number'&&_0x52c606[_0x43f2dd(0x193)]<_0x419b00-0.5){_0x1d5c19[_0x43f2dd(0x1a4)][_0x43f2dd(0x1d1)](_0x43f2dd(0x1f0)+_0xb75d3a+_0x43f2dd(0x191)+_0xd59ef1[_0x43f2dd(0x197)]+'\x27\x20(Match:\x20'+_0x386c4f+')\x20aktiv.\x20Heize\x20auf\x20'+_0x419b00+_0x43f2dd(0x17d)+_0x8b9fde+_0x43f2dd(0x1b7)),await _0x1d5c19[_0x43f2dd(0x166)](_0x2160e7,_0x419b00),await logAutomationAction(_0x1d5c19,_0x43f2dd(0x161)+_0xd59ef1[_0x43f2dd(0x197)]+'\x20->\x20'+_0x419b00+'¬∞C\x20(via\x20'+_0xb75d3a+')'),lastActions[_0x43f2dd(0x14b)+_0xd59ef1['location']]=_0xa010e5;const _0xd2dbbd=_0x5ace71['findIndex'](_0x225037=>_0x225037[_0x43f2dd(0x164)]===_0xd59ef1[_0x43f2dd(0x197)]);if(_0xd2dbbd!==-0x1)_0x5ace71['splice'](_0xd2dbbd,0x1);_0x5ace71['push']({'room':_0xd59ef1[_0x43f2dd(0x197)],'target':_0x419b00,'until':_0x22351d[_0x43f2dd(0x1e5)]()}),_0x30f4c7=!![];}}}}}}}_0x30f4c7&&await _0x1d5c19[_0x43f2dd(0x140)](_0x43f2dd(0x174),{'val':JSON[_0x43f2dd(0x13a)](_0x5ace71),'ack':!![]});}catch(_0x3a0fc3){_0x1d5c19['log'][_0x43f2dd(0x1cf)]('Calendar\x20Check\x20Error:\x20'+_0x3a0fc3[_0x43f2dd(0x1c0)]);}}async function manageMpcIntervention(_0x12cba1,_0x558c9c,_0x350495){const _0x4c1cea=a1_0x54b7b0;try{const _0x2c6a5a=_0x4c1cea(0x177),_0x138eb5=await _0x12cba1[_0x4c1cea(0x1bf)](_0x2c6a5a);let _0x15a41d=[];if(_0x138eb5&&_0x138eb5[_0x4c1cea(0x193)])try{_0x15a41d=JSON[_0x4c1cea(0x172)](_0x138eb5[_0x4c1cea(0x193)]);}catch(_0x21e9f7){}const _0x12a424=_0x15a41d[_0x4c1cea(0x1b9)](_0x558c9c);if(_0x350495==='add')_0x12a424===-0x1&&(_0x15a41d[_0x4c1cea(0x1ce)](_0x558c9c),await _0x12cba1[_0x4c1cea(0x140)](_0x2c6a5a,{'val':JSON[_0x4c1cea(0x13a)](_0x15a41d),'ack':!![]}));else _0x350495===_0x4c1cea(0x183)&&(_0x12a424!==-0x1&&(_0x15a41d[_0x4c1cea(0x1b2)](_0x12a424,0x1),await _0x12cba1[_0x4c1cea(0x140)](_0x2c6a5a,{'val':JSON[_0x4c1cea(0x13a)](_0x15a41d),'ack':!![]})));}catch(_0x51cbe9){}}async function cleanupGhostInterventions(_0xf481b0){const _0x2e426f=a1_0x54b7b0;try{const _0x592e65=_0x2e426f(0x177),_0x2df9ac=await _0xf481b0[_0x2e426f(0x1bf)](_0x592e65);if(!_0x2df9ac||!_0x2df9ac[_0x2e426f(0x193)])return;const _0xb1d92e=JSON[_0x2e426f(0x172)](_0x2df9ac[_0x2e426f(0x193)]);if(!Array['isArray'](_0xb1d92e)||_0xb1d92e['length']===0x0)return;let _0x1c227e={'default':0x15};try{const _0x5496ad=await _0xf481b0['getStateAsync']('analysis.energy.warmupTargets');if(_0x5496ad&&_0x5496ad[_0x2e426f(0x193)])_0x1c227e=JSON[_0x2e426f(0x172)](_0x5496ad[_0x2e426f(0x193)]);}catch(_0x22801e){}let _0x468c9b=[];try{const _0x11ba0e=await _0xf481b0[_0x2e426f(0x1bf)]('analysis.energy.ventilationAlerts');if(_0x11ba0e&&_0x11ba0e[_0x2e426f(0x193)])_0x468c9b=JSON[_0x2e426f(0x172)](_0x11ba0e[_0x2e426f(0x193)]);}catch(_0x4a2ebd){}let _0x27d5d3={},_0x59173d=![];try{const _0x519db9=await _0xf481b0[_0x2e426f(0x1bf)]('analysis.energy.rlPenalties');if(_0x519db9&&_0x519db9[_0x2e426f(0x193)])_0x27d5d3=JSON[_0x2e426f(0x172)](_0x519db9[_0x2e426f(0x193)]);}catch(_0x4e30db){}if(_0x27d5d3[_0x2e426f(0x1dd)]){const _0xaad620=Date[_0x2e426f(0x186)]();for(const [_0x19c4e8,_0x347e9c]of Object['entries'](_0x27d5d3[_0x2e426f(0x1dd)])){_0xaad620-_0x347e9c>PENALTY_TTL&&(delete _0x27d5d3[_0x19c4e8],delete _0x27d5d3[_0x2e426f(0x1dd)][_0x19c4e8],_0x59173d=!![],_0xf481b0[_0x2e426f(0x1a4)]['info'](_0x2e426f(0x142)+_0x19c4e8+_0x2e426f(0x195)));}}const _0x409a40=_0xf481b0[_0x2e426f(0x1ee)][_0x2e426f(0x153)]||[];let _0x38fba8=![];for(let _0x4dcbdd=_0xb1d92e[_0x2e426f(0x1aa)]-0x1;_0x4dcbdd>=0x0;_0x4dcbdd--){const _0x1f1054=_0xb1d92e[_0x4dcbdd],_0x5491c7=_0x409a40[_0x2e426f(0x13e)](_0x19d840=>normalize(_0x19d840[_0x2e426f(0x197)])===normalize(_0x1f1054)&&(_0x19d840[_0x2e426f(0x1be)]===_0x2e426f(0x1bb)||_0x19d840['type']==='thermostat'));if(!_0x5491c7){_0xf481b0['log'][_0x2e426f(0x1cf)](_0x2e426f(0x15b)+_0x1f1054+'\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.'),_0xb1d92e['splice'](_0x4dcbdd,0x1),_0x38fba8=!![];continue;}if(_0x5491c7){const _0x464d5f=await findRelatedId(_0xf481b0,_0x5491c7['id'],_0x2e426f(0x184)),_0x2b6641=await _0xf481b0[_0x2e426f(0x1c1)](_0x5491c7['id']);if(_0x464d5f){const _0x521c6f=await _0xf481b0['getForeignStateAsync'](_0x464d5f);if(_0x521c6f&&typeof _0x521c6f[_0x2e426f(0x193)]==='number'){let _0x427c43=![],_0x9811a7='';Math[_0x2e426f(0x15a)](_0x521c6f[_0x2e426f(0x193)]-ECO_TEMP)>0.5&&(_0x427c43=!![],_0x9811a7=_0x2e426f(0x167));if(!_0x427c43&&_0x2b6641&&typeof _0x2b6641['val']===_0x2e426f(0x1b0)){const _0x11f2aa=_0x1c227e[_0x1f1054]||_0x1c227e['default']||0x15;_0x2b6641[_0x2e426f(0x193)]<_0x11f2aa+0.2&&(_0x427c43=!![],_0x9811a7='too_cold');}if(_0x427c43){if(_0x9811a7===_0x2e426f(0x167)){_0xf481b0['log'][_0x2e426f(0x1d1)](_0x2e426f(0x1a7)+_0x1f1054+_0x2e426f(0x13f)+_0x521c6f[_0x2e426f(0x193)]+_0x2e426f(0x159)+ECO_TEMP+_0x2e426f(0x165));const _0x114efa=lastActions[_0x2e426f(0x14b)+_0x1f1054],_0x3421d7=_0x114efa&&Date[_0x2e426f(0x186)]()-_0x114efa<0x2*0x3c*0x3e8;if(!_0x3421d7&&_0x521c6f['val']>ECO_TEMP+0.5){_0xf481b0[_0x2e426f(0x141)]&&(_0xf481b0['log'][_0x2e426f(0x1d1)]('üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20'+_0x1f1054+_0x2e426f(0x1c3)),_0xf481b0['sendToPythonWrapper'](_0x2e426f(0x1bd),{'room':_0x1f1054}));const _0x1cf544=_0x1f1054+'_'+new Date()['getHours']();if(!_0x27d5d3[_0x1cf544]){_0x27d5d3[_0x1cf544]=0x1;if(!_0x27d5d3[_0x2e426f(0x1dd)])_0x27d5d3[_0x2e426f(0x1dd)]={};_0x27d5d3['_meta'][_0x1cf544]=Date[_0x2e426f(0x186)](),_0x59173d=!![];}}else _0x3421d7&&_0xf481b0[_0x2e426f(0x1a4)]['info'](_0x2e426f(0x1e2)+_0x1f1054+_0x2e426f(0x152));}else{if(_0x9811a7==='too_cold'){let _0x594aab=![];if(_0x468c9b[_0x2e426f(0x13e)](_0x25c758=>_0x25c758[_0x2e426f(0x164)]===_0x1f1054))_0x594aab=!![];const _0x3af1bb=_0x409a40[_0x2e426f(0x1d4)](_0x31de9d=>normalize(_0x31de9d[_0x2e426f(0x197)])===normalize(_0x1f1054)&&(_0x31de9d[_0x2e426f(0x1be)]===_0x2e426f(0x17e)||_0x31de9d[_0x2e426f(0x1be)]===_0x2e426f(0x1e9)||_0x31de9d[_0x2e426f(0x1be)]==='contact'));for(const _0x47264e of _0x3af1bb){try{const _0x5b37f1=await _0xf481b0[_0x2e426f(0x1c1)](_0x47264e['id']);if(_0x5b37f1&&(_0x5b37f1[_0x2e426f(0x193)]===!![]||_0x5b37f1[_0x2e426f(0x193)]===0x1||String(_0x5b37f1[_0x2e426f(0x193)])[_0x2e426f(0x13b)]()===_0x2e426f(0x1e0)))_0x594aab=!![];}catch(_0x366097){}}if(_0x594aab)_0xf481b0['log'][_0x2e426f(0x1d1)](_0x2e426f(0x1ec)+_0x1f1054+_0x2e426f(0x163));else{const _0x48cc96=_0x1c227e[_0x1f1054]||_0x1c227e['default']||0x15;_0xf481b0['log'][_0x2e426f(0x1d1)](_0x2e426f(0x1b1)+_0x1f1054+'\x20erreicht\x20Limit\x20('+_0x2b6641[_0x2e426f(0x193)]+_0x2e426f(0x185)+(_0x48cc96+0.2)+'¬∞C).\x20Sparmodus\x20beendet!'),await _0xf481b0['setForeignStateAsync'](_0x464d5f,_0x48cc96),await logAutomationAction(_0xf481b0,'[WATCHDOG]\x20'+_0x1f1054+_0x2e426f(0x1cd)+_0x48cc96+'¬∞C'),lastActions[_0x2e426f(0x19d)+_0x1f1054]=Date['now']();}}}_0xb1d92e[_0x2e426f(0x1b2)](_0x4dcbdd,0x1),_0x38fba8=!![];}}}}}_0x38fba8&&await _0xf481b0[_0x2e426f(0x140)](_0x592e65,{'val':JSON[_0x2e426f(0x13a)](_0xb1d92e),'ack':!![]}),_0x59173d&&await _0xf481b0[_0x2e426f(0x140)]('analysis.energy.rlPenalties',{'val':JSON[_0x2e426f(0x13a)](_0x27d5d3),'ack':!![]});}catch(_0x306253){}}async function applyEnergySavings(_0x47144b,_0x5e9317){const _0x26901b=a1_0x54b7b0;await cleanupGhostInterventions(_0x47144b);if(!_0x5e9317||_0x5e9317[_0x26901b(0x1aa)]===0x0)return;const _0x4d5f70=_0x47144b[_0x26901b(0x1ee)]['devices']||[],_0x3860c1=Date[_0x26901b(0x186)]();for(const _0x228f74 of _0x5e9317){const _0x4a7c40=_0x228f74[_0x26901b(0x164)],_0x3b0eca=_0x228f74[_0x26901b(0x16e)],_0x526bce=_0x228f74[_0x26901b(0x196)]||0x15;if(lastActions[_0x26901b(0x19d)+_0x4a7c40]&&_0x3860c1-lastActions['rescue_'+_0x4a7c40]<RESCUE_LOCK_MS)continue;const _0x2fb2c4=_0x4d5f70['find'](_0x3a9a10=>normalize(_0x3a9a10[_0x26901b(0x197)])===normalize(_0x4a7c40)&&(_0x3a9a10[_0x26901b(0x1be)]===_0x26901b(0x1bb)||_0x3a9a10['type']==='thermostat'));if(!_0x2fb2c4)continue;const _0x49379a=await findRelatedId(_0x47144b,_0x2fb2c4['id'],_0x26901b(0x184));if(_0x49379a){if(lastActions[_0x26901b(0x146)+_0x4a7c40]&&_0x3860c1-lastActions[_0x26901b(0x146)+_0x4a7c40]<0x1e*0x3c*0x3e8)continue;const _0x5613de=await _0x47144b[_0x26901b(0x1c1)](_0x49379a);if(_0x5613de&&typeof _0x5613de[_0x26901b(0x193)]===_0x26901b(0x1b0)){const _0x3cc238=_0x5613de[_0x26901b(0x193)];_0x3cc238!==ECO_TEMP&&await manageMpcIntervention(_0x47144b,_0x4a7c40,_0x26901b(0x183));if(_0x3b0eca>0x1e)_0x3cc238>ECO_TEMP+0.5&&(_0x47144b[_0x26901b(0x1a4)][_0x26901b(0x1d1)](_0x26901b(0x18f)+_0x4a7c40+_0x26901b(0x17a)+ECO_TEMP+_0x26901b(0x1ef)+_0x3b0eca+_0x26901b(0x168)),await _0x47144b[_0x26901b(0x166)](_0x49379a,ECO_TEMP),await manageMpcIntervention(_0x47144b,_0x4a7c40,_0x26901b(0x148)),lastActions[_0x26901b(0x146)+_0x4a7c40]=_0x3860c1,await logAutomationAction(_0x47144b,_0x26901b(0x144)+_0x4a7c40+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'¬∞C'));else _0x3b0eca<=0xf&&(_0x3cc238<_0x526bce&&(_0x47144b[_0x26901b(0x1a4)][_0x26901b(0x1d1)]('üî•\x20[MPC\x20ACTION]\x20Heize\x20'+_0x4a7c40+_0x26901b(0x1b4)+_0x526bce+'¬∞C!\x20(Puffer\x20leer).'),await _0x47144b[_0x26901b(0x166)](_0x49379a,_0x526bce),await manageMpcIntervention(_0x47144b,_0x4a7c40,_0x26901b(0x183)),lastActions[_0x26901b(0x146)+_0x4a7c40]=_0x3860c1,await logAutomationAction(_0x47144b,_0x26901b(0x144)+_0x4a7c40+_0x26901b(0x1e1)+_0x526bce+'¬∞C')));}}else _0x47144b[_0x26901b(0x1a4)]['warn'](_0x26901b(0x15f)+_0x4a7c40+'\x20gefunden!');}}function a1_0x1e88(){const _0x33c5ff=['stringify','toLowerCase','toString','.4.VALVE_STATE','find','\x20ist\x20auf\x20','setStateAsync','sendToPythonWrapper','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','505616kEaNZR','[MPC]\x20','active','mpc_','soll','add','.1.LEVEL','ACTUAL','cal_','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','PERFECT','level.temperature','pi_heating_demand','default','summary','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','devices','role','r√ºckkehr','exports','apply','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','¬∞C\x20(nicht\x20','abs','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','occupied_heating_setpoint','write','Unbekannt','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','from','[CAL]\x20','1525200IaRZTj','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','room','¬∞C).\x20Entferne\x20Status.','setForeignStateAsync','manual','\x20min)','49QkCJMT','thermostat.setpoint','.1.SET_POINT_TEMPERATURE','error','toUpperCase','minutes_safe','valveMapping','ankunft','date','parse','SET','analysis.energy.activeEnforcements','values','includes','analysis.energy.mpcActiveInterventions','localeCompare','6pSWgDk','\x20auf\x20','forEach','thermostat','¬∞C\x20(Vorlauf:\x20','window','name','101079OELvlH','consultButler','target_temperature','remove','setpoint','¬∞C\x20<\x20','now','analysis.energy.warmupTargets','entries','analysis.energy.schedulePreview','normal','useCalendar','temp','valve','urlaub\x20ende','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','dimmer',']:\x20Raum-Trigger\x20\x27','ist','val','Enforcement\x20Monitor\x20Error:\x20','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','target','location','Ist','¬∞C.','_date','triggerTime','unshift','rescue_','currentSystemMode','399185RtOkPz','calendarInstance','local_temperature','level.valve','eventStart','log','\x20->\x20Schalte\x20','until','üßπ\x20[MPC\x20CLEANUP]\x20','analysis.automation.actionLog','current_heating_setpoint','length','unit','openknx','Nicht\x20gefunden','replace','map','number','üö®\x20[MPC\x20WATCHDOG]\x20','splice','position','\x20wieder\x20auf\x20','set','calendarSelection','\x20min).','36szefNB','indexOf','.data.table','temperature','isArray','TRAIN_RL_PENALTY','type','getStateAsync','message','getForeignStateAsync','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','\x20wurde\x20manuell\x20erh√∂ht.','Auto-Erkennung','analysis.energy.warmupTimes','Classic','(((.+)+)+)+$','event','analysis.energy.warmupSources','23543260qnwnjN','off','level',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','push','warn','getForeignObjectAsync','info','sort','trim','filter','779849IeZHut','score','join','.1.ACTUAL_TEMPERATURE','string','ACTUAL_TEMPERATURE','¬∞C\x20->\x20','.1.TEMPERATURE','_meta','analysis.automation.mode','slice','open',':\x20Aufheizen\x20auf\x20','üìÖ\x20[MPC\x20INFO]\x20','common','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','getTime','.4.SET_TEMPERATURE','analysis.automation.lastAction','split','sensor','4279689aYyLYA','state','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','¬∞C\x20(Kalender-Schutz)','config','¬∞C!\x20(Puffer:\x20','üìÖ\x20SMART\x20SCHEDULE\x20[','_calName'];a1_0x1e88=function(){return _0x33c5ff;};return a1_0x1e88();}module[a1_0x54b7b0(0x156)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};