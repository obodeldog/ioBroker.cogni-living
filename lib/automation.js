const a1_0x2596b2=a1_0x215c;(function(_0x2b6c57,_0x9dc542){const _0x2ddadf=a1_0x215c,_0x258af4=_0x2b6c57();while(!![]){try{const _0x3783fb=parseInt(_0x2ddadf(0x115))/0x1+parseInt(_0x2ddadf(0x12e))/0x2*(parseInt(_0x2ddadf(0x16f))/0x3)+-parseInt(_0x2ddadf(0x105))/0x4*(parseInt(_0x2ddadf(0x127))/0x5)+parseInt(_0x2ddadf(0x168))/0x6+-parseInt(_0x2ddadf(0x15a))/0x7*(parseInt(_0x2ddadf(0x150))/0x8)+-parseInt(_0x2ddadf(0xfb))/0x9+parseInt(_0x2ddadf(0x165))/0xa*(-parseInt(_0x2ddadf(0xce))/0xb);if(_0x3783fb===_0x9dc542)break;else _0x258af4['push'](_0x258af4['shift']());}catch(_0x7ff538){_0x258af4['push'](_0x258af4['shift']());}}}(a1_0x1fd3,0xb8f3c));const a1_0x383d39=(function(){let _0x121acd=!![];return function(_0x35b2d3,_0x24b225){const _0x9918f1=_0x121acd?function(){const _0x55390f=a1_0x215c;if(_0x24b225){const _0x1df3ee=_0x24b225[_0x55390f(0x12f)](_0x35b2d3,arguments);return _0x24b225=null,_0x1df3ee;}}:function(){};return _0x121acd=![],_0x9918f1;};}()),a1_0x492c7e=a1_0x383d39(this,function(){const _0x2d04d6=a1_0x215c;return a1_0x492c7e[_0x2d04d6(0x162)]()[_0x2d04d6(0x106)](_0x2d04d6(0x159))[_0x2d04d6(0x162)]()[_0x2d04d6(0x138)](a1_0x492c7e)[_0x2d04d6(0x106)](_0x2d04d6(0x159));});a1_0x492c7e();'use strict';function a1_0x1fd3(){const _0x1e899d=['¬∞C\x20->\x20','replace','length','message','push','thermostatMapping','dimmer','temp','useCalendar','Unbekannt','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','_calName','setpoint','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','8270424gFTtlc','\x20min).','add','\x20wurde\x20manuell\x20erh√∂ht.','common','sensor','[FORCE]\x20','analysis.automation.confidenceThreshold','unshift','map','2858692DscxOr','search','ACTUAL_TEMPERATURE','summary','getForeignObjectAsync','valve_position','Fehlt','Calendar\x20Check\x20Error:\x20','getHours','light','error','set','analysis.energy.mpcActiveInterventions','active','valve','reason','720416AWVeka','stringify','type','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','normal','system.mode','unit','analysis.energy.schedulePreview','analysis.energy.warmupTargets','number','üìÖ\x20[MPC\x20INFO]\x20','Enforcement\x20Monitor\x20Error:\x20','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','cal_','date','\x20->\x20Schalte\x20',':\x20Absenkung\x20auf\x20','room','5aQnefT','off','local_temperature','messwert','\x20ist\x20auf\x20','includes','target','36RIEPyY','apply','¬∞C!\x20(Puffer\x20leer).','calendarSelection',')\x20aktiv.\x20Heize\x20auf\x20','position','setStateAsync','setForeignStateAsync','splice','analysis.energy.warmupTimes','constructor','until','name','analysis.energy.ventilationAlerts','triggerTime','_meta','current_heating_setpoint','filter','contact','thermostat','.4.SET_TEMPERATURE','mpc_','event',':\x20Aufheizen\x20auf\x20','find','analysis.energy.rlPenalties','wert','remove','from','üìÖ\x20SMART\x20SCHEDULE\x20[','Ist','temperature','too_cold','analysis.automation.mode','590864oqaLVn','actual','getStateAsync','forEach','urlaub\x20ende','location','rescue_','devices','calendarInstance','(((.+)+)+)+$','14SUwiAJ','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','entries','¬∞C!\x20(Puffer:\x20','slice','exports','analysis.energy.warmupSources','level','toString','values','üö®\x20[MPC\x20WATCHDOG]\x20','3463930mBCxHQ','warn','sort','6201288ifGvCX','getTime','.1.TEMPERATURE','[MPC]\x20','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','split','analysis.automation.actionLog','188553PDZnOy','eventStart','findIndex','abs','switch','\x20min)','./ai_agent','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20',']:\x20Raum-Trigger\x20\x27','¬∞C).\x20Entferne\x20Status.','_date','localeCompare','pi_heating_demand','¬∞C).\x20Sparmodus\x20beendet!','target_temperature','now','string','Nicht\x20gefunden','default','Classic','.1.ACTUAL_TEMPERATURE','Manuelles\x20Mapping','.1.SET_POINT_TEMPERATURE','analysis.energy.activeEnforcements',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','val','11VPpOwa','trim','level.valve','score','value.valve','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','log','config','toLowerCase','Unknown','ist','info','\x20gefunden!','.1.LEVEL','occupied_heating_setpoint','write','getForeignStateAsync','\x20auf\x20','ankunft','.data.table','parse','indexOf','r√ºckkehr','openknx','.4.VALVE_STATE','valveMapping','state','isArray','window','sendToPythonWrapper'];a1_0x1fd3=function(){return _0x1e899d;};return a1_0x1fd3();}const aiAgent=require(a1_0x2596b2(0x175)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x4f1836){const _0x434b1c=a1_0x2596b2;if(!_0x4f1836)return'';return _0x4f1836[_0x434b1c(0xd6)]()[_0x434b1c(0xed)](/\s+/g,'')[_0x434b1c(0xcf)]();}function getWarmupRobust(_0x56fff1,_0x3cb802){const _0x343eb9=a1_0x2596b2;if(!_0x56fff1||!_0x3cb802)return 0x3c;if(_0x56fff1[_0x3cb802]!==undefined)return _0x56fff1[_0x3cb802];const _0xbc1385=_0x3cb802['toLowerCase']()[_0x343eb9(0xed)](/√§/g,'ae')[_0x343eb9(0xed)](/√∂/g,'oe')[_0x343eb9(0xed)](/√º/g,'ue')[_0x343eb9(0xed)](/√ü/g,'ss')[_0x343eb9(0xed)](/\s+/g,'_')[_0x343eb9(0xed)](/[^a-z0-9_]/g,'');if(_0x56fff1[_0xbc1385]!==undefined)return _0x56fff1[_0xbc1385];return 0x3c;}function a1_0x215c(_0x4ad8d8,_0x59ce2e){const _0x1c52fc=a1_0x1fd3();return a1_0x215c=function(_0x492c7e,_0x383d39){_0x492c7e=_0x492c7e-0xce;let _0x1fd388=_0x1c52fc[_0x492c7e];return _0x1fd388;},a1_0x215c(_0x4ad8d8,_0x59ce2e);}async function logAutomationAction(_0x588d10,_0x593de8){const _0x46d6fd=a1_0x2596b2;await _0x588d10['setStateAsync']('analysis.automation.lastAction',{'val':_0x593de8,'ack':!![]});try{const _0x291bdb=_0x46d6fd(0x16e),_0x24f949=await _0x588d10['getStateAsync'](_0x291bdb);let _0x41d6dc=[];if(_0x24f949&&_0x24f949[_0x46d6fd(0x189)])try{_0x41d6dc=JSON[_0x46d6fd(0xe2)](_0x24f949[_0x46d6fd(0x189)]);}catch(_0x24b8b9){}_0x41d6dc[_0x46d6fd(0x103)]({'ts':Date[_0x46d6fd(0x17f)](),'msg':_0x593de8});if(_0x41d6dc[_0x46d6fd(0xee)]>0x32)_0x41d6dc=_0x41d6dc['slice'](0x0,0x32);await _0x588d10[_0x46d6fd(0x134)](_0x291bdb,{'val':JSON[_0x46d6fd(0x116)](_0x41d6dc),'ack':!![]});}catch(_0x5e26aa){}}async function handlePrediction(_0x16043d,_0x13924d,_0x2895d3){const _0x155f3f=a1_0x2596b2;if(!_0x13924d||_0x13924d===_0x155f3f(0xd7))return;let _0x36517=_0x155f3f(0x128),_0x7bf78a=0.6;try{const _0x2c64db=await _0x16043d[_0x155f3f(0x152)](_0x155f3f(0x14f));if(_0x2c64db&&_0x2c64db[_0x155f3f(0x189)])_0x36517=_0x2c64db['val'];const _0x76e84a=await _0x16043d[_0x155f3f(0x152)](_0x155f3f(0x102));if(_0x76e84a&&_0x76e84a[_0x155f3f(0x189)])_0x7bf78a=_0x76e84a[_0x155f3f(0x189)];}catch(_0x349bc5){}if(_0x36517===_0x155f3f(0x128)||_0x2895d3<_0x7bf78a)return;const _0x2501b8=Date[_0x155f3f(0x17f)]();if(lastActions[_0x13924d]&&_0x2501b8-lastActions[_0x13924d]<COOLDOWN_MS)return;const _0x58311d=_0x16043d['config'][_0x155f3f(0x157)]||[],_0x533aca=normalize(_0x13924d),_0x53f9d2=_0x58311d['find'](_0x17d7a2=>normalize(_0x17d7a2['location'])===_0x533aca&&(_0x17d7a2['type']===_0x155f3f(0x10e)||_0x17d7a2[_0x155f3f(0x117)]===_0x155f3f(0xf2)||_0x17d7a2[_0x155f3f(0x117)]===_0x155f3f(0x173)));if(!_0x53f9d2)return;const _0x4f041a=await aiAgent['consultButler'](_0x16043d,_0x13924d,_0x53f9d2[_0x155f3f(0x13a)],_0x2895d3);if(!_0x4f041a['approved'])return;const _0x6b44cf='Pr√§diktion:\x20'+_0x13924d+_0x155f3f(0x124)+_0x53f9d2[_0x155f3f(0x13a)]+'\x20('+_0x4f041a[_0x155f3f(0x114)]+')';await logAutomationAction(_0x16043d,'['+_0x36517['toUpperCase']()+']\x20'+_0x6b44cf);if(_0x36517===_0x155f3f(0x112)){const _0x4085cc=await _0x16043d['getForeignStateAsync'](_0x53f9d2['id']);(!_0x4085cc||!_0x4085cc[_0x155f3f(0x189)]&&_0x4085cc[_0x155f3f(0x189)]!==!![])&&await _0x16043d['setForeignStateAsync'](_0x53f9d2['id'],!![]),lastActions[_0x13924d]=_0x2501b8;}}async function findRelatedId(_0x1f6b46,_0x43e25b,_0x384c93=a1_0x2596b2(0xf8)){const _0x11071a=a1_0x2596b2;if(_0x384c93==='setpoint'&&_0x1f6b46[_0x11071a(0xd5)][_0x11071a(0xf1)]){let _0x513d6a=_0x1f6b46[_0x11071a(0xd5)][_0x11071a(0xf1)];if(typeof _0x513d6a===_0x11071a(0x180))try{_0x513d6a=JSON[_0x11071a(0xe2)](_0x513d6a);}catch(_0x2c5bf5){}if(_0x513d6a&&_0x513d6a[_0x43e25b])return _0x513d6a[_0x43e25b];}if(_0x384c93===_0x11071a(0x113)&&_0x1f6b46[_0x11071a(0xd5)][_0x11071a(0xe7)]){let _0x4b57f2=_0x1f6b46[_0x11071a(0xd5)][_0x11071a(0xe7)];if(typeof _0x4b57f2===_0x11071a(0x180))try{_0x4b57f2=JSON[_0x11071a(0xe2)](_0x4b57f2);}catch(_0x3fee80){}if(_0x4b57f2&&_0x4b57f2[_0x43e25b])return _0x4b57f2[_0x43e25b];}let _0x7c7ab0=[];if(_0x384c93===_0x11071a(0xf8))_0x7c7ab0=[{'s':_0x11071a(0x184),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x11071a(0x16a),'t':_0x11071a(0x186)},{'s':'.1.TEMPERATURE','t':_0x11071a(0x142)},{'s':_0x11071a(0x107),'t':'SET_POINT_TEMPERATURE'},{'s':'local_temperature','t':_0x11071a(0xdc)},{'s':'local_temperature','t':_0x11071a(0x13e)},{'s':'temperature','t':_0x11071a(0x17e)},{'s':'ACTUAL','t':'SET'},{'s':_0x11071a(0x14c),'t':'Soll'},{'s':'temperature','t':_0x11071a(0xf8)}];else _0x384c93==='valve'&&(_0x7c7ab0=[{'s':_0x11071a(0x184),'t':_0x11071a(0xdb)},{'s':_0x11071a(0x16a),'t':_0x11071a(0xdb)},{'s':_0x11071a(0x16a),'t':_0x11071a(0xe6)},{'s':_0x11071a(0x129),'t':_0x11071a(0x17c)},{'s':'temperature','t':_0x11071a(0x10a)},{'s':'temperature','t':_0x11071a(0x161)}]);for(const _0x352450 of _0x7c7ab0){if(_0x43e25b['includes'](_0x352450['s'])){const _0x443f90=_0x43e25b['replace'](_0x352450['s'],_0x352450['t']),_0x4633aa=await _0x1f6b46[_0x11071a(0x109)](_0x443f90);if(_0x4633aa)return _0x443f90;}}try{const _0x3af775=_0x43e25b[_0x11071a(0x16d)]('.');if(_0x3af775['length']>0x2){const _0x3efd5f=_0x3af775['slice'](0x0,-0x1)['join']('.'),_0x1bd252=await _0x1f6b46['getForeignObjectsAsync'](_0x3efd5f+'.*'),_0x1a9ede=[],_0x30aff8=_0x43e25b[_0x11071a(0x16d)](/[._]+/)[_0x11071a(0x13f)](_0x2647bf=>![_0x11071a(0xe5),'0','hm-rpc',_0x11071a(0xd8),_0x11071a(0x148),_0x11071a(0x14d),_0x11071a(0x151),_0x11071a(0x100),_0x11071a(0x12a),_0x11071a(0xe8)][_0x11071a(0x12c)](_0x2647bf[_0x11071a(0xd6)]()));for(const [_0x580248,_0x54fc34]of Object[_0x11071a(0x15c)](_0x1bd252)){if(_0x580248===_0x43e25b)continue;if(_0x54fc34&&_0x54fc34[_0x11071a(0xff)]){const _0x1172cc=_0x580248[_0x11071a(0xd6)](),_0x3f61f0=(_0x54fc34[_0x11071a(0xff)]['role']||'')[_0x11071a(0xd6)](),_0x2dbb51=(_0x54fc34['common'][_0x11071a(0x11b)]||'')[_0x11071a(0xd6)]();let _0x4658dc=![];if(_0x384c93===_0x11071a(0xf8)&&_0x54fc34['common'][_0x11071a(0xdd)]===!![])_0x4658dc=_0x1172cc[_0x11071a(0x12c)](_0x11071a(0x110))||_0x1172cc[_0x11071a(0x12c)]('soll')||_0x1172cc[_0x11071a(0x12c)](_0x11071a(0x12d))||_0x3f61f0[_0x11071a(0x12c)]('level.temperature')||_0x3f61f0['includes']('thermostat.setpoint');else _0x384c93===_0x11071a(0x113)&&(_0x4658dc=_0x1172cc[_0x11071a(0x12c)](_0x11071a(0x161))||_0x1172cc[_0x11071a(0x12c)](_0x11071a(0x113))||_0x1172cc[_0x11071a(0x12c)]('stellwert')||_0x1172cc['includes'](_0x11071a(0x133))||_0x3f61f0[_0x11071a(0x12c)](_0x11071a(0xd0))||_0x3f61f0[_0x11071a(0x12c)](_0x11071a(0xd2))||_0x2dbb51['includes']('%'));if(_0x4658dc){const _0x50dcdc=_0x580248[_0x11071a(0x16d)](/[._]+/)[_0x11071a(0x104)](_0x39619b=>_0x39619b[_0x11071a(0xd6)]());let _0x33ff33=0x0;_0x30aff8[_0x11071a(0x153)](_0x357049=>{const _0x5dbd0b=_0x11071a;if(_0x50dcdc[_0x5dbd0b(0x12c)](_0x357049[_0x5dbd0b(0xd6)]()))_0x33ff33++;}),_0x1a9ede[_0x11071a(0xf0)]({'id':_0x580248,'score':_0x33ff33});}}}if(_0x1a9ede['length']>0x0){_0x1a9ede['sort']((_0x5e7daf,_0x34ea60)=>_0x34ea60[_0x11071a(0xd1)]-_0x5e7daf[_0x11071a(0xd1)]);if(_0x1a9ede[0x0]['score']>0x0)return _0x1a9ede[0x0]['id'];}}}catch(_0x3462dc){}return null;}async function scanThermostats(_0x2a418c){const _0x3ec846=a1_0x2596b2,_0x35cdb6=_0x2a418c['config'][_0x3ec846(0x157)]||[],_0x55608b=[],_0x45a932=_0x35cdb6[_0x3ec846(0x13f)](_0x23aaf8=>_0x23aaf8['id']&&_0x23aaf8['id'][_0x3ec846(0x12c)]('temperature')||_0x23aaf8[_0x3ec846(0x117)]&&[_0x3ec846(0x14d),_0x3ec846(0x141),'sensor'][_0x3ec846(0x12c)](_0x23aaf8[_0x3ec846(0x117)])||_0x23aaf8[_0x3ec846(0x13a)]&&_0x23aaf8['name'][_0x3ec846(0xd6)]()[_0x3ec846(0x12c)](_0x3ec846(0xf3)));for(const _0xd099dd of _0x45a932){const _0x36d1c9=await findRelatedId(_0x2a418c,_0xd099dd['id'],'setpoint'),_0x49b5ef=await findRelatedId(_0x2a418c,_0xd099dd['id'],_0x3ec846(0x113));let _0x5647fe=_0x3ec846(0x181),_0x4c0f67=![],_0xb2565d=_0x2a418c[_0x3ec846(0xd5)][_0x3ec846(0xf1)]||{};if(typeof _0xb2565d===_0x3ec846(0x180))try{_0xb2565d=JSON[_0x3ec846(0xe2)](_0xb2565d);}catch(_0x5cbd46){}let _0x42f1ea=_0x2a418c[_0x3ec846(0xd5)][_0x3ec846(0xe7)]||{};if(typeof _0x42f1ea===_0x3ec846(0x180))try{_0x42f1ea=JSON[_0x3ec846(0xe2)](_0x42f1ea);}catch(_0x6838c5){}if(_0xb2565d[_0xd099dd['id']]&&_0xb2565d[_0xd099dd['id']]===_0x36d1c9||_0x42f1ea[_0xd099dd['id']]&&_0x42f1ea[_0xd099dd['id']]===_0x49b5ef)_0x5647fe=_0x3ec846(0x185),_0x4c0f67=!![];else(_0x36d1c9||_0x49b5ef)&&(_0x5647fe='Auto-Erkennung');_0x55608b['push']({'room':_0xd099dd[_0x3ec846(0x155)]||'Unbekannt','sensorId':_0xd099dd['id'],'setpointId':_0x36d1c9||'-','valveId':_0x49b5ef||'-','source':_0x5647fe,'isManual':_0x4c0f67,'status':_0x36d1c9&&_0x49b5ef?'PERFECT':_0x36d1c9?'OK':_0x3ec846(0x10b)});}return _0x55608b['sort']((_0x516f76,_0x5a48b7)=>_0x516f76[_0x3ec846(0x126)][_0x3ec846(0x17b)](_0x5a48b7['room']));}async function updateSchedulePreview(_0x42e26e){const _0x171ea6=a1_0x2596b2;if(!_0x42e26e[_0x171ea6(0xd5)]['useCalendar']||!_0x42e26e[_0x171ea6(0xd5)]['calendarInstance'])return;let _0x590198={};try{const _0x549861=await _0x42e26e[_0x171ea6(0x152)]('analysis.energy.warmupTimes');if(_0x549861&&_0x549861['val'])_0x590198=JSON[_0x171ea6(0xe2)](_0x549861[_0x171ea6(0x189)]);}catch(_0x3b665b){}const _0x184049=[],_0x4e0b52=Date[_0x171ea6(0x17f)](),_0xd741e3=0x30*0x3c*0x3c*0x3e8;try{const _0x317292=await _0x42e26e['getForeignStateAsync'](_0x42e26e['config']['calendarInstance']+_0x171ea6(0xe1));if(!_0x317292||!_0x317292[_0x171ea6(0x189)])return;const _0x272371=JSON[_0x171ea6(0xe2)](_0x317292[_0x171ea6(0x189)]),_0x3a644c=_0x42e26e[_0x171ea6(0xd5)]['calendarSelection']||[],_0x1fefc6=_0x42e26e[_0x171ea6(0xd5)]['devices']||[],_0x465bb6=new Set();_0x1fefc6['forEach'](_0xedfc8b=>{const _0xd59c8c=_0x171ea6;if(_0xedfc8b[_0xd59c8c(0x155)])_0x465bb6[_0xd59c8c(0xfd)](_0xedfc8b[_0xd59c8c(0x155)]);});for(const _0x2239fc of _0x272371){if(_0x2239fc[_0x171ea6(0xf7)]&&_0x3a644c[_0x171ea6(0xee)]>0x0&&!_0x3a644c[_0x171ea6(0x12c)](_0x2239fc['_calName']))continue;const _0x4146bd=_0x2239fc[_0x171ea6(0x17a)]||_0x2239fc['eventStart']||_0x2239fc[_0x171ea6(0x123)];if(!_0x4146bd)continue;const _0x1854f5=new Date(_0x4146bd),_0x31b479=_0x1854f5['getTime']();if(isNaN(_0x31b479))continue;if(_0x31b479<_0x4e0b52)continue;if(_0x31b479>_0x4e0b52+_0xd741e3)continue;const _0x8b3276=(_0x2239fc[_0x171ea6(0x144)]||_0x2239fc[_0x171ea6(0x108)]||'')[_0x171ea6(0xd6)]();let _0x2a9e9e=![],_0x313f9b=[],_0x145882=_0x2239fc[_0x171ea6(0x144)]||_0x2239fc[_0x171ea6(0x108)]||_0x171ea6(0xf5);if(_0x8b3276[_0x171ea6(0x12c)]('urlaub\x20ende')||_0x8b3276[_0x171ea6(0x12c)](_0x171ea6(0xe4))||_0x8b3276[_0x171ea6(0x12c)](_0x171ea6(0xe0)))_0x2a9e9e=!![],_0x313f9b=Array[_0x171ea6(0x14a)](_0x465bb6);else for(const _0x134f3b of _0x465bb6){if(_0x8b3276[_0x171ea6(0x12c)](_0x134f3b[_0x171ea6(0xd6)]()))_0x313f9b['push'](_0x134f3b);}_0x313f9b[_0x171ea6(0xee)]>0x0&&_0x313f9b[_0x171ea6(0x153)](_0x260db3=>{const _0x564af7=_0x171ea6;let _0x34b136=0x3c;if(_0x2a9e9e){let _0x1f8b35=0x0;Object[_0x564af7(0x163)](_0x590198)[_0x564af7(0x153)](_0x846d5d=>{if(_0x846d5d>_0x1f8b35)_0x1f8b35=_0x846d5d;}),_0x34b136=_0x1f8b35>0x0?_0x1f8b35:0x78;}else _0x34b136=getWarmupRobust(_0x590198,_0x260db3);const _0x422458=new Date(_0x31b479-_0x34b136*0xea60);_0x184049['push']({'eventTime':_0x31b479,'triggerTime':_0x422458[_0x564af7(0x169)](),'room':_0x260db3,'minutes':_0x34b136,'reason':_0x145882,'isGlobal':_0x2a9e9e});});}}catch(_0x2dce2e){}_0x184049[_0x171ea6(0x167)]((_0x24aa1c,_0x1db8bf)=>_0x24aa1c[_0x171ea6(0x13c)]-_0x1db8bf[_0x171ea6(0x13c)]);const _0x12a357=_0x184049[_0x171ea6(0x15e)](0x0,0x5);await _0x42e26e[_0x171ea6(0x134)](_0x171ea6(0x11c),{'val':JSON['stringify'](_0x12a357),'ack':!![]});}async function monitorEnforcements(_0x319f18){const _0x2ba6e3=a1_0x2596b2;try{const _0x48bed4=_0x2ba6e3(0x187),_0x49e180=await _0x319f18[_0x2ba6e3(0x152)](_0x48bed4);if(!_0x49e180||!_0x49e180['val'])return;let _0x176bc0=[];try{_0x176bc0=JSON[_0x2ba6e3(0xe2)](_0x49e180[_0x2ba6e3(0x189)]);}catch(_0x3e559e){return;}if(!Array[_0x2ba6e3(0xe9)](_0x176bc0)||_0x176bc0['length']===0x0)return;const _0x4670a8=Date['now'](),_0x509b30=_0x319f18['config']['devices']||[];let _0x5162b8=![];for(let _0xc6a41=_0x176bc0[_0x2ba6e3(0xee)]-0x1;_0xc6a41>=0x0;_0xc6a41--){const _0x1eb787=_0x176bc0[_0xc6a41];if(_0x4670a8>=_0x1eb787[_0x2ba6e3(0x139)]){_0x319f18['log'][_0x2ba6e3(0xd9)](_0x2ba6e3(0x177)+_0x1eb787[_0x2ba6e3(0x126)]+_0x2ba6e3(0x15b)),_0x176bc0[_0x2ba6e3(0x136)](_0xc6a41,0x1),_0x5162b8=!![];continue;}const _0x476d5e=_0x509b30[_0x2ba6e3(0x146)](_0x33e5d2=>normalize(_0x33e5d2['location'])===normalize(_0x1eb787['room'])&&(_0x33e5d2[_0x2ba6e3(0x117)]===_0x2ba6e3(0x14d)||_0x33e5d2['type']===_0x2ba6e3(0x141)));if(_0x476d5e){const _0x573c7c=await findRelatedId(_0x319f18,_0x476d5e['id'],_0x2ba6e3(0xf8));if(_0x573c7c){const _0x257e86=await _0x319f18['getForeignStateAsync'](_0x573c7c);_0x257e86&&typeof _0x257e86[_0x2ba6e3(0x189)]===_0x2ba6e3(0x11e)&&(_0x257e86['val']<0xf&&(_0x319f18[_0x2ba6e3(0xd4)]['warn']('üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x1eb787['room']+'\x20auf\x20'+_0x257e86[_0x2ba6e3(0x189)]+_0x2ba6e3(0xf6)+_0x1eb787[_0x2ba6e3(0x12d)]+'¬∞C.'),await _0x319f18[_0x2ba6e3(0x135)](_0x573c7c,_0x1eb787[_0x2ba6e3(0x12d)]),await logAutomationAction(_0x319f18,_0x2ba6e3(0x101)+_0x1eb787['room']+':\x20'+_0x257e86['val']+_0x2ba6e3(0xec)+_0x1eb787[_0x2ba6e3(0x12d)]+'¬∞C\x20(Kalender-Schutz)')));}}}_0x5162b8&&await _0x319f18[_0x2ba6e3(0x134)](_0x48bed4,{'val':JSON[_0x2ba6e3(0x116)](_0x176bc0),'ack':!![]});}catch(_0x233212){_0x319f18['log'][_0x2ba6e3(0x10f)](_0x2ba6e3(0x120)+_0x233212[_0x2ba6e3(0xef)]);}}async function checkCalendarTriggers(_0x40d317){const _0x161b9f=a1_0x2596b2;if(!_0x40d317[_0x161b9f(0xd5)][_0x161b9f(0xf4)]||!_0x40d317[_0x161b9f(0xd5)][_0x161b9f(0x158)])return;await updateSchedulePreview(_0x40d317);let _0x467b43={},_0x2621ab={};try{const _0xbd1566=await _0x40d317[_0x161b9f(0x152)](_0x161b9f(0x137));if(_0xbd1566&&_0xbd1566[_0x161b9f(0x189)])_0x467b43=JSON[_0x161b9f(0xe2)](_0xbd1566[_0x161b9f(0x189)]);const _0x278d75=await _0x40d317[_0x161b9f(0x152)](_0x161b9f(0x160));if(_0x278d75&&_0x278d75[_0x161b9f(0x189)])_0x2621ab=JSON[_0x161b9f(0xe2)](_0x278d75[_0x161b9f(0x189)]);}catch(_0x1749f4){}let _0x11dcba={'default':0x15};try{const _0x5703e3=await _0x40d317['getStateAsync'](_0x161b9f(0x11d));if(_0x5703e3&&_0x5703e3[_0x161b9f(0x189)])_0x11dcba=JSON[_0x161b9f(0xe2)](_0x5703e3[_0x161b9f(0x189)]);}catch(_0x5dfa36){}let _0x483dd8=[];try{const _0x7fe6db=await _0x40d317[_0x161b9f(0x152)](_0x161b9f(0x187));if(_0x7fe6db&&_0x7fe6db['val'])_0x483dd8=JSON[_0x161b9f(0xe2)](_0x7fe6db['val']);}catch(_0xf9735f){}try{const _0x1901c3=await _0x40d317[_0x161b9f(0xde)](_0x40d317[_0x161b9f(0xd5)][_0x161b9f(0x158)]+_0x161b9f(0xe1));if(!_0x1901c3||!_0x1901c3[_0x161b9f(0x189)])return;const _0x1d6121=JSON['parse'](_0x1901c3[_0x161b9f(0x189)]),_0x39c89d=Date[_0x161b9f(0x17f)](),_0x3de6e2=_0x40d317[_0x161b9f(0xd5)][_0x161b9f(0x157)]||[],_0x1b2c39=_0x40d317['config'][_0x161b9f(0x131)]||[];let _0x2177fb=![];for(const _0x493096 of _0x1d6121){if(_0x493096[_0x161b9f(0xf7)]&&_0x1b2c39[_0x161b9f(0xee)]>0x0&&!_0x1b2c39[_0x161b9f(0x12c)](_0x493096['_calName']))continue;const _0x1584d7=_0x493096[_0x161b9f(0x17a)]||_0x493096[_0x161b9f(0x170)]||_0x493096[_0x161b9f(0x123)];if(!_0x1584d7)continue;const _0x2e35e8=new Date(_0x1584d7);if(isNaN(_0x2e35e8[_0x161b9f(0x169)]()))continue;const _0x1414fe=(_0x493096[_0x161b9f(0x144)]||_0x493096[_0x161b9f(0x108)]||'')['toLowerCase']();if(_0x1414fe[_0x161b9f(0x12c)](_0x161b9f(0x154))||_0x1414fe[_0x161b9f(0x12c)](_0x161b9f(0xe4))||_0x1414fe[_0x161b9f(0x12c)]('ankunft')){let _0x13c99c=0x0;Object[_0x161b9f(0x163)](_0x467b43)[_0x161b9f(0x153)](_0x1b2950=>{if(_0x1b2950>_0x13c99c)_0x13c99c=_0x1b2950;});if(_0x13c99c===0x0)_0x13c99c=0x78;const _0x4bf09d=_0x2e35e8[_0x161b9f(0x169)]()-_0x13c99c*0xea60;_0x39c89d>=_0x4bf09d&&_0x39c89d<_0x2e35e8[_0x161b9f(0x169)]()&&(_0x40d317['currentSystemMode']!=='normal'&&(_0x40d317[_0x161b9f(0xd4)][_0x161b9f(0xd9)]('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x13c99c+_0x161b9f(0xfc)),await _0x40d317[_0x161b9f(0x134)](_0x161b9f(0x11a),{'val':_0x161b9f(0x119),'ack':![]})));}for(const _0x52d7bd of _0x3de6e2){if(_0x52d7bd[_0x161b9f(0x155)]){const _0x260e0d=_0x52d7bd[_0x161b9f(0x155)]['toLowerCase'](),_0x35766c=(_0x52d7bd[_0x161b9f(0x13a)]||'')[_0x161b9f(0xd6)]();let _0x32f47f=_0x1414fe[_0x161b9f(0x12c)](_0x260e0d);!_0x32f47f&&_0x35766c[_0x161b9f(0xee)]>0x3&&_0x1414fe[_0x161b9f(0x12c)](_0x35766c)&&(_0x32f47f=!![]);if(_0x32f47f){const _0x24c159=getWarmupRobust(_0x467b43,_0x52d7bd[_0x161b9f(0x155)]),_0x195912=_0x2621ab[_0x52d7bd[_0x161b9f(0x155)]]||_0x161b9f(0x183),_0x1fb61e=_0x2e35e8[_0x161b9f(0x169)]()-_0x24c159*0xea60;if(_0x39c89d>=_0x1fb61e&&_0x39c89d<_0x2e35e8[_0x161b9f(0x169)]()){const _0x583a77=lastActions[_0x161b9f(0x122)+_0x52d7bd['location']];if(_0x583a77&&_0x39c89d-_0x583a77<CAL_COOLDOWN_MS)continue;const _0x5e45a4=await findRelatedId(_0x40d317,_0x52d7bd['id'],_0x161b9f(0xf8));if(_0x5e45a4){let _0xb7693e=_0x11dcba[_0x52d7bd[_0x161b9f(0x155)]];if(_0xb7693e===undefined)_0xb7693e=_0x11dcba[_0x161b9f(0x182)];if(_0xb7693e===undefined)_0xb7693e=0x15;const _0x24f919=await _0x40d317[_0x161b9f(0xde)](_0x5e45a4);if(_0x24f919&&typeof _0x24f919[_0x161b9f(0x189)]===_0x161b9f(0x11e)&&_0x24f919[_0x161b9f(0x189)]<_0xb7693e-0.5){_0x40d317[_0x161b9f(0xd4)][_0x161b9f(0xd9)](_0x161b9f(0x14b)+_0x195912+_0x161b9f(0x178)+_0x52d7bd[_0x161b9f(0x155)]+'\x27\x20(Match:\x20'+_0x1414fe+_0x161b9f(0x132)+_0xb7693e+'¬∞C\x20(Vorlauf:\x20'+_0x24c159+_0x161b9f(0xfc)),await _0x40d317[_0x161b9f(0x135)](_0x5e45a4,_0xb7693e),await logAutomationAction(_0x40d317,'[CAL]\x20'+_0x52d7bd['location']+'\x20->\x20'+_0xb7693e+'¬∞C\x20(via\x20'+_0x195912+')'),lastActions[_0x161b9f(0x122)+_0x52d7bd['location']]=_0x39c89d;const _0x5a2449=_0x483dd8[_0x161b9f(0x171)](_0x21449a=>_0x21449a[_0x161b9f(0x126)]===_0x52d7bd[_0x161b9f(0x155)]);if(_0x5a2449!==-0x1)_0x483dd8[_0x161b9f(0x136)](_0x5a2449,0x1);_0x483dd8['push']({'room':_0x52d7bd[_0x161b9f(0x155)],'target':_0xb7693e,'until':_0x2e35e8['getTime']()}),_0x2177fb=!![];}}}}}}}_0x2177fb&&await _0x40d317['setStateAsync'](_0x161b9f(0x187),{'val':JSON[_0x161b9f(0x116)](_0x483dd8),'ack':!![]});}catch(_0x141e59){_0x40d317[_0x161b9f(0xd4)]['warn'](_0x161b9f(0x10c)+_0x141e59['message']);}}async function manageMpcIntervention(_0x191fa6,_0x47a7cc,_0xbddde5){const _0x4bdc58=a1_0x2596b2;try{const _0x310eb5=_0x4bdc58(0x111),_0x1b45d5=await _0x191fa6[_0x4bdc58(0x152)](_0x310eb5);let _0x4a0fbe=[];if(_0x1b45d5&&_0x1b45d5['val'])try{_0x4a0fbe=JSON[_0x4bdc58(0xe2)](_0x1b45d5[_0x4bdc58(0x189)]);}catch(_0x46bc0b){}const _0x533507=_0x4a0fbe[_0x4bdc58(0xe3)](_0x47a7cc);if(_0xbddde5==='add')_0x533507===-0x1&&(_0x4a0fbe[_0x4bdc58(0xf0)](_0x47a7cc),await _0x191fa6[_0x4bdc58(0x134)](_0x310eb5,{'val':JSON[_0x4bdc58(0x116)](_0x4a0fbe),'ack':!![]}));else _0xbddde5===_0x4bdc58(0x149)&&(_0x533507!==-0x1&&(_0x4a0fbe[_0x4bdc58(0x136)](_0x533507,0x1),await _0x191fa6[_0x4bdc58(0x134)](_0x310eb5,{'val':JSON['stringify'](_0x4a0fbe),'ack':!![]})));}catch(_0x6d7a08){}}async function cleanupGhostInterventions(_0x230d4c){const _0x3753b1=a1_0x2596b2;try{const _0x2823ec=_0x3753b1(0x111),_0x82ad70=await _0x230d4c[_0x3753b1(0x152)](_0x2823ec);if(!_0x82ad70||!_0x82ad70[_0x3753b1(0x189)])return;const _0x134a3f=JSON[_0x3753b1(0xe2)](_0x82ad70['val']);if(!Array[_0x3753b1(0xe9)](_0x134a3f)||_0x134a3f[_0x3753b1(0xee)]===0x0)return;let _0x466cd1={'default':0x15};try{const _0x5b9728=await _0x230d4c['getStateAsync']('analysis.energy.warmupTargets');if(_0x5b9728&&_0x5b9728[_0x3753b1(0x189)])_0x466cd1=JSON[_0x3753b1(0xe2)](_0x5b9728[_0x3753b1(0x189)]);}catch(_0x182af6){}let _0x5c382f=[];try{const _0x286392=await _0x230d4c[_0x3753b1(0x152)](_0x3753b1(0x13b));if(_0x286392&&_0x286392[_0x3753b1(0x189)])_0x5c382f=JSON[_0x3753b1(0xe2)](_0x286392[_0x3753b1(0x189)]);}catch(_0x42b7f4){}let _0xcc3daf={},_0x489563=![];try{const _0x43f2b4=await _0x230d4c[_0x3753b1(0x152)]('analysis.energy.rlPenalties');if(_0x43f2b4&&_0x43f2b4['val'])_0xcc3daf=JSON[_0x3753b1(0xe2)](_0x43f2b4[_0x3753b1(0x189)]);}catch(_0x3ce313){}if(_0xcc3daf[_0x3753b1(0x13d)]){const _0x542da1=Date[_0x3753b1(0x17f)]();for(const [_0x24d17c,_0x55dfac]of Object['entries'](_0xcc3daf[_0x3753b1(0x13d)])){_0x542da1-_0x55dfac>PENALTY_TTL&&(delete _0xcc3daf[_0x24d17c],delete _0xcc3daf[_0x3753b1(0x13d)][_0x24d17c],_0x489563=!![],_0x230d4c[_0x3753b1(0xd4)][_0x3753b1(0xd9)](_0x3753b1(0x16c)+_0x24d17c+_0x3753b1(0x176)));}}const _0x35bdfc=_0x230d4c[_0x3753b1(0xd5)]['devices']||[];let _0x123bd9=![];for(let _0x851ead=_0x134a3f[_0x3753b1(0xee)]-0x1;_0x851ead>=0x0;_0x851ead--){const _0x437b58=_0x134a3f[_0x851ead],_0x1795b1=_0x35bdfc['find'](_0x27f176=>normalize(_0x27f176['location'])===normalize(_0x437b58)&&(_0x27f176[_0x3753b1(0x117)]===_0x3753b1(0x14d)||_0x27f176[_0x3753b1(0x117)]===_0x3753b1(0x141)));if(!_0x1795b1){_0x230d4c[_0x3753b1(0xd4)][_0x3753b1(0x166)]('üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27'+_0x437b58+'\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.'),_0x134a3f[_0x3753b1(0x136)](_0x851ead,0x1),_0x123bd9=!![];continue;}if(_0x1795b1){const _0x26b8aa=await findRelatedId(_0x230d4c,_0x1795b1['id'],_0x3753b1(0xf8)),_0x5c996f=await _0x230d4c[_0x3753b1(0xde)](_0x1795b1['id']);if(_0x26b8aa){const _0x543ebd=await _0x230d4c[_0x3753b1(0xde)](_0x26b8aa);if(_0x543ebd&&typeof _0x543ebd[_0x3753b1(0x189)]===_0x3753b1(0x11e)){let _0xc8d9=![],_0x57d516='';Math[_0x3753b1(0x172)](_0x543ebd[_0x3753b1(0x189)]-ECO_TEMP)>0.5&&(_0xc8d9=!![],_0x57d516='manual');if(!_0xc8d9&&_0x5c996f&&typeof _0x5c996f[_0x3753b1(0x189)]===_0x3753b1(0x11e)){const _0x398eba=_0x466cd1[_0x437b58]||_0x466cd1[_0x3753b1(0x182)]||0x15;_0x5c996f[_0x3753b1(0x189)]<_0x398eba+0.2&&(_0xc8d9=!![],_0x57d516=_0x3753b1(0x14e));}if(_0xc8d9){if(_0x57d516==='manual'){_0x230d4c[_0x3753b1(0xd4)]['info']('üßπ\x20[MPC\x20CLEANUP]\x20'+_0x437b58+_0x3753b1(0x12b)+_0x543ebd[_0x3753b1(0x189)]+'¬∞C\x20(nicht\x20'+ECO_TEMP+_0x3753b1(0x179));const _0x4ecc86=lastActions[_0x3753b1(0x122)+_0x437b58],_0x4e300f=_0x4ecc86&&Date[_0x3753b1(0x17f)]()-_0x4ecc86<0x2*0x3c*0x3e8;if(!_0x4e300f&&_0x543ebd[_0x3753b1(0x189)]>ECO_TEMP+0.5){_0x230d4c[_0x3753b1(0xeb)]&&(_0x230d4c[_0x3753b1(0xd4)][_0x3753b1(0xd9)](_0x3753b1(0x121)+_0x437b58+_0x3753b1(0xfe)),_0x230d4c[_0x3753b1(0xeb)]('TRAIN_RL_PENALTY',{'room':_0x437b58}));const _0x1c3093=_0x437b58+'_'+new Date()[_0x3753b1(0x10d)]();if(!_0xcc3daf[_0x1c3093]){_0xcc3daf[_0x1c3093]=0x1;if(!_0xcc3daf['_meta'])_0xcc3daf['_meta']={};_0xcc3daf[_0x3753b1(0x13d)][_0x1c3093]=Date[_0x3753b1(0x17f)](),_0x489563=!![];}}else _0x4e300f&&_0x230d4c[_0x3753b1(0xd4)][_0x3753b1(0xd9)](_0x3753b1(0x11f)+_0x437b58+_0x3753b1(0x118));}else{if(_0x57d516===_0x3753b1(0x14e)){let _0x173fc3=![];if(_0x5c382f[_0x3753b1(0x146)](_0x3b4dda=>_0x3b4dda[_0x3753b1(0x126)]===_0x437b58))_0x173fc3=!![];const _0x3353b8=_0x35bdfc['filter'](_0x2ab2d6=>normalize(_0x2ab2d6[_0x3753b1(0x155)])===normalize(_0x437b58)&&(_0x2ab2d6[_0x3753b1(0x117)]===_0x3753b1(0xea)||_0x2ab2d6[_0x3753b1(0x117)]===_0x3753b1(0x100)||_0x2ab2d6[_0x3753b1(0x117)]===_0x3753b1(0x140)));for(const _0xcc18ce of _0x3353b8){try{const _0x26685f=await _0x230d4c['getForeignStateAsync'](_0xcc18ce['id']);if(_0x26685f&&(_0x26685f['val']===!![]||_0x26685f['val']===0x1||String(_0x26685f[_0x3753b1(0x189)])['toLowerCase']()==='open'))_0x173fc3=!![];}catch(_0x8e0c55){}}if(_0x173fc3)_0x230d4c[_0x3753b1(0xd4)]['info']('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x437b58+_0x3753b1(0xd3));else{const _0x5ccbf1=_0x466cd1[_0x437b58]||_0x466cd1['default']||0x15;_0x230d4c[_0x3753b1(0xd4)][_0x3753b1(0xd9)](_0x3753b1(0x164)+_0x437b58+'\x20erreicht\x20Limit\x20('+_0x5c996f[_0x3753b1(0x189)]+'¬∞C\x20<\x20'+(_0x5ccbf1+0.2)+_0x3753b1(0x17d)),await _0x230d4c[_0x3753b1(0x135)](_0x26b8aa,_0x5ccbf1),await logAutomationAction(_0x230d4c,'[WATCHDOG]\x20'+_0x437b58+_0x3753b1(0x188)+_0x5ccbf1+'¬∞C'),lastActions['rescue_'+_0x437b58]=Date[_0x3753b1(0x17f)]();}}}_0x134a3f[_0x3753b1(0x136)](_0x851ead,0x1),_0x123bd9=!![];}}}}}_0x123bd9&&await _0x230d4c[_0x3753b1(0x134)](_0x2823ec,{'val':JSON['stringify'](_0x134a3f),'ack':!![]}),_0x489563&&await _0x230d4c[_0x3753b1(0x134)](_0x3753b1(0x147),{'val':JSON[_0x3753b1(0x116)](_0xcc3daf),'ack':!![]});}catch(_0x348d86){}}async function applyEnergySavings(_0x2ef2cc,_0x5374b0){const _0xaccc0f=a1_0x2596b2;await cleanupGhostInterventions(_0x2ef2cc);if(!_0x5374b0||_0x5374b0[_0xaccc0f(0xee)]===0x0)return;const _0x320215=_0x2ef2cc[_0xaccc0f(0xd5)][_0xaccc0f(0x157)]||[],_0x1612cf=Date[_0xaccc0f(0x17f)]();for(const _0x5b0d4f of _0x5374b0){const _0x4960ab=_0x5b0d4f[_0xaccc0f(0x126)],_0x472475=_0x5b0d4f['minutes_safe'],_0x2baff2=_0x5b0d4f[_0xaccc0f(0x12d)]||0x15;if(lastActions[_0xaccc0f(0x156)+_0x4960ab]&&_0x1612cf-lastActions[_0xaccc0f(0x156)+_0x4960ab]<RESCUE_LOCK_MS)continue;const _0x2daad0=_0x320215[_0xaccc0f(0x146)](_0x13e058=>normalize(_0x13e058[_0xaccc0f(0x155)])===normalize(_0x4960ab)&&(_0x13e058[_0xaccc0f(0x117)]===_0xaccc0f(0x14d)||_0x13e058[_0xaccc0f(0x117)]===_0xaccc0f(0x141)));if(!_0x2daad0)continue;const _0x19a13a=await findRelatedId(_0x2ef2cc,_0x2daad0['id'],'setpoint');if(_0x19a13a){if(lastActions[_0xaccc0f(0x143)+_0x4960ab]&&_0x1612cf-lastActions[_0xaccc0f(0x143)+_0x4960ab]<0x1e*0x3c*0x3e8)continue;const _0x256de4=await _0x2ef2cc[_0xaccc0f(0xde)](_0x19a13a);if(_0x256de4&&typeof _0x256de4[_0xaccc0f(0x189)]===_0xaccc0f(0x11e)){const _0x7e4af1=_0x256de4[_0xaccc0f(0x189)];_0x7e4af1!==ECO_TEMP&&await manageMpcIntervention(_0x2ef2cc,_0x4960ab,_0xaccc0f(0x149));if(_0x472475>0x1e)_0x7e4af1>ECO_TEMP+0.5&&(_0x2ef2cc[_0xaccc0f(0xd4)][_0xaccc0f(0xd9)](_0xaccc0f(0xf9)+_0x4960ab+_0xaccc0f(0xdf)+ECO_TEMP+_0xaccc0f(0x15d)+_0x472475+_0xaccc0f(0x174)),await _0x2ef2cc[_0xaccc0f(0x135)](_0x19a13a,ECO_TEMP),await manageMpcIntervention(_0x2ef2cc,_0x4960ab,_0xaccc0f(0xfd)),lastActions['mpc_'+_0x4960ab]=_0x1612cf,await logAutomationAction(_0x2ef2cc,_0xaccc0f(0x16b)+_0x4960ab+_0xaccc0f(0x125)+ECO_TEMP+'¬∞C'));else _0x472475<=0xf&&(_0x7e4af1<_0x2baff2&&(_0x2ef2cc[_0xaccc0f(0xd4)][_0xaccc0f(0xd9)]('üî•\x20[MPC\x20ACTION]\x20Heize\x20'+_0x4960ab+'\x20wieder\x20auf\x20'+_0x2baff2+_0xaccc0f(0x130)),await _0x2ef2cc['setForeignStateAsync'](_0x19a13a,_0x2baff2),await manageMpcIntervention(_0x2ef2cc,_0x4960ab,_0xaccc0f(0x149)),lastActions['mpc_'+_0x4960ab]=_0x1612cf,await logAutomationAction(_0x2ef2cc,_0xaccc0f(0x16b)+_0x4960ab+_0xaccc0f(0x145)+_0x2baff2+'¬∞C')));}}else _0x2ef2cc[_0xaccc0f(0xd4)][_0xaccc0f(0x166)](_0xaccc0f(0xfa)+_0x4960ab+_0xaccc0f(0xda));}}module[a1_0x2596b2(0x15f)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};