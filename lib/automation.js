function a1_0x3a3f(){const _0x17cb58=['¬∞C.',']:\x20Raum-Trigger\x20\x27','üî•\x20[MPC\x20ACTION]\x20Heize\x20','stellwert','occupied_heating_setpoint','search','toUpperCase','value.valve','apply','too_cold','temperature','event','\x27\x20(Match:\x20','Classic','1910090xUpuyR','state','setpoint','\x20ist\x20auf\x20','_meta','eventStart','Enforcement\x20Monitor\x20Error:\x20','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','setStateAsync','config','analysis.energy.mpcActiveInterventions','Pr√§diktion:\x20','¬∞C!\x20(Puffer\x20leer).','join','¬∞C).\x20Entferne\x20Status.','\x20erreicht\x20Limit\x20(','¬∞C\x20<\x20','dimmer','push','thermostatMapping',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','\x20auf\x20','position','Manuelles\x20Mapping','normal','analysis.automation.mode','r√ºckkehr','role','split','remove','6073096VnDeGz','ACTUAL','[WATCHDOG]\x20','map','log','_date','Unbekannt','calendarSelection','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','¬∞C\x20(Kalender-Schutz)','room','setForeignStateAsync','2785975pLCusx','thermostat','getForeignObjectAsync','open','¬∞C\x20(via\x20','\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.','message','common','analysis.energy.rlPenalties','sort','type','Soll','splice','val','write','toLowerCase','find','replace',':\x20Aufheizen\x20auf\x20','wert','Ist','analysis.automation.lastAction','Calendar\x20Check\x20Error:\x20','slice','level.valve','Nicht\x20gefunden','values','constructor','sensor','from','indexOf','location','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','ACTUAL_TEMPERATURE','Fehlt','stringify','useCalendar','default','.1.TEMPERATURE','forEach','¬∞C!\x20(Puffer:\x20','\x20min)','.4.SET_TEMPERATURE','TRAIN_RL_PENALTY','Unknown','manual','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','getForeignObjectsAsync','parse','minutes_safe',')\x20aktiv.\x20Heize\x20auf\x20','contact','number','urlaub\x20ende','level','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','isArray','summary','SET','Auto-Erkennung','string','.1.SET_POINT_TEMPERATURE','date','9eWtEtk','consultButler','.data.table','getForeignStateAsync','filter','(((.+)+)+)+$','soll','messwert','switch','score','_calName','.1.LEVEL','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','.1.ACTUAL_TEMPERATURE','üìÖ\x20[MPC\x20INFO]\x20','entries','getTime','ist','abs','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','cal_','localeCompare','findIndex','name','4jfIFNp','unshift','calendarInstance','target','170796QBWsXY','valve_position','SET_POINT_TEMPERATURE','\x20->\x20Schalte\x20','hm-rpc','openknx','now','length','add','toString','[MPC]\x20','devices','./ai_agent','sendToPythonWrapper','\x20wurde\x20manuell\x20erh√∂ht.','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','üö®\x20[MPC\x20WATCHDOG]\x20','analysis.energy.activeEnforcements','mpc_','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','üìÖ\x20SMART\x20SCHEDULE\x20[','temp','triggerTime','.4.VALVE_STATE','includes','reason','ankunft','info','getStateAsync','unit','analysis.energy.warmupTargets','81712AfmXQL','valveMapping','analysis.automation.confidenceThreshold','window','valve','\x20min).','[FORCE]\x20','171276SeVPnh','off','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','\x20wieder\x20auf\x20','set','analysis.energy.ventilationAlerts','level.temperature','analysis.energy.warmupTimes','warn','1125953sNlTQp','local_temperature'];a1_0x3a3f=function(){return _0x17cb58;};return a1_0x3a3f();}const a1_0x593ca4=a1_0x1190;(function(_0x3d9793,_0x292379){const _0x2ef6ae=a1_0x1190,_0x541c7b=_0x3d9793();while(!![]){try{const _0x42660e=parseInt(_0x2ef6ae(0x152))/0x1+parseInt(_0x2ef6ae(0x142))/0x2+parseInt(_0x2ef6ae(0x123))/0x3+parseInt(_0x2ef6ae(0x11f))/0x4*(parseInt(_0x2ef6ae(0x18c))/0x5)+parseInt(_0x2ef6ae(0x149))/0x6+-parseInt(_0x2ef6ae(0x162))/0x7+-parseInt(_0x2ef6ae(0x180))/0x8*(parseInt(_0x2ef6ae(0x106))/0x9);if(_0x42660e===_0x292379)break;else _0x541c7b['push'](_0x541c7b['shift']());}catch(_0x40c480){_0x541c7b['push'](_0x541c7b['shift']());}}}(a1_0x3a3f,0xbdd03));const a1_0x520b26=(function(){let _0x406a9f=!![];return function(_0x4309e8,_0x22aaf8){const _0x5e3062=_0x406a9f?function(){const _0x16853c=a1_0x1190;if(_0x22aaf8){const _0x80f6cb=_0x22aaf8[_0x16853c(0x15c)](_0x4309e8,arguments);return _0x22aaf8=null,_0x80f6cb;}}:function(){};return _0x406a9f=![],_0x5e3062;};}()),a1_0x2621b0=a1_0x520b26(this,function(){const _0x26d1bd=a1_0x1190;return a1_0x2621b0[_0x26d1bd(0x12c)]()[_0x26d1bd(0x159)]('(((.+)+)+)+$')[_0x26d1bd(0x12c)]()[_0x26d1bd(0xe2)](a1_0x2621b0)[_0x26d1bd(0x159)](_0x26d1bd(0x10b));});a1_0x2621b0();'use strict';const aiAgent=require(a1_0x593ca4(0x12f)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x528e8a){const _0x1e3cfc=a1_0x593ca4;if(!_0x528e8a)return'';return _0x528e8a[_0x1e3cfc(0x19b)]()[_0x1e3cfc(0x19d)](/\s+/g,'')['trim']();}function getWarmupRobust(_0x43bd29,_0x2771b1){const _0x24b180=a1_0x593ca4;if(!_0x43bd29||!_0x2771b1)return 0x3c;if(_0x43bd29[_0x2771b1]!==undefined)return _0x43bd29[_0x2771b1];const _0x238c26=_0x2771b1[_0x24b180(0x19b)]()[_0x24b180(0x19d)](/√§/g,'ae')[_0x24b180(0x19d)](/√∂/g,'oe')[_0x24b180(0x19d)](/√º/g,'ue')['replace'](/√ü/g,'ss')['replace'](/\s+/g,'_')[_0x24b180(0x19d)](/[^a-z0-9_]/g,'');if(_0x43bd29[_0x238c26]!==undefined)return _0x43bd29[_0x238c26];return 0x3c;}async function logAutomationAction(_0x4531ad,_0x2db92d){const _0x624abb=a1_0x593ca4;await _0x4531ad[_0x624abb(0x16a)](_0x624abb(0xdc),{'val':_0x2db92d,'ack':!![]});try{const _0x30dbb4='analysis.automation.actionLog',_0x3ff81a=await _0x4531ad[_0x624abb(0x13f)](_0x30dbb4);let _0x1bc07b=[];if(_0x3ff81a&&_0x3ff81a[_0x624abb(0x199)])try{_0x1bc07b=JSON['parse'](_0x3ff81a['val']);}catch(_0x4f1351){}_0x1bc07b[_0x624abb(0x120)]({'ts':Date[_0x624abb(0x129)](),'msg':_0x2db92d});if(_0x1bc07b[_0x624abb(0x12a)]>0x32)_0x1bc07b=_0x1bc07b[_0x624abb(0xde)](0x0,0x32);await _0x4531ad[_0x624abb(0x16a)](_0x30dbb4,{'val':JSON[_0x624abb(0xea)](_0x1bc07b),'ack':!![]});}catch(_0x451a8e){}}async function handlePrediction(_0x36ce8d,_0x528f5,_0x216772){const _0x572919=a1_0x593ca4;if(!_0x528f5||_0x528f5===_0x572919(0xf3))return;let _0x3588a6=_0x572919(0x14a),_0x138c0e=0.6;try{const _0x14fb49=await _0x36ce8d[_0x572919(0x13f)](_0x572919(0x17b));if(_0x14fb49&&_0x14fb49[_0x572919(0x199)])_0x3588a6=_0x14fb49[_0x572919(0x199)];const _0x131fb3=await _0x36ce8d[_0x572919(0x13f)](_0x572919(0x144));if(_0x131fb3&&_0x131fb3[_0x572919(0x199)])_0x138c0e=_0x131fb3[_0x572919(0x199)];}catch(_0x508782){}if(_0x3588a6===_0x572919(0x14a)||_0x216772<_0x138c0e)return;const _0x435955=Date['now']();if(lastActions[_0x528f5]&&_0x435955-lastActions[_0x528f5]<COOLDOWN_MS)return;const _0x4b87ac=_0x36ce8d[_0x572919(0x16b)][_0x572919(0x12e)]||[],_0x23fe54=normalize(_0x528f5),_0x4124ec=_0x4b87ac['find'](_0x1eec6c=>normalize(_0x1eec6c[_0x572919(0xe6)])===_0x23fe54&&(_0x1eec6c[_0x572919(0x196)]==='light'||_0x1eec6c[_0x572919(0x196)]===_0x572919(0x173)||_0x1eec6c['type']===_0x572919(0x10e)));if(!_0x4124ec)return;const _0x4e8057=await aiAgent[_0x572919(0x107)](_0x36ce8d,_0x528f5,_0x4124ec[_0x572919(0x11e)],_0x216772);if(!_0x4e8057['approved'])return;const _0x65f795=_0x572919(0x16d)+_0x528f5+_0x572919(0x126)+_0x4124ec[_0x572919(0x11e)]+'\x20('+_0x4e8057[_0x572919(0x13c)]+')';await logAutomationAction(_0x36ce8d,'['+_0x3588a6[_0x572919(0x15a)]()+']\x20'+_0x65f795);if(_0x3588a6==='active'){const _0x70219c=await _0x36ce8d[_0x572919(0x109)](_0x4124ec['id']);(!_0x70219c||!_0x70219c[_0x572919(0x199)]&&_0x70219c['val']!==!![])&&await _0x36ce8d[_0x572919(0x18b)](_0x4124ec['id'],!![]),lastActions[_0x528f5]=_0x435955;}}async function findRelatedId(_0xfa683b,_0x66ceb3,_0x2826a1=a1_0x593ca4(0x164)){const _0x3301c3=a1_0x593ca4;if(_0x2826a1===_0x3301c3(0x164)&&_0xfa683b[_0x3301c3(0x16b)][_0x3301c3(0x175)]){let _0x8db9ba=_0xfa683b[_0x3301c3(0x16b)][_0x3301c3(0x175)];if(typeof _0x8db9ba===_0x3301c3(0x103))try{_0x8db9ba=JSON[_0x3301c3(0xf7)](_0x8db9ba);}catch(_0x259ccf){}if(_0x8db9ba&&_0x8db9ba[_0x66ceb3])return _0x8db9ba[_0x66ceb3];}if(_0x2826a1==='valve'&&_0xfa683b[_0x3301c3(0x16b)][_0x3301c3(0x143)]){let _0x5b6c25=_0xfa683b[_0x3301c3(0x16b)][_0x3301c3(0x143)];if(typeof _0x5b6c25===_0x3301c3(0x103))try{_0x5b6c25=JSON[_0x3301c3(0xf7)](_0x5b6c25);}catch(_0x3f568c){}if(_0x5b6c25&&_0x5b6c25[_0x66ceb3])return _0x5b6c25[_0x66ceb3];}let _0x5af82f=[];if(_0x2826a1===_0x3301c3(0x164))_0x5af82f=[{'s':_0x3301c3(0x113),'t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x3301c3(0xed),'t':_0x3301c3(0x104)},{'s':_0x3301c3(0xed),'t':_0x3301c3(0xf1)},{'s':_0x3301c3(0xe8),'t':_0x3301c3(0x125)},{'s':_0x3301c3(0x153),'t':_0x3301c3(0x158)},{'s':_0x3301c3(0x153),'t':'current_heating_setpoint'},{'s':_0x3301c3(0x15e),'t':'target_temperature'},{'s':_0x3301c3(0x181),'t':_0x3301c3(0x101)},{'s':_0x3301c3(0x1a0),'t':_0x3301c3(0x197)},{'s':_0x3301c3(0x15e),'t':'setpoint'}];else _0x2826a1===_0x3301c3(0x146)&&(_0x5af82f=[{'s':_0x3301c3(0x113),'t':_0x3301c3(0x111)},{'s':_0x3301c3(0xed),'t':_0x3301c3(0x111)},{'s':_0x3301c3(0xed),'t':_0x3301c3(0x13a)},{'s':_0x3301c3(0x153),'t':'pi_heating_demand'},{'s':_0x3301c3(0x15e),'t':_0x3301c3(0x124)},{'s':_0x3301c3(0x15e),'t':_0x3301c3(0xfd)}]);for(const _0x5910df of _0x5af82f){if(_0x66ceb3['includes'](_0x5910df['s'])){const _0x5d4a67=_0x66ceb3[_0x3301c3(0x19d)](_0x5910df['s'],_0x5910df['t']),_0x91b45a=await _0xfa683b[_0x3301c3(0x18e)](_0x5d4a67);if(_0x91b45a)return _0x5d4a67;}}try{const _0xac6d4e=_0x66ceb3['split']('.');if(_0xac6d4e['length']>0x2){const _0x3322f1=_0xac6d4e['slice'](0x0,-0x1)[_0x3301c3(0x16f)]('.'),_0x2f97ea=await _0xfa683b[_0x3301c3(0xf6)](_0x3322f1+'.*'),_0x2a7fd8=[],_0x39685d=_0x66ceb3[_0x3301c3(0x17e)](/[._]+/)['filter'](_0x3b3ec5=>![_0x3301c3(0x128),'0',_0x3301c3(0x127),_0x3301c3(0x117),_0x3301c3(0x19f),_0x3301c3(0x15e),'actual',_0x3301c3(0xe3),_0x3301c3(0x10d),_0x3301c3(0x163)][_0x3301c3(0x13b)](_0x3b3ec5[_0x3301c3(0x19b)]()));for(const [_0x4323d5,_0x419cbc]of Object[_0x3301c3(0x115)](_0x2f97ea)){if(_0x4323d5===_0x66ceb3)continue;if(_0x419cbc&&_0x419cbc[_0x3301c3(0x193)]){const _0x4b632c=_0x4323d5[_0x3301c3(0x19b)](),_0x330112=(_0x419cbc[_0x3301c3(0x193)][_0x3301c3(0x17d)]||'')['toLowerCase'](),_0x37ebd8=(_0x419cbc[_0x3301c3(0x193)][_0x3301c3(0x140)]||'')[_0x3301c3(0x19b)]();let _0x3624f1=![];if(_0x2826a1===_0x3301c3(0x164)&&_0x419cbc[_0x3301c3(0x193)][_0x3301c3(0x19a)]===!![])_0x3624f1=_0x4b632c[_0x3301c3(0x13b)](_0x3301c3(0x14d))||_0x4b632c['includes'](_0x3301c3(0x10c))||_0x4b632c[_0x3301c3(0x13b)]('target')||_0x330112[_0x3301c3(0x13b)](_0x3301c3(0x14f))||_0x330112[_0x3301c3(0x13b)]('thermostat.setpoint');else _0x2826a1===_0x3301c3(0x146)&&(_0x3624f1=_0x4b632c['includes'](_0x3301c3(0xfd))||_0x4b632c['includes'](_0x3301c3(0x146))||_0x4b632c[_0x3301c3(0x13b)](_0x3301c3(0x157))||_0x4b632c[_0x3301c3(0x13b)](_0x3301c3(0x178))||_0x330112[_0x3301c3(0x13b)](_0x3301c3(0xdf))||_0x330112[_0x3301c3(0x13b)](_0x3301c3(0x15b))||_0x37ebd8[_0x3301c3(0x13b)]('%'));if(_0x3624f1){const _0x134281=_0x4323d5[_0x3301c3(0x17e)](/[._]+/)[_0x3301c3(0x183)](_0x27ebda=>_0x27ebda['toLowerCase']());let _0xcbca13=0x0;_0x39685d['forEach'](_0x4fec20=>{const _0x25b4db=_0x3301c3;if(_0x134281[_0x25b4db(0x13b)](_0x4fec20[_0x25b4db(0x19b)]()))_0xcbca13++;}),_0x2a7fd8[_0x3301c3(0x174)]({'id':_0x4323d5,'score':_0xcbca13});}}}if(_0x2a7fd8[_0x3301c3(0x12a)]>0x0){_0x2a7fd8[_0x3301c3(0x195)]((_0x213d98,_0x5666d6)=>_0x5666d6[_0x3301c3(0x10f)]-_0x213d98[_0x3301c3(0x10f)]);if(_0x2a7fd8[0x0][_0x3301c3(0x10f)]>0x0)return _0x2a7fd8[0x0]['id'];}}}catch(_0x35e44a){}return null;}async function scanThermostats(_0x4c0bd3){const _0x39a688=a1_0x593ca4,_0x153822=_0x4c0bd3[_0x39a688(0x16b)][_0x39a688(0x12e)]||[],_0x145a9b=[],_0x3b922a=_0x153822[_0x39a688(0x10a)](_0xaa63e0=>_0xaa63e0['id']&&_0xaa63e0['id'][_0x39a688(0x13b)]('temperature')||_0xaa63e0[_0x39a688(0x196)]&&[_0x39a688(0x15e),_0x39a688(0x18d),_0x39a688(0xe3)][_0x39a688(0x13b)](_0xaa63e0[_0x39a688(0x196)])||_0xaa63e0[_0x39a688(0x11e)]&&_0xaa63e0['name'][_0x39a688(0x19b)]()[_0x39a688(0x13b)](_0x39a688(0x138)));for(const _0x59ba39 of _0x3b922a){const _0x10c34f=await findRelatedId(_0x4c0bd3,_0x59ba39['id'],_0x39a688(0x164)),_0x20d2d8=await findRelatedId(_0x4c0bd3,_0x59ba39['id'],'valve');let _0xa0d238=_0x39a688(0xe0),_0x5b997a=![],_0x375806=_0x4c0bd3[_0x39a688(0x16b)][_0x39a688(0x175)]||{};if(typeof _0x375806===_0x39a688(0x103))try{_0x375806=JSON[_0x39a688(0xf7)](_0x375806);}catch(_0x563d94){}let _0x2b9f57=_0x4c0bd3[_0x39a688(0x16b)][_0x39a688(0x143)]||{};if(typeof _0x2b9f57===_0x39a688(0x103))try{_0x2b9f57=JSON[_0x39a688(0xf7)](_0x2b9f57);}catch(_0x256571){}if(_0x375806[_0x59ba39['id']]&&_0x375806[_0x59ba39['id']]===_0x10c34f||_0x2b9f57[_0x59ba39['id']]&&_0x2b9f57[_0x59ba39['id']]===_0x20d2d8)_0xa0d238=_0x39a688(0x179),_0x5b997a=!![];else(_0x10c34f||_0x20d2d8)&&(_0xa0d238=_0x39a688(0x102));_0x145a9b[_0x39a688(0x174)]({'room':_0x59ba39[_0x39a688(0xe6)]||'Unbekannt','sensorId':_0x59ba39['id'],'setpointId':_0x10c34f||'-','valveId':_0x20d2d8||'-','source':_0xa0d238,'isManual':_0x5b997a,'status':_0x10c34f&&_0x20d2d8?'PERFECT':_0x10c34f?'OK':_0x39a688(0xe9)});}return _0x145a9b['sort']((_0x41999c,_0x40ac56)=>_0x41999c[_0x39a688(0x18a)][_0x39a688(0x11c)](_0x40ac56[_0x39a688(0x18a)]));}async function updateSchedulePreview(_0x2300c8){const _0x293143=a1_0x593ca4;if(!_0x2300c8[_0x293143(0x16b)][_0x293143(0xeb)]||!_0x2300c8[_0x293143(0x16b)][_0x293143(0x121)])return;let _0x5e1c9c={};try{const _0x6de543=await _0x2300c8[_0x293143(0x13f)]('analysis.energy.warmupTimes');if(_0x6de543&&_0x6de543[_0x293143(0x199)])_0x5e1c9c=JSON[_0x293143(0xf7)](_0x6de543[_0x293143(0x199)]);}catch(_0x3b1ed8){}const _0x437df3=[],_0xaee5e=Date[_0x293143(0x129)](),_0xb9b3e2=0x30*0x3c*0x3c*0x3e8;try{const _0x35bdd1=await _0x2300c8[_0x293143(0x109)](_0x2300c8['config'][_0x293143(0x121)]+_0x293143(0x108));if(!_0x35bdd1||!_0x35bdd1[_0x293143(0x199)])return;const _0x3e4ce3=JSON[_0x293143(0xf7)](_0x35bdd1[_0x293143(0x199)]),_0x1416f=_0x2300c8['config'][_0x293143(0x187)]||[],_0x152d9c=_0x2300c8[_0x293143(0x16b)][_0x293143(0x12e)]||[],_0x528106=new Set();_0x152d9c['forEach'](_0x2b6940=>{const _0x5eec2d=_0x293143;if(_0x2b6940['location'])_0x528106[_0x5eec2d(0x12b)](_0x2b6940['location']);});for(const _0x559011 of _0x3e4ce3){if(_0x559011[_0x293143(0x110)]&&_0x1416f[_0x293143(0x12a)]>0x0&&!_0x1416f[_0x293143(0x13b)](_0x559011[_0x293143(0x110)]))continue;const _0x503413=_0x559011['_date']||_0x559011[_0x293143(0x167)]||_0x559011[_0x293143(0x105)];if(!_0x503413)continue;const _0x17257c=new Date(_0x503413),_0x4dc9d5=_0x17257c[_0x293143(0x116)]();if(isNaN(_0x4dc9d5))continue;if(_0x4dc9d5<_0xaee5e)continue;if(_0x4dc9d5>_0xaee5e+_0xb9b3e2)continue;const _0x35a993=(_0x559011['event']||_0x559011[_0x293143(0x100)]||'')[_0x293143(0x19b)]();let _0x9b5dd7=![],_0x5629c7=[],_0xd358c=_0x559011['event']||_0x559011[_0x293143(0x100)]||_0x293143(0x186);if(_0x35a993[_0x293143(0x13b)](_0x293143(0xfc))||_0x35a993[_0x293143(0x13b)](_0x293143(0x17c))||_0x35a993['includes']('ankunft'))_0x9b5dd7=!![],_0x5629c7=Array[_0x293143(0xe4)](_0x528106);else for(const _0x462f4a of _0x528106){if(_0x35a993[_0x293143(0x13b)](_0x462f4a[_0x293143(0x19b)]()))_0x5629c7['push'](_0x462f4a);}_0x5629c7[_0x293143(0x12a)]>0x0&&_0x5629c7[_0x293143(0xee)](_0x5711ac=>{const _0x41e611=_0x293143;let _0xa28312=0x3c;if(_0x9b5dd7){let _0x107862=0x0;Object[_0x41e611(0xe1)](_0x5e1c9c)['forEach'](_0x2df31c=>{if(_0x2df31c>_0x107862)_0x107862=_0x2df31c;}),_0xa28312=_0x107862>0x0?_0x107862:0x78;}else _0xa28312=getWarmupRobust(_0x5e1c9c,_0x5711ac);const _0x4ae3b9=new Date(_0x4dc9d5-_0xa28312*0xea60);_0x437df3[_0x41e611(0x174)]({'eventTime':_0x4dc9d5,'triggerTime':_0x4ae3b9[_0x41e611(0x116)](),'room':_0x5711ac,'minutes':_0xa28312,'reason':_0xd358c,'isGlobal':_0x9b5dd7});});}}catch(_0x21e25d){}_0x437df3[_0x293143(0x195)]((_0x138044,_0x5370ad)=>_0x138044['triggerTime']-_0x5370ad[_0x293143(0x139)]);const _0x57bb04=_0x437df3[_0x293143(0xde)](0x0,0x5);await _0x2300c8[_0x293143(0x16a)]('analysis.energy.schedulePreview',{'val':JSON[_0x293143(0xea)](_0x57bb04),'ack':!![]});}async function monitorEnforcements(_0xa06378){const _0x366a29=a1_0x593ca4;try{const _0x2c9ac8=_0x366a29(0x134),_0x3f8d03=await _0xa06378['getStateAsync'](_0x2c9ac8);if(!_0x3f8d03||!_0x3f8d03[_0x366a29(0x199)])return;let _0x37ef62=[];try{_0x37ef62=JSON['parse'](_0x3f8d03[_0x366a29(0x199)]);}catch(_0x479ca2){return;}if(!Array['isArray'](_0x37ef62)||_0x37ef62[_0x366a29(0x12a)]===0x0)return;const _0x32de57=Date['now'](),_0x386332=_0xa06378[_0x366a29(0x16b)][_0x366a29(0x12e)]||[];let _0x79e95=![];for(let _0x56fde6=_0x37ef62[_0x366a29(0x12a)]-0x1;_0x56fde6>=0x0;_0x56fde6--){const _0x3d2359=_0x37ef62[_0x56fde6];if(_0x32de57>=_0x3d2359['until']){_0xa06378[_0x366a29(0x184)][_0x366a29(0x13e)](_0x366a29(0xe7)+_0x3d2359[_0x366a29(0x18a)]+_0x366a29(0x136)),_0x37ef62['splice'](_0x56fde6,0x1),_0x79e95=!![];continue;}const _0x3e903c=_0x386332[_0x366a29(0x19c)](_0x3d3671=>normalize(_0x3d3671['location'])===normalize(_0x3d2359['room'])&&(_0x3d3671[_0x366a29(0x196)]==='temperature'||_0x3d3671[_0x366a29(0x196)]===_0x366a29(0x18d)));if(_0x3e903c){const _0x2a0cdd=await findRelatedId(_0xa06378,_0x3e903c['id'],_0x366a29(0x164));if(_0x2a0cdd){const _0x5d3149=await _0xa06378['getForeignStateAsync'](_0x2a0cdd);_0x5d3149&&typeof _0x5d3149['val']===_0x366a29(0xfb)&&(_0x5d3149[_0x366a29(0x199)]<0xf&&(_0xa06378[_0x366a29(0x184)][_0x366a29(0x151)]('üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x3d2359[_0x366a29(0x18a)]+_0x366a29(0x177)+_0x5d3149['val']+_0x366a29(0x188)+_0x3d2359[_0x366a29(0x122)]+_0x366a29(0x154)),await _0xa06378['setForeignStateAsync'](_0x2a0cdd,_0x3d2359[_0x366a29(0x122)]),await logAutomationAction(_0xa06378,_0x366a29(0x148)+_0x3d2359[_0x366a29(0x18a)]+':\x20'+_0x5d3149[_0x366a29(0x199)]+'¬∞C\x20->\x20'+_0x3d2359[_0x366a29(0x122)]+_0x366a29(0x189))));}}}_0x79e95&&await _0xa06378['setStateAsync'](_0x2c9ac8,{'val':JSON[_0x366a29(0xea)](_0x37ef62),'ack':!![]});}catch(_0x13ea79){_0xa06378[_0x366a29(0x184)]['error'](_0x366a29(0x168)+_0x13ea79['message']);}}function a1_0x1190(_0x3b0cc6,_0x388467){const _0x3b50cf=a1_0x3a3f();return a1_0x1190=function(_0x2621b0,_0x520b26){_0x2621b0=_0x2621b0-0xdc;let _0x3a3f78=_0x3b50cf[_0x2621b0];return _0x3a3f78;},a1_0x1190(_0x3b0cc6,_0x388467);}async function checkCalendarTriggers(_0x47d6a5){const _0xabbe64=a1_0x593ca4;if(!_0x47d6a5['config'][_0xabbe64(0xeb)]||!_0x47d6a5['config'][_0xabbe64(0x121)])return;await updateSchedulePreview(_0x47d6a5);let _0x39bfac={},_0x4f0536={};try{const _0xb645a3=await _0x47d6a5[_0xabbe64(0x13f)](_0xabbe64(0x150));if(_0xb645a3&&_0xb645a3['val'])_0x39bfac=JSON[_0xabbe64(0xf7)](_0xb645a3[_0xabbe64(0x199)]);const _0x3fdc7f=await _0x47d6a5[_0xabbe64(0x13f)]('analysis.energy.warmupSources');if(_0x3fdc7f&&_0x3fdc7f[_0xabbe64(0x199)])_0x4f0536=JSON[_0xabbe64(0xf7)](_0x3fdc7f['val']);}catch(_0x59a40a){}let _0xa7fc6e={'default':0x15};try{const _0x438b27=await _0x47d6a5[_0xabbe64(0x13f)](_0xabbe64(0x141));if(_0x438b27&&_0x438b27[_0xabbe64(0x199)])_0xa7fc6e=JSON[_0xabbe64(0xf7)](_0x438b27[_0xabbe64(0x199)]);}catch(_0x3bc235){}let _0x479b42=[];try{const _0x5486a9=await _0x47d6a5['getStateAsync']('analysis.energy.activeEnforcements');if(_0x5486a9&&_0x5486a9[_0xabbe64(0x199)])_0x479b42=JSON['parse'](_0x5486a9[_0xabbe64(0x199)]);}catch(_0x48fd5b){}try{const _0x2c8223=await _0x47d6a5[_0xabbe64(0x109)](_0x47d6a5[_0xabbe64(0x16b)][_0xabbe64(0x121)]+_0xabbe64(0x108));if(!_0x2c8223||!_0x2c8223['val'])return;const _0x3f6778=JSON[_0xabbe64(0xf7)](_0x2c8223['val']),_0x2cd4c1=Date[_0xabbe64(0x129)](),_0x498635=_0x47d6a5[_0xabbe64(0x16b)][_0xabbe64(0x12e)]||[],_0x2889bd=_0x47d6a5[_0xabbe64(0x16b)]['calendarSelection']||[];let _0x11bc31=![];for(const _0x5cc88c of _0x3f6778){if(_0x5cc88c[_0xabbe64(0x110)]&&_0x2889bd[_0xabbe64(0x12a)]>0x0&&!_0x2889bd[_0xabbe64(0x13b)](_0x5cc88c[_0xabbe64(0x110)]))continue;const _0x3a41c3=_0x5cc88c[_0xabbe64(0x185)]||_0x5cc88c[_0xabbe64(0x167)]||_0x5cc88c[_0xabbe64(0x105)];if(!_0x3a41c3)continue;const _0xe3b557=new Date(_0x3a41c3);if(isNaN(_0xe3b557[_0xabbe64(0x116)]()))continue;const _0xf596d5=(_0x5cc88c[_0xabbe64(0x15f)]||_0x5cc88c[_0xabbe64(0x100)]||'')['toLowerCase']();if(_0xf596d5[_0xabbe64(0x13b)](_0xabbe64(0xfc))||_0xf596d5[_0xabbe64(0x13b)](_0xabbe64(0x17c))||_0xf596d5[_0xabbe64(0x13b)](_0xabbe64(0x13d))){let _0x3fb462=0x0;Object[_0xabbe64(0xe1)](_0x39bfac)[_0xabbe64(0xee)](_0x42a3cf=>{if(_0x42a3cf>_0x3fb462)_0x3fb462=_0x42a3cf;});if(_0x3fb462===0x0)_0x3fb462=0x78;const _0x24894e=_0xe3b557[_0xabbe64(0x116)]()-_0x3fb462*0xea60;_0x2cd4c1>=_0x24894e&&_0x2cd4c1<_0xe3b557[_0xabbe64(0x116)]()&&(_0x47d6a5['currentSystemMode']!==_0xabbe64(0x17a)&&(_0x47d6a5[_0xabbe64(0x184)][_0xabbe64(0x13e)]('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x3fb462+_0xabbe64(0x147)),await _0x47d6a5[_0xabbe64(0x16a)]('system.mode',{'val':_0xabbe64(0x17a),'ack':![]})));}for(const _0xb455b8 of _0x498635){if(_0xb455b8[_0xabbe64(0xe6)]){const _0x8ac2ea=_0xb455b8[_0xabbe64(0xe6)][_0xabbe64(0x19b)](),_0x2863ca=(_0xb455b8[_0xabbe64(0x11e)]||'')[_0xabbe64(0x19b)]();let _0x3148e6=_0xf596d5[_0xabbe64(0x13b)](_0x8ac2ea);!_0x3148e6&&_0x2863ca[_0xabbe64(0x12a)]>0x3&&_0xf596d5['includes'](_0x2863ca)&&(_0x3148e6=!![]);if(_0x3148e6){const _0x2c8326=getWarmupRobust(_0x39bfac,_0xb455b8[_0xabbe64(0xe6)]),_0x31f368=_0x4f0536[_0xb455b8['location']]||_0xabbe64(0x161),_0x530e25=_0xe3b557[_0xabbe64(0x116)]()-_0x2c8326*0xea60;if(_0x2cd4c1>=_0x530e25&&_0x2cd4c1<_0xe3b557[_0xabbe64(0x116)]()){const _0x4be670=lastActions['cal_'+_0xb455b8['location']];if(_0x4be670&&_0x2cd4c1-_0x4be670<CAL_COOLDOWN_MS)continue;const _0x5420fa=await findRelatedId(_0x47d6a5,_0xb455b8['id'],_0xabbe64(0x164));if(_0x5420fa){let _0x37390a=_0xa7fc6e[_0xb455b8['location']];if(_0x37390a===undefined)_0x37390a=_0xa7fc6e[_0xabbe64(0xec)];if(_0x37390a===undefined)_0x37390a=0x15;const _0x53a421=await _0x47d6a5[_0xabbe64(0x109)](_0x5420fa);if(_0x53a421&&typeof _0x53a421['val']===_0xabbe64(0xfb)&&_0x53a421[_0xabbe64(0x199)]<_0x37390a-0.5){_0x47d6a5['log'][_0xabbe64(0x13e)](_0xabbe64(0x137)+_0x31f368+_0xabbe64(0x155)+_0xb455b8[_0xabbe64(0xe6)]+_0xabbe64(0x160)+_0xf596d5+_0xabbe64(0xf9)+_0x37390a+'¬∞C\x20(Vorlauf:\x20'+_0x2c8326+_0xabbe64(0x147)),await _0x47d6a5[_0xabbe64(0x18b)](_0x5420fa,_0x37390a),await logAutomationAction(_0x47d6a5,'[CAL]\x20'+_0xb455b8[_0xabbe64(0xe6)]+'\x20->\x20'+_0x37390a+_0xabbe64(0x190)+_0x31f368+')'),lastActions[_0xabbe64(0x11b)+_0xb455b8[_0xabbe64(0xe6)]]=_0x2cd4c1;const _0x3daa59=_0x479b42[_0xabbe64(0x11d)](_0x5f2fe4=>_0x5f2fe4[_0xabbe64(0x18a)]===_0xb455b8[_0xabbe64(0xe6)]);if(_0x3daa59!==-0x1)_0x479b42[_0xabbe64(0x198)](_0x3daa59,0x1);_0x479b42['push']({'room':_0xb455b8['location'],'target':_0x37390a,'until':_0xe3b557['getTime']()}),_0x11bc31=!![];}}}}}}}_0x11bc31&&await _0x47d6a5[_0xabbe64(0x16a)]('analysis.energy.activeEnforcements',{'val':JSON['stringify'](_0x479b42),'ack':!![]});}catch(_0x415e9e){_0x47d6a5['log'][_0xabbe64(0x151)](_0xabbe64(0xdd)+_0x415e9e[_0xabbe64(0x192)]);}}async function manageMpcIntervention(_0x4bc3df,_0x12d231,_0x12247c){const _0x27afb3=a1_0x593ca4;try{const _0x2c161b=_0x27afb3(0x16c),_0x1ee0c7=await _0x4bc3df[_0x27afb3(0x13f)](_0x2c161b);let _0x416dca=[];if(_0x1ee0c7&&_0x1ee0c7['val'])try{_0x416dca=JSON['parse'](_0x1ee0c7[_0x27afb3(0x199)]);}catch(_0x33b73d){}const _0x768e0b=_0x416dca[_0x27afb3(0xe5)](_0x12d231);if(_0x12247c===_0x27afb3(0x12b))_0x768e0b===-0x1&&(_0x416dca['push'](_0x12d231),await _0x4bc3df[_0x27afb3(0x16a)](_0x2c161b,{'val':JSON[_0x27afb3(0xea)](_0x416dca),'ack':!![]}));else _0x12247c===_0x27afb3(0x17f)&&(_0x768e0b!==-0x1&&(_0x416dca['splice'](_0x768e0b,0x1),await _0x4bc3df['setStateAsync'](_0x2c161b,{'val':JSON[_0x27afb3(0xea)](_0x416dca),'ack':!![]})));}catch(_0x14fcd3){}}async function cleanupGhostInterventions(_0x40f1f7){const _0xecf6d1=a1_0x593ca4;try{const _0x532e28=_0xecf6d1(0x16c),_0x2b5421=await _0x40f1f7[_0xecf6d1(0x13f)](_0x532e28);if(!_0x2b5421||!_0x2b5421[_0xecf6d1(0x199)])return;const _0x3d951d=JSON[_0xecf6d1(0xf7)](_0x2b5421[_0xecf6d1(0x199)]);if(!Array[_0xecf6d1(0xff)](_0x3d951d)||_0x3d951d[_0xecf6d1(0x12a)]===0x0)return;let _0x545340={'default':0x15};try{const _0x3162de=await _0x40f1f7[_0xecf6d1(0x13f)]('analysis.energy.warmupTargets');if(_0x3162de&&_0x3162de['val'])_0x545340=JSON[_0xecf6d1(0xf7)](_0x3162de[_0xecf6d1(0x199)]);}catch(_0x223218){}let _0x3ba057=[];try{const _0x4e9fe2=await _0x40f1f7['getStateAsync'](_0xecf6d1(0x14e));if(_0x4e9fe2&&_0x4e9fe2['val'])_0x3ba057=JSON[_0xecf6d1(0xf7)](_0x4e9fe2['val']);}catch(_0x3ef0dc){}let _0x4df6f0={},_0x17ab48=![];try{const _0x4f61d7=await _0x40f1f7['getStateAsync']('analysis.energy.rlPenalties');if(_0x4f61d7&&_0x4f61d7[_0xecf6d1(0x199)])_0x4df6f0=JSON['parse'](_0x4f61d7[_0xecf6d1(0x199)]);}catch(_0x4f2f4a){}if(_0x4df6f0[_0xecf6d1(0x166)]){const _0x5587dc=Date[_0xecf6d1(0x129)]();for(const [_0x1232a6,_0x2e54a9]of Object[_0xecf6d1(0x115)](_0x4df6f0[_0xecf6d1(0x166)])){_0x5587dc-_0x2e54a9>PENALTY_TTL&&(delete _0x4df6f0[_0x1232a6],delete _0x4df6f0[_0xecf6d1(0x166)][_0x1232a6],_0x17ab48=!![],_0x40f1f7['log'][_0xecf6d1(0x13e)](_0xecf6d1(0x11a)+_0x1232a6+_0xecf6d1(0xfe)));}}const _0xbffd47=_0x40f1f7[_0xecf6d1(0x16b)][_0xecf6d1(0x12e)]||[];let _0x1a929f=![];for(let _0x450189=_0x3d951d[_0xecf6d1(0x12a)]-0x1;_0x450189>=0x0;_0x450189--){const _0x498fc9=_0x3d951d[_0x450189],_0x3ecb00=_0xbffd47['find'](_0x246ce0=>normalize(_0x246ce0['location'])===normalize(_0x498fc9)&&(_0x246ce0[_0xecf6d1(0x196)]===_0xecf6d1(0x15e)||_0x246ce0[_0xecf6d1(0x196)]===_0xecf6d1(0x18d)));if(!_0x3ecb00){_0x40f1f7['log']['warn'](_0xecf6d1(0xf5)+_0x498fc9+_0xecf6d1(0x119)),_0x3d951d[_0xecf6d1(0x198)](_0x450189,0x1),_0x1a929f=!![];continue;}if(_0x3ecb00){const _0x10b0a1=await findRelatedId(_0x40f1f7,_0x3ecb00['id'],_0xecf6d1(0x164)),_0x107de5=await _0x40f1f7[_0xecf6d1(0x109)](_0x3ecb00['id']);if(_0x10b0a1){const _0x48e7eb=await _0x40f1f7[_0xecf6d1(0x109)](_0x10b0a1);if(_0x48e7eb&&typeof _0x48e7eb[_0xecf6d1(0x199)]===_0xecf6d1(0xfb)){let _0x392feb=![],_0x5b727f='';Math[_0xecf6d1(0x118)](_0x48e7eb[_0xecf6d1(0x199)]-ECO_TEMP)>0.5&&(_0x392feb=!![],_0x5b727f=_0xecf6d1(0xf4));if(!_0x392feb&&_0x107de5&&typeof _0x107de5[_0xecf6d1(0x199)]===_0xecf6d1(0xfb)){const _0x8340aa=_0x545340[_0x498fc9]||_0x545340['default']||0x15;_0x107de5[_0xecf6d1(0x199)]<_0x8340aa+0.2&&(_0x392feb=!![],_0x5b727f=_0xecf6d1(0x15d));}if(_0x392feb){if(_0x5b727f===_0xecf6d1(0xf4)){_0x40f1f7[_0xecf6d1(0x184)]['info']('üßπ\x20[MPC\x20CLEANUP]\x20'+_0x498fc9+_0xecf6d1(0x165)+_0x48e7eb['val']+'¬∞C\x20(nicht\x20'+ECO_TEMP+_0xecf6d1(0x170));const _0xe261b4=lastActions[_0xecf6d1(0x11b)+_0x498fc9],_0x4b5ea0=_0xe261b4&&Date[_0xecf6d1(0x129)]()-_0xe261b4<0x2*0x3c*0x3e8;if(!_0x4b5ea0&&_0x48e7eb[_0xecf6d1(0x199)]>ECO_TEMP+0.5){_0x40f1f7[_0xecf6d1(0x130)]&&(_0x40f1f7[_0xecf6d1(0x184)][_0xecf6d1(0x13e)](_0xecf6d1(0x169)+_0x498fc9+_0xecf6d1(0x131)),_0x40f1f7[_0xecf6d1(0x130)](_0xecf6d1(0xf2),{'room':_0x498fc9}));const _0x9c859a=_0x498fc9+'_'+new Date()['getHours']();if(!_0x4df6f0[_0x9c859a]){_0x4df6f0[_0x9c859a]=0x1;if(!_0x4df6f0['_meta'])_0x4df6f0[_0xecf6d1(0x166)]={};_0x4df6f0[_0xecf6d1(0x166)][_0x9c859a]=Date[_0xecf6d1(0x129)](),_0x17ab48=!![];}}else _0x4b5ea0&&_0x40f1f7[_0xecf6d1(0x184)]['info'](_0xecf6d1(0x114)+_0x498fc9+_0xecf6d1(0x191));}else{if(_0x5b727f===_0xecf6d1(0x15d)){let _0x4888d2=![];if(_0x3ba057[_0xecf6d1(0x19c)](_0x4e0e13=>_0x4e0e13[_0xecf6d1(0x18a)]===_0x498fc9))_0x4888d2=!![];const _0x1deae4=_0xbffd47[_0xecf6d1(0x10a)](_0x424fae=>normalize(_0x424fae[_0xecf6d1(0xe6)])===normalize(_0x498fc9)&&(_0x424fae[_0xecf6d1(0x196)]===_0xecf6d1(0x145)||_0x424fae[_0xecf6d1(0x196)]==='sensor'||_0x424fae[_0xecf6d1(0x196)]===_0xecf6d1(0xfa)));for(const _0x31d11f of _0x1deae4){try{const _0x3285ac=await _0x40f1f7[_0xecf6d1(0x109)](_0x31d11f['id']);if(_0x3285ac&&(_0x3285ac[_0xecf6d1(0x199)]===!![]||_0x3285ac['val']===0x1||String(_0x3285ac[_0xecf6d1(0x199)])[_0xecf6d1(0x19b)]()===_0xecf6d1(0x18f)))_0x4888d2=!![];}catch(_0x30f9cf){}}if(_0x4888d2)_0x40f1f7[_0xecf6d1(0x184)][_0xecf6d1(0x13e)](_0xecf6d1(0x14b)+_0x498fc9+_0xecf6d1(0x132));else{const _0x2f08cb=_0x545340[_0x498fc9]||_0x545340[_0xecf6d1(0xec)]||0x15;_0x40f1f7[_0xecf6d1(0x184)][_0xecf6d1(0x13e)](_0xecf6d1(0x133)+_0x498fc9+_0xecf6d1(0x171)+_0x107de5[_0xecf6d1(0x199)]+_0xecf6d1(0x172)+(_0x2f08cb+0.2)+'¬∞C).\x20Sparmodus\x20beendet!'),await _0x40f1f7[_0xecf6d1(0x18b)](_0x10b0a1,_0x2f08cb),await logAutomationAction(_0x40f1f7,_0xecf6d1(0x182)+_0x498fc9+_0xecf6d1(0x176)+_0x2f08cb+'¬∞C'),lastActions['rescue_'+_0x498fc9]=Date[_0xecf6d1(0x129)]();}}}_0x3d951d[_0xecf6d1(0x198)](_0x450189,0x1),_0x1a929f=!![];}}}}}_0x1a929f&&await _0x40f1f7[_0xecf6d1(0x16a)](_0x532e28,{'val':JSON[_0xecf6d1(0xea)](_0x3d951d),'ack':!![]}),_0x17ab48&&await _0x40f1f7[_0xecf6d1(0x16a)](_0xecf6d1(0x194),{'val':JSON[_0xecf6d1(0xea)](_0x4df6f0),'ack':!![]});}catch(_0x369856){}}async function applyEnergySavings(_0x3cae03,_0x232051){const _0x2d93a0=a1_0x593ca4;await cleanupGhostInterventions(_0x3cae03);if(!_0x232051||_0x232051[_0x2d93a0(0x12a)]===0x0)return;const _0x4d8d34=_0x3cae03['config'][_0x2d93a0(0x12e)]||[],_0x44ecbb=Date[_0x2d93a0(0x129)]();for(const _0x2d5438 of _0x232051){const _0x557206=_0x2d5438[_0x2d93a0(0x18a)],_0x201d29=_0x2d5438[_0x2d93a0(0xf8)],_0x31c13f=_0x2d5438[_0x2d93a0(0x122)]||0x15;if(lastActions['rescue_'+_0x557206]&&_0x44ecbb-lastActions['rescue_'+_0x557206]<RESCUE_LOCK_MS)continue;const _0x3b4080=_0x4d8d34['find'](_0x488c79=>normalize(_0x488c79[_0x2d93a0(0xe6)])===normalize(_0x557206)&&(_0x488c79[_0x2d93a0(0x196)]===_0x2d93a0(0x15e)||_0x488c79[_0x2d93a0(0x196)]===_0x2d93a0(0x18d)));if(!_0x3b4080)continue;const _0x1b52da=await findRelatedId(_0x3cae03,_0x3b4080['id'],_0x2d93a0(0x164));if(_0x1b52da){if(lastActions[_0x2d93a0(0x135)+_0x557206]&&_0x44ecbb-lastActions[_0x2d93a0(0x135)+_0x557206]<0x1e*0x3c*0x3e8)continue;const _0x49c436=await _0x3cae03[_0x2d93a0(0x109)](_0x1b52da);if(_0x49c436&&typeof _0x49c436[_0x2d93a0(0x199)]===_0x2d93a0(0xfb)){const _0x5dba44=_0x49c436['val'];_0x5dba44!==ECO_TEMP&&await manageMpcIntervention(_0x3cae03,_0x557206,_0x2d93a0(0x17f));if(_0x201d29>0x1e)_0x5dba44>ECO_TEMP+0.5&&(_0x3cae03[_0x2d93a0(0x184)][_0x2d93a0(0x13e)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x557206+'\x20auf\x20'+ECO_TEMP+_0x2d93a0(0xef)+_0x201d29+_0x2d93a0(0xf0)),await _0x3cae03[_0x2d93a0(0x18b)](_0x1b52da,ECO_TEMP),await manageMpcIntervention(_0x3cae03,_0x557206,_0x2d93a0(0x12b)),lastActions[_0x2d93a0(0x135)+_0x557206]=_0x44ecbb,await logAutomationAction(_0x3cae03,'[MPC]\x20'+_0x557206+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'¬∞C'));else _0x201d29<=0xf&&(_0x5dba44<_0x31c13f&&(_0x3cae03[_0x2d93a0(0x184)][_0x2d93a0(0x13e)](_0x2d93a0(0x156)+_0x557206+_0x2d93a0(0x14c)+_0x31c13f+_0x2d93a0(0x16e)),await _0x3cae03[_0x2d93a0(0x18b)](_0x1b52da,_0x31c13f),await manageMpcIntervention(_0x3cae03,_0x557206,_0x2d93a0(0x17f)),lastActions[_0x2d93a0(0x135)+_0x557206]=_0x44ecbb,await logAutomationAction(_0x3cae03,_0x2d93a0(0x12d)+_0x557206+_0x2d93a0(0x19e)+_0x31c13f+'¬∞C')));}}else _0x3cae03['log'][_0x2d93a0(0x151)](_0x2d93a0(0x112)+_0x557206+'\x20gefunden!');}}module['exports']={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};