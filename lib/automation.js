const a1_0x4343ed=a1_0x17a1;(function(_0x59828d,_0x2164c4){const _0x30414c=a1_0x17a1,_0x4db9ed=_0x59828d();while(!![]){try{const _0x26353e=parseInt(_0x30414c(0x23a))/0x1*(parseInt(_0x30414c(0x1f2))/0x2)+parseInt(_0x30414c(0x254))/0x3+-parseInt(_0x30414c(0x276))/0x4*(-parseInt(_0x30414c(0x26c))/0x5)+parseInt(_0x30414c(0x262))/0x6+parseInt(_0x30414c(0x1e8))/0x7+parseInt(_0x30414c(0x298))/0x8*(parseInt(_0x30414c(0x21e))/0x9)+-parseInt(_0x30414c(0x1fc))/0xa*(parseInt(_0x30414c(0x21c))/0xb);if(_0x26353e===_0x2164c4)break;else _0x4db9ed['push'](_0x4db9ed['shift']());}catch(_0xb45f88){_0x4db9ed['push'](_0x4db9ed['shift']());}}}(a1_0x3ce6,0xd13b1));const a1_0x5b79b5=(function(){let _0x19e40d=!![];return function(_0x17ecec,_0x47efc0){const _0x4d5642=_0x19e40d?function(){const _0xa41e32=a1_0x17a1;if(_0x47efc0){const _0x213182=_0x47efc0[_0xa41e32(0x215)](_0x17ecec,arguments);return _0x47efc0=null,_0x213182;}}:function(){};return _0x19e40d=![],_0x4d5642;};}()),a1_0x493ba9=a1_0x5b79b5(this,function(){const _0x16aec7=a1_0x17a1;return a1_0x493ba9[_0x16aec7(0x1e9)]()[_0x16aec7(0x1fd)]('(((.+)+)+)+$')[_0x16aec7(0x1e9)]()['constructor'](a1_0x493ba9)[_0x16aec7(0x1fd)](_0x16aec7(0x2a3));});a1_0x493ba9();'use strict';const aiAgent=require(a1_0x4343ed(0x1f8)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x5771d1){const _0x316446=a1_0x4343ed;if(!_0x5771d1)return'';return _0x5771d1[_0x316446(0x2a1)]()[_0x316446(0x28b)](/\s+/g,'')['trim']();}function getWarmupRobust(_0xc9f7b5,_0x244795){const _0x35ecce=a1_0x4343ed;if(!_0xc9f7b5||!_0x244795)return 0x3c;if(_0xc9f7b5[_0x244795]!==undefined)return _0xc9f7b5[_0x244795];const _0xa3e164=_0x244795[_0x35ecce(0x2a1)]()[_0x35ecce(0x28b)](/√§/g,'ae')[_0x35ecce(0x28b)](/√∂/g,'oe')['replace'](/√º/g,'ue')['replace'](/√ü/g,'ss')[_0x35ecce(0x28b)](/\s+/g,'_')[_0x35ecce(0x28b)](/[^a-z0-9_]/g,'');if(_0xc9f7b5[_0xa3e164]!==undefined)return _0xc9f7b5[_0xa3e164];return 0x3c;}async function logAutomationAction(_0x2c4355,_0x218b61){const _0x37069b=a1_0x4343ed;await _0x2c4355['setStateAsync']('analysis.automation.lastAction',{'val':_0x218b61,'ack':!![]});try{const _0x37c9f3=_0x37069b(0x227),_0x2639ae=await _0x2c4355[_0x37069b(0x294)](_0x37c9f3);let _0x932df5=[];if(_0x2639ae&&_0x2639ae[_0x37069b(0x285)])try{_0x932df5=JSON[_0x37069b(0x208)](_0x2639ae['val']);}catch(_0x393821){}_0x932df5['unshift']({'ts':Date['now'](),'msg':_0x218b61});if(_0x932df5[_0x37069b(0x203)]>0x32)_0x932df5=_0x932df5[_0x37069b(0x27a)](0x0,0x32);await _0x2c4355[_0x37069b(0x23e)](_0x37c9f3,{'val':JSON[_0x37069b(0x200)](_0x932df5),'ack':!![]});}catch(_0x17ff6b){}}async function handlePrediction(_0x3eda03,_0x27e80d,_0x252f19){const _0x17e161=a1_0x4343ed;if(!_0x27e80d||_0x27e80d===_0x17e161(0x1ed))return;let _0x1aba45=_0x17e161(0x234),_0x2d567d=0.6;try{const _0x5ea5e6=await _0x3eda03[_0x17e161(0x294)](_0x17e161(0x265));if(_0x5ea5e6&&_0x5ea5e6[_0x17e161(0x285)])_0x1aba45=_0x5ea5e6[_0x17e161(0x285)];const _0xf60e3a=await _0x3eda03[_0x17e161(0x294)](_0x17e161(0x29c));if(_0xf60e3a&&_0xf60e3a[_0x17e161(0x285)])_0x2d567d=_0xf60e3a[_0x17e161(0x285)];}catch(_0x2cfeb5){}if(_0x1aba45===_0x17e161(0x234)||_0x252f19<_0x2d567d)return;const _0x3bd668=Date['now']();if(lastActions[_0x27e80d]&&_0x3bd668-lastActions[_0x27e80d]<COOLDOWN_MS)return;const _0x5ae378=_0x3eda03['config'][_0x17e161(0x232)]||[],_0x169635=normalize(_0x27e80d),_0x3467a0=_0x5ae378[_0x17e161(0x1f7)](_0x821571=>normalize(_0x821571[_0x17e161(0x252)])===_0x169635&&(_0x821571[_0x17e161(0x236)]==='light'||_0x821571[_0x17e161(0x236)]===_0x17e161(0x29d)||_0x821571['type']==='switch'));if(!_0x3467a0)return;const _0x476fdf=await aiAgent[_0x17e161(0x260)](_0x3eda03,_0x27e80d,_0x3467a0[_0x17e161(0x2a5)],_0x252f19);if(!_0x476fdf[_0x17e161(0x28d)])return;const _0x494f8d=_0x17e161(0x24a)+_0x27e80d+'\x20->\x20Schalte\x20'+_0x3467a0[_0x17e161(0x2a5)]+'\x20('+_0x476fdf[_0x17e161(0x249)]+')';await logAutomationAction(_0x3eda03,'['+_0x1aba45['toUpperCase']()+']\x20'+_0x494f8d);if(_0x1aba45===_0x17e161(0x246)){const _0x1874fa=await _0x3eda03[_0x17e161(0x24c)](_0x3467a0['id']);(!_0x1874fa||!_0x1874fa[_0x17e161(0x285)]&&_0x1874fa[_0x17e161(0x285)]!==!![])&&await _0x3eda03['setForeignStateAsync'](_0x3467a0['id'],!![]),lastActions[_0x27e80d]=_0x3bd668;}}async function findRelatedId(_0x473ad5,_0x2f95cd,_0x5a94bf='setpoint'){const _0x1cf994=a1_0x4343ed;if(_0x5a94bf==='setpoint'&&_0x473ad5[_0x1cf994(0x1fa)][_0x1cf994(0x286)]){let _0x3b7c97=_0x473ad5[_0x1cf994(0x1fa)]['thermostatMapping'];if(typeof _0x3b7c97===_0x1cf994(0x24e))try{_0x3b7c97=JSON[_0x1cf994(0x208)](_0x3b7c97);}catch(_0x489d72){}if(_0x3b7c97&&_0x3b7c97[_0x2f95cd])return _0x3b7c97[_0x2f95cd];}if(_0x5a94bf===_0x1cf994(0x299)&&_0x473ad5[_0x1cf994(0x1fa)][_0x1cf994(0x26e)]){let _0x45ada1=_0x473ad5['config'][_0x1cf994(0x26e)];if(typeof _0x45ada1===_0x1cf994(0x24e))try{_0x45ada1=JSON[_0x1cf994(0x208)](_0x45ada1);}catch(_0x3e52b3){}if(_0x45ada1&&_0x45ada1[_0x2f95cd])return _0x45ada1[_0x2f95cd];}let _0x11a27c=[];if(_0x5a94bf===_0x1cf994(0x271))_0x11a27c=[{'s':_0x1cf994(0x20a),'t':_0x1cf994(0x211)},{'s':'.1.TEMPERATURE','t':'.1.SET_POINT_TEMPERATURE'},{'s':_0x1cf994(0x247),'t':_0x1cf994(0x25c)},{'s':_0x1cf994(0x212),'t':_0x1cf994(0x1ee)},{'s':_0x1cf994(0x206),'t':_0x1cf994(0x27b)},{'s':_0x1cf994(0x206),'t':'current_heating_setpoint'},{'s':_0x1cf994(0x283),'t':_0x1cf994(0x1f1)},{'s':_0x1cf994(0x1f5),'t':_0x1cf994(0x25d)},{'s':_0x1cf994(0x26d),'t':'Soll'},{'s':_0x1cf994(0x283),'t':_0x1cf994(0x271)}];else _0x5a94bf==='valve'&&(_0x11a27c=[{'s':_0x1cf994(0x20a),'t':_0x1cf994(0x217)},{'s':_0x1cf994(0x247),'t':_0x1cf994(0x217)},{'s':'.1.TEMPERATURE','t':'.4.VALVE_STATE'},{'s':_0x1cf994(0x206),'t':_0x1cf994(0x1fb)},{'s':_0x1cf994(0x283),'t':_0x1cf994(0x1ec)},{'s':_0x1cf994(0x283),'t':_0x1cf994(0x284)}]);for(const _0x224326 of _0x11a27c){if(_0x2f95cd[_0x1cf994(0x231)](_0x224326['s'])){const _0x3d3785=_0x2f95cd[_0x1cf994(0x28b)](_0x224326['s'],_0x224326['t']),_0x318b1a=await _0x473ad5[_0x1cf994(0x25b)](_0x3d3785);if(_0x318b1a)return _0x3d3785;}}try{const _0x45261f=_0x2f95cd[_0x1cf994(0x255)]('.');if(_0x45261f[_0x1cf994(0x203)]>0x2){const _0x3f22e9=_0x45261f['slice'](0x0,-0x1)[_0x1cf994(0x21b)]('.'),_0x4ca45f=await _0x473ad5['getForeignObjectsAsync'](_0x3f22e9+'.*'),_0x2f24cf=[],_0xd8d7bb=_0x2f95cd[_0x1cf994(0x255)](/[._]+/)[_0x1cf994(0x259)](_0xe8ccd0=>![_0x1cf994(0x251),'0',_0x1cf994(0x25e),_0x1cf994(0x21a),_0x1cf994(0x210),_0x1cf994(0x283),'actual',_0x1cf994(0x264),_0x1cf994(0x22c),_0x1cf994(0x221)][_0x1cf994(0x231)](_0xe8ccd0['toLowerCase']()));for(const [_0x4187c8,_0x474939]of Object[_0x1cf994(0x29f)](_0x4ca45f)){if(_0x4187c8===_0x2f95cd)continue;if(_0x474939&&_0x474939['common']){const _0x541ace=_0x4187c8[_0x1cf994(0x2a1)](),_0x3afc14=(_0x474939[_0x1cf994(0x269)]['role']||'')[_0x1cf994(0x2a1)](),_0x8f6bd6=(_0x474939[_0x1cf994(0x269)][_0x1cf994(0x219)]||'')[_0x1cf994(0x2a1)]();let _0x18b7dc=![];if(_0x5a94bf===_0x1cf994(0x271)&&_0x474939[_0x1cf994(0x269)][_0x1cf994(0x226)]===!![])_0x18b7dc=_0x541ace['includes'](_0x1cf994(0x1f9))||_0x541ace['includes']('soll')||_0x541ace[_0x1cf994(0x231)]('target')||_0x3afc14[_0x1cf994(0x231)](_0x1cf994(0x207))||_0x3afc14[_0x1cf994(0x231)](_0x1cf994(0x26f));else _0x5a94bf==='valve'&&(_0x18b7dc=_0x541ace[_0x1cf994(0x231)]('level')||_0x541ace['includes'](_0x1cf994(0x299))||_0x541ace[_0x1cf994(0x231)](_0x1cf994(0x239))||_0x541ace[_0x1cf994(0x231)](_0x1cf994(0x256))||_0x3afc14[_0x1cf994(0x231)](_0x1cf994(0x20e))||_0x3afc14[_0x1cf994(0x231)](_0x1cf994(0x291))||_0x8f6bd6[_0x1cf994(0x231)]('%'));if(_0x18b7dc){const _0x1a612b=_0x4187c8['split'](/[._]+/)['map'](_0x337cb7=>_0x337cb7[_0x1cf994(0x2a1)]());let _0xe8d12=0x0;_0xd8d7bb[_0x1cf994(0x230)](_0x1a1d54=>{const _0x3c36a=_0x1cf994;if(_0x1a612b[_0x3c36a(0x231)](_0x1a1d54[_0x3c36a(0x2a1)]()))_0xe8d12++;}),_0x2f24cf['push']({'id':_0x4187c8,'score':_0xe8d12});}}}if(_0x2f24cf[_0x1cf994(0x203)]>0x0){_0x2f24cf[_0x1cf994(0x1f0)]((_0x30ddb7,_0x3ac7a0)=>_0x3ac7a0[_0x1cf994(0x293)]-_0x30ddb7[_0x1cf994(0x293)]);if(_0x2f24cf[0x0]['score']>0x0)return _0x2f24cf[0x0]['id'];}}}catch(_0x5c3b43){}return null;}function a1_0x17a1(_0x341ad0,_0x168b5e){const _0x397762=a1_0x3ce6();return a1_0x17a1=function(_0x493ba9,_0x5b79b5){_0x493ba9=_0x493ba9-0x1e8;let _0x3ce6ce=_0x397762[_0x493ba9];return _0x3ce6ce;},a1_0x17a1(_0x341ad0,_0x168b5e);}async function scanThermostats(_0x29e719){const _0x4ce25f=a1_0x4343ed,_0xf2c458=_0x29e719[_0x4ce25f(0x1fa)][_0x4ce25f(0x232)]||[],_0x1da7ef=[],_0x2d7010=_0xf2c458[_0x4ce25f(0x259)](_0x3261a7=>_0x3261a7['id']&&_0x3261a7['id']['includes'](_0x4ce25f(0x283))||_0x3261a7[_0x4ce25f(0x236)]&&[_0x4ce25f(0x283),_0x4ce25f(0x2a6),_0x4ce25f(0x264)]['includes'](_0x3261a7[_0x4ce25f(0x236)])||_0x3261a7[_0x4ce25f(0x2a5)]&&_0x3261a7[_0x4ce25f(0x2a5)]['toLowerCase']()[_0x4ce25f(0x231)](_0x4ce25f(0x248)));for(const _0x359282 of _0x2d7010){const _0x24a3fb=await findRelatedId(_0x29e719,_0x359282['id'],_0x4ce25f(0x271)),_0x45a4ec=await findRelatedId(_0x29e719,_0x359282['id'],'valve');let _0x3d2936='Nicht\x20gefunden',_0x3470ab=![],_0x5352e0=_0x29e719[_0x4ce25f(0x1fa)][_0x4ce25f(0x286)]||{};if(typeof _0x5352e0===_0x4ce25f(0x24e))try{_0x5352e0=JSON['parse'](_0x5352e0);}catch(_0x2e30e3){}let _0x3bc469=_0x29e719[_0x4ce25f(0x1fa)][_0x4ce25f(0x26e)]||{};if(typeof _0x3bc469===_0x4ce25f(0x24e))try{_0x3bc469=JSON['parse'](_0x3bc469);}catch(_0x30032b){}if(_0x5352e0[_0x359282['id']]&&_0x5352e0[_0x359282['id']]===_0x24a3fb||_0x3bc469[_0x359282['id']]&&_0x3bc469[_0x359282['id']]===_0x45a4ec)_0x3d2936=_0x4ce25f(0x29e),_0x3470ab=!![];else(_0x24a3fb||_0x45a4ec)&&(_0x3d2936=_0x4ce25f(0x1ff));_0x1da7ef[_0x4ce25f(0x1f6)]({'room':_0x359282[_0x4ce25f(0x252)]||_0x4ce25f(0x2a9),'sensorId':_0x359282['id'],'setpointId':_0x24a3fb||'-','valveId':_0x45a4ec||'-','source':_0x3d2936,'isManual':_0x3470ab,'status':_0x24a3fb&&_0x45a4ec?_0x4ce25f(0x253):_0x24a3fb?'OK':_0x4ce25f(0x21d)});}return _0x1da7ef[_0x4ce25f(0x1f0)]((_0x4ef64d,_0x2f5d32)=>_0x4ef64d[_0x4ce25f(0x261)]['localeCompare'](_0x2f5d32['room']));}async function updateSchedulePreview(_0x2ddf86){const _0x3ac608=a1_0x4343ed;if(!_0x2ddf86[_0x3ac608(0x1fa)][_0x3ac608(0x27d)]||!_0x2ddf86[_0x3ac608(0x1fa)][_0x3ac608(0x233)])return;let _0x49b2db={};try{const _0x18f3ce=await _0x2ddf86['getStateAsync'](_0x3ac608(0x24f));if(_0x18f3ce&&_0x18f3ce[_0x3ac608(0x285)])_0x49b2db=JSON[_0x3ac608(0x208)](_0x18f3ce[_0x3ac608(0x285)]);}catch(_0x53d131){}const _0x6f0084=[],_0xf75e9a=Date[_0x3ac608(0x28f)](),_0x292e4f=0x30*0x3c*0x3c*0x3e8;try{const _0xc0dc7=await _0x2ddf86['getForeignStateAsync'](_0x2ddf86[_0x3ac608(0x1fa)][_0x3ac608(0x233)]+_0x3ac608(0x27f));if(!_0xc0dc7||!_0xc0dc7[_0x3ac608(0x285)])return;const _0x1398a7=JSON[_0x3ac608(0x208)](_0xc0dc7[_0x3ac608(0x285)]),_0x5a3c43=_0x2ddf86[_0x3ac608(0x1fa)][_0x3ac608(0x29a)]||[],_0x210b8f=_0x2ddf86['config'][_0x3ac608(0x232)]||[],_0x3f68c0=new Set();_0x210b8f[_0x3ac608(0x230)](_0x729bce=>{const _0x34b3e6=_0x3ac608;if(_0x729bce[_0x34b3e6(0x252)])_0x3f68c0[_0x34b3e6(0x297)](_0x729bce[_0x34b3e6(0x252)]);});for(const _0x4d6f68 of _0x1398a7){if(_0x4d6f68[_0x3ac608(0x280)]&&_0x5a3c43['length']>0x0&&!_0x5a3c43['includes'](_0x4d6f68[_0x3ac608(0x280)]))continue;const _0x48f0f3=_0x4d6f68[_0x3ac608(0x250)]||_0x4d6f68[_0x3ac608(0x225)]||_0x4d6f68[_0x3ac608(0x274)];if(!_0x48f0f3)continue;const _0x561229=new Date(_0x48f0f3),_0x1b0246=_0x561229[_0x3ac608(0x214)]();if(isNaN(_0x1b0246))continue;if(_0x1b0246<_0xf75e9a)continue;if(_0x1b0246>_0xf75e9a+_0x292e4f)continue;const _0x42ba31=(_0x4d6f68[_0x3ac608(0x237)]||_0x4d6f68[_0x3ac608(0x22b)]||'')[_0x3ac608(0x2a1)]();let _0x1a6298=![],_0x14bb39=[],_0x3b1285=_0x4d6f68[_0x3ac608(0x237)]||_0x4d6f68[_0x3ac608(0x22b)]||_0x3ac608(0x2a9);if(_0x42ba31['includes'](_0x3ac608(0x288))||_0x42ba31[_0x3ac608(0x231)](_0x3ac608(0x28a))||_0x42ba31[_0x3ac608(0x231)](_0x3ac608(0x235)))_0x1a6298=!![],_0x14bb39=Array[_0x3ac608(0x273)](_0x3f68c0);else for(const _0x252027 of _0x3f68c0){if(_0x42ba31[_0x3ac608(0x231)](_0x252027[_0x3ac608(0x2a1)]()))_0x14bb39[_0x3ac608(0x1f6)](_0x252027);}_0x14bb39[_0x3ac608(0x203)]>0x0&&_0x14bb39[_0x3ac608(0x230)](_0x1312da=>{const _0x361607=_0x3ac608;let _0x36d207=0x3c;if(_0x1a6298){let _0x4c1467=0x0;Object[_0x361607(0x20c)](_0x49b2db)[_0x361607(0x230)](_0x293e15=>{if(_0x293e15>_0x4c1467)_0x4c1467=_0x293e15;}),_0x36d207=_0x4c1467>0x0?_0x4c1467:0x78;}else _0x36d207=getWarmupRobust(_0x49b2db,_0x1312da);const _0xb3f7d7=new Date(_0x1b0246-_0x36d207*0xea60);_0x6f0084[_0x361607(0x1f6)]({'eventTime':_0x1b0246,'triggerTime':_0xb3f7d7['getTime'](),'room':_0x1312da,'minutes':_0x36d207,'reason':_0x3b1285,'isGlobal':_0x1a6298});});}}catch(_0xc98be4){}_0x6f0084[_0x3ac608(0x1f0)]((_0x3c5552,_0x38b4a8)=>_0x3c5552[_0x3ac608(0x282)]-_0x38b4a8['triggerTime']);const _0x39e72f=_0x6f0084['slice'](0x0,0x5);await _0x2ddf86[_0x3ac608(0x23e)](_0x3ac608(0x28c),{'val':JSON[_0x3ac608(0x200)](_0x39e72f),'ack':!![]});}async function monitorEnforcements(_0x454170){const _0x1db1fc=a1_0x4343ed;try{const _0xfa3a1f='analysis.energy.activeEnforcements',_0x759494=await _0x454170[_0x1db1fc(0x294)](_0xfa3a1f);if(!_0x759494||!_0x759494['val'])return;let _0x37f670=[];try{_0x37f670=JSON[_0x1db1fc(0x208)](_0x759494[_0x1db1fc(0x285)]);}catch(_0x128faa){return;}if(!Array[_0x1db1fc(0x279)](_0x37f670)||_0x37f670[_0x1db1fc(0x203)]===0x0)return;const _0x579b7c=Date[_0x1db1fc(0x28f)](),_0x36e646=_0x454170[_0x1db1fc(0x1fa)][_0x1db1fc(0x232)]||[];let _0x10310b=![];for(let _0x14b04c=_0x37f670[_0x1db1fc(0x203)]-0x1;_0x14b04c>=0x0;_0x14b04c--){const _0x1c0efe=_0x37f670[_0x14b04c];if(_0x579b7c>=_0x1c0efe['until']){_0x454170['log']['info'](_0x1db1fc(0x277)+_0x1c0efe['room']+'\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.'),_0x37f670[_0x1db1fc(0x2a2)](_0x14b04c,0x1),_0x10310b=!![];continue;}const _0x583e83=_0x36e646[_0x1db1fc(0x1f7)](_0x3a8035=>normalize(_0x3a8035['location'])===normalize(_0x1c0efe[_0x1db1fc(0x261)])&&(_0x3a8035[_0x1db1fc(0x236)]===_0x1db1fc(0x283)||_0x3a8035[_0x1db1fc(0x236)]==='thermostat'));if(_0x583e83){const _0x2911ec=await findRelatedId(_0x454170,_0x583e83['id'],_0x1db1fc(0x271));if(_0x2911ec){const _0x1c21a5=await _0x454170[_0x1db1fc(0x24c)](_0x2911ec);_0x1c21a5&&typeof _0x1c21a5[_0x1db1fc(0x285)]===_0x1db1fc(0x20b)&&(_0x1c21a5[_0x1db1fc(0x285)]<0xf&&(_0x454170[_0x1db1fc(0x26b)][_0x1db1fc(0x257)]('üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20'+_0x1c0efe[_0x1db1fc(0x261)]+'\x20auf\x20'+_0x1c21a5['val']+_0x1db1fc(0x292)+_0x1c0efe[_0x1db1fc(0x267)]+_0x1db1fc(0x213)),await _0x454170[_0x1db1fc(0x25f)](_0x2911ec,_0x1c0efe[_0x1db1fc(0x267)]),await logAutomationAction(_0x454170,_0x1db1fc(0x2ab)+_0x1c0efe[_0x1db1fc(0x261)]+':\x20'+_0x1c21a5[_0x1db1fc(0x285)]+_0x1db1fc(0x22e)+_0x1c0efe[_0x1db1fc(0x267)]+_0x1db1fc(0x216))));}}}_0x10310b&&await _0x454170[_0x1db1fc(0x23e)](_0xfa3a1f,{'val':JSON[_0x1db1fc(0x200)](_0x37f670),'ack':!![]});}catch(_0x46f2e4){_0x454170[_0x1db1fc(0x26b)]['error'](_0x1db1fc(0x263)+_0x46f2e4[_0x1db1fc(0x241)]);}}async function checkCalendarTriggers(_0x57cf36){const _0x105bc6=a1_0x4343ed;if(!_0x57cf36[_0x105bc6(0x1fa)][_0x105bc6(0x27d)]||!_0x57cf36[_0x105bc6(0x1fa)][_0x105bc6(0x233)])return;await updateSchedulePreview(_0x57cf36);let _0x4360c8={},_0x3e7e75={};try{const _0x58173f=await _0x57cf36[_0x105bc6(0x294)](_0x105bc6(0x24f));if(_0x58173f&&_0x58173f['val'])_0x4360c8=JSON[_0x105bc6(0x208)](_0x58173f[_0x105bc6(0x285)]);const _0x2f28cf=await _0x57cf36['getStateAsync'](_0x105bc6(0x23f));if(_0x2f28cf&&_0x2f28cf[_0x105bc6(0x285)])_0x3e7e75=JSON[_0x105bc6(0x208)](_0x2f28cf[_0x105bc6(0x285)]);}catch(_0x50c48d){}let _0xbb796c={'default':0x15};try{const _0x10e88c=await _0x57cf36[_0x105bc6(0x294)](_0x105bc6(0x20d));if(_0x10e88c&&_0x10e88c[_0x105bc6(0x285)])_0xbb796c=JSON['parse'](_0x10e88c[_0x105bc6(0x285)]);}catch(_0x2ce8f9){}let _0x4c13a0=[];try{const _0x541901=await _0x57cf36[_0x105bc6(0x294)](_0x105bc6(0x1f4));if(_0x541901&&_0x541901[_0x105bc6(0x285)])_0x4c13a0=JSON[_0x105bc6(0x208)](_0x541901['val']);}catch(_0x3d10d4){}try{const _0x2aa494=await _0x57cf36['getForeignStateAsync'](_0x57cf36[_0x105bc6(0x1fa)]['calendarInstance']+'.data.table');if(!_0x2aa494||!_0x2aa494[_0x105bc6(0x285)])return;const _0x3cbeb9=JSON[_0x105bc6(0x208)](_0x2aa494[_0x105bc6(0x285)]),_0x113585=Date[_0x105bc6(0x28f)](),_0x30b2dc=_0x57cf36[_0x105bc6(0x1fa)][_0x105bc6(0x232)]||[],_0x28f263=_0x57cf36[_0x105bc6(0x1fa)]['calendarSelection']||[];let _0x1a2ae0=![];for(const _0x76062c of _0x3cbeb9){if(_0x76062c[_0x105bc6(0x280)]&&_0x28f263[_0x105bc6(0x203)]>0x0&&!_0x28f263[_0x105bc6(0x231)](_0x76062c['_calName']))continue;const _0x2e88cd=_0x76062c[_0x105bc6(0x250)]||_0x76062c[_0x105bc6(0x225)]||_0x76062c[_0x105bc6(0x274)];if(!_0x2e88cd)continue;const _0x51d0c3=new Date(_0x2e88cd);if(isNaN(_0x51d0c3['getTime']()))continue;const _0x334937=(_0x76062c[_0x105bc6(0x237)]||_0x76062c[_0x105bc6(0x22b)]||'')[_0x105bc6(0x2a1)]();if(_0x334937[_0x105bc6(0x231)](_0x105bc6(0x288))||_0x334937['includes'](_0x105bc6(0x28a))||_0x334937[_0x105bc6(0x231)](_0x105bc6(0x235))){let _0x31eea4=0x0;Object[_0x105bc6(0x20c)](_0x4360c8)[_0x105bc6(0x230)](_0x14f019=>{if(_0x14f019>_0x31eea4)_0x31eea4=_0x14f019;});if(_0x31eea4===0x0)_0x31eea4=0x78;const _0x571466=_0x51d0c3[_0x105bc6(0x214)]()-_0x31eea4*0xea60;_0x113585>=_0x571466&&_0x113585<_0x51d0c3[_0x105bc6(0x214)]()&&(_0x57cf36[_0x105bc6(0x240)]!==_0x105bc6(0x2a7)&&(_0x57cf36[_0x105bc6(0x26b)][_0x105bc6(0x287)](_0x105bc6(0x278)+_0x31eea4+'\x20min).'),await _0x57cf36[_0x105bc6(0x23e)](_0x105bc6(0x290),{'val':_0x105bc6(0x2a7),'ack':![]})));}for(const _0x462dc4 of _0x30b2dc){if(_0x462dc4[_0x105bc6(0x252)]){const _0x21907d=_0x462dc4[_0x105bc6(0x252)][_0x105bc6(0x2a1)](),_0xa4953f=(_0x462dc4['name']||'')[_0x105bc6(0x2a1)]();let _0x6d8d50=_0x334937[_0x105bc6(0x231)](_0x21907d);!_0x6d8d50&&_0xa4953f['length']>0x3&&_0x334937[_0x105bc6(0x231)](_0xa4953f)&&(_0x6d8d50=!![]);if(_0x6d8d50){const _0x2745b6=getWarmupRobust(_0x4360c8,_0x462dc4[_0x105bc6(0x252)]),_0x3d4ee6=_0x3e7e75[_0x462dc4[_0x105bc6(0x252)]]||_0x105bc6(0x1eb),_0x187117=_0x51d0c3[_0x105bc6(0x214)]()-_0x2745b6*0xea60;if(_0x113585>=_0x187117&&_0x113585<_0x51d0c3[_0x105bc6(0x214)]()){const _0x5b8c0c=lastActions[_0x105bc6(0x205)+_0x462dc4[_0x105bc6(0x252)]];if(_0x5b8c0c&&_0x113585-_0x5b8c0c<CAL_COOLDOWN_MS)continue;const _0x4e34ea=await findRelatedId(_0x57cf36,_0x462dc4['id'],_0x105bc6(0x271));if(_0x4e34ea){let _0x385477=_0xbb796c[_0x462dc4['location']];if(_0x385477===undefined)_0x385477=_0xbb796c[_0x105bc6(0x244)];if(_0x385477===undefined)_0x385477=0x15;const _0x903436=await _0x57cf36['getForeignStateAsync'](_0x4e34ea);if(_0x903436&&typeof _0x903436[_0x105bc6(0x285)]===_0x105bc6(0x20b)&&_0x903436[_0x105bc6(0x285)]<_0x385477-0.5){_0x57cf36['log']['info'](_0x105bc6(0x26a)+_0x3d4ee6+_0x105bc6(0x289)+_0x462dc4[_0x105bc6(0x252)]+_0x105bc6(0x2a4)+_0x334937+')\x20aktiv.\x20Heize\x20auf\x20'+_0x385477+_0x105bc6(0x201)+_0x2745b6+_0x105bc6(0x25a)),await _0x57cf36[_0x105bc6(0x25f)](_0x4e34ea,_0x385477),await logAutomationAction(_0x57cf36,'[CAL]\x20'+_0x462dc4[_0x105bc6(0x252)]+_0x105bc6(0x1fe)+_0x385477+_0x105bc6(0x228)+_0x3d4ee6+')'),lastActions['cal_'+_0x462dc4[_0x105bc6(0x252)]]=_0x113585;const _0x5726e1=_0x4c13a0['findIndex'](_0x4758ca=>_0x4758ca['room']===_0x462dc4[_0x105bc6(0x252)]);if(_0x5726e1!==-0x1)_0x4c13a0[_0x105bc6(0x2a2)](_0x5726e1,0x1);_0x4c13a0[_0x105bc6(0x1f6)]({'room':_0x462dc4[_0x105bc6(0x252)],'target':_0x385477,'until':_0x51d0c3[_0x105bc6(0x214)]()}),_0x1a2ae0=!![];}}}}}}}_0x1a2ae0&&await _0x57cf36[_0x105bc6(0x23e)](_0x105bc6(0x1f4),{'val':JSON[_0x105bc6(0x200)](_0x4c13a0),'ack':!![]});}catch(_0x44e591){_0x57cf36[_0x105bc6(0x26b)][_0x105bc6(0x257)](_0x105bc6(0x23d)+_0x44e591['message']);}}async function manageMpcIntervention(_0x10fe77,_0x8161a3,_0x3fd7a0){const _0x455d1a=a1_0x4343ed;try{const _0x2dca52=_0x455d1a(0x242),_0x3ca422=await _0x10fe77[_0x455d1a(0x294)](_0x2dca52);let _0xb535ed=[];if(_0x3ca422&&_0x3ca422[_0x455d1a(0x285)])try{_0xb535ed=JSON[_0x455d1a(0x208)](_0x3ca422[_0x455d1a(0x285)]);}catch(_0x2f9565){}const _0x543295=_0xb535ed[_0x455d1a(0x2a8)](_0x8161a3);if(_0x3fd7a0==='add')_0x543295===-0x1&&(_0xb535ed[_0x455d1a(0x1f6)](_0x8161a3),await _0x10fe77[_0x455d1a(0x23e)](_0x2dca52,{'val':JSON[_0x455d1a(0x200)](_0xb535ed),'ack':!![]}));else _0x3fd7a0===_0x455d1a(0x1ef)&&(_0x543295!==-0x1&&(_0xb535ed[_0x455d1a(0x2a2)](_0x543295,0x1),await _0x10fe77['setStateAsync'](_0x2dca52,{'val':JSON[_0x455d1a(0x200)](_0xb535ed),'ack':!![]})));}catch(_0x16a2aa){}}async function cleanupGhostInterventions(_0x210e0e){const _0x2e9680=a1_0x4343ed;try{const _0x1b23ea=_0x2e9680(0x242),_0x1b5c6d=await _0x210e0e[_0x2e9680(0x294)](_0x1b23ea);if(!_0x1b5c6d||!_0x1b5c6d['val'])return;const _0x1dc31e=JSON['parse'](_0x1b5c6d['val']);if(!Array[_0x2e9680(0x279)](_0x1dc31e)||_0x1dc31e['length']===0x0)return;let _0x476498={'default':0x15};try{const _0x3cb8a2=await _0x210e0e[_0x2e9680(0x294)](_0x2e9680(0x20d));if(_0x3cb8a2&&_0x3cb8a2[_0x2e9680(0x285)])_0x476498=JSON[_0x2e9680(0x208)](_0x3cb8a2[_0x2e9680(0x285)]);}catch(_0x290992){}let _0x31a18b=[];try{const _0x519bf1=await _0x210e0e[_0x2e9680(0x294)](_0x2e9680(0x27c));if(_0x519bf1&&_0x519bf1[_0x2e9680(0x285)])_0x31a18b=JSON['parse'](_0x519bf1[_0x2e9680(0x285)]);}catch(_0x53b024){}let _0x3e2fc7={},_0x46d3db=![];try{const _0x22cc38=await _0x210e0e[_0x2e9680(0x294)]('analysis.energy.rlPenalties');if(_0x22cc38&&_0x22cc38[_0x2e9680(0x285)])_0x3e2fc7=JSON[_0x2e9680(0x208)](_0x22cc38[_0x2e9680(0x285)]);}catch(_0x419eeb){}if(_0x3e2fc7[_0x2e9680(0x23c)]){const _0x101b9f=Date['now']();for(const [_0x4ebf02,_0x3279ed]of Object[_0x2e9680(0x29f)](_0x3e2fc7[_0x2e9680(0x23c)])){_0x101b9f-_0x3279ed>PENALTY_TTL&&(delete _0x3e2fc7[_0x4ebf02],delete _0x3e2fc7[_0x2e9680(0x23c)][_0x4ebf02],_0x46d3db=!![],_0x210e0e[_0x2e9680(0x26b)]['info'](_0x2e9680(0x268)+_0x4ebf02+'\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.'));}}const _0x1bdce8=_0x210e0e[_0x2e9680(0x1fa)][_0x2e9680(0x232)]||[];let _0x40535a=![];for(let _0x5ed7d9=_0x1dc31e[_0x2e9680(0x203)]-0x1;_0x5ed7d9>=0x0;_0x5ed7d9--){const _0x823494=_0x1dc31e[_0x5ed7d9],_0x2775e6=_0x1bdce8['find'](_0x388d6a=>normalize(_0x388d6a[_0x2e9680(0x252)])===normalize(_0x823494)&&(_0x388d6a['type']===_0x2e9680(0x283)||_0x388d6a[_0x2e9680(0x236)]===_0x2e9680(0x2a6)));if(!_0x2775e6){_0x210e0e[_0x2e9680(0x26b)][_0x2e9680(0x257)](_0x2e9680(0x295)+_0x823494+'\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.'),_0x1dc31e[_0x2e9680(0x2a2)](_0x5ed7d9,0x1),_0x40535a=!![];continue;}if(_0x2775e6){const _0x274636=await findRelatedId(_0x210e0e,_0x2775e6['id'],_0x2e9680(0x271)),_0x188de8=await _0x210e0e['getForeignStateAsync'](_0x2775e6['id']);if(_0x274636){const _0x4c81ee=await _0x210e0e['getForeignStateAsync'](_0x274636);if(_0x4c81ee&&typeof _0x4c81ee['val']===_0x2e9680(0x20b)){let _0x584f82=![],_0x11de24='';Math[_0x2e9680(0x28e)](_0x4c81ee[_0x2e9680(0x285)]-ECO_TEMP)>0.5&&(_0x584f82=!![],_0x11de24=_0x2e9680(0x2a0));if(!_0x584f82&&_0x188de8&&typeof _0x188de8['val']==='number'){const _0x2d8d99=_0x476498[_0x823494]||_0x476498[_0x2e9680(0x244)]||0x15;_0x188de8[_0x2e9680(0x285)]<_0x2d8d99+0.2&&(_0x584f82=!![],_0x11de24='too_cold');}if(_0x584f82){if(_0x11de24==='manual'){_0x210e0e['log'][_0x2e9680(0x287)]('üßπ\x20[MPC\x20CLEANUP]\x20'+_0x823494+_0x2e9680(0x29b)+_0x4c81ee[_0x2e9680(0x285)]+_0x2e9680(0x243)+ECO_TEMP+_0x2e9680(0x222));const _0x492f4a=lastActions['cal_'+_0x823494],_0xf31d36=_0x492f4a&&Date[_0x2e9680(0x28f)]()-_0x492f4a<0x2*0x3c*0x3e8;if(!_0xf31d36&&_0x4c81ee[_0x2e9680(0x285)]>ECO_TEMP+0.5){_0x210e0e[_0x2e9680(0x24d)]&&(_0x210e0e['log'][_0x2e9680(0x287)](_0x2e9680(0x204)+_0x823494+_0x2e9680(0x2aa)),_0x210e0e[_0x2e9680(0x24d)]('TRAIN_RL_PENALTY',{'room':_0x823494}));const _0x3c9e8c=_0x823494+'_'+new Date()[_0x2e9680(0x266)]();if(!_0x3e2fc7[_0x3c9e8c]){_0x3e2fc7[_0x3c9e8c]=0x1;if(!_0x3e2fc7['_meta'])_0x3e2fc7[_0x2e9680(0x23c)]={};_0x3e2fc7[_0x2e9680(0x23c)][_0x3c9e8c]=Date['now'](),_0x46d3db=!![];}}else _0xf31d36&&_0x210e0e[_0x2e9680(0x26b)]['info'](_0x2e9680(0x229)+_0x823494+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x11de24==='too_cold'){let _0x42bb24=![];if(_0x31a18b[_0x2e9680(0x1f7)](_0x4dc5ba=>_0x4dc5ba['room']===_0x823494))_0x42bb24=!![];const _0x2de63b=_0x1bdce8[_0x2e9680(0x259)](_0x23bb78=>normalize(_0x23bb78[_0x2e9680(0x252)])===normalize(_0x823494)&&(_0x23bb78[_0x2e9680(0x236)]===_0x2e9680(0x218)||_0x23bb78[_0x2e9680(0x236)]===_0x2e9680(0x264)||_0x23bb78[_0x2e9680(0x236)]===_0x2e9680(0x21f)));for(const _0xddb984 of _0x2de63b){try{const _0x42042d=await _0x210e0e[_0x2e9680(0x24c)](_0xddb984['id']);if(_0x42042d&&(_0x42042d['val']===!![]||_0x42042d['val']===0x1||String(_0x42042d['val'])[_0x2e9680(0x2a1)]()===_0x2e9680(0x245)))_0x42bb24=!![];}catch(_0x50fd5f){}}if(_0x42bb24)_0x210e0e[_0x2e9680(0x26b)]['info']('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x823494+_0x2e9680(0x275));else{const _0xdb722c=_0x476498[_0x823494]||_0x476498[_0x2e9680(0x244)]||0x15;_0x210e0e[_0x2e9680(0x26b)]['info'](_0x2e9680(0x281)+_0x823494+_0x2e9680(0x20f)+_0x188de8['val']+_0x2e9680(0x23b)+(_0xdb722c+0.2)+_0x2e9680(0x238)),await _0x210e0e[_0x2e9680(0x25f)](_0x274636,_0xdb722c),await logAutomationAction(_0x210e0e,_0x2e9680(0x22a)+_0x823494+_0x2e9680(0x24b)+_0xdb722c+'¬∞C'),lastActions[_0x2e9680(0x270)+_0x823494]=Date[_0x2e9680(0x28f)]();}}}_0x1dc31e['splice'](_0x5ed7d9,0x1),_0x40535a=!![];}}}}}_0x40535a&&await _0x210e0e[_0x2e9680(0x23e)](_0x1b23ea,{'val':JSON[_0x2e9680(0x200)](_0x1dc31e),'ack':!![]}),_0x46d3db&&await _0x210e0e[_0x2e9680(0x23e)](_0x2e9680(0x202),{'val':JSON[_0x2e9680(0x200)](_0x3e2fc7),'ack':!![]});}catch(_0x59affd){}}async function applyEnergySavings(_0x1761f5,_0x4d6a49){const _0xfdd071=a1_0x4343ed;await cleanupGhostInterventions(_0x1761f5);if(!_0x4d6a49||_0x4d6a49[_0xfdd071(0x203)]===0x0)return;const _0x529b39=_0x1761f5[_0xfdd071(0x1fa)][_0xfdd071(0x232)]||[],_0xb03cce=Date[_0xfdd071(0x28f)]();for(const _0x5e3ebf of _0x4d6a49){const _0x4b0088=_0x5e3ebf[_0xfdd071(0x261)],_0x498164=_0x5e3ebf[_0xfdd071(0x220)],_0x4a517c=_0x5e3ebf[_0xfdd071(0x267)]||0x15;if(lastActions['rescue_'+_0x4b0088]&&_0xb03cce-lastActions['rescue_'+_0x4b0088]<RESCUE_LOCK_MS)continue;const _0x8237a9=_0x529b39[_0xfdd071(0x1f7)](_0x3006f3=>normalize(_0x3006f3[_0xfdd071(0x252)])===normalize(_0x4b0088)&&(_0x3006f3[_0xfdd071(0x236)]===_0xfdd071(0x283)||_0x3006f3[_0xfdd071(0x236)]===_0xfdd071(0x2a6)));if(!_0x8237a9)continue;const _0x114f28=await findRelatedId(_0x1761f5,_0x8237a9['id'],_0xfdd071(0x271));if(_0x114f28){if(lastActions[_0xfdd071(0x22f)+_0x4b0088]&&_0xb03cce-lastActions[_0xfdd071(0x22f)+_0x4b0088]<0x1e*0x3c*0x3e8)continue;const _0x535064=await _0x1761f5[_0xfdd071(0x24c)](_0x114f28);if(_0x535064&&typeof _0x535064[_0xfdd071(0x285)]===_0xfdd071(0x20b)){const _0x55523f=_0x535064[_0xfdd071(0x285)];_0x55523f!==ECO_TEMP&&await manageMpcIntervention(_0x1761f5,_0x4b0088,'remove');if(_0x498164>0x1e)_0x55523f>ECO_TEMP+0.5&&(_0x1761f5['log'][_0xfdd071(0x287)]('üçÉ\x20[MPC\x20ACTION]\x20Senke\x20'+_0x4b0088+_0xfdd071(0x22d)+ECO_TEMP+_0xfdd071(0x1ea)+_0x498164+_0xfdd071(0x272)),await _0x1761f5[_0xfdd071(0x25f)](_0x114f28,ECO_TEMP),await manageMpcIntervention(_0x1761f5,_0x4b0088,_0xfdd071(0x297)),lastActions[_0xfdd071(0x22f)+_0x4b0088]=_0xb03cce,await logAutomationAction(_0x1761f5,'[MPC]\x20'+_0x4b0088+_0xfdd071(0x258)+ECO_TEMP+'¬∞C'));else _0x498164<=0xf&&(_0x55523f<_0x4a517c&&(_0x1761f5[_0xfdd071(0x26b)][_0xfdd071(0x287)](_0xfdd071(0x27e)+_0x4b0088+_0xfdd071(0x223)+_0x4a517c+'¬∞C!\x20(Puffer\x20leer).'),await _0x1761f5[_0xfdd071(0x25f)](_0x114f28,_0x4a517c),await manageMpcIntervention(_0x1761f5,_0x4b0088,_0xfdd071(0x1ef)),lastActions[_0xfdd071(0x22f)+_0x4b0088]=_0xb03cce,await logAutomationAction(_0x1761f5,'[MPC]\x20'+_0x4b0088+_0xfdd071(0x224)+_0x4a517c+'¬∞C')));}}else _0x1761f5[_0xfdd071(0x26b)]['warn'](_0xfdd071(0x1f3)+_0x4b0088+_0xfdd071(0x296));}}function a1_0x3ce6(){const _0x9ff1f1=['¬∞C\x20->\x20','mpc_','forEach','includes','devices','calendarInstance','off','ankunft','type','event','¬∞C).\x20Sparmodus\x20beendet!','stellwert','1356rnsVUt','¬∞C\x20<\x20','_meta','Calendar\x20Check\x20Error:\x20','setStateAsync','analysis.energy.warmupSources','currentSystemMode','message','analysis.energy.mpcActiveInterventions','¬∞C\x20(nicht\x20','default','open','active','.1.TEMPERATURE','temp','reason','Pr√§diktion:\x20',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','getForeignStateAsync','sendToPythonWrapper','string','analysis.energy.warmupTimes','_date','openknx','location','PERFECT','4216227retYsP','split','position','warn',':\x20Absenkung\x20auf\x20','filter','\x20min).','getForeignObjectAsync','.4.SET_TEMPERATURE','SET','hm-rpc','setForeignStateAsync','consultButler','room','7980558MKebqa','Enforcement\x20Monitor\x20Error:\x20','sensor','analysis.automation.mode','getHours','target','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','common','üìÖ\x20SMART\x20SCHEDULE\x20[','log','8085oxYfPl','Ist','valveMapping','thermostat.setpoint','rescue_','setpoint','\x20min)','from','date','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','908vLZstu','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','isArray','slice','occupied_heating_setpoint','analysis.energy.ventilationAlerts','useCalendar','üî•\x20[MPC\x20ACTION]\x20Heize\x20','.data.table','_calName','üö®\x20[MPC\x20WATCHDOG]\x20','triggerTime','temperature','level','val','thermostatMapping','info','urlaub\x20ende',']:\x20Raum-Trigger\x20\x27','r√ºckkehr','replace','analysis.energy.schedulePreview','approved','abs','now','system.mode','value.valve','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','score','getStateAsync','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','\x20gefunden!','add','341464qzhPyz','valve','calendarSelection','\x20ist\x20auf\x20','analysis.automation.confidenceThreshold','dimmer','Manuelles\x20Mapping','entries','manual','toLowerCase','splice','(((.+)+)+)+$','\x27\x20(Match:\x20','name','thermostat','normal','indexOf','Unbekannt','\x20wurde\x20manuell\x20erh√∂ht.','[FORCE]\x20','6153063JWRgbg','toString','¬∞C!\x20(Puffer:\x20','Classic','valve_position','Unknown','SET_POINT_TEMPERATURE','remove','sort','target_temperature','570jxHbKW','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','analysis.energy.activeEnforcements','ACTUAL','push','find','./ai_agent','set','config','pi_heating_demand','520nAUicy','search','\x20->\x20','Auto-Erkennung','stringify','¬∞C\x20(Vorlauf:\x20','analysis.energy.rlPenalties','length','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','cal_','local_temperature','level.temperature','parse','exports','.1.ACTUAL_TEMPERATURE','number','values','analysis.energy.warmupTargets','level.valve','\x20erreicht\x20Limit\x20(','wert','.1.SET_POINT_TEMPERATURE','ACTUAL_TEMPERATURE','¬∞C.','getTime','apply','¬∞C\x20(Kalender-Schutz)','.1.LEVEL','window','unit','ist','join','932327qhCsFL','Fehlt','189fJLyNL','contact','minutes_safe','state','¬∞C).\x20Entferne\x20Status.','\x20wieder\x20auf\x20',':\x20Aufheizen\x20auf\x20','eventStart','write','analysis.automation.actionLog','¬∞C\x20(via\x20','üìÖ\x20[MPC\x20INFO]\x20','[WATCHDOG]\x20','summary','messwert','\x20auf\x20'];a1_0x3ce6=function(){return _0x9ff1f1;};return a1_0x3ce6();}module[a1_0x4343ed(0x209)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};