function a1_0x4e22(_0x4f998e,_0x208361){const _0x5a281c=a1_0x20bf();return a1_0x4e22=function(_0x2505cb,_0x55b44c){_0x2505cb=_0x2505cb-0xcc;let _0x20bfdb=_0x5a281c[_0x2505cb];return _0x20bfdb;},a1_0x4e22(_0x4f998e,_0x208361);}const a1_0x34bce3=a1_0x4e22;(function(_0x103524,_0x59914b){const _0x5b4d29=a1_0x4e22,_0x501a23=_0x103524();while(!![]){try{const _0x41f4d8=-parseInt(_0x5b4d29(0x14e))/0x1*(parseInt(_0x5b4d29(0x147))/0x2)+parseInt(_0x5b4d29(0xd0))/0x3+parseInt(_0x5b4d29(0x12a))/0x4+-parseInt(_0x5b4d29(0x13a))/0x5+parseInt(_0x5b4d29(0xdb))/0x6+-parseInt(_0x5b4d29(0x135))/0x7+parseInt(_0x5b4d29(0xe3))/0x8;if(_0x41f4d8===_0x59914b)break;else _0x501a23['push'](_0x501a23['shift']());}catch(_0x2abd40){_0x501a23['push'](_0x501a23['shift']());}}}(a1_0x20bf,0x1c09b));function a1_0x20bf(){const _0x592a85=['normal','constructor','wert','config','¬∞C\x20->\x20','type','error','hm-rpc','SET','useCalendar','\x20ist\x20auf\x20','write','./ai_agent','rescue_','manual','analysis.energy.warmupSources','Pr√§diktion:\x20','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','warn','.data.table','isArray','active','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','stringify','open','entries','üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27','current_heating_setpoint','slice',':\x20Aufheizen\x20auf\x20','[FORCE]\x20','actual','\x20min)','getHours','replace','set','event','¬∞C!\x20(Puffer:\x20','too_cold','.4.VALVE_STATE','78212aKmXPD','\x20wurde\x20manuell\x20erh√∂ht.','.1.ACTUAL_TEMPERATURE','setStateAsync','üìÖ\x20[MPC\x20INFO]\x20','level.temperature','getTime','Enforcement\x20Monitor\x20Error:\x20','common','devices','remove','416059vhxuWf','calendarInstance','target','default','analysis.energy.schedulePreview','698655FaZBNX','.1.LEVEL','analysis.automation.actionLog','PERFECT','splice','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','Auto-Erkennung','number','ankunft','indexOf','exports','sendToPythonWrapper','now','437344EYHmMo','contact','thermostat','toString','getStateAsync','calendarSelection','state','1pzSEVn',':\x20Absenkung\x20auf\x20','analysis.energy.rlPenalties','valve_position','eventStart','\x20erreicht\x20Limit\x20(','dimmer','light','name','thermostat.setpoint','apply','push','toLowerCase','find','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','Fehlt','Unbekannt','split','üìÖ\x20SMART\x20SCHEDULE\x20[','.1.SET_POINT_TEMPERATURE','sensor','analysis.energy.warmupTimes','location','message','temp','forEach','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','ACTUAL_TEMPERATURE','analysis.energy.mpcActiveInterventions','soll','from','filter','Manuelles\x20Mapping','setForeignStateAsync','¬∞C.','role',']:\x20Raum-Trigger\x20\x27','currentSystemMode','summary','position','temperature','Ist','üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20','Calendar\x20Check\x20Error:\x20','(((.+)+)+)+$','approved','thermostatMapping','¬∞C\x20(nicht\x20','\x20->\x20Schalte\x20','mpc_','getForeignStateAsync','Nicht\x20gefunden','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','stellwert','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','add','_date','analysis.automation.mode','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','üî•\x20[MPC\x20ACTION]\x20Heize\x20','values','unshift','level','_meta','value.valve','parse','SET_POINT_TEMPERATURE','646947qlZswm','valve','occupied_heating_setpoint','\x20gefunden!','cal_','¬∞C!\x20(Puffer\x20leer).','\x20->\x20','window','¬∞C).\x20Sparmodus\x20beendet!','map','urlaub\x20ende','621954TleoRx','log','val','[MPC]\x20','\x20min).','switch','analysis.energy.warmupTargets','findIndex','1550576NVCjHF','string','sort','length','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','target_temperature','info','messwert','reason','pi_heating_demand','setpoint','minutes_safe','analysis.automation.lastAction','TRAIN_RL_PENALTY','room','.1.TEMPERATURE','getForeignObjectAsync','¬∞C\x20(Kalender-Schutz)','r√ºckkehr','toUpperCase','triggerTime','score','valveMapping','üö®\x20[MPC\x20WATCHDOG]\x20','\x27\x20(Match:\x20','includes','off','analysis.energy.activeEnforcements','_calName','local_temperature','¬∞C\x20(via\x20'];a1_0x20bf=function(){return _0x592a85;};return a1_0x20bf();}const a1_0x55b44c=(function(){let _0x43d200=!![];return function(_0x59c532,_0x24cf1e){const _0x1cdd03=_0x43d200?function(){const _0x9ae82e=a1_0x4e22;if(_0x24cf1e){const _0x13b6e6=_0x24cf1e[_0x9ae82e(0x158)](_0x59c532,arguments);return _0x24cf1e=null,_0x13b6e6;}}:function(){};return _0x43d200=![],_0x1cdd03;};}()),a1_0x2505cb=a1_0x55b44c(this,function(){const _0x410d7b=a1_0x4e22;return a1_0x2505cb[_0x410d7b(0x14a)]()['search'](_0x410d7b(0x17a))['toString']()[_0x410d7b(0x103)](a1_0x2505cb)['search'](_0x410d7b(0x17a));});a1_0x2505cb();'use strict';const aiAgent=require(a1_0x34bce3(0x10e)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x33b34a){if(!_0x33b34a)return'';return _0x33b34a['toLowerCase']()['replace'](/\s+/g,'')['trim']();}function getWarmupRobust(_0xc1677b,_0xf78212){const _0x2f9364=a1_0x34bce3;if(!_0xc1677b||!_0xf78212)return 0x3c;if(_0xc1677b[_0xf78212]!==undefined)return _0xc1677b[_0xf78212];const _0x343fd0=_0xf78212[_0x2f9364(0x15a)]()[_0x2f9364(0x124)](/√§/g,'ae')['replace'](/√∂/g,'oe')['replace'](/√º/g,'ue')[_0x2f9364(0x124)](/√ü/g,'ss')[_0x2f9364(0x124)](/\s+/g,'_')[_0x2f9364(0x124)](/[^a-z0-9_]/g,'');if(_0xc1677b[_0x343fd0]!==undefined)return _0xc1677b[_0x343fd0];return 0x3c;}async function logAutomationAction(_0x138d02,_0x3b08bd){const _0x2b48c1=a1_0x34bce3;await _0x138d02['setStateAsync'](_0x2b48c1(0xef),{'val':_0x3b08bd,'ack':!![]});try{const _0x2ffc5b=_0x2b48c1(0x13c),_0x3eefb3=await _0x138d02[_0x2b48c1(0x14b)](_0x2ffc5b);let _0x14f5ab=[];if(_0x3eefb3&&_0x3eefb3[_0x2b48c1(0xdd)])try{_0x14f5ab=JSON[_0x2b48c1(0xce)](_0x3eefb3[_0x2b48c1(0xdd)]);}catch(_0x3bf5a1){}_0x14f5ab[_0x2b48c1(0x18b)]({'ts':Date[_0x2b48c1(0x146)](),'msg':_0x3b08bd});if(_0x14f5ab['length']>0x32)_0x14f5ab=_0x14f5ab['slice'](0x0,0x32);await _0x138d02['setStateAsync'](_0x2ffc5b,{'val':JSON[_0x2b48c1(0x119)](_0x14f5ab),'ack':!![]});}catch(_0x5361e4){}}async function handlePrediction(_0x39e3cb,_0x594424,_0x367e04){const _0x4c4693=a1_0x34bce3;if(!_0x594424||_0x594424==='Unknown')return;let _0xd41cf1='off',_0x59c744=0.6;try{const _0x872291=await _0x39e3cb[_0x4c4693(0x14b)](_0x4c4693(0x187));if(_0x872291&&_0x872291[_0x4c4693(0xdd)])_0xd41cf1=_0x872291[_0x4c4693(0xdd)];const _0x45bbab=await _0x39e3cb['getStateAsync']('analysis.automation.confidenceThreshold');if(_0x45bbab&&_0x45bbab[_0x4c4693(0xdd)])_0x59c744=_0x45bbab['val'];}catch(_0x3bbd0b){}if(_0xd41cf1===_0x4c4693(0xfd)||_0x367e04<_0x59c744)return;const _0x4fa947=Date[_0x4c4693(0x146)]();if(lastActions[_0x594424]&&_0x4fa947-lastActions[_0x594424]<COOLDOWN_MS)return;const _0x42bdd2=_0x39e3cb[_0x4c4693(0x105)][_0x4c4693(0x133)]||[],_0x1a75fe=normalize(_0x594424),_0x3e7927=_0x42bdd2[_0x4c4693(0x15b)](_0x4063b8=>normalize(_0x4063b8[_0x4c4693(0x164)])===_0x1a75fe&&(_0x4063b8['type']===_0x4c4693(0x155)||_0x4063b8[_0x4c4693(0x107)]===_0x4c4693(0x154)||_0x4063b8[_0x4c4693(0x107)]===_0x4c4693(0xe0)));if(!_0x3e7927)return;const _0x18da4b=await aiAgent['consultButler'](_0x39e3cb,_0x594424,_0x3e7927['name'],_0x367e04);if(!_0x18da4b[_0x4c4693(0x17b)])return;const _0xb937f3=_0x4c4693(0x112)+_0x594424+_0x4c4693(0x17e)+_0x3e7927[_0x4c4693(0x156)]+'\x20('+_0x18da4b[_0x4c4693(0xeb)]+')';await logAutomationAction(_0x39e3cb,'['+_0xd41cf1[_0x4c4693(0xf6)]()+']\x20'+_0xb937f3);if(_0xd41cf1===_0x4c4693(0x117)){const _0x4a1fc5=await _0x39e3cb[_0x4c4693(0x180)](_0x3e7927['id']);(!_0x4a1fc5||!_0x4a1fc5[_0x4c4693(0xdd)]&&_0x4a1fc5['val']!==!![])&&await _0x39e3cb[_0x4c4693(0x16f)](_0x3e7927['id'],!![]),lastActions[_0x594424]=_0x4fa947;}}async function findRelatedId(_0x46abee,_0x48dbcb,_0x4c8db1='setpoint'){const _0x5e8e8c=a1_0x34bce3;if(_0x4c8db1===_0x5e8e8c(0xed)&&_0x46abee[_0x5e8e8c(0x105)]['thermostatMapping']){let _0x3c6366=_0x46abee['config'][_0x5e8e8c(0x17c)];if(typeof _0x3c6366===_0x5e8e8c(0xe4))try{_0x3c6366=JSON['parse'](_0x3c6366);}catch(_0x534c85){}if(_0x3c6366&&_0x3c6366[_0x48dbcb])return _0x3c6366[_0x48dbcb];}if(_0x4c8db1==='valve'&&_0x46abee[_0x5e8e8c(0x105)][_0x5e8e8c(0xf9)]){let _0x2492b5=_0x46abee[_0x5e8e8c(0x105)][_0x5e8e8c(0xf9)];if(typeof _0x2492b5===_0x5e8e8c(0xe4))try{_0x2492b5=JSON[_0x5e8e8c(0xce)](_0x2492b5);}catch(_0x5dc600){}if(_0x2492b5&&_0x2492b5[_0x48dbcb])return _0x2492b5[_0x48dbcb];}let _0x58027e=[];if(_0x4c8db1===_0x5e8e8c(0xed))_0x58027e=[{'s':_0x5e8e8c(0x12c),'t':_0x5e8e8c(0x161)},{'s':_0x5e8e8c(0xf2),'t':_0x5e8e8c(0x161)},{'s':_0x5e8e8c(0xf2),'t':'.4.SET_TEMPERATURE'},{'s':_0x5e8e8c(0x169),'t':_0x5e8e8c(0xcf)},{'s':_0x5e8e8c(0x100),'t':_0x5e8e8c(0xd2)},{'s':'local_temperature','t':_0x5e8e8c(0x11d)},{'s':_0x5e8e8c(0x176),'t':_0x5e8e8c(0xe8)},{'s':'ACTUAL','t':_0x5e8e8c(0x10a)},{'s':_0x5e8e8c(0x177),'t':'Soll'},{'s':'temperature','t':_0x5e8e8c(0xed)}];else _0x4c8db1===_0x5e8e8c(0xd1)&&(_0x58027e=[{'s':'.1.ACTUAL_TEMPERATURE','t':'.1.LEVEL'},{'s':'.1.TEMPERATURE','t':_0x5e8e8c(0x13b)},{'s':_0x5e8e8c(0xf2),'t':_0x5e8e8c(0x129)},{'s':_0x5e8e8c(0x100),'t':_0x5e8e8c(0xec)},{'s':_0x5e8e8c(0x176),'t':_0x5e8e8c(0x151)},{'s':'temperature','t':_0x5e8e8c(0x18c)}]);for(const _0x5dea5d of _0x58027e){if(_0x48dbcb[_0x5e8e8c(0xfc)](_0x5dea5d['s'])){const _0xd5a6c1=_0x48dbcb['replace'](_0x5dea5d['s'],_0x5dea5d['t']),_0x338da3=await _0x46abee[_0x5e8e8c(0xf3)](_0xd5a6c1);if(_0x338da3)return _0xd5a6c1;}}try{const _0x154873=_0x48dbcb[_0x5e8e8c(0x15f)]('.');if(_0x154873['length']>0x2){const _0x3a872f=_0x154873[_0x5e8e8c(0x11e)](0x0,-0x1)['join']('.'),_0x5cff80=await _0x46abee['getForeignObjectsAsync'](_0x3a872f+'.*'),_0x4affd4=[],_0x1512d8=_0x48dbcb[_0x5e8e8c(0x15f)](/[._]+/)[_0x5e8e8c(0x16d)](_0x20795d=>!['openknx','0',_0x5e8e8c(0x109),'ist',_0x5e8e8c(0x104),'temperature',_0x5e8e8c(0x121),'sensor',_0x5e8e8c(0xea),_0x5e8e8c(0x14d)][_0x5e8e8c(0xfc)](_0x20795d['toLowerCase']()));for(const [_0x521aef,_0x38bd64]of Object[_0x5e8e8c(0x11b)](_0x5cff80)){if(_0x521aef===_0x48dbcb)continue;if(_0x38bd64&&_0x38bd64[_0x5e8e8c(0x132)]){const _0x5912fb=_0x521aef[_0x5e8e8c(0x15a)](),_0x3cc220=(_0x38bd64[_0x5e8e8c(0x132)][_0x5e8e8c(0x171)]||'')['toLowerCase'](),_0x1a0eb6=(_0x38bd64['common']['unit']||'')['toLowerCase']();let _0x3b4cee=![];if(_0x4c8db1==='setpoint'&&_0x38bd64['common'][_0x5e8e8c(0x10d)]===!![])_0x3b4cee=_0x5912fb[_0x5e8e8c(0xfc)](_0x5e8e8c(0x125))||_0x5912fb[_0x5e8e8c(0xfc)](_0x5e8e8c(0x16b))||_0x5912fb[_0x5e8e8c(0xfc)](_0x5e8e8c(0x137))||_0x3cc220[_0x5e8e8c(0xfc)](_0x5e8e8c(0x12f))||_0x3cc220[_0x5e8e8c(0xfc)](_0x5e8e8c(0x157));else _0x4c8db1==='valve'&&(_0x3b4cee=_0x5912fb[_0x5e8e8c(0xfc)](_0x5e8e8c(0x18c))||_0x5912fb['includes'](_0x5e8e8c(0xd1))||_0x5912fb[_0x5e8e8c(0xfc)](_0x5e8e8c(0x183))||_0x5912fb[_0x5e8e8c(0xfc)](_0x5e8e8c(0x175))||_0x3cc220['includes']('level.valve')||_0x3cc220['includes'](_0x5e8e8c(0xcd))||_0x1a0eb6['includes']('%'));if(_0x3b4cee){const _0x3771e3=_0x521aef['split'](/[._]+/)[_0x5e8e8c(0xd9)](_0xda558a=>_0xda558a[_0x5e8e8c(0x15a)]());let _0x2817f7=0x0;_0x1512d8[_0x5e8e8c(0x167)](_0x38fb63=>{const _0x1d80a9=_0x5e8e8c;if(_0x3771e3[_0x1d80a9(0xfc)](_0x38fb63['toLowerCase']()))_0x2817f7++;}),_0x4affd4[_0x5e8e8c(0x159)]({'id':_0x521aef,'score':_0x2817f7});}}}if(_0x4affd4[_0x5e8e8c(0xe6)]>0x0){_0x4affd4[_0x5e8e8c(0xe5)]((_0x5d8f07,_0x36f59b)=>_0x36f59b[_0x5e8e8c(0xf8)]-_0x5d8f07[_0x5e8e8c(0xf8)]);if(_0x4affd4[0x0][_0x5e8e8c(0xf8)]>0x0)return _0x4affd4[0x0]['id'];}}}catch(_0x5a2988){}return null;}async function scanThermostats(_0x21d560){const _0x591ded=a1_0x34bce3,_0x2c138d=_0x21d560[_0x591ded(0x105)][_0x591ded(0x133)]||[],_0x4d78d2=[],_0x1d3413=_0x2c138d[_0x591ded(0x16d)](_0x2949fd=>_0x2949fd['id']&&_0x2949fd['id']['includes'](_0x591ded(0x176))||_0x2949fd['type']&&[_0x591ded(0x176),_0x591ded(0x149),'sensor']['includes'](_0x2949fd['type'])||_0x2949fd[_0x591ded(0x156)]&&_0x2949fd[_0x591ded(0x156)]['toLowerCase']()[_0x591ded(0xfc)](_0x591ded(0x166)));for(const _0x415a69 of _0x1d3413){const _0x34016c=await findRelatedId(_0x21d560,_0x415a69['id'],_0x591ded(0xed)),_0x2356ce=await findRelatedId(_0x21d560,_0x415a69['id'],'valve');let _0x3f29cf=_0x591ded(0x181),_0x4aedf2=![],_0x4f8d81=_0x21d560[_0x591ded(0x105)]['thermostatMapping']||{};if(typeof _0x4f8d81===_0x591ded(0xe4))try{_0x4f8d81=JSON[_0x591ded(0xce)](_0x4f8d81);}catch(_0x29eb50){}let _0x2a331b=_0x21d560[_0x591ded(0x105)][_0x591ded(0xf9)]||{};if(typeof _0x2a331b===_0x591ded(0xe4))try{_0x2a331b=JSON['parse'](_0x2a331b);}catch(_0x3483a3){}if(_0x4f8d81[_0x415a69['id']]&&_0x4f8d81[_0x415a69['id']]===_0x34016c||_0x2a331b[_0x415a69['id']]&&_0x2a331b[_0x415a69['id']]===_0x2356ce)_0x3f29cf=_0x591ded(0x16e),_0x4aedf2=!![];else(_0x34016c||_0x2356ce)&&(_0x3f29cf=_0x591ded(0x140));_0x4d78d2[_0x591ded(0x159)]({'room':_0x415a69['location']||_0x591ded(0x15e),'sensorId':_0x415a69['id'],'setpointId':_0x34016c||'-','valveId':_0x2356ce||'-','source':_0x3f29cf,'isManual':_0x4aedf2,'status':_0x34016c&&_0x2356ce?_0x591ded(0x13d):_0x34016c?'OK':_0x591ded(0x15d)});}return _0x4d78d2[_0x591ded(0xe5)]((_0x3af345,_0x1b93a1)=>_0x3af345[_0x591ded(0xf1)]['localeCompare'](_0x1b93a1['room']));}async function updateSchedulePreview(_0x1d6a66){const _0x599fc1=a1_0x34bce3;if(!_0x1d6a66[_0x599fc1(0x105)][_0x599fc1(0x10b)]||!_0x1d6a66['config'][_0x599fc1(0x136)])return;let _0x16be19={};try{const _0x29c619=await _0x1d6a66[_0x599fc1(0x14b)](_0x599fc1(0x163));if(_0x29c619&&_0x29c619[_0x599fc1(0xdd)])_0x16be19=JSON[_0x599fc1(0xce)](_0x29c619[_0x599fc1(0xdd)]);}catch(_0x30c1b8){}const _0x2662f7=[],_0x299fef=Date[_0x599fc1(0x146)](),_0x1b7e30=0x30*0x3c*0x3c*0x3e8;try{const _0x1a8842=await _0x1d6a66[_0x599fc1(0x180)](_0x1d6a66[_0x599fc1(0x105)][_0x599fc1(0x136)]+_0x599fc1(0x115));if(!_0x1a8842||!_0x1a8842['val'])return;const _0x1e250d=JSON['parse'](_0x1a8842['val']),_0x16b063=_0x1d6a66[_0x599fc1(0x105)]['calendarSelection']||[],_0x236fa0=_0x1d6a66['config'][_0x599fc1(0x133)]||[],_0x355c34=new Set();_0x236fa0[_0x599fc1(0x167)](_0x283bb2=>{const _0x535d0f=_0x599fc1;if(_0x283bb2[_0x535d0f(0x164)])_0x355c34['add'](_0x283bb2[_0x535d0f(0x164)]);});for(const _0x1bb36d of _0x1e250d){if(_0x1bb36d['_calName']&&_0x16b063[_0x599fc1(0xe6)]>0x0&&!_0x16b063['includes'](_0x1bb36d['_calName']))continue;const _0x14da1c=_0x1bb36d[_0x599fc1(0x186)]||_0x1bb36d[_0x599fc1(0x152)]||_0x1bb36d['date'];if(!_0x14da1c)continue;const _0x2de46c=new Date(_0x14da1c),_0x34ea3e=_0x2de46c[_0x599fc1(0x130)]();if(isNaN(_0x34ea3e))continue;if(_0x34ea3e<_0x299fef)continue;if(_0x34ea3e>_0x299fef+_0x1b7e30)continue;const _0x53d031=(_0x1bb36d['event']||_0x1bb36d[_0x599fc1(0x174)]||'')[_0x599fc1(0x15a)]();let _0x29d3f8=![],_0x3972c9=[],_0x5ead1c=_0x1bb36d[_0x599fc1(0x126)]||_0x1bb36d[_0x599fc1(0x174)]||_0x599fc1(0x15e);if(_0x53d031['includes'](_0x599fc1(0xda))||_0x53d031['includes'](_0x599fc1(0xf5))||_0x53d031['includes'](_0x599fc1(0x142)))_0x29d3f8=!![],_0x3972c9=Array[_0x599fc1(0x16c)](_0x355c34);else for(const _0x22c0d8 of _0x355c34){if(_0x53d031[_0x599fc1(0xfc)](_0x22c0d8['toLowerCase']()))_0x3972c9[_0x599fc1(0x159)](_0x22c0d8);}_0x3972c9['length']>0x0&&_0x3972c9[_0x599fc1(0x167)](_0x1b055e=>{const _0x54c804=_0x599fc1;let _0x4f8933=0x3c;if(_0x29d3f8){let _0xd4f3a8=0x0;Object[_0x54c804(0x18a)](_0x16be19)[_0x54c804(0x167)](_0x23dd1b=>{if(_0x23dd1b>_0xd4f3a8)_0xd4f3a8=_0x23dd1b;}),_0x4f8933=_0xd4f3a8>0x0?_0xd4f3a8:0x78;}else _0x4f8933=getWarmupRobust(_0x16be19,_0x1b055e);const _0x48f090=new Date(_0x34ea3e-_0x4f8933*0xea60);_0x2662f7[_0x54c804(0x159)]({'eventTime':_0x34ea3e,'triggerTime':_0x48f090['getTime'](),'room':_0x1b055e,'minutes':_0x4f8933,'reason':_0x5ead1c,'isGlobal':_0x29d3f8});});}}catch(_0x271726){}_0x2662f7[_0x599fc1(0xe5)]((_0x43422e,_0x303788)=>_0x43422e[_0x599fc1(0xf7)]-_0x303788['triggerTime']);const _0x242592=_0x2662f7[_0x599fc1(0x11e)](0x0,0x1e);await _0x1d6a66[_0x599fc1(0x12d)](_0x599fc1(0x139),{'val':JSON['stringify'](_0x242592),'ack':!![]});}async function monitorEnforcements(_0x10ffb8){const _0x41ffea=a1_0x34bce3;try{const _0x4b21d7=_0x41ffea(0xfe),_0x106002=await _0x10ffb8[_0x41ffea(0x14b)](_0x4b21d7);if(!_0x106002||!_0x106002[_0x41ffea(0xdd)])return;let _0x11423f=[];try{_0x11423f=JSON[_0x41ffea(0xce)](_0x106002[_0x41ffea(0xdd)]);}catch(_0x446749){return;}if(!Array['isArray'](_0x11423f)||_0x11423f['length']===0x0)return;const _0x1b0f95=Date[_0x41ffea(0x146)](),_0x2bbefb=_0x10ffb8['config'][_0x41ffea(0x133)]||[];let _0x547c6f=![];for(let _0x5de3a1=_0x11423f[_0x41ffea(0xe6)]-0x1;_0x5de3a1>=0x0;_0x5de3a1--){const _0x767785=_0x11423f[_0x5de3a1];if(_0x1b0f95>=_0x767785['until']){_0x10ffb8[_0x41ffea(0xdc)]['info']('üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20'+_0x767785[_0x41ffea(0xf1)]+'\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.'),_0x11423f[_0x41ffea(0x13e)](_0x5de3a1,0x1),_0x547c6f=!![];continue;}const _0x26f479=_0x2bbefb[_0x41ffea(0x15b)](_0x53c837=>normalize(_0x53c837[_0x41ffea(0x164)])===normalize(_0x767785[_0x41ffea(0xf1)])&&(_0x53c837[_0x41ffea(0x107)]===_0x41ffea(0x176)||_0x53c837[_0x41ffea(0x107)]==='thermostat'));if(_0x26f479){const _0x3d81cf=await findRelatedId(_0x10ffb8,_0x26f479['id'],_0x41ffea(0xed));if(_0x3d81cf){const _0x2057af=await _0x10ffb8[_0x41ffea(0x180)](_0x3d81cf);_0x2057af&&typeof _0x2057af['val']===_0x41ffea(0x141)&&(_0x2057af[_0x41ffea(0xdd)]<0xf&&(_0x10ffb8[_0x41ffea(0xdc)][_0x41ffea(0x114)](_0x41ffea(0x184)+_0x767785[_0x41ffea(0xf1)]+'\x20auf\x20'+_0x2057af['val']+_0x41ffea(0x113)+_0x767785[_0x41ffea(0x137)]+_0x41ffea(0x170)),await _0x10ffb8['setForeignStateAsync'](_0x3d81cf,_0x767785[_0x41ffea(0x137)]),await logAutomationAction(_0x10ffb8,_0x41ffea(0x120)+_0x767785[_0x41ffea(0xf1)]+':\x20'+_0x2057af['val']+_0x41ffea(0x106)+_0x767785['target']+_0x41ffea(0xf4))));}}}_0x547c6f&&await _0x10ffb8['setStateAsync'](_0x4b21d7,{'val':JSON[_0x41ffea(0x119)](_0x11423f),'ack':!![]});}catch(_0x2e3b83){_0x10ffb8[_0x41ffea(0xdc)][_0x41ffea(0x108)](_0x41ffea(0x131)+_0x2e3b83[_0x41ffea(0x165)]);}}async function checkCalendarTriggers(_0x407a17){const _0x2ec6be=a1_0x34bce3;if(!_0x407a17[_0x2ec6be(0x105)]['useCalendar']||!_0x407a17[_0x2ec6be(0x105)]['calendarInstance'])return;await updateSchedulePreview(_0x407a17);let _0x1725f8={},_0x5ae88c={};try{const _0x3ed30b=await _0x407a17[_0x2ec6be(0x14b)](_0x2ec6be(0x163));if(_0x3ed30b&&_0x3ed30b[_0x2ec6be(0xdd)])_0x1725f8=JSON[_0x2ec6be(0xce)](_0x3ed30b[_0x2ec6be(0xdd)]);const _0x5df605=await _0x407a17['getStateAsync'](_0x2ec6be(0x111));if(_0x5df605&&_0x5df605[_0x2ec6be(0xdd)])_0x5ae88c=JSON[_0x2ec6be(0xce)](_0x5df605[_0x2ec6be(0xdd)]);}catch(_0x1cf67e){}let _0x48886b={'default':0x15};try{const _0x1465f4=await _0x407a17[_0x2ec6be(0x14b)](_0x2ec6be(0xe1));if(_0x1465f4&&_0x1465f4[_0x2ec6be(0xdd)])_0x48886b=JSON[_0x2ec6be(0xce)](_0x1465f4['val']);}catch(_0xba413d){}let _0x4cdfcd=[];try{const _0x4d2bcb=await _0x407a17[_0x2ec6be(0x14b)](_0x2ec6be(0xfe));if(_0x4d2bcb&&_0x4d2bcb['val'])_0x4cdfcd=JSON[_0x2ec6be(0xce)](_0x4d2bcb[_0x2ec6be(0xdd)]);}catch(_0x5320d5){}try{const _0x23b248=await _0x407a17[_0x2ec6be(0x180)](_0x407a17['config']['calendarInstance']+'.data.table');if(!_0x23b248||!_0x23b248['val'])return;const _0x1232cd=JSON[_0x2ec6be(0xce)](_0x23b248[_0x2ec6be(0xdd)]),_0x514a95=Date[_0x2ec6be(0x146)](),_0x31d958=_0x407a17[_0x2ec6be(0x105)][_0x2ec6be(0x133)]||[],_0x16b03c=_0x407a17[_0x2ec6be(0x105)][_0x2ec6be(0x14c)]||[];let _0x52ab5c=![];for(const _0x49b3e4 of _0x1232cd){if(_0x49b3e4[_0x2ec6be(0xff)]&&_0x16b03c[_0x2ec6be(0xe6)]>0x0&&!_0x16b03c[_0x2ec6be(0xfc)](_0x49b3e4['_calName']))continue;const _0x3e179c=_0x49b3e4[_0x2ec6be(0x186)]||_0x49b3e4[_0x2ec6be(0x152)]||_0x49b3e4['date'];if(!_0x3e179c)continue;const _0x423708=new Date(_0x3e179c);if(isNaN(_0x423708['getTime']()))continue;const _0x32f221=(_0x49b3e4[_0x2ec6be(0x126)]||_0x49b3e4[_0x2ec6be(0x174)]||'')['toLowerCase']();if(_0x32f221[_0x2ec6be(0xfc)](_0x2ec6be(0xda))||_0x32f221[_0x2ec6be(0xfc)]('r√ºckkehr')||_0x32f221[_0x2ec6be(0xfc)](_0x2ec6be(0x142))){let _0x423a9d=0x0;Object[_0x2ec6be(0x18a)](_0x1725f8)[_0x2ec6be(0x167)](_0x4859bf=>{if(_0x4859bf>_0x423a9d)_0x423a9d=_0x4859bf;});if(_0x423a9d===0x0)_0x423a9d=0x78;const _0x4fcfbb=_0x423708[_0x2ec6be(0x130)]()-_0x423a9d*0xea60;_0x514a95>=_0x4fcfbb&&_0x514a95<_0x423708[_0x2ec6be(0x130)]()&&(_0x407a17[_0x2ec6be(0x173)]!==_0x2ec6be(0x102)&&(_0x407a17['log'][_0x2ec6be(0xe9)](_0x2ec6be(0x178)+_0x423a9d+_0x2ec6be(0xdf)),await _0x407a17[_0x2ec6be(0x12d)]('system.mode',{'val':_0x2ec6be(0x102),'ack':![]})));}for(const _0x579b8e of _0x31d958){if(_0x579b8e[_0x2ec6be(0x164)]){const _0x2be411=_0x579b8e[_0x2ec6be(0x164)][_0x2ec6be(0x15a)](),_0xfc28b2=(_0x579b8e[_0x2ec6be(0x156)]||'')['toLowerCase']();let _0x54f921=_0x32f221[_0x2ec6be(0xfc)](_0x2be411);!_0x54f921&&_0xfc28b2[_0x2ec6be(0xe6)]>0x3&&_0x32f221[_0x2ec6be(0xfc)](_0xfc28b2)&&(_0x54f921=!![]);if(_0x54f921){const _0x4b0005=getWarmupRobust(_0x1725f8,_0x579b8e[_0x2ec6be(0x164)]),_0x47a989=_0x5ae88c[_0x579b8e[_0x2ec6be(0x164)]]||'Classic',_0x544890=_0x423708[_0x2ec6be(0x130)]()-_0x4b0005*0xea60;if(_0x514a95>=_0x544890&&_0x514a95<_0x423708[_0x2ec6be(0x130)]()){const _0x3ec14b=lastActions[_0x2ec6be(0xd4)+_0x579b8e[_0x2ec6be(0x164)]];if(_0x3ec14b&&_0x514a95-_0x3ec14b<CAL_COOLDOWN_MS)continue;const _0x25216=await findRelatedId(_0x407a17,_0x579b8e['id'],_0x2ec6be(0xed));if(_0x25216){let _0x43de6d=_0x48886b[_0x579b8e[_0x2ec6be(0x164)]];if(_0x43de6d===undefined)_0x43de6d=_0x48886b['default'];if(_0x43de6d===undefined)_0x43de6d=0x15;const _0x412c42=await _0x407a17[_0x2ec6be(0x180)](_0x25216);if(_0x412c42&&typeof _0x412c42[_0x2ec6be(0xdd)]===_0x2ec6be(0x141)&&_0x412c42[_0x2ec6be(0xdd)]<_0x43de6d-0.5){_0x407a17[_0x2ec6be(0xdc)][_0x2ec6be(0xe9)](_0x2ec6be(0x160)+_0x47a989+_0x2ec6be(0x172)+_0x579b8e[_0x2ec6be(0x164)]+_0x2ec6be(0xfb)+_0x32f221+')\x20aktiv.\x20Heize\x20auf\x20'+_0x43de6d+'¬∞C\x20(Vorlauf:\x20'+_0x4b0005+_0x2ec6be(0xdf)),await _0x407a17[_0x2ec6be(0x16f)](_0x25216,_0x43de6d),await logAutomationAction(_0x407a17,'[CAL]\x20'+_0x579b8e[_0x2ec6be(0x164)]+_0x2ec6be(0xd6)+_0x43de6d+_0x2ec6be(0x101)+_0x47a989+')'),lastActions[_0x2ec6be(0xd4)+_0x579b8e[_0x2ec6be(0x164)]]=_0x514a95;const _0x502ea1=_0x4cdfcd[_0x2ec6be(0xe2)](_0xf5efdc=>_0xf5efdc[_0x2ec6be(0xf1)]===_0x579b8e[_0x2ec6be(0x164)]);if(_0x502ea1!==-0x1)_0x4cdfcd['splice'](_0x502ea1,0x1);_0x4cdfcd['push']({'room':_0x579b8e[_0x2ec6be(0x164)],'target':_0x43de6d,'until':_0x423708[_0x2ec6be(0x130)]()}),_0x52ab5c=!![];}}}}}}}_0x52ab5c&&await _0x407a17[_0x2ec6be(0x12d)](_0x2ec6be(0xfe),{'val':JSON['stringify'](_0x4cdfcd),'ack':!![]});}catch(_0x2f3b75){_0x407a17[_0x2ec6be(0xdc)][_0x2ec6be(0x114)](_0x2ec6be(0x179)+_0x2f3b75[_0x2ec6be(0x165)]);}}async function manageMpcIntervention(_0x4226d6,_0x8994c8,_0x589eaf){const _0x3d64a9=a1_0x34bce3;try{const _0x404b92=_0x3d64a9(0x16a),_0x360f67=await _0x4226d6[_0x3d64a9(0x14b)](_0x404b92);let _0x1a1bae=[];if(_0x360f67&&_0x360f67[_0x3d64a9(0xdd)])try{_0x1a1bae=JSON[_0x3d64a9(0xce)](_0x360f67[_0x3d64a9(0xdd)]);}catch(_0x13e304){}const _0x131744=_0x1a1bae[_0x3d64a9(0x143)](_0x8994c8);if(_0x589eaf===_0x3d64a9(0x185))_0x131744===-0x1&&(_0x1a1bae[_0x3d64a9(0x159)](_0x8994c8),await _0x4226d6[_0x3d64a9(0x12d)](_0x404b92,{'val':JSON[_0x3d64a9(0x119)](_0x1a1bae),'ack':!![]}));else _0x589eaf===_0x3d64a9(0x134)&&(_0x131744!==-0x1&&(_0x1a1bae[_0x3d64a9(0x13e)](_0x131744,0x1),await _0x4226d6[_0x3d64a9(0x12d)](_0x404b92,{'val':JSON[_0x3d64a9(0x119)](_0x1a1bae),'ack':!![]})));}catch(_0x1aca24){}}async function cleanupGhostInterventions(_0x471376){const _0x56eb2b=a1_0x34bce3;try{const _0xfae57a=_0x56eb2b(0x16a),_0x335176=await _0x471376[_0x56eb2b(0x14b)](_0xfae57a);if(!_0x335176||!_0x335176[_0x56eb2b(0xdd)])return;const _0x47f1d3=JSON[_0x56eb2b(0xce)](_0x335176[_0x56eb2b(0xdd)]);if(!Array[_0x56eb2b(0x116)](_0x47f1d3)||_0x47f1d3[_0x56eb2b(0xe6)]===0x0)return;let _0x5b977d={'default':0x15};try{const _0xebc41f=await _0x471376[_0x56eb2b(0x14b)](_0x56eb2b(0xe1));if(_0xebc41f&&_0xebc41f[_0x56eb2b(0xdd)])_0x5b977d=JSON['parse'](_0xebc41f[_0x56eb2b(0xdd)]);}catch(_0x916330){}let _0x448c85=[];try{const _0x1307a5=await _0x471376[_0x56eb2b(0x14b)]('analysis.energy.ventilationAlerts');if(_0x1307a5&&_0x1307a5[_0x56eb2b(0xdd)])_0x448c85=JSON[_0x56eb2b(0xce)](_0x1307a5[_0x56eb2b(0xdd)]);}catch(_0x1c4326){}let _0x57a123={},_0x3a761f=![];try{const _0x2daee3=await _0x471376['getStateAsync'](_0x56eb2b(0x150));if(_0x2daee3&&_0x2daee3[_0x56eb2b(0xdd)])_0x57a123=JSON['parse'](_0x2daee3[_0x56eb2b(0xdd)]);}catch(_0x5d299f){}if(_0x57a123[_0x56eb2b(0xcc)]){const _0x18c77f=Date[_0x56eb2b(0x146)]();for(const [_0x1de5dd,_0x5b1925]of Object[_0x56eb2b(0x11b)](_0x57a123['_meta'])){_0x18c77f-_0x5b1925>PENALTY_TTL&&(delete _0x57a123[_0x1de5dd],delete _0x57a123['_meta'][_0x1de5dd],_0x3a761f=!![],_0x471376[_0x56eb2b(0xdc)][_0x56eb2b(0xe9)](_0x56eb2b(0x11c)+_0x1de5dd+_0x56eb2b(0x13f)));}}const _0x5bb507=_0x471376[_0x56eb2b(0x105)]['devices']||[];let _0x482c56=![];for(let _0x1cd557=_0x47f1d3[_0x56eb2b(0xe6)]-0x1;_0x1cd557>=0x0;_0x1cd557--){const _0x512f60=_0x47f1d3[_0x1cd557],_0xf34df4=_0x5bb507['find'](_0x16e3fa=>normalize(_0x16e3fa[_0x56eb2b(0x164)])===normalize(_0x512f60)&&(_0x16e3fa['type']===_0x56eb2b(0x176)||_0x16e3fa[_0x56eb2b(0x107)]===_0x56eb2b(0x149)));if(!_0xf34df4){_0x471376[_0x56eb2b(0xdc)][_0x56eb2b(0x114)](_0x56eb2b(0x168)+_0x512f60+_0x56eb2b(0xe7)),_0x47f1d3['splice'](_0x1cd557,0x1),_0x482c56=!![];continue;}if(_0xf34df4){const _0x176dde=await findRelatedId(_0x471376,_0xf34df4['id'],_0x56eb2b(0xed)),_0x17d896=await _0x471376[_0x56eb2b(0x180)](_0xf34df4['id']);if(_0x176dde){const _0x121ba1=await _0x471376[_0x56eb2b(0x180)](_0x176dde);if(_0x121ba1&&typeof _0x121ba1[_0x56eb2b(0xdd)]===_0x56eb2b(0x141)){let _0xfce1ef=![],_0x2758fd='';Math['abs'](_0x121ba1[_0x56eb2b(0xdd)]-ECO_TEMP)>0.5&&(_0xfce1ef=!![],_0x2758fd=_0x56eb2b(0x110));if(!_0xfce1ef&&_0x17d896&&typeof _0x17d896['val']===_0x56eb2b(0x141)){const _0x295e63=_0x5b977d[_0x512f60]||_0x5b977d[_0x56eb2b(0x138)]||0x15;_0x17d896[_0x56eb2b(0xdd)]<_0x295e63+0.2&&(_0xfce1ef=!![],_0x2758fd='too_cold');}if(_0xfce1ef){if(_0x2758fd===_0x56eb2b(0x110)){_0x471376[_0x56eb2b(0xdc)]['info']('üßπ\x20[MPC\x20CLEANUP]\x20'+_0x512f60+_0x56eb2b(0x10c)+_0x121ba1[_0x56eb2b(0xdd)]+_0x56eb2b(0x17d)+ECO_TEMP+'¬∞C).\x20Entferne\x20Status.');const _0x15412e=lastActions[_0x56eb2b(0xd4)+_0x512f60],_0x27c880=_0x15412e&&Date['now']()-_0x15412e<0x2*0x3c*0x3e8;if(!_0x27c880&&_0x121ba1[_0x56eb2b(0xdd)]>ECO_TEMP+0.5){_0x471376[_0x56eb2b(0x145)]&&(_0x471376['log'][_0x56eb2b(0xe9)](_0x56eb2b(0x182)+_0x512f60+_0x56eb2b(0x12b)),_0x471376[_0x56eb2b(0x145)](_0x56eb2b(0xf0),{'room':_0x512f60}));const _0x528acc=_0x512f60+'_'+new Date()[_0x56eb2b(0x123)]();if(!_0x57a123[_0x528acc]){_0x57a123[_0x528acc]=0x1;if(!_0x57a123[_0x56eb2b(0xcc)])_0x57a123[_0x56eb2b(0xcc)]={};_0x57a123['_meta'][_0x528acc]=Date[_0x56eb2b(0x146)](),_0x3a761f=!![];}}else _0x27c880&&_0x471376[_0x56eb2b(0xdc)]['info'](_0x56eb2b(0x12e)+_0x512f60+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x2758fd===_0x56eb2b(0x128)){let _0x7fd7b3=![];if(_0x448c85[_0x56eb2b(0x15b)](_0x58bc60=>_0x58bc60[_0x56eb2b(0xf1)]===_0x512f60))_0x7fd7b3=!![];const _0x4ba8f6=_0x5bb507['filter'](_0x552231=>normalize(_0x552231[_0x56eb2b(0x164)])===normalize(_0x512f60)&&(_0x552231[_0x56eb2b(0x107)]===_0x56eb2b(0xd7)||_0x552231[_0x56eb2b(0x107)]===_0x56eb2b(0x162)||_0x552231[_0x56eb2b(0x107)]===_0x56eb2b(0x148)));for(const _0x34656e of _0x4ba8f6){try{const _0x5cd3c6=await _0x471376[_0x56eb2b(0x180)](_0x34656e['id']);if(_0x5cd3c6&&(_0x5cd3c6[_0x56eb2b(0xdd)]===!![]||_0x5cd3c6[_0x56eb2b(0xdd)]===0x1||String(_0x5cd3c6[_0x56eb2b(0xdd)])[_0x56eb2b(0x15a)]()===_0x56eb2b(0x11a)))_0x7fd7b3=!![];}catch(_0x30a543){}}if(_0x7fd7b3)_0x471376[_0x56eb2b(0xdc)][_0x56eb2b(0xe9)]('üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20'+_0x512f60+_0x56eb2b(0x188));else{const _0x392a1b=_0x5b977d[_0x512f60]||_0x5b977d[_0x56eb2b(0x138)]||0x15;_0x471376[_0x56eb2b(0xdc)][_0x56eb2b(0xe9)](_0x56eb2b(0xfa)+_0x512f60+_0x56eb2b(0x153)+_0x17d896[_0x56eb2b(0xdd)]+'¬∞C\x20<\x20'+(_0x392a1b+0.2)+_0x56eb2b(0xd8)),await _0x471376[_0x56eb2b(0x16f)](_0x176dde,_0x392a1b),await logAutomationAction(_0x471376,'[WATCHDOG]\x20'+_0x512f60+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x392a1b+'¬∞C'),lastActions[_0x56eb2b(0x10f)+_0x512f60]=Date[_0x56eb2b(0x146)]();}}}_0x47f1d3[_0x56eb2b(0x13e)](_0x1cd557,0x1),_0x482c56=!![];}}}}}_0x482c56&&await _0x471376[_0x56eb2b(0x12d)](_0xfae57a,{'val':JSON[_0x56eb2b(0x119)](_0x47f1d3),'ack':!![]}),_0x3a761f&&await _0x471376[_0x56eb2b(0x12d)](_0x56eb2b(0x150),{'val':JSON[_0x56eb2b(0x119)](_0x57a123),'ack':!![]});}catch(_0x14f714){}}async function applyEnergySavings(_0xc6a75b,_0x1c66ec){const _0x4d429c=a1_0x34bce3;await cleanupGhostInterventions(_0xc6a75b);if(!_0x1c66ec||_0x1c66ec[_0x4d429c(0xe6)]===0x0)return;const _0x4d23f9=_0xc6a75b['config']['devices']||[],_0x36b200=Date[_0x4d429c(0x146)]();for(const _0x201536 of _0x1c66ec){const _0x2d1657=_0x201536[_0x4d429c(0xf1)],_0x4cf5e3=_0x201536[_0x4d429c(0xee)],_0x218fd7=_0x201536['target']||0x15;if(lastActions['rescue_'+_0x2d1657]&&_0x36b200-lastActions['rescue_'+_0x2d1657]<RESCUE_LOCK_MS)continue;const _0x3765d1=_0x4d23f9[_0x4d429c(0x15b)](_0x549c00=>normalize(_0x549c00[_0x4d429c(0x164)])===normalize(_0x2d1657)&&(_0x549c00['type']===_0x4d429c(0x176)||_0x549c00[_0x4d429c(0x107)]===_0x4d429c(0x149)));if(!_0x3765d1)continue;const _0xe2be11=await findRelatedId(_0xc6a75b,_0x3765d1['id'],_0x4d429c(0xed));if(_0xe2be11){if(lastActions['mpc_'+_0x2d1657]&&_0x36b200-lastActions['mpc_'+_0x2d1657]<0x1e*0x3c*0x3e8)continue;const _0x4e3a9c=await _0xc6a75b['getForeignStateAsync'](_0xe2be11);if(_0x4e3a9c&&typeof _0x4e3a9c[_0x4d429c(0xdd)]===_0x4d429c(0x141)){const _0x131eed=_0x4e3a9c[_0x4d429c(0xdd)];_0x131eed!==ECO_TEMP&&await manageMpcIntervention(_0xc6a75b,_0x2d1657,'remove');if(_0x4cf5e3>0x1e)_0x131eed>ECO_TEMP+0.5&&(_0xc6a75b[_0x4d429c(0xdc)][_0x4d429c(0xe9)](_0x4d429c(0x118)+_0x2d1657+'\x20auf\x20'+ECO_TEMP+_0x4d429c(0x127)+_0x4cf5e3+_0x4d429c(0x122)),await _0xc6a75b[_0x4d429c(0x16f)](_0xe2be11,ECO_TEMP),await manageMpcIntervention(_0xc6a75b,_0x2d1657,_0x4d429c(0x185)),lastActions['mpc_'+_0x2d1657]=_0x36b200,await logAutomationAction(_0xc6a75b,_0x4d429c(0xde)+_0x2d1657+_0x4d429c(0x14f)+ECO_TEMP+'¬∞C'));else _0x4cf5e3<=0xf&&(_0x131eed<_0x218fd7&&(_0xc6a75b[_0x4d429c(0xdc)]['info'](_0x4d429c(0x189)+_0x2d1657+'\x20wieder\x20auf\x20'+_0x218fd7+_0x4d429c(0xd5)),await _0xc6a75b[_0x4d429c(0x16f)](_0xe2be11,_0x218fd7),await manageMpcIntervention(_0xc6a75b,_0x2d1657,_0x4d429c(0x134)),lastActions[_0x4d429c(0x17f)+_0x2d1657]=_0x36b200,await logAutomationAction(_0xc6a75b,_0x4d429c(0xde)+_0x2d1657+_0x4d429c(0x11f)+_0x218fd7+'¬∞C')));}}else _0xc6a75b[_0x4d429c(0xdc)][_0x4d429c(0x114)](_0x4d429c(0x15c)+_0x2d1657+_0x4d429c(0xd3));}}module[a1_0x34bce3(0x144)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};