const a1_0x6223e2=a1_0x4ead;(function(_0x514b99,_0x3f32ce){const _0x149e21=a1_0x4ead,_0x4634a7=_0x514b99();while(!![]){try{const _0x42baf6=parseInt(_0x149e21(0x145))/0x1+-parseInt(_0x149e21(0x13b))/0x2+-parseInt(_0x149e21(0x144))/0x3+parseInt(_0x149e21(0x12b))/0x4*(parseInt(_0x149e21(0x134))/0x5)+-parseInt(_0x149e21(0x13c))/0x6+-parseInt(_0x149e21(0x138))/0x7+parseInt(_0x149e21(0x124))/0x8;if(_0x42baf6===_0x3f32ce)break;else _0x4634a7['push'](_0x4634a7['shift']());}catch(_0x40c634){_0x4634a7['push'](_0x4634a7['shift']());}}}(a1_0x5e43,0x71d7c));const a1_0x49890a=(function(){let _0x58a69f=!![];return function(_0x1cd386,_0x5cd9ae){const _0x26a48e=_0x58a69f?function(){const _0x5e23f4=a1_0x4ead;if(_0x5cd9ae){const _0x11b672=_0x5cd9ae[_0x5e23f4(0x130)](_0x1cd386,arguments);return _0x5cd9ae=null,_0x11b672;}}:function(){};return _0x58a69f=![],_0x26a48e;};}()),a1_0x52c13c=a1_0x49890a(this,function(){const _0x47d10e=a1_0x4ead;return a1_0x52c13c[_0x47d10e(0x132)]()['search'](_0x47d10e(0x14e))[_0x47d10e(0x132)]()['constructor'](a1_0x52c13c)[_0x47d10e(0x149)]('(((.+)+)+)+$');});a1_0x52c13c();function a1_0x5e43(){const _0x4d4cd2=['analysis.automation.lastAction','1481928XGDAfV','80762mjfBQq','\x20->\x20Schalte\x20','ðŸ¤–\x20Butler\x20Blocked:\x20','simulate','search','approved','ðŸ‘€\x20SIMULATION:\x20','setStateAsync','ðŸ”\x20Device-Search\x20failed:\x20Predicted\x20\x27','(((.+)+)+)+$','analysis.automation.mode','âš¡\x20ACTION:\x20','now','log','getStateAsync','PrÃ¤diktion:\x20','type','setForeignStateAsync','13735664ncokGg','active','toLowerCase','val','location','\x20->\x20','devices','1908MGyXKK','debug','\x27),\x20but\x20found\x20no\x20matching\x20light\x20device.','off','analysis.automation.confidenceThreshold','apply','name','toString','[BLOCKED]\x20','6175VAhdqe','./ai_agent','reason','toUpperCase','4092368oguFKH','find','consultButler','699528XmFQLy','2952906CivkPY','\x27\x20(norm:\x20\x27','info','trim','config','replace','dimmer'];a1_0x5e43=function(){return _0x4d4cd2;};return a1_0x5e43();}'use strict';const aiAgent=require(a1_0x6223e2(0x135)),COOLDOWN_MS=0x3c*0x3e8,lastActions={};function normalize(_0x94158d){const _0x1bb77e=a1_0x6223e2;if(!_0x94158d)return'';return _0x94158d[_0x1bb77e(0x126)]()[_0x1bb77e(0x141)](/\s+/g,'')[_0x1bb77e(0x13f)]();}async function handlePrediction(_0x564a2d,_0x3a04c8,_0x62253e){const _0x5e2d0e=a1_0x6223e2;if(!_0x3a04c8||_0x3a04c8==='Unknown')return;let _0x17d04c=_0x5e2d0e(0x12e),_0x5b8c1a=0.6;try{const _0x314322=await _0x564a2d['getStateAsync'](_0x5e2d0e(0x14f));if(_0x314322&&_0x314322[_0x5e2d0e(0x127)])_0x17d04c=_0x314322[_0x5e2d0e(0x127)];const _0x2cbe79=await _0x564a2d[_0x5e2d0e(0x153)](_0x5e2d0e(0x12f));if(_0x2cbe79&&_0x2cbe79['val'])_0x5b8c1a=_0x2cbe79[_0x5e2d0e(0x127)];}catch(_0x4a3864){}if(_0x17d04c===_0x5e2d0e(0x12e))return;if(_0x62253e<_0x5b8c1a)return;const _0x594d98=Date[_0x5e2d0e(0x151)]();if(lastActions[_0x3a04c8]&&_0x594d98-lastActions[_0x3a04c8]<COOLDOWN_MS)return;const _0x51a619=_0x564a2d[_0x5e2d0e(0x140)][_0x5e2d0e(0x12a)]||[],_0x398082=normalize(_0x3a04c8),_0x3fb031=_0x51a619[_0x5e2d0e(0x139)](_0x33588f=>{const _0x5cc794=_0x5e2d0e;return normalize(_0x33588f[_0x5cc794(0x128)])===_0x398082&&(_0x33588f[_0x5cc794(0x155)]==='light'||_0x33588f[_0x5cc794(0x155)]===_0x5cc794(0x142)||_0x33588f[_0x5cc794(0x155)]==='switch');});if(!_0x3fb031){const _0x3e9b9d=_0x5e2d0e(0x14d)+_0x3a04c8+_0x5e2d0e(0x13d)+_0x398082+_0x5e2d0e(0x12d);_0x564a2d[_0x5e2d0e(0x152)][_0x5e2d0e(0x12c)](_0x3e9b9d);return;}const _0x1a556c=await aiAgent[_0x5e2d0e(0x13a)](_0x564a2d,_0x3a04c8,_0x3fb031[_0x5e2d0e(0x131)],_0x62253e);if(!_0x1a556c[_0x5e2d0e(0x14a)]){_0x564a2d[_0x5e2d0e(0x152)][_0x5e2d0e(0x12c)](_0x5e2d0e(0x147)+_0x3a04c8+_0x5e2d0e(0x129)+_0x1a556c[_0x5e2d0e(0x136)]),await _0x564a2d['setStateAsync'](_0x5e2d0e(0x143),{'val':_0x5e2d0e(0x133)+_0x1a556c['reason'],'ack':!![]});return;}const _0x1bb044=_0x5e2d0e(0x154)+_0x3a04c8+_0x5e2d0e(0x146)+_0x3fb031[_0x5e2d0e(0x131)]+'\x20('+_0x1a556c[_0x5e2d0e(0x136)]+')';await _0x564a2d[_0x5e2d0e(0x14c)](_0x5e2d0e(0x143),{'val':'['+_0x17d04c[_0x5e2d0e(0x137)]()+']\x20'+_0x1bb044,'ack':!![]});if(_0x17d04c===_0x5e2d0e(0x148))_0x564a2d[_0x5e2d0e(0x152)][_0x5e2d0e(0x13e)](_0x5e2d0e(0x14b)+_0x1bb044);else{if(_0x17d04c===_0x5e2d0e(0x125)){_0x564a2d[_0x5e2d0e(0x152)][_0x5e2d0e(0x13e)](_0x5e2d0e(0x150)+_0x1bb044);const _0x57fe35=await _0x564a2d['getForeignStateAsync'](_0x3fb031['id']);if(_0x57fe35&&(_0x57fe35[_0x5e2d0e(0x127)]===!![]||_0x57fe35[_0x5e2d0e(0x127)]>0x0)){}else await _0x564a2d[_0x5e2d0e(0x156)](_0x3fb031['id'],!![]);lastActions[_0x3a04c8]=_0x594d98;}}}function a1_0x4ead(_0x335175,_0x5764cd){const _0x32018e=a1_0x5e43();return a1_0x4ead=function(_0x52c13c,_0x49890a){_0x52c13c=_0x52c13c-0x124;let _0x5e43f0=_0x32018e[_0x52c13c];return _0x5e43f0;},a1_0x4ead(_0x335175,_0x5764cd);}module['exports']={'handlePrediction':handlePrediction};