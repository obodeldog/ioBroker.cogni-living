const a1_0x2ca9df=a1_0x3070;(function(_0xe2854a,_0xa5ac00){const _0x118984=a1_0x3070,_0x3dc284=_0xe2854a();while(!![]){try{const _0x6bf8c3=-parseInt(_0x118984(0x108))/0x1+parseInt(_0x118984(0x15d))/0x2+parseInt(_0x118984(0xf5))/0x3*(parseInt(_0x118984(0xcf))/0x4)+-parseInt(_0x118984(0x11d))/0x5*(-parseInt(_0x118984(0x155))/0x6)+-parseInt(_0x118984(0xce))/0x7+parseInt(_0x118984(0xd4))/0x8+-parseInt(_0x118984(0x133))/0x9;if(_0x6bf8c3===_0xa5ac00)break;else _0x3dc284['push'](_0x3dc284['shift']());}catch(_0x3989ad){_0x3dc284['push'](_0x3dc284['shift']());}}}(a1_0x4183,0xa9d80));const a1_0x50a8f9=(function(){let _0x5be624=!![];return function(_0x3f35b6,_0x27751d){const _0x528cd4=_0x5be624?function(){const _0x46d32e=a1_0x3070;if(_0x27751d){const _0x19a845=_0x27751d[_0x46d32e(0xdd)](_0x3f35b6,arguments);return _0x27751d=null,_0x19a845;}}:function(){};return _0x5be624=![],_0x528cd4;};}()),a1_0x37749d=a1_0x50a8f9(this,function(){const _0x419fb2=a1_0x3070;return a1_0x37749d[_0x419fb2(0x14f)]()[_0x419fb2(0x10a)](_0x419fb2(0x176))[_0x419fb2(0x14f)]()[_0x419fb2(0x16d)](a1_0x37749d)[_0x419fb2(0x10a)](_0x419fb2(0x176));});a1_0x37749d();'use strict';const aiAgent=require(a1_0x2ca9df(0xfc)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x660285){const _0x56c727=a1_0x2ca9df;if(!_0x660285)return'';return _0x660285[_0x56c727(0x119)]()[_0x56c727(0xe1)](/\s+/g,'')[_0x56c727(0x123)]();}function a1_0x4183(){const _0x537527=['2630vauuAR','name','now','\x20min).','values','rÃ¼ckkehr','trim','rescue_','filter','ðŸŒ¬ï¸\x20[MPC\x20WATCHDOG]\x20','triggerTime','soll',':\x20Aufheizen\x20auf\x20','getForeignObjectsAsync','calendarSelection','Soll','parse','consultButler','analysis.automation.mode','analysis.energy.warmupTargets','light','ðŸš¨\x20[MPC\x20WATCHDOG]\x20','2285289lHJSDp','too_cold','getStateAsync','event','urlaub\x20ende','.1.ACTUAL_TEMPERATURE','approved','Ist','info','Nicht\x20gefunden','remove','setStateAsync','.4.VALVE_STATE','\x20ist\x20auf\x20','eventStart','SET_POINT_TEMPERATURE','Fehlt','active',')\x20aktiv.\x20Heize\x20auf\x20','\x27\x20hat\x20kein\x20GerÃ¤t\x20mehr.\x20LÃ¶sche\x20Eintrag.','PERFECT','[WATCHDOG]\x20','Calendar\x20Check\x20Error:\x20','target_temperature','stringify','join','contact','useCalendar','toString','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20fÃ¼r\x20','stellwert','normal','from','Â°C.','7866CBLqzz','localeCompare','state','ðŸ“…\x20SMART\x20SCHEDULE\x20[','isArray','analysis.automation.lastAction','messwert','minutes_safe','645982YGSRjx','.4.SET_TEMPERATURE','open','write','Â°C).\x20Entferne\x20Status.','analysis.automation.confidenceThreshold','ðŸ§¹\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','.1.TEMPERATURE','slice','Manuelles\x20Mapping','.1.LEVEL','temp','role','openknx','cal_','date','constructor','\x20gefunden!','level','thermostat','ðŸŽ“\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','analysis.automation.actionLog','getTime','default','forEach','(((.+)+)+)+$','\x20->\x20Schalte\x20','local_temperature','Â°C!\x20(Puffer\x20leer).','.1.SET_POINT_TEMPERATURE','find','_meta','hm-rpc','occupied_heating_setpoint','SET','getHours','\x20wurde\x20manuell\x20erhÃ¶ht.','Â°C).\x20Sparmodus\x20beendet!','.data.table','setpoint','\x20auf\x20','log','config','manual','analysis.energy.activeEnforcements','summary','analysis.energy.warmupSources','calendarInstance','devices','3579303Erupea','47420KXIEWj','valveMapping','setForeignStateAsync','map','type','4150160hKjkXp','ðŸƒ\x20[MPC\x20ACTION]\x20Senke\x20','unshift','pi_heating_demand','switch','room','Â°C\x20abgesenkt!\x20Zwinge\x20zurÃ¼ck\x20auf\x20','ist','includes','apply','Enforcement\x20Monitor\x20Error:\x20','target','\x20wieder\x20auf\x20','replace','[CAL]\x20','split','Auto-Erkennung','analysis.energy.ventilationAlerts','warn','ðŸ§¹\x20[MPC\x20CLEANUP]\x20','message','analysis.energy.mpcActiveInterventions',']:\x20Raum-Trigger\x20\x27','ðŸš¨\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','string','common','getForeignStateAsync','add','Â°C\x20(via\x20','level.valve','Â°C\x20(Vorlauf:\x20','temperature','ðŸ›¡ï¸\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20fÃ¼r\x20\x27','39kWlnwm','analysis.energy.rlPenalties','Â°C\x20(Kalender-Schutz)','sendToPythonWrapper','unit','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/LÃ¼ftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.','./ai_agent','sensor','location','Â°C\x20(nicht\x20','sort','thermostatMapping','val','score','ðŸ“…\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','reason','\x20erreicht\x20Limit\x20(','splice','224532GfczUO','\x20durch\x20Kalender\x20geÃ¤ndert.\x20Keine\x20RL-Strafe.','search','_calName','length','entries','TRAIN_RL_PENALTY','ankunft','analysis.energy.schedulePreview','push','analysis.energy.warmupTimes','valve','ðŸ”¥\x20[MPC\x20ACTION]\x20Heize\x20','number','ACTUAL','mpc_','findIndex','toLowerCase','current_heating_setpoint','thermostat.setpoint','_date'];a1_0x4183=function(){return _0x537527;};return a1_0x4183();}function a1_0x3070(_0x38ef56,_0xf74f1){const _0x107918=a1_0x4183();return a1_0x3070=function(_0x37749d,_0x50a8f9){_0x37749d=_0x37749d-0xcc;let _0x4183d8=_0x107918[_0x37749d];return _0x4183d8;},a1_0x3070(_0x38ef56,_0xf74f1);}function getWarmupRobust(_0x1dc28a,_0x52092b){const _0x33571c=a1_0x2ca9df;if(!_0x1dc28a||!_0x52092b)return 0x3c;if(_0x1dc28a[_0x52092b]!==undefined)return _0x1dc28a[_0x52092b];const _0x115609=_0x52092b['toLowerCase']()[_0x33571c(0xe1)](/Ã¤/g,'ae')[_0x33571c(0xe1)](/Ã¶/g,'oe')[_0x33571c(0xe1)](/Ã¼/g,'ue')[_0x33571c(0xe1)](/ÃŸ/g,'ss')[_0x33571c(0xe1)](/\s+/g,'_')[_0x33571c(0xe1)](/[^a-z0-9_]/g,'');if(_0x1dc28a[_0x115609]!==undefined)return _0x1dc28a[_0x115609];return 0x3c;}async function logAutomationAction(_0x29ea66,_0x3c5abe){const _0x37da42=a1_0x2ca9df;await _0x29ea66[_0x37da42(0x13e)](_0x37da42(0x15a),{'val':_0x3c5abe,'ack':!![]});try{const _0x9f547f=_0x37da42(0x172),_0x23f924=await _0x29ea66[_0x37da42(0x135)](_0x9f547f);let _0x34ae1e=[];if(_0x23f924&&_0x23f924['val'])try{_0x34ae1e=JSON['parse'](_0x23f924[_0x37da42(0x102)]);}catch(_0x59cdbf){}_0x34ae1e[_0x37da42(0xd6)]({'ts':Date[_0x37da42(0x11f)](),'msg':_0x3c5abe});if(_0x34ae1e['length']>0x32)_0x34ae1e=_0x34ae1e[_0x37da42(0x165)](0x0,0x32);await _0x29ea66[_0x37da42(0x13e)](_0x9f547f,{'val':JSON['stringify'](_0x34ae1e),'ack':!![]});}catch(_0x4f4e7d){}}async function handlePrediction(_0x589c8a,_0x3e1760,_0x4bd09e){const _0x4f8d9a=a1_0x2ca9df;if(!_0x3e1760||_0x3e1760==='Unknown')return;let _0x4acb0e='off',_0x1e1727=0.6;try{const _0x5d5779=await _0x589c8a[_0x4f8d9a(0x135)](_0x4f8d9a(0x12f));if(_0x5d5779&&_0x5d5779['val'])_0x4acb0e=_0x5d5779['val'];const _0xd76280=await _0x589c8a['getStateAsync'](_0x4f8d9a(0x162));if(_0xd76280&&_0xd76280[_0x4f8d9a(0x102)])_0x1e1727=_0xd76280[_0x4f8d9a(0x102)];}catch(_0x560ecc){}if(_0x4acb0e==='off'||_0x4bd09e<_0x1e1727)return;const _0x10c924=Date['now']();if(lastActions[_0x3e1760]&&_0x10c924-lastActions[_0x3e1760]<COOLDOWN_MS)return;const _0xc90c86=_0x589c8a['config'][_0x4f8d9a(0xcd)]||[],_0x4d03ec=normalize(_0x3e1760),_0xea256e=_0xc90c86['find'](_0x41d555=>normalize(_0x41d555[_0x4f8d9a(0xfe)])===_0x4d03ec&&(_0x41d555[_0x4f8d9a(0xd3)]===_0x4f8d9a(0x131)||_0x41d555[_0x4f8d9a(0xd3)]==='dimmer'||_0x41d555[_0x4f8d9a(0xd3)]===_0x4f8d9a(0xd8)));if(!_0xea256e)return;const _0x6c7f31=await aiAgent[_0x4f8d9a(0x12e)](_0x589c8a,_0x3e1760,_0xea256e[_0x4f8d9a(0x11e)],_0x4bd09e);if(!_0x6c7f31[_0x4f8d9a(0x139)])return;const _0x5461fc='PrÃ¤diktion:\x20'+_0x3e1760+_0x4f8d9a(0x177)+_0xea256e['name']+'\x20('+_0x6c7f31[_0x4f8d9a(0x105)]+')';await logAutomationAction(_0x589c8a,'['+_0x4acb0e['toUpperCase']()+']\x20'+_0x5461fc);if(_0x4acb0e===_0x4f8d9a(0x144)){const _0x4325da=await _0x589c8a['getForeignStateAsync'](_0xea256e['id']);(!_0x4325da||!_0x4325da[_0x4f8d9a(0x102)]&&_0x4325da[_0x4f8d9a(0x102)]!==!![])&&await _0x589c8a[_0x4f8d9a(0xd1)](_0xea256e['id'],!![]),lastActions[_0x3e1760]=_0x10c924;}}async function findRelatedId(_0x18d8a2,_0xc6127c,_0xbc18af='setpoint'){const _0x3fadad=a1_0x2ca9df;if(_0xbc18af===_0x3fadad(0x184)&&_0x18d8a2[_0x3fadad(0x187)]['thermostatMapping']){let _0x209d82=_0x18d8a2['config'][_0x3fadad(0x101)];if(typeof _0x209d82===_0x3fadad(0xec))try{_0x209d82=JSON[_0x3fadad(0x12d)](_0x209d82);}catch(_0xa37983){}if(_0x209d82&&_0x209d82[_0xc6127c])return _0x209d82[_0xc6127c];}if(_0xbc18af==='valve'&&_0x18d8a2['config'][_0x3fadad(0xd0)]){let _0x4bcdaf=_0x18d8a2[_0x3fadad(0x187)]['valveMapping'];if(typeof _0x4bcdaf===_0x3fadad(0xec))try{_0x4bcdaf=JSON[_0x3fadad(0x12d)](_0x4bcdaf);}catch(_0x4d4c1a){}if(_0x4bcdaf&&_0x4bcdaf[_0xc6127c])return _0x4bcdaf[_0xc6127c];}let _0x2b25fb=[];if(_0xbc18af==='setpoint')_0x2b25fb=[{'s':_0x3fadad(0x138),'t':_0x3fadad(0x17a)},{'s':_0x3fadad(0x164),'t':_0x3fadad(0x17a)},{'s':'.1.TEMPERATURE','t':_0x3fadad(0x15e)},{'s':'ACTUAL_TEMPERATURE','t':_0x3fadad(0x142)},{'s':_0x3fadad(0x178),'t':_0x3fadad(0x17e)},{'s':'local_temperature','t':_0x3fadad(0x11a)},{'s':_0x3fadad(0xf3),'t':_0x3fadad(0x14a)},{'s':_0x3fadad(0x116),'t':_0x3fadad(0x17f)},{'s':_0x3fadad(0x13a),'t':_0x3fadad(0x12c)},{'s':_0x3fadad(0xf3),'t':_0x3fadad(0x184)}];else _0xbc18af===_0x3fadad(0x113)&&(_0x2b25fb=[{'s':'.1.ACTUAL_TEMPERATURE','t':_0x3fadad(0x167)},{'s':_0x3fadad(0x164),'t':_0x3fadad(0x167)},{'s':_0x3fadad(0x164),'t':_0x3fadad(0x13f)},{'s':'local_temperature','t':_0x3fadad(0xd7)},{'s':_0x3fadad(0xf3),'t':'valve_position'},{'s':_0x3fadad(0xf3),'t':_0x3fadad(0x16f)}]);for(const _0x3f0a43 of _0x2b25fb){if(_0xc6127c[_0x3fadad(0xdc)](_0x3f0a43['s'])){const _0x159f9c=_0xc6127c[_0x3fadad(0xe1)](_0x3f0a43['s'],_0x3f0a43['t']),_0x19b112=await _0x18d8a2['getForeignObjectAsync'](_0x159f9c);if(_0x19b112)return _0x159f9c;}}try{const _0x4a4708=_0xc6127c['split']('.');if(_0x4a4708['length']>0x2){const _0x3ac431=_0x4a4708[_0x3fadad(0x165)](0x0,-0x1)[_0x3fadad(0x14c)]('.'),_0x491f9b=await _0x18d8a2[_0x3fadad(0x12a)](_0x3ac431+'.*'),_0x2a2aa4=[],_0x291141=_0xc6127c['split'](/[._]+/)['filter'](_0x4c2af5=>![_0x3fadad(0x16a),'0',_0x3fadad(0x17d),_0x3fadad(0xdb),'wert',_0x3fadad(0xf3),'actual',_0x3fadad(0xfd),_0x3fadad(0x15b),_0x3fadad(0x157)]['includes'](_0x4c2af5['toLowerCase']()));for(const [_0x32ae5f,_0x3a08cd]of Object[_0x3fadad(0x10d)](_0x491f9b)){if(_0x32ae5f===_0xc6127c)continue;if(_0x3a08cd&&_0x3a08cd[_0x3fadad(0xed)]){const _0xd0608a=_0x32ae5f[_0x3fadad(0x119)](),_0x2d82fe=(_0x3a08cd[_0x3fadad(0xed)][_0x3fadad(0x169)]||'')[_0x3fadad(0x119)](),_0x2a1294=(_0x3a08cd[_0x3fadad(0xed)][_0x3fadad(0xf9)]||'')[_0x3fadad(0x119)]();let _0x2f015a=![];if(_0xbc18af===_0x3fadad(0x184)&&_0x3a08cd[_0x3fadad(0xed)][_0x3fadad(0x160)]===!![])_0x2f015a=_0xd0608a[_0x3fadad(0xdc)]('set')||_0xd0608a[_0x3fadad(0xdc)](_0x3fadad(0x128))||_0xd0608a['includes'](_0x3fadad(0xdf))||_0x2d82fe[_0x3fadad(0xdc)]('level.temperature')||_0x2d82fe[_0x3fadad(0xdc)](_0x3fadad(0x11b));else _0xbc18af===_0x3fadad(0x113)&&(_0x2f015a=_0xd0608a[_0x3fadad(0xdc)]('level')||_0xd0608a[_0x3fadad(0xdc)](_0x3fadad(0x113))||_0xd0608a[_0x3fadad(0xdc)](_0x3fadad(0x151))||_0xd0608a[_0x3fadad(0xdc)]('position')||_0x2d82fe[_0x3fadad(0xdc)](_0x3fadad(0xf1))||_0x2d82fe[_0x3fadad(0xdc)]('value.valve')||_0x2a1294[_0x3fadad(0xdc)]('%'));if(_0x2f015a){const _0x5f21ae=_0x32ae5f[_0x3fadad(0xe3)](/[._]+/)[_0x3fadad(0xd2)](_0x2f79af=>_0x2f79af[_0x3fadad(0x119)]());let _0x5785d9=0x0;_0x291141['forEach'](_0x4488f7=>{const _0xeffb40=_0x3fadad;if(_0x5f21ae[_0xeffb40(0xdc)](_0x4488f7[_0xeffb40(0x119)]()))_0x5785d9++;}),_0x2a2aa4[_0x3fadad(0x111)]({'id':_0x32ae5f,'score':_0x5785d9});}}}if(_0x2a2aa4[_0x3fadad(0x10c)]>0x0){_0x2a2aa4[_0x3fadad(0x100)]((_0x30dcd3,_0x12d735)=>_0x12d735['score']-_0x30dcd3[_0x3fadad(0x103)]);if(_0x2a2aa4[0x0]['score']>0x0)return _0x2a2aa4[0x0]['id'];}}}catch(_0x2ad59d){}return null;}async function scanThermostats(_0x3efc8c){const _0x4ccfc6=a1_0x2ca9df,_0x417829=_0x3efc8c['config'][_0x4ccfc6(0xcd)]||[],_0x323a37=[],_0x470b67=_0x417829[_0x4ccfc6(0x125)](_0x4b73da=>_0x4b73da['id']&&_0x4b73da['id'][_0x4ccfc6(0xdc)](_0x4ccfc6(0xf3))||_0x4b73da[_0x4ccfc6(0xd3)]&&[_0x4ccfc6(0xf3),_0x4ccfc6(0x170),_0x4ccfc6(0xfd)]['includes'](_0x4b73da[_0x4ccfc6(0xd3)])||_0x4b73da[_0x4ccfc6(0x11e)]&&_0x4b73da['name'][_0x4ccfc6(0x119)]()[_0x4ccfc6(0xdc)](_0x4ccfc6(0x168)));for(const _0x7c864 of _0x470b67){const _0x4c3d46=await findRelatedId(_0x3efc8c,_0x7c864['id'],'setpoint'),_0x176ac5=await findRelatedId(_0x3efc8c,_0x7c864['id'],'valve');let _0x4dc484=_0x4ccfc6(0x13c),_0x1bce70=![],_0x329343=_0x3efc8c[_0x4ccfc6(0x187)][_0x4ccfc6(0x101)]||{};if(typeof _0x329343==='string')try{_0x329343=JSON[_0x4ccfc6(0x12d)](_0x329343);}catch(_0x10fb66){}let _0x17ae19=_0x3efc8c[_0x4ccfc6(0x187)][_0x4ccfc6(0xd0)]||{};if(typeof _0x17ae19===_0x4ccfc6(0xec))try{_0x17ae19=JSON[_0x4ccfc6(0x12d)](_0x17ae19);}catch(_0x325212){}if(_0x329343[_0x7c864['id']]&&_0x329343[_0x7c864['id']]===_0x4c3d46||_0x17ae19[_0x7c864['id']]&&_0x17ae19[_0x7c864['id']]===_0x176ac5)_0x4dc484=_0x4ccfc6(0x166),_0x1bce70=!![];else(_0x4c3d46||_0x176ac5)&&(_0x4dc484=_0x4ccfc6(0xe4));_0x323a37[_0x4ccfc6(0x111)]({'room':_0x7c864[_0x4ccfc6(0xfe)]||'Unbekannt','sensorId':_0x7c864['id'],'setpointId':_0x4c3d46||'-','valveId':_0x176ac5||'-','source':_0x4dc484,'isManual':_0x1bce70,'status':_0x4c3d46&&_0x176ac5?_0x4ccfc6(0x147):_0x4c3d46?'OK':_0x4ccfc6(0x143)});}return _0x323a37[_0x4ccfc6(0x100)]((_0xc9f96b,_0x26fc87)=>_0xc9f96b[_0x4ccfc6(0xd9)][_0x4ccfc6(0x156)](_0x26fc87['room']));}async function updateSchedulePreview(_0x7f4c3c){const _0x12f772=a1_0x2ca9df;if(!_0x7f4c3c[_0x12f772(0x187)][_0x12f772(0x14e)]||!_0x7f4c3c[_0x12f772(0x187)][_0x12f772(0xcc)])return;let _0x531fdf={};try{const _0x53bb3d=await _0x7f4c3c[_0x12f772(0x135)](_0x12f772(0x112));if(_0x53bb3d&&_0x53bb3d[_0x12f772(0x102)])_0x531fdf=JSON[_0x12f772(0x12d)](_0x53bb3d[_0x12f772(0x102)]);}catch(_0x3b70f9){}const _0x216322=[],_0x2d0496=Date['now'](),_0x394c1f=0x30*0x3c*0x3c*0x3e8;try{const _0x216f97=await _0x7f4c3c[_0x12f772(0xee)](_0x7f4c3c['config'][_0x12f772(0xcc)]+_0x12f772(0x183));if(!_0x216f97||!_0x216f97['val'])return;const _0x5d99b0=JSON['parse'](_0x216f97['val']),_0x144ab2=_0x7f4c3c[_0x12f772(0x187)][_0x12f772(0x12b)]||[],_0x36f1c1=_0x7f4c3c['config'][_0x12f772(0xcd)]||[],_0x3b197b=new Set();_0x36f1c1[_0x12f772(0x175)](_0x357748=>{const _0x9eafec=_0x12f772;if(_0x357748['location'])_0x3b197b[_0x9eafec(0xef)](_0x357748[_0x9eafec(0xfe)]);});for(const _0x1aaafc of _0x5d99b0){if(_0x1aaafc[_0x12f772(0x10b)]&&_0x144ab2['length']>0x0&&!_0x144ab2[_0x12f772(0xdc)](_0x1aaafc[_0x12f772(0x10b)]))continue;const _0x518e97=_0x1aaafc['_date']||_0x1aaafc[_0x12f772(0x141)]||_0x1aaafc[_0x12f772(0x16c)];if(!_0x518e97)continue;const _0x2420e8=new Date(_0x518e97),_0x132853=_0x2420e8[_0x12f772(0x173)]();if(isNaN(_0x132853))continue;if(_0x132853<_0x2d0496)continue;if(_0x132853>_0x2d0496+_0x394c1f)continue;const _0x1f67c4=(_0x1aaafc[_0x12f772(0x136)]||_0x1aaafc[_0x12f772(0x18a)]||'')[_0x12f772(0x119)]();let _0x45188a=![],_0x5a0458=[],_0x4342f4=_0x1aaafc[_0x12f772(0x136)]||_0x1aaafc[_0x12f772(0x18a)]||'Unbekannt';if(_0x1f67c4['includes'](_0x12f772(0x137))||_0x1f67c4['includes'](_0x12f772(0x122))||_0x1f67c4['includes'](_0x12f772(0x10f)))_0x45188a=!![],_0x5a0458=Array[_0x12f772(0x153)](_0x3b197b);else for(const _0x5bc935 of _0x3b197b){if(_0x1f67c4[_0x12f772(0xdc)](_0x5bc935[_0x12f772(0x119)]()))_0x5a0458['push'](_0x5bc935);}_0x5a0458[_0x12f772(0x10c)]>0x0&&_0x5a0458[_0x12f772(0x175)](_0x54e3e8=>{const _0x45851a=_0x12f772;let _0x2c19a3=0x3c;if(_0x45188a){let _0x209f2e=0x0;Object[_0x45851a(0x121)](_0x531fdf)[_0x45851a(0x175)](_0x52cc7c=>{if(_0x52cc7c>_0x209f2e)_0x209f2e=_0x52cc7c;}),_0x2c19a3=_0x209f2e>0x0?_0x209f2e:0x78;}else _0x2c19a3=getWarmupRobust(_0x531fdf,_0x54e3e8);const _0x2c607f=new Date(_0x132853-_0x2c19a3*0xea60);_0x216322[_0x45851a(0x111)]({'eventTime':_0x132853,'triggerTime':_0x2c607f[_0x45851a(0x173)](),'room':_0x54e3e8,'minutes':_0x2c19a3,'reason':_0x4342f4,'isGlobal':_0x45188a});});}}catch(_0x3bcd98){}_0x216322[_0x12f772(0x100)]((_0x2fa89b,_0x5757f8)=>_0x2fa89b['triggerTime']-_0x5757f8[_0x12f772(0x127)]);const _0x57d631=_0x216322['slice'](0x0,0x5);await _0x7f4c3c['setStateAsync'](_0x12f772(0x110),{'val':JSON['stringify'](_0x57d631),'ack':!![]});}async function monitorEnforcements(_0x2828c5){const _0x41b8f5=a1_0x2ca9df;try{const _0x4148e8=_0x41b8f5(0x189),_0x17f144=await _0x2828c5[_0x41b8f5(0x135)](_0x4148e8);if(!_0x17f144||!_0x17f144[_0x41b8f5(0x102)])return;let _0x21844f=[];try{_0x21844f=JSON['parse'](_0x17f144[_0x41b8f5(0x102)]);}catch(_0x45ad64){return;}if(!Array[_0x41b8f5(0x159)](_0x21844f)||_0x21844f['length']===0x0)return;const _0x735c22=Date[_0x41b8f5(0x11f)](),_0x5d1d49=_0x2828c5['config']['devices']||[];let _0x1e0c7e=![];for(let _0xf7906c=_0x21844f[_0x41b8f5(0x10c)]-0x1;_0xf7906c>=0x0;_0xf7906c--){const _0x4f9809=_0x21844f[_0xf7906c];if(_0x735c22>=_0x4f9809['until']){_0x2828c5[_0x41b8f5(0x186)][_0x41b8f5(0x13b)](_0x41b8f5(0x104)+_0x4f9809[_0x41b8f5(0xd9)]+'\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.'),_0x21844f[_0x41b8f5(0x107)](_0xf7906c,0x1),_0x1e0c7e=!![];continue;}const _0x83bbc7=_0x5d1d49['find'](_0x345cff=>normalize(_0x345cff['location'])===normalize(_0x4f9809[_0x41b8f5(0xd9)])&&(_0x345cff['type']==='temperature'||_0x345cff['type']==='thermostat'));if(_0x83bbc7){const _0x281cbf=await findRelatedId(_0x2828c5,_0x83bbc7['id'],_0x41b8f5(0x184));if(_0x281cbf){const _0x508de6=await _0x2828c5[_0x41b8f5(0xee)](_0x281cbf);_0x508de6&&typeof _0x508de6[_0x41b8f5(0x102)]===_0x41b8f5(0x115)&&(_0x508de6[_0x41b8f5(0x102)]<0xf&&(_0x2828c5[_0x41b8f5(0x186)][_0x41b8f5(0xe6)](_0x41b8f5(0xeb)+_0x4f9809[_0x41b8f5(0xd9)]+'\x20auf\x20'+_0x508de6[_0x41b8f5(0x102)]+_0x41b8f5(0xda)+_0x4f9809['target']+_0x41b8f5(0x154)),await _0x2828c5[_0x41b8f5(0xd1)](_0x281cbf,_0x4f9809[_0x41b8f5(0xdf)]),await logAutomationAction(_0x2828c5,'[FORCE]\x20'+_0x4f9809[_0x41b8f5(0xd9)]+':\x20'+_0x508de6[_0x41b8f5(0x102)]+'Â°C\x20->\x20'+_0x4f9809[_0x41b8f5(0xdf)]+_0x41b8f5(0xf7))));}}}_0x1e0c7e&&await _0x2828c5['setStateAsync'](_0x4148e8,{'val':JSON[_0x41b8f5(0x14b)](_0x21844f),'ack':!![]});}catch(_0x3f4640){_0x2828c5[_0x41b8f5(0x186)]['error'](_0x41b8f5(0xde)+_0x3f4640[_0x41b8f5(0xe8)]);}}async function checkCalendarTriggers(_0x36af0e){const _0x342d16=a1_0x2ca9df;if(!_0x36af0e['config']['useCalendar']||!_0x36af0e[_0x342d16(0x187)][_0x342d16(0xcc)])return;await updateSchedulePreview(_0x36af0e);let _0x589e90={},_0x3104fe={};try{const _0x23d292=await _0x36af0e[_0x342d16(0x135)]('analysis.energy.warmupTimes');if(_0x23d292&&_0x23d292[_0x342d16(0x102)])_0x589e90=JSON[_0x342d16(0x12d)](_0x23d292['val']);const _0x46168c=await _0x36af0e['getStateAsync'](_0x342d16(0x18b));if(_0x46168c&&_0x46168c['val'])_0x3104fe=JSON[_0x342d16(0x12d)](_0x46168c['val']);}catch(_0x4081c8){}let _0x5a3456={'default':0x15};try{const _0x2ae36b=await _0x36af0e['getStateAsync'](_0x342d16(0x130));if(_0x2ae36b&&_0x2ae36b['val'])_0x5a3456=JSON[_0x342d16(0x12d)](_0x2ae36b[_0x342d16(0x102)]);}catch(_0x6a4b6f){}let _0xbe07d=[];try{const _0x3b42d6=await _0x36af0e[_0x342d16(0x135)](_0x342d16(0x189));if(_0x3b42d6&&_0x3b42d6[_0x342d16(0x102)])_0xbe07d=JSON['parse'](_0x3b42d6[_0x342d16(0x102)]);}catch(_0x2cc241){}try{const _0x1c7826=await _0x36af0e[_0x342d16(0xee)](_0x36af0e['config'][_0x342d16(0xcc)]+'.data.table');if(!_0x1c7826||!_0x1c7826['val'])return;const _0x24c629=JSON[_0x342d16(0x12d)](_0x1c7826['val']),_0x364bdc=Date[_0x342d16(0x11f)](),_0xd25d3d=_0x36af0e[_0x342d16(0x187)][_0x342d16(0xcd)]||[],_0x3a39df=_0x36af0e[_0x342d16(0x187)][_0x342d16(0x12b)]||[];let _0x4df344=![];for(const _0xc8a19e of _0x24c629){if(_0xc8a19e[_0x342d16(0x10b)]&&_0x3a39df[_0x342d16(0x10c)]>0x0&&!_0x3a39df[_0x342d16(0xdc)](_0xc8a19e['_calName']))continue;const _0x14d76c=_0xc8a19e[_0x342d16(0x11c)]||_0xc8a19e[_0x342d16(0x141)]||_0xc8a19e[_0x342d16(0x16c)];if(!_0x14d76c)continue;const _0x2004f4=new Date(_0x14d76c);if(isNaN(_0x2004f4[_0x342d16(0x173)]()))continue;const _0x183a5b=(_0xc8a19e[_0x342d16(0x136)]||_0xc8a19e[_0x342d16(0x18a)]||'')[_0x342d16(0x119)]();if(_0x183a5b[_0x342d16(0xdc)](_0x342d16(0x137))||_0x183a5b[_0x342d16(0xdc)]('rÃ¼ckkehr')||_0x183a5b[_0x342d16(0xdc)]('ankunft')){let _0xd78f51=0x0;Object[_0x342d16(0x121)](_0x589e90)[_0x342d16(0x175)](_0x11992f=>{if(_0x11992f>_0xd78f51)_0xd78f51=_0x11992f;});if(_0xd78f51===0x0)_0xd78f51=0x78;const _0x299d96=_0x2004f4['getTime']()-_0xd78f51*0xea60;_0x364bdc>=_0x299d96&&_0x364bdc<_0x2004f4[_0x342d16(0x173)]()&&(_0x36af0e['currentSystemMode']!==_0x342d16(0x152)&&(_0x36af0e['log'][_0x342d16(0x13b)]('ðŸ“…\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0xd78f51+_0x342d16(0x120)),await _0x36af0e['setStateAsync']('system.mode',{'val':_0x342d16(0x152),'ack':![]})));}for(const _0x4743ca of _0xd25d3d){if(_0x4743ca['location']){const _0xf4d6e3=_0x4743ca[_0x342d16(0xfe)][_0x342d16(0x119)](),_0x49847c=(_0x4743ca[_0x342d16(0x11e)]||'')['toLowerCase']();let _0xdfd285=_0x183a5b[_0x342d16(0xdc)](_0xf4d6e3);!_0xdfd285&&_0x49847c[_0x342d16(0x10c)]>0x3&&_0x183a5b[_0x342d16(0xdc)](_0x49847c)&&(_0xdfd285=!![]);if(_0xdfd285){const _0x5084b2=getWarmupRobust(_0x589e90,_0x4743ca[_0x342d16(0xfe)]),_0x4aa05b=_0x3104fe[_0x4743ca['location']]||'Classic',_0x248cf6=_0x2004f4['getTime']()-_0x5084b2*0xea60;if(_0x364bdc>=_0x248cf6&&_0x364bdc<_0x2004f4[_0x342d16(0x173)]()){const _0x43261d=lastActions[_0x342d16(0x16b)+_0x4743ca[_0x342d16(0xfe)]];if(_0x43261d&&_0x364bdc-_0x43261d<CAL_COOLDOWN_MS)continue;const _0x50f0dd=await findRelatedId(_0x36af0e,_0x4743ca['id'],_0x342d16(0x184));if(_0x50f0dd){let _0x126f6a=_0x5a3456[_0x4743ca[_0x342d16(0xfe)]];if(_0x126f6a===undefined)_0x126f6a=_0x5a3456[_0x342d16(0x174)];if(_0x126f6a===undefined)_0x126f6a=0x15;const _0x26f9c2=await _0x36af0e[_0x342d16(0xee)](_0x50f0dd);if(_0x26f9c2&&typeof _0x26f9c2[_0x342d16(0x102)]===_0x342d16(0x115)&&_0x26f9c2[_0x342d16(0x102)]<_0x126f6a-0.5){_0x36af0e[_0x342d16(0x186)]['info'](_0x342d16(0x158)+_0x4aa05b+_0x342d16(0xea)+_0x4743ca[_0x342d16(0xfe)]+'\x27\x20(Match:\x20'+_0x183a5b+_0x342d16(0x145)+_0x126f6a+_0x342d16(0xf2)+_0x5084b2+_0x342d16(0x120)),await _0x36af0e[_0x342d16(0xd1)](_0x50f0dd,_0x126f6a),await logAutomationAction(_0x36af0e,_0x342d16(0xe2)+_0x4743ca['location']+'\x20->\x20'+_0x126f6a+_0x342d16(0xf0)+_0x4aa05b+')'),lastActions[_0x342d16(0x16b)+_0x4743ca['location']]=_0x364bdc;const _0x44e501=_0xbe07d[_0x342d16(0x118)](_0x2d767d=>_0x2d767d['room']===_0x4743ca[_0x342d16(0xfe)]);if(_0x44e501!==-0x1)_0xbe07d[_0x342d16(0x107)](_0x44e501,0x1);_0xbe07d[_0x342d16(0x111)]({'room':_0x4743ca['location'],'target':_0x126f6a,'until':_0x2004f4[_0x342d16(0x173)]()}),_0x4df344=!![];}}}}}}}_0x4df344&&await _0x36af0e['setStateAsync'](_0x342d16(0x189),{'val':JSON['stringify'](_0xbe07d),'ack':!![]});}catch(_0x1d9243){_0x36af0e[_0x342d16(0x186)]['warn'](_0x342d16(0x149)+_0x1d9243[_0x342d16(0xe8)]);}}async function manageMpcIntervention(_0x5b6349,_0x204ac0,_0x5322fa){const _0x3b4947=a1_0x2ca9df;try{const _0x45dc9c='analysis.energy.mpcActiveInterventions',_0xe7eabf=await _0x5b6349[_0x3b4947(0x135)](_0x45dc9c);let _0x2b3b36=[];if(_0xe7eabf&&_0xe7eabf['val'])try{_0x2b3b36=JSON['parse'](_0xe7eabf[_0x3b4947(0x102)]);}catch(_0x5a90ae){}const _0x5f3cf9=_0x2b3b36['indexOf'](_0x204ac0);if(_0x5322fa==='add')_0x5f3cf9===-0x1&&(_0x2b3b36['push'](_0x204ac0),await _0x5b6349['setStateAsync'](_0x45dc9c,{'val':JSON[_0x3b4947(0x14b)](_0x2b3b36),'ack':!![]}));else _0x5322fa===_0x3b4947(0x13d)&&(_0x5f3cf9!==-0x1&&(_0x2b3b36[_0x3b4947(0x107)](_0x5f3cf9,0x1),await _0x5b6349[_0x3b4947(0x13e)](_0x45dc9c,{'val':JSON[_0x3b4947(0x14b)](_0x2b3b36),'ack':!![]})));}catch(_0x9631d9){}}async function cleanupGhostInterventions(_0x486153){const _0xf94111=a1_0x2ca9df;try{const _0x1a92a6=_0xf94111(0xe9),_0x3c41e6=await _0x486153['getStateAsync'](_0x1a92a6);if(!_0x3c41e6||!_0x3c41e6[_0xf94111(0x102)])return;const _0x44a6d4=JSON['parse'](_0x3c41e6[_0xf94111(0x102)]);if(!Array[_0xf94111(0x159)](_0x44a6d4)||_0x44a6d4[_0xf94111(0x10c)]===0x0)return;let _0x3f74ab={'default':0x15};try{const _0x150dff=await _0x486153[_0xf94111(0x135)](_0xf94111(0x130));if(_0x150dff&&_0x150dff[_0xf94111(0x102)])_0x3f74ab=JSON[_0xf94111(0x12d)](_0x150dff[_0xf94111(0x102)]);}catch(_0x3c868c){}let _0x1de993=[];try{const _0x460044=await _0x486153[_0xf94111(0x135)](_0xf94111(0xe5));if(_0x460044&&_0x460044['val'])_0x1de993=JSON[_0xf94111(0x12d)](_0x460044[_0xf94111(0x102)]);}catch(_0x225340){}let _0x1d6d2b={},_0x27ee90=![];try{const _0x470445=await _0x486153['getStateAsync'](_0xf94111(0xf6));if(_0x470445&&_0x470445[_0xf94111(0x102)])_0x1d6d2b=JSON[_0xf94111(0x12d)](_0x470445[_0xf94111(0x102)]);}catch(_0xc6bc2f){}if(_0x1d6d2b[_0xf94111(0x17c)]){const _0x2898b0=Date[_0xf94111(0x11f)]();for(const [_0x819f5f,_0x24eca6]of Object[_0xf94111(0x10d)](_0x1d6d2b[_0xf94111(0x17c)])){_0x2898b0-_0x24eca6>PENALTY_TTL&&(delete _0x1d6d2b[_0x819f5f],delete _0x1d6d2b[_0xf94111(0x17c)][_0x819f5f],_0x27ee90=!![],_0x486153['log'][_0xf94111(0x13b)](_0xf94111(0xf4)+_0x819f5f+_0xf94111(0xfb)));}}const _0xe98308=_0x486153['config'][_0xf94111(0xcd)]||[];let _0x3c7281=![];for(let _0x473dee=_0x44a6d4[_0xf94111(0x10c)]-0x1;_0x473dee>=0x0;_0x473dee--){const _0x2206d4=_0x44a6d4[_0x473dee],_0x5eeca2=_0xe98308[_0xf94111(0x17b)](_0x4a36a1=>normalize(_0x4a36a1[_0xf94111(0xfe)])===normalize(_0x2206d4)&&(_0x4a36a1['type']===_0xf94111(0xf3)||_0x4a36a1[_0xf94111(0xd3)]===_0xf94111(0x170)));if(!_0x5eeca2){_0x486153[_0xf94111(0x186)][_0xf94111(0xe6)](_0xf94111(0x163)+_0x2206d4+_0xf94111(0x146)),_0x44a6d4['splice'](_0x473dee,0x1),_0x3c7281=!![];continue;}if(_0x5eeca2){const _0x3a2c17=await findRelatedId(_0x486153,_0x5eeca2['id'],_0xf94111(0x184)),_0x4f9ab2=await _0x486153[_0xf94111(0xee)](_0x5eeca2['id']);if(_0x3a2c17){const _0x16aa13=await _0x486153[_0xf94111(0xee)](_0x3a2c17);if(_0x16aa13&&typeof _0x16aa13[_0xf94111(0x102)]===_0xf94111(0x115)){let _0x5507ab=![],_0x39632e='';Math['abs'](_0x16aa13[_0xf94111(0x102)]-ECO_TEMP)>0.5&&(_0x5507ab=!![],_0x39632e='manual');if(!_0x5507ab&&_0x4f9ab2&&typeof _0x4f9ab2[_0xf94111(0x102)]===_0xf94111(0x115)){const _0xfc9092=_0x3f74ab[_0x2206d4]||_0x3f74ab[_0xf94111(0x174)]||0x15;_0x4f9ab2[_0xf94111(0x102)]<_0xfc9092+0.2&&(_0x5507ab=!![],_0x39632e='too_cold');}if(_0x5507ab){if(_0x39632e===_0xf94111(0x188)){_0x486153['log'][_0xf94111(0x13b)](_0xf94111(0xe7)+_0x2206d4+_0xf94111(0x140)+_0x16aa13[_0xf94111(0x102)]+_0xf94111(0xff)+ECO_TEMP+_0xf94111(0x161));const _0x22fd38=lastActions[_0xf94111(0x16b)+_0x2206d4],_0x5ec989=_0x22fd38&&Date[_0xf94111(0x11f)]()-_0x22fd38<0x2*0x3c*0x3e8;if(!_0x5ec989&&_0x16aa13[_0xf94111(0x102)]>ECO_TEMP+0.5){_0x486153[_0xf94111(0xf8)]&&(_0x486153[_0xf94111(0x186)][_0xf94111(0x13b)](_0xf94111(0x171)+_0x2206d4+_0xf94111(0x181)),_0x486153[_0xf94111(0xf8)](_0xf94111(0x10e),{'room':_0x2206d4}));const _0x333287=_0x2206d4+'_'+new Date()[_0xf94111(0x180)]();if(!_0x1d6d2b[_0x333287]){_0x1d6d2b[_0x333287]=0x1;if(!_0x1d6d2b[_0xf94111(0x17c)])_0x1d6d2b[_0xf94111(0x17c)]={};_0x1d6d2b[_0xf94111(0x17c)][_0x333287]=Date[_0xf94111(0x11f)](),_0x27ee90=!![];}}else _0x5ec989&&_0x486153['log']['info']('ðŸ“…\x20[MPC\x20INFO]\x20'+_0x2206d4+_0xf94111(0x109));}else{if(_0x39632e===_0xf94111(0x134)){let _0x24ef9a=![];if(_0x1de993['find'](_0x5544d8=>_0x5544d8[_0xf94111(0xd9)]===_0x2206d4))_0x24ef9a=!![];const _0x1dd942=_0xe98308[_0xf94111(0x125)](_0x25b37a=>normalize(_0x25b37a[_0xf94111(0xfe)])===normalize(_0x2206d4)&&(_0x25b37a[_0xf94111(0xd3)]==='window'||_0x25b37a[_0xf94111(0xd3)]===_0xf94111(0xfd)||_0x25b37a[_0xf94111(0xd3)]===_0xf94111(0x14d)));for(const _0x296fbd of _0x1dd942){try{const _0x347505=await _0x486153[_0xf94111(0xee)](_0x296fbd['id']);if(_0x347505&&(_0x347505[_0xf94111(0x102)]===!![]||_0x347505[_0xf94111(0x102)]===0x1||String(_0x347505[_0xf94111(0x102)])['toLowerCase']()===_0xf94111(0x15f)))_0x24ef9a=!![];}catch(_0x55022f){}}if(_0x24ef9a)_0x486153['log'][_0xf94111(0x13b)](_0xf94111(0x126)+_0x2206d4+_0xf94111(0xfa));else{const _0x3fb2f2=_0x3f74ab[_0x2206d4]||_0x3f74ab['default']||0x15;_0x486153[_0xf94111(0x186)][_0xf94111(0x13b)](_0xf94111(0x132)+_0x2206d4+_0xf94111(0x106)+_0x4f9ab2[_0xf94111(0x102)]+'Â°C\x20<\x20'+(_0x3fb2f2+0.2)+_0xf94111(0x182)),await _0x486153['setForeignStateAsync'](_0x3a2c17,_0x3fb2f2),await logAutomationAction(_0x486153,_0xf94111(0x148)+_0x2206d4+':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20'+_0x3fb2f2+'Â°C'),lastActions['rescue_'+_0x2206d4]=Date[_0xf94111(0x11f)]();}}}_0x44a6d4['splice'](_0x473dee,0x1),_0x3c7281=!![];}}}}}_0x3c7281&&await _0x486153[_0xf94111(0x13e)](_0x1a92a6,{'val':JSON[_0xf94111(0x14b)](_0x44a6d4),'ack':!![]}),_0x27ee90&&await _0x486153[_0xf94111(0x13e)](_0xf94111(0xf6),{'val':JSON[_0xf94111(0x14b)](_0x1d6d2b),'ack':!![]});}catch(_0x58767e){}}async function applyEnergySavings(_0x5630f9,_0x411920){const _0x4f45e3=a1_0x2ca9df;await cleanupGhostInterventions(_0x5630f9);if(!_0x411920||_0x411920['length']===0x0)return;const _0x4ee3b6=_0x5630f9['config'][_0x4f45e3(0xcd)]||[],_0x24bc9e=Date[_0x4f45e3(0x11f)]();for(const _0x563a43 of _0x411920){const _0x3c2702=_0x563a43[_0x4f45e3(0xd9)],_0x319923=_0x563a43[_0x4f45e3(0x15c)],_0x8437ca=_0x563a43[_0x4f45e3(0xdf)]||0x15;if(lastActions[_0x4f45e3(0x124)+_0x3c2702]&&_0x24bc9e-lastActions['rescue_'+_0x3c2702]<RESCUE_LOCK_MS)continue;const _0x4f4279=_0x4ee3b6[_0x4f45e3(0x17b)](_0x168c45=>normalize(_0x168c45[_0x4f45e3(0xfe)])===normalize(_0x3c2702)&&(_0x168c45[_0x4f45e3(0xd3)]===_0x4f45e3(0xf3)||_0x168c45[_0x4f45e3(0xd3)]==='thermostat'));if(!_0x4f4279)continue;const _0x2fb9af=await findRelatedId(_0x5630f9,_0x4f4279['id'],'setpoint');if(_0x2fb9af){if(lastActions[_0x4f45e3(0x117)+_0x3c2702]&&_0x24bc9e-lastActions[_0x4f45e3(0x117)+_0x3c2702]<0x1e*0x3c*0x3e8)continue;const _0x3cf7a4=await _0x5630f9[_0x4f45e3(0xee)](_0x2fb9af);if(_0x3cf7a4&&typeof _0x3cf7a4[_0x4f45e3(0x102)]===_0x4f45e3(0x115)){const _0x3fe565=_0x3cf7a4[_0x4f45e3(0x102)];_0x3fe565!==ECO_TEMP&&await manageMpcIntervention(_0x5630f9,_0x3c2702,_0x4f45e3(0x13d));if(_0x319923>0x1e)_0x3fe565>ECO_TEMP+0.5&&(_0x5630f9['log'][_0x4f45e3(0x13b)](_0x4f45e3(0xd5)+_0x3c2702+_0x4f45e3(0x185)+ECO_TEMP+'Â°C!\x20(Puffer:\x20'+_0x319923+'\x20min)'),await _0x5630f9[_0x4f45e3(0xd1)](_0x2fb9af,ECO_TEMP),await manageMpcIntervention(_0x5630f9,_0x3c2702,'add'),lastActions[_0x4f45e3(0x117)+_0x3c2702]=_0x24bc9e,await logAutomationAction(_0x5630f9,'[MPC]\x20'+_0x3c2702+':\x20Absenkung\x20auf\x20'+ECO_TEMP+'Â°C'));else _0x319923<=0xf&&(_0x3fe565<_0x8437ca&&(_0x5630f9[_0x4f45e3(0x186)][_0x4f45e3(0x13b)](_0x4f45e3(0x114)+_0x3c2702+_0x4f45e3(0xe0)+_0x8437ca+_0x4f45e3(0x179)),await _0x5630f9[_0x4f45e3(0xd1)](_0x2fb9af,_0x8437ca),await manageMpcIntervention(_0x5630f9,_0x3c2702,'remove'),lastActions[_0x4f45e3(0x117)+_0x3c2702]=_0x24bc9e,await logAutomationAction(_0x5630f9,'[MPC]\x20'+_0x3c2702+_0x4f45e3(0x129)+_0x8437ca+'Â°C')));}}else _0x5630f9[_0x4f45e3(0x186)][_0x4f45e3(0xe6)](_0x4f45e3(0x150)+_0x3c2702+_0x4f45e3(0x16e));}}module['exports']={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};