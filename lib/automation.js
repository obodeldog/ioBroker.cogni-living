const a1_0x2c829f=a1_0xf4d3;(function(_0xfa3660,_0x371a5c){const _0x3cc321=a1_0xf4d3,_0x4700c8=_0xfa3660();while(!![]){try{const _0x229bf5=parseInt(_0x3cc321(0x1c8))/0x1+parseInt(_0x3cc321(0x1d1))/0x2*(parseInt(_0x3cc321(0x1ef))/0x3)+parseInt(_0x3cc321(0x14a))/0x4+parseInt(_0x3cc321(0x15c))/0x5+parseInt(_0x3cc321(0x17e))/0x6+-parseInt(_0x3cc321(0x1c6))/0x7*(parseInt(_0x3cc321(0x13c))/0x8)+-parseInt(_0x3cc321(0x1c3))/0x9*(parseInt(_0x3cc321(0x1d5))/0xa);if(_0x229bf5===_0x371a5c)break;else _0x4700c8['push'](_0x4700c8['shift']());}catch(_0x47cae9){_0x4700c8['push'](_0x4700c8['shift']());}}}(a1_0x1922,0x8b1bf));const a1_0x2d443b=(function(){let _0x5978ec=!![];return function(_0x59164f,_0x38e869){const _0x3171fc=_0x5978ec?function(){const _0x1b55e2=a1_0xf4d3;if(_0x38e869){const _0x5c8ea2=_0x38e869[_0x1b55e2(0x159)](_0x59164f,arguments);return _0x38e869=null,_0x5c8ea2;}}:function(){};return _0x5978ec=![],_0x3171fc;};}()),a1_0x5a0910=a1_0x2d443b(this,function(){const _0x22dab1=a1_0xf4d3;return a1_0x5a0910[_0x22dab1(0x147)]()[_0x22dab1(0x1e1)]('(((.+)+)+)+$')[_0x22dab1(0x147)]()['constructor'](a1_0x5a0910)['search'](_0x22dab1(0x1df));});a1_0x5a0910();'use strict';const aiAgent=require(a1_0x2c829f(0x189)),COOLDOWN_MS=0x3c*0x3e8,CAL_COOLDOWN_MS=0x5a*0x3c*0x3e8,RESCUE_LOCK_MS=0x78*0x3c*0x3e8,ECO_TEMP=0x11,PENALTY_TTL=0x3*0x18*0x3c*0x3c*0x3e8,lastActions={};function normalize(_0x420d42){const _0x317a9d=a1_0x2c829f;if(!_0x420d42)return'';return _0x420d42[_0x317a9d(0x181)]()['replace'](/\s+/g,'')['trim']();}function getWarmupRobust(_0x38a411,_0x175d7c){const _0x246d77=a1_0x2c829f;if(!_0x38a411||!_0x175d7c)return 0x3c;if(_0x38a411[_0x175d7c]!==undefined)return _0x38a411[_0x175d7c];const _0x136094=_0x175d7c[_0x246d77(0x181)]()['replace'](/√§/g,'ae')[_0x246d77(0x145)](/√∂/g,'oe')[_0x246d77(0x145)](/√º/g,'ue')[_0x246d77(0x145)](/√ü/g,'ss')['replace'](/\s+/g,'_')[_0x246d77(0x145)](/[^a-z0-9_]/g,'');if(_0x38a411[_0x136094]!==undefined)return _0x38a411[_0x136094];return 0x3c;}async function logAutomationAction(_0x668bb7,_0x1d5bac){const _0x3d1968=a1_0x2c829f;await _0x668bb7[_0x3d1968(0x134)](_0x3d1968(0x1c4),{'val':_0x1d5bac,'ack':!![]});try{const _0x34ba5b=_0x3d1968(0x137),_0x3b90e2=await _0x668bb7[_0x3d1968(0x132)](_0x34ba5b);let _0x3c8cf1=[];if(_0x3b90e2&&_0x3b90e2['val'])try{_0x3c8cf1=JSON['parse'](_0x3b90e2[_0x3d1968(0x15e)]);}catch(_0x222ee2){}_0x3c8cf1[_0x3d1968(0x13f)]({'ts':Date[_0x3d1968(0x1ec)](),'msg':_0x1d5bac});if(_0x3c8cf1['length']>0x32)_0x3c8cf1=_0x3c8cf1['slice'](0x0,0x32);await _0x668bb7[_0x3d1968(0x134)](_0x34ba5b,{'val':JSON[_0x3d1968(0x171)](_0x3c8cf1),'ack':!![]});}catch(_0x220320){}}async function handlePrediction(_0x5e93bf,_0x6a5b82,_0x59692c){const _0x33202a=a1_0x2c829f;if(!_0x6a5b82||_0x6a5b82===_0x33202a(0x1c2))return;let _0x12626f=_0x33202a(0x1c9),_0x390006=0.6;try{const _0xdffbf9=await _0x5e93bf[_0x33202a(0x132)](_0x33202a(0x1a3));if(_0xdffbf9&&_0xdffbf9[_0x33202a(0x15e)])_0x12626f=_0xdffbf9[_0x33202a(0x15e)];const _0x4d172c=await _0x5e93bf[_0x33202a(0x132)]('analysis.automation.confidenceThreshold');if(_0x4d172c&&_0x4d172c[_0x33202a(0x15e)])_0x390006=_0x4d172c[_0x33202a(0x15e)];}catch(_0x50fd6e){}if(_0x12626f===_0x33202a(0x1c9)||_0x59692c<_0x390006)return;const _0x5ccb73=Date[_0x33202a(0x1ec)]();if(lastActions[_0x6a5b82]&&_0x5ccb73-lastActions[_0x6a5b82]<COOLDOWN_MS)return;const _0xd621ff=_0x5e93bf['config']['devices']||[],_0xfa50c2=normalize(_0x6a5b82),_0xb1af9d=_0xd621ff[_0x33202a(0x13b)](_0x3ad945=>normalize(_0x3ad945['location'])===_0xfa50c2&&(_0x3ad945[_0x33202a(0x1a8)]===_0x33202a(0x152)||_0x3ad945[_0x33202a(0x1a8)]===_0x33202a(0x1e8)||_0x3ad945[_0x33202a(0x1a8)]===_0x33202a(0x1a0)));if(!_0xb1af9d)return;const _0x2577b2=await aiAgent[_0x33202a(0x196)](_0x5e93bf,_0x6a5b82,_0xb1af9d[_0x33202a(0x142)],_0x59692c);if(!_0x2577b2[_0x33202a(0x160)])return;const _0xc8b728=_0x33202a(0x19c)+_0x6a5b82+_0x33202a(0x141)+_0xb1af9d['name']+'\x20('+_0x2577b2['reason']+')';await logAutomationAction(_0x5e93bf,'['+_0x12626f[_0x33202a(0x15d)]()+']\x20'+_0xc8b728);if(_0x12626f===_0x33202a(0x1d3)){const _0x3c1404=await _0x5e93bf[_0x33202a(0x1dd)](_0xb1af9d['id']);(!_0x3c1404||!_0x3c1404[_0x33202a(0x15e)]&&_0x3c1404['val']!==!![])&&await _0x5e93bf['setForeignStateAsync'](_0xb1af9d['id'],!![]),lastActions[_0x6a5b82]=_0x5ccb73;}}async function findRelatedId(_0x5ccbd9,_0x1bc9a9,_0x18ab4e=a1_0x2c829f(0x18e)){const _0x24c924=a1_0x2c829f;if(_0x18ab4e===_0x24c924(0x18e)&&_0x5ccbd9['config']['thermostatMapping']){let _0x3ef429=_0x5ccbd9[_0x24c924(0x148)][_0x24c924(0x188)];if(typeof _0x3ef429===_0x24c924(0x1b2))try{_0x3ef429=JSON[_0x24c924(0x1de)](_0x3ef429);}catch(_0x2a247c){}if(_0x3ef429&&_0x3ef429[_0x1bc9a9])return _0x3ef429[_0x1bc9a9];}if(_0x18ab4e===_0x24c924(0x163)&&_0x5ccbd9[_0x24c924(0x148)]['valveMapping']){let _0x3d1f56=_0x5ccbd9[_0x24c924(0x148)][_0x24c924(0x15a)];if(typeof _0x3d1f56===_0x24c924(0x1b2))try{_0x3d1f56=JSON['parse'](_0x3d1f56);}catch(_0x4a8be0){}if(_0x3d1f56&&_0x3d1f56[_0x1bc9a9])return _0x3d1f56[_0x1bc9a9];}let _0x376a91=[];if(_0x18ab4e==='setpoint')_0x376a91=[{'s':_0x24c924(0x1b5),'t':_0x24c924(0x1bc)},{'s':_0x24c924(0x16d),'t':_0x24c924(0x1bc)},{'s':_0x24c924(0x16d),'t':_0x24c924(0x16b)},{'s':_0x24c924(0x164),'t':_0x24c924(0x1d0)},{'s':_0x24c924(0x1d7),'t':'occupied_heating_setpoint'},{'s':'local_temperature','t':'current_heating_setpoint'},{'s':_0x24c924(0x150),'t':_0x24c924(0x192)},{'s':_0x24c924(0x12f),'t':_0x24c924(0x18a)},{'s':_0x24c924(0x1b7),'t':_0x24c924(0x1a2)},{'s':_0x24c924(0x150),'t':_0x24c924(0x18e)}];else _0x18ab4e==='valve'&&(_0x376a91=[{'s':_0x24c924(0x1b5),'t':_0x24c924(0x161)},{'s':'.1.TEMPERATURE','t':_0x24c924(0x161)},{'s':'.1.TEMPERATURE','t':'.4.VALVE_STATE'},{'s':_0x24c924(0x1d7),'t':'pi_heating_demand'},{'s':_0x24c924(0x150),'t':_0x24c924(0x168)},{'s':_0x24c924(0x150),'t':'level'}]);for(const _0x3455f4 of _0x376a91){if(_0x1bc9a9[_0x24c924(0x19f)](_0x3455f4['s'])){const _0x494aa3=_0x1bc9a9[_0x24c924(0x145)](_0x3455f4['s'],_0x3455f4['t']),_0x1f398c=await _0x5ccbd9[_0x24c924(0x18c)](_0x494aa3);if(_0x1f398c)return _0x494aa3;}}try{const _0x2bf8f9=_0x1bc9a9[_0x24c924(0x1b8)]('.');if(_0x2bf8f9['length']>0x2){const _0x2bb574=_0x2bf8f9[_0x24c924(0x1ba)](0x0,-0x1)[_0x24c924(0x1d9)]('.'),_0x3a4bad=await _0x5ccbd9['getForeignObjectsAsync'](_0x2bb574+'.*'),_0x480800=[],_0x2ff889=_0x1bc9a9[_0x24c924(0x1b8)](/[._]+/)[_0x24c924(0x179)](_0x2d491d=>!['openknx','0',_0x24c924(0x17c),'ist',_0x24c924(0x138),'temperature',_0x24c924(0x1b0),_0x24c924(0x1ac),_0x24c924(0x1ed),_0x24c924(0x16f)][_0x24c924(0x19f)](_0x2d491d['toLowerCase']()));for(const [_0x1973b6,_0x16f739]of Object[_0x24c924(0x1da)](_0x3a4bad)){if(_0x1973b6===_0x1bc9a9)continue;if(_0x16f739&&_0x16f739[_0x24c924(0x135)]){const _0x70319e=_0x1973b6[_0x24c924(0x181)](),_0x1910d0=(_0x16f739['common'][_0x24c924(0x1e6)]||'')[_0x24c924(0x181)](),_0x48805d=(_0x16f739[_0x24c924(0x135)][_0x24c924(0x180)]||'')['toLowerCase']();let _0x2ce316=![];if(_0x18ab4e===_0x24c924(0x18e)&&_0x16f739['common']['write']===!![])_0x2ce316=_0x70319e[_0x24c924(0x19f)](_0x24c924(0x1e0))||_0x70319e[_0x24c924(0x19f)]('soll')||_0x70319e['includes'](_0x24c924(0x1bb))||_0x1910d0[_0x24c924(0x19f)](_0x24c924(0x1bd))||_0x1910d0[_0x24c924(0x19f)](_0x24c924(0x158));else _0x18ab4e==='valve'&&(_0x2ce316=_0x70319e['includes'](_0x24c924(0x1af))||_0x70319e['includes'](_0x24c924(0x163))||_0x70319e[_0x24c924(0x19f)](_0x24c924(0x1a4))||_0x70319e[_0x24c924(0x19f)](_0x24c924(0x18d))||_0x1910d0[_0x24c924(0x19f)](_0x24c924(0x193))||_0x1910d0[_0x24c924(0x19f)](_0x24c924(0x17f))||_0x48805d[_0x24c924(0x19f)]('%'));if(_0x2ce316){const _0x46577f=_0x1973b6[_0x24c924(0x1b8)](/[._]+/)['map'](_0x17e318=>_0x17e318['toLowerCase']());let _0x241efe=0x0;_0x2ff889[_0x24c924(0x13d)](_0x4ea200=>{const _0x5893f2=_0x24c924;if(_0x46577f[_0x5893f2(0x19f)](_0x4ea200[_0x5893f2(0x181)]()))_0x241efe++;}),_0x480800[_0x24c924(0x162)]({'id':_0x1973b6,'score':_0x241efe});}}}if(_0x480800[_0x24c924(0x12c)]>0x0){_0x480800[_0x24c924(0x176)]((_0x320b00,_0x1ad60e)=>_0x1ad60e['score']-_0x320b00['score']);if(_0x480800[0x0][_0x24c924(0x139)]>0x0)return _0x480800[0x0]['id'];}}}catch(_0x2b6b37){}return null;}async function scanThermostats(_0x4f5234){const _0x46c9f6=a1_0x2c829f,_0x283f8b=_0x4f5234[_0x46c9f6(0x148)][_0x46c9f6(0x140)]||[],_0x3ea772=[],_0x3cc867=_0x283f8b[_0x46c9f6(0x179)](_0x43d7d5=>_0x43d7d5['id']&&_0x43d7d5['id'][_0x46c9f6(0x19f)](_0x46c9f6(0x150))||_0x43d7d5[_0x46c9f6(0x1a8)]&&['temperature',_0x46c9f6(0x12d),_0x46c9f6(0x1ac)][_0x46c9f6(0x19f)](_0x43d7d5[_0x46c9f6(0x1a8)])||_0x43d7d5['name']&&_0x43d7d5['name'][_0x46c9f6(0x181)]()[_0x46c9f6(0x19f)](_0x46c9f6(0x146)));for(const _0x42297b of _0x3cc867){const _0x45ef17=await findRelatedId(_0x4f5234,_0x42297b['id'],_0x46c9f6(0x18e)),_0x434b09=await findRelatedId(_0x4f5234,_0x42297b['id'],_0x46c9f6(0x163));let _0x151fb6=_0x46c9f6(0x1be),_0x2664b5=![],_0x3aee1f=_0x4f5234[_0x46c9f6(0x148)][_0x46c9f6(0x188)]||{};if(typeof _0x3aee1f===_0x46c9f6(0x1b2))try{_0x3aee1f=JSON[_0x46c9f6(0x1de)](_0x3aee1f);}catch(_0x4d0460){}let _0x2695bb=_0x4f5234['config']['valveMapping']||{};if(typeof _0x2695bb==='string')try{_0x2695bb=JSON[_0x46c9f6(0x1de)](_0x2695bb);}catch(_0x83789e){}if(_0x3aee1f[_0x42297b['id']]&&_0x3aee1f[_0x42297b['id']]===_0x45ef17||_0x2695bb[_0x42297b['id']]&&_0x2695bb[_0x42297b['id']]===_0x434b09)_0x151fb6=_0x46c9f6(0x170),_0x2664b5=!![];else(_0x45ef17||_0x434b09)&&(_0x151fb6=_0x46c9f6(0x1a1));_0x3ea772[_0x46c9f6(0x162)]({'room':_0x42297b['location']||_0x46c9f6(0x183),'sensorId':_0x42297b['id'],'setpointId':_0x45ef17||'-','valveId':_0x434b09||'-','source':_0x151fb6,'isManual':_0x2664b5,'status':_0x45ef17&&_0x434b09?'PERFECT':_0x45ef17?'OK':'Fehlt'});}return _0x3ea772[_0x46c9f6(0x176)]((_0x8f4d3e,_0x29d65f)=>_0x8f4d3e[_0x46c9f6(0x155)][_0x46c9f6(0x19b)](_0x29d65f[_0x46c9f6(0x155)]));}async function updateSchedulePreview(_0x3aeb2d){const _0x1ba6cc=a1_0x2c829f;if(!_0x3aeb2d[_0x1ba6cc(0x148)][_0x1ba6cc(0x169)]||!_0x3aeb2d['config'][_0x1ba6cc(0x19d)])return;let _0x2af21f={};try{const _0x4680d7=await _0x3aeb2d[_0x1ba6cc(0x132)]('analysis.energy.warmupTimes');if(_0x4680d7&&_0x4680d7[_0x1ba6cc(0x15e)])_0x2af21f=JSON[_0x1ba6cc(0x1de)](_0x4680d7['val']);}catch(_0x1a041a){}const _0x504e2b=[],_0x3f8fcf=Date['now'](),_0x3806d8=0x30*0x3c*0x3c*0x3e8;try{const _0x1c8c00=await _0x3aeb2d[_0x1ba6cc(0x1dd)](_0x3aeb2d['config'][_0x1ba6cc(0x19d)]+'.data.table');if(!_0x1c8c00||!_0x1c8c00['val'])return;const _0x2e55e1=JSON[_0x1ba6cc(0x1de)](_0x1c8c00[_0x1ba6cc(0x15e)]),_0x6a5f53=_0x3aeb2d['config'][_0x1ba6cc(0x14e)]||[],_0x2e4846=_0x3aeb2d[_0x1ba6cc(0x148)][_0x1ba6cc(0x140)]||[],_0x197d88=new Set();_0x2e4846['forEach'](_0x7d155c=>{const _0x5c5ad2=_0x1ba6cc;if(_0x7d155c[_0x5c5ad2(0x1e4)])_0x197d88[_0x5c5ad2(0x190)](_0x7d155c['location']);});for(const _0x42093f of _0x2e55e1){if(_0x42093f[_0x1ba6cc(0x154)]&&_0x6a5f53[_0x1ba6cc(0x12c)]>0x0&&!_0x6a5f53[_0x1ba6cc(0x19f)](_0x42093f[_0x1ba6cc(0x154)]))continue;const _0x356872=_0x42093f[_0x1ba6cc(0x182)]||_0x42093f['eventStart']||_0x42093f['date'];if(!_0x356872)continue;const _0x427fd4=new Date(_0x356872),_0x56593c=_0x427fd4[_0x1ba6cc(0x174)]();if(isNaN(_0x56593c))continue;if(_0x56593c<_0x3f8fcf)continue;if(_0x56593c>_0x3f8fcf+_0x3806d8)continue;const _0x191a2d=(_0x42093f[_0x1ba6cc(0x151)]||_0x42093f[_0x1ba6cc(0x1db)]||'')[_0x1ba6cc(0x181)]();let _0x36a980=![],_0x591901=[],_0xcc0c3a=_0x42093f[_0x1ba6cc(0x151)]||_0x42093f[_0x1ba6cc(0x1db)]||_0x1ba6cc(0x183);if(_0x191a2d['includes'](_0x1ba6cc(0x17d))||_0x191a2d[_0x1ba6cc(0x19f)](_0x1ba6cc(0x1e7))||_0x191a2d[_0x1ba6cc(0x19f)](_0x1ba6cc(0x1a9)))_0x36a980=!![],_0x591901=Array[_0x1ba6cc(0x165)](_0x197d88);else for(const _0x34f67f of _0x197d88){if(_0x191a2d[_0x1ba6cc(0x19f)](_0x34f67f[_0x1ba6cc(0x181)]()))_0x591901[_0x1ba6cc(0x162)](_0x34f67f);}_0x591901['length']>0x0&&_0x591901[_0x1ba6cc(0x13d)](_0x13e0fe=>{const _0x470463=_0x1ba6cc;let _0x2ec26a=0x3c;if(_0x36a980){let _0x4ae4b7=0x0;Object[_0x470463(0x13a)](_0x2af21f)[_0x470463(0x13d)](_0x3b1ef0=>{if(_0x3b1ef0>_0x4ae4b7)_0x4ae4b7=_0x3b1ef0;}),_0x2ec26a=_0x4ae4b7>0x0?_0x4ae4b7:0x78;}else _0x2ec26a=getWarmupRobust(_0x2af21f,_0x13e0fe);const _0x57f31c=new Date(_0x56593c-_0x2ec26a*0xea60);_0x504e2b[_0x470463(0x162)]({'eventTime':_0x56593c,'triggerTime':_0x57f31c['getTime'](),'room':_0x13e0fe,'minutes':_0x2ec26a,'reason':_0xcc0c3a,'isGlobal':_0x36a980});});}}catch(_0x4efe0c){}_0x504e2b[_0x1ba6cc(0x176)]((_0x1378d3,_0x41c915)=>_0x1378d3[_0x1ba6cc(0x17a)]-_0x41c915[_0x1ba6cc(0x17a)]);const _0x382a82=_0x504e2b['slice'](0x0,0x5);await _0x3aeb2d[_0x1ba6cc(0x134)](_0x1ba6cc(0x197),{'val':JSON[_0x1ba6cc(0x171)](_0x382a82),'ack':!![]});}function a1_0xf4d3(_0x3045b0,_0x4c553b){const _0x5d0762=a1_0x1922();return a1_0xf4d3=function(_0x5a0910,_0x2d443b){_0x5a0910=_0x5a0910-0x12b;let _0x192284=_0x5d0762[_0x5a0910];return _0x192284;},a1_0xf4d3(_0x3045b0,_0x4c553b);}function a1_0x1922(){const _0x51df2a=['\x20auf\x20','now','messwert','cal_','3XVgaiP','until','¬∞C\x20(nicht\x20','message','length','thermostat','TRAIN_RL_PENALTY','ACTUAL','üßπ\x20[MPC\x20CLEANUP]\x20','[WATCHDOG]\x20','getStateAsync','üö®\x20[ENFORCEMENT]\x20Hardware-Profil\x20hat\x20','setStateAsync','common','¬∞C\x20->\x20','analysis.automation.actionLog','wert','score','values','find','2611272bhcmvl','forEach','exports','unshift','devices','\x20->\x20Schalte\x20','name','sendToPythonWrapper','¬∞C\x20(via\x20','replace','temp','toString','config','indexOf','4239772LhSdOP','setForeignStateAsync','default','üìÖ\x20SMART\x20SCHEDULE\x20[','calendarSelection','open','temperature','event','light','minutes_safe','_calName','room','window','\x27\x20hat\x20kein\x20Ger√§t\x20mehr.\x20L√∂sche\x20Eintrag.','thermostat.setpoint','apply','valveMapping','[MPC]\x20','5165210sOJvZD','toUpperCase','val','¬∞C).\x20Sparmodus\x20beendet!','approved','.1.LEVEL','push','valve','ACTUAL_TEMPERATURE','from','¬∞C!\x20(Puffer\x20leer).','log','valve_position','useCalendar','üéì\x20[RL-FEEDBACK]\x20Lerne\x20aus\x20Fehler:\x20','.4.SET_TEMPERATURE','number','.1.TEMPERATURE','analysis.energy.rlPenalties','state','Manuelles\x20Mapping','stringify','\x20min)','_meta','getTime','splice','sort','\x27\x20nach\x203\x20Tagen\x20abgelaufen.\x20System\x20darf\x20wieder\x20sparen.',':\x20Absenkung\x20auf\x20','filter','triggerTime','üî•\x20[MPC\x20ACTION]\x20Heize\x20','hm-rpc','urlaub\x20ende','2291190ncbCOv','value.valve','unit','toLowerCase','_date','Unbekannt','normal','analysis.energy.activeEnforcements','[MPC\x20WARNING]\x20Kein\x20Setpoint\x20f√ºr\x20','analysis.energy.warmupSources','thermostatMapping','./ai_agent','SET',':\x20Puffer\x20leer\x20->\x20Heizen\x20auf\x20','getForeignObjectAsync','position','setpoint','contact','add','analysis.energy.warmupTimes','target_temperature','level.valve','\x20wurde\x20manuell\x20erh√∂ht.','date','consultButler','analysis.energy.schedulePreview','error','üìÖ\x20[ENFORCEMENT]\x20Kalender-Event\x20in\x20','\x20->\x20','localeCompare','Pr√§diktion:\x20','calendarInstance','Enforcement\x20Monitor\x20Error:\x20','includes','switch','Auto-Erkennung','Soll','analysis.automation.mode','stellwert','\x20ist\x20zu\x20kalt,\x20ABER\x20Fenster\x20offen/L√ºftung\x20erkannt.\x20Heize\x20NICHT,\x20entferne\x20nur\x20Status.','\x20erreicht\x20Limit\x20(','getHours','type','ankunft','¬∞C\x20abgesenkt!\x20Zwinge\x20zur√ºck\x20auf\x20','remove','sensor','¬∞C).\x20Entferne\x20Status.',':\x20Aufheizen\x20auf\x20','level','actual','warn','string','analysis.energy.warmupTargets','info','.1.ACTUAL_TEMPERATURE','üçÉ\x20[MPC\x20ACTION]\x20Senke\x20','Ist','split','too_cold','slice','target','.1.SET_POINT_TEMPERATURE','level.temperature','Nicht\x20gefunden','[CAL]\x20','\x20gestartet/vorbei.\x20Gebe\x20Raum\x20frei.','manual','Unknown','8916903bmexSo','analysis.automation.lastAction','üìÖ\x20[MPC\x20INFO]\x20','21gEbsKq','¬∞C\x20(Vorlauf:\x20','184299OYsQDX','off','Classic','mpc_',')\x20aktiv.\x20Heize\x20auf\x20',']:\x20Raum-Trigger\x20\x27','currentSystemMode','\x20wieder\x20auf\x20','SET_POINT_TEMPERATURE','1742806twrfGn','¬∞C\x20(Kalender-Schutz)','active','\x20ist\x20auf\x20','20miBIzE','üå¨Ô∏è\x20[MPC\x20WATCHDOG]\x20','local_temperature','üßπ\x20[MPC\x20CLEANUP]\x20Raum\x20\x27','join','entries','summary','¬∞C\x20<\x20','getForeignStateAsync','parse','(((.+)+)+)+$','set','search','rescue_','analysis.energy.mpcActiveInterventions','location','\x20min).','role','r√ºckkehr','dimmer','isArray','[FORCE]\x20'];a1_0x1922=function(){return _0x51df2a;};return a1_0x1922();}async function monitorEnforcements(_0x10f2b3){const _0x35efad=a1_0x2c829f;try{const _0x3a597e=_0x35efad(0x185),_0x100bd1=await _0x10f2b3['getStateAsync'](_0x3a597e);if(!_0x100bd1||!_0x100bd1[_0x35efad(0x15e)])return;let _0x2ca122=[];try{_0x2ca122=JSON['parse'](_0x100bd1[_0x35efad(0x15e)]);}catch(_0x546c36){return;}if(!Array[_0x35efad(0x1e9)](_0x2ca122)||_0x2ca122[_0x35efad(0x12c)]===0x0)return;const _0x517b78=Date[_0x35efad(0x1ec)](),_0x17e26f=_0x10f2b3[_0x35efad(0x148)][_0x35efad(0x140)]||[];let _0x4219d6=![];for(let _0x24fcec=_0x2ca122[_0x35efad(0x12c)]-0x1;_0x24fcec>=0x0;_0x24fcec--){const _0x27dc58=_0x2ca122[_0x24fcec];if(_0x517b78>=_0x27dc58[_0x35efad(0x1f0)]){_0x10f2b3[_0x35efad(0x167)][_0x35efad(0x1b4)](_0x35efad(0x199)+_0x27dc58[_0x35efad(0x155)]+_0x35efad(0x1c0)),_0x2ca122[_0x35efad(0x175)](_0x24fcec,0x1),_0x4219d6=!![];continue;}const _0xc0093e=_0x17e26f['find'](_0x5d9fdd=>normalize(_0x5d9fdd['location'])===normalize(_0x27dc58['room'])&&(_0x5d9fdd[_0x35efad(0x1a8)]===_0x35efad(0x150)||_0x5d9fdd[_0x35efad(0x1a8)]===_0x35efad(0x12d)));if(_0xc0093e){const _0x172aeb=await findRelatedId(_0x10f2b3,_0xc0093e['id'],_0x35efad(0x18e));if(_0x172aeb){const _0x1814d4=await _0x10f2b3[_0x35efad(0x1dd)](_0x172aeb);_0x1814d4&&typeof _0x1814d4['val']===_0x35efad(0x16c)&&(_0x1814d4[_0x35efad(0x15e)]<0xf&&(_0x10f2b3[_0x35efad(0x167)][_0x35efad(0x1b1)](_0x35efad(0x133)+_0x27dc58[_0x35efad(0x155)]+_0x35efad(0x1eb)+_0x1814d4[_0x35efad(0x15e)]+_0x35efad(0x1aa)+_0x27dc58[_0x35efad(0x1bb)]+'¬∞C.'),await _0x10f2b3[_0x35efad(0x14b)](_0x172aeb,_0x27dc58[_0x35efad(0x1bb)]),await logAutomationAction(_0x10f2b3,_0x35efad(0x1ea)+_0x27dc58[_0x35efad(0x155)]+':\x20'+_0x1814d4[_0x35efad(0x15e)]+_0x35efad(0x136)+_0x27dc58['target']+_0x35efad(0x1d2))));}}}_0x4219d6&&await _0x10f2b3[_0x35efad(0x134)](_0x3a597e,{'val':JSON[_0x35efad(0x171)](_0x2ca122),'ack':!![]});}catch(_0x13d551){_0x10f2b3[_0x35efad(0x167)][_0x35efad(0x198)](_0x35efad(0x19e)+_0x13d551[_0x35efad(0x12b)]);}}async function checkCalendarTriggers(_0x4532b1){const _0x1c0499=a1_0x2c829f;if(!_0x4532b1['config'][_0x1c0499(0x169)]||!_0x4532b1[_0x1c0499(0x148)][_0x1c0499(0x19d)])return;await updateSchedulePreview(_0x4532b1);let _0x5a0f59={},_0x4d48ea={};try{const _0x3d9155=await _0x4532b1[_0x1c0499(0x132)](_0x1c0499(0x191));if(_0x3d9155&&_0x3d9155['val'])_0x5a0f59=JSON['parse'](_0x3d9155[_0x1c0499(0x15e)]);const _0x4bec3a=await _0x4532b1[_0x1c0499(0x132)](_0x1c0499(0x187));if(_0x4bec3a&&_0x4bec3a['val'])_0x4d48ea=JSON[_0x1c0499(0x1de)](_0x4bec3a[_0x1c0499(0x15e)]);}catch(_0x560253){}let _0x41a0f2={'default':0x15};try{const _0x236d2e=await _0x4532b1[_0x1c0499(0x132)](_0x1c0499(0x1b3));if(_0x236d2e&&_0x236d2e[_0x1c0499(0x15e)])_0x41a0f2=JSON['parse'](_0x236d2e[_0x1c0499(0x15e)]);}catch(_0x4864f9){}let _0x4abbd5=[];try{const _0x57b232=await _0x4532b1[_0x1c0499(0x132)](_0x1c0499(0x185));if(_0x57b232&&_0x57b232[_0x1c0499(0x15e)])_0x4abbd5=JSON['parse'](_0x57b232[_0x1c0499(0x15e)]);}catch(_0x5726f5){}try{const _0x4adbca=await _0x4532b1[_0x1c0499(0x1dd)](_0x4532b1['config']['calendarInstance']+'.data.table');if(!_0x4adbca||!_0x4adbca[_0x1c0499(0x15e)])return;const _0x58a8fb=JSON[_0x1c0499(0x1de)](_0x4adbca[_0x1c0499(0x15e)]),_0x4c878f=Date[_0x1c0499(0x1ec)](),_0x153a12=_0x4532b1['config'][_0x1c0499(0x140)]||[],_0x543d1d=_0x4532b1[_0x1c0499(0x148)][_0x1c0499(0x14e)]||[];let _0x3ec5d0=![];for(const _0x28a757 of _0x58a8fb){if(_0x28a757['_calName']&&_0x543d1d[_0x1c0499(0x12c)]>0x0&&!_0x543d1d[_0x1c0499(0x19f)](_0x28a757[_0x1c0499(0x154)]))continue;const _0x76f229=_0x28a757[_0x1c0499(0x182)]||_0x28a757['eventStart']||_0x28a757[_0x1c0499(0x195)];if(!_0x76f229)continue;const _0x308ad4=new Date(_0x76f229);if(isNaN(_0x308ad4['getTime']()))continue;const _0x4bbeca=(_0x28a757['event']||_0x28a757['summary']||'')[_0x1c0499(0x181)]();if(_0x4bbeca[_0x1c0499(0x19f)]('urlaub\x20ende')||_0x4bbeca[_0x1c0499(0x19f)](_0x1c0499(0x1e7))||_0x4bbeca[_0x1c0499(0x19f)](_0x1c0499(0x1a9))){let _0x36cee4=0x0;Object[_0x1c0499(0x13a)](_0x5a0f59)[_0x1c0499(0x13d)](_0x57b547=>{if(_0x57b547>_0x36cee4)_0x36cee4=_0x57b547;});if(_0x36cee4===0x0)_0x36cee4=0x78;const _0x1c9624=_0x308ad4[_0x1c0499(0x174)]()-_0x36cee4*0xea60;_0x4c878f>=_0x1c9624&&_0x4c878f<_0x308ad4[_0x1c0499(0x174)]()&&(_0x4532b1[_0x1c0499(0x1ce)]!==_0x1c0499(0x184)&&(_0x4532b1['log']['info']('üìÖ\x20SMART\x20SCHEDULE\x20(Phase):\x20\x27Globaler\x20Start\x27\x20erkannt.\x20Heize\x20Haus\x20auf\x20(Vorlauf:\x20'+_0x36cee4+_0x1c0499(0x1e5)),await _0x4532b1[_0x1c0499(0x134)]('system.mode',{'val':_0x1c0499(0x184),'ack':![]})));}for(const _0x4275a7 of _0x153a12){if(_0x4275a7['location']){const _0x50cdcf=_0x4275a7[_0x1c0499(0x1e4)][_0x1c0499(0x181)](),_0x11c455=(_0x4275a7[_0x1c0499(0x142)]||'')[_0x1c0499(0x181)]();let _0x2da230=_0x4bbeca[_0x1c0499(0x19f)](_0x50cdcf);!_0x2da230&&_0x11c455['length']>0x3&&_0x4bbeca[_0x1c0499(0x19f)](_0x11c455)&&(_0x2da230=!![]);if(_0x2da230){const _0x5c3899=getWarmupRobust(_0x5a0f59,_0x4275a7[_0x1c0499(0x1e4)]),_0x1fc6b7=_0x4d48ea[_0x4275a7[_0x1c0499(0x1e4)]]||_0x1c0499(0x1ca),_0x34492b=_0x308ad4[_0x1c0499(0x174)]()-_0x5c3899*0xea60;if(_0x4c878f>=_0x34492b&&_0x4c878f<_0x308ad4['getTime']()){const _0x4ff63b=lastActions[_0x1c0499(0x1ee)+_0x4275a7[_0x1c0499(0x1e4)]];if(_0x4ff63b&&_0x4c878f-_0x4ff63b<CAL_COOLDOWN_MS)continue;const _0x3b253f=await findRelatedId(_0x4532b1,_0x4275a7['id'],_0x1c0499(0x18e));if(_0x3b253f){let _0x513c6e=_0x41a0f2[_0x4275a7[_0x1c0499(0x1e4)]];if(_0x513c6e===undefined)_0x513c6e=_0x41a0f2[_0x1c0499(0x14c)];if(_0x513c6e===undefined)_0x513c6e=0x15;const _0x4f4385=await _0x4532b1[_0x1c0499(0x1dd)](_0x3b253f);if(_0x4f4385&&typeof _0x4f4385[_0x1c0499(0x15e)]==='number'&&_0x4f4385[_0x1c0499(0x15e)]<_0x513c6e-0.5){_0x4532b1[_0x1c0499(0x167)][_0x1c0499(0x1b4)](_0x1c0499(0x14d)+_0x1fc6b7+_0x1c0499(0x1cd)+_0x4275a7['location']+'\x27\x20(Match:\x20'+_0x4bbeca+_0x1c0499(0x1cc)+_0x513c6e+_0x1c0499(0x1c7)+_0x5c3899+_0x1c0499(0x1e5)),await _0x4532b1[_0x1c0499(0x14b)](_0x3b253f,_0x513c6e),await logAutomationAction(_0x4532b1,_0x1c0499(0x1bf)+_0x4275a7[_0x1c0499(0x1e4)]+_0x1c0499(0x19a)+_0x513c6e+_0x1c0499(0x144)+_0x1fc6b7+')'),lastActions[_0x1c0499(0x1ee)+_0x4275a7['location']]=_0x4c878f;const _0xe76f5=_0x4abbd5['findIndex'](_0x5484ae=>_0x5484ae['room']===_0x4275a7['location']);if(_0xe76f5!==-0x1)_0x4abbd5['splice'](_0xe76f5,0x1);_0x4abbd5[_0x1c0499(0x162)]({'room':_0x4275a7[_0x1c0499(0x1e4)],'target':_0x513c6e,'until':_0x308ad4[_0x1c0499(0x174)]()}),_0x3ec5d0=!![];}}}}}}}_0x3ec5d0&&await _0x4532b1['setStateAsync'](_0x1c0499(0x185),{'val':JSON[_0x1c0499(0x171)](_0x4abbd5),'ack':!![]});}catch(_0x2bfada){_0x4532b1[_0x1c0499(0x167)][_0x1c0499(0x1b1)]('Calendar\x20Check\x20Error:\x20'+_0x2bfada[_0x1c0499(0x12b)]);}}async function manageMpcIntervention(_0x23e9ff,_0x505c21,_0x377150){const _0x51f4cf=a1_0x2c829f;try{const _0x43fc13=_0x51f4cf(0x1e3),_0x30ff58=await _0x23e9ff['getStateAsync'](_0x43fc13);let _0x1e98fb=[];if(_0x30ff58&&_0x30ff58[_0x51f4cf(0x15e)])try{_0x1e98fb=JSON[_0x51f4cf(0x1de)](_0x30ff58[_0x51f4cf(0x15e)]);}catch(_0x4afc28){}const _0x14e678=_0x1e98fb[_0x51f4cf(0x149)](_0x505c21);if(_0x377150===_0x51f4cf(0x190))_0x14e678===-0x1&&(_0x1e98fb[_0x51f4cf(0x162)](_0x505c21),await _0x23e9ff['setStateAsync'](_0x43fc13,{'val':JSON['stringify'](_0x1e98fb),'ack':!![]}));else _0x377150===_0x51f4cf(0x1ab)&&(_0x14e678!==-0x1&&(_0x1e98fb[_0x51f4cf(0x175)](_0x14e678,0x1),await _0x23e9ff[_0x51f4cf(0x134)](_0x43fc13,{'val':JSON['stringify'](_0x1e98fb),'ack':!![]})));}catch(_0x3b9a31){}}async function cleanupGhostInterventions(_0x10fb2a){const _0x20221d=a1_0x2c829f;try{const _0x2f3d1f=_0x20221d(0x1e3),_0x501451=await _0x10fb2a[_0x20221d(0x132)](_0x2f3d1f);if(!_0x501451||!_0x501451[_0x20221d(0x15e)])return;const _0x3ceeca=JSON[_0x20221d(0x1de)](_0x501451[_0x20221d(0x15e)]);if(!Array['isArray'](_0x3ceeca)||_0x3ceeca[_0x20221d(0x12c)]===0x0)return;let _0x5df3b0={'default':0x15};try{const _0x1dd90c=await _0x10fb2a['getStateAsync'](_0x20221d(0x1b3));if(_0x1dd90c&&_0x1dd90c[_0x20221d(0x15e)])_0x5df3b0=JSON[_0x20221d(0x1de)](_0x1dd90c['val']);}catch(_0x49cdda){}let _0x3c65f7=[];try{const _0x248c4b=await _0x10fb2a[_0x20221d(0x132)]('analysis.energy.ventilationAlerts');if(_0x248c4b&&_0x248c4b[_0x20221d(0x15e)])_0x3c65f7=JSON[_0x20221d(0x1de)](_0x248c4b['val']);}catch(_0x205344){}let _0x42c43e={},_0x112015=![];try{const _0x469756=await _0x10fb2a[_0x20221d(0x132)](_0x20221d(0x16e));if(_0x469756&&_0x469756['val'])_0x42c43e=JSON['parse'](_0x469756[_0x20221d(0x15e)]);}catch(_0x435d1b){}if(_0x42c43e[_0x20221d(0x173)]){const _0x2a4963=Date['now']();for(const [_0x2b5eef,_0x5c5af9]of Object['entries'](_0x42c43e['_meta'])){_0x2a4963-_0x5c5af9>PENALTY_TTL&&(delete _0x42c43e[_0x2b5eef],delete _0x42c43e[_0x20221d(0x173)][_0x2b5eef],_0x112015=!![],_0x10fb2a['log'][_0x20221d(0x1b4)]('üõ°Ô∏è\x20[PENALTY\x20EXPIRED]\x20Lern-Schutz\x20f√ºr\x20\x27'+_0x2b5eef+_0x20221d(0x177)));}}const _0x3f077e=_0x10fb2a[_0x20221d(0x148)][_0x20221d(0x140)]||[];let _0xfac368=![];for(let _0x2f3238=_0x3ceeca[_0x20221d(0x12c)]-0x1;_0x2f3238>=0x0;_0x2f3238--){const _0x2d95a6=_0x3ceeca[_0x2f3238],_0x2edf22=_0x3f077e['find'](_0x5585e8=>normalize(_0x5585e8[_0x20221d(0x1e4)])===normalize(_0x2d95a6)&&(_0x5585e8[_0x20221d(0x1a8)]==='temperature'||_0x5585e8['type']===_0x20221d(0x12d)));if(!_0x2edf22){_0x10fb2a['log']['warn'](_0x20221d(0x1d8)+_0x2d95a6+_0x20221d(0x157)),_0x3ceeca[_0x20221d(0x175)](_0x2f3238,0x1),_0xfac368=!![];continue;}if(_0x2edf22){const _0x418862=await findRelatedId(_0x10fb2a,_0x2edf22['id'],_0x20221d(0x18e)),_0x10adb6=await _0x10fb2a[_0x20221d(0x1dd)](_0x2edf22['id']);if(_0x418862){const _0x3daf0c=await _0x10fb2a[_0x20221d(0x1dd)](_0x418862);if(_0x3daf0c&&typeof _0x3daf0c['val']===_0x20221d(0x16c)){let _0x1a1476=![],_0x437e2a='';Math['abs'](_0x3daf0c[_0x20221d(0x15e)]-ECO_TEMP)>0.5&&(_0x1a1476=!![],_0x437e2a=_0x20221d(0x1c1));if(!_0x1a1476&&_0x10adb6&&typeof _0x10adb6['val']===_0x20221d(0x16c)){const _0x5439b3=_0x5df3b0[_0x2d95a6]||_0x5df3b0[_0x20221d(0x14c)]||0x15;_0x10adb6[_0x20221d(0x15e)]<_0x5439b3+0.2&&(_0x1a1476=!![],_0x437e2a='too_cold');}if(_0x1a1476){if(_0x437e2a==='manual'){_0x10fb2a[_0x20221d(0x167)][_0x20221d(0x1b4)](_0x20221d(0x130)+_0x2d95a6+_0x20221d(0x1d4)+_0x3daf0c[_0x20221d(0x15e)]+_0x20221d(0x1f1)+ECO_TEMP+_0x20221d(0x1ad));const _0x4a5c00=lastActions[_0x20221d(0x1ee)+_0x2d95a6],_0x5e54a6=_0x4a5c00&&Date[_0x20221d(0x1ec)]()-_0x4a5c00<0x2*0x3c*0x3e8;if(!_0x5e54a6&&_0x3daf0c[_0x20221d(0x15e)]>ECO_TEMP+0.5){_0x10fb2a['sendToPythonWrapper']&&(_0x10fb2a[_0x20221d(0x167)][_0x20221d(0x1b4)](_0x20221d(0x16a)+_0x2d95a6+_0x20221d(0x194)),_0x10fb2a[_0x20221d(0x143)](_0x20221d(0x12e),{'room':_0x2d95a6}));const _0x38a714=_0x2d95a6+'_'+new Date()[_0x20221d(0x1a7)]();if(!_0x42c43e[_0x38a714]){_0x42c43e[_0x38a714]=0x1;if(!_0x42c43e[_0x20221d(0x173)])_0x42c43e[_0x20221d(0x173)]={};_0x42c43e['_meta'][_0x38a714]=Date[_0x20221d(0x1ec)](),_0x112015=!![];}}else _0x5e54a6&&_0x10fb2a[_0x20221d(0x167)]['info'](_0x20221d(0x1c5)+_0x2d95a6+'\x20durch\x20Kalender\x20ge√§ndert.\x20Keine\x20RL-Strafe.');}else{if(_0x437e2a===_0x20221d(0x1b9)){let _0x2cc0ea=![];if(_0x3c65f7[_0x20221d(0x13b)](_0x202ad8=>_0x202ad8['room']===_0x2d95a6))_0x2cc0ea=!![];const _0x4220dd=_0x3f077e[_0x20221d(0x179)](_0x5bb113=>normalize(_0x5bb113[_0x20221d(0x1e4)])===normalize(_0x2d95a6)&&(_0x5bb113[_0x20221d(0x1a8)]===_0x20221d(0x156)||_0x5bb113[_0x20221d(0x1a8)]===_0x20221d(0x1ac)||_0x5bb113[_0x20221d(0x1a8)]===_0x20221d(0x18f)));for(const _0x30099a of _0x4220dd){try{const _0x30492a=await _0x10fb2a[_0x20221d(0x1dd)](_0x30099a['id']);if(_0x30492a&&(_0x30492a['val']===!![]||_0x30492a['val']===0x1||String(_0x30492a[_0x20221d(0x15e)])[_0x20221d(0x181)]()===_0x20221d(0x14f)))_0x2cc0ea=!![];}catch(_0x30552e){}}if(_0x2cc0ea)_0x10fb2a[_0x20221d(0x167)][_0x20221d(0x1b4)](_0x20221d(0x1d6)+_0x2d95a6+_0x20221d(0x1a5));else{const _0x354938=_0x5df3b0[_0x2d95a6]||_0x5df3b0[_0x20221d(0x14c)]||0x15;_0x10fb2a[_0x20221d(0x167)]['info']('üö®\x20[MPC\x20WATCHDOG]\x20'+_0x2d95a6+_0x20221d(0x1a6)+_0x10adb6['val']+_0x20221d(0x1dc)+(_0x354938+0.2)+_0x20221d(0x15f)),await _0x10fb2a[_0x20221d(0x14b)](_0x418862,_0x354938),await logAutomationAction(_0x10fb2a,_0x20221d(0x131)+_0x2d95a6+_0x20221d(0x18b)+_0x354938+'¬∞C'),lastActions[_0x20221d(0x1e2)+_0x2d95a6]=Date[_0x20221d(0x1ec)]();}}}_0x3ceeca[_0x20221d(0x175)](_0x2f3238,0x1),_0xfac368=!![];}}}}}_0xfac368&&await _0x10fb2a[_0x20221d(0x134)](_0x2f3d1f,{'val':JSON[_0x20221d(0x171)](_0x3ceeca),'ack':!![]}),_0x112015&&await _0x10fb2a['setStateAsync'](_0x20221d(0x16e),{'val':JSON[_0x20221d(0x171)](_0x42c43e),'ack':!![]});}catch(_0x4e9460){}}async function applyEnergySavings(_0x179982,_0x2cde35){const _0x2a1099=a1_0x2c829f;await cleanupGhostInterventions(_0x179982);if(!_0x2cde35||_0x2cde35[_0x2a1099(0x12c)]===0x0)return;const _0xb561c0=_0x179982['config']['devices']||[],_0x4f34f5=Date[_0x2a1099(0x1ec)]();for(const _0x3577cc of _0x2cde35){const _0x36fe4e=_0x3577cc[_0x2a1099(0x155)],_0xc442a8=_0x3577cc[_0x2a1099(0x153)],_0x2d0c32=_0x3577cc['target']||0x15;if(lastActions[_0x2a1099(0x1e2)+_0x36fe4e]&&_0x4f34f5-lastActions[_0x2a1099(0x1e2)+_0x36fe4e]<RESCUE_LOCK_MS)continue;const _0x22d8f2=_0xb561c0[_0x2a1099(0x13b)](_0x436a93=>normalize(_0x436a93[_0x2a1099(0x1e4)])===normalize(_0x36fe4e)&&(_0x436a93['type']===_0x2a1099(0x150)||_0x436a93[_0x2a1099(0x1a8)]===_0x2a1099(0x12d)));if(!_0x22d8f2)continue;const _0x15de20=await findRelatedId(_0x179982,_0x22d8f2['id'],'setpoint');if(_0x15de20){if(lastActions[_0x2a1099(0x1cb)+_0x36fe4e]&&_0x4f34f5-lastActions[_0x2a1099(0x1cb)+_0x36fe4e]<0x1e*0x3c*0x3e8)continue;const _0x13f7d2=await _0x179982[_0x2a1099(0x1dd)](_0x15de20);if(_0x13f7d2&&typeof _0x13f7d2['val']===_0x2a1099(0x16c)){const _0xd401dd=_0x13f7d2[_0x2a1099(0x15e)];_0xd401dd!==ECO_TEMP&&await manageMpcIntervention(_0x179982,_0x36fe4e,'remove');if(_0xc442a8>0x1e)_0xd401dd>ECO_TEMP+0.5&&(_0x179982['log'][_0x2a1099(0x1b4)](_0x2a1099(0x1b6)+_0x36fe4e+_0x2a1099(0x1eb)+ECO_TEMP+'¬∞C!\x20(Puffer:\x20'+_0xc442a8+_0x2a1099(0x172)),await _0x179982[_0x2a1099(0x14b)](_0x15de20,ECO_TEMP),await manageMpcIntervention(_0x179982,_0x36fe4e,_0x2a1099(0x190)),lastActions[_0x2a1099(0x1cb)+_0x36fe4e]=_0x4f34f5,await logAutomationAction(_0x179982,'[MPC]\x20'+_0x36fe4e+_0x2a1099(0x178)+ECO_TEMP+'¬∞C'));else _0xc442a8<=0xf&&(_0xd401dd<_0x2d0c32&&(_0x179982[_0x2a1099(0x167)]['info'](_0x2a1099(0x17b)+_0x36fe4e+_0x2a1099(0x1cf)+_0x2d0c32+_0x2a1099(0x166)),await _0x179982[_0x2a1099(0x14b)](_0x15de20,_0x2d0c32),await manageMpcIntervention(_0x179982,_0x36fe4e,_0x2a1099(0x1ab)),lastActions[_0x2a1099(0x1cb)+_0x36fe4e]=_0x4f34f5,await logAutomationAction(_0x179982,_0x2a1099(0x15b)+_0x36fe4e+_0x2a1099(0x1ae)+_0x2d0c32+'¬∞C')));}}else _0x179982[_0x2a1099(0x167)][_0x2a1099(0x1b1)](_0x2a1099(0x186)+_0x36fe4e+'\x20gefunden!');}}module[a1_0x2c829f(0x13e)]={'handlePrediction':handlePrediction,'applyEnergySavings':applyEnergySavings,'scanThermostats':scanThermostats,'checkCalendarTriggers':checkCalendarTriggers,'monitorEnforcements':monitorEnforcements,'updateSchedulePreview':updateSchedulePreview,'cleanupGhostInterventions':cleanupGhostInterventions};