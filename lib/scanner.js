const a1_0x44fd67=a1_0x3d50;function a1_0x301f(){const _0x2b1678=['consumption','update_pending','(((.+)+)+)+$','fire','.TEMPERATURE','.SWITCH','info.','state','length','motion','lowbat','contact','.ACTUAL','180LQrFJn','slice','getForeignObjectAsync','push','fault','bewegung','admin.','0_userdata.','match','unreach','üîç\x20Scanning\x20for\x20devices\x20(v0.13.12\x20-\x20Family\x20Name\x20Search)...','_command','stickyp_unreach','Enum','role','.OCCUPANCY','.RGB','security','shelly.','error_','name','endsWith','link_quality','getForeignObjectsAsync','type','2488040xJSkVN','members','startsWith','log','1122540chKKaZ','power','.CONTACT','opener','bidcos-rf','tuya.','value','constructor','degraded_chamber','enocean.','has','685003oDWCwM','2FDQkip','test.','door','thermostat','smoke_detector_alarm_status','virtuelle','window','current','heiz','toLowerCase','join','136IyXCAz','_score','search','licht','toString','boolean','55152QELdRD','common','dutycycle','515267dTXaxm','presence_detection_state','84auanVT','Auto\x20(Endings)','add','security_check','.PRESENCE_DETECTION_STATE','info','config_pending','split','test_','tado.','channel','number','.ON','lights','zwave.','temperature','.MOTION','sort','doors','occupancy','100431GeEHRa','test_result','hm-rpc.','sensor.window','.OFF','script.','heating','415331WzCUdl','virtual','apply','includes','switch.light','.STATE','hm-rcv-50','level','light','.LEVEL','12adRVHh','custom','error_code','.SATURATION','some','.SMOKE_DETECTOR_ALARM_STATUS','energy','debug','Bewegung','selectedFunctionIds','presence','object','smoke','illumination','Auto\x20+\x20Raum','enum.rooms.*','availability','battery','exports'];a1_0x301f=function(){return _0x2b1678;};return a1_0x301f();}(function(_0xd58e37,_0x13b067){const _0x1cad34=a1_0x3d50,_0x573776=_0xd58e37();while(!![]){try{const _0x7acf99=-parseInt(_0x1cad34(0xb4))/0x1+parseInt(_0x1cad34(0xa0))/0x2*(-parseInt(_0x1cad34(0xca))/0x3)+-parseInt(_0x1cad34(0xdb))/0x4*(-parseInt(_0x1cad34(0x90))/0x5)+-parseInt(_0x1cad34(0xb6))/0x6*(parseInt(_0x1cad34(0xd1))/0x7)+parseInt(_0x1cad34(0xab))/0x8*(-parseInt(_0x1cad34(0xb1))/0x9)+-parseInt(_0x1cad34(0x94))/0xa+-parseInt(_0x1cad34(0x9f))/0xb*(-parseInt(_0x1cad34(0xfb))/0xc);if(_0x7acf99===_0x13b067)break;else _0x573776['push'](_0x573776['shift']());}catch(_0x451a03){_0x573776['push'](_0x573776['shift']());}}}(a1_0x301f,0xcae6b));const a1_0x2da7ed=(function(){let _0x7b5e0=!![];return function(_0x20c1fa,_0x618fb4){const _0x38381b=_0x7b5e0?function(){const _0x211aa6=a1_0x3d50;if(_0x618fb4){const _0x3ddb94=_0x618fb4[_0x211aa6(0xd3)](_0x20c1fa,arguments);return _0x618fb4=null,_0x3ddb94;}}:function(){};return _0x7b5e0=![],_0x38381b;};}()),a1_0x1b3b32=a1_0x2da7ed(this,function(){const _0x1837b9=a1_0x3d50;return a1_0x1b3b32[_0x1837b9(0xaf)]()[_0x1837b9(0xad)](_0x1837b9(0xf0))[_0x1837b9(0xaf)]()[_0x1837b9(0x9b)](a1_0x1b3b32)[_0x1837b9(0xad)]('(((.+)+)+)+$');});a1_0x1b3b32();'use strict';const ALLOWED_ADAPTERS=[a1_0x44fd67(0xcc),'zigbee.','hue.',a1_0x44fd67(0x89),'sonoff.',a1_0x44fd67(0xc4),'mqtt.','alias.',a1_0x44fd67(0x7e),a1_0x44fd67(0x99),'deconz.',a1_0x44fd67(0x9d),a1_0x44fd67(0xbf)],IGNORED_PATTERNS=[':0.',a1_0x44fd67(0xcf),'system.',a1_0x44fd67(0x7d),a1_0x44fd67(0xf4),a1_0x44fd67(0x80),a1_0x44fd67(0x83),a1_0x44fd67(0xbc),a1_0x44fd67(0xef),'device_query',a1_0x44fd67(0x7b),a1_0x44fd67(0xf8),a1_0x44fd67(0xb3),'rssi',a1_0x44fd67(0x8d),a1_0x44fd67(0xeb),a1_0x44fd67(0xec),'voltage',a1_0x44fd67(0xa7),a1_0x44fd67(0x95),a1_0x44fd67(0xe1),a1_0x44fd67(0xee),a1_0x44fd67(0x8a),a1_0x44fd67(0x9c),a1_0x44fd67(0xcb),a1_0x44fd67(0x82),'status_message',a1_0x44fd67(0xdd),a1_0x44fd67(0xd7),a1_0x44fd67(0x98),a1_0x44fd67(0xa5),a1_0x44fd67(0xd2),a1_0x44fd67(0xa1),a1_0x44fd67(0xbe),a1_0x44fd67(0xe2)],VALID_ENDINGS=[a1_0x44fd67(0xd6),a1_0x44fd67(0xda),'.ON',a1_0x44fd67(0xce),a1_0x44fd67(0x86),'.PRESENCE',a1_0x44fd67(0xba),a1_0x44fd67(0xe0),'.CONTACT',a1_0x44fd67(0xc6),a1_0x44fd67(0xfa),'.SET',a1_0x44fd67(0xf2),'.BRIGHTNESS','.ILLUMINATION','.HUE',a1_0x44fd67(0xde),a1_0x44fd67(0x87),a1_0x44fd67(0xf3),'.LOCK_STATE','.VALVE_STATE'];async function scanForDevices(_0x2160b8,_0x5f0fe9){const _0x491d60=a1_0x44fd67;_0x2160b8['log'][_0x491d60(0xbb)](_0x491d60(0x81));const _0x1f1a8b=[],_0x17e853=await _0x2160b8['getForeignObjectsAsync']('*'),_0x7e7759={},_0x5eff2f=new Set();try{const _0x33f83c=await _0x2160b8[_0x491d60(0x8e)](_0x491d60(0xea),'enum');for(const _0x4ddc02 in _0x33f83c){const _0x208776=_0x33f83c[_0x4ddc02],_0x47879a=(_0x208776[_0x491d60(0xb2)]&&typeof _0x208776[_0x491d60(0xb2)][_0x491d60(0x8b)]===_0x491d60(0xe6)?_0x208776['common'][_0x491d60(0x8b)]['de']:_0x208776[_0x491d60(0xb2)][_0x491d60(0x8b)])||_0x208776['common'][_0x491d60(0x8b)];_0x47879a&&_0x5eff2f[_0x491d60(0xb8)](_0x47879a);if(_0x208776['common']&&_0x208776[_0x491d60(0xb2)][_0x491d60(0x91)])for(const _0x3eac59 of _0x208776['common']['members']){_0x7e7759[_0x3eac59]=_0x47879a;}}}catch(_0x816771){}let _0x266ebd=new Set(),_0x491604={};if(_0x5f0fe9[_0x491d60(0xe4)]&&_0x5f0fe9[_0x491d60(0xe4)][_0x491d60(0xf6)]>0x0)for(const _0x17afa4 of _0x5f0fe9[_0x491d60(0xe4)]){const _0x57cd8b=await _0x2160b8[_0x491d60(0x79)](_0x17afa4);if(_0x57cd8b&&_0x57cd8b[_0x491d60(0xb2)]&&_0x57cd8b[_0x491d60(0xb2)][_0x491d60(0x91)]){let _0x5ebe4e=null;const _0x3ddb60=_0x17afa4[_0x491d60(0xa9)]();if(_0x3ddb60[_0x491d60(0xd4)](_0x491d60(0xd9))||_0x3ddb60[_0x491d60(0xd4)](_0x491d60(0xae)))_0x5ebe4e='light';else{if(_0x3ddb60[_0x491d60(0xd4)](_0x491d60(0xd0))||_0x3ddb60[_0x491d60(0xd4)](_0x491d60(0xa3)))_0x5ebe4e='temperature';else{if(_0x3ddb60[_0x491d60(0xd4)]('window')||_0x3ddb60[_0x491d60(0xd4)](_0x491d60(0xa2))||_0x3ddb60['includes']('fenster')||_0x3ddb60[_0x491d60(0xd4)]('t√ºr'))_0x5ebe4e=_0x491d60(0xa2);else{if(_0x3ddb60[_0x491d60(0xd4)]('motion')||_0x3ddb60[_0x491d60(0xd4)](_0x491d60(0x7c)))_0x5ebe4e=_0x491d60(0xf7);else{if(_0x3ddb60[_0x491d60(0xd4)](_0x491d60(0x88))||_0x3ddb60[_0x491d60(0xd4)]('sicherheit'))_0x5ebe4e=_0x491d60(0xb9);}}}}for(const _0x4d54b1 of _0x57cd8b['common'][_0x491d60(0x91)]){_0x266ebd[_0x491d60(0xb8)](_0x4d54b1),_0x5ebe4e&&_0x5ebe4e!=='security_check'&&(_0x491604[_0x4d54b1]=_0x5ebe4e);}}}for(const _0x810431 in _0x17e853){const _0x180041=_0x17e853[_0x810431];if(!_0x180041||!_0x180041['common']||_0x180041[_0x491d60(0x8f)]!=='state')continue;const _0x3a0019=_0x810431['toUpperCase'](),_0x529ee1=_0x810431[_0x491d60(0xa9)]();if(!ALLOWED_ADAPTERS['some'](_0x377907=>_0x810431[_0x491d60(0x92)](_0x377907)))continue;if(IGNORED_PATTERNS[_0x491d60(0xdf)](_0x5ed936=>_0x529ee1[_0x491d60(0xd4)](_0x5ed936)))continue;const _0x32f621=_0x810431[_0x491d60(0xbd)]('.'),_0x2302cb=_0x32f621[_0x491d60(0xfc)](0x0,-0x1)[_0x491d60(0xaa)]('.'),_0x513a76=_0x32f621[_0x491d60(0xfc)](0x0,-0x2)[_0x491d60(0xaa)]('.'),_0x2525e6=_0x266ebd[_0x491d60(0x9e)](_0x810431)||_0x266ebd[_0x491d60(0x9e)](_0x2302cb)||_0x266ebd[_0x491d60(0x9e)](_0x513a76),_0x2e373c=VALID_ENDINGS[_0x491d60(0xdf)](_0x5956ac=>_0x3a0019[_0x491d60(0x8c)](_0x5956ac));if(!_0x2525e6&&!_0x2e373c)continue;let _0x442210=_0x491604[_0x810431]||_0x491604[_0x2302cb]||_0x491604[_0x513a76]||null,_0x3e8038=(_0x180041['common'][_0x491d60(0x85)]||'')[_0x491d60(0xa9)]();const _0x42bc7e=(_0x180041[_0x491d60(0xb2)][_0x491d60(0x8b)]&&typeof _0x180041[_0x491d60(0xb2)][_0x491d60(0x8b)]==='object'?_0x180041['common'][_0x491d60(0x8b)]['de']:_0x180041['common'][_0x491d60(0x8b)]||'')[_0x491d60(0xa9)]();if(!_0x442210||_0x2525e6&&!_0x442210){if(_0x3e8038['includes']('fire')||_0x3e8038[_0x491d60(0xd4)](_0x491d60(0xe7))||_0x3a0019['includes']('SMOKE_DETECTOR'))_0x442210=_0x491d60(0xf1);}if(!_0x442210){const _0x2e0a11=_0x42bc7e[_0x491d60(0xd4)](_0x491d60(0xa8))||_0x42bc7e[_0x491d60(0xd4)](_0x491d60(0xa3))||_0x42bc7e[_0x491d60(0xd4)]('valve')||_0x3e8038[_0x491d60(0xd4)]('valve')||_0x3e8038[_0x491d60(0xd4)]('climate');if(_0x3e8038['includes']('motion')||_0x3e8038[_0x491d60(0xd4)](_0x491d60(0xe5))||_0x3a0019[_0x491d60(0x8c)](_0x491d60(0x86))||_0x3a0019['endsWith']('.PRESENCE')||_0x3a0019[_0x491d60(0x8c)](_0x491d60(0xba))){if(_0x180041['common'][_0x491d60(0x8f)]===_0x491d60(0xb0))_0x442210=_0x491d60(0xf7);}if(!_0x442210&&(_0x3e8038[_0x491d60(0xd4)](_0x491d60(0xa6))||_0x3e8038[_0x491d60(0xd4)](_0x491d60(0xa2))||_0x3e8038[_0x491d60(0xd4)](_0x491d60(0xf9))||_0x3a0019[_0x491d60(0x8c)](_0x491d60(0x96))||_0x3a0019[_0x491d60(0x8c)](_0x491d60(0xd6))&&(_0x3e8038===_0x491d60(0xcd)||_0x3e8038==='sensor.door'))){if(!_0x3e8038[_0x491d60(0xd4)](_0x491d60(0x97))&&!_0x3e8038['includes']('lock'))_0x442210=_0x491d60(0xa2);}!_0x442210&&!_0x2e0a11&&((_0x3e8038[_0x491d60(0xd4)](_0x491d60(0xd9))||_0x3e8038[_0x491d60(0xd4)]('dimmer')||_0x3e8038['includes'](_0x491d60(0xd5))||(_0x3a0019[_0x491d60(0x8c)](_0x491d60(0xc2))||_0x3a0019['endsWith'](_0x491d60(0xda)))&&!_0x3e8038[_0x491d60(0xd4)]('button'))&&(_0x442210=_0x491d60(0xd9)));if(!_0x442210&&(_0x3e8038['includes'](_0x491d60(0xc5))||_0x3e8038[_0x491d60(0xd4)](_0x491d60(0xa3))||_0x3a0019[_0x491d60(0x8c)]('.ACTUAL')||_0x3a0019[_0x491d60(0x8c)](_0x491d60(0xf2)))){if(_0x180041[_0x491d60(0xb2)][_0x491d60(0x8f)]===_0x491d60(0xc1))_0x442210=_0x491d60(0xc5);}}if(_0x2525e6&&!_0x442210)_0x442210=_0x491d60(0xdc);if(_0x442210&&!_0x2525e6){if(_0x442210===_0x491d60(0xf7)&&!_0x5f0fe9[_0x491d60(0xf7)])continue;if(_0x442210===_0x491d60(0xa2)&&!_0x5f0fe9[_0x491d60(0xc8)])continue;if(_0x442210===_0x491d60(0xd9)&&!_0x5f0fe9[_0x491d60(0xc3)])continue;if(_0x442210===_0x491d60(0xc5)&&!_0x5f0fe9['temperature'])continue;if(_0x442210===_0x491d60(0xf1))continue;}if(_0x442210){let _0x1c887c=_0x180041['common'][_0x491d60(0x8b)]&&typeof _0x180041[_0x491d60(0xb2)][_0x491d60(0x8b)]===_0x491d60(0xe6)?_0x180041['common'][_0x491d60(0x8b)]['de']:_0x180041[_0x491d60(0xb2)][_0x491d60(0x8b)],_0x317650=_0x7e7759[_0x810431]||_0x7e7759[_0x2302cb]||_0x7e7759[_0x513a76];const _0x183e5a=[_0x491d60(0xf5),_0x491d60(0xd8),_0x491d60(0x9a),'on','off',_0x491d60(0xc9),_0x491d60(0xe5),_0x491d60(0xb5),'contact',_0x491d60(0xa4),'brightness',_0x491d60(0xe8)],_0x55d40f=_0x17e853[_0x2302cb];let _0x2ce2ae='';_0x55d40f&&_0x55d40f[_0x491d60(0xb2)]&&_0x55d40f[_0x491d60(0xb2)]['name']&&(_0x2ce2ae=typeof _0x55d40f[_0x491d60(0xb2)]['name']===_0x491d60(0xe6)?_0x55d40f[_0x491d60(0xb2)][_0x491d60(0x8b)]['de']:_0x55d40f[_0x491d60(0xb2)]['name']);const _0x347f58=_0x17e853[_0x513a76];let _0x8b626e='';_0x347f58&&_0x347f58['common']&&_0x347f58[_0x491d60(0xb2)]['name']&&(_0x8b626e=typeof _0x347f58[_0x491d60(0xb2)][_0x491d60(0x8b)]===_0x491d60(0xe6)?_0x347f58[_0x491d60(0xb2)][_0x491d60(0x8b)]['de']:_0x347f58[_0x491d60(0xb2)][_0x491d60(0x8b)]);if(!_0x1c887c||_0x183e5a[_0x491d60(0xdf)](_0x2c2670=>(_0x1c887c||'')[_0x491d60(0xa9)]()===_0x2c2670)||(_0x1c887c||'')[_0x491d60(0x7f)](/0x[0-9a-fA-F]+/)){if(_0x2ce2ae)_0x1c887c=_0x2ce2ae;else{if(_0x8b626e)_0x1c887c=_0x8b626e;}if((!_0x1c887c||_0x1c887c[_0x491d60(0xa9)]()[_0x491d60(0xd4)](_0x491d60(0xc0)))&&_0x317650){const _0x46c23d=_0x442210===_0x491d60(0xf7)?_0x491d60(0xe3):_0x442210===_0x491d60(0xa2)?'Fenster':_0x442210===_0x491d60(0xf1)?'Rauchmelder':_0x442210;_0x1c887c=_0x317650+'\x20'+_0x46c23d;}else{if(!_0x1c887c)_0x1c887c=_0x810431;}}if(!_0x317650){const _0x5eb710=(_0x1c887c+'\x20'+_0x2ce2ae+'\x20'+_0x8b626e)[_0x491d60(0xa9)]();for(const _0x131fee of _0x5eff2f){if(_0x5eb710[_0x491d60(0xd4)](_0x131fee[_0x491d60(0xa9)]())){_0x317650=_0x131fee;break;}}}if(!_0x2525e6&&!_0x317650)continue;let _0x56b3e7=0x32,_0x37f93c=_0x491d60(0xb7);if(_0x2525e6)_0x56b3e7=0x5a,_0x37f93c=_0x491d60(0x84);else _0x317650&&(_0x56b3e7=0x46,_0x37f93c=_0x491d60(0xe9));_0x1f1a8b[_0x491d60(0x7a)]({'id':_0x810431,'name':_0x1c887c,'type':_0x442210,'location':_0x317650||'','_score':_0x56b3e7,'_source':_0x37f93c});}}return _0x1f1a8b[_0x491d60(0xc7)]((_0x132abe,_0x56e359)=>_0x56e359['_score']-_0x132abe[_0x491d60(0xac)]),_0x2160b8[_0x491d60(0x93)][_0x491d60(0xbb)]('üîç\x20Family\x20Scan\x20(v0.13.12)\x20found\x20'+_0x1f1a8b[_0x491d60(0xf6)]+'\x20devices.'),_0x1f1a8b;}function a1_0x3d50(_0x21a9d1,_0x4f8168){const _0x43d2b6=a1_0x301f();return a1_0x3d50=function(_0x1b3b32,_0x2da7ed){_0x1b3b32=_0x1b3b32-0x79;let _0x301f2b=_0x43d2b6[_0x1b3b32];return _0x301f2b;},a1_0x3d50(_0x21a9d1,_0x4f8168);}module[a1_0x44fd67(0xed)]={'scanForDevices':scanForDevices};