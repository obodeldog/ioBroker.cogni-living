const a1_0x7f4617=a1_0x3421;(function(_0x2a0260,_0x2b29d4){const _0x4d9136=a1_0x3421,_0x45e8bb=_0x2a0260();while(!![]){try{const _0x12a5ca=parseInt(_0x4d9136(0xba))/0x1+parseInt(_0x4d9136(0xcb))/0x2+parseInt(_0x4d9136(0xf0))/0x3+-parseInt(_0x4d9136(0xcc))/0x4+-parseInt(_0x4d9136(0xc4))/0x5+-parseInt(_0x4d9136(0xaf))/0x6+parseInt(_0x4d9136(0xc8))/0x7;if(_0x12a5ca===_0x2b29d4)break;else _0x45e8bb['push'](_0x45e8bb['shift']());}catch(_0x3af3e5){_0x45e8bb['push'](_0x45e8bb['shift']());}}}(a1_0x491c,0x9eafd));const a1_0x5be733=(function(){let _0x4fa367=!![];return function(_0x50f3e2,_0x2f7f50){const _0x41e80d=_0x4fa367?function(){if(_0x2f7f50){const _0x23baef=_0x2f7f50['apply'](_0x50f3e2,arguments);return _0x2f7f50=null,_0x23baef;}}:function(){};return _0x4fa367=![],_0x41e80d;};}()),a1_0xd25557=a1_0x5be733(this,function(){const _0x25946d=a1_0x3421;return a1_0xd25557[_0x25946d(0xd8)]()[_0x25946d(0xdb)](_0x25946d(0xe6))[_0x25946d(0xd8)]()[_0x25946d(0xdc)](a1_0xd25557)[_0x25946d(0xdb)](_0x25946d(0xe6));});a1_0xd25557();'use strict';function a1_0x3421(_0x27a54f,_0x36b9e7){const _0x2446aa=a1_0x491c();return a1_0x3421=function(_0xd25557,_0x5be733){_0xd25557=_0xd25557-0xaa;let _0x491cf8=_0x2446aa[_0xd25557];return _0x491cf8;},a1_0x3421(_0x27a54f,_0x36b9e7);}function a1_0x491c(){const _0x2f485f=['doors','occupancy','members','toString','sonoff','window','search','constructor','motion','.MOTION','slice','zwave','.sensor.window','rauch','length','Bewegung','.open','(((.+)+)+)+$','enocean','smoke','.Temperature','enum','üîç\x20Scanning\x20for\x20devices\x20(v0.13.5\x20-\x20Radical\x20Whitelist)...','getForeignObjectsAsync','name','_score','hm-rpc','618165LePfUT','fire','shelly','\x20strict\x20matches.','fenster','.sensor.door','0_userdata','toLowerCase','channel','enum.rooms.*','join','has','lights','light','.occupancy','state','warn','endsWith','bewegung','Could\x20not\x20load\x20rooms:\x20','.temperature','log','message','4291650iHzhQH','custom','mqtt','type','.on','door','hue','device','.LEVEL','getForeignObjectAsync','some','736530XJEJIi','Auto\x20(Suffix)','Rauchmelder','.STATE','includes','number','object','sort',':0.','.contact','497620CqALKx','tado','contact','.presence','4509799hWmmUt','zigbee','common','815648COWkiW','2119544OActhP','.motion','selectedFunctionIds','info','.smoke','.humidity','split','.brightness','temperature'];a1_0x491c=function(){return _0x2f485f;};return a1_0x491c();}const ALLOWED_NAMESPACES=['hm-rpc',a1_0x7f4617(0xc9),a1_0x7f4617(0xb5),a1_0x7f4617(0xf2),a1_0x7f4617(0xd9),a1_0x7f4617(0xe0),a1_0x7f4617(0xb1),'alias',a1_0x7f4617(0xf6),'tuya','deconz',a1_0x7f4617(0xe7),a1_0x7f4617(0xc5)],VALID_SUFFIXES={'motion':[a1_0x7f4617(0xde),'.PRESENCE_DETECTION_STATE',a1_0x7f4617(0xfe),a1_0x7f4617(0xc7),a1_0x7f4617(0xcd),'.Motion'],'door':['.STATE',a1_0x7f4617(0xc3),'.opened',a1_0x7f4617(0xe5),'.Door','.Window',a1_0x7f4617(0xf5),a1_0x7f4617(0xe1)],'light':[a1_0x7f4617(0xbd),a1_0x7f4617(0xb7),a1_0x7f4617(0xb3),'.bri','.brightness','.Switch',a1_0x7f4617(0xd3)],'fire':[a1_0x7f4617(0xbd),a1_0x7f4617(0xd0),'.fire','.gas','.alarm'],'temperature':['.ACTUAL_TEMPERATURE','.SET_POINT_TEMPERATURE',a1_0x7f4617(0xac),a1_0x7f4617(0xd1),a1_0x7f4617(0xe9)]};async function scanForDevices(_0x2b532d,_0x168d69){const _0x301c99=a1_0x7f4617;_0x2b532d['log'][_0x301c99(0xcf)](_0x301c99(0xeb));const _0x51e42f=[],_0x54d5c3=await _0x2b532d[_0x301c99(0xec)]('*'),_0x540b48={};try{const _0x2cc6b9=await _0x2b532d[_0x301c99(0xec)](_0x301c99(0xf9),_0x301c99(0xea));for(const _0x50a712 in _0x2cc6b9){const _0x48e04f=_0x2cc6b9[_0x50a712],_0x3336cb=(_0x48e04f[_0x301c99(0xca)]&&typeof _0x48e04f[_0x301c99(0xca)]['name']===_0x301c99(0xc0)?_0x48e04f[_0x301c99(0xca)][_0x301c99(0xed)]['de']:_0x48e04f[_0x301c99(0xca)]['name'])||_0x48e04f[_0x301c99(0xca)][_0x301c99(0xed)];if(_0x48e04f[_0x301c99(0xca)]&&_0x48e04f['common']['members'])for(const _0xdfc27b of _0x48e04f[_0x301c99(0xca)][_0x301c99(0xd7)]){_0x540b48[_0xdfc27b]=_0x3336cb;}}}catch(_0x32b696){_0x2b532d['log'][_0x301c99(0x100)](_0x301c99(0xab)+_0x32b696[_0x301c99(0xae)]);}let _0x42be14=new Set(),_0x36bc5a=![];if(_0x168d69['selectedFunctionIds']&&_0x168d69[_0x301c99(0xce)][_0x301c99(0xe3)]>0x0){_0x36bc5a=!![];for(const _0x162372 of _0x168d69[_0x301c99(0xce)]){const _0x568de4=await _0x2b532d[_0x301c99(0xb8)](_0x162372);if(_0x568de4&&_0x568de4[_0x301c99(0xca)]&&_0x568de4[_0x301c99(0xca)][_0x301c99(0xd7)])for(const _0x100ed7 of _0x568de4[_0x301c99(0xca)]['members']){_0x42be14['add'](_0x100ed7);}}}for(const _0x4a5f90 in _0x54d5c3){const _0x316443=_0x54d5c3[_0x4a5f90];if(!_0x316443||!_0x316443[_0x301c99(0xca)]||_0x316443['type']!==_0x301c99(0xff))continue;const _0x22d56c=_0x4a5f90[_0x301c99(0xd2)]('.'),_0x402f9f=_0x22d56c[0x0];if(!ALLOWED_NAMESPACES[_0x301c99(0xbe)](_0x402f9f))continue;if(_0x4a5f90['includes'](_0x301c99(0xc2))&&_0x402f9f===_0x301c99(0xef))continue;let _0x2e0528=null,_0x4b6e8b=0x0,_0xc29349='';if(_0x36bc5a&&_0x42be14[_0x301c99(0xfb)](_0x4a5f90)){_0x4b6e8b=0x5a,_0xc29349='Enum';const _0x1d2d6c=(_0x316443[_0x301c99(0xca)]['role']||'')['toLowerCase'](),_0x39697b=(_0x316443[_0x301c99(0xca)]['name']&&typeof _0x316443[_0x301c99(0xca)][_0x301c99(0xed)]===_0x301c99(0xc0)?_0x316443[_0x301c99(0xca)][_0x301c99(0xed)]['de']:_0x316443[_0x301c99(0xca)]['name'])||'',_0x173b84=_0x4a5f90[_0x301c99(0xf7)]();if(_0x1d2d6c[_0x301c99(0xbe)](_0x301c99(0xdd))||_0x39697b['toLowerCase']()[_0x301c99(0xbe)](_0x301c99(0xaa))||_0x173b84[_0x301c99(0xbe)](_0x301c99(0xd6)))_0x2e0528='motion';else{if(_0x1d2d6c['includes']('fire')||_0x1d2d6c[_0x301c99(0xbe)](_0x301c99(0xe8))||_0x39697b['toLowerCase']()['includes'](_0x301c99(0xe2))||_0x173b84[_0x301c99(0x101)](_0x301c99(0xd0)))_0x2e0528=_0x301c99(0xf1);else{if(_0x1d2d6c[_0x301c99(0xbe)](_0x301c99(0xda))||_0x1d2d6c[_0x301c99(0xbe)](_0x301c99(0xb4))||_0x39697b[_0x301c99(0xf7)]()[_0x301c99(0xbe)](_0x301c99(0xf4))||_0x173b84['includes'](_0x301c99(0xc6)))_0x2e0528=_0x301c99(0xb4);else _0x2e0528=_0x301c99(0xb0);}}}if(!_0x2e0528&&!_0x36bc5a){if(_0x168d69['motion']&&VALID_SUFFIXES[_0x301c99(0xdd)][_0x301c99(0xb9)](_0x133075=>_0x4a5f90[_0x301c99(0x101)](_0x133075)))_0x2e0528=_0x301c99(0xdd);else{if(_0x168d69[_0x301c99(0xd5)]&&VALID_SUFFIXES[_0x301c99(0xb4)][_0x301c99(0xb9)](_0x3ea6a7=>_0x4a5f90[_0x301c99(0x101)](_0x3ea6a7)))_0x2e0528=_0x301c99(0xb4);else{if(_0x168d69[_0x301c99(0xfc)]&&VALID_SUFFIXES[_0x301c99(0xfd)][_0x301c99(0xb9)](_0x2ae2bd=>_0x4a5f90['endsWith'](_0x2ae2bd)))_0x2e0528=_0x301c99(0xfd);else{if(_0x168d69['temperature']&&VALID_SUFFIXES['temperature'][_0x301c99(0xb9)](_0x253ff1=>_0x4a5f90['endsWith'](_0x253ff1)))_0x2e0528=_0x301c99(0xd4);else{if(_0x168d69[_0x301c99(0xd5)]&&VALID_SUFFIXES['fire'][_0x301c99(0xb9)](_0x422568=>_0x4a5f90[_0x301c99(0x101)](_0x422568))&&(_0x4a5f90[_0x301c99(0xf7)]()[_0x301c99(0xbe)](_0x301c99(0xe8))||_0x4a5f90[_0x301c99(0xf7)]()[_0x301c99(0xbe)](_0x301c99(0xf1))))_0x2e0528='fire';}}}}}if(_0x2e0528){const _0x19e01f=_0x316443[_0x301c99(0xca)][_0x301c99(0xb2)];if((_0x2e0528==='motion'||_0x2e0528===_0x301c99(0xb4)||_0x2e0528===_0x301c99(0xf1))&&_0x19e01f!=='boolean')continue;if(_0x2e0528===_0x301c99(0xd4)&&_0x19e01f!==_0x301c99(0xbf))continue;let _0x357e80=(_0x316443[_0x301c99(0xca)][_0x301c99(0xed)]&&typeof _0x316443['common']['name']===_0x301c99(0xc0)?_0x316443[_0x301c99(0xca)][_0x301c99(0xed)]['de']:_0x316443[_0x301c99(0xca)]['name'])||_0x4a5f90[_0x301c99(0xd2)]('.')['pop'](),_0x32d495=_0x540b48[_0x4a5f90];if(!_0x32d495)_0x32d495=_0x540b48[_0x22d56c[_0x301c99(0xdf)](0x0,-0x1)[_0x301c99(0xfa)]('.')];if(!_0x32d495)_0x32d495=_0x540b48[_0x22d56c['slice'](0x0,-0x2)[_0x301c99(0xfa)]('.')];const _0xcd8a44=_0x22d56c[_0x301c99(0xdf)](0x0,-0x1)['join']('.'),_0x47a91d=await _0x2b532d['getForeignObjectAsync'](_0xcd8a44);if(_0x47a91d&&_0x47a91d[_0x301c99(0xca)]&&_0x47a91d[_0x301c99(0xca)][_0x301c99(0xed)]){let _0x30a45e=typeof _0x47a91d[_0x301c99(0xca)][_0x301c99(0xed)]===_0x301c99(0xc0)?_0x47a91d[_0x301c99(0xca)]['name']['de']:_0x47a91d[_0x301c99(0xca)][_0x301c99(0xed)];if(!_0x30a45e||_0x30a45e[_0x301c99(0xf7)]()===_0x301c99(0xb6)||_0x30a45e[_0x301c99(0xf7)]()[_0x301c99(0xbe)](_0x301c99(0xf8))){const _0x570857=_0x22d56c[_0x301c99(0xdf)](0x0,-0x2)[_0x301c99(0xfa)]('.'),_0xd1a32a=await _0x2b532d[_0x301c99(0xb8)](_0x570857);_0xd1a32a&&_0xd1a32a[_0x301c99(0xca)]&&_0xd1a32a[_0x301c99(0xca)][_0x301c99(0xed)]&&(_0x30a45e=typeof _0xd1a32a[_0x301c99(0xca)][_0x301c99(0xed)]===_0x301c99(0xc0)?_0xd1a32a[_0x301c99(0xca)]['name']['de']:_0xd1a32a[_0x301c99(0xca)][_0x301c99(0xed)]);}if(_0x30a45e)_0x357e80=_0x30a45e;}if((!_0x357e80||_0x357e80==='STATE'||_0x357e80===_0x301c99(0xd6))&&_0x32d495){const _0x50c5a3=_0x2e0528===_0x301c99(0xdd)?_0x301c99(0xe4):_0x2e0528===_0x301c99(0xb4)?'Fenster':_0x2e0528==='fire'?_0x301c99(0xbc):_0x2e0528;_0x357e80=_0x32d495+'\x20'+_0x50c5a3;}_0x4b6e8b===0x0&&(_0x4b6e8b=_0x32d495?0x50:0x3c,_0xc29349=_0x32d495?'Auto\x20(Room)':_0x301c99(0xbb)),_0x51e42f['push']({'id':_0x4a5f90,'name':_0x357e80,'type':_0x2e0528,'location':_0x32d495||'','_score':_0x4b6e8b,'_source':_0xc29349});}}return _0x51e42f[_0x301c99(0xc1)]((_0x35dfda,_0x3176a4)=>_0x3176a4[_0x301c99(0xee)]-_0x35dfda[_0x301c99(0xee)]),_0x2b532d[_0x301c99(0xad)]['info']('üîç\x20Scan\x20finished.\x20Found\x20'+_0x51e42f['length']+_0x301c99(0xf3)),_0x51e42f;}module['exports']={'scanForDevices':scanForDevices};