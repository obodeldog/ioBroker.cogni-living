(function(_0x4dfb47,_0x304e28){const _0x4a36c3=a9_0x1a45,_0x275309=_0x4dfb47();while(!![]){try{const _0x156b26=-parseInt(_0x4a36c3(0x9c))/0x1+parseInt(_0x4a36c3(0x9e))/0x2*(-parseInt(_0x4a36c3(0x96))/0x3)+-parseInt(_0x4a36c3(0x93))/0x4*(parseInt(_0x4a36c3(0x98))/0x5)+-parseInt(_0x4a36c3(0x8b))/0x6*(parseInt(_0x4a36c3(0x9f))/0x7)+-parseInt(_0x4a36c3(0x90))/0x8+parseInt(_0x4a36c3(0x8f))/0x9+parseInt(_0x4a36c3(0xa4))/0xa;if(_0x156b26===_0x304e28)break;else _0x275309['push'](_0x275309['shift']());}catch(_0x132e58){_0x275309['push'](_0x275309['shift']());}}}(a9_0x4d73,0x502d9));function a9_0x4d73(){const _0x268bcb=['üï∏Ô∏è\x20Topology\x20unchanged.','rooms','12780380AlbWjb','trim','matrix','getStateAsync','(((.+)+)+)+$','debug','from','push','val','apply','2911944boIYbR','constructor','stringify','log','5374620dquQjV','1053776PpLmlY','analysis.topology.structure','indexOf','12yAMaSE','search','devices','9APpGqd','toString','1004380UBIdZG','location','info','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','56268HcETJd','parse','180578uarIpX','7juSMbU','length','now'];a9_0x4d73=function(){return _0x268bcb;};return a9_0x4d73();}function a9_0x1a45(_0x2dd800,_0x1067d0){const _0x5dcd38=a9_0x4d73();return a9_0x1a45=function(_0x4400ab,_0x574a8d){_0x4400ab=_0x4400ab-0x83;let _0x4d73e9=_0x5dcd38[_0x4400ab];return _0x4d73e9;},a9_0x1a45(_0x2dd800,_0x1067d0);}const a9_0x574a8d=(function(){let _0x3aba80=!![];return function(_0x3040d7,_0x15e7bc){const _0x59f9d3=_0x3aba80?function(){const _0x58561b=a9_0x1a45;if(_0x15e7bc){const _0x327159=_0x15e7bc[_0x58561b(0x8a)](_0x3040d7,arguments);return _0x15e7bc=null,_0x327159;}}:function(){};return _0x3aba80=![],_0x59f9d3;};}()),a9_0x4400ab=a9_0x574a8d(this,function(){const _0x145bb6=a9_0x1a45;return a9_0x4400ab[_0x145bb6(0x97)]()['search']('(((.+)+)+)+$')[_0x145bb6(0x97)]()[_0x145bb6(0x8c)](a9_0x4400ab)[_0x145bb6(0x94)](_0x145bb6(0x85));});a9_0x4400ab();'use strict';async function updateTopology(_0xb736b4){const _0x31e6bf=a9_0x1a45;_0xb736b4[_0x31e6bf(0x8e)]['debug'](_0x31e6bf(0x9b));const _0x319253=_0xb736b4['config'][_0x31e6bf(0x95)]||[],_0x1fd71b=new Set();_0x319253['forEach'](_0x4ce071=>{const _0x28cd45=_0x31e6bf;_0x4ce071[_0x28cd45(0x99)]&&_0x4ce071[_0x28cd45(0x99)]['trim']()!==''&&_0x1fd71b['add'](_0x4ce071['location'][_0x28cd45(0xa5)]());});const _0x24a10f=Array[_0x31e6bf(0x87)](_0x1fd71b)['sort']();if(_0x24a10f[_0x31e6bf(0xa0)]===0x0){_0xb736b4[_0x31e6bf(0x8e)]['debug']('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x534994={'rooms':[],'matrix':[]};try{const _0x285239=await _0xb736b4[_0x31e6bf(0x84)]('analysis.topology.structure');_0x285239&&_0x285239[_0x31e6bf(0x89)]&&(_0x534994=JSON[_0x31e6bf(0x9d)](_0x285239[_0x31e6bf(0x89)]));}catch(_0x2dffcf){}const _0x100138=[],_0x11ee42=_0x24a10f[_0x31e6bf(0xa0)];for(let _0x5c94fe=0x0;_0x5c94fe<_0x11ee42;_0x5c94fe++){const _0x128122=[];for(let _0x40377c=0x0;_0x40377c<_0x11ee42;_0x40377c++){let _0x5f2da9=_0x5c94fe===_0x40377c?0x1:0x0;const _0x282941=_0x24a10f[_0x5c94fe],_0x40006d=_0x24a10f[_0x40377c],_0x296ff1=_0x534994['rooms']?_0x534994[_0x31e6bf(0xa3)]['indexOf'](_0x282941):-0x1,_0x182ded=_0x534994[_0x31e6bf(0xa3)]?_0x534994['rooms'][_0x31e6bf(0x92)](_0x40006d):-0x1;_0x296ff1!==-0x1&&_0x182ded!==-0x1&&_0x534994[_0x31e6bf(0x83)][_0x296ff1]&&_0x534994['matrix'][_0x296ff1][_0x182ded]!==undefined&&(_0x5f2da9=_0x534994[_0x31e6bf(0x83)][_0x296ff1][_0x182ded]),_0x128122[_0x31e6bf(0x88)](_0x5f2da9);}_0x100138[_0x31e6bf(0x88)](_0x128122);}const _0x3efd83={'updated':Date[_0x31e6bf(0xa1)](),'nodeCount':_0x11ee42,'rooms':_0x24a10f,'matrix':_0x100138};JSON[_0x31e6bf(0x8d)](_0x3efd83[_0x31e6bf(0xa3)])!==JSON[_0x31e6bf(0x8d)](_0x534994[_0x31e6bf(0xa3)])||JSON['stringify'](_0x3efd83[_0x31e6bf(0x83)])!==JSON[_0x31e6bf(0x8d)](_0x534994[_0x31e6bf(0x83)])?(await _0xb736b4['setStateAsync'](_0x31e6bf(0x91),{'val':JSON[_0x31e6bf(0x8d)](_0x3efd83),'ack':!![]}),_0xb736b4[_0x31e6bf(0x8e)][_0x31e6bf(0x9a)]('üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20'+_0x11ee42+'\x20Nodes\x20(Rooms).')):_0xb736b4[_0x31e6bf(0x8e)][_0x31e6bf(0x86)](_0x31e6bf(0xa2));}module['exports']={'updateTopology':updateTopology};