const a9_0x3e99ba=a9_0xe651;function a9_0xe651(_0x2ed694,_0x3bdb5d){const _0x18950e=a9_0x4b9d();return a9_0xe651=function(_0x1dff31,_0x5a033d){_0x1dff31=_0x1dff31-0x176;let _0x4b9df9=_0x18950e[_0x1dff31];return _0x4b9df9;},a9_0xe651(_0x2ed694,_0x3bdb5d);}(function(_0x2b0bc5,_0x24c082){const _0x21d40c=a9_0xe651,_0x308b41=_0x2b0bc5();while(!![]){try{const _0x33cf54=parseInt(_0x21d40c(0x18f))/0x1+parseInt(_0x21d40c(0x192))/0x2+parseInt(_0x21d40c(0x188))/0x3*(parseInt(_0x21d40c(0x179))/0x4)+parseInt(_0x21d40c(0x19b))/0x5*(parseInt(_0x21d40c(0x195))/0x6)+parseInt(_0x21d40c(0x1a1))/0x7*(-parseInt(_0x21d40c(0x1a4))/0x8)+-parseInt(_0x21d40c(0x18a))/0x9*(-parseInt(_0x21d40c(0x177))/0xa)+parseInt(_0x21d40c(0x186))/0xb*(-parseInt(_0x21d40c(0x18b))/0xc);if(_0x33cf54===_0x24c082)break;else _0x308b41['push'](_0x308b41['shift']());}catch(_0x4ca729){_0x308b41['push'](_0x308b41['shift']());}}}(a9_0x4b9d,0x68aef));const a9_0x5a033d=(function(){let _0xc6e479=!![];return function(_0x3903ed,_0x128716){const _0x1889b6=_0xc6e479?function(){const _0x25e933=a9_0xe651;if(_0x128716){const _0x127d20=_0x128716[_0x25e933(0x17e)](_0x3903ed,arguments);return _0x128716=null,_0x127d20;}}:function(){};return _0xc6e479=![],_0x1889b6;};}()),a9_0x1dff31=a9_0x5a033d(this,function(){const _0x5b7653=a9_0xe651;return a9_0x1dff31[_0x5b7653(0x18c)]()[_0x5b7653(0x19c)](_0x5b7653(0x17d))['toString']()[_0x5b7653(0x176)](a9_0x1dff31)[_0x5b7653(0x19c)](_0x5b7653(0x17d));});a9_0x1dff31();'use strict';const setup=require(a9_0x3e99ba(0x19a));function a9_0x4b9d(){const _0x2425d8=['from','943098IsSEkY','trim','indexOf','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','monitored','./setup','5ZXpKpW','search','motion','toLowerCase','devices','matrix','1645119LLyXZt','stringify','üï∏Ô∏è\x20Topology\x20unchanged.','24egjwxl','SET_TOPOLOGY','includes','constructor','105570gvduAf','analysis.topology.structure','3093628kPxtDJ','debug','forEach','location','(((.+)+)+)+$','apply','add','sort','rooms','push','bewegung','val','getStateAsync','491612mBMtKT','length','3gkHvkv','now','675JXwrrd','468Hnzzsc','toString','setStateAsync','sendToPythonWrapper','774151qPoWAg','log','type','760612VXBXet','\x20Nodes\x20(Display\x20Names\x20restored).'];a9_0x4b9d=function(){return _0x2425d8;};return a9_0x4b9d();}async function updateTopology(_0x451cb4){const _0x3f2e6e=a9_0x3e99ba;_0x451cb4[_0x3f2e6e(0x190)][_0x3f2e6e(0x17a)]('üï∏Ô∏è\x20Updating\x20Graph\x20Topology...');const _0x387e13=_0x451cb4['config'][_0x3f2e6e(0x19f)]||[],_0x5681e4=new Set(),_0x66133e=new Set();_0x387e13[_0x3f2e6e(0x17b)](_0x1eec4b=>{const _0x444106=_0x3f2e6e;if(_0x1eec4b[_0x444106(0x17c)]&&_0x1eec4b[_0x444106(0x17c)][_0x444106(0x196)]()!==''){const _0x33a57d=_0x1eec4b[_0x444106(0x17c)][_0x444106(0x196)]();_0x5681e4['add'](_0x33a57d),(_0x1eec4b[_0x444106(0x191)]===_0x444106(0x19d)||_0x1eec4b['type']&&_0x1eec4b[_0x444106(0x191)][_0x444106(0x19e)]()[_0x444106(0x1a6)](_0x444106(0x183)))&&_0x66133e[_0x444106(0x17f)](_0x33a57d);}});const _0x282d4b=Array[_0x3f2e6e(0x194)](_0x5681e4)[_0x3f2e6e(0x180)](),_0x1134cd=Array[_0x3f2e6e(0x194)](_0x66133e)[_0x3f2e6e(0x180)]();if(_0x282d4b[_0x3f2e6e(0x187)]===0x0){_0x451cb4[_0x3f2e6e(0x190)][_0x3f2e6e(0x17a)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x3c43cd={'rooms':[],'matrix':[]};try{const _0x549d51=await _0x451cb4[_0x3f2e6e(0x185)](_0x3f2e6e(0x178));_0x549d51&&_0x549d51[_0x3f2e6e(0x184)]&&(_0x3c43cd=JSON['parse'](_0x549d51['val']));}catch(_0xa0c675){}const _0x278a51=[],_0x3ffdf2=_0x282d4b[_0x3f2e6e(0x187)];for(let _0x11a4d6=0x0;_0x11a4d6<_0x3ffdf2;_0x11a4d6++){const _0x9bb168=[];for(let _0xd63571=0x0;_0xd63571<_0x3ffdf2;_0xd63571++){let _0x4ea72e=_0x11a4d6===_0xd63571?0x1:0x0;const _0x514e69=_0x282d4b[_0x11a4d6],_0x24defa=_0x282d4b[_0xd63571],_0x6d15a1=_0x3c43cd[_0x3f2e6e(0x181)]?_0x3c43cd[_0x3f2e6e(0x181)][_0x3f2e6e(0x197)](_0x514e69):-0x1,_0x5059ac=_0x3c43cd['rooms']?_0x3c43cd[_0x3f2e6e(0x181)]['indexOf'](_0x24defa):-0x1;_0x6d15a1!==-0x1&&_0x5059ac!==-0x1&&_0x3c43cd[_0x3f2e6e(0x1a0)][_0x6d15a1]&&_0x3c43cd[_0x3f2e6e(0x1a0)][_0x6d15a1][_0x5059ac]!==undefined&&(_0x4ea72e=_0x3c43cd[_0x3f2e6e(0x1a0)][_0x6d15a1][_0x5059ac]),_0x9bb168[_0x3f2e6e(0x182)](_0x4ea72e);}_0x278a51['push'](_0x9bb168);}const _0x3b77e5={'updated':Date[_0x3f2e6e(0x189)](),'nodeCount':_0x3ffdf2,'rooms':_0x282d4b,'matrix':_0x278a51,'monitored':_0x1134cd};JSON[_0x3f2e6e(0x1a2)](_0x3b77e5[_0x3f2e6e(0x181)])!==JSON[_0x3f2e6e(0x1a2)](_0x3c43cd[_0x3f2e6e(0x181)])||JSON[_0x3f2e6e(0x1a2)](_0x3b77e5['matrix'])!==JSON[_0x3f2e6e(0x1a2)](_0x3c43cd['matrix'])||JSON['stringify'](_0x3b77e5[_0x3f2e6e(0x199)])!==JSON[_0x3f2e6e(0x1a2)](_0x3c43cd['monitored']||[])?(await _0x451cb4[_0x3f2e6e(0x18d)]('analysis.topology.structure',{'val':JSON['stringify'](_0x3b77e5),'ack':!![]}),_0x451cb4[_0x3f2e6e(0x190)]['info'](_0x3f2e6e(0x198)+_0x3ffdf2+_0x3f2e6e(0x193)),_0x451cb4[_0x3f2e6e(0x18e)]&&_0x451cb4[_0x3f2e6e(0x18e)](_0x3f2e6e(0x1a5),_0x3b77e5)):_0x451cb4[_0x3f2e6e(0x190)][_0x3f2e6e(0x17a)](_0x3f2e6e(0x1a3));}module['exports']={'updateTopology':updateTopology};