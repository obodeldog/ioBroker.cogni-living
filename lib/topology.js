const a9_0xeb3a03=a9_0x39b6;function a9_0x4d67(){const _0x4e7bb9=['location','type','now','sort','val','indexOf','2787hJfohR','rooms','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','apply','setStateAsync','268dSXcIX','from','3210HPOeiu','info','5569080ljbOpq','exports','toString','stringify','length','matrix','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','sendToPythonWrapper','ðŸ•¸ï¸\x20Topology\x20unchanged.','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','analysis.topology.structure','constructor','120lEXNyv','motion','128VbzflE','push','includes','parse','debug','devices','monitored','trim','toLowerCase','75861DNezow','log','(((.+)+)+)+$','1LocGXQ','136500nJibDZ','6171aDtdsH','74473SqPVdT','add','483694CKgFWF'];a9_0x4d67=function(){return _0x4e7bb9;};return a9_0x4d67();}function a9_0x39b6(_0x269c29,_0x3fa957){const _0x1f36b2=a9_0x4d67();return a9_0x39b6=function(_0x265ee,_0x17c424){_0x265ee=_0x265ee-0xf1;let _0x4d67d4=_0x1f36b2[_0x265ee];return _0x4d67d4;},a9_0x39b6(_0x269c29,_0x3fa957);}(function(_0x33e7e5,_0x2e1cb2){const _0x5ae182=a9_0x39b6,_0xfb8ca4=_0x33e7e5();while(!![]){try{const _0x4c4072=parseInt(_0x5ae182(0xf5))/0x1*(-parseInt(_0x5ae182(0xfa))/0x2)+parseInt(_0x5ae182(0x101))/0x3*(parseInt(_0x5ae182(0x106))/0x4)+-parseInt(_0x5ae182(0xf6))/0x5+parseInt(_0x5ae182(0x116))/0x6*(parseInt(_0x5ae182(0xf8))/0x7)+parseInt(_0x5ae182(0x118))/0x8*(-parseInt(_0x5ae182(0xf2))/0x9)+parseInt(_0x5ae182(0x108))/0xa*(-parseInt(_0x5ae182(0xf7))/0xb)+parseInt(_0x5ae182(0x10a))/0xc;if(_0x4c4072===_0x2e1cb2)break;else _0xfb8ca4['push'](_0xfb8ca4['shift']());}catch(_0x423eb7){_0xfb8ca4['push'](_0xfb8ca4['shift']());}}}(a9_0x4d67,0x25d8d));const a9_0x17c424=(function(){let _0x3add43=!![];return function(_0x6166f2,_0x528efb){const _0x6b04b5=_0x3add43?function(){const _0x450b31=a9_0x39b6;if(_0x528efb){const _0x268f60=_0x528efb[_0x450b31(0x104)](_0x6166f2,arguments);return _0x528efb=null,_0x268f60;}}:function(){};return _0x3add43=![],_0x6b04b5;};}()),a9_0x265ee=a9_0x17c424(this,function(){const _0x1ac718=a9_0x39b6;return a9_0x265ee[_0x1ac718(0x10c)]()['search'](_0x1ac718(0xf4))['toString']()[_0x1ac718(0x115)](a9_0x265ee)['search'](_0x1ac718(0xf4));});a9_0x265ee();'use strict';const setup=require('./setup');async function updateTopology(_0x2e5594){const _0x4df7f8=a9_0x39b6;_0x2e5594[_0x4df7f8(0xf3)][_0x4df7f8(0x11c)](_0x4df7f8(0x110));const _0xe2c3d6=_0x2e5594['config'][_0x4df7f8(0x11d)]||[],_0x45a552=new Set(),_0x128ae6=new Set();_0xe2c3d6['forEach'](_0x3a26ad=>{const _0x2a39c6=_0x4df7f8;if(_0x3a26ad[_0x2a39c6(0xfb)]&&_0x3a26ad[_0x2a39c6(0xfb)][_0x2a39c6(0x11f)]()!==''){const _0x2b2d5a=_0x3a26ad[_0x2a39c6(0xfb)][_0x2a39c6(0x11f)]();_0x45a552[_0x2a39c6(0xf9)](_0x2b2d5a),(_0x3a26ad['type']===_0x2a39c6(0x117)||_0x3a26ad['type']&&_0x3a26ad[_0x2a39c6(0xfc)][_0x2a39c6(0xf1)]()[_0x2a39c6(0x11a)]('bewegung'))&&_0x128ae6['add'](_0x2b2d5a);}});const _0x5c6ff1=Array[_0x4df7f8(0x107)](_0x45a552)[_0x4df7f8(0xfe)](),_0x327be1=Array['from'](_0x128ae6)[_0x4df7f8(0xfe)]();if(_0x5c6ff1[_0x4df7f8(0x10e)]===0x0){_0x2e5594['log'][_0x4df7f8(0x11c)](_0x4df7f8(0x113));return;}let _0x3c5e27={'rooms':[],'matrix':[]};try{const _0x227db7=await _0x2e5594['getStateAsync'](_0x4df7f8(0x114));_0x227db7&&_0x227db7[_0x4df7f8(0xff)]&&(_0x3c5e27=JSON[_0x4df7f8(0x11b)](_0x227db7[_0x4df7f8(0xff)]));}catch(_0x46228f){}const _0x16fcb5=[],_0x1f7be4=_0x5c6ff1[_0x4df7f8(0x10e)];for(let _0x5e8d15=0x0;_0x5e8d15<_0x1f7be4;_0x5e8d15++){const _0x16e2f5=[];for(let _0x8662be=0x0;_0x8662be<_0x1f7be4;_0x8662be++){let _0x35e804=_0x5e8d15===_0x8662be?0x1:0x0;const _0x4f4b86=_0x5c6ff1[_0x5e8d15],_0x4dc15a=_0x5c6ff1[_0x8662be],_0x504075=_0x3c5e27[_0x4df7f8(0x102)]?_0x3c5e27['rooms']['indexOf'](_0x4f4b86):-0x1,_0x1842b1=_0x3c5e27[_0x4df7f8(0x102)]?_0x3c5e27[_0x4df7f8(0x102)][_0x4df7f8(0x100)](_0x4dc15a):-0x1;_0x504075!==-0x1&&_0x1842b1!==-0x1&&_0x3c5e27[_0x4df7f8(0x10f)][_0x504075]&&_0x3c5e27[_0x4df7f8(0x10f)][_0x504075][_0x1842b1]!==undefined&&(_0x35e804=_0x3c5e27[_0x4df7f8(0x10f)][_0x504075][_0x1842b1]),_0x16e2f5['push'](_0x35e804);}_0x16fcb5[_0x4df7f8(0x119)](_0x16e2f5);}const _0x194957={'updated':Date[_0x4df7f8(0xfd)](),'nodeCount':_0x1f7be4,'rooms':_0x5c6ff1,'matrix':_0x16fcb5,'monitored':_0x327be1};JSON[_0x4df7f8(0x10d)](_0x194957[_0x4df7f8(0x102)])!==JSON['stringify'](_0x3c5e27[_0x4df7f8(0x102)])||JSON['stringify'](_0x194957[_0x4df7f8(0x10f)])!==JSON['stringify'](_0x3c5e27[_0x4df7f8(0x10f)])||JSON['stringify'](_0x194957[_0x4df7f8(0x11e)])!==JSON[_0x4df7f8(0x10d)](_0x3c5e27['monitored']||[])?(await _0x2e5594[_0x4df7f8(0x105)]('analysis.topology.structure',{'val':JSON[_0x4df7f8(0x10d)](_0x194957),'ack':!![]}),_0x2e5594[_0x4df7f8(0xf3)][_0x4df7f8(0x109)](_0x4df7f8(0x103)+_0x1f7be4+'\x20Nodes\x20(Display\x20Names\x20restored).'),_0x2e5594[_0x4df7f8(0x111)]&&_0x2e5594[_0x4df7f8(0x111)]('SET_TOPOLOGY',_0x194957)):_0x2e5594[_0x4df7f8(0xf3)][_0x4df7f8(0x11c)](_0x4df7f8(0x112));}module[a9_0xeb3a03(0x10b)]={'updateTopology':updateTopology};