(function(_0x5d7177,_0x1e05f1){const _0x2d3f23=a9_0x5754,_0x4ff1c6=_0x5d7177();while(!![]){try{const _0x25fc03=parseInt(_0x2d3f23(0x173))/0x1+parseInt(_0x2d3f23(0x191))/0x2+-parseInt(_0x2d3f23(0x167))/0x3*(-parseInt(_0x2d3f23(0x198))/0x4)+parseInt(_0x2d3f23(0x185))/0x5+parseInt(_0x2d3f23(0x174))/0x6*(-parseInt(_0x2d3f23(0x16e))/0x7)+-parseInt(_0x2d3f23(0x180))/0x8*(-parseInt(_0x2d3f23(0x16d))/0x9)+-parseInt(_0x2d3f23(0x192))/0xa*(parseInt(_0x2d3f23(0x197))/0xb);if(_0x25fc03===_0x1e05f1)break;else _0x4ff1c6['push'](_0x4ff1c6['shift']());}catch(_0x4240a1){_0x4ff1c6['push'](_0x4ff1c6['shift']());}}}(a9_0x4579,0xa9258));const a9_0x3b98b8=(function(){let _0x4a95ce=!![];return function(_0x3df715,_0x40543e){const _0x26b90c=_0x4a95ce?function(){const _0x3869f0=a9_0x5754;if(_0x40543e){const _0x14748c=_0x40543e[_0x3869f0(0x182)](_0x3df715,arguments);return _0x40543e=null,_0x14748c;}}:function(){};return _0x4a95ce=![],_0x26b90c;};}()),a9_0x42eb1e=a9_0x3b98b8(this,function(){const _0x4e05b5=a9_0x5754;return a9_0x42eb1e[_0x4e05b5(0x181)]()[_0x4e05b5(0x16b)](_0x4e05b5(0x18e))[_0x4e05b5(0x181)]()[_0x4e05b5(0x178)](a9_0x42eb1e)[_0x4e05b5(0x16b)](_0x4e05b5(0x18e));});a9_0x42eb1e();'use strict';function a9_0x5754(_0x943271,_0x2ee6e0){const _0x42067f=a9_0x4579();return a9_0x5754=function(_0x42eb1e,_0x3b98b8){_0x42eb1e=_0x42eb1e-0x166;let _0x4579f8=_0x42067f[_0x42eb1e];return _0x4579f8;},a9_0x5754(_0x943271,_0x2ee6e0);}const setup=require('./setup');async function updateTopology(_0x38aa29){const _0x285564=a9_0x5754;_0x38aa29['log']['debug'](_0x285564(0x168));const _0x407414=_0x38aa29[_0x285564(0x184)][_0x285564(0x16c)]||[],_0x33f2ae=new Set(),_0x21e21b=new Set();_0x407414[_0x285564(0x183)](_0x3dd696=>{const _0xb280bb=_0x285564;if(_0x3dd696[_0xb280bb(0x16f)]&&_0x3dd696[_0xb280bb(0x16f)][_0xb280bb(0x16a)]()!==''){const _0x3903c2=_0x3dd696[_0xb280bb(0x16f)][_0xb280bb(0x16a)]();_0x33f2ae[_0xb280bb(0x17c)](_0x3903c2),(_0x3dd696['type']===_0xb280bb(0x17f)||_0x3dd696[_0xb280bb(0x18c)]&&_0x3dd696[_0xb280bb(0x18c)][_0xb280bb(0x177)]()[_0xb280bb(0x195)](_0xb280bb(0x166)))&&_0x21e21b['add'](_0x3903c2);}});const _0x125190=Array[_0x285564(0x17b)](_0x33f2ae)[_0x285564(0x18f)](),_0x4ff4e8=Array['from'](_0x21e21b)[_0x285564(0x18f)]();if(_0x125190[_0x285564(0x18d)]===0x0){_0x38aa29[_0x285564(0x170)][_0x285564(0x18a)](_0x285564(0x176));return;}let _0x59670f={'rooms':[],'matrix':[]};try{const _0x129f06=await _0x38aa29[_0x285564(0x17d)](_0x285564(0x169));_0x129f06&&_0x129f06[_0x285564(0x17a)]&&(_0x59670f=JSON[_0x285564(0x18b)](_0x129f06[_0x285564(0x17a)]));}catch(_0x3c983d){}const _0xff96dd=[],_0x384b5b=_0x125190[_0x285564(0x18d)];for(let _0x2981d2=0x0;_0x2981d2<_0x384b5b;_0x2981d2++){const _0x5aae63=[];for(let _0x3455ef=0x0;_0x3455ef<_0x384b5b;_0x3455ef++){let _0x2903cc=_0x2981d2===_0x3455ef?0x1:0x0;const _0x429beb=_0x125190[_0x2981d2],_0x3c0228=_0x125190[_0x3455ef],_0x50a66b=_0x59670f[_0x285564(0x196)]?_0x59670f['rooms']['indexOf'](_0x429beb):-0x1,_0x2b7fd9=_0x59670f[_0x285564(0x196)]?_0x59670f[_0x285564(0x196)][_0x285564(0x17e)](_0x3c0228):-0x1;_0x50a66b!==-0x1&&_0x2b7fd9!==-0x1&&_0x59670f[_0x285564(0x189)][_0x50a66b]&&_0x59670f['matrix'][_0x50a66b][_0x2b7fd9]!==undefined&&(_0x2903cc=_0x59670f[_0x285564(0x189)][_0x50a66b][_0x2b7fd9]),_0x5aae63['push'](_0x2903cc);}_0xff96dd[_0x285564(0x190)](_0x5aae63);}const _0x53e463={'updated':Date[_0x285564(0x171)](),'nodeCount':_0x384b5b,'rooms':_0x125190,'matrix':_0xff96dd,'monitored':_0x4ff4e8};JSON[_0x285564(0x179)](_0x53e463[_0x285564(0x196)])!==JSON['stringify'](_0x59670f['rooms'])||JSON[_0x285564(0x179)](_0x53e463[_0x285564(0x189)])!==JSON[_0x285564(0x179)](_0x59670f[_0x285564(0x189)])||JSON[_0x285564(0x179)](_0x53e463[_0x285564(0x172)])!==JSON[_0x285564(0x179)](_0x59670f['monitored']||[])?(await _0x38aa29[_0x285564(0x188)]('analysis.topology.structure',{'val':JSON[_0x285564(0x179)](_0x53e463),'ack':!![]}),_0x38aa29['log']['info'](_0x285564(0x193)+_0x384b5b+_0x285564(0x187)),_0x38aa29[_0x285564(0x186)]&&_0x38aa29['sendToPythonWrapper'](_0x285564(0x175),_0x53e463)):_0x38aa29[_0x285564(0x170)][_0x285564(0x18a)](_0x285564(0x194));}function a9_0x4579(){const _0x54d2d3=['search','devices','146637SHeABn','35wwfDiT','location','log','now','monitored','1029789JgKwjY','1594722vGcvfu','SET_TOPOLOGY','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','toLowerCase','constructor','stringify','val','from','add','getStateAsync','indexOf','motion','616jDgJrF','toString','apply','forEach','config','4517305WvxZQW','sendToPythonWrapper','\x20Nodes\x20(Display\x20Names\x20restored).','setStateAsync','matrix','debug','parse','type','length','(((.+)+)+)+$','sort','push','198826cEjhnR','1090VZvMbn','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','ðŸ•¸ï¸\x20Topology\x20unchanged.','includes','rooms','184294UQTpxK','4zjRbUR','bewegung','1682163NVLApM','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','analysis.topology.structure','trim'];a9_0x4579=function(){return _0x54d2d3;};return a9_0x4579();}module['exports']={'updateTopology':updateTopology};