const a9_0x3a50b8=a9_0x4a20;function a9_0x1805(){const _0x4e3aca=['rooms','üï∏Ô∏è\x20Topology\x20unchanged.','indexOf','133878LNjIsQ','push','search','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','trim','motion','includes','debug','now','type','747500InEmwt','length','from','7319jjJmmP','forEach','matrix','apply','451BAGgQR','location','135dQHwQw','sendToPythonWrapper','69524pXEMdv','analysis.topology.structure','log','24656BkobEY','getStateAsync','930qLXLgo','config','65538GNMLgJ','constructor','1wkVecI','sort','stringify','2544raOdKL','toString','./setup','add','\x20Nodes\x20(Display\x20Names\x20restored).','1533uoYmkb','SET_TOPOLOGY','monitored','bewegung','(((.+)+)+)+$','1386drmLgQ','108byswvL'];a9_0x1805=function(){return _0x4e3aca;};return a9_0x1805();}function a9_0x4a20(_0x59a8cc,_0x560493){const _0x2e55e0=a9_0x1805();return a9_0x4a20=function(_0x2bda66,_0x3833ae){_0x2bda66=_0x2bda66-0x1b6;let _0x18056a=_0x2e55e0[_0x2bda66];return _0x18056a;},a9_0x4a20(_0x59a8cc,_0x560493);}(function(_0x509f01,_0x4feb22){const _0x27c782=a9_0x4a20,_0x4c9c4f=_0x509f01();while(!![]){try{const _0x466497=-parseInt(_0x27c782(0x1bc))/0x1*(-parseInt(_0x27c782(0x1d8))/0x2)+parseInt(_0x27c782(0x1ca))/0x3*(-parseInt(_0x27c782(0x1e3))/0x4)+parseInt(_0x27c782(0x1e1))/0x5*(-parseInt(_0x27c782(0x1ce))/0x6)+parseInt(_0x27c782(0x1c4))/0x7*(parseInt(_0x27c782(0x1b6))/0x8)+-parseInt(_0x27c782(0x1ba))/0x9*(-parseInt(_0x27c782(0x1b8))/0xa)+-parseInt(_0x27c782(0x1df))/0xb*(-parseInt(_0x27c782(0x1bf))/0xc)+-parseInt(_0x27c782(0x1db))/0xd*(-parseInt(_0x27c782(0x1c9))/0xe);if(_0x466497===_0x4feb22)break;else _0x4c9c4f['push'](_0x4c9c4f['shift']());}catch(_0x1c1c40){_0x4c9c4f['push'](_0x4c9c4f['shift']());}}}(a9_0x1805,0x89414));const a9_0x3833ae=(function(){let _0x26dc7a=!![];return function(_0x15b9bc,_0x1cfe06){const _0x2d1073=_0x26dc7a?function(){const _0x333b59=a9_0x4a20;if(_0x1cfe06){const _0x4f2018=_0x1cfe06[_0x333b59(0x1de)](_0x15b9bc,arguments);return _0x1cfe06=null,_0x4f2018;}}:function(){};return _0x26dc7a=![],_0x2d1073;};}()),a9_0x2bda66=a9_0x3833ae(this,function(){const _0x48eec0=a9_0x4a20;return a9_0x2bda66['toString']()['search'](_0x48eec0(0x1c8))[_0x48eec0(0x1c0)]()[_0x48eec0(0x1bb)](a9_0x2bda66)[_0x48eec0(0x1d0)](_0x48eec0(0x1c8));});a9_0x2bda66();'use strict';const setup=require(a9_0x3a50b8(0x1c1));async function updateTopology(_0x1790ca){const _0xda71d=a9_0x3a50b8;_0x1790ca[_0xda71d(0x1e5)][_0xda71d(0x1d5)]('üï∏Ô∏è\x20Updating\x20Graph\x20Topology...');const _0x1f313f=_0x1790ca[_0xda71d(0x1b9)]['devices']||[],_0x239ee6=new Set(),_0x4e153c=new Set();_0x1f313f[_0xda71d(0x1dc)](_0x1cbdd4=>{const _0x43dc7c=_0xda71d;if(_0x1cbdd4[_0x43dc7c(0x1e0)]&&_0x1cbdd4[_0x43dc7c(0x1e0)][_0x43dc7c(0x1d2)]()!==''){const _0x4f5354=_0x1cbdd4[_0x43dc7c(0x1e0)][_0x43dc7c(0x1d2)]();_0x239ee6['add'](_0x4f5354),(_0x1cbdd4['type']===_0x43dc7c(0x1d3)||_0x1cbdd4[_0x43dc7c(0x1d7)]&&_0x1cbdd4['type']['toLowerCase']()[_0x43dc7c(0x1d4)](_0x43dc7c(0x1c7)))&&_0x4e153c[_0x43dc7c(0x1c2)](_0x4f5354);}});const _0x2ee118=Array[_0xda71d(0x1da)](_0x239ee6)[_0xda71d(0x1bd)](),_0x2cb0e9=Array['from'](_0x4e153c)['sort']();if(_0x2ee118[_0xda71d(0x1d9)]===0x0){_0x1790ca[_0xda71d(0x1e5)]['debug']('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x4f8079={'rooms':[],'matrix':[]};try{const _0x1c365a=await _0x1790ca[_0xda71d(0x1b7)]('analysis.topology.structure');_0x1c365a&&_0x1c365a['val']&&(_0x4f8079=JSON['parse'](_0x1c365a['val']));}catch(_0x86263e){}const _0x40daf3=[],_0x96d7dc=_0x2ee118['length'];for(let _0x194904=0x0;_0x194904<_0x96d7dc;_0x194904++){const _0x3d9f70=[];for(let _0x4c36da=0x0;_0x4c36da<_0x96d7dc;_0x4c36da++){let _0x3ce977=_0x194904===_0x4c36da?0x1:0x0;const _0x30f512=_0x2ee118[_0x194904],_0x2d1335=_0x2ee118[_0x4c36da],_0x5bccb0=_0x4f8079[_0xda71d(0x1cb)]?_0x4f8079[_0xda71d(0x1cb)][_0xda71d(0x1cd)](_0x30f512):-0x1,_0x26e9cd=_0x4f8079[_0xda71d(0x1cb)]?_0x4f8079[_0xda71d(0x1cb)][_0xda71d(0x1cd)](_0x2d1335):-0x1;_0x5bccb0!==-0x1&&_0x26e9cd!==-0x1&&_0x4f8079[_0xda71d(0x1dd)][_0x5bccb0]&&_0x4f8079[_0xda71d(0x1dd)][_0x5bccb0][_0x26e9cd]!==undefined&&(_0x3ce977=_0x4f8079[_0xda71d(0x1dd)][_0x5bccb0][_0x26e9cd]),_0x3d9f70[_0xda71d(0x1cf)](_0x3ce977);}_0x40daf3['push'](_0x3d9f70);}const _0xc6c423={'updated':Date[_0xda71d(0x1d6)](),'nodeCount':_0x96d7dc,'rooms':_0x2ee118,'matrix':_0x40daf3,'monitored':_0x2cb0e9};JSON['stringify'](_0xc6c423['rooms'])!==JSON[_0xda71d(0x1be)](_0x4f8079['rooms'])||JSON[_0xda71d(0x1be)](_0xc6c423['matrix'])!==JSON[_0xda71d(0x1be)](_0x4f8079[_0xda71d(0x1dd)])||JSON[_0xda71d(0x1be)](_0xc6c423[_0xda71d(0x1c6)])!==JSON[_0xda71d(0x1be)](_0x4f8079[_0xda71d(0x1c6)]||[])?(await _0x1790ca['setStateAsync'](_0xda71d(0x1e4),{'val':JSON[_0xda71d(0x1be)](_0xc6c423),'ack':!![]}),_0x1790ca['log']['info'](_0xda71d(0x1d1)+_0x96d7dc+_0xda71d(0x1c3)),_0x1790ca[_0xda71d(0x1e2)]&&_0x1790ca['sendToPythonWrapper'](_0xda71d(0x1c5),_0xc6c423)):_0x1790ca['log'][_0xda71d(0x1d5)](_0xda71d(0x1cc));}module['exports']={'updateTopology':updateTopology};