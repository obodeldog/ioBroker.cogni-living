(function(_0x3a1c23,_0x213162){const _0x13e56d=a9_0x494c,_0x151dd1=_0x3a1c23();while(!![]){try{const _0x2717c1=parseInt(_0x13e56d(0x122))/0x1*(parseInt(_0x13e56d(0x124))/0x2)+parseInt(_0x13e56d(0x10f))/0x3+parseInt(_0x13e56d(0x131))/0x4+parseInt(_0x13e56d(0x115))/0x5*(-parseInt(_0x13e56d(0x111))/0x6)+parseInt(_0x13e56d(0x128))/0x7*(-parseInt(_0x13e56d(0x11f))/0x8)+-parseInt(_0x13e56d(0x11c))/0x9+-parseInt(_0x13e56d(0x114))/0xa;if(_0x2717c1===_0x213162)break;else _0x151dd1['push'](_0x151dd1['shift']());}catch(_0x4f5952){_0x151dd1['push'](_0x151dd1['shift']());}}}(a9_0x5c3e,0x52bb4));const a9_0x44bc69=(function(){let _0x3366d8=!![];return function(_0x340ccc,_0x5ac9b8){const _0x195d6a=_0x3366d8?function(){const _0x2bf12e=a9_0x494c;if(_0x5ac9b8){const _0x7fa8b3=_0x5ac9b8[_0x2bf12e(0x10b)](_0x340ccc,arguments);return _0x5ac9b8=null,_0x7fa8b3;}}:function(){};return _0x3366d8=![],_0x195d6a;};}()),a9_0x1370be=a9_0x44bc69(this,function(){const _0x496d8c=a9_0x494c;return a9_0x1370be[_0x496d8c(0x11d)]()[_0x496d8c(0x113)](_0x496d8c(0x125))[_0x496d8c(0x11d)]()[_0x496d8c(0x123)](a9_0x1370be)[_0x496d8c(0x113)](_0x496d8c(0x125));});a9_0x1370be();'use strict';function a9_0x5c3e(){const _0x49f8d7=['1005SLFoID','constructor','426Famyjo','(((.+)+)+)+$','debug','from','35UhrSfl','ðŸ•¸ï¸\x20Topology\x20unchanged.','indexOf','push','trim','info','val','config','bewegung','2423900cemxoy','monitored','type','length','location','analysis.topology.structure','parse','apply','getStateAsync','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','log','1452717nGjtNY','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','42prpCQj','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','search','5671200kCbxWO','197645KZfOFI','setStateAsync','stringify','forEach','SET_TOPOLOGY','rooms','now','554877WgTIkX','toString','matrix','95896nbvURy','sendToPythonWrapper','add'];a9_0x5c3e=function(){return _0x49f8d7;};return a9_0x5c3e();}const setup=require('./setup');function a9_0x494c(_0x15e674,_0x4a4763){const _0x25ee77=a9_0x5c3e();return a9_0x494c=function(_0x1370be,_0x44bc69){_0x1370be=_0x1370be-0x107;let _0x5c3eba=_0x25ee77[_0x1370be];return _0x5c3eba;},a9_0x494c(_0x15e674,_0x4a4763);}async function updateTopology(_0x4a102e){const _0x20944d=a9_0x494c;_0x4a102e['log'][_0x20944d(0x126)](_0x20944d(0x112));const _0x432e03=_0x4a102e[_0x20944d(0x12f)]['devices']||[],_0x1e6b4b=new Set(),_0x2446ee=new Set();_0x432e03[_0x20944d(0x118)](_0x357e98=>{const _0x4dfe26=_0x20944d;if(_0x357e98[_0x4dfe26(0x108)]&&_0x357e98[_0x4dfe26(0x108)]['trim']()!==''){const _0x1d8223=_0x357e98['location'][_0x4dfe26(0x12c)]();_0x1e6b4b[_0x4dfe26(0x121)](_0x1d8223),(_0x357e98['type']==='motion'||_0x357e98[_0x4dfe26(0x133)]&&_0x357e98[_0x4dfe26(0x133)]['toLowerCase']()['includes'](_0x4dfe26(0x130)))&&_0x2446ee[_0x4dfe26(0x121)](_0x1d8223);}});const _0x5cdb59=Array[_0x20944d(0x127)](_0x1e6b4b)['sort'](),_0x329ae7=Array[_0x20944d(0x127)](_0x2446ee)['sort']();if(_0x5cdb59[_0x20944d(0x107)]===0x0){_0x4a102e['log'][_0x20944d(0x126)](_0x20944d(0x10d));return;}let _0x7ee02={'rooms':[],'matrix':[]};try{const _0x3342e2=await _0x4a102e[_0x20944d(0x10c)]('analysis.topology.structure');_0x3342e2&&_0x3342e2[_0x20944d(0x12e)]&&(_0x7ee02=JSON[_0x20944d(0x10a)](_0x3342e2[_0x20944d(0x12e)]));}catch(_0x118342){}const _0x1dfe52=[],_0x27c405=_0x5cdb59[_0x20944d(0x107)];for(let _0x5812f9=0x0;_0x5812f9<_0x27c405;_0x5812f9++){const _0x49fb1b=[];for(let _0x23caa7=0x0;_0x23caa7<_0x27c405;_0x23caa7++){let _0x2eaf41=_0x5812f9===_0x23caa7?0x1:0x0;const _0x383d35=_0x5cdb59[_0x5812f9],_0xa0b3a=_0x5cdb59[_0x23caa7],_0x12be8d=_0x7ee02[_0x20944d(0x11a)]?_0x7ee02[_0x20944d(0x11a)][_0x20944d(0x12a)](_0x383d35):-0x1,_0x4c01de=_0x7ee02[_0x20944d(0x11a)]?_0x7ee02[_0x20944d(0x11a)][_0x20944d(0x12a)](_0xa0b3a):-0x1;_0x12be8d!==-0x1&&_0x4c01de!==-0x1&&_0x7ee02['matrix'][_0x12be8d]&&_0x7ee02[_0x20944d(0x11e)][_0x12be8d][_0x4c01de]!==undefined&&(_0x2eaf41=_0x7ee02['matrix'][_0x12be8d][_0x4c01de]),_0x49fb1b['push'](_0x2eaf41);}_0x1dfe52[_0x20944d(0x12b)](_0x49fb1b);}const _0x3b8ea2={'updated':Date[_0x20944d(0x11b)](),'nodeCount':_0x27c405,'rooms':_0x5cdb59,'matrix':_0x1dfe52,'monitored':_0x329ae7};JSON['stringify'](_0x3b8ea2[_0x20944d(0x11a)])!==JSON[_0x20944d(0x117)](_0x7ee02['rooms'])||JSON[_0x20944d(0x117)](_0x3b8ea2[_0x20944d(0x11e)])!==JSON['stringify'](_0x7ee02[_0x20944d(0x11e)])||JSON['stringify'](_0x3b8ea2[_0x20944d(0x132)])!==JSON[_0x20944d(0x117)](_0x7ee02['monitored']||[])?(await _0x4a102e[_0x20944d(0x116)](_0x20944d(0x109),{'val':JSON['stringify'](_0x3b8ea2),'ack':!![]}),_0x4a102e['log'][_0x20944d(0x12d)](_0x20944d(0x110)+_0x27c405+'\x20Nodes\x20(Display\x20Names\x20restored).'),_0x4a102e[_0x20944d(0x120)]&&_0x4a102e[_0x20944d(0x120)](_0x20944d(0x119),_0x3b8ea2)):_0x4a102e[_0x20944d(0x10e)]['debug'](_0x20944d(0x129));}module['exports']={'updateTopology':updateTopology};