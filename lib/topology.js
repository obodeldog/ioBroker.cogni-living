const a9_0x3dc9fd=a9_0x5f12;function a9_0x506b(){const _0x274e6e=['220DjMMvr','apply','rooms','location','toLowerCase','trim','SET_TOPOLOGY','length','45uTLNQP','devices','matrix','exports','bewegung','434910xddeas','sort','./setup','log','info','search','parse','(((.+)+)+)+$','sendToPythonWrapper','config','indexOf','168852WvpYxA','setStateAsync','debug','includes','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','94096zupYpz','402632jgkvsu','1014712txfTJN','46203eDpVGD','from','toString','\x20Nodes\x20(Display\x20Names\x20restored).','push','stringify','now','analysis.topology.structure','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','654JalNgQ','ðŸ•¸ï¸\x20Topology\x20unchanged.','add','val','440OgqjQW','monitored','58EVyvBD','constructor','83251dBcuLl','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','type'];a9_0x506b=function(){return _0x274e6e;};return a9_0x506b();}(function(_0x485837,_0x220087){const _0x2e6fce=a9_0x5f12,_0x2cd213=_0x485837();while(!![]){try{const _0x486b2e=parseInt(_0x2e6fce(0x128))/0x1+parseInt(_0x2e6fce(0x139))/0x2*(parseInt(_0x2e6fce(0x12a))/0x3)+-parseInt(_0x2e6fce(0x127))/0x4*(-parseInt(_0x2e6fce(0x13e))/0x5)+-parseInt(_0x2e6fce(0x133))/0x6*(parseInt(_0x2e6fce(0x13b))/0x7)+parseInt(_0x2e6fce(0x129))/0x8*(parseInt(_0x2e6fce(0x146))/0x9)+parseInt(_0x2e6fce(0x117))/0xa+parseInt(_0x2e6fce(0x137))/0xb*(-parseInt(_0x2e6fce(0x122))/0xc);if(_0x486b2e===_0x220087)break;else _0x2cd213['push'](_0x2cd213['shift']());}catch(_0x781a7){_0x2cd213['push'](_0x2cd213['shift']());}}}(a9_0x506b,0xab96a));const a9_0x2ca3f4=(function(){let _0x2c452c=!![];return function(_0x33565f,_0x114b13){const _0x2c45a3=_0x2c452c?function(){const _0x27d06f=a9_0x5f12;if(_0x114b13){const _0x579bb8=_0x114b13[_0x27d06f(0x13f)](_0x33565f,arguments);return _0x114b13=null,_0x579bb8;}}:function(){};return _0x2c452c=![],_0x2c45a3;};}()),a9_0xfddc2e=a9_0x2ca3f4(this,function(){const _0x1f03c9=a9_0x5f12;return a9_0xfddc2e['toString']()[_0x1f03c9(0x11c)](_0x1f03c9(0x11e))[_0x1f03c9(0x12c)]()[_0x1f03c9(0x13a)](a9_0xfddc2e)[_0x1f03c9(0x11c)](_0x1f03c9(0x11e));});function a9_0x5f12(_0x2d2123,_0x173e0e){const _0x125a59=a9_0x506b();return a9_0x5f12=function(_0xfddc2e,_0x2ca3f4){_0xfddc2e=_0xfddc2e-0x115;let _0x506b27=_0x125a59[_0xfddc2e];return _0x506b27;},a9_0x5f12(_0x2d2123,_0x173e0e);}a9_0xfddc2e();'use strict';const setup=require(a9_0x3dc9fd(0x119));async function updateTopology(_0xd31472){const _0x5dbb77=a9_0x3dc9fd;_0xd31472['log']['debug'](_0x5dbb77(0x126));const _0x128ecd=_0xd31472[_0x5dbb77(0x120)][_0x5dbb77(0x147)]||[],_0x4e3504=new Set(),_0x171139=new Set();_0x128ecd['forEach'](_0xb8e6f3=>{const _0x2becd3=_0x5dbb77;if(_0xb8e6f3[_0x2becd3(0x141)]&&_0xb8e6f3['location'][_0x2becd3(0x143)]()!==''){const _0x4b880f=_0xb8e6f3[_0x2becd3(0x141)]['trim']();_0x4e3504['add'](_0x4b880f),(_0xb8e6f3['type']==='motion'||_0xb8e6f3[_0x2becd3(0x13d)]&&_0xb8e6f3[_0x2becd3(0x13d)][_0x2becd3(0x142)]()[_0x2becd3(0x125)](_0x2becd3(0x116)))&&_0x171139[_0x2becd3(0x135)](_0x4b880f);}});const _0x45af8e=Array[_0x5dbb77(0x12b)](_0x4e3504)[_0x5dbb77(0x118)](),_0x531259=Array['from'](_0x171139)['sort']();if(_0x45af8e[_0x5dbb77(0x145)]===0x0){_0xd31472[_0x5dbb77(0x11a)]['debug'](_0x5dbb77(0x132));return;}let _0x572cee={'rooms':[],'matrix':[]};try{const _0x55e648=await _0xd31472['getStateAsync'](_0x5dbb77(0x131));_0x55e648&&_0x55e648[_0x5dbb77(0x136)]&&(_0x572cee=JSON[_0x5dbb77(0x11d)](_0x55e648[_0x5dbb77(0x136)]));}catch(_0x450580){}const _0x549603=[],_0x3cf9fc=_0x45af8e['length'];for(let _0x391b58=0x0;_0x391b58<_0x3cf9fc;_0x391b58++){const _0xff375d=[];for(let _0x14e070=0x0;_0x14e070<_0x3cf9fc;_0x14e070++){let _0x2af000=_0x391b58===_0x14e070?0x1:0x0;const _0x2b1a08=_0x45af8e[_0x391b58],_0x558059=_0x45af8e[_0x14e070],_0xc2ba18=_0x572cee[_0x5dbb77(0x140)]?_0x572cee[_0x5dbb77(0x140)]['indexOf'](_0x2b1a08):-0x1,_0x2bdd65=_0x572cee[_0x5dbb77(0x140)]?_0x572cee[_0x5dbb77(0x140)][_0x5dbb77(0x121)](_0x558059):-0x1;_0xc2ba18!==-0x1&&_0x2bdd65!==-0x1&&_0x572cee[_0x5dbb77(0x148)][_0xc2ba18]&&_0x572cee['matrix'][_0xc2ba18][_0x2bdd65]!==undefined&&(_0x2af000=_0x572cee[_0x5dbb77(0x148)][_0xc2ba18][_0x2bdd65]),_0xff375d[_0x5dbb77(0x12e)](_0x2af000);}_0x549603['push'](_0xff375d);}const _0x1684e1={'updated':Date[_0x5dbb77(0x130)](),'nodeCount':_0x3cf9fc,'rooms':_0x45af8e,'matrix':_0x549603,'monitored':_0x531259};JSON[_0x5dbb77(0x12f)](_0x1684e1[_0x5dbb77(0x140)])!==JSON[_0x5dbb77(0x12f)](_0x572cee['rooms'])||JSON[_0x5dbb77(0x12f)](_0x1684e1[_0x5dbb77(0x148)])!==JSON[_0x5dbb77(0x12f)](_0x572cee['matrix'])||JSON[_0x5dbb77(0x12f)](_0x1684e1['monitored'])!==JSON[_0x5dbb77(0x12f)](_0x572cee[_0x5dbb77(0x138)]||[])?(await _0xd31472[_0x5dbb77(0x123)](_0x5dbb77(0x131),{'val':JSON[_0x5dbb77(0x12f)](_0x1684e1),'ack':!![]}),_0xd31472[_0x5dbb77(0x11a)][_0x5dbb77(0x11b)](_0x5dbb77(0x13c)+_0x3cf9fc+_0x5dbb77(0x12d)),_0xd31472['sendToPythonWrapper']&&_0xd31472[_0x5dbb77(0x11f)](_0x5dbb77(0x144),_0x1684e1)):_0xd31472[_0x5dbb77(0x11a)][_0x5dbb77(0x124)](_0x5dbb77(0x134));}module[a9_0x3dc9fd(0x115)]={'updateTopology':updateTopology};