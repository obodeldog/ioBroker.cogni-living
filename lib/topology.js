(function(_0x508749,_0x11abb8){const _0x167e65=a9_0x2bb7,_0xdb582c=_0x508749();while(!![]){try{const _0x1e3e54=parseInt(_0x167e65(0x1a3))/0x1*(parseInt(_0x167e65(0x1a8))/0x2)+parseInt(_0x167e65(0x1bc))/0x3*(-parseInt(_0x167e65(0x197))/0x4)+parseInt(_0x167e65(0x199))/0x5*(-parseInt(_0x167e65(0x1ba))/0x6)+-parseInt(_0x167e65(0x1b5))/0x7+parseInt(_0x167e65(0x1a0))/0x8*(parseInt(_0x167e65(0x1b2))/0x9)+-parseInt(_0x167e65(0x1af))/0xa+-parseInt(_0x167e65(0x1a9))/0xb*(-parseInt(_0x167e65(0x198))/0xc);if(_0x1e3e54===_0x11abb8)break;else _0xdb582c['push'](_0xdb582c['shift']());}catch(_0x3615ac){_0xdb582c['push'](_0xdb582c['shift']());}}}(a9_0x2f70,0x63a4c));const a9_0xa5f5ad=(function(){let _0x1c29a1=!![];return function(_0x14c873,_0x43391c){const _0x586c9d=_0x1c29a1?function(){const _0x429dd2=a9_0x2bb7;if(_0x43391c){const _0x2fc5a5=_0x43391c[_0x429dd2(0x1ae)](_0x14c873,arguments);return _0x43391c=null,_0x2fc5a5;}}:function(){};return _0x1c29a1=![],_0x586c9d;};}()),a9_0x3877fd=a9_0xa5f5ad(this,function(){const _0x4b6203=a9_0x2bb7;return a9_0x3877fd[_0x4b6203(0x19b)]()[_0x4b6203(0x19e)]('(((.+)+)+)+$')[_0x4b6203(0x19b)]()[_0x4b6203(0x1a7)](a9_0x3877fd)[_0x4b6203(0x19e)](_0x4b6203(0x1be));});function a9_0x2f70(){const _0x47b007=['872LOmcJD','\x20Monitored\x20Rooms.','indexOf','20478ZatpaG','location','matrix','push','constructor','62oaUbXF','11xBQuYs','parse','type','val','log','apply','8045030DXLLnL','add','info','39789rShATw','from','now','4423713iuZJqT','SET_TOPOLOGY','trim','sort','sendToPythonWrapper','856734lXwqVG','analysis.topology.structure','3SnRBec','length','(((.+)+)+)+$','debug','stringify','getStateAsync','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','2139332ywOIag','20293140RVjKaz','15uSYnZV','config','toString','monitored','rooms','search','forEach'];a9_0x2f70=function(){return _0x47b007;};return a9_0x2f70();}a9_0x3877fd();'use strict';function a9_0x2bb7(_0x2e9c40,_0x2270c1){const _0x5dd4a4=a9_0x2f70();return a9_0x2bb7=function(_0x3877fd,_0xa5f5ad){_0x3877fd=_0x3877fd-0x193;let _0x2f70f7=_0x5dd4a4[_0x3877fd];return _0x2f70f7;},a9_0x2bb7(_0x2e9c40,_0x2270c1);}async function updateTopology(_0xc3991){const _0x4eab1f=a9_0x2bb7;_0xc3991[_0x4eab1f(0x1ad)][_0x4eab1f(0x193)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x3d6245=_0xc3991[_0x4eab1f(0x19a)]['devices']||[],_0x165e1f=new Set(),_0x3ab880=new Set();_0x3d6245[_0x4eab1f(0x19f)](_0x4f86e7=>{const _0x4a5bf7=_0x4eab1f;if(_0x4f86e7[_0x4a5bf7(0x1a4)]&&_0x4f86e7[_0x4a5bf7(0x1a4)][_0x4a5bf7(0x1b7)]()!==''){const _0x3941e5=_0x4f86e7['location'][_0x4a5bf7(0x1b7)]();_0x165e1f[_0x4a5bf7(0x1b0)](_0x3941e5),(_0x4f86e7['type']==='motion'||_0x4f86e7[_0x4a5bf7(0x1ab)]&&_0x4f86e7['type']['toLowerCase']()['includes']('bewegung'))&&_0x3ab880[_0x4a5bf7(0x1b0)](_0x3941e5);}});const _0x4a76e6=Array['from'](_0x165e1f)[_0x4eab1f(0x1b8)](),_0x3e2046=Array[_0x4eab1f(0x1b3)](_0x3ab880)[_0x4eab1f(0x1b8)]();if(_0x4a76e6[_0x4eab1f(0x1bd)]===0x0){_0xc3991[_0x4eab1f(0x1ad)][_0x4eab1f(0x193)](_0x4eab1f(0x196));return;}let _0x147297={'rooms':[],'matrix':[]};try{const _0x145a8b=await _0xc3991[_0x4eab1f(0x195)]('analysis.topology.structure');_0x145a8b&&_0x145a8b[_0x4eab1f(0x1ac)]&&(_0x147297=JSON[_0x4eab1f(0x1aa)](_0x145a8b[_0x4eab1f(0x1ac)]));}catch(_0x110f7c){}const _0x9f2ec8=[],_0xca386e=_0x4a76e6[_0x4eab1f(0x1bd)];for(let _0x50a735=0x0;_0x50a735<_0xca386e;_0x50a735++){const _0x284908=[];for(let _0x4e347d=0x0;_0x4e347d<_0xca386e;_0x4e347d++){let _0x4cab8f=_0x50a735===_0x4e347d?0x1:0x0;const _0x1e87b7=_0x4a76e6[_0x50a735],_0x51ffc6=_0x4a76e6[_0x4e347d],_0x2a9bdb=_0x147297[_0x4eab1f(0x19d)]?_0x147297['rooms'][_0x4eab1f(0x1a2)](_0x1e87b7):-0x1,_0x2cf36f=_0x147297[_0x4eab1f(0x19d)]?_0x147297[_0x4eab1f(0x19d)][_0x4eab1f(0x1a2)](_0x51ffc6):-0x1;_0x2a9bdb!==-0x1&&_0x2cf36f!==-0x1&&_0x147297['matrix'][_0x2a9bdb]&&_0x147297[_0x4eab1f(0x1a5)][_0x2a9bdb][_0x2cf36f]!==undefined&&(_0x4cab8f=_0x147297[_0x4eab1f(0x1a5)][_0x2a9bdb][_0x2cf36f]),_0x284908[_0x4eab1f(0x1a6)](_0x4cab8f);}_0x9f2ec8[_0x4eab1f(0x1a6)](_0x284908);}const _0x317386={'updated':Date[_0x4eab1f(0x1b4)](),'nodeCount':_0xca386e,'rooms':_0x4a76e6,'matrix':_0x9f2ec8,'monitored':_0x3e2046};JSON['stringify'](_0x317386[_0x4eab1f(0x19d)])!==JSON[_0x4eab1f(0x194)](_0x147297[_0x4eab1f(0x19d)])||JSON[_0x4eab1f(0x194)](_0x317386['matrix'])!==JSON[_0x4eab1f(0x194)](_0x147297[_0x4eab1f(0x1a5)])||JSON[_0x4eab1f(0x194)](_0x317386[_0x4eab1f(0x19c)])!==JSON[_0x4eab1f(0x194)](_0x147297[_0x4eab1f(0x19c)]||[])?(await _0xc3991['setStateAsync'](_0x4eab1f(0x1bb),{'val':JSON[_0x4eab1f(0x194)](_0x317386),'ack':!![]}),_0xc3991[_0x4eab1f(0x1ad)][_0x4eab1f(0x1b1)]('ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20'+_0xca386e+'\x20Nodes,\x20'+_0x3e2046[_0x4eab1f(0x1bd)]+_0x4eab1f(0x1a1)),_0xc3991[_0x4eab1f(0x1b9)]&&_0xc3991[_0x4eab1f(0x1b9)](_0x4eab1f(0x1b6),_0x317386)):_0xc3991[_0x4eab1f(0x1ad)][_0x4eab1f(0x193)]('ðŸ•¸ï¸\x20Topology\x20unchanged.');}module['exports']={'updateTopology':updateTopology};