const a9_0x4a5a5c=a9_0x242f;(function(_0x5ee99a,_0x575786){const _0x24617b=a9_0x242f,_0x2ebbe8=_0x5ee99a();while(!![]){try{const _0x35b852=-parseInt(_0x24617b(0x11c))/0x1*(-parseInt(_0x24617b(0x104))/0x2)+-parseInt(_0x24617b(0x111))/0x3+parseInt(_0x24617b(0x11a))/0x4+-parseInt(_0x24617b(0x107))/0x5+-parseInt(_0x24617b(0xf8))/0x6*(parseInt(_0x24617b(0xf2))/0x7)+parseInt(_0x24617b(0xfe))/0x8+parseInt(_0x24617b(0x110))/0x9;if(_0x35b852===_0x575786)break;else _0x2ebbe8['push'](_0x2ebbe8['shift']());}catch(_0x2936f1){_0x2ebbe8['push'](_0x2ebbe8['shift']());}}}(a9_0x5d9f,0x9ee41));const a9_0x58e175=(function(){let _0x1dd190=!![];return function(_0x23e072,_0x116d49){const _0x5d2bde=_0x1dd190?function(){const _0xd5f8b6=a9_0x242f;if(_0x116d49){const _0x2a38c9=_0x116d49[_0xd5f8b6(0xf3)](_0x23e072,arguments);return _0x116d49=null,_0x2a38c9;}}:function(){};return _0x1dd190=![],_0x5d2bde;};}()),a9_0x4568d0=a9_0x58e175(this,function(){const _0x302a29=a9_0x242f;return a9_0x4568d0['toString']()[_0x302a29(0xf1)](_0x302a29(0x10c))[_0x302a29(0x108)]()[_0x302a29(0xf0)](a9_0x4568d0)[_0x302a29(0xf1)](_0x302a29(0x10c));});function a9_0x242f(_0x92987,_0xcc8bb3){const _0xeec2c7=a9_0x5d9f();return a9_0x242f=function(_0x4568d0,_0x58e175){_0x4568d0=_0x4568d0-0xef;let _0x5d9fc8=_0xeec2c7[_0x4568d0];return _0x5d9fc8;},a9_0x242f(_0x92987,_0xcc8bb3);}a9_0x4568d0();'use strict';function a9_0x5d9f(){const _0x310c55=['includes','now','monitored','4cWBFvt','matrix','sort','564305EYkqiK','toString','add','debug','sendToPythonWrapper','(((.+)+)+)+$','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','exports','setStateAsync','9257409SCCWBE','2733222TQucVI','SET_TOPOLOGY','push','getStateAsync','log','parse','location','devices','type','1792308JAHJxk','indexOf','104225myqrXn','length','val','constructor','search','735973HnsYCI','apply','forEach','trim','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','ðŸ•¸ï¸\x20Topology\x20unchanged.','6cmXFdh','bewegung','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','config','motion','stringify','758104AgsqIn','from','rooms'];a9_0x5d9f=function(){return _0x310c55;};return a9_0x5d9f();}const setup=require('./setup');async function updateTopology(_0xad77d9){const _0x4944ce=a9_0x242f;_0xad77d9[_0x4944ce(0x115)][_0x4944ce(0x10a)](_0x4944ce(0xf6));const _0x5a0676=_0xad77d9[_0x4944ce(0xfb)][_0x4944ce(0x118)]||[],_0x2bd4ba=new Set(),_0x36bc5c=new Set();_0x5a0676[_0x4944ce(0xf4)](_0xb86079=>{const _0x8ded=_0x4944ce;if(_0xb86079[_0x8ded(0x117)]&&_0xb86079[_0x8ded(0x117)][_0x8ded(0xf5)]()!==''){const _0x25f0d9=_0xb86079[_0x8ded(0x117)][_0x8ded(0xf5)]();_0x2bd4ba['add'](_0x25f0d9),(_0xb86079[_0x8ded(0x119)]===_0x8ded(0xfc)||_0xb86079[_0x8ded(0x119)]&&_0xb86079['type']['toLowerCase']()[_0x8ded(0x101)](_0x8ded(0xf9)))&&_0x36bc5c[_0x8ded(0x109)](_0x25f0d9);}});const _0xd0bda=Array['from'](_0x2bd4ba)['sort'](),_0x18c234=Array[_0x4944ce(0xff)](_0x36bc5c)[_0x4944ce(0x106)]();if(_0xd0bda[_0x4944ce(0x11d)]===0x0){_0xad77d9[_0x4944ce(0x115)][_0x4944ce(0x10a)](_0x4944ce(0xfa));return;}let _0x2f7738={'rooms':[],'matrix':[]};try{const _0x49c77b=await _0xad77d9[_0x4944ce(0x114)]('analysis.topology.structure');_0x49c77b&&_0x49c77b[_0x4944ce(0xef)]&&(_0x2f7738=JSON[_0x4944ce(0x116)](_0x49c77b[_0x4944ce(0xef)]));}catch(_0x508a75){}const _0x8ef415=[],_0xdaec43=_0xd0bda[_0x4944ce(0x11d)];for(let _0x24e65f=0x0;_0x24e65f<_0xdaec43;_0x24e65f++){const _0x32b0c6=[];for(let _0x544ea7=0x0;_0x544ea7<_0xdaec43;_0x544ea7++){let _0xd3235e=_0x24e65f===_0x544ea7?0x1:0x0;const _0x1ca779=_0xd0bda[_0x24e65f],_0x4c3f3b=_0xd0bda[_0x544ea7],_0x49a901=_0x2f7738[_0x4944ce(0x100)]?_0x2f7738[_0x4944ce(0x100)][_0x4944ce(0x11b)](_0x1ca779):-0x1,_0x2cbace=_0x2f7738['rooms']?_0x2f7738[_0x4944ce(0x100)][_0x4944ce(0x11b)](_0x4c3f3b):-0x1;_0x49a901!==-0x1&&_0x2cbace!==-0x1&&_0x2f7738['matrix'][_0x49a901]&&_0x2f7738[_0x4944ce(0x105)][_0x49a901][_0x2cbace]!==undefined&&(_0xd3235e=_0x2f7738['matrix'][_0x49a901][_0x2cbace]),_0x32b0c6[_0x4944ce(0x113)](_0xd3235e);}_0x8ef415[_0x4944ce(0x113)](_0x32b0c6);}const _0x48b6ef={'updated':Date[_0x4944ce(0x102)](),'nodeCount':_0xdaec43,'rooms':_0xd0bda,'matrix':_0x8ef415,'monitored':_0x18c234};JSON[_0x4944ce(0xfd)](_0x48b6ef[_0x4944ce(0x100)])!==JSON[_0x4944ce(0xfd)](_0x2f7738[_0x4944ce(0x100)])||JSON[_0x4944ce(0xfd)](_0x48b6ef[_0x4944ce(0x105)])!==JSON[_0x4944ce(0xfd)](_0x2f7738[_0x4944ce(0x105)])||JSON[_0x4944ce(0xfd)](_0x48b6ef[_0x4944ce(0x103)])!==JSON[_0x4944ce(0xfd)](_0x2f7738[_0x4944ce(0x103)]||[])?(await _0xad77d9[_0x4944ce(0x10f)]('analysis.topology.structure',{'val':JSON['stringify'](_0x48b6ef),'ack':!![]}),_0xad77d9[_0x4944ce(0x115)]['info'](_0x4944ce(0x10d)+_0xdaec43+'\x20Nodes\x20(Display\x20Names\x20restored).'),_0xad77d9[_0x4944ce(0x10b)]&&_0xad77d9[_0x4944ce(0x10b)](_0x4944ce(0x112),_0x48b6ef)):_0xad77d9['log'][_0x4944ce(0x10a)](_0x4944ce(0xf7));}module[a9_0x4a5a5c(0x10e)]={'updateTopology':updateTopology};