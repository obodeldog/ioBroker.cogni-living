(function(_0x1fae6a,_0x400443){const _0x292ba2=a9_0x4cdf,_0x218b41=_0x1fae6a();while(!![]){try{const _0x6b4780=-parseInt(_0x292ba2(0x1fb))/0x1+parseInt(_0x292ba2(0x1f4))/0x2+-parseInt(_0x292ba2(0x20d))/0x3+-parseInt(_0x292ba2(0x1fc))/0x4+-parseInt(_0x292ba2(0x210))/0x5*(-parseInt(_0x292ba2(0x1f7))/0x6)+-parseInt(_0x292ba2(0x212))/0x7+parseInt(_0x292ba2(0x1fa))/0x8;if(_0x6b4780===_0x400443)break;else _0x218b41['push'](_0x218b41['shift']());}catch(_0x2b352b){_0x218b41['push'](_0x218b41['shift']());}}}(a9_0x4546,0x1bdec));const a9_0x583652=(function(){let _0x202362=!![];return function(_0x5304d6,_0x347e1c){const _0x2e1ac7=_0x202362?function(){if(_0x347e1c){const _0x147f58=_0x347e1c['apply'](_0x5304d6,arguments);return _0x347e1c=null,_0x147f58;}}:function(){};return _0x202362=![],_0x2e1ac7;};}()),a9_0x2fbb09=a9_0x583652(this,function(){const _0x5ef6b4=a9_0x4cdf;return a9_0x2fbb09[_0x5ef6b4(0x200)]()['search']('(((.+)+)+)+$')[_0x5ef6b4(0x200)]()[_0x5ef6b4(0x1ed)](a9_0x2fbb09)[_0x5ef6b4(0x202)](_0x5ef6b4(0x20c));});a9_0x2fbb09();'use strict';const setup=require('./setup');function a9_0x4546(){const _0x308c5b=['debug','6SHvNGn','sendToPythonWrapper','motion','5091296RJDHlC','204052hTuxif','431264DAyZUt','parse','info','analysis.topology.structure','toString','toLowerCase','search','setStateAsync','from','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','forEach','\x20Nodes\x20(Display\x20Names\x20restored).','add','push','devices','sort','(((.+)+)+)+$','455988DjBEwN','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','monitored','50920nqHeTj','bewegung','1304471yaSGJB','log','rooms','val','indexOf','config','includes','location','constructor','length','matrix','getStateAsync','trim','üï∏Ô∏è\x20Topology\x20unchanged.','type','235554sXMDoL','stringify'];a9_0x4546=function(){return _0x308c5b;};return a9_0x4546();}async function updateTopology(_0x59024e){const _0x2c2953=a9_0x4cdf;_0x59024e[_0x2c2953(0x213)][_0x2c2953(0x1f6)](_0x2c2953(0x20e));const _0x305b28=_0x59024e[_0x2c2953(0x217)][_0x2c2953(0x20a)]||[],_0x2af6ed=new Set(),_0xdf905a=new Set();_0x305b28[_0x2c2953(0x206)](_0x33ca1d=>{const _0x4dcf70=_0x2c2953;if(_0x33ca1d[_0x4dcf70(0x219)]&&_0x33ca1d['location'][_0x4dcf70(0x1f1)]()!==''){const _0x2292db=_0x33ca1d[_0x4dcf70(0x219)]['trim']();_0x2af6ed['add'](_0x2292db),(_0x33ca1d['type']===_0x4dcf70(0x1f9)||_0x33ca1d[_0x4dcf70(0x1f3)]&&_0x33ca1d[_0x4dcf70(0x1f3)][_0x4dcf70(0x201)]()[_0x4dcf70(0x218)](_0x4dcf70(0x211)))&&_0xdf905a[_0x4dcf70(0x208)](_0x2292db);}});const _0x3f0be1=Array['from'](_0x2af6ed)['sort'](),_0xcd837b=Array[_0x2c2953(0x204)](_0xdf905a)[_0x2c2953(0x20b)]();if(_0x3f0be1[_0x2c2953(0x1ee)]===0x0){_0x59024e[_0x2c2953(0x213)][_0x2c2953(0x1f6)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x3e57d7={'rooms':[],'matrix':[]};try{const _0x4c53d8=await _0x59024e[_0x2c2953(0x1f0)](_0x2c2953(0x1ff));_0x4c53d8&&_0x4c53d8[_0x2c2953(0x215)]&&(_0x3e57d7=JSON[_0x2c2953(0x1fd)](_0x4c53d8['val']));}catch(_0x182ee3){}const _0x54b9e7=[],_0x297653=_0x3f0be1[_0x2c2953(0x1ee)];for(let _0x238840=0x0;_0x238840<_0x297653;_0x238840++){const _0x495d3f=[];for(let _0x2e1119=0x0;_0x2e1119<_0x297653;_0x2e1119++){let _0x5a18df=_0x238840===_0x2e1119?0x1:0x0;const _0x1aa9f1=_0x3f0be1[_0x238840],_0x3ddbe5=_0x3f0be1[_0x2e1119],_0x23a3e7=_0x3e57d7[_0x2c2953(0x214)]?_0x3e57d7[_0x2c2953(0x214)]['indexOf'](_0x1aa9f1):-0x1,_0x378f00=_0x3e57d7[_0x2c2953(0x214)]?_0x3e57d7[_0x2c2953(0x214)][_0x2c2953(0x216)](_0x3ddbe5):-0x1;_0x23a3e7!==-0x1&&_0x378f00!==-0x1&&_0x3e57d7[_0x2c2953(0x1ef)][_0x23a3e7]&&_0x3e57d7[_0x2c2953(0x1ef)][_0x23a3e7][_0x378f00]!==undefined&&(_0x5a18df=_0x3e57d7['matrix'][_0x23a3e7][_0x378f00]),_0x495d3f['push'](_0x5a18df);}_0x54b9e7[_0x2c2953(0x209)](_0x495d3f);}const _0x557d90={'updated':Date['now'](),'nodeCount':_0x297653,'rooms':_0x3f0be1,'matrix':_0x54b9e7,'monitored':_0xcd837b};JSON[_0x2c2953(0x1f5)](_0x557d90['rooms'])!==JSON[_0x2c2953(0x1f5)](_0x3e57d7[_0x2c2953(0x214)])||JSON[_0x2c2953(0x1f5)](_0x557d90[_0x2c2953(0x1ef)])!==JSON[_0x2c2953(0x1f5)](_0x3e57d7[_0x2c2953(0x1ef)])||JSON[_0x2c2953(0x1f5)](_0x557d90['monitored'])!==JSON[_0x2c2953(0x1f5)](_0x3e57d7[_0x2c2953(0x20f)]||[])?(await _0x59024e[_0x2c2953(0x203)](_0x2c2953(0x1ff),{'val':JSON['stringify'](_0x557d90),'ack':!![]}),_0x59024e[_0x2c2953(0x213)][_0x2c2953(0x1fe)](_0x2c2953(0x205)+_0x297653+_0x2c2953(0x207)),_0x59024e['sendToPythonWrapper']&&_0x59024e[_0x2c2953(0x1f8)]('SET_TOPOLOGY',_0x557d90)):_0x59024e[_0x2c2953(0x213)]['debug'](_0x2c2953(0x1f2));}function a9_0x4cdf(_0x15145a,_0x1acece){const _0x3db5e5=a9_0x4546();return a9_0x4cdf=function(_0x2fbb09,_0x583652){_0x2fbb09=_0x2fbb09-0x1ed;let _0x45463d=_0x3db5e5[_0x2fbb09];return _0x45463d;},a9_0x4cdf(_0x15145a,_0x1acece);}module['exports']={'updateTopology':updateTopology};