const a9_0x24d63d=a9_0x29db;(function(_0x4ddef5,_0x15273b){const _0x36f67c=a9_0x29db,_0x1fbc5c=_0x4ddef5();while(!![]){try{const _0x2fc7ab=parseInt(_0x36f67c(0x83))/0x1*(parseInt(_0x36f67c(0x78))/0x2)+-parseInt(_0x36f67c(0x9f))/0x3+-parseInt(_0x36f67c(0x96))/0x4+parseInt(_0x36f67c(0x91))/0x5*(-parseInt(_0x36f67c(0x6e))/0x6)+-parseInt(_0x36f67c(0x7f))/0x7*(parseInt(_0x36f67c(0x87))/0x8)+parseInt(_0x36f67c(0x9c))/0x9*(-parseInt(_0x36f67c(0x99))/0xa)+-parseInt(_0x36f67c(0x94))/0xb*(-parseInt(_0x36f67c(0x8a))/0xc);if(_0x2fc7ab===_0x15273b)break;else _0x1fbc5c['push'](_0x1fbc5c['shift']());}catch(_0x4865b7){_0x1fbc5c['push'](_0x1fbc5c['shift']());}}}(a9_0x6431,0x5547a));const a9_0x4f3cf0=(function(){let _0x352a9d=!![];return function(_0x58e3b3,_0x2c959c){const _0x3e9688=_0x352a9d?function(){if(_0x2c959c){const _0x3c217b=_0x2c959c['apply'](_0x58e3b3,arguments);return _0x2c959c=null,_0x3c217b;}}:function(){};return _0x352a9d=![],_0x3e9688;};}()),a9_0xe23c18=a9_0x4f3cf0(this,function(){const _0x59a3fb=a9_0x29db;return a9_0xe23c18[_0x59a3fb(0x7a)]()[_0x59a3fb(0x97)](_0x59a3fb(0x74))[_0x59a3fb(0x7a)]()[_0x59a3fb(0x76)](a9_0xe23c18)['search'](_0x59a3fb(0x74));});function a9_0x29db(_0x25db80,_0x2a5ac1){const _0x1cc851=a9_0x6431();return a9_0x29db=function(_0xe23c18,_0x4f3cf0){_0xe23c18=_0xe23c18-0x6e;let _0x64319d=_0x1cc851[_0xe23c18];return _0x64319d;},a9_0x29db(_0x25db80,_0x2a5ac1);}a9_0xe23c18();'use strict';function a9_0x6431(){const _0x105514=['parse','debug','matrix','35EYCHps','SET_TOPOLOGY','stringify','indexOf','24454XedOKZ','length','val','push','892072bPOgTj','toLowerCase','analysis.topology.structure','1626852VaaVNw','info','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','devices','add','\x20Nodes,\x20','exports','5fpUskv','normalizeRoomId','bewegung','143OahrjN','monitored','987908qtyGla','search','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','10RXaYuY','rooms','forEach','5178537KFmhHn','type','location','971133Oxvvps','sendToPythonWrapper','\x20Monitored\x20Rooms\x20(Normalized).','311082jwOQPI','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','from','motion','includes','getStateAsync','(((.+)+)+)+$','log','constructor','sort','28RgGcZL','trim','toString','ðŸ•¸ï¸\x20Topology\x20unchanged.'];a9_0x6431=function(){return _0x105514;};return a9_0x6431();}const setup=require('./setup');async function updateTopology(_0x25dc42){const _0x1788b3=a9_0x29db;_0x25dc42[_0x1788b3(0x75)][_0x1788b3(0x7d)](_0x1788b3(0x98));const _0x20bea4=_0x25dc42['config'][_0x1788b3(0x8d)]||[],_0x3a0cfb=new Set(),_0x297fe7=new Set();_0x20bea4[_0x1788b3(0x9b)](_0x277f2e=>{const _0x3c1489=_0x1788b3;if(_0x277f2e[_0x3c1489(0x9e)]&&_0x277f2e[_0x3c1489(0x9e)][_0x3c1489(0x79)]()!==''){const _0x3b4147=setup[_0x3c1489(0x92)](_0x277f2e[_0x3c1489(0x9e)][_0x3c1489(0x79)]());_0x3a0cfb[_0x3c1489(0x8e)](_0x3b4147),(_0x277f2e[_0x3c1489(0x9d)]===_0x3c1489(0x71)||_0x277f2e[_0x3c1489(0x9d)]&&_0x277f2e[_0x3c1489(0x9d)][_0x3c1489(0x88)]()[_0x3c1489(0x72)](_0x3c1489(0x93)))&&_0x297fe7[_0x3c1489(0x8e)](_0x3b4147);}});const _0x383149=Array[_0x1788b3(0x70)](_0x3a0cfb)[_0x1788b3(0x77)](),_0x4ad2c6=Array[_0x1788b3(0x70)](_0x297fe7)[_0x1788b3(0x77)]();if(_0x383149['length']===0x0){_0x25dc42[_0x1788b3(0x75)][_0x1788b3(0x7d)](_0x1788b3(0x6f));return;}let _0x103e60={'rooms':[],'matrix':[]};try{const _0x45b50d=await _0x25dc42[_0x1788b3(0x73)](_0x1788b3(0x89));_0x45b50d&&_0x45b50d[_0x1788b3(0x85)]&&(_0x103e60=JSON[_0x1788b3(0x7c)](_0x45b50d[_0x1788b3(0x85)]));}catch(_0x2bdc72){}const _0x30bc74=[],_0x26df6b=_0x383149[_0x1788b3(0x84)];for(let _0x2d4760=0x0;_0x2d4760<_0x26df6b;_0x2d4760++){const _0x3d9b58=[];for(let _0x499dfe=0x0;_0x499dfe<_0x26df6b;_0x499dfe++){let _0x25831a=_0x2d4760===_0x499dfe?0x1:0x0;const _0x19c2c0=_0x383149[_0x2d4760],_0x12678a=_0x383149[_0x499dfe],_0x4b6e4a=_0x103e60[_0x1788b3(0x9a)]?_0x103e60[_0x1788b3(0x9a)][_0x1788b3(0x82)](_0x19c2c0):-0x1,_0xfef0f9=_0x103e60[_0x1788b3(0x9a)]?_0x103e60[_0x1788b3(0x9a)][_0x1788b3(0x82)](_0x12678a):-0x1;_0x4b6e4a!==-0x1&&_0xfef0f9!==-0x1&&_0x103e60['matrix'][_0x4b6e4a]&&_0x103e60[_0x1788b3(0x7e)][_0x4b6e4a][_0xfef0f9]!==undefined&&(_0x25831a=_0x103e60[_0x1788b3(0x7e)][_0x4b6e4a][_0xfef0f9]),_0x3d9b58[_0x1788b3(0x86)](_0x25831a);}_0x30bc74[_0x1788b3(0x86)](_0x3d9b58);}const _0x4361af={'updated':Date['now'](),'nodeCount':_0x26df6b,'rooms':_0x383149,'matrix':_0x30bc74,'monitored':_0x4ad2c6};JSON[_0x1788b3(0x81)](_0x4361af[_0x1788b3(0x9a)])!==JSON[_0x1788b3(0x81)](_0x103e60['rooms'])||JSON['stringify'](_0x4361af[_0x1788b3(0x7e)])!==JSON['stringify'](_0x103e60[_0x1788b3(0x7e)])||JSON[_0x1788b3(0x81)](_0x4361af[_0x1788b3(0x95)])!==JSON[_0x1788b3(0x81)](_0x103e60[_0x1788b3(0x95)]||[])?(await _0x25dc42['setStateAsync'](_0x1788b3(0x89),{'val':JSON[_0x1788b3(0x81)](_0x4361af),'ack':!![]}),_0x25dc42['log'][_0x1788b3(0x8b)](_0x1788b3(0x8c)+_0x26df6b+_0x1788b3(0x8f)+_0x4ad2c6[_0x1788b3(0x84)]+_0x1788b3(0xa1)),_0x25dc42[_0x1788b3(0xa0)]&&_0x25dc42[_0x1788b3(0xa0)](_0x1788b3(0x80),_0x4361af)):_0x25dc42[_0x1788b3(0x75)][_0x1788b3(0x7d)](_0x1788b3(0x7b));}module[a9_0x24d63d(0x90)]={'updateTopology':updateTopology};