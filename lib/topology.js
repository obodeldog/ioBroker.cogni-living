function a9_0x977b(_0x701ae,_0x25fe39){const _0x5d71bd=a9_0xdf40();return a9_0x977b=function(_0xec09aa,_0x4d0ff6){_0xec09aa=_0xec09aa-0xb5;let _0xdf400e=_0x5d71bd[_0xec09aa];return _0xdf400e;},a9_0x977b(_0x701ae,_0x25fe39);}const a9_0x413334=a9_0x977b;(function(_0x12017b,_0x23aa8a){const _0x3b3201=a9_0x977b,_0x472722=_0x12017b();while(!![]){try{const _0x273f5b=parseInt(_0x3b3201(0xb8))/0x1*(parseInt(_0x3b3201(0xbe))/0x2)+parseInt(_0x3b3201(0xe2))/0x3*(-parseInt(_0x3b3201(0xc2))/0x4)+-parseInt(_0x3b3201(0xd4))/0x5+-parseInt(_0x3b3201(0xdd))/0x6+-parseInt(_0x3b3201(0xcc))/0x7*(parseInt(_0x3b3201(0xdb))/0x8)+parseInt(_0x3b3201(0xdf))/0x9+parseInt(_0x3b3201(0xbb))/0xa;if(_0x273f5b===_0x23aa8a)break;else _0x472722['push'](_0x472722['shift']());}catch(_0x24d707){_0x472722['push'](_0x472722['shift']());}}}(a9_0xdf40,0x59ff9));const a9_0x4d0ff6=(function(){let _0x2c7179=!![];return function(_0x29a439,_0x588d0a){const _0x3f2923=_0x2c7179?function(){if(_0x588d0a){const _0x5eec0d=_0x588d0a['apply'](_0x29a439,arguments);return _0x588d0a=null,_0x5eec0d;}}:function(){};return _0x2c7179=![],_0x3f2923;};}()),a9_0xec09aa=a9_0x4d0ff6(this,function(){const _0x39b07c=a9_0x977b;return a9_0xec09aa[_0x39b07c(0xbd)]()[_0x39b07c(0xe0)](_0x39b07c(0xc5))['toString']()[_0x39b07c(0xc9)](a9_0xec09aa)[_0x39b07c(0xe0)](_0x39b07c(0xc5));});a9_0xec09aa();'use strict';function a9_0xdf40(){const _0x2d4dae=['\x20Nodes,\x20','matrix','devices','48qMFkir','stringify','length','(((.+)+)+)+$','SET_TOPOLOGY','val','from','constructor','sort','includes','168yGksxP','now','./setup','push','add','indexOf','debug','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','3494040ecTUwf','toLowerCase','exports','motion','analysis.topology.structure','log','rooms','60856lQobOS','config','1772844LzQDaJ','location','4335129JEILok','search','monitored','153534GydlKX','ðŸ•¸ï¸\x20Topology\x20unchanged.','bewegung','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','sendToPythonWrapper','3UDwADG','setStateAsync','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','14578550cDPHNT','info','toString','146722gilwCF'];a9_0xdf40=function(){return _0x2d4dae;};return a9_0xdf40();}const setup=require(a9_0x413334(0xce));async function updateTopology(_0x643664){const _0x207135=a9_0x413334;_0x643664[_0x207135(0xd9)][_0x207135(0xd2)](_0x207135(0xb6));const _0x1b67b0=_0x643664[_0x207135(0xdc)][_0x207135(0xc1)]||[],_0x1d0fd4=new Set(),_0x26ff78=new Set();_0x1b67b0['forEach'](_0x5e0f18=>{const _0x4b4036=_0x207135;if(_0x5e0f18[_0x4b4036(0xde)]&&_0x5e0f18['location']['trim']()!==''){const _0x5a98c8=setup['normalizeRoomId'](_0x5e0f18['location']['trim']());_0x1d0fd4[_0x4b4036(0xd0)](_0x5a98c8),(_0x5e0f18['type']===_0x4b4036(0xd7)||_0x5e0f18['type']&&_0x5e0f18['type'][_0x4b4036(0xd5)]()[_0x4b4036(0xcb)](_0x4b4036(0xb5)))&&_0x26ff78[_0x4b4036(0xd0)](_0x5a98c8);}});const _0x4ef3bf=Array[_0x207135(0xc8)](_0x1d0fd4)[_0x207135(0xca)](),_0x241fcf=Array['from'](_0x26ff78)['sort']();if(_0x4ef3bf[_0x207135(0xc4)]===0x0){_0x643664[_0x207135(0xd9)][_0x207135(0xd2)](_0x207135(0xba));return;}let _0x5a0ea0={'rooms':[],'matrix':[]};try{const _0x5aa9c3=await _0x643664['getStateAsync']('analysis.topology.structure');_0x5aa9c3&&_0x5aa9c3['val']&&(_0x5a0ea0=JSON['parse'](_0x5aa9c3[_0x207135(0xc7)]));}catch(_0x5802fe){}const _0xf0062=[],_0xcec563=_0x4ef3bf[_0x207135(0xc4)];for(let _0x589b72=0x0;_0x589b72<_0xcec563;_0x589b72++){const _0x3d7e8a=[];for(let _0x238694=0x0;_0x238694<_0xcec563;_0x238694++){let _0x1ed68d=_0x589b72===_0x238694?0x1:0x0;const _0x58a56b=_0x4ef3bf[_0x589b72],_0x3d1596=_0x4ef3bf[_0x238694],_0x4d3f72=_0x5a0ea0[_0x207135(0xda)]?_0x5a0ea0[_0x207135(0xda)][_0x207135(0xd1)](_0x58a56b):-0x1,_0x2e99d3=_0x5a0ea0[_0x207135(0xda)]?_0x5a0ea0[_0x207135(0xda)][_0x207135(0xd1)](_0x3d1596):-0x1;_0x4d3f72!==-0x1&&_0x2e99d3!==-0x1&&_0x5a0ea0['matrix'][_0x4d3f72]&&_0x5a0ea0[_0x207135(0xc0)][_0x4d3f72][_0x2e99d3]!==undefined&&(_0x1ed68d=_0x5a0ea0[_0x207135(0xc0)][_0x4d3f72][_0x2e99d3]),_0x3d7e8a['push'](_0x1ed68d);}_0xf0062[_0x207135(0xcf)](_0x3d7e8a);}const _0x27e5fa={'updated':Date[_0x207135(0xcd)](),'nodeCount':_0xcec563,'rooms':_0x4ef3bf,'matrix':_0xf0062,'monitored':_0x241fcf};JSON['stringify'](_0x27e5fa[_0x207135(0xda)])!==JSON[_0x207135(0xc3)](_0x5a0ea0[_0x207135(0xda)])||JSON[_0x207135(0xc3)](_0x27e5fa[_0x207135(0xc0)])!==JSON['stringify'](_0x5a0ea0[_0x207135(0xc0)])||JSON[_0x207135(0xc3)](_0x27e5fa[_0x207135(0xe1)])!==JSON[_0x207135(0xc3)](_0x5a0ea0[_0x207135(0xe1)]||[])?(await _0x643664[_0x207135(0xb9)](_0x207135(0xd8),{'val':JSON[_0x207135(0xc3)](_0x27e5fa),'ack':!![]}),_0x643664[_0x207135(0xd9)][_0x207135(0xbc)](_0x207135(0xd3)+_0xcec563+_0x207135(0xbf)+_0x241fcf[_0x207135(0xc4)]+'\x20Monitored\x20Rooms\x20(Normalized).'),_0x643664[_0x207135(0xb7)]&&_0x643664[_0x207135(0xb7)](_0x207135(0xc6),_0x27e5fa)):_0x643664[_0x207135(0xd9)][_0x207135(0xd2)](_0x207135(0xe3));}module[a9_0x413334(0xd6)]={'updateTopology':updateTopology};