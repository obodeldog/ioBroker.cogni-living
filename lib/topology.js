const a9_0x387589=a9_0x5ba7;function a9_0x5ba7(_0xf6e04b,_0x19c1cf){const _0x4c0af7=a9_0x8577();return a9_0x5ba7=function(_0x164c86,_0x324159){_0x164c86=_0x164c86-0x18b;let _0x85770e=_0x4c0af7[_0x164c86];return _0x85770e;},a9_0x5ba7(_0xf6e04b,_0x19c1cf);}(function(_0x5bff31,_0x1bf451){const _0x2deb4a=a9_0x5ba7,_0x163ec9=_0x5bff31();while(!![]){try{const _0x1b128b=parseInt(_0x2deb4a(0x1aa))/0x1*(-parseInt(_0x2deb4a(0x18b))/0x2)+-parseInt(_0x2deb4a(0x1a4))/0x3+parseInt(_0x2deb4a(0x1b3))/0x4*(-parseInt(_0x2deb4a(0x1a5))/0x5)+-parseInt(_0x2deb4a(0x19e))/0x6+parseInt(_0x2deb4a(0x1af))/0x7*(-parseInt(_0x2deb4a(0x18e))/0x8)+parseInt(_0x2deb4a(0x194))/0x9+parseInt(_0x2deb4a(0x197))/0xa*(parseInt(_0x2deb4a(0x1a3))/0xb);if(_0x1b128b===_0x1bf451)break;else _0x163ec9['push'](_0x163ec9['shift']());}catch(_0x204b45){_0x163ec9['push'](_0x163ec9['shift']());}}}(a9_0x8577,0xe2e32));const a9_0x324159=(function(){let _0x5ceafc=!![];return function(_0xf71200,_0x10d22c){const _0x2e8904=_0x5ceafc?function(){const _0x340930=a9_0x5ba7;if(_0x10d22c){const _0x339437=_0x10d22c[_0x340930(0x1ae)](_0xf71200,arguments);return _0x10d22c=null,_0x339437;}}:function(){};return _0x5ceafc=![],_0x2e8904;};}()),a9_0x164c86=a9_0x324159(this,function(){const _0x26516f=a9_0x5ba7;return a9_0x164c86[_0x26516f(0x1a8)]()[_0x26516f(0x1b1)]('(((.+)+)+)+$')['toString']()[_0x26516f(0x1b2)](a9_0x164c86)[_0x26516f(0x1b1)](_0x26516f(0x1ab));});function a9_0x8577(){const _0x431e8a=['\x20Nodes\x20(Rooms).','val','push','15162768KmrzhA','now','trim','740pzIFJg','stringify','from','length','location','config','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','2916756bskfWo','matrix','forEach','setStateAsync','debug','619839qEitHY','3764268rDZCzS','5LyFBvr','info','log','toString','indexOf','1FfQZBf','(((.+)+)+)+$','devices','üï∏Ô∏è\x20Topology\x20unchanged.','apply','11833521qvXiyR','add','search','constructor','3822788GOohDD','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','parse','1076332QGMukW','analysis.topology.structure','rooms','8KlynAT','exports','sort'];a9_0x8577=function(){return _0x431e8a;};return a9_0x8577();}a9_0x164c86();'use strict';async function updateTopology(_0x30143c){const _0x1cda5d=a9_0x5ba7;_0x30143c['log'][_0x1cda5d(0x1a2)](_0x1cda5d(0x19d));const _0x519e9d=_0x30143c[_0x1cda5d(0x19c)][_0x1cda5d(0x1ac)]||[],_0x4e0231=new Set();_0x519e9d[_0x1cda5d(0x1a0)](_0x4aea9b=>{const _0x4890d9=_0x1cda5d;_0x4aea9b[_0x4890d9(0x19b)]&&_0x4aea9b['location']['trim']()!==''&&_0x4e0231[_0x4890d9(0x1b0)](_0x4aea9b[_0x4890d9(0x19b)][_0x4890d9(0x196)]());});const _0x2a5fac=Array[_0x1cda5d(0x199)](_0x4e0231)[_0x1cda5d(0x190)]();if(_0x2a5fac[_0x1cda5d(0x19a)]===0x0){_0x30143c[_0x1cda5d(0x1a7)][_0x1cda5d(0x1a2)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x2187e4={'rooms':[],'matrix':[]};try{const _0xeff744=await _0x30143c['getStateAsync']('analysis.topology.structure');_0xeff744&&_0xeff744[_0x1cda5d(0x192)]&&(_0x2187e4=JSON[_0x1cda5d(0x1b5)](_0xeff744[_0x1cda5d(0x192)]));}catch(_0x40c209){}const _0x42fb7c=[],_0x11ddba=_0x2a5fac[_0x1cda5d(0x19a)];for(let _0x2094dc=0x0;_0x2094dc<_0x11ddba;_0x2094dc++){const _0x2fddc4=[];for(let _0x48a326=0x0;_0x48a326<_0x11ddba;_0x48a326++){let _0x425951=_0x2094dc===_0x48a326?0x1:0x0;const _0x3a440f=_0x2a5fac[_0x2094dc],_0x2c477f=_0x2a5fac[_0x48a326],_0x3d466e=_0x2187e4['rooms']?_0x2187e4[_0x1cda5d(0x18d)][_0x1cda5d(0x1a9)](_0x3a440f):-0x1,_0x5773d8=_0x2187e4[_0x1cda5d(0x18d)]?_0x2187e4[_0x1cda5d(0x18d)][_0x1cda5d(0x1a9)](_0x2c477f):-0x1;_0x3d466e!==-0x1&&_0x5773d8!==-0x1&&_0x2187e4['matrix'][_0x3d466e]&&_0x2187e4['matrix'][_0x3d466e][_0x5773d8]!==undefined&&(_0x425951=_0x2187e4['matrix'][_0x3d466e][_0x5773d8]),_0x2fddc4[_0x1cda5d(0x193)](_0x425951);}_0x42fb7c[_0x1cda5d(0x193)](_0x2fddc4);}const _0x168c7c={'updated':Date[_0x1cda5d(0x195)](),'nodeCount':_0x11ddba,'rooms':_0x2a5fac,'matrix':_0x42fb7c};JSON[_0x1cda5d(0x198)](_0x168c7c[_0x1cda5d(0x18d)])!==JSON['stringify'](_0x2187e4['rooms'])||JSON[_0x1cda5d(0x198)](_0x168c7c[_0x1cda5d(0x19f)])!==JSON[_0x1cda5d(0x198)](_0x2187e4['matrix'])?(await _0x30143c[_0x1cda5d(0x1a1)](_0x1cda5d(0x18c),{'val':JSON[_0x1cda5d(0x198)](_0x168c7c),'ack':!![]}),_0x30143c['log'][_0x1cda5d(0x1a6)](_0x1cda5d(0x1b4)+_0x11ddba+_0x1cda5d(0x191))):_0x30143c[_0x1cda5d(0x1a7)][_0x1cda5d(0x1a2)](_0x1cda5d(0x1ad));}module[a9_0x387589(0x18f)]={'updateTopology':updateTopology};