const a9_0x49ab9b=a9_0x3f72;(function(_0x2c7b02,_0x7edb3c){const _0x5a1c81=a9_0x3f72,_0x5bf05e=_0x2c7b02();while(!![]){try{const _0xc8ee34=parseInt(_0x5a1c81(0x8b))/0x1*(parseInt(_0x5a1c81(0x95))/0x2)+-parseInt(_0x5a1c81(0x8a))/0x3*(-parseInt(_0x5a1c81(0x9d))/0x4)+parseInt(_0x5a1c81(0x91))/0x5*(-parseInt(_0x5a1c81(0x96))/0x6)+parseInt(_0x5a1c81(0xa0))/0x7+parseInt(_0x5a1c81(0x7f))/0x8*(parseInt(_0x5a1c81(0x7e))/0x9)+parseInt(_0x5a1c81(0x8c))/0xa+-parseInt(_0x5a1c81(0x82))/0xb;if(_0xc8ee34===_0x7edb3c)break;else _0x5bf05e['push'](_0x5bf05e['shift']());}catch(_0x2c0cbe){_0x5bf05e['push'](_0x5bf05e['shift']());}}}(a9_0x4176,0x78687));const a9_0x72fc6d=(function(){let _0x4558e1=!![];return function(_0x5ee916,_0x3aa70d){const _0x42fa9d=_0x4558e1?function(){const _0x2e33d0=a9_0x3f72;if(_0x3aa70d){const _0x351d38=_0x3aa70d[_0x2e33d0(0x94)](_0x5ee916,arguments);return _0x3aa70d=null,_0x351d38;}}:function(){};return _0x4558e1=![],_0x42fa9d;};}()),a9_0x331ac1=a9_0x72fc6d(this,function(){const _0x37ba11=a9_0x3f72;return a9_0x331ac1[_0x37ba11(0xa4)]()[_0x37ba11(0x8e)](_0x37ba11(0xa2))[_0x37ba11(0xa4)]()[_0x37ba11(0x9e)](a9_0x331ac1)[_0x37ba11(0x8e)](_0x37ba11(0xa2));});a9_0x331ac1();function a9_0x4176(){const _0x1a9171=['12904OpjZpP','location','exports','11399641WGpsGB','devices','length','stringify','type','sort','sendToPythonWrapper','matrix','706323IjYfDF','123982yNabtW','5199960buSSVt','motion','search','add','analysis.topology.structure','15EqELcd','debug','now','apply','8xXNsQb','1849620uFVmGH','SET_TOPOLOGY','includes','ðŸ•¸ï¸\x20Topology\x20unchanged.','info','parse','rooms','8fPIPbp','constructor','config','1183637RRdVux','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','(((.+)+)+)+$','./setup','toString','push','forEach','log','indexOf','trim','from','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','monitored','val','4455IqExcB'];a9_0x4176=function(){return _0x1a9171;};return a9_0x4176();}'use strict';function a9_0x3f72(_0x7949fa,_0x416907){const _0xc64e69=a9_0x4176();return a9_0x3f72=function(_0x331ac1,_0x72fc6d){_0x331ac1=_0x331ac1-0x7a;let _0x41760e=_0xc64e69[_0x331ac1];return _0x41760e;},a9_0x3f72(_0x7949fa,_0x416907);}const setup=require(a9_0x49ab9b(0xa3));async function updateTopology(_0x26e6f9){const _0x2e17ae=a9_0x49ab9b;_0x26e6f9[_0x2e17ae(0xa7)][_0x2e17ae(0x92)](_0x2e17ae(0x7b));const _0x193367=_0x26e6f9[_0x2e17ae(0x9f)][_0x2e17ae(0x83)]||[],_0x1a2709=new Set(),_0x338da2=new Set();_0x193367[_0x2e17ae(0xa6)](_0x5d65c7=>{const _0x254060=_0x2e17ae;if(_0x5d65c7[_0x254060(0x80)]&&_0x5d65c7[_0x254060(0x80)][_0x254060(0xa9)]()!==''){const _0x165e0a=_0x5d65c7[_0x254060(0x80)][_0x254060(0xa9)]();_0x1a2709[_0x254060(0x8f)](_0x165e0a),(_0x5d65c7[_0x254060(0x86)]===_0x254060(0x8d)||_0x5d65c7[_0x254060(0x86)]&&_0x5d65c7[_0x254060(0x86)]['toLowerCase']()[_0x254060(0x98)]('bewegung'))&&_0x338da2['add'](_0x165e0a);}});const _0x5114a3=Array[_0x2e17ae(0x7a)](_0x1a2709)[_0x2e17ae(0x87)](),_0x403610=Array['from'](_0x338da2)[_0x2e17ae(0x87)]();if(_0x5114a3[_0x2e17ae(0x84)]===0x0){_0x26e6f9[_0x2e17ae(0xa7)][_0x2e17ae(0x92)](_0x2e17ae(0xa1));return;}let _0x378a74={'rooms':[],'matrix':[]};try{const _0x553a2c=await _0x26e6f9['getStateAsync']('analysis.topology.structure');_0x553a2c&&_0x553a2c[_0x2e17ae(0x7d)]&&(_0x378a74=JSON[_0x2e17ae(0x9b)](_0x553a2c[_0x2e17ae(0x7d)]));}catch(_0x1710d2){}const _0x2bce25=[],_0x5a0d78=_0x5114a3[_0x2e17ae(0x84)];for(let _0xb02cb9=0x0;_0xb02cb9<_0x5a0d78;_0xb02cb9++){const _0x5f4d50=[];for(let _0x1dbf91=0x0;_0x1dbf91<_0x5a0d78;_0x1dbf91++){let _0x1961c7=_0xb02cb9===_0x1dbf91?0x1:0x0;const _0x15ba6f=_0x5114a3[_0xb02cb9],_0x2f49e1=_0x5114a3[_0x1dbf91],_0x157f95=_0x378a74[_0x2e17ae(0x9c)]?_0x378a74[_0x2e17ae(0x9c)][_0x2e17ae(0xa8)](_0x15ba6f):-0x1,_0x11d958=_0x378a74['rooms']?_0x378a74[_0x2e17ae(0x9c)][_0x2e17ae(0xa8)](_0x2f49e1):-0x1;_0x157f95!==-0x1&&_0x11d958!==-0x1&&_0x378a74[_0x2e17ae(0x89)][_0x157f95]&&_0x378a74[_0x2e17ae(0x89)][_0x157f95][_0x11d958]!==undefined&&(_0x1961c7=_0x378a74[_0x2e17ae(0x89)][_0x157f95][_0x11d958]),_0x5f4d50[_0x2e17ae(0xa5)](_0x1961c7);}_0x2bce25[_0x2e17ae(0xa5)](_0x5f4d50);}const _0x23c813={'updated':Date[_0x2e17ae(0x93)](),'nodeCount':_0x5a0d78,'rooms':_0x5114a3,'matrix':_0x2bce25,'monitored':_0x403610};JSON[_0x2e17ae(0x85)](_0x23c813[_0x2e17ae(0x9c)])!==JSON['stringify'](_0x378a74[_0x2e17ae(0x9c)])||JSON[_0x2e17ae(0x85)](_0x23c813[_0x2e17ae(0x89)])!==JSON[_0x2e17ae(0x85)](_0x378a74['matrix'])||JSON[_0x2e17ae(0x85)](_0x23c813[_0x2e17ae(0x7c)])!==JSON[_0x2e17ae(0x85)](_0x378a74['monitored']||[])?(await _0x26e6f9['setStateAsync'](_0x2e17ae(0x90),{'val':JSON['stringify'](_0x23c813),'ack':!![]}),_0x26e6f9[_0x2e17ae(0xa7)][_0x2e17ae(0x9a)]('ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20'+_0x5a0d78+'\x20Nodes\x20(Display\x20Names\x20restored).'),_0x26e6f9[_0x2e17ae(0x88)]&&_0x26e6f9[_0x2e17ae(0x88)](_0x2e17ae(0x97),_0x23c813)):_0x26e6f9['log'][_0x2e17ae(0x92)](_0x2e17ae(0x99));}module[a9_0x49ab9b(0x81)]={'updateTopology':updateTopology};