function a9_0x5a4a(){const _0x5421ba=['forEach','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','3567319pDgymi','rooms','monitored','analysis.topology.structure','add','val','trim','toLowerCase','info','(((.+)+)+)+$','18aCZueq','1316367zamcDZ','includes','indexOf','from','181555wFHCne','motion','sendToPythonWrapper','debug','matrix','39PgKwbw','push','log','location','config','exports','62540RKnkZv','setStateAsync','bewegung','286235kSxjAx','length','40uIIKzK','type','750908MNKlqi','SET_TOPOLOGY','search','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','stringify','3785264twUhiS','sort','apply','toString'];a9_0x5a4a=function(){return _0x5421ba;};return a9_0x5a4a();}function a9_0x41ce(_0x478dce,_0x326064){const _0x1b6b02=a9_0x5a4a();return a9_0x41ce=function(_0x523487,_0x4b2a94){_0x523487=_0x523487-0x1b7;let _0x5a4ad5=_0x1b6b02[_0x523487];return _0x5a4ad5;},a9_0x41ce(_0x478dce,_0x326064);}const a9_0x424501=a9_0x41ce;(function(_0x5b6e1f,_0x406465){const _0x1120a3=a9_0x41ce,_0x5f1670=_0x5b6e1f();while(!![]){try{const _0x5032f4=-parseInt(_0x1120a3(0x1e2))/0x1+parseInt(_0x1120a3(0x1ba))/0x2+-parseInt(_0x1120a3(0x1d9))/0x3*(parseInt(_0x1120a3(0x1df))/0x4)+-parseInt(_0x1120a3(0x1d4))/0x5*(parseInt(_0x1120a3(0x1cf))/0x6)+parseInt(_0x1120a3(0x1c5))/0x7+-parseInt(_0x1120a3(0x1bf))/0x8+-parseInt(_0x1120a3(0x1d0))/0x9*(-parseInt(_0x1120a3(0x1b8))/0xa);if(_0x5032f4===_0x406465)break;else _0x5f1670['push'](_0x5f1670['shift']());}catch(_0x3bc7b6){_0x5f1670['push'](_0x5f1670['shift']());}}}(a9_0x5a4a,0x614ce));const a9_0x4b2a94=(function(){let _0x38c10e=!![];return function(_0x356a90,_0x10e33c){const _0x3bb3f6=_0x38c10e?function(){const _0x43234d=a9_0x41ce;if(_0x10e33c){const _0x2ea4f0=_0x10e33c[_0x43234d(0x1c1)](_0x356a90,arguments);return _0x10e33c=null,_0x2ea4f0;}}:function(){};return _0x38c10e=![],_0x3bb3f6;};}()),a9_0x523487=a9_0x4b2a94(this,function(){const _0x45b035=a9_0x41ce;return a9_0x523487['toString']()['search'](_0x45b035(0x1ce))[_0x45b035(0x1c2)]()['constructor'](a9_0x523487)[_0x45b035(0x1bc)](_0x45b035(0x1ce));});a9_0x523487();'use strict';async function updateTopology(_0x56cd87){const _0x536ae6=a9_0x41ce;_0x56cd87[_0x536ae6(0x1db)][_0x536ae6(0x1d7)](_0x536ae6(0x1bd));const _0x173af6=_0x56cd87[_0x536ae6(0x1dd)]['devices']||[],_0x511846=new Set(),_0x13b132=new Set();_0x173af6[_0x536ae6(0x1c3)](_0x5191db=>{const _0x346a8f=_0x536ae6;if(_0x5191db[_0x346a8f(0x1dc)]&&_0x5191db[_0x346a8f(0x1dc)][_0x346a8f(0x1cb)]()!==''){const _0x4bbc79=_0x5191db[_0x346a8f(0x1dc)][_0x346a8f(0x1cb)]();_0x511846[_0x346a8f(0x1c9)](_0x4bbc79),(_0x5191db[_0x346a8f(0x1b9)]===_0x346a8f(0x1d5)||_0x5191db[_0x346a8f(0x1b9)]&&_0x5191db[_0x346a8f(0x1b9)][_0x346a8f(0x1cc)]()[_0x346a8f(0x1d1)](_0x346a8f(0x1e1)))&&_0x13b132['add'](_0x4bbc79);}});const _0x55e29b=Array['from'](_0x511846)[_0x536ae6(0x1c0)](),_0x930195=Array[_0x536ae6(0x1d3)](_0x13b132)[_0x536ae6(0x1c0)]();if(_0x55e29b[_0x536ae6(0x1b7)]===0x0){_0x56cd87[_0x536ae6(0x1db)]['debug']('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x287708={'rooms':[],'matrix':[]};try{const _0x5068b7=await _0x56cd87['getStateAsync'](_0x536ae6(0x1c8));_0x5068b7&&_0x5068b7[_0x536ae6(0x1ca)]&&(_0x287708=JSON['parse'](_0x5068b7[_0x536ae6(0x1ca)]));}catch(_0x103807){}const _0x5b61ef=[],_0x4955e9=_0x55e29b[_0x536ae6(0x1b7)];for(let _0x266fb6=0x0;_0x266fb6<_0x4955e9;_0x266fb6++){const _0x292bbc=[];for(let _0x41733b=0x0;_0x41733b<_0x4955e9;_0x41733b++){let _0x2eeec2=_0x266fb6===_0x41733b?0x1:0x0;const _0x27f89c=_0x55e29b[_0x266fb6],_0x34c40e=_0x55e29b[_0x41733b],_0x5e1226=_0x287708[_0x536ae6(0x1c6)]?_0x287708[_0x536ae6(0x1c6)][_0x536ae6(0x1d2)](_0x27f89c):-0x1,_0x56d015=_0x287708[_0x536ae6(0x1c6)]?_0x287708[_0x536ae6(0x1c6)][_0x536ae6(0x1d2)](_0x34c40e):-0x1;_0x5e1226!==-0x1&&_0x56d015!==-0x1&&_0x287708['matrix'][_0x5e1226]&&_0x287708[_0x536ae6(0x1d8)][_0x5e1226][_0x56d015]!==undefined&&(_0x2eeec2=_0x287708['matrix'][_0x5e1226][_0x56d015]),_0x292bbc[_0x536ae6(0x1da)](_0x2eeec2);}_0x5b61ef[_0x536ae6(0x1da)](_0x292bbc);}const _0x534235={'updated':Date['now'](),'nodeCount':_0x4955e9,'rooms':_0x55e29b,'matrix':_0x5b61ef,'monitored':_0x930195};JSON['stringify'](_0x534235[_0x536ae6(0x1c6)])!==JSON['stringify'](_0x287708[_0x536ae6(0x1c6)])||JSON['stringify'](_0x534235[_0x536ae6(0x1d8)])!==JSON[_0x536ae6(0x1be)](_0x287708['matrix'])||JSON['stringify'](_0x534235[_0x536ae6(0x1c7)])!==JSON[_0x536ae6(0x1be)](_0x287708['monitored']||[])?(await _0x56cd87[_0x536ae6(0x1e0)]('analysis.topology.structure',{'val':JSON[_0x536ae6(0x1be)](_0x534235),'ack':!![]}),_0x56cd87[_0x536ae6(0x1db)][_0x536ae6(0x1cd)](_0x536ae6(0x1c4)+_0x4955e9+'\x20Nodes,\x20'+_0x930195[_0x536ae6(0x1b7)]+'\x20Monitored\x20Rooms.'),_0x56cd87[_0x536ae6(0x1d6)]&&_0x56cd87[_0x536ae6(0x1d6)](_0x536ae6(0x1bb),_0x534235)):_0x56cd87[_0x536ae6(0x1db)][_0x536ae6(0x1d7)]('üï∏Ô∏è\x20Topology\x20unchanged.');}module[a9_0x424501(0x1de)]={'updateTopology':updateTopology};