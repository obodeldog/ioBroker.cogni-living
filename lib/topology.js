const a9_0x3f9b93=a9_0x85e4;function a9_0x2540(){const _0x574f3a=['trim','9275jIhsKu','toLowerCase','info','location','440636nKAWkO','push','4571369mhDiBL','type','sendToPythonWrapper','length','9bMxYpL','910239OEqRYE','stringify','search','includes','analysis.topology.structure','exports','ðŸ•¸ï¸\x20Topology\x20unchanged.','indexOf','config','devices','\x20Nodes\x20(Display\x20Names\x20restored).','4qjCrUe','motion','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','2216973AvKrIh','parse','sort','apply','bewegung','add','rooms','6jgGXWU','val','7496PAZcWS','constructor','forEach','debug','log','matrix','from','(((.+)+)+)+$','13172750iisgkS','toString','now','monitored','getStateAsync','5565710QKanyS','setStateAsync'];a9_0x2540=function(){return _0x574f3a;};return a9_0x2540();}(function(_0x446644,_0x492733){const _0x8420af=a9_0x85e4,_0x208a56=_0x446644();while(!![]){try{const _0x563ba4=parseInt(_0x8420af(0x1ba))/0x1+-parseInt(_0x8420af(0x1b3))/0x2+-parseInt(_0x8420af(0x1c8))/0x3*(parseInt(_0x8420af(0x1c5))/0x4)+-parseInt(_0x8420af(0x1ac))/0x5*(-parseInt(_0x8420af(0x1cf))/0x6)+parseInt(_0x8420af(0x1af))/0x7*(-parseInt(_0x8420af(0x1d1))/0x8)+parseInt(_0x8420af(0x1b9))/0x9*(parseInt(_0x8420af(0x1a7))/0xa)+-parseInt(_0x8420af(0x1b5))/0xb;if(_0x563ba4===_0x492733)break;else _0x208a56['push'](_0x208a56['shift']());}catch(_0x266c3a){_0x208a56['push'](_0x208a56['shift']());}}}(a9_0x2540,0xb0d13));const a9_0x588471=(function(){let _0x19b294=!![];return function(_0x1bf031,_0xe84695){const _0x480a06=_0x19b294?function(){const _0x41de09=a9_0x85e4;if(_0xe84695){const _0x58a516=_0xe84695[_0x41de09(0x1cb)](_0x1bf031,arguments);return _0xe84695=null,_0x58a516;}}:function(){};return _0x19b294=![],_0x480a06;};}()),a9_0x15f54d=a9_0x588471(this,function(){const _0x339a64=a9_0x85e4;return a9_0x15f54d[_0x339a64(0x1a8)]()[_0x339a64(0x1bc)](_0x339a64(0x1a6))[_0x339a64(0x1a8)]()[_0x339a64(0x1d2)](a9_0x15f54d)['search']('(((.+)+)+)+$');});a9_0x15f54d();'use strict';function a9_0x85e4(_0x4f84ae,_0x29cccb){const _0x40cf6a=a9_0x2540();return a9_0x85e4=function(_0x15f54d,_0x588471){_0x15f54d=_0x15f54d-0x1a4;let _0x254080=_0x40cf6a[_0x15f54d];return _0x254080;},a9_0x85e4(_0x4f84ae,_0x29cccb);}const setup=require('./setup');async function updateTopology(_0xbe72f3){const _0x99b215=a9_0x85e4;_0xbe72f3[_0x99b215(0x1d5)][_0x99b215(0x1d4)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x117859=_0xbe72f3[_0x99b215(0x1c2)][_0x99b215(0x1c3)]||[],_0x3fb496=new Set(),_0x209a2c=new Set();_0x117859[_0x99b215(0x1d3)](_0x242891=>{const _0x4af98c=_0x99b215;if(_0x242891[_0x4af98c(0x1b2)]&&_0x242891[_0x4af98c(0x1b2)][_0x4af98c(0x1ae)]()!==''){const _0x2038b0=_0x242891[_0x4af98c(0x1b2)][_0x4af98c(0x1ae)]();_0x3fb496[_0x4af98c(0x1cd)](_0x2038b0),(_0x242891[_0x4af98c(0x1b6)]===_0x4af98c(0x1c6)||_0x242891['type']&&_0x242891['type'][_0x4af98c(0x1b0)]()[_0x4af98c(0x1bd)](_0x4af98c(0x1cc)))&&_0x209a2c[_0x4af98c(0x1cd)](_0x2038b0);}});const _0x23b3be=Array[_0x99b215(0x1a5)](_0x3fb496)[_0x99b215(0x1ca)](),_0x403c0b=Array[_0x99b215(0x1a5)](_0x209a2c)[_0x99b215(0x1ca)]();if(_0x23b3be[_0x99b215(0x1b8)]===0x0){_0xbe72f3[_0x99b215(0x1d5)][_0x99b215(0x1d4)](_0x99b215(0x1c7));return;}let _0x1ea666={'rooms':[],'matrix':[]};try{const _0x5aa80e=await _0xbe72f3[_0x99b215(0x1ab)](_0x99b215(0x1be));_0x5aa80e&&_0x5aa80e[_0x99b215(0x1d0)]&&(_0x1ea666=JSON[_0x99b215(0x1c9)](_0x5aa80e[_0x99b215(0x1d0)]));}catch(_0x299beb){}const _0x28152e=[],_0x36e000=_0x23b3be['length'];for(let _0x5d4ee9=0x0;_0x5d4ee9<_0x36e000;_0x5d4ee9++){const _0x4a42aa=[];for(let _0x53a501=0x0;_0x53a501<_0x36e000;_0x53a501++){let _0x31e49b=_0x5d4ee9===_0x53a501?0x1:0x0;const _0x50b7c6=_0x23b3be[_0x5d4ee9],_0x2a9906=_0x23b3be[_0x53a501],_0x39681b=_0x1ea666[_0x99b215(0x1ce)]?_0x1ea666[_0x99b215(0x1ce)][_0x99b215(0x1c1)](_0x50b7c6):-0x1,_0x22cd77=_0x1ea666['rooms']?_0x1ea666[_0x99b215(0x1ce)][_0x99b215(0x1c1)](_0x2a9906):-0x1;_0x39681b!==-0x1&&_0x22cd77!==-0x1&&_0x1ea666['matrix'][_0x39681b]&&_0x1ea666[_0x99b215(0x1a4)][_0x39681b][_0x22cd77]!==undefined&&(_0x31e49b=_0x1ea666[_0x99b215(0x1a4)][_0x39681b][_0x22cd77]),_0x4a42aa['push'](_0x31e49b);}_0x28152e[_0x99b215(0x1b4)](_0x4a42aa);}const _0x245d01={'updated':Date[_0x99b215(0x1a9)](),'nodeCount':_0x36e000,'rooms':_0x23b3be,'matrix':_0x28152e,'monitored':_0x403c0b};JSON[_0x99b215(0x1bb)](_0x245d01[_0x99b215(0x1ce)])!==JSON[_0x99b215(0x1bb)](_0x1ea666[_0x99b215(0x1ce)])||JSON['stringify'](_0x245d01[_0x99b215(0x1a4)])!==JSON['stringify'](_0x1ea666[_0x99b215(0x1a4)])||JSON['stringify'](_0x245d01[_0x99b215(0x1aa)])!==JSON[_0x99b215(0x1bb)](_0x1ea666[_0x99b215(0x1aa)]||[])?(await _0xbe72f3[_0x99b215(0x1ad)](_0x99b215(0x1be),{'val':JSON['stringify'](_0x245d01),'ack':!![]}),_0xbe72f3[_0x99b215(0x1d5)][_0x99b215(0x1b1)]('ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20'+_0x36e000+_0x99b215(0x1c4)),_0xbe72f3[_0x99b215(0x1b7)]&&_0xbe72f3['sendToPythonWrapper']('SET_TOPOLOGY',_0x245d01)):_0xbe72f3[_0x99b215(0x1d5)]['debug'](_0x99b215(0x1c0));}module[a9_0x3f9b93(0x1bf)]={'updateTopology':updateTopology};