function a9_0x4f61(_0x9d8138,_0x292bf9){const _0x104df7=a9_0x1787();return a9_0x4f61=function(_0x3860a8,_0x134f94){_0x3860a8=_0x3860a8-0x15b;let _0x1787b6=_0x104df7[_0x3860a8];return _0x1787b6;},a9_0x4f61(_0x9d8138,_0x292bf9);}(function(_0x252041,_0x3871c3){const _0x21789a=a9_0x4f61,_0x2e08a7=_0x252041();while(!![]){try{const _0x59317f=-parseInt(_0x21789a(0x186))/0x1+-parseInt(_0x21789a(0x176))/0x2*(parseInt(_0x21789a(0x173))/0x3)+parseInt(_0x21789a(0x15f))/0x4*(-parseInt(_0x21789a(0x179))/0x5)+parseInt(_0x21789a(0x17a))/0x6*(-parseInt(_0x21789a(0x171))/0x7)+-parseInt(_0x21789a(0x166))/0x8*(parseInt(_0x21789a(0x165))/0x9)+-parseInt(_0x21789a(0x162))/0xa+parseInt(_0x21789a(0x174))/0xb;if(_0x59317f===_0x3871c3)break;else _0x2e08a7['push'](_0x2e08a7['shift']());}catch(_0x51d011){_0x2e08a7['push'](_0x2e08a7['shift']());}}}(a9_0x1787,0x56e35));const a9_0x134f94=(function(){let _0x4df648=!![];return function(_0x57142f,_0x11882e){const _0xc05657=_0x4df648?function(){const _0x307b7e=a9_0x4f61;if(_0x11882e){const _0x11a868=_0x11882e[_0x307b7e(0x160)](_0x57142f,arguments);return _0x11882e=null,_0x11a868;}}:function(){};return _0x4df648=![],_0xc05657;};}()),a9_0x3860a8=a9_0x134f94(this,function(){const _0x295b95=a9_0x4f61;return a9_0x3860a8[_0x295b95(0x180)]()[_0x295b95(0x17b)](_0x295b95(0x175))[_0x295b95(0x180)]()[_0x295b95(0x168)](a9_0x3860a8)[_0x295b95(0x17b)](_0x295b95(0x175));});a9_0x3860a8();'use strict';async function updateTopology(_0x404678){const _0x453ecc=a9_0x4f61;_0x404678[_0x453ecc(0x15d)][_0x453ecc(0x163)](_0x453ecc(0x169));const _0x22b9e1=_0x404678[_0x453ecc(0x170)][_0x453ecc(0x185)]||[],_0x54bec6=new Set(),_0xc65b84=new Set();_0x22b9e1[_0x453ecc(0x178)](_0x29d837=>{const _0x2babf0=_0x453ecc;if(_0x29d837['location']&&_0x29d837[_0x2babf0(0x17c)]['trim']()!==''){const _0x214a04=_0x29d837[_0x2babf0(0x17c)]['trim']();_0x54bec6['add'](_0x214a04),(_0x29d837[_0x2babf0(0x164)]===_0x2babf0(0x16d)||_0x29d837[_0x2babf0(0x164)]&&_0x29d837[_0x2babf0(0x164)]['toLowerCase']()['includes'](_0x2babf0(0x16b)))&&_0xc65b84['add'](_0x214a04);}});const _0x45ee64=Array[_0x453ecc(0x16c)](_0x54bec6)[_0x453ecc(0x161)](),_0x47c52f=Array[_0x453ecc(0x16c)](_0xc65b84)[_0x453ecc(0x161)]();if(_0x45ee64[_0x453ecc(0x184)]===0x0){_0x404678['log'][_0x453ecc(0x163)](_0x453ecc(0x17f));return;}let _0x87b559={'rooms':[],'matrix':[]};try{const _0x455225=await _0x404678['getStateAsync']('analysis.topology.structure');_0x455225&&_0x455225[_0x453ecc(0x16f)]&&(_0x87b559=JSON[_0x453ecc(0x15e)](_0x455225[_0x453ecc(0x16f)]));}catch(_0x3012cc){}const _0x4cc6a0=[],_0x6fd96=_0x45ee64['length'];for(let _0x2accc2=0x0;_0x2accc2<_0x6fd96;_0x2accc2++){const _0x3a929e=[];for(let _0x3d806d=0x0;_0x3d806d<_0x6fd96;_0x3d806d++){let _0x5a1dde=_0x2accc2===_0x3d806d?0x1:0x0;const _0x4f4696=_0x45ee64[_0x2accc2],_0x3389d0=_0x45ee64[_0x3d806d],_0x4bdc46=_0x87b559[_0x453ecc(0x17d)]?_0x87b559['rooms']['indexOf'](_0x4f4696):-0x1,_0x1bd059=_0x87b559[_0x453ecc(0x17d)]?_0x87b559['rooms'][_0x453ecc(0x16a)](_0x3389d0):-0x1;_0x4bdc46!==-0x1&&_0x1bd059!==-0x1&&_0x87b559[_0x453ecc(0x181)][_0x4bdc46]&&_0x87b559[_0x453ecc(0x181)][_0x4bdc46][_0x1bd059]!==undefined&&(_0x5a1dde=_0x87b559[_0x453ecc(0x181)][_0x4bdc46][_0x1bd059]),_0x3a929e[_0x453ecc(0x167)](_0x5a1dde);}_0x4cc6a0['push'](_0x3a929e);}const _0x4ce96f={'updated':Date[_0x453ecc(0x183)](),'nodeCount':_0x6fd96,'rooms':_0x45ee64,'matrix':_0x4cc6a0,'monitored':_0x47c52f};JSON['stringify'](_0x4ce96f[_0x453ecc(0x17d)])!==JSON[_0x453ecc(0x15b)](_0x87b559[_0x453ecc(0x17d)])||JSON[_0x453ecc(0x15b)](_0x4ce96f[_0x453ecc(0x181)])!==JSON[_0x453ecc(0x15b)](_0x87b559['matrix'])||JSON[_0x453ecc(0x15b)](_0x4ce96f[_0x453ecc(0x182)])!==JSON[_0x453ecc(0x15b)](_0x87b559['monitored']||[])?(await _0x404678['setStateAsync']('analysis.topology.structure',{'val':JSON['stringify'](_0x4ce96f),'ack':!![]}),_0x404678['log'][_0x453ecc(0x15c)](_0x453ecc(0x177)+_0x6fd96+_0x453ecc(0x172)+_0x47c52f[_0x453ecc(0x184)]+'\x20Monitored\x20Rooms.'),_0x404678['sendToPythonWrapper']&&_0x404678[_0x453ecc(0x16e)]('SET_TOPOLOGY',_0x4ce96f)):_0x404678[_0x453ecc(0x15d)][_0x453ecc(0x163)](_0x453ecc(0x17e));}function a9_0x1787(){const _0x141f6c=['info','log','parse','32492mnOjNE','apply','sort','1454050xWJkXx','debug','type','9nHKCsE','4006760cLdhLL','push','constructor','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','indexOf','bewegung','from','motion','sendToPythonWrapper','val','config','1253483XXvcyM','\x20Nodes,\x20','3RajcEM','29538432TTPPzM','(((.+)+)+)+$','1372450GaRKLC','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','forEach','135lyvJVy','6uKuCit','search','location','rooms','ðŸ•¸ï¸\x20Topology\x20unchanged.','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','toString','matrix','monitored','now','length','devices','598554csaZNC','stringify'];a9_0x1787=function(){return _0x141f6c;};return a9_0x1787();}module['exports']={'updateTopology':updateTopology};