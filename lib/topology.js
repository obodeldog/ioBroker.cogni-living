const a9_0x3d88f4=a9_0x4c89;(function(_0x86a243,_0x6e9a2c){const _0x319607=a9_0x4c89,_0x5e09c5=_0x86a243();while(!![]){try{const _0x323c00=-parseInt(_0x319607(0x96))/0x1+-parseInt(_0x319607(0x8d))/0x2+-parseInt(_0x319607(0x9b))/0x3+parseInt(_0x319607(0x95))/0x4+parseInt(_0x319607(0x8a))/0x5*(-parseInt(_0x319607(0x8b))/0x6)+parseInt(_0x319607(0x93))/0x7+parseInt(_0x319607(0x97))/0x8;if(_0x323c00===_0x6e9a2c)break;else _0x5e09c5['push'](_0x5e09c5['shift']());}catch(_0x19a8ff){_0x5e09c5['push'](_0x5e09c5['shift']());}}}(a9_0x38a6,0x83347));const a9_0x504e53=(function(){let _0xae317c=!![];return function(_0x30f76b,_0x1d66d9){const _0x4b22c2=_0xae317c?function(){const _0x970e3e=a9_0x4c89;if(_0x1d66d9){const _0x50cfa3=_0x1d66d9[_0x970e3e(0x7c)](_0x30f76b,arguments);return _0x1d66d9=null,_0x50cfa3;}}:function(){};return _0xae317c=![],_0x4b22c2;};}()),a9_0x346bfb=a9_0x504e53(this,function(){const _0x390748=a9_0x4c89;return a9_0x346bfb[_0x390748(0x79)]()[_0x390748(0x91)](_0x390748(0x87))[_0x390748(0x79)]()[_0x390748(0x8e)](a9_0x346bfb)['search'](_0x390748(0x87));});function a9_0x4c89(_0x3df0cc,_0x3c4a81){const _0x28abcc=a9_0x38a6();return a9_0x4c89=function(_0x346bfb,_0x504e53){_0x346bfb=_0x346bfb-0x74;let _0x38a6b6=_0x28abcc[_0x346bfb];return _0x38a6b6;},a9_0x4c89(_0x3df0cc,_0x3c4a81);}a9_0x346bfb();function a9_0x38a6(){const _0xeb27e9=['trim','SET_TOPOLOGY','add','analysis.topology.structure','location','sendToPythonWrapper','indexOf','monitored','bewegung','(((.+)+)+)+$','exports','setStateAsync','22210lSFAac','654sacjrq','forEach','861360AWhuGU','constructor','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','sort','search','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','3356703RwprHr','length','2725080xecgbl','771398rNmCXY','15451272DBUJTi','includes','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','parse','2605611ydhDpl','matrix','rooms','type','stringify','from','val','push','toString','log','./setup','apply','debug'];a9_0x38a6=function(){return _0xeb27e9;};return a9_0x38a6();}'use strict';const setup=require(a9_0x3d88f4(0x7b));async function updateTopology(_0x1b9ea5){const _0x348ee5=a9_0x3d88f4;_0x1b9ea5[_0x348ee5(0x7a)][_0x348ee5(0x7d)](_0x348ee5(0x8f));const _0x446d68=_0x1b9ea5['config']['devices']||[],_0x16c9c5=new Set(),_0xda1e99=new Set();_0x446d68[_0x348ee5(0x8c)](_0x1f7594=>{const _0x33110c=_0x348ee5;if(_0x1f7594[_0x33110c(0x82)]&&_0x1f7594[_0x33110c(0x82)][_0x33110c(0x7e)]()!==''){const _0x2c90cf=_0x1f7594[_0x33110c(0x82)][_0x33110c(0x7e)]();_0x16c9c5[_0x33110c(0x80)](_0x2c90cf),(_0x1f7594[_0x33110c(0x74)]==='motion'||_0x1f7594['type']&&_0x1f7594['type']['toLowerCase']()[_0x33110c(0x98)](_0x33110c(0x86)))&&_0xda1e99[_0x33110c(0x80)](_0x2c90cf);}});const _0x29ef24=Array[_0x348ee5(0x76)](_0x16c9c5)[_0x348ee5(0x90)](),_0x499261=Array[_0x348ee5(0x76)](_0xda1e99)['sort']();if(_0x29ef24[_0x348ee5(0x94)]===0x0){_0x1b9ea5[_0x348ee5(0x7a)][_0x348ee5(0x7d)](_0x348ee5(0x99));return;}let _0x358001={'rooms':[],'matrix':[]};try{const _0x307230=await _0x1b9ea5['getStateAsync'](_0x348ee5(0x81));_0x307230&&_0x307230['val']&&(_0x358001=JSON[_0x348ee5(0x9a)](_0x307230[_0x348ee5(0x77)]));}catch(_0x52bfcf){}const _0x294185=[],_0x390f48=_0x29ef24[_0x348ee5(0x94)];for(let _0x26badb=0x0;_0x26badb<_0x390f48;_0x26badb++){const _0x3a86bd=[];for(let _0x541b8f=0x0;_0x541b8f<_0x390f48;_0x541b8f++){let _0x5bd351=_0x26badb===_0x541b8f?0x1:0x0;const _0x19ded1=_0x29ef24[_0x26badb],_0x308995=_0x29ef24[_0x541b8f],_0x20930c=_0x358001[_0x348ee5(0x9d)]?_0x358001[_0x348ee5(0x9d)][_0x348ee5(0x84)](_0x19ded1):-0x1,_0xa7ae05=_0x358001[_0x348ee5(0x9d)]?_0x358001[_0x348ee5(0x9d)][_0x348ee5(0x84)](_0x308995):-0x1;_0x20930c!==-0x1&&_0xa7ae05!==-0x1&&_0x358001[_0x348ee5(0x9c)][_0x20930c]&&_0x358001[_0x348ee5(0x9c)][_0x20930c][_0xa7ae05]!==undefined&&(_0x5bd351=_0x358001[_0x348ee5(0x9c)][_0x20930c][_0xa7ae05]),_0x3a86bd['push'](_0x5bd351);}_0x294185[_0x348ee5(0x78)](_0x3a86bd);}const _0xd45e64={'updated':Date['now'](),'nodeCount':_0x390f48,'rooms':_0x29ef24,'matrix':_0x294185,'monitored':_0x499261};JSON[_0x348ee5(0x75)](_0xd45e64[_0x348ee5(0x9d)])!==JSON[_0x348ee5(0x75)](_0x358001[_0x348ee5(0x9d)])||JSON[_0x348ee5(0x75)](_0xd45e64[_0x348ee5(0x9c)])!==JSON[_0x348ee5(0x75)](_0x358001[_0x348ee5(0x9c)])||JSON['stringify'](_0xd45e64['monitored'])!==JSON[_0x348ee5(0x75)](_0x358001[_0x348ee5(0x85)]||[])?(await _0x1b9ea5[_0x348ee5(0x89)](_0x348ee5(0x81),{'val':JSON['stringify'](_0xd45e64),'ack':!![]}),_0x1b9ea5['log']['info'](_0x348ee5(0x92)+_0x390f48+'\x20Nodes\x20(Display\x20Names\x20restored).'),_0x1b9ea5['sendToPythonWrapper']&&_0x1b9ea5[_0x348ee5(0x83)](_0x348ee5(0x7f),_0xd45e64)):_0x1b9ea5[_0x348ee5(0x7a)][_0x348ee5(0x7d)]('ðŸ•¸ï¸\x20Topology\x20unchanged.');}module[a9_0x3d88f4(0x88)]={'updateTopology':updateTopology};