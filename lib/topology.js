const a9_0x278857=a9_0x52b9;(function(_0x4cb022,_0x1e3ac1){const _0x91863d=a9_0x52b9,_0x238f8b=_0x4cb022();while(!![]){try{const _0x313578=-parseInt(_0x91863d(0xc0))/0x1+-parseInt(_0x91863d(0xc2))/0x2*(-parseInt(_0x91863d(0xb1))/0x3)+parseInt(_0x91863d(0xd6))/0x4+parseInt(_0x91863d(0xcf))/0x5+parseInt(_0x91863d(0xdf))/0x6*(parseInt(_0x91863d(0xb9))/0x7)+-parseInt(_0x91863d(0xb4))/0x8*(parseInt(_0x91863d(0xce))/0x9)+-parseInt(_0x91863d(0xcb))/0xa*(-parseInt(_0x91863d(0xd3))/0xb);if(_0x313578===_0x1e3ac1)break;else _0x238f8b['push'](_0x238f8b['shift']());}catch(_0x28e8c5){_0x238f8b['push'](_0x238f8b['shift']());}}}(a9_0x1d40,0x954f6));const a9_0x2a796b=(function(){let _0x1a1a1b=!![];return function(_0x34a1e0,_0x21c47f){const _0x1398b3=_0x1a1a1b?function(){const _0x505d1b=a9_0x52b9;if(_0x21c47f){const _0x1a9230=_0x21c47f[_0x505d1b(0xbc)](_0x34a1e0,arguments);return _0x21c47f=null,_0x1a9230;}}:function(){};return _0x1a1a1b=![],_0x1398b3;};}()),a9_0x32589e=a9_0x2a796b(this,function(){const _0x23ea66=a9_0x52b9;return a9_0x32589e[_0x23ea66(0xb6)]()['search'](_0x23ea66(0xc6))[_0x23ea66(0xb6)]()[_0x23ea66(0xb3)](a9_0x32589e)[_0x23ea66(0xe0)]('(((.+)+)+)+$');});a9_0x32589e();function a9_0x1d40(){const _0xc5e3c2=['monitored','stringify','toLowerCase','devices','20YuSZMd','parse','SET_TOPOLOGY','378RJqzir','435130HVBkil','indexOf','ðŸ•¸ï¸\x20Topology\x20unchanged.','includes','1441693hnizeA','trim','rooms','2080364tldEge','type','motion','push','length','from','forEach','exports','log','12EZdXnQ','search','val','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','4965OzPlyf','./setup','constructor','129176hmZaFO','add','toString','sort','location','1516809LIeost','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','sendToPythonWrapper','apply','debug','\x20Nodes\x20(Display\x20Names\x20restored).','analysis.topology.structure','34384nUJucv','matrix','26aimzMT','now','bewegung','config','(((.+)+)+)+$'];a9_0x1d40=function(){return _0xc5e3c2;};return a9_0x1d40();}'use strict';const setup=require(a9_0x278857(0xb2));async function updateTopology(_0x4c822e){const _0x22e544=a9_0x278857;_0x4c822e['log'][_0x22e544(0xbd)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0xe63881=_0x4c822e[_0x22e544(0xc5)][_0x22e544(0xca)]||[],_0x19e5ff=new Set(),_0x2fa261=new Set();_0xe63881[_0x22e544(0xdc)](_0x3d3fea=>{const _0x52e2b9=_0x22e544;if(_0x3d3fea['location']&&_0x3d3fea['location'][_0x52e2b9(0xd4)]()!==''){const _0x1ed369=_0x3d3fea[_0x52e2b9(0xb8)]['trim']();_0x19e5ff[_0x52e2b9(0xb5)](_0x1ed369),(_0x3d3fea[_0x52e2b9(0xd7)]===_0x52e2b9(0xd8)||_0x3d3fea[_0x52e2b9(0xd7)]&&_0x3d3fea['type'][_0x52e2b9(0xc9)]()[_0x52e2b9(0xd2)](_0x52e2b9(0xc4)))&&_0x2fa261[_0x52e2b9(0xb5)](_0x1ed369);}});const _0x863294=Array['from'](_0x19e5ff)[_0x22e544(0xb7)](),_0x5076ce=Array[_0x22e544(0xdb)](_0x2fa261)[_0x22e544(0xb7)]();if(_0x863294[_0x22e544(0xda)]===0x0){_0x4c822e[_0x22e544(0xde)][_0x22e544(0xbd)](_0x22e544(0xba));return;}let _0xbcf0a4={'rooms':[],'matrix':[]};try{const _0x11f6a9=await _0x4c822e['getStateAsync'](_0x22e544(0xbf));_0x11f6a9&&_0x11f6a9[_0x22e544(0xe1)]&&(_0xbcf0a4=JSON[_0x22e544(0xcc)](_0x11f6a9[_0x22e544(0xe1)]));}catch(_0x50a100){}const _0x5bf791=[],_0x278310=_0x863294['length'];for(let _0x58fce9=0x0;_0x58fce9<_0x278310;_0x58fce9++){const _0x1977c2=[];for(let _0x7c21ff=0x0;_0x7c21ff<_0x278310;_0x7c21ff++){let _0x1d6fcc=_0x58fce9===_0x7c21ff?0x1:0x0;const _0x582c8f=_0x863294[_0x58fce9],_0x2abe27=_0x863294[_0x7c21ff],_0x57773b=_0xbcf0a4[_0x22e544(0xd5)]?_0xbcf0a4['rooms'][_0x22e544(0xd0)](_0x582c8f):-0x1,_0x5d534b=_0xbcf0a4[_0x22e544(0xd5)]?_0xbcf0a4['rooms']['indexOf'](_0x2abe27):-0x1;_0x57773b!==-0x1&&_0x5d534b!==-0x1&&_0xbcf0a4[_0x22e544(0xc1)][_0x57773b]&&_0xbcf0a4['matrix'][_0x57773b][_0x5d534b]!==undefined&&(_0x1d6fcc=_0xbcf0a4[_0x22e544(0xc1)][_0x57773b][_0x5d534b]),_0x1977c2[_0x22e544(0xd9)](_0x1d6fcc);}_0x5bf791[_0x22e544(0xd9)](_0x1977c2);}const _0x1af62c={'updated':Date[_0x22e544(0xc3)](),'nodeCount':_0x278310,'rooms':_0x863294,'matrix':_0x5bf791,'monitored':_0x5076ce};JSON['stringify'](_0x1af62c[_0x22e544(0xd5)])!==JSON[_0x22e544(0xc8)](_0xbcf0a4[_0x22e544(0xd5)])||JSON[_0x22e544(0xc8)](_0x1af62c['matrix'])!==JSON[_0x22e544(0xc8)](_0xbcf0a4[_0x22e544(0xc1)])||JSON[_0x22e544(0xc8)](_0x1af62c['monitored'])!==JSON[_0x22e544(0xc8)](_0xbcf0a4[_0x22e544(0xc7)]||[])?(await _0x4c822e['setStateAsync']('analysis.topology.structure',{'val':JSON[_0x22e544(0xc8)](_0x1af62c),'ack':!![]}),_0x4c822e['log']['info'](_0x22e544(0xe2)+_0x278310+_0x22e544(0xbe)),_0x4c822e[_0x22e544(0xbb)]&&_0x4c822e[_0x22e544(0xbb)](_0x22e544(0xcd),_0x1af62c)):_0x4c822e['log']['debug'](_0x22e544(0xd1));}function a9_0x52b9(_0x4b3974,_0x31cac3){const _0x5ba015=a9_0x1d40();return a9_0x52b9=function(_0x32589e,_0x2a796b){_0x32589e=_0x32589e-0xb1;let _0x1d40e7=_0x5ba015[_0x32589e];return _0x1d40e7;},a9_0x52b9(_0x4b3974,_0x31cac3);}module[a9_0x278857(0xdd)]={'updateTopology':updateTopology};