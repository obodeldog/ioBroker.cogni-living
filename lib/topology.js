const a9_0x3855c1=a9_0x137b;function a9_0x137b(_0x863426,_0x4a9a5c){const _0x51b123=a9_0x47ae();return a9_0x137b=function(_0x302543,_0x2a16c9){_0x302543=_0x302543-0x18d;let _0x47aebf=_0x51b123[_0x302543];return _0x47aebf;},a9_0x137b(_0x863426,_0x4a9a5c);}(function(_0x1bef2e,_0x54e08d){const _0x44c63e=a9_0x137b,_0x4df74c=_0x1bef2e();while(!![]){try{const _0x13ef7a=-parseInt(_0x44c63e(0x196))/0x1+-parseInt(_0x44c63e(0x1a9))/0x2*(parseInt(_0x44c63e(0x1b6))/0x3)+parseInt(_0x44c63e(0x1b3))/0x4*(-parseInt(_0x44c63e(0x1a3))/0x5)+-parseInt(_0x44c63e(0x1bc))/0x6+parseInt(_0x44c63e(0x1a5))/0x7*(parseInt(_0x44c63e(0x19e))/0x8)+parseInt(_0x44c63e(0x19d))/0x9*(parseInt(_0x44c63e(0x195))/0xa)+-parseInt(_0x44c63e(0x1ae))/0xb*(-parseInt(_0x44c63e(0x1a0))/0xc);if(_0x13ef7a===_0x54e08d)break;else _0x4df74c['push'](_0x4df74c['shift']());}catch(_0x339768){_0x4df74c['push'](_0x4df74c['shift']());}}}(a9_0x47ae,0x7d584));const a9_0x2a16c9=(function(){let _0x5c04e7=!![];return function(_0x1997c9,_0x54f92d){const _0x1fa4cd=_0x5c04e7?function(){const _0x6317c=a9_0x137b;if(_0x54f92d){const _0x3f250f=_0x54f92d[_0x6317c(0x1b8)](_0x1997c9,arguments);return _0x54f92d=null,_0x3f250f;}}:function(){};return _0x5c04e7=![],_0x1fa4cd;};}()),a9_0x302543=a9_0x2a16c9(this,function(){const _0xb31d63=a9_0x137b;return a9_0x302543[_0xb31d63(0x1ab)]()[_0xb31d63(0x190)](_0xb31d63(0x1b5))[_0xb31d63(0x1ab)]()[_0xb31d63(0x198)](a9_0x302543)[_0xb31d63(0x190)](_0xb31d63(0x1b5));});a9_0x302543();function a9_0x47ae(){const _0x408613=['motion','60rqpBZf','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','(((.+)+)+)+$','3wHMlOJ','indexOf','apply','length','now','parse','4751904VkQQqA','location','sendToPythonWrapper','type','debug','search','push','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','analysis.topology.structure','forEach','255380gWkFab','963532QvVwOp','rooms','constructor','exports','\x20Nodes\x20(Display\x20Names\x20restored).','add','sort','27AuSSHw','5320536BNGjWw','from','12qKDVDG','log','matrix','339750WNeLJo','bewegung','7wYcljp','ðŸ•¸ï¸\x20Topology\x20unchanged.','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','toLowerCase','1852108kGXGtD','includes','toString','stringify','info','38198061WvjCdQ','getStateAsync','monitored','val'];a9_0x47ae=function(){return _0x408613;};return a9_0x47ae();}'use strict';const setup=require('./setup');async function updateTopology(_0xf7de2a){const _0x2b057d=a9_0x137b;_0xf7de2a[_0x2b057d(0x1a1)]['debug'](_0x2b057d(0x1b4));const _0x3db91b=_0xf7de2a['config']['devices']||[],_0xf6b664=new Set(),_0x4c2847=new Set();_0x3db91b[_0x2b057d(0x194)](_0x5203de=>{const _0x56f9f3=_0x2b057d;if(_0x5203de[_0x56f9f3(0x1bd)]&&_0x5203de[_0x56f9f3(0x1bd)]['trim']()!==''){const _0x25ca4e=_0x5203de['location']['trim']();_0xf6b664[_0x56f9f3(0x19b)](_0x25ca4e),(_0x5203de[_0x56f9f3(0x18e)]===_0x56f9f3(0x1b2)||_0x5203de[_0x56f9f3(0x18e)]&&_0x5203de[_0x56f9f3(0x18e)][_0x56f9f3(0x1a8)]()[_0x56f9f3(0x1aa)](_0x56f9f3(0x1a4)))&&_0x4c2847['add'](_0x25ca4e);}});const _0x4c4469=Array[_0x2b057d(0x19f)](_0xf6b664)[_0x2b057d(0x19c)](),_0x491d8d=Array[_0x2b057d(0x19f)](_0x4c2847)[_0x2b057d(0x19c)]();if(_0x4c4469[_0x2b057d(0x1b9)]===0x0){_0xf7de2a['log'][_0x2b057d(0x18f)](_0x2b057d(0x192));return;}let _0x1263c7={'rooms':[],'matrix':[]};try{const _0x14e28e=await _0xf7de2a[_0x2b057d(0x1af)](_0x2b057d(0x193));_0x14e28e&&_0x14e28e[_0x2b057d(0x1b1)]&&(_0x1263c7=JSON[_0x2b057d(0x1bb)](_0x14e28e[_0x2b057d(0x1b1)]));}catch(_0x3db1d0){}const _0x5381ae=[],_0x17949b=_0x4c4469['length'];for(let _0x257ebc=0x0;_0x257ebc<_0x17949b;_0x257ebc++){const _0x57184e=[];for(let _0x5dd86f=0x0;_0x5dd86f<_0x17949b;_0x5dd86f++){let _0x2657d1=_0x257ebc===_0x5dd86f?0x1:0x0;const _0x486433=_0x4c4469[_0x257ebc],_0x5257a6=_0x4c4469[_0x5dd86f],_0x48914f=_0x1263c7[_0x2b057d(0x197)]?_0x1263c7['rooms'][_0x2b057d(0x1b7)](_0x486433):-0x1,_0x2fdb2f=_0x1263c7['rooms']?_0x1263c7[_0x2b057d(0x197)][_0x2b057d(0x1b7)](_0x5257a6):-0x1;_0x48914f!==-0x1&&_0x2fdb2f!==-0x1&&_0x1263c7[_0x2b057d(0x1a2)][_0x48914f]&&_0x1263c7[_0x2b057d(0x1a2)][_0x48914f][_0x2fdb2f]!==undefined&&(_0x2657d1=_0x1263c7['matrix'][_0x48914f][_0x2fdb2f]),_0x57184e['push'](_0x2657d1);}_0x5381ae[_0x2b057d(0x191)](_0x57184e);}const _0x2cbe38={'updated':Date[_0x2b057d(0x1ba)](),'nodeCount':_0x17949b,'rooms':_0x4c4469,'matrix':_0x5381ae,'monitored':_0x491d8d};JSON[_0x2b057d(0x1ac)](_0x2cbe38[_0x2b057d(0x197)])!==JSON[_0x2b057d(0x1ac)](_0x1263c7['rooms'])||JSON[_0x2b057d(0x1ac)](_0x2cbe38[_0x2b057d(0x1a2)])!==JSON[_0x2b057d(0x1ac)](_0x1263c7[_0x2b057d(0x1a2)])||JSON[_0x2b057d(0x1ac)](_0x2cbe38[_0x2b057d(0x1b0)])!==JSON[_0x2b057d(0x1ac)](_0x1263c7[_0x2b057d(0x1b0)]||[])?(await _0xf7de2a['setStateAsync'](_0x2b057d(0x193),{'val':JSON[_0x2b057d(0x1ac)](_0x2cbe38),'ack':!![]}),_0xf7de2a[_0x2b057d(0x1a1)][_0x2b057d(0x1ad)](_0x2b057d(0x1a7)+_0x17949b+_0x2b057d(0x19a)),_0xf7de2a['sendToPythonWrapper']&&_0xf7de2a[_0x2b057d(0x18d)]('SET_TOPOLOGY',_0x2cbe38)):_0xf7de2a['log']['debug'](_0x2b057d(0x1a6));}module[a9_0x3855c1(0x199)]={'updateTopology':updateTopology};