const a9_0x24b356=a9_0x3a73;function a9_0x3a73(_0x1b67e2,_0x4ef2b4){const _0x4babc9=a9_0x577c();return a9_0x3a73=function(_0x4b6dc8,_0xf89097){_0x4b6dc8=_0x4b6dc8-0xdb;let _0x577c08=_0x4babc9[_0x4b6dc8];return _0x577c08;},a9_0x3a73(_0x1b67e2,_0x4ef2b4);}(function(_0x5303fd,_0x4937f5){const _0x3e8477=a9_0x3a73,_0x36f6c7=_0x5303fd();while(!![]){try{const _0x4c73e7=parseInt(_0x3e8477(0xfe))/0x1+parseInt(_0x3e8477(0xf1))/0x2+parseInt(_0x3e8477(0xed))/0x3+-parseInt(_0x3e8477(0xe7))/0x4*(parseInt(_0x3e8477(0xdd))/0x5)+parseInt(_0x3e8477(0xf3))/0x6+parseInt(_0x3e8477(0xf0))/0x7*(parseInt(_0x3e8477(0xfd))/0x8)+-parseInt(_0x3e8477(0xdc))/0x9;if(_0x4c73e7===_0x4937f5)break;else _0x36f6c7['push'](_0x36f6c7['shift']());}catch(_0x163e0a){_0x36f6c7['push'](_0x36f6c7['shift']());}}}(a9_0x577c,0xf3c56));function a9_0x577c(){const _0x227d05=['analysis.topology.structure','from','(((.+)+)+)+$','val','üï∏Ô∏è\x20Topology\x20unchanged.','\x20Nodes\x20(Rooms).','rooms','indexOf','3368MIkHxz','82759LFPswo','apply','18413883MeepTh','25GLRLpA','getStateAsync','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','stringify','now','sort','search','location','parse','exports','1110764aKhyRu','add','length','trim','debug','toString','2675685gxnOkv','matrix','constructor','8596Yxdeqg','2854308sJCnGX','config','9084792EBFhzX','push'];a9_0x577c=function(){return _0x227d05;};return a9_0x577c();}const a9_0xf89097=(function(){let _0x1c2f29=!![];return function(_0x8acbd8,_0x177f8d){const _0x1788d3=_0x1c2f29?function(){const _0x2546fb=a9_0x3a73;if(_0x177f8d){const _0x5ce685=_0x177f8d[_0x2546fb(0xdb)](_0x8acbd8,arguments);return _0x177f8d=null,_0x5ce685;}}:function(){};return _0x1c2f29=![],_0x1788d3;};}()),a9_0x4b6dc8=a9_0xf89097(this,function(){const _0x433e13=a9_0x3a73;return a9_0x4b6dc8[_0x433e13(0xec)]()['search'](_0x433e13(0xf7))[_0x433e13(0xec)]()[_0x433e13(0xef)](a9_0x4b6dc8)[_0x433e13(0xe3)](_0x433e13(0xf7));});a9_0x4b6dc8();'use strict';async function updateTopology(_0x4e1c01){const _0x21bcb7=a9_0x3a73;_0x4e1c01['log'][_0x21bcb7(0xeb)]('üï∏Ô∏è\x20Updating\x20Graph\x20Topology...');const _0xc38f9=_0x4e1c01[_0x21bcb7(0xf2)]['devices']||[],_0x1cf07c=new Set();_0xc38f9['forEach'](_0x4fb726=>{const _0x7a4898=_0x21bcb7;_0x4fb726['location']&&_0x4fb726['location'][_0x7a4898(0xea)]()!==''&&_0x1cf07c[_0x7a4898(0xe8)](_0x4fb726[_0x7a4898(0xe4)][_0x7a4898(0xea)]());});const _0x251fd5=Array[_0x21bcb7(0xf6)](_0x1cf07c)[_0x21bcb7(0xe2)]();if(_0x251fd5[_0x21bcb7(0xe9)]===0x0){_0x4e1c01['log'][_0x21bcb7(0xeb)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x2a2251={'rooms':[],'matrix':[]};try{const _0x11b2a6=await _0x4e1c01[_0x21bcb7(0xde)](_0x21bcb7(0xf5));_0x11b2a6&&_0x11b2a6[_0x21bcb7(0xf8)]&&(_0x2a2251=JSON[_0x21bcb7(0xe5)](_0x11b2a6[_0x21bcb7(0xf8)]));}catch(_0x330c34){}const _0x4391d9=[],_0x502cb3=_0x251fd5['length'];for(let _0x3ebd4b=0x0;_0x3ebd4b<_0x502cb3;_0x3ebd4b++){const _0x213fca=[];for(let _0x4b89b7=0x0;_0x4b89b7<_0x502cb3;_0x4b89b7++){let _0x5da706=_0x3ebd4b===_0x4b89b7?0x1:0x0;const _0xccded8=_0x251fd5[_0x3ebd4b],_0x43e7c8=_0x251fd5[_0x4b89b7],_0x5b9614=_0x2a2251[_0x21bcb7(0xfb)]?_0x2a2251[_0x21bcb7(0xfb)][_0x21bcb7(0xfc)](_0xccded8):-0x1,_0xdc1083=_0x2a2251[_0x21bcb7(0xfb)]?_0x2a2251[_0x21bcb7(0xfb)]['indexOf'](_0x43e7c8):-0x1;_0x5b9614!==-0x1&&_0xdc1083!==-0x1&&_0x2a2251[_0x21bcb7(0xee)][_0x5b9614]&&_0x2a2251[_0x21bcb7(0xee)][_0x5b9614][_0xdc1083]!==undefined&&(_0x5da706=_0x2a2251[_0x21bcb7(0xee)][_0x5b9614][_0xdc1083]),_0x213fca[_0x21bcb7(0xf4)](_0x5da706);}_0x4391d9[_0x21bcb7(0xf4)](_0x213fca);}const _0x1a9eed={'updated':Date[_0x21bcb7(0xe1)](),'nodeCount':_0x502cb3,'rooms':_0x251fd5,'matrix':_0x4391d9};JSON[_0x21bcb7(0xe0)](_0x1a9eed['rooms'])!==JSON[_0x21bcb7(0xe0)](_0x2a2251[_0x21bcb7(0xfb)])||JSON[_0x21bcb7(0xe0)](_0x1a9eed['matrix'])!==JSON[_0x21bcb7(0xe0)](_0x2a2251[_0x21bcb7(0xee)])?(await _0x4e1c01['setStateAsync']('analysis.topology.structure',{'val':JSON[_0x21bcb7(0xe0)](_0x1a9eed),'ack':!![]}),_0x4e1c01['log']['info'](_0x21bcb7(0xdf)+_0x502cb3+_0x21bcb7(0xfa))):_0x4e1c01['log'][_0x21bcb7(0xeb)](_0x21bcb7(0xf9));}module[a9_0x24b356(0xe6)]={'updateTopology':updateTopology};