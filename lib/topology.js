const a9_0x5d1d38=a9_0x748c;function a9_0x2dd4(){const _0x232b81=['stringify','info','sendToPythonWrapper','(((.+)+)+)+$','1486840GRZdGW','indexOf','toLowerCase','constructor','7wIwlpi','add','log','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','search','197397pRBhXe','from','config','type','toString','trim','bewegung','51378zyehTX','183735oBtldD','237139DkcIMF','includes','val','194400RZezbl','1047005qhFPuT','analysis.topology.structure','4Gxbdrk','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','push','SET_TOPOLOGY','sort','location','apply','\x20Nodes,\x20','debug','exports','length','now','matrix','getStateAsync','rooms'];a9_0x2dd4=function(){return _0x232b81;};return a9_0x2dd4();}function a9_0x748c(_0x2f8941,_0x589c8c){const _0x3c13a5=a9_0x2dd4();return a9_0x748c=function(_0x243029,_0xaf5bef){_0x243029=_0x243029-0xd4;let _0x2dd47a=_0x3c13a5[_0x243029];return _0x2dd47a;},a9_0x748c(_0x2f8941,_0x589c8c);}(function(_0x1124df,_0xa2bf93){const _0x195783=a9_0x748c,_0x24cfe6=_0x1124df();while(!![]){try{const _0x2323a5=parseInt(_0x195783(0xfc))/0x1*(-parseInt(_0x195783(0xdd))/0x2)+-parseInt(_0x195783(0xd6))/0x3+-parseInt(_0x195783(0xe5))/0x4*(-parseInt(_0x195783(0xe3))/0x5)+-parseInt(_0x195783(0xe2))/0x6+parseInt(_0x195783(0xdf))/0x7+parseInt(_0x195783(0xf8))/0x8+-parseInt(_0x195783(0xde))/0x9;if(_0x2323a5===_0xa2bf93)break;else _0x24cfe6['push'](_0x24cfe6['shift']());}catch(_0xe6a341){_0x24cfe6['push'](_0x24cfe6['shift']());}}}(a9_0x2dd4,0x1fe88));const a9_0xaf5bef=(function(){let _0x3344ad=!![];return function(_0x4d704c,_0x222f50){const _0x31047=_0x3344ad?function(){const _0x22e867=a9_0x748c;if(_0x222f50){const _0x5c99ec=_0x222f50[_0x22e867(0xeb)](_0x4d704c,arguments);return _0x222f50=null,_0x5c99ec;}}:function(){};return _0x3344ad=![],_0x31047;};}()),a9_0x243029=a9_0xaf5bef(this,function(){const _0x337634=a9_0x748c;return a9_0x243029[_0x337634(0xda)]()[_0x337634(0xd5)]('(((.+)+)+)+$')[_0x337634(0xda)]()[_0x337634(0xfb)](a9_0x243029)[_0x337634(0xd5)](_0x337634(0xf7));});a9_0x243029();'use strict';async function updateTopology(_0x52e5cd){const _0x220b0e=a9_0x748c;_0x52e5cd[_0x220b0e(0xfe)][_0x220b0e(0xed)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x493176=_0x52e5cd[_0x220b0e(0xd8)]['devices']||[],_0x1363e4=new Set(),_0x528bff=new Set();_0x493176['forEach'](_0x479ab2=>{const _0x3756e1=_0x220b0e;if(_0x479ab2[_0x3756e1(0xea)]&&_0x479ab2[_0x3756e1(0xea)]['trim']()!==''){const _0x2f05af=_0x479ab2[_0x3756e1(0xea)][_0x3756e1(0xdb)]();_0x1363e4[_0x3756e1(0xfd)](_0x2f05af),(_0x479ab2['type']==='motion'||_0x479ab2[_0x3756e1(0xd9)]&&_0x479ab2[_0x3756e1(0xd9)][_0x3756e1(0xfa)]()[_0x3756e1(0xe0)](_0x3756e1(0xdc)))&&_0x528bff[_0x3756e1(0xfd)](_0x2f05af);}});const _0xb3e7ec=Array[_0x220b0e(0xd7)](_0x1363e4)[_0x220b0e(0xe9)](),_0x4734eb=Array[_0x220b0e(0xd7)](_0x528bff)[_0x220b0e(0xe9)]();if(_0xb3e7ec[_0x220b0e(0xef)]===0x0){_0x52e5cd[_0x220b0e(0xfe)][_0x220b0e(0xed)](_0x220b0e(0xe6));return;}let _0x25b53b={'rooms':[],'matrix':[]};try{const _0x46deb8=await _0x52e5cd[_0x220b0e(0xf2)](_0x220b0e(0xe4));_0x46deb8&&_0x46deb8[_0x220b0e(0xe1)]&&(_0x25b53b=JSON['parse'](_0x46deb8[_0x220b0e(0xe1)]));}catch(_0x2ce407){}const _0x109b8f=[],_0x2db541=_0xb3e7ec[_0x220b0e(0xef)];for(let _0x588fa7=0x0;_0x588fa7<_0x2db541;_0x588fa7++){const _0x4282d9=[];for(let _0x552f95=0x0;_0x552f95<_0x2db541;_0x552f95++){let _0x48cf5a=_0x588fa7===_0x552f95?0x1:0x0;const _0x3fcdca=_0xb3e7ec[_0x588fa7],_0x2ed1f9=_0xb3e7ec[_0x552f95],_0x99d1e0=_0x25b53b['rooms']?_0x25b53b[_0x220b0e(0xf3)][_0x220b0e(0xf9)](_0x3fcdca):-0x1,_0xb58662=_0x25b53b[_0x220b0e(0xf3)]?_0x25b53b['rooms'][_0x220b0e(0xf9)](_0x2ed1f9):-0x1;_0x99d1e0!==-0x1&&_0xb58662!==-0x1&&_0x25b53b[_0x220b0e(0xf1)][_0x99d1e0]&&_0x25b53b['matrix'][_0x99d1e0][_0xb58662]!==undefined&&(_0x48cf5a=_0x25b53b[_0x220b0e(0xf1)][_0x99d1e0][_0xb58662]),_0x4282d9[_0x220b0e(0xe7)](_0x48cf5a);}_0x109b8f[_0x220b0e(0xe7)](_0x4282d9);}const _0x40f49a={'updated':Date[_0x220b0e(0xf0)](),'nodeCount':_0x2db541,'rooms':_0xb3e7ec,'matrix':_0x109b8f,'monitored':_0x4734eb};JSON['stringify'](_0x40f49a['rooms'])!==JSON[_0x220b0e(0xf4)](_0x25b53b[_0x220b0e(0xf3)])||JSON[_0x220b0e(0xf4)](_0x40f49a[_0x220b0e(0xf1)])!==JSON[_0x220b0e(0xf4)](_0x25b53b['matrix'])||JSON[_0x220b0e(0xf4)](_0x40f49a['monitored'])!==JSON[_0x220b0e(0xf4)](_0x25b53b['monitored']||[])?(await _0x52e5cd['setStateAsync'](_0x220b0e(0xe4),{'val':JSON[_0x220b0e(0xf4)](_0x40f49a),'ack':!![]}),_0x52e5cd[_0x220b0e(0xfe)][_0x220b0e(0xf5)](_0x220b0e(0xd4)+_0x2db541+_0x220b0e(0xec)+_0x4734eb['length']+'\x20Monitored\x20Rooms.'),_0x52e5cd[_0x220b0e(0xf6)]&&_0x52e5cd[_0x220b0e(0xf6)](_0x220b0e(0xe8),_0x40f49a)):_0x52e5cd[_0x220b0e(0xfe)][_0x220b0e(0xed)]('ðŸ•¸ï¸\x20Topology\x20unchanged.');}module[a9_0x5d1d38(0xee)]={'updateTopology':updateTopology};