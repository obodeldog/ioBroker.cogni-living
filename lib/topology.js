const a9_0x40d481=a9_0x3ebd;(function(_0x38b0ec,_0x4fbafb){const _0x38ca5b=a9_0x3ebd,_0x106ae2=_0x38b0ec();while(!![]){try{const _0xa83955=parseInt(_0x38ca5b(0x1de))/0x1*(parseInt(_0x38ca5b(0x1f2))/0x2)+-parseInt(_0x38ca5b(0x1d3))/0x3+parseInt(_0x38ca5b(0x1dd))/0x4*(parseInt(_0x38ca5b(0x1c7))/0x5)+parseInt(_0x38ca5b(0x1ef))/0x6*(parseInt(_0x38ca5b(0x1ce))/0x7)+parseInt(_0x38ca5b(0x1df))/0x8*(-parseInt(_0x38ca5b(0x1e9))/0x9)+-parseInt(_0x38ca5b(0x1c9))/0xa+parseInt(_0x38ca5b(0x1e5))/0xb;if(_0xa83955===_0x4fbafb)break;else _0x106ae2['push'](_0x106ae2['shift']());}catch(_0x338ed8){_0x106ae2['push'](_0x106ae2['shift']());}}}(a9_0x336c,0x8c0aa));const a9_0x493592=(function(){let _0x26ab19=!![];return function(_0x20cfe6,_0xeb81c6){const _0x2df2eb=_0x26ab19?function(){const _0x2264ae=a9_0x3ebd;if(_0xeb81c6){const _0x36e87c=_0xeb81c6[_0x2264ae(0x1e3)](_0x20cfe6,arguments);return _0xeb81c6=null,_0x36e87c;}}:function(){};return _0x26ab19=![],_0x2df2eb;};}()),a9_0x4d4057=a9_0x493592(this,function(){const _0x37fec0=a9_0x3ebd;return a9_0x4d4057[_0x37fec0(0x1da)]()[_0x37fec0(0x1ee)](_0x37fec0(0x1dc))[_0x37fec0(0x1da)]()[_0x37fec0(0x1d6)](a9_0x4d4057)[_0x37fec0(0x1ee)](_0x37fec0(0x1dc));});function a9_0x3ebd(_0x535c52,_0xd09122){const _0x44d331=a9_0x336c();return a9_0x3ebd=function(_0x4d4057,_0x493592){_0x4d4057=_0x4d4057-0x1c7;let _0x336c81=_0x44d331[_0x4d4057];return _0x336c81;},a9_0x3ebd(_0x535c52,_0xd09122);}a9_0x4d4057();'use strict';const setup=require(a9_0x40d481(0x1d2));async function updateTopology(_0x51d3d2){const _0x378f41=a9_0x40d481;_0x51d3d2['log'][_0x378f41(0x1cd)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x5de2dc=_0x51d3d2[_0x378f41(0x1cc)][_0x378f41(0x1ca)]||[],_0xf5fcd7=new Set(),_0x3e61c0=new Set();_0x5de2dc[_0x378f41(0x1e2)](_0x441e56=>{const _0x3fa604=_0x378f41;if(_0x441e56['location']&&_0x441e56['location']['trim']()!==''){const _0x5dcb61=_0x441e56[_0x3fa604(0x1f4)]['trim']();_0xf5fcd7[_0x3fa604(0x1d5)](_0x5dcb61),(_0x441e56[_0x3fa604(0x1e7)]===_0x3fa604(0x1db)||_0x441e56[_0x3fa604(0x1e7)]&&_0x441e56[_0x3fa604(0x1e7)][_0x3fa604(0x1cf)]()[_0x3fa604(0x1e4)]('bewegung'))&&_0x3e61c0[_0x3fa604(0x1d5)](_0x5dcb61);}});const _0x2f1bf1=Array[_0x378f41(0x1c8)](_0xf5fcd7)[_0x378f41(0x1d9)](),_0x3b286f=Array[_0x378f41(0x1c8)](_0x3e61c0)[_0x378f41(0x1d9)]();if(_0x2f1bf1['length']===0x0){_0x51d3d2[_0x378f41(0x1d7)]['debug'](_0x378f41(0x1e6));return;}let _0x38db1b={'rooms':[],'matrix':[]};try{const _0x1cd84d=await _0x51d3d2[_0x378f41(0x1e0)](_0x378f41(0x1eb));_0x1cd84d&&_0x1cd84d[_0x378f41(0x1ed)]&&(_0x38db1b=JSON[_0x378f41(0x1f1)](_0x1cd84d[_0x378f41(0x1ed)]));}catch(_0x2ac897){}const _0x37f440=[],_0x125f5b=_0x2f1bf1[_0x378f41(0x1f3)];for(let _0x4bae82=0x0;_0x4bae82<_0x125f5b;_0x4bae82++){const _0x362e01=[];for(let _0x435f14=0x0;_0x435f14<_0x125f5b;_0x435f14++){let _0x5818ed=_0x4bae82===_0x435f14?0x1:0x0;const _0x424c26=_0x2f1bf1[_0x4bae82],_0x3f9b6a=_0x2f1bf1[_0x435f14],_0x2b87f3=_0x38db1b['rooms']?_0x38db1b[_0x378f41(0x1f0)][_0x378f41(0x1ea)](_0x424c26):-0x1,_0x40258b=_0x38db1b[_0x378f41(0x1f0)]?_0x38db1b[_0x378f41(0x1f0)][_0x378f41(0x1ea)](_0x3f9b6a):-0x1;_0x2b87f3!==-0x1&&_0x40258b!==-0x1&&_0x38db1b[_0x378f41(0x1d1)][_0x2b87f3]&&_0x38db1b[_0x378f41(0x1d1)][_0x2b87f3][_0x40258b]!==undefined&&(_0x5818ed=_0x38db1b['matrix'][_0x2b87f3][_0x40258b]),_0x362e01[_0x378f41(0x1d4)](_0x5818ed);}_0x37f440[_0x378f41(0x1d4)](_0x362e01);}const _0x1232ae={'updated':Date[_0x378f41(0x1d8)](),'nodeCount':_0x125f5b,'rooms':_0x2f1bf1,'matrix':_0x37f440,'monitored':_0x3b286f};JSON[_0x378f41(0x1cb)](_0x1232ae['rooms'])!==JSON[_0x378f41(0x1cb)](_0x38db1b[_0x378f41(0x1f0)])||JSON[_0x378f41(0x1cb)](_0x1232ae['matrix'])!==JSON[_0x378f41(0x1cb)](_0x38db1b[_0x378f41(0x1d1)])||JSON['stringify'](_0x1232ae[_0x378f41(0x1e1)])!==JSON['stringify'](_0x38db1b[_0x378f41(0x1e1)]||[])?(await _0x51d3d2['setStateAsync'](_0x378f41(0x1eb),{'val':JSON[_0x378f41(0x1cb)](_0x1232ae),'ack':!![]}),_0x51d3d2[_0x378f41(0x1d7)]['info']('ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20'+_0x125f5b+_0x378f41(0x1d0)),_0x51d3d2['sendToPythonWrapper']&&_0x51d3d2[_0x378f41(0x1e8)](_0x378f41(0x1f5),_0x1232ae)):_0x51d3d2[_0x378f41(0x1d7)][_0x378f41(0x1cd)](_0x378f41(0x1ec));}function a9_0x336c(){const _0x52cca2=['constructor','log','now','sort','toString','motion','(((.+)+)+)+$','2089240QCrPhz','43899NIYCNk','1004520NZzjhL','getStateAsync','monitored','forEach','apply','includes','6641316tfNaQw','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','type','sendToPythonWrapper','63bZwMDf','indexOf','analysis.topology.structure','ðŸ•¸ï¸\x20Topology\x20unchanged.','val','search','42mDhBSL','rooms','parse','10vKCewW','length','location','SET_TOPOLOGY','10uRIdxr','from','1005120kqcGsI','devices','stringify','config','debug','468832dWtsty','toLowerCase','\x20Nodes\x20(Display\x20Names\x20restored).','matrix','./setup','2350878GQPcHu','push','add'];a9_0x336c=function(){return _0x52cca2;};return a9_0x336c();}module['exports']={'updateTopology':updateTopology};