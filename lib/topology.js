const a9_0x59fcc1=a9_0x1785;(function(_0x245e67,_0x3747f9){const _0x1e1363=a9_0x1785,_0x384928=_0x245e67();while(!![]){try{const _0x538ddf=-parseInt(_0x1e1363(0x17b))/0x1+-parseInt(_0x1e1363(0x182))/0x2*(-parseInt(_0x1e1363(0x17f))/0x3)+-parseInt(_0x1e1363(0x169))/0x4*(-parseInt(_0x1e1363(0x185))/0x5)+-parseInt(_0x1e1363(0x15f))/0x6+parseInt(_0x1e1363(0x16b))/0x7*(-parseInt(_0x1e1363(0x160))/0x8)+parseInt(_0x1e1363(0x159))/0x9+parseInt(_0x1e1363(0x15a))/0xa*(parseInt(_0x1e1363(0x161))/0xb);if(_0x538ddf===_0x3747f9)break;else _0x384928['push'](_0x384928['shift']());}catch(_0x18275d){_0x384928['push'](_0x384928['shift']());}}}(a9_0x377d,0x2051d));const a9_0x3c9016=(function(){let _0x108c39=!![];return function(_0x3b6bad,_0x2ada27){const _0xf5396b=_0x108c39?function(){const _0x55eef7=a9_0x1785;if(_0x2ada27){const _0x44a19c=_0x2ada27[_0x55eef7(0x177)](_0x3b6bad,arguments);return _0x2ada27=null,_0x44a19c;}}:function(){};return _0x108c39=![],_0xf5396b;};}()),a9_0x978ade=a9_0x3c9016(this,function(){const _0x21ff19=a9_0x1785;return a9_0x978ade[_0x21ff19(0x162)]()[_0x21ff19(0x157)](_0x21ff19(0x166))[_0x21ff19(0x162)]()[_0x21ff19(0x179)](a9_0x978ade)[_0x21ff19(0x157)](_0x21ff19(0x166));});a9_0x978ade();function a9_0x377d(){const _0x220949=['from','val','getStateAsync','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','sendToPythonWrapper','matrix','monitored','\x20Nodes\x20(Display\x20Names\x20restored).','setStateAsync','apply','trim','constructor','debug','151266fXijto','forEach','push','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','3NprjFb','type','analysis.topology.structure','308824YdQCHg','motion','parse','5mbtUSK','search','stringify','1960335vzxTDy','270jLaOLA','toLowerCase','sort','./setup','location','1207536PbNudR','104FGSfWC','60082qbTyXK','toString','rooms','indexOf','includes','(((.+)+)+)+$','log','SET_TOPOLOGY','117948wEPpDb','now','34615JwcgLF','length','add'];a9_0x377d=function(){return _0x220949;};return a9_0x377d();}'use strict';function a9_0x1785(_0x500bc9,_0x1e5284){const _0x2faa65=a9_0x377d();return a9_0x1785=function(_0x978ade,_0x3c9016){_0x978ade=_0x978ade-0x157;let _0x377d96=_0x2faa65[_0x978ade];return _0x377d96;},a9_0x1785(_0x500bc9,_0x1e5284);}const setup=require(a9_0x59fcc1(0x15d));async function updateTopology(_0x16e04a){const _0x53885c=a9_0x59fcc1;_0x16e04a['log'][_0x53885c(0x17a)](_0x53885c(0x171));const _0x56e6d4=_0x16e04a['config']['devices']||[],_0x5a85bb=new Set(),_0x1091e2=new Set();_0x56e6d4[_0x53885c(0x17c)](_0x3c23c8=>{const _0x34632e=_0x53885c;if(_0x3c23c8[_0x34632e(0x15e)]&&_0x3c23c8[_0x34632e(0x15e)][_0x34632e(0x178)]()!==''){const _0x2413fd=_0x3c23c8['location'][_0x34632e(0x178)]();_0x5a85bb[_0x34632e(0x16d)](_0x2413fd),(_0x3c23c8[_0x34632e(0x180)]===_0x34632e(0x183)||_0x3c23c8['type']&&_0x3c23c8['type'][_0x34632e(0x15b)]()[_0x34632e(0x165)]('bewegung'))&&_0x1091e2[_0x34632e(0x16d)](_0x2413fd);}});const _0x3855ca=Array['from'](_0x5a85bb)[_0x53885c(0x15c)](),_0x337e60=Array[_0x53885c(0x16e)](_0x1091e2)['sort']();if(_0x3855ca['length']===0x0){_0x16e04a[_0x53885c(0x167)]['debug']('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x238b8f={'rooms':[],'matrix':[]};try{const _0x25eb13=await _0x16e04a[_0x53885c(0x170)](_0x53885c(0x181));_0x25eb13&&_0x25eb13[_0x53885c(0x16f)]&&(_0x238b8f=JSON[_0x53885c(0x184)](_0x25eb13['val']));}catch(_0x29037b){}const _0x3b79e5=[],_0x580d06=_0x3855ca[_0x53885c(0x16c)];for(let _0x1a45b5=0x0;_0x1a45b5<_0x580d06;_0x1a45b5++){const _0x16a675=[];for(let _0x477697=0x0;_0x477697<_0x580d06;_0x477697++){let _0x52154f=_0x1a45b5===_0x477697?0x1:0x0;const _0x1a5dc0=_0x3855ca[_0x1a45b5],_0x2c8916=_0x3855ca[_0x477697],_0x3d1ef8=_0x238b8f[_0x53885c(0x163)]?_0x238b8f['rooms'][_0x53885c(0x164)](_0x1a5dc0):-0x1,_0x75f5a2=_0x238b8f['rooms']?_0x238b8f[_0x53885c(0x163)][_0x53885c(0x164)](_0x2c8916):-0x1;_0x3d1ef8!==-0x1&&_0x75f5a2!==-0x1&&_0x238b8f[_0x53885c(0x173)][_0x3d1ef8]&&_0x238b8f[_0x53885c(0x173)][_0x3d1ef8][_0x75f5a2]!==undefined&&(_0x52154f=_0x238b8f[_0x53885c(0x173)][_0x3d1ef8][_0x75f5a2]),_0x16a675[_0x53885c(0x17d)](_0x52154f);}_0x3b79e5['push'](_0x16a675);}const _0x5ac180={'updated':Date[_0x53885c(0x16a)](),'nodeCount':_0x580d06,'rooms':_0x3855ca,'matrix':_0x3b79e5,'monitored':_0x337e60};JSON[_0x53885c(0x158)](_0x5ac180[_0x53885c(0x163)])!==JSON[_0x53885c(0x158)](_0x238b8f[_0x53885c(0x163)])||JSON[_0x53885c(0x158)](_0x5ac180[_0x53885c(0x173)])!==JSON[_0x53885c(0x158)](_0x238b8f['matrix'])||JSON[_0x53885c(0x158)](_0x5ac180['monitored'])!==JSON[_0x53885c(0x158)](_0x238b8f[_0x53885c(0x174)]||[])?(await _0x16e04a[_0x53885c(0x176)](_0x53885c(0x181),{'val':JSON[_0x53885c(0x158)](_0x5ac180),'ack':!![]}),_0x16e04a[_0x53885c(0x167)]['info'](_0x53885c(0x17e)+_0x580d06+_0x53885c(0x175)),_0x16e04a[_0x53885c(0x172)]&&_0x16e04a[_0x53885c(0x172)](_0x53885c(0x168),_0x5ac180)):_0x16e04a[_0x53885c(0x167)][_0x53885c(0x17a)]('üï∏Ô∏è\x20Topology\x20unchanged.');}module['exports']={'updateTopology':updateTopology};