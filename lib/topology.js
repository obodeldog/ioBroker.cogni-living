const a9_0x3f5533=a9_0x1de6;(function(_0x5c8ec5,_0x356c66){const _0x46f33b=a9_0x1de6,_0x3b75ec=_0x5c8ec5();while(!![]){try{const _0x4e611a=-parseInt(_0x46f33b(0xac))/0x1+parseInt(_0x46f33b(0xc2))/0x2+-parseInt(_0x46f33b(0xb6))/0x3*(parseInt(_0x46f33b(0xc9))/0x4)+parseInt(_0x46f33b(0xbe))/0x5+-parseInt(_0x46f33b(0xaa))/0x6*(-parseInt(_0x46f33b(0xb9))/0x7)+parseInt(_0x46f33b(0xc5))/0x8+parseInt(_0x46f33b(0xb3))/0x9*(-parseInt(_0x46f33b(0xa6))/0xa);if(_0x4e611a===_0x356c66)break;else _0x3b75ec['push'](_0x3b75ec['shift']());}catch(_0xc05c1f){_0x3b75ec['push'](_0x3b75ec['shift']());}}}(a9_0x2c98,0x50271));function a9_0x1de6(_0x3a4258,_0x21e600){const _0x246429=a9_0x2c98();return a9_0x1de6=function(_0x1c108b,_0x339f95){_0x1c108b=_0x1c108b-0xa0;let _0x2c98b1=_0x246429[_0x1c108b];return _0x2c98b1;},a9_0x1de6(_0x3a4258,_0x21e600);}const a9_0x339f95=(function(){let _0x18c47a=!![];return function(_0x35a4d1,_0x111a55){const _0x41d679=_0x18c47a?function(){const _0x2b9c0b=a9_0x1de6;if(_0x111a55){const _0x20b31e=_0x111a55[_0x2b9c0b(0xbc)](_0x35a4d1,arguments);return _0x111a55=null,_0x20b31e;}}:function(){};return _0x18c47a=![],_0x41d679;};}()),a9_0x1c108b=a9_0x339f95(this,function(){const _0x49c255=a9_0x1de6;return a9_0x1c108b[_0x49c255(0xb7)]()[_0x49c255(0xa7)](_0x49c255(0xca))['toString']()[_0x49c255(0xb8)](a9_0x1c108b)[_0x49c255(0xa7)]('(((.+)+)+)+$');});function a9_0x2c98(){const _0x4c4b38=['includes','log','setStateAsync','forEach','./setup','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','1089iEUcEM','exports','sendToPythonWrapper','11331DZXeIh','toString','constructor','7zBDMgr','type','\x20Nodes\x20(Display\x20Names\x20restored).','apply','indexOf','3095370VFzfMD','stringify','debug','matrix','1100050ELkbAx','rooms','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','4738632wYqmFi','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','val','analysis.topology.structure','692FhiVxF','(((.+)+)+)+$','ðŸ•¸ï¸\x20Topology\x20unchanged.','devices','length','location','trim','sort','from','info','70430aUwHyA','search','push','add','1228272YfFXxE','monitored','132211mCqZwu'];a9_0x2c98=function(){return _0x4c4b38;};return a9_0x2c98();}a9_0x1c108b();'use strict';const setup=require(a9_0x3f5533(0xb1));async function updateTopology(_0x48fa82){const _0x4d4f22=a9_0x3f5533;_0x48fa82[_0x4d4f22(0xae)][_0x4d4f22(0xc0)](_0x4d4f22(0xb2));const _0x457ec7=_0x48fa82['config'][_0x4d4f22(0xcc)]||[],_0x19a6a0=new Set(),_0x5acf2f=new Set();_0x457ec7[_0x4d4f22(0xb0)](_0x371240=>{const _0x44a0be=_0x4d4f22;if(_0x371240[_0x44a0be(0xa1)]&&_0x371240[_0x44a0be(0xa1)]['trim']()!==''){const _0x21e8ad=_0x371240[_0x44a0be(0xa1)][_0x44a0be(0xa2)]();_0x19a6a0[_0x44a0be(0xa9)](_0x21e8ad),(_0x371240[_0x44a0be(0xba)]==='motion'||_0x371240[_0x44a0be(0xba)]&&_0x371240[_0x44a0be(0xba)]['toLowerCase']()[_0x44a0be(0xad)]('bewegung'))&&_0x5acf2f[_0x44a0be(0xa9)](_0x21e8ad);}});const _0x57f65a=Array[_0x4d4f22(0xa4)](_0x19a6a0)[_0x4d4f22(0xa3)](),_0x5533ec=Array[_0x4d4f22(0xa4)](_0x5acf2f)[_0x4d4f22(0xa3)]();if(_0x57f65a[_0x4d4f22(0xa0)]===0x0){_0x48fa82[_0x4d4f22(0xae)][_0x4d4f22(0xc0)](_0x4d4f22(0xc6));return;}let _0x5d80ef={'rooms':[],'matrix':[]};try{const _0x1d4d11=await _0x48fa82['getStateAsync'](_0x4d4f22(0xc8));_0x1d4d11&&_0x1d4d11[_0x4d4f22(0xc7)]&&(_0x5d80ef=JSON['parse'](_0x1d4d11[_0x4d4f22(0xc7)]));}catch(_0xf99793){}const _0x25cef1=[],_0x5590fb=_0x57f65a[_0x4d4f22(0xa0)];for(let _0x537f32=0x0;_0x537f32<_0x5590fb;_0x537f32++){const _0x2737f2=[];for(let _0x2eff4c=0x0;_0x2eff4c<_0x5590fb;_0x2eff4c++){let _0x11af64=_0x537f32===_0x2eff4c?0x1:0x0;const _0x5afde6=_0x57f65a[_0x537f32],_0x527c21=_0x57f65a[_0x2eff4c],_0x35b97a=_0x5d80ef[_0x4d4f22(0xc3)]?_0x5d80ef[_0x4d4f22(0xc3)][_0x4d4f22(0xbd)](_0x5afde6):-0x1,_0x30038f=_0x5d80ef[_0x4d4f22(0xc3)]?_0x5d80ef[_0x4d4f22(0xc3)][_0x4d4f22(0xbd)](_0x527c21):-0x1;_0x35b97a!==-0x1&&_0x30038f!==-0x1&&_0x5d80ef[_0x4d4f22(0xc1)][_0x35b97a]&&_0x5d80ef[_0x4d4f22(0xc1)][_0x35b97a][_0x30038f]!==undefined&&(_0x11af64=_0x5d80ef[_0x4d4f22(0xc1)][_0x35b97a][_0x30038f]),_0x2737f2[_0x4d4f22(0xa8)](_0x11af64);}_0x25cef1[_0x4d4f22(0xa8)](_0x2737f2);}const _0x2fe919={'updated':Date['now'](),'nodeCount':_0x5590fb,'rooms':_0x57f65a,'matrix':_0x25cef1,'monitored':_0x5533ec};JSON[_0x4d4f22(0xbf)](_0x2fe919[_0x4d4f22(0xc3)])!==JSON[_0x4d4f22(0xbf)](_0x5d80ef['rooms'])||JSON['stringify'](_0x2fe919[_0x4d4f22(0xc1)])!==JSON[_0x4d4f22(0xbf)](_0x5d80ef[_0x4d4f22(0xc1)])||JSON[_0x4d4f22(0xbf)](_0x2fe919[_0x4d4f22(0xab)])!==JSON[_0x4d4f22(0xbf)](_0x5d80ef['monitored']||[])?(await _0x48fa82[_0x4d4f22(0xaf)]('analysis.topology.structure',{'val':JSON[_0x4d4f22(0xbf)](_0x2fe919),'ack':!![]}),_0x48fa82['log'][_0x4d4f22(0xa5)](_0x4d4f22(0xc4)+_0x5590fb+_0x4d4f22(0xbb)),_0x48fa82['sendToPythonWrapper']&&_0x48fa82[_0x4d4f22(0xb5)]('SET_TOPOLOGY',_0x2fe919)):_0x48fa82[_0x4d4f22(0xae)]['debug'](_0x4d4f22(0xcb));}module[a9_0x3f5533(0xb4)]={'updateTopology':updateTopology};