(function(_0x5702cc,_0x498007){const _0x57a937=a9_0x2d0f,_0x3c89fa=_0x5702cc();while(!![]){try{const _0x393c5d=parseInt(_0x57a937(0x128))/0x1*(parseInt(_0x57a937(0x129))/0x2)+-parseInt(_0x57a937(0x112))/0x3+parseInt(_0x57a937(0x11c))/0x4+parseInt(_0x57a937(0x111))/0x5+parseInt(_0x57a937(0x10f))/0x6+-parseInt(_0x57a937(0x126))/0x7*(-parseInt(_0x57a937(0x11b))/0x8)+parseInt(_0x57a937(0x119))/0x9*(-parseInt(_0x57a937(0x115))/0xa);if(_0x393c5d===_0x498007)break;else _0x3c89fa['push'](_0x3c89fa['shift']());}catch(_0x1e81b3){_0x3c89fa['push'](_0x3c89fa['shift']());}}}(a9_0x185e,0x940cc));function a9_0x2d0f(_0x47e4ab,_0x2c6c2c){const _0x15f0d0=a9_0x185e();return a9_0x2d0f=function(_0x32a4c0,_0x5bd34d){_0x32a4c0=_0x32a4c0-0x106;let _0x185e6d=_0x15f0d0[_0x32a4c0];return _0x185e6d;},a9_0x2d0f(_0x47e4ab,_0x2c6c2c);}const a9_0x5bd34d=(function(){let _0x900ebd=!![];return function(_0xe01dfb,_0x4ee2fd){const _0x11ea2e=_0x900ebd?function(){const _0x3027f7=a9_0x2d0f;if(_0x4ee2fd){const _0x56db68=_0x4ee2fd[_0x3027f7(0x11e)](_0xe01dfb,arguments);return _0x4ee2fd=null,_0x56db68;}}:function(){};return _0x900ebd=![],_0x11ea2e;};}()),a9_0x32a4c0=a9_0x5bd34d(this,function(){const _0x7d660e=a9_0x2d0f;return a9_0x32a4c0['toString']()[_0x7d660e(0x12b)](_0x7d660e(0x107))['toString']()[_0x7d660e(0x116)](a9_0x32a4c0)['search'](_0x7d660e(0x107));});a9_0x32a4c0();function a9_0x185e(){const _0x520cbe=['30trscPJ','constructor','motion','sendToPythonWrapper','5759487JowyOj','rooms','138784okzjKD','3937912BlDlAd','type','apply','analysis.topology.structure','now','SET_TOPOLOGY','setStateAsync','indexOf','trim','devices','28cRzsXo','ðŸ•¸ï¸\x20Topology\x20unchanged.','136046xDFPUW','12QuFEmn','matrix','search','from','log','info','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','length','sort','(((.+)+)+)+$','debug','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','includes','config','location','push','add','7081974VWUMbl','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','200650PsNYfT','1693092dtDhZr','stringify','bewegung'];a9_0x185e=function(){return _0x520cbe;};return a9_0x185e();}'use strict';async function updateTopology(_0x551cf2){const _0x5828da=a9_0x2d0f;_0x551cf2['log'][_0x5828da(0x108)](_0x5828da(0x12f));const _0x4c5777=_0x551cf2[_0x5828da(0x10b)][_0x5828da(0x125)]||[],_0x22c50d=new Set(),_0x12c184=new Set();_0x4c5777['forEach'](_0x123152=>{const _0x1ca57e=_0x5828da;if(_0x123152[_0x1ca57e(0x10c)]&&_0x123152[_0x1ca57e(0x10c)][_0x1ca57e(0x124)]()!==''){const _0x3eafbb=_0x123152['location']['trim']();_0x22c50d['add'](_0x3eafbb),(_0x123152[_0x1ca57e(0x11d)]===_0x1ca57e(0x117)||_0x123152[_0x1ca57e(0x11d)]&&_0x123152[_0x1ca57e(0x11d)]['toLowerCase']()[_0x1ca57e(0x10a)](_0x1ca57e(0x114)))&&_0x12c184[_0x1ca57e(0x10e)](_0x3eafbb);}});const _0x4215c7=Array[_0x5828da(0x12c)](_0x22c50d)[_0x5828da(0x106)](),_0x2e38b=Array[_0x5828da(0x12c)](_0x12c184)[_0x5828da(0x106)]();if(_0x4215c7['length']===0x0){_0x551cf2[_0x5828da(0x12d)][_0x5828da(0x108)](_0x5828da(0x110));return;}let _0x3e01c5={'rooms':[],'matrix':[]};try{const _0x51acf6=await _0x551cf2['getStateAsync'](_0x5828da(0x11f));_0x51acf6&&_0x51acf6['val']&&(_0x3e01c5=JSON['parse'](_0x51acf6['val']));}catch(_0x226667){}const _0x13bbcb=[],_0x4562f7=_0x4215c7[_0x5828da(0x130)];for(let _0x2bbb05=0x0;_0x2bbb05<_0x4562f7;_0x2bbb05++){const _0x36f126=[];for(let _0x5409b4=0x0;_0x5409b4<_0x4562f7;_0x5409b4++){let _0x268129=_0x2bbb05===_0x5409b4?0x1:0x0;const _0x2dcd8b=_0x4215c7[_0x2bbb05],_0x1222b1=_0x4215c7[_0x5409b4],_0x444001=_0x3e01c5[_0x5828da(0x11a)]?_0x3e01c5[_0x5828da(0x11a)][_0x5828da(0x123)](_0x2dcd8b):-0x1,_0x2760db=_0x3e01c5[_0x5828da(0x11a)]?_0x3e01c5[_0x5828da(0x11a)][_0x5828da(0x123)](_0x1222b1):-0x1;_0x444001!==-0x1&&_0x2760db!==-0x1&&_0x3e01c5[_0x5828da(0x12a)][_0x444001]&&_0x3e01c5[_0x5828da(0x12a)][_0x444001][_0x2760db]!==undefined&&(_0x268129=_0x3e01c5[_0x5828da(0x12a)][_0x444001][_0x2760db]),_0x36f126[_0x5828da(0x10d)](_0x268129);}_0x13bbcb['push'](_0x36f126);}const _0x821382={'updated':Date[_0x5828da(0x120)](),'nodeCount':_0x4562f7,'rooms':_0x4215c7,'matrix':_0x13bbcb,'monitored':_0x2e38b};JSON['stringify'](_0x821382[_0x5828da(0x11a)])!==JSON[_0x5828da(0x113)](_0x3e01c5[_0x5828da(0x11a)])||JSON['stringify'](_0x821382[_0x5828da(0x12a)])!==JSON['stringify'](_0x3e01c5['matrix'])||JSON[_0x5828da(0x113)](_0x821382['monitored'])!==JSON[_0x5828da(0x113)](_0x3e01c5['monitored']||[])?(await _0x551cf2[_0x5828da(0x122)](_0x5828da(0x11f),{'val':JSON['stringify'](_0x821382),'ack':!![]}),_0x551cf2[_0x5828da(0x12d)][_0x5828da(0x12e)](_0x5828da(0x109)+_0x4562f7+'\x20Nodes,\x20'+_0x2e38b[_0x5828da(0x130)]+'\x20Monitored\x20Rooms.'),_0x551cf2['sendToPythonWrapper']&&_0x551cf2[_0x5828da(0x118)](_0x5828da(0x121),_0x821382)):_0x551cf2['log'][_0x5828da(0x108)](_0x5828da(0x127));}module['exports']={'updateTopology':updateTopology};