const a9_0x286e9f=a9_0x3cdc;function a9_0x4d9f(){const _0x5772f8=['1890889dxwDlB','trim','from','location','devices','SET_TOPOLOGY','val','bewegung','1165168IjNNQa','add','sendToPythonWrapper','(((.+)+)+)+$','1165652pHxRzn','setStateAsync','now','1006185JBHrat','type','monitored','length','exports','./setup','1787368bJsyXx','rooms','constructor','3444440VtPukR','sort','includes','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','üï∏Ô∏è\x20Topology\x20unchanged.','8zhEwaF','4119210qFyzDL','parse','toString','log','getStateAsync','apply','debug','push','info','analysis.topology.structure','indexOf','matrix','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','stringify','search','\x20Nodes\x20(Display\x20Names\x20restored).'];a9_0x4d9f=function(){return _0x5772f8;};return a9_0x4d9f();}(function(_0x1b73cc,_0x58dbb2){const _0x511bc3=a9_0x3cdc,_0x26e189=_0x1b73cc();while(!![]){try{const _0x4706d3=parseInt(_0x511bc3(0xbb))/0x1+-parseInt(_0x511bc3(0xb7))/0x2+-parseInt(_0x511bc3(0xbe))/0x3*(-parseInt(_0x511bc3(0x9e))/0x4)+parseInt(_0x511bc3(0xc7))/0x5+-parseInt(_0x511bc3(0x9f))/0x6+-parseInt(_0x511bc3(0xaf))/0x7+-parseInt(_0x511bc3(0xc4))/0x8;if(_0x4706d3===_0x58dbb2)break;else _0x26e189['push'](_0x26e189['shift']());}catch(_0x5c6e1b){_0x26e189['push'](_0x26e189['shift']());}}}(a9_0x4d9f,0xba327));const a9_0x39b803=(function(){let _0x4cf85e=!![];return function(_0x25db90,_0x4d3fa3){const _0x104bd7=_0x4cf85e?function(){const _0x55bf17=a9_0x3cdc;if(_0x4d3fa3){const _0x5cf367=_0x4d3fa3[_0x55bf17(0xa4)](_0x25db90,arguments);return _0x4d3fa3=null,_0x5cf367;}}:function(){};return _0x4cf85e=![],_0x104bd7;};}()),a9_0x3815ba=a9_0x39b803(this,function(){const _0x24288d=a9_0x3cdc;return a9_0x3815ba[_0x24288d(0xa1)]()[_0x24288d(0xad)](_0x24288d(0xba))['toString']()[_0x24288d(0xc6)](a9_0x3815ba)['search'](_0x24288d(0xba));});function a9_0x3cdc(_0x594afb,_0x577077){const _0x4da922=a9_0x4d9f();return a9_0x3cdc=function(_0x3815ba,_0x39b803){_0x3815ba=_0x3815ba-0x9e;let _0x4d9fbb=_0x4da922[_0x3815ba];return _0x4d9fbb;},a9_0x3cdc(_0x594afb,_0x577077);}a9_0x3815ba();'use strict';const setup=require(a9_0x286e9f(0xc3));async function updateTopology(_0xf16bbe){const _0x35af36=a9_0x286e9f;_0xf16bbe[_0x35af36(0xa2)]['debug'](_0x35af36(0xca));const _0x107d5c=_0xf16bbe['config'][_0x35af36(0xb3)]||[],_0x577059=new Set(),_0x439e4d=new Set();_0x107d5c['forEach'](_0x44aac8=>{const _0x3a6839=_0x35af36;if(_0x44aac8[_0x3a6839(0xb2)]&&_0x44aac8['location'][_0x3a6839(0xb0)]()!==''){const _0x225ef0=_0x44aac8[_0x3a6839(0xb2)][_0x3a6839(0xb0)]();_0x577059[_0x3a6839(0xb8)](_0x225ef0),(_0x44aac8[_0x3a6839(0xbf)]==='motion'||_0x44aac8[_0x3a6839(0xbf)]&&_0x44aac8[_0x3a6839(0xbf)]['toLowerCase']()[_0x3a6839(0xc9)](_0x3a6839(0xb6)))&&_0x439e4d[_0x3a6839(0xb8)](_0x225ef0);}});const _0x325127=Array[_0x35af36(0xb1)](_0x577059)[_0x35af36(0xc8)](),_0x1721e5=Array['from'](_0x439e4d)[_0x35af36(0xc8)]();if(_0x325127[_0x35af36(0xc1)]===0x0){_0xf16bbe[_0x35af36(0xa2)][_0x35af36(0xa5)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x1bafe8={'rooms':[],'matrix':[]};try{const _0x33f082=await _0xf16bbe[_0x35af36(0xa3)](_0x35af36(0xa8));_0x33f082&&_0x33f082[_0x35af36(0xb5)]&&(_0x1bafe8=JSON[_0x35af36(0xa0)](_0x33f082['val']));}catch(_0x23bb26){}const _0x4a3329=[],_0x4bce0e=_0x325127[_0x35af36(0xc1)];for(let _0x52b7dc=0x0;_0x52b7dc<_0x4bce0e;_0x52b7dc++){const _0x2fcd62=[];for(let _0x47d05a=0x0;_0x47d05a<_0x4bce0e;_0x47d05a++){let _0x176a8b=_0x52b7dc===_0x47d05a?0x1:0x0;const _0x3e46c9=_0x325127[_0x52b7dc],_0x205019=_0x325127[_0x47d05a],_0x8e1e6c=_0x1bafe8['rooms']?_0x1bafe8[_0x35af36(0xc5)][_0x35af36(0xa9)](_0x3e46c9):-0x1,_0x146ee5=_0x1bafe8[_0x35af36(0xc5)]?_0x1bafe8[_0x35af36(0xc5)][_0x35af36(0xa9)](_0x205019):-0x1;_0x8e1e6c!==-0x1&&_0x146ee5!==-0x1&&_0x1bafe8[_0x35af36(0xaa)][_0x8e1e6c]&&_0x1bafe8[_0x35af36(0xaa)][_0x8e1e6c][_0x146ee5]!==undefined&&(_0x176a8b=_0x1bafe8[_0x35af36(0xaa)][_0x8e1e6c][_0x146ee5]),_0x2fcd62[_0x35af36(0xa6)](_0x176a8b);}_0x4a3329['push'](_0x2fcd62);}const _0x2264c3={'updated':Date[_0x35af36(0xbd)](),'nodeCount':_0x4bce0e,'rooms':_0x325127,'matrix':_0x4a3329,'monitored':_0x1721e5};JSON['stringify'](_0x2264c3[_0x35af36(0xc5)])!==JSON['stringify'](_0x1bafe8[_0x35af36(0xc5)])||JSON[_0x35af36(0xac)](_0x2264c3['matrix'])!==JSON[_0x35af36(0xac)](_0x1bafe8[_0x35af36(0xaa)])||JSON['stringify'](_0x2264c3[_0x35af36(0xc0)])!==JSON[_0x35af36(0xac)](_0x1bafe8[_0x35af36(0xc0)]||[])?(await _0xf16bbe[_0x35af36(0xbc)]('analysis.topology.structure',{'val':JSON['stringify'](_0x2264c3),'ack':!![]}),_0xf16bbe[_0x35af36(0xa2)][_0x35af36(0xa7)](_0x35af36(0xab)+_0x4bce0e+_0x35af36(0xae)),_0xf16bbe['sendToPythonWrapper']&&_0xf16bbe[_0x35af36(0xb9)](_0x35af36(0xb4),_0x2264c3)):_0xf16bbe[_0x35af36(0xa2)][_0x35af36(0xa5)](_0x35af36(0xcb));}module[a9_0x286e9f(0xc2)]={'updateTopology':updateTopology};