function a9_0x9385(){const _0x1ccf68=['1300417iGBXQC','(((.+)+)+)+$','parse','8240728wpUBtI','8573120JhnWqB','monitored','2855611JHciMW','üï∏Ô∏è\x20Topology\x20unchanged.','type','val','34EnBVRh','log','analysis.topology.structure','setStateAsync','9GGhvmr','12KkMuok','now','getStateAsync','trim','info','motion','toLowerCase','SET_TOPOLOGY','search','config','20MScnrY','from','push','7617PFhuKg','devices','indexOf','stringify','rooms','120RHoDaK','toString','1222120QqRZbh','matrix','sendToPythonWrapper','add','location','sort','debug','306551rxvmJm','length','includes'];a9_0x9385=function(){return _0x1ccf68;};return a9_0x9385();}(function(_0x2625fc,_0x5cbd29){const _0x4617f0=a9_0x1665,_0x24ee93=_0x2625fc();while(!![]){try{const _0x58245a=-parseInt(_0x4617f0(0xa1))/0x1+parseInt(_0x4617f0(0x7e))/0x2*(-parseInt(_0x4617f0(0x90))/0x3)+-parseInt(_0x4617f0(0x97))/0x4*(-parseInt(_0x4617f0(0x8d))/0x5)+parseInt(_0x4617f0(0x95))/0x6*(parseInt(_0x4617f0(0x9e))/0x7)+parseInt(_0x4617f0(0xa4))/0x8*(-parseInt(_0x4617f0(0x82))/0x9)+parseInt(_0x4617f0(0xa5))/0xa+parseInt(_0x4617f0(0xa7))/0xb*(parseInt(_0x4617f0(0x83))/0xc);if(_0x58245a===_0x5cbd29)break;else _0x24ee93['push'](_0x24ee93['shift']());}catch(_0x37ab64){_0x24ee93['push'](_0x24ee93['shift']());}}}(a9_0x9385,0xcd606));const a9_0x3d52e8=(function(){let _0x189b2b=!![];return function(_0x4f950e,_0x394a74){const _0x48b936=_0x189b2b?function(){if(_0x394a74){const _0x1282ea=_0x394a74['apply'](_0x4f950e,arguments);return _0x394a74=null,_0x1282ea;}}:function(){};return _0x189b2b=![],_0x48b936;};}()),a9_0x68a641=a9_0x3d52e8(this,function(){const _0x2504fd=a9_0x1665;return a9_0x68a641['toString']()['search'](_0x2504fd(0xa2))[_0x2504fd(0x96)]()['constructor'](a9_0x68a641)[_0x2504fd(0x8b)](_0x2504fd(0xa2));});a9_0x68a641();'use strict';const setup=require('./setup');async function updateTopology(_0x491777){const _0x9e084d=a9_0x1665;_0x491777[_0x9e084d(0x7f)]['debug']('üï∏Ô∏è\x20Updating\x20Graph\x20Topology...');const _0x190a4e=_0x491777[_0x9e084d(0x8c)][_0x9e084d(0x91)]||[],_0x2eccd5=new Set(),_0x22f202=new Set();_0x190a4e['forEach'](_0x30cf59=>{const _0x50a02c=_0x9e084d;if(_0x30cf59[_0x50a02c(0x9b)]&&_0x30cf59[_0x50a02c(0x9b)][_0x50a02c(0x86)]()!==''){const _0x542b11=_0x30cf59[_0x50a02c(0x9b)][_0x50a02c(0x86)]();_0x2eccd5[_0x50a02c(0x9a)](_0x542b11),(_0x30cf59[_0x50a02c(0xa9)]===_0x50a02c(0x88)||_0x30cf59[_0x50a02c(0xa9)]&&_0x30cf59[_0x50a02c(0xa9)][_0x50a02c(0x89)]()[_0x50a02c(0xa0)]('bewegung'))&&_0x22f202[_0x50a02c(0x9a)](_0x542b11);}});const _0x1adf44=Array[_0x9e084d(0x8e)](_0x2eccd5)[_0x9e084d(0x9c)](),_0x949c7f=Array['from'](_0x22f202)[_0x9e084d(0x9c)]();if(_0x1adf44[_0x9e084d(0x9f)]===0x0){_0x491777['log'][_0x9e084d(0x9d)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x48e6ba={'rooms':[],'matrix':[]};try{const _0x42f73a=await _0x491777[_0x9e084d(0x85)](_0x9e084d(0x80));_0x42f73a&&_0x42f73a[_0x9e084d(0xaa)]&&(_0x48e6ba=JSON[_0x9e084d(0xa3)](_0x42f73a[_0x9e084d(0xaa)]));}catch(_0x2c903f){}const _0x1461f9=[],_0x2a62c7=_0x1adf44['length'];for(let _0x48aab7=0x0;_0x48aab7<_0x2a62c7;_0x48aab7++){const _0x4a043c=[];for(let _0x131545=0x0;_0x131545<_0x2a62c7;_0x131545++){let _0x26d6c3=_0x48aab7===_0x131545?0x1:0x0;const _0x8adf54=_0x1adf44[_0x48aab7],_0x9eac0e=_0x1adf44[_0x131545],_0x43beca=_0x48e6ba[_0x9e084d(0x94)]?_0x48e6ba[_0x9e084d(0x94)]['indexOf'](_0x8adf54):-0x1,_0x1ba8e5=_0x48e6ba[_0x9e084d(0x94)]?_0x48e6ba[_0x9e084d(0x94)][_0x9e084d(0x92)](_0x9eac0e):-0x1;_0x43beca!==-0x1&&_0x1ba8e5!==-0x1&&_0x48e6ba[_0x9e084d(0x98)][_0x43beca]&&_0x48e6ba[_0x9e084d(0x98)][_0x43beca][_0x1ba8e5]!==undefined&&(_0x26d6c3=_0x48e6ba[_0x9e084d(0x98)][_0x43beca][_0x1ba8e5]),_0x4a043c[_0x9e084d(0x8f)](_0x26d6c3);}_0x1461f9[_0x9e084d(0x8f)](_0x4a043c);}const _0x581d6d={'updated':Date[_0x9e084d(0x84)](),'nodeCount':_0x2a62c7,'rooms':_0x1adf44,'matrix':_0x1461f9,'monitored':_0x949c7f};JSON['stringify'](_0x581d6d[_0x9e084d(0x94)])!==JSON['stringify'](_0x48e6ba[_0x9e084d(0x94)])||JSON['stringify'](_0x581d6d[_0x9e084d(0x98)])!==JSON[_0x9e084d(0x93)](_0x48e6ba[_0x9e084d(0x98)])||JSON[_0x9e084d(0x93)](_0x581d6d[_0x9e084d(0xa6)])!==JSON[_0x9e084d(0x93)](_0x48e6ba['monitored']||[])?(await _0x491777[_0x9e084d(0x81)](_0x9e084d(0x80),{'val':JSON[_0x9e084d(0x93)](_0x581d6d),'ack':!![]}),_0x491777['log'][_0x9e084d(0x87)]('üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20'+_0x2a62c7+'\x20Nodes\x20(Display\x20Names\x20restored).'),_0x491777[_0x9e084d(0x99)]&&_0x491777[_0x9e084d(0x99)](_0x9e084d(0x8a),_0x581d6d)):_0x491777[_0x9e084d(0x7f)]['debug'](_0x9e084d(0xa8));}function a9_0x1665(_0x5ab8ef,_0x463a4b){const _0x56b2ab=a9_0x9385();return a9_0x1665=function(_0x68a641,_0x3d52e8){_0x68a641=_0x68a641-0x7e;let _0x9385ca=_0x56b2ab[_0x68a641];return _0x9385ca;},a9_0x1665(_0x5ab8ef,_0x463a4b);}module['exports']={'updateTopology':updateTopology};