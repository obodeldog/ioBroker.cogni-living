(function(_0x1e4b54,_0x3b3ff6){const _0x53fc7c=a9_0x1d10,_0x2f7ef8=_0x1e4b54();while(!![]){try{const _0x3d126b=parseInt(_0x53fc7c(0x1f4))/0x1*(-parseInt(_0x53fc7c(0x208))/0x2)+parseInt(_0x53fc7c(0x203))/0x3+-parseInt(_0x53fc7c(0x1ec))/0x4*(parseInt(_0x53fc7c(0x1f6))/0x5)+-parseInt(_0x53fc7c(0x1e8))/0x6*(parseInt(_0x53fc7c(0x1f2))/0x7)+parseInt(_0x53fc7c(0x1ef))/0x8+-parseInt(_0x53fc7c(0x1f5))/0x9*(-parseInt(_0x53fc7c(0x1e7))/0xa)+parseInt(_0x53fc7c(0x1e1))/0xb;if(_0x3d126b===_0x3b3ff6)break;else _0x2f7ef8['push'](_0x2f7ef8['shift']());}catch(_0xd49f3a){_0x2f7ef8['push'](_0x2f7ef8['shift']());}}}(a9_0x41d4,0xa459e));const a9_0x522c9d=(function(){let _0x184270=!![];return function(_0x42e246,_0x4415cc){const _0x262ab1=_0x184270?function(){const _0x3da52d=a9_0x1d10;if(_0x4415cc){const _0xed48a6=_0x4415cc[_0x3da52d(0x1ff)](_0x42e246,arguments);return _0x4415cc=null,_0xed48a6;}}:function(){};return _0x184270=![],_0x262ab1;};}()),a9_0x17d60a=a9_0x522c9d(this,function(){const _0xb7d27=a9_0x1d10;return a9_0x17d60a[_0xb7d27(0x1e6)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a9_0x17d60a)[_0xb7d27(0x1ea)](_0xb7d27(0x202));});a9_0x17d60a();'use strict';const setup=require('./setup');async function updateTopology(_0x2ede03){const _0x2e69f3=a9_0x1d10;_0x2ede03[_0x2e69f3(0x1fa)][_0x2e69f3(0x1f7)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0xf3c816=_0x2ede03['config'][_0x2e69f3(0x1f1)]||[],_0x1e0aea=new Set(),_0x355db4=new Set();_0xf3c816[_0x2e69f3(0x1eb)](_0x5ec37d=>{const _0xb718fb=_0x2e69f3;if(_0x5ec37d['location']&&_0x5ec37d[_0xb718fb(0x1fd)]['trim']()!==''){const _0x563de3=_0x5ec37d[_0xb718fb(0x1fd)][_0xb718fb(0x205)]();_0x1e0aea[_0xb718fb(0x1e3)](_0x563de3),(_0x5ec37d[_0xb718fb(0x206)]===_0xb718fb(0x1ee)||_0x5ec37d[_0xb718fb(0x206)]&&_0x5ec37d[_0xb718fb(0x206)][_0xb718fb(0x20b)]()['includes'](_0xb718fb(0x1f8)))&&_0x355db4['add'](_0x563de3);}});const _0x4e42ed=Array[_0x2e69f3(0x200)](_0x1e0aea)[_0x2e69f3(0x1f0)](),_0x1bb111=Array['from'](_0x355db4)[_0x2e69f3(0x1f0)]();if(_0x4e42ed[_0x2e69f3(0x1de)]===0x0){_0x2ede03[_0x2e69f3(0x1fa)][_0x2e69f3(0x1f7)](_0x2e69f3(0x1e9));return;}let _0x264e6a={'rooms':[],'matrix':[]};try{const _0x2ff6a8=await _0x2ede03[_0x2e69f3(0x1e0)](_0x2e69f3(0x201));_0x2ff6a8&&_0x2ff6a8[_0x2e69f3(0x209)]&&(_0x264e6a=JSON[_0x2e69f3(0x1f9)](_0x2ff6a8[_0x2e69f3(0x209)]));}catch(_0x14fcc2){}const _0x27668e=[],_0x5f34f7=_0x4e42ed['length'];for(let _0x15be9d=0x0;_0x15be9d<_0x5f34f7;_0x15be9d++){const _0x1f9194=[];for(let _0x2cd5c6=0x0;_0x2cd5c6<_0x5f34f7;_0x2cd5c6++){let _0x36f466=_0x15be9d===_0x2cd5c6?0x1:0x0;const _0x2123f3=_0x4e42ed[_0x15be9d],_0x4dc871=_0x4e42ed[_0x2cd5c6],_0x1b15d1=_0x264e6a[_0x2e69f3(0x20a)]?_0x264e6a[_0x2e69f3(0x20a)]['indexOf'](_0x2123f3):-0x1,_0x22ecf5=_0x264e6a['rooms']?_0x264e6a[_0x2e69f3(0x20a)][_0x2e69f3(0x207)](_0x4dc871):-0x1;_0x1b15d1!==-0x1&&_0x22ecf5!==-0x1&&_0x264e6a[_0x2e69f3(0x1ed)][_0x1b15d1]&&_0x264e6a[_0x2e69f3(0x1ed)][_0x1b15d1][_0x22ecf5]!==undefined&&(_0x36f466=_0x264e6a[_0x2e69f3(0x1ed)][_0x1b15d1][_0x22ecf5]),_0x1f9194[_0x2e69f3(0x1e5)](_0x36f466);}_0x27668e[_0x2e69f3(0x1e5)](_0x1f9194);}const _0x5cbdcd={'updated':Date[_0x2e69f3(0x204)](),'nodeCount':_0x5f34f7,'rooms':_0x4e42ed,'matrix':_0x27668e,'monitored':_0x1bb111};JSON[_0x2e69f3(0x1f3)](_0x5cbdcd['rooms'])!==JSON[_0x2e69f3(0x1f3)](_0x264e6a[_0x2e69f3(0x20a)])||JSON[_0x2e69f3(0x1f3)](_0x5cbdcd['matrix'])!==JSON['stringify'](_0x264e6a[_0x2e69f3(0x1ed)])||JSON[_0x2e69f3(0x1f3)](_0x5cbdcd[_0x2e69f3(0x1fc)])!==JSON[_0x2e69f3(0x1f3)](_0x264e6a[_0x2e69f3(0x1fc)]||[])?(await _0x2ede03['setStateAsync'](_0x2e69f3(0x201),{'val':JSON[_0x2e69f3(0x1f3)](_0x5cbdcd),'ack':!![]}),_0x2ede03['log'][_0x2e69f3(0x1df)]('ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20'+_0x5f34f7+_0x2e69f3(0x1e4)),_0x2ede03[_0x2e69f3(0x1fb)]&&_0x2ede03[_0x2e69f3(0x1fb)](_0x2e69f3(0x1e2),_0x5cbdcd)):_0x2ede03[_0x2e69f3(0x1fa)]['debug'](_0x2e69f3(0x1fe));}function a9_0x41d4(){const _0x111142=['parse','log','sendToPythonWrapper','monitored','location','ðŸ•¸ï¸\x20Topology\x20unchanged.','apply','from','analysis.topology.structure','(((.+)+)+)+$','3914421wxCbca','now','trim','type','indexOf','2lROgzG','val','rooms','toLowerCase','length','info','getStateAsync','1470568ybuZKq','SET_TOPOLOGY','add','\x20Nodes\x20(Display\x20Names\x20restored).','push','toString','239090HRUdTg','49332TPFzdy','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','search','forEach','436GAimoO','matrix','motion','3146592sBSAVm','sort','devices','49gaMCns','stringify','482538oodNUE','162KkuJYP','48115eEEkjZ','debug','bewegung'];a9_0x41d4=function(){return _0x111142;};return a9_0x41d4();}function a9_0x1d10(_0x11b63b,_0x2fbcdf){const _0x2ae72e=a9_0x41d4();return a9_0x1d10=function(_0x17d60a,_0x522c9d){_0x17d60a=_0x17d60a-0x1de;let _0x41d47f=_0x2ae72e[_0x17d60a];return _0x41d47f;},a9_0x1d10(_0x11b63b,_0x2fbcdf);}module['exports']={'updateTopology':updateTopology};