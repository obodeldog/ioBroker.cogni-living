function a9_0x51d8(){const _0x17c233=['4FHbZSO','info','includes','debug','toLowerCase','sort','sendToPythonWrapper','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','parse','getStateAsync','toString','63Ybznjz','search','push','forEach','devices','from','SET_TOPOLOGY','matrix','type','ðŸ•¸ï¸\x20Topology\x20unchanged.','location','481509sxJCeL','stringify','log','trim','now','setStateAsync','val','(((.+)+)+)+$','\x20Nodes,\x20','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','2549284MPYASZ','rooms','analysis.topology.structure','\x20Monitored\x20Rooms.','config','monitored','1196424YGoATK','3351600PvVNgq','5415096QhHVaC','659298nDRYyq','constructor','1850485ElFJIC','bewegung'];a9_0x51d8=function(){return _0x17c233;};return a9_0x51d8();}(function(_0x44abe2,_0x535dbf){const _0x4f2d2d=a9_0x33ed,_0x5e6327=_0x44abe2();while(!![]){try{const _0x57ea91=-parseInt(_0x4f2d2d(0x117))/0x1+-parseInt(_0x4f2d2d(0x12e))/0x2*(-parseInt(_0x4f2d2d(0x12a))/0x3)+parseInt(_0x4f2d2d(0x121))/0x4+-parseInt(_0x4f2d2d(0x12c))/0x5+-parseInt(_0x4f2d2d(0x129))/0x6+parseInt(_0x4f2d2d(0x128))/0x7+-parseInt(_0x4f2d2d(0x127))/0x8*(-parseInt(_0x4f2d2d(0x139))/0x9);if(_0x57ea91===_0x535dbf)break;else _0x5e6327['push'](_0x5e6327['shift']());}catch(_0x517b65){_0x5e6327['push'](_0x5e6327['shift']());}}}(a9_0x51d8,0xcf212));function a9_0x33ed(_0x5a38fc,_0x48f226){const _0x427b14=a9_0x51d8();return a9_0x33ed=function(_0xa55942,_0x24b1b8){_0xa55942=_0xa55942-0x117;let _0x51d853=_0x427b14[_0xa55942];return _0x51d853;},a9_0x33ed(_0x5a38fc,_0x48f226);}const a9_0x24b1b8=(function(){let _0x372c83=!![];return function(_0xa6f9ab,_0x4426b9){const _0x1cd90d=_0x372c83?function(){if(_0x4426b9){const _0x407def=_0x4426b9['apply'](_0xa6f9ab,arguments);return _0x4426b9=null,_0x407def;}}:function(){};return _0x372c83=![],_0x1cd90d;};}()),a9_0xa55942=a9_0x24b1b8(this,function(){const _0x2f684f=a9_0x33ed;return a9_0xa55942[_0x2f684f(0x138)]()[_0x2f684f(0x13a)](_0x2f684f(0x11e))['toString']()[_0x2f684f(0x12b)](a9_0xa55942)['search'](_0x2f684f(0x11e));});a9_0xa55942();'use strict';async function updateTopology(_0x2564e9){const _0x48d675=a9_0x33ed;_0x2564e9[_0x48d675(0x119)][_0x48d675(0x131)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x465b72=_0x2564e9[_0x48d675(0x125)][_0x48d675(0x13d)]||[],_0x17bb17=new Set(),_0xcbace1=new Set();_0x465b72[_0x48d675(0x13c)](_0x1a71c0=>{const _0x4f53d8=_0x48d675;if(_0x1a71c0[_0x4f53d8(0x143)]&&_0x1a71c0[_0x4f53d8(0x143)][_0x4f53d8(0x11a)]()!==''){const _0x5a6730=_0x1a71c0[_0x4f53d8(0x143)][_0x4f53d8(0x11a)]();_0x17bb17['add'](_0x5a6730),(_0x1a71c0['type']==='motion'||_0x1a71c0['type']&&_0x1a71c0[_0x4f53d8(0x141)][_0x4f53d8(0x132)]()[_0x4f53d8(0x130)](_0x4f53d8(0x12d)))&&_0xcbace1['add'](_0x5a6730);}});const _0x52b477=Array[_0x48d675(0x13e)](_0x17bb17)[_0x48d675(0x133)](),_0x2a1bb0=Array[_0x48d675(0x13e)](_0xcbace1)['sort']();if(_0x52b477['length']===0x0){_0x2564e9['log']['debug'](_0x48d675(0x135));return;}let _0x20ae6b={'rooms':[],'matrix':[]};try{const _0x410dd3=await _0x2564e9[_0x48d675(0x137)](_0x48d675(0x123));_0x410dd3&&_0x410dd3[_0x48d675(0x11d)]&&(_0x20ae6b=JSON[_0x48d675(0x136)](_0x410dd3['val']));}catch(_0x50d82a){}const _0x3555d2=[],_0x573ac0=_0x52b477['length'];for(let _0x314eac=0x0;_0x314eac<_0x573ac0;_0x314eac++){const _0xf58462=[];for(let _0x517e29=0x0;_0x517e29<_0x573ac0;_0x517e29++){let _0x2f7f4f=_0x314eac===_0x517e29?0x1:0x0;const _0x1e707a=_0x52b477[_0x314eac],_0x426045=_0x52b477[_0x517e29],_0x4a9584=_0x20ae6b[_0x48d675(0x122)]?_0x20ae6b[_0x48d675(0x122)]['indexOf'](_0x1e707a):-0x1,_0x1c3f75=_0x20ae6b['rooms']?_0x20ae6b[_0x48d675(0x122)]['indexOf'](_0x426045):-0x1;_0x4a9584!==-0x1&&_0x1c3f75!==-0x1&&_0x20ae6b[_0x48d675(0x140)][_0x4a9584]&&_0x20ae6b[_0x48d675(0x140)][_0x4a9584][_0x1c3f75]!==undefined&&(_0x2f7f4f=_0x20ae6b[_0x48d675(0x140)][_0x4a9584][_0x1c3f75]),_0xf58462[_0x48d675(0x13b)](_0x2f7f4f);}_0x3555d2[_0x48d675(0x13b)](_0xf58462);}const _0x4bf1f0={'updated':Date[_0x48d675(0x11b)](),'nodeCount':_0x573ac0,'rooms':_0x52b477,'matrix':_0x3555d2,'monitored':_0x2a1bb0};JSON[_0x48d675(0x118)](_0x4bf1f0[_0x48d675(0x122)])!==JSON[_0x48d675(0x118)](_0x20ae6b[_0x48d675(0x122)])||JSON[_0x48d675(0x118)](_0x4bf1f0[_0x48d675(0x140)])!==JSON[_0x48d675(0x118)](_0x20ae6b[_0x48d675(0x140)])||JSON[_0x48d675(0x118)](_0x4bf1f0['monitored'])!==JSON[_0x48d675(0x118)](_0x20ae6b[_0x48d675(0x126)]||[])?(await _0x2564e9[_0x48d675(0x11c)](_0x48d675(0x123),{'val':JSON['stringify'](_0x4bf1f0),'ack':!![]}),_0x2564e9[_0x48d675(0x119)][_0x48d675(0x12f)](_0x48d675(0x120)+_0x573ac0+_0x48d675(0x11f)+_0x2a1bb0['length']+_0x48d675(0x124)),_0x2564e9['sendToPythonWrapper']&&_0x2564e9[_0x48d675(0x134)](_0x48d675(0x13f),_0x4bf1f0)):_0x2564e9[_0x48d675(0x119)]['debug'](_0x48d675(0x142));}module['exports']={'updateTopology':updateTopology};