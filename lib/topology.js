const a9_0x53b70b=a9_0x1506;function a9_0x1506(_0x23d764,_0x26cc99){const _0x2749ac=a9_0x26e7();return a9_0x1506=function(_0x10386f,_0x57c863){_0x10386f=_0x10386f-0x1c6;let _0x26e7a1=_0x2749ac[_0x10386f];return _0x26e7a1;},a9_0x1506(_0x23d764,_0x26cc99);}(function(_0x58565f,_0x216eb1){const _0x46a0c4=a9_0x1506,_0x5a41ea=_0x58565f();while(!![]){try{const _0x4ebacd=parseInt(_0x46a0c4(0x1e8))/0x1*(parseInt(_0x46a0c4(0x1e9))/0x2)+-parseInt(_0x46a0c4(0x1ee))/0x3+-parseInt(_0x46a0c4(0x1f2))/0x4*(-parseInt(_0x46a0c4(0x1e3))/0x5)+-parseInt(_0x46a0c4(0x1dd))/0x6+-parseInt(_0x46a0c4(0x1ec))/0x7+parseInt(_0x46a0c4(0x1f1))/0x8*(parseInt(_0x46a0c4(0x1e4))/0x9)+parseInt(_0x46a0c4(0x1c9))/0xa;if(_0x4ebacd===_0x216eb1)break;else _0x5a41ea['push'](_0x5a41ea['shift']());}catch(_0x209222){_0x5a41ea['push'](_0x5a41ea['shift']());}}}(a9_0x26e7,0x5b88b));const a9_0x57c863=(function(){let _0x1d721d=!![];return function(_0x40808c,_0x25bf10){const _0x30d0c1=_0x1d721d?function(){const _0x6719a4=a9_0x1506;if(_0x25bf10){const _0x13ab2f=_0x25bf10[_0x6719a4(0x1cf)](_0x40808c,arguments);return _0x25bf10=null,_0x13ab2f;}}:function(){};return _0x1d721d=![],_0x30d0c1;};}()),a9_0x10386f=a9_0x57c863(this,function(){const _0xedccbb=a9_0x1506;return a9_0x10386f[_0xedccbb(0x1eb)]()['search'](_0xedccbb(0x1ca))['toString']()[_0xedccbb(0x1ef)](a9_0x10386f)[_0xedccbb(0x1d5)](_0xedccbb(0x1ca));});a9_0x10386f();function a9_0x26e7(){const _0xa541a2=['15445CtyPsy','1563291TUcbuz','type','üï∏Ô∏è\x20Topology\x20unchanged.','sort','23vURcxs','6494abKAcO','log','toString','4132282mmzxjp','debug','1235742QsCJVT','constructor','monitored','24iftUBx','52riwwPg','config','add','push','location','10141900hkQzsK','(((.+)+)+)+$','./setup','SET_TOPOLOGY','parse','forEach','apply','length','toLowerCase','\x20Nodes\x20(Display\x20Names\x20restored).','indexOf','bewegung','search','val','trim','analysis.topology.structure','rooms','stringify','now','from','1637772KvYyci','exports','sendToPythonWrapper','matrix','info','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...'];a9_0x26e7=function(){return _0xa541a2;};return a9_0x26e7();}'use strict';const setup=require(a9_0x53b70b(0x1cb));async function updateTopology(_0x528967){const _0x2dc725=a9_0x53b70b;_0x528967[_0x2dc725(0x1ea)]['debug'](_0x2dc725(0x1e2));const _0x2d42da=_0x528967[_0x2dc725(0x1f3)]['devices']||[],_0x5178a7=new Set(),_0x1ec022=new Set();_0x2d42da[_0x2dc725(0x1ce)](_0x504704=>{const _0x384428=_0x2dc725;if(_0x504704[_0x384428(0x1c8)]&&_0x504704[_0x384428(0x1c8)][_0x384428(0x1d7)]()!==''){const _0x1e7e52=_0x504704[_0x384428(0x1c8)][_0x384428(0x1d7)]();_0x5178a7[_0x384428(0x1c6)](_0x1e7e52),(_0x504704[_0x384428(0x1e5)]==='motion'||_0x504704[_0x384428(0x1e5)]&&_0x504704[_0x384428(0x1e5)][_0x384428(0x1d1)]()['includes'](_0x384428(0x1d4)))&&_0x1ec022[_0x384428(0x1c6)](_0x1e7e52);}});const _0x509f3a=Array[_0x2dc725(0x1dc)](_0x5178a7)[_0x2dc725(0x1e7)](),_0x304e44=Array[_0x2dc725(0x1dc)](_0x1ec022)[_0x2dc725(0x1e7)]();if(_0x509f3a[_0x2dc725(0x1d0)]===0x0){_0x528967['log'][_0x2dc725(0x1ed)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x360123={'rooms':[],'matrix':[]};try{const _0x4e590a=await _0x528967['getStateAsync'](_0x2dc725(0x1d8));_0x4e590a&&_0x4e590a['val']&&(_0x360123=JSON[_0x2dc725(0x1cd)](_0x4e590a[_0x2dc725(0x1d6)]));}catch(_0x59d079){}const _0x3df01c=[],_0x2935a7=_0x509f3a['length'];for(let _0xde690c=0x0;_0xde690c<_0x2935a7;_0xde690c++){const _0x2fe777=[];for(let _0x29d872=0x0;_0x29d872<_0x2935a7;_0x29d872++){let _0x2c2837=_0xde690c===_0x29d872?0x1:0x0;const _0x29dda5=_0x509f3a[_0xde690c],_0x406fd5=_0x509f3a[_0x29d872],_0x34ae43=_0x360123[_0x2dc725(0x1d9)]?_0x360123[_0x2dc725(0x1d9)][_0x2dc725(0x1d3)](_0x29dda5):-0x1,_0x5542f4=_0x360123['rooms']?_0x360123[_0x2dc725(0x1d9)][_0x2dc725(0x1d3)](_0x406fd5):-0x1;_0x34ae43!==-0x1&&_0x5542f4!==-0x1&&_0x360123[_0x2dc725(0x1e0)][_0x34ae43]&&_0x360123[_0x2dc725(0x1e0)][_0x34ae43][_0x5542f4]!==undefined&&(_0x2c2837=_0x360123[_0x2dc725(0x1e0)][_0x34ae43][_0x5542f4]),_0x2fe777[_0x2dc725(0x1c7)](_0x2c2837);}_0x3df01c[_0x2dc725(0x1c7)](_0x2fe777);}const _0x25cdaf={'updated':Date[_0x2dc725(0x1db)](),'nodeCount':_0x2935a7,'rooms':_0x509f3a,'matrix':_0x3df01c,'monitored':_0x304e44};JSON['stringify'](_0x25cdaf[_0x2dc725(0x1d9)])!==JSON[_0x2dc725(0x1da)](_0x360123[_0x2dc725(0x1d9)])||JSON[_0x2dc725(0x1da)](_0x25cdaf['matrix'])!==JSON[_0x2dc725(0x1da)](_0x360123[_0x2dc725(0x1e0)])||JSON[_0x2dc725(0x1da)](_0x25cdaf[_0x2dc725(0x1f0)])!==JSON[_0x2dc725(0x1da)](_0x360123[_0x2dc725(0x1f0)]||[])?(await _0x528967['setStateAsync'](_0x2dc725(0x1d8),{'val':JSON[_0x2dc725(0x1da)](_0x25cdaf),'ack':!![]}),_0x528967[_0x2dc725(0x1ea)][_0x2dc725(0x1e1)]('üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20'+_0x2935a7+_0x2dc725(0x1d2)),_0x528967[_0x2dc725(0x1df)]&&_0x528967['sendToPythonWrapper'](_0x2dc725(0x1cc),_0x25cdaf)):_0x528967[_0x2dc725(0x1ea)]['debug'](_0x2dc725(0x1e6));}module[a9_0x53b70b(0x1de)]={'updateTopology':updateTopology};