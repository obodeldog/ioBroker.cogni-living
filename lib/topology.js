const a9_0x3ad91b=a9_0x5090;function a9_0x57e6(){const _0x302110=['./setup','(((.+)+)+)+$','forEach','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','stringify','bewegung','7gcFSEH','location','devices','214143IPodXY','4666232xYguIG','5KgqlqQ','24UMuwLB','sendToPythonWrapper','motion','monitored','SET_TOPOLOGY','analysis.topology.structure','config','setStateAsync','\x20Nodes\x20(Display\x20Names\x20restored).','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','push','parse','type','length','1861718OvUqGO','matrix','sort','info','22FObIqG','1455100LZMzwe','rooms','10127ZQyQfJ','9eSkcDk','search','toString','trim','6SqXBTT','debug','log','apply','11383158TeXOLX','add','ðŸ•¸ï¸\x20Topology\x20unchanged.','6602408HpCeUu'];a9_0x57e6=function(){return _0x302110;};return a9_0x57e6();}(function(_0x1254e5,_0x3d88d0){const _0x44b5fd=a9_0x5090,_0x5eb73d=_0x1254e5();while(!![]){try{const _0x2ba11a=parseInt(_0x44b5fd(0x11e))/0x1+-parseInt(_0x44b5fd(0x130))/0x2*(-parseInt(_0x44b5fd(0x10d))/0x3)+parseInt(_0x44b5fd(0x114))/0x4*(parseInt(_0x44b5fd(0x120))/0x5)+parseInt(_0x44b5fd(0x111))/0x6*(-parseInt(_0x44b5fd(0x11b))/0x7)+-parseInt(_0x44b5fd(0x11f))/0x8*(parseInt(_0x44b5fd(0x138))/0x9)+parseInt(_0x44b5fd(0x135))/0xa*(-parseInt(_0x44b5fd(0x134))/0xb)+-parseInt(_0x44b5fd(0x121))/0xc*(parseInt(_0x44b5fd(0x137))/0xd);if(_0x2ba11a===_0x3d88d0)break;else _0x5eb73d['push'](_0x5eb73d['shift']());}catch(_0x3ccacc){_0x5eb73d['push'](_0x5eb73d['shift']());}}}(a9_0x57e6,0xe8c45));const a9_0x455adb=(function(){let _0xff364e=!![];return function(_0x61e9fa,_0x13a39f){const _0x36dfb9=_0xff364e?function(){const _0x477299=a9_0x5090;if(_0x13a39f){const _0x43760f=_0x13a39f[_0x477299(0x110)](_0x61e9fa,arguments);return _0x13a39f=null,_0x43760f;}}:function(){};return _0xff364e=![],_0x36dfb9;};}()),a9_0x4ec18e=a9_0x455adb(this,function(){const _0x5ae61d=a9_0x5090;return a9_0x4ec18e[_0x5ae61d(0x13a)]()[_0x5ae61d(0x139)](_0x5ae61d(0x116))[_0x5ae61d(0x13a)]()['constructor'](a9_0x4ec18e)[_0x5ae61d(0x139)](_0x5ae61d(0x116));});a9_0x4ec18e();'use strict';function a9_0x5090(_0x5441f0,_0xc393c8){const _0x1488c0=a9_0x57e6();return a9_0x5090=function(_0x4ec18e,_0x455adb){_0x4ec18e=_0x4ec18e-0x10d;let _0x57e6d7=_0x1488c0[_0x4ec18e];return _0x57e6d7;},a9_0x5090(_0x5441f0,_0xc393c8);}const setup=require(a9_0x3ad91b(0x115));async function updateTopology(_0x5abd67){const _0x5b7937=a9_0x3ad91b;_0x5abd67[_0x5b7937(0x10f)][_0x5b7937(0x10e)](_0x5b7937(0x12b));const _0x19a6a8=_0x5abd67[_0x5b7937(0x127)][_0x5b7937(0x11d)]||[],_0x4e14cf=new Set(),_0x37dff0=new Set();_0x19a6a8[_0x5b7937(0x117)](_0xe574c3=>{const _0x205d5e=_0x5b7937;if(_0xe574c3[_0x205d5e(0x11c)]&&_0xe574c3[_0x205d5e(0x11c)][_0x205d5e(0x13b)]()!==''){const _0x28faae=_0xe574c3[_0x205d5e(0x11c)][_0x205d5e(0x13b)]();_0x4e14cf[_0x205d5e(0x112)](_0x28faae),(_0xe574c3['type']===_0x205d5e(0x123)||_0xe574c3[_0x205d5e(0x12e)]&&_0xe574c3[_0x205d5e(0x12e)]['toLowerCase']()['includes'](_0x205d5e(0x11a)))&&_0x37dff0[_0x205d5e(0x112)](_0x28faae);}});const _0x4472ea=Array['from'](_0x4e14cf)['sort'](),_0x5bc52c=Array['from'](_0x37dff0)[_0x5b7937(0x132)]();if(_0x4472ea[_0x5b7937(0x12f)]===0x0){_0x5abd67['log'][_0x5b7937(0x10e)](_0x5b7937(0x12a));return;}let _0x52282b={'rooms':[],'matrix':[]};try{const _0x4c012e=await _0x5abd67['getStateAsync'](_0x5b7937(0x126));_0x4c012e&&_0x4c012e['val']&&(_0x52282b=JSON[_0x5b7937(0x12d)](_0x4c012e['val']));}catch(_0x188b3b){}const _0x232c64=[],_0x2785ca=_0x4472ea[_0x5b7937(0x12f)];for(let _0x14c9dc=0x0;_0x14c9dc<_0x2785ca;_0x14c9dc++){const _0x2958ce=[];for(let _0x517dcd=0x0;_0x517dcd<_0x2785ca;_0x517dcd++){let _0x346ab9=_0x14c9dc===_0x517dcd?0x1:0x0;const _0x8cdfe7=_0x4472ea[_0x14c9dc],_0x3b8dd3=_0x4472ea[_0x517dcd],_0x48788b=_0x52282b['rooms']?_0x52282b['rooms']['indexOf'](_0x8cdfe7):-0x1,_0x52c641=_0x52282b[_0x5b7937(0x136)]?_0x52282b[_0x5b7937(0x136)]['indexOf'](_0x3b8dd3):-0x1;_0x48788b!==-0x1&&_0x52c641!==-0x1&&_0x52282b[_0x5b7937(0x131)][_0x48788b]&&_0x52282b[_0x5b7937(0x131)][_0x48788b][_0x52c641]!==undefined&&(_0x346ab9=_0x52282b[_0x5b7937(0x131)][_0x48788b][_0x52c641]),_0x2958ce[_0x5b7937(0x12c)](_0x346ab9);}_0x232c64[_0x5b7937(0x12c)](_0x2958ce);}const _0x19ff75={'updated':Date['now'](),'nodeCount':_0x2785ca,'rooms':_0x4472ea,'matrix':_0x232c64,'monitored':_0x5bc52c};JSON['stringify'](_0x19ff75['rooms'])!==JSON[_0x5b7937(0x119)](_0x52282b[_0x5b7937(0x136)])||JSON[_0x5b7937(0x119)](_0x19ff75[_0x5b7937(0x131)])!==JSON[_0x5b7937(0x119)](_0x52282b[_0x5b7937(0x131)])||JSON[_0x5b7937(0x119)](_0x19ff75['monitored'])!==JSON[_0x5b7937(0x119)](_0x52282b[_0x5b7937(0x124)]||[])?(await _0x5abd67[_0x5b7937(0x128)]('analysis.topology.structure',{'val':JSON[_0x5b7937(0x119)](_0x19ff75),'ack':!![]}),_0x5abd67[_0x5b7937(0x10f)][_0x5b7937(0x133)](_0x5b7937(0x118)+_0x2785ca+_0x5b7937(0x129)),_0x5abd67['sendToPythonWrapper']&&_0x5abd67[_0x5b7937(0x122)](_0x5b7937(0x125),_0x19ff75)):_0x5abd67['log'][_0x5b7937(0x10e)](_0x5b7937(0x113));}module['exports']={'updateTopology':updateTopology};