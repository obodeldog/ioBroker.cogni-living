(function(_0x1ab486,_0x42e4af){const _0x7a207d=a9_0x3ee8,_0x279eef=_0x1ab486();while(!![]){try{const _0x583eac=-parseInt(_0x7a207d(0x19b))/0x1+-parseInt(_0x7a207d(0x1a7))/0x2*(parseInt(_0x7a207d(0x1aa))/0x3)+parseInt(_0x7a207d(0x1b5))/0x4+-parseInt(_0x7a207d(0x19d))/0x5*(parseInt(_0x7a207d(0x189))/0x6)+parseInt(_0x7a207d(0x18a))/0x7+-parseInt(_0x7a207d(0x193))/0x8+parseInt(_0x7a207d(0x1ae))/0x9;if(_0x583eac===_0x42e4af)break;else _0x279eef['push'](_0x279eef['shift']());}catch(_0x4a4196){_0x279eef['push'](_0x279eef['shift']());}}}(a9_0x48b9,0x3d3be));const a9_0x34cc0f=(function(){let _0x47bda4=!![];return function(_0x28d755,_0x47f3fa){const _0x53acb7=_0x47bda4?function(){const _0x558523=a9_0x3ee8;if(_0x47f3fa){const _0x38cf8c=_0x47f3fa[_0x558523(0x1a5)](_0x28d755,arguments);return _0x47f3fa=null,_0x38cf8c;}}:function(){};return _0x47bda4=![],_0x53acb7;};}()),a9_0x49f67c=a9_0x34cc0f(this,function(){const _0x5c4df6=a9_0x3ee8;return a9_0x49f67c[_0x5c4df6(0x18b)]()[_0x5c4df6(0x1b6)]('(((.+)+)+)+$')[_0x5c4df6(0x18b)]()['constructor'](a9_0x49f67c)['search'](_0x5c4df6(0x1a1));});a9_0x49f67c();function a9_0x3ee8(_0x5b0248,_0x570299){const _0x1d412f=a9_0x48b9();return a9_0x3ee8=function(_0x49f67c,_0x34cc0f){_0x49f67c=_0x49f67c-0x188;let _0x48b98e=_0x1d412f[_0x49f67c];return _0x48b98e;},a9_0x3ee8(_0x5b0248,_0x570299);}'use strict';function a9_0x48b9(){const _0x6082a8=['forEach','rooms','sort','from','863416pZNEVz','search','motion','6INulHg','962801doqdvK','toString','setStateAsync','log','SET_TOPOLOGY','val','\x20Nodes,\x20','trim','length','3754808XebwpF','analysis.topology.structure','type','indexOf','stringify','includes','\x20Monitored\x20Rooms.','monitored','256810hiJpaO','devices','509230vYXCxp','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','config','location','(((.+)+)+)+$','push','matrix','sendToPythonWrapper','apply','now','112622KORGqO','bewegung','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','18mjlPtG','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','add','ðŸ•¸ï¸\x20Topology\x20unchanged.','9569610KVdCKX','debug','toLowerCase'];a9_0x48b9=function(){return _0x6082a8;};return a9_0x48b9();}async function updateTopology(_0x813912){const _0x117b40=a9_0x3ee8;_0x813912['log']['debug'](_0x117b40(0x1a9));const _0x1c13d1=_0x813912[_0x117b40(0x19f)][_0x117b40(0x19c)]||[],_0x167d1c=new Set(),_0x2ccbd1=new Set();_0x1c13d1[_0x117b40(0x1b1)](_0x460c9c=>{const _0x25d3c5=_0x117b40;if(_0x460c9c[_0x25d3c5(0x1a0)]&&_0x460c9c['location'][_0x25d3c5(0x191)]()!==''){const _0x119f21=_0x460c9c['location'][_0x25d3c5(0x191)]();_0x167d1c['add'](_0x119f21),(_0x460c9c[_0x25d3c5(0x195)]===_0x25d3c5(0x188)||_0x460c9c[_0x25d3c5(0x195)]&&_0x460c9c[_0x25d3c5(0x195)][_0x25d3c5(0x1b0)]()[_0x25d3c5(0x198)](_0x25d3c5(0x1a8)))&&_0x2ccbd1[_0x25d3c5(0x1ac)](_0x119f21);}});const _0x28e302=Array[_0x117b40(0x1b4)](_0x167d1c)[_0x117b40(0x1b3)](),_0xfc5af4=Array[_0x117b40(0x1b4)](_0x2ccbd1)['sort']();if(_0x28e302[_0x117b40(0x192)]===0x0){_0x813912[_0x117b40(0x18d)][_0x117b40(0x1af)](_0x117b40(0x19e));return;}let _0x64fe42={'rooms':[],'matrix':[]};try{const _0xcb0521=await _0x813912['getStateAsync'](_0x117b40(0x194));_0xcb0521&&_0xcb0521['val']&&(_0x64fe42=JSON['parse'](_0xcb0521[_0x117b40(0x18f)]));}catch(_0x13b980){}const _0x4d634d=[],_0x3a12da=_0x28e302[_0x117b40(0x192)];for(let _0x34e9f5=0x0;_0x34e9f5<_0x3a12da;_0x34e9f5++){const _0x2430e8=[];for(let _0x354ff2=0x0;_0x354ff2<_0x3a12da;_0x354ff2++){let _0x515a70=_0x34e9f5===_0x354ff2?0x1:0x0;const _0x54ad2d=_0x28e302[_0x34e9f5],_0x357f41=_0x28e302[_0x354ff2],_0x2081e7=_0x64fe42[_0x117b40(0x1b2)]?_0x64fe42[_0x117b40(0x1b2)]['indexOf'](_0x54ad2d):-0x1,_0x3c9f67=_0x64fe42[_0x117b40(0x1b2)]?_0x64fe42[_0x117b40(0x1b2)][_0x117b40(0x196)](_0x357f41):-0x1;_0x2081e7!==-0x1&&_0x3c9f67!==-0x1&&_0x64fe42['matrix'][_0x2081e7]&&_0x64fe42[_0x117b40(0x1a3)][_0x2081e7][_0x3c9f67]!==undefined&&(_0x515a70=_0x64fe42[_0x117b40(0x1a3)][_0x2081e7][_0x3c9f67]),_0x2430e8['push'](_0x515a70);}_0x4d634d[_0x117b40(0x1a2)](_0x2430e8);}const _0x8d9043={'updated':Date[_0x117b40(0x1a6)](),'nodeCount':_0x3a12da,'rooms':_0x28e302,'matrix':_0x4d634d,'monitored':_0xfc5af4};JSON['stringify'](_0x8d9043['rooms'])!==JSON[_0x117b40(0x197)](_0x64fe42[_0x117b40(0x1b2)])||JSON[_0x117b40(0x197)](_0x8d9043['matrix'])!==JSON[_0x117b40(0x197)](_0x64fe42[_0x117b40(0x1a3)])||JSON['stringify'](_0x8d9043[_0x117b40(0x19a)])!==JSON[_0x117b40(0x197)](_0x64fe42[_0x117b40(0x19a)]||[])?(await _0x813912[_0x117b40(0x18c)](_0x117b40(0x194),{'val':JSON[_0x117b40(0x197)](_0x8d9043),'ack':!![]}),_0x813912[_0x117b40(0x18d)]['info'](_0x117b40(0x1ab)+_0x3a12da+_0x117b40(0x190)+_0xfc5af4[_0x117b40(0x192)]+_0x117b40(0x199)),_0x813912['sendToPythonWrapper']&&_0x813912[_0x117b40(0x1a4)](_0x117b40(0x18e),_0x8d9043)):_0x813912['log'][_0x117b40(0x1af)](_0x117b40(0x1ad));}module['exports']={'updateTopology':updateTopology};