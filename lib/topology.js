const a9_0x12fb46=a9_0x21da;(function(_0x7692d8,_0x4baf71){const _0x193819=a9_0x21da,_0x203d6b=_0x7692d8();while(!![]){try{const _0x18f62d=parseInt(_0x193819(0xe4))/0x1*(-parseInt(_0x193819(0xc5))/0x2)+-parseInt(_0x193819(0xca))/0x3*(parseInt(_0x193819(0xea))/0x4)+-parseInt(_0x193819(0xc0))/0x5*(parseInt(_0x193819(0xda))/0x6)+-parseInt(_0x193819(0xc8))/0x7+-parseInt(_0x193819(0xde))/0x8+-parseInt(_0x193819(0xdc))/0x9*(parseInt(_0x193819(0xe8))/0xa)+-parseInt(_0x193819(0xe1))/0xb*(-parseInt(_0x193819(0xbd))/0xc);if(_0x18f62d===_0x4baf71)break;else _0x203d6b['push'](_0x203d6b['shift']());}catch(_0x2bae11){_0x203d6b['push'](_0x203d6b['shift']());}}}(a9_0x59a7,0x5e8db));const a9_0x204cf4=(function(){let _0x3e14d2=!![];return function(_0x5e6e35,_0x45a938){const _0x1707fe=_0x3e14d2?function(){const _0x4cf938=a9_0x21da;if(_0x45a938){const _0x4f1642=_0x45a938[_0x4cf938(0xe9)](_0x5e6e35,arguments);return _0x45a938=null,_0x4f1642;}}:function(){};return _0x3e14d2=![],_0x1707fe;};}()),a9_0x33b7bc=a9_0x204cf4(this,function(){const _0x32a26a=a9_0x21da;return a9_0x33b7bc[_0x32a26a(0xeb)]()['search']('(((.+)+)+)+$')[_0x32a26a(0xeb)]()[_0x32a26a(0xe7)](a9_0x33b7bc)[_0x32a26a(0xcc)](_0x32a26a(0xd4));});function a9_0x59a7(){const _0x2ebded=['parse','SET_TOPOLOGY','analysis.topology.structure','getStateAsync','config','bewegung','\x20Nodes\x20(Display\x20Names\x20restored).','(((.+)+)+)+$','exports','matrix','type','debug','trim','6zRNlfv','setStateAsync','86139iZyZxG','motion','548920XoQmgR','toLowerCase','forEach','11PRqxmf','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','sendToPythonWrapper','1033riDMme','log','location','constructor','410PvmeQX','apply','8NMxTdR','toString','includes','length','sort','rooms','from','29577084rXHomW','push','indexOf','2432065jPbLHw','stringify','monitored','info','devices','878QnpVNr','val','now','2600962XVgFTB','ðŸ•¸ï¸\x20Topology\x20unchanged.','457461MIYzJN','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','search'];a9_0x59a7=function(){return _0x2ebded;};return a9_0x59a7();}function a9_0x21da(_0x233588,_0x499419){const _0x4b49fb=a9_0x59a7();return a9_0x21da=function(_0x33b7bc,_0x204cf4){_0x33b7bc=_0x33b7bc-0xba;let _0x59a779=_0x4b49fb[_0x33b7bc];return _0x59a779;},a9_0x21da(_0x233588,_0x499419);}a9_0x33b7bc();'use strict';const setup=require('./setup');async function updateTopology(_0x21bf2a){const _0x3a0fef=a9_0x21da;_0x21bf2a[_0x3a0fef(0xe5)][_0x3a0fef(0xd8)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x45322b=_0x21bf2a[_0x3a0fef(0xd1)][_0x3a0fef(0xc4)]||[],_0x24702f=new Set(),_0x15ecf8=new Set();_0x45322b[_0x3a0fef(0xe0)](_0x229b61=>{const _0x449da4=_0x3a0fef;if(_0x229b61[_0x449da4(0xe6)]&&_0x229b61[_0x449da4(0xe6)]['trim']()!==''){const _0x411491=_0x229b61[_0x449da4(0xe6)][_0x449da4(0xd9)]();_0x24702f['add'](_0x411491),(_0x229b61[_0x449da4(0xd7)]===_0x449da4(0xdd)||_0x229b61['type']&&_0x229b61[_0x449da4(0xd7)][_0x449da4(0xdf)]()[_0x449da4(0xec)](_0x449da4(0xd2)))&&_0x15ecf8['add'](_0x411491);}});const _0x310b46=Array[_0x3a0fef(0xbc)](_0x24702f)['sort'](),_0x46c4ee=Array[_0x3a0fef(0xbc)](_0x15ecf8)[_0x3a0fef(0xba)]();if(_0x310b46[_0x3a0fef(0xed)]===0x0){_0x21bf2a[_0x3a0fef(0xe5)][_0x3a0fef(0xd8)](_0x3a0fef(0xe2));return;}let _0x515a89={'rooms':[],'matrix':[]};try{const _0x2cca94=await _0x21bf2a[_0x3a0fef(0xd0)]('analysis.topology.structure');_0x2cca94&&_0x2cca94[_0x3a0fef(0xc6)]&&(_0x515a89=JSON[_0x3a0fef(0xcd)](_0x2cca94['val']));}catch(_0x5243de){}const _0xc631a8=[],_0x345cdd=_0x310b46[_0x3a0fef(0xed)];for(let _0x2a7ad3=0x0;_0x2a7ad3<_0x345cdd;_0x2a7ad3++){const _0x3bdd69=[];for(let _0x4bbae9=0x0;_0x4bbae9<_0x345cdd;_0x4bbae9++){let _0x27afc5=_0x2a7ad3===_0x4bbae9?0x1:0x0;const _0x1c7c05=_0x310b46[_0x2a7ad3],_0x47c57a=_0x310b46[_0x4bbae9],_0x5c1111=_0x515a89[_0x3a0fef(0xbb)]?_0x515a89['rooms'][_0x3a0fef(0xbf)](_0x1c7c05):-0x1,_0x41fb50=_0x515a89[_0x3a0fef(0xbb)]?_0x515a89[_0x3a0fef(0xbb)][_0x3a0fef(0xbf)](_0x47c57a):-0x1;_0x5c1111!==-0x1&&_0x41fb50!==-0x1&&_0x515a89[_0x3a0fef(0xd6)][_0x5c1111]&&_0x515a89[_0x3a0fef(0xd6)][_0x5c1111][_0x41fb50]!==undefined&&(_0x27afc5=_0x515a89[_0x3a0fef(0xd6)][_0x5c1111][_0x41fb50]),_0x3bdd69[_0x3a0fef(0xbe)](_0x27afc5);}_0xc631a8['push'](_0x3bdd69);}const _0x551a9e={'updated':Date[_0x3a0fef(0xc7)](),'nodeCount':_0x345cdd,'rooms':_0x310b46,'matrix':_0xc631a8,'monitored':_0x46c4ee};JSON[_0x3a0fef(0xc1)](_0x551a9e[_0x3a0fef(0xbb)])!==JSON[_0x3a0fef(0xc1)](_0x515a89[_0x3a0fef(0xbb)])||JSON[_0x3a0fef(0xc1)](_0x551a9e[_0x3a0fef(0xd6)])!==JSON['stringify'](_0x515a89[_0x3a0fef(0xd6)])||JSON[_0x3a0fef(0xc1)](_0x551a9e[_0x3a0fef(0xc2)])!==JSON['stringify'](_0x515a89['monitored']||[])?(await _0x21bf2a[_0x3a0fef(0xdb)](_0x3a0fef(0xcf),{'val':JSON['stringify'](_0x551a9e),'ack':!![]}),_0x21bf2a[_0x3a0fef(0xe5)][_0x3a0fef(0xc3)](_0x3a0fef(0xcb)+_0x345cdd+_0x3a0fef(0xd3)),_0x21bf2a[_0x3a0fef(0xe3)]&&_0x21bf2a['sendToPythonWrapper'](_0x3a0fef(0xce),_0x551a9e)):_0x21bf2a[_0x3a0fef(0xe5)][_0x3a0fef(0xd8)](_0x3a0fef(0xc9));}module[a9_0x12fb46(0xd5)]={'updateTopology':updateTopology};