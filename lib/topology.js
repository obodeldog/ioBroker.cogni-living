(function(_0x228db5,_0x400749){const _0x5a2f40=a9_0x1ef7,_0x4a146c=_0x228db5();while(!![]){try{const _0x45d123=-parseInt(_0x5a2f40(0x7e))/0x1*(parseInt(_0x5a2f40(0x87))/0x2)+-parseInt(_0x5a2f40(0x8a))/0x3+parseInt(_0x5a2f40(0x7d))/0x4+parseInt(_0x5a2f40(0x8f))/0x5+-parseInt(_0x5a2f40(0x78))/0x6+parseInt(_0x5a2f40(0x6b))/0x7+parseInt(_0x5a2f40(0x89))/0x8*(parseInt(_0x5a2f40(0x6d))/0x9);if(_0x45d123===_0x400749)break;else _0x4a146c['push'](_0x4a146c['shift']());}catch(_0x20c562){_0x4a146c['push'](_0x4a146c['shift']());}}}(a9_0x49db,0x75784));function a9_0x49db(){const _0x2884ad=['debug','4718982qaDVfX','SET_TOPOLOGY','\x20Nodes,\x20','toString','type','666644cRwLQI','152257BIFEAa','apply','forEach','trim','(((.+)+)+)+$','motion','sort','sendToPythonWrapper','config','2jOZTIX','from','9228952NwCEtb','2070933ZBMgLv','length','analysis.topology.structure','rooms','search','3182060ImXwEv','setStateAsync','indexOf','location','ðŸ•¸ï¸\x20Topology\x20unchanged.','parse','1074703unsCGM','push','9ENPKOT','includes','val','add','log','matrix','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','monitored','stringify','toLowerCase'];a9_0x49db=function(){return _0x2884ad;};return a9_0x49db();}const a9_0x55828e=(function(){let _0x1df793=!![];return function(_0x360430,_0xf11a11){const _0x52bba8=_0x1df793?function(){const _0x1baaea=a9_0x1ef7;if(_0xf11a11){const _0x4f1df8=_0xf11a11[_0x1baaea(0x7f)](_0x360430,arguments);return _0xf11a11=null,_0x4f1df8;}}:function(){};return _0x1df793=![],_0x52bba8;};}()),a9_0x528276=a9_0x55828e(this,function(){const _0x172dc2=a9_0x1ef7;return a9_0x528276['toString']()[_0x172dc2(0x8e)](_0x172dc2(0x82))[_0x172dc2(0x7b)]()['constructor'](a9_0x528276)[_0x172dc2(0x8e)](_0x172dc2(0x82));});a9_0x528276();function a9_0x1ef7(_0x6a1957,_0x2f623e){const _0x5692f8=a9_0x49db();return a9_0x1ef7=function(_0x528276,_0x55828e){_0x528276=_0x528276-0x6a;let _0x49dbd4=_0x5692f8[_0x528276];return _0x49dbd4;},a9_0x1ef7(_0x6a1957,_0x2f623e);}'use strict';async function updateTopology(_0x1908d3){const _0x343a3f=a9_0x1ef7;_0x1908d3[_0x343a3f(0x71)]['debug']('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x20a52f=_0x1908d3[_0x343a3f(0x86)]['devices']||[],_0x5c85ea=new Set(),_0x2f817a=new Set();_0x20a52f[_0x343a3f(0x80)](_0x42a4d6=>{const _0x3051c3=_0x343a3f;if(_0x42a4d6[_0x3051c3(0x92)]&&_0x42a4d6[_0x3051c3(0x92)][_0x3051c3(0x81)]()!==''){const _0x1d243f=_0x42a4d6[_0x3051c3(0x92)][_0x3051c3(0x81)]();_0x5c85ea[_0x3051c3(0x70)](_0x1d243f),(_0x42a4d6[_0x3051c3(0x7c)]===_0x3051c3(0x83)||_0x42a4d6[_0x3051c3(0x7c)]&&_0x42a4d6['type'][_0x3051c3(0x76)]()[_0x3051c3(0x6e)]('bewegung'))&&_0x2f817a[_0x3051c3(0x70)](_0x1d243f);}});const _0x3b7353=Array[_0x343a3f(0x88)](_0x5c85ea)[_0x343a3f(0x84)](),_0x492f0c=Array[_0x343a3f(0x88)](_0x2f817a)[_0x343a3f(0x84)]();if(_0x3b7353[_0x343a3f(0x8b)]===0x0){_0x1908d3['log'][_0x343a3f(0x77)](_0x343a3f(0x73));return;}let _0x1515b0={'rooms':[],'matrix':[]};try{const _0x86ad3b=await _0x1908d3['getStateAsync'](_0x343a3f(0x8c));_0x86ad3b&&_0x86ad3b[_0x343a3f(0x6f)]&&(_0x1515b0=JSON[_0x343a3f(0x6a)](_0x86ad3b[_0x343a3f(0x6f)]));}catch(_0x51f0ee){}const _0x11f34c=[],_0x35178f=_0x3b7353[_0x343a3f(0x8b)];for(let _0x550e7d=0x0;_0x550e7d<_0x35178f;_0x550e7d++){const _0x32b6ac=[];for(let _0x521dda=0x0;_0x521dda<_0x35178f;_0x521dda++){let _0x20e39c=_0x550e7d===_0x521dda?0x1:0x0;const _0x4aa4c0=_0x3b7353[_0x550e7d],_0x360392=_0x3b7353[_0x521dda],_0x4bb7d9=_0x1515b0['rooms']?_0x1515b0[_0x343a3f(0x8d)][_0x343a3f(0x91)](_0x4aa4c0):-0x1,_0x5c9111=_0x1515b0[_0x343a3f(0x8d)]?_0x1515b0[_0x343a3f(0x8d)][_0x343a3f(0x91)](_0x360392):-0x1;_0x4bb7d9!==-0x1&&_0x5c9111!==-0x1&&_0x1515b0[_0x343a3f(0x72)][_0x4bb7d9]&&_0x1515b0[_0x343a3f(0x72)][_0x4bb7d9][_0x5c9111]!==undefined&&(_0x20e39c=_0x1515b0[_0x343a3f(0x72)][_0x4bb7d9][_0x5c9111]),_0x32b6ac[_0x343a3f(0x6c)](_0x20e39c);}_0x11f34c[_0x343a3f(0x6c)](_0x32b6ac);}const _0x110bbf={'updated':Date['now'](),'nodeCount':_0x35178f,'rooms':_0x3b7353,'matrix':_0x11f34c,'monitored':_0x492f0c};JSON[_0x343a3f(0x75)](_0x110bbf[_0x343a3f(0x8d)])!==JSON[_0x343a3f(0x75)](_0x1515b0[_0x343a3f(0x8d)])||JSON['stringify'](_0x110bbf[_0x343a3f(0x72)])!==JSON['stringify'](_0x1515b0['matrix'])||JSON['stringify'](_0x110bbf['monitored'])!==JSON['stringify'](_0x1515b0[_0x343a3f(0x74)]||[])?(await _0x1908d3[_0x343a3f(0x90)]('analysis.topology.structure',{'val':JSON[_0x343a3f(0x75)](_0x110bbf),'ack':!![]}),_0x1908d3[_0x343a3f(0x71)]['info']('ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20'+_0x35178f+_0x343a3f(0x7a)+_0x492f0c[_0x343a3f(0x8b)]+'\x20Monitored\x20Rooms.'),_0x1908d3[_0x343a3f(0x85)]&&_0x1908d3[_0x343a3f(0x85)](_0x343a3f(0x79),_0x110bbf)):_0x1908d3[_0x343a3f(0x71)][_0x343a3f(0x77)](_0x343a3f(0x93));}module['exports']={'updateTopology':updateTopology};