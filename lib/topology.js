const a9_0x366602=a9_0x33ad;(function(_0x2402a0,_0x164fe1){const _0x59a34b=a9_0x33ad,_0x12df67=_0x2402a0();while(!![]){try{const _0x2d929a=-parseInt(_0x59a34b(0x11e))/0x1+parseInt(_0x59a34b(0x10e))/0x2+-parseInt(_0x59a34b(0x117))/0x3+parseInt(_0x59a34b(0x101))/0x4+-parseInt(_0x59a34b(0x10c))/0x5+-parseInt(_0x59a34b(0xf8))/0x6*(-parseInt(_0x59a34b(0x10f))/0x7)+parseInt(_0x59a34b(0x111))/0x8*(parseInt(_0x59a34b(0x112))/0x9);if(_0x2d929a===_0x164fe1)break;else _0x12df67['push'](_0x12df67['shift']());}catch(_0x3e94fc){_0x12df67['push'](_0x12df67['shift']());}}}(a9_0x140a,0xa6d3f));const a9_0x365ab6=(function(){let _0x420d25=!![];return function(_0x41a92c,_0x39614d){const _0x3dd41a=_0x420d25?function(){const _0x262c70=a9_0x33ad;if(_0x39614d){const _0x16455e=_0x39614d[_0x262c70(0x113)](_0x41a92c,arguments);return _0x39614d=null,_0x16455e;}}:function(){};return _0x420d25=![],_0x3dd41a;};}()),a9_0x25c075=a9_0x365ab6(this,function(){const _0x3d507a=a9_0x33ad;return a9_0x25c075['toString']()[_0x3d507a(0x10a)]('(((.+)+)+)+$')['toString']()['constructor'](a9_0x25c075)['search'](_0x3d507a(0x119));});a9_0x25c075();function a9_0x33ad(_0x4fa203,_0x24dd6f){const _0x6bef41=a9_0x140a();return a9_0x33ad=function(_0x25c075,_0x365ab6){_0x25c075=_0x25c075-0xf7;let _0x140a44=_0x6bef41[_0x25c075];return _0x140a44;},a9_0x33ad(_0x4fa203,_0x24dd6f);}'use strict';function a9_0x140a(){const _0x1e0a60=['matrix','exports','sort','log','toLowerCase','search','SET_TOPOLOGY','942665kHEHmj','\x20Nodes\x20(Display\x20Names\x20restored).','885222ophSNv','28joaFdq','stringify','1318952kkjoBV','18KDcAwo','apply','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','setStateAsync','val','2843328GffYMF','devices','(((.+)+)+)+$','length','analysis.topology.structure','ðŸ•¸ï¸\x20Topology\x20unchanged.','getStateAsync','141497giDGBA','trim','motion','info','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','sendToPythonWrapper','283152FwjyJJ','config','forEach','debug','monitored','type','rooms','bewegung','from','4000064jSpgZR','push','add','location'];a9_0x140a=function(){return _0x1e0a60;};return a9_0x140a();}const setup=require('./setup');async function updateTopology(_0x292066){const _0x256256=a9_0x33ad;_0x292066['log'][_0x256256(0xfb)](_0x256256(0x122));const _0x20758c=_0x292066[_0x256256(0xf9)][_0x256256(0x118)]||[],_0x4f007f=new Set(),_0x4f1b51=new Set();_0x20758c[_0x256256(0xfa)](_0x5a3c9b=>{const _0x57105a=_0x256256;if(_0x5a3c9b[_0x57105a(0x104)]&&_0x5a3c9b['location']['trim']()!==''){const _0x4d8444=_0x5a3c9b[_0x57105a(0x104)][_0x57105a(0x11f)]();_0x4f007f[_0x57105a(0x103)](_0x4d8444),(_0x5a3c9b[_0x57105a(0xfd)]===_0x57105a(0x120)||_0x5a3c9b[_0x57105a(0xfd)]&&_0x5a3c9b['type'][_0x57105a(0x109)]()['includes'](_0x57105a(0xff)))&&_0x4f1b51[_0x57105a(0x103)](_0x4d8444);}});const _0x199b05=Array[_0x256256(0x100)](_0x4f007f)['sort'](),_0x4ec590=Array[_0x256256(0x100)](_0x4f1b51)[_0x256256(0x107)]();if(_0x199b05[_0x256256(0x11a)]===0x0){_0x292066[_0x256256(0x108)][_0x256256(0xfb)](_0x256256(0x114));return;}let _0x503751={'rooms':[],'matrix':[]};try{const _0x5b6800=await _0x292066[_0x256256(0x11d)](_0x256256(0x11b));_0x5b6800&&_0x5b6800[_0x256256(0x116)]&&(_0x503751=JSON['parse'](_0x5b6800[_0x256256(0x116)]));}catch(_0x530749){}const _0x3df687=[],_0x4300f8=_0x199b05['length'];for(let _0x21ff4b=0x0;_0x21ff4b<_0x4300f8;_0x21ff4b++){const _0x45b0d7=[];for(let _0x56d631=0x0;_0x56d631<_0x4300f8;_0x56d631++){let _0x1345a9=_0x21ff4b===_0x56d631?0x1:0x0;const _0x47fb4d=_0x199b05[_0x21ff4b],_0x2d1760=_0x199b05[_0x56d631],_0x163e5d=_0x503751['rooms']?_0x503751[_0x256256(0xfe)]['indexOf'](_0x47fb4d):-0x1,_0x4c6809=_0x503751[_0x256256(0xfe)]?_0x503751[_0x256256(0xfe)]['indexOf'](_0x2d1760):-0x1;_0x163e5d!==-0x1&&_0x4c6809!==-0x1&&_0x503751[_0x256256(0x105)][_0x163e5d]&&_0x503751[_0x256256(0x105)][_0x163e5d][_0x4c6809]!==undefined&&(_0x1345a9=_0x503751['matrix'][_0x163e5d][_0x4c6809]),_0x45b0d7[_0x256256(0x102)](_0x1345a9);}_0x3df687[_0x256256(0x102)](_0x45b0d7);}const _0x128076={'updated':Date['now'](),'nodeCount':_0x4300f8,'rooms':_0x199b05,'matrix':_0x3df687,'monitored':_0x4ec590};JSON[_0x256256(0x110)](_0x128076[_0x256256(0xfe)])!==JSON['stringify'](_0x503751['rooms'])||JSON[_0x256256(0x110)](_0x128076[_0x256256(0x105)])!==JSON[_0x256256(0x110)](_0x503751[_0x256256(0x105)])||JSON[_0x256256(0x110)](_0x128076[_0x256256(0xfc)])!==JSON[_0x256256(0x110)](_0x503751[_0x256256(0xfc)]||[])?(await _0x292066[_0x256256(0x115)](_0x256256(0x11b),{'val':JSON[_0x256256(0x110)](_0x128076),'ack':!![]}),_0x292066['log'][_0x256256(0x121)]('ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20'+_0x4300f8+_0x256256(0x10d)),_0x292066['sendToPythonWrapper']&&_0x292066[_0x256256(0xf7)](_0x256256(0x10b),_0x128076)):_0x292066[_0x256256(0x108)][_0x256256(0xfb)](_0x256256(0x11c));}module[a9_0x366602(0x106)]={'updateTopology':updateTopology};