const a9_0x4c9519=a9_0x5f6b;function a9_0x3297(){const _0x2c766e=['info','toString','log','stringify','devices','config','type','location','./setup','1184xYpunm','1142050OhHXrD','apply','bewegung','(((.+)+)+)+$','length','val','includes','from','add','rooms','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','5353120kCyTPv','8687070SKblhW','582ZVzyMK','forEach','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','matrix','toLowerCase','debug','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','trim','\x20Nodes\x20(Display\x20Names\x20restored).','motion','analysis.topology.structure','exports','sort','search','monitored','274437uQFgbe','SET_TOPOLOGY','sendToPythonWrapper','2104nIriwP','4090809yVVujF','7472865BcBfmP','constructor','push','parse','ðŸ•¸ï¸\x20Topology\x20unchanged.','indexOf'];a9_0x3297=function(){return _0x2c766e;};return a9_0x3297();}function a9_0x5f6b(_0x52bba,_0x44dc1e){const _0x4d5c0b=a9_0x3297();return a9_0x5f6b=function(_0x4cdcf0,_0x1c1024){_0x4cdcf0=_0x4cdcf0-0x1c9;let _0x329711=_0x4d5c0b[_0x4cdcf0];return _0x329711;},a9_0x5f6b(_0x52bba,_0x44dc1e);}(function(_0xcf6659,_0x2b52b7){const _0xb1957b=a9_0x5f6b,_0x27e12d=_0xcf6659();while(!![]){try{const _0x556adf=-parseInt(_0xb1957b(0x1d4))/0x1*(parseInt(_0xb1957b(0x1e6))/0x2)+parseInt(_0xb1957b(0x1e7))/0x3+-parseInt(_0xb1957b(0x1d2))/0x4+-parseInt(_0xb1957b(0x1e8))/0x5+-parseInt(_0xb1957b(0x1d3))/0x6+-parseInt(_0xb1957b(0x1f8))/0x7+-parseInt(_0xb1957b(0x1f7))/0x8*(-parseInt(_0xb1957b(0x1e3))/0x9);if(_0x556adf===_0x2b52b7)break;else _0x27e12d['push'](_0x27e12d['shift']());}catch(_0x4264ec){_0x27e12d['push'](_0x27e12d['shift']());}}}(a9_0x3297,0xc84e7));const a9_0x1c1024=(function(){let _0x155288=!![];return function(_0x209f3a,_0x3ab0a8){const _0x2c3b9a=_0x155288?function(){const _0x42bbee=a9_0x5f6b;if(_0x3ab0a8){const _0x537dda=_0x3ab0a8[_0x42bbee(0x1f9)](_0x209f3a,arguments);return _0x3ab0a8=null,_0x537dda;}}:function(){};return _0x155288=![],_0x2c3b9a;};}()),a9_0x4cdcf0=a9_0x1c1024(this,function(){const _0x5965e6=a9_0x5f6b;return a9_0x4cdcf0['toString']()[_0x5965e6(0x1e1)](_0x5965e6(0x1ca))[_0x5965e6(0x1ef)]()[_0x5965e6(0x1e9)](a9_0x4cdcf0)[_0x5965e6(0x1e1)]('(((.+)+)+)+$');});a9_0x4cdcf0();'use strict';const setup=require(a9_0x4c9519(0x1f6));async function updateTopology(_0x4cadea){const _0x2f704b=a9_0x4c9519;_0x4cadea[_0x2f704b(0x1f0)][_0x2f704b(0x1d9)](_0x2f704b(0x1da));const _0x245cde=_0x4cadea[_0x2f704b(0x1f3)][_0x2f704b(0x1f2)]||[],_0x1f8f76=new Set(),_0x4bb7b0=new Set();_0x245cde[_0x2f704b(0x1d5)](_0x30fb88=>{const _0x5959e3=_0x2f704b;if(_0x30fb88[_0x5959e3(0x1f5)]&&_0x30fb88[_0x5959e3(0x1f5)][_0x5959e3(0x1db)]()!==''){const _0x37a677=_0x30fb88[_0x5959e3(0x1f5)][_0x5959e3(0x1db)]();_0x1f8f76[_0x5959e3(0x1cf)](_0x37a677),(_0x30fb88['type']===_0x5959e3(0x1dd)||_0x30fb88['type']&&_0x30fb88[_0x5959e3(0x1f4)][_0x5959e3(0x1d8)]()[_0x5959e3(0x1cd)](_0x5959e3(0x1c9)))&&_0x4bb7b0[_0x5959e3(0x1cf)](_0x37a677);}});const _0x552347=Array[_0x2f704b(0x1ce)](_0x1f8f76)[_0x2f704b(0x1e0)](),_0x2d51eb=Array[_0x2f704b(0x1ce)](_0x4bb7b0)['sort']();if(_0x552347[_0x2f704b(0x1cb)]===0x0){_0x4cadea[_0x2f704b(0x1f0)]['debug'](_0x2f704b(0x1d1));return;}let _0x2a996e={'rooms':[],'matrix':[]};try{const _0x55aea8=await _0x4cadea['getStateAsync']('analysis.topology.structure');_0x55aea8&&_0x55aea8[_0x2f704b(0x1cc)]&&(_0x2a996e=JSON[_0x2f704b(0x1eb)](_0x55aea8[_0x2f704b(0x1cc)]));}catch(_0x433c50){}const _0xcb3f6=[],_0x4cb40d=_0x552347['length'];for(let _0xaed62c=0x0;_0xaed62c<_0x4cb40d;_0xaed62c++){const _0x1099a4=[];for(let _0xd70630=0x0;_0xd70630<_0x4cb40d;_0xd70630++){let _0x4b8f4e=_0xaed62c===_0xd70630?0x1:0x0;const _0x2db035=_0x552347[_0xaed62c],_0x202405=_0x552347[_0xd70630],_0x56637f=_0x2a996e[_0x2f704b(0x1d0)]?_0x2a996e[_0x2f704b(0x1d0)][_0x2f704b(0x1ed)](_0x2db035):-0x1,_0x5b329e=_0x2a996e[_0x2f704b(0x1d0)]?_0x2a996e[_0x2f704b(0x1d0)][_0x2f704b(0x1ed)](_0x202405):-0x1;_0x56637f!==-0x1&&_0x5b329e!==-0x1&&_0x2a996e[_0x2f704b(0x1d7)][_0x56637f]&&_0x2a996e['matrix'][_0x56637f][_0x5b329e]!==undefined&&(_0x4b8f4e=_0x2a996e['matrix'][_0x56637f][_0x5b329e]),_0x1099a4['push'](_0x4b8f4e);}_0xcb3f6[_0x2f704b(0x1ea)](_0x1099a4);}const _0x413dd5={'updated':Date['now'](),'nodeCount':_0x4cb40d,'rooms':_0x552347,'matrix':_0xcb3f6,'monitored':_0x2d51eb};JSON['stringify'](_0x413dd5[_0x2f704b(0x1d0)])!==JSON[_0x2f704b(0x1f1)](_0x2a996e[_0x2f704b(0x1d0)])||JSON[_0x2f704b(0x1f1)](_0x413dd5[_0x2f704b(0x1d7)])!==JSON[_0x2f704b(0x1f1)](_0x2a996e['matrix'])||JSON[_0x2f704b(0x1f1)](_0x413dd5[_0x2f704b(0x1e2)])!==JSON[_0x2f704b(0x1f1)](_0x2a996e[_0x2f704b(0x1e2)]||[])?(await _0x4cadea['setStateAsync'](_0x2f704b(0x1de),{'val':JSON['stringify'](_0x413dd5),'ack':!![]}),_0x4cadea[_0x2f704b(0x1f0)][_0x2f704b(0x1ee)](_0x2f704b(0x1d6)+_0x4cb40d+_0x2f704b(0x1dc)),_0x4cadea[_0x2f704b(0x1e5)]&&_0x4cadea[_0x2f704b(0x1e5)](_0x2f704b(0x1e4),_0x413dd5)):_0x4cadea[_0x2f704b(0x1f0)]['debug'](_0x2f704b(0x1ec));}module[a9_0x4c9519(0x1df)]={'updateTopology':updateTopology};