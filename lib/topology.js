const a9_0x4d0c72=a9_0x5757;(function(_0x3c91c8,_0x66b551){const _0xd08730=a9_0x5757,_0x2b6d21=_0x3c91c8();while(!![]){try{const _0x4fd6c0=parseInt(_0xd08730(0x1d9))/0x1+parseInt(_0xd08730(0x1ff))/0x2*(-parseInt(_0xd08730(0x1f0))/0x3)+-parseInt(_0xd08730(0x1f5))/0x4+-parseInt(_0xd08730(0x1ec))/0x5*(parseInt(_0xd08730(0x204))/0x6)+-parseInt(_0xd08730(0x1e8))/0x7*(-parseInt(_0xd08730(0x1e2))/0x8)+parseInt(_0xd08730(0x1fc))/0x9*(parseInt(_0xd08730(0x1e4))/0xa)+parseInt(_0xd08730(0x1da))/0xb;if(_0x4fd6c0===_0x66b551)break;else _0x2b6d21['push'](_0x2b6d21['shift']());}catch(_0x10ffa9){_0x2b6d21['push'](_0x2b6d21['shift']());}}}(a9_0x2c3d,0x3d1a3));const a9_0x167a0b=(function(){let _0x25752b=!![];return function(_0x2edaee,_0x52ab46){const _0x38dfc4=_0x25752b?function(){const _0x378388=a9_0x5757;if(_0x52ab46){const _0x20548f=_0x52ab46[_0x378388(0x1dd)](_0x2edaee,arguments);return _0x52ab46=null,_0x20548f;}}:function(){};return _0x25752b=![],_0x38dfc4;};}()),a9_0x1aae3c=a9_0x167a0b(this,function(){const _0x10acb2=a9_0x5757;return a9_0x1aae3c[_0x10acb2(0x202)]()[_0x10acb2(0x1fe)]('(((.+)+)+)+$')[_0x10acb2(0x202)]()[_0x10acb2(0x1f1)](a9_0x1aae3c)[_0x10acb2(0x1fe)](_0x10acb2(0x1eb));});a9_0x1aae3c();'use strict';function a9_0x5757(_0x120379,_0x567cb6){const _0x2fdae5=a9_0x2c3d();return a9_0x5757=function(_0x1aae3c,_0x167a0b){_0x1aae3c=_0x1aae3c-0x1d9;let _0x2c3d65=_0x2fdae5[_0x1aae3c];return _0x2c3d65;},a9_0x5757(_0x120379,_0x567cb6);}const setup=require('./setup');function a9_0x2c3d(){const _0x7a0004=['rooms','parse','45963KoOpoT','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','search','27102AZpvhk','sendToPythonWrapper','analysis.topology.structure','toString','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','449238jbclbL','setStateAsync','447438YRtCRo','1185382cFigvJ','toLowerCase','trim','apply','exports','val','log','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','1632hbZugB','includes','710ChjWqg','push','stringify','info','6342UmfGFL','monitored','length','(((.+)+)+)+$','30pxRMxZ','forEach','matrix','now','3lsJPIc','constructor','SET_TOPOLOGY','type','debug','1558228uRQJgH','from','location','sort','indexOf'];a9_0x2c3d=function(){return _0x7a0004;};return a9_0x2c3d();}async function updateTopology(_0x21aca7){const _0x2c9f63=a9_0x5757;_0x21aca7['log'][_0x2c9f63(0x1f4)](_0x2c9f63(0x1fd));const _0x263f1b=_0x21aca7['config']['devices']||[],_0x59861=new Set(),_0x5ddc3f=new Set();_0x263f1b[_0x2c9f63(0x1ed)](_0x4d5cf0=>{const _0xaf93c2=_0x2c9f63;if(_0x4d5cf0[_0xaf93c2(0x1f7)]&&_0x4d5cf0[_0xaf93c2(0x1f7)][_0xaf93c2(0x1dc)]()!==''){const _0x4cc893=_0x4d5cf0['location'][_0xaf93c2(0x1dc)]();_0x59861['add'](_0x4cc893),(_0x4d5cf0[_0xaf93c2(0x1f3)]==='motion'||_0x4d5cf0['type']&&_0x4d5cf0[_0xaf93c2(0x1f3)][_0xaf93c2(0x1db)]()[_0xaf93c2(0x1e3)]('bewegung'))&&_0x5ddc3f['add'](_0x4cc893);}});const _0xc3ede2=Array[_0x2c9f63(0x1f6)](_0x59861)[_0x2c9f63(0x1f8)](),_0x48180f=Array['from'](_0x5ddc3f)[_0x2c9f63(0x1f8)]();if(_0xc3ede2[_0x2c9f63(0x1ea)]===0x0){_0x21aca7[_0x2c9f63(0x1e0)][_0x2c9f63(0x1f4)](_0x2c9f63(0x203));return;}let _0x70eddb={'rooms':[],'matrix':[]};try{const _0x85dd0e=await _0x21aca7['getStateAsync'](_0x2c9f63(0x201));_0x85dd0e&&_0x85dd0e[_0x2c9f63(0x1df)]&&(_0x70eddb=JSON[_0x2c9f63(0x1fb)](_0x85dd0e[_0x2c9f63(0x1df)]));}catch(_0x3de792){}const _0x56ef0e=[],_0x4afc44=_0xc3ede2['length'];for(let _0x3d709e=0x0;_0x3d709e<_0x4afc44;_0x3d709e++){const _0xf318ac=[];for(let _0x571cc8=0x0;_0x571cc8<_0x4afc44;_0x571cc8++){let _0x12c43b=_0x3d709e===_0x571cc8?0x1:0x0;const _0xf4c6a9=_0xc3ede2[_0x3d709e],_0xf04a27=_0xc3ede2[_0x571cc8],_0x102481=_0x70eddb[_0x2c9f63(0x1fa)]?_0x70eddb[_0x2c9f63(0x1fa)][_0x2c9f63(0x1f9)](_0xf4c6a9):-0x1,_0x56dce0=_0x70eddb[_0x2c9f63(0x1fa)]?_0x70eddb[_0x2c9f63(0x1fa)][_0x2c9f63(0x1f9)](_0xf04a27):-0x1;_0x102481!==-0x1&&_0x56dce0!==-0x1&&_0x70eddb[_0x2c9f63(0x1ee)][_0x102481]&&_0x70eddb[_0x2c9f63(0x1ee)][_0x102481][_0x56dce0]!==undefined&&(_0x12c43b=_0x70eddb[_0x2c9f63(0x1ee)][_0x102481][_0x56dce0]),_0xf318ac[_0x2c9f63(0x1e5)](_0x12c43b);}_0x56ef0e[_0x2c9f63(0x1e5)](_0xf318ac);}const _0x5715bf={'updated':Date[_0x2c9f63(0x1ef)](),'nodeCount':_0x4afc44,'rooms':_0xc3ede2,'matrix':_0x56ef0e,'monitored':_0x48180f};JSON[_0x2c9f63(0x1e6)](_0x5715bf['rooms'])!==JSON[_0x2c9f63(0x1e6)](_0x70eddb[_0x2c9f63(0x1fa)])||JSON[_0x2c9f63(0x1e6)](_0x5715bf[_0x2c9f63(0x1ee)])!==JSON[_0x2c9f63(0x1e6)](_0x70eddb[_0x2c9f63(0x1ee)])||JSON['stringify'](_0x5715bf[_0x2c9f63(0x1e9)])!==JSON[_0x2c9f63(0x1e6)](_0x70eddb[_0x2c9f63(0x1e9)]||[])?(await _0x21aca7[_0x2c9f63(0x205)](_0x2c9f63(0x201),{'val':JSON[_0x2c9f63(0x1e6)](_0x5715bf),'ack':!![]}),_0x21aca7[_0x2c9f63(0x1e0)][_0x2c9f63(0x1e7)](_0x2c9f63(0x1e1)+_0x4afc44+'\x20Nodes\x20(Display\x20Names\x20restored).'),_0x21aca7[_0x2c9f63(0x200)]&&_0x21aca7['sendToPythonWrapper'](_0x2c9f63(0x1f2),_0x5715bf)):_0x21aca7[_0x2c9f63(0x1e0)]['debug']('ðŸ•¸ï¸\x20Topology\x20unchanged.');}module[a9_0x4d0c72(0x1de)]={'updateTopology':updateTopology};