const a9_0xcff743=a9_0x2178;(function(_0x138c44,_0x21fb58){const _0x3466d=a9_0x2178,_0x558911=_0x138c44();while(!![]){try{const _0xcac471=-parseInt(_0x3466d(0x150))/0x1+parseInt(_0x3466d(0x13f))/0x2*(parseInt(_0x3466d(0x15b))/0x3)+-parseInt(_0x3466d(0x13c))/0x4+-parseInt(_0x3466d(0x14f))/0x5*(-parseInt(_0x3466d(0x14d))/0x6)+parseInt(_0x3466d(0x137))/0x7*(parseInt(_0x3466d(0x13e))/0x8)+-parseInt(_0x3466d(0x13b))/0x9+-parseInt(_0x3466d(0x158))/0xa*(-parseInt(_0x3466d(0x153))/0xb);if(_0xcac471===_0x21fb58)break;else _0x558911['push'](_0x558911['shift']());}catch(_0x1912eb){_0x558911['push'](_0x558911['shift']());}}}(a9_0x1165,0xaf387));const a9_0x2a3d0d=(function(){let _0x2100c8=!![];return function(_0x249a04,_0x46b212){const _0x356f0d=_0x2100c8?function(){if(_0x46b212){const _0x1482c3=_0x46b212['apply'](_0x249a04,arguments);return _0x46b212=null,_0x1482c3;}}:function(){};return _0x2100c8=![],_0x356f0d;};}()),a9_0x308bc1=a9_0x2a3d0d(this,function(){const _0x15c7a7=a9_0x2178;return a9_0x308bc1[_0x15c7a7(0x143)]()[_0x15c7a7(0x142)](_0x15c7a7(0x146))[_0x15c7a7(0x143)]()[_0x15c7a7(0x145)](a9_0x308bc1)[_0x15c7a7(0x142)](_0x15c7a7(0x146));});a9_0x308bc1();'use strict';function a9_0x2178(_0x58f54a,_0xfac021){const _0xf9d803=a9_0x1165();return a9_0x2178=function(_0x308bc1,_0x2a3d0d){_0x308bc1=_0x308bc1-0x136;let _0x116598=_0xf9d803[_0x308bc1];return _0x116598;},a9_0x2178(_0x58f54a,_0xfac021);}const setup=require(a9_0xcff743(0x155));function a9_0x1165(){const _0x222738=['ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','location','9535212hgzNpk','5375688ZWakMw','val','2440AJxBzB','2728730VRRABQ','type','sendToPythonWrapper','search','toString','ðŸ•¸ï¸\x20Topology\x20unchanged.','constructor','(((.+)+)+)+$','matrix','sort','rooms','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','analysis.topology.structure','indexOf','42lfzrii','includes','591205bZeavr','1118854eoQocO','monitored','parse','3027827EltpCJ','SET_TOPOLOGY','./setup','from','trim','50MbmkHj','\x20Nodes\x20(Display\x20Names\x20restored).','now','3ZKRVfU','add','config','push','length','stringify','debug','forEach','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','15414nViaNm','log'];a9_0x1165=function(){return _0x222738;};return a9_0x1165();}async function updateTopology(_0x4fffda){const _0x1d4fb0=a9_0xcff743;_0x4fffda[_0x1d4fb0(0x138)][_0x1d4fb0(0x161)](_0x1d4fb0(0x14a));const _0x5d13f3=_0x4fffda[_0x1d4fb0(0x15d)]['devices']||[],_0x254800=new Set(),_0x39e6f9=new Set();_0x5d13f3[_0x1d4fb0(0x162)](_0x45c6da=>{const _0x44bf58=_0x1d4fb0;if(_0x45c6da[_0x44bf58(0x13a)]&&_0x45c6da[_0x44bf58(0x13a)]['trim']()!==''){const _0x388f9f=_0x45c6da[_0x44bf58(0x13a)][_0x44bf58(0x157)]();_0x254800['add'](_0x388f9f),(_0x45c6da[_0x44bf58(0x140)]==='motion'||_0x45c6da[_0x44bf58(0x140)]&&_0x45c6da[_0x44bf58(0x140)]['toLowerCase']()[_0x44bf58(0x14e)]('bewegung'))&&_0x39e6f9[_0x44bf58(0x15c)](_0x388f9f);}});const _0x4ff4a6=Array['from'](_0x254800)[_0x1d4fb0(0x148)](),_0x31cff1=Array[_0x1d4fb0(0x156)](_0x39e6f9)['sort']();if(_0x4ff4a6['length']===0x0){_0x4fffda[_0x1d4fb0(0x138)][_0x1d4fb0(0x161)](_0x1d4fb0(0x136));return;}let _0x4cbc7a={'rooms':[],'matrix':[]};try{const _0x333800=await _0x4fffda['getStateAsync']('analysis.topology.structure');_0x333800&&_0x333800['val']&&(_0x4cbc7a=JSON[_0x1d4fb0(0x152)](_0x333800[_0x1d4fb0(0x13d)]));}catch(_0x429363){}const _0x32f6c0=[],_0xed3edb=_0x4ff4a6[_0x1d4fb0(0x15f)];for(let _0x3b3ec2=0x0;_0x3b3ec2<_0xed3edb;_0x3b3ec2++){const _0x490518=[];for(let _0xf7b82f=0x0;_0xf7b82f<_0xed3edb;_0xf7b82f++){let _0x3953a5=_0x3b3ec2===_0xf7b82f?0x1:0x0;const _0x38a828=_0x4ff4a6[_0x3b3ec2],_0x4fcecd=_0x4ff4a6[_0xf7b82f],_0x5c488e=_0x4cbc7a[_0x1d4fb0(0x149)]?_0x4cbc7a['rooms']['indexOf'](_0x38a828):-0x1,_0x5378d8=_0x4cbc7a['rooms']?_0x4cbc7a[_0x1d4fb0(0x149)][_0x1d4fb0(0x14c)](_0x4fcecd):-0x1;_0x5c488e!==-0x1&&_0x5378d8!==-0x1&&_0x4cbc7a['matrix'][_0x5c488e]&&_0x4cbc7a[_0x1d4fb0(0x147)][_0x5c488e][_0x5378d8]!==undefined&&(_0x3953a5=_0x4cbc7a['matrix'][_0x5c488e][_0x5378d8]),_0x490518[_0x1d4fb0(0x15e)](_0x3953a5);}_0x32f6c0[_0x1d4fb0(0x15e)](_0x490518);}const _0x442237={'updated':Date[_0x1d4fb0(0x15a)](),'nodeCount':_0xed3edb,'rooms':_0x4ff4a6,'matrix':_0x32f6c0,'monitored':_0x31cff1};JSON[_0x1d4fb0(0x160)](_0x442237[_0x1d4fb0(0x149)])!==JSON['stringify'](_0x4cbc7a[_0x1d4fb0(0x149)])||JSON['stringify'](_0x442237[_0x1d4fb0(0x147)])!==JSON[_0x1d4fb0(0x160)](_0x4cbc7a[_0x1d4fb0(0x147)])||JSON[_0x1d4fb0(0x160)](_0x442237[_0x1d4fb0(0x151)])!==JSON[_0x1d4fb0(0x160)](_0x4cbc7a['monitored']||[])?(await _0x4fffda['setStateAsync'](_0x1d4fb0(0x14b),{'val':JSON[_0x1d4fb0(0x160)](_0x442237),'ack':!![]}),_0x4fffda[_0x1d4fb0(0x138)]['info'](_0x1d4fb0(0x139)+_0xed3edb+_0x1d4fb0(0x159)),_0x4fffda['sendToPythonWrapper']&&_0x4fffda[_0x1d4fb0(0x141)](_0x1d4fb0(0x154),_0x442237)):_0x4fffda['log'][_0x1d4fb0(0x161)](_0x1d4fb0(0x144));}module['exports']={'updateTopology':updateTopology};