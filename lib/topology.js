const a9_0x348dce=a9_0x1aa1;function a9_0x99d2(){const _0x365f77=['99173yvrGqv','constructor','3lLFMMu','search','motion','5489KaPrbb','sendToPythonWrapper','(((.+)+)+)+$','stringify','location','length','toString','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','9860jvHpqE','val','toLowerCase','setStateAsync','18mNBeYH','26FIoNPJ','rooms','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','add','monitored','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','3086530KmPJaU','type','forEach','apply','exports','now','includes','analysis.topology.structure','11911952QzNKNv','sort','SET_TOPOLOGY','push','1530grHznn','112836SzmkJY','log','trim','debug','config','1974436NaSjdH','\x20Nodes,\x20','ðŸ•¸ï¸\x20Topology\x20unchanged.','indexOf','parse','from','matrix','5504632zzfirl'];a9_0x99d2=function(){return _0x365f77;};return a9_0x99d2();}(function(_0x26b392,_0x525366){const _0x5496de=a9_0x1aa1,_0x34386c=_0x26b392();while(!![]){try{const _0x33e215=parseInt(_0x5496de(0x126))/0x1*(-parseInt(_0x5496de(0x106))/0x2)+-parseInt(_0x5496de(0x128))/0x3*(parseInt(_0x5496de(0x11e))/0x4)+-parseInt(_0x5496de(0x101))/0x5*(parseInt(_0x5496de(0x118))/0x6)+-parseInt(_0x5496de(0x125))/0x7+-parseInt(_0x5496de(0x114))/0x8+parseInt(_0x5496de(0x105))/0x9*(parseInt(_0x5496de(0x10c))/0xa)+-parseInt(_0x5496de(0x12b))/0xb*(-parseInt(_0x5496de(0x119))/0xc);if(_0x33e215===_0x525366)break;else _0x34386c['push'](_0x34386c['shift']());}catch(_0x99ddaf){_0x34386c['push'](_0x34386c['shift']());}}}(a9_0x99d2,0xb6b1b));function a9_0x1aa1(_0x1c2547,_0x562cd6){const _0x468c30=a9_0x99d2();return a9_0x1aa1=function(_0x508b5c,_0x35d2e2){_0x508b5c=_0x508b5c-0x101;let _0x99d2fd=_0x468c30[_0x508b5c];return _0x99d2fd;},a9_0x1aa1(_0x1c2547,_0x562cd6);}const a9_0x35d2e2=(function(){let _0x591605=!![];return function(_0x493aae,_0x25d483){const _0x56ea1c=_0x591605?function(){const _0x794fba=a9_0x1aa1;if(_0x25d483){const _0x561559=_0x25d483[_0x794fba(0x10f)](_0x493aae,arguments);return _0x25d483=null,_0x561559;}}:function(){};return _0x591605=![],_0x56ea1c;};}()),a9_0x508b5c=a9_0x35d2e2(this,function(){const _0xed6c4d=a9_0x1aa1;return a9_0x508b5c[_0xed6c4d(0x131)]()[_0xed6c4d(0x129)](_0xed6c4d(0x12d))[_0xed6c4d(0x131)]()[_0xed6c4d(0x127)](a9_0x508b5c)[_0xed6c4d(0x129)](_0xed6c4d(0x12d));});a9_0x508b5c();'use strict';async function updateTopology(_0x528576){const _0x561101=a9_0x1aa1;_0x528576[_0x561101(0x11a)][_0x561101(0x11c)](_0x561101(0x132));const _0x34cdba=_0x528576[_0x561101(0x11d)]['devices']||[],_0x1f58a1=new Set(),_0x5299b1=new Set();_0x34cdba[_0x561101(0x10e)](_0x278745=>{const _0x568614=_0x561101;if(_0x278745[_0x568614(0x12f)]&&_0x278745[_0x568614(0x12f)]['trim']()!==''){const _0x407439=_0x278745[_0x568614(0x12f)][_0x568614(0x11b)]();_0x1f58a1[_0x568614(0x109)](_0x407439),(_0x278745[_0x568614(0x10d)]===_0x568614(0x12a)||_0x278745[_0x568614(0x10d)]&&_0x278745[_0x568614(0x10d)][_0x568614(0x103)]()[_0x568614(0x112)]('bewegung'))&&_0x5299b1['add'](_0x407439);}});const _0x2f46dd=Array[_0x561101(0x123)](_0x1f58a1)[_0x561101(0x115)](),_0x20b7af=Array['from'](_0x5299b1)[_0x561101(0x115)]();if(_0x2f46dd[_0x561101(0x130)]===0x0){_0x528576[_0x561101(0x11a)]['debug'](_0x561101(0x10b));return;}let _0x234f84={'rooms':[],'matrix':[]};try{const _0x5cae20=await _0x528576['getStateAsync']('analysis.topology.structure');_0x5cae20&&_0x5cae20[_0x561101(0x102)]&&(_0x234f84=JSON[_0x561101(0x122)](_0x5cae20[_0x561101(0x102)]));}catch(_0x1add39){}const _0x3578ab=[],_0x5673b6=_0x2f46dd['length'];for(let _0x407036=0x0;_0x407036<_0x5673b6;_0x407036++){const _0x30389c=[];for(let _0x329244=0x0;_0x329244<_0x5673b6;_0x329244++){let _0x42ec9b=_0x407036===_0x329244?0x1:0x0;const _0x261359=_0x2f46dd[_0x407036],_0x457fa4=_0x2f46dd[_0x329244],_0xffa565=_0x234f84[_0x561101(0x107)]?_0x234f84[_0x561101(0x107)][_0x561101(0x121)](_0x261359):-0x1,_0x125efc=_0x234f84[_0x561101(0x107)]?_0x234f84[_0x561101(0x107)][_0x561101(0x121)](_0x457fa4):-0x1;_0xffa565!==-0x1&&_0x125efc!==-0x1&&_0x234f84[_0x561101(0x124)][_0xffa565]&&_0x234f84['matrix'][_0xffa565][_0x125efc]!==undefined&&(_0x42ec9b=_0x234f84[_0x561101(0x124)][_0xffa565][_0x125efc]),_0x30389c[_0x561101(0x117)](_0x42ec9b);}_0x3578ab['push'](_0x30389c);}const _0x4aa673={'updated':Date[_0x561101(0x111)](),'nodeCount':_0x5673b6,'rooms':_0x2f46dd,'matrix':_0x3578ab,'monitored':_0x20b7af};JSON['stringify'](_0x4aa673[_0x561101(0x107)])!==JSON[_0x561101(0x12e)](_0x234f84['rooms'])||JSON[_0x561101(0x12e)](_0x4aa673[_0x561101(0x124)])!==JSON['stringify'](_0x234f84[_0x561101(0x124)])||JSON[_0x561101(0x12e)](_0x4aa673['monitored'])!==JSON[_0x561101(0x12e)](_0x234f84[_0x561101(0x10a)]||[])?(await _0x528576[_0x561101(0x104)](_0x561101(0x113),{'val':JSON[_0x561101(0x12e)](_0x4aa673),'ack':!![]}),_0x528576[_0x561101(0x11a)]['info'](_0x561101(0x108)+_0x5673b6+_0x561101(0x11f)+_0x20b7af[_0x561101(0x130)]+'\x20Monitored\x20Rooms.'),_0x528576[_0x561101(0x12c)]&&_0x528576[_0x561101(0x12c)](_0x561101(0x116),_0x4aa673)):_0x528576[_0x561101(0x11a)][_0x561101(0x11c)](_0x561101(0x120));}module[a9_0x348dce(0x110)]={'updateTopology':updateTopology};