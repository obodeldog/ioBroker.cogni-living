const a9_0x15dd39=a9_0x1c90;function a9_0x1c90(_0x2bbb55,_0x6847f3){const _0x4c1b0d=a9_0x1590();return a9_0x1c90=function(_0x3f1004,_0x21095e){_0x3f1004=_0x3f1004-0x112;let _0x15903b=_0x4c1b0d[_0x3f1004];return _0x15903b;},a9_0x1c90(_0x2bbb55,_0x6847f3);}(function(_0x552a38,_0xa7c951){const _0x2032fb=a9_0x1c90,_0x3e2781=_0x552a38();while(!![]){try{const _0x36ecb0=-parseInt(_0x2032fb(0x117))/0x1*(parseInt(_0x2032fb(0x131))/0x2)+-parseInt(_0x2032fb(0x139))/0x3+parseInt(_0x2032fb(0x13d))/0x4+parseInt(_0x2032fb(0x13b))/0x5+parseInt(_0x2032fb(0x125))/0x6+-parseInt(_0x2032fb(0x11e))/0x7+-parseInt(_0x2032fb(0x132))/0x8*(-parseInt(_0x2032fb(0x115))/0x9);if(_0x36ecb0===_0xa7c951)break;else _0x3e2781['push'](_0x3e2781['shift']());}catch(_0x5e9db5){_0x3e2781['push'](_0x3e2781['shift']());}}}(a9_0x1590,0x79cac));function a9_0x1590(){const _0xe58b71=['val','devices','now','includes','(((.+)+)+)+$','indexOf','155529FgZTTo','add','245519vGZfPR','forEach','log','info','from','rooms','constructor','1259825zsSeDH','config','toLowerCase','./setup','monitored','setStateAsync','analysis.topology.structure','3424860GvzRjZ','\x20Nodes\x20(Display\x20Names\x20restored).','exports','getStateAsync','push','search','trim','motion','parse','apply','bewegung','type','6Cnoouz','104GjOfvF','sort','üï∏Ô∏è\x20Topology\x20unchanged.','location','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','sendToPythonWrapper','matrix','736560yaJyCQ','toString','1325250AyxDYa','stringify','2401596XsxqAB','debug'];a9_0x1590=function(){return _0xe58b71;};return a9_0x1590();}const a9_0x21095e=(function(){let _0x4c67a5=!![];return function(_0x3279ed,_0x59b229){const _0x4fd7e4=_0x4c67a5?function(){const _0x20b72b=a9_0x1c90;if(_0x59b229){const _0x466d6f=_0x59b229[_0x20b72b(0x12e)](_0x3279ed,arguments);return _0x59b229=null,_0x466d6f;}}:function(){};return _0x4c67a5=![],_0x4fd7e4;};}()),a9_0x3f1004=a9_0x21095e(this,function(){const _0x47d9c6=a9_0x1c90;return a9_0x3f1004[_0x47d9c6(0x13a)]()[_0x47d9c6(0x12a)]('(((.+)+)+)+$')[_0x47d9c6(0x13a)]()[_0x47d9c6(0x11d)](a9_0x3f1004)[_0x47d9c6(0x12a)](_0x47d9c6(0x113));});a9_0x3f1004();'use strict';const setup=require(a9_0x15dd39(0x121));async function updateTopology(_0x384bbb){const _0x18aaf3=a9_0x15dd39;_0x384bbb['log'][_0x18aaf3(0x13e)](_0x18aaf3(0x136));const _0x1c0c39=_0x384bbb[_0x18aaf3(0x11f)][_0x18aaf3(0x140)]||[],_0x3e803b=new Set(),_0x193402=new Set();_0x1c0c39[_0x18aaf3(0x118)](_0x2876f6=>{const _0x3f3588=_0x18aaf3;if(_0x2876f6[_0x3f3588(0x135)]&&_0x2876f6[_0x3f3588(0x135)][_0x3f3588(0x12b)]()!==''){const _0x243535=_0x2876f6['location'][_0x3f3588(0x12b)]();_0x3e803b[_0x3f3588(0x116)](_0x243535),(_0x2876f6[_0x3f3588(0x130)]===_0x3f3588(0x12c)||_0x2876f6[_0x3f3588(0x130)]&&_0x2876f6['type'][_0x3f3588(0x120)]()[_0x3f3588(0x112)](_0x3f3588(0x12f)))&&_0x193402['add'](_0x243535);}});const _0x644a4=Array[_0x18aaf3(0x11b)](_0x3e803b)['sort'](),_0x5bcbfb=Array[_0x18aaf3(0x11b)](_0x193402)[_0x18aaf3(0x133)]();if(_0x644a4['length']===0x0){_0x384bbb[_0x18aaf3(0x119)][_0x18aaf3(0x13e)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x316803={'rooms':[],'matrix':[]};try{const _0x49d4b0=await _0x384bbb[_0x18aaf3(0x128)](_0x18aaf3(0x124));_0x49d4b0&&_0x49d4b0[_0x18aaf3(0x13f)]&&(_0x316803=JSON[_0x18aaf3(0x12d)](_0x49d4b0[_0x18aaf3(0x13f)]));}catch(_0x3f1d55){}const _0x7d3f0b=[],_0x4e07af=_0x644a4['length'];for(let _0x12104c=0x0;_0x12104c<_0x4e07af;_0x12104c++){const _0x3d1d0b=[];for(let _0x1317e3=0x0;_0x1317e3<_0x4e07af;_0x1317e3++){let _0x2ee1f8=_0x12104c===_0x1317e3?0x1:0x0;const _0x176ad6=_0x644a4[_0x12104c],_0x3608d5=_0x644a4[_0x1317e3],_0xe8d27c=_0x316803[_0x18aaf3(0x11c)]?_0x316803['rooms'][_0x18aaf3(0x114)](_0x176ad6):-0x1,_0x53361c=_0x316803['rooms']?_0x316803[_0x18aaf3(0x11c)]['indexOf'](_0x3608d5):-0x1;_0xe8d27c!==-0x1&&_0x53361c!==-0x1&&_0x316803[_0x18aaf3(0x138)][_0xe8d27c]&&_0x316803['matrix'][_0xe8d27c][_0x53361c]!==undefined&&(_0x2ee1f8=_0x316803[_0x18aaf3(0x138)][_0xe8d27c][_0x53361c]),_0x3d1d0b['push'](_0x2ee1f8);}_0x7d3f0b[_0x18aaf3(0x129)](_0x3d1d0b);}const _0x11c053={'updated':Date[_0x18aaf3(0x141)](),'nodeCount':_0x4e07af,'rooms':_0x644a4,'matrix':_0x7d3f0b,'monitored':_0x5bcbfb};JSON[_0x18aaf3(0x13c)](_0x11c053[_0x18aaf3(0x11c)])!==JSON[_0x18aaf3(0x13c)](_0x316803[_0x18aaf3(0x11c)])||JSON[_0x18aaf3(0x13c)](_0x11c053[_0x18aaf3(0x138)])!==JSON[_0x18aaf3(0x13c)](_0x316803[_0x18aaf3(0x138)])||JSON['stringify'](_0x11c053[_0x18aaf3(0x122)])!==JSON[_0x18aaf3(0x13c)](_0x316803['monitored']||[])?(await _0x384bbb[_0x18aaf3(0x123)]('analysis.topology.structure',{'val':JSON[_0x18aaf3(0x13c)](_0x11c053),'ack':!![]}),_0x384bbb[_0x18aaf3(0x119)][_0x18aaf3(0x11a)]('üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20'+_0x4e07af+_0x18aaf3(0x126)),_0x384bbb[_0x18aaf3(0x137)]&&_0x384bbb[_0x18aaf3(0x137)]('SET_TOPOLOGY',_0x11c053)):_0x384bbb['log'][_0x18aaf3(0x13e)](_0x18aaf3(0x134));}module[a9_0x15dd39(0x127)]={'updateTopology':updateTopology};