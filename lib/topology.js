function a9_0x38c3(){const _0x1550a0=['59988utuRhz','390900SLRtIp','stringify','rooms','getStateAsync','monitored','indexOf','length','toString','location','90328tuhxDH','type','includes','2961783zAzYJC','config','val','530525xduhop','üï∏Ô∏è\x20Topology\x20unchanged.','12qjrRpT','analysis.topology.structure','add','push','30pdwnVI','devices','info','sendToPythonWrapper','matrix','sort','log','debug','(((.+)+)+)+$','constructor','568719coZneP','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','now','motion','./setup','forEach','from','trim','\x20Nodes\x20(Display\x20Names\x20restored).','652224IjQzcM','toLowerCase','2vDCoWk','setStateAsync','12xfxSlw','28sWSpgI'];a9_0x38c3=function(){return _0x1550a0;};return a9_0x38c3();}const a9_0x8466b5=a9_0x401c;(function(_0x566a87,_0x2bdac0){const _0x3cf140=a9_0x401c,_0x59a10b=_0x566a87();while(!![]){try{const _0x492915=-parseInt(_0x3cf140(0x98))/0x1+-parseInt(_0x3cf140(0x94))/0x2*(-parseInt(_0x3cf140(0x6a))/0x3)+-parseInt(_0x3cf140(0x92))/0x4+-parseInt(_0x3cf140(0x79))/0x5*(parseInt(_0x3cf140(0x96))/0x6)+-parseInt(_0x3cf140(0x97))/0x7*(parseInt(_0x3cf140(0x73))/0x8)+-parseInt(_0x3cf140(0x89))/0x9*(-parseInt(_0x3cf140(0x7f))/0xa)+-parseInt(_0x3cf140(0x76))/0xb*(-parseInt(_0x3cf140(0x7b))/0xc);if(_0x492915===_0x2bdac0)break;else _0x59a10b['push'](_0x59a10b['shift']());}catch(_0x444cba){_0x59a10b['push'](_0x59a10b['shift']());}}}(a9_0x38c3,0x1a8a4));const a9_0x3cad1f=(function(){let _0x473932=!![];return function(_0x3f6866,_0x4701c6){const _0x436198=_0x473932?function(){if(_0x4701c6){const _0x2dbe26=_0x4701c6['apply'](_0x3f6866,arguments);return _0x4701c6=null,_0x2dbe26;}}:function(){};return _0x473932=![],_0x436198;};}()),a9_0x3e9ace=a9_0x3cad1f(this,function(){const _0x2824a4=a9_0x401c;return a9_0x3e9ace[_0x2824a4(0x71)]()['search'](_0x2824a4(0x87))[_0x2824a4(0x71)]()[_0x2824a4(0x88)](a9_0x3e9ace)['search']('(((.+)+)+)+$');});function a9_0x401c(_0xfc13ae,_0x1bda3e){const _0x4a0cb6=a9_0x38c3();return a9_0x401c=function(_0x3e9ace,_0x3cad1f){_0x3e9ace=_0x3e9ace-0x6a;let _0x38c307=_0x4a0cb6[_0x3e9ace];return _0x38c307;},a9_0x401c(_0xfc13ae,_0x1bda3e);}a9_0x3e9ace();'use strict';const setup=require(a9_0x8466b5(0x8d));async function updateTopology(_0x315997){const _0xd0f553=a9_0x8466b5;_0x315997[_0xd0f553(0x85)][_0xd0f553(0x86)]('üï∏Ô∏è\x20Updating\x20Graph\x20Topology...');const _0x462a01=_0x315997[_0xd0f553(0x77)][_0xd0f553(0x80)]||[],_0x66b8e6=new Set(),_0xf0b100=new Set();_0x462a01[_0xd0f553(0x8e)](_0x258ac5=>{const _0x1be677=_0xd0f553;if(_0x258ac5[_0x1be677(0x72)]&&_0x258ac5[_0x1be677(0x72)][_0x1be677(0x90)]()!==''){const _0x1caf35=_0x258ac5['location']['trim']();_0x66b8e6['add'](_0x1caf35),(_0x258ac5[_0x1be677(0x74)]===_0x1be677(0x8c)||_0x258ac5[_0x1be677(0x74)]&&_0x258ac5[_0x1be677(0x74)][_0x1be677(0x93)]()[_0x1be677(0x75)]('bewegung'))&&_0xf0b100[_0x1be677(0x7d)](_0x1caf35);}});const _0x145383=Array[_0xd0f553(0x8f)](_0x66b8e6)[_0xd0f553(0x84)](),_0x32df1c=Array[_0xd0f553(0x8f)](_0xf0b100)[_0xd0f553(0x84)]();if(_0x145383['length']===0x0){_0x315997['log']['debug']('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x504169={'rooms':[],'matrix':[]};try{const _0x4f714b=await _0x315997[_0xd0f553(0x6d)](_0xd0f553(0x7c));_0x4f714b&&_0x4f714b[_0xd0f553(0x78)]&&(_0x504169=JSON['parse'](_0x4f714b[_0xd0f553(0x78)]));}catch(_0x3ddf5c){}const _0x6def37=[],_0x227b2d=_0x145383[_0xd0f553(0x70)];for(let _0x4d2f58=0x0;_0x4d2f58<_0x227b2d;_0x4d2f58++){const _0x534d63=[];for(let _0x1bb783=0x0;_0x1bb783<_0x227b2d;_0x1bb783++){let _0x3dac40=_0x4d2f58===_0x1bb783?0x1:0x0;const _0xf44b42=_0x145383[_0x4d2f58],_0x18cec0=_0x145383[_0x1bb783],_0x44f2d4=_0x504169['rooms']?_0x504169[_0xd0f553(0x6c)][_0xd0f553(0x6f)](_0xf44b42):-0x1,_0x509464=_0x504169[_0xd0f553(0x6c)]?_0x504169[_0xd0f553(0x6c)][_0xd0f553(0x6f)](_0x18cec0):-0x1;_0x44f2d4!==-0x1&&_0x509464!==-0x1&&_0x504169[_0xd0f553(0x83)][_0x44f2d4]&&_0x504169[_0xd0f553(0x83)][_0x44f2d4][_0x509464]!==undefined&&(_0x3dac40=_0x504169[_0xd0f553(0x83)][_0x44f2d4][_0x509464]),_0x534d63['push'](_0x3dac40);}_0x6def37[_0xd0f553(0x7e)](_0x534d63);}const _0x2046e9={'updated':Date[_0xd0f553(0x8b)](),'nodeCount':_0x227b2d,'rooms':_0x145383,'matrix':_0x6def37,'monitored':_0x32df1c};JSON[_0xd0f553(0x6b)](_0x2046e9['rooms'])!==JSON['stringify'](_0x504169[_0xd0f553(0x6c)])||JSON[_0xd0f553(0x6b)](_0x2046e9['matrix'])!==JSON[_0xd0f553(0x6b)](_0x504169[_0xd0f553(0x83)])||JSON[_0xd0f553(0x6b)](_0x2046e9[_0xd0f553(0x6e)])!==JSON['stringify'](_0x504169[_0xd0f553(0x6e)]||[])?(await _0x315997[_0xd0f553(0x95)]('analysis.topology.structure',{'val':JSON[_0xd0f553(0x6b)](_0x2046e9),'ack':!![]}),_0x315997['log'][_0xd0f553(0x81)](_0xd0f553(0x8a)+_0x227b2d+_0xd0f553(0x91)),_0x315997[_0xd0f553(0x82)]&&_0x315997['sendToPythonWrapper']('SET_TOPOLOGY',_0x2046e9)):_0x315997[_0xd0f553(0x85)][_0xd0f553(0x86)](_0xd0f553(0x7a));}module['exports']={'updateTopology':updateTopology};