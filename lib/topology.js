const a9_0x2b932f=a9_0x2f83;(function(_0x58949d,_0x17fa2a){const _0x3fc48b=a9_0x2f83,_0x44f7d1=_0x58949d();while(!![]){try{const _0x43f11c=-parseInt(_0x3fc48b(0xa7))/0x1+parseInt(_0x3fc48b(0xb2))/0x2+parseInt(_0x3fc48b(0xbd))/0x3*(parseInt(_0x3fc48b(0xae))/0x4)+parseInt(_0x3fc48b(0xad))/0x5+parseInt(_0x3fc48b(0xba))/0x6+parseInt(_0x3fc48b(0xa8))/0x7*(-parseInt(_0x3fc48b(0xb5))/0x8)+parseInt(_0x3fc48b(0xab))/0x9;if(_0x43f11c===_0x17fa2a)break;else _0x44f7d1['push'](_0x44f7d1['shift']());}catch(_0x314661){_0x44f7d1['push'](_0x44f7d1['shift']());}}}(a9_0x17e6,0xe61ba));const a9_0x2a1d2b=(function(){let _0x4da3df=!![];return function(_0x1b7e91,_0x5ec0f1){const _0x3144a2=_0x4da3df?function(){const _0x1ff10e=a9_0x2f83;if(_0x5ec0f1){const _0x4e4631=_0x5ec0f1[_0x1ff10e(0xc3)](_0x1b7e91,arguments);return _0x5ec0f1=null,_0x4e4631;}}:function(){};return _0x4da3df=![],_0x3144a2;};}()),a9_0xd4102a=a9_0x2a1d2b(this,function(){const _0x1503cd=a9_0x2f83;return a9_0xd4102a[_0x1503cd(0xb3)]()[_0x1503cd(0xc5)]('(((.+)+)+)+$')[_0x1503cd(0xb3)]()[_0x1503cd(0xa5)](a9_0xd4102a)[_0x1503cd(0xc5)](_0x1503cd(0xac));});a9_0xd4102a();function a9_0x17e6(){const _0x197634=['search','push','trim','sort','forEach','debug','from','includes','config','getStateAsync','val','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','location','constructor','exports','1034394LCVyXu','3737489cUHJMg','length','setStateAsync','2590974lLHmUi','(((.+)+)+)+$','311025PvgqLS','304784nAXRrC','info','indexOf','sendToPythonWrapper','965934cxhXfY','toString','add','24rUOSxe','type','stringify','SET_TOPOLOGY','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','6873138CvUAMZ','ðŸ•¸ï¸\x20Topology\x20unchanged.','monitored','63szOkSV','rooms','analysis.topology.structure','matrix','bewegung','log','apply','\x20Nodes\x20(Display\x20Names\x20restored).'];a9_0x17e6=function(){return _0x197634;};return a9_0x17e6();}function a9_0x2f83(_0x30f4bd,_0x28cb7f){const _0x171be5=a9_0x17e6();return a9_0x2f83=function(_0xd4102a,_0x2a1d2b){_0xd4102a=_0xd4102a-0x9d;let _0x17e6e3=_0x171be5[_0xd4102a];return _0x17e6e3;},a9_0x2f83(_0x30f4bd,_0x28cb7f);}'use strict';const setup=require('./setup');async function updateTopology(_0x4badca){const _0x57c805=a9_0x2f83;_0x4badca[_0x57c805(0xc2)][_0x57c805(0x9d)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x2fcbc9=_0x4badca[_0x57c805(0xa0)]['devices']||[],_0x12eab7=new Set(),_0x1851b7=new Set();_0x2fcbc9[_0x57c805(0xc9)](_0x545f2e=>{const _0x5280f0=_0x57c805;if(_0x545f2e[_0x5280f0(0xa4)]&&_0x545f2e[_0x5280f0(0xa4)][_0x5280f0(0xc7)]()!==''){const _0x4444a7=_0x545f2e[_0x5280f0(0xa4)]['trim']();_0x12eab7[_0x5280f0(0xb4)](_0x4444a7),(_0x545f2e[_0x5280f0(0xb6)]==='motion'||_0x545f2e[_0x5280f0(0xb6)]&&_0x545f2e[_0x5280f0(0xb6)]['toLowerCase']()[_0x5280f0(0x9f)](_0x5280f0(0xc1)))&&_0x1851b7[_0x5280f0(0xb4)](_0x4444a7);}});const _0x1c2160=Array[_0x57c805(0x9e)](_0x12eab7)[_0x57c805(0xc8)](),_0x191680=Array[_0x57c805(0x9e)](_0x1851b7)[_0x57c805(0xc8)]();if(_0x1c2160[_0x57c805(0xa9)]===0x0){_0x4badca['log'][_0x57c805(0x9d)](_0x57c805(0xb9));return;}let _0x4914b0={'rooms':[],'matrix':[]};try{const _0x362dd8=await _0x4badca[_0x57c805(0xa1)]('analysis.topology.structure');_0x362dd8&&_0x362dd8[_0x57c805(0xa2)]&&(_0x4914b0=JSON['parse'](_0x362dd8['val']));}catch(_0x57c024){}const _0x2852ed=[],_0x24e762=_0x1c2160[_0x57c805(0xa9)];for(let _0x5ceb06=0x0;_0x5ceb06<_0x24e762;_0x5ceb06++){const _0x548d63=[];for(let _0x4ef26b=0x0;_0x4ef26b<_0x24e762;_0x4ef26b++){let _0x2b2a71=_0x5ceb06===_0x4ef26b?0x1:0x0;const _0x1069fa=_0x1c2160[_0x5ceb06],_0x272f55=_0x1c2160[_0x4ef26b],_0x225583=_0x4914b0['rooms']?_0x4914b0['rooms'][_0x57c805(0xb0)](_0x1069fa):-0x1,_0x19fa28=_0x4914b0['rooms']?_0x4914b0['rooms'][_0x57c805(0xb0)](_0x272f55):-0x1;_0x225583!==-0x1&&_0x19fa28!==-0x1&&_0x4914b0['matrix'][_0x225583]&&_0x4914b0[_0x57c805(0xc0)][_0x225583][_0x19fa28]!==undefined&&(_0x2b2a71=_0x4914b0[_0x57c805(0xc0)][_0x225583][_0x19fa28]),_0x548d63[_0x57c805(0xc6)](_0x2b2a71);}_0x2852ed['push'](_0x548d63);}const _0x10279d={'updated':Date['now'](),'nodeCount':_0x24e762,'rooms':_0x1c2160,'matrix':_0x2852ed,'monitored':_0x191680};JSON[_0x57c805(0xb7)](_0x10279d[_0x57c805(0xbe)])!==JSON['stringify'](_0x4914b0['rooms'])||JSON[_0x57c805(0xb7)](_0x10279d[_0x57c805(0xc0)])!==JSON[_0x57c805(0xb7)](_0x4914b0[_0x57c805(0xc0)])||JSON[_0x57c805(0xb7)](_0x10279d[_0x57c805(0xbc)])!==JSON[_0x57c805(0xb7)](_0x4914b0[_0x57c805(0xbc)]||[])?(await _0x4badca[_0x57c805(0xaa)](_0x57c805(0xbf),{'val':JSON[_0x57c805(0xb7)](_0x10279d),'ack':!![]}),_0x4badca[_0x57c805(0xc2)][_0x57c805(0xaf)](_0x57c805(0xa3)+_0x24e762+_0x57c805(0xc4)),_0x4badca['sendToPythonWrapper']&&_0x4badca[_0x57c805(0xb1)](_0x57c805(0xb8),_0x10279d)):_0x4badca[_0x57c805(0xc2)][_0x57c805(0x9d)](_0x57c805(0xbb));}module[a9_0x2b932f(0xa6)]={'updateTopology':updateTopology};