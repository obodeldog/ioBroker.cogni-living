const a9_0x22892b=a9_0x1e2b;function a9_0x1e2b(_0x32ecbe,_0x379c80){const _0xa766a4=a9_0x3f60();return a9_0x1e2b=function(_0x19e496,_0x20eae1){_0x19e496=_0x19e496-0xa7;let _0x3f60b2=_0xa766a4[_0x19e496];return _0x3f60b2;},a9_0x1e2b(_0x32ecbe,_0x379c80);}(function(_0x1c074a,_0x4b8384){const _0x2e472a=a9_0x1e2b,_0x50dc29=_0x1c074a();while(!![]){try{const _0x3acc71=-parseInt(_0x2e472a(0xc5))/0x1+-parseInt(_0x2e472a(0xab))/0x2*(parseInt(_0x2e472a(0xd4))/0x3)+-parseInt(_0x2e472a(0xad))/0x4*(parseInt(_0x2e472a(0xc0))/0x5)+-parseInt(_0x2e472a(0xac))/0x6*(-parseInt(_0x2e472a(0xd5))/0x7)+-parseInt(_0x2e472a(0xa9))/0x8*(-parseInt(_0x2e472a(0xca))/0x9)+-parseInt(_0x2e472a(0xcd))/0xa*(parseInt(_0x2e472a(0xcb))/0xb)+parseInt(_0x2e472a(0xba))/0xc;if(_0x3acc71===_0x4b8384)break;else _0x50dc29['push'](_0x50dc29['shift']());}catch(_0x25d976){_0x50dc29['push'](_0x50dc29['shift']());}}}(a9_0x3f60,0xa6f64));const a9_0x20eae1=(function(){let _0x4e417e=!![];return function(_0x390f6b,_0x3b5ff1){const _0x5ceb83=_0x4e417e?function(){const _0x25744b=a9_0x1e2b;if(_0x3b5ff1){const _0x3a4e4d=_0x3b5ff1[_0x25744b(0xc4)](_0x390f6b,arguments);return _0x3b5ff1=null,_0x3a4e4d;}}:function(){};return _0x4e417e=![],_0x5ceb83;};}()),a9_0x19e496=a9_0x20eae1(this,function(){const _0x16bdc5=a9_0x1e2b;return a9_0x19e496[_0x16bdc5(0xd0)]()['search'](_0x16bdc5(0xce))[_0x16bdc5(0xd0)]()['constructor'](a9_0x19e496)[_0x16bdc5(0xd1)](_0x16bdc5(0xce));});a9_0x19e496();'use strict';const setup=require(a9_0x22892b(0xb7));async function updateTopology(_0x2af0f5){const _0x293d85=a9_0x22892b;_0x2af0f5['log'][_0x293d85(0xbb)](_0x293d85(0xa7));const _0x161707=_0x2af0f5['config']['devices']||[],_0x413966=new Set(),_0x44e9b9=new Set();_0x161707[_0x293d85(0xb6)](_0x286d20=>{const _0x20c866=_0x293d85;if(_0x286d20['location']&&_0x286d20[_0x20c866(0xbf)][_0x20c866(0xb9)]()!==''){const _0x8efe99=setup['normalizeRoomId'](_0x286d20['location'][_0x20c866(0xb9)]());_0x413966[_0x20c866(0xcf)](_0x8efe99),(_0x286d20[_0x20c866(0xc7)]===_0x20c866(0xae)||_0x286d20[_0x20c866(0xc7)]&&_0x286d20[_0x20c866(0xc7)][_0x20c866(0xb1)]()['includes'](_0x20c866(0xb8)))&&_0x44e9b9['add'](_0x8efe99);}});const _0x107c41=Array[_0x293d85(0xc3)](_0x413966)['sort'](),_0xa75694=Array['from'](_0x44e9b9)['sort']();if(_0x107c41['length']===0x0){_0x2af0f5[_0x293d85(0xc8)][_0x293d85(0xbb)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x3277cb={'rooms':[],'matrix':[]};try{const _0x575267=await _0x2af0f5[_0x293d85(0xb3)](_0x293d85(0xbd));_0x575267&&_0x575267[_0x293d85(0xc1)]&&(_0x3277cb=JSON[_0x293d85(0xbe)](_0x575267[_0x293d85(0xc1)]));}catch(_0x2687aa){}const _0xb62630=[],_0x4c2ed6=_0x107c41[_0x293d85(0xc6)];for(let _0x30592e=0x0;_0x30592e<_0x4c2ed6;_0x30592e++){const _0x4744e4=[];for(let _0xfec1e4=0x0;_0xfec1e4<_0x4c2ed6;_0xfec1e4++){let _0x5b1246=_0x30592e===_0xfec1e4?0x1:0x0;const _0x3e2b85=_0x107c41[_0x30592e],_0x4cb901=_0x107c41[_0xfec1e4],_0x5d00e9=_0x3277cb['rooms']?_0x3277cb['rooms'][_0x293d85(0xb0)](_0x3e2b85):-0x1,_0x36a1cd=_0x3277cb[_0x293d85(0xaf)]?_0x3277cb[_0x293d85(0xaf)][_0x293d85(0xb0)](_0x4cb901):-0x1;_0x5d00e9!==-0x1&&_0x36a1cd!==-0x1&&_0x3277cb[_0x293d85(0xa8)][_0x5d00e9]&&_0x3277cb['matrix'][_0x5d00e9][_0x36a1cd]!==undefined&&(_0x5b1246=_0x3277cb['matrix'][_0x5d00e9][_0x36a1cd]),_0x4744e4[_0x293d85(0xb2)](_0x5b1246);}_0xb62630[_0x293d85(0xb2)](_0x4744e4);}const _0x297fff={'updated':Date['now'](),'nodeCount':_0x4c2ed6,'rooms':_0x107c41,'matrix':_0xb62630,'monitored':_0xa75694};JSON[_0x293d85(0xb5)](_0x297fff['rooms'])!==JSON['stringify'](_0x3277cb[_0x293d85(0xaf)])||JSON[_0x293d85(0xb5)](_0x297fff[_0x293d85(0xa8)])!==JSON['stringify'](_0x3277cb['matrix'])||JSON[_0x293d85(0xb5)](_0x297fff['monitored'])!==JSON['stringify'](_0x3277cb['monitored']||[])?(await _0x2af0f5[_0x293d85(0xb4)](_0x293d85(0xbd),{'val':JSON[_0x293d85(0xb5)](_0x297fff),'ack':!![]}),_0x2af0f5[_0x293d85(0xc8)]['info'](_0x293d85(0xd3)+_0x4c2ed6+_0x293d85(0xc2)+_0xa75694[_0x293d85(0xc6)]+_0x293d85(0xd2)),_0x2af0f5[_0x293d85(0xbc)]&&_0x2af0f5[_0x293d85(0xbc)](_0x293d85(0xaa),_0x297fff)):_0x2af0f5[_0x293d85(0xc8)][_0x293d85(0xbb)](_0x293d85(0xc9));}function a9_0x3f60(){const _0x4606c0=['üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','matrix','8xsxZbo','SET_TOPOLOGY','2660122mNTrmx','1884KpAwlI','4mcDGCF','motion','rooms','indexOf','toLowerCase','push','getStateAsync','setStateAsync','stringify','forEach','./setup','bewegung','trim','35197248bMrfFv','debug','sendToPythonWrapper','analysis.topology.structure','parse','location','3404705MUDmDi','val','\x20Nodes,\x20','from','apply','150560DLsMFu','length','type','log','üï∏Ô∏è\x20Topology\x20unchanged.','2325573gEIVQl','11ldPCMU','exports','4424610OCcqQp','(((.+)+)+)+$','add','toString','search','\x20Monitored\x20Rooms\x20(Normalized).','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','3BPmCAy','2149ZJPWKN'];a9_0x3f60=function(){return _0x4606c0;};return a9_0x3f60();}module[a9_0x22892b(0xcc)]={'updateTopology':updateTopology};