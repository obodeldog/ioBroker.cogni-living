(function(_0x189028,_0x5f3956){const _0x5bddf8=a9_0x4a64,_0x3d5b08=_0x189028();while(!![]){try{const _0x57612c=parseInt(_0x5bddf8(0x187))/0x1+parseInt(_0x5bddf8(0x195))/0x2*(-parseInt(_0x5bddf8(0x18a))/0x3)+parseInt(_0x5bddf8(0x191))/0x4+-parseInt(_0x5bddf8(0x171))/0x5*(-parseInt(_0x5bddf8(0x198))/0x6)+-parseInt(_0x5bddf8(0x192))/0x7+parseInt(_0x5bddf8(0x183))/0x8+parseInt(_0x5bddf8(0x18d))/0x9*(-parseInt(_0x5bddf8(0x17e))/0xa);if(_0x57612c===_0x5f3956)break;else _0x3d5b08['push'](_0x3d5b08['shift']());}catch(_0x3c39b2){_0x3d5b08['push'](_0x3d5b08['shift']());}}}(a9_0x18c9,0x60bc9));function a9_0x18c9(){const _0x5ba96d=['search','\x20Nodes,\x20','location','22811yJnZLv','log','debug','259599nDImRh','\x20Monitored\x20Rooms.','devices','61038upJEWi','(((.+)+)+)+$','stringify','toLowerCase','2252448pLvmke','4806438nQzFZg','type','SET_TOPOLOGY','2uxsixb','matrix','from','42VhENNP','val','push','indexOf','analysis.topology.structure','277235BRWcNH','getStateAsync','sendToPythonWrapper','sort','parse','motion','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','length','config','info','apply','toString','rooms','120SrKosr','trim','monitored','setStateAsync','constructor','2213856xpsPnV'];a9_0x18c9=function(){return _0x5ba96d;};return a9_0x18c9();}function a9_0x4a64(_0x558961,_0x1a1ce4){const _0x102320=a9_0x18c9();return a9_0x4a64=function(_0x1a9283,_0x1cf99b){_0x1a9283=_0x1a9283-0x16e;let _0x18c96a=_0x102320[_0x1a9283];return _0x18c96a;},a9_0x4a64(_0x558961,_0x1a1ce4);}const a9_0x1cf99b=(function(){let _0x225aa1=!![];return function(_0x2c1a06,_0x309c0c){const _0x3c05ac=_0x225aa1?function(){const _0x3f3c96=a9_0x4a64;if(_0x309c0c){const _0x41a834=_0x309c0c[_0x3f3c96(0x17b)](_0x2c1a06,arguments);return _0x309c0c=null,_0x41a834;}}:function(){};return _0x225aa1=![],_0x3c05ac;};}()),a9_0x1a9283=a9_0x1cf99b(this,function(){const _0x395c64=a9_0x4a64;return a9_0x1a9283[_0x395c64(0x17c)]()[_0x395c64(0x184)](_0x395c64(0x18e))[_0x395c64(0x17c)]()[_0x395c64(0x182)](a9_0x1a9283)[_0x395c64(0x184)](_0x395c64(0x18e));});a9_0x1a9283();'use strict';async function updateTopology(_0x21ef22){const _0x100806=a9_0x4a64;_0x21ef22[_0x100806(0x188)][_0x100806(0x189)](_0x100806(0x177));const _0x3cdbb5=_0x21ef22[_0x100806(0x179)][_0x100806(0x18c)]||[],_0x40802f=new Set(),_0x132f81=new Set();_0x3cdbb5['forEach'](_0x14b8f6=>{const _0x40b356=_0x100806;if(_0x14b8f6['location']&&_0x14b8f6[_0x40b356(0x186)][_0x40b356(0x17f)]()!==''){const _0x36901f=_0x14b8f6[_0x40b356(0x186)][_0x40b356(0x17f)]();_0x40802f['add'](_0x36901f),(_0x14b8f6[_0x40b356(0x193)]===_0x40b356(0x176)||_0x14b8f6[_0x40b356(0x193)]&&_0x14b8f6['type'][_0x40b356(0x190)]()['includes']('bewegung'))&&_0x132f81['add'](_0x36901f);}});const _0x5e5c4f=Array[_0x100806(0x197)](_0x40802f)[_0x100806(0x174)](),_0x37a5b0=Array['from'](_0x132f81)[_0x100806(0x174)]();if(_0x5e5c4f[_0x100806(0x178)]===0x0){_0x21ef22[_0x100806(0x188)]['debug']('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x2368f5={'rooms':[],'matrix':[]};try{const _0x20057c=await _0x21ef22[_0x100806(0x172)](_0x100806(0x170));_0x20057c&&_0x20057c[_0x100806(0x199)]&&(_0x2368f5=JSON[_0x100806(0x175)](_0x20057c[_0x100806(0x199)]));}catch(_0x2be28b){}const _0x3fea55=[],_0x55965b=_0x5e5c4f[_0x100806(0x178)];for(let _0x5374b1=0x0;_0x5374b1<_0x55965b;_0x5374b1++){const _0x145267=[];for(let _0x42cdfe=0x0;_0x42cdfe<_0x55965b;_0x42cdfe++){let _0x1a21af=_0x5374b1===_0x42cdfe?0x1:0x0;const _0x5cb324=_0x5e5c4f[_0x5374b1],_0x3e343e=_0x5e5c4f[_0x42cdfe],_0x18d301=_0x2368f5['rooms']?_0x2368f5[_0x100806(0x17d)][_0x100806(0x16f)](_0x5cb324):-0x1,_0x2d60e7=_0x2368f5[_0x100806(0x17d)]?_0x2368f5[_0x100806(0x17d)][_0x100806(0x16f)](_0x3e343e):-0x1;_0x18d301!==-0x1&&_0x2d60e7!==-0x1&&_0x2368f5[_0x100806(0x196)][_0x18d301]&&_0x2368f5['matrix'][_0x18d301][_0x2d60e7]!==undefined&&(_0x1a21af=_0x2368f5['matrix'][_0x18d301][_0x2d60e7]),_0x145267['push'](_0x1a21af);}_0x3fea55[_0x100806(0x16e)](_0x145267);}const _0x2464cd={'updated':Date['now'](),'nodeCount':_0x55965b,'rooms':_0x5e5c4f,'matrix':_0x3fea55,'monitored':_0x37a5b0};JSON[_0x100806(0x18f)](_0x2464cd[_0x100806(0x17d)])!==JSON['stringify'](_0x2368f5[_0x100806(0x17d)])||JSON[_0x100806(0x18f)](_0x2464cd['matrix'])!==JSON[_0x100806(0x18f)](_0x2368f5[_0x100806(0x196)])||JSON['stringify'](_0x2464cd[_0x100806(0x180)])!==JSON[_0x100806(0x18f)](_0x2368f5[_0x100806(0x180)]||[])?(await _0x21ef22[_0x100806(0x181)](_0x100806(0x170),{'val':JSON[_0x100806(0x18f)](_0x2464cd),'ack':!![]}),_0x21ef22[_0x100806(0x188)][_0x100806(0x17a)]('üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20'+_0x55965b+_0x100806(0x185)+_0x37a5b0[_0x100806(0x178)]+_0x100806(0x18b)),_0x21ef22[_0x100806(0x173)]&&_0x21ef22[_0x100806(0x173)](_0x100806(0x194),_0x2464cd)):_0x21ef22[_0x100806(0x188)]['debug']('üï∏Ô∏è\x20Topology\x20unchanged.');}module['exports']={'updateTopology':updateTopology};