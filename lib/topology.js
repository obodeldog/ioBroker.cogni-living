const a9_0x109dea=a9_0xf449;(function(_0xd56f0,_0x264927){const _0x26a60c=a9_0xf449,_0x1dd8f5=_0xd56f0();while(!![]){try{const _0x530bd6=parseInt(_0x26a60c(0xf3))/0x1+parseInt(_0x26a60c(0xdb))/0x2+-parseInt(_0x26a60c(0xcb))/0x3*(parseInt(_0x26a60c(0xd5))/0x4)+parseInt(_0x26a60c(0xd8))/0x5+parseInt(_0x26a60c(0xee))/0x6+parseInt(_0x26a60c(0xf0))/0x7+-parseInt(_0x26a60c(0xd3))/0x8;if(_0x530bd6===_0x264927)break;else _0x1dd8f5['push'](_0x1dd8f5['shift']());}catch(_0x2923f6){_0x1dd8f5['push'](_0x1dd8f5['shift']());}}}(a9_0x5ea9,0x40180));function a9_0x5ea9(){const _0x54531b=['ðŸ•¸ï¸\x20Topology\x20unchanged.','parse','2065776nGljzS','rooms','127561HzmUeJ','search','setStateAsync','516553lVNXcD','bewegung','log','1095PuXIMr','stringify','toString','constructor','info','debug','now','devices','7010544nJUBxW','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','452Rsdnft','type','(((.+)+)+)+$','199905IqDhZJ','length','exports','522076gPoQGo','location','apply','\x20Nodes,\x20','forEach','add','config','includes','sort','from','monitored','indexOf','push','analysis.topology.structure','val','matrix','sendToPythonWrapper'];a9_0x5ea9=function(){return _0x54531b;};return a9_0x5ea9();}const a9_0x1c4e45=(function(){let _0x135f57=!![];return function(_0x38fcaf,_0x2a5c10){const _0x4e8974=_0x135f57?function(){const _0x365113=a9_0xf449;if(_0x2a5c10){const _0x54ffdf=_0x2a5c10[_0x365113(0xdd)](_0x38fcaf,arguments);return _0x2a5c10=null,_0x54ffdf;}}:function(){};return _0x135f57=![],_0x4e8974;};}()),a9_0x159c69=a9_0x1c4e45(this,function(){const _0x5d38d3=a9_0xf449;return a9_0x159c69[_0x5d38d3(0xcd)]()[_0x5d38d3(0xf1)]('(((.+)+)+)+$')[_0x5d38d3(0xcd)]()[_0x5d38d3(0xce)](a9_0x159c69)['search'](_0x5d38d3(0xd7));});a9_0x159c69();'use strict';function a9_0xf449(_0x4a693f,_0x30fe89){const _0x2c3f7d=a9_0x5ea9();return a9_0xf449=function(_0x159c69,_0x1c4e45){_0x159c69=_0x159c69-0xcb;let _0x5ea9e1=_0x2c3f7d[_0x159c69];return _0x5ea9e1;},a9_0xf449(_0x4a693f,_0x30fe89);}async function updateTopology(_0x2535b5){const _0x1ef67c=a9_0xf449;_0x2535b5['log'][_0x1ef67c(0xd0)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x213cb3=_0x2535b5[_0x1ef67c(0xe1)][_0x1ef67c(0xd2)]||[],_0x1a642a=new Set(),_0x47862e=new Set();_0x213cb3[_0x1ef67c(0xdf)](_0x33a620=>{const _0xd2c67e=_0x1ef67c;if(_0x33a620[_0xd2c67e(0xdc)]&&_0x33a620['location']['trim']()!==''){const _0x438b25=_0x33a620[_0xd2c67e(0xdc)]['trim']();_0x1a642a[_0xd2c67e(0xe0)](_0x438b25),(_0x33a620[_0xd2c67e(0xd6)]==='motion'||_0x33a620[_0xd2c67e(0xd6)]&&_0x33a620[_0xd2c67e(0xd6)]['toLowerCase']()[_0xd2c67e(0xe2)](_0xd2c67e(0xf4)))&&_0x47862e['add'](_0x438b25);}});const _0x34d07e=Array[_0x1ef67c(0xe4)](_0x1a642a)[_0x1ef67c(0xe3)](),_0x51203b=Array[_0x1ef67c(0xe4)](_0x47862e)[_0x1ef67c(0xe3)]();if(_0x34d07e[_0x1ef67c(0xd9)]===0x0){_0x2535b5['log'][_0x1ef67c(0xd0)](_0x1ef67c(0xd4));return;}let _0x49b8a4={'rooms':[],'matrix':[]};try{const _0x3c2bb5=await _0x2535b5['getStateAsync'](_0x1ef67c(0xe8));_0x3c2bb5&&_0x3c2bb5[_0x1ef67c(0xe9)]&&(_0x49b8a4=JSON[_0x1ef67c(0xed)](_0x3c2bb5[_0x1ef67c(0xe9)]));}catch(_0x2bce0f){}const _0x431a33=[],_0xf5145=_0x34d07e[_0x1ef67c(0xd9)];for(let _0xe0bc43=0x0;_0xe0bc43<_0xf5145;_0xe0bc43++){const _0x2ba689=[];for(let _0x502885=0x0;_0x502885<_0xf5145;_0x502885++){let _0x20524d=_0xe0bc43===_0x502885?0x1:0x0;const _0x55ed56=_0x34d07e[_0xe0bc43],_0x22b2a2=_0x34d07e[_0x502885],_0x326f83=_0x49b8a4['rooms']?_0x49b8a4['rooms'][_0x1ef67c(0xe6)](_0x55ed56):-0x1,_0x418b8d=_0x49b8a4[_0x1ef67c(0xef)]?_0x49b8a4['rooms']['indexOf'](_0x22b2a2):-0x1;_0x326f83!==-0x1&&_0x418b8d!==-0x1&&_0x49b8a4[_0x1ef67c(0xea)][_0x326f83]&&_0x49b8a4[_0x1ef67c(0xea)][_0x326f83][_0x418b8d]!==undefined&&(_0x20524d=_0x49b8a4[_0x1ef67c(0xea)][_0x326f83][_0x418b8d]),_0x2ba689[_0x1ef67c(0xe7)](_0x20524d);}_0x431a33[_0x1ef67c(0xe7)](_0x2ba689);}const _0x409859={'updated':Date[_0x1ef67c(0xd1)](),'nodeCount':_0xf5145,'rooms':_0x34d07e,'matrix':_0x431a33,'monitored':_0x51203b};JSON[_0x1ef67c(0xcc)](_0x409859['rooms'])!==JSON[_0x1ef67c(0xcc)](_0x49b8a4[_0x1ef67c(0xef)])||JSON['stringify'](_0x409859[_0x1ef67c(0xea)])!==JSON[_0x1ef67c(0xcc)](_0x49b8a4['matrix'])||JSON[_0x1ef67c(0xcc)](_0x409859[_0x1ef67c(0xe5)])!==JSON[_0x1ef67c(0xcc)](_0x49b8a4[_0x1ef67c(0xe5)]||[])?(await _0x2535b5[_0x1ef67c(0xf2)]('analysis.topology.structure',{'val':JSON['stringify'](_0x409859),'ack':!![]}),_0x2535b5[_0x1ef67c(0xf5)][_0x1ef67c(0xcf)]('ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20'+_0xf5145+_0x1ef67c(0xde)+_0x51203b[_0x1ef67c(0xd9)]+'\x20Monitored\x20Rooms.'),_0x2535b5['sendToPythonWrapper']&&_0x2535b5[_0x1ef67c(0xeb)]('SET_TOPOLOGY',_0x409859)):_0x2535b5[_0x1ef67c(0xf5)][_0x1ef67c(0xd0)](_0x1ef67c(0xec));}module[a9_0x109dea(0xda)]={'updateTopology':updateTopology};