function a9_0x27b2(){const _0x1c3835=['apply','matrix','push','stringify','forEach','11418uegCgd','2ipuRiL','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','length','type','trim','rooms','12375kFbXEy','152PqmRBL','1777680VWzdFB','from','372850YODREi','parse','add','5172664yvPFpr','indexOf','75906bGzmdP','val','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','search','setStateAsync','analysis.topology.structure','bewegung','location','4030woTmcA','toString','SET_TOPOLOGY','log','259Kdiknq','now','(((.+)+)+)+$','sort','debug','exports','monitored','29136NRfXFi','11388GBjluy'];a9_0x27b2=function(){return _0x1c3835;};return a9_0x27b2();}function a9_0x52a2(_0x3c4f43,_0x3a11d1){const _0x146c4a=a9_0x27b2();return a9_0x52a2=function(_0x1d1699,_0x151122){_0x1d1699=_0x1d1699-0x1a7;let _0x27b2cd=_0x146c4a[_0x1d1699];return _0x27b2cd;},a9_0x52a2(_0x3c4f43,_0x3a11d1);}const a9_0x7306f9=a9_0x52a2;(function(_0x484779,_0x5625ab){const _0x150bee=a9_0x52a2,_0x5a879b=_0x484779();while(!![]){try{const _0x2d5810=-parseInt(_0x150bee(0x1c9))/0x1*(-parseInt(_0x150bee(0x1a9))/0x2)+-parseInt(_0x150bee(0x1c1))/0x3*(-parseInt(_0x150bee(0x1d0))/0x4)+parseInt(_0x150bee(0x1a7))/0x5+-parseInt(_0x150bee(0x1ae))/0x6*(parseInt(_0x150bee(0x1ba))/0x7)+-parseInt(_0x150bee(0x1ac))/0x8+-parseInt(_0x150bee(0x1cf))/0x9*(parseInt(_0x150bee(0x1b6))/0xa)+-parseInt(_0x150bee(0x1c8))/0xb*(-parseInt(_0x150bee(0x1c2))/0xc);if(_0x2d5810===_0x5625ab)break;else _0x5a879b['push'](_0x5a879b['shift']());}catch(_0x33eb14){_0x5a879b['push'](_0x5a879b['shift']());}}}(a9_0x27b2,0x6500d));const a9_0x151122=(function(){let _0x5825ca=!![];return function(_0x3894e4,_0x5f0aad){const _0x3a63a1=_0x5825ca?function(){const _0x2e2a10=a9_0x52a2;if(_0x5f0aad){const _0x36ed99=_0x5f0aad[_0x2e2a10(0x1c3)](_0x3894e4,arguments);return _0x5f0aad=null,_0x36ed99;}}:function(){};return _0x5825ca=![],_0x3a63a1;};}()),a9_0x1d1699=a9_0x151122(this,function(){const _0x44d1a8=a9_0x52a2;return a9_0x1d1699[_0x44d1a8(0x1b7)]()[_0x44d1a8(0x1b1)](_0x44d1a8(0x1bc))[_0x44d1a8(0x1b7)]()['constructor'](a9_0x1d1699)[_0x44d1a8(0x1b1)](_0x44d1a8(0x1bc));});a9_0x1d1699();'use strict';const setup=require('./setup');async function updateTopology(_0x3b0e38){const _0x5f59ec=a9_0x52a2;_0x3b0e38[_0x5f59ec(0x1b9)]['debug'](_0x5f59ec(0x1b0));const _0x541129=_0x3b0e38['config']['devices']||[],_0x1435ac=new Set(),_0xd7f197=new Set();_0x541129[_0x5f59ec(0x1c7)](_0x497805=>{const _0x40eb03=_0x5f59ec;if(_0x497805[_0x40eb03(0x1b5)]&&_0x497805[_0x40eb03(0x1b5)][_0x40eb03(0x1cd)]()!==''){const _0x5e5317=_0x497805[_0x40eb03(0x1b5)][_0x40eb03(0x1cd)]();_0x1435ac['add'](_0x5e5317),(_0x497805['type']==='motion'||_0x497805[_0x40eb03(0x1cc)]&&_0x497805[_0x40eb03(0x1cc)]['toLowerCase']()['includes'](_0x40eb03(0x1b4)))&&_0xd7f197[_0x40eb03(0x1ab)](_0x5e5317);}});const _0xce3fdd=Array['from'](_0x1435ac)[_0x5f59ec(0x1bd)](),_0x1172f5=Array[_0x5f59ec(0x1a8)](_0xd7f197)['sort']();if(_0xce3fdd['length']===0x0){_0x3b0e38['log'][_0x5f59ec(0x1be)](_0x5f59ec(0x1ca));return;}let _0x2d136a={'rooms':[],'matrix':[]};try{const _0x4af3a6=await _0x3b0e38['getStateAsync'](_0x5f59ec(0x1b3));_0x4af3a6&&_0x4af3a6[_0x5f59ec(0x1af)]&&(_0x2d136a=JSON[_0x5f59ec(0x1aa)](_0x4af3a6[_0x5f59ec(0x1af)]));}catch(_0x1853f4){}const _0x5f82f=[],_0x225568=_0xce3fdd[_0x5f59ec(0x1cb)];for(let _0x29db2d=0x0;_0x29db2d<_0x225568;_0x29db2d++){const _0xf49f91=[];for(let _0x11b3fd=0x0;_0x11b3fd<_0x225568;_0x11b3fd++){let _0x20ea1d=_0x29db2d===_0x11b3fd?0x1:0x0;const _0x408000=_0xce3fdd[_0x29db2d],_0x278df9=_0xce3fdd[_0x11b3fd],_0x35c621=_0x2d136a[_0x5f59ec(0x1ce)]?_0x2d136a[_0x5f59ec(0x1ce)][_0x5f59ec(0x1ad)](_0x408000):-0x1,_0x25f5ca=_0x2d136a[_0x5f59ec(0x1ce)]?_0x2d136a[_0x5f59ec(0x1ce)]['indexOf'](_0x278df9):-0x1;_0x35c621!==-0x1&&_0x25f5ca!==-0x1&&_0x2d136a['matrix'][_0x35c621]&&_0x2d136a['matrix'][_0x35c621][_0x25f5ca]!==undefined&&(_0x20ea1d=_0x2d136a['matrix'][_0x35c621][_0x25f5ca]),_0xf49f91[_0x5f59ec(0x1c5)](_0x20ea1d);}_0x5f82f[_0x5f59ec(0x1c5)](_0xf49f91);}const _0x167ec2={'updated':Date[_0x5f59ec(0x1bb)](),'nodeCount':_0x225568,'rooms':_0xce3fdd,'matrix':_0x5f82f,'monitored':_0x1172f5};JSON[_0x5f59ec(0x1c6)](_0x167ec2[_0x5f59ec(0x1ce)])!==JSON[_0x5f59ec(0x1c6)](_0x2d136a[_0x5f59ec(0x1ce)])||JSON[_0x5f59ec(0x1c6)](_0x167ec2[_0x5f59ec(0x1c4)])!==JSON[_0x5f59ec(0x1c6)](_0x2d136a[_0x5f59ec(0x1c4)])||JSON[_0x5f59ec(0x1c6)](_0x167ec2[_0x5f59ec(0x1c0)])!==JSON[_0x5f59ec(0x1c6)](_0x2d136a[_0x5f59ec(0x1c0)]||[])?(await _0x3b0e38[_0x5f59ec(0x1b2)](_0x5f59ec(0x1b3),{'val':JSON[_0x5f59ec(0x1c6)](_0x167ec2),'ack':!![]}),_0x3b0e38[_0x5f59ec(0x1b9)]['info']('ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20'+_0x225568+'\x20Nodes\x20(Display\x20Names\x20restored).'),_0x3b0e38['sendToPythonWrapper']&&_0x3b0e38['sendToPythonWrapper'](_0x5f59ec(0x1b8),_0x167ec2)):_0x3b0e38[_0x5f59ec(0x1b9)][_0x5f59ec(0x1be)]('ðŸ•¸ï¸\x20Topology\x20unchanged.');}module[a9_0x7306f9(0x1bf)]={'updateTopology':updateTopology};