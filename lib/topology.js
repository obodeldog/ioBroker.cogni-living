(function(_0x3bda89,_0x4a931c){const _0x4c11f7=a9_0x32f0,_0x183664=_0x3bda89();while(!![]){try{const _0x3aaf1f=-parseInt(_0x4c11f7(0x1ff))/0x1+-parseInt(_0x4c11f7(0x1ee))/0x2*(parseInt(_0x4c11f7(0x1f8))/0x3)+-parseInt(_0x4c11f7(0x215))/0x4*(-parseInt(_0x4c11f7(0x1ea))/0x5)+-parseInt(_0x4c11f7(0x205))/0x6+parseInt(_0x4c11f7(0x1fe))/0x7+parseInt(_0x4c11f7(0x1f0))/0x8+-parseInt(_0x4c11f7(0x1f3))/0x9*(-parseInt(_0x4c11f7(0x1ef))/0xa);if(_0x3aaf1f===_0x4a931c)break;else _0x183664['push'](_0x183664['shift']());}catch(_0x32891b){_0x183664['push'](_0x183664['shift']());}}}(a9_0x47a4,0x4769b));function a9_0x32f0(_0x507a6a,_0x1a1317){const _0x171036=a9_0x47a4();return a9_0x32f0=function(_0xdfe301,_0x216abb){_0xdfe301=_0xdfe301-0x1ea;let _0x47a4df=_0x171036[_0xdfe301];return _0x47a4df;},a9_0x32f0(_0x507a6a,_0x1a1317);}const a9_0x216abb=(function(){let _0x2f8b42=!![];return function(_0x1c368e,_0x188f19){const _0x2fdf9f=_0x2f8b42?function(){const _0x38e2dc=a9_0x32f0;if(_0x188f19){const _0x34a1f1=_0x188f19[_0x38e2dc(0x1f5)](_0x1c368e,arguments);return _0x188f19=null,_0x34a1f1;}}:function(){};return _0x2f8b42=![],_0x2fdf9f;};}()),a9_0xdfe301=a9_0x216abb(this,function(){const _0x32e204=a9_0x32f0;return a9_0xdfe301['toString']()[_0x32e204(0x207)](_0x32e204(0x204))['toString']()[_0x32e204(0x1fb)](a9_0xdfe301)['search'](_0x32e204(0x204));});a9_0xdfe301();'use strict';const setup=require('./setup');async function updateTopology(_0x2cfc73){const _0x4004e8=a9_0x32f0;_0x2cfc73[_0x4004e8(0x201)]['debug']('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0xb682dd=_0x2cfc73[_0x4004e8(0x1f6)]['devices']||[],_0x370725=new Set(),_0x31bb94=new Set();_0xb682dd['forEach'](_0x3711f3=>{const _0x31c287=_0x4004e8;if(_0x3711f3['location']&&_0x3711f3[_0x31c287(0x1ed)]['trim']()!==''){const _0x56344c=_0x3711f3[_0x31c287(0x1ed)][_0x31c287(0x20e)]();_0x370725[_0x31c287(0x202)](_0x56344c),(_0x3711f3['type']==='motion'||_0x3711f3[_0x31c287(0x1ec)]&&_0x3711f3[_0x31c287(0x1ec)][_0x31c287(0x1eb)]()[_0x31c287(0x206)](_0x31c287(0x20d)))&&_0x31bb94[_0x31c287(0x202)](_0x56344c);}});const _0x109444=Array[_0x4004e8(0x208)](_0x370725)['sort'](),_0x43d39b=Array[_0x4004e8(0x208)](_0x31bb94)[_0x4004e8(0x20f)]();if(_0x109444['length']===0x0){_0x2cfc73[_0x4004e8(0x201)][_0x4004e8(0x1fa)](_0x4004e8(0x200));return;}let _0x37dc67={'rooms':[],'matrix':[]};try{const _0x348e06=await _0x2cfc73[_0x4004e8(0x20c)](_0x4004e8(0x1f2));_0x348e06&&_0x348e06[_0x4004e8(0x1f4)]&&(_0x37dc67=JSON['parse'](_0x348e06[_0x4004e8(0x1f4)]));}catch(_0x38840f){}const _0x385997=[],_0x8c06ec=_0x109444[_0x4004e8(0x1fd)];for(let _0xf58850=0x0;_0xf58850<_0x8c06ec;_0xf58850++){const _0x566b84=[];for(let _0x2ad08c=0x0;_0x2ad08c<_0x8c06ec;_0x2ad08c++){let _0x1e9333=_0xf58850===_0x2ad08c?0x1:0x0;const _0xe64d39=_0x109444[_0xf58850],_0x3046ff=_0x109444[_0x2ad08c],_0x4549ea=_0x37dc67['rooms']?_0x37dc67[_0x4004e8(0x212)]['indexOf'](_0xe64d39):-0x1,_0x157f13=_0x37dc67['rooms']?_0x37dc67['rooms'][_0x4004e8(0x214)](_0x3046ff):-0x1;_0x4549ea!==-0x1&&_0x157f13!==-0x1&&_0x37dc67[_0x4004e8(0x1f1)][_0x4549ea]&&_0x37dc67['matrix'][_0x4549ea][_0x157f13]!==undefined&&(_0x1e9333=_0x37dc67[_0x4004e8(0x1f1)][_0x4549ea][_0x157f13]),_0x566b84[_0x4004e8(0x1f7)](_0x1e9333);}_0x385997['push'](_0x566b84);}const _0x2c92f6={'updated':Date[_0x4004e8(0x20a)](),'nodeCount':_0x8c06ec,'rooms':_0x109444,'matrix':_0x385997,'monitored':_0x43d39b};JSON['stringify'](_0x2c92f6[_0x4004e8(0x212)])!==JSON[_0x4004e8(0x210)](_0x37dc67[_0x4004e8(0x212)])||JSON[_0x4004e8(0x210)](_0x2c92f6[_0x4004e8(0x1f1)])!==JSON[_0x4004e8(0x210)](_0x37dc67[_0x4004e8(0x1f1)])||JSON[_0x4004e8(0x210)](_0x2c92f6['monitored'])!==JSON['stringify'](_0x37dc67[_0x4004e8(0x1f9)]||[])?(await _0x2cfc73[_0x4004e8(0x209)](_0x4004e8(0x1f2),{'val':JSON['stringify'](_0x2c92f6),'ack':!![]}),_0x2cfc73['log'][_0x4004e8(0x1fc)](_0x4004e8(0x203)+_0x8c06ec+_0x4004e8(0x213)),_0x2cfc73[_0x4004e8(0x211)]&&_0x2cfc73[_0x4004e8(0x211)]('SET_TOPOLOGY',_0x2c92f6)):_0x2cfc73[_0x4004e8(0x201)]['debug'](_0x4004e8(0x20b));}module['exports']={'updateTopology':updateTopology};function a9_0x47a4(){const _0x32baf9=['ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','log','add','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','(((.+)+)+)+$','1937310reasta','includes','search','from','setStateAsync','now','ðŸ•¸ï¸\x20Topology\x20unchanged.','getStateAsync','bewegung','trim','sort','stringify','sendToPythonWrapper','rooms','\x20Nodes\x20(Display\x20Names\x20restored).','indexOf','68932FApjHi','105hFELpB','toLowerCase','type','location','326142VISRyV','10TxeFYG','807416KBSbRy','matrix','analysis.topology.structure','3806037ctYpMC','val','apply','config','push','3CcEOyx','monitored','debug','constructor','info','length','2568020vbPGhl','474110qlsjfk'];a9_0x47a4=function(){return _0x32baf9;};return a9_0x47a4();}