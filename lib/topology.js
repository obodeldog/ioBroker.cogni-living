const a9_0x3c1a6e=a9_0x5a5a;(function(_0xeb0eb1,_0x582fdc){const _0x5a7991=a9_0x5a5a,_0xfd2c1e=_0xeb0eb1();while(!![]){try{const _0x36df74=-parseInt(_0x5a7991(0x1a9))/0x1*(-parseInt(_0x5a7991(0x1c3))/0x2)+parseInt(_0x5a7991(0x1b9))/0x3+-parseInt(_0x5a7991(0x1ae))/0x4*(-parseInt(_0x5a7991(0x1a6))/0x5)+-parseInt(_0x5a7991(0x1b7))/0x6+parseInt(_0x5a7991(0x1b4))/0x7+-parseInt(_0x5a7991(0x1cb))/0x8*(parseInt(_0x5a7991(0x1ba))/0x9)+parseInt(_0x5a7991(0x1a3))/0xa*(-parseInt(_0x5a7991(0x1ad))/0xb);if(_0x36df74===_0x582fdc)break;else _0xfd2c1e['push'](_0xfd2c1e['shift']());}catch(_0x5dc80d){_0xfd2c1e['push'](_0xfd2c1e['shift']());}}}(a9_0x15a7,0xbe0b2));const a9_0x1c71bc=(function(){let _0x408db5=!![];return function(_0x3a0403,_0x163201){const _0x325d0e=_0x408db5?function(){const _0x597b9a=a9_0x5a5a;if(_0x163201){const _0x1535af=_0x163201[_0x597b9a(0x1aa)](_0x3a0403,arguments);return _0x163201=null,_0x1535af;}}:function(){};return _0x408db5=![],_0x325d0e;};}()),a9_0x123d60=a9_0x1c71bc(this,function(){const _0x5174df=a9_0x5a5a;return a9_0x123d60['toString']()[_0x5174df(0x1a8)]('(((.+)+)+)+$')[_0x5174df(0x1c0)]()['constructor'](a9_0x123d60)[_0x5174df(0x1a8)](_0x5174df(0x1a2));});a9_0x123d60();'use strict';function a9_0x5a5a(_0x5a0f76,_0x391aad){const _0xefb0ed=a9_0x15a7();return a9_0x5a5a=function(_0x123d60,_0x1c71bc){_0x123d60=_0x123d60-0x1a1;let _0x15a7a0=_0xefb0ed[_0x123d60];return _0x15a7a0;},a9_0x5a5a(_0x5a0f76,_0x391aad);}const setup=require(a9_0x3c1a6e(0x1cc));async function updateTopology(_0x271dfa){const _0x5c836d=a9_0x3c1a6e;_0x271dfa['log'][_0x5c836d(0x1b1)]('ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...');const _0x168ef8=_0x271dfa[_0x5c836d(0x1ce)][_0x5c836d(0x1c2)]||[],_0x3cf393=new Set(),_0x18a6ed=new Set();_0x168ef8[_0x5c836d(0x1b8)](_0xc99a81=>{const _0x4d722b=_0x5c836d;if(_0xc99a81['location']&&_0xc99a81['location'][_0x4d722b(0x1c5)]()!==''){const _0x5af3db=_0xc99a81[_0x4d722b(0x1c7)][_0x4d722b(0x1c5)]();_0x3cf393[_0x4d722b(0x1bf)](_0x5af3db),(_0xc99a81[_0x4d722b(0x1ab)]==='motion'||_0xc99a81[_0x4d722b(0x1ab)]&&_0xc99a81['type'][_0x4d722b(0x1af)]()[_0x4d722b(0x1b3)](_0x4d722b(0x1c4)))&&_0x18a6ed[_0x4d722b(0x1bf)](_0x5af3db);}});const _0x12dcdf=Array[_0x5c836d(0x1b6)](_0x3cf393)[_0x5c836d(0x1bd)](),_0x20fdb3=Array[_0x5c836d(0x1b6)](_0x18a6ed)[_0x5c836d(0x1bd)]();if(_0x12dcdf['length']===0x0){_0x271dfa['log']['debug'](_0x5c836d(0x1a1));return;}let _0x5c3c0b={'rooms':[],'matrix':[]};try{const _0x56b19d=await _0x271dfa[_0x5c836d(0x1bc)](_0x5c836d(0x1a5));_0x56b19d&&_0x56b19d[_0x5c836d(0x1ac)]&&(_0x5c3c0b=JSON['parse'](_0x56b19d['val']));}catch(_0x47417c){}const _0x3d4300=[],_0x42e9c4=_0x12dcdf['length'];for(let _0x1109d6=0x0;_0x1109d6<_0x42e9c4;_0x1109d6++){const _0xe15e40=[];for(let _0x1b1f9b=0x0;_0x1b1f9b<_0x42e9c4;_0x1b1f9b++){let _0x1d694b=_0x1109d6===_0x1b1f9b?0x1:0x0;const _0x23b2f3=_0x12dcdf[_0x1109d6],_0x3ed3f1=_0x12dcdf[_0x1b1f9b],_0x4a7c52=_0x5c3c0b[_0x5c836d(0x1cd)]?_0x5c3c0b[_0x5c836d(0x1cd)]['indexOf'](_0x23b2f3):-0x1,_0x415b8b=_0x5c3c0b['rooms']?_0x5c3c0b[_0x5c836d(0x1cd)][_0x5c836d(0x1cf)](_0x3ed3f1):-0x1;_0x4a7c52!==-0x1&&_0x415b8b!==-0x1&&_0x5c3c0b[_0x5c836d(0x1c6)][_0x4a7c52]&&_0x5c3c0b['matrix'][_0x4a7c52][_0x415b8b]!==undefined&&(_0x1d694b=_0x5c3c0b['matrix'][_0x4a7c52][_0x415b8b]),_0xe15e40['push'](_0x1d694b);}_0x3d4300[_0x5c836d(0x1b5)](_0xe15e40);}const _0x11c5b8={'updated':Date[_0x5c836d(0x1b2)](),'nodeCount':_0x42e9c4,'rooms':_0x12dcdf,'matrix':_0x3d4300,'monitored':_0x20fdb3};JSON[_0x5c836d(0x1a7)](_0x11c5b8[_0x5c836d(0x1cd)])!==JSON[_0x5c836d(0x1a7)](_0x5c3c0b[_0x5c836d(0x1cd)])||JSON[_0x5c836d(0x1a7)](_0x11c5b8[_0x5c836d(0x1c6)])!==JSON[_0x5c836d(0x1a7)](_0x5c3c0b[_0x5c836d(0x1c6)])||JSON[_0x5c836d(0x1a7)](_0x11c5b8[_0x5c836d(0x1be)])!==JSON['stringify'](_0x5c3c0b['monitored']||[])?(await _0x271dfa[_0x5c836d(0x1c9)]('analysis.topology.structure',{'val':JSON[_0x5c836d(0x1a7)](_0x11c5b8),'ack':!![]}),_0x271dfa[_0x5c836d(0x1ca)][_0x5c836d(0x1c8)](_0x5c836d(0x1c1)+_0x42e9c4+'\x20Nodes\x20(Display\x20Names\x20restored).'),_0x271dfa[_0x5c836d(0x1b0)]&&_0x271dfa['sendToPythonWrapper']('SET_TOPOLOGY',_0x11c5b8)):_0x271dfa[_0x5c836d(0x1ca)][_0x5c836d(0x1b1)](_0x5c836d(0x1a4));}module[a9_0x3c1a6e(0x1bb)]={'updateTopology':updateTopology};function a9_0x15a7(){const _0x284523=['1332499HANtsR','push','from','3519162sFPAUR','forEach','1335084tBVNnL','174582hgmjaB','exports','getStateAsync','sort','monitored','add','toString','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','devices','394HjvgsW','bewegung','trim','matrix','location','info','setStateAsync','log','240xmfquu','./setup','rooms','config','indexOf','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','(((.+)+)+)+$','10jQbSfM','ðŸ•¸ï¸\x20Topology\x20unchanged.','analysis.topology.structure','1385HSzzkm','stringify','search','606EahYaA','apply','type','val','2916969YLatan','21044gVQJJG','toLowerCase','sendToPythonWrapper','debug','now','includes'];a9_0x15a7=function(){return _0x284523;};return a9_0x15a7();}