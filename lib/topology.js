function a9_0x4d92(_0x1b9745,_0x1ff639){const _0x115f79=a9_0x5a3a();return a9_0x4d92=function(_0x3a2b8b,_0x39a090){_0x3a2b8b=_0x3a2b8b-0x106;let _0x5a3a4b=_0x115f79[_0x3a2b8b];return _0x5a3a4b;},a9_0x4d92(_0x1b9745,_0x1ff639);}const a9_0x1ece52=a9_0x4d92;(function(_0x2e37ac,_0x573585){const _0x2fed53=a9_0x4d92,_0x420dba=_0x2e37ac();while(!![]){try{const _0x4c798e=parseInt(_0x2fed53(0x134))/0x1+parseInt(_0x2fed53(0x133))/0x2+parseInt(_0x2fed53(0x12e))/0x3*(parseInt(_0x2fed53(0x111))/0x4)+parseInt(_0x2fed53(0x12d))/0x5*(parseInt(_0x2fed53(0x11d))/0x6)+parseInt(_0x2fed53(0x115))/0x7+-parseInt(_0x2fed53(0x11b))/0x8*(-parseInt(_0x2fed53(0x122))/0x9)+-parseInt(_0x2fed53(0x136))/0xa;if(_0x4c798e===_0x573585)break;else _0x420dba['push'](_0x420dba['shift']());}catch(_0x26640d){_0x420dba['push'](_0x420dba['shift']());}}}(a9_0x5a3a,0x55791));const a9_0x39a090=(function(){let _0x42289f=!![];return function(_0x561b0,_0x4fb90e){const _0x515497=_0x42289f?function(){const _0x1683e2=a9_0x4d92;if(_0x4fb90e){const _0x2475ab=_0x4fb90e[_0x1683e2(0x125)](_0x561b0,arguments);return _0x4fb90e=null,_0x2475ab;}}:function(){};return _0x42289f=![],_0x515497;};}()),a9_0x3a2b8b=a9_0x39a090(this,function(){const _0x12c772=a9_0x4d92;return a9_0x3a2b8b[_0x12c772(0x12f)]()[_0x12c772(0x135)]('(((.+)+)+)+$')[_0x12c772(0x12f)]()[_0x12c772(0x119)](a9_0x3a2b8b)[_0x12c772(0x135)]('(((.+)+)+)+$');});a9_0x3a2b8b();'use strict';function a9_0x5a3a(){const _0x375242=['toString','toLowerCase','length','type','3174WbsgBY','317164GloVXb','search','12116110ARvQEU','\x20Nodes\x20(Display\x20Names\x20restored).','val','debug','location','forEach','config','rooms','includes','from','setStateAsync','getStateAsync','4FHtRHF','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','indexOf','devices','2545263TkUiCW','analysis.topology.structure','ðŸ•¸ï¸\x20Topology\x20unchanged.','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','constructor','sort','8dDYeFb','add','798jmcfWz','matrix','monitored','info','stringify','3246930YeJIuu','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','trim','apply','parse','push','motion','log','bewegung','exports','sendToPythonWrapper','11755HvyQvh','617685mTrJhK'];a9_0x5a3a=function(){return _0x375242;};return a9_0x5a3a();}const setup=require('./setup');async function updateTopology(_0x2ad62c){const _0x2489c9=a9_0x4d92;_0x2ad62c[_0x2489c9(0x129)][_0x2489c9(0x108)](_0x2489c9(0x112));const _0x42182c=_0x2ad62c[_0x2489c9(0x10b)][_0x2489c9(0x114)]||[],_0x24ba6f=new Set(),_0x1a8d00=new Set();_0x42182c[_0x2489c9(0x10a)](_0x1e7e95=>{const _0x1dfa29=_0x2489c9;if(_0x1e7e95['location']&&_0x1e7e95[_0x1dfa29(0x109)]['trim']()!==''){const _0x3f2fd6=_0x1e7e95['location'][_0x1dfa29(0x124)]();_0x24ba6f['add'](_0x3f2fd6),(_0x1e7e95['type']===_0x1dfa29(0x128)||_0x1e7e95[_0x1dfa29(0x132)]&&_0x1e7e95[_0x1dfa29(0x132)][_0x1dfa29(0x130)]()[_0x1dfa29(0x10d)](_0x1dfa29(0x12a)))&&_0x1a8d00[_0x1dfa29(0x11c)](_0x3f2fd6);}});const _0x1c459c=Array['from'](_0x24ba6f)['sort'](),_0x187237=Array[_0x2489c9(0x10e)](_0x1a8d00)[_0x2489c9(0x11a)]();if(_0x1c459c[_0x2489c9(0x131)]===0x0){_0x2ad62c[_0x2489c9(0x129)][_0x2489c9(0x108)](_0x2489c9(0x123));return;}let _0x340fd9={'rooms':[],'matrix':[]};try{const _0x199152=await _0x2ad62c[_0x2489c9(0x110)](_0x2489c9(0x116));_0x199152&&_0x199152[_0x2489c9(0x107)]&&(_0x340fd9=JSON[_0x2489c9(0x126)](_0x199152['val']));}catch(_0x3ceccf){}const _0x53df19=[],_0x1f1004=_0x1c459c['length'];for(let _0x3ca2e2=0x0;_0x3ca2e2<_0x1f1004;_0x3ca2e2++){const _0x25a06f=[];for(let _0x14c008=0x0;_0x14c008<_0x1f1004;_0x14c008++){let _0xfc6c5c=_0x3ca2e2===_0x14c008?0x1:0x0;const _0xd93d1a=_0x1c459c[_0x3ca2e2],_0x55a165=_0x1c459c[_0x14c008],_0x5e75bc=_0x340fd9['rooms']?_0x340fd9['rooms'][_0x2489c9(0x113)](_0xd93d1a):-0x1,_0x410ebb=_0x340fd9['rooms']?_0x340fd9[_0x2489c9(0x10c)][_0x2489c9(0x113)](_0x55a165):-0x1;_0x5e75bc!==-0x1&&_0x410ebb!==-0x1&&_0x340fd9[_0x2489c9(0x11e)][_0x5e75bc]&&_0x340fd9['matrix'][_0x5e75bc][_0x410ebb]!==undefined&&(_0xfc6c5c=_0x340fd9[_0x2489c9(0x11e)][_0x5e75bc][_0x410ebb]),_0x25a06f[_0x2489c9(0x127)](_0xfc6c5c);}_0x53df19[_0x2489c9(0x127)](_0x25a06f);}const _0x3590be={'updated':Date['now'](),'nodeCount':_0x1f1004,'rooms':_0x1c459c,'matrix':_0x53df19,'monitored':_0x187237};JSON[_0x2489c9(0x121)](_0x3590be[_0x2489c9(0x10c)])!==JSON['stringify'](_0x340fd9['rooms'])||JSON[_0x2489c9(0x121)](_0x3590be[_0x2489c9(0x11e)])!==JSON[_0x2489c9(0x121)](_0x340fd9[_0x2489c9(0x11e)])||JSON[_0x2489c9(0x121)](_0x3590be['monitored'])!==JSON[_0x2489c9(0x121)](_0x340fd9[_0x2489c9(0x11f)]||[])?(await _0x2ad62c[_0x2489c9(0x10f)](_0x2489c9(0x116),{'val':JSON['stringify'](_0x3590be),'ack':!![]}),_0x2ad62c[_0x2489c9(0x129)][_0x2489c9(0x120)](_0x2489c9(0x118)+_0x1f1004+_0x2489c9(0x106)),_0x2ad62c[_0x2489c9(0x12c)]&&_0x2ad62c[_0x2489c9(0x12c)]('SET_TOPOLOGY',_0x3590be)):_0x2ad62c['log'][_0x2489c9(0x108)](_0x2489c9(0x117));}module[a9_0x1ece52(0x12b)]={'updateTopology':updateTopology};