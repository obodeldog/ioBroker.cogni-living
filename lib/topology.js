const a9_0x1b056c=a9_0x1495;(function(_0x17aa9a,_0x444898){const _0x34df4e=a9_0x1495,_0x593a29=_0x17aa9a();while(!![]){try{const _0x3bcf3e=parseInt(_0x34df4e(0xcb))/0x1+-parseInt(_0x34df4e(0xce))/0x2+parseInt(_0x34df4e(0xc1))/0x3+parseInt(_0x34df4e(0xd4))/0x4+-parseInt(_0x34df4e(0xd0))/0x5*(parseInt(_0x34df4e(0xb0))/0x6)+-parseInt(_0x34df4e(0xbf))/0x7*(parseInt(_0x34df4e(0xcf))/0x8)+parseInt(_0x34df4e(0xd8))/0x9;if(_0x3bcf3e===_0x444898)break;else _0x593a29['push'](_0x593a29['shift']());}catch(_0x741861){_0x593a29['push'](_0x593a29['shift']());}}}(a9_0xf1dc,0x7011f));function a9_0xf1dc(){const _0x398d76=['stringify','constructor','227119IndhCR','debug','from','813658GRshDa','15448CUeDeW','449630lGpZnJ','length','push','exports','570692VWoRNp','sort','ðŸ•¸ï¸\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.','trim','11035422frlpge','getStateAsync','\x20Nodes,\x20','val','analysis.topology.structure','ðŸ•¸ï¸\x20Topology\x20unchanged.','42AUTYip','\x20Monitored\x20Rooms.','parse','type','toString','(((.+)+)+)+$','apply','ðŸ•¸ï¸\x20Updating\x20Graph\x20Topology...','matrix','forEach','SET_TOPOLOGY','toLowerCase','location','indexOf','search','735jKNift','log','306465zXSneE','monitored','rooms','ðŸ•¸ï¸\x20Topology\x20Graph\x20updated:\x20','setStateAsync','sendToPythonWrapper','config','add'];a9_0xf1dc=function(){return _0x398d76;};return a9_0xf1dc();}function a9_0x1495(_0x3b60a0,_0x31cd14){const _0x25e77d=a9_0xf1dc();return a9_0x1495=function(_0x7c3e79,_0xc20e4c){_0x7c3e79=_0x7c3e79-0xad;let _0xf1dc0f=_0x25e77d[_0x7c3e79];return _0xf1dc0f;},a9_0x1495(_0x3b60a0,_0x31cd14);}const a9_0xc20e4c=(function(){let _0x460ffc=!![];return function(_0x183be3,_0x1c8b93){const _0x5c58ce=_0x460ffc?function(){const _0x49a728=a9_0x1495;if(_0x1c8b93){const _0x30aea0=_0x1c8b93[_0x49a728(0xb6)](_0x183be3,arguments);return _0x1c8b93=null,_0x30aea0;}}:function(){};return _0x460ffc=![],_0x5c58ce;};}()),a9_0x7c3e79=a9_0xc20e4c(this,function(){const _0x2dd08a=a9_0x1495;return a9_0x7c3e79[_0x2dd08a(0xb4)]()[_0x2dd08a(0xbe)](_0x2dd08a(0xb5))[_0x2dd08a(0xb4)]()[_0x2dd08a(0xca)](a9_0x7c3e79)[_0x2dd08a(0xbe)](_0x2dd08a(0xb5));});a9_0x7c3e79();'use strict';async function updateTopology(_0x5f2d22){const _0x3833e5=a9_0x1495;_0x5f2d22['log'][_0x3833e5(0xcc)](_0x3833e5(0xb7));const _0x3ab7ca=_0x5f2d22[_0x3833e5(0xc7)]['devices']||[],_0x5c05f5=new Set(),_0x5ee460=new Set();_0x3ab7ca[_0x3833e5(0xb9)](_0x4566cd=>{const _0x390895=_0x3833e5;if(_0x4566cd[_0x390895(0xbc)]&&_0x4566cd['location'][_0x390895(0xd7)]()!==''){const _0x1eb680=_0x4566cd['location'][_0x390895(0xd7)]();_0x5c05f5[_0x390895(0xc8)](_0x1eb680),(_0x4566cd[_0x390895(0xb3)]==='motion'||_0x4566cd['type']&&_0x4566cd[_0x390895(0xb3)][_0x390895(0xbb)]()['includes']('bewegung'))&&_0x5ee460['add'](_0x1eb680);}});const _0x47f873=Array[_0x3833e5(0xcd)](_0x5c05f5)[_0x3833e5(0xd5)](),_0x496910=Array[_0x3833e5(0xcd)](_0x5ee460)[_0x3833e5(0xd5)]();if(_0x47f873[_0x3833e5(0xd1)]===0x0){_0x5f2d22[_0x3833e5(0xc0)][_0x3833e5(0xcc)](_0x3833e5(0xd6));return;}let _0x37c542={'rooms':[],'matrix':[]};try{const _0x37b820=await _0x5f2d22[_0x3833e5(0xd9)](_0x3833e5(0xae));_0x37b820&&_0x37b820['val']&&(_0x37c542=JSON[_0x3833e5(0xb2)](_0x37b820[_0x3833e5(0xad)]));}catch(_0x2e6705){}const _0x497151=[],_0x520b15=_0x47f873[_0x3833e5(0xd1)];for(let _0x4728cb=0x0;_0x4728cb<_0x520b15;_0x4728cb++){const _0x4ffcac=[];for(let _0x377948=0x0;_0x377948<_0x520b15;_0x377948++){let _0x418579=_0x4728cb===_0x377948?0x1:0x0;const _0x4a6f46=_0x47f873[_0x4728cb],_0xcc4de=_0x47f873[_0x377948],_0x439e99=_0x37c542[_0x3833e5(0xc3)]?_0x37c542['rooms'][_0x3833e5(0xbd)](_0x4a6f46):-0x1,_0x11b04a=_0x37c542['rooms']?_0x37c542[_0x3833e5(0xc3)]['indexOf'](_0xcc4de):-0x1;_0x439e99!==-0x1&&_0x11b04a!==-0x1&&_0x37c542[_0x3833e5(0xb8)][_0x439e99]&&_0x37c542['matrix'][_0x439e99][_0x11b04a]!==undefined&&(_0x418579=_0x37c542[_0x3833e5(0xb8)][_0x439e99][_0x11b04a]),_0x4ffcac[_0x3833e5(0xd2)](_0x418579);}_0x497151[_0x3833e5(0xd2)](_0x4ffcac);}const _0x337181={'updated':Date['now'](),'nodeCount':_0x520b15,'rooms':_0x47f873,'matrix':_0x497151,'monitored':_0x496910};JSON[_0x3833e5(0xc9)](_0x337181[_0x3833e5(0xc3)])!==JSON[_0x3833e5(0xc9)](_0x37c542['rooms'])||JSON[_0x3833e5(0xc9)](_0x337181[_0x3833e5(0xb8)])!==JSON['stringify'](_0x37c542[_0x3833e5(0xb8)])||JSON[_0x3833e5(0xc9)](_0x337181['monitored'])!==JSON[_0x3833e5(0xc9)](_0x37c542[_0x3833e5(0xc2)]||[])?(await _0x5f2d22[_0x3833e5(0xc5)]('analysis.topology.structure',{'val':JSON['stringify'](_0x337181),'ack':!![]}),_0x5f2d22['log']['info'](_0x3833e5(0xc4)+_0x520b15+_0x3833e5(0xda)+_0x496910[_0x3833e5(0xd1)]+_0x3833e5(0xb1)),_0x5f2d22[_0x3833e5(0xc6)]&&_0x5f2d22[_0x3833e5(0xc6)](_0x3833e5(0xba),_0x337181)):_0x5f2d22[_0x3833e5(0xc0)][_0x3833e5(0xcc)](_0x3833e5(0xaf));}module[a9_0x1b056c(0xd3)]={'updateTopology':updateTopology};