(function(_0x2ac102,_0x48b15c){const _0x55e079=a9_0x7b2e,_0x5d4446=_0x2ac102();while(!![]){try{const _0x670271=-parseInt(_0x55e079(0x109))/0x1*(-parseInt(_0x55e079(0x113))/0x2)+parseInt(_0x55e079(0x12d))/0x3*(-parseInt(_0x55e079(0x116))/0x4)+parseInt(_0x55e079(0x10c))/0x5+parseInt(_0x55e079(0x128))/0x6*(parseInt(_0x55e079(0x131))/0x7)+-parseInt(_0x55e079(0x126))/0x8*(-parseInt(_0x55e079(0x117))/0x9)+-parseInt(_0x55e079(0x120))/0xa+-parseInt(_0x55e079(0x121))/0xb*(parseInt(_0x55e079(0x115))/0xc);if(_0x670271===_0x48b15c)break;else _0x5d4446['push'](_0x5d4446['shift']());}catch(_0x1d9569){_0x5d4446['push'](_0x5d4446['shift']());}}}(a9_0xb7c7,0xd76f8));const a9_0x1b771e=(function(){let _0x2674fd=!![];return function(_0x31ee00,_0x543cbe){const _0x3d8620=_0x2674fd?function(){if(_0x543cbe){const _0x15a779=_0x543cbe['apply'](_0x31ee00,arguments);return _0x543cbe=null,_0x15a779;}}:function(){};return _0x2674fd=![],_0x3d8620;};}()),a9_0x4d1825=a9_0x1b771e(this,function(){const _0x134bc8=a9_0x7b2e;return a9_0x4d1825[_0x134bc8(0x112)]()[_0x134bc8(0x106)](_0x134bc8(0x10b))[_0x134bc8(0x112)]()[_0x134bc8(0x11e)](a9_0x4d1825)[_0x134bc8(0x106)](_0x134bc8(0x10b));});a9_0x4d1825();'use strict';const setup=require('./setup');async function updateTopology(_0x35251b){const _0x11c9de=a9_0x7b2e;_0x35251b[_0x11c9de(0x10d)]['debug'](_0x11c9de(0x119));const _0x4e2c2a=_0x35251b['config'][_0x11c9de(0x10a)]||[],_0x201d18=new Set(),_0x14310d=new Set();_0x4e2c2a[_0x11c9de(0x11d)](_0xbe790e=>{const _0x19c62a=_0x11c9de;if(_0xbe790e[_0x19c62a(0x118)]&&_0xbe790e['location'][_0x19c62a(0x10e)]()!==''){const _0x2893cb=_0xbe790e[_0x19c62a(0x118)][_0x19c62a(0x10e)]();_0x201d18[_0x19c62a(0x123)](_0x2893cb),(_0xbe790e['type']==='motion'||_0xbe790e[_0x19c62a(0x12f)]&&_0xbe790e['type'][_0x19c62a(0x133)]()['includes'](_0x19c62a(0x12a)))&&_0x14310d[_0x19c62a(0x123)](_0x2893cb);}});const _0x536181=Array['from'](_0x201d18)[_0x11c9de(0x129)](),_0x4b6cbf=Array[_0x11c9de(0x108)](_0x14310d)[_0x11c9de(0x129)]();if(_0x536181['length']===0x0){_0x35251b[_0x11c9de(0x10d)][_0x11c9de(0x122)]('üï∏Ô∏è\x20No\x20rooms\x20found\x20via\x20devices.\x20Topology\x20skipped.');return;}let _0x361585={'rooms':[],'matrix':[]};try{const _0x59a755=await _0x35251b[_0x11c9de(0x132)](_0x11c9de(0x130));_0x59a755&&_0x59a755[_0x11c9de(0x114)]&&(_0x361585=JSON[_0x11c9de(0x11a)](_0x59a755[_0x11c9de(0x114)]));}catch(_0x3b64ca){}const _0x266d0a=[],_0x1d68cc=_0x536181[_0x11c9de(0x125)];for(let _0x5a82ea=0x0;_0x5a82ea<_0x1d68cc;_0x5a82ea++){const _0x4572b3=[];for(let _0x3e3194=0x0;_0x3e3194<_0x1d68cc;_0x3e3194++){let _0x1d2d9d=_0x5a82ea===_0x3e3194?0x1:0x0;const _0x11fd0d=_0x536181[_0x5a82ea],_0x246967=_0x536181[_0x3e3194],_0x52b02b=_0x361585[_0x11c9de(0x127)]?_0x361585[_0x11c9de(0x127)][_0x11c9de(0x11f)](_0x11fd0d):-0x1,_0x32f2fe=_0x361585[_0x11c9de(0x127)]?_0x361585['rooms'][_0x11c9de(0x11f)](_0x246967):-0x1;_0x52b02b!==-0x1&&_0x32f2fe!==-0x1&&_0x361585[_0x11c9de(0x111)][_0x52b02b]&&_0x361585[_0x11c9de(0x111)][_0x52b02b][_0x32f2fe]!==undefined&&(_0x1d2d9d=_0x361585[_0x11c9de(0x111)][_0x52b02b][_0x32f2fe]),_0x4572b3[_0x11c9de(0x12e)](_0x1d2d9d);}_0x266d0a[_0x11c9de(0x12e)](_0x4572b3);}const _0x56d6ac={'updated':Date[_0x11c9de(0x110)](),'nodeCount':_0x1d68cc,'rooms':_0x536181,'matrix':_0x266d0a,'monitored':_0x4b6cbf};JSON[_0x11c9de(0x107)](_0x56d6ac['rooms'])!==JSON['stringify'](_0x361585[_0x11c9de(0x127)])||JSON[_0x11c9de(0x107)](_0x56d6ac[_0x11c9de(0x111)])!==JSON['stringify'](_0x361585['matrix'])||JSON['stringify'](_0x56d6ac[_0x11c9de(0x11c)])!==JSON[_0x11c9de(0x107)](_0x361585[_0x11c9de(0x11c)]||[])?(await _0x35251b[_0x11c9de(0x12b)](_0x11c9de(0x130),{'val':JSON[_0x11c9de(0x107)](_0x56d6ac),'ack':!![]}),_0x35251b[_0x11c9de(0x10d)][_0x11c9de(0x11b)](_0x11c9de(0x10f)+_0x1d68cc+_0x11c9de(0x124)),_0x35251b['sendToPythonWrapper']&&_0x35251b[_0x11c9de(0x105)]('SET_TOPOLOGY',_0x56d6ac)):_0x35251b[_0x11c9de(0x10d)][_0x11c9de(0x122)](_0x11c9de(0x12c));}function a9_0x7b2e(_0x383b26,_0xbb1f83){const _0x4439b6=a9_0xb7c7();return a9_0x7b2e=function(_0x4d1825,_0x1b771e){_0x4d1825=_0x4d1825-0x105;let _0xb7c7e7=_0x4439b6[_0x4d1825];return _0xb7c7e7;},a9_0x7b2e(_0x383b26,_0xbb1f83);}module['exports']={'updateTopology':updateTopology};function a9_0xb7c7(){const _0x5bff21=['devices','(((.+)+)+)+$','7463260FNtsqP','log','trim','üï∏Ô∏è\x20Topology\x20Graph\x20updated:\x20','now','matrix','toString','14bxTPpp','val','1164fKIyrg','3516nBtTuk','378567cbDggm','location','üï∏Ô∏è\x20Updating\x20Graph\x20Topology...','parse','info','monitored','forEach','constructor','indexOf','1166700BQcDbi','193710KieXWa','debug','add','\x20Nodes\x20(Display\x20Names\x20restored).','length','200sxavVS','rooms','1368qjztuK','sort','bewegung','setStateAsync','üï∏Ô∏è\x20Topology\x20unchanged.','5556BMPowx','push','type','analysis.topology.structure','9779yZYAiP','getStateAsync','toLowerCase','sendToPythonWrapper','search','stringify','from','210347ypDCOk'];a9_0xb7c7=function(){return _0x5bff21;};return a9_0xb7c7();}