const a2_0x1b7267=a2_0x2e2b;(function(_0x3cb71a,_0x5071fb){const _0x117bcd=a2_0x2e2b,_0x215450=_0x3cb71a();while(!![]){try{const _0x7f7d45=parseInt(_0x117bcd(0x1b8))/0x1+-parseInt(_0x117bcd(0x1bf))/0x2*(parseInt(_0x117bcd(0x1cb))/0x3)+-parseInt(_0x117bcd(0x1ba))/0x4*(parseInt(_0x117bcd(0x1c8))/0x5)+-parseInt(_0x117bcd(0x1bb))/0x6+-parseInt(_0x117bcd(0x1b1))/0x7+parseInt(_0x117bcd(0x1ca))/0x8*(-parseInt(_0x117bcd(0x1ad))/0x9)+parseInt(_0x117bcd(0x1bc))/0xa;if(_0x7f7d45===_0x5071fb)break;else _0x215450['push'](_0x215450['shift']());}catch(_0x2a34a6){_0x215450['push'](_0x215450['shift']());}}}(a2_0x5889,0x66c64));const a2_0x1c4511=(function(){let _0x80ff1c=!![];return function(_0x10e4b4,_0x21af0b){const _0x29abdd=_0x80ff1c?function(){const _0x3e5760=a2_0x2e2b;if(_0x21af0b){const _0x3752c3=_0x21af0b[_0x3e5760(0x1c3)](_0x10e4b4,arguments);return _0x21af0b=null,_0x3752c3;}}:function(){};return _0x80ff1c=![],_0x29abdd;};}()),a2_0x54741e=a2_0x1c4511(this,function(){const _0x5cd8a0=a2_0x2e2b;return a2_0x54741e[_0x5cd8a0(0x1ce)]()[_0x5cd8a0(0x1c4)](_0x5cd8a0(0x1bd))[_0x5cd8a0(0x1ce)]()['constructor'](a2_0x54741e)[_0x5cd8a0(0x1c4)](_0x5cd8a0(0x1bd));});a2_0x54741e();'use strict';const setup=require(a2_0x1b7267(0x1b2));let activeTimer=null,currentMonitoredRoom=null,timeoutMs=0x0,startTime=0x0,alarmStage=0x0;const DEFAULT_TIMEOUTS={'bad':0x2d,'bath':0x2d,'toilet':0x1e,'wc':0x1e,'keller':0x3c};async function loadConfig(_0x879361){const _0x4e1946=a2_0x1b7267;try{const _0x2a8ed8=await _0x879361[_0x4e1946(0x1c0)](_0x4e1946(0x1b6));if(_0x2a8ed8&&_0x2a8ed8['val'])return JSON[_0x4e1946(0x1b4)](_0x2a8ed8[_0x4e1946(0x1cc)]);}catch(_0x294bcf){}return{};}async function isActive(_0x5a97f9){const _0x59b036=a2_0x1b7267;try{const _0x3bca06=await _0x5a97f9[_0x59b036(0x1c0)](_0x59b036(0x1a9));return _0x3bca06&&_0x3bca06[_0x59b036(0x1cc)];}catch(_0x34c93c){return![];}}async function updateLocation(_0x14cc51,_0x4d0e3f){const _0x49eae3=a2_0x1b7267;if(!_0x4d0e3f||_0x4d0e3f===_0x49eae3(0x1b3))return;if(!await isActive(_0x14cc51)){resetTimer(_0x14cc51);return;}if(currentMonitoredRoom!==_0x4d0e3f){resetTimer(_0x14cc51),await _0x14cc51[_0x49eae3(0x1af)](_0x49eae3(0x1c2),{'val':_0x4d0e3f,'ack':!![]});const _0x3b4e9e=await loadConfig(_0x14cc51),_0x39eda8=_0x4d0e3f[_0x49eae3(0x1be)]();let _0x3915b2=_0x3b4e9e[_0x4d0e3f]||_0x3b4e9e[_0x39eda8];if(!_0x3915b2)for(const _0x355210 in DEFAULT_TIMEOUTS){if(_0x39eda8[_0x49eae3(0x1c1)](_0x355210)){_0x3915b2=DEFAULT_TIMEOUTS[_0x355210];break;}}!_0x3915b2&&_0x3b4e9e[_0x49eae3(0x1b9)]&&(_0x3915b2=_0x3b4e9e[_0x49eae3(0x1b9)]);if(!_0x3915b2){_0x14cc51[_0x49eae3(0x1c5)][_0x49eae3(0x1cd)]('[DeadMan]\x20'+_0x4d0e3f+'\x20ist\x20sicher\x20(Kein\x20Timer).\x20√úberwachung\x20pausiert.');return;}currentMonitoredRoom=_0x4d0e3f,startTimer(_0x14cc51,_0x3915b2);}}function startTimer(_0x58e826,_0x1b1397){const _0x95f876=a2_0x1b7267;if(activeTimer)clearTimeout(activeTimer);timeoutMs=_0x1b1397*0x3c*0x3e8,startTime=Date[_0x95f876(0x1a7)](),alarmStage=0x0,_0x58e826[_0x95f876(0x1c5)][_0x95f876(0x1aa)](_0x95f876(0x1cf)+currentMonitoredRoom+_0x95f876(0x1a8)+_0x1b1397+'\x20Min.'),_0x58e826[_0x95f876(0x1af)]('analysis.safety.deadMan.alarmState',{'val':'ok','ack':!![]}),activeTimer=setTimeout(()=>triggerPreWarn(_0x58e826),timeoutMs);}function resetTimer(_0x7fc8e4){const _0x68a758=a2_0x1b7267;if(activeTimer)clearTimeout(activeTimer);activeTimer=null,currentMonitoredRoom=null,alarmStage=0x0,_0x7fc8e4[_0x68a758(0x1af)]('analysis.safety.deadMan.alarmState',{'val':'ok','ack':!![]});}function a2_0x2e2b(_0x3b021a,_0x4a0257){const _0x80673b=a2_0x5889();return a2_0x2e2b=function(_0x54741e,_0x1c4511){_0x54741e=_0x54741e-0x1a5;let _0x58894d=_0x80673b[_0x54741e];return _0x58894d;},a2_0x2e2b(_0x3b021a,_0x4a0257);}async function triggerPreWarn(_0x7f8ba5){const _0x5c9330=a2_0x1b7267;alarmStage=0x1,await _0x7f8ba5[_0x5c9330(0x1af)](_0x5c9330(0x1ae),{'val':_0x5c9330(0x1b5),'ack':!![]});const _0x5d1d9e=_0x5c9330(0x1c6)+currentMonitoredRoom+_0x5c9330(0x1ab);_0x7f8ba5[_0x5c9330(0x1c5)][_0x5c9330(0x1a5)]('[DeadMan]\x20'+_0x5d1d9e),await setup[_0x5c9330(0x1b0)](_0x7f8ba5,_0x5c9330(0x1b7)+_0x5d1d9e),activeTimer=setTimeout(()=>triggerAlarm(_0x7f8ba5),0x5*0x3c*0x3e8);}function a2_0x5889(){const _0x338959=['5guxoaW','[DeadMan]\x20','2150752cGAgtp','1100613DrfvzY','val','debug','toString','üëº\x20Schutzengel:\x20√úberwache\x20','warn','exports','now','\x20f√ºr\x20','analysis.safety.deadMan.active','info','.\x20Alles\x20in\x20Ordnung?','üö®\x20NOTFALL-ALARM:\x20Person\x20reagiert\x20nicht\x20in\x20','9yfhECB','analysis.safety.deadMan.alarmState','setStateAsync','sendNotification','3920644wMhNPv','./setup','Unknown','parse','pre_warn','analysis.safety.deadMan.config','üëº\x20Schutzengel-Frage:\x20','619709SBgDGU','default','3102476xAclGL','4411662zrVsMA','28748290UXJgAu','(((.+)+)+)+$','toLowerCase','4RwTFAR','getStateAsync','includes','analysis.safety.deadMan.currentRoom','apply','search','log','‚è≥\x20ACHTUNG:\x20Ungew√∂hnlich\x20lange\x20Inaktivit√§t\x20in\x20','error'];a2_0x5889=function(){return _0x338959;};return a2_0x5889();}async function triggerAlarm(_0x13cf55){const _0x581443=a2_0x1b7267;alarmStage=0x2,await _0x13cf55[_0x581443(0x1af)]('analysis.safety.deadMan.alarmState',{'val':'alarm','ack':!![]});const _0x3a77f7=_0x581443(0x1ac)+currentMonitoredRoom+'!';_0x13cf55[_0x581443(0x1c5)][_0x581443(0x1c7)](_0x581443(0x1c9)+_0x3a77f7),await setup[_0x581443(0x1b0)](_0x13cf55,_0x3a77f7,![],!![]);}module[a2_0x1b7267(0x1a6)]={'updateLocation':updateLocation};