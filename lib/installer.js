function a3_0x4b42(){const _0x566993=['(((.+)+)+)+$','apply','1444242RtkSAr','32kNUOHi','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','log','join','existsSync','1557288NsfdXX','.venv','36cxbgdG','path','944742xnQbLx','63778ZOPnqu','1692376aQcewO','requirements.txt','search','pip.exe','includes','Permission\x20denied','error','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','2sRWgbF','dependencyInstallInProgress','Scripts','warn','2923612ZXXIzN','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','2141190lbShAQ','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','bin','python3\x20-m\x20venv\x20\x22','python','win32','EACCES','toString','info','message','44gnCJea','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','Creating\x20new\x20VENV...','‚úÖ\x20INSTALL\x20SUCCESS.','üêç\x20Checking\x20Python\x20environment...','3eEcyKW','15HTMUMd','pythonProcess','kill','pip','rmSync'];a3_0x4b42=function(){return _0x566993;};return a3_0x4b42();}const a3_0x2660e0=a3_0x34c4;(function(_0x12e143,_0x94fa86){const _0x192341=a3_0x34c4,_0x355fa8=_0x12e143();while(!![]){try{const _0x3f25f5=parseInt(_0x192341(0xca))/0x1*(parseInt(_0x192341(0xd4))/0x2)+-parseInt(_0x192341(0xb8))/0x3*(parseInt(_0x192341(0xd8))/0x4)+parseInt(_0x192341(0xb9))/0x5*(parseInt(_0x192341(0xc0))/0x6)+parseInt(_0x192341(0xcc))/0x7*(parseInt(_0x192341(0xc1))/0x8)+-parseInt(_0x192341(0xc8))/0x9*(parseInt(_0x192341(0xda))/0xa)+-parseInt(_0x192341(0xb2))/0xb*(parseInt(_0x192341(0xc6))/0xc)+-parseInt(_0x192341(0xcb))/0xd;if(_0x3f25f5===_0x94fa86)break;else _0x355fa8['push'](_0x355fa8['shift']());}catch(_0x3afb54){_0x355fa8['push'](_0x355fa8['shift']());}}}(a3_0x4b42,0x7f93a));const a3_0x2b3826=(function(){let _0x43c57c=!![];return function(_0x3fb2b5,_0x3ee37b){const _0x4f14a0=_0x43c57c?function(){const _0x2c0f71=a3_0x34c4;if(_0x3ee37b){const _0x12c971=_0x3ee37b[_0x2c0f71(0xbf)](_0x3fb2b5,arguments);return _0x3ee37b=null,_0x12c971;}}:function(){};return _0x43c57c=![],_0x4f14a0;};}()),a3_0x3cf4cd=a3_0x2b3826(this,function(){const _0x362867=a3_0x34c4;return a3_0x3cf4cd[_0x362867(0xe1)]()[_0x362867(0xce)](_0x362867(0xbe))['toString']()['constructor'](a3_0x3cf4cd)['search']('(((.+)+)+)+$');});a3_0x3cf4cd();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x2660e0(0xc9)),fs=require('fs'),IS_WIN=process['platform']===a3_0x2660e0(0xdf),ADAPTER_DIR=path[a3_0x2660e0(0xc4)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x2660e0(0xc4)](ADAPTER_DIR,a3_0x2660e0(0xc7)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,'Scripts','python.exe'):path[a3_0x2660e0(0xc4)](VENV_PATH,'bin',a3_0x2660e0(0xde)),PIP_EXE=IS_WIN?path[a3_0x2660e0(0xc4)](VENV_PATH,a3_0x2660e0(0xd6),a3_0x2660e0(0xcf)):path[a3_0x2660e0(0xc4)](VENV_PATH,a3_0x2660e0(0xdc),a3_0x2660e0(0xbc));function stopPythonService(_0x5034a3){const _0x573ff2=a3_0x2660e0;if(_0x5034a3[_0x573ff2(0xba)]){try{_0x5034a3['pythonProcess'][_0x573ff2(0xbb)]();}catch(_0x1cd922){}_0x5034a3[_0x573ff2(0xba)]=null;}}function a3_0x34c4(_0x43032b,_0x11cce1){const _0x4577fb=a3_0x4b42();return a3_0x34c4=function(_0x3cf4cd,_0x2b3826){_0x3cf4cd=_0x3cf4cd-0xb1;let _0x4b4271=_0x4577fb[_0x3cf4cd];return _0x4b4271;},a3_0x34c4(_0x43032b,_0x11cce1);}function installRequirementsInVenv(_0x53ccc8,_0x44f343,_0x261eca){const _0x32cf7c=a3_0x2660e0;_0x53ccc8['log'][_0x32cf7c(0xe2)]('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0x113e5e='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x44f343+'\x22';exec(_0x113e5e,{'timeout':0x1b7740},(_0x429d55,_0x21c08e,_0xa50a8a)=>{const _0x23b29b=_0x32cf7c;_0x53ccc8[_0x23b29b(0xd5)]=![];if(_0x429d55){_0x53ccc8[_0x23b29b(0xc3)]['error']('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0xa50a8a||_0x429d55[_0x23b29b(0xb1)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x3cd51f){}}else _0x53ccc8[_0x23b29b(0xc3)][_0x23b29b(0xe2)](_0x23b29b(0xb6)),_0x261eca&&_0x261eca();});}function installPythonDependencies(_0x57bf4f,_0x215d01){const _0x4990c1=a3_0x2660e0;if(_0x57bf4f[_0x4990c1(0xd5)])return;_0x57bf4f[_0x4990c1(0xd5)]=!![];const _0x4872e1=path[_0x4990c1(0xc4)](ADAPTER_DIR,'python_service',_0x4990c1(0xcd));stopPythonService(_0x57bf4f);if(fs[_0x4990c1(0xc5)](VENV_PATH)&&!fs[_0x4990c1(0xc5)](PIP_EXE)){_0x57bf4f['log'][_0x4990c1(0xd7)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x4990c1(0xbd)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x8c4180){_0x57bf4f['log'][_0x4990c1(0xd2)]('Delete\x20failed:\x20'+_0x8c4180[_0x4990c1(0xb1)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x57bf4f['log']['info'](_0x4990c1(0xb5)),execSync(_0x4990c1(0xdd)+VENV_PATH+'\x22');}catch(_0x32ff52){_0x57bf4f[_0x4990c1(0xd5)]=![];_0x32ff52['message'][_0x4990c1(0xd0)](_0x4990c1(0xe0))||_0x32ff52[_0x4990c1(0xb1)]['includes'](_0x4990c1(0xd1))?(_0x57bf4f['log'][_0x4990c1(0xd2)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x57bf4f['log'][_0x4990c1(0xd2)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x57bf4f[_0x4990c1(0xc3)][_0x4990c1(0xd2)](_0x4990c1(0xdb)+_0x32ff52[_0x4990c1(0xb1)]+_0x4990c1(0xc2));return;}installRequirementsInVenv(_0x57bf4f,_0x4872e1,_0x215d01);}function checkAndInstall(_0x5d79d8,_0x1685b1){const _0x4c51d2=a3_0x2660e0;if(fs[_0x4c51d2(0xc5)](PYTHON_EXE)&&fs[_0x4c51d2(0xc5)](PIP_EXE))try{return _0x5d79d8[_0x4c51d2(0xc3)][_0x4c51d2(0xe2)](_0x4c51d2(0xb7)),execSync('\x22'+PYTHON_EXE+_0x4c51d2(0xd9),{'timeout':0x3a98}),_0x5d79d8['log'][_0x4c51d2(0xe2)](_0x4c51d2(0xd3)),_0x1685b1&&_0x1685b1(),!![];}catch(_0x2373db){_0x5d79d8[_0x4c51d2(0xc3)][_0x4c51d2(0xd7)](_0x4c51d2(0xb3));}else _0x5d79d8['log']['warn'](_0x4c51d2(0xb4));return installPythonDependencies(_0x5d79d8,_0x1685b1),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};