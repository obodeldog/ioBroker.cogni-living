function a3_0x5b58(_0x3d5777,_0x49afc9){const _0x1d71df=a3_0x5adf();return a3_0x5b58=function(_0x4f616d,_0x535d0d){_0x4f616d=_0x4f616d-0xe5;let _0x5adf9b=_0x1d71df[_0x4f616d];return _0x5adf9b;},a3_0x5b58(_0x3d5777,_0x49afc9);}const a3_0x1ae907=a3_0x5b58;(function(_0x59833c,_0x379160){const _0x43ef70=a3_0x5b58,_0x2c9ce6=_0x59833c();while(!![]){try{const _0x183741=-parseInt(_0x43ef70(0x105))/0x1*(-parseInt(_0x43ef70(0xf6))/0x2)+-parseInt(_0x43ef70(0x104))/0x3+parseInt(_0x43ef70(0xfe))/0x4*(parseInt(_0x43ef70(0x103))/0x5)+parseInt(_0x43ef70(0xef))/0x6*(parseInt(_0x43ef70(0x10c))/0x7)+-parseInt(_0x43ef70(0x10a))/0x8+-parseInt(_0x43ef70(0x10d))/0x9*(parseInt(_0x43ef70(0xfc))/0xa)+-parseInt(_0x43ef70(0xea))/0xb;if(_0x183741===_0x379160)break;else _0x2c9ce6['push'](_0x2c9ce6['shift']());}catch(_0x24fee4){_0x2c9ce6['push'](_0x2c9ce6['shift']());}}}(a3_0x5adf,0xbf45e));const a3_0x535d0d=(function(){let _0x2e7891=!![];return function(_0x175427,_0x31e5bf){const _0x2f51bf=_0x2e7891?function(){const _0xc2d12f=a3_0x5b58;if(_0x31e5bf){const _0x258101=_0x31e5bf[_0xc2d12f(0xec)](_0x175427,arguments);return _0x31e5bf=null,_0x258101;}}:function(){};return _0x2e7891=![],_0x2f51bf;};}()),a3_0x4f616d=a3_0x535d0d(this,function(){const _0x140f97=a3_0x5b58;return a3_0x4f616d['toString']()[_0x140f97(0xfa)](_0x140f97(0x102))[_0x140f97(0x108)]()[_0x140f97(0x106)](a3_0x4f616d)['search']('(((.+)+)+)+$');});a3_0x4f616d();'use strict';const {execSync}=require('child_process'),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x1ae907(0x101)]===a3_0x1ae907(0xf0),ADAPTER_DIR=path[a3_0x1ae907(0xe7)](__dirname,'..'),IOBROKER_ROOT=path['join'](ADAPTER_DIR,'..','..'),DATA_DIR=path[a3_0x1ae907(0xe7)](IOBROKER_ROOT,a3_0x1ae907(0xe6),a3_0x1ae907(0xf2)),VENV_PATH=path[a3_0x1ae907(0xe7)](DATA_DIR,a3_0x1ae907(0x10b));if(!fs[a3_0x1ae907(0xf3)](DATA_DIR))try{fs[a3_0x1ae907(0xf5)](DATA_DIR,{'recursive':!![]});}catch(a3_0x293828){console[a3_0x1ae907(0x107)]('Could\x20not\x20create\x20data\x20dir,\x20falling\x20back\x20to\x20local');}const PYTHON_EXE=IS_WIN?path[a3_0x1ae907(0xe7)](VENV_PATH,a3_0x1ae907(0xe8),a3_0x1ae907(0xf4)):path[a3_0x1ae907(0xe7)](VENV_PATH,a3_0x1ae907(0x109),a3_0x1ae907(0x100));function checkAndInstall(_0x37e38b,_0x41ad6b){const _0x5597c9=a3_0x1ae907;let _0x26ba6e=![],_0x1930e6='';if(fs['existsSync'](PYTHON_EXE))try{execSync('\x22'+PYTHON_EXE+'\x22\x20--version',{'timeout':0x1388}),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20pandas;\x20import\x20numpy;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x2710}),_0x26ba6e=!![];}catch(_0x2e99b1){_0x1930e6='Python\x20existiert,\x20aber\x20Bibliotheken\x20fehlen\x20oder\x20Absturz:\x20'+_0x2e99b1[_0x5597c9(0xf9)];}else _0x1930e6=_0x5597c9(0xfb)+PYTHON_EXE;if(_0x26ba6e){_0x37e38b[_0x5597c9(0xe9)]['info'](_0x5597c9(0xed));if(_0x41ad6b)_0x41ad6b();return!![];}else return _0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)](_0x5597c9(0xf8)),_0x37e38b['log']['error']('-------------------------------------------------------------'),_0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)]('WICHTIG:\x20Speicherort\x20wurde\x20geÃ¤ndert\x20auf\x20\x27iobroker-data\x27,\x20damit\x20Updates\x20nicht\x20mehr\x20alles\x20lÃ¶schen!'),_0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)](_0x5597c9(0xf1)),_0x37e38b['log'][_0x5597c9(0x107)](''),_0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)](_0x5597c9(0x10e)),_0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)](_0x5597c9(0xee)),_0x37e38b[_0x5597c9(0xe9)]['error'](_0x5597c9(0xfd)),_0x37e38b['log'][_0x5597c9(0x107)](_0x5597c9(0xeb)),_0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)](_0x5597c9(0x10f)),_0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)](_0x5597c9(0xff)),_0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)]('6.\x20sudo\x20./venv/bin/pip\x20install\x20-r\x20/opt/iobroker/node_modules/iobroker.cogni-living/python_service/requirements.txt\x20--no-cache-dir'),_0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)](_0x5597c9(0xe5)),_0x37e38b['log'][_0x5597c9(0x107)]('-------------------------------------------------------------'),_0x37e38b[_0x5597c9(0xe9)][_0x5597c9(0x107)](_0x5597c9(0xf7)+_0x1930e6),![];}function a3_0x5adf(){const _0x1f0285=['7.\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20/opt/iobroker/iobroker-data/cogni-living','iobroker-data','join','Scripts','log','656227PCaTFk','4.\x20sudo\x20python3\x20-m\x20venv\x20venv','apply','âœ…\x20Python\x20Environment\x20detected\x20&\x20healthy\x20(Persistent).\x20Ready.','2.\x20cd\x20/opt/iobroker/iobroker-data/cogni-living','11634qOigfV','win32','Bitte\x20fÃ¼hren\x20Sie\x20diese\x20Befehle\x20einmalig\x20in\x20der\x20Konsole\x20(Putty)\x20aus:','cogni-living','existsSync','python.exe','mkdirSync','1982KkDpFa','Grund\x20fÃ¼r\x20Abbruch:\x20','ðŸ›‘\x20PYTHON\x20UMGEBUNG\x20FEHLT!\x20(Manuelle\x20Installation\x20erforderlich)','message','search','Python\x20Binary\x20nicht\x20gefunden\x20unter:\x20','10MejTzU','3.\x20sudo\x20rm\x20-rf\x20venv','4VjXsmb','5.\x20sudo\x20./venv/bin/pip\x20install\x20torch\x20--index-url\x20https://download.pytorch.org/whl/cpu\x20--no-cache-dir','python','platform','(((.+)+)+)+$','1625270uoJEIZ','1800255dtsQai','1289KleAGa','constructor','error','toString','bin','432856qnViDg','venv','1351SnnlcI','4314393XYxtFx','1.\x20mkdir\x20-p\x20/opt/iobroker/iobroker-data/cogni-living','\x20\x20\x20(Falls\x20Fehler:\x20\x22sudo\x20apt\x20install\x20python3-venv\x20python3-full\x22)'];a3_0x5adf=function(){return _0x1f0285;};return a3_0x5adf();}module['exports']={'checkAndInstall':checkAndInstall,get 'PYTHON_EXE'(){return PYTHON_EXE;}};