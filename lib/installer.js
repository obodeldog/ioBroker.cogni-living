const a3_0x5bef53=a3_0x54a4;(function(_0x1b2867,_0x4e0177){const _0x144a4c=a3_0x54a4,_0x552207=_0x1b2867();while(!![]){try{const _0x575763=parseInt(_0x144a4c(0x87))/0x1+-parseInt(_0x144a4c(0x7b))/0x2*(-parseInt(_0x144a4c(0x94))/0x3)+parseInt(_0x144a4c(0x72))/0x4*(parseInt(_0x144a4c(0x6f))/0x5)+-parseInt(_0x144a4c(0x7e))/0x6+parseInt(_0x144a4c(0x81))/0x7+parseInt(_0x144a4c(0x82))/0x8*(-parseInt(_0x144a4c(0x85))/0x9)+parseInt(_0x144a4c(0x90))/0xa*(-parseInt(_0x144a4c(0x89))/0xb);if(_0x575763===_0x4e0177)break;else _0x552207['push'](_0x552207['shift']());}catch(_0x1da300){_0x552207['push'](_0x552207['shift']());}}}(a3_0x12b7,0xa1435));const a3_0x74376e=(function(){let _0x108882=!![];return function(_0x1b74ce,_0x1a9413){const _0x5f4a52=_0x108882?function(){const _0x30d9b6=a3_0x54a4;if(_0x1a9413){const _0x3731b6=_0x1a9413[_0x30d9b6(0x7f)](_0x1b74ce,arguments);return _0x1a9413=null,_0x3731b6;}}:function(){};return _0x108882=![],_0x5f4a52;};}()),a3_0x4d896a=a3_0x74376e(this,function(){const _0x4e55f7=a3_0x54a4;return a3_0x4d896a[_0x4e55f7(0xa0)]()[_0x4e55f7(0x8b)]('(((.+)+)+)+$')['toString']()[_0x4e55f7(0x79)](a3_0x4d896a)[_0x4e55f7(0x8b)]('(((.+)+)+)+$');});a3_0x4d896a();'use strict';function a3_0x12b7(){const _0x51823b=['kill','üêç\x20Checking\x20Python\x20environment...','pip','python.exe','constructor','existsSync','2wboJMX','log','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','1207044oWZudg','apply','EACCES','6532631AeYKvO','5384272ZtUknd','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','9GzUUqz','Permission\x20denied','517579MFzShf','includes','11NJbzZS','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','search','Scripts','‚úÖ\x20INSTALL\x20SUCCESS.','join','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','5223990FkZdvQ','info','python','requirements.txt','1401069nQNRtd','error','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','rmSync','Creating\x20new\x20VENV...','.venv','message','exports','child_process','\x22\x20install\x20-r\x20\x22','bin','pythonProcess','toString','path','dependencyInstallInProgress','696525SFdmjq','warn','python3\x20-m\x20venv\x20\x22','4hLDMkZ','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','python_service'];a3_0x12b7=function(){return _0x51823b;};return a3_0x12b7();}const {exec,execSync}=require(a3_0x5bef53(0x9c)),path=require(a3_0x5bef53(0x6d)),fs=require('fs'),IS_WIN=process['platform']==='win32',ADAPTER_DIR=path[a3_0x5bef53(0x8e)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x5bef53(0x8e)](ADAPTER_DIR,a3_0x5bef53(0x99)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x5bef53(0x8e)](VENV_PATH,a3_0x5bef53(0x8c),a3_0x5bef53(0x78)):path['join'](VENV_PATH,a3_0x5bef53(0x9e),a3_0x5bef53(0x92)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x5bef53(0x8c),'pip.exe'):path[a3_0x5bef53(0x8e)](VENV_PATH,'bin',a3_0x5bef53(0x77));function stopPythonService(_0x58a136){const _0xbedfd2=a3_0x5bef53;if(_0x58a136['pythonProcess']){try{_0x58a136[_0xbedfd2(0x9f)][_0xbedfd2(0x75)]();}catch(_0x1e6350){}_0x58a136['pythonProcess']=null;}}function a3_0x54a4(_0x381486,_0x574348){const _0x55d236=a3_0x12b7();return a3_0x54a4=function(_0x4d896a,_0x74376e){_0x4d896a=_0x4d896a-0x6d;let _0x12b779=_0x55d236[_0x4d896a];return _0x12b779;},a3_0x54a4(_0x381486,_0x574348);}function installRequirementsInVenv(_0x25a9d5,_0x581584,_0x2614bf){const _0x132c29=a3_0x5bef53;_0x25a9d5[_0x132c29(0x7c)][_0x132c29(0x91)](_0x132c29(0x84));const _0x5afc57='\x22'+PIP_EXE+_0x132c29(0x9d)+_0x581584+'\x22';exec(_0x5afc57,{'timeout':0x1b7740},(_0x5d1cf4,_0x1e1fed,_0x264c0a)=>{const _0x43dcb4=_0x132c29;_0x25a9d5[_0x43dcb4(0x6e)]=![];if(_0x5d1cf4){_0x25a9d5[_0x43dcb4(0x7c)][_0x43dcb4(0x95)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x264c0a||_0x5d1cf4['message']));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x569869){}}else _0x25a9d5[_0x43dcb4(0x7c)][_0x43dcb4(0x91)](_0x43dcb4(0x8d)),_0x2614bf&&_0x2614bf();});}function installPythonDependencies(_0x366806,_0x134f48){const _0x5119c6=a3_0x5bef53;if(_0x366806[_0x5119c6(0x6e)])return;_0x366806['dependencyInstallInProgress']=!![];const _0x23b84d=path[_0x5119c6(0x8e)](ADAPTER_DIR,_0x5119c6(0x74),_0x5119c6(0x93));stopPythonService(_0x366806);if(fs['existsSync'](VENV_PATH)&&!fs[_0x5119c6(0x7a)](PIP_EXE)){_0x366806[_0x5119c6(0x7c)][_0x5119c6(0x70)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x5119c6(0x97)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0xb5e0f){_0x366806[_0x5119c6(0x7c)][_0x5119c6(0x95)]('Delete\x20failed:\x20'+_0xb5e0f[_0x5119c6(0x9a)]);}}if(!fs[_0x5119c6(0x7a)](VENV_PATH))try{_0x366806[_0x5119c6(0x7c)][_0x5119c6(0x91)](_0x5119c6(0x98)),execSync(_0x5119c6(0x71)+VENV_PATH+'\x22');}catch(_0x4dd890){_0x366806['dependencyInstallInProgress']=![];_0x4dd890[_0x5119c6(0x9a)]['includes'](_0x5119c6(0x80))||_0x4dd890[_0x5119c6(0x9a)][_0x5119c6(0x88)](_0x5119c6(0x86))?(_0x366806['log'][_0x5119c6(0x95)](_0x5119c6(0x8f)),_0x366806['log'][_0x5119c6(0x95)](_0x5119c6(0x73)+ADAPTER_DIR)):_0x366806[_0x5119c6(0x7c)][_0x5119c6(0x95)](_0x5119c6(0x8a)+_0x4dd890[_0x5119c6(0x9a)]+_0x5119c6(0x7d));return;}installRequirementsInVenv(_0x366806,_0x23b84d,_0x134f48);}function checkAndInstall(_0x1a4b95,_0x277b2b){const _0x3f181b=a3_0x5bef53;if(fs[_0x3f181b(0x7a)](PYTHON_EXE)&&fs[_0x3f181b(0x7a)](PIP_EXE))try{return _0x1a4b95['log'][_0x3f181b(0x91)](_0x3f181b(0x76)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x1a4b95[_0x3f181b(0x7c)][_0x3f181b(0x91)](_0x3f181b(0x96)),_0x277b2b&&_0x277b2b(),!![];}catch(_0x17e508){_0x1a4b95[_0x3f181b(0x7c)]['warn'](_0x3f181b(0x83));}else _0x1a4b95[_0x3f181b(0x7c)]['warn']('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x1a4b95,_0x277b2b),![];}module[a3_0x5bef53(0x9b)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};