const a3_0x3a476d=a3_0x3e15;function a3_0x3e15(_0x37e59a,_0x2bb03f){const _0x1070fd=a3_0x48d2();return a3_0x3e15=function(_0x1c4b8b,_0x11ffe6){_0x1c4b8b=_0x1c4b8b-0x1e2;let _0x48d266=_0x1070fd[_0x1c4b8b];return _0x48d266;},a3_0x3e15(_0x37e59a,_0x2bb03f);}(function(_0x4d6be4,_0x1dad3b){const _0x56dcd6=a3_0x3e15,_0x877af0=_0x4d6be4();while(!![]){try{const _0x5e35e1=-parseInt(_0x56dcd6(0x1f6))/0x1*(-parseInt(_0x56dcd6(0x20e))/0x2)+parseInt(_0x56dcd6(0x1f8))/0x3+parseInt(_0x56dcd6(0x212))/0x4*(-parseInt(_0x56dcd6(0x1fb))/0x5)+-parseInt(_0x56dcd6(0x207))/0x6*(parseInt(_0x56dcd6(0x1f5))/0x7)+parseInt(_0x56dcd6(0x20a))/0x8+-parseInt(_0x56dcd6(0x1e6))/0x9*(-parseInt(_0x56dcd6(0x1e5))/0xa)+-parseInt(_0x56dcd6(0x1e4))/0xb;if(_0x5e35e1===_0x1dad3b)break;else _0x877af0['push'](_0x877af0['shift']());}catch(_0x5d8608){_0x877af0['push'](_0x877af0['shift']());}}}(a3_0x48d2,0x84ab8));const a3_0x11ffe6=(function(){let _0x37eb1c=!![];return function(_0x449b93,_0x54ad17){const _0x387734=_0x37eb1c?function(){const _0x23594b=a3_0x3e15;if(_0x54ad17){const _0x46f92c=_0x54ad17[_0x23594b(0x1fa)](_0x449b93,arguments);return _0x54ad17=null,_0x46f92c;}}:function(){};return _0x37eb1c=![],_0x387734;};}()),a3_0x1c4b8b=a3_0x11ffe6(this,function(){const _0x2ec0b5=a3_0x3e15;return a3_0x1c4b8b[_0x2ec0b5(0x1ef)]()[_0x2ec0b5(0x1f3)](_0x2ec0b5(0x1f4))[_0x2ec0b5(0x1ef)]()[_0x2ec0b5(0x213)](a3_0x1c4b8b)[_0x2ec0b5(0x1f3)](_0x2ec0b5(0x1f4));});a3_0x1c4b8b();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x3a476d(0x205)),fs=require('fs'),IS_WIN=process[a3_0x3a476d(0x1f1)]===a3_0x3a476d(0x1ff),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x3a476d(0x1ed)](ADAPTER_DIR,a3_0x3a476d(0x1e8)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x3a476d(0x1ed)](VENV_PATH,'Scripts',a3_0x3a476d(0x200)):path[a3_0x3a476d(0x1ed)](VENV_PATH,'bin',a3_0x3a476d(0x1e7)),PIP_EXE=IS_WIN?path[a3_0x3a476d(0x1ed)](VENV_PATH,'Scripts',a3_0x3a476d(0x1f0)):path[a3_0x3a476d(0x1ed)](VENV_PATH,a3_0x3a476d(0x1ea),a3_0x3a476d(0x202));function stopPythonService(_0x3d79ed){const _0x9833d1=a3_0x3a476d;if(_0x3d79ed['pythonProcess']){try{_0x3d79ed['pythonProcess'][_0x9833d1(0x210)]();}catch(_0x6d0e97){}_0x3d79ed['pythonProcess']=null;}}function installRequirementsInVenv(_0x16e5ae,_0x50db02,_0x59c69c){const _0x42d10a=a3_0x3a476d;_0x16e5ae[_0x42d10a(0x1fe)][_0x42d10a(0x1e3)](_0x42d10a(0x1ee));const _0x31e7b9='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x50db02+'\x22';exec(_0x31e7b9,{'timeout':0x1b7740},(_0x5d962c,_0x878bbd,_0x17e524)=>{const _0x4052ab=_0x42d10a;_0x16e5ae['dependencyInstallInProgress']=![];if(_0x5d962c){_0x16e5ae['log'][_0x4052ab(0x211)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x17e524||_0x5d962c['message']));try{fs[_0x4052ab(0x1e2)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x2c23b3){}}else _0x16e5ae[_0x4052ab(0x1fe)][_0x4052ab(0x1e3)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x59c69c&&_0x59c69c();});}function a3_0x48d2(){const _0x5bcefb=['Permission\x20denied','1186164BvXHPP','message','apply','1335445ZQnkKF','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','log','win32','python.exe','existsSync','pip','warn','üêç\x20Checking\x20Python\x20environment...','path','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','6yuRbwE','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','python_service','5710816OEgcTS','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','dependencyInstallInProgress','Delete\x20failed:\x20','1138682OmiSSH','exports','kill','error','8POjOYc','constructor','rmSync','info','6732121IxpsZq','60tuAUnf','1370133PRLcvA','python','.venv','includes','bin','python3\x20-m\x20venv\x20\x22','requirements.txt','join','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','toString','pip.exe','platform','Creating\x20new\x20VENV...','search','(((.+)+)+)+$','6316786FKJTLQ','1kEAaCK'];a3_0x48d2=function(){return _0x5bcefb;};return a3_0x48d2();}function installPythonDependencies(_0x352017,_0x4f9994){const _0xbad9a3=a3_0x3a476d;if(_0x352017[_0xbad9a3(0x20c)])return;_0x352017['dependencyInstallInProgress']=!![];const _0xfa0bcd=path[_0xbad9a3(0x1ed)](ADAPTER_DIR,_0xbad9a3(0x209),_0xbad9a3(0x1ec));stopPythonService(_0x352017);if(fs['existsSync'](VENV_PATH)&&!fs[_0xbad9a3(0x201)](PIP_EXE)){_0x352017['log'][_0xbad9a3(0x203)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0xbad9a3(0x1e2)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x289f65){_0x352017[_0xbad9a3(0x1fe)][_0xbad9a3(0x211)](_0xbad9a3(0x20d)+_0x289f65[_0xbad9a3(0x1f9)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x352017['log'][_0xbad9a3(0x1e3)](_0xbad9a3(0x1f2)),execSync(_0xbad9a3(0x1eb)+VENV_PATH+'\x22');}catch(_0x1d9cb7){_0x352017[_0xbad9a3(0x20c)]=![];_0x1d9cb7[_0xbad9a3(0x1f9)][_0xbad9a3(0x1e9)]('EACCES')||_0x1d9cb7[_0xbad9a3(0x1f9)][_0xbad9a3(0x1e9)](_0xbad9a3(0x1f7))?(_0x352017['log'][_0xbad9a3(0x211)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x352017['log'][_0xbad9a3(0x211)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x352017['log'][_0xbad9a3(0x211)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x1d9cb7[_0xbad9a3(0x1f9)]+_0xbad9a3(0x206));return;}installRequirementsInVenv(_0x352017,_0xfa0bcd,_0x4f9994);}function checkAndInstall(_0x5a062a,_0x13e8a1){const _0x200d57=a3_0x3a476d;if(fs[_0x200d57(0x201)](PYTHON_EXE)&&fs[_0x200d57(0x201)](PIP_EXE))try{return _0x5a062a[_0x200d57(0x1fe)][_0x200d57(0x1e3)](_0x200d57(0x204)),execSync('\x22'+PYTHON_EXE+_0x200d57(0x1fd),{'timeout':0x3a98}),_0x5a062a[_0x200d57(0x1fe)][_0x200d57(0x1e3)](_0x200d57(0x1fc)),_0x13e8a1&&_0x13e8a1(),!![];}catch(_0x37dffe){_0x5a062a[_0x200d57(0x1fe)]['warn'](_0x200d57(0x208));}else _0x5a062a['log'][_0x200d57(0x203)](_0x200d57(0x20b));return installPythonDependencies(_0x5a062a,_0x13e8a1),![];}module[a3_0x3a476d(0x20f)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};