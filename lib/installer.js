const a3_0x152751=a3_0x2f22;function a3_0x2f22(_0x2b2c2a,_0xc89c76){const _0x56c9bf=a3_0x503d();return a3_0x2f22=function(_0x378447,_0x22110a){_0x378447=_0x378447-0x119;let _0x503d60=_0x56c9bf[_0x378447];return _0x503d60;},a3_0x2f22(_0x2b2c2a,_0xc89c76);}(function(_0x4a25b6,_0x1afc51){const _0x2673a1=a3_0x2f22,_0x5f1260=_0x4a25b6();while(!![]){try{const _0x22d99f=parseInt(_0x2673a1(0x149))/0x1*(-parseInt(_0x2673a1(0x145))/0x2)+-parseInt(_0x2673a1(0x147))/0x3+parseInt(_0x2673a1(0x142))/0x4*(parseInt(_0x2673a1(0x13f))/0x5)+parseInt(_0x2673a1(0x12f))/0x6+parseInt(_0x2673a1(0x124))/0x7+-parseInt(_0x2673a1(0x123))/0x8+-parseInt(_0x2673a1(0x12b))/0x9*(-parseInt(_0x2673a1(0x11d))/0xa);if(_0x22d99f===_0x1afc51)break;else _0x5f1260['push'](_0x5f1260['shift']());}catch(_0x3ce077){_0x5f1260['push'](_0x5f1260['shift']());}}}(a3_0x503d,0x27352));function a3_0x503d(){const _0x267c53=['Creating\x20new\x20VENV...','join','pip','9yZlzMx','.venv','python_service','path','629316wWmbiP','üêç\x20Checking\x20Python\x20environment...','(((.+)+)+)+$','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','constructor','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','toString','message','apply','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','pythonProcess','info','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','bin','‚úÖ\x20INSTALL\x20SUCCESS.','835yBXQsJ','warn','pip.exe','5844EakSXN','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','child_process','3812sDjlzM','platform','818802wdLCkR','kill','137vfufCC','log','EACCES','Scripts','error','3703100PLuHmk','includes','Delete\x20failed:\x20','search','rmSync','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','2289024FqLHFI','1831165wraCLf','dependencyInstallInProgress','existsSync','python.exe'];a3_0x503d=function(){return _0x267c53;};return a3_0x503d();}const a3_0x22110a=(function(){let _0x5f4527=!![];return function(_0x5944cf,_0x192142){const _0x374253=_0x5f4527?function(){const _0x3cfd5c=a3_0x2f22;if(_0x192142){const _0x4b3ec7=_0x192142[_0x3cfd5c(0x138)](_0x5944cf,arguments);return _0x192142=null,_0x4b3ec7;}}:function(){};return _0x5f4527=![],_0x374253;};}()),a3_0x378447=a3_0x22110a(this,function(){const _0x288912=a3_0x2f22;return a3_0x378447[_0x288912(0x136)]()[_0x288912(0x120)](_0x288912(0x131))[_0x288912(0x136)]()[_0x288912(0x133)](a3_0x378447)['search'](_0x288912(0x131));});a3_0x378447();'use strict';const {exec,execSync}=require(a3_0x152751(0x144)),path=require(a3_0x152751(0x12e)),fs=require('fs'),IS_WIN=process[a3_0x152751(0x146)]==='win32',ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x152751(0x129)](ADAPTER_DIR,a3_0x152751(0x12c)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x152751(0x129)](VENV_PATH,a3_0x152751(0x11b),a3_0x152751(0x127)):path['join'](VENV_PATH,'bin','python'),PIP_EXE=IS_WIN?path[a3_0x152751(0x129)](VENV_PATH,a3_0x152751(0x11b),a3_0x152751(0x141)):path[a3_0x152751(0x129)](VENV_PATH,a3_0x152751(0x13d),a3_0x152751(0x12a));function stopPythonService(_0x8968cd){const _0x1cc78=a3_0x152751;if(_0x8968cd[_0x1cc78(0x13a)]){try{_0x8968cd[_0x1cc78(0x13a)][_0x1cc78(0x148)]();}catch(_0x2116ce){}_0x8968cd['pythonProcess']=null;}}function installRequirementsInVenv(_0x5f3b93,_0x31c4f0,_0x493782){const _0x40764f=a3_0x152751;_0x5f3b93[_0x40764f(0x119)][_0x40764f(0x13b)](_0x40764f(0x143));const _0x52cbb6='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x31c4f0+'\x22';exec(_0x52cbb6,{'timeout':0x1b7740},(_0x1c06c1,_0x2c31bf,_0x3e7ffd)=>{const _0x1ceae5=_0x40764f;_0x5f3b93[_0x1ceae5(0x125)]=![];if(_0x1c06c1){_0x5f3b93['log'][_0x1ceae5(0x11c)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x3e7ffd||_0x1c06c1[_0x1ceae5(0x137)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x321381){}}else _0x5f3b93[_0x1ceae5(0x119)]['info'](_0x1ceae5(0x13e)),_0x493782&&_0x493782();});}function installPythonDependencies(_0x4eb6ad,_0x389270){const _0x783aac=a3_0x152751;if(_0x4eb6ad['dependencyInstallInProgress'])return;_0x4eb6ad[_0x783aac(0x125)]=!![];const _0x1950a6=path[_0x783aac(0x129)](ADAPTER_DIR,_0x783aac(0x12d),'requirements.txt');stopPythonService(_0x4eb6ad);if(fs[_0x783aac(0x126)](VENV_PATH)&&!fs[_0x783aac(0x126)](PIP_EXE)){_0x4eb6ad[_0x783aac(0x119)][_0x783aac(0x140)](_0x783aac(0x122));try{fs[_0x783aac(0x121)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x2be7a6){_0x4eb6ad[_0x783aac(0x119)][_0x783aac(0x11c)](_0x783aac(0x11f)+_0x2be7a6[_0x783aac(0x137)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x4eb6ad[_0x783aac(0x119)]['info'](_0x783aac(0x128)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x1adb86){_0x4eb6ad[_0x783aac(0x125)]=![];_0x1adb86[_0x783aac(0x137)][_0x783aac(0x11e)](_0x783aac(0x11a))||_0x1adb86[_0x783aac(0x137)][_0x783aac(0x11e)]('Permission\x20denied')?(_0x4eb6ad[_0x783aac(0x119)][_0x783aac(0x11c)](_0x783aac(0x13c)),_0x4eb6ad['log'][_0x783aac(0x11c)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x4eb6ad[_0x783aac(0x119)][_0x783aac(0x11c)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x1adb86['message']+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x4eb6ad,_0x1950a6,_0x389270);}function checkAndInstall(_0x4aed82,_0x5611cf){const _0x3f28d2=a3_0x152751;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x3f28d2(0x126)](PIP_EXE))try{return _0x4aed82[_0x3f28d2(0x119)][_0x3f28d2(0x13b)](_0x3f28d2(0x130)),execSync('\x22'+PYTHON_EXE+_0x3f28d2(0x132),{'timeout':0x3a98}),_0x4aed82[_0x3f28d2(0x119)][_0x3f28d2(0x13b)](_0x3f28d2(0x135)),_0x5611cf&&_0x5611cf(),!![];}catch(_0x409129){_0x4aed82[_0x3f28d2(0x119)]['warn'](_0x3f28d2(0x134));}else _0x4aed82[_0x3f28d2(0x119)][_0x3f28d2(0x140)](_0x3f28d2(0x139));return installPythonDependencies(_0x4aed82,_0x5611cf),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};