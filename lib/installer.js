const a3_0x22fad8=a3_0x5b4a;function a3_0x5b4a(_0xf04495,_0x59ed98){const _0x26ccc6=a3_0x24d7();return a3_0x5b4a=function(_0x4675a3,_0x1043f7){_0x4675a3=_0x4675a3-0x167;let _0x24d79f=_0x26ccc6[_0x4675a3];return _0x24d79f;},a3_0x5b4a(_0xf04495,_0x59ed98);}(function(_0x44267c,_0x331547){const _0x293704=a3_0x5b4a,_0xd5340=_0x44267c();while(!![]){try{const _0x4fc20c=parseInt(_0x293704(0x178))/0x1+-parseInt(_0x293704(0x184))/0x2+-parseInt(_0x293704(0x193))/0x3+-parseInt(_0x293704(0x169))/0x4+-parseInt(_0x293704(0x16e))/0x5+parseInt(_0x293704(0x186))/0x6+parseInt(_0x293704(0x17a))/0x7;if(_0x4fc20c===_0x331547)break;else _0xd5340['push'](_0xd5340['shift']());}catch(_0x2dfaeb){_0xd5340['push'](_0xd5340['shift']());}}}(a3_0x24d7,0xc3c3a));const a3_0x1043f7=(function(){let _0x358570=!![];return function(_0x2ae7a3,_0x13050c){const _0x4ccce8=_0x358570?function(){if(_0x13050c){const _0x1a8954=_0x13050c['apply'](_0x2ae7a3,arguments);return _0x13050c=null,_0x1a8954;}}:function(){};return _0x358570=![],_0x4ccce8;};}()),a3_0x4675a3=a3_0x1043f7(this,function(){const _0x5b9402=a3_0x5b4a;return a3_0x4675a3['toString']()[_0x5b9402(0x16b)]('(((.+)+)+)+$')[_0x5b9402(0x182)]()[_0x5b9402(0x191)](a3_0x4675a3)[_0x5b9402(0x16b)](_0x5b9402(0x177));});function a3_0x24d7(){const _0x2d9c72=['kill','âœ…\x20Fast-Boot:\x20Environment\x20healthy.','499708qkNTyW','.venv','search','Creating\x20new\x20VENV...','includes','1275310kKOtYQ','âŒ\x20INSTALL\x20FAILED:\x20','âš ï¸\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','existsSync','error','bin','log','dependencyInstallInProgress','platform','(((.+)+)+)+$','1019657zSucRK','pip.exe','14043848vmXRRA','Scripts','python.exe','ðŸ\x20Checking\x20Python\x20environment...','ðŸ‘‰\x20LÃ–SUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','python_service','rmSync','âŒ\x20VENV\x20CREATION\x20FAILED:\x20','toString','Delete\x20failed:\x20','2408302jxNpcB','win32','728910vlDDOA','\x22\x20install\x20-r\x20\x22','â™»ï¸\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','join','message','ðŸ›‘\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','python3\x20-m\x20venv\x20\x22','exports','python','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','âš ï¸\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','constructor','info','2284248iWknbk','pythonProcess','warn'];a3_0x24d7=function(){return _0x2d9c72;};return a3_0x24d7();}a3_0x4675a3();'use strict';const {exec,execSync}=require('child_process'),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x22fad8(0x176)]===a3_0x22fad8(0x185),ADAPTER_DIR=path[a3_0x22fad8(0x189)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x22fad8(0x189)](ADAPTER_DIR,a3_0x22fad8(0x16a)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x22fad8(0x189)](VENV_PATH,a3_0x22fad8(0x17b),a3_0x22fad8(0x17c)):path['join'](VENV_PATH,a3_0x22fad8(0x173),a3_0x22fad8(0x18e)),PIP_EXE=IS_WIN?path[a3_0x22fad8(0x189)](VENV_PATH,a3_0x22fad8(0x17b),a3_0x22fad8(0x179)):path['join'](VENV_PATH,a3_0x22fad8(0x173),'pip');function stopPythonService(_0x479a06){const _0x7e9648=a3_0x22fad8;if(_0x479a06[_0x7e9648(0x194)]){try{_0x479a06[_0x7e9648(0x194)][_0x7e9648(0x167)]();}catch(_0x521f59){}_0x479a06[_0x7e9648(0x194)]=null;}}function installRequirementsInVenv(_0x3ce2bb,_0x1d275e,_0x2e00a0){const _0x506a04=a3_0x22fad8;_0x3ce2bb['log'][_0x506a04(0x192)](_0x506a04(0x18f));const _0x1ca973='\x22'+PIP_EXE+_0x506a04(0x187)+_0x1d275e+'\x22';exec(_0x1ca973,{'timeout':0x1b7740},(_0x54f6a0,_0x295ea7,_0x415d7d)=>{const _0x8c536f=_0x506a04;_0x3ce2bb[_0x8c536f(0x175)]=![];if(_0x54f6a0){_0x3ce2bb[_0x8c536f(0x174)]['error'](_0x8c536f(0x16f)+(_0x415d7d||_0x54f6a0['message']));try{fs[_0x8c536f(0x180)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x28149c){}}else _0x3ce2bb['log']['info']('âœ…\x20INSTALL\x20SUCCESS.'),_0x2e00a0&&_0x2e00a0();});}function installPythonDependencies(_0x39d5d2,_0x2ca7d2){const _0x5d139e=a3_0x22fad8;if(_0x39d5d2[_0x5d139e(0x175)])return;_0x39d5d2[_0x5d139e(0x175)]=!![];const _0x246a83=path[_0x5d139e(0x189)](ADAPTER_DIR,_0x5d139e(0x17f),'requirements.txt');stopPythonService(_0x39d5d2);if(fs['existsSync'](VENV_PATH)&&!fs[_0x5d139e(0x171)](PIP_EXE)){_0x39d5d2['log']['warn'](_0x5d139e(0x188));try{fs[_0x5d139e(0x180)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x5b3039){_0x39d5d2[_0x5d139e(0x174)][_0x5d139e(0x172)](_0x5d139e(0x183)+_0x5b3039[_0x5d139e(0x18a)]);}}if(!fs[_0x5d139e(0x171)](VENV_PATH))try{_0x39d5d2[_0x5d139e(0x174)][_0x5d139e(0x192)](_0x5d139e(0x16c)),execSync(_0x5d139e(0x18c)+VENV_PATH+'\x22');}catch(_0x1e8e9a){_0x39d5d2[_0x5d139e(0x175)]=![];_0x1e8e9a[_0x5d139e(0x18a)][_0x5d139e(0x16d)]('EACCES')||_0x1e8e9a['message']['includes']('Permission\x20denied')?(_0x39d5d2[_0x5d139e(0x174)][_0x5d139e(0x172)](_0x5d139e(0x18b)),_0x39d5d2['log'][_0x5d139e(0x172)](_0x5d139e(0x17e)+ADAPTER_DIR)):_0x39d5d2[_0x5d139e(0x174)][_0x5d139e(0x172)](_0x5d139e(0x181)+_0x1e8e9a[_0x5d139e(0x18a)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x39d5d2,_0x246a83,_0x2ca7d2);}function checkAndInstall(_0xcbcfba,_0x3c972d){const _0xe292d9=a3_0x22fad8;if(fs[_0xe292d9(0x171)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0xcbcfba[_0xe292d9(0x174)][_0xe292d9(0x192)](_0xe292d9(0x17d)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0xcbcfba['log']['info'](_0xe292d9(0x168)),_0x3c972d&&_0x3c972d(),!![];}catch(_0x332b8e){_0xcbcfba[_0xe292d9(0x174)][_0xe292d9(0x195)](_0xe292d9(0x190));}else _0xcbcfba['log'][_0xe292d9(0x195)](_0xe292d9(0x170));return installPythonDependencies(_0xcbcfba,_0x3c972d),![];}module[a3_0x22fad8(0x18d)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};