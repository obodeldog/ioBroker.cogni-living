const a3_0x96221c=a3_0x3a72;(function(_0x248c2c,_0x578ccf){const _0x3e02d6=a3_0x3a72,_0x186cb5=_0x248c2c();while(!![]){try{const _0x5cd4d6=-parseInt(_0x3e02d6(0xe5))/0x1+parseInt(_0x3e02d6(0xc6))/0x2*(-parseInt(_0x3e02d6(0xcf))/0x3)+parseInt(_0x3e02d6(0xcd))/0x4+-parseInt(_0x3e02d6(0xe8))/0x5*(-parseInt(_0x3e02d6(0xf3))/0x6)+-parseInt(_0x3e02d6(0xe2))/0x7*(parseInt(_0x3e02d6(0xcb))/0x8)+-parseInt(_0x3e02d6(0xec))/0x9*(parseInt(_0x3e02d6(0xe9))/0xa)+parseInt(_0x3e02d6(0xe1))/0xb;if(_0x5cd4d6===_0x578ccf)break;else _0x186cb5['push'](_0x186cb5['shift']());}catch(_0x24d1da){_0x186cb5['push'](_0x186cb5['shift']());}}}(a3_0x2823,0xa9e97));const a3_0x409d3e=(function(){let _0x14d031=!![];return function(_0x28bc4a,_0x2e996b){const _0x44bcad=_0x14d031?function(){const _0x3b9587=a3_0x3a72;if(_0x2e996b){const _0x29a12c=_0x2e996b[_0x3b9587(0xe4)](_0x28bc4a,arguments);return _0x2e996b=null,_0x29a12c;}}:function(){};return _0x14d031=![],_0x44bcad;};}()),a3_0x73609f=a3_0x409d3e(this,function(){const _0x3f6ba8=a3_0x3a72;return a3_0x73609f[_0x3f6ba8(0xc4)]()[_0x3f6ba8(0xdc)]('(((.+)+)+)+$')[_0x3f6ba8(0xc4)]()[_0x3f6ba8(0xc7)](a3_0x73609f)[_0x3f6ba8(0xdc)](_0x3f6ba8(0xd6));});a3_0x73609f();function a3_0x3a72(_0x1eba0e,_0x5c1106){const _0x50be14=a3_0x2823();return a3_0x3a72=function(_0x73609f,_0x409d3e){_0x73609f=_0x73609f-0xc1;let _0x282347=_0x50be14[_0x73609f];return _0x282347;},a3_0x3a72(_0x1eba0e,_0x5c1106);}'use strict';function a3_0x2823(){const _0xe5c8a=['info','kill','26588969DOaqVn','146503DZFDCt','pip.exe','apply','747655Kcernr','dependencyInstallInProgress','bin','5wmiblw','12734410HnrcFU','log','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','9NXHfdm','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','message','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','üêç\x20Checking\x20Python\x20environment...','win32','requirements.txt','2054928hMXPnO','join','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','python_service','Delete\x20failed:\x20','toString','existsSync','9288LSLIyE','constructor','Scripts','warn','exports','184OxIrgS','includes','4411388ITcolQ','‚úÖ\x20INSTALL\x20SUCCESS.','429HuBpuP','child_process','.venv','python.exe','python','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','platform','(((.+)+)+)+$','pip','Creating\x20new\x20VENV...','rmSync','error','path','search','python3\x20-m\x20venv\x20\x22','EACCES'];a3_0x2823=function(){return _0xe5c8a;};return a3_0x2823();}const {exec,execSync}=require(a3_0x96221c(0xd0)),path=require(a3_0x96221c(0xdb)),fs=require('fs'),IS_WIN=process[a3_0x96221c(0xd5)]===a3_0x96221c(0xf1),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x96221c(0xf4)](ADAPTER_DIR,a3_0x96221c(0xd1)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x96221c(0xf4)](VENV_PATH,a3_0x96221c(0xc8),a3_0x96221c(0xd2)):path['join'](VENV_PATH,a3_0x96221c(0xe7),a3_0x96221c(0xd3)),PIP_EXE=IS_WIN?path[a3_0x96221c(0xf4)](VENV_PATH,a3_0x96221c(0xc8),a3_0x96221c(0xe3)):path[a3_0x96221c(0xf4)](VENV_PATH,a3_0x96221c(0xe7),a3_0x96221c(0xd7));function stopPythonService(_0x12032b){const _0x380301=a3_0x96221c;if(_0x12032b['pythonProcess']){try{_0x12032b['pythonProcess'][_0x380301(0xe0)]();}catch(_0x4309ad){}_0x12032b['pythonProcess']=null;}}function installRequirementsInVenv(_0x599cd3,_0x3a447d,_0x3d529f){const _0x95efaf=a3_0x96221c;_0x599cd3[_0x95efaf(0xea)][_0x95efaf(0xdf)](_0x95efaf(0xd4));const _0x525cf9='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x3a447d+'\x22';exec(_0x525cf9,{'timeout':0x1b7740},(_0x3e58dd,_0x1b2c4d,_0x52218f)=>{const _0x2b4b77=_0x95efaf;_0x599cd3[_0x2b4b77(0xe6)]=![];if(_0x3e58dd){_0x599cd3[_0x2b4b77(0xea)][_0x2b4b77(0xda)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x52218f||_0x3e58dd[_0x2b4b77(0xee)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x27fc56){}}else _0x599cd3['log'][_0x2b4b77(0xdf)](_0x2b4b77(0xce)),_0x3d529f&&_0x3d529f();});}function installPythonDependencies(_0x25d435,_0x484540){const _0x1129fd=a3_0x96221c;if(_0x25d435['dependencyInstallInProgress'])return;_0x25d435['dependencyInstallInProgress']=!![];const _0xeace61=path['join'](ADAPTER_DIR,_0x1129fd(0xc2),_0x1129fd(0xf2));stopPythonService(_0x25d435);if(fs['existsSync'](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x25d435[_0x1129fd(0xea)][_0x1129fd(0xc9)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x1129fd(0xd9)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x36f746){_0x25d435['log'][_0x1129fd(0xda)](_0x1129fd(0xc3)+_0x36f746['message']);}}if(!fs['existsSync'](VENV_PATH))try{_0x25d435['log'][_0x1129fd(0xdf)](_0x1129fd(0xd8)),execSync(_0x1129fd(0xdd)+VENV_PATH+'\x22');}catch(_0x453f99){_0x25d435[_0x1129fd(0xe6)]=![];_0x453f99['message'][_0x1129fd(0xcc)](_0x1129fd(0xde))||_0x453f99[_0x1129fd(0xee)][_0x1129fd(0xcc)]('Permission\x20denied')?(_0x25d435[_0x1129fd(0xea)][_0x1129fd(0xda)](_0x1129fd(0xeb)),_0x25d435['log'][_0x1129fd(0xda)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x25d435[_0x1129fd(0xea)]['error'](_0x1129fd(0xed)+_0x453f99[_0x1129fd(0xee)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x25d435,_0xeace61,_0x484540);}function checkAndInstall(_0x55281d,_0xf392ae){const _0x5ac6a9=a3_0x96221c;if(fs[_0x5ac6a9(0xc5)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x55281d[_0x5ac6a9(0xea)][_0x5ac6a9(0xdf)](_0x5ac6a9(0xf0)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x55281d[_0x5ac6a9(0xea)]['info'](_0x5ac6a9(0xef)),_0xf392ae&&_0xf392ae(),!![];}catch(_0x186fdf){_0x55281d[_0x5ac6a9(0xea)]['warn'](_0x5ac6a9(0xc1));}else _0x55281d[_0x5ac6a9(0xea)][_0x5ac6a9(0xc9)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x55281d,_0xf392ae),![];}module[a3_0x96221c(0xca)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};