const a3_0x1d2279=a3_0x537d;function a3_0x537d(_0x3b637b,_0x529db2){const _0x2869d5=a3_0x4d27();return a3_0x537d=function(_0x5661fb,_0x17e76a){_0x5661fb=_0x5661fb-0xb1;let _0x4d275e=_0x2869d5[_0x5661fb];return _0x4d275e;},a3_0x537d(_0x3b637b,_0x529db2);}(function(_0x5f0e09,_0x3f0452){const _0x3c1351=a3_0x537d,_0x3ecc54=_0x5f0e09();while(!![]){try{const _0x499dcd=parseInt(_0x3c1351(0xb8))/0x1+parseInt(_0x3c1351(0xd1))/0x2+parseInt(_0x3c1351(0xc8))/0x3+parseInt(_0x3c1351(0xcd))/0x4*(parseInt(_0x3c1351(0xbc))/0x5)+-parseInt(_0x3c1351(0xca))/0x6+parseInt(_0x3c1351(0xc9))/0x7*(-parseInt(_0x3c1351(0xb5))/0x8)+-parseInt(_0x3c1351(0xb9))/0x9;if(_0x499dcd===_0x3f0452)break;else _0x3ecc54['push'](_0x3ecc54['shift']());}catch(_0x58c4dc){_0x3ecc54['push'](_0x3ecc54['shift']());}}}(a3_0x4d27,0x6183c));const a3_0x17e76a=(function(){let _0x68d35d=!![];return function(_0xc2f3e,_0x2cb21c){const _0x444ef3=_0x68d35d?function(){const _0x4dcbb6=a3_0x537d;if(_0x2cb21c){const _0x1e702a=_0x2cb21c[_0x4dcbb6(0xdb)](_0xc2f3e,arguments);return _0x2cb21c=null,_0x1e702a;}}:function(){};return _0x68d35d=![],_0x444ef3;};}()),a3_0x5661fb=a3_0x17e76a(this,function(){const _0x70b4fe=a3_0x537d;return a3_0x5661fb[_0x70b4fe(0xda)]()[_0x70b4fe(0xba)](_0x70b4fe(0xe1))[_0x70b4fe(0xda)]()[_0x70b4fe(0xb6)](a3_0x5661fb)[_0x70b4fe(0xba)](_0x70b4fe(0xe1));});a3_0x5661fb();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x1d2279(0xbb)),fs=require('fs'),IS_WIN=process[a3_0x1d2279(0xdd)]===a3_0x1d2279(0xbf),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,a3_0x1d2279(0xdc)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x1d2279(0xb2),a3_0x1d2279(0xcc)):path[a3_0x1d2279(0xe3)](VENV_PATH,a3_0x1d2279(0xdf),a3_0x1d2279(0xb3)),PIP_EXE=IS_WIN?path[a3_0x1d2279(0xe3)](VENV_PATH,a3_0x1d2279(0xb2),a3_0x1d2279(0xd8)):path[a3_0x1d2279(0xe3)](VENV_PATH,a3_0x1d2279(0xdf),'pip');function stopPythonService(_0x2bb3f1){const _0x45d394=a3_0x1d2279;if(_0x2bb3f1[_0x45d394(0xc7)]){try{_0x2bb3f1['pythonProcess'][_0x45d394(0xce)]();}catch(_0x5c440d){}_0x2bb3f1[_0x45d394(0xc7)]=null;}}function a3_0x4d27(){const _0x4fca00=['path','755mUeEVn','\x22\x20install\x20-r\x20\x22','dependencyInstallInProgress','win32','message','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','info','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','error','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','pythonProcess','2248632JhVotS','11795fKDQpD','2354136FMCFDV','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','python.exe','14752kxQvWi','kill','Delete\x20failed:\x20','rmSync','721524vxXvPb','üêç\x20Checking\x20Python\x20environment...','python_service','existsSync','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','python3\x20-m\x20venv\x20\x22','log','pip.exe','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','toString','apply','.venv','platform','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','bin','‚úÖ\x20INSTALL\x20SUCCESS.','(((.+)+)+)+$','includes','join','EACCES','Scripts','python','warn','1032zhfTKM','constructor','‚ùå\x20INSTALL\x20FAILED:\x20','688202wbMqUS','12116295wtlKuh','search'];a3_0x4d27=function(){return _0x4fca00;};return a3_0x4d27();}function installRequirementsInVenv(_0x4b40ca,_0x2e05ee,_0x5a36a2){const _0x4233e4=a3_0x1d2279;_0x4b40ca[_0x4233e4(0xd7)]['info'](_0x4233e4(0xc3));const _0xaf181d='\x22'+PIP_EXE+_0x4233e4(0xbd)+_0x2e05ee+'\x22';exec(_0xaf181d,{'timeout':0x1b7740},(_0x1861b9,_0x3dac1e,_0x130282)=>{const _0x59c4b0=_0x4233e4;_0x4b40ca[_0x59c4b0(0xbe)]=![];if(_0x1861b9){_0x4b40ca[_0x59c4b0(0xd7)]['error'](_0x59c4b0(0xb7)+(_0x130282||_0x1861b9[_0x59c4b0(0xc0)]));try{fs[_0x59c4b0(0xd0)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x385e0c){}}else _0x4b40ca[_0x59c4b0(0xd7)][_0x59c4b0(0xc2)](_0x59c4b0(0xe0)),_0x5a36a2&&_0x5a36a2();});}function installPythonDependencies(_0x3372a8,_0x3391ec){const _0x19b44b=a3_0x1d2279;if(_0x3372a8[_0x19b44b(0xbe)])return;_0x3372a8[_0x19b44b(0xbe)]=!![];const _0x448108=path[_0x19b44b(0xe3)](ADAPTER_DIR,_0x19b44b(0xd3),'requirements.txt');stopPythonService(_0x3372a8);if(fs[_0x19b44b(0xd4)](VENV_PATH)&&!fs[_0x19b44b(0xd4)](PIP_EXE)){_0x3372a8[_0x19b44b(0xd7)][_0x19b44b(0xb4)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x50c2b5){_0x3372a8['log'][_0x19b44b(0xc5)](_0x19b44b(0xcf)+_0x50c2b5[_0x19b44b(0xc0)]);}}if(!fs[_0x19b44b(0xd4)](VENV_PATH))try{_0x3372a8[_0x19b44b(0xd7)][_0x19b44b(0xc2)]('Creating\x20new\x20VENV...'),execSync(_0x19b44b(0xd6)+VENV_PATH+'\x22');}catch(_0x2be6dd){_0x3372a8[_0x19b44b(0xbe)]=![];_0x2be6dd['message'][_0x19b44b(0xe2)](_0x19b44b(0xb1))||_0x2be6dd[_0x19b44b(0xc0)][_0x19b44b(0xe2)]('Permission\x20denied')?(_0x3372a8[_0x19b44b(0xd7)][_0x19b44b(0xc5)](_0x19b44b(0xd5)),_0x3372a8[_0x19b44b(0xd7)][_0x19b44b(0xc5)](_0x19b44b(0xc4)+ADAPTER_DIR)):_0x3372a8['log'][_0x19b44b(0xc5)](_0x19b44b(0xde)+_0x2be6dd[_0x19b44b(0xc0)]+_0x19b44b(0xcb));return;}installRequirementsInVenv(_0x3372a8,_0x448108,_0x3391ec);}function checkAndInstall(_0x214b96,_0x443900){const _0x4387fd=a3_0x1d2279;if(fs[_0x4387fd(0xd4)](PYTHON_EXE)&&fs[_0x4387fd(0xd4)](PIP_EXE))try{return _0x214b96[_0x4387fd(0xd7)][_0x4387fd(0xc2)](_0x4387fd(0xd2)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x214b96[_0x4387fd(0xd7)][_0x4387fd(0xc2)](_0x4387fd(0xc6)),_0x443900&&_0x443900(),!![];}catch(_0x3cf0cf){_0x214b96[_0x4387fd(0xd7)][_0x4387fd(0xb4)](_0x4387fd(0xc1));}else _0x214b96[_0x4387fd(0xd7)][_0x4387fd(0xb4)](_0x4387fd(0xd9));return installPythonDependencies(_0x214b96,_0x443900),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};