const a3_0x2a50c4=a3_0x51a0;(function(_0x5e47a8,_0x18bcf8){const _0x2026ad=a3_0x51a0,_0x29898b=_0x5e47a8();while(!![]){try{const _0x2e2938=-parseInt(_0x2026ad(0xdc))/0x1+parseInt(_0x2026ad(0x104))/0x2+-parseInt(_0x2026ad(0xfc))/0x3*(parseInt(_0x2026ad(0xfe))/0x4)+parseInt(_0x2026ad(0x10b))/0x5*(-parseInt(_0x2026ad(0xf4))/0x6)+parseInt(_0x2026ad(0x105))/0x7+parseInt(_0x2026ad(0x10e))/0x8+parseInt(_0x2026ad(0xf6))/0x9;if(_0x2e2938===_0x18bcf8)break;else _0x29898b['push'](_0x29898b['shift']());}catch(_0x51b888){_0x29898b['push'](_0x29898b['shift']());}}}(a3_0x4dff,0x40a29));const a3_0x151206=(function(){let _0x138df0=!![];return function(_0x2469f2,_0x465b9b){const _0x4cbe91=_0x138df0?function(){const _0xa3e97c=a3_0x51a0;if(_0x465b9b){const _0x2d4f58=_0x465b9b[_0xa3e97c(0xe3)](_0x2469f2,arguments);return _0x465b9b=null,_0x2d4f58;}}:function(){};return _0x138df0=![],_0x4cbe91;};}()),a3_0x875d55=a3_0x151206(this,function(){const _0x367355=a3_0x51a0;return a3_0x875d55['toString']()[_0x367355(0x10c)](_0x367355(0x102))[_0x367355(0x108)]()[_0x367355(0xfb)](a3_0x875d55)[_0x367355(0x10c)](_0x367355(0x102));});a3_0x875d55();function a3_0x51a0(_0x59dd94,_0x114d94){const _0x55d553=a3_0x4dff();return a3_0x51a0=function(_0x875d55,_0x151206){_0x875d55=_0x875d55-0xdb;let _0x4dff41=_0x55d553[_0x875d55];return _0x4dff41;},a3_0x51a0(_0x59dd94,_0x114d94);}'use strict';const {exec,execSync}=require(a3_0x2a50c4(0xeb)),path=require(a3_0x2a50c4(0x106)),fs=require('fs'),IS_WIN=process[a3_0x2a50c4(0xe5)]===a3_0x2a50c4(0xf8),ADAPTER_DIR=path[a3_0x2a50c4(0xdd)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x2a50c4(0xdd)](VENV_PATH,a3_0x2a50c4(0x10f),a3_0x2a50c4(0x101)):path['join'](VENV_PATH,'bin',a3_0x2a50c4(0xe0)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,'Scripts',a3_0x2a50c4(0xf2)):path[a3_0x2a50c4(0xdd)](VENV_PATH,'bin',a3_0x2a50c4(0xe9));function stopPythonService(_0x1d02e9){const _0x1a83ed=a3_0x2a50c4;if(_0x1d02e9[_0x1a83ed(0xef)]){try{_0x1d02e9['pythonProcess'][_0x1a83ed(0xee)]();}catch(_0x5540da){}_0x1d02e9['pythonProcess']=null;}}function a3_0x4dff(){const _0x558e25=['Permission\x20denied','1086256zrmyHI','Scripts','log','511074FzKkRz','join','Creating\x20new\x20VENV...','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','python','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','error','apply','\x22\x20install\x20-r\x20\x22','platform','includes','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','Delete\x20failed:\x20','pip','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','child_process','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','kill','pythonProcess','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','EACCES','pip.exe','warn','24xLvrmr','rmSync','9542313ePUoIH','python_service','win32','dependencyInstallInProgress','info','constructor','171eeFViS','‚úÖ\x20INSTALL\x20SUCCESS.','30636xCKbVy','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','existsSync','python.exe','(((.+)+)+)+$','message','156742GUXzpc','129472oBJxjA','path','python3\x20-m\x20venv\x20\x22','toString','exports','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','100655YOGwjJ','search'];a3_0x4dff=function(){return _0x558e25;};return a3_0x4dff();}function installRequirementsInVenv(_0x5df013,_0x3dee7b,_0x21ee6d){const _0x3f5c95=a3_0x2a50c4;_0x5df013[_0x3f5c95(0xdb)]['info'](_0x3f5c95(0xdf));const _0x4a6f5f='\x22'+PIP_EXE+_0x3f5c95(0xe4)+_0x3dee7b+'\x22';exec(_0x4a6f5f,{'timeout':0x1b7740},(_0xa250fe,_0x135933,_0xa9763b)=>{const _0x19ffcf=_0x3f5c95;_0x5df013[_0x19ffcf(0xf9)]=![];if(_0xa250fe){_0x5df013[_0x19ffcf(0xdb)][_0x19ffcf(0xe2)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0xa9763b||_0xa250fe[_0x19ffcf(0x103)]));try{fs[_0x19ffcf(0xf5)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0xe11833){}}else _0x5df013[_0x19ffcf(0xdb)][_0x19ffcf(0xfa)](_0x19ffcf(0xfd)),_0x21ee6d&&_0x21ee6d();});}function installPythonDependencies(_0x5504a4,_0x5016b5){const _0x5439cd=a3_0x2a50c4;if(_0x5504a4['dependencyInstallInProgress'])return;_0x5504a4['dependencyInstallInProgress']=!![];const _0x55bd44=path[_0x5439cd(0xdd)](ADAPTER_DIR,_0x5439cd(0xf7),'requirements.txt');stopPythonService(_0x5504a4);if(fs[_0x5439cd(0x100)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x5504a4['log'][_0x5439cd(0xf3)](_0x5439cd(0x10a));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x24d8b1){_0x5504a4[_0x5439cd(0xdb)][_0x5439cd(0xe2)](_0x5439cd(0xe8)+_0x24d8b1[_0x5439cd(0x103)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x5504a4[_0x5439cd(0xdb)]['info'](_0x5439cd(0xde)),execSync(_0x5439cd(0x107)+VENV_PATH+'\x22');}catch(_0x2459cb){_0x5504a4[_0x5439cd(0xf9)]=![];_0x2459cb[_0x5439cd(0x103)]['includes'](_0x5439cd(0xf1))||_0x2459cb[_0x5439cd(0x103)][_0x5439cd(0xe6)](_0x5439cd(0x10d))?(_0x5504a4[_0x5439cd(0xdb)]['error'](_0x5439cd(0xec)),_0x5504a4[_0x5439cd(0xdb)][_0x5439cd(0xe2)](_0x5439cd(0xea)+ADAPTER_DIR)):_0x5504a4[_0x5439cd(0xdb)][_0x5439cd(0xe2)](_0x5439cd(0xff)+_0x2459cb[_0x5439cd(0x103)]+_0x5439cd(0xe7));return;}installRequirementsInVenv(_0x5504a4,_0x55bd44,_0x5016b5);}function checkAndInstall(_0x4f1ecb,_0x4018ac){const _0x2df247=a3_0x2a50c4;if(fs[_0x2df247(0x100)](PYTHON_EXE)&&fs[_0x2df247(0x100)](PIP_EXE))try{return _0x4f1ecb[_0x2df247(0xdb)][_0x2df247(0xfa)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+_0x2df247(0xed),{'timeout':0x3a98}),_0x4f1ecb[_0x2df247(0xdb)]['info']('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x4018ac&&_0x4018ac(),!![];}catch(_0xd9885){_0x4f1ecb[_0x2df247(0xdb)][_0x2df247(0xf3)](_0x2df247(0xe1));}else _0x4f1ecb[_0x2df247(0xdb)]['warn'](_0x2df247(0xf0));return installPythonDependencies(_0x4f1ecb,_0x4018ac),![];}module[a3_0x2a50c4(0x109)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};