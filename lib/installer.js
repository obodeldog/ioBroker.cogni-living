const a3_0x5043c6=a3_0x917c;(function(_0x5f4c2b,_0xcafa6b){const _0x7c684c=a3_0x917c,_0x5663b2=_0x5f4c2b();while(!![]){try{const _0x1925eb=parseInt(_0x7c684c(0x1d9))/0x1*(-parseInt(_0x7c684c(0x203))/0x2)+-parseInt(_0x7c684c(0x1f9))/0x3+-parseInt(_0x7c684c(0x1f1))/0x4+-parseInt(_0x7c684c(0x1e9))/0x5+-parseInt(_0x7c684c(0x1e1))/0x6+-parseInt(_0x7c684c(0x1dc))/0x7*(parseInt(_0x7c684c(0x1de))/0x8)+-parseInt(_0x7c684c(0x202))/0x9*(-parseInt(_0x7c684c(0x1f5))/0xa);if(_0x1925eb===_0xcafa6b)break;else _0x5663b2['push'](_0x5663b2['shift']());}catch(_0x55a9f1){_0x5663b2['push'](_0x5663b2['shift']());}}}(a3_0x3bcf,0x7f7d6));const a3_0x425ab2=(function(){let _0x438c55=!![];return function(_0x7d43ca,_0x571653){const _0x2a7287=_0x438c55?function(){if(_0x571653){const _0x4af4fc=_0x571653['apply'](_0x7d43ca,arguments);return _0x571653=null,_0x4af4fc;}}:function(){};return _0x438c55=![],_0x2a7287;};}()),a3_0x4cf444=a3_0x425ab2(this,function(){const _0x49623f=a3_0x917c;return a3_0x4cf444[_0x49623f(0x1d6)]()[_0x49623f(0x1dd)](_0x49623f(0x1eb))[_0x49623f(0x1d6)]()[_0x49623f(0x1e8)](a3_0x4cf444)[_0x49623f(0x1dd)]('(((.+)+)+)+$');});a3_0x4cf444();'use strict';const {exec,execSync}=require('child_process'),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x5043c6(0x1ee)]===a3_0x5043c6(0x1d5),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x5043c6(0x1e7)](ADAPTER_DIR,a3_0x5043c6(0x1ed)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x5043c6(0x1e7)](VENV_PATH,'Scripts',a3_0x5043c6(0x1d7)):path[a3_0x5043c6(0x1e7)](VENV_PATH,a3_0x5043c6(0x1ec),a3_0x5043c6(0x1fb)),PIP_EXE=IS_WIN?path[a3_0x5043c6(0x1e7)](VENV_PATH,a3_0x5043c6(0x1df),'pip.exe'):path[a3_0x5043c6(0x1e7)](VENV_PATH,'bin',a3_0x5043c6(0x207));function a3_0x917c(_0x2ee139,_0x2fbc1e){const _0x4fd9bb=a3_0x3bcf();return a3_0x917c=function(_0x4cf444,_0x425ab2){_0x4cf444=_0x4cf444-0x1d5;let _0x3bcff5=_0x4fd9bb[_0x4cf444];return _0x3bcff5;},a3_0x917c(_0x2ee139,_0x2fbc1e);}function a3_0x3bcf(){const _0x413b0c=['â™»ï¸\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','31690XDtuAD','EACCES','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','âŒ\x20INSTALL\x20FAILED:\x20','315810wBAkzQ','âš ï¸\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','python','exports','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','ðŸ›‘\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','Permission\x20denied','dependencyInstallInProgress','ðŸ\x20Checking\x20Python\x20environment...','9873fOChru','2hjEpnx','message','error','ðŸ‘‰\x20LÃ–SUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','pip','âœ…\x20Fast-Boot:\x20Environment\x20healthy.','win32','toString','python.exe','log','877841XGdJMA','existsSync','\x22\x20install\x20-r\x20\x22','35wXWEYj','search','529560uQffLZ','Scripts','info','3315186YHVNiJ','rmSync','warn','python_service','pythonProcess','âŒ\x20VENV\x20CREATION\x20FAILED:\x20','join','constructor','4747590PuqCQw','includes','(((.+)+)+)+$','bin','.venv','platform','requirements.txt','âœ…\x20INSTALL\x20SUCCESS.','552240TYcPMJ','âš ï¸\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','Creating\x20new\x20VENV...'];a3_0x3bcf=function(){return _0x413b0c;};return a3_0x3bcf();}function stopPythonService(_0x5ef566){const _0x780dd7=a3_0x5043c6;if(_0x5ef566[_0x780dd7(0x1e5)]){try{_0x5ef566[_0x780dd7(0x1e5)]['kill']();}catch(_0x5a67e2){}_0x5ef566[_0x780dd7(0x1e5)]=null;}}function installRequirementsInVenv(_0x5c18e1,_0x25cec0,_0x17822c){const _0xd78931=a3_0x5043c6;_0x5c18e1[_0xd78931(0x1d8)][_0xd78931(0x1e0)](_0xd78931(0x1fd));const _0x556d53='\x22'+PIP_EXE+_0xd78931(0x1db)+_0x25cec0+'\x22';exec(_0x556d53,{'timeout':0x1b7740},(_0x4145dd,_0x1f50d3,_0x209bff)=>{const _0x253e2a=_0xd78931;_0x5c18e1[_0x253e2a(0x200)]=![];if(_0x4145dd){_0x5c18e1[_0x253e2a(0x1d8)][_0x253e2a(0x205)](_0x253e2a(0x1f8)+(_0x209bff||_0x4145dd[_0x253e2a(0x204)]));try{fs[_0x253e2a(0x1e2)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x5971a5){}}else _0x5c18e1['log'][_0x253e2a(0x1e0)](_0x253e2a(0x1f0)),_0x17822c&&_0x17822c();});}function installPythonDependencies(_0x32b403,_0x455521){const _0x360874=a3_0x5043c6;if(_0x32b403[_0x360874(0x200)])return;_0x32b403[_0x360874(0x200)]=!![];const _0x22603e=path[_0x360874(0x1e7)](ADAPTER_DIR,_0x360874(0x1e4),_0x360874(0x1ef));stopPythonService(_0x32b403);if(fs[_0x360874(0x1da)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x32b403['log'][_0x360874(0x1e3)](_0x360874(0x1f4));try{fs[_0x360874(0x1e2)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x44361e){_0x32b403['log'][_0x360874(0x205)]('Delete\x20failed:\x20'+_0x44361e[_0x360874(0x204)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x32b403['log'][_0x360874(0x1e0)](_0x360874(0x1f3)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x27623d){_0x32b403[_0x360874(0x200)]=![];_0x27623d[_0x360874(0x204)][_0x360874(0x1ea)](_0x360874(0x1f6))||_0x27623d[_0x360874(0x204)]['includes'](_0x360874(0x1ff))?(_0x32b403['log'][_0x360874(0x205)](_0x360874(0x1fe)),_0x32b403[_0x360874(0x1d8)][_0x360874(0x205)](_0x360874(0x206)+ADAPTER_DIR)):_0x32b403[_0x360874(0x1d8)][_0x360874(0x205)](_0x360874(0x1e6)+_0x27623d[_0x360874(0x204)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x32b403,_0x22603e,_0x455521);}function checkAndInstall(_0x2f495e,_0x42850d){const _0x39ebde=a3_0x5043c6;if(fs[_0x39ebde(0x1da)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x2f495e['log'][_0x39ebde(0x1e0)](_0x39ebde(0x201)),execSync('\x22'+PYTHON_EXE+_0x39ebde(0x1f7),{'timeout':0x3a98}),_0x2f495e[_0x39ebde(0x1d8)][_0x39ebde(0x1e0)](_0x39ebde(0x208)),_0x42850d&&_0x42850d(),!![];}catch(_0x37272b){_0x2f495e['log'][_0x39ebde(0x1e3)](_0x39ebde(0x1fa));}else _0x2f495e[_0x39ebde(0x1d8)][_0x39ebde(0x1e3)](_0x39ebde(0x1f2));return installPythonDependencies(_0x2f495e,_0x42850d),![];}module[a3_0x5043c6(0x1fc)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};