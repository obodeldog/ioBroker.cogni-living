const a0_0x182aab=a0_0x2945;(function(_0x166cb9,_0x476ac3){const _0x1f1487=a0_0x2945,_0x87d785=_0x166cb9();while(!![]){try{const _0x56c6a7=parseInt(_0x1f1487(0x1f6))/0x1*(-parseInt(_0x1f1487(0x1d2))/0x2)+parseInt(_0x1f1487(0x1f0))/0x3+parseInt(_0x1f1487(0x1fe))/0x4+-parseInt(_0x1f1487(0x1d4))/0x5*(parseInt(_0x1f1487(0x1db))/0x6)+parseInt(_0x1f1487(0x1cd))/0x7+-parseInt(_0x1f1487(0x1e1))/0x8+-parseInt(_0x1f1487(0x1d0))/0x9*(-parseInt(_0x1f1487(0x1d1))/0xa);if(_0x56c6a7===_0x476ac3)break;else _0x87d785['push'](_0x87d785['shift']());}catch(_0x381ddd){_0x87d785['push'](_0x87d785['shift']());}}}(a0_0x494b,0x91eee));const a0_0x3fcd3c=(function(){let _0x45b0e3=!![];return function(_0x379831,_0x17ad31){const _0x174fba=_0x45b0e3?function(){if(_0x17ad31){const _0x382139=_0x17ad31['apply'](_0x379831,arguments);return _0x17ad31=null,_0x382139;}}:function(){};return _0x45b0e3=![],_0x174fba;};}()),a0_0x54661e=a0_0x3fcd3c(this,function(){const _0x2b610e=a0_0x2945;return a0_0x54661e[_0x2b610e(0x1f5)]()['search'](_0x2b610e(0x1e7))[_0x2b610e(0x1f5)]()['constructor'](a0_0x54661e)[_0x2b610e(0x1ef)](_0x2b610e(0x1e7));});function a0_0x2945(_0x533229,_0x23ce2b){const _0x1bdd92=a0_0x494b();return a0_0x2945=function(_0x54661e,_0x3fcd3c){_0x54661e=_0x54661e-0x1cd;let _0x494b11=_0x1bdd92[_0x54661e];return _0x494b11;},a0_0x2945(_0x533229,_0x23ce2b);}a0_0x54661e();'use strict';function a0_0x494b(){const _0x59e349=['python.exe','requirements.txt','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','error','toString','87313WBVBSQ','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','log','EACCES','path','includes','kill','.venv','2875696plNYfY','5518359AzNZxV','\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22','platform','387vMCwof','13310QPNVPE','8wIPWfv','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','20NTzlzN','rmSync','‚úÖ\x20INSTALL\x20SUCCESS.','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','pip.exe','python3\x20-m\x20venv\x20\x22','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','467076ipgjYj','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','warn','join','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','win32','6690016MXFiwx','Permission\x20denied','Scripts','exports','bin','message','(((.+)+)+)+$','info','python','pythonProcess','existsSync','dependencyInstallInProgress','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','üêç\x20Checking\x20Python\x20environment...','search','1590408aSUjdK'];a0_0x494b=function(){return _0x59e349;};return a0_0x494b();}const {exec,execSync}=require('child_process'),path=require(a0_0x182aab(0x1fa)),fs=require('fs'),IS_WIN=process[a0_0x182aab(0x1cf)]===a0_0x182aab(0x1e0),ADAPTER_DIR=path[a0_0x182aab(0x1de)](__dirname,'..'),PERSISTENT_DIR=path[a0_0x182aab(0x1de)](ADAPTER_DIR,a0_0x182aab(0x1fd)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a0_0x182aab(0x1de)](VENV_PATH,a0_0x182aab(0x1e3),a0_0x182aab(0x1f1)):path[a0_0x182aab(0x1de)](VENV_PATH,'bin',a0_0x182aab(0x1e9)),PIP_EXE=IS_WIN?path[a0_0x182aab(0x1de)](VENV_PATH,a0_0x182aab(0x1e3),a0_0x182aab(0x1d8)):path[a0_0x182aab(0x1de)](VENV_PATH,a0_0x182aab(0x1e5),'pip');function stopPythonService(_0x575a07){const _0x411bfc=a0_0x182aab;if(_0x575a07[_0x411bfc(0x1ea)]){try{_0x575a07['pythonProcess'][_0x411bfc(0x1fc)]();}catch(_0x4b3424){}_0x575a07['pythonProcess']=null;}}function installRequirementsInVenv(_0x13c74d,_0x16b2ba,_0x204890){const _0x1745a3=a0_0x182aab;_0x13c74d[_0x1745a3(0x1f8)][_0x1745a3(0x1e8)](_0x1745a3(0x1f3));const _0x1579ed='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x16b2ba+'\x22';exec(_0x1579ed,{'timeout':0x1b7740},(_0x115a49,_0x1dd444,_0x5c7c2f)=>{const _0x197faa=_0x1745a3;_0x13c74d[_0x197faa(0x1ec)]=![];if(_0x115a49){_0x13c74d[_0x197faa(0x1f8)][_0x197faa(0x1f4)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x5c7c2f||_0x115a49['message']));try{fs[_0x197faa(0x1d5)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x3b9a2a){}}else _0x13c74d['log'][_0x197faa(0x1e8)](_0x197faa(0x1d6)),_0x204890&&_0x204890();});}function installPythonDependencies(_0x31f5f1,_0x1c1c8e){const _0x239545=a0_0x182aab;if(_0x31f5f1[_0x239545(0x1ec)])return;_0x31f5f1[_0x239545(0x1ec)]=!![];const _0x2de7d9=path[_0x239545(0x1de)](ADAPTER_DIR,'python_service',_0x239545(0x1f2));stopPythonService(_0x31f5f1);if(fs['existsSync'](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x31f5f1[_0x239545(0x1f8)]['warn'](_0x239545(0x1d7));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x40980d){_0x31f5f1[_0x239545(0x1f8)][_0x239545(0x1f4)]('Delete\x20failed:\x20'+_0x40980d[_0x239545(0x1e6)]);}}if(!fs[_0x239545(0x1eb)](VENV_PATH))try{_0x31f5f1[_0x239545(0x1f8)][_0x239545(0x1e8)]('Creating\x20new\x20VENV...'),execSync(_0x239545(0x1d9)+VENV_PATH+'\x22');}catch(_0x321634){_0x31f5f1[_0x239545(0x1ec)]=![];_0x321634[_0x239545(0x1e6)][_0x239545(0x1fb)](_0x239545(0x1f9))||_0x321634[_0x239545(0x1e6)]['includes'](_0x239545(0x1e2))?(_0x31f5f1[_0x239545(0x1f8)][_0x239545(0x1f4)](_0x239545(0x1dc)),_0x31f5f1[_0x239545(0x1f8)][_0x239545(0x1f4)](_0x239545(0x1ed)+ADAPTER_DIR)):_0x31f5f1[_0x239545(0x1f8)][_0x239545(0x1f4)](_0x239545(0x1da)+_0x321634['message']+_0x239545(0x1d3));return;}installRequirementsInVenv(_0x31f5f1,_0x2de7d9,_0x1c1c8e);}function checkAndInstall(_0xf5c7b8,_0x1aaa0c){const _0x26e7da=a0_0x182aab;if(fs[_0x26e7da(0x1eb)](PYTHON_EXE)&&fs[_0x26e7da(0x1eb)](PIP_EXE))try{return _0xf5c7b8[_0x26e7da(0x1f8)][_0x26e7da(0x1e8)](_0x26e7da(0x1ee)),execSync('\x22'+PYTHON_EXE+_0x26e7da(0x1ce),{'timeout':0x3a98}),_0xf5c7b8[_0x26e7da(0x1f8)][_0x26e7da(0x1e8)](_0x26e7da(0x1df)),_0x1aaa0c&&_0x1aaa0c(),!![];}catch(_0x5a836c){_0xf5c7b8[_0x26e7da(0x1f8)][_0x26e7da(0x1dd)]('‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...');}else _0xf5c7b8['log'][_0x26e7da(0x1dd)](_0x26e7da(0x1f7));return installPythonDependencies(_0xf5c7b8,_0x1aaa0c),![];}module[a0_0x182aab(0x1e4)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};