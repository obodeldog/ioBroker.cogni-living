function a3_0x4173(_0x56cae9,_0x4d0921){const _0x1700ea=a3_0x3c61();return a3_0x4173=function(_0xd63554,_0x3b3acf){_0xd63554=_0xd63554-0xbc;let _0x3c6196=_0x1700ea[_0xd63554];return _0x3c6196;},a3_0x4173(_0x56cae9,_0x4d0921);}const a3_0x367d8e=a3_0x4173;(function(_0x31064a,_0x5e2804){const _0x299144=a3_0x4173,_0x4b74fd=_0x31064a();while(!![]){try{const _0xd855f4=parseInt(_0x299144(0xd8))/0x1+-parseInt(_0x299144(0xc9))/0x2+parseInt(_0x299144(0xcd))/0x3+parseInt(_0x299144(0xdd))/0x4+parseInt(_0x299144(0xe7))/0x5+-parseInt(_0x299144(0xd3))/0x6+-parseInt(_0x299144(0xe0))/0x7;if(_0xd855f4===_0x5e2804)break;else _0x4b74fd['push'](_0x4b74fd['shift']());}catch(_0x4bfe68){_0x4b74fd['push'](_0x4b74fd['shift']());}}}(a3_0x3c61,0x67cb6));const a3_0x3b3acf=(function(){let _0x4b3875=!![];return function(_0x4f40f4,_0x16cf54){const _0x19efc9=_0x4b3875?function(){const _0x16baeb=a3_0x4173;if(_0x16cf54){const _0x319949=_0x16cf54[_0x16baeb(0xe2)](_0x4f40f4,arguments);return _0x16cf54=null,_0x319949;}}:function(){};return _0x4b3875=![],_0x19efc9;};}()),a3_0xd63554=a3_0x3b3acf(this,function(){const _0x2e19ae=a3_0x4173;return a3_0xd63554[_0x2e19ae(0xdc)]()[_0x2e19ae(0xc1)](_0x2e19ae(0xda))['toString']()['constructor'](a3_0xd63554)['search'](_0x2e19ae(0xda));});a3_0xd63554();'use strict';const {exec,execSync}=require('child_process'),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x367d8e(0xc5)]==='win32',ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x367d8e(0xbc)](ADAPTER_DIR,a3_0x367d8e(0xe3)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x367d8e(0xbc)](VENV_PATH,a3_0x367d8e(0xc2),'python.exe'):path[a3_0x367d8e(0xbc)](VENV_PATH,a3_0x367d8e(0xc4),a3_0x367d8e(0xbd)),PIP_EXE=IS_WIN?path[a3_0x367d8e(0xbc)](VENV_PATH,a3_0x367d8e(0xc2),a3_0x367d8e(0xe8)):path[a3_0x367d8e(0xbc)](VENV_PATH,'bin',a3_0x367d8e(0xcb));function a3_0x3c61(){const _0x586bee=['search','Scripts','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','bin','platform','info','log','exports','682428xIKlwa','warn','pip','python3\x20-m\x20venv\x20\x22','2102031jaspNP','‚ùå\x20INSTALL\x20FAILED:\x20','includes','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','error','4049862NNXoiI','pythonProcess','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','message','dependencyInstallInProgress','531160OAgnBo','üêç\x20Checking\x20Python\x20environment...','(((.+)+)+)+$','Delete\x20failed:\x20','toString','1390752KzAwBG','python_service','existsSync','6051297BzexuB','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','apply','.venv','EACCES','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','‚úÖ\x20INSTALL\x20SUCCESS.','3631395VwweEd','pip.exe','join','python','Permission\x20denied','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','rmSync'];a3_0x3c61=function(){return _0x586bee;};return a3_0x3c61();}function stopPythonService(_0xfe32b4){const _0x5c85c8=a3_0x367d8e;if(_0xfe32b4[_0x5c85c8(0xd4)]){try{_0xfe32b4[_0x5c85c8(0xd4)]['kill']();}catch(_0x2b29b2){}_0xfe32b4[_0x5c85c8(0xd4)]=null;}}function installRequirementsInVenv(_0x3ae217,_0x3d933c,_0x15b01c){const _0x2c7b37=a3_0x367d8e;_0x3ae217[_0x2c7b37(0xc7)][_0x2c7b37(0xc6)](_0x2c7b37(0xbf));const _0x5ad9bb='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x3d933c+'\x22';exec(_0x5ad9bb,{'timeout':0x1b7740},(_0x4657b6,_0x487287,_0x341f8a)=>{const _0x216d9c=_0x2c7b37;_0x3ae217[_0x216d9c(0xd7)]=![];if(_0x4657b6){_0x3ae217[_0x216d9c(0xc7)]['error'](_0x216d9c(0xce)+(_0x341f8a||_0x4657b6[_0x216d9c(0xd6)]));try{fs[_0x216d9c(0xc0)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x50e3cc){}}else _0x3ae217[_0x216d9c(0xc7)]['info'](_0x216d9c(0xe6)),_0x15b01c&&_0x15b01c();});}function installPythonDependencies(_0x59ed91,_0x56d283){const _0x5aa971=a3_0x367d8e;if(_0x59ed91['dependencyInstallInProgress'])return;_0x59ed91[_0x5aa971(0xd7)]=!![];const _0x84f366=path[_0x5aa971(0xbc)](ADAPTER_DIR,_0x5aa971(0xde),'requirements.txt');stopPythonService(_0x59ed91);if(fs['existsSync'](VENV_PATH)&&!fs[_0x5aa971(0xdf)](PIP_EXE)){_0x59ed91[_0x5aa971(0xc7)][_0x5aa971(0xca)](_0x5aa971(0xd1));try{fs[_0x5aa971(0xc0)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x1f667b){_0x59ed91[_0x5aa971(0xc7)][_0x5aa971(0xd2)](_0x5aa971(0xdb)+_0x1f667b['message']);}}if(!fs[_0x5aa971(0xdf)](VENV_PATH))try{_0x59ed91[_0x5aa971(0xc7)][_0x5aa971(0xc6)]('Creating\x20new\x20VENV...'),execSync(_0x5aa971(0xcc)+VENV_PATH+'\x22');}catch(_0x57b9e7){_0x59ed91['dependencyInstallInProgress']=![];_0x57b9e7[_0x5aa971(0xd6)][_0x5aa971(0xcf)](_0x5aa971(0xe4))||_0x57b9e7[_0x5aa971(0xd6)][_0x5aa971(0xcf)](_0x5aa971(0xbe))?(_0x59ed91[_0x5aa971(0xc7)][_0x5aa971(0xd2)](_0x5aa971(0xc3)),_0x59ed91[_0x5aa971(0xc7)][_0x5aa971(0xd2)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x59ed91['log']['error'](_0x5aa971(0xe1)+_0x57b9e7[_0x5aa971(0xd6)]+_0x5aa971(0xd5));return;}installRequirementsInVenv(_0x59ed91,_0x84f366,_0x56d283);}function checkAndInstall(_0x253b1e,_0x1d95e6){const _0x232a1d=a3_0x367d8e;if(fs[_0x232a1d(0xdf)](PYTHON_EXE)&&fs[_0x232a1d(0xdf)](PIP_EXE))try{return _0x253b1e[_0x232a1d(0xc7)]['info'](_0x232a1d(0xd9)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x253b1e[_0x232a1d(0xc7)][_0x232a1d(0xc6)](_0x232a1d(0xe5)),_0x1d95e6&&_0x1d95e6(),!![];}catch(_0x1d80d6){_0x253b1e['log'][_0x232a1d(0xca)](_0x232a1d(0xd0));}else _0x253b1e[_0x232a1d(0xc7)][_0x232a1d(0xca)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x253b1e,_0x1d95e6),![];}module[a3_0x367d8e(0xc8)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};