const a0_0x63131=a0_0x5ea1;(function(_0xcf092,_0x405c7a){const _0x4e5e67=a0_0x5ea1,_0x19c6c2=_0xcf092();while(!![]){try{const _0x9a582a=-parseInt(_0x4e5e67(0x1e1))/0x1+-parseInt(_0x4e5e67(0x1df))/0x2*(parseInt(_0x4e5e67(0x1ea))/0x3)+-parseInt(_0x4e5e67(0x1f9))/0x4+-parseInt(_0x4e5e67(0x1f4))/0x5+parseInt(_0x4e5e67(0x1e2))/0x6+parseInt(_0x4e5e67(0x1fc))/0x7+-parseInt(_0x4e5e67(0x1d7))/0x8*(-parseInt(_0x4e5e67(0x1f3))/0x9);if(_0x9a582a===_0x405c7a)break;else _0x19c6c2['push'](_0x19c6c2['shift']());}catch(_0x54210d){_0x19c6c2['push'](_0x19c6c2['shift']());}}}(a0_0x5618,0x97bcb));const a0_0x38b844=(function(){let _0x193632=!![];return function(_0x28a5e9,_0x4f12fe){const _0x18b2b7=_0x193632?function(){const _0x1b46fb=a0_0x5ea1;if(_0x4f12fe){const _0x4c0910=_0x4f12fe[_0x1b46fb(0x1d9)](_0x28a5e9,arguments);return _0x4f12fe=null,_0x4c0910;}}:function(){};return _0x193632=![],_0x18b2b7;};}()),a0_0x555371=a0_0x38b844(this,function(){const _0x5c5e2e=a0_0x5ea1;return a0_0x555371['toString']()[_0x5c5e2e(0x1ed)]('(((.+)+)+)+$')[_0x5c5e2e(0x1d8)]()[_0x5c5e2e(0x1fd)](a0_0x555371)[_0x5c5e2e(0x1ed)](_0x5c5e2e(0x1f8));});function a0_0x5ea1(_0x3d6744,_0x443dda){const _0x30c76c=a0_0x5618();return a0_0x5ea1=function(_0x555371,_0x38b844){_0x555371=_0x555371-0x1d3;let _0x56183a=_0x30c76c[_0x555371];return _0x56183a;},a0_0x5ea1(_0x3d6744,_0x443dda);}a0_0x555371();'use strict';const {exec,execSync}=require(a0_0x63131(0x1f0)),path=require(a0_0x63131(0x1e8)),fs=require('fs'),IS_WIN=process['platform']===a0_0x63131(0x1f2),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a0_0x63131(0x1fa)](ADAPTER_DIR,a0_0x63131(0x1dc)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a0_0x63131(0x1fa)](VENV_PATH,a0_0x63131(0x1f5),'python.exe'):path[a0_0x63131(0x1fa)](VENV_PATH,a0_0x63131(0x1dd),'python'),PIP_EXE=IS_WIN?path[a0_0x63131(0x1fa)](VENV_PATH,a0_0x63131(0x1f5),a0_0x63131(0x1e9)):path['join'](VENV_PATH,a0_0x63131(0x1dd),'pip');function stopPythonService(_0x58a910){const _0x1949c2=a0_0x63131;if(_0x58a910['pythonProcess']){try{_0x58a910[_0x1949c2(0x1d6)][_0x1949c2(0x1f6)]();}catch(_0x46481e){}_0x58a910[_0x1949c2(0x1d6)]=null;}}function installRequirementsInVenv(_0x5c3aab,_0xdd7d56,_0x5ccb00){const _0x567443=a0_0x63131;_0x5c3aab['log'][_0x567443(0x1de)](_0x567443(0x1eb));const _0x5132b0='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0xdd7d56+'\x22';exec(_0x5132b0,{'timeout':0x1b7740},(_0xc95b4d,_0x580da7,_0x3503af)=>{const _0x231587=_0x567443;_0x5c3aab[_0x231587(0x1e0)]=![];if(_0xc95b4d){_0x5c3aab[_0x231587(0x1e4)][_0x231587(0x1e3)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x3503af||_0xc95b4d['message']));try{fs[_0x231587(0x1f1)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4fd9f8){}}else _0x5c3aab[_0x231587(0x1e4)][_0x231587(0x1de)](_0x231587(0x1ec)),_0x5ccb00&&_0x5ccb00();});}function installPythonDependencies(_0x22ec1a,_0xeadace){const _0x2de2a5=a0_0x63131;if(_0x22ec1a['dependencyInstallInProgress'])return;_0x22ec1a['dependencyInstallInProgress']=!![];const _0x147cf9=path[_0x2de2a5(0x1fa)](ADAPTER_DIR,_0x2de2a5(0x1e7),'requirements.txt');stopPythonService(_0x22ec1a);if(fs[_0x2de2a5(0x1da)](VENV_PATH)&&!fs[_0x2de2a5(0x1da)](PIP_EXE)){_0x22ec1a[_0x2de2a5(0x1e4)][_0x2de2a5(0x1db)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x2de2a5(0x1f1)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x494d6c){_0x22ec1a[_0x2de2a5(0x1e4)][_0x2de2a5(0x1e3)](_0x2de2a5(0x1fb)+_0x494d6c['message']);}}if(!fs[_0x2de2a5(0x1da)](VENV_PATH))try{_0x22ec1a[_0x2de2a5(0x1e4)][_0x2de2a5(0x1de)](_0x2de2a5(0x1e5)),execSync(_0x2de2a5(0x1fe)+VENV_PATH+'\x22');}catch(_0x28b4ae){_0x22ec1a[_0x2de2a5(0x1e0)]=![];_0x28b4ae[_0x2de2a5(0x1e6)][_0x2de2a5(0x1d4)](_0x2de2a5(0x1ef))||_0x28b4ae[_0x2de2a5(0x1e6)][_0x2de2a5(0x1d4)](_0x2de2a5(0x1f7))?(_0x22ec1a[_0x2de2a5(0x1e4)][_0x2de2a5(0x1e3)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x22ec1a[_0x2de2a5(0x1e4)][_0x2de2a5(0x1e3)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x22ec1a[_0x2de2a5(0x1e4)]['error'](_0x2de2a5(0x1d5)+_0x28b4ae[_0x2de2a5(0x1e6)]+_0x2de2a5(0x1d3));return;}installRequirementsInVenv(_0x22ec1a,_0x147cf9,_0xeadace);}function a0_0x5618(){const _0x3ceade=['Creating\x20new\x20VENV...','message','python_service','path','pip.exe','471uTAUBQ','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','‚úÖ\x20INSTALL\x20SUCCESS.','search','\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22','EACCES','child_process','rmSync','win32','8202780JSOnwj','5383425UlYoPB','Scripts','kill','Permission\x20denied','(((.+)+)+)+$','4961472STpGtH','join','Delete\x20failed:\x20','3696833QMWBZx','constructor','python3\x20-m\x20venv\x20\x22','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','includes','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','pythonProcess','32LVGIVI','toString','apply','existsSync','warn','.venv','bin','info','11734NUeLVd','dependencyInstallInProgress','652750xLudDd','2031828ToREiH','error','log'];a0_0x5618=function(){return _0x3ceade;};return a0_0x5618();}function checkAndInstall(_0x57c8ba,_0x395174){const _0x468bf0=a0_0x63131;if(fs[_0x468bf0(0x1da)](PYTHON_EXE)&&fs[_0x468bf0(0x1da)](PIP_EXE))try{return _0x57c8ba['log']['info']('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+_0x468bf0(0x1ee),{'timeout':0x3a98}),_0x57c8ba[_0x468bf0(0x1e4)]['info']('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x395174&&_0x395174(),!![];}catch(_0x291608){_0x57c8ba[_0x468bf0(0x1e4)]['warn']('‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...');}else _0x57c8ba[_0x468bf0(0x1e4)][_0x468bf0(0x1db)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x57c8ba,_0x395174),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};