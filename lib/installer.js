const a3_0xcb66a0=a3_0x2058;(function(_0x476d70,_0x3fc243){const _0x1eb5c1=a3_0x2058,_0xdf864c=_0x476d70();while(!![]){try{const _0x14afe7=parseInt(_0x1eb5c1(0x202))/0x1*(parseInt(_0x1eb5c1(0x201))/0x2)+-parseInt(_0x1eb5c1(0x21e))/0x3+parseInt(_0x1eb5c1(0x1f8))/0x4+-parseInt(_0x1eb5c1(0x217))/0x5*(-parseInt(_0x1eb5c1(0x216))/0x6)+-parseInt(_0x1eb5c1(0x20e))/0x7*(parseInt(_0x1eb5c1(0x212))/0x8)+-parseInt(_0x1eb5c1(0x1fe))/0x9+parseInt(_0x1eb5c1(0x20a))/0xa;if(_0x14afe7===_0x3fc243)break;else _0xdf864c['push'](_0xdf864c['shift']());}catch(_0x528a22){_0xdf864c['push'](_0xdf864c['shift']());}}}(a3_0x4800,0xcfb58));const a3_0x4c9e90=(function(){let _0xc5a46a=!![];return function(_0x1daf2a,_0x54bbe3){const _0x4a670d=_0xc5a46a?function(){const _0x3badac=a3_0x2058;if(_0x54bbe3){const _0x5383dd=_0x54bbe3[_0x3badac(0x1ff)](_0x1daf2a,arguments);return _0x54bbe3=null,_0x5383dd;}}:function(){};return _0xc5a46a=![],_0x4a670d;};}()),a3_0x41ca8b=a3_0x4c9e90(this,function(){const _0x2894f0=a3_0x2058;return a3_0x41ca8b['toString']()['search'](_0x2894f0(0x203))[_0x2894f0(0x204)]()[_0x2894f0(0x200)](a3_0x41ca8b)[_0x2894f0(0x211)](_0x2894f0(0x203));});a3_0x41ca8b();function a3_0x2058(_0x410d7e,_0x1b1ba2){const _0x296dec=a3_0x4800();return a3_0x2058=function(_0x41ca8b,_0x4c9e90){_0x41ca8b=_0x41ca8b-0x1ee;let _0x4800c8=_0x296dec[_0x41ca8b];return _0x4800c8;},a3_0x2058(_0x410d7e,_0x1b1ba2);}'use strict';const {exec,execSync}=require(a3_0xcb66a0(0x209)),path=require(a3_0xcb66a0(0x213)),fs=require('fs'),IS_WIN=process[a3_0xcb66a0(0x1fc)]===a3_0xcb66a0(0x207),ADAPTER_DIR=path[a3_0xcb66a0(0x21b)](__dirname,'..'),PERSISTENT_DIR=path[a3_0xcb66a0(0x21b)](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0xcb66a0(0x21b)](VENV_PATH,a3_0xcb66a0(0x218),a3_0xcb66a0(0x1f5)):path['join'](VENV_PATH,a3_0xcb66a0(0x21a),a3_0xcb66a0(0x210)),PIP_EXE=IS_WIN?path[a3_0xcb66a0(0x21b)](VENV_PATH,'Scripts',a3_0xcb66a0(0x21d)):path[a3_0xcb66a0(0x21b)](VENV_PATH,a3_0xcb66a0(0x21a),'pip');function stopPythonService(_0x2c3076){const _0x3c491e=a3_0xcb66a0;if(_0x2c3076[_0x3c491e(0x205)]){try{_0x2c3076[_0x3c491e(0x205)][_0x3c491e(0x219)]();}catch(_0x417212){}_0x2c3076[_0x3c491e(0x205)]=null;}}function installRequirementsInVenv(_0x221d9b,_0x69a635,_0x1b5493){const _0x3a2d5e=a3_0xcb66a0;_0x221d9b[_0x3a2d5e(0x206)][_0x3a2d5e(0x1f3)](_0x3a2d5e(0x214));const _0x98dbc3='\x22'+PIP_EXE+_0x3a2d5e(0x1ee)+_0x69a635+'\x22';exec(_0x98dbc3,{'timeout':0x1b7740},(_0x2379f4,_0x23f237,_0x56943f)=>{const _0x4ca13d=_0x3a2d5e;_0x221d9b[_0x4ca13d(0x20f)]=![];if(_0x2379f4){_0x221d9b[_0x4ca13d(0x206)][_0x4ca13d(0x208)](_0x4ca13d(0x1f4)+(_0x56943f||_0x2379f4[_0x4ca13d(0x1f7)]));try{fs[_0x4ca13d(0x20b)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4eddb8){}}else _0x221d9b['log'][_0x4ca13d(0x1f3)](_0x4ca13d(0x1fd)),_0x1b5493&&_0x1b5493();});}function a3_0x4800(){const _0x51f13c=['search','492920QuYXTO','path','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','2975466SzlnAh','5KYtTpW','Scripts','kill','bin','join','EACCES','pip.exe','2604063uwwZtS','python_service','\x22\x20install\x20-r\x20\x22','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','Delete\x20failed:\x20','Permission\x20denied','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','info','‚ùå\x20INSTALL\x20FAILED:\x20','python.exe','Creating\x20new\x20VENV...','message','2308716TCRhwV','warn','exports','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','platform','‚úÖ\x20INSTALL\x20SUCCESS.','14256054biXsuN','apply','constructor','5152CjvBqh','251RWnoHQ','(((.+)+)+)+$','toString','pythonProcess','log','win32','error','child_process','21376720iudBER','rmSync','python3\x20-m\x20venv\x20\x22','existsSync','63tSSUaM','dependencyInstallInProgress','python'];a3_0x4800=function(){return _0x51f13c;};return a3_0x4800();}function installPythonDependencies(_0x172fa4,_0x574068){const _0x44ea41=a3_0xcb66a0;if(_0x172fa4[_0x44ea41(0x20f)])return;_0x172fa4[_0x44ea41(0x20f)]=!![];const _0x18afbe=path[_0x44ea41(0x21b)](ADAPTER_DIR,_0x44ea41(0x21f),'requirements.txt');stopPythonService(_0x172fa4);if(fs[_0x44ea41(0x20d)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x172fa4[_0x44ea41(0x206)][_0x44ea41(0x1f9)](_0x44ea41(0x1fb));try{fs[_0x44ea41(0x20b)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4f94e9){_0x172fa4[_0x44ea41(0x206)][_0x44ea41(0x208)](_0x44ea41(0x1f0)+_0x4f94e9['message']);}}if(!fs[_0x44ea41(0x20d)](VENV_PATH))try{_0x172fa4[_0x44ea41(0x206)][_0x44ea41(0x1f3)](_0x44ea41(0x1f6)),execSync(_0x44ea41(0x20c)+VENV_PATH+'\x22');}catch(_0x3e85d7){_0x172fa4[_0x44ea41(0x20f)]=![];_0x3e85d7[_0x44ea41(0x1f7)]['includes'](_0x44ea41(0x21c))||_0x3e85d7[_0x44ea41(0x1f7)]['includes'](_0x44ea41(0x1f1))?(_0x172fa4[_0x44ea41(0x206)][_0x44ea41(0x208)](_0x44ea41(0x215)),_0x172fa4[_0x44ea41(0x206)]['error'](_0x44ea41(0x1f2)+ADAPTER_DIR)):_0x172fa4[_0x44ea41(0x206)][_0x44ea41(0x208)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x3e85d7[_0x44ea41(0x1f7)]+_0x44ea41(0x1ef));return;}installRequirementsInVenv(_0x172fa4,_0x18afbe,_0x574068);}function checkAndInstall(_0x5cf698,_0x595f99){const _0x3ae98f=a3_0xcb66a0;if(fs[_0x3ae98f(0x20d)](PYTHON_EXE)&&fs[_0x3ae98f(0x20d)](PIP_EXE))try{return _0x5cf698['log'][_0x3ae98f(0x1f3)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x5cf698[_0x3ae98f(0x206)]['info']('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x595f99&&_0x595f99(),!![];}catch(_0x4a3cf9){_0x5cf698[_0x3ae98f(0x206)][_0x3ae98f(0x1f9)]('‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...');}else _0x5cf698[_0x3ae98f(0x206)][_0x3ae98f(0x1f9)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x5cf698,_0x595f99),![];}module[a3_0xcb66a0(0x1fa)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};