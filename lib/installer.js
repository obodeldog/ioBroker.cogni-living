const a3_0x360fbb=a3_0x2146;(function(_0x2a54bc,_0x2d851b){const _0x4f1a79=a3_0x2146,_0x197016=_0x2a54bc();while(!![]){try{const _0x1d3dca=-parseInt(_0x4f1a79(0x1f1))/0x1*(-parseInt(_0x4f1a79(0x1c5))/0x2)+-parseInt(_0x4f1a79(0x1d9))/0x3*(parseInt(_0x4f1a79(0x1e4))/0x4)+-parseInt(_0x4f1a79(0x1d5))/0x5+-parseInt(_0x4f1a79(0x1d4))/0x6*(-parseInt(_0x4f1a79(0x1ef))/0x7)+-parseInt(_0x4f1a79(0x1e7))/0x8*(-parseInt(_0x4f1a79(0x1c2))/0x9)+-parseInt(_0x4f1a79(0x1e8))/0xa+-parseInt(_0x4f1a79(0x1ea))/0xb*(-parseInt(_0x4f1a79(0x1db))/0xc);if(_0x1d3dca===_0x2d851b)break;else _0x197016['push'](_0x197016['shift']());}catch(_0x326032){_0x197016['push'](_0x197016['shift']());}}}(a3_0x3038,0x970ef));function a3_0x3038(){const _0x5bce7e=['pip','Permission\x20denied','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','124bXejQl','info','\x22\x20install\x20-r\x20\x22','408896DBFIQG','6695940lJLHXT','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','33gcygnw','EACCES','dependencyInstallInProgress','pip.exe','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','7pTuKZl','join','1389IJHSoC','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','message','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','python.exe','toString','18dGazov','warn','\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22','1180YjRpgE','üêç\x20Checking\x20Python\x20environment...','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','apply','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','exports','python','error','Scripts','existsSync','path','search','pythonProcess','(((.+)+)+)+$','3090084XfKrEk','5856715XHkaND','.venv','win32','Creating\x20new\x20VENV...','43662bNSIrm','includes','5896392RKzBRV','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','‚úÖ\x20INSTALL\x20SUCCESS.','log','bin','rmSync'];a3_0x3038=function(){return _0x5bce7e;};return a3_0x3038();}const a3_0x228fb8=(function(){let _0x1dc727=!![];return function(_0x11bfb2,_0xec163d){const _0x2ee321=_0x1dc727?function(){const _0x65f7dd=a3_0x2146;if(_0xec163d){const _0xc9cb7c=_0xec163d[_0x65f7dd(0x1c8)](_0x11bfb2,arguments);return _0xec163d=null,_0xc9cb7c;}}:function(){};return _0x1dc727=![],_0x2ee321;};}()),a3_0x36fbb6=a3_0x228fb8(this,function(){const _0x5609a5=a3_0x2146;return a3_0x36fbb6['toString']()[_0x5609a5(0x1d1)]('(((.+)+)+)+$')[_0x5609a5(0x1c1)]()['constructor'](a3_0x36fbb6)[_0x5609a5(0x1d1)](_0x5609a5(0x1d3));});a3_0x36fbb6();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x360fbb(0x1d0)),fs=require('fs'),IS_WIN=process['platform']===a3_0x360fbb(0x1d7),ADAPTER_DIR=path[a3_0x360fbb(0x1f0)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,a3_0x360fbb(0x1d6)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x360fbb(0x1f0)](VENV_PATH,a3_0x360fbb(0x1ce),a3_0x360fbb(0x1c0)):path[a3_0x360fbb(0x1f0)](VENV_PATH,'bin',a3_0x360fbb(0x1cc)),PIP_EXE=IS_WIN?path[a3_0x360fbb(0x1f0)](VENV_PATH,a3_0x360fbb(0x1ce),a3_0x360fbb(0x1ed)):path['join'](VENV_PATH,a3_0x360fbb(0x1df),a3_0x360fbb(0x1e1));function stopPythonService(_0x518dd5){const _0x25e5ee=a3_0x360fbb;if(_0x518dd5[_0x25e5ee(0x1d2)]){try{_0x518dd5[_0x25e5ee(0x1d2)]['kill']();}catch(_0x4bd64d){}_0x518dd5[_0x25e5ee(0x1d2)]=null;}}function installRequirementsInVenv(_0x427581,_0x4bbcf2,_0x1ce732){const _0x174bdd=a3_0x360fbb;_0x427581[_0x174bdd(0x1de)]['info'](_0x174bdd(0x1e9));const _0x1c4d26='\x22'+PIP_EXE+_0x174bdd(0x1e6)+_0x4bbcf2+'\x22';exec(_0x1c4d26,{'timeout':0x1b7740},(_0x1421f4,_0x363085,_0x40626b)=>{const _0xdd331f=_0x174bdd;_0x427581[_0xdd331f(0x1ec)]=![];if(_0x1421f4){_0x427581['log'][_0xdd331f(0x1cd)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x40626b||_0x1421f4[_0xdd331f(0x1be)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x411554){}}else _0x427581[_0xdd331f(0x1de)][_0xdd331f(0x1e5)](_0xdd331f(0x1dd)),_0x1ce732&&_0x1ce732();});}function installPythonDependencies(_0x5f1cd7,_0x561423){const _0x1bfa6e=a3_0x360fbb;if(_0x5f1cd7['dependencyInstallInProgress'])return;_0x5f1cd7[_0x1bfa6e(0x1ec)]=!![];const _0xb81e87=path[_0x1bfa6e(0x1f0)](ADAPTER_DIR,'python_service','requirements.txt');stopPythonService(_0x5f1cd7);if(fs['existsSync'](VENV_PATH)&&!fs[_0x1bfa6e(0x1cf)](PIP_EXE)){_0x5f1cd7['log'][_0x1bfa6e(0x1c3)](_0x1bfa6e(0x1bf));try{fs[_0x1bfa6e(0x1e0)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x8a5b0a){_0x5f1cd7['log'][_0x1bfa6e(0x1cd)]('Delete\x20failed:\x20'+_0x8a5b0a['message']);}}if(!fs['existsSync'](VENV_PATH))try{_0x5f1cd7[_0x1bfa6e(0x1de)]['info'](_0x1bfa6e(0x1d8)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x31f261){_0x5f1cd7[_0x1bfa6e(0x1ec)]=![];_0x31f261['message']['includes'](_0x1bfa6e(0x1eb))||_0x31f261[_0x1bfa6e(0x1be)][_0x1bfa6e(0x1da)](_0x1bfa6e(0x1e2))?(_0x5f1cd7[_0x1bfa6e(0x1de)][_0x1bfa6e(0x1cd)](_0x1bfa6e(0x1dc)),_0x5f1cd7[_0x1bfa6e(0x1de)]['error'](_0x1bfa6e(0x1f2)+ADAPTER_DIR)):_0x5f1cd7['log']['error'](_0x1bfa6e(0x1ee)+_0x31f261[_0x1bfa6e(0x1be)]+_0x1bfa6e(0x1e3));return;}installRequirementsInVenv(_0x5f1cd7,_0xb81e87,_0x561423);}function checkAndInstall(_0x51006b,_0x4cb654){const _0x50d029=a3_0x360fbb;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x50d029(0x1cf)](PIP_EXE))try{return _0x51006b[_0x50d029(0x1de)]['info'](_0x50d029(0x1c6)),execSync('\x22'+PYTHON_EXE+_0x50d029(0x1c4),{'timeout':0x3a98}),_0x51006b[_0x50d029(0x1de)][_0x50d029(0x1e5)](_0x50d029(0x1ca)),_0x4cb654&&_0x4cb654(),!![];}catch(_0xe84ef){_0x51006b[_0x50d029(0x1de)][_0x50d029(0x1c3)](_0x50d029(0x1c7));}else _0x51006b[_0x50d029(0x1de)][_0x50d029(0x1c3)](_0x50d029(0x1c9));return installPythonDependencies(_0x51006b,_0x4cb654),![];}function a3_0x2146(_0x230d00,_0x4ae7b1){const _0x59c8a6=a3_0x3038();return a3_0x2146=function(_0x36fbb6,_0x228fb8){_0x36fbb6=_0x36fbb6-0x1be;let _0x3038a0=_0x59c8a6[_0x36fbb6];return _0x3038a0;},a3_0x2146(_0x230d00,_0x4ae7b1);}module[a3_0x360fbb(0x1cb)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};