const a3_0x51c2fd=a3_0x13f2;(function(_0x2dff3,_0x1a0367){const _0x46185f=a3_0x13f2,_0x5e4e4d=_0x2dff3();while(!![]){try{const _0x2d7f5f=parseInt(_0x46185f(0x178))/0x1+parseInt(_0x46185f(0x15c))/0x2+-parseInt(_0x46185f(0x167))/0x3+-parseInt(_0x46185f(0x14e))/0x4+-parseInt(_0x46185f(0x15d))/0x5+-parseInt(_0x46185f(0x16f))/0x6*(parseInt(_0x46185f(0x14f))/0x7)+parseInt(_0x46185f(0x169))/0x8;if(_0x2d7f5f===_0x1a0367)break;else _0x5e4e4d['push'](_0x5e4e4d['shift']());}catch(_0x3167d0){_0x5e4e4d['push'](_0x5e4e4d['shift']());}}}(a3_0x1976,0x80e48));const a3_0x409c06=(function(){let _0x4d8d0e=!![];return function(_0x565a1a,_0x38ddf9){const _0x4e8ba2=_0x4d8d0e?function(){const _0x33f9d1=a3_0x13f2;if(_0x38ddf9){const _0x38bb89=_0x38ddf9[_0x33f9d1(0x165)](_0x565a1a,arguments);return _0x38ddf9=null,_0x38bb89;}}:function(){};return _0x4d8d0e=![],_0x4e8ba2;};}()),a3_0x517943=a3_0x409c06(this,function(){const _0xf55a6b=a3_0x13f2;return a3_0x517943[_0xf55a6b(0x170)]()['search'](_0xf55a6b(0x151))['toString']()[_0xf55a6b(0x175)](a3_0x517943)[_0xf55a6b(0x16d)](_0xf55a6b(0x151));});a3_0x517943();'use strict';function a3_0x1976(){const _0x22e6d8=['join','2660920jGbCKi','7966KPIRbf','pythonProcess','(((.+)+)+)+$','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','kill','.venv','error','message','pip.exe','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','dependencyInstallInProgress','244780CzaOoQ','1828750ZWjXvM','python_service','bin','‚ùå\x20INSTALL\x20FAILED:\x20','log','Delete\x20failed:\x20','Scripts','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','apply','exports','904842uTVWgk','Creating\x20new\x20VENV...','10584024NeNinC','‚úÖ\x20INSTALL\x20SUCCESS.','python.exe','win32','search','python3\x20-m\x20venv\x20\x22','1164wACaTK','toString','pip','rmSync','existsSync','path','constructor','info','platform','635917RmhCTM','üêç\x20Checking\x20Python\x20environment...','\x22\x20install\x20-r\x20\x22','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','warn','requirements.txt','includes','.\x20(Is\x20\x27python3-venv\x27\x20installed?)'];a3_0x1976=function(){return _0x22e6d8;};return a3_0x1976();}const {exec,execSync}=require('child_process'),path=require(a3_0x51c2fd(0x174)),fs=require('fs'),IS_WIN=process[a3_0x51c2fd(0x177)]===a3_0x51c2fd(0x16c),ADAPTER_DIR=path[a3_0x51c2fd(0x14d)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x51c2fd(0x14d)](ADAPTER_DIR,a3_0x51c2fd(0x156)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x51c2fd(0x14d)](VENV_PATH,'Scripts',a3_0x51c2fd(0x16b)):path[a3_0x51c2fd(0x14d)](VENV_PATH,a3_0x51c2fd(0x15f),'python'),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x51c2fd(0x163),a3_0x51c2fd(0x159)):path[a3_0x51c2fd(0x14d)](VENV_PATH,a3_0x51c2fd(0x15f),a3_0x51c2fd(0x171));function stopPythonService(_0x5da30e){const _0x100852=a3_0x51c2fd;if(_0x5da30e[_0x100852(0x150)]){try{_0x5da30e[_0x100852(0x150)][_0x100852(0x155)]();}catch(_0x3e95b3){}_0x5da30e[_0x100852(0x150)]=null;}}function installRequirementsInVenv(_0x254fdc,_0x512fde,_0x5bf30e){const _0x2b564e=a3_0x51c2fd;_0x254fdc[_0x2b564e(0x161)][_0x2b564e(0x176)](_0x2b564e(0x152));const _0x133820='\x22'+PIP_EXE+_0x2b564e(0x17a)+_0x512fde+'\x22';exec(_0x133820,{'timeout':0x1b7740},(_0x40dbba,_0xe4c558,_0x71c930)=>{const _0x230e95=_0x2b564e;_0x254fdc[_0x230e95(0x15b)]=![];if(_0x40dbba){_0x254fdc['log'][_0x230e95(0x157)](_0x230e95(0x160)+(_0x71c930||_0x40dbba[_0x230e95(0x158)]));try{fs[_0x230e95(0x172)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4ad13d){}}else _0x254fdc[_0x230e95(0x161)]['info'](_0x230e95(0x16a)),_0x5bf30e&&_0x5bf30e();});}function installPythonDependencies(_0x23299e,_0x35cd40){const _0x5bde38=a3_0x51c2fd;if(_0x23299e['dependencyInstallInProgress'])return;_0x23299e['dependencyInstallInProgress']=!![];const _0x2b144d=path[_0x5bde38(0x14d)](ADAPTER_DIR,_0x5bde38(0x15e),_0x5bde38(0x14a));stopPythonService(_0x23299e);if(fs[_0x5bde38(0x173)](VENV_PATH)&&!fs[_0x5bde38(0x173)](PIP_EXE)){_0x23299e[_0x5bde38(0x161)][_0x5bde38(0x17c)](_0x5bde38(0x153));try{fs[_0x5bde38(0x172)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x5a2668){_0x23299e['log']['error'](_0x5bde38(0x162)+_0x5a2668[_0x5bde38(0x158)]);}}if(!fs[_0x5bde38(0x173)](VENV_PATH))try{_0x23299e[_0x5bde38(0x161)][_0x5bde38(0x176)](_0x5bde38(0x168)),execSync(_0x5bde38(0x16e)+VENV_PATH+'\x22');}catch(_0x570ebb){_0x23299e[_0x5bde38(0x15b)]=![];_0x570ebb[_0x5bde38(0x158)][_0x5bde38(0x14b)]('EACCES')||_0x570ebb[_0x5bde38(0x158)][_0x5bde38(0x14b)]('Permission\x20denied')?(_0x23299e[_0x5bde38(0x161)][_0x5bde38(0x157)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x23299e['log'][_0x5bde38(0x157)](_0x5bde38(0x15a)+ADAPTER_DIR)):_0x23299e[_0x5bde38(0x161)][_0x5bde38(0x157)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x570ebb[_0x5bde38(0x158)]+_0x5bde38(0x14c));return;}installRequirementsInVenv(_0x23299e,_0x2b144d,_0x35cd40);}function a3_0x13f2(_0x969d09,_0x253448){const _0x2f897e=a3_0x1976();return a3_0x13f2=function(_0x517943,_0x409c06){_0x517943=_0x517943-0x14a;let _0x197616=_0x2f897e[_0x517943];return _0x197616;},a3_0x13f2(_0x969d09,_0x253448);}function checkAndInstall(_0x2fceff,_0x246c02){const _0x2155d5=a3_0x51c2fd;if(fs[_0x2155d5(0x173)](PYTHON_EXE)&&fs[_0x2155d5(0x173)](PIP_EXE))try{return _0x2fceff[_0x2155d5(0x161)][_0x2155d5(0x176)](_0x2155d5(0x179)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x2fceff[_0x2155d5(0x161)][_0x2155d5(0x176)](_0x2155d5(0x164)),_0x246c02&&_0x246c02(),!![];}catch(_0x2928fc){_0x2fceff[_0x2155d5(0x161)][_0x2155d5(0x17c)](_0x2155d5(0x17b));}else _0x2fceff[_0x2155d5(0x161)][_0x2155d5(0x17c)](_0x2155d5(0x154));return installPythonDependencies(_0x2fceff,_0x246c02),![];}module[a3_0x51c2fd(0x166)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};