const a3_0x596f50=a3_0x37bd;(function(_0xc652f5,_0x3a2c32){const _0x2ab487=a3_0x37bd,_0x3d2a7b=_0xc652f5();while(!![]){try{const _0x309495=-parseInt(_0x2ab487(0x18d))/0x1*(parseInt(_0x2ab487(0x187))/0x2)+parseInt(_0x2ab487(0x16c))/0x3*(parseInt(_0x2ab487(0x17d))/0x4)+parseInt(_0x2ab487(0x16a))/0x5+parseInt(_0x2ab487(0x193))/0x6+-parseInt(_0x2ab487(0x171))/0x7+parseInt(_0x2ab487(0x188))/0x8+parseInt(_0x2ab487(0x19c))/0x9;if(_0x309495===_0x3a2c32)break;else _0x3d2a7b['push'](_0x3d2a7b['shift']());}catch(_0x2ff2b3){_0x3d2a7b['push'](_0x3d2a7b['shift']());}}}(a3_0xb45a,0x86e15));const a3_0x2b1f91=(function(){let _0xd4494a=!![];return function(_0x435fc9,_0x4f05bb){const _0x4ea1c8=_0xd4494a?function(){const _0x4bccee=a3_0x37bd;if(_0x4f05bb){const _0x29b674=_0x4f05bb[_0x4bccee(0x18a)](_0x435fc9,arguments);return _0x4f05bb=null,_0x29b674;}}:function(){};return _0xd4494a=![],_0x4ea1c8;};}()),a3_0x5f2a60=a3_0x2b1f91(this,function(){const _0x14066d=a3_0x37bd;return a3_0x5f2a60[_0x14066d(0x178)]()['search']('(((.+)+)+)+$')[_0x14066d(0x178)]()[_0x14066d(0x16d)](a3_0x5f2a60)[_0x14066d(0x19e)](_0x14066d(0x18e));});function a3_0x37bd(_0xcb6412,_0x19f79e){const _0x1ea50a=a3_0xb45a();return a3_0x37bd=function(_0x5f2a60,_0x2b1f91){_0x5f2a60=_0x5f2a60-0x169;let _0xb45a8a=_0x1ea50a[_0x5f2a60];return _0xb45a8a;},a3_0x37bd(_0xcb6412,_0x19f79e);}function a3_0xb45a(){const _0x55893e=['(((.+)+)+)+$','python','â™»ï¸\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','Delete\x20failed:\x20','kill','15846QNHYlj','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','pythonProcess','path','existsSync','python3\x20-m\x20venv\x20\x22','win32','âš ï¸\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','join','1573065jMLHLf','Scripts','search','dependencyInstallInProgress','2543355vcVWRD','âŒ\x20VENV\x20CREATION\x20FAILED:\x20','41169qkNlbs','constructor','âœ…\x20Fast-Boot:\x20Environment\x20healthy.','message','pip.exe','2881277pzPjfi','\x22\x20install\x20-r\x20\x22','pip','ðŸ‘‰\x20LÃ–SUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','log','error','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','toString','info','rmSync','âš ï¸\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','Permission\x20denied','60ZMCVic','Creating\x20new\x20VENV...','python.exe','bin','exports','ðŸ\x20Checking\x20Python\x20environment...','includes','warn','.venv','âŒ\x20INSTALL\x20FAILED:\x20','4LdgvHn','917456dgJcwE','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','apply','requirements.txt','âœ…\x20INSTALL\x20SUCCESS.','21272pEyCGw'];a3_0xb45a=function(){return _0x55893e;};return a3_0xb45a();}a3_0x5f2a60();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x596f50(0x196)),fs=require('fs'),IS_WIN=process['platform']===a3_0x596f50(0x199),ADAPTER_DIR=path[a3_0x596f50(0x19b)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x596f50(0x19b)](ADAPTER_DIR,a3_0x596f50(0x185)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x596f50(0x19b)](VENV_PATH,a3_0x596f50(0x19d),a3_0x596f50(0x17f)):path[a3_0x596f50(0x19b)](VENV_PATH,'bin',a3_0x596f50(0x18f)),PIP_EXE=IS_WIN?path[a3_0x596f50(0x19b)](VENV_PATH,a3_0x596f50(0x19d),a3_0x596f50(0x170)):path[a3_0x596f50(0x19b)](VENV_PATH,a3_0x596f50(0x180),a3_0x596f50(0x173));function stopPythonService(_0x90bdec){const _0x1a3ba1=a3_0x596f50;if(_0x90bdec['pythonProcess']){try{_0x90bdec[_0x1a3ba1(0x195)][_0x1a3ba1(0x192)]();}catch(_0x141a06){}_0x90bdec[_0x1a3ba1(0x195)]=null;}}function installRequirementsInVenv(_0x121bed,_0x22d4ef,_0x392970){const _0x4e81a2=a3_0x596f50;_0x121bed[_0x4e81a2(0x175)][_0x4e81a2(0x179)](_0x4e81a2(0x177));const _0x372365='\x22'+PIP_EXE+_0x4e81a2(0x172)+_0x22d4ef+'\x22';exec(_0x372365,{'timeout':0x1b7740},(_0x217cb9,_0x2a6d24,_0x456b57)=>{const _0x3a5d3f=_0x4e81a2;_0x121bed[_0x3a5d3f(0x169)]=![];if(_0x217cb9){_0x121bed['log'][_0x3a5d3f(0x176)](_0x3a5d3f(0x186)+(_0x456b57||_0x217cb9[_0x3a5d3f(0x16f)]));try{fs[_0x3a5d3f(0x17a)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x322231){}}else _0x121bed[_0x3a5d3f(0x175)][_0x3a5d3f(0x179)](_0x3a5d3f(0x18c)),_0x392970&&_0x392970();});}function installPythonDependencies(_0x29c320,_0x55c56e){const _0x1b068b=a3_0x596f50;if(_0x29c320[_0x1b068b(0x169)])return;_0x29c320[_0x1b068b(0x169)]=!![];const _0x333423=path['join'](ADAPTER_DIR,'python_service',_0x1b068b(0x18b));stopPythonService(_0x29c320);if(fs[_0x1b068b(0x197)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x29c320[_0x1b068b(0x175)][_0x1b068b(0x184)](_0x1b068b(0x190));try{fs[_0x1b068b(0x17a)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4760b3){_0x29c320['log'][_0x1b068b(0x176)](_0x1b068b(0x191)+_0x4760b3[_0x1b068b(0x16f)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x29c320[_0x1b068b(0x175)][_0x1b068b(0x179)](_0x1b068b(0x17e)),execSync(_0x1b068b(0x198)+VENV_PATH+'\x22');}catch(_0x389c9f){_0x29c320[_0x1b068b(0x169)]=![];_0x389c9f[_0x1b068b(0x16f)][_0x1b068b(0x183)]('EACCES')||_0x389c9f['message'][_0x1b068b(0x183)](_0x1b068b(0x17c))?(_0x29c320[_0x1b068b(0x175)]['error']('ðŸ›‘\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x29c320[_0x1b068b(0x175)]['error'](_0x1b068b(0x174)+ADAPTER_DIR)):_0x29c320[_0x1b068b(0x175)]['error'](_0x1b068b(0x16b)+_0x389c9f[_0x1b068b(0x16f)]+_0x1b068b(0x189));return;}installRequirementsInVenv(_0x29c320,_0x333423,_0x55c56e);}function checkAndInstall(_0x5ae8bd,_0x3ab769){const _0x539c30=a3_0x596f50;if(fs[_0x539c30(0x197)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x5ae8bd['log'][_0x539c30(0x179)](_0x539c30(0x182)),execSync('\x22'+PYTHON_EXE+_0x539c30(0x194),{'timeout':0x3a98}),_0x5ae8bd[_0x539c30(0x175)][_0x539c30(0x179)](_0x539c30(0x16e)),_0x3ab769&&_0x3ab769(),!![];}catch(_0x49b540){_0x5ae8bd['log'][_0x539c30(0x184)](_0x539c30(0x19a));}else _0x5ae8bd[_0x539c30(0x175)][_0x539c30(0x184)](_0x539c30(0x17b));return installPythonDependencies(_0x5ae8bd,_0x3ab769),![];}module[a3_0x596f50(0x181)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};