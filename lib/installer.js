const a3_0x9ba74b=a3_0xb76a;(function(_0x1254ff,_0x482f56){const _0x1e18b8=a3_0xb76a,_0x25db37=_0x1254ff();while(!![]){try{const _0x4a9cb7=-parseInt(_0x1e18b8(0x1a3))/0x1+-parseInt(_0x1e18b8(0x1c7))/0x2*(-parseInt(_0x1e18b8(0x19c))/0x3)+-parseInt(_0x1e18b8(0x19d))/0x4+parseInt(_0x1e18b8(0x1af))/0x5+-parseInt(_0x1e18b8(0x1b2))/0x6+-parseInt(_0x1e18b8(0x1c2))/0x7*(-parseInt(_0x1e18b8(0x194))/0x8)+-parseInt(_0x1e18b8(0x1bb))/0x9*(-parseInt(_0x1e18b8(0x1ba))/0xa);if(_0x4a9cb7===_0x482f56)break;else _0x25db37['push'](_0x25db37['shift']());}catch(_0x2dadc5){_0x25db37['push'](_0x25db37['shift']());}}}(a3_0x1abf,0x809e8));const a3_0x29bcc7=(function(){let _0x3aca62=!![];return function(_0x5c3622,_0x3b309e){const _0x2a211f=_0x3aca62?function(){const _0x2d9979=a3_0xb76a;if(_0x3b309e){const _0x421e10=_0x3b309e[_0x2d9979(0x19b)](_0x5c3622,arguments);return _0x3b309e=null,_0x421e10;}}:function(){};return _0x3aca62=![],_0x2a211f;};}()),a3_0x40ff87=a3_0x29bcc7(this,function(){const _0x26efdf=a3_0xb76a;return a3_0x40ff87[_0x26efdf(0x1bc)]()[_0x26efdf(0x19a)](_0x26efdf(0x1b7))['toString']()[_0x26efdf(0x1ac)](a3_0x40ff87)['search'](_0x26efdf(0x1b7));});a3_0x40ff87();function a3_0xb76a(_0x4b32bd,_0x4ff7c0){const _0x2d6aab=a3_0x1abf();return a3_0xb76a=function(_0x40ff87,_0x29bcc7){_0x40ff87=_0x40ff87-0x193;let _0x1abf11=_0x2d6aab[_0x40ff87];return _0x1abf11;},a3_0xb76a(_0x4b32bd,_0x4ff7c0);}'use strict';const {exec,execSync}=require(a3_0x9ba74b(0x193)),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x9ba74b(0x1a2)]==='win32',ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x9ba74b(0x1cb)](ADAPTER_DIR,a3_0x9ba74b(0x1c9)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x9ba74b(0x1cb)](VENV_PATH,a3_0x9ba74b(0x1c6),a3_0x9ba74b(0x1ab)):path[a3_0x9ba74b(0x1cb)](VENV_PATH,a3_0x9ba74b(0x1c4),a3_0x9ba74b(0x196)),PIP_EXE=IS_WIN?path[a3_0x9ba74b(0x1cb)](VENV_PATH,a3_0x9ba74b(0x1c6),a3_0x9ba74b(0x1cc)):path['join'](VENV_PATH,a3_0x9ba74b(0x1c4),'pip');function stopPythonService(_0x4d6e25){const _0x10f4bd=a3_0x9ba74b;if(_0x4d6e25['pythonProcess']){try{_0x4d6e25[_0x10f4bd(0x1b3)]['kill']();}catch(_0x1ef7ef){}_0x4d6e25[_0x10f4bd(0x1b3)]=null;}}function installRequirementsInVenv(_0x3ddff9,_0x2543b4,_0x100b9c){const _0x149466=a3_0x9ba74b;_0x3ddff9[_0x149466(0x1ca)][_0x149466(0x1a8)](_0x149466(0x198));const _0x516a69='\x22'+PIP_EXE+_0x149466(0x1b9)+PIP_EXE+_0x149466(0x1b8)+PIP_EXE+_0x149466(0x195)+_0x2543b4+_0x149466(0x1b6)+PIP_EXE+'\x22\x20cache\x20purge';exec(_0x516a69,{'timeout':0x1b7740},(_0x3f3e8d,_0x22da1f,_0x418209)=>{const _0x37587e=_0x149466;_0x3ddff9['dependencyInstallInProgress']=![];if(_0x3f3e8d){_0x3ddff9['log']['error'](_0x37587e(0x1a9)+(_0x418209||_0x3f3e8d[_0x37587e(0x1bf)]));try{fs[_0x37587e(0x19e)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x34467b){}}else _0x3ddff9['log'][_0x37587e(0x1a8)](_0x37587e(0x1be)),_0x100b9c&&_0x100b9c();});}function installPythonDependencies(_0x63519b,_0x3047c1){const _0x517fc0=a3_0x9ba74b;if(_0x63519b['dependencyInstallInProgress'])return;_0x63519b[_0x517fc0(0x1aa)]=!![];const _0x1832ed=path[_0x517fc0(0x1cb)](ADAPTER_DIR,'python_service',_0x517fc0(0x1a6));stopPythonService(_0x63519b);if(fs[_0x517fc0(0x1ae)](VENV_PATH)&&!fs[_0x517fc0(0x1ae)](PIP_EXE)){_0x63519b[_0x517fc0(0x1ca)]['warn'](_0x517fc0(0x1a7));try{fs[_0x517fc0(0x19e)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x12bf8c){_0x63519b[_0x517fc0(0x1ca)][_0x517fc0(0x19f)](_0x517fc0(0x1c0)+_0x12bf8c[_0x517fc0(0x1bf)]);}}if(!fs[_0x517fc0(0x1ae)](VENV_PATH))try{_0x63519b['log']['info'](_0x517fc0(0x1c1)),execSync(_0x517fc0(0x1c3)+VENV_PATH+'\x22');}catch(_0x5c24d9){_0x63519b[_0x517fc0(0x1aa)]=![];_0x5c24d9['message'][_0x517fc0(0x1bd)](_0x517fc0(0x1a1))||_0x5c24d9[_0x517fc0(0x1bf)]['includes'](_0x517fc0(0x197))?(_0x63519b[_0x517fc0(0x1ca)][_0x517fc0(0x19f)](_0x517fc0(0x1b4)),_0x63519b[_0x517fc0(0x1ca)]['error'](_0x517fc0(0x1b1)+ADAPTER_DIR)):_0x63519b['log'][_0x517fc0(0x19f)](_0x517fc0(0x1ad)+_0x5c24d9[_0x517fc0(0x1bf)]+_0x517fc0(0x1c8));return;}installRequirementsInVenv(_0x63519b,_0x1832ed,_0x3047c1);}function checkAndInstall(_0x3931ef,_0x3f94de){const _0x47e60b=a3_0x9ba74b;if(fs[_0x47e60b(0x1ae)](PYTHON_EXE)&&fs[_0x47e60b(0x1ae)](PIP_EXE))try{return _0x3931ef[_0x47e60b(0x1ca)]['info'](_0x47e60b(0x1a5)),execSync('\x22'+PYTHON_EXE+_0x47e60b(0x1a0),{'timeout':0x3a98}),_0x3931ef[_0x47e60b(0x1ca)][_0x47e60b(0x1a8)](_0x47e60b(0x1c5)),_0x3f94de&&_0x3f94de(),!![];}catch(_0x4563cb){_0x3931ef[_0x47e60b(0x1ca)][_0x47e60b(0x1b5)](_0x47e60b(0x199));}else _0x3931ef[_0x47e60b(0x1ca)]['warn'](_0x47e60b(0x1b0));return installPythonDependencies(_0x3931ef,_0x3f94de),![];}function a3_0x1abf(){const _0x20d5d2=['859390zrZKtG','exports','üêç\x20Checking\x20Python\x20environment...','requirements.txt','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','info','‚ùå\x20INSTALL\x20FAILED:\x20','dependencyInstallInProgress','python.exe','constructor','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','existsSync','628630yddjnM','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','6059298QYlOWv','pythonProcess','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','warn','\x22\x20&&\x20\x22','(((.+)+)+)+$','\x22\x20install\x20cython\x20&&\x20\x22','\x22\x20install\x20--upgrade\x20pip\x20setuptools\x20wheel\x20&&\x20\x22','5482520Aktgkp','27SyTgYe','toString','includes','‚úÖ\x20INSTALL\x20SUCCESS\x20(Cache\x20cleaned).','message','Delete\x20failed:\x20','Creating\x20new\x20VENV...','56WzHIPs','python3\x20-m\x20venv\x20\x22','bin','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','Scripts','2TTweRw','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','.venv','log','join','pip.exe','child_process','516632LUPOXw','\x22\x20install\x20-r\x20\x22','python','Permission\x20denied','Installing\x20pip\x20packages...\x20(Auto-Fix\x20&\x20Cleanup\x20enabled)','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','search','apply','1472433itqhHM','1527312kFUTdP','rmSync','error','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','EACCES','platform'];a3_0x1abf=function(){return _0x20d5d2;};return a3_0x1abf();}module[a3_0x9ba74b(0x1a4)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};