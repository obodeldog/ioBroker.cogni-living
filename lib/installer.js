const a3_0x57e734=a3_0x3228;(function(_0x529552,_0x32f7d3){const _0x56fb8e=a3_0x3228,_0x1bf86f=_0x529552();while(!![]){try{const _0x34e7ab=parseInt(_0x56fb8e(0x1eb))/0x1+-parseInt(_0x56fb8e(0x1d1))/0x2+parseInt(_0x56fb8e(0x1cb))/0x3*(parseInt(_0x56fb8e(0x1d5))/0x4)+parseInt(_0x56fb8e(0x1d4))/0x5+parseInt(_0x56fb8e(0x1e2))/0x6*(parseInt(_0x56fb8e(0x1e6))/0x7)+-parseInt(_0x56fb8e(0x1d3))/0x8*(-parseInt(_0x56fb8e(0x1cc))/0x9)+-parseInt(_0x56fb8e(0x1f7))/0xa;if(_0x34e7ab===_0x32f7d3)break;else _0x1bf86f['push'](_0x1bf86f['shift']());}catch(_0x5d6dc9){_0x1bf86f['push'](_0x1bf86f['shift']());}}}(a3_0x2575,0xd20af));const a3_0x16feb9=(function(){let _0x55db8a=!![];return function(_0x502776,_0x59e07d){const _0xebb76f=_0x55db8a?function(){if(_0x59e07d){const _0x472571=_0x59e07d['apply'](_0x502776,arguments);return _0x59e07d=null,_0x472571;}}:function(){};return _0x55db8a=![],_0xebb76f;};}()),a3_0x22a743=a3_0x16feb9(this,function(){const _0x197426=a3_0x3228;return a3_0x22a743['toString']()[_0x197426(0x1f1)](_0x197426(0x1e3))['toString']()[_0x197426(0x1fa)](a3_0x22a743)['search']('(((.+)+)+)+$');});a3_0x22a743();'use strict';const {exec,execSync}=require(a3_0x57e734(0x1cd)),path=require(a3_0x57e734(0x1d6)),fs=require('fs'),IS_WIN=process[a3_0x57e734(0x1ed)]===a3_0x57e734(0x1ec),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x57e734(0x1f3)](ADAPTER_DIR,a3_0x57e734(0x1da)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x57e734(0x1f3)](VENV_PATH,a3_0x57e734(0x1ef),a3_0x57e734(0x1d0)):path[a3_0x57e734(0x1f3)](VENV_PATH,a3_0x57e734(0x1d9),'python'),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x57e734(0x1ef),'pip.exe'):path[a3_0x57e734(0x1f3)](VENV_PATH,a3_0x57e734(0x1d9),a3_0x57e734(0x1db));function stopPythonService(_0x1949bd){const _0x214850=a3_0x57e734;if(_0x1949bd[_0x214850(0x1e4)]){try{_0x1949bd[_0x214850(0x1e4)][_0x214850(0x1f5)]();}catch(_0x5aee35){}_0x1949bd[_0x214850(0x1e4)]=null;}}function a3_0x2575(){const _0x116447=['\x22\x20install\x20-r\x20\x22','6gxaric','(((.+)+)+)+$','pythonProcess','existsSync','11901365LptzMd','python_service','python3\x20-m\x20venv\x20\x22','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','rmSync','1420457lkZSot','win32','platform','info','Scripts','Permission\x20denied','search','requirements.txt','join','message','kill','dependencyInstallInProgress','37541020uMzwtD','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','üêç\x20Checking\x20Python\x20environment...','constructor','3dmzxYJ','303777vGGDsY','child_process','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','‚úÖ\x20INSTALL\x20SUCCESS.','python.exe','1458780YqxENT','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','56CqdwEy','5451235EZuNhF','3586628rpzlut','path','EACCES','log','bin','.venv','pip','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','error','‚ùå\x20INSTALL\x20FAILED:\x20','Delete\x20failed:\x20','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...'];a3_0x2575=function(){return _0x116447;};return a3_0x2575();}function a3_0x3228(_0x4fec56,_0x2c0d47){const _0x4f6507=a3_0x2575();return a3_0x3228=function(_0x22a743,_0x16feb9){_0x22a743=_0x22a743-0x1cb;let _0x257577=_0x4f6507[_0x22a743];return _0x257577;},a3_0x3228(_0x4fec56,_0x2c0d47);}function installRequirementsInVenv(_0x5072d9,_0x33c231,_0x59101d){const _0x45881f=a3_0x57e734;_0x5072d9['log'][_0x45881f(0x1ee)]('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0x5d956a='\x22'+PIP_EXE+_0x45881f(0x1e1)+_0x33c231+'\x22';exec(_0x5d956a,{'timeout':0x1b7740},(_0x3b007c,_0x5e92d5,_0x5bbe87)=>{const _0x89e564=_0x45881f;_0x5072d9[_0x89e564(0x1f6)]=![];if(_0x3b007c){_0x5072d9[_0x89e564(0x1d8)]['error'](_0x89e564(0x1de)+(_0x5bbe87||_0x3b007c[_0x89e564(0x1f4)]));try{fs[_0x89e564(0x1ea)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x24394e){}}else _0x5072d9['log'][_0x89e564(0x1ee)](_0x89e564(0x1cf)),_0x59101d&&_0x59101d();});}function installPythonDependencies(_0x3b830d,_0x202170){const _0x583873=a3_0x57e734;if(_0x3b830d[_0x583873(0x1f6)])return;_0x3b830d[_0x583873(0x1f6)]=!![];const _0x5d7654=path[_0x583873(0x1f3)](ADAPTER_DIR,_0x583873(0x1e7),_0x583873(0x1f2));stopPythonService(_0x3b830d);if(fs[_0x583873(0x1e5)](VENV_PATH)&&!fs[_0x583873(0x1e5)](PIP_EXE)){_0x3b830d[_0x583873(0x1d8)]['warn'](_0x583873(0x1ce));try{fs[_0x583873(0x1ea)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x55526e){_0x3b830d[_0x583873(0x1d8)][_0x583873(0x1dd)](_0x583873(0x1df)+_0x55526e[_0x583873(0x1f4)]);}}if(!fs[_0x583873(0x1e5)](VENV_PATH))try{_0x3b830d['log'][_0x583873(0x1ee)]('Creating\x20new\x20VENV...'),execSync(_0x583873(0x1e8)+VENV_PATH+'\x22');}catch(_0x9ee109){_0x3b830d[_0x583873(0x1f6)]=![];_0x9ee109[_0x583873(0x1f4)]['includes'](_0x583873(0x1d7))||_0x9ee109[_0x583873(0x1f4)]['includes'](_0x583873(0x1f0))?(_0x3b830d[_0x583873(0x1d8)][_0x583873(0x1dd)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x3b830d[_0x583873(0x1d8)][_0x583873(0x1dd)](_0x583873(0x1dc)+ADAPTER_DIR)):_0x3b830d[_0x583873(0x1d8)][_0x583873(0x1dd)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x9ee109[_0x583873(0x1f4)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x3b830d,_0x5d7654,_0x202170);}function checkAndInstall(_0x49f53b,_0x18af3c){const _0x1c264c=a3_0x57e734;if(fs[_0x1c264c(0x1e5)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x49f53b[_0x1c264c(0x1d8)][_0x1c264c(0x1ee)](_0x1c264c(0x1f9)),execSync('\x22'+PYTHON_EXE+_0x1c264c(0x1e9),{'timeout':0x3a98}),_0x49f53b[_0x1c264c(0x1d8)][_0x1c264c(0x1ee)](_0x1c264c(0x1f8)),_0x18af3c&&_0x18af3c(),!![];}catch(_0x25e666){_0x49f53b['log']['warn'](_0x1c264c(0x1e0));}else _0x49f53b['log']['warn'](_0x1c264c(0x1d2));return installPythonDependencies(_0x49f53b,_0x18af3c),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};