const a3_0x1d4eb4=a3_0x43b3;(function(_0x54e885,_0x47d9bc){const _0x339f3c=a3_0x43b3,_0x4742d1=_0x54e885();while(!![]){try{const _0x28fa50=-parseInt(_0x339f3c(0x183))/0x1*(parseInt(_0x339f3c(0x171))/0x2)+parseInt(_0x339f3c(0x170))/0x3+-parseInt(_0x339f3c(0x186))/0x4*(-parseInt(_0x339f3c(0x167))/0x5)+-parseInt(_0x339f3c(0x189))/0x6+parseInt(_0x339f3c(0x168))/0x7+parseInt(_0x339f3c(0x178))/0x8*(-parseInt(_0x339f3c(0x16e))/0x9)+parseInt(_0x339f3c(0x18c))/0xa;if(_0x28fa50===_0x47d9bc)break;else _0x4742d1['push'](_0x4742d1['shift']());}catch(_0x2302ba){_0x4742d1['push'](_0x4742d1['shift']());}}}(a3_0x32e0,0xd845c));const a3_0x23605e=(function(){let _0x441455=!![];return function(_0x5678c8,_0x3190f8){const _0x46f037=_0x441455?function(){const _0x10bac4=a3_0x43b3;if(_0x3190f8){const _0x1fa768=_0x3190f8[_0x10bac4(0x188)](_0x5678c8,arguments);return _0x3190f8=null,_0x1fa768;}}:function(){};return _0x441455=![],_0x46f037;};}()),a3_0x42fbe8=a3_0x23605e(this,function(){const _0x365d49=a3_0x43b3;return a3_0x42fbe8[_0x365d49(0x18e)]()[_0x365d49(0x166)]('(((.+)+)+)+$')[_0x365d49(0x18e)]()['constructor'](a3_0x42fbe8)['search']('(((.+)+)+)+$');});a3_0x42fbe8();'use strict';const {exec,execSync}=require(a3_0x1d4eb4(0x16c)),path=require(a3_0x1d4eb4(0x164)),fs=require('fs'),IS_WIN=process['platform']===a3_0x1d4eb4(0x17d),ADAPTER_DIR=path[a3_0x1d4eb4(0x16d)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x1d4eb4(0x16d)](ADAPTER_DIR,a3_0x1d4eb4(0x177)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x1d4eb4(0x16d)](VENV_PATH,a3_0x1d4eb4(0x17f),a3_0x1d4eb4(0x180)):path[a3_0x1d4eb4(0x16d)](VENV_PATH,'bin',a3_0x1d4eb4(0x17c)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,'Scripts',a3_0x1d4eb4(0x165)):path[a3_0x1d4eb4(0x16d)](VENV_PATH,'bin','pip');function a3_0x32e0(){const _0x5d1bf0=['kill','toString','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','‚ùå\x20INSTALL\x20FAILED:\x20','dependencyInstallInProgress','path','pip.exe','search','85VIAYfj','3704827yYZYbU','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','existsSync','rmSync','child_process','join','45aMefbe','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','4135545otYAZF','3152mpliOG','info','Creating\x20new\x20VENV...','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','pythonProcess','üêç\x20Checking\x20Python\x20environment...','.venv','1117608kJlgNt','message','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','log','python','win32','exports','Scripts','python.exe','Delete\x20failed:\x20','error','520Sjrzcd','EACCES','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','153048PucAoX','includes','apply','4411026fcYKnc','warn','Permission\x20denied','5808180PvrEKK'];a3_0x32e0=function(){return _0x5d1bf0;};return a3_0x32e0();}function stopPythonService(_0x3e8306){const _0x3b5ba3=a3_0x1d4eb4;if(_0x3e8306[_0x3b5ba3(0x175)]){try{_0x3e8306[_0x3b5ba3(0x175)][_0x3b5ba3(0x18d)]();}catch(_0x513b80){}_0x3e8306[_0x3b5ba3(0x175)]=null;}}function installRequirementsInVenv(_0x3bd5af,_0x4c387e,_0x544faf){const _0x2b1eae=a3_0x1d4eb4;_0x3bd5af[_0x2b1eae(0x17b)][_0x2b1eae(0x172)]('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0x170b9f='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x4c387e+'\x22';exec(_0x170b9f,{'timeout':0x1b7740},(_0x3217d8,_0x48e696,_0x3db24b)=>{const _0x85e58c=_0x2b1eae;_0x3bd5af[_0x85e58c(0x163)]=![];if(_0x3217d8){_0x3bd5af['log']['error'](_0x85e58c(0x162)+(_0x3db24b||_0x3217d8[_0x85e58c(0x179)]));try{fs[_0x85e58c(0x16b)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4b035f){}}else _0x3bd5af[_0x85e58c(0x17b)][_0x85e58c(0x172)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x544faf&&_0x544faf();});}function installPythonDependencies(_0xa780ce,_0x56f80b){const _0x3416a2=a3_0x1d4eb4;if(_0xa780ce[_0x3416a2(0x163)])return;_0xa780ce['dependencyInstallInProgress']=!![];const _0x1f2a34=path[_0x3416a2(0x16d)](ADAPTER_DIR,'python_service','requirements.txt');stopPythonService(_0xa780ce);if(fs['existsSync'](VENV_PATH)&&!fs[_0x3416a2(0x16a)](PIP_EXE)){_0xa780ce[_0x3416a2(0x17b)][_0x3416a2(0x18a)](_0x3416a2(0x174));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x5e10d1){_0xa780ce[_0x3416a2(0x17b)][_0x3416a2(0x182)](_0x3416a2(0x181)+_0x5e10d1[_0x3416a2(0x179)]);}}if(!fs[_0x3416a2(0x16a)](VENV_PATH))try{_0xa780ce['log'][_0x3416a2(0x172)](_0x3416a2(0x173)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x2ec677){_0xa780ce[_0x3416a2(0x163)]=![];_0x2ec677[_0x3416a2(0x179)][_0x3416a2(0x187)](_0x3416a2(0x184))||_0x2ec677['message'][_0x3416a2(0x187)](_0x3416a2(0x18b))?(_0xa780ce['log'][_0x3416a2(0x182)](_0x3416a2(0x185)),_0xa780ce[_0x3416a2(0x17b)][_0x3416a2(0x182)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0xa780ce[_0x3416a2(0x17b)][_0x3416a2(0x182)](_0x3416a2(0x169)+_0x2ec677[_0x3416a2(0x179)]+_0x3416a2(0x18f));return;}installRequirementsInVenv(_0xa780ce,_0x1f2a34,_0x56f80b);}function a3_0x43b3(_0x19815c,_0x364ffc){const _0x4d04f3=a3_0x32e0();return a3_0x43b3=function(_0x42fbe8,_0x23605e){_0x42fbe8=_0x42fbe8-0x162;let _0x32e082=_0x4d04f3[_0x42fbe8];return _0x32e082;},a3_0x43b3(_0x19815c,_0x364ffc);}function checkAndInstall(_0x2cfdd3,_0x1e54dc){const _0x329e2d=a3_0x1d4eb4;if(fs[_0x329e2d(0x16a)](PYTHON_EXE)&&fs[_0x329e2d(0x16a)](PIP_EXE))try{return _0x2cfdd3[_0x329e2d(0x17b)][_0x329e2d(0x172)](_0x329e2d(0x176)),execSync('\x22'+PYTHON_EXE+_0x329e2d(0x17a),{'timeout':0x3a98}),_0x2cfdd3[_0x329e2d(0x17b)][_0x329e2d(0x172)]('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x1e54dc&&_0x1e54dc(),!![];}catch(_0x46a2d4){_0x2cfdd3[_0x329e2d(0x17b)][_0x329e2d(0x18a)](_0x329e2d(0x16f));}else _0x2cfdd3[_0x329e2d(0x17b)][_0x329e2d(0x18a)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x2cfdd3,_0x1e54dc),![];}module[a3_0x1d4eb4(0x17e)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};