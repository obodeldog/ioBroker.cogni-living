const a3_0x3f0986=a3_0x10f0;(function(_0x5a5f96,_0xd32635){const _0x514d95=a3_0x10f0,_0x1163f8=_0x5a5f96();while(!![]){try{const _0x303107=parseInt(_0x514d95(0xe2))/0x1+parseInt(_0x514d95(0xf2))/0x2+-parseInt(_0x514d95(0xde))/0x3+-parseInt(_0x514d95(0xea))/0x4*(-parseInt(_0x514d95(0xed))/0x5)+parseInt(_0x514d95(0xc4))/0x6+parseInt(_0x514d95(0xdb))/0x7*(parseInt(_0x514d95(0xdc))/0x8)+parseInt(_0x514d95(0xd3))/0x9*(-parseInt(_0x514d95(0xe5))/0xa);if(_0x303107===_0xd32635)break;else _0x1163f8['push'](_0x1163f8['shift']());}catch(_0x2c9885){_0x1163f8['push'](_0x1163f8['shift']());}}}(a3_0x3549,0x96016));const a3_0x2cedae=(function(){let _0x2dfd35=!![];return function(_0x32bf1b,_0x22ce4b){const _0x155b99=_0x2dfd35?function(){const _0x2e574b=a3_0x10f0;if(_0x22ce4b){const _0x44a5e6=_0x22ce4b[_0x2e574b(0xec)](_0x32bf1b,arguments);return _0x22ce4b=null,_0x44a5e6;}}:function(){};return _0x2dfd35=![],_0x155b99;};}()),a3_0x2897ba=a3_0x2cedae(this,function(){const _0x48f66f=a3_0x10f0;return a3_0x2897ba[_0x48f66f(0xcf)]()[_0x48f66f(0xe8)]('(((.+)+)+)+$')['toString']()[_0x48f66f(0xf7)](a3_0x2897ba)['search']('(((.+)+)+)+$');});a3_0x2897ba();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x3f0986(0xef)),fs=require('fs'),IS_WIN=process[a3_0x3f0986(0xd7)]===a3_0x3f0986(0xd1),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x3f0986(0xc5)](ADAPTER_DIR,a3_0x3f0986(0xc8)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x3f0986(0xc5)](VENV_PATH,a3_0x3f0986(0xcd),a3_0x3f0986(0xee)):path[a3_0x3f0986(0xc5)](VENV_PATH,'bin',a3_0x3f0986(0xc6)),PIP_EXE=IS_WIN?path[a3_0x3f0986(0xc5)](VENV_PATH,a3_0x3f0986(0xcd),a3_0x3f0986(0xf4)):path[a3_0x3f0986(0xc5)](VENV_PATH,a3_0x3f0986(0xdf),a3_0x3f0986(0xcc));function stopPythonService(_0x341ddc){const _0x3c3bfc=a3_0x3f0986;if(_0x341ddc[_0x3c3bfc(0xd2)]){try{_0x341ddc[_0x3c3bfc(0xd2)][_0x3c3bfc(0xe1)]();}catch(_0x43cc22){}_0x341ddc[_0x3c3bfc(0xd2)]=null;}}function installRequirementsInVenv(_0x1de14a,_0xa21dfc,_0x427119){const _0x341c8e=a3_0x3f0986;_0x1de14a[_0x341c8e(0xeb)][_0x341c8e(0xf8)](_0x341c8e(0xd9));const _0x17fa13='\x22'+PIP_EXE+_0x341c8e(0xcb)+_0xa21dfc+'\x22';exec(_0x17fa13,{'timeout':0x1b7740},(_0x4790a9,_0x251b45,_0x1b4ecb)=>{const _0x18ffc5=_0x341c8e;_0x1de14a['dependencyInstallInProgress']=![];if(_0x4790a9){_0x1de14a[_0x18ffc5(0xeb)][_0x18ffc5(0xe3)](_0x18ffc5(0xf0)+(_0x1b4ecb||_0x4790a9[_0x18ffc5(0xe6)]));try{fs[_0x18ffc5(0xd6)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x16b982){}}else _0x1de14a[_0x18ffc5(0xeb)][_0x18ffc5(0xf8)](_0x18ffc5(0xf1)),_0x427119&&_0x427119();});}function installPythonDependencies(_0x3182df,_0x4eb4a3){const _0x3dd698=a3_0x3f0986;if(_0x3182df[_0x3dd698(0xce)])return;_0x3182df[_0x3dd698(0xce)]=!![];const _0x4fd241=path[_0x3dd698(0xc5)](ADAPTER_DIR,'python_service',_0x3dd698(0xf6));stopPythonService(_0x3182df);if(fs[_0x3dd698(0xc9)](VENV_PATH)&&!fs[_0x3dd698(0xc9)](PIP_EXE)){_0x3182df['log'][_0x3dd698(0xd8)](_0x3dd698(0xca));try{fs[_0x3dd698(0xd6)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x30d270){_0x3182df[_0x3dd698(0xeb)][_0x3dd698(0xe3)]('Delete\x20failed:\x20'+_0x30d270[_0x3dd698(0xe6)]);}}if(!fs[_0x3dd698(0xc9)](VENV_PATH))try{_0x3182df['log'][_0x3dd698(0xf8)](_0x3dd698(0xd5)),execSync(_0x3dd698(0xf5)+VENV_PATH+'\x22');}catch(_0x308aae){_0x3182df['dependencyInstallInProgress']=![];_0x308aae[_0x3dd698(0xe6)][_0x3dd698(0xd0)](_0x3dd698(0xe0))||_0x308aae[_0x3dd698(0xe6)][_0x3dd698(0xd0)](_0x3dd698(0xf3))?(_0x3182df['log'][_0x3dd698(0xe3)](_0x3dd698(0xc7)),_0x3182df[_0x3dd698(0xeb)]['error']('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x3182df[_0x3dd698(0xeb)]['error'](_0x3dd698(0xd4)+_0x308aae[_0x3dd698(0xe6)]+_0x3dd698(0xdd));return;}installRequirementsInVenv(_0x3182df,_0x4fd241,_0x4eb4a3);}function checkAndInstall(_0x2bcd00,_0x41d761){const _0x28dc29=a3_0x3f0986;if(fs[_0x28dc29(0xc9)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x2bcd00['log'][_0x28dc29(0xf8)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x2bcd00['log'][_0x28dc29(0xf8)](_0x28dc29(0xe7)),_0x41d761&&_0x41d761(),!![];}catch(_0x3deb03){_0x2bcd00[_0x28dc29(0xeb)][_0x28dc29(0xd8)](_0x28dc29(0xda));}else _0x2bcd00[_0x28dc29(0xeb)]['warn'](_0x28dc29(0xe9));return installPythonDependencies(_0x2bcd00,_0x41d761),![];}module[a3_0x3f0986(0xe4)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};function a3_0x10f0(_0x56ff5d,_0x4cb733){const _0x23eb2e=a3_0x3549();return a3_0x10f0=function(_0x2897ba,_0x2cedae){_0x2897ba=_0x2897ba-0xc4;let _0x354985=_0x23eb2e[_0x2897ba];return _0x354985;},a3_0x10f0(_0x56ff5d,_0x4cb733);}function a3_0x3549(){const _0x5a3de1=['log','apply','3572955PZwRFf','python.exe','path','‚ùå\x20INSTALL\x20FAILED:\x20','‚úÖ\x20INSTALL\x20SUCCESS.','1232500QLBrQs','Permission\x20denied','pip.exe','python3\x20-m\x20venv\x20\x22','requirements.txt','constructor','info','1671312frCmJH','join','python','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','.venv','existsSync','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','\x22\x20install\x20-r\x20\x22','pip','Scripts','dependencyInstallInProgress','toString','includes','win32','pythonProcess','36EGDQZA','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','Creating\x20new\x20VENV...','rmSync','platform','warn','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','28189bxhCRx','968fTpKCB','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','2022354cwESyC','bin','EACCES','kill','788064ozalyo','error','exports','3990460VsvxxZ','message','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','search','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','4LfeiRM'];a3_0x3549=function(){return _0x5a3de1;};return a3_0x3549();}