const a3_0x266a45=a3_0x113f;(function(_0x42ddf7,_0x29259c){const _0x42599f=a3_0x113f,_0x167c80=_0x42ddf7();while(!![]){try{const _0x2f3c3c=parseInt(_0x42599f(0xc0))/0x1*(-parseInt(_0x42599f(0x9d))/0x2)+parseInt(_0x42599f(0xaa))/0x3*(parseInt(_0x42599f(0x98))/0x4)+-parseInt(_0x42599f(0xa7))/0x5*(-parseInt(_0x42599f(0xb2))/0x6)+parseInt(_0x42599f(0xb5))/0x7*(-parseInt(_0x42599f(0xb6))/0x8)+parseInt(_0x42599f(0xab))/0x9*(parseInt(_0x42599f(0x9e))/0xa)+parseInt(_0x42599f(0xbe))/0xb*(parseInt(_0x42599f(0xb9))/0xc)+-parseInt(_0x42599f(0x96))/0xd*(parseInt(_0x42599f(0xbd))/0xe);if(_0x2f3c3c===_0x29259c)break;else _0x167c80['push'](_0x167c80['shift']());}catch(_0x133992){_0x167c80['push'](_0x167c80['shift']());}}}(a3_0xf7f8,0x78e4b));const a3_0x4905f7=(function(){let _0x70b7b4=!![];return function(_0x282b32,_0x29bee3){const _0x5d17fd=_0x70b7b4?function(){const _0x47c596=a3_0x113f;if(_0x29bee3){const _0x35bd14=_0x29bee3[_0x47c596(0xbb)](_0x282b32,arguments);return _0x29bee3=null,_0x35bd14;}}:function(){};return _0x70b7b4=![],_0x5d17fd;};}()),a3_0x5beb7e=a3_0x4905f7(this,function(){const _0x274801=a3_0x113f;return a3_0x5beb7e['toString']()[_0x274801(0xb0)](_0x274801(0x9c))[_0x274801(0xb7)]()[_0x274801(0xa0)](a3_0x5beb7e)[_0x274801(0xb0)](_0x274801(0x9c));});a3_0x5beb7e();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x266a45(0xac)),fs=require('fs'),IS_WIN=process[a3_0x266a45(0xa4)]===a3_0x266a45(0x94),ADAPTER_DIR=path[a3_0x266a45(0xb3)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,a3_0x266a45(0x8f)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x266a45(0xb3)](VENV_PATH,'Scripts',a3_0x266a45(0xa9)):path[a3_0x266a45(0xb3)](VENV_PATH,a3_0x266a45(0xa8),a3_0x266a45(0xbc)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x266a45(0xa3),a3_0x266a45(0xae)):path['join'](VENV_PATH,a3_0x266a45(0xa8),a3_0x266a45(0xb4));function stopPythonService(_0x31c66b){const _0x597ff6=a3_0x266a45;if(_0x31c66b[_0x597ff6(0xa5)]){try{_0x31c66b['pythonProcess'][_0x597ff6(0x9b)]();}catch(_0x6f2310){}_0x31c66b[_0x597ff6(0xa5)]=null;}}function a3_0x113f(_0x29c26a,_0x2681e6){const _0x274190=a3_0xf7f8();return a3_0x113f=function(_0x5beb7e,_0x4905f7){_0x5beb7e=_0x5beb7e-0x8e;let _0xf7f8f1=_0x274190[_0x5beb7e];return _0xf7f8f1;},a3_0x113f(_0x29c26a,_0x2681e6);}function installRequirementsInVenv(_0x25f032,_0x2fac04,_0x389cdc){const _0xaeb777=a3_0x266a45;_0x25f032[_0xaeb777(0x8e)][_0xaeb777(0xa6)](_0xaeb777(0x99));const _0x304877='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x2fac04+'\x22';exec(_0x304877,{'timeout':0x1b7740},(_0x3843dc,_0xe0262,_0x421c2f)=>{const _0x43481f=_0xaeb777;_0x25f032[_0x43481f(0x97)]=![];if(_0x3843dc){_0x25f032[_0x43481f(0x8e)][_0x43481f(0xb8)](_0x43481f(0xa1)+(_0x421c2f||_0x3843dc[_0x43481f(0x92)]));try{fs[_0x43481f(0xc1)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x317c27){}}else _0x25f032[_0x43481f(0x8e)][_0x43481f(0xa6)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x389cdc&&_0x389cdc();});}function installPythonDependencies(_0x5cd05b,_0xcefca){const _0xe94945=a3_0x266a45;if(_0x5cd05b[_0xe94945(0x97)])return;_0x5cd05b[_0xe94945(0x97)]=!![];const _0x3824dc=path[_0xe94945(0xb3)](ADAPTER_DIR,_0xe94945(0xb1),_0xe94945(0xa2));stopPythonService(_0x5cd05b);if(fs[_0xe94945(0x91)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x5cd05b[_0xe94945(0x8e)]['warn']('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x5d8b38){_0x5cd05b['log']['error'](_0xe94945(0xc2)+_0x5d8b38[_0xe94945(0x92)]);}}if(!fs[_0xe94945(0x91)](VENV_PATH))try{_0x5cd05b[_0xe94945(0x8e)][_0xe94945(0xa6)](_0xe94945(0xc3)),execSync(_0xe94945(0xad)+VENV_PATH+'\x22');}catch(_0x1a5aaf){_0x5cd05b[_0xe94945(0x97)]=![];_0x1a5aaf[_0xe94945(0x92)][_0xe94945(0x95)](_0xe94945(0x93))||_0x1a5aaf[_0xe94945(0x92)][_0xe94945(0x95)](_0xe94945(0x9a))?(_0x5cd05b[_0xe94945(0x8e)][_0xe94945(0xb8)](_0xe94945(0xba)),_0x5cd05b[_0xe94945(0x8e)][_0xe94945(0xb8)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x5cd05b['log'][_0xe94945(0xb8)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x1a5aaf['message']+_0xe94945(0xaf));return;}installRequirementsInVenv(_0x5cd05b,_0x3824dc,_0xcefca);}function checkAndInstall(_0x4f8748,_0x180d94){const _0x124140=a3_0x266a45;if(fs[_0x124140(0x91)](PYTHON_EXE)&&fs[_0x124140(0x91)](PIP_EXE))try{return _0x4f8748[_0x124140(0x8e)][_0x124140(0xa6)](_0x124140(0xc4)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x4f8748[_0x124140(0x8e)]['info']('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x180d94&&_0x180d94(),!![];}catch(_0x30c653){_0x4f8748[_0x124140(0x8e)][_0x124140(0xbf)](_0x124140(0x90));}else _0x4f8748[_0x124140(0x8e)]['warn'](_0x124140(0x9f));return installPythonDependencies(_0x4f8748,_0x180d94),![];}function a3_0xf7f8(){const _0x49f286=['existsSync','message','EACCES','win32','includes','10803quURAf','dependencyInstallInProgress','25548sGQnNF','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','Permission\x20denied','kill','(((.+)+)+)+$','2caRKZQ','925350PwebZZ','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','constructor','‚ùå\x20INSTALL\x20FAILED:\x20','requirements.txt','Scripts','platform','pythonProcess','info','85nsIqCX','bin','python.exe','54UIyXYr','45FgzPci','path','python3\x20-m\x20venv\x20\x22','pip.exe','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','search','python_service','235902sCfqhP','join','pip','42RIAmfU','526840CkjUUt','toString','error','2964828IuhpuL','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','apply','python','2240VFrefh','22LhvQaI','warn','716899hwfUua','rmSync','Delete\x20failed:\x20','Creating\x20new\x20VENV...','üêç\x20Checking\x20Python\x20environment...','log','.venv','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...'];a3_0xf7f8=function(){return _0x49f286;};return a3_0xf7f8();}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};