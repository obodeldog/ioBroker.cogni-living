const a3_0x323ead=a3_0x1345;(function(_0x1b97b2,_0x2622e2){const _0x3c55d0=a3_0x1345,_0x43924b=_0x1b97b2();while(!![]){try{const _0x17a32a=parseInt(_0x3c55d0(0x1f2))/0x1+parseInt(_0x3c55d0(0x1f5))/0x2+-parseInt(_0x3c55d0(0x1f9))/0x3*(-parseInt(_0x3c55d0(0x1de))/0x4)+-parseInt(_0x3c55d0(0x1f6))/0x5+-parseInt(_0x3c55d0(0x1db))/0x6+parseInt(_0x3c55d0(0x201))/0x7+parseInt(_0x3c55d0(0x1fb))/0x8*(-parseInt(_0x3c55d0(0x1dd))/0x9);if(_0x17a32a===_0x2622e2)break;else _0x43924b['push'](_0x43924b['shift']());}catch(_0x506f8b){_0x43924b['push'](_0x43924b['shift']());}}}(a3_0xe271,0x5cee0));const a3_0x27c9ec=(function(){let _0x5ecccd=!![];return function(_0xec9c66,_0x52fd34){const _0x1a802b=_0x5ecccd?function(){if(_0x52fd34){const _0x51e771=_0x52fd34['apply'](_0xec9c66,arguments);return _0x52fd34=null,_0x51e771;}}:function(){};return _0x5ecccd=![],_0x1a802b;};}()),a3_0x1b8bef=a3_0x27c9ec(this,function(){const _0x420aee=a3_0x1345;return a3_0x1b8bef['toString']()[_0x420aee(0x1e9)](_0x420aee(0x1d9))[_0x420aee(0x1dc)]()[_0x420aee(0x1da)](a3_0x1b8bef)['search'](_0x420aee(0x1d9));});a3_0x1b8bef();'use strict';function a3_0xe271(){const _0x259156=['join','platform','pip.exe','python3\x20-m\x20venv\x20\x22','existsSync','kill','log','search','dependencyInstallInProgress','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','info','path','Permission\x20denied','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','.venv','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','751748FAagPb','exports','Delete\x20failed:\x20','14206rrUImy','2449045XnfApp','warn','includes','3wjQacY','\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22','8eJmIwc','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','python','win32','pythonProcess','pip','4685730sykBeO','\x22\x20install\x20-r\x20\x22','python.exe','error','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','Creating\x20new\x20VENV...','(((.+)+)+)+$','constructor','3143688oByNDN','toString','3540717TosiFr','1438276gDTBme','message','Scripts','‚ùå\x20INSTALL\x20FAILED:\x20'];a3_0xe271=function(){return _0x259156;};return a3_0xe271();}const {exec,execSync}=require('child_process'),path=require(a3_0x323ead(0x1ed)),fs=require('fs'),IS_WIN=process[a3_0x323ead(0x1e3)]===a3_0x323ead(0x1fe),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x323ead(0x1e2)](ADAPTER_DIR,a3_0x323ead(0x1f0)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x323ead(0x1e0),a3_0x323ead(0x1d5)):path[a3_0x323ead(0x1e2)](VENV_PATH,'bin',a3_0x323ead(0x1fd)),PIP_EXE=IS_WIN?path[a3_0x323ead(0x1e2)](VENV_PATH,'Scripts',a3_0x323ead(0x1e4)):path['join'](VENV_PATH,'bin',a3_0x323ead(0x200));function stopPythonService(_0x5330ee){const _0x1526ee=a3_0x323ead;if(_0x5330ee[_0x1526ee(0x1ff)]){try{_0x5330ee[_0x1526ee(0x1ff)][_0x1526ee(0x1e7)]();}catch(_0x18d1c0){}_0x5330ee[_0x1526ee(0x1ff)]=null;}}function installRequirementsInVenv(_0xd32e51,_0x5a7e6f,_0x251a8c){const _0x351ac1=a3_0x323ead;_0xd32e51[_0x351ac1(0x1e8)][_0x351ac1(0x1ec)]('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0x59de14='\x22'+PIP_EXE+_0x351ac1(0x202)+_0x5a7e6f+'\x22';exec(_0x59de14,{'timeout':0x1b7740},(_0x529738,_0x1bfad2,_0x2d1df2)=>{const _0xe8b2c9=_0x351ac1;_0xd32e51[_0xe8b2c9(0x1ea)]=![];if(_0x529738){_0xd32e51['log'][_0xe8b2c9(0x1d6)](_0xe8b2c9(0x1e1)+(_0x2d1df2||_0x529738[_0xe8b2c9(0x1df)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x1e38b3){}}else _0xd32e51['log']['info']('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x251a8c&&_0x251a8c();});}function installPythonDependencies(_0x58e889,_0x89652c){const _0x28ee5c=a3_0x323ead;if(_0x58e889[_0x28ee5c(0x1ea)])return;_0x58e889['dependencyInstallInProgress']=!![];const _0x17fe5a=path['join'](ADAPTER_DIR,'python_service','requirements.txt');stopPythonService(_0x58e889);if(fs[_0x28ee5c(0x1e6)](VENV_PATH)&&!fs[_0x28ee5c(0x1e6)](PIP_EXE)){_0x58e889[_0x28ee5c(0x1e8)][_0x28ee5c(0x1f7)](_0x28ee5c(0x1fc));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4f3648){_0x58e889['log'][_0x28ee5c(0x1d6)](_0x28ee5c(0x1f4)+_0x4f3648[_0x28ee5c(0x1df)]);}}if(!fs[_0x28ee5c(0x1e6)](VENV_PATH))try{_0x58e889[_0x28ee5c(0x1e8)][_0x28ee5c(0x1ec)](_0x28ee5c(0x1d8)),execSync(_0x28ee5c(0x1e5)+VENV_PATH+'\x22');}catch(_0x28adf5){_0x58e889['dependencyInstallInProgress']=![];_0x28adf5['message'][_0x28ee5c(0x1f8)]('EACCES')||_0x28adf5['message'][_0x28ee5c(0x1f8)](_0x28ee5c(0x1ee))?(_0x58e889[_0x28ee5c(0x1e8)]['error'](_0x28ee5c(0x1ef)),_0x58e889[_0x28ee5c(0x1e8)][_0x28ee5c(0x1d6)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x58e889['log'][_0x28ee5c(0x1d6)](_0x28ee5c(0x1d7)+_0x28adf5[_0x28ee5c(0x1df)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x58e889,_0x17fe5a,_0x89652c);}function a3_0x1345(_0x165b11,_0x7d9862){const _0x4dc6f8=a3_0xe271();return a3_0x1345=function(_0x1b8bef,_0x27c9ec){_0x1b8bef=_0x1b8bef-0x1d5;let _0xe271c=_0x4dc6f8[_0x1b8bef];return _0xe271c;},a3_0x1345(_0x165b11,_0x7d9862);}function checkAndInstall(_0x1b8343,_0x4f966f){const _0x3bb1d9=a3_0x323ead;if(fs[_0x3bb1d9(0x1e6)](PYTHON_EXE)&&fs[_0x3bb1d9(0x1e6)](PIP_EXE))try{return _0x1b8343[_0x3bb1d9(0x1e8)]['info']('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+_0x3bb1d9(0x1fa),{'timeout':0x3a98}),_0x1b8343[_0x3bb1d9(0x1e8)][_0x3bb1d9(0x1ec)](_0x3bb1d9(0x1f1)),_0x4f966f&&_0x4f966f(),!![];}catch(_0xe94c0c){_0x1b8343[_0x3bb1d9(0x1e8)][_0x3bb1d9(0x1f7)](_0x3bb1d9(0x1eb));}else _0x1b8343['log'][_0x3bb1d9(0x1f7)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x1b8343,_0x4f966f),![];}module[a3_0x323ead(0x1f3)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};