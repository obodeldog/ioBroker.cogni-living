const a3_0x3b744e=a3_0x40ed;(function(_0x5ab398,_0x7acd14){const _0x5c1ea1=a3_0x40ed,_0x8dec16=_0x5ab398();while(!![]){try{const _0x192f94=-parseInt(_0x5c1ea1(0x20c))/0x1+-parseInt(_0x5c1ea1(0x1f3))/0x2+-parseInt(_0x5c1ea1(0x217))/0x3*(-parseInt(_0x5c1ea1(0x20b))/0x4)+-parseInt(_0x5c1ea1(0x1f1))/0x5*(-parseInt(_0x5c1ea1(0x216))/0x6)+-parseInt(_0x5c1ea1(0x20d))/0x7*(-parseInt(_0x5c1ea1(0x203))/0x8)+-parseInt(_0x5c1ea1(0x1fa))/0x9*(parseInt(_0x5c1ea1(0x215))/0xa)+parseInt(_0x5c1ea1(0x21a))/0xb*(-parseInt(_0x5c1ea1(0x219))/0xc);if(_0x192f94===_0x7acd14)break;else _0x8dec16['push'](_0x8dec16['shift']());}catch(_0x242e1c){_0x8dec16['push'](_0x8dec16['shift']());}}}(a3_0x36bc,0xb5127));const a3_0x481698=(function(){let _0x4e3609=!![];return function(_0x2448eb,_0xbbf048){const _0x7a47af=_0x4e3609?function(){const _0x52b1e4=a3_0x40ed;if(_0xbbf048){const _0x2fc469=_0xbbf048[_0x52b1e4(0x210)](_0x2448eb,arguments);return _0xbbf048=null,_0x2fc469;}}:function(){};return _0x4e3609=![],_0x7a47af;};}()),a3_0x5366bf=a3_0x481698(this,function(){const _0x4ece62=a3_0x40ed;return a3_0x5366bf[_0x4ece62(0x1f7)]()[_0x4ece62(0x208)]('(((.+)+)+)+$')['toString']()[_0x4ece62(0x1ff)](a3_0x5366bf)[_0x4ece62(0x208)](_0x4ece62(0x202));});a3_0x5366bf();'use strict';const {exec,execSync}=require(a3_0x3b744e(0x20a)),path=require(a3_0x3b744e(0x1f9)),fs=require('fs'),IS_WIN=process[a3_0x3b744e(0x214)]===a3_0x3b744e(0x209),ADAPTER_DIR=path[a3_0x3b744e(0x221)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x3b744e(0x221)](ADAPTER_DIR,a3_0x3b744e(0x20f)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x3b744e(0x221)](VENV_PATH,'Scripts',a3_0x3b744e(0x212)):path[a3_0x3b744e(0x221)](VENV_PATH,a3_0x3b744e(0x1f2),a3_0x3b744e(0x225)),PIP_EXE=IS_WIN?path[a3_0x3b744e(0x221)](VENV_PATH,a3_0x3b744e(0x1f6),a3_0x3b744e(0x200)):path['join'](VENV_PATH,a3_0x3b744e(0x1f2),a3_0x3b744e(0x218));function stopPythonService(_0x396740){const _0x40b180=a3_0x3b744e;if(_0x396740[_0x40b180(0x201)]){try{_0x396740[_0x40b180(0x201)][_0x40b180(0x1f8)]();}catch(_0x3566bf){}_0x396740[_0x40b180(0x201)]=null;}}function installRequirementsInVenv(_0x3de0f5,_0x579657,_0x35c7a4){const _0x304605=a3_0x3b744e;_0x3de0f5[_0x304605(0x21c)][_0x304605(0x1fc)](_0x304605(0x21f));const _0x1243ba='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x579657+'\x22';exec(_0x1243ba,{'timeout':0x1b7740},(_0x1e8337,_0x5a843f,_0x482678)=>{const _0x2d013e=_0x304605;_0x3de0f5[_0x2d013e(0x213)]=![];if(_0x1e8337){_0x3de0f5['log']['error'](_0x2d013e(0x226)+(_0x482678||_0x1e8337[_0x2d013e(0x204)]));try{fs[_0x2d013e(0x20e)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x136544){}}else _0x3de0f5[_0x2d013e(0x21c)][_0x2d013e(0x1fc)](_0x2d013e(0x21e)),_0x35c7a4&&_0x35c7a4();});}function installPythonDependencies(_0x70a175,_0x4876dd){const _0x28179b=a3_0x3b744e;if(_0x70a175[_0x28179b(0x213)])return;_0x70a175[_0x28179b(0x213)]=!![];const _0x19311d=path[_0x28179b(0x221)](ADAPTER_DIR,_0x28179b(0x227),_0x28179b(0x222));stopPythonService(_0x70a175);if(fs[_0x28179b(0x223)](VENV_PATH)&&!fs[_0x28179b(0x223)](PIP_EXE)){_0x70a175[_0x28179b(0x21c)][_0x28179b(0x21b)](_0x28179b(0x1f5));try{fs[_0x28179b(0x20e)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x1ee05a){_0x70a175[_0x28179b(0x21c)]['error']('Delete\x20failed:\x20'+_0x1ee05a[_0x28179b(0x204)]);}}if(!fs[_0x28179b(0x223)](VENV_PATH))try{_0x70a175['log'][_0x28179b(0x1fc)](_0x28179b(0x1fb)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x1d2673){_0x70a175['dependencyInstallInProgress']=![];_0x1d2673[_0x28179b(0x204)][_0x28179b(0x1fd)]('EACCES')||_0x1d2673[_0x28179b(0x204)][_0x28179b(0x1fd)](_0x28179b(0x211))?(_0x70a175[_0x28179b(0x21c)][_0x28179b(0x1f4)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x70a175[_0x28179b(0x21c)][_0x28179b(0x1f4)](_0x28179b(0x205)+ADAPTER_DIR)):_0x70a175[_0x28179b(0x21c)][_0x28179b(0x1f4)](_0x28179b(0x21d)+_0x1d2673[_0x28179b(0x204)]+_0x28179b(0x207));return;}installRequirementsInVenv(_0x70a175,_0x19311d,_0x4876dd);}function checkAndInstall(_0xf526b,_0x3beaeb){const _0x4579f9=a3_0x3b744e;if(fs[_0x4579f9(0x223)](PYTHON_EXE)&&fs[_0x4579f9(0x223)](PIP_EXE))try{return _0xf526b['log'][_0x4579f9(0x1fc)](_0x4579f9(0x224)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0xf526b['log'][_0x4579f9(0x1fc)](_0x4579f9(0x1fe)),_0x3beaeb&&_0x3beaeb(),!![];}catch(_0x492908){_0xf526b[_0x4579f9(0x21c)][_0x4579f9(0x21b)](_0x4579f9(0x206));}else _0xf526b['log'][_0x4579f9(0x21b)](_0x4579f9(0x220));return installPythonDependencies(_0xf526b,_0x3beaeb),![];}function a3_0x40ed(_0x131518,_0x3896f5){const _0x2d6f1b=a3_0x36bc();return a3_0x40ed=function(_0x5366bf,_0x481698){_0x5366bf=_0x5366bf-0x1f1;let _0x36bcf0=_0x2d6f1b[_0x5366bf];return _0x36bcf0;},a3_0x40ed(_0x131518,_0x3896f5);}function a3_0x36bc(){const _0x51627a=['4YMkpSo','26309Yazroz','21RhMAiS','rmSync','.venv','apply','Permission\x20denied','python.exe','dependencyInstallInProgress','platform','7780FgGFYs','6OaajvF','602007jCxqKb','pip','7864980tbuqAS','11BISYbm','warn','log','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','‚úÖ\x20INSTALL\x20SUCCESS.','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','join','requirements.txt','existsSync','üêç\x20Checking\x20Python\x20environment...','python','‚ùå\x20INSTALL\x20FAILED:\x20','python_service','1182230blzpBp','bin','651598zZQgKz','error','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','Scripts','toString','kill','path','36tOwuTG','Creating\x20new\x20VENV...','info','includes','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','constructor','pip.exe','pythonProcess','(((.+)+)+)+$','3507176STdGrs','message','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','search','win32','child_process'];a3_0x36bc=function(){return _0x51627a;};return a3_0x36bc();}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};