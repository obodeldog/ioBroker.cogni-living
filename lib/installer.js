const a3_0x7a9667=a3_0x3465;(function(_0x26f305,_0x3e465f){const _0x112fc7=a3_0x3465,_0x1e5a55=_0x26f305();while(!![]){try{const _0x3ad831=parseInt(_0x112fc7(0x93))/0x1*(-parseInt(_0x112fc7(0x95))/0x2)+-parseInt(_0x112fc7(0xa9))/0x3*(parseInt(_0x112fc7(0x91))/0x4)+-parseInt(_0x112fc7(0x9d))/0x5+parseInt(_0x112fc7(0x98))/0x6+-parseInt(_0x112fc7(0xa7))/0x7+-parseInt(_0x112fc7(0xa6))/0x8+parseInt(_0x112fc7(0x8b))/0x9;if(_0x3ad831===_0x3e465f)break;else _0x1e5a55['push'](_0x1e5a55['shift']());}catch(_0x5a47cc){_0x1e5a55['push'](_0x1e5a55['shift']());}}}(a3_0x3ea9,0xadbe1));const a3_0x3b013f=(function(){let _0x2db4d9=!![];return function(_0x3d6afc,_0x346f9f){const _0xc1f4ca=_0x2db4d9?function(){const _0x2c526c=a3_0x3465;if(_0x346f9f){const _0x53ec6e=_0x346f9f[_0x2c526c(0x96)](_0x3d6afc,arguments);return _0x346f9f=null,_0x53ec6e;}}:function(){};return _0x2db4d9=![],_0xc1f4ca;};}()),a3_0x538c94=a3_0x3b013f(this,function(){const _0x653949=a3_0x3465;return a3_0x538c94[_0x653949(0xa3)]()[_0x653949(0x9b)](_0x653949(0xa0))[_0x653949(0xa3)]()[_0x653949(0x8e)](a3_0x538c94)[_0x653949(0x9b)]('(((.+)+)+)+$');});a3_0x538c94();'use strict';const {exec,execSync}=require(a3_0x7a9667(0x86)),path=require(a3_0x7a9667(0x84)),fs=require('fs'),IS_WIN=process['platform']===a3_0x7a9667(0xae),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x7a9667(0x8d)](ADAPTER_DIR,a3_0x7a9667(0x89)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x7a9667(0x8d)](VENV_PATH,a3_0x7a9667(0x9c),a3_0x7a9667(0xa5)):path['join'](VENV_PATH,a3_0x7a9667(0x9e),'python'),PIP_EXE=IS_WIN?path[a3_0x7a9667(0x8d)](VENV_PATH,'Scripts',a3_0x7a9667(0xaf)):path['join'](VENV_PATH,'bin',a3_0x7a9667(0xab));function stopPythonService(_0x5b83f2){const _0x45c485=a3_0x7a9667;if(_0x5b83f2[_0x45c485(0x92)]){try{_0x5b83f2[_0x45c485(0x92)][_0x45c485(0x88)]();}catch(_0x579bf4){}_0x5b83f2[_0x45c485(0x92)]=null;}}function installRequirementsInVenv(_0x16ea46,_0xdd2e5b,_0x3c0de0){const _0x1acbd0=a3_0x7a9667;_0x16ea46[_0x1acbd0(0xac)][_0x1acbd0(0x81)](_0x1acbd0(0x99));const _0x379aad='\x22'+PIP_EXE+_0x1acbd0(0x82)+_0xdd2e5b+'\x22';exec(_0x379aad,{'timeout':0x1b7740},(_0x16c3f0,_0x1f56eb,_0x9f4a7)=>{const _0x342b34=_0x1acbd0;_0x16ea46[_0x342b34(0xa4)]=![];if(_0x16c3f0){_0x16ea46[_0x342b34(0xac)]['error']('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x9f4a7||_0x16c3f0[_0x342b34(0x9f)]));try{fs[_0x342b34(0xa8)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x17f667){}}else _0x16ea46[_0x342b34(0xac)][_0x342b34(0x81)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x3c0de0&&_0x3c0de0();});}function a3_0x3465(_0x14a760,_0xb4eed5){const _0x28d827=a3_0x3ea9();return a3_0x3465=function(_0x538c94,_0x3b013f){_0x538c94=_0x538c94-0x81;let _0x3ea958=_0x28d827[_0x538c94];return _0x3ea958;},a3_0x3465(_0x14a760,_0xb4eed5);}function installPythonDependencies(_0x1687b2,_0x48d95c){const _0x521948=a3_0x7a9667;if(_0x1687b2[_0x521948(0xa4)])return;_0x1687b2[_0x521948(0xa4)]=!![];const _0xbff197=path[_0x521948(0x8d)](ADAPTER_DIR,'python_service',_0x521948(0x8a));stopPythonService(_0x1687b2);if(fs[_0x521948(0xa1)](VENV_PATH)&&!fs[_0x521948(0xa1)](PIP_EXE)){_0x1687b2['log'][_0x521948(0x8c)](_0x521948(0x83));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x3294ac){_0x1687b2[_0x521948(0xac)]['error']('Delete\x20failed:\x20'+_0x3294ac[_0x521948(0x9f)]);}}if(!fs[_0x521948(0xa1)](VENV_PATH))try{_0x1687b2['log'][_0x521948(0x81)](_0x521948(0x97)),execSync(_0x521948(0x90)+VENV_PATH+'\x22');}catch(_0x2df1de){_0x1687b2[_0x521948(0xa4)]=![];_0x2df1de['message']['includes'](_0x521948(0x87))||_0x2df1de[_0x521948(0x9f)][_0x521948(0xaa)]('Permission\x20denied')?(_0x1687b2['log'][_0x521948(0x94)](_0x521948(0x8f)),_0x1687b2[_0x521948(0xac)][_0x521948(0x94)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x1687b2['log'][_0x521948(0x94)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x2df1de[_0x521948(0x9f)]+_0x521948(0x9a));return;}installRequirementsInVenv(_0x1687b2,_0xbff197,_0x48d95c);}function a3_0x3ea9(){const _0xa02164=['info','\x22\x20install\x20-r\x20\x22','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','path','exports','child_process','EACCES','kill','.venv','requirements.txt','39247344CcCluV','warn','join','constructor','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','python3\x20-m\x20venv\x20\x22','736QiuPBj','pythonProcess','30089triUgv','error','74wbiuxo','apply','Creating\x20new\x20VENV...','2737788POootx','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','search','Scripts','2078185oNiqtj','bin','message','(((.+)+)+)+$','existsSync','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','toString','dependencyInstallInProgress','python.exe','2021848ZvxZDj','7239036vSAnMQ','rmSync','21027TiiicF','includes','pip','log','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','win32','pip.exe'];a3_0x3ea9=function(){return _0xa02164;};return a3_0x3ea9();}function checkAndInstall(_0x510855,_0x52b8bb){const _0x4df542=a3_0x7a9667;if(fs[_0x4df542(0xa1)](PYTHON_EXE)&&fs[_0x4df542(0xa1)](PIP_EXE))try{return _0x510855[_0x4df542(0xac)][_0x4df542(0x81)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+_0x4df542(0xad),{'timeout':0x3a98}),_0x510855[_0x4df542(0xac)][_0x4df542(0x81)]('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x52b8bb&&_0x52b8bb(),!![];}catch(_0x3004d9){_0x510855[_0x4df542(0xac)][_0x4df542(0x8c)](_0x4df542(0xa2));}else _0x510855[_0x4df542(0xac)]['warn']('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x510855,_0x52b8bb),![];}module[a3_0x7a9667(0x85)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};