const a2_0xbc0d92=a2_0x2d52;(function(_0x29fdb4,_0x2d83d7){const _0x4d606c=a2_0x2d52,_0x3145c3=_0x29fdb4();while(!![]){try{const _0xd430cb=-parseInt(_0x4d606c(0xef))/0x1+parseInt(_0x4d606c(0xf5))/0x2*(-parseInt(_0x4d606c(0xea))/0x3)+-parseInt(_0x4d606c(0xfb))/0x4+-parseInt(_0x4d606c(0xed))/0x5*(-parseInt(_0x4d606c(0x10f))/0x6)+-parseInt(_0x4d606c(0x105))/0x7*(-parseInt(_0x4d606c(0xf4))/0x8)+parseInt(_0x4d606c(0xf7))/0x9+-parseInt(_0x4d606c(0xee))/0xa*(-parseInt(_0x4d606c(0xec))/0xb);if(_0xd430cb===_0x2d83d7)break;else _0x3145c3['push'](_0x3145c3['shift']());}catch(_0x3726eb){_0x3145c3['push'](_0x3145c3['shift']());}}}(a2_0x4413,0xd7316));const a2_0x36f2bc=(function(){let _0x1e7c53=!![];return function(_0x599f83,_0x4be127){const _0xe93e79=_0x1e7c53?function(){const _0x2e8eba=a2_0x2d52;if(_0x4be127){const _0x5e1bc5=_0x4be127[_0x2e8eba(0x10e)](_0x599f83,arguments);return _0x4be127=null,_0x5e1bc5;}}:function(){};return _0x1e7c53=![],_0xe93e79;};}()),a2_0x1cc8ad=a2_0x36f2bc(this,function(){const _0x37de67=a2_0x2d52;return a2_0x1cc8ad['toString']()[_0x37de67(0x103)](_0x37de67(0xe7))['toString']()[_0x37de67(0xf2)](a2_0x1cc8ad)[_0x37de67(0x103)](_0x37de67(0xe7));});a2_0x1cc8ad();'use strict';const {exec,execSync}=require(a2_0xbc0d92(0x10d)),path=require(a2_0xbc0d92(0x100)),fs=require('fs'),IS_WIN=process['platform']===a2_0xbc0d92(0x10a),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a2_0xbc0d92(0x10c)](ADAPTER_DIR,a2_0xbc0d92(0xff)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a2_0xbc0d92(0x10c)](VENV_PATH,a2_0xbc0d92(0xf0),'python.exe'):path['join'](VENV_PATH,a2_0xbc0d92(0xe1),a2_0xbc0d92(0x104)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a2_0xbc0d92(0xf0),a2_0xbc0d92(0xf3)):path[a2_0xbc0d92(0x10c)](VENV_PATH,a2_0xbc0d92(0xe1),'pip');function a2_0x4413(){const _0x2755ef=['dependencyInstallInProgress','requirements.txt','python3\x20-m\x20venv\x20\x22','exports','(((.+)+)+)+$','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','pythonProcess','6AHbTmy','\x22\x20install\x20-r\x20\x22','253DndLCu','20fijqqv','897860QAkiYc','778406RidjLZ','Scripts','rmSync','constructor','pip.exe','210872kBCjaY','810562wOpDgv','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','3506310LwBGKd','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','Creating\x20new\x20VENV...','warn','4760160EEYSUs','Delete\x20failed:\x20','EACCES','log','.venv','path','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','‚ùå\x20INSTALL\x20FAILED:\x20','search','python','14JilsBI','existsSync','kill','message','error','win32','includes','join','child_process','apply','1729578rVnpgk','info','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','bin','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'];a2_0x4413=function(){return _0x2755ef;};return a2_0x4413();}function stopPythonService(_0x2ffaf2){const _0x281da5=a2_0xbc0d92;if(_0x2ffaf2[_0x281da5(0xe9)]){try{_0x2ffaf2[_0x281da5(0xe9)][_0x281da5(0x107)]();}catch(_0x46882e){}_0x2ffaf2['pythonProcess']=null;}}function a2_0x2d52(_0x16a59f,_0x204ffe){const _0x34c644=a2_0x4413();return a2_0x2d52=function(_0x1cc8ad,_0x36f2bc){_0x1cc8ad=_0x1cc8ad-0xe1;let _0x441385=_0x34c644[_0x1cc8ad];return _0x441385;},a2_0x2d52(_0x16a59f,_0x204ffe);}function installRequirementsInVenv(_0x5e3c58,_0x13dd63,_0x94ebe4){const _0x2d0d70=a2_0xbc0d92;_0x5e3c58[_0x2d0d70(0xfe)][_0x2d0d70(0x110)](_0x2d0d70(0x101));const _0x5dfade='\x22'+PIP_EXE+_0x2d0d70(0xeb)+_0x13dd63+'\x22';exec(_0x5dfade,{'timeout':0x1b7740},(_0x488046,_0xc2cae3,_0x4041d8)=>{const _0x316ffe=_0x2d0d70;_0x5e3c58['dependencyInstallInProgress']=![];if(_0x488046){_0x5e3c58['log'][_0x316ffe(0x109)](_0x316ffe(0x102)+(_0x4041d8||_0x488046[_0x316ffe(0x108)]));try{fs[_0x316ffe(0xf1)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x304de6){}}else _0x5e3c58['log'][_0x316ffe(0x110)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x94ebe4&&_0x94ebe4();});}function installPythonDependencies(_0x4df4b2,_0x536f26){const _0x521aee=a2_0xbc0d92;if(_0x4df4b2[_0x521aee(0xe3)])return;_0x4df4b2['dependencyInstallInProgress']=!![];const _0x52b93e=path['join'](ADAPTER_DIR,'python_service',_0x521aee(0xe4));stopPythonService(_0x4df4b2);if(fs[_0x521aee(0x106)](VENV_PATH)&&!fs[_0x521aee(0x106)](PIP_EXE)){_0x4df4b2[_0x521aee(0xfe)][_0x521aee(0xfa)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x521aee(0xf1)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x28e2c3){_0x4df4b2['log'][_0x521aee(0x109)](_0x521aee(0xfc)+_0x28e2c3[_0x521aee(0x108)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x4df4b2['log'][_0x521aee(0x110)](_0x521aee(0xf9)),execSync(_0x521aee(0xe5)+VENV_PATH+'\x22');}catch(_0x540fa9){_0x4df4b2[_0x521aee(0xe3)]=![];_0x540fa9[_0x521aee(0x108)][_0x521aee(0x10b)](_0x521aee(0xfd))||_0x540fa9['message']['includes']('Permission\x20denied')?(_0x4df4b2['log']['error'](_0x521aee(0xf6)),_0x4df4b2[_0x521aee(0xfe)][_0x521aee(0x109)](_0x521aee(0xe2)+ADAPTER_DIR)):_0x4df4b2[_0x521aee(0xfe)][_0x521aee(0x109)](_0x521aee(0xf8)+_0x540fa9[_0x521aee(0x108)]+_0x521aee(0xe8));return;}installRequirementsInVenv(_0x4df4b2,_0x52b93e,_0x536f26);}function checkAndInstall(_0x26cd7e,_0x16b08a){const _0x136c1a=a2_0xbc0d92;if(fs[_0x136c1a(0x106)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x26cd7e[_0x136c1a(0xfe)][_0x136c1a(0x110)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x26cd7e['log'][_0x136c1a(0x110)]('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x16b08a&&_0x16b08a(),!![];}catch(_0x2a678e){_0x26cd7e[_0x136c1a(0xfe)][_0x136c1a(0xfa)](_0x136c1a(0x111));}else _0x26cd7e['log'][_0x136c1a(0xfa)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x26cd7e,_0x16b08a),![];}module[a2_0xbc0d92(0xe6)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};