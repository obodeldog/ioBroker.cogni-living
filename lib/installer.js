const a3_0xe897f1=a3_0xc274;(function(_0x1697c4,_0x3c28df){const _0x1e36c9=a3_0xc274,_0x4b98c1=_0x1697c4();while(!![]){try{const _0x2f0296=parseInt(_0x1e36c9(0x11d))/0x1*(parseInt(_0x1e36c9(0x10a))/0x2)+-parseInt(_0x1e36c9(0x105))/0x3+-parseInt(_0x1e36c9(0x107))/0x4+-parseInt(_0x1e36c9(0x11a))/0x5*(parseInt(_0x1e36c9(0x114))/0x6)+parseInt(_0x1e36c9(0x11b))/0x7*(-parseInt(_0x1e36c9(0xf5))/0x8)+parseInt(_0x1e36c9(0x113))/0x9*(parseInt(_0x1e36c9(0x10e))/0xa)+parseInt(_0x1e36c9(0x117))/0xb;if(_0x2f0296===_0x3c28df)break;else _0x4b98c1['push'](_0x4b98c1['shift']());}catch(_0x299fe5){_0x4b98c1['push'](_0x4b98c1['shift']());}}}(a3_0x42e6,0x20dfc));const a3_0x3682c3=(function(){let _0x49c0b5=!![];return function(_0x2cbbe2,_0x40a647){const _0x352b82=_0x49c0b5?function(){const _0x1b6711=a3_0xc274;if(_0x40a647){const _0x3c6aab=_0x40a647[_0x1b6711(0x11f)](_0x2cbbe2,arguments);return _0x40a647=null,_0x3c6aab;}}:function(){};return _0x49c0b5=![],_0x352b82;};}()),a3_0x31c5bc=a3_0x3682c3(this,function(){const _0x1a8386=a3_0xc274;return a3_0x31c5bc[_0x1a8386(0xfa)]()['search'](_0x1a8386(0xfb))[_0x1a8386(0xfa)]()['constructor'](a3_0x31c5bc)[_0x1a8386(0x115)]('(((.+)+)+)+$');});a3_0x31c5bc();'use strict';function a3_0x42e6(){const _0x50be43=['‚ùå\x20INSTALL\x20FAILED:\x20','913833QkJlMG','102qtFqOg','search','Delete\x20failed:\x20','3644509hQFtbV','message','python3\x20-m\x20venv\x20\x22','5095mYqZkq','932897Vytrqm','bin','1FaDbhr','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','apply','Scripts','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','join','error','kill','Creating\x20new\x20VENV...','python_service','python','16VeTLKs','child_process','path','.venv','dependencyInstallInProgress','toString','(((.+)+)+)+$','python.exe','info','üêç\x20Checking\x20Python\x20environment...','rmSync','requirements.txt','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','log','pip.exe','377376QXxGrH','warn','283788AlLPMm','Permission\x20denied','existsSync','161726lkdsAE','EACCES','pythonProcess','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','20skDmMu','exports','pip','platform'];a3_0x42e6=function(){return _0x50be43;};return a3_0x42e6();}const {exec,execSync}=require(a3_0xe897f1(0xf6)),path=require(a3_0xe897f1(0xf7)),fs=require('fs'),IS_WIN=process[a3_0xe897f1(0x111)]==='win32',ADAPTER_DIR=path[a3_0xe897f1(0x123)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,a3_0xe897f1(0xf8)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,a3_0xe897f1(0x120),a3_0xe897f1(0xfc)):path[a3_0xe897f1(0x123)](VENV_PATH,a3_0xe897f1(0x11c),a3_0xe897f1(0xf4)),PIP_EXE=IS_WIN?path[a3_0xe897f1(0x123)](VENV_PATH,'Scripts',a3_0xe897f1(0x104)):path['join'](VENV_PATH,'bin',a3_0xe897f1(0x110));function a3_0xc274(_0x50be0d,_0x4b36c7){const _0xeb1034=a3_0x42e6();return a3_0xc274=function(_0x31c5bc,_0x3682c3){_0x31c5bc=_0x31c5bc-0xf2;let _0x42e6f7=_0xeb1034[_0x31c5bc];return _0x42e6f7;},a3_0xc274(_0x50be0d,_0x4b36c7);}function stopPythonService(_0x5ce970){const _0x15a336=a3_0xe897f1;if(_0x5ce970['pythonProcess']){try{_0x5ce970[_0x15a336(0x10c)][_0x15a336(0x125)]();}catch(_0x41c7c2){}_0x5ce970[_0x15a336(0x10c)]=null;}}function installRequirementsInVenv(_0x486b48,_0x16c8a1,_0x4014e1){const _0x4653aa=a3_0xe897f1;_0x486b48[_0x4653aa(0x103)]['info'](_0x4653aa(0x121));const _0x3dd553='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x16c8a1+'\x22';exec(_0x3dd553,{'timeout':0x1b7740},(_0x1b2d2e,_0x223642,_0x175f86)=>{const _0x4fe4b4=_0x4653aa;_0x486b48[_0x4fe4b4(0xf9)]=![];if(_0x1b2d2e){_0x486b48[_0x4fe4b4(0x103)]['error'](_0x4fe4b4(0x112)+(_0x175f86||_0x1b2d2e[_0x4fe4b4(0x118)]));try{fs[_0x4fe4b4(0xff)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x34b9ee){}}else _0x486b48[_0x4fe4b4(0x103)][_0x4fe4b4(0xfd)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x4014e1&&_0x4014e1();});}function installPythonDependencies(_0x27a04b,_0x2812ec){const _0x5f38b7=a3_0xe897f1;if(_0x27a04b['dependencyInstallInProgress'])return;_0x27a04b[_0x5f38b7(0xf9)]=!![];const _0x3da025=path['join'](ADAPTER_DIR,_0x5f38b7(0xf3),_0x5f38b7(0x100));stopPythonService(_0x27a04b);if(fs[_0x5f38b7(0x109)](VENV_PATH)&&!fs[_0x5f38b7(0x109)](PIP_EXE)){_0x27a04b[_0x5f38b7(0x103)]['warn']('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x5f38b7(0xff)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x54bdda){_0x27a04b[_0x5f38b7(0x103)]['error'](_0x5f38b7(0x116)+_0x54bdda[_0x5f38b7(0x118)]);}}if(!fs[_0x5f38b7(0x109)](VENV_PATH))try{_0x27a04b[_0x5f38b7(0x103)][_0x5f38b7(0xfd)](_0x5f38b7(0xf2)),execSync(_0x5f38b7(0x119)+VENV_PATH+'\x22');}catch(_0x39d47c){_0x27a04b[_0x5f38b7(0xf9)]=![];_0x39d47c[_0x5f38b7(0x118)]['includes'](_0x5f38b7(0x10b))||_0x39d47c[_0x5f38b7(0x118)]['includes'](_0x5f38b7(0x108))?(_0x27a04b['log'][_0x5f38b7(0x124)](_0x5f38b7(0x101)),_0x27a04b[_0x5f38b7(0x103)]['error'](_0x5f38b7(0x11e)+ADAPTER_DIR)):_0x27a04b[_0x5f38b7(0x103)][_0x5f38b7(0x124)](_0x5f38b7(0x10d)+_0x39d47c[_0x5f38b7(0x118)]+_0x5f38b7(0x122));return;}installRequirementsInVenv(_0x27a04b,_0x3da025,_0x2812ec);}function checkAndInstall(_0x305d8f,_0x219893){const _0x31b4d5=a3_0xe897f1;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x31b4d5(0x109)](PIP_EXE))try{return _0x305d8f[_0x31b4d5(0x103)][_0x31b4d5(0xfd)](_0x31b4d5(0xfe)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x305d8f[_0x31b4d5(0x103)]['info'](_0x31b4d5(0x102)),_0x219893&&_0x219893(),!![];}catch(_0x3cb1ed){_0x305d8f[_0x31b4d5(0x103)][_0x31b4d5(0x106)]('‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...');}else _0x305d8f[_0x31b4d5(0x103)]['warn']('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x305d8f,_0x219893),![];}module[a3_0xe897f1(0x10f)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};