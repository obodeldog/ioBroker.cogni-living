const a0_0xedac04=a0_0x5cc4;function a0_0x1262(){const _0xca2f40=['419422LYFyTG','Permission\x20denied','includes','24FWpOOG','bin','.venv','EACCES','âš ï¸\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','Scripts','400918UdUCrf','message','log','search','win32','580135vtxUZy','Creating\x20new\x20VENV...','constructor','ðŸ‘‰\x20LÃ–SUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','pythonProcess','âŒ\x20VENV\x20CREATION\x20FAILED:\x20','pip.exe','Delete\x20failed:\x20','âœ…\x20INSTALL\x20SUCCESS.','python3\x20-m\x20venv\x20\x22','child_process','âŒ\x20INSTALL\x20FAILED:\x20','pip','requirements.txt','join','platform','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','toString','python','2632176rCZkDT','warn','\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22','ðŸ\x20Checking\x20Python\x20environment...','8OkPkEf','(((.+)+)+)+$','rmSync','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','âš ï¸\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','1071054FoVGkU','error','1063166GBSxXR','ðŸ›‘\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','3748131CAjgVK','kill','path','existsSync','info','â™»ï¸\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','dependencyInstallInProgress'];a0_0x1262=function(){return _0xca2f40;};return a0_0x1262();}(function(_0x2dc48b,_0x2ac945){const _0x184f08=a0_0x5cc4,_0x20acbc=_0x2dc48b();while(!![]){try{const _0x36ff3d=parseInt(_0x184f08(0x159))/0x1+-parseInt(_0x184f08(0x150))/0x2+parseInt(_0x184f08(0x183))/0x3+-parseInt(_0x184f08(0x17a))/0x4+-parseInt(_0x184f08(0x167))/0x5*(-parseInt(_0x184f08(0x15c))/0x6)+-parseInt(_0x184f08(0x162))/0x7+parseInt(_0x184f08(0x17e))/0x8*(parseInt(_0x184f08(0x152))/0x9);if(_0x36ff3d===_0x2ac945)break;else _0x20acbc['push'](_0x20acbc['shift']());}catch(_0x4f656d){_0x20acbc['push'](_0x20acbc['shift']());}}}(a0_0x1262,0x641fa));const a0_0x16912d=(function(){let _0x309df5=!![];return function(_0x128d06,_0x52715c){const _0x379fd7=_0x309df5?function(){if(_0x52715c){const _0x3c723d=_0x52715c['apply'](_0x128d06,arguments);return _0x52715c=null,_0x3c723d;}}:function(){};return _0x309df5=![],_0x379fd7;};}()),a0_0xb59abc=a0_0x16912d(this,function(){const _0xfed869=a0_0x5cc4;return a0_0xb59abc['toString']()[_0xfed869(0x165)]('(((.+)+)+)+$')[_0xfed869(0x178)]()[_0xfed869(0x169)](a0_0xb59abc)['search'](_0xfed869(0x17f));});a0_0xb59abc();'use strict';const {exec,execSync}=require(a0_0xedac04(0x171)),path=require(a0_0xedac04(0x154)),fs=require('fs'),IS_WIN=process[a0_0xedac04(0x176)]===a0_0xedac04(0x166),ADAPTER_DIR=path[a0_0xedac04(0x175)](__dirname,'..'),PERSISTENT_DIR=path[a0_0xedac04(0x175)](ADAPTER_DIR,a0_0xedac04(0x15e)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a0_0xedac04(0x175)](VENV_PATH,a0_0xedac04(0x161),'python.exe'):path[a0_0xedac04(0x175)](VENV_PATH,'bin',a0_0xedac04(0x179)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a0_0xedac04(0x161),a0_0xedac04(0x16d)):path[a0_0xedac04(0x175)](VENV_PATH,a0_0xedac04(0x15d),a0_0xedac04(0x173));function stopPythonService(_0x51bf67){const _0x525b6d=a0_0xedac04;if(_0x51bf67[_0x525b6d(0x16b)]){try{_0x51bf67['pythonProcess'][_0x525b6d(0x153)]();}catch(_0xc19980){}_0x51bf67[_0x525b6d(0x16b)]=null;}}function installRequirementsInVenv(_0x570aaf,_0x4015ce,_0x2019ae){const _0x4e6460=a0_0xedac04;_0x570aaf[_0x4e6460(0x164)][_0x4e6460(0x156)](_0x4e6460(0x177));const _0x2e339b='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x4015ce+'\x22';exec(_0x2e339b,{'timeout':0x1b7740},(_0x2f88f1,_0x5da943,_0x2f4b8d)=>{const _0x259b3e=_0x4e6460;_0x570aaf[_0x259b3e(0x158)]=![];if(_0x2f88f1){_0x570aaf[_0x259b3e(0x164)]['error'](_0x259b3e(0x172)+(_0x2f4b8d||_0x2f88f1[_0x259b3e(0x163)]));try{fs[_0x259b3e(0x180)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x53a728){}}else _0x570aaf[_0x259b3e(0x164)][_0x259b3e(0x156)](_0x259b3e(0x16f)),_0x2019ae&&_0x2019ae();});}function installPythonDependencies(_0x4b3dc5,_0x483f9b){const _0x558d4b=a0_0xedac04;if(_0x4b3dc5[_0x558d4b(0x158)])return;_0x4b3dc5['dependencyInstallInProgress']=!![];const _0xc63f9f=path[_0x558d4b(0x175)](ADAPTER_DIR,'python_service',_0x558d4b(0x174));stopPythonService(_0x4b3dc5);if(fs[_0x558d4b(0x155)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x4b3dc5['log'][_0x558d4b(0x17b)](_0x558d4b(0x157));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x16e7c8){_0x4b3dc5[_0x558d4b(0x164)][_0x558d4b(0x14f)](_0x558d4b(0x16e)+_0x16e7c8[_0x558d4b(0x163)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x4b3dc5[_0x558d4b(0x164)][_0x558d4b(0x156)](_0x558d4b(0x168)),execSync(_0x558d4b(0x170)+VENV_PATH+'\x22');}catch(_0x4ff0cc){_0x4b3dc5[_0x558d4b(0x158)]=![];_0x4ff0cc[_0x558d4b(0x163)]['includes'](_0x558d4b(0x15f))||_0x4ff0cc['message'][_0x558d4b(0x15b)](_0x558d4b(0x15a))?(_0x4b3dc5[_0x558d4b(0x164)][_0x558d4b(0x14f)](_0x558d4b(0x151)),_0x4b3dc5[_0x558d4b(0x164)][_0x558d4b(0x14f)](_0x558d4b(0x16a)+ADAPTER_DIR)):_0x4b3dc5['log'][_0x558d4b(0x14f)](_0x558d4b(0x16c)+_0x4ff0cc['message']+_0x558d4b(0x181));return;}installRequirementsInVenv(_0x4b3dc5,_0xc63f9f,_0x483f9b);}function a0_0x5cc4(_0x1e8a58,_0x29f9a9){const _0x28d74e=a0_0x1262();return a0_0x5cc4=function(_0xb59abc,_0x16912d){_0xb59abc=_0xb59abc-0x14f;let _0x12623f=_0x28d74e[_0xb59abc];return _0x12623f;},a0_0x5cc4(_0x1e8a58,_0x29f9a9);}function checkAndInstall(_0x5bdc64,_0x1306b6){const _0x59273a=a0_0xedac04;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x59273a(0x155)](PIP_EXE))try{return _0x5bdc64[_0x59273a(0x164)][_0x59273a(0x156)](_0x59273a(0x17d)),execSync('\x22'+PYTHON_EXE+_0x59273a(0x17c),{'timeout':0x3a98}),_0x5bdc64[_0x59273a(0x164)][_0x59273a(0x156)]('âœ…\x20Fast-Boot:\x20Environment\x20healthy.'),_0x1306b6&&_0x1306b6(),!![];}catch(_0x3d9687){_0x5bdc64[_0x59273a(0x164)][_0x59273a(0x17b)](_0x59273a(0x160));}else _0x5bdc64[_0x59273a(0x164)]['warn'](_0x59273a(0x182));return installPythonDependencies(_0x5bdc64,_0x1306b6),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};