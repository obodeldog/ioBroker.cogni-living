const a3_0x2d9c88=a3_0x17e1;(function(_0x39c745,_0x594b0a){const _0x90078c=a3_0x17e1,_0x44d463=_0x39c745();while(!![]){try{const _0x34a0dc=parseInt(_0x90078c(0xac))/0x1+parseInt(_0x90078c(0xb3))/0x2+parseInt(_0x90078c(0xcc))/0x3+parseInt(_0x90078c(0xbb))/0x4*(parseInt(_0x90078c(0xae))/0x5)+parseInt(_0x90078c(0xbf))/0x6*(-parseInt(_0x90078c(0xaa))/0x7)+-parseInt(_0x90078c(0xba))/0x8*(-parseInt(_0x90078c(0xd3))/0x9)+-parseInt(_0x90078c(0xd7))/0xa;if(_0x34a0dc===_0x594b0a)break;else _0x44d463['push'](_0x44d463['shift']());}catch(_0x579b9b){_0x44d463['push'](_0x44d463['shift']());}}}(a3_0x52b9,0x1a919));const a3_0x36baf0=(function(){let _0x3c204c=!![];return function(_0x3b3734,_0x309e51){const _0x411470=_0x3c204c?function(){const _0x1466f2=a3_0x17e1;if(_0x309e51){const _0x126ada=_0x309e51[_0x1466f2(0xc9)](_0x3b3734,arguments);return _0x309e51=null,_0x126ada;}}:function(){};return _0x3c204c=![],_0x411470;};}()),a3_0x2fae4f=a3_0x36baf0(this,function(){const _0x238f20=a3_0x17e1;return a3_0x2fae4f[_0x238f20(0xb2)]()[_0x238f20(0xbc)](_0x238f20(0xb7))['toString']()[_0x238f20(0xb0)](a3_0x2fae4f)['search']('(((.+)+)+)+$');});a3_0x2fae4f();'use strict';function a3_0x52b9(){const _0x49ea55=['platform','path','‚úÖ\x20INSTALL\x20SUCCESS.','python3\x20-m\x20venv\x20\x22','error','requirements.txt','apply','.venv','\x22\x20install\x20-r\x20\x22','291921fHKREj','üêç\x20Checking\x20Python\x20environment...','EACCES','dependencyInstallInProgress','rmSync','pythonProcess','join','9UErDwk','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','python','2392460xoKSbe','message','\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22','exports','bin','pip.exe','312690QobPMI','existsSync','136835olaqfP','Scripts','15juHyyz','log','constructor','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','toString','88574TMTBmJ','win32','warn','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','(((.+)+)+)+$','Permission\x20denied','includes','1233336lnrQzE','6420ZmdjoI','search','python_service','info','12ebkTdm','pip','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','Creating\x20new\x20VENV...'];a3_0x52b9=function(){return _0x49ea55;};return a3_0x52b9();}const {exec,execSync}=require('child_process'),path=require(a3_0x2d9c88(0xc4)),fs=require('fs'),IS_WIN=process[a3_0x2d9c88(0xc3)]===a3_0x2d9c88(0xb4),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,a3_0x2d9c88(0xca)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x2d9c88(0xd2)](VENV_PATH,a3_0x2d9c88(0xad),'python.exe'):path['join'](VENV_PATH,a3_0x2d9c88(0xdb),a3_0x2d9c88(0xd6)),PIP_EXE=IS_WIN?path[a3_0x2d9c88(0xd2)](VENV_PATH,a3_0x2d9c88(0xad),a3_0x2d9c88(0xdc)):path[a3_0x2d9c88(0xd2)](VENV_PATH,a3_0x2d9c88(0xdb),a3_0x2d9c88(0xc0));function stopPythonService(_0x1eff57){const _0x2dda03=a3_0x2d9c88;if(_0x1eff57['pythonProcess']){try{_0x1eff57[_0x2dda03(0xd1)]['kill']();}catch(_0x4bed9c){}_0x1eff57[_0x2dda03(0xd1)]=null;}}function a3_0x17e1(_0x28413b,_0x10de3f){const _0x2c0695=a3_0x52b9();return a3_0x17e1=function(_0x2fae4f,_0x36baf0){_0x2fae4f=_0x2fae4f-0xaa;let _0x52b971=_0x2c0695[_0x2fae4f];return _0x52b971;},a3_0x17e1(_0x28413b,_0x10de3f);}function installRequirementsInVenv(_0x55b6b,_0xaa64e5,_0x433070){const _0x33749d=a3_0x2d9c88;_0x55b6b[_0x33749d(0xaf)][_0x33749d(0xbe)]('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0x58fdcf='\x22'+PIP_EXE+_0x33749d(0xcb)+_0xaa64e5+'\x22';exec(_0x58fdcf,{'timeout':0x1b7740},(_0xde6512,_0x4320d0,_0x2fcfe2)=>{const _0x138b33=_0x33749d;_0x55b6b[_0x138b33(0xcf)]=![];if(_0xde6512){_0x55b6b[_0x138b33(0xaf)][_0x138b33(0xc7)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x2fcfe2||_0xde6512[_0x138b33(0xd8)]));try{fs[_0x138b33(0xd0)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x49f1eb){}}else _0x55b6b[_0x138b33(0xaf)][_0x138b33(0xbe)](_0x138b33(0xc5)),_0x433070&&_0x433070();});}function installPythonDependencies(_0x1286d3,_0x3fe28f){const _0x108b29=a3_0x2d9c88;if(_0x1286d3[_0x108b29(0xcf)])return;_0x1286d3[_0x108b29(0xcf)]=!![];const _0x4d6e6d=path[_0x108b29(0xd2)](ADAPTER_DIR,_0x108b29(0xbd),_0x108b29(0xc8));stopPythonService(_0x1286d3);if(fs[_0x108b29(0xab)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x1286d3[_0x108b29(0xaf)]['warn'](_0x108b29(0xc1));try{fs[_0x108b29(0xd0)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x5235f7){_0x1286d3[_0x108b29(0xaf)]['error']('Delete\x20failed:\x20'+_0x5235f7[_0x108b29(0xd8)]);}}if(!fs[_0x108b29(0xab)](VENV_PATH))try{_0x1286d3[_0x108b29(0xaf)][_0x108b29(0xbe)](_0x108b29(0xc2)),execSync(_0x108b29(0xc6)+VENV_PATH+'\x22');}catch(_0x48f1e8){_0x1286d3['dependencyInstallInProgress']=![];_0x48f1e8['message'][_0x108b29(0xb9)](_0x108b29(0xce))||_0x48f1e8[_0x108b29(0xd8)][_0x108b29(0xb9)](_0x108b29(0xb8))?(_0x1286d3[_0x108b29(0xaf)][_0x108b29(0xc7)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x1286d3[_0x108b29(0xaf)][_0x108b29(0xc7)](_0x108b29(0xb6)+ADAPTER_DIR)):_0x1286d3[_0x108b29(0xaf)][_0x108b29(0xc7)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x48f1e8[_0x108b29(0xd8)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x1286d3,_0x4d6e6d,_0x3fe28f);}function checkAndInstall(_0x4f40c5,_0x3a937c){const _0x2e563e=a3_0x2d9c88;if(fs[_0x2e563e(0xab)](PYTHON_EXE)&&fs[_0x2e563e(0xab)](PIP_EXE))try{return _0x4f40c5[_0x2e563e(0xaf)][_0x2e563e(0xbe)](_0x2e563e(0xcd)),execSync('\x22'+PYTHON_EXE+_0x2e563e(0xd9),{'timeout':0x3a98}),_0x4f40c5[_0x2e563e(0xaf)][_0x2e563e(0xbe)](_0x2e563e(0xd5)),_0x3a937c&&_0x3a937c(),!![];}catch(_0x1a9188){_0x4f40c5[_0x2e563e(0xaf)]['warn'](_0x2e563e(0xd4));}else _0x4f40c5['log'][_0x2e563e(0xb5)](_0x2e563e(0xb1));return installPythonDependencies(_0x4f40c5,_0x3a937c),![];}module[a3_0x2d9c88(0xda)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};