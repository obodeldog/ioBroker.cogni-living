const a3_0x21ea81=a3_0x46e3;(function(_0x11cf87,_0x16e6ee){const _0x21f2a4=a3_0x46e3,_0x3aa23b=_0x11cf87();while(!![]){try{const _0x40a7b1=parseInt(_0x21f2a4(0xd8))/0x1+parseInt(_0x21f2a4(0xd5))/0x2*(parseInt(_0x21f2a4(0xbe))/0x3)+-parseInt(_0x21f2a4(0xb7))/0x4+-parseInt(_0x21f2a4(0xc9))/0x5+parseInt(_0x21f2a4(0xcd))/0x6+parseInt(_0x21f2a4(0xb9))/0x7+parseInt(_0x21f2a4(0xcb))/0x8*(-parseInt(_0x21f2a4(0xb3))/0x9);if(_0x40a7b1===_0x16e6ee)break;else _0x3aa23b['push'](_0x3aa23b['shift']());}catch(_0x56cea7){_0x3aa23b['push'](_0x3aa23b['shift']());}}}(a3_0x2dce,0x67719));function a3_0x46e3(_0x25ee61,_0x3c14ef){const _0x15c7ff=a3_0x2dce();return a3_0x46e3=function(_0x12fc3d,_0x3abd58){_0x12fc3d=_0x12fc3d-0xa8;let _0x2dce2f=_0x15c7ff[_0x12fc3d];return _0x2dce2f;},a3_0x46e3(_0x25ee61,_0x3c14ef);}const a3_0x3abd58=(function(){let _0x480fd1=!![];return function(_0x574361,_0xc0fb59){const _0x1615e0=_0x480fd1?function(){const _0x49842e=a3_0x46e3;if(_0xc0fb59){const _0x891694=_0xc0fb59[_0x49842e(0xb4)](_0x574361,arguments);return _0xc0fb59=null,_0x891694;}}:function(){};return _0x480fd1=![],_0x1615e0;};}()),a3_0x12fc3d=a3_0x3abd58(this,function(){const _0xbb788d=a3_0x46e3;return a3_0x12fc3d[_0xbb788d(0xba)]()['search'](_0xbb788d(0xab))[_0xbb788d(0xba)]()['constructor'](a3_0x12fc3d)[_0xbb788d(0xc2)](_0xbb788d(0xab));});a3_0x12fc3d();'use strict';const {exec,execSync}=require(a3_0x21ea81(0xcc)),path=require(a3_0x21ea81(0xc1)),fs=require('fs'),IS_WIN=process[a3_0x21ea81(0xd2)]===a3_0x21ea81(0xd4),ADAPTER_DIR=path[a3_0x21ea81(0xc5)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x21ea81(0xc5)](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x21ea81(0xc5)](VENV_PATH,a3_0x21ea81(0xbf),a3_0x21ea81(0xc6)):path[a3_0x21ea81(0xc5)](VENV_PATH,'bin','python'),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x21ea81(0xbf),'pip.exe'):path['join'](VENV_PATH,a3_0x21ea81(0xb8),a3_0x21ea81(0xc7));function stopPythonService(_0x4b7f28){const _0x2d4c5d=a3_0x21ea81;if(_0x4b7f28['pythonProcess']){try{_0x4b7f28[_0x2d4c5d(0xb6)][_0x2d4c5d(0xbb)]();}catch(_0x58e9f7){}_0x4b7f28['pythonProcess']=null;}}function installRequirementsInVenv(_0x515e58,_0x48533d,_0x32ec22){const _0x4e6199=a3_0x21ea81;_0x515e58[_0x4e6199(0xbd)][_0x4e6199(0xb0)](_0x4e6199(0xd1));const _0x389707='\x22'+PIP_EXE+_0x4e6199(0xc8)+_0x48533d+'\x22';exec(_0x389707,{'timeout':0x1b7740},(_0x3e1fca,_0x3e0e7f,_0xade9ab)=>{const _0x1c696a=_0x4e6199;_0x515e58[_0x1c696a(0xd0)]=![];if(_0x3e1fca){_0x515e58['log']['error']('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0xade9ab||_0x3e1fca['message']));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x8c56b9){}}else _0x515e58[_0x1c696a(0xbd)]['info'](_0x1c696a(0xd6)),_0x32ec22&&_0x32ec22();});}function installPythonDependencies(_0x4683f5,_0x3c6c82){const _0x47543a=a3_0x21ea81;if(_0x4683f5[_0x47543a(0xd0)])return;_0x4683f5[_0x47543a(0xd0)]=!![];const _0x5e710f=path[_0x47543a(0xc5)](ADAPTER_DIR,_0x47543a(0xb5),'requirements.txt');stopPythonService(_0x4683f5);if(fs[_0x47543a(0xd7)](VENV_PATH)&&!fs[_0x47543a(0xd7)](PIP_EXE)){_0x4683f5[_0x47543a(0xbd)][_0x47543a(0xc3)](_0x47543a(0xd3));try{fs[_0x47543a(0xcf)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x7ea64d){_0x4683f5[_0x47543a(0xbd)][_0x47543a(0xaf)](_0x47543a(0xa8)+_0x7ea64d['message']);}}if(!fs[_0x47543a(0xd7)](VENV_PATH))try{_0x4683f5[_0x47543a(0xbd)]['info']('Creating\x20new\x20VENV...'),execSync(_0x47543a(0xac)+VENV_PATH+'\x22');}catch(_0xa138c4){_0x4683f5[_0x47543a(0xd0)]=![];_0xa138c4['message']['includes']('EACCES')||_0xa138c4['message'][_0x47543a(0xc0)](_0x47543a(0xae))?(_0x4683f5[_0x47543a(0xbd)][_0x47543a(0xaf)](_0x47543a(0xca)),_0x4683f5[_0x47543a(0xbd)][_0x47543a(0xaf)](_0x47543a(0xaa)+ADAPTER_DIR)):_0x4683f5[_0x47543a(0xbd)][_0x47543a(0xaf)](_0x47543a(0xbc)+_0xa138c4['message']+_0x47543a(0xa9));return;}installRequirementsInVenv(_0x4683f5,_0x5e710f,_0x3c6c82);}function checkAndInstall(_0x201a27,_0x17526b){const _0x1bd78a=a3_0x21ea81;if(fs[_0x1bd78a(0xd7)](PYTHON_EXE)&&fs[_0x1bd78a(0xd7)](PIP_EXE))try{return _0x201a27[_0x1bd78a(0xbd)][_0x1bd78a(0xb0)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+_0x1bd78a(0xc4),{'timeout':0x3a98}),_0x201a27[_0x1bd78a(0xbd)]['info'](_0x1bd78a(0xad)),_0x17526b&&_0x17526b(),!![];}catch(_0x23aa1d){_0x201a27[_0x1bd78a(0xbd)]['warn'](_0x1bd78a(0xb2));}else _0x201a27[_0x1bd78a(0xbd)][_0x1bd78a(0xc3)](_0x1bd78a(0xb1));return installPythonDependencies(_0x201a27,_0x17526b),![];}function a3_0x2dce(){const _0x51e8df=['platform','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','win32','1966HtwhwY','‚úÖ\x20INSTALL\x20SUCCESS.','existsSync','81975CKsZLS','Delete\x20failed:\x20','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','(((.+)+)+)+$','python3\x20-m\x20venv\x20\x22','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','Permission\x20denied','error','info','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','9466623jPsecv','apply','python_service','pythonProcess','1048232yCXWZp','bin','1094667Rgbdwi','toString','kill','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','log','2406nnbZLy','Scripts','includes','path','search','warn','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','join','python.exe','pip','\x22\x20install\x20-r\x20\x22','313750krKubU','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','8akjjPZ','child_process','4641828SscNre','exports','rmSync','dependencyInstallInProgress','Installing\x20pip\x20packages...\x20(Caching\x20enabled)'];a3_0x2dce=function(){return _0x51e8df;};return a3_0x2dce();}module[a3_0x21ea81(0xce)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};