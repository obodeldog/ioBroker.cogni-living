const a3_0x16bd11=a3_0x162f;(function(_0x5d4493,_0x220221){const _0x2d71f3=a3_0x162f,_0xceaf6b=_0x5d4493();while(!![]){try{const _0x4446e8=-parseInt(_0x2d71f3(0x186))/0x1+-parseInt(_0x2d71f3(0x160))/0x2*(-parseInt(_0x2d71f3(0x16f))/0x3)+parseInt(_0x2d71f3(0x174))/0x4*(parseInt(_0x2d71f3(0x183))/0x5)+parseInt(_0x2d71f3(0x173))/0x6*(parseInt(_0x2d71f3(0x188))/0x7)+-parseInt(_0x2d71f3(0x168))/0x8*(-parseInt(_0x2d71f3(0x182))/0x9)+-parseInt(_0x2d71f3(0x176))/0xa*(-parseInt(_0x2d71f3(0x190))/0xb)+parseInt(_0x2d71f3(0x163))/0xc*(-parseInt(_0x2d71f3(0x18d))/0xd);if(_0x4446e8===_0x220221)break;else _0xceaf6b['push'](_0xceaf6b['shift']());}catch(_0x53d9d9){_0xceaf6b['push'](_0xceaf6b['shift']());}}}(a3_0xda81,0xb9c40));const a3_0x5cf162=(function(){let _0x354b4a=!![];return function(_0x2fbd35,_0x3079a8){const _0x35bead=_0x354b4a?function(){const _0x4a1954=a3_0x162f;if(_0x3079a8){const _0x47485b=_0x3079a8[_0x4a1954(0x18c)](_0x2fbd35,arguments);return _0x3079a8=null,_0x47485b;}}:function(){};return _0x354b4a=![],_0x35bead;};}()),a3_0x59b2c7=a3_0x5cf162(this,function(){const _0x801787=a3_0x162f;return a3_0x59b2c7[_0x801787(0x175)]()[_0x801787(0x18e)](_0x801787(0x180))['toString']()[_0x801787(0x17a)](a3_0x59b2c7)['search'](_0x801787(0x180));});a3_0x59b2c7();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x16bd11(0x17f)),fs=require('fs'),IS_WIN=process[a3_0x16bd11(0x16c)]===a3_0x16bd11(0x179),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x16bd11(0x162)](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x16bd11(0x162)](VENV_PATH,a3_0x16bd11(0x161),a3_0x16bd11(0x177)):path[a3_0x16bd11(0x162)](VENV_PATH,a3_0x16bd11(0x17d),a3_0x16bd11(0x16e)),PIP_EXE=IS_WIN?path[a3_0x16bd11(0x162)](VENV_PATH,a3_0x16bd11(0x161),'pip.exe'):path[a3_0x16bd11(0x162)](VENV_PATH,a3_0x16bd11(0x17d),a3_0x16bd11(0x18b));function stopPythonService(_0x340508){const _0x3bd6d6=a3_0x16bd11;if(_0x340508[_0x3bd6d6(0x178)]){try{_0x340508['pythonProcess']['kill']();}catch(_0x283ba9){}_0x340508[_0x3bd6d6(0x178)]=null;}}function installRequirementsInVenv(_0x465c0f,_0x5db02a,_0x1f6dea){const _0x5c8dc3=a3_0x16bd11;_0x465c0f[_0x5c8dc3(0x184)][_0x5c8dc3(0x191)](_0x5c8dc3(0x171));const _0xf58f0='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x5db02a+'\x22';exec(_0xf58f0,{'timeout':0x1b7740},(_0x4ee67b,_0x9f4967,_0x441273)=>{const _0x1ac39d=_0x5c8dc3;_0x465c0f[_0x1ac39d(0x18a)]=![];if(_0x4ee67b){_0x465c0f[_0x1ac39d(0x184)][_0x1ac39d(0x172)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x441273||_0x4ee67b['message']));try{fs[_0x1ac39d(0x187)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x376c72){}}else _0x465c0f[_0x1ac39d(0x184)][_0x1ac39d(0x191)](_0x1ac39d(0x17b)),_0x1f6dea&&_0x1f6dea();});}function a3_0xda81(){const _0x38bb49=['constructor','‚úÖ\x20INSTALL\x20SUCCESS.','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','bin','exports','path','(((.+)+)+)+$','Permission\x20denied','3618045vklJfZ','20MGZPaC','log','Creating\x20new\x20VENV...','723396XQRQoX','rmSync','1359638xBvvna','existsSync','dependencyInstallInProgress','pip','apply','1261WNbxjL','search','üêç\x20Checking\x20Python\x20environment...','88tcYyfk','info','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','EACCES','44KfACim','Scripts','join','261804WeBxkt','includes','Delete\x20failed:\x20','warn','requirements.txt','24xzIlDe','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','message','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','platform','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','python','67107OhUNbg','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','error','12HWCztd','192356aGKVkj','toString','1651980IGJpQm','python.exe','pythonProcess','win32'];a3_0xda81=function(){return _0x38bb49;};return a3_0xda81();}function installPythonDependencies(_0x62c1cc,_0x5a9cd4){const _0x28f8fd=a3_0x16bd11;if(_0x62c1cc[_0x28f8fd(0x18a)])return;_0x62c1cc[_0x28f8fd(0x18a)]=!![];const _0x263a6a=path[_0x28f8fd(0x162)](ADAPTER_DIR,'python_service',_0x28f8fd(0x167));stopPythonService(_0x62c1cc);if(fs[_0x28f8fd(0x189)](VENV_PATH)&&!fs[_0x28f8fd(0x189)](PIP_EXE)){_0x62c1cc[_0x28f8fd(0x184)][_0x28f8fd(0x166)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x54dfd8){_0x62c1cc[_0x28f8fd(0x184)][_0x28f8fd(0x172)](_0x28f8fd(0x165)+_0x54dfd8[_0x28f8fd(0x16a)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x62c1cc['log'][_0x28f8fd(0x191)](_0x28f8fd(0x185)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x31ca4b){_0x62c1cc['dependencyInstallInProgress']=![];_0x31ca4b[_0x28f8fd(0x16a)][_0x28f8fd(0x164)](_0x28f8fd(0x193))||_0x31ca4b[_0x28f8fd(0x16a)][_0x28f8fd(0x164)](_0x28f8fd(0x181))?(_0x62c1cc['log']['error']('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x62c1cc['log'][_0x28f8fd(0x172)](_0x28f8fd(0x192)+ADAPTER_DIR)):_0x62c1cc[_0x28f8fd(0x184)][_0x28f8fd(0x172)](_0x28f8fd(0x170)+_0x31ca4b[_0x28f8fd(0x16a)]+_0x28f8fd(0x16b));return;}installRequirementsInVenv(_0x62c1cc,_0x263a6a,_0x5a9cd4);}function checkAndInstall(_0x328063,_0x53790b){const _0x36d920=a3_0x16bd11;if(fs[_0x36d920(0x189)](PYTHON_EXE)&&fs[_0x36d920(0x189)](PIP_EXE))try{return _0x328063['log'][_0x36d920(0x191)](_0x36d920(0x18f)),execSync('\x22'+PYTHON_EXE+_0x36d920(0x169),{'timeout':0x3a98}),_0x328063[_0x36d920(0x184)][_0x36d920(0x191)]('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x53790b&&_0x53790b(),!![];}catch(_0x5ad6f8){_0x328063[_0x36d920(0x184)][_0x36d920(0x166)](_0x36d920(0x17c));}else _0x328063[_0x36d920(0x184)][_0x36d920(0x166)](_0x36d920(0x16d));return installPythonDependencies(_0x328063,_0x53790b),![];}function a3_0x162f(_0x5c78a3,_0x471af6){const _0x46262e=a3_0xda81();return a3_0x162f=function(_0x59b2c7,_0x5cf162){_0x59b2c7=_0x59b2c7-0x160;let _0xda81fc=_0x46262e[_0x59b2c7];return _0xda81fc;},a3_0x162f(_0x5c78a3,_0x471af6);}module[a3_0x16bd11(0x17e)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};