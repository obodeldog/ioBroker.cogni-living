function a3_0xab45(_0x357bfc,_0x1f928f){const _0x4e95b3=a3_0x4b6c();return a3_0xab45=function(_0x5e6cdc,_0x3e9b5c){_0x5e6cdc=_0x5e6cdc-0xde;let _0x4b6c28=_0x4e95b3[_0x5e6cdc];return _0x4b6c28;},a3_0xab45(_0x357bfc,_0x1f928f);}const a3_0x4d81c9=a3_0xab45;(function(_0x522f96,_0xea1002){const _0x1f086c=a3_0xab45,_0x59ef44=_0x522f96();while(!![]){try{const _0x2705f2=-parseInt(_0x1f086c(0x111))/0x1*(-parseInt(_0x1f086c(0x110))/0x2)+-parseInt(_0x1f086c(0x112))/0x3*(-parseInt(_0x1f086c(0x106))/0x4)+-parseInt(_0x1f086c(0xdf))/0x5*(parseInt(_0x1f086c(0x105))/0x6)+parseInt(_0x1f086c(0xf1))/0x7+-parseInt(_0x1f086c(0xed))/0x8*(-parseInt(_0x1f086c(0xf9))/0x9)+-parseInt(_0x1f086c(0x10a))/0xa*(-parseInt(_0x1f086c(0xe0))/0xb)+-parseInt(_0x1f086c(0xe2))/0xc;if(_0x2705f2===_0xea1002)break;else _0x59ef44['push'](_0x59ef44['shift']());}catch(_0x4c6895){_0x59ef44['push'](_0x59ef44['shift']());}}}(a3_0x4b6c,0x85e2e));const a3_0x3e9b5c=(function(){let _0x15f086=!![];return function(_0x49d1ac,_0x2d20a5){const _0x283da1=_0x15f086?function(){const _0x3497e8=a3_0xab45;if(_0x2d20a5){const _0x2989d0=_0x2d20a5[_0x3497e8(0x100)](_0x49d1ac,arguments);return _0x2d20a5=null,_0x2989d0;}}:function(){};return _0x15f086=![],_0x283da1;};}()),a3_0x5e6cdc=a3_0x3e9b5c(this,function(){const _0x278129=a3_0xab45;return a3_0x5e6cdc[_0x278129(0x10b)]()[_0x278129(0xec)]('(((.+)+)+)+$')[_0x278129(0x10b)]()['constructor'](a3_0x5e6cdc)[_0x278129(0xec)](_0x278129(0x113));});function a3_0x4b6c(){const _0x5214a5=['path','message','info','apply','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','python.exe','Creating\x20new\x20VENV...','existsSync','3408918yyssRa','4xBrOre','dependencyInstallInProgress','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','platform','8171470IFlaoq','toString','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','\x22\x20install\x20-r\x20\x22','error','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','50KbyRWB','25085MZBQGv','624033CfgHAg','(((.+)+)+)+$','‚úÖ\x20INSTALL\x20SUCCESS.','child_process','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','rmSync','5dQAbiA','11jXoGqm','join','24024588EiytsB','.venv','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','pythonProcess','pip.exe','python_service','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','log','Permission\x20denied','Scripts','search','8AkARLJ','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','üêç\x20Checking\x20Python\x20environment...','python3\x20-m\x20venv\x20\x22','3922275OXVDdJ','pip','warn','win32','bin','kill','EACCES','Delete\x20failed:\x20','8153928vJDXks','exports','includes','‚ùå\x20INSTALL\x20FAILED:\x20'];a3_0x4b6c=function(){return _0x5214a5;};return a3_0x4b6c();}a3_0x5e6cdc();'use strict';const {exec,execSync}=require(a3_0x4d81c9(0x115)),path=require(a3_0x4d81c9(0xfd)),fs=require('fs'),IS_WIN=process[a3_0x4d81c9(0x109)]===a3_0x4d81c9(0xf4),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x4d81c9(0xe1)](ADAPTER_DIR,a3_0x4d81c9(0xe3)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x4d81c9(0xe1)](VENV_PATH,a3_0x4d81c9(0xeb),a3_0x4d81c9(0x102)):path[a3_0x4d81c9(0xe1)](VENV_PATH,a3_0x4d81c9(0xf5),'python'),PIP_EXE=IS_WIN?path[a3_0x4d81c9(0xe1)](VENV_PATH,a3_0x4d81c9(0xeb),a3_0x4d81c9(0xe6)):path[a3_0x4d81c9(0xe1)](VENV_PATH,'bin',a3_0x4d81c9(0xf2));function stopPythonService(_0x1c6ca2){const _0x25d2a8=a3_0x4d81c9;if(_0x1c6ca2[_0x25d2a8(0xe5)]){try{_0x1c6ca2[_0x25d2a8(0xe5)][_0x25d2a8(0xf6)]();}catch(_0x251fc5){}_0x1c6ca2[_0x25d2a8(0xe5)]=null;}}function installRequirementsInVenv(_0x159358,_0x53af5b,_0x5325e9){const _0x3adc2c=a3_0x4d81c9;_0x159358['log'][_0x3adc2c(0xff)](_0x3adc2c(0x108));const _0x580712='\x22'+PIP_EXE+_0x3adc2c(0x10d)+_0x53af5b+'\x22';exec(_0x580712,{'timeout':0x1b7740},(_0xd8a8c0,_0x7b6a42,_0x53432a)=>{const _0x3e2ec0=_0x3adc2c;_0x159358[_0x3e2ec0(0x107)]=![];if(_0xd8a8c0){_0x159358['log']['error'](_0x3e2ec0(0xfc)+(_0x53432a||_0xd8a8c0[_0x3e2ec0(0xfe)]));try{fs[_0x3e2ec0(0xde)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x7d8c67){}}else _0x159358[_0x3e2ec0(0xe9)]['info'](_0x3e2ec0(0x114)),_0x5325e9&&_0x5325e9();});}function installPythonDependencies(_0x226086,_0x3aaa74){const _0x1b7489=a3_0x4d81c9;if(_0x226086[_0x1b7489(0x107)])return;_0x226086[_0x1b7489(0x107)]=!![];const _0x2ea50a=path[_0x1b7489(0xe1)](ADAPTER_DIR,_0x1b7489(0xe7),'requirements.txt');stopPythonService(_0x226086);if(fs['existsSync'](VENV_PATH)&&!fs[_0x1b7489(0x104)](PIP_EXE)){_0x226086['log']['warn']('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x1b7489(0xde)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x5e8cc3){_0x226086[_0x1b7489(0xe9)]['error'](_0x1b7489(0xf8)+_0x5e8cc3[_0x1b7489(0xfe)]);}}if(!fs[_0x1b7489(0x104)](VENV_PATH))try{_0x226086[_0x1b7489(0xe9)][_0x1b7489(0xff)](_0x1b7489(0x103)),execSync(_0x1b7489(0xf0)+VENV_PATH+'\x22');}catch(_0x2149fe){_0x226086[_0x1b7489(0x107)]=![];_0x2149fe[_0x1b7489(0xfe)][_0x1b7489(0xfb)](_0x1b7489(0xf7))||_0x2149fe['message'][_0x1b7489(0xfb)](_0x1b7489(0xea))?(_0x226086[_0x1b7489(0xe9)][_0x1b7489(0x10e)](_0x1b7489(0x10c)),_0x226086['log'][_0x1b7489(0x10e)](_0x1b7489(0xe8)+ADAPTER_DIR)):_0x226086[_0x1b7489(0xe9)][_0x1b7489(0x10e)](_0x1b7489(0xee)+_0x2149fe[_0x1b7489(0xfe)]+_0x1b7489(0xe4));return;}installRequirementsInVenv(_0x226086,_0x2ea50a,_0x3aaa74);}function checkAndInstall(_0x2b0b4f,_0x5f1d36){const _0x51922f=a3_0x4d81c9;if(fs[_0x51922f(0x104)](PYTHON_EXE)&&fs[_0x51922f(0x104)](PIP_EXE))try{return _0x2b0b4f['log'][_0x51922f(0xff)](_0x51922f(0xef)),execSync('\x22'+PYTHON_EXE+_0x51922f(0x10f),{'timeout':0x3a98}),_0x2b0b4f['log'][_0x51922f(0xff)](_0x51922f(0x116)),_0x5f1d36&&_0x5f1d36(),!![];}catch(_0x1ece81){_0x2b0b4f[_0x51922f(0xe9)][_0x51922f(0xf3)](_0x51922f(0x101));}else _0x2b0b4f['log'][_0x51922f(0xf3)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x2b0b4f,_0x5f1d36),![];}module[a3_0x4d81c9(0xfa)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};