const a3_0x57ed18=a3_0x4012;function a3_0x4012(_0x476b04,_0x37525c){const _0x11bdc3=a3_0x5bfc();return a3_0x4012=function(_0x555609,_0xe1a93c){_0x555609=_0x555609-0x1ae;let _0x5bfcbc=_0x11bdc3[_0x555609];return _0x5bfcbc;},a3_0x4012(_0x476b04,_0x37525c);}(function(_0x50f08a,_0x2e4b64){const _0x17630a=a3_0x4012,_0xd5e83e=_0x50f08a();while(!![]){try{const _0x15026a=parseInt(_0x17630a(0x1bf))/0x1+parseInt(_0x17630a(0x1d2))/0x2*(parseInt(_0x17630a(0x1b3))/0x3)+parseInt(_0x17630a(0x1c2))/0x4+parseInt(_0x17630a(0x1cd))/0x5+-parseInt(_0x17630a(0x1c6))/0x6+parseInt(_0x17630a(0x1bd))/0x7*(-parseInt(_0x17630a(0x1bb))/0x8)+-parseInt(_0x17630a(0x1b6))/0x9;if(_0x15026a===_0x2e4b64)break;else _0xd5e83e['push'](_0xd5e83e['shift']());}catch(_0x3e56ef){_0xd5e83e['push'](_0xd5e83e['shift']());}}}(a3_0x5bfc,0xea250));const a3_0xe1a93c=(function(){let _0x3e6925=!![];return function(_0x111741,_0x4f5933){const _0x461c17=_0x3e6925?function(){const _0x1e91c7=a3_0x4012;if(_0x4f5933){const _0x1323ca=_0x4f5933[_0x1e91c7(0x1b7)](_0x111741,arguments);return _0x4f5933=null,_0x1323ca;}}:function(){};return _0x3e6925=![],_0x461c17;};}()),a3_0x555609=a3_0xe1a93c(this,function(){const _0x53e5b9=a3_0x4012;return a3_0x555609['toString']()[_0x53e5b9(0x1af)](_0x53e5b9(0x1c0))[_0x53e5b9(0x1c9)]()['constructor'](a3_0x555609)['search'](_0x53e5b9(0x1c0));});a3_0x555609();'use strict';const {execSync}=require('child_process'),path=require(a3_0x57ed18(0x1c7)),fs=require('fs'),IS_WIN=process[a3_0x57ed18(0x1ae)]===a3_0x57ed18(0x1c8),ADAPTER_DIR=path['join'](__dirname,'..'),IOBROKER_ROOT=path[a3_0x57ed18(0x1b4)](ADAPTER_DIR,'..','..'),DATA_DIR=path['join'](IOBROKER_ROOT,'iobroker-data',a3_0x57ed18(0x1b1)),VENV_PATH=path[a3_0x57ed18(0x1b4)](DATA_DIR,a3_0x57ed18(0x1c1));if(!fs['existsSync'](DATA_DIR))try{fs[a3_0x57ed18(0x1b5)](DATA_DIR,{'recursive':!![]});}catch(a3_0x4eb300){console[a3_0x57ed18(0x1ce)](a3_0x57ed18(0x1c5));}function a3_0x5bfc(){const _0x222e8c=['Could\x20not\x20create\x20data\x20dir,\x20falling\x20back\x20to\x20local','3392550fIJPQw','path','win32','toString','WICHTIG:\x20Speicherort\x20wurde\x20geÃ¤ndert\x20auf\x20\x27iobroker-data\x27,\x20damit\x20Updates\x20nicht\x20mehr\x20alles\x20lÃ¶schen!','2.\x20cd\x20/opt/iobroker/iobroker-data/cogni-living','Bitte\x20fÃ¼hren\x20Sie\x20diese\x20Befehle\x20einmalig\x20in\x20der\x20Konsole\x20(Putty)\x20aus:','332455gaAmWm','error','âœ…\x20Python\x20Environment\x20detected\x20&\x20healthy\x20(Persistent).\x20Ready.','Python\x20Binary\x20nicht\x20gefunden\x20unter:\x20','log','1448wRuSYC','-------------------------------------------------------------','bin','\x22\x20-c\x20\x22import\x20pandas;\x20import\x20numpy;\x20print(\x27libs_ok\x27)\x22','1.\x20mkdir\x20-p\x20/opt/iobroker/iobroker-data/cogni-living','platform','search','\x20\x20\x20(Falls\x20Fehler:\x20\x22sudo\x20apt\x20install\x20python3-venv\x20python3-full\x22)','cogni-living','\x22\x20--version','5238jRoTTo','join','mkdirSync','17934984YYXlHw','apply','4.\x20sudo\x20python3\x20-m\x20venv\x20venv','Scripts','6.\x20sudo\x20./venv/bin/pip\x20install\x20-r\x20/opt/iobroker/node_modules/iobroker.cogni-living/python_service/requirements.txt\x20--no-cache-dir','47864nkaYVN','existsSync','1225UCxezP','info','1594493CiGxWT','(((.+)+)+)+$','venv','6556776KcopTI','7.\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20/opt/iobroker/iobroker-data/cogni-living','3.\x20sudo\x20rm\x20-rf\x20venv'];a3_0x5bfc=function(){return _0x222e8c;};return a3_0x5bfc();}const PYTHON_EXE=IS_WIN?path[a3_0x57ed18(0x1b4)](VENV_PATH,a3_0x57ed18(0x1b9),'python.exe'):path[a3_0x57ed18(0x1b4)](VENV_PATH,a3_0x57ed18(0x1d4),'python');function checkAndInstall(_0x3d45df,_0x10ad08){const _0x58e1f3=a3_0x57ed18;let _0x2d5c06=![],_0x267660='';if(fs[_0x58e1f3(0x1bc)](PYTHON_EXE))try{execSync('\x22'+PYTHON_EXE+_0x58e1f3(0x1b2),{'timeout':0x1388}),execSync('\x22'+PYTHON_EXE+_0x58e1f3(0x1d5),{'timeout':0x2710}),_0x2d5c06=!![];}catch(_0x572eec){_0x267660='Python\x20existiert,\x20aber\x20Bibliotheken\x20fehlen\x20oder\x20Absturz:\x20'+_0x572eec['message'];}else _0x267660=_0x58e1f3(0x1d0)+PYTHON_EXE;if(_0x2d5c06){_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1be)](_0x58e1f3(0x1cf));if(_0x10ad08)_0x10ad08();return!![];}else return _0x3d45df[_0x58e1f3(0x1d1)]['error']('ðŸ›‘\x20PYTHON\x20UMGEBUNG\x20FEHLT!\x20(Manuelle\x20Installation\x20erforderlich)'),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1d3)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1ca)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1cc)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](''),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1d6)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1cb)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1c4)),_0x3d45df['log'][_0x58e1f3(0x1ce)](_0x58e1f3(0x1b8)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1b0)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)]('5.\x20sudo\x20./venv/bin/pip\x20install\x20torch\x20--index-url\x20https://download.pytorch.org/whl/cpu\x20--no-cache-dir'),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1ba)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1c3)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)](_0x58e1f3(0x1d3)),_0x3d45df[_0x58e1f3(0x1d1)][_0x58e1f3(0x1ce)]('Grund\x20fÃ¼r\x20Abbruch:\x20'+_0x267660),![];}module['exports']={'checkAndInstall':checkAndInstall,get 'PYTHON_EXE'(){return PYTHON_EXE;}};