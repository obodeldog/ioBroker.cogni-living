const a3_0x4d706c=a3_0x1aef;(function(_0x4a47ad,_0x29db9e){const _0x72c06e=a3_0x1aef,_0x3945fb=_0x4a47ad();while(!![]){try{const _0x430d95=-parseInt(_0x72c06e(0x102))/0x1*(parseInt(_0x72c06e(0xf1))/0x2)+parseInt(_0x72c06e(0xdd))/0x3*(-parseInt(_0x72c06e(0xe7))/0x4)+-parseInt(_0x72c06e(0xf7))/0x5+-parseInt(_0x72c06e(0xe9))/0x6+parseInt(_0x72c06e(0xfa))/0x7+parseInt(_0x72c06e(0xdf))/0x8+parseInt(_0x72c06e(0xe3))/0x9;if(_0x430d95===_0x29db9e)break;else _0x3945fb['push'](_0x3945fb['shift']());}catch(_0x239ff2){_0x3945fb['push'](_0x3945fb['shift']());}}}(a3_0x24c5,0xc8d0e));const a3_0x42c47d=(function(){let _0x3c40f5=!![];return function(_0x464cba,_0x3f2956){const _0x59121b=_0x3c40f5?function(){const _0x2189fc=a3_0x1aef;if(_0x3f2956){const _0x47f274=_0x3f2956[_0x2189fc(0xe0)](_0x464cba,arguments);return _0x3f2956=null,_0x47f274;}}:function(){};return _0x3c40f5=![],_0x59121b;};}()),a3_0x500e20=a3_0x42c47d(this,function(){const _0x5e01e2=a3_0x1aef;return a3_0x500e20['toString']()[_0x5e01e2(0xf2)](_0x5e01e2(0x10c))[_0x5e01e2(0x104)]()['constructor'](a3_0x500e20)[_0x5e01e2(0xf2)](_0x5e01e2(0x10c));});a3_0x500e20();'use strict';const {exec,execSync}=require(a3_0x4d706c(0xf5)),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x4d706c(0xde)]===a3_0x4d706c(0x108),ADAPTER_DIR=path[a3_0x4d706c(0xe1)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x4d706c(0xe1)](ADAPTER_DIR,a3_0x4d706c(0xeb)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x4d706c(0xe1)](VENV_PATH,a3_0x4d706c(0xfc),'python.exe'):path[a3_0x4d706c(0xe1)](VENV_PATH,a3_0x4d706c(0xf3),a3_0x4d706c(0xfe)),PIP_EXE=IS_WIN?path[a3_0x4d706c(0xe1)](VENV_PATH,a3_0x4d706c(0xfc),a3_0x4d706c(0x106)):path[a3_0x4d706c(0xe1)](VENV_PATH,a3_0x4d706c(0xf3),'pip');function a3_0x24c5(){const _0x3e28b9=['24155487rUdtEh','message','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','‚úÖ\x20INSTALL\x20SUCCESS.','2604qkUkUc','includes','2397312EpNvyx','pythonProcess','.venv','rmSync','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','kill','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','65264kunBrr','search','bin','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','child_process','python_service','7049385YUFyLv','Delete\x20failed:\x20','error','9013515WLrxDl','dependencyInstallInProgress','Scripts','‚ùå\x20INSTALL\x20FAILED:\x20','python','requirements.txt','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','info','46bvdfYB','existsSync','toString','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','pip.exe','EACCES','win32','python3\x20-m\x20venv\x20\x22','warn','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','(((.+)+)+)+$','Permission\x20denied','249ZivhTW','platform','1723904FOiDAg','apply','join','log'];a3_0x24c5=function(){return _0x3e28b9;};return a3_0x24c5();}function stopPythonService(_0x1f52b){const _0x8e1418=a3_0x4d706c;if(_0x1f52b[_0x8e1418(0xea)]){try{_0x1f52b['pythonProcess'][_0x8e1418(0xef)]();}catch(_0x1c5bff){}_0x1f52b[_0x8e1418(0xea)]=null;}}function a3_0x1aef(_0x243b6b,_0x3d4950){const _0x4e55be=a3_0x24c5();return a3_0x1aef=function(_0x500e20,_0x42c47d){_0x500e20=_0x500e20-0xdd;let _0x24c588=_0x4e55be[_0x500e20];return _0x24c588;},a3_0x1aef(_0x243b6b,_0x3d4950);}function installRequirementsInVenv(_0x2cceaf,_0x20d534,_0x480e48){const _0x5e8fbc=a3_0x4d706c;_0x2cceaf[_0x5e8fbc(0xe2)]['info'](_0x5e8fbc(0xee));const _0x41c5de='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x20d534+'\x22';exec(_0x41c5de,{'timeout':0x1b7740},(_0x2c3767,_0x5cb737,_0x528859)=>{const _0x391d08=_0x5e8fbc;_0x2cceaf[_0x391d08(0xfb)]=![];if(_0x2c3767){_0x2cceaf[_0x391d08(0xe2)][_0x391d08(0xf9)](_0x391d08(0xfd)+(_0x528859||_0x2c3767[_0x391d08(0xe4)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x22190a){}}else _0x2cceaf[_0x391d08(0xe2)][_0x391d08(0x101)](_0x391d08(0xe6)),_0x480e48&&_0x480e48();});}function installPythonDependencies(_0xd1e871,_0x1ec094){const _0xb65f28=a3_0x4d706c;if(_0xd1e871['dependencyInstallInProgress'])return;_0xd1e871['dependencyInstallInProgress']=!![];const _0x27555e=path[_0xb65f28(0xe1)](ADAPTER_DIR,_0xb65f28(0xf6),_0xb65f28(0xff));stopPythonService(_0xd1e871);if(fs[_0xb65f28(0x103)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0xd1e871[_0xb65f28(0xe2)]['warn'](_0xb65f28(0xe5));try{fs[_0xb65f28(0xec)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x3f79e0){_0xd1e871[_0xb65f28(0xe2)][_0xb65f28(0xf9)](_0xb65f28(0xf8)+_0x3f79e0[_0xb65f28(0xe4)]);}}if(!fs[_0xb65f28(0x103)](VENV_PATH))try{_0xd1e871[_0xb65f28(0xe2)]['info']('Creating\x20new\x20VENV...'),execSync(_0xb65f28(0x109)+VENV_PATH+'\x22');}catch(_0x5e8675){_0xd1e871[_0xb65f28(0xfb)]=![];_0x5e8675[_0xb65f28(0xe4)][_0xb65f28(0xe8)](_0xb65f28(0x107))||_0x5e8675[_0xb65f28(0xe4)]['includes'](_0xb65f28(0x10d))?(_0xd1e871[_0xb65f28(0xe2)]['error'](_0xb65f28(0x10b)),_0xd1e871['log']['error'](_0xb65f28(0xed)+ADAPTER_DIR)):_0xd1e871['log']['error'](_0xb65f28(0xf4)+_0x5e8675['message']+_0xb65f28(0x105));return;}installRequirementsInVenv(_0xd1e871,_0x27555e,_0x1ec094);}function checkAndInstall(_0x282257,_0x20967c){const _0xa2d880=a3_0x4d706c;if(fs[_0xa2d880(0x103)](PYTHON_EXE)&&fs[_0xa2d880(0x103)](PIP_EXE))try{return _0x282257[_0xa2d880(0xe2)]['info']('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x282257['log']['info'](_0xa2d880(0x100)),_0x20967c&&_0x20967c(),!![];}catch(_0x8b2b17){_0x282257['log'][_0xa2d880(0x10a)](_0xa2d880(0xf0));}else _0x282257[_0xa2d880(0xe2)][_0xa2d880(0x10a)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x282257,_0x20967c),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};