const a3_0x5a3a4b=a3_0x4f0e;(function(_0x588d5b,_0x2b0474){const _0x51534f=a3_0x4f0e,_0x4bc1c3=_0x588d5b();while(!![]){try{const _0xd2450d=parseInt(_0x51534f(0xb3))/0x1+parseInt(_0x51534f(0x95))/0x2+parseInt(_0x51534f(0x93))/0x3*(-parseInt(_0x51534f(0x8a))/0x4)+-parseInt(_0x51534f(0xbb))/0x5*(parseInt(_0x51534f(0x9c))/0x6)+parseInt(_0x51534f(0x97))/0x7*(-parseInt(_0x51534f(0xb5))/0x8)+-parseInt(_0x51534f(0x96))/0x9+parseInt(_0x51534f(0x9f))/0xa;if(_0xd2450d===_0x2b0474)break;else _0x4bc1c3['push'](_0x4bc1c3['shift']());}catch(_0x41b34e){_0x4bc1c3['push'](_0x4bc1c3['shift']());}}}(a3_0x3653,0x8c6ff));const a3_0x9cf189=(function(){let _0x345b12=!![];return function(_0x57698a,_0x412d3b){const _0x1b42e9=_0x345b12?function(){const _0x404c3a=a3_0x4f0e;if(_0x412d3b){const _0x2f4168=_0x412d3b[_0x404c3a(0xa6)](_0x57698a,arguments);return _0x412d3b=null,_0x2f4168;}}:function(){};return _0x345b12=![],_0x1b42e9;};}()),a3_0xb9ebd2=a3_0x9cf189(this,function(){const _0x406496=a3_0x4f0e;return a3_0xb9ebd2['toString']()[_0x406496(0xaa)]('(((.+)+)+)+$')['toString']()[_0x406496(0xac)](a3_0xb9ebd2)[_0x406496(0xaa)]('(((.+)+)+)+$');});a3_0xb9ebd2();'use strict';const {exec,execSync}=require('child_process'),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x5a3a4b(0xa9)]===a3_0x5a3a4b(0x92),ADAPTER_DIR=path[a3_0x5a3a4b(0xae)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x5a3a4b(0xae)](ADAPTER_DIR,a3_0x5a3a4b(0x8f)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x5a3a4b(0xae)](VENV_PATH,'Scripts',a3_0x5a3a4b(0xb9)):path[a3_0x5a3a4b(0xae)](VENV_PATH,a3_0x5a3a4b(0x8c),a3_0x5a3a4b(0xb8)),PIP_EXE=IS_WIN?path[a3_0x5a3a4b(0xae)](VENV_PATH,a3_0x5a3a4b(0xb1),a3_0x5a3a4b(0xa5)):path[a3_0x5a3a4b(0xae)](VENV_PATH,'bin',a3_0x5a3a4b(0xad));function stopPythonService(_0x3ed3a5){const _0x8abd7=a3_0x5a3a4b;if(_0x3ed3a5[_0x8abd7(0xaf)]){try{_0x3ed3a5[_0x8abd7(0xaf)][_0x8abd7(0x8e)]();}catch(_0x203d98){}_0x3ed3a5[_0x8abd7(0xaf)]=null;}}function installRequirementsInVenv(_0x2c859c,_0x4e973e,_0x48ec8e){const _0x30c36d=a3_0x5a3a4b;_0x2c859c[_0x30c36d(0xa1)]['info'](_0x30c36d(0x9b));const _0x317aac='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x4e973e+'\x22';exec(_0x317aac,{'timeout':0x1b7740},(_0x9fd541,_0x182979,_0x3c1e6e)=>{const _0x329891=_0x30c36d;_0x2c859c['dependencyInstallInProgress']=![];if(_0x9fd541){_0x2c859c[_0x329891(0xa1)][_0x329891(0xab)](_0x329891(0x94)+(_0x3c1e6e||_0x9fd541[_0x329891(0x9d)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x285fc7){}}else _0x2c859c[_0x329891(0xa1)][_0x329891(0xba)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x48ec8e&&_0x48ec8e();});}function installPythonDependencies(_0x2b31fb,_0x2d9b94){const _0x1734f1=a3_0x5a3a4b;if(_0x2b31fb[_0x1734f1(0xa0)])return;_0x2b31fb['dependencyInstallInProgress']=!![];const _0x295560=path['join'](ADAPTER_DIR,_0x1734f1(0x91),_0x1734f1(0x98));stopPythonService(_0x2b31fb);if(fs[_0x1734f1(0x9a)](VENV_PATH)&&!fs[_0x1734f1(0x9a)](PIP_EXE)){_0x2b31fb[_0x1734f1(0xa1)]['warn'](_0x1734f1(0x9e));try{fs[_0x1734f1(0x8d)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x145dd4){_0x2b31fb[_0x1734f1(0xa1)][_0x1734f1(0xab)]('Delete\x20failed:\x20'+_0x145dd4['message']);}}if(!fs[_0x1734f1(0x9a)](VENV_PATH))try{_0x2b31fb['log'][_0x1734f1(0xba)]('Creating\x20new\x20VENV...'),execSync(_0x1734f1(0xb0)+VENV_PATH+'\x22');}catch(_0x161b0e){_0x2b31fb[_0x1734f1(0xa0)]=![];_0x161b0e[_0x1734f1(0x9d)][_0x1734f1(0xb2)]('EACCES')||_0x161b0e[_0x1734f1(0x9d)][_0x1734f1(0xb2)](_0x1734f1(0xb7))?(_0x2b31fb[_0x1734f1(0xa1)][_0x1734f1(0xab)](_0x1734f1(0xb4)),_0x2b31fb[_0x1734f1(0xa1)][_0x1734f1(0xab)](_0x1734f1(0xb6)+ADAPTER_DIR)):_0x2b31fb[_0x1734f1(0xa1)]['error'](_0x1734f1(0x99)+_0x161b0e[_0x1734f1(0x9d)]+_0x1734f1(0xa2));return;}installRequirementsInVenv(_0x2b31fb,_0x295560,_0x2d9b94);}function checkAndInstall(_0x3b92d7,_0x2cc36e){const _0x52ff5b=a3_0x5a3a4b;if(fs[_0x52ff5b(0x9a)](PYTHON_EXE)&&fs[_0x52ff5b(0x9a)](PIP_EXE))try{return _0x3b92d7['log']['info'](_0x52ff5b(0xa8)),execSync('\x22'+PYTHON_EXE+_0x52ff5b(0xa4),{'timeout':0x3a98}),_0x3b92d7['log'][_0x52ff5b(0xba)](_0x52ff5b(0x8b)),_0x2cc36e&&_0x2cc36e(),!![];}catch(_0x4f18ea){_0x3b92d7[_0x52ff5b(0xa1)][_0x52ff5b(0x90)](_0x52ff5b(0xa7));}else _0x3b92d7[_0x52ff5b(0xa1)]['warn'](_0x52ff5b(0xa3));return installPythonDependencies(_0x3b92d7,_0x2cc36e),![];}function a3_0x4f0e(_0xe37f49,_0x429261){const _0x578a72=a3_0x3653();return a3_0x4f0e=function(_0xb9ebd2,_0x9cf189){_0xb9ebd2=_0xb9ebd2-0x8a;let _0x3653a5=_0x578a72[_0xb9ebd2];return _0x3653a5;},a3_0x4f0e(_0xe37f49,_0x429261);}function a3_0x3653(){const _0x516b72=['üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','24tmOUeh','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','Permission\x20denied','python','python.exe','info','200OVUOZQ','29844SLIHMi','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','bin','rmSync','kill','.venv','warn','python_service','win32','417vxvvba','‚ùå\x20INSTALL\x20FAILED:\x20','2214814wCXJBb','3883293VHrYGX','1648773xQemgR','requirements.txt','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','existsSync','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','103326vkKmXN','message','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','20459370CzXvvo','dependencyInstallInProgress','log','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','pip.exe','apply','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','üêç\x20Checking\x20Python\x20environment...','platform','search','error','constructor','pip','join','pythonProcess','python3\x20-m\x20venv\x20\x22','Scripts','includes','285900JUYEve'];a3_0x3653=function(){return _0x516b72;};return a3_0x3653();}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};