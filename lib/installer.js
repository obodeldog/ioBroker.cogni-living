const a3_0x21e429=a3_0x4faf;(function(_0x11c5e6,_0x590ee){const _0x4ecd45=a3_0x4faf,_0x259f92=_0x11c5e6();while(!![]){try{const _0x36ac15=parseInt(_0x4ecd45(0xb0))/0x1*(-parseInt(_0x4ecd45(0x90))/0x2)+-parseInt(_0x4ecd45(0x8e))/0x3*(parseInt(_0x4ecd45(0xaf))/0x4)+parseInt(_0x4ecd45(0x98))/0x5*(-parseInt(_0x4ecd45(0x97))/0x6)+parseInt(_0x4ecd45(0x81))/0x7+-parseInt(_0x4ecd45(0x88))/0x8*(parseInt(_0x4ecd45(0x87))/0x9)+parseInt(_0x4ecd45(0xaa))/0xa+parseInt(_0x4ecd45(0xad))/0xb;if(_0x36ac15===_0x590ee)break;else _0x259f92['push'](_0x259f92['shift']());}catch(_0x4b5e56){_0x259f92['push'](_0x259f92['shift']());}}}(a3_0x31fa,0x6d1f3));const a3_0x4a4ce4=(function(){let _0x470dc0=!![];return function(_0x5c9aa0,_0x121dfb){const _0x5b94e9=_0x470dc0?function(){const _0x187ef6=a3_0x4faf;if(_0x121dfb){const _0xe07936=_0x121dfb[_0x187ef6(0x9c)](_0x5c9aa0,arguments);return _0x121dfb=null,_0xe07936;}}:function(){};return _0x470dc0=![],_0x5b94e9;};}()),a3_0x3b1d1f=a3_0x4a4ce4(this,function(){const _0x36eeae=a3_0x4faf;return a3_0x3b1d1f[_0x36eeae(0xae)]()[_0x36eeae(0xab)]('(((.+)+)+)+$')[_0x36eeae(0xae)]()['constructor'](a3_0x3b1d1f)[_0x36eeae(0xab)]('(((.+)+)+)+$');});a3_0x3b1d1f();'use strict';const {exec,execSync}=require(a3_0x21e429(0x9b)),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x21e429(0xa9)]===a3_0x21e429(0x91),ADAPTER_DIR=path[a3_0x21e429(0xb2)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x21e429(0xb2)](ADAPTER_DIR,a3_0x21e429(0x8b)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x21e429(0xb2)](VENV_PATH,a3_0x21e429(0x9d),a3_0x21e429(0xa1)):path[a3_0x21e429(0xb2)](VENV_PATH,a3_0x21e429(0xa4),'python'),PIP_EXE=IS_WIN?path[a3_0x21e429(0xb2)](VENV_PATH,'Scripts',a3_0x21e429(0x8a)):path[a3_0x21e429(0xb2)](VENV_PATH,a3_0x21e429(0xa4),a3_0x21e429(0x8c));function stopPythonService(_0x1e32b2){const _0x4371d9=a3_0x21e429;if(_0x1e32b2[_0x4371d9(0xb1)]){try{_0x1e32b2[_0x4371d9(0xb1)][_0x4371d9(0x92)]();}catch(_0x5423a2){}_0x1e32b2[_0x4371d9(0xb1)]=null;}}function installRequirementsInVenv(_0x11da0e,_0x202be6,_0xda714c){const _0x5d5ae0=a3_0x21e429;_0x11da0e[_0x5d5ae0(0x9a)][_0x5d5ae0(0xa2)](_0x5d5ae0(0xa7));const _0x23a314='\x22'+PIP_EXE+_0x5d5ae0(0x94)+_0x202be6+'\x22';exec(_0x23a314,{'timeout':0x1b7740},(_0x19c086,_0x4e66c1,_0x5a11fc)=>{const _0x2efd66=_0x5d5ae0;_0x11da0e['dependencyInstallInProgress']=![];if(_0x19c086){_0x11da0e[_0x2efd66(0x9a)][_0x2efd66(0x8d)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x5a11fc||_0x19c086['message']));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x1c48ec){}}else _0x11da0e[_0x2efd66(0x9a)][_0x2efd66(0xa2)](_0x2efd66(0x9e)),_0xda714c&&_0xda714c();});}function a3_0x4faf(_0x5b8ca8,_0x56d4cf){const _0x43129f=a3_0x31fa();return a3_0x4faf=function(_0x3b1d1f,_0x4a4ce4){_0x3b1d1f=_0x3b1d1f-0x81;let _0x31fae1=_0x43129f[_0x3b1d1f];return _0x31fae1;},a3_0x4faf(_0x5b8ca8,_0x56d4cf);}function installPythonDependencies(_0x54c07b,_0x3b71f5){const _0x26b442=a3_0x21e429;if(_0x54c07b[_0x26b442(0x9f)])return;_0x54c07b[_0x26b442(0x9f)]=!![];const _0x2cf600=path[_0x26b442(0xb2)](ADAPTER_DIR,_0x26b442(0x82),_0x26b442(0x89));stopPythonService(_0x54c07b);if(fs['existsSync'](VENV_PATH)&&!fs[_0x26b442(0x96)](PIP_EXE)){_0x54c07b[_0x26b442(0x9a)]['warn']('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x26b442(0xa5)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x45fc6b){_0x54c07b[_0x26b442(0x9a)][_0x26b442(0x8d)](_0x26b442(0x86)+_0x45fc6b['message']);}}if(!fs[_0x26b442(0x96)](VENV_PATH))try{_0x54c07b[_0x26b442(0x9a)][_0x26b442(0xa2)]('Creating\x20new\x20VENV...'),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x156ba4){_0x54c07b[_0x26b442(0x9f)]=![];_0x156ba4['message'][_0x26b442(0x83)](_0x26b442(0x95))||_0x156ba4[_0x26b442(0x8f)][_0x26b442(0x83)](_0x26b442(0xa0))?(_0x54c07b[_0x26b442(0x9a)][_0x26b442(0x8d)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x54c07b['log']['error'](_0x26b442(0x85)+ADAPTER_DIR)):_0x54c07b['log'][_0x26b442(0x8d)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x156ba4[_0x26b442(0x8f)]+_0x26b442(0x93));return;}installRequirementsInVenv(_0x54c07b,_0x2cf600,_0x3b71f5);}function a3_0x31fa(){const _0x219ae4=['3720738gMQeBD','5qfkxdG','warn','log','child_process','apply','Scripts','‚úÖ\x20INSTALL\x20SUCCESS.','dependencyInstallInProgress','Permission\x20denied','python.exe','info','\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22','bin','rmSync','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','üêç\x20Checking\x20Python\x20environment...','platform','8121190zxSzgf','search','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','8172186KMJxuF','toString','3052WOnzgZ','5045LSYioX','pythonProcess','join','5929644WtYtAO','python_service','includes','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','Delete\x20failed:\x20','22950LqXdTv','1256GmSwKq','requirements.txt','pip.exe','.venv','pip','error','2961wyzNVk','message','72CegKcW','win32','kill','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','\x22\x20install\x20-r\x20\x22','EACCES','existsSync'];a3_0x31fa=function(){return _0x219ae4;};return a3_0x31fa();}function checkAndInstall(_0x4727c9,_0x3a3b00){const _0xf1d4ca=a3_0x21e429;if(fs[_0xf1d4ca(0x96)](PYTHON_EXE)&&fs[_0xf1d4ca(0x96)](PIP_EXE))try{return _0x4727c9[_0xf1d4ca(0x9a)]['info'](_0xf1d4ca(0xa8)),execSync('\x22'+PYTHON_EXE+_0xf1d4ca(0xa3),{'timeout':0x3a98}),_0x4727c9[_0xf1d4ca(0x9a)][_0xf1d4ca(0xa2)](_0xf1d4ca(0xa6)),_0x3a3b00&&_0x3a3b00(),!![];}catch(_0x5e3bfb){_0x4727c9[_0xf1d4ca(0x9a)][_0xf1d4ca(0x99)](_0xf1d4ca(0x84));}else _0x4727c9[_0xf1d4ca(0x9a)][_0xf1d4ca(0x99)](_0xf1d4ca(0xac));return installPythonDependencies(_0x4727c9,_0x3a3b00),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};