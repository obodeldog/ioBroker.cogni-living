const a0_0xdc7040=a0_0x1907;function a0_0x506a(){const _0x1c4fa0=['\x22\x20install\x20-r\x20\x22','warn','join','python_service','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','constructor','11bdEPpY','toString','30AVnIni','pythonProcess','845484GUAvEX','9zlgUPb','Scripts','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','python.exe','includes','3216AcGYUW','bin','28ZYdaIL','932740QXOcrT','platform','EACCES','error','‚ùå\x20INSTALL\x20FAILED:\x20','kill','existsSync','dependencyInstallInProgress','info','apply','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','41675EhYTLe','exports','‚úÖ\x20INSTALL\x20SUCCESS.','message','python','(((.+)+)+)+$','13nnfHgd','469LlKuwy','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','5657918NTDFQo','Delete\x20failed:\x20','rmSync','51774RehLFu','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','log','.venv','2abYnbR','pip.exe','üêç\x20Checking\x20Python\x20environment...','search','171733tqXScG','Installing\x20pip\x20packages...\x20(Caching\x20enabled)'];a0_0x506a=function(){return _0x1c4fa0;};return a0_0x506a();}(function(_0x512a4f,_0x45dd8f){const _0x4cf297=a0_0x1907,_0x3fa820=_0x512a4f();while(!![]){try{const _0x59ec53=parseInt(_0x4cf297(0x179))/0x1*(-parseInt(_0x4cf297(0x175))/0x2)+-parseInt(_0x4cf297(0x170))/0x3*(parseInt(_0x4cf297(0x158))/0x4)+-parseInt(_0x4cf297(0x164))/0x5*(-parseInt(_0x4cf297(0x183))/0x6)+parseInt(_0x4cf297(0x16b))/0x7*(-parseInt(_0x4cf297(0x18c))/0x8)+-parseInt(_0x4cf297(0x186))/0x9*(parseInt(_0x4cf297(0x159))/0xa)+parseInt(_0x4cf297(0x181))/0xb*(parseInt(_0x4cf297(0x185))/0xc)+-parseInt(_0x4cf297(0x16a))/0xd*(-parseInt(_0x4cf297(0x16d))/0xe);if(_0x59ec53===_0x45dd8f)break;else _0x3fa820['push'](_0x3fa820['shift']());}catch(_0x21f1f0){_0x3fa820['push'](_0x3fa820['shift']());}}}(a0_0x506a,0x19462));const a0_0x1f9d31=(function(){let _0x55f758=!![];return function(_0x168430,_0x26c07b){const _0xec75b4=_0x55f758?function(){const _0x2be94e=a0_0x1907;if(_0x26c07b){const _0x1cb220=_0x26c07b[_0x2be94e(0x162)](_0x168430,arguments);return _0x26c07b=null,_0x1cb220;}}:function(){};return _0x55f758=![],_0xec75b4;};}()),a0_0x2260a8=a0_0x1f9d31(this,function(){const _0x1f8973=a0_0x1907;return a0_0x2260a8[_0x1f8973(0x182)]()[_0x1f8973(0x178)]('(((.+)+)+)+$')[_0x1f8973(0x182)]()[_0x1f8973(0x180)](a0_0x2260a8)[_0x1f8973(0x178)](_0x1f8973(0x169));});a0_0x2260a8();'use strict';const {exec,execSync}=require('child_process'),path=require('path'),fs=require('fs'),IS_WIN=process[a0_0xdc7040(0x15a)]==='win32',ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a0_0xdc7040(0x17d)](ADAPTER_DIR,a0_0xdc7040(0x174)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,'Scripts',a0_0xdc7040(0x18a)):path[a0_0xdc7040(0x17d)](VENV_PATH,'bin',a0_0xdc7040(0x168)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a0_0xdc7040(0x187),a0_0xdc7040(0x176)):path['join'](VENV_PATH,a0_0xdc7040(0x157),'pip');function stopPythonService(_0x252f1e){const _0x5bdbca=a0_0xdc7040;if(_0x252f1e[_0x5bdbca(0x184)]){try{_0x252f1e[_0x5bdbca(0x184)][_0x5bdbca(0x15e)]();}catch(_0x3fd2e3){}_0x252f1e[_0x5bdbca(0x184)]=null;}}function installRequirementsInVenv(_0x380479,_0x20f534,_0x309ba9){const _0x5d3622=a0_0xdc7040;_0x380479[_0x5d3622(0x173)]['info'](_0x5d3622(0x17a));const _0x28c716='\x22'+PIP_EXE+_0x5d3622(0x17b)+_0x20f534+'\x22';exec(_0x28c716,{'timeout':0x1b7740},(_0xfbac7d,_0x2dc9b1,_0x311b00)=>{const _0x656d4d=_0x5d3622;_0x380479[_0x656d4d(0x160)]=![];if(_0xfbac7d){_0x380479['log']['error'](_0x656d4d(0x15d)+(_0x311b00||_0xfbac7d[_0x656d4d(0x167)]));try{fs[_0x656d4d(0x16f)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x595048){}}else _0x380479[_0x656d4d(0x173)][_0x656d4d(0x161)](_0x656d4d(0x166)),_0x309ba9&&_0x309ba9();});}function a0_0x1907(_0x184a0b,_0x162982){const _0x464ceb=a0_0x506a();return a0_0x1907=function(_0x2260a8,_0x1f9d31){_0x2260a8=_0x2260a8-0x157;let _0x506a0b=_0x464ceb[_0x2260a8];return _0x506a0b;},a0_0x1907(_0x184a0b,_0x162982);}function installPythonDependencies(_0x4c9a8b,_0x46396d){const _0x89e097=a0_0xdc7040;if(_0x4c9a8b[_0x89e097(0x160)])return;_0x4c9a8b['dependencyInstallInProgress']=!![];const _0x4c9839=path['join'](ADAPTER_DIR,_0x89e097(0x17e),'requirements.txt');stopPythonService(_0x4c9a8b);if(fs[_0x89e097(0x15f)](VENV_PATH)&&!fs[_0x89e097(0x15f)](PIP_EXE)){_0x4c9a8b[_0x89e097(0x173)][_0x89e097(0x17c)](_0x89e097(0x17f));try{fs[_0x89e097(0x16f)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x438091){_0x4c9a8b[_0x89e097(0x173)][_0x89e097(0x15c)](_0x89e097(0x16e)+_0x438091[_0x89e097(0x167)]);}}if(!fs[_0x89e097(0x15f)](VENV_PATH))try{_0x4c9a8b[_0x89e097(0x173)][_0x89e097(0x161)]('Creating\x20new\x20VENV...'),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x5bc4da){_0x4c9a8b[_0x89e097(0x160)]=![];_0x5bc4da['message'][_0x89e097(0x18b)](_0x89e097(0x15b))||_0x5bc4da['message'][_0x89e097(0x18b)]('Permission\x20denied')?(_0x4c9a8b['log'][_0x89e097(0x15c)](_0x89e097(0x189)),_0x4c9a8b['log'][_0x89e097(0x15c)](_0x89e097(0x163)+ADAPTER_DIR)):_0x4c9a8b[_0x89e097(0x173)][_0x89e097(0x15c)](_0x89e097(0x172)+_0x5bc4da['message']+_0x89e097(0x171));return;}installRequirementsInVenv(_0x4c9a8b,_0x4c9839,_0x46396d);}function checkAndInstall(_0x33b84d,_0x1868fc){const _0x104f41=a0_0xdc7040;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x104f41(0x15f)](PIP_EXE))try{return _0x33b84d[_0x104f41(0x173)]['info'](_0x104f41(0x177)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x33b84d['log']['info'](_0x104f41(0x188)),_0x1868fc&&_0x1868fc(),!![];}catch(_0x1d5cd8){_0x33b84d[_0x104f41(0x173)][_0x104f41(0x17c)](_0x104f41(0x16c));}else _0x33b84d[_0x104f41(0x173)][_0x104f41(0x17c)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x33b84d,_0x1868fc),![];}module[a0_0xdc7040(0x165)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};