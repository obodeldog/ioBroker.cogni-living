const a3_0x191290=a3_0x4f34;(function(_0x25457f,_0x2e80da){const _0x312a1e=a3_0x4f34,_0x2f73d6=_0x25457f();while(!![]){try{const _0x4e3812=-parseInt(_0x312a1e(0x176))/0x1+-parseInt(_0x312a1e(0x172))/0x2*(parseInt(_0x312a1e(0x168))/0x3)+parseInt(_0x312a1e(0x179))/0x4*(parseInt(_0x312a1e(0x171))/0x5)+parseInt(_0x312a1e(0x16c))/0x6+-parseInt(_0x312a1e(0x154))/0x7+parseInt(_0x312a1e(0x14f))/0x8*(-parseInt(_0x312a1e(0x177))/0x9)+parseInt(_0x312a1e(0x16e))/0xa;if(_0x4e3812===_0x2e80da)break;else _0x2f73d6['push'](_0x2f73d6['shift']());}catch(_0x3b3f29){_0x2f73d6['push'](_0x2f73d6['shift']());}}}(a3_0x33cf,0xea1c7));const a3_0x2119ea=(function(){let _0x55d43a=!![];return function(_0x3b6e7d,_0x251094){const _0x429b71=_0x55d43a?function(){const _0x39950e=a3_0x4f34;if(_0x251094){const _0x402a2b=_0x251094[_0x39950e(0x16f)](_0x3b6e7d,arguments);return _0x251094=null,_0x402a2b;}}:function(){};return _0x55d43a=![],_0x429b71;};}()),a3_0xf77e1f=a3_0x2119ea(this,function(){const _0x2b254f=a3_0x4f34;return a3_0xf77e1f[_0x2b254f(0x162)]()[_0x2b254f(0x15d)](_0x2b254f(0x14c))[_0x2b254f(0x162)]()['constructor'](a3_0xf77e1f)[_0x2b254f(0x15d)](_0x2b254f(0x14c));});a3_0xf77e1f();'use strict';const {exec,execSync}=require(a3_0x191290(0x174)),path=require(a3_0x191290(0x167)),fs=require('fs'),IS_WIN=process[a3_0x191290(0x166)]==='win32',ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a3_0x191290(0x15b)](ADAPTER_DIR,a3_0x191290(0x155)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,'Scripts',a3_0x191290(0x169)):path[a3_0x191290(0x15b)](VENV_PATH,a3_0x191290(0x16a),'python'),PIP_EXE=IS_WIN?path[a3_0x191290(0x15b)](VENV_PATH,'Scripts',a3_0x191290(0x14e)):path[a3_0x191290(0x15b)](VENV_PATH,a3_0x191290(0x16a),'pip');function stopPythonService(_0x2fe9dc){const _0x53c0a0=a3_0x191290;if(_0x2fe9dc[_0x53c0a0(0x173)]){try{_0x2fe9dc[_0x53c0a0(0x173)][_0x53c0a0(0x160)]();}catch(_0x44c100){}_0x2fe9dc[_0x53c0a0(0x173)]=null;}}function a3_0x4f34(_0xdf6cf2,_0x268638){const _0x322653=a3_0x33cf();return a3_0x4f34=function(_0xf77e1f,_0x2119ea){_0xf77e1f=_0xf77e1f-0x14c;let _0x33cf9c=_0x322653[_0xf77e1f];return _0x33cf9c;},a3_0x4f34(_0xdf6cf2,_0x268638);}function a3_0x33cf(){const _0x119d9b=['pip.exe','1960RrmKcJ','log','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','includes','python_service','11023404eYfGUQ','.venv','requirements.txt','dependencyInstallInProgress','existsSync','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','warn','join','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','search','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','kill','message','toString','Permission\x20denied','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','error','platform','path','33JiLxHW','python.exe','bin','info','6140796oaJxaX','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','24874560ovvfDH','apply','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','5298115ctfYOg','38134GgrSbB','pythonProcess','child_process','python3\x20-m\x20venv\x20\x22','1780322wCKmeh','1719uyqqjG','rmSync','4DxvaKj','(((.+)+)+)+$','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'];a3_0x33cf=function(){return _0x119d9b;};return a3_0x33cf();}function installRequirementsInVenv(_0x38aeb5,_0x1f774a,_0x9d669d){const _0x5b6332=a3_0x191290;_0x38aeb5[_0x5b6332(0x150)]['info'](_0x5b6332(0x159));const _0x2f442f='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x1f774a+'\x22';exec(_0x2f442f,{'timeout':0x1b7740},(_0x3189b0,_0x4c2b80,_0x4317e1)=>{const _0x1fbae0=_0x5b6332;_0x38aeb5[_0x1fbae0(0x157)]=![];if(_0x3189b0){_0x38aeb5[_0x1fbae0(0x150)][_0x1fbae0(0x165)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x4317e1||_0x3189b0[_0x1fbae0(0x161)]));try{fs[_0x1fbae0(0x178)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4d5436){}}else _0x38aeb5['log'][_0x1fbae0(0x16b)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x9d669d&&_0x9d669d();});}function installPythonDependencies(_0x27e778,_0xa2930e){const _0x5d368f=a3_0x191290;if(_0x27e778['dependencyInstallInProgress'])return;_0x27e778[_0x5d368f(0x157)]=!![];const _0x4b876f=path[_0x5d368f(0x15b)](ADAPTER_DIR,_0x5d368f(0x153),_0x5d368f(0x156));stopPythonService(_0x27e778);if(fs['existsSync'](VENV_PATH)&&!fs[_0x5d368f(0x158)](PIP_EXE)){_0x27e778[_0x5d368f(0x150)][_0x5d368f(0x15a)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x5d368f(0x178)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x9c4f57){_0x27e778[_0x5d368f(0x150)][_0x5d368f(0x165)]('Delete\x20failed:\x20'+_0x9c4f57[_0x5d368f(0x161)]);}}if(!fs[_0x5d368f(0x158)](VENV_PATH))try{_0x27e778['log'][_0x5d368f(0x16b)]('Creating\x20new\x20VENV...'),execSync(_0x5d368f(0x175)+VENV_PATH+'\x22');}catch(_0x23b7af){_0x27e778['dependencyInstallInProgress']=![];_0x23b7af[_0x5d368f(0x161)]['includes']('EACCES')||_0x23b7af[_0x5d368f(0x161)][_0x5d368f(0x152)](_0x5d368f(0x163))?(_0x27e778[_0x5d368f(0x150)][_0x5d368f(0x165)](_0x5d368f(0x14d)),_0x27e778[_0x5d368f(0x150)][_0x5d368f(0x165)](_0x5d368f(0x164)+ADAPTER_DIR)):_0x27e778[_0x5d368f(0x150)][_0x5d368f(0x165)](_0x5d368f(0x15f)+_0x23b7af[_0x5d368f(0x161)]+_0x5d368f(0x151));return;}installRequirementsInVenv(_0x27e778,_0x4b876f,_0xa2930e);}function checkAndInstall(_0x23954b,_0x41e024){const _0x2feae2=a3_0x191290;if(fs[_0x2feae2(0x158)](PYTHON_EXE)&&fs[_0x2feae2(0x158)](PIP_EXE))try{return _0x23954b['log'][_0x2feae2(0x16b)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+_0x2feae2(0x15e),{'timeout':0x3a98}),_0x23954b[_0x2feae2(0x150)][_0x2feae2(0x16b)](_0x2feae2(0x170)),_0x41e024&&_0x41e024(),!![];}catch(_0x337edc){_0x23954b[_0x2feae2(0x150)][_0x2feae2(0x15a)](_0x2feae2(0x16d));}else _0x23954b[_0x2feae2(0x150)][_0x2feae2(0x15a)](_0x2feae2(0x15c));return installPythonDependencies(_0x23954b,_0x41e024),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};