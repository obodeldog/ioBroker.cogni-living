const a3_0x1311dd=a3_0x4036;(function(_0x1901c4,_0x51ef78){const _0x368cae=a3_0x4036,_0x251ca6=_0x1901c4();while(!![]){try{const _0xefa691=parseInt(_0x368cae(0x116))/0x1*(-parseInt(_0x368cae(0x118))/0x2)+parseInt(_0x368cae(0x111))/0x3*(-parseInt(_0x368cae(0x10d))/0x4)+parseInt(_0x368cae(0x115))/0x5*(parseInt(_0x368cae(0x114))/0x6)+-parseInt(_0x368cae(0xf4))/0x7+parseInt(_0x368cae(0x106))/0x8+parseInt(_0x368cae(0x11b))/0x9*(-parseInt(_0x368cae(0x100))/0xa)+parseInt(_0x368cae(0x101))/0xb*(parseInt(_0x368cae(0xf9))/0xc);if(_0xefa691===_0x51ef78)break;else _0x251ca6['push'](_0x251ca6['shift']());}catch(_0x2f2528){_0x251ca6['push'](_0x251ca6['shift']());}}}(a3_0x4833,0xca631));function a3_0x4036(_0x6d6a1b,_0x3f0639){const _0x36ff7c=a3_0x4833();return a3_0x4036=function(_0x388078,_0x311fe4){_0x388078=_0x388078-0xf1;let _0x483304=_0x36ff7c[_0x388078];return _0x483304;},a3_0x4036(_0x6d6a1b,_0x3f0639);}const a3_0x311fe4=(function(){let _0x17110b=!![];return function(_0x4ac1e2,_0x1ac3b1){const _0x284e65=_0x17110b?function(){if(_0x1ac3b1){const _0x14d658=_0x1ac3b1['apply'](_0x4ac1e2,arguments);return _0x1ac3b1=null,_0x14d658;}}:function(){};return _0x17110b=![],_0x284e65;};}()),a3_0x388078=a3_0x311fe4(this,function(){const _0x30b283=a3_0x4036;return a3_0x388078[_0x30b283(0x122)]()[_0x30b283(0xf7)](_0x30b283(0x105))[_0x30b283(0x122)]()[_0x30b283(0x10c)](a3_0x388078)[_0x30b283(0xf7)]('(((.+)+)+)+$');});a3_0x388078();'use strict';const {exec,execSync}=require(a3_0x1311dd(0x121)),path=require(a3_0x1311dd(0xfe)),fs=require('fs'),IS_WIN=process['platform']==='win32',ADAPTER_DIR=path[a3_0x1311dd(0x11d)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,a3_0x1311dd(0x102)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x1311dd(0x11d)](VENV_PATH,a3_0x1311dd(0x108),a3_0x1311dd(0x10e)):path['join'](VENV_PATH,a3_0x1311dd(0x109),'python'),PIP_EXE=IS_WIN?path[a3_0x1311dd(0x11d)](VENV_PATH,a3_0x1311dd(0x108),'pip.exe'):path['join'](VENV_PATH,a3_0x1311dd(0x109),'pip');function stopPythonService(_0x46e71c){const _0x2e828d=a3_0x1311dd;if(_0x46e71c[_0x2e828d(0x120)]){try{_0x46e71c[_0x2e828d(0x120)]['kill']();}catch(_0x176651){}_0x46e71c[_0x2e828d(0x120)]=null;}}function installRequirementsInVenv(_0x58b3ce,_0x1afde0,_0x430019){const _0x4f7bcc=a3_0x1311dd;_0x58b3ce['log']['info'](_0x4f7bcc(0x11c));const _0x1b0dab='\x22'+PIP_EXE+_0x4f7bcc(0x112)+PIP_EXE+_0x4f7bcc(0x123)+PIP_EXE+_0x4f7bcc(0x117)+_0x1afde0+_0x4f7bcc(0x124);exec(_0x1b0dab,{'timeout':0x1b7740},(_0x3cb329,_0xd553a8,_0x493ab4)=>{const _0x5ec489=_0x4f7bcc;_0x58b3ce[_0x5ec489(0x125)]=![];if(_0x3cb329){_0x58b3ce[_0x5ec489(0x104)][_0x5ec489(0xf3)](_0x5ec489(0x11a)+(_0x493ab4||_0x3cb329[_0x5ec489(0xfd)]));try{fs[_0x5ec489(0xf2)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x37a4b8){}}else _0x58b3ce['log'][_0x5ec489(0x119)](_0x5ec489(0x103)),_0x430019&&_0x430019();});}function installPythonDependencies(_0x245378,_0x73cca){const _0x2d9cb5=a3_0x1311dd;if(_0x245378['dependencyInstallInProgress'])return;_0x245378[_0x2d9cb5(0x125)]=!![];const _0x220807=path['join'](ADAPTER_DIR,'python_service','requirements.txt');stopPythonService(_0x245378);if(fs[_0x2d9cb5(0xfc)](VENV_PATH)&&!fs[_0x2d9cb5(0xfc)](PIP_EXE)){_0x245378[_0x2d9cb5(0x104)][_0x2d9cb5(0xf8)](_0x2d9cb5(0xf6));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x140223){_0x245378['log'][_0x2d9cb5(0xf3)](_0x2d9cb5(0xf5)+_0x140223['message']);}}if(!fs[_0x2d9cb5(0xfc)](VENV_PATH))try{_0x245378[_0x2d9cb5(0x104)][_0x2d9cb5(0x119)]('Creating\x20new\x20VENV...');if(fs[_0x2d9cb5(0xfc)](VENV_PATH))fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});execSync(_0x2d9cb5(0x11e)+VENV_PATH+'\x22');}catch(_0x194a64){_0x245378['dependencyInstallInProgress']=![];if(_0x194a64[_0x2d9cb5(0xfd)][_0x2d9cb5(0xff)]('EACCES')||_0x194a64[_0x2d9cb5(0xfd)][_0x2d9cb5(0xff)](_0x2d9cb5(0x10b)))_0x245378['log'][_0x2d9cb5(0xf3)](_0x2d9cb5(0x11f)),_0x245378[_0x2d9cb5(0x104)]['error'](_0x2d9cb5(0xf1)+ADAPTER_DIR);else _0x194a64[_0x2d9cb5(0xfd)][_0x2d9cb5(0xff)](_0x2d9cb5(0x10f))?_0x245378['log'][_0x2d9cb5(0xf3)]('üõë\x20DISK\x20FULL:\x20Kein\x20Speicherplatz\x20f√ºr\x20VENV.'):_0x245378['log'][_0x2d9cb5(0xf3)](_0x2d9cb5(0x10a)+_0x194a64[_0x2d9cb5(0xfd)]+_0x2d9cb5(0xfa));return;}installRequirementsInVenv(_0x245378,_0x220807,_0x73cca);}function a3_0x4833(){const _0x3cf881=['search','warn','43080plZVXY','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','existsSync','message','path','includes','5360870stlmft','3707XnFJfL','.venv','‚úÖ\x20INSTALL\x20SUCCESS.','log','(((.+)+)+)+$','8622464yIbltj','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','Scripts','bin','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','Permission\x20denied','constructor','1412kyEPBI','python.exe','No\x20space\x20left\x20on\x20device','exports','1731nqNlOr','\x22\x20install\x20--upgrade\x20pip\x20setuptools\x20wheel\x20--no-cache-dir\x20&&\x20\x22','üêç\x20Checking\x20Python\x20environment...','258aWcvCl','34995CXXIGa','588bmfLZZ','\x22\x20install\x20-r\x20\x22','20AoZVhx','info','‚ùå\x20INSTALL\x20FAILED:\x20','18hXhATy','Installing\x20pip\x20packages...\x20(Low-Memory\x20Mode\x20enabled)','join','python3\x20-m\x20venv\x20\x22','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','pythonProcess','child_process','toString','\x22\x20install\x20cython\x20--no-cache-dir\x20&&\x20\x22','\x22\x20--no-cache-dir','dependencyInstallInProgress','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','rmSync','error','3345181unNOJa','Delete\x20failed:\x20','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...'];a3_0x4833=function(){return _0x3cf881;};return a3_0x4833();}function checkAndInstall(_0x3fda9d,_0x1e49e){const _0x2e2b05=a3_0x1311dd;if(fs[_0x2e2b05(0xfc)](PYTHON_EXE)&&fs[_0x2e2b05(0xfc)](PIP_EXE))try{return _0x3fda9d[_0x2e2b05(0x104)][_0x2e2b05(0x119)](_0x2e2b05(0x113)),execSync('\x22'+PYTHON_EXE+_0x2e2b05(0xfb),{'timeout':0x3a98}),_0x3fda9d[_0x2e2b05(0x104)]['info']('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x1e49e&&_0x1e49e(),!![];}catch(_0x56b03f){_0x3fda9d[_0x2e2b05(0x104)]['warn'](_0x2e2b05(0x107));}else _0x3fda9d['log'][_0x2e2b05(0xf8)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x3fda9d,_0x1e49e),![];}module[a3_0x1311dd(0x110)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};