const a2_0x21d455=a2_0x53dd;function a2_0x5719(){const _0x1c53a9=['pythonProcess','üêç\x20Checking\x20Python\x20environment...','‚ùå\x20INSTALL\x20FAILED:\x20','toString','error','6mzueDO','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','5194714OdxvGv','path','1645227cNreUx','apply','\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22','platform','8bkjrKn','child_process','310AnSdOF','message','1319404WQZWjM','join','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','9DuIqTm','kill','constructor','Delete\x20failed:\x20','24RcJJgE','bin','log','.venv','python3\x20-m\x20venv\x20\x22','win32','235uemgNH','163969JxVdog','38010uVqqPR','EACCES','276815iEjsTV','exports','pip','dependencyInstallInProgress','(((.+)+)+)+$','existsSync','python.exe','python_service','requirements.txt','14089907OVftRx','info','Scripts','rmSync','Permission\x20denied','warn','search','includes','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'];a2_0x5719=function(){return _0x1c53a9;};return a2_0x5719();}(function(_0x496b60,_0x3b3ed7){const _0x2a79ed=a2_0x53dd,_0x175cbb=_0x496b60();while(!![]){try{const _0x10d873=parseInt(_0x2a79ed(0xb1))/0x1*(parseInt(_0x2a79ed(0xcc))/0x2)+-parseInt(_0x2a79ed(0xa6))/0x3*(parseInt(_0x2a79ed(0xd8))/0x4)+parseInt(_0x2a79ed(0xb0))/0x5*(parseInt(_0x2a79ed(0xb2))/0x6)+-parseInt(_0x2a79ed(0xce))/0x7+parseInt(_0x2a79ed(0xd4))/0x8*(parseInt(_0x2a79ed(0xd0))/0x9)+parseInt(_0x2a79ed(0xd6))/0xa*(-parseInt(_0x2a79ed(0xb4))/0xb)+-parseInt(_0x2a79ed(0xaa))/0xc*(-parseInt(_0x2a79ed(0xbd))/0xd);if(_0x10d873===_0x3b3ed7)break;else _0x175cbb['push'](_0x175cbb['shift']());}catch(_0x6c510c){_0x175cbb['push'](_0x175cbb['shift']());}}}(a2_0x5719,0x9968b));const a2_0x2c1c9c=(function(){let _0x170aca=!![];return function(_0x307f90,_0x4ca7ea){const _0x5be558=_0x170aca?function(){const _0x4067bf=a2_0x53dd;if(_0x4ca7ea){const _0x3acc98=_0x4ca7ea[_0x4067bf(0xd1)](_0x307f90,arguments);return _0x4ca7ea=null,_0x3acc98;}}:function(){};return _0x170aca=![],_0x5be558;};}()),a2_0x4a67a9=a2_0x2c1c9c(this,function(){const _0x4bc162=a2_0x53dd;return a2_0x4a67a9['toString']()[_0x4bc162(0xc3)](_0x4bc162(0xb8))[_0x4bc162(0xca)]()[_0x4bc162(0xa8)](a2_0x4a67a9)[_0x4bc162(0xc3)](_0x4bc162(0xb8));});a2_0x4a67a9();'use strict';const {exec,execSync}=require(a2_0x21d455(0xd5)),path=require(a2_0x21d455(0xcf)),fs=require('fs'),IS_WIN=process[a2_0x21d455(0xd3)]===a2_0x21d455(0xaf),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path[a2_0x21d455(0xa4)](ADAPTER_DIR,a2_0x21d455(0xad)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,a2_0x21d455(0xbf),a2_0x21d455(0xba)):path['join'](VENV_PATH,a2_0x21d455(0xab),'python'),PIP_EXE=IS_WIN?path[a2_0x21d455(0xa4)](VENV_PATH,'Scripts','pip.exe'):path[a2_0x21d455(0xa4)](VENV_PATH,a2_0x21d455(0xab),a2_0x21d455(0xb6));function a2_0x53dd(_0x52a1d5,_0x1b4fba){const _0x113798=a2_0x5719();return a2_0x53dd=function(_0x4a67a9,_0x2c1c9c){_0x4a67a9=_0x4a67a9-0xa4;let _0x571990=_0x113798[_0x4a67a9];return _0x571990;},a2_0x53dd(_0x52a1d5,_0x1b4fba);}function stopPythonService(_0x2a8071){const _0x22df49=a2_0x21d455;if(_0x2a8071[_0x22df49(0xc7)]){try{_0x2a8071[_0x22df49(0xc7)][_0x22df49(0xa7)]();}catch(_0x5245c7){}_0x2a8071[_0x22df49(0xc7)]=null;}}function installRequirementsInVenv(_0x1066f3,_0x470b19,_0x3f2f9c){const _0x207e33=a2_0x21d455;_0x1066f3[_0x207e33(0xac)][_0x207e33(0xbe)]('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0x3c2ba0='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x470b19+'\x22';exec(_0x3c2ba0,{'timeout':0x1b7740},(_0x298ce5,_0x4dea1e,_0x3ae4db)=>{const _0xabe90b=_0x207e33;_0x1066f3[_0xabe90b(0xb7)]=![];if(_0x298ce5){_0x1066f3['log'][_0xabe90b(0xcb)](_0xabe90b(0xc9)+(_0x3ae4db||_0x298ce5[_0xabe90b(0xd7)]));try{fs[_0xabe90b(0xc0)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x670dc6){}}else _0x1066f3[_0xabe90b(0xac)][_0xabe90b(0xbe)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x3f2f9c&&_0x3f2f9c();});}function installPythonDependencies(_0x50dce1,_0x24a027){const _0x377882=a2_0x21d455;if(_0x50dce1[_0x377882(0xb7)])return;_0x50dce1[_0x377882(0xb7)]=!![];const _0x1670e2=path[_0x377882(0xa4)](ADAPTER_DIR,_0x377882(0xbb),_0x377882(0xbc));stopPythonService(_0x50dce1);if(fs[_0x377882(0xb9)](VENV_PATH)&&!fs[_0x377882(0xb9)](PIP_EXE)){_0x50dce1[_0x377882(0xac)]['warn'](_0x377882(0xa5));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x3bd87a){_0x50dce1['log'][_0x377882(0xcb)](_0x377882(0xa9)+_0x3bd87a[_0x377882(0xd7)]);}}if(!fs[_0x377882(0xb9)](VENV_PATH))try{_0x50dce1[_0x377882(0xac)][_0x377882(0xbe)]('Creating\x20new\x20VENV...'),execSync(_0x377882(0xae)+VENV_PATH+'\x22');}catch(_0x10035f){_0x50dce1[_0x377882(0xb7)]=![];_0x10035f[_0x377882(0xd7)][_0x377882(0xc4)](_0x377882(0xb3))||_0x10035f[_0x377882(0xd7)][_0x377882(0xc4)](_0x377882(0xc1))?(_0x50dce1[_0x377882(0xac)][_0x377882(0xcb)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x50dce1['log'][_0x377882(0xcb)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x50dce1['log'][_0x377882(0xcb)](_0x377882(0xc6)+_0x10035f[_0x377882(0xd7)]+_0x377882(0xc5));return;}installRequirementsInVenv(_0x50dce1,_0x1670e2,_0x24a027);}function checkAndInstall(_0x272121,_0x30b2b9){const _0x26da19=a2_0x21d455;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x26da19(0xb9)](PIP_EXE))try{return _0x272121[_0x26da19(0xac)][_0x26da19(0xbe)](_0x26da19(0xc8)),execSync('\x22'+PYTHON_EXE+_0x26da19(0xd2),{'timeout':0x3a98}),_0x272121['log'][_0x26da19(0xbe)](_0x26da19(0xcd)),_0x30b2b9&&_0x30b2b9(),!![];}catch(_0x57ceb5){_0x272121['log'][_0x26da19(0xc2)]('‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...');}else _0x272121[_0x26da19(0xac)][_0x26da19(0xc2)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x272121,_0x30b2b9),![];}module[a2_0x21d455(0xb5)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};