const a3_0x3221ad=a3_0x38f4;(function(_0x54ccca,_0x3ae8da){const _0x3685b3=a3_0x38f4,_0x58a1f0=_0x54ccca();while(!![]){try{const _0x5d6566=parseInt(_0x3685b3(0x115))/0x1+parseInt(_0x3685b3(0x10e))/0x2*(-parseInt(_0x3685b3(0xf5))/0x3)+parseInt(_0x3685b3(0xfa))/0x4*(-parseInt(_0x3685b3(0x10f))/0x5)+parseInt(_0x3685b3(0x114))/0x6*(parseInt(_0x3685b3(0xec))/0x7)+-parseInt(_0x3685b3(0x10c))/0x8*(parseInt(_0x3685b3(0xf7))/0x9)+-parseInt(_0x3685b3(0x110))/0xa+parseInt(_0x3685b3(0x117))/0xb*(parseInt(_0x3685b3(0xed))/0xc);if(_0x5d6566===_0x3ae8da)break;else _0x58a1f0['push'](_0x58a1f0['shift']());}catch(_0x3e3438){_0x58a1f0['push'](_0x58a1f0['shift']());}}}(a3_0x3d99,0x213b1));const a3_0x4773f1=(function(){let _0x526700=!![];return function(_0x4a1777,_0x1f8dc9){const _0x1d6e30=_0x526700?function(){if(_0x1f8dc9){const _0x59b350=_0x1f8dc9['apply'](_0x4a1777,arguments);return _0x1f8dc9=null,_0x59b350;}}:function(){};return _0x526700=![],_0x1d6e30;};}()),a3_0x1898b3=a3_0x4773f1(this,function(){const _0xaf0ae1=a3_0x38f4;return a3_0x1898b3[_0xaf0ae1(0xf0)]()[_0xaf0ae1(0xff)](_0xaf0ae1(0xee))[_0xaf0ae1(0xf0)]()[_0xaf0ae1(0xe9)](a3_0x1898b3)[_0xaf0ae1(0xff)](_0xaf0ae1(0xee));});a3_0x1898b3();'use strict';const {exec,execSync}=require(a3_0x3221ad(0xfc)),path=require(a3_0x3221ad(0x11a)),fs=require('fs'),IS_WIN=process[a3_0x3221ad(0xfd)]==='win32',ADAPTER_DIR=path[a3_0x3221ad(0xf6)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x3221ad(0xf6)](ADAPTER_DIR,a3_0x3221ad(0x102)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x3221ad(0xf6)](VENV_PATH,a3_0x3221ad(0xf9),a3_0x3221ad(0x119)):path['join'](VENV_PATH,a3_0x3221ad(0x107),a3_0x3221ad(0x111)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x3221ad(0xf9),'pip.exe'):path[a3_0x3221ad(0xf6)](VENV_PATH,a3_0x3221ad(0x107),a3_0x3221ad(0xea));function a3_0x38f4(_0x3a5ee3,_0x35d719){const _0x302157=a3_0x3d99();return a3_0x38f4=function(_0x1898b3,_0x4773f1){_0x1898b3=_0x1898b3-0xe8;let _0x3d9998=_0x302157[_0x1898b3];return _0x3d9998;},a3_0x38f4(_0x3a5ee3,_0x35d719);}function stopPythonService(_0x71bd00){const _0x48c23c=a3_0x3221ad;if(_0x71bd00[_0x48c23c(0x109)]){try{_0x71bd00[_0x48c23c(0x109)][_0x48c23c(0x104)]();}catch(_0x10170b){}_0x71bd00[_0x48c23c(0x109)]=null;}}function installRequirementsInVenv(_0x227c8f,_0x1ea2ee,_0x38953f){const _0x552f77=a3_0x3221ad;_0x227c8f[_0x552f77(0x118)]['info'](_0x552f77(0x10a));const _0x423a8b='\x22'+PIP_EXE+_0x552f77(0xf1)+_0x1ea2ee+'\x22';exec(_0x423a8b,{'timeout':0x1b7740},(_0x53a7d4,_0x103591,_0x611f70)=>{const _0x559cee=_0x552f77;_0x227c8f[_0x559cee(0xfe)]=![];if(_0x53a7d4){_0x227c8f['log'][_0x559cee(0x113)](_0x559cee(0x112)+(_0x611f70||_0x53a7d4[_0x559cee(0x10b)]));try{fs[_0x559cee(0xeb)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x28e400){}}else _0x227c8f[_0x559cee(0x118)][_0x559cee(0x11c)]('‚úÖ\x20INSTALL\x20SUCCESS.'),_0x38953f&&_0x38953f();});}function a3_0x3d99(){const _0x56b304=['exports','toString','\x22\x20install\x20-r\x20\x22','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','Permission\x20denied','4905RQkRnY','join','47853neLGJn','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','Scripts','48BTnFmo','existsSync','child_process','platform','dependencyInstallInProgress','search','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','includes','.venv','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','kill','EACCES','python3\x20-m\x20venv\x20\x22','bin','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','pythonProcess','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','message','152DCRGql','üêç\x20Checking\x20Python\x20environment...','166LFeVhI','74020SUQLYz','71870lCGFWS','python','‚ùå\x20INSTALL\x20FAILED:\x20','error','6qVdsur','83938kJoqTj','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','33NPrqbw','log','python.exe','path','warn','info','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','constructor','pip','rmSync','456113fYHOpI','1634316oRXPAb','(((.+)+)+)+$'];a3_0x3d99=function(){return _0x56b304;};return a3_0x3d99();}function installPythonDependencies(_0x477497,_0x58a562){const _0x4e671b=a3_0x3221ad;if(_0x477497[_0x4e671b(0xfe)])return;_0x477497[_0x4e671b(0xfe)]=!![];const _0xb4d28d=path[_0x4e671b(0xf6)](ADAPTER_DIR,'python_service','requirements.txt');stopPythonService(_0x477497);if(fs[_0x4e671b(0xfb)](VENV_PATH)&&!fs[_0x4e671b(0xfb)](PIP_EXE)){_0x477497[_0x4e671b(0x118)][_0x4e671b(0x11b)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x4e671b(0xeb)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x3c8eec){_0x477497['log'][_0x4e671b(0x113)]('Delete\x20failed:\x20'+_0x3c8eec[_0x4e671b(0x10b)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x477497[_0x4e671b(0x118)][_0x4e671b(0x11c)]('Creating\x20new\x20VENV...'),execSync(_0x4e671b(0x106)+VENV_PATH+'\x22');}catch(_0x2bec32){_0x477497[_0x4e671b(0xfe)]=![];_0x2bec32[_0x4e671b(0x10b)][_0x4e671b(0x101)](_0x4e671b(0x105))||_0x2bec32[_0x4e671b(0x10b)][_0x4e671b(0x101)](_0x4e671b(0xf4))?(_0x477497['log']['error'](_0x4e671b(0xf3)),_0x477497[_0x4e671b(0x118)][_0x4e671b(0x113)](_0x4e671b(0x108)+ADAPTER_DIR)):_0x477497[_0x4e671b(0x118)][_0x4e671b(0x113)](_0x4e671b(0x103)+_0x2bec32[_0x4e671b(0x10b)]+_0x4e671b(0xf8));return;}installRequirementsInVenv(_0x477497,_0xb4d28d,_0x58a562);}function checkAndInstall(_0x5f377b,_0x566eff){const _0x3f5aec=a3_0x3221ad;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x3f5aec(0xfb)](PIP_EXE))try{return _0x5f377b[_0x3f5aec(0x118)][_0x3f5aec(0x11c)](_0x3f5aec(0x10d)),execSync('\x22'+PYTHON_EXE+_0x3f5aec(0xf2),{'timeout':0x3a98}),_0x5f377b[_0x3f5aec(0x118)][_0x3f5aec(0x11c)](_0x3f5aec(0x100)),_0x566eff&&_0x566eff(),!![];}catch(_0x203ddc){_0x5f377b[_0x3f5aec(0x118)][_0x3f5aec(0x11b)](_0x3f5aec(0x116));}else _0x5f377b['log'][_0x3f5aec(0x11b)](_0x3f5aec(0xe8));return installPythonDependencies(_0x5f377b,_0x566eff),![];}module[a3_0x3221ad(0xef)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};