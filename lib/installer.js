const a3_0x2f980c=a3_0x4722;(function(_0x49c081,_0xe40903){const _0x199ef0=a3_0x4722,_0x3d1c14=_0x49c081();while(!![]){try{const _0x5c3747=-parseInt(_0x199ef0(0xa0))/0x1*(parseInt(_0x199ef0(0xa9))/0x2)+-parseInt(_0x199ef0(0xb7))/0x3+-parseInt(_0x199ef0(0xa3))/0x4+parseInt(_0x199ef0(0x9e))/0x5*(parseInt(_0x199ef0(0xb6))/0x6)+-parseInt(_0x199ef0(0x96))/0x7+-parseInt(_0x199ef0(0xae))/0x8*(parseInt(_0x199ef0(0xaa))/0x9)+-parseInt(_0x199ef0(0x93))/0xa*(-parseInt(_0x199ef0(0x8e))/0xb);if(_0x5c3747===_0xe40903)break;else _0x3d1c14['push'](_0x3d1c14['shift']());}catch(_0x2240ac){_0x3d1c14['push'](_0x3d1c14['shift']());}}}(a3_0xe872,0x78494));function a3_0xe872(){const _0x3cb653=['error','EACCES','info','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','16667970NEofsT','üêç\x20Checking\x20Python\x20environment...','message','2249184vbFtcQ','bin','\x22\x20install\x20-r\x20\x22','search','platform','constructor','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','win32','5CmhHmq','pip.exe','10SnQlIV','child_process','dependencyInstallInProgress','658748cmxxQX','Permission\x20denied','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','rmSync','pythonProcess','join','12kqlNlx','370368EzMRYU','includes','requirements.txt','existsSync','48IkKJcF','toString','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','path','python.exe','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','Delete\x20failed:\x20','Scripts','2709618vantXu','2678211fIcRMp','‚ùå\x20INSTALL\x20FAILED:\x20','.venv','apply','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','‚úÖ\x20INSTALL\x20SUCCESS.','warn','(((.+)+)+)+$','log','kill','python','11WdYVTO'];a3_0xe872=function(){return _0x3cb653;};return a3_0xe872();}const a3_0x2e70d2=(function(){let _0x3035d9=!![];return function(_0x458cfe,_0x574782){const _0x1be610=_0x3035d9?function(){const _0x1b491a=a3_0x4722;if(_0x574782){const _0x26ba71=_0x574782[_0x1b491a(0xba)](_0x458cfe,arguments);return _0x574782=null,_0x26ba71;}}:function(){};return _0x3035d9=![],_0x1be610;};}()),a3_0x360b12=a3_0x2e70d2(this,function(){const _0x2e971b=a3_0x4722;return a3_0x360b12[_0x2e971b(0xaf)]()[_0x2e971b(0x99)](_0x2e971b(0xbe))[_0x2e971b(0xaf)]()[_0x2e971b(0x9b)](a3_0x360b12)[_0x2e971b(0x99)]('(((.+)+)+)+$');});a3_0x360b12();'use strict';const {exec,execSync}=require(a3_0x2f980c(0xa1)),path=require(a3_0x2f980c(0xb1)),fs=require('fs'),IS_WIN=process[a3_0x2f980c(0x9a)]===a3_0x2f980c(0x9d),ADAPTER_DIR=path[a3_0x2f980c(0xa8)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,a3_0x2f980c(0xb9)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x2f980c(0xa8)](VENV_PATH,a3_0x2f980c(0xb5),a3_0x2f980c(0xb2)):path[a3_0x2f980c(0xa8)](VENV_PATH,a3_0x2f980c(0x97),a3_0x2f980c(0x8d)),PIP_EXE=IS_WIN?path[a3_0x2f980c(0xa8)](VENV_PATH,'Scripts',a3_0x2f980c(0x9f)):path[a3_0x2f980c(0xa8)](VENV_PATH,'bin','pip');function a3_0x4722(_0x3e27e9,_0x3b2f58){const _0xbfbc56=a3_0xe872();return a3_0x4722=function(_0x360b12,_0x2e70d2){_0x360b12=_0x360b12-0x8b;let _0xe87273=_0xbfbc56[_0x360b12];return _0xe87273;},a3_0x4722(_0x3e27e9,_0x3b2f58);}function stopPythonService(_0x1e2b59){const _0x3fa829=a3_0x2f980c;if(_0x1e2b59[_0x3fa829(0xa7)]){try{_0x1e2b59[_0x3fa829(0xa7)][_0x3fa829(0x8c)]();}catch(_0x13b54a){}_0x1e2b59[_0x3fa829(0xa7)]=null;}}function installRequirementsInVenv(_0x1580ba,_0x290766,_0x17ad8d){const _0x346b7b=a3_0x2f980c;_0x1580ba['log'][_0x346b7b(0x91)](_0x346b7b(0xa5));const _0x4f11a1='\x22'+PIP_EXE+_0x346b7b(0x98)+_0x290766+'\x22';exec(_0x4f11a1,{'timeout':0x1b7740},(_0x33c07b,_0x2ea6fc,_0x11281d)=>{const _0x3ea4c7=_0x346b7b;_0x1580ba['dependencyInstallInProgress']=![];if(_0x33c07b){_0x1580ba['log'][_0x3ea4c7(0x8f)](_0x3ea4c7(0xb8)+(_0x11281d||_0x33c07b['message']));try{fs[_0x3ea4c7(0xa6)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x2e1346){}}else _0x1580ba[_0x3ea4c7(0x8b)][_0x3ea4c7(0x91)](_0x3ea4c7(0xbc)),_0x17ad8d&&_0x17ad8d();});}function installPythonDependencies(_0xda6709,_0x1b0518){const _0x4c58a7=a3_0x2f980c;if(_0xda6709[_0x4c58a7(0xa2)])return;_0xda6709['dependencyInstallInProgress']=!![];const _0x1a53bc=path[_0x4c58a7(0xa8)](ADAPTER_DIR,'python_service',_0x4c58a7(0xac));stopPythonService(_0xda6709);if(fs['existsSync'](VENV_PATH)&&!fs[_0x4c58a7(0xad)](PIP_EXE)){_0xda6709[_0x4c58a7(0x8b)]['warn'](_0x4c58a7(0x9c));try{fs[_0x4c58a7(0xa6)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x449c02){_0xda6709[_0x4c58a7(0x8b)][_0x4c58a7(0x8f)](_0x4c58a7(0xb4)+_0x449c02[_0x4c58a7(0x95)]);}}if(!fs[_0x4c58a7(0xad)](VENV_PATH))try{_0xda6709[_0x4c58a7(0x8b)]['info']('Creating\x20new\x20VENV...'),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x394ba2){_0xda6709[_0x4c58a7(0xa2)]=![];_0x394ba2[_0x4c58a7(0x95)]['includes'](_0x4c58a7(0x90))||_0x394ba2[_0x4c58a7(0x95)][_0x4c58a7(0xab)](_0x4c58a7(0xa4))?(_0xda6709[_0x4c58a7(0x8b)][_0x4c58a7(0x8f)](_0x4c58a7(0xbb)),_0xda6709[_0x4c58a7(0x8b)][_0x4c58a7(0x8f)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0xda6709['log'][_0x4c58a7(0x8f)](_0x4c58a7(0xb3)+_0x394ba2['message']+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0xda6709,_0x1a53bc,_0x1b0518);}function checkAndInstall(_0x186fc9,_0x4b52da){const _0x1ccacb=a3_0x2f980c;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x1ccacb(0xad)](PIP_EXE))try{return _0x186fc9['log'][_0x1ccacb(0x91)](_0x1ccacb(0x94)),execSync('\x22'+PYTHON_EXE+_0x1ccacb(0xb0),{'timeout':0x3a98}),_0x186fc9[_0x1ccacb(0x8b)]['info'](_0x1ccacb(0x92)),_0x4b52da&&_0x4b52da(),!![];}catch(_0x88b62){_0x186fc9['log'][_0x1ccacb(0xbd)]('‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...');}else _0x186fc9[_0x1ccacb(0x8b)][_0x1ccacb(0xbd)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x186fc9,_0x4b52da),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};