const a3_0x15f5bd=a3_0x35cd;(function(_0x3805ed,_0x16ea48){const _0x2ad9c4=a3_0x35cd,_0x5c2af5=_0x3805ed();while(!![]){try{const _0x14741b=-parseInt(_0x2ad9c4(0x17d))/0x1+parseInt(_0x2ad9c4(0x175))/0x2*(-parseInt(_0x2ad9c4(0x18e))/0x3)+-parseInt(_0x2ad9c4(0x17e))/0x4*(-parseInt(_0x2ad9c4(0x181))/0x5)+-parseInt(_0x2ad9c4(0x173))/0x6*(-parseInt(_0x2ad9c4(0x184))/0x7)+-parseInt(_0x2ad9c4(0x177))/0x8+parseInt(_0x2ad9c4(0x172))/0x9*(parseInt(_0x2ad9c4(0x185))/0xa)+-parseInt(_0x2ad9c4(0x17a))/0xb*(-parseInt(_0x2ad9c4(0x179))/0xc);if(_0x14741b===_0x16ea48)break;else _0x5c2af5['push'](_0x5c2af5['shift']());}catch(_0x47ad5c){_0x5c2af5['push'](_0x5c2af5['shift']());}}}(a3_0x431a,0x6c3f0));const a3_0x37b545=(function(){let _0x78dd3d=!![];return function(_0x4592ec,_0x997928){const _0xf69555=_0x78dd3d?function(){const _0xbae455=a3_0x35cd;if(_0x997928){const _0x1ec232=_0x997928[_0xbae455(0x19d)](_0x4592ec,arguments);return _0x997928=null,_0x1ec232;}}:function(){};return _0x78dd3d=![],_0xf69555;};}()),a3_0x1f93ba=a3_0x37b545(this,function(){const _0x382a86=a3_0x35cd;return a3_0x1f93ba[_0x382a86(0x198)]()[_0x382a86(0x18d)](_0x382a86(0x188))['toString']()[_0x382a86(0x192)](a3_0x1f93ba)[_0x382a86(0x18d)]('(((.+)+)+)+$');});a3_0x1f93ba();'use strict';const {execSync}=require('child_process'),path=require(a3_0x15f5bd(0x19a)),fs=require('fs'),IS_WIN=process[a3_0x15f5bd(0x18a)]===a3_0x15f5bd(0x19c),ADAPTER_DIR=path[a3_0x15f5bd(0x18c)](__dirname,'..'),IOBROKER_ROOT=path[a3_0x15f5bd(0x18c)](ADAPTER_DIR,'..','..'),DATA_DIR=path[a3_0x15f5bd(0x18c)](IOBROKER_ROOT,a3_0x15f5bd(0x187),a3_0x15f5bd(0x176)),VENV_PATH=path[a3_0x15f5bd(0x18c)](DATA_DIR,a3_0x15f5bd(0x195));if(!fs[a3_0x15f5bd(0x189)](DATA_DIR))try{fs[a3_0x15f5bd(0x17c)](DATA_DIR,{'recursive':!![]});}catch(a3_0x405cb9){console[a3_0x15f5bd(0x17f)](a3_0x15f5bd(0x186));}function a3_0x431a(){const _0x36a459=['(((.+)+)+)+$','existsSync','platform','Python\x20existiert,\x20aber\x20Bibliotheken\x20fehlen\x20oder\x20Absturz:\x20','join','search','17991IsjIQt','\x20\x20\x20(Falls\x20Fehler:\x20\x22sudo\x20apt\x20install\x20python3-venv\x20python3-full\x22)','Scripts','python','constructor','bin','3.\x20sudo\x20rm\x20-rf\x20venv','venv','\x22\x20-c\x20\x22import\x20pandas;\x20import\x20numpy;\x20print(\x27libs_ok\x27)\x22','-------------------------------------------------------------','toString','Grund\x20fÃ¼r\x20Abbruch:\x20','path','5.\x20sudo\x20./venv/bin/pip\x20install\x20torch\x20--index-url\x20https://download.pytorch.org/whl/cpu\x20--no-cache-dir','win32','apply','5815899RSqtNS','15906oMkFaN','info','62nLssMA','cogni-living','3341936wDtATq','2.\x20cd\x20/opt/iobroker/iobroker-data/cogni-living','2519724OjasLN','11UVhouT','ðŸ›‘\x20PYTHON\x20UMGEBUNG\x20FEHLT!\x20(Manuelle\x20Installation\x20erforderlich)','mkdirSync','497553EbnThg','4qAOzMG','error','log','1148835KcCgTY','exports','python.exe','1211YuHtfr','10SseXOj','Could\x20not\x20create\x20data\x20dir,\x20falling\x20back\x20to\x20local','iobroker-data'];a3_0x431a=function(){return _0x36a459;};return a3_0x431a();}const PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x15f5bd(0x190),a3_0x15f5bd(0x183)):path['join'](VENV_PATH,a3_0x15f5bd(0x193),a3_0x15f5bd(0x191));function checkAndInstall(_0x3cb114,_0x5a33f2){const _0x3d146b=a3_0x15f5bd;let _0x22b052=![],_0x2f2b7f='';if(fs[_0x3d146b(0x189)](PYTHON_EXE))try{execSync('\x22'+PYTHON_EXE+'\x22\x20--version',{'timeout':0x1388}),execSync('\x22'+PYTHON_EXE+_0x3d146b(0x196),{'timeout':0x2710}),_0x22b052=!![];}catch(_0x115db8){_0x2f2b7f=_0x3d146b(0x18b)+_0x115db8['message'];}else _0x2f2b7f='Python\x20Binary\x20nicht\x20gefunden\x20unter:\x20'+PYTHON_EXE;if(_0x22b052){_0x3cb114[_0x3d146b(0x180)][_0x3d146b(0x174)]('âœ…\x20Python\x20Environment\x20detected\x20&\x20healthy\x20(Persistent).\x20Ready.');if(_0x5a33f2)_0x5a33f2();return!![];}else return _0x3cb114[_0x3d146b(0x180)][_0x3d146b(0x17f)](_0x3d146b(0x17b)),_0x3cb114['log']['error']('-------------------------------------------------------------'),_0x3cb114['log'][_0x3d146b(0x17f)]('WICHTIG:\x20Speicherort\x20wurde\x20geÃ¤ndert\x20auf\x20\x27iobroker-data\x27,\x20damit\x20Updates\x20nicht\x20mehr\x20alles\x20lÃ¶schen!'),_0x3cb114[_0x3d146b(0x180)]['error']('Bitte\x20fÃ¼hren\x20Sie\x20diese\x20Befehle\x20einmalig\x20in\x20der\x20Konsole\x20(Putty)\x20aus:'),_0x3cb114[_0x3d146b(0x180)][_0x3d146b(0x17f)](''),_0x3cb114[_0x3d146b(0x180)]['error']('1.\x20mkdir\x20-p\x20/opt/iobroker/iobroker-data/cogni-living'),_0x3cb114[_0x3d146b(0x180)]['error'](_0x3d146b(0x178)),_0x3cb114[_0x3d146b(0x180)][_0x3d146b(0x17f)](_0x3d146b(0x194)),_0x3cb114[_0x3d146b(0x180)]['error']('4.\x20sudo\x20python3\x20-m\x20venv\x20venv'),_0x3cb114['log'][_0x3d146b(0x17f)](_0x3d146b(0x18f)),_0x3cb114[_0x3d146b(0x180)][_0x3d146b(0x17f)](_0x3d146b(0x19b)),_0x3cb114['log']['error']('6.\x20sudo\x20./venv/bin/pip\x20install\x20-r\x20/opt/iobroker/node_modules/iobroker.cogni-living/python_service/requirements.txt\x20--no-cache-dir'),_0x3cb114['log']['error']('7.\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20/opt/iobroker/iobroker-data/cogni-living'),_0x3cb114[_0x3d146b(0x180)][_0x3d146b(0x17f)](_0x3d146b(0x197)),_0x3cb114[_0x3d146b(0x180)][_0x3d146b(0x17f)](_0x3d146b(0x199)+_0x2f2b7f),![];}function a3_0x35cd(_0x4b3558,_0x31d501){const _0x34a403=a3_0x431a();return a3_0x35cd=function(_0x1f93ba,_0x37b545){_0x1f93ba=_0x1f93ba-0x172;let _0x431aa7=_0x34a403[_0x1f93ba];return _0x431aa7;},a3_0x35cd(_0x4b3558,_0x31d501);}module[a3_0x15f5bd(0x182)]={'checkAndInstall':checkAndInstall,get 'PYTHON_EXE'(){return PYTHON_EXE;}};