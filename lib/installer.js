const a3_0x176352=a3_0x3a3f;(function(_0x58ea94,_0xa3b288){const _0x3e64e9=a3_0x3a3f,_0x2b369e=_0x58ea94();while(!![]){try{const _0x148fe6=-parseInt(_0x3e64e9(0x1eb))/0x1*(-parseInt(_0x3e64e9(0x1ea))/0x2)+-parseInt(_0x3e64e9(0x1f1))/0x3*(-parseInt(_0x3e64e9(0x1e4))/0x4)+-parseInt(_0x3e64e9(0x1dc))/0x5+parseInt(_0x3e64e9(0x1da))/0x6+parseInt(_0x3e64e9(0x1ed))/0x7*(parseInt(_0x3e64e9(0x1e7))/0x8)+-parseInt(_0x3e64e9(0x1df))/0x9+-parseInt(_0x3e64e9(0x1ec))/0xa*(parseInt(_0x3e64e9(0x1cb))/0xb);if(_0x148fe6===_0xa3b288)break;else _0x2b369e['push'](_0x2b369e['shift']());}catch(_0x1cf7f3){_0x2b369e['push'](_0x2b369e['shift']());}}}(a3_0x5a61,0x91275));const a3_0x550263=(function(){let _0xe22394=!![];return function(_0x518643,_0x2a1f5d){const _0x291455=_0xe22394?function(){const _0x393439=a3_0x3a3f;if(_0x2a1f5d){const _0x2472cc=_0x2a1f5d[_0x393439(0x1d9)](_0x518643,arguments);return _0x2a1f5d=null,_0x2472cc;}}:function(){};return _0xe22394=![],_0x291455;};}()),a3_0xe84130=a3_0x550263(this,function(){const _0x1a0232=a3_0x3a3f;return a3_0xe84130[_0x1a0232(0x1c9)]()[_0x1a0232(0x1cf)](_0x1a0232(0x1f0))[_0x1a0232(0x1c9)]()[_0x1a0232(0x1c7)](a3_0xe84130)['search']('(((.+)+)+)+$');});a3_0xe84130();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x176352(0x1ef)),fs=require('fs'),IS_WIN=process[a3_0x176352(0x1c3)]===a3_0x176352(0x1f3),ADAPTER_DIR=path[a3_0x176352(0x1cd)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x176352(0x1cd)](ADAPTER_DIR,a3_0x176352(0x1e8)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x176352(0x1d3),'python.exe'):path[a3_0x176352(0x1cd)](VENV_PATH,a3_0x176352(0x1e3),a3_0x176352(0x1d0)),PIP_EXE=IS_WIN?path[a3_0x176352(0x1cd)](VENV_PATH,'Scripts','pip.exe'):path['join'](VENV_PATH,a3_0x176352(0x1e3),a3_0x176352(0x1e6));function stopPythonService(_0x1ac377){const _0x37938d=a3_0x176352;if(_0x1ac377[_0x37938d(0x1cc)]){try{_0x1ac377[_0x37938d(0x1cc)][_0x37938d(0x1d8)]();}catch(_0x2ddfd0){}_0x1ac377[_0x37938d(0x1cc)]=null;}}function installRequirementsInVenv(_0xd92f94,_0x4e7d37,_0x3e1249){const _0x1c34d3=a3_0x176352;_0xd92f94[_0x1c34d3(0x1d1)][_0x1c34d3(0x1ee)](_0x1c34d3(0x1d6));const _0xe5ae28='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x4e7d37+'\x22';exec(_0xe5ae28,{'timeout':0x1b7740},(_0x1d351c,_0x1ce679,_0x183c08)=>{const _0x1f5970=_0x1c34d3;_0xd92f94[_0x1f5970(0x1e0)]=![];if(_0x1d351c){_0xd92f94[_0x1f5970(0x1d1)]['error'](_0x1f5970(0x1d7)+(_0x183c08||_0x1d351c[_0x1f5970(0x1ca)]));try{fs[_0x1f5970(0x1c8)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x52e492){}}else _0xd92f94['log'][_0x1f5970(0x1ee)](_0x1f5970(0x1d4)),_0x3e1249&&_0x3e1249();});}function a3_0x3a3f(_0x5078aa,_0xb821de){const _0xfc3805=a3_0x5a61();return a3_0x3a3f=function(_0xe84130,_0x550263){_0xe84130=_0xe84130-0x1c2;let _0x5a6167=_0xfc3805[_0xe84130];return _0x5a6167;},a3_0x3a3f(_0x5078aa,_0xb821de);}function installPythonDependencies(_0x4c7ec8,_0x488e80){const _0x1a06aa=a3_0x176352;if(_0x4c7ec8[_0x1a06aa(0x1e0)])return;_0x4c7ec8['dependencyInstallInProgress']=!![];const _0x5a5d64=path['join'](ADAPTER_DIR,_0x1a06aa(0x1d2),'requirements.txt');stopPythonService(_0x4c7ec8);if(fs[_0x1a06aa(0x1dd)](VENV_PATH)&&!fs[_0x1a06aa(0x1dd)](PIP_EXE)){_0x4c7ec8['log'][_0x1a06aa(0x1c6)](_0x1a06aa(0x1de));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0xafa400){_0x4c7ec8['log'][_0x1a06aa(0x1c5)](_0x1a06aa(0x1ce)+_0xafa400[_0x1a06aa(0x1ca)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x4c7ec8[_0x1a06aa(0x1d1)][_0x1a06aa(0x1ee)](_0x1a06aa(0x1e2)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0xbf2a8){_0x4c7ec8[_0x1a06aa(0x1e0)]=![];_0xbf2a8['message']['includes'](_0x1a06aa(0x1f2))||_0xbf2a8[_0x1a06aa(0x1ca)]['includes']('Permission\x20denied')?(_0x4c7ec8['log'][_0x1a06aa(0x1c5)](_0x1a06aa(0x1e5)),_0x4c7ec8[_0x1a06aa(0x1d1)][_0x1a06aa(0x1c5)](_0x1a06aa(0x1db)+ADAPTER_DIR)):_0x4c7ec8['log']['error'](_0x1a06aa(0x1c2)+_0xbf2a8[_0x1a06aa(0x1ca)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x4c7ec8,_0x5a5d64,_0x488e80);}function checkAndInstall(_0x2db411,_0x4ee429){const _0x28703e=a3_0x176352;if(fs[_0x28703e(0x1dd)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x2db411['log'][_0x28703e(0x1ee)](_0x28703e(0x1e9)),execSync('\x22'+PYTHON_EXE+_0x28703e(0x1e1),{'timeout':0x3a98}),_0x2db411[_0x28703e(0x1d1)][_0x28703e(0x1ee)]('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x4ee429&&_0x4ee429(),!![];}catch(_0x456d80){_0x2db411['log']['warn']('‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...');}else _0x2db411[_0x28703e(0x1d1)]['warn'](_0x28703e(0x1d5));return installPythonDependencies(_0x2db411,_0x4ee429),![];}function a3_0x5a61(){const _0x2deadc=['pythonProcess','join','Delete\x20failed:\x20','search','python','log','python_service','Scripts','‚úÖ\x20INSTALL\x20SUCCESS.','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','‚ùå\x20INSTALL\x20FAILED:\x20','kill','apply','6377682iJHBBe','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','1072360wbMpBQ','existsSync','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','1525752fxrPbU','dependencyInstallInProgress','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','Creating\x20new\x20VENV...','bin','12wbDuxe','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','pip','671656wALghr','.venv','üêç\x20Checking\x20Python\x20environment...','740694oJUJut','2rMQAfN','10VBmqti','77bDOsbx','info','path','(((.+)+)+)+$','18033bmEMNt','EACCES','win32','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','platform','exports','error','warn','constructor','rmSync','toString','message','19433172LzgTGj'];a3_0x5a61=function(){return _0x2deadc;};return a3_0x5a61();}module[a3_0x176352(0x1c4)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};