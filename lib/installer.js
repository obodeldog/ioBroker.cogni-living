const a3_0x2c7f68=a3_0x2996;(function(_0x33e10d,_0x51e897){const _0x4f95a3=a3_0x2996,_0xb426bd=_0x33e10d();while(!![]){try{const _0x25630b=parseInt(_0x4f95a3(0x1b4))/0x1+-parseInt(_0x4f95a3(0x1c1))/0x2+-parseInt(_0x4f95a3(0x1b5))/0x3+-parseInt(_0x4f95a3(0x1d6))/0x4+-parseInt(_0x4f95a3(0x1bf))/0x5+parseInt(_0x4f95a3(0x1cc))/0x6*(-parseInt(_0x4f95a3(0x1c6))/0x7)+-parseInt(_0x4f95a3(0x1ad))/0x8*(-parseInt(_0x4f95a3(0x1dd))/0x9);if(_0x25630b===_0x51e897)break;else _0xb426bd['push'](_0xb426bd['shift']());}catch(_0x8c833d){_0xb426bd['push'](_0xb426bd['shift']());}}}(a3_0x2a5a,0xe6d76));const a3_0xb13521=(function(){let _0x29481b=!![];return function(_0xdc1f2e,_0xe6c262){const _0x49c803=_0x29481b?function(){const _0x2385b1=a3_0x2996;if(_0xe6c262){const _0x158ca1=_0xe6c262[_0x2385b1(0x1bd)](_0xdc1f2e,arguments);return _0xe6c262=null,_0x158ca1;}}:function(){};return _0x29481b=![],_0x49c803;};}()),a3_0x304019=a3_0xb13521(this,function(){const _0x33b850=a3_0x2996;return a3_0x304019[_0x33b850(0x1c4)]()[_0x33b850(0x1d8)](_0x33b850(0x1c7))[_0x33b850(0x1c4)]()[_0x33b850(0x1c9)](a3_0x304019)[_0x33b850(0x1d8)](_0x33b850(0x1c7));});a3_0x304019();'use strict';function a3_0x2a5a(){const _0x33037d=['existsSync','log','Scripts','üêç\x20Checking\x20Python\x20environment...','bin','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','path','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','5821420ELlMFz','win32','search','exports','pythonProcess','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','python','63YVnpOd','join','EACCES','dependencyInstallInProgress','warn','9146728mpdJjS','python_service','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','Delete\x20failed:\x20','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','\x22\x20install\x20-r\x20\x22','pip','824734HFCJbI','3856191GBpcZx','‚úÖ\x20INSTALL\x20SUCCESS.','message','‚ùå\x20INSTALL\x20FAILED:\x20','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','kill','Permission\x20denied','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','apply','Creating\x20new\x20VENV...','8001655kMbfWx','rmSync','3503704BKKtUv','includes','python.exe','toString','python3\x20-m\x20venv\x20\x22','35WFBvJn','(((.+)+)+)+$','error','constructor','requirements.txt','info','2147592HYqjLZ','platform'];a3_0x2a5a=function(){return _0x33037d;};return a3_0x2a5a();}const {exec,execSync}=require('child_process'),path=require(a3_0x2c7f68(0x1d4)),fs=require('fs'),IS_WIN=process[a3_0x2c7f68(0x1cd)]===a3_0x2c7f68(0x1d7),ADAPTER_DIR=path[a3_0x2c7f68(0x1a9)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x2c7f68(0x1a9)](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x2c7f68(0x1a9)](VENV_PATH,a3_0x2c7f68(0x1d0),a3_0x2c7f68(0x1c3)):path[a3_0x2c7f68(0x1a9)](VENV_PATH,a3_0x2c7f68(0x1d2),a3_0x2c7f68(0x1dc)),PIP_EXE=IS_WIN?path[a3_0x2c7f68(0x1a9)](VENV_PATH,a3_0x2c7f68(0x1d0),'pip.exe'):path['join'](VENV_PATH,a3_0x2c7f68(0x1d2),a3_0x2c7f68(0x1b3));function stopPythonService(_0x49d459){const _0x45493f=a3_0x2c7f68;if(_0x49d459[_0x45493f(0x1da)]){try{_0x49d459['pythonProcess'][_0x45493f(0x1ba)]();}catch(_0x4df010){}_0x49d459['pythonProcess']=null;}}function installRequirementsInVenv(_0x4d7b67,_0x5baad4,_0xeb1fac){const _0x7aa732=a3_0x2c7f68;_0x4d7b67['log']['info'](_0x7aa732(0x1bc));const _0x4f25a8='\x22'+PIP_EXE+_0x7aa732(0x1b2)+_0x5baad4+'\x22';exec(_0x4f25a8,{'timeout':0x1b7740},(_0x1b141b,_0x4282fd,_0x106244)=>{const _0x93c273=_0x7aa732;_0x4d7b67[_0x93c273(0x1ab)]=![];if(_0x1b141b){_0x4d7b67[_0x93c273(0x1cf)][_0x93c273(0x1c8)](_0x93c273(0x1b8)+(_0x106244||_0x1b141b[_0x93c273(0x1b7)]));try{fs[_0x93c273(0x1c0)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x7547f7){}}else _0x4d7b67[_0x93c273(0x1cf)][_0x93c273(0x1cb)](_0x93c273(0x1b6)),_0xeb1fac&&_0xeb1fac();});}function a3_0x2996(_0x213a4c,_0x2ea016){const _0xb81ccb=a3_0x2a5a();return a3_0x2996=function(_0x304019,_0xb13521){_0x304019=_0x304019-0x1a9;let _0x2a5a8e=_0xb81ccb[_0x304019];return _0x2a5a8e;},a3_0x2996(_0x213a4c,_0x2ea016);}function installPythonDependencies(_0x391b78,_0x4fd3ff){const _0x38470c=a3_0x2c7f68;if(_0x391b78[_0x38470c(0x1ab)])return;_0x391b78['dependencyInstallInProgress']=!![];const _0x48a1aa=path[_0x38470c(0x1a9)](ADAPTER_DIR,_0x38470c(0x1ae),_0x38470c(0x1ca));stopPythonService(_0x391b78);if(fs[_0x38470c(0x1ce)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x391b78[_0x38470c(0x1cf)][_0x38470c(0x1ac)](_0x38470c(0x1b9));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x51672d){_0x391b78['log'][_0x38470c(0x1c8)](_0x38470c(0x1b0)+_0x51672d['message']);}}if(!fs[_0x38470c(0x1ce)](VENV_PATH))try{_0x391b78['log'][_0x38470c(0x1cb)](_0x38470c(0x1be)),execSync(_0x38470c(0x1c5)+VENV_PATH+'\x22');}catch(_0x2bbb56){_0x391b78[_0x38470c(0x1ab)]=![];_0x2bbb56['message'][_0x38470c(0x1c2)](_0x38470c(0x1aa))||_0x2bbb56[_0x38470c(0x1b7)][_0x38470c(0x1c2)](_0x38470c(0x1bb))?(_0x391b78[_0x38470c(0x1cf)]['error']('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x391b78[_0x38470c(0x1cf)][_0x38470c(0x1c8)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x391b78['log'][_0x38470c(0x1c8)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x2bbb56[_0x38470c(0x1b7)]+_0x38470c(0x1d3));return;}installRequirementsInVenv(_0x391b78,_0x48a1aa,_0x4fd3ff);}function checkAndInstall(_0x550935,_0x37a49c){const _0x3e2678=a3_0x2c7f68;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x3e2678(0x1ce)](PIP_EXE))try{return _0x550935[_0x3e2678(0x1cf)][_0x3e2678(0x1cb)](_0x3e2678(0x1d1)),execSync('\x22'+PYTHON_EXE+_0x3e2678(0x1b1),{'timeout':0x3a98}),_0x550935['log']['info'](_0x3e2678(0x1d5)),_0x37a49c&&_0x37a49c(),!![];}catch(_0x599b3c){_0x550935[_0x3e2678(0x1cf)]['warn'](_0x3e2678(0x1db));}else _0x550935[_0x3e2678(0x1cf)][_0x3e2678(0x1ac)](_0x3e2678(0x1af));return installPythonDependencies(_0x550935,_0x37a49c),![];}module[a3_0x2c7f68(0x1d9)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};