const a3_0x249218=a3_0x1d99;(function(_0x1c588f,_0x50dfcf){const _0x2224bd=a3_0x1d99,_0x24b75c=_0x1c588f();while(!![]){try{const _0x1c959b=-parseInt(_0x2224bd(0x179))/0x1*(-parseInt(_0x2224bd(0x163))/0x2)+-parseInt(_0x2224bd(0x16e))/0x3+-parseInt(_0x2224bd(0x181))/0x4*(parseInt(_0x2224bd(0x17f))/0x5)+-parseInt(_0x2224bd(0x17c))/0x6*(-parseInt(_0x2224bd(0x178))/0x7)+parseInt(_0x2224bd(0x17e))/0x8*(parseInt(_0x2224bd(0x16d))/0x9)+parseInt(_0x2224bd(0x186))/0xa+parseInt(_0x2224bd(0x17d))/0xb*(-parseInt(_0x2224bd(0x18d))/0xc);if(_0x1c959b===_0x50dfcf)break;else _0x24b75c['push'](_0x24b75c['shift']());}catch(_0x145e28){_0x24b75c['push'](_0x24b75c['shift']());}}}(a3_0x3e93,0x78afe));const a3_0x22fb70=(function(){let _0x3972d2=!![];return function(_0x26444d,_0xdd9948){const _0x3ed7a8=_0x3972d2?function(){if(_0xdd9948){const _0x1c2909=_0xdd9948['apply'](_0x26444d,arguments);return _0xdd9948=null,_0x1c2909;}}:function(){};return _0x3972d2=![],_0x3ed7a8;};}()),a3_0x210dc0=a3_0x22fb70(this,function(){const _0x114ac0=a3_0x1d99;return a3_0x210dc0[_0x114ac0(0x175)]()[_0x114ac0(0x173)](_0x114ac0(0x188))['toString']()[_0x114ac0(0x162)](a3_0x210dc0)[_0x114ac0(0x173)](_0x114ac0(0x188));});a3_0x210dc0();function a3_0x1d99(_0x3218a7,_0x1dd16d){const _0x1140d8=a3_0x3e93();return a3_0x1d99=function(_0x210dc0,_0x22fb70){_0x210dc0=_0x210dc0-0x15f;let _0x3e93b9=_0x1140d8[_0x210dc0];return _0x3e93b9;},a3_0x1d99(_0x3218a7,_0x1dd16d);}'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x249218(0x18f)),fs=require('fs'),IS_WIN=process[a3_0x249218(0x172)]==='win32',ADAPTER_DIR=path[a3_0x249218(0x16c)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,a3_0x249218(0x16f)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,'Scripts',a3_0x249218(0x18e)):path[a3_0x249218(0x16c)](VENV_PATH,a3_0x249218(0x182),'python'),PIP_EXE=IS_WIN?path[a3_0x249218(0x16c)](VENV_PATH,a3_0x249218(0x16b),a3_0x249218(0x185)):path[a3_0x249218(0x16c)](VENV_PATH,'bin','pip');function stopPythonService(_0x2962a3){const _0x495b5f=a3_0x249218;if(_0x2962a3['pythonProcess']){try{_0x2962a3[_0x495b5f(0x18a)][_0x495b5f(0x174)]();}catch(_0x36fe28){}_0x2962a3[_0x495b5f(0x18a)]=null;}}function installRequirementsInVenv(_0x4cf3a5,_0x3685e3,_0x2acea){const _0x4b9900=a3_0x249218;_0x4cf3a5[_0x4b9900(0x165)][_0x4b9900(0x160)]('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0x1432ea='\x22'+PIP_EXE+_0x4b9900(0x18b)+_0x3685e3+'\x22';exec(_0x1432ea,{'timeout':0x1b7740},(_0x389d58,_0x144357,_0x81768)=>{const _0x54faa9=_0x4b9900;_0x4cf3a5[_0x54faa9(0x177)]=![];if(_0x389d58){_0x4cf3a5['log']['error']('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x81768||_0x389d58[_0x54faa9(0x171)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x307c69){}}else _0x4cf3a5[_0x54faa9(0x165)][_0x54faa9(0x160)](_0x54faa9(0x176)),_0x2acea&&_0x2acea();});}function installPythonDependencies(_0x2de5e7,_0x262d62){const _0x516108=a3_0x249218;if(_0x2de5e7[_0x516108(0x177)])return;_0x2de5e7['dependencyInstallInProgress']=!![];const _0x4450f6=path['join'](ADAPTER_DIR,_0x516108(0x169),_0x516108(0x161));stopPythonService(_0x2de5e7);if(fs[_0x516108(0x187)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x2de5e7[_0x516108(0x165)][_0x516108(0x168)](_0x516108(0x180));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x3adccb){_0x2de5e7[_0x516108(0x165)][_0x516108(0x17a)](_0x516108(0x18c)+_0x3adccb[_0x516108(0x171)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x2de5e7[_0x516108(0x165)][_0x516108(0x160)]('Creating\x20new\x20VENV...'),execSync(_0x516108(0x16a)+VENV_PATH+'\x22');}catch(_0xed05e4){_0x2de5e7[_0x516108(0x177)]=![];_0xed05e4['message'][_0x516108(0x17b)](_0x516108(0x15f))||_0xed05e4[_0x516108(0x171)][_0x516108(0x17b)](_0x516108(0x166))?(_0x2de5e7['log']['error'](_0x516108(0x170)),_0x2de5e7[_0x516108(0x165)][_0x516108(0x17a)](_0x516108(0x189)+ADAPTER_DIR)):_0x2de5e7['log'][_0x516108(0x17a)](_0x516108(0x184)+_0xed05e4[_0x516108(0x171)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x2de5e7,_0x4450f6,_0x262d62);}function checkAndInstall(_0x825edc,_0x108c0a){const _0x11205b=a3_0x249218;if(fs[_0x11205b(0x187)](PYTHON_EXE)&&fs[_0x11205b(0x187)](PIP_EXE))try{return _0x825edc['log'][_0x11205b(0x160)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x825edc[_0x11205b(0x165)][_0x11205b(0x160)](_0x11205b(0x167)),_0x108c0a&&_0x108c0a(),!![];}catch(_0x5e00e0){_0x825edc[_0x11205b(0x165)][_0x11205b(0x168)](_0x11205b(0x164));}else _0x825edc[_0x11205b(0x165)]['warn'](_0x11205b(0x183));return installPythonDependencies(_0x825edc,_0x108c0a),![];}function a3_0x3e93(){const _0x58100a=['existsSync','(((.+)+)+)+$','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','pythonProcess','\x22\x20install\x20-r\x20\x22','Delete\x20failed:\x20','72mZbzIb','python.exe','path','EACCES','info','requirements.txt','constructor','503582lMlsvh','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','log','Permission\x20denied','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','warn','python_service','python3\x20-m\x20venv\x20\x22','Scripts','join','8731917JTEFfI','1502676ZCRLWe','.venv','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','message','platform','search','kill','toString','‚úÖ\x20INSTALL\x20SUCCESS.','dependencyInstallInProgress','1881628DpPexJ','3hXZqwS','error','includes','12BPPacX','2407493AOFIan','8gOKIJa','65QavbLj','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','155304FUsiux','bin','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','pip.exe','5499480lmNWKP'];a3_0x3e93=function(){return _0x58100a;};return a3_0x3e93();}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};