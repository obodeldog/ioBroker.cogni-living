const a3_0x49e68c=a3_0x334c;function a3_0x334c(_0x52c1c7,_0x2f4542){const _0x572e5f=a3_0x53e7();return a3_0x334c=function(_0x2382e3,_0x388a1e){_0x2382e3=_0x2382e3-0x10d;let _0x53e7be=_0x572e5f[_0x2382e3];return _0x53e7be;},a3_0x334c(_0x52c1c7,_0x2f4542);}(function(_0x527cf9,_0x5ebb1d){const _0x53f546=a3_0x334c,_0xc8f26f=_0x527cf9();while(!![]){try{const _0x1414a6=-parseInt(_0x53f546(0x138))/0x1+parseInt(_0x53f546(0x131))/0x2*(-parseInt(_0x53f546(0x11d))/0x3)+-parseInt(_0x53f546(0x134))/0x4+-parseInt(_0x53f546(0x135))/0x5*(-parseInt(_0x53f546(0x136))/0x6)+-parseInt(_0x53f546(0x114))/0x7+-parseInt(_0x53f546(0x132))/0x8+parseInt(_0x53f546(0x12d))/0x9;if(_0x1414a6===_0x5ebb1d)break;else _0xc8f26f['push'](_0xc8f26f['shift']());}catch(_0x1caa6e){_0xc8f26f['push'](_0xc8f26f['shift']());}}}(a3_0x53e7,0x57ced));const a3_0x388a1e=(function(){let _0x3050d2=!![];return function(_0x5749df,_0x3490bf){const _0x43d028=_0x3050d2?function(){const _0x377b3d=a3_0x334c;if(_0x3490bf){const _0x153103=_0x3490bf[_0x377b3d(0x126)](_0x5749df,arguments);return _0x3490bf=null,_0x153103;}}:function(){};return _0x3050d2=![],_0x43d028;};}()),a3_0x2382e3=a3_0x388a1e(this,function(){const _0x3ffb92=a3_0x334c;return a3_0x2382e3[_0x3ffb92(0x124)]()[_0x3ffb92(0x11b)](_0x3ffb92(0x110))[_0x3ffb92(0x124)]()['constructor'](a3_0x2382e3)[_0x3ffb92(0x11b)](_0x3ffb92(0x110));});function a3_0x53e7(){const _0x2ea61f=['Permission\x20denied','kill','â™»ï¸\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','log','search','âŒ\x20VENV\x20CREATION\x20FAILED:\x20','15YwFLOn','\x22\x20install\x20-r\x20\x22','âœ…\x20Fast-Boot:\x20Environment\x20healthy.','python.exe','exports','EACCES','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','toString','pythonProcess','apply','bin','win32','warn','Creating\x20new\x20VENV...','join','existsSync','17269434jdakkA','ðŸ‘‰\x20LÃ–SUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','rmSync','254090uopBJr','2304096gBcSqh','info','456424BsHXuB','40230WhAlBq','192xwxoIz','âš ï¸\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','331472pxCxHq','âœ…\x20INSTALL\x20SUCCESS.','message','child_process','dependencyInstallInProgress','pip','requirements.txt','includes','Delete\x20failed:\x20','ðŸ›‘\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','âš ï¸\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','(((.+)+)+)+$','Scripts','âŒ\x20INSTALL\x20FAILED:\x20','ðŸ\x20Checking\x20Python\x20environment...','3134754KqpMzS','path','error'];a3_0x53e7=function(){return _0x2ea61f;};return a3_0x53e7();}a3_0x2382e3();'use strict';const {exec,execSync}=require(a3_0x49e68c(0x13b)),path=require(a3_0x49e68c(0x115)),fs=require('fs'),IS_WIN=process['platform']===a3_0x49e68c(0x128),ADAPTER_DIR=path[a3_0x49e68c(0x12b)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x49e68c(0x12b)](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x49e68c(0x12b)](VENV_PATH,a3_0x49e68c(0x111),a3_0x49e68c(0x120)):path[a3_0x49e68c(0x12b)](VENV_PATH,a3_0x49e68c(0x127),'python'),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x49e68c(0x111),'pip.exe'):path[a3_0x49e68c(0x12b)](VENV_PATH,a3_0x49e68c(0x127),a3_0x49e68c(0x13d));function stopPythonService(_0x5f720d){const _0x30f10c=a3_0x49e68c;if(_0x5f720d[_0x30f10c(0x125)]){try{_0x5f720d[_0x30f10c(0x125)][_0x30f10c(0x118)]();}catch(_0x1e323e){}_0x5f720d[_0x30f10c(0x125)]=null;}}function installRequirementsInVenv(_0x48dcb6,_0x1cbe6c,_0x208dd8){const _0x2296b5=a3_0x49e68c;_0x48dcb6['log'][_0x2296b5(0x133)](_0x2296b5(0x123));const _0x5255b2='\x22'+PIP_EXE+_0x2296b5(0x11e)+_0x1cbe6c+'\x22';exec(_0x5255b2,{'timeout':0x1b7740},(_0x4d4c4d,_0x29ab23,_0x808463)=>{const _0x1b8453=_0x2296b5;_0x48dcb6[_0x1b8453(0x13c)]=![];if(_0x4d4c4d){_0x48dcb6[_0x1b8453(0x11a)][_0x1b8453(0x116)](_0x1b8453(0x112)+(_0x808463||_0x4d4c4d['message']));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4c11c4){}}else _0x48dcb6[_0x1b8453(0x11a)]['info'](_0x1b8453(0x139)),_0x208dd8&&_0x208dd8();});}function installPythonDependencies(_0x485662,_0x932cb7){const _0x4227f4=a3_0x49e68c;if(_0x485662[_0x4227f4(0x13c)])return;_0x485662[_0x4227f4(0x13c)]=!![];const _0x2725ad=path[_0x4227f4(0x12b)](ADAPTER_DIR,'python_service',_0x4227f4(0x13e));stopPythonService(_0x485662);if(fs[_0x4227f4(0x12c)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x485662['log']['warn'](_0x4227f4(0x119));try{fs[_0x4227f4(0x130)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0xa98047){_0x485662[_0x4227f4(0x11a)][_0x4227f4(0x116)](_0x4227f4(0x10d)+_0xa98047['message']);}}if(!fs['existsSync'](VENV_PATH))try{_0x485662['log'][_0x4227f4(0x133)](_0x4227f4(0x12a)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x79e455){_0x485662[_0x4227f4(0x13c)]=![];_0x79e455[_0x4227f4(0x13a)]['includes'](_0x4227f4(0x122))||_0x79e455[_0x4227f4(0x13a)][_0x4227f4(0x13f)](_0x4227f4(0x117))?(_0x485662[_0x4227f4(0x11a)][_0x4227f4(0x116)](_0x4227f4(0x10e)),_0x485662[_0x4227f4(0x11a)][_0x4227f4(0x116)](_0x4227f4(0x12e)+ADAPTER_DIR)):_0x485662[_0x4227f4(0x11a)][_0x4227f4(0x116)](_0x4227f4(0x11c)+_0x79e455[_0x4227f4(0x13a)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x485662,_0x2725ad,_0x932cb7);}function checkAndInstall(_0x547d0b,_0x3d7b79){const _0x1ac55b=a3_0x49e68c;if(fs[_0x1ac55b(0x12c)](PYTHON_EXE)&&fs[_0x1ac55b(0x12c)](PIP_EXE))try{return _0x547d0b[_0x1ac55b(0x11a)][_0x1ac55b(0x133)](_0x1ac55b(0x113)),execSync('\x22'+PYTHON_EXE+_0x1ac55b(0x12f),{'timeout':0x3a98}),_0x547d0b[_0x1ac55b(0x11a)][_0x1ac55b(0x133)](_0x1ac55b(0x11f)),_0x3d7b79&&_0x3d7b79(),!![];}catch(_0x35b434){_0x547d0b['log'][_0x1ac55b(0x129)](_0x1ac55b(0x137));}else _0x547d0b[_0x1ac55b(0x11a)][_0x1ac55b(0x129)](_0x1ac55b(0x10f));return installPythonDependencies(_0x547d0b,_0x3d7b79),![];}module[a3_0x49e68c(0x121)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};