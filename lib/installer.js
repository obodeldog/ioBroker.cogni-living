const a0_0x2e59ba=a0_0x1028;function a0_0x2b37(){const _0x3bcf33=['Permission\x20denied','9EJoFuC','152537WSmpvN','Delete\x20failed:\x20','1292706kfnwmR','10BZnoNX','dependencyInstallInProgress','271560VwhsYn','‚ùå\x20INSTALL\x20FAILED:\x20','3480192kCWSqG','bin','611427cKswhZ','win32','includes','toString','log','(((.+)+)+)+$','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','kill','python_service','pip.exe','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','Creating\x20new\x20VENV...','\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','Scripts','error','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','warn','constructor','1269986zdpnMz','EACCES','join','existsSync','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','rmSync','pythonProcess','info','apply','.venv','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','‚úÖ\x20INSTALL\x20SUCCESS.','child_process','message','python','475024cZYtED','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','\x22\x20install\x20-r\x20\x22','platform'];a0_0x2b37=function(){return _0x3bcf33;};return a0_0x2b37();}(function(_0x1a4033,_0xfc539c){const _0x4b8beb=a0_0x1028,_0x489a0f=_0x1a4033();while(!![]){try{const _0x2c52ae=-parseInt(_0x4b8beb(0x12f))/0x1+parseInt(_0x4b8beb(0x110))/0x2+-parseInt(_0x4b8beb(0x128))/0x3+-parseInt(_0x4b8beb(0x120))/0x4*(-parseInt(_0x4b8beb(0x129))/0x5)+parseInt(_0x4b8beb(0x12d))/0x6+-parseInt(_0x4b8beb(0x126))/0x7+-parseInt(_0x4b8beb(0x12b))/0x8*(-parseInt(_0x4b8beb(0x125))/0x9);if(_0x2c52ae===_0xfc539c)break;else _0x489a0f['push'](_0x489a0f['shift']());}catch(_0x23f8eb){_0x489a0f['push'](_0x489a0f['shift']());}}}(a0_0x2b37,0x671da));const a0_0x47515e=(function(){let _0x3bbdb5=!![];return function(_0x4ddc58,_0x483862){const _0x47a7bf=_0x3bbdb5?function(){const _0x4393b4=a0_0x1028;if(_0x483862){const _0x2a9d68=_0x483862[_0x4393b4(0x118)](_0x4ddc58,arguments);return _0x483862=null,_0x2a9d68;}}:function(){};return _0x3bbdb5=![],_0x47a7bf;};}()),a0_0x2d5436=a0_0x47515e(this,function(){const _0x54c631=a0_0x1028;return a0_0x2d5436[_0x54c631(0x100)]()['search']('(((.+)+)+)+$')[_0x54c631(0x100)]()[_0x54c631(0x10f)](a0_0x2d5436)['search'](_0x54c631(0x102));});a0_0x2d5436();'use strict';const {exec,execSync}=require(a0_0x2e59ba(0x11d)),path=require('path'),fs=require('fs'),IS_WIN=process[a0_0x2e59ba(0x123)]===a0_0x2e59ba(0xfe),ADAPTER_DIR=path[a0_0x2e59ba(0x112)](__dirname,'..'),PERSISTENT_DIR=path[a0_0x2e59ba(0x112)](ADAPTER_DIR,a0_0x2e59ba(0x119)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a0_0x2e59ba(0x112)](VENV_PATH,'Scripts','python.exe'):path[a0_0x2e59ba(0x112)](VENV_PATH,a0_0x2e59ba(0x12e),a0_0x2e59ba(0x11f)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a0_0x2e59ba(0x10b),a0_0x2e59ba(0x106)):path[a0_0x2e59ba(0x112)](VENV_PATH,a0_0x2e59ba(0x12e),'pip');function stopPythonService(_0x4dc1db){const _0x250622=a0_0x2e59ba;if(_0x4dc1db[_0x250622(0x116)]){try{_0x4dc1db[_0x250622(0x116)][_0x250622(0x104)]();}catch(_0x223829){}_0x4dc1db['pythonProcess']=null;}}function a0_0x1028(_0x2f3fe1,_0x4d23d6){const _0x190068=a0_0x2b37();return a0_0x1028=function(_0x2d5436,_0x47515e){_0x2d5436=_0x2d5436-0xfe;let _0x2b37ee=_0x190068[_0x2d5436];return _0x2b37ee;},a0_0x1028(_0x2f3fe1,_0x4d23d6);}function installRequirementsInVenv(_0x1e8549,_0x2461c2,_0x132407){const _0x4c4468=a0_0x2e59ba;_0x1e8549['log']['info'](_0x4c4468(0x10a));const _0x591306='\x22'+PIP_EXE+_0x4c4468(0x122)+_0x2461c2+'\x22';exec(_0x591306,{'timeout':0x1b7740},(_0x371561,_0x1d8c91,_0x3b5dbb)=>{const _0x5ebe6e=_0x4c4468;_0x1e8549[_0x5ebe6e(0x12a)]=![];if(_0x371561){_0x1e8549[_0x5ebe6e(0x101)][_0x5ebe6e(0x10c)](_0x5ebe6e(0x12c)+(_0x3b5dbb||_0x371561[_0x5ebe6e(0x11e)]));try{fs[_0x5ebe6e(0x115)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x1ec143){}}else _0x1e8549['log'][_0x5ebe6e(0x117)](_0x5ebe6e(0x11c)),_0x132407&&_0x132407();});}function installPythonDependencies(_0x3f3582,_0x37ead3){const _0x13853d=a0_0x2e59ba;if(_0x3f3582[_0x13853d(0x12a)])return;_0x3f3582[_0x13853d(0x12a)]=!![];const _0x130844=path[_0x13853d(0x112)](ADAPTER_DIR,_0x13853d(0x105),'requirements.txt');stopPythonService(_0x3f3582);if(fs['existsSync'](VENV_PATH)&&!fs[_0x13853d(0x113)](PIP_EXE)){_0x3f3582['log'][_0x13853d(0x10e)](_0x13853d(0x11a));try{fs[_0x13853d(0x115)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x270aef){_0x3f3582[_0x13853d(0x101)][_0x13853d(0x10c)](_0x13853d(0x127)+_0x270aef[_0x13853d(0x11e)]);}}if(!fs[_0x13853d(0x113)](VENV_PATH))try{_0x3f3582[_0x13853d(0x101)][_0x13853d(0x117)](_0x13853d(0x108)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x4fa141){_0x3f3582[_0x13853d(0x12a)]=![];_0x4fa141[_0x13853d(0x11e)][_0x13853d(0xff)](_0x13853d(0x111))||_0x4fa141[_0x13853d(0x11e)]['includes'](_0x13853d(0x124))?(_0x3f3582[_0x13853d(0x101)][_0x13853d(0x10c)](_0x13853d(0x107)),_0x3f3582[_0x13853d(0x101)][_0x13853d(0x10c)](_0x13853d(0x121)+ADAPTER_DIR)):_0x3f3582[_0x13853d(0x101)][_0x13853d(0x10c)](_0x13853d(0x114)+_0x4fa141[_0x13853d(0x11e)]+_0x13853d(0x10d));return;}installRequirementsInVenv(_0x3f3582,_0x130844,_0x37ead3);}function checkAndInstall(_0x4807b0,_0x15aa65){const _0x124814=a0_0x2e59ba;if(fs[_0x124814(0x113)](PYTHON_EXE)&&fs[_0x124814(0x113)](PIP_EXE))try{return _0x4807b0[_0x124814(0x101)]['info']('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+_0x124814(0x109),{'timeout':0x3a98}),_0x4807b0[_0x124814(0x101)]['info'](_0x124814(0x11b)),_0x15aa65&&_0x15aa65(),!![];}catch(_0x1a1eaa){_0x4807b0[_0x124814(0x101)][_0x124814(0x10e)](_0x124814(0x103));}else _0x4807b0[_0x124814(0x101)]['warn']('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x4807b0,_0x15aa65),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};