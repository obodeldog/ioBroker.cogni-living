const a3_0x585d4c=a3_0x22c6;(function(_0x15b415,_0x29d037){const _0x133455=a3_0x22c6,_0x111c67=_0x15b415();while(!![]){try{const _0x5cdb65=parseInt(_0x133455(0x170))/0x1+-parseInt(_0x133455(0x173))/0x2*(-parseInt(_0x133455(0x166))/0x3)+-parseInt(_0x133455(0x167))/0x4+-parseInt(_0x133455(0x15e))/0x5+parseInt(_0x133455(0x17f))/0x6*(parseInt(_0x133455(0x178))/0x7)+-parseInt(_0x133455(0x169))/0x8*(-parseInt(_0x133455(0x164))/0x9)+parseInt(_0x133455(0x160))/0xa*(-parseInt(_0x133455(0x17c))/0xb);if(_0x5cdb65===_0x29d037)break;else _0x111c67['push'](_0x111c67['shift']());}catch(_0x1275b8){_0x111c67['push'](_0x111c67['shift']());}}}(a3_0x5152,0xd2cc9));const a3_0x243b81=(function(){let _0x590fc9=!![];return function(_0x3085c1,_0x487576){const _0x562c6d=_0x590fc9?function(){const _0x256db9=a3_0x22c6;if(_0x487576){const _0x4edbb4=_0x487576[_0x256db9(0x179)](_0x3085c1,arguments);return _0x487576=null,_0x4edbb4;}}:function(){};return _0x590fc9=![],_0x562c6d;};}()),a3_0x2ac98c=a3_0x243b81(this,function(){const _0x3ffb88=a3_0x22c6;return a3_0x2ac98c['toString']()[_0x3ffb88(0x16e)](_0x3ffb88(0x171))[_0x3ffb88(0x16f)]()[_0x3ffb88(0x172)](a3_0x2ac98c)[_0x3ffb88(0x16e)](_0x3ffb88(0x171));});function a3_0x22c6(_0x3f744a,_0x2730ad){const _0x37b751=a3_0x5152();return a3_0x22c6=function(_0x2ac98c,_0x243b81){_0x2ac98c=_0x2ac98c-0x156;let _0x5152c=_0x37b751[_0x2ac98c];return _0x5152c;},a3_0x22c6(_0x3f744a,_0x2730ad);}function a3_0x5152(){const _0x3232fc=['pythonProcess','6750715xpLYaH','includes','175190BIBbNr','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','path','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','99fEXLQu','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','807rrqtMz','1706848cvbaJh','join','1086952JYwtob','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','Creating\x20new\x20VENV...','python3\x20-m\x20venv\x20\x22','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','search','toString','180244wKHRNw','(((.+)+)+)+$','constructor','10682fzlIHR','kill','log','pip','Delete\x20failed:\x20','14YGEhHS','apply','rmSync','dependencyInstallInProgress','374hNaCWz','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','373206kLoBxs','error','\x22\x20install\x20-r\x20\x22','Scripts','existsSync','info','Permission\x20denied','win32','warn','message','‚ùå\x20INSTALL\x20FAILED:\x20','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','‚úÖ\x20INSTALL\x20SUCCESS.','EACCES','bin','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','python_service','python.exe'];a3_0x5152=function(){return _0x3232fc;};return a3_0x5152();}a3_0x2ac98c();'use strict';const {exec,execSync}=require('child_process'),path=require(a3_0x585d4c(0x162)),fs=require('fs'),IS_WIN=process['platform']===a3_0x585d4c(0x186),ADAPTER_DIR=path[a3_0x585d4c(0x168)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x585d4c(0x168)](VENV_PATH,a3_0x585d4c(0x182),a3_0x585d4c(0x15c)):path[a3_0x585d4c(0x168)](VENV_PATH,a3_0x585d4c(0x159),'python'),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x585d4c(0x182),'pip.exe'):path[a3_0x585d4c(0x168)](VENV_PATH,a3_0x585d4c(0x159),a3_0x585d4c(0x176));function stopPythonService(_0x572c66){const _0x55b40c=a3_0x585d4c;if(_0x572c66[_0x55b40c(0x15d)]){try{_0x572c66[_0x55b40c(0x15d)][_0x55b40c(0x174)]();}catch(_0x1bb24b){}_0x572c66['pythonProcess']=null;}}function installRequirementsInVenv(_0x10e210,_0x5c5aef,_0x34d7e9){const _0x1e19d4=a3_0x585d4c;_0x10e210[_0x1e19d4(0x175)]['info'](_0x1e19d4(0x17e));const _0x4b2bd2='\x22'+PIP_EXE+_0x1e19d4(0x181)+_0x5c5aef+'\x22';exec(_0x4b2bd2,{'timeout':0x1b7740},(_0x392b79,_0x3bf87d,_0x5081a0)=>{const _0x2dab5b=_0x1e19d4;_0x10e210[_0x2dab5b(0x17b)]=![];if(_0x392b79){_0x10e210[_0x2dab5b(0x175)][_0x2dab5b(0x180)](_0x2dab5b(0x189)+(_0x5081a0||_0x392b79[_0x2dab5b(0x188)]));try{fs[_0x2dab5b(0x17a)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x4971c3){}}else _0x10e210['log'][_0x2dab5b(0x184)](_0x2dab5b(0x157)),_0x34d7e9&&_0x34d7e9();});}function installPythonDependencies(_0x2f8d78,_0xdd49ad){const _0x430f7e=a3_0x585d4c;if(_0x2f8d78['dependencyInstallInProgress'])return;_0x2f8d78[_0x430f7e(0x17b)]=!![];const _0x119750=path[_0x430f7e(0x168)](ADAPTER_DIR,_0x430f7e(0x15b),'requirements.txt');stopPythonService(_0x2f8d78);if(fs[_0x430f7e(0x183)](VENV_PATH)&&!fs[_0x430f7e(0x183)](PIP_EXE)){_0x2f8d78[_0x430f7e(0x175)]['warn'](_0x430f7e(0x163));try{fs[_0x430f7e(0x17a)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x2d514d){_0x2f8d78[_0x430f7e(0x175)]['error'](_0x430f7e(0x177)+_0x2d514d['message']);}}if(!fs['existsSync'](VENV_PATH))try{_0x2f8d78['log'][_0x430f7e(0x184)](_0x430f7e(0x16b)),execSync(_0x430f7e(0x16c)+VENV_PATH+'\x22');}catch(_0x287653){_0x2f8d78[_0x430f7e(0x17b)]=![];_0x287653[_0x430f7e(0x188)][_0x430f7e(0x15f)](_0x430f7e(0x158))||_0x287653['message'][_0x430f7e(0x15f)](_0x430f7e(0x185))?(_0x2f8d78['log']['error'](_0x430f7e(0x16a)),_0x2f8d78[_0x430f7e(0x175)]['error'](_0x430f7e(0x161)+ADAPTER_DIR)):_0x2f8d78['log'][_0x430f7e(0x180)](_0x430f7e(0x15a)+_0x287653[_0x430f7e(0x188)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x2f8d78,_0x119750,_0xdd49ad);}function checkAndInstall(_0x562aa7,_0x204df8){const _0x21075c=a3_0x585d4c;if(fs['existsSync'](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x562aa7[_0x21075c(0x175)]['info']('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+_0x21075c(0x17d),{'timeout':0x3a98}),_0x562aa7[_0x21075c(0x175)][_0x21075c(0x184)](_0x21075c(0x165)),_0x204df8&&_0x204df8(),!![];}catch(_0x5e3155){_0x562aa7[_0x21075c(0x175)]['warn'](_0x21075c(0x16d));}else _0x562aa7['log'][_0x21075c(0x187)](_0x21075c(0x156));return installPythonDependencies(_0x562aa7,_0x204df8),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};