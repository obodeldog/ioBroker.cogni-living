const a3_0x111fef=a3_0x3bbb;function a3_0x3bbb(_0x5c9d53,_0x4c9fd1){const _0x523290=a3_0x22cd();return a3_0x3bbb=function(_0x531a1d,_0xf22f35){_0x531a1d=_0x531a1d-0x83;let _0x22cdde=_0x523290[_0x531a1d];return _0x22cdde;},a3_0x3bbb(_0x5c9d53,_0x4c9fd1);}(function(_0x362b9d,_0x293464){const _0x1f9e8f=a3_0x3bbb,_0x28afe7=_0x362b9d();while(!![]){try{const _0x4ff061=parseInt(_0x1f9e8f(0xa6))/0x1*(-parseInt(_0x1f9e8f(0x99))/0x2)+parseInt(_0x1f9e8f(0x9b))/0x3+-parseInt(_0x1f9e8f(0xa8))/0x4*(parseInt(_0x1f9e8f(0x87))/0x5)+-parseInt(_0x1f9e8f(0xa9))/0x6*(-parseInt(_0x1f9e8f(0xa4))/0x7)+-parseInt(_0x1f9e8f(0x9c))/0x8+parseInt(_0x1f9e8f(0xa0))/0x9*(parseInt(_0x1f9e8f(0x92))/0xa)+parseInt(_0x1f9e8f(0xb0))/0xb;if(_0x4ff061===_0x293464)break;else _0x28afe7['push'](_0x28afe7['shift']());}catch(_0x99881){_0x28afe7['push'](_0x28afe7['shift']());}}}(a3_0x22cd,0x8510e));const a3_0xf22f35=(function(){let _0x5d5e3c=!![];return function(_0xa1d765,_0x485b11){const _0x462666=_0x5d5e3c?function(){if(_0x485b11){const _0x5650da=_0x485b11['apply'](_0xa1d765,arguments);return _0x485b11=null,_0x5650da;}}:function(){};return _0x5d5e3c=![],_0x462666;};}()),a3_0x531a1d=a3_0xf22f35(this,function(){const _0x143538=a3_0x3bbb;return a3_0x531a1d['toString']()[_0x143538(0x8f)](_0x143538(0x85))[_0x143538(0x96)]()['constructor'](a3_0x531a1d)[_0x143538(0x8f)](_0x143538(0x85));});a3_0x531a1d();'use strict';const {exec,execSync}=require(a3_0x111fef(0xaf)),path=require('path'),fs=require('fs'),IS_WIN=process['platform']===a3_0x111fef(0x9e),ADAPTER_DIR=path[a3_0x111fef(0xae)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x111fef(0xae)](ADAPTER_DIR,a3_0x111fef(0x97)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,'Scripts','python.exe'):path['join'](VENV_PATH,a3_0x111fef(0xb7),a3_0x111fef(0x95)),PIP_EXE=IS_WIN?path[a3_0x111fef(0xae)](VENV_PATH,a3_0x111fef(0x86),a3_0x111fef(0x88)):path[a3_0x111fef(0xae)](VENV_PATH,a3_0x111fef(0xb7),a3_0x111fef(0x90));function stopPythonService(_0x54c2b3){const _0x46ae8a=a3_0x111fef;if(_0x54c2b3[_0x46ae8a(0xaa)]){try{_0x54c2b3[_0x46ae8a(0xaa)][_0x46ae8a(0x8e)]();}catch(_0x2b7da7){}_0x54c2b3[_0x46ae8a(0xaa)]=null;}}function installRequirementsInVenv(_0x5ed89a,_0x189733,_0x46d803){const _0x43d8b1=a3_0x111fef;_0x5ed89a[_0x43d8b1(0xb2)][_0x43d8b1(0xa7)](_0x43d8b1(0xb4));const _0x46b4a2='\x22'+PIP_EXE+_0x43d8b1(0x8c)+_0x189733+'\x22';exec(_0x46b4a2,{'timeout':0x1b7740},(_0x3c80bf,_0x58c213,_0x1a1640)=>{const _0x26833f=_0x43d8b1;_0x5ed89a[_0x26833f(0xa2)]=![];if(_0x3c80bf){_0x5ed89a[_0x26833f(0xb2)][_0x26833f(0xa5)](_0x26833f(0xb5)+(_0x1a1640||_0x3c80bf[_0x26833f(0x8b)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x1a20f4){}}else _0x5ed89a['log'][_0x26833f(0xa7)](_0x26833f(0x83)),_0x46d803&&_0x46d803();});}function installPythonDependencies(_0x42e5c3,_0x10cbf8){const _0x44d40a=a3_0x111fef;if(_0x42e5c3[_0x44d40a(0xa2)])return;_0x42e5c3[_0x44d40a(0xa2)]=!![];const _0x51796d=path[_0x44d40a(0xae)](ADAPTER_DIR,_0x44d40a(0x8d),_0x44d40a(0x89));stopPythonService(_0x42e5c3);if(fs[_0x44d40a(0xb3)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x42e5c3[_0x44d40a(0xb2)][_0x44d40a(0x9d)](_0x44d40a(0xb8));try{fs[_0x44d40a(0x91)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x879fa7){_0x42e5c3[_0x44d40a(0xb2)][_0x44d40a(0xa5)](_0x44d40a(0xab)+_0x879fa7[_0x44d40a(0x8b)]);}}if(!fs[_0x44d40a(0xb3)](VENV_PATH))try{_0x42e5c3[_0x44d40a(0xb2)][_0x44d40a(0xa7)]('Creating\x20new\x20VENV...'),execSync(_0x44d40a(0x8a)+VENV_PATH+'\x22');}catch(_0x5dbbf5){_0x42e5c3[_0x44d40a(0xa2)]=![];_0x5dbbf5[_0x44d40a(0x8b)][_0x44d40a(0xa1)](_0x44d40a(0x98))||_0x5dbbf5['message'][_0x44d40a(0xa1)](_0x44d40a(0x94))?(_0x42e5c3[_0x44d40a(0xb2)][_0x44d40a(0xa5)](_0x44d40a(0x93)),_0x42e5c3['log'][_0x44d40a(0xa5)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x42e5c3[_0x44d40a(0xb2)]['error'](_0x44d40a(0x84)+_0x5dbbf5['message']+_0x44d40a(0xac));return;}installRequirementsInVenv(_0x42e5c3,_0x51796d,_0x10cbf8);}function checkAndInstall(_0x190a84,_0x135a6d){const _0x2ab6e0=a3_0x111fef;if(fs[_0x2ab6e0(0xb3)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x190a84[_0x2ab6e0(0xb2)]['info'](_0x2ab6e0(0xb1)),execSync('\x22'+PYTHON_EXE+_0x2ab6e0(0xa3),{'timeout':0x3a98}),_0x190a84[_0x2ab6e0(0xb2)][_0x2ab6e0(0xa7)](_0x2ab6e0(0xad)),_0x135a6d&&_0x135a6d(),!![];}catch(_0x517f5d){_0x190a84['log'][_0x2ab6e0(0x9d)](_0x2ab6e0(0x9a));}else _0x190a84['log'][_0x2ab6e0(0x9d)](_0x2ab6e0(0xb6));return installPythonDependencies(_0x190a84,_0x135a6d),![];}function a3_0x22cd(){const _0x5230b0=['requirements.txt','python3\x20-m\x20venv\x20\x22','message','\x22\x20install\x20-r\x20\x22','python_service','kill','search','pip','rmSync','3053970azHAyB','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','Permission\x20denied','python','toString','.venv','EACCES','16oFdcUA','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','183105BFKMCQ','1842320zacJVQ','warn','win32','exports','27rZTnjt','includes','dependencyInstallInProgress','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','3997007oJbMfD','error','130854ztdzbb','info','1598452LhYohA','6EanBWC','pythonProcess','Delete\x20failed:\x20','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','join','child_process','7409006XJmMyH','üêç\x20Checking\x20Python\x20environment...','log','existsSync','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','‚ùå\x20INSTALL\x20FAILED:\x20','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','bin','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','‚úÖ\x20INSTALL\x20SUCCESS.','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','(((.+)+)+)+$','Scripts','5rJOVwe','pip.exe'];a3_0x22cd=function(){return _0x5230b0;};return a3_0x22cd();}module[a3_0x111fef(0x9f)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};