const a3_0x458d61=a3_0x4843;(function(_0x34d509,_0x2ed1d6){const _0xea9b08=a3_0x4843,_0x269c10=_0x34d509();while(!![]){try{const _0x4d1deb=-parseInt(_0xea9b08(0xaa))/0x1*(-parseInt(_0xea9b08(0xd3))/0x2)+parseInt(_0xea9b08(0xa9))/0x3+-parseInt(_0xea9b08(0xb1))/0x4+parseInt(_0xea9b08(0xb7))/0x5+parseInt(_0xea9b08(0xd1))/0x6+parseInt(_0xea9b08(0xaf))/0x7*(-parseInt(_0xea9b08(0xad))/0x8)+-parseInt(_0xea9b08(0xbf))/0x9*(parseInt(_0xea9b08(0xd5))/0xa);if(_0x4d1deb===_0x2ed1d6)break;else _0x269c10['push'](_0x269c10['shift']());}catch(_0x118b17){_0x269c10['push'](_0x269c10['shift']());}}}(a3_0x1acb,0x78c80));const a3_0x20513=(function(){let _0x5238f9=!![];return function(_0x196a96,_0x55feaf){const _0x1a5829=_0x5238f9?function(){const _0x6e3620=a3_0x4843;if(_0x55feaf){const _0x43cf2b=_0x55feaf[_0x6e3620(0xd6)](_0x196a96,arguments);return _0x55feaf=null,_0x43cf2b;}}:function(){};return _0x5238f9=![],_0x1a5829;};}()),a3_0x5e5124=a3_0x20513(this,function(){const _0x373e94=a3_0x4843;return a3_0x5e5124[_0x373e94(0xcf)]()['search'](_0x373e94(0xab))[_0x373e94(0xcf)]()[_0x373e94(0xb3)](a3_0x5e5124)[_0x373e94(0xc1)](_0x373e94(0xab));});a3_0x5e5124();'use strict';const {exec,execSync}=require('child_process'),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x458d61(0xcd)]===a3_0x458d61(0xd0),ADAPTER_DIR=path[a3_0x458d61(0xba)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x458d61(0xba)](ADAPTER_DIR,a3_0x458d61(0xc3)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x458d61(0xac),'python.exe'):path[a3_0x458d61(0xba)](VENV_PATH,a3_0x458d61(0xa7),a3_0x458d61(0xb8)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,'Scripts',a3_0x458d61(0xbe)):path['join'](VENV_PATH,a3_0x458d61(0xa7),a3_0x458d61(0xb9));function stopPythonService(_0x44c9a6){const _0x458cf0=a3_0x458d61;if(_0x44c9a6['pythonProcess']){try{_0x44c9a6[_0x458cf0(0xc7)][_0x458cf0(0xc6)]();}catch(_0x1009a4){}_0x44c9a6[_0x458cf0(0xc7)]=null;}}function installRequirementsInVenv(_0xd22e86,_0x35bbe2,_0x30ceb2){const _0x472006=a3_0x458d61;_0xd22e86[_0x472006(0xd4)]['info']('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0x268482='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x35bbe2+'\x22';exec(_0x268482,{'timeout':0x1b7740},(_0x215ef2,_0x38b7aa,_0x22ce7c)=>{const _0x112e7e=_0x472006;_0xd22e86['dependencyInstallInProgress']=![];if(_0x215ef2){_0xd22e86[_0x112e7e(0xd4)]['error'](_0x112e7e(0xb4)+(_0x22ce7c||_0x215ef2['message']));try{fs[_0x112e7e(0xbc)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x192325){}}else _0xd22e86[_0x112e7e(0xd4)][_0x112e7e(0xd9)](_0x112e7e(0xb2)),_0x30ceb2&&_0x30ceb2();});}function a3_0x4843(_0x380a69,_0x52f5c5){const _0x382f92=a3_0x1acb();return a3_0x4843=function(_0x5e5124,_0x20513){_0x5e5124=_0x5e5124-0xa5;let _0x1acb87=_0x382f92[_0x5e5124];return _0x1acb87;},a3_0x4843(_0x380a69,_0x52f5c5);}function installPythonDependencies(_0x259be3,_0x9840b1){const _0x379bb5=a3_0x458d61;if(_0x259be3[_0x379bb5(0xd7)])return;_0x259be3[_0x379bb5(0xd7)]=!![];const _0x3880bc=path[_0x379bb5(0xba)](ADAPTER_DIR,_0x379bb5(0xca),_0x379bb5(0xc8));stopPythonService(_0x259be3);if(fs[_0x379bb5(0xc2)](VENV_PATH)&&!fs[_0x379bb5(0xc2)](PIP_EXE)){_0x259be3[_0x379bb5(0xd4)][_0x379bb5(0xd8)](_0x379bb5(0xc0));try{fs[_0x379bb5(0xbc)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x2c2525){_0x259be3['log'][_0x379bb5(0xc4)](_0x379bb5(0xcc)+_0x2c2525['message']);}}if(!fs[_0x379bb5(0xc2)](VENV_PATH))try{_0x259be3[_0x379bb5(0xd4)]['info'](_0x379bb5(0xbd)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x1fabce){_0x259be3['dependencyInstallInProgress']=![];_0x1fabce['message'][_0x379bb5(0xd2)](_0x379bb5(0xa8))||_0x1fabce[_0x379bb5(0xae)][_0x379bb5(0xd2)](_0x379bb5(0xb5))?(_0x259be3[_0x379bb5(0xd4)]['error'](_0x379bb5(0xb0)),_0x259be3[_0x379bb5(0xd4)][_0x379bb5(0xc4)](_0x379bb5(0xa6)+ADAPTER_DIR)):_0x259be3[_0x379bb5(0xd4)][_0x379bb5(0xc4)](_0x379bb5(0xc9)+_0x1fabce[_0x379bb5(0xae)]+_0x379bb5(0xbb));return;}installRequirementsInVenv(_0x259be3,_0x3880bc,_0x9840b1);}function a3_0x1acb(){const _0x3a25e3=['3369088hQusUf','message','7pJFVKM','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','2062192fIIFdd','‚úÖ\x20INSTALL\x20SUCCESS.','constructor','‚ùå\x20INSTALL\x20FAILED:\x20','Permission\x20denied','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','2602165gOKeUH','python','pip','join','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','rmSync','Creating\x20new\x20VENV...','pip.exe','9BmHnzL','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','search','existsSync','.venv','error','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','kill','pythonProcess','requirements.txt','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','python_service','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','Delete\x20failed:\x20','platform','üêç\x20Checking\x20Python\x20environment...','toString','win32','3025278RpYUbN','includes','1562XJaOGo','log','12098750Ozrghi','apply','dependencyInstallInProgress','warn','info','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','bin','EACCES','2954412TqUQmY','809zGfYiE','(((.+)+)+)+$','Scripts'];a3_0x1acb=function(){return _0x3a25e3;};return a3_0x1acb();}function checkAndInstall(_0x5b2d4d,_0x5ae665){const _0x13ecd5=a3_0x458d61;if(fs[_0x13ecd5(0xc2)](PYTHON_EXE)&&fs[_0x13ecd5(0xc2)](PIP_EXE))try{return _0x5b2d4d[_0x13ecd5(0xd4)][_0x13ecd5(0xd9)](_0x13ecd5(0xce)),execSync('\x22'+PYTHON_EXE+_0x13ecd5(0xcb),{'timeout':0x3a98}),_0x5b2d4d[_0x13ecd5(0xd4)][_0x13ecd5(0xd9)](_0x13ecd5(0xb6)),_0x5ae665&&_0x5ae665(),!![];}catch(_0x112de8){_0x5b2d4d['log']['warn'](_0x13ecd5(0xc5));}else _0x5b2d4d[_0x13ecd5(0xd4)][_0x13ecd5(0xd8)](_0x13ecd5(0xa5));return installPythonDependencies(_0x5b2d4d,_0x5ae665),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};