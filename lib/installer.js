const a3_0x232376=a3_0x5b77;(function(_0xa21f89,_0x4e25da){const _0x28fe67=a3_0x5b77,_0x4a3eac=_0xa21f89();while(!![]){try{const _0x2b054c=-parseInt(_0x28fe67(0x121))/0x1+-parseInt(_0x28fe67(0x135))/0x2+parseInt(_0x28fe67(0x10f))/0x3*(parseInt(_0x28fe67(0x12a))/0x4)+parseInt(_0x28fe67(0x118))/0x5*(parseInt(_0x28fe67(0x133))/0x6)+-parseInt(_0x28fe67(0x12d))/0x7*(parseInt(_0x28fe67(0x119))/0x8)+parseInt(_0x28fe67(0x129))/0x9+-parseInt(_0x28fe67(0x11f))/0xa*(-parseInt(_0x28fe67(0x106))/0xb);if(_0x2b054c===_0x4e25da)break;else _0x4a3eac['push'](_0x4a3eac['shift']());}catch(_0x219a94){_0x4a3eac['push'](_0x4a3eac['shift']());}}}(a3_0x21f5,0x9dcaf));const a3_0x266292=(function(){let _0x50f21c=!![];return function(_0x471726,_0x4509cd){const _0x301d68=_0x50f21c?function(){const _0x57f25b=a3_0x5b77;if(_0x4509cd){const _0x35a58a=_0x4509cd[_0x57f25b(0x137)](_0x471726,arguments);return _0x4509cd=null,_0x35a58a;}}:function(){};return _0x50f21c=![],_0x301d68;};}()),a3_0x124e2b=a3_0x266292(this,function(){const _0x27fc1b=a3_0x5b77;return a3_0x124e2b[_0x27fc1b(0x111)]()['search']('(((.+)+)+)+$')[_0x27fc1b(0x111)]()[_0x27fc1b(0x10c)](a3_0x124e2b)[_0x27fc1b(0x132)](_0x27fc1b(0x109));});a3_0x124e2b();'use strict';const {exec,execSync}=require(a3_0x232376(0x125)),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x232376(0x116)]===a3_0x232376(0x110),ADAPTER_DIR=path[a3_0x232376(0x122)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x232376(0x122)](ADAPTER_DIR,a3_0x232376(0x123)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x232376(0x122)](VENV_PATH,a3_0x232376(0x127),'python.exe'):path[a3_0x232376(0x122)](VENV_PATH,a3_0x232376(0x10d),a3_0x232376(0x130)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x232376(0x127),a3_0x232376(0x131)):path['join'](VENV_PATH,a3_0x232376(0x10d),'pip');function stopPythonService(_0x5a825a){const _0x107a9a=a3_0x232376;if(_0x5a825a['pythonProcess']){try{_0x5a825a[_0x107a9a(0x10a)]['kill']();}catch(_0x1f3b20){}_0x5a825a[_0x107a9a(0x10a)]=null;}}function installRequirementsInVenv(_0x1ca7c1,_0x2cd104,_0x5c9964){const _0x285c07=a3_0x232376;_0x1ca7c1['log'][_0x285c07(0x124)](_0x285c07(0x12e));const _0x450c66='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x2cd104+'\x22';exec(_0x450c66,{'timeout':0x1b7740},(_0x1b937d,_0x3ed449,_0x35dab7)=>{const _0x572d18=_0x285c07;_0x1ca7c1[_0x572d18(0x12c)]=![];if(_0x1b937d){_0x1ca7c1[_0x572d18(0x11a)][_0x572d18(0x12b)](_0x572d18(0x108)+(_0x35dab7||_0x1b937d['message']));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x2f9267){}}else _0x1ca7c1[_0x572d18(0x11a)][_0x572d18(0x124)](_0x572d18(0x134)),_0x5c9964&&_0x5c9964();});}function installPythonDependencies(_0x540fce,_0x711f51){const _0x4dc8a1=a3_0x232376;if(_0x540fce[_0x4dc8a1(0x12c)])return;_0x540fce[_0x4dc8a1(0x12c)]=!![];const _0x335ac3=path[_0x4dc8a1(0x122)](ADAPTER_DIR,'python_service',_0x4dc8a1(0x11d));stopPythonService(_0x540fce);if(fs[_0x4dc8a1(0x11e)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x540fce[_0x4dc8a1(0x11a)][_0x4dc8a1(0x107)](_0x4dc8a1(0x128));try{fs[_0x4dc8a1(0x136)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x447567){_0x540fce['log'][_0x4dc8a1(0x12b)](_0x4dc8a1(0x126)+_0x447567[_0x4dc8a1(0x11b)]);}}if(!fs[_0x4dc8a1(0x11e)](VENV_PATH))try{_0x540fce['log'][_0x4dc8a1(0x124)](_0x4dc8a1(0x12f)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x4339b4){_0x540fce[_0x4dc8a1(0x12c)]=![];_0x4339b4[_0x4dc8a1(0x11b)][_0x4dc8a1(0x115)]('EACCES')||_0x4339b4[_0x4dc8a1(0x11b)][_0x4dc8a1(0x115)](_0x4dc8a1(0x11c))?(_0x540fce[_0x4dc8a1(0x11a)]['error'](_0x4dc8a1(0x10e)),_0x540fce['log'][_0x4dc8a1(0x12b)](_0x4dc8a1(0x117)+ADAPTER_DIR)):_0x540fce[_0x4dc8a1(0x11a)][_0x4dc8a1(0x12b)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x4339b4[_0x4dc8a1(0x11b)]+_0x4dc8a1(0x112));return;}installRequirementsInVenv(_0x540fce,_0x335ac3,_0x711f51);}function a3_0x21f5(){const _0x85f415=['existsSync','20030mMBfFI','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','884033CnJJBv','join','.venv','info','child_process','Delete\x20failed:\x20','Scripts','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','10077435xgcBtx','14692mzudCh','error','dependencyInstallInProgress','7RPtETM','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','Creating\x20new\x20VENV...','python','pip.exe','search','1662354xllwaF','‚úÖ\x20INSTALL\x20SUCCESS.','1536078HqjhDP','rmSync','apply','6479EEiMOf','warn','‚ùå\x20INSTALL\x20FAILED:\x20','(((.+)+)+)+$','pythonProcess','exports','constructor','bin','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','9TCBvVX','win32','toString','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','includes','platform','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','5iZIbNO','2313352rLWtNw','log','message','Permission\x20denied','requirements.txt'];a3_0x21f5=function(){return _0x85f415;};return a3_0x21f5();}function checkAndInstall(_0x4e839b,_0x4873da){const _0x21e655=a3_0x232376;if(fs[_0x21e655(0x11e)](PYTHON_EXE)&&fs[_0x21e655(0x11e)](PIP_EXE))try{return _0x4e839b['log'][_0x21e655(0x124)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x4e839b[_0x21e655(0x11a)][_0x21e655(0x124)](_0x21e655(0x114)),_0x4873da&&_0x4873da(),!![];}catch(_0x49711e){_0x4e839b[_0x21e655(0x11a)][_0x21e655(0x107)](_0x21e655(0x120));}else _0x4e839b[_0x21e655(0x11a)]['warn'](_0x21e655(0x113));return installPythonDependencies(_0x4e839b,_0x4873da),![];}function a3_0x5b77(_0x326cec,_0xa95f71){const _0x974eb6=a3_0x21f5();return a3_0x5b77=function(_0x124e2b,_0x266292){_0x124e2b=_0x124e2b-0x106;let _0x21f5da=_0x974eb6[_0x124e2b];return _0x21f5da;},a3_0x5b77(_0x326cec,_0xa95f71);}module[a3_0x232376(0x10b)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};