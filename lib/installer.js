const a2_0x490c73=a2_0x3e26;function a2_0x1331(){const _0x5761fe=['6099947YRzETa','Scripts','‚ùå\x20INSTALL\x20FAILED:\x20','Delete\x20failed:\x20','1338698eIaVZU','search','EACCES','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','253pARkur','warn','python_service','message','child_process','18364mXmCNF','1pUfcSH','python3\x20-m\x20venv\x20\x22','existsSync','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','pythonProcess','255oOvcyB','dependencyInstallInProgress','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','join','info','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','platform','toString','640310qVwGEe','(((.+)+)+)+$','‚úÖ\x20INSTALL\x20SUCCESS.','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','bin','1098TzeoSd','Creating\x20new\x20VENV...','python','2172012DfPBfq','pip.exe','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','3010539sqGDFf','path','kill','exports','error','win32','includes','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','log','21384BDxVlQ'];a2_0x1331=function(){return _0x5761fe;};return a2_0x1331();}(function(_0x5d9163,_0x3daabf){const _0x4806ca=a2_0x3e26,_0x431092=_0x5d9163();while(!![]){try{const _0x444575=parseInt(_0x4806ca(0x115))/0x1*(parseInt(_0x4806ca(0x13c))/0x2)+-parseInt(_0x4806ca(0x12e))/0x3+parseInt(_0x4806ca(0x114))/0x4*(-parseInt(_0x4806ca(0x11a))/0x5)+parseInt(_0x4806ca(0x12b))/0x6+-parseInt(_0x4806ca(0x138))/0x7+parseInt(_0x4806ca(0x137))/0x8*(parseInt(_0x4806ca(0x128))/0x9)+-parseInt(_0x4806ca(0x123))/0xa*(-parseInt(_0x4806ca(0x10f))/0xb);if(_0x444575===_0x3daabf)break;else _0x431092['push'](_0x431092['shift']());}catch(_0x1a5a41){_0x431092['push'](_0x431092['shift']());}}}(a2_0x1331,0xb00c7));const a2_0x3fb1bf=(function(){let _0x566509=!![];return function(_0x14055f,_0x241da5){const _0x58e4b8=_0x566509?function(){if(_0x241da5){const _0x3c6fb2=_0x241da5['apply'](_0x14055f,arguments);return _0x241da5=null,_0x3c6fb2;}}:function(){};return _0x566509=![],_0x58e4b8;};}()),a2_0x412747=a2_0x3fb1bf(this,function(){const _0x4811e9=a2_0x3e26;return a2_0x412747[_0x4811e9(0x122)]()[_0x4811e9(0x13d)](_0x4811e9(0x124))[_0x4811e9(0x122)]()['constructor'](a2_0x412747)[_0x4811e9(0x13d)](_0x4811e9(0x124));});a2_0x412747();'use strict';const {exec,execSync}=require(a2_0x490c73(0x113)),path=require(a2_0x490c73(0x12f)),fs=require('fs'),IS_WIN=process[a2_0x490c73(0x121)]===a2_0x490c73(0x133),ADAPTER_DIR=path[a2_0x490c73(0x11e)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a2_0x490c73(0x11e)](VENV_PATH,a2_0x490c73(0x139),'python.exe'):path[a2_0x490c73(0x11e)](VENV_PATH,a2_0x490c73(0x127),a2_0x490c73(0x12a)),PIP_EXE=IS_WIN?path[a2_0x490c73(0x11e)](VENV_PATH,'Scripts',a2_0x490c73(0x12c)):path[a2_0x490c73(0x11e)](VENV_PATH,a2_0x490c73(0x127),'pip');function stopPythonService(_0x357bab){const _0x45852c=a2_0x490c73;if(_0x357bab[_0x45852c(0x119)]){try{_0x357bab[_0x45852c(0x119)][_0x45852c(0x130)]();}catch(_0x455268){}_0x357bab[_0x45852c(0x119)]=null;}}function a2_0x3e26(_0x3298f7,_0x162acb){const _0xbd8fa=a2_0x1331();return a2_0x3e26=function(_0x412747,_0x3fb1bf){_0x412747=_0x412747-0x10d;let _0x1331cb=_0xbd8fa[_0x412747];return _0x1331cb;},a2_0x3e26(_0x3298f7,_0x162acb);}function installRequirementsInVenv(_0x52aaf4,_0x24ba05,_0x2b6ff2){const _0x850c46=a2_0x490c73;_0x52aaf4[_0x850c46(0x136)][_0x850c46(0x11f)](_0x850c46(0x120));const _0x3e6d61='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x24ba05+'\x22';exec(_0x3e6d61,{'timeout':0x1b7740},(_0xdf1e3,_0x4f63c6,_0x150252)=>{const _0x235393=_0x850c46;_0x52aaf4[_0x235393(0x11b)]=![];if(_0xdf1e3){_0x52aaf4[_0x235393(0x136)][_0x235393(0x132)](_0x235393(0x13a)+(_0x150252||_0xdf1e3[_0x235393(0x112)]));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x3cfd87){}}else _0x52aaf4[_0x235393(0x136)]['info'](_0x235393(0x125)),_0x2b6ff2&&_0x2b6ff2();});}function installPythonDependencies(_0x836408,_0x2d5fbb){const _0x24d7cd=a2_0x490c73;if(_0x836408[_0x24d7cd(0x11b)])return;_0x836408[_0x24d7cd(0x11b)]=!![];const _0xb798ab=path[_0x24d7cd(0x11e)](ADAPTER_DIR,_0x24d7cd(0x111),'requirements.txt');stopPythonService(_0x836408);if(fs['existsSync'](VENV_PATH)&&!fs[_0x24d7cd(0x117)](PIP_EXE)){_0x836408[_0x24d7cd(0x136)][_0x24d7cd(0x110)](_0x24d7cd(0x10e));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x562e68){_0x836408['log'][_0x24d7cd(0x132)](_0x24d7cd(0x13b)+_0x562e68[_0x24d7cd(0x112)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x836408[_0x24d7cd(0x136)][_0x24d7cd(0x11f)](_0x24d7cd(0x129)),execSync(_0x24d7cd(0x116)+VENV_PATH+'\x22');}catch(_0x434b4c){_0x836408[_0x24d7cd(0x11b)]=![];_0x434b4c[_0x24d7cd(0x112)][_0x24d7cd(0x134)](_0x24d7cd(0x10d))||_0x434b4c['message'][_0x24d7cd(0x134)]('Permission\x20denied')?(_0x836408[_0x24d7cd(0x136)][_0x24d7cd(0x132)](_0x24d7cd(0x12d)),_0x836408[_0x24d7cd(0x136)]['error'](_0x24d7cd(0x118)+ADAPTER_DIR)):_0x836408[_0x24d7cd(0x136)][_0x24d7cd(0x132)](_0x24d7cd(0x11c)+_0x434b4c[_0x24d7cd(0x112)]+_0x24d7cd(0x135));return;}installRequirementsInVenv(_0x836408,_0xb798ab,_0x2d5fbb);}function checkAndInstall(_0x3f2032,_0x2e1f08){const _0x355493=a2_0x490c73;if(fs['existsSync'](PYTHON_EXE)&&fs[_0x355493(0x117)](PIP_EXE))try{return _0x3f2032[_0x355493(0x136)][_0x355493(0x11f)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x3f2032[_0x355493(0x136)][_0x355493(0x11f)](_0x355493(0x126)),_0x2e1f08&&_0x2e1f08(),!![];}catch(_0x532a8a){_0x3f2032['log'][_0x355493(0x110)]('‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...');}else _0x3f2032[_0x355493(0x136)][_0x355493(0x110)](_0x355493(0x11d));return installPythonDependencies(_0x3f2032,_0x2e1f08),![];}module[a2_0x490c73(0x131)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};