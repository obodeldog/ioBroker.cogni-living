const a3_0x31bdc7=a3_0x194f;(function(_0x50cde7,_0x455f9d){const _0x430a72=a3_0x194f,_0x29602c=_0x50cde7();while(!![]){try{const _0x37bc5=-parseInt(_0x430a72(0x139))/0x1+parseInt(_0x430a72(0x150))/0x2+parseInt(_0x430a72(0x14a))/0x3*(-parseInt(_0x430a72(0x152))/0x4)+-parseInt(_0x430a72(0x129))/0x5*(-parseInt(_0x430a72(0x144))/0x6)+-parseInt(_0x430a72(0x121))/0x7*(-parseInt(_0x430a72(0x149))/0x8)+parseInt(_0x430a72(0x147))/0x9+parseInt(_0x430a72(0x127))/0xa*(parseInt(_0x430a72(0x130))/0xb);if(_0x37bc5===_0x455f9d)break;else _0x29602c['push'](_0x29602c['shift']());}catch(_0x1cefa9){_0x29602c['push'](_0x29602c['shift']());}}}(a3_0x5265,0xbad54));const a3_0xd19c63=(function(){let _0x3fec72=!![];return function(_0x2ecf3e,_0x49a367){const _0x516792=_0x3fec72?function(){if(_0x49a367){const _0x644d4a=_0x49a367['apply'](_0x2ecf3e,arguments);return _0x49a367=null,_0x644d4a;}}:function(){};return _0x3fec72=![],_0x516792;};}()),a3_0x582cdb=a3_0xd19c63(this,function(){const _0x5ac5e6=a3_0x194f;return a3_0x582cdb['toString']()[_0x5ac5e6(0x12b)]('(((.+)+)+)+$')[_0x5ac5e6(0x12e)]()['constructor'](a3_0x582cdb)[_0x5ac5e6(0x12b)](_0x5ac5e6(0x13f));});a3_0x582cdb();'use strict';const {exec,execSync}=require(a3_0x31bdc7(0x14d)),path=require(a3_0x31bdc7(0x13e)),fs=require('fs'),IS_WIN=process[a3_0x31bdc7(0x142)]===a3_0x31bdc7(0x138),ADAPTER_DIR=path['join'](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x31bdc7(0x140)](VENV_PATH,a3_0x31bdc7(0x13d),a3_0x31bdc7(0x13a)):path['join'](VENV_PATH,'bin',a3_0x31bdc7(0x151)),PIP_EXE=IS_WIN?path[a3_0x31bdc7(0x140)](VENV_PATH,a3_0x31bdc7(0x13d),a3_0x31bdc7(0x125)):path[a3_0x31bdc7(0x140)](VENV_PATH,a3_0x31bdc7(0x132),a3_0x31bdc7(0x13b));function stopPythonService(_0x17d8ca){const _0x59b57e=a3_0x31bdc7;if(_0x17d8ca[_0x59b57e(0x145)]){try{_0x17d8ca[_0x59b57e(0x145)]['kill']();}catch(_0x33e2bb){}_0x17d8ca[_0x59b57e(0x145)]=null;}}function installRequirementsInVenv(_0xea0175,_0x46280f,_0x3dd43f){const _0x3a50bd=a3_0x31bdc7;_0xea0175[_0x3a50bd(0x13c)]['info'](_0x3a50bd(0x14c));const _0x5c91a6='\x22'+PIP_EXE+'\x22\x20install\x20-r\x20\x22'+_0x46280f+'\x22';exec(_0x5c91a6,{'timeout':0x1b7740},(_0x29d113,_0x4ee52d,_0x481bad)=>{const _0x103c71=_0x3a50bd;_0xea0175[_0x103c71(0x141)]=![];if(_0x29d113){_0xea0175[_0x103c71(0x13c)][_0x103c71(0x12f)](_0x103c71(0x148)+(_0x481bad||_0x29d113['message']));try{fs[_0x103c71(0x14f)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x2b5949){}}else _0xea0175[_0x103c71(0x13c)][_0x103c71(0x136)](_0x103c71(0x14b)),_0x3dd43f&&_0x3dd43f();});}function a3_0x194f(_0x53ffa8,_0x80430c){const _0x5d9b9e=a3_0x5265();return a3_0x194f=function(_0x582cdb,_0xd19c63){_0x582cdb=_0x582cdb-0x121;let _0x526507=_0x5d9b9e[_0x582cdb];return _0x526507;},a3_0x194f(_0x53ffa8,_0x80430c);}function a3_0x5265(){const _0x5c5cda=['exports','rmSync','475204XwPBVh','python','12488UhvXWT','98XQRyaf','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','pip.exe','requirements.txt','21350vrwFOC','EACCES','430GdctPX','üêç\x20Checking\x20Python\x20environment...','search','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','toString','error','2915gyIOXR','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','bin','message','Creating\x20new\x20VENV...','includes','info','python_service','win32','1209989tvjINI','python.exe','pip','log','Scripts','path','(((.+)+)+)+$','join','dependencyInstallInProgress','platform','existsSync','43614MdxLJC','pythonProcess','warn','879768ulKKkS','‚ùå\x20INSTALL\x20FAILED:\x20','413560lrDBXA','264qYqPCD','‚úÖ\x20INSTALL\x20SUCCESS.','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','child_process'];a3_0x5265=function(){return _0x5c5cda;};return a3_0x5265();}function installPythonDependencies(_0x257284,_0x2919de){const _0x182ce6=a3_0x31bdc7;if(_0x257284['dependencyInstallInProgress'])return;_0x257284['dependencyInstallInProgress']=!![];const _0x2cdf5b=path['join'](ADAPTER_DIR,_0x182ce6(0x137),_0x182ce6(0x126));stopPythonService(_0x257284);if(fs[_0x182ce6(0x143)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x257284[_0x182ce6(0x13c)][_0x182ce6(0x146)](_0x182ce6(0x124));try{fs[_0x182ce6(0x14f)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x220e03){_0x257284[_0x182ce6(0x13c)]['error']('Delete\x20failed:\x20'+_0x220e03[_0x182ce6(0x133)]);}}if(!fs[_0x182ce6(0x143)](VENV_PATH))try{_0x257284[_0x182ce6(0x13c)][_0x182ce6(0x136)](_0x182ce6(0x134)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0xd593c3){_0x257284[_0x182ce6(0x141)]=![];_0xd593c3[_0x182ce6(0x133)][_0x182ce6(0x135)](_0x182ce6(0x128))||_0xd593c3[_0x182ce6(0x133)]['includes']('Permission\x20denied')?(_0x257284[_0x182ce6(0x13c)][_0x182ce6(0x12f)]('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x257284[_0x182ce6(0x13c)]['error'](_0x182ce6(0x12d)+ADAPTER_DIR)):_0x257284[_0x182ce6(0x13c)]['error'](_0x182ce6(0x131)+_0xd593c3[_0x182ce6(0x133)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x257284,_0x2cdf5b,_0x2919de);}function checkAndInstall(_0x1b79ff,_0x3f48ef){const _0x3f2c28=a3_0x31bdc7;if(fs[_0x3f2c28(0x143)](PYTHON_EXE)&&fs[_0x3f2c28(0x143)](PIP_EXE))try{return _0x1b79ff['log'][_0x3f2c28(0x136)](_0x3f2c28(0x12a)),execSync('\x22'+PYTHON_EXE+_0x3f2c28(0x123),{'timeout':0x3a98}),_0x1b79ff[_0x3f2c28(0x13c)][_0x3f2c28(0x136)]('‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'),_0x3f48ef&&_0x3f48ef(),!![];}catch(_0x272cdf){_0x1b79ff['log'][_0x3f2c28(0x146)](_0x3f2c28(0x12c));}else _0x1b79ff[_0x3f2c28(0x13c)][_0x3f2c28(0x146)](_0x3f2c28(0x122));return installPythonDependencies(_0x1b79ff,_0x3f48ef),![];}module[a3_0x31bdc7(0x14e)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};