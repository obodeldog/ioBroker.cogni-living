const a3_0x1f5af2=a3_0x752c;(function(_0x580d0d,_0x427281){const _0x2a103a=a3_0x752c,_0x55d92b=_0x580d0d();while(!![]){try{const _0x44d5d1=-parseInt(_0x2a103a(0x1f6))/0x1+parseInt(_0x2a103a(0x1fa))/0x2+parseInt(_0x2a103a(0x1da))/0x3+-parseInt(_0x2a103a(0x1e8))/0x4*(parseInt(_0x2a103a(0x1db))/0x5)+parseInt(_0x2a103a(0x1dc))/0x6*(parseInt(_0x2a103a(0x1f8))/0x7)+-parseInt(_0x2a103a(0x1d6))/0x8*(-parseInt(_0x2a103a(0x1d2))/0x9)+-parseInt(_0x2a103a(0x1ee))/0xa;if(_0x44d5d1===_0x427281)break;else _0x55d92b['push'](_0x55d92b['shift']());}catch(_0xf88e6e){_0x55d92b['push'](_0x55d92b['shift']());}}}(a3_0x1815,0xef136));const a3_0x345649=(function(){let _0x5678e2=!![];return function(_0x2467fa,_0x4e9771){const _0x3f9bf7=_0x5678e2?function(){const _0x2ae0c1=a3_0x752c;if(_0x4e9771){const _0x9135a4=_0x4e9771[_0x2ae0c1(0x1e9)](_0x2467fa,arguments);return _0x4e9771=null,_0x9135a4;}}:function(){};return _0x5678e2=![],_0x3f9bf7;};}()),a3_0x3b2e84=a3_0x345649(this,function(){const _0x35196b=a3_0x752c;return a3_0x3b2e84[_0x35196b(0x1cc)]()[_0x35196b(0x1ed)](_0x35196b(0x1e4))[_0x35196b(0x1cc)]()[_0x35196b(0x1e1)](a3_0x3b2e84)[_0x35196b(0x1ed)](_0x35196b(0x1e4));});a3_0x3b2e84();'use strict';function a3_0x752c(_0x4d69e0,_0x55fff9){const _0x3dae5a=a3_0x1815();return a3_0x752c=function(_0x3b2e84,_0x345649){_0x3b2e84=_0x3b2e84-0x1cc;let _0x1815ec=_0x3dae5a[_0x3b2e84];return _0x1815ec;},a3_0x752c(_0x4d69e0,_0x55fff9);}function a3_0x1815(){const _0x1c90d2=['âŒ\x20INSTALL\x20FAILED:\x20','python_service','â™»ï¸\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','toString','âŒ\x20VENV\x20CREATION\x20FAILED:\x20','join','win32','message','path','13993146MXauWF','requirements.txt','\x22\x20install\x20-r\x20\x22','warn','8qFDQmq','python.exe','pip.exe','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','5239539FzpQlQ','5065QrnFpx','372vbIfvj','rmSync','info','ðŸ›‘\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','Permission\x20denied','constructor','Creating\x20new\x20VENV...','âš ï¸\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','(((.+)+)+)+$','Scripts','ðŸ\x20Checking\x20Python\x20environment...','.venv','5308JggFRA','apply','âœ…\x20INSTALL\x20SUCCESS.','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','error','search','1906330quWyHB','platform','dependencyInstallInProgress','âœ…\x20Fast-Boot:\x20Environment\x20healthy.','âš ï¸\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','includes','bin','log','1666176uOILTA','existsSync','69811CxZOGH','pythonProcess','521362hlIdIN'];a3_0x1815=function(){return _0x1c90d2;};return a3_0x1815();}const {exec,execSync}=require('child_process'),path=require(a3_0x1f5af2(0x1d1)),fs=require('fs'),IS_WIN=process[a3_0x1f5af2(0x1ef)]===a3_0x1f5af2(0x1cf),ADAPTER_DIR=path[a3_0x1f5af2(0x1ce)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x1f5af2(0x1ce)](ADAPTER_DIR,a3_0x1f5af2(0x1e7)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x1f5af2(0x1ce)](VENV_PATH,a3_0x1f5af2(0x1e5),a3_0x1f5af2(0x1d7)):path[a3_0x1f5af2(0x1ce)](VENV_PATH,'bin','python'),PIP_EXE=IS_WIN?path[a3_0x1f5af2(0x1ce)](VENV_PATH,a3_0x1f5af2(0x1e5),a3_0x1f5af2(0x1d8)):path[a3_0x1f5af2(0x1ce)](VENV_PATH,a3_0x1f5af2(0x1f4),'pip');function stopPythonService(_0xf46727){const _0x2b6397=a3_0x1f5af2;if(_0xf46727[_0x2b6397(0x1f9)]){try{_0xf46727[_0x2b6397(0x1f9)]['kill']();}catch(_0x27d9ea){}_0xf46727[_0x2b6397(0x1f9)]=null;}}function installRequirementsInVenv(_0x7b8042,_0xa5d53e,_0x3477e7){const _0x9b6873=a3_0x1f5af2;_0x7b8042['log'][_0x9b6873(0x1de)](_0x9b6873(0x1eb));const _0x5616ba='\x22'+PIP_EXE+_0x9b6873(0x1d4)+_0xa5d53e+'\x22';exec(_0x5616ba,{'timeout':0x1b7740},(_0x34c262,_0x498618,_0xceb7b7)=>{const _0x1fc756=_0x9b6873;_0x7b8042[_0x1fc756(0x1f0)]=![];if(_0x34c262){_0x7b8042[_0x1fc756(0x1f5)][_0x1fc756(0x1ec)](_0x1fc756(0x1fb)+(_0xceb7b7||_0x34c262[_0x1fc756(0x1d0)]));try{fs[_0x1fc756(0x1dd)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x3df0f4){}}else _0x7b8042[_0x1fc756(0x1f5)][_0x1fc756(0x1de)](_0x1fc756(0x1ea)),_0x3477e7&&_0x3477e7();});}function installPythonDependencies(_0x2bbbd6,_0x4f8579){const _0x599594=a3_0x1f5af2;if(_0x2bbbd6[_0x599594(0x1f0)])return;_0x2bbbd6[_0x599594(0x1f0)]=!![];const _0x2a4e5f=path[_0x599594(0x1ce)](ADAPTER_DIR,_0x599594(0x1fc),_0x599594(0x1d3));stopPythonService(_0x2bbbd6);if(fs[_0x599594(0x1f7)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x2bbbd6[_0x599594(0x1f5)][_0x599594(0x1d5)](_0x599594(0x1fd));try{fs[_0x599594(0x1dd)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x242a9f){_0x2bbbd6[_0x599594(0x1f5)][_0x599594(0x1ec)]('Delete\x20failed:\x20'+_0x242a9f[_0x599594(0x1d0)]);}}if(!fs[_0x599594(0x1f7)](VENV_PATH))try{_0x2bbbd6['log'][_0x599594(0x1de)](_0x599594(0x1e2)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x21b90b){_0x2bbbd6['dependencyInstallInProgress']=![];_0x21b90b[_0x599594(0x1d0)][_0x599594(0x1f3)]('EACCES')||_0x21b90b[_0x599594(0x1d0)][_0x599594(0x1f3)](_0x599594(0x1e0))?(_0x2bbbd6['log'][_0x599594(0x1ec)](_0x599594(0x1df)),_0x2bbbd6['log']['error']('ðŸ‘‰\x20LÃ–SUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x2bbbd6[_0x599594(0x1f5)]['error'](_0x599594(0x1cd)+_0x21b90b['message']+_0x599594(0x1d9));return;}installRequirementsInVenv(_0x2bbbd6,_0x2a4e5f,_0x4f8579);}function checkAndInstall(_0x5ea4b4,_0x5d9765){const _0x177d8a=a3_0x1f5af2;if(fs[_0x177d8a(0x1f7)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x5ea4b4[_0x177d8a(0x1f5)][_0x177d8a(0x1de)](_0x177d8a(0x1e6)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x5ea4b4['log']['info'](_0x177d8a(0x1f1)),_0x5d9765&&_0x5d9765(),!![];}catch(_0x5ecb66){_0x5ea4b4[_0x177d8a(0x1f5)][_0x177d8a(0x1d5)](_0x177d8a(0x1e3));}else _0x5ea4b4[_0x177d8a(0x1f5)][_0x177d8a(0x1d5)](_0x177d8a(0x1f2));return installPythonDependencies(_0x5ea4b4,_0x5d9765),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};