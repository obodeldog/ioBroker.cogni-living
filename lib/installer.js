const a3_0x310bfe=a3_0x5ea6;(function(_0x120ee6,_0x511126){const _0x146345=a3_0x5ea6,_0x2cba34=_0x120ee6();while(!![]){try{const _0x10b4bf=-parseInt(_0x146345(0x172))/0x1*(-parseInt(_0x146345(0x171))/0x2)+parseInt(_0x146345(0x17d))/0x3*(-parseInt(_0x146345(0x18e))/0x4)+parseInt(_0x146345(0x17c))/0x5*(-parseInt(_0x146345(0x163))/0x6)+parseInt(_0x146345(0x16f))/0x7+-parseInt(_0x146345(0x189))/0x8*(parseInt(_0x146345(0x180))/0x9)+-parseInt(_0x146345(0x18c))/0xa+parseInt(_0x146345(0x169))/0xb*(parseInt(_0x146345(0x170))/0xc);if(_0x10b4bf===_0x511126)break;else _0x2cba34['push'](_0x2cba34['shift']());}catch(_0x2fa467){_0x2cba34['push'](_0x2cba34['shift']());}}}(a3_0x3103,0x6e106));const a3_0x257065=(function(){let _0x257abe=!![];return function(_0x246e76,_0x14eec3){const _0x82181b=_0x257abe?function(){if(_0x14eec3){const _0x218888=_0x14eec3['apply'](_0x246e76,arguments);return _0x14eec3=null,_0x218888;}}:function(){};return _0x257abe=![],_0x82181b;};}()),a3_0x55b46a=a3_0x257065(this,function(){const _0x1c484f=a3_0x5ea6;return a3_0x55b46a[_0x1c484f(0x16d)]()['search'](_0x1c484f(0x167))['toString']()[_0x1c484f(0x176)](a3_0x55b46a)[_0x1c484f(0x183)](_0x1c484f(0x167));});a3_0x55b46a();'use strict';const {exec,execSync}=require(a3_0x310bfe(0x168)),path=require('path'),fs=require('fs'),IS_WIN=process['platform']===a3_0x310bfe(0x177),ADAPTER_DIR=path[a3_0x310bfe(0x17a)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x310bfe(0x17a)](ADAPTER_DIR,'.venv'),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path['join'](VENV_PATH,a3_0x310bfe(0x166),a3_0x310bfe(0x16a)):path[a3_0x310bfe(0x17a)](VENV_PATH,a3_0x310bfe(0x174),a3_0x310bfe(0x165)),PIP_EXE=IS_WIN?path[a3_0x310bfe(0x17a)](VENV_PATH,a3_0x310bfe(0x166),'pip.exe'):path[a3_0x310bfe(0x17a)](VENV_PATH,a3_0x310bfe(0x174),'pip');function stopPythonService(_0x2549bf){const _0x623408=a3_0x310bfe;if(_0x2549bf['pythonProcess']){try{_0x2549bf[_0x623408(0x188)][_0x623408(0x186)]();}catch(_0xb7147d){}_0x2549bf[_0x623408(0x188)]=null;}}function installRequirementsInVenv(_0x14c9ed,_0x513fbe,_0xb777c2){const _0x4e0c8d=a3_0x310bfe;_0x14c9ed[_0x4e0c8d(0x185)][_0x4e0c8d(0x17b)](_0x4e0c8d(0x184));const _0xff349f='\x22'+PIP_EXE+_0x4e0c8d(0x182)+_0x513fbe+'\x22';exec(_0xff349f,{'timeout':0x1b7740},(_0x50627a,_0x852f20,_0x40263e)=>{const _0x3c45ae=_0x4e0c8d;_0x14c9ed[_0x3c45ae(0x187)]=![];if(_0x50627a){_0x14c9ed['log'][_0x3c45ae(0x178)](_0x3c45ae(0x16c)+(_0x40263e||_0x50627a[_0x3c45ae(0x17e)]));try{fs[_0x3c45ae(0x173)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x58568e){}}else _0x14c9ed[_0x3c45ae(0x185)][_0x3c45ae(0x17b)](_0x3c45ae(0x181)),_0xb777c2&&_0xb777c2();});}function a3_0x5ea6(_0x268775,_0x50b590){const _0x1843b3=a3_0x3103();return a3_0x5ea6=function(_0x55b46a,_0x257065){_0x55b46a=_0x55b46a-0x163;let _0x3103c3=_0x1843b3[_0x55b46a];return _0x3103c3;},a3_0x5ea6(_0x268775,_0x50b590);}function installPythonDependencies(_0x4ba6d2,_0x40f822){const _0x2fcda5=a3_0x310bfe;if(_0x4ba6d2[_0x2fcda5(0x187)])return;_0x4ba6d2[_0x2fcda5(0x187)]=!![];const _0xb47268=path['join'](ADAPTER_DIR,'python_service',_0x2fcda5(0x16b));stopPythonService(_0x4ba6d2);if(fs[_0x2fcda5(0x179)](VENV_PATH)&&!fs[_0x2fcda5(0x179)](PIP_EXE)){_0x4ba6d2['log'][_0x2fcda5(0x18f)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x2fcda5(0x173)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x203213){_0x4ba6d2['log'][_0x2fcda5(0x178)]('Delete\x20failed:\x20'+_0x203213[_0x2fcda5(0x17e)]);}}if(!fs[_0x2fcda5(0x179)](VENV_PATH))try{_0x4ba6d2[_0x2fcda5(0x185)][_0x2fcda5(0x17b)]('Creating\x20new\x20VENV...'),execSync(_0x2fcda5(0x16e)+VENV_PATH+'\x22');}catch(_0x10407c){_0x4ba6d2[_0x2fcda5(0x187)]=![];_0x10407c[_0x2fcda5(0x17e)][_0x2fcda5(0x18a)](_0x2fcda5(0x164))||_0x10407c['message'][_0x2fcda5(0x18a)]('Permission\x20denied')?(_0x4ba6d2[_0x2fcda5(0x185)]['error']('üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.'),_0x4ba6d2[_0x2fcda5(0x185)][_0x2fcda5(0x178)](_0x2fcda5(0x17f)+ADAPTER_DIR)):_0x4ba6d2[_0x2fcda5(0x185)][_0x2fcda5(0x178)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x10407c[_0x2fcda5(0x17e)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x4ba6d2,_0xb47268,_0x40f822);}function a3_0x3103(){const _0xa896ce=['constructor','win32','error','existsSync','join','info','5mBSZUu','6iBnfjz','message','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','9yUovGR','‚úÖ\x20INSTALL\x20SUCCESS.','\x22\x20install\x20-r\x20\x22','search','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','log','kill','dependencyInstallInProgress','pythonProcess','3306728oJbUPs','includes','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','6079610gomOhE','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','1446308IOxcff','warn','4286094bWODPm','EACCES','python','Scripts','(((.+)+)+)+$','child_process','5455417XsQtRq','python.exe','requirements.txt','‚ùå\x20INSTALL\x20FAILED:\x20','toString','python3\x20-m\x20venv\x20\x22','5623786PRwVyb','48FqoZCv','22eCYQDc','11131AvOCol','rmSync','bin','exports'];a3_0x3103=function(){return _0xa896ce;};return a3_0x3103();}function checkAndInstall(_0x49a82b,_0x568c75){const _0x52a7c1=a3_0x310bfe;if(fs[_0x52a7c1(0x179)](PYTHON_EXE)&&fs[_0x52a7c1(0x179)](PIP_EXE))try{return _0x49a82b[_0x52a7c1(0x185)][_0x52a7c1(0x17b)]('üêç\x20Checking\x20Python\x20environment...'),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x49a82b[_0x52a7c1(0x185)][_0x52a7c1(0x17b)](_0x52a7c1(0x18b)),_0x568c75&&_0x568c75(),!![];}catch(_0x159157){_0x49a82b[_0x52a7c1(0x185)][_0x52a7c1(0x18f)](_0x52a7c1(0x18d));}else _0x49a82b[_0x52a7c1(0x185)][_0x52a7c1(0x18f)]('‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...');return installPythonDependencies(_0x49a82b,_0x568c75),![];}module[a3_0x310bfe(0x175)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};