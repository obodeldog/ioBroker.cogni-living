const a3_0x3c387a=a3_0x549c;(function(_0x5e552e,_0x2c23c0){const _0x25e2b3=a3_0x549c,_0x3d9ea5=_0x5e552e();while(!![]){try{const _0x1bb03a=parseInt(_0x25e2b3(0x18a))/0x1*(parseInt(_0x25e2b3(0x1a2))/0x2)+parseInt(_0x25e2b3(0x19c))/0x3*(-parseInt(_0x25e2b3(0x19b))/0x4)+parseInt(_0x25e2b3(0x1a7))/0x5+parseInt(_0x25e2b3(0x1a4))/0x6+parseInt(_0x25e2b3(0x188))/0x7+parseInt(_0x25e2b3(0x17f))/0x8*(-parseInt(_0x25e2b3(0x18b))/0x9)+parseInt(_0x25e2b3(0x1af))/0xa;if(_0x1bb03a===_0x2c23c0)break;else _0x3d9ea5['push'](_0x3d9ea5['shift']());}catch(_0x56c48a){_0x3d9ea5['push'](_0x3d9ea5['shift']());}}}(a3_0x3a4d,0xa33dc));const a3_0x161139=(function(){let _0x2f9aea=!![];return function(_0x4ddfec,_0x5ef80d){const _0x13f2ee=_0x2f9aea?function(){if(_0x5ef80d){const _0x5f2945=_0x5ef80d['apply'](_0x4ddfec,arguments);return _0x5ef80d=null,_0x5f2945;}}:function(){};return _0x2f9aea=![],_0x13f2ee;};}()),a3_0x2a9efe=a3_0x161139(this,function(){const _0x5e4b07=a3_0x549c;return a3_0x2a9efe['toString']()[_0x5e4b07(0x19a)](_0x5e4b07(0x195))[_0x5e4b07(0x1a8)]()[_0x5e4b07(0x19e)](a3_0x2a9efe)['search'](_0x5e4b07(0x195));});a3_0x2a9efe();'use strict';const {exec,execSync}=require(a3_0x3c387a(0x199)),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x3c387a(0x182)]===a3_0x3c387a(0x1a1),ADAPTER_DIR=path[a3_0x3c387a(0x1a6)](__dirname,'..'),PERSISTENT_DIR=path[a3_0x3c387a(0x1a6)](ADAPTER_DIR,a3_0x3c387a(0x1a3)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x3c387a(0x1a6)](VENV_PATH,a3_0x3c387a(0x17c),a3_0x3c387a(0x1ac)):path[a3_0x3c387a(0x1a6)](VENV_PATH,'bin',a3_0x3c387a(0x184)),PIP_EXE=IS_WIN?path[a3_0x3c387a(0x1a6)](VENV_PATH,a3_0x3c387a(0x17c),a3_0x3c387a(0x197)):path[a3_0x3c387a(0x1a6)](VENV_PATH,a3_0x3c387a(0x17d),'pip');function stopPythonService(_0x35bbd7){const _0x2b4bad=a3_0x3c387a;if(_0x35bbd7[_0x2b4bad(0x18c)]){try{_0x35bbd7[_0x2b4bad(0x18c)]['kill']();}catch(_0x131dbe){}_0x35bbd7[_0x2b4bad(0x18c)]=null;}}function installRequirementsInVenv(_0x5273b5,_0xeab201,_0x2c61c5){const _0x2dc4e8=a3_0x3c387a;_0x5273b5[_0x2dc4e8(0x181)]['info'](_0x2dc4e8(0x189));const _0x549b61='\x22'+PIP_EXE+_0x2dc4e8(0x186)+_0xeab201+'\x22';exec(_0x549b61,{'timeout':0x1b7740},(_0x258a0c,_0x56289c,_0x1da0ce)=>{const _0x77e402=_0x2dc4e8;_0x5273b5['dependencyInstallInProgress']=![];if(_0x258a0c){_0x5273b5[_0x77e402(0x181)][_0x77e402(0x187)](_0x77e402(0x18f)+(_0x1da0ce||_0x258a0c[_0x77e402(0x193)]));try{fs[_0x77e402(0x183)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x322afc){}}else _0x5273b5[_0x77e402(0x181)][_0x77e402(0x194)](_0x77e402(0x190)),_0x2c61c5&&_0x2c61c5();});}function installPythonDependencies(_0x2b9274,_0x442d6b){const _0x3eba24=a3_0x3c387a;if(_0x2b9274['dependencyInstallInProgress'])return;_0x2b9274[_0x3eba24(0x1a5)]=!![];const _0x5b6a62=path[_0x3eba24(0x1a6)](ADAPTER_DIR,_0x3eba24(0x196),'requirements.txt');stopPythonService(_0x2b9274);if(fs[_0x3eba24(0x18d)](VENV_PATH)&&!fs['existsSync'](PIP_EXE)){_0x2b9274['log'][_0x3eba24(0x1a9)](_0x3eba24(0x191));try{fs[_0x3eba24(0x183)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x31bfac){_0x2b9274['log'][_0x3eba24(0x187)](_0x3eba24(0x19f)+_0x31bfac[_0x3eba24(0x193)]);}}if(!fs['existsSync'](VENV_PATH))try{_0x2b9274[_0x3eba24(0x181)][_0x3eba24(0x194)](_0x3eba24(0x17e)),execSync('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22');}catch(_0x2f21f0){_0x2b9274[_0x3eba24(0x1a5)]=![];_0x2f21f0[_0x3eba24(0x193)][_0x3eba24(0x185)](_0x3eba24(0x198))||_0x2f21f0['message'][_0x3eba24(0x185)](_0x3eba24(0x1ae))?(_0x2b9274[_0x3eba24(0x181)][_0x3eba24(0x187)](_0x3eba24(0x1ad)),_0x2b9274[_0x3eba24(0x181)]['error'](_0x3eba24(0x1a0)+ADAPTER_DIR)):_0x2b9274[_0x3eba24(0x181)][_0x3eba24(0x187)]('‚ùå\x20VENV\x20CREATION\x20FAILED:\x20'+_0x2f21f0[_0x3eba24(0x193)]+_0x3eba24(0x1ab));return;}installRequirementsInVenv(_0x2b9274,_0x5b6a62,_0x442d6b);}function a3_0x549c(_0x3d7eb4,_0x289de2){const _0x37b867=a3_0x3a4d();return a3_0x549c=function(_0x2a9efe,_0x161139){_0x2a9efe=_0x2a9efe-0x17c;let _0x3a4d63=_0x37b867[_0x2a9efe];return _0x3a4d63;},a3_0x549c(_0x3d7eb4,_0x289de2);}function checkAndInstall(_0x2df9a9,_0x5535fd){const _0x5cf5b2=a3_0x3c387a;if(fs[_0x5cf5b2(0x18d)](PYTHON_EXE)&&fs[_0x5cf5b2(0x18d)](PIP_EXE))try{return _0x2df9a9[_0x5cf5b2(0x181)][_0x5cf5b2(0x194)](_0x5cf5b2(0x18e)),execSync('\x22'+PYTHON_EXE+_0x5cf5b2(0x1aa),{'timeout':0x3a98}),_0x2df9a9[_0x5cf5b2(0x181)][_0x5cf5b2(0x194)](_0x5cf5b2(0x192)),_0x5535fd&&_0x5535fd(),!![];}catch(_0x2d81d9){_0x2df9a9[_0x5cf5b2(0x181)][_0x5cf5b2(0x1a9)](_0x5cf5b2(0x180));}else _0x2df9a9[_0x5cf5b2(0x181)][_0x5cf5b2(0x1a9)](_0x5cf5b2(0x19d));return installPythonDependencies(_0x2df9a9,_0x5535fd),![];}function a3_0x3a4d(){const _0x20bc1f=['message','info','(((.+)+)+)+$','python_service','pip.exe','EACCES','child_process','search','3433964iiSouP','3UNqFyf','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','constructor','Delete\x20failed:\x20','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','win32','1056226uxyxbl','.venv','5515872dyeTNI','dependencyInstallInProgress','join','850320FCddFI','toString','warn','\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','python.exe','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','Permission\x20denied','201060QYBTRi','Scripts','bin','Creating\x20new\x20VENV...','104fdlzbs','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','log','platform','rmSync','python','includes','\x22\x20install\x20-r\x20\x22','error','2940707wNEafk','Installing\x20pip\x20packages...\x20(Caching\x20enabled)','1QQcgTC','367317WiZHfc','pythonProcess','existsSync','üêç\x20Checking\x20Python\x20environment...','‚ùå\x20INSTALL\x20FAILED:\x20','‚úÖ\x20INSTALL\x20SUCCESS.','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.'];a3_0x3a4d=function(){return _0x20bc1f;};return a3_0x3a4d();}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};