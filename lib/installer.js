const a2_0x5b9f61=a2_0x5e5a;function a2_0x5e5a(_0x323a58,_0x4a8ee2){const _0x5753ea=a2_0x438a();return a2_0x5e5a=function(_0x69412a,_0x21cad0){_0x69412a=_0x69412a-0xc7;let _0x438a82=_0x5753ea[_0x69412a];return _0x438a82;},a2_0x5e5a(_0x323a58,_0x4a8ee2);}(function(_0x156044,_0x38015d){const _0x3dbb35=a2_0x5e5a,_0x5148a1=_0x156044();while(!![]){try{const _0x3731fe=parseInt(_0x3dbb35(0xf9))/0x1+-parseInt(_0x3dbb35(0xca))/0x2+parseInt(_0x3dbb35(0xe0))/0x3*(parseInt(_0x3dbb35(0xc8))/0x4)+-parseInt(_0x3dbb35(0xd3))/0x5+parseInt(_0x3dbb35(0xdd))/0x6*(parseInt(_0x3dbb35(0xd2))/0x7)+parseInt(_0x3dbb35(0xd7))/0x8+parseInt(_0x3dbb35(0xf5))/0x9*(-parseInt(_0x3dbb35(0xe9))/0xa);if(_0x3731fe===_0x38015d)break;else _0x5148a1['push'](_0x5148a1['shift']());}catch(_0x33f5f6){_0x5148a1['push'](_0x5148a1['shift']());}}}(a2_0x438a,0x8fdbe));const a2_0x21cad0=(function(){let _0x820cf0=!![];return function(_0x58b0b4,_0x553c85){const _0x53c66f=_0x820cf0?function(){const _0x142850=a2_0x5e5a;if(_0x553c85){const _0x490527=_0x553c85[_0x142850(0xcf)](_0x58b0b4,arguments);return _0x553c85=null,_0x490527;}}:function(){};return _0x820cf0=![],_0x53c66f;};}()),a2_0x69412a=a2_0x21cad0(this,function(){const _0x1db1cb=a2_0x5e5a;return a2_0x69412a['toString']()[_0x1db1cb(0xc9)](_0x1db1cb(0xd8))[_0x1db1cb(0xed)]()['constructor'](a2_0x69412a)[_0x1db1cb(0xc9)]('(((.+)+)+)+$');});function a2_0x438a(){const _0x21ca7c=['search','739702xhnneh','\x22\x20install\x20-r\x20\x22','üêç\x20Checking\x20Python\x20environment...','exports','path','apply','Scripts','pythonProcess','196BwKZrr','3994420JHhvFZ','existsSync','message','python3\x20-m\x20venv\x20\x22','2475904xhRhAj','(((.+)+)+)+$','error','Permission\x20denied','bin','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','153462qMonwL','info','includes','161709WyUdDf','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','EACCES','pip.exe','Creating\x20new\x20VENV...','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','python_service','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','warn','150aqLOUc','‚úÖ\x20INSTALL\x20SUCCESS.','win32','.\x20(Is\x20\x27python3-venv\x27\x20installed?)','toString','rmSync','requirements.txt','.venv','platform','pip','dependencyInstallInProgress','join','475317NhCBJB','python','python.exe','log','608181vwkBwX','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','68xbvQdK'];a2_0x438a=function(){return _0x21ca7c;};return a2_0x438a();}a2_0x69412a();'use strict';const {exec,execSync}=require('child_process'),path=require(a2_0x5b9f61(0xce)),fs=require('fs'),IS_WIN=process[a2_0x5b9f61(0xf1)]===a2_0x5b9f61(0xeb),ADAPTER_DIR=path[a2_0x5b9f61(0xf4)](__dirname,'..'),PERSISTENT_DIR=path[a2_0x5b9f61(0xf4)](ADAPTER_DIR,a2_0x5b9f61(0xf0)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a2_0x5b9f61(0xf4)](VENV_PATH,'Scripts',a2_0x5b9f61(0xf7)):path[a2_0x5b9f61(0xf4)](VENV_PATH,a2_0x5b9f61(0xdb),a2_0x5b9f61(0xf6)),PIP_EXE=IS_WIN?path['join'](VENV_PATH,a2_0x5b9f61(0xd0),a2_0x5b9f61(0xe3)):path[a2_0x5b9f61(0xf4)](VENV_PATH,a2_0x5b9f61(0xdb),a2_0x5b9f61(0xf2));function stopPythonService(_0x45a11e){const _0x4a5ded=a2_0x5b9f61;if(_0x45a11e[_0x4a5ded(0xd1)]){try{_0x45a11e[_0x4a5ded(0xd1)]['kill']();}catch(_0x2f52c0){}_0x45a11e[_0x4a5ded(0xd1)]=null;}}function installRequirementsInVenv(_0x394d4b,_0x28d791,_0x401280){const _0x4dfaee=a2_0x5b9f61;_0x394d4b[_0x4dfaee(0xf8)]['info']('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0x4d8587='\x22'+PIP_EXE+_0x4dfaee(0xcb)+_0x28d791+'\x22';exec(_0x4d8587,{'timeout':0x1b7740},(_0x314621,_0x54bcba,_0x21d9ac)=>{const _0x48c3e7=_0x4dfaee;_0x394d4b[_0x48c3e7(0xf3)]=![];if(_0x314621){_0x394d4b[_0x48c3e7(0xf8)][_0x48c3e7(0xd9)]('‚ùå\x20INSTALL\x20FAILED:\x20'+(_0x21d9ac||_0x314621['message']));try{fs[_0x48c3e7(0xee)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x48dbcc){}}else _0x394d4b[_0x48c3e7(0xf8)]['info'](_0x48c3e7(0xea)),_0x401280&&_0x401280();});}function installPythonDependencies(_0x55901f,_0x2891d9){const _0x5848f6=a2_0x5b9f61;if(_0x55901f[_0x5848f6(0xf3)])return;_0x55901f[_0x5848f6(0xf3)]=!![];const _0x2f3a1c=path[_0x5848f6(0xf4)](ADAPTER_DIR,_0x5848f6(0xe6),_0x5848f6(0xef));stopPythonService(_0x55901f);if(fs[_0x5848f6(0xd4)](VENV_PATH)&&!fs[_0x5848f6(0xd4)](PIP_EXE)){_0x55901f['log'][_0x5848f6(0xe8)]('‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...');try{fs[_0x5848f6(0xee)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x567666){_0x55901f[_0x5848f6(0xf8)][_0x5848f6(0xd9)]('Delete\x20failed:\x20'+_0x567666[_0x5848f6(0xd5)]);}}if(!fs[_0x5848f6(0xd4)](VENV_PATH))try{_0x55901f[_0x5848f6(0xf8)][_0x5848f6(0xde)](_0x5848f6(0xe4)),execSync(_0x5848f6(0xd6)+VENV_PATH+'\x22');}catch(_0x278f8d){_0x55901f['dependencyInstallInProgress']=![];_0x278f8d['message'][_0x5848f6(0xdf)](_0x5848f6(0xe2))||_0x278f8d['message'][_0x5848f6(0xdf)](_0x5848f6(0xda))?(_0x55901f[_0x5848f6(0xf8)][_0x5848f6(0xd9)](_0x5848f6(0xe1)),_0x55901f[_0x5848f6(0xf8)][_0x5848f6(0xd9)]('üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20'+ADAPTER_DIR)):_0x55901f[_0x5848f6(0xf8)][_0x5848f6(0xd9)](_0x5848f6(0xe7)+_0x278f8d['message']+_0x5848f6(0xec));return;}installRequirementsInVenv(_0x55901f,_0x2f3a1c,_0x2891d9);}function checkAndInstall(_0x3860d0,_0x5471df){const _0x36df22=a2_0x5b9f61;if(fs[_0x36df22(0xd4)](PYTHON_EXE)&&fs['existsSync'](PIP_EXE))try{return _0x3860d0[_0x36df22(0xf8)][_0x36df22(0xde)](_0x36df22(0xcc)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20tensorflow;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x3860d0['log']['info'](_0x36df22(0xdc)),_0x5471df&&_0x5471df(),!![];}catch(_0x4b06b4){_0x3860d0['log']['warn'](_0x36df22(0xc7));}else _0x3860d0[_0x36df22(0xf8)][_0x36df22(0xe8)](_0x36df22(0xe5));return installPythonDependencies(_0x3860d0,_0x5471df),![];}module[a2_0x5b9f61(0xcd)]={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};