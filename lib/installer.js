const a3_0x582a1f=a3_0xf3a3;function a3_0xf3a3(_0x122565,_0xf4f771){const _0x391aaf=a3_0x957d();return a3_0xf3a3=function(_0x19bb00,_0x46ddb5){_0x19bb00=_0x19bb00-0x88;let _0x957d71=_0x391aaf[_0x19bb00];return _0x957d71;},a3_0xf3a3(_0x122565,_0xf4f771);}(function(_0x1ad5a8,_0x51ee97){const _0x212252=a3_0xf3a3,_0x39bdcc=_0x1ad5a8();while(!![]){try{const _0x257abd=-parseInt(_0x212252(0x9b))/0x1*(-parseInt(_0x212252(0x9a))/0x2)+-parseInt(_0x212252(0xa1))/0x3*(-parseInt(_0x212252(0x88))/0x4)+parseInt(_0x212252(0x96))/0x5+-parseInt(_0x212252(0xb5))/0x6*(-parseInt(_0x212252(0xae))/0x7)+-parseInt(_0x212252(0xa3))/0x8+-parseInt(_0x212252(0x8a))/0x9+parseInt(_0x212252(0x89))/0xa*(-parseInt(_0x212252(0x8f))/0xb);if(_0x257abd===_0x51ee97)break;else _0x39bdcc['push'](_0x39bdcc['shift']());}catch(_0x5a02d3){_0x39bdcc['push'](_0x39bdcc['shift']());}}}(a3_0x957d,0x49e86));const a3_0x46ddb5=(function(){let _0x13c685=!![];return function(_0x1c2cbd,_0x453b6c){const _0xbb8506=_0x13c685?function(){const _0xb0c0c8=a3_0xf3a3;if(_0x453b6c){const _0x5a9d5a=_0x453b6c[_0xb0c0c8(0x9c)](_0x1c2cbd,arguments);return _0x453b6c=null,_0x5a9d5a;}}:function(){};return _0x13c685=![],_0xbb8506;};}()),a3_0x19bb00=a3_0x46ddb5(this,function(){const _0x5cbc48=a3_0xf3a3;return a3_0x19bb00[_0x5cbc48(0xa5)]()[_0x5cbc48(0xb0)]('(((.+)+)+)+$')['toString']()['constructor'](a3_0x19bb00)[_0x5cbc48(0xb0)]('(((.+)+)+)+$');});a3_0x19bb00();'use strict';const {exec,execSync}=require(a3_0x582a1f(0x9d)),path=require('path'),fs=require('fs'),IS_WIN=process[a3_0x582a1f(0xba)]===a3_0x582a1f(0xb3),ADAPTER_DIR=path[a3_0x582a1f(0x99)](__dirname,'..'),PERSISTENT_DIR=path['join'](ADAPTER_DIR,a3_0x582a1f(0xb8)),VENV_PATH=PERSISTENT_DIR,PYTHON_EXE=IS_WIN?path[a3_0x582a1f(0x99)](VENV_PATH,a3_0x582a1f(0x94),'python.exe'):path[a3_0x582a1f(0x99)](VENV_PATH,a3_0x582a1f(0xb6),a3_0x582a1f(0xa2)),PIP_EXE=IS_WIN?path[a3_0x582a1f(0x99)](VENV_PATH,a3_0x582a1f(0x94),a3_0x582a1f(0x97)):path[a3_0x582a1f(0x99)](VENV_PATH,a3_0x582a1f(0xb6),a3_0x582a1f(0xa7));function stopPythonService(_0x45ee0c){const _0x29a1f9=a3_0x582a1f;if(_0x45ee0c[_0x29a1f9(0xb7)]){try{_0x45ee0c['pythonProcess'][_0x29a1f9(0x92)]();}catch(_0x54b231){}_0x45ee0c[_0x29a1f9(0xb7)]=null;}}function installRequirementsInVenv(_0x524dc1,_0x1af42f,_0x494b96){const _0x2f719c=a3_0x582a1f;_0x524dc1[_0x2f719c(0x9e)][_0x2f719c(0xb9)]('Installing\x20pip\x20packages...\x20(Caching\x20enabled)');const _0xd5db='\x22'+PIP_EXE+_0x2f719c(0xaf)+_0x1af42f+'\x22';exec(_0xd5db,{'timeout':0x1b7740},(_0x15290e,_0x5cd7d5,_0x5775be)=>{const _0x1354e8=_0x2f719c;_0x524dc1['dependencyInstallInProgress']=![];if(_0x15290e){_0x524dc1[_0x1354e8(0x9e)][_0x1354e8(0x95)](_0x1354e8(0x8b)+(_0x5775be||_0x15290e[_0x1354e8(0xa9)]));try{fs[_0x1354e8(0xac)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x106778){}}else _0x524dc1[_0x1354e8(0x9e)][_0x1354e8(0xb9)](_0x1354e8(0xa8)),_0x494b96&&_0x494b96();});}function a3_0x957d(){const _0x49e7c1=['üêç\x20Checking\x20Python\x20environment...','246519qJWesW','\x22\x20install\x20-r\x20\x22','search','‚ôªÔ∏è\x20Found\x20broken\x20VENV\x20(no\x20pip).\x20Deleting\x20and\x20recreating...','üëâ\x20L√ñSUNG\x20(SSH):\x20sudo\x20chown\x20-R\x20iobroker:iobroker\x20','win32','requirements.txt','78KQECVQ','bin','pythonProcess','.venv','info','platform','588396ksVuRc','10nEkvTu','5439726qUQdvC','‚ùå\x20INSTALL\x20FAILED:\x20','üõë\x20PERMISSION\x20ERROR:\x20Der\x20Adapter\x20darf\x20das\x20VENV\x20nicht\x20anlegen.','includes','Permission\x20denied','2200165OpVtdW','python3\x20-m\x20venv\x20\x22','dependencyInstallInProgress','kill','Delete\x20failed:\x20','Scripts','error','1124490vUsZZP','pip.exe','warn','join','38fsynTh','27237NYOnRZ','apply','child_process','log','python_service','‚úÖ\x20Fast-Boot:\x20Environment\x20healthy.','3qTjBaY','python','1921328PNkzUF','‚ö†Ô∏è\x20Fast-Boot\x20failed.\x20Triggering\x20Self-Healing...','toString','existsSync','pip','‚úÖ\x20INSTALL\x20SUCCESS.','message','‚ùå\x20VENV\x20CREATION\x20FAILED:\x20','‚ö†Ô∏è\x20Python\x20VENV\x20or\x20PIP\x20missing.\x20Installing...','rmSync'];a3_0x957d=function(){return _0x49e7c1;};return a3_0x957d();}function installPythonDependencies(_0x5e6f3d,_0x109af8){const _0x345848=a3_0x582a1f;if(_0x5e6f3d[_0x345848(0x91)])return;_0x5e6f3d[_0x345848(0x91)]=!![];const _0x2f27d1=path['join'](ADAPTER_DIR,_0x345848(0x9f),_0x345848(0xb4));stopPythonService(_0x5e6f3d);if(fs[_0x345848(0xa6)](VENV_PATH)&&!fs[_0x345848(0xa6)](PIP_EXE)){_0x5e6f3d[_0x345848(0x9e)][_0x345848(0x98)](_0x345848(0xb1));try{fs['rmSync'](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0x135ed2){_0x5e6f3d['log'][_0x345848(0x95)](_0x345848(0x93)+_0x135ed2[_0x345848(0xa9)]);}}if(!fs[_0x345848(0xa6)](VENV_PATH))try{_0x5e6f3d[_0x345848(0x9e)][_0x345848(0xb9)]('Creating\x20new\x20VENV...'),execSync(_0x345848(0x90)+VENV_PATH+'\x22');}catch(_0x2108f0){_0x5e6f3d['dependencyInstallInProgress']=![];_0x2108f0[_0x345848(0xa9)][_0x345848(0x8d)]('EACCES')||_0x2108f0['message'][_0x345848(0x8d)](_0x345848(0x8e))?(_0x5e6f3d[_0x345848(0x9e)]['error'](_0x345848(0x8c)),_0x5e6f3d[_0x345848(0x9e)][_0x345848(0x95)](_0x345848(0xb2)+ADAPTER_DIR)):_0x5e6f3d[_0x345848(0x9e)][_0x345848(0x95)](_0x345848(0xaa)+_0x2108f0[_0x345848(0xa9)]+'.\x20(Is\x20\x27python3-venv\x27\x20installed?)');return;}installRequirementsInVenv(_0x5e6f3d,_0x2f27d1,_0x109af8);}function checkAndInstall(_0x31c331,_0x79db0a){const _0x4582c7=a3_0x582a1f;if(fs[_0x4582c7(0xa6)](PYTHON_EXE)&&fs[_0x4582c7(0xa6)](PIP_EXE))try{return _0x31c331[_0x4582c7(0x9e)]['info'](_0x4582c7(0xad)),execSync('\x22'+PYTHON_EXE+'\x22\x20-c\x20\x22import\x20torch;\x20print(\x27libs_ok\x27)\x22',{'timeout':0x3a98}),_0x31c331['log'][_0x4582c7(0xb9)](_0x4582c7(0xa0)),_0x79db0a&&_0x79db0a(),!![];}catch(_0x1e3a2d){_0x31c331[_0x4582c7(0x9e)][_0x4582c7(0x98)](_0x4582c7(0xa4));}else _0x31c331[_0x4582c7(0x9e)]['warn'](_0x4582c7(0xab));return installPythonDependencies(_0x31c331,_0x79db0a),![];}module['exports']={'checkAndInstall':checkAndInstall,'PYTHON_EXE':PYTHON_EXE};