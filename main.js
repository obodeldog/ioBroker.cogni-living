const a0_0xc34db5=a0_0x2931;(function(_0xac8a77,_0x52294c){const _0x5214ef=a0_0x2931,_0x157b85=_0xac8a77();while(!![]){try{const _0x46aef9=parseInt(_0x5214ef(0x2be))/0x1+-parseInt(_0x5214ef(0x20d))/0x2+parseInt(_0x5214ef(0x311))/0x3+parseInt(_0x5214ef(0x349))/0x4+parseInt(_0x5214ef(0x2e4))/0x5*(parseInt(_0x5214ef(0x224))/0x6)+parseInt(_0x5214ef(0x1ec))/0x7*(-parseInt(_0x5214ef(0x328))/0x8)+-parseInt(_0x5214ef(0x34c))/0x9*(parseInt(_0x5214ef(0x338))/0xa);if(_0x46aef9===_0x52294c)break;else _0x157b85['push'](_0x157b85['shift']());}catch(_0x3b6f26){_0x157b85['push'](_0x157b85['shift']());}}}(a0_0x168d,0xadb2f));const a0_0x2daaf1=(function(){let _0x8acf0=!![];return function(_0x2783e5,_0x2b647d){const _0x55d39a=_0x8acf0?function(){const _0x3fbe54=a0_0x2931;if(_0x2b647d){const _0x4ee15d=_0x2b647d[_0x3fbe54(0x362)](_0x2783e5,arguments);return _0x2b647d=null,_0x4ee15d;}}:function(){};return _0x8acf0=![],_0x55d39a;};}()),a0_0x55d9f0=a0_0x2daaf1(this,function(){const _0xa978c1=a0_0x2931;return a0_0x55d9f0['toString']()[_0xa978c1(0x36b)](_0xa978c1(0x274))[_0xa978c1(0x2a5)]()[_0xa978c1(0x29c)](a0_0x55d9f0)[_0xa978c1(0x36b)]('(((.+)+)+)+$');});a0_0x55d9f0();'use strict';const utils=require(a0_0xc34db5(0x2ca)),{GoogleGenerativeAI}=require(a0_0xc34db5(0x273)),schedule=require(a0_0xc34db5(0x3a1)),{spawn,exec}=require('child_process'),path=require(a0_0xc34db5(0x343)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0xc34db5(0x290),LTM_SCHEDULE='0\x203\x20*\x20*\x20*',MODE_RESET_SCHEDULE=a0_0xc34db5(0x287),ANALYSIS_HISTORY_MAX_SIZE=0x64,EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,SEQUENCE_TIMEOUT_MS=0x5*0x3c*0x3e8,MAX_TRAINING_SET_SIZE=0x1f4,LTM_DP_RAW_LOG=a0_0xc34db5(0x26b),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS='LTM.processingStatus',LTM_DP_TRIGGER_DIGEST=a0_0xc34db5(0x1e3),LTM_DP_BASELINE_STATUS=a0_0xc34db5(0x303),LTM_DP_DRIFT_CHANNEL=a0_0xc34db5(0x3d3),LTM_DP_DRIFT_STATUS=a0_0xc34db5(0x3ae),LTM_DP_DRIFT_DETAILS=a0_0xc34db5(0x3a6),LTM_DP_DRIFT_LAST_CHECK=a0_0xc34db5(0x28a),SYSTEM_DP_MODE=a0_0xc34db5(0x37b),HARD_IGNORE_TERMS=['scriptProblem','scriptEnabled',a0_0xc34db5(0x2b4),'unreach',a0_0xc34db5(0x2b0),a0_0xc34db5(0x356),a0_0xc34db5(0x288),a0_0xc34db5(0x39d),a0_0xc34db5(0x289),a0_0xc34db5(0x22a),'working',a0_0xc34db5(0x2fb),'stick_unreach',a0_0xc34db5(0x390),a0_0xc34db5(0x3aa),a0_0xc34db5(0x26a),a0_0xc34db5(0x2d8),'link_quality'],BAD_NAMES=[a0_0xc34db5(0x27a),a0_0xc34db5(0x23a),a0_0xc34db5(0x39f),a0_0xc34db5(0x370),a0_0xc34db5(0x37e),a0_0xc34db5(0x1fc),'on',a0_0xc34db5(0x236),a0_0xc34db5(0x234),a0_0xc34db5(0x3a7),a0_0xc34db5(0x364),a0_0xc34db5(0x2e7),'cover',a0_0xc34db5(0x27c),'motion','presence','occupancy',a0_0xc34db5(0x2e1),a0_0xc34db5(0x3a2),a0_0xc34db5(0x209),a0_0xc34db5(0x2b9),a0_0xc34db5(0x31a),a0_0xc34db5(0x32a),a0_0xc34db5(0x372),a0_0xc34db5(0x391)],ADAPTER_BLACKLIST=[a0_0xc34db5(0x307),a0_0xc34db5(0x3b8),a0_0xc34db5(0x3c3),a0_0xc34db5(0x27f),a0_0xc34db5(0x304),a0_0xc34db5(0x3a9),'icons-mfd.',a0_0xc34db5(0x231),a0_0xc34db5(0x282),a0_0xc34db5(0x2b8),a0_0xc34db5(0x28f)],SYSTEM_MODES={'NORMAL':'normal','VACATION':a0_0xc34db5(0x2bf),'PARTY':a0_0xc34db5(0x2ee),'GUEST':a0_0xc34db5(0x32f)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0xc34db5(0x2d3)],SYSTEM_MODES['GUEST']],PERSONA_MAPPING={'generic':a0_0xc34db5(0x345),'senior_aal':a0_0xc34db5(0x3c7),'family':a0_0xc34db5(0x3b7),'single_comfort':a0_0xc34db5(0x295),'security':'PRIORIT√ÑT:\x20Sicherheit.'},ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};let activeSequence=[],sequenceTimer=null;async function initZombies(_0x38143b){const _0x32a93c=a0_0xc34db5;try{const _0x2f959f=[_0x32a93c(0x1ff),_0x32a93c(0x25d)];for(const _0x3d9585 of _0x2f959f){try{const _0x50c495=await _0x38143b[_0x32a93c(0x213)](_0x3d9585);_0x50c495&&await _0x38143b['delObjectAsync'](_0x3d9585);}catch(_0x40cfb6){}}}catch(_0x20d5a7){}}async function initHistory(_0x82d4d7){const _0x32145f=a0_0xc34db5;try{const _0x57ab75=await _0x82d4d7[_0x32145f(0x252)]('events.history');_0x57ab75&&_0x57ab75[_0x32145f(0x296)]&&(_0x82d4d7[_0x32145f(0x256)]=JSON['parse'](_0x57ab75[_0x32145f(0x296)][_0x32145f(0x2a5)]()));}catch(_0x4552d4){_0x82d4d7[_0x32145f(0x256)]=[];}try{const _0x355ea7=await _0x82d4d7['getStateAsync'](_0x32145f(0x20b));if(_0x355ea7&&_0x355ea7[_0x32145f(0x296)])_0x82d4d7['analysisHistory']=JSON[_0x32145f(0x207)](_0x355ea7[_0x32145f(0x296)][_0x32145f(0x2a5)]());}catch(_0x275077){_0x82d4d7[_0x32145f(0x240)]=[];}if(_0x82d4d7[_0x32145f(0x256)]&&_0x82d4d7['eventHistory']['length']>0x0){_0x82d4d7[_0x32145f(0x2ad)][_0x32145f(0x2c2)](_0x32145f(0x21a)+_0x82d4d7['eventHistory'][_0x32145f(0x2f4)]+_0x32145f(0x396));for(let _0x5e7618=_0x82d4d7[_0x32145f(0x256)][_0x32145f(0x2f4)]-0x1;_0x5e7618>=0x0;_0x5e7618--){const _0x104f97=_0x82d4d7[_0x32145f(0x256)][_0x5e7618];_0x104f97&&_0x104f97['id']!==undefined&&_0x104f97['value']!==undefined&&(_0x82d4d7[_0x32145f(0x20f)][_0x104f97['id']]=_0x104f97[_0x32145f(0x37e)]);}}}async function initSystemConfig(_0x13aae7){const _0x3b58a7=a0_0xc34db5;try{const _0x58a284=await _0x13aae7[_0x3b58a7(0x24b)]('system.config');_0x58a284&&_0x58a284['common']&&(_0x13aae7[_0x3b58a7(0x318)]={'latitude':_0x58a284[_0x3b58a7(0x334)]['latitude']||0x0,'longitude':_0x58a284[_0x3b58a7(0x334)][_0x3b58a7(0x2a6)]||0x0,'city':_0x58a284[_0x3b58a7(0x334)]['city']||''});}catch(_0x55afe1){}}async function checkLicense(_0x19e960,_0x1ca615){const _0x134308=a0_0xc34db5;if(!_0x1ca615)return![];_0x19e960['systemUUID']=await getSystemUUID(_0x19e960);if(_0x1ca615===_0x134308(0x259)||_0x1ca615[_0x134308(0x297)]('PRO-'))return!![];return![];}async function getSystemUUID(_0x54fca0){const _0x4333a8=a0_0xc34db5;try{const _0x29a41b=await _0x54fca0['getForeignObjectAsync'](_0x4333a8(0x2d6));if(_0x29a41b&&_0x29a41b[_0x4333a8(0x3b6)]&&_0x29a41b['native']['uuid'])return _0x29a41b[_0x4333a8(0x3b6)][_0x4333a8(0x200)];return _0x4333a8(0x29e);}catch(_0x18a2ee){return _0x4333a8(0x1e6);}}async function createAllObjects(_0x38e39e){const _0x29bb1b=a0_0xc34db5;await checkSystemObjects(_0x38e39e),await _0x38e39e[_0x29bb1b(0x373)]('system.presenceWho',{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x305),'type':'string','role':_0x29bb1b(0x336),'read':!![],'write':![],'def':''},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x340),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x392),'type':_0x29bb1b(0x31b),'role':'json','read':!![],'write':![]},'native':{}}),await _0x38e39e['setObjectNotExistsAsync'](_0x29bb1b(0x2a0),{'type':_0x29bb1b(0x39f),'common':{'name':'Event\x20History','type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x33d),'read':!![],'write':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)]('analysis.trigger',{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x381),'type':_0x29bb1b(0x268),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x1ee),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x38d),'type':_0x29bb1b(0x268),'role':_0x29bb1b(0x380),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x1f3),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x245),'type':'string','role':_0x29bb1b(0x33d),'read':!![],'write':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x2c5),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x2b3),'type':_0x29bb1b(0x268),'role':_0x29bb1b(0x319),'read':!![],'write':![],'def':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x3c9),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x2f1),'type':'boolean','role':_0x29bb1b(0x223),'read':!![],'write':![],'def':![]},'native':{}}),await _0x38e39e['setObjectNotExistsAsync'](_0x29bb1b(0x3ce),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x332),'type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x378),'read':!![],'write':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x398),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x266),'type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x336),'read':!![],'write':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)]('analysis.deviationFromBaseline',{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x387),'type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x39f),'read':!![],'write':![],'def':_0x29bb1b(0x2c1)},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x331),{'type':_0x29bb1b(0x39f),'common':{'name':'Comfort\x20Summary','type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x336),'read':!![],'write':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)]('analysis.comfortSuggestion',{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x3c4),'type':'string','role':_0x29bb1b(0x336),'read':!![],'write':![]},'native':{}}),await _0x38e39e['extendObjectAsync']('analysis.automation',{'type':_0x29bb1b(0x20a),'common':{'name':'Automation\x20Proposals'},'native':{}}),await _0x38e39e['setObjectNotExistsAsync'](_0x29bb1b(0x205),{'type':'state','common':{'name':_0x29bb1b(0x39c),'type':_0x29bb1b(0x268),'role':_0x29bb1b(0x29f),'read':!![],'write':![],'def':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x244),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x1f8),'type':'string','role':_0x29bb1b(0x336),'read':!![],'write':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x3c0),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x2f2),'type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x336),'read':!![],'write':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x2d4),{'type':'state','common':{'name':_0x29bb1b(0x2e8),'type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x336),'read':!![],'write':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x261),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x2a9),'type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x308),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x34b),'type':'boolean','role':_0x29bb1b(0x234),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)]('analysis.automation.triggerAction',{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x26e),'type':_0x29bb1b(0x268),'role':_0x29bb1b(0x380),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x20b),{'type':'state','common':{'name':_0x29bb1b(0x28c),'type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x33d),'read':!![],'write':![],'def':'[]'},'native':{}}),await _0x38e39e['setObjectNotExistsAsync']('analysis.feedbackHistory',{'type':'state','common':{'name':_0x29bb1b(0x23f),'type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x33d),'read':!![],'write':![],'def':'[]'},'native':{}}),await _0x38e39e[_0x29bb1b(0x284)](_0x29bb1b(0x2b6),{'type':'channel','common':{'name':_0x29bb1b(0x257)},'native':{}}),await _0x38e39e['setObjectNotExistsAsync'](_0x29bb1b(0x355),{'type':_0x29bb1b(0x39f),'common':{'name':'Sleep\x20Score\x20(0-100)','type':_0x29bb1b(0x389),'role':'value.health','read':!![],'write':![],'def':0x0},'native':{}}),await _0x38e39e['setObjectNotExistsAsync'](_0x29bb1b(0x309),{'type':'state','common':{'name':'Restlessness\x20Level','type':_0x29bb1b(0x31b),'role':'text','read':!![],'write':![],'def':_0x29bb1b(0x2c3)},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x3a5),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x2f7),'type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x336),'read':!![],'write':![],'def':''},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x3b4),{'type':'state','common':{'name':'Trend\x20Diagnosis\x20(Python)','type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x336),'read':!![],'write':![],'def':_0x29bb1b(0x2c1)},'native':{}}),await _0x38e39e['setObjectNotExistsAsync'](_0x29bb1b(0x233),{'type':'state','common':{'name':_0x29bb1b(0x30a),'type':_0x29bb1b(0x389),'role':_0x29bb1b(0x37e),'read':!![],'write':![],'def':0x0},'native':{}}),await _0x38e39e[_0x29bb1b(0x284)](_0x29bb1b(0x2db),{'type':_0x29bb1b(0x20a),'common':{'name':_0x29bb1b(0x1ef)},'native':{}}),await _0x38e39e[_0x29bb1b(0x373)](_0x29bb1b(0x2de),{'type':_0x29bb1b(0x39f),'common':{'name':_0x29bb1b(0x344),'type':_0x29bb1b(0x31b),'role':_0x29bb1b(0x33d),'read':!![],'write':![],'def':'[]','desc':_0x29bb1b(0x2eb)},'native':{}}),await checkLtmObjects(_0x38e39e),await checkLtmDriftObjects(_0x38e39e);}async function checkSystemObjects(_0x5630a7){const _0x583e79=a0_0xc34db5;await _0x5630a7[_0x583e79(0x284)](_0x583e79(0x279),{'type':'channel','common':{'name':_0x583e79(0x329)},'native':{}}),await _0x5630a7['extendObjectAsync'](SYSTEM_DP_MODE,{'type':_0x583e79(0x39f),'common':{'name':_0x583e79(0x2fa),'type':_0x583e79(0x31b),'role':_0x583e79(0x39f),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x583e79(0x1f0)],'states':{[SYSTEM_MODES[_0x583e79(0x1f0)]]:_0x583e79(0x283),[SYSTEM_MODES[_0x583e79(0x30c)]]:_0x583e79(0x35a),[SYSTEM_MODES[_0x583e79(0x2d3)]]:_0x583e79(0x36f),[SYSTEM_MODES['GUEST']]:_0x583e79(0x348)}},'native':{}});}async function checkLtmObjects(_0x5da87d){const _0x5f069e=a0_0xc34db5;await _0x5da87d['extendObjectAsync'](_0x5f069e(0x28b),{'type':_0x5f069e(0x20a),'common':{'name':_0x5f069e(0x28b)},'native':{}}),await _0x5da87d['extendObjectAsync'](LTM_DP_RAW_LOG,{'type':_0x5f069e(0x39f),'common':{'name':_0x5f069e(0x326),'type':_0x5f069e(0x31b),'role':_0x5f069e(0x33d),'read':!![],'write':![]},'native':{}}),await _0x5da87d[_0x5f069e(0x284)](LTM_DP_DAILY_DIGESTS,{'type':_0x5f069e(0x39f),'common':{'name':_0x5f069e(0x2dc),'type':_0x5f069e(0x31b),'role':_0x5f069e(0x33d),'read':!![],'write':![]},'native':{}}),await _0x5da87d[_0x5f069e(0x284)](LTM_DP_STATUS,{'type':'state','common':{'name':_0x5f069e(0x351),'type':'string','role':_0x5f069e(0x336),'read':!![],'write':![]},'native':{}}),await _0x5da87d['extendObjectAsync'](LTM_DP_TRIGGER_DIGEST,{'type':'state','common':{'name':'Trigger\x20Digest','type':_0x5f069e(0x268),'role':_0x5f069e(0x380),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x5da87d[_0x5f069e(0x284)](LTM_DP_BASELINE_STATUS,{'type':_0x5f069e(0x39f),'common':{'name':_0x5f069e(0x314),'type':_0x5f069e(0x31b),'role':_0x5f069e(0x336),'read':!![],'write':![]},'native':{}});}async function checkLtmDriftObjects(_0x44ec86){const _0x4a5abe=a0_0xc34db5;await _0x44ec86[_0x4a5abe(0x284)](LTM_DP_DRIFT_CHANNEL,{'type':_0x4a5abe(0x20a),'common':{'name':_0x4a5abe(0x215)},'native':{}}),await _0x44ec86[_0x4a5abe(0x284)](LTM_DP_DRIFT_STATUS,{'type':'state','common':{'name':'Drift\x20Status','type':_0x4a5abe(0x31b),'role':'state','read':!![],'write':![],'def':_0x4a5abe(0x2c1)},'native':{}}),await _0x44ec86[_0x4a5abe(0x284)](LTM_DP_DRIFT_DETAILS,{'type':_0x4a5abe(0x39f),'common':{'name':_0x4a5abe(0x2c8),'type':'string','role':_0x4a5abe(0x336),'read':!![],'write':![]},'native':{}}),await _0x44ec86[_0x4a5abe(0x284)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x4a5abe(0x39f),'common':{'name':_0x4a5abe(0x26d),'type':_0x4a5abe(0x389),'role':_0x4a5abe(0x1fe),'read':!![],'write':![]},'native':{}});}async function loadSystemMode(_0x4ea627){const _0x4b95c2=a0_0xc34db5;try{const _0x3e8c00=await _0x4ea627[_0x4b95c2(0x252)](SYSTEM_DP_MODE);_0x3e8c00&&_0x3e8c00[_0x4b95c2(0x296)]&&Object[_0x4b95c2(0x21c)](SYSTEM_MODES)[_0x4b95c2(0x242)](_0x3e8c00[_0x4b95c2(0x296)])?_0x4ea627[_0x4b95c2(0x32e)]=_0x3e8c00[_0x4b95c2(0x296)]:(_0x4ea627[_0x4b95c2(0x32e)]=SYSTEM_MODES[_0x4b95c2(0x1f0)],await _0x4ea627[_0x4b95c2(0x3c1)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x4b95c2(0x1f0)],'ack':!![]}));}catch(_0x4b129a){_0x4ea627[_0x4b95c2(0x32e)]=SYSTEM_MODES['NORMAL'];}}async function loadRawEventLog(_0x2e5386){const _0x56b6e2=a0_0xc34db5;try{const _0x4a19ca=await _0x2e5386[_0x56b6e2(0x252)](LTM_DP_RAW_LOG);if(_0x4a19ca&&_0x4a19ca[_0x56b6e2(0x296)])_0x2e5386['rawEventLog']=JSON[_0x56b6e2(0x207)](_0x4a19ca[_0x56b6e2(0x296)]);}catch(_0x300cfa){_0x2e5386['rawEventLog']=[];}}async function saveRawEventLog(_0x445dac){const _0x219a78=a0_0xc34db5;_0x445dac[_0x219a78(0x2f8)][_0x219a78(0x2f4)]>RAW_LOG_MAX_SIZE&&_0x445dac[_0x219a78(0x2f8)][_0x219a78(0x251)](0x0,_0x445dac['rawEventLog'][_0x219a78(0x2f4)]-RAW_LOG_MAX_SIZE),await _0x445dac[_0x219a78(0x3c1)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x445dac[_0x219a78(0x2f8)]),'ack':!![]});}async function loadDailyDigests(_0x4724ad){const _0x3afb65=a0_0xc34db5;try{const _0x11071d=await _0x4724ad['getStateAsync'](LTM_DP_DAILY_DIGESTS);if(_0x11071d&&_0x11071d[_0x3afb65(0x296)])_0x4724ad[_0x3afb65(0x267)]=JSON[_0x3afb65(0x207)](_0x11071d['val']);}catch(_0x9cf049){_0x4724ad[_0x3afb65(0x267)]=[];}await updateBaselineStatus(_0x4724ad);}async function saveDailyDigests(_0xf4a842,_0x6201b=!![]){const _0x15e3ae=a0_0xc34db5,_0x16237f=_0xf4a842[_0x15e3ae(0x2d2)][_0x15e3ae(0x2a3)]||0x3c;_0xf4a842['dailyDigests'][_0x15e3ae(0x2f4)]>_0x16237f&&_0xf4a842[_0x15e3ae(0x267)][_0x15e3ae(0x251)](0x0,_0xf4a842[_0x15e3ae(0x267)][_0x15e3ae(0x2f4)]-_0x16237f);await _0xf4a842[_0x15e3ae(0x3c1)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0xf4a842[_0x15e3ae(0x267)]),'ack':!![]});if(_0x6201b)await updateBaselineStatus(_0xf4a842);}async function updateAnalysisHistory(_0x523534,_0x43b55d){const _0x294beb=a0_0xc34db5;_0x523534[_0x294beb(0x240)][_0x294beb(0x377)](_0x43b55d);if(_0x523534[_0x294beb(0x240)][_0x294beb(0x2f4)]>ANALYSIS_HISTORY_MAX_SIZE)_0x523534[_0x294beb(0x240)][_0x294beb(0x276)]();await _0x523534[_0x294beb(0x3c1)](_0x294beb(0x20b),{'val':JSON['stringify'](_0x523534[_0x294beb(0x240)]),'ack':!![]});}async function updateBaselineStatus(_0x2529c6){const _0x58aa0d=a0_0xc34db5;if(!_0x2529c6[_0x58aa0d(0x22c)]){await _0x2529c6[_0x58aa0d(0x3c1)](LTM_DP_BASELINE_STATUS,{'val':_0x58aa0d(0x36d),'ack':!![]});return;}const _0xaebcab=_0x2529c6[_0x58aa0d(0x267)][_0x58aa0d(0x2f4)]>=(_0x2529c6[_0x58aa0d(0x2d2)][_0x58aa0d(0x243)]||0x7)?_0x58aa0d(0x217)+_0x2529c6[_0x58aa0d(0x267)]['length']+_0x58aa0d(0x260):_0x58aa0d(0x202)+_0x2529c6[_0x58aa0d(0x267)][_0x58aa0d(0x2f4)]+'/'+(_0x2529c6[_0x58aa0d(0x2d2)]['minDaysForBaseline']||0x7)+')';await _0x2529c6[_0x58aa0d(0x3c1)](LTM_DP_BASELINE_STATUS,{'val':_0xaebcab,'ack':!![]});}async function initSensorSubscriptions(_0x4c50cd){const _0x343127=a0_0xc34db5,_0x2aa24e=_0x4c50cd[_0x343127(0x2d2)]['devices'];if(_0x2aa24e&&_0x2aa24e[_0x343127(0x2f4)]>0x0){_0x4c50cd[_0x343127(0x2ad)][_0x343127(0x2c2)](_0x343127(0x1e9)+_0x2aa24e['length']+'\x20sensors...');for(const _0x33d44b of _0x2aa24e){if(_0x33d44b['id']){await _0x4c50cd[_0x343127(0x246)](_0x33d44b['id']);try{const _0x5b034a=await _0x4c50cd[_0x343127(0x34d)](_0x33d44b['id']);if(_0x5b034a)_0x4c50cd[_0x343127(0x20f)][_0x33d44b['id']]=_0x5b034a[_0x343127(0x296)];}catch(_0x13209e){}}}}}async function initPresenceSubscriptions(_0x55c580){const _0x6d03e=a0_0xc34db5,_0x4681b5=_0x55c580[_0x6d03e(0x2d2)][_0x6d03e(0x1e5)]||[];if(_0x4681b5['length']>0x0){_0x55c580['log']['info'](_0x6d03e(0x1e9)+_0x4681b5[_0x6d03e(0x2f4)]+'\x20presence\x20devices...');for(const _0x3b37bb of _0x4681b5){await _0x55c580[_0x6d03e(0x246)](_0x3b37bb);}try{await checkWifiPresence(_0x55c580);}catch(_0xdb21ad){}}}function a0_0x2931(_0x40bd36,_0x1474cf){const _0x52bae8=a0_0x168d();return a0_0x2931=function(_0x55d9f0,_0x2daaf1){_0x55d9f0=_0x55d9f0-0x1e2;let _0x168d92=_0x52bae8[_0x55d9f0];return _0x168d92;},a0_0x2931(_0x40bd36,_0x1474cf);}async function getWeatherContext(_0x1eeabd){const _0x516641=a0_0xc34db5;try{if(!_0x1eeabd['config']['useWeather'])return _0x516641(0x2f0);let _0x4b651f='';const _0xd74c8a=_0x1eeabd['config'][_0x516641(0x2dd)];if(_0xd74c8a)try{if(_0xd74c8a['includes']('accuweather')){const _0x439ec4=await _0x1eeabd[_0x516641(0x34d)](_0xd74c8a+'.Summary.Current');if(_0x439ec4&&_0x439ec4['val'])_0x4b651f=_0x439ec4[_0x516641(0x296)];}else{if(_0xd74c8a[_0x516641(0x242)](_0x516641(0x2af))){const _0x27214c=await _0x1eeabd[_0x516641(0x34d)](_0xd74c8a+_0x516641(0x3c5));if(_0x27214c&&_0x27214c[_0x516641(0x296)])_0x4b651f=_0x27214c[_0x516641(0x296)];}else{if(_0xd74c8a[_0x516641(0x242)](_0x516641(0x3cc))){const _0x2ba3b3=await _0x1eeabd[_0x516641(0x34d)](_0xd74c8a+_0x516641(0x1e4));if(_0x2ba3b3&&_0x2ba3b3['val'])_0x4b651f=_0x2ba3b3[_0x516641(0x296)];}}}}catch(_0x1892be){}if(!_0x4b651f){const _0x402d02=[_0x516641(0x25e),_0x516641(0x203),_0x516641(0x1fa),_0x516641(0x3b3)];for(const _0x30cebb of _0x402d02){try{const _0x466050=await _0x1eeabd[_0x516641(0x24b)](_0x30cebb);if(_0x466050){if(_0x30cebb[_0x516641(0x242)]('accuweather')){const _0x4bd3d9=await _0x1eeabd[_0x516641(0x34d)](_0x30cebb+_0x516641(0x36e));if(_0x4bd3d9&&_0x4bd3d9['val']){_0x4b651f=_0x4bd3d9[_0x516641(0x296)];break;}}}}catch(_0x49d909){}}}return _0x4b651f?'WETTER:\x20'+_0x4b651f:_0x516641(0x2ff);}catch(_0x2ffe50){return _0x516641(0x2f5)+_0x2ffe50[_0x516641(0x337)];}}async function getCalendarContext(_0x469aa9){const _0x54b5ca=a0_0xc34db5;try{if(!_0x469aa9['config'][_0x54b5ca(0x30b)])return'Kalender:\x20Deaktiviert';let _0x2b7605=_0x469aa9[_0x54b5ca(0x2d2)]['calendarInstance']||_0x54b5ca(0x371),_0x2104c1=_0x469aa9[_0x54b5ca(0x2d2)][_0x54b5ca(0x3cd)]||[];if(typeof _0x2104c1===_0x54b5ca(0x31b))_0x2104c1=_0x2104c1[_0x54b5ca(0x277)](',');try{const _0x2400dc=await _0x469aa9[_0x54b5ca(0x34d)](_0x2b7605+'.data.table');if(_0x2400dc&&_0x2400dc['val']){let _0x5a70fe=tryParse(_0x2400dc[_0x54b5ca(0x296)]);if(_0x5a70fe&&Array[_0x54b5ca(0x2ed)](_0x5a70fe)){if(_0x2104c1[_0x54b5ca(0x2f4)]>0x0)_0x5a70fe=_0x5a70fe[_0x54b5ca(0x2a4)](_0x1310c2=>_0x2104c1[_0x54b5ca(0x242)](_0x1310c2[_0x54b5ca(0x249)]||''));else return'KALENDER:\x20Keine\x20Kalender\x20ausgew√§hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)';if(_0x5a70fe[_0x54b5ca(0x2f4)]>0x0){const _0x47d30b=_0x5a70fe[_0x54b5ca(0x2bc)](0x0,0x3)[_0x54b5ca(0x206)](_0x130fb4=>{const _0x2093b=_0x54b5ca;let _0x4fb61b=_0x130fb4[_0x2093b(0x1fe)];if(_0x130fb4[_0x2093b(0x36c)])_0x4fb61b+='\x20'+_0x130fb4['time'];return _0x4fb61b+':\x20'+_0x130fb4['event']+'\x20('+_0x130fb4[_0x2093b(0x249)]+')';});return'KALENDER:\x20'+_0x47d30b['join'](_0x54b5ca(0x264));}else return _0x54b5ca(0x1e2);}}}catch(_0x78a10c){_0x469aa9[_0x54b5ca(0x2ad)][_0x54b5ca(0x2cd)](_0x54b5ca(0x2a1)+_0x78a10c[_0x54b5ca(0x337)]);}return _0x54b5ca(0x299);}catch(_0x2c7dcb){return _0x54b5ca(0x30d)+_0x2c7dcb[_0x54b5ca(0x337)];}}async function getCalendarNames(_0x123697,_0x25f639){const _0x39718e=a0_0xc34db5;try{const _0x4949f2=await _0x123697[_0x39718e(0x34d)](_0x25f639+'.data.table');if(_0x4949f2&&_0x4949f2[_0x39718e(0x296)]){const _0x531ee8=tryParse(_0x4949f2['val']);if(_0x531ee8&&Array[_0x39718e(0x2ed)](_0x531ee8)){const _0x550be4=[...new Set(_0x531ee8['map'](_0x5cebb1=>_0x5cebb1[_0x39718e(0x249)])[_0x39718e(0x2a4)](Boolean))];return _0x550be4[_0x39718e(0x2fe)]();}}return[];}catch(_0x5ef950){return _0x123697[_0x39718e(0x2ad)][_0x39718e(0x289)](_0x39718e(0x286)+_0x5ef950['message']),[];}}async function checkWifiPresence(_0x5208f8){const _0x2d1628=a0_0xc34db5;try{const _0x230d75=_0x5208f8[_0x2d1628(0x2d2)][_0x2d1628(0x1e5)]||[];let _0x41e749=![];const _0xc16b0a=[];for(const _0x4abd68 of _0x230d75){try{const _0x496954=await _0x5208f8['getForeignStateAsync'](_0x4abd68);if(_0x496954&&(_0x496954[_0x2d1628(0x296)]===!![]||_0x496954[_0x2d1628(0x296)]===_0x2d1628(0x24c)||_0x496954[_0x2d1628(0x296)]===0x1)){_0x41e749=!![];const _0x425eb8=await _0x5208f8['getForeignObjectAsync'](_0x4abd68);let _0xf2fde9=_0x4abd68;_0x425eb8&&_0x425eb8['common']&&_0x425eb8['common'][_0x2d1628(0x375)]&&(_0xf2fde9=typeof _0x425eb8[_0x2d1628(0x334)]['name']===_0x2d1628(0x1eb)?_0x425eb8[_0x2d1628(0x334)][_0x2d1628(0x375)]['de']||_0x425eb8['common'][_0x2d1628(0x375)]['en']:_0x425eb8[_0x2d1628(0x334)]['name']),_0xc16b0a['push'](_0xf2fde9);}}catch(_0x50ff42){}}return await _0x5208f8[_0x2d1628(0x3c1)](_0x2d1628(0x263),{'val':_0xc16b0a[_0x2d1628(0x359)](',\x20'),'ack':!![]}),_0x41e749&&(_0x5208f8[_0x2d1628(0x31f)]&&(_0x5208f8[_0x2d1628(0x2ad)]['info'](_0x2d1628(0x3d1)),abortExitTimer(_0x5208f8)),!_0x5208f8[_0x2d1628(0x227)]&&_0x5208f8[_0x2d1628(0x32e)]===SYSTEM_MODES[_0x2d1628(0x1f0)]&&await setPresence(_0x5208f8,!![])),_0x41e749;}catch(_0x22c5b4){return _0x5208f8[_0x2d1628(0x2ad)][_0x2d1628(0x289)](_0x2d1628(0x272)+_0x22c5b4[_0x2d1628(0x337)]),![];}}function startExitTimer(_0x376183){const _0x15ef16=a0_0xc34db5;abortExitTimer(_0x376183),_0x376183[_0x15ef16(0x216)]=!![],_0x376183[_0x15ef16(0x324)]=setTimeout(()=>{const _0x288cf2=_0x15ef16;_0x376183[_0x288cf2(0x216)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),_0x376183[_0x15ef16(0x31f)]=setTimeout(()=>{const _0x2cd6d5=_0x15ef16;setPresence(_0x376183,![]),_0x376183[_0x2cd6d5(0x31f)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}function abortExitTimer(_0x33eea1){const _0x6da6eb=a0_0xc34db5;if(_0x33eea1[_0x6da6eb(0x31f)])clearTimeout(_0x33eea1[_0x6da6eb(0x31f)]);if(_0x33eea1['exitGraceTimer'])clearTimeout(_0x33eea1['exitGraceTimer']);_0x33eea1[_0x6da6eb(0x31f)]=null,_0x33eea1[_0x6da6eb(0x324)]=null,_0x33eea1['isGracePeriodActive']=![];}async function setPresence(_0xe95a6f,_0x5d662d){const _0x344308=a0_0xc34db5;if(_0xe95a6f['isPresent']===_0x5d662d)return;_0xe95a6f[_0x344308(0x227)]=_0x5d662d,await _0xe95a6f[_0x344308(0x3c1)](_0x344308(0x2c7),{'val':_0x5d662d,'ack':!![]});}async function saveFeedback(_0x204644,_0x29a594){const _0x5905f6=a0_0xc34db5;_0x204644[_0x5905f6(0x2ad)][_0x5905f6(0x2c2)](_0x5905f6(0x2d0)+JSON[_0x5905f6(0x20c)](_0x29a594));}async function runBaselineDriftAnalysis(_0x1d0d68){const _0x1bf9cf=a0_0xc34db5;if(!_0x1d0d68[_0x1bf9cf(0x22c)]||!_0x1d0d68['geminiModel'])return;const _0x2dcdf1=_0x1d0d68[_0x1bf9cf(0x2d2)][_0x1bf9cf(0x1f2)]||0xe;if(_0x1d0d68[_0x1bf9cf(0x267)][_0x1bf9cf(0x2f4)]<_0x2dcdf1+(_0x1d0d68[_0x1bf9cf(0x2d2)][_0x1bf9cf(0x243)]||0x7)){await _0x1d0d68[_0x1bf9cf(0x3c1)](LTM_DP_DRIFT_STATUS,{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x2d79a8=_0x1d0d68[_0x1bf9cf(0x267)][_0x1bf9cf(0x2bc)](-_0x2dcdf1),_0x4729ef=_0x1d0d68[_0x1bf9cf(0x267)][_0x1bf9cf(0x2bc)](0x0,_0x1d0d68['dailyDigests'][_0x1bf9cf(0x2f4)]-_0x2dcdf1),_0x19c2fd=_0x1bf9cf(0x23d)+JSON['stringify'](_0x4729ef)+_0x1bf9cf(0x35c)+JSON[_0x1bf9cf(0x20c)](_0x2d79a8);try{const _0xd6094e=await _0x1d0d68['geminiModel'][_0x1bf9cf(0x37c)](_0x19c2fd),_0x1dd34d=JSON['parse'](_0xd6094e[_0x1bf9cf(0x25a)]['text']()['replace'](/```json|```/g,'')[_0x1bf9cf(0x394)]());_0x1dd34d['baselineDrift']&&(await _0x1d0d68[_0x1bf9cf(0x3c1)](LTM_DP_DRIFT_STATUS,{'val':_0x1dd34d[_0x1bf9cf(0x30f)],'ack':!![]}),await _0x1d0d68[_0x1bf9cf(0x3c1)](LTM_DP_DRIFT_DETAILS,{'val':_0x1dd34d[_0x1bf9cf(0x26f)],'ack':!![]}),await _0x1d0d68['setStateAsync'](LTM_DP_DRIFT_LAST_CHECK,{'val':Date['now'](),'ack':!![]}));}catch(_0x19fc89){}}function setupLtmScheduler(_0x258ba5){const _0x6a0a80=a0_0xc34db5;try{if(_0x258ba5['ltmJob'])_0x258ba5[_0x6a0a80(0x22e)][_0x6a0a80(0x21e)]();if(!_0x258ba5[_0x6a0a80(0x22c)]){_0x258ba5[_0x6a0a80(0x3c1)](LTM_DP_STATUS,{'val':_0x6a0a80(0x36d),'ack':!![]});return;}_0x258ba5[_0x6a0a80(0x22e)]=schedule[_0x6a0a80(0x339)](LTM_SCHEDULE,()=>createDailyDigest(_0x258ba5));}catch(_0x4603d9){_0x258ba5[_0x6a0a80(0x2ad)][_0x6a0a80(0x289)]('LTM\x20Sched\x20Error:\x20'+_0x4603d9['message']);}}function setupModeResetScheduler(_0x7e9afe){const _0x58994e=a0_0xc34db5;try{if(_0x7e9afe['modeResetJob'])_0x7e9afe[_0x58994e(0x208)][_0x58994e(0x21e)]();_0x7e9afe[_0x58994e(0x208)]=schedule[_0x58994e(0x339)](MODE_RESET_SCHEDULE,async()=>{const _0x34e8a0=_0x58994e;await loadSystemMode(_0x7e9afe),AUTO_RESET_MODES[_0x34e8a0(0x242)](_0x7e9afe[_0x34e8a0(0x32e)])&&await _0x7e9afe[_0x34e8a0(0x3c1)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x34e8a0(0x1f0)],'ack':![]});});}catch(_0x24ae51){_0x7e9afe[_0x58994e(0x2ad)][_0x58994e(0x289)]('Reset\x20Sched\x20Error:\x20'+_0x24ae51[_0x58994e(0x337)]);}}function setupDriftAnalysisScheduler(_0x506926){const _0x4c3a86=a0_0xc34db5;try{if(_0x506926[_0x4c3a86(0x1e7)])clearInterval(_0x506926[_0x4c3a86(0x1e7)]);if(!_0x506926[_0x4c3a86(0x22c)])return;_0x506926[_0x4c3a86(0x1e7)]=setInterval(()=>runBaselineDriftAnalysis(_0x506926),(_0x506926[_0x4c3a86(0x2d2)][_0x4c3a86(0x237)]||0x18)*0x36ee80),setTimeout(()=>runBaselineDriftAnalysis(_0x506926),0x1388);}catch(_0x358501){_0x506926[_0x4c3a86(0x2ad)][_0x4c3a86(0x289)]('Drift\x20Sched\x20Error:\x20'+_0x358501[_0x4c3a86(0x337)]);}}function setupBriefingScheduler(_0x249af9){const _0x1d47b9=a0_0xc34db5;try{if(_0x249af9[_0x1d47b9(0x2d1)])_0x249af9[_0x1d47b9(0x2d1)][_0x1d47b9(0x21e)]();if(!_0x249af9[_0x1d47b9(0x2d2)][_0x1d47b9(0x271)])return;const _0x11f075=(_0x249af9[_0x1d47b9(0x2d2)][_0x1d47b9(0x39e)]||'08:00')[_0x1d47b9(0x277)](':'),_0xdce1e9=parseInt(_0x11f075[0x0])||0x8,_0x1aff0e=parseInt(_0x11f075[0x1])||0x0,_0x4ec943=_0x1aff0e+'\x20'+_0xdce1e9+_0x1d47b9(0x219);_0x249af9[_0x1d47b9(0x2ad)][_0x1d47b9(0x2c2)](_0x1d47b9(0x2b2)+_0xdce1e9+':'+(_0x1aff0e<0xa?'0'+_0x1aff0e:_0x1aff0e)),_0x249af9[_0x1d47b9(0x2d1)]=schedule['scheduleJob'](_0x4ec943,()=>{sendMorningBriefing(_0x249af9);});}catch(_0x41a279){_0x249af9['log'][_0x1d47b9(0x289)]('Briefing\x20Sched\x20Error:\x20'+_0x41a279[_0x1d47b9(0x337)]);}}async function sendNotification(_0x25fe93,_0x13600a,_0x42ec2d=![],_0x3a4c2d=![]){const _0x1b0222=a0_0xc34db5;_0x25fe93['log'][_0x1b0222(0x2c2)]((_0x42ec2d?_0x1b0222(0x220):'')+_0x1b0222(0x386)+_0x13600a+'\x22');const _0x46215f=_0x25fe93[_0x1b0222(0x2d2)];let _0x4fc116=0x0;if(_0x46215f[_0x1b0222(0x385)]){let _0x475c2d={};(_0x13600a['includes'](_0x1b0222(0x253))||_0x3a4c2d)&&(_0x475c2d={'reply_markup':{'inline_keyboard':[[{'text':'‚úÖ\x20Alles\x20OK\x20(Reset)','callback_data':'COGNI_CONFIRM_OK'}],[{'text':_0x1b0222(0x226),'callback_data':_0x1b0222(0x374)}]]}}),await _0x25fe93[_0x1b0222(0x2fc)](_0x46215f[_0x1b0222(0x3be)],'send',{'text':_0x13600a,'user':_0x46215f['notifyTelegramRecipient'],..._0x475c2d}),_0x4fc116++;}if(_0x46215f[_0x1b0222(0x382)]){let _0x40823b={'message':_0x13600a,'title':_0x3a4c2d?_0x1b0222(0x317):_0x1b0222(0x2df),'priority':_0x3a4c2d?0x2:0x1,'device':_0x46215f[_0x1b0222(0x27d)]};_0x3a4c2d&&(_0x40823b[_0x1b0222(0x3ba)]=0x1e,_0x40823b['expire']=0xe10,_0x40823b[_0x1b0222(0x235)]='siren'),await _0x25fe93[_0x1b0222(0x2fc)](_0x46215f[_0x1b0222(0x22d)],'send',_0x40823b),_0x4fc116++;}return _0x46215f[_0x1b0222(0x33b)]&&(await _0x25fe93[_0x1b0222(0x2fc)](_0x46215f[_0x1b0222(0x31d)],'send',{'text':_0x13600a,'to':_0x46215f[_0x1b0222(0x3c6)]}),_0x4fc116++),_0x4fc116;}async function setupTelegramListener(_0x272198){const _0x396383=a0_0xc34db5,_0x43a411=_0x272198[_0x396383(0x2d2)]['notifyTelegramInstance'];_0x272198[_0x396383(0x2d2)][_0x396383(0x385)]&&_0x43a411&&(_0x272198[_0x396383(0x2ad)][_0x396383(0x2c2)](_0x396383(0x3ab)+_0x43a411+_0x396383(0x23b)),await _0x272198[_0x396383(0x246)](_0x43a411+'.communicate.request'));}async function handleTelegramResponse(_0x6ddc01,_0x3270f7){const _0x17d351=a0_0xc34db5;let _0x72b49e=_0x3270f7;_0x3270f7[_0x17d351(0x297)]('[')&&(_0x72b49e=_0x3270f7[_0x17d351(0x2ab)](_0x3270f7[_0x17d351(0x250)](']')+0x1));if(_0x72b49e===_0x17d351(0x393))_0x6ddc01[_0x17d351(0x2ad)][_0x17d351(0x2c2)](_0x17d351(0x38e)),await _0x6ddc01['setStateAsync'](_0x17d351(0x2c5),{'val':![],'ack':!![]}),await _0x6ddc01[_0x17d351(0x3c1)](_0x17d351(0x3ce),{'val':_0x17d351(0x347),'ack':!![]}),_0x6ddc01['lastAlertState']=![],sendNotification(_0x6ddc01,'‚úÖ\x20Alarm\x20quittiert.\x20System\x20normal.',![]);else _0x72b49e===_0x17d351(0x374)&&(_0x6ddc01[_0x17d351(0x2ad)][_0x17d351(0x2cd)](_0x17d351(0x33f)),sendNotification(_0x6ddc01,'üìû\x20R√úCKRUF\x20BITTE!\x20Der\x20Bewohner\x20hat\x20den\x20R√ºckruf-Button\x20gedr√ºckt.',![],!![]));}async function runAutopilot(_0x46c4b1){const _0x357680=a0_0xc34db5,_0x144272=_0x46c4b1['config'][_0x357680(0x210)],_0x276373=_0x46c4b1[_0x357680(0x256)]['length']>0x0?_0x46c4b1[_0x357680(0x256)][0x0][_0x357680(0x269)]:Date[_0x357680(0x3b5)](),_0x15c9eb=(Date['now']()-_0x276373)/(0x3e8*0x3c*0x3c);let _0x4ed0b3='';_0x46c4b1[_0x357680(0x2d2)]['inactivityMonitoringEnabled']&&_0x46c4b1[_0x357680(0x32e)]===SYSTEM_MODES['NORMAL']&&_0x46c4b1[_0x357680(0x227)]&&(_0x15c9eb>_0x144272&&(_0x4ed0b3=_0x357680(0x28e)+_0x15c9eb[_0x357680(0x2fd)](0x1)+_0x357680(0x2e6))),runGeminiAnalysis(_0x46c4b1,_0x4ed0b3)[_0x357680(0x33c)](_0x6880f4=>_0x46c4b1[_0x357680(0x2ad)][_0x357680(0x289)](_0x6880f4));}async function createDailyDigest(_0x3a4496){const _0x304e3d=a0_0xc34db5;if(!_0x3a4496['isProVersion'])return;await _0x3a4496['setStateAsync'](LTM_DP_STATUS,{'val':'Started\x20at\x20'+new Date()[_0x304e3d(0x29b)](),'ack':!![]});if(!_0x3a4496[_0x304e3d(0x313)]||_0x3a4496[_0x304e3d(0x2f8)][_0x304e3d(0x2f4)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x3a4496['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x5234d4=JSON[_0x304e3d(0x207)](JSON[_0x304e3d(0x20c)](_0x3a4496[_0x304e3d(0x2f8)])),_0x39f6b6=_0x5234d4['length'],_0x27e457='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x304e3d(0x20c)](_0x5234d4);try{const _0x31c8e0=await _0x3a4496[_0x304e3d(0x313)][_0x304e3d(0x37c)](_0x27e457),_0x5c1e0b=JSON[_0x304e3d(0x207)](_0x31c8e0[_0x304e3d(0x25a)][_0x304e3d(0x336)]()[_0x304e3d(0x395)](/```json|```/g,'')['trim']());_0x5c1e0b[_0x304e3d(0x1f9)]&&(_0x3a4496[_0x304e3d(0x267)]['push']({'timestamp':new Date()[_0x304e3d(0x204)](),'eventCount':_0x39f6b6,'summary':_0x5c1e0b['summary'],'activityLevel':_0x5c1e0b[_0x304e3d(0x228)],'systemMode':_0x3a4496[_0x304e3d(0x32e)]}),await saveDailyDigests(_0x3a4496),_0x3a4496['rawEventLog']=[],await saveRawEventLog(_0x3a4496),await _0x3a4496[_0x304e3d(0x3c1)](LTM_DP_STATUS,{'val':_0x304e3d(0x27e)+_0x39f6b6+_0x304e3d(0x366),'ack':!![]}),runPythonHealthCheck(_0x3a4496));}catch(_0x1789e5){await _0x3a4496[_0x304e3d(0x3c1)](LTM_DP_STATUS,{'val':_0x304e3d(0x3af)+_0x1789e5[_0x304e3d(0x337)],'ack':!![]});}}async function sendMorningBriefing(_0xacc033){const _0x4d3c50=a0_0xc34db5;if(!_0xacc033[_0x4d3c50(0x313)])return;_0xacc033[_0x4d3c50(0x2ad)][_0x4d3c50(0x2c2)](_0x4d3c50(0x29d));const _0x56b824=_0xacc033['dailyDigests'][_0x4d3c50(0x2f4)]>0x0?_0xacc033[_0x4d3c50(0x267)][_0xacc033[_0x4d3c50(0x267)][_0x4d3c50(0x2f4)]-0x1]:null,_0x283e6d=_0x56b824&&_0x56b824[_0x4d3c50(0x1f7)]?_0x56b824[_0x4d3c50(0x1f7)]['sleepScore']:_0x4d3c50(0x2c1),_0x364874=new Date();_0x364874['setHours'](0x4,0x0,0x0,0x0);const _0x1dc5e4=_0xacc033['eventHistory'][_0x4d3c50(0x2a4)](_0x4a063b=>new Date(_0x4a063b[_0x4d3c50(0x269)])>_0x364874),_0x581b6a=PERSONA_MAPPING[_0xacc033[_0x4d3c50(0x2d2)][_0x4d3c50(0x218)]||'generic'],_0x877010=_0xacc033[_0x4d3c50(0x2d2)][_0x4d3c50(0x2da)]||'',_0x47db9e=await getWeatherContext(_0xacc033),_0x426bc1=await getCalendarContext(_0xacc033),_0x31a9cb=_0x4d3c50(0x25b)+_0x581b6a+_0x4d3c50(0x3bf)+_0x877010+_0x4d3c50(0x38b)+_0x47db9e+'\x20'+_0x426bc1+_0x4d3c50(0x38f)+_0x283e6d+_0x4d3c50(0x2aa)+JSON[_0x4d3c50(0x20c)](_0x1dc5e4['slice'](0x0,0xa))+_0x4d3c50(0x2e3);try{const _0x508d6c=await _0xacc033[_0x4d3c50(0x313)][_0x4d3c50(0x37c)](_0x31a9cb),_0x5c7df4=_0x4d3c50(0x34a)+_0x508d6c[_0x4d3c50(0x25a)][_0x4d3c50(0x336)]()[_0x4d3c50(0x394)]();sendNotification(_0xacc033,_0x5c7df4),_0xacc033[_0x4d3c50(0x2ad)][_0x4d3c50(0x2c2)](_0x4d3c50(0x275));}catch(_0x317e80){_0xacc033[_0x4d3c50(0x2ad)][_0x4d3c50(0x289)](_0x4d3c50(0x2b5)+_0x317e80['message']);}}async function scanForDevices(_0x17dba6,_0x5dbce2){const _0x4dd770=a0_0xc34db5;_0x17dba6[_0x4dd770(0x2ad)][_0x4dd770(0x2c2)]('Scanning\x20for\x20devices\x20(V8:\x20Whitelist\x20Priority)...');const _0x4c436d=[],_0xfef8a0=await _0x17dba6['getForeignObjectsAsync']('*'),_0x1f8b84=await _0x17dba6[_0x4dd770(0x212)](_0x4dd770(0x2e0),_0x4dd770(0x201)),_0x2bf7e2=await _0x17dba6[_0x4dd770(0x212)](_0x4dd770(0x3b9),_0x4dd770(0x201)),_0x56a1b7={};if(_0x1f8b84)for(const _0x4b6740 in _0x1f8b84){const _0x2b7c2e=_0x1f8b84[_0x4b6740][_0x4dd770(0x334)]['members']||[];_0x2b7c2e[_0x4dd770(0x32b)](_0x5efd0c=>{const _0x1c06bc=_0x4dd770;if(!_0x56a1b7[_0x5efd0c])_0x56a1b7[_0x5efd0c]=[];_0x56a1b7[_0x5efd0c][_0x1c06bc(0x258)](_0x4b6740);});}const _0x2e81c8={};if(_0x2bf7e2)for(const _0xd5eb94 in _0x2bf7e2){const _0x3a427b=_0x2bf7e2[_0xd5eb94][_0x4dd770(0x334)][_0x4dd770(0x28d)]||[],_0x1973a4=typeof _0x2bf7e2[_0xd5eb94][_0x4dd770(0x334)]['name']==='object'?_0x2bf7e2[_0xd5eb94][_0x4dd770(0x334)]['name']['de']:_0x2bf7e2[_0xd5eb94][_0x4dd770(0x334)][_0x4dd770(0x375)];_0x3a427b[_0x4dd770(0x32b)](_0x5531f6=>_0x2e81c8[_0x5531f6]=_0x1973a4);}const _0x518d1c=_0x5dbce2['selectedFunctionIds']||[],_0x47338c=_0x5dbce2[_0x4dd770(0x2d7)]!==![],_0x5ca6e8=_0x5dbce2[_0x4dd770(0x37f)]!==![],_0x54822e=_0x5dbce2[_0x4dd770(0x3c2)]!==![],_0x40cb1e=_0x5dbce2[_0x4dd770(0x2e1)]===!![],_0xd3acc4=_0x5dbce2[_0x4dd770(0x37d)]===!![];for(const _0x2704b6 in _0xfef8a0){const _0x10d982=_0xfef8a0[_0x2704b6];if(_0x10d982[_0x4dd770(0x294)]!==_0x4dd770(0x39f)||!_0x10d982[_0x4dd770(0x334)])continue;if(ADAPTER_BLACKLIST[_0x4dd770(0x21b)](_0xeef9e7=>_0x2704b6[_0x4dd770(0x297)](_0xeef9e7))&&!_0xd3acc4)continue;const _0x2f5d18=(_0x10d982['common'][_0x4dd770(0x397)]||'')[_0x4dd770(0x3c8)]();let _0x75abba=(typeof _0x10d982[_0x4dd770(0x334)][_0x4dd770(0x375)]===_0x4dd770(0x1eb)?_0x10d982[_0x4dd770(0x334)][_0x4dd770(0x375)]['de']:_0x10d982['common'][_0x4dd770(0x375)])||_0x2704b6;const _0x281495=_0x75abba[_0x4dd770(0x3c8)]();let _0xb41e56=![],_0x5498bc=![];if(_0x518d1c[_0x4dd770(0x2f4)]>0x0){const _0xd1ff56=_0x56a1b7[_0x2704b6]||[],_0x3bad5c=_0x2704b6['split']('.')[_0x4dd770(0x2bc)](0x0,-0x1)[_0x4dd770(0x359)]('.'),_0x21c358=_0x56a1b7[_0x3bad5c]||[];(_0xd1ff56['some'](_0x3bb96d=>_0x518d1c['includes'](_0x3bb96d))||_0x21c358[_0x4dd770(0x21b)](_0x48f314=>_0x518d1c[_0x4dd770(0x242)](_0x48f314)))&&(_0xb41e56=!![],_0x5498bc=!![]);}if(!_0xb41e56&&!_0xd3acc4){if(HARD_IGNORE_TERMS['some'](_0x2c42c3=>_0x2704b6[_0x4dd770(0x242)](_0x2c42c3)||_0x281495[_0x4dd770(0x242)](_0x2c42c3[_0x4dd770(0x3c8)]())))continue;}if(BAD_NAMES[_0x4dd770(0x21b)](_0x4847ad=>_0x281495===_0x4847ad||_0x281495[_0x4dd770(0x388)]('.'+_0x4847ad))){const _0x290321=_0x2704b6[_0x4dd770(0x277)]('.');if(_0x290321[_0x4dd770(0x2f4)]>0x2){const _0x29e692=_0x290321['slice'](0x0,-0x1)[_0x4dd770(0x359)]('.'),_0x263a9d=_0xfef8a0[_0x29e692];if(_0x263a9d&&_0x263a9d['common']&&_0x263a9d[_0x4dd770(0x334)][_0x4dd770(0x375)]){const _0x24d910=typeof _0x263a9d[_0x4dd770(0x334)][_0x4dd770(0x375)]===_0x4dd770(0x1eb)?_0x263a9d[_0x4dd770(0x334)][_0x4dd770(0x375)]['de']:_0x263a9d[_0x4dd770(0x334)][_0x4dd770(0x375)];_0x24d910&&!_0x75abba[_0x4dd770(0x242)](_0x24d910)&&(_0x75abba=_0x24d910+'\x20'+_0x75abba);}}}let _0x49f6cf='';if(_0x47338c&&(_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x2d7))||_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x2b7))||_0x281495[_0x4dd770(0x242)](_0x4dd770(0x361))||_0x281495[_0x4dd770(0x242)](_0x4dd770(0x376))))_0x49f6cf=_0x4dd770(0x2d7);else{if(!_0x49f6cf&&_0x5ca6e8&&(_0x2f5d18['includes'](_0x4dd770(0x35d))||_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x352))||_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x2a2))||_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x2e7))||_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x364))||_0x281495[_0x4dd770(0x242)](_0x4dd770(0x2f9))||_0x281495[_0x4dd770(0x242)](_0x4dd770(0x239))||_0x281495[_0x4dd770(0x242)]('rollladen')))_0x49f6cf=_0x4dd770(0x35d);else{if(!_0x49f6cf&&_0x54822e&&(_0x2f5d18['includes'](_0x4dd770(0x27b))||_0x2f5d18['includes'](_0x4dd770(0x234))||_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x29a))||_0x281495[_0x4dd770(0x242)](_0x4dd770(0x2bd))||_0x281495['includes'](_0x4dd770(0x316))||_0x281495[_0x4dd770(0x242)](_0x4dd770(0x322)))){if(_0x10d982[_0x4dd770(0x334)][_0x4dd770(0x354)]||_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x3ad)))_0x49f6cf=_0x4dd770(0x27b);}else{if(!_0x49f6cf&&_0x40cb1e&&(_0x2f5d18[_0x4dd770(0x242)]('temperature')||_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x3a2))||_0x2f5d18[_0x4dd770(0x242)](_0x4dd770(0x346))||_0x281495[_0x4dd770(0x242)](_0x4dd770(0x3ca))||_0x281495[_0x4dd770(0x242)]('klima')||_0x281495['includes'](_0x4dd770(0x2ef))))_0x49f6cf=_0x4dd770(0x2e1);else{if(!_0x49f6cf&&_0x5498bc)_0x49f6cf=_0x4dd770(0x2d5);}}}}if(_0x49f6cf){let _0x3425c1=_0x2e81c8[_0x2704b6]||'';if(!_0x3425c1){let _0x3c22f2=_0x2704b6;for(let _0x5c7967=0x0;_0x5c7967<0x3;_0x5c7967++){const _0x3e97ae=_0x3c22f2['lastIndexOf']('.');if(_0x3e97ae===-0x1)break;_0x3c22f2=_0x3c22f2[_0x4dd770(0x2ab)](0x0,_0x3e97ae);if(_0x2e81c8[_0x3c22f2]){_0x3425c1=_0x2e81c8[_0x3c22f2];break;}}}_0x4c436d[_0x4dd770(0x258)]({'id':_0x2704b6,'name':_0x75abba,'location':_0x3425c1,'type':_0x49f6cf,'logDuplicates':_0x49f6cf===_0x4dd770(0x2d7),'isExit':![],'_score':_0x3425c1?0x50:_0x49f6cf===_0x4dd770(0x2d5)?0x5a:0x28});}}return _0x4c436d['sort']((_0x47049,_0x39d85b)=>_0x39d85b[_0x4dd770(0x1f4)]-_0x47049['_score']),_0x4c436d;}async function executeAutomationAction(_0x4a95b2){const _0x15d476=a0_0xc34db5;try{const _0x569dad=await _0x4a95b2[_0x15d476(0x252)]('analysis.automation.targetId'),_0x54dc3c=await _0x4a95b2['getStateAsync']('analysis.automation.targetValue');if(_0x569dad&&_0x569dad[_0x15d476(0x296)]&&_0x54dc3c){const _0x49b3a7=_0x569dad[_0x15d476(0x296)];let _0x558258=_0x54dc3c[_0x15d476(0x296)];try{_0x558258=JSON[_0x15d476(0x207)](_0x558258);}catch(_0x25fa84){}_0x4a95b2['log'][_0x15d476(0x2c2)]('ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x49b3a7+_0x15d476(0x25f)+_0x558258),await _0x4a95b2[_0x15d476(0x34f)](_0x49b3a7,_0x558258);}else _0x4a95b2['log'][_0x15d476(0x2cd)](_0x15d476(0x2ac));}catch(_0x2d9437){_0x4a95b2[_0x15d476(0x2ad)][_0x15d476(0x289)](_0x15d476(0x3b1)+_0x2d9437[_0x15d476(0x337)]);}}function tryParse(_0x31e01b){const _0x414665=a0_0xc34db5;try{return JSON[_0x414665(0x207)](_0x31e01b);}catch(_0x10332f){return null;}}function a0_0x168d(){const _0x583337=['instance','Subscribing\x20to\x20','sendTo','object','35cKfKZl','genAI','analysis.triggerBriefing','Training\x20Data\x20Sets','NORMAL','python3','ltmStbWindowDays','analysis.lastResult','_score','generic','devices','health','Description','summary','weatherunderground.0','ü§ñ\x20BUTLER\x20AUTO-APPLY:\x20Executing\x20','brightness','\x20days\x20of\x20activity\x20data\x20to\x20Python...','date','analysis.history_debug_00','uuid','enum','Lernphase\x20(','daswetter.0','toISOString','analysis.automation.patternDetected','map','parse','modeResetJob','power','channel','analysis.analysisHistory','stringify','846128lSHscG','analysis.trigger','sensorLastValues','inactivityThresholdHours','service.py','getForeignObjectsAsync','getObjectAsync','bind','Drift\x20Analysis','isGracePeriodActive','Aktiv\x20(','aiPersona','\x20*\x20*\x20*','Restoring\x20sensor\x20cache\x20from\x20history\x20(','some','values','\x20(Value:\x20','cancel','loc','[TEST]\x20','Adapter','KI-Modell\x20nicht\x20initialisiert','indicator.alarm.fire','1578726PmWqhb','unload','üìû\x20R√ºckruf\x20anfordern','isPresent','activityLevel','round','fault','isEmergency','isProVersion','notifyPushoverInstance','ltmJob','python3\x20-m\x20pip\x20install\x20-r\x20\x22','getOverviewData','flot.','alertReason','analysis.health.trendValue','switch','sound','off','ltmDriftCheckIntervalHours','üêç\x20Starting\x20Python\x20Sidecar:\x20','t√ºr','currentposition','\x20for\x20interactive\x20buttons...','Failed\x20to\x20send\x20to\x20Python:\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','lastAlertState','Feedback\x20Log','analysisHistory','analysis.automation.triggerAction','includes','minDaysForBaseline','analysis.automation.description','Last\x20Result','subscribeForeignStatesAsync','getGenerativeModel','dependencyInstallInProgress','_calName',').\x20Saving\x20to\x20Training\x20Data.','getForeignObjectAsync','online','getFullYear','Error\x20launching\x20Python\x20service:\x20','pythonProcess','indexOf','splice','getStateAsync','Alarm','Fehler:\x20','Guardian:\x20Sending\x20','eventHistory','Health\x20&\x20Sleep\x20Analysis','push','TEST-PRO-KEY','response','ROLLE:\x20F√ºrsorglicher\x20Assistent.\x20AUFGABE:\x20Schreibe\x20eine\x20kurze,\x20beruhigende\x20\x22Guten\x20Morgen\x22-Nachricht.\x20PERSONA:\x20','Keiner','events.history_debug_00','accuweather.0','\x20=\x20','\x20Tage)','analysis.automation.targetValue','targetId','system.presenceWho','\x20|\x20','automation.triggerAction','Activity\x20Summary','dailyDigests','boolean','timestamp','firmware','LTM.rawEventLog','‚ùå\x20AUTO-FIX\x20FAILED.\x20Please\x20run\x20manually:\x20sudo\x20','Last\x20Check','Trigger\x20Action\x20Now','driftDetails','cogni-living','briefingEnabled','Error\x20checking\x20WiFi:\x20','@google/generative-ai','(((.+)+)+)+$','Morning\x20Briefing\x20sent.','pop','split','getLtmData','system','targetposition','light','status','notifyPushoverRecipient','Success:\x20Compressed\x20','vis.','...','cogni-living\x20adapter\x20starting\x20(v','echarts.','Normal','extendObjectAsync','systemUUID','getCalendarNames\x20Error:\x20','0\x204\x20*\x20*\x20*','connection','error','LTM.driftAnalysis.lastCheck','LTM','Logbook','members','HARD\x20WATCHDOG:\x20No\x20sensor\x20activity\x20detected\x20for\x20','simple-api.','models/gemini-flash-latest','geminiApiKey','IGNORING\x20DUPLICATE\x20(Cached):\x20','onUnload','type','Fokus\x20auf\x20Komfort.','val','startsWith','üêç\x20Python\x20Pong\x20received!\x20Latency\x20check\x20passed.','KALENDER:\x20Keine\x20Daten','dimmer','toLocaleString','constructor','Generating\x20Morning\x20Briefing...','uuid-not-found','indicator','events.history','Error\x20reading\x20calendar\x20table:\x20','lock','ltmLtbWindowDays','filter','toString','longitude','onReady','.\x20Welcome\x20home.','Target\x20Value','/100,\x20Aktivit√§t\x20seit\x2004:00:\x20','substring','ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','log','SIMULATION:\x20Test-Vorschlag\x20f√ºr\x20','daswetter','lowbat','):\x20','Scheduling\x20Morning\x20Briefing\x20for\x20','AI\x20Alert\x20Status','update','Briefing\x20Error:\x20','analysis.health','occupancy','javascript.','energy','detected','User\x20dismissed\x20automation\x20proposal.','slice','licht','24104WUcbEy','vacation','callback','N/A','info','none','[LOG]','analysis.isAlert','ü§ñ\x20BUTLER\x20PROPOSAL:\x20','system.isPresent','Drift\x20Details','setState','@iobroker/adapter-core','Activity-Level','fill','warn','details','requirements.txt','Feedback\x20saved:\x20','briefingJob','config','PARTY','analysis.automation.targetId','custom','system.meta.uuid','motion','reachable','[RECORDER]\x20Error\x20saving\x20sequence:\x20','livingContext','LTM.trainingData','Daily\x20Digests','weatherInstance','LTM.trainingData.sequences','Cogni-Living','enum.functions.*','temperature','triggerDailyDigest','.\x20OUTPUT:\x20Nur\x20Text.','25wUzyNF','Guardian:\x20Not\x20enough\x20history\x20data\x20for\x20trend\x20analysis\x20yet.','\x20hours.\x20Potential\x20incapacitation.','blind','Target\x20ID','command','[LICENSE\x20CHECK]\x20Key\x20present:\x20','Array\x20of\x20completed\x20movement\x20paths\x20for\x20ML\x20training','description','isArray','party','heizung','Wetter:\x20Deaktiviert','AI\x20Emergency\x20Status','Action','ack','length','WETTER\x20ERROR:\x20','namespace','Health\x20Notes','rawEventLog','fenster','System\x20Mode','direction','sendToAsync','toFixed','sort','WETTER:\x20Keine\x20Daten\x20gefunden','getCalendarNames','isExit','communicate.request','LTM.baselineStatus','history.','Who\x20is\x20present?','\x20(Length:\x20','system.','analysis.automation.autoApply','analysis.health.restlessness','Trend\x20Value\x20(%)','useCalendar','VACATION','KALENDER\x20ERROR:\x20','TREND_RESULT','baselineDrift','close','2292609dXutZD','stderr','geminiModel','Baseline\x20Status','shift','lampe','üö®\x20EMERGENCY','systemConfig','indicator.alarm','setpoint','string','automationProposal','notifyEmailInstance','main','exitTimer','from','üß™\x20Simulating\x20Butler\x20Proposal:\x20','schalter','Event\x20received:\x20','exitGraceTimer','Could\x20not\x20kill\x20Python\x20process:\x20','Raw\x20Log','Bibliotheken\x20nicht\x20gefunden','2038424eoTPSp','System\x20Status\x20&\x20Control','valve','forEach','getHours','ANALYZE_TREND','currentSystemMode','guest','Missing\x20data','analysis.comfortSummary','Alert\x20Reason','getTime','common','location','text','message','1090ytBGoY','scheduleJob','‚ùå\x20FREE\x20MODE','notifyEmailEnabled','catch','json','PONG','üìû\x20User\x20requested\x20CALL\x20via\x20Telegram!','events.lastEvent','python_service','data','path','Recorded\x20Motion\x20Sequences','Analysiere\x20ausgewogen.','thermostat','Vom\x20Benutzer\x20best√§tigt\x20(OK).','Gast','1956700zjgVEX','üåÖ\x20Daily\x20Briefing:\x0a','Auto\x20Apply\x20Rule','15237MdohNo','getForeignStateAsync','lastCheck','setForeignStateAsync','‚úÖ\x20PRO\x20ACTIVATED','Processing\x20Status','window','exports','write','analysis.health.sleepScore','rssi','[PYTHON]\x20',')\x20-\x20FUNCTIONS\x20FIRST\x20ARCHITECTURE','join','Urlaub','[RECORDER]\x20Added\x20step\x20to\x20sequence:\x20','\x0aSTB:\x20','door','debug','getEnums','\x20min).','bewegung','apply','.\x0a\x20\x20\x20\x20WETTER:\x20','shutter','testNotification','\x20events','stdin','subscribeStates','\x20|\x20Status:\x20','Keine\x20Details.','search','time','Deaktiviert\x20(Pro-Feature)','.Summary.Current','Party','level','ical.0','actual_temperature','setObjectNotExistsAsync','COGNI_REQUEST_CALL','name','pr√§senz','unshift','text.alarm','licenseKey','isAlert','system.mode','generateContent','weather','value','doors','button','Trigger\x20Analysis','notifyPushoverEnabled','analysisTimer','stateChange','notifyTelegramEnabled','Sending\x20notification:\x20\x22','Deviation','endsWith','number','\x0a\x0a\x20\x20\x20\x20AUFGABE:\x0a\x20\x20\x20\x201.\x20Analysiere\x20auf\x20Gesundheitsrisiken\x20(Sturz,\x20Inaktivit√§t).\x0a\x20\x20\x20\x202.\x20Analysiere\x20auf\x20Komfort/Automatisierung\x20(\x22Butler\x22).\x20Erkennst\x20du\x20ein\x20Muster?\x20(z.B.\x20\x22Wenn\x20Bewegung\x20Flur,\x20dann\x20Licht\x20an\x22).\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20FORMAT\x20(JSON\x20Only!):\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x22isAlert\x22:\x20boolean,\x0a\x20\x20\x20\x20\x20\x20\x22alertReason\x22:\x20\x22string\x20(kurz)\x22,\x0a\x20\x20\x20\x20\x20\x20\x22isEmergency\x22:\x20boolean,\x0a\x20\x20\x20\x20\x20\x20\x22summary\x22:\x20\x22string\x20(Was\x20passiert\x20gerade?)\x22,\x0a\x20\x20\x20\x20\x20\x20\x22automationProposal\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22detected\x22:\x20boolean,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22description\x22:\x20\x22string\x20(Was\x20soll\x20automatisiert\x20werden?)\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22targetId\x22:\x20\x22string\x20(ioBroker\x20ID,\x20z.B.\x200_userdata.0.light)\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22targetValue\x22:\x20\x22any\x20(Wert,\x20z.B.\x20true\x20oder\x2050)\x22\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','.\x20ZUSATZ:\x20','find','Trigger\x20Briefing\x20(Test)','‚úÖ\x20User\x20confirmed\x20ALARM\x20via\x20Telegram.\x20Resetting\x20system.','.\x20DATEN:\x20Schlaf\x20','config_pending','set_temperature','Last\x20raw\x20event','COGNI_CONFIRM_OK','trim','replace','\x20events)...','role','analysis.activitySummary','onStateChange','Unknown','[PYTHON\x20ERR]\x20','Pattern\x20Detected','maintenance','briefingTime','state','.\x0a\x20\x20\x20\x20NOTFALL-KONTEXT:\x20','node-schedule','humidity','.\x0a\x20\x20\x20\x20KONTEXT:\x20','Keine\x20Analyse.','analysis.health.notes','LTM.driftAnalysis.driftDetails','position','[RECORDER]\x20Sequence\x20finished\x20(Steps:\x20','material.','dutycycle','üì°\x20Hooking\x20into\x20','‚úÖ\x20AUTO-FIX\x20SUCCESS.\x20Dependencies\x20installed.\x20Restarting\x20Service...','sensor','LTM.driftAnalysis.baselineDrift','Error:\x20','triggerBriefing','BUTLER\x20Execution\x20Error:\x20','üõ†Ô∏è\x20AUTO-FIX:\x20Installing\x20Python\x20dependencies\x20from\x20','openweathermap.0','analysis.health.trendDiagnosis','now','native','Fokus\x20auf\x20Familienroutinen.','admin.','enum.rooms.*','retry','Exit\x20Sensor\x20triggered\x20(','dismissAutomation','targetValue','notifyTelegramInstance','.\x20KONTEXT:\x20','analysis.automation.suggestedAction','setStateAsync','lights','info.','Comfort\x20Suggestion','.NextHours.Location_1.Day_1.current.symbol_desc','notifyEmailRecipient','PRIORIT√ÑT:\x20Gesundheit/AAL.','toLowerCase','analysis.isEmergency','temp','unknown','openweathermap','calendarSelection','analysis.alertReason','Details:\x20','scanDevices','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','Kein\x20API\x20Key\x20eingegeben.','LTM.driftAnalysis','üêç\x20Stopping\x20Python\x20Sidecar...','Invalid\x20JSON\x20from\x20Python:\x20','KALENDER:\x20Keine\x20relevanten\x20Termine','LTM.triggerDailyDigest','.forecast.current.state','presenceDevices','uuid-error','driftAnalysisTimer'];a0_0x168d=function(){return _0x583337;};return a0_0x168d();}async function recordSequence(_0x5c6c9c,_0x52baf8){const _0x333179=a0_0xc34db5;if(_0x52baf8['type']!==_0x333179(0x2d7)&&_0x52baf8['type']!==_0x333179(0x35d))return;if(!_0x52baf8[_0x333179(0x37e)])return;if(sequenceTimer)clearTimeout(sequenceTimer);const _0x4a63cd={'loc':_0x52baf8[_0x333179(0x335)]||_0x333179(0x39a),'id':_0x52baf8['id'],'ts':Date['now']()};activeSequence['push'](_0x4a63cd),_0x5c6c9c[_0x333179(0x2ad)][_0x333179(0x35e)](_0x333179(0x35b)+_0x4a63cd['loc']+_0x333179(0x306)+activeSequence[_0x333179(0x2f4)]+')'),sequenceTimer=setTimeout(async()=>{activeSequence['length']>0x1?await saveCompletedSequence(_0x5c6c9c):activeSequence=[];},SEQUENCE_TIMEOUT_MS);}async function saveCompletedSequence(_0xb8d772){const _0x2f1703=a0_0xc34db5;try{_0xb8d772[_0x2f1703(0x2ad)][_0x2f1703(0x2c2)](_0x2f1703(0x3a8)+activeSequence[_0x2f1703(0x2f4)]+_0x2f1703(0x24a));const _0x5c8bda=await _0xb8d772[_0x2f1703(0x252)](_0x2f1703(0x2de));let _0x13c6c6=[];if(_0x5c8bda&&_0x5c8bda[_0x2f1703(0x296)])try{_0x13c6c6=JSON[_0x2f1703(0x207)](_0x5c8bda['val']);}catch(_0x341f57){}const _0x248c24=activeSequence[0x0]['ts'],_0x4a920d=activeSequence[_0x2f1703(0x206)](_0x49f5bc=>({'loc':_0x49f5bc[_0x2f1703(0x21f)],'t_delta':Math[_0x2f1703(0x229)]((_0x49f5bc['ts']-_0x248c24)/0x3e8)})),_0x5d99d0={'timestamp':new Date(_0x248c24)[_0x2f1703(0x204)](),'steps':_0x4a920d,'duration':Math[_0x2f1703(0x229)]((activeSequence[activeSequence['length']-0x1]['ts']-_0x248c24)/0x3e8),'daytime':new Date(_0x248c24)['getHours']()};_0x13c6c6[_0x2f1703(0x258)](_0x5d99d0),_0x13c6c6[_0x2f1703(0x2f4)]>MAX_TRAINING_SET_SIZE&&_0x13c6c6[_0x2f1703(0x315)](),await _0xb8d772[_0x2f1703(0x3c1)](_0x2f1703(0x2de),{'val':JSON['stringify'](_0x13c6c6),'ack':!![]}),activeSequence=[],sequenceTimer=null;}catch(_0x43d12f){_0xb8d772[_0x2f1703(0x2ad)]['error'](_0x2f1703(0x2d9)+_0x43d12f[_0x2f1703(0x337)]);}}async function processSensorEvent(_0x10d92a,_0x5ec7ef,_0xb0c6b5,_0x17bdb4){const _0x4b2332=a0_0xc34db5;if(!_0x17bdb4)return;const _0xe2b45a=_0xb0c6b5[_0x4b2332(0x296)],_0x1aa3e2=Date['now']();_0x10d92a[_0x4b2332(0x2ad)][_0x4b2332(0x35e)](_0x4b2332(0x323)+_0x5ec7ef+'\x20=\x20'+_0xe2b45a);const _0x3112f8=_0x10d92a['sensorLastValues'][_0x5ec7ef];_0x10d92a[_0x4b2332(0x20f)][_0x5ec7ef]=_0xe2b45a;if(!_0x17bdb4['logDuplicates']&&_0x3112f8!=undefined&&_0x3112f8==_0xe2b45a){_0x10d92a['log'][_0x4b2332(0x35e)](_0x4b2332(0x292)+_0x17bdb4['name']+_0x4b2332(0x21d)+_0xe2b45a+')');return;}const _0x16ff04={'timestamp':_0x1aa3e2,'id':_0x5ec7ef,'name':_0x17bdb4['name'],'type':_0x17bdb4[_0x4b2332(0x294)],'location':_0x17bdb4['location'],'value':_0xe2b45a};_0x10d92a['eventHistory'][_0x4b2332(0x377)](_0x16ff04);if(_0x10d92a[_0x4b2332(0x256)][_0x4b2332(0x2f4)]>HISTORY_MAX_SIZE)_0x10d92a['eventHistory'][_0x4b2332(0x276)]();await _0x10d92a[_0x4b2332(0x3c1)](_0x4b2332(0x340),{'val':JSON[_0x4b2332(0x20c)](_0x16ff04),'ack':!![]}),await _0x10d92a[_0x4b2332(0x3c1)](_0x4b2332(0x2a0),{'val':JSON[_0x4b2332(0x20c)](_0x10d92a['eventHistory']),'ack':!![]});_0x10d92a[_0x4b2332(0x22c)]&&(_0x10d92a['rawEventLog'][_0x4b2332(0x258)](_0x16ff04),await saveRawEventLog(_0x10d92a),recordSequence(_0x10d92a,_0x16ff04));if(_0x17bdb4[_0x4b2332(0x301)]&&_0xe2b45a===!![]){if(_0x10d92a['isPresent']&&!_0x10d92a['isGracePeriodActive'])_0x10d92a[_0x4b2332(0x2ad)][_0x4b2332(0x2c2)](_0x4b2332(0x3bb)+_0x17bdb4['name']+').\x20Starting\x20Timer.'),startExitTimer(_0x10d92a);else!_0x10d92a[_0x4b2332(0x227)]&&(_0x10d92a['log']['info']('Entry\x20detected\x20via\x20'+_0x17bdb4[_0x4b2332(0x375)]+_0x4b2332(0x2a8)),await setPresence(_0x10d92a,!![]));}else _0x17bdb4['type']==='motion'&&_0xe2b45a===!![]&&(_0x10d92a[_0x4b2332(0x31f)]&&(_0x10d92a[_0x4b2332(0x2ad)]['info']('Motion\x20detected\x20inside.\x20Aborting\x20Exit\x20Timer.'),abortExitTimer(_0x10d92a)),!_0x10d92a[_0x4b2332(0x227)]&&_0x10d92a[_0x4b2332(0x32e)]===SYSTEM_MODES[_0x4b2332(0x1f0)]&&await setPresence(_0x10d92a,!![]));}async function runGeminiAnalysis(_0x20bf53,_0x2c6247=''){const _0x26d573=a0_0xc34db5;if(!_0x20bf53[_0x26d573(0x313)])return;if(_0x20bf53[_0x26d573(0x256)][_0x26d573(0x2f4)]===0x0)return;const _0x2f4368=_0x20bf53['eventHistory'][_0x26d573(0x2bc)](0x0,0xf),_0x37c76c=await getWeatherContext(_0x20bf53),_0x42fce4=_0x20bf53[_0x26d573(0x32e)],_0x5818cb=PERSONA_MAPPING[_0x20bf53[_0x26d573(0x2d2)][_0x26d573(0x218)]||_0x26d573(0x1f5)],_0x16ea53=_0x20bf53['config'][_0x26d573(0x2da)]||_0x26d573(0x36a);let _0x2a747c=![];try{const _0x2a8b85=await _0x20bf53[_0x26d573(0x252)](_0x26d573(0x308));if(_0x2a8b85&&_0x2a8b85[_0x26d573(0x296)])_0x2a747c=!![];}catch(_0x2f2f65){}const _0x64f747='\x0a\x20\x20\x20\x20ROLLE:\x20KI-Hausverwalter\x20&\x20Gesundheits-Assistent.\x0a\x20\x20\x20\x20PERSONA:\x20'+_0x5818cb+_0x26d573(0x3a3)+_0x16ea53+'.\x0a\x20\x20\x20\x20SYSTEM_MODE:\x20'+_0x42fce4+_0x26d573(0x363)+_0x37c76c+_0x26d573(0x3a0)+(_0x2c6247||_0x26d573(0x25c))+'.\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20INPUT\x20DATEN\x20(Letzte\x20Events):\x0a\x20\x20\x20\x20'+JSON[_0x26d573(0x20c)](_0x2f4368)+_0x26d573(0x38a);try{const _0xbc67d=await _0x20bf53['geminiModel']['generateContent'](_0x64f747),_0x1871f1=_0xbc67d['response']['text']()[_0x26d573(0x395)](/```json|```/g,'')[_0x26d573(0x394)](),_0x69b155=JSON['parse'](_0x1871f1);await _0x20bf53[_0x26d573(0x3c1)](_0x26d573(0x1f3),{'val':JSON['stringify'](_0x69b155),'ack':!![]});_0x69b155[_0x26d573(0x1f9)]&&await _0x20bf53[_0x26d573(0x3c1)](_0x26d573(0x398),{'val':_0x69b155['summary'],'ack':!![]});const _0x3c5daa={'timestamp':Date[_0x26d573(0x3b5)](),'id':Date[_0x26d573(0x3b5)]()[_0x26d573(0x2a5)](),'analysis':{'activity':{'summary':_0x69b155[_0x26d573(0x1f9)]||_0x26d573(0x3a4),'isAlert':_0x69b155[_0x26d573(0x37a)]||![],'alertReason':_0x69b155[_0x26d573(0x232)]},'comfort':{'automationProposal':_0x69b155['automationProposal']}}};await updateAnalysisHistory(_0x20bf53,_0x3c5daa);const _0x4d6f69=_0x69b155['isAlert']||![];_0x4d6f69!==_0x20bf53[_0x26d573(0x23e)]&&(await _0x20bf53[_0x26d573(0x3c1)](_0x26d573(0x2c5),{'val':_0x4d6f69,'ack':!![]}),_0x20bf53['lastAlertState']=_0x4d6f69,_0x4d6f69&&(await _0x20bf53[_0x26d573(0x3c1)]('analysis.alertReason',{'val':_0x69b155[_0x26d573(0x232)],'ack':!![]}),sendNotification(_0x20bf53,'‚ö†Ô∏è\x20ALARM:\x20'+_0x69b155[_0x26d573(0x232)],![],_0x69b155[_0x26d573(0x22b)]))),_0x69b155[_0x26d573(0x31c)]&&_0x69b155[_0x26d573(0x31c)][_0x26d573(0x2ba)]&&_0x69b155[_0x26d573(0x31c)]['targetId']&&(_0x20bf53['log']['info'](_0x26d573(0x2c6)+_0x69b155[_0x26d573(0x31c)][_0x26d573(0x2ec)]),await _0x20bf53[_0x26d573(0x3c1)](_0x26d573(0x205),{'val':!![],'ack':!![]}),await _0x20bf53[_0x26d573(0x3c1)](_0x26d573(0x244),{'val':_0x69b155['automationProposal'][_0x26d573(0x2ec)],'ack':!![]}),await _0x20bf53[_0x26d573(0x3c1)](_0x26d573(0x2d4),{'val':_0x69b155[_0x26d573(0x31c)][_0x26d573(0x262)],'ack':!![]}),await _0x20bf53['setStateAsync'](_0x26d573(0x261),{'val':JSON['stringify'](_0x69b155[_0x26d573(0x31c)][_0x26d573(0x3bd)]),'ack':!![]}),_0x2a747c&&(_0x20bf53[_0x26d573(0x2ad)][_0x26d573(0x2c2)](_0x26d573(0x1fb)+_0x69b155['automationProposal']['targetId']+'...'),await executeAutomationAction(_0x20bf53)));}catch(_0x4d9080){_0x20bf53[_0x26d573(0x2ad)][_0x26d573(0x289)]('Gemini\x20Analysis\x20Error:\x20'+_0x4d9080[_0x26d573(0x337)]);}}function installPythonDependencies(_0x24eb4e){const _0x2d73b1=a0_0xc34db5;if(_0x24eb4e[_0x2d73b1(0x248)])return;_0x24eb4e[_0x2d73b1(0x248)]=!![];const _0x335a6d=path[_0x2d73b1(0x359)](__dirname,'python_service',_0x2d73b1(0x2cf));_0x24eb4e[_0x2d73b1(0x2ad)][_0x2d73b1(0x2c2)](_0x2d73b1(0x3b2)+_0x335a6d+_0x2d73b1(0x280)),stopPythonService(_0x24eb4e);const _0x1302ce=_0x2d73b1(0x22f)+_0x335a6d+'\x22\x20--break-system-packages';exec(_0x1302ce,(_0x566c3f,_0xb6a9cb,_0x259625)=>{const _0xe1a213=_0x2d73b1;_0x24eb4e['dependencyInstallInProgress']=![],_0x566c3f?(_0x24eb4e[_0xe1a213(0x2ad)][_0xe1a213(0x289)](_0xe1a213(0x26c)+_0x1302ce),_0x24eb4e[_0xe1a213(0x2ad)][_0xe1a213(0x289)](_0xe1a213(0x3cf)+(_0x259625||_0x566c3f['message']))):(_0x24eb4e[_0xe1a213(0x2ad)][_0xe1a213(0x2c2)](_0xe1a213(0x3ac)),startPythonService(_0x24eb4e));});}function sendToPython(_0x107b41,_0x47551d,_0x1eceef={}){const _0x18ecd8=a0_0xc34db5;if(!_0x107b41[_0x18ecd8(0x24f)]||!_0x107b41['pythonProcess'][_0x18ecd8(0x367)]['writable'])return;const _0x372987=JSON[_0x18ecd8(0x20c)]({'command':_0x47551d,..._0x1eceef});try{_0x107b41[_0x18ecd8(0x24f)][_0x18ecd8(0x367)][_0x18ecd8(0x354)](_0x372987+'\x0a');}catch(_0x333157){_0x107b41[_0x18ecd8(0x2ad)][_0x18ecd8(0x289)](_0x18ecd8(0x23c)+_0x333157[_0x18ecd8(0x337)]);}}function runPythonHealthCheck(_0x2778e3){const _0x36d49a=a0_0xc34db5;if(!_0x2778e3[_0x36d49a(0x267)]||_0x2778e3['dailyDigests'][_0x36d49a(0x2f4)]<0x2){_0x2778e3[_0x36d49a(0x2ad)][_0x36d49a(0x2c2)](_0x36d49a(0x2e5));return;}const _0x2fca9a=_0x2778e3['dailyDigests'][_0x36d49a(0x206)](_0x24f073=>{const _0x4ed95f=_0x36d49a,_0x3e6626=(_0x24f073[_0x4ed95f(0x228)]||'')[_0x4ed95f(0x3c8)]();return ACTIVITY_LEVEL_MAP[_0x3e6626]||0x32;});_0x2778e3[_0x36d49a(0x2ad)][_0x36d49a(0x2c2)](_0x36d49a(0x255)+_0x2fca9a[_0x36d49a(0x2f4)]+_0x36d49a(0x1fd)),sendToPython(_0x2778e3,_0x36d49a(0x32d),{'values':_0x2fca9a,'tag':_0x36d49a(0x2cb)});}function handlePythonResult(_0x5b304d,_0x3c667d){const _0x2844de=a0_0xc34db5;if(_0x3c667d[_0x2844de(0x294)]===_0x2844de(0x33e))_0x5b304d[_0x2844de(0x2ad)][_0x2844de(0x35e)](_0x2844de(0x298));else{if(_0x3c667d[_0x2844de(0x294)]===_0x2844de(0x30e)){const {tag:_0x2b1ad7,diagnosis:_0x4a1672,change_percent:_0x25a4bf}=_0x3c667d['payload'];_0x5b304d[_0x2844de(0x2ad)][_0x2844de(0x2c2)]('üêç\x20Guardian\x20Diagnosis\x20('+_0x2b1ad7+_0x2844de(0x2b1)+_0x4a1672+'\x20('+_0x25a4bf+'%)'),_0x5b304d[_0x2844de(0x3c1)]('analysis.health.trendDiagnosis',{'val':_0x4a1672,'ack':!![]}),_0x5b304d[_0x2844de(0x3c1)](_0x2844de(0x233),{'val':_0x25a4bf,'ack':!![]});}}}function startPythonService(_0x17f695){const _0x56d85b=a0_0xc34db5;try{const _0x59dd8a=path[_0x56d85b(0x359)](__dirname,_0x56d85b(0x341),_0x56d85b(0x211));_0x17f695[_0x56d85b(0x2ad)][_0x56d85b(0x2c2)](_0x56d85b(0x238)+_0x59dd8a),_0x17f695[_0x56d85b(0x24f)]=spawn(_0x56d85b(0x1f1),[_0x59dd8a]),_0x17f695['pythonProcess']['stdout']['on'](_0x56d85b(0x342),_0xedbab5=>{const _0x58c5ac=_0x56d85b,_0x46f9ec=_0xedbab5[_0x58c5ac(0x2a5)]()[_0x58c5ac(0x277)]('\x0a');_0x46f9ec[_0x58c5ac(0x32b)](_0x341143=>{const _0x1c178f=_0x58c5ac,_0x399c23=_0x341143[_0x1c178f(0x394)]();if(!_0x399c23)return;if(_0x399c23[_0x1c178f(0x297)](_0x1c178f(0x2c4)))_0x17f695[_0x1c178f(0x2ad)][_0x1c178f(0x35e)](_0x1c178f(0x357)+_0x399c23[_0x1c178f(0x2ab)](0x5)[_0x1c178f(0x394)]());else{if(_0x399c23[_0x1c178f(0x297)]('[RESULT]'))try{const _0x4fd76b=JSON[_0x1c178f(0x207)](_0x399c23[_0x1c178f(0x2ab)](0x8)['trim']());handlePythonResult(_0x17f695,_0x4fd76b);}catch(_0xbabb7f){_0x17f695[_0x1c178f(0x2ad)][_0x1c178f(0x2cd)](_0x1c178f(0x3d5)+_0x399c23);}}(_0x399c23[_0x1c178f(0x242)]('No\x20module\x20named')||_0x399c23[_0x1c178f(0x242)](_0x1c178f(0x327)))&&(_0x17f695[_0x1c178f(0x2ad)][_0x1c178f(0x2cd)]('‚ö†Ô∏è\x20Python\x20missing\x20dependencies.\x20Triggering\x20Auto-Install...'),installPythonDependencies(_0x17f695));});}),_0x17f695['pythonProcess'][_0x56d85b(0x312)]['on'](_0x56d85b(0x342),_0x484a4c=>{const _0x50f11e=_0x56d85b,_0x33864a=_0x484a4c[_0x50f11e(0x2a5)]()['trim']();_0x17f695['log'][_0x50f11e(0x289)](_0x50f11e(0x39b)+_0x33864a);}),_0x17f695[_0x56d85b(0x24f)]['on'](_0x56d85b(0x310),_0x398019=>{const _0x1e2e43=_0x56d85b;_0x17f695[_0x1e2e43(0x2ad)][_0x1e2e43(0x2c2)]('[PYTHON]\x20Service\x20exited\x20with\x20code\x20'+_0x398019),_0x17f695[_0x1e2e43(0x24f)]=null;}),_0x17f695[_0x56d85b(0x24f)]['on'](_0x56d85b(0x289),_0x2e730b=>{const _0x124ca0=_0x56d85b;_0x17f695['log'][_0x124ca0(0x2cd)]('[PYTHON]\x20Failed\x20to\x20start\x20(is\x20python3\x20installed?):\x20'+_0x2e730b[_0x124ca0(0x337)]);});}catch(_0x253b80){_0x17f695['log']['error'](_0x56d85b(0x24e)+_0x253b80[_0x56d85b(0x337)]);}}function stopPythonService(_0x1fab15){const _0x48dbe1=a0_0xc34db5;if(_0x1fab15['pythonProcess']){_0x1fab15[_0x48dbe1(0x2ad)][_0x48dbe1(0x2c2)](_0x48dbe1(0x3d4));try{_0x1fab15['pythonProcess']['kill']();}catch(_0x1d7a89){_0x1fab15['log'][_0x48dbe1(0x2cd)](_0x48dbe1(0x325)+_0x1d7a89[_0x48dbe1(0x337)]);}_0x1fab15[_0x48dbe1(0x24f)]=null;}}class CogniLiving extends utils[a0_0xc34db5(0x221)]{constructor(_0x20dcb0){const _0x61fc2e=a0_0xc34db5;super({..._0x20dcb0,'name':_0x61fc2e(0x270)}),this['eventHistory']=[],this['analysisHistory']=[],this['feedbackHistory']=[],this['rawEventLog']=[],this['dailyDigests']=[],this[_0x61fc2e(0x20f)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x61fc2e(0x31f)]=null,this[_0x61fc2e(0x324)]=null,this[_0x61fc2e(0x216)]=![],this[_0x61fc2e(0x1ed)]=null,this[_0x61fc2e(0x313)]=null,this[_0x61fc2e(0x32e)]=SYSTEM_MODES[_0x61fc2e(0x1f0)],this['isProVersion']=![],this[_0x61fc2e(0x23e)]=![],this[_0x61fc2e(0x285)]=_0x61fc2e(0x3cb),this['analysisTimer']=null,this[_0x61fc2e(0x22e)]=null,this[_0x61fc2e(0x208)]=null,this[_0x61fc2e(0x1e7)]=null,this[_0x61fc2e(0x2d1)]=null,this[_0x61fc2e(0x24f)]=null,this[_0x61fc2e(0x248)]=![],this['on']('ready',this[_0x61fc2e(0x2a7)][_0x61fc2e(0x214)](this)),this['on'](_0x61fc2e(0x384),this[_0x61fc2e(0x399)][_0x61fc2e(0x214)](this)),this['on'](_0x61fc2e(0x225),this[_0x61fc2e(0x293)]['bind'](this)),this['on'](_0x61fc2e(0x337),this['onMessage'][_0x61fc2e(0x214)](this));}async[a0_0xc34db5(0x2a7)](){const _0x4ae778=a0_0xc34db5;this[_0x4ae778(0x2ad)][_0x4ae778(0x2c2)](_0x4ae778(0x281)+this['version']+_0x4ae778(0x358)),await initZombies(this),this['config']['licenseKey']=this[_0x4ae778(0x2d2)][_0x4ae778(0x379)]||'';try{this[_0x4ae778(0x22c)]=await checkLicense(this,this['config'][_0x4ae778(0x379)]);}catch(_0x3b779d){}this[_0x4ae778(0x2ad)][_0x4ae778(0x2c2)](_0x4ae778(0x2ea)+!!this[_0x4ae778(0x2d2)][_0x4ae778(0x379)]+_0x4ae778(0x369)+(this[_0x4ae778(0x22c)]?_0x4ae778(0x350):_0x4ae778(0x33a)));if(!this[_0x4ae778(0x2d2)][_0x4ae778(0x210)]||this[_0x4ae778(0x2d2)][_0x4ae778(0x210)]<0.1)this[_0x4ae778(0x2d2)]['inactivityThresholdHours']=0xc;await initHistory(this),await initSystemConfig(this);if(this[_0x4ae778(0x2d2)][_0x4ae778(0x291)])try{this[_0x4ae778(0x1ed)]=new GoogleGenerativeAI(this[_0x4ae778(0x2d2)][_0x4ae778(0x291)]),this[_0x4ae778(0x313)]=this[_0x4ae778(0x1ed)][_0x4ae778(0x247)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this[_0x4ae778(0x2ad)][_0x4ae778(0x2c2)]('Gemini\x20AI\x20initialized.');}catch(_0x45b863){this[_0x4ae778(0x2ad)]['error']('Gemini\x20Init\x20Error:\x20'+_0x45b863[_0x4ae778(0x337)]);}await createAllObjects(this),await loadSystemMode(this),await loadRawEventLog(this),await loadDailyDigests(this),this[_0x4ae778(0x368)]('analysis.trigger'),this[_0x4ae778(0x368)](LTM_DP_TRIGGER_DIGEST),this[_0x4ae778(0x368)](_0x4ae778(0x37b)),this['subscribeStates'](_0x4ae778(0x1ee)),this['subscribeStates'](_0x4ae778(0x241)),this[_0x4ae778(0x368)]('analysis.automation.autoApply'),await initSensorSubscriptions(this),await initPresenceSubscriptions(this),await setupTelegramListener(this),setTimeout(()=>checkWifiPresence(this),0x1388);if(this['analysisTimer'])clearInterval(this[_0x4ae778(0x383)]);const _0x4ac875=this[_0x4ae778(0x2d2)]['analysisInterval']||0xf;_0x4ac875>0x0&&(this[_0x4ae778(0x2ad)][_0x4ae778(0x2c2)]('Starting\x20Autopilot\x20('+_0x4ac875+_0x4ae778(0x360)),this[_0x4ae778(0x383)]=setInterval(()=>{runAutopilot(this);},_0x4ac875*0x3c*0x3e8)),setupLtmScheduler(this),setupModeResetScheduler(this),setupDriftAnalysisScheduler(this),setupBriefingScheduler(this),startPythonService(this),setTimeout(()=>{const _0x3fac58=_0x4ae778;this[_0x3fac58(0x24f)]&&runPythonHealthCheck(this);},0x1388);}[a0_0xc34db5(0x293)](_0x2a10f0){const _0x23f01e=a0_0xc34db5;if(this[_0x23f01e(0x383)])clearInterval(this['analysisTimer']);if(this[_0x23f01e(0x1e7)])clearInterval(this[_0x23f01e(0x1e7)]);if(this[_0x23f01e(0x22e)])this[_0x23f01e(0x22e)][_0x23f01e(0x21e)]();if(this['modeResetJob'])this[_0x23f01e(0x208)]['cancel']();if(this[_0x23f01e(0x2d1)])this[_0x23f01e(0x2d1)][_0x23f01e(0x21e)]();if(this[_0x23f01e(0x31f)])clearTimeout(this[_0x23f01e(0x31f)]);if(this[_0x23f01e(0x324)])clearTimeout(this[_0x23f01e(0x324)]);stopPythonService(this),_0x2a10f0();}async[a0_0xc34db5(0x399)](_0x1cb781,_0x1bc13c){const _0x1a28dc=a0_0xc34db5;if(!_0x1bc13c)return;if(_0x1cb781[_0x1a28dc(0x242)]('telegram')&&_0x1cb781[_0x1a28dc(0x388)](_0x1a28dc(0x302))&&_0x1bc13c[_0x1a28dc(0x296)]){await handleTelegramResponse(this,_0x1bc13c[_0x1a28dc(0x296)]);return;}if(_0x1cb781===this[_0x1a28dc(0x2f6)]+'.'+SYSTEM_DP_MODE){_0x1bc13c[_0x1a28dc(0x296)]&&Object[_0x1a28dc(0x21c)](SYSTEM_MODES)[_0x1a28dc(0x242)](_0x1bc13c['val'])&&(this[_0x1a28dc(0x32e)]=_0x1bc13c[_0x1a28dc(0x296)],_0x1bc13c[_0x1a28dc(0x296)]===SYSTEM_MODES[_0x1a28dc(0x30c)]?await setPresence(this,![]):await setPresence(this,!![]));if(!_0x1bc13c[_0x1a28dc(0x2f3)])this[_0x1a28dc(0x2c9)](_0x1cb781,{'val':this[_0x1a28dc(0x32e)],'ack':!![]});return;}if(!_0x1bc13c['ack']){_0x1cb781[_0x1a28dc(0x242)](_0x1a28dc(0x20e))&&_0x1bc13c['val']&&(this[_0x1a28dc(0x2c9)](_0x1cb781,{'val':![],'ack':!![]}),runGeminiAnalysis(this));if(_0x1cb781['includes'](_0x1a28dc(0x2e2))&&_0x1bc13c['val']){this['setState'](_0x1cb781,{'val':![],'ack':!![]});if(this[_0x1a28dc(0x22c)])createDailyDigest(this);}_0x1cb781[_0x1a28dc(0x242)](_0x1a28dc(0x3b0))&&_0x1bc13c[_0x1a28dc(0x296)]&&(this['setState'](_0x1cb781,{'val':![],'ack':!![]}),sendMorningBriefing(this));_0x1cb781[_0x1a28dc(0x242)](_0x1a28dc(0x265))&&_0x1bc13c['val']&&(this[_0x1a28dc(0x2c9)](_0x1cb781,{'val':![],'ack':!![]}),executeAutomationAction(this));return;}if(this[_0x1a28dc(0x2d2)][_0x1a28dc(0x1e5)]&&this[_0x1a28dc(0x2d2)]['presenceDevices'][_0x1a28dc(0x242)](_0x1cb781)){await checkWifiPresence(this);return;}const _0x59e800=(this[_0x1a28dc(0x2d2)][_0x1a28dc(0x1f6)]||[])[_0x1a28dc(0x38c)](_0x226540=>_0x226540['id']===_0x1cb781);if(_0x59e800)processSensorEvent(this,_0x1cb781,_0x1bc13c,_0x59e800);}async['onMessage'](_0x373d4d){const _0x33ad12=a0_0xc34db5;if(typeof _0x373d4d===_0x33ad12(0x1eb)&&_0x373d4d[_0x33ad12(0x337)])try{if(_0x373d4d[_0x33ad12(0x2e9)]==='testApiKey'){const _0x47f907=_0x373d4d['message']['apiKey']||this[_0x33ad12(0x2d2)]['geminiApiKey'];if(!_0x47f907)return this['sendTo'](_0x373d4d[_0x33ad12(0x320)],_0x373d4d[_0x33ad12(0x2e9)],{'success':![],'message':_0x33ad12(0x3d2)},_0x373d4d[_0x33ad12(0x2c0)]);try{const _0x589e88=new GoogleGenerativeAI(_0x47f907),_0x26d6a5=_0x589e88['getGenerativeModel']({'model':GEMINI_MODEL}),_0x5253b2=await _0x26d6a5[_0x33ad12(0x37c)]('Say\x20Hello'),_0xc7b8a7=await _0x5253b2[_0x33ad12(0x25a)],_0x388209=_0xc7b8a7[_0x33ad12(0x336)]();this[_0x33ad12(0x1ea)](_0x373d4d[_0x33ad12(0x320)],_0x373d4d[_0x33ad12(0x2e9)],{'success':!![],'message':'Verbindung\x20erfolgreich!\x20Antwort:\x20'+_0x388209['substring'](0x0,0x14)+_0x33ad12(0x280)},_0x373d4d['callback']);}catch(_0x32fffa){this[_0x33ad12(0x1ea)](_0x373d4d['from'],_0x373d4d['command'],{'success':![],'message':_0x33ad12(0x254)+_0x32fffa['message']},_0x373d4d[_0x33ad12(0x2c0)]);}}else{if(_0x373d4d['command']===_0x33ad12(0x365)){}else{if(_0x373d4d[_0x33ad12(0x2e9)]===_0x33ad12(0x278)){if(!this[_0x33ad12(0x22c)])return this['sendTo'](_0x373d4d[_0x33ad12(0x320)],_0x373d4d[_0x33ad12(0x2e9)],{'success':![],'isPro':![]},_0x373d4d[_0x33ad12(0x2c0)]);let _0x4fc763={'status':'N/A','details':'','lastCheck':0x0};try{_0x4fc763['status']=(await this[_0x33ad12(0x252)](LTM_DP_DRIFT_STATUS))[_0x33ad12(0x296)],_0x4fc763[_0x33ad12(0x2ce)]=(await this[_0x33ad12(0x252)](LTM_DP_DRIFT_DETAILS))[_0x33ad12(0x296)],_0x4fc763[_0x33ad12(0x34e)]=(await this[_0x33ad12(0x252)](LTM_DP_DRIFT_LAST_CHECK))[_0x33ad12(0x296)];}catch(_0x151cad){}const _0x3c248d=this['analysisHistory']||[];this[_0x33ad12(0x1ea)](_0x373d4d[_0x33ad12(0x320)],_0x373d4d['command'],{'success':!![],'isPro':!![],'dailyDigests':this[_0x33ad12(0x267)],'driftAnalysis':_0x4fc763,'analysisHistory':_0x3c248d},_0x373d4d[_0x33ad12(0x2c0)]);}else{if(_0x373d4d[_0x33ad12(0x2e9)]===_0x33ad12(0x230)){const _0x4055af=this[_0x33ad12(0x267)][_0x33ad12(0x2f4)],_0x2c7d5c=new Date(),_0x15c3ad=new Date(_0x2c7d5c[_0x33ad12(0x24d)](),_0x2c7d5c['getMonth'](),_0x2c7d5c['getDate']())[_0x33ad12(0x333)](),_0x9933ee=this[_0x33ad12(0x2f8)][_0x33ad12(0x2a4)](_0x15f4c7=>new Date(_0x15f4c7[_0x33ad12(0x269)])[_0x33ad12(0x333)]()>_0x15c3ad)[_0x33ad12(0x2f4)],_0xb499b2=new Array(0x18)[_0x33ad12(0x2cc)](0x0);this['rawEventLog']['forEach'](_0x41d7f4=>{const _0x4934f3=_0x33ad12,_0x345e76=new Date(_0x41d7f4[_0x4934f3(0x269)]);if(_0x345e76[_0x4934f3(0x333)]()>_0x15c3ad)_0xb499b2[_0x345e76[_0x4934f3(0x32c)]()]++;});let _0x5b473d={'status':_0x33ad12(0x2c1)};try{_0x5b473d[_0x33ad12(0x27c)]=(await this[_0x33ad12(0x252)](LTM_DP_DRIFT_STATUS))[_0x33ad12(0x296)];}catch(_0x23b1f6){}let _0x588b54='';try{const _0x57cef2=await this[_0x33ad12(0x252)](_0x33ad12(0x263));_0x588b54=_0x57cef2?_0x57cef2['val']:'';}catch(_0x1f68bb){}let _0x55df7a=null;!this['geminiModel']&&(_0x55df7a=this['config'][_0x33ad12(0x291)]?_0x33ad12(0x222):'Kein\x20API\x20Key!');let _0x2d4e26={'detected':![],'description':'','targetId':'','targetValue':'','autoApply':![]};try{const _0x227ea7=await this[_0x33ad12(0x252)]('analysis.automation.patternDetected'),_0x4232be=await this[_0x33ad12(0x252)](_0x33ad12(0x244)),_0x13d8bb=await this[_0x33ad12(0x252)]('analysis.automation.targetId'),_0x4b8a5f=await this[_0x33ad12(0x252)]('analysis.automation.targetValue'),_0x4c1a3e=await this[_0x33ad12(0x252)](_0x33ad12(0x308));_0x227ea7&&_0x227ea7['val']&&(_0x2d4e26['detected']=!![],_0x2d4e26[_0x33ad12(0x2ec)]=_0x4232be?_0x4232be[_0x33ad12(0x296)]:'',_0x2d4e26[_0x33ad12(0x262)]=_0x13d8bb?_0x13d8bb['val']:'',_0x2d4e26[_0x33ad12(0x3bd)]=_0x4b8a5f?_0x4b8a5f[_0x33ad12(0x296)]:''),_0x2d4e26['autoApply']=_0x4c1a3e?!!_0x4c1a3e[_0x33ad12(0x296)]:![];}catch(_0x4677a4){}this[_0x33ad12(0x1ea)](_0x373d4d[_0x33ad12(0x320)],_0x373d4d[_0x33ad12(0x2e9)],{'success':!![],'eventHistory':this[_0x33ad12(0x256)][_0x33ad12(0x2bc)](0x0,0xf),'stats':{'digestCount':_0x4055af,'eventCountToday':_0x9933ee,'hourlyActivity':_0xb499b2,'driftStatus':_0x5b473d[_0x33ad12(0x27c)],'isPresent':this[_0x33ad12(0x227)],'presenceWho':_0x588b54,'minDays':this[_0x33ad12(0x2d2)][_0x33ad12(0x243)]||0x7,'stbDays':this[_0x33ad12(0x2d2)][_0x33ad12(0x1f2)]||0xe,'ltbDays':this[_0x33ad12(0x2d2)][_0x33ad12(0x2a3)]||0x3c,'systemError':_0x55df7a},'automation':_0x2d4e26},_0x373d4d[_0x33ad12(0x2c0)]);}else{if(_0x373d4d[_0x33ad12(0x2e9)]===_0x33ad12(0x35f)){const _0x5062fe=await this[_0x33ad12(0x212)](_0x33ad12(0x2e0),_0x33ad12(0x201)),_0x42b3a1=[];if(_0x5062fe)for(const _0xda78f2 in _0x5062fe){const _0x12f067=_0x5062fe[_0xda78f2],_0x562a7d=(_0x12f067[_0x33ad12(0x334)]&&typeof _0x12f067[_0x33ad12(0x334)]['name']===_0x33ad12(0x1eb)?_0x12f067[_0x33ad12(0x334)][_0x33ad12(0x375)]['de']:_0x12f067[_0x33ad12(0x334)][_0x33ad12(0x375)])||_0x12f067[_0x33ad12(0x334)][_0x33ad12(0x375)];_0x42b3a1[_0x33ad12(0x258)]({'id':_0xda78f2,'name':_0x562a7d});}this['sendTo'](_0x373d4d[_0x33ad12(0x320)],_0x373d4d[_0x33ad12(0x2e9)],{'success':!![],'enums':_0x42b3a1},_0x373d4d[_0x33ad12(0x2c0)]);}else{if(_0x373d4d[_0x33ad12(0x2e9)]===_0x33ad12(0x3d0))try{const _0x47a0a5=await scanForDevices(this,_0x373d4d[_0x33ad12(0x337)]||{});this[_0x33ad12(0x1ea)](_0x373d4d[_0x33ad12(0x320)],_0x373d4d['command'],{'success':!![],'devices':_0x47a0a5},_0x373d4d[_0x33ad12(0x2c0)]);}catch(_0x2ce55a){this[_0x33ad12(0x1ea)](_0x373d4d[_0x33ad12(0x320)],_0x373d4d[_0x33ad12(0x2e9)],{'success':![],'error':_0x2ce55a[_0x33ad12(0x337)]},_0x373d4d[_0x33ad12(0x2c0)]);}else{if(_0x373d4d[_0x33ad12(0x2e9)]===_0x33ad12(0x300)){const _0x47d635=_0x373d4d['message'][_0x33ad12(0x1e8)];if(!_0x47d635)return this[_0x33ad12(0x1ea)](_0x373d4d['from'],_0x373d4d['command'],{'success':![],'error':'No\x20instance'},_0x373d4d[_0x33ad12(0x2c0)]);const _0x5b46d9=await getCalendarNames(this,_0x47d635);this['sendTo'](_0x373d4d[_0x33ad12(0x320)],_0x373d4d[_0x33ad12(0x2e9)],{'success':!![],'names':_0x5b46d9},_0x373d4d[_0x33ad12(0x2c0)]);}else{if(_0x373d4d[_0x33ad12(0x2e9)]==='simulateButler'){const {targetId:_0x4cde81,targetValue:_0x555f31}=_0x373d4d[_0x33ad12(0x337)];this[_0x33ad12(0x2ad)][_0x33ad12(0x2c2)](_0x33ad12(0x321)+_0x4cde81+_0x33ad12(0x25f)+_0x555f31),await this[_0x33ad12(0x3c1)](_0x33ad12(0x205),{'val':!![],'ack':!![]}),await this[_0x33ad12(0x3c1)](_0x33ad12(0x244),{'val':_0x33ad12(0x2ae)+_0x4cde81,'ack':!![]}),await this[_0x33ad12(0x3c1)](_0x33ad12(0x2d4),{'val':_0x4cde81,'ack':!![]}),await this[_0x33ad12(0x3c1)]('analysis.automation.targetValue',{'val':_0x555f31,'ack':!![]}),this[_0x33ad12(0x1ea)](_0x373d4d['from'],_0x373d4d[_0x33ad12(0x2e9)],{'success':!![]},_0x373d4d[_0x33ad12(0x2c0)]);}else{if(_0x373d4d[_0x33ad12(0x2e9)]==='submitFeedback'){const {historyId:_0x51f432,rating:_0x51c910,comment:_0x3a4879,alertReason:_0x153e78}=_0x373d4d['message'];_0x51f432&&_0x51c910?(await saveFeedback(this,{'timestamp':Date[_0x33ad12(0x3b5)](),'historyId':_0x51f432,'rating':_0x51c910,'comment':_0x3a4879,'alertReason':_0x153e78}),this[_0x33ad12(0x1ea)](_0x373d4d[_0x33ad12(0x320)],_0x373d4d['command'],{'success':!![]},_0x373d4d[_0x33ad12(0x2c0)])):this[_0x33ad12(0x1ea)](_0x373d4d['from'],_0x373d4d[_0x33ad12(0x2e9)],{'success':![],'error':_0x33ad12(0x330)},_0x373d4d[_0x33ad12(0x2c0)]);}else _0x373d4d['command']===_0x33ad12(0x3bc)&&(this[_0x33ad12(0x2ad)]['info'](_0x33ad12(0x2bb)),await this['setStateAsync'](_0x33ad12(0x205),{'val':![],'ack':!![]}),await this['setStateAsync'](_0x33ad12(0x244),{'val':'','ack':!![]}),this[_0x33ad12(0x1ea)](_0x373d4d[_0x33ad12(0x320)],_0x373d4d[_0x33ad12(0x2e9)],{'success':!![]},_0x373d4d[_0x33ad12(0x2c0)]));}}}}}}}}}catch(_0x5ec80c){this[_0x33ad12(0x2ad)][_0x33ad12(0x289)]('Error\x20in\x20onMessage\x20command\x20'+_0x373d4d['command']+':\x20'+_0x5ec80c[_0x33ad12(0x337)]);if(_0x373d4d[_0x33ad12(0x2c0)])this['sendTo'](_0x373d4d[_0x33ad12(0x320)],_0x373d4d[_0x33ad12(0x2e9)],{'success':![],'error':_0x5ec80c[_0x33ad12(0x337)]},_0x373d4d['callback']);}}}if(require[a0_0xc34db5(0x31e)]!==module)module[a0_0xc34db5(0x353)]=_0xa6d397=>new CogniLiving(_0xa6d397);else new CogniLiving();