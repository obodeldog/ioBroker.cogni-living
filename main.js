function a0_0x5258(){const _0x37adcb=['.communicate.request','analysis.training.status','startService','analysis.training.triggerSecurity','./lib/dead_man','./lib/ai_agent','apiKey','onMessage','analysis.training.triggerTopology','analysis.health.todayVector','analysis.automation.targetValue','command','initSystemConfig','sendMorningBriefing','Aktiv\x20(','checkSolarCondition','simulateEnergyMPC','dailyDigests','getMinutes','setPresence','presenceDevices','NORMAL','currentSystemMode','\x20min\x20ausbleiben.','lastTrackerEventTime','Notification\x20Test\x20Failed:\x20','fill','rawEventLog','daswetter.0','getStateAsync','analysis.training.triggerComfort','callback','exitTimer','2FEJtHJ','enum.rooms.*',')\x20-\x20Phase\x20D\x20(Evolution)','party','config','enum','checkLicense','send','@iobroker/adapter-core','sendTo','setObjectNotExistsAsync','name','type','onStateChange','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','triggerDailyDigest','./lib/python_bridge','updateTopology','createDailyDigest','from','lastAlertState','PREDICT_ENERGY','getOutsideTemperatureNumeric','LTM.rawEventLog','namespace','clear','klar','activityLevel','setState','now','createAllObjects','calendarInstance','\x20Tage)','onUnload','setupDriftAnalysisScheduler','Kein\x20Kalender-Adapter','Active\x20Ventilation\x20Alerts','5718110FaqPVO','LTM.triggerDailyDigest','TRAIN_ENERGY','Sec-Training\x20started...','checkWifiPresence','sort','location','map','executeAutomationAction','ANALYZE_TREND','analysis.energy.mpcActive','SET_LEARNING_MODE','timestamp','NextHours.Location_1.Day_1.current.symbol_desc','53930zbIJvm','cancel','scanForDevices','analysis.security.learningStatus','weatherunderground.0','abortExitTimer','./lib/automation','SET_TOPOLOGY','eventHistory','val','Fehler:\x20','Gemini\x20Init\x20Error:\x20','getForeignStateAsync','cogni-living','trackerEnabled','calendarName','useWeather','analysis.automation.autoApply','trackerHeartbeat','slice','SYSTEM_MODES','bind','scanDevices','updateHealthVector','main','genAI','2222eCFWoK','analysis.triggerBriefing','initHistory','testNotification','Adapter','subscribeStates','Party\x20Mode','debug','geminiModel','join','includes','9oOGZqj','Kein\x20API\x20Key\x20Ã¼bergeben','unload','Warm-Up\x20Target\x20Temps\x20(JSON)','error','3ZlhVdC','entries','_calName','object','toString','874437foOUzS','system.presenceWho','checkAndInstall','updateLocation','OPTIMIZE_ENERGY','triggerGaitAnalysis','inactivityThresholdHours','getForeignObjectAsync','info','3762392zWCocr','runPythonHealthCheck','setupBriefingScheduler','application/json','search','getState','manual','setHours','analysis.topology.structure','length','getForeignObjectsAsync','stopService','analysis.training.triggerEnergy','.system.mode','generateContent','Verbunden','checkCalendarTriggers','driftAnalysisTimer','ltmJob','scanThermostats','exitGraceTimer','simulateButler','message','testApiKey','system.mode','Instanz\x20nicht\x20gefunden','Gesendet','getGenerativeModel','Keine\x20Antwort\x20von\x20Gemini','forEach','updateTopologyMatrix','analysis.energy.warmupTargets','WiFi\x20Presence\x20detected.','systemConfig','instance','online','state','processSensorEvent','triggerBriefing','ack','Guest\x20Mode','scores','LTM.trainingData.thermodynamics','parse','PINN\x20AI\x20Forecast','setStateAsync','analysis.automation.patternDetected','Current.WeatherText','endsWith','LTM.trainingData.sequences','TRAIN_HEALTH','stateChange','Test','automation.triggerAction','TRACK_EVENT','common','analysisInterval','{\x22default\x22:\x2021}','analysisHistory','find','analysis.automation.targetId','minutes_safe','triggerEnergyPrediction','3578364jBkJLE','Verbindung\x20erfolgreich!','stringify','push','devices','PYTHON_EXE','split','SYSTEM_DP_MODE','string','floor','motion','values','@google/generative-ai','(((.+)+)+)+$','sensorLastValues','analysis.automation.description','version','briefingJob','accuweather.0','getHours','runGeminiAnalysis','./lib/installer','json','startSystem','343060deJEkq','enum.functions.*','isProVersion','exports','isGracePeriodActive','onReady','./lib/setup','getOverviewData','notifyTelegramInstance','Heizung\x20kann\x20','analysis.energy.insulationScore','minDaysForBaseline','matrix','add','VACATION','runAutopilot','initZombies','analysisTimer','analysis.trigger','isSolar','geminiApiKey','isArray','guest','analysis.training.triggerHealth','subscribeForeignStatesAsync','ANALYZE_GAIT','heiter','dependencyInstallInProgress','isPresent','loadSystemMode','3424834qFTSYH','log','LTM.dailyDigests','system.adapter.','modeResetJob','analysis.energy.ventilationAlerts','checkThermostats','some'];a0_0x5258=function(){return _0x37adcb;};return a0_0x5258();}const a0_0x3aefcc=a0_0x48f4;(function(_0x555c75,_0x331685){const _0x2a075d=a0_0x48f4,_0x25625d=_0x555c75();while(!![]){try{const _0x2d7db5=-parseInt(_0x2a075d(0x293))/0x1*(parseInt(_0x2a075d(0x231))/0x2)+-parseInt(_0x2a075d(0x28e))/0x3*(-parseInt(_0x2a075d(0x1ea))/0x4)+-parseInt(_0x2a075d(0x256))/0x5+parseInt(_0x2a075d(0x1d2))/0x6+parseInt(_0x2a075d(0x208))/0x7+-parseInt(_0x2a075d(0x29c))/0x8*(-parseInt(_0x2a075d(0x289))/0x9)+parseInt(_0x2a075d(0x264))/0xa*(parseInt(_0x2a075d(0x27e))/0xb);if(_0x2d7db5===_0x331685)break;else _0x25625d['push'](_0x25625d['shift']());}catch(_0x4eaa22){_0x25625d['push'](_0x25625d['shift']());}}}(a0_0x5258,0xae157));const a0_0x37261e=(function(){let _0x3004db=!![];return function(_0x448a44,_0x81fe89){const _0x469bdd=_0x3004db?function(){if(_0x81fe89){const _0x19c8e9=_0x81fe89['apply'](_0x448a44,arguments);return _0x81fe89=null,_0x19c8e9;}}:function(){};return _0x3004db=![],_0x469bdd;};}()),a0_0x5429ea=a0_0x37261e(this,function(){const _0x5e24b7=a0_0x48f4;return a0_0x5429ea[_0x5e24b7(0x292)]()[_0x5e24b7(0x2a0)](_0x5e24b7(0x1df))[_0x5e24b7(0x292)]()['constructor'](a0_0x5429ea)[_0x5e24b7(0x2a0)](_0x5e24b7(0x1df));});a0_0x5429ea();'use strict';const utils=require(a0_0x3aefcc(0x239)),{GoogleGenerativeAI}=require(a0_0x3aefcc(0x1de)),installer=require(a0_0x3aefcc(0x1e7)),scanner=require('./lib/scanner'),schedulers=require('./lib/scheduler'),topology=require('./lib/topology'),setup=require(a0_0x3aefcc(0x1f0)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x3aefcc(0x241)),aiAgent=require(a0_0x3aefcc(0x215)),deadMan=require(a0_0x3aefcc(0x214)),automation=require(a0_0x3aefcc(0x26a)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x48f4(_0x3dc159,_0x3d1d50){const _0xbd94a0=a0_0x5258();return a0_0x48f4=function(_0x5429ea,_0x37261e){_0x5429ea=_0x5429ea-0x199;let _0x5258bd=_0xbd94a0[_0x5429ea];return _0x5258bd;},a0_0x48f4(_0x3dc159,_0x3d1d50);}class CogniLiving extends utils[a0_0x3aefcc(0x282)]{constructor(_0x8c9029){const _0x40738d=a0_0x3aefcc;super({..._0x8c9029,'name':_0x40738d(0x271)}),this[_0x40738d(0x26c)]=[],this[_0x40738d(0x1cd)]=[],this[_0x40738d(0x22b)]=[],this['dailyDigests']=[],this[_0x40738d(0x1e0)]={},this[_0x40738d(0x1b4)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x40738d(0x230)]=null,this[_0x40738d(0x1a7)]=null,this[_0x40738d(0x1ee)]=![],this[_0x40738d(0x27d)]=null,this['geminiModel']=null,this[_0x40738d(0x226)]=setup['SYSTEM_MODES']['NORMAL'],this['isProVersion']=![],this[_0x40738d(0x245)]=![],this[_0x40738d(0x1fb)]=null,this['ltmJob']=null,this['modeResetJob']=null,this['driftAnalysisTimer']=null,this[_0x40738d(0x1e3)]=null,this[_0x40738d(0x205)]=![],this[_0x40738d(0x276)]=null,this[_0x40738d(0x228)]=Date[_0x40738d(0x24e)](),this['on']('ready',this['onReady'][_0x40738d(0x279)](this)),this['on'](_0x40738d(0x1c6),this[_0x40738d(0x23e)][_0x40738d(0x279)](this)),this['on'](_0x40738d(0x28b),this['onUnload'][_0x40738d(0x279)](this)),this['on'](_0x40738d(0x1a9),this[_0x40738d(0x217)][_0x40738d(0x279)](this));}async[a0_0x3aefcc(0x1ef)](){const _0x4e83c5=a0_0x3aefcc;this[_0x4e83c5(0x209)][_0x4e83c5(0x29b)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x4e83c5(0x1e2)]+_0x4e83c5(0x233));if(!installer[_0x4e83c5(0x295)](this,()=>this[_0x4e83c5(0x1e9)]()))return;}async['startSystem'](){const _0x289399=a0_0x3aefcc;await setup[_0x289399(0x1fa)](this);try{this[_0x289399(0x1ec)]=await setup[_0x289399(0x237)](this[_0x289399(0x235)]['licenseKey']);}catch(_0x44958a){}if(!this[_0x289399(0x235)][_0x289399(0x299)]||this[_0x289399(0x235)][_0x289399(0x299)]<0.1)this[_0x289399(0x235)][_0x289399(0x299)]=0xc;await setup[_0x289399(0x280)](this),await setup[_0x289399(0x21c)](this);if(this[_0x289399(0x235)][_0x289399(0x1fe)])try{this[_0x289399(0x27d)]=new GoogleGenerativeAI(this[_0x289399(0x235)][_0x289399(0x1fe)]),this[_0x289399(0x286)]=this[_0x289399(0x27d)][_0x289399(0x1ae)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x289399(0x29f)}}),this[_0x289399(0x209)][_0x289399(0x29b)]('Gemini\x20AI\x20initialized.');}catch(_0x1276d3){this[_0x289399(0x209)]['error'](_0x289399(0x26f)+_0x1276d3[_0x289399(0x1a9)]);}await setup[_0x289399(0x24f)](this),await this[_0x289399(0x207)](),await this[_0x289399(0x23b)]('analysis.energy.pinnForecast',{'type':_0x289399(0x1b7),'common':{'name':_0x289399(0x1bf),'type':_0x289399(0x1da),'role':_0x289399(0x1e8),'read':!![],'write':![]},'native':{}}),await this[_0x289399(0x23b)](_0x289399(0x20d),{'type':_0x289399(0x1b7),'common':{'name':_0x289399(0x255),'type':'string','role':_0x289399(0x1e8),'read':!![],'write':![]},'native':{}}),await this[_0x289399(0x23b)]('analysis.energy.warmupTimes',{'type':_0x289399(0x1b7),'common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':_0x289399(0x1da),'role':_0x289399(0x1e8),'read':!![],'write':![]},'native':{}}),await this[_0x289399(0x23b)]('analysis.energy.warmupTargets',{'type':'state','common':{'name':_0x289399(0x28c),'type':_0x289399(0x1da),'role':'json','read':!![],'write':!![],'def':_0x289399(0x1cc)},'native':{}});try{const _0x5efae1=await this[_0x289399(0x22d)](_0x289399(0x248));if(_0x5efae1&&_0x5efae1['val'])this[_0x289399(0x22b)]=JSON['parse'](_0x5efae1[_0x289399(0x26d)]);}catch(_0x5caeb9){this[_0x289399(0x22b)]=[];}try{const _0x32268a=await this['getStateAsync']('LTM.dailyDigests');if(_0x32268a&&_0x32268a['val'])this['dailyDigests']=JSON[_0x289399(0x1be)](_0x32268a[_0x289399(0x26d)]);}catch(_0x2eacb5){this[_0x289399(0x221)]=[];}const _0x345cb6=this[_0x289399(0x221)][_0x289399(0x19c)]>=(this[_0x289399(0x235)][_0x289399(0x1f5)]||0x7)?_0x289399(0x21e)+this[_0x289399(0x221)][_0x289399(0x19c)]+_0x289399(0x251):'Lernphase\x20('+this[_0x289399(0x221)][_0x289399(0x19c)]+'/'+(this['config'][_0x289399(0x1f5)]||0x7)+')';await this[_0x289399(0x1c0)]('LTM.baselineStatus',{'val':_0x345cb6,'ack':!![]}),this[_0x289399(0x283)](_0x289399(0x1fc)),this[_0x289399(0x283)](_0x289399(0x257)),this['subscribeStates'](_0x289399(0x1ab)),this[_0x289399(0x283)](_0x289399(0x27f)),this[_0x289399(0x283)]('analysis.automation.triggerAction'),this[_0x289399(0x283)](_0x289399(0x275)),this[_0x289399(0x283)](_0x289399(0x213)),this['subscribeStates'](_0x289399(0x201)),this[_0x289399(0x283)](_0x289399(0x19f)),this[_0x289399(0x283)](_0x289399(0x22e)),this[_0x289399(0x283)]('analysis.training.triggerTopology'),this[_0x289399(0x283)](_0x289399(0x260));const _0x21f440=this['config'][_0x289399(0x1d6)];if(_0x21f440)for(const _0x29c4fc of _0x21f440){await this[_0x289399(0x202)](_0x29c4fc['id']);}const _0x52de63=this['config'][_0x289399(0x224)];if(_0x52de63)for(const _0x46eef0 of _0x52de63){await this[_0x289399(0x202)](_0x46eef0);}if(this[_0x289399(0x235)]['notifyTelegramEnabled']&&this[_0x289399(0x235)][_0x289399(0x1f2)])await this['subscribeForeignStatesAsync'](this[_0x289399(0x235)]['notifyTelegramInstance']+_0x289399(0x210));setTimeout(()=>this[_0x289399(0x25a)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x289399(0x1fb)]);const _0x4e07a3=this[_0x289399(0x235)][_0x289399(0x1cb)]||0xf;_0x4e07a3>0x0&&(this[_0x289399(0x1fb)]=setInterval(()=>{const _0x58ebb9=_0x289399;this[_0x58ebb9(0x1f9)](),automation[_0x58ebb9(0x1a3)](this);},_0x4e07a3*0x3c*0x3e8)),setTimeout(()=>automation['checkCalendarTriggers'](this),0x2710),this['config'][_0x289399(0x272)]!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0x52bb3f=_0x289399;if(this['isProVersion']){const _0x2457fd=Date[_0x52bb3f(0x24e)](),_0x1ec8aa=this[_0x52bb3f(0x228)]||_0x2457fd,_0x5db64a=(_0x2457fd-_0x1ec8aa)/0x3e8;_0x5db64a>0x2&&(this['lastTrackerEventTime']=_0x2457fd,pythonBridge[_0x52bb3f(0x238)](this,_0x52bb3f(0x1c9),{'room':null,'dt':_0x5db64a}));}},0xbb8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x289399(0x243)](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x289399(0x253)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x289399(0x29e)](this,()=>aiAgent[_0x289399(0x21d)](this)),pythonBridge[_0x289399(0x212)](this,installer[_0x289399(0x1d7)]),setTimeout(async()=>{const _0x3c4a9d=_0x289399;await topology[_0x3c4a9d(0x242)](this);try{const _0x4b99d2=await this[_0x3c4a9d(0x22d)](_0x3c4a9d(0x19b));if(_0x4b99d2&&_0x4b99d2[_0x3c4a9d(0x26d)])pythonBridge[_0x3c4a9d(0x238)](this,_0x3c4a9d(0x26b),JSON['parse'](_0x4b99d2['val']));}catch(_0x46dbae){}this[_0x3c4a9d(0x29d)](),this[_0x3c4a9d(0x298)](),this[_0x3c4a9d(0x1d1)](),this[_0x3c4a9d(0x27b)]();},0x1388);}[a0_0x3aefcc(0x252)](_0x50e85b){const _0x5d5245=a0_0x3aefcc;if(this[_0x5d5245(0x1fb)])clearInterval(this[_0x5d5245(0x1fb)]);if(this[_0x5d5245(0x1a4)])clearInterval(this[_0x5d5245(0x1a4)]);if(this[_0x5d5245(0x276)])clearInterval(this[_0x5d5245(0x276)]);if(this[_0x5d5245(0x1a5)])this[_0x5d5245(0x1a5)][_0x5d5245(0x265)]();if(this['modeResetJob'])this[_0x5d5245(0x20c)][_0x5d5245(0x265)]();if(this[_0x5d5245(0x1e3)])this[_0x5d5245(0x1e3)][_0x5d5245(0x265)]();recorder[_0x5d5245(0x269)](this),pythonBridge[_0x5d5245(0x19e)](this),_0x50e85b();}async[a0_0x3aefcc(0x23e)](_0x4f2274,_0x3dd03c){const _0x99cd73=a0_0x3aefcc;if(!_0x3dd03c||this[_0x99cd73(0x205)])return;if(_0x4f2274[_0x99cd73(0x288)]('telegram')&&_0x4f2274[_0x99cd73(0x1c3)]('communicate.request')&&_0x3dd03c[_0x99cd73(0x26d)])return;if(_0x4f2274===this[_0x99cd73(0x249)]+_0x99cd73(0x1a0)){if(_0x3dd03c[_0x99cd73(0x26d)]&&Object[_0x99cd73(0x1dd)](setup[_0x99cd73(0x278)])[_0x99cd73(0x288)](_0x3dd03c['val'])){this[_0x99cd73(0x226)]=_0x3dd03c[_0x99cd73(0x26d)];if(_0x3dd03c[_0x99cd73(0x26d)]===setup[_0x99cd73(0x278)][_0x99cd73(0x1f8)])await recorder[_0x99cd73(0x223)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x99cd73(0x1ec)]){let _0x197459=![],_0x538014=0x0,_0x537f2b=_0x99cd73(0x199);if(this[_0x99cd73(0x226)]===_0x99cd73(0x234))_0x197459=!![],_0x538014=0x168,_0x537f2b=_0x99cd73(0x284);else this['currentSystemMode']===_0x99cd73(0x200)&&(_0x197459=!![],_0x538014=0x5a0,_0x537f2b=_0x99cd73(0x1bb));pythonBridge[_0x99cd73(0x238)](this,_0x99cd73(0x261),{'active':_0x197459,'duration':_0x538014,'label':_0x537f2b}),await this[_0x99cd73(0x1c0)](_0x99cd73(0x267),{'val':JSON[_0x99cd73(0x1d4)]({'active':_0x197459,'label':_0x537f2b,'timestamp':Date[_0x99cd73(0x24e)]()}),'ack':!![]});}}if(!_0x3dd03c[_0x99cd73(0x1ba)])this[_0x99cd73(0x24d)](_0x4f2274,{'val':this[_0x99cd73(0x226)],'ack':!![]});return;}if(!_0x3dd03c['ack']){if(_0x4f2274[_0x99cd73(0x288)]('analysis.trigger')&&_0x3dd03c[_0x99cd73(0x26d)]){this[_0x99cd73(0x24d)](_0x4f2274,{'val':![],'ack':!![]}),aiAgent[_0x99cd73(0x1e6)](this);return;}if(_0x4f2274[_0x99cd73(0x288)](_0x99cd73(0x240))&&_0x3dd03c[_0x99cd73(0x26d)]){this[_0x99cd73(0x24d)](_0x4f2274,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x99cd73(0x243)](this,pythonBridge);return;}if(_0x4f2274[_0x99cd73(0x288)](_0x99cd73(0x1b9))&&_0x3dd03c[_0x99cd73(0x26d)]){this[_0x99cd73(0x24d)](_0x4f2274,{'val':![],'ack':!![]}),aiAgent[_0x99cd73(0x21d)](this);return;}if(_0x4f2274[_0x99cd73(0x288)](_0x99cd73(0x1c8))&&_0x3dd03c[_0x99cd73(0x26d)]){this[_0x99cd73(0x24d)](_0x4f2274,{'val':![],'ack':!![]}),aiAgent[_0x99cd73(0x25e)](this);return;}if(_0x4f2274['includes'](_0x99cd73(0x213))&&_0x3dd03c['val']){this[_0x99cd73(0x24d)](_0x4f2274,{'val':![],'ack':!![]});if(this[_0x99cd73(0x1ec)])try{const _0x587110=await this['getStateAsync'](_0x99cd73(0x1c4));if(_0x587110&&_0x587110[_0x99cd73(0x26d)]){const _0x3601e4=JSON['parse'](_0x587110[_0x99cd73(0x26d)]);this['setStateAsync'](_0x99cd73(0x211),{'val':_0x99cd73(0x259),'ack':!![]}),pythonBridge[_0x99cd73(0x238)](this,'TRAIN_SECURITY',{'sequences':_0x3601e4});}}catch(_0x4eb88a){}return;}if(_0x4f2274[_0x99cd73(0x288)](_0x99cd73(0x201))&&_0x3dd03c['val']){this[_0x99cd73(0x24d)](_0x4f2274,{'val':![],'ack':!![]});if(this[_0x99cd73(0x1ec)])try{const _0x9181b=await this[_0x99cd73(0x22d)](_0x99cd73(0x20a));if(_0x9181b&&_0x9181b[_0x99cd73(0x26d)])pythonBridge[_0x99cd73(0x238)](this,_0x99cd73(0x1c5),{'digests':JSON[_0x99cd73(0x1be)](_0x9181b[_0x99cd73(0x26d)])});}catch(_0xa3c3c8){}return;}if(_0x4f2274['includes']('analysis.training.triggerEnergy')&&_0x3dd03c[_0x99cd73(0x26d)]){this[_0x99cd73(0x24d)](_0x4f2274,{'val':![],'ack':!![]});if(this[_0x99cd73(0x1ec)])try{const _0xe4af9=await this['getStateAsync'](_0x99cd73(0x1bd));if(_0xe4af9&&_0xe4af9[_0x99cd73(0x26d)])pythonBridge[_0x99cd73(0x238)](this,_0x99cd73(0x258),{'points':JSON[_0x99cd73(0x1be)](_0xe4af9[_0x99cd73(0x26d)])});}catch(_0x21085d){}return;}if(_0x4f2274[_0x99cd73(0x288)](_0x99cd73(0x22e))&&_0x3dd03c[_0x99cd73(0x26d)]){this['setState'](_0x4f2274,{'val':![],'ack':!![]});if(this[_0x99cd73(0x1ec)])try{const _0x332068=await this[_0x99cd73(0x22d)](_0x99cd73(0x248));if(_0x332068&&_0x332068['val'])pythonBridge[_0x99cd73(0x238)](this,'TRAIN_COMFORT',{'events':JSON[_0x99cd73(0x1be)](_0x332068[_0x99cd73(0x26d)])});}catch(_0x35ca98){}return;}if(_0x4f2274[_0x99cd73(0x288)](_0x99cd73(0x218))&&_0x3dd03c['val']){this[_0x99cd73(0x24d)](_0x4f2274,{'val':![],'ack':!![]}),topology[_0x99cd73(0x242)](this);return;}}if(this[_0x99cd73(0x235)][_0x99cd73(0x224)]&&this[_0x99cd73(0x235)]['presenceDevices']['includes'](_0x4f2274)){await this[_0x99cd73(0x25a)]();return;}const _0x4b959b=(this[_0x99cd73(0x235)]['devices']||[])[_0x99cd73(0x1ce)](_0x461a71=>_0x461a71['id']===_0x4f2274);if(_0x4b959b){const _0x547c23=await recorder[_0x99cd73(0x1b8)](this,_0x4f2274,_0x3dd03c,_0x4b959b);_0x547c23&&_0x547c23['type']===_0x99cd73(0x1dc)&&_0x547c23[_0x99cd73(0x25c)]&&this[_0x99cd73(0x1ec)]&&deadMan[_0x99cd73(0x296)](this,_0x547c23[_0x99cd73(0x25c)]);}}async[a0_0x3aefcc(0x217)](_0x544c6e){const _0x3dcced=a0_0x3aefcc;if(typeof _0x544c6e===_0x3dcced(0x291)&&_0x544c6e[_0x3dcced(0x1a9)]){if(_0x544c6e['command']===_0x3dcced(0x20e))try{const _0x1c9b4c=await automation[_0x3dcced(0x1a6)](this);this[_0x3dcced(0x23a)](_0x544c6e['from'],_0x544c6e[_0x3dcced(0x21b)],{'success':!![],'results':_0x1c9b4c},_0x544c6e[_0x3dcced(0x22f)]);}catch(_0x4210d4){this['sendTo'](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':![],'error':_0x4210d4['message']},_0x544c6e[_0x3dcced(0x22f)]);}else{if(_0x544c6e[_0x3dcced(0x21b)]===_0x3dcced(0x220))try{const {current_temps:_0x364c1f,t_out:_0x343379,targets:_0x2e7719,t_forecast:_0x47afc9}=_0x544c6e[_0x3dcced(0x1a9)],_0x518c30=[];let _0x4d5121={};try{const _0x53d271=await this[_0x3dcced(0x22d)](_0x3dcced(0x1f4));if(_0x53d271&&_0x53d271[_0x3dcced(0x26d)]){const _0x22f3a4=JSON[_0x3dcced(0x1be)](_0x53d271['val']);_0x4d5121=_0x22f3a4[_0x3dcced(0x1bc)]||_0x22f3a4;}}catch(_0x35d12c){}const _0x897f7f=_0x47afc9!==undefined&&_0x47afc9!==null?(_0x343379+_0x47afc9)/0x2:_0x343379;for(const [_0x5f03c8,_0x105689]of Object[_0x3dcced(0x28f)](_0x364c1f)){const _0xbb44ec=_0x2e7719[_0x5f03c8]||0x15;if(_0x105689<=_0xbb44ec)continue;let _0x4ecd34=_0x4d5121[_0x5f03c8]||-0.5;if(_0x4ecd34>=0x0)_0x4ecd34=-0.5;const _0x2224b9=Math['abs'](_0x4ecd34),_0x26fdc9=_0x105689-_0xbb44ec;let _0x4ee894=Math[_0x3dcced(0x1db)](_0x26fdc9/_0x2224b9*0x3c);const _0x1d1dbb=_0x105689-_0x343379,_0x16ebcf=_0x105689-_0x897f7f;if(_0x16ebcf!==0x0&&_0x1d1dbb!==0x0){const _0x27d2c1=_0x1d1dbb/_0x16ebcf;_0x4ee894=Math[_0x3dcced(0x1db)](_0x4ee894*_0x27d2c1);}if(_0x4ee894>0xf){if(_0x4ee894>0xf0)_0x4ee894=0xf0;_0x518c30[_0x3dcced(0x1d5)]({'room':_0x5f03c8,'minutes_safe':_0x4ee894,'target':_0xbb44ec,'current':_0x105689,'savings_msg':_0x3dcced(0x1f3)+_0x4ee894+_0x3dcced(0x227)});}}_0x518c30[_0x3dcced(0x25b)]((_0x29a215,_0x4e45bc)=>_0x4e45bc[_0x3dcced(0x1d0)]-_0x29a215[_0x3dcced(0x1d0)]),this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':!![],'proposals':_0x518c30},_0x544c6e[_0x3dcced(0x22f)]);}catch(_0x9ffe48){this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e['command'],{'success':![],'error':_0x9ffe48[_0x3dcced(0x1a9)]},_0x544c6e[_0x3dcced(0x22f)]);}else{if(_0x544c6e[_0x3dcced(0x21b)]==='dismissAutomation')await this['setStateAsync'](_0x3dcced(0x1c1),{'val':![],'ack':!![]}),await this[_0x3dcced(0x1c0)](_0x3dcced(0x1e1),{'val':'','ack':!![]}),await this['setStateAsync'](_0x3dcced(0x1cf),{'val':'','ack':!![]}),this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e['command'],{'success':!![]},_0x544c6e[_0x3dcced(0x22f)]);else{if(_0x544c6e[_0x3dcced(0x21b)]===_0x3dcced(0x1a8)){const {targetId:_0x27b39e,targetValue:_0xe271fc}=_0x544c6e[_0x3dcced(0x1a9)];await this['setStateAsync'](_0x3dcced(0x1c1),{'val':!![],'ack':!![]}),await this[_0x3dcced(0x1c0)](_0x3dcced(0x1e1),{'val':'Simulation\x20durch\x20Admin\x20(Test)','ack':!![]}),await this['setStateAsync'](_0x3dcced(0x1cf),{'val':_0x27b39e,'ack':!![]}),await this['setStateAsync'](_0x3dcced(0x21a),{'val':String(_0xe271fc),'ack':!![]}),this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':!![]},_0x544c6e[_0x3dcced(0x22f)]);}else{if(_0x544c6e['command']===_0x3dcced(0x1aa))try{const _0x58947d=_0x544c6e[_0x3dcced(0x1a9)][_0x3dcced(0x216)];if(!_0x58947d)throw new Error(_0x3dcced(0x28a));const _0x62cfdd=new GoogleGenerativeAI(_0x58947d),_0x48b5bb=_0x62cfdd['getGenerativeModel']({'model':GEMINI_MODEL}),_0x113f68=await _0x48b5bb[_0x3dcced(0x1a1)](_0x3dcced(0x1c7)),_0x1b7166=await _0x113f68['response'];if(_0x1b7166['text']())this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':!![],'message':_0x3dcced(0x1d3)},_0x544c6e[_0x3dcced(0x22f)]);else throw new Error(_0x3dcced(0x1af));}catch(_0xa3ff72){this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':![],'message':_0xa3ff72[_0x3dcced(0x1a9)]},_0x544c6e[_0x3dcced(0x22f)]);}else{if(_0x544c6e[_0x3dcced(0x21b)]===_0x3dcced(0x27a))try{const _0x1dbb04=await scanner[_0x3dcced(0x266)](this,_0x544c6e[_0x3dcced(0x1a9)]||{});this['sendTo'](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':!![],'devices':_0x1dbb04},_0x544c6e[_0x3dcced(0x22f)]);}catch(_0x561990){this[_0x3dcced(0x23a)](_0x544c6e['from'],_0x544c6e[_0x3dcced(0x21b)],{'success':![],'error':_0x561990[_0x3dcced(0x1a9)]},_0x544c6e['callback']);}else{if(_0x544c6e[_0x3dcced(0x21b)]===_0x3dcced(0x1b1))try{const {matrix:_0x3db0cc}=_0x544c6e['message'],_0x14b516=await this[_0x3dcced(0x22d)]('analysis.topology.structure');if(_0x14b516&&_0x14b516[_0x3dcced(0x26d)]){const _0x575f10=JSON['parse'](_0x14b516[_0x3dcced(0x26d)]);_0x575f10[_0x3dcced(0x1f6)]=_0x3db0cc,_0x575f10['updated']=Date[_0x3dcced(0x24e)](),await this[_0x3dcced(0x1c0)](_0x3dcced(0x19b),{'val':JSON[_0x3dcced(0x1d4)](_0x575f10),'ack':!![]}),pythonBridge['send'](this,_0x3dcced(0x26b),_0x575f10);}this['sendTo'](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':!![]},_0x544c6e[_0x3dcced(0x22f)]);}catch(_0x3aa72e){this[_0x3dcced(0x209)][_0x3dcced(0x28d)](_0x3aa72e);}else{if(_0x544c6e[_0x3dcced(0x21b)]==='getLtmData')this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':!![],'dailyDigests':this[_0x3dcced(0x221)]||[],'analysisHistory':this[_0x3dcced(0x1cd)]||[]},_0x544c6e['callback']);else{if(_0x544c6e[_0x3dcced(0x21b)]===_0x3dcced(0x1f1)){const _0x5d60f8=this[_0x3dcced(0x221)][_0x3dcced(0x19c)],_0x58d96d=new Array(0x18)[_0x3dcced(0x22a)](0x0),_0x23e6e5=new Date()[_0x3dcced(0x19a)](0x0,0x0,0x0,0x0);this[_0x3dcced(0x26c)]&&this['eventHistory']['forEach'](_0x2f78ca=>{const _0x893759=_0x3dcced;if(_0x2f78ca[_0x893759(0x262)]>=_0x23e6e5){const _0x54e8f0=new Date(_0x2f78ca[_0x893759(0x262)])[_0x893759(0x1e5)]();if(_0x54e8f0>=0x0&&_0x54e8f0<0x18)_0x58d96d[_0x54e8f0]++;}});let _0x1cf4ef=![],_0x5f25ca='',_0x28cabe='',_0xe0123f='';try{const _0x58babc=await this[_0x3dcced(0x22d)](_0x3dcced(0x1c1));if(_0x58babc&&_0x58babc[_0x3dcced(0x26d)]){_0x1cf4ef=!![];const _0x2c7029=await this[_0x3dcced(0x22d)](_0x3dcced(0x1e1));_0x5f25ca=_0x2c7029?_0x2c7029[_0x3dcced(0x26d)]:'';const _0x25a756=await this[_0x3dcced(0x22d)](_0x3dcced(0x1cf));_0x28cabe=_0x25a756?_0x25a756[_0x3dcced(0x26d)]:'';const _0x346501=await this[_0x3dcced(0x22d)](_0x3dcced(0x21a));_0xe0123f=_0x346501?_0x346501[_0x3dcced(0x26d)]:'';}}catch(_0x521024){}const _0x54c428=await this[_0x3dcced(0x21f)](),_0x3c7d7c=(this[_0x3dcced(0x235)]['devices']||[])[_0x3dcced(0x20f)](_0x20a771=>_0x20a771[_0x3dcced(0x1fd)]),_0x355bf5=_0x54c428&&_0x3c7d7c;this['sendTo'](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':!![],'eventHistory':this[_0x3dcced(0x26c)][_0x3dcced(0x277)](0x0,0xf),'stats':{'digestCount':_0x5d60f8,'isPresent':this[_0x3dcced(0x206)],'hourlyActivity':_0x58d96d,'solarActive':_0x355bf5},'automation':{'detected':_0x1cf4ef,'description':_0x5f25ca,'targetId':_0x28cabe,'targetValue':_0xe0123f}},_0x544c6e[_0x3dcced(0x22f)]);}else{if(_0x544c6e[_0x3dcced(0x21b)]==='getEnums'){const _0x33eeee=await this[_0x3dcced(0x19d)](_0x3dcced(0x1eb),_0x3dcced(0x236)),_0x432790=[];if(_0x33eeee)for(const _0x3aac0d in _0x33eeee){const _0x904c0f=_0x33eeee[_0x3aac0d],_0x388b25=(_0x904c0f[_0x3dcced(0x1ca)]&&typeof _0x904c0f[_0x3dcced(0x1ca)][_0x3dcced(0x23c)]===_0x3dcced(0x291)?_0x904c0f[_0x3dcced(0x1ca)][_0x3dcced(0x23c)]['de']:_0x904c0f[_0x3dcced(0x1ca)][_0x3dcced(0x23c)])||_0x904c0f['common']['name'];_0x432790[_0x3dcced(0x1d5)]({'id':_0x3aac0d,'name':_0x388b25});}const _0x50efbf=await this[_0x3dcced(0x19d)](_0x3dcced(0x232),_0x3dcced(0x236)),_0x2f1cc4=[];if(_0x50efbf)for(const _0x4c4652 in _0x50efbf){const _0x1f8725=_0x50efbf[_0x4c4652],_0x5b30ad=(_0x1f8725['common']&&typeof _0x1f8725[_0x3dcced(0x1ca)][_0x3dcced(0x23c)]===_0x3dcced(0x291)?_0x1f8725[_0x3dcced(0x1ca)][_0x3dcced(0x23c)]['de']:_0x1f8725[_0x3dcced(0x1ca)][_0x3dcced(0x23c)])||_0x4c4652[_0x3dcced(0x1d8)]('.')['pop']();_0x2f1cc4[_0x3dcced(0x1d5)](_0x5b30ad);}this[_0x3dcced(0x23a)](_0x544c6e['from'],_0x544c6e[_0x3dcced(0x21b)],{'success':!![],'enums':_0x432790,'rooms':_0x2f1cc4},_0x544c6e['callback']);}else{if(_0x544c6e[_0x3dcced(0x21b)]==='testContext')try{let _0x3beecd='Kein\x20Wetter-Adapter',_0x1d0acf=_0x3dcced(0x254);if(this[_0x3dcced(0x235)][_0x3dcced(0x274)]){const _0x40e0d9=await recorder[_0x3dcced(0x247)](this);_0x3beecd=_0x40e0d9!==null?_0x40e0d9+'Â°C':'Daten\x20nicht\x20verfÃ¼gbar';}if(this[_0x3dcced(0x235)][_0x3dcced(0x250)]){const _0x1a10bf=await this[_0x3dcced(0x29a)](_0x3dcced(0x20b)+this[_0x3dcced(0x235)][_0x3dcced(0x250)]);_0x1d0acf=_0x1a10bf?_0x3dcced(0x1a2):_0x3dcced(0x1ac);}this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e['command'],{'success':!![],'weather':_0x3beecd,'calendar':_0x1d0acf},_0x544c6e['callback']);}catch(_0x6bd589){this[_0x3dcced(0x23a)](_0x544c6e['from'],_0x544c6e[_0x3dcced(0x21b)],{'success':![],'error':_0x6bd589[_0x3dcced(0x1a9)]},_0x544c6e[_0x3dcced(0x22f)]);}else{if(_0x544c6e[_0x3dcced(0x21b)]==='getCalendarNames')try{const _0x67a5c9=_0x544c6e[_0x3dcced(0x1a9)][_0x3dcced(0x1b5)],_0x4ef476=await this[_0x3dcced(0x270)](_0x67a5c9+'.data.table');let _0x2f8ea9=[];if(_0x4ef476&&_0x4ef476[_0x3dcced(0x26d)]){const _0x313165=JSON['parse'](_0x4ef476[_0x3dcced(0x26d)]),_0xb28320=new Set();Array[_0x3dcced(0x1ff)](_0x313165)&&_0x313165[_0x3dcced(0x1b0)](_0x5eb097=>{const _0x26c0e0=_0x3dcced;if(_0x5eb097[_0x26c0e0(0x290)])_0xb28320['add'](_0x5eb097[_0x26c0e0(0x290)]);else{if(_0x5eb097[_0x26c0e0(0x273)])_0xb28320[_0x26c0e0(0x1f7)](_0x5eb097[_0x26c0e0(0x273)]);}}),_0x2f8ea9=Array['from'](_0xb28320)[_0x3dcced(0x25b)]();}if(_0x2f8ea9['length']===0x0)_0x2f8ea9=['Standard'];this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':!![],'names':_0x2f8ea9},_0x544c6e['callback']);}catch(_0x2cc47c){this[_0x3dcced(0x23a)](_0x544c6e[_0x3dcced(0x244)],_0x544c6e[_0x3dcced(0x21b)],{'success':![],'error':_0x2cc47c[_0x3dcced(0x1a9)]},_0x544c6e[_0x3dcced(0x22f)]);}else{if(_0x544c6e[_0x3dcced(0x21b)]===_0x3dcced(0x281))try{await setup['sendNotification'](this,_0x3dcced(0x23f),![],![]),this[_0x3dcced(0x23a)](_0x544c6e['from'],_0x544c6e['command'],{'success':!![],'message':_0x3dcced(0x1ad)},_0x544c6e[_0x3dcced(0x22f)]);}catch(_0x37b6e8){this['log'][_0x3dcced(0x28d)](_0x3dcced(0x229)+_0x37b6e8[_0x3dcced(0x1a9)]),this['sendTo'](_0x544c6e[_0x3dcced(0x244)],_0x544c6e['command'],{'success':![],'message':_0x3dcced(0x26e)+_0x37b6e8[_0x3dcced(0x1a9)]},_0x544c6e['callback']);}}}}}}}}}}}}}}}async[a0_0x3aefcc(0x207)](){const _0x44fd87=a0_0x3aefcc;try{const _0x3d3fa9=await this[_0x44fd87(0x22d)](setup[_0x44fd87(0x1d9)]);_0x3d3fa9&&_0x3d3fa9[_0x44fd87(0x26d)]&&Object[_0x44fd87(0x1dd)](setup['SYSTEM_MODES'])[_0x44fd87(0x288)](_0x3d3fa9[_0x44fd87(0x26d)])?this[_0x44fd87(0x226)]=_0x3d3fa9['val']:(this['currentSystemMode']=setup[_0x44fd87(0x278)][_0x44fd87(0x225)],await this[_0x44fd87(0x1c0)](setup[_0x44fd87(0x1d9)],{'val':setup[_0x44fd87(0x278)][_0x44fd87(0x225)],'ack':!![]}));}catch(_0x416bbf){this[_0x44fd87(0x226)]=setup[_0x44fd87(0x278)][_0x44fd87(0x225)];}}async[a0_0x3aefcc(0x25a)](){const _0x160cdc=a0_0x3aefcc;try{const _0x1fea30=this[_0x160cdc(0x235)]['presenceDevices']||[];let _0x5689a4=![];const _0x218f93=[];for(const _0x48311c of _0x1fea30){try{const _0x3d14ac=await this[_0x160cdc(0x270)](_0x48311c);_0x3d14ac&&(_0x3d14ac[_0x160cdc(0x26d)]===!![]||_0x3d14ac[_0x160cdc(0x26d)]===_0x160cdc(0x1b6)||_0x3d14ac[_0x160cdc(0x26d)]===0x1)&&(_0x5689a4=!![],_0x218f93[_0x160cdc(0x1d5)](_0x48311c));}catch(_0x499d0b){}}return await this[_0x160cdc(0x1c0)](_0x160cdc(0x294),{'val':_0x218f93[_0x160cdc(0x287)](',\x20'),'ack':!![]}),_0x5689a4&&(this[_0x160cdc(0x230)]&&(this['log'][_0x160cdc(0x29b)](_0x160cdc(0x1b3)),recorder[_0x160cdc(0x269)](this)),!this[_0x160cdc(0x206)]&&this[_0x160cdc(0x226)]===setup[_0x160cdc(0x278)][_0x160cdc(0x225)]&&await recorder[_0x160cdc(0x223)](this,!![])),_0x5689a4;}catch(_0x333b18){return![];}}async['runAutopilot'](){const _0x587720=a0_0x3aefcc;this['log'][_0x587720(0x285)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x587720(0x1e6)](this),this[_0x587720(0x27b)](),this['triggerGaitAnalysis'](),this[_0x587720(0x1d1)]();}async['checkSolarCondition'](){const _0xf53b86=a0_0x3aefcc,_0xc9605e=[_0xf53b86(0x268),_0xf53b86(0x1e4),_0xf53b86(0x22c)],_0x54ec3b=['forecast.current.weather',_0xf53b86(0x1c2),_0xf53b86(0x263)];for(const _0x566232 of _0xc9605e){for(const _0x32945d of _0x54ec3b){try{const _0x51f215=_0x566232+'.'+_0x32945d,_0x4615e6=await this[_0xf53b86(0x270)](_0x51f215);if(_0x4615e6&&_0x4615e6[_0xf53b86(0x26d)]){const _0x247187=String(_0x4615e6[_0xf53b86(0x26d)])['toLowerCase']();if(_0x247187['includes']('sonn')||_0x247187['includes']('sunny')||_0x247187[_0xf53b86(0x288)](_0xf53b86(0x24b))||_0x247187[_0xf53b86(0x288)](_0xf53b86(0x24a))||_0x247187[_0xf53b86(0x288)](_0xf53b86(0x204)))return!![];}}catch(_0x1f3bf8){}}}return![];}[a0_0x3aefcc(0x298)](){const _0x1fe405=a0_0x3aefcc;if(!this[_0x1fe405(0x1ec)])return;try{this[_0x1fe405(0x2a1)](_0x1fe405(0x1c4),(_0x5df628,_0x505143)=>{const _0x5ec3fe=_0x1fe405;_0x505143&&_0x505143[_0x5ec3fe(0x26d)]&&pythonBridge[_0x5ec3fe(0x238)](this,_0x5ec3fe(0x203),{'sequences':JSON[_0x5ec3fe(0x1be)](_0x505143[_0x5ec3fe(0x26d)])});});}catch(_0x127180){}}async[a0_0x3aefcc(0x1d1)](){const _0xa0028b=a0_0x3aefcc;if(!this['isProVersion'])return;try{const _0x38b2e7=await recorder[_0xa0028b(0x247)](this);if(_0x38b2e7===null)return;const _0x3fe618={},_0x2c661c={},_0xfbc0dd=this[_0xa0028b(0x235)]['devices']||[];for(const _0x30202b of _0xfbc0dd){if(_0x30202b[_0xa0028b(0x23d)]==='temperature'&&_0x30202b[_0xa0028b(0x25c)]){const _0x94ae7e=this[_0xa0028b(0x1e0)][_0x30202b['id']];if(_0x94ae7e!==undefined)_0x3fe618[_0x30202b[_0xa0028b(0x25c)]]=_0x94ae7e;if(_0x30202b[_0xa0028b(0x1fd)])_0x2c661c[_0x30202b[_0xa0028b(0x25c)]]=!![];}}const _0x5851b3=await this[_0xa0028b(0x21f)]();let _0x29c5c3={};try{const _0x2f7bfd=await this[_0xa0028b(0x22d)](_0xa0028b(0x1b2));if(_0x2f7bfd&&_0x2f7bfd[_0xa0028b(0x26d)])_0x29c5c3=JSON[_0xa0028b(0x1be)](_0x2f7bfd[_0xa0028b(0x26d)]);}catch(_0x427408){}Object['keys'](_0x3fe618)['length']>0x0&&(pythonBridge['send'](this,_0xa0028b(0x246),{'current_temps':_0x3fe618,'t_out':_0x38b2e7,'is_sunny':_0x5851b3,'solar_flags':_0x2c661c,'warmup_targets':_0x29c5c3}),pythonBridge['send'](this,_0xa0028b(0x297),{'current_temps':_0x3fe618,'t_out':_0x38b2e7,'targets':{}}));}catch(_0x37d83f){}}[a0_0x3aefcc(0x27b)](){const _0x19f71b=a0_0x3aefcc;if(!this['rawEventLog']||this['rawEventLog']['length']===0x0)return;const _0x282a9e=new Array(0x60)['fill'](0x0),_0xd7e254=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x19f71b(0x22b)][_0x19f71b(0x1b0)](_0x42f490=>{const _0x1b6ab3=_0x19f71b,_0x3057f5=new Date(_0x42f490[_0x1b6ab3(0x262)]);if(_0x3057f5['getTime']()>=_0xd7e254){const _0x30858f=_0x3057f5[_0x1b6ab3(0x1e5)](),_0x2ac652=_0x3057f5[_0x1b6ab3(0x222)](),_0x3dc156=_0x30858f*0x4+Math[_0x1b6ab3(0x1db)](_0x2ac652/0xf);if(_0x3dc156>=0x0&&_0x3dc156<0x60)_0x282a9e[_0x3dc156]++;}}),this['setStateAsync'](_0x19f71b(0x219),{'val':JSON['stringify'](_0x282a9e),'ack':!![]});}[a0_0x3aefcc(0x29d)](){const _0x231e56=a0_0x3aefcc;if(!this[_0x231e56(0x221)]||this[_0x231e56(0x221)][_0x231e56(0x19c)]<0x2)return;const _0x210843=this['dailyDigests'][_0x231e56(0x25d)](_0x564fed=>{const _0x4aa37a=_0x231e56,_0x14ea14=(_0x564fed[_0x4aa37a(0x24c)]||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x14ea14]||0x32;});pythonBridge[_0x231e56(0x238)](this,_0x231e56(0x25f),{'values':_0x210843,'tag':'Activity-Level'});}}if(require[a0_0x3aefcc(0x27c)]!==module)module[a0_0x3aefcc(0x1ed)]=_0x4c8348=>new CogniLiving(_0x4c8348);else new CogniLiving();