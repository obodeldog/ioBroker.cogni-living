const a0_0x24e7ce=a0_0x4ba8;function a0_0x4ba8(_0x692acc,_0x1915c7){const _0x5a7f85=a0_0x1978();return a0_0x4ba8=function(_0x45b644,_0x1c62a7){_0x45b644=_0x45b644-0x15d;let _0x1978a5=_0x5a7f85[_0x45b644];return _0x1978a5;},a0_0x4ba8(_0x692acc,_0x1915c7);}function a0_0x1978(){const _0x5cae5c=['enum','Fehler:\x20','analysis.energy.warmupTargets','TRAIN_COMFORT','ltmJob','trackerHeartbeat','json','slice','enum.functions.*','sendMorningBriefing','name','add','VACATION','Sec-Training\x20started...','analysis.training.triggerEnergy','thermostat','search','setPresence','debug','val','Warm-Up\x20Target\x20Temps\x20(JSON)','toString','temperature','klar','currentSystemMode','sunny','triggerBriefing','callback','Gesendet','runAutopilot','timestamp','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','LTM.trainingData.thermodynamics','runGeminiAnalysis','system.adapter.','getHours','message','./lib/scanner','systemConfig','toLowerCase','sendNotification','models/gemini-flash-latest','executeAutomationAction','cleanupGhostInterventions','apiKey','dependencyInstallInProgress','Party\x20Mode','LTM.triggerDailyDigest','pop','config','getGenerativeModel','activityLevel','isProVersion','push','checkThermostats','1376776zxrLXA','stateChange','abortExitTimer','SET_TOPOLOGY','Active\x20Ventilation\x20Alerts','bind','analysis.health.activityTrend','TRACK_EVENT','./lib/recorder','calendarInstance','subscribeForeignStatesAsync','minutes_safe','.data.table','./lib/installer','updateLocation','genAI','object','getState','3755MjLNya','analysis.topology.structure','dailyDigests','send','analysis.energy.insulationScore','initZombies','Verbindung\x20erfolgreich!','instance','constructor','SYSTEM_MODES','analysisInterval','checkWifiPresence','text','Lernphase\x20(','info','LTM.rawEventLog','checkAndInstall','isGracePeriodActive','onReady','analysis.training.triggerHealth','3313197gcDFul','testNotification','Gait\x20Speed\x20Calculation\x20Proof','Activity-Level','now','setState','setHours','clear','useWeather','setObjectNotExistsAsync','Simulation\x20durch\x20Admin\x20(Test)','checkSolarCondition','analysis.automation.patternDetected','includes','initSystemConfig','analysis.training.triggerTopology','isSolar','telegram','automation.triggerAction','analysis.training.triggerSecurity','LTM.baselineStatus','Reinforcement\x20Learning\x20Penalties','values','forEach','location','updateHealthVector','floor','lastTrackerEventTime','triggerGaitAnalysis','getLtmData','checkLicense','Kein\x20Wetter-Adapter','party','presenceDevices','./lib/automation','log','updated','(((.+)+)+)+$','briefingJob','state','triggerEnergyPrediction','lastAlertState','startService','Gemini\x20AI\x20initialized.','analysis.energy.pinnForecast','from','LTM.dailyDigests','{\x22default\x22:\x2021}','./lib/setup','createDailyDigest','modeResetJob','Notification\x20Test\x20Failed:\x20','type','rawEventLog','1262FIBNxZ','main','ack','setupBriefingScheduler','online','geminiApiKey','analysis.training.triggerComfort','geminiModel','number','system.presenceWho','map','Guest\x20Mode','dismissAutomation','loadSystemMode','Test','getTime','devices','command','Keine\x20Antwort\x20von\x20Gemini','Current.WeatherText','calendarName','analysis.energy.ventilationAlerts','trackerEnabled','7678302TasgoG','SYSTEM_DP_MODE','getForeignObjectAsync','NORMAL','error','response','setStateAsync','analysis.automation.description','endsWith','checkCalendarTriggers','analysis.energy.rlPenalties','sensorLastValues','healthTrendInterval','@iobroker/adapter-core','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','value','simulateEnergyMPC','processSensorEvent','General\x20Activity\x20Trend\x20(%)','analysis.automation.targetId','fill','408924uxyrAF','.communicate.request','getMinutes','getStateAsync','forecast.current.weather','250MEqJjy','keys','49ITAoGD','Kein\x20API\x20Key\x20Ã¼bergeben','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','analysisTimer','getForeignStateAsync','parse','â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','./lib/dead_man','TRAIN_SECURITY','./lib/scheduler','updateTopologyMatrix','stringify','namespace','LTM.trainingData.sequences','scanDevices','runPythonHealthCheck','1837VZZhov','notifyTelegramInstance','35820488LVoVdu','getOutsideTemperatureNumeric','generateContent','\x20Tage)','.system.mode','updateTopology','./lib/python_bridge','analysis.security.learningStatus','getEnums','PREDICT_ENERGY','matrix','simulateButler','analysis.triggerBriefing','application/json','startSystem','Instanz\x20nicht\x20gefunden','analysisHistory','onMessage','TRAIN_HEALTH','getForeignObjectsAsync','Gemini\x20Init\x20Error:\x20','accuweather.0','isPresent','Verbunden','getOverviewData','Kein\x20Kalender-Adapter','licenseKey','join','cancel','triggerDailyDigest','createAllObjects','analysis.automation.targetValue','isArray','onStateChange','driftAnalysisTimer','weatherunderground.0','sonn','guest','eventHistory','analysis.health.gaitSensors','resetRLPenalty','TRAIN_ENERGY','subscribeStates','analysis.health.todayVector','split','sort','analysis.trigger','cogni-living','7192lVrjcg','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','getCalendarNames','cogni-living\x20adapter\x20starting\x20(v','stopService','scanThermostats','sendTo','string','length','minDaysForBaseline','inactivityThresholdHours','Heizung\x20kann\x20','common','exports'];a0_0x1978=function(){return _0x5cae5c;};return a0_0x1978();}(function(_0x36a4e8,_0x512094){const _0x4e376b=a0_0x4ba8,_0x441310=_0x36a4e8();while(!![]){try{const _0x4649ba=-parseInt(_0x4e376b(0x1e3))/0x1*(parseInt(_0x4e376b(0x1a0))/0x2)+parseInt(_0x4e376b(0x16a))/0x3+-parseInt(_0x4e376b(0x215))/0x4*(-parseInt(_0x4e376b(0x26c))/0x5)+-parseInt(_0x4e376b(0x1b7))/0x6+-parseInt(_0x4e376b(0x1d3))/0x7*(parseInt(_0x4e376b(0x25a))/0x8)+parseInt(_0x4e376b(0x1cc))/0x9*(-parseInt(_0x4e376b(0x1d1))/0xa)+parseInt(_0x4e376b(0x1e5))/0xb;if(_0x4649ba===_0x512094)break;else _0x441310['push'](_0x441310['shift']());}catch(_0x467feb){_0x441310['push'](_0x441310['shift']());}}}(a0_0x1978,0xe374e));const a0_0x1c62a7=(function(){let _0x3639ae=!![];return function(_0x4c5b23,_0x46c1b7){const _0x15d85a=_0x3639ae?function(){if(_0x46c1b7){const _0x39763c=_0x46c1b7['apply'](_0x4c5b23,arguments);return _0x46c1b7=null,_0x39763c;}}:function(){};return _0x3639ae=![],_0x15d85a;};}()),a0_0x45b644=a0_0x1c62a7(this,function(){const _0x4a3f89=a0_0x4ba8;return a0_0x45b644[_0x4a3f89(0x238)]()[_0x4a3f89(0x233)]('(((.+)+)+)+$')[_0x4a3f89(0x238)]()[_0x4a3f89(0x15e)](a0_0x45b644)[_0x4a3f89(0x233)](_0x4a3f89(0x18f));});a0_0x45b644();'use strict';const utils=require(a0_0x24e7ce(0x1c4)),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require(a0_0x24e7ce(0x267)),scanner=require(a0_0x24e7ce(0x248)),schedulers=require(a0_0x24e7ce(0x1dc)),topology=require('./lib/topology'),setup=require(a0_0x24e7ce(0x19a)),recorder=require(a0_0x24e7ce(0x262)),pythonBridge=require(a0_0x24e7ce(0x1eb)),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x24e7ce(0x1da)),automation=require(a0_0x24e7ce(0x18c)),GEMINI_MODEL=a0_0x24e7ce(0x24c),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x2ff28f){const _0x19e43f=a0_0x24e7ce;super({..._0x2ff28f,'name':_0x19e43f(0x214)}),this[_0x19e43f(0x20b)]=[],this['analysisHistory']=[],this[_0x19e43f(0x19f)]=[],this[_0x19e43f(0x26e)]=[],this[_0x19e43f(0x1c2)]={},this[_0x19e43f(0x249)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x19e43f(0x1fb)]=!![],this['exitTimer']=null,this['exitGraceTimer']=null,this[_0x19e43f(0x167)]=![],this[_0x19e43f(0x269)]=null,this[_0x19e43f(0x1a7)]=null,this['currentSystemMode']=setup[_0x19e43f(0x15f)][_0x19e43f(0x1ba)],this[_0x19e43f(0x257)]=![],this[_0x19e43f(0x193)]=![],this['analysisTimer']=null,this['ltmJob']=null,this[_0x19e43f(0x19c)]=null,this[_0x19e43f(0x207)]=null,this['briefingJob']=null,this[_0x19e43f(0x228)]=null,this['healthTrendInterval']=null,this['dependencyInstallInProgress']=![],this['lastTrackerEventTime']=Date['now'](),this['on']('ready',this['onReady'][_0x19e43f(0x25f)](this)),this['on'](_0x19e43f(0x25b),this[_0x19e43f(0x206)][_0x19e43f(0x25f)](this)),this['on']('unload',this['onUnload']['bind'](this)),this['on']('message',this[_0x19e43f(0x1f6)]['bind'](this));}async[a0_0x24e7ce(0x168)](){const _0x5b6e66=a0_0x24e7ce;this[_0x5b6e66(0x18d)][_0x5b6e66(0x164)](_0x5b6e66(0x218)+this['version']+')\x20-\x20Phase\x20D\x20(Transparency)');if(!installer[_0x5b6e66(0x166)](this,()=>this[_0x5b6e66(0x1f3)]()))return;}async[a0_0x24e7ce(0x1f3)](){const _0x3f6e0b=a0_0x24e7ce;await setup[_0x3f6e0b(0x271)](this);try{this[_0x3f6e0b(0x257)]=await setup[_0x3f6e0b(0x188)](this[_0x3f6e0b(0x254)][_0x3f6e0b(0x1ff)]);}catch(_0x4d3502){}if(!this['config']['inactivityThresholdHours']||this[_0x3f6e0b(0x254)][_0x3f6e0b(0x21f)]<0.1)this['config'][_0x3f6e0b(0x21f)]=0xc;await setup['initHistory'](this),await setup[_0x3f6e0b(0x178)](this);if(this['config']['geminiApiKey'])try{this[_0x3f6e0b(0x269)]=new GoogleGenerativeAI(this[_0x3f6e0b(0x254)][_0x3f6e0b(0x1a5)]),this['geminiModel']=this[_0x3f6e0b(0x269)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3f6e0b(0x1f2)}}),this[_0x3f6e0b(0x18d)][_0x3f6e0b(0x164)](_0x3f6e0b(0x195));}catch(_0x49114d){this[_0x3f6e0b(0x18d)]['error'](_0x3f6e0b(0x1f9)+_0x49114d[_0x3f6e0b(0x247)]);}await setup[_0x3f6e0b(0x203)](this),await this[_0x3f6e0b(0x1ad)](),await this[_0x3f6e0b(0x173)](_0x3f6e0b(0x196),{'type':_0x3f6e0b(0x191),'common':{'name':'PINN\x20AI\x20Forecast','type':_0x3f6e0b(0x21c),'role':_0x3f6e0b(0x229),'read':!![],'write':![]},'native':{}}),await this[_0x3f6e0b(0x173)](_0x3f6e0b(0x1b5),{'type':_0x3f6e0b(0x191),'common':{'name':_0x3f6e0b(0x25e),'type':_0x3f6e0b(0x21c),'role':_0x3f6e0b(0x229),'read':!![],'write':![]},'native':{}}),await this[_0x3f6e0b(0x173)]('analysis.energy.warmupTimes',{'type':'state','common':{'name':_0x3f6e0b(0x216),'type':_0x3f6e0b(0x21c),'role':_0x3f6e0b(0x229),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x3f6e0b(0x225),{'type':_0x3f6e0b(0x191),'common':{'name':_0x3f6e0b(0x237),'type':_0x3f6e0b(0x21c),'role':_0x3f6e0b(0x229),'read':!![],'write':!![],'def':_0x3f6e0b(0x199)},'native':{}}),await this[_0x3f6e0b(0x173)](_0x3f6e0b(0x1c1),{'type':'state','common':{'name':_0x3f6e0b(0x17f),'type':_0x3f6e0b(0x21c),'role':'json','read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x3f6e0b(0x173)](_0x3f6e0b(0x260),{'type':_0x3f6e0b(0x191),'common':{'name':_0x3f6e0b(0x1c9),'type':_0x3f6e0b(0x1a8),'role':_0x3f6e0b(0x1c6),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x3f6e0b(0x173)](_0x3f6e0b(0x20c),{'type':_0x3f6e0b(0x191),'common':{'name':'Sensors\x20used\x20for\x20Gait\x20Analysis','type':_0x3f6e0b(0x21c),'role':_0x3f6e0b(0x162),'read':!![],'write':![]},'native':{}}),await this[_0x3f6e0b(0x173)]('analysis.health.gaitDebug',{'type':_0x3f6e0b(0x191),'common':{'name':_0x3f6e0b(0x16c),'type':'string','role':_0x3f6e0b(0x162),'read':!![],'write':![]},'native':{}});try{const _0x3a8e9e=await this[_0x3f6e0b(0x1cf)]('LTM.rawEventLog');if(_0x3a8e9e&&_0x3a8e9e[_0x3f6e0b(0x236)])this['rawEventLog']=JSON[_0x3f6e0b(0x1d8)](_0x3a8e9e[_0x3f6e0b(0x236)]);}catch(_0xc23e83){this['rawEventLog']=[];}try{const _0x55fb02=await this[_0x3f6e0b(0x1cf)](_0x3f6e0b(0x198));if(_0x55fb02&&_0x55fb02[_0x3f6e0b(0x236)])this['dailyDigests']=JSON[_0x3f6e0b(0x1d8)](_0x55fb02['val']);}catch(_0x2631d1){this[_0x3f6e0b(0x26e)]=[];}const _0x3d2833=this[_0x3f6e0b(0x26e)][_0x3f6e0b(0x21d)]>=(this['config'][_0x3f6e0b(0x21e)]||0x7)?'Aktiv\x20('+this[_0x3f6e0b(0x26e)][_0x3f6e0b(0x21d)]+_0x3f6e0b(0x1e8):_0x3f6e0b(0x163)+this[_0x3f6e0b(0x26e)][_0x3f6e0b(0x21d)]+'/'+(this['config'][_0x3f6e0b(0x21e)]||0x7)+')';await this[_0x3f6e0b(0x1bd)](_0x3f6e0b(0x17e),{'val':_0x3d2833,'ack':!![]}),this[_0x3f6e0b(0x20f)](_0x3f6e0b(0x213)),this[_0x3f6e0b(0x20f)](_0x3f6e0b(0x252)),this[_0x3f6e0b(0x20f)]('system.mode'),this[_0x3f6e0b(0x20f)](_0x3f6e0b(0x1f1)),this['subscribeStates']('analysis.automation.triggerAction'),this[_0x3f6e0b(0x20f)]('analysis.automation.autoApply'),this[_0x3f6e0b(0x20f)](_0x3f6e0b(0x17d)),this['subscribeStates']('analysis.training.triggerHealth'),this['subscribeStates'](_0x3f6e0b(0x231)),this[_0x3f6e0b(0x20f)](_0x3f6e0b(0x1a6)),this[_0x3f6e0b(0x20f)](_0x3f6e0b(0x179)),this[_0x3f6e0b(0x20f)]('analysis.energy.mpcActive');const _0x3ebe7e=this[_0x3f6e0b(0x254)][_0x3f6e0b(0x1b0)];if(_0x3ebe7e)for(const _0x2c3756 of _0x3ebe7e){await this['subscribeForeignStatesAsync'](_0x2c3756['id']);}const _0x28aa7b=this['config'][_0x3f6e0b(0x18b)];if(_0x28aa7b)for(const _0x388ace of _0x28aa7b){await this[_0x3f6e0b(0x264)](_0x388ace);}if(this['config']['notifyTelegramEnabled']&&this['config']['notifyTelegramInstance'])await this[_0x3f6e0b(0x264)](this[_0x3f6e0b(0x254)][_0x3f6e0b(0x1e4)]+_0x3f6e0b(0x1cd));setTimeout(()=>this[_0x3f6e0b(0x161)](),0x1388);if(this[_0x3f6e0b(0x1d6)])clearInterval(this[_0x3f6e0b(0x1d6)]);const _0x57549d=this[_0x3f6e0b(0x254)][_0x3f6e0b(0x160)]||0xf;_0x57549d>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x2fe825=_0x3f6e0b;this[_0x2fe825(0x240)](),automation['checkCalendarTriggers'](this);},_0x57549d*0x3c*0x3e8));setTimeout(()=>automation[_0x3f6e0b(0x1c0)](this),0x2710);this[_0x3f6e0b(0x254)][_0x3f6e0b(0x1b6)]!==![]&&(this[_0x3f6e0b(0x228)]=setInterval(()=>{const _0x489658=_0x3f6e0b;if(this[_0x489658(0x257)]){const _0x24d1d2=Date['now'](),_0x3ede8a=this[_0x489658(0x185)]||_0x24d1d2,_0x6bc34b=(_0x24d1d2-_0x3ede8a)/0x3e8;_0x6bc34b>0x2&&(this[_0x489658(0x185)]=_0x24d1d2,pythonBridge[_0x489658(0x26f)](this,_0x489658(0x261),{'room':null,'dt':_0x6bc34b}));}},0xbb8));if(this[_0x3f6e0b(0x1c3)])clearInterval(this[_0x3f6e0b(0x1c3)]);this[_0x3f6e0b(0x1c3)]=setInterval(()=>{const _0x472c83=_0x3f6e0b;this[_0x472c83(0x257)]&&(this[_0x472c83(0x18d)][_0x472c83(0x164)](_0x472c83(0x1d9)),this[_0x472c83(0x1e2)]());},0x4*0x3c*0x3c*0x3e8),schedulers['setupLtmScheduler'](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers['setupDriftAnalysisScheduler'](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x3f6e0b(0x1a3)](this,()=>aiAgent[_0x3f6e0b(0x22c)](this)),pythonBridge[_0x3f6e0b(0x194)](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x493387=_0x3f6e0b;await topology[_0x493387(0x1ea)](this);try{const _0x405759=await this[_0x493387(0x1cf)]('analysis.topology.structure');if(_0x405759&&_0x405759[_0x493387(0x236)])pythonBridge[_0x493387(0x26f)](this,_0x493387(0x25d),JSON[_0x493387(0x1d8)](_0x405759['val']));}catch(_0x49e22f){}this[_0x493387(0x1e2)](),this['triggerGaitAnalysis'](),this['triggerEnergyPrediction'](),this['updateHealthVector']();},0x1388);}['onUnload'](_0x26ae31){const _0x37ba26=a0_0x24e7ce;if(this[_0x37ba26(0x1d6)])clearInterval(this['analysisTimer']);if(this[_0x37ba26(0x207)])clearInterval(this[_0x37ba26(0x207)]);if(this[_0x37ba26(0x228)])clearInterval(this[_0x37ba26(0x228)]);if(this['healthTrendInterval'])clearInterval(this[_0x37ba26(0x1c3)]);if(this['ltmJob'])this[_0x37ba26(0x227)][_0x37ba26(0x201)]();if(this['modeResetJob'])this[_0x37ba26(0x19c)][_0x37ba26(0x201)]();if(this[_0x37ba26(0x190)])this[_0x37ba26(0x190)][_0x37ba26(0x201)]();recorder[_0x37ba26(0x25c)](this),pythonBridge[_0x37ba26(0x219)](this),_0x26ae31();}async[a0_0x24e7ce(0x206)](_0x13d9bd,_0x51831e){const _0x4e5a8a=a0_0x24e7ce;if(!_0x51831e||this[_0x4e5a8a(0x250)])return;if(_0x13d9bd['includes'](_0x4e5a8a(0x17b))&&_0x13d9bd[_0x4e5a8a(0x1bf)]('communicate.request')&&_0x51831e[_0x4e5a8a(0x236)])return;if(_0x13d9bd===this[_0x4e5a8a(0x1df)]+_0x4e5a8a(0x1e9)){if(_0x51831e['val']&&Object[_0x4e5a8a(0x180)](setup[_0x4e5a8a(0x15f)])[_0x4e5a8a(0x177)](_0x51831e[_0x4e5a8a(0x236)])){this['currentSystemMode']=_0x51831e['val'];if(_0x51831e[_0x4e5a8a(0x236)]===setup[_0x4e5a8a(0x15f)][_0x4e5a8a(0x22f)])await recorder[_0x4e5a8a(0x234)](this,![]);else await recorder[_0x4e5a8a(0x234)](this,!![]);if(this[_0x4e5a8a(0x257)]){let _0xcf24ef=![],_0x212aca=0x0,_0x3ae745='manual';if(this[_0x4e5a8a(0x23b)]===_0x4e5a8a(0x18a))_0xcf24ef=!![],_0x212aca=0x168,_0x3ae745=_0x4e5a8a(0x251);else this['currentSystemMode']===_0x4e5a8a(0x20a)&&(_0xcf24ef=!![],_0x212aca=0x5a0,_0x3ae745=_0x4e5a8a(0x1ab));pythonBridge[_0x4e5a8a(0x26f)](this,'SET_LEARNING_MODE',{'active':_0xcf24ef,'duration':_0x212aca,'label':_0x3ae745}),await this[_0x4e5a8a(0x1bd)](_0x4e5a8a(0x1ec),{'val':JSON[_0x4e5a8a(0x1de)]({'active':_0xcf24ef,'label':_0x3ae745,'timestamp':Date['now']()}),'ack':!![]});}}if(!_0x51831e[_0x4e5a8a(0x1a2)])this[_0x4e5a8a(0x16f)](_0x13d9bd,{'val':this[_0x4e5a8a(0x23b)],'ack':!![]});return;}if(!_0x51831e[_0x4e5a8a(0x1a2)]){if(_0x13d9bd[_0x4e5a8a(0x177)]('analysis.trigger')&&_0x51831e[_0x4e5a8a(0x236)]){this[_0x4e5a8a(0x16f)](_0x13d9bd,{'val':![],'ack':!![]}),aiAgent[_0x4e5a8a(0x244)](this);return;}if(_0x13d9bd['includes'](_0x4e5a8a(0x202))&&_0x51831e[_0x4e5a8a(0x236)]){this['setState'](_0x13d9bd,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x4e5a8a(0x19b)](this,pythonBridge);return;}if(_0x13d9bd[_0x4e5a8a(0x177)](_0x4e5a8a(0x23d))&&_0x51831e[_0x4e5a8a(0x236)]){this[_0x4e5a8a(0x16f)](_0x13d9bd,{'val':![],'ack':!![]}),aiAgent[_0x4e5a8a(0x22c)](this);return;}if(_0x13d9bd[_0x4e5a8a(0x177)](_0x4e5a8a(0x17c))&&_0x51831e['val']){this['setState'](_0x13d9bd,{'val':![],'ack':!![]}),aiAgent[_0x4e5a8a(0x24d)](this);return;}if(_0x13d9bd[_0x4e5a8a(0x177)](_0x4e5a8a(0x17d))&&_0x51831e[_0x4e5a8a(0x236)]){this[_0x4e5a8a(0x16f)](_0x13d9bd,{'val':![],'ack':!![]});if(this[_0x4e5a8a(0x257)])try{const _0x3b5b1a=await this[_0x4e5a8a(0x1cf)](_0x4e5a8a(0x1e0));if(_0x3b5b1a&&_0x3b5b1a[_0x4e5a8a(0x236)]){const _0xbe012e=JSON[_0x4e5a8a(0x1d8)](_0x3b5b1a['val']);this[_0x4e5a8a(0x1bd)]('analysis.training.status',{'val':_0x4e5a8a(0x230),'ack':!![]}),pythonBridge[_0x4e5a8a(0x26f)](this,_0x4e5a8a(0x1db),{'sequences':_0xbe012e});}}catch(_0x4a34f1){}return;}if(_0x13d9bd[_0x4e5a8a(0x177)](_0x4e5a8a(0x169))&&_0x51831e[_0x4e5a8a(0x236)]){this[_0x4e5a8a(0x16f)](_0x13d9bd,{'val':![],'ack':!![]});if(this[_0x4e5a8a(0x257)])try{const _0x59af8c=await this[_0x4e5a8a(0x1cf)](_0x4e5a8a(0x198));if(_0x59af8c&&_0x59af8c[_0x4e5a8a(0x236)])pythonBridge[_0x4e5a8a(0x26f)](this,_0x4e5a8a(0x1f7),{'digests':JSON['parse'](_0x59af8c[_0x4e5a8a(0x236)])});}catch(_0xa52f5){}return;}if(_0x13d9bd[_0x4e5a8a(0x177)](_0x4e5a8a(0x231))&&_0x51831e[_0x4e5a8a(0x236)]){this[_0x4e5a8a(0x16f)](_0x13d9bd,{'val':![],'ack':!![]});if(this[_0x4e5a8a(0x257)])try{const _0x559f62=await this[_0x4e5a8a(0x1cf)](_0x4e5a8a(0x243));if(_0x559f62&&_0x559f62[_0x4e5a8a(0x236)])pythonBridge['send'](this,_0x4e5a8a(0x20e),{'points':JSON[_0x4e5a8a(0x1d8)](_0x559f62[_0x4e5a8a(0x236)])});}catch(_0x454cae){}return;}if(_0x13d9bd['includes'](_0x4e5a8a(0x1a6))&&_0x51831e[_0x4e5a8a(0x236)]){this['setState'](_0x13d9bd,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x486fd2=await this[_0x4e5a8a(0x1cf)](_0x4e5a8a(0x165));if(_0x486fd2&&_0x486fd2[_0x4e5a8a(0x236)])pythonBridge['send'](this,_0x4e5a8a(0x226),{'events':JSON[_0x4e5a8a(0x1d8)](_0x486fd2[_0x4e5a8a(0x236)])});}catch(_0x5dd8bb){}return;}if(_0x13d9bd[_0x4e5a8a(0x177)](_0x4e5a8a(0x179))&&_0x51831e[_0x4e5a8a(0x236)]){this[_0x4e5a8a(0x16f)](_0x13d9bd,{'val':![],'ack':!![]}),topology[_0x4e5a8a(0x1ea)](this);return;}}if(this[_0x4e5a8a(0x254)][_0x4e5a8a(0x18b)]&&this[_0x4e5a8a(0x254)][_0x4e5a8a(0x18b)][_0x4e5a8a(0x177)](_0x13d9bd)){await this[_0x4e5a8a(0x161)]();return;}const _0x431196=(this['config'][_0x4e5a8a(0x1b0)]||[])['find'](_0x2912e8=>_0x2912e8['id']===_0x13d9bd);if(_0x431196){const _0x370a5f=await recorder[_0x4e5a8a(0x1c8)](this,_0x13d9bd,_0x51831e,_0x431196);_0x370a5f&&_0x370a5f['type']==='motion'&&_0x370a5f[_0x4e5a8a(0x182)]&&this['isProVersion']&&deadMan[_0x4e5a8a(0x268)](this,_0x370a5f['location']),(_0x431196[_0x4e5a8a(0x19e)]===_0x4e5a8a(0x239)||_0x431196[_0x4e5a8a(0x19e)]===_0x4e5a8a(0x232))&&automation[_0x4e5a8a(0x24e)](this);}}async[a0_0x24e7ce(0x1f6)](_0x5be8ce){const _0x47188f=a0_0x24e7ce;if(typeof _0x5be8ce===_0x47188f(0x26a)&&_0x5be8ce[_0x47188f(0x247)]){if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x259))try{const _0x2a79d3=await automation[_0x47188f(0x21a)](this);this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![],'results':_0x2a79d3},_0x5be8ce['callback']);}catch(_0x28fbeb){this[_0x47188f(0x21b)](_0x5be8ce['from'],_0x5be8ce['command'],{'success':![],'error':_0x28fbeb[_0x47188f(0x247)]},_0x5be8ce[_0x47188f(0x23e)]);}else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x1c7))try{const {current_temps:_0x1d9f79,t_out:_0x39bcdd,targets:_0x1bffd9,t_forecast:_0x385e26}=_0x5be8ce['message'],_0x171e52=[];let _0x57f30d={};try{const _0x10650b=await this[_0x47188f(0x1cf)](_0x47188f(0x270));if(_0x10650b&&_0x10650b[_0x47188f(0x236)]){const _0x90280=JSON[_0x47188f(0x1d8)](_0x10650b[_0x47188f(0x236)]);_0x57f30d=_0x90280['scores']||_0x90280;}}catch(_0x35bc43){}const _0x3f1b93=_0x385e26!==undefined&&_0x385e26!==null?(_0x39bcdd+_0x385e26)/0x2:_0x39bcdd;for(const [_0x582c9f,_0x50526a]of Object['entries'](_0x1d9f79)){const _0x15d5d6=_0x1bffd9[_0x582c9f]||0x15;if(_0x50526a<=_0x15d5d6)continue;let _0xe2db96=_0x57f30d[_0x582c9f]||-0.5;if(_0xe2db96>=0x0)_0xe2db96=-0.5;const _0x1a8b92=Math['abs'](_0xe2db96),_0x2a936b=_0x50526a-_0x15d5d6;let _0x59d801=Math[_0x47188f(0x184)](_0x2a936b/_0x1a8b92*0x3c);const _0x1aadd3=_0x50526a-_0x39bcdd,_0xf79e27=_0x50526a-_0x3f1b93;if(_0xf79e27!==0x0&&_0x1aadd3!==0x0){const _0x4bd9e1=_0x1aadd3/_0xf79e27;_0x59d801=Math[_0x47188f(0x184)](_0x59d801*_0x4bd9e1);}if(_0x59d801>0xf){if(_0x59d801>0xf0)_0x59d801=0xf0;_0x171e52[_0x47188f(0x258)]({'room':_0x582c9f,'minutes_safe':_0x59d801,'target':_0x15d5d6,'current':_0x50526a,'savings_msg':_0x47188f(0x220)+_0x59d801+'\x20min\x20ausbleiben.'});}}_0x171e52[_0x47188f(0x212)]((_0x5be5bf,_0x3da7dc)=>_0x3da7dc[_0x47188f(0x265)]-_0x5be5bf[_0x47188f(0x265)]),this[_0x47188f(0x21b)](_0x5be8ce['from'],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![],'proposals':_0x171e52},_0x5be8ce[_0x47188f(0x23e)]);}catch(_0x1c2a82){this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce['command'],{'success':![],'error':_0x1c2a82[_0x47188f(0x247)]},_0x5be8ce[_0x47188f(0x23e)]);}else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x20d))try{const _0x2db56c=_0x5be8ce[_0x47188f(0x247)]['key'],_0x87c641=_0x47188f(0x1c1),_0x84d8ec=await this[_0x47188f(0x1cf)](_0x87c641);let _0x2f77fe={};if(_0x84d8ec&&_0x84d8ec['val'])try{_0x2f77fe=JSON[_0x47188f(0x1d8)](_0x84d8ec[_0x47188f(0x236)]);}catch(_0x28125b){}_0x2db56c&&_0x2f77fe[_0x2db56c]?(delete _0x2f77fe[_0x2db56c],await this['setStateAsync'](_0x87c641,{'val':JSON[_0x47188f(0x1de)](_0x2f77fe),'ack':!![]}),this[_0x47188f(0x18d)][_0x47188f(0x164)](_0x47188f(0x1c5)+_0x2db56c+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.'),this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![]},_0x5be8ce[_0x47188f(0x23e)])):this['sendTo'](_0x5be8ce['from'],_0x5be8ce[_0x47188f(0x1b1)],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0x5be8ce[_0x47188f(0x23e)]);}catch(_0x4eefd6){this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':![],'error':_0x4eefd6['message']},_0x5be8ce[_0x47188f(0x23e)]);}else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x1ac))await this['setStateAsync'](_0x47188f(0x176),{'val':![],'ack':!![]}),await this[_0x47188f(0x1bd)](_0x47188f(0x1be),{'val':'','ack':!![]}),await this['setStateAsync'](_0x47188f(0x1ca),{'val':'','ack':!![]}),this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![]},_0x5be8ce[_0x47188f(0x23e)]);else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x1f0)){const {targetId:_0x2f5cb4,targetValue:_0x1d45df}=_0x5be8ce[_0x47188f(0x247)];await this[_0x47188f(0x1bd)](_0x47188f(0x176),{'val':!![],'ack':!![]}),await this['setStateAsync'](_0x47188f(0x1be),{'val':_0x47188f(0x174),'ack':!![]}),await this[_0x47188f(0x1bd)](_0x47188f(0x1ca),{'val':_0x2f5cb4,'ack':!![]}),await this[_0x47188f(0x1bd)](_0x47188f(0x204),{'val':String(_0x1d45df),'ack':!![]}),this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![]},_0x5be8ce[_0x47188f(0x23e)]);}else{if(_0x5be8ce['command']==='testApiKey')try{const _0x473eea=_0x5be8ce[_0x47188f(0x247)][_0x47188f(0x24f)];if(!_0x473eea)throw new Error(_0x47188f(0x1d4));const _0x36834b=new GoogleGenerativeAI(_0x473eea),_0x5c2b3c=_0x36834b[_0x47188f(0x255)]({'model':GEMINI_MODEL}),_0x3b3d6c=await _0x5c2b3c[_0x47188f(0x1e7)](_0x47188f(0x1ae)),_0x3722d4=await _0x3b3d6c[_0x47188f(0x1bc)];if(_0x3722d4[_0x47188f(0x162)]())this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![],'message':_0x47188f(0x272)},_0x5be8ce[_0x47188f(0x23e)]);else throw new Error(_0x47188f(0x1b2));}catch(_0x509502){this[_0x47188f(0x21b)](_0x5be8ce['from'],_0x5be8ce[_0x47188f(0x1b1)],{'success':![],'message':_0x509502['message']},_0x5be8ce[_0x47188f(0x23e)]);}else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x1e1))try{const _0x3d8a66=await scanner['scanForDevices'](this,_0x5be8ce[_0x47188f(0x247)]||{});this[_0x47188f(0x21b)](_0x5be8ce['from'],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![],'devices':_0x3d8a66},_0x5be8ce[_0x47188f(0x23e)]);}catch(_0x1ca739){this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':![],'error':_0x1ca739[_0x47188f(0x247)]},_0x5be8ce['callback']);}else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x1dd))try{const {matrix:_0x570651}=_0x5be8ce['message'],_0x123dba=await this[_0x47188f(0x1cf)](_0x47188f(0x26d));if(_0x123dba&&_0x123dba[_0x47188f(0x236)]){const _0x540d99=JSON[_0x47188f(0x1d8)](_0x123dba[_0x47188f(0x236)]);_0x540d99[_0x47188f(0x1ef)]=_0x570651,_0x540d99[_0x47188f(0x18e)]=Date[_0x47188f(0x16e)](),await this[_0x47188f(0x1bd)](_0x47188f(0x26d),{'val':JSON['stringify'](_0x540d99),'ack':!![]}),pythonBridge[_0x47188f(0x26f)](this,_0x47188f(0x25d),_0x540d99);}this['sendTo'](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![]},_0x5be8ce[_0x47188f(0x23e)]);}catch(_0x372819){this[_0x47188f(0x18d)][_0x47188f(0x1bb)](_0x372819);}else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x187))this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![],'dailyDigests':this[_0x47188f(0x26e)]||[],'analysisHistory':this[_0x47188f(0x1f5)]||[]},_0x5be8ce['callback']);else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x1fd)){const _0x45deb8=this[_0x47188f(0x26e)][_0x47188f(0x21d)],_0x686664=new Array(0x18)[_0x47188f(0x1cb)](0x0),_0x538f21=new Date()['setHours'](0x0,0x0,0x0,0x0);this['eventHistory']&&this['eventHistory'][_0x47188f(0x181)](_0x4d459=>{const _0x1a4c7a=_0x47188f;if(_0x4d459[_0x1a4c7a(0x241)]>=_0x538f21){const _0x19b81f=new Date(_0x4d459['timestamp'])[_0x1a4c7a(0x246)]();if(_0x19b81f>=0x0&&_0x19b81f<0x18)_0x686664[_0x19b81f]++;}});let _0x49f5ad=![],_0xb8e31='',_0xfec756='',_0x9ef4c='';try{const _0x25fd68=await this[_0x47188f(0x1cf)](_0x47188f(0x176));if(_0x25fd68&&_0x25fd68['val']){_0x49f5ad=!![];const _0x528781=await this[_0x47188f(0x1cf)](_0x47188f(0x1be));_0xb8e31=_0x528781?_0x528781['val']:'';const _0x520864=await this['getStateAsync']('analysis.automation.targetId');_0xfec756=_0x520864?_0x520864[_0x47188f(0x236)]:'';const _0x38f7e2=await this[_0x47188f(0x1cf)](_0x47188f(0x204));_0x9ef4c=_0x38f7e2?_0x38f7e2['val']:'';}}catch(_0x42ad56){}const _0x49e60f=await this[_0x47188f(0x175)](),_0x3775a2=(this['config'][_0x47188f(0x1b0)]||[])['some'](_0x550a16=>_0x550a16[_0x47188f(0x17a)]),_0x1077a0=_0x49e60f&&_0x3775a2;this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![],'eventHistory':this[_0x47188f(0x20b)][_0x47188f(0x22a)](0x0,0xf),'stats':{'digestCount':_0x45deb8,'isPresent':this[_0x47188f(0x1fb)],'hourlyActivity':_0x686664,'solarActive':_0x1077a0},'automation':{'detected':_0x49f5ad,'description':_0xb8e31,'targetId':_0xfec756,'targetValue':_0x9ef4c}},_0x5be8ce[_0x47188f(0x23e)]);}else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x1ed)){const _0x339f38=await this[_0x47188f(0x1f8)](_0x47188f(0x22b),_0x47188f(0x223)),_0x5dac2f=[];if(_0x339f38)for(const _0x5ec66f in _0x339f38){const _0x261715=_0x339f38[_0x5ec66f],_0x29c9c3=(_0x261715[_0x47188f(0x221)]&&typeof _0x261715[_0x47188f(0x221)][_0x47188f(0x22d)]===_0x47188f(0x26a)?_0x261715[_0x47188f(0x221)][_0x47188f(0x22d)]['de']:_0x261715[_0x47188f(0x221)][_0x47188f(0x22d)])||_0x261715['common']['name'];_0x5dac2f['push']({'id':_0x5ec66f,'name':_0x29c9c3});}const _0x4d7907=await this['getForeignObjectsAsync']('enum.rooms.*',_0x47188f(0x223)),_0xc93d0a=[];if(_0x4d7907)for(const _0x365128 in _0x4d7907){const _0x2d4a8f=_0x4d7907[_0x365128],_0x3259de=(_0x2d4a8f[_0x47188f(0x221)]&&typeof _0x2d4a8f[_0x47188f(0x221)][_0x47188f(0x22d)]===_0x47188f(0x26a)?_0x2d4a8f[_0x47188f(0x221)][_0x47188f(0x22d)]['de']:_0x2d4a8f[_0x47188f(0x221)][_0x47188f(0x22d)])||_0x365128[_0x47188f(0x211)]('.')[_0x47188f(0x253)]();_0xc93d0a['push'](_0x3259de);}this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce['command'],{'success':!![],'enums':_0x5dac2f,'rooms':_0xc93d0a},_0x5be8ce[_0x47188f(0x23e)]);}else{if(_0x5be8ce['command']==='testContext')try{let _0xcbcfe6=_0x47188f(0x189),_0x336a7c=_0x47188f(0x1fe);if(this[_0x47188f(0x254)][_0x47188f(0x172)]){const _0x4046ef=await recorder[_0x47188f(0x1e6)](this);_0xcbcfe6=_0x4046ef!==null?_0x4046ef+'Â°C':'Daten\x20nicht\x20verfÃ¼gbar';}if(this[_0x47188f(0x254)][_0x47188f(0x263)]){const _0x113644=await this[_0x47188f(0x1b9)](_0x47188f(0x245)+this['config']['calendarInstance']);_0x336a7c=_0x113644?_0x47188f(0x1fc):_0x47188f(0x1f4);}this[_0x47188f(0x21b)](_0x5be8ce['from'],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![],'weather':_0xcbcfe6,'calendar':_0x336a7c},_0x5be8ce[_0x47188f(0x23e)]);}catch(_0x218921){this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':![],'error':_0x218921[_0x47188f(0x247)]},_0x5be8ce['callback']);}else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x217))try{const _0x1d243d=_0x5be8ce[_0x47188f(0x247)][_0x47188f(0x15d)],_0x5a87a7=await this[_0x47188f(0x1d7)](_0x1d243d+_0x47188f(0x266));let _0x548fd0=[];if(_0x5a87a7&&_0x5a87a7[_0x47188f(0x236)]){const _0x582b51=JSON[_0x47188f(0x1d8)](_0x5a87a7[_0x47188f(0x236)]),_0x19e680=new Set();Array[_0x47188f(0x205)](_0x582b51)&&_0x582b51[_0x47188f(0x181)](_0x3392fa=>{const _0x37e698=_0x47188f;if(_0x3392fa['_calName'])_0x19e680['add'](_0x3392fa['_calName']);else{if(_0x3392fa[_0x37e698(0x1b4)])_0x19e680[_0x37e698(0x22e)](_0x3392fa[_0x37e698(0x1b4)]);}}),_0x548fd0=Array[_0x47188f(0x197)](_0x19e680)[_0x47188f(0x212)]();}if(_0x548fd0[_0x47188f(0x21d)]===0x0)_0x548fd0=['Standard'];this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![],'names':_0x548fd0},_0x5be8ce[_0x47188f(0x23e)]);}catch(_0x2bcf1a){this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':![],'error':_0x2bcf1a[_0x47188f(0x247)]},_0x5be8ce[_0x47188f(0x23e)]);}else{if(_0x5be8ce[_0x47188f(0x1b1)]===_0x47188f(0x16b))try{await setup[_0x47188f(0x24b)](this,_0x47188f(0x1d5),![],![]),this['sendTo'](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce[_0x47188f(0x1b1)],{'success':!![],'message':_0x47188f(0x23f)},_0x5be8ce['callback']);}catch(_0x11f4e){this[_0x47188f(0x18d)][_0x47188f(0x1bb)](_0x47188f(0x19d)+_0x11f4e['message']),this[_0x47188f(0x21b)](_0x5be8ce[_0x47188f(0x197)],_0x5be8ce['command'],{'success':![],'message':_0x47188f(0x224)+_0x11f4e[_0x47188f(0x247)]},_0x5be8ce[_0x47188f(0x23e)]);}}}}}}}}}}}}}}}}async[a0_0x24e7ce(0x1ad)](){const _0x3076c4=a0_0x24e7ce;try{const _0x200f5b=await this[_0x3076c4(0x1cf)](setup[_0x3076c4(0x1b8)]);_0x200f5b&&_0x200f5b[_0x3076c4(0x236)]&&Object['values'](setup[_0x3076c4(0x15f)])[_0x3076c4(0x177)](_0x200f5b[_0x3076c4(0x236)])?this['currentSystemMode']=_0x200f5b[_0x3076c4(0x236)]:(this[_0x3076c4(0x23b)]=setup[_0x3076c4(0x15f)][_0x3076c4(0x1ba)],await this['setStateAsync'](setup[_0x3076c4(0x1b8)],{'val':setup[_0x3076c4(0x15f)][_0x3076c4(0x1ba)],'ack':!![]}));}catch(_0x2e63c8){this[_0x3076c4(0x23b)]=setup[_0x3076c4(0x15f)]['NORMAL'];}}async['checkWifiPresence'](){const _0x54e5c4=a0_0x24e7ce;try{const _0xc7526f=this[_0x54e5c4(0x254)][_0x54e5c4(0x18b)]||[];let _0x399a7c=![];const _0x4f6765=[];for(const _0x4aad0d of _0xc7526f){try{const _0xcbfa6d=await this[_0x54e5c4(0x1d7)](_0x4aad0d);_0xcbfa6d&&(_0xcbfa6d[_0x54e5c4(0x236)]===!![]||_0xcbfa6d[_0x54e5c4(0x236)]===_0x54e5c4(0x1a4)||_0xcbfa6d[_0x54e5c4(0x236)]===0x1)&&(_0x399a7c=!![],_0x4f6765[_0x54e5c4(0x258)](_0x4aad0d));}catch(_0x2016fb){}}return await this[_0x54e5c4(0x1bd)](_0x54e5c4(0x1a9),{'val':_0x4f6765[_0x54e5c4(0x200)](',\x20'),'ack':!![]}),_0x399a7c&&(this['exitTimer']&&(this[_0x54e5c4(0x18d)][_0x54e5c4(0x164)]('WiFi\x20Presence\x20detected.'),recorder[_0x54e5c4(0x25c)](this)),!this[_0x54e5c4(0x1fb)]&&this['currentSystemMode']===setup[_0x54e5c4(0x15f)]['NORMAL']&&await recorder['setPresence'](this,!![])),_0x399a7c;}catch(_0x3eb309){return![];}}async[a0_0x24e7ce(0x240)](){const _0x55c6ec=a0_0x24e7ce;this[_0x55c6ec(0x18d)][_0x55c6ec(0x235)](_0x55c6ec(0x242)),await aiAgent['runGeminiAnalysis'](this),this[_0x55c6ec(0x183)](),this[_0x55c6ec(0x186)](),this[_0x55c6ec(0x192)]();}async[a0_0x24e7ce(0x175)](){const _0x21a1d4=a0_0x24e7ce,_0x220319=[_0x21a1d4(0x208),_0x21a1d4(0x1fa),'daswetter.0'],_0x39aec2=[_0x21a1d4(0x1d0),_0x21a1d4(0x1b3),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x42b717 of _0x220319){for(const _0x45715c of _0x39aec2){try{const _0xccf19a=_0x42b717+'.'+_0x45715c,_0x24634b=await this[_0x21a1d4(0x1d7)](_0xccf19a);if(_0x24634b&&_0x24634b[_0x21a1d4(0x236)]){const _0x593d1f=String(_0x24634b[_0x21a1d4(0x236)])[_0x21a1d4(0x24a)]();if(_0x593d1f['includes'](_0x21a1d4(0x209))||_0x593d1f[_0x21a1d4(0x177)](_0x21a1d4(0x23c))||_0x593d1f[_0x21a1d4(0x177)](_0x21a1d4(0x23a))||_0x593d1f['includes'](_0x21a1d4(0x171))||_0x593d1f['includes']('heiter'))return!![];}}catch(_0x6c54c9){}}}return![];}[a0_0x24e7ce(0x186)](){const _0x2f76bf=a0_0x24e7ce;if(!this[_0x2f76bf(0x257)])return;try{this[_0x2f76bf(0x26b)](_0x2f76bf(0x1e0),(_0x1cce03,_0x116408)=>{const _0x1a7f97=_0x2f76bf;_0x116408&&_0x116408[_0x1a7f97(0x236)]&&pythonBridge[_0x1a7f97(0x26f)](this,'ANALYZE_GAIT',{'sequences':JSON[_0x1a7f97(0x1d8)](_0x116408[_0x1a7f97(0x236)])});});}catch(_0xbc54c4){}}async[a0_0x24e7ce(0x192)](){const _0x58c678=a0_0x24e7ce;if(!this[_0x58c678(0x257)])return;try{const _0x3e5639=await recorder[_0x58c678(0x1e6)](this);if(_0x3e5639===null)return;const _0x1ac8b5={},_0x3a549f={},_0xba1055=this[_0x58c678(0x254)][_0x58c678(0x1b0)]||[];for(const _0x70045c of _0xba1055){if(_0x70045c[_0x58c678(0x19e)]==='temperature'&&_0x70045c[_0x58c678(0x182)]){const _0x57af47=this['sensorLastValues'][_0x70045c['id']];if(_0x57af47!==undefined)_0x1ac8b5[_0x70045c[_0x58c678(0x182)]]=_0x57af47;if(_0x70045c['isSolar'])_0x3a549f[_0x70045c[_0x58c678(0x182)]]=!![];}}const _0x1a3d9c=await this[_0x58c678(0x175)]();let _0x1d4f80={};try{const _0x52d297=await this[_0x58c678(0x1cf)](_0x58c678(0x225));if(_0x52d297&&_0x52d297[_0x58c678(0x236)])_0x1d4f80=JSON['parse'](_0x52d297[_0x58c678(0x236)]);}catch(_0xf889a9){}Object[_0x58c678(0x1d2)](_0x1ac8b5)[_0x58c678(0x21d)]>0x0&&(pythonBridge['send'](this,_0x58c678(0x1ee),{'current_temps':_0x1ac8b5,'t_out':_0x3e5639,'is_sunny':_0x1a3d9c,'solar_flags':_0x3a549f,'warmup_targets':_0x1d4f80}),pythonBridge[_0x58c678(0x26f)](this,'OPTIMIZE_ENERGY',{'current_temps':_0x1ac8b5,'t_out':_0x3e5639,'targets':{}}));}catch(_0x4067b2){}}[a0_0x24e7ce(0x183)](){const _0x1305b0=a0_0x24e7ce;if(!this[_0x1305b0(0x19f)]||this[_0x1305b0(0x19f)][_0x1305b0(0x21d)]===0x0)return;const _0x439aa4=new Array(0x60)[_0x1305b0(0x1cb)](0x0),_0x490893=new Date()[_0x1305b0(0x170)](0x0,0x0,0x0,0x0);this['rawEventLog'][_0x1305b0(0x181)](_0x59eeb1=>{const _0x359ead=_0x1305b0,_0x1085a7=new Date(_0x59eeb1['timestamp']);if(_0x1085a7[_0x359ead(0x1af)]()>=_0x490893){const _0x5a095e=_0x1085a7['getHours'](),_0xc34041=_0x1085a7[_0x359ead(0x1ce)](),_0xb36b6e=_0x5a095e*0x4+Math['floor'](_0xc34041/0xf);if(_0xb36b6e>=0x0&&_0xb36b6e<0x60)_0x439aa4[_0xb36b6e]++;}}),this[_0x1305b0(0x1bd)](_0x1305b0(0x210),{'val':JSON[_0x1305b0(0x1de)](_0x439aa4),'ack':!![]});}[a0_0x24e7ce(0x1e2)](){const _0x5e24bf=a0_0x24e7ce;if(!this[_0x5e24bf(0x26e)]||this[_0x5e24bf(0x26e)][_0x5e24bf(0x21d)]<0x2)return;const _0x25455f=this[_0x5e24bf(0x26e)][_0x5e24bf(0x1aa)](_0x145adc=>{const _0x3541aa=_0x5e24bf,_0x17242a=(_0x145adc[_0x3541aa(0x256)]||'')[_0x3541aa(0x24a)]();return ACTIVITY_LEVEL_MAP[_0x17242a]||0x32;});pythonBridge[_0x5e24bf(0x26f)](this,'ANALYZE_TREND',{'values':_0x25455f,'tag':_0x5e24bf(0x16d)});}}if(require[a0_0x24e7ce(0x1a1)]!==module)module[a0_0x24e7ce(0x222)]=_0x24a8bb=>new CogniLiving(_0x24a8bb);else new CogniLiving();