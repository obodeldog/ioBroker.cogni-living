const a0_0x52fbf2=a0_0x1d85;(function(_0x53940e,_0x3ac3e1){const _0x3225a7=a0_0x1d85,_0x503e8b=_0x53940e();while(!![]){try{const _0xd3d9e5=-parseInt(_0x3225a7(0x21d))/0x1+parseInt(_0x3225a7(0x243))/0x2*(-parseInt(_0x3225a7(0x17c))/0x3)+parseInt(_0x3225a7(0x228))/0x4+parseInt(_0x3225a7(0x18e))/0x5+-parseInt(_0x3225a7(0x272))/0x6*(-parseInt(_0x3225a7(0x191))/0x7)+-parseInt(_0x3225a7(0x1d7))/0x8*(-parseInt(_0x3225a7(0x1f2))/0x9)+-parseInt(_0x3225a7(0x1fb))/0xa;if(_0xd3d9e5===_0x3ac3e1)break;else _0x503e8b['push'](_0x503e8b['shift']());}catch(_0x1604c4){_0x503e8b['push'](_0x503e8b['shift']());}}}(a0_0x313b,0x1e0c7));const a0_0x2b62fe=(function(){let _0x256f34=!![];return function(_0x55ac99,_0x58d0ab){const _0x283b78=_0x256f34?function(){const _0x40ee9c=a0_0x1d85;if(_0x58d0ab){const _0x2ada0c=_0x58d0ab[_0x40ee9c(0x1f6)](_0x55ac99,arguments);return _0x58d0ab=null,_0x2ada0c;}}:function(){};return _0x256f34=![],_0x283b78;};}()),a0_0x20c09e=a0_0x2b62fe(this,function(){const _0x496c7c=a0_0x1d85;return a0_0x20c09e[_0x496c7c(0x195)]()[_0x496c7c(0x17f)]('(((.+)+)+)+$')[_0x496c7c(0x195)]()[_0x496c7c(0x247)](a0_0x20c09e)[_0x496c7c(0x17f)]('(((.+)+)+)+$');});a0_0x20c09e();function a0_0x313b(){const _0x495636=['healthTrendInterval','enum','Verbindung\x20erfolgreich!','trackerHeartbeat','getGenerativeModel','Simulation\x20durch\x20Admin\x20(Test)','value','./lib/dead_man','isPresent','dailyDigests','calendarInstance','values','analysisInterval','modeResetJob','PREDICT_ENERGY','.data.table','setStateAsync','analysis.automation.targetId','LTM.dailyDigests','NextHours.Location_1.Day_1.current.symbol_desc','Notification\x20Test\x20Failed:\x20','45LRBTfJ','onReady','checkSolarCondition','analysis.health.activityTrend','apply','calendarName','keys','Verbunden','string','138780mWzgXE','analysis.triggerBriefing','testContext','./lib/automation','createAllObjects','PYTHON_EXE','inactivityThresholdHours','getCalendarNames','analysis.training.triggerTopology','analysis.security.learningStatus','entries','analysis.energy.warmupTargets','Gemini\x20Init\x20Error:\x20','Test','sunny','stringify','@iobroker/adapter-core','setHours','triggerBriefing','analysis.automation.patternDetected','accuweather.0','lastTrackerEventTime','getForeignObjectAsync','runGeminiAnalysis','./lib/scheduler','TRACK_EVENT','runAutopilot','Party\x20Mode','getState','getHours','info','isSolar','isGracePeriodActive','Activity-Level','169442oPtHLH','SET_TOPOLOGY','SYSTEM_DP_MODE','briefingJob','Lernphase\x20(','cogni-living\x20adapter\x20starting\x20(v','analysis.training.triggerSecurity','currentSystemMode','activityLevel','minutes_safe','createDailyDigest','814876rWMojG','cogni-living','includes','driftAnalysisTimer','OPTIMIZE_ENERGY','setObjectNotExistsAsync','bind','number','geminiApiKey','json','triggerGaitAnalysis','add','geminiModel','devices','./lib/scanner','instance','setState','toLowerCase','setupDriftAnalysisScheduler','text','thermostat','state','trackerEnabled','setPresence','_calName','TRAIN_SECURITY','checkCalendarTriggers','45956vzELlN','matrix','checkAndInstall','forEach','constructor','eventHistory','runBaselineDriftAnalysis','initHistory','analysis.trigger','Standard','manual','floor','system.presenceWho','version','Fehler:\x20','genAI','SET_LEARNING_MODE','./lib/ai_agent','pop','Heizung\x20kann\x20','stateChange','callback','message','loadSystemMode','log','./lib/topology','startSystem','VACATION','daswetter.0','Current.WeatherText','checkThermostats','getMinutes','forecast.current.weather','name','type','analysis.training.triggerHealth','initSystemConfig','from','setupBriefingScheduler','LTM.rawEventLog','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','exitGraceTimer','Warm-Up\x20Target\x20Temps\x20(JSON)','Kein\x20API\x20Key\x20Ã¼bergeben','triggerDailyDigest','guest','Aktiv\x20(','139062WIxbTr','analysisTimer','./lib/installer','getOutsideTemperatureNumeric','val','ack','dependencyInstallInProgress','analysis.energy.rlPenalties','getForeignStateAsync','abortExitTimer','systemConfig','fill','setupLtmScheduler','exitTimer','Gesendet','Key\x20not\x20found\x20or\x20not\x20provided','updateTopology','./lib/python_bridge','.communicate.request','notifyTelegramInstance','updateHealthVector','object','scanDevices','send','analysis.energy.ventilationAlerts','dismissAutomation','getStateAsync','12ZgQrEX','simulateEnergyMPC','analysis.training.status','search','timestamp','./lib/setup','NORMAL','sort','checkWifiPresence','analysis.topology.structure','\x20Tage)','analysis.health.todayVector','Instanz\x20nicht\x20gefunden','runPythonHealthCheck','application/json','ltmJob','getTime','klar','535440VPZHGK','\x20min\x20ausbleiben.','â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','14bmYlGC','getLtmData','{\x22default\x22:\x2021}','analysis.automation.triggerAction','toString','resetRLPenalty','subscribeStates','Active\x20Ventilation\x20Alerts','simulateButler','updated','testApiKey','now','command','scanThermostats','TRAIN_ENERGY','config','Sec-Training\x20started...','Guest\x20Mode','exports','checkLicense','LTM.trainingData.sequences','system.adapter.','SYSTEM_MODES','triggerEnergyPrediction','Daten\x20nicht\x20verfÃ¼gbar','isProVersion','sensorLastValues','ANALYZE_GAIT','communicate.request','analysis.automation.description','push','analysisHistory','stopService','presenceDevices','models/gemini-flash-latest','analysis.automation.autoApply','scanForDevices','onStateChange','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','updateLocation','analysis.training.triggerEnergy','sonn','location','@google/generative-ai','debug','onMessage','getForeignObjectsAsync','minDaysForBaseline','onUnload','subscribeForeignStatesAsync','Gemini\x20AI\x20initialized.','error','generateContent','some','useWeather','testNotification','rawEventLog','sendMorningBriefing','length','analysis.energy.pinnForecast','sendTo','executeAutomationAction','parse','weatherunderground.0','common','split','Reinforcement\x20Learning\x20Penalties','analysis.automation.targetValue','analysis.training.triggerComfort','motion','65840oRPdiZ','PINN\x20AI\x20Forecast','Sensors\x20used\x20for\x20Gait\x20Analysis','ANALYZE_TREND','find','map'];a0_0x313b=function(){return _0x495636;};return a0_0x313b();}'use strict';function a0_0x1d85(_0x163fba,_0x28f6f2){const _0x29c8fe=a0_0x313b();return a0_0x1d85=function(_0x20c09e,_0x2b62fe){_0x20c09e=_0x20c09e-0x17a;let _0x313b8f=_0x29c8fe[_0x20c09e];return _0x313b8f;},a0_0x1d85(_0x163fba,_0x28f6f2);}const utils=require(a0_0x52fbf2(0x20b)),{GoogleGenerativeAI}=require(a0_0x52fbf2(0x1bc)),installer=require(a0_0x52fbf2(0x274)),scanner=require(a0_0x52fbf2(0x236)),schedulers=require(a0_0x52fbf2(0x213)),topology=require(a0_0x52fbf2(0x25c)),setup=require(a0_0x52fbf2(0x181)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x52fbf2(0x283)),aiAgent=require(a0_0x52fbf2(0x254)),deadMan=require(a0_0x52fbf2(0x1e4)),automation=require(a0_0x52fbf2(0x1fe)),GEMINI_MODEL=a0_0x52fbf2(0x1b3),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x36a5d5){const _0x17fe23=a0_0x52fbf2;super({..._0x36a5d5,'name':_0x17fe23(0x229)}),this['eventHistory']=[],this[_0x17fe23(0x1b0)]=[],this[_0x17fe23(0x1c9)]=[],this[_0x17fe23(0x1e6)]=[],this[_0x17fe23(0x1ab)]={},this[_0x17fe23(0x27c)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x17fe23(0x1e5)]=!![],this[_0x17fe23(0x27f)]=null,this[_0x17fe23(0x26c)]=null,this[_0x17fe23(0x21b)]=![],this[_0x17fe23(0x252)]=null,this[_0x17fe23(0x234)]=null,this[_0x17fe23(0x224)]=setup['SYSTEM_MODES'][_0x17fe23(0x182)],this[_0x17fe23(0x1aa)]=![],this['lastAlertState']=![],this['analysisTimer']=null,this[_0x17fe23(0x18b)]=null,this[_0x17fe23(0x1ea)]=null,this['driftAnalysisTimer']=null,this[_0x17fe23(0x220)]=null,this[_0x17fe23(0x1e0)]=null,this['healthTrendInterval']=null,this[_0x17fe23(0x278)]=![],this['lastTrackerEventTime']=Date['now'](),this['on']('ready',this[_0x17fe23(0x1f3)][_0x17fe23(0x22e)](this)),this['on'](_0x17fe23(0x257),this[_0x17fe23(0x1b6)][_0x17fe23(0x22e)](this)),this['on']('unload',this['onUnload'][_0x17fe23(0x22e)](this)),this['on']('message',this[_0x17fe23(0x1be)]['bind'](this));}async[a0_0x52fbf2(0x1f3)](){const _0x4338c2=a0_0x52fbf2;this[_0x4338c2(0x25b)][_0x4338c2(0x219)](_0x4338c2(0x222)+this[_0x4338c2(0x250)]+')\x20-\x20Phase\x20D\x20(Sensor\x20Transparency)');if(!installer[_0x4338c2(0x245)](this,()=>this[_0x4338c2(0x25d)]()))return;}async[a0_0x52fbf2(0x25d)](){const _0x5da197=a0_0x52fbf2;await setup['initZombies'](this);try{this[_0x5da197(0x1aa)]=await setup[_0x5da197(0x1a4)](this['config']['licenseKey']);}catch(_0x8df16c){}if(!this[_0x5da197(0x1a0)][_0x5da197(0x201)]||this['config']['inactivityThresholdHours']<0.1)this[_0x5da197(0x1a0)][_0x5da197(0x201)]=0xc;await setup[_0x5da197(0x24a)](this),await setup[_0x5da197(0x267)](this);if(this[_0x5da197(0x1a0)][_0x5da197(0x230)])try{this[_0x5da197(0x252)]=new GoogleGenerativeAI(this[_0x5da197(0x1a0)][_0x5da197(0x230)]),this[_0x5da197(0x234)]=this[_0x5da197(0x252)][_0x5da197(0x1e1)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5da197(0x18a)}}),this['log']['info'](_0x5da197(0x1c3));}catch(_0x177a56){this[_0x5da197(0x25b)][_0x5da197(0x1c4)](_0x5da197(0x207)+_0x177a56['message']);}await setup[_0x5da197(0x1ff)](this),await this[_0x5da197(0x25a)](),await this[_0x5da197(0x22d)](_0x5da197(0x1cc),{'type':'state','common':{'name':_0x5da197(0x1d8),'type':_0x5da197(0x1fa),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x5da197(0x22d)](_0x5da197(0x28a),{'type':_0x5da197(0x23d),'common':{'name':_0x5da197(0x198),'type':_0x5da197(0x1fa),'role':_0x5da197(0x231),'read':!![],'write':![]},'native':{}}),await this[_0x5da197(0x22d)]('analysis.energy.warmupTimes',{'type':'state','common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':_0x5da197(0x1fa),'role':_0x5da197(0x231),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x5da197(0x206),{'type':_0x5da197(0x23d),'common':{'name':_0x5da197(0x26d),'type':_0x5da197(0x1fa),'role':_0x5da197(0x231),'read':!![],'write':!![],'def':_0x5da197(0x193)},'native':{}}),await this[_0x5da197(0x22d)](_0x5da197(0x279),{'type':'state','common':{'name':_0x5da197(0x1d3),'type':_0x5da197(0x1fa),'role':_0x5da197(0x231),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x5da197(0x22d)](_0x5da197(0x1f5),{'type':_0x5da197(0x23d),'common':{'name':'General\x20Activity\x20Trend\x20(%)','type':_0x5da197(0x22f),'role':_0x5da197(0x1e3),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x5da197(0x22d)]('analysis.health.gaitSensors',{'type':_0x5da197(0x23d),'common':{'name':_0x5da197(0x1d9),'type':'string','role':'text','read':!![],'write':![]},'native':{}});try{const _0x5c1915=await this[_0x5da197(0x17b)]('LTM.rawEventLog');if(_0x5c1915&&_0x5c1915['val'])this['rawEventLog']=JSON[_0x5da197(0x1cf)](_0x5c1915[_0x5da197(0x276)]);}catch(_0x29bade){this[_0x5da197(0x1c9)]=[];}try{const _0x32c805=await this[_0x5da197(0x17b)](_0x5da197(0x1ef));if(_0x32c805&&_0x32c805[_0x5da197(0x276)])this[_0x5da197(0x1e6)]=JSON[_0x5da197(0x1cf)](_0x32c805['val']);}catch(_0x38f0ef){this[_0x5da197(0x1e6)]=[];}const _0x3b829b=this['dailyDigests'][_0x5da197(0x1cb)]>=(this[_0x5da197(0x1a0)][_0x5da197(0x1c0)]||0x7)?_0x5da197(0x271)+this[_0x5da197(0x1e6)][_0x5da197(0x1cb)]+_0x5da197(0x186):_0x5da197(0x221)+this[_0x5da197(0x1e6)][_0x5da197(0x1cb)]+'/'+(this[_0x5da197(0x1a0)]['minDaysForBaseline']||0x7)+')';await this['setStateAsync']('LTM.baselineStatus',{'val':_0x3b829b,'ack':!![]}),this[_0x5da197(0x197)](_0x5da197(0x24b)),this[_0x5da197(0x197)]('LTM.triggerDailyDigest'),this['subscribeStates']('system.mode'),this['subscribeStates'](_0x5da197(0x1fc)),this[_0x5da197(0x197)](_0x5da197(0x194)),this['subscribeStates'](_0x5da197(0x1b4)),this[_0x5da197(0x197)](_0x5da197(0x223)),this[_0x5da197(0x197)](_0x5da197(0x266)),this['subscribeStates'](_0x5da197(0x1b9)),this[_0x5da197(0x197)](_0x5da197(0x1d5)),this[_0x5da197(0x197)](_0x5da197(0x203)),this['subscribeStates']('analysis.energy.mpcActive');const _0x417d02=this['config'][_0x5da197(0x235)];if(_0x417d02)for(const _0x609dcb of _0x417d02){await this[_0x5da197(0x1c2)](_0x609dcb['id']);}const _0x325e92=this['config']['presenceDevices'];if(_0x325e92)for(const _0x5704db of _0x325e92){await this[_0x5da197(0x1c2)](_0x5704db);}if(this['config']['notifyTelegramEnabled']&&this['config'][_0x5da197(0x285)])await this[_0x5da197(0x1c2)](this[_0x5da197(0x1a0)][_0x5da197(0x285)]+_0x5da197(0x284));setTimeout(()=>this[_0x5da197(0x184)](),0x1388);if(this['analysisTimer'])clearInterval(this['analysisTimer']);const _0x50aec6=this['config'][_0x5da197(0x1e9)]||0xf;_0x50aec6>0x0&&(this[_0x5da197(0x273)]=setInterval(()=>{const _0x5eba09=_0x5da197;this[_0x5eba09(0x215)](),automation['checkCalendarTriggers'](this);},_0x50aec6*0x3c*0x3e8));setTimeout(()=>automation[_0x5da197(0x242)](this),0x2710);this[_0x5da197(0x1a0)][_0x5da197(0x23e)]!==![]&&(this[_0x5da197(0x1e0)]=setInterval(()=>{const _0x3f7a96=_0x5da197;if(this[_0x3f7a96(0x1aa)]){const _0x1e74e9=Date[_0x3f7a96(0x19c)](),_0x208dc7=this[_0x3f7a96(0x210)]||_0x1e74e9,_0x3e1ab2=(_0x1e74e9-_0x208dc7)/0x3e8;_0x3e1ab2>0x2&&(this[_0x3f7a96(0x210)]=_0x1e74e9,pythonBridge[_0x3f7a96(0x289)](this,_0x3f7a96(0x214),{'room':null,'dt':_0x3e1ab2}));}},0xbb8));if(this['healthTrendInterval'])clearInterval(this[_0x5da197(0x1dd)]);this[_0x5da197(0x1dd)]=setInterval(()=>{const _0x21205b=_0x5da197;this[_0x21205b(0x1aa)]&&(this['log'][_0x21205b(0x219)](_0x21205b(0x190)),this[_0x21205b(0x189)]());},0x4*0x3c*0x3c*0x3e8),schedulers[_0x5da197(0x27e)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x5da197(0x23a)](this,()=>aiAgent[_0x5da197(0x249)](this)),schedulers[_0x5da197(0x269)](this,()=>aiAgent[_0x5da197(0x1ca)](this)),pythonBridge['startService'](this,installer[_0x5da197(0x200)]),setTimeout(async()=>{const _0x183462=_0x5da197;await topology[_0x183462(0x282)](this);try{const _0x371fe9=await this[_0x183462(0x17b)]('analysis.topology.structure');if(_0x371fe9&&_0x371fe9[_0x183462(0x276)])pythonBridge['send'](this,'SET_TOPOLOGY',JSON[_0x183462(0x1cf)](_0x371fe9[_0x183462(0x276)]));}catch(_0x56685f){}this[_0x183462(0x189)](),this[_0x183462(0x232)](),this[_0x183462(0x1a8)](),this['updateHealthVector']();},0x1388);}[a0_0x52fbf2(0x1c1)](_0x5a5485){const _0x4ace00=a0_0x52fbf2;if(this[_0x4ace00(0x273)])clearInterval(this['analysisTimer']);if(this[_0x4ace00(0x22b)])clearInterval(this[_0x4ace00(0x22b)]);if(this[_0x4ace00(0x1e0)])clearInterval(this[_0x4ace00(0x1e0)]);if(this[_0x4ace00(0x1dd)])clearInterval(this[_0x4ace00(0x1dd)]);if(this['ltmJob'])this[_0x4ace00(0x18b)]['cancel']();if(this['modeResetJob'])this[_0x4ace00(0x1ea)]['cancel']();if(this['briefingJob'])this['briefingJob']['cancel']();recorder['abortExitTimer'](this),pythonBridge[_0x4ace00(0x1b1)](this),_0x5a5485();}async[a0_0x52fbf2(0x1b6)](_0x516161,_0x1964d1){const _0x42070b=a0_0x52fbf2;if(!_0x1964d1||this[_0x42070b(0x278)])return;if(_0x516161[_0x42070b(0x22a)]('telegram')&&_0x516161['endsWith'](_0x42070b(0x1ad))&&_0x1964d1[_0x42070b(0x276)])return;if(_0x516161===this['namespace']+'.system.mode'){if(_0x1964d1['val']&&Object[_0x42070b(0x1e8)](setup[_0x42070b(0x1a7)])['includes'](_0x1964d1[_0x42070b(0x276)])){this[_0x42070b(0x224)]=_0x1964d1[_0x42070b(0x276)];if(_0x1964d1[_0x42070b(0x276)]===setup['SYSTEM_MODES'][_0x42070b(0x25e)])await recorder[_0x42070b(0x23f)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x42070b(0x1aa)]){let _0x38e4f7=![],_0x40af63=0x0,_0x432bb6=_0x42070b(0x24d);if(this[_0x42070b(0x224)]==='party')_0x38e4f7=!![],_0x40af63=0x168,_0x432bb6=_0x42070b(0x216);else this[_0x42070b(0x224)]===_0x42070b(0x270)&&(_0x38e4f7=!![],_0x40af63=0x5a0,_0x432bb6=_0x42070b(0x1a2));pythonBridge[_0x42070b(0x289)](this,_0x42070b(0x253),{'active':_0x38e4f7,'duration':_0x40af63,'label':_0x432bb6}),await this[_0x42070b(0x1ed)](_0x42070b(0x204),{'val':JSON[_0x42070b(0x20a)]({'active':_0x38e4f7,'label':_0x432bb6,'timestamp':Date[_0x42070b(0x19c)]()}),'ack':!![]});}}if(!_0x1964d1[_0x42070b(0x277)])this[_0x42070b(0x238)](_0x516161,{'val':this[_0x42070b(0x224)],'ack':!![]});return;}if(!_0x1964d1['ack']){if(_0x516161[_0x42070b(0x22a)](_0x42070b(0x24b))&&_0x1964d1[_0x42070b(0x276)]){this[_0x42070b(0x238)](_0x516161,{'val':![],'ack':!![]}),aiAgent[_0x42070b(0x212)](this);return;}if(_0x516161[_0x42070b(0x22a)](_0x42070b(0x26f))&&_0x1964d1[_0x42070b(0x276)]){this[_0x42070b(0x238)](_0x516161,{'val':![],'ack':!![]});if(this[_0x42070b(0x1aa)])aiAgent[_0x42070b(0x227)](this,pythonBridge);return;}if(_0x516161['includes'](_0x42070b(0x20d))&&_0x1964d1[_0x42070b(0x276)]){this[_0x42070b(0x238)](_0x516161,{'val':![],'ack':!![]}),aiAgent[_0x42070b(0x1ca)](this);return;}if(_0x516161[_0x42070b(0x22a)]('automation.triggerAction')&&_0x1964d1['val']){this['setState'](_0x516161,{'val':![],'ack':!![]}),aiAgent[_0x42070b(0x1ce)](this);return;}if(_0x516161['includes'](_0x42070b(0x223))&&_0x1964d1[_0x42070b(0x276)]){this[_0x42070b(0x238)](_0x516161,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x3ba477=await this[_0x42070b(0x17b)](_0x42070b(0x1a5));if(_0x3ba477&&_0x3ba477[_0x42070b(0x276)]){const _0x4e2e79=JSON[_0x42070b(0x1cf)](_0x3ba477['val']);this[_0x42070b(0x1ed)](_0x42070b(0x17e),{'val':_0x42070b(0x1a1),'ack':!![]}),pythonBridge[_0x42070b(0x289)](this,_0x42070b(0x241),{'sequences':_0x4e2e79});}}catch(_0x527fe9){}return;}if(_0x516161['includes'](_0x42070b(0x266))&&_0x1964d1[_0x42070b(0x276)]){this['setState'](_0x516161,{'val':![],'ack':!![]});if(this[_0x42070b(0x1aa)])try{const _0x2a002b=await this[_0x42070b(0x17b)](_0x42070b(0x1ef));if(_0x2a002b&&_0x2a002b[_0x42070b(0x276)])pythonBridge[_0x42070b(0x289)](this,'TRAIN_HEALTH',{'digests':JSON[_0x42070b(0x1cf)](_0x2a002b['val'])});}catch(_0x412e75){}return;}if(_0x516161[_0x42070b(0x22a)]('analysis.training.triggerEnergy')&&_0x1964d1[_0x42070b(0x276)]){this[_0x42070b(0x238)](_0x516161,{'val':![],'ack':!![]});if(this[_0x42070b(0x1aa)])try{const _0x7e4f6=await this[_0x42070b(0x17b)]('LTM.trainingData.thermodynamics');if(_0x7e4f6&&_0x7e4f6[_0x42070b(0x276)])pythonBridge[_0x42070b(0x289)](this,_0x42070b(0x19f),{'points':JSON[_0x42070b(0x1cf)](_0x7e4f6['val'])});}catch(_0x5686cb){}return;}if(_0x516161[_0x42070b(0x22a)]('analysis.training.triggerComfort')&&_0x1964d1[_0x42070b(0x276)]){this[_0x42070b(0x238)](_0x516161,{'val':![],'ack':!![]});if(this[_0x42070b(0x1aa)])try{const _0x5d4a79=await this[_0x42070b(0x17b)](_0x42070b(0x26a));if(_0x5d4a79&&_0x5d4a79[_0x42070b(0x276)])pythonBridge[_0x42070b(0x289)](this,'TRAIN_COMFORT',{'events':JSON['parse'](_0x5d4a79[_0x42070b(0x276)])});}catch(_0x5be727){}return;}if(_0x516161[_0x42070b(0x22a)](_0x42070b(0x203))&&_0x1964d1['val']){this[_0x42070b(0x238)](_0x516161,{'val':![],'ack':!![]}),topology['updateTopology'](this);return;}}if(this[_0x42070b(0x1a0)][_0x42070b(0x1b2)]&&this['config'][_0x42070b(0x1b2)][_0x42070b(0x22a)](_0x516161)){await this[_0x42070b(0x184)]();return;}const _0x5c3f5b=(this[_0x42070b(0x1a0)]['devices']||[])[_0x42070b(0x1db)](_0x50fb16=>_0x50fb16['id']===_0x516161);if(_0x5c3f5b){const _0x387869=await recorder['processSensorEvent'](this,_0x516161,_0x1964d1,_0x5c3f5b);_0x387869&&_0x387869[_0x42070b(0x265)]===_0x42070b(0x1d6)&&_0x387869[_0x42070b(0x1bb)]&&this[_0x42070b(0x1aa)]&&deadMan[_0x42070b(0x1b8)](this,_0x387869[_0x42070b(0x1bb)]),(_0x5c3f5b[_0x42070b(0x265)]==='temperature'||_0x5c3f5b['type']===_0x42070b(0x23c))&&automation['cleanupGhostInterventions'](this);}}async['onMessage'](_0x6d6b18){const _0x88bb0d=a0_0x52fbf2;if(typeof _0x6d6b18==='object'&&_0x6d6b18['message']){if(_0x6d6b18[_0x88bb0d(0x19d)]===_0x88bb0d(0x261))try{const _0x5ed6d7=await automation[_0x88bb0d(0x19e)](this);this['sendTo'](_0x6d6b18['from'],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![],'results':_0x5ed6d7},_0x6d6b18['callback']);}catch(_0x391584){this[_0x88bb0d(0x1cd)](_0x6d6b18['from'],_0x6d6b18[_0x88bb0d(0x19d)],{'success':![],'error':_0x391584[_0x88bb0d(0x259)]},_0x6d6b18[_0x88bb0d(0x258)]);}else{if(_0x6d6b18['command']===_0x88bb0d(0x17d))try{const {current_temps:_0x54a5c4,t_out:_0x56383d,targets:_0x7eb8c5,t_forecast:_0x186d3d}=_0x6d6b18['message'],_0x1d79b7=[];let _0x1170fe={};try{const _0x41ec36=await this[_0x88bb0d(0x17b)]('analysis.energy.insulationScore');if(_0x41ec36&&_0x41ec36[_0x88bb0d(0x276)]){const _0x48ac11=JSON[_0x88bb0d(0x1cf)](_0x41ec36[_0x88bb0d(0x276)]);_0x1170fe=_0x48ac11['scores']||_0x48ac11;}}catch(_0x3da655){}const _0x3216b8=_0x186d3d!==undefined&&_0x186d3d!==null?(_0x56383d+_0x186d3d)/0x2:_0x56383d;for(const [_0x8fb17f,_0x25acca]of Object[_0x88bb0d(0x205)](_0x54a5c4)){const _0x39be46=_0x7eb8c5[_0x8fb17f]||0x15;if(_0x25acca<=_0x39be46)continue;let _0x4b583e=_0x1170fe[_0x8fb17f]||-0.5;if(_0x4b583e>=0x0)_0x4b583e=-0.5;const _0x8c0c88=Math['abs'](_0x4b583e),_0x30e56c=_0x25acca-_0x39be46;let _0x46d397=Math['floor'](_0x30e56c/_0x8c0c88*0x3c);const _0x70e729=_0x25acca-_0x56383d,_0x2172fb=_0x25acca-_0x3216b8;if(_0x2172fb!==0x0&&_0x70e729!==0x0){const _0x5a137d=_0x70e729/_0x2172fb;_0x46d397=Math[_0x88bb0d(0x24e)](_0x46d397*_0x5a137d);}if(_0x46d397>0xf){if(_0x46d397>0xf0)_0x46d397=0xf0;_0x1d79b7['push']({'room':_0x8fb17f,'minutes_safe':_0x46d397,'target':_0x39be46,'current':_0x25acca,'savings_msg':_0x88bb0d(0x256)+_0x46d397+_0x88bb0d(0x18f)});}}_0x1d79b7[_0x88bb0d(0x183)]((_0x327a34,_0x5e21db)=>_0x5e21db[_0x88bb0d(0x226)]-_0x327a34[_0x88bb0d(0x226)]),this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![],'proposals':_0x1d79b7},_0x6d6b18['callback']);}catch(_0x21ff84){this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':![],'error':_0x21ff84[_0x88bb0d(0x259)]},_0x6d6b18['callback']);}else{if(_0x6d6b18[_0x88bb0d(0x19d)]===_0x88bb0d(0x196))try{const _0x395f6e=_0x6d6b18[_0x88bb0d(0x259)]['key'],_0x33afe4=_0x88bb0d(0x279),_0x16b4a4=await this[_0x88bb0d(0x17b)](_0x33afe4);let _0x12fcc6={};if(_0x16b4a4&&_0x16b4a4['val'])try{_0x12fcc6=JSON[_0x88bb0d(0x1cf)](_0x16b4a4['val']);}catch(_0x139c95){}_0x395f6e&&_0x12fcc6[_0x395f6e]?(delete _0x12fcc6[_0x395f6e],await this[_0x88bb0d(0x1ed)](_0x33afe4,{'val':JSON[_0x88bb0d(0x20a)](_0x12fcc6),'ack':!![]}),this[_0x88bb0d(0x25b)][_0x88bb0d(0x219)]('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0x395f6e+_0x88bb0d(0x26b)),this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![]},_0x6d6b18[_0x88bb0d(0x258)])):this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':![],'error':_0x88bb0d(0x281)},_0x6d6b18[_0x88bb0d(0x258)]);}catch(_0x99c2e3){this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':![],'error':_0x99c2e3[_0x88bb0d(0x259)]},_0x6d6b18[_0x88bb0d(0x258)]);}else{if(_0x6d6b18['command']===_0x88bb0d(0x17a))await this[_0x88bb0d(0x1ed)](_0x88bb0d(0x20e),{'val':![],'ack':!![]}),await this[_0x88bb0d(0x1ed)](_0x88bb0d(0x1ae),{'val':'','ack':!![]}),await this[_0x88bb0d(0x1ed)]('analysis.automation.targetId',{'val':'','ack':!![]}),this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![]},_0x6d6b18[_0x88bb0d(0x258)]);else{if(_0x6d6b18['command']===_0x88bb0d(0x199)){const {targetId:_0x2013d2,targetValue:_0x1bcf87}=_0x6d6b18['message'];await this[_0x88bb0d(0x1ed)](_0x88bb0d(0x20e),{'val':!![],'ack':!![]}),await this[_0x88bb0d(0x1ed)](_0x88bb0d(0x1ae),{'val':_0x88bb0d(0x1e2),'ack':!![]}),await this['setStateAsync']('analysis.automation.targetId',{'val':_0x2013d2,'ack':!![]}),await this[_0x88bb0d(0x1ed)]('analysis.automation.targetValue',{'val':String(_0x1bcf87),'ack':!![]}),this[_0x88bb0d(0x1cd)](_0x6d6b18['from'],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![]},_0x6d6b18[_0x88bb0d(0x258)]);}else{if(_0x6d6b18[_0x88bb0d(0x19d)]===_0x88bb0d(0x19b))try{const _0x579277=_0x6d6b18[_0x88bb0d(0x259)]['apiKey'];if(!_0x579277)throw new Error(_0x88bb0d(0x26e));const _0x14dda2=new GoogleGenerativeAI(_0x579277),_0x543fb7=_0x14dda2[_0x88bb0d(0x1e1)]({'model':GEMINI_MODEL}),_0x4d6ec0=await _0x543fb7[_0x88bb0d(0x1c5)](_0x88bb0d(0x208)),_0x3f25d5=await _0x4d6ec0['response'];if(_0x3f25d5[_0x88bb0d(0x23b)]())this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![],'message':_0x88bb0d(0x1df)},_0x6d6b18[_0x88bb0d(0x258)]);else throw new Error('Keine\x20Antwort\x20von\x20Gemini');}catch(_0x31373e){this['sendTo'](_0x6d6b18['from'],_0x6d6b18[_0x88bb0d(0x19d)],{'success':![],'message':_0x31373e[_0x88bb0d(0x259)]},_0x6d6b18['callback']);}else{if(_0x6d6b18[_0x88bb0d(0x19d)]===_0x88bb0d(0x288))try{const _0x3ef0ba=await scanner[_0x88bb0d(0x1b5)](this,_0x6d6b18[_0x88bb0d(0x259)]||{});this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18['command'],{'success':!![],'devices':_0x3ef0ba},_0x6d6b18[_0x88bb0d(0x258)]);}catch(_0x5803ff){this[_0x88bb0d(0x1cd)](_0x6d6b18['from'],_0x6d6b18['command'],{'success':![],'error':_0x5803ff[_0x88bb0d(0x259)]},_0x6d6b18[_0x88bb0d(0x258)]);}else{if(_0x6d6b18[_0x88bb0d(0x19d)]==='updateTopologyMatrix')try{const {matrix:_0x3826df}=_0x6d6b18[_0x88bb0d(0x259)],_0x2f2b00=await this['getStateAsync'](_0x88bb0d(0x185));if(_0x2f2b00&&_0x2f2b00[_0x88bb0d(0x276)]){const _0x406bfc=JSON[_0x88bb0d(0x1cf)](_0x2f2b00[_0x88bb0d(0x276)]);_0x406bfc[_0x88bb0d(0x244)]=_0x3826df,_0x406bfc[_0x88bb0d(0x19a)]=Date[_0x88bb0d(0x19c)](),await this['setStateAsync']('analysis.topology.structure',{'val':JSON[_0x88bb0d(0x20a)](_0x406bfc),'ack':!![]}),pythonBridge[_0x88bb0d(0x289)](this,_0x88bb0d(0x21e),_0x406bfc);}this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![]},_0x6d6b18[_0x88bb0d(0x258)]);}catch(_0x365569){this[_0x88bb0d(0x25b)][_0x88bb0d(0x1c4)](_0x365569);}else{if(_0x6d6b18[_0x88bb0d(0x19d)]===_0x88bb0d(0x192))this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18['command'],{'success':!![],'dailyDigests':this[_0x88bb0d(0x1e6)]||[],'analysisHistory':this[_0x88bb0d(0x1b0)]||[]},_0x6d6b18[_0x88bb0d(0x258)]);else{if(_0x6d6b18[_0x88bb0d(0x19d)]==='getOverviewData'){const _0x1c1e53=this[_0x88bb0d(0x1e6)]['length'],_0x389007=new Array(0x18)[_0x88bb0d(0x27d)](0x0),_0x149476=new Date()[_0x88bb0d(0x20c)](0x0,0x0,0x0,0x0);this[_0x88bb0d(0x248)]&&this[_0x88bb0d(0x248)][_0x88bb0d(0x246)](_0xc29bb2=>{const _0x518664=_0x88bb0d;if(_0xc29bb2[_0x518664(0x180)]>=_0x149476){const _0x45a0c0=new Date(_0xc29bb2[_0x518664(0x180)])[_0x518664(0x218)]();if(_0x45a0c0>=0x0&&_0x45a0c0<0x18)_0x389007[_0x45a0c0]++;}});let _0x2d8054=![],_0x1ba2c0='',_0x414fba='',_0x1a9f22='';try{const _0x23abbb=await this[_0x88bb0d(0x17b)](_0x88bb0d(0x20e));if(_0x23abbb&&_0x23abbb[_0x88bb0d(0x276)]){_0x2d8054=!![];const _0x31d626=await this[_0x88bb0d(0x17b)](_0x88bb0d(0x1ae));_0x1ba2c0=_0x31d626?_0x31d626[_0x88bb0d(0x276)]:'';const _0x2f831a=await this[_0x88bb0d(0x17b)](_0x88bb0d(0x1ee));_0x414fba=_0x2f831a?_0x2f831a[_0x88bb0d(0x276)]:'';const _0x34ae0a=await this['getStateAsync'](_0x88bb0d(0x1d4));_0x1a9f22=_0x34ae0a?_0x34ae0a[_0x88bb0d(0x276)]:'';}}catch(_0x288d2d){}const _0x48581b=await this[_0x88bb0d(0x1f4)](),_0x1a4970=(this[_0x88bb0d(0x1a0)][_0x88bb0d(0x235)]||[])[_0x88bb0d(0x1c6)](_0x20181f=>_0x20181f[_0x88bb0d(0x21a)]),_0xab028f=_0x48581b&&_0x1a4970;this[_0x88bb0d(0x1cd)](_0x6d6b18['from'],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![],'eventHistory':this[_0x88bb0d(0x248)]['slice'](0x0,0xf),'stats':{'digestCount':_0x1c1e53,'isPresent':this[_0x88bb0d(0x1e5)],'hourlyActivity':_0x389007,'solarActive':_0xab028f},'automation':{'detected':_0x2d8054,'description':_0x1ba2c0,'targetId':_0x414fba,'targetValue':_0x1a9f22}},_0x6d6b18[_0x88bb0d(0x258)]);}else{if(_0x6d6b18[_0x88bb0d(0x19d)]==='getEnums'){const _0x3a4864=await this[_0x88bb0d(0x1bf)]('enum.functions.*',_0x88bb0d(0x1de)),_0x5361bd=[];if(_0x3a4864)for(const _0x3f6dde in _0x3a4864){const _0x6c2fee=_0x3a4864[_0x3f6dde],_0x57f3bb=(_0x6c2fee['common']&&typeof _0x6c2fee['common']['name']===_0x88bb0d(0x287)?_0x6c2fee[_0x88bb0d(0x1d1)][_0x88bb0d(0x264)]['de']:_0x6c2fee['common'][_0x88bb0d(0x264)])||_0x6c2fee[_0x88bb0d(0x1d1)][_0x88bb0d(0x264)];_0x5361bd[_0x88bb0d(0x1af)]({'id':_0x3f6dde,'name':_0x57f3bb});}const _0x2c61f8=await this['getForeignObjectsAsync']('enum.rooms.*',_0x88bb0d(0x1de)),_0x8ebb06=[];if(_0x2c61f8)for(const _0x32a8b7 in _0x2c61f8){const _0x3855e=_0x2c61f8[_0x32a8b7],_0x1ea44b=(_0x3855e['common']&&typeof _0x3855e['common'][_0x88bb0d(0x264)]===_0x88bb0d(0x287)?_0x3855e['common'][_0x88bb0d(0x264)]['de']:_0x3855e[_0x88bb0d(0x1d1)]['name'])||_0x32a8b7[_0x88bb0d(0x1d2)]('.')[_0x88bb0d(0x255)]();_0x8ebb06[_0x88bb0d(0x1af)](_0x1ea44b);}this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![],'enums':_0x5361bd,'rooms':_0x8ebb06},_0x6d6b18[_0x88bb0d(0x258)]);}else{if(_0x6d6b18[_0x88bb0d(0x19d)]===_0x88bb0d(0x1fd))try{let _0x3ca460='Kein\x20Wetter-Adapter',_0x55fa57='Kein\x20Kalender-Adapter';if(this[_0x88bb0d(0x1a0)][_0x88bb0d(0x1c7)]){const _0x11ff19=await recorder['getOutsideTemperatureNumeric'](this);_0x3ca460=_0x11ff19!==null?_0x11ff19+'Â°C':_0x88bb0d(0x1a9);}if(this['config'][_0x88bb0d(0x1e7)]){const _0x3c9c86=await this[_0x88bb0d(0x211)](_0x88bb0d(0x1a6)+this[_0x88bb0d(0x1a0)][_0x88bb0d(0x1e7)]);_0x55fa57=_0x3c9c86?_0x88bb0d(0x1f9):_0x88bb0d(0x188);}this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![],'weather':_0x3ca460,'calendar':_0x55fa57},_0x6d6b18[_0x88bb0d(0x258)]);}catch(_0x12d51a){this[_0x88bb0d(0x1cd)](_0x6d6b18['from'],_0x6d6b18[_0x88bb0d(0x19d)],{'success':![],'error':_0x12d51a[_0x88bb0d(0x259)]},_0x6d6b18[_0x88bb0d(0x258)]);}else{if(_0x6d6b18['command']===_0x88bb0d(0x202))try{const _0x3e780f=_0x6d6b18[_0x88bb0d(0x259)][_0x88bb0d(0x237)],_0x114887=await this[_0x88bb0d(0x27a)](_0x3e780f+_0x88bb0d(0x1ec));let _0x53c9c5=[];if(_0x114887&&_0x114887[_0x88bb0d(0x276)]){const _0x54845d=JSON[_0x88bb0d(0x1cf)](_0x114887['val']),_0x5b932a=new Set();Array['isArray'](_0x54845d)&&_0x54845d[_0x88bb0d(0x246)](_0x3ade25=>{const _0x1a9a6e=_0x88bb0d;if(_0x3ade25[_0x1a9a6e(0x240)])_0x5b932a[_0x1a9a6e(0x233)](_0x3ade25[_0x1a9a6e(0x240)]);else{if(_0x3ade25[_0x1a9a6e(0x1f7)])_0x5b932a['add'](_0x3ade25[_0x1a9a6e(0x1f7)]);}}),_0x53c9c5=Array['from'](_0x5b932a)['sort']();}if(_0x53c9c5[_0x88bb0d(0x1cb)]===0x0)_0x53c9c5=[_0x88bb0d(0x24c)];this['sendTo'](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':!![],'names':_0x53c9c5},_0x6d6b18['callback']);}catch(_0x25a1c4){this[_0x88bb0d(0x1cd)](_0x6d6b18['from'],_0x6d6b18[_0x88bb0d(0x19d)],{'success':![],'error':_0x25a1c4[_0x88bb0d(0x259)]},_0x6d6b18[_0x88bb0d(0x258)]);}else{if(_0x6d6b18['command']===_0x88bb0d(0x1c8))try{await setup['sendNotification'](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18['command'],{'success':!![],'message':_0x88bb0d(0x280)},_0x6d6b18[_0x88bb0d(0x258)]);}catch(_0x497c57){this[_0x88bb0d(0x25b)][_0x88bb0d(0x1c4)](_0x88bb0d(0x1f1)+_0x497c57[_0x88bb0d(0x259)]),this[_0x88bb0d(0x1cd)](_0x6d6b18[_0x88bb0d(0x268)],_0x6d6b18[_0x88bb0d(0x19d)],{'success':![],'message':_0x88bb0d(0x251)+_0x497c57[_0x88bb0d(0x259)]},_0x6d6b18[_0x88bb0d(0x258)]);}}}}}}}}}}}}}}}}async[a0_0x52fbf2(0x25a)](){const _0x12fc47=a0_0x52fbf2;try{const _0x4b62ca=await this[_0x12fc47(0x17b)](setup[_0x12fc47(0x21f)]);_0x4b62ca&&_0x4b62ca[_0x12fc47(0x276)]&&Object[_0x12fc47(0x1e8)](setup['SYSTEM_MODES'])['includes'](_0x4b62ca[_0x12fc47(0x276)])?this[_0x12fc47(0x224)]=_0x4b62ca[_0x12fc47(0x276)]:(this[_0x12fc47(0x224)]=setup['SYSTEM_MODES'][_0x12fc47(0x182)],await this['setStateAsync'](setup[_0x12fc47(0x21f)],{'val':setup[_0x12fc47(0x1a7)][_0x12fc47(0x182)],'ack':!![]}));}catch(_0x53fbe7){this[_0x12fc47(0x224)]=setup[_0x12fc47(0x1a7)][_0x12fc47(0x182)];}}async[a0_0x52fbf2(0x184)](){const _0x185de3=a0_0x52fbf2;try{const _0x2e04ba=this[_0x185de3(0x1a0)][_0x185de3(0x1b2)]||[];let _0x278ffe=![];const _0x1d32e8=[];for(const _0xbb5525 of _0x2e04ba){try{const _0x28e8e4=await this['getForeignStateAsync'](_0xbb5525);_0x28e8e4&&(_0x28e8e4[_0x185de3(0x276)]===!![]||_0x28e8e4[_0x185de3(0x276)]==='online'||_0x28e8e4[_0x185de3(0x276)]===0x1)&&(_0x278ffe=!![],_0x1d32e8[_0x185de3(0x1af)](_0xbb5525));}catch(_0x1a3668){}}return await this[_0x185de3(0x1ed)](_0x185de3(0x24f),{'val':_0x1d32e8['join'](',\x20'),'ack':!![]}),_0x278ffe&&(this[_0x185de3(0x27f)]&&(this['log'][_0x185de3(0x219)]('WiFi\x20Presence\x20detected.'),recorder[_0x185de3(0x27b)](this)),!this['isPresent']&&this[_0x185de3(0x224)]===setup[_0x185de3(0x1a7)][_0x185de3(0x182)]&&await recorder[_0x185de3(0x23f)](this,!![])),_0x278ffe;}catch(_0x7d1c1){return![];}}async[a0_0x52fbf2(0x215)](){const _0x2c2e51=a0_0x52fbf2;this[_0x2c2e51(0x25b)][_0x2c2e51(0x1bd)](_0x2c2e51(0x1b7)),await aiAgent[_0x2c2e51(0x212)](this),this[_0x2c2e51(0x286)](),this[_0x2c2e51(0x232)](),this[_0x2c2e51(0x1a8)]();}async[a0_0x52fbf2(0x1f4)](){const _0x12627c=a0_0x52fbf2,_0x346419=[_0x12627c(0x1d0),_0x12627c(0x20f),_0x12627c(0x25f)],_0x4ee76d=[_0x12627c(0x263),_0x12627c(0x260),_0x12627c(0x1f0)];for(const _0xbcdc4e of _0x346419){for(const _0x4b7377 of _0x4ee76d){try{const _0x477c33=_0xbcdc4e+'.'+_0x4b7377,_0x5d03a5=await this['getForeignStateAsync'](_0x477c33);if(_0x5d03a5&&_0x5d03a5['val']){const _0x4da06f=String(_0x5d03a5[_0x12627c(0x276)])[_0x12627c(0x239)]();if(_0x4da06f[_0x12627c(0x22a)](_0x12627c(0x1ba))||_0x4da06f[_0x12627c(0x22a)](_0x12627c(0x209))||_0x4da06f[_0x12627c(0x22a)](_0x12627c(0x18d))||_0x4da06f[_0x12627c(0x22a)]('clear')||_0x4da06f['includes']('heiter'))return!![];}}catch(_0x109824){}}}return![];}[a0_0x52fbf2(0x232)](){const _0x5f543f=a0_0x52fbf2;if(!this[_0x5f543f(0x1aa)])return;try{this[_0x5f543f(0x217)]('LTM.trainingData.sequences',(_0x50806b,_0x116465)=>{const _0x2a6fdc=_0x5f543f;_0x116465&&_0x116465[_0x2a6fdc(0x276)]&&pythonBridge[_0x2a6fdc(0x289)](this,_0x2a6fdc(0x1ac),{'sequences':JSON[_0x2a6fdc(0x1cf)](_0x116465[_0x2a6fdc(0x276)])});});}catch(_0x44e0fe){}}async[a0_0x52fbf2(0x1a8)](){const _0x388a98=a0_0x52fbf2;if(!this['isProVersion'])return;try{const _0x19ac17=await recorder[_0x388a98(0x275)](this);if(_0x19ac17===null)return;const _0x550d07={},_0x55ee36={},_0x25f481=this[_0x388a98(0x1a0)][_0x388a98(0x235)]||[];for(const _0x4e2342 of _0x25f481){if(_0x4e2342['type']==='temperature'&&_0x4e2342['location']){const _0x30f36a=this['sensorLastValues'][_0x4e2342['id']];if(_0x30f36a!==undefined)_0x550d07[_0x4e2342[_0x388a98(0x1bb)]]=_0x30f36a;if(_0x4e2342['isSolar'])_0x55ee36[_0x4e2342[_0x388a98(0x1bb)]]=!![];}}const _0x266e38=await this[_0x388a98(0x1f4)]();let _0x422d0c={};try{const _0x5bf39b=await this[_0x388a98(0x17b)](_0x388a98(0x206));if(_0x5bf39b&&_0x5bf39b[_0x388a98(0x276)])_0x422d0c=JSON['parse'](_0x5bf39b[_0x388a98(0x276)]);}catch(_0x5c374e){}Object[_0x388a98(0x1f8)](_0x550d07)['length']>0x0&&(pythonBridge[_0x388a98(0x289)](this,_0x388a98(0x1eb),{'current_temps':_0x550d07,'t_out':_0x19ac17,'is_sunny':_0x266e38,'solar_flags':_0x55ee36,'warmup_targets':_0x422d0c}),pythonBridge[_0x388a98(0x289)](this,_0x388a98(0x22c),{'current_temps':_0x550d07,'t_out':_0x19ac17,'targets':{}}));}catch(_0xbabaa2){}}[a0_0x52fbf2(0x286)](){const _0x1f2bd4=a0_0x52fbf2;if(!this[_0x1f2bd4(0x1c9)]||this[_0x1f2bd4(0x1c9)][_0x1f2bd4(0x1cb)]===0x0)return;const _0xf9422a=new Array(0x60)['fill'](0x0),_0x1d7b6e=new Date()[_0x1f2bd4(0x20c)](0x0,0x0,0x0,0x0);this[_0x1f2bd4(0x1c9)]['forEach'](_0x20a99c=>{const _0x46c52f=_0x1f2bd4,_0x3826b5=new Date(_0x20a99c['timestamp']);if(_0x3826b5[_0x46c52f(0x18c)]()>=_0x1d7b6e){const _0x559d8e=_0x3826b5['getHours'](),_0x415984=_0x3826b5[_0x46c52f(0x262)](),_0x3bb527=_0x559d8e*0x4+Math['floor'](_0x415984/0xf);if(_0x3bb527>=0x0&&_0x3bb527<0x60)_0xf9422a[_0x3bb527]++;}}),this['setStateAsync'](_0x1f2bd4(0x187),{'val':JSON[_0x1f2bd4(0x20a)](_0xf9422a),'ack':!![]});}[a0_0x52fbf2(0x189)](){const _0x4f4463=a0_0x52fbf2;if(!this[_0x4f4463(0x1e6)]||this[_0x4f4463(0x1e6)][_0x4f4463(0x1cb)]<0x2)return;const _0x44fae8=this[_0x4f4463(0x1e6)][_0x4f4463(0x1dc)](_0x5f500b=>{const _0x4ebb18=_0x4f4463,_0x32beae=(_0x5f500b[_0x4ebb18(0x225)]||'')[_0x4ebb18(0x239)]();return ACTIVITY_LEVEL_MAP[_0x32beae]||0x32;});pythonBridge['send'](this,_0x4f4463(0x1da),{'values':_0x44fae8,'tag':_0x4f4463(0x21c)});}}if(require['main']!==module)module[a0_0x52fbf2(0x1a3)]=_0x1317b3=>new CogniLiving(_0x1317b3);else new CogniLiving();