const a0_0x1cfafd=a0_0x3357;(function(_0x361457,_0x48370f){const _0x318a8d=a0_0x3357,_0x1c5782=_0x361457();while(!![]){try{const _0x6621ce=parseInt(_0x318a8d(0x115))/0x1+-parseInt(_0x318a8d(0x130))/0x2+parseInt(_0x318a8d(0x12e))/0x3*(parseInt(_0x318a8d(0x18c))/0x4)+parseInt(_0x318a8d(0x179))/0x5*(parseInt(_0x318a8d(0x15c))/0x6)+-parseInt(_0x318a8d(0x131))/0x7*(parseInt(_0x318a8d(0x18f))/0x8)+-parseInt(_0x318a8d(0x111))/0x9+parseInt(_0x318a8d(0x197))/0xa;if(_0x6621ce===_0x48370f)break;else _0x1c5782['push'](_0x1c5782['shift']());}catch(_0x27bd70){_0x1c5782['push'](_0x1c5782['shift']());}}}(a0_0x3a00,0x219a7));const a0_0x458547=(function(){let _0x43aad2=!![];return function(_0x323fcd,_0x5659bc){const _0x16e964=_0x43aad2?function(){const _0x4a71c8=a0_0x3357;if(_0x5659bc){const _0x1b17eb=_0x5659bc[_0x4a71c8(0x117)](_0x323fcd,arguments);return _0x5659bc=null,_0x1b17eb;}}:function(){};return _0x43aad2=![],_0x16e964;};}()),a0_0x2a196b=a0_0x458547(this,function(){const _0x59e0b2=a0_0x3357;return a0_0x2a196b[_0x59e0b2(0x18a)]()[_0x59e0b2(0x147)]('(((.+)+)+)+$')[_0x59e0b2(0x18a)]()[_0x59e0b2(0x15f)](a0_0x2a196b)[_0x59e0b2(0x147)](_0x59e0b2(0x139));});a0_0x2a196b();'use strict';function a0_0x3357(_0xd8821e,_0x52f4bf){const _0x554718=a0_0x3a00();return a0_0x3357=function(_0x2a196b,_0x458547){_0x2a196b=_0x2a196b-0xed;let _0x3a00ef=_0x554718[_0x2a196b];return _0x3a00ef;},a0_0x3357(_0xd8821e,_0x52f4bf);}const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x1cfafd(0x174)),installer=require('./lib/installer'),scanner=require(a0_0x1cfafd(0xf6)),schedulers=require(a0_0x1cfafd(0x16f)),topology=require('./lib/topology'),setup=require('./lib/setup'),recorder=require(a0_0x1cfafd(0x14c)),pythonBridge=require(a0_0x1cfafd(0x10a)),aiAgent=require(a0_0x1cfafd(0x168)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x24ac07){const _0x3d2b43=a0_0x1cfafd;super({..._0x24ac07,'name':_0x3d2b43(0x116)}),this[_0x3d2b43(0x184)]=[],this[_0x3d2b43(0x188)]=[],this[_0x3d2b43(0x185)]=[],this[_0x3d2b43(0xef)]=[],this['sensorLastValues']={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x3d2b43(0x182)]=!![],this[_0x3d2b43(0x10b)]=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this[_0x3d2b43(0x166)]=null,this[_0x3d2b43(0x14d)]=null,this[_0x3d2b43(0x187)]=setup[_0x3d2b43(0x12f)]['NORMAL'],this[_0x3d2b43(0x100)]=![],this[_0x3d2b43(0x12a)]=![],this['analysisTimer']=null,this['ltmJob']=null,this[_0x3d2b43(0x11b)]=null,this[_0x3d2b43(0x171)]=null,this[_0x3d2b43(0x123)]=null,this[_0x3d2b43(0x15a)]=![],this['on'](_0x3d2b43(0x170),this[_0x3d2b43(0x1a6)][_0x3d2b43(0xf2)](this)),this['on'](_0x3d2b43(0x17e),this[_0x3d2b43(0x172)]['bind'](this)),this['on'](_0x3d2b43(0xf8),this['onUnload']['bind'](this)),this['on']('message',this[_0x3d2b43(0x19f)][_0x3d2b43(0xf2)](this));}async[a0_0x1cfafd(0x1a6)](){const _0x1e21c9=a0_0x1cfafd;this[_0x1e21c9(0x181)][_0x1e21c9(0x175)](_0x1e21c9(0x1a5)+this[_0x1e21c9(0x1a1)]+')\x20-\x20Phase\x20C\x20(Stabilization)');if(!installer['checkAndInstall'](this,()=>this[_0x1e21c9(0x162)]()))return;}async[a0_0x1cfafd(0x162)](){const _0x15efcb=a0_0x1cfafd;await setup[_0x15efcb(0x1ab)](this);try{this[_0x15efcb(0x100)]=await setup['checkLicense'](this[_0x15efcb(0x17c)][_0x15efcb(0x155)]);}catch(_0x39260a){}if(!this[_0x15efcb(0x17c)][_0x15efcb(0xf9)]||this['config'][_0x15efcb(0xf9)]<0.1)this[_0x15efcb(0x17c)]['inactivityThresholdHours']=0xc;await setup[_0x15efcb(0x121)](this),await setup[_0x15efcb(0x101)](this);if(this[_0x15efcb(0x17c)][_0x15efcb(0x132)])try{this[_0x15efcb(0x166)]=new GoogleGenerativeAI(this['config']['geminiApiKey']),this[_0x15efcb(0x14d)]=this['genAI'][_0x15efcb(0x104)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x15efcb(0x191)}}),this[_0x15efcb(0x181)]['info']('Gemini\x20AI\x20initialized.');}catch(_0x28dc31){this['log']['error'](_0x15efcb(0x192)+_0x28dc31[_0x15efcb(0xf7)]);}await setup['createAllObjects'](this),await this[_0x15efcb(0x1a8)]();try{const _0x5ea5f8=await this[_0x15efcb(0x13b)](_0x15efcb(0x140));if(_0x5ea5f8&&_0x5ea5f8[_0x15efcb(0x12b)])this[_0x15efcb(0x185)]=JSON[_0x15efcb(0x135)](_0x5ea5f8[_0x15efcb(0x12b)]);}catch(_0x1b2b52){this[_0x15efcb(0x185)]=[];}try{const _0x490080=await this[_0x15efcb(0x13b)]('LTM.dailyDigests');if(_0x490080&&_0x490080[_0x15efcb(0x12b)])this[_0x15efcb(0xef)]=JSON['parse'](_0x490080['val']);}catch(_0x19f3f5){this[_0x15efcb(0xef)]=[];}const _0x2ede0f=this['dailyDigests'][_0x15efcb(0x17d)]>=(this[_0x15efcb(0x17c)]['minDaysForBaseline']||0x7)?_0x15efcb(0x108)+this[_0x15efcb(0xef)]['length']+_0x15efcb(0x14f):'Lernphase\x20('+this['dailyDigests'][_0x15efcb(0x17d)]+'/'+(this[_0x15efcb(0x17c)][_0x15efcb(0x161)]||0x7)+')';await this['setStateAsync'](_0x15efcb(0x143),{'val':_0x2ede0f,'ack':!![]}),this['subscribeStates'](_0x15efcb(0x114)),this[_0x15efcb(0x10d)](_0x15efcb(0x125)),this[_0x15efcb(0x10d)](_0x15efcb(0x106)),this[_0x15efcb(0x10d)](_0x15efcb(0x198)),this[_0x15efcb(0x10d)](_0x15efcb(0x145)),this[_0x15efcb(0x10d)](_0x15efcb(0x18d)),this[_0x15efcb(0x10d)]('analysis.training.triggerSecurity'),this[_0x15efcb(0x10d)](_0x15efcb(0x1ad)),this['subscribeStates'](_0x15efcb(0x11f)),this[_0x15efcb(0x10d)]('analysis.training.triggerComfort'),this['subscribeStates']('analysis.training.triggerTopology');const _0x16347b=this[_0x15efcb(0x17c)][_0x15efcb(0xff)];if(_0x16347b)for(const _0x39066c of _0x16347b){await this[_0x15efcb(0xfa)](_0x39066c['id']);}const _0x483ce0=this['config'][_0x15efcb(0x17b)];if(_0x483ce0)for(const _0x583407 of _0x483ce0){await this['subscribeForeignStatesAsync'](_0x583407);}if(this[_0x15efcb(0x17c)]['notifyTelegramEnabled']&&this[_0x15efcb(0x17c)][_0x15efcb(0xf4)])await this[_0x15efcb(0xfa)](this[_0x15efcb(0x17c)][_0x15efcb(0xf4)]+_0x15efcb(0x18b));setTimeout(()=>this[_0x15efcb(0x13f)](),0x1388);if(this[_0x15efcb(0x134)])clearInterval(this[_0x15efcb(0x134)]);const _0x55f255=this[_0x15efcb(0x17c)]['analysisInterval']||0xf;_0x55f255>0x0&&(this[_0x15efcb(0x134)]=setInterval(()=>{const _0x10a487=_0x15efcb;this[_0x10a487(0x1aa)]();},_0x55f255*0x3c*0x3e8)),schedulers[_0x15efcb(0x160)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers[_0x15efcb(0x146)](this),schedulers[_0x15efcb(0x158)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x15efcb(0xee)](this,()=>aiAgent[_0x15efcb(0x124)](this)),pythonBridge[_0x15efcb(0x127)](this,installer[_0x15efcb(0x1ac)]),setTimeout(async()=>{const _0x1f5ffb=_0x15efcb;await topology[_0x1f5ffb(0x183)](this);try{const _0x4b3f2d=await this[_0x1f5ffb(0x13b)]('analysis.topology.structure');if(_0x4b3f2d&&_0x4b3f2d[_0x1f5ffb(0x12b)])pythonBridge['send'](this,_0x1f5ffb(0x150),JSON[_0x1f5ffb(0x135)](_0x4b3f2d['val']));}catch(_0x1c2b5b){}this['runPythonHealthCheck'](),this['triggerGaitAnalysis'](),this[_0x1f5ffb(0x19d)](),this[_0x1f5ffb(0x196)]();},0x1388);}['onUnload'](_0x4d7e9c){const _0x2fe65f=a0_0x1cfafd;if(this['analysisTimer'])clearInterval(this[_0x2fe65f(0x134)]);if(this[_0x2fe65f(0x171)])clearInterval(this[_0x2fe65f(0x171)]);if(this[_0x2fe65f(0x17f)])this[_0x2fe65f(0x17f)][_0x2fe65f(0xf3)]();if(this[_0x2fe65f(0x11b)])this[_0x2fe65f(0x11b)][_0x2fe65f(0xf3)]();if(this[_0x2fe65f(0x123)])this[_0x2fe65f(0x123)][_0x2fe65f(0xf3)]();recorder[_0x2fe65f(0x13c)](this),pythonBridge[_0x2fe65f(0x169)](this),_0x4d7e9c();}async[a0_0x1cfafd(0x172)](_0x47b655,_0x34fbda){const _0x20d8a2=a0_0x1cfafd;if(!_0x34fbda||this[_0x20d8a2(0x15a)])return;if(_0x47b655['includes'](_0x20d8a2(0x126))&&_0x47b655[_0x20d8a2(0x164)](_0x20d8a2(0xf0))&&_0x34fbda['val'])return;if(_0x47b655===this[_0x20d8a2(0x13e)]+_0x20d8a2(0x11e)){if(_0x34fbda[_0x20d8a2(0x12b)]&&Object[_0x20d8a2(0xfe)](setup[_0x20d8a2(0x12f)])[_0x20d8a2(0x176)](_0x34fbda[_0x20d8a2(0x12b)])){this['currentSystemMode']=_0x34fbda['val'];if(_0x34fbda[_0x20d8a2(0x12b)]===setup[_0x20d8a2(0x12f)]['VACATION'])await recorder[_0x20d8a2(0x180)](this,![]);else await recorder[_0x20d8a2(0x180)](this,!![]);}if(!_0x34fbda[_0x20d8a2(0x14a)])this[_0x20d8a2(0x129)](_0x47b655,{'val':this[_0x20d8a2(0x187)],'ack':!![]});return;}if(!_0x34fbda[_0x20d8a2(0x14a)]){_0x47b655['includes'](_0x20d8a2(0x114))&&_0x34fbda[_0x20d8a2(0x12b)]&&(this[_0x20d8a2(0x129)](_0x47b655,{'val':![],'ack':!![]}),aiAgent[_0x20d8a2(0x193)](this));if(_0x47b655[_0x20d8a2(0x176)](_0x20d8a2(0xf1))&&_0x34fbda['val']){this[_0x20d8a2(0x129)](_0x47b655,{'val':![],'ack':!![]});if(this[_0x20d8a2(0x100)])aiAgent[_0x20d8a2(0x103)](this,pythonBridge);}_0x47b655[_0x20d8a2(0x176)](_0x20d8a2(0x12d))&&_0x34fbda['val']&&(this['setState'](_0x47b655,{'val':![],'ack':!![]}),aiAgent[_0x20d8a2(0x124)](this));_0x47b655[_0x20d8a2(0x176)](_0x20d8a2(0x19e))&&_0x34fbda[_0x20d8a2(0x12b)]&&(this['setState'](_0x47b655,{'val':![],'ack':!![]}),aiAgent[_0x20d8a2(0x16a)](this));if(_0x47b655[_0x20d8a2(0x176)](_0x20d8a2(0x17a))&&_0x34fbda[_0x20d8a2(0x12b)]){this[_0x20d8a2(0x129)](_0x47b655,{'val':![],'ack':!![]});if(this[_0x20d8a2(0x100)])try{const _0x2e4c42=await this['getStateAsync'](_0x20d8a2(0x148));if(_0x2e4c42&&_0x2e4c42[_0x20d8a2(0x12b)]){const _0x848a66=JSON[_0x20d8a2(0x135)](_0x2e4c42[_0x20d8a2(0x12b)]);this[_0x20d8a2(0x181)]['info'](_0x20d8a2(0x167)),this[_0x20d8a2(0x18e)](_0x20d8a2(0xed),{'val':_0x20d8a2(0x149),'ack':!![]}),pythonBridge[_0x20d8a2(0x16b)](this,_0x20d8a2(0x14b),{'sequences':_0x848a66});}}catch(_0x557789){this[_0x20d8a2(0x181)][_0x20d8a2(0x16e)](_0x20d8a2(0x177)+_0x557789[_0x20d8a2(0xf7)]);}}if(_0x47b655[_0x20d8a2(0x176)](_0x20d8a2(0x1ad))&&_0x34fbda[_0x20d8a2(0x12b)]){this[_0x20d8a2(0x129)](_0x47b655,{'val':![],'ack':!![]});if(this[_0x20d8a2(0x100)])try{const _0x3d51d6=await this[_0x20d8a2(0x13b)](_0x20d8a2(0x137));if(_0x3d51d6&&_0x3d51d6['val'])pythonBridge[_0x20d8a2(0x16b)](this,_0x20d8a2(0xfc),{'digests':JSON['parse'](_0x3d51d6[_0x20d8a2(0x12b)])});}catch(_0x359161){}}if(_0x47b655[_0x20d8a2(0x176)](_0x20d8a2(0x11f))&&_0x34fbda[_0x20d8a2(0x12b)]){this[_0x20d8a2(0x129)](_0x47b655,{'val':![],'ack':!![]});if(this[_0x20d8a2(0x100)])try{const _0x50221d=await this[_0x20d8a2(0x13b)](_0x20d8a2(0x102));if(_0x50221d&&_0x50221d[_0x20d8a2(0x12b)])pythonBridge[_0x20d8a2(0x16b)](this,_0x20d8a2(0xfd),{'points':JSON[_0x20d8a2(0x135)](_0x50221d[_0x20d8a2(0x12b)])});}catch(_0x97a5a9){}}if(_0x47b655[_0x20d8a2(0x176)](_0x20d8a2(0x151))&&_0x34fbda['val']){this[_0x20d8a2(0x129)](_0x47b655,{'val':![],'ack':!![]});if(this[_0x20d8a2(0x100)])try{const _0x5d5c6c=await this[_0x20d8a2(0x13b)](_0x20d8a2(0x140));_0x5d5c6c&&_0x5d5c6c[_0x20d8a2(0x12b)]&&(this[_0x20d8a2(0x181)][_0x20d8a2(0x175)](_0x20d8a2(0x112)),pythonBridge[_0x20d8a2(0x16b)](this,'TRAIN_COMFORT',{'events':JSON[_0x20d8a2(0x135)](_0x5d5c6c[_0x20d8a2(0x12b)])}));}catch(_0x1c7c25){}}_0x47b655[_0x20d8a2(0x176)](_0x20d8a2(0x120))&&_0x34fbda['val']&&(this[_0x20d8a2(0x129)](_0x47b655,{'val':![],'ack':!![]}),this[_0x20d8a2(0x181)]['info'](_0x20d8a2(0x153)),topology[_0x20d8a2(0x183)](this));return;}if(this['config']['presenceDevices']&&this['config'][_0x20d8a2(0x17b)][_0x20d8a2(0x176)](_0x47b655)){await this[_0x20d8a2(0x13f)]();return;}const _0x401ec9=(this[_0x20d8a2(0x17c)][_0x20d8a2(0xff)]||[])[_0x20d8a2(0x19b)](_0x4a50ec=>_0x4a50ec['id']===_0x47b655);if(_0x401ec9)recorder[_0x20d8a2(0x118)](this,_0x47b655,_0x34fbda,_0x401ec9);}async[a0_0x1cfafd(0x19f)](_0x3fa88a){const _0x3efc26=a0_0x1cfafd;if(typeof _0x3fa88a===_0x3efc26(0x144)&&_0x3fa88a[_0x3efc26(0xf7)]){if(_0x3fa88a[_0x3efc26(0x12c)]===_0x3efc26(0x154)){}else{if(_0x3fa88a[_0x3efc26(0x12c)]===_0x3efc26(0x109))try{const _0x55962f=await scanner[_0x3efc26(0x163)](this,_0x3fa88a[_0x3efc26(0xf7)]||{});this[_0x3efc26(0x190)](_0x3fa88a[_0x3efc26(0x19a)],_0x3fa88a[_0x3efc26(0x12c)],{'success':!![],'devices':_0x55962f},_0x3fa88a['callback']);}catch(_0x3a86a9){this[_0x3efc26(0x190)](_0x3fa88a[_0x3efc26(0x19a)],_0x3fa88a[_0x3efc26(0x12c)],{'success':![],'error':_0x3a86a9['message']},_0x3fa88a['callback']);}else{if(_0x3fa88a[_0x3efc26(0x12c)]==='updateTopologyMatrix'){const {matrix:_0x4403ca}=_0x3fa88a[_0x3efc26(0xf7)];try{const _0xe56e3a=await this[_0x3efc26(0x13b)](_0x3efc26(0xf5));if(_0xe56e3a&&_0xe56e3a[_0x3efc26(0x12b)]){const _0x1ee73a=JSON[_0x3efc26(0x135)](_0xe56e3a[_0x3efc26(0x12b)]);_0x1ee73a[_0x3efc26(0x14e)]=_0x4403ca,_0x1ee73a['updated']=Date[_0x3efc26(0x1a0)](),await this[_0x3efc26(0x18e)](_0x3efc26(0xf5),{'val':JSON[_0x3efc26(0x194)](_0x1ee73a),'ack':!![]}),this[_0x3efc26(0x181)]['info'](_0x3efc26(0x156)),pythonBridge[_0x3efc26(0x16b)](this,'SET_TOPOLOGY',_0x1ee73a);}this[_0x3efc26(0x190)](_0x3fa88a['from'],_0x3fa88a['command'],{'success':!![]},_0x3fa88a['callback']);}catch(_0x2754f6){this[_0x3efc26(0x181)]['error'](_0x3efc26(0x16c)+_0x2754f6[_0x3efc26(0xf7)]);}}else{if(_0x3fa88a[_0x3efc26(0x12c)]==='getLtmData')this['sendTo'](_0x3fa88a['from'],_0x3fa88a[_0x3efc26(0x12c)],{'success':!![],'dailyDigests':this[_0x3efc26(0xef)]||[],'analysisHistory':this[_0x3efc26(0x188)]||[]},_0x3fa88a[_0x3efc26(0x1a2)]);else{if(_0x3fa88a[_0x3efc26(0x12c)]===_0x3efc26(0x11a)){const _0x37726e=this[_0x3efc26(0xef)][_0x3efc26(0x17d)],_0x430346=new Array(0x18)[_0x3efc26(0x11d)](0x0),_0x3dcc57=new Date()[_0x3efc26(0x11c)](0x0,0x0,0x0,0x0);this['eventHistory']&&this[_0x3efc26(0x184)][_0x3efc26(0x1a9)](_0x24af64=>{const _0x5d0cde=_0x3efc26;if(_0x24af64[_0x5d0cde(0x165)]>=_0x3dcc57){const _0x1521bd=new Date(_0x24af64[_0x5d0cde(0x165)])[_0x5d0cde(0x141)]();if(_0x1521bd>=0x0&&_0x1521bd<0x18)_0x430346[_0x1521bd]++;}}),this[_0x3efc26(0x190)](_0x3fa88a[_0x3efc26(0x19a)],_0x3fa88a['command'],{'success':!![],'eventHistory':this[_0x3efc26(0x184)]['slice'](0x0,0xf),'stats':{'digestCount':_0x37726e,'isPresent':this[_0x3efc26(0x182)],'hourlyActivity':_0x430346},'automation':{'detected':![]}},_0x3fa88a[_0x3efc26(0x1a2)]);}else{if(_0x3fa88a[_0x3efc26(0x12c)]===_0x3efc26(0x133)){const _0x46dd92=await this[_0x3efc26(0x119)]('enum.functions.*',_0x3efc26(0x113)),_0x212d93=[];if(_0x46dd92)for(const _0x4ebe30 in _0x46dd92){const _0x1b2291=_0x46dd92[_0x4ebe30],_0x55ee0e=(_0x1b2291[_0x3efc26(0x186)]&&typeof _0x1b2291[_0x3efc26(0x186)][_0x3efc26(0x110)]===_0x3efc26(0x144)?_0x1b2291[_0x3efc26(0x186)]['name']['de']:_0x1b2291[_0x3efc26(0x186)][_0x3efc26(0x110)])||_0x1b2291['common'][_0x3efc26(0x110)];_0x212d93[_0x3efc26(0x178)]({'id':_0x4ebe30,'name':_0x55ee0e});}const _0x55d2c6=await this[_0x3efc26(0x119)](_0x3efc26(0x15d),_0x3efc26(0x113)),_0x51e875=[];if(_0x55d2c6)for(const _0x27ad7d in _0x55d2c6){const _0x2afbcf=_0x55d2c6[_0x27ad7d],_0x24363f=(_0x2afbcf[_0x3efc26(0x186)]&&typeof _0x2afbcf['common'][_0x3efc26(0x110)]===_0x3efc26(0x144)?_0x2afbcf[_0x3efc26(0x186)]['name']['de']:_0x2afbcf[_0x3efc26(0x186)]['name'])||_0x27ad7d[_0x3efc26(0x138)]('.')[_0x3efc26(0xfb)]();_0x51e875['push'](_0x24363f);}this['sendTo'](_0x3fa88a['from'],_0x3fa88a['command'],{'success':!![],'enums':_0x212d93,'rooms':_0x51e875},_0x3fa88a[_0x3efc26(0x1a2)]);}}}}}}}}async[a0_0x1cfafd(0x1a8)](){const _0x49323d=a0_0x1cfafd;try{const _0x2dd5ce=await this[_0x49323d(0x13b)](setup[_0x49323d(0x19c)]);_0x2dd5ce&&_0x2dd5ce['val']&&Object[_0x49323d(0xfe)](setup[_0x49323d(0x12f)])['includes'](_0x2dd5ce[_0x49323d(0x12b)])?this[_0x49323d(0x187)]=_0x2dd5ce['val']:(this['currentSystemMode']=setup[_0x49323d(0x12f)][_0x49323d(0x122)],await this[_0x49323d(0x18e)](setup[_0x49323d(0x19c)],{'val':setup['SYSTEM_MODES']['NORMAL'],'ack':!![]}));}catch(_0x300d42){this[_0x49323d(0x187)]=setup[_0x49323d(0x12f)][_0x49323d(0x122)];}}async[a0_0x1cfafd(0x13f)](){const _0x56f0a7=a0_0x1cfafd;try{const _0x2d8248=this['config'][_0x56f0a7(0x17b)]||[];let _0x1ce76d=![];const _0x59ad9c=[];for(const _0x47c02c of _0x2d8248){try{const _0x3e550f=await this[_0x56f0a7(0x142)](_0x47c02c);_0x3e550f&&(_0x3e550f['val']===!![]||_0x3e550f[_0x56f0a7(0x12b)]==='online'||_0x3e550f['val']===0x1)&&(_0x1ce76d=!![],_0x59ad9c[_0x56f0a7(0x178)](_0x47c02c));}catch(_0x2b2c52){}}return await this[_0x56f0a7(0x18e)](_0x56f0a7(0x13d),{'val':_0x59ad9c[_0x56f0a7(0x10c)](',\x20'),'ack':!![]}),_0x1ce76d&&(this[_0x56f0a7(0x10b)]&&(this[_0x56f0a7(0x181)][_0x56f0a7(0x175)](_0x56f0a7(0x128)),recorder['abortExitTimer'](this)),!this['isPresent']&&this[_0x56f0a7(0x187)]===setup['SYSTEM_MODES'][_0x56f0a7(0x122)]&&await recorder[_0x56f0a7(0x180)](this,!![])),_0x1ce76d;}catch(_0x16beb1){return![];}}async[a0_0x1cfafd(0x1aa)](){const _0x298ed1=a0_0x1cfafd;this['log']['debug'](_0x298ed1(0x1a7)),await aiAgent[_0x298ed1(0x193)](this),this[_0x298ed1(0x196)](),this[_0x298ed1(0x195)](),this[_0x298ed1(0x19d)]();}[a0_0x1cfafd(0x195)](){const _0xeb843b=a0_0x1cfafd;if(!this[_0xeb843b(0x100)])return;try{this[_0xeb843b(0x1a3)](_0xeb843b(0x148),(_0x390ea1,_0x30529d)=>{const _0x1f19af=_0xeb843b;_0x30529d&&_0x30529d[_0x1f19af(0x12b)]&&pythonBridge[_0x1f19af(0x16b)](this,_0x1f19af(0x13a),{'sequences':JSON[_0x1f19af(0x135)](_0x30529d['val'])});});}catch(_0x4abd49){}}async['triggerEnergyPrediction'](){const _0x5c2567=a0_0x1cfafd;if(!this[_0x5c2567(0x100)])return;try{const _0x53ced6=await recorder[_0x5c2567(0x159)](this);if(_0x53ced6===null)return;const _0x4304db={},_0x4fb273=this[_0x5c2567(0x17c)][_0x5c2567(0xff)]||[];for(const _0x4701ea of _0x4fb273){if(_0x4701ea[_0x5c2567(0x15e)]===_0x5c2567(0x136)&&_0x4701ea[_0x5c2567(0x1a4)]){const _0x45e005=this[_0x5c2567(0x152)][_0x4701ea['id']];if(_0x45e005!==undefined)_0x4304db[_0x4701ea[_0x5c2567(0x1a4)]]=_0x45e005;}}Object[_0x5c2567(0x173)](_0x4304db)[_0x5c2567(0x17d)]>0x0&&pythonBridge['send'](this,_0x5c2567(0x189),{'current_temps':_0x4304db,'t_out':_0x53ced6});}catch(_0x229078){}}['updateHealthVector'](){const _0x39fc27=a0_0x1cfafd;if(!this[_0x39fc27(0x185)]||this[_0x39fc27(0x185)][_0x39fc27(0x17d)]===0x0)return;const _0x33cf87=new Array(0x60)[_0x39fc27(0x11d)](0x0),_0x3b5543=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x39fc27(0x185)][_0x39fc27(0x1a9)](_0x5dc52e=>{const _0x595591=_0x39fc27,_0x292323=new Date(_0x5dc52e[_0x595591(0x165)]);if(_0x292323[_0x595591(0x107)]()>=_0x3b5543){const _0xa86e4=_0x292323[_0x595591(0x141)](),_0x11fe84=_0x292323[_0x595591(0x105)](),_0x433e7e=_0xa86e4*0x4+Math[_0x595591(0x10e)](_0x11fe84/0xf);if(_0x433e7e>=0x0&&_0x433e7e<0x60)_0x33cf87[_0x433e7e]++;}}),this[_0x39fc27(0x18e)]('analysis.health.todayVector',{'val':JSON[_0x39fc27(0x194)](_0x33cf87),'ack':!![]});}[a0_0x1cfafd(0x15b)](){const _0x36eaa8=a0_0x1cfafd;if(!this[_0x36eaa8(0xef)]||this[_0x36eaa8(0xef)][_0x36eaa8(0x17d)]<0x2)return;const _0x417800=this[_0x36eaa8(0xef)][_0x36eaa8(0x10f)](_0x22a3d2=>{const _0x335331=_0x36eaa8,_0x56c067=(_0x22a3d2['activityLevel']||'')[_0x335331(0x199)]();return ACTIVITY_LEVEL_MAP[_0x56c067]||0x32;});pythonBridge[_0x36eaa8(0x16b)](this,'ANALYZE_TREND',{'values':_0x417800,'tag':_0x36eaa8(0x157)});}}if(require['main']!==module)module[a0_0x1cfafd(0x16d)]=_0xfdcd30=>new CogniLiving(_0xfdcd30);else new CogniLiving();function a0_0x3a00(){const _0x5727f7=['LTM.baselineStatus','object','analysis.automation.triggerAction','setupModeResetScheduler','search','LTM.trainingData.sequences','Sec-Training\x20started...','ack','TRAIN_SECURITY','./lib/recorder','geminiModel','matrix','\x20Tage)','SET_TOPOLOGY','analysis.training.triggerComfort','sensorLastValues','üï∏Ô∏è\x20Manually\x20triggering\x20Topology\x20Update...','testApiKey','licenseKey','üï∏Ô∏è\x20Topology\x20Graph\x20manually\x20updated\x20by\x20user.','Activity-Level','setupDriftAnalysisScheduler','getOutsideTemperatureNumeric','dependencyInstallInProgress','runPythonHealthCheck','6NBHmpF','enum.rooms.*','type','constructor','setupLtmScheduler','minDaysForBaseline','startSystem','scanForDevices','endsWith','timestamp','genAI','üß†\x20Triggering\x20Security\x20Training...','./lib/ai_agent','stopService','executeAutomationAction','send','Topology\x20Update\x20Error:\x20','exports','error','./lib/scheduler','ready','driftAnalysisTimer','onStateChange','keys','@google/generative-ai','info','includes','Training\x20Error:\x20','push','464395iZMrOH','analysis.training.triggerSecurity','presenceDevices','config','length','stateChange','ltmJob','setPresence','log','isPresent','updateTopology','eventHistory','rawEventLog','common','currentSystemMode','analysisHistory','PREDICT_ENERGY','toString','.communicate.request','2276jQaibj','analysis.automation.autoApply','setStateAsync','608648qtCBQB','sendTo','application/json','Gemini\x20Init\x20Error:\x20','runGeminiAnalysis','stringify','triggerGaitAnalysis','updateHealthVector','3162890ybgjnv','analysis.triggerBriefing','toLowerCase','from','find','SYSTEM_DP_MODE','triggerEnergyPrediction','automation.triggerAction','onMessage','now','version','callback','getState','location','cogni-living\x20adapter\x20starting\x20(v','onReady','ü§ñ\x20Autopilot:\x20Running\x20periodic\x20analysis...','loadSystemMode','forEach','runAutopilot','initZombies','PYTHON_EXE','analysis.training.triggerHealth','analysis.training.status','setupBriefingScheduler','dailyDigests','communicate.request','triggerDailyDigest','bind','cancel','notifyTelegramInstance','analysis.topology.structure','./lib/scanner','message','unload','inactivityThresholdHours','subscribeForeignStatesAsync','pop','TRAIN_HEALTH','TRAIN_ENERGY','values','devices','isProVersion','initSystemConfig','LTM.trainingData.thermodynamics','createDailyDigest','getGenerativeModel','getMinutes','system.mode','getTime','Aktiv\x20(','scanDevices','./lib/python_bridge','exitTimer','join','subscribeStates','floor','map','name','2043819NrbKMC','üõãÔ∏è\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...','enum','analysis.trigger','156173nfDrCB','cogni-living','apply','processSensorEvent','getForeignObjectsAsync','getOverviewData','modeResetJob','setHours','fill','.system.mode','analysis.training.triggerEnergy','analysis.training.triggerTopology','initHistory','NORMAL','briefingJob','sendMorningBriefing','LTM.triggerDailyDigest','telegram','startService','WiFi\x20Presence\x20detected.','setState','lastAlertState','val','command','triggerBriefing','645iAuGbZ','SYSTEM_MODES','341568glprzI','14vkXHVy','geminiApiKey','getEnums','analysisTimer','parse','temperature','LTM.dailyDigests','split','(((.+)+)+)+$','ANALYZE_GAIT','getStateAsync','abortExitTimer','system.presenceWho','namespace','checkWifiPresence','LTM.rawEventLog','getHours','getForeignStateAsync'];a0_0x3a00=function(){return _0x5727f7;};return a0_0x3a00();}