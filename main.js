const a0_0x49910d=a0_0x445a;(function(_0x2a07f4,_0xa59d4d){const _0x27c347=a0_0x445a,_0x2f35ee=_0x2a07f4();while(!![]){try{const _0x4a8006=-parseInt(_0x27c347(0xde))/0x1+-parseInt(_0x27c347(0x1ad))/0x2+parseInt(_0x27c347(0x187))/0x3+-parseInt(_0x27c347(0xc1))/0x4+parseInt(_0x27c347(0xca))/0x5*(-parseInt(_0x27c347(0x108))/0x6)+parseInt(_0x27c347(0x1cd))/0x7+-parseInt(_0x27c347(0x1f6))/0x8*(-parseInt(_0x27c347(0x16f))/0x9);if(_0x4a8006===_0xa59d4d)break;else _0x2f35ee['push'](_0x2f35ee['shift']());}catch(_0x137d66){_0x2f35ee['push'](_0x2f35ee['shift']());}}}(a0_0x57d5,0x606f6));const a0_0x42867c=(function(){let _0x5ccf36=!![];return function(_0x3ca835,_0x108e49){const _0x1a48d8=_0x5ccf36?function(){const _0x39e22d=a0_0x445a;if(_0x108e49){const _0x5a72fd=_0x108e49[_0x39e22d(0x1b7)](_0x3ca835,arguments);return _0x108e49=null,_0x5a72fd;}}:function(){};return _0x5ccf36=![],_0x1a48d8;};}()),a0_0x384d3e=a0_0x42867c(this,function(){const _0x4cc34a=a0_0x445a;return a0_0x384d3e['toString']()[_0x4cc34a(0x1c7)]('(((.+)+)+)+$')[_0x4cc34a(0x16c)]()[_0x4cc34a(0x195)](a0_0x384d3e)[_0x4cc34a(0x1c7)]('(((.+)+)+)+$');});a0_0x384d3e();function a0_0x57d5(){const _0x402699=['setupModeResetScheduler','length','ERROR','fire','systemConfig','sensorLastValues','triggerDailyDigest','detectionState','Missing\x20data','enum','genAI','analysis.activitySummary','retry','Nein','pop','6PYcIIW','devices','livingContext','systemUUID','val','longitude','analysis.history_debug_00','name','history.','t√ºr','rain','yr.','saveDailyDigests','Feedback\x20Log','AI\x20Alert\x20Status','INSTALL_TEST','analysis.analysisHistory','openweathermap.','eingang','Cogni-Living\x20Alert','feedbackHistory','slice','baselineDrift','Drift\x20Details','party','saveRawEventLog','analysis.comfortSuggestion','onStateChange','Gemini\x20Init\x20Error:\x20','uuid-not-found','trim','runAutopilot','Success','testNotification','warn','push','events.history_debug_01','runBaselineDriftAnalysis','city','licenseKey','onReady','enum.rooms.*','members','minDaysForBaseline','suggestedAction','currentSystemMode','dailyDigests','VACATION','\x20hours.\x20The\x20resident\x20might\x20be\x20incapacitated.\x20Risk\x20level:\x20HIGH.','checkLtmObjects','loadSystemMode','description','json','rating','analysisInterval','isProVersion','stringify','expire','scriptProblem','startExitTimer','temperatur','config','LTM.dailyDigests','getForeignStateAsync','alertReason','sensor.door','role','effect','saveFeedback','‚úÖ\x20Gemini\x20Response\x20received.','onMessage','pressure','schlaf','Automation\x20Proposals','runGeminiAnalysis','isGracePeriodActive','application/json','vacation','enum.functions.*','split','icons-mfd.','extendObjectAsync','analysis.automation.suggestedAction','ERROR_CODE','FAULT','setStateAsync','0\x204\x20*\x20*\x20*','LTM.rawEventLog','Gemini\x20AI\x20initialized.','ANWESEND\x20üè†','unload','splice','processSensorEvent','notifyEmailInstance','some','values','\x0aFEEDBACK:\x0a','Drift\x20Status','scanForDevices','Sending\x20Prompt...','toString','pr√§senz','automationProposal','72nKOWyg','LTM.driftAnalysis.driftDetails','SECTION','normal','bad','NORMAL','send','startsWith','sound','.\x20PERSONA:\x20','LTM.driftAnalysis.lastCheck','DUTYCYCLE','üö®\x20EMERGENCY','Rauchmelder','channel','sensor.window','precip','driftAnalysisTimer','version','Subscribing\x20to\x20','getSystemUUID','info','cogni-living\x20adapter\x20starting\x20(v','icon','1367904VjfilM','updateBaselineStatus','getStateAsync','K√ºche','string','manufacturer','events.history_debug_00','number','N/A','modeResetJob','notifySignalRecipient','s\x20Grace).','toLowerCase','DIRECTION','constructor','activity','Temperatur','patternDetected','_score','Starting\x20Autopilot\x20(','SABOTAGE','GUEST','geminiModel','RSSI','system.isPresent','analysis.trigger','getForeignObjectsAsync','Sending\x20notification:\x20\x22','Ausgangs-Event\x20erkannt:\x20Starte\x20Exit-Logik\x20(','createDailyDigest','Drift\x20Analysis','process','analysis.history_debug_03','PRIORIT√ÑT:\x20Gesundheit\x20und\x20Sicherheit\x20f√ºr\x20Senioren\x20(AAL).\x20Erkenne\x20Inaktivit√§t,\x20potenzielle\x20St√ºrze\x20(indirekt),\x20ungew√∂hnliche\x20n√§chtliche\x20Aktivit√§t.','Description','analysis.comfortSummary','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20','PARTY','1467220TctjSQ','scheduleJob','setPresence','üö®üö®\x20NOTFALL','native','last_seen','temperature','subscribeStates','deviationFromBaseline','catch','apply','doors','Logbook','analysis.alertReason','Bewegung','Comfort\x20Summary','VIRTUAL_CHANNEL','siren','\x20(EMERGENCY)','join','selectedFunctionIds','wind','notifyTelegramRecipient','checkSystemObjects','Trigger\x20Digest','text.alarm','search','garten','Alert\x20Reason','LTM','events.history_debug_04','getObjectAsync','1178499sSpWVo','onUnload','capabilities','test','sendTo','analysis.automation.description','uuid-error','parse','namespace','Deaktiviert\x20(Pro-Feature)','motion','date','weather','apiKey','suggestion','setupLtmScheduler','loadHistoryFromState','checkLicense','\x20sensors...','testApiKey','rawEventLog','ltmJob','analysis.deviationFromBaseline','Last\x20Check','sendToAsync','AI\x20Emergency\x20Status','exports','delObjectAsync','archetype','inactivityThresholdHours','system.','analysis.isAlert','Exit\x20Grace\x20Period\x20beendet.','N/A\x20(Learning)','notifyWhatsappEnabled','value.temperature','callback','Comfort\x20Suggestion','map','generateContent','indicator','2469752iNWIuu','button','update','Adapter','WEEK_PROGRAM','isEmergency','Deviation','details','write','analysisHistory','COMBINED_PARAMETER','‚ö†Ô∏è\x20Alarm','replace','Schlafzimmer','sat','exitGraceTimer','find','system','fenster','analysis.automation','response','toFixed','getForeignObjectAsync','inactivityMonitoringEnabled','ABWESEND\x20‚úàÔ∏è','PRO-','log','updateAnalysisHistory','rauch','cleanUpZombies','setupDriftAnalysisScheduler','boolean','2-digit','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20MODUS:\x20','scanDevices','setObjectNotExistsAsync','battery','createAllObjects','unshift','analysisTimer','lastAlertState','Exit-Timer\x20abgelaufen\x20->\x20ABWESEND.','exitTimer','notifyWhatsappInstance','@google/generative-ai','analysis.automation.patternDetected','link_quality','LTM.triggerDailyDigest','now','Action','indicator.alarm.fire','checkLtmDriftObjects','object','guest','ltmDriftCheckIntervalHours','stateChange','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','LTM.driftAnalysis','ack','wohnungst√ºr','switch.light','temp','No\x20recorded\x20events\x20yet.','from','toLocaleString','debug','loadRawEventLog','0\x203\x20*\x20*\x20*','CONFIG_PENDING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20','LTM.processingStatus','Licht','hue','UNREACH','Badezimmer','analysis.lastResult','weatherunderground.','sensor.motion','sendNotification','setState','Party','Starting\x20Smart\x20Scan\x20with\x20filters:\x20','LTM.driftAnalysis.baselineDrift','Analysis\x20Error:\x20','error','notifyPushoverInstance','Trigger\x20Analysis','geminiApiKey','analysis.history_debug_01','smoke','System\x20Status\x20&\x20Control','Fenster/T√ºr','Aktiv\x20(','Raw\x20Log','level.dimmer','üö®\x20Dead\x20Man\x27s\x20Switch:\x20Keine\x20Aktivit√§t\x20seit\x20','type','models/gemini-flash-latest','subscribeForeignStatesAsync','history','Baseline:\x20Inactive\x20(Pro\x20Feature).','flur','notifyPushoverRecipient','analysis.isEmergency','Pr√§senz-Status\x20ge√§ndert:\x20','wohn','notifySignalInstance','Processing\x20Status','includes','Urlaub','ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20','command','ltmLtbWindowDays','uuid','Schalter/Licht','signal','mac\x20address','.\x20PR√ÑSENZ:\x20','\x0a!!!\x20END\x20WARNING\x20!!!\x0a','Gast','notifyEmailRecipient','analysis.feedbackHistory','analysis.history_debug_02','text','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT:\x20','occupancy','3114028oFKvQO','alert','.\x20ORT:\x20','logDuplicates','Garten','notifySignalEnabled','Activity\x20Summary','eventHistory','driftDetails','2485165RwsaGS','\x20min).\x20Watchdog\x20Limit:\x20','Ignoring\x20event\x20during\x20Exit\x20Grace\x20Period:\x20','Bewegung\x20w√§hrend\x20Exit-Timer\x20erkannt\x20->\x20Bewohner\x20ist\x20noch\x20da.','cancel','firmware','aiPersona','No\x20recent\x20activity.','material.','system.meta.uuid','Lernphase\x20(','isPresent','comfort','Pattern\x20Detected','generic','min\x20Timer,\x20','colormode','bind','node-schedule','wetter','689929LBAiyI','long','events.history_debug_03','lights','message','accuweather.','System\x20Mode','STICKY_UNREACH','reachable','isExit','ALARM','state','ltmStbWindowDays','bewegung','abortExitTimer','isAlert','events.lastEvent','productname','common','last\x20action','[TEST]\x20','licht','notifyTelegramInstance','vis.','summary','Flur','events.history'];a0_0x57d5=function(){return _0x402699;};return a0_0x57d5();}'use strict';function a0_0x445a(_0x1a8f17,_0x50354a){const _0x3dc771=a0_0x57d5();return a0_0x445a=function(_0x384d3e,_0x42867c){_0x384d3e=_0x384d3e-0xa2;let _0x57d595=_0x3dc771[_0x384d3e];return _0x57d595;},a0_0x445a(_0x1a8f17,_0x50354a);}const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x49910d(0x222)),schedule=require(a0_0x49910d(0xdc)),HISTORY_MAX_SIZE=0x32,FEEDBACK_MAX_SIZE=0x14,GEMINI_MODEL='models/gemini-flash-latest',ANALYSIS_HISTORY_MAX_SIZE=0x64,RAW_LOG_MAX_SIZE=0x5dc,DAILY_DIGEST_MAX_SIZE_LIMIT=0xb4,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,LTM_SCHEDULE=a0_0x49910d(0x239),LTM_DP_RAW_LOG=a0_0x49910d(0x15f),LTM_DP_DAILY_DIGESTS=a0_0x49910d(0x146),LTM_DP_STATUS=a0_0x49910d(0x23c),LTM_DP_TRIGGER_DIGEST=a0_0x49910d(0x225),LTM_DP_BASELINE_STATUS='LTM.baselineStatus',LTM_DP_DRIFT_CHANNEL=a0_0x49910d(0x22f),LTM_DP_DRIFT_STATUS=a0_0x49910d(0x248),LTM_DP_DRIFT_DETAILS=a0_0x49910d(0x170),LTM_DP_DRIFT_LAST_CHECK=a0_0x49910d(0x179),SYSTEM_DP_MODE='system.mode',MODE_RESET_SCHEDULE=a0_0x49910d(0x15e),SYSTEM_MODES={'NORMAL':a0_0x49910d(0x172),'VACATION':a0_0x49910d(0x155),'PARTY':a0_0x49910d(0x120),'GUEST':a0_0x49910d(0x22b)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x49910d(0x1ac)],SYSTEM_MODES[a0_0x49910d(0x19c)]],EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,PERSONA_MAPPING={'generic':'Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','senior_aal':a0_0x49910d(0x1a8),'family':'Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','single_comfort':a0_0x49910d(0x22e),'security':'PRIORIT√ÑT:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungew√∂hnliche\x20Anwesenheit.'};class CogniLiving extends utils[a0_0x49910d(0x1f9)]{constructor(_0x2916c1){const _0x91cebf=a0_0x49910d;super({..._0x2916c1,'name':'cogni-living'}),this[_0x91cebf(0xc8)]=[],this[_0x91cebf(0x1ff)]=[],this[_0x91cebf(0x11c)]=[],this[_0x91cebf(0x1e1)]=[],this[_0x91cebf(0x136)]=[],this[_0x91cebf(0xfe)]={},this[_0x91cebf(0xfd)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x91cebf(0xd5)]=!![],this[_0x91cebf(0x220)]=null,this[_0x91cebf(0x205)]=null,this[_0x91cebf(0x153)]=![],this[_0x91cebf(0x103)]=null,this[_0x91cebf(0x19d)]=null,this[_0x91cebf(0x135)]=SYSTEM_MODES[_0x91cebf(0x174)],this['isProVersion']=![],this[_0x91cebf(0x21e)]=![],this[_0x91cebf(0x10b)]='unknown',this['analysisTimer']=null,this[_0x91cebf(0x1e2)]=null,this[_0x91cebf(0x190)]=null,this[_0x91cebf(0x180)]=null,this['on']('ready',this[_0x91cebf(0x130)][_0x91cebf(0xdb)](this)),this['on'](_0x91cebf(0x22d),this[_0x91cebf(0x123)][_0x91cebf(0xdb)](this)),this['on'](_0x91cebf(0x162),this['onUnload'][_0x91cebf(0xdb)](this)),this['on'](_0x91cebf(0xe2),this[_0x91cebf(0x14e)][_0x91cebf(0xdb)](this));}async[a0_0x49910d(0x130)](){const _0x5936c3=a0_0x49910d;this[_0x5936c3(0x210)][_0x5936c3(0x184)](_0x5936c3(0x185)+this[_0x5936c3(0x181)]+')'),await this[_0x5936c3(0x213)](),this[_0x5936c3(0x145)][_0x5936c3(0x12f)]=this[_0x5936c3(0x145)][_0x5936c3(0x12f)]||'',this[_0x5936c3(0x13f)]=await this[_0x5936c3(0x1de)](this[_0x5936c3(0x145)][_0x5936c3(0x12f)]);if(!this['config'][_0x5936c3(0x1ea)]||this[_0x5936c3(0x145)]['inactivityThresholdHours']<0.1)this[_0x5936c3(0x145)][_0x5936c3(0x1ea)]=0xc;await this['loadHistoryFromState']();try{const _0xab5f53=await this[_0x5936c3(0x20c)]('system.config');_0xab5f53&&_0xab5f53[_0x5936c3(0xf0)]&&(this[_0x5936c3(0xfd)]={'latitude':_0xab5f53[_0x5936c3(0xf0)]['latitude']||0x0,'longitude':_0xab5f53[_0x5936c3(0xf0)][_0x5936c3(0x10d)]||0x0,'city':_0xab5f53[_0x5936c3(0xf0)]['city']||''});}catch(_0x50b2d1){}if(this[_0x5936c3(0x145)]['geminiApiKey'])try{this['genAI']=new GoogleGenerativeAI(this[_0x5936c3(0x145)][_0x5936c3(0x24d)]),this['geminiModel']=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5936c3(0x154)}}),this['log'][_0x5936c3(0x184)](_0x5936c3(0x160));}catch(_0x121f5f){this[_0x5936c3(0x210)][_0x5936c3(0x24a)](_0x5936c3(0x124)+_0x121f5f[_0x5936c3(0xe2)]);}await this[_0x5936c3(0x21b)](),await this[_0x5936c3(0x13a)](),await this[_0x5936c3(0x238)](),await this['loadDailyDigests'](),this[_0x5936c3(0x1b4)](_0x5936c3(0x1a0)),this[_0x5936c3(0x1b4)](LTM_DP_TRIGGER_DIGEST),this[_0x5936c3(0x1b4)]('system.mode');const _0x76e24e=this['config']['devices'];if(_0x76e24e&&_0x76e24e[_0x5936c3(0xfa)]>0x0){this[_0x5936c3(0x210)][_0x5936c3(0x184)](_0x5936c3(0x182)+_0x76e24e['length']+_0x5936c3(0x1df));for(const _0x85384 of _0x76e24e){if(_0x85384['id']){await this[_0x5936c3(0xa5)](_0x85384['id']);try{const _0x3d6394=await this[_0x5936c3(0x147)](_0x85384['id']);if(_0x3d6394)this[_0x5936c3(0xfe)][_0x85384['id']]=_0x3d6394[_0x5936c3(0x10c)];}catch(_0x15c893){}}}}if(this['analysisTimer'])clearInterval(this[_0x5936c3(0x21d)]);const _0x58e233=this[_0x5936c3(0x145)][_0x5936c3(0x13e)]||0xf;_0x58e233>0x0&&(this[_0x5936c3(0x210)][_0x5936c3(0x184)](_0x5936c3(0x19a)+_0x58e233+_0x5936c3(0xcb)+this[_0x5936c3(0x145)][_0x5936c3(0x1ea)]+'h.'),this[_0x5936c3(0x21d)]=setInterval(()=>this[_0x5936c3(0x127)](),_0x58e233*0x3c*0x3e8)),this[_0x5936c3(0x1dc)](),this[_0x5936c3(0xf9)](),this[_0x5936c3(0x214)]();}async[a0_0x49910d(0x16a)](_0x316c47={}){const _0xc58f21=a0_0x49910d;this[_0xc58f21(0x210)][_0xc58f21(0x184)](_0xc58f21(0x247)+JSON[_0xc58f21(0x140)](_0x316c47));const _0x3cb801=[],_0x4cad62=_0x316c47['motion']!==![],_0x129a23=_0x316c47[_0xc58f21(0x1b8)]!==![],_0x5b7f18=_0x316c47[_0xc58f21(0xe1)]!==![],_0x2d9d8c=_0x316c47[_0xc58f21(0x1b3)]===!![],_0x3b988b=_0x316c47[_0xc58f21(0x1d9)]===!![],_0x39507a=_0x316c47[_0xc58f21(0x1c1)]||[],_0x44cda7=await this[_0xc58f21(0x1a1)](_0xc58f21(0x131),_0xc58f21(0x102)),_0x189a48=await this['getForeignObjectsAsync']('enum.functions.*',_0xc58f21(0x102)),_0x1baea4={},_0x5702c5={},_0xa60092={},_0x561da7=(_0x1ddef0,_0x48ffad,_0xfcea5=![])=>{const _0x3c5804=_0xc58f21;if(!_0x1ddef0)return;for(const _0x5b019d in _0x1ddef0){const _0x303399=_0x1ddef0[_0x5b019d];if(_0x303399&&_0x303399['common']&&_0x303399['common'][_0x3c5804(0x132)]){const _0x15afc3=(typeof _0x303399[_0x3c5804(0xf0)][_0x3c5804(0x10f)]===_0x3c5804(0x22a)?_0x303399['common'][_0x3c5804(0x10f)]['de']:_0x303399[_0x3c5804(0xf0)][_0x3c5804(0x10f)])||_0x303399['common'][_0x3c5804(0x10f)];if(_0xfcea5)_0xa60092[_0x5b019d]=_0x15afc3;for(const _0x33ce27 of _0x303399[_0x3c5804(0xf0)][_0x3c5804(0x132)]){if(_0xfcea5){if(!_0x48ffad[_0x33ce27])_0x48ffad[_0x33ce27]=[];_0x48ffad[_0x33ce27][_0x3c5804(0x12b)](_0x5b019d);}else _0x48ffad[_0x33ce27]=_0x15afc3;}}}};_0x561da7(_0x44cda7,_0x1baea4),_0x561da7(_0x189a48,_0x5702c5,!![]);const _0x1401c2=await this['getForeignObjectsAsync']('*',_0xc58f21(0xe9)),_0x2deeee=[_0xc58f21(0x23f),'LOWBAT',_0xc58f21(0x19e),_0xc58f21(0xfb),_0xc58f21(0x15c),_0xc58f21(0x19b),_0xc58f21(0xe8),_0xc58f21(0x23a),_0xc58f21(0x17a),'WORKING',_0xc58f21(0x194),_0xc58f21(0xe5),'OPERATING_VOLTAGE',_0xc58f21(0x1bd),_0xc58f21(0x117),_0xc58f21(0x200),_0xc58f21(0x1fa),'ON_TIME',_0xc58f21(0x171),_0xc58f21(0x15b),'PROCESS','AES_KEY','CONNECTION',_0xc58f21(0xe6),_0xc58f21(0x224),_0xc58f21(0x21a),_0xc58f21(0x1f8),_0xc58f21(0xcf),_0xc58f21(0x181),'connection',_0xc58f21(0x184),_0xc58f21(0xb6),_0xc58f21(0x1b2),_0xc58f21(0xf1),_0xc58f21(0x1e9),_0xc58f21(0xc2),'mode',_0xc58f21(0xda),_0xc58f21(0x14b),'xy','ct',_0xc58f21(0x23e),_0xc58f21(0x204),_0xc58f21(0xef),_0xc58f21(0x18c),'modelid','uniqueid',_0xc58f21(0xb2),_0xc58f21(0xb7),_0xc58f21(0x13b),_0xc58f21(0x1cf),_0xc58f21(0x1a6),'scriptEnabled',_0xc58f21(0x142),'javascript.0.script',_0xc58f21(0x100),_0xc58f21(0xf6),_0xc58f21(0x186),_0xc58f21(0xa6),'forecast','info',_0xc58f21(0x13c)];if(!_0x3b988b)_0x2deeee[_0xc58f21(0x12b)](_0xc58f21(0xdd),_0xc58f21(0x1d9),_0xc58f21(0x1c2),_0xc58f21(0x14f),'uv',_0xc58f21(0x112),_0xc58f21(0x17f));const _0x331244=[_0xc58f21(0x1eb),'admin.','info.',_0xc58f21(0xf5),_0xc58f21(0x110),_0xc58f21(0xd2),_0xc58f21(0x158),'flot.'];if(!_0x3b988b)_0x331244[_0xc58f21(0x12b)]('daswetter.',_0xc58f21(0x242),_0xc58f21(0xe3),_0xc58f21(0x113),_0xc58f21(0x119));const _0x6f2961=(_0x556ac5,_0x3610bb,_0x3bbb06=![])=>{const _0x2c332c=_0xc58f21,_0x339ba7=_0x556ac5[_0x2c332c(0x157)]('.');if(_0x3610bb[_0x556ac5])return _0x3610bb[_0x556ac5];if(_0x339ba7['length']>0x2&&_0x3610bb[_0x339ba7['slice'](0x0,-0x1)[_0x2c332c(0x1c0)]('.')])return _0x3610bb[_0x339ba7[_0x2c332c(0x11d)](0x0,-0x1)['join']('.')];if(_0x339ba7[_0x2c332c(0xfa)]>0x3&&_0x3610bb[_0x339ba7[_0x2c332c(0x11d)](0x0,-0x2)['join']('.')])return _0x3610bb[_0x339ba7[_0x2c332c(0x11d)](0x0,-0x2)[_0x2c332c(0x1c0)]('.')];return _0x3bbb06?[]:null;};for(const _0x43e1c0 in _0x1401c2){const _0x3a244c=_0x1401c2[_0x43e1c0];if(!_0x3a244c||!_0x3a244c[_0xc58f21(0xf0)])continue;if(_0x331244[_0xc58f21(0x166)](_0x344a66=>_0x43e1c0[_0xc58f21(0x176)](_0x344a66)))continue;const _0x54e7b0=_0x3a244c['common'][_0xc58f21(0x14a)]||'',_0x226e15=(_0x3a244c[_0xc58f21(0xf0)][_0xc58f21(0x10f)]&&typeof _0x3a244c[_0xc58f21(0xf0)]['name']===_0xc58f21(0x22a)?_0x3a244c[_0xc58f21(0xf0)][_0xc58f21(0x10f)]['de']:_0x3a244c[_0xc58f21(0xf0)][_0xc58f21(0x10f)])||'',_0x246d2d=_0x226e15?_0x226e15[_0xc58f21(0x193)]():'',_0x240500=_0x43e1c0['toLowerCase'](),_0x25f7f0=_0x6f2961(_0x43e1c0,_0x1baea4),_0xf1f0f6=_0x6f2961(_0x43e1c0,_0x5702c5,!![]);let _0x54db8f=null,_0x5399a7=![];if(_0xf1f0f6&&_0xf1f0f6[_0xc58f21(0xfa)]>0x0){const _0x2ed5a8=_0xf1f0f6[_0xc58f21(0x206)](_0x285a49=>_0x39507a[_0xc58f21(0xaf)](_0x285a49));if(_0x2ed5a8){_0x5399a7=!![];const _0x547f73=_0xa60092[_0x2ed5a8];if(_0x240500[_0xc58f21(0xaf)]('presence')||_0x240500[_0xc58f21(0xaf)](_0xc58f21(0x1d7)))_0x54db8f=_0xc58f21(0x1bb);else{if(_0x240500[_0xc58f21(0xaf)](_0xc58f21(0x24f))||_0x240500[_0xc58f21(0xaf)](_0xc58f21(0xfc))||_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0x212)))_0x54db8f=_0xc58f21(0x17c);else{if(_0x240500[_0xc58f21(0xaf)]('state')||_0x240500[_0xc58f21(0xaf)]('level')||_0x240500[_0xc58f21(0xaf)]('on'))_0x54db8f=_0xc58f21(0xb5);else _0x54db8f=_0x547f73;}}}}if(!_0x5399a7&&!_0x3b988b){if(_0x2deeee[_0xc58f21(0x166)](_0x4f4570=>_0x246d2d[_0xc58f21(0xaf)](_0x4f4570)||_0x43e1c0['toUpperCase']()[_0xc58f21(0xaf)](_0x4f4570)))continue;}if(!_0x54db8f&&_0x4cad62){if(_0x54e7b0['includes'](_0xc58f21(0x243))||_0x54e7b0['includes'](_0xc58f21(0xc0))||_0x246d2d['includes'](_0xc58f21(0xeb))||_0x246d2d['includes'](_0xc58f21(0x16d)))_0x54db8f='Bewegung';}!_0x54db8f&&_0x129a23&&((_0x240500[_0xc58f21(0xaf)]('shutter_contact')||_0x54e7b0[_0xc58f21(0xaf)](_0xc58f21(0x149))||_0x54e7b0[_0xc58f21(0xaf)](_0xc58f21(0x17e))||(_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0x208))||_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0x111)))&&!_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0x233))&&!_0x246d2d[_0xc58f21(0xaf)]('griff')&&(_0x3a244c[_0xc58f21(0xf0)]['type']===_0xc58f21(0x215)||_0x3a244c[_0xc58f21(0xf0)]['type']===_0xc58f21(0x18e)))&&(_0x54db8f='Fenster/T√ºr'));if(!_0x54db8f&&_0x5b7f18){if((_0x54e7b0[_0xc58f21(0xaf)](_0xc58f21(0x232))||_0x54e7b0['includes'](_0xc58f21(0x254))||_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0xf3))||_0x246d2d[_0xc58f21(0xaf)]('lampe'))&&_0x3a244c[_0xc58f21(0xf0)][_0xc58f21(0x1fe)])_0x54db8f=_0xc58f21(0x23d);}if(!_0x54db8f&&_0x2d9d8c){if(_0x54e7b0['includes'](_0xc58f21(0x1f0))||_0x54e7b0['includes']('value.humidity')||_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0x144)))_0x54db8f=_0xc58f21(0x197);}if(_0x54db8f){let _0x1419e2=_0x25f7f0||'';if(!_0x1419e2){if(_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0x173)))_0x1419e2=_0xc58f21(0x240);else{if(_0x246d2d[_0xc58f21(0xaf)]('k√ºche'))_0x1419e2=_0xc58f21(0x18a);else{if(_0x246d2d['includes'](_0xc58f21(0xac)))_0x1419e2='Wohnzimmer';else{if(_0x246d2d['includes'](_0xc58f21(0x150)))_0x1419e2=_0xc58f21(0x203);else{if(_0x246d2d['includes'](_0xc58f21(0xa8))||_0x246d2d[_0xc58f21(0xaf)]('diele'))_0x1419e2=_0xc58f21(0xf7);else{if(_0x246d2d['includes'](_0xc58f21(0x1c8)))_0x1419e2=_0xc58f21(0xc5);}}}}}}let _0x1013c5=![];_0x54db8f===_0xc58f21(0x251)&&((_0x246d2d[_0xc58f21(0xaf)]('haust√ºr')||_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0x11a))||_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0x231))||_0x1419e2&&_0x1419e2[_0xc58f21(0x193)]()[_0xc58f21(0xaf)](_0xc58f21(0xa8))&&_0x246d2d[_0xc58f21(0xaf)](_0xc58f21(0x111)))&&(_0x1013c5=!![]));let _0x562905=0x0;if(_0x5399a7)_0x562905+=0x1e;else{if(_0x25f7f0)_0x562905+=0x14;else{if(_0x1419e2)_0x562905+=0xa;}}if(_0x1013c5)_0x562905+=0x5;_0x3cb801[_0xc58f21(0x12b)]({'id':_0x43e1c0,'name':_0x226e15||_0x43e1c0,'type':_0x54db8f,'location':_0x1419e2,'logDuplicates':_0x54db8f===_0xc58f21(0x1bb),'isExit':_0x1013c5,'_score':_0x562905});}}return _0x3cb801['sort']((_0x1fedf9,_0x302c1f)=>_0x302c1f[_0xc58f21(0x199)]-_0x1fedf9[_0xc58f21(0x199)]),_0x3cb801;}async[a0_0x49910d(0x213)](){const _0x1563c6=a0_0x49910d,_0x2d3a8d=[_0x1563c6(0x10e),_0x1563c6(0x24e),_0x1563c6(0xbd),_0x1563c6(0x1a7),'analysis.history_debug_04',_0x1563c6(0x18d),_0x1563c6(0x12c),'events.history_debug_02',_0x1563c6(0xe0),_0x1563c6(0x1cb)];for(const _0x279de5 of _0x2d3a8d){try{const _0x572a08=await this[_0x1563c6(0x1cc)](_0x279de5);_0x572a08&&await this[_0x1563c6(0x1e8)](_0x279de5);}catch(_0x1fb60d){}}}async[a0_0x49910d(0x1dd)](){const _0x225e92=a0_0x49910d;try{const _0x3afb9a=await this['getStateAsync']('events.history');_0x3afb9a&&_0x3afb9a[_0x225e92(0x10c)]&&(this[_0x225e92(0xc8)]=JSON['parse'](_0x3afb9a[_0x225e92(0x10c)]['toString']()));}catch(_0x5da3a9){this[_0x225e92(0xc8)]=[];}try{const _0x3a6f06=await this[_0x225e92(0x189)]('analysis.analysisHistory');if(_0x3a6f06&&_0x3a6f06[_0x225e92(0x10c)])this[_0x225e92(0x1ff)]=JSON[_0x225e92(0x1d4)](_0x3a6f06[_0x225e92(0x10c)][_0x225e92(0x16c)]());}catch(_0x5eee64){this['analysisHistory']=[];}}[a0_0x49910d(0x123)](_0x16416c,_0x3fac13){const _0x3f7de8=a0_0x49910d;if(!_0x3fac13)return;if(_0x16416c===this[_0x3f7de8(0x1d5)]+'.'+SYSTEM_DP_MODE){_0x3fac13[_0x3f7de8(0x10c)]&&Object[_0x3f7de8(0x167)](SYSTEM_MODES)[_0x3f7de8(0xaf)](_0x3fac13[_0x3f7de8(0x10c)])&&(this[_0x3f7de8(0x135)]=_0x3fac13['val'],_0x3fac13[_0x3f7de8(0x10c)]===SYSTEM_MODES[_0x3f7de8(0x137)]?this[_0x3f7de8(0x1af)](![]):this['setPresence'](!![]));if(!_0x3fac13[_0x3f7de8(0x230)])this[_0x3f7de8(0x245)](_0x16416c,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x3fac13[_0x3f7de8(0x230)]){_0x16416c[_0x3f7de8(0xaf)]('analysis.trigger')&&_0x3fac13[_0x3f7de8(0x10c)]&&(this['setState'](_0x16416c,{'val':![],'ack':!![]}),this['runGeminiAnalysis']());if(_0x16416c['includes'](_0x3f7de8(0xff))&&_0x3fac13['val']){this[_0x3f7de8(0x245)](_0x16416c,{'val':![],'ack':!![]});if(this['isProVersion'])this[_0x3f7de8(0x1a4)]();}return;}const _0x1a53b5=(this[_0x3f7de8(0x145)][_0x3f7de8(0x109)]||[])[_0x3f7de8(0x206)](_0x2f296d=>_0x2f296d['id']===_0x16416c);if(_0x1a53b5)this['processSensorEvent'](_0x16416c,_0x3fac13,_0x1a53b5);}async[a0_0x49910d(0x164)](_0xa180c9,_0x54fdf8,_0x3c4cf5){const _0x3e958d=a0_0x49910d;if(!_0x3c4cf5[_0x3e958d(0xc4)]&&this[_0x3e958d(0xfe)][_0xa180c9]===_0x54fdf8[_0x3e958d(0x10c)])return;this[_0x3e958d(0xfe)][_0xa180c9]=_0x54fdf8[_0x3e958d(0x10c)];if(this[_0x3e958d(0x153)]){this[_0x3e958d(0x210)][_0x3e958d(0x237)](_0x3e958d(0xcc)+_0x3c4cf5['name']);return;}const _0x37f0b6=_0x3c4cf5[_0x3e958d(0xe7)]===!![];_0x37f0b6?this[_0x3e958d(0x143)]():(this['exitTimer']&&(this['log'][_0x3e958d(0x184)](_0x3e958d(0xcd)),this[_0x3e958d(0xec)]()),!this[_0x3e958d(0xd5)]&&this['currentSystemMode']===SYSTEM_MODES['NORMAL']&&this[_0x3e958d(0x1af)](!![]));const _0x5e76e3={'timestamp':_0x54fdf8['ts'],'id':_0xa180c9,'name':_0x3c4cf5[_0x3e958d(0x10f)],'value':_0x54fdf8[_0x3e958d(0x10c)],'location':_0x3c4cf5['location'],'type':_0x3c4cf5[_0x3e958d(0xa3)]};this[_0x3e958d(0xc8)][_0x3e958d(0x21c)](_0x5e76e3);if(this['eventHistory'][_0x3e958d(0xfa)]>HISTORY_MAX_SIZE)this[_0x3e958d(0xc8)]['pop']();await this[_0x3e958d(0x15d)](_0x3e958d(0xee),{'val':JSON[_0x3e958d(0x140)](_0x5e76e3),'ack':!![]}),await this[_0x3e958d(0x15d)](_0x3e958d(0xf8),{'val':JSON[_0x3e958d(0x140)](this[_0x3e958d(0xc8)]),'ack':!![]}),this['rawEventLog'][_0x3e958d(0x12b)]({'timestamp':new Date(_0x54fdf8['ts'])['toISOString'](),'sensorName':_0x3c4cf5[_0x3e958d(0x10f)],'location':_0x3c4cf5['location'],'value':_0x54fdf8[_0x3e958d(0x10c)]}),await this[_0x3e958d(0x121)]();}[a0_0x49910d(0x143)](){const _0x6a51ba=a0_0x49910d;this[_0x6a51ba(0x210)][_0x6a51ba(0x184)](_0x6a51ba(0x1a3)+EXIT_TIMER_MINUTES+_0x6a51ba(0xd9)+EXIT_GRACE_PERIOD_SECONDS+_0x6a51ba(0x192)),this[_0x6a51ba(0xec)](),this[_0x6a51ba(0x153)]=!![],this['exitGraceTimer']=setTimeout(()=>{const _0x3d3a7b=_0x6a51ba;this[_0x3d3a7b(0x153)]=![],this[_0x3d3a7b(0x210)]['debug'](_0x3d3a7b(0x1ed));},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this['exitTimer']=setTimeout(()=>{const _0x22b797=_0x6a51ba;this[_0x22b797(0x210)][_0x22b797(0x184)](_0x22b797(0x21f)),this[_0x22b797(0x1af)](![]),this[_0x22b797(0x220)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}['abortExitTimer'](){const _0x46f826=a0_0x49910d;if(this['exitTimer'])clearTimeout(this['exitTimer']);if(this[_0x46f826(0x205)])clearTimeout(this[_0x46f826(0x205)]);this[_0x46f826(0x220)]=null,this[_0x46f826(0x205)]=null,this[_0x46f826(0x153)]=![];}async[a0_0x49910d(0x1af)](_0x38fd50){const _0x232dc3=a0_0x49910d;if(this[_0x232dc3(0xd5)]===_0x38fd50)return;this['isPresent']=_0x38fd50,await this[_0x232dc3(0x15d)]('system.isPresent',{'val':_0x38fd50,'ack':!![]}),this[_0x232dc3(0x210)]['info'](_0x232dc3(0xab)+(_0x38fd50?_0x232dc3(0x161):_0x232dc3(0x20e)));}[a0_0x49910d(0x127)](){const _0xfbdb31=a0_0x49910d,_0x43601a=this['config'][_0xfbdb31(0x1ea)],_0x4a0ccb=this[_0xfbdb31(0x145)][_0xfbdb31(0x20d)],_0xdc7054=this[_0xfbdb31(0xc8)][_0xfbdb31(0xfa)]>0x0?this[_0xfbdb31(0xc8)][0x0]['timestamp']:Date[_0xfbdb31(0x226)](),_0x53241a=(Date[_0xfbdb31(0x226)]()-_0xdc7054)/(0x3e8*0x3c*0x3c);let _0x24a81d='';_0x4a0ccb&&this[_0xfbdb31(0x135)]===SYSTEM_MODES[_0xfbdb31(0x174)]&&this[_0xfbdb31(0xd5)]&&(_0x53241a>_0x43601a&&(this[_0xfbdb31(0x210)][_0xfbdb31(0x12a)](_0xfbdb31(0xa2)+_0x53241a['toFixed'](0x1)+'\x20Stunden!'),_0x24a81d='CRITICAL\x20WARNING:\x20No\x20sensor\x20activity\x20detected\x20for\x20'+_0x53241a[_0xfbdb31(0x20b)](0x1)+_0xfbdb31(0x138)));if(_0x24a81d){this[_0xfbdb31(0x152)](_0x24a81d)[_0xfbdb31(0x1b6)](_0x36a121=>this['log'][_0xfbdb31(0x24a)](_0x36a121));return;}const _0x5b19a1=Date[_0xfbdb31(0x226)](),_0x2f46cd=_0x5b19a1-_0xdc7054,_0x5e4615=(this[_0xfbdb31(0x145)][_0xfbdb31(0x13e)]||0xf)*0x3c*0x3e8;this[_0xfbdb31(0xc8)][_0xfbdb31(0xfa)]>0x0&&_0x2f46cd<=_0x5e4615?this[_0xfbdb31(0x152)]()[_0xfbdb31(0x1b6)](_0x63ea1e=>this[_0xfbdb31(0x210)][_0xfbdb31(0x24a)](_0x63ea1e)):!this[_0xfbdb31(0x21e)]&&(this[_0xfbdb31(0x245)](_0xfbdb31(0x1ec),{'val':![],'ack':!![]}),this['setState']('analysis.isEmergency',{'val':![],'ack':!![]}));}async[a0_0x49910d(0x152)](_0x363357=''){const _0x4c766e=a0_0x49910d;if(!this[_0x4c766e(0x19d)]){this[_0x4c766e(0x210)][_0x4c766e(0x24a)]('‚ùå\x20Gemini\x20Model\x20not\x20initialized!');return;}const _0x1d94cf=this[_0x4c766e(0xc8)][_0x4c766e(0xfa)]>0x0?this[_0x4c766e(0xc8)]:[{'note':_0x4c766e(0x234)}],_0x3c06b6=PERSONA_MAPPING[this[_0x4c766e(0x145)][_0x4c766e(0xd0)]||_0x4c766e(0xd8)],_0xdd4d55=this[_0x4c766e(0x145)][_0x4c766e(0x10a)]||'',_0x1c174a=this[_0x4c766e(0x135)],_0x32a26c=new Date(),_0x4f41c7=_0x32a26c[_0x4c766e(0x236)]('de-DE',{'weekday':_0x4c766e(0xdf),'hour':_0x4c766e(0x216),'minute':_0x4c766e(0x216)}),_0x2f68ff=this['systemConfig'];let _0x3d7193='';if(this['feedbackHistory'][_0x4c766e(0xfa)]>0x0){const _0x429943=this[_0x4c766e(0x11c)][_0x4c766e(0x11d)](0x0,0x3)[_0x4c766e(0x1f3)](_0x5a1fb7=>'User\x20Feedback:\x20Alarm\x20\x22'+_0x5a1fb7[_0x4c766e(0x148)]+'\x22\x20was\x20'+_0x5a1fb7[_0x4c766e(0x13d)]+'.')[_0x4c766e(0x1c0)]('\x0a');_0x3d7193=_0x4c766e(0x168)+_0x429943+'\x0a';}const _0x336fe2=_0x363357?'\x0a!!!\x20EXTERNAL\x20SYSTEM\x20WARNING\x20!!!\x0a'+_0x363357+_0x4c766e(0xb9):'',_0x153dea=_0x4c766e(0xa7),_0x54d33a=_0x4c766e(0xb1)+_0x4f41c7+_0x4c766e(0xc3)+_0x2f68ff[_0x4c766e(0x12e)]+_0x4c766e(0x217)+_0x1c174a+_0x4c766e(0xb8)+(this[_0x4c766e(0xd5)]?'Ja':_0x4c766e(0x106))+_0x4c766e(0xbf)+_0xdd4d55+_0x4c766e(0x178)+_0x3c06b6+_0x4c766e(0x1ab)+_0x153dea+'\x20'+_0x3d7193+'\x20'+_0x336fe2+_0x4c766e(0x23b)+JSON[_0x4c766e(0x140)](_0x1d94cf)+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22isEmergency\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20}\x20}';try{this[_0x4c766e(0x210)][_0x4c766e(0x237)](_0x4c766e(0x16b));const _0x837bad=await this[_0x4c766e(0x19d)][_0x4c766e(0x1f4)](_0x54d33a),_0xef9b0b=_0x837bad[_0x4c766e(0x20a)][_0x4c766e(0xbe)]()[_0x4c766e(0x202)](/```json|```/g,'')[_0x4c766e(0x126)]();this['log'][_0x4c766e(0x184)](_0x4c766e(0x14d));const _0x5e7753=JSON['parse'](_0xef9b0b);await this[_0x4c766e(0x15d)](_0x4c766e(0x241),{'val':_0xef9b0b,'ack':!![]}),await this[_0x4c766e(0x15d)]('analysis.alertReason',{'val':_0x5e7753[_0x4c766e(0x196)][_0x4c766e(0x148)]||'','ack':!![]}),await this[_0x4c766e(0x15d)](_0x4c766e(0x104),{'val':_0x5e7753['activity']['summary']||'N/A','ack':!![]}),await this[_0x4c766e(0x15d)](_0x4c766e(0x1e3),{'val':_0x5e7753['activity'][_0x4c766e(0x1b5)]||'N/A','ack':!![]});_0x5e7753[_0x4c766e(0xd6)]&&(await this['setStateAsync'](_0x4c766e(0x1aa),{'val':_0x5e7753['comfort'][_0x4c766e(0xf6)]||'','ack':!![]}),await this[_0x4c766e(0x15d)](_0x4c766e(0x122),{'val':_0x5e7753[_0x4c766e(0xd6)][_0x4c766e(0x1db)]||'','ack':!![]}),_0x5e7753['comfort']['automationProposal']&&(await this[_0x4c766e(0x15d)]('analysis.automation.patternDetected',{'val':_0x5e7753[_0x4c766e(0xd6)][_0x4c766e(0x16e)][_0x4c766e(0x198)]||![],'ack':!![]}),await this['setStateAsync'](_0x4c766e(0x1d2),{'val':_0x5e7753[_0x4c766e(0xd6)][_0x4c766e(0x16e)]['description']||'','ack':!![]}),await this[_0x4c766e(0x15d)](_0x4c766e(0x15a),{'val':_0x5e7753[_0x4c766e(0xd6)][_0x4c766e(0x16e)][_0x4c766e(0x134)]||'','ack':!![]})));const _0x1fd0e1=_0x5e7753[_0x4c766e(0x196)][_0x4c766e(0xed)]||![],_0x24d697=_0x5e7753[_0x4c766e(0x196)][_0x4c766e(0x1fb)]||![];if(_0x1fd0e1||_0x24d697){await this[_0x4c766e(0x15d)](_0x4c766e(0x1ec),{'val':!![],'ack':!![]}),await this[_0x4c766e(0x15d)](_0x4c766e(0xaa),{'val':_0x24d697,'ack':!![]});if(!this[_0x4c766e(0x21e)]||_0x24d697){const _0x6e8882=_0x24d697?_0x4c766e(0x1b0):_0x4c766e(0x201);this[_0x4c766e(0x244)](_0x6e8882+':\x20'+_0x5e7753[_0x4c766e(0x196)][_0x4c766e(0x148)],![],_0x24d697);}}else await this[_0x4c766e(0x15d)](_0x4c766e(0x1ec),{'val':![],'ack':!![]}),await this['setStateAsync'](_0x4c766e(0xaa),{'val':![],'ack':!![]});this['lastAlertState']=_0x1fd0e1||_0x24d697;const _0x1745fe={'timestamp':Date[_0x4c766e(0x226)](),'id':Date[_0x4c766e(0x226)]()[_0x4c766e(0x16c)](),'analysis':_0x5e7753,'systemMode':_0x1c174a,'isPro':this[_0x4c766e(0x13f)]};this[_0x4c766e(0x211)](_0x1745fe);}catch(_0x37d5b6){this[_0x4c766e(0x210)][_0x4c766e(0x24a)](_0x4c766e(0x249)+_0x37d5b6[_0x4c766e(0xe2)]);}}async[a0_0x49910d(0x21b)](){const _0x4db664=a0_0x49910d;await this['checkSystemObjects'](),await this[_0x4db664(0x219)](_0x4db664(0x19f),{'type':_0x4db664(0xe9),'common':{'name':'Presence\x20Status','type':'boolean','role':_0x4db664(0x1f5),'read':!![],'write':![],'def':!![]},'native':{}}),await this[_0x4db664(0x159)]('events.history',{'type':'state','common':{'name':'Event\x20History','type':_0x4db664(0x18b),'role':_0x4db664(0x13c),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.trigger',{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0x24c),'type':_0x4db664(0x215),'role':_0x4db664(0x1f7),'read':!![],'write':!![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4db664(0x241),{'type':_0x4db664(0xe9),'common':{'name':'Last\x20Result','type':_0x4db664(0x18b),'role':_0x4db664(0x13c),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4db664(0x1ec),{'type':'state','common':{'name':_0x4db664(0x116),'type':_0x4db664(0x215),'role':'indicator.alarm','read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4db664(0xaa),{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0x1e6),'type':_0x4db664(0x215),'role':_0x4db664(0x228),'read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4db664(0x1ba),{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0x1c9),'type':'string','role':_0x4db664(0x1c6),'read':!![],'write':![]},'native':{}}),await this[_0x4db664(0x219)](_0x4db664(0x104),{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0xc7),'type':_0x4db664(0x18b),'role':_0x4db664(0xbe),'read':!![],'write':![]},'native':{}}),await this[_0x4db664(0x219)](_0x4db664(0x1e3),{'type':'state','common':{'name':_0x4db664(0x1fc),'type':_0x4db664(0x18b),'role':'state','read':!![],'write':![],'def':_0x4db664(0x18f)},'native':{}}),await this[_0x4db664(0x219)](_0x4db664(0x1aa),{'type':'state','common':{'name':_0x4db664(0x1bc),'type':_0x4db664(0x18b),'role':_0x4db664(0xbe),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4db664(0x122),{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0x1f2),'type':_0x4db664(0x18b),'role':_0x4db664(0xbe),'read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](_0x4db664(0x209),{'type':_0x4db664(0x17d),'common':{'name':_0x4db664(0x151)},'native':{}}),await this['setObjectNotExistsAsync'](_0x4db664(0x223),{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0xd7),'type':_0x4db664(0x215),'role':'indicator','read':!![],'write':![],'def':![]},'native':{}}),await this[_0x4db664(0x219)]('analysis.automation.description',{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0x1a9),'type':_0x4db664(0x18b),'role':_0x4db664(0xbe),'read':!![],'write':![]},'native':{}}),await this[_0x4db664(0x219)](_0x4db664(0x15a),{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0x227),'type':_0x4db664(0x18b),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x4db664(0x219)](_0x4db664(0x118),{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0x1b9),'type':_0x4db664(0x18b),'role':_0x4db664(0x13c),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x4db664(0xbc),{'type':_0x4db664(0xe9),'common':{'name':_0x4db664(0x115),'type':_0x4db664(0x18b),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x4db664(0x139)](),await this[_0x4db664(0x229)]();}async[a0_0x49910d(0x1c4)](){const _0x470037=a0_0x49910d;await this[_0x470037(0x159)](_0x470037(0x207),{'type':_0x470037(0x17d),'common':{'name':_0x470037(0x250)},'native':{}}),await this[_0x470037(0x159)](SYSTEM_DP_MODE,{'type':_0x470037(0xe9),'common':{'name':_0x470037(0xe4),'type':_0x470037(0x18b),'role':_0x470037(0xe9),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x470037(0x174)],'states':{[SYSTEM_MODES[_0x470037(0x174)]]:'Normal',[SYSTEM_MODES['VACATION']]:_0x470037(0xb0),[SYSTEM_MODES[_0x470037(0x1ac)]]:_0x470037(0x246),[SYSTEM_MODES[_0x470037(0x19c)]]:_0x470037(0xba)}},'native':{}});}async[a0_0x49910d(0x244)](_0x39576f,_0x4f70a1=![],_0x27fcdb=![]){const _0xecb933=a0_0x49910d;this[_0xecb933(0x210)][_0xecb933(0x184)]((_0x4f70a1?_0xecb933(0xf2):'')+_0xecb933(0x1a2)+_0x39576f+'\x22'+(_0x27fcdb?_0xecb933(0x1bf):''));const _0x373801=this[_0xecb933(0x145)];let _0x111d78=0x0;_0x373801['notifyTelegramEnabled']&&_0x373801[_0xecb933(0xf4)]&&(await this[_0xecb933(0x1e5)](_0x373801[_0xecb933(0xf4)],_0xecb933(0x175),{'text':_0x39576f,'user':_0x373801[_0xecb933(0x1c3)]}),_0x111d78++);if(_0x373801['notifyPushoverEnabled']&&_0x373801[_0xecb933(0x24b)]){let _0x45e1ff={'message':_0x39576f,'title':_0x27fcdb?_0xecb933(0x17b):_0xecb933(0x11b),'priority':_0x27fcdb?0x2:0x1,'device':_0x373801[_0xecb933(0xa9)]};_0x27fcdb&&(_0x45e1ff[_0xecb933(0x105)]=0x1e,_0x45e1ff[_0xecb933(0x141)]=0xe10,_0x45e1ff[_0xecb933(0x177)]=_0xecb933(0x1be)),await this[_0xecb933(0x1e5)](_0x373801[_0xecb933(0x24b)],_0xecb933(0x175),_0x45e1ff),_0x111d78++;}return _0x373801['notifyEmailEnabled']&&_0x373801[_0xecb933(0x165)]&&(await this[_0xecb933(0x1e5)](_0x373801['notifyEmailInstance'],_0xecb933(0x175),{'text':_0x39576f,'to':_0x373801[_0xecb933(0xbb)]}),_0x111d78++),_0x373801[_0xecb933(0x1ef)]&&_0x373801[_0xecb933(0x221)]&&(await this[_0xecb933(0x1e5)](_0x373801[_0xecb933(0x221)],_0xecb933(0x175),{'text':_0x39576f,'phone':_0x373801['notifyWhatsappRecipient']}),_0x111d78++),_0x373801[_0xecb933(0xc6)]&&_0x373801['notifySignalInstance']&&(await this[_0xecb933(0x1e5)](_0x373801[_0xecb933(0xad)],_0xecb933(0x175),{'text':_0x39576f,'phone':_0x373801[_0xecb933(0x191)]}),_0x111d78++),_0x111d78;}async[a0_0x49910d(0x238)](){const _0x303c99=a0_0x49910d;try{const _0x2e5f76=await this[_0x303c99(0x189)](LTM_DP_RAW_LOG);if(_0x2e5f76&&_0x2e5f76[_0x303c99(0x10c)])this[_0x303c99(0x1e1)]=JSON[_0x303c99(0x1d4)](_0x2e5f76[_0x303c99(0x10c)]);}catch(_0x15258c){this[_0x303c99(0x1e1)]=[];}}async[a0_0x49910d(0x121)](){const _0x5d1256=a0_0x49910d;this['rawEventLog'][_0x5d1256(0xfa)]>RAW_LOG_MAX_SIZE&&this['rawEventLog'][_0x5d1256(0x163)](0x0,this['rawEventLog'][_0x5d1256(0xfa)]-RAW_LOG_MAX_SIZE),await this['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x5d1256(0x140)](this[_0x5d1256(0x1e1)]),'ack':!![]});}async['loadDailyDigests'](){const _0x268e9e=a0_0x49910d;try{const _0x5cab7b=await this[_0x268e9e(0x189)](LTM_DP_DAILY_DIGESTS);if(_0x5cab7b&&_0x5cab7b[_0x268e9e(0x10c)])this[_0x268e9e(0x136)]=JSON[_0x268e9e(0x1d4)](_0x5cab7b[_0x268e9e(0x10c)]);}catch(_0xcee068){this[_0x268e9e(0x136)]=[];}await this[_0x268e9e(0x188)]();}async[a0_0x49910d(0x114)](_0x301582=!![]){const _0x40e2be=a0_0x49910d,_0x1a5bd7=this[_0x40e2be(0x145)][_0x40e2be(0xb3)]||0x3c;this[_0x40e2be(0x136)][_0x40e2be(0xfa)]>_0x1a5bd7&&this['dailyDigests']['splice'](0x0,this[_0x40e2be(0x136)]['length']-_0x1a5bd7);await this[_0x40e2be(0x15d)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x40e2be(0x140)](this[_0x40e2be(0x136)]),'ack':!![]});if(_0x301582)await this[_0x40e2be(0x188)]();}[a0_0x49910d(0x1dc)](){const _0x4e8b37=a0_0x49910d;if(this[_0x4e8b37(0x1e2)])this['ltmJob'][_0x4e8b37(0xce)]();if(!this[_0x4e8b37(0x13f)]){this['setStateAsync'](LTM_DP_STATUS,{'val':_0x4e8b37(0x1d6),'ack':!![]});return;}this[_0x4e8b37(0x1e2)]=schedule['scheduleJob'](LTM_SCHEDULE,()=>this[_0x4e8b37(0x1a4)]());}[a0_0x49910d(0x214)](){const _0xce91f9=a0_0x49910d;if(this[_0xce91f9(0x180)])clearInterval(this[_0xce91f9(0x180)]);if(!this['isProVersion'])return;this[_0xce91f9(0x180)]=setInterval(()=>this[_0xce91f9(0x12d)](),(this[_0xce91f9(0x145)][_0xce91f9(0x22c)]||0x18)*0x36ee80),setTimeout(()=>this[_0xce91f9(0x12d)](),0x1388);}async['resetAnalysisStates'](){const _0x2705f9=a0_0x49910d;await this[_0x2705f9(0x15d)]('analysis.activitySummary',{'val':_0x2705f9(0xd1),'ack':!![]}),await this[_0x2705f9(0x15d)](_0x2705f9(0x1e3),{'val':this[_0x2705f9(0x13f)]?'N/A\x20(No\x20Activity)':'N/A\x20(Pro\x20Feature)','ack':!![]}),await this[_0x2705f9(0x15d)](_0x2705f9(0x1ec),{'val':![],'ack':!![]}),await this[_0x2705f9(0x15d)](_0x2705f9(0xaa),{'val':![],'ack':!![]}),this[_0x2705f9(0x21e)]=![];}async[a0_0x49910d(0x211)](_0x41ede3){const _0x3499dc=a0_0x49910d;this[_0x3499dc(0x1ff)][_0x3499dc(0x21c)](_0x41ede3);if(this[_0x3499dc(0x1ff)][_0x3499dc(0xfa)]>ANALYSIS_HISTORY_MAX_SIZE)this[_0x3499dc(0x1ff)][_0x3499dc(0x107)]();await this[_0x3499dc(0x15d)](_0x3499dc(0x118),{'val':JSON['stringify'](this['analysisHistory']),'ack':!![]});}[a0_0x49910d(0xf9)](){const _0x2d9e10=a0_0x49910d;if(this[_0x2d9e10(0x190)])this[_0x2d9e10(0x190)][_0x2d9e10(0xce)]();this[_0x2d9e10(0x190)]=schedule[_0x2d9e10(0x1ae)](MODE_RESET_SCHEDULE,async()=>{const _0x913f6f=_0x2d9e10;await this[_0x913f6f(0x13a)](),AUTO_RESET_MODES[_0x913f6f(0xaf)](this['currentSystemMode'])&&await this[_0x913f6f(0x15d)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x913f6f(0x174)],'ack':![]});});}async[a0_0x49910d(0x188)](){const _0x27d486=a0_0x49910d;if(!this[_0x27d486(0x13f)]){await this[_0x27d486(0x15d)](LTM_DP_BASELINE_STATUS,{'val':_0x27d486(0x1d6),'ack':!![]});return;}const _0x49a040=this[_0x27d486(0x136)][_0x27d486(0xfa)]>=(this[_0x27d486(0x145)][_0x27d486(0x133)]||0x7)?_0x27d486(0x252)+this[_0x27d486(0x136)][_0x27d486(0xfa)]+'\x20Tage)':_0x27d486(0xd4)+this[_0x27d486(0x136)][_0x27d486(0xfa)]+'/'+(this[_0x27d486(0x145)][_0x27d486(0x133)]||0x7)+')';await this['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x49a040,'ack':!![]});}async['checkLtmObjects'](){const _0x233554=a0_0x49910d;await this['extendObjectAsync'](_0x233554(0x1ca),{'type':'channel','common':{'name':'LTM'},'native':{}}),await this['extendObjectAsync'](LTM_DP_RAW_LOG,{'type':_0x233554(0xe9),'common':{'name':_0x233554(0x253),'type':_0x233554(0x18b),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x233554(0x159)](LTM_DP_DAILY_DIGESTS,{'type':_0x233554(0xe9),'common':{'name':'Daily\x20Digests','type':_0x233554(0x18b),'role':_0x233554(0x13c),'read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_STATUS,{'type':_0x233554(0xe9),'common':{'name':_0x233554(0xae),'type':_0x233554(0x18b),'role':_0x233554(0xbe),'read':!![],'write':![]},'native':{}}),await this[_0x233554(0x159)](LTM_DP_TRIGGER_DIGEST,{'type':_0x233554(0xe9),'common':{'name':_0x233554(0x1c5),'type':_0x233554(0x215),'role':_0x233554(0x1f7),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x233554(0x159)](LTM_DP_BASELINE_STATUS,{'type':'state','common':{'name':'Baseline\x20Status','type':_0x233554(0x18b),'role':_0x233554(0xbe),'read':!![],'write':![]},'native':{}});}async[a0_0x49910d(0x229)](){const _0x3ff3f6=a0_0x49910d;await this[_0x3ff3f6(0x159)](LTM_DP_DRIFT_CHANNEL,{'type':_0x3ff3f6(0x17d),'common':{'name':_0x3ff3f6(0x1a5)},'native':{}}),await this[_0x3ff3f6(0x159)](LTM_DP_DRIFT_STATUS,{'type':_0x3ff3f6(0xe9),'common':{'name':_0x3ff3f6(0x169),'type':_0x3ff3f6(0x18b),'role':_0x3ff3f6(0xe9),'read':!![],'write':![],'def':_0x3ff3f6(0x18f)},'native':{}}),await this[_0x3ff3f6(0x159)](LTM_DP_DRIFT_DETAILS,{'type':_0x3ff3f6(0xe9),'common':{'name':_0x3ff3f6(0x11f),'type':_0x3ff3f6(0x18b),'role':_0x3ff3f6(0xbe),'read':!![],'write':![]},'native':{}}),await this[_0x3ff3f6(0x159)](LTM_DP_DRIFT_LAST_CHECK,{'type':'state','common':{'name':_0x3ff3f6(0x1e4),'type':_0x3ff3f6(0x18e),'role':_0x3ff3f6(0x1d8),'read':!![],'write':![]},'native':{}});}async[a0_0x49910d(0x12d)](){const _0x2792e5=a0_0x49910d;if(!this[_0x2792e5(0x13f)]||!this[_0x2792e5(0x19d)])return;const _0x1f33bb=this[_0x2792e5(0x145)][_0x2792e5(0xea)]||0xe;if(this[_0x2792e5(0x136)][_0x2792e5(0xfa)]<_0x1f33bb+(this[_0x2792e5(0x145)]['minDaysForBaseline']||0x7)){await this[_0x2792e5(0x15d)](LTM_DP_DRIFT_STATUS,{'val':_0x2792e5(0x1ee),'ack':!![]});return;}const _0x1f3e8a=this['dailyDigests'][_0x2792e5(0x11d)](-_0x1f33bb),_0x47de1b=this['dailyDigests'][_0x2792e5(0x11d)](0x0,this[_0x2792e5(0x136)][_0x2792e5(0xfa)]-_0x1f33bb),_0x3d5cfe='ROLLE:\x20Data\x20Scientist.\x20VERGLEICHE:\x20Dataset\x20A\x20(Recent)\x20vs\x20B\x20(Established).\x20ZIEL:\x20Erkenne\x20Drift.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aB\x20(LTB):\x0a'+JSON[_0x2792e5(0x140)](_0x47de1b)+'\x0a\x0aA\x20(STB):\x0a'+JSON[_0x2792e5(0x140)](_0x1f3e8a);try{const _0x5214f1=await this[_0x2792e5(0x19d)][_0x2792e5(0x1f4)](_0x3d5cfe),_0x3f44fc=JSON[_0x2792e5(0x1d4)](_0x5214f1['response'][_0x2792e5(0xbe)]()[_0x2792e5(0x202)](/```json|```/g,'')[_0x2792e5(0x126)]());_0x3f44fc[_0x2792e5(0x11e)]&&(await this['setStateAsync'](LTM_DP_DRIFT_STATUS,{'val':_0x3f44fc[_0x2792e5(0x11e)],'ack':!![]}),await this[_0x2792e5(0x15d)](LTM_DP_DRIFT_DETAILS,{'val':_0x3f44fc[_0x2792e5(0xc9)],'ack':!![]}),await this['setStateAsync'](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x2792e5(0x226)](),'ack':!![]}));}catch(_0x4912f8){}}async[a0_0x49910d(0x13a)](){const _0x184a1a=a0_0x49910d;try{const _0x863ff5=await this[_0x184a1a(0x189)](SYSTEM_DP_MODE);_0x863ff5&&_0x863ff5[_0x184a1a(0x10c)]&&Object[_0x184a1a(0x167)](SYSTEM_MODES)['includes'](_0x863ff5[_0x184a1a(0x10c)])?this[_0x184a1a(0x135)]=_0x863ff5[_0x184a1a(0x10c)]:(this['currentSystemMode']=SYSTEM_MODES[_0x184a1a(0x174)],await this[_0x184a1a(0x15d)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x184a1a(0x174)],'ack':!![]}));}catch(_0x2f05b6){this[_0x184a1a(0x135)]=SYSTEM_MODES[_0x184a1a(0x174)];}}async[a0_0x49910d(0x183)](){const _0x117c6a=a0_0x49910d;try{const _0x3b4c78=await this[_0x117c6a(0x20c)](_0x117c6a(0xd3));if(_0x3b4c78&&_0x3b4c78[_0x117c6a(0x1b1)]&&_0x3b4c78[_0x117c6a(0x1b1)][_0x117c6a(0xb4)])return _0x3b4c78[_0x117c6a(0x1b1)][_0x117c6a(0xb4)];return _0x117c6a(0x125);}catch(_0x5b4e72){return _0x117c6a(0x1d3);}}async[a0_0x49910d(0x1de)](_0x26f16b){const _0x3abd87=a0_0x49910d;if(!_0x26f16b)return![];this[_0x3abd87(0x10b)]=await this[_0x3abd87(0x183)]();if(_0x26f16b==='TEST-PRO-KEY'||_0x26f16b[_0x3abd87(0x176)](_0x3abd87(0x20f)))return!![];return![];}[a0_0x49910d(0x1ce)](_0x460aa6){const _0x267687=a0_0x49910d;if(this[_0x267687(0x21d)])clearInterval(this[_0x267687(0x21d)]);if(this[_0x267687(0x180)])clearInterval(this[_0x267687(0x180)]);if(this[_0x267687(0x1e2)])this[_0x267687(0x1e2)][_0x267687(0xce)]();if(this[_0x267687(0x190)])this[_0x267687(0x190)][_0x267687(0xce)]();if(this[_0x267687(0x220)])clearTimeout(this[_0x267687(0x220)]);if(this[_0x267687(0x205)])clearTimeout(this[_0x267687(0x205)]);_0x460aa6();}async[a0_0x49910d(0x14e)](_0x1e6601){const _0x2e4884=a0_0x49910d;if(typeof _0x1e6601===_0x2e4884(0x22a)&&_0x1e6601[_0x2e4884(0xe2)]){if(_0x1e6601['command']===_0x2e4884(0x1e0)){if(!_0x1e6601[_0x2e4884(0xe2)]['apiKey'])return this[_0x2e4884(0x1d1)](_0x1e6601[_0x2e4884(0x235)],_0x1e6601[_0x2e4884(0xb2)],{'success':![],'message':'No\x20Key'},_0x1e6601[_0x2e4884(0x1f1)]);try{const _0xa1d16d=new GoogleGenerativeAI(_0x1e6601[_0x2e4884(0xe2)][_0x2e4884(0x1da)])['getGenerativeModel']({'model':_0x2e4884(0xa4)});await _0xa1d16d[_0x2e4884(0x1f4)](_0x2e4884(0x1d0)),this['sendTo'](_0x1e6601[_0x2e4884(0x235)],_0x1e6601['command'],{'success':!![],'message':_0x2e4884(0x128)},_0x1e6601[_0x2e4884(0x1f1)]);}catch(_0x3918b4){this[_0x2e4884(0x1d1)](_0x1e6601[_0x2e4884(0x235)],_0x1e6601[_0x2e4884(0xb2)],{'success':![],'message':_0x3918b4[_0x2e4884(0xe2)]},_0x1e6601['callback']);}}else{if(_0x1e6601[_0x2e4884(0xb2)]===_0x2e4884(0x129)){const _0x2c7c98=await this[_0x2e4884(0x244)]('[Test]\x20Notification',!![]);this[_0x2e4884(0x1d1)](_0x1e6601[_0x2e4884(0x235)],_0x1e6601[_0x2e4884(0xb2)],{'success':_0x2c7c98>0x0,'message':_0x2c7c98+'\x20sent'},_0x1e6601['callback']);}else{if(_0x1e6601[_0x2e4884(0xb2)]==='getLtmData'){if(!this['isProVersion'])return this[_0x2e4884(0x1d1)](_0x1e6601[_0x2e4884(0x235)],_0x1e6601[_0x2e4884(0xb2)],{'success':![],'isPro':![]},_0x1e6601['callback']);let _0x1f4550={'status':_0x2e4884(0x18f),'details':'','lastCheck':0x0};try{_0x1f4550['status']=(await this[_0x2e4884(0x189)](LTM_DP_DRIFT_STATUS))['val'],_0x1f4550[_0x2e4884(0x1fd)]=(await this[_0x2e4884(0x189)](LTM_DP_DRIFT_DETAILS))[_0x2e4884(0x10c)],_0x1f4550['lastCheck']=(await this[_0x2e4884(0x189)](LTM_DP_DRIFT_LAST_CHECK))[_0x2e4884(0x10c)];}catch(_0x1dc227){}this[_0x2e4884(0x1d1)](_0x1e6601[_0x2e4884(0x235)],_0x1e6601[_0x2e4884(0xb2)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x2e4884(0x136)],'driftAnalysis':_0x1f4550,'analysisHistory':this[_0x2e4884(0x1ff)]},_0x1e6601[_0x2e4884(0x1f1)]);}else{if(_0x1e6601[_0x2e4884(0xb2)]==='getEnums'){const _0x1d1e70=await this['getForeignObjectsAsync'](_0x2e4884(0x156),'enum'),_0x948b05=[];if(_0x1d1e70)for(const _0x1bc60c in _0x1d1e70){const _0x53d018=_0x1d1e70[_0x1bc60c],_0x29df16=(_0x53d018[_0x2e4884(0xf0)]&&typeof _0x53d018[_0x2e4884(0xf0)][_0x2e4884(0x10f)]==='object'?_0x53d018['common'][_0x2e4884(0x10f)]['de']:_0x53d018[_0x2e4884(0xf0)][_0x2e4884(0x10f)])||_0x53d018[_0x2e4884(0xf0)][_0x2e4884(0x10f)];_0x948b05[_0x2e4884(0x12b)]({'id':_0x1bc60c,'name':_0x29df16});}this[_0x2e4884(0x1d1)](_0x1e6601[_0x2e4884(0x235)],_0x1e6601['command'],{'success':!![],'enums':_0x948b05},_0x1e6601[_0x2e4884(0x1f1)]);}else{if(_0x1e6601[_0x2e4884(0xb2)]===_0x2e4884(0x218))try{const _0xaf87e2=await this[_0x2e4884(0x16a)](_0x1e6601[_0x2e4884(0xe2)]||{});this[_0x2e4884(0x1d1)](_0x1e6601['from'],_0x1e6601[_0x2e4884(0xb2)],{'success':!![],'devices':_0xaf87e2},_0x1e6601[_0x2e4884(0x1f1)]);}catch(_0x2526c9){this[_0x2e4884(0x1d1)](_0x1e6601['from'],_0x1e6601[_0x2e4884(0xb2)],{'success':![],'error':_0x2526c9[_0x2e4884(0xe2)]},_0x1e6601['callback']);}else{if(_0x1e6601[_0x2e4884(0xb2)]==='submitFeedback'){const {historyId:_0x287307,rating:_0x2cadf6,comment:_0x105475,alertReason:_0x507a57}=_0x1e6601[_0x2e4884(0xe2)];_0x287307&&_0x2cadf6?(await this[_0x2e4884(0x14c)]({'timestamp':Date[_0x2e4884(0x226)](),'historyId':_0x287307,'rating':_0x2cadf6,'comment':_0x105475,'alertReason':_0x507a57}),this[_0x2e4884(0x1d1)](_0x1e6601[_0x2e4884(0x235)],_0x1e6601[_0x2e4884(0xb2)],{'success':!![]},_0x1e6601[_0x2e4884(0x1f1)])):this[_0x2e4884(0x1d1)](_0x1e6601[_0x2e4884(0x235)],_0x1e6601[_0x2e4884(0xb2)],{'success':![],'error':_0x2e4884(0x101)},_0x1e6601[_0x2e4884(0x1f1)]);}}}}}}}}}if(require['main']!==module)module[a0_0x49910d(0x1e7)]=_0xbf1239=>new CogniLiving(_0xbf1239);else new CogniLiving();