function a0_0x4cea(){const _0x18ea27=['LTM.baselineStatus','1443010QcKYPd','Gemini\x20AI\x20initialized.','Lernphase\x20(','includes','executeAutomationAction','useWeather','calendarName','20Ukvojg','analysis.training.triggerTopology','stopService','./lib/scanner','scanForDevices','SET_LEARNING_MODE','Fehler:\x20','state','analysis.automation.description','error','map','scanThermostats','analysis.security.learningStatus','cogni-living','modeResetJob','ready','350959OZTQld','ANALYZE_TREND','setupModeResetScheduler','triggerEnergyPrediction','parse','common','location','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','General\x20Activity\x20Trend\x20(%)','pop','minutes_safe','Key\x20not\x20found\x20or\x20not\x20provided','presenceDevices','Adapter','response','getOverviewData','stringify','thermostat','SET_TOPOLOGY','notifyTelegramInstance','analysisInterval','updateLocation','healthTrendInterval','analysis.automation.patternDetected','Kein\x20Kalender-Adapter','some','temperature','constructor','./lib/dead_man','updateTopology','setObjectNotExistsAsync','.system.mode','./lib/topology','3886020GwotQe','simulateEnergyMPC','getState','analysis.energy.warmupTargets','forecast.current.weather','stateChange','length','setHours','value','key','now','Daten\x20nicht\x20verfÃ¼gbar','\x20min\x20ausbleiben.','Verbunden','message','currentSystemMode','./lib/installer','Test','keys','command','sunny','application/json','initHistory','1204710Yoepct','setupLtmScheduler','enum','floor','updateTopologyMatrix','notifyTelegramEnabled','exitTimer','trackerHeartbeat','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','string','onMessage','Simulation\x20durch\x20Admin\x20(Test)','weatherunderground.0','bind','setStateAsync','initSystemConfig','analysis.health.todayVector','./lib/setup','dismissAutomation','setPresence','analysis.topology.structure','subscribeStates','SYSTEM_DP_MODE','getGenerativeModel','1381440mGNSLO','triggerGaitAnalysis','setupBriefingScheduler','version','runGeminiAnalysis','matrix','eventHistory','Warm-Up\x20Target\x20Temps\x20(JSON)','TRAIN_HEALTH','loadSystemMode','analysis.automation.targetValue','calendarInstance','LTM.triggerDailyDigest','LTM.trainingData.sequences','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','runPythonHealthCheck','checkSolarCondition','values','system.mode','Active\x20Ventilation\x20Alerts','val','analysis.training.triggerComfort','send','daswetter.0','analysisHistory','inactivityThresholdHours','scanDevices','sendNotification','24CylBqg','devices','Keine\x20Antwort\x20von\x20Gemini','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','Reinforcement\x20Learning\x20Penalties','briefingJob','toString','systemConfig','analysis.energy.insulationScore','rawEventLog','sonn','getMinutes','.communicate.request','Heizung\x20kann\x20','slice','TRACK_EVENT','Gesendet','getOutsideTemperatureNumeric','resetRLPenalty','info','config','./lib/python_bridge','getEnums','PYTHON_EXE','geminiApiKey','abortExitTimer','add','analysis.training.triggerHealth','setupDriftAnalysisScheduler','driftAnalysisTimer','triggerBriefing','sort','ltmJob','getLtmData','debug','978908lXaKzo','setState','LTM.trainingData.thermodynamics','_calName','getHours','createDailyDigest','sensorLastValues','LTM.dailyDigests','\x20Tage)','callback','Notification\x20Test\x20Failed:\x20','getStateAsync','search','Kein\x20Wetter-Adapter','TRAIN_COMFORT','cogni-living\x20adapter\x20starting\x20(v','join','checkThermostats','system.presenceWho','dailyDigests','isProVersion','analysis.triggerBriefing','toLowerCase','checkCalendarTriggers','analysis.training.status','isGracePeriodActive','onStateChange','abs','instance','analysis.training.triggerSecurity','triggerDailyDigest','checkAndInstall','checkWifiPresence','{\x22default\x22:\x2021}','onUnload','text','SYSTEM_MODES','fill','./lib/scheduler','guest','getForeignStateAsync','log','isPresent','apply','timestamp','./lib/ai_agent','WiFi\x20Presence\x20detected.','initZombies','push','Sec-Training\x20started...','cancel','unload','sendTo','from','object','LTM.rawEventLog','@google/generative-ai','analysis.automation.targetId','json','updated','ack','10148054PMsCVD','automation.triggerAction','Verbindung\x20erfolgreich!','enum.rooms.*','forEach','subscribeForeignStatesAsync','./lib/recorder','analysis.automation.triggerAction','(((.+)+)+)+$','type','runBaselineDriftAnalysis','analysisTimer','scores','PREDICT_ENERGY','lastTrackerEventTime','analysis.trigger','Kein\x20API\x20Key\x20Ã¼bergeben','genAI','processSensorEvent','system.adapter.','analysis.training.triggerEnergy','sendMorningBriefing','VACATION','updateHealthVector','communicate.request','endsWith','getCalendarNames','./lib/automation','Activity-Level','licenseKey','â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','Current.WeatherText','trackerEnabled','testContext','lastAlertState','getForeignObjectsAsync','NORMAL','simulateButler','name','main','Guest\x20Mode','geminiModel','dependencyInstallInProgress','runAutopilot','analysis.automation.autoApply'];a0_0x4cea=function(){return _0x18ea27;};return a0_0x4cea();}function a0_0xeb33(_0x2e2fb8,_0x37d9df){const _0x25bcba=a0_0x4cea();return a0_0xeb33=function(_0xa2b3ba,_0x3dfcfb){_0xa2b3ba=_0xa2b3ba-0xd0;let _0x4ceabc=_0x25bcba[_0xa2b3ba];return _0x4ceabc;},a0_0xeb33(_0x2e2fb8,_0x37d9df);}const a0_0x30c918=a0_0xeb33;(function(_0x216ffa,_0x2fda5a){const _0x2a3428=a0_0xeb33,_0x37d23c=_0x216ffa();while(!![]){try{const _0x56d564=parseInt(_0x2a3428(0xeb))/0x1+-parseInt(_0x2a3428(0xd4))/0x2+-parseInt(_0x2a3428(0x13b))/0x3+parseInt(_0x2a3428(0x17a))/0x4*(-parseInt(_0x2a3428(0xdb))/0x5)+-parseInt(_0x2a3428(0x123))/0x6+parseInt(_0x2a3428(0x1b7))/0x7+-parseInt(_0x2a3428(0x157))/0x8*(-parseInt(_0x2a3428(0x10c))/0x9);if(_0x56d564===_0x2fda5a)break;else _0x37d23c['push'](_0x37d23c['shift']());}catch(_0x291b12){_0x37d23c['push'](_0x37d23c['shift']());}}}(a0_0x4cea,0xb3487));const a0_0x3dfcfb=(function(){let _0x10de47=!![];return function(_0x5bae80,_0x2029d5){const _0x595ae7=_0x10de47?function(){const _0x8faaa5=a0_0xeb33;if(_0x2029d5){const _0x266717=_0x2029d5[_0x8faaa5(0x1a5)](_0x5bae80,arguments);return _0x2029d5=null,_0x266717;}}:function(){};return _0x10de47=![],_0x595ae7;};}()),a0_0xa2b3ba=a0_0x3dfcfb(this,function(){const _0x537795=a0_0xeb33;return a0_0xa2b3ba[_0x537795(0x15d)]()[_0x537795(0x186)]('(((.+)+)+)+$')['toString']()[_0x537795(0x106)](a0_0xa2b3ba)[_0x537795(0x186)](_0x537795(0x1bf));});a0_0xa2b3ba();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x30c918(0x1b2)),installer=require(a0_0x30c918(0x11c)),scanner=require(a0_0x30c918(0xde)),schedulers=require(a0_0x30c918(0x1a0)),topology=require(a0_0x30c918(0x10b)),setup=require(a0_0x30c918(0x134)),recorder=require(a0_0x30c918(0x1bd)),pythonBridge=require(a0_0x30c918(0x16c)),aiAgent=require(a0_0x30c918(0x1a7)),deadMan=require(a0_0x30c918(0x107)),automation=require(a0_0x30c918(0x1d2)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x30c918(0xf8)]{constructor(_0x3b670d){const _0x13c892=a0_0x30c918;super({..._0x3b670d,'name':_0x13c892(0xe8)}),this[_0x13c892(0x141)]=[],this[_0x13c892(0x153)]=[],this['rawEventLog']=[],this[_0x13c892(0x18d)]=[],this[_0x13c892(0x180)]={},this[_0x13c892(0x15e)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x13c892(0x1a4)]=!![],this[_0x13c892(0x129)]=null,this['exitGraceTimer']=null,this[_0x13c892(0x193)]=![],this[_0x13c892(0x1c8)]=null,this['geminiModel']=null,this[_0x13c892(0x11b)]=setup['SYSTEM_MODES'][_0x13c892(0x1db)],this[_0x13c892(0x18e)]=![],this[_0x13c892(0x1d9)]=![],this[_0x13c892(0x1c2)]=null,this[_0x13c892(0x177)]=null,this[_0x13c892(0xe9)]=null,this[_0x13c892(0x174)]=null,this[_0x13c892(0x15c)]=null,this[_0x13c892(0x12a)]=null,this[_0x13c892(0x101)]=null,this[_0x13c892(0xd0)]=![],this[_0x13c892(0x1c5)]=Date[_0x13c892(0x116)](),this['on'](_0x13c892(0xea),this['onReady'][_0x13c892(0x130)](this)),this['on'](_0x13c892(0x111),this[_0x13c892(0x194)][_0x13c892(0x130)](this)),this['on'](_0x13c892(0x1ad),this[_0x13c892(0x19c)][_0x13c892(0x130)](this)),this['on'](_0x13c892(0x11a),this[_0x13c892(0x12d)][_0x13c892(0x130)](this));}async['onReady'](){const _0x1915a3=a0_0x30c918;this[_0x1915a3(0x1a3)][_0x1915a3(0x16a)](_0x1915a3(0x189)+this[_0x1915a3(0x13e)]+')\x20-\x20Phase\x20D\x20(Data\x20Separation)');if(!installer[_0x1915a3(0x199)](this,()=>this['startSystem']()))return;}async['startSystem'](){const _0x264952=a0_0x30c918;await setup[_0x264952(0x1a9)](this);try{this['isProVersion']=await setup['checkLicense'](this[_0x264952(0x16b)][_0x264952(0x1d4)]);}catch(_0x4b2cea){}if(!this['config'][_0x264952(0x154)]||this[_0x264952(0x16b)][_0x264952(0x154)]<0.1)this[_0x264952(0x16b)]['inactivityThresholdHours']=0xc;await setup[_0x264952(0x122)](this),await setup[_0x264952(0x132)](this);if(this[_0x264952(0x16b)][_0x264952(0x16f)])try{this[_0x264952(0x1c8)]=new GoogleGenerativeAI(this['config']['geminiApiKey']),this[_0x264952(0x1e0)]=this[_0x264952(0x1c8)][_0x264952(0x13a)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x264952(0x121)}}),this[_0x264952(0x1a3)][_0x264952(0x16a)](_0x264952(0xd5));}catch(_0x371b8e){this[_0x264952(0x1a3)][_0x264952(0xe4)]('Gemini\x20Init\x20Error:\x20'+_0x371b8e[_0x264952(0x11a)]);}await setup['createAllObjects'](this),await this[_0x264952(0x144)](),await this['setObjectNotExistsAsync']('analysis.energy.pinnForecast',{'type':_0x264952(0xe2),'common':{'name':'PINN\x20AI\x20Forecast','type':_0x264952(0x12c),'role':_0x264952(0x1b4),'read':!![],'write':![]},'native':{}}),await this[_0x264952(0x109)]('analysis.energy.ventilationAlerts',{'type':_0x264952(0xe2),'common':{'name':_0x264952(0x14e),'type':_0x264952(0x12c),'role':_0x264952(0x1b4),'read':!![],'write':![]},'native':{}}),await this[_0x264952(0x109)]('analysis.energy.warmupTimes',{'type':_0x264952(0xe2),'common':{'name':_0x264952(0xf2),'type':_0x264952(0x12c),'role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x264952(0x10f),{'type':'state','common':{'name':_0x264952(0x142),'type':_0x264952(0x12c),'role':_0x264952(0x1b4),'read':!![],'write':!![],'def':_0x264952(0x19b)},'native':{}}),await this[_0x264952(0x109)]('analysis.energy.rlPenalties',{'type':'state','common':{'name':_0x264952(0x15b),'type':_0x264952(0x12c),'role':_0x264952(0x1b4),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x264952(0x109)]('analysis.health.activityTrend',{'type':_0x264952(0xe2),'common':{'name':_0x264952(0xf3),'type':'number','role':_0x264952(0x114),'unit':'%','read':!![],'write':![]},'native':{}});try{const _0x4891e5=await this[_0x264952(0x185)]('LTM.rawEventLog');if(_0x4891e5&&_0x4891e5['val'])this[_0x264952(0x160)]=JSON['parse'](_0x4891e5[_0x264952(0x14f)]);}catch(_0x167dc7){this[_0x264952(0x160)]=[];}try{const _0x14bd11=await this['getStateAsync']('LTM.dailyDigests');if(_0x14bd11&&_0x14bd11['val'])this['dailyDigests']=JSON[_0x264952(0xef)](_0x14bd11[_0x264952(0x14f)]);}catch(_0xe5e1a4){this['dailyDigests']=[];}const _0x5b5bc5=this[_0x264952(0x18d)][_0x264952(0x112)]>=(this['config']['minDaysForBaseline']||0x7)?'Aktiv\x20('+this[_0x264952(0x18d)][_0x264952(0x112)]+_0x264952(0x182):_0x264952(0xd6)+this[_0x264952(0x18d)][_0x264952(0x112)]+'/'+(this[_0x264952(0x16b)]['minDaysForBaseline']||0x7)+')';await this[_0x264952(0x131)](_0x264952(0xd3),{'val':_0x5b5bc5,'ack':!![]}),this['subscribeStates'](_0x264952(0x1c6)),this[_0x264952(0x138)](_0x264952(0x147)),this[_0x264952(0x138)](_0x264952(0x14d)),this['subscribeStates'](_0x264952(0x18f)),this['subscribeStates'](_0x264952(0x1be)),this[_0x264952(0x138)](_0x264952(0xd2)),this[_0x264952(0x138)](_0x264952(0x197)),this['subscribeStates'](_0x264952(0x172)),this[_0x264952(0x138)](_0x264952(0x1cb)),this['subscribeStates'](_0x264952(0x150)),this[_0x264952(0x138)](_0x264952(0xdc)),this[_0x264952(0x138)]('analysis.energy.mpcActive');const _0x4b2825=this[_0x264952(0x16b)][_0x264952(0x158)];if(_0x4b2825)for(const _0x4e5f0d of _0x4b2825){await this[_0x264952(0x1bc)](_0x4e5f0d['id']);}const _0x367ac1=this[_0x264952(0x16b)][_0x264952(0xf7)];if(_0x367ac1)for(const _0x4129f8 of _0x367ac1){await this[_0x264952(0x1bc)](_0x4129f8);}if(this[_0x264952(0x16b)][_0x264952(0x128)]&&this['config'][_0x264952(0xfe)])await this['subscribeForeignStatesAsync'](this[_0x264952(0x16b)]['notifyTelegramInstance']+_0x264952(0x163));setTimeout(()=>this['checkWifiPresence'](),0x1388);if(this[_0x264952(0x1c2)])clearInterval(this[_0x264952(0x1c2)]);const _0x203d46=this[_0x264952(0x16b)][_0x264952(0xff)]||0xf;_0x203d46>0x0&&(this[_0x264952(0x1c2)]=setInterval(()=>{const _0x3c637b=_0x264952;this[_0x3c637b(0xd1)](),automation['checkCalendarTriggers'](this);},_0x203d46*0x3c*0x3e8));setTimeout(()=>automation[_0x264952(0x191)](this),0x2710);this['config'][_0x264952(0x1d7)]!==![]&&(this[_0x264952(0x12a)]=setInterval(()=>{const _0x59b393=_0x264952;if(this[_0x59b393(0x18e)]){const _0x1932cd=Date[_0x59b393(0x116)](),_0x2e3af6=this[_0x59b393(0x1c5)]||_0x1932cd,_0x77e150=(_0x1932cd-_0x2e3af6)/0x3e8;_0x77e150>0x2&&(this['lastTrackerEventTime']=_0x1932cd,pythonBridge[_0x59b393(0x151)](this,_0x59b393(0x166),{'room':null,'dt':_0x77e150}));}},0xbb8));if(this[_0x264952(0x101)])clearInterval(this[_0x264952(0x101)]);this['healthTrendInterval']=setInterval(()=>{const _0x530d1c=_0x264952;this[_0x530d1c(0x18e)]&&(this[_0x530d1c(0x1a3)][_0x530d1c(0x16a)](_0x530d1c(0x1d5)),this[_0x530d1c(0x14a)]());},0x4*0x3c*0x3c*0x3e8),schedulers[_0x264952(0x124)](this,()=>aiAgent[_0x264952(0x17f)](this,pythonBridge)),schedulers[_0x264952(0xed)](this),schedulers[_0x264952(0x173)](this,()=>aiAgent[_0x264952(0x1c1)](this)),schedulers[_0x264952(0x13d)](this,()=>aiAgent[_0x264952(0x1cc)](this)),pythonBridge['startService'](this,installer[_0x264952(0x16e)]),setTimeout(async()=>{const _0x12a830=_0x264952;await topology[_0x12a830(0x108)](this);try{const _0x23011f=await this['getStateAsync'](_0x12a830(0x137));if(_0x23011f&&_0x23011f['val'])pythonBridge[_0x12a830(0x151)](this,_0x12a830(0xfd),JSON['parse'](_0x23011f[_0x12a830(0x14f)]));}catch(_0x4db319){}this['runPythonHealthCheck'](),this[_0x12a830(0x13c)](),this[_0x12a830(0xee)](),this[_0x12a830(0x1ce)]();},0x1388);}[a0_0x30c918(0x19c)](_0x2ff707){const _0x5784bb=a0_0x30c918;if(this[_0x5784bb(0x1c2)])clearInterval(this['analysisTimer']);if(this['driftAnalysisTimer'])clearInterval(this[_0x5784bb(0x174)]);if(this['trackerHeartbeat'])clearInterval(this[_0x5784bb(0x12a)]);if(this[_0x5784bb(0x101)])clearInterval(this['healthTrendInterval']);if(this['ltmJob'])this['ltmJob'][_0x5784bb(0x1ac)]();if(this[_0x5784bb(0xe9)])this[_0x5784bb(0xe9)][_0x5784bb(0x1ac)]();if(this['briefingJob'])this[_0x5784bb(0x15c)][_0x5784bb(0x1ac)]();recorder[_0x5784bb(0x170)](this),pythonBridge[_0x5784bb(0xdd)](this),_0x2ff707();}async[a0_0x30c918(0x194)](_0x241daa,_0x3f3697){const _0x477db1=a0_0x30c918;if(!_0x3f3697||this[_0x477db1(0xd0)])return;if(_0x241daa['includes']('telegram')&&_0x241daa[_0x477db1(0x1d0)](_0x477db1(0x1cf))&&_0x3f3697['val'])return;if(_0x241daa===this['namespace']+_0x477db1(0x10a)){if(_0x3f3697[_0x477db1(0x14f)]&&Object[_0x477db1(0x14c)](setup[_0x477db1(0x19e)])[_0x477db1(0xd7)](_0x3f3697['val'])){this[_0x477db1(0x11b)]=_0x3f3697[_0x477db1(0x14f)];if(_0x3f3697[_0x477db1(0x14f)]===setup['SYSTEM_MODES'][_0x477db1(0x1cd)])await recorder[_0x477db1(0x136)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x477db1(0x18e)]){let _0x35de35=![],_0x178fe8=0x0,_0x4e6ec4='manual';if(this[_0x477db1(0x11b)]==='party')_0x35de35=!![],_0x178fe8=0x168,_0x4e6ec4='Party\x20Mode';else this[_0x477db1(0x11b)]===_0x477db1(0x1a1)&&(_0x35de35=!![],_0x178fe8=0x5a0,_0x4e6ec4=_0x477db1(0x1df));pythonBridge[_0x477db1(0x151)](this,_0x477db1(0xe0),{'active':_0x35de35,'duration':_0x178fe8,'label':_0x4e6ec4}),await this['setStateAsync'](_0x477db1(0xe7),{'val':JSON['stringify']({'active':_0x35de35,'label':_0x4e6ec4,'timestamp':Date[_0x477db1(0x116)]()}),'ack':!![]});}}if(!_0x3f3697[_0x477db1(0x1b6)])this[_0x477db1(0x17b)](_0x241daa,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x3f3697[_0x477db1(0x1b6)]){if(_0x241daa['includes'](_0x477db1(0x1c6))&&_0x3f3697[_0x477db1(0x14f)]){this[_0x477db1(0x17b)](_0x241daa,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0x241daa[_0x477db1(0xd7)](_0x477db1(0x198))&&_0x3f3697['val']){this['setState'](_0x241daa,{'val':![],'ack':!![]});if(this[_0x477db1(0x18e)])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x241daa['includes'](_0x477db1(0x175))&&_0x3f3697[_0x477db1(0x14f)]){this[_0x477db1(0x17b)](_0x241daa,{'val':![],'ack':!![]}),aiAgent[_0x477db1(0x1cc)](this);return;}if(_0x241daa[_0x477db1(0xd7)](_0x477db1(0x1b8))&&_0x3f3697[_0x477db1(0x14f)]){this[_0x477db1(0x17b)](_0x241daa,{'val':![],'ack':!![]}),aiAgent[_0x477db1(0xd8)](this);return;}if(_0x241daa[_0x477db1(0xd7)]('analysis.training.triggerSecurity')&&_0x3f3697[_0x477db1(0x14f)]){this['setState'](_0x241daa,{'val':![],'ack':!![]});if(this[_0x477db1(0x18e)])try{const _0x535120=await this[_0x477db1(0x185)](_0x477db1(0x148));if(_0x535120&&_0x535120['val']){const _0x26686e=JSON['parse'](_0x535120[_0x477db1(0x14f)]);this[_0x477db1(0x131)](_0x477db1(0x192),{'val':_0x477db1(0x1ab),'ack':!![]}),pythonBridge['send'](this,'TRAIN_SECURITY',{'sequences':_0x26686e});}}catch(_0x4ef219){}return;}if(_0x241daa[_0x477db1(0xd7)](_0x477db1(0x172))&&_0x3f3697[_0x477db1(0x14f)]){this['setState'](_0x241daa,{'val':![],'ack':!![]});if(this[_0x477db1(0x18e)])try{const _0x448bb1=await this['getStateAsync'](_0x477db1(0x181));if(_0x448bb1&&_0x448bb1['val'])pythonBridge[_0x477db1(0x151)](this,_0x477db1(0x143),{'digests':JSON[_0x477db1(0xef)](_0x448bb1[_0x477db1(0x14f)])});}catch(_0x38db19){}return;}if(_0x241daa[_0x477db1(0xd7)](_0x477db1(0x1cb))&&_0x3f3697['val']){this[_0x477db1(0x17b)](_0x241daa,{'val':![],'ack':!![]});if(this[_0x477db1(0x18e)])try{const _0x3ff395=await this[_0x477db1(0x185)](_0x477db1(0x17c));if(_0x3ff395&&_0x3ff395[_0x477db1(0x14f)])pythonBridge['send'](this,'TRAIN_ENERGY',{'points':JSON[_0x477db1(0xef)](_0x3ff395[_0x477db1(0x14f)])});}catch(_0x2059f4){}return;}if(_0x241daa[_0x477db1(0xd7)](_0x477db1(0x150))&&_0x3f3697[_0x477db1(0x14f)]){this[_0x477db1(0x17b)](_0x241daa,{'val':![],'ack':!![]});if(this[_0x477db1(0x18e)])try{const _0x5ad5db=await this['getStateAsync'](_0x477db1(0x1b1));if(_0x5ad5db&&_0x5ad5db[_0x477db1(0x14f)])pythonBridge['send'](this,_0x477db1(0x188),{'events':JSON[_0x477db1(0xef)](_0x5ad5db[_0x477db1(0x14f)])});}catch(_0x481130){}return;}if(_0x241daa['includes'](_0x477db1(0xdc))&&_0x3f3697[_0x477db1(0x14f)]){this['setState'](_0x241daa,{'val':![],'ack':!![]}),topology[_0x477db1(0x108)](this);return;}}if(this[_0x477db1(0x16b)][_0x477db1(0xf7)]&&this[_0x477db1(0x16b)][_0x477db1(0xf7)][_0x477db1(0xd7)](_0x241daa)){await this[_0x477db1(0x19a)]();return;}const _0x564819=(this[_0x477db1(0x16b)][_0x477db1(0x158)]||[])['find'](_0x4fd8aa=>_0x4fd8aa['id']===_0x241daa);if(_0x564819){const _0x1ddf62=await recorder[_0x477db1(0x1c9)](this,_0x241daa,_0x3f3697,_0x564819);_0x1ddf62&&_0x1ddf62['type']==='motion'&&_0x1ddf62[_0x477db1(0xf1)]&&this['isProVersion']&&deadMan[_0x477db1(0x100)](this,_0x1ddf62[_0x477db1(0xf1)]),(_0x564819['type']==='temperature'||_0x564819[_0x477db1(0x1c0)]===_0x477db1(0xfc))&&automation['cleanupGhostInterventions'](this);}}async['onMessage'](_0x1d363b){const _0x35e6d3=a0_0x30c918;if(typeof _0x1d363b===_0x35e6d3(0x1b0)&&_0x1d363b[_0x35e6d3(0x11a)]){if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x18b))try{const _0xc89199=await automation[_0x35e6d3(0xe6)](this);this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![],'results':_0xc89199},_0x1d363b[_0x35e6d3(0x183)]);}catch(_0x57df5b){this['sendTo'](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':![],'error':_0x57df5b['message']},_0x1d363b['callback']);}else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x10d))try{const {current_temps:_0x365f07,t_out:_0x4681bc,targets:_0x368ba9,t_forecast:_0x142a38}=_0x1d363b[_0x35e6d3(0x11a)],_0x2025e0=[];let _0x2c9875={};try{const _0x5681b2=await this[_0x35e6d3(0x185)](_0x35e6d3(0x15f));if(_0x5681b2&&_0x5681b2[_0x35e6d3(0x14f)]){const _0x26b519=JSON[_0x35e6d3(0xef)](_0x5681b2['val']);_0x2c9875=_0x26b519[_0x35e6d3(0x1c3)]||_0x26b519;}}catch(_0x398c91){}const _0x40c479=_0x142a38!==undefined&&_0x142a38!==null?(_0x4681bc+_0x142a38)/0x2:_0x4681bc;for(const [_0x26e7bc,_0x53157a]of Object['entries'](_0x365f07)){const _0x3ef9b6=_0x368ba9[_0x26e7bc]||0x15;if(_0x53157a<=_0x3ef9b6)continue;let _0x13623e=_0x2c9875[_0x26e7bc]||-0.5;if(_0x13623e>=0x0)_0x13623e=-0.5;const _0x4a10a8=Math[_0x35e6d3(0x195)](_0x13623e),_0x3f47af=_0x53157a-_0x3ef9b6;let _0x216db6=Math[_0x35e6d3(0x126)](_0x3f47af/_0x4a10a8*0x3c);const _0x7efed=_0x53157a-_0x4681bc,_0x24d179=_0x53157a-_0x40c479;if(_0x24d179!==0x0&&_0x7efed!==0x0){const _0xa09901=_0x7efed/_0x24d179;_0x216db6=Math[_0x35e6d3(0x126)](_0x216db6*_0xa09901);}if(_0x216db6>0xf){if(_0x216db6>0xf0)_0x216db6=0xf0;_0x2025e0[_0x35e6d3(0x1aa)]({'room':_0x26e7bc,'minutes_safe':_0x216db6,'target':_0x3ef9b6,'current':_0x53157a,'savings_msg':_0x35e6d3(0x164)+_0x216db6+_0x35e6d3(0x118)});}}_0x2025e0[_0x35e6d3(0x176)]((_0x3005f8,_0x1921d7)=>_0x1921d7['minutes_safe']-_0x3005f8[_0x35e6d3(0xf5)]),this[_0x35e6d3(0x1ae)](_0x1d363b['from'],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![],'proposals':_0x2025e0},_0x1d363b[_0x35e6d3(0x183)]);}catch(_0x186ae2){this['sendTo'](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':![],'error':_0x186ae2['message']},_0x1d363b['callback']);}else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x169))try{const _0x257054=_0x1d363b[_0x35e6d3(0x11a)][_0x35e6d3(0x115)],_0x45bc7c='analysis.energy.rlPenalties',_0x480675=await this['getStateAsync'](_0x45bc7c);let _0x288ff8={};if(_0x480675&&_0x480675['val'])try{_0x288ff8=JSON[_0x35e6d3(0xef)](_0x480675[_0x35e6d3(0x14f)]);}catch(_0x40e165){}_0x257054&&_0x288ff8[_0x257054]?(delete _0x288ff8[_0x257054],await this[_0x35e6d3(0x131)](_0x45bc7c,{'val':JSON[_0x35e6d3(0xfb)](_0x288ff8),'ack':!![]}),this[_0x35e6d3(0x1a3)][_0x35e6d3(0x16a)](_0x35e6d3(0x149)+_0x257054+_0x35e6d3(0x12b)),this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![]},_0x1d363b['callback'])):this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':![],'error':_0x35e6d3(0xf6)},_0x1d363b[_0x35e6d3(0x183)]);}catch(_0x443631){this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b['command'],{'success':![],'error':_0x443631['message']},_0x1d363b[_0x35e6d3(0x183)]);}else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x135))await this[_0x35e6d3(0x131)](_0x35e6d3(0x102),{'val':![],'ack':!![]}),await this[_0x35e6d3(0x131)](_0x35e6d3(0xe3),{'val':'','ack':!![]}),await this['setStateAsync'](_0x35e6d3(0x1b3),{'val':'','ack':!![]}),this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![]},_0x1d363b['callback']);else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x1dc)){const {targetId:_0x185c40,targetValue:_0x35c978}=_0x1d363b[_0x35e6d3(0x11a)];await this[_0x35e6d3(0x131)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await this[_0x35e6d3(0x131)](_0x35e6d3(0xe3),{'val':_0x35e6d3(0x12e),'ack':!![]}),await this['setStateAsync'](_0x35e6d3(0x1b3),{'val':_0x185c40,'ack':!![]}),await this[_0x35e6d3(0x131)](_0x35e6d3(0x145),{'val':String(_0x35c978),'ack':!![]}),this['sendTo'](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![]},_0x1d363b[_0x35e6d3(0x183)]);}else{if(_0x1d363b[_0x35e6d3(0x11f)]==='testApiKey')try{const _0x108aac=_0x1d363b[_0x35e6d3(0x11a)]['apiKey'];if(!_0x108aac)throw new Error(_0x35e6d3(0x1c7));const _0x4d62f4=new GoogleGenerativeAI(_0x108aac),_0x4db6df=_0x4d62f4['getGenerativeModel']({'model':GEMINI_MODEL}),_0x4617ff=await _0x4db6df['generateContent'](_0x35e6d3(0x11d)),_0x3993c5=await _0x4617ff[_0x35e6d3(0xf9)];if(_0x3993c5[_0x35e6d3(0x19d)]())this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![],'message':_0x35e6d3(0x1b9)},_0x1d363b['callback']);else throw new Error(_0x35e6d3(0x159));}catch(_0x3f8c19){this[_0x35e6d3(0x1ae)](_0x1d363b['from'],_0x1d363b[_0x35e6d3(0x11f)],{'success':![],'message':_0x3f8c19[_0x35e6d3(0x11a)]},_0x1d363b[_0x35e6d3(0x183)]);}else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x155))try{const _0x3f9e31=await scanner[_0x35e6d3(0xdf)](this,_0x1d363b[_0x35e6d3(0x11a)]||{});this['sendTo'](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![],'devices':_0x3f9e31},_0x1d363b[_0x35e6d3(0x183)]);}catch(_0x16c686){this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':![],'error':_0x16c686[_0x35e6d3(0x11a)]},_0x1d363b[_0x35e6d3(0x183)]);}else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x127))try{const {matrix:_0x29b59c}=_0x1d363b[_0x35e6d3(0x11a)],_0x13c62b=await this[_0x35e6d3(0x185)]('analysis.topology.structure');if(_0x13c62b&&_0x13c62b[_0x35e6d3(0x14f)]){const _0x15194d=JSON[_0x35e6d3(0xef)](_0x13c62b[_0x35e6d3(0x14f)]);_0x15194d[_0x35e6d3(0x140)]=_0x29b59c,_0x15194d[_0x35e6d3(0x1b5)]=Date[_0x35e6d3(0x116)](),await this[_0x35e6d3(0x131)](_0x35e6d3(0x137),{'val':JSON[_0x35e6d3(0xfb)](_0x15194d),'ack':!![]}),pythonBridge[_0x35e6d3(0x151)](this,_0x35e6d3(0xfd),_0x15194d);}this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![]},_0x1d363b[_0x35e6d3(0x183)]);}catch(_0x52fd4b){this[_0x35e6d3(0x1a3)]['error'](_0x52fd4b);}else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x178))this[_0x35e6d3(0x1ae)](_0x1d363b['from'],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![],'dailyDigests':this[_0x35e6d3(0x18d)]||[],'analysisHistory':this[_0x35e6d3(0x153)]||[]},_0x1d363b[_0x35e6d3(0x183)]);else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0xfa)){const _0x1a626c=this['dailyDigests']['length'],_0x232ec9=new Array(0x18)['fill'](0x0),_0x29754c=new Date()[_0x35e6d3(0x113)](0x0,0x0,0x0,0x0);this[_0x35e6d3(0x141)]&&this[_0x35e6d3(0x141)]['forEach'](_0x375df4=>{const _0x4a2e9a=_0x35e6d3;if(_0x375df4[_0x4a2e9a(0x1a6)]>=_0x29754c){const _0x26af47=new Date(_0x375df4[_0x4a2e9a(0x1a6)])[_0x4a2e9a(0x17e)]();if(_0x26af47>=0x0&&_0x26af47<0x18)_0x232ec9[_0x26af47]++;}});let _0x27d89b=![],_0x25dfb6='',_0x1f4cb0='',_0x325a5f='';try{const _0x1f1b65=await this[_0x35e6d3(0x185)]('analysis.automation.patternDetected');if(_0x1f1b65&&_0x1f1b65[_0x35e6d3(0x14f)]){_0x27d89b=!![];const _0x5ce54a=await this['getStateAsync'](_0x35e6d3(0xe3));_0x25dfb6=_0x5ce54a?_0x5ce54a[_0x35e6d3(0x14f)]:'';const _0x59ed36=await this[_0x35e6d3(0x185)](_0x35e6d3(0x1b3));_0x1f4cb0=_0x59ed36?_0x59ed36[_0x35e6d3(0x14f)]:'';const _0x1c7d43=await this[_0x35e6d3(0x185)](_0x35e6d3(0x145));_0x325a5f=_0x1c7d43?_0x1c7d43['val']:'';}}catch(_0x475b0b){}const _0x257a45=await this[_0x35e6d3(0x14b)](),_0x51890f=(this[_0x35e6d3(0x16b)][_0x35e6d3(0x158)]||[])[_0x35e6d3(0x104)](_0x3ebb27=>_0x3ebb27['isSolar']),_0x4d01e1=_0x257a45&&_0x51890f;this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b['command'],{'success':!![],'eventHistory':this[_0x35e6d3(0x141)][_0x35e6d3(0x165)](0x0,0xf),'stats':{'digestCount':_0x1a626c,'isPresent':this[_0x35e6d3(0x1a4)],'hourlyActivity':_0x232ec9,'solarActive':_0x4d01e1},'automation':{'detected':_0x27d89b,'description':_0x25dfb6,'targetId':_0x1f4cb0,'targetValue':_0x325a5f}},_0x1d363b['callback']);}else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x16d)){const _0x2fc264=await this['getForeignObjectsAsync']('enum.functions.*',_0x35e6d3(0x125)),_0x29f737=[];if(_0x2fc264)for(const _0x27f745 in _0x2fc264){const _0x1de452=_0x2fc264[_0x27f745],_0x1b72c3=(_0x1de452['common']&&typeof _0x1de452['common'][_0x35e6d3(0x1dd)]===_0x35e6d3(0x1b0)?_0x1de452[_0x35e6d3(0xf0)][_0x35e6d3(0x1dd)]['de']:_0x1de452['common'][_0x35e6d3(0x1dd)])||_0x1de452[_0x35e6d3(0xf0)][_0x35e6d3(0x1dd)];_0x29f737[_0x35e6d3(0x1aa)]({'id':_0x27f745,'name':_0x1b72c3});}const _0x559826=await this[_0x35e6d3(0x1da)](_0x35e6d3(0x1ba),_0x35e6d3(0x125)),_0x1d3205=[];if(_0x559826)for(const _0x4a40f0 in _0x559826){const _0x53383d=_0x559826[_0x4a40f0],_0x19a83=(_0x53383d[_0x35e6d3(0xf0)]&&typeof _0x53383d[_0x35e6d3(0xf0)][_0x35e6d3(0x1dd)]===_0x35e6d3(0x1b0)?_0x53383d[_0x35e6d3(0xf0)][_0x35e6d3(0x1dd)]['de']:_0x53383d[_0x35e6d3(0xf0)][_0x35e6d3(0x1dd)])||_0x4a40f0['split']('.')[_0x35e6d3(0xf4)]();_0x1d3205[_0x35e6d3(0x1aa)](_0x19a83);}this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![],'enums':_0x29f737,'rooms':_0x1d3205},_0x1d363b[_0x35e6d3(0x183)]);}else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x1d8))try{let _0x371084=_0x35e6d3(0x187),_0x39c99e=_0x35e6d3(0x103);if(this[_0x35e6d3(0x16b)][_0x35e6d3(0xd9)]){const _0x492247=await recorder[_0x35e6d3(0x168)](this);_0x371084=_0x492247!==null?_0x492247+'Â°C':_0x35e6d3(0x117);}if(this['config']['calendarInstance']){const _0x58e386=await this['getForeignObjectAsync'](_0x35e6d3(0x1ca)+this['config'][_0x35e6d3(0x146)]);_0x39c99e=_0x58e386?_0x35e6d3(0x119):'Instanz\x20nicht\x20gefunden';}this['sendTo'](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![],'weather':_0x371084,'calendar':_0x39c99e},_0x1d363b[_0x35e6d3(0x183)]);}catch(_0x117822){this['sendTo'](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b['command'],{'success':![],'error':_0x117822[_0x35e6d3(0x11a)]},_0x1d363b[_0x35e6d3(0x183)]);}else{if(_0x1d363b[_0x35e6d3(0x11f)]===_0x35e6d3(0x1d1))try{const _0x95c4aa=_0x1d363b[_0x35e6d3(0x11a)][_0x35e6d3(0x196)],_0x5e2579=await this[_0x35e6d3(0x1a2)](_0x95c4aa+'.data.table');let _0x5501c4=[];if(_0x5e2579&&_0x5e2579[_0x35e6d3(0x14f)]){const _0x1a0002=JSON[_0x35e6d3(0xef)](_0x5e2579[_0x35e6d3(0x14f)]),_0x6d0c05=new Set();Array['isArray'](_0x1a0002)&&_0x1a0002[_0x35e6d3(0x1bb)](_0x362cc7=>{const _0x326139=_0x35e6d3;if(_0x362cc7[_0x326139(0x17d)])_0x6d0c05[_0x326139(0x171)](_0x362cc7[_0x326139(0x17d)]);else{if(_0x362cc7[_0x326139(0xda)])_0x6d0c05[_0x326139(0x171)](_0x362cc7[_0x326139(0xda)]);}}),_0x5501c4=Array[_0x35e6d3(0x1af)](_0x6d0c05)[_0x35e6d3(0x176)]();}if(_0x5501c4[_0x35e6d3(0x112)]===0x0)_0x5501c4=['Standard'];this['sendTo'](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![],'names':_0x5501c4},_0x1d363b[_0x35e6d3(0x183)]);}catch(_0x771e03){this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b['command'],{'success':![],'error':_0x771e03[_0x35e6d3(0x11a)]},_0x1d363b[_0x35e6d3(0x183)]);}else{if(_0x1d363b['command']==='testNotification')try{await setup[_0x35e6d3(0x156)](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0x35e6d3(0x1ae)](_0x1d363b[_0x35e6d3(0x1af)],_0x1d363b[_0x35e6d3(0x11f)],{'success':!![],'message':_0x35e6d3(0x167)},_0x1d363b[_0x35e6d3(0x183)]);}catch(_0x59661e){this[_0x35e6d3(0x1a3)][_0x35e6d3(0xe4)](_0x35e6d3(0x184)+_0x59661e[_0x35e6d3(0x11a)]),this[_0x35e6d3(0x1ae)](_0x1d363b['from'],_0x1d363b[_0x35e6d3(0x11f)],{'success':![],'message':_0x35e6d3(0xe1)+_0x59661e['message']},_0x1d363b[_0x35e6d3(0x183)]);}}}}}}}}}}}}}}}}async[a0_0x30c918(0x144)](){const _0x55a85b=a0_0x30c918;try{const _0x3e08ba=await this[_0x55a85b(0x185)](setup[_0x55a85b(0x139)]);_0x3e08ba&&_0x3e08ba[_0x55a85b(0x14f)]&&Object['values'](setup['SYSTEM_MODES'])[_0x55a85b(0xd7)](_0x3e08ba[_0x55a85b(0x14f)])?this['currentSystemMode']=_0x3e08ba['val']:(this['currentSystemMode']=setup['SYSTEM_MODES'][_0x55a85b(0x1db)],await this['setStateAsync'](setup[_0x55a85b(0x139)],{'val':setup[_0x55a85b(0x19e)]['NORMAL'],'ack':!![]}));}catch(_0x5e9cb4){this[_0x55a85b(0x11b)]=setup[_0x55a85b(0x19e)][_0x55a85b(0x1db)];}}async['checkWifiPresence'](){const _0x4617ab=a0_0x30c918;try{const _0x1ffe01=this[_0x4617ab(0x16b)][_0x4617ab(0xf7)]||[];let _0x3bc3ce=![];const _0x777b2e=[];for(const _0x32b76d of _0x1ffe01){try{const _0x5a5ddc=await this['getForeignStateAsync'](_0x32b76d);_0x5a5ddc&&(_0x5a5ddc['val']===!![]||_0x5a5ddc[_0x4617ab(0x14f)]==='online'||_0x5a5ddc[_0x4617ab(0x14f)]===0x1)&&(_0x3bc3ce=!![],_0x777b2e[_0x4617ab(0x1aa)](_0x32b76d));}catch(_0x4d27b1){}}return await this[_0x4617ab(0x131)](_0x4617ab(0x18c),{'val':_0x777b2e[_0x4617ab(0x18a)](',\x20'),'ack':!![]}),_0x3bc3ce&&(this[_0x4617ab(0x129)]&&(this[_0x4617ab(0x1a3)][_0x4617ab(0x16a)](_0x4617ab(0x1a8)),recorder[_0x4617ab(0x170)](this)),!this[_0x4617ab(0x1a4)]&&this[_0x4617ab(0x11b)]===setup['SYSTEM_MODES'][_0x4617ab(0x1db)]&&await recorder[_0x4617ab(0x136)](this,!![])),_0x3bc3ce;}catch(_0xe8f1ea){return![];}}async['runAutopilot'](){const _0x18dee7=a0_0x30c918;this[_0x18dee7(0x1a3)][_0x18dee7(0x179)](_0x18dee7(0x15a)),await aiAgent[_0x18dee7(0x13f)](this),this[_0x18dee7(0x1ce)](),this[_0x18dee7(0x13c)](),this[_0x18dee7(0xee)]();}async['checkSolarCondition'](){const _0x4c4ec4=a0_0x30c918,_0x48186e=[_0x4c4ec4(0x12f),'accuweather.0',_0x4c4ec4(0x152)],_0x14e5fe=[_0x4c4ec4(0x110),_0x4c4ec4(0x1d6),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x46f800 of _0x48186e){for(const _0x4ac8ce of _0x14e5fe){try{const _0x2a20ec=_0x46f800+'.'+_0x4ac8ce,_0x55e19d=await this[_0x4c4ec4(0x1a2)](_0x2a20ec);if(_0x55e19d&&_0x55e19d[_0x4c4ec4(0x14f)]){const _0x1a7c21=String(_0x55e19d['val'])[_0x4c4ec4(0x190)]();if(_0x1a7c21[_0x4c4ec4(0xd7)](_0x4c4ec4(0x161))||_0x1a7c21[_0x4c4ec4(0xd7)](_0x4c4ec4(0x120))||_0x1a7c21['includes']('klar')||_0x1a7c21[_0x4c4ec4(0xd7)]('clear')||_0x1a7c21[_0x4c4ec4(0xd7)]('heiter'))return!![];}}catch(_0x115fdc){}}}return![];}['triggerGaitAnalysis'](){const _0x3c876f=a0_0x30c918;if(!this['isProVersion'])return;try{this[_0x3c876f(0x10e)](_0x3c876f(0x148),(_0x1e021a,_0x2f9856)=>{const _0x354645=_0x3c876f;_0x2f9856&&_0x2f9856[_0x354645(0x14f)]&&pythonBridge[_0x354645(0x151)](this,'ANALYZE_GAIT',{'sequences':JSON[_0x354645(0xef)](_0x2f9856[_0x354645(0x14f)])});});}catch(_0x2f53d7){}}async[a0_0x30c918(0xee)](){const _0x464cf2=a0_0x30c918;if(!this[_0x464cf2(0x18e)])return;try{const _0x1d5a57=await recorder['getOutsideTemperatureNumeric'](this);if(_0x1d5a57===null)return;const _0xde8b9e={},_0x4cadac={},_0x4aa546=this['config'][_0x464cf2(0x158)]||[];for(const _0x157385 of _0x4aa546){if(_0x157385[_0x464cf2(0x1c0)]===_0x464cf2(0x105)&&_0x157385[_0x464cf2(0xf1)]){const _0x59a2be=this[_0x464cf2(0x180)][_0x157385['id']];if(_0x59a2be!==undefined)_0xde8b9e[_0x157385[_0x464cf2(0xf1)]]=_0x59a2be;if(_0x157385['isSolar'])_0x4cadac[_0x157385[_0x464cf2(0xf1)]]=!![];}}const _0x420860=await this['checkSolarCondition']();let _0x298e4c={};try{const _0x54b438=await this[_0x464cf2(0x185)]('analysis.energy.warmupTargets');if(_0x54b438&&_0x54b438[_0x464cf2(0x14f)])_0x298e4c=JSON[_0x464cf2(0xef)](_0x54b438[_0x464cf2(0x14f)]);}catch(_0x1e16fd){}Object[_0x464cf2(0x11e)](_0xde8b9e)[_0x464cf2(0x112)]>0x0&&(pythonBridge[_0x464cf2(0x151)](this,_0x464cf2(0x1c4),{'current_temps':_0xde8b9e,'t_out':_0x1d5a57,'is_sunny':_0x420860,'solar_flags':_0x4cadac,'warmup_targets':_0x298e4c}),pythonBridge[_0x464cf2(0x151)](this,'OPTIMIZE_ENERGY',{'current_temps':_0xde8b9e,'t_out':_0x1d5a57,'targets':{}}));}catch(_0x234e94){}}['updateHealthVector'](){const _0x1dc75a=a0_0x30c918;if(!this[_0x1dc75a(0x160)]||this['rawEventLog'][_0x1dc75a(0x112)]===0x0)return;const _0x47ff00=new Array(0x60)[_0x1dc75a(0x19f)](0x0),_0x3f6298=new Date()[_0x1dc75a(0x113)](0x0,0x0,0x0,0x0);this[_0x1dc75a(0x160)]['forEach'](_0x5c8454=>{const _0x3952f3=_0x1dc75a,_0x4e52e1=new Date(_0x5c8454[_0x3952f3(0x1a6)]);if(_0x4e52e1['getTime']()>=_0x3f6298){const _0x2a9862=_0x4e52e1[_0x3952f3(0x17e)](),_0x4e86f8=_0x4e52e1[_0x3952f3(0x162)](),_0x29aab2=_0x2a9862*0x4+Math['floor'](_0x4e86f8/0xf);if(_0x29aab2>=0x0&&_0x29aab2<0x60)_0x47ff00[_0x29aab2]++;}}),this[_0x1dc75a(0x131)](_0x1dc75a(0x133),{'val':JSON[_0x1dc75a(0xfb)](_0x47ff00),'ack':!![]});}[a0_0x30c918(0x14a)](){const _0x439e0e=a0_0x30c918;if(!this[_0x439e0e(0x18d)]||this[_0x439e0e(0x18d)][_0x439e0e(0x112)]<0x2)return;const _0x43160d=this[_0x439e0e(0x18d)][_0x439e0e(0xe5)](_0x3a6fa4=>{const _0x14fbe9=(_0x3a6fa4['activityLevel']||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x14fbe9]||0x32;});pythonBridge['send'](this,_0x439e0e(0xec),{'values':_0x43160d,'tag':_0x439e0e(0x1d3)});}}if(require[a0_0x30c918(0x1de)]!==module)module['exports']=_0x4effe2=>new CogniLiving(_0x4effe2);else new CogniLiving();