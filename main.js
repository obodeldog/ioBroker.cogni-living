const a0_0x1ad016=a0_0x2d73;(function(_0x24e78c,_0x3fbef9){const _0x4e5b38=a0_0x2d73,_0x4da9c5=_0x24e78c();while(!![]){try{const _0x5bddf1=-parseInt(_0x4e5b38(0x22c))/0x1+parseInt(_0x4e5b38(0x1d1))/0x2+-parseInt(_0x4e5b38(0x1f0))/0x3*(-parseInt(_0x4e5b38(0x1af))/0x4)+-parseInt(_0x4e5b38(0x24c))/0x5*(-parseInt(_0x4e5b38(0x275))/0x6)+-parseInt(_0x4e5b38(0x30e))/0x7+-parseInt(_0x4e5b38(0x2ef))/0x8*(parseInt(_0x4e5b38(0x27f))/0x9)+-parseInt(_0x4e5b38(0x1d2))/0xa;if(_0x5bddf1===_0x3fbef9)break;else _0x4da9c5['push'](_0x4da9c5['shift']());}catch(_0x4eec6c){_0x4da9c5['push'](_0x4da9c5['shift']());}}}(a0_0x316c,0xb9fa2));const a0_0x5bac0f=(function(){let _0x2e1e5d=!![];return function(_0x32fcf7,_0x2fcd8f){const _0xf898e=_0x2e1e5d?function(){const _0x1d67cb=a0_0x2d73;if(_0x2fcd8f){const _0x37d609=_0x2fcd8f[_0x1d67cb(0x1ce)](_0x32fcf7,arguments);return _0x2fcd8f=null,_0x37d609;}}:function(){};return _0x2e1e5d=![],_0xf898e;};}()),a0_0x945b44=a0_0x5bac0f(this,function(){const _0x3f8cd0=a0_0x2d73;return a0_0x945b44[_0x3f8cd0(0x28b)]()[_0x3f8cd0(0x1a9)](_0x3f8cd0(0x2f9))[_0x3f8cd0(0x28b)]()['constructor'](a0_0x945b44)['search'](_0x3f8cd0(0x2f9));});a0_0x945b44();function a0_0x2d73(_0x46a88d,_0x507eaa){const _0x5cf107=a0_0x316c();return a0_0x2d73=function(_0x945b44,_0x5bac0f){_0x945b44=_0x945b44-0x1a9;let _0x316c4e=_0x5cf107[_0x945b44];return _0x316c4e;},a0_0x2d73(_0x46a88d,_0x507eaa);}'use strict';const utils=require(a0_0x1ad016(0x234)),{GoogleGenerativeAI}=require(a0_0x1ad016(0x1b8)),path=require(a0_0x1ad016(0x1d8)),fs=require('fs'),installer=require(a0_0x1ad016(0x2ff)),scanner=require(a0_0x1ad016(0x253)),schedulers=require(a0_0x1ad016(0x209)),topology=require(a0_0x1ad016(0x2f6)),setup=require(a0_0x1ad016(0x1d3)),recorder=require(a0_0x1ad016(0x202)),pythonBridge=require(a0_0x1ad016(0x28f)),aiAgent=require(a0_0x1ad016(0x2bf)),deadMan=require(a0_0x1ad016(0x201)),automation=require(a0_0x1ad016(0x2ae)),GEMINI_MODEL=a0_0x1ad016(0x2fc);class CogniLiving extends utils['Adapter']{constructor(_0xc5db2b){const _0x5363d3=a0_0x1ad016;super({..._0xc5db2b,'name':_0x5363d3(0x2fe)}),this[_0x5363d3(0x1e2)]=[],this[_0x5363d3(0x270)]=[],this[_0x5363d3(0x21e)]=[],this[_0x5363d3(0x305)]=[],this[_0x5363d3(0x20e)]={},this[_0x5363d3(0x23d)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x5363d3(0x2c2)]=null,this['exitGraceTimer']=null,this[_0x5363d3(0x2f1)]=![],this[_0x5363d3(0x30a)]=null,this[_0x5363d3(0x1b5)]=null,this['currentSystemMode']=setup[_0x5363d3(0x2c1)]['NORMAL'],this[_0x5363d3(0x24b)]=![],this[_0x5363d3(0x250)]=![],this[_0x5363d3(0x1da)]=null,this[_0x5363d3(0x1fb)]=null,this['presenceCheckTimer']=null,this[_0x5363d3(0x2ab)]=null,this[_0x5363d3(0x1f9)]=null,this[_0x5363d3(0x205)]=null,this[_0x5363d3(0x1de)]=null,this['historyJob']=null,this[_0x5363d3(0x219)]=null,this['healthTrendInterval']=null,this[_0x5363d3(0x319)]=null,this[_0x5363d3(0x2a2)]=![],this[_0x5363d3(0x27b)]=Date[_0x5363d3(0x21a)](),this[_0x5363d3(0x239)]=null,this[_0x5363d3(0x26e)]=Date[_0x5363d3(0x21a)](),this[_0x5363d3(0x1e6)]=![],this[_0x5363d3(0x1cc)]=[],this[_0x5363d3(0x2f5)]={'health':!![],'security':!![],'energy':!![],'comfort':!![]},this['on'](_0x5363d3(0x2df),this[_0x5363d3(0x2ec)]['bind'](this)),this['on'](_0x5363d3(0x290),this[_0x5363d3(0x28e)][_0x5363d3(0x2e4)](this)),this['on'](_0x5363d3(0x260),this['onUnload'][_0x5363d3(0x2e4)](this)),this['on'](_0x5363d3(0x2cb),this[_0x5363d3(0x1ab)][_0x5363d3(0x2e4)](this));}async[a0_0x1ad016(0x2ec)](){const _0x45b5f4=a0_0x1ad016;this[_0x45b5f4(0x261)][_0x45b5f4(0x31c)](_0x45b5f4(0x1bd)+this[_0x45b5f4(0x21f)]+')\x20-\x20Phase\x20E\x20(Scheduler\x20Fix)');if(this[_0x45b5f4(0x1c4)][_0x45b5f4(0x2b5)]!==undefined)this[_0x45b5f4(0x2f5)][_0x45b5f4(0x2bb)]=this['config']['moduleHealth'];if(this[_0x45b5f4(0x1c4)][_0x45b5f4(0x289)]!==undefined)this[_0x45b5f4(0x2f5)][_0x45b5f4(0x2a8)]=this[_0x45b5f4(0x1c4)]['moduleSecurity'];if(this['config'][_0x45b5f4(0x22a)]!==undefined)this[_0x45b5f4(0x2f5)][_0x45b5f4(0x246)]=this[_0x45b5f4(0x1c4)][_0x45b5f4(0x22a)];if(this[_0x45b5f4(0x1c4)]['moduleComfort']!==undefined)this[_0x45b5f4(0x2f5)][_0x45b5f4(0x1b6)]=this[_0x45b5f4(0x1c4)]['moduleComfort'];if(this['config'][_0x45b5f4(0x1f6)])this[_0x45b5f4(0x2f5)]={...this[_0x45b5f4(0x2f5)],...this[_0x45b5f4(0x1c4)][_0x45b5f4(0x1f6)]};this[_0x45b5f4(0x25c)]();}async[a0_0x1ad016(0x25c)](){const _0x38522c=a0_0x1ad016;await setup[_0x38522c(0x24e)](this);try{this[_0x38522c(0x24b)]=await setup[_0x38522c(0x2c0)](this[_0x38522c(0x1c4)]['licenseKey']);}catch(_0x12f796){}if(!this[_0x38522c(0x1c4)][_0x38522c(0x236)]||this[_0x38522c(0x1c4)]['inactivityThresholdHours']<0.1)this[_0x38522c(0x1c4)][_0x38522c(0x236)]=0xc;await setup[_0x38522c(0x1d5)](this),await setup[_0x38522c(0x2d0)](this);try{const _0x299c8a=await this[_0x38522c(0x2d5)](_0x38522c(0x1db)),_0x409f84=await this[_0x38522c(0x2d5)](_0x38522c(0x230));_0x299c8a&&_0x299c8a['val']&&_0x409f84&&_0x409f84[_0x38522c(0x26d)]&&(Date['now']()-_0x299c8a['ts']<0x4*0xe10*0x3e8&&(this['memoryCache']={'times':JSON['parse'](_0x299c8a['val']),'sources':JSON[_0x38522c(0x1d0)](_0x409f84[_0x38522c(0x26d)])}));}catch(_0x284bac){}if(this[_0x38522c(0x1c4)][_0x38522c(0x24a)])try{this['genAI']=new GoogleGenerativeAI(this[_0x38522c(0x1c4)][_0x38522c(0x24a)]),this['geminiModel']=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x38522c(0x2d4)}});}catch(_0x302d40){this[_0x38522c(0x261)][_0x38522c(0x207)](_0x38522c(0x20a)+_0x302d40[_0x38522c(0x2cb)]);}await setup[_0x38522c(0x2e3)](this),await this[_0x38522c(0x271)](),schedulers[_0x38522c(0x2aa)](this),await this[_0x38522c(0x233)](_0x38522c(0x27c),{'type':_0x38522c(0x2a0),'common':{'name':_0x38522c(0x31a),'type':'number','role':_0x38522c(0x2a6),'read':!![],'write':![]},'native':{}}),await this[_0x38522c(0x233)]('analysis.activity.roomStats',{'type':_0x38522c(0x2a0),'common':{'name':_0x38522c(0x316),'type':'string','role':_0x38522c(0x22e),'read':!![],'write':![],'def':_0x38522c(0x203)},'native':{}}),await this[_0x38522c(0x233)]('analysis.activity.roomHistory',{'type':_0x38522c(0x2a0),'common':{'name':_0x38522c(0x29c),'type':_0x38522c(0x2fa),'role':_0x38522c(0x22e),'read':!![],'write':![],'def':'{\x22history\x22:{}}'},'native':{}}),await this[_0x38522c(0x233)](_0x38522c(0x220),{'type':_0x38522c(0x2a0),'common':{'name':_0x38522c(0x24d),'type':_0x38522c(0x2fa),'role':_0x38522c(0x294),'read':!![],'write':![],'def':_0x38522c(0x1c1)},'native':{}}),await this[_0x38522c(0x233)](_0x38522c(0x304),{'type':_0x38522c(0x2a0),'common':{'name':_0x38522c(0x26f),'type':_0x38522c(0x2fa),'role':_0x38522c(0x294),'read':!![],'write':![],'def':_0x38522c(0x1c1)},'native':{}}),await this[_0x38522c(0x233)](_0x38522c(0x208),{'type':_0x38522c(0x2a0),'common':{'name':'Daily\x20Activity\x20Vector\x20(48x30min)','type':_0x38522c(0x2fa),'role':_0x38522c(0x22e),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x38522c(0x233)](_0x38522c(0x1d9),{'type':'state','common':{'name':_0x38522c(0x1f3),'type':_0x38522c(0x2fa),'role':_0x38522c(0x22e),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x38522c(0x233)](_0x38522c(0x299),{'type':_0x38522c(0x2a0),'common':{'name':_0x38522c(0x2eb),'type':_0x38522c(0x1c0),'role':_0x38522c(0x2a6),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x38522c(0x233)]('analysis.energy.warmupTimes',{'type':_0x38522c(0x2a0),'common':{'name':_0x38522c(0x241),'type':_0x38522c(0x2fa),'role':_0x38522c(0x22e),'read':!![],'write':![]},'native':{}});try{const _0x1cc9da=await this['getStateAsync'](_0x38522c(0x2d2));if(_0x1cc9da&&_0x1cc9da[_0x38522c(0x26d)]){this[_0x38522c(0x1e2)]=JSON[_0x38522c(0x1d0)](_0x1cc9da[_0x38522c(0x26d)]);if(this[_0x38522c(0x24b)]){const _0x36c460=await this[_0x38522c(0x2d5)](_0x38522c(0x263));if(_0x36c460&&_0x36c460[_0x38522c(0x26d)])this[_0x38522c(0x21e)]=JSON[_0x38522c(0x1d0)](_0x36c460['val']);}this[_0x38522c(0x261)]['info']('üì¶\x20Restored\x20'+this[_0x38522c(0x1e2)][_0x38522c(0x2f3)]+_0x38522c(0x309));}}catch(_0x5ac4fc){this['eventHistory']=[];}try{const _0x49f563=await this[_0x38522c(0x2d5)](_0x38522c(0x2d6));if(_0x49f563&&_0x49f563[_0x38522c(0x26d)])this[_0x38522c(0x305)]=JSON[_0x38522c(0x1d0)](_0x49f563[_0x38522c(0x26d)]);}catch(_0x105c48){this[_0x38522c(0x305)]=[];}const _0x37f089=this[_0x38522c(0x305)][_0x38522c(0x2f3)]>=(this[_0x38522c(0x1c4)][_0x38522c(0x1bb)]||0x7)?_0x38522c(0x23f)+this['dailyDigests'][_0x38522c(0x2f3)]+_0x38522c(0x311):'Lernphase\x20('+this[_0x38522c(0x305)][_0x38522c(0x2f3)]+'/'+(this[_0x38522c(0x1c4)]['minDaysForBaseline']||0x7)+')';await this[_0x38522c(0x308)]('LTM.baselineStatus',{'val':_0x37f089,'ack':!![]}),this['subscribeStates'](_0x38522c(0x298)),this['subscribeStates'](_0x38522c(0x2ca)),this[_0x38522c(0x237)](_0x38522c(0x1e0));this[_0x38522c(0x1c4)][_0x38522c(0x1fd)]&&this['config']['infrasoundSensorId']&&this[_0x38522c(0x2f5)][_0x38522c(0x2a8)]&&this[_0x38522c(0x228)](this[_0x38522c(0x1c4)][_0x38522c(0x1fe)]);const _0x38544a=this[_0x38522c(0x1c4)]['devices'];if(_0x38544a)for(const _0x5c444a of _0x38544a){await this[_0x38522c(0x200)](_0x5c444a['id']);}const _0x58c74e=this[_0x38522c(0x1c4)][_0x38522c(0x2a3)];if(_0x58c74e)for(const _0x56e0dc of _0x58c74e){await this[_0x38522c(0x200)](_0x56e0dc);}const _0x2c9bac=require('node-schedule');if(this[_0x38522c(0x2e5)])this[_0x38522c(0x2e5)][_0x38522c(0x295)]();this[_0x38522c(0x2e5)]=_0x2c9bac['scheduleJob'](_0x38522c(0x1c9),()=>{const _0xd2db5e=_0x38522c;this[_0xd2db5e(0x1e5)]();}),setTimeout(()=>this['replayTodayEvents'](),0x1388);if(this[_0x38522c(0x319)])clearInterval(this[_0x38522c(0x319)]);this['integrateRoomTime'](),this[_0x38522c(0x319)]=setInterval(async()=>{await this['integrateRoomTime']();},0x3c*0x3e8);if(this[_0x38522c(0x2ce)])clearInterval(this[_0x38522c(0x2ce)]);this['healthTrendInterval']=setInterval(()=>{const _0x3569da=_0x38522c;this[_0x3569da(0x24b)]&&this[_0x3569da(0x2f5)][_0x3569da(0x2bb)]&&this['runPythonHealthCheck']();},0x4*0x3c*0x3c*0x3e8);if(this[_0x38522c(0x1da)])clearInterval(this[_0x38522c(0x1da)]);this[_0x38522c(0x2f5)][_0x38522c(0x246)]&&(this[_0x38522c(0x1da)]=setInterval(()=>{const _0x360b42=_0x38522c;this[_0x360b42(0x225)]();},0xf*0x3c*0x3e8),setTimeout(()=>this[_0x38522c(0x225)](),0x2710));if(this['calendarCheckTimer'])clearInterval(this['calendarCheckTimer']);this[_0x38522c(0x1c4)][_0x38522c(0x23b)]&&this['activeModules']['energy']&&(this[_0x38522c(0x1fb)]=setInterval(()=>{const _0x251238=_0x38522c;automation[_0x251238(0x2e7)](this);},0x2*0x3c*0x3e8),setTimeout(()=>automation[_0x38522c(0x2e7)](this),0x3a98));if(this['presenceCheckTimer'])clearInterval(this[_0x38522c(0x1bc)]);this['config'][_0x38522c(0x2a3)]&&this[_0x38522c(0x1c4)][_0x38522c(0x2a3)][_0x38522c(0x2f3)]>0x0&&(this[_0x38522c(0x1bc)]=setInterval(async()=>{await this['checkWifiPresence']();},0x3c*0x3e8),setTimeout(async()=>await this[_0x38522c(0x1e7)](),0x1388));const _0x291a24=path['join'](__dirname,_0x38522c(0x2d1),_0x38522c(0x30c),_0x38522c(0x248));pythonBridge[_0x38522c(0x1c7)](this,_0x291a24);}[a0_0x1ad016(0x2b8)](_0x5b328a){const _0x3d2937=a0_0x1ad016;if(this[_0x3d2937(0x2e5)])this[_0x3d2937(0x2e5)][_0x3d2937(0x295)]();this[_0x3d2937(0x1e5)]()['then'](()=>{const _0x7cba46=_0x3d2937;if(this[_0x7cba46(0x1da)])clearInterval(this['analysisTimer']);if(this[_0x7cba46(0x1fb)])clearInterval(this['calendarCheckTimer']);if(this['presenceCheckTimer'])clearInterval(this[_0x7cba46(0x1bc)]);if(this[_0x7cba46(0x319)])clearInterval(this[_0x7cba46(0x319)]);recorder['abortExitTimer'](this),pythonBridge[_0x7cba46(0x2d3)](this),_0x5b328a();});}async['replayTodayEvents'](){const _0x4cd561=a0_0x1ad016;if(!this[_0x4cd561(0x1e2)]||this[_0x4cd561(0x1e2)]['length']===0x0){this['log'][_0x4cd561(0x252)](_0x4cd561(0x21b));return;}this[_0x4cd561(0x261)][_0x4cd561(0x31c)]('‚Ü∫\x20Replaying\x20'+this[_0x4cd561(0x1e2)][_0x4cd561(0x2f3)]+_0x4cd561(0x2bc));const _0x33a77e=new Date()['setHours'](0x0,0x0,0x0,0x0),_0x54b7d0=_0x4cd561(0x20f);let _0x341c74={'history':{},'date':new Date()['toLocaleDateString']()};const _0xba66a1=_0x4cd561(0x208),_0x3f910d=_0x4cd561(0x1d9);let _0x287bf4=new Array(0x30)[_0x4cd561(0x2c5)](0x0),_0x22edbf=Array[_0x4cd561(0x279)]({'length':0x30},()=>[]);this[_0x4cd561(0x1e2)][_0x4cd561(0x281)](_0x238480=>{const _0x51fbb2=_0x4cd561;if(_0x238480[_0x51fbb2(0x1eb)]>=_0x33a77e){if(recorder[_0x51fbb2(0x280)](_0x238480[_0x51fbb2(0x1f2)],_0x238480[_0x51fbb2(0x2a6)])){const _0x218fdc=new Date(_0x238480[_0x51fbb2(0x1eb)]),_0x2156ac=_0x218fdc[_0x51fbb2(0x245)]()*0x2+(_0x218fdc[_0x51fbb2(0x1ff)]()>=0x1e?0x1:0x0);if(_0x2156ac<0x30){_0x287bf4[_0x2156ac]++;const _0x8b9867=_0x238480[_0x51fbb2(0x2c9)]||_0x238480[_0x51fbb2(0x232)]||'?';let _0x22b8ac=_0x22edbf[_0x2156ac];!_0x22b8ac[_0x51fbb2(0x22f)](_0x8b9867)&&_0x22b8ac[_0x51fbb2(0x2e9)](_0x8b9867);}const _0x3599df=_0x218fdc['getHours']();let _0x2a0d0d=_0x238480[_0x51fbb2(0x2c9)]||_0x51fbb2(0x318);const _0x15039e=(this['config'][_0x51fbb2(0x2a5)]||[])['find'](_0x541401=>_0x541401[_0x51fbb2(0x2c9)]===_0x2a0d0d);if(_0x15039e)_0x2a0d0d=_0x15039e[_0x51fbb2(0x2c9)];if(!_0x341c74[_0x51fbb2(0x206)][_0x2a0d0d])_0x341c74['history'][_0x2a0d0d]=new Array(0x18)[_0x51fbb2(0x2c5)](0x0);if(_0x341c74[_0x51fbb2(0x206)][_0x2a0d0d][_0x3599df]<0x3c)_0x341c74[_0x51fbb2(0x206)][_0x2a0d0d][_0x3599df]++;}}});const _0x6cb205=await this[_0x4cd561(0x2d5)](_0x54b7d0);(!_0x6cb205||!_0x6cb205[_0x4cd561(0x26d)]||_0x6cb205[_0x4cd561(0x26d)]==='{}'||_0x6cb205[_0x4cd561(0x26d)]['includes'](_0x4cd561(0x2c8)))&&await this[_0x4cd561(0x308)](_0x54b7d0,{'val':JSON['stringify'](_0x341c74),'ack':!![]}),await this[_0x4cd561(0x308)](_0xba66a1,{'val':JSON['stringify'](_0x287bf4),'ack':!![]}),await this['setStateAsync'](_0x3f910d,{'val':JSON[_0x4cd561(0x273)](_0x22edbf),'ack':!![]}),this[_0x4cd561(0x261)][_0x4cd561(0x31c)](_0x4cd561(0x278));}async[a0_0x1ad016(0x1e5)](){const _0xd04f46=a0_0x1ad016;if(!this['activeModules'][_0xd04f46(0x2bb)])return;const _0x31f13b=new Date()['toISOString']()[_0xd04f46(0x2b1)]('T')[0x0];this[_0xd04f46(0x261)]['debug']('üíæ\x20Saving\x20Daily\x20History\x20for\x20'+_0x31f13b+_0xd04f46(0x2b6));try{const [_0xe40e53,_0x701223,_0x9db339,_0x42d1eb,_0x3da6bf,_0x4be3e6]=await Promise[_0xd04f46(0x283)]([this[_0xd04f46(0x2d5)](_0xd04f46(0x20f)),this[_0xd04f46(0x2d5)]('analysis.health.geminiNight'),this[_0xd04f46(0x2d5)](_0xd04f46(0x304)),this['getStateAsync'](_0xd04f46(0x258)),this[_0xd04f46(0x2d5)]('analysis.health.todayVector'),this[_0xd04f46(0x2d5)](_0xd04f46(0x299))]),_0x361f1c=this[_0xd04f46(0x1e2)]['filter'](_0x50cd62=>_0x50cd62[_0xd04f46(0x1eb)]>=new Date()[_0xd04f46(0x213)](0x0,0x0,0x0,0x0)&&(_0x50cd62[_0xd04f46(0x232)][_0xd04f46(0x2e2)]()['includes'](_0xd04f46(0x2d7))||_0x50cd62[_0xd04f46(0x232)]['toLowerCase']()['includes'](_0xd04f46(0x1bf)))&&(_0x50cd62['value']===!![]||_0x50cd62[_0xd04f46(0x2a6)]==='open'))[_0xd04f46(0x2f3)];let _0x3ba1bd=0x55;if(_0x4be3e6&&_0x4be3e6['val']!==undefined)_0x3ba1bd=Math[_0xd04f46(0x2ee)](0x64,Math[_0xd04f46(0x26b)](0x14,Math[_0xd04f46(0x1ed)](0x50+Number(_0x4be3e6[_0xd04f46(0x26d)])*0x5)));const _0x465bc4={'date':_0x31f13b,'timestamp':Date[_0xd04f46(0x21a)](),'roomHistory':_0xe40e53?.['val']?JSON[_0xd04f46(0x1d0)](_0xe40e53[_0xd04f46(0x26d)]):{},'geminiNight':_0x701223?.[_0xd04f46(0x26d)]||_0xd04f46(0x2e0),'geminiDay':_0x9db339?.[_0xd04f46(0x26d)]||_0xd04f46(0x2e0),'anomalyScore':_0x42d1eb?.['val']||0.1,'todayVector':_0x3da6bf?.['val']?JSON[_0xd04f46(0x1d0)](_0x3da6bf[_0xd04f46(0x26d)]):new Array(0x30)[_0xd04f46(0x2c5)](0x0),'batteryLevel':_0x3ba1bd,'freshAirCount':_0x361f1c,'eventHistory':this[_0xd04f46(0x1e2)]},_0x12e93c=utils[_0xd04f46(0x1ec)](),_0x48f51f=path[_0xd04f46(0x217)](_0x12e93c,_0xd04f46(0x2fe),_0xd04f46(0x206));if(!fs['existsSync'](_0x48f51f))fs[_0xd04f46(0x296)](_0x48f51f,{'recursive':!![]});const _0x4816ac=path['join'](_0x48f51f,_0x31f13b+_0xd04f46(0x300));fs[_0xd04f46(0x1e8)](_0x4816ac,JSON[_0xd04f46(0x273)](_0x465bc4)),this['log'][_0xd04f46(0x31c)](_0xd04f46(0x20c)+_0x4816ac);}catch(_0x4b4e1f){this[_0xd04f46(0x261)][_0xd04f46(0x207)](_0xd04f46(0x1e1)+_0x4b4e1f[_0xd04f46(0x2cb)]);}}async[a0_0x1ad016(0x303)](){const _0x46f8cc=a0_0x1ad016;if(!this[_0x46f8cc(0x27d)])return;try{let _0x4ec791=null;try{const _0x5f3905=await this[_0x46f8cc(0x2d5)](_0x46f8cc(0x2f4)),_0x327380=await this['getStateAsync'](_0x46f8cc(0x26c));if(_0x5f3905&&_0x5f3905[_0x46f8cc(0x26d)]&&_0x327380&&_0x327380[_0x46f8cc(0x26d)]&&_0x327380[_0x46f8cc(0x26d)]>0.3){if(_0x5f3905[_0x46f8cc(0x26d)]!==_0x46f8cc(0x318)&&_0x5f3905[_0x46f8cc(0x26d)]!==_0x46f8cc(0x229))_0x4ec791=_0x5f3905[_0x46f8cc(0x26d)];}}catch(_0x25e16b){}if(!_0x4ec791){const _0x313c25=this[_0x46f8cc(0x1c4)][_0x46f8cc(0x2a5)]||[];for(const _0xe4bccc of _0x313c25){if(_0xe4bccc[_0x46f8cc(0x1f2)]===_0x46f8cc(0x221)&&_0xe4bccc[_0x46f8cc(0x2c9)])try{const _0x5641c7=await this[_0x46f8cc(0x297)](_0xe4bccc['id']);if(_0x5641c7&&(_0x5641c7[_0x46f8cc(0x26d)]===!![]||_0x5641c7[_0x46f8cc(0x26d)]==='on'||_0x5641c7[_0x46f8cc(0x26d)]===0x1)){_0x4ec791=_0xe4bccc[_0x46f8cc(0x2c9)];break;}}catch(_0x23713d){}}}if(!_0x4ec791)return;const _0x1adc29=this['config'][_0x46f8cc(0x2a5)]||[];let _0x3fe28e=_0x4ec791;const _0x7f4d1c=_0x1adc29[_0x46f8cc(0x267)](_0x1b5f49=>_0x1b5f49[_0x46f8cc(0x2c9)]&&_0x1b5f49[_0x46f8cc(0x2c9)]['toLowerCase']()===_0x4ec791[_0x46f8cc(0x2e2)]());if(_0x7f4d1c)_0x3fe28e=_0x7f4d1c['location'];const _0x2a77e4=_0x46f8cc(0x20f),_0x50d7e7=await this[_0x46f8cc(0x2d5)](_0x2a77e4),_0x57a78f=new Date()[_0x46f8cc(0x2b7)]();let _0x489a60={'history':{},'date':_0x57a78f};if(_0x50d7e7&&_0x50d7e7[_0x46f8cc(0x26d)])try{_0x489a60=JSON[_0x46f8cc(0x1d0)](_0x50d7e7['val']);}catch(_0x12ab52){}_0x489a60[_0x46f8cc(0x247)]!==_0x57a78f&&(_0x489a60[_0x46f8cc(0x206)]={},_0x489a60['date']=_0x57a78f);if(!_0x489a60[_0x46f8cc(0x206)][_0x3fe28e])_0x489a60[_0x46f8cc(0x206)][_0x3fe28e]=new Array(0x18)[_0x46f8cc(0x2c5)](0x0);const _0x4d796e=new Date()['getHours']();if(_0x489a60[_0x46f8cc(0x206)][_0x3fe28e][_0x4d796e]<0x3c)_0x489a60[_0x46f8cc(0x206)][_0x3fe28e][_0x4d796e]++;await this[_0x46f8cc(0x308)](_0x2a77e4,{'val':JSON[_0x46f8cc(0x273)](_0x489a60),'ack':!![]});}catch(_0x22dd55){this[_0x46f8cc(0x261)][_0x46f8cc(0x252)](_0x46f8cc(0x20b)+_0x22dd55[_0x46f8cc(0x2cb)]);}}async[a0_0x1ad016(0x1ab)](_0x3cb3f1){const _0xac6398=a0_0x1ad016;if(typeof _0x3cb3f1===_0xac6398(0x1ae)&&_0x3cb3f1[_0xac6398(0x2cb)]){if(_0x3cb3f1[_0xac6398(0x231)]==='getHistoryData'){const _0x5e0448=_0x3cb3f1[_0xac6398(0x2cb)]['date'],_0x12b692=utils[_0xac6398(0x1ec)](),_0x52576e=path[_0xac6398(0x217)](_0x12b692,_0xac6398(0x2fe),_0xac6398(0x206),_0x5e0448+_0xac6398(0x300));if(fs[_0xac6398(0x1e3)](_0x52576e))try{const _0x2e0680=JSON[_0xac6398(0x1d0)](fs[_0xac6398(0x224)](_0x52576e,'utf8'));this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1[_0xac6398(0x231)],{'success':!![],'data':_0x2e0680},_0x3cb3f1[_0xac6398(0x21d)]);}catch(_0x520961){this['sendTo'](_0x3cb3f1['from'],_0x3cb3f1[_0xac6398(0x231)],{'success':![],'error':_0xac6398(0x2b0)},_0x3cb3f1[_0xac6398(0x21d)]);}else this[_0xac6398(0x301)](_0x3cb3f1['from'],_0x3cb3f1[_0xac6398(0x231)],{'success':![],'error':'No\x20data'},_0x3cb3f1[_0xac6398(0x21d)]);}else{if(_0x3cb3f1['command']==='getOverviewData'){const _0x318511=this[_0xac6398(0x305)][_0xac6398(0x2f3)];let _0x5b6c70=new Array(0x30)[_0xac6398(0x2c5)](0x0),_0x518a53=Array[_0xac6398(0x279)]({'length':0x30},()=>[]);try{const _0x28cd75=await this['getStateAsync']('analysis.health.todayVector');if(_0x28cd75&&_0x28cd75[_0xac6398(0x26d)])_0x5b6c70=JSON[_0xac6398(0x1d0)](_0x28cd75[_0xac6398(0x26d)]);const _0x17b08d=await this[_0xac6398(0x2d5)]('analysis.health.todayRoomDetails');if(_0x17b08d&&_0x17b08d[_0xac6398(0x26d)])_0x518a53=JSON[_0xac6398(0x1d0)](_0x17b08d[_0xac6398(0x26d)]);}catch(_0x52cd34){}let _0x48d5fa=new Array(0x30)['fill'](0x0);try{const _0x17a6e9=new Date();_0x17a6e9[_0xac6398(0x23e)](_0x17a6e9[_0xac6398(0x1df)]()-0x1);const _0x51ddae=_0x17a6e9[_0xac6398(0x1aa)]()[_0xac6398(0x2b1)]('T')[0x0],_0x87268e=utils[_0xac6398(0x1ec)](),_0x2fa88d=path[_0xac6398(0x217)](_0x87268e,_0xac6398(0x2fe),_0xac6398(0x206),_0x51ddae+_0xac6398(0x300));if(fs[_0xac6398(0x1e3)](_0x2fa88d)){const _0x5258c2=JSON[_0xac6398(0x1d0)](fs[_0xac6398(0x224)](_0x2fa88d,_0xac6398(0x1be)));if(_0x5258c2&&_0x5258c2[_0xac6398(0x27e)])_0x48d5fa=_0x5258c2['todayVector'];}}catch(_0x520131){}let _0x2bcaf6={'today':{},'yesterday':{}};try{const _0x71ab3=await this[_0xac6398(0x2d5)]('analysis.activity.roomStats');if(_0x71ab3&&_0x71ab3[_0xac6398(0x26d)])_0x2bcaf6=JSON[_0xac6398(0x1d0)](_0x71ab3[_0xac6398(0x26d)]);}catch(_0x4bcdbb){}let _0x15e7ba=null;try{const _0x1ceefa=await this['getStateAsync'](_0xac6398(0x299));if(_0x1ceefa)_0x15e7ba=_0x1ceefa['val'];}catch(_0x1fb557){}if(_0x15e7ba===undefined||_0x15e7ba===null){const _0x257ca6=_0x5b6c70[_0xac6398(0x1ee)]((_0x250338,_0x211720)=>_0x250338+_0x211720,0x0),_0x1b5900=Math[_0xac6398(0x2ee)](0x2,Math['max'](-0x2,(0x64-_0x257ca6)/0x32));_0x15e7ba=_0x1b5900;}let _0x4057e1=![],_0x368ce0='',_0x559f78='',_0x43c221='';try{const _0x3699e7=await this['getStateAsync'](_0xac6398(0x317));if(_0x3699e7&&_0x3699e7[_0xac6398(0x26d)]){_0x4057e1=!![];const _0x57544d=await this[_0xac6398(0x2d5)]('analysis.automation.description');_0x368ce0=_0x57544d?_0x57544d['val']:'';const _0x4152c3=await this['getStateAsync']('analysis.automation.targetId');_0x559f78=_0x4152c3?_0x4152c3[_0xac6398(0x26d)]:'';const _0x2a2fcb=await this[_0xac6398(0x2d5)](_0xac6398(0x1b4));_0x43c221=_0x2a2fcb?_0x2a2fcb[_0xac6398(0x26d)]:'';}}catch(_0x445b23){}const _0xf60864=await this['checkSolarCondition'](),_0x50f859=(this['config']['devices']||[])[_0xac6398(0x29f)](_0x3b95ab=>_0x3b95ab[_0xac6398(0x287)]),_0x1e5215=_0xf60864&&_0x50f859;let _0x1fd11a='';try{const _0x1b4dea=await this['getStateAsync'](_0xac6398(0x243));if(_0x1b4dea&&_0x1b4dea[_0xac6398(0x26d)])_0x1fd11a=_0x1b4dea[_0xac6398(0x26d)];}catch(_0x4994c5){}this[_0xac6398(0x301)](_0x3cb3f1['from'],_0x3cb3f1[_0xac6398(0x231)],{'success':!![],'eventHistory':this[_0xac6398(0x1e2)][_0xac6398(0x211)](0x0,0x7d0),'stats':{'digestCount':_0x318511,'isPresent':this['isPresent'],'hourlyActivity':_0x5b6c70,'hourlyDetails':_0x518a53,'yesterdayActivity':_0x48d5fa,'solarActive':_0x1e5215,'presenceWho':_0x1fd11a,'roomStats':_0x2bcaf6,'activityTrend':_0x15e7ba,'modules':this[_0xac6398(0x2f5)]},'automation':{'detected':_0x4057e1,'description':_0x368ce0,'targetId':_0x559f78,'targetValue':_0x43c221}},_0x3cb3f1[_0xac6398(0x21d)]);}else{if(_0x3cb3f1[_0xac6398(0x231)]==='checkThermostats')try{const _0x53eb91=await automation[_0xac6398(0x307)](this);this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1[_0xac6398(0x231)],{'success':!![],'results':_0x53eb91},_0x3cb3f1[_0xac6398(0x21d)]);}catch(_0x36b715){this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1[_0xac6398(0x231)],{'success':![],'error':_0x36b715['message']},_0x3cb3f1[_0xac6398(0x21d)]);}else{if(_0x3cb3f1[_0xac6398(0x231)]===_0xac6398(0x29e))try{const _0x53646c=await scanner['scanForDevices'](this,_0x3cb3f1[_0xac6398(0x2cb)]||{});this['sendTo'](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1[_0xac6398(0x231)],{'success':!![],'devices':_0x53646c},_0x3cb3f1['callback']);}catch(_0x1be852){}else{if(_0x3cb3f1[_0xac6398(0x231)]===_0xac6398(0x2a4)){const _0x9b6f3=await this[_0xac6398(0x218)](_0xac6398(0x2be),'enum'),_0x43d099=[];if(_0x9b6f3)for(const _0x4f5853 in _0x9b6f3){let _0x2496fa=_0x9b6f3[_0x4f5853][_0xac6398(0x1b3)]['name'];if(_0x2496fa&&typeof _0x2496fa==='object')_0x2496fa=_0x2496fa['de']||_0x2496fa['en']||Object[_0xac6398(0x1cb)](_0x2496fa)[0x0]||JSON[_0xac6398(0x273)](_0x2496fa);_0x43d099[_0xac6398(0x2e9)]({'id':_0x4f5853,'name':String(_0x2496fa||_0x4f5853)});}const _0x34de6d=await this[_0xac6398(0x218)](_0xac6398(0x1b7),_0xac6398(0x2b9)),_0xfaae53=[];if(_0x34de6d)for(const _0x265a75 in _0x34de6d){let _0xe97895=_0x34de6d[_0x265a75][_0xac6398(0x1b3)][_0xac6398(0x232)];if(_0xe97895&&typeof _0xe97895===_0xac6398(0x1ae))_0xe97895=_0xe97895['de']||_0xe97895['en']||Object[_0xac6398(0x1cb)](_0xe97895)[0x0]||JSON[_0xac6398(0x273)](_0xe97895);_0xfaae53[_0xac6398(0x2e9)](String(_0xe97895||_0x265a75['split']('.')['pop']()));}this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1['command'],{'success':!![],'enums':_0x43d099,'rooms':_0xfaae53},_0x3cb3f1[_0xac6398(0x21d)]);}else{if(_0x3cb3f1[_0xac6398(0x231)]===_0xac6398(0x291))try{const _0x490af2=await this['getObjectViewAsync'](_0xac6398(0x274),_0xac6398(0x1ca),{'startkey':_0xac6398(0x222),'endkey':_0xac6398(0x2de)}),_0x3e5cd8=new Set();if(_0x490af2&&_0x490af2[_0xac6398(0x268)])for(const _0x29d6aa of _0x490af2[_0xac6398(0x268)]){const _0x26fe03=_0x29d6aa['id'][_0xac6398(0x2c6)](_0xac6398(0x2da),''),_0x4498bb=await this[_0xac6398(0x297)](_0x26fe03+_0xac6398(0x210));let _0x13d0cb=![];if(_0x4498bb&&_0x4498bb['val']){const _0x4d36b3=typeof _0x4498bb[_0xac6398(0x26d)]===_0xac6398(0x2fa)?JSON[_0xac6398(0x1d0)](_0x4498bb['val']):_0x4498bb[_0xac6398(0x26d)];Array['isArray'](_0x4d36b3)&&_0x4d36b3[_0xac6398(0x281)](_0xd632cc=>{const _0x1e3ef4=_0xac6398;_0xd632cc[_0x1e3ef4(0x1dd)]&&(_0x3e5cd8[_0x1e3ef4(0x31e)](_0xd632cc[_0x1e3ef4(0x1dd)]),_0x13d0cb=!![]);});}!_0x13d0cb&&_0x3e5cd8['add'](_0x26fe03);}const _0x124093=Array[_0xac6398(0x279)](_0x3e5cd8);if(_0x124093[_0xac6398(0x2f3)]===0x0)_0x124093[_0xac6398(0x2e9)](_0xac6398(0x30b));this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1['command'],{'success':!![],'names':_0x124093},_0x3cb3f1[_0xac6398(0x21d)]);}catch(_0x8fe9e){this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1['command'],{'success':![],'error':_0xac6398(0x1c8)+_0x8fe9e[_0xac6398(0x2cb)]},_0x3cb3f1[_0xac6398(0x21d)]);}else{if(_0x3cb3f1[_0xac6398(0x231)]===_0xac6398(0x2c3))try{await automation[_0xac6398(0x22b)](this),this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1[_0xac6398(0x231)],{'success':!![]},_0x3cb3f1[_0xac6398(0x21d)]);}catch(_0x713843){this['log'][_0xac6398(0x252)](_0xac6398(0x215)+_0x713843[_0xac6398(0x2cb)]),this[_0xac6398(0x301)](_0x3cb3f1['from'],_0x3cb3f1[_0xac6398(0x231)],{'success':![],'error':_0x713843[_0xac6398(0x2cb)]},_0x3cb3f1['callback']);}else{if(_0x3cb3f1[_0xac6398(0x231)]==='testApiKey')try{const _0x57a85a=_0x3cb3f1[_0xac6398(0x2cb)]?_0x3cb3f1[_0xac6398(0x2cb)][_0xac6398(0x1d4)]:'';if(!_0x57a85a)throw new Error(_0xac6398(0x22d));const _0x2e04e2=new GoogleGenerativeAI(_0x57a85a),_0x1c3cae=_0x2e04e2[_0xac6398(0x2bd)]({'model':GEMINI_MODEL}),_0x493f52=await _0x1c3cae[_0xac6398(0x27a)]('Say\x20Hello'),_0x220198=await _0x493f52[_0xac6398(0x256)],_0x50203a=_0x220198[_0xac6398(0x294)]();this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1['command'],{'success':!![],'message':_0xac6398(0x1c6)+_0x50203a[_0xac6398(0x2d9)](0x0,0x14)+'...'},_0x3cb3f1[_0xac6398(0x21d)]);}catch(_0x1bb8ce){this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1['command'],{'success':![],'message':_0x1bb8ce['message']},_0x3cb3f1['callback']);}else{if(_0x3cb3f1[_0xac6398(0x231)]===_0xac6398(0x302))try{const _0x12794b=await this[_0xac6398(0x2ac)](),_0x4c1f22=await this[_0xac6398(0x1f5)]('system',_0xac6398(0x1ca),{'startkey':_0xac6398(0x222),'endkey':'system.adapter.ical.È¶ô'}),_0x54d7ef=_0x4c1f22&&_0x4c1f22[_0xac6398(0x268)]?_0x4c1f22['rows'][_0xac6398(0x2f3)]:0x0;this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1[_0xac6398(0x231)],{'success':!![],'weather':'Sonne:\x20'+_0x12794b+_0xac6398(0x23a)+(this[_0xac6398(0x20e)][this[_0xac6398(0x1c4)][_0xac6398(0x2cf)]]||'?')+'¬∞C','calendar':_0x54d7ef+_0xac6398(0x31d)},_0x3cb3f1[_0xac6398(0x21d)]);}catch(_0x344e09){this[_0xac6398(0x301)](_0x3cb3f1[_0xac6398(0x279)],_0x3cb3f1[_0xac6398(0x231)],{'success':![]},_0x3cb3f1[_0xac6398(0x21d)]);}}}}}}}}}}}[a0_0x1ad016(0x26a)](){const _0x5c8da1=a0_0x1ad016;if(!this['activeModules'][_0x5c8da1(0x2bb)])return;this[_0x5c8da1(0x261)][_0x5c8da1(0x1ef)]('üêç\x20Triggering\x20Python\x20Health\x20Check\x20(Activity\x20Trend)...');try{const _0x28e541=this[_0x5c8da1(0x21e)]||[];pythonBridge[_0x5c8da1(0x2cd)](this,_0x5c8da1(0x1d7),{'events':_0x28e541});}catch(_0x923059){this['log']['warn'](_0x5c8da1(0x313));}}async[a0_0x1ad016(0x28e)](_0x2b68c3,_0x3e259f){const _0x4f599a=a0_0x1ad016;if(!_0x3e259f||this[_0x4f599a(0x2a2)])return;if(_0x2b68c3[_0x4f599a(0x22f)]('telegram')&&_0x2b68c3[_0x4f599a(0x314)](_0x4f599a(0x1b0))&&_0x3e259f['val'])return;if(this['config'][_0x4f599a(0x1fd)]&&_0x2b68c3===this[_0x4f599a(0x1c4)][_0x4f599a(0x1fe)]&&this[_0x4f599a(0x2f5)][_0x4f599a(0x2a8)]){this[_0x4f599a(0x272)](_0x3e259f['val']);return;}if(_0x3e259f['ack']&&_0x2b68c3[_0x4f599a(0x314)]('pulse'))return;if(_0x2b68c3===this[_0x4f599a(0x21c)]+_0x4f599a(0x24f)){if(_0x3e259f[_0x4f599a(0x26d)]&&Object[_0x4f599a(0x1cb)](setup['SYSTEM_MODES'])[_0x4f599a(0x22f)](_0x3e259f['val'])){this['currentSystemMode']=_0x3e259f[_0x4f599a(0x26d)];if(_0x3e259f['val']===setup[_0x4f599a(0x2c1)][_0x4f599a(0x20d)])await recorder[_0x4f599a(0x2b2)](this,![]);else await recorder[_0x4f599a(0x2b2)](this,!![]);if(this[_0x4f599a(0x24b)]){let _0x56fdbc=![],_0x4c65d7=0x0,_0x1b6967=_0x4f599a(0x23c);if(this[_0x4f599a(0x1b9)]===_0x4f599a(0x286))_0x56fdbc=!![],_0x4c65d7=0x168,_0x1b6967=_0x4f599a(0x310);else this[_0x4f599a(0x1b9)]===_0x4f599a(0x282)&&(_0x56fdbc=!![],_0x4c65d7=0x5a0,_0x1b6967=_0x4f599a(0x1c3));pythonBridge['send'](this,_0x4f599a(0x2f7),{'active':_0x56fdbc,'duration':_0x4c65d7,'label':_0x1b6967}),await this[_0x4f599a(0x308)](_0x4f599a(0x1b2),{'val':JSON[_0x4f599a(0x273)]({'active':_0x56fdbc,'label':_0x1b6967,'timestamp':Date[_0x4f599a(0x21a)]()}),'ack':!![]});}}if(!_0x3e259f[_0x4f599a(0x265)])this['setState'](_0x2b68c3,{'val':this[_0x4f599a(0x1b9)],'ack':!![]});return;}if(_0x2b68c3[_0x4f599a(0x314)](_0x4f599a(0x230))&&_0x3e259f[_0x4f599a(0x265)])this[_0x4f599a(0x29b)](_0x3e259f['val']);if(_0x2b68c3['endsWith']('analysis.energy.warmupTimes')&&_0x3e259f[_0x4f599a(0x265)]&&this[_0x4f599a(0x2f5)][_0x4f599a(0x246)])automation[_0x4f599a(0x2e7)](this);if(!_0x3e259f['ack']){if(_0x2b68c3[_0x4f599a(0x22f)](_0x4f599a(0x298))&&_0x3e259f[_0x4f599a(0x26d)]){this[_0x4f599a(0x1e9)](_0x2b68c3,{'val':![],'ack':!![]}),aiAgent[_0x4f599a(0x2ed)](this);return;}if(_0x2b68c3[_0x4f599a(0x22f)](_0x4f599a(0x204))&&_0x3e259f[_0x4f599a(0x26d)]){this[_0x4f599a(0x1e9)](_0x2b68c3,{'val':![],'ack':!![]});if(this[_0x4f599a(0x24b)])aiAgent[_0x4f599a(0x2a7)](this,pythonBridge);return;}if(_0x2b68c3[_0x4f599a(0x22f)](_0x4f599a(0x249))&&_0x3e259f[_0x4f599a(0x26d)]){this[_0x4f599a(0x1e9)](_0x2b68c3,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0x2b68c3['includes'](_0x4f599a(0x2f8))&&_0x3e259f[_0x4f599a(0x26d)]){this['setState'](_0x2b68c3,{'val':![],'ack':!![]}),aiAgent[_0x4f599a(0x28c)](this);return;}if(_0x2b68c3[_0x4f599a(0x22f)](_0x4f599a(0x276))&&_0x3e259f[_0x4f599a(0x26d)]){this['setState'](_0x2b68c3,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x2179c6=await this['getStateAsync'](_0x4f599a(0x2dd));if(_0x2179c6&&_0x2179c6[_0x4f599a(0x26d)]){const _0x4b4277=JSON[_0x4f599a(0x1d0)](_0x2179c6[_0x4f599a(0x26d)]);this[_0x4f599a(0x308)](_0x4f599a(0x1f1),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x4f599a(0x2cd)](this,_0x4f599a(0x28d),{'sequences':_0x4b4277});}}catch(_0x4abef2){}return;}if(_0x2b68c3['includes'](_0x4f599a(0x1e0))&&_0x3e259f[_0x4f599a(0x26d)]){this[_0x4f599a(0x1e9)](_0x2b68c3,{'val':![],'ack':!![]});try{aiAgent[_0x4f599a(0x2af)](this,_0x4f599a(0x312)),setTimeout(()=>aiAgent[_0x4f599a(0x2af)](this,'DAY'),0x2ee0);if(this[_0x4f599a(0x24b)]){this['runPythonHealthCheck']();const _0x27d9ff=await this['getStateAsync']('LTM.dailyDigests');if(_0x27d9ff&&_0x27d9ff['val'])pythonBridge[_0x4f599a(0x2cd)](this,_0x4f599a(0x1b1),{'digests':JSON[_0x4f599a(0x1d0)](_0x27d9ff['val'])});}}catch(_0xf4e425){this[_0x4f599a(0x261)][_0x4f599a(0x252)](_0x4f599a(0x1c5)+_0xf4e425[_0x4f599a(0x2cb)]);}return;}if(_0x2b68c3[_0x4f599a(0x22f)](_0x4f599a(0x1f7))&&_0x3e259f[_0x4f599a(0x26d)]){this[_0x4f599a(0x1e9)](_0x2b68c3,{'val':![],'ack':!![]}),await this[_0x4f599a(0x225)]();return;}if(_0x2b68c3[_0x4f599a(0x22f)]('analysis.training.triggerComfort')&&_0x3e259f[_0x4f599a(0x26d)]){this[_0x4f599a(0x1e9)](_0x2b68c3,{'val':![],'ack':!![]});if(this[_0x4f599a(0x24b)])try{const _0x4055cc=await this[_0x4f599a(0x2d5)](_0x4f599a(0x263));if(_0x4055cc&&_0x4055cc[_0x4f599a(0x26d)]){const _0x1cea81={};if(this[_0x4f599a(0x1c4)]['devices'])this['config'][_0x4f599a(0x2a5)]['forEach'](_0xca8fad=>{const _0x1928a8=_0x4f599a;if(_0xca8fad['id']&&_0xca8fad['type'])_0x1cea81[_0xca8fad['id']]=_0xca8fad[_0x1928a8(0x1f2)];});pythonBridge[_0x4f599a(0x2cd)](this,_0x4f599a(0x1dc),{'events':JSON[_0x4f599a(0x1d0)](_0x4055cc[_0x4f599a(0x26d)]),'deviceMap':_0x1cea81});}}catch(_0x1ed32b){}return;}if(_0x2b68c3['includes']('analysis.training.triggerTopology')&&_0x3e259f[_0x4f599a(0x26d)]){this[_0x4f599a(0x1e9)](_0x2b68c3,{'val':![],'ack':!![]}),topology[_0x4f599a(0x1d6)](this);if(this[_0x4f599a(0x24b)])try{const _0x20c744=await this[_0x4f599a(0x2d5)]('LTM.trainingData.sequences');if(_0x20c744&&_0x20c744['val'])pythonBridge['send'](this,_0x4f599a(0x1f8),{'sequences':JSON[_0x4f599a(0x1d0)](_0x20c744[_0x4f599a(0x26d)])});}catch(_0x1b5677){}return;}}const _0xd9cb42=(this[_0x4f599a(0x1c4)]['devices']||[])[_0x4f599a(0x267)](_0x3dd917=>_0x3dd917['id']===_0x2b68c3);if(_0xd9cb42){const _0x24a000=await recorder[_0x4f599a(0x25b)](this,_0x2b68c3,_0x3e259f,_0xd9cb42);_0x24a000&&this[_0x4f599a(0x1e9)](_0x4f599a(0x27c),{'val':Date[_0x4f599a(0x21a)](),'ack':!![]});_0x24a000&&_0x24a000[_0x4f599a(0x1f2)]==='motion'&&_0x24a000[_0x4f599a(0x2c9)]&&this['isProVersion']&&deadMan[_0x4f599a(0x2dc)](this,_0x24a000[_0x4f599a(0x2c9)]);_0x3e259f['val']&&(_0x3e259f[_0x4f599a(0x26d)]===!![]||_0x3e259f['val']===0x1||String(_0x3e259f[_0x4f599a(0x26d)])['toLowerCase']()===_0x4f599a(0x2b4))&&(_0xd9cb42[_0x4f599a(0x1f2)]&&(_0xd9cb42[_0x4f599a(0x1f2)][_0x4f599a(0x22f)]('window')||_0xd9cb42['type']['includes']('door'))&&this[_0x4f599a(0x226)](_0xd9cb42));if(_0xd9cb42['type']===_0x4f599a(0x214)||_0xd9cb42['type']===_0x4f599a(0x1cd)){if(this[_0x4f599a(0x2f5)][_0x4f599a(0x246)])automation[_0x4f599a(0x212)](this);}}}async['protectAiMemory'](_0x161a91){const _0x609880=a0_0x1ad016;if(!this[_0x609880(0x239)]||Date[_0x609880(0x21a)]()-this[_0x609880(0x26e)]>0x493e0)return;try{const _0x27b75d=JSON['parse'](_0x161a91),_0x5de426=this[_0x609880(0x239)][_0x609880(0x306)];let _0x13c55c=![];for(const _0x106c71 in _0x5de426){if(_0x5de426[_0x106c71][_0x609880(0x22f)]('AI')&&_0x27b75d[_0x106c71]&&!_0x27b75d[_0x106c71][_0x609880(0x22f)]('AI')){_0x13c55c=!![];break;}}_0x13c55c&&(await this[_0x609880(0x308)](_0x609880(0x1db),{'val':JSON[_0x609880(0x273)](this['memoryCache'][_0x609880(0x2c4)]),'ack':!![]}),await this[_0x609880(0x308)](_0x609880(0x230),{'val':JSON[_0x609880(0x273)](this[_0x609880(0x239)][_0x609880(0x306)]),'ack':!![]}));}catch(_0x3b5c3e){}}async[a0_0x1ad016(0x271)](){const _0x5b3c70=a0_0x1ad016;try{const _0x346998=await this['getStateAsync'](setup[_0x5b3c70(0x1cf)]);if(_0x346998&&_0x346998[_0x5b3c70(0x26d)])this[_0x5b3c70(0x1b9)]=_0x346998['val'];}catch(_0x3aaa4a){this[_0x5b3c70(0x1b9)]=setup[_0x5b3c70(0x2c1)][_0x5b3c70(0x255)];}}async[a0_0x1ad016(0x1e7)](){const _0x95a33b=a0_0x1ad016,_0x20c816=this[_0x95a33b(0x1c4)][_0x95a33b(0x2a3)]||[];if(_0x20c816['length']===0x0)return![];const _0x5d9c0b=[],_0x37bb84=Date['now'](),_0x44c951=0x5*0x3c*0x3e8;for(const _0x1429fa of _0x20c816){try{let _0x20eb5e=![];try{const _0x8a3979=await this[_0x95a33b(0x297)](_0x1429fa+_0x95a33b(0x315));if(_0x8a3979&&_0x8a3979[_0x95a33b(0x26d)]===!![])_0x20eb5e=!![];}catch(_0x5b3a1a){}if(!_0x20eb5e)try{const _0x12d5f2=await this['getForeignStateAsync'](_0x1429fa+_0x95a33b(0x25a));if(_0x12d5f2&&_0x12d5f2['ts']){const _0x49e415=_0x37bb84-_0x12d5f2['ts'];if(_0x49e415<_0x44c951)_0x20eb5e=!![];}}catch(_0x1f14b8){}if(!_0x20eb5e)try{const _0x49b80b=await this[_0x95a33b(0x297)](_0x1429fa+_0x95a33b(0x1ac));if(_0x49b80b&&typeof _0x49b80b[_0x95a33b(0x26d)]===_0x95a33b(0x1c0)&&_0x49b80b[_0x95a33b(0x26d)]>0x0)_0x20eb5e=!![];}catch(_0x27b6f4){}if(!_0x20eb5e)try{const _0x5128c=await this[_0x95a33b(0x297)](_0x1429fa);if(_0x5128c){const _0xb38536=_0x37bb84-(_0x5128c['ts']||0x0);_0xb38536<_0x44c951&&(_0x5128c[_0x95a33b(0x26d)]===!![]||_0x5128c[_0x95a33b(0x26d)]==='online'||_0x5128c[_0x95a33b(0x26d)]===0x1)&&(_0x20eb5e=!![]);}}catch(_0x36317e){}if(_0x20eb5e){const _0x265c6d=_0x1429fa[_0x95a33b(0x2b1)]('.'),_0x5b14fd=_0x265c6d[_0x265c6d['length']-0x1]||_0x1429fa;_0x5d9c0b['push'](_0x5b14fd);}}catch(_0x10f100){this[_0x95a33b(0x261)][_0x95a33b(0x252)](_0x95a33b(0x242)+_0x1429fa+':\x20'+_0x10f100['message']);}}const _0x1d0278=_0x5d9c0b[_0x95a33b(0x2f3)]>0x0?_0x5d9c0b['join'](',\x20'):_0x95a33b(0x30d);return await this['setStateAsync'](_0x95a33b(0x243),{'val':_0x1d0278,'ack':!![]}),_0x5d9c0b[_0x95a33b(0x2f3)]>0x0;}async[a0_0x1ad016(0x1e4)](){const _0x5a71d3=a0_0x1ad016;await aiAgent['runGeminiAnalysis'](this);this[_0x5a71d3(0x2f5)][_0x5a71d3(0x2bb)]&&(this[_0x5a71d3(0x25e)](),this[_0x5a71d3(0x2a1)]());if(this[_0x5a71d3(0x2f5)][_0x5a71d3(0x246)])this[_0x5a71d3(0x225)]();}async[a0_0x1ad016(0x2ac)](){const _0x49bc07=a0_0x1ad016,_0x4f58dd=[_0x49bc07(0x1fa),_0x49bc07(0x2a9),_0x49bc07(0x285)],_0x2a6ee7=[_0x49bc07(0x29d),_0x49bc07(0x2fb),_0x49bc07(0x1ba)];for(const _0x58b10e of _0x4f58dd){for(const _0x3885ea of _0x2a6ee7){try{const _0x1e3a67=_0x58b10e+'.'+_0x3885ea,_0x288b20=await this[_0x49bc07(0x297)](_0x1e3a67);if(_0x288b20&&_0x288b20[_0x49bc07(0x26d)]){const _0x216031=String(_0x288b20[_0x49bc07(0x26d)])[_0x49bc07(0x2e2)]();if(_0x216031['includes'](_0x49bc07(0x223))||_0x216031[_0x49bc07(0x22f)]('heiter')||_0x216031[_0x49bc07(0x22f)](_0x49bc07(0x2c7))||_0x216031[_0x49bc07(0x22f)]('sonn')||_0x216031[_0x49bc07(0x22f)](_0x49bc07(0x2ba)))return this[_0x49bc07(0x261)][_0x49bc07(0x1ef)](_0x49bc07(0x227)+_0x1e3a67),!![];}}catch(_0x3217c1){}}}return![];}[a0_0x1ad016(0x2a1)](){const _0x55dc5d=a0_0x1ad016;if(!this[_0x55dc5d(0x24b)])return;try{this[_0x55dc5d(0x2d5)]('LTM.trainingData.sequences',(_0x46c881,_0x271fd6)=>{const _0xb1ee7f=_0x55dc5d;if(_0x46c881||!_0x271fd6||!_0x271fd6['val'])return;try{const _0x13abaa=JSON[_0xb1ee7f(0x1d0)](_0x271fd6[_0xb1ee7f(0x26d)]);if(!_0x13abaa||_0x13abaa[_0xb1ee7f(0x2f3)]===0x0)return;pythonBridge[_0xb1ee7f(0x2cd)](this,_0xb1ee7f(0x2db),{'sequences':_0x13abaa}),this[_0xb1ee7f(0x261)][_0xb1ee7f(0x1ef)](_0xb1ee7f(0x254)+_0x13abaa['length']+_0xb1ee7f(0x251));}catch(_0x1cafe7){this[_0xb1ee7f(0x261)][_0xb1ee7f(0x252)]('triggerGaitAnalysis\x20parse\x20error:\x20'+_0x1cafe7[_0xb1ee7f(0x2cb)]);}});}catch(_0x42554f){this['log']['warn'](_0x55dc5d(0x2cc)+_0x42554f['message']);}}async[a0_0x1ad016(0x225)](){const _0x29ac7b=a0_0x1ad016;if(!this[_0x29ac7b(0x24b)]||!this[_0x29ac7b(0x2f5)]['energy'])return;try{const _0x5e6277={},_0x56a0b1={},_0x1c45bd=this[_0x29ac7b(0x1c4)][_0x29ac7b(0x2a5)]||[];for(const _0xe9aeac of _0x1c45bd){if((_0xe9aeac['type']==='temperature'||_0xe9aeac[_0x29ac7b(0x1f2)]===_0x29ac7b(0x1cd))&&_0xe9aeac[_0x29ac7b(0x2c9)])try{const _0x2a4731=await this[_0x29ac7b(0x297)](_0xe9aeac['id']);_0x2a4731&&typeof _0x2a4731['val']===_0x29ac7b(0x1c0)&&(_0x5e6277[_0xe9aeac[_0x29ac7b(0x2c9)]]=_0x2a4731[_0x29ac7b(0x26d)],_0x56a0b1[_0xe9aeac[_0x29ac7b(0x2c9)]]=_0xe9aeac[_0x29ac7b(0x287)]||![]);}catch(_0x3e5899){}}let _0x30223f=0xa;if(this[_0x29ac7b(0x1c4)][_0x29ac7b(0x266)])try{const _0x23d2aa=await this['getForeignStateAsync'](this[_0x29ac7b(0x1c4)][_0x29ac7b(0x266)]);if(_0x23d2aa&&typeof _0x23d2aa[_0x29ac7b(0x26d)]===_0x29ac7b(0x1c0))_0x30223f=_0x23d2aa[_0x29ac7b(0x26d)];}catch(_0x2ee8bb){}const _0x18b6c1=await this[_0x29ac7b(0x2ac)]();let _0x13302e={};try{const _0x4dd270=await this[_0x29ac7b(0x2d5)]('analysis.energy.warmupTargets');if(_0x4dd270&&_0x4dd270['val'])_0x13302e=JSON['parse'](_0x4dd270[_0x29ac7b(0x26d)]);}catch(_0x56fe82){}pythonBridge[_0x29ac7b(0x2cd)](this,_0x29ac7b(0x1f4),{'current_temps':_0x5e6277,'t_out':_0x30223f,'is_sunny':_0x18b6c1,'solar_flags':_0x56a0b1,'warmup_targets':_0x13302e}),this[_0x29ac7b(0x261)][_0x29ac7b(0x31c)](_0x29ac7b(0x269)+Object['keys'](_0x5e6277)['length']+_0x29ac7b(0x238));}catch(_0x203f72){this[_0x29ac7b(0x261)][_0x29ac7b(0x252)](_0x29ac7b(0x293)+_0x203f72[_0x29ac7b(0x2cb)]);}}[a0_0x1ad016(0x25e)](){const _0x2127c2=a0_0x1ad016;if(!this[_0x2127c2(0x21e)]||this[_0x2127c2(0x21e)][_0x2127c2(0x2f3)]===0x0)return;const _0x564ae4=new Array(0x30)[_0x2127c2(0x2c5)](0x0),_0x52d103=Array[_0x2127c2(0x279)]({'length':0x30},()=>[]),_0x4bc68f=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x2127c2(0x21e)][_0x2127c2(0x281)](_0x2e3b86=>{const _0x4e0f10=_0x2127c2,_0x39e1f9=new Date(_0x2e3b86['timestamp']);if(_0x39e1f9[_0x4e0f10(0x25d)]()>=_0x4bc68f){const _0x8498f0=_0x39e1f9[_0x4e0f10(0x245)](),_0x497842=_0x39e1f9['getMinutes'](),_0x8f9f20=_0x8498f0*0x2+Math['floor'](_0x497842/0x1e);_0x8f9f20>=0x0&&_0x8f9f20<0x30&&(_0x564ae4[_0x8f9f20]++,_0x52d103[_0x8f9f20][_0x4e0f10(0x2e9)]({'time':_0x39e1f9[_0x4e0f10(0x257)](_0x4e0f10(0x25f),{'hour':_0x4e0f10(0x30f),'minute':'2-digit'}),'location':_0x2e3b86[_0x4e0f10(0x2c9)]||_0x4e0f10(0x277),'type':_0x2e3b86['type']||_0x4e0f10(0x244)}));}}),this['setStateAsync'](_0x2127c2(0x208),{'val':JSON[_0x2127c2(0x273)](_0x564ae4),'ack':!![]}),this[_0x2127c2(0x308)]('analysis.health.todayRoomDetails',{'val':JSON['stringify'](_0x52d103),'ack':!![]});}async[a0_0x1ad016(0x272)](_0x5d8a74){const _0x3bab9f=a0_0x1ad016;if(!this[_0x3bab9f(0x1c4)]['infrasoundEnabled']||typeof _0x5d8a74!==_0x3bab9f(0x1c0))return;const _0x30f0ea=this[_0x3bab9f(0x1c4)][_0x3bab9f(0x28a)]||0.04;this['pressureBuffer']['push']({'timestamp':Date[_0x3bab9f(0x21a)](),'value':_0x5d8a74}),this[_0x3bab9f(0x1cc)][_0x3bab9f(0x2f3)]>0x64&&this[_0x3bab9f(0x1cc)][_0x3bab9f(0x2b3)](),_0x5d8a74>_0x30f0ea&&!this[_0x3bab9f(0x1e6)]&&(this['infrasoundLocked']=!![],this[_0x3bab9f(0x261)][_0x3bab9f(0x252)](_0x3bab9f(0x2ad)+_0x5d8a74[_0x3bab9f(0x259)](0x4)+_0x3bab9f(0x2f0)+_0x30f0ea+_0x3bab9f(0x2fd)),await this['triggerInfrasoundCorrelation'](_0x5d8a74,'threshold_exceeded'),setTimeout(()=>{this['infrasoundLocked']=![];},0x5*0x3c*0x3e8));}async[a0_0x1ad016(0x292)](_0x530a3b,_0x28051a){const _0x4765b=a0_0x1ad016;if(!this[_0x4765b(0x27d)]){const _0x57cb8d=this[_0x4765b(0x1e2)][_0x4765b(0x211)](0x0,0xa),_0x15ad88=_0x57cb8d[_0x4765b(0x31b)](_0xfaa7c1=>new Date(_0xfaa7c1['timestamp'])[_0x4765b(0x257)](_0x4765b(0x25f))+_0x4765b(0x2e8)+(_0xfaa7c1[_0x4765b(0x2c9)]||_0x4765b(0x318))+':\x20'+_0xfaa7c1[_0x4765b(0x232)])[_0x4765b(0x217)]('\x0a');this[_0x4765b(0x261)][_0x4765b(0x252)](_0x4765b(0x1ea)+_0x530a3b[_0x4765b(0x259)](0x4)+_0x4765b(0x2e6)+_0x15ad88);if(this['config']['infrasoundArmingId'])try{const _0x563efb=await this[_0x4765b(0x297)](this[_0x4765b(0x1c4)][_0x4765b(0x2e1)]);_0x563efb&&_0x563efb[_0x4765b(0x26d)]===!![]&&(await this[_0x4765b(0x308)]('analysis.safety.infrasoundAlert',{'val':JSON[_0x4765b(0x273)]({'timestamp':Date[_0x4765b(0x21a)](),'pressure':_0x530a3b[_0x4765b(0x259)](0x4),'eventType':_0x28051a,'recentEvents':_0x57cb8d[_0x4765b(0x211)](0x0,0x3)}),'ack':!![]}),this[_0x4765b(0x261)][_0x4765b(0x207)](_0x4765b(0x240)));}catch(_0x395936){}}else this[_0x4765b(0x261)][_0x4765b(0x1ef)]('üîä\x20Infraschall:\x20'+_0x530a3b[_0x4765b(0x259)](0x4)+_0x4765b(0x1c2));}async['analyzeWindowOpening'](_0x5e0f36){const _0x33e9cf=a0_0x1ad016;if(!_0x5e0f36||!_0x5e0f36[_0x33e9cf(0x2c9)])return;try{const _0x18ca2a=(this['config'][_0x33e9cf(0x2a5)]||[])[_0x33e9cf(0x1fc)](_0x58106a=>_0x58106a[_0x33e9cf(0x2c9)]===_0x5e0f36['location']&&(_0x58106a['type']===_0x33e9cf(0x214)||_0x58106a[_0x33e9cf(0x1f2)]==='thermostat'));if(_0x18ca2a[_0x33e9cf(0x2f3)]===0x0)return;const _0x4b18b3=await this['getForeignStateAsync'](_0x18ca2a[0x0]['id']);if(!_0x4b18b3||typeof _0x4b18b3[_0x33e9cf(0x26d)]!==_0x33e9cf(0x1c0))return;const _0xd11698=_0x4b18b3[_0x33e9cf(0x26d)];let _0x330987=null;if(this[_0x33e9cf(0x1c4)]['weatherTempId']){const _0x5c58de=await this['getForeignStateAsync'](this[_0x33e9cf(0x1c4)][_0x33e9cf(0x266)]);_0x5c58de&&typeof _0x5c58de[_0x33e9cf(0x26d)]==='number'&&(_0x330987=_0x5c58de[_0x33e9cf(0x26d)]);}if(_0x330987!==null){const _0x531ecb=Math['abs'](_0xd11698-_0x330987);_0x531ecb>0x3&&(this['log'][_0x33e9cf(0x1ef)]('üí®\x20L√ºftung\x20in\x20'+_0x5e0f36[_0x33e9cf(0x2c9)]+_0x33e9cf(0x29a)+_0x531ecb[_0x33e9cf(0x259)](0x1)+'¬∞C\x20(Innen:\x20'+_0xd11698+_0x33e9cf(0x1ad)+_0x330987+_0x33e9cf(0x262)),await this[_0x33e9cf(0x308)]('analysis.ventilation.lastWindow',{'val':JSON['stringify']({'room':_0x5e0f36['location'],'timestamp':Date['now'](),'tempDiff':_0x531ecb[_0x33e9cf(0x259)](0x1),'recommendation':_0x531ecb>0x5?_0x33e9cf(0x235):_0x33e9cf(0x288)}),'ack':!![]}));}}catch(_0x36c0d8){this['log'][_0x33e9cf(0x252)](_0x33e9cf(0x216)+_0x36c0d8[_0x33e9cf(0x2cb)]);}}async[a0_0x1ad016(0x2f2)](_0x2cc1f4){const _0x25b05f=a0_0x1ad016;if(!_0x2cc1f4||typeof _0x2cc1f4!==_0x25b05f(0x1ae))return;const _0x1920a0={'timestamp':_0x2cc1f4[_0x25b05f(0x1eb)]||Date['now'](),'id':_0x2cc1f4['id']||Date[_0x25b05f(0x21a)]()[_0x25b05f(0x28b)](),'name':_0x2cc1f4[_0x25b05f(0x232)]||'Manual\x20Event','type':_0x2cc1f4[_0x25b05f(0x1f2)]||'custom','location':_0x2cc1f4['location']||_0x25b05f(0x318),'value':_0x2cc1f4[_0x25b05f(0x2a6)]||null};this[_0x25b05f(0x1e2)][_0x25b05f(0x264)](_0x1920a0);if(this[_0x25b05f(0x1e2)]['length']>0x1388)this['eventHistory'][_0x25b05f(0x2d8)]();await this[_0x25b05f(0x308)]('events.history',{'val':JSON[_0x25b05f(0x273)](this['eventHistory']),'ack':!![]}),this[_0x25b05f(0x261)][_0x25b05f(0x1ef)](_0x25b05f(0x2ea)+_0x1920a0[_0x25b05f(0x232)]+'\x20('+_0x1920a0[_0x25b05f(0x2c9)]+')');}[a0_0x1ad016(0x284)](_0x971086){}}function a0_0x316c(){const _0x1cf336=['Warte\x20auf\x20Analyse...','\x20(Bewohner\x20anwesend\x20-\x20normal)','Guest\x20Mode','config','triggerHealth\x20error:\x20','Verbindung\x20erfolgreich:\x20','startService','Scan\x20Error:\x20','59\x2023\x20*\x20*\x20*','instance','values','pressureBuffer','thermostat','apply','SYSTEM_DP_MODE','parse','2346916GYsAwz','13977200ZbjNMQ','./lib/setup','apiKey','initHistory','updateTopology','CALCULATE_HEALTH_TREND','path','analysis.health.todayRoomDetails','analysisTimer','analysis.energy.warmupTimes','TRAIN_COMFORT','calendarName','briefingJob','getDate','analysis.training.triggerHealth','History\x20Save\x20Error:\x20','eventHistory','existsSync','runAutopilot','saveDailyHistory','infrasoundLocked','checkWifiPresence','writeFileSync','setState','üîä\x20FORENSIC:\x20Infraschall\x20bei\x20Abwesenheit!\x20Pressure:\x20','timestamp','getAbsoluteDefaultDataDir','round','reduce','debug','360EdHisI','analysis.training.status','type','Daily\x20Room\x20Details\x20(48x30min)','PREDICT_ENERGY','getObjectViewAsync','modules','analysis.training.triggerEnergy','TRAIN_TOPOLOGY','modeResetJob','weatherunderground.0','calendarCheckTimer','filter','infrasoundEnabled','infrasoundSensorId','getMinutes','subscribeForeignStatesAsync','./lib/dead_man','./lib/recorder','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','triggerDailyDigest','driftAnalysisTimer','history','error','analysis.health.todayVector','./lib/scheduler','Gemini\x20Init\x20Error:\x20','[Integrator]\x20Error:\x20','‚úÖ\x20History\x20saved:\x20','VACATION','sensorLastValues','analysis.activity.roomHistory','.data.table','slice','cleanupGhostInterventions','setHours','temperature','refreshCalendar\x20failed:\x20','analyzeWindowOpening\x20error:\x20','join','getForeignObjectsAsync','trackerHeartbeat','now','‚ö†\x20Replay\x20skipped:\x20No\x20events\x20in\x20memory.','namespace','callback','rawEventLog','version','analysis.health.geminiNight','motion','system.adapter.ical.','sunny','readFileSync','triggerEnergyPrediction','analyzeWindowOpening','‚òÄÔ∏è\x20Solar\x20Condition:\x20SUNNY\x20detected\x20via\x20','subscribeForeignStates','Init...','moduleEnergy','updateSchedulePreview','297704CVlgyi','Kein\x20API\x20Key\x20√ºbergeben.','json','includes','analysis.energy.warmupSources','command','name','setObjectNotExistsAsync','@iobroker/adapter-core','Gute\x20L√ºftungsm√∂glichkeit!','inactivityThresholdHours','subscribeStates','\x20rooms)','memoryCache',',\x20Temp:\x20','useCalendar','manual','systemConfig','setDate','Aktiv\x20(','üö®\x20INFRASCHALL-ALARM:\x20Anomalie\x20bei\x20Abwesenheit\x20(scharf)!','Warm-Up\x20Time','checkWifiPresence:\x20Error\x20checking\x20','system.presenceWho','Event','getHours','energy','date','python','triggerBriefing','geminiApiKey','isProVersion','5sCDcpa','Gemini\x20Report\x20Night','initZombies','.system.mode','lastAlertState','\x20sequences','warn','./lib/scanner','üö∂\x20Gait\x20Analysis\x20triggered\x20with\x20','NORMAL','response','toLocaleTimeString','analysis.security.lastScore','toFixed','.last_seen','processSensorEvent','startSystem','getTime','updateHealthVector','de-DE','unload','log','¬∞C)','LTM.rawEventLog','unshift','ack','weatherTempId','find','rows','üîÆ\x20Energy\x20Prediction\x20triggered\x20(','runPythonHealthCheck','max','analysis.prediction.trackerConfidence','val','bootTime','Gemini\x20Report\x20Day','analysisHistory','loadSystemMode','handleInfrasound','stringify','system','8182770xtzkGN','analysis.training.triggerSecurity','Unbekannt','‚úÖ\x20Dashboard\x20Data\x20(Rooms\x20&\x20Timeline\x20&\x20Details)\x20restored.','from','generateContent','lastTrackerEventTime','analysis.visualization.pulse','isPresent','todayVector','2637ECiSGH','isRelevantActivity','forEach','guest','all','sendNotification','daswetter.0','party','isSolar','L√ºften\x20empfohlen','moduleSecurity','infrasoundThreshold','toString','executeAutomationAction','TRAIN_SECURITY','onStateChange','./lib/python_bridge','stateChange','getCalendarNames','triggerInfrasoundCorrelation','triggerEnergyPrediction\x20Error:\x20','text','cancel','mkdirSync','getForeignStateAsync','analysis.trigger','analysis.health.activityTrend',':\x20Temp-Differenz\x20','protectAiMemory','Room\x20History\x20(24h\x20Buckets)','forecast.current.weather','scanDevices','some','state','triggerGaitAnalysis','dependencyInstallInProgress','presenceDevices','getEnums','devices','value','createDailyDigest','security','accuweather.0','initSchedules','ltmJob','checkSolarCondition','üîä\x20Infraschall-Alarm:\x20','./lib/automation','generateHealthReport','Corrupt','split','setPresence','shift','open','moduleHealth','...','toLocaleDateString','onUnload','enum','clear','health','\x20events\x20from\x20today...','getGenerativeModel','enum.functions.*','./lib/ai_agent','checkLicense','SYSTEM_MODES','exitTimer','refreshCalendar','times','fill','replace','klar','\x22history\x22:{}','location','LTM.triggerDailyDigest','message','triggerGaitAnalysis\x20error:\x20','send','healthTrendInterval','outdoorSensorId','initSystemConfig','.venv','events.history','stopService','application/json','getStateAsync','LTM.dailyDigests','haust√ºr','pop','substring','system.adapter.','ANALYZE_GAIT','updateLocation','LTM.trainingData.sequences','system.adapter.ical.È¶ô','ready','Keine\x20Daten','infrasoundArmingId','toLowerCase','createAllObjects','bind','historyJob',',\x20Events:\x0a','checkCalendarTriggers','\x20-\x20','push','üìù\x20Manual\x20event\x20logged:\x20','General\x20Activity\x20Trend','onReady','runGeminiAnalysis','min','13856XWRJnp','\x20>\x20','isGracePeriodActive','appendToLog','length','analysis.prediction.trackerTopRoom','activeModules','./lib/topology','SET_LEARNING_MODE','automation.triggerAction','(((.+)+)+)+$','string','Current.WeatherText','models/gemini-flash-latest','\x20(Threshold)','cogni-living','./lib/installer','.json','sendTo','testContext','integrateRoomTime','analysis.health.geminiDay','dailyDigests','sources','scanThermostats','setStateAsync','\x20events\x20from\x20standard\x20storage.','genAI','Standard','bin','Niemand','5097337FvlOck','2-digit','Party\x20Mode','\x20Tage)','NIGHT','Failed\x20to\x20trigger\x20Python\x20Health\x20Check','endsWith','.isOnline','Room\x20Dwell\x20Time\x20Stats','analysis.automation.patternDetected','Unknown','roomIntegratorTimer','Live\x20Event\x20Pulse','map','info','\x20Kalender-Adapter\x20gefunden.','add','search','toISOString','onMessage','.uptime','¬∞C,\x20Au√üen:\x20','object','38520nMaInO','communicate.request','TRAIN_HEALTH','analysis.security.learningStatus','common','analysis.automation.targetValue','geminiModel','comfort','enum.rooms.*','@google/generative-ai','currentSystemMode','NextHours.Location_1.Day_1.current.symbol_desc','minDaysForBaseline','presenceCheckTimer','cogni-living\x20adapter\x20starting\x20(v','utf8','terrasse','number'];a0_0x316c=function(){return _0x1cf336;};return a0_0x316c();}if(require['main']!==module)module['exports']=_0x372442=>new CogniLiving(_0x372442);else new CogniLiving();