const a0_0x1366a7=a0_0x20ad;(function(_0x287867,_0x26d7d4){const _0x156ecf=a0_0x20ad,_0x46e598=_0x287867();while(!![]){try{const _0xc62880=-parseInt(_0x156ecf(0x254))/0x1*(-parseInt(_0x156ecf(0x332))/0x2)+-parseInt(_0x156ecf(0x2d7))/0x3+-parseInt(_0x156ecf(0x2b5))/0x4*(parseInt(_0x156ecf(0x247))/0x5)+-parseInt(_0x156ecf(0x252))/0x6+parseInt(_0x156ecf(0x220))/0x7*(-parseInt(_0x156ecf(0x339))/0x8)+-parseInt(_0x156ecf(0x253))/0x9*(-parseInt(_0x156ecf(0x32c))/0xa)+parseInt(_0x156ecf(0x1a8))/0xb;if(_0xc62880===_0x26d7d4)break;else _0x46e598['push'](_0x46e598['shift']());}catch(_0x434991){_0x46e598['push'](_0x46e598['shift']());}}}(a0_0x3a98,0xef235));const a0_0x8d821f=(function(){let _0x4aaa19=!![];return function(_0x120a99,_0x582845){const _0xd2daf6=_0x4aaa19?function(){const _0x17cca9=a0_0x20ad;if(_0x582845){const _0x402139=_0x582845[_0x17cca9(0x2a9)](_0x120a99,arguments);return _0x582845=null,_0x402139;}}:function(){};return _0x4aaa19=![],_0xd2daf6;};}()),a0_0x26eee5=a0_0x8d821f(this,function(){const _0x119f6a=a0_0x20ad;return a0_0x26eee5['toString']()[_0x119f6a(0x2d4)]('(((.+)+)+)+$')[_0x119f6a(0x2fa)]()[_0x119f6a(0x294)](a0_0x26eee5)[_0x119f6a(0x2d4)](_0x119f6a(0x2d8));});a0_0x26eee5();'use strict';const utils=require(a0_0x1366a7(0x2b9)),{GoogleGenerativeAI}=require('@google/generative-ai'),{spawn}=require(a0_0x1366a7(0x1a0)),path=require(a0_0x1366a7(0x24b)),fs=require('fs'),installer=require(a0_0x1366a7(0x267)),scanner=require('./lib/scanner'),schedulers=require(a0_0x1366a7(0x25a)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x9c4,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x1366a7(0x1e1),SEQUENCE_TIMEOUT_MS=0x5*0x3c*0x3e8,MAX_TRAINING_SET_SIZE=0x1f4,THERMO_LOG_SIZE=0x3e8,EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,LTM_DP_RAW_LOG=a0_0x1366a7(0x305),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x1366a7(0x30c),LTM_DP_TRIGGER_DIGEST='LTM.triggerDailyDigest',LTM_DP_BASELINE_STATUS='LTM.baselineStatus',LTM_DP_DRIFT_CHANNEL=a0_0x1366a7(0x2ef),LTM_DP_DRIFT_STATUS=a0_0x1366a7(0x198),LTM_DP_DRIFT_DETAILS=a0_0x1366a7(0x2ac),LTM_DP_DRIFT_LAST_CHECK=a0_0x1366a7(0x275),SYSTEM_DP_MODE=a0_0x1366a7(0x2cf),SYSTEM_MODES={'NORMAL':'normal','VACATION':a0_0x1366a7(0x2fc),'PARTY':a0_0x1366a7(0x321),'GUEST':a0_0x1366a7(0x197)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x1366a7(0x24d)],SYSTEM_MODES[a0_0x1366a7(0x1db)]],PERSONA_MAPPING={'generic':'Analysiere\x20ausgewogen.','senior_aal':a0_0x1366a7(0x326),'family':a0_0x1366a7(0x23f),'single_comfort':a0_0x1366a7(0x33c),'security':a0_0x1366a7(0x264)},ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};let activeSequence=[],sequenceTimer=null;async function initZombies(_0x2de9b7){const _0x1dcd37=a0_0x1366a7;try{const _0x291d77=['analysis.history_debug_00',_0x1dcd37(0x1ad)];for(const _0x3e15c1 of _0x291d77){try{const _0x472e7e=await _0x2de9b7[_0x1dcd37(0x1f7)](_0x3e15c1);if(_0x472e7e)await _0x2de9b7['delObjectAsync'](_0x3e15c1);}catch(_0x3c0b74){}}}catch(_0xed540d){}}async function checkLicense(_0x54977e){return!![];}async function initHistory(_0x137b1d){const _0x41ca56=a0_0x1366a7;try{const _0x145169=await _0x137b1d['getStateAsync'](_0x41ca56(0x1ec));_0x145169&&_0x145169[_0x41ca56(0x236)]&&(_0x137b1d[_0x41ca56(0x314)]=JSON[_0x41ca56(0x234)](_0x145169[_0x41ca56(0x236)][_0x41ca56(0x2fa)]()));}catch(_0x36e365){_0x137b1d[_0x41ca56(0x314)]=[];}try{const _0x4b831a=await _0x137b1d[_0x41ca56(0x28b)](_0x41ca56(0x257));if(_0x4b831a&&_0x4b831a['val'])_0x137b1d[_0x41ca56(0x2c1)]=JSON[_0x41ca56(0x234)](_0x4b831a['val']['toString']());}catch(_0x116c5b){_0x137b1d[_0x41ca56(0x2c1)]=[];}if(_0x137b1d[_0x41ca56(0x314)]&&_0x137b1d[_0x41ca56(0x314)][_0x41ca56(0x1a4)]>0x0){_0x137b1d[_0x41ca56(0x2e8)][_0x41ca56(0x1ac)](_0x41ca56(0x2f2));for(let _0x5238be=_0x137b1d[_0x41ca56(0x314)][_0x41ca56(0x1a4)]-0x1;_0x5238be>=0x0;_0x5238be--){const _0x11eacc=_0x137b1d[_0x41ca56(0x314)][_0x5238be];if(_0x11eacc&&_0x11eacc['id']!==undefined&&_0x11eacc[_0x41ca56(0x299)]!==undefined)_0x137b1d['sensorLastValues'][_0x11eacc['id']]=_0x11eacc[_0x41ca56(0x299)];}}}async function initSystemConfig(_0x3a4c81){const _0x339ad8=a0_0x1366a7;try{const _0x1d9cf6=await _0x3a4c81[_0x339ad8(0x1bf)](_0x339ad8(0x25c));if(_0x1d9cf6&&_0x1d9cf6['common'])_0x3a4c81[_0x339ad8(0x333)]={'latitude':_0x1d9cf6[_0x339ad8(0x290)][_0x339ad8(0x28c)]||0x0,'longitude':_0x1d9cf6[_0x339ad8(0x290)][_0x339ad8(0x1d9)]||0x0,'city':_0x1d9cf6[_0x339ad8(0x290)][_0x339ad8(0x2ce)]||''};}catch(_0x46a239){}}async function createAllObjects(_0x3b7396){const _0x2ae286=a0_0x1366a7;await _0x3b7396[_0x2ae286(0x1f2)]('system',{'type':'channel','common':{'name':_0x2ae286(0x261)},'native':{}}),await _0x3b7396['extendObjectAsync'](SYSTEM_DP_MODE,{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x2db),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x1dc),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x2ae286(0x277)]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x1d1),{'type':_0x2ae286(0x1dc),'common':{'name':'Who\x20is\x20present?','type':_0x2ae286(0x20b),'role':'text','read':!![],'write':![]},'native':{}}),await _0x3b7396['setObjectNotExistsAsync'](_0x2ae286(0x1b3),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x28d),'type':_0x2ae286(0x20b),'role':'json','read':!![],'write':![]},'native':{}}),await _0x3b7396['setObjectNotExistsAsync'](_0x2ae286(0x1ec),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x18e),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x291),'read':!![],'write':![]},'native':{}}),await _0x3b7396['extendObjectAsync'](_0x2ae286(0x2d5),{'type':_0x2ae286(0x1ab),'common':{'name':_0x2ae286(0x219)},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)]('analysis.training.triggerSecurity',{'type':_0x2ae286(0x1dc),'common':{'name':'Train\x20Security','type':_0x2ae286(0x306),'role':_0x2ae286(0x1fa),'read':!![],'write':!![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)]('analysis.training.triggerHealth',{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x240),'type':_0x2ae286(0x306),'role':_0x2ae286(0x1fa),'read':!![],'write':!![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x1e0),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x262),'type':'boolean','role':_0x2ae286(0x1fa),'read':!![],'write':!![]},'native':{}}),await _0x3b7396['setObjectNotExistsAsync'](_0x2ae286(0x205),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x239),'type':'boolean','role':_0x2ae286(0x1fa),'read':!![],'write':!![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x2f9),{'type':_0x2ae286(0x1dc),'common':{'name':'Build\x20Topology','type':_0x2ae286(0x306),'role':_0x2ae286(0x1fa),'read':!![],'write':!![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x23e),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x18f),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x2e2),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x1f2)](_0x2ae286(0x24a),{'type':_0x2ae286(0x1ab),'common':{'name':_0x2ae286(0x2df)},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x1f9),{'type':'state','common':{'name':'Anomaly\x20Score','type':_0x2ae286(0x231),'role':'value','read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)]('analysis.security.currentThreshold',{'type':_0x2ae286(0x1dc),'common':{'name':'Current\x20Threshold','type':'number','role':'value','read':!![],'write':![],'def':0.05},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x1d5),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x259),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x24c),'read':!![],'write':![]},'native':{}}),await _0x3b7396['setObjectNotExistsAsync'](_0x2ae286(0x2c9),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x2a1),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x291),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x1f2)](_0x2ae286(0x2ab),{'type':_0x2ae286(0x1ab),'common':{'name':'Health\x20Analysis'},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x192),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x259),'type':_0x2ae286(0x20b),'role':'date','read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x2e1),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x312),'type':_0x2ae286(0x306),'role':'indicator','read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)]('analysis.health.trendDiagnosis',{'type':'state','common':{'name':_0x2ae286(0x218),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x2e2),'read':!![],'write':![]},'native':{}}),await _0x3b7396['setObjectNotExistsAsync'](_0x2ae286(0x1f6),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x2de),'type':_0x2ae286(0x231),'role':_0x2ae286(0x299),'read':!![],'write':![]},'native':{}}),await _0x3b7396['setObjectNotExistsAsync'](_0x2ae286(0x24e),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x2a2),'type':'string','role':_0x2ae286(0x291),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x246),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x18d),'type':_0x2ae286(0x231),'role':_0x2ae286(0x299),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x1f2)](_0x2ae286(0x2d1),{'type':'channel','common':{'name':'Energy\x20Intelligence'},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x224),{'type':'state','common':{'name':_0x2ae286(0x2c8),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x2e2),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x320),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x1f0),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x2e2),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x33b),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x300),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x291),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x1f2)]('LTM',{'type':_0x2ae286(0x1ab),'common':{'name':_0x2ae286(0x29c)},'native':{}}),await _0x3b7396['extendObjectAsync'](LTM_DP_RAW_LOG,{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x1f3),'type':_0x2ae286(0x20b),'role':'json','read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x1f2)](LTM_DP_DAILY_DIGESTS,{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x1a5),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x291),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x274),{'type':'state','common':{'name':'Sequences','type':_0x2ae286(0x20b),'role':_0x2ae286(0x291),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x19c),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x288),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x291),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x19e),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x2be),'type':_0x2ae286(0x306),'role':'button','read':!![],'write':!![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x1d6),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x1b5),'type':_0x2ae286(0x306),'role':_0x2ae286(0x1fa),'read':!![],'write':!![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x1b6),{'type':'state','common':{'name':'Alert\x20Status','type':'boolean','role':_0x2ae286(0x25e),'read':!![],'write':![]},'native':{}}),await _0x3b7396['setObjectNotExistsAsync'](_0x2ae286(0x266),{'type':_0x2ae286(0x1dc),'common':{'name':'Alert\x20Reason','type':_0x2ae286(0x20b),'role':'text.alarm','read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x1ba),{'type':'state','common':{'name':_0x2ae286(0x1b2),'type':_0x2ae286(0x20b),'role':'text','read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)]('analysis.automation.patternDetected',{'type':_0x2ae286(0x1dc),'common':{'name':'Pattern\x20Detected','type':_0x2ae286(0x306),'role':_0x2ae286(0x1e9),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x32e),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x258),'type':'string','role':_0x2ae286(0x2e2),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x327),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x280),'type':_0x2ae286(0x20b),'role':_0x2ae286(0x291),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x1d3),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x237),'type':_0x2ae286(0x20b),'role':'text','read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x2ca),{'type':_0x2ae286(0x1dc),'common':{'name':'Target\x20Value','type':_0x2ae286(0x20b),'role':_0x2ae286(0x2e2),'read':!![],'write':![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)](_0x2ae286(0x32a),{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x1d7),'type':_0x2ae286(0x306),'role':'switch','read':!![],'write':!![]},'native':{}}),await _0x3b7396[_0x2ae286(0x22f)]('analysis.automation.triggerAction',{'type':_0x2ae286(0x1dc),'common':{'name':_0x2ae286(0x26d),'type':_0x2ae286(0x306),'role':'button','read':!![],'write':!![]},'native':{}});}async function loadSystemMode(_0x532b45){const _0x29ab8d=a0_0x1366a7;try{const _0xd6f66e=await _0x532b45[_0x29ab8d(0x28b)](SYSTEM_DP_MODE);_0xd6f66e&&_0xd6f66e[_0x29ab8d(0x236)]&&Object['values'](SYSTEM_MODES)[_0x29ab8d(0x2dd)](_0xd6f66e[_0x29ab8d(0x236)])?_0x532b45[_0x29ab8d(0x250)]=_0xd6f66e[_0x29ab8d(0x236)]:(_0x532b45['currentSystemMode']=SYSTEM_MODES[_0x29ab8d(0x277)],await _0x532b45[_0x29ab8d(0x2a7)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES['NORMAL'],'ack':!![]}));}catch(_0x567d7b){_0x532b45[_0x29ab8d(0x250)]=SYSTEM_MODES['NORMAL'];}}async function loadRawEventLog(_0xedab97){const _0x5b8cc3=a0_0x1366a7;try{const _0x310b04=await _0xedab97[_0x5b8cc3(0x28b)](LTM_DP_RAW_LOG);if(_0x310b04&&_0x310b04['val'])_0xedab97['rawEventLog']=JSON[_0x5b8cc3(0x234)](_0x310b04['val']);}catch(_0x3feb1e){_0xedab97[_0x5b8cc3(0x249)]=[];}}async function saveRawEventLog(_0x448397){const _0x1b85c8=a0_0x1366a7;if(_0x448397[_0x1b85c8(0x249)]['length']>RAW_LOG_MAX_SIZE)_0x448397[_0x1b85c8(0x249)][_0x1b85c8(0x21a)](0x0,_0x448397['rawEventLog'][_0x1b85c8(0x1a4)]-RAW_LOG_MAX_SIZE);await _0x448397[_0x1b85c8(0x2a7)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x448397['rawEventLog']),'ack':!![]});}async function loadDailyDigests(_0x3042b9){const _0x2fc24c=a0_0x1366a7;try{const _0x5b4a13=await _0x3042b9[_0x2fc24c(0x28b)](LTM_DP_DAILY_DIGESTS);if(_0x5b4a13&&_0x5b4a13[_0x2fc24c(0x236)])_0x3042b9[_0x2fc24c(0x1cf)]=JSON[_0x2fc24c(0x234)](_0x5b4a13[_0x2fc24c(0x236)]);}catch(_0x3ab904){_0x3042b9[_0x2fc24c(0x1cf)]=[];}await updateBaselineStatus(_0x3042b9);}async function saveDailyDigests(_0x4a5894,_0x58bc81=!![]){const _0x4f54ea=a0_0x1366a7,_0x10a706=_0x4a5894['config']['ltmLtbWindowDays']||0x3c;_0x4a5894[_0x4f54ea(0x1cf)][_0x4f54ea(0x1a4)]>_0x10a706&&_0x4a5894[_0x4f54ea(0x1cf)][_0x4f54ea(0x21a)](0x0,_0x4a5894[_0x4f54ea(0x1cf)]['length']-_0x10a706);await _0x4a5894[_0x4f54ea(0x2a7)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x4a5894['dailyDigests']),'ack':!![]});if(_0x58bc81)await updateBaselineStatus(_0x4a5894);}async function updateAnalysisHistory(_0x2af593,_0x3df3b2){const _0x476c59=a0_0x1366a7;_0x2af593['analysisHistory'][_0x476c59(0x2ee)](_0x3df3b2);if(_0x2af593[_0x476c59(0x2c1)][_0x476c59(0x1a4)]>HISTORY_MAX_SIZE)_0x2af593['analysisHistory'][_0x476c59(0x221)]();await _0x2af593['setStateAsync']('analysis.analysisHistory',{'val':JSON['stringify'](_0x2af593['analysisHistory']),'ack':!![]});}async function updateBaselineStatus(_0xdbc2e9){const _0x3b199f=a0_0x1366a7;if(!_0xdbc2e9['isProVersion']){await _0xdbc2e9['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x3b199f(0x2f8),'ack':!![]});return;}const _0xeee60=_0xdbc2e9['dailyDigests']['length']>=(_0xdbc2e9[_0x3b199f(0x1da)][_0x3b199f(0x1d2)]||0x7)?_0x3b199f(0x2fd)+_0xdbc2e9[_0x3b199f(0x1cf)][_0x3b199f(0x1a4)]+_0x3b199f(0x295):_0x3b199f(0x325)+_0xdbc2e9[_0x3b199f(0x1cf)][_0x3b199f(0x1a4)]+'/'+(_0xdbc2e9['config'][_0x3b199f(0x1d2)]||0x7)+')';await _0xdbc2e9[_0x3b199f(0x2a7)](LTM_DP_BASELINE_STATUS,{'val':_0xeee60,'ack':!![]});}async function initSensorSubscriptions(_0x3a2116){const _0x66e1da=a0_0x1366a7,_0x29a749=_0x3a2116[_0x66e1da(0x1da)][_0x66e1da(0x222)];if(_0x29a749)for(const _0x44e8de of _0x29a749){await _0x3a2116[_0x66e1da(0x1c7)](_0x44e8de['id']);}}async function initPresenceSubscriptions(_0x581b61){const _0x5c7587=a0_0x1366a7,_0xf46f3=_0x581b61[_0x5c7587(0x1da)][_0x5c7587(0x1e6)];if(_0xf46f3)for(const _0x2c2e89 of _0xf46f3){await _0x581b61['subscribeForeignStatesAsync'](_0x2c2e89);}}async function setupTelegramListener(_0x101314){const _0x43fbb2=a0_0x1366a7,_0x49be1a=_0x101314['config'][_0x43fbb2(0x1c9)];if(_0x101314[_0x43fbb2(0x1da)][_0x43fbb2(0x1a3)]&&_0x49be1a)await _0x101314[_0x43fbb2(0x1c7)](_0x49be1a+_0x43fbb2(0x2bf));}async function checkWifiPresence(_0x49eb26){const _0xd169f8=a0_0x1366a7;try{const _0x2a383f=_0x49eb26[_0xd169f8(0x1da)][_0xd169f8(0x1e6)]||[];let _0x376587=![];const _0x453227=[];for(const _0x2703a4 of _0x2a383f){try{const _0x41fd65=await _0x49eb26[_0xd169f8(0x22e)](_0x2703a4);_0x41fd65&&(_0x41fd65['val']===!![]||_0x41fd65[_0xd169f8(0x236)]===_0xd169f8(0x2a4)||_0x41fd65[_0xd169f8(0x236)]===0x1)&&(_0x376587=!![],_0x453227[_0xd169f8(0x195)](_0x2703a4));}catch(_0x2502c5){}}return await _0x49eb26[_0xd169f8(0x2a7)](_0xd169f8(0x1d1),{'val':_0x453227[_0xd169f8(0x27f)](',\x20'),'ack':!![]}),_0x376587&&(_0x49eb26[_0xd169f8(0x2c4)]&&(_0x49eb26[_0xd169f8(0x2e8)]['info']('WiFi\x20Presence\x20detected.'),abortExitTimer(_0x49eb26)),!_0x49eb26[_0xd169f8(0x31e)]&&_0x49eb26['currentSystemMode']===SYSTEM_MODES['NORMAL']&&await setPresence(_0x49eb26,!![])),_0x376587;}catch(_0x247b5d){return![];}}function a0_0x3a98(){const _0x2c0467=['Gemini\x20Error:\x20','notifySignalInstance','driftAnalysisTimer','12tIsssq','application/json','stdout','Â°C,\x20','@iobroker/adapter-core','callback','insulation','fill','Kalender\x20deaktiviert.','Trigger\x20Analysis','.communicate.request','close','analysisHistory','name','weatherInstance','exitTimer','analysis.security.currentThreshold','heating','motion','Insulation\x20Score','analysis.security.topologyMatrix','analysis.automation.targetValue','schalter','getEnums','onUnload','city','system.mode','find','analysis.energy','namespace','temperature','search','analysis.training','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','1680489wmOhcL','(((.+)+)+)+$','livingContext','getTime','System\x20Mode','N/A\x20(Learning)','includes','Trend\x20Value','Security\x20Monitor','Telegram\x20handler\x20error:\x20','analysis.health.isAnomaly','text','TRAIN_HEALTH','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','automation.triggerAction','Activity-Level','generateContent','log','confidence','floor','stdin','geminiApiKey','notifyEmailRecipient','unshift','LTM.driftAnalysis','getForeignObjectsAsync','MSG:\x20','Restoring\x20sensor\x20cache...','getGenerativeModel','command','location','timestamp','ENERGY_PREDICT_RESULT','Deaktiviert\x20(Pro-Feature)','analysis.training.triggerTopology','toString','driftDetails','vacation','Aktiv\x20(','setState','toLocaleTimeString','Temperature\x20Forecast','GAIT_RESULT','prÃ¤senz','ðŸ\x20Python\x20Pong','ðŸ•¸ï¸\x20Topology\x20Map\x20updated.','LTM.rawEventLog','boolean','alertReason','enum.rooms.*','genAI','Unknown','Kein\x20API\x20Key.','LTM.processingStatus','TRAIN_ENERGY','contact','change_percent','normal','tÃ¼r','Anomaly\x20Detected','ready','eventHistory','logDuplicates','Wetterdaten\x20deaktiviert.','endsWith','testContext','analysis.automation.triggerAction','TRAIN_SECURITY','split','ðŸ›¡ï¸\x20SECURITY\x20CHECK:\x20Score\x20','stringify','isPresent',')\x20-\x20SAFE\x20BOOT','analysis.energy.heatingScore','party','TREND_RESULT','Keine\x20Termine.','now','Lernphase\x20(','PRIORITÃ„T:\x20Gesundheit/AAL.','analysis.automation.detectedPatterns','replace','getHours','analysis.automation.autoApply','Keine\x20Wetterdaten\x20verfÃ¼gbar.','133660tJBPwC','notifyEmailInstance','analysis.automation.description','.\x20KONTEXT:\x20','notifyPushoverInstance','\x20=\x20','2jaAFBj','systemConfig','details','Topology\x20Error:\x20','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','scanDevices','Training\x20Error:\x20','104kbjoqR','summary','analysis.energy.forecast','Fokus\x20auf\x20Komfort.','status','cogni-living','Gait\x20Speed\x20Trend','Event\x20History','Training\x20Status','trim','window','analysis.health.lastCheck','toFixed','ðŸ””\x20Test-Nachricht\x20von\x20NUUKANNI.','push','enum','guest','LTM.driftAnalysis.baselineDrift','reason','[RECORDER]\x20Error:\x20','subscribeStates','LTM.trainingData.thermodynamics','klima','analysis.trigger','analysisTimer','child_process','systemUUID','accuweather','notifyTelegramEnabled','length','Daily\x20Digests','.\x20EMERGENCY:\x20','NUUKANNI','35891801vMTmSb','system.isPresent','warn','channel','info','events.history_debug_00','setHours','notifyEmailEnabled','activityLevel','writable','Activity\x20Summary','events.lastEvent','ðŸ“\x20Feedback\x20received:\x20','Trigger\x20Briefing','analysis.isAlert','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','Success','isGracePeriodActive','analysis.activitySummary','write','door','response','useWeather','getForeignObjectAsync','python3','\x0aGrund:\x20','notifyPushoverEnabled','Sec-Training\x20started...','occupancy','notifyWhatsappRecipient','BUILD_TOPOLOGY','subscribeForeignStatesAsync','âš ï¸\x20SECURITY\x20ALARM:\x20','notifyTelegramInstance','.forecast.current.temperature','useCalendar','analysisInterval','Keine\x20Details.','ðŸ›‹ï¸\x20BUTLER:\x20Keine\x20neuen\x20Muster\x20gefunden.','dailyDigests','daswetter','system.presenceWho','minDaysForBaseline','analysis.automation.targetId','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','analysis.security.lastCheck','analysis.triggerBriefing','Auto\x20Apply','Adapter','longitude','config','GUEST','state','.forecast.current.state','Error\x20launching\x20Python:\x20','version','analysis.training.triggerEnergy','models/gemini-flash-latest','debug','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','exitGraceTimer','OK:\x20API\x20antwortet.','presenceDevices','licht','instance','indicator','analysis.training.triggerHealth','presence','events.history','isAlert','calendarInstance','rating','Heating\x20Score','\x20new\x20patterns.','extendObjectAsync','Raw\x20Log','diagnosis','heizung','analysis.health.trendValue','getObjectAsync','loc','analysis.security.lastScore','button','slice','Started...','python_service','telegram','from','stateChange','TOPOLOGY_RESULT','âœ…\x20HEALTH\x20TRAINED.','checkAndInstall','onReady','analysis.training.triggerComfort','ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...','some','error','Skipped\x20(No\x20AI\x20or\x20Data)','setupModeResetScheduler','string','notifySignalRecipient','Gemini\x20Init\x20Error:\x20','ANOMALY','ENERGY_TRAIN_RESULT','ANALYZE_SEQUENCE','ltmJob','scanForDevices','onMessage','ðŸ•¸ï¸\x20Building\x20Topology\x20Matrix...','âš ï¸\x20ALARM:\x20','notifyWhatsappInstance','getCalendarNames','Trend','AI\x20Training','splice','\x0aSTB:\x20','.Current.WeatherText','sensorLastValues','Briefing\x20Error:\x20','modeResetJob','890239OJYWAz','pop','devices','Status:\x20Mode=','analysis.energy.insulationScore','apiKey','analysis.automation.patternDetected','simulateButler','message','[LOG]','switch','payload','sendTo','ltmStbWindowDays','getForeignStateAsync','setObjectNotExistsAsync','ANALYZE_HEALTH','number','notifyTelegramRecipient','data','parse','briefingJob','val','Target\x20ID','forEach','Train\x20Comfort','[RESULT]','BUTLER\x20Execution\x20Error:\x20','setupDriftAnalysisScheduler','light','analysis.training.status','Fokus\x20auf\x20Familienroutinen.','Train\x20Health','analysis.lastResult','onStateChange','analysis.health.trendDiagnosis','setForeignStateAsync','triggerDailyDigest','analysis.health.gaitSpeed','2621315jNwovR','Success:\x20','rawEventLog','analysis.security','path','date','PARTY','analysis.health.todayVector','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','currentSystemMode','.\x20ANWESEND:\x20','8812848rDqBgY','747fWuuel','1862301MJJrEs','isProVersion','values','analysis.analysisHistory','Description','Last\x20Check','./lib/scheduler','lastAlertState','system.config','geminiModel','indicator.alarm','.\x20WETTER:\x20','enum.functions.*','System','Train\x20Energy','ANALYZE_TREND','PRIORITÃ„T:\x20Sicherheit.','substring','analysis.alertReason','./lib/installer','SECURITY_RESULT','ðŸš€\x20Starting\x20NUUKANNI\x20Logic\x20(v0.13.1)...','aiPersona','cancel','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','Trigger\x20Action','.Current.Temperature','setupBriefingScheduler','PYTHON_EXE','success','ðŸ§ \x20Triggering\x20Security\x20Training...','pythonProcess','LTM.trainingData.sequences','LTM.driftAnalysis.lastCheck','Failed:\x20','NORMAL','send','notifyPushoverRecipient','Unbekannt','automationProposal','.NextHours.Location_1.Day_1.current.temp_value','ðŸŒ…\x20Morning\x20Briefing:\x0a','ANALYZE_GAIT','join','Detected\x20Patterns','dimmer','triggerBriefing','bind','outdoorSensorId','startsWith','object','targetValue','Thermodynamics',',\x20Weather=','isExit','getStateAsync','latitude','Last\x20raw\x20event','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','toISOString','common','json','threshold','round','constructor','\x20Tage)','âš ï¸\x20NUUKANNI\x20ALARM','main','ack','value','.\x20SYSTEM_MODE:\x20','COMFORT_RESULT','LTM','toLowerCase','VACATION','keys','type','Topology\x20Matrix','Today\x20Vector\x20(15m)','licenseKey','online','communicate.request','Gesendet.','setStateAsync','notifyWhatsappEnabled','apply','inactivityThresholdHours','analysis.health','LTM.driftAnalysis.driftDetails','description','Regel\x20erkannt:\x20','baselineDrift','HEALTH_TRAIN_RESULT','exports'];a0_0x3a98=function(){return _0x2c0467;};return a0_0x3a98();}function startExitTimer(_0x4e5aab){const _0x1a0b24=a0_0x1366a7;abortExitTimer(_0x4e5aab),_0x4e5aab['isGracePeriodActive']=!![],_0x4e5aab['exitGraceTimer']=setTimeout(()=>{_0x4e5aab['isGracePeriodActive']=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),_0x4e5aab[_0x1a0b24(0x2c4)]=setTimeout(()=>{setPresence(_0x4e5aab,![]),_0x4e5aab['exitTimer']=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}function abortExitTimer(_0x5c0b33){const _0x528fc6=a0_0x1366a7;if(_0x5c0b33[_0x528fc6(0x2c4)])clearTimeout(_0x5c0b33['exitTimer']);if(_0x5c0b33[_0x528fc6(0x1e4)])clearTimeout(_0x5c0b33[_0x528fc6(0x1e4)]);_0x5c0b33['exitTimer']=null,_0x5c0b33[_0x528fc6(0x1e4)]=null,_0x5c0b33['isGracePeriodActive']=![];}async function setPresence(_0x3cad74,_0x2a9dc3){const _0x15ce1e=a0_0x1366a7;if(_0x3cad74[_0x15ce1e(0x31e)]===_0x2a9dc3)return;_0x3cad74[_0x15ce1e(0x31e)]=_0x2a9dc3,await _0x3cad74[_0x15ce1e(0x2a7)](_0x15ce1e(0x1a9),{'val':_0x2a9dc3,'ack':!![]});}async function executeAutomationAction(_0x58a32e){const _0x465add=a0_0x1366a7;try{const _0x3892c8=await _0x58a32e[_0x465add(0x28b)]('analysis.automation.targetId'),_0x23d561=await _0x58a32e[_0x465add(0x28b)]('analysis.automation.targetValue');if(_0x3892c8&&_0x3892c8[_0x465add(0x236)]&&_0x23d561){const _0xdf0150=_0x3892c8[_0x465add(0x236)];let _0x16d0cb=_0x23d561['val'];try{_0x16d0cb=JSON[_0x465add(0x234)](_0x16d0cb);}catch(_0x380fbf){}_0x58a32e[_0x465add(0x2e8)][_0x465add(0x1ac)](_0x465add(0x24f)+_0xdf0150+_0x465add(0x331)+_0x16d0cb),await _0x58a32e[_0x465add(0x244)](_0xdf0150,_0x16d0cb);}else _0x58a32e[_0x465add(0x2e8)][_0x465add(0x1aa)](_0x465add(0x336));}catch(_0x314e5d){_0x58a32e[_0x465add(0x2e8)][_0x465add(0x208)](_0x465add(0x23b)+_0x314e5d[_0x465add(0x228)]);}}async function processSensorEvent(_0x91955,_0x36bc09,_0x4ed8c6,_0x175281){const _0x2aca52=a0_0x1366a7;if(!_0x175281)return;const _0x1c0d59=_0x4ed8c6[_0x2aca52(0x236)],_0x202c9c=Date[_0x2aca52(0x324)](),_0x4885c3=_0x91955[_0x2aca52(0x21d)][_0x36bc09];_0x91955[_0x2aca52(0x21d)][_0x36bc09]=_0x1c0d59;if(!_0x175281[_0x2aca52(0x315)]&&_0x4885c3!=undefined&&_0x4885c3==_0x1c0d59)return;const _0x1cca8b=(_0x175281[_0x2aca52(0x2a0)]||'')['toLowerCase'](),_0x2d4cfa=_0x1cca8b[_0x2aca52(0x2dd)](_0x2aca52(0x2d3))||_0x1cca8b[_0x2aca52(0x2dd)]('temperatur')||_0x1cca8b[_0x2aca52(0x2dd)](_0x2aca52(0x19d))||_0x1cca8b[_0x2aca52(0x2dd)](_0x2aca52(0x1f5));_0x91955[_0x2aca52(0x255)]&&_0x2d4cfa&&recordThermodynamics(_0x91955,_0x36bc09,_0x1c0d59,_0x175281['location']);const _0x155f76={'timestamp':_0x202c9c,'id':_0x36bc09,'name':_0x175281[_0x2aca52(0x2c2)],'type':_0x175281[_0x2aca52(0x2a0)],'location':_0x175281[_0x2aca52(0x2f5)],'value':_0x1c0d59};_0x91955['eventHistory'][_0x2aca52(0x2ee)](_0x155f76);if(_0x91955[_0x2aca52(0x314)][_0x2aca52(0x1a4)]>HISTORY_MAX_SIZE)_0x91955[_0x2aca52(0x314)][_0x2aca52(0x221)]();await _0x91955[_0x2aca52(0x2a7)](_0x2aca52(0x1b3),{'val':JSON[_0x2aca52(0x31d)](_0x155f76),'ack':!![]}),await _0x91955['setStateAsync']('events.history',{'val':JSON['stringify'](_0x91955[_0x2aca52(0x314)]),'ack':!![]});_0x91955[_0x2aca52(0x255)]&&(_0x91955[_0x2aca52(0x249)][_0x2aca52(0x195)](_0x155f76),await saveRawEventLog(_0x91955),recordSequence(_0x91955,_0x155f76));if(_0x175281[_0x2aca52(0x28a)]&&_0x1c0d59===!![]){if(_0x91955[_0x2aca52(0x31e)]&&!_0x91955[_0x2aca52(0x1b9)])startExitTimer(_0x91955);else{if(!_0x91955[_0x2aca52(0x31e)])setPresence(_0x91955,!![]);}}else{if(_0x175281[_0x2aca52(0x2a0)]==='motion'&&_0x1c0d59===!![]){if(_0x91955[_0x2aca52(0x2c4)])abortExitTimer(_0x91955);if(!_0x91955['isPresent']&&_0x91955[_0x2aca52(0x250)]===SYSTEM_MODES[_0x2aca52(0x277)])setPresence(_0x91955,!![]);}}}async function recordThermodynamics(_0x5e2f42,_0x2c2308,_0x20c542,_0x1f340e){const _0x356266=a0_0x1366a7,_0x3d05c3=await getOutsideTemperatureNumeric(_0x5e2f42),_0x10f928=await _0x5e2f42[_0x356266(0x28b)](_0x356266(0x19c));let _0x332c26=[];if(_0x10f928&&_0x10f928[_0x356266(0x236)])try{_0x332c26=JSON[_0x356266(0x234)](_0x10f928[_0x356266(0x236)]);}catch(_0x21c595){}_0x332c26['push']({'ts':Date['now'](),'room':_0x1f340e||_0x356266(0x30a),'t_in':_0x20c542,'t_out':_0x3d05c3});if(_0x332c26['length']>THERMO_LOG_SIZE)_0x332c26['shift']();await _0x5e2f42[_0x356266(0x2a7)](_0x356266(0x19c),{'val':JSON[_0x356266(0x31d)](_0x332c26),'ack':!![]});}async function getOutsideTemperatureNumeric(_0x1f317a){const _0x320849=a0_0x1366a7;if(_0x1f317a[_0x320849(0x1da)][_0x320849(0x284)])try{const _0x38b299=await _0x1f317a[_0x320849(0x22e)](_0x1f317a['config'][_0x320849(0x284)]);if(_0x38b299&&_0x38b299['val']!==undefined&&_0x38b299['val']!==null)return parseFloat(_0x38b299[_0x320849(0x236)]);}catch(_0x18d49a){}const _0x4d01c9=_0x1f317a[_0x320849(0x1da)][_0x320849(0x2c3)];if(!_0x1f317a[_0x320849(0x1da)][_0x320849(0x1be)]||!_0x4d01c9)return null;try{let _0x4e317a='';if(_0x4d01c9[_0x320849(0x2dd)](_0x320849(0x1a2)))_0x4e317a=_0x4d01c9+_0x320849(0x26e);else{if(_0x4d01c9['includes'](_0x320849(0x1d0)))_0x4e317a=_0x4d01c9+_0x320849(0x27c);else{if(_0x4d01c9[_0x320849(0x2dd)]('openweathermap'))_0x4e317a=_0x4d01c9+'.forecast.current.temperature';else{if(_0x4d01c9[_0x320849(0x2dd)]('weatherunderground'))_0x4e317a=_0x4d01c9+'.forecast.current.temp';}}}if(_0x4e317a){const _0x9f4c2b=await _0x1f317a['getForeignStateAsync'](_0x4e317a);if(_0x9f4c2b&&_0x9f4c2b[_0x320849(0x236)]!==undefined&&_0x9f4c2b[_0x320849(0x236)]!==null)return parseFloat(_0x9f4c2b['val']);}}catch(_0x1edabc){}return null;}async function recordSequence(_0x5b426c,_0x3f4c29){const _0x2b6f48=a0_0x1366a7,_0x34a38f=(_0x3f4c29['type']||'')[_0x2b6f48(0x29d)](),_0x2c5d30=[_0x2b6f48(0x2c7),'bewegung',_0x2b6f48(0x302),_0x2b6f48(0x1eb),_0x2b6f48(0x1c4),_0x2b6f48(0x1bc),_0x2b6f48(0x311),_0x2b6f48(0x191),'fenster',_0x2b6f48(0x30e),'kontakt',_0x2b6f48(0x23d),_0x2b6f48(0x1e7),_0x2b6f48(0x22a),_0x2b6f48(0x2cb),_0x2b6f48(0x281),'lampe'];if(!_0x2c5d30[_0x2b6f48(0x207)](_0x114294=>_0x34a38f[_0x2b6f48(0x2dd)](_0x114294)))return;if(!_0x3f4c29[_0x2b6f48(0x299)])return;if(sequenceTimer)clearTimeout(sequenceTimer);activeSequence[_0x2b6f48(0x195)]({'loc':_0x3f4c29['location']||_0x2b6f48(0x30a),'id':_0x3f4c29['id'],'ts':Date[_0x2b6f48(0x324)]()}),sequenceTimer=setTimeout(async()=>{const _0x1a1c13=_0x2b6f48;if(activeSequence[_0x1a1c13(0x1a4)]>0x1)await saveCompletedSequence(_0x5b426c);activeSequence=[];},SEQUENCE_TIMEOUT_MS);}async function saveCompletedSequence(_0x53642e){const _0xe9f893=a0_0x1366a7;try{const _0x2f218a=await _0x53642e[_0xe9f893(0x28b)]('LTM.trainingData.sequences');let _0x561adf=[];if(_0x2f218a&&_0x2f218a[_0xe9f893(0x236)])try{_0x561adf=JSON[_0xe9f893(0x234)](_0x2f218a[_0xe9f893(0x236)]);}catch(_0x1bf345){}const _0x2f5994=activeSequence[0x0]['ts'],_0x2149db=activeSequence['map'](_0x3254c7=>({'loc':_0x3254c7[_0xe9f893(0x1f8)],'t_delta':Math[_0xe9f893(0x293)]((_0x3254c7['ts']-_0x2f5994)/0x3e8)})),_0x43be4d={'timestamp':new Date(_0x2f5994)[_0xe9f893(0x28f)](),'steps':_0x2149db,'duration':Math[_0xe9f893(0x293)]((activeSequence[activeSequence[_0xe9f893(0x1a4)]-0x1]['ts']-_0x2f5994)/0x3e8),'daytime':new Date(_0x2f5994)[_0xe9f893(0x329)]()};_0x561adf[_0xe9f893(0x195)](_0x43be4d);if(_0x561adf[_0xe9f893(0x1a4)]>MAX_TRAINING_SET_SIZE)_0x561adf['shift']();await _0x53642e[_0xe9f893(0x2a7)](_0xe9f893(0x274),{'val':JSON[_0xe9f893(0x31d)](_0x561adf),'ack':!![]}),runSecurityCheck(_0x53642e,_0x43be4d);}catch(_0x33755b){_0x53642e[_0xe9f893(0x2e8)][_0xe9f893(0x208)](_0xe9f893(0x19a)+_0x33755b['message']);}}function runSecurityCheck(_0xe6f0a8,_0x307f1c){const _0x4726f5=a0_0x1366a7;if(!_0xe6f0a8[_0x4726f5(0x255)])return;sendToPython(_0xe6f0a8,_0x4726f5(0x210),{'sequence':_0x307f1c});}async function createDailyDigest(_0x289ae6){const _0x5a274b=a0_0x1366a7;if(!_0x289ae6[_0x5a274b(0x255)])return;await _0x289ae6['setStateAsync'](LTM_DP_STATUS,{'val':_0x5a274b(0x1fc),'ack':!![]});if(!_0x289ae6[_0x5a274b(0x25d)]||_0x289ae6[_0x5a274b(0x249)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x289ae6[_0x5a274b(0x2a7)](LTM_DP_STATUS,{'val':_0x5a274b(0x209),'ack':!![]});return;}const _0x16aa9c=JSON[_0x5a274b(0x234)](JSON[_0x5a274b(0x31d)](_0x289ae6[_0x5a274b(0x249)])),_0xebb5ed=_0x16aa9c[_0x5a274b(0x1a4)],_0x56dd4b=_0x5a274b(0x26c)+JSON[_0x5a274b(0x31d)](_0x16aa9c);try{const _0x44ffbf=await _0x289ae6[_0x5a274b(0x25d)]['generateContent'](_0x56dd4b),_0x4dfc87=JSON[_0x5a274b(0x234)](_0x44ffbf[_0x5a274b(0x1bd)][_0x5a274b(0x2e2)]()[_0x5a274b(0x328)](/```json|```/g,'')[_0x5a274b(0x190)]()),_0xe3ae87={'timestamp':new Date()[_0x5a274b(0x28f)](),'eventCount':_0xebb5ed,'summary':_0x4dfc87[_0x5a274b(0x33a)]||'Digest','activityLevel':_0x4dfc87[_0x5a274b(0x1b0)]||_0x5a274b(0x310),'systemMode':_0x289ae6[_0x5a274b(0x250)]};_0x289ae6[_0x5a274b(0x1cf)]['push'](_0xe3ae87),await saveDailyDigests(_0x289ae6),_0x289ae6[_0x5a274b(0x249)]=[],await saveRawEventLog(_0x289ae6),await _0x289ae6[_0x5a274b(0x2a7)](LTM_DP_STATUS,{'val':_0x5a274b(0x1b8),'ack':!![]});if(_0x289ae6[_0x5a274b(0x255)])sendToPython(_0x289ae6,_0x5a274b(0x230),{'digest':_0xe3ae87});}catch(_0x4d2a4d){_0x289ae6[_0x5a274b(0x2e8)][_0x5a274b(0x208)](_0x4d2a4d[_0x5a274b(0x228)]);}}async function runBaselineDriftAnalysis(_0x308cc0){const _0x399e93=a0_0x1366a7;if(!_0x308cc0[_0x399e93(0x255)]||!_0x308cc0[_0x399e93(0x25d)])return;const _0x2b1813=_0x308cc0[_0x399e93(0x1da)][_0x399e93(0x22d)]||0xe;if(_0x308cc0[_0x399e93(0x1cf)][_0x399e93(0x1a4)]<_0x2b1813+0x7){await _0x308cc0['setStateAsync'](LTM_DP_DRIFT_STATUS,{'val':_0x399e93(0x2dc),'ack':!![]});return;}const _0xf9dd63=_0x308cc0['dailyDigests'][_0x399e93(0x1fb)](-_0x2b1813),_0x53279a=_0x308cc0[_0x399e93(0x1cf)][_0x399e93(0x1fb)](0x0,_0x308cc0[_0x399e93(0x1cf)]['length']-_0x2b1813),_0x3e599f=_0x399e93(0x1b7)+JSON[_0x399e93(0x31d)](_0x53279a)+_0x399e93(0x21b)+JSON[_0x399e93(0x31d)](_0xf9dd63);try{const _0x321d38=await _0x308cc0[_0x399e93(0x25d)][_0x399e93(0x2e7)](_0x3e599f),_0x2fe8c9=JSON[_0x399e93(0x234)](_0x321d38[_0x399e93(0x1bd)][_0x399e93(0x2e2)]()[_0x399e93(0x328)](/```json|```/g,'')[_0x399e93(0x190)]());_0x2fe8c9[_0x399e93(0x2af)]&&(await _0x308cc0[_0x399e93(0x2a7)](LTM_DP_DRIFT_STATUS,{'val':_0x2fe8c9[_0x399e93(0x2af)],'ack':!![]}),await _0x308cc0[_0x399e93(0x2a7)](LTM_DP_DRIFT_DETAILS,{'val':_0x2fe8c9[_0x399e93(0x2fb)],'ack':!![]}),await _0x308cc0[_0x399e93(0x2a7)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date['now'](),'ack':!![]}));}catch(_0xb1b74a){}}async function sendMorningBriefing(_0xc48a05){const _0x162918=a0_0x1366a7;if(!_0xc48a05['geminiModel'])return;try{const _0x5763dd=_0x162918(0x28e),_0x437ae3=await _0xc48a05[_0x162918(0x25d)][_0x162918(0x2e7)](_0x5763dd),_0x461376=_0x437ae3[_0x162918(0x1bd)]['text']();sendNotification(_0xc48a05,_0x162918(0x27d)+_0x461376);}catch(_0x18766f){_0xc48a05['log'][_0x162918(0x208)](_0x162918(0x21e)+_0x18766f[_0x162918(0x228)]);}}function stopPythonService(_0x305400){const _0x4dce60=a0_0x1366a7;if(_0x305400[_0x4dce60(0x273)]){try{_0x305400[_0x4dce60(0x273)]['kill']();}catch(_0x49513c){}_0x305400[_0x4dce60(0x273)]=null;}}function sendToPython(_0x11dfa5,_0x5041ec,_0xab2b4a={}){const _0x3a00bc=a0_0x1366a7;if(!_0x11dfa5[_0x3a00bc(0x273)]||!_0x11dfa5[_0x3a00bc(0x273)][_0x3a00bc(0x2eb)][_0x3a00bc(0x1b1)])return;const _0x13bacf=JSON['stringify']({'command':_0x5041ec,..._0xab2b4a});try{_0x11dfa5[_0x3a00bc(0x273)]['stdin'][_0x3a00bc(0x1bb)](_0x13bacf+'\x0a');}catch(_0x39fb80){}}function runPythonHealthCheck(_0x56c8e7){const _0x3435c5=a0_0x1366a7;if(!_0x56c8e7['dailyDigests']||_0x56c8e7[_0x3435c5(0x1cf)][_0x3435c5(0x1a4)]<0x2)return;const _0xce11fb=_0x56c8e7[_0x3435c5(0x1cf)]['map'](_0x7171e5=>{const _0x3c56e2=_0x3435c5,_0x5efa6b=(_0x7171e5[_0x3c56e2(0x1b0)]||'')[_0x3c56e2(0x29d)]();return ACTIVITY_LEVEL_MAP[_0x5efa6b]||0x32;});sendToPython(_0x56c8e7,_0x3435c5(0x263),{'values':_0xce11fb,'tag':_0x3435c5(0x2e6)});}function handlePythonResult(_0x3ab2bc,_0x4eb691){const _0x5ae545=a0_0x1366a7;if(_0x4eb691[_0x5ae545(0x2a0)]==='PONG')_0x3ab2bc[_0x5ae545(0x2e8)][_0x5ae545(0x1e2)](_0x5ae545(0x303));else{if(_0x4eb691[_0x5ae545(0x2a0)]===_0x5ae545(0x268)){const {anomaly_score:_0x34fe1e,is_anomaly:_0x50c259,threshold:_0x396f2e,explanation:_0x1cacc5}=_0x4eb691[_0x5ae545(0x22b)];_0x3ab2bc[_0x5ae545(0x2e8)]['info'](_0x5ae545(0x31c)+_0x34fe1e[_0x5ae545(0x193)](0x5)+'\x20->\x20'+(_0x50c259?_0x5ae545(0x20e):'OK')),_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x1f9),{'val':_0x34fe1e,'ack':!![]}),_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x1d5),{'val':new Date()[_0x5ae545(0x28f)](),'ack':!![]});if(_0x396f2e)_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x2c5),{'val':_0x396f2e,'ack':!![]});if(_0x50c259){let _0x3ae40d=_0x5ae545(0x1e3)+_0x34fe1e['toFixed'](0x4)+')';if(_0x1cacc5&&_0x1cacc5!=='Unknown')_0x3ae40d+=_0x5ae545(0x1c1)+_0x1cacc5;_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x1b6),{'val':!![],'ack':!![]}),_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x266),{'val':_0x3ae40d,'ack':!![]}),sendNotification(_0x3ab2bc,_0x5ae545(0x1c8)+_0x3ae40d,![],!![]);}}else{if(_0x4eb691[_0x5ae545(0x2a0)]==='TRAINING_COMPLETE'){const _0x2e2ba9=_0x4eb691['payload'][_0x5ae545(0x334)]||'',_0x4d974f=_0x4eb691[_0x5ae545(0x22b)][_0x5ae545(0x292)],_0x555815=_0x4eb691[_0x5ae545(0x22b)]['success']?_0x5ae545(0x248)+new Date()[_0x5ae545(0x2ff)]()+'\x20('+_0x2e2ba9+')':_0x5ae545(0x276)+_0x4eb691['payload'][_0x5ae545(0x199)];_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x23e),{'val':_0x555815,'ack':!![]});if(_0x4eb691['payload'][_0x5ae545(0x271)]&&_0x4d974f)_0x3ab2bc[_0x5ae545(0x2a7)]('analysis.security.currentThreshold',{'val':_0x4d974f,'ack':!![]});}else{if(_0x4eb691[_0x5ae545(0x2a0)]===_0x5ae545(0x29b)){const {patterns:_0x16c4e1}=_0x4eb691[_0x5ae545(0x22b)];if(_0x16c4e1&&_0x16c4e1[_0x5ae545(0x1a4)]>0x0){_0x3ab2bc[_0x5ae545(0x2e8)][_0x5ae545(0x1ac)]('ðŸ›‹ï¸\x20BUTLER:\x20Found\x20'+_0x16c4e1[_0x5ae545(0x1a4)]+_0x5ae545(0x1f1)),_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x327),{'val':JSON[_0x5ae545(0x31d)](_0x16c4e1),'ack':!![]});const _0x2fcf4c=_0x16c4e1[0x0],_0x5d3121=_0x5ae545(0x2ae)+_0x2fcf4c['rule']+'\x20('+(_0x2fcf4c[_0x5ae545(0x2e9)]*0x64)[_0x5ae545(0x193)](0x0)+'%)';_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x226),{'val':!![],'ack':!![]}),_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x32e),{'val':_0x5d3121,'ack':!![]});}else _0x3ab2bc[_0x5ae545(0x2e8)][_0x5ae545(0x1ac)](_0x5ae545(0x1ce)),_0x3ab2bc['setStateAsync']('analysis.automation.patternDetected',{'val':![],'ack':!![]}),_0x3ab2bc['setStateAsync'](_0x5ae545(0x327),{'val':'[]','ack':!![]});}else{if(_0x4eb691[_0x5ae545(0x2a0)]===_0x5ae545(0x20f)){if(_0x4eb691[_0x5ae545(0x22b)]['success'])try{const _0x44b8ed=JSON[_0x5ae545(0x234)](_0x4eb691[_0x5ae545(0x22b)][_0x5ae545(0x334)]);if(_0x44b8ed[_0x5ae545(0x2bb)])_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x224),{'val':JSON[_0x5ae545(0x31d)](_0x44b8ed[_0x5ae545(0x2bb)]),'ack':!![]});if(_0x44b8ed['heating'])_0x3ab2bc['setStateAsync'](_0x5ae545(0x320),{'val':JSON[_0x5ae545(0x31d)](_0x44b8ed[_0x5ae545(0x2c6)]),'ack':!![]});}catch(_0x24ba07){}}else{if(_0x4eb691[_0x5ae545(0x2a0)]===_0x5ae545(0x2b0)){if(_0x4eb691[_0x5ae545(0x22b)][_0x5ae545(0x271)])_0x3ab2bc[_0x5ae545(0x2e8)][_0x5ae545(0x1ac)](_0x5ae545(0x202));}else{if(_0x4eb691[_0x5ae545(0x2a0)]==='HEALTH_RESULT')_0x3ab2bc['setStateAsync']('analysis.health.lastCheck',{'val':new Date()[_0x5ae545(0x28f)](),'ack':!![]}),_0x3ab2bc['setStateAsync']('analysis.health.isAnomaly',{'val':_0x4eb691[_0x5ae545(0x22b)]['is_anomaly'],'ack':!![]});else{if(_0x4eb691['type']===_0x5ae545(0x322))_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x243),{'val':_0x4eb691['payload'][_0x5ae545(0x1f4)],'ack':!![]}),_0x3ab2bc['setStateAsync'](_0x5ae545(0x1f6),{'val':_0x4eb691[_0x5ae545(0x22b)][_0x5ae545(0x30f)],'ack':!![]});else{if(_0x4eb691[_0x5ae545(0x2a0)]===_0x5ae545(0x301)){const {speed_trend:_0x52f957}=_0x4eb691['payload'];if(_0x52f957!==undefined)_0x3ab2bc[_0x5ae545(0x2a7)]('analysis.health.gaitSpeed',{'val':_0x52f957,'ack':!![]});}else{if(_0x4eb691[_0x5ae545(0x2a0)]===_0x5ae545(0x2f7)){const {forecast:_0x3bd8bd}=_0x4eb691[_0x5ae545(0x22b)];if(_0x3bd8bd)_0x3ab2bc[_0x5ae545(0x2a7)]('analysis.energy.forecast',{'val':JSON['stringify'](_0x3bd8bd),'ack':!![]});}else{if(_0x4eb691[_0x5ae545(0x2a0)]===_0x5ae545(0x201)){const {data:_0x305025}=_0x4eb691[_0x5ae545(0x22b)];_0x305025&&(_0x3ab2bc[_0x5ae545(0x2e8)][_0x5ae545(0x1ac)](_0x5ae545(0x304)),_0x3ab2bc[_0x5ae545(0x2a7)](_0x5ae545(0x2c9),{'val':JSON[_0x5ae545(0x31d)](_0x305025),'ack':!![]}));}}}}}}}}}}}}function startPythonService(_0x4edeaf){const _0x1351e4=a0_0x1366a7;let _0x498886=_0x1351e4(0x1c0);if(fs['existsSync'](installer['PYTHON_EXE']))_0x498886=installer[_0x1351e4(0x270)];try{const _0x4ce663=path['join'](__dirname,_0x1351e4(0x1fd),'service.py');_0x4edeaf[_0x1351e4(0x273)]=spawn(_0x498886,[_0x4ce663]),_0x4edeaf[_0x1351e4(0x273)][_0x1351e4(0x2b7)]['on'](_0x1351e4(0x233),_0x254960=>{const _0x21de39=_0x1351e4,_0x150795=_0x254960['toString']()[_0x21de39(0x31b)]('\x0a');_0x150795['forEach'](_0x38975d=>{const _0x40fdd7=_0x21de39,_0x14a427=_0x38975d[_0x40fdd7(0x190)]();if(!_0x14a427)return;if(_0x14a427[_0x40fdd7(0x285)](_0x40fdd7(0x229)))_0x4edeaf[_0x40fdd7(0x2e8)][_0x40fdd7(0x1e2)]('[PYTHON]\x20'+_0x14a427[_0x40fdd7(0x265)](0x5)['trim']());else{if(_0x14a427['startsWith'](_0x40fdd7(0x23a)))try{const _0x828487=JSON[_0x40fdd7(0x234)](_0x14a427['substring'](0x8)['trim']());handlePythonResult(_0x4edeaf,_0x828487);}catch(_0x18d078){}}});}),_0x4edeaf[_0x1351e4(0x273)]['on'](_0x1351e4(0x2c0),_0x279271=>{_0x4edeaf['pythonProcess']=null;});}catch(_0x503515){_0x4edeaf[_0x1351e4(0x2e8)][_0x1351e4(0x208)](_0x1351e4(0x1de)+_0x503515[_0x1351e4(0x228)]);}}async function runAutopilot(_0x2f32d9){const _0x1f4cd8=a0_0x1366a7;_0x2f32d9[_0x1f4cd8(0x2e8)]['debug'](_0x1f4cd8(0x2d6)),await runGeminiAnalysis(_0x2f32d9),updateHealthVector(_0x2f32d9),triggerGaitAnalysis(_0x2f32d9),triggerEnergyPrediction(_0x2f32d9);}async function triggerGaitAnalysis(_0x23acbb){const _0x541f9d=a0_0x1366a7;if(!_0x23acbb[_0x541f9d(0x255)])return;try{const _0x110fd3=await _0x23acbb[_0x541f9d(0x28b)](_0x541f9d(0x274));_0x110fd3&&_0x110fd3[_0x541f9d(0x236)]&&sendToPython(_0x23acbb,_0x541f9d(0x27e),{'sequences':JSON[_0x541f9d(0x234)](_0x110fd3[_0x541f9d(0x236)])});}catch(_0x1333e0){}}async function triggerEnergyPrediction(_0x23d29d){const _0x1d7071=a0_0x1366a7;if(!_0x23d29d[_0x1d7071(0x255)])return;try{const _0x2b62ce=await getOutsideTemperatureNumeric(_0x23d29d);if(_0x2b62ce===null)return;const _0x1d1e4a={},_0x3fb0db=_0x23d29d['config']['devices']||[];for(const _0xc0a527 of _0x3fb0db){if(_0xc0a527['type']===_0x1d7071(0x2d3)&&_0xc0a527[_0x1d7071(0x2f5)]){const _0x25766a=_0x23d29d[_0x1d7071(0x21d)][_0xc0a527['id']];if(_0x25766a!==undefined)_0x1d1e4a[_0xc0a527[_0x1d7071(0x2f5)]]=_0x25766a;}}Object[_0x1d7071(0x29f)](_0x1d1e4a)[_0x1d7071(0x1a4)]>0x0&&sendToPython(_0x23d29d,'PREDICT_ENERGY',{'current_temps':_0x1d1e4a,'t_out':_0x2b62ce});}catch(_0x17a557){}}function updateHealthVector(_0x1da782){const _0x284aa7=a0_0x1366a7;if(!_0x1da782[_0x284aa7(0x249)]||_0x1da782[_0x284aa7(0x249)]['length']===0x0)return;const _0x2b5554=new Array(0x60)[_0x284aa7(0x2bc)](0x0),_0x5ef676=new Date()[_0x284aa7(0x1ae)](0x0,0x0,0x0,0x0);_0x1da782['rawEventLog'][_0x284aa7(0x238)](_0x4050a5=>{const _0x11f5b0=_0x284aa7,_0x3c14c4=new Date(_0x4050a5[_0x11f5b0(0x2f6)]);if(_0x3c14c4[_0x11f5b0(0x2da)]()>=_0x5ef676){const _0x162dda=_0x3c14c4[_0x11f5b0(0x329)](),_0x20831f=_0x3c14c4['getMinutes'](),_0x591596=_0x162dda*0x4+Math[_0x11f5b0(0x2ea)](_0x20831f/0xf);if(_0x591596>=0x0&&_0x591596<0x60)_0x2b5554[_0x591596]++;}}),_0x1da782[_0x284aa7(0x2a7)](_0x284aa7(0x24e),{'val':JSON['stringify'](_0x2b5554),'ack':!![]});}async function getWeatherContext(_0x463f17){const _0xfb047d=a0_0x1366a7;if(!_0x463f17[_0xfb047d(0x1da)]['useWeather']||!_0x463f17[_0xfb047d(0x1da)][_0xfb047d(0x2c3)])return _0xfb047d(0x316);try{const _0xfc96ae=_0x463f17['config']['weatherInstance'];let _0x29011a=await _0x463f17[_0xfb047d(0x22e)](_0xfc96ae+_0xfb047d(0x26e));if(!_0x29011a)_0x29011a=await _0x463f17['getForeignStateAsync'](_0xfc96ae+_0xfb047d(0x1ca));let _0x3e40fb=await _0x463f17['getForeignStateAsync'](_0xfc96ae+_0xfb047d(0x21c));if(!_0x3e40fb)_0x3e40fb=await _0x463f17[_0xfb047d(0x22e)](_0xfc96ae+_0xfb047d(0x1dd));if(_0x29011a&&_0x3e40fb)return _0x29011a[_0xfb047d(0x236)]+_0xfb047d(0x2b8)+_0x3e40fb[_0xfb047d(0x236)];}catch(_0x81192d){}return _0xfb047d(0x32b);}async function getCalendarContext(_0x318ee6){const _0x21f74f=a0_0x1366a7;if(!_0x318ee6[_0x21f74f(0x1da)][_0x21f74f(0x1cb)]||!_0x318ee6[_0x21f74f(0x1da)][_0x21f74f(0x1ee)])return _0x21f74f(0x2bd);return _0x21f74f(0x323);}async function getCalendarNames(_0x4c2604,_0x4df306){return[];}async function saveFeedback(_0x45d1df,_0x522d3e){const _0xb25fcf=a0_0x1366a7;_0x45d1df['log']['info'](_0xb25fcf(0x1b4)+_0x522d3e[_0xb25fcf(0x1ef)]);}async function runGeminiAnalysis(_0x5cc77b,_0x82a138=''){const _0x2e4966=a0_0x1366a7;if(!_0x5cc77b[_0x2e4966(0x25d)])return;if(_0x5cc77b['eventHistory']['length']===0x0)return;const _0x2c6bed=_0x5cc77b['eventHistory'][_0x2e4966(0x1fb)](0x0,0xf),_0x567def=await getWeatherContext(_0x5cc77b),_0x165d85=_0x5cc77b['currentSystemMode'],_0x7791fb=PERSONA_MAPPING[_0x5cc77b[_0x2e4966(0x1da)][_0x2e4966(0x26a)]||'generic'],_0x51c6ef=_0x5cc77b[_0x2e4966(0x1da)][_0x2e4966(0x2d9)]||_0x2e4966(0x1cd);let _0x41f046=_0x2e4966(0x27a);try{const _0x25ac96=await _0x5cc77b['getStateAsync'](_0x2e4966(0x1d1));if(_0x25ac96&&_0x25ac96[_0x2e4966(0x236)])_0x41f046=_0x25ac96[_0x2e4966(0x236)];}catch(_0x3e26a6){}let _0x1a09c8=![];try{const _0x3708ce=await _0x5cc77b[_0x2e4966(0x28b)](_0x2e4966(0x32a));if(_0x3708ce&&_0x3708ce[_0x2e4966(0x236)])_0x1a09c8=!![];}catch(_0x5544c2){}const _0x3604ac=_0x2e4966(0x1d4)+_0x7791fb+_0x2e4966(0x32f)+_0x51c6ef+_0x2e4966(0x29a)+_0x165d85+_0x2e4966(0x25f)+_0x567def+_0x2e4966(0x251)+_0x41f046+'.\x20EVENTS:\x20'+JSON[_0x2e4966(0x31d)](_0x2c6bed)+_0x2e4966(0x1a6)+_0x82a138+_0x2e4966(0x2e4);try{const _0x114dcc=await _0x5cc77b[_0x2e4966(0x25d)][_0x2e4966(0x2e7)](_0x3604ac),_0x37cf23=JSON['parse'](_0x114dcc['response'][_0x2e4966(0x2e2)]()[_0x2e4966(0x328)](/```json|```/g,'')[_0x2e4966(0x190)]());await _0x5cc77b[_0x2e4966(0x2a7)](_0x2e4966(0x241),{'val':JSON['stringify'](_0x37cf23),'ack':!![]});if(_0x37cf23[_0x2e4966(0x33a)])await _0x5cc77b[_0x2e4966(0x2a7)](_0x2e4966(0x1ba),{'val':_0x37cf23[_0x2e4966(0x33a)],'ack':!![]});const _0x29b401={'timestamp':Date[_0x2e4966(0x324)](),'id':Date[_0x2e4966(0x324)]()[_0x2e4966(0x2fa)](),'analysis':{'activity':{'summary':_0x37cf23['summary'],'isAlert':_0x37cf23[_0x2e4966(0x1ed)],'alertReason':_0x37cf23['alertReason']},'comfort':{'automationProposal':_0x37cf23[_0x2e4966(0x27b)]}}};await updateAnalysisHistory(_0x5cc77b,_0x29b401);const _0x56f114=_0x37cf23['isAlert']||![];_0x56f114!==_0x5cc77b[_0x2e4966(0x25b)]&&(await _0x5cc77b['setStateAsync'](_0x2e4966(0x1b6),{'val':_0x56f114,'ack':!![]}),_0x5cc77b[_0x2e4966(0x25b)]=_0x56f114,_0x56f114&&(await _0x5cc77b[_0x2e4966(0x2a7)]('analysis.alertReason',{'val':_0x37cf23[_0x2e4966(0x307)],'ack':!![]}),sendNotification(_0x5cc77b,_0x2e4966(0x215)+_0x37cf23[_0x2e4966(0x307)],![],_0x37cf23['isEmergency'])));if(_0x37cf23[_0x2e4966(0x27b)]&&_0x37cf23['automationProposal']['detected']){await _0x5cc77b[_0x2e4966(0x2a7)](_0x2e4966(0x226),{'val':!![],'ack':!![]}),await _0x5cc77b[_0x2e4966(0x2a7)](_0x2e4966(0x32e),{'val':_0x37cf23[_0x2e4966(0x27b)][_0x2e4966(0x2ad)],'ack':!![]}),await _0x5cc77b[_0x2e4966(0x2a7)](_0x2e4966(0x1d3),{'val':_0x37cf23[_0x2e4966(0x27b)]['targetId'],'ack':!![]}),await _0x5cc77b[_0x2e4966(0x2a7)]('analysis.automation.targetValue',{'val':JSON['stringify'](_0x37cf23['automationProposal'][_0x2e4966(0x287)]),'ack':!![]});if(_0x1a09c8)executeAutomationAction(_0x5cc77b);}}catch(_0x3ab134){_0x5cc77b[_0x2e4966(0x2e8)]['error'](_0x2e4966(0x2b2)+_0x3ab134[_0x2e4966(0x228)]);}}async function startSystem(_0x1b2da8){const _0x42a636=a0_0x1366a7;_0x1b2da8[_0x42a636(0x2e8)][_0x42a636(0x1ac)](_0x42a636(0x269)),await initZombies(_0x1b2da8);try{_0x1b2da8['isProVersion']=await checkLicense(_0x1b2da8['config'][_0x42a636(0x2a3)]);}catch(_0x4f8bec){}if(!_0x1b2da8[_0x42a636(0x1da)][_0x42a636(0x2aa)]||_0x1b2da8[_0x42a636(0x1da)]['inactivityThresholdHours']<0.1)_0x1b2da8['config'][_0x42a636(0x2aa)]=0xc;await initHistory(_0x1b2da8),await initSystemConfig(_0x1b2da8);if(_0x1b2da8[_0x42a636(0x1da)][_0x42a636(0x2ec)])try{_0x1b2da8[_0x42a636(0x309)]=new GoogleGenerativeAI(_0x1b2da8[_0x42a636(0x1da)][_0x42a636(0x2ec)]),_0x1b2da8[_0x42a636(0x25d)]=_0x1b2da8['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x42a636(0x2b6)}}),_0x1b2da8['log'][_0x42a636(0x1ac)]('Gemini\x20AI\x20initialized.');}catch(_0x592c6b){_0x1b2da8['log'][_0x42a636(0x208)](_0x42a636(0x20d)+_0x592c6b[_0x42a636(0x228)]);}await createAllObjects(_0x1b2da8),await loadSystemMode(_0x1b2da8),await loadRawEventLog(_0x1b2da8),await loadDailyDigests(_0x1b2da8),_0x1b2da8[_0x42a636(0x19b)](_0x42a636(0x19e)),_0x1b2da8['subscribeStates'](LTM_DP_TRIGGER_DIGEST),_0x1b2da8[_0x42a636(0x19b)](_0x42a636(0x2cf)),_0x1b2da8[_0x42a636(0x19b)](_0x42a636(0x1d6)),_0x1b2da8[_0x42a636(0x19b)](_0x42a636(0x319)),_0x1b2da8['subscribeStates'](_0x42a636(0x32a)),_0x1b2da8['subscribeStates']('analysis.training.triggerSecurity'),_0x1b2da8['subscribeStates']('analysis.training.triggerHealth'),_0x1b2da8['subscribeStates'](_0x42a636(0x1e0)),_0x1b2da8['subscribeStates'](_0x42a636(0x205)),_0x1b2da8['subscribeStates'](_0x42a636(0x2f9)),await initSensorSubscriptions(_0x1b2da8),await initPresenceSubscriptions(_0x1b2da8),await setupTelegramListener(_0x1b2da8),setTimeout(()=>checkWifiPresence(_0x1b2da8),0x1388);if(_0x1b2da8[_0x42a636(0x19f)])clearInterval(_0x1b2da8['analysisTimer']);const _0x359ed2=_0x1b2da8[_0x42a636(0x1da)][_0x42a636(0x1cc)]||0xf;_0x359ed2>0x0&&(_0x1b2da8[_0x42a636(0x19f)]=setInterval(()=>{runAutopilot(_0x1b2da8);},_0x359ed2*0x3c*0x3e8)),schedulers['setupLtmScheduler'](_0x1b2da8,()=>createDailyDigest(_0x1b2da8)),schedulers[_0x42a636(0x20a)](_0x1b2da8),schedulers[_0x42a636(0x23c)](_0x1b2da8,()=>runBaselineDriftAnalysis(_0x1b2da8)),schedulers[_0x42a636(0x26f)](_0x1b2da8,()=>sendMorningBriefing(_0x1b2da8)),startPythonService(_0x1b2da8),setTimeout(()=>{const _0x25beeb=_0x42a636;_0x1b2da8[_0x25beeb(0x273)]&&(runPythonHealthCheck(_0x1b2da8),triggerGaitAnalysis(_0x1b2da8),triggerEnergyPrediction(_0x1b2da8)),updateHealthVector(_0x1b2da8);},0x1388);}class CogniLiving extends utils[a0_0x1366a7(0x1d8)]{constructor(_0x2a2cff){const _0x31fd84=a0_0x1366a7;super({..._0x2a2cff,'name':_0x31fd84(0x33e)}),this[_0x31fd84(0x314)]=[],this[_0x31fd84(0x2c1)]=[],this[_0x31fd84(0x249)]=[],this[_0x31fd84(0x1cf)]=[],this[_0x31fd84(0x21d)]={},this[_0x31fd84(0x333)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x31fd84(0x2c4)]=null,this[_0x31fd84(0x1e4)]=null,this[_0x31fd84(0x1b9)]=![],this['genAI']=null,this[_0x31fd84(0x25d)]=null,this[_0x31fd84(0x250)]=SYSTEM_MODES[_0x31fd84(0x277)],this[_0x31fd84(0x255)]=![],this[_0x31fd84(0x25b)]=![],this[_0x31fd84(0x1a1)]='unknown',this[_0x31fd84(0x19f)]=null,this['ltmJob']=null,this[_0x31fd84(0x21f)]=null,this[_0x31fd84(0x2b4)]=null,this[_0x31fd84(0x235)]=null,this['pythonProcess']=null,this['dependencyInstallInProgress']=![],this['on'](_0x31fd84(0x313),this[_0x31fd84(0x204)][_0x31fd84(0x283)](this)),this['on'](_0x31fd84(0x200),this[_0x31fd84(0x242)][_0x31fd84(0x283)](this)),this['on']('unload',this[_0x31fd84(0x2cd)][_0x31fd84(0x283)](this)),this['on'](_0x31fd84(0x228),this[_0x31fd84(0x213)][_0x31fd84(0x283)](this));}async[a0_0x1366a7(0x204)](){const _0x2d3fde=a0_0x1366a7;this[_0x2d3fde(0x2e8)][_0x2d3fde(0x1ac)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x2d3fde(0x1df)]+_0x2d3fde(0x31f));if(!installer[_0x2d3fde(0x203)](this,()=>startSystem(this)))return;}[a0_0x1366a7(0x2cd)](_0x2f16ec){const _0x35f863=a0_0x1366a7;if(this[_0x35f863(0x19f)])clearInterval(this[_0x35f863(0x19f)]);if(this[_0x35f863(0x2b4)])clearInterval(this[_0x35f863(0x2b4)]);if(this[_0x35f863(0x211)])this['ltmJob'][_0x35f863(0x26b)]();if(this[_0x35f863(0x21f)])this['modeResetJob'][_0x35f863(0x26b)]();if(this['briefingJob'])this['briefingJob']['cancel']();if(this[_0x35f863(0x2c4)])clearTimeout(this[_0x35f863(0x2c4)]);if(this[_0x35f863(0x1e4)])clearTimeout(this[_0x35f863(0x1e4)]);stopPythonService(this),_0x2f16ec();}async[a0_0x1366a7(0x242)](_0x2651e0,_0x3d0fb4){const _0x33ff50=a0_0x1366a7;if(!_0x3d0fb4||this['dependencyInstallInProgress'])return;if(_0x2651e0['includes'](_0x33ff50(0x1fe))&&_0x2651e0[_0x33ff50(0x317)](_0x33ff50(0x2a5))&&_0x3d0fb4[_0x33ff50(0x236)]){await handleTelegramResponse(this,_0x3d0fb4['val']);return;}if(_0x2651e0===this[_0x33ff50(0x2d2)]+'.'+SYSTEM_DP_MODE){if(_0x3d0fb4[_0x33ff50(0x236)]&&Object[_0x33ff50(0x256)](SYSTEM_MODES)[_0x33ff50(0x2dd)](_0x3d0fb4['val'])){this[_0x33ff50(0x250)]=_0x3d0fb4[_0x33ff50(0x236)];if(_0x3d0fb4['val']===SYSTEM_MODES[_0x33ff50(0x29e)])await setPresence(this,![]);else await setPresence(this,!![]);}if(!_0x3d0fb4['ack'])this[_0x33ff50(0x2fe)](_0x2651e0,{'val':this[_0x33ff50(0x250)],'ack':!![]});return;}if(!_0x3d0fb4[_0x33ff50(0x298)]){_0x2651e0[_0x33ff50(0x2dd)](_0x33ff50(0x19e))&&_0x3d0fb4[_0x33ff50(0x236)]&&(this['setState'](_0x2651e0,{'val':![],'ack':!![]}),runGeminiAnalysis(this));if(_0x2651e0['includes'](_0x33ff50(0x245))&&_0x3d0fb4[_0x33ff50(0x236)]){this[_0x33ff50(0x2fe)](_0x2651e0,{'val':![],'ack':!![]});if(this[_0x33ff50(0x255)])createDailyDigest(this);}_0x2651e0[_0x33ff50(0x2dd)](_0x33ff50(0x282))&&_0x3d0fb4[_0x33ff50(0x236)]&&(this[_0x33ff50(0x2fe)](_0x2651e0,{'val':![],'ack':!![]}),sendMorningBriefing(this));_0x2651e0['includes'](_0x33ff50(0x2e5))&&_0x3d0fb4[_0x33ff50(0x236)]&&(this[_0x33ff50(0x2fe)](_0x2651e0,{'val':![],'ack':!![]}),executeAutomationAction(this));if(_0x2651e0[_0x33ff50(0x2dd)]('analysis.training.triggerSecurity')&&_0x3d0fb4[_0x33ff50(0x236)]){this[_0x33ff50(0x2fe)](_0x2651e0,{'val':![],'ack':!![]});if(this[_0x33ff50(0x255)])try{const _0x5b4d94=await this[_0x33ff50(0x28b)](_0x33ff50(0x274));if(_0x5b4d94&&_0x5b4d94['val']){const _0x5a5658=JSON['parse'](_0x5b4d94['val']);this[_0x33ff50(0x2e8)][_0x33ff50(0x1ac)](_0x33ff50(0x272)),this[_0x33ff50(0x2a7)](_0x33ff50(0x23e),{'val':_0x33ff50(0x1c3),'ack':!![]}),sendToPython(this,_0x33ff50(0x31a),{'sequences':_0x5a5658});}}catch(_0x27edd5){this[_0x33ff50(0x2e8)][_0x33ff50(0x208)](_0x33ff50(0x338)+_0x27edd5['message']);}}if(_0x2651e0['includes'](_0x33ff50(0x1ea))&&_0x3d0fb4['val']){this[_0x33ff50(0x2fe)](_0x2651e0,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x2104c4=await this['getStateAsync'](LTM_DP_DAILY_DIGESTS);if(_0x2104c4&&_0x2104c4['val'])sendToPython(this,_0x33ff50(0x2e3),{'digests':JSON[_0x33ff50(0x234)](_0x2104c4[_0x33ff50(0x236)])});}catch(_0x5d20d7){}}if(_0x2651e0[_0x33ff50(0x2dd)]('analysis.training.triggerEnergy')&&_0x3d0fb4[_0x33ff50(0x236)]){this[_0x33ff50(0x2fe)](_0x2651e0,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x3a8dfd=await this[_0x33ff50(0x28b)]('LTM.trainingData.thermodynamics');if(_0x3a8dfd&&_0x3a8dfd['val'])sendToPython(this,_0x33ff50(0x30d),{'points':JSON['parse'](_0x3a8dfd[_0x33ff50(0x236)])});}catch(_0x3bf188){}}if(_0x2651e0['includes'](_0x33ff50(0x205))&&_0x3d0fb4[_0x33ff50(0x236)]){this[_0x33ff50(0x2fe)](_0x2651e0,{'val':![],'ack':!![]});if(this[_0x33ff50(0x255)])try{const _0x28f4d8=await this[_0x33ff50(0x28b)](LTM_DP_RAW_LOG);_0x28f4d8&&_0x28f4d8[_0x33ff50(0x236)]&&(this['log'][_0x33ff50(0x1ac)](_0x33ff50(0x206)),sendToPython(this,'TRAIN_COMFORT',{'events':JSON[_0x33ff50(0x234)](_0x28f4d8[_0x33ff50(0x236)])}));}catch(_0x5de92e){}}if(_0x2651e0[_0x33ff50(0x2dd)](_0x33ff50(0x2f9))&&_0x3d0fb4[_0x33ff50(0x236)]){this[_0x33ff50(0x2fe)](_0x2651e0,{'val':![],'ack':!![]});if(this[_0x33ff50(0x255)])try{const _0x411994=await this[_0x33ff50(0x28b)](_0x33ff50(0x274));if(_0x411994&&_0x411994['val']){const _0x5d56da=JSON[_0x33ff50(0x234)](_0x411994[_0x33ff50(0x236)]);this['log'][_0x33ff50(0x1ac)](_0x33ff50(0x214)),sendToPython(this,_0x33ff50(0x1c6),{'sequences':_0x5d56da});}}catch(_0x3ff839){this[_0x33ff50(0x2e8)][_0x33ff50(0x208)](_0x33ff50(0x335)+_0x3ff839[_0x33ff50(0x228)]);}}return;}if(this[_0x33ff50(0x1da)][_0x33ff50(0x1e6)]&&this['config'][_0x33ff50(0x1e6)][_0x33ff50(0x2dd)](_0x2651e0)){await checkWifiPresence(this);return;}const _0x22e632=(this[_0x33ff50(0x1da)][_0x33ff50(0x222)]||[])[_0x33ff50(0x2d0)](_0x3918d3=>_0x3918d3['id']===_0x2651e0);if(_0x22e632)processSensorEvent(this,_0x2651e0,_0x3d0fb4,_0x22e632);}async[a0_0x1366a7(0x213)](_0xfd143d){const _0xc97fd4=a0_0x1366a7;if(typeof _0xfd143d===_0xc97fd4(0x286)&&_0xfd143d['message']){if(_0xfd143d['command']==='testApiKey'){const _0x14acf2=_0xfd143d['message'][_0xc97fd4(0x225)]||this[_0xc97fd4(0x1da)][_0xc97fd4(0x2ec)];if(!_0x14acf2)return this[_0xc97fd4(0x22c)](_0xfd143d[_0xc97fd4(0x1ff)],_0xfd143d[_0xc97fd4(0x2f4)],{'success':![],'message':_0xc97fd4(0x30b)},_0xfd143d[_0xc97fd4(0x2ba)]);try{const _0xd14d42=new GoogleGenerativeAI(_0x14acf2),_0x40c93a=_0xd14d42[_0xc97fd4(0x2f3)]({'model':GEMINI_MODEL}),_0x13066c=await _0x40c93a[_0xc97fd4(0x2e7)]('Hi');this['sendTo'](_0xfd143d[_0xc97fd4(0x1ff)],_0xfd143d[_0xc97fd4(0x2f4)],{'success':!![],'message':_0xc97fd4(0x1e5)},_0xfd143d[_0xc97fd4(0x2ba)]);}catch(_0x30fba0){this[_0xc97fd4(0x22c)](_0xfd143d[_0xc97fd4(0x1ff)],_0xfd143d[_0xc97fd4(0x2f4)],{'success':![],'message':_0x30fba0[_0xc97fd4(0x228)]},_0xfd143d['callback']);}}else{if(_0xfd143d[_0xc97fd4(0x2f4)]==='testNotification')sendNotification(this,_0xc97fd4(0x194),![],!![]),this[_0xc97fd4(0x22c)](_0xfd143d[_0xc97fd4(0x1ff)],_0xfd143d[_0xc97fd4(0x2f4)],{'success':!![],'message':_0xc97fd4(0x2a6)},_0xfd143d['callback']);else{if(_0xfd143d[_0xc97fd4(0x2f4)]===_0xc97fd4(0x318)){const _0x4c3c9f=await getWeatherContext(this),_0x5ba150=await getCalendarContext(this);this['sendTo'](_0xfd143d['from'],_0xfd143d[_0xc97fd4(0x2f4)],{'success':!![],'weather':_0x4c3c9f,'calendar':_0x5ba150},_0xfd143d[_0xc97fd4(0x2ba)]);}else{if(_0xfd143d[_0xc97fd4(0x2f4)]===_0xc97fd4(0x217)){const _0x53d12a=_0xfd143d[_0xc97fd4(0x228)][_0xc97fd4(0x1e8)],_0x129e9c=await getCalendarNames(this,_0x53d12a);this['sendTo'](_0xfd143d['from'],_0xfd143d[_0xc97fd4(0x2f4)],{'success':!![],'names':_0x129e9c},_0xfd143d[_0xc97fd4(0x2ba)]);}else{if(_0xfd143d[_0xc97fd4(0x2f4)]===_0xc97fd4(0x227)){const {targetId:_0x209e54,targetValue:_0x3faa92}=_0xfd143d[_0xc97fd4(0x228)];this[_0xc97fd4(0x2fe)]('analysis.automation.targetId',{'val':_0x209e54,'ack':!![]}),this[_0xc97fd4(0x2fe)](_0xc97fd4(0x2ca),{'val':_0x3faa92,'ack':!![]}),this[_0xc97fd4(0x2fe)](_0xc97fd4(0x32e),{'val':'Manuelle\x20Simulation\x20(Test)','ack':!![]}),this['setState']('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),this[_0xc97fd4(0x22c)](_0xfd143d['from'],_0xfd143d[_0xc97fd4(0x2f4)],{'success':!![]},_0xfd143d[_0xc97fd4(0x2ba)]);}else{if(_0xfd143d[_0xc97fd4(0x2f4)]===_0xc97fd4(0x337)){const _0x37f2e3=_0xfd143d[_0xc97fd4(0x228)],_0x56b31e=await scanner[_0xc97fd4(0x212)](this,_0x37f2e3);this['sendTo'](_0xfd143d['from'],_0xfd143d[_0xc97fd4(0x2f4)],_0x56b31e,_0xfd143d['callback']);}else{if(_0xfd143d[_0xc97fd4(0x2f4)]===_0xc97fd4(0x2cc)){const _0x2c210e=[],_0x219c6c=[];try{const _0x2a9748=await this[_0xc97fd4(0x2f0)](_0xc97fd4(0x260),'enum');for(const _0x350abd in _0x2a9748){_0x2c210e[_0xc97fd4(0x195)]({'id':_0x350abd,'name':(_0x2a9748[_0x350abd][_0xc97fd4(0x290)]&&_0x2a9748[_0x350abd]['common']['name']&&typeof _0x2a9748[_0x350abd][_0xc97fd4(0x290)]['name']==='object'?_0x2a9748[_0x350abd][_0xc97fd4(0x290)][_0xc97fd4(0x2c2)]['de']:_0x2a9748[_0x350abd][_0xc97fd4(0x290)][_0xc97fd4(0x2c2)])||_0x350abd});}const _0x4ef736=await this['getForeignObjectsAsync'](_0xc97fd4(0x308),_0xc97fd4(0x196));for(const _0x3711db in _0x4ef736){_0x219c6c[_0xc97fd4(0x195)]((_0x4ef736[_0x3711db]['common']&&_0x4ef736[_0x3711db][_0xc97fd4(0x290)][_0xc97fd4(0x2c2)]&&typeof _0x4ef736[_0x3711db]['common']['name']==='object'?_0x4ef736[_0x3711db][_0xc97fd4(0x290)][_0xc97fd4(0x2c2)]['de']:_0x4ef736[_0x3711db][_0xc97fd4(0x290)][_0xc97fd4(0x2c2)])||_0x3711db);}}catch(_0x2015f2){}this['sendTo'](_0xfd143d['from'],_0xfd143d[_0xc97fd4(0x2f4)],{'success':!![],'enums':_0x2c210e,'rooms':_0x219c6c},_0xfd143d[_0xc97fd4(0x2ba)]);}}}}}}}}}}if(require[a0_0x1366a7(0x297)]!==module)module[a0_0x1366a7(0x2b1)]=CogniLiving;else new CogniLiving();async function handleTelegramResponse(_0x885059,_0x34b9fe){const _0x1d8a71=a0_0x1366a7;if(!_0x34b9fe)return;try{const _0xf470c6=_0x34b9fe[_0x1d8a71(0x29d)]()['trim']();if(_0xf470c6[_0x1d8a71(0x2dd)](_0x1d8a71(0x33d))){const _0xae66a1=await getWeatherContext(_0x885059);sendNotification(_0x885059,_0x1d8a71(0x223)+_0x885059[_0x1d8a71(0x250)]+_0x1d8a71(0x289)+_0xae66a1);}}catch(_0x9fdd1f){_0x885059['log'][_0x1d8a71(0x208)](_0x1d8a71(0x2e0)+_0x9fdd1f['message']);}}function a0_0x20ad(_0x3ef2dd,_0x3d5ec6){const _0x176425=a0_0x3a98();return a0_0x20ad=function(_0x26eee5,_0x8d821f){_0x26eee5=_0x26eee5-0x18d;let _0x3a989d=_0x176425[_0x26eee5];return _0x3a989d;},a0_0x20ad(_0x3ef2dd,_0x3d5ec6);}async function sendNotification(_0x59afa6,_0x19de0b,_0x4a7850=![],_0x317d01=![]){const _0x1cb0c6=a0_0x1366a7;_0x59afa6['log'][_0x1cb0c6(0x1ac)](_0x1cb0c6(0x2f1)+_0x19de0b),_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x1a3)]&&_0x59afa6['config'][_0x1cb0c6(0x1c9)]&&_0x59afa6[_0x1cb0c6(0x22c)](_0x59afa6[_0x1cb0c6(0x1da)]['notifyTelegramInstance'],_0x1cb0c6(0x278),{'text':_0x19de0b,'user':_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x232)]}),_0x59afa6['config'][_0x1cb0c6(0x1c2)]&&_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x330)]&&_0x59afa6[_0x1cb0c6(0x22c)](_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x330)],_0x1cb0c6(0x278),{'message':_0x19de0b,'title':_0x317d01?'âš ï¸\x20ALARM':_0x1cb0c6(0x1a7),'priority':_0x317d01?0x1:0x0,'device':_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x279)]}),_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x1af)]&&_0x59afa6[_0x1cb0c6(0x1da)]['notifyEmailInstance']&&_0x59afa6[_0x1cb0c6(0x1da)]['notifyEmailRecipient']&&_0x59afa6[_0x1cb0c6(0x22c)](_0x59afa6['config'][_0x1cb0c6(0x32d)],_0x1cb0c6(0x278),{'to':_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x2ed)],'subject':_0x317d01?_0x1cb0c6(0x296):'NUUKANNI\x20Report','text':_0x19de0b}),_0x59afa6['config'][_0x1cb0c6(0x2a8)]&&_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x216)]&&_0x59afa6[_0x1cb0c6(0x22c)](_0x59afa6[_0x1cb0c6(0x1da)]['notifyWhatsappInstance'],'send',{'text':_0x19de0b,'phone':_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x1c5)]}),_0x59afa6['config']['notifySignalEnabled']&&_0x59afa6[_0x1cb0c6(0x1da)]['notifySignalInstance']&&_0x59afa6[_0x1cb0c6(0x22c)](_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x2b3)],'send',{'text':_0x19de0b,'phone':_0x59afa6[_0x1cb0c6(0x1da)][_0x1cb0c6(0x20c)]});}