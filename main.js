const a0_0x536822=a0_0x46c3;(function(_0x43277b,_0x15f2bf){const _0x3bf9b0=a0_0x46c3,_0x31ffc6=_0x43277b();while(!![]){try{const _0x586f40=parseInt(_0x3bf9b0(0x28a))/0x1*(-parseInt(_0x3bf9b0(0x204))/0x2)+-parseInt(_0x3bf9b0(0x1f1))/0x3+parseInt(_0x3bf9b0(0x2f3))/0x4+parseInt(_0x3bf9b0(0x2b4))/0x5+parseInt(_0x3bf9b0(0x2ca))/0x6+-parseInt(_0x3bf9b0(0x21b))/0x7*(-parseInt(_0x3bf9b0(0x2f9))/0x8)+-parseInt(_0x3bf9b0(0x21a))/0x9*(-parseInt(_0x3bf9b0(0x26c))/0xa);if(_0x586f40===_0x15f2bf)break;else _0x31ffc6['push'](_0x31ffc6['shift']());}catch(_0x5129a0){_0x31ffc6['push'](_0x31ffc6['shift']());}}}(a0_0x3756,0x98790));const a0_0x4a8435=(function(){let _0x33fb6f=!![];return function(_0x1ffafc,_0x2afe41){const _0x58e032=_0x33fb6f?function(){if(_0x2afe41){const _0x1c75f4=_0x2afe41['apply'](_0x1ffafc,arguments);return _0x2afe41=null,_0x1c75f4;}}:function(){};return _0x33fb6f=![],_0x58e032;};}()),a0_0x428952=a0_0x4a8435(this,function(){const _0x5d25eb=a0_0x46c3;return a0_0x428952[_0x5d25eb(0x285)]()[_0x5d25eb(0x1f7)](_0x5d25eb(0x24b))[_0x5d25eb(0x285)]()['constructor'](a0_0x428952)[_0x5d25eb(0x1f7)](_0x5d25eb(0x24b));});function a0_0x46c3(_0x1b2b28,_0x30c86e){const _0x26f951=a0_0x3756();return a0_0x46c3=function(_0x428952,_0x4a8435){_0x428952=_0x428952-0x1e6;let _0x3756d5=_0x26f951[_0x428952];return _0x3756d5;},a0_0x46c3(_0x1b2b28,_0x30c86e);}a0_0x428952();function a0_0x3756(){const _0x512930=['system.presenceWho','name','createAllObjects','systemConfig','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','timestamp','./lib/recorder','getStateAsync','info','analysis.energy.rlPenalties','analysis.automation.targetValue','PREDICT_ENERGY','Daten\x20nicht\x20verfÃ¼gbar','executeAutomationAction','stateChange','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','klar','scanDevices','LTM.rawEventLog','analysis.training.triggerHealth','updateTopologyMatrix','ready','LTM.triggerDailyDigest','setupBriefingScheduler','setPresence','system.adapter.','analysis.training.status',')\x20-\x20Phase\x20D\x20(Auto-Heartbeat)','config','NextHours.Location_1.Day_1.current.symbol_desc','Verbindung\x20erfolgreich!','Kein\x20API\x20Key\x20Ã¼bergeben','dailyDigests','dismissAutomation','licenseKey','triggerEnergyPrediction','system.mode','onStateChange','debug','text','setupDriftAnalysisScheduler','397555FVNCuw','./lib/setup','sensorLastValues','LTM.trainingData.sequences','analysis.energy.ventilationAlerts','{\x22default\x22:\x2021}','setupLtmScheduler','Test','runBaselineDriftAnalysis','.communicate.request','./lib/scheduler','testContext','automation.triggerAction','forEach','currentSystemMode','analysis.automation.targetId','command','json','cancel','runGeminiAnalysis','sendNotification','triggerGaitAnalysis','66336kHEGVL','apiKey','checkSolarCondition','namespace','LTM.baselineStatus','abs','object','getForeignStateAsync','devices','getLtmData','push','@google/generative-ai','triggerBriefing','PINN\x20AI\x20Forecast','analysis.trigger','subscribeForeignStatesAsync','analysis.automation.patternDetected','analysis.training.triggerTopology','./lib/python_bridge','sort','getTime','checkWifiPresence','notifyTelegramEnabled','.data.table','ANALYZE_TREND','response','NORMAL','message','version','getOverviewData','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','Sec-Training\x20started...','./lib/automation','presenceDevices','cogni-living\x20adapter\x20starting\x20(v','updated','startSystem','Aktiv\x20(','floor','instance','getState','3130212TuTJmH','parse','_calName','Kein\x20Wetter-Adapter','analysisHistory','analysis.energy.pinnForecast','508208SCaSHz','TRAIN_HEALTH','setStateAsync','LTM.dailyDigests','PYTHON_EXE','state','activityLevel','minutes_safe','updateTopology','TRACK_EVENT','stringify','geminiModel','sendMorningBriefing','1247325DGBRNX','bind','testApiKey','updateLocation','Fehler:\x20','daswetter.0','search','eventHistory','analysis.energy.insulationScore','Lernphase\x20(','.system.mode','thermostat','ack','./lib/scanner','analysis.energy.warmupTargets','driftAnalysisTimer','string','telegram','from','140hhDFkG','length','scanThermostats','checkLicense','isPresent','SET_LEARNING_MODE','join','find','checkCalendarTriggers','add','genAI','analysis.training.triggerComfort','val','type','VACATION','createDailyDigest','simulateButler','analysis.training.triggerSecurity','Guest\x20Mode','party','keys','abortExitTimer','1512891QYFzWI','42msjUYQ','initSystemConfig','ANALYZE_GAIT','onReady','analysis.energy.mpcActive','\x20min\x20ausbleiben.','analysis.security.learningStatus','notifyTelegramInstance','getForeignObjectsAsync','healthTrendInterval','SYSTEM_DP_MODE','./lib/ai_agent','send','loadSystemMode','trackerHeartbeat','analysis.automation.triggerAction','generateContent','location','includes','minDaysForBaseline','ltmJob','Current.WeatherText','updateHealthVector','dependencyInstallInProgress','setHours','\x20Tage)','split','cogni-living','online','analysis.training.triggerEnergy','sendTo','analysis.topology.structure','setupModeResetScheduler','SYSTEM_MODES','@iobroker/adapter-core','checkThermostats','getMinutes','onUnload','cleanupGhostInterventions','setObjectNotExistsAsync','pop','getHours','analysis.triggerBriefing','Kein\x20Kalender-Adapter','geminiApiKey','rawEventLog','Heizung\x20kann\x20','log','(((.+)+)+)+$','calendarName','Gemini\x20Init\x20Error:\x20','getGenerativeModel','getOutsideTemperatureNumeric','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','exports','Party\x20Mode','resetRLPenalty','Active\x20Ventilation\x20Alerts','slice','SET_TOPOLOGY','analysisInterval','motion','Activity-Level','getCalendarNames','simulateEnergyMPC','values','WiFi\x20Presence\x20detected.','Keine\x20Antwort\x20von\x20Gemini','heiter','testNotification','isProVersion','communicate.request','common','TRAIN_ENERGY','enum.rooms.*','callback','temperature','Simulation\x20durch\x20Admin\x20(Test)','OPTIMIZE_ENERGY','lastAlertState','toLowerCase','30SXcJaE','scanForDevices','triggerDailyDigest','setState','calendarInstance','stopService','enum.functions.*','Warm-Up\x20Target\x20Temps\x20(JSON)','lastTrackerEventTime','Standard','exitTimer','runPythonHealthCheck','inactivityThresholdHours','runAutopilot','clear','Reinforcement\x20Learning\x20Penalties','analysis.automation.description','LTM.trainingData.thermodynamics','modeResetJob','exitGraceTimer','analysisTimer','error','â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','fill','subscribeStates','toString','briefingJob','main','now','initHistory','10261obzwWH'];a0_0x3756=function(){return _0x512930;};return a0_0x3756();}'use strict';const utils=require(a0_0x536822(0x23d)),{GoogleGenerativeAI}=require(a0_0x536822(0x2d5)),installer=require('./lib/installer'),scanner=require(a0_0x536822(0x1fe)),schedulers=require(a0_0x536822(0x2be)),topology=require('./lib/topology'),setup=require(a0_0x536822(0x2b5)),recorder=require(a0_0x536822(0x291)),pythonBridge=require(a0_0x536822(0x2dc)),aiAgent=require(a0_0x536822(0x226)),deadMan=require('./lib/dead_man'),automation=require(a0_0x536822(0x2ea)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x11c82e){const _0x26b0c1=a0_0x536822;super({..._0x11c82e,'name':_0x26b0c1(0x236)}),this['eventHistory']=[],this['analysisHistory']=[],this[_0x26b0c1(0x248)]=[],this[_0x26b0c1(0x2ab)]=[],this[_0x26b0c1(0x2b6)]={},this[_0x26b0c1(0x28e)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x26b0c1(0x208)]=!![],this[_0x26b0c1(0x276)]=null,this[_0x26b0c1(0x27f)]=null,this['isGracePeriodActive']=![],this[_0x26b0c1(0x20e)]=null,this['geminiModel']=null,this[_0x26b0c1(0x2c2)]=setup['SYSTEM_MODES'][_0x26b0c1(0x2e4)],this[_0x26b0c1(0x261)]=![],this[_0x26b0c1(0x26a)]=![],this[_0x26b0c1(0x280)]=null,this[_0x26b0c1(0x22f)]=null,this[_0x26b0c1(0x27e)]=null,this['driftAnalysisTimer']=null,this['briefingJob']=null,this[_0x26b0c1(0x229)]=null,this[_0x26b0c1(0x224)]=null,this[_0x26b0c1(0x232)]=![],this[_0x26b0c1(0x274)]=Date[_0x26b0c1(0x288)](),this['on'](_0x26b0c1(0x2a0),this[_0x26b0c1(0x21e)][_0x26b0c1(0x1f2)](this)),this['on'](_0x26b0c1(0x299),this[_0x26b0c1(0x2b0)][_0x26b0c1(0x1f2)](this)),this['on']('unload',this['onUnload'][_0x26b0c1(0x1f2)](this)),this['on']('message',this['onMessage'][_0x26b0c1(0x1f2)](this));}async['onReady'](){const _0x3f2f09=a0_0x536822;this[_0x3f2f09(0x24a)][_0x3f2f09(0x293)](_0x3f2f09(0x2ec)+this[_0x3f2f09(0x2e6)]+_0x3f2f09(0x2a6));if(!installer['checkAndInstall'](this,()=>this[_0x3f2f09(0x2ee)]()))return;}async[a0_0x536822(0x2ee)](){const _0x50f7fd=a0_0x536822;await setup['initZombies'](this);try{this['isProVersion']=await setup[_0x50f7fd(0x207)](this[_0x50f7fd(0x2a7)][_0x50f7fd(0x2ad)]);}catch(_0x30b0fa){}if(!this[_0x50f7fd(0x2a7)][_0x50f7fd(0x278)]||this[_0x50f7fd(0x2a7)][_0x50f7fd(0x278)]<0.1)this[_0x50f7fd(0x2a7)][_0x50f7fd(0x278)]=0xc;await setup[_0x50f7fd(0x289)](this),await setup[_0x50f7fd(0x21c)](this);if(this[_0x50f7fd(0x2a7)][_0x50f7fd(0x247)])try{this[_0x50f7fd(0x20e)]=new GoogleGenerativeAI(this[_0x50f7fd(0x2a7)][_0x50f7fd(0x247)]),this[_0x50f7fd(0x1ef)]=this[_0x50f7fd(0x20e)][_0x50f7fd(0x24e)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this[_0x50f7fd(0x24a)]['info']('Gemini\x20AI\x20initialized.');}catch(_0x444e3f){this[_0x50f7fd(0x24a)][_0x50f7fd(0x281)](_0x50f7fd(0x24d)+_0x444e3f['message']);}await setup[_0x50f7fd(0x28d)](this),await this[_0x50f7fd(0x228)](),await this['setObjectNotExistsAsync'](_0x50f7fd(0x2f8),{'type':_0x50f7fd(0x1e9),'common':{'name':_0x50f7fd(0x2d7),'type':_0x50f7fd(0x201),'role':_0x50f7fd(0x2c5),'read':!![],'write':![]},'native':{}}),await this[_0x50f7fd(0x242)](_0x50f7fd(0x2b8),{'type':_0x50f7fd(0x1e9),'common':{'name':_0x50f7fd(0x254),'type':_0x50f7fd(0x201),'role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.warmupTimes',{'type':'state','common':{'name':_0x50f7fd(0x250),'type':_0x50f7fd(0x201),'role':_0x50f7fd(0x2c5),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x50f7fd(0x1ff),{'type':'state','common':{'name':_0x50f7fd(0x273),'type':_0x50f7fd(0x201),'role':'json','read':!![],'write':!![],'def':_0x50f7fd(0x2b9)},'native':{}}),await this[_0x50f7fd(0x242)](_0x50f7fd(0x294),{'type':'state','common':{'name':_0x50f7fd(0x27b),'type':_0x50f7fd(0x201),'role':_0x50f7fd(0x2c5),'read':!![],'write':![],'def':'{}'},'native':{}});try{const _0x27fc5b=await this['getStateAsync'](_0x50f7fd(0x29d));if(_0x27fc5b&&_0x27fc5b[_0x50f7fd(0x210)])this[_0x50f7fd(0x248)]=JSON[_0x50f7fd(0x2f4)](_0x27fc5b[_0x50f7fd(0x210)]);}catch(_0x29154f){this[_0x50f7fd(0x248)]=[];}try{const _0x25a4c3=await this['getStateAsync'](_0x50f7fd(0x1e7));if(_0x25a4c3&&_0x25a4c3[_0x50f7fd(0x210)])this[_0x50f7fd(0x2ab)]=JSON[_0x50f7fd(0x2f4)](_0x25a4c3[_0x50f7fd(0x210)]);}catch(_0x44e580){this[_0x50f7fd(0x2ab)]=[];}const _0x6bfffa=this[_0x50f7fd(0x2ab)][_0x50f7fd(0x205)]>=(this[_0x50f7fd(0x2a7)][_0x50f7fd(0x22e)]||0x7)?_0x50f7fd(0x2ef)+this[_0x50f7fd(0x2ab)][_0x50f7fd(0x205)]+_0x50f7fd(0x234):_0x50f7fd(0x1fa)+this[_0x50f7fd(0x2ab)]['length']+'/'+(this['config'][_0x50f7fd(0x22e)]||0x7)+')';await this['setStateAsync'](_0x50f7fd(0x2ce),{'val':_0x6bfffa,'ack':!![]}),this[_0x50f7fd(0x284)](_0x50f7fd(0x2d8)),this['subscribeStates'](_0x50f7fd(0x2a1)),this[_0x50f7fd(0x284)](_0x50f7fd(0x2af)),this[_0x50f7fd(0x284)](_0x50f7fd(0x245)),this[_0x50f7fd(0x284)](_0x50f7fd(0x22a)),this[_0x50f7fd(0x284)]('analysis.automation.autoApply'),this['subscribeStates'](_0x50f7fd(0x215)),this[_0x50f7fd(0x284)](_0x50f7fd(0x29e)),this['subscribeStates'](_0x50f7fd(0x238)),this[_0x50f7fd(0x284)]('analysis.training.triggerComfort'),this[_0x50f7fd(0x284)](_0x50f7fd(0x2db)),this[_0x50f7fd(0x284)](_0x50f7fd(0x21f));const _0x51aade=this[_0x50f7fd(0x2a7)][_0x50f7fd(0x2d2)];if(_0x51aade)for(const _0x2e5cf0 of _0x51aade){await this['subscribeForeignStatesAsync'](_0x2e5cf0['id']);}const _0x34baf6=this[_0x50f7fd(0x2a7)]['presenceDevices'];if(_0x34baf6)for(const _0x58e2ff of _0x34baf6){await this[_0x50f7fd(0x2d9)](_0x58e2ff);}if(this[_0x50f7fd(0x2a7)][_0x50f7fd(0x2e0)]&&this[_0x50f7fd(0x2a7)][_0x50f7fd(0x222)])await this[_0x50f7fd(0x2d9)](this[_0x50f7fd(0x2a7)][_0x50f7fd(0x222)]+_0x50f7fd(0x2bd));setTimeout(()=>this[_0x50f7fd(0x2df)](),0x1388);if(this[_0x50f7fd(0x280)])clearInterval(this[_0x50f7fd(0x280)]);const _0x3bdb96=this[_0x50f7fd(0x2a7)][_0x50f7fd(0x257)]||0xf;_0x3bdb96>0x0&&(this[_0x50f7fd(0x280)]=setInterval(()=>{const _0x190de7=_0x50f7fd;this[_0x190de7(0x279)](),automation[_0x190de7(0x20c)](this);},_0x3bdb96*0x3c*0x3e8));setTimeout(()=>automation[_0x50f7fd(0x20c)](this),0x2710);this['config']['trackerEnabled']!==![]&&(this[_0x50f7fd(0x229)]=setInterval(()=>{const _0x3587e2=_0x50f7fd;if(this[_0x3587e2(0x261)]){const _0x198341=Date[_0x3587e2(0x288)](),_0x55f76c=this[_0x3587e2(0x274)]||_0x198341,_0x36913f=(_0x198341-_0x55f76c)/0x3e8;_0x36913f>0x2&&(this[_0x3587e2(0x274)]=_0x198341,pythonBridge[_0x3587e2(0x227)](this,_0x3587e2(0x1ed),{'room':null,'dt':_0x36913f}));}},0xbb8));if(this[_0x50f7fd(0x224)])clearInterval(this[_0x50f7fd(0x224)]);this[_0x50f7fd(0x224)]=setInterval(()=>{const _0x520560=_0x50f7fd;this[_0x520560(0x261)]&&(this[_0x520560(0x24a)][_0x520560(0x293)](_0x520560(0x282)),this['runPythonHealthCheck']());},0x4*0x3c*0x3c*0x3e8),schedulers[_0x50f7fd(0x2ba)](this,()=>aiAgent[_0x50f7fd(0x213)](this,pythonBridge)),schedulers[_0x50f7fd(0x23b)](this),schedulers[_0x50f7fd(0x2b3)](this,()=>aiAgent[_0x50f7fd(0x2bc)](this)),schedulers[_0x50f7fd(0x2a2)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge['startService'](this,installer[_0x50f7fd(0x1e8)]),setTimeout(async()=>{const _0x158a12=_0x50f7fd;await topology['updateTopology'](this);try{const _0x3195be=await this[_0x158a12(0x292)](_0x158a12(0x23a));if(_0x3195be&&_0x3195be[_0x158a12(0x210)])pythonBridge[_0x158a12(0x227)](this,_0x158a12(0x256),JSON['parse'](_0x3195be[_0x158a12(0x210)]));}catch(_0x717699){}this['runPythonHealthCheck'](),this[_0x158a12(0x2c9)](),this[_0x158a12(0x2ae)](),this[_0x158a12(0x231)]();},0x1388);}[a0_0x536822(0x240)](_0x2e6ab4){const _0xa5dc1c=a0_0x536822;if(this['analysisTimer'])clearInterval(this[_0xa5dc1c(0x280)]);if(this[_0xa5dc1c(0x200)])clearInterval(this['driftAnalysisTimer']);if(this[_0xa5dc1c(0x229)])clearInterval(this[_0xa5dc1c(0x229)]);if(this[_0xa5dc1c(0x224)])clearInterval(this['healthTrendInterval']);if(this[_0xa5dc1c(0x22f)])this[_0xa5dc1c(0x22f)][_0xa5dc1c(0x2c6)]();if(this[_0xa5dc1c(0x27e)])this[_0xa5dc1c(0x27e)][_0xa5dc1c(0x2c6)]();if(this[_0xa5dc1c(0x286)])this[_0xa5dc1c(0x286)][_0xa5dc1c(0x2c6)]();recorder[_0xa5dc1c(0x219)](this),pythonBridge[_0xa5dc1c(0x271)](this),_0x2e6ab4();}async[a0_0x536822(0x2b0)](_0x2f1691,_0xeab12){const _0x1fad44=a0_0x536822;if(!_0xeab12||this[_0x1fad44(0x232)])return;if(_0x2f1691['includes'](_0x1fad44(0x202))&&_0x2f1691['endsWith'](_0x1fad44(0x262))&&_0xeab12['val'])return;if(_0x2f1691===this[_0x1fad44(0x2cd)]+_0x1fad44(0x1fb)){if(_0xeab12[_0x1fad44(0x210)]&&Object['values'](setup['SYSTEM_MODES'])[_0x1fad44(0x22d)](_0xeab12[_0x1fad44(0x210)])){this['currentSystemMode']=_0xeab12[_0x1fad44(0x210)];if(_0xeab12[_0x1fad44(0x210)]===setup[_0x1fad44(0x23c)][_0x1fad44(0x212)])await recorder[_0x1fad44(0x2a3)](this,![]);else await recorder[_0x1fad44(0x2a3)](this,!![]);if(this[_0x1fad44(0x261)]){let _0x56398a=![],_0x3e1ed8=0x0,_0xbb2d71='manual';if(this[_0x1fad44(0x2c2)]===_0x1fad44(0x217))_0x56398a=!![],_0x3e1ed8=0x168,_0xbb2d71=_0x1fad44(0x252);else this[_0x1fad44(0x2c2)]==='guest'&&(_0x56398a=!![],_0x3e1ed8=0x5a0,_0xbb2d71=_0x1fad44(0x216));pythonBridge[_0x1fad44(0x227)](this,_0x1fad44(0x209),{'active':_0x56398a,'duration':_0x3e1ed8,'label':_0xbb2d71}),await this['setStateAsync'](_0x1fad44(0x221),{'val':JSON[_0x1fad44(0x1ee)]({'active':_0x56398a,'label':_0xbb2d71,'timestamp':Date['now']()}),'ack':!![]});}}if(!_0xeab12[_0x1fad44(0x1fd)])this[_0x1fad44(0x26f)](_0x2f1691,{'val':this[_0x1fad44(0x2c2)],'ack':!![]});return;}if(!_0xeab12[_0x1fad44(0x1fd)]){if(_0x2f1691[_0x1fad44(0x22d)](_0x1fad44(0x2d8))&&_0xeab12[_0x1fad44(0x210)]){this['setState'](_0x2f1691,{'val':![],'ack':!![]}),aiAgent[_0x1fad44(0x2c7)](this);return;}if(_0x2f1691['includes'](_0x1fad44(0x26e))&&_0xeab12['val']){this[_0x1fad44(0x26f)](_0x2f1691,{'val':![],'ack':!![]});if(this[_0x1fad44(0x261)])aiAgent[_0x1fad44(0x213)](this,pythonBridge);return;}if(_0x2f1691[_0x1fad44(0x22d)](_0x1fad44(0x2d6))&&_0xeab12[_0x1fad44(0x210)]){this[_0x1fad44(0x26f)](_0x2f1691,{'val':![],'ack':!![]}),aiAgent[_0x1fad44(0x1f0)](this);return;}if(_0x2f1691['includes'](_0x1fad44(0x2c0))&&_0xeab12['val']){this[_0x1fad44(0x26f)](_0x2f1691,{'val':![],'ack':!![]}),aiAgent[_0x1fad44(0x298)](this);return;}if(_0x2f1691[_0x1fad44(0x22d)]('analysis.training.triggerSecurity')&&_0xeab12['val']){this[_0x1fad44(0x26f)](_0x2f1691,{'val':![],'ack':!![]});if(this[_0x1fad44(0x261)])try{const _0x30a57f=await this[_0x1fad44(0x292)](_0x1fad44(0x2b7));if(_0x30a57f&&_0x30a57f[_0x1fad44(0x210)]){const _0x186b63=JSON[_0x1fad44(0x2f4)](_0x30a57f['val']);this[_0x1fad44(0x1e6)](_0x1fad44(0x2a5),{'val':_0x1fad44(0x2e9),'ack':!![]}),pythonBridge[_0x1fad44(0x227)](this,'TRAIN_SECURITY',{'sequences':_0x186b63});}}catch(_0x40b54b){}return;}if(_0x2f1691[_0x1fad44(0x22d)](_0x1fad44(0x29e))&&_0xeab12['val']){this['setState'](_0x2f1691,{'val':![],'ack':!![]});if(this[_0x1fad44(0x261)])try{const _0x297699=await this[_0x1fad44(0x292)](_0x1fad44(0x1e7));if(_0x297699&&_0x297699[_0x1fad44(0x210)])pythonBridge[_0x1fad44(0x227)](this,_0x1fad44(0x2fa),{'digests':JSON[_0x1fad44(0x2f4)](_0x297699['val'])});}catch(_0x1a33eb){}return;}if(_0x2f1691[_0x1fad44(0x22d)](_0x1fad44(0x238))&&_0xeab12[_0x1fad44(0x210)]){this[_0x1fad44(0x26f)](_0x2f1691,{'val':![],'ack':!![]});if(this[_0x1fad44(0x261)])try{const _0x16d09c=await this['getStateAsync'](_0x1fad44(0x27d));if(_0x16d09c&&_0x16d09c[_0x1fad44(0x210)])pythonBridge[_0x1fad44(0x227)](this,_0x1fad44(0x264),{'points':JSON[_0x1fad44(0x2f4)](_0x16d09c[_0x1fad44(0x210)])});}catch(_0x34cdf9){}return;}if(_0x2f1691[_0x1fad44(0x22d)](_0x1fad44(0x20f))&&_0xeab12['val']){this[_0x1fad44(0x26f)](_0x2f1691,{'val':![],'ack':!![]});if(this[_0x1fad44(0x261)])try{const _0x38beec=await this[_0x1fad44(0x292)]('LTM.rawEventLog');if(_0x38beec&&_0x38beec[_0x1fad44(0x210)])pythonBridge[_0x1fad44(0x227)](this,'TRAIN_COMFORT',{'events':JSON[_0x1fad44(0x2f4)](_0x38beec[_0x1fad44(0x210)])});}catch(_0x43c99d){}return;}if(_0x2f1691['includes'](_0x1fad44(0x2db))&&_0xeab12['val']){this[_0x1fad44(0x26f)](_0x2f1691,{'val':![],'ack':!![]}),topology[_0x1fad44(0x1ec)](this);return;}}if(this['config'][_0x1fad44(0x2eb)]&&this['config'][_0x1fad44(0x2eb)][_0x1fad44(0x22d)](_0x2f1691)){await this[_0x1fad44(0x2df)]();return;}const _0x42429c=(this['config'][_0x1fad44(0x2d2)]||[])[_0x1fad44(0x20b)](_0x2a8876=>_0x2a8876['id']===_0x2f1691);if(_0x42429c){const _0x3b0e83=await recorder['processSensorEvent'](this,_0x2f1691,_0xeab12,_0x42429c);_0x3b0e83&&_0x3b0e83[_0x1fad44(0x211)]===_0x1fad44(0x258)&&_0x3b0e83[_0x1fad44(0x22c)]&&this['isProVersion']&&deadMan[_0x1fad44(0x1f4)](this,_0x3b0e83['location']),(_0x42429c[_0x1fad44(0x211)]==='temperature'||_0x42429c[_0x1fad44(0x211)]===_0x1fad44(0x1fc))&&automation[_0x1fad44(0x241)](this);}}async['onMessage'](_0x57810e){const _0x5e7bdf=a0_0x536822;if(typeof _0x57810e===_0x5e7bdf(0x2d0)&&_0x57810e[_0x5e7bdf(0x2e5)]){if(_0x57810e[_0x5e7bdf(0x2c4)]===_0x5e7bdf(0x23e))try{const _0x2d04b6=await automation[_0x5e7bdf(0x206)](this);this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![],'results':_0x2d04b6},_0x57810e[_0x5e7bdf(0x266)]);}catch(_0x3da8c1){this['sendTo'](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':![],'error':_0x3da8c1[_0x5e7bdf(0x2e5)]},_0x57810e[_0x5e7bdf(0x266)]);}else{if(_0x57810e[_0x5e7bdf(0x2c4)]===_0x5e7bdf(0x25b))try{const {current_temps:_0x3fff42,t_out:_0x50f93b,targets:_0x33ba39,t_forecast:_0x40df97}=_0x57810e[_0x5e7bdf(0x2e5)],_0x19d30c=[];let _0xfe6ec8={};try{const _0x37fb8a=await this[_0x5e7bdf(0x292)](_0x5e7bdf(0x1f9));if(_0x37fb8a&&_0x37fb8a[_0x5e7bdf(0x210)]){const _0x5ee064=JSON[_0x5e7bdf(0x2f4)](_0x37fb8a['val']);_0xfe6ec8=_0x5ee064['scores']||_0x5ee064;}}catch(_0x24665c){}const _0xcb16a4=_0x40df97!==undefined&&_0x40df97!==null?(_0x50f93b+_0x40df97)/0x2:_0x50f93b;for(const [_0xb79cd4,_0x3d061b]of Object['entries'](_0x3fff42)){const _0x1505bb=_0x33ba39[_0xb79cd4]||0x15;if(_0x3d061b<=_0x1505bb)continue;let _0x315ee2=_0xfe6ec8[_0xb79cd4]||-0.5;if(_0x315ee2>=0x0)_0x315ee2=-0.5;const _0xe22053=Math[_0x5e7bdf(0x2cf)](_0x315ee2),_0x337fc5=_0x3d061b-_0x1505bb;let _0x2cacee=Math[_0x5e7bdf(0x2f0)](_0x337fc5/_0xe22053*0x3c);const _0x13364b=_0x3d061b-_0x50f93b,_0x239e0c=_0x3d061b-_0xcb16a4;if(_0x239e0c!==0x0&&_0x13364b!==0x0){const _0xa0536d=_0x13364b/_0x239e0c;_0x2cacee=Math[_0x5e7bdf(0x2f0)](_0x2cacee*_0xa0536d);}if(_0x2cacee>0xf){if(_0x2cacee>0xf0)_0x2cacee=0xf0;_0x19d30c['push']({'room':_0xb79cd4,'minutes_safe':_0x2cacee,'target':_0x1505bb,'current':_0x3d061b,'savings_msg':_0x5e7bdf(0x249)+_0x2cacee+_0x5e7bdf(0x220)});}}_0x19d30c['sort']((_0x2e7738,_0xc6b610)=>_0xc6b610['minutes_safe']-_0x2e7738[_0x5e7bdf(0x1eb)]),this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![],'proposals':_0x19d30c},_0x57810e[_0x5e7bdf(0x266)]);}catch(_0xcc6f97){this['sendTo'](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':![],'error':_0xcc6f97[_0x5e7bdf(0x2e5)]},_0x57810e['callback']);}else{if(_0x57810e['command']===_0x5e7bdf(0x253))try{const _0x180121=_0x57810e[_0x5e7bdf(0x2e5)]['key'],_0x35a142=_0x5e7bdf(0x294),_0x38eb49=await this[_0x5e7bdf(0x292)](_0x35a142);let _0x23525c={};if(_0x38eb49&&_0x38eb49[_0x5e7bdf(0x210)])try{_0x23525c=JSON['parse'](_0x38eb49[_0x5e7bdf(0x210)]);}catch(_0x826da8){}_0x180121&&_0x23525c[_0x180121]?(delete _0x23525c[_0x180121],await this['setStateAsync'](_0x35a142,{'val':JSON[_0x5e7bdf(0x1ee)](_0x23525c),'ack':!![]}),this[_0x5e7bdf(0x24a)]['info']('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0x180121+_0x5e7bdf(0x2e8)),this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![]},_0x57810e[_0x5e7bdf(0x266)])):this[_0x5e7bdf(0x239)](_0x57810e['from'],_0x57810e['command'],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0x57810e['callback']);}catch(_0x29b60e){this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e['command'],{'success':![],'error':_0x29b60e[_0x5e7bdf(0x2e5)]},_0x57810e[_0x5e7bdf(0x266)]);}else{if(_0x57810e[_0x5e7bdf(0x2c4)]===_0x5e7bdf(0x2ac))await this['setStateAsync'](_0x5e7bdf(0x2da),{'val':![],'ack':!![]}),await this[_0x5e7bdf(0x1e6)]('analysis.automation.description',{'val':'','ack':!![]}),await this['setStateAsync'](_0x5e7bdf(0x2c3),{'val':'','ack':!![]}),this[_0x5e7bdf(0x239)](_0x57810e['from'],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![]},_0x57810e['callback']);else{if(_0x57810e['command']===_0x5e7bdf(0x214)){const {targetId:_0x74b313,targetValue:_0xb727ae}=_0x57810e[_0x5e7bdf(0x2e5)];await this[_0x5e7bdf(0x1e6)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await this[_0x5e7bdf(0x1e6)]('analysis.automation.description',{'val':_0x5e7bdf(0x268),'ack':!![]}),await this['setStateAsync'](_0x5e7bdf(0x2c3),{'val':_0x74b313,'ack':!![]}),await this[_0x5e7bdf(0x1e6)](_0x5e7bdf(0x295),{'val':String(_0xb727ae),'ack':!![]}),this[_0x5e7bdf(0x239)](_0x57810e['from'],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![]},_0x57810e[_0x5e7bdf(0x266)]);}else{if(_0x57810e[_0x5e7bdf(0x2c4)]===_0x5e7bdf(0x1f3))try{const _0x29e072=_0x57810e[_0x5e7bdf(0x2e5)][_0x5e7bdf(0x2cb)];if(!_0x29e072)throw new Error(_0x5e7bdf(0x2aa));const _0x482a0c=new GoogleGenerativeAI(_0x29e072),_0x2024e8=_0x482a0c[_0x5e7bdf(0x24e)]({'model':GEMINI_MODEL}),_0x280203=await _0x2024e8[_0x5e7bdf(0x22b)](_0x5e7bdf(0x2bb)),_0x4f9cfc=await _0x280203[_0x5e7bdf(0x2e3)];if(_0x4f9cfc[_0x5e7bdf(0x2b2)]())this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![],'message':_0x5e7bdf(0x2a9)},_0x57810e[_0x5e7bdf(0x266)]);else throw new Error(_0x5e7bdf(0x25e));}catch(_0x224163){this['sendTo'](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':![],'message':_0x224163['message']},_0x57810e[_0x5e7bdf(0x266)]);}else{if(_0x57810e['command']===_0x5e7bdf(0x29c))try{const _0x3ecfba=await scanner[_0x5e7bdf(0x26d)](this,_0x57810e['message']||{});this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e['command'],{'success':!![],'devices':_0x3ecfba},_0x57810e[_0x5e7bdf(0x266)]);}catch(_0x21c45b){this[_0x5e7bdf(0x239)](_0x57810e['from'],_0x57810e[_0x5e7bdf(0x2c4)],{'success':![],'error':_0x21c45b[_0x5e7bdf(0x2e5)]},_0x57810e[_0x5e7bdf(0x266)]);}else{if(_0x57810e['command']===_0x5e7bdf(0x29f))try{const {matrix:_0x26ae81}=_0x57810e[_0x5e7bdf(0x2e5)],_0x2cb567=await this[_0x5e7bdf(0x292)](_0x5e7bdf(0x23a));if(_0x2cb567&&_0x2cb567['val']){const _0x3c21f5=JSON[_0x5e7bdf(0x2f4)](_0x2cb567[_0x5e7bdf(0x210)]);_0x3c21f5['matrix']=_0x26ae81,_0x3c21f5[_0x5e7bdf(0x2ed)]=Date[_0x5e7bdf(0x288)](),await this[_0x5e7bdf(0x1e6)](_0x5e7bdf(0x23a),{'val':JSON[_0x5e7bdf(0x1ee)](_0x3c21f5),'ack':!![]}),pythonBridge[_0x5e7bdf(0x227)](this,_0x5e7bdf(0x256),_0x3c21f5);}this[_0x5e7bdf(0x239)](_0x57810e['from'],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![]},_0x57810e[_0x5e7bdf(0x266)]);}catch(_0x3fa79e){this[_0x5e7bdf(0x24a)][_0x5e7bdf(0x281)](_0x3fa79e);}else{if(_0x57810e[_0x5e7bdf(0x2c4)]===_0x5e7bdf(0x2d3))this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![],'dailyDigests':this['dailyDigests']||[],'analysisHistory':this[_0x5e7bdf(0x2f7)]||[]},_0x57810e[_0x5e7bdf(0x266)]);else{if(_0x57810e[_0x5e7bdf(0x2c4)]===_0x5e7bdf(0x2e7)){const _0x3fe002=this[_0x5e7bdf(0x2ab)][_0x5e7bdf(0x205)],_0x4db008=new Array(0x18)[_0x5e7bdf(0x283)](0x0),_0x4e7090=new Date()[_0x5e7bdf(0x233)](0x0,0x0,0x0,0x0);this[_0x5e7bdf(0x1f8)]&&this[_0x5e7bdf(0x1f8)][_0x5e7bdf(0x2c1)](_0x144b49=>{const _0x59ddd5=_0x5e7bdf;if(_0x144b49[_0x59ddd5(0x290)]>=_0x4e7090){const _0x3df610=new Date(_0x144b49[_0x59ddd5(0x290)])['getHours']();if(_0x3df610>=0x0&&_0x3df610<0x18)_0x4db008[_0x3df610]++;}});let _0x4a2875=![],_0x1dde88='',_0x4bc76a='',_0x10cbf3='';try{const _0x54ac82=await this[_0x5e7bdf(0x292)](_0x5e7bdf(0x2da));if(_0x54ac82&&_0x54ac82[_0x5e7bdf(0x210)]){_0x4a2875=!![];const _0x1dc711=await this[_0x5e7bdf(0x292)](_0x5e7bdf(0x27c));_0x1dde88=_0x1dc711?_0x1dc711[_0x5e7bdf(0x210)]:'';const _0x33a4ef=await this[_0x5e7bdf(0x292)]('analysis.automation.targetId');_0x4bc76a=_0x33a4ef?_0x33a4ef[_0x5e7bdf(0x210)]:'';const _0x4a6f33=await this[_0x5e7bdf(0x292)](_0x5e7bdf(0x295));_0x10cbf3=_0x4a6f33?_0x4a6f33[_0x5e7bdf(0x210)]:'';}}catch(_0x1c075b){}const _0x50c271=await this[_0x5e7bdf(0x2cc)](),_0x1cf47d=(this[_0x5e7bdf(0x2a7)][_0x5e7bdf(0x2d2)]||[])['some'](_0x2bb65a=>_0x2bb65a['isSolar']),_0x30b50f=_0x50c271&&_0x1cf47d;this[_0x5e7bdf(0x239)](_0x57810e['from'],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![],'eventHistory':this['eventHistory'][_0x5e7bdf(0x255)](0x0,0xf),'stats':{'digestCount':_0x3fe002,'isPresent':this[_0x5e7bdf(0x208)],'hourlyActivity':_0x4db008,'solarActive':_0x30b50f},'automation':{'detected':_0x4a2875,'description':_0x1dde88,'targetId':_0x4bc76a,'targetValue':_0x10cbf3}},_0x57810e[_0x5e7bdf(0x266)]);}else{if(_0x57810e['command']==='getEnums'){const _0x5eefd6=await this[_0x5e7bdf(0x223)](_0x5e7bdf(0x272),'enum'),_0x1b7d97=[];if(_0x5eefd6)for(const _0x12c299 in _0x5eefd6){const _0x312ec8=_0x5eefd6[_0x12c299],_0x29def6=(_0x312ec8[_0x5e7bdf(0x263)]&&typeof _0x312ec8[_0x5e7bdf(0x263)][_0x5e7bdf(0x28c)]===_0x5e7bdf(0x2d0)?_0x312ec8[_0x5e7bdf(0x263)][_0x5e7bdf(0x28c)]['de']:_0x312ec8[_0x5e7bdf(0x263)][_0x5e7bdf(0x28c)])||_0x312ec8[_0x5e7bdf(0x263)][_0x5e7bdf(0x28c)];_0x1b7d97[_0x5e7bdf(0x2d4)]({'id':_0x12c299,'name':_0x29def6});}const _0xf92642=await this[_0x5e7bdf(0x223)](_0x5e7bdf(0x265),'enum'),_0x520ed7=[];if(_0xf92642)for(const _0xbe3699 in _0xf92642){const _0x4c4696=_0xf92642[_0xbe3699],_0x3d8ffc=(_0x4c4696[_0x5e7bdf(0x263)]&&typeof _0x4c4696[_0x5e7bdf(0x263)][_0x5e7bdf(0x28c)]===_0x5e7bdf(0x2d0)?_0x4c4696[_0x5e7bdf(0x263)][_0x5e7bdf(0x28c)]['de']:_0x4c4696['common'][_0x5e7bdf(0x28c)])||_0xbe3699[_0x5e7bdf(0x235)]('.')[_0x5e7bdf(0x243)]();_0x520ed7[_0x5e7bdf(0x2d4)](_0x3d8ffc);}this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![],'enums':_0x1b7d97,'rooms':_0x520ed7},_0x57810e[_0x5e7bdf(0x266)]);}else{if(_0x57810e[_0x5e7bdf(0x2c4)]===_0x5e7bdf(0x2bf))try{let _0x457eae=_0x5e7bdf(0x2f6),_0x289520=_0x5e7bdf(0x246);if(this[_0x5e7bdf(0x2a7)]['useWeather']){const _0x2fd530=await recorder[_0x5e7bdf(0x24f)](this);_0x457eae=_0x2fd530!==null?_0x2fd530+'Â°C':_0x5e7bdf(0x297);}if(this['config'][_0x5e7bdf(0x270)]){const _0x3a590d=await this['getForeignObjectAsync'](_0x5e7bdf(0x2a4)+this[_0x5e7bdf(0x2a7)][_0x5e7bdf(0x270)]);_0x289520=_0x3a590d?'Verbunden':'Instanz\x20nicht\x20gefunden';}this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![],'weather':_0x457eae,'calendar':_0x289520},_0x57810e[_0x5e7bdf(0x266)]);}catch(_0x194447){this['sendTo'](_0x57810e['from'],_0x57810e[_0x5e7bdf(0x2c4)],{'success':![],'error':_0x194447[_0x5e7bdf(0x2e5)]},_0x57810e[_0x5e7bdf(0x266)]);}else{if(_0x57810e['command']===_0x5e7bdf(0x25a))try{const _0x3b587e=_0x57810e['message'][_0x5e7bdf(0x2f1)],_0x28ee8d=await this[_0x5e7bdf(0x2d1)](_0x3b587e+_0x5e7bdf(0x2e1));let _0x4401b6=[];if(_0x28ee8d&&_0x28ee8d[_0x5e7bdf(0x210)]){const _0x22942a=JSON[_0x5e7bdf(0x2f4)](_0x28ee8d[_0x5e7bdf(0x210)]),_0x10d8a9=new Set();Array['isArray'](_0x22942a)&&_0x22942a[_0x5e7bdf(0x2c1)](_0x2d4683=>{const _0x245b23=_0x5e7bdf;if(_0x2d4683[_0x245b23(0x2f5)])_0x10d8a9[_0x245b23(0x20d)](_0x2d4683[_0x245b23(0x2f5)]);else{if(_0x2d4683[_0x245b23(0x24c)])_0x10d8a9[_0x245b23(0x20d)](_0x2d4683[_0x245b23(0x24c)]);}}),_0x4401b6=Array[_0x5e7bdf(0x203)](_0x10d8a9)[_0x5e7bdf(0x2dd)]();}if(_0x4401b6[_0x5e7bdf(0x205)]===0x0)_0x4401b6=[_0x5e7bdf(0x275)];this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e['command'],{'success':!![],'names':_0x4401b6},_0x57810e['callback']);}catch(_0x55fdbd){this['sendTo'](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':![],'error':_0x55fdbd[_0x5e7bdf(0x2e5)]},_0x57810e[_0x5e7bdf(0x266)]);}else{if(_0x57810e[_0x5e7bdf(0x2c4)]===_0x5e7bdf(0x260))try{await setup[_0x5e7bdf(0x2c8)](this,_0x5e7bdf(0x28f),![],![]),this[_0x5e7bdf(0x239)](_0x57810e[_0x5e7bdf(0x203)],_0x57810e[_0x5e7bdf(0x2c4)],{'success':!![],'message':'Gesendet'},_0x57810e[_0x5e7bdf(0x266)]);}catch(_0x599357){this[_0x5e7bdf(0x24a)][_0x5e7bdf(0x281)]('Notification\x20Test\x20Failed:\x20'+_0x599357[_0x5e7bdf(0x2e5)]),this[_0x5e7bdf(0x239)](_0x57810e['from'],_0x57810e['command'],{'success':![],'message':_0x5e7bdf(0x1f5)+_0x599357['message']},_0x57810e[_0x5e7bdf(0x266)]);}}}}}}}}}}}}}}}}async[a0_0x536822(0x228)](){const _0x16f75b=a0_0x536822;try{const _0x3f8c33=await this[_0x16f75b(0x292)](setup['SYSTEM_DP_MODE']);_0x3f8c33&&_0x3f8c33[_0x16f75b(0x210)]&&Object[_0x16f75b(0x25c)](setup[_0x16f75b(0x23c)])['includes'](_0x3f8c33[_0x16f75b(0x210)])?this['currentSystemMode']=_0x3f8c33[_0x16f75b(0x210)]:(this['currentSystemMode']=setup[_0x16f75b(0x23c)][_0x16f75b(0x2e4)],await this[_0x16f75b(0x1e6)](setup[_0x16f75b(0x225)],{'val':setup[_0x16f75b(0x23c)][_0x16f75b(0x2e4)],'ack':!![]}));}catch(_0x16ec62){this['currentSystemMode']=setup[_0x16f75b(0x23c)][_0x16f75b(0x2e4)];}}async[a0_0x536822(0x2df)](){const _0x5f006a=a0_0x536822;try{const _0x3aeeae=this[_0x5f006a(0x2a7)][_0x5f006a(0x2eb)]||[];let _0x42c88e=![];const _0x33aa8e=[];for(const _0x1f5121 of _0x3aeeae){try{const _0x1e1032=await this[_0x5f006a(0x2d1)](_0x1f5121);_0x1e1032&&(_0x1e1032[_0x5f006a(0x210)]===!![]||_0x1e1032[_0x5f006a(0x210)]===_0x5f006a(0x237)||_0x1e1032['val']===0x1)&&(_0x42c88e=!![],_0x33aa8e[_0x5f006a(0x2d4)](_0x1f5121));}catch(_0x5e4808){}}return await this[_0x5f006a(0x1e6)](_0x5f006a(0x28b),{'val':_0x33aa8e[_0x5f006a(0x20a)](',\x20'),'ack':!![]}),_0x42c88e&&(this[_0x5f006a(0x276)]&&(this[_0x5f006a(0x24a)][_0x5f006a(0x293)](_0x5f006a(0x25d)),recorder['abortExitTimer'](this)),!this[_0x5f006a(0x208)]&&this['currentSystemMode']===setup[_0x5f006a(0x23c)]['NORMAL']&&await recorder['setPresence'](this,!![])),_0x42c88e;}catch(_0x240b55){return![];}}async['runAutopilot'](){const _0x498029=a0_0x536822;this['log'][_0x498029(0x2b1)](_0x498029(0x29a)),await aiAgent[_0x498029(0x2c7)](this),this[_0x498029(0x231)](),this[_0x498029(0x2c9)](),this['triggerEnergyPrediction']();}async[a0_0x536822(0x2cc)](){const _0x532aa6=a0_0x536822,_0x496b79=['weatherunderground.0','accuweather.0',_0x532aa6(0x1f6)],_0x124797=['forecast.current.weather',_0x532aa6(0x230),_0x532aa6(0x2a8)];for(const _0x425940 of _0x496b79){for(const _0x479279 of _0x124797){try{const _0x47c7ae=_0x425940+'.'+_0x479279,_0xa3a721=await this[_0x532aa6(0x2d1)](_0x47c7ae);if(_0xa3a721&&_0xa3a721[_0x532aa6(0x210)]){const _0x56197c=String(_0xa3a721[_0x532aa6(0x210)])[_0x532aa6(0x26b)]();if(_0x56197c[_0x532aa6(0x22d)]('sonn')||_0x56197c[_0x532aa6(0x22d)]('sunny')||_0x56197c[_0x532aa6(0x22d)](_0x532aa6(0x29b))||_0x56197c[_0x532aa6(0x22d)](_0x532aa6(0x27a))||_0x56197c[_0x532aa6(0x22d)](_0x532aa6(0x25f)))return!![];}}catch(_0x11350d){}}}return![];}[a0_0x536822(0x2c9)](){const _0x3db1b=a0_0x536822;if(!this['isProVersion'])return;try{this[_0x3db1b(0x2f2)](_0x3db1b(0x2b7),(_0x429bef,_0x543b14)=>{const _0x2efa5d=_0x3db1b;_0x543b14&&_0x543b14[_0x2efa5d(0x210)]&&pythonBridge[_0x2efa5d(0x227)](this,_0x2efa5d(0x21d),{'sequences':JSON[_0x2efa5d(0x2f4)](_0x543b14[_0x2efa5d(0x210)])});});}catch(_0x1967c8){}}async[a0_0x536822(0x2ae)](){const _0x1be3b2=a0_0x536822;if(!this['isProVersion'])return;try{const _0x1e6ede=await recorder['getOutsideTemperatureNumeric'](this);if(_0x1e6ede===null)return;const _0x414d52={},_0x387800={},_0x5795cd=this[_0x1be3b2(0x2a7)][_0x1be3b2(0x2d2)]||[];for(const _0x25de40 of _0x5795cd){if(_0x25de40[_0x1be3b2(0x211)]===_0x1be3b2(0x267)&&_0x25de40[_0x1be3b2(0x22c)]){const _0x39297d=this[_0x1be3b2(0x2b6)][_0x25de40['id']];if(_0x39297d!==undefined)_0x414d52[_0x25de40['location']]=_0x39297d;if(_0x25de40['isSolar'])_0x387800[_0x25de40[_0x1be3b2(0x22c)]]=!![];}}const _0x164efd=await this[_0x1be3b2(0x2cc)]();let _0x14b68d={};try{const _0x2f8113=await this[_0x1be3b2(0x292)](_0x1be3b2(0x1ff));if(_0x2f8113&&_0x2f8113[_0x1be3b2(0x210)])_0x14b68d=JSON[_0x1be3b2(0x2f4)](_0x2f8113[_0x1be3b2(0x210)]);}catch(_0x10b4fa){}Object[_0x1be3b2(0x218)](_0x414d52)[_0x1be3b2(0x205)]>0x0&&(pythonBridge[_0x1be3b2(0x227)](this,_0x1be3b2(0x296),{'current_temps':_0x414d52,'t_out':_0x1e6ede,'is_sunny':_0x164efd,'solar_flags':_0x387800,'warmup_targets':_0x14b68d}),pythonBridge[_0x1be3b2(0x227)](this,_0x1be3b2(0x269),{'current_temps':_0x414d52,'t_out':_0x1e6ede,'targets':{}}));}catch(_0x34b1c0){}}['updateHealthVector'](){const _0x4083a2=a0_0x536822;if(!this['rawEventLog']||this[_0x4083a2(0x248)][_0x4083a2(0x205)]===0x0)return;const _0x5d5d20=new Array(0x60)['fill'](0x0),_0x1c5c37=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x4083a2(0x248)][_0x4083a2(0x2c1)](_0x52a49a=>{const _0x37f871=_0x4083a2,_0x15586b=new Date(_0x52a49a[_0x37f871(0x290)]);if(_0x15586b[_0x37f871(0x2de)]()>=_0x1c5c37){const _0x4bbd84=_0x15586b[_0x37f871(0x244)](),_0x1ef2f=_0x15586b[_0x37f871(0x23f)](),_0x1ae62e=_0x4bbd84*0x4+Math['floor'](_0x1ef2f/0xf);if(_0x1ae62e>=0x0&&_0x1ae62e<0x60)_0x5d5d20[_0x1ae62e]++;}}),this[_0x4083a2(0x1e6)]('analysis.health.todayVector',{'val':JSON[_0x4083a2(0x1ee)](_0x5d5d20),'ack':!![]});}[a0_0x536822(0x277)](){const _0x3c9e85=a0_0x536822;if(!this[_0x3c9e85(0x2ab)]||this[_0x3c9e85(0x2ab)][_0x3c9e85(0x205)]<0x2)return;const _0x26bd18=this[_0x3c9e85(0x2ab)]['map'](_0x257046=>{const _0x1b8a90=_0x3c9e85,_0x51152b=(_0x257046[_0x1b8a90(0x1ea)]||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x51152b]||0x32;});pythonBridge['send'](this,_0x3c9e85(0x2e2),{'values':_0x26bd18,'tag':_0x3c9e85(0x259)});}}if(require[a0_0x536822(0x287)]!==module)module[a0_0x536822(0x251)]=_0x3873bd=>new CogniLiving(_0x3873bd);else new CogniLiving();