const a0_0x5f1e4c=a0_0x1003;(function(_0x200ff6,_0x594101){const _0x304311=a0_0x1003,_0x572231=_0x200ff6();while(!![]){try{const _0x550c5e=-parseInt(_0x304311(0x7e))/0x1*(parseInt(_0x304311(0x7d))/0x2)+parseInt(_0x304311(0x11b))/0x3*(-parseInt(_0x304311(0xc9))/0x4)+-parseInt(_0x304311(0x15f))/0x5+-parseInt(_0x304311(0xf1))/0x6+parseInt(_0x304311(0x177))/0x7*(-parseInt(_0x304311(0xef))/0x8)+parseInt(_0x304311(0x17a))/0x9+parseInt(_0x304311(0x1ca))/0xa;if(_0x550c5e===_0x594101)break;else _0x572231['push'](_0x572231['shift']());}catch(_0x262abc){_0x572231['push'](_0x572231['shift']());}}}(a0_0x54b0,0x47202));const a0_0x5b8b57=(function(){let _0x5b428a=!![];return function(_0x14d968,_0x16a0b0){const _0x49a05f=_0x5b428a?function(){const _0x195ab5=a0_0x1003;if(_0x16a0b0){const _0x32be3f=_0x16a0b0[_0x195ab5(0xdf)](_0x14d968,arguments);return _0x16a0b0=null,_0x32be3f;}}:function(){};return _0x5b428a=![],_0x49a05f;};}()),a0_0x195b05=a0_0x5b8b57(this,function(){const _0x5d0745=a0_0x1003;return a0_0x195b05[_0x5d0745(0x195)]()[_0x5d0745(0x1b0)](_0x5d0745(0x153))[_0x5d0745(0x195)]()[_0x5d0745(0xf4)](a0_0x195b05)['search'](_0x5d0745(0x153));});a0_0x195b05();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x5f1e4c(0x142)),path=require(a0_0x5f1e4c(0x1d5)),fs=require('fs'),installer=require('./lib/installer'),scanner=require(a0_0x5f1e4c(0x191)),schedulers=require(a0_0x5f1e4c(0x1d9)),topology=require(a0_0x5f1e4c(0x1cf)),setup=require(a0_0x5f1e4c(0x73)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x5f1e4c(0x123)),aiAgent=require(a0_0x5f1e4c(0x8f)),deadMan=require(a0_0x5f1e4c(0xad)),automation=require('./lib/automation'),GEMINI_MODEL='models/gemini-flash-latest';class CogniLiving extends utils['Adapter']{constructor(_0x3c515f){const _0x435c1d=a0_0x5f1e4c;super({..._0x3c515f,'name':_0x435c1d(0x12c)}),this[_0x435c1d(0x7c)]=[],this[_0x435c1d(0xee)]=[],this[_0x435c1d(0xac)]=[],this[_0x435c1d(0x94)]=[],this['sensorLastValues']={},this[_0x435c1d(0x1a8)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x435c1d(0x17b)]=!![],this[_0x435c1d(0x1bc)]=null,this[_0x435c1d(0xd4)]=null,this[_0x435c1d(0x109)]=![],this['genAI']=null,this[_0x435c1d(0x7f)]=null,this['currentSystemMode']=setup[_0x435c1d(0xe8)][_0x435c1d(0x101)],this[_0x435c1d(0x131)]=![],this['lastAlertState']=![],this[_0x435c1d(0x130)]=null,this[_0x435c1d(0x107)]=null,this[_0x435c1d(0x138)]=null,this[_0x435c1d(0x185)]=null,this['modeResetJob']=null,this[_0x435c1d(0x10c)]=null,this[_0x435c1d(0xba)]=null,this[_0x435c1d(0xd8)]=null,this['trackerHeartbeat']=null,this[_0x435c1d(0xb0)]=null,this[_0x435c1d(0x184)]=null,this[_0x435c1d(0x1a7)]=![],this[_0x435c1d(0x102)]=Date[_0x435c1d(0xc3)](),this['memoryCache']=null,this[_0x435c1d(0x152)]=Date[_0x435c1d(0xc3)](),this['infrasoundLocked']=![],this['pressureBuffer']=[],this[_0x435c1d(0x89)]={'health':!![],'security':!![],'energy':!![],'comfort':!![]},this['on']('ready',this[_0x435c1d(0x16f)]['bind'](this)),this['on'](_0x435c1d(0x1b5),this[_0x435c1d(0x1a4)][_0x435c1d(0x1ad)](this)),this['on'](_0x435c1d(0xf8),this[_0x435c1d(0x1d0)][_0x435c1d(0x1ad)](this)),this['on'](_0x435c1d(0x1aa),this['onMessage'][_0x435c1d(0x1ad)](this));}async[a0_0x5f1e4c(0x16f)](){const _0xeef886=a0_0x5f1e4c;this[_0xeef886(0x198)][_0xeef886(0x146)](_0xeef886(0x19f)+this['version']+_0xeef886(0x97));if(this[_0xeef886(0x19c)][_0xeef886(0x115)]!==undefined)this['activeModules'][_0xeef886(0x122)]=this[_0xeef886(0x19c)][_0xeef886(0x115)];if(this[_0xeef886(0x19c)][_0xeef886(0xd9)]!==undefined)this[_0xeef886(0x89)]['security']=this[_0xeef886(0x19c)][_0xeef886(0xd9)];if(this[_0xeef886(0x19c)][_0xeef886(0xfb)]!==undefined)this[_0xeef886(0x89)]['energy']=this['config'][_0xeef886(0xfb)];if(this[_0xeef886(0x19c)]['moduleComfort']!==undefined)this['activeModules']['comfort']=this[_0xeef886(0x19c)][_0xeef886(0xd1)];if(this[_0xeef886(0x19c)]['modules'])this[_0xeef886(0x89)]={...this[_0xeef886(0x89)],...this[_0xeef886(0x19c)][_0xeef886(0xdc)]};this[_0xeef886(0x134)]();}async[a0_0x5f1e4c(0x134)](){const _0x1e5bac=a0_0x5f1e4c;await setup[_0x1e5bac(0x10a)](this);try{this[_0x1e5bac(0x131)]=await setup['checkLicense'](this[_0x1e5bac(0x19c)][_0x1e5bac(0x133)]);}catch(_0x358a6f){}if(!this[_0x1e5bac(0x19c)][_0x1e5bac(0x11a)]||this['config'][_0x1e5bac(0x11a)]<0.1)this[_0x1e5bac(0x19c)][_0x1e5bac(0x11a)]=0xc;await setup[_0x1e5bac(0xea)](this),await setup[_0x1e5bac(0x6e)](this);try{const _0x743a66=await this[_0x1e5bac(0x13f)](_0x1e5bac(0x1a2)),_0x25feb8=await this[_0x1e5bac(0x13f)](_0x1e5bac(0x112));_0x743a66&&_0x743a66[_0x1e5bac(0x143)]&&_0x25feb8&&_0x25feb8[_0x1e5bac(0x143)]&&(Date[_0x1e5bac(0xc3)]()-_0x743a66['ts']<0x4*0xe10*0x3e8&&(this[_0x1e5bac(0x1dc)]={'times':JSON[_0x1e5bac(0x1c5)](_0x743a66[_0x1e5bac(0x143)]),'sources':JSON[_0x1e5bac(0x1c5)](_0x25feb8[_0x1e5bac(0x143)])}));}catch(_0x5379a1){}if(this['config']['geminiApiKey'])try{this[_0x1e5bac(0x95)]=new GoogleGenerativeAI(this[_0x1e5bac(0x19c)]['geminiApiKey']),this[_0x1e5bac(0x7f)]=this[_0x1e5bac(0x95)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}});}catch(_0x1e0d15){this[_0x1e5bac(0x198)]['error']('Gemini\x20Init\x20Error:\x20'+_0x1e0d15[_0x1e5bac(0x1aa)]);}await setup['createAllObjects'](this),await this[_0x1e5bac(0x11e)](),schedulers[_0x1e5bac(0x1c1)](this),await this[_0x1e5bac(0xb4)]('analysis.visualization.pulse',{'type':_0x1e5bac(0xf7),'common':{'name':'Live\x20Event\x20Pulse','type':_0x1e5bac(0x14c),'role':_0x1e5bac(0x90),'read':!![],'write':![]},'native':{}}),await this[_0x1e5bac(0xb4)](_0x1e5bac(0x14a),{'type':_0x1e5bac(0xf7),'common':{'name':_0x1e5bac(0x17f),'type':_0x1e5bac(0x11c),'role':_0x1e5bac(0x1c8),'read':!![],'write':![],'def':_0x1e5bac(0x12f)},'native':{}}),await this[_0x1e5bac(0xb4)](_0x1e5bac(0x15c),{'type':_0x1e5bac(0xf7),'common':{'name':_0x1e5bac(0x1b4),'type':_0x1e5bac(0x11c),'role':_0x1e5bac(0x1c8),'read':!![],'write':![],'def':_0x1e5bac(0x19b)},'native':{}}),await this['setObjectNotExistsAsync']('analysis.health.geminiNight',{'type':'state','common':{'name':_0x1e5bac(0x162),'type':_0x1e5bac(0x11c),'role':'text','read':!![],'write':![],'def':'Warte\x20auf\x20Analyse...'},'native':{}}),await this[_0x1e5bac(0xb4)](_0x1e5bac(0xc6),{'type':'state','common':{'name':'Gemini\x20Report\x20Day','type':'string','role':_0x1e5bac(0x86),'read':!![],'write':![],'def':_0x1e5bac(0xae)},'native':{}}),await this['setObjectNotExistsAsync'](_0x1e5bac(0x159),{'type':_0x1e5bac(0xf7),'common':{'name':_0x1e5bac(0xb1),'type':'string','role':_0x1e5bac(0x1c8),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x1e5bac(0xfd),{'type':'state','common':{'name':_0x1e5bac(0x168),'type':_0x1e5bac(0x11c),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x1e5bac(0xb4)](_0x1e5bac(0xd0),{'type':_0x1e5bac(0xf7),'common':{'name':_0x1e5bac(0xb8),'type':_0x1e5bac(0x14c),'role':'value','unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x1e5bac(0xb4)](_0x1e5bac(0x1a2),{'type':_0x1e5bac(0xf7),'common':{'name':_0x1e5bac(0xcc),'type':_0x1e5bac(0x11c),'role':'json','read':!![],'write':![]},'native':{}});try{const _0x57c704=await this[_0x1e5bac(0x13f)]('events.history');if(_0x57c704&&_0x57c704[_0x1e5bac(0x143)]){this[_0x1e5bac(0x7c)]=JSON[_0x1e5bac(0x1c5)](_0x57c704[_0x1e5bac(0x143)]);if(this['isProVersion']){const _0xf774e0=await this['getStateAsync']('LTM.rawEventLog');if(_0xf774e0&&_0xf774e0[_0x1e5bac(0x143)])this[_0x1e5bac(0xac)]=JSON['parse'](_0xf774e0[_0x1e5bac(0x143)]);}this['log'][_0x1e5bac(0x146)](_0x1e5bac(0x18f)+this[_0x1e5bac(0x7c)][_0x1e5bac(0x6b)]+_0x1e5bac(0xec));}}catch(_0x1e536a){this[_0x1e5bac(0x7c)]=[];}try{const _0xb2d545=await this['getStateAsync'](_0x1e5bac(0x1da));if(_0xb2d545&&_0xb2d545[_0x1e5bac(0x143)])this[_0x1e5bac(0x94)]=JSON[_0x1e5bac(0x1c5)](_0xb2d545['val']);}catch(_0x115728){this[_0x1e5bac(0x94)]=[];}const _0x1bba7c=this[_0x1e5bac(0x94)][_0x1e5bac(0x6b)]>=(this[_0x1e5bac(0x19c)][_0x1e5bac(0x11f)]||0x7)?'Aktiv\x20('+this['dailyDigests']['length']+_0x1e5bac(0x114):_0x1e5bac(0x7b)+this[_0x1e5bac(0x94)][_0x1e5bac(0x6b)]+'/'+(this['config'][_0x1e5bac(0x11f)]||0x7)+')';await this[_0x1e5bac(0xf5)](_0x1e5bac(0x183),{'val':_0x1bba7c,'ack':!![]}),this[_0x1e5bac(0x12d)](_0x1e5bac(0x79)),this[_0x1e5bac(0x12d)](_0x1e5bac(0x132)),this[_0x1e5bac(0x12d)](_0x1e5bac(0x161));this[_0x1e5bac(0x19c)][_0x1e5bac(0xfa)]&&this['config'][_0x1e5bac(0x1bf)]&&this[_0x1e5bac(0x89)][_0x1e5bac(0x13a)]&&this['subscribeForeignStates'](this[_0x1e5bac(0x19c)][_0x1e5bac(0x1bf)]);const _0x3e144d=this[_0x1e5bac(0x19c)]['devices'];if(_0x3e144d)for(const _0x247a35 of _0x3e144d){await this['subscribeForeignStatesAsync'](_0x247a35['id']);}const _0xe495f9=this[_0x1e5bac(0x19c)][_0x1e5bac(0xd2)];if(_0xe495f9)for(const _0x4e6b53 of _0xe495f9){await this['subscribeForeignStatesAsync'](_0x4e6b53);}const _0x4b9b6b=require(_0x1e5bac(0xaf));if(this[_0x1e5bac(0xd8)])this[_0x1e5bac(0xd8)]['cancel']();this['historyJob']=_0x4b9b6b['scheduleJob'](_0x1e5bac(0x125),()=>{const _0x7fd917=_0x1e5bac;this[_0x7fd917(0x1b2)]();}),setTimeout(()=>this[_0x1e5bac(0x1a1)](),0x1388);if(this['roomIntegratorTimer'])clearInterval(this[_0x1e5bac(0x184)]);this[_0x1e5bac(0x172)](),this[_0x1e5bac(0x184)]=setInterval(async()=>{await this['integrateRoomTime']();},0x3c*0x3e8);if(this[_0x1e5bac(0xb0)])clearInterval(this[_0x1e5bac(0xb0)]);this['healthTrendInterval']=setInterval(()=>{const _0x59bf3f=_0x1e5bac;this[_0x59bf3f(0x131)]&&this[_0x59bf3f(0x89)][_0x59bf3f(0x122)]&&this[_0x59bf3f(0x186)]();},0x4*0x3c*0x3c*0x3e8);if(this[_0x1e5bac(0x130)])clearInterval(this[_0x1e5bac(0x130)]);this[_0x1e5bac(0x89)][_0x1e5bac(0x14e)]&&(this[_0x1e5bac(0x130)]=setInterval(()=>{this['triggerEnergyPrediction']();},0xf*0x3c*0x3e8),setTimeout(()=>this[_0x1e5bac(0x11d)](),0x2710));if(this[_0x1e5bac(0x107)])clearInterval(this[_0x1e5bac(0x107)]);this[_0x1e5bac(0x19c)][_0x1e5bac(0x19d)]&&this[_0x1e5bac(0x89)][_0x1e5bac(0x14e)]&&(this[_0x1e5bac(0x107)]=setInterval(()=>{const _0x1c99b7=_0x1e5bac;automation[_0x1c99b7(0x6c)](this);},0x2*0x3c*0x3e8),setTimeout(()=>automation[_0x1e5bac(0x6c)](this),0x3a98));if(this['presenceCheckTimer'])clearInterval(this[_0x1e5bac(0x138)]);this['config']['presenceDevices']&&this[_0x1e5bac(0x19c)][_0x1e5bac(0xd2)][_0x1e5bac(0x6b)]>0x0&&(this[_0x1e5bac(0x138)]=setInterval(async()=>{const _0x541322=_0x1e5bac;await this[_0x541322(0x19e)]();},0x3c*0x3e8),setTimeout(async()=>await this[_0x1e5bac(0x19e)](),0x1388));const _0x2410bb=path[_0x1e5bac(0x194)](__dirname,'.venv',_0x1e5bac(0x170),_0x1e5bac(0xe1));pythonBridge['startService'](this,_0x2410bb);}[a0_0x5f1e4c(0x1d0)](_0x4bc000){const _0x23e71e=a0_0x5f1e4c;if(this['historyJob'])this[_0x23e71e(0xd8)]['cancel']();this[_0x23e71e(0x1b2)]()['then'](()=>{const _0x59d912=_0x23e71e;if(this[_0x59d912(0x130)])clearInterval(this[_0x59d912(0x130)]);if(this['calendarCheckTimer'])clearInterval(this[_0x59d912(0x107)]);if(this['presenceCheckTimer'])clearInterval(this['presenceCheckTimer']);if(this[_0x59d912(0x184)])clearInterval(this[_0x59d912(0x184)]);recorder[_0x59d912(0xe9)](this),pythonBridge[_0x59d912(0xe6)](this),_0x4bc000();});}async[a0_0x5f1e4c(0x1a1)](){const _0x541482=a0_0x5f1e4c;if(!this[_0x541482(0x7c)]||this[_0x541482(0x7c)]['length']===0x0){this['log'][_0x541482(0x144)](_0x541482(0x16e));return;}this[_0x541482(0x198)]['info'](_0x541482(0x1ab)+this[_0x541482(0x7c)]['length']+_0x541482(0x12e));const _0x3fb6cd=new Date()['setHours'](0x0,0x0,0x0,0x0),_0x1de9f8='analysis.activity.roomHistory';let _0x45464e={'history':{},'date':new Date()[_0x541482(0xc4)]()};const _0x2c45be=_0x541482(0x159),_0x346002=_0x541482(0xfd);let _0x89d90f=new Array(0x30)[_0x541482(0x70)](0x0),_0x1257ed=Array[_0x541482(0xaa)]({'length':0x30},()=>[]);this[_0x541482(0x7c)]['forEach'](_0x5a0858=>{const _0x11fa1c=_0x541482;if(_0x5a0858[_0x11fa1c(0x1c0)]>=_0x3fb6cd){if(recorder[_0x11fa1c(0x1c9)](_0x5a0858[_0x11fa1c(0x1c2)],_0x5a0858[_0x11fa1c(0x90)])){const _0x5bf2e9=new Date(_0x5a0858[_0x11fa1c(0x1c0)]),_0x5d93cf=_0x5bf2e9[_0x11fa1c(0x18c)]()*0x2+(_0x5bf2e9['getMinutes']()>=0x1e?0x1:0x0);if(_0x5d93cf<0x30){_0x89d90f[_0x5d93cf]++;const _0x3992d0=_0x5a0858[_0x11fa1c(0x1b9)]||_0x5a0858['name']||'?';let _0x24055e=_0x1257ed[_0x5d93cf];!_0x24055e[_0x11fa1c(0x77)](_0x3992d0)&&_0x24055e[_0x11fa1c(0x111)](_0x3992d0);}const _0x424993=_0x5bf2e9[_0x11fa1c(0x18c)]();let _0x2d50da=_0x5a0858[_0x11fa1c(0x1b9)]||_0x11fa1c(0x9b);const _0x2e2fa4=(this[_0x11fa1c(0x19c)][_0x11fa1c(0xa3)]||[])['find'](_0x36f339=>_0x36f339[_0x11fa1c(0x1b9)]===_0x2d50da);if(_0x2e2fa4)_0x2d50da=_0x2e2fa4['location'];if(!_0x45464e[_0x11fa1c(0x1c4)][_0x2d50da])_0x45464e['history'][_0x2d50da]=new Array(0x18)[_0x11fa1c(0x70)](0x0);if(_0x45464e[_0x11fa1c(0x1c4)][_0x2d50da][_0x424993]<0x3c)_0x45464e['history'][_0x2d50da][_0x424993]++;}}});const _0x1c1dbc=await this['getStateAsync'](_0x1de9f8);(!_0x1c1dbc||!_0x1c1dbc[_0x541482(0x143)]||_0x1c1dbc[_0x541482(0x143)]==='{}'||_0x1c1dbc['val']['includes'](_0x541482(0x120)))&&await this[_0x541482(0xf5)](_0x1de9f8,{'val':JSON[_0x541482(0x16c)](_0x45464e),'ack':!![]}),await this[_0x541482(0xf5)](_0x2c45be,{'val':JSON[_0x541482(0x16c)](_0x89d90f),'ack':!![]}),await this[_0x541482(0xf5)](_0x346002,{'val':JSON['stringify'](_0x1257ed),'ack':!![]}),this[_0x541482(0x198)]['info'](_0x541482(0xcf));}async['saveDailyHistory'](){const _0x182667=a0_0x5f1e4c;if(!this[_0x182667(0x89)][_0x182667(0x122)])return;const _0x508db0=new Date()['toISOString']()[_0x182667(0x13b)]('T')[0x0];this[_0x182667(0x198)]['debug']('üíæ\x20Saving\x20Daily\x20History\x20for\x20'+_0x508db0+'...');try{const [_0x36a6fc,_0x11d312,_0x592c3a,_0x447b8d,_0x599c32,_0x4b5d81]=await Promise[_0x182667(0x136)]([this['getStateAsync'](_0x182667(0x15c)),this[_0x182667(0x13f)](_0x182667(0x137)),this['getStateAsync'](_0x182667(0xc6)),this['getStateAsync'](_0x182667(0x15e)),this[_0x182667(0x13f)]('analysis.health.todayVector'),this['getStateAsync'](_0x182667(0xd0))]),_0x3909e0=this['eventHistory'][_0x182667(0x8c)](_0x4c163b=>_0x4c163b[_0x182667(0x1c0)]>=new Date()['setHours'](0x0,0x0,0x0,0x0)&&(_0x4c163b[_0x182667(0x176)][_0x182667(0x167)]()[_0x182667(0x77)](_0x182667(0x1d6))||_0x4c163b[_0x182667(0x176)][_0x182667(0x167)]()['includes']('terrasse'))&&(_0x4c163b[_0x182667(0x90)]===!![]||_0x4c163b[_0x182667(0x90)]===_0x182667(0x84)))[_0x182667(0x6b)];let _0x57de0f=0x55;if(_0x4b5d81&&_0x4b5d81[_0x182667(0x143)]!==undefined)_0x57de0f=Math['min'](0x64,Math[_0x182667(0x92)](0x14,Math[_0x182667(0x141)](0x50+Number(_0x4b5d81[_0x182667(0x143)])*0x5)));const _0x422011={'date':_0x508db0,'timestamp':Date['now'](),'roomHistory':_0x36a6fc?.[_0x182667(0x143)]?JSON[_0x182667(0x1c5)](_0x36a6fc[_0x182667(0x143)]):{},'geminiNight':_0x11d312?.['val']||'Keine\x20Daten','geminiDay':_0x592c3a?.['val']||_0x182667(0xe2),'anomalyScore':_0x447b8d?.[_0x182667(0x143)]||0.1,'todayVector':_0x599c32?.[_0x182667(0x143)]?JSON['parse'](_0x599c32['val']):new Array(0x30)['fill'](0x0),'batteryLevel':_0x57de0f,'freshAirCount':_0x3909e0,'eventHistory':this['eventHistory']},_0x33513a=utils[_0x182667(0xf9)](),_0x303967=path[_0x182667(0x194)](_0x33513a,_0x182667(0x12c),'history');if(!fs['existsSync'](_0x303967))fs[_0x182667(0x17d)](_0x303967,{'recursive':!![]});const _0x136bc6=path[_0x182667(0x194)](_0x303967,_0x508db0+'.json');fs[_0x182667(0x1ce)](_0x136bc6,JSON[_0x182667(0x16c)](_0x422011)),this[_0x182667(0x198)]['info'](_0x182667(0x10d)+_0x136bc6);}catch(_0x497a48){this[_0x182667(0x198)]['error'](_0x182667(0xc1)+_0x497a48['message']);}}async[a0_0x5f1e4c(0x172)](){const _0x1888f1=a0_0x5f1e4c;if(!this[_0x1888f1(0x17b)])return;try{let _0x7ee6bb=null;try{const _0x1558d3=await this[_0x1888f1(0x13f)](_0x1888f1(0xde)),_0x25c966=await this[_0x1888f1(0x13f)](_0x1888f1(0x188));if(_0x1558d3&&_0x1558d3[_0x1888f1(0x143)]&&_0x25c966&&_0x25c966[_0x1888f1(0x143)]&&_0x25c966[_0x1888f1(0x143)]>0.3){if(_0x1558d3['val']!==_0x1888f1(0x9b)&&_0x1558d3[_0x1888f1(0x143)]!==_0x1888f1(0x18e))_0x7ee6bb=_0x1558d3['val'];}}catch(_0x57aafc){}if(!_0x7ee6bb){const _0x275061=this[_0x1888f1(0x19c)][_0x1888f1(0xa3)]||[];for(const _0x21fcd8 of _0x275061){if(_0x21fcd8[_0x1888f1(0x1c2)]===_0x1888f1(0x74)&&_0x21fcd8[_0x1888f1(0x1b9)])try{const _0x67d392=await this['getForeignStateAsync'](_0x21fcd8['id']);if(_0x67d392&&(_0x67d392[_0x1888f1(0x143)]===!![]||_0x67d392[_0x1888f1(0x143)]==='on'||_0x67d392['val']===0x1)){_0x7ee6bb=_0x21fcd8[_0x1888f1(0x1b9)];break;}}catch(_0x442097){}}}if(!_0x7ee6bb)return;const _0x1a0b4b=this[_0x1888f1(0x19c)][_0x1888f1(0xa3)]||[];let _0x12f182=_0x7ee6bb;const _0x36ee75=_0x1a0b4b[_0x1888f1(0xfc)](_0x3ebdd8=>_0x3ebdd8[_0x1888f1(0x1b9)]&&_0x3ebdd8['location']['toLowerCase']()===_0x7ee6bb[_0x1888f1(0x167)]());if(_0x36ee75)_0x12f182=_0x36ee75[_0x1888f1(0x1b9)];const _0x1feea5=_0x1888f1(0x15c),_0x8cd9=await this[_0x1888f1(0x13f)](_0x1feea5),_0x561125=new Date()[_0x1888f1(0xc4)]();let _0x43092e={'history':{},'date':_0x561125};if(_0x8cd9&&_0x8cd9[_0x1888f1(0x143)])try{_0x43092e=JSON[_0x1888f1(0x1c5)](_0x8cd9['val']);}catch(_0x2d621a){}_0x43092e['date']!==_0x561125&&(_0x43092e[_0x1888f1(0x1c4)]={},_0x43092e[_0x1888f1(0x71)]=_0x561125);if(!_0x43092e[_0x1888f1(0x1c4)][_0x12f182])_0x43092e[_0x1888f1(0x1c4)][_0x12f182]=new Array(0x18)[_0x1888f1(0x70)](0x0);const _0x1999d8=new Date()[_0x1888f1(0x18c)]();if(_0x43092e[_0x1888f1(0x1c4)][_0x12f182][_0x1999d8]<0x3c)_0x43092e['history'][_0x12f182][_0x1999d8]++;await this[_0x1888f1(0xf5)](_0x1feea5,{'val':JSON[_0x1888f1(0x16c)](_0x43092e),'ack':!![]});}catch(_0x5d61c6){this[_0x1888f1(0x198)][_0x1888f1(0x144)](_0x1888f1(0x1a9)+_0x5d61c6[_0x1888f1(0x1aa)]);}}async[a0_0x5f1e4c(0x1d8)](_0x3e6837){const _0x2e1542=a0_0x5f1e4c;if(typeof _0x3e6837===_0x2e1542(0x178)&&_0x3e6837[_0x2e1542(0x1aa)]){if(_0x3e6837[_0x2e1542(0x154)]===_0x2e1542(0x17c)){const _0x81ef59=_0x3e6837[_0x2e1542(0x1aa)][_0x2e1542(0x71)],_0x1c28e2=utils[_0x2e1542(0xf9)](),_0x3e46e1=path[_0x2e1542(0x194)](_0x1c28e2,_0x2e1542(0x12c),_0x2e1542(0x1c4),_0x81ef59+_0x2e1542(0xf6));if(fs['existsSync'](_0x3e46e1))try{const _0x50c6e0=JSON['parse'](fs['readFileSync'](_0x3e46e1,'utf8'));this[_0x2e1542(0xbc)](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':!![],'data':_0x50c6e0},_0x3e6837[_0x2e1542(0x18b)]);}catch(_0x4454b6){this[_0x2e1542(0xbc)](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':![],'error':_0x2e1542(0x124)},_0x3e6837[_0x2e1542(0x18b)]);}else this['sendTo'](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':![],'error':'No\x20data'},_0x3e6837[_0x2e1542(0x18b)]);}else{if(_0x3e6837[_0x2e1542(0x154)]===_0x2e1542(0x1b1)){const _0x2f61e3=this[_0x2e1542(0x94)][_0x2e1542(0x6b)];let _0x5db453=new Array(0x30)[_0x2e1542(0x70)](0x0),_0x16a492=Array[_0x2e1542(0xaa)]({'length':0x30},()=>[]);try{const _0x3819d3=await this[_0x2e1542(0x13f)](_0x2e1542(0x159));if(_0x3819d3&&_0x3819d3['val'])_0x5db453=JSON['parse'](_0x3819d3[_0x2e1542(0x143)]);const _0x40b806=await this[_0x2e1542(0x13f)](_0x2e1542(0xfd));if(_0x40b806&&_0x40b806[_0x2e1542(0x143)])_0x16a492=JSON[_0x2e1542(0x1c5)](_0x40b806[_0x2e1542(0x143)]);}catch(_0x443e78){}let _0x257a34=new Array(0x30)[_0x2e1542(0x70)](0x0);try{const _0x40d46c=new Date();_0x40d46c[_0x2e1542(0x10e)](_0x40d46c[_0x2e1542(0x87)]()-0x1);const _0x4a4040=_0x40d46c['toISOString']()['split']('T')[0x0],_0x566875=utils[_0x2e1542(0xf9)](),_0x327ba9=path[_0x2e1542(0x194)](_0x566875,_0x2e1542(0x12c),_0x2e1542(0x1c4),_0x4a4040+_0x2e1542(0xf6));if(fs[_0x2e1542(0x103)](_0x327ba9)){const _0x48e88e=JSON[_0x2e1542(0x1c5)](fs['readFileSync'](_0x327ba9,'utf8'));if(_0x48e88e&&_0x48e88e[_0x2e1542(0x72)])_0x257a34=_0x48e88e['todayVector'];}}catch(_0x435190){}let _0x566f36={'today':{},'yesterday':{}};try{const _0x3ea3c7=await this['getStateAsync'](_0x2e1542(0x14a));if(_0x3ea3c7&&_0x3ea3c7[_0x2e1542(0x143)])_0x566f36=JSON[_0x2e1542(0x1c5)](_0x3ea3c7[_0x2e1542(0x143)]);}catch(_0x1bc5bb){}let _0x10e1ee=null;try{const _0x4e89f8=await this['getStateAsync'](_0x2e1542(0xd0));if(_0x4e89f8)_0x10e1ee=_0x4e89f8[_0x2e1542(0x143)];}catch(_0x555c27){}if(_0x10e1ee===undefined||_0x10e1ee===null){const _0x1aa98b=_0x5db453[_0x2e1542(0xc0)]((_0x17c773,_0x1c8b72)=>_0x17c773+_0x1c8b72,0x0),_0x2b5e87=Math[_0x2e1542(0x175)](0x2,Math[_0x2e1542(0x92)](-0x2,(0x64-_0x1aa98b)/0x32));_0x10e1ee=_0x2b5e87;}let _0x421773=![],_0x26937a='',_0x1f5404='',_0x1fe5b2='';try{const _0x4cf0ba=await this['getStateAsync'](_0x2e1542(0x187));if(_0x4cf0ba&&_0x4cf0ba[_0x2e1542(0x143)]){_0x421773=!![];const _0x4e1b15=await this[_0x2e1542(0x13f)](_0x2e1542(0x189));_0x26937a=_0x4e1b15?_0x4e1b15['val']:'';const _0x105341=await this[_0x2e1542(0x13f)](_0x2e1542(0x1cb));_0x1f5404=_0x105341?_0x105341[_0x2e1542(0x143)]:'';const _0x4f6256=await this[_0x2e1542(0x13f)](_0x2e1542(0x82));_0x1fe5b2=_0x4f6256?_0x4f6256['val']:'';}}catch(_0x288a80){}const _0x297d51=await this['checkSolarCondition'](),_0x8a4b4d=(this[_0x2e1542(0x19c)][_0x2e1542(0xa3)]||[])[_0x2e1542(0xa2)](_0x3707d6=>_0x3707d6[_0x2e1542(0x192)]),_0x1bf354=_0x297d51&&_0x8a4b4d;let _0x48ff5e='';try{const _0x639901=await this['getStateAsync']('system.presenceWho');if(_0x639901&&_0x639901[_0x2e1542(0x143)])_0x48ff5e=_0x639901['val'];}catch(_0x561e29){}this[_0x2e1542(0xbc)](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':!![],'eventHistory':this[_0x2e1542(0x7c)]['slice'](0x0,0x7d0),'stats':{'digestCount':_0x2f61e3,'isPresent':this[_0x2e1542(0x17b)],'hourlyActivity':_0x5db453,'hourlyDetails':_0x16a492,'yesterdayActivity':_0x257a34,'solarActive':_0x1bf354,'presenceWho':_0x48ff5e,'roomStats':_0x566f36,'activityTrend':_0x10e1ee,'modules':this['activeModules']},'automation':{'detected':_0x421773,'description':_0x26937a,'targetId':_0x1f5404,'targetValue':_0x1fe5b2}},_0x3e6837[_0x2e1542(0x18b)]);}else{if(_0x3e6837[_0x2e1542(0x154)]===_0x2e1542(0xa5))try{const _0x4d77a0=await automation[_0x2e1542(0xcb)](this);this[_0x2e1542(0xbc)](_0x3e6837['from'],_0x3e6837[_0x2e1542(0x154)],{'success':!![],'results':_0x4d77a0},_0x3e6837['callback']);}catch(_0x78c590){this['sendTo'](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':![],'error':_0x78c590[_0x2e1542(0x1aa)]},_0x3e6837[_0x2e1542(0x18b)]);}else{if(_0x3e6837['command']===_0x2e1542(0xb9))try{const _0x3ab85c=await scanner[_0x2e1542(0xf2)](this,_0x3e6837[_0x2e1542(0x1aa)]||{});this['sendTo'](_0x3e6837['from'],_0x3e6837['command'],{'success':!![],'devices':_0x3ab85c},_0x3e6837[_0x2e1542(0x18b)]);}catch(_0x10a3b6){}else{if(_0x3e6837[_0x2e1542(0x154)]===_0x2e1542(0xff)){const _0x28bd29=await this[_0x2e1542(0x6d)](_0x2e1542(0x1ac),_0x2e1542(0x165)),_0x27ceca=[];if(_0x28bd29)for(const _0xb83541 in _0x28bd29){let _0x544b4a=_0x28bd29[_0xb83541][_0x2e1542(0x1a6)][_0x2e1542(0x176)];if(_0x544b4a&&typeof _0x544b4a==='object')_0x544b4a=_0x544b4a['de']||_0x544b4a['en']||Object['values'](_0x544b4a)[0x0]||JSON[_0x2e1542(0x16c)](_0x544b4a);_0x27ceca[_0x2e1542(0x111)]({'id':_0xb83541,'name':String(_0x544b4a||_0xb83541)});}const _0x28ba9f=await this['getForeignObjectsAsync'](_0x2e1542(0x197),_0x2e1542(0x165)),_0xaa40ec=[];if(_0x28ba9f)for(const _0x707540 in _0x28ba9f){let _0x4a1992=_0x28ba9f[_0x707540][_0x2e1542(0x1a6)]['name'];if(_0x4a1992&&typeof _0x4a1992===_0x2e1542(0x178))_0x4a1992=_0x4a1992['de']||_0x4a1992['en']||Object[_0x2e1542(0x110)](_0x4a1992)[0x0]||JSON[_0x2e1542(0x16c)](_0x4a1992);_0xaa40ec['push'](String(_0x4a1992||_0x707540[_0x2e1542(0x13b)]('.')['pop']()));}this['sendTo'](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':!![],'enums':_0x27ceca,'rooms':_0xaa40ec},_0x3e6837['callback']);}else{if(_0x3e6837[_0x2e1542(0x154)]===_0x2e1542(0x13c))try{const _0x10c962=await this[_0x2e1542(0x121)]('system',_0x2e1542(0xa6),{'startkey':_0x2e1542(0x171),'endkey':_0x2e1542(0x85)}),_0x2322c1=new Set();if(_0x10c962&&_0x10c962[_0x2e1542(0xcd)])for(const _0x3ede96 of _0x10c962[_0x2e1542(0xcd)]){const _0xb30285=_0x3ede96['id'][_0x2e1542(0x18d)](_0x2e1542(0x126),''),_0xe46962=await this[_0x2e1542(0x9a)](_0xb30285+_0x2e1542(0x105));let _0x1de474=![];if(_0xe46962&&_0xe46962['val']){const _0x28501c=typeof _0xe46962[_0x2e1542(0x143)]==='string'?JSON[_0x2e1542(0x1c5)](_0xe46962[_0x2e1542(0x143)]):_0xe46962[_0x2e1542(0x143)];Array[_0x2e1542(0xc8)](_0x28501c)&&_0x28501c[_0x2e1542(0x14b)](_0xc29571=>{const _0x5853bf=_0x2e1542;_0xc29571[_0x5853bf(0xb2)]&&(_0x2322c1[_0x5853bf(0x119)](_0xc29571['calendarName']),_0x1de474=!![]);});}!_0x1de474&&_0x2322c1['add'](_0xb30285);}const _0x1b4619=Array[_0x2e1542(0xaa)](_0x2322c1);if(_0x1b4619['length']===0x0)_0x1b4619[_0x2e1542(0x111)](_0x2e1542(0x8e));this[_0x2e1542(0xbc)](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':!![],'names':_0x1b4619},_0x3e6837[_0x2e1542(0x18b)]);}catch(_0x4ef786){this[_0x2e1542(0xbc)](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':![],'error':_0x2e1542(0x7a)+_0x4ef786[_0x2e1542(0x1aa)]},_0x3e6837['callback']);}else{if(_0x3e6837['command']==='refreshCalendar')try{await automation[_0x2e1542(0x8a)](this),this['sendTo'](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':!![]},_0x3e6837['callback']);}catch(_0x6a5d75){this['log'][_0x2e1542(0x144)](_0x2e1542(0x1d2)+_0x6a5d75[_0x2e1542(0x1aa)]),this[_0x2e1542(0xbc)](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':![],'error':_0x6a5d75[_0x2e1542(0x1aa)]},_0x3e6837[_0x2e1542(0x18b)]);}else{if(_0x3e6837[_0x2e1542(0x154)]===_0x2e1542(0x19a))try{const _0x5add4f=_0x3e6837['message'][_0x2e1542(0x154)],_0x7407a=_0x3e6837['message'];this[_0x2e1542(0x198)][_0x2e1542(0xa0)](_0x2e1542(0x8b)+_0x5add4f),pythonBridge[_0x2e1542(0x1d4)](this,_0x5add4f,_0x7407a,_0x218873=>{const _0x978b9e=_0x2e1542;this[_0x978b9e(0xbc)](_0x3e6837[_0x978b9e(0xaa)],_0x3e6837['command'],_0x218873,_0x3e6837[_0x978b9e(0x18b)]);});}catch(_0x4b155e){this['log'][_0x2e1542(0x144)]('pythonBridge\x20command\x20failed:\x20'+_0x4b155e[_0x2e1542(0x1aa)]),this[_0x2e1542(0xbc)](_0x3e6837['from'],_0x3e6837[_0x2e1542(0x154)],{'type':_0x2e1542(0x9e),'payload':_0x4b155e[_0x2e1542(0x1aa)]},_0x3e6837[_0x2e1542(0x18b)]);}else{if(_0x3e6837[_0x2e1542(0x154)]===_0x2e1542(0x1db))try{const _0x2f3163=_0x3e6837[_0x2e1542(0x1aa)]?_0x3e6837['message'][_0x2e1542(0x1be)]:'';if(!_0x2f3163)throw new Error(_0x2e1542(0x156));const _0x305be4=new GoogleGenerativeAI(_0x2f3163),_0xd9c203=_0x305be4[_0x2e1542(0xb5)]({'model':GEMINI_MODEL}),_0x3979c7=await _0xd9c203[_0x2e1542(0x193)]('Say\x20Hello'),_0x75928c=await _0x3979c7[_0x2e1542(0x1a5)],_0x40943a=_0x75928c[_0x2e1542(0x86)]();this['sendTo'](_0x3e6837['from'],_0x3e6837['command'],{'success':!![],'message':_0x2e1542(0xd6)+_0x40943a[_0x2e1542(0xeb)](0x0,0x14)+_0x2e1542(0xb7)},_0x3e6837[_0x2e1542(0x18b)]);}catch(_0x327af4){this[_0x2e1542(0xbc)](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837['command'],{'success':![],'message':_0x327af4['message']},_0x3e6837[_0x2e1542(0x18b)]);}else{if(_0x3e6837[_0x2e1542(0x154)]===_0x2e1542(0xb6))try{const _0x1e94db=await this[_0x2e1542(0x98)](),_0x1b9742=await this[_0x2e1542(0x121)](_0x2e1542(0x10b),'instance',{'startkey':_0x2e1542(0x171),'endkey':'system.adapter.ical.È¶ô'}),_0x41a2a8=_0x1b9742&&_0x1b9742[_0x2e1542(0xcd)]?_0x1b9742[_0x2e1542(0xcd)][_0x2e1542(0x6b)]:0x0;this[_0x2e1542(0xbc)](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':!![],'weather':_0x2e1542(0x78)+_0x1e94db+_0x2e1542(0x113)+(this[_0x2e1542(0x9c)][this['config'][_0x2e1542(0xf3)]]||'?')+'¬∞C','calendar':_0x41a2a8+_0x2e1542(0x16a)},_0x3e6837[_0x2e1542(0x18b)]);}catch(_0xe867de){this[_0x2e1542(0xbc)](_0x3e6837[_0x2e1542(0xaa)],_0x3e6837[_0x2e1542(0x154)],{'success':![]},_0x3e6837[_0x2e1542(0x18b)]);}}}}}}}}}}}}[a0_0x5f1e4c(0x186)](){const _0x327e04=a0_0x5f1e4c;if(!this[_0x327e04(0x89)][_0x327e04(0x122)])return;this[_0x327e04(0x198)][_0x327e04(0xa0)]('üêç\x20Triggering\x20Python\x20Health\x20Check\x20(Activity\x20Trend)...');try{const _0x4dfe15=this['rawEventLog']||[];pythonBridge['send'](this,_0x327e04(0x1af),{'events':_0x4dfe15});}catch(_0x3edb64){this[_0x327e04(0x198)][_0x327e04(0x144)](_0x327e04(0xc5));}}async[a0_0x5f1e4c(0x1a4)](_0x1d9240,_0x6db947){const _0x4aa3f8=a0_0x5f1e4c;if(!_0x6db947||this[_0x4aa3f8(0x1a7)])return;if(_0x1d9240[_0x4aa3f8(0x77)](_0x4aa3f8(0x181))&&_0x1d9240['endsWith'](_0x4aa3f8(0x1cd))&&_0x6db947['val'])return;if(this[_0x4aa3f8(0x19c)][_0x4aa3f8(0xfa)]&&_0x1d9240===this[_0x4aa3f8(0x19c)][_0x4aa3f8(0x1bf)]&&this[_0x4aa3f8(0x89)]['security']){this['handleInfrasound'](_0x6db947[_0x4aa3f8(0x143)]);return;}if(_0x6db947['ack']&&_0x1d9240[_0x4aa3f8(0xdd)](_0x4aa3f8(0x157)))return;if(_0x1d9240===this[_0x4aa3f8(0x16b)]+_0x4aa3f8(0x127)){if(_0x6db947['val']&&Object[_0x4aa3f8(0x110)](setup[_0x4aa3f8(0xe8)])['includes'](_0x6db947[_0x4aa3f8(0x143)])){this['currentSystemMode']=_0x6db947[_0x4aa3f8(0x143)];if(_0x6db947['val']===setup[_0x4aa3f8(0xe8)][_0x4aa3f8(0x128)])await recorder[_0x4aa3f8(0xce)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x4aa3f8(0x131)]){let _0x33d9d7=![],_0x354387=0x0,_0x12f010=_0x4aa3f8(0xc7);if(this[_0x4aa3f8(0x1cc)]===_0x4aa3f8(0x76))_0x33d9d7=!![],_0x354387=0x168,_0x12f010=_0x4aa3f8(0x174);else this[_0x4aa3f8(0x1cc)]===_0x4aa3f8(0x1b7)&&(_0x33d9d7=!![],_0x354387=0x5a0,_0x12f010=_0x4aa3f8(0x15a));pythonBridge['send'](this,_0x4aa3f8(0x118),{'active':_0x33d9d7,'duration':_0x354387,'label':_0x12f010}),await this['setStateAsync'](_0x4aa3f8(0x1b8),{'val':JSON[_0x4aa3f8(0x16c)]({'active':_0x33d9d7,'label':_0x12f010,'timestamp':Date[_0x4aa3f8(0xc3)]()}),'ack':!![]});}}if(!_0x6db947[_0x4aa3f8(0xa9)])this[_0x4aa3f8(0xbb)](_0x1d9240,{'val':this[_0x4aa3f8(0x1cc)],'ack':!![]});return;}if(_0x1d9240[_0x4aa3f8(0xdd)]('analysis.energy.warmupSources')&&_0x6db947['ack'])this[_0x4aa3f8(0x108)](_0x6db947[_0x4aa3f8(0x143)]);if(_0x1d9240['endsWith'](_0x4aa3f8(0x1a2))&&_0x6db947[_0x4aa3f8(0xa9)]&&this[_0x4aa3f8(0x89)][_0x4aa3f8(0x14e)])automation['checkCalendarTriggers'](this);if(!_0x6db947['ack']){if(_0x1d9240[_0x4aa3f8(0x77)](_0x4aa3f8(0x79))&&_0x6db947['val']){this[_0x4aa3f8(0xbb)](_0x1d9240,{'val':![],'ack':!![]}),aiAgent[_0x4aa3f8(0x6a)](this);return;}if(_0x1d9240[_0x4aa3f8(0x77)]('triggerDailyDigest')&&_0x6db947[_0x4aa3f8(0x143)]){this[_0x4aa3f8(0xbb)](_0x1d9240,{'val':![],'ack':!![]});if(this[_0x4aa3f8(0x131)])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x1d9240[_0x4aa3f8(0x77)](_0x4aa3f8(0x163))&&_0x6db947['val']){this[_0x4aa3f8(0xbb)](_0x1d9240,{'val':![],'ack':!![]}),aiAgent[_0x4aa3f8(0x148)](this);return;}if(_0x1d9240[_0x4aa3f8(0x77)](_0x4aa3f8(0x135))&&_0x6db947[_0x4aa3f8(0x143)]){this[_0x4aa3f8(0xbb)](_0x1d9240,{'val':![],'ack':!![]}),aiAgent[_0x4aa3f8(0x199)](this);return;}if(_0x1d9240['includes'](_0x4aa3f8(0xa8))&&_0x6db947[_0x4aa3f8(0x143)]){this[_0x4aa3f8(0xbb)](_0x1d9240,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x5263db=await this[_0x4aa3f8(0x13f)](_0x4aa3f8(0xe5));if(_0x5263db&&_0x5263db[_0x4aa3f8(0x143)]){const _0x165d94=JSON[_0x4aa3f8(0x1c5)](_0x5263db[_0x4aa3f8(0x143)]);this[_0x4aa3f8(0xf5)](_0x4aa3f8(0x69),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x4aa3f8(0x1d4)](this,_0x4aa3f8(0x180),{'sequences':_0x165d94});}}catch(_0x30eb00){}return;}if(_0x1d9240[_0x4aa3f8(0x77)](_0x4aa3f8(0x161))&&_0x6db947[_0x4aa3f8(0x143)]){this['setState'](_0x1d9240,{'val':![],'ack':!![]});try{aiAgent['generateHealthReport'](this,_0x4aa3f8(0x1bb)),setTimeout(()=>aiAgent[_0x4aa3f8(0x1dd)](this,_0x4aa3f8(0x106)),0x2ee0);if(this[_0x4aa3f8(0x131)]){this['runPythonHealthCheck']();const _0x76d36d=await this[_0x4aa3f8(0x13f)](_0x4aa3f8(0x1da));if(_0x76d36d&&_0x76d36d[_0x4aa3f8(0x143)])pythonBridge[_0x4aa3f8(0x1d4)](this,_0x4aa3f8(0x81),{'digests':JSON[_0x4aa3f8(0x1c5)](_0x76d36d[_0x4aa3f8(0x143)])});}}catch(_0x44e2fb){this[_0x4aa3f8(0x198)][_0x4aa3f8(0x144)](_0x4aa3f8(0xbe)+_0x44e2fb[_0x4aa3f8(0x1aa)]);}return;}if(_0x1d9240[_0x4aa3f8(0x77)](_0x4aa3f8(0x140))&&_0x6db947[_0x4aa3f8(0x143)]){this[_0x4aa3f8(0xbb)](_0x1d9240,{'val':![],'ack':!![]}),await this[_0x4aa3f8(0x11d)]();return;}if(_0x1d9240['includes'](_0x4aa3f8(0x99))&&_0x6db947['val']){this[_0x4aa3f8(0xbb)](_0x1d9240,{'val':![],'ack':!![]});if(this[_0x4aa3f8(0x131)])try{const _0x739bae=await this['getStateAsync']('LTM.rawEventLog');if(_0x739bae&&_0x739bae[_0x4aa3f8(0x143)]){const _0x327433={};if(this[_0x4aa3f8(0x19c)][_0x4aa3f8(0xa3)])this[_0x4aa3f8(0x19c)][_0x4aa3f8(0xa3)]['forEach'](_0x3fcc4a=>{const _0x104945=_0x4aa3f8;if(_0x3fcc4a['id']&&_0x3fcc4a[_0x104945(0x1c2)])_0x327433[_0x3fcc4a['id']]=_0x3fcc4a['type'];});pythonBridge[_0x4aa3f8(0x1d4)](this,_0x4aa3f8(0xbf),{'events':JSON[_0x4aa3f8(0x1c5)](_0x739bae['val']),'deviceMap':_0x327433});}}catch(_0x3c046e){}return;}if(_0x1d9240[_0x4aa3f8(0x77)](_0x4aa3f8(0x91))&&_0x6db947['val']){this['setState'](_0x1d9240,{'val':![],'ack':!![]}),topology[_0x4aa3f8(0x166)](this);if(this['isProVersion'])try{const _0x34170b=await this[_0x4aa3f8(0x13f)]('LTM.trainingData.sequences');if(_0x34170b&&_0x34170b[_0x4aa3f8(0x143)])pythonBridge['send'](this,_0x4aa3f8(0x173),{'sequences':JSON['parse'](_0x34170b['val'])});}catch(_0x8ae247){}return;}}const _0x55f40b=(this['config'][_0x4aa3f8(0xa3)]||[])[_0x4aa3f8(0xfc)](_0x4e7f62=>_0x4e7f62['id']===_0x1d9240);if(_0x55f40b){const _0x38d2df=await recorder[_0x4aa3f8(0x1a0)](this,_0x1d9240,_0x6db947,_0x55f40b);_0x38d2df&&this[_0x4aa3f8(0xbb)](_0x4aa3f8(0x96),{'val':Date[_0x4aa3f8(0xc3)](),'ack':!![]});_0x38d2df&&_0x38d2df[_0x4aa3f8(0x1c2)]===_0x4aa3f8(0x74)&&_0x38d2df[_0x4aa3f8(0x1b9)]&&this[_0x4aa3f8(0x131)]&&deadMan[_0x4aa3f8(0x196)](this,_0x38d2df[_0x4aa3f8(0x1b9)]);_0x6db947[_0x4aa3f8(0x143)]&&(_0x6db947[_0x4aa3f8(0x143)]===!![]||_0x6db947['val']===0x1||String(_0x6db947['val'])[_0x4aa3f8(0x167)]()===_0x4aa3f8(0x84))&&(_0x55f40b[_0x4aa3f8(0x1c2)]&&(_0x55f40b[_0x4aa3f8(0x1c2)]['includes'](_0x4aa3f8(0xb3))||_0x55f40b[_0x4aa3f8(0x1c2)][_0x4aa3f8(0x77)](_0x4aa3f8(0x129)))&&this[_0x4aa3f8(0x1d3)](_0x55f40b));if(_0x55f40b[_0x4aa3f8(0x1c2)]===_0x4aa3f8(0x1b6)||_0x55f40b['type']===_0x4aa3f8(0x190)){if(this[_0x4aa3f8(0x89)][_0x4aa3f8(0x14e)])automation[_0x4aa3f8(0xe7)](this);}}}async[a0_0x5f1e4c(0x108)](_0x23aae5){const _0x5c1fc1=a0_0x5f1e4c;if(!this['memoryCache']||Date[_0x5c1fc1(0xc3)]()-this[_0x5c1fc1(0x152)]>0x493e0)return;try{const _0x4a4e38=JSON[_0x5c1fc1(0x1c5)](_0x23aae5),_0xa07176=this['memoryCache'][_0x5c1fc1(0x88)];let _0x11d29d=![];for(const _0x288725 in _0xa07176){if(_0xa07176[_0x288725][_0x5c1fc1(0x77)]('AI')&&_0x4a4e38[_0x288725]&&!_0x4a4e38[_0x288725]['includes']('AI')){_0x11d29d=!![];break;}}_0x11d29d&&(await this[_0x5c1fc1(0xf5)]('analysis.energy.warmupTimes',{'val':JSON['stringify'](this['memoryCache']['times']),'ack':!![]}),await this[_0x5c1fc1(0xf5)](_0x5c1fc1(0x112),{'val':JSON[_0x5c1fc1(0x16c)](this[_0x5c1fc1(0x1dc)][_0x5c1fc1(0x88)]),'ack':!![]}));}catch(_0x20bf28){}}async[a0_0x5f1e4c(0x11e)](){const _0x69e968=a0_0x5f1e4c;try{const _0x435524=await this[_0x69e968(0x13f)](setup[_0x69e968(0xfe)]);if(_0x435524&&_0x435524['val'])this[_0x69e968(0x1cc)]=_0x435524[_0x69e968(0x143)];}catch(_0x1d9b7f){this[_0x69e968(0x1cc)]=setup[_0x69e968(0xe8)][_0x69e968(0x101)];}}async[a0_0x5f1e4c(0x19e)](){const _0x4d302f=a0_0x5f1e4c,_0x3b7483=this['config'][_0x4d302f(0xd2)]||[];if(_0x3b7483[_0x4d302f(0x6b)]===0x0)return![];const _0x4d239a=[],_0x409e32=Date['now'](),_0x3885cf=0x5*0x3c*0x3e8;for(const _0x17449b of _0x3b7483){try{let _0x4ee9b4=![];try{const _0x4e077a=await this[_0x4d302f(0x9a)](_0x17449b+'.isOnline');if(_0x4e077a&&_0x4e077a[_0x4d302f(0x143)]===!![])_0x4ee9b4=!![];}catch(_0x5dff51){}if(!_0x4ee9b4)try{const _0x4ed445=await this[_0x4d302f(0x9a)](_0x17449b+_0x4d302f(0xf0));if(_0x4ed445&&_0x4ed445['ts']){const _0x19e680=_0x409e32-_0x4ed445['ts'];if(_0x19e680<_0x3885cf)_0x4ee9b4=!![];}}catch(_0x2aea2c){}if(!_0x4ee9b4)try{const _0x560568=await this['getForeignStateAsync'](_0x17449b+_0x4d302f(0x9f));if(_0x560568&&typeof _0x560568[_0x4d302f(0x143)]===_0x4d302f(0x14c)&&_0x560568[_0x4d302f(0x143)]>0x0)_0x4ee9b4=!![];}catch(_0x2d4b48){}if(!_0x4ee9b4)try{const _0x52c666=await this['getForeignStateAsync'](_0x17449b);if(_0x52c666){const _0x312346=_0x409e32-(_0x52c666['ts']||0x0);_0x312346<_0x3885cf&&(_0x52c666[_0x4d302f(0x143)]===!![]||_0x52c666[_0x4d302f(0x143)]===_0x4d302f(0x18a)||_0x52c666[_0x4d302f(0x143)]===0x1)&&(_0x4ee9b4=!![]);}}catch(_0x18f42a){}if(_0x4ee9b4){const _0x4c7841=_0x17449b[_0x4d302f(0x13b)]('.'),_0x4e1cd5=_0x4c7841[_0x4c7841[_0x4d302f(0x6b)]-0x1]||_0x17449b;_0x4d239a[_0x4d302f(0x111)](_0x4e1cd5);}}catch(_0x42b20c){this[_0x4d302f(0x198)]['warn']('checkWifiPresence:\x20Error\x20checking\x20'+_0x17449b+':\x20'+_0x42b20c[_0x4d302f(0x1aa)]);}}const _0x3b4a2d=_0x4d239a['length']>0x0?_0x4d239a[_0x4d302f(0x194)](',\x20'):_0x4d302f(0x164);return await this[_0x4d302f(0xf5)]('system.presenceWho',{'val':_0x3b4a2d,'ack':!![]}),_0x4d239a['length']>0x0;}async[a0_0x5f1e4c(0x75)](){const _0xc4028e=a0_0x5f1e4c;await aiAgent[_0xc4028e(0x6a)](this);this[_0xc4028e(0x89)][_0xc4028e(0x122)]&&(this[_0xc4028e(0xc2)](),this[_0xc4028e(0xd3)]());if(this[_0xc4028e(0x89)][_0xc4028e(0x14e)])this[_0xc4028e(0x11d)]();}async[a0_0x5f1e4c(0x98)](){const _0x48b511=a0_0x5f1e4c,_0x3cf7c9=[_0x48b511(0x15b),_0x48b511(0x155),_0x48b511(0x16d)],_0x4a09ca=['forecast.current.weather',_0x48b511(0x93),_0x48b511(0xca)];for(const _0x49a8c7 of _0x3cf7c9){for(const _0x2ae305 of _0x4a09ca){try{const _0x1207a7=_0x49a8c7+'.'+_0x2ae305,_0x9d355a=await this['getForeignStateAsync'](_0x1207a7);if(_0x9d355a&&_0x9d355a[_0x48b511(0x143)]){const _0x39a910=String(_0x9d355a['val'])[_0x48b511(0x167)]();if(_0x39a910['includes']('sunny')||_0x39a910[_0x48b511(0x77)](_0x48b511(0x14d))||_0x39a910[_0x48b511(0x77)]('klar')||_0x39a910[_0x48b511(0x77)]('sonn')||_0x39a910[_0x48b511(0x77)]('clear'))return this['log'][_0x48b511(0xa0)](_0x48b511(0x1d1)+_0x1207a7),!![];}}catch(_0x41805b){}}}return![];}[a0_0x5f1e4c(0xd3)](){const _0x368766=a0_0x5f1e4c;if(!this[_0x368766(0x131)])return;try{this[_0x368766(0x13f)](_0x368766(0xe5),(_0x4ceba5,_0x52b779)=>{const _0x5a6544=_0x368766;if(_0x4ceba5||!_0x52b779||!_0x52b779[_0x5a6544(0x143)])return;try{const _0x1c8397=JSON[_0x5a6544(0x1c5)](_0x52b779[_0x5a6544(0x143)]);if(!_0x1c8397||_0x1c8397[_0x5a6544(0x6b)]===0x0)return;pythonBridge[_0x5a6544(0x1d4)](this,_0x5a6544(0x12b),{'sequences':_0x1c8397}),this['log'][_0x5a6544(0xa0)](_0x5a6544(0x13e)+_0x1c8397[_0x5a6544(0x6b)]+'\x20sequences');}catch(_0x5a9daf){this[_0x5a6544(0x198)][_0x5a6544(0x144)](_0x5a6544(0xd7)+_0x5a9daf['message']);}});}catch(_0x5a90e1){this[_0x368766(0x198)][_0x368766(0x144)](_0x368766(0x1ba)+_0x5a90e1[_0x368766(0x1aa)]);}}async[a0_0x5f1e4c(0x11d)](){const _0xce5d7b=a0_0x5f1e4c;if(!this[_0xce5d7b(0x131)]||!this[_0xce5d7b(0x89)][_0xce5d7b(0x14e)])return;try{const _0x515be3={},_0x55118e={},_0x453bd1=this[_0xce5d7b(0x19c)][_0xce5d7b(0xa3)]||[];for(const _0x3a6ac7 of _0x453bd1){if((_0x3a6ac7[_0xce5d7b(0x1c2)]===_0xce5d7b(0x1b6)||_0x3a6ac7[_0xce5d7b(0x1c2)]===_0xce5d7b(0x190))&&_0x3a6ac7[_0xce5d7b(0x1b9)])try{const _0x5e3ac7=await this[_0xce5d7b(0x9a)](_0x3a6ac7['id']);_0x5e3ac7&&typeof _0x5e3ac7[_0xce5d7b(0x143)]===_0xce5d7b(0x14c)&&(_0x515be3[_0x3a6ac7[_0xce5d7b(0x1b9)]]=_0x5e3ac7[_0xce5d7b(0x143)],_0x55118e[_0x3a6ac7[_0xce5d7b(0x1b9)]]=_0x3a6ac7[_0xce5d7b(0x192)]||![]);}catch(_0x5416b8){}}let _0x4899f8=0xa;if(this[_0xce5d7b(0x19c)][_0xce5d7b(0x83)])try{const _0x260d7b=await this[_0xce5d7b(0x9a)](this['config'][_0xce5d7b(0x83)]);if(_0x260d7b&&typeof _0x260d7b[_0xce5d7b(0x143)]===_0xce5d7b(0x14c))_0x4899f8=_0x260d7b[_0xce5d7b(0x143)];}catch(_0x82a047){}const _0x1d1feb=await this['checkSolarCondition']();let _0x1e2fe4={};try{const _0x14fd61=await this[_0xce5d7b(0x13f)](_0xce5d7b(0x160));if(_0x14fd61&&_0x14fd61[_0xce5d7b(0x143)])_0x1e2fe4=JSON['parse'](_0x14fd61['val']);}catch(_0x2fad9c){}pythonBridge[_0xce5d7b(0x1d4)](this,_0xce5d7b(0x1de),{'current_temps':_0x515be3,'t_out':_0x4899f8,'is_sunny':_0x1d1feb,'solar_flags':_0x55118e,'warmup_targets':_0x1e2fe4}),this[_0xce5d7b(0x198)]['info'](_0xce5d7b(0x13d)+Object[_0xce5d7b(0xa1)](_0x515be3)[_0xce5d7b(0x6b)]+_0xce5d7b(0x150));}catch(_0x23c566){this['log'][_0xce5d7b(0x144)]('triggerEnergyPrediction\x20Error:\x20'+_0x23c566[_0xce5d7b(0x1aa)]);}}[a0_0x5f1e4c(0xc2)](){const _0x926550=a0_0x5f1e4c;if(!this[_0x926550(0xac)]||this[_0x926550(0xac)][_0x926550(0x6b)]===0x0)return;const _0x1eb167=new Array(0x30)[_0x926550(0x70)](0x0),_0x93e03d=Array[_0x926550(0xaa)]({'length':0x30},()=>[]),_0x5313cf=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x926550(0xac)][_0x926550(0x14b)](_0x4928c0=>{const _0x3c5177=_0x926550,_0x34ce5f=new Date(_0x4928c0[_0x3c5177(0x1c0)]);if(_0x34ce5f[_0x3c5177(0xa4)]()>=_0x5313cf){const _0x4f4c13=_0x34ce5f[_0x3c5177(0x18c)](),_0x15b178=_0x34ce5f[_0x3c5177(0x139)](),_0x128538=_0x4f4c13*0x2+Math['floor'](_0x15b178/0x1e);_0x128538>=0x0&&_0x128538<0x30&&(_0x1eb167[_0x128538]++,_0x93e03d[_0x128538][_0x3c5177(0x111)]({'time':_0x34ce5f[_0x3c5177(0x1c7)]('de-DE',{'hour':_0x3c5177(0x182),'minute':_0x3c5177(0x182)}),'location':_0x4928c0['location']||_0x3c5177(0x100),'type':_0x4928c0[_0x3c5177(0x1c2)]||'Event'}));}}),this[_0x926550(0xf5)](_0x926550(0x159),{'val':JSON['stringify'](_0x1eb167),'ack':!![]}),this[_0x926550(0xf5)]('analysis.health.todayRoomDetails',{'val':JSON[_0x926550(0x16c)](_0x93e03d),'ack':!![]});}async[a0_0x5f1e4c(0xed)](_0x306b57){const _0x5c3672=a0_0x5f1e4c;if(!this[_0x5c3672(0x19c)][_0x5c3672(0xfa)]||typeof _0x306b57!=='number')return;const _0x475163=this[_0x5c3672(0x19c)][_0x5c3672(0x10f)]||0.04;this[_0x5c3672(0x6f)][_0x5c3672(0x111)]({'timestamp':Date[_0x5c3672(0xc3)](),'value':_0x306b57}),this[_0x5c3672(0x6f)][_0x5c3672(0x6b)]>0x64&&this[_0x5c3672(0x6f)]['shift'](),_0x306b57>_0x475163&&!this['infrasoundLocked']&&(this[_0x5c3672(0xbd)]=!![],this[_0x5c3672(0x198)][_0x5c3672(0x144)](_0x5c3672(0xe0)+_0x306b57['toFixed'](0x4)+'\x20>\x20'+_0x475163+_0x5c3672(0x9d)),await this[_0x5c3672(0x80)](_0x306b57,_0x5c3672(0x1a3)),setTimeout(()=>{this['infrasoundLocked']=![];},0x5*0x3c*0x3e8));}async[a0_0x5f1e4c(0x80)](_0x9cf539,_0x259a1e){const _0x441d29=a0_0x5f1e4c;if(!this[_0x441d29(0x17b)]){const _0x38a726=this[_0x441d29(0x7c)]['slice'](0x0,0xa),_0x5ca825=_0x38a726[_0x441d29(0xe4)](_0x3b57ea=>new Date(_0x3b57ea[_0x441d29(0x1c0)])[_0x441d29(0x1c7)](_0x441d29(0xda))+'\x20-\x20'+(_0x3b57ea[_0x441d29(0x1b9)]||_0x441d29(0x9b))+':\x20'+_0x3b57ea[_0x441d29(0x176)])['join']('\x0a');this[_0x441d29(0x198)][_0x441d29(0x144)](_0x441d29(0xa7)+_0x9cf539['toFixed'](0x4)+_0x441d29(0x1d7)+_0x5ca825);if(this[_0x441d29(0x19c)][_0x441d29(0x1ae)])try{const _0x550b94=await this['getForeignStateAsync'](this[_0x441d29(0x19c)]['infrasoundArmingId']);_0x550b94&&_0x550b94[_0x441d29(0x143)]===!![]&&(await this[_0x441d29(0xf5)]('analysis.safety.infrasoundAlert',{'val':JSON[_0x441d29(0x16c)]({'timestamp':Date[_0x441d29(0xc3)](),'pressure':_0x9cf539[_0x441d29(0x1b3)](0x4),'eventType':_0x259a1e,'recentEvents':_0x38a726[_0x441d29(0x149)](0x0,0x3)}),'ack':!![]}),this[_0x441d29(0x198)][_0x441d29(0x116)](_0x441d29(0x1c3)));}catch(_0x1ec6ea){}}else this[_0x441d29(0x198)][_0x441d29(0xa0)](_0x441d29(0x8d)+_0x9cf539[_0x441d29(0x1b3)](0x4)+'\x20(Bewohner\x20anwesend\x20-\x20normal)');}async[a0_0x5f1e4c(0x1d3)](_0x9f9f8f){const _0x5df5d4=a0_0x5f1e4c;if(!_0x9f9f8f||!_0x9f9f8f[_0x5df5d4(0x1b9)])return;try{const _0x22bfe9=(this[_0x5df5d4(0x19c)][_0x5df5d4(0xa3)]||[])[_0x5df5d4(0x8c)](_0x30e8b3=>_0x30e8b3[_0x5df5d4(0x1b9)]===_0x9f9f8f['location']&&(_0x30e8b3[_0x5df5d4(0x1c2)]===_0x5df5d4(0x1b6)||_0x30e8b3['type']==='thermostat'));if(_0x22bfe9[_0x5df5d4(0x6b)]===0x0)return;const _0x3726df=await this[_0x5df5d4(0x9a)](_0x22bfe9[0x0]['id']);if(!_0x3726df||typeof _0x3726df['val']!==_0x5df5d4(0x14c))return;const _0x106d17=_0x3726df[_0x5df5d4(0x143)];let _0x329ab5=null;if(this[_0x5df5d4(0x19c)]['weatherTempId']){const _0x43cc52=await this[_0x5df5d4(0x9a)](this['config'][_0x5df5d4(0x83)]);_0x43cc52&&typeof _0x43cc52[_0x5df5d4(0x143)]===_0x5df5d4(0x14c)&&(_0x329ab5=_0x43cc52[_0x5df5d4(0x143)]);}if(_0x329ab5!==null){const _0xb345da=Math[_0x5df5d4(0x104)](_0x106d17-_0x329ab5);_0xb345da>0x3&&(this['log'][_0x5df5d4(0xa0)](_0x5df5d4(0x117)+_0x9f9f8f['location']+_0x5df5d4(0x14f)+_0xb345da[_0x5df5d4(0x1b3)](0x1)+_0x5df5d4(0xe3)+_0x106d17+_0x5df5d4(0xd5)+_0x329ab5+_0x5df5d4(0x1bd)),await this['setStateAsync'](_0x5df5d4(0x158),{'val':JSON[_0x5df5d4(0x16c)]({'room':_0x9f9f8f['location'],'timestamp':Date[_0x5df5d4(0xc3)](),'tempDiff':_0xb345da[_0x5df5d4(0x1b3)](0x1),'recommendation':_0xb345da>0x5?_0x5df5d4(0x151):_0x5df5d4(0x179)}),'ack':!![]}));}}catch(_0x146d5f){this[_0x5df5d4(0x198)][_0x5df5d4(0x144)](_0x5df5d4(0xab)+_0x146d5f['message']);}}async[a0_0x5f1e4c(0x147)](_0x3e0802){const _0x5a7526=a0_0x5f1e4c;if(!_0x3e0802||typeof _0x3e0802!==_0x5a7526(0x178))return;const _0x43a0ad={'timestamp':_0x3e0802[_0x5a7526(0x1c0)]||Date[_0x5a7526(0xc3)](),'id':_0x3e0802['id']||Date[_0x5a7526(0xc3)]()[_0x5a7526(0x195)](),'name':_0x3e0802[_0x5a7526(0x176)]||_0x5a7526(0xdb),'type':_0x3e0802['type']||'custom','location':_0x3e0802[_0x5a7526(0x1b9)]||'Unknown','value':_0x3e0802[_0x5a7526(0x90)]||null};this[_0x5a7526(0x7c)]['unshift'](_0x43a0ad);if(this[_0x5a7526(0x7c)][_0x5a7526(0x6b)]>0x1388)this[_0x5a7526(0x7c)][_0x5a7526(0x145)]();await this[_0x5a7526(0xf5)](_0x5a7526(0x17e),{'val':JSON[_0x5a7526(0x16c)](this['eventHistory']),'ack':!![]}),this[_0x5a7526(0x198)][_0x5a7526(0xa0)](_0x5a7526(0x169)+_0x43a0ad['name']+'\x20('+_0x43a0ad['location']+')');}[a0_0x5f1e4c(0x15d)](_0x1079c0){}}function a0_0x1003(_0xe1b1a2,_0x30676d){const _0x1b12ae=a0_0x54b0();return a0_0x1003=function(_0x195b05,_0x5b8b57){_0x195b05=_0x195b05-0x69;let _0x54b0e8=_0x1b12ae[_0x195b05];return _0x54b0e8;},a0_0x1003(_0xe1b1a2,_0x30676d);}if(require[a0_0x5f1e4c(0x1c6)]!==module)module[a0_0x5f1e4c(0x12a)]=_0x1eb100=>new CogniLiving(_0x1eb100);else new CogniLiving();function a0_0x54b0(){const _0x39a2a3=['system','driftAnalysisTimer','‚úÖ\x20History\x20saved:\x20','setDate','infrasoundThreshold','values','push','analysis.energy.warmupSources',',\x20Temp:\x20','\x20Tage)','moduleHealth','error','üí®\x20L√ºftung\x20in\x20','SET_LEARNING_MODE','add','inactivityThresholdHours','199773KvsRVg','string','triggerEnergyPrediction','loadSystemMode','minDaysForBaseline','\x22history\x22:{}','getObjectViewAsync','health','./lib/python_bridge','Corrupt','59\x2023\x20*\x20*\x20*','system.adapter.','.system.mode','VACATION','door','exports','ANALYZE_GAIT','cogni-living','subscribeStates','\x20events\x20from\x20today...','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','analysisTimer','isProVersion','LTM.triggerDailyDigest','licenseKey','startSystem','automation.triggerAction','all','analysis.health.geminiNight','presenceCheckTimer','getMinutes','security','split','getCalendarNames','üîÆ\x20Energy\x20Prediction\x20triggered\x20(','üö∂\x20Gait\x20Analysis\x20triggered\x20with\x20','getStateAsync','analysis.training.triggerEnergy','round','@google/generative-ai','val','warn','pop','info','appendToLog','sendMorningBriefing','slice','analysis.activity.roomStats','forEach','number','heiter','energy',':\x20Temp-Differenz\x20','\x20rooms)','Gute\x20L√ºftungsm√∂glichkeit!','bootTime','(((.+)+)+)+$','command','accuweather.0','Kein\x20API\x20Key\x20√ºbergeben.','pulse','analysis.ventilation.lastWindow','analysis.health.todayVector','Guest\x20Mode','weatherunderground.0','analysis.activity.roomHistory','sendNotification','analysis.security.lastScore','2203300MZCjNV','analysis.energy.warmupTargets','analysis.training.triggerHealth','Gemini\x20Report\x20Night','triggerBriefing','Niemand','enum','updateTopology','toLowerCase','Daily\x20Room\x20Details\x20(48x30min)','üìù\x20Manual\x20event\x20logged:\x20','\x20Kalender-Adapter\x20gefunden.','namespace','stringify','daswetter.0','‚ö†\x20Replay\x20skipped:\x20No\x20events\x20in\x20memory.','onReady','bin','system.adapter.ical.','integrateRoomTime','TRAIN_TOPOLOGY','Party\x20Mode','min','name','52556YwzzJo','object','L√ºften\x20empfohlen','4288068uTFVIp','isPresent','getHistoryData','mkdirSync','events.history','Room\x20Dwell\x20Time\x20Stats','TRAIN_SECURITY','telegram','2-digit','LTM.baselineStatus','roomIntegratorTimer','ltmJob','runPythonHealthCheck','analysis.automation.patternDetected','analysis.prediction.trackerConfidence','analysis.automation.description','online','callback','getHours','replace','Init...','üì¶\x20Restored\x20','thermostat','./lib/scanner','isSolar','generateContent','join','toString','updateLocation','enum.rooms.*','log','executeAutomationAction','pythonBridge','{\x22history\x22:{}}','config','useCalendar','checkWifiPresence','cogni-living\x20adapter\x20starting\x20(v','processSensorEvent','replayTodayEvents','analysis.energy.warmupTimes','threshold_exceeded','onStateChange','response','common','dependencyInstallInProgress','systemConfig','[Integrator]\x20Error:\x20','message','‚Ü∫\x20Replaying\x20','enum.functions.*','bind','infrasoundArmingId','CALCULATE_HEALTH_TREND','search','getOverviewData','saveDailyHistory','toFixed','Room\x20History\x20(24h\x20Buckets)','stateChange','temperature','guest','analysis.security.learningStatus','location','triggerGaitAnalysis\x20error:\x20','NIGHT','exitTimer','¬∞C)','apiKey','infrasoundSensorId','timestamp','initSchedules','type','üö®\x20INFRASCHALL-ALARM:\x20Anomalie\x20bei\x20Abwesenheit\x20(scharf)!','history','parse','main','toLocaleTimeString','json','isRelevantActivity','14165380IETVhC','analysis.automation.targetId','currentSystemMode','communicate.request','writeFileSync','./lib/topology','onUnload','‚òÄÔ∏è\x20Solar\x20Condition:\x20SUNNY\x20detected\x20via\x20','refreshCalendar\x20failed:\x20','analyzeWindowOpening','send','path','haust√ºr',',\x20Events:\x0a','onMessage','./lib/scheduler','LTM.dailyDigests','testApiKey','memoryCache','generateHealthReport','PREDICT_ENERGY','analysis.training.status','runGeminiAnalysis','length','checkCalendarTriggers','getForeignObjectsAsync','initSystemConfig','pressureBuffer','fill','date','todayVector','./lib/setup','motion','runAutopilot','party','includes','Sonne:\x20','analysis.trigger','Scan\x20Error:\x20','Lernphase\x20(','eventHistory','30FuJgwQ','31739wOHnfA','geminiModel','triggerInfrasoundCorrelation','TRAIN_HEALTH','analysis.automation.targetValue','weatherTempId','open','system.adapter.ical.È¶ô','text','getDate','sources','activeModules','updateSchedulePreview','[PythonBridge]\x20Forwarding\x20command:\x20','filter','üîä\x20Infraschall:\x20','Standard','./lib/ai_agent','value','analysis.training.triggerTopology','max','Current.WeatherText','dailyDigests','genAI','analysis.visualization.pulse',')\x20-\x20Phase\x20E\x20(Scheduler\x20Fix)','checkSolarCondition','analysis.training.triggerComfort','getForeignStateAsync','Unknown','sensorLastValues','\x20(Threshold)','ERROR','.uptime','debug','keys','some','devices','getTime','checkThermostats','instance','üîä\x20FORENSIC:\x20Infraschall\x20bei\x20Abwesenheit!\x20Pressure:\x20','analysis.training.triggerSecurity','ack','from','analyzeWindowOpening\x20error:\x20','rawEventLog','./lib/dead_man','Warte\x20auf\x20Analyse...','node-schedule','healthTrendInterval','Daily\x20Activity\x20Vector\x20(48x30min)','calendarName','window','setObjectNotExistsAsync','getGenerativeModel','testContext','...','General\x20Activity\x20Trend','scanDevices','briefingJob','setState','sendTo','infrasoundLocked','triggerHealth\x20error:\x20','TRAIN_COMFORT','reduce','History\x20Save\x20Error:\x20','updateHealthVector','now','toLocaleDateString','Failed\x20to\x20trigger\x20Python\x20Health\x20Check','analysis.health.geminiDay','manual','isArray','20yvVjFf','NextHours.Location_1.Day_1.current.symbol_desc','scanThermostats','Warm-Up\x20Time','rows','setPresence','‚úÖ\x20Dashboard\x20Data\x20(Rooms\x20&\x20Timeline\x20&\x20Details)\x20restored.','analysis.health.activityTrend','moduleComfort','presenceDevices','triggerGaitAnalysis','exitGraceTimer','¬∞C,\x20Au√üen:\x20','Verbindung\x20erfolgreich:\x20','triggerGaitAnalysis\x20parse\x20error:\x20','historyJob','moduleSecurity','de-DE','Manual\x20Event','modules','endsWith','analysis.prediction.trackerTopRoom','apply','üîä\x20Infraschall-Alarm:\x20','python','Keine\x20Daten','¬∞C\x20(Innen:\x20','map','LTM.trainingData.sequences','stopService','cleanupGhostInterventions','SYSTEM_MODES','abortExitTimer','initHistory','substring','\x20events\x20from\x20standard\x20storage.','handleInfrasound','analysisHistory','208icuZph','.last_seen','940512PQQwUY','scanForDevices','outdoorSensorId','constructor','setStateAsync','.json','state','unload','getAbsoluteDefaultDataDir','infrasoundEnabled','moduleEnergy','find','analysis.health.todayRoomDetails','SYSTEM_DP_MODE','getEnums','Unbekannt','NORMAL','lastTrackerEventTime','existsSync','abs','.data.table','DAY','calendarCheckTimer','protectAiMemory','isGracePeriodActive','initZombies'];a0_0x54b0=function(){return _0x39a2a3;};return a0_0x54b0();}