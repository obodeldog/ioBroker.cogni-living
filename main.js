const a0_0x48b0bc=a0_0x5d66;(function(_0x3f7c3e,_0x370925){const _0x2fcdbb=a0_0x5d66,_0x478251=_0x3f7c3e();while(!![]){try{const _0x52d934=-parseInt(_0x2fcdbb(0x21a))/0x1*(-parseInt(_0x2fcdbb(0x214))/0x2)+-parseInt(_0x2fcdbb(0x12b))/0x3*(parseInt(_0x2fcdbb(0x17a))/0x4)+-parseInt(_0x2fcdbb(0x135))/0x5+-parseInt(_0x2fcdbb(0x1e3))/0x6*(parseInt(_0x2fcdbb(0x11d))/0x7)+parseInt(_0x2fcdbb(0x1c6))/0x8+parseInt(_0x2fcdbb(0x147))/0x9*(-parseInt(_0x2fcdbb(0x112))/0xa)+-parseInt(_0x2fcdbb(0x143))/0xb*(parseInt(_0x2fcdbb(0x173))/0xc);if(_0x52d934===_0x370925)break;else _0x478251['push'](_0x478251['shift']());}catch(_0x20d580){_0x478251['push'](_0x478251['shift']());}}}(a0_0x4e96,0xe9fa9));const a0_0x407686=(function(){let _0x597438=!![];return function(_0x2fbd30,_0xac427a){const _0x498b22=_0x597438?function(){if(_0xac427a){const _0x48bfb6=_0xac427a['apply'](_0x2fbd30,arguments);return _0xac427a=null,_0x48bfb6;}}:function(){};return _0x597438=![],_0x498b22;};}()),a0_0x34eadd=a0_0x407686(this,function(){const _0x3b18c0=a0_0x5d66;return a0_0x34eadd[_0x3b18c0(0x1ec)]()[_0x3b18c0(0x131)]('(((.+)+)+)+$')[_0x3b18c0(0x1ec)]()[_0x3b18c0(0x164)](a0_0x34eadd)[_0x3b18c0(0x131)](_0x3b18c0(0x1b8));});function a0_0x4e96(){const _0x439a05=['apiKey','CALIB',')\x20-\x20Phase\x20E\x20(UX\x20&\x20AAL)','10689570IwrBvA','modeResetJob','createDailyDigest','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','[Calibration]\x20Window\x20','guest','notifyPushoverInstance','bootTime','keys','sunny','Instanz\x20nicht\x20gefunden','21qabNnA','memoryCache','ANOMALY\x20(Real\x20Threat?)','ready','ðŸ“…\x20Midnight\x20Reset:\x20Archiving\x20Room\x20Stats\x20(Yesterday\x20<-\x20Today).','Aktiv\x20(','moduleSecurity','./lib/python_bridge','pressureBuffer','triggerGaitAnalysis','toFixed','getForeignStateAsync','systemConfig','calendarName','3mFnxmd','values','ltmJob','cancel','analysis.topology.structure','Gesendet','search','sort','Kein\x20API\x20Key\x20Ã¼bergeben','\x20rooms.','141045tbRWQF','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','floor','daswetter.0','[Forensics]\x20Infrasound\x20Event\x20correlated:\x20','roomIntegratorTimer','command','presenceDevices','TRAIN_COMFORT','minutes_safe','analysisTimer','protectAiMemory','inactivityThresholdHours','key','132tqoQEt','exitGraceTimer','analysis.energy.ventilationAlerts','Sec-Training\x20started...','9NvsYlI','analysis.training.status','./lib/scheduler','appendToLog','setupBriefingScheduler','analysis.trigger','endsWith','NextHours.Location_1.Day_1.current.symbol_desc','analysis.training.triggerHealth','isProVersion','version','getForeignObjectsAsync','integrateRoomTime','SET_TOPOLOGY','trackerHeartbeat','system.adapter.','message','some','scanDevices','LTM.rawEventLog','ALARM','add','getLtmData','SYSTEM_MODES','window','motion','infrasoundSensorId','licenseKey','currentSystemMode','constructor','enum','./lib/recorder','security.alarm_triggered','minDaysForBaseline','analysis.training.triggerSecurity','automation.triggerAction','analysis.health.activityTrend','timestamp','Daily\x20Activity\x20Vector\x20(24h)','times','[Health]\x20Error\x20parsing\x20digests\x20for\x20check:\x20','@google/generative-ai','Memory\x20Hydration\x20Failed:\x20','stopService','204432jkQRnT','analysis.energy.warmupSources','isArray','[Infrasound]\x20ðŸš¨\x20ALARM\x20TRIGGERED!\x20Pressure\x20Wave:\x20','infrasoundEnabled','sensorLastValues','error','5697988BwpKhi','initSystemConfig','infrasoundArmingId','analysis.automation.targetValue','Keine\x20Antwort\x20von\x20Gemini','PREDICT_ENERGY','forecast.current.weather','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','createAllObjects','string','location','forEach','manual','getGenerativeModel','updateHealthVector','rawEventLog','Lernphase\x20(','MATCH\x20(False\x20Positive)','analysis.energy.rlPenalties','callback','VACATION','models/gemini-flash-latest','setObjectNotExistsAsync','geminiApiKey','triggerDailyDigest','Party\x20Mode','scanForDevices','simulateButler','analysis.security.infrasoundLog','analysis.activity.roomStats','lastAlertState','Kein\x20Wetter-Adapter','startService','getHours','analysis.training.triggerTopology','debug','analysis.health.gaitDebug','LTM.dailyDigests','ack','PINN\x20AI\x20Forecast','reed','initHistory','matrix','type','setStateAsync','TRAIN_SECURITY','WiFi\x20Presence\x20detected.','driftAnalysisTimer','warn','abs','weatherunderground.0','setupModeResetScheduler','loadSystemMode','analysis.energy.activeEnforcements','split','Simulation\x20durch\x20Admin\x20(Test)','LTM.trainingData.sequences','analysisHistory','infrasoundLocked','analysis.automation.triggerAction','sendTo','onMessage','(((.+)+)+)+$','\x20hPa\x20(Limit:\x20','Nuukanni\x20Security','yesterday','checkThermostats','trackerEnabled','analysis.automation.autoApply','slice','unshift','setHours','./lib/installer','moduleEnergy','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','triggerInfrasoundCorrelation','14614824OCsSiu','notifyTelegramEnabled','filter','telegram','updated','Graph-Brain\x20Train\x20Error:\x20','onReady','handleInfrasound','Fenster\x20geÃ¶ffnet:\x20','info','getEnums','startSystem','accuweather.0','magnet','Init...','geminiModel','moduleHealth','sensor.window','analysis.health.gaitSensors','ðŸ§ \x20Memory:\x20Cache\x20hydrated\x20with\x20','send','runPythonHealthCheck','Reinforcement\x20Learning\x20Penalties','TRAIN_HEALTH','analysis.automation.description','from','val','{\x22default\x22:\x2021}','analysis.energy.mpcActive','18450IkEkbY','Verbunden','TRACK_EVENT','klar','SYSTEM_DP_MODE','checkWifiPresence','analysis.energy.warmupTargets','checkSolarCondition','parse','toString','today','role','.communicate.request','analysis.training.triggerComfort','Forensic\x20Infrasound\x20Log','runAutopilot','Notification\x20Test\x20Failed:\x20','./lib/setup','bind','./lib/dead_man','system.presenceWho','analyzeWindowOpening','LTM.trainingData.thermodynamics','Active\x20Calendar\x20Enforcements\x20(Locks)','genAI','testNotification','\x20opened.\x20Peak\x20Pressure:\x20','runGeminiAnalysis','dailyDigests','setState','subscribeStates','join','dependencyInstallInProgress','isPresent','Comfort\x20Train\x20Error:\x20','TRAIN_ENERGY','text','sources','unload','getForeignObjectAsync','onUnload','analysis.training.triggerEnergy','[Integrator]\x20Error:\x20','sendNotification','temperature','analysis.prediction.trackerTopRoom','triggerEnergyPrediction','briefingJob','subscribeForeignStatesAsync','133346bvraII','analysis.automation.targetId','Daten\x20nicht\x20verfÃ¼gbar','LTM.baselineStatus','scores','checkCalendarTriggers','28ZqKcNq','ANALYZE_GAIT','stringify','General\x20Activity\x20Trend\x20(%)','setPresence','toLowerCase','generateContent','_calName','state','Gait\x20Speed\x20Calculation\x20Proof','Verbindung\x20erfolgreich!','push','Sensors\x20used\x20for\x20Gait\x20Analysis','fill','enum.rooms.*','devices','common','cogni-living\x20adapter\x20starting\x20(v','name','notifyTelegramInstance','abortExitTimer','Warm-Up\x20Target\x20Temps\x20(JSON)','monitorEnforcements','toLocaleDateString','now','NORMAL','analysis.health.todayVector','analysis.automation.patternDetected','system.mode','getOutsideTemperatureNumeric','lastTrackerEventTime','date','healthTrendInterval','isGracePeriodActive','isSolar','infrasoundThreshold','moduleComfort','onStateChange','getStateAsync','includes','dismissAutomation','updateLocation','Gemini\x20Init\x20Error:\x20','setupLtmScheduler','getState','\x20Tage)','simulateEnergyMPC','number','Active\x20Ventilation\x20Alerts','Unknown','[Forensics]\x20Save\x20failed:\x20','exitTimer','Room\x20Dwell\x20Time\x20Stats\x20(Today/Yesterday)','open','eventHistory','testApiKey','OPTIMIZE_ENERGY','ErklÃ¤rt\x20durch:\x20','analysis.energy.warmupTimes','updateSchedulePreview','calendarInstance','log','analysis.energy.insulationScore','object','namespace','executeAutomationAction','config','json','entries','getTime','length','sensor.door'];a0_0x4e96=function(){return _0x439a05;};return a0_0x4e96();}function a0_0x5d66(_0x593a4d,_0x30d658){const _0x369e58=a0_0x4e96();return a0_0x5d66=function(_0x34eadd,_0x407686){_0x34eadd=_0x34eadd-0xf0;let _0x4e96f4=_0x369e58[_0x34eadd];return _0x4e96f4;},a0_0x5d66(_0x593a4d,_0x30d658);}a0_0x34eadd();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x48b0bc(0x170)),installer=require(a0_0x48b0bc(0x1c2)),scanner=require('./lib/scanner'),schedulers=require(a0_0x48b0bc(0x149)),topology=require('./lib/topology'),setup=require(a0_0x48b0bc(0x1f4)),recorder=require(a0_0x48b0bc(0x166)),pythonBridge=require(a0_0x48b0bc(0x124)),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x48b0bc(0x1f6)),automation=require('./lib/automation'),GEMINI_MODEL=a0_0x48b0bc(0x18f);class CogniLiving extends utils['Adapter']{constructor(_0x4f5df5){const _0x2ffacb=a0_0x48b0bc;super({..._0x4f5df5,'name':'cogni-living'}),this[_0x2ffacb(0xfd)]=[],this['analysisHistory']=[],this[_0x2ffacb(0x189)]=[],this[_0x2ffacb(0x1ff)]=[],this['sensorLastValues']={},this[_0x2ffacb(0x129)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this['exitTimer']=null,this[_0x2ffacb(0x144)]=null,this[_0x2ffacb(0x23b)]=![],this[_0x2ffacb(0x1fb)]=null,this[_0x2ffacb(0x1d5)]=null,this['currentSystemMode']=setup[_0x2ffacb(0x15e)][_0x2ffacb(0x233)],this['isProVersion']=![],this[_0x2ffacb(0x198)]=![],this['analysisTimer']=null,this[_0x2ffacb(0x12d)]=null,this[_0x2ffacb(0x113)]=null,this[_0x2ffacb(0x1a9)]=null,this[_0x2ffacb(0x212)]=null,this[_0x2ffacb(0x155)]=null,this['healthTrendInterval']=null,this[_0x2ffacb(0x13a)]=null,this[_0x2ffacb(0x203)]=![],this[_0x2ffacb(0x238)]=Date[_0x2ffacb(0x232)](),this['memoryCache']=null,this[_0x2ffacb(0x119)]=Date[_0x2ffacb(0x232)](),this['infrasoundLocked']=![],this[_0x2ffacb(0x125)]=[],this['on'](_0x2ffacb(0x120),this[_0x2ffacb(0x1cc)][_0x2ffacb(0x1f5)](this)),this['on']('stateChange',this[_0x2ffacb(0x23f)][_0x2ffacb(0x1f5)](this)),this['on'](_0x2ffacb(0x209),this[_0x2ffacb(0x20b)][_0x2ffacb(0x1f5)](this)),this['on'](_0x2ffacb(0x157),this[_0x2ffacb(0x1b7)][_0x2ffacb(0x1f5)](this));}async[a0_0x48b0bc(0x1cc)](){const _0x1f94e0=a0_0x48b0bc;this[_0x1f94e0(0x104)][_0x1f94e0(0x1cf)](_0x1f94e0(0x22b)+this[_0x1f94e0(0x151)]+_0x1f94e0(0x111));if(!installer['checkAndInstall'](this,()=>this[_0x1f94e0(0x1d1)]()))return;}async[a0_0x48b0bc(0x1d1)](){const _0x3ce75d=a0_0x48b0bc;await setup['initZombies'](this);try{this['isProVersion']=await setup['checkLicense'](this[_0x3ce75d(0x109)][_0x3ce75d(0x162)]);}catch(_0x2c15b0){}if(!this[_0x3ce75d(0x109)]['inactivityThresholdHours']||this[_0x3ce75d(0x109)]['inactivityThresholdHours']<0.1)this['config'][_0x3ce75d(0x141)]=0xc;if(this[_0x3ce75d(0x109)][_0x3ce75d(0x1d6)]===undefined)this[_0x3ce75d(0x109)][_0x3ce75d(0x1d6)]=!![];if(this[_0x3ce75d(0x109)][_0x3ce75d(0x123)]===undefined)this[_0x3ce75d(0x109)][_0x3ce75d(0x123)]=!![];if(this[_0x3ce75d(0x109)][_0x3ce75d(0x1c3)]===undefined)this[_0x3ce75d(0x109)][_0x3ce75d(0x1c3)]=!![];if(this[_0x3ce75d(0x109)][_0x3ce75d(0x23e)]===undefined)this[_0x3ce75d(0x109)]['moduleComfort']=!![];await setup[_0x3ce75d(0x1a3)](this),await setup[_0x3ce75d(0x17b)](this);try{const _0x437d08=await this[_0x3ce75d(0x240)](_0x3ce75d(0x101)),_0x12e53f=await this[_0x3ce75d(0x240)](_0x3ce75d(0x174));_0x437d08&&_0x437d08['val']&&_0x12e53f&&_0x12e53f[_0x3ce75d(0x1e0)]&&(Date['now']()-_0x437d08['ts']<0x4*0xe10*0x3e8&&(this[_0x3ce75d(0x11e)]={'times':JSON[_0x3ce75d(0x1eb)](_0x437d08[_0x3ce75d(0x1e0)]),'sources':JSON[_0x3ce75d(0x1eb)](_0x12e53f[_0x3ce75d(0x1e0)])},this[_0x3ce75d(0x104)][_0x3ce75d(0x1cf)](_0x3ce75d(0x1d9)+Object[_0x3ce75d(0x11a)](this[_0x3ce75d(0x11e)]['times'])['length']+_0x3ce75d(0x134))));}catch(_0xd84d93){this[_0x3ce75d(0x104)]['warn'](_0x3ce75d(0x171)+_0xd84d93[_0x3ce75d(0x157)]);}if(this['config']['geminiApiKey'])try{this[_0x3ce75d(0x1fb)]=new GoogleGenerativeAI(this[_0x3ce75d(0x109)][_0x3ce75d(0x191)]),this['geminiModel']=this[_0x3ce75d(0x1fb)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}});}catch(_0xd65442){this[_0x3ce75d(0x104)][_0x3ce75d(0x179)](_0x3ce75d(0xf1)+_0xd65442[_0x3ce75d(0x157)]);}await setup[_0x3ce75d(0x182)](this),await this[_0x3ce75d(0x1ae)](),await this[_0x3ce75d(0x190)](_0x3ce75d(0x197),{'type':_0x3ce75d(0x222),'common':{'name':_0x3ce75d(0xfb),'type':_0x3ce75d(0x183),'role':'json','read':!![],'write':![],'def':_0x3ce75d(0x136)},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.pinnForecast',{'type':_0x3ce75d(0x222),'common':{'name':_0x3ce75d(0x1a1),'type':'string','role':_0x3ce75d(0x10a),'read':!![],'write':![]},'native':{}}),await this[_0x3ce75d(0x190)](_0x3ce75d(0x145),{'type':_0x3ce75d(0x222),'common':{'name':_0x3ce75d(0xf7),'type':_0x3ce75d(0x183),'role':_0x3ce75d(0x10a),'read':!![],'write':![]},'native':{}}),await this[_0x3ce75d(0x190)]('analysis.energy.warmupTimes',{'type':_0x3ce75d(0x222),'common':{'name':_0x3ce75d(0x181),'type':_0x3ce75d(0x183),'role':_0x3ce75d(0x10a),'read':!![],'write':![]},'native':{}}),await this[_0x3ce75d(0x190)](_0x3ce75d(0x1e9),{'type':'state','common':{'name':_0x3ce75d(0x22f),'type':_0x3ce75d(0x183),'role':_0x3ce75d(0x10a),'read':!![],'write':!![],'def':_0x3ce75d(0x1e1)},'native':{}}),await this[_0x3ce75d(0x190)](_0x3ce75d(0x18c),{'type':_0x3ce75d(0x222),'common':{'name':_0x3ce75d(0x1dc),'type':_0x3ce75d(0x183),'role':_0x3ce75d(0x10a),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x3ce75d(0x190)](_0x3ce75d(0x16b),{'type':'state','common':{'name':_0x3ce75d(0x21d),'type':_0x3ce75d(0xf6),'role':'value','unit':'%','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x3ce75d(0x1d8),{'type':_0x3ce75d(0x222),'common':{'name':_0x3ce75d(0x226),'type':'string','role':'text','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x3ce75d(0x1af),{'type':'state','common':{'name':_0x3ce75d(0x1fa),'type':_0x3ce75d(0x183),'role':_0x3ce75d(0x10a),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x3ce75d(0x190)](_0x3ce75d(0x196),{'type':_0x3ce75d(0x222),'common':{'name':_0x3ce75d(0x1f1),'type':'string','role':_0x3ce75d(0x10a),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x3ce75d(0x19e),{'type':_0x3ce75d(0x222),'common':{'name':_0x3ce75d(0x223),'type':_0x3ce75d(0x183),'role':_0x3ce75d(0x207),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x3ce75d(0x234),{'type':_0x3ce75d(0x222),'common':{'name':_0x3ce75d(0x16d),'type':_0x3ce75d(0x183),'role':_0x3ce75d(0x10a),'read':!![],'write':![],'def':'[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]'},'native':{}});try{const _0xe267fe=await this[_0x3ce75d(0x240)](_0x3ce75d(0x15a));if(_0xe267fe&&_0xe267fe[_0x3ce75d(0x1e0)])this[_0x3ce75d(0x189)]=JSON[_0x3ce75d(0x1eb)](_0xe267fe[_0x3ce75d(0x1e0)]);}catch(_0x38a92f){this[_0x3ce75d(0x189)]=[];}try{const _0x58baf8=await this[_0x3ce75d(0x240)]('LTM.dailyDigests');if(_0x58baf8&&_0x58baf8[_0x3ce75d(0x1e0)])this[_0x3ce75d(0x1ff)]=JSON['parse'](_0x58baf8[_0x3ce75d(0x1e0)]);}catch(_0x3af8e0){this[_0x3ce75d(0x1ff)]=[];}const _0x5cffe0=this[_0x3ce75d(0x1ff)]['length']>=(this['config']['minDaysForBaseline']||0x7)?_0x3ce75d(0x122)+this['dailyDigests'][_0x3ce75d(0x10d)]+_0x3ce75d(0xf4):_0x3ce75d(0x18a)+this['dailyDigests'][_0x3ce75d(0x10d)]+'/'+(this[_0x3ce75d(0x109)][_0x3ce75d(0x168)]||0x7)+')';await this[_0x3ce75d(0x1a6)](_0x3ce75d(0x217),{'val':_0x5cffe0,'ack':!![]}),this[_0x3ce75d(0x201)](_0x3ce75d(0x14c)),this[_0x3ce75d(0x201)]('LTM.triggerDailyDigest'),this[_0x3ce75d(0x201)](_0x3ce75d(0x236)),this[_0x3ce75d(0x201)]('analysis.triggerBriefing'),this[_0x3ce75d(0x201)](_0x3ce75d(0x1b5)),this[_0x3ce75d(0x201)](_0x3ce75d(0x1be)),this[_0x3ce75d(0x201)](_0x3ce75d(0x169)),this[_0x3ce75d(0x201)](_0x3ce75d(0x14f)),this[_0x3ce75d(0x201)](_0x3ce75d(0x20c)),this[_0x3ce75d(0x201)](_0x3ce75d(0x1f0)),this['subscribeStates'](_0x3ce75d(0x19c)),this[_0x3ce75d(0x201)](_0x3ce75d(0x1e2)),this['subscribeStates']('analysis.energy.warmupSources'),this[_0x3ce75d(0x201)](_0x3ce75d(0x101));this[_0x3ce75d(0x109)][_0x3ce75d(0x177)]&&this[_0x3ce75d(0x109)][_0x3ce75d(0x161)]&&this['subscribeForeignStates'](this[_0x3ce75d(0x109)][_0x3ce75d(0x161)]);const _0xf63729=this[_0x3ce75d(0x109)][_0x3ce75d(0x229)];if(_0xf63729)for(const _0x2baaa6 of _0xf63729){await this[_0x3ce75d(0x213)](_0x2baaa6['id']);}const _0x3a14e7=this[_0x3ce75d(0x109)][_0x3ce75d(0x13c)];if(_0x3a14e7)for(const _0x4ef4e8 of _0x3a14e7){await this[_0x3ce75d(0x213)](_0x4ef4e8);}if(this[_0x3ce75d(0x109)][_0x3ce75d(0x1c7)]&&this[_0x3ce75d(0x109)][_0x3ce75d(0x22d)])await this[_0x3ce75d(0x213)](this[_0x3ce75d(0x109)][_0x3ce75d(0x22d)]+_0x3ce75d(0x1ef));setTimeout(()=>this['checkWifiPresence'](),0x1388);if(this['analysisTimer'])clearInterval(this['analysisTimer']);const _0x47050d=this['config']['analysisInterval']||0xf;_0x47050d>0x0&&(this[_0x3ce75d(0x13f)]=setInterval(()=>{const _0x2f9674=_0x3ce75d;this[_0x2f9674(0x1f2)](),this[_0x2f9674(0x109)]['moduleEnergy']!==![]&&automation['monitorEnforcements'](this);},_0x47050d*0x3c*0x3e8));setTimeout(()=>{const _0x3c2722=_0x3ce75d;this[_0x3c2722(0x109)][_0x3c2722(0x1c3)]!==![]&&(automation['checkCalendarTriggers'](this),automation[_0x3c2722(0x230)](this));},0x2710);this[_0x3ce75d(0x109)][_0x3ce75d(0x1bd)]!==![]&&(this[_0x3ce75d(0x155)]=setInterval(()=>{const _0x1bec3d=_0x3ce75d;if(this[_0x1bec3d(0x150)]){const _0x96dcf1=Date[_0x1bec3d(0x232)](),_0x3ce621=this[_0x1bec3d(0x238)]||_0x96dcf1,_0x4eae5a=(_0x96dcf1-_0x3ce621)/0x3e8;_0x4eae5a>0x2&&(this[_0x1bec3d(0x238)]=_0x96dcf1,pythonBridge[_0x1bec3d(0x1da)](this,_0x1bec3d(0x1e5),{'room':null,'dt':_0x4eae5a}));}},0xbb8));if(this[_0x3ce75d(0x13a)])clearInterval(this[_0x3ce75d(0x13a)]);this[_0x3ce75d(0x153)](),this['roomIntegratorTimer']=setInterval(async()=>{await this['integrateRoomTime']();},0x3c*0x3e8);if(this['healthTrendInterval'])clearInterval(this[_0x3ce75d(0x23a)]);this['healthTrendInterval']=setInterval(()=>{const _0x4fbb19=_0x3ce75d;this[_0x4fbb19(0x150)]&&this[_0x4fbb19(0x109)]['moduleHealth']!==![]&&this['runPythonHealthCheck']();},0x4*0x3c*0x3c*0x3e8),schedulers[_0x3ce75d(0xf2)](this,()=>aiAgent[_0x3ce75d(0x114)](this,pythonBridge)),schedulers[_0x3ce75d(0x1ad)](this),schedulers['setupDriftAnalysisScheduler'](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x3ce75d(0x14b)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x3ce75d(0x19a)](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x184bf0=_0x3ce75d;await topology['updateTopology'](this);try{const _0x40bc4f=await this['getStateAsync'](_0x184bf0(0x12f));if(_0x40bc4f&&_0x40bc4f[_0x184bf0(0x1e0)])pythonBridge[_0x184bf0(0x1da)](this,_0x184bf0(0x154),JSON[_0x184bf0(0x1eb)](_0x40bc4f[_0x184bf0(0x1e0)]));}catch(_0x2154b0){}this[_0x184bf0(0x109)][_0x184bf0(0x1d6)]!==![]&&(this[_0x184bf0(0x1db)](),this[_0x184bf0(0x126)]()),this[_0x184bf0(0x211)](),this['updateHealthVector']();},0x1388);}[a0_0x48b0bc(0x20b)](_0x186588){const _0x40735f=a0_0x48b0bc;if(this[_0x40735f(0x13f)])clearInterval(this['analysisTimer']);if(this[_0x40735f(0x1a9)])clearInterval(this['driftAnalysisTimer']);if(this[_0x40735f(0x155)])clearInterval(this['trackerHeartbeat']);if(this[_0x40735f(0x23a)])clearInterval(this[_0x40735f(0x23a)]);if(this['roomIntegratorTimer'])clearInterval(this[_0x40735f(0x13a)]);if(this[_0x40735f(0x12d)])this['ltmJob'][_0x40735f(0x12e)]();if(this[_0x40735f(0x113)])this['modeResetJob'][_0x40735f(0x12e)]();if(this[_0x40735f(0x212)])this['briefingJob'][_0x40735f(0x12e)]();recorder[_0x40735f(0x22e)](this),pythonBridge[_0x40735f(0x172)](this),_0x186588();}async[a0_0x48b0bc(0x153)](){const _0x9ebe77=a0_0x48b0bc;if(!this[_0x9ebe77(0x204)])return;try{let _0x215c56=null;try{const _0x1d6fb1=await this[_0x9ebe77(0x240)](_0x9ebe77(0x210)),_0x3b17e5=await this[_0x9ebe77(0x240)]('analysis.prediction.trackerConfidence');_0x1d6fb1&&_0x1d6fb1[_0x9ebe77(0x1e0)]&&_0x3b17e5&&_0x3b17e5[_0x9ebe77(0x1e0)]&&_0x3b17e5[_0x9ebe77(0x1e0)]>0.3&&(_0x215c56=_0x1d6fb1['val']);}catch(_0x2e46fc){}if(!_0x215c56||_0x215c56===_0x9ebe77(0xf8)||_0x215c56===_0x9ebe77(0x1d4))return;const _0x5c8ce4=_0x9ebe77(0x197),_0x1a87b2=await this['getStateAsync'](_0x5c8ce4);let _0x17d9f5={'today':{},'yesterday':{},'date':new Date()[_0x9ebe77(0x231)]()};if(_0x1a87b2&&_0x1a87b2[_0x9ebe77(0x1e0)])try{_0x17d9f5=JSON['parse'](_0x1a87b2[_0x9ebe77(0x1e0)]);}catch(_0xe20279){}if(!_0x17d9f5['today'])_0x17d9f5[_0x9ebe77(0x1ed)]={};if(!_0x17d9f5[_0x9ebe77(0x1bb)])_0x17d9f5[_0x9ebe77(0x1bb)]={};const _0x3acd51=new Date()[_0x9ebe77(0x231)]();_0x17d9f5[_0x9ebe77(0x239)]!==_0x3acd51&&(this[_0x9ebe77(0x104)]['info'](_0x9ebe77(0x121)),_0x17d9f5['yesterday']=_0x17d9f5[_0x9ebe77(0x1ed)]||{},_0x17d9f5[_0x9ebe77(0x1ed)]={},_0x17d9f5['date']=_0x3acd51);if(!_0x17d9f5[_0x9ebe77(0x1ed)][_0x215c56])_0x17d9f5[_0x9ebe77(0x1ed)][_0x215c56]=0x0;_0x17d9f5[_0x9ebe77(0x1ed)][_0x215c56]++,await this['setStateAsync'](_0x5c8ce4,{'val':JSON[_0x9ebe77(0x21c)](_0x17d9f5),'ack':!![]});}catch(_0x4b89e4){this[_0x9ebe77(0x104)][_0x9ebe77(0x1aa)](_0x9ebe77(0x20d)+_0x4b89e4[_0x9ebe77(0x157)]);}}[a0_0x48b0bc(0x1db)](){const _0x5cb28c=a0_0x48b0bc;if(!this[_0x5cb28c(0x150)])return;this['getState'](_0x5cb28c(0x19f),(_0x3b6927,_0x45f0e6)=>{const _0x28abc8=_0x5cb28c;if(_0x45f0e6&&_0x45f0e6[_0x28abc8(0x1e0)])try{const _0x2c5acb=JSON['parse'](_0x45f0e6[_0x28abc8(0x1e0)]);_0x2c5acb[_0x28abc8(0x10d)]>0x0&&pythonBridge[_0x28abc8(0x1da)](this,'ANALYZE_HEALTH',{'digest':_0x2c5acb[0x0]});}catch(_0xab6d6f){this[_0x28abc8(0x104)][_0x28abc8(0x1aa)](_0x28abc8(0x16f)+_0xab6d6f[_0x28abc8(0x157)]);}});}async[a0_0x48b0bc(0x23f)](_0x3316ee,_0xafb0d3){const _0x463589=a0_0x48b0bc;if(!_0xafb0d3||this[_0x463589(0x203)])return;if(_0x3316ee['includes'](_0x463589(0x1c9))&&_0x3316ee['endsWith']('communicate.request')&&_0xafb0d3[_0x463589(0x1e0)])return;if(this[_0x463589(0x109)][_0x463589(0x177)]&&_0x3316ee===this[_0x463589(0x109)][_0x463589(0x161)]){this[_0x463589(0x1cd)](_0xafb0d3[_0x463589(0x1e0)]);return;}if(_0x3316ee===this[_0x463589(0x107)]+'.system.mode'){if(_0xafb0d3[_0x463589(0x1e0)]&&Object[_0x463589(0x12c)](setup['SYSTEM_MODES'])['includes'](_0xafb0d3[_0x463589(0x1e0)])){this['currentSystemMode']=_0xafb0d3[_0x463589(0x1e0)];if(_0xafb0d3['val']===setup[_0x463589(0x15e)][_0x463589(0x18e)])await recorder[_0x463589(0x21e)](this,![]);else await recorder[_0x463589(0x21e)](this,!![]);if(this[_0x463589(0x150)]){let _0x166f01=![],_0xe7fae6=0x0,_0x22c057=_0x463589(0x186);if(this[_0x463589(0x163)]==='party')_0x166f01=!![],_0xe7fae6=0x168,_0x22c057=_0x463589(0x193);else this[_0x463589(0x163)]===_0x463589(0x117)&&(_0x166f01=!![],_0xe7fae6=0x5a0,_0x22c057='Guest\x20Mode');pythonBridge['send'](this,'SET_LEARNING_MODE',{'active':_0x166f01,'duration':_0xe7fae6,'label':_0x22c057}),await this['setStateAsync']('analysis.security.learningStatus',{'val':JSON[_0x463589(0x21c)]({'active':_0x166f01,'label':_0x22c057,'timestamp':Date[_0x463589(0x232)]()}),'ack':!![]});}}if(!_0xafb0d3[_0x463589(0x1a0)])this['setState'](_0x3316ee,{'val':this[_0x463589(0x163)],'ack':!![]});return;}_0x3316ee[_0x463589(0x14d)](_0x463589(0x174))&&_0xafb0d3[_0x463589(0x1a0)]&&this[_0x463589(0x140)](_0xafb0d3[_0x463589(0x1e0)]);_0x3316ee[_0x463589(0x14d)](_0x463589(0x101))&&_0xafb0d3[_0x463589(0x1a0)]&&(this[_0x463589(0x109)]['moduleEnergy']!==![]&&automation[_0x463589(0x219)](this));if(!_0xafb0d3[_0x463589(0x1a0)]){if(_0x3316ee[_0x463589(0x241)]('analysis.trigger')&&_0xafb0d3[_0x463589(0x1e0)]){this[_0x463589(0x200)](_0x3316ee,{'val':![],'ack':!![]}),aiAgent[_0x463589(0x1fe)](this);return;}if(_0x3316ee[_0x463589(0x241)](_0x463589(0x192))&&_0xafb0d3[_0x463589(0x1e0)]){this[_0x463589(0x200)](_0x3316ee,{'val':![],'ack':!![]});if(this[_0x463589(0x150)])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x3316ee[_0x463589(0x241)]('triggerBriefing')&&_0xafb0d3[_0x463589(0x1e0)]){this[_0x463589(0x200)](_0x3316ee,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0x3316ee['includes'](_0x463589(0x16a))&&_0xafb0d3[_0x463589(0x1e0)]){this['setState'](_0x3316ee,{'val':![],'ack':!![]}),aiAgent[_0x463589(0x108)](this);return;}if(_0x3316ee[_0x463589(0x241)](_0x463589(0x169))&&_0xafb0d3['val']){this[_0x463589(0x200)](_0x3316ee,{'val':![],'ack':!![]});if(this[_0x463589(0x109)][_0x463589(0x123)]===![])return;if(this[_0x463589(0x150)])try{const _0x39fea4=await this[_0x463589(0x240)](_0x463589(0x1b2));if(_0x39fea4&&_0x39fea4['val']){const _0x298408=JSON['parse'](_0x39fea4[_0x463589(0x1e0)]);this[_0x463589(0x1a6)](_0x463589(0x148),{'val':_0x463589(0x146),'ack':!![]}),pythonBridge['send'](this,_0x463589(0x1a7),{'sequences':_0x298408});}}catch(_0x50174f){}return;}if(_0x3316ee[_0x463589(0x241)]('analysis.training.triggerHealth')&&_0xafb0d3[_0x463589(0x1e0)]){this[_0x463589(0x200)](_0x3316ee,{'val':![],'ack':!![]});if(this['config']['moduleHealth']===![])return;if(this[_0x463589(0x150)])try{const _0x33d6bb=await this[_0x463589(0x240)](_0x463589(0x19f));if(_0x33d6bb&&_0x33d6bb[_0x463589(0x1e0)])pythonBridge[_0x463589(0x1da)](this,_0x463589(0x1dd),{'digests':JSON[_0x463589(0x1eb)](_0x33d6bb['val'])});}catch(_0x1d3bf8){}return;}if(_0x3316ee[_0x463589(0x241)](_0x463589(0x20c))&&_0xafb0d3['val']){this[_0x463589(0x200)](_0x3316ee,{'val':![],'ack':!![]});if(this['config'][_0x463589(0x1c3)]===![])return;if(this[_0x463589(0x150)])try{const _0x57bcfa=await this['getStateAsync'](_0x463589(0x1f9));if(_0x57bcfa&&_0x57bcfa[_0x463589(0x1e0)])pythonBridge[_0x463589(0x1da)](this,_0x463589(0x206),{'points':JSON[_0x463589(0x1eb)](_0x57bcfa[_0x463589(0x1e0)])});}catch(_0x50f815){}return;}if(_0x3316ee[_0x463589(0x241)](_0x463589(0x1f0))&&_0xafb0d3[_0x463589(0x1e0)]){this['setState'](_0x3316ee,{'val':![],'ack':!![]});if(this['config']['moduleComfort']===![])return;if(this[_0x463589(0x150)])try{const _0x4ed7c8=await this[_0x463589(0x240)](_0x463589(0x15a));if(_0x4ed7c8&&_0x4ed7c8[_0x463589(0x1e0)]){const _0x24a293={};this[_0x463589(0x109)][_0x463589(0x229)]&&Array[_0x463589(0x175)](this[_0x463589(0x109)][_0x463589(0x229)])&&this[_0x463589(0x109)][_0x463589(0x229)][_0x463589(0x185)](_0x2b4973=>{const _0x192028=_0x463589;if(_0x2b4973['id']&&_0x2b4973[_0x192028(0x1a5)])_0x24a293[_0x2b4973['id']]=_0x2b4973[_0x192028(0x1a5)];}),pythonBridge[_0x463589(0x1da)](this,_0x463589(0x13d),{'events':JSON['parse'](_0x4ed7c8[_0x463589(0x1e0)]),'deviceMap':_0x24a293});}}catch(_0x3f704d){this[_0x463589(0x104)][_0x463589(0x179)](_0x463589(0x205)+_0x3f704d[_0x463589(0x157)]);}return;}if(_0x3316ee[_0x463589(0x241)](_0x463589(0x19c))&&_0xafb0d3[_0x463589(0x1e0)]){this[_0x463589(0x200)](_0x3316ee,{'val':![],'ack':!![]}),topology['updateTopology'](this);if(this['isProVersion'])try{const _0x1b528f=await this[_0x463589(0x240)](_0x463589(0x1b2));if(_0x1b528f&&_0x1b528f[_0x463589(0x1e0)]){const _0x4c89e1=JSON[_0x463589(0x1eb)](_0x1b528f[_0x463589(0x1e0)]);pythonBridge[_0x463589(0x1da)](this,'TRAIN_TOPOLOGY',{'sequences':_0x4c89e1});}}catch(_0x5e4077){this[_0x463589(0x104)][_0x463589(0x179)](_0x463589(0x1cb)+_0x5e4077[_0x463589(0x157)]);}return;}}const _0x48974c=(this['config'][_0x463589(0x229)]||[])['find'](_0x5e552a=>_0x5e552a['id']===_0x3316ee);if(_0x48974c){const _0xf20cdc=await recorder['processSensorEvent'](this,_0x3316ee,_0xafb0d3,_0x48974c);_0xf20cdc&&_0xf20cdc[_0x463589(0x1a5)]===_0x463589(0x160)&&_0xf20cdc[_0x463589(0x184)]&&this['isProVersion']&&(this[_0x463589(0x109)][_0x463589(0x123)]!==![]&&deadMan[_0x463589(0xf0)](this,_0xf20cdc[_0x463589(0x184)])),_0xafb0d3[_0x463589(0x1e0)]&&(_0xafb0d3['val']===!![]||_0xafb0d3[_0x463589(0x1e0)]===0x1||String(_0xafb0d3[_0x463589(0x1e0)])[_0x463589(0x21f)]()===_0x463589(0xfc))&&(_0x48974c[_0x463589(0x1a5)]&&(_0x48974c[_0x463589(0x1a5)][_0x463589(0x241)]('window')||_0x48974c['type'][_0x463589(0x241)]('door')||_0x48974c[_0x463589(0x1a5)][_0x463589(0x241)](_0x463589(0x1d3)))&&this[_0x463589(0x1f8)](_0x48974c)),(_0x48974c[_0x463589(0x1a5)]===_0x463589(0x20f)||_0x48974c[_0x463589(0x1a5)]==='thermostat')&&(this[_0x463589(0x109)][_0x463589(0x1c3)]!==![]&&automation['cleanupGhostInterventions'](this));}}async[a0_0x48b0bc(0x140)](_0x5baa13){const _0x4c6dd0=a0_0x48b0bc;if(!this['memoryCache']||Date[_0x4c6dd0(0x232)]()-this[_0x4c6dd0(0x119)]>0x493e0)return;if(!this[_0x4c6dd0(0x11e)][_0x4c6dd0(0x208)]||!this[_0x4c6dd0(0x11e)][_0x4c6dd0(0x16e)])return;try{const _0xa5c3ee=JSON['parse'](_0x5baa13),_0x2bcfa7=this[_0x4c6dd0(0x11e)][_0x4c6dd0(0x208)];let _0x127b8c=![];for(const _0x1c8c2a in _0x2bcfa7){if(_0x2bcfa7[_0x1c8c2a][_0x4c6dd0(0x241)]('AI')&&_0xa5c3ee[_0x1c8c2a]&&!_0xa5c3ee[_0x1c8c2a]['includes']('AI')){_0x127b8c=!![];break;}}_0x127b8c&&(await this[_0x4c6dd0(0x1a6)](_0x4c6dd0(0x101),{'val':JSON['stringify'](this[_0x4c6dd0(0x11e)][_0x4c6dd0(0x16e)]),'ack':!![]}),await this[_0x4c6dd0(0x1a6)](_0x4c6dd0(0x174),{'val':JSON['stringify'](this[_0x4c6dd0(0x11e)][_0x4c6dd0(0x208)]),'ack':!![]}));}catch(_0x48b6b2){}}async[a0_0x48b0bc(0x1b7)](_0x18afee){const _0x3ca95d=a0_0x48b0bc;if(typeof _0x18afee===_0x3ca95d(0x106)&&_0x18afee['message']){if(_0x18afee[_0x3ca95d(0x13b)]===_0x3ca95d(0x1bc))try{const _0x4c46bc=await automation['scanThermostats'](this);this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':!![],'results':_0x4c46bc},_0x18afee[_0x3ca95d(0x18d)]);}catch(_0x24280d){this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee['command'],{'success':![],'error':_0x24280d[_0x3ca95d(0x157)]},_0x18afee['callback']);}else{if(_0x18afee[_0x3ca95d(0x13b)]==='getOverviewData'){const _0x23ca44=this['dailyDigests'][_0x3ca95d(0x10d)];let _0x1d872a=new Array(0x18)[_0x3ca95d(0x227)](0x0);try{const _0x2d20b5=await this[_0x3ca95d(0x240)]('analysis.health.todayVector');if(_0x2d20b5&&_0x2d20b5[_0x3ca95d(0x1e0)])_0x1d872a=JSON[_0x3ca95d(0x1eb)](_0x2d20b5[_0x3ca95d(0x1e0)]);else{const _0x1bb6da=new Date()[_0x3ca95d(0x1c1)](0x0,0x0,0x0,0x0);this['eventHistory']&&this[_0x3ca95d(0xfd)]['forEach'](_0x34e120=>{const _0x438f5c=_0x3ca95d;if(_0x34e120[_0x438f5c(0x16c)]>=_0x1bb6da){const _0x36ec00=new Date(_0x34e120[_0x438f5c(0x16c)])[_0x438f5c(0x19b)]();if(_0x36ec00>=0x0&&_0x36ec00<0x18)_0x1d872a[_0x36ec00]++;}});}}catch(_0x49a8c7){this['log'][_0x3ca95d(0x1aa)]('Could\x20not\x20read\x20daily\x20vector:\x20'+_0x49a8c7['message']);}let _0x4b384f={'today':{},'yesterday':{}};try{const _0x33bbe5=await this[_0x3ca95d(0x240)](_0x3ca95d(0x197));if(_0x33bbe5&&_0x33bbe5['val'])_0x4b384f=JSON[_0x3ca95d(0x1eb)](_0x33bbe5[_0x3ca95d(0x1e0)]);}catch(_0x35afba){}let _0x16f9a7=![],_0x312e44='',_0x5b69fe='',_0x39a1a2='';try{const _0x2bd1dc=await this[_0x3ca95d(0x240)]('analysis.automation.patternDetected');if(_0x2bd1dc&&_0x2bd1dc[_0x3ca95d(0x1e0)]){_0x16f9a7=!![];const _0x5ec4a4=await this['getStateAsync'](_0x3ca95d(0x1de));_0x312e44=_0x5ec4a4?_0x5ec4a4['val']:'';const _0x8aa77b=await this['getStateAsync'](_0x3ca95d(0x215));_0x5b69fe=_0x8aa77b?_0x8aa77b[_0x3ca95d(0x1e0)]:'';const _0x3c4284=await this[_0x3ca95d(0x240)]('analysis.automation.targetValue');_0x39a1a2=_0x3c4284?_0x3c4284['val']:'';}}catch(_0x52187d){}const _0x1a5313=await this[_0x3ca95d(0x1ea)](),_0x11147d=(this['config'][_0x3ca95d(0x229)]||[])[_0x3ca95d(0x158)](_0x4c298a=>_0x4c298a[_0x3ca95d(0x23c)]),_0x12bec2=_0x1a5313&&_0x11147d;let _0x1d4782='';try{const _0x3144ff=await this[_0x3ca95d(0x240)]('system.presenceWho');if(_0x3144ff&&_0x3144ff['val'])_0x1d4782=_0x3144ff[_0x3ca95d(0x1e0)];}catch(_0x45a6e4){}this['sendTo'](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':!![],'eventHistory':this[_0x3ca95d(0xfd)][_0x3ca95d(0x1bf)](0x0,0x64),'stats':{'digestCount':_0x23ca44,'isPresent':this[_0x3ca95d(0x204)],'hourlyActivity':_0x1d872a,'solarActive':_0x12bec2,'presenceWho':_0x1d4782,'roomStats':_0x4b384f},'automation':{'detected':_0x16f9a7,'description':_0x312e44,'targetId':_0x5b69fe,'targetValue':_0x39a1a2}},_0x18afee[_0x3ca95d(0x18d)]);}else{if(_0x18afee[_0x3ca95d(0x13b)]===_0x3ca95d(0xf5))try{const {current_temps:_0x2aa271,t_out:_0x22a383,targets:_0x3d0560,t_forecast:_0x45b6f4}=_0x18afee[_0x3ca95d(0x157)],_0x4809e3=[];let _0x31e488={};try{const _0x341520=await this['getStateAsync'](_0x3ca95d(0x105));if(_0x341520&&_0x341520['val']){const _0x8f1cae=JSON[_0x3ca95d(0x1eb)](_0x341520[_0x3ca95d(0x1e0)]);_0x31e488=_0x8f1cae[_0x3ca95d(0x218)]||_0x8f1cae;}}catch(_0x1c8851){}const _0x351e5d=_0x45b6f4!==undefined&&_0x45b6f4!==null?(_0x22a383+_0x45b6f4)/0x2:_0x22a383;for(const [_0x2f5c3c,_0xbdd846]of Object[_0x3ca95d(0x10b)](_0x2aa271)){const _0x20d591=_0x3d0560[_0x2f5c3c]||0x15;if(_0xbdd846<=_0x20d591)continue;let _0x412d80=_0x31e488[_0x2f5c3c]||-0.5;if(_0x412d80>=0x0)_0x412d80=-0.5;const _0x22ebf2=Math[_0x3ca95d(0x1ab)](_0x412d80),_0x47f492=_0xbdd846-_0x20d591;let _0x3c7d46=Math[_0x3ca95d(0x137)](_0x47f492/_0x22ebf2*0x3c);const _0x1d240e=_0xbdd846-_0x22a383,_0x4e12af=_0xbdd846-_0x351e5d;if(_0x4e12af!==0x0&&_0x1d240e!==0x0){const _0x203153=_0x1d240e/_0x4e12af;_0x3c7d46=Math[_0x3ca95d(0x137)](_0x3c7d46*_0x203153);}if(_0x3c7d46>0xf){if(_0x3c7d46>0xf0)_0x3c7d46=0xf0;_0x4809e3[_0x3ca95d(0x225)]({'room':_0x2f5c3c,'minutes_safe':_0x3c7d46,'target':_0x20d591,'current':_0xbdd846,'savings_msg':'Heizung\x20kann\x20'+_0x3c7d46+'\x20min\x20ausbleiben.'});}}_0x4809e3[_0x3ca95d(0x132)]((_0x4df8b6,_0x3cc0e6)=>_0x3cc0e6[_0x3ca95d(0x13e)]-_0x4df8b6[_0x3ca95d(0x13e)]),this[_0x3ca95d(0x1b6)](_0x18afee['from'],_0x18afee[_0x3ca95d(0x13b)],{'success':!![],'proposals':_0x4809e3},_0x18afee['callback']);}catch(_0x493e4e){this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee['command'],{'success':![],'error':_0x493e4e[_0x3ca95d(0x157)]},_0x18afee['callback']);}else{if(_0x18afee[_0x3ca95d(0x13b)]==='refreshCalendar')try{await automation[_0x3ca95d(0x102)](this),this['sendTo'](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':!![]},_0x18afee[_0x3ca95d(0x18d)]);}catch(_0x2d7018){this['sendTo'](_0x18afee['from'],_0x18afee[_0x3ca95d(0x13b)],{'success':![],'error':_0x2d7018[_0x3ca95d(0x157)]},_0x18afee['callback']);}else{if(_0x18afee[_0x3ca95d(0x13b)]==='resetRLPenalty')try{const _0x2a6e4c=_0x18afee[_0x3ca95d(0x157)][_0x3ca95d(0x142)],_0x22c5cb=_0x3ca95d(0x18c),_0x425c45=await this[_0x3ca95d(0x240)](_0x22c5cb);let _0x1bc07a={};if(_0x425c45&&_0x425c45[_0x3ca95d(0x1e0)])try{_0x1bc07a=JSON[_0x3ca95d(0x1eb)](_0x425c45['val']);}catch(_0x265955){}_0x2a6e4c&&_0x1bc07a[_0x2a6e4c]?(delete _0x1bc07a[_0x2a6e4c],await this[_0x3ca95d(0x1a6)](_0x22c5cb,{'val':JSON[_0x3ca95d(0x21c)](_0x1bc07a),'ack':!![]}),this[_0x3ca95d(0x104)][_0x3ca95d(0x1cf)]('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0x2a6e4c+_0x3ca95d(0x1c4)),this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee['command'],{'success':!![]},_0x18afee[_0x3ca95d(0x18d)])):this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0x18afee['callback']);}catch(_0x9af3d8){this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee['command'],{'success':![],'error':_0x9af3d8[_0x3ca95d(0x157)]},_0x18afee[_0x3ca95d(0x18d)]);}else{if(_0x18afee[_0x3ca95d(0x13b)]===_0x3ca95d(0x242))await this['setStateAsync']('analysis.automation.patternDetected',{'val':![],'ack':!![]}),await this[_0x3ca95d(0x1a6)]('analysis.automation.description',{'val':'','ack':!![]}),await this[_0x3ca95d(0x1a6)](_0x3ca95d(0x215),{'val':'','ack':!![]}),this[_0x3ca95d(0x1b6)](_0x18afee['from'],_0x18afee[_0x3ca95d(0x13b)],{'success':!![]},_0x18afee['callback']);else{if(_0x18afee[_0x3ca95d(0x13b)]===_0x3ca95d(0x195)){const {targetId:_0x361371,targetValue:_0xcc922f}=_0x18afee[_0x3ca95d(0x157)];await this[_0x3ca95d(0x1a6)](_0x3ca95d(0x235),{'val':!![],'ack':!![]}),await this[_0x3ca95d(0x1a6)](_0x3ca95d(0x1de),{'val':_0x3ca95d(0x1b1),'ack':!![]}),await this[_0x3ca95d(0x1a6)]('analysis.automation.targetId',{'val':_0x361371,'ack':!![]}),await this[_0x3ca95d(0x1a6)](_0x3ca95d(0x17d),{'val':String(_0xcc922f),'ack':!![]}),this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':!![]},_0x18afee[_0x3ca95d(0x18d)]);}else{if(_0x18afee[_0x3ca95d(0x13b)]===_0x3ca95d(0xfe))try{const _0x18d636=_0x18afee[_0x3ca95d(0x157)][_0x3ca95d(0x10f)];if(!_0x18d636)throw new Error(_0x3ca95d(0x133));const _0x101365=new GoogleGenerativeAI(_0x18d636),_0x21e423=_0x101365[_0x3ca95d(0x187)]({'model':GEMINI_MODEL}),_0x174581=await _0x21e423[_0x3ca95d(0x220)]('Test'),_0x468ecb=await _0x174581['response'];if(_0x468ecb[_0x3ca95d(0x207)]())this['sendTo'](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':!![],'message':_0x3ca95d(0x224)},_0x18afee[_0x3ca95d(0x18d)]);else throw new Error(_0x3ca95d(0x17e));}catch(_0x5d39d7){this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':![],'message':_0x5d39d7[_0x3ca95d(0x157)]},_0x18afee[_0x3ca95d(0x18d)]);}else{if(_0x18afee[_0x3ca95d(0x13b)]===_0x3ca95d(0x159))try{const _0x2f5709=await scanner[_0x3ca95d(0x194)](this,_0x18afee['message']||{});this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':!![],'devices':_0x2f5709},_0x18afee['callback']);}catch(_0x547e82){this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':![],'error':_0x547e82['message']},_0x18afee[_0x3ca95d(0x18d)]);}else{if(_0x18afee[_0x3ca95d(0x13b)]==='updateTopologyMatrix')try{const {matrix:_0x3a1d0c}=_0x18afee[_0x3ca95d(0x157)],_0x441176=await this[_0x3ca95d(0x240)](_0x3ca95d(0x12f));if(_0x441176&&_0x441176[_0x3ca95d(0x1e0)]){const _0x453414=JSON[_0x3ca95d(0x1eb)](_0x441176['val']);_0x453414[_0x3ca95d(0x1a4)]=_0x3a1d0c,_0x453414[_0x3ca95d(0x1ca)]=Date[_0x3ca95d(0x232)](),await this['setStateAsync'](_0x3ca95d(0x12f),{'val':JSON[_0x3ca95d(0x21c)](_0x453414),'ack':!![]}),pythonBridge['send'](this,_0x3ca95d(0x154),_0x453414);}this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':!![]},_0x18afee[_0x3ca95d(0x18d)]);}catch(_0x285379){this[_0x3ca95d(0x104)][_0x3ca95d(0x179)](_0x285379);}else{if(_0x18afee[_0x3ca95d(0x13b)]===_0x3ca95d(0x15d))this[_0x3ca95d(0x1b6)](_0x18afee['from'],_0x18afee[_0x3ca95d(0x13b)],{'success':!![],'dailyDigests':this[_0x3ca95d(0x1ff)]||[],'analysisHistory':this[_0x3ca95d(0x1b3)]||[]},_0x18afee[_0x3ca95d(0x18d)]);else{if(_0x18afee[_0x3ca95d(0x13b)]===_0x3ca95d(0x1d0)){const _0x438379=await this['getForeignObjectsAsync']('enum.functions.*',_0x3ca95d(0x165)),_0x3ec7ae=[];if(_0x438379)for(const _0x19fd54 in _0x438379){const _0x22237e=_0x438379[_0x19fd54],_0x4c6050=(_0x22237e[_0x3ca95d(0x22a)]&&typeof _0x22237e['common']['name']==='object'?_0x22237e[_0x3ca95d(0x22a)][_0x3ca95d(0x22c)]['de']:_0x22237e[_0x3ca95d(0x22a)][_0x3ca95d(0x22c)])||_0x22237e[_0x3ca95d(0x22a)][_0x3ca95d(0x22c)];_0x3ec7ae['push']({'id':_0x19fd54,'name':_0x4c6050});}const _0x1946ff=await this[_0x3ca95d(0x152)](_0x3ca95d(0x228),_0x3ca95d(0x165)),_0x534e58=[];if(_0x1946ff)for(const _0x5bc18e in _0x1946ff){const _0xb0289d=_0x1946ff[_0x5bc18e],_0x47ad08=(_0xb0289d[_0x3ca95d(0x22a)]&&typeof _0xb0289d[_0x3ca95d(0x22a)][_0x3ca95d(0x22c)]===_0x3ca95d(0x106)?_0xb0289d['common'][_0x3ca95d(0x22c)]['de']:_0xb0289d['common'][_0x3ca95d(0x22c)])||_0x5bc18e['split']('.')['pop']();_0x534e58[_0x3ca95d(0x225)](_0x47ad08);}this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':!![],'enums':_0x3ec7ae,'rooms':_0x534e58},_0x18afee[_0x3ca95d(0x18d)]);}else{if(_0x18afee['command']==='testContext')try{let _0x7ab560=_0x3ca95d(0x199),_0x3aa859='Kein\x20Kalender-Adapter';if(this[_0x3ca95d(0x109)]['useWeather']){const _0x34ca61=await recorder[_0x3ca95d(0x237)](this);_0x7ab560=_0x34ca61!==null?_0x34ca61+'Â°C':_0x3ca95d(0x216);}if(this[_0x3ca95d(0x109)][_0x3ca95d(0x103)]){const _0x59d20b=await this[_0x3ca95d(0x20a)](_0x3ca95d(0x156)+this[_0x3ca95d(0x109)][_0x3ca95d(0x103)]);_0x3aa859=_0x59d20b?_0x3ca95d(0x1e4):_0x3ca95d(0x11c);}this[_0x3ca95d(0x1b6)](_0x18afee['from'],_0x18afee[_0x3ca95d(0x13b)],{'success':!![],'weather':_0x7ab560,'calendar':_0x3aa859},_0x18afee[_0x3ca95d(0x18d)]);}catch(_0x7de988){this[_0x3ca95d(0x1b6)](_0x18afee['from'],_0x18afee[_0x3ca95d(0x13b)],{'success':![],'error':_0x7de988[_0x3ca95d(0x157)]},_0x18afee[_0x3ca95d(0x18d)]);}else{if(_0x18afee[_0x3ca95d(0x13b)]==='getCalendarNames')try{const _0x489074=_0x18afee[_0x3ca95d(0x157)]['instance'],_0x283fc6=await this[_0x3ca95d(0x128)](_0x489074+'.data.table');let _0x2a0599=[];if(_0x283fc6&&_0x283fc6[_0x3ca95d(0x1e0)]){const _0x58b5b8=JSON[_0x3ca95d(0x1eb)](_0x283fc6['val']),_0x3e7592=new Set();Array[_0x3ca95d(0x175)](_0x58b5b8)&&_0x58b5b8[_0x3ca95d(0x185)](_0x4d42b7=>{const _0x4fb156=_0x3ca95d;if(_0x4d42b7[_0x4fb156(0x221)])_0x3e7592[_0x4fb156(0x15c)](_0x4d42b7[_0x4fb156(0x221)]);else{if(_0x4d42b7['calendarName'])_0x3e7592[_0x4fb156(0x15c)](_0x4d42b7[_0x4fb156(0x12a)]);}}),_0x2a0599=Array[_0x3ca95d(0x1df)](_0x3e7592)[_0x3ca95d(0x132)]();}if(_0x2a0599[_0x3ca95d(0x10d)]===0x0)_0x2a0599=['Standard'];this[_0x3ca95d(0x1b6)](_0x18afee['from'],_0x18afee[_0x3ca95d(0x13b)],{'success':!![],'names':_0x2a0599},_0x18afee[_0x3ca95d(0x18d)]);}catch(_0x41c9f8){this[_0x3ca95d(0x1b6)](_0x18afee[_0x3ca95d(0x1df)],_0x18afee[_0x3ca95d(0x13b)],{'success':![],'error':_0x41c9f8[_0x3ca95d(0x157)]},_0x18afee[_0x3ca95d(0x18d)]);}else{if(_0x18afee[_0x3ca95d(0x13b)]===_0x3ca95d(0x1fc))try{await setup['sendNotification'](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this['sendTo'](_0x18afee['from'],_0x18afee['command'],{'success':!![],'message':_0x3ca95d(0x130)},_0x18afee[_0x3ca95d(0x18d)]);}catch(_0x22942d){this[_0x3ca95d(0x104)][_0x3ca95d(0x179)](_0x3ca95d(0x1f3)+_0x22942d[_0x3ca95d(0x157)]),this['sendTo'](_0x18afee[_0x3ca95d(0x1df)],_0x18afee['command'],{'success':![],'message':'Fehler:\x20'+_0x22942d['message']},_0x18afee[_0x3ca95d(0x18d)]);}}}}}}}}}}}}}}}}}async[a0_0x48b0bc(0x1ae)](){const _0x318d0a=a0_0x48b0bc;try{const _0x2f4ae5=await this['getStateAsync'](setup[_0x318d0a(0x1e7)]);_0x2f4ae5&&_0x2f4ae5[_0x318d0a(0x1e0)]&&Object[_0x318d0a(0x12c)](setup[_0x318d0a(0x15e)])['includes'](_0x2f4ae5['val'])?this[_0x318d0a(0x163)]=_0x2f4ae5[_0x318d0a(0x1e0)]:(this['currentSystemMode']=setup['SYSTEM_MODES'][_0x318d0a(0x233)],await this['setStateAsync'](setup['SYSTEM_DP_MODE'],{'val':setup[_0x318d0a(0x15e)][_0x318d0a(0x233)],'ack':!![]}));}catch(_0x4dc2cb){this['currentSystemMode']=setup[_0x318d0a(0x15e)][_0x318d0a(0x233)];}}async[a0_0x48b0bc(0x1e8)](){const _0x20437c=a0_0x48b0bc;try{const _0x2dac95=this[_0x20437c(0x109)][_0x20437c(0x13c)]||[];let _0x223aad=![];const _0x2922fc=[];for(const _0x24ad07 of _0x2dac95){try{const _0x5b21ed=await this['getForeignStateAsync'](_0x24ad07);_0x5b21ed&&(_0x5b21ed[_0x20437c(0x1e0)]===!![]||_0x5b21ed['val']==='online'||_0x5b21ed[_0x20437c(0x1e0)]===0x1)&&(_0x223aad=!![],_0x2922fc[_0x20437c(0x225)](_0x24ad07));}catch(_0x515662){}}return await this[_0x20437c(0x1a6)](_0x20437c(0x1f7),{'val':_0x2922fc[_0x20437c(0x202)](',\x20'),'ack':!![]}),_0x223aad&&(this[_0x20437c(0xfa)]&&(this[_0x20437c(0x104)][_0x20437c(0x1cf)](_0x20437c(0x1a8)),recorder['abortExitTimer'](this)),!this[_0x20437c(0x204)]&&this[_0x20437c(0x163)]===setup[_0x20437c(0x15e)][_0x20437c(0x233)]&&await recorder[_0x20437c(0x21e)](this,!![])),_0x223aad;}catch(_0x316d5a){return![];}}async[a0_0x48b0bc(0x1f2)](){const _0x4d5e4f=a0_0x48b0bc;this['log'][_0x4d5e4f(0x19d)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent['runGeminiAnalysis'](this),this[_0x4d5e4f(0x188)](),this[_0x4d5e4f(0x126)](),this[_0x4d5e4f(0x211)]();}async[a0_0x48b0bc(0x1ea)](){const _0xe232cb=a0_0x48b0bc,_0x489470=[_0xe232cb(0x1ac),_0xe232cb(0x1d2),_0xe232cb(0x138)],_0x4945ef=[_0xe232cb(0x180),'Current.WeatherText',_0xe232cb(0x14e)];for(const _0x5e004b of _0x489470){for(const _0x496580 of _0x4945ef){try{const _0x2990cc=_0x5e004b+'.'+_0x496580,_0x49c0c8=await this[_0xe232cb(0x128)](_0x2990cc);if(_0x49c0c8&&_0x49c0c8['val']){const _0x748af2=String(_0x49c0c8[_0xe232cb(0x1e0)])[_0xe232cb(0x21f)]();if(_0x748af2[_0xe232cb(0x241)]('sonn')||_0x748af2[_0xe232cb(0x241)](_0xe232cb(0x11b))||_0x748af2[_0xe232cb(0x241)](_0xe232cb(0x1e6))||_0x748af2[_0xe232cb(0x241)]('clear')||_0x748af2[_0xe232cb(0x241)]('heiter'))return!![];}}catch(_0x701aaa){}}}return![];}[a0_0x48b0bc(0x126)](){const _0x4be98c=a0_0x48b0bc;if(!this[_0x4be98c(0x150)])return;try{this[_0x4be98c(0xf3)](_0x4be98c(0x1b2),(_0x342015,_0x1ff2cc)=>{const _0x55fccb=_0x4be98c;_0x1ff2cc&&_0x1ff2cc[_0x55fccb(0x1e0)]&&pythonBridge[_0x55fccb(0x1da)](this,_0x55fccb(0x21b),{'sequences':JSON[_0x55fccb(0x1eb)](_0x1ff2cc[_0x55fccb(0x1e0)])});});}catch(_0x8bacb){}}async[a0_0x48b0bc(0x211)](){const _0xab6643=a0_0x48b0bc;if(!this[_0xab6643(0x150)])return;try{const _0x526a9f=await recorder[_0xab6643(0x237)](this);if(_0x526a9f===null)return;const _0xc9c27b={},_0x5b8203={},_0x5d7999=this[_0xab6643(0x109)][_0xab6643(0x229)]||[];for(const _0xc5e87 of _0x5d7999){if(_0xc5e87[_0xab6643(0x1a5)]===_0xab6643(0x20f)&&_0xc5e87[_0xab6643(0x184)]){const _0x2bdd39=this[_0xab6643(0x178)][_0xc5e87['id']];if(_0x2bdd39!==undefined)_0xc9c27b[_0xc5e87[_0xab6643(0x184)]]=_0x2bdd39;if(_0xc5e87[_0xab6643(0x23c)])_0x5b8203[_0xc5e87[_0xab6643(0x184)]]=!![];}}const _0x39bef5=await this[_0xab6643(0x1ea)]();let _0x5a9797={};try{const _0x598589=await this[_0xab6643(0x240)](_0xab6643(0x1e9));if(_0x598589&&_0x598589[_0xab6643(0x1e0)])_0x5a9797=JSON[_0xab6643(0x1eb)](_0x598589['val']);}catch(_0x212504){}Object['keys'](_0xc9c27b)['length']>0x0&&(pythonBridge[_0xab6643(0x1da)](this,_0xab6643(0x17f),{'current_temps':_0xc9c27b,'t_out':_0x526a9f,'is_sunny':_0x39bef5,'solar_flags':_0x5b8203,'warmup_targets':_0x5a9797}),pythonBridge[_0xab6643(0x1da)](this,_0xab6643(0xff),{'current_temps':_0xc9c27b,'t_out':_0x526a9f,'targets':{}}));}catch(_0x35cb4e){}}[a0_0x48b0bc(0x188)](){const _0x290420=a0_0x48b0bc;if(!this[_0x290420(0x189)]||this[_0x290420(0x189)]['length']===0x0)return;const _0x3d7e08=new Array(0x60)['fill'](0x0),_0x37e096=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x290420(0x189)]['forEach'](_0x96c851=>{const _0x3cdc13=_0x290420,_0x43eeeb=new Date(_0x96c851[_0x3cdc13(0x16c)]);if(_0x43eeeb[_0x3cdc13(0x10c)]()>=_0x37e096){const _0x2b3e26=_0x43eeeb['getHours'](),_0x42c11c=_0x43eeeb['getMinutes'](),_0x43fe5a=_0x2b3e26*0x4+Math['floor'](_0x42c11c/0xf);if(_0x43fe5a>=0x0&&_0x43fe5a<0x60)_0x3d7e08[_0x43fe5a]++;}});}async[a0_0x48b0bc(0x1cd)](_0x16ea1e){const _0x1cd2f0=a0_0x48b0bc;if(_0x16ea1e==null||typeof _0x16ea1e!==_0x1cd2f0(0xf6))return;const _0x222f76=Date[_0x1cd2f0(0x232)]();this[_0x1cd2f0(0x125)]['push']({'ts':_0x222f76,'val':_0x16ea1e}),this[_0x1cd2f0(0x125)]=this[_0x1cd2f0(0x125)][_0x1cd2f0(0x1c8)](_0x3ecc49=>_0x222f76-_0x3ecc49['ts']<0x1388);if(this[_0x1cd2f0(0x1b4)])return;if(this['config'][_0x1cd2f0(0x17c)]){const _0x5d7f8c=await this['getForeignStateAsync'](this[_0x1cd2f0(0x109)][_0x1cd2f0(0x17c)]);if(_0x5d7f8c&&!_0x5d7f8c['val'])return;}const _0x5c12ab=this['config'][_0x1cd2f0(0x23d)]||0.04;if(Math['abs'](_0x16ea1e)>=_0x5c12ab){this[_0x1cd2f0(0x104)]['warn'](_0x1cd2f0(0x176)+_0x16ea1e+_0x1cd2f0(0x1b9)+_0x5c12ab+')'),await this[_0x1cd2f0(0x1a6)](_0x1cd2f0(0x167),{'val':!![],'ack':!![]});const _0x4ce53e=this['isPresent'];_0x4ce53e?(this[_0x1cd2f0(0x104)][_0x1cd2f0(0x1cf)]('[Infrasound]\x20ðŸŸ¡\x20Debug-Mode:\x20Alarm\x20detected\x20but\x20suppressed\x20because\x20presence=true.'),this['triggerInfrasoundCorrelation'](_0x16ea1e,'INTERNAL')):(this[_0x1cd2f0(0x1c5)](_0x16ea1e,_0x1cd2f0(0x15b)),this[_0x1cd2f0(0x20e)](_0x1cd2f0(0x115)+_0x16ea1e+'\x20hPa.\x20Einbruch\x20wahrscheinlich.')),this[_0x1cd2f0(0x1b4)]=!![],setTimeout(()=>{const _0x11ae5e=_0x1cd2f0;this[_0x11ae5e(0x1b4)]=![];},0x2710);}}async[a0_0x48b0bc(0x1c5)](_0x1ff605,_0x2fcb56=a0_0x48b0bc(0x15b)){const _0x4100f4=a0_0x48b0bc,_0x1b291f=Date[_0x4100f4(0x232)](),_0x3a0f5c=this[_0x4100f4(0x109)][_0x4100f4(0x229)]||[];setTimeout(async()=>{const _0x3dc754=_0x4100f4;let _0x283e51=null,_0x43ed3e='Keine\x20Sensor-AktivitÃ¤t';const _0x58aede=_0x3a0f5c['filter'](_0x2bceee=>_0x2bceee['type']&&(_0x2bceee[_0x3dc754(0x1a5)][_0x3dc754(0x241)](_0x3dc754(0x15f))||_0x2bceee['type'][_0x3dc754(0x241)]('door')||_0x2bceee['type'][_0x3dc754(0x241)](_0x3dc754(0x1d3))||_0x2bceee['type']['includes'](_0x3dc754(0x1a2)))||_0x2bceee['role']&&(_0x2bceee[_0x3dc754(0x1ee)]['includes'](_0x3dc754(0x1d7))||_0x2bceee[_0x3dc754(0x1ee)]['includes'](_0x3dc754(0x10e))));for(const _0x4cb8dc of _0x58aede){try{const _0x514f10=await this[_0x3dc754(0x128)](_0x4cb8dc['id']);if(_0x514f10){if(_0x514f10['ts']>=_0x1b291f-0x7d0){_0x283e51=_0x4cb8dc[_0x3dc754(0x22c)]||_0x4cb8dc['id'],_0x43ed3e=_0x3dc754(0x100)+_0x283e51;break;}}}catch(_0x4509a3){}}const _0x5e0787={'timestamp':_0x1b291f,'pressure':_0x1ff605,'isMatch':!!_0x283e51,'explanation':_0x43ed3e,'type':_0x2fcb56};await this[_0x3dc754(0x14a)](_0x5e0787),this[_0x3dc754(0x104)][_0x3dc754(0x1cf)](_0x3dc754(0x139)+(!!_0x283e51?_0x3dc754(0x18b):_0x3dc754(0x11f)));},0x1388);}async[a0_0x48b0bc(0x1f8)](_0x4e1034){const _0xc31c6b=a0_0x48b0bc,_0x2f8c7b=Date[_0xc31c6b(0x232)](),_0x1560a4=_0x4e1034[_0xc31c6b(0x22c)]||_0x4e1034['id'][_0xc31c6b(0x1b0)]('.')['pop']();let _0x3b0697=0x0;setTimeout(async()=>{const _0x146d5b=_0xc31c6b;this['pressureBuffer'][_0x146d5b(0x185)](_0xc2aa29=>{const _0x3853f1=_0x146d5b;_0xc2aa29['ts']>=_0x2f8c7b-0xfa0&&_0xc2aa29['ts']<=_0x2f8c7b+0x3e8&&(Math['abs'](_0xc2aa29[_0x3853f1(0x1e0)])>Math[_0x3853f1(0x1ab)](_0x3b0697)&&(_0x3b0697=_0xc2aa29[_0x3853f1(0x1e0)]));});const _0x17cff0=this[_0x146d5b(0x109)][_0x146d5b(0x23d)]||0.04,_0x55257e=Math['abs'](_0x3b0697)>=_0x17cff0,_0x5e44d2={'timestamp':_0x2f8c7b,'pressure':_0x3b0697,'isMatch':_0x55257e,'explanation':_0x146d5b(0x1ce)+_0x1560a4,'type':_0x146d5b(0x110)};await this[_0x146d5b(0x14a)](_0x5e44d2),this[_0x146d5b(0x104)]['debug'](_0x146d5b(0x116)+_0x1560a4+_0x146d5b(0x1fd)+_0x3b0697[_0x146d5b(0x127)](0x4)+'\x20hPa\x20(Threshold:\x20'+_0x17cff0+')');},0x1f4);}async['appendToLog'](_0x35c4de){const _0x3ffe31=a0_0x48b0bc;try{const _0x10bdb3=await this[_0x3ffe31(0x240)](_0x3ffe31(0x196));let _0x50f6b0=[];if(_0x10bdb3&&_0x10bdb3[_0x3ffe31(0x1e0)])_0x50f6b0=JSON[_0x3ffe31(0x1eb)](_0x10bdb3['val']);_0x50f6b0[_0x3ffe31(0x1c0)](_0x35c4de);if(_0x50f6b0[_0x3ffe31(0x10d)]>0x14)_0x50f6b0=_0x50f6b0[_0x3ffe31(0x1bf)](0x0,0x14);await this[_0x3ffe31(0x1a6)](_0x3ffe31(0x196),{'val':JSON[_0x3ffe31(0x21c)](_0x50f6b0),'ack':!![]});}catch(_0x12d46b){this[_0x3ffe31(0x104)]['error'](_0x3ffe31(0xf9)+_0x12d46b[_0x3ffe31(0x157)]);}}[a0_0x48b0bc(0x20e)](_0x406b99){const _0x2b9cd7=a0_0x48b0bc;this[_0x2b9cd7(0x109)]['notifyPushoverEnabled']&&this[_0x2b9cd7(0x109)][_0x2b9cd7(0x118)]&&this[_0x2b9cd7(0x1b6)](this[_0x2b9cd7(0x109)][_0x2b9cd7(0x118)],'send',{'message':_0x406b99,'title':_0x2b9cd7(0x1ba),'priority':0x1}),this['config'][_0x2b9cd7(0x1c7)]&&this['config'][_0x2b9cd7(0x22d)]&&this[_0x2b9cd7(0x1b6)](this['config'][_0x2b9cd7(0x22d)],_0x2b9cd7(0x1da),{'text':_0x406b99});}}if(require['main']!==module)module['exports']=_0x28e164=>new CogniLiving(_0x28e164);else new CogniLiving();