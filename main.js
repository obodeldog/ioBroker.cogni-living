const a0_0x443ac4=a0_0x4328;(function(_0x48590c,_0x12d6c7){const _0x46d1cc=a0_0x4328,_0x5a3ebc=_0x48590c();while(!![]){try{const _0x22504a=parseInt(_0x46d1cc(0x1ee))/0x1+parseInt(_0x46d1cc(0x164))/0x2+parseInt(_0x46d1cc(0xeb))/0x3*(parseInt(_0x46d1cc(0x173))/0x4)+-parseInt(_0x46d1cc(0x1f1))/0x5+-parseInt(_0x46d1cc(0xc5))/0x6*(-parseInt(_0x46d1cc(0x18f))/0x7)+-parseInt(_0x46d1cc(0x125))/0x8*(-parseInt(_0x46d1cc(0x170))/0x9)+parseInt(_0x46d1cc(0x270))/0xa*(-parseInt(_0x46d1cc(0xd2))/0xb);if(_0x22504a===_0x12d6c7)break;else _0x5a3ebc['push'](_0x5a3ebc['shift']());}catch(_0xf9f7f6){_0x5a3ebc['push'](_0x5a3ebc['shift']());}}}(a0_0x1496,0x9b541));const a0_0x4226e7=(function(){let _0x4d15ed=!![];return function(_0x3110d6,_0x568e1f){const _0x12023e=_0x4d15ed?function(){const _0x436e5e=a0_0x4328;if(_0x568e1f){const _0x631dfa=_0x568e1f[_0x436e5e(0x1b3)](_0x3110d6,arguments);return _0x568e1f=null,_0x631dfa;}}:function(){};return _0x4d15ed=![],_0x12023e;};}()),a0_0x44c0c3=a0_0x4226e7(this,function(){const _0x4389e3=a0_0x4328;return a0_0x44c0c3[_0x4389e3(0x180)]()['search'](_0x4389e3(0x266))[_0x4389e3(0x180)]()[_0x4389e3(0x9d)](a0_0x44c0c3)[_0x4389e3(0xb4)](_0x4389e3(0x266));});a0_0x44c0c3();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x443ac4(0xae)),schedule=require(a0_0x443ac4(0x239)),{spawn,exec}=require('child_process'),path=require(a0_0x443ac4(0x252)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL='models/gemini-flash-latest',LTM_SCHEDULE=a0_0x443ac4(0xb8),MODE_RESET_SCHEDULE=a0_0x443ac4(0x1c2),ANALYSIS_HISTORY_MAX_SIZE=0x64,EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,SEQUENCE_TIMEOUT_MS=0x5*0x3c*0x3e8,MAX_TRAINING_SET_SIZE=0x1f4,LTM_DP_RAW_LOG=a0_0x443ac4(0x1b6),LTM_DP_DAILY_DIGESTS=a0_0x443ac4(0x163),LTM_DP_STATUS=a0_0x443ac4(0x215),LTM_DP_TRIGGER_DIGEST=a0_0x443ac4(0x14c),LTM_DP_BASELINE_STATUS=a0_0x443ac4(0xf3),LTM_DP_DRIFT_CHANNEL=a0_0x443ac4(0x203),LTM_DP_DRIFT_STATUS=a0_0x443ac4(0x272),LTM_DP_DRIFT_DETAILS=a0_0x443ac4(0x120),LTM_DP_DRIFT_LAST_CHECK='LTM.driftAnalysis.lastCheck',SYSTEM_DP_MODE=a0_0x443ac4(0xed),HARD_IGNORE_TERMS=[a0_0x443ac4(0x1e6),'scriptEnabled',a0_0x443ac4(0x221),a0_0x443ac4(0x274),a0_0x443ac4(0xdd),'rssi',a0_0x443ac4(0x11b),'maintenance',a0_0x443ac4(0xe2),a0_0x443ac4(0x118),a0_0x443ac4(0xef),a0_0x443ac4(0x141),a0_0x443ac4(0x178),a0_0x443ac4(0x1a1),a0_0x443ac4(0x1c0),a0_0x443ac4(0x122),a0_0x443ac4(0x1d4),'link_quality'],BAD_NAMES=[a0_0x443ac4(0xde),'currentposition','state',a0_0x443ac4(0x22b),a0_0x443ac4(0x1d5),a0_0x443ac4(0x21e),'on','off',a0_0x443ac4(0xf4),'position',a0_0x443ac4(0xe5),'blind',a0_0x443ac4(0x1d3),'status','motion',a0_0x443ac4(0x271),'occupancy',a0_0x443ac4(0x140),a0_0x443ac4(0xf9),a0_0x443ac4(0x152),'energy',a0_0x443ac4(0x1db),'valve',a0_0x443ac4(0xca),a0_0x443ac4(0x14f)],ADAPTER_BLACKLIST=[a0_0x443ac4(0x1d6),'admin.',a0_0x443ac4(0x1cc),'vis.','history.',a0_0x443ac4(0x249),a0_0x443ac4(0xd0),a0_0x443ac4(0x15e),a0_0x443ac4(0x238),a0_0x443ac4(0x257),a0_0x443ac4(0xa6)],SYSTEM_MODES={'NORMAL':a0_0x443ac4(0x26a),'VACATION':a0_0x443ac4(0x159),'PARTY':a0_0x443ac4(0x147),'GUEST':'guest'},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x443ac4(0xe3)],SYSTEM_MODES[a0_0x443ac4(0x101)]],PERSONA_MAPPING={'generic':a0_0x443ac4(0x156),'senior_aal':'PRIORIT√ÑT:\x20Gesundheit/AAL.','family':'Fokus\x20auf\x20Familienroutinen.','single_comfort':a0_0x443ac4(0x22f),'security':a0_0x443ac4(0x134)},ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};let activeSequence=[],sequenceTimer=null;async function initZombies(_0x4703bb){const _0x4dc3e1=a0_0x443ac4;try{const _0x587fe6=[_0x4dc3e1(0x276),_0x4dc3e1(0x177)];for(const _0x2f0da9 of _0x587fe6){try{const _0x260ffe=await _0x4703bb[_0x4dc3e1(0x1ae)](_0x2f0da9);_0x260ffe&&await _0x4703bb[_0x4dc3e1(0x175)](_0x2f0da9);}catch(_0x110b71){}}}catch(_0x5b9537){}}async function initHistory(_0x2e1491){const _0x2c641c=a0_0x443ac4;try{const _0x37c7d5=await _0x2e1491[_0x2c641c(0xd1)](_0x2c641c(0x198));_0x37c7d5&&_0x37c7d5[_0x2c641c(0x154)]&&(_0x2e1491[_0x2c641c(0x162)]=JSON[_0x2c641c(0x11d)](_0x37c7d5['val'][_0x2c641c(0x180)]()));}catch(_0x59cf0f){_0x2e1491[_0x2c641c(0x162)]=[];}try{const _0x551413=await _0x2e1491[_0x2c641c(0xd1)](_0x2c641c(0x157));if(_0x551413&&_0x551413[_0x2c641c(0x154)])_0x2e1491[_0x2c641c(0x10f)]=JSON[_0x2c641c(0x11d)](_0x551413[_0x2c641c(0x154)][_0x2c641c(0x180)]());}catch(_0x543762){_0x2e1491[_0x2c641c(0x10f)]=[];}if(_0x2e1491[_0x2c641c(0x162)]&&_0x2e1491['eventHistory'][_0x2c641c(0xa2)]>0x0){_0x2e1491['log'][_0x2c641c(0xbf)](_0x2c641c(0x246)+_0x2e1491[_0x2c641c(0x162)][_0x2c641c(0xa2)]+_0x2c641c(0x1e0));for(let _0x32da53=_0x2e1491[_0x2c641c(0x162)][_0x2c641c(0xa2)]-0x1;_0x32da53>=0x0;_0x32da53--){const _0x2c2b43=_0x2e1491['eventHistory'][_0x32da53];_0x2c2b43&&_0x2c2b43['id']!==undefined&&_0x2c2b43[_0x2c641c(0x1d5)]!==undefined&&(_0x2e1491[_0x2c641c(0x179)][_0x2c2b43['id']]=_0x2c2b43['value']);}}}async function initSystemConfig(_0x510c63){const _0xaae8bd=a0_0x443ac4;try{const _0xa0d9ae=await _0x510c63[_0xaae8bd(0x16a)]('system.config');_0xa0d9ae&&_0xa0d9ae[_0xaae8bd(0x113)]&&(_0x510c63[_0xaae8bd(0x25c)]={'latitude':_0xa0d9ae['common']['latitude']||0x0,'longitude':_0xa0d9ae[_0xaae8bd(0x113)][_0xaae8bd(0xcb)]||0x0,'city':_0xa0d9ae[_0xaae8bd(0x113)]['city']||''});}catch(_0x5ec3a4){}}async function checkLicense(_0x8fcf8f,_0x29dd6a){const _0x5d77fc=a0_0x443ac4;if(!_0x29dd6a)return![];_0x8fcf8f[_0x5d77fc(0x1dd)]=await getSystemUUID(_0x8fcf8f);if(_0x29dd6a==='TEST-PRO-KEY'||_0x29dd6a[_0x5d77fc(0xc1)](_0x5d77fc(0x212)))return!![];return![];}async function getSystemUUID(_0x418a15){const _0x2bcabe=a0_0x443ac4;try{const _0x20fe9c=await _0x418a15['getForeignObjectAsync'](_0x2bcabe(0xf0));if(_0x20fe9c&&_0x20fe9c[_0x2bcabe(0x165)]&&_0x20fe9c[_0x2bcabe(0x165)][_0x2bcabe(0x1c6)])return _0x20fe9c[_0x2bcabe(0x165)][_0x2bcabe(0x1c6)];return _0x2bcabe(0xa3);}catch(_0x5978b4){return _0x2bcabe(0x218);}}async function createAllObjects(_0x2285e6){const _0x524ce3=a0_0x443ac4;await checkSystemObjects(_0x2285e6),await _0x2285e6['setObjectNotExistsAsync']('system.presenceWho',{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x117),'type':_0x524ce3(0xb9),'role':_0x524ce3(0xe9),'read':!![],'write':![],'def':''},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x16c),{'type':'state','common':{'name':_0x524ce3(0xcd),'type':_0x524ce3(0xb9),'role':_0x524ce3(0x202),'read':!![],'write':![]},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x198),{'type':'state','common':{'name':_0x524ce3(0x108),'type':_0x524ce3(0xb9),'role':'json','read':!![],'write':![]},'native':{}}),await _0x2285e6['setObjectNotExistsAsync'](_0x524ce3(0x189),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x1b4),'type':_0x524ce3(0x9b),'role':_0x524ce3(0xc8),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x13a),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0xb0),'type':_0x524ce3(0x9b),'role':_0x524ce3(0xc8),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x1ca),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x21a),'type':_0x524ce3(0xb9),'role':'json','read':!![],'write':![]},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x237),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0xb2),'type':'boolean','role':_0x524ce3(0x176),'read':!![],'write':![],'def':![]},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)]('analysis.isEmergency',{'type':'state','common':{'name':_0x524ce3(0x10e),'type':_0x524ce3(0x9b),'role':_0x524ce3(0x24c),'read':!![],'write':![],'def':![]},'native':{}}),await _0x2285e6['setObjectNotExistsAsync'](_0x524ce3(0x261),{'type':_0x524ce3(0xbc),'common':{'name':'Alert\x20Reason','type':_0x524ce3(0xb9),'role':_0x524ce3(0x199),'read':!![],'write':![]},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x25f),{'type':_0x524ce3(0xbc),'common':{'name':'Activity\x20Summary','type':_0x524ce3(0xb9),'role':_0x524ce3(0xe9),'read':!![],'write':![]},'native':{}}),await _0x2285e6['setObjectNotExistsAsync'](_0x524ce3(0xfd),{'type':_0x524ce3(0xbc),'common':{'name':'Deviation','type':_0x524ce3(0xb9),'role':_0x524ce3(0xbc),'read':!![],'write':![],'def':_0x524ce3(0x205)},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x1bc),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x1e1),'type':_0x524ce3(0xb9),'role':'text','read':!![],'write':![]},'native':{}}),await _0x2285e6['setObjectNotExistsAsync'](_0x524ce3(0x27c),{'type':_0x524ce3(0xbc),'common':{'name':'Comfort\x20Suggestion','type':_0x524ce3(0xb9),'role':_0x524ce3(0xe9),'read':!![],'write':![]},'native':{}}),await _0x2285e6[_0x524ce3(0xf2)](_0x524ce3(0x1d8),{'type':_0x524ce3(0xc0),'common':{'name':_0x524ce3(0x10c)},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x23f),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x145),'type':_0x524ce3(0x9b),'role':'indicator','read':!![],'write':![],'def':![]},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)]('analysis.automation.description',{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0xdc),'type':_0x524ce3(0xb9),'role':'text','read':!![],'write':![]},'native':{}}),await _0x2285e6['setObjectNotExistsAsync']('analysis.automation.suggestedAction',{'type':_0x524ce3(0xbc),'common':{'name':'Action','type':_0x524ce3(0xb9),'role':_0x524ce3(0xe9),'read':!![],'write':![]},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)]('analysis.automation.targetId',{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x1f9),'type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x2285e6['setObjectNotExistsAsync'](_0x524ce3(0x209),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x1ce),'type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x2285e6['setObjectNotExistsAsync'](_0x524ce3(0x27a),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x262),'type':'boolean','role':'switch','read':!![],'write':!![],'def':![]},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x258),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x23e),'type':_0x524ce3(0x9b),'role':_0x524ce3(0xc8),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x2285e6['setObjectNotExistsAsync'](_0x524ce3(0x157),{'type':_0x524ce3(0xbc),'common':{'name':'Logbook','type':'string','role':_0x524ce3(0x202),'read':!![],'write':![],'def':'[]'},'native':{}}),await _0x2285e6['setObjectNotExistsAsync'](_0x524ce3(0x228),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0xd3),'type':_0x524ce3(0xb9),'role':_0x524ce3(0x202),'read':!![],'write':![],'def':'[]'},'native':{}}),await _0x2285e6[_0x524ce3(0xf2)]('analysis.health',{'type':'channel','common':{'name':_0x524ce3(0xd6)},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)]('analysis.health.sleepScore',{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x194),'type':_0x524ce3(0x186),'role':'value.health','read':!![],'write':![],'def':0x0},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x103),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x231),'type':_0x524ce3(0xb9),'role':_0x524ce3(0xe9),'read':!![],'write':![],'def':'none'},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x22e),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x244),'type':_0x524ce3(0xb9),'role':_0x524ce3(0xe9),'read':!![],'write':![],'def':''},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x1a7),{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x1b2),'type':_0x524ce3(0xb9),'role':_0x524ce3(0xe9),'read':!![],'write':![],'def':_0x524ce3(0x205)},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)]('analysis.health.trendValue',{'type':_0x524ce3(0xbc),'common':{'name':_0x524ce3(0x241),'type':_0x524ce3(0x186),'role':_0x524ce3(0x1d5),'read':!![],'write':![],'def':0x0},'native':{}}),await _0x2285e6[_0x524ce3(0xf2)](_0x524ce3(0x168),{'type':_0x524ce3(0xc0),'common':{'name':'Training\x20Data\x20Sets'},'native':{}}),await _0x2285e6[_0x524ce3(0x1cf)](_0x524ce3(0x267),{'type':_0x524ce3(0xbc),'common':{'name':'Recorded\x20Motion\x20Sequences','type':_0x524ce3(0xb9),'role':'json','read':!![],'write':![],'def':'[]','desc':_0x524ce3(0xdb)},'native':{}}),await checkLtmObjects(_0x2285e6),await checkLtmDriftObjects(_0x2285e6);}async function checkSystemObjects(_0x46d8ff){const _0x22edd2=a0_0x443ac4;await _0x46d8ff[_0x22edd2(0xf2)]('system',{'type':_0x22edd2(0xc0),'common':{'name':_0x22edd2(0x1fb)},'native':{}}),await _0x46d8ff[_0x22edd2(0xf2)](SYSTEM_DP_MODE,{'type':_0x22edd2(0xbc),'common':{'name':_0x22edd2(0x139),'type':_0x22edd2(0xb9),'role':_0x22edd2(0xbc),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x22edd2(0x216)],'states':{[SYSTEM_MODES[_0x22edd2(0x216)]]:_0x22edd2(0x17e),[SYSTEM_MODES[_0x22edd2(0x1fe)]]:_0x22edd2(0x13b),[SYSTEM_MODES[_0x22edd2(0xe3)]]:_0x22edd2(0x195),[SYSTEM_MODES[_0x22edd2(0x101)]]:_0x22edd2(0xe6)}},'native':{}});}async function checkLtmObjects(_0x3924c3){const _0x5efbb0=a0_0x443ac4;await _0x3924c3[_0x5efbb0(0xf2)](_0x5efbb0(0x11e),{'type':_0x5efbb0(0xc0),'common':{'name':'LTM'},'native':{}}),await _0x3924c3['extendObjectAsync'](LTM_DP_RAW_LOG,{'type':_0x5efbb0(0xbc),'common':{'name':_0x5efbb0(0x1b8),'type':_0x5efbb0(0xb9),'role':_0x5efbb0(0x202),'read':!![],'write':![]},'native':{}}),await _0x3924c3[_0x5efbb0(0xf2)](LTM_DP_DAILY_DIGESTS,{'type':_0x5efbb0(0xbc),'common':{'name':_0x5efbb0(0xec),'type':_0x5efbb0(0xb9),'role':_0x5efbb0(0x202),'read':!![],'write':![]},'native':{}}),await _0x3924c3[_0x5efbb0(0xf2)](LTM_DP_STATUS,{'type':_0x5efbb0(0xbc),'common':{'name':'Processing\x20Status','type':_0x5efbb0(0xb9),'role':_0x5efbb0(0xe9),'read':!![],'write':![]},'native':{}}),await _0x3924c3[_0x5efbb0(0xf2)](LTM_DP_TRIGGER_DIGEST,{'type':_0x5efbb0(0xbc),'common':{'name':'Trigger\x20Digest','type':_0x5efbb0(0x9b),'role':_0x5efbb0(0xc8),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x3924c3[_0x5efbb0(0xf2)](LTM_DP_BASELINE_STATUS,{'type':'state','common':{'name':_0x5efbb0(0xac),'type':_0x5efbb0(0xb9),'role':_0x5efbb0(0xe9),'read':!![],'write':![]},'native':{}});}async function checkLtmDriftObjects(_0x2c9689){const _0x525f99=a0_0x443ac4;await _0x2c9689[_0x525f99(0xf2)](LTM_DP_DRIFT_CHANNEL,{'type':_0x525f99(0xc0),'common':{'name':_0x525f99(0xf6)},'native':{}}),await _0x2c9689[_0x525f99(0xf2)](LTM_DP_DRIFT_STATUS,{'type':_0x525f99(0xbc),'common':{'name':'Drift\x20Status','type':_0x525f99(0xb9),'role':'state','read':!![],'write':![],'def':_0x525f99(0x205)},'native':{}}),await _0x2c9689['extendObjectAsync'](LTM_DP_DRIFT_DETAILS,{'type':_0x525f99(0xbc),'common':{'name':'Drift\x20Details','type':_0x525f99(0xb9),'role':_0x525f99(0xe9),'read':!![],'write':![]},'native':{}}),await _0x2c9689[_0x525f99(0xf2)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x525f99(0xbc),'common':{'name':_0x525f99(0x225),'type':_0x525f99(0x186),'role':'date','read':!![],'write':![]},'native':{}});}async function loadSystemMode(_0x4ac2d9){const _0x3547c3=a0_0x443ac4;try{const _0x5e1543=await _0x4ac2d9['getStateAsync'](SYSTEM_DP_MODE);_0x5e1543&&_0x5e1543[_0x3547c3(0x154)]&&Object['values'](SYSTEM_MODES)[_0x3547c3(0x21b)](_0x5e1543[_0x3547c3(0x154)])?_0x4ac2d9['currentSystemMode']=_0x5e1543['val']:(_0x4ac2d9[_0x3547c3(0x22a)]=SYSTEM_MODES['NORMAL'],await _0x4ac2d9[_0x3547c3(0x167)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x3547c3(0x216)],'ack':!![]}));}catch(_0x58f49e){_0x4ac2d9[_0x3547c3(0x22a)]=SYSTEM_MODES[_0x3547c3(0x216)];}}async function loadRawEventLog(_0x3feb9f){const _0x480481=a0_0x443ac4;try{const _0x257c51=await _0x3feb9f[_0x480481(0xd1)](LTM_DP_RAW_LOG);if(_0x257c51&&_0x257c51[_0x480481(0x154)])_0x3feb9f[_0x480481(0xfc)]=JSON[_0x480481(0x11d)](_0x257c51[_0x480481(0x154)]);}catch(_0x52b114){_0x3feb9f[_0x480481(0xfc)]=[];}}async function saveRawEventLog(_0x375b2e){const _0x5d5fde=a0_0x443ac4;_0x375b2e['rawEventLog'][_0x5d5fde(0xa2)]>RAW_LOG_MAX_SIZE&&_0x375b2e[_0x5d5fde(0xfc)][_0x5d5fde(0x222)](0x0,_0x375b2e[_0x5d5fde(0xfc)][_0x5d5fde(0xa2)]-RAW_LOG_MAX_SIZE),await _0x375b2e[_0x5d5fde(0x167)](LTM_DP_RAW_LOG,{'val':JSON[_0x5d5fde(0xf5)](_0x375b2e[_0x5d5fde(0xfc)]),'ack':!![]});}async function loadDailyDigests(_0x4295c5){const _0x40fc54=a0_0x443ac4;try{const _0x2dfc67=await _0x4295c5[_0x40fc54(0xd1)](LTM_DP_DAILY_DIGESTS);if(_0x2dfc67&&_0x2dfc67[_0x40fc54(0x154)])_0x4295c5[_0x40fc54(0x1e4)]=JSON[_0x40fc54(0x11d)](_0x2dfc67[_0x40fc54(0x154)]);}catch(_0x2c672a){_0x4295c5[_0x40fc54(0x1e4)]=[];}await updateBaselineStatus(_0x4295c5);}async function saveDailyDigests(_0x26a3e8,_0x469189=!![]){const _0x3186bf=a0_0x443ac4,_0x2837f8=_0x26a3e8[_0x3186bf(0x27d)]['ltmLtbWindowDays']||0x3c;_0x26a3e8['dailyDigests'][_0x3186bf(0xa2)]>_0x2837f8&&_0x26a3e8[_0x3186bf(0x1e4)][_0x3186bf(0x222)](0x0,_0x26a3e8[_0x3186bf(0x1e4)][_0x3186bf(0xa2)]-_0x2837f8);await _0x26a3e8[_0x3186bf(0x167)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x26a3e8[_0x3186bf(0x1e4)]),'ack':!![]});if(_0x469189)await updateBaselineStatus(_0x26a3e8);}async function updateAnalysisHistory(_0x237c74,_0x4f8cbe){const _0x46158b=a0_0x443ac4;_0x237c74[_0x46158b(0x10f)][_0x46158b(0x158)](_0x4f8cbe);if(_0x237c74['analysisHistory'][_0x46158b(0xa2)]>ANALYSIS_HISTORY_MAX_SIZE)_0x237c74[_0x46158b(0x10f)][_0x46158b(0x105)]();await _0x237c74[_0x46158b(0x167)](_0x46158b(0x157),{'val':JSON[_0x46158b(0xf5)](_0x237c74[_0x46158b(0x10f)]),'ack':!![]});}async function updateBaselineStatus(_0x1989c7){const _0x4198e5=a0_0x443ac4;if(!_0x1989c7[_0x4198e5(0x155)]){await _0x1989c7[_0x4198e5(0x167)](LTM_DP_BASELINE_STATUS,{'val':_0x4198e5(0x1ac),'ack':!![]});return;}const _0x22228a=_0x1989c7['dailyDigests'][_0x4198e5(0xa2)]>=(_0x1989c7[_0x4198e5(0x27d)][_0x4198e5(0xc4)]||0x7)?_0x4198e5(0xa9)+_0x1989c7[_0x4198e5(0x1e4)]['length']+_0x4198e5(0x230):_0x4198e5(0x201)+_0x1989c7[_0x4198e5(0x1e4)][_0x4198e5(0xa2)]+'/'+(_0x1989c7[_0x4198e5(0x27d)]['minDaysForBaseline']||0x7)+')';await _0x1989c7['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x22228a,'ack':!![]});}async function initSensorSubscriptions(_0x4909c3){const _0x17861b=a0_0x443ac4,_0x313d7a=_0x4909c3[_0x17861b(0x27d)][_0x17861b(0x1f7)];if(_0x313d7a&&_0x313d7a[_0x17861b(0xa2)]>0x0){_0x4909c3[_0x17861b(0x17f)][_0x17861b(0xbf)](_0x17861b(0x1d0)+_0x313d7a[_0x17861b(0xa2)]+'\x20sensors...');for(const _0x1782b8 of _0x313d7a){if(_0x1782b8['id']){await _0x4909c3[_0x17861b(0x112)](_0x1782b8['id']);try{const _0x1dcab2=await _0x4909c3[_0x17861b(0x142)](_0x1782b8['id']);if(_0x1dcab2)_0x4909c3[_0x17861b(0x179)][_0x1782b8['id']]=_0x1dcab2[_0x17861b(0x154)];}catch(_0x553360){}}}}}async function initPresenceSubscriptions(_0x354812){const _0x3c9a51=a0_0x443ac4,_0x52c9db=_0x354812['config']['presenceDevices']||[];if(_0x52c9db[_0x3c9a51(0xa2)]>0x0){_0x354812[_0x3c9a51(0x17f)][_0x3c9a51(0xbf)]('Subscribing\x20to\x20'+_0x52c9db[_0x3c9a51(0xa2)]+'\x20presence\x20devices...');for(const _0x261eff of _0x52c9db){await _0x354812['subscribeForeignStatesAsync'](_0x261eff);}try{await checkWifiPresence(_0x354812);}catch(_0x2e2f48){}}}async function getWeatherContext(_0x668f21){const _0x1a3848=a0_0x443ac4;try{if(!_0x668f21[_0x1a3848(0x27d)][_0x1a3848(0x12c)])return _0x1a3848(0x208);let _0x937230='';const _0x81822b=_0x668f21[_0x1a3848(0x27d)][_0x1a3848(0x1c4)];if(_0x81822b)try{if(_0x81822b['includes'](_0x1a3848(0x21d))){const _0x20c9f3=await _0x668f21[_0x1a3848(0x142)](_0x81822b+_0x1a3848(0x26b));if(_0x20c9f3&&_0x20c9f3[_0x1a3848(0x154)])_0x937230=_0x20c9f3[_0x1a3848(0x154)];}else{if(_0x81822b[_0x1a3848(0x21b)](_0x1a3848(0x191))){const _0x456702=await _0x668f21[_0x1a3848(0x142)](_0x81822b+_0x1a3848(0x129));if(_0x456702&&_0x456702[_0x1a3848(0x154)])_0x937230=_0x456702['val'];}else{if(_0x81822b[_0x1a3848(0x21b)](_0x1a3848(0x104))){const _0x48030c=await _0x668f21['getForeignStateAsync'](_0x81822b+_0x1a3848(0x259));if(_0x48030c&&_0x48030c[_0x1a3848(0x154)])_0x937230=_0x48030c['val'];}}}}catch(_0x1b5030){}if(!_0x937230){const _0x37c5c1=['accuweather.0',_0x1a3848(0x10b),_0x1a3848(0xa4),'openweathermap.0'];for(const _0x3cd4f8 of _0x37c5c1){try{const _0x4fc285=await _0x668f21[_0x1a3848(0x16a)](_0x3cd4f8);if(_0x4fc285){if(_0x3cd4f8[_0x1a3848(0x21b)]('accuweather')){const _0x2bad12=await _0x668f21[_0x1a3848(0x142)](_0x3cd4f8+_0x1a3848(0x26b));if(_0x2bad12&&_0x2bad12['val']){_0x937230=_0x2bad12['val'];break;}}}}catch(_0x2edeac){}}}return _0x937230?_0x1a3848(0x188)+_0x937230:_0x1a3848(0x1b0);}catch(_0x50cd07){return _0x1a3848(0x174)+_0x50cd07['message'];}}async function getCalendarContext(_0x6c20b1){const _0x22e2a0=a0_0x443ac4;try{if(!_0x6c20b1['config'][_0x22e2a0(0xf1)])return _0x22e2a0(0x18d);let _0x57d121=_0x6c20b1['config'][_0x22e2a0(0x16e)]||'ical.0',_0x12c5bd=_0x6c20b1[_0x22e2a0(0x27d)][_0x22e2a0(0x136)]||[];if(typeof _0x12c5bd===_0x22e2a0(0xb9))_0x12c5bd=_0x12c5bd[_0x22e2a0(0x1eb)](',');try{const _0x2741f5=await _0x6c20b1[_0x22e2a0(0x142)](_0x57d121+_0x22e2a0(0x20c));if(_0x2741f5&&_0x2741f5[_0x22e2a0(0x154)]){let _0x253b01=tryParse(_0x2741f5[_0x22e2a0(0x154)]);if(_0x253b01&&Array[_0x22e2a0(0x19e)](_0x253b01)){if(_0x12c5bd[_0x22e2a0(0xa2)]>0x0)_0x253b01=_0x253b01[_0x22e2a0(0x126)](_0x451807=>_0x12c5bd['includes'](_0x451807[_0x22e2a0(0x20a)]||''));else return _0x22e2a0(0x190);if(_0x253b01[_0x22e2a0(0xa2)]>0x0){const _0x4d5d45=_0x253b01['slice'](0x0,0x3)[_0x22e2a0(0xa0)](_0x547efa=>{const _0x1df71d=_0x22e2a0;let _0x1104f9=_0x547efa[_0x1df71d(0x248)];if(_0x547efa[_0x1df71d(0x24d)])_0x1104f9+='\x20'+_0x547efa[_0x1df71d(0x24d)];return _0x1104f9+':\x20'+_0x547efa[_0x1df71d(0x181)]+'\x20('+_0x547efa[_0x1df71d(0x20a)]+')';});return'KALENDER:\x20'+_0x4d5d45[_0x22e2a0(0x185)](_0x22e2a0(0xcf));}else return _0x22e2a0(0x17d);}}}catch(_0x2d5e3c){_0x6c20b1[_0x22e2a0(0x17f)]['warn'](_0x22e2a0(0x15c)+_0x2d5e3c[_0x22e2a0(0x119)]);}return _0x22e2a0(0x283);}catch(_0x1bfc5b){return _0x22e2a0(0xd5)+_0x1bfc5b[_0x22e2a0(0x119)];}}async function getCalendarNames(_0x3c7236,_0x3bf96f){const _0x4714c5=a0_0x443ac4;try{const _0x406c36=await _0x3c7236[_0x4714c5(0x142)](_0x3bf96f+_0x4714c5(0x20c));if(_0x406c36&&_0x406c36[_0x4714c5(0x154)]){const _0x208f7a=tryParse(_0x406c36['val']);if(_0x208f7a&&Array[_0x4714c5(0x19e)](_0x208f7a)){const _0x11fc4d=[...new Set(_0x208f7a[_0x4714c5(0xa0)](_0x499c87=>_0x499c87[_0x4714c5(0x20a)])[_0x4714c5(0x126)](Boolean))];return _0x11fc4d[_0x4714c5(0x14a)]();}}return[];}catch(_0x2de116){return _0x3c7236['log'][_0x4714c5(0xe2)]('getCalendarNames\x20Error:\x20'+_0x2de116['message']),[];}}async function checkWifiPresence(_0x251205){const _0x5deb37=a0_0x443ac4;try{const _0x336c41=_0x251205[_0x5deb37(0x27d)][_0x5deb37(0x1f2)]||[];let _0xe8396=![];const _0x251f04=[];for(const _0xd692af of _0x336c41){try{const _0x1bab33=await _0x251205[_0x5deb37(0x142)](_0xd692af);if(_0x1bab33&&(_0x1bab33[_0x5deb37(0x154)]===!![]||_0x1bab33[_0x5deb37(0x154)]===_0x5deb37(0x1e8)||_0x1bab33[_0x5deb37(0x154)]===0x1)){_0xe8396=!![];const _0x2692aa=await _0x251205['getForeignObjectAsync'](_0xd692af);let _0x55bcc9=_0xd692af;_0x2692aa&&_0x2692aa['common']&&_0x2692aa['common'][_0x5deb37(0x138)]&&(_0x55bcc9=typeof _0x2692aa[_0x5deb37(0x113)]['name']===_0x5deb37(0x171)?_0x2692aa[_0x5deb37(0x113)][_0x5deb37(0x138)]['de']||_0x2692aa['common'][_0x5deb37(0x138)]['en']:_0x2692aa[_0x5deb37(0x113)][_0x5deb37(0x138)]),_0x251f04[_0x5deb37(0x27e)](_0x55bcc9);}}catch(_0x49e4d6){}}return await _0x251205[_0x5deb37(0x167)](_0x5deb37(0xaf),{'val':_0x251f04[_0x5deb37(0x185)](',\x20'),'ack':!![]}),_0xe8396&&(_0x251205[_0x5deb37(0x1f8)]&&(_0x251205[_0x5deb37(0x17f)][_0x5deb37(0xbf)](_0x5deb37(0x14e)),abortExitTimer(_0x251205)),!_0x251205['isPresent']&&_0x251205[_0x5deb37(0x22a)]===SYSTEM_MODES['NORMAL']&&await setPresence(_0x251205,!![])),_0xe8396;}catch(_0xcf9113){return _0x251205[_0x5deb37(0x17f)]['error'](_0x5deb37(0xb6)+_0xcf9113[_0x5deb37(0x119)]),![];}}function startExitTimer(_0x45523c){const _0x103a27=a0_0x443ac4;abortExitTimer(_0x45523c),_0x45523c['isGracePeriodActive']=!![],_0x45523c[_0x103a27(0x13f)]=setTimeout(()=>{const _0x3032c8=_0x103a27;_0x45523c[_0x3032c8(0x1fa)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),_0x45523c[_0x103a27(0x1f8)]=setTimeout(()=>{setPresence(_0x45523c,![]),_0x45523c['exitTimer']=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}function abortExitTimer(_0x5555ad){const _0x5dc7c6=a0_0x443ac4;if(_0x5555ad[_0x5dc7c6(0x1f8)])clearTimeout(_0x5555ad[_0x5dc7c6(0x1f8)]);if(_0x5555ad['exitGraceTimer'])clearTimeout(_0x5555ad[_0x5dc7c6(0x13f)]);_0x5555ad[_0x5dc7c6(0x1f8)]=null,_0x5555ad[_0x5dc7c6(0x13f)]=null,_0x5555ad[_0x5dc7c6(0x1fa)]=![];}async function setPresence(_0x208f37,_0x1b3edf){const _0x394c5f=a0_0x443ac4;if(_0x208f37[_0x394c5f(0x16b)]===_0x1b3edf)return;_0x208f37['isPresent']=_0x1b3edf,await _0x208f37[_0x394c5f(0x167)]('system.isPresent',{'val':_0x1b3edf,'ack':!![]});}async function saveFeedback(_0x45fc1c,_0xd287d4){const _0x40f5b8=a0_0x443ac4;_0x45fc1c[_0x40f5b8(0x17f)]['info'](_0x40f5b8(0x100)+JSON[_0x40f5b8(0xf5)](_0xd287d4));}async function runBaselineDriftAnalysis(_0x15d0f8){const _0x338c48=a0_0x443ac4;if(!_0x15d0f8[_0x338c48(0x155)]||!_0x15d0f8[_0x338c48(0x1d7)])return;const _0x290104=_0x15d0f8['config'][_0x338c48(0x1cb)]||0xe;if(_0x15d0f8[_0x338c48(0x1e4)][_0x338c48(0xa2)]<_0x290104+(_0x15d0f8[_0x338c48(0x27d)]['minDaysForBaseline']||0x7)){await _0x15d0f8['setStateAsync'](LTM_DP_DRIFT_STATUS,{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x5f43f0=_0x15d0f8[_0x338c48(0x1e4)][_0x338c48(0x22c)](-_0x290104),_0x5e5527=_0x15d0f8[_0x338c48(0x1e4)][_0x338c48(0x22c)](0x0,_0x15d0f8[_0x338c48(0x1e4)][_0x338c48(0xa2)]-_0x290104),_0x467d01=_0x338c48(0x1bd)+JSON[_0x338c48(0xf5)](_0x5e5527)+_0x338c48(0x278)+JSON[_0x338c48(0xf5)](_0x5f43f0);try{const _0x4ea9f7=await _0x15d0f8[_0x338c48(0x1d7)][_0x338c48(0x11c)](_0x467d01),_0x5cffb8=JSON[_0x338c48(0x11d)](_0x4ea9f7['response'][_0x338c48(0xe9)]()[_0x338c48(0x1ef)](/```json|```/g,'')[_0x338c48(0x251)]());_0x5cffb8[_0x338c48(0xd9)]&&(await _0x15d0f8['setStateAsync'](LTM_DP_DRIFT_STATUS,{'val':_0x5cffb8[_0x338c48(0xd9)],'ack':!![]}),await _0x15d0f8['setStateAsync'](LTM_DP_DRIFT_DETAILS,{'val':_0x5cffb8['driftDetails'],'ack':!![]}),await _0x15d0f8['setStateAsync'](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x338c48(0x19d)](),'ack':!![]}));}catch(_0x149b08){}}function setupLtmScheduler(_0x56acbd){const _0xe7dcb=a0_0x443ac4;try{if(_0x56acbd['ltmJob'])_0x56acbd[_0xe7dcb(0x1da)][_0xe7dcb(0x110)]();if(!_0x56acbd[_0xe7dcb(0x155)]){_0x56acbd['setStateAsync'](LTM_DP_STATUS,{'val':_0xe7dcb(0x1ac),'ack':!![]});return;}_0x56acbd[_0xe7dcb(0x1da)]=schedule[_0xe7dcb(0x127)](LTM_SCHEDULE,()=>createDailyDigest(_0x56acbd));}catch(_0x4c4848){_0x56acbd['log'][_0xe7dcb(0xe2)](_0xe7dcb(0x111)+_0x4c4848[_0xe7dcb(0x119)]);}}function setupModeResetScheduler(_0x23454e){const _0x5cba68=a0_0x443ac4;try{if(_0x23454e['modeResetJob'])_0x23454e[_0x5cba68(0x254)][_0x5cba68(0x110)]();_0x23454e[_0x5cba68(0x254)]=schedule[_0x5cba68(0x127)](MODE_RESET_SCHEDULE,async()=>{const _0x32517c=_0x5cba68;await loadSystemMode(_0x23454e),AUTO_RESET_MODES[_0x32517c(0x21b)](_0x23454e[_0x32517c(0x22a)])&&await _0x23454e[_0x32517c(0x167)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES['NORMAL'],'ack':![]});});}catch(_0x3ffdb2){_0x23454e[_0x5cba68(0x17f)]['error']('Reset\x20Sched\x20Error:\x20'+_0x3ffdb2[_0x5cba68(0x119)]);}}function setupDriftAnalysisScheduler(_0xadeae0){const _0x29ec67=a0_0x443ac4;try{if(_0xadeae0[_0x29ec67(0x11a)])clearInterval(_0xadeae0[_0x29ec67(0x11a)]);if(!_0xadeae0[_0x29ec67(0x155)])return;_0xadeae0[_0x29ec67(0x11a)]=setInterval(()=>runBaselineDriftAnalysis(_0xadeae0),(_0xadeae0[_0x29ec67(0x27d)][_0x29ec67(0x18a)]||0x18)*0x36ee80),setTimeout(()=>runBaselineDriftAnalysis(_0xadeae0),0x1388);}catch(_0x4ebe76){_0xadeae0[_0x29ec67(0x17f)][_0x29ec67(0xe2)]('Drift\x20Sched\x20Error:\x20'+_0x4ebe76[_0x29ec67(0x119)]);}}function setupBriefingScheduler(_0x4e74eb){const _0x5bbaaf=a0_0x443ac4;try{if(_0x4e74eb[_0x5bbaaf(0x22d)])_0x4e74eb[_0x5bbaaf(0x22d)][_0x5bbaaf(0x110)]();if(!_0x4e74eb[_0x5bbaaf(0x27d)][_0x5bbaaf(0x1e3)])return;const _0x44cf1e=(_0x4e74eb[_0x5bbaaf(0x27d)][_0x5bbaaf(0x24e)]||_0x5bbaaf(0x12e))['split'](':'),_0x3491ff=parseInt(_0x44cf1e[0x0])||0x8,_0x52b15b=parseInt(_0x44cf1e[0x1])||0x0,_0x5f4127=_0x52b15b+'\x20'+_0x3491ff+_0x5bbaaf(0x144);_0x4e74eb[_0x5bbaaf(0x17f)]['info'](_0x5bbaaf(0x264)+_0x3491ff+':'+(_0x52b15b<0xa?'0'+_0x52b15b:_0x52b15b)),_0x4e74eb[_0x5bbaaf(0x22d)]=schedule[_0x5bbaaf(0x127)](_0x5f4127,()=>{sendMorningBriefing(_0x4e74eb);});}catch(_0x3215ba){_0x4e74eb[_0x5bbaaf(0x17f)]['error']('Briefing\x20Sched\x20Error:\x20'+_0x3215ba['message']);}}async function sendNotification(_0x51735e,_0x1b1943,_0x177bbd=![],_0x414295=![]){const _0x42614e=a0_0x443ac4;_0x51735e[_0x42614e(0x17f)][_0x42614e(0xbf)]((_0x177bbd?_0x42614e(0x17b):'')+'Sending\x20notification:\x20\x22'+_0x1b1943+'\x22');const _0x33ca04=_0x51735e['config'];let _0x5b884b=0x0;if(_0x33ca04[_0x42614e(0x9c)]){let _0xf42a65={};(_0x1b1943['includes'](_0x42614e(0x24a))||_0x414295)&&(_0xf42a65={'reply_markup':{'inline_keyboard':[[{'text':_0x42614e(0x1f5),'callback_data':_0x42614e(0xcc)}],[{'text':_0x42614e(0x214),'callback_data':_0x42614e(0xb3)}]]}}),await _0x51735e[_0x42614e(0x16d)](_0x33ca04[_0x42614e(0x1ba)],_0x42614e(0x26e),{'text':_0x1b1943,'user':_0x33ca04['notifyTelegramRecipient'],..._0xf42a65}),_0x5b884b++;}if(_0x33ca04[_0x42614e(0x247)]){let _0x5f730d={'message':_0x1b1943,'title':_0x414295?_0x42614e(0x16f):'Cogni-Living','priority':_0x414295?0x2:0x1,'device':_0x33ca04[_0x42614e(0x20d)]};_0x414295&&(_0x5f730d[_0x42614e(0x23d)]=0x1e,_0x5f730d['expire']=0xe10,_0x5f730d['sound']=_0x42614e(0x210)),await _0x51735e['sendToAsync'](_0x33ca04[_0x42614e(0x18b)],_0x42614e(0x26e),_0x5f730d),_0x5b884b++;}return _0x33ca04[_0x42614e(0x255)]&&(await _0x51735e[_0x42614e(0x16d)](_0x33ca04['notifyEmailInstance'],_0x42614e(0x26e),{'text':_0x1b1943,'to':_0x33ca04[_0x42614e(0xff)]}),_0x5b884b++),_0x5b884b;}async function setupTelegramListener(_0x119640){const _0x5b6159=a0_0x443ac4,_0x4234f0=_0x119640['config'][_0x5b6159(0x1ba)];_0x119640[_0x5b6159(0x27d)]['notifyTelegramEnabled']&&_0x4234f0&&(_0x119640[_0x5b6159(0x17f)][_0x5b6159(0xbf)]('üì°\x20Hooking\x20into\x20'+_0x4234f0+_0x5b6159(0x20b)),await _0x119640[_0x5b6159(0x112)](_0x4234f0+'.communicate.request'));}async function handleTelegramResponse(_0x3c4153,_0x387fa4){const _0x45cbdb=a0_0x443ac4;let _0x3dadf8=_0x387fa4;_0x387fa4['startsWith']('[')&&(_0x3dadf8=_0x387fa4[_0x45cbdb(0x1c3)](_0x387fa4[_0x45cbdb(0x1e7)](']')+0x1));if(_0x3dadf8===_0x45cbdb(0xcc))_0x3c4153['log'][_0x45cbdb(0xbf)](_0x45cbdb(0x26c)),await _0x3c4153['setStateAsync'](_0x45cbdb(0x237),{'val':![],'ack':!![]}),await _0x3c4153['setStateAsync'](_0x45cbdb(0x261),{'val':_0x45cbdb(0x25a),'ack':!![]}),_0x3c4153[_0x45cbdb(0x284)]=![],sendNotification(_0x3c4153,_0x45cbdb(0x15b),![]);else _0x3dadf8===_0x45cbdb(0xb3)&&(_0x3c4153[_0x45cbdb(0x17f)]['warn'](_0x45cbdb(0x200)),sendNotification(_0x3c4153,_0x45cbdb(0x250),![],!![]));}function a0_0x1496(){const _0xd5aa31=['Drift\x20Analysis','door','geminiApiKey','humidity','type','\x20|\x20Status:\x20','rawEventLog','analysis.deviationFromBaseline','toLowerCase','notifyEmailRecipient','Feedback\x20saved:\x20','GUEST','\x0a\x20\x20\x20\x20ROLLE:\x20KI-Hausverwalter\x20&\x20Gesundheits-Assistent.\x0a\x20\x20\x20\x20PERSONA:\x20','analysis.health.restlessness','openweathermap','pop','.\x0a\x20\x20\x20\x20WETTER:\x20','Motion\x20detected\x20inside.\x20Aborting\x20Exit\x20Timer.','Event\x20History','dependencyInstallInProgress','aiPersona','daswetter.0','Automation\x20Proposals','description','AI\x20Emergency\x20Status','analysisHistory','cancel','LTM\x20Sched\x20Error:\x20','subscribeForeignStatesAsync','common','some',')\x20-\x20FUNCTIONS\x20FIRST\x20ARCHITECTURE','\x20days\x20of\x20activity\x20data\x20to\x20Python...','Who\x20is\x20present?','fault','message','driftAnalysisTimer','connection','generateContent','parse','LTM','Kein\x20API\x20Key!','LTM.driftAnalysis.driftDetails','debug','firmware','bind','Details:\x20','3932008FbdEzr','filter','scheduleJob','ü§ñ\x20BUTLER\x20PROPOSAL:\x20','.NextHours.Location_1.Day_1.current.symbol_desc','getDate','klima','useWeather','testNotification','08:00','enum.rooms.*','ROLLE:\x20F√ºrsorglicher\x20Assistent.\x20AUFGABE:\x20Schreibe\x20eine\x20kurze,\x20beruhigende\x20\x22Guten\x20Morgen\x22-Nachricht.\x20PERSONA:\x20','sendTo','setState','activityLevel','PRIORIT√ÑT:\x20Sicherheit.','No\x20instance','calendarSelection','livingContext','name','System\x20Mode','analysis.triggerBriefing','Urlaub','...','‚ùå\x20FREE\x20MODE','feedbackHistory','exitGraceTimer','temperature','direction','getForeignStateAsync','Event\x20received:\x20','\x20*\x20*\x20*','Pattern\x20Detected','Unknown','party','isAlert','Morning\x20Briefing\x20sent.','sort','isExit','LTM.triggerDailyDigest','\x0a\x0a\x20\x20\x20\x20AUFGABE:\x0a\x20\x20\x20\x201.\x20Analysiere\x20auf\x20Gesundheitsrisiken\x20(Sturz,\x20Inaktivit√§t).\x0a\x20\x20\x20\x202.\x20Analysiere\x20auf\x20Komfort/Automatisierung\x20(\x22Butler\x22).\x20Erkennst\x20du\x20ein\x20Muster?\x20(z.B.\x20\x22Wenn\x20Bewegung\x20Flur,\x20dann\x20Licht\x20an\x22).\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20FORMAT\x20(JSON\x20Only!):\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x22isAlert\x22:\x20boolean,\x0a\x20\x20\x20\x20\x20\x20\x22alertReason\x22:\x20\x22string\x20(kurz)\x22,\x0a\x20\x20\x20\x20\x20\x20\x22isEmergency\x22:\x20boolean,\x0a\x20\x20\x20\x20\x20\x20\x22summary\x22:\x20\x22string\x20(Was\x20passiert\x20gerade?)\x22,\x0a\x20\x20\x20\x20\x20\x20\x22automationProposal\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22detected\x22:\x20boolean,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22description\x22:\x20\x22string\x20(Was\x20soll\x20automatisiert\x20werden?)\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22targetId\x22:\x20\x22string\x20(ioBroker\x20ID,\x20z.B.\x200_userdata.0.light)\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22targetValue\x22:\x20\x22any\x20(Wert,\x20z.B.\x20true\x20oder\x2050)\x22\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','set_temperature','getTime','triggerDailyDigest','power','üêç\x20Stopping\x20Python\x20Sidecar...','val','isProVersion','Analysiere\x20ausgewogen.','analysis.analysisHistory','unshift','vacation','enum.functions.*','‚úÖ\x20Alarm\x20quittiert.\x20System\x20normal.','Error\x20reading\x20calendar\x20table:\x20','KI-Modell\x20nicht\x20initialisiert','flot.','dismissAutomation','licenseKey','instance','eventHistory','LTM.dailyDigests','198530hWuehH','native','Skipped\x20(No\x20AI\x20or\x20Data)','setStateAsync','LTM.trainingData','Bibliotheken\x20nicht\x20gefunden','getForeignObjectAsync','isPresent','events.lastEvent','sendToAsync','calendarInstance','üö®\x20EMERGENCY','9GRJtFu','object','[RECORDER\x20DEBUG]\x20Accepting\x20Event\x20','1018636IDDUQZ','WETTER\x20ERROR:\x20','delObjectAsync','indicator.alarm','events.history_debug_00','stick_unreach','sensorLastValues','analysis.automation.description','[TEST]\x20','testApiKey','KALENDER:\x20Keine\x20relevanten\x20Termine','Normal','log','toString','event','getForeignObjectsAsync','toLocaleString','‚úÖ\x20PRO\x20ACTIVATED','join','number','doors','WETTER:\x20','analysis.trigger','ltmDriftCheckIntervalHours','notifyPushoverInstance','inactivityThresholdHours','Kalender:\x20Deaktiviert','getFullYear','14PRCsVp','KALENDER:\x20Keine\x20Kalender\x20ausgew√§hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)','daswetter','kill','sleepScore','Sleep\x20Score\x20(0-100)','Party','command','getGenerativeModel','events.history','text.alarm','loc','\x20hours.\x20Potential\x20incapacitation.','[RECORDER]\x20Error\x20saving\x20sequence:\x20','now','isArray','.\x20OUTPUT:\x20Nur\x20Text.','unknown','config_pending','onUnload',').\x20Starting\x20Timer.','catch','Scanning\x20for\x20devices\x20(V8:\x20Whitelist\x20Priority)...','onStateChange','analysis.health.trendDiagnosis','python_service','Fehler:\x20','PONG','thermostat','Deaktiviert\x20(Pro-Feature)','[PYTHON]\x20','getObjectAsync','_score','WETTER:\x20Keine\x20Daten\x20gefunden','motion','Trend\x20Diagnosis\x20(Python)','apply','Trigger\x20Analysis','licht','LTM.rawEventLog','pythonProcess','Raw\x20Log','[LICENSE\x20CHECK]\x20Key\x20present:\x20','notifyTelegramInstance','data','analysis.comfortSummary','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','light','onReady','dutycycle','enum','0\x204\x20*\x20*\x20*','substring','weatherInstance','üêç\x20Python\x20Pong\x20received!\x20Latency\x20check\x20passed.','uuid','Entry\x20detected\x20via\x20','blind','exports','analysis.lastResult','ltmStbWindowDays','info.','Keine\x20Analyse.','Target\x20Value','setObjectNotExistsAsync','Subscribing\x20to\x20','triggerBriefing','location','cover','reachable','value','system.','geminiModel','analysis.automation','subscribeStates','ltmJob','setpoint','Adapter','systemUUID','round','callback','\x20events)...','Comfort\x20Summary','python3\x20-m\x20pip\x20install\x20-r\x20\x22','briefingEnabled','dailyDigests','analysisTimer','scriptProblem','indexOf','online','rollladen','ANALYZE_TREND','split','Guardian:\x20Not\x20enough\x20history\x20data\x20for\x20trend\x20analysis\x20yet.','getOverviewData','294804kSBQIr','replace','namespace','566185TRGcov','presenceDevices','analysis.automation.targetId','sensor','‚úÖ\x20Alles\x20OK\x20(Reset)','Keiner','devices','exitTimer','Target\x20ID','isGracePeriodActive','System\x20Status\x20&\x20Control','custom','[PYTHON]\x20Failed\x20to\x20start\x20(is\x20python3\x20installed?):\x20','VACATION','from','üìû\x20User\x20requested\x20CALL\x20via\x20Telegram!','Lernphase\x20(','json','LTM.driftAnalysis','.\x20DATEN:\x20Schlaf\x20','N/A','.\x0a\x20\x20\x20\x20NOTFALL-KONTEXT:\x20','üêç\x20Guardian\x20Diagnosis\x20(','Wetter:\x20Deaktiviert','analysis.automation.targetValue','_calName','\x20for\x20interactive\x20buttons...','.data.table','notifyPushoverRecipient','automationProposal','lights','siren','write','PRO-','autoApply','üìû\x20R√ºckruf\x20anfordern','LTM.processingStatus','NORMAL','alertReason','uuid-error','HARD\x20WATCHDOG:\x20No\x20sensor\x20activity\x20detected\x20for\x20','Last\x20Result','includes','[RECORDER]\x20Discarding\x20short\x20sequence\x20(Length:\x20','accuweather','brightness','genAI','stdout','update','splice','Missing\x20data','onMessage','Last\x20Check','warn','generic','analysis.feedbackHistory','.\x20KONTEXT:\x20','currentSystemMode','level','slice','briefingJob','analysis.health.notes','Fokus\x20auf\x20Komfort.','\x20Tage)','Restlessness\x20Level','üß™\x20Simulating\x20Butler\x20Proposal:\x20','üåÖ\x20Daily\x20Briefing:\x0a','getLtmData','scanDevices',').\x20Saving\x20to\x20Training\x20Data.','analysis.isAlert','echarts.','node-schedule','\x20=\x20','selectedFunctionIds','BUTLER\x20Execution\x20Error:\x20','retry','Trigger\x20Action\x20Now','analysis.automation.patternDetected','ready','Trend\x20Value\x20(%)','No\x20module\x20named','Activity-Level','Health\x20Notes','apiKey','Restoring\x20sensor\x20cache\x20from\x20history\x20(','notifyPushoverEnabled','date','material.','Alarm','setForeignStateAsync','indicator.alarm.fire','time','briefingTime',',\x20required:\x20motion/door)','üìû\x20R√úCKRUF\x20BITTE!\x20Der\x20Bewohner\x20hat\x20den\x20R√ºckruf-Button\x20gedr√ºckt.','trim','path','toISOString','modeResetJob','notifyEmailEnabled','/100,\x20Aktivit√§t\x20seit\x2004:00:\x20','javascript.','analysis.automation.triggerAction','.forecast.current.state','Vom\x20Benutzer\x20best√§tigt\x20(OK).','find','systemConfig','version','close','analysis.activitySummary','\x22\x20--break-system-packages','analysis.alertReason','Auto\x20Apply\x20Rule','.\x20Welcome\x20home.','Scheduling\x20Morning\x20Briefing\x20for\x20','ü§ñ\x20BUTLER:\x20Executing\x20Action\x20->\x20','(((.+)+)+)+$','LTM.trainingData.sequences','‚ö†Ô∏è\x20Python\x20missing\x20dependencies.\x20Triggering\x20Auto-Install...','getEnums','normal','.Summary.Current','‚úÖ\x20User\x20confirmed\x20ALARM\x20via\x20Telegram.\x20Resetting\x20system.','stateChange','send','Gemini\x20AI\x20initialized.','757290EQHwoD','presence','LTM.driftAnalysis.baselineDrift','summary','unreach','response','analysis.history_debug_00','dimmer','\x0aSTB:\x20','üõ†Ô∏è\x20AUTO-FIX:\x20Installing\x20Python\x20dependencies\x20from\x20','analysis.automation.autoApply','targetValue','analysis.comfortSuggestion','config','push','IGNORING\x20DUPLICATE\x20(Cached):\x20','\x20(Type\x20is\x20','‚úÖ\x20AUTO-FIX\x20SUCCESS.\x20Dependencies\x20installed.\x20Restarting\x20Service...','\x20(Value\x20is\x20falsy:\x20','KALENDER:\x20Keine\x20Daten','lastAlertState','health','boolean','notifyTelegramEnabled','constructor','getHours','[RECORDER]\x20Sequence\x20finished\x20(Steps:\x20','map','Keine\x20Details.','length','uuid-not-found','weatherunderground.0','[PYTHON\x20ERR]\x20','simple-api.','simulateButler','detected','Aktiv\x20(','weather','.\x20ZUSATZ:\x20','Baseline\x20Status','details','@google/generative-ai','system.presenceWho','Trigger\x20Briefing\x20(Test)','SIMULATION:\x20Test-Vorschlag\x20f√ºr\x20','AI\x20Alert\x20Status','COGNI_REQUEST_CALL','search','[RECORDER]\x20Added\x20step\x20to\x20sequence:\x20','Error\x20checking\x20WiFi:\x20','targetId','0\x203\x20*\x20*\x20*','string','ü§ñ\x20BUTLER\x20AUTO-APPLY:\x20Executing\x20','ack','state','[RECORDER\x20DEBUG]\x20Ignored\x20Event\x20','writable','info','channel','startsWith','Error\x20in\x20onMessage\x20command\x20','Starting\x20Autopilot\x20(','minDaysForBaseline','789966KhyvAy','lampe','application/json','button','status','actual_temperature','longitude','COGNI_CONFIRM_OK','Last\x20raw\x20event','timestamp','\x20|\x20','icons-mfd.','getStateAsync','132pkIQbq','Feedback\x20Log','members','KALENDER\x20ERROR:\x20','Health\x20&\x20Sleep\x20Analysis','t√ºr','inactivityMonitoringEnabled','baselineDrift','Briefing\x20Error:\x20','Array\x20of\x20completed\x20movement\x20paths\x20for\x20ML\x20training','Description','lowbat','targetposition','getMonth','schalter','Say\x20Hello','error','PARTY','endsWith','shutter','Gast','telegram','fill','text','lock','6jOtGMq','Daily\x20Digests','system.mode','forEach','working','system.meta.uuid','useCalendar','extendObjectAsync','LTM.baselineStatus','switch','stringify'];a0_0x1496=function(){return _0xd5aa31;};return a0_0x1496();}async function runAutopilot(_0x3192c4){const _0x2c8a7d=a0_0x443ac4,_0x4ab269=_0x3192c4[_0x2c8a7d(0x27d)][_0x2c8a7d(0x18c)],_0x517621=_0x3192c4[_0x2c8a7d(0x162)][_0x2c8a7d(0xa2)]>0x0?_0x3192c4[_0x2c8a7d(0x162)][0x0][_0x2c8a7d(0xce)]:Date[_0x2c8a7d(0x19d)](),_0x347a7a=(Date[_0x2c8a7d(0x19d)]()-_0x517621)/(0x3e8*0x3c*0x3c);let _0x4e9c49='';_0x3192c4[_0x2c8a7d(0x27d)][_0x2c8a7d(0xd8)]&&_0x3192c4['currentSystemMode']===SYSTEM_MODES['NORMAL']&&_0x3192c4[_0x2c8a7d(0x16b)]&&(_0x347a7a>_0x4ab269&&(_0x4e9c49=_0x2c8a7d(0x219)+_0x347a7a['toFixed'](0x1)+_0x2c8a7d(0x19b))),runGeminiAnalysis(_0x3192c4,_0x4e9c49)[_0x2c8a7d(0x1a4)](_0x5b0e58=>_0x3192c4['log']['error'](_0x5b0e58));}function a0_0x4328(_0x4e93d1,_0x26e9dc){const _0x27cd6e=a0_0x1496();return a0_0x4328=function(_0x44c0c3,_0x4226e7){_0x44c0c3=_0x44c0c3-0x9a;let _0x1496e7=_0x27cd6e[_0x44c0c3];return _0x1496e7;},a0_0x4328(_0x4e93d1,_0x26e9dc);}async function createDailyDigest(_0x346f5f){const _0x2f0ddb=a0_0x443ac4;if(!_0x346f5f['isProVersion'])return;await _0x346f5f[_0x2f0ddb(0x167)](LTM_DP_STATUS,{'val':'Started\x20at\x20'+new Date()[_0x2f0ddb(0x183)](),'ack':!![]});if(!_0x346f5f[_0x2f0ddb(0x1d7)]||_0x346f5f[_0x2f0ddb(0xfc)][_0x2f0ddb(0xa2)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x346f5f['setStateAsync'](LTM_DP_STATUS,{'val':_0x2f0ddb(0x166),'ack':!![]});return;}const _0x34bdbe=JSON[_0x2f0ddb(0x11d)](JSON[_0x2f0ddb(0xf5)](_0x346f5f[_0x2f0ddb(0xfc)])),_0x38b239=_0x34bdbe['length'],_0x3536e6='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON['stringify'](_0x34bdbe);try{const _0x37be12=await _0x346f5f[_0x2f0ddb(0x1d7)][_0x2f0ddb(0x11c)](_0x3536e6),_0x5e6671=JSON[_0x2f0ddb(0x11d)](_0x37be12[_0x2f0ddb(0x275)][_0x2f0ddb(0xe9)]()[_0x2f0ddb(0x1ef)](/```json|```/g,'')[_0x2f0ddb(0x251)]());_0x5e6671[_0x2f0ddb(0x273)]&&(_0x346f5f[_0x2f0ddb(0x1e4)][_0x2f0ddb(0x27e)]({'timestamp':new Date()[_0x2f0ddb(0x253)](),'eventCount':_0x38b239,'summary':_0x5e6671[_0x2f0ddb(0x273)],'activityLevel':_0x5e6671[_0x2f0ddb(0x133)],'systemMode':_0x346f5f[_0x2f0ddb(0x22a)]}),await saveDailyDigests(_0x346f5f),_0x346f5f[_0x2f0ddb(0xfc)]=[],await saveRawEventLog(_0x346f5f),await _0x346f5f[_0x2f0ddb(0x167)](LTM_DP_STATUS,{'val':'Success:\x20Compressed\x20'+_0x38b239+'\x20events','ack':!![]}),runPythonHealthCheck(_0x346f5f));}catch(_0x26b27a){await _0x346f5f[_0x2f0ddb(0x167)](LTM_DP_STATUS,{'val':'Error:\x20'+_0x26b27a[_0x2f0ddb(0x119)],'ack':!![]});}}async function sendMorningBriefing(_0x200e28){const _0x50d849=a0_0x443ac4;if(!_0x200e28[_0x50d849(0x1d7)])return;_0x200e28[_0x50d849(0x17f)][_0x50d849(0xbf)]('Generating\x20Morning\x20Briefing...');const _0x44df8c=_0x200e28[_0x50d849(0x1e4)]['length']>0x0?_0x200e28[_0x50d849(0x1e4)][_0x200e28[_0x50d849(0x1e4)][_0x50d849(0xa2)]-0x1]:null,_0x1af8ed=_0x44df8c&&_0x44df8c[_0x50d849(0x9a)]?_0x44df8c[_0x50d849(0x9a)][_0x50d849(0x193)]:'N/A',_0x7c0f0f=new Date();_0x7c0f0f['setHours'](0x4,0x0,0x0,0x0);const _0x2d8012=_0x200e28[_0x50d849(0x162)][_0x50d849(0x126)](_0x22c54f=>new Date(_0x22c54f[_0x50d849(0xce)])>_0x7c0f0f),_0x18c6f4=PERSONA_MAPPING[_0x200e28[_0x50d849(0x27d)][_0x50d849(0x10a)]||_0x50d849(0x227)],_0x306b60=_0x200e28[_0x50d849(0x27d)][_0x50d849(0x137)]||'',_0x51d4ce=await getWeatherContext(_0x200e28),_0xbab9d0=await getCalendarContext(_0x200e28),_0x1038c4=_0x50d849(0x130)+_0x18c6f4+_0x50d849(0x229)+_0x306b60+_0x50d849(0xab)+_0x51d4ce+'\x20'+_0xbab9d0+_0x50d849(0x204)+_0x1af8ed+_0x50d849(0x256)+JSON['stringify'](_0x2d8012[_0x50d849(0x22c)](0x0,0xa))+_0x50d849(0x19f);try{const _0x4cc4f1=await _0x200e28['geminiModel'][_0x50d849(0x11c)](_0x1038c4),_0x127576=_0x50d849(0x233)+_0x4cc4f1['response'][_0x50d849(0xe9)]()['trim']();sendNotification(_0x200e28,_0x127576),_0x200e28[_0x50d849(0x17f)]['info'](_0x50d849(0x149));}catch(_0x4c692b){_0x200e28['log'][_0x50d849(0xe2)](_0x50d849(0xda)+_0x4c692b[_0x50d849(0x119)]);}}async function scanForDevices(_0x54815d,_0x158e17){const _0x41fe26=a0_0x443ac4;_0x54815d['log']['info'](_0x41fe26(0x1a5));const _0x14e7f5=[],_0x60ec31=await _0x54815d[_0x41fe26(0x182)]('*'),_0x58f486=await _0x54815d['getForeignObjectsAsync'](_0x41fe26(0x15a),_0x41fe26(0x1c1)),_0x31b052=await _0x54815d[_0x41fe26(0x182)](_0x41fe26(0x12f),'enum'),_0x583de4={};if(_0x58f486)for(const _0x163d74 in _0x58f486){const _0x44ed63=_0x58f486[_0x163d74][_0x41fe26(0x113)][_0x41fe26(0xd4)]||[];_0x44ed63[_0x41fe26(0xee)](_0x1dabaa=>{const _0x1a0e23=_0x41fe26;if(!_0x583de4[_0x1dabaa])_0x583de4[_0x1dabaa]=[];_0x583de4[_0x1dabaa][_0x1a0e23(0x27e)](_0x163d74);});}const _0x220445={};if(_0x31b052)for(const _0x358246 in _0x31b052){const _0x175cc0=_0x31b052[_0x358246]['common'][_0x41fe26(0xd4)]||[],_0x1628a0=typeof _0x31b052[_0x358246]['common'][_0x41fe26(0x138)]===_0x41fe26(0x171)?_0x31b052[_0x358246][_0x41fe26(0x113)][_0x41fe26(0x138)]['de']:_0x31b052[_0x358246][_0x41fe26(0x113)][_0x41fe26(0x138)];_0x175cc0['forEach'](_0xdbf1c4=>_0x220445[_0xdbf1c4]=_0x1628a0);}const _0x1d1fa1=_0x158e17[_0x41fe26(0x23b)]||[],_0x4ed44b=_0x158e17[_0x41fe26(0x1b1)]!==![],_0x1cbf59=_0x158e17[_0x41fe26(0x187)]!==![],_0xa3825e=_0x158e17[_0x41fe26(0x20f)]!==![],_0x106d2e=_0x158e17[_0x41fe26(0x140)]===!![],_0x566f95=_0x158e17[_0x41fe26(0xaa)]===!![];for(const _0x4cde71 in _0x60ec31){const _0x343b03=_0x60ec31[_0x4cde71];if(_0x343b03[_0x41fe26(0xfa)]!==_0x41fe26(0xbc)||!_0x343b03[_0x41fe26(0x113)])continue;if(ADAPTER_BLACKLIST[_0x41fe26(0x114)](_0x2f473c=>_0x4cde71[_0x41fe26(0xc1)](_0x2f473c))&&!_0x566f95)continue;const _0x2e90ad=(_0x343b03[_0x41fe26(0x113)]['role']||'')[_0x41fe26(0xfe)]();let _0x48013d=(typeof _0x343b03[_0x41fe26(0x113)][_0x41fe26(0x138)]==='object'?_0x343b03[_0x41fe26(0x113)][_0x41fe26(0x138)]['de']:_0x343b03[_0x41fe26(0x113)][_0x41fe26(0x138)])||_0x4cde71;const _0x30664d=_0x48013d[_0x41fe26(0xfe)]();let _0x2046dc=![],_0x2cb867=![];if(_0x1d1fa1['length']>0x0){const _0x44cc5a=_0x583de4[_0x4cde71]||[],_0x1e0451=_0x4cde71[_0x41fe26(0x1eb)]('.')[_0x41fe26(0x22c)](0x0,-0x1)[_0x41fe26(0x185)]('.'),_0x33398a=_0x583de4[_0x1e0451]||[];(_0x44cc5a[_0x41fe26(0x114)](_0x3e8a72=>_0x1d1fa1[_0x41fe26(0x21b)](_0x3e8a72))||_0x33398a[_0x41fe26(0x114)](_0x58ecf5=>_0x1d1fa1[_0x41fe26(0x21b)](_0x58ecf5)))&&(_0x2046dc=!![],_0x2cb867=!![]);}if(!_0x2046dc&&!_0x566f95){if(HARD_IGNORE_TERMS[_0x41fe26(0x114)](_0xc53a4c=>_0x4cde71[_0x41fe26(0x21b)](_0xc53a4c)||_0x30664d['includes'](_0xc53a4c[_0x41fe26(0xfe)]())))continue;}if(BAD_NAMES[_0x41fe26(0x114)](_0x15a710=>_0x30664d===_0x15a710||_0x30664d[_0x41fe26(0xe4)]('.'+_0x15a710))){const _0x50ac2b=_0x4cde71[_0x41fe26(0x1eb)]('.');if(_0x50ac2b[_0x41fe26(0xa2)]>0x2){const _0x12e088=_0x50ac2b['slice'](0x0,-0x1)[_0x41fe26(0x185)]('.'),_0x129fbf=_0x60ec31[_0x12e088];if(_0x129fbf&&_0x129fbf['common']&&_0x129fbf[_0x41fe26(0x113)][_0x41fe26(0x138)]){const _0x42178f=typeof _0x129fbf[_0x41fe26(0x113)][_0x41fe26(0x138)]==='object'?_0x129fbf['common'][_0x41fe26(0x138)]['de']:_0x129fbf[_0x41fe26(0x113)][_0x41fe26(0x138)];_0x42178f&&!_0x48013d[_0x41fe26(0x21b)](_0x42178f)&&(_0x48013d=_0x42178f+'\x20'+_0x48013d);}}}let _0x47916c='';if(_0x4ed44b&&(_0x2e90ad['includes'](_0x41fe26(0x1b1))||_0x2e90ad[_0x41fe26(0x21b)]('occupancy')||_0x30664d[_0x41fe26(0x21b)]('bewegung')||_0x30664d[_0x41fe26(0x21b)]('pr√§senz')))_0x47916c=_0x41fe26(0x1b1);else{if(!_0x47916c&&_0x1cbf59&&(_0x2e90ad[_0x41fe26(0x21b)](_0x41fe26(0xf7))||_0x2e90ad[_0x41fe26(0x21b)]('window')||_0x2e90ad[_0x41fe26(0x21b)](_0x41fe26(0xea))||_0x2e90ad[_0x41fe26(0x21b)](_0x41fe26(0x1c8))||_0x2e90ad['includes']('shutter')||_0x30664d['includes']('fenster')||_0x30664d[_0x41fe26(0x21b)](_0x41fe26(0xd7))||_0x30664d[_0x41fe26(0x21b)](_0x41fe26(0x1e9))))_0x47916c='door';else{if(!_0x47916c&&_0xa3825e&&(_0x2e90ad['includes']('light')||_0x2e90ad[_0x41fe26(0x21b)](_0x41fe26(0xf4))||_0x2e90ad[_0x41fe26(0x21b)](_0x41fe26(0x277))||_0x30664d[_0x41fe26(0x21b)](_0x41fe26(0x1b5))||_0x30664d[_0x41fe26(0x21b)](_0x41fe26(0xc6))||_0x30664d['includes'](_0x41fe26(0xe0)))){if(_0x343b03['common'][_0x41fe26(0x211)]||_0x2e90ad[_0x41fe26(0x21b)](_0x41fe26(0x1f4)))_0x47916c=_0x41fe26(0x1be);}else{if(!_0x47916c&&_0x106d2e&&(_0x2e90ad[_0x41fe26(0x21b)](_0x41fe26(0x140))||_0x2e90ad[_0x41fe26(0x21b)]('humidity')||_0x2e90ad[_0x41fe26(0x21b)](_0x41fe26(0x1ab))||_0x30664d[_0x41fe26(0x21b)]('temp')||_0x30664d['includes'](_0x41fe26(0x12b))||_0x30664d[_0x41fe26(0x21b)]('heizung')))_0x47916c=_0x41fe26(0x140);else{if(!_0x47916c&&_0x2cb867)_0x47916c=_0x41fe26(0x1fc);}}}}if(_0x47916c){let _0x501bb2=_0x220445[_0x4cde71]||'';if(!_0x501bb2){let _0x35584b=_0x4cde71;for(let _0x58564f=0x0;_0x58564f<0x3;_0x58564f++){const _0x2fc259=_0x35584b['lastIndexOf']('.');if(_0x2fc259===-0x1)break;_0x35584b=_0x35584b[_0x41fe26(0x1c3)](0x0,_0x2fc259);if(_0x220445[_0x35584b]){_0x501bb2=_0x220445[_0x35584b];break;}}}_0x14e7f5[_0x41fe26(0x27e)]({'id':_0x4cde71,'name':_0x48013d,'location':_0x501bb2,'type':_0x47916c,'logDuplicates':_0x47916c===_0x41fe26(0x1b1),'isExit':![],'_score':_0x501bb2?0x50:_0x47916c==='custom'?0x5a:0x28});}}return _0x14e7f5[_0x41fe26(0x14a)]((_0x272d32,_0x3b42ea)=>_0x3b42ea[_0x41fe26(0x1af)]-_0x272d32[_0x41fe26(0x1af)]),_0x14e7f5;}async function executeAutomationAction(_0x30e1c6){const _0x5bcc52=a0_0x443ac4;try{const _0x30bc17=await _0x30e1c6[_0x5bcc52(0xd1)](_0x5bcc52(0x1f3)),_0x3fa48b=await _0x30e1c6['getStateAsync'](_0x5bcc52(0x209));if(_0x30bc17&&_0x30bc17['val']&&_0x3fa48b){const _0x285bae=_0x30bc17['val'];let _0x331165=_0x3fa48b[_0x5bcc52(0x154)];try{_0x331165=JSON[_0x5bcc52(0x11d)](_0x331165);}catch(_0x48cb9c){}_0x30e1c6[_0x5bcc52(0x17f)][_0x5bcc52(0xbf)](_0x5bcc52(0x265)+_0x285bae+'\x20=\x20'+_0x331165),await _0x30e1c6[_0x5bcc52(0x24b)](_0x285bae,_0x331165);}else _0x30e1c6[_0x5bcc52(0x17f)][_0x5bcc52(0x226)]('ü§ñ\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0x4835fa){_0x30e1c6[_0x5bcc52(0x17f)]['error'](_0x5bcc52(0x23c)+_0x4835fa[_0x5bcc52(0x119)]);}}function tryParse(_0x562f9a){try{return JSON['parse'](_0x562f9a);}catch(_0x5ae198){return null;}}async function recordSequence(_0x237b89,_0x308ecc){const _0x4ea597=a0_0x443ac4;if(_0x308ecc[_0x4ea597(0xfa)]!==_0x4ea597(0x1b1)&&_0x308ecc['type']!==_0x4ea597(0xf7)){_0x237b89[_0x4ea597(0x17f)][_0x4ea597(0x121)](_0x4ea597(0xbd)+_0x308ecc['id']+_0x4ea597(0x280)+_0x308ecc['type']+_0x4ea597(0x24f));return;}if(!_0x308ecc[_0x4ea597(0x1d5)]){_0x237b89[_0x4ea597(0x17f)][_0x4ea597(0x121)]('[RECORDER\x20DEBUG]\x20Ignored\x20Event\x20'+_0x308ecc['id']+_0x4ea597(0x282)+_0x308ecc[_0x4ea597(0x1d5)]+')');return;}_0x237b89[_0x4ea597(0x17f)]['debug'](_0x4ea597(0x172)+_0x308ecc['id']+'\x20('+_0x308ecc[_0x4ea597(0x1d2)]+')');if(sequenceTimer)clearTimeout(sequenceTimer);const _0x1b0bd5={'loc':_0x308ecc[_0x4ea597(0x1d2)]||_0x4ea597(0x146),'id':_0x308ecc['id'],'ts':Date[_0x4ea597(0x19d)]()};activeSequence[_0x4ea597(0x27e)](_0x1b0bd5),_0x237b89[_0x4ea597(0x17f)]['debug'](_0x4ea597(0xb5)+_0x1b0bd5[_0x4ea597(0x19a)]+'\x20(Length:\x20'+activeSequence['length']+')'),sequenceTimer=setTimeout(async()=>{const _0x5cc759=_0x4ea597;activeSequence[_0x5cc759(0xa2)]>0x1?await saveCompletedSequence(_0x237b89):(_0x237b89[_0x5cc759(0x17f)][_0x5cc759(0x121)](_0x5cc759(0x21c)+activeSequence[_0x5cc759(0xa2)]+')'),activeSequence=[]);},SEQUENCE_TIMEOUT_MS);}async function saveCompletedSequence(_0x4db5bc){const _0x5b2eab=a0_0x443ac4;try{_0x4db5bc[_0x5b2eab(0x17f)][_0x5b2eab(0xbf)](_0x5b2eab(0x9f)+activeSequence[_0x5b2eab(0xa2)]+_0x5b2eab(0x236));const _0x57a3e7=await _0x4db5bc[_0x5b2eab(0xd1)](_0x5b2eab(0x267));let _0x87cf08=[];if(_0x57a3e7&&_0x57a3e7[_0x5b2eab(0x154)])try{_0x87cf08=JSON[_0x5b2eab(0x11d)](_0x57a3e7[_0x5b2eab(0x154)]);}catch(_0xd0844c){}const _0x5879e3=activeSequence[0x0]['ts'],_0x25aae1=activeSequence[_0x5b2eab(0xa0)](_0x5e814d=>({'loc':_0x5e814d[_0x5b2eab(0x19a)],'t_delta':Math[_0x5b2eab(0x1de)]((_0x5e814d['ts']-_0x5879e3)/0x3e8)})),_0x139252={'timestamp':new Date(_0x5879e3)[_0x5b2eab(0x253)](),'steps':_0x25aae1,'duration':Math[_0x5b2eab(0x1de)]((activeSequence[activeSequence[_0x5b2eab(0xa2)]-0x1]['ts']-_0x5879e3)/0x3e8),'daytime':new Date(_0x5879e3)[_0x5b2eab(0x9e)]()};_0x87cf08[_0x5b2eab(0x27e)](_0x139252),_0x87cf08[_0x5b2eab(0xa2)]>MAX_TRAINING_SET_SIZE&&_0x87cf08['shift'](),await _0x4db5bc[_0x5b2eab(0x167)](_0x5b2eab(0x267),{'val':JSON[_0x5b2eab(0xf5)](_0x87cf08),'ack':!![]}),activeSequence=[],sequenceTimer=null;}catch(_0x50372d){_0x4db5bc[_0x5b2eab(0x17f)][_0x5b2eab(0xe2)](_0x5b2eab(0x19c)+_0x50372d[_0x5b2eab(0x119)]);}}async function processSensorEvent(_0x2b65b9,_0x4485d9,_0x3f1be8,_0xefd3a1){const _0x44e56e=a0_0x443ac4;if(!_0xefd3a1)return;const _0x16c306=_0x3f1be8[_0x44e56e(0x154)],_0x5e3bd0=Date['now']();_0x2b65b9[_0x44e56e(0x17f)][_0x44e56e(0x121)](_0x44e56e(0x143)+_0x4485d9+_0x44e56e(0x23a)+_0x16c306);const _0x51abee=_0x2b65b9[_0x44e56e(0x179)][_0x4485d9];_0x2b65b9[_0x44e56e(0x179)][_0x4485d9]=_0x16c306;if(!_0xefd3a1['logDuplicates']&&_0x51abee!=undefined&&_0x51abee==_0x16c306){_0x2b65b9[_0x44e56e(0x17f)][_0x44e56e(0x121)](_0x44e56e(0x27f)+_0xefd3a1[_0x44e56e(0x138)]+'\x20(Value:\x20'+_0x16c306+')');return;}const _0x340b13={'timestamp':_0x5e3bd0,'id':_0x4485d9,'name':_0xefd3a1[_0x44e56e(0x138)],'type':_0xefd3a1[_0x44e56e(0xfa)],'location':_0xefd3a1[_0x44e56e(0x1d2)],'value':_0x16c306};_0x2b65b9['eventHistory'][_0x44e56e(0x158)](_0x340b13);if(_0x2b65b9[_0x44e56e(0x162)]['length']>HISTORY_MAX_SIZE)_0x2b65b9[_0x44e56e(0x162)][_0x44e56e(0x105)]();await _0x2b65b9['setStateAsync'](_0x44e56e(0x16c),{'val':JSON[_0x44e56e(0xf5)](_0x340b13),'ack':!![]}),await _0x2b65b9[_0x44e56e(0x167)]('events.history',{'val':JSON['stringify'](_0x2b65b9[_0x44e56e(0x162)]),'ack':!![]});_0x2b65b9['isProVersion']&&(_0x2b65b9[_0x44e56e(0xfc)][_0x44e56e(0x27e)](_0x340b13),await saveRawEventLog(_0x2b65b9),recordSequence(_0x2b65b9,_0x340b13));if(_0xefd3a1[_0x44e56e(0x14b)]&&_0x16c306===!![]){if(_0x2b65b9[_0x44e56e(0x16b)]&&!_0x2b65b9[_0x44e56e(0x1fa)])_0x2b65b9['log'][_0x44e56e(0xbf)]('Exit\x20Sensor\x20triggered\x20('+_0xefd3a1[_0x44e56e(0x138)]+_0x44e56e(0x1a3)),startExitTimer(_0x2b65b9);else!_0x2b65b9[_0x44e56e(0x16b)]&&(_0x2b65b9[_0x44e56e(0x17f)][_0x44e56e(0xbf)](_0x44e56e(0x1c7)+_0xefd3a1[_0x44e56e(0x138)]+_0x44e56e(0x263)),await setPresence(_0x2b65b9,!![]));}else _0xefd3a1[_0x44e56e(0xfa)]===_0x44e56e(0x1b1)&&_0x16c306===!![]&&(_0x2b65b9[_0x44e56e(0x1f8)]&&(_0x2b65b9['log']['info'](_0x44e56e(0x107)),abortExitTimer(_0x2b65b9)),!_0x2b65b9['isPresent']&&_0x2b65b9[_0x44e56e(0x22a)]===SYSTEM_MODES[_0x44e56e(0x216)]&&await setPresence(_0x2b65b9,!![]));}async function runGeminiAnalysis(_0x1ba91a,_0x55d90e=''){const _0x190917=a0_0x443ac4;if(!_0x1ba91a['geminiModel'])return;if(_0x1ba91a[_0x190917(0x162)][_0x190917(0xa2)]===0x0)return;const _0x126939=_0x1ba91a['eventHistory'][_0x190917(0x22c)](0x0,0xf),_0x4bad5f=await getWeatherContext(_0x1ba91a),_0x51727b=_0x1ba91a[_0x190917(0x22a)],_0x511a45=PERSONA_MAPPING[_0x1ba91a[_0x190917(0x27d)]['aiPersona']||_0x190917(0x227)],_0x2b0cb5=_0x1ba91a['config'][_0x190917(0x137)]||_0x190917(0xa1);let _0x33c101=![];try{const _0x452030=await _0x1ba91a['getStateAsync']('analysis.automation.autoApply');if(_0x452030&&_0x452030[_0x190917(0x154)])_0x33c101=!![];}catch(_0x2b1226){}const _0xf7f29f=_0x190917(0x102)+_0x511a45+'.\x0a\x20\x20\x20\x20KONTEXT:\x20'+_0x2b0cb5+'.\x0a\x20\x20\x20\x20SYSTEM_MODE:\x20'+_0x51727b+_0x190917(0x106)+_0x4bad5f+_0x190917(0x206)+(_0x55d90e||_0x190917(0x1f6))+'.\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20INPUT\x20DATEN\x20(Letzte\x20Events):\x0a\x20\x20\x20\x20'+JSON[_0x190917(0xf5)](_0x126939)+_0x190917(0x14d);try{const _0x18282a=await _0x1ba91a[_0x190917(0x1d7)][_0x190917(0x11c)](_0xf7f29f),_0x58747d=_0x18282a[_0x190917(0x275)]['text']()[_0x190917(0x1ef)](/```json|```/g,'')['trim'](),_0x5b1edc=JSON[_0x190917(0x11d)](_0x58747d);await _0x1ba91a[_0x190917(0x167)](_0x190917(0x1ca),{'val':JSON[_0x190917(0xf5)](_0x5b1edc),'ack':!![]});_0x5b1edc[_0x190917(0x273)]&&await _0x1ba91a[_0x190917(0x167)](_0x190917(0x25f),{'val':_0x5b1edc['summary'],'ack':!![]});const _0x29167d={'timestamp':Date[_0x190917(0x19d)](),'id':Date[_0x190917(0x19d)]()['toString'](),'analysis':{'activity':{'summary':_0x5b1edc['summary']||_0x190917(0x1cd),'isAlert':_0x5b1edc[_0x190917(0x148)]||![],'alertReason':_0x5b1edc[_0x190917(0x217)]},'comfort':{'automationProposal':_0x5b1edc[_0x190917(0x20e)]}}};await updateAnalysisHistory(_0x1ba91a,_0x29167d);const _0x45f5e4=_0x5b1edc[_0x190917(0x148)]||![];_0x45f5e4!==_0x1ba91a[_0x190917(0x284)]&&(await _0x1ba91a[_0x190917(0x167)](_0x190917(0x237),{'val':_0x45f5e4,'ack':!![]}),_0x1ba91a[_0x190917(0x284)]=_0x45f5e4,_0x45f5e4&&(await _0x1ba91a[_0x190917(0x167)](_0x190917(0x261),{'val':_0x5b1edc[_0x190917(0x217)],'ack':!![]}),sendNotification(_0x1ba91a,'‚ö†Ô∏è\x20ALARM:\x20'+_0x5b1edc[_0x190917(0x217)],![],_0x5b1edc['isEmergency']))),_0x5b1edc[_0x190917(0x20e)]&&_0x5b1edc['automationProposal'][_0x190917(0xa8)]&&_0x5b1edc[_0x190917(0x20e)][_0x190917(0xb7)]&&(_0x1ba91a['log'][_0x190917(0xbf)](_0x190917(0x128)+_0x5b1edc['automationProposal'][_0x190917(0x10d)]),await _0x1ba91a[_0x190917(0x167)](_0x190917(0x23f),{'val':!![],'ack':!![]}),await _0x1ba91a[_0x190917(0x167)](_0x190917(0x17a),{'val':_0x5b1edc['automationProposal'][_0x190917(0x10d)],'ack':!![]}),await _0x1ba91a['setStateAsync'](_0x190917(0x1f3),{'val':_0x5b1edc['automationProposal'][_0x190917(0xb7)],'ack':!![]}),await _0x1ba91a[_0x190917(0x167)](_0x190917(0x209),{'val':JSON[_0x190917(0xf5)](_0x5b1edc['automationProposal'][_0x190917(0x27b)]),'ack':!![]}),_0x33c101&&(_0x1ba91a[_0x190917(0x17f)][_0x190917(0xbf)](_0x190917(0xba)+_0x5b1edc[_0x190917(0x20e)]['targetId']+'...'),await executeAutomationAction(_0x1ba91a)));}catch(_0x5c5c51){_0x1ba91a[_0x190917(0x17f)][_0x190917(0xe2)]('Gemini\x20Analysis\x20Error:\x20'+_0x5c5c51['message']);}}function installPythonDependencies(_0xc55e11){const _0x44befb=a0_0x443ac4;if(_0xc55e11[_0x44befb(0x109)])return;_0xc55e11[_0x44befb(0x109)]=!![];const _0x5110b8=path[_0x44befb(0x185)](__dirname,_0x44befb(0x1a8),'requirements.txt');_0xc55e11['log'][_0x44befb(0xbf)](_0x44befb(0x279)+_0x5110b8+_0x44befb(0x13c)),stopPythonService(_0xc55e11);const _0x3b31de=_0x44befb(0x1e2)+_0x5110b8+_0x44befb(0x260);exec(_0x3b31de,(_0x277861,_0x1705b9,_0x481bd1)=>{const _0x36d69a=_0x44befb;_0xc55e11[_0x36d69a(0x109)]=![],_0x277861?(_0xc55e11[_0x36d69a(0x17f)]['error']('‚ùå\x20AUTO-FIX\x20FAILED.\x20Please\x20run\x20manually:\x20sudo\x20'+_0x3b31de),_0xc55e11['log'][_0x36d69a(0xe2)](_0x36d69a(0x124)+(_0x481bd1||_0x277861['message']))):(_0xc55e11[_0x36d69a(0x17f)][_0x36d69a(0xbf)](_0x36d69a(0x281)),startPythonService(_0xc55e11));});}function sendToPython(_0x52d173,_0x405b2d,_0x1dbf77={}){const _0x40ab29=a0_0x443ac4;if(!_0x52d173[_0x40ab29(0x1b7)]||!_0x52d173[_0x40ab29(0x1b7)]['stdin'][_0x40ab29(0xbe)])return;const _0x5c6d92=JSON[_0x40ab29(0xf5)]({'command':_0x405b2d,..._0x1dbf77});try{_0x52d173[_0x40ab29(0x1b7)]['stdin'][_0x40ab29(0x211)](_0x5c6d92+'\x0a');}catch(_0x2d37d9){_0x52d173[_0x40ab29(0x17f)]['error']('Failed\x20to\x20send\x20to\x20Python:\x20'+_0x2d37d9['message']);}}function runPythonHealthCheck(_0x2e0f64){const _0x530852=a0_0x443ac4;if(!_0x2e0f64[_0x530852(0x1e4)]||_0x2e0f64[_0x530852(0x1e4)]['length']<0x2){_0x2e0f64[_0x530852(0x17f)][_0x530852(0xbf)](_0x530852(0x1ec));return;}const _0x56b4b9=_0x2e0f64[_0x530852(0x1e4)][_0x530852(0xa0)](_0x4652c6=>{const _0x10f6e5=_0x530852,_0x5a08b7=(_0x4652c6[_0x10f6e5(0x133)]||'')[_0x10f6e5(0xfe)]();return ACTIVITY_LEVEL_MAP[_0x5a08b7]||0x32;});_0x2e0f64[_0x530852(0x17f)]['info']('Guardian:\x20Sending\x20'+_0x56b4b9[_0x530852(0xa2)]+_0x530852(0x116)),sendToPython(_0x2e0f64,_0x530852(0x1ea),{'values':_0x56b4b9,'tag':_0x530852(0x243)});}function handlePythonResult(_0x18eb38,_0x3ea6d0){const _0x29003e=a0_0x443ac4;if(_0x3ea6d0[_0x29003e(0xfa)]===_0x29003e(0x1aa))_0x18eb38[_0x29003e(0x17f)][_0x29003e(0x121)](_0x29003e(0x1c5));else{if(_0x3ea6d0[_0x29003e(0xfa)]==='TREND_RESULT'){const {tag:_0x4e8230,diagnosis:_0x554d26,change_percent:_0x1157d2}=_0x3ea6d0['payload'];_0x18eb38[_0x29003e(0x17f)][_0x29003e(0xbf)](_0x29003e(0x207)+_0x4e8230+'):\x20'+_0x554d26+'\x20('+_0x1157d2+'%)'),_0x18eb38[_0x29003e(0x167)](_0x29003e(0x1a7),{'val':_0x554d26,'ack':!![]}),_0x18eb38[_0x29003e(0x167)]('analysis.health.trendValue',{'val':_0x1157d2,'ack':!![]});}}}function startPythonService(_0x16b748){const _0x1e5b5e=a0_0x443ac4;try{const _0x47300d=path[_0x1e5b5e(0x185)](__dirname,_0x1e5b5e(0x1a8),'service.py');_0x16b748[_0x1e5b5e(0x17f)][_0x1e5b5e(0xbf)]('üêç\x20Starting\x20Python\x20Sidecar:\x20'+_0x47300d),_0x16b748[_0x1e5b5e(0x1b7)]=spawn('python3',[_0x47300d]),_0x16b748[_0x1e5b5e(0x1b7)][_0x1e5b5e(0x220)]['on'](_0x1e5b5e(0x1bb),_0x2575b1=>{const _0x73ad17=_0x1e5b5e,_0x14282b=_0x2575b1['toString']()[_0x73ad17(0x1eb)]('\x0a');_0x14282b[_0x73ad17(0xee)](_0x31f6f3=>{const _0xd6cf29=_0x73ad17,_0x27270e=_0x31f6f3['trim']();if(!_0x27270e)return;if(_0x27270e[_0xd6cf29(0xc1)]('[LOG]'))_0x16b748[_0xd6cf29(0x17f)]['debug'](_0xd6cf29(0x1ad)+_0x27270e[_0xd6cf29(0x1c3)](0x5)['trim']());else{if(_0x27270e[_0xd6cf29(0xc1)]('[RESULT]'))try{const _0x35dcca=JSON[_0xd6cf29(0x11d)](_0x27270e['substring'](0x8)[_0xd6cf29(0x251)]());handlePythonResult(_0x16b748,_0x35dcca);}catch(_0x439aa3){_0x16b748[_0xd6cf29(0x17f)]['warn']('Invalid\x20JSON\x20from\x20Python:\x20'+_0x27270e);}}(_0x27270e[_0xd6cf29(0x21b)](_0xd6cf29(0x242))||_0x27270e['includes'](_0xd6cf29(0x169)))&&(_0x16b748[_0xd6cf29(0x17f)][_0xd6cf29(0x226)](_0xd6cf29(0x268)),installPythonDependencies(_0x16b748));});}),_0x16b748[_0x1e5b5e(0x1b7)]['stderr']['on'](_0x1e5b5e(0x1bb),_0x418f8e=>{const _0x12c897=_0x1e5b5e,_0x5d79d4=_0x418f8e['toString']()[_0x12c897(0x251)]();_0x16b748[_0x12c897(0x17f)][_0x12c897(0xe2)](_0x12c897(0xa5)+_0x5d79d4);}),_0x16b748[_0x1e5b5e(0x1b7)]['on'](_0x1e5b5e(0x25e),_0x9e27d2=>{const _0x1bda51=_0x1e5b5e;_0x16b748[_0x1bda51(0x17f)][_0x1bda51(0xbf)]('[PYTHON]\x20Service\x20exited\x20with\x20code\x20'+_0x9e27d2),_0x16b748[_0x1bda51(0x1b7)]=null;}),_0x16b748[_0x1e5b5e(0x1b7)]['on']('error',_0x49ba06=>{const _0x48ebfb=_0x1e5b5e;_0x16b748[_0x48ebfb(0x17f)][_0x48ebfb(0x226)](_0x48ebfb(0x1fd)+_0x49ba06[_0x48ebfb(0x119)]);});}catch(_0x349996){_0x16b748[_0x1e5b5e(0x17f)]['error']('Error\x20launching\x20Python\x20service:\x20'+_0x349996[_0x1e5b5e(0x119)]);}}function stopPythonService(_0x1e88a5){const _0x14830c=a0_0x443ac4;if(_0x1e88a5[_0x14830c(0x1b7)]){_0x1e88a5[_0x14830c(0x17f)]['info'](_0x14830c(0x153));try{_0x1e88a5[_0x14830c(0x1b7)][_0x14830c(0x192)]();}catch(_0x41f2eb){_0x1e88a5[_0x14830c(0x17f)]['warn']('Could\x20not\x20kill\x20Python\x20process:\x20'+_0x41f2eb[_0x14830c(0x119)]);}_0x1e88a5[_0x14830c(0x1b7)]=null;}}class CogniLiving extends utils[a0_0x443ac4(0x1dc)]{constructor(_0x310996){const _0x1f5e93=a0_0x443ac4;super({..._0x310996,'name':'cogni-living'}),this[_0x1f5e93(0x162)]=[],this['analysisHistory']=[],this[_0x1f5e93(0x13e)]=[],this['rawEventLog']=[],this['dailyDigests']=[],this['sensorLastValues']={},this[_0x1f5e93(0x25c)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x1f5e93(0x1f8)]=null,this[_0x1f5e93(0x13f)]=null,this[_0x1f5e93(0x1fa)]=![],this[_0x1f5e93(0x21f)]=null,this[_0x1f5e93(0x1d7)]=null,this[_0x1f5e93(0x22a)]=SYSTEM_MODES[_0x1f5e93(0x216)],this[_0x1f5e93(0x155)]=![],this[_0x1f5e93(0x284)]=![],this[_0x1f5e93(0x1dd)]=_0x1f5e93(0x1a0),this[_0x1f5e93(0x1e5)]=null,this[_0x1f5e93(0x1da)]=null,this[_0x1f5e93(0x254)]=null,this[_0x1f5e93(0x11a)]=null,this[_0x1f5e93(0x22d)]=null,this['pythonProcess']=null,this[_0x1f5e93(0x109)]=![],this['on'](_0x1f5e93(0x240),this[_0x1f5e93(0x1bf)]['bind'](this)),this['on'](_0x1f5e93(0x26d),this[_0x1f5e93(0x1a6)][_0x1f5e93(0x123)](this)),this['on']('unload',this[_0x1f5e93(0x1a2)]['bind'](this)),this['on'](_0x1f5e93(0x119),this[_0x1f5e93(0x224)][_0x1f5e93(0x123)](this));}async['onReady'](){const _0x15328c=a0_0x443ac4;this[_0x15328c(0x17f)]['info']('cogni-living\x20adapter\x20starting\x20(v'+this[_0x15328c(0x25d)]+_0x15328c(0x115)),await initZombies(this),this[_0x15328c(0x27d)]['licenseKey']=this[_0x15328c(0x27d)][_0x15328c(0x160)]||'';try{this[_0x15328c(0x155)]=await checkLicense(this,this[_0x15328c(0x27d)][_0x15328c(0x160)]);}catch(_0x2e0c71){}this['log'][_0x15328c(0xbf)](_0x15328c(0x1b9)+!!this['config']['licenseKey']+_0x15328c(0xfb)+(this[_0x15328c(0x155)]?_0x15328c(0x184):_0x15328c(0x13d)));if(!this[_0x15328c(0x27d)][_0x15328c(0x18c)]||this[_0x15328c(0x27d)]['inactivityThresholdHours']<0.1)this['config']['inactivityThresholdHours']=0xc;await initHistory(this),await initSystemConfig(this);if(this[_0x15328c(0x27d)]['geminiApiKey'])try{this[_0x15328c(0x21f)]=new GoogleGenerativeAI(this[_0x15328c(0x27d)][_0x15328c(0xf8)]),this['geminiModel']=this[_0x15328c(0x21f)][_0x15328c(0x197)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x15328c(0xc7)}}),this[_0x15328c(0x17f)][_0x15328c(0xbf)](_0x15328c(0x26f));}catch(_0x13824d){this[_0x15328c(0x17f)][_0x15328c(0xe2)]('Gemini\x20Init\x20Error:\x20'+_0x13824d[_0x15328c(0x119)]);}await createAllObjects(this),await loadSystemMode(this),await loadRawEventLog(this),await loadDailyDigests(this),this[_0x15328c(0x1d9)](_0x15328c(0x189)),this['subscribeStates'](LTM_DP_TRIGGER_DIGEST),this[_0x15328c(0x1d9)](_0x15328c(0xed)),this['subscribeStates'](_0x15328c(0x13a)),this[_0x15328c(0x1d9)](_0x15328c(0x258)),this[_0x15328c(0x1d9)](_0x15328c(0x27a)),await initSensorSubscriptions(this),await initPresenceSubscriptions(this),await setupTelegramListener(this),setTimeout(()=>checkWifiPresence(this),0x1388);if(this[_0x15328c(0x1e5)])clearInterval(this['analysisTimer']);const _0x2a018b=this[_0x15328c(0x27d)]['analysisInterval']||0xf;_0x2a018b>0x0&&(this['log'][_0x15328c(0xbf)](_0x15328c(0xc3)+_0x2a018b+'\x20min).'),this['analysisTimer']=setInterval(()=>{runAutopilot(this);},_0x2a018b*0x3c*0x3e8)),setupLtmScheduler(this),setupModeResetScheduler(this),setupDriftAnalysisScheduler(this),setupBriefingScheduler(this),startPythonService(this),setTimeout(()=>{this['pythonProcess']&&runPythonHealthCheck(this);},0x1388);}[a0_0x443ac4(0x1a2)](_0x1ce206){const _0x1023be=a0_0x443ac4;if(this['analysisTimer'])clearInterval(this['analysisTimer']);if(this['driftAnalysisTimer'])clearInterval(this['driftAnalysisTimer']);if(this[_0x1023be(0x1da)])this['ltmJob'][_0x1023be(0x110)]();if(this[_0x1023be(0x254)])this[_0x1023be(0x254)]['cancel']();if(this[_0x1023be(0x22d)])this['briefingJob'][_0x1023be(0x110)]();if(this[_0x1023be(0x1f8)])clearTimeout(this[_0x1023be(0x1f8)]);if(this[_0x1023be(0x13f)])clearTimeout(this[_0x1023be(0x13f)]);stopPythonService(this),_0x1ce206();}async[a0_0x443ac4(0x1a6)](_0x3f4eb9,_0x50ce50){const _0x3ff9de=a0_0x443ac4;if(!_0x50ce50)return;if(_0x3f4eb9[_0x3ff9de(0x21b)](_0x3ff9de(0xe7))&&_0x3f4eb9[_0x3ff9de(0xe4)]('communicate.request')&&_0x50ce50['val']){await handleTelegramResponse(this,_0x50ce50[_0x3ff9de(0x154)]);return;}if(_0x3f4eb9===this[_0x3ff9de(0x1f0)]+'.'+SYSTEM_DP_MODE){_0x50ce50['val']&&Object['values'](SYSTEM_MODES)[_0x3ff9de(0x21b)](_0x50ce50[_0x3ff9de(0x154)])&&(this[_0x3ff9de(0x22a)]=_0x50ce50['val'],_0x50ce50[_0x3ff9de(0x154)]===SYSTEM_MODES['VACATION']?await setPresence(this,![]):await setPresence(this,!![]));if(!_0x50ce50[_0x3ff9de(0xbb)])this[_0x3ff9de(0x132)](_0x3f4eb9,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x50ce50[_0x3ff9de(0xbb)]){_0x3f4eb9['includes']('analysis.trigger')&&_0x50ce50['val']&&(this[_0x3ff9de(0x132)](_0x3f4eb9,{'val':![],'ack':!![]}),runGeminiAnalysis(this));if(_0x3f4eb9[_0x3ff9de(0x21b)](_0x3ff9de(0x151))&&_0x50ce50[_0x3ff9de(0x154)]){this[_0x3ff9de(0x132)](_0x3f4eb9,{'val':![],'ack':!![]});if(this[_0x3ff9de(0x155)])createDailyDigest(this);}_0x3f4eb9[_0x3ff9de(0x21b)](_0x3ff9de(0x1d1))&&_0x50ce50['val']&&(this['setState'](_0x3f4eb9,{'val':![],'ack':!![]}),sendMorningBriefing(this));_0x3f4eb9['includes']('automation.triggerAction')&&_0x50ce50['val']&&(this[_0x3ff9de(0x132)](_0x3f4eb9,{'val':![],'ack':!![]}),executeAutomationAction(this));return;}if(this[_0x3ff9de(0x27d)][_0x3ff9de(0x1f2)]&&this['config']['presenceDevices']['includes'](_0x3f4eb9)){await checkWifiPresence(this);return;}const _0x790df6=(this['config'][_0x3ff9de(0x1f7)]||[])[_0x3ff9de(0x25b)](_0x1b407a=>_0x1b407a['id']===_0x3f4eb9);if(_0x790df6)processSensorEvent(this,_0x3f4eb9,_0x50ce50,_0x790df6);}async[a0_0x443ac4(0x224)](_0x49feba){const _0xfeed97=a0_0x443ac4;if(typeof _0x49feba===_0xfeed97(0x171)&&_0x49feba[_0xfeed97(0x119)])try{if(_0x49feba[_0xfeed97(0x196)]===_0xfeed97(0x17c)){const _0x4d1e58=_0x49feba['message'][_0xfeed97(0x245)]||this[_0xfeed97(0x27d)]['geminiApiKey'];if(!_0x4d1e58)return this[_0xfeed97(0x131)](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':![],'message':'Kein\x20API\x20Key\x20eingegeben.'},_0x49feba[_0xfeed97(0x1df)]);try{const _0x2c8e60=new GoogleGenerativeAI(_0x4d1e58),_0x3829c0=_0x2c8e60['getGenerativeModel']({'model':GEMINI_MODEL}),_0x1360cf=await _0x3829c0[_0xfeed97(0x11c)](_0xfeed97(0xe1)),_0x38ff82=await _0x1360cf[_0xfeed97(0x275)],_0x4f342d=_0x38ff82[_0xfeed97(0xe9)]();this['sendTo'](_0x49feba[_0xfeed97(0x1ff)],_0x49feba['command'],{'success':!![],'message':'Verbindung\x20erfolgreich!\x20Antwort:\x20'+_0x4f342d[_0xfeed97(0x1c3)](0x0,0x14)+'...'},_0x49feba[_0xfeed97(0x1df)]);}catch(_0x3e75d3){this[_0xfeed97(0x131)](_0x49feba['from'],_0x49feba[_0xfeed97(0x196)],{'success':![],'message':_0xfeed97(0x1a9)+_0x3e75d3[_0xfeed97(0x119)]},_0x49feba[_0xfeed97(0x1df)]);}}else{if(_0x49feba[_0xfeed97(0x196)]===_0xfeed97(0x12d)){}else{if(_0x49feba['command']===_0xfeed97(0x234)){if(!this[_0xfeed97(0x155)])return this[_0xfeed97(0x131)](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':![],'isPro':![]},_0x49feba['callback']);let _0x224306={'status':_0xfeed97(0x205),'details':'','lastCheck':0x0};try{_0x224306[_0xfeed97(0xc9)]=(await this['getStateAsync'](LTM_DP_DRIFT_STATUS))[_0xfeed97(0x154)],_0x224306[_0xfeed97(0xad)]=(await this[_0xfeed97(0xd1)](LTM_DP_DRIFT_DETAILS))[_0xfeed97(0x154)],_0x224306['lastCheck']=(await this[_0xfeed97(0xd1)](LTM_DP_DRIFT_LAST_CHECK))[_0xfeed97(0x154)];}catch(_0x2feb92){}const _0x37d569=this['analysisHistory']||[];this['sendTo'](_0x49feba['from'],_0x49feba[_0xfeed97(0x196)],{'success':!![],'isPro':!![],'dailyDigests':this[_0xfeed97(0x1e4)],'driftAnalysis':_0x224306,'analysisHistory':_0x37d569},_0x49feba[_0xfeed97(0x1df)]);}else{if(_0x49feba['command']===_0xfeed97(0x1ed)){const _0x412954=this[_0xfeed97(0x1e4)]['length'],_0x389848=new Date(),_0x1a78d8=new Date(_0x389848[_0xfeed97(0x18e)](),_0x389848[_0xfeed97(0xdf)](),_0x389848[_0xfeed97(0x12a)]())[_0xfeed97(0x150)](),_0x5982d6=this[_0xfeed97(0xfc)][_0xfeed97(0x126)](_0xf0b623=>new Date(_0xf0b623[_0xfeed97(0xce)])[_0xfeed97(0x150)]()>_0x1a78d8)[_0xfeed97(0xa2)],_0x227f5f=new Array(0x18)[_0xfeed97(0xe8)](0x0);this[_0xfeed97(0xfc)][_0xfeed97(0xee)](_0x4deb02=>{const _0x16c857=_0xfeed97,_0x161f0e=new Date(_0x4deb02['timestamp']);if(_0x161f0e[_0x16c857(0x150)]()>_0x1a78d8)_0x227f5f[_0x161f0e[_0x16c857(0x9e)]()]++;});let _0x1cd01b={'status':_0xfeed97(0x205)};try{_0x1cd01b['status']=(await this['getStateAsync'](LTM_DP_DRIFT_STATUS))['val'];}catch(_0x567261){}let _0x531c18='';try{const _0x303f8f=await this[_0xfeed97(0xd1)]('system.presenceWho');_0x531c18=_0x303f8f?_0x303f8f[_0xfeed97(0x154)]:'';}catch(_0x171aee){}let _0x49a4a3=null;!this[_0xfeed97(0x1d7)]&&(_0x49a4a3=this[_0xfeed97(0x27d)][_0xfeed97(0xf8)]?_0xfeed97(0x15d):_0xfeed97(0x11f));let _0x3190e0={'detected':![],'description':'','targetId':'','targetValue':'','autoApply':![]};try{const _0x5a6ddb=await this[_0xfeed97(0xd1)](_0xfeed97(0x23f)),_0x47ae4a=await this[_0xfeed97(0xd1)]('analysis.automation.description'),_0x5350f4=await this[_0xfeed97(0xd1)](_0xfeed97(0x1f3)),_0x1c561f=await this['getStateAsync']('analysis.automation.targetValue'),_0x49d6df=await this[_0xfeed97(0xd1)](_0xfeed97(0x27a));_0x5a6ddb&&_0x5a6ddb[_0xfeed97(0x154)]&&(_0x3190e0['detected']=!![],_0x3190e0[_0xfeed97(0x10d)]=_0x47ae4a?_0x47ae4a[_0xfeed97(0x154)]:'',_0x3190e0[_0xfeed97(0xb7)]=_0x5350f4?_0x5350f4['val']:'',_0x3190e0['targetValue']=_0x1c561f?_0x1c561f[_0xfeed97(0x154)]:''),_0x3190e0[_0xfeed97(0x213)]=_0x49d6df?!!_0x49d6df['val']:![];}catch(_0x3d2cc3){}this['sendTo'](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':!![],'eventHistory':this['eventHistory'][_0xfeed97(0x22c)](0x0,0xf),'stats':{'digestCount':_0x412954,'eventCountToday':_0x5982d6,'hourlyActivity':_0x227f5f,'driftStatus':_0x1cd01b[_0xfeed97(0xc9)],'isPresent':this[_0xfeed97(0x16b)],'presenceWho':_0x531c18,'minDays':this[_0xfeed97(0x27d)][_0xfeed97(0xc4)]||0x7,'stbDays':this[_0xfeed97(0x27d)][_0xfeed97(0x1cb)]||0xe,'ltbDays':this[_0xfeed97(0x27d)]['ltmLtbWindowDays']||0x3c,'systemError':_0x49a4a3},'automation':_0x3190e0},_0x49feba[_0xfeed97(0x1df)]);}else{if(_0x49feba[_0xfeed97(0x196)]===_0xfeed97(0x269)){const _0x33107d=await this['getForeignObjectsAsync'](_0xfeed97(0x15a),_0xfeed97(0x1c1)),_0x225f55=[];if(_0x33107d)for(const _0x1e8dfe in _0x33107d){const _0x1c10ba=_0x33107d[_0x1e8dfe],_0x423ba5=(_0x1c10ba[_0xfeed97(0x113)]&&typeof _0x1c10ba[_0xfeed97(0x113)][_0xfeed97(0x138)]===_0xfeed97(0x171)?_0x1c10ba[_0xfeed97(0x113)][_0xfeed97(0x138)]['de']:_0x1c10ba[_0xfeed97(0x113)][_0xfeed97(0x138)])||_0x1c10ba[_0xfeed97(0x113)][_0xfeed97(0x138)];_0x225f55[_0xfeed97(0x27e)]({'id':_0x1e8dfe,'name':_0x423ba5});}this['sendTo'](_0x49feba['from'],_0x49feba['command'],{'success':!![],'enums':_0x225f55},_0x49feba[_0xfeed97(0x1df)]);}else{if(_0x49feba['command']===_0xfeed97(0x235))try{const _0x31c967=await scanForDevices(this,_0x49feba['message']||{});this[_0xfeed97(0x131)](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':!![],'devices':_0x31c967},_0x49feba['callback']);}catch(_0x12e8dc){this['sendTo'](_0x49feba['from'],_0x49feba['command'],{'success':![],'error':_0x12e8dc['message']},_0x49feba[_0xfeed97(0x1df)]);}else{if(_0x49feba[_0xfeed97(0x196)]==='getCalendarNames'){const _0x23e241=_0x49feba[_0xfeed97(0x119)][_0xfeed97(0x161)];if(!_0x23e241)return this[_0xfeed97(0x131)](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':![],'error':_0xfeed97(0x135)},_0x49feba[_0xfeed97(0x1df)]);const _0xba4f96=await getCalendarNames(this,_0x23e241);this[_0xfeed97(0x131)](_0x49feba[_0xfeed97(0x1ff)],_0x49feba['command'],{'success':!![],'names':_0xba4f96},_0x49feba[_0xfeed97(0x1df)]);}else{if(_0x49feba[_0xfeed97(0x196)]===_0xfeed97(0xa7)){const {targetId:_0x2fd495,targetValue:_0x1c682e}=_0x49feba[_0xfeed97(0x119)];this[_0xfeed97(0x17f)]['info'](_0xfeed97(0x232)+_0x2fd495+'\x20=\x20'+_0x1c682e),await this['setStateAsync'](_0xfeed97(0x23f),{'val':!![],'ack':!![]}),await this[_0xfeed97(0x167)](_0xfeed97(0x17a),{'val':_0xfeed97(0xb1)+_0x2fd495,'ack':!![]}),await this[_0xfeed97(0x167)](_0xfeed97(0x1f3),{'val':_0x2fd495,'ack':!![]}),await this['setStateAsync'](_0xfeed97(0x209),{'val':_0x1c682e,'ack':!![]}),this[_0xfeed97(0x131)](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':!![]},_0x49feba[_0xfeed97(0x1df)]);}else{if(_0x49feba['command']==='submitFeedback'){const {historyId:_0x1beb0e,rating:_0x157bd7,comment:_0x2852d2,alertReason:_0x4446cb}=_0x49feba['message'];_0x1beb0e&&_0x157bd7?(await saveFeedback(this,{'timestamp':Date[_0xfeed97(0x19d)](),'historyId':_0x1beb0e,'rating':_0x157bd7,'comment':_0x2852d2,'alertReason':_0x4446cb}),this[_0xfeed97(0x131)](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':!![]},_0x49feba[_0xfeed97(0x1df)])):this[_0xfeed97(0x131)](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':![],'error':_0xfeed97(0x223)},_0x49feba['callback']);}else _0x49feba[_0xfeed97(0x196)]===_0xfeed97(0x15f)&&(this[_0xfeed97(0x17f)][_0xfeed97(0xbf)]('User\x20dismissed\x20automation\x20proposal.'),await this[_0xfeed97(0x167)](_0xfeed97(0x23f),{'val':![],'ack':!![]}),await this['setStateAsync'](_0xfeed97(0x17a),{'val':'','ack':!![]}),this[_0xfeed97(0x131)](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':!![]},_0x49feba[_0xfeed97(0x1df)]));}}}}}}}}}catch(_0x47af76){this[_0xfeed97(0x17f)][_0xfeed97(0xe2)](_0xfeed97(0xc2)+_0x49feba[_0xfeed97(0x196)]+':\x20'+_0x47af76[_0xfeed97(0x119)]);if(_0x49feba[_0xfeed97(0x1df)])this['sendTo'](_0x49feba[_0xfeed97(0x1ff)],_0x49feba[_0xfeed97(0x196)],{'success':![],'error':_0x47af76[_0xfeed97(0x119)]},_0x49feba[_0xfeed97(0x1df)]);}}}if(require['main']!==module)module[a0_0x443ac4(0x1c9)]=_0x229fff=>new CogniLiving(_0x229fff);else new CogniLiving();