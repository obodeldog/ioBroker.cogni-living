const a0_0x37377d=a0_0xe43a;(function(_0x2c44be,_0xdcabc7){const _0x10dcb0=a0_0xe43a,_0xb6374e=_0x2c44be();while(!![]){try{const _0x5178c0=parseInt(_0x10dcb0(0xd5))/0x1*(-parseInt(_0x10dcb0(0xf0))/0x2)+parseInt(_0x10dcb0(0x141))/0x3+parseInt(_0x10dcb0(0x1d6))/0x4*(-parseInt(_0x10dcb0(0x15e))/0x5)+-parseInt(_0x10dcb0(0x111))/0x6*(-parseInt(_0x10dcb0(0x1c8))/0x7)+parseInt(_0x10dcb0(0x1ce))/0x8+-parseInt(_0x10dcb0(0xe4))/0x9*(parseInt(_0x10dcb0(0x180))/0xa)+parseInt(_0x10dcb0(0x1da))/0xb;if(_0x5178c0===_0xdcabc7)break;else _0xb6374e['push'](_0xb6374e['shift']());}catch(_0xd48a32){_0xb6374e['push'](_0xb6374e['shift']());}}}(a0_0x4d6d,0xe4ac2));const a0_0x30d832=(function(){let _0x40b6fc=!![];return function(_0xf0dbc3,_0x18e7c0){const _0xe5ed24=_0x40b6fc?function(){const _0x981050=a0_0xe43a;if(_0x18e7c0){const _0x255624=_0x18e7c0[_0x981050(0x1df)](_0xf0dbc3,arguments);return _0x18e7c0=null,_0x255624;}}:function(){};return _0x40b6fc=![],_0xe5ed24;};}()),a0_0x46a4b4=a0_0x30d832(this,function(){const _0x1b1929=a0_0xe43a;return a0_0x46a4b4[_0x1b1929(0x18b)]()['search'](_0x1b1929(0x120))['toString']()[_0x1b1929(0x1a9)](a0_0x46a4b4)['search'](_0x1b1929(0x120));});function a0_0xe43a(_0x1e68aa,_0x2a0cb7){const _0x324dfb=a0_0x4d6d();return a0_0xe43a=function(_0x46a4b4,_0x30d832){_0x46a4b4=_0x46a4b4-0xcb;let _0x4d6d9f=_0x324dfb[_0x46a4b4];return _0x4d6d9f;},a0_0xe43a(_0x1e68aa,_0x2a0cb7);}function a0_0x4d6d(){const _0x30e9b7=['subscribeForeignStatesAsync','initZombies','integrateRoomTime','Heizung\x20kann\x20','isGracePeriodActive','string','system.presenceWho','Reinforcement\x20Learning\x20Penalties','models/gemini-flash-latest','sonn','Could\x20not\x20read\x20daily\x20vector:\x20','analysis.energy.pinnForecast','Graph-Brain\x20Train\x20Error:\x20','analyzeWindowOpening','Verbunden','automation.triggerAction','Keine\x20Antwort\x20von\x20Gemini','analysisHistory','checkCalendarTriggers','weatherunderground.0','stringify','warn','109Mhpuaf','WiFi\x20Presence\x20detected.','[Infrasound]\x20ðŸŸ¡\x20Debug-Mode:\x20Alarm\x20detected\x20but\x20suppressed\x20because\x20presence=true.','parse','setObjectNotExistsAsync','analysis.activity.roomStats','_calName','pressureBuffer','scanThermostats','updateTopologyMatrix','{\x22default\x22:\x2021}','error','pop','application/json','checkWifiPresence','117NHknJM','Daten\x20nicht\x20verfÃ¼gbar','json','[Infrasound]\x20ðŸš¨\x20ALARM\x20TRIGGERED!\x20Pressure\x20Wave:\x20','getForeignObjectsAsync','toLowerCase','guest','ðŸ§ \x20Memory:\x20Cache\x20hydrated\x20with\x20','sort','getLtmData','getState','common','2998SMsYxa','analysisInterval','dependencyInstallInProgress','isPresent','infrasoundSensorId','isProVersion','checkThermostats','calendarInstance','onUnload','log','General\x20Activity\x20Trend\x20(%)','text','exitTimer','presenceDevices','ANOMALY\x20(Real\x20Threat?)','minDaysForBaseline','\x20rooms.','Gait\x20Speed\x20Calculation\x20Proof','notifyPushoverEnabled','infrasoundArmingId','find','floor','message','currentSystemMode','forEach','simulateButler','clear','filter','values','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','getEnums','[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]','ANALYZE_HEALTH','13194HTINWn','trackerHeartbeat','config','setHours','notifyPushoverInstance','\x20hPa\x20(Limit:\x20','Keine\x20Sensor-AktivitÃ¤t','role','now','devices','getTime','klar','systemConfig','ack','.communicate.request','(((.+)+)+)+$','\x20Tage)','[Calibration]\x20Window\x20','briefingJob','Memory\x20Hydration\x20Failed:\x20','getForeignStateAsync','ready','./lib/automation','initHistory','toLocaleDateString','.system.mode','cogni-living','scanDevices','heiter','analysis.security.infrasoundLog','triggerBriefing','includes','exitGraceTimer','setState','testContext','dismissAutomation','analysisTimer','testNotification','analysis.topology.structure','length','enum.rooms.*','createAllObjects','PINN\x20AI\x20Forecast','runPythonHealthCheck','TRAIN_HEALTH','SET_TOPOLOGY','Comfort\x20Train\x20Error:\x20','analysis.energy.rlPenalties','1821789kItUOt','calendarName','timestamp','triggerEnergyPrediction','bootTime','moduleEnergy','Kein\x20API\x20Key\x20Ã¼bergeben','toFixed','analysis.automation.patternDetected','bind','Aktiv\x20(','Instanz\x20nicht\x20gefunden','isArray','memoryCache','manual','name','geminiModel','executeAutomationAction','setupModeResetScheduler','triggerInfrasoundCorrelation','temperature','getMinutes','triggerGaitAnalysis','subscribeForeignStates','cogni-living\x20adapter\x20starting\x20(v','sunny','checkLicense','analysis.energy.ventilationAlerts','isSolar','27425epIzwu','licenseKey','val','Standard','yesterday','analysis.health.gaitSensors','monitorEnforcements','LTM.trainingData.sequences','testApiKey','./lib/recorder','analysis.health.activityTrend','getStateAsync','geminiApiKey','Test','MATCH\x20(False\x20Positive)','Sec-Training\x20started...','eventHistory','roomIntegratorTimer','Unknown','Init...','analysis.energy.insulationScore','appendToLog','@google/generative-ai','sendNotification','analysis.prediction.trackerTopRoom','callback','Kein\x20Kalender-Adapter','analysis.health.gaitDebug','Forensic\x20Infrasound\x20Log','apiKey','Fehler:\x20','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','analysis.energy.mpcActive','location','357440SabtYH','exports','enum.functions.*','Verbindung\x20erfolgreich!','debug','thermostat','stopService','info','generateContent','setPresence','command','toString','analysis.automation.targetId','analysis.health.todayVector','Warm-Up\x20Target\x20Temps\x20(JSON)','updated','NORMAL','analysis.training.triggerSecurity','cancel','loadSystemMode','initSystemConfig','./lib/installer','subscribeStates','updateSchedulePreview','system.mode','minutes_safe','notifyTelegramInstance','key','party','Room\x20Dwell\x20Time\x20Stats\x20(Today/Yesterday)','motion','./lib/python_bridge','accuweather.0','moduleHealth','cleanupGhostInterventions','setupLtmScheduler','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','namespace','endsWith','reed','Current.WeatherText','constructor','PREDICT_ENERGY','online','./lib/dead_man','./lib/topology','analysis.energy.warmupTimes','instance','onStateChange','send','createDailyDigest','door','sendTo','updateLocation','CALIB','infrasoundThreshold','notifyTelegramEnabled','keys','onReady','./lib/ai_agent','sources','analysis.training.triggerComfort','updateTopology','sendMorningBriefing','sensorLastValues','LTM.trainingData.thermodynamics','inactivityThresholdHours','analysis.energy.warmupSources','moduleSecurity','date','handleInfrasound','analysis.training.status','2541oQogJz','genAI','getHours','[Forensics]\x20Infrasound\x20Event\x20correlated:\x20','LTM.rawEventLog','number','4673568AMQaXt','analysis.automation.autoApply','from','Party\x20Mode','Active\x20Ventilation\x20Alerts','LTM.baselineStatus','runBaselineDriftAnalysis','NextHours.Location_1.Day_1.current.symbol_desc','472hAGglc','\x20hPa\x20(Threshold:\x20','infrasoundEnabled','simulateEnergyMPC','2444629gIqKLe','analysis.triggerBriefing','sensor.window','Adapter','analysis.training.triggerTopology','apply','type','main','stateChange','push','matrix','Kein\x20Wetter-Adapter','fill','object','scores','ðŸ“…\x20Midnight\x20Reset:\x20Archiving\x20Room\x20Stats\x20(Yesterday\x20<-\x20Today).','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','today','state','getGenerativeModel','analysis.energy.activeEnforcements','ltmJob','rawEventLog','split','Gemini\x20Init\x20Error:\x20','resetRLPenalty','scanForDevices','analysis.automation.triggerAction','abs','useWeather','PYTHON_EXE','security.alarm_triggered','getForeignObjectAsync','checkSolarCondition','startSystem','lastTrackerEventTime','\x20opened.\x20Peak\x20Pressure:\x20','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','@iobroker/adapter-core','Notification\x20Test\x20Failed:\x20','abortExitTimer','dailyDigests','moduleComfort','infrasoundLocked','modeResetJob','healthTrendInterval','add','join','analysis.training.triggerEnergy','times','triggerDailyDigest','Sensors\x20used\x20for\x20Gait\x20Analysis','SYSTEM_MODES','unload','slice','LTM.dailyDigests','updateHealthVector','getOutsideTemperatureNumeric','window','enum','runGeminiAnalysis','Daily\x20Activity\x20Vector\x20(24h)','SYSTEM_DP_MODE','protectAiMemory','magnet','setStateAsync','analysis.automation.description','unshift','version','some','analysis.automation.targetValue','open'];a0_0x4d6d=function(){return _0x30e9b7;};return a0_0x4d6d();}a0_0x46a4b4();'use strict';const utils=require(a0_0x37377d(0x200)),{GoogleGenerativeAI}=require(a0_0x37377d(0x174)),installer=require(a0_0x37377d(0x195)),scanner=require('./lib/scanner'),schedulers=require('./lib/scheduler'),topology=require(a0_0x37377d(0x1ad)),setup=require('./lib/setup'),recorder=require(a0_0x37377d(0x167)),pythonBridge=require(a0_0x37377d(0x19f)),aiAgent=require(a0_0x37377d(0x1bb)),deadMan=require(a0_0x37377d(0x1ac)),automation=require(a0_0x37377d(0x127)),GEMINI_MODEL=a0_0x37377d(0x22a);class CogniLiving extends utils[a0_0x37377d(0x1dd)]{constructor(_0x9b7b50){const _0x356c14=a0_0x37377d;super({..._0x9b7b50,'name':_0x356c14(0x12b)}),this[_0x356c14(0x16e)]=[],this[_0x356c14(0xd0)]=[],this[_0x356c14(0x1f0)]=[],this[_0x356c14(0x203)]=[],this[_0x356c14(0x1c0)]={},this[_0x356c14(0x11d)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x356c14(0xfc)]=null,this[_0x356c14(0x131)]=null,this[_0x356c14(0x226)]=![],this[_0x356c14(0x1c9)]=null,this[_0x356c14(0x151)]=null,this[_0x356c14(0x107)]=setup[_0x356c14(0x20e)]['NORMAL'],this['isProVersion']=![],this['lastAlertState']=![],this['analysisTimer']=null,this[_0x356c14(0x1ef)]=null,this['modeResetJob']=null,this['driftAnalysisTimer']=null,this[_0x356c14(0x123)]=null,this[_0x356c14(0x112)]=null,this[_0x356c14(0x207)]=null,this[_0x356c14(0x16f)]=null,this[_0x356c14(0xf2)]=![],this['lastTrackerEventTime']=Date[_0x356c14(0x119)](),this['memoryCache']=null,this[_0x356c14(0x145)]=Date[_0x356c14(0x119)](),this['infrasoundLocked']=![],this[_0x356c14(0xdc)]=[],this['on'](_0x356c14(0x126),this[_0x356c14(0x1ba)][_0x356c14(0x14a)](this)),this['on'](_0x356c14(0x1e2),this[_0x356c14(0x1b0)]['bind'](this)),this['on'](_0x356c14(0x20f),this['onUnload']['bind'](this)),this['on'](_0x356c14(0x106),this['onMessage'][_0x356c14(0x14a)](this));}async['onReady'](){const _0x23e875=a0_0x37377d;this[_0x23e875(0xf9)]['info'](_0x23e875(0x159)+this[_0x23e875(0x21e)]+')\x20-\x20Phase\x20E\x20(UX\x20&\x20AAL)');if(!installer['checkAndInstall'](this,()=>this['startSystem']()))return;}async[a0_0x37377d(0x1fc)](){const _0x18768b=a0_0x37377d;await setup[_0x18768b(0x223)](this);try{this['isProVersion']=await setup[_0x18768b(0x15b)](this[_0x18768b(0x113)][_0x18768b(0x15f)]);}catch(_0x33b4ed){}if(!this[_0x18768b(0x113)][_0x18768b(0x1c2)]||this['config'][_0x18768b(0x1c2)]<0.1)this[_0x18768b(0x113)][_0x18768b(0x1c2)]=0xc;if(this['config'][_0x18768b(0x1a1)]===undefined)this[_0x18768b(0x113)][_0x18768b(0x1a1)]=!![];if(this['config'][_0x18768b(0x1c4)]===undefined)this[_0x18768b(0x113)][_0x18768b(0x1c4)]=!![];if(this[_0x18768b(0x113)][_0x18768b(0x146)]===undefined)this['config']['moduleEnergy']=!![];if(this[_0x18768b(0x113)][_0x18768b(0x204)]===undefined)this['config'][_0x18768b(0x204)]=!![];await setup[_0x18768b(0x128)](this),await setup[_0x18768b(0x194)](this);try{const _0x76baee=await this[_0x18768b(0x169)]('analysis.energy.warmupTimes'),_0x17e32c=await this[_0x18768b(0x169)](_0x18768b(0x1c3));_0x76baee&&_0x76baee['val']&&_0x17e32c&&_0x17e32c[_0x18768b(0x160)]&&(Date[_0x18768b(0x119)]()-_0x76baee['ts']<0x4*0xe10*0x3e8&&(this[_0x18768b(0x14e)]={'times':JSON['parse'](_0x76baee[_0x18768b(0x160)]),'sources':JSON['parse'](_0x17e32c[_0x18768b(0x160)])},this['log'][_0x18768b(0x187)](_0x18768b(0xeb)+Object[_0x18768b(0x1b9)](this[_0x18768b(0x14e)][_0x18768b(0x20b)])[_0x18768b(0x138)]+_0x18768b(0x100))));}catch(_0x5af3a4){this[_0x18768b(0xf9)]['warn'](_0x18768b(0x124)+_0x5af3a4[_0x18768b(0x106)]);}if(this['config']['geminiApiKey'])try{this[_0x18768b(0x1c9)]=new GoogleGenerativeAI(this[_0x18768b(0x113)][_0x18768b(0x16a)]),this[_0x18768b(0x151)]=this[_0x18768b(0x1c9)][_0x18768b(0x1ed)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x18768b(0xe2)}});}catch(_0x5ceb67){this[_0x18768b(0xf9)][_0x18768b(0xe0)](_0x18768b(0x1f2)+_0x5ceb67[_0x18768b(0x106)]);}await setup[_0x18768b(0x13a)](this),await this[_0x18768b(0x193)](),await this['setObjectNotExistsAsync']('analysis.activity.roomStats',{'type':_0x18768b(0x1ec),'common':{'name':_0x18768b(0x19d),'type':'string','role':_0x18768b(0xe6),'read':!![],'write':![],'def':'{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}'},'native':{}}),await this[_0x18768b(0xd9)](_0x18768b(0x22d),{'type':_0x18768b(0x1ec),'common':{'name':_0x18768b(0x13b),'type':_0x18768b(0x227),'role':_0x18768b(0xe6),'read':!![],'write':![]},'native':{}}),await this[_0x18768b(0xd9)](_0x18768b(0x15c),{'type':_0x18768b(0x1ec),'common':{'name':_0x18768b(0x1d2),'type':_0x18768b(0x227),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x18768b(0xd9)](_0x18768b(0x1ae),{'type':_0x18768b(0x1ec),'common':{'name':_0x18768b(0x1ff),'type':_0x18768b(0x227),'role':_0x18768b(0xe6),'read':!![],'write':![]},'native':{}}),await this[_0x18768b(0xd9)]('analysis.energy.warmupTargets',{'type':_0x18768b(0x1ec),'common':{'name':_0x18768b(0x18e),'type':_0x18768b(0x227),'role':_0x18768b(0xe6),'read':!![],'write':!![],'def':_0x18768b(0xdf)},'native':{}}),await this['setObjectNotExistsAsync'](_0x18768b(0x140),{'type':'state','common':{'name':_0x18768b(0x229),'type':_0x18768b(0x227),'role':_0x18768b(0xe6),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x18768b(0xd9)](_0x18768b(0x168),{'type':'state','common':{'name':_0x18768b(0xfa),'type':_0x18768b(0x1cd),'role':'value','unit':'%','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x18768b(0x163),{'type':'state','common':{'name':_0x18768b(0x20d),'type':_0x18768b(0x227),'role':_0x18768b(0xfb),'read':!![],'write':![]},'native':{}}),await this[_0x18768b(0xd9)](_0x18768b(0x1ee),{'type':_0x18768b(0x1ec),'common':{'name':'Active\x20Calendar\x20Enforcements\x20(Locks)','type':_0x18768b(0x227),'role':_0x18768b(0xe6),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x18768b(0xd9)](_0x18768b(0x12e),{'type':'state','common':{'name':_0x18768b(0x17a),'type':_0x18768b(0x227),'role':_0x18768b(0xe6),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x18768b(0x179),{'type':_0x18768b(0x1ec),'common':{'name':_0x18768b(0x101),'type':_0x18768b(0x227),'role':_0x18768b(0xfb),'read':!![],'write':![]},'native':{}}),await this[_0x18768b(0xd9)]('analysis.health.todayVector',{'type':_0x18768b(0x1ec),'common':{'name':_0x18768b(0x217),'type':'string','role':_0x18768b(0xe6),'read':!![],'write':![],'def':_0x18768b(0x10f)},'native':{}});try{const _0x58afe4=await this[_0x18768b(0x169)](_0x18768b(0x1cc));if(_0x58afe4&&_0x58afe4[_0x18768b(0x160)])this[_0x18768b(0x1f0)]=JSON[_0x18768b(0xd8)](_0x58afe4[_0x18768b(0x160)]);}catch(_0x3d3c58){this[_0x18768b(0x1f0)]=[];}try{const _0x5900c2=await this[_0x18768b(0x169)](_0x18768b(0x211));if(_0x5900c2&&_0x5900c2['val'])this[_0x18768b(0x203)]=JSON[_0x18768b(0xd8)](_0x5900c2['val']);}catch(_0x3ce82c){this[_0x18768b(0x203)]=[];}const _0x3ed248=this[_0x18768b(0x203)][_0x18768b(0x138)]>=(this[_0x18768b(0x113)][_0x18768b(0xff)]||0x7)?_0x18768b(0x14b)+this['dailyDigests'][_0x18768b(0x138)]+_0x18768b(0x121):'Lernphase\x20('+this[_0x18768b(0x203)][_0x18768b(0x138)]+'/'+(this[_0x18768b(0x113)]['minDaysForBaseline']||0x7)+')';await this[_0x18768b(0x21b)](_0x18768b(0x1d3),{'val':_0x3ed248,'ack':!![]}),this[_0x18768b(0x196)]('analysis.trigger'),this[_0x18768b(0x196)]('LTM.triggerDailyDigest'),this['subscribeStates'](_0x18768b(0x198)),this[_0x18768b(0x196)](_0x18768b(0x1db)),this[_0x18768b(0x196)](_0x18768b(0x1f5)),this[_0x18768b(0x196)](_0x18768b(0x1cf)),this[_0x18768b(0x196)]('analysis.training.triggerSecurity'),this[_0x18768b(0x196)]('analysis.training.triggerHealth'),this[_0x18768b(0x196)]('analysis.training.triggerEnergy'),this['subscribeStates'](_0x18768b(0x1bd)),this[_0x18768b(0x196)](_0x18768b(0x1de)),this[_0x18768b(0x196)](_0x18768b(0x17e)),this[_0x18768b(0x196)](_0x18768b(0x1c3)),this[_0x18768b(0x196)](_0x18768b(0x1ae));this[_0x18768b(0x113)][_0x18768b(0x1d8)]&&this['config'][_0x18768b(0xf4)]&&this[_0x18768b(0x158)](this[_0x18768b(0x113)]['infrasoundSensorId']);const _0x27597e=this[_0x18768b(0x113)][_0x18768b(0x11a)];if(_0x27597e)for(const _0x44210b of _0x27597e){await this['subscribeForeignStatesAsync'](_0x44210b['id']);}const _0x1e2064=this[_0x18768b(0x113)][_0x18768b(0xfd)];if(_0x1e2064)for(const _0x271ad1 of _0x1e2064){await this[_0x18768b(0x222)](_0x271ad1);}if(this[_0x18768b(0x113)][_0x18768b(0x1b8)]&&this[_0x18768b(0x113)][_0x18768b(0x19a)])await this[_0x18768b(0x222)](this[_0x18768b(0x113)]['notifyTelegramInstance']+_0x18768b(0x11f));setTimeout(()=>this[_0x18768b(0xe3)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x18768b(0x135)]);const _0x186f73=this['config'][_0x18768b(0xf1)]||0xf;_0x186f73>0x0&&(this[_0x18768b(0x135)]=setInterval(()=>{const _0x587d3e=_0x18768b;this['runAutopilot'](),this['config'][_0x587d3e(0x146)]!==![]&&automation[_0x587d3e(0x164)](this);},_0x186f73*0x3c*0x3e8));setTimeout(()=>{const _0xf618d0=_0x18768b;this[_0xf618d0(0x113)][_0xf618d0(0x146)]!==![]&&(automation[_0xf618d0(0xd1)](this),automation[_0xf618d0(0x164)](this));},0x2710);this[_0x18768b(0x113)]['trackerEnabled']!==![]&&(this[_0x18768b(0x112)]=setInterval(()=>{const _0x115ca9=_0x18768b;if(this['isProVersion']){const _0x1995df=Date['now'](),_0x156a53=this[_0x115ca9(0x1fd)]||_0x1995df,_0x37fa84=(_0x1995df-_0x156a53)/0x3e8;_0x37fa84>0x2&&(this[_0x115ca9(0x1fd)]=_0x1995df,pythonBridge[_0x115ca9(0x1b1)](this,'TRACK_EVENT',{'room':null,'dt':_0x37fa84}));}},0xbb8));if(this[_0x18768b(0x16f)])clearInterval(this[_0x18768b(0x16f)]);this[_0x18768b(0x224)](),this[_0x18768b(0x16f)]=setInterval(async()=>{await this['integrateRoomTime']();},0x3c*0x3e8);if(this['healthTrendInterval'])clearInterval(this[_0x18768b(0x207)]);this[_0x18768b(0x207)]=setInterval(()=>{const _0x2e6790=_0x18768b;this[_0x2e6790(0xf5)]&&this[_0x2e6790(0x113)]['moduleHealth']!==![]&&this[_0x2e6790(0x13c)]();},0x4*0x3c*0x3c*0x3e8),schedulers[_0x18768b(0x1a3)](this,()=>aiAgent[_0x18768b(0x1b2)](this,pythonBridge)),schedulers[_0x18768b(0x153)](this),schedulers['setupDriftAnalysisScheduler'](this,()=>aiAgent[_0x18768b(0x1d4)](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent[_0x18768b(0x1bf)](this)),pythonBridge['startService'](this,installer[_0x18768b(0x1f8)]),setTimeout(async()=>{const _0x1de161=_0x18768b;await topology['updateTopology'](this);try{const _0x563618=await this['getStateAsync'](_0x1de161(0x137));if(_0x563618&&_0x563618[_0x1de161(0x160)])pythonBridge[_0x1de161(0x1b1)](this,'SET_TOPOLOGY',JSON[_0x1de161(0xd8)](_0x563618['val']));}catch(_0x2a9e23){}this[_0x1de161(0x113)][_0x1de161(0x1a1)]!==![]&&(this[_0x1de161(0x13c)](),this[_0x1de161(0x157)]()),this['triggerEnergyPrediction'](),this[_0x1de161(0x212)]();},0x1388);}[a0_0x37377d(0xf8)](_0xfbaeba){const _0x8a3fc7=a0_0x37377d;if(this[_0x8a3fc7(0x135)])clearInterval(this['analysisTimer']);if(this['driftAnalysisTimer'])clearInterval(this['driftAnalysisTimer']);if(this[_0x8a3fc7(0x112)])clearInterval(this['trackerHeartbeat']);if(this[_0x8a3fc7(0x207)])clearInterval(this[_0x8a3fc7(0x207)]);if(this[_0x8a3fc7(0x16f)])clearInterval(this[_0x8a3fc7(0x16f)]);if(this[_0x8a3fc7(0x1ef)])this[_0x8a3fc7(0x1ef)][_0x8a3fc7(0x192)]();if(this[_0x8a3fc7(0x206)])this['modeResetJob'][_0x8a3fc7(0x192)]();if(this[_0x8a3fc7(0x123)])this[_0x8a3fc7(0x123)]['cancel']();recorder[_0x8a3fc7(0x202)](this),pythonBridge[_0x8a3fc7(0x186)](this),_0xfbaeba();}async[a0_0x37377d(0x224)](){const _0x249f8f=a0_0x37377d;if(!this['isPresent'])return;try{let _0x15837d=null;try{const _0x1050df=await this['getStateAsync'](_0x249f8f(0x176)),_0x51da5e=await this[_0x249f8f(0x169)]('analysis.prediction.trackerConfidence');_0x1050df&&_0x1050df[_0x249f8f(0x160)]&&_0x51da5e&&_0x51da5e[_0x249f8f(0x160)]&&_0x51da5e[_0x249f8f(0x160)]>0.3&&(_0x15837d=_0x1050df[_0x249f8f(0x160)]);}catch(_0x2bc57f){}if(!_0x15837d||_0x15837d===_0x249f8f(0x170)||_0x15837d===_0x249f8f(0x171))return;const _0x51a335=_0x249f8f(0xda),_0x53619f=await this[_0x249f8f(0x169)](_0x51a335);let _0x185c8b={'today':{},'yesterday':{},'date':new Date()[_0x249f8f(0x129)]()};if(_0x53619f&&_0x53619f[_0x249f8f(0x160)])try{_0x185c8b=JSON[_0x249f8f(0xd8)](_0x53619f['val']);}catch(_0xf471a){}if(!_0x185c8b['today'])_0x185c8b['today']={};if(!_0x185c8b[_0x249f8f(0x162)])_0x185c8b['yesterday']={};const _0x5518f3=new Date()[_0x249f8f(0x129)]();_0x185c8b[_0x249f8f(0x1c5)]!==_0x5518f3&&(this[_0x249f8f(0xf9)][_0x249f8f(0x187)](_0x249f8f(0x1e9)),_0x185c8b['yesterday']=_0x185c8b[_0x249f8f(0x1eb)]||{},_0x185c8b[_0x249f8f(0x1eb)]={},_0x185c8b[_0x249f8f(0x1c5)]=_0x5518f3);if(!_0x185c8b[_0x249f8f(0x1eb)][_0x15837d])_0x185c8b['today'][_0x15837d]=0x0;_0x185c8b[_0x249f8f(0x1eb)][_0x15837d]++,await this[_0x249f8f(0x21b)](_0x51a335,{'val':JSON['stringify'](_0x185c8b),'ack':!![]});}catch(_0x1d4e35){this[_0x249f8f(0xf9)][_0x249f8f(0xd4)]('[Integrator]\x20Error:\x20'+_0x1d4e35[_0x249f8f(0x106)]);}}[a0_0x37377d(0x13c)](){const _0x5e553f=a0_0x37377d;if(!this[_0x5e553f(0xf5)])return;this[_0x5e553f(0xee)]('LTM.dailyDigests',(_0x200ce4,_0x2068ab)=>{const _0x308a7c=_0x5e553f;if(_0x2068ab&&_0x2068ab[_0x308a7c(0x160)])try{const _0x200469=JSON['parse'](_0x2068ab['val']);_0x200469[_0x308a7c(0x138)]>0x0&&pythonBridge['send'](this,_0x308a7c(0x110),{'digest':_0x200469[0x0]});}catch(_0x4fa71f){this[_0x308a7c(0xf9)][_0x308a7c(0xd4)]('[Health]\x20Error\x20parsing\x20digests\x20for\x20check:\x20'+_0x4fa71f[_0x308a7c(0x106)]);}});}async['onStateChange'](_0x469620,_0x43b679){const _0x3593a2=a0_0x37377d;if(!_0x43b679||this[_0x3593a2(0xf2)])return;if(_0x469620[_0x3593a2(0x130)]('telegram')&&_0x469620[_0x3593a2(0x1a6)]('communicate.request')&&_0x43b679[_0x3593a2(0x160)])return;if(this['config'][_0x3593a2(0x1d8)]&&_0x469620===this[_0x3593a2(0x113)][_0x3593a2(0xf4)]){this[_0x3593a2(0x1c6)](_0x43b679[_0x3593a2(0x160)]);return;}if(_0x469620===this[_0x3593a2(0x1a5)]+_0x3593a2(0x12a)){if(_0x43b679[_0x3593a2(0x160)]&&Object[_0x3593a2(0x10c)](setup[_0x3593a2(0x20e)])[_0x3593a2(0x130)](_0x43b679[_0x3593a2(0x160)])){this[_0x3593a2(0x107)]=_0x43b679[_0x3593a2(0x160)];if(_0x43b679['val']===setup[_0x3593a2(0x20e)]['VACATION'])await recorder['setPresence'](this,![]);else await recorder[_0x3593a2(0x189)](this,!![]);if(this[_0x3593a2(0xf5)]){let _0x3c6a09=![],_0x26da36=0x0,_0x4b8983=_0x3593a2(0x14f);if(this[_0x3593a2(0x107)]===_0x3593a2(0x19c))_0x3c6a09=!![],_0x26da36=0x168,_0x4b8983=_0x3593a2(0x1d1);else this['currentSystemMode']===_0x3593a2(0xea)&&(_0x3c6a09=!![],_0x26da36=0x5a0,_0x4b8983='Guest\x20Mode');pythonBridge['send'](this,'SET_LEARNING_MODE',{'active':_0x3c6a09,'duration':_0x26da36,'label':_0x4b8983}),await this[_0x3593a2(0x21b)]('analysis.security.learningStatus',{'val':JSON[_0x3593a2(0xd3)]({'active':_0x3c6a09,'label':_0x4b8983,'timestamp':Date[_0x3593a2(0x119)]()}),'ack':!![]});}}if(!_0x43b679[_0x3593a2(0x11e)])this[_0x3593a2(0x132)](_0x469620,{'val':this[_0x3593a2(0x107)],'ack':!![]});return;}_0x469620['endsWith'](_0x3593a2(0x1c3))&&_0x43b679[_0x3593a2(0x11e)]&&this[_0x3593a2(0x219)](_0x43b679[_0x3593a2(0x160)]);_0x469620[_0x3593a2(0x1a6)](_0x3593a2(0x1ae))&&_0x43b679[_0x3593a2(0x11e)]&&(this[_0x3593a2(0x113)][_0x3593a2(0x146)]!==![]&&automation[_0x3593a2(0xd1)](this));if(!_0x43b679[_0x3593a2(0x11e)]){if(_0x469620[_0x3593a2(0x130)]('analysis.trigger')&&_0x43b679['val']){this[_0x3593a2(0x132)](_0x469620,{'val':![],'ack':!![]}),aiAgent[_0x3593a2(0x216)](this);return;}if(_0x469620[_0x3593a2(0x130)](_0x3593a2(0x20c))&&_0x43b679[_0x3593a2(0x160)]){this[_0x3593a2(0x132)](_0x469620,{'val':![],'ack':!![]});if(this[_0x3593a2(0xf5)])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x469620['includes'](_0x3593a2(0x12f))&&_0x43b679[_0x3593a2(0x160)]){this['setState'](_0x469620,{'val':![],'ack':!![]}),aiAgent[_0x3593a2(0x1bf)](this);return;}if(_0x469620[_0x3593a2(0x130)](_0x3593a2(0xce))&&_0x43b679['val']){this[_0x3593a2(0x132)](_0x469620,{'val':![],'ack':!![]}),aiAgent[_0x3593a2(0x152)](this);return;}if(_0x469620[_0x3593a2(0x130)](_0x3593a2(0x191))&&_0x43b679[_0x3593a2(0x160)]){this[_0x3593a2(0x132)](_0x469620,{'val':![],'ack':!![]});if(this[_0x3593a2(0x113)]['moduleSecurity']===![])return;if(this[_0x3593a2(0xf5)])try{const _0x1f3a93=await this[_0x3593a2(0x169)](_0x3593a2(0x165));if(_0x1f3a93&&_0x1f3a93[_0x3593a2(0x160)]){const _0x50af1b=JSON[_0x3593a2(0xd8)](_0x1f3a93[_0x3593a2(0x160)]);this[_0x3593a2(0x21b)](_0x3593a2(0x1c7),{'val':_0x3593a2(0x16d),'ack':!![]}),pythonBridge[_0x3593a2(0x1b1)](this,'TRAIN_SECURITY',{'sequences':_0x50af1b});}}catch(_0x484572){}return;}if(_0x469620[_0x3593a2(0x130)]('analysis.training.triggerHealth')&&_0x43b679['val']){this[_0x3593a2(0x132)](_0x469620,{'val':![],'ack':!![]});if(this[_0x3593a2(0x113)][_0x3593a2(0x1a1)]===![])return;if(this[_0x3593a2(0xf5)])try{const _0x20be80=await this[_0x3593a2(0x169)](_0x3593a2(0x211));if(_0x20be80&&_0x20be80[_0x3593a2(0x160)])pythonBridge['send'](this,_0x3593a2(0x13d),{'digests':JSON[_0x3593a2(0xd8)](_0x20be80[_0x3593a2(0x160)])});}catch(_0x51ef3d){}return;}if(_0x469620['includes'](_0x3593a2(0x20a))&&_0x43b679[_0x3593a2(0x160)]){this['setState'](_0x469620,{'val':![],'ack':!![]});if(this[_0x3593a2(0x113)][_0x3593a2(0x146)]===![])return;if(this[_0x3593a2(0xf5)])try{const _0x2f0da3=await this[_0x3593a2(0x169)](_0x3593a2(0x1c1));if(_0x2f0da3&&_0x2f0da3[_0x3593a2(0x160)])pythonBridge[_0x3593a2(0x1b1)](this,'TRAIN_ENERGY',{'points':JSON['parse'](_0x2f0da3[_0x3593a2(0x160)])});}catch(_0x8e143d){}return;}if(_0x469620[_0x3593a2(0x130)]('analysis.training.triggerComfort')&&_0x43b679[_0x3593a2(0x160)]){this['setState'](_0x469620,{'val':![],'ack':!![]});if(this[_0x3593a2(0x113)][_0x3593a2(0x204)]===![])return;if(this[_0x3593a2(0xf5)])try{const _0x1838cc=await this[_0x3593a2(0x169)]('LTM.rawEventLog');if(_0x1838cc&&_0x1838cc[_0x3593a2(0x160)]){const _0x27a8dc={};this[_0x3593a2(0x113)]['devices']&&Array['isArray'](this[_0x3593a2(0x113)][_0x3593a2(0x11a)])&&this['config'][_0x3593a2(0x11a)]['forEach'](_0x5be50b=>{const _0xeff33f=_0x3593a2;if(_0x5be50b['id']&&_0x5be50b[_0xeff33f(0x1e0)])_0x27a8dc[_0x5be50b['id']]=_0x5be50b[_0xeff33f(0x1e0)];}),pythonBridge[_0x3593a2(0x1b1)](this,'TRAIN_COMFORT',{'events':JSON['parse'](_0x1838cc['val']),'deviceMap':_0x27a8dc});}}catch(_0x594ca5){this['log']['error'](_0x3593a2(0x13f)+_0x594ca5['message']);}return;}if(_0x469620[_0x3593a2(0x130)]('analysis.training.triggerTopology')&&_0x43b679[_0x3593a2(0x160)]){this[_0x3593a2(0x132)](_0x469620,{'val':![],'ack':!![]}),topology[_0x3593a2(0x1be)](this);if(this[_0x3593a2(0xf5)])try{const _0x55ea6f=await this[_0x3593a2(0x169)]('LTM.trainingData.sequences');if(_0x55ea6f&&_0x55ea6f[_0x3593a2(0x160)]){const _0xc27e33=JSON[_0x3593a2(0xd8)](_0x55ea6f[_0x3593a2(0x160)]);pythonBridge[_0x3593a2(0x1b1)](this,'TRAIN_TOPOLOGY',{'sequences':_0xc27e33});}}catch(_0x5ef143){this['log'][_0x3593a2(0xe0)](_0x3593a2(0xcb)+_0x5ef143['message']);}return;}}const _0x45a582=(this[_0x3593a2(0x113)][_0x3593a2(0x11a)]||[])[_0x3593a2(0x104)](_0x39a4c7=>_0x39a4c7['id']===_0x469620);if(_0x45a582){const _0x56dbdd=await recorder['processSensorEvent'](this,_0x469620,_0x43b679,_0x45a582);_0x56dbdd&&_0x56dbdd[_0x3593a2(0x1e0)]===_0x3593a2(0x19e)&&_0x56dbdd['location']&&this[_0x3593a2(0xf5)]&&(this[_0x3593a2(0x113)][_0x3593a2(0x1c4)]!==![]&&deadMan[_0x3593a2(0x1b5)](this,_0x56dbdd['location'])),_0x43b679[_0x3593a2(0x160)]&&(_0x43b679['val']===!![]||_0x43b679[_0x3593a2(0x160)]===0x1||String(_0x43b679[_0x3593a2(0x160)])['toLowerCase']()===_0x3593a2(0x221))&&(_0x45a582[_0x3593a2(0x1e0)]&&(_0x45a582['type'][_0x3593a2(0x130)](_0x3593a2(0x214))||_0x45a582[_0x3593a2(0x1e0)][_0x3593a2(0x130)]('door')||_0x45a582['type'][_0x3593a2(0x130)](_0x3593a2(0x21a)))&&this['analyzeWindowOpening'](_0x45a582)),(_0x45a582[_0x3593a2(0x1e0)]==='temperature'||_0x45a582[_0x3593a2(0x1e0)]===_0x3593a2(0x185))&&(this[_0x3593a2(0x113)]['moduleEnergy']!==![]&&automation[_0x3593a2(0x1a2)](this));}}async[a0_0x37377d(0x219)](_0x24a16d){const _0x14c345=a0_0x37377d;if(!this['memoryCache']||Date[_0x14c345(0x119)]()-this['bootTime']>0x493e0)return;if(!this[_0x14c345(0x14e)][_0x14c345(0x1bc)]||!this[_0x14c345(0x14e)][_0x14c345(0x20b)])return;try{const _0x321349=JSON['parse'](_0x24a16d),_0x437715=this[_0x14c345(0x14e)][_0x14c345(0x1bc)];let _0x265f36=![];for(const _0x290083 in _0x437715){if(_0x437715[_0x290083][_0x14c345(0x130)]('AI')&&_0x321349[_0x290083]&&!_0x321349[_0x290083][_0x14c345(0x130)]('AI')){_0x265f36=!![];break;}}_0x265f36&&(await this[_0x14c345(0x21b)](_0x14c345(0x1ae),{'val':JSON[_0x14c345(0xd3)](this['memoryCache']['times']),'ack':!![]}),await this[_0x14c345(0x21b)](_0x14c345(0x1c3),{'val':JSON['stringify'](this['memoryCache'][_0x14c345(0x1bc)]),'ack':!![]}));}catch(_0x10b187){}}async['onMessage'](_0x2fe2e6){const _0x5e621b=a0_0x37377d;if(typeof _0x2fe2e6==='object'&&_0x2fe2e6[_0x5e621b(0x106)]){if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0xf6))try{const _0x4c9cef=await automation[_0x5e621b(0xdd)](this);this['sendTo'](_0x2fe2e6['from'],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![],'results':_0x4c9cef},_0x2fe2e6['callback']);}catch(_0x3afc5f){this[_0x5e621b(0x1b4)](_0x2fe2e6['from'],_0x2fe2e6['command'],{'success':![],'error':_0x3afc5f[_0x5e621b(0x106)]},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]==='getOverviewData'){const _0x147ee1=this[_0x5e621b(0x203)][_0x5e621b(0x138)];let _0x1c0bb8=new Array(0x18)['fill'](0x0);try{const _0x5a765b=await this[_0x5e621b(0x169)](_0x5e621b(0x18d));if(_0x5a765b&&_0x5a765b[_0x5e621b(0x160)])_0x1c0bb8=JSON[_0x5e621b(0xd8)](_0x5a765b[_0x5e621b(0x160)]);else{const _0x16cd15=new Date()[_0x5e621b(0x114)](0x0,0x0,0x0,0x0);this[_0x5e621b(0x16e)]&&this[_0x5e621b(0x16e)][_0x5e621b(0x108)](_0x40d704=>{const _0x3f7b86=_0x5e621b;if(_0x40d704[_0x3f7b86(0x143)]>=_0x16cd15){const _0x955e3d=new Date(_0x40d704[_0x3f7b86(0x143)])['getHours']();if(_0x955e3d>=0x0&&_0x955e3d<0x18)_0x1c0bb8[_0x955e3d]++;}});}}catch(_0x1b8e85){this[_0x5e621b(0xf9)][_0x5e621b(0xd4)](_0x5e621b(0x22c)+_0x1b8e85['message']);}let _0x73fc6a={'today':{},'yesterday':{}};try{const _0x7c5098=await this[_0x5e621b(0x169)](_0x5e621b(0xda));if(_0x7c5098&&_0x7c5098[_0x5e621b(0x160)])_0x73fc6a=JSON[_0x5e621b(0xd8)](_0x7c5098[_0x5e621b(0x160)]);}catch(_0x3ca4b4){}let _0x32d056=![],_0x358919='',_0x1da7aa='',_0x59007c='';try{const _0xbbb05c=await this[_0x5e621b(0x169)](_0x5e621b(0x149));if(_0xbbb05c&&_0xbbb05c[_0x5e621b(0x160)]){_0x32d056=!![];const _0x1a7636=await this[_0x5e621b(0x169)](_0x5e621b(0x21c));_0x358919=_0x1a7636?_0x1a7636[_0x5e621b(0x160)]:'';const _0x1f4d6a=await this[_0x5e621b(0x169)](_0x5e621b(0x18c));_0x1da7aa=_0x1f4d6a?_0x1f4d6a[_0x5e621b(0x160)]:'';const _0x36bdef=await this[_0x5e621b(0x169)](_0x5e621b(0x220));_0x59007c=_0x36bdef?_0x36bdef[_0x5e621b(0x160)]:'';}}catch(_0x38b6f1){}const _0x41603d=await this['checkSolarCondition'](),_0x3473b3=(this[_0x5e621b(0x113)][_0x5e621b(0x11a)]||[])[_0x5e621b(0x21f)](_0x37cf53=>_0x37cf53[_0x5e621b(0x15d)]),_0x52878f=_0x41603d&&_0x3473b3;let _0xa2e7b8='';try{const _0xe54ff1=await this[_0x5e621b(0x169)](_0x5e621b(0x228));if(_0xe54ff1&&_0xe54ff1['val'])_0xa2e7b8=_0xe54ff1[_0x5e621b(0x160)];}catch(_0x556f2a){}this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![],'eventHistory':this[_0x5e621b(0x16e)]['slice'](0x0,0x64),'stats':{'digestCount':_0x147ee1,'isPresent':this[_0x5e621b(0xf3)],'hourlyActivity':_0x1c0bb8,'solarActive':_0x52878f,'presenceWho':_0xa2e7b8,'roomStats':_0x73fc6a},'automation':{'detected':_0x32d056,'description':_0x358919,'targetId':_0x1da7aa,'targetValue':_0x59007c}},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0x1d9))try{const {current_temps:_0x41adb3,t_out:_0x38fa03,targets:_0x2d2fec,t_forecast:_0x35a974}=_0x2fe2e6[_0x5e621b(0x106)],_0x4dec09=[];let _0x4fde6d={};try{const _0x372b94=await this[_0x5e621b(0x169)](_0x5e621b(0x172));if(_0x372b94&&_0x372b94[_0x5e621b(0x160)]){const _0x238127=JSON[_0x5e621b(0xd8)](_0x372b94[_0x5e621b(0x160)]);_0x4fde6d=_0x238127[_0x5e621b(0x1e8)]||_0x238127;}}catch(_0x23dadb){}const _0x39411=_0x35a974!==undefined&&_0x35a974!==null?(_0x38fa03+_0x35a974)/0x2:_0x38fa03;for(const [_0xc0bce9,_0x56daad]of Object['entries'](_0x41adb3)){const _0x3647cf=_0x2d2fec[_0xc0bce9]||0x15;if(_0x56daad<=_0x3647cf)continue;let _0x19a6b0=_0x4fde6d[_0xc0bce9]||-0.5;if(_0x19a6b0>=0x0)_0x19a6b0=-0.5;const _0x139263=Math[_0x5e621b(0x1f6)](_0x19a6b0),_0x2f9117=_0x56daad-_0x3647cf;let _0x1b226a=Math[_0x5e621b(0x105)](_0x2f9117/_0x139263*0x3c);const _0x19814e=_0x56daad-_0x38fa03,_0x52001e=_0x56daad-_0x39411;if(_0x52001e!==0x0&&_0x19814e!==0x0){const _0x17db8b=_0x19814e/_0x52001e;_0x1b226a=Math[_0x5e621b(0x105)](_0x1b226a*_0x17db8b);}if(_0x1b226a>0xf){if(_0x1b226a>0xf0)_0x1b226a=0xf0;_0x4dec09['push']({'room':_0xc0bce9,'minutes_safe':_0x1b226a,'target':_0x3647cf,'current':_0x56daad,'savings_msg':_0x5e621b(0x225)+_0x1b226a+'\x20min\x20ausbleiben.'});}}_0x4dec09[_0x5e621b(0xec)]((_0x1f340a,_0x20d342)=>_0x20d342[_0x5e621b(0x199)]-_0x1f340a[_0x5e621b(0x199)]),this['sendTo'](_0x2fe2e6['from'],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![],'proposals':_0x4dec09},_0x2fe2e6[_0x5e621b(0x177)]);}catch(_0x2b653d){this['sendTo'](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6['command'],{'success':![],'error':_0x2b653d['message']},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]==='refreshCalendar')try{await automation[_0x5e621b(0x197)](this),this['sendTo'](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6['command'],{'success':!![]},_0x2fe2e6[_0x5e621b(0x177)]);}catch(_0x1bec11){this[_0x5e621b(0x1b4)](_0x2fe2e6['from'],_0x2fe2e6['command'],{'success':![],'error':_0x1bec11[_0x5e621b(0x106)]},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0x1f3))try{const _0x558c3d=_0x2fe2e6['message'][_0x5e621b(0x19b)],_0x33764d=_0x5e621b(0x140),_0x5dde0b=await this['getStateAsync'](_0x33764d);let _0x40fadd={};if(_0x5dde0b&&_0x5dde0b[_0x5e621b(0x160)])try{_0x40fadd=JSON[_0x5e621b(0xd8)](_0x5dde0b[_0x5e621b(0x160)]);}catch(_0x25a0d2){}_0x558c3d&&_0x40fadd[_0x558c3d]?(delete _0x40fadd[_0x558c3d],await this['setStateAsync'](_0x33764d,{'val':JSON[_0x5e621b(0xd3)](_0x40fadd),'ack':!![]}),this['log'][_0x5e621b(0x187)]('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0x558c3d+_0x5e621b(0x1a4)),this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![]},_0x2fe2e6['callback'])):this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6['command'],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0x2fe2e6['callback']);}catch(_0x11605c){this[_0x5e621b(0x1b4)](_0x2fe2e6['from'],_0x2fe2e6[_0x5e621b(0x18a)],{'success':![],'error':_0x11605c['message']},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0x134))await this[_0x5e621b(0x21b)](_0x5e621b(0x149),{'val':![],'ack':!![]}),await this[_0x5e621b(0x21b)](_0x5e621b(0x21c),{'val':'','ack':!![]}),await this[_0x5e621b(0x21b)](_0x5e621b(0x18c),{'val':'','ack':!![]}),this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![]},_0x2fe2e6[_0x5e621b(0x177)]);else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0x109)){const {targetId:_0x555af5,targetValue:_0x5ea379}=_0x2fe2e6['message'];await this['setStateAsync'](_0x5e621b(0x149),{'val':!![],'ack':!![]}),await this[_0x5e621b(0x21b)](_0x5e621b(0x21c),{'val':'Simulation\x20durch\x20Admin\x20(Test)','ack':!![]}),await this['setStateAsync'](_0x5e621b(0x18c),{'val':_0x555af5,'ack':!![]}),await this[_0x5e621b(0x21b)](_0x5e621b(0x220),{'val':String(_0x5ea379),'ack':!![]}),this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6['command'],{'success':!![]},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0x166))try{const _0x29b2d2=_0x2fe2e6[_0x5e621b(0x106)][_0x5e621b(0x17b)];if(!_0x29b2d2)throw new Error(_0x5e621b(0x147));const _0x504778=new GoogleGenerativeAI(_0x29b2d2),_0x57fd3c=_0x504778['getGenerativeModel']({'model':GEMINI_MODEL}),_0x4625d0=await _0x57fd3c[_0x5e621b(0x188)](_0x5e621b(0x16b)),_0x40d7d6=await _0x4625d0['response'];if(_0x40d7d6[_0x5e621b(0xfb)]())this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![],'message':_0x5e621b(0x183)},_0x2fe2e6[_0x5e621b(0x177)]);else throw new Error(_0x5e621b(0xcf));}catch(_0xa07e95){this['sendTo'](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':![],'message':_0xa07e95[_0x5e621b(0x106)]},_0x2fe2e6['callback']);}else{if(_0x2fe2e6['command']===_0x5e621b(0x12c))try{const _0x4dadee=await scanner[_0x5e621b(0x1f4)](this,_0x2fe2e6[_0x5e621b(0x106)]||{});this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![],'devices':_0x4dadee},_0x2fe2e6['callback']);}catch(_0x581184){this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':![],'error':_0x581184[_0x5e621b(0x106)]},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0xde))try{const {matrix:_0x5bebaa}=_0x2fe2e6['message'],_0x415186=await this[_0x5e621b(0x169)](_0x5e621b(0x137));if(_0x415186&&_0x415186[_0x5e621b(0x160)]){const _0x11cc0d=JSON[_0x5e621b(0xd8)](_0x415186[_0x5e621b(0x160)]);_0x11cc0d[_0x5e621b(0x1e4)]=_0x5bebaa,_0x11cc0d[_0x5e621b(0x18f)]=Date[_0x5e621b(0x119)](),await this[_0x5e621b(0x21b)]('analysis.topology.structure',{'val':JSON[_0x5e621b(0xd3)](_0x11cc0d),'ack':!![]}),pythonBridge['send'](this,_0x5e621b(0x13e),_0x11cc0d);}this['sendTo'](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![]},_0x2fe2e6[_0x5e621b(0x177)]);}catch(_0x5dbfc2){this[_0x5e621b(0xf9)][_0x5e621b(0xe0)](_0x5dbfc2);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0xed))this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6['command'],{'success':!![],'dailyDigests':this[_0x5e621b(0x203)]||[],'analysisHistory':this['analysisHistory']||[]},_0x2fe2e6[_0x5e621b(0x177)]);else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0x10e)){const _0x1c6dac=await this[_0x5e621b(0xe8)](_0x5e621b(0x182),_0x5e621b(0x215)),_0x19d069=[];if(_0x1c6dac)for(const _0x209ede in _0x1c6dac){const _0x1a194b=_0x1c6dac[_0x209ede],_0x34c352=(_0x1a194b[_0x5e621b(0xef)]&&typeof _0x1a194b[_0x5e621b(0xef)][_0x5e621b(0x150)]===_0x5e621b(0x1e7)?_0x1a194b[_0x5e621b(0xef)][_0x5e621b(0x150)]['de']:_0x1a194b[_0x5e621b(0xef)]['name'])||_0x1a194b[_0x5e621b(0xef)][_0x5e621b(0x150)];_0x19d069[_0x5e621b(0x1e3)]({'id':_0x209ede,'name':_0x34c352});}const _0x91b88d=await this['getForeignObjectsAsync'](_0x5e621b(0x139),_0x5e621b(0x215)),_0x407fe3=[];if(_0x91b88d)for(const _0x17435b in _0x91b88d){const _0x3f83e3=_0x91b88d[_0x17435b],_0x403470=(_0x3f83e3[_0x5e621b(0xef)]&&typeof _0x3f83e3['common'][_0x5e621b(0x150)]===_0x5e621b(0x1e7)?_0x3f83e3[_0x5e621b(0xef)]['name']['de']:_0x3f83e3[_0x5e621b(0xef)]['name'])||_0x17435b[_0x5e621b(0x1f1)]('.')['pop']();_0x407fe3[_0x5e621b(0x1e3)](_0x403470);}this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![],'enums':_0x19d069,'rooms':_0x407fe3},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0x133))try{let _0x10fd60=_0x5e621b(0x1e5),_0x122890=_0x5e621b(0x178);if(this[_0x5e621b(0x113)][_0x5e621b(0x1f7)]){const _0x2ba494=await recorder['getOutsideTemperatureNumeric'](this);_0x10fd60=_0x2ba494!==null?_0x2ba494+'Â°C':_0x5e621b(0xe5);}if(this[_0x5e621b(0x113)][_0x5e621b(0xf7)]){const _0x4f3f5a=await this[_0x5e621b(0x1fa)]('system.adapter.'+this[_0x5e621b(0x113)]['calendarInstance']);_0x122890=_0x4f3f5a?_0x5e621b(0xcd):_0x5e621b(0x14c);}this['sendTo'](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![],'weather':_0x10fd60,'calendar':_0x122890},_0x2fe2e6[_0x5e621b(0x177)]);}catch(_0x45bdbc){this['sendTo'](_0x2fe2e6['from'],_0x2fe2e6[_0x5e621b(0x18a)],{'success':![],'error':_0x45bdbc[_0x5e621b(0x106)]},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]==='getCalendarNames')try{const _0x2f3076=_0x2fe2e6[_0x5e621b(0x106)][_0x5e621b(0x1af)],_0x5b3325=await this['getForeignStateAsync'](_0x2f3076+'.data.table');let _0x29966a=[];if(_0x5b3325&&_0x5b3325['val']){const _0x34a9e3=JSON[_0x5e621b(0xd8)](_0x5b3325[_0x5e621b(0x160)]),_0x505402=new Set();Array[_0x5e621b(0x14d)](_0x34a9e3)&&_0x34a9e3[_0x5e621b(0x108)](_0x38b912=>{const _0x18e163=_0x5e621b;if(_0x38b912[_0x18e163(0xdb)])_0x505402[_0x18e163(0x208)](_0x38b912[_0x18e163(0xdb)]);else{if(_0x38b912[_0x18e163(0x142)])_0x505402[_0x18e163(0x208)](_0x38b912['calendarName']);}}),_0x29966a=Array['from'](_0x505402)[_0x5e621b(0xec)]();}if(_0x29966a[_0x5e621b(0x138)]===0x0)_0x29966a=[_0x5e621b(0x161)];this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![],'names':_0x29966a},_0x2fe2e6['callback']);}catch(_0x14f449){this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6['command'],{'success':![],'error':_0x14f449[_0x5e621b(0x106)]},_0x2fe2e6[_0x5e621b(0x177)]);}else{if(_0x2fe2e6[_0x5e621b(0x18a)]===_0x5e621b(0x136))try{await setup[_0x5e621b(0x175)](this,_0x5e621b(0x17d),![],![]),this[_0x5e621b(0x1b4)](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':!![],'message':'Gesendet'},_0x2fe2e6[_0x5e621b(0x177)]);}catch(_0x137dd5){this['log']['error'](_0x5e621b(0x201)+_0x137dd5['message']),this['sendTo'](_0x2fe2e6[_0x5e621b(0x1d0)],_0x2fe2e6[_0x5e621b(0x18a)],{'success':![],'message':_0x5e621b(0x17c)+_0x137dd5['message']},_0x2fe2e6[_0x5e621b(0x177)]);}}}}}}}}}}}}}}}}}async[a0_0x37377d(0x193)](){const _0x4b1ade=a0_0x37377d;try{const _0x430b92=await this[_0x4b1ade(0x169)](setup[_0x4b1ade(0x218)]);_0x430b92&&_0x430b92['val']&&Object[_0x4b1ade(0x10c)](setup[_0x4b1ade(0x20e)])[_0x4b1ade(0x130)](_0x430b92[_0x4b1ade(0x160)])?this[_0x4b1ade(0x107)]=_0x430b92[_0x4b1ade(0x160)]:(this[_0x4b1ade(0x107)]=setup[_0x4b1ade(0x20e)][_0x4b1ade(0x190)],await this[_0x4b1ade(0x21b)](setup[_0x4b1ade(0x218)],{'val':setup[_0x4b1ade(0x20e)][_0x4b1ade(0x190)],'ack':!![]}));}catch(_0x2aa87){this['currentSystemMode']=setup[_0x4b1ade(0x20e)][_0x4b1ade(0x190)];}}async[a0_0x37377d(0xe3)](){const _0x3ffb1e=a0_0x37377d;try{const _0x45f01b=this[_0x3ffb1e(0x113)][_0x3ffb1e(0xfd)]||[];let _0x148d48=![];const _0x2969a1=[];for(const _0x1ac070 of _0x45f01b){try{const _0x57127e=await this[_0x3ffb1e(0x125)](_0x1ac070);_0x57127e&&(_0x57127e['val']===!![]||_0x57127e[_0x3ffb1e(0x160)]===_0x3ffb1e(0x1ab)||_0x57127e['val']===0x1)&&(_0x148d48=!![],_0x2969a1[_0x3ffb1e(0x1e3)](_0x1ac070));}catch(_0x20c76a){}}return await this[_0x3ffb1e(0x21b)](_0x3ffb1e(0x228),{'val':_0x2969a1[_0x3ffb1e(0x209)](',\x20'),'ack':!![]}),_0x148d48&&(this[_0x3ffb1e(0xfc)]&&(this[_0x3ffb1e(0xf9)][_0x3ffb1e(0x187)](_0x3ffb1e(0xd6)),recorder[_0x3ffb1e(0x202)](this)),!this['isPresent']&&this[_0x3ffb1e(0x107)]===setup[_0x3ffb1e(0x20e)]['NORMAL']&&await recorder[_0x3ffb1e(0x189)](this,!![])),_0x148d48;}catch(_0xbf1652){return![];}}async['runAutopilot'](){const _0x29e5a5=a0_0x37377d;this[_0x29e5a5(0xf9)]['debug'](_0x29e5a5(0x10d)),await aiAgent['runGeminiAnalysis'](this),this[_0x29e5a5(0x212)](),this[_0x29e5a5(0x157)](),this[_0x29e5a5(0x144)]();}async[a0_0x37377d(0x1fb)](){const _0xe97d1e=a0_0x37377d,_0x4ef2cf=[_0xe97d1e(0xd2),_0xe97d1e(0x1a0),'daswetter.0'],_0x42ab3b=['forecast.current.weather',_0xe97d1e(0x1a8),_0xe97d1e(0x1d5)];for(const _0x4740b6 of _0x4ef2cf){for(const _0x7544fe of _0x42ab3b){try{const _0x26ad0c=_0x4740b6+'.'+_0x7544fe,_0x58d232=await this['getForeignStateAsync'](_0x26ad0c);if(_0x58d232&&_0x58d232[_0xe97d1e(0x160)]){const _0x1a6429=String(_0x58d232['val'])[_0xe97d1e(0xe9)]();if(_0x1a6429[_0xe97d1e(0x130)](_0xe97d1e(0x22b))||_0x1a6429['includes'](_0xe97d1e(0x15a))||_0x1a6429['includes'](_0xe97d1e(0x11c))||_0x1a6429[_0xe97d1e(0x130)](_0xe97d1e(0x10a))||_0x1a6429[_0xe97d1e(0x130)](_0xe97d1e(0x12d)))return!![];}}catch(_0x30581b){}}}return![];}[a0_0x37377d(0x157)](){const _0x1e77c7=a0_0x37377d;if(!this[_0x1e77c7(0xf5)])return;try{this[_0x1e77c7(0xee)](_0x1e77c7(0x165),(_0x41a531,_0x63398c)=>{const _0x27f208=_0x1e77c7;_0x63398c&&_0x63398c['val']&&pythonBridge[_0x27f208(0x1b1)](this,'ANALYZE_GAIT',{'sequences':JSON[_0x27f208(0xd8)](_0x63398c[_0x27f208(0x160)])});});}catch(_0x35ed8a){}}async[a0_0x37377d(0x144)](){const _0x2b8ea8=a0_0x37377d;if(!this[_0x2b8ea8(0xf5)])return;try{const _0x4bcbe6=await recorder[_0x2b8ea8(0x213)](this);if(_0x4bcbe6===null)return;const _0x38e515={},_0xdd649b={},_0x414649=this[_0x2b8ea8(0x113)][_0x2b8ea8(0x11a)]||[];for(const _0x34965b of _0x414649){if(_0x34965b['type']===_0x2b8ea8(0x155)&&_0x34965b[_0x2b8ea8(0x17f)]){const _0x472dce=this[_0x2b8ea8(0x1c0)][_0x34965b['id']];if(_0x472dce!==undefined)_0x38e515[_0x34965b[_0x2b8ea8(0x17f)]]=_0x472dce;if(_0x34965b[_0x2b8ea8(0x15d)])_0xdd649b[_0x34965b['location']]=!![];}}const _0x17c21a=await this[_0x2b8ea8(0x1fb)]();let _0x351729={};try{const _0x34dfdb=await this['getStateAsync']('analysis.energy.warmupTargets');if(_0x34dfdb&&_0x34dfdb[_0x2b8ea8(0x160)])_0x351729=JSON['parse'](_0x34dfdb[_0x2b8ea8(0x160)]);}catch(_0x109f2a){}Object[_0x2b8ea8(0x1b9)](_0x38e515)['length']>0x0&&(pythonBridge[_0x2b8ea8(0x1b1)](this,_0x2b8ea8(0x1aa),{'current_temps':_0x38e515,'t_out':_0x4bcbe6,'is_sunny':_0x17c21a,'solar_flags':_0xdd649b,'warmup_targets':_0x351729}),pythonBridge[_0x2b8ea8(0x1b1)](this,'OPTIMIZE_ENERGY',{'current_temps':_0x38e515,'t_out':_0x4bcbe6,'targets':{}}));}catch(_0x225fc0){}}[a0_0x37377d(0x212)](){const _0x312928=a0_0x37377d;if(!this[_0x312928(0x1f0)]||this[_0x312928(0x1f0)][_0x312928(0x138)]===0x0)return;const _0x21a962=new Array(0x60)[_0x312928(0x1e6)](0x0),_0x579ae6=new Date()[_0x312928(0x114)](0x0,0x0,0x0,0x0);this['rawEventLog'][_0x312928(0x108)](_0x5126d1=>{const _0xee6052=_0x312928,_0x195007=new Date(_0x5126d1[_0xee6052(0x143)]);if(_0x195007[_0xee6052(0x11b)]()>=_0x579ae6){const _0x22e314=_0x195007[_0xee6052(0x1ca)](),_0x4861e9=_0x195007[_0xee6052(0x156)](),_0x3ac033=_0x22e314*0x4+Math['floor'](_0x4861e9/0xf);if(_0x3ac033>=0x0&&_0x3ac033<0x60)_0x21a962[_0x3ac033]++;}});}async[a0_0x37377d(0x1c6)](_0x1170bc){const _0x4d7e3b=a0_0x37377d;if(_0x1170bc==null||typeof _0x1170bc!==_0x4d7e3b(0x1cd))return;const _0x4b6bae=Date[_0x4d7e3b(0x119)]();this[_0x4d7e3b(0xdc)]['push']({'ts':_0x4b6bae,'val':_0x1170bc}),this[_0x4d7e3b(0xdc)]=this[_0x4d7e3b(0xdc)][_0x4d7e3b(0x10b)](_0x3a488e=>_0x4b6bae-_0x3a488e['ts']<0x1388);if(this[_0x4d7e3b(0x205)])return;if(this[_0x4d7e3b(0x113)][_0x4d7e3b(0x103)]){const _0x209645=await this[_0x4d7e3b(0x125)](this[_0x4d7e3b(0x113)][_0x4d7e3b(0x103)]);if(_0x209645&&!_0x209645[_0x4d7e3b(0x160)])return;}const _0x2fa5bf=this['config'][_0x4d7e3b(0x1b7)]||0.04;if(Math[_0x4d7e3b(0x1f6)](_0x1170bc)>=_0x2fa5bf){this[_0x4d7e3b(0xf9)][_0x4d7e3b(0xd4)](_0x4d7e3b(0xe7)+_0x1170bc+_0x4d7e3b(0x116)+_0x2fa5bf+')'),await this[_0x4d7e3b(0x21b)](_0x4d7e3b(0x1f9),{'val':!![],'ack':!![]});const _0x454212=this[_0x4d7e3b(0xf3)];_0x454212?(this['log'][_0x4d7e3b(0x187)](_0x4d7e3b(0xd7)),this[_0x4d7e3b(0x154)](_0x1170bc,'INTERNAL')):(this[_0x4d7e3b(0x154)](_0x1170bc,'ALARM'),this[_0x4d7e3b(0x175)](_0x4d7e3b(0x1ea)+_0x1170bc+'\x20hPa.\x20Einbruch\x20wahrscheinlich.')),this[_0x4d7e3b(0x205)]=!![],setTimeout(()=>{this['infrasoundLocked']=![];},0x2710);}}async[a0_0x37377d(0x154)](_0x2fced4,_0x4e4739='ALARM'){const _0x781d53=a0_0x37377d,_0x246431=Date[_0x781d53(0x119)](),_0x2d9917=this[_0x781d53(0x113)]['devices']||[];setTimeout(async()=>{const _0x613a1b=_0x781d53;let _0x4f6d7c=null,_0x18f836=_0x613a1b(0x117);const _0x12dbd1=_0x2d9917[_0x613a1b(0x10b)](_0x2a72f4=>_0x2a72f4[_0x613a1b(0x1e0)]&&(_0x2a72f4[_0x613a1b(0x1e0)][_0x613a1b(0x130)](_0x613a1b(0x214))||_0x2a72f4[_0x613a1b(0x1e0)][_0x613a1b(0x130)](_0x613a1b(0x1b3))||_0x2a72f4['type']['includes'](_0x613a1b(0x21a))||_0x2a72f4[_0x613a1b(0x1e0)][_0x613a1b(0x130)](_0x613a1b(0x1a7)))||_0x2a72f4[_0x613a1b(0x118)]&&(_0x2a72f4[_0x613a1b(0x118)][_0x613a1b(0x130)](_0x613a1b(0x1dc))||_0x2a72f4['role']['includes']('sensor.door')));for(const _0x9af3b9 of _0x12dbd1){try{const _0x3c96ec=await this[_0x613a1b(0x125)](_0x9af3b9['id']);if(_0x3c96ec){if(_0x3c96ec['ts']>=_0x246431-0x7d0){_0x4f6d7c=_0x9af3b9[_0x613a1b(0x150)]||_0x9af3b9['id'],_0x18f836='ErklÃ¤rt\x20durch:\x20'+_0x4f6d7c;break;}}}catch(_0x550f39){}}const _0x6e48f6={'timestamp':_0x246431,'pressure':_0x2fced4,'isMatch':!!_0x4f6d7c,'explanation':_0x18f836,'type':_0x4e4739};await this[_0x613a1b(0x173)](_0x6e48f6),this[_0x613a1b(0xf9)]['info'](_0x613a1b(0x1cb)+(!!_0x4f6d7c?_0x613a1b(0x16c):_0x613a1b(0xfe)));},0x1388);}async[a0_0x37377d(0xcc)](_0x11ef20){const _0x34d0ac=a0_0x37377d,_0x5b6aab=Date['now'](),_0x275785=_0x11ef20[_0x34d0ac(0x150)]||_0x11ef20['id']['split']('.')[_0x34d0ac(0xe1)]();let _0x5b7ecb=0x0;setTimeout(async()=>{const _0x6aacbf=_0x34d0ac;this[_0x6aacbf(0xdc)][_0x6aacbf(0x108)](_0x4a1ce8=>{const _0x1795f4=_0x6aacbf;_0x4a1ce8['ts']>=_0x5b6aab-0xfa0&&_0x4a1ce8['ts']<=_0x5b6aab+0x3e8&&(Math[_0x1795f4(0x1f6)](_0x4a1ce8['val'])>Math[_0x1795f4(0x1f6)](_0x5b7ecb)&&(_0x5b7ecb=_0x4a1ce8[_0x1795f4(0x160)]));});const _0x4ca1e6=this[_0x6aacbf(0x113)][_0x6aacbf(0x1b7)]||0.04,_0x3e2e43=Math[_0x6aacbf(0x1f6)](_0x5b7ecb)>=_0x4ca1e6,_0x493707={'timestamp':_0x5b6aab,'pressure':_0x5b7ecb,'isMatch':_0x3e2e43,'explanation':'Fenster\x20geÃ¶ffnet:\x20'+_0x275785,'type':_0x6aacbf(0x1b6)};await this['appendToLog'](_0x493707),this[_0x6aacbf(0xf9)][_0x6aacbf(0x184)](_0x6aacbf(0x122)+_0x275785+_0x6aacbf(0x1fe)+_0x5b7ecb[_0x6aacbf(0x148)](0x4)+_0x6aacbf(0x1d7)+_0x4ca1e6+')');},0x1f4);}async[a0_0x37377d(0x173)](_0x482847){const _0x243902=a0_0x37377d;try{const _0x11e235=await this[_0x243902(0x169)](_0x243902(0x12e));let _0x138ead=[];if(_0x11e235&&_0x11e235['val'])_0x138ead=JSON[_0x243902(0xd8)](_0x11e235[_0x243902(0x160)]);_0x138ead[_0x243902(0x21d)](_0x482847);if(_0x138ead[_0x243902(0x138)]>0x14)_0x138ead=_0x138ead[_0x243902(0x210)](0x0,0x14);await this[_0x243902(0x21b)](_0x243902(0x12e),{'val':JSON[_0x243902(0xd3)](_0x138ead),'ack':!![]});}catch(_0x17a72b){this[_0x243902(0xf9)][_0x243902(0xe0)]('[Forensics]\x20Save\x20failed:\x20'+_0x17a72b[_0x243902(0x106)]);}}[a0_0x37377d(0x175)](_0x2a3c21){const _0x1425f9=a0_0x37377d;this['config'][_0x1425f9(0x102)]&&this[_0x1425f9(0x113)][_0x1425f9(0x115)]&&this[_0x1425f9(0x1b4)](this[_0x1425f9(0x113)][_0x1425f9(0x115)],_0x1425f9(0x1b1),{'message':_0x2a3c21,'title':'Nuukanni\x20Security','priority':0x1}),this[_0x1425f9(0x113)][_0x1425f9(0x1b8)]&&this[_0x1425f9(0x113)][_0x1425f9(0x19a)]&&this['sendTo'](this[_0x1425f9(0x113)][_0x1425f9(0x19a)],_0x1425f9(0x1b1),{'text':_0x2a3c21});}}if(require[a0_0x37377d(0x1e1)]!==module)module[a0_0x37377d(0x181)]=_0x3c3b07=>new CogniLiving(_0x3c3b07);else new CogniLiving();