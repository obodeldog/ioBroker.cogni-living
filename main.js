const a0_0x301cac=a0_0xc992;(function(_0x3ffa4f,_0x298549){const _0x34cd64=a0_0xc992,_0x4e9a8e=_0x3ffa4f();while(!![]){try{const _0x1aa797=-parseInt(_0x34cd64(0x146))/0x1*(-parseInt(_0x34cd64(0x14b))/0x2)+parseInt(_0x34cd64(0x143))/0x3+parseInt(_0x34cd64(0x169))/0x4*(-parseInt(_0x34cd64(0x14a))/0x5)+parseInt(_0x34cd64(0x149))/0x6*(-parseInt(_0x34cd64(0x139))/0x7)+-parseInt(_0x34cd64(0x125))/0x8*(-parseInt(_0x34cd64(0x12e))/0x9)+parseInt(_0x34cd64(0x164))/0xa*(parseInt(_0x34cd64(0x150))/0xb)+-parseInt(_0x34cd64(0x14d))/0xc;if(_0x1aa797===_0x298549)break;else _0x4e9a8e['push'](_0x4e9a8e['shift']());}catch(_0x18447b){_0x4e9a8e['push'](_0x4e9a8e['shift']());}}}(a0_0x30c9,0xb027f));function a0_0x30c9(){const _0x270734=['isPresent','toString','\x20hPa.\x20Einbruch\x20wahrscheinlich.','infrasoundEnabled','./lib/topology','Adapter','sendTo','stop','handleInfrasound','info','search','analysisHistory','onReady','infrasoundArmingId','parent','loadState','setStateAsync','./lib/scheduler','subscribeForeignStates','20AykhTa','getForeignStateAsync','number','apply','notifyPushoverInstance','11284Ylhhjr','message','Starting\x20cogni-living\x20adapter...','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','unload','cogni-living','saveState','./lib/ai_agent','./lib/recorder','notifyTelegramEnabled','1136yWPLLM','infrasoundSensorId','ack','val','eventHistory','[Infrasound]\x20Subscribing\x20to\x20sensor:\x20','sensorLastValues','dailyDigests','checkTriggers','56709cLKcOM','config','isRelevant','constructor','./lib/dead_man','@iobroker/adapter-core','notifyTelegramInstance','infrasoundThreshold','stateChange','[Infrasound]\x20ALARM\x20TRIGGERED!\x20Value:\x20','infrasoundLocked','7002422XsndGl','init','log','onMessage','ready','sendNotification','(((.+)+)+)+$','exitTimer','onStateChange','notifyPushoverEnabled','1165815RcEMVp','send','./lib/automation','343274ElfqEc','start','models/gemini-flash-latest','6RAzYDl','115BlNetn','4WpLvdq','bind','3838860HBiEkn','onUnload','warn','752257NGgKyb'];a0_0x30c9=function(){return _0x270734;};return a0_0x30c9();}const a0_0x53f285=(function(){let _0x345c89=!![];return function(_0x3b0fb8,_0x33c94f){const _0x4ea170=_0x345c89?function(){const _0x55dad3=a0_0xc992;if(_0x33c94f){const _0xddf10b=_0x33c94f[_0x55dad3(0x167)](_0x3b0fb8,arguments);return _0x33c94f=null,_0xddf10b;}}:function(){};return _0x345c89=![],_0x4ea170;};}()),a0_0x5b0f3c=a0_0x53f285(this,function(){const _0x2011a2=a0_0xc992;return a0_0x5b0f3c[_0x2011a2(0x152)]()[_0x2011a2(0x15b)]('(((.+)+)+)+$')['toString']()[_0x2011a2(0x131)](a0_0x5b0f3c)[_0x2011a2(0x15b)](_0x2011a2(0x13f));});function a0_0xc992(_0xc277c,_0x2d293c){const _0x2df2f9=a0_0x30c9();return a0_0xc992=function(_0x5b0f3c,_0x53f285){_0x5b0f3c=_0x5b0f3c-0x124;let _0x30c906=_0x2df2f9[_0x5b0f3c];return _0x30c906;},a0_0xc992(_0xc277c,_0x2d293c);}a0_0x5b0f3c();'use strict';const utils=require(a0_0x301cac(0x133)),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require('./lib/installer'),scanner=require('./lib/scanner'),schedulers=require(a0_0x301cac(0x162)),topology=require(a0_0x301cac(0x155)),setup=require('./lib/setup'),recorder=require(a0_0x301cac(0x171)),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0x301cac(0x170)),deadMan=require(a0_0x301cac(0x132)),automation=require(a0_0x301cac(0x145)),GEMINI_MODEL=a0_0x301cac(0x148),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x301cac(0x156)]{constructor(_0xa8f839){const _0x607eca=a0_0x301cac;super({..._0xa8f839,'name':_0x607eca(0x16e)}),this[_0x607eca(0x129)]=[],this[_0x607eca(0x15c)]=[],this['rawEventLog']=[],this[_0x607eca(0x12c)]=[],this[_0x607eca(0x12b)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x607eca(0x151)]=!![],this[_0x607eca(0x140)]=null,this['exitGrace']=![],this[_0x607eca(0x138)]=![],this['on'](_0x607eca(0x13d),this[_0x607eca(0x15d)][_0x607eca(0x14c)](this)),this['on'](_0x607eca(0x136),this[_0x607eca(0x141)][_0x607eca(0x14c)](this)),this['on'](_0x607eca(0x16a),this[_0x607eca(0x13c)]['bind'](this)),this['on'](_0x607eca(0x16d),this[_0x607eca(0x14e)][_0x607eca(0x14c)](this));}async[a0_0x301cac(0x15d)](){const _0xb61cde=a0_0x301cac;this[_0xb61cde(0x13b)][_0xb61cde(0x15a)](_0xb61cde(0x16b)),await setup[_0xb61cde(0x13a)](this),await topology[_0xb61cde(0x13a)](this),this['config']['infrasoundEnabled']&&this[_0xb61cde(0x12f)]['infrasoundSensorId']&&(this['log'][_0xb61cde(0x15a)](_0xb61cde(0x12a)+this[_0xb61cde(0x12f)][_0xb61cde(0x126)]),this[_0xb61cde(0x163)](this[_0xb61cde(0x12f)][_0xb61cde(0x126)])),await pythonBridge[_0xb61cde(0x147)](this),schedulers[_0xb61cde(0x13a)](this),this[_0xb61cde(0x160)]();}async[a0_0x301cac(0x141)](_0x10e43c,_0x1444d0){const _0x328587=a0_0x301cac;if(!_0x1444d0||_0x1444d0[_0x328587(0x127)])return;if(this[_0x328587(0x12f)][_0x328587(0x154)]&&_0x10e43c===this[_0x328587(0x12f)]['infrasoundSensorId']){this[_0x328587(0x159)](_0x1444d0[_0x328587(0x128)]);return;}topology[_0x328587(0x130)](_0x10e43c)&&(recorder['logEvent'](this,_0x10e43c,_0x1444d0),automation[_0x328587(0x12d)](this,_0x10e43c,_0x1444d0));}async[a0_0x301cac(0x159)](_0x25783f){const _0x7f147d=a0_0x301cac;if(_0x25783f==null||typeof _0x25783f!==_0x7f147d(0x166))return;if(this[_0x7f147d(0x138)])return;if(this[_0x7f147d(0x12f)][_0x7f147d(0x15e)]){const _0x37a93a=await this[_0x7f147d(0x165)](this[_0x7f147d(0x12f)][_0x7f147d(0x15e)]);if(!_0x37a93a||!_0x37a93a['val'])return;}const _0x3c28df=this[_0x7f147d(0x12f)][_0x7f147d(0x135)]||0.04;Math['abs'](_0x25783f)>=_0x3c28df&&(this[_0x7f147d(0x13b)][_0x7f147d(0x14f)](_0x7f147d(0x137)+_0x25783f+'\x20hPa\x20(Threshold:\x20'+_0x3c28df+')'),await this[_0x7f147d(0x161)]('security.alarm_triggered',{'val':!![],'ack':!![]}),this[_0x7f147d(0x13e)](_0x7f147d(0x16c)+_0x25783f+_0x7f147d(0x153)),this[_0x7f147d(0x138)]=!![],setTimeout(()=>{this['infrasoundLocked']=![];},0x2710));}[a0_0x301cac(0x13e)](_0x158ebe){const _0x133410=a0_0x301cac;this[_0x133410(0x12f)][_0x133410(0x142)]&&this[_0x133410(0x12f)][_0x133410(0x168)]&&this[_0x133410(0x157)](this[_0x133410(0x12f)]['notifyPushoverInstance'],_0x133410(0x144),{'message':_0x158ebe,'title':'Nuukanni\x20Security','priority':0x1}),this[_0x133410(0x12f)][_0x133410(0x124)]&&this[_0x133410(0x12f)]['notifyTelegramInstance']&&this[_0x133410(0x157)](this['config'][_0x133410(0x134)],_0x133410(0x144),{'text':_0x158ebe});}[a0_0x301cac(0x14e)](_0x79f907){const _0x4e4247=a0_0x301cac;try{pythonBridge[_0x4e4247(0x158)](),_0x79f907();}catch(_0x12ffc8){_0x79f907();}}[a0_0x301cac(0x160)](){}[a0_0x301cac(0x16f)](){}}module[a0_0x301cac(0x15f)]?module['exports']=_0x1eeb7c=>new CogniLiving(_0x1eeb7c):new CogniLiving();