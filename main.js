const a0_0x243d84=a0_0xbdef;(function(_0x11e8b6,_0x48578e){const _0x257279=a0_0xbdef,_0x107f2b=_0x11e8b6();while(!![]){try{const _0x2802ce=parseInt(_0x257279(0x16f))/0x1+parseInt(_0x257279(0x172))/0x2+-parseInt(_0x257279(0x2c9))/0x3+parseInt(_0x257279(0x220))/0x4*(parseInt(_0x257279(0x271))/0x5)+parseInt(_0x257279(0x1f9))/0x6+-parseInt(_0x257279(0x1d5))/0x7*(parseInt(_0x257279(0x13d))/0x8)+parseInt(_0x257279(0x157))/0x9*(-parseInt(_0x257279(0x2ae))/0xa);if(_0x2802ce===_0x48578e)break;else _0x107f2b['push'](_0x107f2b['shift']());}catch(_0x2c4086){_0x107f2b['push'](_0x107f2b['shift']());}}}(a0_0x566b,0x9a435));const a0_0x1c3653=(function(){let _0x10f305=!![];return function(_0x15016e,_0x46e191){const _0x18406c=_0x10f305?function(){const _0x11c1d1=a0_0xbdef;if(_0x46e191){const _0x1256fc=_0x46e191[_0x11c1d1(0x148)](_0x15016e,arguments);return _0x46e191=null,_0x1256fc;}}:function(){};return _0x10f305=![],_0x18406c;};}()),a0_0x52b30f=a0_0x1c3653(this,function(){const _0x4122ff=a0_0xbdef;return a0_0x52b30f[_0x4122ff(0x1cd)]()[_0x4122ff(0x280)](_0x4122ff(0x198))[_0x4122ff(0x1cd)]()['constructor'](a0_0x52b30f)['search'](_0x4122ff(0x198));});a0_0x52b30f();'use strict';const utils=require(a0_0x243d84(0x2b5)),{GoogleGenerativeAI}=require(a0_0x243d84(0x15f)),{spawn}=require(a0_0x243d84(0x206)),path=require(a0_0x243d84(0x177)),fs=require('fs'),installer=require('./lib/installer'),scanner=require(a0_0x243d84(0x2b4)),schedulers=require(a0_0x243d84(0x26d)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x9c4,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x243d84(0x13a),SEQUENCE_TIMEOUT_MS=0x5*0x3c*0x3e8,MAX_TRAINING_SET_SIZE=0x1f4,THERMO_LOG_SIZE=0x3e8,EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,LTM_DP_RAW_LOG=a0_0x243d84(0x16d),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x243d84(0x179),LTM_DP_TRIGGER_DIGEST=a0_0x243d84(0x24a),LTM_DP_BASELINE_STATUS=a0_0x243d84(0x176),LTM_DP_DRIFT_CHANNEL=a0_0x243d84(0x2be),LTM_DP_DRIFT_STATUS=a0_0x243d84(0x29f),LTM_DP_DRIFT_DETAILS=a0_0x243d84(0x291),LTM_DP_DRIFT_LAST_CHECK='LTM.driftAnalysis.lastCheck',SYSTEM_DP_MODE=a0_0x243d84(0x299),SYSTEM_MODES={'NORMAL':'normal','VACATION':a0_0x243d84(0x2ab),'PARTY':'party','GUEST':a0_0x243d84(0x2a7)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x243d84(0x27a)],SYSTEM_MODES[a0_0x243d84(0x21c)]],PERSONA_MAPPING={'generic':'Analysiere\x20ausgewogen.','senior_aal':'PRIORITÃ„T:\x20Gesundheit/AAL.','family':a0_0x243d84(0x233),'single_comfort':'Fokus\x20auf\x20Komfort.','security':a0_0x243d84(0x22e)},ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};let activeSequence=[],sequenceTimer=null;async function initZombies(_0x3c2ca1){const _0x1c60b9=a0_0x243d84;try{const _0x360a39=[_0x1c60b9(0x1db),_0x1c60b9(0x1dd)];for(const _0x1429f4 of _0x360a39){try{const _0x4a3e1e=await _0x3c2ca1[_0x1c60b9(0x1c5)](_0x1429f4);if(_0x4a3e1e)await _0x3c2ca1['delObjectAsync'](_0x1429f4);}catch(_0x3a45d3){}}}catch(_0x200df5){}}async function checkLicense(_0x350c3a){return!![];}async function initHistory(_0x35939a){const _0x565f07=a0_0x243d84;try{const _0xf2fa35=await _0x35939a['getStateAsync'](_0x565f07(0x203));_0xf2fa35&&_0xf2fa35[_0x565f07(0x2b3)]&&(_0x35939a[_0x565f07(0x192)]=JSON[_0x565f07(0x1b4)](_0xf2fa35[_0x565f07(0x2b3)][_0x565f07(0x1cd)]()));}catch(_0x1ae80c){_0x35939a['eventHistory']=[];}try{const _0xba03ad=await _0x35939a[_0x565f07(0x208)](_0x565f07(0x200));if(_0xba03ad&&_0xba03ad['val'])_0x35939a[_0x565f07(0x28f)]=JSON[_0x565f07(0x1b4)](_0xba03ad['val'][_0x565f07(0x1cd)]());}catch(_0x55980d){_0x35939a[_0x565f07(0x28f)]=[];}if(_0x35939a[_0x565f07(0x192)]&&_0x35939a['eventHistory'][_0x565f07(0x14e)]>0x0){_0x35939a[_0x565f07(0x14f)][_0x565f07(0x1f1)](_0x565f07(0x18d));for(let _0x5b2c39=_0x35939a[_0x565f07(0x192)]['length']-0x1;_0x5b2c39>=0x0;_0x5b2c39--){const _0x51202a=_0x35939a[_0x565f07(0x192)][_0x5b2c39];if(_0x51202a&&_0x51202a['id']!==undefined&&_0x51202a[_0x565f07(0x18b)]!==undefined)_0x35939a[_0x565f07(0x1d4)][_0x51202a['id']]=_0x51202a['value'];}}}async function initSystemConfig(_0x1d538e){const _0x10e49a=a0_0x243d84;try{const _0xa47ed5=await _0x1d538e['getForeignObjectAsync'](_0x10e49a(0x237));if(_0xa47ed5&&_0xa47ed5[_0x10e49a(0x1b3)])_0x1d538e[_0x10e49a(0x1e4)]={'latitude':_0xa47ed5[_0x10e49a(0x1b3)][_0x10e49a(0x145)]||0x0,'longitude':_0xa47ed5[_0x10e49a(0x1b3)][_0x10e49a(0x155)]||0x0,'city':_0xa47ed5[_0x10e49a(0x1b3)][_0x10e49a(0x18a)]||''};}catch(_0x1d1d39){}}async function createAllObjects(_0x1ebc34){const _0x45822d=a0_0x243d84;await _0x1ebc34[_0x45822d(0x2a6)]('system',{'type':_0x45822d(0x18f),'common':{'name':_0x45822d(0x1ae)},'native':{}}),await _0x1ebc34[_0x45822d(0x2a6)](SYSTEM_DP_MODE,{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x17b),'type':_0x45822d(0x20f),'role':'state','read':!![],'write':!![],'def':SYSTEM_MODES[_0x45822d(0x240)]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x2ca),{'type':_0x45822d(0x264),'common':{'name':'Who\x20is\x20present?','type':_0x45822d(0x20f),'role':_0x45822d(0x149),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x239),{'type':'state','common':{'name':_0x45822d(0x1ab),'type':_0x45822d(0x20f),'role':'json','read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)]('events.history',{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x1ca),'type':_0x45822d(0x20f),'role':_0x45822d(0x204),'read':!![],'write':![]},'native':{}}),await _0x1ebc34['extendObjectAsync'](_0x45822d(0x1e1),{'type':_0x45822d(0x18f),'common':{'name':'AI\x20Training'},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x17a),{'type':'state','common':{'name':_0x45822d(0x143),'type':_0x45822d(0x1ba),'role':_0x45822d(0x26a),'read':!![],'write':!![]},'native':{}}),await _0x1ebc34['setObjectNotExistsAsync'](_0x45822d(0x23a),{'type':'state','common':{'name':_0x45822d(0x2b8),'type':_0x45822d(0x1ba),'role':'button','read':!![],'write':!![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)]('analysis.training.triggerEnergy',{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x224),'type':_0x45822d(0x1ba),'role':'button','read':!![],'write':!![]},'native':{}}),await _0x1ebc34['setObjectNotExistsAsync'](_0x45822d(0x1aa),{'type':'state','common':{'name':'Train\x20Comfort','type':_0x45822d(0x1ba),'role':_0x45822d(0x26a),'read':!![],'write':!![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)]('analysis.training.triggerTopology',{'type':'state','common':{'name':_0x45822d(0x213),'type':_0x45822d(0x1ba),'role':'button','read':!![],'write':!![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x15e),{'type':_0x45822d(0x264),'common':{'name':'Training\x20Status','type':_0x45822d(0x20f),'role':'text','read':!![],'write':![]},'native':{}}),await _0x1ebc34['extendObjectAsync'](_0x45822d(0x273),{'type':_0x45822d(0x18f),'common':{'name':'Security\x20Monitor'},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x1ea),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x182),'type':_0x45822d(0x26b),'role':_0x45822d(0x18b),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x2c7),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x17d),'type':_0x45822d(0x26b),'role':'value','read':!![],'write':![],'def':0.05},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x191),{'type':'state','common':{'name':_0x45822d(0x154),'type':'string','role':_0x45822d(0x184),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)]('analysis.security.topologyMatrix',{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x158),'type':_0x45822d(0x20f),'role':_0x45822d(0x204),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x2a6)](_0x45822d(0x23b),{'type':_0x45822d(0x18f),'common':{'name':'Health\x20Analysis'},'native':{}}),await _0x1ebc34['setObjectNotExistsAsync'](_0x45822d(0x14a),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x154),'type':_0x45822d(0x20f),'role':_0x45822d(0x184),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x21f),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x1a1),'type':'boolean','role':_0x45822d(0x1d0),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x28a),{'type':_0x45822d(0x264),'common':{'name':'Trend','type':_0x45822d(0x20f),'role':'text','read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x197),{'type':_0x45822d(0x264),'common':{'name':'Trend\x20Value','type':_0x45822d(0x26b),'role':_0x45822d(0x18b),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x159),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x1e9),'type':_0x45822d(0x20f),'role':_0x45822d(0x204),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)]('analysis.health.gaitSpeed',{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x19c),'type':_0x45822d(0x26b),'role':_0x45822d(0x18b),'read':!![],'write':![]},'native':{}}),await _0x1ebc34['extendObjectAsync'](_0x45822d(0x250),{'type':_0x45822d(0x18f),'common':{'name':_0x45822d(0x22f)},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x1fb),{'type':'state','common':{'name':_0x45822d(0x268),'type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x187),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x23c),'type':_0x45822d(0x20f),'role':'text','read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x23d),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x186),'type':_0x45822d(0x20f),'role':_0x45822d(0x204),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x2a6)]('LTM',{'type':_0x45822d(0x18f),'common':{'name':'LTM'},'native':{}}),await _0x1ebc34[_0x45822d(0x2a6)](LTM_DP_RAW_LOG,{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x1f7),'type':'string','role':_0x45822d(0x204),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x2a6)](LTM_DP_DAILY_DIGESTS,{'type':_0x45822d(0x264),'common':{'name':'Daily\x20Digests','type':_0x45822d(0x20f),'role':_0x45822d(0x204),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x150),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x24f),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await _0x1ebc34['setObjectNotExistsAsync']('LTM.trainingData.thermodynamics',{'type':'state','common':{'name':_0x45822d(0x255),'type':'string','role':_0x45822d(0x204),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x251),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x2c5),'type':_0x45822d(0x1ba),'role':_0x45822d(0x26a),'read':!![],'write':!![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x1b9),{'type':_0x45822d(0x264),'common':{'name':'Trigger\x20Briefing','type':_0x45822d(0x1ba),'role':_0x45822d(0x26a),'read':!![],'write':!![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x1c7),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x25e),'type':'boolean','role':_0x45822d(0x24b),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x235),{'type':'state','common':{'name':_0x45822d(0x298),'type':'string','role':'text.alarm','read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x18e),{'type':_0x45822d(0x264),'common':{'name':'Activity\x20Summary','type':_0x45822d(0x20f),'role':_0x45822d(0x149),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x27c),{'type':'state','common':{'name':_0x45822d(0x286),'type':_0x45822d(0x1ba),'role':'indicator','read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x21e),{'type':_0x45822d(0x264),'common':{'name':'Description','type':_0x45822d(0x20f),'role':'text','read':!![],'write':![]},'native':{}}),await _0x1ebc34['setObjectNotExistsAsync']('analysis.automation.detectedPatterns',{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x226),'type':_0x45822d(0x20f),'role':'json','read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x1a3),{'type':'state','common':{'name':_0x45822d(0x245),'type':_0x45822d(0x20f),'role':'text','read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x1a5),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x2b9),'type':_0x45822d(0x20f),'role':_0x45822d(0x149),'read':!![],'write':![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x1b8),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x2bd),'type':_0x45822d(0x1ba),'role':_0x45822d(0x24d),'read':!![],'write':!![]},'native':{}}),await _0x1ebc34[_0x45822d(0x20c)](_0x45822d(0x27b),{'type':_0x45822d(0x264),'common':{'name':_0x45822d(0x29a),'type':_0x45822d(0x1ba),'role':_0x45822d(0x26a),'read':!![],'write':!![]},'native':{}});}async function loadSystemMode(_0x5ed8e8){const _0x5e2f75=a0_0x243d84;try{const _0xf08608=await _0x5ed8e8[_0x5e2f75(0x208)](SYSTEM_DP_MODE);_0xf08608&&_0xf08608[_0x5e2f75(0x2b3)]&&Object[_0x5e2f75(0x1bb)](SYSTEM_MODES)[_0x5e2f75(0x232)](_0xf08608['val'])?_0x5ed8e8['currentSystemMode']=_0xf08608[_0x5e2f75(0x2b3)]:(_0x5ed8e8[_0x5e2f75(0x21b)]=SYSTEM_MODES[_0x5e2f75(0x240)],await _0x5ed8e8[_0x5e2f75(0x1a8)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES['NORMAL'],'ack':!![]}));}catch(_0x3887b4){_0x5ed8e8[_0x5e2f75(0x21b)]=SYSTEM_MODES[_0x5e2f75(0x240)];}}async function loadRawEventLog(_0x2f5af8){const _0xc66814=a0_0x243d84;try{const _0x2ed960=await _0x2f5af8[_0xc66814(0x208)](LTM_DP_RAW_LOG);if(_0x2ed960&&_0x2ed960[_0xc66814(0x2b3)])_0x2f5af8[_0xc66814(0x18c)]=JSON[_0xc66814(0x1b4)](_0x2ed960[_0xc66814(0x2b3)]);}catch(_0x42e022){_0x2f5af8[_0xc66814(0x18c)]=[];}}async function saveRawEventLog(_0x7594e4){const _0x42c2ce=a0_0x243d84;if(_0x7594e4[_0x42c2ce(0x18c)][_0x42c2ce(0x14e)]>RAW_LOG_MAX_SIZE)_0x7594e4[_0x42c2ce(0x18c)][_0x42c2ce(0x20a)](0x0,_0x7594e4[_0x42c2ce(0x18c)][_0x42c2ce(0x14e)]-RAW_LOG_MAX_SIZE);await _0x7594e4[_0x42c2ce(0x1a8)](LTM_DP_RAW_LOG,{'val':JSON[_0x42c2ce(0x28c)](_0x7594e4['rawEventLog']),'ack':!![]});}async function loadDailyDigests(_0x140409){const _0x293df9=a0_0x243d84;try{const _0xf4edb2=await _0x140409[_0x293df9(0x208)](LTM_DP_DAILY_DIGESTS);if(_0xf4edb2&&_0xf4edb2[_0x293df9(0x2b3)])_0x140409[_0x293df9(0x167)]=JSON[_0x293df9(0x1b4)](_0xf4edb2[_0x293df9(0x2b3)]);}catch(_0x10c77a){_0x140409['dailyDigests']=[];}await updateBaselineStatus(_0x140409);}async function saveDailyDigests(_0x3e087e,_0x159c42=!![]){const _0x3c051a=a0_0x243d84,_0x2d1083=_0x3e087e[_0x3c051a(0x211)][_0x3c051a(0x2c1)]||0x3c;_0x3e087e[_0x3c051a(0x167)][_0x3c051a(0x14e)]>_0x2d1083&&_0x3e087e[_0x3c051a(0x167)][_0x3c051a(0x20a)](0x0,_0x3e087e['dailyDigests'][_0x3c051a(0x14e)]-_0x2d1083);await _0x3e087e[_0x3c051a(0x1a8)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](_0x3e087e[_0x3c051a(0x167)]),'ack':!![]});if(_0x159c42)await updateBaselineStatus(_0x3e087e);}async function updateAnalysisHistory(_0x44e174,_0x27709f){const _0x25f191=a0_0x243d84;_0x44e174[_0x25f191(0x28f)][_0x25f191(0x28d)](_0x27709f);if(_0x44e174[_0x25f191(0x28f)][_0x25f191(0x14e)]>HISTORY_MAX_SIZE)_0x44e174['analysisHistory'][_0x25f191(0x147)]();await _0x44e174['setStateAsync'](_0x25f191(0x200),{'val':JSON[_0x25f191(0x28c)](_0x44e174['analysisHistory']),'ack':!![]});}async function updateBaselineStatus(_0x4fe9b2){const _0x3a8219=a0_0x243d84;if(!_0x4fe9b2[_0x3a8219(0x231)]){await _0x4fe9b2[_0x3a8219(0x1a8)](LTM_DP_BASELINE_STATUS,{'val':_0x3a8219(0x13f),'ack':!![]});return;}const _0x2020dc=_0x4fe9b2[_0x3a8219(0x167)][_0x3a8219(0x14e)]>=(_0x4fe9b2[_0x3a8219(0x211)][_0x3a8219(0x1c6)]||0x7)?_0x3a8219(0x174)+_0x4fe9b2[_0x3a8219(0x167)][_0x3a8219(0x14e)]+'\x20Tage)':_0x3a8219(0x269)+_0x4fe9b2[_0x3a8219(0x167)][_0x3a8219(0x14e)]+'/'+(_0x4fe9b2[_0x3a8219(0x211)][_0x3a8219(0x1c6)]||0x7)+')';await _0x4fe9b2['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x2020dc,'ack':!![]});}function a0_0x566b(){const _0x3a0f9a=['onStateChange','config','.forecast.current.temp','Build\x20Topology','temperature','stdout','telegram','ANOMALY','inactivityThresholdHours','automationProposal','forEach','currentSystemMode','GUEST','getOverviewData','analysis.automation.description','analysis.health.isAnomaly','72UXchJJ','trim','baselineDrift','endsWith','Train\x20Energy','Skipped\x20(No\x20AI\x20or\x20Data)','Detected\x20Patterns','ðŸ§ \x20Triggering\x20Security\x20Training...','getForeignStateAsync','command','onReady','slice','response','outdoorSensorId','PRIORITÃ„T:\x20Sicherheit.','Energy\x20Intelligence','light','isProVersion','includes','Fokus\x20auf\x20Familienroutinen.','TRAIN_SECURITY','analysis.alertReason','writable','system.config','getLtmData','events.lastEvent','analysis.training.triggerHealth','analysis.health','Heating\x20Score','analysis.energy.forecast','KI-Modell\x20nicht\x20initialisiert','modeResetJob','NORMAL','.NextHours.Location_1.Day_1.current.temp_value','temperatur','Adapter','from','Target\x20ID','[LOG]','cogni-living\x20adapter\x20starting\x20(v','generic','keys','LTM.triggerDailyDigest','indicator.alarm','TRAIN_ENERGY','switch','User\x20dismissed\x20automation\x20proposal.','Sequences','analysis.energy','analysis.trigger','object','online','motion','Thermodynamics','driftAnalysisTimer','join','main','testContext','onMessage','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','alertReason','Alert\x20Status','toISOString','Error\x20launching\x20Python:\x20','find','heating','LTM.trainingData.thermodynamics','state','push','ðŸ›‹ï¸\x20BUTLER:\x20Keine\x20neuen\x20Muster\x20gefunden.','communicate.request','Insulation\x20Score','Lernphase\x20(','button','number','dependencyInstallInProgress','./lib/scheduler','timestamp','kontakt','ltmJob','279655pkqdmE','schalter','analysis.security','substring','dimmer','weatherInstance','rating','version','getMonth','PARTY','analysis.automation.triggerAction','analysis.automation.patternDetected','rule','aiPersona','submitFeedback','search','âœ…\x20HEALTH\x20TRAINED.','targetValue','[RECORDER]\x20Error:\x20','calendarInstance','BUILD_TOPOLOGY','Pattern\x20Detected','.\x20EVENTS:\x20','Keine\x20Wetterdaten\x20verfÃ¼gbar.','SIMULATION:\x20Test-Vorschlag\x20fÃ¼r\x20','analysis.health.trendDiagnosis','WiFi\x20Presence\x20detected.','stringify','unshift','description','analysisHistory','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','LTM.driftAnalysis.driftDetails','.forecast.current.state','ðŸš€\x20Starting\x20NUUKANNI\x20Logic\x20(v0.12.10)...','analysisInterval','geminiApiKey','confidence','ðŸ›¡ï¸\x20SECURITY\x20CHECK:\x20Score\x20','Alert\x20Reason','system.mode','Trigger\x20Action','SECURITY_RESULT','Keine\x20Details.','Failed:\x20','genAI','LTM.driftAnalysis.baselineDrift','getMinutes','lastAlertState','ready','isPresent','analysis.health.gaitSpeed','Unknown','extendObjectAsync','guest','error','message','\x20->\x20','vacation','instance','isEmergency','8020HksMpl','status','warn','ANALYZE_TREND','Regel\x20erkannt:\x20','val','./lib/scanner','@iobroker/adapter-core','shift','briefingJob','Train\x20Health','Target\x20Value','ltmStbWindowDays','OK:\x20','setupLtmScheduler','Auto\x20Apply','LTM.driftAnalysis','checkAndInstall','isGracePeriodActive','ltmLtbWindowDays','Success','getDate','setupBriefingScheduler','Trigger\x20Analysis','threshold','analysis.security.currentThreshold','.\x20ANWESEND:\x20','3291606gHeorC','system.presenceWho','cancel','TRAIN_COMFORT','Wetterdaten\x20deaktiviert.','models/gemini-flash-latest','Gemini\x20Error:\x20','python_service','4763680MYGypy','N/A','Deaktiviert\x20(Pro-Feature)','location','.Current.WeatherText','type','Train\x20Security','change_percent','latitude','setupDriftAnalysisScheduler','pop','apply','text','analysis.health.lastCheck','sendTo','toFixed','cogni-living','length','log','LTM.trainingData.sequences','[PYTHON]\x20','bind','analysis.training.triggerEnergy','Last\x20Check','longitude','payload','19755teLPtE','Topology\x20Matrix','analysis.health.todayVector','Gemini\x20Init\x20Error:\x20','pythonProcess','Err:\x20','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','analysis.training.status','@google/generative-ai','startsWith','exitGraceTimer','ðŸ•¸ï¸\x20Building\x20Topology\x20Matrix...','klima','name','Â°C,\x20','No\x20instance','dailyDigests','ðŸ•¸ï¸\x20Topology\x20Map\x20updated.','ðŸ\x20Python\x20Pong','Kein\x20API\x20Key!','getForeignObjectsAsync',')\x20-\x20SAFE\x20BOOT','LTM.rawEventLog','python3','680297rSsnsB','Briefing\x20Error:\x20','driftDetails','2383188osPapH','map','Aktiv\x20(','.\x20EMERGENCY:\x20','LTM.baselineStatus','path','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','LTM.processingStatus','analysis.training.triggerSecurity','System\x20Mode','onUnload','Current\x20Threshold','setHours','.forecast.current.temperature','write','success','Anomaly\x20Score','split','date','toLowerCase','Temperature\x20Forecast','analysis.energy.heatingScore','debug','callback','city','value','rawEventLog','Restoring\x20sensor\x20cache...','analysis.activitySummary','channel','notifyTelegramEnabled','analysis.security.lastCheck','eventHistory','enum','HEALTH_RESULT','application/json','.Current.Temperature','analysis.health.trendValue','(((.+)+)+)+$','now','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','ðŸ“\x20Feedback\x20received:\x20','Gait\x20Speed\x20Trend','Started...','round','tÃ¼r','HEALTH_TRAIN_RESULT','Anomaly\x20Detected','is_anomaly','analysis.automation.targetId','\x20=\x20','analysis.automation.targetValue','exitTimer','Kein\x20API\x20Key.','setStateAsync','ðŸ›‹ï¸\x20BUTLER:\x20Found\x20','analysis.training.triggerComfort','Last\x20raw\x20event','occupancy','contact','System','subscribeStates','N/A\x20(Learning)','namespace','geminiModel','common','parse','âš ï¸\x20SECURITY\x20ALARM:\x20','accuweather','generateContent','analysis.automation.autoApply','analysis.triggerBriefing','boolean','values','COMFORT_RESULT','ENERGY_TRAIN_RESULT','GAIT_RESULT','logDuplicates','Sec-Training\x20started...','ack','loc','Missing\x20data','dismissAutomation','getObjectAsync','minDaysForBaseline','analysis.isAlert','getTime','.\x20SYSTEM_MODE:\x20','Event\x20History','Topology\x20Error:\x20','ðŸŒ…\x20Morning\x20Briefing:\x0a','toString','triggerBriefing','Training\x20Error:\x20','indicator','summary','kill','close','sensorLastValues','7qwPLXQ','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','details','analysis.training.triggerTopology','detected','fill','analysis.history_debug_00','toLocaleTimeString','events.history_debug_00','\x20new\x20patterns.','analysis.lastResult','floor','analysis.training','TRAINING_COMPLETE','bewegung','systemConfig','subscribeForeignStatesAsync','PYTHON_EXE','analysis.automation.detectedPatterns','door','Today\x20Vector\x20(15m)','analysis.security.lastScore','presenceDevices','licenseKey','ENERGY_PREDICT_RESULT','TOPOLOGY_RESULT','setState','isExit','info','ANALYZE_SEQUENCE','reason','service.py','devices','stdin','Raw\x20Log','targetId','7237584vPiviV','activityLevel','analysis.energy.insulationScore','insulation','automation.triggerAction','triggerDailyDigest','useWeather','analysis.analysisHistory','systemUUID','analysisTimer','events.history','json','getHours','child_process','PREDICT_ENERGY','getStateAsync','daswetter','splice','scanDevices','setObjectNotExistsAsync','simulateButler','analysis.security.topologyMatrix','string'];a0_0x566b=function(){return _0x3a0f9a;};return a0_0x566b();}async function initSensorSubscriptions(_0x4beb18){const _0x5886a4=a0_0x243d84,_0x3d372a=_0x4beb18[_0x5886a4(0x211)][_0x5886a4(0x1f5)];if(_0x3d372a)for(const _0x41bf7c of _0x3d372a){await _0x4beb18[_0x5886a4(0x1e5)](_0x41bf7c['id']);}}async function initPresenceSubscriptions(_0x5f585d){const _0x4cc540=a0_0x243d84,_0x59f859=_0x5f585d[_0x4cc540(0x211)][_0x4cc540(0x1eb)];if(_0x59f859)for(const _0x3fbe7b of _0x59f859){await _0x5f585d[_0x4cc540(0x1e5)](_0x3fbe7b);}}async function setupTelegramListener(_0x2e8de0){const _0x469e65=a0_0x243d84,_0x1c9f39=_0x2e8de0[_0x469e65(0x211)]['notifyTelegramInstance'];if(_0x2e8de0[_0x469e65(0x211)][_0x469e65(0x190)]&&_0x1c9f39)await _0x2e8de0[_0x469e65(0x1e5)](_0x1c9f39+'.communicate.request');}async function checkWifiPresence(_0x57c16e){const _0x1c3b6d=a0_0x243d84;try{const _0xb2a12c=_0x57c16e['config'][_0x1c3b6d(0x1eb)]||[];let _0x301a4b=![];const _0x426c27=[];for(const _0x52282e of _0xb2a12c){try{const _0x491e4f=await _0x57c16e[_0x1c3b6d(0x228)](_0x52282e);_0x491e4f&&(_0x491e4f[_0x1c3b6d(0x2b3)]===!![]||_0x491e4f[_0x1c3b6d(0x2b3)]===_0x1c3b6d(0x253)||_0x491e4f[_0x1c3b6d(0x2b3)]===0x1)&&(_0x301a4b=!![],_0x426c27[_0x1c3b6d(0x265)](_0x52282e));}catch(_0x11c268){}}return await _0x57c16e[_0x1c3b6d(0x1a8)]('system.presenceWho',{'val':_0x426c27[_0x1c3b6d(0x257)](',\x20'),'ack':!![]}),_0x301a4b&&(_0x57c16e[_0x1c3b6d(0x1a6)]&&(_0x57c16e['log'][_0x1c3b6d(0x1f1)](_0x1c3b6d(0x28b)),abortExitTimer(_0x57c16e)),!_0x57c16e['isPresent']&&_0x57c16e[_0x1c3b6d(0x21b)]===SYSTEM_MODES['NORMAL']&&await setPresence(_0x57c16e,!![])),_0x301a4b;}catch(_0x549442){return![];}}function startExitTimer(_0x449907){const _0x523dfb=a0_0x243d84;abortExitTimer(_0x449907),_0x449907[_0x523dfb(0x2c0)]=!![],_0x449907['exitGraceTimer']=setTimeout(()=>{_0x449907['isGracePeriodActive']=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),_0x449907['exitTimer']=setTimeout(()=>{const _0x278106=_0x523dfb;setPresence(_0x449907,![]),_0x449907[_0x278106(0x1a6)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}function abortExitTimer(_0x42a31f){const _0x15eed8=a0_0x243d84;if(_0x42a31f[_0x15eed8(0x1a6)])clearTimeout(_0x42a31f[_0x15eed8(0x1a6)]);if(_0x42a31f[_0x15eed8(0x161)])clearTimeout(_0x42a31f[_0x15eed8(0x161)]);_0x42a31f[_0x15eed8(0x1a6)]=null,_0x42a31f[_0x15eed8(0x161)]=null,_0x42a31f[_0x15eed8(0x2c0)]=![];}async function setPresence(_0x2f0cf7,_0x467fb2){const _0x36f239=a0_0x243d84;if(_0x2f0cf7[_0x36f239(0x2a3)]===_0x467fb2)return;_0x2f0cf7[_0x36f239(0x2a3)]=_0x467fb2,await _0x2f0cf7[_0x36f239(0x1a8)]('system.isPresent',{'val':_0x467fb2,'ack':!![]});}async function executeAutomationAction(_0x2080eb){const _0x52273d=a0_0x243d84;try{const _0xfb5deb=await _0x2080eb[_0x52273d(0x208)](_0x52273d(0x1a3)),_0x1b5ce6=await _0x2080eb['getStateAsync'](_0x52273d(0x1a5));if(_0xfb5deb&&_0xfb5deb[_0x52273d(0x2b3)]&&_0x1b5ce6){const _0x1b674d=_0xfb5deb['val'];let _0x1b9c55=_0x1b5ce6['val'];try{_0x1b9c55=JSON[_0x52273d(0x1b4)](_0x1b9c55);}catch(_0x4c91a2){}_0x2080eb[_0x52273d(0x14f)][_0x52273d(0x1f1)](_0x52273d(0x25c)+_0x1b674d+_0x52273d(0x1a4)+_0x1b9c55),await _0x2080eb['setForeignStateAsync'](_0x1b674d,_0x1b9c55);}else _0x2080eb[_0x52273d(0x14f)][_0x52273d(0x2b0)]('ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.');}catch(_0xb54dfa){_0x2080eb[_0x52273d(0x14f)]['error']('BUTLER\x20Execution\x20Error:\x20'+_0xb54dfa['message']);}}async function processSensorEvent(_0x29ec9f,_0xd5be2b,_0x4ef3c6,_0x59806e){const _0x27435b=a0_0x243d84;if(!_0x59806e)return;const _0x51a9e9=_0x4ef3c6[_0x27435b(0x2b3)],_0x417cd9=Date[_0x27435b(0x199)](),_0x48643f=_0x29ec9f[_0x27435b(0x1d4)][_0xd5be2b];_0x29ec9f[_0x27435b(0x1d4)][_0xd5be2b]=_0x51a9e9;if(!_0x59806e[_0x27435b(0x1bf)]&&_0x48643f!=undefined&&_0x48643f==_0x51a9e9)return;const _0x344870=(_0x59806e[_0x27435b(0x142)]||'')[_0x27435b(0x185)](),_0x7f7cad=_0x344870['includes'](_0x27435b(0x214))||_0x344870[_0x27435b(0x232)](_0x27435b(0x242))||_0x344870['includes'](_0x27435b(0x163))||_0x344870[_0x27435b(0x232)]('heizung');_0x29ec9f[_0x27435b(0x231)]&&_0x7f7cad&&recordThermodynamics(_0x29ec9f,_0xd5be2b,_0x51a9e9,_0x59806e[_0x27435b(0x140)]);const _0x5da09d={'timestamp':_0x417cd9,'id':_0xd5be2b,'name':_0x59806e['name'],'type':_0x59806e[_0x27435b(0x142)],'location':_0x59806e[_0x27435b(0x140)],'value':_0x51a9e9};_0x29ec9f[_0x27435b(0x192)][_0x27435b(0x28d)](_0x5da09d);if(_0x29ec9f[_0x27435b(0x192)]['length']>HISTORY_MAX_SIZE)_0x29ec9f[_0x27435b(0x192)]['pop']();await _0x29ec9f[_0x27435b(0x1a8)]('events.lastEvent',{'val':JSON[_0x27435b(0x28c)](_0x5da09d),'ack':!![]}),await _0x29ec9f[_0x27435b(0x1a8)]('events.history',{'val':JSON['stringify'](_0x29ec9f[_0x27435b(0x192)]),'ack':!![]});_0x29ec9f['isProVersion']&&(_0x29ec9f[_0x27435b(0x18c)]['push'](_0x5da09d),await saveRawEventLog(_0x29ec9f),recordSequence(_0x29ec9f,_0x5da09d));if(_0x59806e[_0x27435b(0x1f0)]&&_0x51a9e9===!![]){if(_0x29ec9f[_0x27435b(0x2a3)]&&!_0x29ec9f[_0x27435b(0x2c0)])startExitTimer(_0x29ec9f);else{if(!_0x29ec9f[_0x27435b(0x2a3)])setPresence(_0x29ec9f,!![]);}}else{if(_0x59806e[_0x27435b(0x142)]===_0x27435b(0x254)&&_0x51a9e9===!![]){if(_0x29ec9f[_0x27435b(0x1a6)])abortExitTimer(_0x29ec9f);if(!_0x29ec9f[_0x27435b(0x2a3)]&&_0x29ec9f[_0x27435b(0x21b)]===SYSTEM_MODES[_0x27435b(0x240)])setPresence(_0x29ec9f,!![]);}}}async function recordThermodynamics(_0x519550,_0x195969,_0x4af42f,_0x52bea4){const _0x7846ae=a0_0x243d84,_0x5a63e0=await getOutsideTemperatureNumeric(_0x519550),_0x3c2910=await _0x519550['getStateAsync'](_0x7846ae(0x263));let _0x4b05b1=[];if(_0x3c2910&&_0x3c2910[_0x7846ae(0x2b3)])try{_0x4b05b1=JSON['parse'](_0x3c2910[_0x7846ae(0x2b3)]);}catch(_0x55669a){}_0x4b05b1[_0x7846ae(0x265)]({'ts':Date['now'](),'room':_0x52bea4||_0x7846ae(0x2a5),'t_in':_0x4af42f,'t_out':_0x5a63e0});if(_0x4b05b1[_0x7846ae(0x14e)]>THERMO_LOG_SIZE)_0x4b05b1['shift']();await _0x519550[_0x7846ae(0x1a8)]('LTM.trainingData.thermodynamics',{'val':JSON[_0x7846ae(0x28c)](_0x4b05b1),'ack':!![]});}async function getOutsideTemperatureNumeric(_0x36896d){const _0x18482a=a0_0x243d84;if(_0x36896d[_0x18482a(0x211)]['outdoorSensorId'])try{const _0x36f9d5=await _0x36896d[_0x18482a(0x228)](_0x36896d[_0x18482a(0x211)][_0x18482a(0x22d)]);if(_0x36f9d5&&_0x36f9d5[_0x18482a(0x2b3)]!==undefined&&_0x36f9d5[_0x18482a(0x2b3)]!==null)return parseFloat(_0x36f9d5['val']);}catch(_0x18b55f){}const _0x314830=_0x36896d[_0x18482a(0x211)][_0x18482a(0x276)];if(!_0x36896d['config'][_0x18482a(0x1ff)]||!_0x314830)return null;try{let _0xfcc3c2='';if(_0x314830[_0x18482a(0x232)](_0x18482a(0x1b6)))_0xfcc3c2=_0x314830+'.Current.Temperature';else{if(_0x314830[_0x18482a(0x232)](_0x18482a(0x209)))_0xfcc3c2=_0x314830+_0x18482a(0x241);else{if(_0x314830[_0x18482a(0x232)]('openweathermap'))_0xfcc3c2=_0x314830+'.forecast.current.temperature';else{if(_0x314830[_0x18482a(0x232)]('weatherunderground'))_0xfcc3c2=_0x314830+_0x18482a(0x212);}}}if(_0xfcc3c2){const _0x30c021=await _0x36896d['getForeignStateAsync'](_0xfcc3c2);if(_0x30c021&&_0x30c021[_0x18482a(0x2b3)]!==undefined&&_0x30c021[_0x18482a(0x2b3)]!==null)return parseFloat(_0x30c021[_0x18482a(0x2b3)]);}}catch(_0x39a500){}return null;}async function recordSequence(_0x2d5541,_0x1b10d8){const _0x4688ea=a0_0x243d84,_0x187eb1=(_0x1b10d8['type']||'')[_0x4688ea(0x185)](),_0x52ef6f=[_0x4688ea(0x254),_0x4688ea(0x1e3),'prÃ¤senz','presence',_0x4688ea(0x1ac),_0x4688ea(0x1e8),_0x4688ea(0x19f),'window','fenster',_0x4688ea(0x1ad),_0x4688ea(0x26f),_0x4688ea(0x230),'licht',_0x4688ea(0x24d),_0x4688ea(0x272),_0x4688ea(0x275),'lampe'];if(!_0x52ef6f['some'](_0x5a5b39=>_0x187eb1[_0x4688ea(0x232)](_0x5a5b39)))return;if(!_0x1b10d8[_0x4688ea(0x18b)])return;if(sequenceTimer)clearTimeout(sequenceTimer);activeSequence[_0x4688ea(0x265)]({'loc':_0x1b10d8[_0x4688ea(0x140)]||_0x4688ea(0x2a5),'id':_0x1b10d8['id'],'ts':Date[_0x4688ea(0x199)]()}),sequenceTimer=setTimeout(async()=>{const _0x3fdc59=_0x4688ea;if(activeSequence[_0x3fdc59(0x14e)]>0x1)await saveCompletedSequence(_0x2d5541);activeSequence=[];},SEQUENCE_TIMEOUT_MS);}async function saveCompletedSequence(_0x104503){const _0x216420=a0_0x243d84;try{const _0x2a1ee3=await _0x104503[_0x216420(0x208)](_0x216420(0x150));let _0x1f30ad=[];if(_0x2a1ee3&&_0x2a1ee3[_0x216420(0x2b3)])try{_0x1f30ad=JSON[_0x216420(0x1b4)](_0x2a1ee3[_0x216420(0x2b3)]);}catch(_0x1146d7){}const _0x414eea=activeSequence[0x0]['ts'],_0x4bad23=activeSequence[_0x216420(0x173)](_0x1a6184=>({'loc':_0x1a6184[_0x216420(0x1c2)],'t_delta':Math[_0x216420(0x19e)]((_0x1a6184['ts']-_0x414eea)/0x3e8)})),_0xebd1b9={'timestamp':new Date(_0x414eea)[_0x216420(0x25f)](),'steps':_0x4bad23,'duration':Math['round']((activeSequence[activeSequence['length']-0x1]['ts']-_0x414eea)/0x3e8),'daytime':new Date(_0x414eea)[_0x216420(0x205)]()};_0x1f30ad[_0x216420(0x265)](_0xebd1b9);if(_0x1f30ad[_0x216420(0x14e)]>MAX_TRAINING_SET_SIZE)_0x1f30ad[_0x216420(0x2b6)]();await _0x104503[_0x216420(0x1a8)](_0x216420(0x150),{'val':JSON['stringify'](_0x1f30ad),'ack':!![]}),runSecurityCheck(_0x104503,_0xebd1b9);}catch(_0xb9d005){_0x104503[_0x216420(0x14f)]['error'](_0x216420(0x283)+_0xb9d005[_0x216420(0x2a9)]);}}function runSecurityCheck(_0x418008,_0x50b1da){const _0x447816=a0_0x243d84;if(!_0x418008[_0x447816(0x231)])return;sendToPython(_0x418008,_0x447816(0x1f2),{'sequence':_0x50b1da});}async function createDailyDigest(_0x540a01){const _0x362292=a0_0x243d84;if(!_0x540a01[_0x362292(0x231)])return;await _0x540a01[_0x362292(0x1a8)](LTM_DP_STATUS,{'val':_0x362292(0x19d),'ack':!![]});if(!_0x540a01[_0x362292(0x1b2)]||_0x540a01[_0x362292(0x18c)][_0x362292(0x14e)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x540a01[_0x362292(0x1a8)](LTM_DP_STATUS,{'val':_0x362292(0x225),'ack':!![]});return;}const _0x2c806d=JSON[_0x362292(0x1b4)](JSON[_0x362292(0x28c)](_0x540a01[_0x362292(0x18c)])),_0x160a8a=_0x2c806d[_0x362292(0x14e)],_0x35e0f6=_0x362292(0x25b)+JSON[_0x362292(0x28c)](_0x2c806d);try{const _0x22feac=await _0x540a01[_0x362292(0x1b2)][_0x362292(0x1b7)](_0x35e0f6),_0xf86ca2=JSON[_0x362292(0x1b4)](_0x22feac[_0x362292(0x22c)][_0x362292(0x149)]()['replace'](/```json|```/g,'')['trim']()),_0x26f85a={'timestamp':new Date()[_0x362292(0x25f)](),'eventCount':_0x160a8a,'summary':_0xf86ca2[_0x362292(0x1d1)]||'Digest','activityLevel':_0xf86ca2[_0x362292(0x1fa)]||'normal','systemMode':_0x540a01[_0x362292(0x21b)]};_0x540a01['dailyDigests'][_0x362292(0x265)](_0x26f85a),await saveDailyDigests(_0x540a01),_0x540a01[_0x362292(0x18c)]=[],await saveRawEventLog(_0x540a01),await _0x540a01[_0x362292(0x1a8)](LTM_DP_STATUS,{'val':_0x362292(0x2c2),'ack':!![]});if(_0x540a01[_0x362292(0x231)])sendToPython(_0x540a01,'ANALYZE_HEALTH',{'digest':_0x26f85a});}catch(_0x44f132){_0x540a01['log'][_0x362292(0x2a8)](_0x44f132[_0x362292(0x2a9)]);}}async function runBaselineDriftAnalysis(_0x1b8f98){const _0x24a810=a0_0x243d84;if(!_0x1b8f98[_0x24a810(0x231)]||!_0x1b8f98[_0x24a810(0x1b2)])return;const _0x13b921=_0x1b8f98[_0x24a810(0x211)][_0x24a810(0x2ba)]||0xe;if(_0x1b8f98[_0x24a810(0x167)][_0x24a810(0x14e)]<_0x13b921+0x7){await _0x1b8f98[_0x24a810(0x1a8)](LTM_DP_DRIFT_STATUS,{'val':_0x24a810(0x1b0),'ack':!![]});return;}const _0x5acbcd=_0x1b8f98[_0x24a810(0x167)]['slice'](-_0x13b921),_0x2ecb4e=_0x1b8f98[_0x24a810(0x167)][_0x24a810(0x22b)](0x0,_0x1b8f98[_0x24a810(0x167)][_0x24a810(0x14e)]-_0x13b921),_0x58c60e=_0x24a810(0x178)+JSON[_0x24a810(0x28c)](_0x2ecb4e)+'\x0aSTB:\x20'+JSON[_0x24a810(0x28c)](_0x5acbcd);try{const _0x1a05a5=await _0x1b8f98['geminiModel']['generateContent'](_0x58c60e),_0x1fb03b=JSON['parse'](_0x1a05a5[_0x24a810(0x22c)][_0x24a810(0x149)]()['replace'](/```json|```/g,'')[_0x24a810(0x221)]());_0x1fb03b[_0x24a810(0x222)]&&(await _0x1b8f98[_0x24a810(0x1a8)](LTM_DP_DRIFT_STATUS,{'val':_0x1fb03b['baselineDrift'],'ack':!![]}),await _0x1b8f98['setStateAsync'](LTM_DP_DRIFT_DETAILS,{'val':_0x1fb03b[_0x24a810(0x171)],'ack':!![]}),await _0x1b8f98[_0x24a810(0x1a8)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date['now'](),'ack':!![]}));}catch(_0x4196ee){}}async function sendMorningBriefing(_0x46cfbd){const _0x137d43=a0_0x243d84;if(!_0x46cfbd['geminiModel'])return;try{const _0x16855a='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0x255f8c=await _0x46cfbd[_0x137d43(0x1b2)][_0x137d43(0x1b7)](_0x16855a),_0x586025=_0x255f8c[_0x137d43(0x22c)][_0x137d43(0x149)]();sendNotification(_0x46cfbd,_0x137d43(0x1cc)+_0x586025);}catch(_0x38647c){_0x46cfbd[_0x137d43(0x14f)]['error'](_0x137d43(0x170)+_0x38647c[_0x137d43(0x2a9)]);}}function stopPythonService(_0x52de8c){const _0x2d4d75=a0_0x243d84;if(_0x52de8c[_0x2d4d75(0x15b)]){try{_0x52de8c[_0x2d4d75(0x15b)][_0x2d4d75(0x1d2)]();}catch(_0x4b5787){}_0x52de8c[_0x2d4d75(0x15b)]=null;}}function sendToPython(_0x25cea8,_0x38e6a3,_0x207dce={}){const _0x4366c7=a0_0x243d84;if(!_0x25cea8[_0x4366c7(0x15b)]||!_0x25cea8[_0x4366c7(0x15b)][_0x4366c7(0x1f6)][_0x4366c7(0x236)])return;const _0x1344af=JSON[_0x4366c7(0x28c)]({'command':_0x38e6a3,..._0x207dce});try{_0x25cea8[_0x4366c7(0x15b)][_0x4366c7(0x1f6)][_0x4366c7(0x180)](_0x1344af+'\x0a');}catch(_0x3e307f){}}function runPythonHealthCheck(_0x5c4bcc){const _0x2cc575=a0_0x243d84;if(!_0x5c4bcc[_0x2cc575(0x167)]||_0x5c4bcc[_0x2cc575(0x167)][_0x2cc575(0x14e)]<0x2)return;const _0x4caf2e=_0x5c4bcc['dailyDigests']['map'](_0xf399ee=>{const _0x3ee46c=_0x2cc575,_0x3c545f=(_0xf399ee[_0x3ee46c(0x1fa)]||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x3c545f]||0x32;});sendToPython(_0x5c4bcc,_0x2cc575(0x2b1),{'values':_0x4caf2e,'tag':'Activity-Level'});}function a0_0xbdef(_0x36501e,_0x365c68){const _0x5c0eb1=a0_0x566b();return a0_0xbdef=function(_0x52b30f,_0x1c3653){_0x52b30f=_0x52b30f-0x139;let _0x566b0b=_0x5c0eb1[_0x52b30f];return _0x566b0b;},a0_0xbdef(_0x36501e,_0x365c68);}function handlePythonResult(_0x3a29ef,_0x2e6ae6){const _0x306078=a0_0x243d84;if(_0x2e6ae6[_0x306078(0x142)]==='PONG')_0x3a29ef[_0x306078(0x14f)][_0x306078(0x188)](_0x306078(0x169));else{if(_0x2e6ae6['type']===_0x306078(0x29b)){const {anomaly_score:_0x46217b,is_anomaly:_0x3ab5ba,threshold:_0xb0e2a5,explanation:_0x14fcd2}=_0x2e6ae6['payload'];_0x3a29ef['log'][_0x306078(0x1f1)](_0x306078(0x297)+_0x46217b['toFixed'](0x5)+_0x306078(0x2aa)+(_0x3ab5ba?_0x306078(0x217):'OK')),_0x3a29ef[_0x306078(0x1a8)]('analysis.security.lastScore',{'val':_0x46217b,'ack':!![]}),_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x191),{'val':new Date()[_0x306078(0x25f)](),'ack':!![]});if(_0xb0e2a5)_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x2c7),{'val':_0xb0e2a5,'ack':!![]});if(_0x3ab5ba){let _0x492e3b=_0x306078(0x1d6)+_0x46217b[_0x306078(0x14c)](0x4)+')';if(_0x14fcd2&&_0x14fcd2!=='Unknown')_0x492e3b+='\x0aGrund:\x20'+_0x14fcd2;_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x1c7),{'val':!![],'ack':!![]}),_0x3a29ef[_0x306078(0x1a8)]('analysis.alertReason',{'val':_0x492e3b,'ack':!![]}),sendNotification(_0x3a29ef,_0x306078(0x1b5)+_0x492e3b,![],!![]);}}else{if(_0x2e6ae6['type']===_0x306078(0x1e2)){const _0x3af3f8=_0x2e6ae6[_0x306078(0x156)][_0x306078(0x1d7)]||'',_0x38f352=_0x2e6ae6[_0x306078(0x156)][_0x306078(0x2c6)],_0x5bbac2=_0x2e6ae6[_0x306078(0x156)][_0x306078(0x181)]?'Success:\x20'+new Date()[_0x306078(0x1dc)]()+'\x20('+_0x3af3f8+')':_0x306078(0x29d)+_0x2e6ae6['payload'][_0x306078(0x1f3)];_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x15e),{'val':_0x5bbac2,'ack':!![]});if(_0x2e6ae6[_0x306078(0x156)][_0x306078(0x181)]&&_0x38f352)_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x2c7),{'val':_0x38f352,'ack':!![]});}else{if(_0x2e6ae6[_0x306078(0x142)]===_0x306078(0x1bc)){const {patterns:_0x366f37}=_0x2e6ae6[_0x306078(0x156)];if(_0x366f37&&_0x366f37[_0x306078(0x14e)]>0x0){_0x3a29ef['log'][_0x306078(0x1f1)](_0x306078(0x1a9)+_0x366f37['length']+_0x306078(0x1de)),_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x1e7),{'val':JSON[_0x306078(0x28c)](_0x366f37),'ack':!![]});const _0x211660=_0x366f37[0x0],_0x1fb3f7=_0x306078(0x2b2)+_0x211660[_0x306078(0x27d)]+'\x20('+(_0x211660[_0x306078(0x296)]*0x64)[_0x306078(0x14c)](0x0)+'%)';_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x27c),{'val':!![],'ack':!![]}),_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x21e),{'val':_0x1fb3f7,'ack':!![]});}else _0x3a29ef['log']['info'](_0x306078(0x266)),_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x27c),{'val':![],'ack':!![]}),_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x1e7),{'val':'[]','ack':!![]});}else{if(_0x2e6ae6[_0x306078(0x142)]===_0x306078(0x1bd)){if(_0x2e6ae6[_0x306078(0x156)][_0x306078(0x181)])try{const _0x332a93=JSON[_0x306078(0x1b4)](_0x2e6ae6[_0x306078(0x156)][_0x306078(0x1d7)]);if(_0x332a93[_0x306078(0x1fc)])_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x1fb),{'val':JSON[_0x306078(0x28c)](_0x332a93['insulation']),'ack':!![]});if(_0x332a93[_0x306078(0x262)])_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x187),{'val':JSON[_0x306078(0x28c)](_0x332a93[_0x306078(0x262)]),'ack':!![]});}catch(_0x1b0f07){}}else{if(_0x2e6ae6[_0x306078(0x142)]===_0x306078(0x1a0)){if(_0x2e6ae6['payload'][_0x306078(0x181)])_0x3a29ef['log']['info'](_0x306078(0x281));}else{if(_0x2e6ae6[_0x306078(0x142)]===_0x306078(0x194))_0x3a29ef[_0x306078(0x1a8)]('analysis.health.lastCheck',{'val':new Date()[_0x306078(0x25f)](),'ack':!![]}),_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x21f),{'val':_0x2e6ae6[_0x306078(0x156)][_0x306078(0x1a2)],'ack':!![]});else{if(_0x2e6ae6['type']==='TREND_RESULT')_0x3a29ef[_0x306078(0x1a8)]('analysis.health.trendDiagnosis',{'val':_0x2e6ae6[_0x306078(0x156)]['diagnosis'],'ack':!![]}),_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x197),{'val':_0x2e6ae6['payload'][_0x306078(0x144)],'ack':!![]});else{if(_0x2e6ae6[_0x306078(0x142)]===_0x306078(0x1be)){const {speed_trend:_0x52aecd}=_0x2e6ae6[_0x306078(0x156)];if(_0x52aecd!==undefined)_0x3a29ef['setStateAsync'](_0x306078(0x2a4),{'val':_0x52aecd,'ack':!![]});}else{if(_0x2e6ae6['type']===_0x306078(0x1ed)){const {forecast:_0x48b76f}=_0x2e6ae6['payload'];if(_0x48b76f)_0x3a29ef['setStateAsync']('analysis.energy.forecast',{'val':JSON[_0x306078(0x28c)](_0x48b76f),'ack':!![]});}else{if(_0x2e6ae6[_0x306078(0x142)]===_0x306078(0x1ee)){const {data:_0x49d5b9}=_0x2e6ae6['payload'];_0x49d5b9&&(_0x3a29ef['log'][_0x306078(0x1f1)](_0x306078(0x168)),_0x3a29ef[_0x306078(0x1a8)](_0x306078(0x20e),{'val':JSON[_0x306078(0x28c)](_0x49d5b9),'ack':!![]}));}}}}}}}}}}}}function startPythonService(_0x19e7c1){const _0x341fc9=a0_0x243d84;let _0x128732=_0x341fc9(0x16e);if(fs['existsSync'](installer['PYTHON_EXE']))_0x128732=installer[_0x341fc9(0x1e6)];try{const _0xb8a651=path[_0x341fc9(0x257)](__dirname,_0x341fc9(0x13c),_0x341fc9(0x1f4));_0x19e7c1[_0x341fc9(0x15b)]=spawn(_0x128732,[_0xb8a651]),_0x19e7c1['pythonProcess'][_0x341fc9(0x215)]['on']('data',_0x48f7c0=>{const _0x32c1aa=_0x341fc9,_0x44830f=_0x48f7c0['toString']()['split']('\x0a');_0x44830f[_0x32c1aa(0x21a)](_0x2200c5=>{const _0x332f25=_0x32c1aa,_0x421e75=_0x2200c5[_0x332f25(0x221)]();if(!_0x421e75)return;if(_0x421e75[_0x332f25(0x160)](_0x332f25(0x246)))_0x19e7c1[_0x332f25(0x14f)][_0x332f25(0x188)](_0x332f25(0x151)+_0x421e75[_0x332f25(0x274)](0x5)[_0x332f25(0x221)]());else{if(_0x421e75['startsWith']('[RESULT]'))try{const _0x59468b=JSON['parse'](_0x421e75[_0x332f25(0x274)](0x8)[_0x332f25(0x221)]());handlePythonResult(_0x19e7c1,_0x59468b);}catch(_0x5a0112){}}});}),_0x19e7c1[_0x341fc9(0x15b)]['on'](_0x341fc9(0x1d3),_0x4d612c=>{const _0x3c4bbd=_0x341fc9;_0x19e7c1[_0x3c4bbd(0x15b)]=null;});}catch(_0x4b74f9){_0x19e7c1[_0x341fc9(0x14f)][_0x341fc9(0x2a8)](_0x341fc9(0x260)+_0x4b74f9['message']);}}async function runAutopilot(_0xa7b08){const _0x2e5ebe=a0_0x243d84;_0xa7b08[_0x2e5ebe(0x14f)][_0x2e5ebe(0x188)](_0x2e5ebe(0x19a)),await runGeminiAnalysis(_0xa7b08),updateHealthVector(_0xa7b08),triggerGaitAnalysis(_0xa7b08),triggerEnergyPrediction(_0xa7b08);}async function triggerGaitAnalysis(_0x5fcfa5){const _0x212815=a0_0x243d84;if(!_0x5fcfa5['isProVersion'])return;try{const _0xfef089=await _0x5fcfa5[_0x212815(0x208)]('LTM.trainingData.sequences');_0xfef089&&_0xfef089[_0x212815(0x2b3)]&&sendToPython(_0x5fcfa5,'ANALYZE_GAIT',{'sequences':JSON[_0x212815(0x1b4)](_0xfef089[_0x212815(0x2b3)])});}catch(_0x25c1dc){}}async function triggerEnergyPrediction(_0xb42fed){const _0x2c7d33=a0_0x243d84;if(!_0xb42fed['isProVersion'])return;try{const _0xadbfc=await getOutsideTemperatureNumeric(_0xb42fed);if(_0xadbfc===null)return;const _0x4c9469={},_0x2de3f9=_0xb42fed[_0x2c7d33(0x211)][_0x2c7d33(0x1f5)]||[];for(const _0x8f68ab of _0x2de3f9){if(_0x8f68ab['type']===_0x2c7d33(0x214)&&_0x8f68ab['location']){const _0x4aa064=_0xb42fed[_0x2c7d33(0x1d4)][_0x8f68ab['id']];if(_0x4aa064!==undefined)_0x4c9469[_0x8f68ab[_0x2c7d33(0x140)]]=_0x4aa064;}}Object[_0x2c7d33(0x249)](_0x4c9469)['length']>0x0&&sendToPython(_0xb42fed,_0x2c7d33(0x207),{'current_temps':_0x4c9469,'t_out':_0xadbfc});}catch(_0x290b7c){}}function updateHealthVector(_0xb7ce8b){const _0x4069f5=a0_0x243d84;if(!_0xb7ce8b[_0x4069f5(0x18c)]||_0xb7ce8b[_0x4069f5(0x18c)][_0x4069f5(0x14e)]===0x0)return;const _0xfb5199=new Array(0x60)[_0x4069f5(0x1da)](0x0),_0x134186=new Date()[_0x4069f5(0x17e)](0x0,0x0,0x0,0x0);_0xb7ce8b[_0x4069f5(0x18c)][_0x4069f5(0x21a)](_0x17fb1f=>{const _0x4d673d=_0x4069f5,_0x21e6f5=new Date(_0x17fb1f[_0x4d673d(0x26e)]);if(_0x21e6f5[_0x4d673d(0x1c8)]()>=_0x134186){const _0x533d36=_0x21e6f5[_0x4d673d(0x205)](),_0x2d646e=_0x21e6f5[_0x4d673d(0x2a0)](),_0x5d8bd1=_0x533d36*0x4+Math[_0x4d673d(0x1e0)](_0x2d646e/0xf);if(_0x5d8bd1>=0x0&&_0x5d8bd1<0x60)_0xfb5199[_0x5d8bd1]++;}}),_0xb7ce8b[_0x4069f5(0x1a8)](_0x4069f5(0x159),{'val':JSON[_0x4069f5(0x28c)](_0xfb5199),'ack':!![]});}async function getWeatherContext(_0xfd827f){const _0x3e6beb=a0_0x243d84;if(!_0xfd827f[_0x3e6beb(0x211)][_0x3e6beb(0x1ff)]||!_0xfd827f[_0x3e6beb(0x211)][_0x3e6beb(0x276)])return _0x3e6beb(0x139);try{const _0x50733b=_0xfd827f[_0x3e6beb(0x211)][_0x3e6beb(0x276)];let _0x366367=await _0xfd827f[_0x3e6beb(0x228)](_0x50733b+_0x3e6beb(0x196));if(!_0x366367)_0x366367=await _0xfd827f[_0x3e6beb(0x228)](_0x50733b+_0x3e6beb(0x17f));let _0x1cc8f1=await _0xfd827f[_0x3e6beb(0x228)](_0x50733b+_0x3e6beb(0x141));if(!_0x1cc8f1)_0x1cc8f1=await _0xfd827f[_0x3e6beb(0x228)](_0x50733b+_0x3e6beb(0x292));if(_0x366367&&_0x1cc8f1)return _0x366367[_0x3e6beb(0x2b3)]+_0x3e6beb(0x165)+_0x1cc8f1[_0x3e6beb(0x2b3)];}catch(_0x296632){}return _0x3e6beb(0x288);}async function getCalendarContext(_0x1ca134){const _0x5ef174=a0_0x243d84;if(!_0x1ca134[_0x5ef174(0x211)]['useCalendar']||!_0x1ca134[_0x5ef174(0x211)][_0x5ef174(0x284)])return'Kalender\x20deaktiviert.';return'Keine\x20Termine.';}async function getCalendarNames(_0x42b869,_0x3da016){return[];}async function saveFeedback(_0x97b1b7,_0x30eb0b){const _0x3c2d51=a0_0x243d84;_0x97b1b7['log'][_0x3c2d51(0x1f1)](_0x3c2d51(0x19b)+_0x30eb0b[_0x3c2d51(0x277)]);}async function runGeminiAnalysis(_0x4efe85,_0x3d32fa=''){const _0x4f8039=a0_0x243d84;if(!_0x4efe85['geminiModel'])return;if(_0x4efe85[_0x4f8039(0x192)][_0x4f8039(0x14e)]===0x0)return;const _0x52232f=_0x4efe85['eventHistory'][_0x4f8039(0x22b)](0x0,0xf),_0x51b1eb=await getWeatherContext(_0x4efe85),_0x658906=_0x4efe85[_0x4f8039(0x21b)],_0xc16e29=PERSONA_MAPPING[_0x4efe85['config'][_0x4f8039(0x27e)]||_0x4f8039(0x248)],_0x25c557=_0x4efe85['config']['livingContext']||_0x4f8039(0x29c);let _0x6a9152='Unbekannt';try{const _0x1dccea=await _0x4efe85[_0x4f8039(0x208)](_0x4f8039(0x2ca));if(_0x1dccea&&_0x1dccea[_0x4f8039(0x2b3)])_0x6a9152=_0x1dccea['val'];}catch(_0x4031d9){}let _0x130436=![];try{const _0x51e3c5=await _0x4efe85[_0x4f8039(0x208)]('analysis.automation.autoApply');if(_0x51e3c5&&_0x51e3c5['val'])_0x130436=!![];}catch(_0x200e7e){}const _0x5c6364=_0x4f8039(0x290)+_0xc16e29+'.\x20KONTEXT:\x20'+_0x25c557+_0x4f8039(0x1c9)+_0x658906+'.\x20WETTER:\x20'+_0x51b1eb+_0x4f8039(0x2c8)+_0x6a9152+_0x4f8039(0x287)+JSON['stringify'](_0x52232f)+_0x4f8039(0x175)+_0x3d32fa+_0x4f8039(0x15d);try{const _0x33bff4=await _0x4efe85['geminiModel'][_0x4f8039(0x1b7)](_0x5c6364),_0x2693ce=JSON[_0x4f8039(0x1b4)](_0x33bff4[_0x4f8039(0x22c)][_0x4f8039(0x149)]()['replace'](/```json|```/g,'')['trim']());await _0x4efe85[_0x4f8039(0x1a8)](_0x4f8039(0x1df),{'val':JSON[_0x4f8039(0x28c)](_0x2693ce),'ack':!![]});if(_0x2693ce[_0x4f8039(0x1d1)])await _0x4efe85['setStateAsync']('analysis.activitySummary',{'val':_0x2693ce['summary'],'ack':!![]});const _0x291357={'timestamp':Date[_0x4f8039(0x199)](),'id':Date['now']()[_0x4f8039(0x1cd)](),'analysis':{'activity':{'summary':_0x2693ce[_0x4f8039(0x1d1)],'isAlert':_0x2693ce['isAlert'],'alertReason':_0x2693ce[_0x4f8039(0x25d)]},'comfort':{'automationProposal':_0x2693ce[_0x4f8039(0x219)]}}};await updateAnalysisHistory(_0x4efe85,_0x291357);const _0x1cbb63=_0x2693ce['isAlert']||![];_0x1cbb63!==_0x4efe85[_0x4f8039(0x2a1)]&&(await _0x4efe85[_0x4f8039(0x1a8)](_0x4f8039(0x1c7),{'val':_0x1cbb63,'ack':!![]}),_0x4efe85[_0x4f8039(0x2a1)]=_0x1cbb63,_0x1cbb63&&(await _0x4efe85[_0x4f8039(0x1a8)](_0x4f8039(0x235),{'val':_0x2693ce[_0x4f8039(0x25d)],'ack':!![]}),sendNotification(_0x4efe85,'âš ï¸\x20ALARM:\x20'+_0x2693ce[_0x4f8039(0x25d)],![],_0x2693ce[_0x4f8039(0x2ad)])));if(_0x2693ce[_0x4f8039(0x219)]&&_0x2693ce[_0x4f8039(0x219)][_0x4f8039(0x1d9)]){await _0x4efe85[_0x4f8039(0x1a8)](_0x4f8039(0x27c),{'val':!![],'ack':!![]}),await _0x4efe85[_0x4f8039(0x1a8)](_0x4f8039(0x21e),{'val':_0x2693ce[_0x4f8039(0x219)]['description'],'ack':!![]}),await _0x4efe85[_0x4f8039(0x1a8)](_0x4f8039(0x1a3),{'val':_0x2693ce['automationProposal'][_0x4f8039(0x1f8)],'ack':!![]}),await _0x4efe85[_0x4f8039(0x1a8)](_0x4f8039(0x1a5),{'val':JSON[_0x4f8039(0x28c)](_0x2693ce[_0x4f8039(0x219)]['targetValue']),'ack':!![]});if(_0x130436)executeAutomationAction(_0x4efe85);}}catch(_0x3b0427){_0x4efe85[_0x4f8039(0x14f)][_0x4f8039(0x2a8)](_0x4f8039(0x13b)+_0x3b0427[_0x4f8039(0x2a9)]);}}async function startSystem(_0xf56ca7){const _0x1a4eda=a0_0x243d84;_0xf56ca7[_0x1a4eda(0x14f)][_0x1a4eda(0x1f1)](_0x1a4eda(0x293)),await initZombies(_0xf56ca7);try{_0xf56ca7['isProVersion']=await checkLicense(_0xf56ca7[_0x1a4eda(0x211)][_0x1a4eda(0x1ec)]);}catch(_0x5de81a){}if(!_0xf56ca7[_0x1a4eda(0x211)][_0x1a4eda(0x218)]||_0xf56ca7['config']['inactivityThresholdHours']<0.1)_0xf56ca7[_0x1a4eda(0x211)][_0x1a4eda(0x218)]=0xc;await initHistory(_0xf56ca7),await initSystemConfig(_0xf56ca7);if(_0xf56ca7[_0x1a4eda(0x211)]['geminiApiKey'])try{_0xf56ca7[_0x1a4eda(0x29e)]=new GoogleGenerativeAI(_0xf56ca7[_0x1a4eda(0x211)]['geminiApiKey']),_0xf56ca7[_0x1a4eda(0x1b2)]=_0xf56ca7[_0x1a4eda(0x29e)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x1a4eda(0x195)}}),_0xf56ca7[_0x1a4eda(0x14f)]['info']('Gemini\x20AI\x20initialized.');}catch(_0x22808a){_0xf56ca7[_0x1a4eda(0x14f)][_0x1a4eda(0x2a8)](_0x1a4eda(0x15a)+_0x22808a[_0x1a4eda(0x2a9)]);}await createAllObjects(_0xf56ca7),await loadSystemMode(_0xf56ca7),await loadRawEventLog(_0xf56ca7),await loadDailyDigests(_0xf56ca7),_0xf56ca7[_0x1a4eda(0x1af)](_0x1a4eda(0x251)),_0xf56ca7[_0x1a4eda(0x1af)](LTM_DP_TRIGGER_DIGEST),_0xf56ca7[_0x1a4eda(0x1af)]('system.mode'),_0xf56ca7[_0x1a4eda(0x1af)](_0x1a4eda(0x1b9)),_0xf56ca7['subscribeStates'](_0x1a4eda(0x27b)),_0xf56ca7[_0x1a4eda(0x1af)]('analysis.automation.autoApply'),_0xf56ca7[_0x1a4eda(0x1af)](_0x1a4eda(0x17a)),_0xf56ca7['subscribeStates'](_0x1a4eda(0x23a)),_0xf56ca7[_0x1a4eda(0x1af)](_0x1a4eda(0x153)),_0xf56ca7[_0x1a4eda(0x1af)]('analysis.training.triggerComfort'),_0xf56ca7[_0x1a4eda(0x1af)](_0x1a4eda(0x1d8)),await initSensorSubscriptions(_0xf56ca7),await initPresenceSubscriptions(_0xf56ca7),await setupTelegramListener(_0xf56ca7),setTimeout(()=>checkWifiPresence(_0xf56ca7),0x1388);if(_0xf56ca7[_0x1a4eda(0x202)])clearInterval(_0xf56ca7[_0x1a4eda(0x202)]);const _0xf639e6=_0xf56ca7[_0x1a4eda(0x211)][_0x1a4eda(0x294)]||0xf;_0xf639e6>0x0&&(_0xf56ca7[_0x1a4eda(0x202)]=setInterval(()=>{runAutopilot(_0xf56ca7);},_0xf639e6*0x3c*0x3e8)),schedulers[_0x1a4eda(0x2bc)](_0xf56ca7,()=>createDailyDigest(_0xf56ca7)),schedulers['setupModeResetScheduler'](_0xf56ca7),schedulers[_0x1a4eda(0x146)](_0xf56ca7,()=>runBaselineDriftAnalysis(_0xf56ca7)),schedulers[_0x1a4eda(0x2c4)](_0xf56ca7,()=>sendMorningBriefing(_0xf56ca7)),startPythonService(_0xf56ca7),setTimeout(()=>{_0xf56ca7['pythonProcess']&&(runPythonHealthCheck(_0xf56ca7),triggerGaitAnalysis(_0xf56ca7),triggerEnergyPrediction(_0xf56ca7)),updateHealthVector(_0xf56ca7);},0x1388);}class CogniLiving extends utils[a0_0x243d84(0x243)]{constructor(_0x37e9ac){const _0x3b913a=a0_0x243d84;super({..._0x37e9ac,'name':_0x3b913a(0x14d)}),this[_0x3b913a(0x192)]=[],this[_0x3b913a(0x28f)]=[],this[_0x3b913a(0x18c)]=[],this[_0x3b913a(0x167)]=[],this[_0x3b913a(0x1d4)]={},this[_0x3b913a(0x1e4)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x3b913a(0x1a6)]=null,this[_0x3b913a(0x161)]=null,this['isGracePeriodActive']=![],this['genAI']=null,this[_0x3b913a(0x1b2)]=null,this[_0x3b913a(0x21b)]=SYSTEM_MODES['NORMAL'],this[_0x3b913a(0x231)]=![],this[_0x3b913a(0x2a1)]=![],this[_0x3b913a(0x201)]='unknown',this['analysisTimer']=null,this[_0x3b913a(0x270)]=null,this[_0x3b913a(0x23f)]=null,this[_0x3b913a(0x256)]=null,this[_0x3b913a(0x2b7)]=null,this['pythonProcess']=null,this[_0x3b913a(0x26c)]=![],this['on'](_0x3b913a(0x2a2),this[_0x3b913a(0x22a)]['bind'](this)),this['on']('stateChange',this[_0x3b913a(0x210)][_0x3b913a(0x152)](this)),this['on']('unload',this[_0x3b913a(0x17c)][_0x3b913a(0x152)](this)),this['on'](_0x3b913a(0x2a9),this[_0x3b913a(0x25a)][_0x3b913a(0x152)](this));}async[a0_0x243d84(0x22a)](){const _0x33c5f4=a0_0x243d84;this[_0x33c5f4(0x14f)][_0x33c5f4(0x1f1)](_0x33c5f4(0x247)+this[_0x33c5f4(0x278)]+_0x33c5f4(0x16c));if(!installer[_0x33c5f4(0x2bf)](this,()=>startSystem(this)))return;}[a0_0x243d84(0x17c)](_0x356045){const _0x5ba5ae=a0_0x243d84;if(this[_0x5ba5ae(0x202)])clearInterval(this[_0x5ba5ae(0x202)]);if(this[_0x5ba5ae(0x256)])clearInterval(this[_0x5ba5ae(0x256)]);if(this[_0x5ba5ae(0x270)])this[_0x5ba5ae(0x270)][_0x5ba5ae(0x2cb)]();if(this['modeResetJob'])this[_0x5ba5ae(0x23f)]['cancel']();if(this['briefingJob'])this[_0x5ba5ae(0x2b7)]['cancel']();if(this[_0x5ba5ae(0x1a6)])clearTimeout(this['exitTimer']);if(this['exitGraceTimer'])clearTimeout(this[_0x5ba5ae(0x161)]);stopPythonService(this),_0x356045();}async[a0_0x243d84(0x210)](_0x3eb9a6,_0x32ccf9){const _0x12541a=a0_0x243d84;if(!_0x32ccf9||this[_0x12541a(0x26c)])return;if(_0x3eb9a6['includes'](_0x12541a(0x216))&&_0x3eb9a6[_0x12541a(0x223)](_0x12541a(0x267))&&_0x32ccf9['val']){await handleTelegramResponse(this,_0x32ccf9['val']);return;}if(_0x3eb9a6===this[_0x12541a(0x1b1)]+'.'+SYSTEM_DP_MODE){if(_0x32ccf9[_0x12541a(0x2b3)]&&Object[_0x12541a(0x1bb)](SYSTEM_MODES)[_0x12541a(0x232)](_0x32ccf9['val'])){this[_0x12541a(0x21b)]=_0x32ccf9[_0x12541a(0x2b3)];if(_0x32ccf9[_0x12541a(0x2b3)]===SYSTEM_MODES['VACATION'])await setPresence(this,![]);else await setPresence(this,!![]);}if(!_0x32ccf9[_0x12541a(0x1c1)])this[_0x12541a(0x1ef)](_0x3eb9a6,{'val':this[_0x12541a(0x21b)],'ack':!![]});return;}if(!_0x32ccf9[_0x12541a(0x1c1)]){_0x3eb9a6[_0x12541a(0x232)](_0x12541a(0x251))&&_0x32ccf9[_0x12541a(0x2b3)]&&(this[_0x12541a(0x1ef)](_0x3eb9a6,{'val':![],'ack':!![]}),runGeminiAnalysis(this));if(_0x3eb9a6[_0x12541a(0x232)](_0x12541a(0x1fe))&&_0x32ccf9[_0x12541a(0x2b3)]){this[_0x12541a(0x1ef)](_0x3eb9a6,{'val':![],'ack':!![]});if(this[_0x12541a(0x231)])createDailyDigest(this);}_0x3eb9a6[_0x12541a(0x232)](_0x12541a(0x1ce))&&_0x32ccf9['val']&&(this[_0x12541a(0x1ef)](_0x3eb9a6,{'val':![],'ack':!![]}),sendMorningBriefing(this));_0x3eb9a6['includes'](_0x12541a(0x1fd))&&_0x32ccf9[_0x12541a(0x2b3)]&&(this[_0x12541a(0x1ef)](_0x3eb9a6,{'val':![],'ack':!![]}),executeAutomationAction(this));if(_0x3eb9a6[_0x12541a(0x232)](_0x12541a(0x17a))&&_0x32ccf9['val']){this['setState'](_0x3eb9a6,{'val':![],'ack':!![]});if(this[_0x12541a(0x231)])try{const _0x43976b=await this[_0x12541a(0x208)](_0x12541a(0x150));if(_0x43976b&&_0x43976b[_0x12541a(0x2b3)]){const _0x125caa=JSON[_0x12541a(0x1b4)](_0x43976b[_0x12541a(0x2b3)]);this[_0x12541a(0x14f)][_0x12541a(0x1f1)](_0x12541a(0x227)),this[_0x12541a(0x1a8)](_0x12541a(0x15e),{'val':_0x12541a(0x1c0),'ack':!![]}),sendToPython(this,_0x12541a(0x234),{'sequences':_0x125caa});}}catch(_0x298b96){this['log']['error'](_0x12541a(0x1cf)+_0x298b96[_0x12541a(0x2a9)]);}}if(_0x3eb9a6['includes'](_0x12541a(0x23a))&&_0x32ccf9[_0x12541a(0x2b3)]){this['setState'](_0x3eb9a6,{'val':![],'ack':!![]});if(this[_0x12541a(0x231)])try{const _0x4f9451=await this[_0x12541a(0x208)](LTM_DP_DAILY_DIGESTS);if(_0x4f9451&&_0x4f9451[_0x12541a(0x2b3)])sendToPython(this,'TRAIN_HEALTH',{'digests':JSON[_0x12541a(0x1b4)](_0x4f9451[_0x12541a(0x2b3)])});}catch(_0x1adc44){}}if(_0x3eb9a6[_0x12541a(0x232)]('analysis.training.triggerEnergy')&&_0x32ccf9['val']){this[_0x12541a(0x1ef)](_0x3eb9a6,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x5b1f2d=await this[_0x12541a(0x208)](_0x12541a(0x263));if(_0x5b1f2d&&_0x5b1f2d[_0x12541a(0x2b3)])sendToPython(this,_0x12541a(0x24c),{'points':JSON[_0x12541a(0x1b4)](_0x5b1f2d[_0x12541a(0x2b3)])});}catch(_0x5d72c1){}}if(_0x3eb9a6[_0x12541a(0x232)](_0x12541a(0x1aa))&&_0x32ccf9['val']){this[_0x12541a(0x1ef)](_0x3eb9a6,{'val':![],'ack':!![]});if(this[_0x12541a(0x231)])try{const _0x5567a5=await this[_0x12541a(0x208)](LTM_DP_RAW_LOG);_0x5567a5&&_0x5567a5[_0x12541a(0x2b3)]&&(this[_0x12541a(0x14f)][_0x12541a(0x1f1)]('ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...'),sendToPython(this,_0x12541a(0x2cc),{'events':JSON[_0x12541a(0x1b4)](_0x5567a5[_0x12541a(0x2b3)])}));}catch(_0x2ea11d){}}if(_0x3eb9a6[_0x12541a(0x232)]('analysis.training.triggerTopology')&&_0x32ccf9['val']){this['setState'](_0x3eb9a6,{'val':![],'ack':!![]});if(this[_0x12541a(0x231)])try{const _0x15812a=await this[_0x12541a(0x208)]('LTM.trainingData.sequences');if(_0x15812a&&_0x15812a[_0x12541a(0x2b3)]){const _0x184bbe=JSON['parse'](_0x15812a[_0x12541a(0x2b3)]);this['log']['info'](_0x12541a(0x162)),sendToPython(this,_0x12541a(0x285),{'sequences':_0x184bbe});}}catch(_0x17b10b){this[_0x12541a(0x14f)][_0x12541a(0x2a8)](_0x12541a(0x1cb)+_0x17b10b['message']);}}return;}if(this[_0x12541a(0x211)][_0x12541a(0x1eb)]&&this[_0x12541a(0x211)]['presenceDevices']['includes'](_0x3eb9a6)){await checkWifiPresence(this);return;}const _0x1dbc8f=(this[_0x12541a(0x211)][_0x12541a(0x1f5)]||[])[_0x12541a(0x261)](_0x4037dd=>_0x4037dd['id']===_0x3eb9a6);if(_0x1dbc8f)processSensorEvent(this,_0x3eb9a6,_0x32ccf9,_0x1dbc8f);}async[a0_0x243d84(0x25a)](_0x1d01fa){const _0x162aac=a0_0x243d84;if(typeof _0x1d01fa===_0x162aac(0x252)&&_0x1d01fa['message']){if(_0x1d01fa['command']==='testApiKey'){const _0x2998c5=_0x1d01fa[_0x162aac(0x2a9)]['apiKey']||this['config'][_0x162aac(0x295)];if(!_0x2998c5)return this['sendTo'](_0x1d01fa['from'],_0x1d01fa[_0x162aac(0x229)],{'success':![],'message':_0x162aac(0x1a7)},_0x1d01fa[_0x162aac(0x189)]);try{const _0x39b10b=new GoogleGenerativeAI(_0x2998c5),_0x2cb880=_0x39b10b['getGenerativeModel']({'model':GEMINI_MODEL}),_0x27b654=await _0x2cb880[_0x162aac(0x1b7)]('Hi');this['sendTo'](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa['command'],{'success':!![],'message':_0x162aac(0x2bb)+_0x27b654[_0x162aac(0x22c)][_0x162aac(0x149)]()},_0x1d01fa['callback']);}catch(_0x1305f7){this['sendTo'](_0x1d01fa['from'],_0x1d01fa['command'],{'success':![],'message':_0x162aac(0x15c)+_0x1305f7[_0x162aac(0x2a9)]},_0x1d01fa['callback']);}}else{if(_0x1d01fa[_0x162aac(0x229)]===_0x162aac(0x259)){const _0x55acf4=await getWeatherContext(this),_0xa10446=await getCalendarContext(this);this[_0x162aac(0x14b)](_0x1d01fa['from'],_0x1d01fa[_0x162aac(0x229)],{'success':!![],'weather':_0x55acf4,'calendar':_0xa10446},_0x1d01fa[_0x162aac(0x189)]);}else{if(_0x1d01fa[_0x162aac(0x229)]===_0x162aac(0x238)){if(!this[_0x162aac(0x231)])return this[_0x162aac(0x14b)](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa[_0x162aac(0x229)],{'success':![],'isPro':![]},_0x1d01fa['callback']);let _0x4b833e={'status':_0x162aac(0x13e)};try{const _0x5dc14a=await this['getStateAsync'](LTM_DP_DRIFT_STATUS);_0x4b833e[_0x162aac(0x2af)]=_0x5dc14a?_0x5dc14a['val']:_0x162aac(0x13e);}catch(_0x20ebcd){}this[_0x162aac(0x14b)](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa[_0x162aac(0x229)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x162aac(0x167)],'driftAnalysis':_0x4b833e,'analysisHistory':this[_0x162aac(0x28f)]},_0x1d01fa[_0x162aac(0x189)]);}else{if(_0x1d01fa[_0x162aac(0x229)]===_0x162aac(0x21d)){const _0x351e8e=this[_0x162aac(0x167)][_0x162aac(0x14e)],_0x2a7cc7=new Date(),_0x3f814c=new Date(_0x2a7cc7['getFullYear'](),_0x2a7cc7[_0x162aac(0x279)](),_0x2a7cc7[_0x162aac(0x2c3)]())[_0x162aac(0x1c8)](),_0x3bb9f3=this[_0x162aac(0x18c)]['filter'](_0x33ebe2=>new Date(_0x33ebe2[_0x162aac(0x26e)])[_0x162aac(0x1c8)]()>_0x3f814c)[_0x162aac(0x14e)],_0x7b9ea4=new Array(0x18)[_0x162aac(0x1da)](0x0);this[_0x162aac(0x18c)][_0x162aac(0x21a)](_0xa455c7=>{const _0x44c5f2=_0x162aac,_0x1c2e67=new Date(_0xa455c7[_0x44c5f2(0x26e)]);if(_0x1c2e67[_0x44c5f2(0x1c8)]()>_0x3f814c)_0x7b9ea4[_0x1c2e67['getHours']()]++;});let _0x34a74={'status':_0x162aac(0x13e)};try{const _0x396eed=await this[_0x162aac(0x208)](LTM_DP_DRIFT_STATUS);_0x34a74[_0x162aac(0x2af)]=_0x396eed?_0x396eed[_0x162aac(0x2b3)]:_0x162aac(0x13e);}catch(_0x508d71){}let _0x410872='';try{const _0x2cb662=await this[_0x162aac(0x208)]('system.presenceWho');_0x410872=_0x2cb662?_0x2cb662[_0x162aac(0x2b3)]:'';}catch(_0x1f7d35){}let _0x97192a=null;!this[_0x162aac(0x1b2)]&&(_0x97192a=this['config'][_0x162aac(0x295)]?_0x162aac(0x23e):_0x162aac(0x16a));let _0x485f49={'detected':![],'description':'','targetId':'','targetValue':'','autoApply':![]};try{const _0x16ab13=await this[_0x162aac(0x208)](_0x162aac(0x27c));if(_0x16ab13&&_0x16ab13[_0x162aac(0x2b3)]){_0x485f49[_0x162aac(0x1d9)]=!![];const _0x34f5e5=await this[_0x162aac(0x208)](_0x162aac(0x21e));_0x485f49[_0x162aac(0x28e)]=_0x34f5e5?_0x34f5e5[_0x162aac(0x2b3)]:'';const _0x25ee70=await this['getStateAsync'](_0x162aac(0x1a3));_0x485f49[_0x162aac(0x1f8)]=_0x25ee70?_0x25ee70[_0x162aac(0x2b3)]:'';const _0x5b8e4=await this['getStateAsync'](_0x162aac(0x1a5));_0x485f49[_0x162aac(0x282)]=_0x5b8e4?_0x5b8e4[_0x162aac(0x2b3)]:'';}const _0x5d359d=await this[_0x162aac(0x208)](_0x162aac(0x1b8));_0x485f49['autoApply']=_0x5d359d?!!_0x5d359d[_0x162aac(0x2b3)]:![];}catch(_0x1646e2){}this[_0x162aac(0x14b)](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa['command'],{'success':!![],'eventHistory':this[_0x162aac(0x192)][_0x162aac(0x22b)](0x0,0xf),'stats':{'digestCount':_0x351e8e,'eventCountToday':_0x3bb9f3,'hourlyActivity':_0x7b9ea4,'driftStatus':_0x34a74['status'],'isPresent':this['isPresent'],'presenceWho':_0x410872,'minDays':this[_0x162aac(0x211)][_0x162aac(0x1c6)]||0x7,'stbDays':this[_0x162aac(0x211)][_0x162aac(0x2ba)]||0xe,'ltbDays':this[_0x162aac(0x211)][_0x162aac(0x2c1)]||0x3c,'systemError':_0x97192a},'automation':_0x485f49},_0x1d01fa['callback']);}else{if(_0x1d01fa[_0x162aac(0x229)]===_0x162aac(0x20b))try{const _0x40972d=await scanner['scanForDevices'](this,_0x1d01fa[_0x162aac(0x2a9)]||{});this[_0x162aac(0x14b)](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa[_0x162aac(0x229)],{'success':!![],'devices':_0x40972d},_0x1d01fa['callback']);}catch(_0x25f1a6){this[_0x162aac(0x14b)](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa[_0x162aac(0x229)],{'success':![],'error':_0x25f1a6[_0x162aac(0x2a9)]},_0x1d01fa[_0x162aac(0x189)]);}else{if(_0x1d01fa[_0x162aac(0x229)]==='getEnums'){const _0x22f2ba=await this[_0x162aac(0x16b)]('enum.functions.*',_0x162aac(0x193)),_0x385f6f=[];if(_0x22f2ba)for(const _0x4b77e2 in _0x22f2ba){const _0x417877=_0x22f2ba[_0x4b77e2],_0x37c4b1=(_0x417877[_0x162aac(0x1b3)]&&typeof _0x417877[_0x162aac(0x1b3)][_0x162aac(0x164)]===_0x162aac(0x252)?_0x417877[_0x162aac(0x1b3)]['name']['de']:_0x417877[_0x162aac(0x1b3)][_0x162aac(0x164)])||_0x417877[_0x162aac(0x1b3)]['name'];_0x385f6f[_0x162aac(0x265)]({'id':_0x4b77e2,'name':_0x37c4b1});}const _0x230e65=await this['getForeignObjectsAsync']('enum.rooms.*',_0x162aac(0x193)),_0x15bb2c=[];if(_0x230e65)for(const _0x5e16b1 in _0x230e65){const _0x505146=_0x230e65[_0x5e16b1],_0x20f04b=(_0x505146[_0x162aac(0x1b3)]&&typeof _0x505146['common'][_0x162aac(0x164)]===_0x162aac(0x252)?_0x505146['common'][_0x162aac(0x164)]['de']:_0x505146[_0x162aac(0x1b3)][_0x162aac(0x164)])||_0x5e16b1[_0x162aac(0x183)]('.')['pop']();_0x15bb2c[_0x162aac(0x265)](_0x20f04b);}this['sendTo'](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa[_0x162aac(0x229)],{'success':!![],'enums':_0x385f6f,'rooms':_0x15bb2c},_0x1d01fa['callback']);}else{if(_0x1d01fa[_0x162aac(0x229)]==='getCalendarNames'){const _0x22a2a1=_0x1d01fa[_0x162aac(0x2a9)][_0x162aac(0x2ac)];if(!_0x22a2a1)return this['sendTo'](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa[_0x162aac(0x229)],{'success':![],'error':_0x162aac(0x166)},_0x1d01fa[_0x162aac(0x189)]);const _0x5ddf3d=await getCalendarNames(this,_0x22a2a1);this['sendTo'](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa[_0x162aac(0x229)],{'success':!![],'names':_0x5ddf3d},_0x1d01fa[_0x162aac(0x189)]);}else{if(_0x1d01fa[_0x162aac(0x229)]===_0x162aac(0x20d)){const {targetId:_0x26a65a,targetValue:_0x44a907}=_0x1d01fa[_0x162aac(0x2a9)];this['log'][_0x162aac(0x1f1)]('ðŸ§ª\x20Simulating\x20Butler\x20Proposal:\x20'+_0x26a65a+'\x20=\x20'+_0x44a907),await this[_0x162aac(0x1a8)](_0x162aac(0x27c),{'val':!![],'ack':!![]}),await this[_0x162aac(0x1a8)](_0x162aac(0x21e),{'val':_0x162aac(0x289)+_0x26a65a,'ack':!![]}),await this[_0x162aac(0x1a8)](_0x162aac(0x1a3),{'val':_0x26a65a,'ack':!![]}),await this['setStateAsync'](_0x162aac(0x1a5),{'val':_0x44a907,'ack':!![]}),this[_0x162aac(0x14b)](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa['command'],{'success':!![]},_0x1d01fa['callback']);}else{if(_0x1d01fa[_0x162aac(0x229)]===_0x162aac(0x27f)){const {historyId:_0x5634f4,rating:_0x24d4a1,comment:_0x877b33,alertReason:_0x3aaa8d}=_0x1d01fa[_0x162aac(0x2a9)];_0x5634f4&&_0x24d4a1?(await saveFeedback(this,{'timestamp':Date[_0x162aac(0x199)](),'historyId':_0x5634f4,'rating':_0x24d4a1,'comment':_0x877b33,'alertReason':_0x3aaa8d}),this[_0x162aac(0x14b)](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa[_0x162aac(0x229)],{'success':!![]},_0x1d01fa[_0x162aac(0x189)])):this[_0x162aac(0x14b)](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa['command'],{'success':![],'error':_0x162aac(0x1c3)},_0x1d01fa[_0x162aac(0x189)]);}else _0x1d01fa[_0x162aac(0x229)]===_0x162aac(0x1c4)&&(this[_0x162aac(0x14f)][_0x162aac(0x1f1)](_0x162aac(0x24e)),await this[_0x162aac(0x1a8)](_0x162aac(0x27c),{'val':![],'ack':!![]}),await this[_0x162aac(0x1a8)](_0x162aac(0x21e),{'val':'','ack':!![]}),this[_0x162aac(0x14b)](_0x1d01fa[_0x162aac(0x244)],_0x1d01fa[_0x162aac(0x229)],{'success':!![]},_0x1d01fa[_0x162aac(0x189)]));}}}}}}}}}}}if(require[a0_0x243d84(0x258)]!==module)module['exports']=_0x596e6e=>new CogniLiving(_0x596e6e);else new CogniLiving();