function a0_0x24d0(){const _0x15f43f=['systemConfig','command','response',')\x20-\x20Phase\x20C\x20(Hardened)','onReady','createDailyDigest','./lib/scanner','stateChange','split','matrix','Test','floor','join','communicate.request','ANALYZE_TREND','PYTHON_EXE','debug','analysis.training.triggerComfort','SET_TOPOLOGY','setHours','LTM.trainingData.sequences','ready','system.presenceWho','getGenerativeModel','includes','updateLocation','forEach','getStateAsync','WiFi\x20Presence\x20detected.','telegram','SYSTEM_MODES','initHistory','sensorLastValues','setupBriefingScheduler','send','activityLevel','analysis.training.triggerEnergy','(((.+)+)+)+$','timestamp','application/json','apiKey','common','scanDevices','setPresence','@iobroker/adapter-core','analysisInterval','Fehler:\x20','system.adapter.','notifyTelegramInstance','startSystem','Kein\x20Kalender-Adapter','3672725sHKSwi','_calName','runAutopilot','Kein\x20API\x20Key\x20Ã¼bergeben','./lib/dead_man','PREDICT_ENERGY','LTM.rawEventLog','testApiKey','callback','modeResetJob','rawEventLog','isProVersion','info','scanForDevices','exitGraceTimer','eventHistory','search','TRAIN_SECURITY','@google/generative-ai','inactivityThresholdHours','triggerBriefing','Notification\x20Test\x20Failed:\x20','./lib/ai_agent','parse','analysis.automation.autoApply','Sec-Training\x20started...','Keine\x20Antwort\x20von\x20Gemini','toLowerCase','setupDriftAnalysisScheduler','735063mvzJNo','LTM.baselineStatus','slice','Lernphase\x20(','162813wjQVvn','getState','pop','createAllObjects','exports','enum','getMinutes','.communicate.request','triggerEnergyPrediction','cancel','getEnums','initZombies','onMessage','./lib/python_bridge','generateContent','values','message','minDaysForBaseline','analysis.training.triggerSecurity','type','Daten\x20nicht\x20verfÃ¼gbar','map','getHours','ltmJob','text','object','analysis.training.triggerTopology','config','analysis.triggerBriefing','updateTopologyMatrix','exitTimer','temperature','170070WLPIar','location','analysis.trigger','70822SnGyss','briefingJob','length','15SjBstl','onStateChange','bind','presenceDevices','dailyDigests','TRAIN_HEALTH','subscribeStates','.data.table','from','triggerDailyDigest','Adapter','unload','ack','setState','devices','getForeignObjectAsync','startService','Activity-Level','name','updateHealthVector','isGracePeriodActive','analysis.topology.structure','sendNotification','Gesendet','notifyTelegramEnabled','runPythonHealthCheck','./lib/topology','checkWifiPresence','genAI','TRAIN_COMFORT','lastAlertState','./lib/setup','isArray','6930054zPpJDr','sendMorningBriefing','instance','fill','cogni-living\x20adapter\x20starting\x20(v','enum.rooms.*','sendTo','2320916TFmJoG','add','motion','driftAnalysisTimer','loadSystemMode','LTM.triggerDailyDigest','onUnload','ANALYZE_GAIT','version','Verbindung\x20erfolgreich!','executeAutomationAction','Aktiv\x20(','getForeignObjectsAsync','SYSTEM_DP_MODE','val','analysisTimer','.system.mode','isPresent','300acMNQA','geminiApiKey','constructor','main','getOutsideTemperatureNumeric','Standard','currentSystemMode','automation.triggerAction','setStateAsync','abortExitTimer','8YaYLri','triggerGaitAnalysis','find','stringify','initSystemConfig','getTime','TRAIN_ENERGY','\x20Tage)','log','subscribeForeignStatesAsync','calendarName','analysisHistory','analysis.training.triggerHealth','toString','NORMAL','namespace','LTM.dailyDigests','getForeignStateAsync','dependencyInstallInProgress','enum.functions.*','push','getLtmData','./lib/scheduler','updateTopology','stopService'];a0_0x24d0=function(){return _0x15f43f;};return a0_0x24d0();}const a0_0x346ab6=a0_0xb912;(function(_0x461bb7,_0x22e513){const _0x1bd035=a0_0xb912,_0x1fe381=_0x461bb7();while(!![]){try{const _0x145bb2=parseInt(_0x1bd035(0x13e))/0x1+parseInt(_0x1bd035(0x165))/0x2*(parseInt(_0x1bd035(0x168))/0x3)+-parseInt(_0x1bd035(0x190))/0x4+parseInt(_0x1bd035(0x1f8))/0x5+-parseInt(_0x1bd035(0x1a2))/0x6*(parseInt(_0x1bd035(0x142))/0x7)+-parseInt(_0x1bd035(0x1ac))/0x8*(-parseInt(_0x1bd035(0x189))/0x9)+parseInt(_0x1bd035(0x162))/0xa;if(_0x145bb2===_0x22e513)break;else _0x1fe381['push'](_0x1fe381['shift']());}catch(_0x14bb6b){_0x1fe381['push'](_0x1fe381['shift']());}}}(a0_0x24d0,0xa8941));const a0_0x397e2a=(function(){let _0x2456d4=!![];return function(_0x464f96,_0xc87d3b){const _0x24f7ca=_0x2456d4?function(){if(_0xc87d3b){const _0xc64862=_0xc87d3b['apply'](_0x464f96,arguments);return _0xc87d3b=null,_0xc64862;}}:function(){};return _0x2456d4=![],_0x24f7ca;};}()),a0_0x508e1f=a0_0x397e2a(this,function(){const _0x463ea4=a0_0xb912;return a0_0x508e1f[_0x463ea4(0x1b9)]()['search']('(((.+)+)+)+$')[_0x463ea4(0x1b9)]()[_0x463ea4(0x1a4)](a0_0x508e1f)[_0x463ea4(0x208)](_0x463ea4(0x1ea));});a0_0x508e1f();'use strict';const utils=require(a0_0x346ab6(0x1f1)),{GoogleGenerativeAI}=require(a0_0x346ab6(0x20a)),installer=require('./lib/installer'),scanner=require(a0_0x346ab6(0x1cb)),schedulers=require(a0_0x346ab6(0x1c2)),topology=require(a0_0x346ab6(0x182)),setup=require(a0_0x346ab6(0x187)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x346ab6(0x14f)),aiAgent=require(a0_0x346ab6(0x20e)),deadMan=require(a0_0x346ab6(0x1fc)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x346ab6(0x172)]{constructor(_0xb341da){const _0x21d38c=a0_0x346ab6;super({..._0xb341da,'name':'cogni-living'}),this[_0x21d38c(0x207)]=[],this[_0x21d38c(0x1b7)]=[],this[_0x21d38c(0x202)]=[],this[_0x21d38c(0x16c)]=[],this['sensorLastValues']={},this[_0x21d38c(0x1c5)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x21d38c(0x1a1)]=!![],this['exitTimer']=null,this[_0x21d38c(0x206)]=null,this[_0x21d38c(0x17c)]=![],this[_0x21d38c(0x184)]=null,this['geminiModel']=null,this[_0x21d38c(0x1a8)]=setup['SYSTEM_MODES'][_0x21d38c(0x1ba)],this[_0x21d38c(0x203)]=![],this[_0x21d38c(0x186)]=![],this[_0x21d38c(0x19f)]=null,this['ltmJob']=null,this[_0x21d38c(0x201)]=null,this[_0x21d38c(0x193)]=null,this[_0x21d38c(0x166)]=null,this[_0x21d38c(0x1be)]=![],this['on'](_0x21d38c(0x1da),this[_0x21d38c(0x1c9)][_0x21d38c(0x16a)](this)),this['on'](_0x21d38c(0x1cc),this[_0x21d38c(0x169)][_0x21d38c(0x16a)](this)),this['on'](_0x21d38c(0x173),this[_0x21d38c(0x196)][_0x21d38c(0x16a)](this)),this['on'](_0x21d38c(0x152),this[_0x21d38c(0x14e)][_0x21d38c(0x16a)](this));}async[a0_0x346ab6(0x1c9)](){const _0x4be611=a0_0x346ab6;this[_0x4be611(0x1b4)][_0x4be611(0x204)](_0x4be611(0x18d)+this[_0x4be611(0x198)]+_0x4be611(0x1c8));if(!installer['checkAndInstall'](this,()=>this[_0x4be611(0x1f6)]()))return;}async[a0_0x346ab6(0x1f6)](){const _0x3703c6=a0_0x346ab6;await setup[_0x3703c6(0x14d)](this);try{this[_0x3703c6(0x203)]=await setup['checkLicense'](this['config']['licenseKey']);}catch(_0x4141bc){}if(!this[_0x3703c6(0x15d)]['inactivityThresholdHours']||this[_0x3703c6(0x15d)]['inactivityThresholdHours']<0.1)this[_0x3703c6(0x15d)][_0x3703c6(0x20b)]=0xc;await setup[_0x3703c6(0x1e4)](this),await setup[_0x3703c6(0x1b0)](this);if(this[_0x3703c6(0x15d)][_0x3703c6(0x1a3)])try{this[_0x3703c6(0x184)]=new GoogleGenerativeAI(this[_0x3703c6(0x15d)][_0x3703c6(0x1a3)]),this['geminiModel']=this[_0x3703c6(0x184)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3703c6(0x1ec)}}),this[_0x3703c6(0x1b4)][_0x3703c6(0x204)]('Gemini\x20AI\x20initialized.');}catch(_0x410210){this['log']['error']('Gemini\x20Init\x20Error:\x20'+_0x410210[_0x3703c6(0x152)]);}await setup[_0x3703c6(0x145)](this),await this[_0x3703c6(0x194)]();try{const _0x53ce8d=await this[_0x3703c6(0x1e0)](_0x3703c6(0x1fe));if(_0x53ce8d&&_0x53ce8d[_0x3703c6(0x19e)])this[_0x3703c6(0x202)]=JSON['parse'](_0x53ce8d['val']);}catch(_0x18e3f0){this[_0x3703c6(0x202)]=[];}try{const _0x357729=await this[_0x3703c6(0x1e0)](_0x3703c6(0x1bc));if(_0x357729&&_0x357729[_0x3703c6(0x19e)])this[_0x3703c6(0x16c)]=JSON[_0x3703c6(0x20f)](_0x357729['val']);}catch(_0x48a055){this[_0x3703c6(0x16c)]=[];}const _0xcdfd69=this[_0x3703c6(0x16c)][_0x3703c6(0x167)]>=(this['config'][_0x3703c6(0x153)]||0x7)?_0x3703c6(0x19b)+this[_0x3703c6(0x16c)][_0x3703c6(0x167)]+_0x3703c6(0x1b3):_0x3703c6(0x141)+this[_0x3703c6(0x16c)][_0x3703c6(0x167)]+'/'+(this[_0x3703c6(0x15d)][_0x3703c6(0x153)]||0x7)+')';await this[_0x3703c6(0x1aa)](_0x3703c6(0x13f),{'val':_0xcdfd69,'ack':!![]}),this['subscribeStates'](_0x3703c6(0x164)),this[_0x3703c6(0x16e)](_0x3703c6(0x195)),this[_0x3703c6(0x16e)]('system.mode'),this[_0x3703c6(0x16e)](_0x3703c6(0x15e)),this[_0x3703c6(0x16e)]('analysis.automation.triggerAction'),this[_0x3703c6(0x16e)](_0x3703c6(0x210)),this[_0x3703c6(0x16e)](_0x3703c6(0x154)),this[_0x3703c6(0x16e)](_0x3703c6(0x1b8)),this[_0x3703c6(0x16e)](_0x3703c6(0x1e9)),this['subscribeStates'](_0x3703c6(0x1d6)),this[_0x3703c6(0x16e)](_0x3703c6(0x15c));const _0x583ae4=this['config'][_0x3703c6(0x176)];if(_0x583ae4)for(const _0xa984ac of _0x583ae4){await this[_0x3703c6(0x1b5)](_0xa984ac['id']);}const _0x50ee0b=this[_0x3703c6(0x15d)]['presenceDevices'];if(_0x50ee0b)for(const _0x1d06c1 of _0x50ee0b){await this[_0x3703c6(0x1b5)](_0x1d06c1);}if(this[_0x3703c6(0x15d)][_0x3703c6(0x180)]&&this[_0x3703c6(0x15d)][_0x3703c6(0x1f5)])await this[_0x3703c6(0x1b5)](this[_0x3703c6(0x15d)][_0x3703c6(0x1f5)]+_0x3703c6(0x149));setTimeout(()=>this[_0x3703c6(0x183)](),0x1388);if(this[_0x3703c6(0x19f)])clearInterval(this[_0x3703c6(0x19f)]);const _0x33732e=this['config'][_0x3703c6(0x1f2)]||0xf;_0x33732e>0x0&&(this[_0x3703c6(0x19f)]=setInterval(()=>{const _0x367c48=_0x3703c6;this[_0x367c48(0x1fa)]();},_0x33732e*0x3c*0x3e8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x3703c6(0x1ca)](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x3703c6(0x13d)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x3703c6(0x1e6)](this,()=>aiAgent[_0x3703c6(0x18a)](this)),pythonBridge[_0x3703c6(0x178)](this,installer[_0x3703c6(0x1d4)]),setTimeout(async()=>{const _0x3331c4=_0x3703c6;await topology[_0x3331c4(0x1c3)](this);try{const _0x218c82=await this[_0x3331c4(0x1e0)](_0x3331c4(0x17d));if(_0x218c82&&_0x218c82[_0x3331c4(0x19e)])pythonBridge['send'](this,_0x3331c4(0x1d7),JSON[_0x3331c4(0x20f)](_0x218c82['val']));}catch(_0x8fa5b9){}this[_0x3331c4(0x181)](),this[_0x3331c4(0x1ad)](),this['triggerEnergyPrediction'](),this[_0x3331c4(0x17b)]();},0x1388);}[a0_0x346ab6(0x196)](_0x3c6bdb){const _0x5d17ed=a0_0x346ab6;if(this['analysisTimer'])clearInterval(this[_0x5d17ed(0x19f)]);if(this[_0x5d17ed(0x193)])clearInterval(this['driftAnalysisTimer']);if(this[_0x5d17ed(0x159)])this[_0x5d17ed(0x159)][_0x5d17ed(0x14b)]();if(this[_0x5d17ed(0x201)])this[_0x5d17ed(0x201)][_0x5d17ed(0x14b)]();if(this[_0x5d17ed(0x166)])this['briefingJob']['cancel']();recorder['abortExitTimer'](this),pythonBridge[_0x5d17ed(0x1c4)](this),_0x3c6bdb();}async[a0_0x346ab6(0x169)](_0x3260d6,_0x3528e6){const _0x98765d=a0_0x346ab6;if(!_0x3528e6||this[_0x98765d(0x1be)])return;if(_0x3260d6[_0x98765d(0x1dd)](_0x98765d(0x1e2))&&_0x3260d6['endsWith'](_0x98765d(0x1d2))&&_0x3528e6[_0x98765d(0x19e)])return;if(_0x3260d6===this[_0x98765d(0x1bb)]+_0x98765d(0x1a0)){if(_0x3528e6['val']&&Object[_0x98765d(0x151)](setup['SYSTEM_MODES'])[_0x98765d(0x1dd)](_0x3528e6['val'])){this[_0x98765d(0x1a8)]=_0x3528e6[_0x98765d(0x19e)];if(_0x3528e6[_0x98765d(0x19e)]===setup[_0x98765d(0x1e3)]['VACATION'])await recorder[_0x98765d(0x1f0)](this,![]);else await recorder['setPresence'](this,!![]);}if(!_0x3528e6['ack'])this[_0x98765d(0x175)](_0x3260d6,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x3528e6[_0x98765d(0x174)]){_0x3260d6['includes']('analysis.trigger')&&_0x3528e6['val']&&(this[_0x98765d(0x175)](_0x3260d6,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this));if(_0x3260d6[_0x98765d(0x1dd)](_0x98765d(0x171))&&_0x3528e6[_0x98765d(0x19e)]){this[_0x98765d(0x175)](_0x3260d6,{'val':![],'ack':!![]});if(this[_0x98765d(0x203)])aiAgent['createDailyDigest'](this,pythonBridge);}_0x3260d6['includes'](_0x98765d(0x20c))&&_0x3528e6['val']&&(this[_0x98765d(0x175)](_0x3260d6,{'val':![],'ack':!![]}),aiAgent[_0x98765d(0x18a)](this));_0x3260d6['includes'](_0x98765d(0x1a9))&&_0x3528e6[_0x98765d(0x19e)]&&(this[_0x98765d(0x175)](_0x3260d6,{'val':![],'ack':!![]}),aiAgent[_0x98765d(0x19a)](this));if(_0x3260d6[_0x98765d(0x1dd)](_0x98765d(0x154))&&_0x3528e6['val']){this[_0x98765d(0x175)](_0x3260d6,{'val':![],'ack':!![]});if(this[_0x98765d(0x203)])try{const _0xa5812e=await this[_0x98765d(0x1e0)](_0x98765d(0x1d9));if(_0xa5812e&&_0xa5812e['val']){const _0x239fb1=JSON['parse'](_0xa5812e[_0x98765d(0x19e)]);this[_0x98765d(0x1aa)]('analysis.training.status',{'val':_0x98765d(0x13a),'ack':!![]}),pythonBridge[_0x98765d(0x1e7)](this,_0x98765d(0x209),{'sequences':_0x239fb1});}}catch(_0x382df3){}}if(_0x3260d6[_0x98765d(0x1dd)](_0x98765d(0x1b8))&&_0x3528e6[_0x98765d(0x19e)]){this[_0x98765d(0x175)](_0x3260d6,{'val':![],'ack':!![]});if(this[_0x98765d(0x203)])try{const _0x5b18bc=await this[_0x98765d(0x1e0)]('LTM.dailyDigests');if(_0x5b18bc&&_0x5b18bc[_0x98765d(0x19e)])pythonBridge['send'](this,_0x98765d(0x16d),{'digests':JSON[_0x98765d(0x20f)](_0x5b18bc[_0x98765d(0x19e)])});}catch(_0xd2e313){}}if(_0x3260d6[_0x98765d(0x1dd)](_0x98765d(0x1e9))&&_0x3528e6[_0x98765d(0x19e)]){this[_0x98765d(0x175)](_0x3260d6,{'val':![],'ack':!![]});if(this[_0x98765d(0x203)])try{const _0x25b494=await this['getStateAsync']('LTM.trainingData.thermodynamics');if(_0x25b494&&_0x25b494[_0x98765d(0x19e)])pythonBridge[_0x98765d(0x1e7)](this,_0x98765d(0x1b2),{'points':JSON[_0x98765d(0x20f)](_0x25b494['val'])});}catch(_0x342649){}}if(_0x3260d6[_0x98765d(0x1dd)](_0x98765d(0x1d6))&&_0x3528e6['val']){this['setState'](_0x3260d6,{'val':![],'ack':!![]});if(this[_0x98765d(0x203)])try{const _0x1a91a3=await this[_0x98765d(0x1e0)](_0x98765d(0x1fe));if(_0x1a91a3&&_0x1a91a3[_0x98765d(0x19e)])pythonBridge['send'](this,_0x98765d(0x185),{'events':JSON[_0x98765d(0x20f)](_0x1a91a3[_0x98765d(0x19e)])});}catch(_0x10dc55){}}_0x3260d6['includes'](_0x98765d(0x15c))&&_0x3528e6[_0x98765d(0x19e)]&&(this[_0x98765d(0x175)](_0x3260d6,{'val':![],'ack':!![]}),topology[_0x98765d(0x1c3)](this));return;}if(this[_0x98765d(0x15d)][_0x98765d(0x16b)]&&this[_0x98765d(0x15d)][_0x98765d(0x16b)][_0x98765d(0x1dd)](_0x3260d6)){await this['checkWifiPresence']();return;}const _0x35d246=(this[_0x98765d(0x15d)]['devices']||[])[_0x98765d(0x1ae)](_0xe2b969=>_0xe2b969['id']===_0x3260d6);if(_0x35d246){const _0x1c44d7=await recorder['processSensorEvent'](this,_0x3260d6,_0x3528e6,_0x35d246);_0x1c44d7&&_0x1c44d7[_0x98765d(0x155)]===_0x98765d(0x192)&&_0x1c44d7[_0x98765d(0x163)]&&this[_0x98765d(0x203)]&&deadMan[_0x98765d(0x1de)](this,_0x1c44d7[_0x98765d(0x163)]);}}async[a0_0x346ab6(0x14e)](_0x527705){const _0x5c0f57=a0_0x346ab6;if(typeof _0x527705===_0x5c0f57(0x15b)&&_0x527705[_0x5c0f57(0x152)]){if(_0x527705[_0x5c0f57(0x1c6)]===_0x5c0f57(0x1ff))try{const _0x11c444=_0x527705[_0x5c0f57(0x152)][_0x5c0f57(0x1ed)];if(!_0x11c444)throw new Error(_0x5c0f57(0x1fb));const _0x35e3b9=new GoogleGenerativeAI(_0x11c444),_0x10420c=_0x35e3b9[_0x5c0f57(0x1dc)]({'model':GEMINI_MODEL}),_0xfea60c=await _0x10420c[_0x5c0f57(0x150)](_0x5c0f57(0x1cf)),_0x47d44f=await _0xfea60c[_0x5c0f57(0x1c7)];if(_0x47d44f[_0x5c0f57(0x15a)]())this['sendTo'](_0x527705['from'],_0x527705['command'],{'success':!![],'message':_0x5c0f57(0x199)},_0x527705[_0x5c0f57(0x200)]);else throw new Error(_0x5c0f57(0x13b));}catch(_0x51a695){this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705['command'],{'success':![],'message':_0x51a695[_0x5c0f57(0x152)]},_0x527705['callback']);}else{if(_0x527705[_0x5c0f57(0x1c6)]===_0x5c0f57(0x1ef))try{const _0x524647=await scanner[_0x5c0f57(0x205)](this,_0x527705['message']||{});this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705[_0x5c0f57(0x1c6)],{'success':!![],'devices':_0x524647},_0x527705[_0x5c0f57(0x200)]);}catch(_0x55b760){this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705['command'],{'success':![],'error':_0x55b760['message']},_0x527705['callback']);}else{if(_0x527705[_0x5c0f57(0x1c6)]===_0x5c0f57(0x15f))try{const {matrix:_0x5e21a2}=_0x527705[_0x5c0f57(0x152)],_0x136f6f=await this[_0x5c0f57(0x1e0)](_0x5c0f57(0x17d));if(_0x136f6f&&_0x136f6f[_0x5c0f57(0x19e)]){const _0x1f6ec2=JSON[_0x5c0f57(0x20f)](_0x136f6f[_0x5c0f57(0x19e)]);_0x1f6ec2[_0x5c0f57(0x1ce)]=_0x5e21a2,_0x1f6ec2['updated']=Date['now'](),await this[_0x5c0f57(0x1aa)](_0x5c0f57(0x17d),{'val':JSON[_0x5c0f57(0x1af)](_0x1f6ec2),'ack':!![]}),pythonBridge[_0x5c0f57(0x1e7)](this,'SET_TOPOLOGY',_0x1f6ec2);}this['sendTo'](_0x527705[_0x5c0f57(0x170)],_0x527705['command'],{'success':!![]},_0x527705['callback']);}catch(_0x247c68){this['log']['error'](_0x247c68);}else{if(_0x527705[_0x5c0f57(0x1c6)]===_0x5c0f57(0x1c1))this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705[_0x5c0f57(0x1c6)],{'success':!![],'dailyDigests':this['dailyDigests']||[],'analysisHistory':this['analysisHistory']||[]},_0x527705['callback']);else{if(_0x527705[_0x5c0f57(0x1c6)]==='getOverviewData'){const _0x52e2c6=this[_0x5c0f57(0x16c)]['length'],_0x3770e7=new Array(0x18)['fill'](0x0),_0x3999ec=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x5c0f57(0x207)]&&this[_0x5c0f57(0x207)]['forEach'](_0x56a188=>{const _0x25ec12=_0x5c0f57;if(_0x56a188[_0x25ec12(0x1eb)]>=_0x3999ec){const _0x144aac=new Date(_0x56a188[_0x25ec12(0x1eb)])[_0x25ec12(0x158)]();if(_0x144aac>=0x0&&_0x144aac<0x18)_0x3770e7[_0x144aac]++;}}),this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705[_0x5c0f57(0x1c6)],{'success':!![],'eventHistory':this[_0x5c0f57(0x207)][_0x5c0f57(0x140)](0x0,0xf),'stats':{'digestCount':_0x52e2c6,'isPresent':this[_0x5c0f57(0x1a1)],'hourlyActivity':_0x3770e7},'automation':{'detected':![]}},_0x527705[_0x5c0f57(0x200)]);}else{if(_0x527705[_0x5c0f57(0x1c6)]===_0x5c0f57(0x14c)){const _0x27c6ea=await this[_0x5c0f57(0x19c)](_0x5c0f57(0x1bf),_0x5c0f57(0x147)),_0x5f0947=[];if(_0x27c6ea)for(const _0x129c7b in _0x27c6ea){const _0x369ad9=_0x27c6ea[_0x129c7b],_0x779862=(_0x369ad9[_0x5c0f57(0x1ee)]&&typeof _0x369ad9[_0x5c0f57(0x1ee)][_0x5c0f57(0x17a)]==='object'?_0x369ad9[_0x5c0f57(0x1ee)][_0x5c0f57(0x17a)]['de']:_0x369ad9[_0x5c0f57(0x1ee)][_0x5c0f57(0x17a)])||_0x369ad9['common'][_0x5c0f57(0x17a)];_0x5f0947[_0x5c0f57(0x1c0)]({'id':_0x129c7b,'name':_0x779862});}const _0x5e3088=await this[_0x5c0f57(0x19c)](_0x5c0f57(0x18e),_0x5c0f57(0x147)),_0x58bf83=[];if(_0x5e3088)for(const _0x51810c in _0x5e3088){const _0x91f00=_0x5e3088[_0x51810c],_0x5952bc=(_0x91f00[_0x5c0f57(0x1ee)]&&typeof _0x91f00[_0x5c0f57(0x1ee)]['name']===_0x5c0f57(0x15b)?_0x91f00[_0x5c0f57(0x1ee)][_0x5c0f57(0x17a)]['de']:_0x91f00[_0x5c0f57(0x1ee)][_0x5c0f57(0x17a)])||_0x51810c[_0x5c0f57(0x1cd)]('.')[_0x5c0f57(0x144)]();_0x58bf83['push'](_0x5952bc);}this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705[_0x5c0f57(0x1c6)],{'success':!![],'enums':_0x5f0947,'rooms':_0x58bf83},_0x527705[_0x5c0f57(0x200)]);}else{if(_0x527705[_0x5c0f57(0x1c6)]==='testContext')try{let _0xe6af05='Kein\x20Wetter-Adapter',_0x2eeb46=_0x5c0f57(0x1f7);if(this[_0x5c0f57(0x15d)]['weatherInstance']){const _0x323234=await recorder[_0x5c0f57(0x1a6)](this);_0xe6af05=_0x323234!==null?_0x323234+'Â°C':_0x5c0f57(0x156);}if(this[_0x5c0f57(0x15d)]['calendarInstance']){const _0x4440d0=await this[_0x5c0f57(0x177)](_0x5c0f57(0x1f4)+this['config']['calendarInstance']);_0x2eeb46=_0x4440d0?'Verbunden':'Instanz\x20nicht\x20gefunden';}this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705[_0x5c0f57(0x1c6)],{'success':!![],'weather':_0xe6af05,'calendar':_0x2eeb46},_0x527705[_0x5c0f57(0x200)]);}catch(_0x5ee3b6){this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705[_0x5c0f57(0x1c6)],{'success':![],'error':_0x5ee3b6[_0x5c0f57(0x152)]},_0x527705[_0x5c0f57(0x200)]);}else{if(_0x527705['command']==='getCalendarNames')try{const _0x5c8adb=_0x527705[_0x5c0f57(0x152)][_0x5c0f57(0x18b)],_0xf0333e=await this[_0x5c0f57(0x1bd)](_0x5c8adb+_0x5c0f57(0x16f));let _0x5f4e02=[];if(_0xf0333e&&_0xf0333e[_0x5c0f57(0x19e)]){const _0x1bb04b=JSON['parse'](_0xf0333e[_0x5c0f57(0x19e)]),_0x5d77d1=new Set();Array[_0x5c0f57(0x188)](_0x1bb04b)&&_0x1bb04b[_0x5c0f57(0x1df)](_0x30b936=>{const _0x3176ea=_0x5c0f57;if(_0x30b936[_0x3176ea(0x1f9)])_0x5d77d1[_0x3176ea(0x191)](_0x30b936[_0x3176ea(0x1f9)]);else{if(_0x30b936[_0x3176ea(0x1b6)])_0x5d77d1[_0x3176ea(0x191)](_0x30b936[_0x3176ea(0x1b6)]);}}),_0x5f4e02=Array['from'](_0x5d77d1)['sort']();}if(_0x5f4e02[_0x5c0f57(0x167)]===0x0)_0x5f4e02=[_0x5c0f57(0x1a7)];this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705[_0x5c0f57(0x1c6)],{'success':!![],'names':_0x5f4e02},_0x527705[_0x5c0f57(0x200)]);}catch(_0x42df87){this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705['command'],{'success':![],'error':_0x42df87[_0x5c0f57(0x152)]},_0x527705[_0x5c0f57(0x200)]);}else{if(_0x527705[_0x5c0f57(0x1c6)]==='testNotification')try{await setup[_0x5c0f57(0x17e)](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0x5c0f57(0x18f)](_0x527705[_0x5c0f57(0x170)],_0x527705[_0x5c0f57(0x1c6)],{'success':!![],'message':_0x5c0f57(0x17f)},_0x527705[_0x5c0f57(0x200)]);}catch(_0xaa31f6){this[_0x5c0f57(0x1b4)]['error'](_0x5c0f57(0x20d)+_0xaa31f6[_0x5c0f57(0x152)]),this['sendTo'](_0x527705[_0x5c0f57(0x170)],_0x527705[_0x5c0f57(0x1c6)],{'success':![],'message':_0x5c0f57(0x1f3)+_0xaa31f6[_0x5c0f57(0x152)]},_0x527705[_0x5c0f57(0x200)]);}}}}}}}}}}}async[a0_0x346ab6(0x194)](){const _0x42dd3b=a0_0x346ab6;try{const _0x2321d2=await this[_0x42dd3b(0x1e0)](setup[_0x42dd3b(0x19d)]);_0x2321d2&&_0x2321d2['val']&&Object[_0x42dd3b(0x151)](setup[_0x42dd3b(0x1e3)])[_0x42dd3b(0x1dd)](_0x2321d2[_0x42dd3b(0x19e)])?this[_0x42dd3b(0x1a8)]=_0x2321d2[_0x42dd3b(0x19e)]:(this[_0x42dd3b(0x1a8)]=setup[_0x42dd3b(0x1e3)]['NORMAL'],await this['setStateAsync'](setup[_0x42dd3b(0x19d)],{'val':setup[_0x42dd3b(0x1e3)]['NORMAL'],'ack':!![]}));}catch(_0x3585af){this[_0x42dd3b(0x1a8)]=setup[_0x42dd3b(0x1e3)][_0x42dd3b(0x1ba)];}}async[a0_0x346ab6(0x183)](){const _0x27d166=a0_0x346ab6;try{const _0x15f4e6=this[_0x27d166(0x15d)][_0x27d166(0x16b)]||[];let _0xc981db=![];const _0x2668e9=[];for(const _0x11f622 of _0x15f4e6){try{const _0xdb022a=await this['getForeignStateAsync'](_0x11f622);_0xdb022a&&(_0xdb022a[_0x27d166(0x19e)]===!![]||_0xdb022a['val']==='online'||_0xdb022a['val']===0x1)&&(_0xc981db=!![],_0x2668e9['push'](_0x11f622));}catch(_0x27f054){}}return await this['setStateAsync'](_0x27d166(0x1db),{'val':_0x2668e9[_0x27d166(0x1d1)](',\x20'),'ack':!![]}),_0xc981db&&(this[_0x27d166(0x160)]&&(this['log']['info'](_0x27d166(0x1e1)),recorder[_0x27d166(0x1ab)](this)),!this[_0x27d166(0x1a1)]&&this[_0x27d166(0x1a8)]===setup[_0x27d166(0x1e3)][_0x27d166(0x1ba)]&&await recorder[_0x27d166(0x1f0)](this,!![])),_0xc981db;}catch(_0x19a194){return![];}}async[a0_0x346ab6(0x1fa)](){const _0x30a39e=a0_0x346ab6;this['log'][_0x30a39e(0x1d5)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent['runGeminiAnalysis'](this),this[_0x30a39e(0x17b)](),this['triggerGaitAnalysis'](),this['triggerEnergyPrediction']();}['triggerGaitAnalysis'](){const _0x2e1cc8=a0_0x346ab6;if(!this[_0x2e1cc8(0x203)])return;try{this[_0x2e1cc8(0x143)]('LTM.trainingData.sequences',(_0x4aa82c,_0x33c929)=>{const _0x4c2089=_0x2e1cc8;_0x33c929&&_0x33c929[_0x4c2089(0x19e)]&&pythonBridge[_0x4c2089(0x1e7)](this,_0x4c2089(0x197),{'sequences':JSON[_0x4c2089(0x20f)](_0x33c929[_0x4c2089(0x19e)])});});}catch(_0x16d1a9){}}async[a0_0x346ab6(0x14a)](){const _0x2baf5d=a0_0x346ab6;if(!this[_0x2baf5d(0x203)])return;try{const _0x25c822=await recorder[_0x2baf5d(0x1a6)](this);if(_0x25c822===null)return;const _0xe4a092={},_0x3a8a42=this[_0x2baf5d(0x15d)][_0x2baf5d(0x176)]||[];for(const _0x277188 of _0x3a8a42){if(_0x277188[_0x2baf5d(0x155)]===_0x2baf5d(0x161)&&_0x277188[_0x2baf5d(0x163)]){const _0x2e58c3=this[_0x2baf5d(0x1e5)][_0x277188['id']];if(_0x2e58c3!==undefined)_0xe4a092[_0x277188[_0x2baf5d(0x163)]]=_0x2e58c3;}}Object['keys'](_0xe4a092)['length']>0x0&&pythonBridge['send'](this,_0x2baf5d(0x1fd),{'current_temps':_0xe4a092,'t_out':_0x25c822});}catch(_0x1b9814){}}[a0_0x346ab6(0x17b)](){const _0x595439=a0_0x346ab6;if(!this['rawEventLog']||this[_0x595439(0x202)][_0x595439(0x167)]===0x0)return;const _0x341571=new Array(0x60)[_0x595439(0x18c)](0x0),_0x7b246a=new Date()[_0x595439(0x1d8)](0x0,0x0,0x0,0x0);this[_0x595439(0x202)][_0x595439(0x1df)](_0x1966ed=>{const _0x44ec13=_0x595439,_0x53036a=new Date(_0x1966ed[_0x44ec13(0x1eb)]);if(_0x53036a[_0x44ec13(0x1b1)]()>=_0x7b246a){const _0x48a55e=_0x53036a[_0x44ec13(0x158)](),_0x46265a=_0x53036a[_0x44ec13(0x148)](),_0x3333c2=_0x48a55e*0x4+Math[_0x44ec13(0x1d0)](_0x46265a/0xf);if(_0x3333c2>=0x0&&_0x3333c2<0x60)_0x341571[_0x3333c2]++;}}),this[_0x595439(0x1aa)]('analysis.health.todayVector',{'val':JSON['stringify'](_0x341571),'ack':!![]});}[a0_0x346ab6(0x181)](){const _0x1e6fb5=a0_0x346ab6;if(!this[_0x1e6fb5(0x16c)]||this[_0x1e6fb5(0x16c)]['length']<0x2)return;const _0xf94a41=this[_0x1e6fb5(0x16c)][_0x1e6fb5(0x157)](_0x3853b4=>{const _0x3816e6=_0x1e6fb5,_0x480ca8=(_0x3853b4[_0x3816e6(0x1e8)]||'')[_0x3816e6(0x13c)]();return ACTIVITY_LEVEL_MAP[_0x480ca8]||0x32;});pythonBridge[_0x1e6fb5(0x1e7)](this,_0x1e6fb5(0x1d3),{'values':_0xf94a41,'tag':_0x1e6fb5(0x179)});}}function a0_0xb912(_0x1ad9ad,_0x50a8b1){const _0x493f7a=a0_0x24d0();return a0_0xb912=function(_0x508e1f,_0x397e2a){_0x508e1f=_0x508e1f-0x13a;let _0x24d01c=_0x493f7a[_0x508e1f];return _0x24d01c;},a0_0xb912(_0x1ad9ad,_0x50a8b1);}if(require[a0_0x346ab6(0x1a5)]!==module)module[a0_0x346ab6(0x146)]=_0x9e4ee=>new CogniLiving(_0x9e4ee);else new CogniLiving();