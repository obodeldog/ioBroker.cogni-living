function a0_0x4192(){const _0x53e444=['infrasoundEnabled','...','fill','.json','checkWifiPresence','de-DE','infrasoundArmingId','moduleComfort','communicate.request','analysis.health.activityTrend','analysis.training.triggerHealth','./lib/dead_man','analysis.prediction.trackerTopRoom','Failed\x20to\x20trigger\x20Python\x20Health\x20Check','pulse','SYSTEM_MODES','initZombies','LTM.dailyDigests','models/gemini-flash-latest','guest',',\x20Temp:\x20','saveDailyHistory','pop','üö®\x20INFRASCHALL-ALARM:\x20Anomalie\x20bei\x20Abwesenheit\x20(scharf)!','setStateAsync','4516970ubYYHZ','apply','LTM.triggerDailyDigest','string','ack','testApiKey','bin','modules','processSensorEvent','object','@google/generative-ai','‚òÄÔ∏è\x20Solar\x20Condition:\x20SUNNY\x20detected\x20via\x20','runGeminiAnalysis','command','system.presenceWho','values','analysis.health.geminiDay','analysisTimer','isSolar','checkCalendarTriggers','analysis.prediction.trackerConfidence','scanForDevices','max','healthTrendInterval','Live\x20Event\x20Pulse','unload','toString','all','toLocaleTimeString','General\x20Activity\x20Trend','rawEventLog','location','map','setPresence','abs','analyzeWindowOpening','sensorLastValues','setObjectNotExistsAsync','infrasoundThreshold','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','triggerDailyDigest','getHistoryData','ready','activeModules','./lib/ai_agent','custom','dailyDigests','ltmJob','open','calendarName','Gemini\x20Init\x20Error:\x20','scanThermostats','üö∂\x20Gait\x20Analysis\x20triggered\x20with\x20','rows','roomIntegratorTimer','getOverviewData','currentSystemMode','./lib/automation','(((.+)+)+)+$','inactivityThresholdHours','84TpzPig','Gute\x20L√ºftungsm√∂glichkeit!','‚ö†\x20Replay\x20skipped:\x20No\x20events\x20in\x20memory.','Unknown','checkWifiPresence:\x20Error\x20checking\x20','Adapter','Verbindung\x20erfolgreich:\x20','number','TRAIN_SECURITY','analysis.energy.warmupSources','TRAIN_TOPOLOGY','config','subscribeForeignStates','updateLocation','getForeignStateAsync','comfort','createAllObjects','isRelevantActivity','Event','handleInfrasound','door','geminiApiKey','eventHistory','triggerGaitAnalysis\x20error:\x20','send','dependencyInstallInProgress','L√ºften\x20empfohlen','\x20rooms)','historyJob','type','4686665ErkILY','üîä\x20Infraschall-Alarm:\x20','NORMAL','\x20Tage)','2098168Ujsaus','initHistory','debug','replace','warn','onMessage','devices','add','checkLicense','integrateRoomTime','onUnload','bootTime','moduleSecurity','todayVector','Niemand','pressureBuffer','temperature','mkdirSync','setDate','toLocaleDateString','getHours','system.adapter.','\x22history\x22:{}','‚úÖ\x20Dashboard\x20Data\x20(Rooms\x20&\x20Timeline\x20&\x20Details)\x20restored.','includes','getObjectViewAsync','LTM.rawEventLog',':\x20Temp-Differenz\x20','triggerGaitAnalysis\x20parse\x20error:\x20','state','getCalendarNames','\x20(Threshold)','testContext','scheduleJob','energy','./lib/setup','text','getMinutes','minDaysForBaseline','analysis.training.triggerTopology','join','TRAIN_COMFORT','subscribeStates','briefingJob','genAI','parse','generateHealthReport','min','Party\x20Mode','slice','val','geminiModel','json','calendarCheckTimer','sonn','events.history','9GmbKkX','checkThermostats','memoryCache','endsWith','cogni-living\x20adapter\x20starting\x20(v','infrasoundSensorId','sendTo','keys','Current.WeatherText','system.adapter.ical.','from','PREDICT_ENERGY','\x20>\x20','üêç\x20Triggering\x20Python\x20Health\x20Check\x20(Activity\x20Trend)...','isGracePeriodActive','subscribeForeignStatesAsync','executeAutomationAction','createDailyDigest','\x20events\x20from\x20today...','automation.triggerAction','@iobroker/adapter-core','startService','timestamp','utf8','setState','runPythonHealthCheck','terrasse','Lernphase\x20(','instance','driftAnalysisTimer','analysisHistory','.isOnline','search','8ZICwDQ','analysis.visualization.pulse','message','analysis.health.todayRoomDetails','motion','stopService','haust√ºr','generateContent','name','analysis.training.triggerSecurity','apiKey','\x20-\x20','onStateChange','weatherTempId','forEach','analysis.ventilation.lastWindow','Daily\x20Activity\x20Vector\x20(48x30min)','split','Daily\x20Room\x20Details\x20(48x30min)','updateSchedulePreview','log','875757qLQuuC','common','existsSync','substring','klar','.data.table','replayTodayEvents','.last_seen','üì¶\x20Restored\x20','triggerInfrasoundCorrelation','[Integrator]\x20Error:\x20','analysis.automation.targetId','üîä\x20Infraschall:\x20','now','getDate','analysis.automation.patternDetected','\x20events\x20from\x20standard\x20storage.','cogni-living','callback','moduleEnergy','startSystem','\x20(Bewohner\x20anwesend\x20-\x20normal)','modeResetJob','Init...','setHours','filter','LTM.baselineStatus','loadSystemMode','path','toFixed','triggerEnergyPrediction\x20Error:\x20','üí®\x20L√ºftung\x20in\x20','length','online','forecast.current.weather','‚úÖ\x20History\x20saved:\x20','licenseKey','cancel','party','error','stringify','enum.functions.*','59\x2023\x20*\x20*\x20*','threshold_exceeded','analysis.energy.warmupTimes','634529MXCwyF','850691tQYjNt','toLowerCase','bind','2-digit','analysis.activity.roomHistory','Sonne:\x20','telegram','analysis.training.status','sunny','readFileSync','date','exitTimer','analysis.safety.infrasoundAlert','outdoorSensorId','triggerEnergyPrediction','getAbsoluteDefaultDataDir','\x20sequences','analysis.training.triggerEnergy','toISOString','presenceCheckTimer','shift','stateChange','system','checkSolarCondition','4ZZfsuN','¬∞C)','isPresent','enum','onReady','presenceDevices','Warm-Up\x20Time','push','thermostat','Standard','round','infrasoundLocked','moduleHealth','analysis.training.triggerComfort','history','NextHours.Location_1.Day_1.current.symbol_desc','.system.mode','Keine\x20Daten','sendNotification','analysis.health.todayVector','analysis.activity.roomStats','./lib/installer','VACATION','DAY','History\x20Save\x20Error:\x20','2373338uSGJtG','protectAiMemory','security','weatherunderground.0','info','Manual\x20Event','systemConfig','refreshCalendar','getTime','main','No\x20data','getEnums','reduce','times','triggerGaitAnalysis','Room\x20History\x20(24h\x20Buckets)','LTM.trainingData.sequences','analysis.trigger','isProVersion','find','Warte\x20auf\x20Analyse...','updateHealthVector','value','response','üíæ\x20Saving\x20Daily\x20History\x20for\x20','health','triggerHealth\x20error:\x20','getForeignObjectsAsync','analysis.automation.targetValue','¬∞C,\x20Au√üen:\x20','Gemini\x20Report\x20Night','sendMorningBriefing','getStateAsync'];a0_0x4192=function(){return _0x53e444;};return a0_0x4192();}const a0_0x36101d=a0_0x3d6e;(function(_0x27521f,_0x582fc0){const _0x444344=a0_0x3d6e,_0x3caab5=_0x27521f();while(!![]){try{const _0xefb335=-parseInt(_0x444344(0x191))/0x1+-parseInt(_0x444344(0x14e))/0x2*(-parseInt(_0x444344(0x163))/0x3)+-parseInt(_0x444344(0x1a9))/0x4*(-parseInt(_0x444344(0xf1))/0x5)+-parseInt(_0x444344(0xd3))/0x6*(parseInt(_0x444344(0x190))/0x7)+-parseInt(_0x444344(0xf5))/0x8*(-parseInt(_0x444344(0x12d))/0x9)+parseInt(_0x444344(0x1fc))/0xa+parseInt(_0x444344(0x1c2))/0xb;if(_0xefb335===_0x582fc0)break;else _0x3caab5['push'](_0x3caab5['shift']());}catch(_0x236890){_0x3caab5['push'](_0x3caab5['shift']());}}}(a0_0x4192,0xdf62a));const a0_0x18872c=(function(){let _0x47bf59=!![];return function(_0x31fdc6,_0x32ca53){const _0x343cf=_0x47bf59?function(){const _0x54af51=a0_0x3d6e;if(_0x32ca53){const _0x195a0b=_0x32ca53[_0x54af51(0x1fd)](_0x31fdc6,arguments);return _0x32ca53=null,_0x195a0b;}}:function(){};return _0x47bf59=![],_0x343cf;};}()),a0_0x5c9587=a0_0x18872c(this,function(){const _0x5de718=a0_0x3d6e;return a0_0x5c9587[_0x5de718(0x216)]()['search'](_0x5de718(0xd1))[_0x5de718(0x216)]()['constructor'](a0_0x5c9587)[_0x5de718(0x14d)](_0x5de718(0xd1));});a0_0x5c9587();function a0_0x3d6e(_0x5c5f0b,_0x323679){const _0x13a8cb=a0_0x4192();return a0_0x3d6e=function(_0x5c9587,_0x18872c){_0x5c9587=_0x5c9587-0xb8;let _0x4192ad=_0x13a8cb[_0x5c9587];return _0x4192ad;},a0_0x3d6e(_0x5c5f0b,_0x323679);}'use strict';const utils=require(a0_0x36101d(0x141)),{GoogleGenerativeAI}=require(a0_0x36101d(0x206)),path=require(a0_0x36101d(0x17f)),fs=require('fs'),installer=require(a0_0x36101d(0x1be)),scanner=require('./lib/scanner'),schedulers=require('./lib/scheduler'),topology=require('./lib/topology'),setup=require(a0_0x36101d(0x118)),recorder=require('./lib/recorder'),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0x36101d(0xc3)),deadMan=require(a0_0x36101d(0x1ee)),automation=require(a0_0x36101d(0xd0)),GEMINI_MODEL=a0_0x36101d(0x1f5);class CogniLiving extends utils[a0_0x36101d(0xd8)]{constructor(_0x3f243f){const _0x4a384d=a0_0x36101d;super({..._0x3f243f,'name':_0x4a384d(0x174)}),this[_0x4a384d(0xe9)]=[],this[_0x4a384d(0x14b)]=[],this[_0x4a384d(0x21a)]=[],this[_0x4a384d(0xc5)]=[],this[_0x4a384d(0xbb)]={},this[_0x4a384d(0x1c8)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x4a384d(0x1ab)]=!![],this[_0x4a384d(0x19c)]=null,this['exitGraceTimer']=null,this[_0x4a384d(0x13b)]=![],this[_0x4a384d(0x121)]=null,this[_0x4a384d(0x128)]=null,this[_0x4a384d(0xcf)]=setup[_0x4a384d(0x1f2)][_0x4a384d(0xf3)],this[_0x4a384d(0x1d4)]=![],this['lastAlertState']=![],this[_0x4a384d(0x20d)]=null,this['calendarCheckTimer']=null,this[_0x4a384d(0x1a4)]=null,this[_0x4a384d(0xc6)]=null,this[_0x4a384d(0x179)]=null,this[_0x4a384d(0x14a)]=null,this[_0x4a384d(0x120)]=null,this['historyJob']=null,this['trackerHeartbeat']=null,this['healthTrendInterval']=null,this[_0x4a384d(0xcd)]=null,this['dependencyInstallInProgress']=![],this['lastTrackerEventTime']=Date[_0x4a384d(0x170)](),this[_0x4a384d(0x12f)]=null,this[_0x4a384d(0x100)]=Date[_0x4a384d(0x170)](),this[_0x4a384d(0x1b4)]=![],this['pressureBuffer']=[],this[_0x4a384d(0xc2)]={'health':!![],'security':!![],'energy':!![],'comfort':!![]},this['on'](_0x4a384d(0xc1),this['onReady']['bind'](this)),this['on'](_0x4a384d(0x1a6),this[_0x4a384d(0x15a)]['bind'](this)),this['on'](_0x4a384d(0x215),this[_0x4a384d(0xff)][_0x4a384d(0x193)](this)),this['on'](_0x4a384d(0x150),this[_0x4a384d(0xfa)][_0x4a384d(0x193)](this));}async[a0_0x36101d(0x1ad)](){const _0xbab977=a0_0x36101d;this[_0xbab977(0x162)]['info'](_0xbab977(0x131)+this['version']+')\x20-\x20Phase\x20E\x20(Scheduler\x20Fix)');if(this['config'][_0xbab977(0x1b5)]!==undefined)this[_0xbab977(0xc2)]['health']=this[_0xbab977(0xde)][_0xbab977(0x1b5)];if(this[_0xbab977(0xde)][_0xbab977(0x101)]!==undefined)this[_0xbab977(0xc2)][_0xbab977(0x1c4)]=this['config'][_0xbab977(0x101)];if(this[_0xbab977(0xde)][_0xbab977(0x176)]!==undefined)this[_0xbab977(0xc2)]['energy']=this['config'][_0xbab977(0x176)];if(this['config'][_0xbab977(0x1ea)]!==undefined)this[_0xbab977(0xc2)][_0xbab977(0xe2)]=this[_0xbab977(0xde)][_0xbab977(0x1ea)];if(this['config'][_0xbab977(0x203)])this[_0xbab977(0xc2)]={...this['activeModules'],...this[_0xbab977(0xde)][_0xbab977(0x203)]};this[_0xbab977(0x177)]();}async[a0_0x36101d(0x177)](){const _0x369dc2=a0_0x36101d;await setup[_0x369dc2(0x1f3)](this);try{this['isProVersion']=await setup[_0x369dc2(0xfd)](this[_0x369dc2(0xde)][_0x369dc2(0x187)]);}catch(_0x5b8ca5){}if(!this[_0x369dc2(0xde)]['inactivityThresholdHours']||this[_0x369dc2(0xde)][_0x369dc2(0xd2)]<0.1)this[_0x369dc2(0xde)]['inactivityThresholdHours']=0xc;await setup[_0x369dc2(0xf6)](this),await setup['initSystemConfig'](this);try{const _0x47e4b6=await this[_0x369dc2(0x1e2)](_0x369dc2(0x18f)),_0x4c893e=await this[_0x369dc2(0x1e2)](_0x369dc2(0xdc));_0x47e4b6&&_0x47e4b6[_0x369dc2(0x127)]&&_0x4c893e&&_0x4c893e[_0x369dc2(0x127)]&&(Date['now']()-_0x47e4b6['ts']<0x4*0xe10*0x3e8&&(this[_0x369dc2(0x12f)]={'times':JSON[_0x369dc2(0x122)](_0x47e4b6[_0x369dc2(0x127)]),'sources':JSON[_0x369dc2(0x122)](_0x4c893e[_0x369dc2(0x127)])}));}catch(_0x34a3b9){}if(this[_0x369dc2(0xde)][_0x369dc2(0xe8)])try{this['genAI']=new GoogleGenerativeAI(this[_0x369dc2(0xde)][_0x369dc2(0xe8)]),this['geminiModel']=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}});}catch(_0xd62666){this['log'][_0x369dc2(0x18a)](_0x369dc2(0xc9)+_0xd62666[_0x369dc2(0x150)]);}await setup[_0x369dc2(0xe3)](this),await this['loadSystemMode'](),schedulers['initSchedules'](this),await this['setObjectNotExistsAsync'](_0x369dc2(0x14f),{'type':_0x369dc2(0x112),'common':{'name':_0x369dc2(0x214),'type':_0x369dc2(0xda),'role':_0x369dc2(0x1d8),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.activity.roomStats',{'type':'state','common':{'name':'Room\x20Dwell\x20Time\x20Stats','type':'string','role':_0x369dc2(0x129),'read':!![],'write':![],'def':_0x369dc2(0xbe)},'native':{}}),await this[_0x369dc2(0xbc)]('analysis.activity.roomHistory',{'type':_0x369dc2(0x112),'common':{'name':_0x369dc2(0x1d1),'type':'string','role':_0x369dc2(0x129),'read':!![],'write':![],'def':'{\x22history\x22:{}}'},'native':{}}),await this[_0x369dc2(0xbc)]('analysis.health.geminiNight',{'type':'state','common':{'name':_0x369dc2(0x1e0),'type':_0x369dc2(0x1ff),'role':_0x369dc2(0x119),'read':!![],'write':![],'def':_0x369dc2(0x1d6)},'native':{}}),await this[_0x369dc2(0xbc)](_0x369dc2(0x20c),{'type':'state','common':{'name':'Gemini\x20Report\x20Day','type':_0x369dc2(0x1ff),'role':_0x369dc2(0x119),'read':!![],'write':![],'def':_0x369dc2(0x1d6)},'native':{}}),await this['setObjectNotExistsAsync']('analysis.health.todayVector',{'type':_0x369dc2(0x112),'common':{'name':_0x369dc2(0x15e),'type':'string','role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x369dc2(0xbc)](_0x369dc2(0x151),{'type':_0x369dc2(0x112),'common':{'name':_0x369dc2(0x160),'type':_0x369dc2(0x1ff),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x369dc2(0x1ec),{'type':_0x369dc2(0x112),'common':{'name':_0x369dc2(0x219),'type':'number','role':_0x369dc2(0x1d8),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x369dc2(0xbc)]('analysis.energy.warmupTimes',{'type':_0x369dc2(0x112),'common':{'name':_0x369dc2(0x1af),'type':_0x369dc2(0x1ff),'role':_0x369dc2(0x129),'read':!![],'write':![]},'native':{}});try{const _0x4bede1=await this[_0x369dc2(0x1e2)](_0x369dc2(0x12c));if(_0x4bede1&&_0x4bede1['val']){this['eventHistory']=JSON['parse'](_0x4bede1[_0x369dc2(0x127)]);if(this['isProVersion']){const _0x9b13ee=await this[_0x369dc2(0x1e2)](_0x369dc2(0x10f));if(_0x9b13ee&&_0x9b13ee[_0x369dc2(0x127)])this[_0x369dc2(0x21a)]=JSON['parse'](_0x9b13ee[_0x369dc2(0x127)]);}this[_0x369dc2(0x162)][_0x369dc2(0x1c6)](_0x369dc2(0x16b)+this[_0x369dc2(0xe9)]['length']+_0x369dc2(0x173));}}catch(_0x5c280a){this[_0x369dc2(0xe9)]=[];}try{const _0x5c526d=await this[_0x369dc2(0x1e2)](_0x369dc2(0x1f4));if(_0x5c526d&&_0x5c526d[_0x369dc2(0x127)])this['dailyDigests']=JSON[_0x369dc2(0x122)](_0x5c526d['val']);}catch(_0x3689fd){this[_0x369dc2(0xc5)]=[];}const _0x26b02a=this[_0x369dc2(0xc5)][_0x369dc2(0x183)]>=(this[_0x369dc2(0xde)][_0x369dc2(0x11b)]||0x7)?'Aktiv\x20('+this['dailyDigests']['length']+_0x369dc2(0xf4):_0x369dc2(0x148)+this[_0x369dc2(0xc5)][_0x369dc2(0x183)]+'/'+(this['config']['minDaysForBaseline']||0x7)+')';await this[_0x369dc2(0x1fb)](_0x369dc2(0x17d),{'val':_0x26b02a,'ack':!![]}),this['subscribeStates'](_0x369dc2(0x1d3)),this[_0x369dc2(0x11f)](_0x369dc2(0x1fe)),this['subscribeStates']('analysis.training.triggerHealth');this[_0x369dc2(0xde)][_0x369dc2(0x1e3)]&&this['config']['infrasoundSensorId']&&this['activeModules']['security']&&this[_0x369dc2(0xdf)](this[_0x369dc2(0xde)][_0x369dc2(0x132)]);const _0x430cae=this[_0x369dc2(0xde)][_0x369dc2(0xfb)];if(_0x430cae)for(const _0x2959a7 of _0x430cae){await this[_0x369dc2(0x13c)](_0x2959a7['id']);}const _0xd846aa=this[_0x369dc2(0xde)]['presenceDevices'];if(_0xd846aa)for(const _0x44abdf of _0xd846aa){await this[_0x369dc2(0x13c)](_0x44abdf);}const _0x218588=require('node-schedule');if(this[_0x369dc2(0xef)])this[_0x369dc2(0xef)][_0x369dc2(0x188)]();this[_0x369dc2(0xef)]=_0x218588[_0x369dc2(0x116)](_0x369dc2(0x18d),()=>{const _0x316968=_0x369dc2;this[_0x316968(0x1f8)]();}),setTimeout(()=>this[_0x369dc2(0x169)](),0x1388);if(this[_0x369dc2(0xcd)])clearInterval(this[_0x369dc2(0xcd)]);this[_0x369dc2(0xfe)](),this[_0x369dc2(0xcd)]=setInterval(async()=>{const _0x31b890=_0x369dc2;await this[_0x31b890(0xfe)]();},0x3c*0x3e8);if(this['healthTrendInterval'])clearInterval(this[_0x369dc2(0x213)]);this[_0x369dc2(0x213)]=setInterval(()=>{const _0x4b2a5a=_0x369dc2;this[_0x4b2a5a(0x1d4)]&&this[_0x4b2a5a(0xc2)][_0x4b2a5a(0x1db)]&&this[_0x4b2a5a(0x146)]();},0x4*0x3c*0x3c*0x3e8);if(this[_0x369dc2(0x20d)])clearInterval(this['analysisTimer']);this[_0x369dc2(0xc2)][_0x369dc2(0x117)]&&(this['analysisTimer']=setInterval(()=>{this['triggerEnergyPrediction']();},0xf*0x3c*0x3e8),setTimeout(()=>this[_0x369dc2(0x19f)](),0x2710));if(this[_0x369dc2(0x12a)])clearInterval(this[_0x369dc2(0x12a)]);this[_0x369dc2(0xde)]['useCalendar']&&this['activeModules']['energy']&&(this['calendarCheckTimer']=setInterval(()=>{automation['checkCalendarTriggers'](this);},0x2*0x3c*0x3e8),setTimeout(()=>automation[_0x369dc2(0x20f)](this),0x3a98));if(this[_0x369dc2(0x1a4)])clearInterval(this[_0x369dc2(0x1a4)]);this['config'][_0x369dc2(0x1ae)]&&this[_0x369dc2(0xde)][_0x369dc2(0x1ae)][_0x369dc2(0x183)]>0x0&&(this[_0x369dc2(0x1a4)]=setInterval(async()=>{const _0x3ea0ed=_0x369dc2;await this[_0x3ea0ed(0x1e7)]();},0x3c*0x3e8),setTimeout(async()=>await this[_0x369dc2(0x1e7)](),0x1388));const _0x42f495=path[_0x369dc2(0x11d)](__dirname,'.venv',_0x369dc2(0x202),'python');pythonBridge[_0x369dc2(0x142)](this,_0x42f495);}[a0_0x36101d(0xff)](_0x309264){const _0x3c13ba=a0_0x36101d;if(this[_0x3c13ba(0xef)])this['historyJob'][_0x3c13ba(0x188)]();this[_0x3c13ba(0x1f8)]()['then'](()=>{const _0x4e6e83=_0x3c13ba;if(this['analysisTimer'])clearInterval(this['analysisTimer']);if(this[_0x4e6e83(0x12a)])clearInterval(this[_0x4e6e83(0x12a)]);if(this[_0x4e6e83(0x1a4)])clearInterval(this[_0x4e6e83(0x1a4)]);if(this[_0x4e6e83(0xcd)])clearInterval(this['roomIntegratorTimer']);recorder['abortExitTimer'](this),pythonBridge[_0x4e6e83(0x153)](this),_0x309264();});}async['replayTodayEvents'](){const _0xf6b856=a0_0x36101d;if(!this[_0xf6b856(0xe9)]||this[_0xf6b856(0xe9)][_0xf6b856(0x183)]===0x0){this[_0xf6b856(0x162)][_0xf6b856(0xf9)](_0xf6b856(0xd5));return;}this[_0xf6b856(0x162)]['info']('‚Ü∫\x20Replaying\x20'+this[_0xf6b856(0xe9)][_0xf6b856(0x183)]+_0xf6b856(0x13f));const _0x17dfd5=new Date()[_0xf6b856(0x17b)](0x0,0x0,0x0,0x0),_0x431687=_0xf6b856(0x195);let _0x3565a1={'history':{},'date':new Date()['toLocaleDateString']()};const _0x3ee133='analysis.health.todayVector',_0x1a9511='analysis.health.todayRoomDetails';let _0x517006=new Array(0x30)[_0xf6b856(0x1e5)](0x0),_0x21a79b=Array[_0xf6b856(0x137)]({'length':0x30},()=>[]);this[_0xf6b856(0xe9)][_0xf6b856(0x15c)](_0x31d030=>{const _0x4c60ab=_0xf6b856;if(_0x31d030[_0x4c60ab(0x143)]>=_0x17dfd5){if(recorder[_0x4c60ab(0xe4)](_0x31d030['type'],_0x31d030['value'])){const _0x84107f=new Date(_0x31d030[_0x4c60ab(0x143)]),_0xbe319c=_0x84107f[_0x4c60ab(0x109)]()*0x2+(_0x84107f[_0x4c60ab(0x11a)]()>=0x1e?0x1:0x0);if(_0xbe319c<0x30){_0x517006[_0xbe319c]++;const _0x174057=_0x31d030[_0x4c60ab(0x21b)]||_0x31d030[_0x4c60ab(0x156)]||'?';let _0x4cb2c1=_0x21a79b[_0xbe319c];!_0x4cb2c1[_0x4c60ab(0x10d)](_0x174057)&&_0x4cb2c1[_0x4c60ab(0x1b0)](_0x174057);}const _0x1a6291=_0x84107f[_0x4c60ab(0x109)]();let _0x1e6205=_0x31d030['location']||_0x4c60ab(0xd6);const _0x3e466d=(this['config'][_0x4c60ab(0xfb)]||[])[_0x4c60ab(0x1d5)](_0x3e664b=>_0x3e664b[_0x4c60ab(0x21b)]===_0x1e6205);if(_0x3e466d)_0x1e6205=_0x3e466d['location'];if(!_0x3565a1[_0x4c60ab(0x1b7)][_0x1e6205])_0x3565a1['history'][_0x1e6205]=new Array(0x18)[_0x4c60ab(0x1e5)](0x0);if(_0x3565a1['history'][_0x1e6205][_0x1a6291]<0x3c)_0x3565a1[_0x4c60ab(0x1b7)][_0x1e6205][_0x1a6291]++;}}});const _0x308837=await this[_0xf6b856(0x1e2)](_0x431687);(!_0x308837||!_0x308837[_0xf6b856(0x127)]||_0x308837['val']==='{}'||_0x308837[_0xf6b856(0x127)][_0xf6b856(0x10d)](_0xf6b856(0x10b)))&&await this[_0xf6b856(0x1fb)](_0x431687,{'val':JSON[_0xf6b856(0x18b)](_0x3565a1),'ack':!![]}),await this[_0xf6b856(0x1fb)](_0x3ee133,{'val':JSON[_0xf6b856(0x18b)](_0x517006),'ack':!![]}),await this[_0xf6b856(0x1fb)](_0x1a9511,{'val':JSON['stringify'](_0x21a79b),'ack':!![]}),this[_0xf6b856(0x162)][_0xf6b856(0x1c6)](_0xf6b856(0x10c));}async[a0_0x36101d(0x1f8)](){const _0x1bd07e=a0_0x36101d;if(!this[_0x1bd07e(0xc2)][_0x1bd07e(0x1db)])return;const _0x184146=new Date()['toISOString']()[_0x1bd07e(0x15f)]('T')[0x0];this['log']['debug'](_0x1bd07e(0x1da)+_0x184146+_0x1bd07e(0x1e4));try{const [_0x40f9c5,_0x1942eb,_0x122368,_0x57b83f,_0x37e34f,_0x2d75f1]=await Promise[_0x1bd07e(0x217)]([this[_0x1bd07e(0x1e2)](_0x1bd07e(0x195)),this['getStateAsync']('analysis.health.geminiNight'),this[_0x1bd07e(0x1e2)](_0x1bd07e(0x20c)),this['getStateAsync']('analysis.security.lastScore'),this[_0x1bd07e(0x1e2)](_0x1bd07e(0x1bc)),this['getStateAsync'](_0x1bd07e(0x1ec))]),_0x1725a7=this[_0x1bd07e(0xe9)]['filter'](_0x42eb69=>_0x42eb69[_0x1bd07e(0x143)]>=new Date()[_0x1bd07e(0x17b)](0x0,0x0,0x0,0x0)&&(_0x42eb69[_0x1bd07e(0x156)][_0x1bd07e(0x192)]()[_0x1bd07e(0x10d)](_0x1bd07e(0x154))||_0x42eb69[_0x1bd07e(0x156)][_0x1bd07e(0x192)]()[_0x1bd07e(0x10d)](_0x1bd07e(0x147)))&&(_0x42eb69['value']===!![]||_0x42eb69[_0x1bd07e(0x1d8)]===_0x1bd07e(0xc7)))['length'];let _0x232c5b=0x55;if(_0x2d75f1&&_0x2d75f1[_0x1bd07e(0x127)]!==undefined)_0x232c5b=Math[_0x1bd07e(0x124)](0x64,Math['max'](0x14,Math[_0x1bd07e(0x1b3)](0x50+Number(_0x2d75f1[_0x1bd07e(0x127)])*0x5)));const _0xfd587e={'date':_0x184146,'timestamp':Date[_0x1bd07e(0x170)](),'roomHistory':_0x40f9c5?.[_0x1bd07e(0x127)]?JSON[_0x1bd07e(0x122)](_0x40f9c5[_0x1bd07e(0x127)]):{},'geminiNight':_0x1942eb?.[_0x1bd07e(0x127)]||_0x1bd07e(0x1ba),'geminiDay':_0x122368?.[_0x1bd07e(0x127)]||_0x1bd07e(0x1ba),'anomalyScore':_0x57b83f?.['val']||0.1,'todayVector':_0x37e34f?.['val']?JSON['parse'](_0x37e34f[_0x1bd07e(0x127)]):new Array(0x30)[_0x1bd07e(0x1e5)](0x0),'batteryLevel':_0x232c5b,'freshAirCount':_0x1725a7,'eventHistory':this[_0x1bd07e(0xe9)]},_0x35ad9f=utils[_0x1bd07e(0x1a0)](),_0x291ecb=path['join'](_0x35ad9f,'cogni-living',_0x1bd07e(0x1b7));if(!fs['existsSync'](_0x291ecb))fs[_0x1bd07e(0x106)](_0x291ecb,{'recursive':!![]});const _0x49feaa=path[_0x1bd07e(0x11d)](_0x291ecb,_0x184146+_0x1bd07e(0x1e6));fs['writeFileSync'](_0x49feaa,JSON['stringify'](_0xfd587e)),this[_0x1bd07e(0x162)][_0x1bd07e(0x1c6)](_0x1bd07e(0x186)+_0x49feaa);}catch(_0x936320){this[_0x1bd07e(0x162)][_0x1bd07e(0x18a)](_0x1bd07e(0x1c1)+_0x936320['message']);}}async['integrateRoomTime'](){const _0x3aa4ae=a0_0x36101d;if(!this[_0x3aa4ae(0x1ab)])return;try{let _0x373369=null;try{const _0x53817e=await this[_0x3aa4ae(0x1e2)](_0x3aa4ae(0x1ef)),_0x1abd51=await this[_0x3aa4ae(0x1e2)](_0x3aa4ae(0x210));if(_0x53817e&&_0x53817e['val']&&_0x1abd51&&_0x1abd51['val']&&_0x1abd51[_0x3aa4ae(0x127)]>0.3){if(_0x53817e[_0x3aa4ae(0x127)]!=='Unknown'&&_0x53817e[_0x3aa4ae(0x127)]!==_0x3aa4ae(0x17a))_0x373369=_0x53817e[_0x3aa4ae(0x127)];}}catch(_0x319da0){}if(!_0x373369){const _0xab3ca0=this['config'][_0x3aa4ae(0xfb)]||[];for(const _0xf0331e of _0xab3ca0){if(_0xf0331e[_0x3aa4ae(0xf0)]==='motion'&&_0xf0331e[_0x3aa4ae(0x21b)])try{const _0x2e7a7b=await this[_0x3aa4ae(0xe1)](_0xf0331e['id']);if(_0x2e7a7b&&(_0x2e7a7b[_0x3aa4ae(0x127)]===!![]||_0x2e7a7b['val']==='on'||_0x2e7a7b['val']===0x1)){_0x373369=_0xf0331e['location'];break;}}catch(_0x5daa3f){}}}if(!_0x373369)return;const _0x4c3934=this[_0x3aa4ae(0xde)]['devices']||[];let _0x27771f=_0x373369;const _0x59fe64=_0x4c3934['find'](_0x5cc4bd=>_0x5cc4bd[_0x3aa4ae(0x21b)]&&_0x5cc4bd['location']['toLowerCase']()===_0x373369[_0x3aa4ae(0x192)]());if(_0x59fe64)_0x27771f=_0x59fe64['location'];const _0x1561ef='analysis.activity.roomHistory',_0x8a8a4e=await this[_0x3aa4ae(0x1e2)](_0x1561ef),_0x53d076=new Date()[_0x3aa4ae(0x108)]();let _0x5d3775={'history':{},'date':_0x53d076};if(_0x8a8a4e&&_0x8a8a4e['val'])try{_0x5d3775=JSON[_0x3aa4ae(0x122)](_0x8a8a4e[_0x3aa4ae(0x127)]);}catch(_0x2dffaa){}_0x5d3775[_0x3aa4ae(0x19b)]!==_0x53d076&&(_0x5d3775['history']={},_0x5d3775[_0x3aa4ae(0x19b)]=_0x53d076);if(!_0x5d3775['history'][_0x27771f])_0x5d3775['history'][_0x27771f]=new Array(0x18)[_0x3aa4ae(0x1e5)](0x0);const _0x5626a3=new Date()[_0x3aa4ae(0x109)]();if(_0x5d3775[_0x3aa4ae(0x1b7)][_0x27771f][_0x5626a3]<0x3c)_0x5d3775[_0x3aa4ae(0x1b7)][_0x27771f][_0x5626a3]++;await this[_0x3aa4ae(0x1fb)](_0x1561ef,{'val':JSON[_0x3aa4ae(0x18b)](_0x5d3775),'ack':!![]});}catch(_0x875a00){this[_0x3aa4ae(0x162)][_0x3aa4ae(0xf9)](_0x3aa4ae(0x16d)+_0x875a00[_0x3aa4ae(0x150)]);}}async[a0_0x36101d(0xfa)](_0x450508){const _0x2d492a=a0_0x36101d;if(typeof _0x450508===_0x2d492a(0x205)&&_0x450508['message']){if(_0x450508[_0x2d492a(0x209)]===_0x2d492a(0xc0)){const _0xbc5a9e=_0x450508[_0x2d492a(0x150)][_0x2d492a(0x19b)],_0x40ae82=utils[_0x2d492a(0x1a0)](),_0x3aa678=path[_0x2d492a(0x11d)](_0x40ae82,_0x2d492a(0x174),_0x2d492a(0x1b7),_0xbc5a9e+_0x2d492a(0x1e6));if(fs[_0x2d492a(0x165)](_0x3aa678))try{const _0x41f7cb=JSON[_0x2d492a(0x122)](fs[_0x2d492a(0x19a)](_0x3aa678,_0x2d492a(0x144)));this[_0x2d492a(0x133)](_0x450508[_0x2d492a(0x137)],_0x450508['command'],{'success':!![],'data':_0x41f7cb},_0x450508[_0x2d492a(0x175)]);}catch(_0x172216){this[_0x2d492a(0x133)](_0x450508[_0x2d492a(0x137)],_0x450508['command'],{'success':![],'error':'Corrupt'},_0x450508[_0x2d492a(0x175)]);}else this[_0x2d492a(0x133)](_0x450508[_0x2d492a(0x137)],_0x450508['command'],{'success':![],'error':_0x2d492a(0x1cc)},_0x450508['callback']);}else{if(_0x450508['command']===_0x2d492a(0xce)){const _0x3babac=this[_0x2d492a(0xc5)][_0x2d492a(0x183)];let _0x7514c3=new Array(0x30)[_0x2d492a(0x1e5)](0x0),_0x4306a9=Array[_0x2d492a(0x137)]({'length':0x30},()=>[]);try{const _0x4fd9b6=await this[_0x2d492a(0x1e2)]('analysis.health.todayVector');if(_0x4fd9b6&&_0x4fd9b6[_0x2d492a(0x127)])_0x7514c3=JSON[_0x2d492a(0x122)](_0x4fd9b6['val']);const _0x4ade1e=await this[_0x2d492a(0x1e2)](_0x2d492a(0x151));if(_0x4ade1e&&_0x4ade1e[_0x2d492a(0x127)])_0x4306a9=JSON[_0x2d492a(0x122)](_0x4ade1e[_0x2d492a(0x127)]);}catch(_0x2ca71b){}let _0x3bbc82=new Array(0x30)['fill'](0x0);try{const _0xf5d36=new Date();_0xf5d36[_0x2d492a(0x107)](_0xf5d36[_0x2d492a(0x171)]()-0x1);const _0x2e4095=_0xf5d36[_0x2d492a(0x1a3)]()['split']('T')[0x0],_0x52232f=utils[_0x2d492a(0x1a0)](),_0x66a22a=path[_0x2d492a(0x11d)](_0x52232f,_0x2d492a(0x174),_0x2d492a(0x1b7),_0x2e4095+_0x2d492a(0x1e6));if(fs['existsSync'](_0x66a22a)){const _0x44e41b=JSON[_0x2d492a(0x122)](fs[_0x2d492a(0x19a)](_0x66a22a,_0x2d492a(0x144)));if(_0x44e41b&&_0x44e41b[_0x2d492a(0x102)])_0x3bbc82=_0x44e41b['todayVector'];}}catch(_0x1f7bf2){}let _0x351635={'today':{},'yesterday':{}};try{const _0x19fb07=await this[_0x2d492a(0x1e2)](_0x2d492a(0x1bd));if(_0x19fb07&&_0x19fb07[_0x2d492a(0x127)])_0x351635=JSON[_0x2d492a(0x122)](_0x19fb07[_0x2d492a(0x127)]);}catch(_0x3ee6b9){}let _0x1f2c57=null;try{const _0xb20349=await this['getStateAsync']('analysis.health.activityTrend');if(_0xb20349)_0x1f2c57=_0xb20349[_0x2d492a(0x127)];}catch(_0x16af6b){}if(_0x1f2c57===undefined||_0x1f2c57===null){const _0x41b733=_0x7514c3[_0x2d492a(0x1ce)]((_0x43f52a,_0x436597)=>_0x43f52a+_0x436597,0x0),_0x4f3901=Math['min'](0x2,Math[_0x2d492a(0x212)](-0x2,(0x64-_0x41b733)/0x32));_0x1f2c57=_0x4f3901;}let _0x114c15=![],_0xf7fa9='',_0x17aa75='',_0x4fa164='';try{const _0x5509ba=await this[_0x2d492a(0x1e2)](_0x2d492a(0x172));if(_0x5509ba&&_0x5509ba['val']){_0x114c15=!![];const _0x428e84=await this[_0x2d492a(0x1e2)]('analysis.automation.description');_0xf7fa9=_0x428e84?_0x428e84[_0x2d492a(0x127)]:'';const _0x2f30c5=await this['getStateAsync'](_0x2d492a(0x16e));_0x17aa75=_0x2f30c5?_0x2f30c5[_0x2d492a(0x127)]:'';const _0x22e2b3=await this[_0x2d492a(0x1e2)](_0x2d492a(0x1de));_0x4fa164=_0x22e2b3?_0x22e2b3[_0x2d492a(0x127)]:'';}}catch(_0x1cc004){}const _0x1d3157=await this['checkSolarCondition'](),_0x6615d=(this['config'][_0x2d492a(0xfb)]||[])['some'](_0x1fec9f=>_0x1fec9f['isSolar']),_0xd54da=_0x1d3157&&_0x6615d;let _0x133a77='';try{const _0x77e992=await this['getStateAsync'](_0x2d492a(0x20a));if(_0x77e992&&_0x77e992['val'])_0x133a77=_0x77e992[_0x2d492a(0x127)];}catch(_0x33e123){}this[_0x2d492a(0x133)](_0x450508[_0x2d492a(0x137)],_0x450508[_0x2d492a(0x209)],{'success':!![],'eventHistory':this[_0x2d492a(0xe9)][_0x2d492a(0x126)](0x0,0x7d0),'stats':{'digestCount':_0x3babac,'isPresent':this['isPresent'],'hourlyActivity':_0x7514c3,'hourlyDetails':_0x4306a9,'yesterdayActivity':_0x3bbc82,'solarActive':_0xd54da,'presenceWho':_0x133a77,'roomStats':_0x351635,'activityTrend':_0x1f2c57,'modules':this[_0x2d492a(0xc2)]},'automation':{'detected':_0x114c15,'description':_0xf7fa9,'targetId':_0x17aa75,'targetValue':_0x4fa164}},_0x450508[_0x2d492a(0x175)]);}else{if(_0x450508[_0x2d492a(0x209)]===_0x2d492a(0x12e))try{const _0xd414b1=await automation[_0x2d492a(0xca)](this);this[_0x2d492a(0x133)](_0x450508[_0x2d492a(0x137)],_0x450508[_0x2d492a(0x209)],{'success':!![],'results':_0xd414b1},_0x450508[_0x2d492a(0x175)]);}catch(_0x562d6d){this['sendTo'](_0x450508[_0x2d492a(0x137)],_0x450508[_0x2d492a(0x209)],{'success':![],'error':_0x562d6d[_0x2d492a(0x150)]},_0x450508['callback']);}else{if(_0x450508['command']==='scanDevices')try{const _0xc23dac=await scanner[_0x2d492a(0x211)](this,_0x450508[_0x2d492a(0x150)]||{});this[_0x2d492a(0x133)](_0x450508[_0x2d492a(0x137)],_0x450508[_0x2d492a(0x209)],{'success':!![],'devices':_0xc23dac},_0x450508['callback']);}catch(_0x1d5422){}else{if(_0x450508['command']===_0x2d492a(0x1cd)){const _0x5da610=await this[_0x2d492a(0x1dd)](_0x2d492a(0x18c),_0x2d492a(0x1ac)),_0x2357cd=[];if(_0x5da610)for(const _0xeff010 in _0x5da610){let _0x5de39d=_0x5da610[_0xeff010][_0x2d492a(0x164)][_0x2d492a(0x156)];if(_0x5de39d&&typeof _0x5de39d==='object')_0x5de39d=_0x5de39d['de']||_0x5de39d['en']||Object[_0x2d492a(0x20b)](_0x5de39d)[0x0]||JSON[_0x2d492a(0x18b)](_0x5de39d);_0x2357cd[_0x2d492a(0x1b0)]({'id':_0xeff010,'name':String(_0x5de39d||_0xeff010)});}const _0x203788=await this[_0x2d492a(0x1dd)]('enum.rooms.*',_0x2d492a(0x1ac)),_0x4ba79e=[];if(_0x203788)for(const _0x1ed01c in _0x203788){let _0x3e097a=_0x203788[_0x1ed01c][_0x2d492a(0x164)]['name'];if(_0x3e097a&&typeof _0x3e097a==='object')_0x3e097a=_0x3e097a['de']||_0x3e097a['en']||Object['values'](_0x3e097a)[0x0]||JSON[_0x2d492a(0x18b)](_0x3e097a);_0x4ba79e[_0x2d492a(0x1b0)](String(_0x3e097a||_0x1ed01c[_0x2d492a(0x15f)]('.')['pop']()));}this['sendTo'](_0x450508[_0x2d492a(0x137)],_0x450508['command'],{'success':!![],'enums':_0x2357cd,'rooms':_0x4ba79e},_0x450508['callback']);}else{if(_0x450508['command']===_0x2d492a(0x113))try{const _0x1afee7=await this[_0x2d492a(0x10e)]('system',_0x2d492a(0x149),{'startkey':_0x2d492a(0x136),'endkey':'system.adapter.ical.È¶ô'}),_0x4387be=new Set();if(_0x1afee7&&_0x1afee7['rows'])for(const _0x2bbbb1 of _0x1afee7[_0x2d492a(0xcc)]){const _0x247ec5=_0x2bbbb1['id'][_0x2d492a(0xf8)](_0x2d492a(0x10a),''),_0x28cf02=await this[_0x2d492a(0xe1)](_0x247ec5+_0x2d492a(0x168));let _0x55611d=![];if(_0x28cf02&&_0x28cf02[_0x2d492a(0x127)]){const _0x34886e=typeof _0x28cf02[_0x2d492a(0x127)]===_0x2d492a(0x1ff)?JSON[_0x2d492a(0x122)](_0x28cf02[_0x2d492a(0x127)]):_0x28cf02[_0x2d492a(0x127)];Array['isArray'](_0x34886e)&&_0x34886e[_0x2d492a(0x15c)](_0x42add6=>{const _0xa6dcf1=_0x2d492a;_0x42add6[_0xa6dcf1(0xc8)]&&(_0x4387be[_0xa6dcf1(0xfc)](_0x42add6[_0xa6dcf1(0xc8)]),_0x55611d=!![]);});}!_0x55611d&&_0x4387be[_0x2d492a(0xfc)](_0x247ec5);}const _0xdd47cc=Array[_0x2d492a(0x137)](_0x4387be);if(_0xdd47cc['length']===0x0)_0xdd47cc[_0x2d492a(0x1b0)](_0x2d492a(0x1b2));this[_0x2d492a(0x133)](_0x450508[_0x2d492a(0x137)],_0x450508['command'],{'success':!![],'names':_0xdd47cc},_0x450508[_0x2d492a(0x175)]);}catch(_0x19734e){this['sendTo'](_0x450508[_0x2d492a(0x137)],_0x450508['command'],{'success':![],'error':'Scan\x20Error:\x20'+_0x19734e['message']},_0x450508[_0x2d492a(0x175)]);}else{if(_0x450508[_0x2d492a(0x209)]===_0x2d492a(0x1c9))try{await automation[_0x2d492a(0x161)](this),this['sendTo'](_0x450508[_0x2d492a(0x137)],_0x450508[_0x2d492a(0x209)],{'success':!![]},_0x450508[_0x2d492a(0x175)]);}catch(_0x22c7a2){this[_0x2d492a(0x162)]['warn']('refreshCalendar\x20failed:\x20'+_0x22c7a2['message']),this[_0x2d492a(0x133)](_0x450508['from'],_0x450508['command'],{'success':![],'error':_0x22c7a2[_0x2d492a(0x150)]},_0x450508['callback']);}else{if(_0x450508[_0x2d492a(0x209)]===_0x2d492a(0x201))try{const _0x3a450e=_0x450508['message']?_0x450508[_0x2d492a(0x150)][_0x2d492a(0x158)]:'';if(!_0x3a450e)throw new Error('Kein\x20API\x20Key\x20√ºbergeben.');const _0x22054b=new GoogleGenerativeAI(_0x3a450e),_0xbb5a41=_0x22054b['getGenerativeModel']({'model':GEMINI_MODEL}),_0x379e78=await _0xbb5a41[_0x2d492a(0x155)]('Say\x20Hello'),_0x5e05ae=await _0x379e78[_0x2d492a(0x1d9)],_0x33bf32=_0x5e05ae['text']();this[_0x2d492a(0x133)](_0x450508[_0x2d492a(0x137)],_0x450508[_0x2d492a(0x209)],{'success':!![],'message':_0x2d492a(0xd9)+_0x33bf32[_0x2d492a(0x166)](0x0,0x14)+_0x2d492a(0x1e4)},_0x450508[_0x2d492a(0x175)]);}catch(_0x3a4363){this[_0x2d492a(0x133)](_0x450508['from'],_0x450508[_0x2d492a(0x209)],{'success':![],'message':_0x3a4363['message']},_0x450508['callback']);}else{if(_0x450508['command']===_0x2d492a(0x115))try{const _0x5826c4=await this['checkSolarCondition'](),_0x58d871=await this[_0x2d492a(0x10e)](_0x2d492a(0x1a7),_0x2d492a(0x149),{'startkey':'system.adapter.ical.','endkey':'system.adapter.ical.È¶ô'}),_0x48c775=_0x58d871&&_0x58d871['rows']?_0x58d871['rows']['length']:0x0;this[_0x2d492a(0x133)](_0x450508['from'],_0x450508['command'],{'success':!![],'weather':_0x2d492a(0x196)+_0x5826c4+_0x2d492a(0x1f7)+(this['sensorLastValues'][this[_0x2d492a(0xde)][_0x2d492a(0x19e)]]||'?')+'¬∞C','calendar':_0x48c775+'\x20Kalender-Adapter\x20gefunden.'},_0x450508[_0x2d492a(0x175)]);}catch(_0x22cbe5){this[_0x2d492a(0x133)](_0x450508[_0x2d492a(0x137)],_0x450508[_0x2d492a(0x209)],{'success':![]},_0x450508[_0x2d492a(0x175)]);}}}}}}}}}}}['runPythonHealthCheck'](){const _0x32336d=a0_0x36101d;if(!this[_0x32336d(0xc2)]['health'])return;this[_0x32336d(0x162)][_0x32336d(0xf7)](_0x32336d(0x13a));try{const _0x3d8ac3=this[_0x32336d(0x21a)]||[];pythonBridge[_0x32336d(0xeb)](this,'CALCULATE_HEALTH_TREND',{'events':_0x3d8ac3});}catch(_0x4adb9b){this[_0x32336d(0x162)]['warn'](_0x32336d(0x1f0));}}async[a0_0x36101d(0x15a)](_0x54bfe3,_0xeb1aef){const _0x4e80c9=a0_0x36101d;if(!_0xeb1aef||this[_0x4e80c9(0xec)])return;if(_0x54bfe3['includes'](_0x4e80c9(0x197))&&_0x54bfe3['endsWith'](_0x4e80c9(0x1eb))&&_0xeb1aef[_0x4e80c9(0x127)])return;if(this[_0x4e80c9(0xde)][_0x4e80c9(0x1e3)]&&_0x54bfe3===this['config'][_0x4e80c9(0x132)]&&this[_0x4e80c9(0xc2)]['security']){this[_0x4e80c9(0xe6)](_0xeb1aef[_0x4e80c9(0x127)]);return;}if(_0xeb1aef[_0x4e80c9(0x200)]&&_0x54bfe3[_0x4e80c9(0x130)](_0x4e80c9(0x1f1)))return;if(_0x54bfe3===this['namespace']+_0x4e80c9(0x1b9)){if(_0xeb1aef['val']&&Object['values'](setup[_0x4e80c9(0x1f2)])[_0x4e80c9(0x10d)](_0xeb1aef[_0x4e80c9(0x127)])){this[_0x4e80c9(0xcf)]=_0xeb1aef[_0x4e80c9(0x127)];if(_0xeb1aef['val']===setup['SYSTEM_MODES'][_0x4e80c9(0x1bf)])await recorder[_0x4e80c9(0xb8)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x4e80c9(0x1d4)]){let _0x1a5c5c=![],_0x3c462e=0x0,_0x17e02b='manual';if(this[_0x4e80c9(0xcf)]===_0x4e80c9(0x189))_0x1a5c5c=!![],_0x3c462e=0x168,_0x17e02b=_0x4e80c9(0x125);else this[_0x4e80c9(0xcf)]===_0x4e80c9(0x1f6)&&(_0x1a5c5c=!![],_0x3c462e=0x5a0,_0x17e02b='Guest\x20Mode');pythonBridge[_0x4e80c9(0xeb)](this,'SET_LEARNING_MODE',{'active':_0x1a5c5c,'duration':_0x3c462e,'label':_0x17e02b}),await this[_0x4e80c9(0x1fb)]('analysis.security.learningStatus',{'val':JSON[_0x4e80c9(0x18b)]({'active':_0x1a5c5c,'label':_0x17e02b,'timestamp':Date[_0x4e80c9(0x170)]()}),'ack':!![]});}}if(!_0xeb1aef[_0x4e80c9(0x200)])this[_0x4e80c9(0x145)](_0x54bfe3,{'val':this[_0x4e80c9(0xcf)],'ack':!![]});return;}if(_0x54bfe3[_0x4e80c9(0x130)]('analysis.energy.warmupSources')&&_0xeb1aef[_0x4e80c9(0x200)])this['protectAiMemory'](_0xeb1aef[_0x4e80c9(0x127)]);if(_0x54bfe3[_0x4e80c9(0x130)](_0x4e80c9(0x18f))&&_0xeb1aef[_0x4e80c9(0x200)]&&this['activeModules'][_0x4e80c9(0x117)])automation[_0x4e80c9(0x20f)](this);if(!_0xeb1aef['ack']){if(_0x54bfe3[_0x4e80c9(0x10d)](_0x4e80c9(0x1d3))&&_0xeb1aef[_0x4e80c9(0x127)]){this[_0x4e80c9(0x145)](_0x54bfe3,{'val':![],'ack':!![]}),aiAgent[_0x4e80c9(0x208)](this);return;}if(_0x54bfe3['includes'](_0x4e80c9(0xbf))&&_0xeb1aef[_0x4e80c9(0x127)]){this[_0x4e80c9(0x145)](_0x54bfe3,{'val':![],'ack':!![]});if(this[_0x4e80c9(0x1d4)])aiAgent[_0x4e80c9(0x13e)](this,pythonBridge);return;}if(_0x54bfe3[_0x4e80c9(0x10d)]('triggerBriefing')&&_0xeb1aef['val']){this[_0x4e80c9(0x145)](_0x54bfe3,{'val':![],'ack':!![]}),aiAgent[_0x4e80c9(0x1e1)](this);return;}if(_0x54bfe3[_0x4e80c9(0x10d)](_0x4e80c9(0x140))&&_0xeb1aef[_0x4e80c9(0x127)]){this[_0x4e80c9(0x145)](_0x54bfe3,{'val':![],'ack':!![]}),aiAgent[_0x4e80c9(0x13d)](this);return;}if(_0x54bfe3[_0x4e80c9(0x10d)](_0x4e80c9(0x157))&&_0xeb1aef[_0x4e80c9(0x127)]){this[_0x4e80c9(0x145)](_0x54bfe3,{'val':![],'ack':!![]});if(this[_0x4e80c9(0x1d4)])try{const _0x2243fc=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x2243fc&&_0x2243fc['val']){const _0x15e69c=JSON[_0x4e80c9(0x122)](_0x2243fc[_0x4e80c9(0x127)]);this[_0x4e80c9(0x1fb)](_0x4e80c9(0x198),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x4e80c9(0xeb)](this,_0x4e80c9(0xdb),{'sequences':_0x15e69c});}}catch(_0xbc9965){}return;}if(_0x54bfe3[_0x4e80c9(0x10d)](_0x4e80c9(0x1ed))&&_0xeb1aef[_0x4e80c9(0x127)]){this[_0x4e80c9(0x145)](_0x54bfe3,{'val':![],'ack':!![]});try{aiAgent[_0x4e80c9(0x123)](this,'NIGHT'),setTimeout(()=>aiAgent['generateHealthReport'](this,_0x4e80c9(0x1c0)),0x2ee0);if(this[_0x4e80c9(0x1d4)]){this[_0x4e80c9(0x146)]();const _0x551586=await this[_0x4e80c9(0x1e2)](_0x4e80c9(0x1f4));if(_0x551586&&_0x551586[_0x4e80c9(0x127)])pythonBridge[_0x4e80c9(0xeb)](this,'TRAIN_HEALTH',{'digests':JSON[_0x4e80c9(0x122)](_0x551586[_0x4e80c9(0x127)])});}}catch(_0x403e3d){this[_0x4e80c9(0x162)][_0x4e80c9(0xf9)](_0x4e80c9(0x1dc)+_0x403e3d[_0x4e80c9(0x150)]);}return;}if(_0x54bfe3[_0x4e80c9(0x10d)](_0x4e80c9(0x1a2))&&_0xeb1aef[_0x4e80c9(0x127)]){this[_0x4e80c9(0x145)](_0x54bfe3,{'val':![],'ack':!![]}),await this[_0x4e80c9(0x19f)]();return;}if(_0x54bfe3[_0x4e80c9(0x10d)](_0x4e80c9(0x1b6))&&_0xeb1aef['val']){this[_0x4e80c9(0x145)](_0x54bfe3,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x4d7588=await this[_0x4e80c9(0x1e2)](_0x4e80c9(0x10f));if(_0x4d7588&&_0x4d7588[_0x4e80c9(0x127)]){const _0x9994b3={};if(this[_0x4e80c9(0xde)][_0x4e80c9(0xfb)])this[_0x4e80c9(0xde)][_0x4e80c9(0xfb)][_0x4e80c9(0x15c)](_0x38b8f9=>{const _0x5513f4=_0x4e80c9;if(_0x38b8f9['id']&&_0x38b8f9[_0x5513f4(0xf0)])_0x9994b3[_0x38b8f9['id']]=_0x38b8f9['type'];});pythonBridge['send'](this,_0x4e80c9(0x11e),{'events':JSON[_0x4e80c9(0x122)](_0x4d7588[_0x4e80c9(0x127)]),'deviceMap':_0x9994b3});}}catch(_0x19aaac){}return;}if(_0x54bfe3[_0x4e80c9(0x10d)](_0x4e80c9(0x11c))&&_0xeb1aef[_0x4e80c9(0x127)]){this[_0x4e80c9(0x145)](_0x54bfe3,{'val':![],'ack':!![]}),topology['updateTopology'](this);if(this[_0x4e80c9(0x1d4)])try{const _0x335e37=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x335e37&&_0x335e37['val'])pythonBridge['send'](this,_0x4e80c9(0xdd),{'sequences':JSON[_0x4e80c9(0x122)](_0x335e37[_0x4e80c9(0x127)])});}catch(_0x5877f8){}return;}}const _0x1ebce6=(this['config'][_0x4e80c9(0xfb)]||[])[_0x4e80c9(0x1d5)](_0x17e715=>_0x17e715['id']===_0x54bfe3);if(_0x1ebce6){const _0x2191c2=await recorder[_0x4e80c9(0x204)](this,_0x54bfe3,_0xeb1aef,_0x1ebce6);_0x2191c2&&this[_0x4e80c9(0x145)](_0x4e80c9(0x14f),{'val':Date[_0x4e80c9(0x170)](),'ack':!![]});_0x2191c2&&_0x2191c2[_0x4e80c9(0xf0)]===_0x4e80c9(0x152)&&_0x2191c2['location']&&this['isProVersion']&&deadMan[_0x4e80c9(0xe0)](this,_0x2191c2[_0x4e80c9(0x21b)]);_0xeb1aef['val']&&(_0xeb1aef[_0x4e80c9(0x127)]===!![]||_0xeb1aef[_0x4e80c9(0x127)]===0x1||String(_0xeb1aef[_0x4e80c9(0x127)])['toLowerCase']()===_0x4e80c9(0xc7))&&(_0x1ebce6[_0x4e80c9(0xf0)]&&(_0x1ebce6[_0x4e80c9(0xf0)][_0x4e80c9(0x10d)]('window')||_0x1ebce6['type'][_0x4e80c9(0x10d)](_0x4e80c9(0xe7)))&&this[_0x4e80c9(0xba)](_0x1ebce6));if(_0x1ebce6[_0x4e80c9(0xf0)]===_0x4e80c9(0x105)||_0x1ebce6['type']===_0x4e80c9(0x1b1)){if(this[_0x4e80c9(0xc2)][_0x4e80c9(0x117)])automation['cleanupGhostInterventions'](this);}}}async[a0_0x36101d(0x1c3)](_0x31ceed){const _0xf15313=a0_0x36101d;if(!this['memoryCache']||Date[_0xf15313(0x170)]()-this['bootTime']>0x493e0)return;try{const _0x15d18b=JSON[_0xf15313(0x122)](_0x31ceed),_0x171d27=this[_0xf15313(0x12f)]['sources'];let _0x251251=![];for(const _0x1fdd78 in _0x171d27){if(_0x171d27[_0x1fdd78][_0xf15313(0x10d)]('AI')&&_0x15d18b[_0x1fdd78]&&!_0x15d18b[_0x1fdd78][_0xf15313(0x10d)]('AI')){_0x251251=!![];break;}}_0x251251&&(await this[_0xf15313(0x1fb)](_0xf15313(0x18f),{'val':JSON[_0xf15313(0x18b)](this[_0xf15313(0x12f)][_0xf15313(0x1cf)]),'ack':!![]}),await this[_0xf15313(0x1fb)]('analysis.energy.warmupSources',{'val':JSON[_0xf15313(0x18b)](this[_0xf15313(0x12f)]['sources']),'ack':!![]}));}catch(_0x336636){}}async[a0_0x36101d(0x17e)](){const _0x4fcfd7=a0_0x36101d;try{const _0x289bd8=await this[_0x4fcfd7(0x1e2)](setup['SYSTEM_DP_MODE']);if(_0x289bd8&&_0x289bd8['val'])this[_0x4fcfd7(0xcf)]=_0x289bd8['val'];}catch(_0x1e8a23){this[_0x4fcfd7(0xcf)]=setup[_0x4fcfd7(0x1f2)][_0x4fcfd7(0xf3)];}}async[a0_0x36101d(0x1e7)](){const _0xee34c9=a0_0x36101d,_0x4beb7f=this['config'][_0xee34c9(0x1ae)]||[];if(_0x4beb7f['length']===0x0)return![];const _0x285696=[],_0x2f75ce=Date[_0xee34c9(0x170)](),_0x1594ba=0x5*0x3c*0x3e8;for(const _0x922a30 of _0x4beb7f){try{let _0x2975bd=![];try{const _0x4f62e9=await this[_0xee34c9(0xe1)](_0x922a30+_0xee34c9(0x14c));if(_0x4f62e9&&_0x4f62e9[_0xee34c9(0x127)]===!![])_0x2975bd=!![];}catch(_0x388847){}if(!_0x2975bd)try{const _0x536dd1=await this[_0xee34c9(0xe1)](_0x922a30+_0xee34c9(0x16a));if(_0x536dd1&&_0x536dd1['ts']){const _0x2f949b=_0x2f75ce-_0x536dd1['ts'];if(_0x2f949b<_0x1594ba)_0x2975bd=!![];}}catch(_0x248f3c){}if(!_0x2975bd)try{const _0x286beb=await this[_0xee34c9(0xe1)](_0x922a30+'.uptime');if(_0x286beb&&typeof _0x286beb[_0xee34c9(0x127)]===_0xee34c9(0xda)&&_0x286beb['val']>0x0)_0x2975bd=!![];}catch(_0x3494f4){}if(!_0x2975bd)try{const _0x57ffc6=await this[_0xee34c9(0xe1)](_0x922a30);if(_0x57ffc6){const _0x2022cf=_0x2f75ce-(_0x57ffc6['ts']||0x0);_0x2022cf<_0x1594ba&&(_0x57ffc6['val']===!![]||_0x57ffc6[_0xee34c9(0x127)]===_0xee34c9(0x184)||_0x57ffc6[_0xee34c9(0x127)]===0x1)&&(_0x2975bd=!![]);}}catch(_0x334916){}if(_0x2975bd){const _0x1cbd34=_0x922a30['split']('.'),_0x574a2a=_0x1cbd34[_0x1cbd34['length']-0x1]||_0x922a30;_0x285696['push'](_0x574a2a);}}catch(_0x2916d2){this[_0xee34c9(0x162)][_0xee34c9(0xf9)](_0xee34c9(0xd7)+_0x922a30+':\x20'+_0x2916d2[_0xee34c9(0x150)]);}}const _0x31da53=_0x285696[_0xee34c9(0x183)]>0x0?_0x285696['join'](',\x20'):_0xee34c9(0x103);return await this[_0xee34c9(0x1fb)](_0xee34c9(0x20a),{'val':_0x31da53,'ack':!![]}),_0x285696[_0xee34c9(0x183)]>0x0;}async['runAutopilot'](){const _0x3f91da=a0_0x36101d;await aiAgent['runGeminiAnalysis'](this);this['activeModules'][_0x3f91da(0x1db)]&&(this[_0x3f91da(0x1d7)](),this['triggerGaitAnalysis']());if(this[_0x3f91da(0xc2)][_0x3f91da(0x117)])this[_0x3f91da(0x19f)]();}async[a0_0x36101d(0x1a8)](){const _0x7a8e35=a0_0x36101d,_0x519cba=[_0x7a8e35(0x1c5),'accuweather.0','daswetter.0'],_0x100be1=[_0x7a8e35(0x185),_0x7a8e35(0x135),_0x7a8e35(0x1b8)];for(const _0x153398 of _0x519cba){for(const _0x1d1b1e of _0x100be1){try{const _0x3b786b=_0x153398+'.'+_0x1d1b1e,_0x9e6783=await this[_0x7a8e35(0xe1)](_0x3b786b);if(_0x9e6783&&_0x9e6783[_0x7a8e35(0x127)]){const _0x38954e=String(_0x9e6783[_0x7a8e35(0x127)])[_0x7a8e35(0x192)]();if(_0x38954e[_0x7a8e35(0x10d)](_0x7a8e35(0x199))||_0x38954e['includes']('heiter')||_0x38954e[_0x7a8e35(0x10d)](_0x7a8e35(0x167))||_0x38954e['includes'](_0x7a8e35(0x12b))||_0x38954e[_0x7a8e35(0x10d)]('clear'))return this[_0x7a8e35(0x162)][_0x7a8e35(0xf7)](_0x7a8e35(0x207)+_0x3b786b),!![];}}catch(_0x1c7ca5){}}}return![];}[a0_0x36101d(0x1d0)](){const _0x442f1f=a0_0x36101d;if(!this[_0x442f1f(0x1d4)])return;try{this[_0x442f1f(0x1e2)](_0x442f1f(0x1d2),(_0x1ec9e7,_0x3b3b09)=>{const _0x5cca2d=_0x442f1f;if(_0x1ec9e7||!_0x3b3b09||!_0x3b3b09[_0x5cca2d(0x127)])return;try{const _0x41aedd=JSON[_0x5cca2d(0x122)](_0x3b3b09[_0x5cca2d(0x127)]);if(!_0x41aedd||_0x41aedd['length']===0x0)return;pythonBridge['send'](this,'ANALYZE_GAIT',{'sequences':_0x41aedd}),this['log'][_0x5cca2d(0xf7)](_0x5cca2d(0xcb)+_0x41aedd['length']+_0x5cca2d(0x1a1));}catch(_0x7ea2ed){this[_0x5cca2d(0x162)]['warn'](_0x5cca2d(0x111)+_0x7ea2ed[_0x5cca2d(0x150)]);}});}catch(_0x4553f6){this[_0x442f1f(0x162)]['warn'](_0x442f1f(0xea)+_0x4553f6['message']);}}async[a0_0x36101d(0x19f)](){const _0x2dfe13=a0_0x36101d;if(!this[_0x2dfe13(0x1d4)]||!this[_0x2dfe13(0xc2)]['energy'])return;try{const _0x37ced7={},_0x1fab3d={},_0x38d7b4=this[_0x2dfe13(0xde)][_0x2dfe13(0xfb)]||[];for(const _0x277d0e of _0x38d7b4){if((_0x277d0e['type']==='temperature'||_0x277d0e[_0x2dfe13(0xf0)]===_0x2dfe13(0x1b1))&&_0x277d0e[_0x2dfe13(0x21b)])try{const _0x20ba48=await this[_0x2dfe13(0xe1)](_0x277d0e['id']);_0x20ba48&&typeof _0x20ba48[_0x2dfe13(0x127)]==='number'&&(_0x37ced7[_0x277d0e[_0x2dfe13(0x21b)]]=_0x20ba48[_0x2dfe13(0x127)],_0x1fab3d[_0x277d0e[_0x2dfe13(0x21b)]]=_0x277d0e[_0x2dfe13(0x20e)]||![]);}catch(_0x3ba777){}}let _0x2ee244=0xa;if(this['config'][_0x2dfe13(0x15b)])try{const _0x3ff9a6=await this[_0x2dfe13(0xe1)](this['config'][_0x2dfe13(0x15b)]);if(_0x3ff9a6&&typeof _0x3ff9a6['val']===_0x2dfe13(0xda))_0x2ee244=_0x3ff9a6['val'];}catch(_0x331c43){}const _0x58704b=await this[_0x2dfe13(0x1a8)]();let _0x472378={};try{const _0x367660=await this[_0x2dfe13(0x1e2)]('analysis.energy.warmupTargets');if(_0x367660&&_0x367660[_0x2dfe13(0x127)])_0x472378=JSON[_0x2dfe13(0x122)](_0x367660[_0x2dfe13(0x127)]);}catch(_0x2e1389){}pythonBridge['send'](this,_0x2dfe13(0x138),{'current_temps':_0x37ced7,'t_out':_0x2ee244,'is_sunny':_0x58704b,'solar_flags':_0x1fab3d,'warmup_targets':_0x472378}),this[_0x2dfe13(0x162)]['info']('üîÆ\x20Energy\x20Prediction\x20triggered\x20('+Object[_0x2dfe13(0x134)](_0x37ced7)[_0x2dfe13(0x183)]+_0x2dfe13(0xee));}catch(_0x597931){this[_0x2dfe13(0x162)][_0x2dfe13(0xf9)](_0x2dfe13(0x181)+_0x597931[_0x2dfe13(0x150)]);}}[a0_0x36101d(0x1d7)](){const _0x561f79=a0_0x36101d;if(!this['rawEventLog']||this[_0x561f79(0x21a)][_0x561f79(0x183)]===0x0)return;const _0x55b09e=new Array(0x30)[_0x561f79(0x1e5)](0x0),_0x7f8097=Array[_0x561f79(0x137)]({'length':0x30},()=>[]),_0x41364a=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x561f79(0x21a)][_0x561f79(0x15c)](_0x4ae538=>{const _0x4580f3=_0x561f79,_0x4eb93d=new Date(_0x4ae538['timestamp']);if(_0x4eb93d[_0x4580f3(0x1ca)]()>=_0x41364a){const _0x539a26=_0x4eb93d[_0x4580f3(0x109)](),_0x21b713=_0x4eb93d[_0x4580f3(0x11a)](),_0x5d03b9=_0x539a26*0x2+Math['floor'](_0x21b713/0x1e);_0x5d03b9>=0x0&&_0x5d03b9<0x30&&(_0x55b09e[_0x5d03b9]++,_0x7f8097[_0x5d03b9]['push']({'time':_0x4eb93d['toLocaleTimeString'](_0x4580f3(0x1e8),{'hour':_0x4580f3(0x194),'minute':_0x4580f3(0x194)}),'location':_0x4ae538[_0x4580f3(0x21b)]||'Unbekannt','type':_0x4ae538['type']||_0x4580f3(0xe5)}));}}),this[_0x561f79(0x1fb)](_0x561f79(0x1bc),{'val':JSON[_0x561f79(0x18b)](_0x55b09e),'ack':!![]}),this[_0x561f79(0x1fb)](_0x561f79(0x151),{'val':JSON[_0x561f79(0x18b)](_0x7f8097),'ack':!![]});}async['handleInfrasound'](_0x191810){const _0x35a578=a0_0x36101d;if(!this[_0x35a578(0xde)][_0x35a578(0x1e3)]||typeof _0x191810!==_0x35a578(0xda))return;const _0x2a4067=this[_0x35a578(0xde)][_0x35a578(0xbd)]||0.04;this[_0x35a578(0x104)][_0x35a578(0x1b0)]({'timestamp':Date[_0x35a578(0x170)](),'value':_0x191810}),this[_0x35a578(0x104)][_0x35a578(0x183)]>0x64&&this['pressureBuffer'][_0x35a578(0x1a5)](),_0x191810>_0x2a4067&&!this[_0x35a578(0x1b4)]&&(this[_0x35a578(0x1b4)]=!![],this[_0x35a578(0x162)][_0x35a578(0xf9)](_0x35a578(0xf2)+_0x191810[_0x35a578(0x180)](0x4)+_0x35a578(0x139)+_0x2a4067+_0x35a578(0x114)),await this[_0x35a578(0x16c)](_0x191810,_0x35a578(0x18e)),setTimeout(()=>{this['infrasoundLocked']=![];},0x5*0x3c*0x3e8));}async[a0_0x36101d(0x16c)](_0x4623b6,_0x2d53f3){const _0xabd0fa=a0_0x36101d;if(!this[_0xabd0fa(0x1ab)]){const _0x156d70=this['eventHistory'][_0xabd0fa(0x126)](0x0,0xa),_0x27bc26=_0x156d70[_0xabd0fa(0x21c)](_0x53cd7d=>new Date(_0x53cd7d[_0xabd0fa(0x143)])[_0xabd0fa(0x218)](_0xabd0fa(0x1e8))+_0xabd0fa(0x159)+(_0x53cd7d['location']||'Unknown')+':\x20'+_0x53cd7d['name'])[_0xabd0fa(0x11d)]('\x0a');this['log'][_0xabd0fa(0xf9)]('üîä\x20FORENSIC:\x20Infraschall\x20bei\x20Abwesenheit!\x20Pressure:\x20'+_0x4623b6[_0xabd0fa(0x180)](0x4)+',\x20Events:\x0a'+_0x27bc26);if(this[_0xabd0fa(0xde)]['infrasoundArmingId'])try{const _0xdd0480=await this[_0xabd0fa(0xe1)](this[_0xabd0fa(0xde)][_0xabd0fa(0x1e9)]);_0xdd0480&&_0xdd0480['val']===!![]&&(await this[_0xabd0fa(0x1fb)](_0xabd0fa(0x19d),{'val':JSON[_0xabd0fa(0x18b)]({'timestamp':Date[_0xabd0fa(0x170)](),'pressure':_0x4623b6[_0xabd0fa(0x180)](0x4),'eventType':_0x2d53f3,'recentEvents':_0x156d70[_0xabd0fa(0x126)](0x0,0x3)}),'ack':!![]}),this[_0xabd0fa(0x162)][_0xabd0fa(0x18a)](_0xabd0fa(0x1fa)));}catch(_0x242836){}}else this[_0xabd0fa(0x162)][_0xabd0fa(0xf7)](_0xabd0fa(0x16f)+_0x4623b6[_0xabd0fa(0x180)](0x4)+_0xabd0fa(0x178));}async[a0_0x36101d(0xba)](_0x41d654){const _0x5e2321=a0_0x36101d;if(!_0x41d654||!_0x41d654[_0x5e2321(0x21b)])return;try{const _0x2ef8ba=(this['config'][_0x5e2321(0xfb)]||[])[_0x5e2321(0x17c)](_0x4ee05d=>_0x4ee05d[_0x5e2321(0x21b)]===_0x41d654['location']&&(_0x4ee05d[_0x5e2321(0xf0)]==='temperature'||_0x4ee05d[_0x5e2321(0xf0)]===_0x5e2321(0x1b1)));if(_0x2ef8ba[_0x5e2321(0x183)]===0x0)return;const _0x360d18=await this[_0x5e2321(0xe1)](_0x2ef8ba[0x0]['id']);if(!_0x360d18||typeof _0x360d18[_0x5e2321(0x127)]!==_0x5e2321(0xda))return;const _0x1656f6=_0x360d18['val'];let _0x56be3d=null;if(this['config'][_0x5e2321(0x15b)]){const _0x36a106=await this[_0x5e2321(0xe1)](this[_0x5e2321(0xde)][_0x5e2321(0x15b)]);_0x36a106&&typeof _0x36a106[_0x5e2321(0x127)]===_0x5e2321(0xda)&&(_0x56be3d=_0x36a106[_0x5e2321(0x127)]);}if(_0x56be3d!==null){const _0xf7aa53=Math[_0x5e2321(0xb9)](_0x1656f6-_0x56be3d);_0xf7aa53>0x3&&(this[_0x5e2321(0x162)][_0x5e2321(0xf7)](_0x5e2321(0x182)+_0x41d654[_0x5e2321(0x21b)]+_0x5e2321(0x110)+_0xf7aa53['toFixed'](0x1)+'¬∞C\x20(Innen:\x20'+_0x1656f6+_0x5e2321(0x1df)+_0x56be3d+_0x5e2321(0x1aa)),await this[_0x5e2321(0x1fb)](_0x5e2321(0x15d),{'val':JSON[_0x5e2321(0x18b)]({'room':_0x41d654[_0x5e2321(0x21b)],'timestamp':Date[_0x5e2321(0x170)](),'tempDiff':_0xf7aa53['toFixed'](0x1),'recommendation':_0xf7aa53>0x5?_0x5e2321(0xd4):_0x5e2321(0xed)}),'ack':!![]}));}}catch(_0x162f75){this[_0x5e2321(0x162)][_0x5e2321(0xf9)]('analyzeWindowOpening\x20error:\x20'+_0x162f75[_0x5e2321(0x150)]);}}async['appendToLog'](_0x17587a){const _0x278d1b=a0_0x36101d;if(!_0x17587a||typeof _0x17587a!==_0x278d1b(0x205))return;const _0x138905={'timestamp':_0x17587a[_0x278d1b(0x143)]||Date[_0x278d1b(0x170)](),'id':_0x17587a['id']||Date[_0x278d1b(0x170)]()[_0x278d1b(0x216)](),'name':_0x17587a[_0x278d1b(0x156)]||_0x278d1b(0x1c7),'type':_0x17587a[_0x278d1b(0xf0)]||_0x278d1b(0xc4),'location':_0x17587a[_0x278d1b(0x21b)]||_0x278d1b(0xd6),'value':_0x17587a[_0x278d1b(0x1d8)]||null};this[_0x278d1b(0xe9)]['unshift'](_0x138905);if(this[_0x278d1b(0xe9)][_0x278d1b(0x183)]>0x1388)this[_0x278d1b(0xe9)][_0x278d1b(0x1f9)]();await this[_0x278d1b(0x1fb)](_0x278d1b(0x12c),{'val':JSON[_0x278d1b(0x18b)](this[_0x278d1b(0xe9)]),'ack':!![]}),this['log'][_0x278d1b(0xf7)]('üìù\x20Manual\x20event\x20logged:\x20'+_0x138905['name']+'\x20('+_0x138905[_0x278d1b(0x21b)]+')');}[a0_0x36101d(0x1bb)](_0x510bab){}}if(require[a0_0x36101d(0x1cb)]!==module)module['exports']=_0x4244b4=>new CogniLiving(_0x4244b4);else new CogniLiving();