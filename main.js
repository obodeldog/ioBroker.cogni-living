function a0_0x50f7(_0x4e7d65,_0x20f44b){const _0x5ca7a0=a0_0x286c();return a0_0x50f7=function(_0x25196c,_0x4146ab){_0x25196c=_0x25196c-0x184;let _0x286cc0=_0x5ca7a0[_0x25196c];return _0x286cc0;},a0_0x50f7(_0x4e7d65,_0x20f44b);}const a0_0x26cc1d=a0_0x50f7;(function(_0x83788e,_0x48bf66){const _0x38392d=a0_0x50f7,_0x1c8acf=_0x83788e();while(!![]){try{const _0x68007d=parseInt(_0x38392d(0x19f))/0x1*(parseInt(_0x38392d(0x1cb))/0x2)+parseInt(_0x38392d(0x249))/0x3*(-parseInt(_0x38392d(0x29d))/0x4)+parseInt(_0x38392d(0x1f9))/0x5*(parseInt(_0x38392d(0x1ba))/0x6)+parseInt(_0x38392d(0x256))/0x7+parseInt(_0x38392d(0x215))/0x8+-parseInt(_0x38392d(0x21c))/0x9+parseInt(_0x38392d(0x27e))/0xa;if(_0x68007d===_0x48bf66)break;else _0x1c8acf['push'](_0x1c8acf['shift']());}catch(_0x7251ec){_0x1c8acf['push'](_0x1c8acf['shift']());}}}(a0_0x286c,0x1eb48));function a0_0x286c(){const _0xb9f950=['ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','./lib/recorder','updated','moduleComfort','notifyTelegramEnabled','moduleEnergy','analysis.automation.patternDetected','getForeignObjectsAsync','runPythonHealthCheck','geminiModel','json','ltmJob','runAutopilot','Forensic\x20Infrasound\x20Log','abs','{\x22default\x22:\x2021}','callback','LTM.triggerDailyDigest','thermostat','notifyTelegramInstance','Kein\x20Kalender-Adapter','sendNotification','Could\x20not\x20read\x20daily\x20vector:\x20','dailyDigests','common','times','ErklÃ¤rt\x20durch:\x20','driftAnalysisTimer','val','communicate.request','analysisInterval','859040NjVzSL','number','getHours','analysis.energy.warmupTargets','infrasoundThreshold','Reinforcement\x20Learning\x20Penalties','eventHistory','modeResetJob','setState','isSolar','Verbindung\x20erfolgreich!','enum.rooms.*','Test','analysis.automation.autoApply','./lib/setup','info','join','calendarName','debug','scanDevices','Room\x20Dwell\x20Time\x20Stats\x20(Today/Yesterday)','triggerGaitAnalysis','some','moduleSecurity','cancel','infrasoundSensorId','dependencyInstallInProgress','.system.mode','checkSolarCondition','triggerDailyDigest','abortExitTimer','56UMkITK','Fenster\x20geÃ¶ffnet:\x20','analysis.training.triggerTopology','protectAiMemory','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','getState','manual','find','getOutsideTemperatureNumeric','analysis.energy.insulationScore','cogni-living','LTM.baselineStatus','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','search','analysis.health.todayVector','forEach','forecast.current.weather','appendToLog','runBaselineDriftAnalysis','[Health]\x20Error\x20parsing\x20digests\x20for\x20check:\x20','TRAIN_COMFORT','length','stringify','\x20rooms.','currentSystemMode','Kein\x20API\x20Key\x20Ã¼bergeben','checkCalendarTriggers','analysis.training.triggerEnergy','./lib/ai_agent','\x20opened.\x20Peak\x20Pressure:\x20','ANALYZE_HEALTH','date','triggerEnergyPrediction','analysisTimer','clear','warn','SET_TOPOLOGY','message','onUnload','sources','Gait\x20Speed\x20Calculation\x20Proof','getStateAsync','runGeminiAnalysis','analysis.energy.activeEnforcements','onStateChange','[Infrasound]\x20ðŸŸ¡\x20Debug-Mode:\x20Alarm\x20detected\x20but\x20suppressed\x20because\x20presence=true.','\x20hPa\x20(Threshold:\x20','Daten\x20nicht\x20verfÃ¼gbar','analyzeWindowOpening','add','.communicate.request','updateTopology','TRAIN_TOPOLOGY','motion','isPresent','getLtmData','minutes_safe','rawEventLog','ðŸ“…\x20Midnight\x20Reset:\x20Archiving\x20Room\x20Stats\x20(Yesterday\x20<-\x20Today).','SYSTEM_DP_MODE','now','keys','Sec-Training\x20started...','memoryCache','push','toFixed','testNotification','getMinutes','exitTimer','analysis.energy.warmupTimes','onMessage','NextHours.Location_1.Day_1.current.symbol_desc','refreshCalendar','genAI','open','isArray','PINN\x20AI\x20Forecast','simulateButler','analysis.training.status','scores','instance','toLocaleDateString','heiter','OPTIMIZE_ENERGY','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','analysis.security.infrasoundLog','Guest\x20Mode','initZombies','[Infrasound]\x20ðŸš¨\x20ALARM\x20TRIGGERED!\x20Pressure\x20Wave:\x20','door','_calName','infrasoundEnabled','system.adapter.','bootTime','bind','location','toLowerCase','Notification\x20Test\x20Failed:\x20','state','lastAlertState','ALARM','stateChange','setupDriftAnalysisScheduler','subscribeStates','[Integrator]\x20Error:\x20','2kICTsH','subscribeForeignStatesAsync','slice','name','log','endsWith','TRAIN_SECURITY','automation.triggerAction','exitGraceTimer','values','lastTrackerEventTime','infrasoundLocked','Gemini\x20Init\x20Error:\x20','MATCH\x20(False\x20Positive)','setPresence','NORMAL','triggerBriefing','CALIB','guest','onReady','namespace','exports','cogni-living\x20adapter\x20starting\x20(v','sort','initSystemConfig','models/gemini-flash-latest','updateHealthVector','178014kHAvul','notifyPushoverEnabled','LTM.rawEventLog','devices','today','dismissAutomation','./lib/python_bridge','scanThermostats','online','[Forensics]\x20Infrasound\x20Event\x20correlated:\x20','object','healthTrendInterval','enum.functions.*','.data.table','handleInfrasound','party','sonn','109926jhorWU','./lib/topology','matrix','Keine\x20Antwort\x20von\x20Gemini','systemConfig','key','checkWifiPresence','getForeignObjectAsync','monitorEnforcements','analysis.triggerBriefing','briefingJob','checkAndInstall','sendTo','Current.WeatherText','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','Lernphase\x20(','role','getOverviewData','timestamp','Daily\x20Activity\x20Vector\x20(24h)','geminiApiKey','entries','analysisHistory','checkThermostats','apply','SET_LEARNING_MODE','sendMorningBriefing','magnet','\x20hPa\x20(Limit:\x20','split','getCalendarNames','scanForDevices','LTM.trainingData.thermodynamics','(((.+)+)+)+$','analysis.automation.description','pop','system.presenceWho','sensor.window','security.alarm_triggered','analysis.trigger','ack','triggerInfrasoundCorrelation','analysis.topology.structure','sunny','Aktiv\x20(','checkLicense','5vXSHUL','simulateEnergyMPC','filter','./lib/scanner',')\x20-\x20Phase\x20E\x20(UX\x20&\x20AAL)','moduleHealth','string','window','./lib/automation','Active\x20Ventilation\x20Alerts','SYSTEM_MODES','constructor','getEnums','yesterday','analysis.security.learningStatus','testApiKey','setHours','\x20min\x20ausbleiben.','Key\x20not\x20found\x20or\x20not\x20provided','toString','error','setObjectNotExistsAsync','General\x20Activity\x20Trend\x20(%)','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','enum','ANALYZE_GAIT','createDailyDigest','TRAIN_HEALTH','1289056kQmSuF','\x20hPa.\x20Einbruch\x20wahrscheinlich.','analysis.training.triggerSecurity','updateLocation','createAllObjects','minDaysForBaseline','apiKey','1673523ROjwAO','stopService','isProVersion','setStateAsync','initHistory','subscribeForeignStates','notifyPushoverInstance','getForeignStateAsync','command','[Calibration]\x20Window\x20','text','application/json','fill','accuweather.0','licenseKey','from','trackerHeartbeat','analysis.energy.ventilationAlerts','WiFi\x20Presence\x20detected.','updateTopologyMatrix','includes','send','ðŸ§ \x20Memory:\x20Cache\x20hydrated\x20with\x20','analysis.energy.warmupSources','analysis.energy.rlPenalties','cleanupGhostInterventions','Warm-Up\x20Target\x20Temps\x20(JSON)','temperature','calendarInstance','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','loadSystemMode','analysis.automation.targetId','startSystem','Comfort\x20Train\x20Error:\x20','config','Keine\x20Sensor-AktivitÃ¤t','floor','analysis.training.triggerComfort','LTM.dailyDigests','roomIntegratorTimer','sensorLastValues','parse','[Forensics]\x20Save\x20failed:\x20','pressureBuffer','TRAIN_ENERGY','29406RWCIuJ','version','Nuukanni\x20Security','unload','Fehler:\x20','setupModeResetScheduler','LTM.trainingData.sequences','analysis.automation.triggerAction','infrasoundArmingId','Unknown','analysis.activity.roomStats','analysis.prediction.trackerConfidence','integrateRoomTime','436184grrkTf','Instanz\x20nicht\x20gefunden','analysis.prediction.trackerTopRoom','TRACK_EVENT','type','analysis.training.triggerHealth','ANOMALY\x20(Real\x20Threat?)','Sensors\x20used\x20for\x20Gait\x20Analysis','./lib/installer'];a0_0x286c=function(){return _0xb9f950;};return a0_0x286c();}const a0_0x4146ab=(function(){let _0x3119cb=!![];return function(_0x1ba436,_0x494746){const _0x3c5f3b=_0x3119cb?function(){const _0x204b77=a0_0x50f7;if(_0x494746){const _0x10315c=_0x494746[_0x204b77(0x1e3)](_0x1ba436,arguments);return _0x494746=null,_0x10315c;}}:function(){};return _0x3119cb=![],_0x3c5f3b;};}()),a0_0x25196c=a0_0x4146ab(this,function(){const _0x1b06c6=a0_0x50f7;return a0_0x25196c[_0x1b06c6(0x20c)]()[_0x1b06c6(0x2aa)](_0x1b06c6(0x1ec))['toString']()[_0x1b06c6(0x204)](a0_0x25196c)['search'](_0x1b06c6(0x1ec));});a0_0x25196c();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require(a0_0x26cc1d(0x25e)),scanner=require(a0_0x26cc1d(0x1fc)),schedulers=require('./lib/scheduler'),topology=require(a0_0x26cc1d(0x1cc)),setup=require(a0_0x26cc1d(0x28c)),recorder=require(a0_0x26cc1d(0x260)),pythonBridge=require(a0_0x26cc1d(0x1c0)),aiAgent=require(a0_0x26cc1d(0x2b9)),deadMan=require('./lib/dead_man'),automation=require(a0_0x26cc1d(0x201)),GEMINI_MODEL=a0_0x26cc1d(0x1b8);class CogniLiving extends utils['Adapter']{constructor(_0x5056f2){const _0x4d4945=a0_0x26cc1d;super({..._0x5056f2,'name':_0x4d4945(0x2a7)}),this['eventHistory']=[],this['analysisHistory']=[],this[_0x4d4945(0x2d6)]=[],this[_0x4d4945(0x276)]=[],this[_0x4d4945(0x244)]={},this[_0x4d4945(0x1cf)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x4d4945(0x2d3)]=!![],this[_0x4d4945(0x2e1)]=null,this[_0x4d4945(0x1a7)]=null,this['isGracePeriodActive']=![],this[_0x4d4945(0x2e6)]=null,this[_0x4d4945(0x268)]=null,this[_0x4d4945(0x2b5)]=setup[_0x4d4945(0x203)][_0x4d4945(0x1ae)],this['isProVersion']=![],this[_0x4d4945(0x199)]=![],this[_0x4d4945(0x2be)]=null,this['ltmJob']=null,this[_0x4d4945(0x285)]=null,this[_0x4d4945(0x27a)]=null,this[_0x4d4945(0x1d5)]=null,this['trackerHeartbeat']=null,this[_0x4d4945(0x1c5)]=null,this[_0x4d4945(0x243)]=null,this['dependencyInstallInProgress']=![],this[_0x4d4945(0x1a9)]=Date[_0x4d4945(0x2d9)](),this['memoryCache']=null,this[_0x4d4945(0x193)]=Date[_0x4d4945(0x2d9)](),this['infrasoundLocked']=![],this[_0x4d4945(0x247)]=[],this['on']('ready',this[_0x4d4945(0x1b2)]['bind'](this)),this['on'](_0x4d4945(0x19b),this[_0x4d4945(0x2c9)]['bind'](this)),this['on'](_0x4d4945(0x24c),this[_0x4d4945(0x2c3)][_0x4d4945(0x194)](this)),this['on'](_0x4d4945(0x2c2),this['onMessage'][_0x4d4945(0x194)](this));}async['onReady'](){const _0x27cded=a0_0x26cc1d;this[_0x27cded(0x1a3)]['info'](_0x27cded(0x1b5)+this[_0x27cded(0x24a)]+_0x27cded(0x1fd));if(!installer[_0x27cded(0x1d6)](this,()=>this[_0x27cded(0x23c)]()))return;}async['startSystem'](){const _0x2ded44=a0_0x26cc1d;await setup[_0x2ded44(0x18d)](this);try{this[_0x2ded44(0x21e)]=await setup[_0x2ded44(0x1f8)](this[_0x2ded44(0x23e)][_0x2ded44(0x22a)]);}catch(_0xf5327d){}if(!this[_0x2ded44(0x23e)]['inactivityThresholdHours']||this[_0x2ded44(0x23e)]['inactivityThresholdHours']<0.1)this[_0x2ded44(0x23e)]['inactivityThresholdHours']=0xc;if(this[_0x2ded44(0x23e)]['moduleHealth']===undefined)this[_0x2ded44(0x23e)][_0x2ded44(0x1fe)]=!![];if(this[_0x2ded44(0x23e)][_0x2ded44(0x295)]===undefined)this[_0x2ded44(0x23e)][_0x2ded44(0x295)]=!![];if(this['config'][_0x2ded44(0x264)]===undefined)this['config'][_0x2ded44(0x264)]=!![];if(this['config'][_0x2ded44(0x262)]===undefined)this[_0x2ded44(0x23e)]['moduleComfort']=!![];await setup[_0x2ded44(0x220)](this),await setup[_0x2ded44(0x1b7)](this);try{const _0x12ecac=await this[_0x2ded44(0x2c6)](_0x2ded44(0x2e2)),_0x49af7d=await this[_0x2ded44(0x2c6)](_0x2ded44(0x233));_0x12ecac&&_0x12ecac[_0x2ded44(0x27b)]&&_0x49af7d&&_0x49af7d[_0x2ded44(0x27b)]&&(Date[_0x2ded44(0x2d9)]()-_0x12ecac['ts']<0x4*0xe10*0x3e8&&(this[_0x2ded44(0x2dc)]={'times':JSON['parse'](_0x12ecac[_0x2ded44(0x27b)]),'sources':JSON[_0x2ded44(0x245)](_0x49af7d['val'])},this[_0x2ded44(0x1a3)][_0x2ded44(0x28d)](_0x2ded44(0x232)+Object[_0x2ded44(0x2da)](this[_0x2ded44(0x2dc)]['times'])[_0x2ded44(0x2b2)]+_0x2ded44(0x2b4))));}catch(_0x5aa407){this['log'][_0x2ded44(0x2c0)]('Memory\x20Hydration\x20Failed:\x20'+_0x5aa407[_0x2ded44(0x2c2)]);}if(this['config'][_0x2ded44(0x1df)])try{this[_0x2ded44(0x2e6)]=new GoogleGenerativeAI(this[_0x2ded44(0x23e)][_0x2ded44(0x1df)]),this[_0x2ded44(0x268)]=this[_0x2ded44(0x2e6)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x2ded44(0x227)}});}catch(_0x3f3a00){this['log'][_0x2ded44(0x20d)](_0x2ded44(0x1ab)+_0x3f3a00['message']);}await setup[_0x2ded44(0x219)](this),await this[_0x2ded44(0x23a)](),await this[_0x2ded44(0x20e)](_0x2ded44(0x253),{'type':_0x2ded44(0x198),'common':{'name':_0x2ded44(0x292),'type':_0x2ded44(0x1ff),'role':'json','read':!![],'write':![],'def':_0x2ded44(0x2a9)},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.pinnForecast',{'type':'state','common':{'name':_0x2ded44(0x2e9),'type':_0x2ded44(0x1ff),'role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x2ded44(0x22d),{'type':_0x2ded44(0x198),'common':{'name':_0x2ded44(0x202),'type':'string','role':_0x2ded44(0x269),'read':!![],'write':![]},'native':{}}),await this[_0x2ded44(0x20e)](_0x2ded44(0x2e2),{'type':_0x2ded44(0x198),'common':{'name':_0x2ded44(0x239),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this[_0x2ded44(0x20e)](_0x2ded44(0x281),{'type':'state','common':{'name':_0x2ded44(0x236),'type':'string','role':_0x2ded44(0x269),'read':!![],'write':!![],'def':_0x2ded44(0x26e)},'native':{}}),await this[_0x2ded44(0x20e)](_0x2ded44(0x234),{'type':_0x2ded44(0x198),'common':{'name':_0x2ded44(0x283),'type':'string','role':'json','read':!![],'write':![],'def':'{}'},'native':{}}),await this['setObjectNotExistsAsync']('analysis.health.activityTrend',{'type':'state','common':{'name':_0x2ded44(0x20f),'type':_0x2ded44(0x27f),'role':'value','unit':'%','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.health.gaitSensors',{'type':_0x2ded44(0x198),'common':{'name':_0x2ded44(0x25d),'type':_0x2ded44(0x1ff),'role':_0x2ded44(0x226),'read':!![],'write':![]},'native':{}}),await this[_0x2ded44(0x20e)](_0x2ded44(0x2c8),{'type':_0x2ded44(0x198),'common':{'name':'Active\x20Calendar\x20Enforcements\x20(Locks)','type':_0x2ded44(0x1ff),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x2ded44(0x18b),{'type':_0x2ded44(0x198),'common':{'name':_0x2ded44(0x26c),'type':_0x2ded44(0x1ff),'role':_0x2ded44(0x269),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x2ded44(0x20e)]('analysis.health.gaitDebug',{'type':'state','common':{'name':_0x2ded44(0x2c5),'type':_0x2ded44(0x1ff),'role':_0x2ded44(0x226),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x2ded44(0x2ab),{'type':_0x2ded44(0x198),'common':{'name':_0x2ded44(0x1de),'type':_0x2ded44(0x1ff),'role':_0x2ded44(0x269),'read':!![],'write':![],'def':'[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]'},'native':{}});try{const _0xe5c4b7=await this[_0x2ded44(0x2c6)](_0x2ded44(0x1bc));if(_0xe5c4b7&&_0xe5c4b7['val'])this['rawEventLog']=JSON[_0x2ded44(0x245)](_0xe5c4b7[_0x2ded44(0x27b)]);}catch(_0x2d9f53){this[_0x2ded44(0x2d6)]=[];}try{const _0x403a37=await this[_0x2ded44(0x2c6)](_0x2ded44(0x242));if(_0x403a37&&_0x403a37['val'])this['dailyDigests']=JSON[_0x2ded44(0x245)](_0x403a37[_0x2ded44(0x27b)]);}catch(_0x1199e1){this[_0x2ded44(0x276)]=[];}const _0x502f31=this[_0x2ded44(0x276)]['length']>=(this[_0x2ded44(0x23e)]['minDaysForBaseline']||0x7)?_0x2ded44(0x1f7)+this[_0x2ded44(0x276)][_0x2ded44(0x2b2)]+'\x20Tage)':_0x2ded44(0x1da)+this[_0x2ded44(0x276)][_0x2ded44(0x2b2)]+'/'+(this[_0x2ded44(0x23e)][_0x2ded44(0x21a)]||0x7)+')';await this[_0x2ded44(0x21f)](_0x2ded44(0x2a8),{'val':_0x502f31,'ack':!![]}),this[_0x2ded44(0x19d)](_0x2ded44(0x1f2)),this[_0x2ded44(0x19d)](_0x2ded44(0x270)),this[_0x2ded44(0x19d)]('system.mode'),this[_0x2ded44(0x19d)](_0x2ded44(0x1d4)),this[_0x2ded44(0x19d)](_0x2ded44(0x250)),this[_0x2ded44(0x19d)](_0x2ded44(0x28b)),this['subscribeStates'](_0x2ded44(0x217)),this[_0x2ded44(0x19d)](_0x2ded44(0x25b)),this[_0x2ded44(0x19d)](_0x2ded44(0x2b8)),this['subscribeStates'](_0x2ded44(0x241)),this['subscribeStates'](_0x2ded44(0x29f)),this[_0x2ded44(0x19d)]('analysis.energy.mpcActive'),this['subscribeStates']('analysis.energy.warmupSources'),this['subscribeStates']('analysis.energy.warmupTimes');this[_0x2ded44(0x23e)][_0x2ded44(0x191)]&&this[_0x2ded44(0x23e)][_0x2ded44(0x297)]&&this[_0x2ded44(0x221)](this['config']['infrasoundSensorId']);const _0x298b1d=this['config'][_0x2ded44(0x1bd)];if(_0x298b1d)for(const _0x223884 of _0x298b1d){await this[_0x2ded44(0x1a0)](_0x223884['id']);}const _0x1a30c3=this[_0x2ded44(0x23e)]['presenceDevices'];if(_0x1a30c3)for(const _0x5cde84 of _0x1a30c3){await this['subscribeForeignStatesAsync'](_0x5cde84);}if(this[_0x2ded44(0x23e)][_0x2ded44(0x263)]&&this['config'][_0x2ded44(0x272)])await this['subscribeForeignStatesAsync'](this[_0x2ded44(0x23e)][_0x2ded44(0x272)]+_0x2ded44(0x2cf));setTimeout(()=>this[_0x2ded44(0x1d1)](),0x1388);if(this['analysisTimer'])clearInterval(this['analysisTimer']);const _0x2c8415=this[_0x2ded44(0x23e)][_0x2ded44(0x27d)]||0xf;_0x2c8415>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x5bed0b=_0x2ded44;this[_0x5bed0b(0x26b)](),this[_0x5bed0b(0x23e)][_0x5bed0b(0x264)]!==![]&&automation[_0x5bed0b(0x1d3)](this);},_0x2c8415*0x3c*0x3e8));setTimeout(()=>{const _0x4fcfc4=_0x2ded44;this[_0x4fcfc4(0x23e)][_0x4fcfc4(0x264)]!==![]&&(automation[_0x4fcfc4(0x2b7)](this),automation['monitorEnforcements'](this));},0x2710);this[_0x2ded44(0x23e)]['trackerEnabled']!==![]&&(this[_0x2ded44(0x22c)]=setInterval(()=>{const _0x330eea=_0x2ded44;if(this[_0x330eea(0x21e)]){const _0x461dd0=Date['now'](),_0x8d89b1=this[_0x330eea(0x1a9)]||_0x461dd0,_0x3b2729=(_0x461dd0-_0x8d89b1)/0x3e8;_0x3b2729>0x2&&(this[_0x330eea(0x1a9)]=_0x461dd0,pythonBridge['send'](this,_0x330eea(0x259),{'room':null,'dt':_0x3b2729}));}},0xbb8));if(this[_0x2ded44(0x243)])clearInterval(this[_0x2ded44(0x243)]);this[_0x2ded44(0x255)](),this[_0x2ded44(0x243)]=setInterval(async()=>{const _0x23fcfb=_0x2ded44;await this[_0x23fcfb(0x255)]();},0x3c*0x3e8);if(this[_0x2ded44(0x1c5)])clearInterval(this[_0x2ded44(0x1c5)]);this['healthTrendInterval']=setInterval(()=>{const _0x1df55d=_0x2ded44;this[_0x1df55d(0x21e)]&&this[_0x1df55d(0x23e)]['moduleHealth']!==![]&&this[_0x1df55d(0x267)]();},0x4*0x3c*0x3c*0x3e8),schedulers['setupLtmScheduler'](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers[_0x2ded44(0x24e)](this),schedulers[_0x2ded44(0x19c)](this,()=>aiAgent[_0x2ded44(0x2af)](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent[_0x2ded44(0x1e5)](this)),pythonBridge['startService'](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x4b4886=_0x2ded44;await topology[_0x4b4886(0x2d0)](this);try{const _0x4ee36b=await this[_0x4b4886(0x2c6)](_0x4b4886(0x1f5));if(_0x4ee36b&&_0x4ee36b[_0x4b4886(0x27b)])pythonBridge[_0x4b4886(0x231)](this,_0x4b4886(0x2c1),JSON[_0x4b4886(0x245)](_0x4ee36b[_0x4b4886(0x27b)]));}catch(_0x4c51eb){}this['config']['moduleHealth']!==![]&&(this[_0x4b4886(0x267)](),this[_0x4b4886(0x293)]()),this[_0x4b4886(0x2bd)](),this[_0x4b4886(0x1b9)]();},0x1388);}[a0_0x26cc1d(0x2c3)](_0x1bbb68){const _0x5a0dd7=a0_0x26cc1d;if(this['analysisTimer'])clearInterval(this['analysisTimer']);if(this[_0x5a0dd7(0x27a)])clearInterval(this[_0x5a0dd7(0x27a)]);if(this[_0x5a0dd7(0x22c)])clearInterval(this[_0x5a0dd7(0x22c)]);if(this['healthTrendInterval'])clearInterval(this[_0x5a0dd7(0x1c5)]);if(this[_0x5a0dd7(0x243)])clearInterval(this[_0x5a0dd7(0x243)]);if(this[_0x5a0dd7(0x26a)])this[_0x5a0dd7(0x26a)][_0x5a0dd7(0x296)]();if(this['modeResetJob'])this[_0x5a0dd7(0x285)]['cancel']();if(this['briefingJob'])this[_0x5a0dd7(0x1d5)][_0x5a0dd7(0x296)]();recorder[_0x5a0dd7(0x29c)](this),pythonBridge[_0x5a0dd7(0x21d)](this),_0x1bbb68();}async[a0_0x26cc1d(0x255)](){const _0x3fe893=a0_0x26cc1d;if(!this['isPresent'])return;try{let _0x21a677=null;try{const _0x14f0ab=await this[_0x3fe893(0x2c6)](_0x3fe893(0x258)),_0x3f36a4=await this[_0x3fe893(0x2c6)](_0x3fe893(0x254));_0x14f0ab&&_0x14f0ab[_0x3fe893(0x27b)]&&_0x3f36a4&&_0x3f36a4['val']&&_0x3f36a4[_0x3fe893(0x27b)]>0.3&&(_0x21a677=_0x14f0ab[_0x3fe893(0x27b)]);}catch(_0x1ff9b0){}if(!_0x21a677||_0x21a677===_0x3fe893(0x252)||_0x21a677==='Init...')return;const _0xd793a7=_0x3fe893(0x253),_0x602c72=await this[_0x3fe893(0x2c6)](_0xd793a7);let _0x17cb7c={'today':{},'yesterday':{},'date':new Date()[_0x3fe893(0x187)]()};if(_0x602c72&&_0x602c72[_0x3fe893(0x27b)])try{_0x17cb7c=JSON[_0x3fe893(0x245)](_0x602c72['val']);}catch(_0x4fbfe3){}if(!_0x17cb7c[_0x3fe893(0x1be)])_0x17cb7c[_0x3fe893(0x1be)]={};if(!_0x17cb7c[_0x3fe893(0x206)])_0x17cb7c[_0x3fe893(0x206)]={};const _0x4136b4=new Date()[_0x3fe893(0x187)]();_0x17cb7c[_0x3fe893(0x2bc)]!==_0x4136b4&&(this[_0x3fe893(0x1a3)]['info'](_0x3fe893(0x2d7)),_0x17cb7c[_0x3fe893(0x206)]=_0x17cb7c['today']||{},_0x17cb7c[_0x3fe893(0x1be)]={},_0x17cb7c[_0x3fe893(0x2bc)]=_0x4136b4);if(!_0x17cb7c[_0x3fe893(0x1be)][_0x21a677])_0x17cb7c['today'][_0x21a677]=0x0;_0x17cb7c[_0x3fe893(0x1be)][_0x21a677]++,await this[_0x3fe893(0x21f)](_0xd793a7,{'val':JSON[_0x3fe893(0x2b3)](_0x17cb7c),'ack':!![]});}catch(_0x445c28){this[_0x3fe893(0x1a3)][_0x3fe893(0x2c0)](_0x3fe893(0x19e)+_0x445c28[_0x3fe893(0x2c2)]);}}[a0_0x26cc1d(0x267)](){const _0x220f0f=a0_0x26cc1d;if(!this['isProVersion'])return;this[_0x220f0f(0x2a2)]('LTM.dailyDigests',(_0x3754c1,_0x5b0e70)=>{const _0x2c8ed2=_0x220f0f;if(_0x5b0e70&&_0x5b0e70[_0x2c8ed2(0x27b)])try{const _0x51706b=JSON[_0x2c8ed2(0x245)](_0x5b0e70['val']);_0x51706b['length']>0x0&&pythonBridge[_0x2c8ed2(0x231)](this,_0x2c8ed2(0x2bb),{'digest':_0x51706b[0x0]});}catch(_0x46c3a7){this['log'][_0x2c8ed2(0x2c0)](_0x2c8ed2(0x2b0)+_0x46c3a7[_0x2c8ed2(0x2c2)]);}});}async[a0_0x26cc1d(0x2c9)](_0x1df805,_0x4f0df5){const _0x3749b7=a0_0x26cc1d;if(!_0x4f0df5||this[_0x3749b7(0x298)])return;if(_0x1df805[_0x3749b7(0x230)]('telegram')&&_0x1df805[_0x3749b7(0x1a4)](_0x3749b7(0x27c))&&_0x4f0df5[_0x3749b7(0x27b)])return;if(this[_0x3749b7(0x23e)][_0x3749b7(0x191)]&&_0x1df805===this[_0x3749b7(0x23e)]['infrasoundSensorId']){this[_0x3749b7(0x1c8)](_0x4f0df5[_0x3749b7(0x27b)]);return;}if(_0x1df805===this[_0x3749b7(0x1b3)]+_0x3749b7(0x299)){if(_0x4f0df5[_0x3749b7(0x27b)]&&Object[_0x3749b7(0x1a8)](setup[_0x3749b7(0x203)])[_0x3749b7(0x230)](_0x4f0df5['val'])){this[_0x3749b7(0x2b5)]=_0x4f0df5[_0x3749b7(0x27b)];if(_0x4f0df5[_0x3749b7(0x27b)]===setup[_0x3749b7(0x203)]['VACATION'])await recorder[_0x3749b7(0x1ad)](this,![]);else await recorder['setPresence'](this,!![]);if(this['isProVersion']){let _0x3ccb10=![],_0x569b62=0x0,_0x5136a9=_0x3749b7(0x2a3);if(this['currentSystemMode']===_0x3749b7(0x1c9))_0x3ccb10=!![],_0x569b62=0x168,_0x5136a9='Party\x20Mode';else this[_0x3749b7(0x2b5)]===_0x3749b7(0x1b1)&&(_0x3ccb10=!![],_0x569b62=0x5a0,_0x5136a9=_0x3749b7(0x18c));pythonBridge[_0x3749b7(0x231)](this,_0x3749b7(0x1e4),{'active':_0x3ccb10,'duration':_0x569b62,'label':_0x5136a9}),await this['setStateAsync'](_0x3749b7(0x207),{'val':JSON[_0x3749b7(0x2b3)]({'active':_0x3ccb10,'label':_0x5136a9,'timestamp':Date[_0x3749b7(0x2d9)]()}),'ack':!![]});}}if(!_0x4f0df5[_0x3749b7(0x1f3)])this['setState'](_0x1df805,{'val':this['currentSystemMode'],'ack':!![]});return;}_0x1df805[_0x3749b7(0x1a4)](_0x3749b7(0x233))&&_0x4f0df5[_0x3749b7(0x1f3)]&&this[_0x3749b7(0x2a0)](_0x4f0df5[_0x3749b7(0x27b)]);_0x1df805[_0x3749b7(0x1a4)](_0x3749b7(0x2e2))&&_0x4f0df5[_0x3749b7(0x1f3)]&&(this['config'][_0x3749b7(0x264)]!==![]&&automation[_0x3749b7(0x2b7)](this));if(!_0x4f0df5[_0x3749b7(0x1f3)]){if(_0x1df805['includes'](_0x3749b7(0x1f2))&&_0x4f0df5[_0x3749b7(0x27b)]){this[_0x3749b7(0x286)](_0x1df805,{'val':![],'ack':!![]}),aiAgent[_0x3749b7(0x2c7)](this);return;}if(_0x1df805[_0x3749b7(0x230)](_0x3749b7(0x29b))&&_0x4f0df5[_0x3749b7(0x27b)]){this[_0x3749b7(0x286)](_0x1df805,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x3749b7(0x213)](this,pythonBridge);return;}if(_0x1df805[_0x3749b7(0x230)](_0x3749b7(0x1af))&&_0x4f0df5[_0x3749b7(0x27b)]){this[_0x3749b7(0x286)](_0x1df805,{'val':![],'ack':!![]}),aiAgent[_0x3749b7(0x1e5)](this);return;}if(_0x1df805['includes'](_0x3749b7(0x1a6))&&_0x4f0df5['val']){this[_0x3749b7(0x286)](_0x1df805,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x1df805['includes'](_0x3749b7(0x217))&&_0x4f0df5[_0x3749b7(0x27b)]){this[_0x3749b7(0x286)](_0x1df805,{'val':![],'ack':!![]});if(this[_0x3749b7(0x23e)][_0x3749b7(0x295)]===![])return;if(this[_0x3749b7(0x21e)])try{const _0x2dba7a=await this[_0x3749b7(0x2c6)](_0x3749b7(0x24f));if(_0x2dba7a&&_0x2dba7a[_0x3749b7(0x27b)]){const _0x304b9f=JSON[_0x3749b7(0x245)](_0x2dba7a[_0x3749b7(0x27b)]);this['setStateAsync'](_0x3749b7(0x184),{'val':_0x3749b7(0x2db),'ack':!![]}),pythonBridge[_0x3749b7(0x231)](this,_0x3749b7(0x1a5),{'sequences':_0x304b9f});}}catch(_0x558a3e){}return;}if(_0x1df805[_0x3749b7(0x230)]('analysis.training.triggerHealth')&&_0x4f0df5[_0x3749b7(0x27b)]){this[_0x3749b7(0x286)](_0x1df805,{'val':![],'ack':!![]});if(this[_0x3749b7(0x23e)]['moduleHealth']===![])return;if(this[_0x3749b7(0x21e)])try{const _0x44a4f2=await this[_0x3749b7(0x2c6)](_0x3749b7(0x242));if(_0x44a4f2&&_0x44a4f2[_0x3749b7(0x27b)])pythonBridge[_0x3749b7(0x231)](this,_0x3749b7(0x214),{'digests':JSON[_0x3749b7(0x245)](_0x44a4f2[_0x3749b7(0x27b)])});}catch(_0x3623c0){}return;}if(_0x1df805[_0x3749b7(0x230)](_0x3749b7(0x2b8))&&_0x4f0df5[_0x3749b7(0x27b)]){this[_0x3749b7(0x286)](_0x1df805,{'val':![],'ack':!![]});if(this[_0x3749b7(0x23e)][_0x3749b7(0x264)]===![])return;if(this[_0x3749b7(0x21e)])try{const _0x27713b=await this[_0x3749b7(0x2c6)](_0x3749b7(0x1eb));if(_0x27713b&&_0x27713b['val'])pythonBridge[_0x3749b7(0x231)](this,_0x3749b7(0x248),{'points':JSON[_0x3749b7(0x245)](_0x27713b[_0x3749b7(0x27b)])});}catch(_0x23c674){}return;}if(_0x1df805[_0x3749b7(0x230)](_0x3749b7(0x241))&&_0x4f0df5['val']){this[_0x3749b7(0x286)](_0x1df805,{'val':![],'ack':!![]});if(this[_0x3749b7(0x23e)]['moduleComfort']===![])return;if(this[_0x3749b7(0x21e)])try{const _0x1876ab=await this[_0x3749b7(0x2c6)](_0x3749b7(0x1bc));if(_0x1876ab&&_0x1876ab[_0x3749b7(0x27b)]){const _0x1c078b={};this[_0x3749b7(0x23e)][_0x3749b7(0x1bd)]&&Array[_0x3749b7(0x2e8)](this[_0x3749b7(0x23e)]['devices'])&&this[_0x3749b7(0x23e)]['devices'][_0x3749b7(0x2ac)](_0x57151b=>{const _0x331cdf=_0x3749b7;if(_0x57151b['id']&&_0x57151b['type'])_0x1c078b[_0x57151b['id']]=_0x57151b[_0x331cdf(0x25a)];}),pythonBridge['send'](this,_0x3749b7(0x2b1),{'events':JSON['parse'](_0x1876ab['val']),'deviceMap':_0x1c078b});}}catch(_0x3dbd56){this[_0x3749b7(0x1a3)]['error'](_0x3749b7(0x23d)+_0x3dbd56[_0x3749b7(0x2c2)]);}return;}if(_0x1df805['includes'](_0x3749b7(0x29f))&&_0x4f0df5[_0x3749b7(0x27b)]){this[_0x3749b7(0x286)](_0x1df805,{'val':![],'ack':!![]}),topology[_0x3749b7(0x2d0)](this);if(this[_0x3749b7(0x21e)])try{const _0x55112f=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x55112f&&_0x55112f[_0x3749b7(0x27b)]){const _0x265867=JSON[_0x3749b7(0x245)](_0x55112f[_0x3749b7(0x27b)]);pythonBridge['send'](this,_0x3749b7(0x2d1),{'sequences':_0x265867});}}catch(_0x57f10a){this['log'][_0x3749b7(0x20d)]('Graph-Brain\x20Train\x20Error:\x20'+_0x57f10a[_0x3749b7(0x2c2)]);}return;}}const _0x412ac2=(this['config'][_0x3749b7(0x1bd)]||[])[_0x3749b7(0x2a4)](_0x200768=>_0x200768['id']===_0x1df805);if(_0x412ac2){const _0x34aa91=await recorder['processSensorEvent'](this,_0x1df805,_0x4f0df5,_0x412ac2);_0x34aa91&&_0x34aa91[_0x3749b7(0x25a)]===_0x3749b7(0x2d2)&&_0x34aa91[_0x3749b7(0x195)]&&this['isProVersion']&&(this[_0x3749b7(0x23e)][_0x3749b7(0x295)]!==![]&&deadMan[_0x3749b7(0x218)](this,_0x34aa91[_0x3749b7(0x195)])),_0x4f0df5[_0x3749b7(0x27b)]&&(_0x4f0df5['val']===!![]||_0x4f0df5[_0x3749b7(0x27b)]===0x1||String(_0x4f0df5[_0x3749b7(0x27b)])[_0x3749b7(0x196)]()===_0x3749b7(0x2e7))&&(_0x412ac2[_0x3749b7(0x25a)]&&(_0x412ac2[_0x3749b7(0x25a)][_0x3749b7(0x230)](_0x3749b7(0x200))||_0x412ac2[_0x3749b7(0x25a)][_0x3749b7(0x230)](_0x3749b7(0x18f))||_0x412ac2[_0x3749b7(0x25a)][_0x3749b7(0x230)](_0x3749b7(0x1e6)))&&this[_0x3749b7(0x2cd)](_0x412ac2)),(_0x412ac2[_0x3749b7(0x25a)]===_0x3749b7(0x237)||_0x412ac2['type']===_0x3749b7(0x271))&&(this[_0x3749b7(0x23e)][_0x3749b7(0x264)]!==![]&&automation[_0x3749b7(0x235)](this));}}async['protectAiMemory'](_0x568c99){const _0xa85098=a0_0x26cc1d;if(!this[_0xa85098(0x2dc)]||Date[_0xa85098(0x2d9)]()-this[_0xa85098(0x193)]>0x493e0)return;if(!this[_0xa85098(0x2dc)][_0xa85098(0x2c4)]||!this[_0xa85098(0x2dc)][_0xa85098(0x278)])return;try{const _0x34d324=JSON[_0xa85098(0x245)](_0x568c99),_0x58cc10=this[_0xa85098(0x2dc)][_0xa85098(0x2c4)];let _0x45bc1d=![];for(const _0x140084 in _0x58cc10){if(_0x58cc10[_0x140084]['includes']('AI')&&_0x34d324[_0x140084]&&!_0x34d324[_0x140084]['includes']('AI')){_0x45bc1d=!![];break;}}_0x45bc1d&&(await this['setStateAsync'](_0xa85098(0x2e2),{'val':JSON[_0xa85098(0x2b3)](this[_0xa85098(0x2dc)][_0xa85098(0x278)]),'ack':!![]}),await this[_0xa85098(0x21f)]('analysis.energy.warmupSources',{'val':JSON[_0xa85098(0x2b3)](this['memoryCache'][_0xa85098(0x2c4)]),'ack':!![]}));}catch(_0x95e4e4){}}async[a0_0x26cc1d(0x2e3)](_0x5eb602){const _0x5b4cd1=a0_0x26cc1d;if(typeof _0x5eb602===_0x5b4cd1(0x1c4)&&_0x5eb602['message']){if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x1e2))try{const _0x2e4824=await automation[_0x5b4cd1(0x1c1)](this);this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':!![],'results':_0x2e4824},_0x5eb602['callback']);}catch(_0x51c109){this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':![],'error':_0x51c109[_0x5b4cd1(0x2c2)]},_0x5eb602[_0x5b4cd1(0x26f)]);}else{if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x1dc)){const _0x374a48=this[_0x5b4cd1(0x276)]['length'];let _0xe58a33=new Array(0x18)['fill'](0x0);try{const _0x4d3bf4=await this[_0x5b4cd1(0x2c6)](_0x5b4cd1(0x2ab));if(_0x4d3bf4&&_0x4d3bf4[_0x5b4cd1(0x27b)])_0xe58a33=JSON[_0x5b4cd1(0x245)](_0x4d3bf4[_0x5b4cd1(0x27b)]);else{const _0x3d152b=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x5b4cd1(0x284)]&&this[_0x5b4cd1(0x284)][_0x5b4cd1(0x2ac)](_0x283022=>{const _0x5c09a6=_0x5b4cd1;if(_0x283022[_0x5c09a6(0x1dd)]>=_0x3d152b){const _0x344e14=new Date(_0x283022['timestamp'])['getHours']();if(_0x344e14>=0x0&&_0x344e14<0x18)_0xe58a33[_0x344e14]++;}});}}catch(_0x58c8af){this[_0x5b4cd1(0x1a3)]['warn'](_0x5b4cd1(0x275)+_0x58c8af[_0x5b4cd1(0x2c2)]);}let _0x2a696e={'today':{},'yesterday':{}};try{const _0x10864c=await this[_0x5b4cd1(0x2c6)](_0x5b4cd1(0x253));if(_0x10864c&&_0x10864c[_0x5b4cd1(0x27b)])_0x2a696e=JSON[_0x5b4cd1(0x245)](_0x10864c['val']);}catch(_0x3aeada){}let _0x3e76e0=![],_0x5d83b0='',_0x21d7e5='',_0x29631d='';try{const _0x3d68ed=await this[_0x5b4cd1(0x2c6)]('analysis.automation.patternDetected');if(_0x3d68ed&&_0x3d68ed['val']){_0x3e76e0=!![];const _0x43f568=await this['getStateAsync'](_0x5b4cd1(0x1ed));_0x5d83b0=_0x43f568?_0x43f568[_0x5b4cd1(0x27b)]:'';const _0x30d0fb=await this[_0x5b4cd1(0x2c6)](_0x5b4cd1(0x23b));_0x21d7e5=_0x30d0fb?_0x30d0fb[_0x5b4cd1(0x27b)]:'';const _0x490379=await this[_0x5b4cd1(0x2c6)]('analysis.automation.targetValue');_0x29631d=_0x490379?_0x490379['val']:'';}}catch(_0x1919fc){}const _0x513820=await this[_0x5b4cd1(0x29a)](),_0xfbc77c=(this['config'][_0x5b4cd1(0x1bd)]||[])[_0x5b4cd1(0x294)](_0x124f3b=>_0x124f3b[_0x5b4cd1(0x287)]),_0x3f4d26=_0x513820&&_0xfbc77c;let _0x51bbee='';try{const _0x350767=await this['getStateAsync'](_0x5b4cd1(0x1ef));if(_0x350767&&_0x350767[_0x5b4cd1(0x27b)])_0x51bbee=_0x350767[_0x5b4cd1(0x27b)];}catch(_0x70f51d){}this['sendTo'](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602['command'],{'success':!![],'eventHistory':this[_0x5b4cd1(0x284)][_0x5b4cd1(0x1a1)](0x0,0x64),'stats':{'digestCount':_0x374a48,'isPresent':this['isPresent'],'hourlyActivity':_0xe58a33,'solarActive':_0x3f4d26,'presenceWho':_0x51bbee,'roomStats':_0x2a696e},'automation':{'detected':_0x3e76e0,'description':_0x5d83b0,'targetId':_0x21d7e5,'targetValue':_0x29631d}},_0x5eb602[_0x5b4cd1(0x26f)]);}else{if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x1fa))try{const {current_temps:_0x15cd0e,t_out:_0x2a4770,targets:_0x35253d,t_forecast:_0xdd8d8d}=_0x5eb602['message'],_0x2be133=[];let _0x4e7b61={};try{const _0x29bc58=await this[_0x5b4cd1(0x2c6)](_0x5b4cd1(0x2a6));if(_0x29bc58&&_0x29bc58[_0x5b4cd1(0x27b)]){const _0x4d1ae8=JSON[_0x5b4cd1(0x245)](_0x29bc58[_0x5b4cd1(0x27b)]);_0x4e7b61=_0x4d1ae8[_0x5b4cd1(0x185)]||_0x4d1ae8;}}catch(_0x3d4f3c){}const _0x428532=_0xdd8d8d!==undefined&&_0xdd8d8d!==null?(_0x2a4770+_0xdd8d8d)/0x2:_0x2a4770;for(const [_0x4e45fc,_0x53364d]of Object[_0x5b4cd1(0x1e0)](_0x15cd0e)){const _0x130a39=_0x35253d[_0x4e45fc]||0x15;if(_0x53364d<=_0x130a39)continue;let _0x49b1b5=_0x4e7b61[_0x4e45fc]||-0.5;if(_0x49b1b5>=0x0)_0x49b1b5=-0.5;const _0x2f687d=Math[_0x5b4cd1(0x26d)](_0x49b1b5),_0x1349f4=_0x53364d-_0x130a39;let _0x2ce297=Math['floor'](_0x1349f4/_0x2f687d*0x3c);const _0x143354=_0x53364d-_0x2a4770,_0x2b9abc=_0x53364d-_0x428532;if(_0x2b9abc!==0x0&&_0x143354!==0x0){const _0x1c8f1e=_0x143354/_0x2b9abc;_0x2ce297=Math[_0x5b4cd1(0x240)](_0x2ce297*_0x1c8f1e);}if(_0x2ce297>0xf){if(_0x2ce297>0xf0)_0x2ce297=0xf0;_0x2be133[_0x5b4cd1(0x2dd)]({'room':_0x4e45fc,'minutes_safe':_0x2ce297,'target':_0x130a39,'current':_0x53364d,'savings_msg':'Heizung\x20kann\x20'+_0x2ce297+_0x5b4cd1(0x20a)});}}_0x2be133[_0x5b4cd1(0x1b6)]((_0x140392,_0x45ba30)=>_0x45ba30[_0x5b4cd1(0x2d5)]-_0x140392['minutes_safe']),this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602['command'],{'success':!![],'proposals':_0x2be133},_0x5eb602[_0x5b4cd1(0x26f)]);}catch(_0x30f8fd){this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':![],'error':_0x30f8fd['message']},_0x5eb602['callback']);}else{if(_0x5eb602['command']===_0x5b4cd1(0x2e5))try{await automation['updateSchedulePreview'](this),this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':!![]},_0x5eb602[_0x5b4cd1(0x26f)]);}catch(_0x2d8b93){this[_0x5b4cd1(0x1d7)](_0x5eb602['from'],_0x5eb602[_0x5b4cd1(0x224)],{'success':![],'error':_0x2d8b93[_0x5b4cd1(0x2c2)]},_0x5eb602[_0x5b4cd1(0x26f)]);}else{if(_0x5eb602[_0x5b4cd1(0x224)]==='resetRLPenalty')try{const _0x5843a8=_0x5eb602[_0x5b4cd1(0x2c2)][_0x5b4cd1(0x1d0)],_0x3a1ce1=_0x5b4cd1(0x234),_0x2b946d=await this['getStateAsync'](_0x3a1ce1);let _0x6d6c86={};if(_0x2b946d&&_0x2b946d[_0x5b4cd1(0x27b)])try{_0x6d6c86=JSON['parse'](_0x2b946d[_0x5b4cd1(0x27b)]);}catch(_0x48250a){}_0x5843a8&&_0x6d6c86[_0x5843a8]?(delete _0x6d6c86[_0x5843a8],await this[_0x5b4cd1(0x21f)](_0x3a1ce1,{'val':JSON[_0x5b4cd1(0x2b3)](_0x6d6c86),'ack':!![]}),this['log'][_0x5b4cd1(0x28d)](_0x5b4cd1(0x1d9)+_0x5843a8+_0x5b4cd1(0x18a)),this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602['command'],{'success':!![]},_0x5eb602[_0x5b4cd1(0x26f)])):this['sendTo'](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':![],'error':_0x5b4cd1(0x20b)},_0x5eb602['callback']);}catch(_0x5202f2){this[_0x5b4cd1(0x1d7)](_0x5eb602['from'],_0x5eb602['command'],{'success':![],'error':_0x5202f2[_0x5b4cd1(0x2c2)]},_0x5eb602[_0x5b4cd1(0x26f)]);}else{if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x1bf))await this[_0x5b4cd1(0x21f)](_0x5b4cd1(0x265),{'val':![],'ack':!![]}),await this[_0x5b4cd1(0x21f)]('analysis.automation.description',{'val':'','ack':!![]}),await this[_0x5b4cd1(0x21f)](_0x5b4cd1(0x23b),{'val':'','ack':!![]}),this['sendTo'](_0x5eb602['from'],_0x5eb602[_0x5b4cd1(0x224)],{'success':!![]},_0x5eb602[_0x5b4cd1(0x26f)]);else{if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x2ea)){const {targetId:_0x34593e,targetValue:_0x27e05c}=_0x5eb602[_0x5b4cd1(0x2c2)];await this['setStateAsync'](_0x5b4cd1(0x265),{'val':!![],'ack':!![]}),await this[_0x5b4cd1(0x21f)](_0x5b4cd1(0x1ed),{'val':'Simulation\x20durch\x20Admin\x20(Test)','ack':!![]}),await this[_0x5b4cd1(0x21f)](_0x5b4cd1(0x23b),{'val':_0x34593e,'ack':!![]}),await this['setStateAsync']('analysis.automation.targetValue',{'val':String(_0x27e05c),'ack':!![]}),this['sendTo'](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602['command'],{'success':!![]},_0x5eb602[_0x5b4cd1(0x26f)]);}else{if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x208))try{const _0x3b6d14=_0x5eb602[_0x5b4cd1(0x2c2)][_0x5b4cd1(0x21b)];if(!_0x3b6d14)throw new Error(_0x5b4cd1(0x2b6));const _0x1e3124=new GoogleGenerativeAI(_0x3b6d14),_0x5c6afb=_0x1e3124['getGenerativeModel']({'model':GEMINI_MODEL}),_0x38658d=await _0x5c6afb['generateContent'](_0x5b4cd1(0x28a)),_0x1ac808=await _0x38658d['response'];if(_0x1ac808[_0x5b4cd1(0x226)]())this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':!![],'message':_0x5b4cd1(0x288)},_0x5eb602[_0x5b4cd1(0x26f)]);else throw new Error(_0x5b4cd1(0x1ce));}catch(_0x8ee9d4){this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':![],'message':_0x8ee9d4[_0x5b4cd1(0x2c2)]},_0x5eb602[_0x5b4cd1(0x26f)]);}else{if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x291))try{const _0x5b9344=await scanner[_0x5b4cd1(0x1ea)](this,_0x5eb602[_0x5b4cd1(0x2c2)]||{});this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602['command'],{'success':!![],'devices':_0x5b9344},_0x5eb602[_0x5b4cd1(0x26f)]);}catch(_0x6fd3ec){this['sendTo'](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602['command'],{'success':![],'error':_0x6fd3ec[_0x5b4cd1(0x2c2)]},_0x5eb602[_0x5b4cd1(0x26f)]);}else{if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x22f))try{const {matrix:_0x69389f}=_0x5eb602[_0x5b4cd1(0x2c2)],_0x15d893=await this['getStateAsync'](_0x5b4cd1(0x1f5));if(_0x15d893&&_0x15d893[_0x5b4cd1(0x27b)]){const _0x155a19=JSON[_0x5b4cd1(0x245)](_0x15d893[_0x5b4cd1(0x27b)]);_0x155a19[_0x5b4cd1(0x1cd)]=_0x69389f,_0x155a19[_0x5b4cd1(0x261)]=Date[_0x5b4cd1(0x2d9)](),await this[_0x5b4cd1(0x21f)](_0x5b4cd1(0x1f5),{'val':JSON[_0x5b4cd1(0x2b3)](_0x155a19),'ack':!![]}),pythonBridge[_0x5b4cd1(0x231)](this,_0x5b4cd1(0x2c1),_0x155a19);}this['sendTo'](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':!![]},_0x5eb602['callback']);}catch(_0x168c20){this[_0x5b4cd1(0x1a3)]['error'](_0x168c20);}else{if(_0x5eb602['command']===_0x5b4cd1(0x2d4))this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':!![],'dailyDigests':this[_0x5b4cd1(0x276)]||[],'analysisHistory':this[_0x5b4cd1(0x1e1)]||[]},_0x5eb602[_0x5b4cd1(0x26f)]);else{if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x205)){const _0x576085=await this['getForeignObjectsAsync'](_0x5b4cd1(0x1c6),_0x5b4cd1(0x211)),_0x11944b=[];if(_0x576085)for(const _0x35b6f9 in _0x576085){const _0x322b28=_0x576085[_0x35b6f9],_0x503bf3=(_0x322b28['common']&&typeof _0x322b28[_0x5b4cd1(0x277)][_0x5b4cd1(0x1a2)]===_0x5b4cd1(0x1c4)?_0x322b28[_0x5b4cd1(0x277)][_0x5b4cd1(0x1a2)]['de']:_0x322b28[_0x5b4cd1(0x277)][_0x5b4cd1(0x1a2)])||_0x322b28[_0x5b4cd1(0x277)][_0x5b4cd1(0x1a2)];_0x11944b['push']({'id':_0x35b6f9,'name':_0x503bf3});}const _0x58b4a1=await this[_0x5b4cd1(0x266)](_0x5b4cd1(0x289),_0x5b4cd1(0x211)),_0x27dde2=[];if(_0x58b4a1)for(const _0x12e8b4 in _0x58b4a1){const _0xc6de4e=_0x58b4a1[_0x12e8b4],_0x1da144=(_0xc6de4e[_0x5b4cd1(0x277)]&&typeof _0xc6de4e[_0x5b4cd1(0x277)][_0x5b4cd1(0x1a2)]==='object'?_0xc6de4e['common'][_0x5b4cd1(0x1a2)]['de']:_0xc6de4e['common'][_0x5b4cd1(0x1a2)])||_0x12e8b4[_0x5b4cd1(0x1e8)]('.')[_0x5b4cd1(0x1ee)]();_0x27dde2[_0x5b4cd1(0x2dd)](_0x1da144);}this[_0x5b4cd1(0x1d7)](_0x5eb602['from'],_0x5eb602['command'],{'success':!![],'enums':_0x11944b,'rooms':_0x27dde2},_0x5eb602['callback']);}else{if(_0x5eb602[_0x5b4cd1(0x224)]==='testContext')try{let _0x243893='Kein\x20Wetter-Adapter',_0x5313bd=_0x5b4cd1(0x273);if(this[_0x5b4cd1(0x23e)]['useWeather']){const _0x19a886=await recorder[_0x5b4cd1(0x2a5)](this);_0x243893=_0x19a886!==null?_0x19a886+'Â°C':_0x5b4cd1(0x2cc);}if(this['config'][_0x5b4cd1(0x238)]){const _0x1393ee=await this[_0x5b4cd1(0x1d2)](_0x5b4cd1(0x192)+this['config'][_0x5b4cd1(0x238)]);_0x5313bd=_0x1393ee?'Verbunden':_0x5b4cd1(0x257);}this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':!![],'weather':_0x243893,'calendar':_0x5313bd},_0x5eb602[_0x5b4cd1(0x26f)]);}catch(_0xa613b1){this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':![],'error':_0xa613b1['message']},_0x5eb602[_0x5b4cd1(0x26f)]);}else{if(_0x5eb602[_0x5b4cd1(0x224)]===_0x5b4cd1(0x1e9))try{const _0x104f38=_0x5eb602['message'][_0x5b4cd1(0x186)],_0x583b22=await this[_0x5b4cd1(0x223)](_0x104f38+_0x5b4cd1(0x1c7));let _0x542a1e=[];if(_0x583b22&&_0x583b22['val']){const _0x2b2111=JSON[_0x5b4cd1(0x245)](_0x583b22[_0x5b4cd1(0x27b)]),_0xb38bce=new Set();Array[_0x5b4cd1(0x2e8)](_0x2b2111)&&_0x2b2111['forEach'](_0x404dfc=>{const _0xa768fc=_0x5b4cd1;if(_0x404dfc[_0xa768fc(0x190)])_0xb38bce[_0xa768fc(0x2ce)](_0x404dfc['_calName']);else{if(_0x404dfc[_0xa768fc(0x28f)])_0xb38bce['add'](_0x404dfc['calendarName']);}}),_0x542a1e=Array['from'](_0xb38bce)['sort']();}if(_0x542a1e[_0x5b4cd1(0x2b2)]===0x0)_0x542a1e=['Standard'];this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':!![],'names':_0x542a1e},_0x5eb602[_0x5b4cd1(0x26f)]);}catch(_0x1f59b4){this['sendTo'](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':![],'error':_0x1f59b4['message']},_0x5eb602['callback']);}else{if(_0x5eb602['command']===_0x5b4cd1(0x2df))try{await setup[_0x5b4cd1(0x274)](this,_0x5b4cd1(0x25f),![],![]),this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602['command'],{'success':!![],'message':'Gesendet'},_0x5eb602[_0x5b4cd1(0x26f)]);}catch(_0x4ac65d){this[_0x5b4cd1(0x1a3)][_0x5b4cd1(0x20d)](_0x5b4cd1(0x197)+_0x4ac65d[_0x5b4cd1(0x2c2)]),this[_0x5b4cd1(0x1d7)](_0x5eb602[_0x5b4cd1(0x22b)],_0x5eb602[_0x5b4cd1(0x224)],{'success':![],'message':_0x5b4cd1(0x24d)+_0x4ac65d[_0x5b4cd1(0x2c2)]},_0x5eb602[_0x5b4cd1(0x26f)]);}}}}}}}}}}}}}}}}}async[a0_0x26cc1d(0x23a)](){const _0x3b7c8b=a0_0x26cc1d;try{const _0x46b90a=await this[_0x3b7c8b(0x2c6)](setup[_0x3b7c8b(0x2d8)]);_0x46b90a&&_0x46b90a[_0x3b7c8b(0x27b)]&&Object[_0x3b7c8b(0x1a8)](setup[_0x3b7c8b(0x203)])[_0x3b7c8b(0x230)](_0x46b90a[_0x3b7c8b(0x27b)])?this[_0x3b7c8b(0x2b5)]=_0x46b90a[_0x3b7c8b(0x27b)]:(this[_0x3b7c8b(0x2b5)]=setup[_0x3b7c8b(0x203)][_0x3b7c8b(0x1ae)],await this[_0x3b7c8b(0x21f)](setup[_0x3b7c8b(0x2d8)],{'val':setup[_0x3b7c8b(0x203)][_0x3b7c8b(0x1ae)],'ack':!![]}));}catch(_0xca31b4){this['currentSystemMode']=setup['SYSTEM_MODES'][_0x3b7c8b(0x1ae)];}}async['checkWifiPresence'](){const _0x23988c=a0_0x26cc1d;try{const _0x2f8ee2=this[_0x23988c(0x23e)]['presenceDevices']||[];let _0x30e73c=![];const _0x46963a=[];for(const _0x4b6b06 of _0x2f8ee2){try{const _0x32adb0=await this['getForeignStateAsync'](_0x4b6b06);_0x32adb0&&(_0x32adb0['val']===!![]||_0x32adb0[_0x23988c(0x27b)]===_0x23988c(0x1c2)||_0x32adb0[_0x23988c(0x27b)]===0x1)&&(_0x30e73c=!![],_0x46963a[_0x23988c(0x2dd)](_0x4b6b06));}catch(_0x5c1dcd){}}return await this[_0x23988c(0x21f)](_0x23988c(0x1ef),{'val':_0x46963a[_0x23988c(0x28e)](',\x20'),'ack':!![]}),_0x30e73c&&(this[_0x23988c(0x2e1)]&&(this[_0x23988c(0x1a3)]['info'](_0x23988c(0x22e)),recorder[_0x23988c(0x29c)](this)),!this['isPresent']&&this[_0x23988c(0x2b5)]===setup[_0x23988c(0x203)][_0x23988c(0x1ae)]&&await recorder[_0x23988c(0x1ad)](this,!![])),_0x30e73c;}catch(_0x3271cf){return![];}}async['runAutopilot'](){const _0x2ffa22=a0_0x26cc1d;this[_0x2ffa22(0x1a3)][_0x2ffa22(0x290)](_0x2ffa22(0x210)),await aiAgent[_0x2ffa22(0x2c7)](this),this[_0x2ffa22(0x1b9)](),this[_0x2ffa22(0x293)](),this['triggerEnergyPrediction']();}async[a0_0x26cc1d(0x29a)](){const _0x5e4418=a0_0x26cc1d,_0x56c24a=['weatherunderground.0',_0x5e4418(0x229),'daswetter.0'],_0x3b3081=[_0x5e4418(0x2ad),_0x5e4418(0x1d8),_0x5e4418(0x2e4)];for(const _0x1ca2df of _0x56c24a){for(const _0x193800 of _0x3b3081){try{const _0x16c445=_0x1ca2df+'.'+_0x193800,_0x16d01a=await this[_0x5e4418(0x223)](_0x16c445);if(_0x16d01a&&_0x16d01a['val']){const _0x1bee66=String(_0x16d01a[_0x5e4418(0x27b)])[_0x5e4418(0x196)]();if(_0x1bee66[_0x5e4418(0x230)](_0x5e4418(0x1ca))||_0x1bee66[_0x5e4418(0x230)](_0x5e4418(0x1f6))||_0x1bee66[_0x5e4418(0x230)]('klar')||_0x1bee66[_0x5e4418(0x230)](_0x5e4418(0x2bf))||_0x1bee66['includes'](_0x5e4418(0x188)))return!![];}}catch(_0x3b2e9d){}}}return![];}[a0_0x26cc1d(0x293)](){const _0x2e14fb=a0_0x26cc1d;if(!this[_0x2e14fb(0x21e)])return;try{this[_0x2e14fb(0x2a2)]('LTM.trainingData.sequences',(_0x4ebeaf,_0x3c1165)=>{const _0x77ac54=_0x2e14fb;_0x3c1165&&_0x3c1165[_0x77ac54(0x27b)]&&pythonBridge[_0x77ac54(0x231)](this,_0x77ac54(0x212),{'sequences':JSON['parse'](_0x3c1165['val'])});});}catch(_0x336b1f){}}async['triggerEnergyPrediction'](){const _0x549db5=a0_0x26cc1d;if(!this['isProVersion'])return;try{const _0x1fc110=await recorder[_0x549db5(0x2a5)](this);if(_0x1fc110===null)return;const _0x28a278={},_0x508f4e={},_0x2f2883=this[_0x549db5(0x23e)][_0x549db5(0x1bd)]||[];for(const _0x1168db of _0x2f2883){if(_0x1168db[_0x549db5(0x25a)]===_0x549db5(0x237)&&_0x1168db[_0x549db5(0x195)]){const _0x4dbb09=this['sensorLastValues'][_0x1168db['id']];if(_0x4dbb09!==undefined)_0x28a278[_0x1168db[_0x549db5(0x195)]]=_0x4dbb09;if(_0x1168db[_0x549db5(0x287)])_0x508f4e[_0x1168db[_0x549db5(0x195)]]=!![];}}const _0x326d22=await this[_0x549db5(0x29a)]();let _0x140682={};try{const _0x4a08ad=await this[_0x549db5(0x2c6)](_0x549db5(0x281));if(_0x4a08ad&&_0x4a08ad[_0x549db5(0x27b)])_0x140682=JSON[_0x549db5(0x245)](_0x4a08ad['val']);}catch(_0x41b5ed){}Object[_0x549db5(0x2da)](_0x28a278)['length']>0x0&&(pythonBridge[_0x549db5(0x231)](this,'PREDICT_ENERGY',{'current_temps':_0x28a278,'t_out':_0x1fc110,'is_sunny':_0x326d22,'solar_flags':_0x508f4e,'warmup_targets':_0x140682}),pythonBridge['send'](this,_0x549db5(0x189),{'current_temps':_0x28a278,'t_out':_0x1fc110,'targets':{}}));}catch(_0x31f77e){}}[a0_0x26cc1d(0x1b9)](){const _0x5cce4c=a0_0x26cc1d;if(!this['rawEventLog']||this[_0x5cce4c(0x2d6)]['length']===0x0)return;const _0x3ae1c6=new Array(0x60)[_0x5cce4c(0x228)](0x0),_0x3e137b=new Date()[_0x5cce4c(0x209)](0x0,0x0,0x0,0x0);this[_0x5cce4c(0x2d6)]['forEach'](_0x3e57a0=>{const _0x2b2c0a=_0x5cce4c,_0x9f480=new Date(_0x3e57a0[_0x2b2c0a(0x1dd)]);if(_0x9f480['getTime']()>=_0x3e137b){const _0x2a2009=_0x9f480[_0x2b2c0a(0x280)](),_0x1b5cf3=_0x9f480[_0x2b2c0a(0x2e0)](),_0xa3dc29=_0x2a2009*0x4+Math[_0x2b2c0a(0x240)](_0x1b5cf3/0xf);if(_0xa3dc29>=0x0&&_0xa3dc29<0x60)_0x3ae1c6[_0xa3dc29]++;}});}async[a0_0x26cc1d(0x1c8)](_0x2e2f61){const _0x2dff2a=a0_0x26cc1d;if(_0x2e2f61==null||typeof _0x2e2f61!=='number')return;const _0x1bb350=Date[_0x2dff2a(0x2d9)]();this[_0x2dff2a(0x247)][_0x2dff2a(0x2dd)]({'ts':_0x1bb350,'val':_0x2e2f61}),this[_0x2dff2a(0x247)]=this[_0x2dff2a(0x247)]['filter'](_0x49718a=>_0x1bb350-_0x49718a['ts']<0x1388);if(this[_0x2dff2a(0x1aa)])return;if(this[_0x2dff2a(0x23e)][_0x2dff2a(0x251)]){const _0x1ff22a=await this['getForeignStateAsync'](this['config'][_0x2dff2a(0x251)]);if(_0x1ff22a&&!_0x1ff22a['val'])return;}const _0x5306eb=this[_0x2dff2a(0x23e)][_0x2dff2a(0x282)]||0.04;if(Math[_0x2dff2a(0x26d)](_0x2e2f61)>=_0x5306eb){this['log'][_0x2dff2a(0x2c0)](_0x2dff2a(0x18e)+_0x2e2f61+_0x2dff2a(0x1e7)+_0x5306eb+')'),await this[_0x2dff2a(0x21f)](_0x2dff2a(0x1f1),{'val':!![],'ack':!![]});const _0x49647b=this[_0x2dff2a(0x2d3)];_0x49647b?(this['log'][_0x2dff2a(0x28d)](_0x2dff2a(0x2ca)),this[_0x2dff2a(0x1f4)](_0x2e2f61,'INTERNAL')):(this['triggerInfrasoundCorrelation'](_0x2e2f61,_0x2dff2a(0x19a)),this[_0x2dff2a(0x274)](_0x2dff2a(0x2a1)+_0x2e2f61+_0x2dff2a(0x216))),this[_0x2dff2a(0x1aa)]=!![],setTimeout(()=>{const _0x1bc779=_0x2dff2a;this[_0x1bc779(0x1aa)]=![];},0x2710);}}async[a0_0x26cc1d(0x1f4)](_0x42b78b,_0x2a0a47=a0_0x26cc1d(0x19a)){const _0x50a30c=a0_0x26cc1d,_0x415fb9=Date[_0x50a30c(0x2d9)](),_0x431a9b=this[_0x50a30c(0x23e)][_0x50a30c(0x1bd)]||[];setTimeout(async()=>{const _0x47a211=_0x50a30c;let _0x5330e6=null,_0x4f2f89=_0x47a211(0x23f);const _0x39f08d=_0x431a9b[_0x47a211(0x1fb)](_0x4ae2a2=>_0x4ae2a2[_0x47a211(0x25a)]&&(_0x4ae2a2[_0x47a211(0x25a)][_0x47a211(0x230)](_0x47a211(0x200))||_0x4ae2a2[_0x47a211(0x25a)]['includes']('door')||_0x4ae2a2[_0x47a211(0x25a)][_0x47a211(0x230)]('magnet')||_0x4ae2a2[_0x47a211(0x25a)][_0x47a211(0x230)]('reed'))||_0x4ae2a2[_0x47a211(0x1db)]&&(_0x4ae2a2[_0x47a211(0x1db)][_0x47a211(0x230)](_0x47a211(0x1f0))||_0x4ae2a2[_0x47a211(0x1db)][_0x47a211(0x230)]('sensor.door')));for(const _0x499c3a of _0x39f08d){try{const _0x570e7e=await this[_0x47a211(0x223)](_0x499c3a['id']);if(_0x570e7e){if(_0x570e7e['ts']>=_0x415fb9-0x7d0){_0x5330e6=_0x499c3a[_0x47a211(0x1a2)]||_0x499c3a['id'],_0x4f2f89=_0x47a211(0x279)+_0x5330e6;break;}}}catch(_0x1eb056){}}const _0x59e376={'timestamp':_0x415fb9,'pressure':_0x42b78b,'isMatch':!!_0x5330e6,'explanation':_0x4f2f89,'type':_0x2a0a47};await this[_0x47a211(0x2ae)](_0x59e376),this[_0x47a211(0x1a3)][_0x47a211(0x28d)](_0x47a211(0x1c3)+(!!_0x5330e6?_0x47a211(0x1ac):_0x47a211(0x25c)));},0x1388);}async[a0_0x26cc1d(0x2cd)](_0x2e96e7){const _0x10bcfc=a0_0x26cc1d,_0xe0c130=Date[_0x10bcfc(0x2d9)](),_0x5837fb=_0x2e96e7[_0x10bcfc(0x1a2)]||_0x2e96e7['id'][_0x10bcfc(0x1e8)]('.')[_0x10bcfc(0x1ee)]();let _0x419ae1=0x0;setTimeout(async()=>{const _0x403988=_0x10bcfc;this['pressureBuffer'][_0x403988(0x2ac)](_0x2dcc8d=>{const _0x5e772e=_0x403988;_0x2dcc8d['ts']>=_0xe0c130-0xfa0&&_0x2dcc8d['ts']<=_0xe0c130+0x3e8&&(Math[_0x5e772e(0x26d)](_0x2dcc8d[_0x5e772e(0x27b)])>Math[_0x5e772e(0x26d)](_0x419ae1)&&(_0x419ae1=_0x2dcc8d['val']));});const _0x4afa72=this[_0x403988(0x23e)]['infrasoundThreshold']||0.04,_0x961594=Math[_0x403988(0x26d)](_0x419ae1)>=_0x4afa72,_0x3be86c={'timestamp':_0xe0c130,'pressure':_0x419ae1,'isMatch':_0x961594,'explanation':_0x403988(0x29e)+_0x5837fb,'type':_0x403988(0x1b0)};await this[_0x403988(0x2ae)](_0x3be86c),this['log'][_0x403988(0x290)](_0x403988(0x225)+_0x5837fb+_0x403988(0x2ba)+_0x419ae1[_0x403988(0x2de)](0x4)+_0x403988(0x2cb)+_0x4afa72+')');},0x1f4);}async[a0_0x26cc1d(0x2ae)](_0x218782){const _0x91c0e6=a0_0x26cc1d;try{const _0x3a3e8e=await this[_0x91c0e6(0x2c6)]('analysis.security.infrasoundLog');let _0x419020=[];if(_0x3a3e8e&&_0x3a3e8e[_0x91c0e6(0x27b)])_0x419020=JSON['parse'](_0x3a3e8e[_0x91c0e6(0x27b)]);_0x419020['unshift'](_0x218782);if(_0x419020[_0x91c0e6(0x2b2)]>0x14)_0x419020=_0x419020[_0x91c0e6(0x1a1)](0x0,0x14);await this[_0x91c0e6(0x21f)]('analysis.security.infrasoundLog',{'val':JSON['stringify'](_0x419020),'ack':!![]});}catch(_0x1b89f7){this[_0x91c0e6(0x1a3)]['error'](_0x91c0e6(0x246)+_0x1b89f7[_0x91c0e6(0x2c2)]);}}[a0_0x26cc1d(0x274)](_0x4652b1){const _0x27f45d=a0_0x26cc1d;this[_0x27f45d(0x23e)][_0x27f45d(0x1bb)]&&this['config'][_0x27f45d(0x222)]&&this[_0x27f45d(0x1d7)](this[_0x27f45d(0x23e)][_0x27f45d(0x222)],_0x27f45d(0x231),{'message':_0x4652b1,'title':_0x27f45d(0x24b),'priority':0x1}),this[_0x27f45d(0x23e)][_0x27f45d(0x263)]&&this[_0x27f45d(0x23e)][_0x27f45d(0x272)]&&this[_0x27f45d(0x1d7)](this['config']['notifyTelegramInstance'],_0x27f45d(0x231),{'text':_0x4652b1});}}if(require['main']!==module)module[a0_0x26cc1d(0x1b4)]=_0x57093c=>new CogniLiving(_0x57093c);else new CogniLiving();