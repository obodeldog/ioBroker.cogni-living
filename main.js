const a0_0x12af48=a0_0x5398;(function(_0x40f014,_0x1ea399){const _0x42f17a=a0_0x5398,_0x51b2b1=_0x40f014();while(!![]){try{const _0x78205f=-parseInt(_0x42f17a(0x222))/0x1+parseInt(_0x42f17a(0x178))/0x2*(-parseInt(_0x42f17a(0x24f))/0x3)+parseInt(_0x42f17a(0x17a))/0x4*(-parseInt(_0x42f17a(0x1ef))/0x5)+-parseInt(_0x42f17a(0x20f))/0x6*(parseInt(_0x42f17a(0x25b))/0x7)+-parseInt(_0x42f17a(0x1d4))/0x8+-parseInt(_0x42f17a(0x184))/0x9*(parseInt(_0x42f17a(0x211))/0xa)+-parseInt(_0x42f17a(0x20a))/0xb*(-parseInt(_0x42f17a(0x279))/0xc);if(_0x78205f===_0x1ea399)break;else _0x51b2b1['push'](_0x51b2b1['shift']());}catch(_0xfbb126){_0x51b2b1['push'](_0x51b2b1['shift']());}}}(a0_0x4ca9,0x3d58b));const a0_0x304c55=(function(){let _0x24fa6d=!![];return function(_0x385131,_0x2fcaa0){const _0x109a4f=_0x24fa6d?function(){if(_0x2fcaa0){const _0x200af8=_0x2fcaa0['apply'](_0x385131,arguments);return _0x2fcaa0=null,_0x200af8;}}:function(){};return _0x24fa6d=![],_0x109a4f;};}()),a0_0x17f74a=a0_0x304c55(this,function(){const _0x10b9a0=a0_0x5398;return a0_0x17f74a['toString']()[_0x10b9a0(0x22b)]('(((.+)+)+)+$')['toString']()[_0x10b9a0(0x168)](a0_0x17f74a)[_0x10b9a0(0x22b)](_0x10b9a0(0x149));});a0_0x17f74a();function a0_0x5398(_0x730c67,_0x587168){const _0xbea8fc=a0_0x4ca9();return a0_0x5398=function(_0x17f74a,_0x304c55){_0x17f74a=_0x17f74a-0x135;let _0x4ca9e3=_0xbea8fc[_0x17f74a];return _0x4ca9e3;},a0_0x5398(_0x730c67,_0x587168);}'use strict';function a0_0x4ca9(){const _0x593eb5=['weatherunderground.0','entries','checkSolarCondition','Sec-Training\x20started...','infrasoundThreshold','onStateChange','\x20min\x20ausbleiben.','automation.triggerAction','config','infrasoundLocked','includes','Verbindung\x20erfolgreich!','genAI','15320mJNIuk','clear','.system.mode','security.alarm_triggered','driftAnalysisTimer','checkThermostats','exitGraceTimer','filter','common','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','telegram','getHours','lastTrackerEventTime','warn','isArray','daswetter.0','setupLtmScheduler','sort','online','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','toLocaleDateString','scores','setState','checkWifiPresence','Fenster\x20geÃ¶ffnet:\x20','manual','setPresence','17035403swdUZR','Lernphase\x20(','sendTo','analysis.training.triggerComfort','send','119958zTgGlQ','calendarName','11870cFEuMG','[Infrasound]\x20ðŸŸ¡\x20Debug-Mode:\x20Alarm\x20detected\x20but\x20suppressed\x20because\x20presence=true.','devices','floor','geminiModel','Gesendet','analysis.security.learningStatus','Daten\x20nicht\x20verfÃ¼gbar','analysis.topology.structure','toLowerCase','getStateAsync','getForeignStateAsync','isPresent','SET_TOPOLOGY','scanThermostats','ltmJob','getForeignObjectsAsync','237988DYXOwC','moduleComfort','initZombies','magnet','infrasoundArmingId','lastAlertState','runAutopilot','onReady','_calName','search','LTM.baselineStatus','updateHealthVector','analysis.energy.mpcActive','analysis.triggerBriefing','calendarInstance','analysis.energy.warmupSources','getTime','./lib/scheduler','analysis.training.triggerSecurity','getOutsideTemperatureNumeric','eventHistory','name','analysis.activity.roomStats','getCalendarNames','endsWith','push','analysis.automation.targetValue','subscribeForeignStates','Current.WeatherText','CALIB','subscribeStates','times','NORMAL','analysisHistory','LTM.dailyDigests','Notification\x20Test\x20Failed:\x20','modeResetJob','json','debug','subscribeForeignStatesAsync','memoryCache','abortExitTimer','object','./lib/recorder','getMinutes','18awfffp','./lib/python_bridge','analysis.energy.activeEnforcements','Sensors\x20used\x20for\x20Gait\x20Analysis','Verbunden','now','pop','ready','ANOMALY\x20(Real\x20Threat?)','isSolar','temperature','Comfort\x20Train\x20Error:\x20','21NUNmRR','Room\x20Dwell\x20Time\x20Stats\x20(Today/Yesterday)','apiKey','dailyDigests','TRAIN_ENERGY','SYSTEM_MODES','value','sonn','from','key','klar','location','SET_LEARNING_MODE','runPythonHealthCheck','Instanz\x20nicht\x20gefunden','refreshCalendar','integrateRoomTime','analysis.training.triggerTopology','LTM.triggerDailyDigest','cogni-living','[Calibration]\x20Window\x20','pressureBuffer','role','cogni-living\x20adapter\x20starting\x20(v','TRAIN_TOPOLOGY','testNotification','type','cancel','infrasoundSensorId','[Forensics]\x20Save\x20failed:\x20','12ShLTUs','log','Test','setObjectNotExistsAsync','enum','ðŸ§ \x20Memory:\x20Cache\x20hydrated\x20with\x20','sensor.window','monitorEnforcements','Key\x20not\x20found\x20or\x20not\x20provided','OPTIMIZE_ENERGY','sendNotification','notifyPushoverEnabled','Kein\x20API\x20Key\x20Ã¼bergeben','command','startService','timestamp','Gait\x20Speed\x20Calculation\x20Proof','licenseKey','analysis.energy.warmupTimes','rawEventLog','stopService','checkCalendarTriggers','Heizung\x20kann\x20','Unknown','keys','moduleEnergy','analysis.health.gaitSensors','protectAiMemory','split','triggerBriefing','analysis.automation.description','Fehler:\x20','analysis.automation.autoApply','initSystemConfig','\x20Tage)','./lib/setup','forEach','loadSystemMode','window','SYSTEM_DP_MODE','val','(((.+)+)+)+$','ErklÃ¤rt\x20durch:\x20','string','appendToLog','.communicate.request','Reinforcement\x20Learning\x20Penalties','fill','analysis.energy.pinnForecast','healthTrendInterval','analysis.energy.rlPenalties','abs','./lib/automation','analysis.automation.patternDetected','\x20hPa\x20(Threshold:\x20','setupModeResetScheduler','triggerDailyDigest','ANALYZE_GAIT','NextHours.Location_1.Day_1.current.symbol_desc','Graph-Brain\x20Train\x20Error:\x20','presenceDevices','getGenerativeModel','info','Memory\x20Hydration\x20Failed:\x20','roomIntegratorTimer','updateTopology','enum.rooms.*','analysis.prediction.trackerTopRoom','testContext','setupDriftAnalysisScheduler','toFixed','LTM.trainingData.sequences','constructor','briefingJob','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','analysis.automation.targetId','door','analysis.prediction.trackerConfidence','./lib/scanner','ALARM','setupBriefingScheduler','PREDICT_ENERGY','triggerInfrasoundCorrelation','{\x22default\x22:\x2021}','./lib/dead_man','guest','Guest\x20Mode','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','66778ErdqzK','inactivityThresholdHours','356FJsrWw','dependencyInstallInProgress','handleInfrasound','instance','minDaysForBaseline','Aktiv\x20(','notifyPushoverInstance','Nuukanni\x20Security','unshift','analysis.training.triggerHealth','1809lzZAbC','getState','open','forecast.current.weather','minutes_safe','Daily\x20Activity\x20Vector\x20(24h)','initHistory','testApiKey','setHours','INTERNAL','namespace','analysis.health.todayVector','yesterday','join','models/gemini-flash-latest','analysisTimer','error','LTM.rawEventLog','party','createDailyDigest','ack','number','checkAndInstall','bootTime','currentSystemMode','updateLocation','today','Forensic\x20Infrasound\x20Log','\x20hPa.\x20Einbruch\x20wahrscheinlich.','General\x20Activity\x20Trend\x20(%)','analysis.security.infrasoundLog','analysis.training.triggerEnergy','[Infrasound]\x20ðŸš¨\x20ALARM\x20TRIGGERED!\x20Pressure\x20Wave:\x20','notifyTelegramInstance','exitTimer','trackerHeartbeat','analysis.energy.insulationScore','Standard','createAllObjects','callback','bind','TRACK_EVENT','TRAIN_SECURITY','parse','analysis.trigger','add','\x20rooms.','[Forensics]\x20Infrasound\x20Event\x20correlated:\x20','analysis.automation.triggerAction','Party\x20Mode','analysis.energy.warmupTargets','systemConfig','sendMorningBriefing','sources','date','state','infrasoundEnabled','system.adapter.','Keine\x20Antwort\x20von\x20Gemini','analysis.energy.ventilationAlerts','dismissAutomation','trackerEnabled','message','analysis.health.activityTrend','stringify','moduleHealth','accuweather.0','length','getForeignObjectAsync','isProVersion','getLtmData','[Integrator]\x20Error:\x20','Init...','exports','@iobroker/adapter-core','setStateAsync','notifyTelegramEnabled','slice','@google/generative-ai','updateSchedulePreview','2302512mRbQet','scanForDevices','thermostat','startSystem','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','response','analysis.training.status','triggerGaitAnalysis','Adapter','text','moduleSecurity','getOverviewData','sensor.door','triggerEnergyPrediction'];a0_0x4ca9=function(){return _0x593eb5;};return a0_0x4ca9();}const utils=require(a0_0x12af48(0x1ce)),{GoogleGenerativeAI}=require(a0_0x12af48(0x1d2)),installer=require('./lib/installer'),scanner=require(a0_0x12af48(0x16e)),schedulers=require(a0_0x12af48(0x233)),topology=require('./lib/topology'),setup=require(a0_0x12af48(0x143)),recorder=require(a0_0x12af48(0x24d)),pythonBridge=require(a0_0x12af48(0x250)),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x12af48(0x174)),automation=require(a0_0x12af48(0x154)),GEMINI_MODEL=a0_0x12af48(0x192);class CogniLiving extends utils[a0_0x12af48(0x1dc)]{constructor(_0x35008f){const _0x234d85=a0_0x12af48;super({..._0x35008f,'name':_0x234d85(0x26e)}),this['eventHistory']=[],this[_0x234d85(0x243)]=[],this[_0x234d85(0x28c)]=[],this[_0x234d85(0x25e)]=[],this['sensorLastValues']={},this[_0x234d85(0x1b7)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x234d85(0x21d)]=!![],this[_0x234d85(0x1a6)]=null,this[_0x234d85(0x1f5)]=null,this['isGracePeriodActive']=![],this['genAI']=null,this[_0x234d85(0x215)]=null,this[_0x234d85(0x19c)]=setup[_0x234d85(0x260)][_0x234d85(0x242)],this[_0x234d85(0x1c9)]=![],this[_0x234d85(0x227)]=![],this['analysisTimer']=null,this[_0x234d85(0x220)]=null,this[_0x234d85(0x246)]=null,this[_0x234d85(0x1f3)]=null,this[_0x234d85(0x169)]=null,this['trackerHeartbeat']=null,this['healthTrendInterval']=null,this['roomIntegratorTimer']=null,this[_0x234d85(0x17b)]=![],this[_0x234d85(0x1fb)]=Date[_0x234d85(0x254)](),this[_0x234d85(0x24a)]=null,this[_0x234d85(0x19b)]=Date[_0x234d85(0x254)](),this[_0x234d85(0x1eb)]=![],this['pressureBuffer']=[],this['on'](_0x234d85(0x256),this[_0x234d85(0x229)][_0x234d85(0x1ac)](this)),this['on']('stateChange',this[_0x234d85(0x1e7)][_0x234d85(0x1ac)](this)),this['on']('unload',this['onUnload'][_0x234d85(0x1ac)](this)),this['on']('message',this['onMessage'][_0x234d85(0x1ac)](this));}async[a0_0x12af48(0x229)](){const _0x5530dd=a0_0x12af48;this[_0x5530dd(0x27a)][_0x5530dd(0x15e)](_0x5530dd(0x272)+this['version']+')\x20-\x20Phase\x20E\x20(UX\x20&\x20AAL)');if(!installer[_0x5530dd(0x19a)](this,()=>this[_0x5530dd(0x1d7)]()))return;}async[a0_0x12af48(0x1d7)](){const _0x581514=a0_0x12af48;await setup[_0x581514(0x224)](this);try{this['isProVersion']=await setup['checkLicense'](this[_0x581514(0x1ea)][_0x581514(0x28a)]);}catch(_0x385a27){}if(!this[_0x581514(0x1ea)][_0x581514(0x179)]||this[_0x581514(0x1ea)][_0x581514(0x179)]<0.1)this[_0x581514(0x1ea)][_0x581514(0x179)]=0xc;if(this[_0x581514(0x1ea)][_0x581514(0x1c5)]===undefined)this[_0x581514(0x1ea)]['moduleHealth']=!![];if(this[_0x581514(0x1ea)][_0x581514(0x1de)]===undefined)this[_0x581514(0x1ea)][_0x581514(0x1de)]=!![];if(this[_0x581514(0x1ea)][_0x581514(0x139)]===undefined)this[_0x581514(0x1ea)][_0x581514(0x139)]=!![];if(this[_0x581514(0x1ea)][_0x581514(0x223)]===undefined)this[_0x581514(0x1ea)][_0x581514(0x223)]=!![];await setup[_0x581514(0x18a)](this),await setup[_0x581514(0x141)](this);try{const _0x423cc6=await this[_0x581514(0x21b)](_0x581514(0x28b)),_0x519794=await this[_0x581514(0x21b)]('analysis.energy.warmupSources');_0x423cc6&&_0x423cc6[_0x581514(0x148)]&&_0x519794&&_0x519794['val']&&(Date[_0x581514(0x254)]()-_0x423cc6['ts']<0x4*0xe10*0x3e8&&(this[_0x581514(0x24a)]={'times':JSON[_0x581514(0x1af)](_0x423cc6['val']),'sources':JSON['parse'](_0x519794[_0x581514(0x148)])},this[_0x581514(0x27a)]['info'](_0x581514(0x27e)+Object[_0x581514(0x138)](this['memoryCache'][_0x581514(0x241)])['length']+_0x581514(0x1b2))));}catch(_0x382fe4){this[_0x581514(0x27a)]['warn'](_0x581514(0x15f)+_0x382fe4[_0x581514(0x1c2)]);}if(this[_0x581514(0x1ea)]['geminiApiKey'])try{this[_0x581514(0x1ee)]=new GoogleGenerativeAI(this['config']['geminiApiKey']),this[_0x581514(0x215)]=this[_0x581514(0x1ee)][_0x581514(0x15d)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}});}catch(_0x4de34e){this[_0x581514(0x27a)][_0x581514(0x194)]('Gemini\x20Init\x20Error:\x20'+_0x4de34e[_0x581514(0x1c2)]);}await setup[_0x581514(0x1aa)](this),await this[_0x581514(0x145)](),await this['setObjectNotExistsAsync'](_0x581514(0x238),{'type':'state','common':{'name':_0x581514(0x25c),'type':_0x581514(0x14b),'role':'json','read':!![],'write':![],'def':'{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}'},'native':{}}),await this[_0x581514(0x27c)](_0x581514(0x150),{'type':_0x581514(0x1bb),'common':{'name':'PINN\x20AI\x20Forecast','type':_0x581514(0x14b),'role':_0x581514(0x247),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x581514(0x1bf),{'type':_0x581514(0x1bb),'common':{'name':'Active\x20Ventilation\x20Alerts','type':_0x581514(0x14b),'role':_0x581514(0x247),'read':!![],'write':![]},'native':{}}),await this[_0x581514(0x27c)](_0x581514(0x28b),{'type':'state','common':{'name':_0x581514(0x202),'type':_0x581514(0x14b),'role':_0x581514(0x247),'read':!![],'write':![]},'native':{}}),await this[_0x581514(0x27c)](_0x581514(0x1b6),{'type':_0x581514(0x1bb),'common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':'string','role':_0x581514(0x247),'read':!![],'write':!![],'def':_0x581514(0x173)},'native':{}}),await this[_0x581514(0x27c)](_0x581514(0x152),{'type':_0x581514(0x1bb),'common':{'name':_0x581514(0x14e),'type':_0x581514(0x14b),'role':_0x581514(0x247),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x581514(0x27c)](_0x581514(0x1c3),{'type':_0x581514(0x1bb),'common':{'name':_0x581514(0x1a1),'type':_0x581514(0x199),'role':_0x581514(0x261),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x581514(0x27c)](_0x581514(0x13a),{'type':_0x581514(0x1bb),'common':{'name':_0x581514(0x252),'type':_0x581514(0x14b),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x581514(0x27c)](_0x581514(0x251),{'type':'state','common':{'name':'Active\x20Calendar\x20Enforcements\x20(Locks)','type':_0x581514(0x14b),'role':_0x581514(0x247),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x581514(0x27c)](_0x581514(0x1a2),{'type':_0x581514(0x1bb),'common':{'name':_0x581514(0x19f),'type':'string','role':_0x581514(0x247),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync']('analysis.health.gaitDebug',{'type':_0x581514(0x1bb),'common':{'name':_0x581514(0x289),'type':_0x581514(0x14b),'role':_0x581514(0x1dd),'read':!![],'write':![]},'native':{}}),await this[_0x581514(0x27c)]('analysis.health.todayVector',{'type':'state','common':{'name':_0x581514(0x189),'type':_0x581514(0x14b),'role':_0x581514(0x247),'read':!![],'write':![],'def':'[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]'},'native':{}});try{const _0x3e7a4b=await this[_0x581514(0x21b)]('LTM.rawEventLog');if(_0x3e7a4b&&_0x3e7a4b[_0x581514(0x148)])this['rawEventLog']=JSON['parse'](_0x3e7a4b[_0x581514(0x148)]);}catch(_0x246a93){this['rawEventLog']=[];}try{const _0x1aaebc=await this[_0x581514(0x21b)](_0x581514(0x244));if(_0x1aaebc&&_0x1aaebc[_0x581514(0x148)])this[_0x581514(0x25e)]=JSON['parse'](_0x1aaebc[_0x581514(0x148)]);}catch(_0xf39f4b){this[_0x581514(0x25e)]=[];}const _0x207242=this[_0x581514(0x25e)][_0x581514(0x1c7)]>=(this[_0x581514(0x1ea)]['minDaysForBaseline']||0x7)?_0x581514(0x17f)+this[_0x581514(0x25e)][_0x581514(0x1c7)]+_0x581514(0x142):_0x581514(0x20b)+this[_0x581514(0x25e)]['length']+'/'+(this[_0x581514(0x1ea)][_0x581514(0x17e)]||0x7)+')';await this['setStateAsync'](_0x581514(0x22c),{'val':_0x207242,'ack':!![]}),this[_0x581514(0x240)](_0x581514(0x1b0)),this[_0x581514(0x240)](_0x581514(0x26d)),this['subscribeStates']('system.mode'),this[_0x581514(0x240)](_0x581514(0x22f)),this[_0x581514(0x240)](_0x581514(0x1b4)),this[_0x581514(0x240)](_0x581514(0x140)),this['subscribeStates'](_0x581514(0x234)),this['subscribeStates']('analysis.training.triggerHealth'),this[_0x581514(0x240)](_0x581514(0x1a3)),this['subscribeStates'](_0x581514(0x20d)),this[_0x581514(0x240)](_0x581514(0x26c)),this[_0x581514(0x240)](_0x581514(0x22e)),this[_0x581514(0x240)](_0x581514(0x231)),this[_0x581514(0x240)](_0x581514(0x28b));this[_0x581514(0x1ea)][_0x581514(0x1bc)]&&this['config']['infrasoundSensorId']&&this[_0x581514(0x23d)](this[_0x581514(0x1ea)][_0x581514(0x277)]);const _0x2fe09c=this[_0x581514(0x1ea)]['devices'];if(_0x2fe09c)for(const _0x3f9a18 of _0x2fe09c){await this[_0x581514(0x249)](_0x3f9a18['id']);}const _0x4bd2a5=this[_0x581514(0x1ea)][_0x581514(0x15c)];if(_0x4bd2a5)for(const _0x44d501 of _0x4bd2a5){await this['subscribeForeignStatesAsync'](_0x44d501);}if(this['config'][_0x581514(0x1d0)]&&this[_0x581514(0x1ea)][_0x581514(0x1a5)])await this[_0x581514(0x249)](this[_0x581514(0x1ea)][_0x581514(0x1a5)]+_0x581514(0x14d));setTimeout(()=>this[_0x581514(0x206)](),0x1388);if(this[_0x581514(0x193)])clearInterval(this[_0x581514(0x193)]);const _0x42a0ba=this['config']['analysisInterval']||0xf;_0x42a0ba>0x0&&(this[_0x581514(0x193)]=setInterval(()=>{const _0x24dba4=_0x581514;this[_0x24dba4(0x228)](),this['config'][_0x24dba4(0x139)]!==![]&&automation[_0x24dba4(0x280)](this);},_0x42a0ba*0x3c*0x3e8));setTimeout(()=>{const _0xa79545=_0x581514;this[_0xa79545(0x1ea)]['moduleEnergy']!==![]&&(automation['checkCalendarTriggers'](this),automation[_0xa79545(0x280)](this));},0x2710);this[_0x581514(0x1ea)][_0x581514(0x1c1)]!==![]&&(this[_0x581514(0x1a7)]=setInterval(()=>{const _0x20bbbc=_0x581514;if(this[_0x20bbbc(0x1c9)]){const _0x5829a5=Date['now'](),_0x738ed7=this['lastTrackerEventTime']||_0x5829a5,_0x1ea77f=(_0x5829a5-_0x738ed7)/0x3e8;_0x1ea77f>0x2&&(this[_0x20bbbc(0x1fb)]=_0x5829a5,pythonBridge[_0x20bbbc(0x20e)](this,_0x20bbbc(0x1ad),{'room':null,'dt':_0x1ea77f}));}},0xbb8));if(this[_0x581514(0x160)])clearInterval(this[_0x581514(0x160)]);this[_0x581514(0x26b)](),this[_0x581514(0x160)]=setInterval(async()=>{const _0x1d9c83=_0x581514;await this[_0x1d9c83(0x26b)]();},0x3c*0x3e8);if(this[_0x581514(0x151)])clearInterval(this[_0x581514(0x151)]);this[_0x581514(0x151)]=setInterval(()=>{const _0x1262ff=_0x581514;this[_0x1262ff(0x1c9)]&&this[_0x1262ff(0x1ea)][_0x1262ff(0x1c5)]!==![]&&this[_0x1262ff(0x268)]();},0x4*0x3c*0x3c*0x3e8),schedulers[_0x581514(0x1ff)](this,()=>aiAgent[_0x581514(0x197)](this,pythonBridge)),schedulers[_0x581514(0x157)](this),schedulers[_0x581514(0x165)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x581514(0x170)](this,()=>aiAgent[_0x581514(0x1b8)](this)),pythonBridge[_0x581514(0x287)](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x287b0f=_0x581514;await topology[_0x287b0f(0x161)](this);try{const _0x4f6519=await this[_0x287b0f(0x21b)](_0x287b0f(0x219));if(_0x4f6519&&_0x4f6519[_0x287b0f(0x148)])pythonBridge[_0x287b0f(0x20e)](this,_0x287b0f(0x21e),JSON['parse'](_0x4f6519['val']));}catch(_0x4cc959){}this['config'][_0x287b0f(0x1c5)]!==![]&&(this[_0x287b0f(0x268)](),this[_0x287b0f(0x1db)]()),this['triggerEnergyPrediction'](),this[_0x287b0f(0x22d)]();},0x1388);}['onUnload'](_0x258aeb){const _0xdd48e2=a0_0x12af48;if(this[_0xdd48e2(0x193)])clearInterval(this['analysisTimer']);if(this[_0xdd48e2(0x1f3)])clearInterval(this[_0xdd48e2(0x1f3)]);if(this[_0xdd48e2(0x1a7)])clearInterval(this[_0xdd48e2(0x1a7)]);if(this[_0xdd48e2(0x151)])clearInterval(this[_0xdd48e2(0x151)]);if(this[_0xdd48e2(0x160)])clearInterval(this[_0xdd48e2(0x160)]);if(this[_0xdd48e2(0x220)])this[_0xdd48e2(0x220)][_0xdd48e2(0x276)]();if(this[_0xdd48e2(0x246)])this[_0xdd48e2(0x246)][_0xdd48e2(0x276)]();if(this[_0xdd48e2(0x169)])this[_0xdd48e2(0x169)]['cancel']();recorder[_0xdd48e2(0x24b)](this),pythonBridge[_0xdd48e2(0x28d)](this),_0x258aeb();}async['integrateRoomTime'](){const _0x5163ed=a0_0x12af48;if(!this[_0x5163ed(0x21d)])return;try{let _0x25a520=null;try{const _0x3a94e1=await this[_0x5163ed(0x21b)](_0x5163ed(0x163)),_0x2811eb=await this['getStateAsync'](_0x5163ed(0x16d));_0x3a94e1&&_0x3a94e1[_0x5163ed(0x148)]&&_0x2811eb&&_0x2811eb[_0x5163ed(0x148)]&&_0x2811eb[_0x5163ed(0x148)]>0.3&&(_0x25a520=_0x3a94e1[_0x5163ed(0x148)]);}catch(_0x24d8ec){}if(!_0x25a520||_0x25a520===_0x5163ed(0x137)||_0x25a520===_0x5163ed(0x1cc))return;const _0x475199=_0x5163ed(0x238),_0x5a8ee4=await this[_0x5163ed(0x21b)](_0x475199);let _0x199335={'today':{},'yesterday':{},'date':new Date()[_0x5163ed(0x203)]()};if(_0x5a8ee4&&_0x5a8ee4[_0x5163ed(0x148)])try{_0x199335=JSON[_0x5163ed(0x1af)](_0x5a8ee4[_0x5163ed(0x148)]);}catch(_0x1597dd){}if(!_0x199335[_0x5163ed(0x19e)])_0x199335[_0x5163ed(0x19e)]={};if(!_0x199335[_0x5163ed(0x190)])_0x199335[_0x5163ed(0x190)]={};const _0x2fa133=new Date()[_0x5163ed(0x203)]();_0x199335['date']!==_0x2fa133&&(this[_0x5163ed(0x27a)][_0x5163ed(0x15e)]('ðŸ“…\x20Midnight\x20Reset:\x20Archiving\x20Room\x20Stats\x20(Yesterday\x20<-\x20Today).'),_0x199335[_0x5163ed(0x190)]=_0x199335[_0x5163ed(0x19e)]||{},_0x199335['today']={},_0x199335[_0x5163ed(0x1ba)]=_0x2fa133);if(!_0x199335[_0x5163ed(0x19e)][_0x25a520])_0x199335['today'][_0x25a520]=0x0;_0x199335[_0x5163ed(0x19e)][_0x25a520]++,await this[_0x5163ed(0x1cf)](_0x475199,{'val':JSON['stringify'](_0x199335),'ack':!![]});}catch(_0x4c60a7){this[_0x5163ed(0x27a)][_0x5163ed(0x1fc)](_0x5163ed(0x1cb)+_0x4c60a7[_0x5163ed(0x1c2)]);}}async[a0_0x12af48(0x1e7)](_0x219b07,_0x37c902){const _0x119d64=a0_0x12af48;if(!_0x37c902||this['dependencyInstallInProgress'])return;if(_0x219b07[_0x119d64(0x1ec)](_0x119d64(0x1f9))&&_0x219b07['endsWith']('communicate.request')&&_0x37c902[_0x119d64(0x148)])return;if(this['config'][_0x119d64(0x1bc)]&&_0x219b07===this[_0x119d64(0x1ea)][_0x119d64(0x277)]){this[_0x119d64(0x17c)](_0x37c902[_0x119d64(0x148)]);return;}if(_0x219b07===this[_0x119d64(0x18e)]+_0x119d64(0x1f1)){if(_0x37c902[_0x119d64(0x148)]&&Object['values'](setup[_0x119d64(0x260)])[_0x119d64(0x1ec)](_0x37c902[_0x119d64(0x148)])){this[_0x119d64(0x19c)]=_0x37c902[_0x119d64(0x148)];if(_0x37c902[_0x119d64(0x148)]===setup[_0x119d64(0x260)]['VACATION'])await recorder['setPresence'](this,![]);else await recorder[_0x119d64(0x209)](this,!![]);if(this[_0x119d64(0x1c9)]){let _0x2e7ae8=![],_0x9cc770=0x0,_0x1b3e85=_0x119d64(0x208);if(this[_0x119d64(0x19c)]===_0x119d64(0x196))_0x2e7ae8=!![],_0x9cc770=0x168,_0x1b3e85=_0x119d64(0x1b5);else this[_0x119d64(0x19c)]===_0x119d64(0x175)&&(_0x2e7ae8=!![],_0x9cc770=0x5a0,_0x1b3e85=_0x119d64(0x176));pythonBridge[_0x119d64(0x20e)](this,_0x119d64(0x267),{'active':_0x2e7ae8,'duration':_0x9cc770,'label':_0x1b3e85}),await this[_0x119d64(0x1cf)](_0x119d64(0x217),{'val':JSON[_0x119d64(0x1c4)]({'active':_0x2e7ae8,'label':_0x1b3e85,'timestamp':Date[_0x119d64(0x254)]()}),'ack':!![]});}}if(!_0x37c902[_0x119d64(0x198)])this['setState'](_0x219b07,{'val':this[_0x119d64(0x19c)],'ack':!![]});return;}_0x219b07[_0x119d64(0x23a)]('analysis.energy.warmupSources')&&_0x37c902[_0x119d64(0x198)]&&this[_0x119d64(0x13b)](_0x37c902[_0x119d64(0x148)]);_0x219b07[_0x119d64(0x23a)](_0x119d64(0x28b))&&_0x37c902[_0x119d64(0x198)]&&(this[_0x119d64(0x1ea)][_0x119d64(0x139)]!==![]&&automation[_0x119d64(0x135)](this));if(!_0x37c902[_0x119d64(0x198)]){if(_0x219b07[_0x119d64(0x1ec)]('analysis.trigger')&&_0x37c902[_0x119d64(0x148)]){this[_0x119d64(0x205)](_0x219b07,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0x219b07[_0x119d64(0x1ec)](_0x119d64(0x158))&&_0x37c902[_0x119d64(0x148)]){this[_0x119d64(0x205)](_0x219b07,{'val':![],'ack':!![]});if(this[_0x119d64(0x1c9)])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x219b07[_0x119d64(0x1ec)](_0x119d64(0x13d))&&_0x37c902[_0x119d64(0x148)]){this[_0x119d64(0x205)](_0x219b07,{'val':![],'ack':!![]}),aiAgent[_0x119d64(0x1b8)](this);return;}if(_0x219b07[_0x119d64(0x1ec)](_0x119d64(0x1e9))&&_0x37c902[_0x119d64(0x148)]){this['setState'](_0x219b07,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x219b07[_0x119d64(0x1ec)](_0x119d64(0x234))&&_0x37c902['val']){this[_0x119d64(0x205)](_0x219b07,{'val':![],'ack':!![]});if(this[_0x119d64(0x1ea)][_0x119d64(0x1de)]===![])return;if(this[_0x119d64(0x1c9)])try{const _0x4546d3=await this[_0x119d64(0x21b)](_0x119d64(0x167));if(_0x4546d3&&_0x4546d3['val']){const _0x22e40b=JSON[_0x119d64(0x1af)](_0x4546d3[_0x119d64(0x148)]);this[_0x119d64(0x1cf)](_0x119d64(0x1da),{'val':_0x119d64(0x1e5),'ack':!![]}),pythonBridge[_0x119d64(0x20e)](this,_0x119d64(0x1ae),{'sequences':_0x22e40b});}}catch(_0x88eed2){}return;}if(_0x219b07[_0x119d64(0x1ec)](_0x119d64(0x183))&&_0x37c902['val']){this[_0x119d64(0x205)](_0x219b07,{'val':![],'ack':!![]});if(this[_0x119d64(0x1ea)][_0x119d64(0x1c5)]===![])return;if(this['isProVersion'])try{const _0x4f7e6f=await this[_0x119d64(0x21b)](_0x119d64(0x244));if(_0x4f7e6f&&_0x4f7e6f[_0x119d64(0x148)])pythonBridge[_0x119d64(0x20e)](this,'TRAIN_HEALTH',{'digests':JSON[_0x119d64(0x1af)](_0x4f7e6f[_0x119d64(0x148)])});}catch(_0x2b2e19){}return;}if(_0x219b07[_0x119d64(0x1ec)]('analysis.training.triggerEnergy')&&_0x37c902['val']){this[_0x119d64(0x205)](_0x219b07,{'val':![],'ack':!![]});if(this['config']['moduleEnergy']===![])return;if(this[_0x119d64(0x1c9)])try{const _0x19ff1b=await this[_0x119d64(0x21b)]('LTM.trainingData.thermodynamics');if(_0x19ff1b&&_0x19ff1b[_0x119d64(0x148)])pythonBridge[_0x119d64(0x20e)](this,_0x119d64(0x25f),{'points':JSON[_0x119d64(0x1af)](_0x19ff1b[_0x119d64(0x148)])});}catch(_0xd541f2){}return;}if(_0x219b07[_0x119d64(0x1ec)](_0x119d64(0x20d))&&_0x37c902[_0x119d64(0x148)]){this[_0x119d64(0x205)](_0x219b07,{'val':![],'ack':!![]});if(this[_0x119d64(0x1ea)]['moduleComfort']===![])return;if(this[_0x119d64(0x1c9)])try{const _0x267647=await this[_0x119d64(0x21b)](_0x119d64(0x195));if(_0x267647&&_0x267647[_0x119d64(0x148)]){const _0x51ac88={};this[_0x119d64(0x1ea)]['devices']&&Array['isArray'](this['config'][_0x119d64(0x213)])&&this[_0x119d64(0x1ea)][_0x119d64(0x213)][_0x119d64(0x144)](_0xf8bc59=>{const _0x4ab99a=_0x119d64;if(_0xf8bc59['id']&&_0xf8bc59[_0x4ab99a(0x275)])_0x51ac88[_0xf8bc59['id']]=_0xf8bc59[_0x4ab99a(0x275)];}),pythonBridge['send'](this,'TRAIN_COMFORT',{'events':JSON['parse'](_0x267647['val']),'deviceMap':_0x51ac88});}}catch(_0x101640){this[_0x119d64(0x27a)][_0x119d64(0x194)](_0x119d64(0x25a)+_0x101640[_0x119d64(0x1c2)]);}return;}if(_0x219b07['includes'](_0x119d64(0x26c))&&_0x37c902[_0x119d64(0x148)]){this['setState'](_0x219b07,{'val':![],'ack':!![]}),topology[_0x119d64(0x161)](this);if(this[_0x119d64(0x1c9)])try{const _0x1010f5=await this['getStateAsync'](_0x119d64(0x167));if(_0x1010f5&&_0x1010f5[_0x119d64(0x148)]){const _0x3c97e1=JSON[_0x119d64(0x1af)](_0x1010f5['val']);pythonBridge[_0x119d64(0x20e)](this,_0x119d64(0x273),{'sequences':_0x3c97e1});}}catch(_0x582f76){this[_0x119d64(0x27a)][_0x119d64(0x194)](_0x119d64(0x15b)+_0x582f76['message']);}return;}}const _0x209e56=(this[_0x119d64(0x1ea)]['devices']||[])['find'](_0x2bbbfb=>_0x2bbbfb['id']===_0x219b07);if(_0x209e56){const _0x3b8631=await recorder['processSensorEvent'](this,_0x219b07,_0x37c902,_0x209e56);_0x3b8631&&_0x3b8631[_0x119d64(0x275)]==='motion'&&_0x3b8631[_0x119d64(0x266)]&&this[_0x119d64(0x1c9)]&&(this[_0x119d64(0x1ea)][_0x119d64(0x1de)]!==![]&&deadMan[_0x119d64(0x19d)](this,_0x3b8631[_0x119d64(0x266)])),_0x37c902[_0x119d64(0x148)]&&(_0x37c902[_0x119d64(0x148)]===!![]||_0x37c902['val']===0x1||String(_0x37c902[_0x119d64(0x148)])[_0x119d64(0x21a)]()===_0x119d64(0x186))&&(_0x209e56[_0x119d64(0x275)]&&(_0x209e56[_0x119d64(0x275)][_0x119d64(0x1ec)](_0x119d64(0x146))||_0x209e56[_0x119d64(0x275)][_0x119d64(0x1ec)](_0x119d64(0x16c))||_0x209e56['type'][_0x119d64(0x1ec)]('magnet'))&&this['analyzeWindowOpening'](_0x209e56)),(_0x209e56[_0x119d64(0x275)]==='temperature'||_0x209e56['type']===_0x119d64(0x1d6))&&(this['config'][_0x119d64(0x139)]!==![]&&automation['cleanupGhostInterventions'](this));}}async[a0_0x12af48(0x13b)](_0x4df53b){const _0x3834f5=a0_0x12af48;if(!this[_0x3834f5(0x24a)]||Date[_0x3834f5(0x254)]()-this[_0x3834f5(0x19b)]>0x493e0)return;if(!this[_0x3834f5(0x24a)]['sources']||!this[_0x3834f5(0x24a)]['times'])return;try{const _0x2e10c2=JSON[_0x3834f5(0x1af)](_0x4df53b),_0x11553f=this[_0x3834f5(0x24a)][_0x3834f5(0x1b9)];let _0x11eb80=![];for(const _0x530c8b in _0x11553f){if(_0x11553f[_0x530c8b][_0x3834f5(0x1ec)]('AI')&&_0x2e10c2[_0x530c8b]&&!_0x2e10c2[_0x530c8b][_0x3834f5(0x1ec)]('AI')){_0x11eb80=!![];break;}}_0x11eb80&&(await this[_0x3834f5(0x1cf)]('analysis.energy.warmupTimes',{'val':JSON[_0x3834f5(0x1c4)](this['memoryCache'][_0x3834f5(0x241)]),'ack':!![]}),await this[_0x3834f5(0x1cf)](_0x3834f5(0x231),{'val':JSON[_0x3834f5(0x1c4)](this[_0x3834f5(0x24a)]['sources']),'ack':!![]}));}catch(_0x408cd1){}}async['onMessage'](_0x53929c){const _0x4d5033=a0_0x12af48;if(typeof _0x53929c===_0x4d5033(0x24c)&&_0x53929c['message']){if(_0x53929c[_0x4d5033(0x286)]===_0x4d5033(0x1f4))try{const _0x361bf8=await automation[_0x4d5033(0x21f)](this);this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':!![],'results':_0x361bf8},_0x53929c[_0x4d5033(0x1ab)]);}catch(_0x21d6fa){this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':![],'error':_0x21d6fa[_0x4d5033(0x1c2)]},_0x53929c[_0x4d5033(0x1ab)]);}else{if(_0x53929c[_0x4d5033(0x286)]===_0x4d5033(0x1df)){const _0x438e35=this[_0x4d5033(0x25e)][_0x4d5033(0x1c7)];let _0x1e23f4=new Array(0x18)[_0x4d5033(0x14f)](0x0);try{const _0x129755=await this['getStateAsync'](_0x4d5033(0x18f));if(_0x129755&&_0x129755[_0x4d5033(0x148)])_0x1e23f4=JSON[_0x4d5033(0x1af)](_0x129755[_0x4d5033(0x148)]);else{const _0x280dc6=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x4d5033(0x236)]&&this[_0x4d5033(0x236)][_0x4d5033(0x144)](_0x5c5be1=>{const _0x1e1800=_0x4d5033;if(_0x5c5be1[_0x1e1800(0x288)]>=_0x280dc6){const _0x4016bf=new Date(_0x5c5be1[_0x1e1800(0x288)])[_0x1e1800(0x1fa)]();if(_0x4016bf>=0x0&&_0x4016bf<0x18)_0x1e23f4[_0x4016bf]++;}});}}catch(_0x41e621){this[_0x4d5033(0x27a)][_0x4d5033(0x1fc)]('Could\x20not\x20read\x20daily\x20vector:\x20'+_0x41e621[_0x4d5033(0x1c2)]);}let _0x53d111={'today':{},'yesterday':{}};try{const _0x1604bb=await this[_0x4d5033(0x21b)](_0x4d5033(0x238));if(_0x1604bb&&_0x1604bb['val'])_0x53d111=JSON['parse'](_0x1604bb[_0x4d5033(0x148)]);}catch(_0x364a0c){}let _0x4828aa=![],_0xc57c21='',_0x4f6c85='',_0x215819='';try{const _0x351d56=await this[_0x4d5033(0x21b)](_0x4d5033(0x155));if(_0x351d56&&_0x351d56[_0x4d5033(0x148)]){_0x4828aa=!![];const _0x7b1c62=await this['getStateAsync'](_0x4d5033(0x13e));_0xc57c21=_0x7b1c62?_0x7b1c62[_0x4d5033(0x148)]:'';const _0x17742a=await this['getStateAsync']('analysis.automation.targetId');_0x4f6c85=_0x17742a?_0x17742a[_0x4d5033(0x148)]:'';const _0xf165ef=await this['getStateAsync'](_0x4d5033(0x23c));_0x215819=_0xf165ef?_0xf165ef[_0x4d5033(0x148)]:'';}}catch(_0x555145){}const _0x392461=await this[_0x4d5033(0x1e4)](),_0x502322=(this['config'][_0x4d5033(0x213)]||[])['some'](_0x127aee=>_0x127aee['isSolar']),_0x1b2aa1=_0x392461&&_0x502322;let _0x169da9='';try{const _0x1d2bb2=await this[_0x4d5033(0x21b)]('system.presenceWho');if(_0x1d2bb2&&_0x1d2bb2[_0x4d5033(0x148)])_0x169da9=_0x1d2bb2[_0x4d5033(0x148)];}catch(_0x1aff54){}this[_0x4d5033(0x20c)](_0x53929c['from'],_0x53929c[_0x4d5033(0x286)],{'success':!![],'eventHistory':this['eventHistory'][_0x4d5033(0x1d1)](0x0,0x64),'stats':{'digestCount':_0x438e35,'isPresent':this['isPresent'],'hourlyActivity':_0x1e23f4,'solarActive':_0x1b2aa1,'presenceWho':_0x169da9,'roomStats':_0x53d111},'automation':{'detected':_0x4828aa,'description':_0xc57c21,'targetId':_0x4f6c85,'targetValue':_0x215819}},_0x53929c['callback']);}else{if(_0x53929c['command']==='simulateEnergyMPC')try{const {current_temps:_0x1c5f72,t_out:_0x1eb292,targets:_0x257fc0,t_forecast:_0x223016}=_0x53929c['message'],_0x268861=[];let _0x3d5ed3={};try{const _0x294209=await this[_0x4d5033(0x21b)](_0x4d5033(0x1a8));if(_0x294209&&_0x294209[_0x4d5033(0x148)]){const _0xcfb3ee=JSON[_0x4d5033(0x1af)](_0x294209[_0x4d5033(0x148)]);_0x3d5ed3=_0xcfb3ee[_0x4d5033(0x204)]||_0xcfb3ee;}}catch(_0x30fc5a){}const _0x6c23a1=_0x223016!==undefined&&_0x223016!==null?(_0x1eb292+_0x223016)/0x2:_0x1eb292;for(const [_0x2fab88,_0x5e3a59]of Object[_0x4d5033(0x1e3)](_0x1c5f72)){const _0x5ca6a0=_0x257fc0[_0x2fab88]||0x15;if(_0x5e3a59<=_0x5ca6a0)continue;let _0x32b03b=_0x3d5ed3[_0x2fab88]||-0.5;if(_0x32b03b>=0x0)_0x32b03b=-0.5;const _0xcdfb0=Math[_0x4d5033(0x153)](_0x32b03b),_0x1add0a=_0x5e3a59-_0x5ca6a0;let _0x22e928=Math[_0x4d5033(0x214)](_0x1add0a/_0xcdfb0*0x3c);const _0x5328e6=_0x5e3a59-_0x1eb292,_0x2b7468=_0x5e3a59-_0x6c23a1;if(_0x2b7468!==0x0&&_0x5328e6!==0x0){const _0x199ce6=_0x5328e6/_0x2b7468;_0x22e928=Math[_0x4d5033(0x214)](_0x22e928*_0x199ce6);}if(_0x22e928>0xf){if(_0x22e928>0xf0)_0x22e928=0xf0;_0x268861[_0x4d5033(0x23b)]({'room':_0x2fab88,'minutes_safe':_0x22e928,'target':_0x5ca6a0,'current':_0x5e3a59,'savings_msg':_0x4d5033(0x136)+_0x22e928+_0x4d5033(0x1e8)});}}_0x268861[_0x4d5033(0x200)]((_0x375846,_0x13f340)=>_0x13f340[_0x4d5033(0x188)]-_0x375846[_0x4d5033(0x188)]),this['sendTo'](_0x53929c[_0x4d5033(0x263)],_0x53929c['command'],{'success':!![],'proposals':_0x268861},_0x53929c[_0x4d5033(0x1ab)]);}catch(_0x266e78){this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c['command'],{'success':![],'error':_0x266e78[_0x4d5033(0x1c2)]},_0x53929c[_0x4d5033(0x1ab)]);}else{if(_0x53929c[_0x4d5033(0x286)]===_0x4d5033(0x26a))try{await automation[_0x4d5033(0x1d3)](this),this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':!![]},_0x53929c[_0x4d5033(0x1ab)]);}catch(_0x3a65e4){this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':![],'error':_0x3a65e4[_0x4d5033(0x1c2)]},_0x53929c[_0x4d5033(0x1ab)]);}else{if(_0x53929c[_0x4d5033(0x286)]==='resetRLPenalty')try{const _0x2f0c59=_0x53929c['message'][_0x4d5033(0x264)],_0x1e099f='analysis.energy.rlPenalties',_0x281e74=await this[_0x4d5033(0x21b)](_0x1e099f);let _0x13e020={};if(_0x281e74&&_0x281e74[_0x4d5033(0x148)])try{_0x13e020=JSON[_0x4d5033(0x1af)](_0x281e74[_0x4d5033(0x148)]);}catch(_0x5173c3){}_0x2f0c59&&_0x13e020[_0x2f0c59]?(delete _0x13e020[_0x2f0c59],await this[_0x4d5033(0x1cf)](_0x1e099f,{'val':JSON[_0x4d5033(0x1c4)](_0x13e020),'ack':!![]}),this[_0x4d5033(0x27a)][_0x4d5033(0x15e)](_0x4d5033(0x177)+_0x2f0c59+_0x4d5033(0x16a)),this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':!![]},_0x53929c[_0x4d5033(0x1ab)])):this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c['command'],{'success':![],'error':_0x4d5033(0x281)},_0x53929c['callback']);}catch(_0x1597b8){this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c['command'],{'success':![],'error':_0x1597b8[_0x4d5033(0x1c2)]},_0x53929c[_0x4d5033(0x1ab)]);}else{if(_0x53929c['command']===_0x4d5033(0x1c0))await this[_0x4d5033(0x1cf)]('analysis.automation.patternDetected',{'val':![],'ack':!![]}),await this[_0x4d5033(0x1cf)](_0x4d5033(0x13e),{'val':'','ack':!![]}),await this[_0x4d5033(0x1cf)](_0x4d5033(0x16b),{'val':'','ack':!![]}),this['sendTo'](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':!![]},_0x53929c[_0x4d5033(0x1ab)]);else{if(_0x53929c[_0x4d5033(0x286)]==='simulateButler'){const {targetId:_0x2adf01,targetValue:_0x913831}=_0x53929c[_0x4d5033(0x1c2)];await this[_0x4d5033(0x1cf)](_0x4d5033(0x155),{'val':!![],'ack':!![]}),await this[_0x4d5033(0x1cf)](_0x4d5033(0x13e),{'val':'Simulation\x20durch\x20Admin\x20(Test)','ack':!![]}),await this[_0x4d5033(0x1cf)](_0x4d5033(0x16b),{'val':_0x2adf01,'ack':!![]}),await this['setStateAsync'](_0x4d5033(0x23c),{'val':String(_0x913831),'ack':!![]}),this['sendTo'](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':!![]},_0x53929c['callback']);}else{if(_0x53929c[_0x4d5033(0x286)]===_0x4d5033(0x18b))try{const _0x2c2eef=_0x53929c[_0x4d5033(0x1c2)][_0x4d5033(0x25d)];if(!_0x2c2eef)throw new Error(_0x4d5033(0x285));const _0x220d90=new GoogleGenerativeAI(_0x2c2eef),_0xf35009=_0x220d90[_0x4d5033(0x15d)]({'model':GEMINI_MODEL}),_0x89a1c3=await _0xf35009['generateContent'](_0x4d5033(0x27b)),_0x79f1f9=await _0x89a1c3[_0x4d5033(0x1d9)];if(_0x79f1f9[_0x4d5033(0x1dd)]())this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':!![],'message':_0x4d5033(0x1ed)},_0x53929c[_0x4d5033(0x1ab)]);else throw new Error(_0x4d5033(0x1be));}catch(_0x4969a7){this['sendTo'](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':![],'message':_0x4969a7[_0x4d5033(0x1c2)]},_0x53929c[_0x4d5033(0x1ab)]);}else{if(_0x53929c[_0x4d5033(0x286)]==='scanDevices')try{const _0x14be91=await scanner[_0x4d5033(0x1d5)](this,_0x53929c['message']||{});this[_0x4d5033(0x20c)](_0x53929c['from'],_0x53929c['command'],{'success':!![],'devices':_0x14be91},_0x53929c['callback']);}catch(_0x35bcb3){this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':![],'error':_0x35bcb3[_0x4d5033(0x1c2)]},_0x53929c[_0x4d5033(0x1ab)]);}else{if(_0x53929c[_0x4d5033(0x286)]==='updateTopologyMatrix')try{const {matrix:_0x1fad4a}=_0x53929c[_0x4d5033(0x1c2)],_0x45b3e8=await this[_0x4d5033(0x21b)](_0x4d5033(0x219));if(_0x45b3e8&&_0x45b3e8[_0x4d5033(0x148)]){const _0xd2b637=JSON[_0x4d5033(0x1af)](_0x45b3e8[_0x4d5033(0x148)]);_0xd2b637['matrix']=_0x1fad4a,_0xd2b637['updated']=Date[_0x4d5033(0x254)](),await this[_0x4d5033(0x1cf)](_0x4d5033(0x219),{'val':JSON[_0x4d5033(0x1c4)](_0xd2b637),'ack':!![]}),pythonBridge['send'](this,_0x4d5033(0x21e),_0xd2b637);}this[_0x4d5033(0x20c)](_0x53929c['from'],_0x53929c[_0x4d5033(0x286)],{'success':!![]},_0x53929c[_0x4d5033(0x1ab)]);}catch(_0x4bf2d5){this['log'][_0x4d5033(0x194)](_0x4bf2d5);}else{if(_0x53929c[_0x4d5033(0x286)]===_0x4d5033(0x1ca))this[_0x4d5033(0x20c)](_0x53929c['from'],_0x53929c['command'],{'success':!![],'dailyDigests':this[_0x4d5033(0x25e)]||[],'analysisHistory':this[_0x4d5033(0x243)]||[]},_0x53929c[_0x4d5033(0x1ab)]);else{if(_0x53929c['command']==='getEnums'){const _0x9eef8c=await this[_0x4d5033(0x221)]('enum.functions.*',_0x4d5033(0x27d)),_0x14facb=[];if(_0x9eef8c)for(const _0x567532 in _0x9eef8c){const _0x185c1e=_0x9eef8c[_0x567532],_0x4f208b=(_0x185c1e[_0x4d5033(0x1f7)]&&typeof _0x185c1e['common'][_0x4d5033(0x237)]===_0x4d5033(0x24c)?_0x185c1e[_0x4d5033(0x1f7)]['name']['de']:_0x185c1e[_0x4d5033(0x1f7)][_0x4d5033(0x237)])||_0x185c1e['common'][_0x4d5033(0x237)];_0x14facb[_0x4d5033(0x23b)]({'id':_0x567532,'name':_0x4f208b});}const _0x517b42=await this[_0x4d5033(0x221)](_0x4d5033(0x162),_0x4d5033(0x27d)),_0x4efa1d=[];if(_0x517b42)for(const _0x33709f in _0x517b42){const _0x4b40ef=_0x517b42[_0x33709f],_0x2b85d7=(_0x4b40ef[_0x4d5033(0x1f7)]&&typeof _0x4b40ef[_0x4d5033(0x1f7)][_0x4d5033(0x237)]===_0x4d5033(0x24c)?_0x4b40ef[_0x4d5033(0x1f7)][_0x4d5033(0x237)]['de']:_0x4b40ef[_0x4d5033(0x1f7)][_0x4d5033(0x237)])||_0x33709f[_0x4d5033(0x13c)]('.')[_0x4d5033(0x255)]();_0x4efa1d[_0x4d5033(0x23b)](_0x2b85d7);}this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':!![],'enums':_0x14facb,'rooms':_0x4efa1d},_0x53929c[_0x4d5033(0x1ab)]);}else{if(_0x53929c['command']===_0x4d5033(0x164))try{let _0x480beb='Kein\x20Wetter-Adapter',_0x43d14b='Kein\x20Kalender-Adapter';if(this[_0x4d5033(0x1ea)]['useWeather']){const _0x3cf93a=await recorder[_0x4d5033(0x235)](this);_0x480beb=_0x3cf93a!==null?_0x3cf93a+'Â°C':_0x4d5033(0x218);}if(this[_0x4d5033(0x1ea)][_0x4d5033(0x230)]){const _0x5344b3=await this[_0x4d5033(0x1c8)](_0x4d5033(0x1bd)+this[_0x4d5033(0x1ea)][_0x4d5033(0x230)]);_0x43d14b=_0x5344b3?_0x4d5033(0x253):_0x4d5033(0x269);}this['sendTo'](_0x53929c['from'],_0x53929c[_0x4d5033(0x286)],{'success':!![],'weather':_0x480beb,'calendar':_0x43d14b},_0x53929c[_0x4d5033(0x1ab)]);}catch(_0x19ce20){this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c['command'],{'success':![],'error':_0x19ce20['message']},_0x53929c[_0x4d5033(0x1ab)]);}else{if(_0x53929c[_0x4d5033(0x286)]===_0x4d5033(0x239))try{const _0x169a38=_0x53929c[_0x4d5033(0x1c2)][_0x4d5033(0x17d)],_0x5cb4c5=await this[_0x4d5033(0x21c)](_0x169a38+'.data.table');let _0x243bb1=[];if(_0x5cb4c5&&_0x5cb4c5[_0x4d5033(0x148)]){const _0x261428=JSON[_0x4d5033(0x1af)](_0x5cb4c5[_0x4d5033(0x148)]),_0x528552=new Set();Array[_0x4d5033(0x1fd)](_0x261428)&&_0x261428[_0x4d5033(0x144)](_0x2038ac=>{const _0x11d8ec=_0x4d5033;if(_0x2038ac[_0x11d8ec(0x22a)])_0x528552[_0x11d8ec(0x1b1)](_0x2038ac[_0x11d8ec(0x22a)]);else{if(_0x2038ac['calendarName'])_0x528552[_0x11d8ec(0x1b1)](_0x2038ac[_0x11d8ec(0x210)]);}}),_0x243bb1=Array[_0x4d5033(0x263)](_0x528552)[_0x4d5033(0x200)]();}if(_0x243bb1['length']===0x0)_0x243bb1=[_0x4d5033(0x1a9)];this['sendTo'](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':!![],'names':_0x243bb1},_0x53929c[_0x4d5033(0x1ab)]);}catch(_0x1e3eca){this[_0x4d5033(0x20c)](_0x53929c[_0x4d5033(0x263)],_0x53929c['command'],{'success':![],'error':_0x1e3eca['message']},_0x53929c[_0x4d5033(0x1ab)]);}else{if(_0x53929c[_0x4d5033(0x286)]===_0x4d5033(0x274))try{await setup[_0x4d5033(0x283)](this,_0x4d5033(0x1d8),![],![]),this['sendTo'](_0x53929c[_0x4d5033(0x263)],_0x53929c[_0x4d5033(0x286)],{'success':!![],'message':_0x4d5033(0x216)},_0x53929c[_0x4d5033(0x1ab)]);}catch(_0x1b7d01){this[_0x4d5033(0x27a)][_0x4d5033(0x194)](_0x4d5033(0x245)+_0x1b7d01['message']),this['sendTo'](_0x53929c[_0x4d5033(0x263)],_0x53929c['command'],{'success':![],'message':_0x4d5033(0x13f)+_0x1b7d01[_0x4d5033(0x1c2)]},_0x53929c[_0x4d5033(0x1ab)]);}}}}}}}}}}}}}}}}}async[a0_0x12af48(0x145)](){const _0x49210c=a0_0x12af48;try{const _0x96cc68=await this[_0x49210c(0x21b)](setup[_0x49210c(0x147)]);_0x96cc68&&_0x96cc68['val']&&Object['values'](setup[_0x49210c(0x260)])['includes'](_0x96cc68[_0x49210c(0x148)])?this[_0x49210c(0x19c)]=_0x96cc68[_0x49210c(0x148)]:(this[_0x49210c(0x19c)]=setup[_0x49210c(0x260)][_0x49210c(0x242)],await this[_0x49210c(0x1cf)](setup[_0x49210c(0x147)],{'val':setup[_0x49210c(0x260)][_0x49210c(0x242)],'ack':!![]}));}catch(_0x2d7134){this['currentSystemMode']=setup[_0x49210c(0x260)][_0x49210c(0x242)];}}async[a0_0x12af48(0x206)](){const _0x322f0e=a0_0x12af48;try{const _0x3d6300=this[_0x322f0e(0x1ea)][_0x322f0e(0x15c)]||[];let _0x4489ce=![];const _0x154712=[];for(const _0x205486 of _0x3d6300){try{const _0x42f35b=await this['getForeignStateAsync'](_0x205486);_0x42f35b&&(_0x42f35b['val']===!![]||_0x42f35b[_0x322f0e(0x148)]===_0x322f0e(0x201)||_0x42f35b[_0x322f0e(0x148)]===0x1)&&(_0x4489ce=!![],_0x154712['push'](_0x205486));}catch(_0x219d21){}}return await this['setStateAsync']('system.presenceWho',{'val':_0x154712[_0x322f0e(0x191)](',\x20'),'ack':!![]}),_0x4489ce&&(this[_0x322f0e(0x1a6)]&&(this[_0x322f0e(0x27a)]['info']('WiFi\x20Presence\x20detected.'),recorder[_0x322f0e(0x24b)](this)),!this[_0x322f0e(0x21d)]&&this['currentSystemMode']===setup['SYSTEM_MODES'][_0x322f0e(0x242)]&&await recorder[_0x322f0e(0x209)](this,!![])),_0x4489ce;}catch(_0x337be5){return![];}}async[a0_0x12af48(0x228)](){const _0x528cf6=a0_0x12af48;this[_0x528cf6(0x27a)][_0x528cf6(0x248)](_0x528cf6(0x1f8)),await aiAgent['runGeminiAnalysis'](this),this[_0x528cf6(0x22d)](),this[_0x528cf6(0x1db)](),this[_0x528cf6(0x1e1)]();}async[a0_0x12af48(0x1e4)](){const _0x1db102=a0_0x12af48,_0xd3505a=[_0x1db102(0x1e2),_0x1db102(0x1c6),_0x1db102(0x1fe)],_0x68a3d5=[_0x1db102(0x187),_0x1db102(0x23e),_0x1db102(0x15a)];for(const _0x5c151d of _0xd3505a){for(const _0x3fafa2 of _0x68a3d5){try{const _0x91ded0=_0x5c151d+'.'+_0x3fafa2,_0x55e42d=await this[_0x1db102(0x21c)](_0x91ded0);if(_0x55e42d&&_0x55e42d[_0x1db102(0x148)]){const _0x43d5ba=String(_0x55e42d[_0x1db102(0x148)])[_0x1db102(0x21a)]();if(_0x43d5ba[_0x1db102(0x1ec)](_0x1db102(0x262))||_0x43d5ba[_0x1db102(0x1ec)]('sunny')||_0x43d5ba[_0x1db102(0x1ec)](_0x1db102(0x265))||_0x43d5ba['includes'](_0x1db102(0x1f0))||_0x43d5ba[_0x1db102(0x1ec)]('heiter'))return!![];}}catch(_0x2662e6){}}}return![];}[a0_0x12af48(0x1db)](){const _0x123434=a0_0x12af48;if(!this[_0x123434(0x1c9)])return;try{this[_0x123434(0x185)]('LTM.trainingData.sequences',(_0x4471b9,_0x122920)=>{const _0x48caac=_0x123434;_0x122920&&_0x122920[_0x48caac(0x148)]&&pythonBridge['send'](this,_0x48caac(0x159),{'sequences':JSON[_0x48caac(0x1af)](_0x122920['val'])});});}catch(_0x44d1d0){}}async['triggerEnergyPrediction'](){const _0x3975e4=a0_0x12af48;if(!this[_0x3975e4(0x1c9)])return;try{const _0x5d1f00=await recorder[_0x3975e4(0x235)](this);if(_0x5d1f00===null)return;const _0x269a43={},_0x47e20e={},_0x57ff45=this[_0x3975e4(0x1ea)][_0x3975e4(0x213)]||[];for(const _0x560b4a of _0x57ff45){if(_0x560b4a[_0x3975e4(0x275)]===_0x3975e4(0x259)&&_0x560b4a[_0x3975e4(0x266)]){const _0x4dc9e9=this['sensorLastValues'][_0x560b4a['id']];if(_0x4dc9e9!==undefined)_0x269a43[_0x560b4a[_0x3975e4(0x266)]]=_0x4dc9e9;if(_0x560b4a[_0x3975e4(0x258)])_0x47e20e[_0x560b4a['location']]=!![];}}const _0x96cd6e=await this[_0x3975e4(0x1e4)]();let _0x23335e={};try{const _0x51041d=await this[_0x3975e4(0x21b)](_0x3975e4(0x1b6));if(_0x51041d&&_0x51041d[_0x3975e4(0x148)])_0x23335e=JSON[_0x3975e4(0x1af)](_0x51041d[_0x3975e4(0x148)]);}catch(_0x4fc137){}Object[_0x3975e4(0x138)](_0x269a43)['length']>0x0&&(pythonBridge[_0x3975e4(0x20e)](this,_0x3975e4(0x171),{'current_temps':_0x269a43,'t_out':_0x5d1f00,'is_sunny':_0x96cd6e,'solar_flags':_0x47e20e,'warmup_targets':_0x23335e}),pythonBridge['send'](this,_0x3975e4(0x282),{'current_temps':_0x269a43,'t_out':_0x5d1f00,'targets':{}}));}catch(_0x250290){}}['updateHealthVector'](){const _0x2eccca=a0_0x12af48;if(!this[_0x2eccca(0x28c)]||this[_0x2eccca(0x28c)][_0x2eccca(0x1c7)]===0x0)return;const _0x57426f=new Array(0x60)[_0x2eccca(0x14f)](0x0),_0x10c441=new Date()[_0x2eccca(0x18c)](0x0,0x0,0x0,0x0);this[_0x2eccca(0x28c)]['forEach'](_0x41c611=>{const _0x2096ca=_0x2eccca,_0x540178=new Date(_0x41c611['timestamp']);if(_0x540178[_0x2096ca(0x232)]()>=_0x10c441){const _0x4d0c83=_0x540178['getHours'](),_0x46d18a=_0x540178[_0x2096ca(0x24e)](),_0x21888a=_0x4d0c83*0x4+Math['floor'](_0x46d18a/0xf);if(_0x21888a>=0x0&&_0x21888a<0x60)_0x57426f[_0x21888a]++;}});}async[a0_0x12af48(0x17c)](_0x76d39e){const _0x3cdfd3=a0_0x12af48;if(_0x76d39e==null||typeof _0x76d39e!==_0x3cdfd3(0x199))return;const _0x44237c=Date['now']();this[_0x3cdfd3(0x270)][_0x3cdfd3(0x23b)]({'ts':_0x44237c,'val':_0x76d39e}),this[_0x3cdfd3(0x270)]=this[_0x3cdfd3(0x270)][_0x3cdfd3(0x1f6)](_0x238136=>_0x44237c-_0x238136['ts']<0x1388);if(this[_0x3cdfd3(0x1eb)])return;if(this[_0x3cdfd3(0x1ea)][_0x3cdfd3(0x226)]){const _0x47e997=await this[_0x3cdfd3(0x21c)](this[_0x3cdfd3(0x1ea)][_0x3cdfd3(0x226)]);if(_0x47e997&&!_0x47e997[_0x3cdfd3(0x148)])return;}const _0x3cfd27=this[_0x3cdfd3(0x1ea)][_0x3cdfd3(0x1e6)]||0.04;if(Math[_0x3cdfd3(0x153)](_0x76d39e)>=_0x3cfd27){this[_0x3cdfd3(0x27a)][_0x3cdfd3(0x1fc)](_0x3cdfd3(0x1a4)+_0x76d39e+'\x20hPa\x20(Limit:\x20'+_0x3cfd27+')'),await this[_0x3cdfd3(0x1cf)](_0x3cdfd3(0x1f2),{'val':!![],'ack':!![]});const _0x177f75=this[_0x3cdfd3(0x21d)];_0x177f75?(this[_0x3cdfd3(0x27a)][_0x3cdfd3(0x15e)](_0x3cdfd3(0x212)),this['triggerInfrasoundCorrelation'](_0x76d39e,_0x3cdfd3(0x18d))):(this['triggerInfrasoundCorrelation'](_0x76d39e,_0x3cdfd3(0x16f)),this[_0x3cdfd3(0x283)]('ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20'+_0x76d39e+_0x3cdfd3(0x1a0))),this[_0x3cdfd3(0x1eb)]=!![],setTimeout(()=>{const _0x54cb58=_0x3cdfd3;this[_0x54cb58(0x1eb)]=![];},0x2710);}}async[a0_0x12af48(0x172)](_0x4882d5,_0x454651=a0_0x12af48(0x16f)){const _0x24f85f=a0_0x12af48,_0x32d6ee=Date['now'](),_0x448c59=this[_0x24f85f(0x1ea)][_0x24f85f(0x213)]||[];setTimeout(async()=>{const _0x45fd1a=_0x24f85f;let _0x1682a8=null,_0x4117ae='Keine\x20Sensor-AktivitÃ¤t';const _0xb3c0f=_0x448c59[_0x45fd1a(0x1f6)](_0x5d70f4=>_0x5d70f4['type']&&(_0x5d70f4[_0x45fd1a(0x275)][_0x45fd1a(0x1ec)](_0x45fd1a(0x146))||_0x5d70f4[_0x45fd1a(0x275)]['includes'](_0x45fd1a(0x16c))||_0x5d70f4[_0x45fd1a(0x275)]['includes'](_0x45fd1a(0x225))||_0x5d70f4[_0x45fd1a(0x275)]['includes']('reed'))||_0x5d70f4[_0x45fd1a(0x271)]&&(_0x5d70f4[_0x45fd1a(0x271)][_0x45fd1a(0x1ec)](_0x45fd1a(0x27f))||_0x5d70f4[_0x45fd1a(0x271)][_0x45fd1a(0x1ec)](_0x45fd1a(0x1e0))));for(const _0x29c457 of _0xb3c0f){try{const _0x40de78=await this['getForeignStateAsync'](_0x29c457['id']);if(_0x40de78){if(_0x40de78['ts']>=_0x32d6ee-0x7d0){_0x1682a8=_0x29c457[_0x45fd1a(0x237)]||_0x29c457['id'],_0x4117ae=_0x45fd1a(0x14a)+_0x1682a8;break;}}}catch(_0x222404){}}const _0x277551={'timestamp':_0x32d6ee,'pressure':_0x4882d5,'isMatch':!!_0x1682a8,'explanation':_0x4117ae,'type':_0x454651};await this['appendToLog'](_0x277551),this['log'][_0x45fd1a(0x15e)](_0x45fd1a(0x1b3)+(!!_0x1682a8?'MATCH\x20(False\x20Positive)':_0x45fd1a(0x257)));},0x1388);}async['analyzeWindowOpening'](_0x5543b0){const _0x5f10d5=a0_0x12af48,_0x18e387=Date['now'](),_0x1e372d=_0x5543b0[_0x5f10d5(0x237)]||_0x5543b0['id'][_0x5f10d5(0x13c)]('.')[_0x5f10d5(0x255)]();let _0x313063=0x0;setTimeout(async()=>{const _0x2da5ad=_0x5f10d5;this[_0x2da5ad(0x270)][_0x2da5ad(0x144)](_0x5bd52b=>{const _0x5de03a=_0x2da5ad;_0x5bd52b['ts']>=_0x18e387-0xfa0&&_0x5bd52b['ts']<=_0x18e387+0x3e8&&(Math[_0x5de03a(0x153)](_0x5bd52b[_0x5de03a(0x148)])>Math[_0x5de03a(0x153)](_0x313063)&&(_0x313063=_0x5bd52b[_0x5de03a(0x148)]));});const _0x3d9754=this[_0x2da5ad(0x1ea)][_0x2da5ad(0x1e6)]||0.04,_0x5085be=Math[_0x2da5ad(0x153)](_0x313063)>=_0x3d9754,_0x53c41a={'timestamp':_0x18e387,'pressure':_0x313063,'isMatch':_0x5085be,'explanation':_0x2da5ad(0x207)+_0x1e372d,'type':_0x2da5ad(0x23f)};await this[_0x2da5ad(0x14c)](_0x53c41a),this[_0x2da5ad(0x27a)][_0x2da5ad(0x248)](_0x2da5ad(0x26f)+_0x1e372d+'\x20opened.\x20Peak\x20Pressure:\x20'+_0x313063[_0x2da5ad(0x166)](0x4)+_0x2da5ad(0x156)+_0x3d9754+')');},0x1f4);}async[a0_0x12af48(0x14c)](_0x12f8d8){const _0x193729=a0_0x12af48;try{const _0x425e33=await this['getStateAsync']('analysis.security.infrasoundLog');let _0x4a8de8=[];if(_0x425e33&&_0x425e33[_0x193729(0x148)])_0x4a8de8=JSON[_0x193729(0x1af)](_0x425e33[_0x193729(0x148)]);_0x4a8de8[_0x193729(0x182)](_0x12f8d8);if(_0x4a8de8[_0x193729(0x1c7)]>0x14)_0x4a8de8=_0x4a8de8[_0x193729(0x1d1)](0x0,0x14);await this[_0x193729(0x1cf)](_0x193729(0x1a2),{'val':JSON[_0x193729(0x1c4)](_0x4a8de8),'ack':!![]});}catch(_0x125cf6){this[_0x193729(0x27a)]['error'](_0x193729(0x278)+_0x125cf6[_0x193729(0x1c2)]);}}[a0_0x12af48(0x283)](_0x5e834f){const _0x5ef26f=a0_0x12af48;this[_0x5ef26f(0x1ea)][_0x5ef26f(0x284)]&&this[_0x5ef26f(0x1ea)][_0x5ef26f(0x180)]&&this['sendTo'](this[_0x5ef26f(0x1ea)][_0x5ef26f(0x180)],'send',{'message':_0x5e834f,'title':_0x5ef26f(0x181),'priority':0x1}),this['config'][_0x5ef26f(0x1d0)]&&this[_0x5ef26f(0x1ea)][_0x5ef26f(0x1a5)]&&this['sendTo'](this[_0x5ef26f(0x1ea)][_0x5ef26f(0x1a5)],_0x5ef26f(0x20e),{'text':_0x5e834f});}}if(require['main']!==module)module[a0_0x12af48(0x1cd)]=_0x1e80e8=>new CogniLiving(_0x1e80e8);else new CogniLiving();