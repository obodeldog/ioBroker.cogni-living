const a0_0x34f28f=a0_0x4a65;(function(_0x20f349,_0x2caf9c){const _0x355726=a0_0x4a65,_0x4f1f95=_0x20f349();while(!![]){try{const _0x7bfe27=-parseInt(_0x355726(0x199))/0x1+-parseInt(_0x355726(0x115))/0x2+-parseInt(_0x355726(0x137))/0x3*(parseInt(_0x355726(0x153))/0x4)+-parseInt(_0x355726(0x17b))/0x5*(-parseInt(_0x355726(0x118))/0x6)+-parseInt(_0x355726(0x161))/0x7*(-parseInt(_0x355726(0x24a))/0x8)+-parseInt(_0x355726(0x95))/0x9*(parseInt(_0x355726(0xa7))/0xa)+-parseInt(_0x355726(0x8d))/0xb*(-parseInt(_0x355726(0x170))/0xc);if(_0x7bfe27===_0x2caf9c)break;else _0x4f1f95['push'](_0x4f1f95['shift']());}catch(_0x9d1d4f){_0x4f1f95['push'](_0x4f1f95['shift']());}}}(a0_0x4dd2,0x260bc));const a0_0x27a108=(function(){let _0x1c48e5=!![];return function(_0x54e780,_0x21533c){const _0x2e99d1=_0x1c48e5?function(){const _0x58ac33=a0_0x4a65;if(_0x21533c){const _0x3591e8=_0x21533c[_0x58ac33(0xd0)](_0x54e780,arguments);return _0x21533c=null,_0x3591e8;}}:function(){};return _0x1c48e5=![],_0x2e99d1;};}()),a0_0x1b9246=a0_0x27a108(this,function(){const _0xcce63b=a0_0x4a65;return a0_0x1b9246[_0xcce63b(0x122)]()['search'](_0xcce63b(0x1a1))[_0xcce63b(0x122)]()[_0xcce63b(0x116)](a0_0x1b9246)[_0xcce63b(0x210)]('(((.+)+)+)+$');});a0_0x1b9246();'use strict';const utils=require(a0_0x34f28f(0xf0)),{GoogleGenerativeAI}=require(a0_0x34f28f(0xd7)),schedule=require('node-schedule'),{spawn,exec}=require(a0_0x34f28f(0x259)),path=require(a0_0x34f28f(0x1e6)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x34f28f(0x25e),LTM_SCHEDULE=a0_0x34f28f(0x135),MODE_RESET_SCHEDULE=a0_0x34f28f(0x159),ANALYSIS_HISTORY_MAX_SIZE=0x64,EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,SEQUENCE_TIMEOUT_MS=0x5*0x3c*0x3e8,MAX_TRAINING_SET_SIZE=0x1f4,LTM_DP_RAW_LOG=a0_0x34f28f(0x222),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x34f28f(0x16d),LTM_DP_TRIGGER_DIGEST=a0_0x34f28f(0x22c),LTM_DP_BASELINE_STATUS=a0_0x34f28f(0x147),LTM_DP_DRIFT_CHANNEL='LTM.driftAnalysis',LTM_DP_DRIFT_STATUS=a0_0x34f28f(0x123),LTM_DP_DRIFT_DETAILS=a0_0x34f28f(0x91),LTM_DP_DRIFT_LAST_CHECK='LTM.driftAnalysis.lastCheck',SYSTEM_DP_MODE=a0_0x34f28f(0x249),HARD_IGNORE_TERMS=[a0_0x34f28f(0x255),a0_0x34f28f(0xb1),a0_0x34f28f(0x99),'unreach',a0_0x34f28f(0x121),a0_0x34f28f(0x9d),'connection',a0_0x34f28f(0xa2),a0_0x34f28f(0x1f4),a0_0x34f28f(0xb7),a0_0x34f28f(0x78),a0_0x34f28f(0x198),a0_0x34f28f(0xbb),a0_0x34f28f(0x101),a0_0x34f28f(0x86),a0_0x34f28f(0x1d9),a0_0x34f28f(0x1da),a0_0x34f28f(0x207)],BAD_NAMES=[a0_0x34f28f(0x1db),a0_0x34f28f(0x85),a0_0x34f28f(0x1e0),a0_0x34f28f(0xf2),'value',a0_0x34f28f(0x189),'on','off',a0_0x34f28f(0xc0),a0_0x34f28f(0x14a),a0_0x34f28f(0xa8),a0_0x34f28f(0xc8),a0_0x34f28f(0x7c),a0_0x34f28f(0x141),a0_0x34f28f(0xab),a0_0x34f28f(0x125),a0_0x34f28f(0x1af),'temperature',a0_0x34f28f(0x139),'power',a0_0x34f28f(0x112),a0_0x34f28f(0x19a),'valve',a0_0x34f28f(0x1f7),a0_0x34f28f(0xf8)],ADAPTER_BLACKLIST=['system.','admin.',a0_0x34f28f(0x26a),a0_0x34f28f(0x1cb),a0_0x34f28f(0x114),'material.','icons-mfd.','flot.',a0_0x34f28f(0x93),a0_0x34f28f(0x1a3),a0_0x34f28f(0x1fa)],SYSTEM_MODES={'NORMAL':'normal','VACATION':a0_0x34f28f(0xb6),'PARTY':a0_0x34f28f(0x1d0),'GUEST':a0_0x34f28f(0xd2)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x34f28f(0x15a)],SYSTEM_MODES[a0_0x34f28f(0x211)]],PERSONA_MAPPING={'generic':a0_0x34f28f(0x119),'senior_aal':a0_0x34f28f(0x155),'family':a0_0x34f28f(0x195),'single_comfort':'Fokus\x20auf\x20Komfort.','security':a0_0x34f28f(0x1bc)},ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x4dd2(){const _0x2a2d0e=['fenster','targetId','energy','splice','history.','322736rAIPgQ','constructor','sensorLastValues','1592754mpSMMY','Analysiere\x20ausgewogen.','shift','\x20|\x20','endsWith','value.health','boolean','LTM.trainingData.sequences','split','lowbat','toString','LTM.driftAnalysis.baselineDrift','triggerDailyDigest','presence','instance','stateChange','system.config','getLtmData','Training\x20Data\x20Sets','submitFeedback','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','tÃ¼r','Health\x20Notes','getDate','join','window','bind','.data.table','licht','0\x203\x20*\x20*\x20*','heizung','75rPUVVJ','\x20events)...','humidity','Sending\x20notification:\x20\x22','description','[RESULT]','Kein\x20API\x20Key\x20eingegeben.','devices','Error:\x20','cogni-living','status','isArray','Last\x20Check','map','Event\x20received:\x20','scheduleJob','LTM.baselineStatus','KALENDER\x20ERROR:\x20','dismissAutomation','position','weatherInstance','...','sendToAsync','.\x20KONTEXT:\x20','role','send','dailyDigests','analysis.analysisHistory','13016hgBjOt','string','PRIORITÃ„T:\x20Gesundheit/AAL.','Description','simulateButler','analysis.automation.targetId','0\x204\x20*\x20*\x20*','PARTY','push','Drift\x20Sched\x20Error:\x20','indicator.alarm.fire','event','payload','setState','1165773wTUWxq','[RECORDER]\x20Error\x20saving\x20sequence:\x20','System\x20Status\x20&\x20Control',')\x20-\x20FUNCTIONS\x20FIRST\x20ARCHITECTURE','parse','bewegung','ack','ðŸ“ž\x20User\x20requested\x20CALL\x20via\x20Telegram!','Skipped\x20(No\x20AI\x20or\x20Data)','Drift\x20Details','unload','âš ï¸\x20ALARM:\x20','LTM.processingStatus','Keine\x20Details.','Trigger\x20Action\x20Now','50868ACaKJX','driftDetails','main','none','writable','getObjectAsync','stringify','Alarm','Action','.communicate.request','telegram','5VCLpAM','aiPersona','temp','setStateAsync','ltmStbWindowDays','ðŸ\x20Guardian\x20Diagnosis\x20(','isAlert','KALENDER:\x20','ðŸš¨\x20EMERGENCY','stdout','ðŸ¤–\x20BUTLER\x20PROPOSAL:\x20','rawEventLog','Pattern\x20Detected','minDaysForBaseline','brightness','):\x20','type','currentSystemMode','Auto\x20Apply\x20Rule',').\x20Starting\x20Timer.','N/A\x20(Learning)','accuweather',').\x20Saving\x20to\x20Training\x20Data.','Unknown','getCalendarNames\x20Error:\x20','button','Fokus\x20auf\x20Familienroutinen.','enum.functions.*','automation.triggerAction','direction','237660ymTbqv','setpoint','Sleep\x20Score\x20(0-100)','âœ…\x20AUTO-FIX\x20SUCCESS.\x20Dependencies\x20installed.\x20Restarting\x20Service...','toISOString','sendTo','sort','replace','(((.+)+)+)+$','Kein\x20API\x20Key!','javascript.','common','Briefing\x20Sched\x20Error:\x20','/100,\x20AktivitÃ¤t\x20seit\x2004:00:\x20','system','native','KALENDER:\x20Keine\x20relevanten\x20Termine','Error\x20launching\x20Python\x20service:\x20','analysis.lastResult','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','baselineDrift','text.alarm','occupancy','analysis.automation.targetValue','loc','analysis.health.trendDiagnosis','schalter','âœ…\x20User\x20confirmed\x20ALARM\x20via\x20Telegram.\x20Resetting\x20system.','analysis.automation.description','Could\x20not\x20kill\x20Python\x20process:\x20','COGNI_REQUEST_CALL','\x20min).','sound','substring','system.meta.uuid','PRIORITÃ„T:\x20Sicherheit.','application/json','testApiKey','toFixed','Who\x20is\x20present?','city','TEST-PRO-KEY','Array\x20of\x20completed\x20movement\x20paths\x20for\x20ML\x20training','response','N/A','getHours','Details:\x20','round','WETTER:\x20Keine\x20Daten\x20gefunden','requirements.txt','vis.','service.py','command','Briefing\x20Error:\x20','systemConfig','party','driftAnalysisTimer','events.history','ðŸ\x20Starting\x20Python\x20Sidecar:\x20','exitGraceTimer','number','some','[PYTHON]\x20Failed\x20to\x20start\x20(is\x20python3\x20installed?):\x20','analysis.isAlert','firmware','reachable','targetposition','ltmLtbWindowDays','date','getForeignObjectAsync','[RECORDER]\x20Added\x20step\x20to\x20sequence:\x20','state','Generating\x20Morning\x20Briefing...','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','slice','debug','[TEST]\x20','path','kill','object','daswetter.0','briefingTime','\x20=\x20','presenceDevices','lock','Gast','details','ltmDriftCheckIntervalHours','geminiModel','notifyTelegramEnabled','inactivityThresholdHours','error','openweathermap','KALENDER:\x20Keine\x20Kalender\x20ausgewÃ¤hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)','actual_temperature','Gemini\x20Analysis\x20Error:\x20','uuid-not-found','simple-api.','Started\x20at\x20','.\x20ZUSATZ:\x20','Feedback\x20Log','analysis.isEmergency','temperature','filter','analysis.comfortSummary','\x0a\x0a\x20\x20\x20\x20AUFGABE:\x0a\x20\x20\x20\x201.\x20Analysiere\x20auf\x20Gesundheitsrisiken\x20(Sturz,\x20InaktivitÃ¤t).\x0a\x20\x20\x20\x202.\x20Analysiere\x20auf\x20Komfort/Automatisierung\x20(\x22Butler\x22).\x20Erkennst\x20du\x20ein\x20Muster?\x20(z.B.\x20\x22Wenn\x20Bewegung\x20Flur,\x20dann\x20Licht\x20an\x22).\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20FORMAT\x20(JSON\x20Only!):\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x22isAlert\x22:\x20boolean,\x0a\x20\x20\x20\x20\x20\x20\x22alertReason\x22:\x20\x22string\x20(kurz)\x22,\x0a\x20\x20\x20\x20\x20\x20\x22isEmergency\x22:\x20boolean,\x0a\x20\x20\x20\x20\x20\x20\x22summary\x22:\x20\x22string\x20(Was\x20passiert\x20gerade?)\x22,\x0a\x20\x20\x20\x20\x20\x20\x22automationProposal\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22detected\x22:\x20boolean,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22description\x22:\x20\x22string\x20(Was\x20soll\x20automatisiert\x20werden?)\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22targetId\x22:\x20\x22string\x20(ioBroker\x20ID,\x20z.B.\x200_userdata.0.light)\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22targetValue\x22:\x20\x22any\x20(Wert,\x20z.B.\x20true\x20oder\x2050)\x22\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','lastAlertState','health','cancel','Verbindung\x20erfolgreich!\x20Antwort:\x20','link_quality','âš ï¸\x20Python\x20missing\x20dependencies.\x20Triggering\x20Auto-Install...','retry','getGenerativeModel','enum.rooms.*','ðŸ“ž\x20RÃ¼ckruf\x20anfordern','ðŸ\x20Python\x20Pong\x20received!\x20Latency\x20check\x20passed.','analysis.health.restlessness','System\x20Mode','search','GUEST','.\x20DATEN:\x20Schlaf\x20','[PYTHON]\x20','User\x20dismissed\x20automation\x20proposal.','callback','NORMAL','analysis.health.trendValue','onStateChange','Gemini\x20Init\x20Error:\x20','pop','Success:\x20Compressed\x20','targetValue','Last\x20raw\x20event','notifyPushoverRecipient','Error\x20checking\x20WiFi:\x20','âœ…\x20Alles\x20OK\x20(Reset)','toLowerCase','LTM.rawEventLog','ðŸ\x20Stopping\x20Python\x20Sidecar...','Aktiv\x20(','lampe','siren','Normal','door','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','unshift','members','LTM.triggerDailyDigest','modeResetJob','\x20events','info','version','Deaktiviert\x20(Pro-Feature)','analysis.automation.suggestedAction','analysis.health.sleepScore','_calName','find','Starting\x20Autopilot\x20(','ical.0','Restlessness\x20Level','detected','Logbook','feedbackHistory','python3','Activity\x20Summary','getForeignObjectsAsync','âœ…\x20Alarm\x20quittiert.\x20System\x20normal.','HARD\x20WATCHDOG:\x20No\x20sensor\x20activity\x20detected\x20for\x20','.\x20Welcome\x20home.','\x20(Length:\x20','analysis.health','python_service','BUTLER\x20Execution\x20Error:\x20','Adapter','analysis.automation.autoApply','Motion\x20detected\x20inside.\x20Aborting\x20Exit\x20Timer.','system.mode','8yBzGbh','getOverviewData','stdin','logDuplicates','name','dependencyInstallInProgress','Urlaub','analysis.feedbackHistory','analysisHistory','setObjectNotExistsAsync','Failed\x20to\x20send\x20to\x20Python:\x20','scriptProblem','values','Scanning\x20for\x20devices\x20(V8:\x20Whitelist\x20Priority)...','setHours','child_process','isPresent','.\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20INPUT\x20DATEN\x20(Letzte\x20Events):\x0a\x20\x20\x20\x20','alertReason','ltmJob','models/gemini-flash-latest','Say\x20Hello','data','isGracePeriodActive','length','\x20(Value:\x20','startsWith','timestamp','getStateAsync','online','warn','onMessage','info.','briefingJob','Guardian:\x20Sending\x20','LTM.trainingData','analysisInterval','\x20for\x20interactive\x20buttons...','exitTimer','_score','analysis.automation.triggerAction','analysis.triggerBriefing','system.presenceWho','ðŸ“ž\x20RÃœCKRUF\x20BITTE!\x20Der\x20Bewohner\x20hat\x20den\x20RÃ¼ckruf-Button\x20gedrÃ¼ckt.','includes','generic','forEach','working','trim','Lernphase\x20(','Error\x20in\x20onMessage\x20command\x20','cover','.\x20OUTPUT:\x20Nur\x20Text.','analysis.automation','ready','08:00','notifyTelegramInstance','channel','latitude','calendarInstance','currentposition','dutycycle','ðŸŒ…\x20Daily\x20Briefing:\x0a','getEnums','getForeignStateAsync','events.lastEvent','Reset\x20Sched\x20Error:\x20','ðŸ§ª\x20Simulating\x20Butler\x20Proposal:\x20','957NUdoWl','config','VACATION','licenseKey','LTM.driftAnalysis.driftDetails','write','echarts.','doors','87129UZAmYX','AI\x20Emergency\x20Status','calendarSelection','stderr','update','log','value','Trigger\x20Briefing\x20(Test)','rssi','val','Restoring\x20sensor\x20cache\x20from\x20history\x20(','Daily\x20Digests','automationProposal','maintenance','Target\x20Value','\x20*\x20*\x20*','onUnload','analysisTimer','170LvEoXy','shutter','subscribeStates','analysis.alertReason','motion','lights','Drift\x20Analysis','getCalendarNames','unknown','testNotification','scriptEnabled','Subscribing\x20to\x20','isProVersion','indexOf','.NextHours.Location_1.Day_1.current.symbol_desc','vacation','fault','Last\x20Result','LTM\x20Sched\x20Error:\x20','\x20presence\x20devices...','stick_unreach','from','cogni-living\x20adapter\x20starting\x20(v','analysis.health.notes','Exit\x20Sensor\x20triggered\x20(','switch','analysis.automation.patternDetected','Health\x20&\x20Sleep\x20Analysis','ðŸ“¡\x20Hooking\x20into\x20','subscribeForeignStatesAsync','LTM','daswetter','analysis.activitySummary','blind','.forecast.current.state','extendObjectAsync','genAI','Target\x20ID','Trend\x20Diagnosis\x20(Python)','Keiner','analysis.comfortSuggestion','apply','events.history_debug_00','guest','getFullYear','message','.Summary.Current','autoApply','@google/generative-ai','[RECORDER]\x20Sequence\x20finished\x20(Steps:\x20','Trigger\x20Digest','Alert\x20Reason','Fehler:\x20','eventHistory','activityLevel','getTime','briefingEnabled','weather','analysis.trigger','KI-Modell\x20nicht\x20initialisiert','lastIndexOf','uuid-error','weatherunderground.0','dimmer','geminiApiKey','Vom\x20Benutzer\x20bestÃ¤tigt\x20(OK).','json','pythonProcess','inactivityMonitoringEnabled','now','location','.\x0a\x20\x20\x20\x20NOTFALL-KONTEXT:\x20','notifyTelegramRecipient','@iobroker/adapter-core','indicator.alarm','level','systemUUID','.\x0a\x20\x20\x20\x20SYSTEM_MODE:\x20','text','Event\x20History','\x20days\x20of\x20activity\x20data\x20to\x20Python...','set_temperature','[LOG]','âœ…\x20PRO\x20ACTIVATED','analysis.history_debug_00','COGNI_CONFIRM_OK','ANALYZE_TREND','ðŸ› ï¸\x20AUTO-FIX:\x20Installing\x20Python\x20dependencies\x20from\x20','Gemini\x20AI\x20initialized.','summary','config_pending','KALENDER:\x20Keine\x20Daten','âŒ\x20AUTO-FIX\x20FAILED.\x20Please\x20run\x20manually:\x20sudo\x20','lastCheck','WETTER:\x20','enum','uuid','generateContent','getMonth','light','Drift\x20Status','Missing\x20data','onReady','sensor','isEmergency'];a0_0x4dd2=function(){return _0x2a2d0e;};return a0_0x4dd2();}let activeSequence=[],sequenceTimer=null;async function initZombies(_0x1b1f6a){const _0x1dec17=a0_0x34f28f;try{const _0x35bfdc=[_0x1dec17(0xfb),_0x1dec17(0xd1)];for(const _0x23d860 of _0x35bfdc){try{const _0x1d589f=await _0x1b1f6a[_0x1dec17(0x175)](_0x23d860);_0x1d589f&&await _0x1b1f6a['delObjectAsync'](_0x23d860);}catch(_0x3796bf){}}}catch(_0x258c24){}}function a0_0x4a65(_0x466084,_0x9bc338){const _0x3b1633=a0_0x4dd2();return a0_0x4a65=function(_0x1b9246,_0x27a108){_0x1b9246=_0x1b9246-0x71;let _0x4dd22c=_0x3b1633[_0x1b9246];return _0x4dd22c;},a0_0x4a65(_0x466084,_0x9bc338);}async function initHistory(_0x31e4cf){const _0x4702fd=a0_0x34f28f;try{const _0xd353a1=await _0x31e4cf[_0x4702fd(0x266)](_0x4702fd(0x1d2));_0xd353a1&&_0xd353a1[_0x4702fd(0x9e)]&&(_0x31e4cf[_0x4702fd(0xdc)]=JSON[_0x4702fd(0x165)](_0xd353a1[_0x4702fd(0x9e)][_0x4702fd(0x122)]()));}catch(_0x4a0ad4){_0x31e4cf[_0x4702fd(0xdc)]=[];}try{const _0x72ea2e=await _0x31e4cf[_0x4702fd(0x266)](_0x4702fd(0x152));if(_0x72ea2e&&_0x72ea2e[_0x4702fd(0x9e)])_0x31e4cf[_0x4702fd(0x252)]=JSON[_0x4702fd(0x165)](_0x72ea2e[_0x4702fd(0x9e)][_0x4702fd(0x122)]());}catch(_0x93a5c4){_0x31e4cf[_0x4702fd(0x252)]=[];}if(_0x31e4cf['eventHistory']&&_0x31e4cf[_0x4702fd(0xdc)][_0x4702fd(0x262)]>0x0){_0x31e4cf[_0x4702fd(0x9a)][_0x4702fd(0x22f)](_0x4702fd(0x9f)+_0x31e4cf[_0x4702fd(0xdc)][_0x4702fd(0x262)]+_0x4702fd(0x138));for(let _0x3a1ba0=_0x31e4cf[_0x4702fd(0xdc)][_0x4702fd(0x262)]-0x1;_0x3a1ba0>=0x0;_0x3a1ba0--){const _0x286809=_0x31e4cf['eventHistory'][_0x3a1ba0];_0x286809&&_0x286809['id']!==undefined&&_0x286809[_0x4702fd(0x9b)]!==undefined&&(_0x31e4cf[_0x4702fd(0x117)][_0x286809['id']]=_0x286809[_0x4702fd(0x9b)]);}}}async function initSystemConfig(_0xd8b8c6){const _0x20b9aa=a0_0x34f28f;try{const _0x21224a=await _0xd8b8c6[_0x20b9aa(0x1de)](_0x20b9aa(0x128));_0x21224a&&_0x21224a['common']&&(_0xd8b8c6[_0x20b9aa(0x1cf)]={'latitude':_0x21224a[_0x20b9aa(0x1a4)][_0x20b9aa(0x83)]||0x0,'longitude':_0x21224a[_0x20b9aa(0x1a4)]['longitude']||0x0,'city':_0x21224a[_0x20b9aa(0x1a4)][_0x20b9aa(0x1c1)]||''});}catch(_0x1a55ae){}}async function checkLicense(_0x3b907f,_0x8ec067){const _0x2647e2=a0_0x34f28f;if(!_0x8ec067)return![];_0x3b907f[_0x2647e2(0xf3)]=await getSystemUUID(_0x3b907f);if(_0x8ec067===_0x2647e2(0x1c2)||_0x8ec067[_0x2647e2(0x264)]('PRO-'))return!![];return![];}async function getSystemUUID(_0x237348){const _0x1a676b=a0_0x34f28f;try{const _0x20cd06=await _0x237348[_0x1a676b(0x1de)](_0x1a676b(0x1bb));if(_0x20cd06&&_0x20cd06[_0x1a676b(0x1a8)]&&_0x20cd06[_0x1a676b(0x1a8)]['uuid'])return _0x20cd06[_0x1a676b(0x1a8)][_0x1a676b(0x107)];return _0x1a676b(0x1f9);}catch(_0x4428bd){return _0x1a676b(0xe4);}}async function createAllObjects(_0x4aed2a){const _0x113a60=a0_0x34f28f;await checkSystemObjects(_0x4aed2a),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x73),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x1c0),'type':_0x113a60(0x154),'role':'text','read':!![],'write':![],'def':''},'native':{}}),await _0x4aed2a[_0x113a60(0x253)]('events.lastEvent',{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x21d),'type':_0x113a60(0x154),'role':_0x113a60(0xe9),'read':!![],'write':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x1d2),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0xf6),'type':_0x113a60(0x154),'role':'json','read':!![],'write':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0xe1),{'type':_0x113a60(0x1e0),'common':{'name':'Trigger\x20Analysis','type':_0x113a60(0x11e),'role':_0x113a60(0x194),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x72),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x9c),'type':_0x113a60(0x11e),'role':_0x113a60(0x194),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)]('analysis.lastResult',{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0xb8),'type':'string','role':_0x113a60(0xe9),'read':!![],'write':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x1d8),{'type':_0x113a60(0x1e0),'common':{'name':'AI\x20Alert\x20Status','type':_0x113a60(0x11e),'role':_0x113a60(0xf1),'read':!![],'write':![],'def':![]},'native':{}}),await _0x4aed2a['setObjectNotExistsAsync'](_0x113a60(0x1fe),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x96),'type':'boolean','role':_0x113a60(0x15d),'read':!![],'write':![],'def':![]},'native':{}}),await _0x4aed2a['setObjectNotExistsAsync'](_0x113a60(0xaa),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0xda),'type':'string','role':_0x113a60(0x1ae),'read':!![],'write':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0xc7),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x23d),'type':'string','role':_0x113a60(0xf5),'read':!![],'write':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)]('analysis.deviationFromBaseline',{'type':_0x113a60(0x1e0),'common':{'name':'Deviation','type':_0x113a60(0x154),'role':_0x113a60(0x1e0),'read':!![],'write':![],'def':'N/A'},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x201),{'type':_0x113a60(0x1e0),'common':{'name':'Comfort\x20Summary','type':_0x113a60(0x154),'role':'text','read':!![],'write':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0xcf),{'type':_0x113a60(0x1e0),'common':{'name':'Comfort\x20Suggestion','type':_0x113a60(0x154),'role':_0x113a60(0xf5),'read':!![],'write':![]},'native':{}}),await _0x4aed2a[_0x113a60(0xca)](_0x113a60(0x7e),{'type':_0x113a60(0x82),'common':{'name':'Automation\x20Proposals'},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0xc1),{'type':'state','common':{'name':_0x113a60(0x187),'type':'boolean','role':'indicator','read':!![],'write':![],'def':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x1b5),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x156),'type':'string','role':_0x113a60(0xf5),'read':!![],'write':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x232),{'type':'state','common':{'name':_0x113a60(0x178),'type':_0x113a60(0x154),'role':'text','read':!![],'write':![]},'native':{}}),await _0x4aed2a['setObjectNotExistsAsync']('analysis.automation.targetId',{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0xcc),'type':_0x113a60(0x154),'role':'text','read':!![],'write':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)]('analysis.automation.targetValue',{'type':'state','common':{'name':_0x113a60(0xa3),'type':'string','role':_0x113a60(0xf5),'read':!![],'write':![]},'native':{}}),await _0x4aed2a['setObjectNotExistsAsync'](_0x113a60(0x247),{'type':'state','common':{'name':_0x113a60(0x18d),'type':_0x113a60(0x11e),'role':_0x113a60(0xc0),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x4aed2a['setObjectNotExistsAsync'](_0x113a60(0x71),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x16f),'type':_0x113a60(0x11e),'role':_0x113a60(0x194),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x4aed2a[_0x113a60(0x253)]('analysis.analysisHistory',{'type':'state','common':{'name':_0x113a60(0x23a),'type':_0x113a60(0x154),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await _0x4aed2a['setObjectNotExistsAsync'](_0x113a60(0x251),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x1fd),'type':_0x113a60(0x154),'role':_0x113a60(0xe9),'read':!![],'write':![],'def':'[]'},'native':{}}),await _0x4aed2a[_0x113a60(0xca)](_0x113a60(0x243),{'type':_0x113a60(0x82),'common':{'name':_0x113a60(0xc2)},'native':{}}),await _0x4aed2a['setObjectNotExistsAsync'](_0x113a60(0x233),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x19b),'type':_0x113a60(0x1d5),'role':_0x113a60(0x11d),'read':!![],'write':![],'def':0x0},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x20e),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x238),'type':_0x113a60(0x154),'role':_0x113a60(0xf5),'read':!![],'write':![],'def':_0x113a60(0x173)},'native':{}}),await _0x4aed2a['setObjectNotExistsAsync'](_0x113a60(0xbe),{'type':_0x113a60(0x1e0),'common':{'name':_0x113a60(0x12e),'type':'string','role':'text','read':!![],'write':![],'def':''},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x1b2),{'type':'state','common':{'name':_0x113a60(0xcd),'type':_0x113a60(0x154),'role':_0x113a60(0xf5),'read':!![],'write':![],'def':_0x113a60(0x1c5)},'native':{}}),await _0x4aed2a['setObjectNotExistsAsync'](_0x113a60(0x217),{'type':_0x113a60(0x1e0),'common':{'name':'Trend\x20Value\x20(%)','type':'number','role':_0x113a60(0x9b),'read':!![],'write':![],'def':0x0},'native':{}}),await _0x4aed2a[_0x113a60(0xca)](_0x113a60(0x26d),{'type':_0x113a60(0x82),'common':{'name':_0x113a60(0x12a)},'native':{}}),await _0x4aed2a[_0x113a60(0x253)](_0x113a60(0x11f),{'type':_0x113a60(0x1e0),'common':{'name':'Recorded\x20Motion\x20Sequences','type':_0x113a60(0x154),'role':'json','read':!![],'write':![],'def':'[]','desc':_0x113a60(0x1c3)},'native':{}}),await checkLtmObjects(_0x4aed2a),await checkLtmDriftObjects(_0x4aed2a);}async function checkSystemObjects(_0x702e9a){const _0x281c33=a0_0x34f28f;await _0x702e9a[_0x281c33(0xca)](_0x281c33(0x1a7),{'type':_0x281c33(0x82),'common':{'name':_0x281c33(0x163)},'native':{}}),await _0x702e9a['extendObjectAsync'](SYSTEM_DP_MODE,{'type':_0x281c33(0x1e0),'common':{'name':_0x281c33(0x20f),'type':'string','role':_0x281c33(0x1e0),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x281c33(0x216)],'states':{[SYSTEM_MODES[_0x281c33(0x216)]]:_0x281c33(0x227),[SYSTEM_MODES[_0x281c33(0x8f)]]:_0x281c33(0x250),[SYSTEM_MODES['PARTY']]:'Party',[SYSTEM_MODES[_0x281c33(0x211)]]:_0x281c33(0x1ee)}},'native':{}});}async function checkLtmObjects(_0x35fc3a){const _0x4cf3e5=a0_0x34f28f;await _0x35fc3a[_0x4cf3e5(0xca)]('LTM',{'type':_0x4cf3e5(0x82),'common':{'name':_0x4cf3e5(0xc5)},'native':{}}),await _0x35fc3a['extendObjectAsync'](LTM_DP_RAW_LOG,{'type':_0x4cf3e5(0x1e0),'common':{'name':'Raw\x20Log','type':_0x4cf3e5(0x154),'role':_0x4cf3e5(0xe9),'read':!![],'write':![]},'native':{}}),await _0x35fc3a[_0x4cf3e5(0xca)](LTM_DP_DAILY_DIGESTS,{'type':_0x4cf3e5(0x1e0),'common':{'name':_0x4cf3e5(0xa0),'type':_0x4cf3e5(0x154),'role':_0x4cf3e5(0xe9),'read':!![],'write':![]},'native':{}}),await _0x35fc3a[_0x4cf3e5(0xca)](LTM_DP_STATUS,{'type':'state','common':{'name':'Processing\x20Status','type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x35fc3a[_0x4cf3e5(0xca)](LTM_DP_TRIGGER_DIGEST,{'type':_0x4cf3e5(0x1e0),'common':{'name':_0x4cf3e5(0xd9),'type':_0x4cf3e5(0x11e),'role':_0x4cf3e5(0x194),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x35fc3a['extendObjectAsync'](LTM_DP_BASELINE_STATUS,{'type':_0x4cf3e5(0x1e0),'common':{'name':'Baseline\x20Status','type':_0x4cf3e5(0x154),'role':_0x4cf3e5(0xf5),'read':!![],'write':![]},'native':{}});}async function checkLtmDriftObjects(_0x189cb4){const _0x1c885c=a0_0x34f28f;await _0x189cb4[_0x1c885c(0xca)](LTM_DP_DRIFT_CHANNEL,{'type':_0x1c885c(0x82),'common':{'name':_0x1c885c(0xad)},'native':{}}),await _0x189cb4[_0x1c885c(0xca)](LTM_DP_DRIFT_STATUS,{'type':_0x1c885c(0x1e0),'common':{'name':_0x1c885c(0x10b),'type':_0x1c885c(0x154),'role':'state','read':!![],'write':![],'def':_0x1c885c(0x1c5)},'native':{}}),await _0x189cb4[_0x1c885c(0xca)](LTM_DP_DRIFT_DETAILS,{'type':'state','common':{'name':_0x1c885c(0x16a),'type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x189cb4[_0x1c885c(0xca)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x1c885c(0x1e0),'common':{'name':_0x1c885c(0x143),'type':_0x1c885c(0x1d5),'role':_0x1c885c(0x1dd),'read':!![],'write':![]},'native':{}});}async function loadSystemMode(_0x3b0960){const _0x3039d6=a0_0x34f28f;try{const _0x509db8=await _0x3b0960[_0x3039d6(0x266)](SYSTEM_DP_MODE);_0x509db8&&_0x509db8['val']&&Object[_0x3039d6(0x256)](SYSTEM_MODES)[_0x3039d6(0x75)](_0x509db8[_0x3039d6(0x9e)])?_0x3b0960[_0x3039d6(0x18c)]=_0x509db8[_0x3039d6(0x9e)]:(_0x3b0960[_0x3039d6(0x18c)]=SYSTEM_MODES['NORMAL'],await _0x3b0960['setStateAsync'](SYSTEM_DP_MODE,{'val':SYSTEM_MODES['NORMAL'],'ack':!![]}));}catch(_0x12853b){_0x3b0960[_0x3039d6(0x18c)]=SYSTEM_MODES[_0x3039d6(0x216)];}}async function loadRawEventLog(_0x4a538c){const _0x44f80=a0_0x34f28f;try{const _0x439031=await _0x4a538c[_0x44f80(0x266)](LTM_DP_RAW_LOG);if(_0x439031&&_0x439031['val'])_0x4a538c['rawEventLog']=JSON[_0x44f80(0x165)](_0x439031[_0x44f80(0x9e)]);}catch(_0x1cd0fb){_0x4a538c[_0x44f80(0x186)]=[];}}async function saveRawEventLog(_0x3e0a1e){const _0x1daf1c=a0_0x34f28f;_0x3e0a1e['rawEventLog'][_0x1daf1c(0x262)]>RAW_LOG_MAX_SIZE&&_0x3e0a1e[_0x1daf1c(0x186)][_0x1daf1c(0x113)](0x0,_0x3e0a1e[_0x1daf1c(0x186)]['length']-RAW_LOG_MAX_SIZE),await _0x3e0a1e[_0x1daf1c(0x17e)](LTM_DP_RAW_LOG,{'val':JSON[_0x1daf1c(0x176)](_0x3e0a1e[_0x1daf1c(0x186)]),'ack':!![]});}async function loadDailyDigests(_0x4d8731){const _0x3650d6=a0_0x34f28f;try{const _0x5a1223=await _0x4d8731['getStateAsync'](LTM_DP_DAILY_DIGESTS);if(_0x5a1223&&_0x5a1223[_0x3650d6(0x9e)])_0x4d8731[_0x3650d6(0x151)]=JSON[_0x3650d6(0x165)](_0x5a1223[_0x3650d6(0x9e)]);}catch(_0x46af1b){_0x4d8731[_0x3650d6(0x151)]=[];}await updateBaselineStatus(_0x4d8731);}async function saveDailyDigests(_0x5d2ccd,_0x32deda=!![]){const _0xb0a985=a0_0x34f28f,_0x29b5b2=_0x5d2ccd[_0xb0a985(0x8e)][_0xb0a985(0x1dc)]||0x3c;_0x5d2ccd['dailyDigests'][_0xb0a985(0x262)]>_0x29b5b2&&_0x5d2ccd[_0xb0a985(0x151)]['splice'](0x0,_0x5d2ccd[_0xb0a985(0x151)][_0xb0a985(0x262)]-_0x29b5b2);await _0x5d2ccd[_0xb0a985(0x17e)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0xb0a985(0x176)](_0x5d2ccd[_0xb0a985(0x151)]),'ack':!![]});if(_0x32deda)await updateBaselineStatus(_0x5d2ccd);}async function updateAnalysisHistory(_0x307241,_0x2f3f1c){const _0x3af108=a0_0x34f28f;_0x307241[_0x3af108(0x252)][_0x3af108(0x22a)](_0x2f3f1c);if(_0x307241[_0x3af108(0x252)]['length']>ANALYSIS_HISTORY_MAX_SIZE)_0x307241[_0x3af108(0x252)]['pop']();await _0x307241[_0x3af108(0x17e)]('analysis.analysisHistory',{'val':JSON[_0x3af108(0x176)](_0x307241[_0x3af108(0x252)]),'ack':!![]});}async function updateBaselineStatus(_0x3d71c4){const _0x48dd47=a0_0x34f28f;if(!_0x3d71c4[_0x48dd47(0xb3)]){await _0x3d71c4['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x48dd47(0x231),'ack':!![]});return;}const _0x2c53d6=_0x3d71c4[_0x48dd47(0x151)]['length']>=(_0x3d71c4[_0x48dd47(0x8e)][_0x48dd47(0x188)]||0x7)?_0x48dd47(0x224)+_0x3d71c4[_0x48dd47(0x151)]['length']+'\x20Tage)':_0x48dd47(0x7a)+_0x3d71c4[_0x48dd47(0x151)][_0x48dd47(0x262)]+'/'+(_0x3d71c4[_0x48dd47(0x8e)][_0x48dd47(0x188)]||0x7)+')';await _0x3d71c4[_0x48dd47(0x17e)](LTM_DP_BASELINE_STATUS,{'val':_0x2c53d6,'ack':!![]});}async function initSensorSubscriptions(_0xbcd9c1){const _0x3f8652=a0_0x34f28f,_0x33b047=_0xbcd9c1[_0x3f8652(0x8e)][_0x3f8652(0x13e)];if(_0x33b047&&_0x33b047[_0x3f8652(0x262)]>0x0){_0xbcd9c1[_0x3f8652(0x9a)][_0x3f8652(0x22f)]('Subscribing\x20to\x20'+_0x33b047[_0x3f8652(0x262)]+'\x20sensors...');for(const _0x3a291a of _0x33b047){if(_0x3a291a['id']){await _0xbcd9c1[_0x3f8652(0xc4)](_0x3a291a['id']);try{const _0x99686e=await _0xbcd9c1['getForeignStateAsync'](_0x3a291a['id']);if(_0x99686e)_0xbcd9c1[_0x3f8652(0x117)][_0x3a291a['id']]=_0x99686e[_0x3f8652(0x9e)];}catch(_0x23596a){}}}}}async function initPresenceSubscriptions(_0x397945){const _0x523b85=a0_0x34f28f,_0x50ea73=_0x397945[_0x523b85(0x8e)]['presenceDevices']||[];if(_0x50ea73[_0x523b85(0x262)]>0x0){_0x397945[_0x523b85(0x9a)][_0x523b85(0x22f)](_0x523b85(0xb2)+_0x50ea73['length']+_0x523b85(0xba));for(const _0x45cdd7 of _0x50ea73){await _0x397945['subscribeForeignStatesAsync'](_0x45cdd7);}try{await checkWifiPresence(_0x397945);}catch(_0x2dc380){}}}async function getWeatherContext(_0x3d0283){const _0x5d753b=a0_0x34f28f;try{if(!_0x3d0283[_0x5d753b(0x8e)]['useWeather'])return'Wetter:\x20Deaktiviert';let _0x3dc2c8='';const _0x31c762=_0x3d0283[_0x5d753b(0x8e)][_0x5d753b(0x14b)];if(_0x31c762)try{if(_0x31c762['includes'](_0x5d753b(0x190))){const _0x3e7cc2=await _0x3d0283[_0x5d753b(0x89)](_0x31c762+'.Summary.Current');if(_0x3e7cc2&&_0x3e7cc2[_0x5d753b(0x9e)])_0x3dc2c8=_0x3e7cc2[_0x5d753b(0x9e)];}else{if(_0x31c762[_0x5d753b(0x75)](_0x5d753b(0xc6))){const _0x19464b=await _0x3d0283[_0x5d753b(0x89)](_0x31c762+_0x5d753b(0xb5));if(_0x19464b&&_0x19464b[_0x5d753b(0x9e)])_0x3dc2c8=_0x19464b[_0x5d753b(0x9e)];}else{if(_0x31c762[_0x5d753b(0x75)](_0x5d753b(0x1f5))){const _0x33a021=await _0x3d0283['getForeignStateAsync'](_0x31c762+_0x5d753b(0xc9));if(_0x33a021&&_0x33a021['val'])_0x3dc2c8=_0x33a021[_0x5d753b(0x9e)];}}}}catch(_0x3493fd){}if(!_0x3dc2c8){const _0x2161ef=['accuweather.0',_0x5d753b(0x1e9),_0x5d753b(0xe5),'openweathermap.0'];for(const _0x10f459 of _0x2161ef){try{const _0x286643=await _0x3d0283['getForeignObjectAsync'](_0x10f459);if(_0x286643){if(_0x10f459[_0x5d753b(0x75)](_0x5d753b(0x190))){const _0x50570f=await _0x3d0283[_0x5d753b(0x89)](_0x10f459+_0x5d753b(0xd5));if(_0x50570f&&_0x50570f['val']){_0x3dc2c8=_0x50570f['val'];break;}}}}catch(_0x43d983){}}}return _0x3dc2c8?_0x5d753b(0x105)+_0x3dc2c8:_0x5d753b(0x1c9);}catch(_0x5451ca){return'WETTER\x20ERROR:\x20'+_0x5451ca[_0x5d753b(0xd4)];}}async function getCalendarContext(_0x566655){const _0x30c702=a0_0x34f28f;try{if(!_0x566655[_0x30c702(0x8e)]['useCalendar'])return'Kalender:\x20Deaktiviert';let _0x569d2f=_0x566655[_0x30c702(0x8e)][_0x30c702(0x84)]||_0x30c702(0x237),_0x975ea0=_0x566655[_0x30c702(0x8e)][_0x30c702(0x97)]||[];if(typeof _0x975ea0===_0x30c702(0x154))_0x975ea0=_0x975ea0['split'](',');try{const _0x1bd81e=await _0x566655[_0x30c702(0x89)](_0x569d2f+_0x30c702(0x133));if(_0x1bd81e&&_0x1bd81e[_0x30c702(0x9e)]){let _0x44cb93=tryParse(_0x1bd81e['val']);if(_0x44cb93&&Array[_0x30c702(0x142)](_0x44cb93)){if(_0x975ea0[_0x30c702(0x262)]>0x0)_0x44cb93=_0x44cb93[_0x30c702(0x200)](_0x3778cc=>_0x975ea0[_0x30c702(0x75)](_0x3778cc[_0x30c702(0x234)]||''));else return _0x30c702(0x1f6);if(_0x44cb93[_0x30c702(0x262)]>0x0){const _0x50adca=_0x44cb93['slice'](0x0,0x3)[_0x30c702(0x144)](_0x90a293=>{const _0x536baf=_0x30c702;let _0x11d257=_0x90a293[_0x536baf(0x1dd)];if(_0x90a293['time'])_0x11d257+='\x20'+_0x90a293['time'];return _0x11d257+':\x20'+_0x90a293[_0x536baf(0x15e)]+'\x20('+_0x90a293['_calName']+')';});return _0x30c702(0x182)+_0x50adca[_0x30c702(0x130)](_0x30c702(0x11b));}else return _0x30c702(0x1a9);}}}catch(_0x122aa5){_0x566655[_0x30c702(0x9a)]['warn']('Error\x20reading\x20calendar\x20table:\x20'+_0x122aa5['message']);}return _0x30c702(0x102);}catch(_0x1f876c){return _0x30c702(0x148)+_0x1f876c['message'];}}async function getCalendarNames(_0x579b3a,_0x4d2f8d){const _0x3f7097=a0_0x34f28f;try{const _0x152e0f=await _0x579b3a['getForeignStateAsync'](_0x4d2f8d+_0x3f7097(0x133));if(_0x152e0f&&_0x152e0f['val']){const _0xeeb729=tryParse(_0x152e0f[_0x3f7097(0x9e)]);if(_0xeeb729&&Array[_0x3f7097(0x142)](_0xeeb729)){const _0x1ebe38=[...new Set(_0xeeb729[_0x3f7097(0x144)](_0x1f6515=>_0x1f6515[_0x3f7097(0x234)])[_0x3f7097(0x200)](Boolean))];return _0x1ebe38['sort']();}}return[];}catch(_0x16ba79){return _0x579b3a['log'][_0x3f7097(0x1f4)](_0x3f7097(0x193)+_0x16ba79[_0x3f7097(0xd4)]),[];}}async function checkWifiPresence(_0x17d194){const _0x219b54=a0_0x34f28f;try{const _0x268e81=_0x17d194[_0x219b54(0x8e)][_0x219b54(0x1ec)]||[];let _0x1c230e=![];const _0x2c6cc9=[];for(const _0x371ab5 of _0x268e81){try{const _0xa6bd07=await _0x17d194['getForeignStateAsync'](_0x371ab5);if(_0xa6bd07&&(_0xa6bd07[_0x219b54(0x9e)]===!![]||_0xa6bd07['val']===_0x219b54(0x267)||_0xa6bd07[_0x219b54(0x9e)]===0x1)){_0x1c230e=!![];const _0x2c796c=await _0x17d194['getForeignObjectAsync'](_0x371ab5);let _0x805f3f=_0x371ab5;_0x2c796c&&_0x2c796c[_0x219b54(0x1a4)]&&_0x2c796c['common'][_0x219b54(0x24e)]&&(_0x805f3f=typeof _0x2c796c[_0x219b54(0x1a4)]['name']===_0x219b54(0x1e8)?_0x2c796c[_0x219b54(0x1a4)][_0x219b54(0x24e)]['de']||_0x2c796c['common'][_0x219b54(0x24e)]['en']:_0x2c796c[_0x219b54(0x1a4)][_0x219b54(0x24e)]),_0x2c6cc9[_0x219b54(0x15b)](_0x805f3f);}}catch(_0x39918f){}}return await _0x17d194[_0x219b54(0x17e)](_0x219b54(0x73),{'val':_0x2c6cc9[_0x219b54(0x130)](',\x20'),'ack':!![]}),_0x1c230e&&(_0x17d194['exitTimer']&&(_0x17d194[_0x219b54(0x9a)][_0x219b54(0x22f)]('WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.'),abortExitTimer(_0x17d194)),!_0x17d194[_0x219b54(0x25a)]&&_0x17d194[_0x219b54(0x18c)]===SYSTEM_MODES[_0x219b54(0x216)]&&await setPresence(_0x17d194,!![])),_0x1c230e;}catch(_0x17e1cc){return _0x17d194[_0x219b54(0x9a)][_0x219b54(0x1f4)](_0x219b54(0x21f)+_0x17e1cc['message']),![];}}function startExitTimer(_0x27842c){const _0x33802b=a0_0x34f28f;abortExitTimer(_0x27842c),_0x27842c[_0x33802b(0x261)]=!![],_0x27842c['exitGraceTimer']=setTimeout(()=>{const _0x272694=_0x33802b;_0x27842c[_0x272694(0x261)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),_0x27842c[_0x33802b(0x270)]=setTimeout(()=>{const _0x8a7514=_0x33802b;setPresence(_0x27842c,![]),_0x27842c[_0x8a7514(0x270)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}function abortExitTimer(_0x11b4d1){const _0x2ba3b6=a0_0x34f28f;if(_0x11b4d1['exitTimer'])clearTimeout(_0x11b4d1[_0x2ba3b6(0x270)]);if(_0x11b4d1[_0x2ba3b6(0x1d4)])clearTimeout(_0x11b4d1['exitGraceTimer']);_0x11b4d1['exitTimer']=null,_0x11b4d1[_0x2ba3b6(0x1d4)]=null,_0x11b4d1['isGracePeriodActive']=![];}async function setPresence(_0x1c0293,_0x404d05){const _0x571fcd=a0_0x34f28f;if(_0x1c0293['isPresent']===_0x404d05)return;_0x1c0293[_0x571fcd(0x25a)]=_0x404d05,await _0x1c0293[_0x571fcd(0x17e)]('system.isPresent',{'val':_0x404d05,'ack':!![]});}async function saveFeedback(_0x46403f,_0x28331f){const _0x3c21ed=a0_0x34f28f;_0x46403f[_0x3c21ed(0x9a)][_0x3c21ed(0x22f)]('Feedback\x20saved:\x20'+JSON[_0x3c21ed(0x176)](_0x28331f));}async function runBaselineDriftAnalysis(_0x347509){const _0x1a8a81=a0_0x34f28f;if(!_0x347509[_0x1a8a81(0xb3)]||!_0x347509[_0x1a8a81(0x1f1)])return;const _0x47ec94=_0x347509['config']['ltmStbWindowDays']||0xe;if(_0x347509[_0x1a8a81(0x151)][_0x1a8a81(0x262)]<_0x47ec94+(_0x347509[_0x1a8a81(0x8e)]['minDaysForBaseline']||0x7)){await _0x347509[_0x1a8a81(0x17e)](LTM_DP_DRIFT_STATUS,{'val':_0x1a8a81(0x18f),'ack':!![]});return;}const _0x243dd1=_0x347509[_0x1a8a81(0x151)]['slice'](-_0x47ec94),_0x1b1615=_0x347509[_0x1a8a81(0x151)][_0x1a8a81(0x1e3)](0x0,_0x347509[_0x1a8a81(0x151)][_0x1a8a81(0x262)]-_0x47ec94),_0x23c294=_0x1a8a81(0x12c)+JSON[_0x1a8a81(0x176)](_0x1b1615)+'\x0aSTB:\x20'+JSON[_0x1a8a81(0x176)](_0x243dd1);try{const _0x2a8768=await _0x347509[_0x1a8a81(0x1f1)][_0x1a8a81(0x108)](_0x23c294),_0x169714=JSON[_0x1a8a81(0x165)](_0x2a8768[_0x1a8a81(0x1c4)][_0x1a8a81(0xf5)]()[_0x1a8a81(0x1a0)](/```json|```/g,'')[_0x1a8a81(0x79)]());_0x169714['baselineDrift']&&(await _0x347509['setStateAsync'](LTM_DP_DRIFT_STATUS,{'val':_0x169714[_0x1a8a81(0x1ad)],'ack':!![]}),await _0x347509[_0x1a8a81(0x17e)](LTM_DP_DRIFT_DETAILS,{'val':_0x169714[_0x1a8a81(0x171)],'ack':!![]}),await _0x347509[_0x1a8a81(0x17e)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x1a8a81(0xec)](),'ack':!![]}));}catch(_0x1f3109){}}function setupLtmScheduler(_0x2d4161){const _0x3ec149=a0_0x34f28f;try{if(_0x2d4161[_0x3ec149(0x25d)])_0x2d4161[_0x3ec149(0x25d)][_0x3ec149(0x205)]();if(!_0x2d4161[_0x3ec149(0xb3)]){_0x2d4161[_0x3ec149(0x17e)](LTM_DP_STATUS,{'val':_0x3ec149(0x231),'ack':!![]});return;}_0x2d4161['ltmJob']=schedule[_0x3ec149(0x146)](LTM_SCHEDULE,()=>createDailyDigest(_0x2d4161));}catch(_0x2ad148){_0x2d4161[_0x3ec149(0x9a)][_0x3ec149(0x1f4)](_0x3ec149(0xb9)+_0x2ad148[_0x3ec149(0xd4)]);}}function setupModeResetScheduler(_0xbfe3db){const _0x1dac5b=a0_0x34f28f;try{if(_0xbfe3db['modeResetJob'])_0xbfe3db[_0x1dac5b(0x22d)][_0x1dac5b(0x205)]();_0xbfe3db[_0x1dac5b(0x22d)]=schedule[_0x1dac5b(0x146)](MODE_RESET_SCHEDULE,async()=>{const _0x5086a5=_0x1dac5b;await loadSystemMode(_0xbfe3db),AUTO_RESET_MODES[_0x5086a5(0x75)](_0xbfe3db['currentSystemMode'])&&await _0xbfe3db['setStateAsync'](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x5086a5(0x216)],'ack':![]});});}catch(_0x157bbb){_0xbfe3db[_0x1dac5b(0x9a)][_0x1dac5b(0x1f4)](_0x1dac5b(0x8b)+_0x157bbb[_0x1dac5b(0xd4)]);}}function setupDriftAnalysisScheduler(_0x4389ff){const _0x139416=a0_0x34f28f;try{if(_0x4389ff[_0x139416(0x1d1)])clearInterval(_0x4389ff[_0x139416(0x1d1)]);if(!_0x4389ff[_0x139416(0xb3)])return;_0x4389ff[_0x139416(0x1d1)]=setInterval(()=>runBaselineDriftAnalysis(_0x4389ff),(_0x4389ff[_0x139416(0x8e)][_0x139416(0x1f0)]||0x18)*0x36ee80),setTimeout(()=>runBaselineDriftAnalysis(_0x4389ff),0x1388);}catch(_0x2c8fac){_0x4389ff['log'][_0x139416(0x1f4)](_0x139416(0x15c)+_0x2c8fac[_0x139416(0xd4)]);}}function setupBriefingScheduler(_0x4a15b9){const _0x568874=a0_0x34f28f;try{if(_0x4a15b9['briefingJob'])_0x4a15b9['briefingJob'][_0x568874(0x205)]();if(!_0x4a15b9[_0x568874(0x8e)][_0x568874(0xdf)])return;const _0x2fa8eb=(_0x4a15b9[_0x568874(0x8e)][_0x568874(0x1ea)]||_0x568874(0x80))[_0x568874(0x120)](':'),_0x2c779e=parseInt(_0x2fa8eb[0x0])||0x8,_0xde5956=parseInt(_0x2fa8eb[0x1])||0x0,_0x5447fc=_0xde5956+'\x20'+_0x2c779e+_0x568874(0xa4);_0x4a15b9[_0x568874(0x9a)][_0x568874(0x22f)]('Scheduling\x20Morning\x20Briefing\x20for\x20'+_0x2c779e+':'+(_0xde5956<0xa?'0'+_0xde5956:_0xde5956)),_0x4a15b9['briefingJob']=schedule[_0x568874(0x146)](_0x5447fc,()=>{sendMorningBriefing(_0x4a15b9);});}catch(_0x1bc11e){_0x4a15b9[_0x568874(0x9a)][_0x568874(0x1f4)](_0x568874(0x1a5)+_0x1bc11e[_0x568874(0xd4)]);}}async function sendNotification(_0xf81f88,_0x2fa9f2,_0x1afed0=![],_0x4f5cb0=![]){const _0x46f5c0=a0_0x34f28f;_0xf81f88[_0x46f5c0(0x9a)][_0x46f5c0(0x22f)]((_0x1afed0?_0x46f5c0(0x1e5):'')+_0x46f5c0(0x13a)+_0x2fa9f2+'\x22');const _0x3295d3=_0xf81f88[_0x46f5c0(0x8e)];let _0xe07460=0x0;if(_0x3295d3[_0x46f5c0(0x1f2)]){let _0x2744ff={};(_0x2fa9f2[_0x46f5c0(0x75)](_0x46f5c0(0x177))||_0x4f5cb0)&&(_0x2744ff={'reply_markup':{'inline_keyboard':[[{'text':_0x46f5c0(0x220),'callback_data':_0x46f5c0(0xfc)}],[{'text':_0x46f5c0(0x20c),'callback_data':_0x46f5c0(0x1b7)}]]}}),await _0xf81f88[_0x46f5c0(0x14d)](_0x3295d3['notifyTelegramInstance'],'send',{'text':_0x2fa9f2,'user':_0x3295d3[_0x46f5c0(0xef)],..._0x2744ff}),_0xe07460++;}if(_0x3295d3['notifyPushoverEnabled']){let _0x209a7c={'message':_0x2fa9f2,'title':_0x4f5cb0?_0x46f5c0(0x183):'Cogni-Living','priority':_0x4f5cb0?0x2:0x1,'device':_0x3295d3[_0x46f5c0(0x21e)]};_0x4f5cb0&&(_0x209a7c[_0x46f5c0(0x209)]=0x1e,_0x209a7c['expire']=0xe10,_0x209a7c[_0x46f5c0(0x1b9)]=_0x46f5c0(0x226)),await _0xf81f88[_0x46f5c0(0x14d)](_0x3295d3['notifyPushoverInstance'],_0x46f5c0(0x150),_0x209a7c),_0xe07460++;}return _0x3295d3['notifyEmailEnabled']&&(await _0xf81f88[_0x46f5c0(0x14d)](_0x3295d3['notifyEmailInstance'],_0x46f5c0(0x150),{'text':_0x2fa9f2,'to':_0x3295d3['notifyEmailRecipient']}),_0xe07460++),_0xe07460;}async function setupTelegramListener(_0x4ecf78){const _0x48b88b=a0_0x34f28f,_0x213d1f=_0x4ecf78[_0x48b88b(0x8e)][_0x48b88b(0x81)];_0x4ecf78[_0x48b88b(0x8e)][_0x48b88b(0x1f2)]&&_0x213d1f&&(_0x4ecf78['log'][_0x48b88b(0x22f)](_0x48b88b(0xc3)+_0x213d1f+_0x48b88b(0x26f)),await _0x4ecf78['subscribeForeignStatesAsync'](_0x213d1f+_0x48b88b(0x179)));}async function handleTelegramResponse(_0x681a77,_0x416109){const _0x1813e5=a0_0x34f28f;let _0x5aff76=_0x416109;_0x416109[_0x1813e5(0x264)]('[')&&(_0x5aff76=_0x416109[_0x1813e5(0x1ba)](_0x416109[_0x1813e5(0xb4)](']')+0x1));if(_0x5aff76===_0x1813e5(0xfc))_0x681a77['log'][_0x1813e5(0x22f)](_0x1813e5(0x1b4)),await _0x681a77[_0x1813e5(0x17e)](_0x1813e5(0x1d8),{'val':![],'ack':!![]}),await _0x681a77[_0x1813e5(0x17e)]('analysis.alertReason',{'val':_0x1813e5(0xe8),'ack':!![]}),_0x681a77[_0x1813e5(0x203)]=![],sendNotification(_0x681a77,_0x1813e5(0x23f),![]);else _0x5aff76===_0x1813e5(0x1b7)&&(_0x681a77[_0x1813e5(0x9a)]['warn'](_0x1813e5(0x168)),sendNotification(_0x681a77,_0x1813e5(0x74),![],!![]));}async function runAutopilot(_0x47aeb6){const _0x52c32e=a0_0x34f28f,_0x278b63=_0x47aeb6[_0x52c32e(0x8e)][_0x52c32e(0x1f3)],_0x4fbef9=_0x47aeb6[_0x52c32e(0xdc)][_0x52c32e(0x262)]>0x0?_0x47aeb6[_0x52c32e(0xdc)][0x0][_0x52c32e(0x265)]:Date[_0x52c32e(0xec)](),_0x4b701f=(Date[_0x52c32e(0xec)]()-_0x4fbef9)/(0x3e8*0x3c*0x3c);let _0xfea8ae='';_0x47aeb6['config'][_0x52c32e(0xeb)]&&_0x47aeb6[_0x52c32e(0x18c)]===SYSTEM_MODES[_0x52c32e(0x216)]&&_0x47aeb6['isPresent']&&(_0x4b701f>_0x278b63&&(_0xfea8ae=_0x52c32e(0x240)+_0x4b701f[_0x52c32e(0x1bf)](0x1)+'\x20hours.\x20Potential\x20incapacitation.')),runGeminiAnalysis(_0x47aeb6,_0xfea8ae)['catch'](_0x11ec1b=>_0x47aeb6[_0x52c32e(0x9a)][_0x52c32e(0x1f4)](_0x11ec1b));}async function createDailyDigest(_0x406e6c){const _0x5052bd=a0_0x34f28f;if(!_0x406e6c[_0x5052bd(0xb3)])return;await _0x406e6c[_0x5052bd(0x17e)](LTM_DP_STATUS,{'val':_0x5052bd(0x1fb)+new Date()['toLocaleString'](),'ack':!![]});if(!_0x406e6c[_0x5052bd(0x1f1)]||_0x406e6c[_0x5052bd(0x186)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x406e6c['setStateAsync'](LTM_DP_STATUS,{'val':_0x5052bd(0x169),'ack':!![]});return;}const _0x2ab3b3=JSON['parse'](JSON[_0x5052bd(0x176)](_0x406e6c[_0x5052bd(0x186)])),_0x24d38c=_0x2ab3b3[_0x5052bd(0x262)],_0x2c1ee8=_0x5052bd(0x1ac)+JSON['stringify'](_0x2ab3b3);try{const _0x23e290=await _0x406e6c[_0x5052bd(0x1f1)][_0x5052bd(0x108)](_0x2c1ee8),_0x634207=JSON[_0x5052bd(0x165)](_0x23e290['response']['text']()['replace'](/```json|```/g,'')[_0x5052bd(0x79)]());_0x634207['summary']&&(_0x406e6c[_0x5052bd(0x151)][_0x5052bd(0x15b)]({'timestamp':new Date()[_0x5052bd(0x19d)](),'eventCount':_0x24d38c,'summary':_0x634207[_0x5052bd(0x100)],'activityLevel':_0x634207[_0x5052bd(0xdd)],'systemMode':_0x406e6c[_0x5052bd(0x18c)]}),await saveDailyDigests(_0x406e6c),_0x406e6c[_0x5052bd(0x186)]=[],await saveRawEventLog(_0x406e6c),await _0x406e6c['setStateAsync'](LTM_DP_STATUS,{'val':_0x5052bd(0x21b)+_0x24d38c+_0x5052bd(0x22e),'ack':!![]}),runPythonHealthCheck(_0x406e6c));}catch(_0x115cb6){await _0x406e6c[_0x5052bd(0x17e)](LTM_DP_STATUS,{'val':_0x5052bd(0x13f)+_0x115cb6[_0x5052bd(0xd4)],'ack':!![]});}}async function sendMorningBriefing(_0x2de520){const _0x2eedfd=a0_0x34f28f;if(!_0x2de520[_0x2eedfd(0x1f1)])return;_0x2de520[_0x2eedfd(0x9a)]['info'](_0x2eedfd(0x1e1));const _0x1dc54b=_0x2de520[_0x2eedfd(0x151)][_0x2eedfd(0x262)]>0x0?_0x2de520[_0x2eedfd(0x151)][_0x2de520[_0x2eedfd(0x151)][_0x2eedfd(0x262)]-0x1]:null,_0x40d376=_0x1dc54b&&_0x1dc54b[_0x2eedfd(0x204)]?_0x1dc54b[_0x2eedfd(0x204)]['sleepScore']:_0x2eedfd(0x1c5),_0x249a4f=new Date();_0x249a4f[_0x2eedfd(0x258)](0x4,0x0,0x0,0x0);const _0x505592=_0x2de520[_0x2eedfd(0xdc)]['filter'](_0x152f37=>new Date(_0x152f37[_0x2eedfd(0x265)])>_0x249a4f),_0x53a5d1=PERSONA_MAPPING[_0x2de520['config'][_0x2eedfd(0x17c)]||_0x2eedfd(0x76)],_0x1c4ac1=_0x2de520[_0x2eedfd(0x8e)]['livingContext']||'',_0x4b0ab7=await getWeatherContext(_0x2de520),_0x187633=await getCalendarContext(_0x2de520),_0x128b6f='ROLLE:\x20FÃ¼rsorglicher\x20Assistent.\x20AUFGABE:\x20Schreibe\x20eine\x20kurze,\x20beruhigende\x20\x22Guten\x20Morgen\x22-Nachricht.\x20PERSONA:\x20'+_0x53a5d1+_0x2eedfd(0x14e)+_0x1c4ac1+_0x2eedfd(0x1fc)+_0x4b0ab7+'\x20'+_0x187633+_0x2eedfd(0x212)+_0x40d376+_0x2eedfd(0x1a6)+JSON[_0x2eedfd(0x176)](_0x505592['slice'](0x0,0xa))+_0x2eedfd(0x7d);try{const _0x12ec86=await _0x2de520['geminiModel'][_0x2eedfd(0x108)](_0x128b6f),_0x481844=_0x2eedfd(0x87)+_0x12ec86[_0x2eedfd(0x1c4)][_0x2eedfd(0xf5)]()[_0x2eedfd(0x79)]();sendNotification(_0x2de520,_0x481844),_0x2de520[_0x2eedfd(0x9a)][_0x2eedfd(0x22f)]('Morning\x20Briefing\x20sent.');}catch(_0x161661){_0x2de520[_0x2eedfd(0x9a)]['error'](_0x2eedfd(0x1ce)+_0x161661[_0x2eedfd(0xd4)]);}}async function scanForDevices(_0x93dbfa,_0x528123){const _0x1978bb=a0_0x34f28f;_0x93dbfa['log'][_0x1978bb(0x22f)](_0x1978bb(0x257));const _0x243ae9=[],_0x1deb79=await _0x93dbfa[_0x1978bb(0x23e)]('*'),_0x4bb5f2=await _0x93dbfa[_0x1978bb(0x23e)](_0x1978bb(0x196),_0x1978bb(0x106)),_0x828060=await _0x93dbfa['getForeignObjectsAsync'](_0x1978bb(0x20b),_0x1978bb(0x106)),_0x17e4e9={};if(_0x4bb5f2)for(const _0x1ea3f9 in _0x4bb5f2){const _0x2f3394=_0x4bb5f2[_0x1ea3f9][_0x1978bb(0x1a4)]['members']||[];_0x2f3394[_0x1978bb(0x77)](_0x6dbd69=>{const _0x50bae3=_0x1978bb;if(!_0x17e4e9[_0x6dbd69])_0x17e4e9[_0x6dbd69]=[];_0x17e4e9[_0x6dbd69][_0x50bae3(0x15b)](_0x1ea3f9);});}const _0x447197={};if(_0x828060)for(const _0x1c7587 in _0x828060){const _0x4dfac3=_0x828060[_0x1c7587][_0x1978bb(0x1a4)][_0x1978bb(0x22b)]||[],_0x473913=typeof _0x828060[_0x1c7587][_0x1978bb(0x1a4)][_0x1978bb(0x24e)]===_0x1978bb(0x1e8)?_0x828060[_0x1c7587][_0x1978bb(0x1a4)]['name']['de']:_0x828060[_0x1c7587][_0x1978bb(0x1a4)][_0x1978bb(0x24e)];_0x4dfac3[_0x1978bb(0x77)](_0x5fbc85=>_0x447197[_0x5fbc85]=_0x473913);}const _0x233d11=_0x528123['selectedFunctionIds']||[],_0x10d9ca=_0x528123[_0x1978bb(0xab)]!==![],_0x41492f=_0x528123[_0x1978bb(0x94)]!==![],_0x477727=_0x528123[_0x1978bb(0xac)]!==![],_0x20a913=_0x528123[_0x1978bb(0x1ff)]===!![],_0x1dc469=_0x528123[_0x1978bb(0xe0)]===!![];for(const _0x2abd2e in _0x1deb79){const _0x1ce53b=_0x1deb79[_0x2abd2e];if(_0x1ce53b[_0x1978bb(0x18b)]!==_0x1978bb(0x1e0)||!_0x1ce53b['common'])continue;if(ADAPTER_BLACKLIST[_0x1978bb(0x1d6)](_0x3626e0=>_0x2abd2e[_0x1978bb(0x264)](_0x3626e0))&&!_0x1dc469)continue;const _0x416a42=(_0x1ce53b['common'][_0x1978bb(0x14f)]||'')[_0x1978bb(0x221)]();let _0x3f52ec=(typeof _0x1ce53b[_0x1978bb(0x1a4)][_0x1978bb(0x24e)]===_0x1978bb(0x1e8)?_0x1ce53b[_0x1978bb(0x1a4)][_0x1978bb(0x24e)]['de']:_0x1ce53b[_0x1978bb(0x1a4)][_0x1978bb(0x24e)])||_0x2abd2e;const _0x4fff61=_0x3f52ec['toLowerCase']();let _0x5b9958=![],_0x5f586e=![];if(_0x233d11[_0x1978bb(0x262)]>0x0){const _0xd73d0a=_0x17e4e9[_0x2abd2e]||[],_0x5edad1=_0x2abd2e['split']('.')[_0x1978bb(0x1e3)](0x0,-0x1)['join']('.'),_0x203015=_0x17e4e9[_0x5edad1]||[];(_0xd73d0a[_0x1978bb(0x1d6)](_0x842e09=>_0x233d11[_0x1978bb(0x75)](_0x842e09))||_0x203015[_0x1978bb(0x1d6)](_0x2be5d5=>_0x233d11['includes'](_0x2be5d5)))&&(_0x5b9958=!![],_0x5f586e=!![]);}if(!_0x5b9958&&!_0x1dc469){if(HARD_IGNORE_TERMS['some'](_0x1ff925=>_0x2abd2e[_0x1978bb(0x75)](_0x1ff925)||_0x4fff61['includes'](_0x1ff925[_0x1978bb(0x221)]())))continue;}if(BAD_NAMES[_0x1978bb(0x1d6)](_0x426f86=>_0x4fff61===_0x426f86||_0x4fff61[_0x1978bb(0x11c)]('.'+_0x426f86))){const _0xd0b72e=_0x2abd2e[_0x1978bb(0x120)]('.');if(_0xd0b72e['length']>0x2){const _0x1842c3=_0xd0b72e[_0x1978bb(0x1e3)](0x0,-0x1)['join']('.'),_0x3cfdd8=_0x1deb79[_0x1842c3];if(_0x3cfdd8&&_0x3cfdd8['common']&&_0x3cfdd8[_0x1978bb(0x1a4)][_0x1978bb(0x24e)]){const _0x452efc=typeof _0x3cfdd8['common'][_0x1978bb(0x24e)]===_0x1978bb(0x1e8)?_0x3cfdd8[_0x1978bb(0x1a4)]['name']['de']:_0x3cfdd8[_0x1978bb(0x1a4)][_0x1978bb(0x24e)];_0x452efc&&!_0x3f52ec[_0x1978bb(0x75)](_0x452efc)&&(_0x3f52ec=_0x452efc+'\x20'+_0x3f52ec);}}}let _0x227933='';if(_0x10d9ca&&(_0x416a42['includes'](_0x1978bb(0xab))||_0x416a42[_0x1978bb(0x75)](_0x1978bb(0x1af))||_0x4fff61[_0x1978bb(0x75)](_0x1978bb(0x166))||_0x4fff61[_0x1978bb(0x75)]('prÃ¤senz')))_0x227933=_0x1978bb(0xab);else{if(!_0x227933&&_0x41492f&&(_0x416a42['includes'](_0x1978bb(0x228))||_0x416a42[_0x1978bb(0x75)](_0x1978bb(0x131))||_0x416a42['includes'](_0x1978bb(0x1ed))||_0x416a42['includes']('blind')||_0x416a42[_0x1978bb(0x75)](_0x1978bb(0xa8))||_0x4fff61['includes'](_0x1978bb(0x110))||_0x4fff61[_0x1978bb(0x75)](_0x1978bb(0x12d))||_0x4fff61[_0x1978bb(0x75)]('rollladen')))_0x227933='door';else{if(!_0x227933&&_0x477727&&(_0x416a42[_0x1978bb(0x75)](_0x1978bb(0x10a))||_0x416a42['includes'](_0x1978bb(0xc0))||_0x416a42[_0x1978bb(0x75)](_0x1978bb(0xe6))||_0x4fff61[_0x1978bb(0x75)](_0x1978bb(0x134))||_0x4fff61['includes'](_0x1978bb(0x225))||_0x4fff61['includes'](_0x1978bb(0x1b3)))){if(_0x1ce53b[_0x1978bb(0x1a4)][_0x1978bb(0x92)]||_0x416a42[_0x1978bb(0x75)](_0x1978bb(0x10e)))_0x227933=_0x1978bb(0x10a);}else{if(!_0x227933&&_0x20a913&&(_0x416a42['includes']('temperature')||_0x416a42['includes']('humidity')||_0x416a42[_0x1978bb(0x75)]('thermostat')||_0x4fff61[_0x1978bb(0x75)](_0x1978bb(0x17d))||_0x4fff61[_0x1978bb(0x75)]('klima')||_0x4fff61[_0x1978bb(0x75)](_0x1978bb(0x136))))_0x227933='temperature';else{if(!_0x227933&&_0x5f586e)_0x227933='custom';}}}}if(_0x227933){let _0x3cadfe=_0x447197[_0x2abd2e]||'';if(!_0x3cadfe){let _0x9e1802=_0x2abd2e;for(let _0x5f120f=0x0;_0x5f120f<0x3;_0x5f120f++){const _0x119f6c=_0x9e1802[_0x1978bb(0xe3)]('.');if(_0x119f6c===-0x1)break;_0x9e1802=_0x9e1802[_0x1978bb(0x1ba)](0x0,_0x119f6c);if(_0x447197[_0x9e1802]){_0x3cadfe=_0x447197[_0x9e1802];break;}}}_0x243ae9['push']({'id':_0x2abd2e,'name':_0x3f52ec,'location':_0x3cadfe,'type':_0x227933,'logDuplicates':_0x227933===_0x1978bb(0xab),'isExit':![],'_score':_0x3cadfe?0x50:_0x227933==='custom'?0x5a:0x28});}}return _0x243ae9[_0x1978bb(0x19f)]((_0x4dfee4,_0xff3ed3)=>_0xff3ed3['_score']-_0x4dfee4[_0x1978bb(0x271)]),_0x243ae9;}async function executeAutomationAction(_0x246410){const _0x252c89=a0_0x34f28f;try{const _0x1ae396=await _0x246410[_0x252c89(0x266)](_0x252c89(0x158)),_0x163f69=await _0x246410[_0x252c89(0x266)](_0x252c89(0x1b0));if(_0x1ae396&&_0x1ae396[_0x252c89(0x9e)]&&_0x163f69){const _0x155341=_0x1ae396[_0x252c89(0x9e)];let _0x3361c7=_0x163f69['val'];try{_0x3361c7=JSON[_0x252c89(0x165)](_0x3361c7);}catch(_0x4f89bf){}_0x246410[_0x252c89(0x9a)][_0x252c89(0x22f)](_0x252c89(0x1e2)+_0x155341+_0x252c89(0x1eb)+_0x3361c7),await _0x246410['setForeignStateAsync'](_0x155341,_0x3361c7);}else _0x246410[_0x252c89(0x9a)]['warn'](_0x252c89(0x229));}catch(_0x1d8298){_0x246410['log'][_0x252c89(0x1f4)](_0x252c89(0x245)+_0x1d8298['message']);}}function tryParse(_0x3b1b02){try{return JSON['parse'](_0x3b1b02);}catch(_0x56844f){return null;}}async function recordSequence(_0x2ed51e,_0x11ef69){const _0x232514=a0_0x34f28f;if(_0x11ef69[_0x232514(0x18b)]!==_0x232514(0xab)&&_0x11ef69[_0x232514(0x18b)]!==_0x232514(0x228))return;if(_0x11ef69[_0x232514(0x9b)]!==!![])return;if(sequenceTimer)clearTimeout(sequenceTimer);const _0x4a7dab={'loc':_0x11ef69[_0x232514(0xed)]||_0x232514(0x192),'id':_0x11ef69['id'],'ts':Date[_0x232514(0xec)]()};activeSequence[_0x232514(0x15b)](_0x4a7dab),_0x2ed51e[_0x232514(0x9a)]['debug'](_0x232514(0x1df)+_0x4a7dab[_0x232514(0x1b1)]+_0x232514(0x242)+activeSequence[_0x232514(0x262)]+')'),sequenceTimer=setTimeout(async()=>{const _0x3b6b10=_0x232514;activeSequence[_0x3b6b10(0x262)]>0x1?await saveCompletedSequence(_0x2ed51e):activeSequence=[];},SEQUENCE_TIMEOUT_MS);}async function saveCompletedSequence(_0x4b6f3c){const _0x5a1029=a0_0x34f28f;try{_0x4b6f3c['log'][_0x5a1029(0x22f)](_0x5a1029(0xd8)+activeSequence[_0x5a1029(0x262)]+_0x5a1029(0x191));const _0x564feb=await _0x4b6f3c[_0x5a1029(0x266)](_0x5a1029(0x11f));let _0x43b8c5=[];if(_0x564feb&&_0x564feb[_0x5a1029(0x9e)])try{_0x43b8c5=JSON[_0x5a1029(0x165)](_0x564feb[_0x5a1029(0x9e)]);}catch(_0x55160f){}const _0x586c2f=activeSequence[0x0]['ts'],_0x1ce308=activeSequence['map'](_0x2fc80d=>({'loc':_0x2fc80d[_0x5a1029(0x1b1)],'t_delta':Math['round']((_0x2fc80d['ts']-_0x586c2f)/0x3e8)})),_0x149b77={'timestamp':new Date(_0x586c2f)[_0x5a1029(0x19d)](),'steps':_0x1ce308,'duration':Math[_0x5a1029(0x1c8)]((activeSequence[activeSequence['length']-0x1]['ts']-_0x586c2f)/0x3e8),'daytime':new Date(_0x586c2f)[_0x5a1029(0x1c6)]()};_0x43b8c5['push'](_0x149b77),_0x43b8c5[_0x5a1029(0x262)]>MAX_TRAINING_SET_SIZE&&_0x43b8c5[_0x5a1029(0x11a)](),await _0x4b6f3c[_0x5a1029(0x17e)](_0x5a1029(0x11f),{'val':JSON['stringify'](_0x43b8c5),'ack':!![]}),activeSequence=[],sequenceTimer=null;}catch(_0x1d29c5){_0x4b6f3c[_0x5a1029(0x9a)][_0x5a1029(0x1f4)](_0x5a1029(0x162)+_0x1d29c5[_0x5a1029(0xd4)]);}}async function processSensorEvent(_0x4fc16a,_0x217ebf,_0x35f651,_0xb1ddc7){const _0x5702f5=a0_0x34f28f;if(!_0xb1ddc7)return;const _0xb6e0b3=_0x35f651[_0x5702f5(0x9e)],_0x29296f=Date[_0x5702f5(0xec)]();_0x4fc16a[_0x5702f5(0x9a)][_0x5702f5(0x1e4)](_0x5702f5(0x145)+_0x217ebf+'\x20=\x20'+_0xb6e0b3);const _0x4d213f=_0x4fc16a['sensorLastValues'][_0x217ebf];_0x4fc16a[_0x5702f5(0x117)][_0x217ebf]=_0xb6e0b3;if(!_0xb1ddc7[_0x5702f5(0x24d)]&&_0x4d213f!=undefined&&_0x4d213f==_0xb6e0b3){_0x4fc16a[_0x5702f5(0x9a)][_0x5702f5(0x1e4)]('IGNORING\x20DUPLICATE\x20(Cached):\x20'+_0xb1ddc7['name']+_0x5702f5(0x263)+_0xb6e0b3+')');return;}const _0x463858={'timestamp':_0x29296f,'id':_0x217ebf,'name':_0xb1ddc7[_0x5702f5(0x24e)],'type':_0xb1ddc7[_0x5702f5(0x18b)],'location':_0xb1ddc7[_0x5702f5(0xed)],'value':_0xb6e0b3};_0x4fc16a[_0x5702f5(0xdc)][_0x5702f5(0x22a)](_0x463858);if(_0x4fc16a[_0x5702f5(0xdc)][_0x5702f5(0x262)]>HISTORY_MAX_SIZE)_0x4fc16a['eventHistory'][_0x5702f5(0x21a)]();await _0x4fc16a['setStateAsync'](_0x5702f5(0x8a),{'val':JSON[_0x5702f5(0x176)](_0x463858),'ack':!![]}),await _0x4fc16a['setStateAsync'](_0x5702f5(0x1d2),{'val':JSON[_0x5702f5(0x176)](_0x4fc16a[_0x5702f5(0xdc)]),'ack':!![]});_0x4fc16a['isProVersion']&&(_0x4fc16a[_0x5702f5(0x186)]['push'](_0x463858),await saveRawEventLog(_0x4fc16a),recordSequence(_0x4fc16a,_0x463858));if(_0xb1ddc7['isExit']&&_0xb6e0b3===!![]){if(_0x4fc16a[_0x5702f5(0x25a)]&&!_0x4fc16a['isGracePeriodActive'])_0x4fc16a[_0x5702f5(0x9a)][_0x5702f5(0x22f)](_0x5702f5(0xbf)+_0xb1ddc7[_0x5702f5(0x24e)]+_0x5702f5(0x18e)),startExitTimer(_0x4fc16a);else!_0x4fc16a[_0x5702f5(0x25a)]&&(_0x4fc16a[_0x5702f5(0x9a)][_0x5702f5(0x22f)]('Entry\x20detected\x20via\x20'+_0xb1ddc7[_0x5702f5(0x24e)]+_0x5702f5(0x241)),await setPresence(_0x4fc16a,!![]));}else _0xb1ddc7[_0x5702f5(0x18b)]==='motion'&&_0xb6e0b3===!![]&&(_0x4fc16a[_0x5702f5(0x270)]&&(_0x4fc16a['log']['info'](_0x5702f5(0x248)),abortExitTimer(_0x4fc16a)),!_0x4fc16a[_0x5702f5(0x25a)]&&_0x4fc16a[_0x5702f5(0x18c)]===SYSTEM_MODES['NORMAL']&&await setPresence(_0x4fc16a,!![]));}async function runGeminiAnalysis(_0x3fa9d5,_0x4b4f76=''){const _0x26ff8e=a0_0x34f28f;if(!_0x3fa9d5[_0x26ff8e(0x1f1)])return;if(_0x3fa9d5[_0x26ff8e(0xdc)]['length']===0x0)return;const _0x1aa801=_0x3fa9d5['eventHistory'][_0x26ff8e(0x1e3)](0x0,0xf),_0x46b074=await getWeatherContext(_0x3fa9d5),_0x275a76=_0x3fa9d5[_0x26ff8e(0x18c)],_0x404030=PERSONA_MAPPING[_0x3fa9d5[_0x26ff8e(0x8e)][_0x26ff8e(0x17c)]||_0x26ff8e(0x76)],_0x3e5f63=_0x3fa9d5['config']['livingContext']||_0x26ff8e(0x16e);let _0x6b9ebe=![];try{const _0x2088ce=await _0x3fa9d5[_0x26ff8e(0x266)](_0x26ff8e(0x247));if(_0x2088ce&&_0x2088ce[_0x26ff8e(0x9e)])_0x6b9ebe=!![];}catch(_0x17ec46){}const _0x4d4ac8='\x0a\x20\x20\x20\x20ROLLE:\x20KI-Hausverwalter\x20&\x20Gesundheits-Assistent.\x0a\x20\x20\x20\x20PERSONA:\x20'+_0x404030+'.\x0a\x20\x20\x20\x20KONTEXT:\x20'+_0x3e5f63+_0x26ff8e(0xf4)+_0x275a76+'.\x0a\x20\x20\x20\x20WETTER:\x20'+_0x46b074+_0x26ff8e(0xee)+(_0x4b4f76||_0x26ff8e(0xce))+_0x26ff8e(0x25b)+JSON[_0x26ff8e(0x176)](_0x1aa801)+_0x26ff8e(0x202);try{const _0x12ec34=await _0x3fa9d5[_0x26ff8e(0x1f1)][_0x26ff8e(0x108)](_0x4d4ac8),_0x5265c5=_0x12ec34['response'][_0x26ff8e(0xf5)]()[_0x26ff8e(0x1a0)](/```json|```/g,'')['trim'](),_0x1e4183=JSON['parse'](_0x5265c5);await _0x3fa9d5[_0x26ff8e(0x17e)](_0x26ff8e(0x1ab),{'val':JSON[_0x26ff8e(0x176)](_0x1e4183),'ack':!![]});_0x1e4183[_0x26ff8e(0x100)]&&await _0x3fa9d5['setStateAsync'](_0x26ff8e(0xc7),{'val':_0x1e4183[_0x26ff8e(0x100)],'ack':!![]});const _0xeb053b=_0x1e4183[_0x26ff8e(0x181)]||![];_0xeb053b!==_0x3fa9d5[_0x26ff8e(0x203)]&&(await _0x3fa9d5[_0x26ff8e(0x17e)]('analysis.isAlert',{'val':_0xeb053b,'ack':!![]}),_0x3fa9d5[_0x26ff8e(0x203)]=_0xeb053b,_0xeb053b&&(await _0x3fa9d5[_0x26ff8e(0x17e)](_0x26ff8e(0xaa),{'val':_0x1e4183['alertReason'],'ack':!![]}),sendNotification(_0x3fa9d5,_0x26ff8e(0x16c)+_0x1e4183[_0x26ff8e(0x25c)],![],_0x1e4183[_0x26ff8e(0x10f)]))),_0x1e4183['automationProposal']&&_0x1e4183['automationProposal'][_0x26ff8e(0x239)]&&_0x1e4183[_0x26ff8e(0xa1)][_0x26ff8e(0x111)]&&(_0x3fa9d5[_0x26ff8e(0x9a)][_0x26ff8e(0x22f)](_0x26ff8e(0x185)+_0x1e4183[_0x26ff8e(0xa1)][_0x26ff8e(0x13b)]),await _0x3fa9d5[_0x26ff8e(0x17e)](_0x26ff8e(0xc1),{'val':!![],'ack':!![]}),await _0x3fa9d5[_0x26ff8e(0x17e)](_0x26ff8e(0x1b5),{'val':_0x1e4183[_0x26ff8e(0xa1)][_0x26ff8e(0x13b)],'ack':!![]}),await _0x3fa9d5[_0x26ff8e(0x17e)](_0x26ff8e(0x158),{'val':_0x1e4183[_0x26ff8e(0xa1)]['targetId'],'ack':!![]}),await _0x3fa9d5['setStateAsync']('analysis.automation.targetValue',{'val':JSON[_0x26ff8e(0x176)](_0x1e4183['automationProposal'][_0x26ff8e(0x21c)]),'ack':!![]}),_0x6b9ebe&&(_0x3fa9d5[_0x26ff8e(0x9a)][_0x26ff8e(0x22f)]('ðŸ¤–\x20BUTLER\x20AUTO-APPLY:\x20Executing\x20'+_0x1e4183[_0x26ff8e(0xa1)]['targetId']+_0x26ff8e(0x14c)),await executeAutomationAction(_0x3fa9d5)));}catch(_0x4a6e0b){_0x3fa9d5['log']['error'](_0x26ff8e(0x1f8)+_0x4a6e0b[_0x26ff8e(0xd4)]);}}function installPythonDependencies(_0xdeb89b){const _0x2bc7a8=a0_0x34f28f;if(_0xdeb89b[_0x2bc7a8(0x24f)])return;_0xdeb89b['dependencyInstallInProgress']=!![];const _0xf296b7=path[_0x2bc7a8(0x130)](__dirname,_0x2bc7a8(0x244),_0x2bc7a8(0x1ca));_0xdeb89b['log']['info'](_0x2bc7a8(0xfe)+_0xf296b7+_0x2bc7a8(0x14c)),stopPythonService(_0xdeb89b);const _0x3a1359='python3\x20-m\x20pip\x20install\x20-r\x20\x22'+_0xf296b7+'\x22\x20--break-system-packages';exec(_0x3a1359,(_0x284a13,_0xa966b,_0xf64d7)=>{const _0x4bbd6d=_0x2bc7a8;_0xdeb89b[_0x4bbd6d(0x24f)]=![],_0x284a13?(_0xdeb89b[_0x4bbd6d(0x9a)][_0x4bbd6d(0x1f4)](_0x4bbd6d(0x103)+_0x3a1359),_0xdeb89b[_0x4bbd6d(0x9a)][_0x4bbd6d(0x1f4)](_0x4bbd6d(0x1c7)+(_0xf64d7||_0x284a13[_0x4bbd6d(0xd4)]))):(_0xdeb89b[_0x4bbd6d(0x9a)]['info'](_0x4bbd6d(0x19c)),startPythonService(_0xdeb89b));});}function sendToPython(_0x714947,_0x1746e7,_0x2c64e4={}){const _0x4171ba=a0_0x34f28f;if(!_0x714947[_0x4171ba(0xea)]||!_0x714947['pythonProcess'][_0x4171ba(0x24c)][_0x4171ba(0x174)])return;const _0x4cd650=JSON['stringify']({'command':_0x1746e7,..._0x2c64e4});try{_0x714947[_0x4171ba(0xea)][_0x4171ba(0x24c)][_0x4171ba(0x92)](_0x4cd650+'\x0a');}catch(_0x1330aa){_0x714947['log'][_0x4171ba(0x1f4)](_0x4171ba(0x254)+_0x1330aa[_0x4171ba(0xd4)]);}}function runPythonHealthCheck(_0xe896e6){const _0x1059f0=a0_0x34f28f;if(!_0xe896e6[_0x1059f0(0x151)]||_0xe896e6[_0x1059f0(0x151)]['length']<0x2){_0xe896e6[_0x1059f0(0x9a)][_0x1059f0(0x22f)]('Guardian:\x20Not\x20enough\x20history\x20data\x20for\x20trend\x20analysis\x20yet.');return;}const _0x53d932=_0xe896e6[_0x1059f0(0x151)][_0x1059f0(0x144)](_0x203c8e=>{const _0x3a009f=(_0x203c8e['activityLevel']||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x3a009f]||0x32;});_0xe896e6[_0x1059f0(0x9a)][_0x1059f0(0x22f)](_0x1059f0(0x26c)+_0x53d932[_0x1059f0(0x262)]+_0x1059f0(0xf7)),sendToPython(_0xe896e6,_0x1059f0(0xfd),{'values':_0x53d932,'tag':'Activity-Level'});}function handlePythonResult(_0x171d57,_0x2efad6){const _0x3d53b4=a0_0x34f28f;if(_0x2efad6['type']==='PONG')_0x171d57[_0x3d53b4(0x9a)][_0x3d53b4(0x1e4)](_0x3d53b4(0x20d));else{if(_0x2efad6['type']==='TREND_RESULT'){const {tag:_0x201bbc,diagnosis:_0x46f5e2,change_percent:_0x5cdd6e}=_0x2efad6[_0x3d53b4(0x15f)];_0x171d57['log'][_0x3d53b4(0x22f)](_0x3d53b4(0x180)+_0x201bbc+_0x3d53b4(0x18a)+_0x46f5e2+'\x20('+_0x5cdd6e+'%)'),_0x171d57[_0x3d53b4(0x17e)](_0x3d53b4(0x1b2),{'val':_0x46f5e2,'ack':!![]}),_0x171d57[_0x3d53b4(0x17e)](_0x3d53b4(0x217),{'val':_0x5cdd6e,'ack':!![]});}}}function startPythonService(_0x4c8390){const _0x5d5bee=a0_0x34f28f;try{const _0x33c85c=path[_0x5d5bee(0x130)](__dirname,_0x5d5bee(0x244),_0x5d5bee(0x1cc));_0x4c8390[_0x5d5bee(0x9a)]['info'](_0x5d5bee(0x1d3)+_0x33c85c),_0x4c8390['pythonProcess']=spawn(_0x5d5bee(0x23c),[_0x33c85c]),_0x4c8390[_0x5d5bee(0xea)][_0x5d5bee(0x184)]['on'](_0x5d5bee(0x260),_0x21b272=>{const _0x28961e=_0x5d5bee,_0x5417e9=_0x21b272[_0x28961e(0x122)]()[_0x28961e(0x120)]('\x0a');_0x5417e9[_0x28961e(0x77)](_0x30a7a6=>{const _0x33c547=_0x28961e,_0x562980=_0x30a7a6[_0x33c547(0x79)]();if(!_0x562980)return;if(_0x562980['startsWith'](_0x33c547(0xf9)))_0x4c8390[_0x33c547(0x9a)]['debug'](_0x33c547(0x213)+_0x562980[_0x33c547(0x1ba)](0x5)['trim']());else{if(_0x562980[_0x33c547(0x264)](_0x33c547(0x13c)))try{const _0x4c5063=JSON[_0x33c547(0x165)](_0x562980[_0x33c547(0x1ba)](0x8)[_0x33c547(0x79)]());handlePythonResult(_0x4c8390,_0x4c5063);}catch(_0x551e65){_0x4c8390[_0x33c547(0x9a)][_0x33c547(0x268)]('Invalid\x20JSON\x20from\x20Python:\x20'+_0x562980);}}(_0x562980[_0x33c547(0x75)]('No\x20module\x20named')||_0x562980[_0x33c547(0x75)]('Bibliotheken\x20nicht\x20gefunden'))&&(_0x4c8390['log'][_0x33c547(0x268)](_0x33c547(0x208)),installPythonDependencies(_0x4c8390));});}),_0x4c8390[_0x5d5bee(0xea)][_0x5d5bee(0x98)]['on'](_0x5d5bee(0x260),_0x7bf18e=>{const _0xc0123b=_0x5d5bee,_0x29be11=_0x7bf18e[_0xc0123b(0x122)]()['trim']();_0x4c8390[_0xc0123b(0x9a)][_0xc0123b(0x1f4)]('[PYTHON\x20ERR]\x20'+_0x29be11);}),_0x4c8390[_0x5d5bee(0xea)]['on']('close',_0x2bc8c8=>{const _0x3ee019=_0x5d5bee;_0x4c8390[_0x3ee019(0x9a)][_0x3ee019(0x22f)]('[PYTHON]\x20Service\x20exited\x20with\x20code\x20'+_0x2bc8c8),_0x4c8390[_0x3ee019(0xea)]=null;}),_0x4c8390[_0x5d5bee(0xea)]['on'](_0x5d5bee(0x1f4),_0x1c1d9c=>{const _0x2a4a3e=_0x5d5bee;_0x4c8390[_0x2a4a3e(0x9a)]['warn'](_0x2a4a3e(0x1d7)+_0x1c1d9c[_0x2a4a3e(0xd4)]);});}catch(_0x1b9ac1){_0x4c8390[_0x5d5bee(0x9a)][_0x5d5bee(0x1f4)](_0x5d5bee(0x1aa)+_0x1b9ac1[_0x5d5bee(0xd4)]);}}function stopPythonService(_0x453323){const _0x1fed12=a0_0x34f28f;if(_0x453323['pythonProcess']){_0x453323[_0x1fed12(0x9a)][_0x1fed12(0x22f)](_0x1fed12(0x223));try{_0x453323['pythonProcess'][_0x1fed12(0x1e7)]();}catch(_0x361c40){_0x453323['log'][_0x1fed12(0x268)](_0x1fed12(0x1b6)+_0x361c40[_0x1fed12(0xd4)]);}_0x453323[_0x1fed12(0xea)]=null;}}class CogniLiving extends utils[a0_0x34f28f(0x246)]{constructor(_0x4ec36f){const _0x42d8cd=a0_0x34f28f;super({..._0x4ec36f,'name':_0x42d8cd(0x140)}),this[_0x42d8cd(0xdc)]=[],this[_0x42d8cd(0x252)]=[],this[_0x42d8cd(0x23b)]=[],this['rawEventLog']=[],this[_0x42d8cd(0x151)]=[],this[_0x42d8cd(0x117)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x42d8cd(0x270)]=null,this[_0x42d8cd(0x1d4)]=null,this[_0x42d8cd(0x261)]=![],this[_0x42d8cd(0xcb)]=null,this[_0x42d8cd(0x1f1)]=null,this[_0x42d8cd(0x18c)]=SYSTEM_MODES[_0x42d8cd(0x216)],this['isProVersion']=![],this[_0x42d8cd(0x203)]=![],this[_0x42d8cd(0xf3)]=_0x42d8cd(0xaf),this[_0x42d8cd(0xa6)]=null,this[_0x42d8cd(0x25d)]=null,this[_0x42d8cd(0x22d)]=null,this[_0x42d8cd(0x1d1)]=null,this[_0x42d8cd(0x26b)]=null,this['pythonProcess']=null,this[_0x42d8cd(0x24f)]=![],this['on'](_0x42d8cd(0x7f),this[_0x42d8cd(0x10d)]['bind'](this)),this['on'](_0x42d8cd(0x127),this[_0x42d8cd(0x218)][_0x42d8cd(0x132)](this)),this['on'](_0x42d8cd(0x16b),this[_0x42d8cd(0xa5)][_0x42d8cd(0x132)](this)),this['on'](_0x42d8cd(0xd4),this[_0x42d8cd(0x269)][_0x42d8cd(0x132)](this));}async[a0_0x34f28f(0x10d)](){const _0x8b50a7=a0_0x34f28f;this[_0x8b50a7(0x9a)]['info'](_0x8b50a7(0xbd)+this[_0x8b50a7(0x230)]+_0x8b50a7(0x164)),await initZombies(this),this[_0x8b50a7(0x8e)][_0x8b50a7(0x90)]=this[_0x8b50a7(0x8e)][_0x8b50a7(0x90)]||'';try{this[_0x8b50a7(0xb3)]=await checkLicense(this,this[_0x8b50a7(0x8e)]['licenseKey']);}catch(_0x32e53a){}this[_0x8b50a7(0x9a)][_0x8b50a7(0x22f)]('[LICENSE\x20CHECK]\x20Key\x20present:\x20'+!!this[_0x8b50a7(0x8e)][_0x8b50a7(0x90)]+'\x20|\x20Status:\x20'+(this[_0x8b50a7(0xb3)]?_0x8b50a7(0xfa):'âŒ\x20FREE\x20MODE'));if(!this[_0x8b50a7(0x8e)]['inactivityThresholdHours']||this['config'][_0x8b50a7(0x1f3)]<0.1)this[_0x8b50a7(0x8e)][_0x8b50a7(0x1f3)]=0xc;await initHistory(this),await initSystemConfig(this);if(this[_0x8b50a7(0x8e)]['geminiApiKey'])try{this['genAI']=new GoogleGenerativeAI(this[_0x8b50a7(0x8e)][_0x8b50a7(0xe7)]),this['geminiModel']=this[_0x8b50a7(0xcb)][_0x8b50a7(0x20a)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x8b50a7(0x1bd)}}),this[_0x8b50a7(0x9a)][_0x8b50a7(0x22f)](_0x8b50a7(0xff));}catch(_0x1392fd){this['log'][_0x8b50a7(0x1f4)](_0x8b50a7(0x219)+_0x1392fd[_0x8b50a7(0xd4)]);}await createAllObjects(this),await loadSystemMode(this),await loadRawEventLog(this),await loadDailyDigests(this),this[_0x8b50a7(0xa9)](_0x8b50a7(0xe1)),this[_0x8b50a7(0xa9)](LTM_DP_TRIGGER_DIGEST),this['subscribeStates'](_0x8b50a7(0x249)),this[_0x8b50a7(0xa9)]('analysis.triggerBriefing'),this[_0x8b50a7(0xa9)]('analysis.automation.triggerAction'),this[_0x8b50a7(0xa9)](_0x8b50a7(0x247)),await initSensorSubscriptions(this),await initPresenceSubscriptions(this),await setupTelegramListener(this),setTimeout(()=>checkWifiPresence(this),0x1388);if(this[_0x8b50a7(0xa6)])clearInterval(this[_0x8b50a7(0xa6)]);const _0x550473=this[_0x8b50a7(0x8e)][_0x8b50a7(0x26e)]||0xf;_0x550473>0x0&&(this[_0x8b50a7(0x9a)][_0x8b50a7(0x22f)](_0x8b50a7(0x236)+_0x550473+_0x8b50a7(0x1b8)),this[_0x8b50a7(0xa6)]=setInterval(()=>{runAutopilot(this);},_0x550473*0x3c*0x3e8)),setupLtmScheduler(this),setupModeResetScheduler(this),setupDriftAnalysisScheduler(this),setupBriefingScheduler(this),startPythonService(this),setTimeout(()=>{const _0x1eaef7=_0x8b50a7;this[_0x1eaef7(0xea)]&&runPythonHealthCheck(this);},0x1388);}[a0_0x34f28f(0xa5)](_0x1757f7){const _0x24973e=a0_0x34f28f;if(this['analysisTimer'])clearInterval(this[_0x24973e(0xa6)]);if(this['driftAnalysisTimer'])clearInterval(this[_0x24973e(0x1d1)]);if(this[_0x24973e(0x25d)])this['ltmJob'][_0x24973e(0x205)]();if(this[_0x24973e(0x22d)])this[_0x24973e(0x22d)][_0x24973e(0x205)]();if(this[_0x24973e(0x26b)])this[_0x24973e(0x26b)][_0x24973e(0x205)]();if(this[_0x24973e(0x270)])clearTimeout(this['exitTimer']);if(this[_0x24973e(0x1d4)])clearTimeout(this[_0x24973e(0x1d4)]);stopPythonService(this),_0x1757f7();}async['onStateChange'](_0x5b0000,_0x161942){const _0x7e7f84=a0_0x34f28f;if(!_0x161942)return;if(_0x5b0000[_0x7e7f84(0x75)](_0x7e7f84(0x17a))&&_0x5b0000[_0x7e7f84(0x11c)]('communicate.request')&&_0x161942[_0x7e7f84(0x9e)]){await handleTelegramResponse(this,_0x161942[_0x7e7f84(0x9e)]);return;}if(_0x5b0000===this['namespace']+'.'+SYSTEM_DP_MODE){_0x161942['val']&&Object[_0x7e7f84(0x256)](SYSTEM_MODES)[_0x7e7f84(0x75)](_0x161942[_0x7e7f84(0x9e)])&&(this[_0x7e7f84(0x18c)]=_0x161942[_0x7e7f84(0x9e)],_0x161942['val']===SYSTEM_MODES['VACATION']?await setPresence(this,![]):await setPresence(this,!![]));if(!_0x161942[_0x7e7f84(0x167)])this[_0x7e7f84(0x160)](_0x5b0000,{'val':this[_0x7e7f84(0x18c)],'ack':!![]});return;}if(!_0x161942[_0x7e7f84(0x167)]){_0x5b0000[_0x7e7f84(0x75)](_0x7e7f84(0xe1))&&_0x161942['val']&&(this[_0x7e7f84(0x160)](_0x5b0000,{'val':![],'ack':!![]}),runGeminiAnalysis(this));if(_0x5b0000[_0x7e7f84(0x75)](_0x7e7f84(0x124))&&_0x161942[_0x7e7f84(0x9e)]){this[_0x7e7f84(0x160)](_0x5b0000,{'val':![],'ack':!![]});if(this['isProVersion'])createDailyDigest(this);}_0x5b0000['includes']('triggerBriefing')&&_0x161942['val']&&(this['setState'](_0x5b0000,{'val':![],'ack':!![]}),sendMorningBriefing(this));_0x5b0000['includes'](_0x7e7f84(0x197))&&_0x161942[_0x7e7f84(0x9e)]&&(this[_0x7e7f84(0x160)](_0x5b0000,{'val':![],'ack':!![]}),executeAutomationAction(this));return;}if(this[_0x7e7f84(0x8e)][_0x7e7f84(0x1ec)]&&this[_0x7e7f84(0x8e)]['presenceDevices']['includes'](_0x5b0000)){await checkWifiPresence(this);return;}const _0x2d500c=(this[_0x7e7f84(0x8e)][_0x7e7f84(0x13e)]||[])[_0x7e7f84(0x235)](_0x138ab8=>_0x138ab8['id']===_0x5b0000);if(_0x2d500c)processSensorEvent(this,_0x5b0000,_0x161942,_0x2d500c);}async['onMessage'](_0x5e75eb){const _0x5e7c19=a0_0x34f28f;if(typeof _0x5e75eb===_0x5e7c19(0x1e8)&&_0x5e75eb[_0x5e7c19(0xd4)])try{if(_0x5e75eb[_0x5e7c19(0x1cd)]===_0x5e7c19(0x1be)){const _0x1085a1=_0x5e75eb[_0x5e7c19(0xd4)]['apiKey']||this[_0x5e7c19(0x8e)]['geminiApiKey'];if(!_0x1085a1)return this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':![],'message':_0x5e7c19(0x13d)},_0x5e75eb[_0x5e7c19(0x215)]);try{const _0x5277bb=new GoogleGenerativeAI(_0x1085a1),_0x2b869f=_0x5277bb[_0x5e7c19(0x20a)]({'model':'gemini-1.5-flash'}),_0x536d5d=await _0x2b869f[_0x5e7c19(0x108)](_0x5e7c19(0x25f)),_0x6378c9=await _0x536d5d[_0x5e7c19(0x1c4)],_0x285beb=_0x6378c9[_0x5e7c19(0xf5)]();this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb['command'],{'success':!![],'message':_0x5e7c19(0x206)+_0x285beb[_0x5e7c19(0x1ba)](0x0,0x14)+'...'},_0x5e75eb['callback']);}catch(_0xff7da3){this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':![],'message':_0x5e7c19(0xdb)+_0xff7da3[_0x5e7c19(0xd4)]},_0x5e75eb[_0x5e7c19(0x215)]);}}else{if(_0x5e75eb[_0x5e7c19(0x1cd)]===_0x5e7c19(0xb0)){}else{if(_0x5e75eb['command']===_0x5e7c19(0x129)){if(!this[_0x5e7c19(0xb3)])return this[_0x5e7c19(0x19e)](_0x5e75eb['from'],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':![],'isPro':![]},_0x5e75eb['callback']);let _0x4567c3={'status':'N/A','details':'','lastCheck':0x0};try{_0x4567c3[_0x5e7c19(0x141)]=(await this['getStateAsync'](LTM_DP_DRIFT_STATUS))[_0x5e7c19(0x9e)],_0x4567c3[_0x5e7c19(0x1ef)]=(await this[_0x5e7c19(0x266)](LTM_DP_DRIFT_DETAILS))[_0x5e7c19(0x9e)],_0x4567c3[_0x5e7c19(0x104)]=(await this[_0x5e7c19(0x266)](LTM_DP_DRIFT_LAST_CHECK))[_0x5e7c19(0x9e)];}catch(_0x5f41d4){}const _0x117697=this[_0x5e7c19(0x252)]||[];this[_0x5e7c19(0x19e)](_0x5e75eb['from'],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x5e7c19(0x151)],'driftAnalysis':_0x4567c3,'analysisHistory':_0x117697},_0x5e75eb[_0x5e7c19(0x215)]);}else{if(_0x5e75eb['command']===_0x5e7c19(0x24b)){const _0x45cb61=this[_0x5e7c19(0x151)]['length'],_0x1984ed=new Date(),_0x1d3b0f=new Date(_0x1984ed[_0x5e7c19(0xd3)](),_0x1984ed[_0x5e7c19(0x109)](),_0x1984ed[_0x5e7c19(0x12f)]())[_0x5e7c19(0xde)](),_0x32df20=this[_0x5e7c19(0x186)][_0x5e7c19(0x200)](_0x492518=>new Date(_0x492518['timestamp'])['getTime']()>_0x1d3b0f)[_0x5e7c19(0x262)],_0x329b11=new Array(0x18)['fill'](0x0);this[_0x5e7c19(0x186)][_0x5e7c19(0x77)](_0x4495fd=>{const _0x39d947=_0x5e7c19,_0x32239d=new Date(_0x4495fd['timestamp']);if(_0x32239d[_0x39d947(0xde)]()>_0x1d3b0f)_0x329b11[_0x32239d[_0x39d947(0x1c6)]()]++;});let _0x48e71f={'status':_0x5e7c19(0x1c5)};try{_0x48e71f['status']=(await this[_0x5e7c19(0x266)](LTM_DP_DRIFT_STATUS))[_0x5e7c19(0x9e)];}catch(_0x39f819){}let _0xd3c799='';try{const _0x49b324=await this[_0x5e7c19(0x266)](_0x5e7c19(0x73));_0xd3c799=_0x49b324?_0x49b324[_0x5e7c19(0x9e)]:'';}catch(_0x488253){}let _0x9a5354=null;!this[_0x5e7c19(0x1f1)]&&(_0x9a5354=this[_0x5e7c19(0x8e)][_0x5e7c19(0xe7)]?_0x5e7c19(0xe2):_0x5e7c19(0x1a2));let _0x440ad9={'detected':![],'description':'','targetId':'','targetValue':'','autoApply':![]};try{const _0xa298a4=await this[_0x5e7c19(0x266)]('analysis.automation.patternDetected'),_0x1e4c75=await this[_0x5e7c19(0x266)]('analysis.automation.description'),_0x41cd58=await this[_0x5e7c19(0x266)](_0x5e7c19(0x158)),_0x4c630c=await this['getStateAsync'](_0x5e7c19(0x1b0)),_0xdb277d=await this[_0x5e7c19(0x266)](_0x5e7c19(0x247));_0xa298a4&&_0xa298a4['val']&&(_0x440ad9[_0x5e7c19(0x239)]=!![],_0x440ad9[_0x5e7c19(0x13b)]=_0x1e4c75?_0x1e4c75[_0x5e7c19(0x9e)]:'',_0x440ad9[_0x5e7c19(0x111)]=_0x41cd58?_0x41cd58[_0x5e7c19(0x9e)]:'',_0x440ad9[_0x5e7c19(0x21c)]=_0x4c630c?_0x4c630c[_0x5e7c19(0x9e)]:''),_0x440ad9[_0x5e7c19(0xd6)]=_0xdb277d?!!_0xdb277d[_0x5e7c19(0x9e)]:![];}catch(_0x2ea279){}this['sendTo'](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':!![],'eventHistory':this['eventHistory']['slice'](0x0,0xf),'stats':{'digestCount':_0x45cb61,'eventCountToday':_0x32df20,'hourlyActivity':_0x329b11,'driftStatus':_0x48e71f[_0x5e7c19(0x141)],'isPresent':this['isPresent'],'presenceWho':_0xd3c799,'minDays':this['config'][_0x5e7c19(0x188)]||0x7,'stbDays':this[_0x5e7c19(0x8e)][_0x5e7c19(0x17f)]||0xe,'ltbDays':this[_0x5e7c19(0x8e)]['ltmLtbWindowDays']||0x3c,'systemError':_0x9a5354},'automation':_0x440ad9},_0x5e75eb[_0x5e7c19(0x215)]);}else{if(_0x5e75eb[_0x5e7c19(0x1cd)]===_0x5e7c19(0x88)){const _0x434b23=await this[_0x5e7c19(0x23e)]('enum.functions.*',_0x5e7c19(0x106)),_0x26283f=[];if(_0x434b23)for(const _0x4a60e5 in _0x434b23){const _0x71ecb1=_0x434b23[_0x4a60e5],_0x186df9=(_0x71ecb1[_0x5e7c19(0x1a4)]&&typeof _0x71ecb1[_0x5e7c19(0x1a4)][_0x5e7c19(0x24e)]===_0x5e7c19(0x1e8)?_0x71ecb1[_0x5e7c19(0x1a4)][_0x5e7c19(0x24e)]['de']:_0x71ecb1[_0x5e7c19(0x1a4)][_0x5e7c19(0x24e)])||_0x71ecb1[_0x5e7c19(0x1a4)][_0x5e7c19(0x24e)];_0x26283f[_0x5e7c19(0x15b)]({'id':_0x4a60e5,'name':_0x186df9});}this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':!![],'enums':_0x26283f},_0x5e75eb[_0x5e7c19(0x215)]);}else{if(_0x5e75eb[_0x5e7c19(0x1cd)]==='scanDevices')try{const _0x52d9ab=await scanForDevices(this,_0x5e75eb[_0x5e7c19(0xd4)]||{});this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':!![],'devices':_0x52d9ab},_0x5e75eb['callback']);}catch(_0x51519a){this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb['command'],{'success':![],'error':_0x51519a['message']},_0x5e75eb[_0x5e7c19(0x215)]);}else{if(_0x5e75eb[_0x5e7c19(0x1cd)]===_0x5e7c19(0xae)){const _0x148678=_0x5e75eb[_0x5e7c19(0xd4)][_0x5e7c19(0x126)];if(!_0x148678)return this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':![],'error':'No\x20instance'},_0x5e75eb[_0x5e7c19(0x215)]);const _0x4b358f=await getCalendarNames(this,_0x148678);this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':!![],'names':_0x4b358f},_0x5e75eb[_0x5e7c19(0x215)]);}else{if(_0x5e75eb[_0x5e7c19(0x1cd)]===_0x5e7c19(0x157)){const {targetId:_0x2a9bd0,targetValue:_0x3682b3}=_0x5e75eb[_0x5e7c19(0xd4)];this[_0x5e7c19(0x9a)]['info'](_0x5e7c19(0x8c)+_0x2a9bd0+_0x5e7c19(0x1eb)+_0x3682b3),await this[_0x5e7c19(0x17e)](_0x5e7c19(0xc1),{'val':!![],'ack':!![]}),await this[_0x5e7c19(0x17e)](_0x5e7c19(0x1b5),{'val':'SIMULATION:\x20Test-Vorschlag\x20fÃ¼r\x20'+_0x2a9bd0,'ack':!![]}),await this[_0x5e7c19(0x17e)](_0x5e7c19(0x158),{'val':_0x2a9bd0,'ack':!![]}),await this[_0x5e7c19(0x17e)](_0x5e7c19(0x1b0),{'val':_0x3682b3,'ack':!![]}),this['sendTo'](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':!![]},_0x5e75eb[_0x5e7c19(0x215)]);}else{if(_0x5e75eb[_0x5e7c19(0x1cd)]===_0x5e7c19(0x12b)){const {historyId:_0x5aa0a9,rating:_0x1ad606,comment:_0x431143,alertReason:_0x5ac25d}=_0x5e75eb['message'];_0x5aa0a9&&_0x1ad606?(await saveFeedback(this,{'timestamp':Date[_0x5e7c19(0xec)](),'historyId':_0x5aa0a9,'rating':_0x1ad606,'comment':_0x431143,'alertReason':_0x5ac25d}),this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb['command'],{'success':!![]},_0x5e75eb['callback'])):this[_0x5e7c19(0x19e)](_0x5e75eb[_0x5e7c19(0xbc)],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':![],'error':_0x5e7c19(0x10c)},_0x5e75eb['callback']);}else _0x5e75eb[_0x5e7c19(0x1cd)]===_0x5e7c19(0x149)&&(this['log'][_0x5e7c19(0x22f)](_0x5e7c19(0x214)),await this[_0x5e7c19(0x17e)](_0x5e7c19(0xc1),{'val':![],'ack':!![]}),await this[_0x5e7c19(0x17e)](_0x5e7c19(0x1b5),{'val':'','ack':!![]}),this[_0x5e7c19(0x19e)](_0x5e75eb['from'],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':!![]},_0x5e75eb['callback']));}}}}}}}}}catch(_0x4fa3f7){this['log'][_0x5e7c19(0x1f4)](_0x5e7c19(0x7b)+_0x5e75eb['command']+':\x20'+_0x4fa3f7['message']);if(_0x5e75eb['callback'])this[_0x5e7c19(0x19e)](_0x5e75eb['from'],_0x5e75eb[_0x5e7c19(0x1cd)],{'success':![],'error':_0x4fa3f7['message']},_0x5e75eb[_0x5e7c19(0x215)]);}}}if(require[a0_0x34f28f(0x172)]!==module)module['exports']=_0x3a13a0=>new CogniLiving(_0x3a13a0);else new CogniLiving();