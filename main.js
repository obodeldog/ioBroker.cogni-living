const a0_0x449c9e=a0_0x2fde;(function(_0x47d9c3,_0x37a490){const _0x26750f=a0_0x2fde,_0x3280ad=_0x47d9c3();while(!![]){try{const _0x45f8a1=parseInt(_0x26750f(0x19b))/0x1*(parseInt(_0x26750f(0x160))/0x2)+parseInt(_0x26750f(0xcb))/0x3*(parseInt(_0x26750f(0x13e))/0x4)+-parseInt(_0x26750f(0x16d))/0x5+-parseInt(_0x26750f(0x10f))/0x6*(-parseInt(_0x26750f(0x1a4))/0x7)+parseInt(_0x26750f(0x98))/0x8+-parseInt(_0x26750f(0x147))/0x9+parseInt(_0x26750f(0xc0))/0xa;if(_0x45f8a1===_0x37a490)break;else _0x3280ad['push'](_0x3280ad['shift']());}catch(_0x15be1d){_0x3280ad['push'](_0x3280ad['shift']());}}}(a0_0x4cf1,0x7034b));const a0_0x562ef7=(function(){let _0x429869=!![];return function(_0x4b4903,_0x559edf){const _0x28df0a=_0x429869?function(){const _0x532f00=a0_0x2fde;if(_0x559edf){const _0x3b3075=_0x559edf[_0x532f00(0xd4)](_0x4b4903,arguments);return _0x559edf=null,_0x3b3075;}}:function(){};return _0x429869=![],_0x28df0a;};}()),a0_0x2f1dfc=a0_0x562ef7(this,function(){const _0x56efb5=a0_0x2fde;return a0_0x2f1dfc[_0x56efb5(0x158)]()['search'](_0x56efb5(0xbe))[_0x56efb5(0x158)]()[_0x56efb5(0x127)](a0_0x2f1dfc)[_0x56efb5(0x148)](_0x56efb5(0xbe));});a0_0x2f1dfc();function a0_0x4cf1(){const _0x2578e1=['split','subscribeStates','createDailyDigest','\x20opened.\x20Peak\x20Pressure:\x20','PREDICT_ENERGY','analysis.topology.structure','analysis.automation.triggerAction','sunny','2djNXbT','analysis.training.triggerEnergy','Memory\x20Hydration\x20Failed:\x20','TRAIN_COMFORT','notifyPushoverEnabled','checkAndInstall','executeAutomationAction','TRAIN_HEALTH','Standard','63WCPMQH','triggerDailyDigest','analysis.security.learningStatus','monitorEnforcements','onUnload','calendarInstance','abortExitTimer','find','INTERNAL','analysis.automation.description','onReady','some','SET_TOPOLOGY','./lib/dead_man','analysis.automation.targetValue','updateSchedulePreview','Sec-Training\x20started...','security.alarm_triggered','_calName','startService','modeResetJob','scores','presenceDevices','infrasoundThreshold','Graph-Brain\x20Train\x20Error:\x20','notifyTelegramEnabled','devices','getMinutes','analysis.health.gaitSensors','sensorLastValues','Guest\x20Mode','getState','dailyDigests','toLocaleDateString','Active\x20Calendar\x20Enforcements\x20(Locks)','sources','manual','currentSystemMode','Test','times','analysis.training.triggerSecurity','analysis.training.status','system.adapter.','isArray','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','Unknown','values','reed','pop','namespace','triggerInfrasoundCorrelation','forecast.current.weather','magnet','door','message','analysis.security.infrasoundLog','trackerEnabled','Aktiv\x20(','testContext','lastTrackerEventTime','triggerGaitAnalysis','enum.rooms.*','location','subscribeForeignStatesAsync','accuweather.0','SYSTEM_MODES','checkSolarCondition','name','dependencyInstallInProgress','[Forensics]\x20Infrasound\x20Event\x20correlated:\x20','rawEventLog','forEach','appendToLog','1348520GFrNEZ','Key\x20not\x20found\x20or\x20not\x20provided','./lib/setup','analysis.energy.insulationScore','getForeignStateAsync','info','NextHours.Location_1.Day_1.current.symbol_desc','{\x22default\x22:\x2021}','Simulation\x20durch\x20Admin\x20(Test)','driftAnalysisTimer','SET_LEARNING_MODE','analysis.activity.roomStats','getCalendarNames','LTM.triggerDailyDigest','\x20rooms.','error','analysis.prediction.trackerTopRoom','send','triggerEnergyPrediction','startSystem','text','today','exports','infrasoundSensorId','moduleComfort','cogni-living\x20adapter\x20starting\x20(v','TRAIN_SECURITY','Warm-Up\x20Target\x20Temps\x20(JSON)','toLowerCase','analysis.health.gaitDebug','ALARM','sensor.window','LTM.dailyDigests','minutes_safe','./lib/topology','runAutopilot','memoryCache','callback','(((.+)+)+)+$','runPythonHealthCheck','5412620ANCGWV','bind','unshift','setupDriftAnalysisScheduler','geminiModel','now','setPresence','handleInfrasound','analysis.energy.rlPenalties','party','onStateChange','1407AmPdxQ','healthTrendInterval','[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]','notifyTelegramInstance','analysis.trigger','eventHistory','lastAlertState','toFixed','resetRLPenalty','apply','./lib/python_bridge','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','ltmJob','analysis.automation.patternDetected','\x20hPa\x20(Threshold:\x20','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','checkWifiPresence','Kein\x20API\x20Key\x20Ã¼bergeben','\x20min\x20ausbleiben.','useWeather','[Calibration]\x20Window\x20','temperature','fill','heiter','Keine\x20Antwort\x20von\x20Gemini','common','automation.triggerAction','getHours','response','clear','Verbunden','analysis.energy.warmupTargets','from','includes','protectAiMemory','Nuukanni\x20Security','cogni-living','roomIntegratorTimer','Fehler:\x20','abs','thermostat','.data.table','[Integrator]\x20Error:\x20','entries','system.mode','pressureBuffer','triggerBriefing','testApiKey','systemConfig','simulateButler','log','object','online','CALIB','getForeignObjectAsync','stringify','timestamp','type','./lib/automation','keys','yesterday','analysis.health.todayVector','filter','length','updateTopology','analysis.energy.warmupTimes','briefingJob','@google/generative-ai','57864PohbgM','moduleSecurity','cleanupGhostInterventions','dismissAutomation','infrasoundEnabled','open','stateChange','Init...','setStateAsync','trackerHeartbeat','isPresent','runGeminiAnalysis','analysisInterval','json','sonn','exitTimer','updated','Notification\x20Test\x20Failed:\x20','calendarName','main','weatherunderground.0','minDaysForBaseline','generateContent','slice','constructor','./lib/recorder','VACATION','Daten\x20nicht\x20verfÃ¼gbar','getStateAsync','NORMAL','daswetter.0','getForeignObjectsAsync','window','checkLicense','setupBriefingScheduler','@iobroker/adapter-core','analysis.energy.ventilationAlerts','Fenster\x20geÃ¶ffnet:\x20','isSolar','analyzeWindowOpening','genAI','PINN\x20AI\x20Forecast','updateTopologyMatrix','endsWith','analysis.automation.autoApply','analysis.training.triggerTopology','ack','136fSQqrT','key','getEnums','analysis.training.triggerComfort','sendTo','checkCalendarTriggers','enum.functions.*','processSensorEvent','loadSystemMode','6245244iaoQpu','search','initSystemConfig','isProVersion','version','cancel','Gesendet','LTM.trainingData.thermodynamics','TRAIN_TOPOLOGY','join','Could\x20not\x20read\x20daily\x20vector:\x20','string','infrasoundLocked','Heizung\x20kann\x20','Room\x20Dwell\x20Time\x20Stats\x20(Today/Yesterday)','./lib/ai_agent','integrateRoomTime','toString','guest','./lib/scheduler','Instanz\x20nicht\x20gefunden','sort','role','inactivityThresholdHours','models/gemini-flash-latest','683890COCqyM','parse','sensor.door','moduleEnergy','setupModeResetScheduler','Forensic\x20Infrasound\x20Log','config','analysisTimer','command','add','createAllObjects','unload','getTime','1714740uPdjTh','ANALYZE_GAIT','apiKey','notifyPushoverInstance','push','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','.communicate.request','Daily\x20Activity\x20Vector\x20(24h)','number','analysis.training.triggerHealth','.system.mode','setState','LTM.trainingData.sequences','Sensors\x20used\x20for\x20Gait\x20Analysis','floor','warn','analysis.health.activityTrend','analysis.automation.targetId','klar','onMessage','LTM.rawEventLog','Reinforcement\x20Learning\x20Penalties','val','checkThermostats','ðŸ§ \x20Memory:\x20Cache\x20hydrated\x20with\x20','sendNotification','Active\x20Ventilation\x20Alerts','state','enum','bootTime','infrasoundArmingId','date','analysis.energy.warmupSources','setObjectNotExistsAsync','setupLtmScheduler','system.presenceWho','moduleHealth','analysis.prediction.trackerConfidence'];a0_0x4cf1=function(){return _0x2578e1;};return a0_0x4cf1();}'use strict';const utils=require(a0_0x449c9e(0x132)),{GoogleGenerativeAI}=require(a0_0x449c9e(0x10e)),installer=require('./lib/installer'),scanner=require('./lib/scanner'),schedulers=require(a0_0x449c9e(0x15a)),topology=require(a0_0x449c9e(0xba)),setup=require(a0_0x449c9e(0x9a)),recorder=require(a0_0x449c9e(0x128)),pythonBridge=require(a0_0x449c9e(0xd5)),aiAgent=require(a0_0x449c9e(0x156)),deadMan=require(a0_0x449c9e(0x1b1)),automation=require(a0_0x449c9e(0x105)),GEMINI_MODEL=a0_0x449c9e(0x15f);function a0_0x2fde(_0xdbdfc5,_0x55407c){const _0x2a7405=a0_0x4cf1();return a0_0x2fde=function(_0x2f1dfc,_0x562ef7){_0x2f1dfc=_0x2f1dfc-0x68;let _0x4cf19f=_0x2a7405[_0x2f1dfc];return _0x4cf19f;},a0_0x2fde(_0xdbdfc5,_0x55407c);}class CogniLiving extends utils['Adapter']{constructor(_0xb677b4){const _0x1b3dbf=a0_0x449c9e;super({..._0xb677b4,'name':_0x1b3dbf(0xef)}),this[_0x1b3dbf(0xd0)]=[],this['analysisHistory']=[],this[_0x1b3dbf(0x95)]=[],this[_0x1b3dbf(0x6f)]=[],this[_0x1b3dbf(0x6c)]={},this[_0x1b3dbf(0xfb)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x1b3dbf(0x119)]=!![],this[_0x1b3dbf(0x11e)]=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this[_0x1b3dbf(0x137)]=null,this[_0x1b3dbf(0xc4)]=null,this[_0x1b3dbf(0x74)]=setup[_0x1b3dbf(0x90)][_0x1b3dbf(0x12c)],this[_0x1b3dbf(0x14a)]=![],this[_0x1b3dbf(0xd1)]=![],this[_0x1b3dbf(0x167)]=null,this[_0x1b3dbf(0xd7)]=null,this['modeResetJob']=null,this[_0x1b3dbf(0xa1)]=null,this[_0x1b3dbf(0x10d)]=null,this[_0x1b3dbf(0x118)]=null,this['healthTrendInterval']=null,this[_0x1b3dbf(0xf0)]=null,this['dependencyInstallInProgress']=![],this[_0x1b3dbf(0x8a)]=Date['now'](),this[_0x1b3dbf(0xbc)]=null,this['bootTime']=Date[_0x1b3dbf(0xc5)](),this['infrasoundLocked']=![],this[_0x1b3dbf(0xf8)]=[],this['on']('ready',this[_0x1b3dbf(0x1ae)][_0x1b3dbf(0xc1)](this)),this['on'](_0x1b3dbf(0x115),this['onStateChange']['bind'](this)),this['on'](_0x1b3dbf(0x16b),this[_0x1b3dbf(0x1a8)][_0x1b3dbf(0xc1)](this)),this['on'](_0x1b3dbf(0x85),this[_0x1b3dbf(0x180)][_0x1b3dbf(0xc1)](this));}async[a0_0x449c9e(0x1ae)](){const _0x25acaa=a0_0x449c9e;this[_0x25acaa(0xfd)]['info'](_0x25acaa(0xb1)+this[_0x25acaa(0x14b)]+')\x20-\x20Phase\x20E\x20(UX\x20&\x20AAL)');if(!installer[_0x25acaa(0x1a0)](this,()=>this['startSystem']()))return;}async[a0_0x449c9e(0xab)](){const _0x5efec2=a0_0x449c9e;await setup['initZombies'](this);try{this['isProVersion']=await setup[_0x5efec2(0x130)](this[_0x5efec2(0x166)]['licenseKey']);}catch(_0x4e1332){}if(!this[_0x5efec2(0x166)][_0x5efec2(0x15e)]||this['config'][_0x5efec2(0x15e)]<0.1)this['config'][_0x5efec2(0x15e)]=0xc;if(this[_0x5efec2(0x166)][_0x5efec2(0x191)]===undefined)this[_0x5efec2(0x166)][_0x5efec2(0x191)]=!![];if(this['config'][_0x5efec2(0x110)]===undefined)this[_0x5efec2(0x166)][_0x5efec2(0x110)]=!![];if(this[_0x5efec2(0x166)][_0x5efec2(0x163)]===undefined)this[_0x5efec2(0x166)][_0x5efec2(0x163)]=!![];if(this['config'][_0x5efec2(0xb0)]===undefined)this[_0x5efec2(0x166)][_0x5efec2(0xb0)]=!![];await setup['initHistory'](this),await setup[_0x5efec2(0x149)](this);try{const _0x1df28d=await this['getStateAsync']('analysis.energy.warmupTimes'),_0x1a8bed=await this[_0x5efec2(0x12b)](_0x5efec2(0x18d));_0x1df28d&&_0x1df28d[_0x5efec2(0x183)]&&_0x1a8bed&&_0x1a8bed['val']&&(Date[_0x5efec2(0xc5)]()-_0x1df28d['ts']<0x4*0xe10*0x3e8&&(this[_0x5efec2(0xbc)]={'times':JSON[_0x5efec2(0x161)](_0x1df28d[_0x5efec2(0x183)]),'sources':JSON[_0x5efec2(0x161)](_0x1a8bed[_0x5efec2(0x183)])},this[_0x5efec2(0xfd)][_0x5efec2(0x9d)](_0x5efec2(0x185)+Object[_0x5efec2(0x106)](this[_0x5efec2(0xbc)][_0x5efec2(0x76)])['length']+_0x5efec2(0xa6))));}catch(_0x544db7){this['log'][_0x5efec2(0x17c)](_0x5efec2(0x19d)+_0x544db7['message']);}if(this['config']['geminiApiKey'])try{this[_0x5efec2(0x137)]=new GoogleGenerativeAI(this[_0x5efec2(0x166)]['geminiApiKey']),this[_0x5efec2(0xc4)]=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}});}catch(_0x30ead4){this[_0x5efec2(0xfd)]['error']('Gemini\x20Init\x20Error:\x20'+_0x30ead4[_0x5efec2(0x85)]);}await setup[_0x5efec2(0x16a)](this),await this[_0x5efec2(0x146)](),await this[_0x5efec2(0x18e)](_0x5efec2(0xa3),{'type':_0x5efec2(0x188),'common':{'name':_0x5efec2(0x155),'type':_0x5efec2(0x152),'role':_0x5efec2(0x11c),'read':!![],'write':![],'def':_0x5efec2(0xda)},'native':{}}),await this[_0x5efec2(0x18e)]('analysis.energy.pinnForecast',{'type':'state','common':{'name':_0x5efec2(0x138),'type':'string','role':_0x5efec2(0x11c),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x5efec2(0x133),{'type':_0x5efec2(0x188),'common':{'name':_0x5efec2(0x187),'type':_0x5efec2(0x152),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x5efec2(0x18e)](_0x5efec2(0x10c),{'type':'state','common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':_0x5efec2(0x152),'role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x5efec2(0xea),{'type':_0x5efec2(0x188),'common':{'name':_0x5efec2(0xb3),'type':'string','role':_0x5efec2(0x11c),'read':!![],'write':!![],'def':_0x5efec2(0x9f)},'native':{}}),await this[_0x5efec2(0x18e)](_0x5efec2(0xc8),{'type':_0x5efec2(0x188),'common':{'name':_0x5efec2(0x182),'type':_0x5efec2(0x152),'role':'json','read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x5efec2(0x18e)](_0x5efec2(0x17d),{'type':_0x5efec2(0x188),'common':{'name':'General\x20Activity\x20Trend\x20(%)','type':_0x5efec2(0x175),'role':'value','unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x5efec2(0x18e)](_0x5efec2(0x6b),{'type':_0x5efec2(0x188),'common':{'name':_0x5efec2(0x17a),'type':_0x5efec2(0x152),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x5efec2(0x18e)]('analysis.energy.activeEnforcements',{'type':_0x5efec2(0x188),'common':{'name':_0x5efec2(0x71),'type':_0x5efec2(0x152),'role':_0x5efec2(0x11c),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync']('analysis.security.infrasoundLog',{'type':_0x5efec2(0x188),'common':{'name':_0x5efec2(0x165),'type':_0x5efec2(0x152),'role':_0x5efec2(0x11c),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x5efec2(0x18e)](_0x5efec2(0xb5),{'type':'state','common':{'name':'Gait\x20Speed\x20Calculation\x20Proof','type':'string','role':_0x5efec2(0xac),'read':!![],'write':![]},'native':{}}),await this[_0x5efec2(0x18e)](_0x5efec2(0x108),{'type':_0x5efec2(0x188),'common':{'name':_0x5efec2(0x174),'type':'string','role':'json','read':!![],'write':![],'def':_0x5efec2(0xcd)},'native':{}});try{const _0x144f1d=await this[_0x5efec2(0x12b)](_0x5efec2(0x181));if(_0x144f1d&&_0x144f1d[_0x5efec2(0x183)])this[_0x5efec2(0x95)]=JSON[_0x5efec2(0x161)](_0x144f1d['val']);}catch(_0x880bc7){this[_0x5efec2(0x95)]=[];}try{const _0x36c43b=await this[_0x5efec2(0x12b)](_0x5efec2(0xb8));if(_0x36c43b&&_0x36c43b[_0x5efec2(0x183)])this['dailyDigests']=JSON['parse'](_0x36c43b[_0x5efec2(0x183)]);}catch(_0x7c2e6c){this[_0x5efec2(0x6f)]=[];}const _0x36ec2c=this['dailyDigests'][_0x5efec2(0x10a)]>=(this['config'][_0x5efec2(0x124)]||0x7)?_0x5efec2(0x88)+this[_0x5efec2(0x6f)][_0x5efec2(0x10a)]+'\x20Tage)':'Lernphase\x20('+this[_0x5efec2(0x6f)]['length']+'/'+(this['config'][_0x5efec2(0x124)]||0x7)+')';await this['setStateAsync']('LTM.baselineStatus',{'val':_0x36ec2c,'ack':!![]}),this[_0x5efec2(0x194)]('analysis.trigger'),this[_0x5efec2(0x194)](_0x5efec2(0xa5)),this[_0x5efec2(0x194)](_0x5efec2(0xf7)),this[_0x5efec2(0x194)]('analysis.triggerBriefing'),this[_0x5efec2(0x194)](_0x5efec2(0x199)),this['subscribeStates'](_0x5efec2(0x13b)),this[_0x5efec2(0x194)]('analysis.training.triggerSecurity'),this[_0x5efec2(0x194)](_0x5efec2(0x176)),this['subscribeStates'](_0x5efec2(0x19c)),this[_0x5efec2(0x194)](_0x5efec2(0x141)),this[_0x5efec2(0x194)](_0x5efec2(0x13c)),this[_0x5efec2(0x194)]('analysis.energy.mpcActive'),this['subscribeStates'](_0x5efec2(0x18d)),this[_0x5efec2(0x194)](_0x5efec2(0x10c));this[_0x5efec2(0x166)][_0x5efec2(0x113)]&&this[_0x5efec2(0x166)][_0x5efec2(0xaf)]&&this['subscribeForeignStates'](this['config']['infrasoundSensorId']);const _0x13ffdc=this[_0x5efec2(0x166)][_0x5efec2(0x69)];if(_0x13ffdc)for(const _0x2b5b20 of _0x13ffdc){await this[_0x5efec2(0x8e)](_0x2b5b20['id']);}const _0x39d7e0=this[_0x5efec2(0x166)][_0x5efec2(0x1ba)];if(_0x39d7e0)for(const _0x10fc93 of _0x39d7e0){await this[_0x5efec2(0x8e)](_0x10fc93);}if(this[_0x5efec2(0x166)][_0x5efec2(0x68)]&&this[_0x5efec2(0x166)][_0x5efec2(0xce)])await this[_0x5efec2(0x8e)](this[_0x5efec2(0x166)]['notifyTelegramInstance']+_0x5efec2(0x173));setTimeout(()=>this[_0x5efec2(0xdb)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x5efec2(0x167)]);const _0x4ae6ad=this['config'][_0x5efec2(0x11b)]||0xf;_0x4ae6ad>0x0&&(this[_0x5efec2(0x167)]=setInterval(()=>{const _0x11e000=_0x5efec2;this[_0x11e000(0xbb)](),this['config'][_0x11e000(0x163)]!==![]&&automation['monitorEnforcements'](this);},_0x4ae6ad*0x3c*0x3e8));setTimeout(()=>{const _0x7f7c66=_0x5efec2;this[_0x7f7c66(0x166)][_0x7f7c66(0x163)]!==![]&&(automation[_0x7f7c66(0x143)](this),automation[_0x7f7c66(0x1a7)](this));},0x2710);this[_0x5efec2(0x166)][_0x5efec2(0x87)]!==![]&&(this[_0x5efec2(0x118)]=setInterval(()=>{const _0x3aad69=_0x5efec2;if(this[_0x3aad69(0x14a)]){const _0x527343=Date[_0x3aad69(0xc5)](),_0x164724=this[_0x3aad69(0x8a)]||_0x527343,_0x211043=(_0x527343-_0x164724)/0x3e8;_0x211043>0x2&&(this['lastTrackerEventTime']=_0x527343,pythonBridge[_0x3aad69(0xa9)](this,'TRACK_EVENT',{'room':null,'dt':_0x211043}));}},0xbb8));if(this[_0x5efec2(0xf0)])clearInterval(this[_0x5efec2(0xf0)]);this[_0x5efec2(0x157)](),this[_0x5efec2(0xf0)]=setInterval(async()=>{const _0x3e719c=_0x5efec2;await this[_0x3e719c(0x157)]();},0x3c*0x3e8);if(this[_0x5efec2(0xcc)])clearInterval(this[_0x5efec2(0xcc)]);this[_0x5efec2(0xcc)]=setInterval(()=>{const _0xcbec2b=_0x5efec2;this[_0xcbec2b(0x14a)]&&this[_0xcbec2b(0x166)]['moduleHealth']!==![]&&this[_0xcbec2b(0xbf)]();},0x4*0x3c*0x3c*0x3e8),schedulers[_0x5efec2(0x18f)](this,()=>aiAgent[_0x5efec2(0x195)](this,pythonBridge)),schedulers[_0x5efec2(0x164)](this),schedulers[_0x5efec2(0xc3)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x5efec2(0x131)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x5efec2(0x1b7)](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x3b9c8d=_0x5efec2;await topology['updateTopology'](this);try{const _0xa22811=await this['getStateAsync'](_0x3b9c8d(0x198));if(_0xa22811&&_0xa22811['val'])pythonBridge[_0x3b9c8d(0xa9)](this,_0x3b9c8d(0x1b0),JSON['parse'](_0xa22811['val']));}catch(_0x3ad8f0){}this[_0x3b9c8d(0x166)][_0x3b9c8d(0x191)]!==![]&&(this[_0x3b9c8d(0xbf)](),this['triggerGaitAnalysis']()),this[_0x3b9c8d(0xaa)](),this['updateHealthVector']();},0x1388);}[a0_0x449c9e(0x1a8)](_0xb316d0){const _0x293dd9=a0_0x449c9e;if(this[_0x293dd9(0x167)])clearInterval(this[_0x293dd9(0x167)]);if(this[_0x293dd9(0xa1)])clearInterval(this[_0x293dd9(0xa1)]);if(this['trackerHeartbeat'])clearInterval(this[_0x293dd9(0x118)]);if(this['healthTrendInterval'])clearInterval(this[_0x293dd9(0xcc)]);if(this['roomIntegratorTimer'])clearInterval(this[_0x293dd9(0xf0)]);if(this[_0x293dd9(0xd7)])this['ltmJob']['cancel']();if(this[_0x293dd9(0x1b8)])this[_0x293dd9(0x1b8)][_0x293dd9(0x14c)]();if(this['briefingJob'])this['briefingJob']['cancel']();recorder[_0x293dd9(0x1aa)](this),pythonBridge['stopService'](this),_0xb316d0();}async[a0_0x449c9e(0x157)](){const _0x2981e8=a0_0x449c9e;if(!this[_0x2981e8(0x119)])return;try{let _0x57c1fa=null;try{const _0x4cd6c1=await this[_0x2981e8(0x12b)](_0x2981e8(0xa8)),_0x2ac5a3=await this['getStateAsync'](_0x2981e8(0x192));_0x4cd6c1&&_0x4cd6c1['val']&&_0x2ac5a3&&_0x2ac5a3['val']&&_0x2ac5a3['val']>0.3&&(_0x57c1fa=_0x4cd6c1[_0x2981e8(0x183)]);}catch(_0x2459fc){}if(!_0x57c1fa||_0x57c1fa===_0x2981e8(0x7c)||_0x57c1fa===_0x2981e8(0x116))return;const _0x1edebc='analysis.activity.roomStats',_0x17098e=await this[_0x2981e8(0x12b)](_0x1edebc);let _0x425f99={'today':{},'yesterday':{},'date':new Date()[_0x2981e8(0x70)]()};if(_0x17098e&&_0x17098e[_0x2981e8(0x183)])try{_0x425f99=JSON['parse'](_0x17098e[_0x2981e8(0x183)]);}catch(_0x49f85e){}if(!_0x425f99['today'])_0x425f99[_0x2981e8(0xad)]={};if(!_0x425f99['yesterday'])_0x425f99['yesterday']={};const _0x426ab2=new Date()['toLocaleDateString']();_0x425f99[_0x2981e8(0x18c)]!==_0x426ab2&&(this[_0x2981e8(0xfd)][_0x2981e8(0x9d)]('ðŸ“…\x20Midnight\x20Reset:\x20Archiving\x20Room\x20Stats\x20(Yesterday\x20<-\x20Today).'),_0x425f99[_0x2981e8(0x107)]=_0x425f99['today']||{},_0x425f99['today']={},_0x425f99[_0x2981e8(0x18c)]=_0x426ab2);if(!_0x425f99[_0x2981e8(0xad)][_0x57c1fa])_0x425f99[_0x2981e8(0xad)][_0x57c1fa]=0x0;_0x425f99[_0x2981e8(0xad)][_0x57c1fa]++,await this[_0x2981e8(0x117)](_0x1edebc,{'val':JSON[_0x2981e8(0x102)](_0x425f99),'ack':!![]});}catch(_0x241202){this['log'][_0x2981e8(0x17c)](_0x2981e8(0xf5)+_0x241202[_0x2981e8(0x85)]);}}[a0_0x449c9e(0xbf)](){const _0x3d8a29=a0_0x449c9e;if(!this['isProVersion'])return;this[_0x3d8a29(0x6e)](_0x3d8a29(0xb8),(_0x1dba62,_0x2a5409)=>{const _0x1e8851=_0x3d8a29;if(_0x2a5409&&_0x2a5409[_0x1e8851(0x183)])try{const _0x39f200=JSON[_0x1e8851(0x161)](_0x2a5409[_0x1e8851(0x183)]);_0x39f200[_0x1e8851(0x10a)]>0x0&&pythonBridge[_0x1e8851(0xa9)](this,'ANALYZE_HEALTH',{'digest':_0x39f200[0x0]});}catch(_0x561ad2){this[_0x1e8851(0xfd)][_0x1e8851(0x17c)]('[Health]\x20Error\x20parsing\x20digests\x20for\x20check:\x20'+_0x561ad2[_0x1e8851(0x85)]);}});}async[a0_0x449c9e(0xca)](_0x176e3e,_0x28ee85){const _0x1018bd=a0_0x449c9e;if(!_0x28ee85||this[_0x1018bd(0x93)])return;if(_0x176e3e[_0x1018bd(0xec)]('telegram')&&_0x176e3e[_0x1018bd(0x13a)]('communicate.request')&&_0x28ee85[_0x1018bd(0x183)])return;if(this[_0x1018bd(0x166)]['infrasoundEnabled']&&_0x176e3e===this[_0x1018bd(0x166)][_0x1018bd(0xaf)]){this[_0x1018bd(0xc7)](_0x28ee85[_0x1018bd(0x183)]);return;}if(_0x176e3e===this[_0x1018bd(0x80)]+_0x1018bd(0x177)){if(_0x28ee85[_0x1018bd(0x183)]&&Object[_0x1018bd(0x7d)](setup[_0x1018bd(0x90)])[_0x1018bd(0xec)](_0x28ee85['val'])){this[_0x1018bd(0x74)]=_0x28ee85[_0x1018bd(0x183)];if(_0x28ee85[_0x1018bd(0x183)]===setup[_0x1018bd(0x90)][_0x1018bd(0x129)])await recorder[_0x1018bd(0xc6)](this,![]);else await recorder[_0x1018bd(0xc6)](this,!![]);if(this[_0x1018bd(0x14a)]){let _0xd3b4af=![],_0x3e3b29=0x0,_0x4f1699=_0x1018bd(0x73);if(this['currentSystemMode']===_0x1018bd(0xc9))_0xd3b4af=!![],_0x3e3b29=0x168,_0x4f1699='Party\x20Mode';else this['currentSystemMode']===_0x1018bd(0x159)&&(_0xd3b4af=!![],_0x3e3b29=0x5a0,_0x4f1699=_0x1018bd(0x6d));pythonBridge[_0x1018bd(0xa9)](this,_0x1018bd(0xa2),{'active':_0xd3b4af,'duration':_0x3e3b29,'label':_0x4f1699}),await this[_0x1018bd(0x117)](_0x1018bd(0x1a6),{'val':JSON[_0x1018bd(0x102)]({'active':_0xd3b4af,'label':_0x4f1699,'timestamp':Date['now']()}),'ack':!![]});}}if(!_0x28ee85['ack'])this['setState'](_0x176e3e,{'val':this[_0x1018bd(0x74)],'ack':!![]});return;}_0x176e3e[_0x1018bd(0x13a)]('analysis.energy.warmupSources')&&_0x28ee85[_0x1018bd(0x13d)]&&this[_0x1018bd(0xed)](_0x28ee85[_0x1018bd(0x183)]);_0x176e3e[_0x1018bd(0x13a)](_0x1018bd(0x10c))&&_0x28ee85[_0x1018bd(0x13d)]&&(this['config'][_0x1018bd(0x163)]!==![]&&automation[_0x1018bd(0x143)](this));if(!_0x28ee85[_0x1018bd(0x13d)]){if(_0x176e3e[_0x1018bd(0xec)](_0x1018bd(0xcf))&&_0x28ee85[_0x1018bd(0x183)]){this[_0x1018bd(0x178)](_0x176e3e,{'val':![],'ack':!![]}),aiAgent[_0x1018bd(0x11a)](this);return;}if(_0x176e3e['includes'](_0x1018bd(0x1a5))&&_0x28ee85[_0x1018bd(0x183)]){this['setState'](_0x176e3e,{'val':![],'ack':!![]});if(this[_0x1018bd(0x14a)])aiAgent[_0x1018bd(0x195)](this,pythonBridge);return;}if(_0x176e3e['includes'](_0x1018bd(0xf9))&&_0x28ee85[_0x1018bd(0x183)]){this[_0x1018bd(0x178)](_0x176e3e,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0x176e3e[_0x1018bd(0xec)](_0x1018bd(0xe5))&&_0x28ee85[_0x1018bd(0x183)]){this['setState'](_0x176e3e,{'val':![],'ack':!![]}),aiAgent[_0x1018bd(0x1a1)](this);return;}if(_0x176e3e[_0x1018bd(0xec)](_0x1018bd(0x77))&&_0x28ee85[_0x1018bd(0x183)]){this[_0x1018bd(0x178)](_0x176e3e,{'val':![],'ack':!![]});if(this[_0x1018bd(0x166)][_0x1018bd(0x110)]===![])return;if(this[_0x1018bd(0x14a)])try{const _0x3165ac=await this[_0x1018bd(0x12b)](_0x1018bd(0x179));if(_0x3165ac&&_0x3165ac[_0x1018bd(0x183)]){const _0xb14c1e=JSON['parse'](_0x3165ac[_0x1018bd(0x183)]);this[_0x1018bd(0x117)](_0x1018bd(0x78),{'val':_0x1018bd(0x1b4),'ack':!![]}),pythonBridge[_0x1018bd(0xa9)](this,_0x1018bd(0xb2),{'sequences':_0xb14c1e});}}catch(_0x5cc40c){}return;}if(_0x176e3e[_0x1018bd(0xec)](_0x1018bd(0x176))&&_0x28ee85[_0x1018bd(0x183)]){this[_0x1018bd(0x178)](_0x176e3e,{'val':![],'ack':!![]});if(this[_0x1018bd(0x166)][_0x1018bd(0x191)]===![])return;if(this['isProVersion'])try{const _0x127be4=await this[_0x1018bd(0x12b)](_0x1018bd(0xb8));if(_0x127be4&&_0x127be4['val'])pythonBridge['send'](this,_0x1018bd(0x1a2),{'digests':JSON[_0x1018bd(0x161)](_0x127be4[_0x1018bd(0x183)])});}catch(_0x5cade0){}return;}if(_0x176e3e[_0x1018bd(0xec)](_0x1018bd(0x19c))&&_0x28ee85[_0x1018bd(0x183)]){this['setState'](_0x176e3e,{'val':![],'ack':!![]});if(this[_0x1018bd(0x166)]['moduleEnergy']===![])return;if(this['isProVersion'])try{const _0x5d7b31=await this[_0x1018bd(0x12b)](_0x1018bd(0x14e));if(_0x5d7b31&&_0x5d7b31['val'])pythonBridge[_0x1018bd(0xa9)](this,'TRAIN_ENERGY',{'points':JSON[_0x1018bd(0x161)](_0x5d7b31[_0x1018bd(0x183)])});}catch(_0x1d6aee){}return;}if(_0x176e3e['includes'](_0x1018bd(0x141))&&_0x28ee85[_0x1018bd(0x183)]){this[_0x1018bd(0x178)](_0x176e3e,{'val':![],'ack':!![]});if(this[_0x1018bd(0x166)][_0x1018bd(0xb0)]===![])return;if(this[_0x1018bd(0x14a)])try{const _0x1287c0=await this['getStateAsync']('LTM.rawEventLog');if(_0x1287c0&&_0x1287c0['val']){const _0x14b921={};this[_0x1018bd(0x166)][_0x1018bd(0x69)]&&Array[_0x1018bd(0x7a)](this[_0x1018bd(0x166)][_0x1018bd(0x69)])&&this[_0x1018bd(0x166)][_0x1018bd(0x69)]['forEach'](_0xe31ded=>{const _0x574899=_0x1018bd;if(_0xe31ded['id']&&_0xe31ded[_0x574899(0x104)])_0x14b921[_0xe31ded['id']]=_0xe31ded[_0x574899(0x104)];}),pythonBridge[_0x1018bd(0xa9)](this,_0x1018bd(0x19e),{'events':JSON[_0x1018bd(0x161)](_0x1287c0[_0x1018bd(0x183)]),'deviceMap':_0x14b921});}}catch(_0x4b0ebf){this[_0x1018bd(0xfd)][_0x1018bd(0xa7)]('Comfort\x20Train\x20Error:\x20'+_0x4b0ebf[_0x1018bd(0x85)]);}return;}if(_0x176e3e[_0x1018bd(0xec)](_0x1018bd(0x13c))&&_0x28ee85['val']){this[_0x1018bd(0x178)](_0x176e3e,{'val':![],'ack':!![]}),topology[_0x1018bd(0x10b)](this);if(this[_0x1018bd(0x14a)])try{const _0x2875e0=await this[_0x1018bd(0x12b)](_0x1018bd(0x179));if(_0x2875e0&&_0x2875e0[_0x1018bd(0x183)]){const _0x408c7d=JSON['parse'](_0x2875e0[_0x1018bd(0x183)]);pythonBridge[_0x1018bd(0xa9)](this,_0x1018bd(0x14f),{'sequences':_0x408c7d});}}catch(_0x266b21){this[_0x1018bd(0xfd)][_0x1018bd(0xa7)](_0x1018bd(0x1bc)+_0x266b21[_0x1018bd(0x85)]);}return;}}const _0x1ac3dd=(this[_0x1018bd(0x166)][_0x1018bd(0x69)]||[])[_0x1018bd(0x1ab)](_0x290621=>_0x290621['id']===_0x176e3e);if(_0x1ac3dd){const _0x25db82=await recorder[_0x1018bd(0x145)](this,_0x176e3e,_0x28ee85,_0x1ac3dd);_0x25db82&&_0x25db82['type']==='motion'&&_0x25db82[_0x1018bd(0x8d)]&&this[_0x1018bd(0x14a)]&&(this[_0x1018bd(0x166)][_0x1018bd(0x110)]!==![]&&deadMan['updateLocation'](this,_0x25db82['location'])),_0x28ee85[_0x1018bd(0x183)]&&(_0x28ee85[_0x1018bd(0x183)]===!![]||_0x28ee85[_0x1018bd(0x183)]===0x1||String(_0x28ee85[_0x1018bd(0x183)])[_0x1018bd(0xb4)]()===_0x1018bd(0x114))&&(_0x1ac3dd['type']&&(_0x1ac3dd[_0x1018bd(0x104)][_0x1018bd(0xec)](_0x1018bd(0x12f))||_0x1ac3dd['type']['includes'](_0x1018bd(0x84))||_0x1ac3dd['type'][_0x1018bd(0xec)](_0x1018bd(0x83)))&&this[_0x1018bd(0x136)](_0x1ac3dd)),(_0x1ac3dd[_0x1018bd(0x104)]===_0x1018bd(0xe0)||_0x1ac3dd['type']===_0x1018bd(0xf3))&&(this[_0x1018bd(0x166)][_0x1018bd(0x163)]!==![]&&automation[_0x1018bd(0x111)](this));}}async[a0_0x449c9e(0xed)](_0x28f563){const _0x213ee9=a0_0x449c9e;if(!this[_0x213ee9(0xbc)]||Date[_0x213ee9(0xc5)]()-this[_0x213ee9(0x18a)]>0x493e0)return;if(!this['memoryCache'][_0x213ee9(0x72)]||!this[_0x213ee9(0xbc)]['times'])return;try{const _0x13b550=JSON[_0x213ee9(0x161)](_0x28f563),_0x156e10=this[_0x213ee9(0xbc)]['sources'];let _0x3ec7d7=![];for(const _0xf410f8 in _0x156e10){if(_0x156e10[_0xf410f8][_0x213ee9(0xec)]('AI')&&_0x13b550[_0xf410f8]&&!_0x13b550[_0xf410f8][_0x213ee9(0xec)]('AI')){_0x3ec7d7=!![];break;}}_0x3ec7d7&&(await this[_0x213ee9(0x117)](_0x213ee9(0x10c),{'val':JSON['stringify'](this[_0x213ee9(0xbc)]['times']),'ack':!![]}),await this[_0x213ee9(0x117)](_0x213ee9(0x18d),{'val':JSON[_0x213ee9(0x102)](this[_0x213ee9(0xbc)][_0x213ee9(0x72)]),'ack':!![]}));}catch(_0x7e94c1){}}async[a0_0x449c9e(0x180)](_0x25c429){const _0x97a445=a0_0x449c9e;if(typeof _0x25c429===_0x97a445(0xfe)&&_0x25c429['message']){if(_0x25c429[_0x97a445(0x168)]===_0x97a445(0x184))try{const _0x108084=await automation['scanThermostats'](this);this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![],'results':_0x108084},_0x25c429[_0x97a445(0xbd)]);}catch(_0x203388){this[_0x97a445(0x142)](_0x25c429['from'],_0x25c429[_0x97a445(0x168)],{'success':![],'error':_0x203388[_0x97a445(0x85)]},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429['command']==='getOverviewData'){const _0xaee9a6=this[_0x97a445(0x6f)][_0x97a445(0x10a)];let _0x255770=new Array(0x18)[_0x97a445(0xe1)](0x0);try{const _0x1954d9=await this[_0x97a445(0x12b)]('analysis.health.todayVector');if(_0x1954d9&&_0x1954d9[_0x97a445(0x183)])_0x255770=JSON['parse'](_0x1954d9[_0x97a445(0x183)]);else{const _0x34ed7c=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x97a445(0xd0)]&&this[_0x97a445(0xd0)]['forEach'](_0x48d607=>{const _0x38cfb2=_0x97a445;if(_0x48d607[_0x38cfb2(0x103)]>=_0x34ed7c){const _0x16a004=new Date(_0x48d607['timestamp'])[_0x38cfb2(0xe6)]();if(_0x16a004>=0x0&&_0x16a004<0x18)_0x255770[_0x16a004]++;}});}}catch(_0x111b38){this['log'][_0x97a445(0x17c)](_0x97a445(0x151)+_0x111b38[_0x97a445(0x85)]);}let _0x5b34e1={'today':{},'yesterday':{}};try{const _0x3e63fa=await this[_0x97a445(0x12b)](_0x97a445(0xa3));if(_0x3e63fa&&_0x3e63fa[_0x97a445(0x183)])_0x5b34e1=JSON[_0x97a445(0x161)](_0x3e63fa[_0x97a445(0x183)]);}catch(_0x4abfef){}let _0x4f4bf0=![],_0x248c92='',_0x307b6b='',_0x487cd6='';try{const _0x4b3e98=await this[_0x97a445(0x12b)](_0x97a445(0xd8));if(_0x4b3e98&&_0x4b3e98[_0x97a445(0x183)]){_0x4f4bf0=!![];const _0x255183=await this[_0x97a445(0x12b)]('analysis.automation.description');_0x248c92=_0x255183?_0x255183[_0x97a445(0x183)]:'';const _0x473c69=await this[_0x97a445(0x12b)](_0x97a445(0x17e));_0x307b6b=_0x473c69?_0x473c69[_0x97a445(0x183)]:'';const _0x46b532=await this[_0x97a445(0x12b)](_0x97a445(0x1b2));_0x487cd6=_0x46b532?_0x46b532[_0x97a445(0x183)]:'';}}catch(_0x4d321d){}const _0x4de956=await this[_0x97a445(0x91)](),_0x11c8dd=(this[_0x97a445(0x166)][_0x97a445(0x69)]||[])[_0x97a445(0x1af)](_0x18fe0b=>_0x18fe0b[_0x97a445(0x135)]),_0x392eb7=_0x4de956&&_0x11c8dd;let _0x38a704='';try{const _0x5b68df=await this[_0x97a445(0x12b)]('system.presenceWho');if(_0x5b68df&&_0x5b68df[_0x97a445(0x183)])_0x38a704=_0x5b68df['val'];}catch(_0x29e6ab){}this['sendTo'](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![],'eventHistory':this[_0x97a445(0xd0)][_0x97a445(0x126)](0x0,0x64),'stats':{'digestCount':_0xaee9a6,'isPresent':this[_0x97a445(0x119)],'hourlyActivity':_0x255770,'solarActive':_0x392eb7,'presenceWho':_0x38a704,'roomStats':_0x5b34e1},'automation':{'detected':_0x4f4bf0,'description':_0x248c92,'targetId':_0x307b6b,'targetValue':_0x487cd6}},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429[_0x97a445(0x168)]==='simulateEnergyMPC')try{const {current_temps:_0x315334,t_out:_0x5743e9,targets:_0x468c58,t_forecast:_0x520fa0}=_0x25c429[_0x97a445(0x85)],_0x5a025c=[];let _0xd42f19={};try{const _0x1eec63=await this[_0x97a445(0x12b)](_0x97a445(0x9b));if(_0x1eec63&&_0x1eec63['val']){const _0x31e82d=JSON[_0x97a445(0x161)](_0x1eec63[_0x97a445(0x183)]);_0xd42f19=_0x31e82d[_0x97a445(0x1b9)]||_0x31e82d;}}catch(_0x304aa5){}const _0x9f6ba0=_0x520fa0!==undefined&&_0x520fa0!==null?(_0x5743e9+_0x520fa0)/0x2:_0x5743e9;for(const [_0x288744,_0x2d1c8e]of Object[_0x97a445(0xf6)](_0x315334)){const _0xb26772=_0x468c58[_0x288744]||0x15;if(_0x2d1c8e<=_0xb26772)continue;let _0x40601b=_0xd42f19[_0x288744]||-0.5;if(_0x40601b>=0x0)_0x40601b=-0.5;const _0x34c1e0=Math[_0x97a445(0xf2)](_0x40601b),_0x341201=_0x2d1c8e-_0xb26772;let _0x5a4c49=Math[_0x97a445(0x17b)](_0x341201/_0x34c1e0*0x3c);const _0x196903=_0x2d1c8e-_0x5743e9,_0x4c56e5=_0x2d1c8e-_0x9f6ba0;if(_0x4c56e5!==0x0&&_0x196903!==0x0){const _0xa379c7=_0x196903/_0x4c56e5;_0x5a4c49=Math['floor'](_0x5a4c49*_0xa379c7);}if(_0x5a4c49>0xf){if(_0x5a4c49>0xf0)_0x5a4c49=0xf0;_0x5a025c['push']({'room':_0x288744,'minutes_safe':_0x5a4c49,'target':_0xb26772,'current':_0x2d1c8e,'savings_msg':_0x97a445(0x154)+_0x5a4c49+_0x97a445(0xdd)});}}_0x5a025c[_0x97a445(0x15c)]((_0x5e5c2d,_0xd408aa)=>_0xd408aa[_0x97a445(0xb9)]-_0x5e5c2d[_0x97a445(0xb9)]),this['sendTo'](_0x25c429['from'],_0x25c429[_0x97a445(0x168)],{'success':!![],'proposals':_0x5a025c},_0x25c429['callback']);}catch(_0x379f7d){this[_0x97a445(0x142)](_0x25c429['from'],_0x25c429['command'],{'success':![],'error':_0x379f7d[_0x97a445(0x85)]},_0x25c429['callback']);}else{if(_0x25c429[_0x97a445(0x168)]==='refreshCalendar')try{await automation[_0x97a445(0x1b3)](this),this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![]},_0x25c429['callback']);}catch(_0x4e8b6d){this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':![],'error':_0x4e8b6d[_0x97a445(0x85)]},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429[_0x97a445(0x168)]===_0x97a445(0xd3))try{const _0xd233c2=_0x25c429[_0x97a445(0x85)][_0x97a445(0x13f)],_0x1b4566='analysis.energy.rlPenalties',_0x219b43=await this[_0x97a445(0x12b)](_0x1b4566);let _0x946ce2={};if(_0x219b43&&_0x219b43['val'])try{_0x946ce2=JSON[_0x97a445(0x161)](_0x219b43[_0x97a445(0x183)]);}catch(_0x4fadad){}_0xd233c2&&_0x946ce2[_0xd233c2]?(delete _0x946ce2[_0xd233c2],await this[_0x97a445(0x117)](_0x1b4566,{'val':JSON[_0x97a445(0x102)](_0x946ce2),'ack':!![]}),this[_0x97a445(0xfd)][_0x97a445(0x9d)]('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0xd233c2+_0x97a445(0xd6)),this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429['command'],{'success':!![]},_0x25c429[_0x97a445(0xbd)])):this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':![],'error':_0x97a445(0x99)},_0x25c429['callback']);}catch(_0x3b03df){this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':![],'error':_0x3b03df[_0x97a445(0x85)]},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429[_0x97a445(0x168)]===_0x97a445(0x112))await this[_0x97a445(0x117)](_0x97a445(0xd8),{'val':![],'ack':!![]}),await this[_0x97a445(0x117)](_0x97a445(0x1ad),{'val':'','ack':!![]}),await this[_0x97a445(0x117)]('analysis.automation.targetId',{'val':'','ack':!![]}),this['sendTo'](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![]},_0x25c429[_0x97a445(0xbd)]);else{if(_0x25c429[_0x97a445(0x168)]===_0x97a445(0xfc)){const {targetId:_0x10b6db,targetValue:_0x4dea04}=_0x25c429[_0x97a445(0x85)];await this[_0x97a445(0x117)](_0x97a445(0xd8),{'val':!![],'ack':!![]}),await this[_0x97a445(0x117)](_0x97a445(0x1ad),{'val':_0x97a445(0xa0),'ack':!![]}),await this[_0x97a445(0x117)]('analysis.automation.targetId',{'val':_0x10b6db,'ack':!![]}),await this[_0x97a445(0x117)]('analysis.automation.targetValue',{'val':String(_0x4dea04),'ack':!![]}),this['sendTo'](_0x25c429[_0x97a445(0xeb)],_0x25c429['command'],{'success':!![]},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429['command']===_0x97a445(0xfa))try{const _0x1e6c1f=_0x25c429[_0x97a445(0x85)][_0x97a445(0x16f)];if(!_0x1e6c1f)throw new Error(_0x97a445(0xdc));const _0x4f8b7c=new GoogleGenerativeAI(_0x1e6c1f),_0x548873=_0x4f8b7c['getGenerativeModel']({'model':GEMINI_MODEL}),_0x19495c=await _0x548873[_0x97a445(0x125)](_0x97a445(0x75)),_0xefe342=await _0x19495c[_0x97a445(0xe7)];if(_0xefe342[_0x97a445(0xac)]())this[_0x97a445(0x142)](_0x25c429['from'],_0x25c429[_0x97a445(0x168)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x25c429[_0x97a445(0xbd)]);else throw new Error(_0x97a445(0xe3));}catch(_0x4da493){this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429['command'],{'success':![],'message':_0x4da493[_0x97a445(0x85)]},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429['command']==='scanDevices')try{const _0x104898=await scanner['scanForDevices'](this,_0x25c429[_0x97a445(0x85)]||{});this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![],'devices':_0x104898},_0x25c429[_0x97a445(0xbd)]);}catch(_0x378375){this['sendTo'](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':![],'error':_0x378375['message']},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429[_0x97a445(0x168)]===_0x97a445(0x139))try{const {matrix:_0x354b79}=_0x25c429[_0x97a445(0x85)],_0x231443=await this[_0x97a445(0x12b)]('analysis.topology.structure');if(_0x231443&&_0x231443[_0x97a445(0x183)]){const _0x1d49c4=JSON['parse'](_0x231443[_0x97a445(0x183)]);_0x1d49c4['matrix']=_0x354b79,_0x1d49c4[_0x97a445(0x11f)]=Date['now'](),await this['setStateAsync'](_0x97a445(0x198),{'val':JSON['stringify'](_0x1d49c4),'ack':!![]}),pythonBridge[_0x97a445(0xa9)](this,'SET_TOPOLOGY',_0x1d49c4);}this[_0x97a445(0x142)](_0x25c429['from'],_0x25c429[_0x97a445(0x168)],{'success':!![]},_0x25c429['callback']);}catch(_0x221f81){this[_0x97a445(0xfd)][_0x97a445(0xa7)](_0x221f81);}else{if(_0x25c429[_0x97a445(0x168)]==='getLtmData')this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![],'dailyDigests':this[_0x97a445(0x6f)]||[],'analysisHistory':this['analysisHistory']||[]},_0x25c429[_0x97a445(0xbd)]);else{if(_0x25c429['command']===_0x97a445(0x140)){const _0x31e16a=await this['getForeignObjectsAsync'](_0x97a445(0x144),'enum'),_0x3fb191=[];if(_0x31e16a)for(const _0x378ea4 in _0x31e16a){const _0xff4726=_0x31e16a[_0x378ea4],_0x4b016c=(_0xff4726['common']&&typeof _0xff4726['common'][_0x97a445(0x92)]===_0x97a445(0xfe)?_0xff4726['common'][_0x97a445(0x92)]['de']:_0xff4726['common']['name'])||_0xff4726[_0x97a445(0xe4)][_0x97a445(0x92)];_0x3fb191[_0x97a445(0x171)]({'id':_0x378ea4,'name':_0x4b016c});}const _0x593ff0=await this[_0x97a445(0x12e)](_0x97a445(0x8c),_0x97a445(0x189)),_0x3a8ea1=[];if(_0x593ff0)for(const _0x3d5b10 in _0x593ff0){const _0x5c94b3=_0x593ff0[_0x3d5b10],_0x490036=(_0x5c94b3['common']&&typeof _0x5c94b3[_0x97a445(0xe4)][_0x97a445(0x92)]===_0x97a445(0xfe)?_0x5c94b3[_0x97a445(0xe4)][_0x97a445(0x92)]['de']:_0x5c94b3['common']['name'])||_0x3d5b10[_0x97a445(0x193)]('.')[_0x97a445(0x7f)]();_0x3a8ea1[_0x97a445(0x171)](_0x490036);}this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![],'enums':_0x3fb191,'rooms':_0x3a8ea1},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429['command']===_0x97a445(0x89))try{let _0x387c0c='Kein\x20Wetter-Adapter',_0x1bf933='Kein\x20Kalender-Adapter';if(this[_0x97a445(0x166)][_0x97a445(0xde)]){const _0x2d930e=await recorder['getOutsideTemperatureNumeric'](this);_0x387c0c=_0x2d930e!==null?_0x2d930e+'Â°C':_0x97a445(0x12a);}if(this[_0x97a445(0x166)][_0x97a445(0x1a9)]){const _0x3482b2=await this[_0x97a445(0x101)](_0x97a445(0x79)+this[_0x97a445(0x166)][_0x97a445(0x1a9)]);_0x1bf933=_0x3482b2?_0x97a445(0xe9):_0x97a445(0x15b);}this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![],'weather':_0x387c0c,'calendar':_0x1bf933},_0x25c429[_0x97a445(0xbd)]);}catch(_0x3407dd){this['sendTo'](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':![],'error':_0x3407dd[_0x97a445(0x85)]},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429[_0x97a445(0x168)]===_0x97a445(0xa4))try{const _0x515e79=_0x25c429[_0x97a445(0x85)]['instance'],_0x29cf7b=await this[_0x97a445(0x9c)](_0x515e79+_0x97a445(0xf4));let _0x1d96e7=[];if(_0x29cf7b&&_0x29cf7b[_0x97a445(0x183)]){const _0x1d4c8d=JSON['parse'](_0x29cf7b['val']),_0x127518=new Set();Array['isArray'](_0x1d4c8d)&&_0x1d4c8d[_0x97a445(0x96)](_0x34eeb7=>{const _0x3e7d1c=_0x97a445;if(_0x34eeb7[_0x3e7d1c(0x1b6)])_0x127518[_0x3e7d1c(0x169)](_0x34eeb7[_0x3e7d1c(0x1b6)]);else{if(_0x34eeb7[_0x3e7d1c(0x121)])_0x127518[_0x3e7d1c(0x169)](_0x34eeb7[_0x3e7d1c(0x121)]);}}),_0x1d96e7=Array[_0x97a445(0xeb)](_0x127518)[_0x97a445(0x15c)]();}if(_0x1d96e7[_0x97a445(0x10a)]===0x0)_0x1d96e7=[_0x97a445(0x1a3)];this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![],'names':_0x1d96e7},_0x25c429[_0x97a445(0xbd)]);}catch(_0x1bdc5b){this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429['command'],{'success':![],'error':_0x1bdc5b[_0x97a445(0x85)]},_0x25c429[_0x97a445(0xbd)]);}else{if(_0x25c429[_0x97a445(0x168)]==='testNotification')try{await setup[_0x97a445(0x186)](this,_0x97a445(0x7b),![],![]),this[_0x97a445(0x142)](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':!![],'message':_0x97a445(0x14d)},_0x25c429[_0x97a445(0xbd)]);}catch(_0x58bfd0){this[_0x97a445(0xfd)][_0x97a445(0xa7)](_0x97a445(0x120)+_0x58bfd0[_0x97a445(0x85)]),this['sendTo'](_0x25c429[_0x97a445(0xeb)],_0x25c429[_0x97a445(0x168)],{'success':![],'message':_0x97a445(0xf1)+_0x58bfd0[_0x97a445(0x85)]},_0x25c429[_0x97a445(0xbd)]);}}}}}}}}}}}}}}}}}async[a0_0x449c9e(0x146)](){const _0x5bb7a6=a0_0x449c9e;try{const _0xbb8b75=await this[_0x5bb7a6(0x12b)](setup['SYSTEM_DP_MODE']);_0xbb8b75&&_0xbb8b75[_0x5bb7a6(0x183)]&&Object['values'](setup[_0x5bb7a6(0x90)])[_0x5bb7a6(0xec)](_0xbb8b75[_0x5bb7a6(0x183)])?this[_0x5bb7a6(0x74)]=_0xbb8b75['val']:(this['currentSystemMode']=setup[_0x5bb7a6(0x90)][_0x5bb7a6(0x12c)],await this[_0x5bb7a6(0x117)](setup['SYSTEM_DP_MODE'],{'val':setup['SYSTEM_MODES'][_0x5bb7a6(0x12c)],'ack':!![]}));}catch(_0x2a38fd){this[_0x5bb7a6(0x74)]=setup['SYSTEM_MODES'][_0x5bb7a6(0x12c)];}}async[a0_0x449c9e(0xdb)](){const _0x5a75a3=a0_0x449c9e;try{const _0x36d5cf=this['config'][_0x5a75a3(0x1ba)]||[];let _0x7c3857=![];const _0x2a0917=[];for(const _0x3fee5e of _0x36d5cf){try{const _0x1fb514=await this['getForeignStateAsync'](_0x3fee5e);_0x1fb514&&(_0x1fb514[_0x5a75a3(0x183)]===!![]||_0x1fb514[_0x5a75a3(0x183)]===_0x5a75a3(0xff)||_0x1fb514[_0x5a75a3(0x183)]===0x1)&&(_0x7c3857=!![],_0x2a0917[_0x5a75a3(0x171)](_0x3fee5e));}catch(_0x59726d){}}return await this[_0x5a75a3(0x117)](_0x5a75a3(0x190),{'val':_0x2a0917[_0x5a75a3(0x150)](',\x20'),'ack':!![]}),_0x7c3857&&(this['exitTimer']&&(this['log'][_0x5a75a3(0x9d)]('WiFi\x20Presence\x20detected.'),recorder[_0x5a75a3(0x1aa)](this)),!this[_0x5a75a3(0x119)]&&this['currentSystemMode']===setup[_0x5a75a3(0x90)][_0x5a75a3(0x12c)]&&await recorder['setPresence'](this,!![])),_0x7c3857;}catch(_0xe204cf){return![];}}async[a0_0x449c9e(0xbb)](){const _0x233e5e=a0_0x449c9e;this['log']['debug'](_0x233e5e(0x172)),await aiAgent[_0x233e5e(0x11a)](this),this['updateHealthVector'](),this[_0x233e5e(0x8b)](),this[_0x233e5e(0xaa)]();}async[a0_0x449c9e(0x91)](){const _0x34ba2c=a0_0x449c9e,_0x4ebbbf=[_0x34ba2c(0x123),_0x34ba2c(0x8f),_0x34ba2c(0x12d)],_0x130a11=[_0x34ba2c(0x82),'Current.WeatherText',_0x34ba2c(0x9e)];for(const _0x2ed510 of _0x4ebbbf){for(const _0x2fc1b8 of _0x130a11){try{const _0x52cc0a=_0x2ed510+'.'+_0x2fc1b8,_0x188b2c=await this['getForeignStateAsync'](_0x52cc0a);if(_0x188b2c&&_0x188b2c[_0x34ba2c(0x183)]){const _0x49c32a=String(_0x188b2c[_0x34ba2c(0x183)])[_0x34ba2c(0xb4)]();if(_0x49c32a[_0x34ba2c(0xec)](_0x34ba2c(0x11d))||_0x49c32a[_0x34ba2c(0xec)](_0x34ba2c(0x19a))||_0x49c32a['includes'](_0x34ba2c(0x17f))||_0x49c32a[_0x34ba2c(0xec)](_0x34ba2c(0xe8))||_0x49c32a[_0x34ba2c(0xec)](_0x34ba2c(0xe2)))return!![];}}catch(_0x39342b){}}}return![];}['triggerGaitAnalysis'](){const _0xcca5b7=a0_0x449c9e;if(!this[_0xcca5b7(0x14a)])return;try{this[_0xcca5b7(0x6e)](_0xcca5b7(0x179),(_0x3921db,_0x254a3f)=>{const _0xfe8dbc=_0xcca5b7;_0x254a3f&&_0x254a3f[_0xfe8dbc(0x183)]&&pythonBridge[_0xfe8dbc(0xa9)](this,_0xfe8dbc(0x16e),{'sequences':JSON['parse'](_0x254a3f['val'])});});}catch(_0x4301a){}}async[a0_0x449c9e(0xaa)](){const _0x58b0f0=a0_0x449c9e;if(!this[_0x58b0f0(0x14a)])return;try{const _0x50ba4d=await recorder['getOutsideTemperatureNumeric'](this);if(_0x50ba4d===null)return;const _0x35a8e7={},_0x2935ac={},_0x4f498f=this[_0x58b0f0(0x166)][_0x58b0f0(0x69)]||[];for(const _0x152634 of _0x4f498f){if(_0x152634[_0x58b0f0(0x104)]==='temperature'&&_0x152634['location']){const _0x571339=this['sensorLastValues'][_0x152634['id']];if(_0x571339!==undefined)_0x35a8e7[_0x152634[_0x58b0f0(0x8d)]]=_0x571339;if(_0x152634['isSolar'])_0x2935ac[_0x152634['location']]=!![];}}const _0x1aa192=await this[_0x58b0f0(0x91)]();let _0xa15ed2={};try{const _0x372ee3=await this[_0x58b0f0(0x12b)]('analysis.energy.warmupTargets');if(_0x372ee3&&_0x372ee3['val'])_0xa15ed2=JSON[_0x58b0f0(0x161)](_0x372ee3[_0x58b0f0(0x183)]);}catch(_0x1033c2){}Object[_0x58b0f0(0x106)](_0x35a8e7)[_0x58b0f0(0x10a)]>0x0&&(pythonBridge[_0x58b0f0(0xa9)](this,_0x58b0f0(0x197),{'current_temps':_0x35a8e7,'t_out':_0x50ba4d,'is_sunny':_0x1aa192,'solar_flags':_0x2935ac,'warmup_targets':_0xa15ed2}),pythonBridge[_0x58b0f0(0xa9)](this,'OPTIMIZE_ENERGY',{'current_temps':_0x35a8e7,'t_out':_0x50ba4d,'targets':{}}));}catch(_0x3da4db){}}['updateHealthVector'](){const _0x3183fa=a0_0x449c9e;if(!this[_0x3183fa(0x95)]||this[_0x3183fa(0x95)][_0x3183fa(0x10a)]===0x0)return;const _0x5a4382=new Array(0x60)[_0x3183fa(0xe1)](0x0),_0x57a91d=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x3183fa(0x95)][_0x3183fa(0x96)](_0x4b158b=>{const _0x4b30f6=_0x3183fa,_0x193b91=new Date(_0x4b158b['timestamp']);if(_0x193b91[_0x4b30f6(0x16c)]()>=_0x57a91d){const _0x2b0779=_0x193b91[_0x4b30f6(0xe6)](),_0x164f0=_0x193b91[_0x4b30f6(0x6a)](),_0xd3ddb5=_0x2b0779*0x4+Math[_0x4b30f6(0x17b)](_0x164f0/0xf);if(_0xd3ddb5>=0x0&&_0xd3ddb5<0x60)_0x5a4382[_0xd3ddb5]++;}});}async[a0_0x449c9e(0xc7)](_0x2bfde4){const _0x16ec01=a0_0x449c9e;if(_0x2bfde4==null||typeof _0x2bfde4!==_0x16ec01(0x175))return;const _0x1b4403=Date[_0x16ec01(0xc5)]();this[_0x16ec01(0xf8)][_0x16ec01(0x171)]({'ts':_0x1b4403,'val':_0x2bfde4}),this[_0x16ec01(0xf8)]=this[_0x16ec01(0xf8)]['filter'](_0x3ed95b=>_0x1b4403-_0x3ed95b['ts']<0x1388);if(this[_0x16ec01(0x153)])return;if(this[_0x16ec01(0x166)][_0x16ec01(0x18b)]){const _0x3d59e4=await this[_0x16ec01(0x9c)](this['config'][_0x16ec01(0x18b)]);if(_0x3d59e4&&!_0x3d59e4[_0x16ec01(0x183)])return;}const _0x10c1e1=this[_0x16ec01(0x166)][_0x16ec01(0x1bb)]||0.04;if(Math[_0x16ec01(0xf2)](_0x2bfde4)>=_0x10c1e1){this[_0x16ec01(0xfd)]['warn']('[Infrasound]\x20ðŸš¨\x20ALARM\x20TRIGGERED!\x20Pressure\x20Wave:\x20'+_0x2bfde4+'\x20hPa\x20(Limit:\x20'+_0x10c1e1+')'),await this[_0x16ec01(0x117)](_0x16ec01(0x1b5),{'val':!![],'ack':!![]});const _0x6889dc=this[_0x16ec01(0x119)];_0x6889dc?(this['log'][_0x16ec01(0x9d)]('[Infrasound]\x20ðŸŸ¡\x20Debug-Mode:\x20Alarm\x20detected\x20but\x20suppressed\x20because\x20presence=true.'),this['triggerInfrasoundCorrelation'](_0x2bfde4,_0x16ec01(0x1ac))):(this[_0x16ec01(0x81)](_0x2bfde4,_0x16ec01(0xb6)),this[_0x16ec01(0x186)]('ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20'+_0x2bfde4+'\x20hPa.\x20Einbruch\x20wahrscheinlich.')),this[_0x16ec01(0x153)]=!![],setTimeout(()=>{const _0x41a633=_0x16ec01;this[_0x41a633(0x153)]=![];},0x2710);}}async[a0_0x449c9e(0x81)](_0x5b2811,_0x45a64a=a0_0x449c9e(0xb6)){const _0x54391e=a0_0x449c9e,_0x334446=Date[_0x54391e(0xc5)](),_0x59790d=this[_0x54391e(0x166)][_0x54391e(0x69)]||[];setTimeout(async()=>{const _0x1daa81=_0x54391e;let _0x557c0b=null,_0x3333d2='Keine\x20Sensor-AktivitÃ¤t';const _0xc4aa53=_0x59790d[_0x1daa81(0x109)](_0x18bbe6=>_0x18bbe6[_0x1daa81(0x104)]&&(_0x18bbe6[_0x1daa81(0x104)]['includes'](_0x1daa81(0x12f))||_0x18bbe6['type'][_0x1daa81(0xec)](_0x1daa81(0x84))||_0x18bbe6[_0x1daa81(0x104)][_0x1daa81(0xec)](_0x1daa81(0x83))||_0x18bbe6[_0x1daa81(0x104)]['includes'](_0x1daa81(0x7e)))||_0x18bbe6[_0x1daa81(0x15d)]&&(_0x18bbe6[_0x1daa81(0x15d)][_0x1daa81(0xec)](_0x1daa81(0xb7))||_0x18bbe6['role'][_0x1daa81(0xec)](_0x1daa81(0x162))));for(const _0x246372 of _0xc4aa53){try{const _0x3291ef=await this[_0x1daa81(0x9c)](_0x246372['id']);if(_0x3291ef){if(_0x3291ef['ts']>=_0x334446-0x7d0){_0x557c0b=_0x246372[_0x1daa81(0x92)]||_0x246372['id'],_0x3333d2='ErklÃ¤rt\x20durch:\x20'+_0x557c0b;break;}}}catch(_0x1980a9){}}const _0x5b531b={'timestamp':_0x334446,'pressure':_0x5b2811,'isMatch':!!_0x557c0b,'explanation':_0x3333d2,'type':_0x45a64a};await this[_0x1daa81(0x97)](_0x5b531b),this[_0x1daa81(0xfd)][_0x1daa81(0x9d)](_0x1daa81(0x94)+(!!_0x557c0b?'MATCH\x20(False\x20Positive)':'ANOMALY\x20(Real\x20Threat?)'));},0x1388);}async[a0_0x449c9e(0x136)](_0x49bf32){const _0x5492b4=a0_0x449c9e,_0x2727e5=Date[_0x5492b4(0xc5)](),_0xf18510=_0x49bf32['name']||_0x49bf32['id'][_0x5492b4(0x193)]('.')['pop']();let _0x1c98bb=0x0;setTimeout(async()=>{const _0x1d811f=_0x5492b4;this[_0x1d811f(0xf8)][_0x1d811f(0x96)](_0x582641=>{const _0x25b512=_0x1d811f;_0x582641['ts']>=_0x2727e5-0xfa0&&_0x582641['ts']<=_0x2727e5+0x3e8&&(Math[_0x25b512(0xf2)](_0x582641[_0x25b512(0x183)])>Math[_0x25b512(0xf2)](_0x1c98bb)&&(_0x1c98bb=_0x582641[_0x25b512(0x183)]));});const _0x31f0f1=this['config']['infrasoundThreshold']||0.04,_0x3a5005=Math[_0x1d811f(0xf2)](_0x1c98bb)>=_0x31f0f1,_0x1b51ca={'timestamp':_0x2727e5,'pressure':_0x1c98bb,'isMatch':_0x3a5005,'explanation':_0x1d811f(0x134)+_0xf18510,'type':_0x1d811f(0x100)};await this[_0x1d811f(0x97)](_0x1b51ca),this[_0x1d811f(0xfd)]['debug'](_0x1d811f(0xdf)+_0xf18510+_0x1d811f(0x196)+_0x1c98bb[_0x1d811f(0xd2)](0x4)+_0x1d811f(0xd9)+_0x31f0f1+')');},0x1f4);}async[a0_0x449c9e(0x97)](_0x26b8f3){const _0x1d3f3c=a0_0x449c9e;try{const _0xe1d710=await this['getStateAsync'](_0x1d3f3c(0x86));let _0x2a2fd8=[];if(_0xe1d710&&_0xe1d710[_0x1d3f3c(0x183)])_0x2a2fd8=JSON[_0x1d3f3c(0x161)](_0xe1d710['val']);_0x2a2fd8[_0x1d3f3c(0xc2)](_0x26b8f3);if(_0x2a2fd8[_0x1d3f3c(0x10a)]>0x14)_0x2a2fd8=_0x2a2fd8[_0x1d3f3c(0x126)](0x0,0x14);await this[_0x1d3f3c(0x117)](_0x1d3f3c(0x86),{'val':JSON[_0x1d3f3c(0x102)](_0x2a2fd8),'ack':!![]});}catch(_0x2800b5){this['log'][_0x1d3f3c(0xa7)]('[Forensics]\x20Save\x20failed:\x20'+_0x2800b5['message']);}}['sendNotification'](_0x284c32){const _0x9894f9=a0_0x449c9e;this[_0x9894f9(0x166)][_0x9894f9(0x19f)]&&this[_0x9894f9(0x166)][_0x9894f9(0x170)]&&this[_0x9894f9(0x142)](this[_0x9894f9(0x166)][_0x9894f9(0x170)],_0x9894f9(0xa9),{'message':_0x284c32,'title':_0x9894f9(0xee),'priority':0x1}),this[_0x9894f9(0x166)][_0x9894f9(0x68)]&&this['config'][_0x9894f9(0xce)]&&this[_0x9894f9(0x142)](this['config']['notifyTelegramInstance'],_0x9894f9(0xa9),{'text':_0x284c32});}}if(require[a0_0x449c9e(0x122)]!==module)module[a0_0x449c9e(0xae)]=_0x223cf4=>new CogniLiving(_0x223cf4);else new CogniLiving();