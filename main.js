const a0_0x1f109a=a0_0x39d3;(function(_0x2f1bb3,_0x457d77){const _0x636402=a0_0x39d3,_0x4e8e44=_0x2f1bb3();while(!![]){try{const _0x289c75=parseInt(_0x636402(0x259))/0x1*(-parseInt(_0x636402(0x241))/0x2)+-parseInt(_0x636402(0x1ab))/0x3*(parseInt(_0x636402(0x254))/0x4)+parseInt(_0x636402(0x1e3))/0x5*(parseInt(_0x636402(0x1e9))/0x6)+parseInt(_0x636402(0x1f9))/0x7+parseInt(_0x636402(0x20d))/0x8+parseInt(_0x636402(0x175))/0x9+-parseInt(_0x636402(0x1bb))/0xa;if(_0x289c75===_0x457d77)break;else _0x4e8e44['push'](_0x4e8e44['shift']());}catch(_0x3b5604){_0x4e8e44['push'](_0x4e8e44['shift']());}}}(a0_0x1aca,0x7d619));function a0_0x1aca(){const _0x372929=['setupLtmScheduler','push','cogni-living\x20adapter\x20starting\x20(v','setHours','sensorLastValues','enum.functions.*','online','28aNstVM','./lib/installer','getOverviewData','heiter','exitTimer','1UtnzFG','communicate.request','floor','sort','inactivityThresholdHours','isPresent','Keine\x20Antwort\x20von\x20Gemini','setupBriefingScheduler','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','driftAnalysisTimer','simulateButler','OPTIMIZE_ENERGY','genAI','VACATION','command','instance','licenseKey','string','minutes_safe','Test','abortExitTimer','add','calendarName','testContext','search','analysis.energy.ventilationAlerts','TRAIN_ENERGY','./lib/scanner','getGenerativeModel','object','(((.+)+)+)+$','triggerEnergyPrediction',')\x20-\x20Phase\x20D\x20(Evolution)','.system.mode','briefingJob','minDaysForBaseline','notifyTelegramInstance','ready','SYSTEM_DP_MODE','stateChange','updateTopology','NORMAL','7146603xkmYKN','trackerEnabled','getMinutes','Party\x20Mode','fill','scanThermostats','onUnload','dailyDigests','cleanupGhostInterventions','find','setObjectNotExistsAsync','parse','geminiApiKey','json','toLowerCase','info','ANALYZE_GAIT','send','Gemini\x20Init\x20Error:\x20','@google/generative-ai','analysis.triggerBriefing','analysis.energy.rlPenalties','analysis.energy.pinnForecast','./lib/automation','updateHealthVector','getForeignStateAsync','useWeather','ack','enum','SET_TOPOLOGY','updateTopologyMatrix','entries','modeResetJob','Aktiv\x20(','NextHours.Location_1.Day_1.current.symbol_desc','triggerGaitAnalysis','initSystemConfig','sendNotification','checkWifiPresence','getStateAsync','unload','manual','constructor','error','analysis.training.triggerHealth','triggerBriefing','currentSystemMode','PREDICT_ENERGY','devices','abs','lastAlertState','onMessage','getForeignObjectsAsync','ltmJob','194475fSrBlB','getState','stopService','length','checkAndInstall','isProVersion','getOutsideTemperatureNumeric','Key\x20not\x20found\x20or\x20not\x20provided','analysis.training.triggerEnergy','clear','analysis.automation.targetId','Daten\x20nicht\x20verfÃ¼gbar','Reinforcement\x20Learning\x20Penalties','type','getEnums','analysis.automation.description','4413800FtGosr','setState','exitGraceTimer','state','TRAIN_COMFORT','setupModeResetScheduler','analysis.automation.triggerAction','map','Instanz\x20nicht\x20gefunden','common','includes','namespace','executeAutomationAction','analysis.security.learningStatus','matrix','Verbindung\x20erfolgreich!','analysis.automation.patternDetected','generateContent','checkThermostats','apply','runBaselineDriftAnalysis','Lernphase\x20(','daswetter.0','scores','loadSystemMode','subscribeForeignStatesAsync','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','Heizung\x20kann\x20','{\x22default\x22:\x2021}','lastTrackerEventTime','analysis.health.todayVector','scanForDevices','dismissAutomation','trackerHeartbeat','./lib/python_bridge','analysisHistory','isSolar','Kein\x20Wetter-Adapter','processSensorEvent','analysis.training.triggerTopology','634670cuCYTA','sendMorningBriefing','analysis.training.triggerSecurity','analysis.trigger','system.adapter.','\x20min\x20ausbleiben.','12psMsHP','getHours','Notification\x20Test\x20Failed:\x20','apiKey','party','initZombies','runGeminiAnalysis','bind','subscribeStates','checkCalendarTriggers','analysis.automation.autoApply','analysis.energy.warmupTargets','Fehler:\x20','isGracePeriodActive','analysisTimer','endsWith','6298796hdZlvA','checkSolarCondition','PYTHON_EXE','callback','triggerDailyDigest','Simulation\x20durch\x20Admin\x20(Test)','TRAIN_HEALTH','checkLicense','testNotification','LTM.trainingData.sequences','analysis.energy.mpcActive','PINN\x20AI\x20Forecast','ANALYZE_TREND','geminiModel','Kein\x20API\x20Key\x20Ã¼bergeben','location','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','./lib/topology','Sec-Training\x20started...','getForeignObjectAsync','3540312ZpzXjv','setupDriftAnalysisScheduler','setPresence','application/json','WiFi\x20Presence\x20detected.','analysis.training.triggerComfort','rawEventLog','resetRLPenalty','_calName','name','val','setStateAsync','forEach','.communicate.request','LTM.baselineStatus','log','Standard','simulateEnergyMPC','./lib/setup','createDailyDigest','sendTo','SYSTEM_MODES','runPythonHealthCheck','analysis.energy.warmupTimes','runAutopilot','\x20Tage)','cancel','split','toString','calendarInstance','LTM.rawEventLog','now','message','activityLevel','./lib/recorder','weatherunderground.0','stringify','analysis.topology.structure','timestamp','cogni-living','automation.triggerAction','initHistory','Current.WeatherText','onReady','system.presenceWho','from','Adapter','presenceDevices','isArray','config','dependencyInstallInProgress','values','1963172MoIYNr','scanDevices','pop','getTime','eventHistory','LTM.dailyDigests','onStateChange','guest','.data.table','Verbunden','response','thermostat'];a0_0x1aca=function(){return _0x372929;};return a0_0x1aca();}const a0_0x425799=(function(){let _0x13db35=!![];return function(_0x5d1f61,_0x34538c){const _0x2a5fa0=_0x13db35?function(){const _0x139c52=a0_0x39d3;if(_0x34538c){const _0x3bd7a2=_0x34538c[_0x139c52(0x1ce)](_0x5d1f61,arguments);return _0x34538c=null,_0x3bd7a2;}}:function(){};return _0x13db35=![],_0x2a5fa0;};}()),a0_0x5e65d2=a0_0x425799(this,function(){const _0x55d162=a0_0x39d3;return a0_0x5e65d2[_0x55d162(0x229)]()[_0x55d162(0x163)]('(((.+)+)+)+$')['toString']()[_0x55d162(0x19f)](a0_0x5e65d2)[_0x55d162(0x163)](_0x55d162(0x169));});a0_0x5e65d2();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x1f109a(0x188)),installer=require(a0_0x1f109a(0x255)),scanner=require(a0_0x1f109a(0x166)),schedulers=require('./lib/scheduler'),topology=require(a0_0x1f109a(0x20a)),setup=require(a0_0x1f109a(0x21f)),recorder=require(a0_0x1f109a(0x22f)),pythonBridge=require(a0_0x1f109a(0x1dd)),aiAgent=require('./lib/ai_agent'),deadMan=require('./lib/dead_man'),automation=require(a0_0x1f109a(0x18c)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x39d3(_0x515ca3,_0x365270){const _0x33cf0f=a0_0x1aca();return a0_0x39d3=function(_0x5e65d2,_0x425799){_0x5e65d2=_0x5e65d2-0x161;let _0x1aca9f=_0x33cf0f[_0x5e65d2];return _0x1aca9f;},a0_0x39d3(_0x515ca3,_0x365270);}class CogniLiving extends utils[a0_0x1f109a(0x23b)]{constructor(_0x4b1fe7){const _0x4c0b11=a0_0x1f109a;super({..._0x4b1fe7,'name':_0x4c0b11(0x234)}),this[_0x4c0b11(0x245)]=[],this['analysisHistory']=[],this['rawEventLog']=[],this['dailyDigests']=[],this[_0x4c0b11(0x251)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x4c0b11(0x25e)]=!![],this[_0x4c0b11(0x258)]=null,this[_0x4c0b11(0x1bd)]=null,this[_0x4c0b11(0x1f6)]=![],this['genAI']=null,this[_0x4c0b11(0x206)]=null,this[_0x4c0b11(0x1a3)]=setup[_0x4c0b11(0x222)][_0x4c0b11(0x174)],this[_0x4c0b11(0x1b0)]=![],this[_0x4c0b11(0x1a7)]=![],this[_0x4c0b11(0x1f7)]=null,this[_0x4c0b11(0x1aa)]=null,this[_0x4c0b11(0x195)]=null,this['driftAnalysisTimer']=null,this[_0x4c0b11(0x16d)]=null,this[_0x4c0b11(0x23f)]=![],this[_0x4c0b11(0x1dc)]=null,this[_0x4c0b11(0x1d8)]=Date[_0x4c0b11(0x22c)](),this['on'](_0x4c0b11(0x170),this['onReady']['bind'](this)),this['on'](_0x4c0b11(0x172),this['onStateChange'][_0x4c0b11(0x1f0)](this)),this['on'](_0x4c0b11(0x19d),this[_0x4c0b11(0x17b)][_0x4c0b11(0x1f0)](this)),this['on'](_0x4c0b11(0x22d),this[_0x4c0b11(0x1a8)][_0x4c0b11(0x1f0)](this));}async[a0_0x1f109a(0x238)](){const _0x569606=a0_0x1f109a;this['log'][_0x569606(0x184)](_0x569606(0x24f)+this['version']+_0x569606(0x16b));if(!installer[_0x569606(0x1af)](this,()=>this['startSystem']()))return;}async['startSystem'](){const _0xc3894f=a0_0x1f109a;await setup[_0xc3894f(0x1ee)](this);try{this[_0xc3894f(0x1b0)]=await setup[_0xc3894f(0x200)](this[_0xc3894f(0x23e)][_0xc3894f(0x269)]);}catch(_0x5c8ed3){}if(!this[_0xc3894f(0x23e)]['inactivityThresholdHours']||this[_0xc3894f(0x23e)][_0xc3894f(0x25d)]<0.1)this[_0xc3894f(0x23e)][_0xc3894f(0x25d)]=0xc;await setup[_0xc3894f(0x236)](this),await setup[_0xc3894f(0x199)](this);if(this[_0xc3894f(0x23e)][_0xc3894f(0x181)])try{this[_0xc3894f(0x265)]=new GoogleGenerativeAI(this[_0xc3894f(0x23e)][_0xc3894f(0x181)]),this[_0xc3894f(0x206)]=this['genAI'][_0xc3894f(0x167)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0xc3894f(0x210)}}),this[_0xc3894f(0x21c)][_0xc3894f(0x184)]('Gemini\x20AI\x20initialized.');}catch(_0x452362){this[_0xc3894f(0x21c)][_0xc3894f(0x1a0)](_0xc3894f(0x187)+_0x452362[_0xc3894f(0x22d)]);}await setup['createAllObjects'](this),await this[_0xc3894f(0x1d3)](),await this['setObjectNotExistsAsync'](_0xc3894f(0x18b),{'type':_0xc3894f(0x1be),'common':{'name':_0xc3894f(0x204),'type':_0xc3894f(0x26a),'role':_0xc3894f(0x182),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0xc3894f(0x164),{'type':_0xc3894f(0x1be),'common':{'name':'Active\x20Ventilation\x20Alerts','type':_0xc3894f(0x26a),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0xc3894f(0x17f)](_0xc3894f(0x224),{'type':_0xc3894f(0x1be),'common':{'name':_0xc3894f(0x1d5),'type':_0xc3894f(0x26a),'role':_0xc3894f(0x182),'read':!![],'write':![]},'native':{}}),await this[_0xc3894f(0x17f)]('analysis.energy.warmupTargets',{'type':'state','common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':_0xc3894f(0x26a),'role':_0xc3894f(0x182),'read':!![],'write':!![],'def':_0xc3894f(0x1d7)},'native':{}}),await this[_0xc3894f(0x17f)](_0xc3894f(0x18a),{'type':'state','common':{'name':_0xc3894f(0x1b7),'type':_0xc3894f(0x26a),'role':_0xc3894f(0x182),'read':!![],'write':![],'def':'{}'},'native':{}});try{const _0x1de3a3=await this['getStateAsync']('LTM.rawEventLog');if(_0x1de3a3&&_0x1de3a3['val'])this['rawEventLog']=JSON['parse'](_0x1de3a3[_0xc3894f(0x217)]);}catch(_0x179128){this[_0xc3894f(0x213)]=[];}try{const _0x1f3641=await this['getStateAsync']('LTM.dailyDigests');if(_0x1f3641&&_0x1f3641[_0xc3894f(0x217)])this['dailyDigests']=JSON[_0xc3894f(0x180)](_0x1f3641[_0xc3894f(0x217)]);}catch(_0x46211c){this[_0xc3894f(0x17c)]=[];}const _0x2d3566=this[_0xc3894f(0x17c)][_0xc3894f(0x1ae)]>=(this['config'][_0xc3894f(0x16e)]||0x7)?_0xc3894f(0x196)+this[_0xc3894f(0x17c)]['length']+_0xc3894f(0x226):_0xc3894f(0x1d0)+this[_0xc3894f(0x17c)][_0xc3894f(0x1ae)]+'/'+(this[_0xc3894f(0x23e)][_0xc3894f(0x16e)]||0x7)+')';await this[_0xc3894f(0x218)](_0xc3894f(0x21b),{'val':_0x2d3566,'ack':!![]}),this['subscribeStates'](_0xc3894f(0x1e6)),this[_0xc3894f(0x1f1)]('LTM.triggerDailyDigest'),this[_0xc3894f(0x1f1)]('system.mode'),this[_0xc3894f(0x1f1)](_0xc3894f(0x189)),this[_0xc3894f(0x1f1)](_0xc3894f(0x1c1)),this['subscribeStates'](_0xc3894f(0x1f3)),this[_0xc3894f(0x1f1)](_0xc3894f(0x1e5)),this[_0xc3894f(0x1f1)]('analysis.training.triggerHealth'),this[_0xc3894f(0x1f1)](_0xc3894f(0x1b3)),this['subscribeStates'](_0xc3894f(0x212)),this[_0xc3894f(0x1f1)](_0xc3894f(0x1e2)),this[_0xc3894f(0x1f1)](_0xc3894f(0x203));const _0x4bbc1a=this['config'][_0xc3894f(0x1a5)];if(_0x4bbc1a)for(const _0x468fa4 of _0x4bbc1a){await this['subscribeForeignStatesAsync'](_0x468fa4['id']);}const _0xaad5e9=this[_0xc3894f(0x23e)][_0xc3894f(0x23c)];if(_0xaad5e9)for(const _0x4c0fba of _0xaad5e9){await this[_0xc3894f(0x1d4)](_0x4c0fba);}if(this[_0xc3894f(0x23e)]['notifyTelegramEnabled']&&this['config'][_0xc3894f(0x16f)])await this[_0xc3894f(0x1d4)](this[_0xc3894f(0x23e)][_0xc3894f(0x16f)]+_0xc3894f(0x21a));setTimeout(()=>this[_0xc3894f(0x19b)](),0x1388);if(this[_0xc3894f(0x1f7)])clearInterval(this[_0xc3894f(0x1f7)]);const _0x1ddb6f=this[_0xc3894f(0x23e)]['analysisInterval']||0xf;_0x1ddb6f>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x4cc13f=_0xc3894f;this['runAutopilot'](),automation[_0x4cc13f(0x1f2)](this);},_0x1ddb6f*0x3c*0x3e8)),setTimeout(()=>automation['checkCalendarTriggers'](this),0x2710),this[_0xc3894f(0x23e)][_0xc3894f(0x176)]!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0xdf4ff2=_0xc3894f;if(this[_0xdf4ff2(0x1b0)]){const _0x1acff0=Date[_0xdf4ff2(0x22c)](),_0x12e6cc=this[_0xdf4ff2(0x1d8)]||_0x1acff0,_0x2919a7=(_0x1acff0-_0x12e6cc)/0x3e8;_0x2919a7>0x2&&(this[_0xdf4ff2(0x1d8)]=_0x1acff0,pythonBridge['send'](this,'TRACK_EVENT',{'room':null,'dt':_0x2919a7}));}},0xbb8)),schedulers[_0xc3894f(0x24d)](this,()=>aiAgent[_0xc3894f(0x220)](this,pythonBridge)),schedulers[_0xc3894f(0x1c0)](this),schedulers[_0xc3894f(0x20e)](this,()=>aiAgent[_0xc3894f(0x1cf)](this)),schedulers[_0xc3894f(0x260)](this,()=>aiAgent[_0xc3894f(0x1e4)](this)),pythonBridge['startService'](this,installer[_0xc3894f(0x1fb)]),setTimeout(async()=>{const _0x51faa3=_0xc3894f;await topology['updateTopology'](this);try{const _0x455db5=await this['getStateAsync']('analysis.topology.structure');if(_0x455db5&&_0x455db5['val'])pythonBridge[_0x51faa3(0x186)](this,_0x51faa3(0x192),JSON[_0x51faa3(0x180)](_0x455db5[_0x51faa3(0x217)]));}catch(_0x2df883){}this['runPythonHealthCheck'](),this[_0x51faa3(0x198)](),this[_0x51faa3(0x16a)](),this[_0x51faa3(0x18d)]();},0x1388);}[a0_0x1f109a(0x17b)](_0x2de5ec){const _0x252928=a0_0x1f109a;if(this['analysisTimer'])clearInterval(this[_0x252928(0x1f7)]);if(this[_0x252928(0x262)])clearInterval(this[_0x252928(0x262)]);if(this[_0x252928(0x1dc)])clearInterval(this[_0x252928(0x1dc)]);if(this[_0x252928(0x1aa)])this[_0x252928(0x1aa)][_0x252928(0x227)]();if(this[_0x252928(0x195)])this[_0x252928(0x195)][_0x252928(0x227)]();if(this[_0x252928(0x16d)])this[_0x252928(0x16d)][_0x252928(0x227)]();recorder[_0x252928(0x26d)](this),pythonBridge[_0x252928(0x1ad)](this),_0x2de5ec();}async[a0_0x1f109a(0x247)](_0x3b615f,_0x3fd955){const _0x16c467=a0_0x1f109a;if(!_0x3fd955||this['dependencyInstallInProgress'])return;if(_0x3b615f[_0x16c467(0x1c5)]('telegram')&&_0x3b615f[_0x16c467(0x1f8)](_0x16c467(0x25a))&&_0x3fd955[_0x16c467(0x217)])return;if(_0x3b615f===this[_0x16c467(0x1c6)]+_0x16c467(0x16c)){if(_0x3fd955[_0x16c467(0x217)]&&Object[_0x16c467(0x240)](setup[_0x16c467(0x222)])[_0x16c467(0x1c5)](_0x3fd955['val'])){this[_0x16c467(0x1a3)]=_0x3fd955['val'];if(_0x3fd955[_0x16c467(0x217)]===setup[_0x16c467(0x222)][_0x16c467(0x266)])await recorder[_0x16c467(0x20f)](this,![]);else await recorder[_0x16c467(0x20f)](this,!![]);if(this[_0x16c467(0x1b0)]){let _0x1c3e06=![],_0x298d91=0x0,_0x3935e3=_0x16c467(0x19e);if(this[_0x16c467(0x1a3)]===_0x16c467(0x1ed))_0x1c3e06=!![],_0x298d91=0x168,_0x3935e3=_0x16c467(0x178);else this[_0x16c467(0x1a3)]===_0x16c467(0x248)&&(_0x1c3e06=!![],_0x298d91=0x5a0,_0x3935e3='Guest\x20Mode');pythonBridge[_0x16c467(0x186)](this,'SET_LEARNING_MODE',{'active':_0x1c3e06,'duration':_0x298d91,'label':_0x3935e3}),await this['setStateAsync'](_0x16c467(0x1c8),{'val':JSON[_0x16c467(0x231)]({'active':_0x1c3e06,'label':_0x3935e3,'timestamp':Date[_0x16c467(0x22c)]()}),'ack':!![]});}}if(!_0x3fd955['ack'])this[_0x16c467(0x1bc)](_0x3b615f,{'val':this[_0x16c467(0x1a3)],'ack':!![]});return;}if(!_0x3fd955[_0x16c467(0x190)]){if(_0x3b615f[_0x16c467(0x1c5)](_0x16c467(0x1e6))&&_0x3fd955['val']){this[_0x16c467(0x1bc)](_0x3b615f,{'val':![],'ack':!![]}),aiAgent[_0x16c467(0x1ef)](this);return;}if(_0x3b615f[_0x16c467(0x1c5)](_0x16c467(0x1fd))&&_0x3fd955['val']){this[_0x16c467(0x1bc)](_0x3b615f,{'val':![],'ack':!![]});if(this[_0x16c467(0x1b0)])aiAgent[_0x16c467(0x220)](this,pythonBridge);return;}if(_0x3b615f[_0x16c467(0x1c5)](_0x16c467(0x1a2))&&_0x3fd955['val']){this[_0x16c467(0x1bc)](_0x3b615f,{'val':![],'ack':!![]}),aiAgent[_0x16c467(0x1e4)](this);return;}if(_0x3b615f[_0x16c467(0x1c5)](_0x16c467(0x235))&&_0x3fd955['val']){this[_0x16c467(0x1bc)](_0x3b615f,{'val':![],'ack':!![]}),aiAgent[_0x16c467(0x1c7)](this);return;}if(_0x3b615f['includes'](_0x16c467(0x1e5))&&_0x3fd955['val']){this[_0x16c467(0x1bc)](_0x3b615f,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x2274da=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x2274da&&_0x2274da['val']){const _0x443eb3=JSON['parse'](_0x2274da[_0x16c467(0x217)]);this['setStateAsync']('analysis.training.status',{'val':_0x16c467(0x20b),'ack':!![]}),pythonBridge[_0x16c467(0x186)](this,'TRAIN_SECURITY',{'sequences':_0x443eb3});}}catch(_0xc42093){}return;}if(_0x3b615f[_0x16c467(0x1c5)](_0x16c467(0x1a1))&&_0x3fd955[_0x16c467(0x217)]){this[_0x16c467(0x1bc)](_0x3b615f,{'val':![],'ack':!![]});if(this[_0x16c467(0x1b0)])try{const _0x2d9997=await this[_0x16c467(0x19c)](_0x16c467(0x246));if(_0x2d9997&&_0x2d9997['val'])pythonBridge[_0x16c467(0x186)](this,_0x16c467(0x1ff),{'digests':JSON[_0x16c467(0x180)](_0x2d9997[_0x16c467(0x217)])});}catch(_0x4cb356){}return;}if(_0x3b615f[_0x16c467(0x1c5)]('analysis.training.triggerEnergy')&&_0x3fd955['val']){this['setState'](_0x3b615f,{'val':![],'ack':!![]});if(this[_0x16c467(0x1b0)])try{const _0x3edd6f=await this[_0x16c467(0x19c)]('LTM.trainingData.thermodynamics');if(_0x3edd6f&&_0x3edd6f[_0x16c467(0x217)])pythonBridge[_0x16c467(0x186)](this,_0x16c467(0x165),{'points':JSON[_0x16c467(0x180)](_0x3edd6f['val'])});}catch(_0x41da28){}return;}if(_0x3b615f[_0x16c467(0x1c5)](_0x16c467(0x212))&&_0x3fd955[_0x16c467(0x217)]){this[_0x16c467(0x1bc)](_0x3b615f,{'val':![],'ack':!![]});if(this[_0x16c467(0x1b0)])try{const _0x578d2d=await this[_0x16c467(0x19c)](_0x16c467(0x22b));if(_0x578d2d&&_0x578d2d[_0x16c467(0x217)])pythonBridge[_0x16c467(0x186)](this,_0x16c467(0x1bf),{'events':JSON[_0x16c467(0x180)](_0x578d2d[_0x16c467(0x217)])});}catch(_0x2b87fe){}return;}if(_0x3b615f[_0x16c467(0x1c5)]('analysis.training.triggerTopology')&&_0x3fd955[_0x16c467(0x217)]){this['setState'](_0x3b615f,{'val':![],'ack':!![]}),topology[_0x16c467(0x173)](this);return;}}if(this['config'][_0x16c467(0x23c)]&&this[_0x16c467(0x23e)][_0x16c467(0x23c)]['includes'](_0x3b615f)){await this[_0x16c467(0x19b)]();return;}const _0x215632=(this[_0x16c467(0x23e)][_0x16c467(0x1a5)]||[])[_0x16c467(0x17e)](_0x29a831=>_0x29a831['id']===_0x3b615f);if(_0x215632){const _0x3a12c0=await recorder[_0x16c467(0x1e1)](this,_0x3b615f,_0x3fd955,_0x215632);_0x3a12c0&&_0x3a12c0[_0x16c467(0x1b8)]==='motion'&&_0x3a12c0[_0x16c467(0x208)]&&this[_0x16c467(0x1b0)]&&deadMan['updateLocation'](this,_0x3a12c0['location']),(_0x215632[_0x16c467(0x1b8)]==='temperature'||_0x215632['type']===_0x16c467(0x24c))&&automation[_0x16c467(0x17d)](this);}}async[a0_0x1f109a(0x1a8)](_0x5661bc){const _0x3bcba6=a0_0x1f109a;if(typeof _0x5661bc==='object'&&_0x5661bc[_0x3bcba6(0x22d)]){if(_0x5661bc[_0x3bcba6(0x267)]===_0x3bcba6(0x1cd))try{const _0x2fb2ed=await automation[_0x3bcba6(0x17a)](this);this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc[_0x3bcba6(0x267)],{'success':!![],'results':_0x2fb2ed},_0x5661bc[_0x3bcba6(0x1fc)]);}catch(_0x4a75cf){this[_0x3bcba6(0x221)](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc[_0x3bcba6(0x267)],{'success':![],'error':_0x4a75cf[_0x3bcba6(0x22d)]},_0x5661bc['callback']);}else{if(_0x5661bc[_0x3bcba6(0x267)]===_0x3bcba6(0x21e))try{const {current_temps:_0x2f550f,t_out:_0x3e4c1e,targets:_0x1cf0a8,t_forecast:_0x20a6ed}=_0x5661bc[_0x3bcba6(0x22d)],_0x4c0391=[];let _0x1809bc={};try{const _0x3695d8=await this['getStateAsync']('analysis.energy.insulationScore');if(_0x3695d8&&_0x3695d8['val']){const _0x480ca3=JSON[_0x3bcba6(0x180)](_0x3695d8['val']);_0x1809bc=_0x480ca3[_0x3bcba6(0x1d2)]||_0x480ca3;}}catch(_0x443a81){}const _0x5b8548=_0x20a6ed!==undefined&&_0x20a6ed!==null?(_0x3e4c1e+_0x20a6ed)/0x2:_0x3e4c1e;for(const [_0x52994f,_0x17f842]of Object[_0x3bcba6(0x194)](_0x2f550f)){const _0x33e11c=_0x1cf0a8[_0x52994f]||0x15;if(_0x17f842<=_0x33e11c)continue;let _0x26bb30=_0x1809bc[_0x52994f]||-0.5;if(_0x26bb30>=0x0)_0x26bb30=-0.5;const _0x226b5d=Math[_0x3bcba6(0x1a6)](_0x26bb30),_0x394238=_0x17f842-_0x33e11c;let _0x14f1dc=Math['floor'](_0x394238/_0x226b5d*0x3c);const _0xcb8e25=_0x17f842-_0x3e4c1e,_0x4fd4ad=_0x17f842-_0x5b8548;if(_0x4fd4ad!==0x0&&_0xcb8e25!==0x0){const _0x4f0d21=_0xcb8e25/_0x4fd4ad;_0x14f1dc=Math[_0x3bcba6(0x25b)](_0x14f1dc*_0x4f0d21);}if(_0x14f1dc>0xf){if(_0x14f1dc>0xf0)_0x14f1dc=0xf0;_0x4c0391[_0x3bcba6(0x24e)]({'room':_0x52994f,'minutes_safe':_0x14f1dc,'target':_0x33e11c,'current':_0x17f842,'savings_msg':_0x3bcba6(0x1d6)+_0x14f1dc+_0x3bcba6(0x1e8)});}}_0x4c0391[_0x3bcba6(0x25c)]((_0x545acc,_0x26baf9)=>_0x26baf9[_0x3bcba6(0x26b)]-_0x545acc['minutes_safe']),this[_0x3bcba6(0x221)](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc['command'],{'success':!![],'proposals':_0x4c0391},_0x5661bc[_0x3bcba6(0x1fc)]);}catch(_0x26b187){this[_0x3bcba6(0x221)](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc['command'],{'success':![],'error':_0x26b187['message']},_0x5661bc['callback']);}else{if(_0x5661bc['command']===_0x3bcba6(0x214))try{const _0xa55e31=_0x5661bc[_0x3bcba6(0x22d)]['key'],_0x56cf0f=_0x3bcba6(0x18a),_0x4a05bb=await this['getStateAsync'](_0x56cf0f);let _0x2afeda={};if(_0x4a05bb&&_0x4a05bb[_0x3bcba6(0x217)])try{_0x2afeda=JSON['parse'](_0x4a05bb[_0x3bcba6(0x217)]);}catch(_0x7949de){}_0xa55e31&&_0x2afeda[_0xa55e31]?(delete _0x2afeda[_0xa55e31],await this[_0x3bcba6(0x218)](_0x56cf0f,{'val':JSON['stringify'](_0x2afeda),'ack':!![]}),this[_0x3bcba6(0x21c)][_0x3bcba6(0x184)]('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0xa55e31+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.'),this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc[_0x3bcba6(0x267)],{'success':!![]},_0x5661bc[_0x3bcba6(0x1fc)])):this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc[_0x3bcba6(0x267)],{'success':![],'error':_0x3bcba6(0x1b2)},_0x5661bc['callback']);}catch(_0x4e42d7){this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc['command'],{'success':![],'error':_0x4e42d7['message']},_0x5661bc[_0x3bcba6(0x1fc)]);}else{if(_0x5661bc[_0x3bcba6(0x267)]===_0x3bcba6(0x1db))await this[_0x3bcba6(0x218)](_0x3bcba6(0x1cb),{'val':![],'ack':!![]}),await this['setStateAsync'](_0x3bcba6(0x1ba),{'val':'','ack':!![]}),await this['setStateAsync'](_0x3bcba6(0x1b5),{'val':'','ack':!![]}),this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc[_0x3bcba6(0x267)],{'success':!![]},_0x5661bc['callback']);else{if(_0x5661bc[_0x3bcba6(0x267)]===_0x3bcba6(0x263)){const {targetId:_0x21500c,targetValue:_0x481441}=_0x5661bc[_0x3bcba6(0x22d)];await this[_0x3bcba6(0x218)](_0x3bcba6(0x1cb),{'val':!![],'ack':!![]}),await this[_0x3bcba6(0x218)](_0x3bcba6(0x1ba),{'val':_0x3bcba6(0x1fe),'ack':!![]}),await this[_0x3bcba6(0x218)](_0x3bcba6(0x1b5),{'val':_0x21500c,'ack':!![]}),await this[_0x3bcba6(0x218)]('analysis.automation.targetValue',{'val':String(_0x481441),'ack':!![]}),this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc[_0x3bcba6(0x267)],{'success':!![]},_0x5661bc[_0x3bcba6(0x1fc)]);}else{if(_0x5661bc[_0x3bcba6(0x267)]==='testApiKey')try{const _0x1f1515=_0x5661bc[_0x3bcba6(0x22d)][_0x3bcba6(0x1ec)];if(!_0x1f1515)throw new Error(_0x3bcba6(0x207));const _0x34665d=new GoogleGenerativeAI(_0x1f1515),_0x49a418=_0x34665d['getGenerativeModel']({'model':GEMINI_MODEL}),_0x2162d7=await _0x49a418[_0x3bcba6(0x1cc)](_0x3bcba6(0x26c)),_0x33f613=await _0x2162d7[_0x3bcba6(0x24b)];if(_0x33f613['text']())this['sendTo'](_0x5661bc['from'],_0x5661bc[_0x3bcba6(0x267)],{'success':!![],'message':_0x3bcba6(0x1ca)},_0x5661bc[_0x3bcba6(0x1fc)]);else throw new Error(_0x3bcba6(0x25f));}catch(_0x495f2d){this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc[_0x3bcba6(0x267)],{'success':![],'message':_0x495f2d[_0x3bcba6(0x22d)]},_0x5661bc[_0x3bcba6(0x1fc)]);}else{if(_0x5661bc[_0x3bcba6(0x267)]===_0x3bcba6(0x242))try{const _0x5b81ce=await scanner[_0x3bcba6(0x1da)](this,_0x5661bc[_0x3bcba6(0x22d)]||{});this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc['command'],{'success':!![],'devices':_0x5b81ce},_0x5661bc[_0x3bcba6(0x1fc)]);}catch(_0x16ded0){this[_0x3bcba6(0x221)](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc[_0x3bcba6(0x267)],{'success':![],'error':_0x16ded0['message']},_0x5661bc['callback']);}else{if(_0x5661bc['command']===_0x3bcba6(0x193))try{const {matrix:_0x3dd44c}=_0x5661bc['message'],_0x3a1a82=await this[_0x3bcba6(0x19c)](_0x3bcba6(0x232));if(_0x3a1a82&&_0x3a1a82['val']){const _0xd09f00=JSON['parse'](_0x3a1a82[_0x3bcba6(0x217)]);_0xd09f00[_0x3bcba6(0x1c9)]=_0x3dd44c,_0xd09f00['updated']=Date['now'](),await this[_0x3bcba6(0x218)](_0x3bcba6(0x232),{'val':JSON[_0x3bcba6(0x231)](_0xd09f00),'ack':!![]}),pythonBridge[_0x3bcba6(0x186)](this,_0x3bcba6(0x192),_0xd09f00);}this[_0x3bcba6(0x221)](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc[_0x3bcba6(0x267)],{'success':!![]},_0x5661bc[_0x3bcba6(0x1fc)]);}catch(_0x2c4a05){this[_0x3bcba6(0x21c)][_0x3bcba6(0x1a0)](_0x2c4a05);}else{if(_0x5661bc[_0x3bcba6(0x267)]==='getLtmData')this['sendTo'](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc[_0x3bcba6(0x267)],{'success':!![],'dailyDigests':this[_0x3bcba6(0x17c)]||[],'analysisHistory':this[_0x3bcba6(0x1de)]||[]},_0x5661bc[_0x3bcba6(0x1fc)]);else{if(_0x5661bc[_0x3bcba6(0x267)]===_0x3bcba6(0x256)){const _0x12fadd=this['dailyDigests'][_0x3bcba6(0x1ae)],_0x258946=new Array(0x18)[_0x3bcba6(0x179)](0x0),_0x22d538=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x3bcba6(0x245)]&&this[_0x3bcba6(0x245)]['forEach'](_0x5c96fc=>{const _0x27a84a=_0x3bcba6;if(_0x5c96fc[_0x27a84a(0x233)]>=_0x22d538){const _0x157f6d=new Date(_0x5c96fc[_0x27a84a(0x233)])[_0x27a84a(0x1ea)]();if(_0x157f6d>=0x0&&_0x157f6d<0x18)_0x258946[_0x157f6d]++;}});let _0x37793a=![],_0x4a64dc='',_0x5db875='',_0x3014b4='';try{const _0x438b4f=await this[_0x3bcba6(0x19c)](_0x3bcba6(0x1cb));if(_0x438b4f&&_0x438b4f['val']){_0x37793a=!![];const _0x494cb2=await this[_0x3bcba6(0x19c)](_0x3bcba6(0x1ba));_0x4a64dc=_0x494cb2?_0x494cb2['val']:'';const _0x25d13e=await this[_0x3bcba6(0x19c)](_0x3bcba6(0x1b5));_0x5db875=_0x25d13e?_0x25d13e[_0x3bcba6(0x217)]:'';const _0x1f9158=await this[_0x3bcba6(0x19c)]('analysis.automation.targetValue');_0x3014b4=_0x1f9158?_0x1f9158[_0x3bcba6(0x217)]:'';}}catch(_0x12561b){}const _0x481580=await this[_0x3bcba6(0x1fa)](),_0x409ab4=(this['config'][_0x3bcba6(0x1a5)]||[])['some'](_0x56adc3=>_0x56adc3[_0x3bcba6(0x1df)]),_0x10ab55=_0x481580&&_0x409ab4;this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc['command'],{'success':!![],'eventHistory':this[_0x3bcba6(0x245)]['slice'](0x0,0xf),'stats':{'digestCount':_0x12fadd,'isPresent':this[_0x3bcba6(0x25e)],'hourlyActivity':_0x258946,'solarActive':_0x10ab55},'automation':{'detected':_0x37793a,'description':_0x4a64dc,'targetId':_0x5db875,'targetValue':_0x3014b4}},_0x5661bc[_0x3bcba6(0x1fc)]);}else{if(_0x5661bc['command']===_0x3bcba6(0x1b9)){const _0x5a9159=await this[_0x3bcba6(0x1a9)](_0x3bcba6(0x252),_0x3bcba6(0x191)),_0x404b12=[];if(_0x5a9159)for(const _0x47f8c7 in _0x5a9159){const _0x57acc3=_0x5a9159[_0x47f8c7],_0x410381=(_0x57acc3[_0x3bcba6(0x1c4)]&&typeof _0x57acc3[_0x3bcba6(0x1c4)][_0x3bcba6(0x216)]===_0x3bcba6(0x168)?_0x57acc3['common']['name']['de']:_0x57acc3[_0x3bcba6(0x1c4)]['name'])||_0x57acc3[_0x3bcba6(0x1c4)][_0x3bcba6(0x216)];_0x404b12['push']({'id':_0x47f8c7,'name':_0x410381});}const _0x1bb258=await this[_0x3bcba6(0x1a9)]('enum.rooms.*',_0x3bcba6(0x191)),_0x7916f8=[];if(_0x1bb258)for(const _0x505dab in _0x1bb258){const _0x9f8d95=_0x1bb258[_0x505dab],_0xec157e=(_0x9f8d95['common']&&typeof _0x9f8d95[_0x3bcba6(0x1c4)][_0x3bcba6(0x216)]==='object'?_0x9f8d95[_0x3bcba6(0x1c4)]['name']['de']:_0x9f8d95[_0x3bcba6(0x1c4)][_0x3bcba6(0x216)])||_0x505dab[_0x3bcba6(0x228)]('.')[_0x3bcba6(0x243)]();_0x7916f8['push'](_0xec157e);}this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc[_0x3bcba6(0x267)],{'success':!![],'enums':_0x404b12,'rooms':_0x7916f8},_0x5661bc[_0x3bcba6(0x1fc)]);}else{if(_0x5661bc[_0x3bcba6(0x267)]===_0x3bcba6(0x162))try{let _0x107a4e=_0x3bcba6(0x1e0),_0xd4c247='Kein\x20Kalender-Adapter';if(this['config'][_0x3bcba6(0x18f)]){const _0x33491a=await recorder[_0x3bcba6(0x1b1)](this);_0x107a4e=_0x33491a!==null?_0x33491a+'Â°C':_0x3bcba6(0x1b6);}if(this[_0x3bcba6(0x23e)][_0x3bcba6(0x22a)]){const _0x195dda=await this[_0x3bcba6(0x20c)](_0x3bcba6(0x1e7)+this[_0x3bcba6(0x23e)]['calendarInstance']);_0xd4c247=_0x195dda?_0x3bcba6(0x24a):_0x3bcba6(0x1c3);}this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc['command'],{'success':!![],'weather':_0x107a4e,'calendar':_0xd4c247},_0x5661bc[_0x3bcba6(0x1fc)]);}catch(_0x20b2d5){this['sendTo'](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc['command'],{'success':![],'error':_0x20b2d5[_0x3bcba6(0x22d)]},_0x5661bc['callback']);}else{if(_0x5661bc[_0x3bcba6(0x267)]==='getCalendarNames')try{const _0x198462=_0x5661bc[_0x3bcba6(0x22d)][_0x3bcba6(0x268)],_0x489e41=await this[_0x3bcba6(0x18e)](_0x198462+_0x3bcba6(0x249));let _0x162bc2=[];if(_0x489e41&&_0x489e41[_0x3bcba6(0x217)]){const _0x8d4cfe=JSON['parse'](_0x489e41[_0x3bcba6(0x217)]),_0xbe2281=new Set();Array[_0x3bcba6(0x23d)](_0x8d4cfe)&&_0x8d4cfe['forEach'](_0x18f753=>{const _0x25721d=_0x3bcba6;if(_0x18f753['_calName'])_0xbe2281[_0x25721d(0x26e)](_0x18f753[_0x25721d(0x215)]);else{if(_0x18f753[_0x25721d(0x161)])_0xbe2281['add'](_0x18f753[_0x25721d(0x161)]);}}),_0x162bc2=Array[_0x3bcba6(0x23a)](_0xbe2281)[_0x3bcba6(0x25c)]();}if(_0x162bc2['length']===0x0)_0x162bc2=[_0x3bcba6(0x21d)];this['sendTo'](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc[_0x3bcba6(0x267)],{'success':!![],'names':_0x162bc2},_0x5661bc['callback']);}catch(_0x1880aa){this[_0x3bcba6(0x221)](_0x5661bc['from'],_0x5661bc[_0x3bcba6(0x267)],{'success':![],'error':_0x1880aa[_0x3bcba6(0x22d)]},_0x5661bc['callback']);}else{if(_0x5661bc[_0x3bcba6(0x267)]===_0x3bcba6(0x201))try{await setup[_0x3bcba6(0x19a)](this,_0x3bcba6(0x209),![],![]),this[_0x3bcba6(0x221)](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc['command'],{'success':!![],'message':'Gesendet'},_0x5661bc[_0x3bcba6(0x1fc)]);}catch(_0x261475){this[_0x3bcba6(0x21c)][_0x3bcba6(0x1a0)](_0x3bcba6(0x1eb)+_0x261475[_0x3bcba6(0x22d)]),this['sendTo'](_0x5661bc[_0x3bcba6(0x23a)],_0x5661bc['command'],{'success':![],'message':_0x3bcba6(0x1f5)+_0x261475[_0x3bcba6(0x22d)]},_0x5661bc[_0x3bcba6(0x1fc)]);}}}}}}}}}}}}}}}}async['loadSystemMode'](){const _0x3f68d5=a0_0x1f109a;try{const _0xd72852=await this[_0x3f68d5(0x19c)](setup[_0x3f68d5(0x171)]);_0xd72852&&_0xd72852[_0x3f68d5(0x217)]&&Object[_0x3f68d5(0x240)](setup[_0x3f68d5(0x222)])[_0x3f68d5(0x1c5)](_0xd72852['val'])?this[_0x3f68d5(0x1a3)]=_0xd72852[_0x3f68d5(0x217)]:(this[_0x3f68d5(0x1a3)]=setup[_0x3f68d5(0x222)]['NORMAL'],await this['setStateAsync'](setup[_0x3f68d5(0x171)],{'val':setup[_0x3f68d5(0x222)]['NORMAL'],'ack':!![]}));}catch(_0x5ea748){this[_0x3f68d5(0x1a3)]=setup['SYSTEM_MODES'][_0x3f68d5(0x174)];}}async[a0_0x1f109a(0x19b)](){const _0x4274ca=a0_0x1f109a;try{const _0x552b32=this[_0x4274ca(0x23e)]['presenceDevices']||[];let _0x5b47a5=![];const _0x6f65b1=[];for(const _0x38a43e of _0x552b32){try{const _0x108df2=await this[_0x4274ca(0x18e)](_0x38a43e);_0x108df2&&(_0x108df2[_0x4274ca(0x217)]===!![]||_0x108df2[_0x4274ca(0x217)]===_0x4274ca(0x253)||_0x108df2[_0x4274ca(0x217)]===0x1)&&(_0x5b47a5=!![],_0x6f65b1[_0x4274ca(0x24e)](_0x38a43e));}catch(_0x36348a){}}return await this['setStateAsync'](_0x4274ca(0x239),{'val':_0x6f65b1['join'](',\x20'),'ack':!![]}),_0x5b47a5&&(this[_0x4274ca(0x258)]&&(this[_0x4274ca(0x21c)][_0x4274ca(0x184)](_0x4274ca(0x211)),recorder[_0x4274ca(0x26d)](this)),!this[_0x4274ca(0x25e)]&&this[_0x4274ca(0x1a3)]===setup[_0x4274ca(0x222)][_0x4274ca(0x174)]&&await recorder['setPresence'](this,!![])),_0x5b47a5;}catch(_0x1d5ea7){return![];}}async[a0_0x1f109a(0x225)](){const _0x200c5e=a0_0x1f109a;this[_0x200c5e(0x21c)]['debug'](_0x200c5e(0x261)),await aiAgent[_0x200c5e(0x1ef)](this),this[_0x200c5e(0x18d)](),this[_0x200c5e(0x198)](),this[_0x200c5e(0x16a)]();}async[a0_0x1f109a(0x1fa)](){const _0x375e15=a0_0x1f109a,_0x555e14=[_0x375e15(0x230),'accuweather.0',_0x375e15(0x1d1)],_0x3bc4a0=['forecast.current.weather',_0x375e15(0x237),_0x375e15(0x197)];for(const _0x26f784 of _0x555e14){for(const _0x11efda of _0x3bc4a0){try{const _0x16eef1=_0x26f784+'.'+_0x11efda,_0x4152b3=await this[_0x375e15(0x18e)](_0x16eef1);if(_0x4152b3&&_0x4152b3[_0x375e15(0x217)]){const _0x216a21=String(_0x4152b3[_0x375e15(0x217)])[_0x375e15(0x183)]();if(_0x216a21[_0x375e15(0x1c5)]('sonn')||_0x216a21[_0x375e15(0x1c5)]('sunny')||_0x216a21['includes']('klar')||_0x216a21[_0x375e15(0x1c5)](_0x375e15(0x1b4))||_0x216a21[_0x375e15(0x1c5)](_0x375e15(0x257)))return!![];}}catch(_0x351978){}}}return![];}[a0_0x1f109a(0x198)](){const _0x564067=a0_0x1f109a;if(!this[_0x564067(0x1b0)])return;try{this[_0x564067(0x1ac)](_0x564067(0x202),(_0x343b7e,_0x17dfca)=>{const _0x5d3f8a=_0x564067;_0x17dfca&&_0x17dfca[_0x5d3f8a(0x217)]&&pythonBridge[_0x5d3f8a(0x186)](this,_0x5d3f8a(0x185),{'sequences':JSON[_0x5d3f8a(0x180)](_0x17dfca[_0x5d3f8a(0x217)])});});}catch(_0x9dec49){}}async[a0_0x1f109a(0x16a)](){const _0x16f75a=a0_0x1f109a;if(!this[_0x16f75a(0x1b0)])return;try{const _0x51f2d7=await recorder[_0x16f75a(0x1b1)](this);if(_0x51f2d7===null)return;const _0x58e980={},_0x1e5e8b={},_0x3c7c9c=this[_0x16f75a(0x23e)][_0x16f75a(0x1a5)]||[];for(const _0x4a90b6 of _0x3c7c9c){if(_0x4a90b6[_0x16f75a(0x1b8)]==='temperature'&&_0x4a90b6['location']){const _0x1bf8d8=this['sensorLastValues'][_0x4a90b6['id']];if(_0x1bf8d8!==undefined)_0x58e980[_0x4a90b6[_0x16f75a(0x208)]]=_0x1bf8d8;if(_0x4a90b6['isSolar'])_0x1e5e8b[_0x4a90b6['location']]=!![];}}const _0x5f4d89=await this[_0x16f75a(0x1fa)]();let _0x1d48fb={};try{const _0x527dd7=await this[_0x16f75a(0x19c)](_0x16f75a(0x1f4));if(_0x527dd7&&_0x527dd7['val'])_0x1d48fb=JSON[_0x16f75a(0x180)](_0x527dd7['val']);}catch(_0x1965f8){}Object['keys'](_0x58e980)['length']>0x0&&(pythonBridge['send'](this,_0x16f75a(0x1a4),{'current_temps':_0x58e980,'t_out':_0x51f2d7,'is_sunny':_0x5f4d89,'solar_flags':_0x1e5e8b,'warmup_targets':_0x1d48fb}),pythonBridge[_0x16f75a(0x186)](this,_0x16f75a(0x264),{'current_temps':_0x58e980,'t_out':_0x51f2d7,'targets':{}}));}catch(_0x588705){}}[a0_0x1f109a(0x18d)](){const _0x5116de=a0_0x1f109a;if(!this[_0x5116de(0x213)]||this[_0x5116de(0x213)][_0x5116de(0x1ae)]===0x0)return;const _0x16cc4e=new Array(0x60)[_0x5116de(0x179)](0x0),_0x905c13=new Date()[_0x5116de(0x250)](0x0,0x0,0x0,0x0);this[_0x5116de(0x213)][_0x5116de(0x219)](_0x2e3fd6=>{const _0x5c1181=_0x5116de,_0x43715a=new Date(_0x2e3fd6[_0x5c1181(0x233)]);if(_0x43715a[_0x5c1181(0x244)]()>=_0x905c13){const _0x1103d8=_0x43715a[_0x5c1181(0x1ea)](),_0x11e576=_0x43715a[_0x5c1181(0x177)](),_0xb6b206=_0x1103d8*0x4+Math[_0x5c1181(0x25b)](_0x11e576/0xf);if(_0xb6b206>=0x0&&_0xb6b206<0x60)_0x16cc4e[_0xb6b206]++;}}),this['setStateAsync'](_0x5116de(0x1d9),{'val':JSON[_0x5116de(0x231)](_0x16cc4e),'ack':!![]});}[a0_0x1f109a(0x223)](){const _0x5aca85=a0_0x1f109a;if(!this[_0x5aca85(0x17c)]||this['dailyDigests'][_0x5aca85(0x1ae)]<0x2)return;const _0x1cb511=this[_0x5aca85(0x17c)][_0x5aca85(0x1c2)](_0x2b70c0=>{const _0x28bcb4=_0x5aca85,_0x596fc6=(_0x2b70c0[_0x28bcb4(0x22e)]||'')[_0x28bcb4(0x183)]();return ACTIVITY_LEVEL_MAP[_0x596fc6]||0x32;});pythonBridge[_0x5aca85(0x186)](this,_0x5aca85(0x205),{'values':_0x1cb511,'tag':'Activity-Level'});}}if(require['main']!==module)module['exports']=_0x438cd2=>new CogniLiving(_0x438cd2);else new CogniLiving();