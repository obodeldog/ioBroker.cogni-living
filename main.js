const a0_0x2beab4=a0_0x522e;(function(_0x1c4749,_0x1f7f4d){const _0x2de832=a0_0x522e,_0x3c24b5=_0x1c4749();while(!![]){try{const _0x5b97cb=parseInt(_0x2de832(0x200))/0x1+-parseInt(_0x2de832(0x1f9))/0x2+-parseInt(_0x2de832(0x1bd))/0x3*(-parseInt(_0x2de832(0x245))/0x4)+parseInt(_0x2de832(0x253))/0x5*(parseInt(_0x2de832(0x251))/0x6)+parseInt(_0x2de832(0x216))/0x7*(parseInt(_0x2de832(0x1fa))/0x8)+parseInt(_0x2de832(0x21b))/0x9+-parseInt(_0x2de832(0x1d0))/0xa;if(_0x5b97cb===_0x1f7f4d)break;else _0x3c24b5['push'](_0x3c24b5['shift']());}catch(_0x3512f6){_0x3c24b5['push'](_0x3c24b5['shift']());}}}(a0_0x2feb,0x5dedc));const a0_0x2d6eb6=(function(){let _0x11c0c4=!![];return function(_0x33c55e,_0x348351){const _0x423349=_0x11c0c4?function(){const _0x323c93=a0_0x522e;if(_0x348351){const _0x46ba86=_0x348351[_0x323c93(0x1b6)](_0x33c55e,arguments);return _0x348351=null,_0x46ba86;}}:function(){};return _0x11c0c4=![],_0x423349;};}()),a0_0x58b27f=a0_0x2d6eb6(this,function(){const _0x552597=a0_0x522e;return a0_0x58b27f[_0x552597(0x1ea)]()['search']('(((.+)+)+)+$')[_0x552597(0x1ea)]()[_0x552597(0x208)](a0_0x58b27f)[_0x552597(0x1c9)](_0x552597(0x20a));});a0_0x58b27f();'use strict';const utils=require(a0_0x2beab4(0x204)),{GoogleGenerativeAI}=require(a0_0x2beab4(0x1b3)),installer=require('./lib/installer'),scanner=require('./lib/scanner'),schedulers=require(a0_0x2beab4(0x235)),topology=require(a0_0x2beab4(0x24e)),setup=require('./lib/setup'),recorder=require(a0_0x2beab4(0x205)),pythonBridge=require(a0_0x2beab4(0x250)),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x2beab4(0x1e1)),GEMINI_MODEL=a0_0x2beab4(0x1d6),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x41f634){const _0x4db09c=a0_0x2beab4;super({..._0x41f634,'name':_0x4db09c(0x243)}),this['eventHistory']=[],this[_0x4db09c(0x212)]=[],this[_0x4db09c(0x1e2)]=[],this[_0x4db09c(0x1de)]=[],this[_0x4db09c(0x24a)]={},this[_0x4db09c(0x21d)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x4db09c(0x1ab)]=!![],this['exitTimer']=null,this[_0x4db09c(0x1da)]=null,this[_0x4db09c(0x22e)]=![],this[_0x4db09c(0x23b)]=null,this[_0x4db09c(0x206)]=null,this[_0x4db09c(0x226)]=setup[_0x4db09c(0x21c)][_0x4db09c(0x22f)],this['isProVersion']=![],this['lastAlertState']=![],this[_0x4db09c(0x19c)]=null,this['ltmJob']=null,this[_0x4db09c(0x1be)]=null,this[_0x4db09c(0x1ca)]=null,this[_0x4db09c(0x1df)]=null,this[_0x4db09c(0x23f)]=![],this['on'](_0x4db09c(0x1fc),this[_0x4db09c(0x224)][_0x4db09c(0x214)](this)),this['on']('stateChange',this['onStateChange']['bind'](this)),this['on'](_0x4db09c(0x1d1),this[_0x4db09c(0x240)][_0x4db09c(0x214)](this)),this['on']('message',this[_0x4db09c(0x19f)][_0x4db09c(0x214)](this));}async[a0_0x2beab4(0x224)](){const _0x461997=a0_0x2beab4;this[_0x461997(0x236)][_0x461997(0x1b0)](_0x461997(0x1e8)+this[_0x461997(0x211)]+')\x20-\x20Phase\x20C\x20(Dead\x20Man\x20Switch)');if(!installer[_0x461997(0x1ae)](this,()=>this[_0x461997(0x1bc)]()))return;}async[a0_0x2beab4(0x1bc)](){const _0x3fa833=a0_0x2beab4;await setup[_0x3fa833(0x222)](this);try{this[_0x3fa833(0x1db)]=await setup['checkLicense'](this[_0x3fa833(0x1dd)][_0x3fa833(0x1a5)]);}catch(_0x40af5b){}if(!this[_0x3fa833(0x1dd)][_0x3fa833(0x22c)]||this[_0x3fa833(0x1dd)][_0x3fa833(0x22c)]<0.1)this['config'][_0x3fa833(0x22c)]=0xc;await setup[_0x3fa833(0x220)](this),await setup['initSystemConfig'](this);if(this[_0x3fa833(0x1dd)]['geminiApiKey'])try{this[_0x3fa833(0x23b)]=new GoogleGenerativeAI(this[_0x3fa833(0x1dd)]['geminiApiKey']),this[_0x3fa833(0x206)]=this[_0x3fa833(0x23b)][_0x3fa833(0x247)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3fa833(0x1bf)}}),this[_0x3fa833(0x236)][_0x3fa833(0x1b0)](_0x3fa833(0x1d9));}catch(_0x2b0c59){this[_0x3fa833(0x236)]['error'](_0x3fa833(0x1ee)+_0x2b0c59[_0x3fa833(0x1e0)]);}await setup[_0x3fa833(0x1b8)](this),await this[_0x3fa833(0x223)]();try{const _0x511f9=await this['getStateAsync'](_0x3fa833(0x233));if(_0x511f9&&_0x511f9['val'])this[_0x3fa833(0x1e2)]=JSON[_0x3fa833(0x246)](_0x511f9[_0x3fa833(0x1d7)]);}catch(_0x3b849e){this[_0x3fa833(0x1e2)]=[];}try{const _0x474bbe=await this[_0x3fa833(0x239)]('LTM.dailyDigests');if(_0x474bbe&&_0x474bbe[_0x3fa833(0x1d7)])this[_0x3fa833(0x1de)]=JSON[_0x3fa833(0x246)](_0x474bbe[_0x3fa833(0x1d7)]);}catch(_0x1928ff){this[_0x3fa833(0x1de)]=[];}const _0x581b2a=this[_0x3fa833(0x1de)][_0x3fa833(0x229)]>=(this[_0x3fa833(0x1dd)][_0x3fa833(0x201)]||0x7)?'Aktiv\x20('+this[_0x3fa833(0x1de)]['length']+_0x3fa833(0x1b4):'Lernphase\x20('+this['dailyDigests']['length']+'/'+(this[_0x3fa833(0x1dd)][_0x3fa833(0x201)]||0x7)+')';await this[_0x3fa833(0x219)](_0x3fa833(0x1b1),{'val':_0x581b2a,'ack':!![]}),this[_0x3fa833(0x1e6)](_0x3fa833(0x1a7)),this[_0x3fa833(0x1e6)](_0x3fa833(0x1a6)),this[_0x3fa833(0x1e6)]('system.mode'),this[_0x3fa833(0x1e6)](_0x3fa833(0x22d)),this[_0x3fa833(0x1e6)](_0x3fa833(0x1b9)),this['subscribeStates'](_0x3fa833(0x227)),this[_0x3fa833(0x1e6)](_0x3fa833(0x1f4)),this[_0x3fa833(0x1e6)](_0x3fa833(0x1a8)),this[_0x3fa833(0x1e6)]('analysis.training.triggerEnergy'),this[_0x3fa833(0x1e6)](_0x3fa833(0x1f6)),this[_0x3fa833(0x1e6)]('analysis.training.triggerTopology');const _0x470e11=this[_0x3fa833(0x1dd)][_0x3fa833(0x1a1)];if(_0x470e11)for(const _0x5cda0b of _0x470e11){await this[_0x3fa833(0x238)](_0x5cda0b['id']);}const _0x186dda=this[_0x3fa833(0x1dd)][_0x3fa833(0x1a9)];if(_0x186dda)for(const _0x1c56fd of _0x186dda){await this[_0x3fa833(0x238)](_0x1c56fd);}if(this['config']['notifyTelegramEnabled']&&this[_0x3fa833(0x1dd)][_0x3fa833(0x221)])await this[_0x3fa833(0x238)](this[_0x3fa833(0x1dd)][_0x3fa833(0x221)]+'.communicate.request');setTimeout(()=>this[_0x3fa833(0x19a)](),0x1388);if(this[_0x3fa833(0x19c)])clearInterval(this[_0x3fa833(0x19c)]);const _0x5832b2=this['config'][_0x3fa833(0x1ed)]||0xf;_0x5832b2>0x0&&(this[_0x3fa833(0x19c)]=setInterval(()=>{this['runAutopilot']();},_0x5832b2*0x3c*0x3e8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x3fa833(0x1c8)](this,pythonBridge)),schedulers[_0x3fa833(0x1fd)](this),schedulers[_0x3fa833(0x1af)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x3fa833(0x203)](this,()=>aiAgent[_0x3fa833(0x248)](this)),pythonBridge[_0x3fa833(0x252)](this,installer[_0x3fa833(0x1c5)]),setTimeout(async()=>{const _0x24d247=_0x3fa833;await topology[_0x24d247(0x1cc)](this);try{const _0x13f204=await this['getStateAsync'](_0x24d247(0x22a));if(_0x13f204&&_0x13f204[_0x24d247(0x1d7)])pythonBridge[_0x24d247(0x1b5)](this,_0x24d247(0x22b),JSON[_0x24d247(0x246)](_0x13f204[_0x24d247(0x1d7)]));}catch(_0x5f4f2a){}this[_0x24d247(0x232)](),this['triggerGaitAnalysis'](),this[_0x24d247(0x1ba)](),this[_0x24d247(0x1a3)]();},0x1388);}['onUnload'](_0x50dee1){const _0x905d77=a0_0x2beab4;if(this['analysisTimer'])clearInterval(this[_0x905d77(0x19c)]);if(this[_0x905d77(0x1ca)])clearInterval(this[_0x905d77(0x1ca)]);if(this['ltmJob'])this[_0x905d77(0x1a0)]['cancel']();if(this[_0x905d77(0x1be)])this[_0x905d77(0x1be)][_0x905d77(0x213)]();if(this[_0x905d77(0x1df)])this[_0x905d77(0x1df)][_0x905d77(0x213)]();recorder[_0x905d77(0x207)](this),pythonBridge['stopService'](this),_0x50dee1();}async[a0_0x2beab4(0x1e9)](_0x18d473,_0x2fdbd3){const _0x241761=a0_0x2beab4;if(!_0x2fdbd3||this[_0x241761(0x23f)])return;if(_0x18d473['includes']('telegram')&&_0x18d473[_0x241761(0x1cd)](_0x241761(0x1f5))&&_0x2fdbd3['val'])return;if(_0x18d473===this[_0x241761(0x24c)]+_0x241761(0x1b7)){if(_0x2fdbd3['val']&&Object[_0x241761(0x209)](setup[_0x241761(0x21c)])[_0x241761(0x1ff)](_0x2fdbd3[_0x241761(0x1d7)])){this[_0x241761(0x226)]=_0x2fdbd3[_0x241761(0x1d7)];if(_0x2fdbd3[_0x241761(0x1d7)]===setup[_0x241761(0x21c)][_0x241761(0x1c1)])await recorder[_0x241761(0x1f0)](this,![]);else await recorder['setPresence'](this,!![]);}if(!_0x2fdbd3[_0x241761(0x1d4)])this[_0x241761(0x19e)](_0x18d473,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x2fdbd3[_0x241761(0x1d4)]){_0x18d473[_0x241761(0x1ff)]('analysis.trigger')&&_0x2fdbd3[_0x241761(0x1d7)]&&(this[_0x241761(0x19e)](_0x18d473,{'val':![],'ack':!![]}),aiAgent[_0x241761(0x1dc)](this));if(_0x18d473['includes'](_0x241761(0x210))&&_0x2fdbd3[_0x241761(0x1d7)]){this[_0x241761(0x19e)](_0x18d473,{'val':![],'ack':!![]});if(this[_0x241761(0x1db)])aiAgent[_0x241761(0x1c8)](this,pythonBridge);}_0x18d473['includes']('triggerBriefing')&&_0x2fdbd3[_0x241761(0x1d7)]&&(this['setState'](_0x18d473,{'val':![],'ack':!![]}),aiAgent[_0x241761(0x248)](this));_0x18d473['includes']('automation.triggerAction')&&_0x2fdbd3[_0x241761(0x1d7)]&&(this[_0x241761(0x19e)](_0x18d473,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this));if(_0x18d473[_0x241761(0x1ff)](_0x241761(0x1f4))&&_0x2fdbd3[_0x241761(0x1d7)]){this[_0x241761(0x19e)](_0x18d473,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x336388=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x336388&&_0x336388['val']){const _0x2c0aca=JSON[_0x241761(0x246)](_0x336388[_0x241761(0x1d7)]);this['log'][_0x241761(0x1b0)](_0x241761(0x1ef)),this[_0x241761(0x219)](_0x241761(0x199),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x241761(0x1b5)](this,_0x241761(0x23c),{'sequences':_0x2c0aca});}}catch(_0x54fb42){this[_0x241761(0x236)]['error']('Training\x20Error:\x20'+_0x54fb42[_0x241761(0x1e0)]);}}if(_0x18d473[_0x241761(0x1ff)](_0x241761(0x1a8))&&_0x2fdbd3[_0x241761(0x1d7)]){this[_0x241761(0x19e)](_0x18d473,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x2a019f=await this[_0x241761(0x239)](_0x241761(0x1cf));if(_0x2a019f&&_0x2a019f['val'])pythonBridge[_0x241761(0x1b5)](this,_0x241761(0x20e),{'digests':JSON[_0x241761(0x246)](_0x2a019f[_0x241761(0x1d7)])});}catch(_0x37ccda){}}if(_0x18d473[_0x241761(0x1ff)](_0x241761(0x20f))&&_0x2fdbd3['val']){this[_0x241761(0x19e)](_0x18d473,{'val':![],'ack':!![]});if(this[_0x241761(0x1db)])try{const _0x2f18fe=await this['getStateAsync'](_0x241761(0x215));if(_0x2f18fe&&_0x2f18fe[_0x241761(0x1d7)])pythonBridge[_0x241761(0x1b5)](this,_0x241761(0x1c0),{'points':JSON[_0x241761(0x246)](_0x2f18fe[_0x241761(0x1d7)])});}catch(_0x5d8e58){}}if(_0x18d473[_0x241761(0x1ff)](_0x241761(0x1f6))&&_0x2fdbd3['val']){this[_0x241761(0x19e)](_0x18d473,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x4dfc82=await this[_0x241761(0x239)]('LTM.rawEventLog');_0x4dfc82&&_0x4dfc82[_0x241761(0x1d7)]&&(this[_0x241761(0x236)][_0x241761(0x1b0)](_0x241761(0x242)),pythonBridge[_0x241761(0x1b5)](this,'TRAIN_COMFORT',{'events':JSON[_0x241761(0x246)](_0x4dfc82[_0x241761(0x1d7)])}));}catch(_0x266077){}}_0x18d473['includes'](_0x241761(0x19b))&&_0x2fdbd3[_0x241761(0x1d7)]&&(this[_0x241761(0x19e)](_0x18d473,{'val':![],'ack':!![]}),this[_0x241761(0x236)]['info'](_0x241761(0x24d)),topology[_0x241761(0x1cc)](this));return;}if(this[_0x241761(0x1dd)]['presenceDevices']&&this[_0x241761(0x1dd)][_0x241761(0x1a9)][_0x241761(0x1ff)](_0x18d473)){await this[_0x241761(0x19a)]();return;}const _0x1f804c=(this[_0x241761(0x1dd)]['devices']||[])[_0x241761(0x230)](_0x2205d9=>_0x2205d9['id']===_0x18d473);if(_0x1f804c){const _0x4cb746=await recorder['processSensorEvent'](this,_0x18d473,_0x2fdbd3,_0x1f804c);_0x4cb746&&_0x4cb746['type']==='motion'&&_0x4cb746['location']&&this[_0x241761(0x1db)]&&deadMan[_0x241761(0x20b)](this,_0x4cb746[_0x241761(0x1c3)]);}}async[a0_0x2beab4(0x19f)](_0x6a5dd1){const _0x384e2a=a0_0x2beab4;if(typeof _0x6a5dd1==='object'&&_0x6a5dd1[_0x384e2a(0x1e0)]){if(_0x6a5dd1[_0x384e2a(0x1aa)]===_0x384e2a(0x1cb)){}else{if(_0x6a5dd1['command']===_0x384e2a(0x1f3))try{const _0x1c8dbc=await scanner[_0x384e2a(0x21e)](this,_0x6a5dd1[_0x384e2a(0x1e0)]||{});this[_0x384e2a(0x1bb)](_0x6a5dd1['from'],_0x6a5dd1[_0x384e2a(0x1aa)],{'success':!![],'devices':_0x1c8dbc},_0x6a5dd1['callback']);}catch(_0x995d3){this[_0x384e2a(0x1bb)](_0x6a5dd1[_0x384e2a(0x1a2)],_0x6a5dd1[_0x384e2a(0x1aa)],{'success':![],'error':_0x995d3[_0x384e2a(0x1e0)]},_0x6a5dd1[_0x384e2a(0x234)]);}else{if(_0x6a5dd1[_0x384e2a(0x1aa)]==='updateTopologyMatrix'){const {matrix:_0x197685}=_0x6a5dd1['message'];try{const _0x2573d1=await this['getStateAsync'](_0x384e2a(0x22a));if(_0x2573d1&&_0x2573d1[_0x384e2a(0x1d7)]){const _0x2e46b5=JSON[_0x384e2a(0x246)](_0x2573d1['val']);_0x2e46b5[_0x384e2a(0x1d8)]=_0x197685,_0x2e46b5[_0x384e2a(0x1d3)]=Date[_0x384e2a(0x1ac)](),await this['setStateAsync']('analysis.topology.structure',{'val':JSON[_0x384e2a(0x1d5)](_0x2e46b5),'ack':!![]}),this['log'][_0x384e2a(0x1b0)](_0x384e2a(0x1e5)),pythonBridge[_0x384e2a(0x1b5)](this,_0x384e2a(0x22b),_0x2e46b5);}this[_0x384e2a(0x1bb)](_0x6a5dd1[_0x384e2a(0x1a2)],_0x6a5dd1['command'],{'success':!![]},_0x6a5dd1[_0x384e2a(0x234)]);}catch(_0x11e0f9){this[_0x384e2a(0x236)][_0x384e2a(0x1f1)](_0x384e2a(0x1f2)+_0x11e0f9[_0x384e2a(0x1e0)]);}}else{if(_0x6a5dd1['command']==='getLtmData')this[_0x384e2a(0x1bb)](_0x6a5dd1[_0x384e2a(0x1a2)],_0x6a5dd1[_0x384e2a(0x1aa)],{'success':!![],'dailyDigests':this[_0x384e2a(0x1de)]||[],'analysisHistory':this[_0x384e2a(0x212)]||[]},_0x6a5dd1['callback']);else{if(_0x6a5dd1[_0x384e2a(0x1aa)]===_0x384e2a(0x23e)){const _0x10ba40=this[_0x384e2a(0x1de)][_0x384e2a(0x229)],_0x91ef55=new Array(0x18)[_0x384e2a(0x24f)](0x0),_0x44a7cd=new Date()[_0x384e2a(0x20d)](0x0,0x0,0x0,0x0);this['eventHistory']&&this[_0x384e2a(0x24b)][_0x384e2a(0x218)](_0x1aa3ee=>{const _0x1d5093=_0x384e2a;if(_0x1aa3ee[_0x1d5093(0x1b2)]>=_0x44a7cd){const _0x24f614=new Date(_0x1aa3ee[_0x1d5093(0x1b2)])['getHours']();if(_0x24f614>=0x0&&_0x24f614<0x18)_0x91ef55[_0x24f614]++;}}),this[_0x384e2a(0x1bb)](_0x6a5dd1[_0x384e2a(0x1a2)],_0x6a5dd1[_0x384e2a(0x1aa)],{'success':!![],'eventHistory':this[_0x384e2a(0x24b)][_0x384e2a(0x1ad)](0x0,0xf),'stats':{'digestCount':_0x10ba40,'isPresent':this[_0x384e2a(0x1ab)],'hourlyActivity':_0x91ef55},'automation':{'detected':![]}},_0x6a5dd1[_0x384e2a(0x234)]);}else{if(_0x6a5dd1['command']===_0x384e2a(0x20c)){const _0x481daa=await this[_0x384e2a(0x1fb)](_0x384e2a(0x1e4),'enum'),_0x2e505a=[];if(_0x481daa)for(const _0x289910 in _0x481daa){const _0x253bde=_0x481daa[_0x289910],_0x539d18=(_0x253bde['common']&&typeof _0x253bde[_0x384e2a(0x237)]['name']==='object'?_0x253bde['common']['name']['de']:_0x253bde['common'][_0x384e2a(0x1f7)])||_0x253bde[_0x384e2a(0x237)][_0x384e2a(0x1f7)];_0x2e505a['push']({'id':_0x289910,'name':_0x539d18});}const _0x1c940d=await this[_0x384e2a(0x1fb)](_0x384e2a(0x244),'enum'),_0x416da5=[];if(_0x1c940d)for(const _0x34a48a in _0x1c940d){const _0x29f231=_0x1c940d[_0x34a48a],_0x1323ae=(_0x29f231['common']&&typeof _0x29f231[_0x384e2a(0x237)][_0x384e2a(0x1f7)]==='object'?_0x29f231[_0x384e2a(0x237)][_0x384e2a(0x1f7)]['de']:_0x29f231[_0x384e2a(0x237)][_0x384e2a(0x1f7)])||_0x34a48a[_0x384e2a(0x21a)]('.')[_0x384e2a(0x23a)]();_0x416da5[_0x384e2a(0x1c6)](_0x1323ae);}this[_0x384e2a(0x1bb)](_0x6a5dd1[_0x384e2a(0x1a2)],_0x6a5dd1[_0x384e2a(0x1aa)],{'success':!![],'enums':_0x2e505a,'rooms':_0x416da5},_0x6a5dd1[_0x384e2a(0x234)]);}}}}}}}}async[a0_0x2beab4(0x223)](){const _0x423bd1=a0_0x2beab4;try{const _0x226eba=await this[_0x423bd1(0x239)](setup[_0x423bd1(0x1ec)]);_0x226eba&&_0x226eba['val']&&Object[_0x423bd1(0x209)](setup[_0x423bd1(0x21c)])[_0x423bd1(0x1ff)](_0x226eba[_0x423bd1(0x1d7)])?this[_0x423bd1(0x226)]=_0x226eba[_0x423bd1(0x1d7)]:(this[_0x423bd1(0x226)]=setup[_0x423bd1(0x21c)][_0x423bd1(0x22f)],await this[_0x423bd1(0x219)](setup[_0x423bd1(0x1ec)],{'val':setup[_0x423bd1(0x21c)][_0x423bd1(0x22f)],'ack':!![]}));}catch(_0x1c5d6e){this[_0x423bd1(0x226)]=setup[_0x423bd1(0x21c)]['NORMAL'];}}async['checkWifiPresence'](){const _0x228a53=a0_0x2beab4;try{const _0x387938=this[_0x228a53(0x1dd)][_0x228a53(0x1a9)]||[];let _0x5d5df8=![];const _0x2faaac=[];for(const _0x17b3b4 of _0x387938){try{const _0x1716ac=await this[_0x228a53(0x1d2)](_0x17b3b4);_0x1716ac&&(_0x1716ac[_0x228a53(0x1d7)]===!![]||_0x1716ac[_0x228a53(0x1d7)]===_0x228a53(0x241)||_0x1716ac[_0x228a53(0x1d7)]===0x1)&&(_0x5d5df8=!![],_0x2faaac[_0x228a53(0x1c6)](_0x17b3b4));}catch(_0x49f063){}}return await this[_0x228a53(0x219)]('system.presenceWho',{'val':_0x2faaac[_0x228a53(0x249)](',\x20'),'ack':!![]}),_0x5d5df8&&(this[_0x228a53(0x217)]&&(this[_0x228a53(0x236)][_0x228a53(0x1b0)](_0x228a53(0x1e3)),recorder[_0x228a53(0x207)](this)),!this[_0x228a53(0x1ab)]&&this['currentSystemMode']===setup[_0x228a53(0x21c)]['NORMAL']&&await recorder[_0x228a53(0x1f0)](this,!![])),_0x5d5df8;}catch(_0x51cbaf){return![];}}async[a0_0x2beab4(0x1c4)](){const _0x525f22=a0_0x2beab4;this[_0x525f22(0x236)][_0x525f22(0x1a4)]('ü§ñ\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x525f22(0x1dc)](this),this[_0x525f22(0x1a3)](),this[_0x525f22(0x1e7)](),this[_0x525f22(0x1ba)]();}[a0_0x2beab4(0x1e7)](){const _0x59c66f=a0_0x2beab4;if(!this['isProVersion'])return;try{this[_0x59c66f(0x1c7)]('LTM.trainingData.sequences',(_0x298997,_0x2a275d)=>{const _0x59e99b=_0x59c66f;_0x2a275d&&_0x2a275d['val']&&pythonBridge['send'](this,'ANALYZE_GAIT',{'sequences':JSON['parse'](_0x2a275d[_0x59e99b(0x1d7)])});});}catch(_0x36ea61){}}async[a0_0x2beab4(0x1ba)](){const _0xa2fbc=a0_0x2beab4;if(!this[_0xa2fbc(0x1db)])return;try{const _0x5bb432=await recorder[_0xa2fbc(0x202)](this);if(_0x5bb432===null)return;const _0x2458e2={},_0x36aaa7=this[_0xa2fbc(0x1dd)][_0xa2fbc(0x1a1)]||[];for(const _0x20fd57 of _0x36aaa7){if(_0x20fd57[_0xa2fbc(0x228)]===_0xa2fbc(0x19d)&&_0x20fd57[_0xa2fbc(0x1c3)]){const _0x393208=this[_0xa2fbc(0x24a)][_0x20fd57['id']];if(_0x393208!==undefined)_0x2458e2[_0x20fd57[_0xa2fbc(0x1c3)]]=_0x393208;}}Object[_0xa2fbc(0x225)](_0x2458e2)[_0xa2fbc(0x229)]>0x0&&pythonBridge[_0xa2fbc(0x1b5)](this,_0xa2fbc(0x1f8),{'current_temps':_0x2458e2,'t_out':_0x5bb432});}catch(_0x3b7a64){}}[a0_0x2beab4(0x1a3)](){const _0x13178f=a0_0x2beab4;if(!this['rawEventLog']||this['rawEventLog'][_0x13178f(0x229)]===0x0)return;const _0x44c447=new Array(0x60)[_0x13178f(0x24f)](0x0),_0x1d3b62=new Date()[_0x13178f(0x20d)](0x0,0x0,0x0,0x0);this[_0x13178f(0x1e2)]['forEach'](_0x2c0db6=>{const _0x297a43=_0x13178f,_0x205da6=new Date(_0x2c0db6[_0x297a43(0x1b2)]);if(_0x205da6[_0x297a43(0x23d)]()>=_0x1d3b62){const _0x504015=_0x205da6[_0x297a43(0x1ce)](),_0x495c2b=_0x205da6[_0x297a43(0x1eb)](),_0x31d056=_0x504015*0x4+Math[_0x297a43(0x1fe)](_0x495c2b/0xf);if(_0x31d056>=0x0&&_0x31d056<0x60)_0x44c447[_0x31d056]++;}}),this[_0x13178f(0x219)]('analysis.health.todayVector',{'val':JSON['stringify'](_0x44c447),'ack':!![]});}[a0_0x2beab4(0x232)](){const _0x556b23=a0_0x2beab4;if(!this[_0x556b23(0x1de)]||this[_0x556b23(0x1de)][_0x556b23(0x229)]<0x2)return;const _0x2d692c=this['dailyDigests'][_0x556b23(0x21f)](_0x46832c=>{const _0x41ef1c=_0x556b23,_0x5cedaf=(_0x46832c[_0x41ef1c(0x231)]||'')[_0x41ef1c(0x1c2)]();return ACTIVITY_LEVEL_MAP[_0x5cedaf]||0x32;});pythonBridge['send'](this,'ANALYZE_TREND',{'values':_0x2d692c,'tag':'Activity-Level'});}}if(require['main']!==module)module['exports']=_0x5891d1=>new CogniLiving(_0x5891d1);else new CogniLiving();function a0_0x522e(_0x912e76,_0x412c9d){const _0x241601=a0_0x2feb();return a0_0x522e=function(_0x58b27f,_0x2d6eb6){_0x58b27f=_0x58b27f-0x199;let _0x2febae=_0x241601[_0x58b27f];return _0x2febae;},a0_0x522e(_0x912e76,_0x412c9d);}function a0_0x2feb(){const _0x510f07=['geminiModel','abortExitTimer','constructor','values','(((.+)+)+)+$','updateLocation','getEnums','setHours','TRAIN_HEALTH','analysis.training.triggerEnergy','triggerDailyDigest','version','analysisHistory','cancel','bind','LTM.trainingData.thermodynamics','301TWVzpQ','exitTimer','forEach','setStateAsync','split','3186540tetSDe','SYSTEM_MODES','systemConfig','scanForDevices','map','initHistory','notifyTelegramInstance','initZombies','loadSystemMode','onReady','keys','currentSystemMode','analysis.automation.autoApply','type','length','analysis.topology.structure','SET_TOPOLOGY','inactivityThresholdHours','analysis.triggerBriefing','isGracePeriodActive','NORMAL','find','activityLevel','runPythonHealthCheck','LTM.rawEventLog','callback','./lib/scheduler','log','common','subscribeForeignStatesAsync','getStateAsync','pop','genAI','TRAIN_SECURITY','getTime','getOverviewData','dependencyInstallInProgress','onUnload','online','üõãÔ∏è\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...','cogni-living','enum.rooms.*','8fQFWNr','parse','getGenerativeModel','sendMorningBriefing','join','sensorLastValues','eventHistory','namespace','üï∏Ô∏è\x20Manually\x20triggering\x20Topology\x20Update...','./lib/topology','fill','./lib/python_bridge','4470MfIDPG','startService','5025psyLqy','analysis.training.status','checkWifiPresence','analysis.training.triggerTopology','analysisTimer','temperature','setState','onMessage','ltmJob','devices','from','updateHealthVector','debug','licenseKey','LTM.triggerDailyDigest','analysis.trigger','analysis.training.triggerHealth','presenceDevices','command','isPresent','now','slice','checkAndInstall','setupDriftAnalysisScheduler','info','LTM.baselineStatus','timestamp','@google/generative-ai','\x20Tage)','send','apply','.system.mode','createAllObjects','analysis.automation.triggerAction','triggerEnergyPrediction','sendTo','startSystem','249798XOwKdT','modeResetJob','application/json','TRAIN_ENERGY','VACATION','toLowerCase','location','runAutopilot','PYTHON_EXE','push','getState','createDailyDigest','search','driftAnalysisTimer','testApiKey','updateTopology','endsWith','getHours','LTM.dailyDigests','15657360PxgevD','unload','getForeignStateAsync','updated','ack','stringify','models/gemini-flash-latest','val','matrix','Gemini\x20AI\x20initialized.','exitGraceTimer','isProVersion','runGeminiAnalysis','config','dailyDigests','briefingJob','message','./lib/dead_man','rawEventLog','WiFi\x20Presence\x20detected.','enum.functions.*','üï∏Ô∏è\x20Topology\x20Graph\x20manually\x20updated\x20by\x20user.','subscribeStates','triggerGaitAnalysis','cogni-living\x20adapter\x20starting\x20(v','onStateChange','toString','getMinutes','SYSTEM_DP_MODE','analysisInterval','Gemini\x20Init\x20Error:\x20','üß†\x20Triggering\x20Security\x20Training...','setPresence','error','Topology\x20Update\x20Error:\x20','scanDevices','analysis.training.triggerSecurity','communicate.request','analysis.training.triggerComfort','name','PREDICT_ENERGY','1325420BUoUVy','110000eVCYmw','getForeignObjectsAsync','ready','setupModeResetScheduler','floor','includes','752611OgQFCZ','minDaysForBaseline','getOutsideTemperatureNumeric','setupBriefingScheduler','@iobroker/adapter-core','./lib/recorder'];a0_0x2feb=function(){return _0x510f07;};return a0_0x2feb();}