const a0_0x59c408=a0_0x1e8a;(function(_0x538839,_0x4f5524){const _0x24e875=a0_0x1e8a,_0x1d7bce=_0x538839();while(!![]){try{const _0x3a2c52=-parseInt(_0x24e875(0x1c7))/0x1+parseInt(_0x24e875(0x21b))/0x2+-parseInt(_0x24e875(0x14a))/0x3*(-parseInt(_0x24e875(0x1bd))/0x4)+-parseInt(_0x24e875(0x23e))/0x5+parseInt(_0x24e875(0x1f9))/0x6*(-parseInt(_0x24e875(0x216))/0x7)+-parseInt(_0x24e875(0x251))/0x8+parseInt(_0x24e875(0x169))/0x9;if(_0x3a2c52===_0x4f5524)break;else _0x1d7bce['push'](_0x1d7bce['shift']());}catch(_0x3526f2){_0x1d7bce['push'](_0x1d7bce['shift']());}}}(a0_0x1085,0x2cd1e));const a0_0x3555ad=(function(){let _0x3d83de=!![];return function(_0x103a80,_0x578a88){const _0x457e7f=_0x3d83de?function(){const _0x40cb4e=a0_0x1e8a;if(_0x578a88){const _0x5af425=_0x578a88[_0x40cb4e(0x280)](_0x103a80,arguments);return _0x578a88=null,_0x5af425;}}:function(){};return _0x3d83de=![],_0x457e7f;};}()),a0_0x50240f=a0_0x3555ad(this,function(){const _0x64abd8=a0_0x1e8a;return a0_0x50240f[_0x64abd8(0x108)]()['search'](_0x64abd8(0x264))[_0x64abd8(0x108)]()[_0x64abd8(0x1ca)](a0_0x50240f)[_0x64abd8(0x177)](_0x64abd8(0x264));});a0_0x50240f();'use strict';const utils=require(a0_0x59c408(0xf8)),{GoogleGenerativeAI}=require('@google/generative-ai'),schedule=require(a0_0x59c408(0x10e)),axios=require(a0_0x59c408(0x1f4)),HISTORY_MAX_SIZE=0x32,FEEDBACK_MAX_SIZE=0x14,GEMINI_MODEL=a0_0x59c408(0x1da),ANALYSIS_HISTORY_MAX_SIZE=0x64,RAW_LOG_MAX_SIZE=0x5dc,DAILY_DIGEST_MAX_SIZE_LIMIT=0xb4,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,LTM_SCHEDULE='0\x203\x20*\x20*\x20*',LTM_DP_RAW_LOG=a0_0x59c408(0x148),LTM_DP_DAILY_DIGESTS=a0_0x59c408(0x11e),LTM_DP_STATUS='LTM.processingStatus',LTM_DP_TRIGGER_DIGEST='LTM.triggerDailyDigest',LTM_DP_BASELINE_STATUS=a0_0x59c408(0x23f),LTM_DP_DRIFT_CHANNEL=a0_0x59c408(0x1d4),LTM_DP_DRIFT_STATUS='LTM.driftAnalysis.baselineDrift',LTM_DP_DRIFT_DETAILS=a0_0x59c408(0x209),LTM_DP_DRIFT_LAST_CHECK=a0_0x59c408(0x222),SYSTEM_DP_MODE=a0_0x59c408(0x1f7),MODE_RESET_SCHEDULE=a0_0x59c408(0x29b),SYSTEM_MODES={'NORMAL':a0_0x59c408(0x276),'VACATION':a0_0x59c408(0x134),'PARTY':a0_0x59c408(0x170),'GUEST':a0_0x59c408(0x144)},AUTO_RESET_MODES=[SYSTEM_MODES['PARTY'],SYSTEM_MODES[a0_0x59c408(0x211)]],PERSONA_MAPPING={'generic':'Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','senior_aal':a0_0x59c408(0x273),'family':a0_0x59c408(0x130),'single_comfort':a0_0x59c408(0x29f),'security':a0_0x59c408(0x150)};function a0_0x1085(){const _0x4d3a29=['setState','openweathermap.','No\x20recent\x20activity.','indicator.alarm','No\x20Key','minDaysForBaseline','ROLLE:\x20Data\x20Scientist.\x20VERGLEICHE:\x20Dataset\x20A\x20(Recent)\x20vs\x20B\x20(Established).\x20ZIEL:\x20Erkenne\x20Drift.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aB\x20(LTB):\x0a','error','(((.+)+)+)+$','command','unshift','.level','toLocaleString','notifyEmailEnabled','VACATION','getForeignObjectAsync','system.meta.uuid','some','\x20Tage)','notifyEmailInstance','firmware',',\x20Location:\x20','getStateAsync','PRIORIT√ÑT:\x20Gesundheit\x20und\x20Sicherheit\x20f√ºr\x20Senioren\x20(AAL).\x20Erkenne\x20Inaktivit√§t,\x20potenzielle\x20St√ºrze\x20(indirekt),\x20ungew√∂hnliche\x20n√§chtliche\x20Aktivit√§t.\x20Komfort\x20ist\x20sekund√§r.','k√ºche','\x20sensors...','normal','string','onStateChange','state','PARTY','historyId','value.temperature','detectionState','updateBaselineStatus','version','apply','leuchte','find','notifyPushoverInstance','Processing\x20Status','resetAnalysisStates','feedbackHistory','driftAnalysisTimer','Badezimmer','Raw\x20Log','\x22\x20at\x20','testNotification','Konnte\x20System-Standort\x20nicht\x20laden.','analysis.deviationFromBaseline','bind','runGeminiAnalysis','AI\x20Alert\x20Status','system.config','json','Comfort\x20Summary','pr√§senz','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20AUTOMATION:\x20patternDetected=true/false.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20','PRO-','analysisInterval','Subscribing\x20to\x20','Running\x20in\x20FREE\x20mode\x20(LTM\x20&\x20Automation\x20disabled).','.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','0\x204\x20*\x20*\x20*','wind','generateContent','Action','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung\x20f√ºr\x20einen\x20einzelnen\x20Bewohner.\x20Aktivit√§tsmuster\x20sind\x20flexibel.','t√ºr','UNREACH','N/A\x20(No\x20Activity)','description','licht','onReady','@iobroker/adapter-core','Gemini\x20AI\x20initialized.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20MODUS:\x20','ltmStbWindowDays','Logbook','aiPersona','\x20f√ºr\x20Event\x20','CONNECTION','uuid','WORKING','catch','stateChange','Success:\x20Compressed\x20','uuid-not-found','Lizenzpr√ºfung\x20gestartet\x20f√ºr\x20System-UUID:\x20','Analysis\x20Error:\x20','toString','1.\x20ANALYSE:\x20Bewerte\x20Sensor-Events.\x20deviation=\x27N/A\x27.','Garten','devices','last\x20action','licenseKey','node-schedule','manufacturer','Comfort\x20Suggestion','setupDriftAnalysisScheduler','analysis.isAlert','notifyEmailRecipient','DUTYCYCLE','2-digit','productname','checkSystemObjects','apiKey','analysis.alertReason',',\x20Lon\x20','Automation\x20Proposals','flot.','weatherunderground.','LTM.dailyDigests','text','LOW_BAT','Party','notifyPushoverEnabled','saveFeedback','alertReason','Deaktiviert\x20(Pro-Feature)','Missing\x20data','notifyWhatsappInstance','callback','Licht','notifyWhatsappRecipient','notifySignalRecipient','timestamp','NORMAL','sensorLastValues','dailyDigests','Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.\x20Erwarte\x20hohe\x20Aktivit√§tsniveaus.','analysis.automation','systemConfig','\x20was\x20FALSE.\x20Reason:\x20','vacation','analysis.activitySummary','subscribeForeignStatesAsync','INSTALL_TEST','fenster','Baseline:\x20Inactive.','createAllObjects','info','runBaselineDriftAnalysis','analysis.automation.suggestedAction','substring','analysisHistory','.bri','scriptProblem','setupModeResetScheduler','switch.light','guest','presence','N/A\x20(Pro\x20Feature)','val','LTM.rawEventLog','ready','16878asJQGn','genAI','latitude','Flur','Trigger\x20Digest','rawEventLog','PRIORIT√ÑT:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungew√∂hnliche\x20Anwesenheit\x20bei\x20Abwesenheit\x20der\x20Bewohner\x20oder\x20Fehlfunktionen,\x20die\x20auf\x20ein\x20Sicherheitsrisiko\x20hindeuten.','push','join','process','temp','channel','occupancy','trim','.brightness','checkLicense','temperatur','Drift\x20Status','üö®\x20Alarm:\x20','sendTo','getGenerativeModel','sat','loadDailyDigests','Alert','Skipped\x20(No\x20AI\x20or\x20Data)','unknown','now','system.','longitude','analysis.automation.description','[Test]\x20Notification','4926501MAZDYn','isAlert','onMessage','onUnload','city','button','notifySignalEnabled','party','effect','N/A\x20(Learning)','ROLLE:\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20KONTEXT:\x20','ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20','K√ºche','mode','search','toLocaleTimeString','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20}\x20}','cancel','admin.','Feedback\x20Log','loadRawEventLog','generic','summary','automationProposal','loadSystemMode','lights','Temperatur','activityLevel','bad','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','N/A','modeResetJob','sendToAsync','sendNotification','length','lastAlertState','filter','WEEK_PROGRAM','Aktiv\x20(','SECTION','temperature','scheduleJob','boolean','Rauchmelder','analysis.lastResult','Trigger\x20Analysis','exports','[TEST]\x20','ack','sort','long','common','LOWBAT','Normal','details','map','getForeignObjectsAsync','motion','namespace','isProVersion','\x0a\x0aUSER\x20FEEDBACK\x20/\x20LERN-CONTEXT\x20(Vermeide\x20diese\x20Fehler):\x0a','value.humidity','selectedFunctionIds','response','object','main','STANDORT:\x20Lat\x20','enum.rooms.*','endsWith','forecast','Feedback\x20gespeichert:\x20','pressure','notifyTelegramEnabled','events.history','analysis.comfortSummary','Gemini\x20API\x20Key\x20missing.\x20AI\x20features\x20disabled.','getEnums','garten','Baseline\x20Status','values','message','rating','runAutopilot','indicator','224ZrOsvx','native','min','eventHistory','extendObjectAsync','role','text.alarm','Received\x20scanDevices\x20request\x20from\x20Admin\x20UI.','icons-mfd.','notifySignalInstance','311116OeRmZx','STICKY_UNREACH','ALARM','constructor','geminiApiKey','analysis.trigger','warn','stringify','false_positive','Gast','date','Last\x20Check','_score','LTM.driftAnalysis','Lernphase\x20(','analysisTimer','Fenster/T√ºr','DUTY_CYCLE','Adapter','models/gemini-flash-latest','history','reachable','weather','notifyTelegramInstance','setStateAsync','icon','bewegung','checkLtmDriftObjects','location','ltmJob','doors','Pro\x20Feature','scriptEnabled','Daily\x20Digests','lastCheck','pop','history.','‚úÖ\x20Server\x20(simuliert):\x20Lizenz\x20g√ºltig.','Schalter/Licht','name','notifyWhatsappEnabled','Sending\x20notification:\x20\x22','events.lastEvent','Success','updateAnalysisHistory','axios','slice','saveDailyDigests','system.mode','analysis.analysisHistory','6wktptu','info.','ltmLtbWindowDays','\x0a\x0aA\x20(STB):\x0a','subscribeStates','\x20min).','diele','send','modelid','AES_KEY','splice','checkLtmObjects','number','link_quality','-\x20User\x20Feedback:\x20Alarm\x20\x22','analysis.automation.patternDetected','LTM.driftAnalysis.driftDetails','toLowerCase','Drift\x20Details','System\x20Mode','RSSI','smoke','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AUFGABE:\x20','OPERATING_VOLTAGE','GUEST','notifyTelegramRecipient','setObjectNotExistsAsync','baselineDrift','status','2493127rPIUQU','hue','Bewegung','includes','reverse','593940YVGyQl','ERROR_CODE','toISOString','parse','config','level.dimmer','uniqueid','LTM.driftAnalysis.lastCheck','flur','analysis.feedbackHistory','getLtmData','systemUUID','split','startsWith','ERROR','Gemini\x20Init\x20Error:\x20','scanForDevices','from','last_seen','patternDetected','PROCESS','.state','getSystemUUID','write','application/json','rain','setupLtmScheduler','javascript.0.script','Error:\x20','wohn','Starting\x20Smart\x20Scan\x20with\x20filters:\x20','geminiModel','‚úÖ\x20License\x20check\x20successful:\x20PRO\x20features\x20enabled.','enum','enum.functions.*','1155750XPdkUP','LTM.baselineStatus','Event\x20History','driftDetails','LTM','createDailyDigest','sensor.door','saveRawEventLog','level','signal','alert','\x20events','sensor.motion','.\x20KONTEXT:\x20','Last\x20Result','TEST-PRO-KEY','debug','currentSystemMode','accuweather.','619248JuqItv','Urlaub','deviationFromBaseline','update','max','replace','\x20sent','livingContext','Started\x20at\x20','activity','log'];a0_0x1085=function(){return _0x4d3a29;};return a0_0x1085();}class CogniLiving extends utils[a0_0x59c408(0x1d9)]{constructor(_0x32fc95){const _0x3c0884=a0_0x59c408;super({..._0x32fc95,'name':'cogni-living'}),this[_0x3c0884(0x1c0)]=[],this[_0x3c0884(0x13f)]=[],this[_0x3c0884(0x286)]=[],this[_0x3c0884(0x14f)]=[],this[_0x3c0884(0x12f)]=[],this['sensorLastValues']={},this[_0x3c0884(0x132)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x3c0884(0x14b)]=null,this[_0x3c0884(0x23a)]=null,this['currentSystemMode']=SYSTEM_MODES['NORMAL'],this['isProVersion']=![],this[_0x3c0884(0x18c)]=![],this[_0x3c0884(0x226)]=_0x3c0884(0x163),this['analysisTimer']=null,this[_0x3c0884(0x1e4)]=null,this[_0x3c0884(0x188)]=null,this[_0x3c0884(0x287)]=null,this['on'](_0x3c0884(0x149),this[_0x3c0884(0xf7)][_0x3c0884(0x28e)](this)),this['on'](_0x3c0884(0x103),this[_0x3c0884(0x278)]['bind'](this)),this['on']('unload',this['onUnload'][_0x3c0884(0x28e)](this)),this['on'](_0x3c0884(0x1b9),this[_0x3c0884(0x16b)][_0x3c0884(0x28e)](this));}async['onReady'](){const _0x3aa9ea=a0_0x59c408,_0x566629=this[_0x3aa9ea(0x27f)]||_0x3aa9ea(0x163);this[_0x3aa9ea(0x25b)]['info']('cogni-living\x20adapter\x20starting\x20(v'+_0x566629+')'),this['config'][_0x3aa9ea(0x10d)]=this[_0x3aa9ea(0x21f)][_0x3aa9ea(0x10d)]||'',this['isProVersion']=await this[_0x3aa9ea(0x159)](this[_0x3aa9ea(0x21f)][_0x3aa9ea(0x10d)]);this[_0x3aa9ea(0x1a4)]?this[_0x3aa9ea(0x25b)]['info'](_0x3aa9ea(0x23b)):this[_0x3aa9ea(0x25b)][_0x3aa9ea(0x13b)](_0x3aa9ea(0x299));if(!this[_0x3aa9ea(0x21f)][_0x3aa9ea(0x261)]||this[_0x3aa9ea(0x21f)][_0x3aa9ea(0x261)]<0x1)this[_0x3aa9ea(0x21f)][_0x3aa9ea(0x261)]=0x7;if(!this['config'][_0x3aa9ea(0xfb)]||this[_0x3aa9ea(0x21f)][_0x3aa9ea(0xfb)]<0x1)this[_0x3aa9ea(0x21f)][_0x3aa9ea(0xfb)]=0xe;if(!this[_0x3aa9ea(0x21f)]['ltmLtbWindowDays']||this[_0x3aa9ea(0x21f)]['ltmLtbWindowDays']<0x1e)this[_0x3aa9ea(0x21f)][_0x3aa9ea(0x1fb)]=0x3c;this[_0x3aa9ea(0x21f)][_0x3aa9ea(0x1fb)]=Math[_0x3aa9ea(0x1bf)](Math[_0x3aa9ea(0x255)](this[_0x3aa9ea(0x21f)]['ltmLtbWindowDays'],this[_0x3aa9ea(0x21f)][_0x3aa9ea(0xfb)]+0xe),DAILY_DIGEST_MAX_SIZE_LIMIT);try{const _0x54a416=await this[_0x3aa9ea(0x26b)](_0x3aa9ea(0x291));_0x54a416&&_0x54a416[_0x3aa9ea(0x19c)]&&(this[_0x3aa9ea(0x132)][_0x3aa9ea(0x14c)]=_0x54a416[_0x3aa9ea(0x19c)]['latitude']||0x0,this[_0x3aa9ea(0x132)][_0x3aa9ea(0x166)]=_0x54a416[_0x3aa9ea(0x19c)][_0x3aa9ea(0x166)]||0x0,this[_0x3aa9ea(0x132)]['city']=_0x54a416[_0x3aa9ea(0x19c)]['city']||'',this[_0x3aa9ea(0x25b)][_0x3aa9ea(0x13b)]('üìç\x20Standort\x20geladen:\x20'+(this['systemConfig'][_0x3aa9ea(0x16d)]||'Unbekannt')+'\x20('+this[_0x3aa9ea(0x132)][_0x3aa9ea(0x14c)]+',\x20'+this[_0x3aa9ea(0x132)]['longitude']+')'));}catch(_0x449b9c){this['log']['warn'](_0x3aa9ea(0x28c));}if(this['config'][_0x3aa9ea(0x1cb)])try{this['genAI']=new GoogleGenerativeAI(this[_0x3aa9ea(0x21f)]['geminiApiKey']),this[_0x3aa9ea(0x23a)]=this[_0x3aa9ea(0x14b)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3aa9ea(0x233)}}),this[_0x3aa9ea(0x25b)][_0x3aa9ea(0x13b)](_0x3aa9ea(0xf9));}catch(_0x1f7d99){this[_0x3aa9ea(0x25b)]['error'](_0x3aa9ea(0x22a)+_0x1f7d99['message']);}else this[_0x3aa9ea(0x25b)][_0x3aa9ea(0x1cd)](_0x3aa9ea(0x1b4));await this[_0x3aa9ea(0x13a)](),await this[_0x3aa9ea(0x181)]();const _0x4201e7=await this[_0x3aa9ea(0x272)](_0x3aa9ea(0x112));this[_0x3aa9ea(0x18c)]=_0x4201e7?!!_0x4201e7[_0x3aa9ea(0x147)]:![];try{const _0xdc5789=await this[_0x3aa9ea(0x272)](_0x3aa9ea(0x1f8));if(_0xdc5789&&_0xdc5789[_0x3aa9ea(0x147)])this['analysisHistory']=JSON[_0x3aa9ea(0x21e)](_0xdc5789[_0x3aa9ea(0x147)][_0x3aa9ea(0x108)]());}catch(_0x2a8b41){this['analysisHistory']=[];}try{const _0x3e81c6=await this['getStateAsync'](_0x3aa9ea(0x224));if(_0x3e81c6&&_0x3e81c6[_0x3aa9ea(0x147)])this[_0x3aa9ea(0x286)]=JSON[_0x3aa9ea(0x21e)](_0x3e81c6[_0x3aa9ea(0x147)][_0x3aa9ea(0x108)]());}catch(_0x2c5711){this['feedbackHistory']=[];}await this[_0x3aa9ea(0x17d)](),await this[_0x3aa9ea(0x160)](),this[_0x3aa9ea(0x1fd)](_0x3aa9ea(0x1cc)),this[_0x3aa9ea(0x1fd)](LTM_DP_TRIGGER_DIGEST),this['subscribeStates'](SYSTEM_DP_MODE);const _0x42995b=this['config'][_0x3aa9ea(0x10b)];if(_0x42995b&&_0x42995b['length']>0x0){this['log'][_0x3aa9ea(0x13b)](_0x3aa9ea(0x298)+_0x42995b['length']+_0x3aa9ea(0x275));for(const _0x5d1da5 of _0x42995b){if(_0x5d1da5['id']){await this[_0x3aa9ea(0x136)](_0x5d1da5['id']);try{const _0x11ae8e=await this['getForeignStateAsync'](_0x5d1da5['id']);if(_0x11ae8e)this[_0x3aa9ea(0x12e)][_0x5d1da5['id']]=_0x11ae8e['val'];}catch(_0x266394){}}}}if(this[_0x3aa9ea(0x1d6)])clearInterval(this[_0x3aa9ea(0x1d6)]);const _0x408503=this['config'][_0x3aa9ea(0x297)]||0xf;_0x408503>0x0&&(this['log'][_0x3aa9ea(0x13b)]('Starting\x20Autopilot\x20('+_0x408503+_0x3aa9ea(0x1fe)),this[_0x3aa9ea(0x1d6)]=setInterval(()=>this[_0x3aa9ea(0x1bb)](),_0x408503*0x3c*0x3e8)),this[_0x3aa9ea(0x235)](),this['setupModeResetScheduler'](),this[_0x3aa9ea(0x111)]();}async[a0_0x59c408(0x22b)](_0x2d4fba={}){const _0x3b2b18=a0_0x59c408;this[_0x3b2b18(0x25b)]['info'](_0x3b2b18(0x239)+JSON[_0x3b2b18(0x1ce)](_0x2d4fba));const _0xc8eb97=[],_0x4333ce=_0x2d4fba[_0x3b2b18(0x1a2)]!==![],_0x4312b5=_0x2d4fba[_0x3b2b18(0x1e5)]!==![],_0x5ee45c=_0x2d4fba[_0x3b2b18(0x182)]!==![],_0x413ca7=_0x2d4fba[_0x3b2b18(0x191)]===!![],_0x1ad435=_0x2d4fba[_0x3b2b18(0x1dd)]===!![],_0x469277=_0x2d4fba[_0x3b2b18(0x1a7)]||[],_0x37851b=await this[_0x3b2b18(0x1a1)](_0x3b2b18(0x1ac),_0x3b2b18(0x23c)),_0x299b52=await this[_0x3b2b18(0x1a1)](_0x3b2b18(0x23d),_0x3b2b18(0x23c)),_0x3052bd={},_0x3ec71e={},_0x26fd1c={},_0x766e40=(_0x26f54d,_0x780b9f,_0x54e552=![])=>{const _0x1b6227=_0x3b2b18;if(!_0x26f54d)return;for(const _0x3fcd5c in _0x26f54d){const _0x191ecd=_0x26f54d[_0x3fcd5c];if(_0x191ecd&&_0x191ecd[_0x1b6227(0x19c)]&&_0x191ecd[_0x1b6227(0x19c)]['members']){const _0x24d392=(typeof _0x191ecd['common'][_0x1b6227(0x1ee)]==='object'?_0x191ecd[_0x1b6227(0x19c)][_0x1b6227(0x1ee)]['de']:_0x191ecd[_0x1b6227(0x19c)][_0x1b6227(0x1ee)])||_0x191ecd[_0x1b6227(0x19c)][_0x1b6227(0x1ee)];if(_0x54e552)_0x26fd1c[_0x3fcd5c]=_0x24d392;for(const _0x2c02ee of _0x191ecd['common']['members']){if(_0x54e552){if(!_0x780b9f[_0x2c02ee])_0x780b9f[_0x2c02ee]=[];_0x780b9f[_0x2c02ee][_0x1b6227(0x151)](_0x3fcd5c);}else _0x780b9f[_0x2c02ee]=_0x24d392;}}}};_0x766e40(_0x37851b,_0x3052bd),_0x766e40(_0x299b52,_0x3ec71e,!![]);const _0x1b9dc3=await this['getForeignObjectsAsync']('*','state'),_0x3a39d8=[_0x3b2b18(0x2a1),_0x3b2b18(0x19d),_0x3b2b18(0x120),_0x3b2b18(0x20d),_0x3b2b18(0x229),'FAULT','SABOTAGE',_0x3b2b18(0x1c9),'CONFIG_PENDING',_0x3b2b18(0x114),_0x3b2b18(0x1d8),_0x3b2b18(0x101),'DIRECTION',_0x3b2b18(0x1c8),_0x3b2b18(0x210),'VIRTUAL_CHANNEL',_0x3b2b18(0x137),'COMBINED_PARAMETER',_0x3b2b18(0x18e),'ON_TIME',_0x3b2b18(0x190),_0x3b2b18(0x21c),_0x3b2b18(0x22f),_0x3b2b18(0x202),_0x3b2b18(0xff),_0x3b2b18(0x1dc),_0x3b2b18(0x206),'battery',_0x3b2b18(0x254),_0x3b2b18(0x270),_0x3b2b18(0x27f),'connection',_0x3b2b18(0x13b),_0x3b2b18(0x247),_0x3b2b18(0x22d),_0x3b2b18(0x10c),'archetype',_0x3b2b18(0x248),_0x3b2b18(0x176),'colormode',_0x3b2b18(0x171),'xy','ct',_0x3b2b18(0x217),_0x3b2b18(0x15f),_0x3b2b18(0x116),_0x3b2b18(0x10f),_0x3b2b18(0x201),_0x3b2b18(0x221),_0x3b2b18(0x265),'mac\x20address',_0x3b2b18(0xf5),'capabilities',_0x3b2b18(0x153),_0x3b2b18(0x1e7),_0x3b2b18(0x141),_0x3b2b18(0x236),_0x3b2b18(0x27d),'summary',_0x3b2b18(0x1e0),_0x3b2b18(0x1db),_0x3b2b18(0x1ae),_0x3b2b18(0x13b),_0x3b2b18(0x292)];if(!_0x1ad435)_0x3a39d8[_0x3b2b18(0x151)]('wetter',_0x3b2b18(0x1dd),_0x3b2b18(0x29c),_0x3b2b18(0x1b0),'uv',_0x3b2b18(0x234),'precip');const _0x5a2a2a=[_0x3b2b18(0x165),_0x3b2b18(0x17b),_0x3b2b18(0x1fa),'vis.',_0x3b2b18(0x1eb),'material.',_0x3b2b18(0x1c5),_0x3b2b18(0x11c)];if(!_0x1ad435)_0x5a2a2a[_0x3b2b18(0x151)]('daswetter.',_0x3b2b18(0x11d),_0x3b2b18(0x250),'yr.',_0x3b2b18(0x25d));const _0x1dd45c=(_0x45f289,_0x415fc1,_0x5739fa=![])=>{const _0x56f1da=_0x3b2b18,_0x2037c7=_0x45f289[_0x56f1da(0x227)]('.');if(_0x415fc1[_0x45f289])return _0x415fc1[_0x45f289];if(_0x2037c7['length']>0x2&&_0x415fc1[_0x2037c7[_0x56f1da(0x1f5)](0x0,-0x1)['join']('.')])return _0x415fc1[_0x2037c7['slice'](0x0,-0x1)[_0x56f1da(0x152)]('.')];if(_0x2037c7[_0x56f1da(0x18b)]>0x3&&_0x415fc1[_0x2037c7[_0x56f1da(0x1f5)](0x0,-0x2)[_0x56f1da(0x152)]('.')])return _0x415fc1[_0x2037c7['slice'](0x0,-0x2)[_0x56f1da(0x152)]('.')];return _0x5739fa?[]:null;};for(const _0x3d2426 in _0x1b9dc3){const _0x12d350=_0x1b9dc3[_0x3d2426];if(!_0x12d350||!_0x12d350[_0x3b2b18(0x19c)])continue;if(_0x5a2a2a[_0x3b2b18(0x26d)](_0x541823=>_0x3d2426[_0x3b2b18(0x228)](_0x541823)))continue;const _0x3c89ce=_0x12d350['common'][_0x3b2b18(0x1c2)]||'',_0x43050e=(_0x12d350[_0x3b2b18(0x19c)][_0x3b2b18(0x1ee)]&&typeof _0x12d350[_0x3b2b18(0x19c)]['name']===_0x3b2b18(0x1a9)?_0x12d350[_0x3b2b18(0x19c)]['name']['de']:_0x12d350[_0x3b2b18(0x19c)][_0x3b2b18(0x1ee)])||'',_0x2bf96f=_0x3d2426['toUpperCase'](),_0x5a5e03=_0x43050e?_0x43050e[_0x3b2b18(0x20a)]():'',_0x3be98d=_0x3d2426[_0x3b2b18(0x20a)](),_0x45ddc5=_0x1dd45c(_0x3d2426,_0x3052bd),_0x32773c=_0x1dd45c(_0x3d2426,_0x3ec71e,!![]);let _0x245306=null,_0x1cb1d6=![];if(_0x32773c&&_0x32773c[_0x3b2b18(0x18b)]>0x0){const _0x535cf7=_0x32773c[_0x3b2b18(0x282)](_0x5d4703=>_0x469277[_0x3b2b18(0x219)](_0x5d4703));if(_0x535cf7){_0x1cb1d6=!![];const _0x4a66ca=_0x26fd1c[_0x535cf7];if(_0x3be98d['includes'](_0x3b2b18(0x145))||_0x3be98d[_0x3b2b18(0x219)](_0x3b2b18(0x1a2)))_0x245306=_0x3b2b18(0x218);else{if(_0x3be98d[_0x3b2b18(0x219)](_0x3b2b18(0x20e))||_0x3be98d['includes']('fire')||_0x5a5e03[_0x3b2b18(0x219)]('rauch'))_0x245306=_0x3b2b18(0x194);else{if(_0x3be98d[_0x3b2b18(0x219)](_0x3b2b18(0x279))||_0x3be98d['includes'](_0x3b2b18(0x246))||_0x3be98d['includes']('on'))_0x245306=_0x3b2b18(0x1ed);else _0x245306=_0x4a66ca;}}}}if(!_0x1cb1d6&&!_0x1ad435){if(_0x3a39d8[_0x3b2b18(0x26d)](_0x32ab20=>_0x5a5e03['includes'](_0x32ab20)||_0x2bf96f[_0x3b2b18(0x219)](_0x32ab20)))continue;}if(!_0x245306&&_0x4333ce){const _0x1ad273=_0x3c89ce[_0x3b2b18(0x219)](_0x3b2b18(0x24a))||_0x3c89ce[_0x3b2b18(0x219)](_0x3b2b18(0x156)),_0x53dce3=_0x5a5e03['includes'](_0x3b2b18(0x1e1))||_0x5a5e03['includes'](_0x3b2b18(0x294));if(_0x1ad273||_0x53dce3)_0x245306=_0x3b2b18(0x218);}if(!_0x245306&&_0x4312b5){const _0x440d99=_0x3be98d[_0x3b2b18(0x219)]('shutter_contact')&&_0x3be98d['endsWith'](_0x3b2b18(0x230));(_0x440d99||_0x3c89ce['includes'](_0x3b2b18(0x244))||_0x3c89ce[_0x3b2b18(0x219)]('sensor.window')||(_0x5a5e03['includes'](_0x3b2b18(0x138))||_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0x2a0)))&&!_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0x154))&&!_0x5a5e03[_0x3b2b18(0x219)]('griff')&&(_0x12d350[_0x3b2b18(0x19c)]['type']===_0x3b2b18(0x193)||_0x12d350[_0x3b2b18(0x19c)]['type']===_0x3b2b18(0x205)))&&(_0x245306=_0x3b2b18(0x1d7));}if(!_0x245306&&_0x5ee45c){const _0x1bce2d=_0x3c89ce[_0x3b2b18(0x219)](_0x3b2b18(0x143))||_0x3c89ce['includes'](_0x3b2b18(0x220)),_0x7eb21c=_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0xf6))||_0x5a5e03['includes']('lampe')||_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0x281)),_0x1b4800=_0x3be98d[_0x3b2b18(0x1ad)]('.state')||_0x3be98d['endsWith']('.on')||_0x3be98d[_0x3b2b18(0x1ad)](_0x3b2b18(0x267))||_0x3be98d[_0x3b2b18(0x1ad)](_0x3b2b18(0x140))||_0x3be98d['endsWith'](_0x3b2b18(0x158));(_0x1bce2d||_0x7eb21c)&&_0x1b4800&&_0x12d350['common'][_0x3b2b18(0x232)]&&(_0x245306=_0x3b2b18(0x129));}!_0x245306&&_0x413ca7&&((_0x3c89ce[_0x3b2b18(0x219)](_0x3b2b18(0x27c))||_0x3c89ce['includes'](_0x3b2b18(0x1a6))||_0x5a5e03['includes'](_0x3b2b18(0x15a)))&&(_0x245306=_0x3b2b18(0x183)));if(_0x245306){let _0x2822bc=_0x45ddc5||'';if(!_0x2822bc){if(_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0x185)))_0x2822bc=_0x3b2b18(0x288);else{if(_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0x274)))_0x2822bc=_0x3b2b18(0x175);else{if(_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0x238)))_0x2822bc='Wohnzimmer';else{if(_0x5a5e03['includes']('schlaf'))_0x2822bc='Schlafzimmer';else{if(_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0x223))||_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0x1ff)))_0x2822bc=_0x3b2b18(0x14d);else{if(_0x5a5e03[_0x3b2b18(0x219)](_0x3b2b18(0x1b6)))_0x2822bc=_0x3b2b18(0x10a);}}}}}}let _0x1361ef=0x0;if(_0x1cb1d6)_0x1361ef+=0x1e;else{if(_0x45ddc5)_0x1361ef+=0x14;else{if(_0x2822bc)_0x1361ef+=0xa;}}_0xc8eb97[_0x3b2b18(0x151)]({'id':_0x3d2426,'name':_0x43050e||_0x3d2426,'type':_0x245306,'location':_0x2822bc,'logDuplicates':_0x245306===_0x3b2b18(0x218),'_score':_0x1361ef});}}return _0xc8eb97[_0x3b2b18(0x19a)]((_0x5c8eb4,_0xb276e8)=>_0xb276e8[_0x3b2b18(0x1d3)]-_0x5c8eb4[_0x3b2b18(0x1d3)]),_0xc8eb97;}async['getSystemUUID'](){const _0x13c040=a0_0x59c408;try{const _0x406253=await this[_0x13c040(0x26b)](_0x13c040(0x26c));if(_0x406253&&_0x406253[_0x13c040(0x1be)]&&_0x406253[_0x13c040(0x1be)]['uuid'])return _0x406253['native'][_0x13c040(0x100)];return _0x13c040(0x105);}catch(_0x221100){return'uuid-error';}}async[a0_0x59c408(0x159)](_0x2d5bd2){const _0x53a66c=a0_0x59c408;if(!_0x2d5bd2)return![];this['systemUUID']=await this[_0x53a66c(0x231)](),this[_0x53a66c(0x25b)]['info'](_0x53a66c(0x106)+this[_0x53a66c(0x226)]);if(_0x2d5bd2===_0x53a66c(0x24d))return this[_0x53a66c(0x25b)]['info']('‚ö†Ô∏è\x20DEV-MODE:\x20Lokaler\x20Test-Schl√ºssel\x20erkannt.\x20Pro-Features\x20aktiviert.'),!![];if(_0x2d5bd2[_0x53a66c(0x228)](_0x53a66c(0x296)))return this[_0x53a66c(0x25b)][_0x53a66c(0x13b)](_0x53a66c(0x1ec)),!![];return![];}async['createAllObjects'](){const _0x8a8400=a0_0x59c408;await this['checkSystemObjects'](),await this[_0x8a8400(0x213)](_0x8a8400(0x1f1),{'type':_0x8a8400(0x279),'common':{'name':'Last\x20raw\x20event','type':_0x8a8400(0x277),'role':_0x8a8400(0x292),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x8a8400(0x1b2),{'type':'state','common':{'name':_0x8a8400(0x240),'type':_0x8a8400(0x277),'role':_0x8a8400(0x292),'read':!![],'write':![]},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x1cc),{'type':_0x8a8400(0x279),'common':{'name':_0x8a8400(0x196),'type':_0x8a8400(0x193),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x195),{'type':_0x8a8400(0x279),'common':{'name':_0x8a8400(0x24c),'type':_0x8a8400(0x277),'role':_0x8a8400(0x292),'read':!![],'write':![]},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x112),{'type':'state','common':{'name':_0x8a8400(0x290),'type':'boolean','role':_0x8a8400(0x25f),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x119),{'type':_0x8a8400(0x279),'common':{'name':'Alert\x20Reason','type':_0x8a8400(0x277),'role':_0x8a8400(0x1c3),'read':!![],'write':![]},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x135),{'type':_0x8a8400(0x279),'common':{'name':'Activity\x20Summary','type':_0x8a8400(0x277),'role':_0x8a8400(0x11f),'read':!![],'write':![]},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x28d),{'type':_0x8a8400(0x279),'common':{'name':'Deviation','type':'string','role':_0x8a8400(0x279),'read':!![],'write':![],'def':_0x8a8400(0x187)},'native':{}}),await this['setObjectNotExistsAsync'](_0x8a8400(0x1b3),{'type':_0x8a8400(0x279),'common':{'name':_0x8a8400(0x293),'type':'string','role':_0x8a8400(0x11f),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.comfortSuggestion',{'type':_0x8a8400(0x279),'common':{'name':_0x8a8400(0x110),'type':_0x8a8400(0x277),'role':_0x8a8400(0x11f),'read':!![],'write':![]},'native':{}}),await this[_0x8a8400(0x1c1)](_0x8a8400(0x131),{'type':_0x8a8400(0x155),'common':{'name':_0x8a8400(0x11b)},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x208),{'type':'state','common':{'name':'Pattern\x20Detected','type':_0x8a8400(0x193),'role':_0x8a8400(0x1bc),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x167),{'type':'state','common':{'name':'Description','type':_0x8a8400(0x277),'role':_0x8a8400(0x11f),'read':!![],'write':![]},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x13d),{'type':_0x8a8400(0x279),'common':{'name':_0x8a8400(0x29e),'type':_0x8a8400(0x277),'role':_0x8a8400(0x11f),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x8a8400(0x1f8),{'type':_0x8a8400(0x279),'common':{'name':_0x8a8400(0xfc),'type':_0x8a8400(0x277),'role':_0x8a8400(0x292),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x8a8400(0x213)](_0x8a8400(0x224),{'type':'state','common':{'name':_0x8a8400(0x17c),'type':_0x8a8400(0x277),'role':_0x8a8400(0x292),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x8a8400(0x204)](),await this['checkLtmDriftObjects']();}[a0_0x59c408(0x278)](_0x4e9304,_0x607ee0){const _0x2e4cfa=a0_0x59c408;if(!_0x607ee0)return;if(_0x4e9304===this[_0x2e4cfa(0x1a3)]+'.'+SYSTEM_DP_MODE){_0x607ee0[_0x2e4cfa(0x147)]&&Object[_0x2e4cfa(0x1b8)](SYSTEM_MODES)[_0x2e4cfa(0x219)](_0x607ee0['val'])&&(this[_0x2e4cfa(0x24f)]=_0x607ee0[_0x2e4cfa(0x147)]);if(!_0x607ee0[_0x2e4cfa(0x199)])this[_0x2e4cfa(0x25c)](_0x4e9304,{'val':this[_0x2e4cfa(0x24f)],'ack':!![]});return;}if(!_0x607ee0[_0x2e4cfa(0x199)]){_0x4e9304[_0x2e4cfa(0x219)](_0x2e4cfa(0x1cc))&&_0x607ee0[_0x2e4cfa(0x147)]&&(this[_0x2e4cfa(0x25c)](_0x4e9304,{'val':![],'ack':!![]}),this['runGeminiAnalysis']());if(_0x4e9304['includes']('triggerDailyDigest')&&_0x607ee0[_0x2e4cfa(0x147)]){this[_0x2e4cfa(0x25c)](_0x4e9304,{'val':![],'ack':!![]});if(this[_0x2e4cfa(0x1a4)])this[_0x2e4cfa(0x243)]();}return;}const _0x261094=(this[_0x2e4cfa(0x21f)][_0x2e4cfa(0x10b)]||[])[_0x2e4cfa(0x282)](_0x4ba255=>_0x4ba255['id']===_0x4e9304);if(_0x261094)this['processSensorEvent'](_0x4e9304,_0x607ee0,_0x261094);}async['processSensorEvent'](_0x11b884,_0xfa2919,_0x514d3d){const _0x3ad4a1=a0_0x59c408;if(!_0x514d3d['logDuplicates']&&this[_0x3ad4a1(0x12e)][_0x11b884]===_0xfa2919[_0x3ad4a1(0x147)])return;this[_0x3ad4a1(0x12e)][_0x11b884]=_0xfa2919['val'];const _0x2b03cf={'timestamp':_0xfa2919['ts'],'id':_0x11b884,'name':_0x514d3d['name'],'value':_0xfa2919['val'],'location':_0x514d3d[_0x3ad4a1(0x1e3)],'type':_0x514d3d['type']};this[_0x3ad4a1(0x1c0)][_0x3ad4a1(0x266)](_0x2b03cf);if(this[_0x3ad4a1(0x1c0)][_0x3ad4a1(0x18b)]>HISTORY_MAX_SIZE)this[_0x3ad4a1(0x1c0)][_0x3ad4a1(0x1ea)]();await this['setStateAsync'](_0x3ad4a1(0x1f1),{'val':JSON[_0x3ad4a1(0x1ce)](_0x2b03cf),'ack':!![]}),this[_0x3ad4a1(0x14f)][_0x3ad4a1(0x151)]({'timestamp':new Date(_0xfa2919['ts'])[_0x3ad4a1(0x21d)](),'sensorName':_0x514d3d[_0x3ad4a1(0x1ee)],'location':_0x514d3d[_0x3ad4a1(0x1e3)],'value':_0xfa2919['val']}),await this[_0x3ad4a1(0x245)]();}['runAutopilot'](){const _0x204fd0=a0_0x59c408;if(this[_0x204fd0(0x1c0)]['length']===0x0){this[_0x204fd0(0x25c)]('analysis.isAlert',{'val':![],'ack':!![]}),this[_0x204fd0(0x285)]();return;}const _0x52324e=Date[_0x204fd0(0x164)]();if(_0x52324e-this[_0x204fd0(0x1c0)][0x0]['timestamp']>(this['config']['analysisInterval']||0xf)*0x3c*0x3e8){this[_0x204fd0(0x25c)]('analysis.isAlert',{'val':![],'ack':!![]}),this[_0x204fd0(0x285)]();return;}this[_0x204fd0(0x28f)]()[_0x204fd0(0x102)](_0x5761f1=>this[_0x204fd0(0x25b)]['error'](_0x5761f1));}async[a0_0x59c408(0x28f)](){const _0x5da1ab=a0_0x59c408;if(!this[_0x5da1ab(0x23a)]||this[_0x5da1ab(0x1c0)][_0x5da1ab(0x18b)]===0x0)return;const _0x42bf90=PERSONA_MAPPING[this['config'][_0x5da1ab(0xfd)]||_0x5da1ab(0x17e)],_0x1ec2f8=this[_0x5da1ab(0x21f)][_0x5da1ab(0x258)]||'',_0x4485f4=this[_0x5da1ab(0x24f)],_0x5f4f0b=new Date(),_0x4638c8=_0x5f4f0b['toLocaleString']('de-DE',{'weekday':_0x5da1ab(0x19b),'hour':_0x5da1ab(0x115),'minute':'2-digit'}),_0x30f850=this['systemConfig'],_0x4aab1f=_0x5da1ab(0x1ab)+_0x30f850[_0x5da1ab(0x14c)]+_0x5da1ab(0x11a)+_0x30f850[_0x5da1ab(0x166)]+'\x20('+(_0x30f850[_0x5da1ab(0x16d)]||'Unbekannt')+').\x20Nutze\x20dies\x20f√ºr\x20Sonnenstand/Lichtverh√§ltnisse.';this[_0x5da1ab(0x25b)][_0x5da1ab(0x24e)]('ü§ñ\x20AI\x20Prompt\x20Context\x20-\x20Time:\x20'+_0x4638c8+_0x5da1ab(0x271)+_0x30f850[_0x5da1ab(0x16d)]);let _0x366a90=_0x5da1ab(0x139),_0x16936e=_0x5da1ab(0x109);if(this[_0x5da1ab(0x1a4)]&&this[_0x5da1ab(0x12f)][_0x5da1ab(0x18b)]>=(this[_0x5da1ab(0x21f)][_0x5da1ab(0x261)]||0x7)&&_0x4485f4===SYSTEM_MODES[_0x5da1ab(0x12d)]){const _0x572927=this[_0x5da1ab(0x12f)][_0x5da1ab(0x1f5)](-(this[_0x5da1ab(0x21f)][_0x5da1ab(0xfb)]||0xe))[_0x5da1ab(0x21a)]();_0x366a90='STB\x20(Recent\x20History):\x20'+JSON[_0x5da1ab(0x1ce)](_0x572927),_0x16936e='1.\x20ANALYSE\x20&\x20DEVIATION:\x20Vergleiche\x20Events\x20mit\x20STB.\x20deviation=\x27none|slight|significant|critical\x27.';}let _0x96db2e='';if(this[_0x5da1ab(0x286)][_0x5da1ab(0x18b)]>0x0){const _0xf6e6a7=this[_0x5da1ab(0x286)][_0x5da1ab(0x18d)](_0x5ecfde=>_0x5ecfde[_0x5da1ab(0x1ba)]===_0x5da1ab(0x1cf)||_0x5ecfde[_0x5da1ab(0x1ba)]==='needs_improvement')['slice'](0x0,0x3)[_0x5da1ab(0x1a0)](_0x185bc3=>_0x5da1ab(0x207)+_0x185bc3['alertReason']+_0x5da1ab(0x28a)+new Date(_0x185bc3[_0x5da1ab(0x12c)])[_0x5da1ab(0x178)]()+_0x5da1ab(0x133)+(_0x185bc3['comment']||'No\x20comment')+'.')['join']('\x0a');_0xf6e6a7&&(_0x96db2e=_0x5da1ab(0x1a5)+_0xf6e6a7+'\x0a');}const _0x3b8878=_0x5da1ab(0x174)+_0x4638c8+'.\x20'+_0x4aab1f+_0x5da1ab(0xfa)+_0x4485f4+_0x5da1ab(0x24b)+_0x1ec2f8+'.\x20PERSONA:\x20'+_0x42bf90+_0x5da1ab(0x186)+_0x366a90+'\x20'+_0x96db2e+_0x5da1ab(0x20f)+_0x16936e+_0x5da1ab(0x295)+JSON[_0x5da1ab(0x1ce)](this[_0x5da1ab(0x1c0)])+_0x5da1ab(0x179);try{const _0x4b04f5=await this[_0x5da1ab(0x23a)]['generateContent'](_0x3b8878),_0x41bf01=JSON[_0x5da1ab(0x21e)](_0x4b04f5[_0x5da1ab(0x1a8)]['text']()[_0x5da1ab(0x256)](/```json|```/g,'')[_0x5da1ab(0x157)]());await this[_0x5da1ab(0x1df)](_0x5da1ab(0x195),{'val':JSON[_0x5da1ab(0x1ce)](_0x41bf01),'ack':!![]}),await this['setStateAsync'](_0x5da1ab(0x135),{'val':_0x41bf01[_0x5da1ab(0x25a)][_0x5da1ab(0x17f)]||_0x5da1ab(0x187),'ack':!![]}),await this['setStateAsync'](_0x5da1ab(0x28d),{'val':_0x41bf01[_0x5da1ab(0x25a)][_0x5da1ab(0x253)]||_0x5da1ab(0x187),'ack':!![]}),await this[_0x5da1ab(0x1df)]('analysis.alertReason',{'val':_0x41bf01['activity'][_0x5da1ab(0x124)]||'','ack':!![]});const _0x3492b7=_0x41bf01['comfort'][_0x5da1ab(0x180)],_0x4d0bfa=this['isProVersion']?_0x3492b7[_0x5da1ab(0x22e)]:![];await this[_0x5da1ab(0x1df)](_0x5da1ab(0x208),{'val':_0x4d0bfa,'ack':!![]}),await this[_0x5da1ab(0x1df)]('analysis.automation.description',{'val':_0x4d0bfa?_0x3492b7[_0x5da1ab(0xf5)]:this[_0x5da1ab(0x1a4)]?'':_0x5da1ab(0x1e6),'ack':!![]});if(_0x41bf01['activity'][_0x5da1ab(0x16a)]){await this[_0x5da1ab(0x1df)]('analysis.isAlert',{'val':!![],'ack':!![]});if(!this[_0x5da1ab(0x18c)])this['sendNotification'](_0x5da1ab(0x15c)+_0x41bf01[_0x5da1ab(0x25a)][_0x5da1ab(0x124)]);}else await this[_0x5da1ab(0x1df)](_0x5da1ab(0x112),{'val':![],'ack':!![]});this[_0x5da1ab(0x18c)]=_0x41bf01[_0x5da1ab(0x25a)][_0x5da1ab(0x16a)];const _0x5f21be={'timestamp':Date[_0x5da1ab(0x164)](),'id':Date[_0x5da1ab(0x164)]()[_0x5da1ab(0x108)](),'analysis':_0x41bf01,'systemMode':_0x4485f4,'isPro':this[_0x5da1ab(0x1a4)]};this[_0x5da1ab(0x1f3)](_0x5f21be);}catch(_0x42ab56){this['log'][_0x5da1ab(0x263)](_0x5da1ab(0x107)+_0x42ab56[_0x5da1ab(0x1b9)]);}}async['createDailyDigest'](){const _0x130205=a0_0x59c408;if(!this[_0x130205(0x1a4)])return;await this[_0x130205(0x1df)](LTM_DP_STATUS,{'val':_0x130205(0x259)+new Date()[_0x130205(0x268)](),'ack':!![]});if(!this[_0x130205(0x23a)]||this['rawEventLog']['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await this[_0x130205(0x1df)](LTM_DP_STATUS,{'val':_0x130205(0x162),'ack':!![]});return;}const _0x5844ad=JSON[_0x130205(0x21e)](JSON[_0x130205(0x1ce)](this[_0x130205(0x14f)])),_0x18274e=(this[_0x130205(0x21f)][_0x130205(0x258)]||'')[_0x130205(0x13e)](0x0,0x3e8),_0x167355=_0x130205(0x173)+_0x18274e+_0x130205(0x29a)+JSON[_0x130205(0x1ce)](_0x5844ad);try{const _0x434fcd=await this[_0x130205(0x23a)][_0x130205(0x29d)](_0x167355),_0x29e058=JSON['parse'](_0x434fcd[_0x130205(0x1a8)][_0x130205(0x11f)]()[_0x130205(0x256)](/```json|```/g,'')['trim']());_0x29e058[_0x130205(0x17f)]&&(this['dailyDigests'][_0x130205(0x151)]({'timestamp':new Date()['toISOString'](),'eventCount':_0x5844ad[_0x130205(0x18b)],'summary':_0x29e058[_0x130205(0x17f)],'activityLevel':_0x29e058[_0x130205(0x184)],'systemMode':this[_0x130205(0x24f)]}),await this[_0x130205(0x1f6)](),this[_0x130205(0x14f)]=[],await this[_0x130205(0x245)](),await this[_0x130205(0x1df)](LTM_DP_STATUS,{'val':_0x130205(0x104)+_0x5844ad[_0x130205(0x18b)]+_0x130205(0x249),'ack':!![]}));}catch(_0x5f4cc9){await this[_0x130205(0x1df)](LTM_DP_STATUS,{'val':_0x130205(0x237)+_0x5f4cc9[_0x130205(0x1b9)],'ack':!![]});}}async[a0_0x59c408(0x13c)](){const _0x3cf7b0=a0_0x59c408;if(!this[_0x3cf7b0(0x1a4)]||!this[_0x3cf7b0(0x23a)])return;const _0x2611fc=this['config'][_0x3cf7b0(0xfb)]||0xe;if(this[_0x3cf7b0(0x12f)][_0x3cf7b0(0x18b)]<_0x2611fc+(this[_0x3cf7b0(0x21f)][_0x3cf7b0(0x261)]||0x7)){await this[_0x3cf7b0(0x1df)](LTM_DP_DRIFT_STATUS,{'val':_0x3cf7b0(0x172),'ack':!![]});return;}const _0x31043b=this[_0x3cf7b0(0x12f)][_0x3cf7b0(0x1f5)](-_0x2611fc),_0x28b8b0=this[_0x3cf7b0(0x12f)][_0x3cf7b0(0x1f5)](0x0,this[_0x3cf7b0(0x12f)][_0x3cf7b0(0x18b)]-_0x2611fc),_0x35bcf2=_0x3cf7b0(0x262)+JSON[_0x3cf7b0(0x1ce)](_0x28b8b0)+_0x3cf7b0(0x1fc)+JSON[_0x3cf7b0(0x1ce)](_0x31043b);try{const _0x584dce=await this[_0x3cf7b0(0x23a)][_0x3cf7b0(0x29d)](_0x35bcf2),_0x13b6d6=JSON[_0x3cf7b0(0x21e)](_0x584dce[_0x3cf7b0(0x1a8)]['text']()[_0x3cf7b0(0x256)](/```json|```/g,'')[_0x3cf7b0(0x157)]());_0x13b6d6['baselineDrift']&&(await this[_0x3cf7b0(0x1df)](LTM_DP_DRIFT_STATUS,{'val':_0x13b6d6[_0x3cf7b0(0x214)],'ack':!![]}),await this[_0x3cf7b0(0x1df)](LTM_DP_DRIFT_DETAILS,{'val':_0x13b6d6[_0x3cf7b0(0x241)],'ack':!![]}),await this[_0x3cf7b0(0x1df)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x3cf7b0(0x164)](),'ack':!![]}));}catch(_0x3fb86c){}}async[a0_0x59c408(0x117)](){const _0x35b59b=a0_0x59c408;await this[_0x35b59b(0x1c1)]('system',{'type':_0x35b59b(0x155),'common':{'name':'System\x20Status\x20&\x20Control'},'native':{}}),await this[_0x35b59b(0x1c1)](SYSTEM_DP_MODE,{'type':_0x35b59b(0x279),'common':{'name':_0x35b59b(0x20c),'type':_0x35b59b(0x277),'role':_0x35b59b(0x279),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x35b59b(0x12d)],'states':{[SYSTEM_MODES['NORMAL']]:_0x35b59b(0x19e),[SYSTEM_MODES[_0x35b59b(0x26a)]]:_0x35b59b(0x252),[SYSTEM_MODES[_0x35b59b(0x27a)]]:_0x35b59b(0x121),[SYSTEM_MODES[_0x35b59b(0x211)]]:_0x35b59b(0x1d0)}},'native':{}});}async[a0_0x59c408(0x181)](){const _0x244e9c=a0_0x59c408;try{const _0x35c4d5=await this[_0x244e9c(0x272)](SYSTEM_DP_MODE);_0x35c4d5&&_0x35c4d5[_0x244e9c(0x147)]&&Object[_0x244e9c(0x1b8)](SYSTEM_MODES)[_0x244e9c(0x219)](_0x35c4d5[_0x244e9c(0x147)])?this[_0x244e9c(0x24f)]=_0x35c4d5[_0x244e9c(0x147)]:(this[_0x244e9c(0x24f)]=SYSTEM_MODES[_0x244e9c(0x12d)],await this[_0x244e9c(0x1df)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x244e9c(0x12d)],'ack':!![]}));}catch(_0x1faa89){this['currentSystemMode']=SYSTEM_MODES[_0x244e9c(0x12d)];}}[a0_0x59c408(0x142)](){const _0x35bad8=a0_0x59c408;if(this[_0x35bad8(0x188)])this['modeResetJob'][_0x35bad8(0x17a)]();this[_0x35bad8(0x188)]=schedule[_0x35bad8(0x192)](MODE_RESET_SCHEDULE,async()=>{const _0x3a7884=_0x35bad8;await this[_0x3a7884(0x181)](),AUTO_RESET_MODES[_0x3a7884(0x219)](this[_0x3a7884(0x24f)])&&await this[_0x3a7884(0x1df)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x3a7884(0x12d)],'ack':![]});});}async['updateBaselineStatus'](){const _0x5f1965=a0_0x59c408;if(!this[_0x5f1965(0x1a4)]){await this['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':'Deaktiviert\x20(Pro-Feature)','ack':!![]});return;}const _0x2f3cb7=this[_0x5f1965(0x12f)][_0x5f1965(0x18b)]>=(this[_0x5f1965(0x21f)][_0x5f1965(0x261)]||0x7)?_0x5f1965(0x18f)+this['dailyDigests'][_0x5f1965(0x18b)]+_0x5f1965(0x26e):_0x5f1965(0x1d5)+this[_0x5f1965(0x12f)][_0x5f1965(0x18b)]+'/'+(this[_0x5f1965(0x21f)]['minDaysForBaseline']||0x7)+')';await this[_0x5f1965(0x1df)](LTM_DP_BASELINE_STATUS,{'val':_0x2f3cb7,'ack':!![]});}async[a0_0x59c408(0x204)](){const _0x5bfe47=a0_0x59c408;await this[_0x5bfe47(0x1c1)](_0x5bfe47(0x242),{'type':_0x5bfe47(0x155),'common':{'name':_0x5bfe47(0x242)},'native':{}}),await this[_0x5bfe47(0x1c1)](LTM_DP_RAW_LOG,{'type':_0x5bfe47(0x279),'common':{'name':_0x5bfe47(0x289),'type':_0x5bfe47(0x277),'role':_0x5bfe47(0x292),'read':!![],'write':![]},'native':{}}),await this[_0x5bfe47(0x1c1)](LTM_DP_DAILY_DIGESTS,{'type':_0x5bfe47(0x279),'common':{'name':_0x5bfe47(0x1e8),'type':_0x5bfe47(0x277),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x5bfe47(0x1c1)](LTM_DP_STATUS,{'type':_0x5bfe47(0x279),'common':{'name':_0x5bfe47(0x284),'type':_0x5bfe47(0x277),'role':_0x5bfe47(0x11f),'read':!![],'write':![]},'native':{}}),await this[_0x5bfe47(0x1c1)](LTM_DP_TRIGGER_DIGEST,{'type':_0x5bfe47(0x279),'common':{'name':_0x5bfe47(0x14e),'type':'boolean','role':_0x5bfe47(0x16e),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x5bfe47(0x1c1)](LTM_DP_BASELINE_STATUS,{'type':_0x5bfe47(0x279),'common':{'name':_0x5bfe47(0x1b7),'type':'string','role':_0x5bfe47(0x11f),'read':!![],'write':![]},'native':{}});}async[a0_0x59c408(0x1e2)](){const _0x1ae5ac=a0_0x59c408;await this[_0x1ae5ac(0x1c1)](LTM_DP_DRIFT_CHANNEL,{'type':_0x1ae5ac(0x155),'common':{'name':'Drift\x20Analysis'},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_STATUS,{'type':_0x1ae5ac(0x279),'common':{'name':_0x1ae5ac(0x15b),'type':'string','role':_0x1ae5ac(0x279),'read':!![],'write':![],'def':_0x1ae5ac(0x187)},'native':{}}),await this[_0x1ae5ac(0x1c1)](LTM_DP_DRIFT_DETAILS,{'type':_0x1ae5ac(0x279),'common':{'name':_0x1ae5ac(0x20b),'type':'string','role':_0x1ae5ac(0x11f),'read':!![],'write':![]},'native':{}}),await this[_0x1ae5ac(0x1c1)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x1ae5ac(0x279),'common':{'name':_0x1ae5ac(0x1d2),'type':_0x1ae5ac(0x205),'role':_0x1ae5ac(0x1d1),'read':!![],'write':![]},'native':{}});}async[a0_0x59c408(0x17d)](){const _0x4d7ad2=a0_0x59c408;try{const _0x31c7ba=await this[_0x4d7ad2(0x272)](LTM_DP_RAW_LOG);if(_0x31c7ba&&_0x31c7ba[_0x4d7ad2(0x147)])this[_0x4d7ad2(0x14f)]=JSON[_0x4d7ad2(0x21e)](_0x31c7ba[_0x4d7ad2(0x147)]);}catch(_0x3f40bb){this[_0x4d7ad2(0x14f)]=[];}}async[a0_0x59c408(0x245)](){const _0x5d2eb2=a0_0x59c408;this[_0x5d2eb2(0x14f)][_0x5d2eb2(0x18b)]>RAW_LOG_MAX_SIZE&&this[_0x5d2eb2(0x14f)][_0x5d2eb2(0x203)](0x0,this[_0x5d2eb2(0x14f)][_0x5d2eb2(0x18b)]-RAW_LOG_MAX_SIZE),await this[_0x5d2eb2(0x1df)](LTM_DP_RAW_LOG,{'val':JSON[_0x5d2eb2(0x1ce)](this[_0x5d2eb2(0x14f)]),'ack':!![]});}async[a0_0x59c408(0x160)](){const _0x1eaa45=a0_0x59c408;try{const _0x183bb0=await this[_0x1eaa45(0x272)](LTM_DP_DAILY_DIGESTS);if(_0x183bb0&&_0x183bb0[_0x1eaa45(0x147)])this[_0x1eaa45(0x12f)]=JSON[_0x1eaa45(0x21e)](_0x183bb0['val']);}catch(_0x55922d){this[_0x1eaa45(0x12f)]=[];}await this[_0x1eaa45(0x27e)]();}async[a0_0x59c408(0x1f6)](_0x1788e5=!![]){const _0x3560d0=a0_0x59c408,_0x3512c8=this['config'][_0x3560d0(0x1fb)]||0x3c;this[_0x3560d0(0x12f)][_0x3560d0(0x18b)]>_0x3512c8&&this[_0x3560d0(0x12f)][_0x3560d0(0x203)](0x0,this[_0x3560d0(0x12f)][_0x3560d0(0x18b)]-_0x3512c8);await this['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x3560d0(0x1ce)](this[_0x3560d0(0x12f)]),'ack':!![]});if(_0x1788e5)await this['updateBaselineStatus']();}[a0_0x59c408(0x235)](){const _0x25d60e=a0_0x59c408;if(this['ltmJob'])this[_0x25d60e(0x1e4)][_0x25d60e(0x17a)]();if(!this[_0x25d60e(0x1a4)]){this[_0x25d60e(0x1df)](LTM_DP_STATUS,{'val':_0x25d60e(0x125),'ack':!![]});return;}this['ltmJob']=schedule[_0x25d60e(0x192)](LTM_SCHEDULE,()=>this['createDailyDigest']());}['setupDriftAnalysisScheduler'](){const _0x25f779=a0_0x59c408;if(this['driftAnalysisTimer'])clearInterval(this[_0x25f779(0x287)]);if(!this[_0x25f779(0x1a4)])return;this[_0x25f779(0x287)]=setInterval(()=>this[_0x25f779(0x13c)](),(this[_0x25f779(0x21f)]['ltmDriftCheckIntervalHours']||0x18)*0x36ee80),setTimeout(()=>this[_0x25f779(0x13c)](),0x1388);}async['resetAnalysisStates'](){const _0x2aacbb=a0_0x59c408;await this[_0x2aacbb(0x1df)](_0x2aacbb(0x135),{'val':_0x2aacbb(0x25e),'ack':!![]}),await this[_0x2aacbb(0x1df)](_0x2aacbb(0x28d),{'val':this[_0x2aacbb(0x1a4)]?_0x2aacbb(0xf4):_0x2aacbb(0x146),'ack':!![]}),await this['setStateAsync'](_0x2aacbb(0x112),{'val':![],'ack':!![]}),this[_0x2aacbb(0x18c)]=![];}async[a0_0x59c408(0x1f3)](_0x2b2d4e){const _0x30df33=a0_0x59c408;this[_0x30df33(0x13f)][_0x30df33(0x266)](_0x2b2d4e);if(this[_0x30df33(0x13f)][_0x30df33(0x18b)]>ANALYSIS_HISTORY_MAX_SIZE)this['analysisHistory'][_0x30df33(0x1ea)]();await this[_0x30df33(0x1df)](_0x30df33(0x1f8),{'val':JSON['stringify'](this[_0x30df33(0x13f)]),'ack':!![]});}async[a0_0x59c408(0x18a)](_0x1c3b6d,_0x3a8bfa=![]){const _0x246b3e=a0_0x59c408;this[_0x246b3e(0x25b)][_0x246b3e(0x13b)]((_0x3a8bfa?_0x246b3e(0x198):'')+_0x246b3e(0x1f0)+_0x1c3b6d+'\x22');const _0x5b2641=this[_0x246b3e(0x21f)];let _0x439238=0x0;return _0x5b2641[_0x246b3e(0x1b1)]&&_0x5b2641[_0x246b3e(0x1de)]&&(await this[_0x246b3e(0x189)](_0x5b2641[_0x246b3e(0x1de)],_0x246b3e(0x200),{'text':_0x1c3b6d,'user':_0x5b2641[_0x246b3e(0x212)]}),_0x439238++),_0x5b2641[_0x246b3e(0x122)]&&_0x5b2641[_0x246b3e(0x283)]&&(await this[_0x246b3e(0x189)](_0x5b2641['notifyPushoverInstance'],_0x246b3e(0x200),{'message':_0x1c3b6d,'title':_0x246b3e(0x161),'priority':0x1,'device':_0x5b2641['notifyPushoverRecipient']}),_0x439238++),_0x5b2641[_0x246b3e(0x269)]&&_0x5b2641[_0x246b3e(0x26f)]&&(await this['sendToAsync'](_0x5b2641[_0x246b3e(0x26f)],'send',{'text':_0x1c3b6d,'to':_0x5b2641[_0x246b3e(0x113)]}),_0x439238++),_0x5b2641[_0x246b3e(0x1ef)]&&_0x5b2641[_0x246b3e(0x127)]&&(await this[_0x246b3e(0x189)](_0x5b2641[_0x246b3e(0x127)],_0x246b3e(0x200),{'text':_0x1c3b6d,'phone':_0x5b2641[_0x246b3e(0x12a)]}),_0x439238++),_0x5b2641[_0x246b3e(0x16f)]&&_0x5b2641[_0x246b3e(0x1c6)]&&(await this['sendToAsync'](_0x5b2641['notifySignalInstance'],_0x246b3e(0x200),{'text':_0x1c3b6d,'phone':_0x5b2641[_0x246b3e(0x12b)]}),_0x439238++),_0x439238;}async['saveFeedback'](_0x11c317){const _0x3a8bd9=a0_0x59c408;this['feedbackHistory'][_0x3a8bd9(0x266)](_0x11c317);if(this[_0x3a8bd9(0x286)][_0x3a8bd9(0x18b)]>FEEDBACK_MAX_SIZE)this[_0x3a8bd9(0x286)]['pop']();await this[_0x3a8bd9(0x1df)]('analysis.feedbackHistory',{'val':JSON['stringify'](this['feedbackHistory']),'ack':!![]}),this[_0x3a8bd9(0x25b)][_0x3a8bd9(0x13b)](_0x3a8bd9(0x1af)+_0x11c317['rating']+_0x3a8bd9(0xfe)+_0x11c317[_0x3a8bd9(0x27b)]);}[a0_0x59c408(0x16c)](_0x173422){const _0x10dfb1=a0_0x59c408;if(this[_0x10dfb1(0x1d6)])clearInterval(this['analysisTimer']);if(this[_0x10dfb1(0x287)])clearInterval(this[_0x10dfb1(0x287)]);if(this[_0x10dfb1(0x1e4)])this[_0x10dfb1(0x1e4)]['cancel']();if(this[_0x10dfb1(0x188)])this['modeResetJob'][_0x10dfb1(0x17a)]();_0x173422();}async[a0_0x59c408(0x16b)](_0xe08740){const _0x10cb50=a0_0x59c408;if(typeof _0xe08740===_0x10cb50(0x1a9)&&_0xe08740[_0x10cb50(0x1b9)]){if(_0xe08740[_0x10cb50(0x265)]==='testApiKey'){if(!_0xe08740[_0x10cb50(0x1b9)][_0x10cb50(0x118)])return this['sendTo'](_0xe08740[_0x10cb50(0x22c)],_0xe08740['command'],{'success':![],'message':_0x10cb50(0x260)},_0xe08740[_0x10cb50(0x128)]);try{const _0x44b5ba=new GoogleGenerativeAI(_0xe08740[_0x10cb50(0x1b9)][_0x10cb50(0x118)])[_0x10cb50(0x15e)]({'model':_0x10cb50(0x1da)});await _0x44b5ba[_0x10cb50(0x29d)]('test'),this[_0x10cb50(0x15d)](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':!![],'message':_0x10cb50(0x1f2)},_0xe08740[_0x10cb50(0x128)]);}catch(_0x3a4398){this[_0x10cb50(0x15d)](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':![],'message':_0x3a4398[_0x10cb50(0x1b9)]},_0xe08740[_0x10cb50(0x128)]);}}else{if(_0xe08740[_0x10cb50(0x265)]===_0x10cb50(0x28b)){const _0x44c312=await this['sendNotification'](_0x10cb50(0x168),!![]);this[_0x10cb50(0x15d)](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':_0x44c312>0x0,'message':_0x44c312+_0x10cb50(0x257)},_0xe08740[_0x10cb50(0x128)]);}else{if(_0xe08740[_0x10cb50(0x265)]===_0x10cb50(0x225)){if(!this[_0x10cb50(0x1a4)])return this[_0x10cb50(0x15d)](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':![],'isPro':![]},_0xe08740['callback']);let _0x272d8e={'status':_0x10cb50(0x187),'details':'','lastCheck':0x0};try{_0x272d8e[_0x10cb50(0x215)]=(await this[_0x10cb50(0x272)](LTM_DP_DRIFT_STATUS))[_0x10cb50(0x147)],_0x272d8e[_0x10cb50(0x19f)]=(await this['getStateAsync'](LTM_DP_DRIFT_DETAILS))[_0x10cb50(0x147)],_0x272d8e[_0x10cb50(0x1e9)]=(await this[_0x10cb50(0x272)](LTM_DP_DRIFT_LAST_CHECK))[_0x10cb50(0x147)];}catch(_0x4e397d){}this['sendTo'](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x10cb50(0x12f)],'driftAnalysis':_0x272d8e,'analysisHistory':this[_0x10cb50(0x13f)]},_0xe08740[_0x10cb50(0x128)]);}else{if(_0xe08740[_0x10cb50(0x265)]===_0x10cb50(0x1b5)){const _0x2de427=await this[_0x10cb50(0x1a1)](_0x10cb50(0x23d),_0x10cb50(0x23c)),_0x62891a=[];if(_0x2de427)for(const _0x2a5d81 in _0x2de427){const _0xc680e2=_0x2de427[_0x2a5d81],_0xdbd7ed=(_0xc680e2[_0x10cb50(0x19c)]&&typeof _0xc680e2[_0x10cb50(0x19c)]['name']===_0x10cb50(0x1a9)?_0xc680e2[_0x10cb50(0x19c)]['name']['de']:_0xc680e2['common'][_0x10cb50(0x1ee)])||_0xc680e2['common'][_0x10cb50(0x1ee)];_0x62891a[_0x10cb50(0x151)]({'id':_0x2a5d81,'name':_0xdbd7ed});}this[_0x10cb50(0x15d)](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':!![],'enums':_0x62891a},_0xe08740[_0x10cb50(0x128)]);}else{if(_0xe08740[_0x10cb50(0x265)]==='scanDevices'){this[_0x10cb50(0x25b)][_0x10cb50(0x13b)](_0x10cb50(0x1c4));const _0x512b57=_0xe08740[_0x10cb50(0x1b9)]||{};try{const _0x16e53c=await this[_0x10cb50(0x22b)](_0x512b57);this[_0x10cb50(0x15d)](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':!![],'devices':_0x16e53c},_0xe08740[_0x10cb50(0x128)]);}catch(_0x45710e){this[_0x10cb50(0x15d)](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':![],'error':_0x45710e[_0x10cb50(0x1b9)]},_0xe08740[_0x10cb50(0x128)]);}}else{if(_0xe08740[_0x10cb50(0x265)]==='submitFeedback'){const {historyId:_0x4dd83c,rating:_0x44eb1f,comment:_0x71eeea,alertReason:_0x44df23}=_0xe08740[_0x10cb50(0x1b9)];_0x4dd83c&&_0x44eb1f?(await this[_0x10cb50(0x123)]({'timestamp':Date['now'](),'historyId':_0x4dd83c,'rating':_0x44eb1f,'comment':_0x71eeea,'alertReason':_0x44df23}),this[_0x10cb50(0x15d)](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':!![]},_0xe08740[_0x10cb50(0x128)])):this['sendTo'](_0xe08740[_0x10cb50(0x22c)],_0xe08740[_0x10cb50(0x265)],{'success':![],'error':_0x10cb50(0x126)},_0xe08740[_0x10cb50(0x128)]);}}}}}}}}}function a0_0x1e8a(_0x2d3431,_0xdac434){const _0x27ee07=a0_0x1085();return a0_0x1e8a=function(_0x50240f,_0x3555ad){_0x50240f=_0x50240f-0xf4;let _0x108529=_0x27ee07[_0x50240f];return _0x108529;},a0_0x1e8a(_0x2d3431,_0xdac434);}if(require[a0_0x59c408(0x1aa)]!==module)module[a0_0x59c408(0x197)]=_0x4bf294=>new CogniLiving(_0x4bf294);else new CogniLiving();