const a0_0x3d2e81=a0_0xdd5d;(function(_0x2eac29,_0x4ee562){const _0x2077e3=a0_0xdd5d,_0x357da1=_0x2eac29();while(!![]){try{const _0xbe8783=-parseInt(_0x2077e3(0x149))/0x1*(-parseInt(_0x2077e3(0x2a8))/0x2)+parseInt(_0x2077e3(0x14a))/0x3*(parseInt(_0x2077e3(0x23e))/0x4)+-parseInt(_0x2077e3(0x151))/0x5+-parseInt(_0x2077e3(0x269))/0x6*(parseInt(_0x2077e3(0x1b9))/0x7)+parseInt(_0x2077e3(0x265))/0x8+parseInt(_0x2077e3(0x28e))/0x9*(-parseInt(_0x2077e3(0x284))/0xa)+-parseInt(_0x2077e3(0x1f5))/0xb*(-parseInt(_0x2077e3(0x173))/0xc);if(_0xbe8783===_0x4ee562)break;else _0x357da1['push'](_0x357da1['shift']());}catch(_0x15bf12){_0x357da1['push'](_0x357da1['shift']());}}}(a0_0x2097,0xd283c));const a0_0x1141e4=(function(){let _0x209f25=!![];return function(_0x5116e1,_0x23eaed){const _0x5a9afa=_0x209f25?function(){if(_0x23eaed){const _0x28e9c5=_0x23eaed['apply'](_0x5116e1,arguments);return _0x23eaed=null,_0x28e9c5;}}:function(){};return _0x209f25=![],_0x5a9afa;};}()),a0_0x11d0ee=a0_0x1141e4(this,function(){const _0xd92459=a0_0xdd5d;return a0_0x11d0ee[_0xd92459(0x251)]()[_0xd92459(0x210)](_0xd92459(0x289))[_0xd92459(0x251)]()['constructor'](a0_0x11d0ee)[_0xd92459(0x210)](_0xd92459(0x289));});a0_0x11d0ee();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x3d2e81(0x18f)),{spawn}=require(a0_0x3d2e81(0x188)),path=require(a0_0x3d2e81(0x255)),fs=require('fs'),installer=require('./lib/installer'),scanner=require('./lib/scanner'),schedulers=require(a0_0x3d2e81(0x15a)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x9c4,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x3d2e81(0x27c),SEQUENCE_TIMEOUT_MS=0x5*0x3c*0x3e8,MAX_TRAINING_SET_SIZE=0x1f4,THERMO_LOG_SIZE=0x3e8,EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,LTM_DP_RAW_LOG=a0_0x3d2e81(0x1c9),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0x3d2e81(0x164),LTM_DP_TRIGGER_DIGEST=a0_0x3d2e81(0x274),LTM_DP_BASELINE_STATUS=a0_0x3d2e81(0x2a4),LTM_DP_DRIFT_CHANNEL=a0_0x3d2e81(0x201),LTM_DP_DRIFT_STATUS=a0_0x3d2e81(0x12a),LTM_DP_DRIFT_DETAILS='LTM.driftAnalysis.driftDetails',LTM_DP_DRIFT_LAST_CHECK=a0_0x3d2e81(0x1a1),SYSTEM_DP_MODE=a0_0x3d2e81(0x12f),SYSTEM_MODES={'NORMAL':a0_0x3d2e81(0x292),'VACATION':a0_0x3d2e81(0x20a),'PARTY':a0_0x3d2e81(0x27f),'GUEST':a0_0x3d2e81(0x260)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x3d2e81(0x29b)],SYSTEM_MODES[a0_0x3d2e81(0x24d)]],PERSONA_MAPPING={'generic':'Analysiere\x20ausgewogen.','senior_aal':a0_0x3d2e81(0x26b),'family':a0_0x3d2e81(0x1e8),'single_comfort':a0_0x3d2e81(0x174),'security':a0_0x3d2e81(0x214)},ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};let activeSequence=[],sequenceTimer=null;async function initZombies(_0xf5f47a){const _0x5d00ec=a0_0x3d2e81;try{const _0x2545c6=[_0x5d00ec(0x1ba),_0x5d00ec(0x12d)];for(const _0x541a2f of _0x2545c6){try{const _0x1514a7=await _0xf5f47a[_0x5d00ec(0x18a)](_0x541a2f);if(_0x1514a7)await _0xf5f47a[_0x5d00ec(0x1a2)](_0x541a2f);}catch(_0x1a188d){}}}catch(_0x535689){}}async function checkLicense(_0x228230){return!![];}async function initHistory(_0x1b63ee){const _0x2bcf9f=a0_0x3d2e81;try{const _0x294a40=await _0x1b63ee[_0x2bcf9f(0x228)](_0x2bcf9f(0x271));_0x294a40&&_0x294a40[_0x2bcf9f(0x17e)]&&(_0x1b63ee['eventHistory']=JSON[_0x2bcf9f(0x231)](_0x294a40[_0x2bcf9f(0x17e)][_0x2bcf9f(0x251)]()));}catch(_0x5ea074){_0x1b63ee[_0x2bcf9f(0x1d0)]=[];}try{const _0x40d979=await _0x1b63ee[_0x2bcf9f(0x228)](_0x2bcf9f(0x187));if(_0x40d979&&_0x40d979['val'])_0x1b63ee[_0x2bcf9f(0x14b)]=JSON['parse'](_0x40d979[_0x2bcf9f(0x17e)]['toString']());}catch(_0x559d41){_0x1b63ee[_0x2bcf9f(0x14b)]=[];}if(_0x1b63ee[_0x2bcf9f(0x1d0)]&&_0x1b63ee[_0x2bcf9f(0x1d0)][_0x2bcf9f(0x18e)]>0x0){_0x1b63ee[_0x2bcf9f(0x1e5)]['info']('Restoring\x20sensor\x20cache...');for(let _0x1e5047=_0x1b63ee[_0x2bcf9f(0x1d0)][_0x2bcf9f(0x18e)]-0x1;_0x1e5047>=0x0;_0x1e5047--){const _0x3a3b07=_0x1b63ee[_0x2bcf9f(0x1d0)][_0x1e5047];if(_0x3a3b07&&_0x3a3b07['id']!==undefined&&_0x3a3b07[_0x2bcf9f(0x24a)]!==undefined)_0x1b63ee[_0x2bcf9f(0x268)][_0x3a3b07['id']]=_0x3a3b07[_0x2bcf9f(0x24a)];}}}async function initSystemConfig(_0x3ca383){const _0x355f15=a0_0x3d2e81;try{const _0x3c9d33=await _0x3ca383['getForeignObjectAsync'](_0x355f15(0x2a3));if(_0x3c9d33&&_0x3c9d33[_0x355f15(0x220)])_0x3ca383['systemConfig']={'latitude':_0x3c9d33[_0x355f15(0x220)]['latitude']||0x0,'longitude':_0x3c9d33[_0x355f15(0x220)][_0x355f15(0x1d4)]||0x0,'city':_0x3c9d33['common']['city']||''};}catch(_0x291e85){}}async function createAllObjects(_0x49ce6c){const _0x3d0fb5=a0_0x3d2e81;await _0x49ce6c[_0x3d0fb5(0x2a7)]('system',{'type':_0x3d0fb5(0x2ad),'common':{'name':_0x3d0fb5(0x252)},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x2a7)](SYSTEM_DP_MODE,{'type':'state','common':{'name':'System\x20Mode','type':_0x3d0fb5(0x1d5),'role':'state','read':!![],'write':!![],'def':SYSTEM_MODES[_0x3d0fb5(0x28c)]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x23d),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x1fc),'type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x141),'read':!![],'write':![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync']('events.lastEvent',{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x147),'type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x1d8),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x271),{'type':'state','common':{'name':_0x3d0fb5(0x264),'type':_0x3d0fb5(0x1d5),'role':'json','read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x2a7)]('analysis.training',{'type':_0x3d0fb5(0x2ad),'common':{'name':_0x3d0fb5(0x14f)},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x22d),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x140),'type':_0x3d0fb5(0x2ae),'role':'button','read':!![],'write':!![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync'](_0x3d0fb5(0x1e1),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x1d7),'type':_0x3d0fb5(0x2ae),'role':_0x3d0fb5(0x1f1),'read':!![],'write':!![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x29e),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x1fe),'type':'boolean','role':'button','read':!![],'write':!![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x175),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x194),'type':_0x3d0fb5(0x2ae),'role':_0x3d0fb5(0x1f1),'read':!![],'write':!![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x282),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x278),'type':_0x3d0fb5(0x2ae),'role':_0x3d0fb5(0x1f1),'read':!![],'write':!![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync'](_0x3d0fb5(0x1ac),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x135),'type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x141),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x2a7)](_0x3d0fb5(0x1a9),{'type':_0x3d0fb5(0x2ad),'common':{'name':_0x3d0fb5(0x243)},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync'](_0x3d0fb5(0x26c),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x2b1),'type':_0x3d0fb5(0x16b),'role':_0x3d0fb5(0x24a),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x272),{'type':_0x3d0fb5(0x1a7),'common':{'name':'Current\x20Threshold','type':_0x3d0fb5(0x16b),'role':_0x3d0fb5(0x24a),'read':!![],'write':![],'def':0.05},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x224),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x1c3),'type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x1fd),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x2b0),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x155),'type':'string','role':_0x3d0fb5(0x1d8),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x2a7)](_0x3d0fb5(0x1e3),{'type':'channel','common':{'name':'Health\x20Analysis'},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)]('analysis.health.lastCheck',{'type':_0x3d0fb5(0x1a7),'common':{'name':'Last\x20Check','type':_0x3d0fb5(0x1d5),'role':'date','read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x204),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x134),'type':_0x3d0fb5(0x2ae),'role':'indicator','read':!![],'write':![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync'](_0x3d0fb5(0x21c),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x180),'type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync'](_0x3d0fb5(0x1db),{'type':_0x3d0fb5(0x1a7),'common':{'name':'Trend\x20Value','type':_0x3d0fb5(0x16b),'role':_0x3d0fb5(0x24a),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x29c),{'type':_0x3d0fb5(0x1a7),'common':{'name':'Today\x20Vector\x20(15m)','type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x1d8),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x2a2),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x215),'type':'number','role':'value','read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x2a7)]('analysis.energy',{'type':_0x3d0fb5(0x2ad),'common':{'name':'Energy\x20Intelligence'},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x1bf),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x226),'type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x141),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x199),{'type':_0x3d0fb5(0x1a7),'common':{'name':'Heating\x20Score','type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x141),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x200),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x1f9),'type':_0x3d0fb5(0x1d5),'role':'json','read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x2a7)](_0x3d0fb5(0x232),{'type':_0x3d0fb5(0x2ad),'common':{'name':'LTM'},'native':{}}),await _0x49ce6c['extendObjectAsync'](LTM_DP_RAW_LOG,{'type':'state','common':{'name':_0x3d0fb5(0x144),'type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x1d8),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x2a7)](LTM_DP_DAILY_DIGESTS,{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x256),'type':'string','role':_0x3d0fb5(0x1d8),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x26e),{'type':'state','common':{'name':_0x3d0fb5(0x27a),'type':_0x3d0fb5(0x1d5),'role':'json','read':!![],'write':![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync'](_0x3d0fb5(0x212),{'type':_0x3d0fb5(0x1a7),'common':{'name':'Thermodynamics','type':'string','role':'json','read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x234),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x25f),'type':'boolean','role':_0x3d0fb5(0x1f1),'read':!![],'write':!![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync'](_0x3d0fb5(0x142),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x178),'type':_0x3d0fb5(0x2ae),'role':_0x3d0fb5(0x1f1),'read':!![],'write':!![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)]('analysis.isAlert',{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x24b),'type':_0x3d0fb5(0x2ae),'role':_0x3d0fb5(0x233),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x28d),{'type':'state','common':{'name':'Alert\x20Reason','type':'string','role':_0x3d0fb5(0x196),'read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)]('analysis.activitySummary',{'type':'state','common':{'name':_0x3d0fb5(0x295),'type':_0x3d0fb5(0x1d5),'role':'text','read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x177),{'type':'state','common':{'name':_0x3d0fb5(0x131),'type':_0x3d0fb5(0x2ae),'role':_0x3d0fb5(0x1cf),'read':!![],'write':![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync'](_0x3d0fb5(0x1bb),{'type':_0x3d0fb5(0x1a7),'common':{'name':'Description','type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x195),{'type':_0x3d0fb5(0x1a7),'common':{'name':'Detected\x20Patterns','type':'string','role':'json','read':!![],'write':![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x1e7),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x275),'type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x141),'read':!![],'write':![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync']('analysis.automation.targetValue',{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x230),'type':_0x3d0fb5(0x1d5),'role':_0x3d0fb5(0x141),'read':!![],'write':![]},'native':{}}),await _0x49ce6c['setObjectNotExistsAsync'](_0x3d0fb5(0x240),{'type':_0x3d0fb5(0x1a7),'common':{'name':_0x3d0fb5(0x1dd),'type':_0x3d0fb5(0x2ae),'role':_0x3d0fb5(0x153),'read':!![],'write':!![]},'native':{}}),await _0x49ce6c[_0x3d0fb5(0x1aa)](_0x3d0fb5(0x2b8),{'type':'state','common':{'name':_0x3d0fb5(0x24e),'type':_0x3d0fb5(0x2ae),'role':'button','read':!![],'write':!![]},'native':{}});}async function loadSystemMode(_0xfdf3d5){const _0x3dc7d3=a0_0x3d2e81;try{const _0x3ea6fb=await _0xfdf3d5[_0x3dc7d3(0x228)](SYSTEM_DP_MODE);_0x3ea6fb&&_0x3ea6fb[_0x3dc7d3(0x17e)]&&Object[_0x3dc7d3(0x19e)](SYSTEM_MODES)['includes'](_0x3ea6fb[_0x3dc7d3(0x17e)])?_0xfdf3d5[_0x3dc7d3(0x2b3)]=_0x3ea6fb[_0x3dc7d3(0x17e)]:(_0xfdf3d5[_0x3dc7d3(0x2b3)]=SYSTEM_MODES['NORMAL'],await _0xfdf3d5[_0x3dc7d3(0x1ae)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x3dc7d3(0x28c)],'ack':!![]}));}catch(_0x4579b8){_0xfdf3d5[_0x3dc7d3(0x2b3)]=SYSTEM_MODES[_0x3dc7d3(0x28c)];}}async function loadRawEventLog(_0x284dce){const _0x597e6a=a0_0x3d2e81;try{const _0x2292a4=await _0x284dce['getStateAsync'](LTM_DP_RAW_LOG);if(_0x2292a4&&_0x2292a4[_0x597e6a(0x17e)])_0x284dce[_0x597e6a(0x1d3)]=JSON[_0x597e6a(0x231)](_0x2292a4[_0x597e6a(0x17e)]);}catch(_0x28af96){_0x284dce[_0x597e6a(0x1d3)]=[];}}async function saveRawEventLog(_0x5e6f18){const _0x26c32b=a0_0x3d2e81;if(_0x5e6f18[_0x26c32b(0x1d3)][_0x26c32b(0x18e)]>RAW_LOG_MAX_SIZE)_0x5e6f18[_0x26c32b(0x1d3)][_0x26c32b(0x1cb)](0x0,_0x5e6f18['rawEventLog'][_0x26c32b(0x18e)]-RAW_LOG_MAX_SIZE);await _0x5e6f18['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x26c32b(0x2aa)](_0x5e6f18[_0x26c32b(0x1d3)]),'ack':!![]});}async function loadDailyDigests(_0x17db92){const _0x28f8e7=a0_0x3d2e81;try{const _0x35e2a6=await _0x17db92[_0x28f8e7(0x228)](LTM_DP_DAILY_DIGESTS);if(_0x35e2a6&&_0x35e2a6[_0x28f8e7(0x17e)])_0x17db92[_0x28f8e7(0x258)]=JSON[_0x28f8e7(0x231)](_0x35e2a6[_0x28f8e7(0x17e)]);}catch(_0x16d699){_0x17db92['dailyDigests']=[];}await updateBaselineStatus(_0x17db92);}async function saveDailyDigests(_0x1f8307,_0x33752c=!![]){const _0x2f0847=a0_0x3d2e81,_0x33e99b=_0x1f8307[_0x2f0847(0x21e)][_0x2f0847(0x27b)]||0x3c;_0x1f8307[_0x2f0847(0x258)][_0x2f0847(0x18e)]>_0x33e99b&&_0x1f8307[_0x2f0847(0x258)][_0x2f0847(0x1cb)](0x0,_0x1f8307['dailyDigests']['length']-_0x33e99b);await _0x1f8307['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x2f0847(0x2aa)](_0x1f8307[_0x2f0847(0x258)]),'ack':!![]});if(_0x33752c)await updateBaselineStatus(_0x1f8307);}async function updateAnalysisHistory(_0x1d2101,_0x1e5f2b){const _0x6f222b=a0_0x3d2e81;_0x1d2101[_0x6f222b(0x14b)]['unshift'](_0x1e5f2b);if(_0x1d2101[_0x6f222b(0x14b)]['length']>HISTORY_MAX_SIZE)_0x1d2101['analysisHistory']['pop']();await _0x1d2101['setStateAsync'](_0x6f222b(0x187),{'val':JSON['stringify'](_0x1d2101[_0x6f222b(0x14b)]),'ack':!![]});}async function updateBaselineStatus(_0x517d42){const _0x545d5f=a0_0x3d2e81;if(!_0x517d42[_0x545d5f(0x276)]){await _0x517d42[_0x545d5f(0x1ae)](LTM_DP_BASELINE_STATUS,{'val':'Deaktiviert\x20(Pro-Feature)','ack':!![]});return;}const _0x56d15b=_0x517d42['dailyDigests'][_0x545d5f(0x18e)]>=(_0x517d42['config']['minDaysForBaseline']||0x7)?_0x545d5f(0x245)+_0x517d42[_0x545d5f(0x258)][_0x545d5f(0x18e)]+'\x20Tage)':_0x545d5f(0x247)+_0x517d42[_0x545d5f(0x258)][_0x545d5f(0x18e)]+'/'+(_0x517d42[_0x545d5f(0x21e)][_0x545d5f(0x219)]||0x7)+')';await _0x517d42['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x56d15b,'ack':!![]});}async function initSensorSubscriptions(_0x23183a){const _0x4faac0=a0_0x3d2e81,_0x47193b=_0x23183a[_0x4faac0(0x21e)][_0x4faac0(0x288)];if(_0x47193b)for(const _0xe86ba3 of _0x47193b){await _0x23183a[_0x4faac0(0x152)](_0xe86ba3['id']);}}async function initPresenceSubscriptions(_0x128169){const _0x1f21a3=a0_0x3d2e81,_0x4062ed=_0x128169[_0x1f21a3(0x21e)][_0x1f21a3(0x238)];if(_0x4062ed)for(const _0x27277d of _0x4062ed){await _0x128169[_0x1f21a3(0x152)](_0x27277d);}}async function setupTelegramListener(_0x5a69b5){const _0x10babf=a0_0x3d2e81,_0xf71386=_0x5a69b5['config'][_0x10babf(0x19f)];if(_0x5a69b5['config'][_0x10babf(0x1cd)]&&_0xf71386)await _0x5a69b5['subscribeForeignStatesAsync'](_0xf71386+'.communicate.request');}async function checkWifiPresence(_0x29de2e){const _0x22f19f=a0_0x3d2e81;try{const _0x1ef2f1=_0x29de2e[_0x22f19f(0x21e)][_0x22f19f(0x238)]||[];let _0x205e9e=![];const _0x5aa481=[];for(const _0x39e87a of _0x1ef2f1){try{const _0x52b5c0=await _0x29de2e[_0x22f19f(0x250)](_0x39e87a);_0x52b5c0&&(_0x52b5c0[_0x22f19f(0x17e)]===!![]||_0x52b5c0['val']===_0x22f19f(0x236)||_0x52b5c0[_0x22f19f(0x17e)]===0x1)&&(_0x205e9e=!![],_0x5aa481[_0x22f19f(0x23f)](_0x39e87a));}catch(_0x4153c1){}}return await _0x29de2e[_0x22f19f(0x1ae)](_0x22f19f(0x23d),{'val':_0x5aa481['join'](',\x20'),'ack':!![]}),_0x205e9e&&(_0x29de2e[_0x22f19f(0x12e)]&&(_0x29de2e[_0x22f19f(0x1e5)][_0x22f19f(0x19c)](_0x22f19f(0x266)),abortExitTimer(_0x29de2e)),!_0x29de2e[_0x22f19f(0x1c5)]&&_0x29de2e['currentSystemMode']===SYSTEM_MODES[_0x22f19f(0x28c)]&&await setPresence(_0x29de2e,!![])),_0x205e9e;}catch(_0x1d9318){return![];}}function startExitTimer(_0x3b8dbe){const _0x18377a=a0_0x3d2e81;abortExitTimer(_0x3b8dbe),_0x3b8dbe['isGracePeriodActive']=!![],_0x3b8dbe['exitGraceTimer']=setTimeout(()=>{const _0x4e32f7=a0_0xdd5d;_0x3b8dbe[_0x4e32f7(0x2b5)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),_0x3b8dbe[_0x18377a(0x12e)]=setTimeout(()=>{const _0x554a7d=_0x18377a;setPresence(_0x3b8dbe,![]),_0x3b8dbe[_0x554a7d(0x12e)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}function abortExitTimer(_0x56b263){const _0x31443e=a0_0x3d2e81;if(_0x56b263[_0x31443e(0x12e)])clearTimeout(_0x56b263[_0x31443e(0x12e)]);if(_0x56b263['exitGraceTimer'])clearTimeout(_0x56b263[_0x31443e(0x19d)]);_0x56b263[_0x31443e(0x12e)]=null,_0x56b263[_0x31443e(0x19d)]=null,_0x56b263[_0x31443e(0x2b5)]=![];}async function setPresence(_0x39f1a2,_0x166d0c){const _0x1598df=a0_0x3d2e81;if(_0x39f1a2['isPresent']===_0x166d0c)return;_0x39f1a2[_0x1598df(0x1c5)]=_0x166d0c,await _0x39f1a2['setStateAsync']('system.isPresent',{'val':_0x166d0c,'ack':!![]});}async function executeAutomationAction(_0x512109){const _0x48d95a=a0_0x3d2e81;try{const _0x23fe5b=await _0x512109[_0x48d95a(0x228)]('analysis.automation.targetId'),_0x11a3f7=await _0x512109[_0x48d95a(0x228)](_0x48d95a(0x1e4));if(_0x23fe5b&&_0x23fe5b[_0x48d95a(0x17e)]&&_0x11a3f7){const _0x40c08c=_0x23fe5b[_0x48d95a(0x17e)];let _0x5cfc67=_0x11a3f7[_0x48d95a(0x17e)];try{_0x5cfc67=JSON[_0x48d95a(0x231)](_0x5cfc67);}catch(_0x325cc4){}_0x512109[_0x48d95a(0x1e5)][_0x48d95a(0x19c)]('ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20'+_0x40c08c+'\x20=\x20'+_0x5cfc67),await _0x512109[_0x48d95a(0x294)](_0x40c08c,_0x5cfc67);}else _0x512109['log'][_0x48d95a(0x14c)](_0x48d95a(0x185));}catch(_0x1af21f){_0x512109[_0x48d95a(0x1e5)][_0x48d95a(0x24c)](_0x48d95a(0x28a)+_0x1af21f['message']);}}async function processSensorEvent(_0x3282c2,_0x1e57f3,_0x28e213,_0x2b018c){const _0x53e663=a0_0x3d2e81;if(!_0x2b018c)return;const _0x1a37f7=_0x28e213['val'],_0xaa8888=Date[_0x53e663(0x137)](),_0x37e04d=_0x3282c2['sensorLastValues'][_0x1e57f3];_0x3282c2[_0x53e663(0x268)][_0x1e57f3]=_0x1a37f7;if(!_0x2b018c[_0x53e663(0x1f8)]&&_0x37e04d!=undefined&&_0x37e04d==_0x1a37f7)return;const _0x2112f1=(_0x2b018c['type']||'')[_0x53e663(0x25a)](),_0x1256b6=_0x2112f1['includes'](_0x53e663(0x167))||_0x2112f1['includes'](_0x53e663(0x15b))||_0x2112f1[_0x53e663(0x1eb)](_0x53e663(0x208))||_0x2112f1[_0x53e663(0x1eb)](_0x53e663(0x15e));_0x3282c2[_0x53e663(0x276)]&&_0x1256b6&&recordThermodynamics(_0x3282c2,_0x1e57f3,_0x1a37f7,_0x2b018c[_0x53e663(0x1b4)]);const _0x186409={'timestamp':_0xaa8888,'id':_0x1e57f3,'name':_0x2b018c['name'],'type':_0x2b018c['type'],'location':_0x2b018c[_0x53e663(0x1b4)],'value':_0x1a37f7};_0x3282c2[_0x53e663(0x1d0)][_0x53e663(0x181)](_0x186409);if(_0x3282c2[_0x53e663(0x1d0)]['length']>HISTORY_MAX_SIZE)_0x3282c2[_0x53e663(0x1d0)][_0x53e663(0x1be)]();await _0x3282c2[_0x53e663(0x1ae)](_0x53e663(0x150),{'val':JSON['stringify'](_0x186409),'ack':!![]}),await _0x3282c2['setStateAsync']('events.history',{'val':JSON['stringify'](_0x3282c2[_0x53e663(0x1d0)]),'ack':!![]});_0x3282c2[_0x53e663(0x276)]&&(_0x3282c2['rawEventLog']['push'](_0x186409),await saveRawEventLog(_0x3282c2),recordSequence(_0x3282c2,_0x186409));if(_0x2b018c['isExit']&&_0x1a37f7===!![]){if(_0x3282c2[_0x53e663(0x1c5)]&&!_0x3282c2[_0x53e663(0x2b5)])startExitTimer(_0x3282c2);else{if(!_0x3282c2[_0x53e663(0x1c5)])setPresence(_0x3282c2,!![]);}}else{if(_0x2b018c['type']==='motion'&&_0x1a37f7===!![]){if(_0x3282c2[_0x53e663(0x12e)])abortExitTimer(_0x3282c2);if(!_0x3282c2[_0x53e663(0x1c5)]&&_0x3282c2[_0x53e663(0x2b3)]===SYSTEM_MODES['NORMAL'])setPresence(_0x3282c2,!![]);}}}async function recordThermodynamics(_0x51f164,_0x4524cd,_0x1eb2d7,_0x1ee9cb){const _0xdfb601=a0_0x3d2e81,_0x594869=await getOutsideTemperatureNumeric(_0x51f164),_0x56a507=await _0x51f164[_0xdfb601(0x228)](_0xdfb601(0x212));let _0x19751b=[];if(_0x56a507&&_0x56a507[_0xdfb601(0x17e)])try{_0x19751b=JSON[_0xdfb601(0x231)](_0x56a507[_0xdfb601(0x17e)]);}catch(_0x3d718a){}_0x19751b[_0xdfb601(0x23f)]({'ts':Date[_0xdfb601(0x137)](),'room':_0x1ee9cb||_0xdfb601(0x166),'t_in':_0x1eb2d7,'t_out':_0x594869});if(_0x19751b['length']>THERMO_LOG_SIZE)_0x19751b[_0xdfb601(0x299)]();await _0x51f164[_0xdfb601(0x1ae)](_0xdfb601(0x212),{'val':JSON[_0xdfb601(0x2aa)](_0x19751b),'ack':!![]});}async function getOutsideTemperatureNumeric(_0xd30c91){const _0x5b284b=a0_0x3d2e81;if(_0xd30c91[_0x5b284b(0x21e)][_0x5b284b(0x29f)])try{const _0x4f1f47=await _0xd30c91[_0x5b284b(0x250)](_0xd30c91[_0x5b284b(0x21e)][_0x5b284b(0x29f)]);if(_0x4f1f47&&_0x4f1f47[_0x5b284b(0x17e)]!==undefined&&_0x4f1f47[_0x5b284b(0x17e)]!==null)return parseFloat(_0x4f1f47[_0x5b284b(0x17e)]);}catch(_0x18ab67){}const _0x8aec6e=_0xd30c91[_0x5b284b(0x21e)][_0x5b284b(0x1ad)];if(!_0xd30c91['config'][_0x5b284b(0x291)]||!_0x8aec6e)return null;try{let _0x6c5ede='';if(_0x8aec6e[_0x5b284b(0x1eb)]('accuweather'))_0x6c5ede=_0x8aec6e+_0x5b284b(0x262);else{if(_0x8aec6e[_0x5b284b(0x1eb)](_0x5b284b(0x2ab)))_0x6c5ede=_0x8aec6e+_0x5b284b(0x13c);else{if(_0x8aec6e['includes'](_0x5b284b(0x216)))_0x6c5ede=_0x8aec6e+_0x5b284b(0x21a);else{if(_0x8aec6e['includes'](_0x5b284b(0x218)))_0x6c5ede=_0x8aec6e+_0x5b284b(0x249);}}}if(_0x6c5ede){const _0x6b09f5=await _0xd30c91[_0x5b284b(0x250)](_0x6c5ede);if(_0x6b09f5&&_0x6b09f5[_0x5b284b(0x17e)]!==undefined&&_0x6b09f5['val']!==null)return parseFloat(_0x6b09f5['val']);}}catch(_0x343eec){}return null;}async function recordSequence(_0x1a2e5f,_0x5aa1d7){const _0x2bed9b=a0_0x3d2e81,_0x2d6d6a=(_0x5aa1d7[_0x2bed9b(0x23a)]||'')[_0x2bed9b(0x25a)](),_0x1765b1=[_0x2bed9b(0x22f),_0x2bed9b(0x273),_0x2bed9b(0x223),_0x2bed9b(0x20d),_0x2bed9b(0x283),_0x2bed9b(0x21f),'tÃ¼r',_0x2bed9b(0x170),_0x2bed9b(0x267),_0x2bed9b(0x1b8),'kontakt','light',_0x2bed9b(0x270),_0x2bed9b(0x153),'schalter',_0x2bed9b(0x23b),'lampe'];if(!_0x1765b1[_0x2bed9b(0x29d)](_0xdf5c83=>_0x2d6d6a[_0x2bed9b(0x1eb)](_0xdf5c83)))return;if(!_0x5aa1d7[_0x2bed9b(0x24a)])return;if(sequenceTimer)clearTimeout(sequenceTimer);activeSequence['push']({'loc':_0x5aa1d7[_0x2bed9b(0x1b4)]||_0x2bed9b(0x166),'id':_0x5aa1d7['id'],'ts':Date[_0x2bed9b(0x137)]()}),sequenceTimer=setTimeout(async()=>{if(activeSequence['length']>0x1)await saveCompletedSequence(_0x1a2e5f);activeSequence=[];},SEQUENCE_TIMEOUT_MS);}async function saveCompletedSequence(_0x55fd3f){const _0x2e2421=a0_0x3d2e81;try{const _0x581605=await _0x55fd3f[_0x2e2421(0x228)]('LTM.trainingData.sequences');let _0x52a59c=[];if(_0x581605&&_0x581605[_0x2e2421(0x17e)])try{_0x52a59c=JSON[_0x2e2421(0x231)](_0x581605[_0x2e2421(0x17e)]);}catch(_0x4279a8){}const _0x4fd6ba=activeSequence[0x0]['ts'],_0x401a93=activeSequence[_0x2e2421(0x1b2)](_0x1ee493=>({'loc':_0x1ee493['loc'],'t_delta':Math['round']((_0x1ee493['ts']-_0x4fd6ba)/0x3e8)})),_0x3cc1ef={'timestamp':new Date(_0x4fd6ba)[_0x2e2421(0x19b)](),'steps':_0x401a93,'duration':Math['round']((activeSequence[activeSequence[_0x2e2421(0x18e)]-0x1]['ts']-_0x4fd6ba)/0x3e8),'daytime':new Date(_0x4fd6ba)[_0x2e2421(0x2a1)]()};_0x52a59c[_0x2e2421(0x23f)](_0x3cc1ef);if(_0x52a59c[_0x2e2421(0x18e)]>MAX_TRAINING_SET_SIZE)_0x52a59c[_0x2e2421(0x299)]();await _0x55fd3f['setStateAsync'](_0x2e2421(0x26e),{'val':JSON[_0x2e2421(0x2aa)](_0x52a59c),'ack':!![]}),runSecurityCheck(_0x55fd3f,_0x3cc1ef);}catch(_0x1520bd){_0x55fd3f[_0x2e2421(0x1e5)]['error'](_0x2e2421(0x129)+_0x1520bd[_0x2e2421(0x25c)]);}}function runSecurityCheck(_0x42da2d,_0x35d944){const _0x40aea6=a0_0x3d2e81;if(!_0x42da2d[_0x40aea6(0x276)])return;sendToPython(_0x42da2d,_0x40aea6(0x259),{'sequence':_0x35d944});}function a0_0xdd5d(_0x565918,_0x21ac5d){const _0x497cb5=a0_0x2097();return a0_0xdd5d=function(_0x11d0ee,_0x1141e4){_0x11d0ee=_0x11d0ee-0x127;let _0x2097d7=_0x497cb5[_0x11d0ee];return _0x2097d7;},a0_0xdd5d(_0x565918,_0x21ac5d);}async function createDailyDigest(_0x1096e7){const _0x1d410f=a0_0x3d2e81;if(!_0x1096e7[_0x1d410f(0x276)])return;await _0x1096e7[_0x1d410f(0x1ae)](LTM_DP_STATUS,{'val':_0x1d410f(0x280),'ack':!![]});if(!_0x1096e7[_0x1d410f(0x20f)]||_0x1096e7['rawEventLog']['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x1096e7[_0x1d410f(0x1ae)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x4bd80f=JSON['parse'](JSON[_0x1d410f(0x2aa)](_0x1096e7[_0x1d410f(0x1d3)])),_0x21d402=_0x4bd80f['length'],_0xfc8a62='ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a'+JSON[_0x1d410f(0x2aa)](_0x4bd80f);try{const _0x2cb630=await _0x1096e7[_0x1d410f(0x20f)][_0x1d410f(0x1f7)](_0xfc8a62),_0x547959=JSON[_0x1d410f(0x231)](_0x2cb630[_0x1d410f(0x1c2)][_0x1d410f(0x141)]()[_0x1d410f(0x13d)](/```json|```/g,'')[_0x1d410f(0x1bc)]()),_0x5da0a9={'timestamp':new Date()[_0x1d410f(0x19b)](),'eventCount':_0x21d402,'summary':_0x547959[_0x1d410f(0x27e)]||_0x1d410f(0x1c7),'activityLevel':_0x547959[_0x1d410f(0x2a0)]||_0x1d410f(0x292),'systemMode':_0x1096e7[_0x1d410f(0x2b3)]};_0x1096e7[_0x1d410f(0x258)]['push'](_0x5da0a9),await saveDailyDigests(_0x1096e7),_0x1096e7['rawEventLog']=[],await saveRawEventLog(_0x1096e7),await _0x1096e7['setStateAsync'](LTM_DP_STATUS,{'val':_0x1d410f(0x2af),'ack':!![]});if(_0x1096e7['isProVersion'])sendToPython(_0x1096e7,_0x1d410f(0x27d),{'digest':_0x5da0a9});}catch(_0x302041){_0x1096e7['log'][_0x1d410f(0x24c)](_0x302041[_0x1d410f(0x25c)]);}}async function runBaselineDriftAnalysis(_0x4d9b6a){const _0xd8a5d1=a0_0x3d2e81;if(!_0x4d9b6a[_0xd8a5d1(0x276)]||!_0x4d9b6a[_0xd8a5d1(0x20f)])return;const _0x1e86db=_0x4d9b6a[_0xd8a5d1(0x21e)][_0xd8a5d1(0x165)]||0xe;if(_0x4d9b6a['dailyDigests']['length']<_0x1e86db+0x7){await _0x4d9b6a[_0xd8a5d1(0x1ae)](LTM_DP_DRIFT_STATUS,{'val':_0xd8a5d1(0x160),'ack':!![]});return;}const _0x4e1926=_0x4d9b6a[_0xd8a5d1(0x258)]['slice'](-_0x1e86db),_0x44dac7=_0x4d9b6a[_0xd8a5d1(0x258)][_0xd8a5d1(0x237)](0x0,_0x4d9b6a[_0xd8a5d1(0x258)]['length']-_0x1e86db),_0x1199ac=_0xd8a5d1(0x193)+JSON[_0xd8a5d1(0x2aa)](_0x44dac7)+_0xd8a5d1(0x1c8)+JSON[_0xd8a5d1(0x2aa)](_0x4e1926);try{const _0x51da56=await _0x4d9b6a[_0xd8a5d1(0x20f)][_0xd8a5d1(0x1f7)](_0x1199ac),_0x293e60=JSON[_0xd8a5d1(0x231)](_0x51da56[_0xd8a5d1(0x1c2)][_0xd8a5d1(0x141)]()['replace'](/```json|```/g,'')[_0xd8a5d1(0x1bc)]());_0x293e60['baselineDrift']&&(await _0x4d9b6a[_0xd8a5d1(0x1ae)](LTM_DP_DRIFT_STATUS,{'val':_0x293e60[_0xd8a5d1(0x1a0)],'ack':!![]}),await _0x4d9b6a[_0xd8a5d1(0x1ae)](LTM_DP_DRIFT_DETAILS,{'val':_0x293e60[_0xd8a5d1(0x202)],'ack':!![]}),await _0x4d9b6a[_0xd8a5d1(0x1ae)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0xd8a5d1(0x137)](),'ack':!![]}));}catch(_0x1cb2a9){}}async function sendMorningBriefing(_0x1fb75a){const _0x1e64ac=a0_0x3d2e81;if(!_0x1fb75a[_0x1e64ac(0x20f)])return;try{const _0x56f5e4=_0x1e64ac(0x13e),_0x319840=await _0x1fb75a['geminiModel'][_0x1e64ac(0x1f7)](_0x56f5e4),_0x5b2e6f=_0x319840[_0x1e64ac(0x1c2)]['text']();sendNotification(_0x1fb75a,_0x1e64ac(0x18d)+_0x5b2e6f);}catch(_0x45b020){_0x1fb75a[_0x1e64ac(0x1e5)][_0x1e64ac(0x24c)](_0x1e64ac(0x239)+_0x45b020[_0x1e64ac(0x25c)]);}}function stopPythonService(_0x3226a2){const _0x4e8492=a0_0x3d2e81;if(_0x3226a2[_0x4e8492(0x1fa)]){try{_0x3226a2[_0x4e8492(0x1fa)][_0x4e8492(0x161)]();}catch(_0x374dd3){}_0x3226a2[_0x4e8492(0x1fa)]=null;}}function sendToPython(_0x3b9faa,_0x9a40f5,_0x5d438b={}){const _0x122f82=a0_0x3d2e81;if(!_0x3b9faa[_0x122f82(0x1fa)]||!_0x3b9faa[_0x122f82(0x1fa)][_0x122f82(0x191)][_0x122f82(0x17b)])return;const _0x58c692=JSON[_0x122f82(0x2aa)]({'command':_0x9a40f5,..._0x5d438b});try{_0x3b9faa['pythonProcess'][_0x122f82(0x191)][_0x122f82(0x25e)](_0x58c692+'\x0a');}catch(_0x246acb){}}function runPythonHealthCheck(_0x2bfb55){const _0x49e414=a0_0x3d2e81;if(!_0x2bfb55[_0x49e414(0x258)]||_0x2bfb55[_0x49e414(0x258)][_0x49e414(0x18e)]<0x2)return;const _0x4e14d7=_0x2bfb55['dailyDigests'][_0x49e414(0x1b2)](_0x2121a2=>{const _0x299a5b=_0x49e414,_0x59e9da=(_0x2121a2[_0x299a5b(0x2a0)]||'')[_0x299a5b(0x25a)]();return ACTIVITY_LEVEL_MAP[_0x59e9da]||0x32;});sendToPython(_0x2bfb55,_0x49e414(0x290),{'values':_0x4e14d7,'tag':_0x49e414(0x28b)});}function handlePythonResult(_0x31f83a,_0x4129c7){const _0x5e8229=a0_0x3d2e81;if(_0x4129c7['type']===_0x5e8229(0x1f2))_0x31f83a[_0x5e8229(0x1e5)][_0x5e8229(0x1d9)](_0x5e8229(0x12b));else{if(_0x4129c7[_0x5e8229(0x23a)]==='SECURITY_RESULT'){const {anomaly_score:_0x38bd0e,is_anomaly:_0x4d9115,threshold:_0x27b066,explanation:_0x3273de}=_0x4129c7[_0x5e8229(0x1ca)];_0x31f83a[_0x5e8229(0x1e5)]['info']('ðŸ›¡ï¸\x20SECURITY\x20CHECK:\x20Score\x20'+_0x38bd0e[_0x5e8229(0x171)](0x5)+'\x20->\x20'+(_0x4d9115?'ANOMALY':'OK')),_0x31f83a[_0x5e8229(0x1ae)](_0x5e8229(0x26c),{'val':_0x38bd0e,'ack':!![]}),_0x31f83a[_0x5e8229(0x1ae)](_0x5e8229(0x224),{'val':new Date()['toISOString'](),'ack':!![]});if(_0x27b066)_0x31f83a[_0x5e8229(0x1ae)](_0x5e8229(0x272),{'val':_0x27b066,'ack':!![]});if(_0x4d9115){let _0x3c665c=_0x5e8229(0x287)+_0x38bd0e[_0x5e8229(0x171)](0x4)+')';if(_0x3273de&&_0x3273de!=='Unknown')_0x3c665c+='\x0aGrund:\x20'+_0x3273de;_0x31f83a[_0x5e8229(0x1ae)]('analysis.isAlert',{'val':!![],'ack':!![]}),_0x31f83a[_0x5e8229(0x1ae)](_0x5e8229(0x28d),{'val':_0x3c665c,'ack':!![]}),sendNotification(_0x31f83a,'âš ï¸\x20SECURITY\x20ALARM:\x20'+_0x3c665c,![],!![]);}}else{if(_0x4129c7[_0x5e8229(0x23a)]===_0x5e8229(0x285)){const _0x485e02=_0x4129c7[_0x5e8229(0x1ca)][_0x5e8229(0x1f4)]||'',_0x2b8961=_0x4129c7[_0x5e8229(0x1ca)]['threshold'],_0x21dbb3=_0x4129c7[_0x5e8229(0x1ca)][_0x5e8229(0x1d6)]?_0x5e8229(0x213)+new Date()[_0x5e8229(0x235)]()+'\x20('+_0x485e02+')':_0x5e8229(0x18c)+_0x4129c7[_0x5e8229(0x1ca)][_0x5e8229(0x225)];_0x31f83a[_0x5e8229(0x1ae)]('analysis.training.status',{'val':_0x21dbb3,'ack':!![]});if(_0x4129c7[_0x5e8229(0x1ca)][_0x5e8229(0x1d6)]&&_0x2b8961)_0x31f83a[_0x5e8229(0x1ae)]('analysis.security.currentThreshold',{'val':_0x2b8961,'ack':!![]});}else{if(_0x4129c7['type']===_0x5e8229(0x20c)){const {patterns:_0x1f3279}=_0x4129c7[_0x5e8229(0x1ca)];if(_0x1f3279&&_0x1f3279['length']>0x0){_0x31f83a[_0x5e8229(0x1e5)][_0x5e8229(0x19c)]('ðŸ›‹ï¸\x20BUTLER:\x20Found\x20'+_0x1f3279[_0x5e8229(0x18e)]+_0x5e8229(0x13b)),_0x31f83a[_0x5e8229(0x1ae)](_0x5e8229(0x195),{'val':JSON[_0x5e8229(0x2aa)](_0x1f3279),'ack':!![]});const _0x30c9da=_0x1f3279[0x0],_0x30a5e5='Regel\x20erkannt:\x20'+_0x30c9da[_0x5e8229(0x13f)]+'\x20('+(_0x30c9da[_0x5e8229(0x1af)]*0x64)['toFixed'](0x0)+'%)';_0x31f83a[_0x5e8229(0x1ae)](_0x5e8229(0x177),{'val':!![],'ack':!![]}),_0x31f83a[_0x5e8229(0x1ae)]('analysis.automation.description',{'val':_0x30a5e5,'ack':!![]});}else _0x31f83a[_0x5e8229(0x1e5)][_0x5e8229(0x19c)](_0x5e8229(0x281)),_0x31f83a[_0x5e8229(0x1ae)](_0x5e8229(0x177),{'val':![],'ack':!![]}),_0x31f83a['setStateAsync'](_0x5e8229(0x195),{'val':'[]','ack':!![]});}else{if(_0x4129c7[_0x5e8229(0x23a)]===_0x5e8229(0x132)){if(_0x4129c7['payload'][_0x5e8229(0x1d6)])try{const _0x37ff29=JSON['parse'](_0x4129c7[_0x5e8229(0x1ca)][_0x5e8229(0x1f4)]);if(_0x37ff29[_0x5e8229(0x136)])_0x31f83a[_0x5e8229(0x1ae)](_0x5e8229(0x1bf),{'val':JSON[_0x5e8229(0x2aa)](_0x37ff29['insulation']),'ack':!![]});if(_0x37ff29[_0x5e8229(0x1e0)])_0x31f83a[_0x5e8229(0x1ae)]('analysis.energy.heatingScore',{'val':JSON[_0x5e8229(0x2aa)](_0x37ff29[_0x5e8229(0x1e0)]),'ack':!![]});}catch(_0x5d6334){}}else{if(_0x4129c7[_0x5e8229(0x23a)]==='HEALTH_TRAIN_RESULT'){if(_0x4129c7['payload']['success'])_0x31f83a[_0x5e8229(0x1e5)][_0x5e8229(0x19c)]('âœ…\x20HEALTH\x20TRAINED.');}else{if(_0x4129c7[_0x5e8229(0x23a)]===_0x5e8229(0x1b3))_0x31f83a[_0x5e8229(0x1ae)]('analysis.health.lastCheck',{'val':new Date()[_0x5e8229(0x19b)](),'ack':!![]}),_0x31f83a[_0x5e8229(0x1ae)](_0x5e8229(0x204),{'val':_0x4129c7[_0x5e8229(0x1ca)][_0x5e8229(0x298)],'ack':!![]});else{if(_0x4129c7[_0x5e8229(0x23a)]==='TREND_RESULT')_0x31f83a['setStateAsync'](_0x5e8229(0x21c),{'val':_0x4129c7[_0x5e8229(0x1ca)][_0x5e8229(0x28f)],'ack':!![]}),_0x31f83a['setStateAsync'](_0x5e8229(0x1db),{'val':_0x4129c7[_0x5e8229(0x1ca)][_0x5e8229(0x24f)],'ack':!![]});else{if(_0x4129c7[_0x5e8229(0x23a)]===_0x5e8229(0x169)){const {speed_trend:_0x62259e}=_0x4129c7[_0x5e8229(0x1ca)];if(_0x62259e!==undefined)_0x31f83a[_0x5e8229(0x1ae)]('analysis.health.gaitSpeed',{'val':_0x62259e,'ack':!![]});}else{if(_0x4129c7[_0x5e8229(0x23a)]===_0x5e8229(0x1ea)){const {forecast:_0x2b3d29}=_0x4129c7['payload'];if(_0x2b3d29)_0x31f83a[_0x5e8229(0x1ae)]('analysis.energy.forecast',{'val':JSON[_0x5e8229(0x2aa)](_0x2b3d29),'ack':!![]});}else{if(_0x4129c7['type']===_0x5e8229(0x205)){const {data:_0x43bed1}=_0x4129c7['payload'];_0x43bed1&&(_0x31f83a[_0x5e8229(0x1e5)][_0x5e8229(0x19c)](_0x5e8229(0x286)),_0x31f83a[_0x5e8229(0x1ae)]('analysis.security.topologyMatrix',{'val':JSON[_0x5e8229(0x2aa)](_0x43bed1),'ack':!![]}));}}}}}}}}}}}}function startPythonService(_0xd7eed6){const _0x326c1c=a0_0x3d2e81;let _0x43910e=_0x326c1c(0x128);if(fs[_0x326c1c(0x183)](installer[_0x326c1c(0x190)]))_0x43910e=installer[_0x326c1c(0x190)];try{const _0x3b85c3=path['join'](__dirname,_0x326c1c(0x198),_0x326c1c(0x1c1));_0xd7eed6[_0x326c1c(0x1fa)]=spawn(_0x43910e,[_0x3b85c3]),_0xd7eed6[_0x326c1c(0x1fa)]['stdout']['on'](_0x326c1c(0x16d),_0x40f724=>{const _0x1e0a46=_0x326c1c,_0x1b6773=_0x40f724[_0x1e0a46(0x251)]()[_0x1e0a46(0x20b)]('\x0a');_0x1b6773['forEach'](_0x175e34=>{const _0x480af0=_0x1e0a46,_0x2f0dd0=_0x175e34[_0x480af0(0x1bc)]();if(!_0x2f0dd0)return;if(_0x2f0dd0[_0x480af0(0x1dc)]('[LOG]'))_0xd7eed6[_0x480af0(0x1e5)][_0x480af0(0x1d9)](_0x480af0(0x1d2)+_0x2f0dd0['substring'](0x5)[_0x480af0(0x1bc)]());else{if(_0x2f0dd0['startsWith']('[RESULT]'))try{const _0x2dc0da=JSON[_0x480af0(0x231)](_0x2f0dd0[_0x480af0(0x146)](0x8)[_0x480af0(0x1bc)]());handlePythonResult(_0xd7eed6,_0x2dc0da);}catch(_0x6a68bb){}}});}),_0xd7eed6[_0x326c1c(0x1fa)]['on']('close',_0x227911=>{const _0x3ec4c1=_0x326c1c;_0xd7eed6[_0x3ec4c1(0x1fa)]=null;});}catch(_0x3707fc){_0xd7eed6[_0x326c1c(0x1e5)][_0x326c1c(0x24c)](_0x326c1c(0x2a5)+_0x3707fc['message']);}}async function runAutopilot(_0x485148){const _0x110613=a0_0x3d2e81;_0x485148[_0x110613(0x1e5)][_0x110613(0x1d9)](_0x110613(0x1a3)),await runGeminiAnalysis(_0x485148),updateHealthVector(_0x485148),triggerGaitAnalysis(_0x485148),triggerEnergyPrediction(_0x485148);}async function triggerGaitAnalysis(_0x20ff77){const _0x2483d6=a0_0x3d2e81;if(!_0x20ff77[_0x2483d6(0x276)])return;try{const _0x55240f=await _0x20ff77[_0x2483d6(0x228)](_0x2483d6(0x26e));_0x55240f&&_0x55240f[_0x2483d6(0x17e)]&&sendToPython(_0x20ff77,_0x2483d6(0x253),{'sequences':JSON[_0x2483d6(0x231)](_0x55240f[_0x2483d6(0x17e)])});}catch(_0x5a4e14){}}async function triggerEnergyPrediction(_0x55355b){const _0x15241e=a0_0x3d2e81;if(!_0x55355b[_0x15241e(0x276)])return;try{const _0x3eee52=await getOutsideTemperatureNumeric(_0x55355b);if(_0x3eee52===null)return;const _0x2d3a34={},_0x5da7e9=_0x55355b[_0x15241e(0x21e)]['devices']||[];for(const _0x363e72 of _0x5da7e9){if(_0x363e72[_0x15241e(0x23a)]===_0x15241e(0x167)&&_0x363e72['location']){const _0x4dfce6=_0x55355b[_0x15241e(0x268)][_0x363e72['id']];if(_0x4dfce6!==undefined)_0x2d3a34[_0x363e72[_0x15241e(0x1b4)]]=_0x4dfce6;}}Object['keys'](_0x2d3a34)['length']>0x0&&sendToPython(_0x55355b,_0x15241e(0x203),{'current_temps':_0x2d3a34,'t_out':_0x3eee52});}catch(_0x3dbb75){}}function updateHealthVector(_0x38e6da){const _0x57d0e1=a0_0x3d2e81;if(!_0x38e6da[_0x57d0e1(0x1d3)]||_0x38e6da[_0x57d0e1(0x1d3)]['length']===0x0)return;const _0x137050=new Array(0x60)[_0x57d0e1(0x222)](0x0),_0x3eee9f=new Date()[_0x57d0e1(0x1da)](0x0,0x0,0x0,0x0);_0x38e6da['rawEventLog'][_0x57d0e1(0x16c)](_0x29cf62=>{const _0x2d9dbb=_0x57d0e1,_0x106a7d=new Date(_0x29cf62[_0x2d9dbb(0x1b1)]);if(_0x106a7d[_0x2d9dbb(0x184)]()>=_0x3eee9f){const _0x3f8675=_0x106a7d['getHours'](),_0x4a4243=_0x106a7d[_0x2d9dbb(0x1a4)](),_0x2c4f72=_0x3f8675*0x4+Math['floor'](_0x4a4243/0xf);if(_0x2c4f72>=0x0&&_0x2c4f72<0x60)_0x137050[_0x2c4f72]++;}}),_0x38e6da['setStateAsync'](_0x57d0e1(0x29c),{'val':JSON[_0x57d0e1(0x2aa)](_0x137050),'ack':!![]});}async function getWeatherContext(_0xb738d4){const _0x1e42f4=a0_0x3d2e81;if(!_0xb738d4[_0x1e42f4(0x21e)][_0x1e42f4(0x291)]||!_0xb738d4[_0x1e42f4(0x21e)][_0x1e42f4(0x1ad)])return'Wetterdaten\x20deaktiviert.';try{const _0x438975=_0xb738d4[_0x1e42f4(0x21e)][_0x1e42f4(0x1ad)];let _0x47639a=await _0xb738d4[_0x1e42f4(0x250)](_0x438975+'.Current.Temperature');if(!_0x47639a)_0x47639a=await _0xb738d4[_0x1e42f4(0x250)](_0x438975+'.forecast.current.temperature');let _0x138473=await _0xb738d4[_0x1e42f4(0x250)](_0x438975+'.Current.WeatherText');if(!_0x138473)_0x138473=await _0xb738d4[_0x1e42f4(0x250)](_0x438975+_0x1e42f4(0x2b9));if(_0x47639a&&_0x138473)return _0x47639a[_0x1e42f4(0x17e)]+_0x1e42f4(0x13a)+_0x138473[_0x1e42f4(0x17e)];}catch(_0xa175ac){}return _0x1e42f4(0x17c);}async function getCalendarContext(_0x22918e){const _0x5a1114=a0_0x3d2e81;if(!_0x22918e['config'][_0x5a1114(0x156)]||!_0x22918e['config'][_0x5a1114(0x221)])return'Kalender\x20deaktiviert.';return'Keine\x20Termine.';}async function getCalendarNames(_0xa3bfd5,_0x5c3561){return[];}async function saveFeedback(_0x3067d5,_0x36d23e){const _0x1d0e3a=a0_0x3d2e81;_0x3067d5[_0x1d0e3a(0x1e5)]['info'](_0x1d0e3a(0x189)+_0x36d23e[_0x1d0e3a(0x1a8)]);}async function runGeminiAnalysis(_0x2b5fde,_0x23058c=''){const _0x3f4a4a=a0_0x3d2e81;if(!_0x2b5fde['geminiModel'])return;if(_0x2b5fde[_0x3f4a4a(0x1d0)][_0x3f4a4a(0x18e)]===0x0)return;const _0x16802a=_0x2b5fde[_0x3f4a4a(0x1d0)][_0x3f4a4a(0x237)](0x0,0xf),_0x263767=await getWeatherContext(_0x2b5fde),_0xcf254=_0x2b5fde['currentSystemMode'],_0x2b06ee=PERSONA_MAPPING[_0x2b5fde[_0x3f4a4a(0x21e)][_0x3f4a4a(0x127)]||_0x3f4a4a(0x1ff)],_0x2ac4bf=_0x2b5fde[_0x3f4a4a(0x21e)][_0x3f4a4a(0x143)]||_0x3f4a4a(0x15c);let _0x4cacbf=_0x3f4a4a(0x163);try{const _0x59b74f=await _0x2b5fde['getStateAsync'](_0x3f4a4a(0x23d));if(_0x59b74f&&_0x59b74f[_0x3f4a4a(0x17e)])_0x4cacbf=_0x59b74f[_0x3f4a4a(0x17e)];}catch(_0x4796ec){}let _0x5b94bb=![];try{const _0x24ab60=await _0x2b5fde['getStateAsync'](_0x3f4a4a(0x240));if(_0x24ab60&&_0x24ab60[_0x3f4a4a(0x17e)])_0x5b94bb=!![];}catch(_0x1a3355){}const _0x4fe91e=_0x3f4a4a(0x158)+_0x2b06ee+_0x3f4a4a(0x1f3)+_0x2ac4bf+'.\x20SYSTEM_MODE:\x20'+_0xcf254+'.\x20WETTER:\x20'+_0x263767+_0x3f4a4a(0x182)+_0x4cacbf+_0x3f4a4a(0x1c6)+JSON[_0x3f4a4a(0x2aa)](_0x16802a)+'.\x20EMERGENCY:\x20'+_0x23058c+_0x3f4a4a(0x15f);try{const _0x25d2e0=await _0x2b5fde[_0x3f4a4a(0x20f)][_0x3f4a4a(0x1f7)](_0x4fe91e),_0x334286=JSON[_0x3f4a4a(0x231)](_0x25d2e0['response'][_0x3f4a4a(0x141)]()[_0x3f4a4a(0x13d)](/```json|```/g,'')['trim']());await _0x2b5fde['setStateAsync']('analysis.lastResult',{'val':JSON[_0x3f4a4a(0x2aa)](_0x334286),'ack':!![]});if(_0x334286['summary'])await _0x2b5fde[_0x3f4a4a(0x1ae)](_0x3f4a4a(0x14e),{'val':_0x334286[_0x3f4a4a(0x27e)],'ack':!![]});const _0x1921c2={'timestamp':Date[_0x3f4a4a(0x137)](),'id':Date[_0x3f4a4a(0x137)]()[_0x3f4a4a(0x251)](),'analysis':{'activity':{'summary':_0x334286[_0x3f4a4a(0x27e)],'isAlert':_0x334286[_0x3f4a4a(0x1ef)],'alertReason':_0x334286[_0x3f4a4a(0x1e9)]},'comfort':{'automationProposal':_0x334286[_0x3f4a4a(0x186)]}}};await updateAnalysisHistory(_0x2b5fde,_0x1921c2);const _0x3319f3=_0x334286['isAlert']||![];_0x3319f3!==_0x2b5fde[_0x3f4a4a(0x246)]&&(await _0x2b5fde['setStateAsync'](_0x3f4a4a(0x23c),{'val':_0x3319f3,'ack':!![]}),_0x2b5fde[_0x3f4a4a(0x246)]=_0x3319f3,_0x3319f3&&(await _0x2b5fde[_0x3f4a4a(0x1ae)]('analysis.alertReason',{'val':_0x334286['alertReason'],'ack':!![]}),sendNotification(_0x2b5fde,_0x3f4a4a(0x244)+_0x334286[_0x3f4a4a(0x1e9)],![],_0x334286['isEmergency'])));if(_0x334286['automationProposal']&&_0x334286[_0x3f4a4a(0x186)][_0x3f4a4a(0x17a)]){await _0x2b5fde[_0x3f4a4a(0x1ae)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await _0x2b5fde[_0x3f4a4a(0x1ae)](_0x3f4a4a(0x1bb),{'val':_0x334286[_0x3f4a4a(0x186)][_0x3f4a4a(0x22a)],'ack':!![]}),await _0x2b5fde[_0x3f4a4a(0x1ae)](_0x3f4a4a(0x1e7),{'val':_0x334286[_0x3f4a4a(0x186)][_0x3f4a4a(0x172)],'ack':!![]}),await _0x2b5fde[_0x3f4a4a(0x1ae)](_0x3f4a4a(0x1e4),{'val':JSON[_0x3f4a4a(0x2aa)](_0x334286[_0x3f4a4a(0x186)]['targetValue']),'ack':!![]});if(_0x5b94bb)executeAutomationAction(_0x2b5fde);}}catch(_0x28372d){_0x2b5fde[_0x3f4a4a(0x1e5)][_0x3f4a4a(0x24c)]('Gemini\x20Error:\x20'+_0x28372d[_0x3f4a4a(0x25c)]);}}async function startSystem(_0x273b12){const _0x5414d9=a0_0x3d2e81;_0x273b12[_0x5414d9(0x1e5)]['info'](_0x5414d9(0x207)),await initZombies(_0x273b12);try{_0x273b12['isProVersion']=await checkLicense(_0x273b12['config'][_0x5414d9(0x296)]);}catch(_0x489d67){}if(!_0x273b12['config'][_0x5414d9(0x1fb)]||_0x273b12[_0x5414d9(0x21e)][_0x5414d9(0x1fb)]<0.1)_0x273b12[_0x5414d9(0x21e)][_0x5414d9(0x1fb)]=0xc;await initHistory(_0x273b12),await initSystemConfig(_0x273b12);if(_0x273b12[_0x5414d9(0x21e)][_0x5414d9(0x157)])try{_0x273b12[_0x5414d9(0x241)]=new GoogleGenerativeAI(_0x273b12[_0x5414d9(0x21e)][_0x5414d9(0x157)]),_0x273b12[_0x5414d9(0x20f)]=_0x273b12[_0x5414d9(0x241)][_0x5414d9(0x2a9)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5414d9(0x1cc)}}),_0x273b12['log']['info']('Gemini\x20AI\x20initialized.');}catch(_0x135dd2){_0x273b12[_0x5414d9(0x1e5)][_0x5414d9(0x24c)](_0x5414d9(0x16e)+_0x135dd2[_0x5414d9(0x25c)]);}await createAllObjects(_0x273b12),await loadSystemMode(_0x273b12),await loadRawEventLog(_0x273b12),await loadDailyDigests(_0x273b12),_0x273b12['subscribeStates'](_0x5414d9(0x234)),_0x273b12[_0x5414d9(0x1d1)](LTM_DP_TRIGGER_DIGEST),_0x273b12['subscribeStates'](_0x5414d9(0x12f)),_0x273b12[_0x5414d9(0x1d1)](_0x5414d9(0x142)),_0x273b12[_0x5414d9(0x1d1)]('analysis.automation.triggerAction'),_0x273b12[_0x5414d9(0x1d1)](_0x5414d9(0x240)),_0x273b12[_0x5414d9(0x1d1)](_0x5414d9(0x22d)),_0x273b12[_0x5414d9(0x1d1)](_0x5414d9(0x1e1)),_0x273b12[_0x5414d9(0x1d1)](_0x5414d9(0x29e)),_0x273b12[_0x5414d9(0x1d1)](_0x5414d9(0x175)),_0x273b12[_0x5414d9(0x1d1)](_0x5414d9(0x282)),await initSensorSubscriptions(_0x273b12),await initPresenceSubscriptions(_0x273b12),await setupTelegramListener(_0x273b12),setTimeout(()=>checkWifiPresence(_0x273b12),0x1388);if(_0x273b12[_0x5414d9(0x261)])clearInterval(_0x273b12['analysisTimer']);const _0x5b6c0b=_0x273b12[_0x5414d9(0x21e)][_0x5414d9(0x22b)]||0xf;_0x5b6c0b>0x0&&(_0x273b12['analysisTimer']=setInterval(()=>{runAutopilot(_0x273b12);},_0x5b6c0b*0x3c*0x3e8)),schedulers[_0x5414d9(0x130)](_0x273b12,()=>createDailyDigest(_0x273b12)),schedulers[_0x5414d9(0x209)](_0x273b12),schedulers[_0x5414d9(0x211)](_0x273b12,()=>runBaselineDriftAnalysis(_0x273b12)),schedulers[_0x5414d9(0x14d)](_0x273b12,()=>sendMorningBriefing(_0x273b12)),startPythonService(_0x273b12),setTimeout(()=>{_0x273b12['pythonProcess']&&(runPythonHealthCheck(_0x273b12),triggerGaitAnalysis(_0x273b12),triggerEnergyPrediction(_0x273b12)),updateHealthVector(_0x273b12);},0x1388);}class CogniLiving extends utils['Adapter']{constructor(_0x3b5f13){const _0x1c4c11=a0_0x3d2e81;super({..._0x3b5f13,'name':_0x1c4c11(0x1e6)}),this[_0x1c4c11(0x1d0)]=[],this['analysisHistory']=[],this[_0x1c4c11(0x1d3)]=[],this[_0x1c4c11(0x258)]=[],this['sensorLastValues']={},this[_0x1c4c11(0x12c)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x1c4c11(0x1c5)]=!![],this[_0x1c4c11(0x12e)]=null,this[_0x1c4c11(0x19d)]=null,this['isGracePeriodActive']=![],this['genAI']=null,this['geminiModel']=null,this['currentSystemMode']=SYSTEM_MODES['NORMAL'],this[_0x1c4c11(0x276)]=![],this['lastAlertState']=![],this['systemUUID']=_0x1c4c11(0x21b),this[_0x1c4c11(0x261)]=null,this[_0x1c4c11(0x1f6)]=null,this[_0x1c4c11(0x15d)]=null,this['driftAnalysisTimer']=null,this['briefingJob']=null,this['pythonProcess']=null,this[_0x1c4c11(0x154)]=![],this['on'](_0x1c4c11(0x1ab),this['onReady']['bind'](this)),this['on'](_0x1c4c11(0x217),this[_0x1c4c11(0x162)]['bind'](this)),this['on'](_0x1c4c11(0x26a),this[_0x1c4c11(0x19a)]['bind'](this)),this['on'](_0x1c4c11(0x25c),this[_0x1c4c11(0x257)][_0x1c4c11(0x206)](this));}async[a0_0x3d2e81(0x248)](){const _0x587312=a0_0x3d2e81;this[_0x587312(0x1e5)]['info'](_0x587312(0x25d)+this[_0x587312(0x1b7)]+_0x587312(0x16a));if(!installer[_0x587312(0x2b4)](this,()=>startSystem(this)))return;}[a0_0x3d2e81(0x19a)](_0x45c6ff){const _0x27d391=a0_0x3d2e81;if(this[_0x27d391(0x261)])clearInterval(this[_0x27d391(0x261)]);if(this[_0x27d391(0x25b)])clearInterval(this[_0x27d391(0x25b)]);if(this[_0x27d391(0x1f6)])this['ltmJob'][_0x27d391(0x2b6)]();if(this[_0x27d391(0x15d)])this[_0x27d391(0x15d)]['cancel']();if(this[_0x27d391(0x168)])this[_0x27d391(0x168)]['cancel']();if(this[_0x27d391(0x12e)])clearTimeout(this['exitTimer']);if(this[_0x27d391(0x19d)])clearTimeout(this[_0x27d391(0x19d)]);stopPythonService(this),_0x45c6ff();}async['onStateChange'](_0x4e3b3c,_0x1f510b){const _0x15fde6=a0_0x3d2e81;if(!_0x1f510b||this[_0x15fde6(0x154)])return;if(_0x4e3b3c[_0x15fde6(0x1eb)](_0x15fde6(0x293))&&_0x4e3b3c[_0x15fde6(0x1f0)]('communicate.request')&&_0x1f510b['val']){await handleTelegramResponse(this,_0x1f510b[_0x15fde6(0x17e)]);return;}if(_0x4e3b3c===this['namespace']+'.'+SYSTEM_DP_MODE){if(_0x1f510b[_0x15fde6(0x17e)]&&Object[_0x15fde6(0x19e)](SYSTEM_MODES)[_0x15fde6(0x1eb)](_0x1f510b[_0x15fde6(0x17e)])){this['currentSystemMode']=_0x1f510b[_0x15fde6(0x17e)];if(_0x1f510b[_0x15fde6(0x17e)]===SYSTEM_MODES['VACATION'])await setPresence(this,![]);else await setPresence(this,!![]);}if(!_0x1f510b[_0x15fde6(0x1ed)])this[_0x15fde6(0x145)](_0x4e3b3c,{'val':this[_0x15fde6(0x2b3)],'ack':!![]});return;}if(!_0x1f510b[_0x15fde6(0x1ed)]){_0x4e3b3c[_0x15fde6(0x1eb)]('analysis.trigger')&&_0x1f510b[_0x15fde6(0x17e)]&&(this[_0x15fde6(0x145)](_0x4e3b3c,{'val':![],'ack':!![]}),runGeminiAnalysis(this));if(_0x4e3b3c[_0x15fde6(0x1eb)](_0x15fde6(0x242))&&_0x1f510b[_0x15fde6(0x17e)]){this['setState'](_0x4e3b3c,{'val':![],'ack':!![]});if(this[_0x15fde6(0x276)])createDailyDigest(this);}_0x4e3b3c[_0x15fde6(0x1eb)](_0x15fde6(0x18b))&&_0x1f510b[_0x15fde6(0x17e)]&&(this[_0x15fde6(0x145)](_0x4e3b3c,{'val':![],'ack':!![]}),sendMorningBriefing(this));_0x4e3b3c['includes']('automation.triggerAction')&&_0x1f510b[_0x15fde6(0x17e)]&&(this[_0x15fde6(0x145)](_0x4e3b3c,{'val':![],'ack':!![]}),executeAutomationAction(this));if(_0x4e3b3c[_0x15fde6(0x1eb)](_0x15fde6(0x22d))&&_0x1f510b[_0x15fde6(0x17e)]){this['setState'](_0x4e3b3c,{'val':![],'ack':!![]});if(this[_0x15fde6(0x276)])try{const _0x4ab281=await this['getStateAsync'](_0x15fde6(0x26e));if(_0x4ab281&&_0x4ab281[_0x15fde6(0x17e)]){const _0x262257=JSON[_0x15fde6(0x231)](_0x4ab281[_0x15fde6(0x17e)]);this[_0x15fde6(0x1e5)][_0x15fde6(0x19c)](_0x15fde6(0x279)),this['setStateAsync']('analysis.training.status',{'val':_0x15fde6(0x139),'ack':!![]}),sendToPython(this,_0x15fde6(0x1df),{'sequences':_0x262257});}}catch(_0x46915a){this['log'][_0x15fde6(0x24c)](_0x15fde6(0x20e)+_0x46915a['message']);}}if(_0x4e3b3c['includes']('analysis.training.triggerHealth')&&_0x1f510b[_0x15fde6(0x17e)]){this[_0x15fde6(0x145)](_0x4e3b3c,{'val':![],'ack':!![]});if(this[_0x15fde6(0x276)])try{const _0x576486=await this[_0x15fde6(0x228)](LTM_DP_DAILY_DIGESTS);if(_0x576486&&_0x576486[_0x15fde6(0x17e)])sendToPython(this,'TRAIN_HEALTH',{'digests':JSON[_0x15fde6(0x231)](_0x576486[_0x15fde6(0x17e)])});}catch(_0x2925df){}}if(_0x4e3b3c[_0x15fde6(0x1eb)]('analysis.training.triggerEnergy')&&_0x1f510b[_0x15fde6(0x17e)]){this[_0x15fde6(0x145)](_0x4e3b3c,{'val':![],'ack':!![]});if(this[_0x15fde6(0x276)])try{const _0x28dcd8=await this[_0x15fde6(0x228)](_0x15fde6(0x212));if(_0x28dcd8&&_0x28dcd8['val'])sendToPython(this,'TRAIN_ENERGY',{'points':JSON['parse'](_0x28dcd8['val'])});}catch(_0x109ba7){}}if(_0x4e3b3c[_0x15fde6(0x1eb)](_0x15fde6(0x175))&&_0x1f510b[_0x15fde6(0x17e)]){this[_0x15fde6(0x145)](_0x4e3b3c,{'val':![],'ack':!![]});if(this[_0x15fde6(0x276)])try{const _0x305f8c=await this[_0x15fde6(0x228)](LTM_DP_RAW_LOG);_0x305f8c&&_0x305f8c['val']&&(this[_0x15fde6(0x1e5)]['info'](_0x15fde6(0x16f)),sendToPython(this,'TRAIN_COMFORT',{'events':JSON['parse'](_0x305f8c[_0x15fde6(0x17e)])}));}catch(_0x42f900){}}if(_0x4e3b3c['includes'](_0x15fde6(0x282))&&_0x1f510b[_0x15fde6(0x17e)]){this['setState'](_0x4e3b3c,{'val':![],'ack':!![]});if(this[_0x15fde6(0x276)])try{const _0x28cb8e=await this[_0x15fde6(0x228)](_0x15fde6(0x26e));if(_0x28cb8e&&_0x28cb8e[_0x15fde6(0x17e)]){const _0x1763f3=JSON[_0x15fde6(0x231)](_0x28cb8e[_0x15fde6(0x17e)]);this[_0x15fde6(0x1e5)][_0x15fde6(0x19c)](_0x15fde6(0x17d)),sendToPython(this,_0x15fde6(0x2b2),{'sequences':_0x1763f3});}}catch(_0x2c3b24){this[_0x15fde6(0x1e5)][_0x15fde6(0x24c)](_0x15fde6(0x1de)+_0x2c3b24[_0x15fde6(0x25c)]);}}return;}if(this['config'][_0x15fde6(0x238)]&&this['config']['presenceDevices'][_0x15fde6(0x1eb)](_0x4e3b3c)){await checkWifiPresence(this);return;}const _0x3713df=(this[_0x15fde6(0x21e)]['devices']||[])['find'](_0x52297c=>_0x52297c['id']===_0x4e3b3c);if(_0x3713df)processSensorEvent(this,_0x4e3b3c,_0x1f510b,_0x3713df);}async['onMessage'](_0xde962f){const _0x57f003=a0_0x3d2e81;if(typeof _0xde962f===_0x57f003(0x1e2)&&_0xde962f[_0x57f003(0x25c)]){if(_0xde962f['command']===_0x57f003(0x159)){const _0x42db03=_0xde962f[_0x57f003(0x25c)][_0x57f003(0x1a6)]||this[_0x57f003(0x21e)][_0x57f003(0x157)];if(!_0x42db03)return this[_0x57f003(0x133)](_0xde962f[_0x57f003(0x197)],_0xde962f[_0x57f003(0x277)],{'success':![],'message':_0x57f003(0x1ee)},_0xde962f[_0x57f003(0x26d)]);try{const _0x3e0b55=new GoogleGenerativeAI(_0x42db03),_0x218e84=_0x3e0b55[_0x57f003(0x2a9)]({'model':GEMINI_MODEL}),_0x259118=await _0x218e84[_0x57f003(0x1f7)]('Hi');this[_0x57f003(0x133)](_0xde962f['from'],_0xde962f[_0x57f003(0x277)],{'success':!![],'message':'OK:\x20'+_0x259118[_0x57f003(0x1c2)][_0x57f003(0x141)]()},_0xde962f[_0x57f003(0x26d)]);}catch(_0x3bbbc9){this[_0x57f003(0x133)](_0xde962f[_0x57f003(0x197)],_0xde962f['command'],{'success':![],'message':'Err:\x20'+_0x3bbbc9[_0x57f003(0x25c)]},_0xde962f['callback']);}}else{if(_0xde962f[_0x57f003(0x277)]===_0x57f003(0x26f)){const _0x22181d=await getWeatherContext(this),_0x33872a=await getCalendarContext(this);this[_0x57f003(0x133)](_0xde962f['from'],_0xde962f[_0x57f003(0x277)],{'success':!![],'weather':_0x22181d,'calendar':_0x33872a},_0xde962f[_0x57f003(0x26d)]);}else{if(_0xde962f[_0x57f003(0x277)]===_0x57f003(0x1b0)){if(!this[_0x57f003(0x276)])return this['sendTo'](_0xde962f['from'],_0xde962f['command'],{'success':![],'isPro':![]},_0xde962f[_0x57f003(0x26d)]);let _0x4d9a7a={'status':_0x57f003(0x22e)};try{const _0x4c9ed7=await this['getStateAsync'](LTM_DP_DRIFT_STATUS);_0x4d9a7a[_0x57f003(0x148)]=_0x4c9ed7?_0x4c9ed7[_0x57f003(0x17e)]:_0x57f003(0x22e);}catch(_0x5f00d9){}this[_0x57f003(0x133)](_0xde962f['from'],_0xde962f[_0x57f003(0x277)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x57f003(0x258)],'driftAnalysis':_0x4d9a7a,'analysisHistory':this[_0x57f003(0x14b)]},_0xde962f['callback']);}else{if(_0xde962f[_0x57f003(0x277)]===_0x57f003(0x29a)){const _0x513cce=this[_0x57f003(0x258)][_0x57f003(0x18e)],_0x348422=new Date(),_0x328382=new Date(_0x348422['getFullYear'](),_0x348422[_0x57f003(0x179)](),_0x348422['getDate']())[_0x57f003(0x184)](),_0x2c690c=this[_0x57f003(0x1d3)][_0x57f003(0x2ac)](_0x29fea1=>new Date(_0x29fea1[_0x57f003(0x1b1)])[_0x57f003(0x184)]()>_0x328382)[_0x57f003(0x18e)],_0x6df46b=new Array(0x18)['fill'](0x0);this[_0x57f003(0x1d3)]['forEach'](_0x2fb026=>{const _0x1244ec=_0x57f003,_0x1b8694=new Date(_0x2fb026[_0x1244ec(0x1b1)]);if(_0x1b8694[_0x1244ec(0x184)]()>_0x328382)_0x6df46b[_0x1b8694[_0x1244ec(0x2a1)]()]++;});let _0x269982={'status':'N/A'};try{const _0x554957=await this[_0x57f003(0x228)](LTM_DP_DRIFT_STATUS);_0x269982['status']=_0x554957?_0x554957['val']:_0x57f003(0x22e);}catch(_0x476a4c){}let _0x598873='';try{const _0x352eaa=await this['getStateAsync']('system.presenceWho');_0x598873=_0x352eaa?_0x352eaa['val']:'';}catch(_0x594477){}let _0x5d3d19=null;!this[_0x57f003(0x20f)]&&(_0x5d3d19=this[_0x57f003(0x21e)]['geminiApiKey']?_0x57f003(0x227):'Kein\x20API\x20Key!');let _0x39e4df={'detected':![],'description':'','targetId':'','targetValue':'','autoApply':![]};try{const _0x59eb71=await this['getStateAsync'](_0x57f003(0x177));if(_0x59eb71&&_0x59eb71[_0x57f003(0x17e)]){_0x39e4df['detected']=!![];const _0x3d20ea=await this['getStateAsync'](_0x57f003(0x1bb));_0x39e4df[_0x57f003(0x22a)]=_0x3d20ea?_0x3d20ea[_0x57f003(0x17e)]:'';const _0x403d73=await this[_0x57f003(0x228)](_0x57f003(0x1e7));_0x39e4df[_0x57f003(0x172)]=_0x403d73?_0x403d73[_0x57f003(0x17e)]:'';const _0xbd5d65=await this[_0x57f003(0x228)](_0x57f003(0x1e4));_0x39e4df[_0x57f003(0x21d)]=_0xbd5d65?_0xbd5d65[_0x57f003(0x17e)]:'';}const _0x23e2d3=await this[_0x57f003(0x228)](_0x57f003(0x240));_0x39e4df[_0x57f003(0x1ce)]=_0x23e2d3?!!_0x23e2d3[_0x57f003(0x17e)]:![];}catch(_0xeeb93a){}this[_0x57f003(0x133)](_0xde962f[_0x57f003(0x197)],_0xde962f['command'],{'success':!![],'eventHistory':this[_0x57f003(0x1d0)]['slice'](0x0,0xf),'stats':{'digestCount':_0x513cce,'eventCountToday':_0x2c690c,'hourlyActivity':_0x6df46b,'driftStatus':_0x269982[_0x57f003(0x148)],'isPresent':this[_0x57f003(0x1c5)],'presenceWho':_0x598873,'minDays':this[_0x57f003(0x21e)]['minDaysForBaseline']||0x7,'stbDays':this['config'][_0x57f003(0x165)]||0xe,'ltbDays':this[_0x57f003(0x21e)][_0x57f003(0x27b)]||0x3c,'systemError':_0x5d3d19},'automation':_0x39e4df},_0xde962f[_0x57f003(0x26d)]);}else{if(_0xde962f[_0x57f003(0x277)]===_0x57f003(0x263))try{const _0x1f5e85=await scanner[_0x57f003(0x1bd)](this,_0xde962f[_0x57f003(0x25c)]||{});this[_0x57f003(0x133)](_0xde962f['from'],_0xde962f[_0x57f003(0x277)],{'success':!![],'devices':_0x1f5e85},_0xde962f['callback']);}catch(_0x3beb48){this['sendTo'](_0xde962f[_0x57f003(0x197)],_0xde962f[_0x57f003(0x277)],{'success':![],'error':_0x3beb48[_0x57f003(0x25c)]},_0xde962f[_0x57f003(0x26d)]);}else{if(_0xde962f[_0x57f003(0x277)]===_0x57f003(0x17f)){const _0x436d62=await this[_0x57f003(0x297)]('enum.functions.*',_0x57f003(0x2b7)),_0x1900d3=[];if(_0x436d62)for(const _0x179f5e in _0x436d62){const _0x3e8c5f=_0x436d62[_0x179f5e],_0x10b0c0=(_0x3e8c5f[_0x57f003(0x220)]&&typeof _0x3e8c5f[_0x57f003(0x220)][_0x57f003(0x1c0)]==='object'?_0x3e8c5f[_0x57f003(0x220)][_0x57f003(0x1c0)]['de']:_0x3e8c5f[_0x57f003(0x220)][_0x57f003(0x1c0)])||_0x3e8c5f[_0x57f003(0x220)][_0x57f003(0x1c0)];_0x1900d3[_0x57f003(0x23f)]({'id':_0x179f5e,'name':_0x10b0c0});}const _0x502dbf=await this[_0x57f003(0x297)](_0x57f003(0x138),_0x57f003(0x2b7)),_0xc4d892=[];if(_0x502dbf)for(const _0xf8264a in _0x502dbf){const _0x15138a=_0x502dbf[_0xf8264a],_0xbb02dc=(_0x15138a[_0x57f003(0x220)]&&typeof _0x15138a[_0x57f003(0x220)][_0x57f003(0x1c0)]===_0x57f003(0x1e2)?_0x15138a[_0x57f003(0x220)]['name']['de']:_0x15138a[_0x57f003(0x220)]['name'])||_0xf8264a[_0x57f003(0x20b)]('.')['pop']();_0xc4d892[_0x57f003(0x23f)](_0xbb02dc);}this['sendTo'](_0xde962f[_0x57f003(0x197)],_0xde962f[_0x57f003(0x277)],{'success':!![],'enums':_0x1900d3,'rooms':_0xc4d892},_0xde962f[_0x57f003(0x26d)]);}else{if(_0xde962f[_0x57f003(0x277)]===_0x57f003(0x176)){const _0x1ff73a=_0xde962f[_0x57f003(0x25c)][_0x57f003(0x229)];if(!_0x1ff73a)return this[_0x57f003(0x133)](_0xde962f['from'],_0xde962f[_0x57f003(0x277)],{'success':![],'error':_0x57f003(0x1b5)},_0xde962f[_0x57f003(0x26d)]);const _0x3678ed=await getCalendarNames(this,_0x1ff73a);this[_0x57f003(0x133)](_0xde962f[_0x57f003(0x197)],_0xde962f[_0x57f003(0x277)],{'success':!![],'names':_0x3678ed},_0xde962f[_0x57f003(0x26d)]);}else{if(_0xde962f['command']===_0x57f003(0x2a6)){const {targetId:_0x4b8aaa,targetValue:_0x5bbeb6}=_0xde962f[_0x57f003(0x25c)];this['log'][_0x57f003(0x19c)](_0x57f003(0x254)+_0x4b8aaa+_0x57f003(0x192)+_0x5bbeb6),await this[_0x57f003(0x1ae)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await this[_0x57f003(0x1ae)](_0x57f003(0x1bb),{'val':'SIMULATION:\x20Test-Vorschlag\x20fÃ¼r\x20'+_0x4b8aaa,'ack':!![]}),await this['setStateAsync'](_0x57f003(0x1e7),{'val':_0x4b8aaa,'ack':!![]}),await this[_0x57f003(0x1ae)](_0x57f003(0x1e4),{'val':_0x5bbeb6,'ack':!![]}),this[_0x57f003(0x133)](_0xde962f[_0x57f003(0x197)],_0xde962f[_0x57f003(0x277)],{'success':!![]},_0xde962f[_0x57f003(0x26d)]);}else{if(_0xde962f['command']===_0x57f003(0x1ec)){const {historyId:_0x5c51b3,rating:_0x4f360c,comment:_0x13f2ef,alertReason:_0x24d1aa}=_0xde962f[_0x57f003(0x25c)];_0x5c51b3&&_0x4f360c?(await saveFeedback(this,{'timestamp':Date[_0x57f003(0x137)](),'historyId':_0x5c51b3,'rating':_0x4f360c,'comment':_0x13f2ef,'alertReason':_0x24d1aa}),this[_0x57f003(0x133)](_0xde962f[_0x57f003(0x197)],_0xde962f['command'],{'success':!![]},_0xde962f[_0x57f003(0x26d)])):this['sendTo'](_0xde962f[_0x57f003(0x197)],_0xde962f['command'],{'success':![],'error':_0x57f003(0x22c)},_0xde962f[_0x57f003(0x26d)]);}else _0xde962f[_0x57f003(0x277)]===_0x57f003(0x1b6)&&(this[_0x57f003(0x1e5)][_0x57f003(0x19c)](_0x57f003(0x1c4)),await this[_0x57f003(0x1ae)](_0x57f003(0x177),{'val':![],'ack':!![]}),await this[_0x57f003(0x1ae)](_0x57f003(0x1bb),{'val':'','ack':!![]}),this[_0x57f003(0x133)](_0xde962f[_0x57f003(0x197)],_0xde962f[_0x57f003(0x277)],{'success':!![]},_0xde962f[_0x57f003(0x26d)]));}}}}}}}}}}}if(require[a0_0x3d2e81(0x1a5)]!==module)module['exports']=_0x3b7a1d=>new CogniLiving(_0x3b7a1d);else new CogniLiving();function a0_0x2097(){const _0x24aaee=['sendTo','Anomaly\x20Detected','Training\x20Status','insulation','now','enum.rooms.*','Sec-Training\x20started...','Â°C,\x20','\x20new\x20patterns.','.NextHours.Location_1.Day_1.current.temp_value','replace','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','rule','Train\x20Security','text','analysis.triggerBriefing','livingContext','Raw\x20Log','setState','substring','Last\x20raw\x20event','status','780kwWNgk','148038WiVUnf','analysisHistory','warn','setupBriefingScheduler','analysis.activitySummary','AI\x20Training','events.lastEvent','535275zepDNY','subscribeForeignStatesAsync','switch','dependencyInstallInProgress','Topology\x20Matrix','useCalendar','geminiApiKey','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','testApiKey','./lib/scheduler','temperatur','Keine\x20Details.','modeResetJob','heizung','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','N/A\x20(Learning)','kill','onStateChange','Unbekannt','LTM.processingStatus','ltmStbWindowDays','Unknown','temperature','briefingJob','GAIT_RESULT',')\x20-\x20SAFE\x20BOOT','number','forEach','data','Gemini\x20Init\x20Error:\x20','ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...','window','toFixed','targetId','276IQinfs','Fokus\x20auf\x20Komfort.','analysis.training.triggerComfort','getCalendarNames','analysis.automation.patternDetected','Trigger\x20Briefing','getMonth','detected','writable','Keine\x20Wetterdaten\x20verfÃ¼gbar.','ðŸ•¸ï¸\x20Building\x20Topology\x20Matrix...','val','getEnums','Trend','unshift','.\x20ANWESEND:\x20','existsSync','getTime','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','automationProposal','analysis.analysisHistory','child_process','ðŸ“\x20Feedback\x20received:\x20','getObjectAsync','triggerBriefing','Failed:\x20','ðŸŒ…\x20Morning\x20Briefing:\x0a','length','@google/generative-ai','PYTHON_EXE','stdin','\x20=\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','Train\x20Comfort','analysis.automation.detectedPatterns','text.alarm','from','python_service','analysis.energy.heatingScore','onUnload','toISOString','info','exitGraceTimer','values','notifyTelegramInstance','baselineDrift','LTM.driftAnalysis.lastCheck','delObjectAsync','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','getMinutes','main','apiKey','state','rating','analysis.security','setObjectNotExistsAsync','ready','analysis.training.status','weatherInstance','setStateAsync','confidence','getLtmData','timestamp','map','HEALTH_RESULT','location','No\x20instance','dismissAutomation','version','contact','32158yFyeMj','analysis.history_debug_00','analysis.automation.description','trim','scanForDevices','pop','analysis.energy.insulationScore','name','service.py','response','Last\x20Check','User\x20dismissed\x20automation\x20proposal.','isPresent','.\x20EVENTS:\x20','Digest','\x0aSTB:\x20','LTM.rawEventLog','payload','splice','application/json','notifyTelegramEnabled','autoApply','indicator','eventHistory','subscribeStates','[PYTHON]\x20','rawEventLog','longitude','string','success','Train\x20Health','json','debug','setHours','analysis.health.trendValue','startsWith','Auto\x20Apply','Topology\x20Error:\x20','TRAIN_SECURITY','heating','analysis.training.triggerHealth','object','analysis.health','analysis.automation.targetValue','log','cogni-living','analysis.automation.targetId','Fokus\x20auf\x20Familienroutinen.','alertReason','ENERGY_PREDICT_RESULT','includes','submitFeedback','ack','Kein\x20API\x20Key.','isAlert','endsWith','button','PONG','.\x20KONTEXT:\x20','details','696685rMTekq','ltmJob','generateContent','logDuplicates','Temperature\x20Forecast','pythonProcess','inactivityThresholdHours','Who\x20is\x20present?','date','Train\x20Energy','generic','analysis.energy.forecast','LTM.driftAnalysis','driftDetails','PREDICT_ENERGY','analysis.health.isAnomaly','TOPOLOGY_RESULT','bind','ðŸš€\x20Starting\x20NUUKANNI\x20Logic\x20(v0.12.10)...','klima','setupModeResetScheduler','vacation','split','COMFORT_RESULT','presence','Training\x20Error:\x20','geminiModel','search','setupDriftAnalysisScheduler','LTM.trainingData.thermodynamics','Success:\x20','PRIORITÃ„T:\x20Sicherheit.','Gait\x20Speed\x20Trend','openweathermap','stateChange','weatherunderground','minDaysForBaseline','.forecast.current.temperature','unknown','analysis.health.trendDiagnosis','targetValue','config','door','common','calendarInstance','fill','prÃ¤senz','analysis.security.lastCheck','reason','Insulation\x20Score','KI-Modell\x20nicht\x20initialisiert','getStateAsync','instance','description','analysisInterval','Missing\x20data','analysis.training.triggerSecurity','N/A','motion','Target\x20Value','parse','LTM','indicator.alarm','analysis.trigger','toLocaleTimeString','online','slice','presenceDevices','Briefing\x20Error:\x20','type','dimmer','analysis.isAlert','system.presenceWho','56ckAfWr','push','analysis.automation.autoApply','genAI','triggerDailyDigest','Security\x20Monitor','âš ï¸\x20ALARM:\x20','Aktiv\x20(','lastAlertState','Lernphase\x20(','onReady','.forecast.current.temp','value','Alert\x20Status','error','GUEST','Trigger\x20Action','change_percent','getForeignStateAsync','toString','System','ANALYZE_GAIT','ðŸ§ª\x20Simulating\x20Butler\x20Proposal:\x20','path','Daily\x20Digests','onMessage','dailyDigests','ANALYZE_SEQUENCE','toLowerCase','driftAnalysisTimer','message','cogni-living\x20adapter\x20starting\x20(v','write','Trigger\x20Analysis','guest','analysisTimer','.Current.Temperature','scanDevices','Event\x20History','10594952qrxuyR','WiFi\x20Presence\x20detected.','fenster','sensorLastValues','2166mtGWri','unload','PRIORITÃ„T:\x20Gesundheit/AAL.','analysis.security.lastScore','callback','LTM.trainingData.sequences','testContext','licht','events.history','analysis.security.currentThreshold','bewegung','LTM.triggerDailyDigest','Target\x20ID','isProVersion','command','Build\x20Topology','ðŸ§ \x20Triggering\x20Security\x20Training...','Sequences','ltmLtbWindowDays','models/gemini-flash-latest','ANALYZE_HEALTH','summary','party','Started...','ðŸ›‹ï¸\x20BUTLER:\x20Keine\x20neuen\x20Muster\x20gefunden.','analysis.training.triggerTopology','occupancy','996890olrmsk','TRAINING_COMPLETE','ðŸ•¸ï¸\x20Topology\x20Map\x20updated.','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','devices','(((.+)+)+)+$','BUTLER\x20Execution\x20Error:\x20','Activity-Level','NORMAL','analysis.alertReason','81BzSdox','diagnosis','ANALYZE_TREND','useWeather','normal','telegram','setForeignStateAsync','Activity\x20Summary','licenseKey','getForeignObjectsAsync','is_anomaly','shift','getOverviewData','PARTY','analysis.health.todayVector','some','analysis.training.triggerEnergy','outdoorSensorId','activityLevel','getHours','analysis.health.gaitSpeed','system.config','LTM.baselineStatus','Error\x20launching\x20Python:\x20','simulateButler','extendObjectAsync','136JdYdVr','getGenerativeModel','stringify','daswetter','filter','channel','boolean','Success','analysis.security.topologyMatrix','Anomaly\x20Score','BUILD_TOPOLOGY','currentSystemMode','checkAndInstall','isGracePeriodActive','cancel','enum','analysis.automation.triggerAction','.forecast.current.state','aiPersona','python3','[RECORDER]\x20Error:\x20','LTM.driftAnalysis.baselineDrift','ðŸ\x20Python\x20Pong','systemConfig','events.history_debug_00','exitTimer','system.mode','setupLtmScheduler','Pattern\x20Detected','ENERGY_TRAIN_RESULT'];a0_0x2097=function(){return _0x24aaee;};return a0_0x2097();}