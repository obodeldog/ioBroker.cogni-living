function a0_0x567c(_0x2c1405,_0x308401){const _0x7c75b=a0_0x244b();return a0_0x567c=function(_0x4e80e1,_0x5aa6e2){_0x4e80e1=_0x4e80e1-0x172;let _0x244b64=_0x7c75b[_0x4e80e1];return _0x244b64;},a0_0x567c(_0x2c1405,_0x308401);}const a0_0x5ce56e=a0_0x567c;(function(_0x5e7aac,_0x4a6278){const _0x43074d=a0_0x567c,_0x570eef=_0x5e7aac();while(!![]){try{const _0x21db0f=-parseInt(_0x43074d(0x1b9))/0x1*(-parseInt(_0x43074d(0x18b))/0x2)+parseInt(_0x43074d(0x205))/0x3*(-parseInt(_0x43074d(0x2ea))/0x4)+parseInt(_0x43074d(0x262))/0x5+parseInt(_0x43074d(0x2f4))/0x6+-parseInt(_0x43074d(0x209))/0x7*(-parseInt(_0x43074d(0x250))/0x8)+-parseInt(_0x43074d(0x2c5))/0x9*(-parseInt(_0x43074d(0x27e))/0xa)+parseInt(_0x43074d(0x266))/0xb*(-parseInt(_0x43074d(0x2d8))/0xc);if(_0x21db0f===_0x4a6278)break;else _0x570eef['push'](_0x570eef['shift']());}catch(_0x50ab0f){_0x570eef['push'](_0x570eef['shift']());}}}(a0_0x244b,0x2a20c));const a0_0x5aa6e2=(function(){let _0x42f00f=!![];return function(_0x32ad62,_0x4192c4){const _0x3e4a53=_0x42f00f?function(){const _0xceb4ee=a0_0x567c;if(_0x4192c4){const _0x59d13c=_0x4192c4[_0xceb4ee(0x188)](_0x32ad62,arguments);return _0x4192c4=null,_0x59d13c;}}:function(){};return _0x42f00f=![],_0x3e4a53;};}()),a0_0x4e80e1=a0_0x5aa6e2(this,function(){const _0x509b55=a0_0x567c;return a0_0x4e80e1[_0x509b55(0x2dd)]()[_0x509b55(0x292)](_0x509b55(0x28a))[_0x509b55(0x2dd)]()[_0x509b55(0x260)](a0_0x4e80e1)[_0x509b55(0x292)]('(((.+)+)+)+$');});a0_0x4e80e1();'use strict';function a0_0x244b(){const _0x25dd0e=['Reset\x20Sched\x20Error:\x20','Error\x20in\x20onMessage\x20command\x20','77FBqrgY','flot.','wind','sensor.motion','\x20*\x20*\x20*','Deaktiviert\x20(Pro-Feature)','Error\x20initHistory:\x20','json','No\x20Key','delObjectAsync','vacation','ltmJob','N/A\x20(No\x20Activity)','pressure','config','driftAnalysisTimer','initHistory','licht','devices','AI\x20Emergency\x20Status','split','Event\x20History','ltmDriftCheckIntervalHours','analysis.trigger','30TyPFvN','checkWifiPresence','analysisTimer','getForeignObjectsAsync','test','isArray','_score','KALENDER:\x20','CONFIG_PENDING','Setup\x20Drift\x20Scheduler\x20failed:\x20','subscribeForeignStatesAsync','uuid-error','(((.+)+)+)+$','Last\x20Check','geminiApiKey','forecast','setStateAsync','[TEST]\x20','date','weatherunderground.','search','val','Kalender:\x20Deaktiviert','none','send','LOWBAT','driftDetails','Starting\x20Autopilot\x20(','find','startsWith','createAllObjects\x20failed:\x20','VIRTUAL_CHANNEL','feedbackHistory','presenceDevices','system.mode','info.','apiKey','checkLtmDriftObjects','notifySignalRecipient','role','analysis.history_debug_02','value.health','loadDailyDigests','diele','switch.light','systemUUID','occupancy','value.humidity','setupLtmScheduler','lastAlertState','events.history_debug_03','testApiKey','Logbook','link_quality','WEEK_PROGRAM','description','archetype','smoke','map','WETTER:\x20','Comfort\x20Suggestion','scanForDevices','unload','Setup\x20Reset\x20Scheduler\x20failed:\x20','No\x20instance','temp','\x20|\x20','checkSystemObjects','Cogni-Living\x20Alert','system','getCalendarNames','919953VkipOS','Comfort\x20Summary','haust√ºr','expire','k√ºche','OPERATING_VOLTAGE','Flur','onMessage','Raw\x20Log','notifyWhatsappRecipient','stateChange','button','Temperatur','alert','temperatur','analysis.automation.patternDetected','temperature','LTM\x20Sched\x20Error:\x20','sensor.door','1239756ZQxDjp','Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','onStateChange','exitGraceTimer','exports','toString','command','isGracePeriodActive','loadRawEventLog','Deviation','events.lastEvent','error','events.history_debug_04','system.','SABOTAGE','loadDailyDigests\x20failed:\x20','PROCESS','Activity\x20Summary','267760BrkpiL','weather','Processing\x20Status','t√ºr','Presence\x20Status','analysis.automation.description','createAllObjects','number','LTM.triggerDailyDigest','Scheduling\x20Morning\x20Briefing\x20for\x20','1048512AvoIYM','level.dimmer','Daily\x20Digests','geminiModel','system.config','scheduleJob','eingang','checkLtmObjects','setPresence','type','accuweather.0','toLowerCase','hue','analysis.lastResult','isPresent','analysis.analysisHistory','splice','testNotification','accuweather.','updateAnalysisHistory','getWeatherContext','notifySignalInstance','LTM.driftAnalysis.driftDetails','griff','state','openweathermap.0','warn','uuid-not-found','getCalendarNames\x20Error:\x20','object','rauch','bind','UNREACH','push','members','weatherInstance','LTM','üö®\x20EMERGENCY','LTM.dailyDigests','rain','ERROR_CODE','0\x203\x20*\x20*\x20*','Autopilot\x20error:\x20','generateContent','admin.','normal','briefingTime','scanDevices','VACATION','genAI','getEnums','Party','analysis.isEmergency','time','ack','TEST-PRO-KEY','getForeignStateAsync','scriptEnabled','calendarSelection','node-schedule','unshift','Setup\x20LTM\x20Scheduler\x20failed:\x20','Wohnzimmer','join','version','events.history_debug_01','pr√§senz','setupBriefingScheduler','Health\x20Notes','wohnungst√ºr','setObjectNotExistsAsync','firmware','onReady','apply','Adapter','\x20sent','496142DmvdGf','analysisInterval','LTM.driftAnalysis.lastCheck','Lernphase\x20(','flur','Badezimmer','analysis.comfortSummary','checkLicense','connection','instance','inactivityThresholdHours','unknown','events.history','minDaysForBaseline','Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','dailyDigests','setupModeResetScheduler','sort','baselineDrift','message','rawEventLog','sendMorningBriefing','lampe','from','setState','runGeminiAnalysis','models/gemini-flash-latest','notifyTelegramRecipient','sendTo','ltmStbWindowDays','enum.functions.*','DUTYCYCLE','isProVersion','KALENDER:\x20Keine\x20Kalender\x20ausgew√§hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)','selectedFunctionIds','uuid','response','analysis.automation.suggestedAction','now','Sleep\x20Score\x20(0-100)','longitude','Error\x20reading\x20calendar\x20table:\x20','slice','notifyWhatsappInstance','Last\x20raw\x20event','Bewegung','1sPxINE','toUpperCase','analysisHistory','CONNECTION','presence','events.history_debug_00','WORKING','filter','notifyPushoverRecipient','licenseKey','party','info','analysis.history_debug_00','log','motion','latitude','sendToAsync','string','loadSystemMode','ical.0','shutter_contact','garten','NORMAL','FAULT','sendNotification','saveDailyDigests','notifyPushoverInstance','parse','notifyTelegramEnabled','LTM.driftAnalysis','values','replace','System\x20Mode','analysis.health.restlessness','name','PARTY','callback','Drift\x20Sched\x20Error:\x20','Health\x20&\x20Sleep\x20Analysis','Urlaub','text','write','abortExitTimer','systemConfig','@iobroker/adapter-core','exitTimer','event','Wetter:\x20Deaktiviert','K√ºche','main','notifyPushoverEnabled','Normal','STICKY_UNREACH','extendObjectAsync','lights','analysis.history_debug_04','saveFeedback','fenster','bad','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','setupDriftAnalysisScheduler','modeResetJob','N/A','sensor.window','analysis.triggerBriefing','wetter','Pattern\x20Detected','PRIORIT√ÑT:\x20Gesundheit\x20und\x20Sicherheit\x20f√ºr\x20Senioren\x20(AAL).\x20Erkenne\x20Inaktivit√§t,\x20potenzielle\x20St√ºrze\x20(indirekt),\x20Schlafunterbrechungen\x20und\x20n√§chtliche\x20Unruhe.','analysis.activitySummary','SECTION','useCalendar','application/json','getGenerativeModel','_calName','analysis.health.notes','boolean','9uXWBVk','GUEST','Success','LTM.processingStatus','1780450jwTKvx','getStateAsync','effect','onUnload','Subscribing\x20to\x20','signal','.data.table','indicator','bewegung','getForeignObjectAsync','Fenster/T√ºr','createDailyDigest','notifyTelegramInstance','@google/generative-ai','javascript.0.script','Drift\x20Status','channel','KALENDER:\x20Keine\x20relevanten\x20Termine','length','cancel','testContext','briefingJob','\x20(EMERGENCY)','doors','cogni-living','stringify','N/A\x20(Pro\x20Feature)','getSystemUUID','Action','LTM.driftAnalysis.baselineDrift','retry','analysis.deviationFromBaseline','.Summary.Current','accuweather','vis.','analysis.history_debug_03','status','runBaselineDriftAnalysis','process','icon','Description','detectionState','common','ALARM','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','notifyEmailInstance','RSSI','submitFeedback','native','Restlessness\x20Level','Setup\x20Briefing\x20Scheduler\x20failed:\x20','getCalendarContext','Briefing\x20Sched\x20Error:\x20','icons-mfd.','system.isPresent','getObjectAsync','.NextHours.Location_1.Day_1.current.symbol_desc','uniqueid','notifyWhatsappEnabled','loadSystemMode\x20failed:\x20','useWeather','analysis.feedbackHistory','Last\x20Result','scriptProblem','Alert\x20Reason','last_seen','currentSystemMode','subscribeStates','Automation\x20Proposals','text.alarm','\x20min).\x20Watchdog\x20Limit:\x20','8GiqKaR','Trigger\x20Analysis','analysis.comfortSuggestion','briefingEnabled','PRO-','level','tryParse','Licht','some','enum.rooms.*','fire','enum','guest','analysis.health','history.','includes','constructor','namespace','563715bbUsVf','sensorLastValues'];a0_0x244b=function(){return _0x25dd0e;};return a0_0x244b();}const utils=require(a0_0x5ce56e(0x1e5)),{GoogleGenerativeAI}=require(a0_0x5ce56e(0x216)),schedule=require(a0_0x5ce56e(0x17a)),HISTORY_MAX_SIZE=0x32,ANALYSIS_HISTORY_MAX_SIZE=0x64,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x5ce56e(0x1a5),LTM_SCHEDULE=a0_0x5ce56e(0x31d),MODE_RESET_SCHEDULE='0\x204\x20*\x20*\x20*',LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_DP_DAILY_DIGESTS=a0_0x5ce56e(0x31a),LTM_DP_STATUS=a0_0x5ce56e(0x208),LTM_DP_TRIGGER_DIGEST=a0_0x5ce56e(0x2f2),LTM_DP_BASELINE_STATUS='LTM.baselineStatus',LTM_DP_DRIFT_CHANNEL=a0_0x5ce56e(0x1d6),LTM_DP_DRIFT_STATUS=a0_0x5ce56e(0x226),LTM_DP_DRIFT_DETAILS=a0_0x5ce56e(0x30a),LTM_DP_DRIFT_LAST_CHECK=a0_0x5ce56e(0x18d),SYSTEM_DP_MODE=a0_0x5ce56e(0x2a0),SYSTEM_MODES={'NORMAL':a0_0x5ce56e(0x321),'VACATION':a0_0x5ce56e(0x270),'PARTY':a0_0x5ce56e(0x1c3),'GUEST':a0_0x5ce56e(0x25c)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x5ce56e(0x1dc)],SYSTEM_MODES[a0_0x5ce56e(0x206)]],EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,PERSONA_MAPPING={'generic':a0_0x5ce56e(0x2d9),'senior_aal':a0_0x5ce56e(0x1fc),'family':a0_0x5ce56e(0x199),'single_comfort':a0_0x5ce56e(0x1f4),'security':'PRIORIT√ÑT:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungew√∂hnliche\x20Anwesenheit.'};class CogniLiving extends utils[a0_0x5ce56e(0x189)]{constructor(_0x109ded){const _0x28726c=a0_0x5ce56e;super({..._0x109ded,'name':_0x28726c(0x221)}),this['eventHistory']=[],this[_0x28726c(0x1bb)]=[],this[_0x28726c(0x29e)]=[],this[_0x28726c(0x19f)]=[],this['dailyDigests']=[],this['sensorLastValues']={},this[_0x28726c(0x1e4)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x28726c(0x302)]=!![],this[_0x28726c(0x1e6)]=null,this[_0x28726c(0x2db)]=null,this[_0x28726c(0x2df)]=![],this[_0x28726c(0x325)]=null,this['geminiModel']=null,this[_0x28726c(0x24b)]=SYSTEM_MODES['NORMAL'],this[_0x28726c(0x1ab)]=![],this[_0x28726c(0x2af)]=![],this[_0x28726c(0x2ab)]=_0x28726c(0x196),this[_0x28726c(0x280)]=null,this['ltmJob']=null,this[_0x28726c(0x1f6)]=null,this['driftAnalysisTimer']=null,this[_0x28726c(0x21e)]=null,this['on']('ready',this[_0x28726c(0x187)][_0x28726c(0x313)](this)),this['on'](_0x28726c(0x2cf),this[_0x28726c(0x2da)]['bind'](this)),this['on'](_0x28726c(0x2bc),this[_0x28726c(0x20c)][_0x28726c(0x313)](this)),this['on'](_0x28726c(0x19e),this[_0x28726c(0x2cc)][_0x28726c(0x313)](this));}async[a0_0x5ce56e(0x187)](){const _0x34d2a5=a0_0x5ce56e;this[_0x34d2a5(0x1c6)][_0x34d2a5(0x1c4)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x34d2a5(0x17f)]+')');try{const _0x3dcde9=[_0x34d2a5(0x1c5),'analysis.history_debug_01',_0x34d2a5(0x2a6),_0x34d2a5(0x22c),_0x34d2a5(0x1f0),_0x34d2a5(0x1be),_0x34d2a5(0x180),'events.history_debug_02',_0x34d2a5(0x2b0),_0x34d2a5(0x2e4)];for(const _0x153d5f of _0x3dcde9){try{const _0x48b725=await this[_0x34d2a5(0x240)](_0x153d5f);_0x48b725&&await this[_0x34d2a5(0x26f)](_0x153d5f);}catch(_0x5b6842){}}}catch(_0x50cb4f){}this[_0x34d2a5(0x274)][_0x34d2a5(0x1c2)]=this[_0x34d2a5(0x274)][_0x34d2a5(0x1c2)]||'';try{this['isProVersion']=await this[_0x34d2a5(0x192)](this[_0x34d2a5(0x274)][_0x34d2a5(0x1c2)]);}catch(_0x5d62d5){this[_0x34d2a5(0x1c6)][_0x34d2a5(0x2e3)]('License\x20Check\x20failed:\x20'+_0x5d62d5[_0x34d2a5(0x19e)]);}if(!this[_0x34d2a5(0x274)][_0x34d2a5(0x195)]||this[_0x34d2a5(0x274)][_0x34d2a5(0x195)]<0.1)this['config'][_0x34d2a5(0x195)]=0xc;try{await this[_0x34d2a5(0x276)]();}catch(_0xfa217d){this['log']['error'](_0x34d2a5(0x26c)+_0xfa217d['message']);}try{const _0x36d383=await this[_0x34d2a5(0x212)](_0x34d2a5(0x2f8));_0x36d383&&_0x36d383[_0x34d2a5(0x233)]&&(this[_0x34d2a5(0x1e4)]={'latitude':_0x36d383['common'][_0x34d2a5(0x1c8)]||0x0,'longitude':_0x36d383[_0x34d2a5(0x233)][_0x34d2a5(0x1b3)]||0x0,'city':_0x36d383[_0x34d2a5(0x233)]['city']||''});}catch(_0x2fb651){}if(this[_0x34d2a5(0x274)]['geminiApiKey'])try{this['genAI']=new GoogleGenerativeAI(this['config'][_0x34d2a5(0x28c)]),this[_0x34d2a5(0x2f7)]=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x34d2a5(0x200)}}),this[_0x34d2a5(0x1c6)][_0x34d2a5(0x1c4)]('Gemini\x20AI\x20initialized.');}catch(_0x3ba59a){this[_0x34d2a5(0x1c6)][_0x34d2a5(0x2e3)]('Gemini\x20Init\x20Error:\x20'+_0x3ba59a[_0x34d2a5(0x19e)]);}try{await this[_0x34d2a5(0x2f0)]();}catch(_0x34317b){this[_0x34d2a5(0x1c6)][_0x34d2a5(0x2e3)](_0x34d2a5(0x29c)+_0x34317b['message']);}try{await this['loadSystemMode']();}catch(_0x18b1a0){this[_0x34d2a5(0x1c6)][_0x34d2a5(0x2e3)](_0x34d2a5(0x244)+_0x18b1a0[_0x34d2a5(0x19e)]);}try{await this[_0x34d2a5(0x2e0)]();}catch(_0x5ea65e){this[_0x34d2a5(0x1c6)]['error']('loadRawEventLog\x20failed:\x20'+_0x5ea65e[_0x34d2a5(0x19e)]);}try{await this[_0x34d2a5(0x2a8)]();}catch(_0x274e3d){this[_0x34d2a5(0x1c6)][_0x34d2a5(0x2e3)](_0x34d2a5(0x2e7)+_0x274e3d['message']);}this[_0x34d2a5(0x24c)](_0x34d2a5(0x27d)),this[_0x34d2a5(0x24c)](LTM_DP_TRIGGER_DIGEST),this[_0x34d2a5(0x24c)](_0x34d2a5(0x2a0)),this['subscribeStates']('analysis.triggerBriefing');const _0x2c339d=this[_0x34d2a5(0x274)][_0x34d2a5(0x278)];if(_0x2c339d&&_0x2c339d['length']>0x0){this[_0x34d2a5(0x1c6)][_0x34d2a5(0x1c4)]('Subscribing\x20to\x20'+_0x2c339d[_0x34d2a5(0x21b)]+'\x20sensors...');for(const _0x1e129e of _0x2c339d){if(_0x1e129e['id']){await this[_0x34d2a5(0x288)](_0x1e129e['id']);try{const _0x5e03bf=await this['getForeignStateAsync'](_0x1e129e['id']);if(_0x5e03bf)this[_0x34d2a5(0x263)][_0x1e129e['id']]=_0x5e03bf[_0x34d2a5(0x293)];}catch(_0x3cec8c){}}}}const _0x5d7021=this[_0x34d2a5(0x274)]['presenceDevices']||[];if(_0x5d7021[_0x34d2a5(0x21b)]>0x0){this[_0x34d2a5(0x1c6)]['info'](_0x34d2a5(0x20d)+_0x5d7021['length']+'\x20presence\x20devices...');for(const _0x36b5c2 of _0x5d7021){await this[_0x34d2a5(0x288)](_0x36b5c2);}try{await this[_0x34d2a5(0x27f)]();}catch(_0x5e652b){}}if(this[_0x34d2a5(0x280)])clearInterval(this['analysisTimer']);const _0x5ec9ee=this[_0x34d2a5(0x274)][_0x34d2a5(0x18c)]||0xf;_0x5ec9ee>0x0&&(this[_0x34d2a5(0x1c6)][_0x34d2a5(0x1c4)](_0x34d2a5(0x299)+_0x5ec9ee+_0x34d2a5(0x24f)+this[_0x34d2a5(0x274)]['inactivityThresholdHours']+'h.'),this[_0x34d2a5(0x280)]=setInterval(()=>{const _0xfc1960=_0x34d2a5;try{this['runAutopilot']();}catch(_0x26755c){this[_0xfc1960(0x1c6)][_0xfc1960(0x2e3)](_0xfc1960(0x31e)+_0x26755c['message']);}},_0x5ec9ee*0x3c*0x3e8));try{this[_0x34d2a5(0x2ae)]();}catch(_0x357be1){this[_0x34d2a5(0x1c6)][_0x34d2a5(0x2e3)](_0x34d2a5(0x17c)+_0x357be1[_0x34d2a5(0x19e)]);}try{this[_0x34d2a5(0x19b)]();}catch(_0x37f3a1){this[_0x34d2a5(0x1c6)][_0x34d2a5(0x2e3)](_0x34d2a5(0x2bd)+_0x37f3a1[_0x34d2a5(0x19e)]);}try{this[_0x34d2a5(0x1f5)]();}catch(_0x4cebf3){this[_0x34d2a5(0x1c6)][_0x34d2a5(0x2e3)](_0x34d2a5(0x287)+_0x4cebf3[_0x34d2a5(0x19e)]);}try{this[_0x34d2a5(0x182)]();}catch(_0x3bebb0){this[_0x34d2a5(0x1c6)]['error'](_0x34d2a5(0x23b)+_0x3bebb0[_0x34d2a5(0x19e)]);}}['onUnload'](_0x3ae4c7){const _0x519274=a0_0x5ce56e;if(this[_0x519274(0x280)])clearInterval(this[_0x519274(0x280)]);if(this[_0x519274(0x275)])clearInterval(this[_0x519274(0x275)]);if(this[_0x519274(0x271)])this[_0x519274(0x271)][_0x519274(0x21c)]();if(this[_0x519274(0x1f6)])this[_0x519274(0x1f6)][_0x519274(0x21c)]();if(this[_0x519274(0x21e)])this[_0x519274(0x21e)][_0x519274(0x21c)]();if(this['exitTimer'])clearTimeout(this[_0x519274(0x1e6)]);if(this['exitGraceTimer'])clearTimeout(this[_0x519274(0x2db)]);_0x3ae4c7();}async[a0_0x5ce56e(0x2da)](_0x419252,_0x4bafa8){const _0x3a96e2=a0_0x5ce56e;if(!_0x4bafa8)return;if(_0x419252===this[_0x3a96e2(0x261)]+'.'+SYSTEM_DP_MODE){_0x4bafa8['val']&&Object[_0x3a96e2(0x1d7)](SYSTEM_MODES)[_0x3a96e2(0x25f)](_0x4bafa8[_0x3a96e2(0x293)])&&(this[_0x3a96e2(0x24b)]=_0x4bafa8[_0x3a96e2(0x293)],_0x4bafa8['val']===SYSTEM_MODES['VACATION']?this['setPresence'](![]):this[_0x3a96e2(0x2fc)](!![]));if(!_0x4bafa8[_0x3a96e2(0x175)])this[_0x3a96e2(0x1a3)](_0x419252,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x4bafa8[_0x3a96e2(0x175)]){_0x419252['includes']('analysis.trigger')&&_0x4bafa8[_0x3a96e2(0x293)]&&(this[_0x3a96e2(0x1a3)](_0x419252,{'val':![],'ack':!![]}),this[_0x3a96e2(0x1a4)]());if(_0x419252['includes']('triggerDailyDigest')&&_0x4bafa8[_0x3a96e2(0x293)]){this[_0x3a96e2(0x1a3)](_0x419252,{'val':![],'ack':!![]});if(this[_0x3a96e2(0x1ab)])this[_0x3a96e2(0x214)]();}_0x419252[_0x3a96e2(0x25f)]('triggerBriefing')&&_0x4bafa8['val']&&(this['setState'](_0x419252,{'val':![],'ack':!![]}),this[_0x3a96e2(0x1a0)]());return;}if(this[_0x3a96e2(0x274)]['presenceDevices']&&this[_0x3a96e2(0x274)]['presenceDevices'][_0x3a96e2(0x25f)](_0x419252)){await this[_0x3a96e2(0x27f)]();return;}const _0x128ddc=(this[_0x3a96e2(0x274)][_0x3a96e2(0x278)]||[])['find'](_0x223a40=>_0x223a40['id']===_0x419252);if(_0x128ddc)this['processSensorEvent'](_0x419252,_0x4bafa8,_0x128ddc);}async[a0_0x5ce56e(0x2cc)](_0x432216){const _0x560b05=a0_0x5ce56e;if(typeof _0x432216==='object'&&_0x432216[_0x560b05(0x19e)])try{if(_0x432216['command']===_0x560b05(0x2b1)){if(!_0x432216[_0x560b05(0x19e)]['apiKey'])return this[_0x560b05(0x1a7)](_0x432216[_0x560b05(0x1a2)],_0x432216[_0x560b05(0x2de)],{'success':![],'message':_0x560b05(0x26e)},_0x432216['callback']);try{const _0x1c0670=new GoogleGenerativeAI(_0x432216['message'][_0x560b05(0x2a2)])[_0x560b05(0x201)]({'model':_0x560b05(0x1a5)});await _0x1c0670[_0x560b05(0x31f)](_0x560b05(0x282)),this['sendTo'](_0x432216[_0x560b05(0x1a2)],_0x432216[_0x560b05(0x2de)],{'success':!![],'message':_0x560b05(0x207)},_0x432216[_0x560b05(0x1dd)]);}catch(_0x46a6bc){this[_0x560b05(0x1a7)](_0x432216[_0x560b05(0x1a2)],_0x432216['command'],{'success':![],'message':_0x46a6bc[_0x560b05(0x19e)]},_0x432216['callback']);}}else{if(_0x432216[_0x560b05(0x2de)]===_0x560b05(0x305)){const _0x3fc6c3=await this[_0x560b05(0x1d1)]('[Test]\x20Notification',!![]);this[_0x560b05(0x1a7)](_0x432216['from'],_0x432216[_0x560b05(0x2de)],{'success':_0x3fc6c3>0x0,'message':_0x3fc6c3+_0x560b05(0x18a)},_0x432216[_0x560b05(0x1dd)]);}else{if(_0x432216['command']==='getLtmData'){if(!this[_0x560b05(0x1ab)])return this['sendTo'](_0x432216[_0x560b05(0x1a2)],_0x432216['command'],{'success':![],'isPro':![]},_0x432216['callback']);let _0x12d045={'status':_0x560b05(0x1f7),'details':'','lastCheck':0x0};try{_0x12d045[_0x560b05(0x22d)]=(await this['getStateAsync'](LTM_DP_DRIFT_STATUS))[_0x560b05(0x293)],_0x12d045['details']=(await this[_0x560b05(0x20a)](LTM_DP_DRIFT_DETAILS))['val'],_0x12d045['lastCheck']=(await this[_0x560b05(0x20a)](LTM_DP_DRIFT_LAST_CHECK))[_0x560b05(0x293)];}catch(_0x2b0e9b){}this[_0x560b05(0x1a7)](_0x432216[_0x560b05(0x1a2)],_0x432216['command'],{'success':!![],'isPro':!![],'dailyDigests':this[_0x560b05(0x19a)],'driftAnalysis':_0x12d045,'analysisHistory':this[_0x560b05(0x1bb)]},_0x432216[_0x560b05(0x1dd)]);}else{if(_0x432216[_0x560b05(0x2de)]===_0x560b05(0x326)){const _0x538887=await this[_0x560b05(0x281)](_0x560b05(0x1a9),'enum'),_0x59c9aa=[];if(_0x538887)for(const _0x2c1b16 in _0x538887){const _0xbdda04=_0x538887[_0x2c1b16],_0x31cf52=(_0xbdda04[_0x560b05(0x233)]&&typeof _0xbdda04[_0x560b05(0x233)][_0x560b05(0x1db)]==='object'?_0xbdda04[_0x560b05(0x233)][_0x560b05(0x1db)]['de']:_0xbdda04[_0x560b05(0x233)]['name'])||_0xbdda04[_0x560b05(0x233)][_0x560b05(0x1db)];_0x59c9aa[_0x560b05(0x315)]({'id':_0x2c1b16,'name':_0x31cf52});}this[_0x560b05(0x1a7)](_0x432216['from'],_0x432216[_0x560b05(0x2de)],{'success':!![],'enums':_0x59c9aa},_0x432216[_0x560b05(0x1dd)]);}else{if(_0x432216[_0x560b05(0x2de)]===_0x560b05(0x323))try{const _0x2856d9=await this[_0x560b05(0x2bb)](_0x432216[_0x560b05(0x19e)]||{});this['sendTo'](_0x432216['from'],_0x432216[_0x560b05(0x2de)],{'success':!![],'devices':_0x2856d9},_0x432216['callback']);}catch(_0x5d5f5a){this['sendTo'](_0x432216[_0x560b05(0x1a2)],_0x432216[_0x560b05(0x2de)],{'success':![],'error':_0x5d5f5a[_0x560b05(0x19e)]},_0x432216[_0x560b05(0x1dd)]);}else{if(_0x432216[_0x560b05(0x2de)]===_0x560b05(0x238)){const {historyId:_0x2ff597,rating:_0x13f2cf,comment:_0x4a489a,alertReason:_0xc76271}=_0x432216[_0x560b05(0x19e)];_0x2ff597&&_0x13f2cf?(await this[_0x560b05(0x1f1)]({'timestamp':Date[_0x560b05(0x1b1)](),'historyId':_0x2ff597,'rating':_0x13f2cf,'comment':_0x4a489a,'alertReason':_0xc76271}),this['sendTo'](_0x432216[_0x560b05(0x1a2)],_0x432216['command'],{'success':!![]},_0x432216[_0x560b05(0x1dd)])):this[_0x560b05(0x1a7)](_0x432216['from'],_0x432216[_0x560b05(0x2de)],{'success':![],'error':'Missing\x20data'},_0x432216[_0x560b05(0x1dd)]);}else{if(_0x432216[_0x560b05(0x2de)]===_0x560b05(0x21d)){const _0xf940fe=await this[_0x560b05(0x308)](),_0x3901b9=await this[_0x560b05(0x23c)]();this['sendTo'](_0x432216['from'],_0x432216[_0x560b05(0x2de)],{'success':!![],'weather':_0xf940fe,'calendar':_0x3901b9},_0x432216[_0x560b05(0x1dd)]);}else{if(_0x432216[_0x560b05(0x2de)]===_0x560b05(0x2c4)){const _0x159e11=_0x432216['message'][_0x560b05(0x194)];if(!_0x159e11)return this[_0x560b05(0x1a7)](_0x432216['from'],_0x432216['command'],{'success':![],'error':_0x560b05(0x2be)},_0x432216['callback']);const _0x27bffa=await this[_0x560b05(0x2c4)](_0x159e11);this[_0x560b05(0x1a7)](_0x432216[_0x560b05(0x1a2)],_0x432216[_0x560b05(0x2de)],{'success':!![],'names':_0x27bffa},_0x432216[_0x560b05(0x1dd)]);}}}}}}}}}catch(_0x3e0054){this[_0x560b05(0x1c6)][_0x560b05(0x2e3)](_0x560b05(0x265)+_0x432216[_0x560b05(0x2de)]+':\x20'+_0x3e0054[_0x560b05(0x19e)]);if(_0x432216[_0x560b05(0x1dd)])this['sendTo'](_0x432216[_0x560b05(0x1a2)],_0x432216[_0x560b05(0x2de)],{'success':![],'error':_0x3e0054[_0x560b05(0x19e)]},_0x432216[_0x560b05(0x1dd)]);}}async[a0_0x5ce56e(0x276)](){const _0x77cdfc=a0_0x5ce56e;try{const _0x4b0498=await this['getStateAsync'](_0x77cdfc(0x197));_0x4b0498&&_0x4b0498[_0x77cdfc(0x293)]&&(this['eventHistory']=JSON[_0x77cdfc(0x1d4)](_0x4b0498[_0x77cdfc(0x293)][_0x77cdfc(0x2dd)]()));}catch(_0x1e20b3){this['eventHistory']=[];}try{const _0xc53dcd=await this[_0x77cdfc(0x20a)](_0x77cdfc(0x303));if(_0xc53dcd&&_0xc53dcd[_0x77cdfc(0x293)])this['analysisHistory']=JSON[_0x77cdfc(0x1d4)](_0xc53dcd[_0x77cdfc(0x293)][_0x77cdfc(0x2dd)]());}catch(_0x33cc26){this[_0x77cdfc(0x1bb)]=[];}}async[a0_0x5ce56e(0x2e0)](){const _0x4dadb5=a0_0x5ce56e;try{const _0x762dd5=await this[_0x4dadb5(0x20a)](LTM_DP_RAW_LOG);if(_0x762dd5&&_0x762dd5[_0x4dadb5(0x293)])this[_0x4dadb5(0x19f)]=JSON['parse'](_0x762dd5[_0x4dadb5(0x293)]);}catch(_0x5a757e){this[_0x4dadb5(0x19f)]=[];}}async[a0_0x5ce56e(0x2a8)](){const _0x47c983=a0_0x5ce56e;try{const _0x571a64=await this[_0x47c983(0x20a)](LTM_DP_DAILY_DIGESTS);if(_0x571a64&&_0x571a64[_0x47c983(0x293)])this[_0x47c983(0x19a)]=JSON[_0x47c983(0x1d4)](_0x571a64[_0x47c983(0x293)]);}catch(_0x14a6f1){this['dailyDigests']=[];}await this['updateBaselineStatus']();}async['saveRawEventLog'](){const _0x1e709b=a0_0x5ce56e;this[_0x1e709b(0x19f)][_0x1e709b(0x21b)]>RAW_LOG_MAX_SIZE&&this[_0x1e709b(0x19f)]['splice'](0x0,this[_0x1e709b(0x19f)]['length']-RAW_LOG_MAX_SIZE),await this[_0x1e709b(0x28e)](LTM_DP_RAW_LOG,{'val':JSON[_0x1e709b(0x222)](this['rawEventLog']),'ack':!![]});}async[a0_0x5ce56e(0x1d2)](_0x3c5197=!![]){const _0x2ebf9f=a0_0x5ce56e,_0x43c85e=this['config']['ltmLtbWindowDays']||0x3c;this[_0x2ebf9f(0x19a)][_0x2ebf9f(0x21b)]>_0x43c85e&&this[_0x2ebf9f(0x19a)][_0x2ebf9f(0x304)](0x0,this[_0x2ebf9f(0x19a)]['length']-_0x43c85e);await this[_0x2ebf9f(0x28e)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x2ebf9f(0x222)](this['dailyDigests']),'ack':!![]});if(_0x3c5197)await this['updateBaselineStatus']();}async[a0_0x5ce56e(0x307)](_0x42b65d){const _0x5b6355=a0_0x5ce56e;this['analysisHistory'][_0x5b6355(0x17b)](_0x42b65d);if(this[_0x5b6355(0x1bb)][_0x5b6355(0x21b)]>ANALYSIS_HISTORY_MAX_SIZE)this[_0x5b6355(0x1bb)]['pop']();await this[_0x5b6355(0x28e)](_0x5b6355(0x303),{'val':JSON[_0x5b6355(0x222)](this[_0x5b6355(0x1bb)]),'ack':!![]});}async['updateBaselineStatus'](){const _0x10186c=a0_0x5ce56e;if(!this[_0x10186c(0x1ab)]){await this[_0x10186c(0x28e)](LTM_DP_BASELINE_STATUS,{'val':_0x10186c(0x26b),'ack':!![]});return;}const _0xcba247=this['dailyDigests'][_0x10186c(0x21b)]>=(this[_0x10186c(0x274)]['minDaysForBaseline']||0x7)?'Aktiv\x20('+this[_0x10186c(0x19a)][_0x10186c(0x21b)]+'\x20Tage)':_0x10186c(0x18e)+this['dailyDigests'][_0x10186c(0x21b)]+'/'+(this[_0x10186c(0x274)]['minDaysForBaseline']||0x7)+')';await this[_0x10186c(0x28e)](LTM_DP_BASELINE_STATUS,{'val':_0xcba247,'ack':!![]});}[a0_0x5ce56e(0x256)](_0x55fd18){const _0x4edc6b=a0_0x5ce56e;if(typeof _0x55fd18===_0x4edc6b(0x311))return _0x55fd18;try{return JSON[_0x4edc6b(0x1d4)](_0x55fd18);}catch(_0x4aae6c){return null;}}async[a0_0x5ce56e(0x308)](){const _0x336eb6=a0_0x5ce56e;try{if(!this[_0x336eb6(0x274)][_0x336eb6(0x245)])return _0x336eb6(0x1e8);let _0x43df79='';const _0xc5f3c=this[_0x336eb6(0x274)][_0x336eb6(0x317)];if(_0xc5f3c)try{if(_0xc5f3c[_0x336eb6(0x25f)](_0x336eb6(0x22a))){const _0x1285af=await this[_0x336eb6(0x177)](_0xc5f3c+'.Summary.Current');if(_0x1285af&&_0x1285af[_0x336eb6(0x293)])_0x43df79=_0x1285af[_0x336eb6(0x293)];}else{if(_0xc5f3c[_0x336eb6(0x25f)]('daswetter')){const _0x16487e=await this['getForeignStateAsync'](_0xc5f3c+_0x336eb6(0x241));if(_0x16487e&&_0x16487e[_0x336eb6(0x293)])_0x43df79=_0x16487e['val'];}else{if(_0xc5f3c[_0x336eb6(0x25f)]('openweathermap')){const _0x111c3b=await this[_0x336eb6(0x177)](_0xc5f3c+'.forecast.current.state');if(_0x111c3b&&_0x111c3b['val'])_0x43df79=_0x111c3b[_0x336eb6(0x293)];}}}}catch(_0x4b0627){}if(!_0x43df79){const _0x9ffa90=[_0x336eb6(0x2fe),'daswetter.0','weatherunderground.0',_0x336eb6(0x30d)];for(const _0x31b0ee of _0x9ffa90){try{const _0x1f3f76=await this[_0x336eb6(0x212)](_0x31b0ee);if(_0x1f3f76){if(_0x31b0ee[_0x336eb6(0x25f)]('accuweather')){const _0x27c64b=await this[_0x336eb6(0x177)](_0x31b0ee+_0x336eb6(0x229));if(_0x27c64b&&_0x27c64b[_0x336eb6(0x293)]){_0x43df79=_0x27c64b['val'];break;}}}}catch(_0x3196b3){}}}return _0x43df79?_0x336eb6(0x2b9)+_0x43df79:'WETTER:\x20Keine\x20Daten\x20gefunden';}catch(_0x52e9a5){return'WETTER\x20ERROR:\x20'+_0x52e9a5[_0x336eb6(0x19e)];}}async[a0_0x5ce56e(0x23c)](){const _0x4a0aed=a0_0x5ce56e;try{if(!this[_0x4a0aed(0x274)][_0x4a0aed(0x1ff)])return _0x4a0aed(0x294);let _0x25f5cc=this[_0x4a0aed(0x274)]['calendarInstance']||_0x4a0aed(0x1cc),_0x3901eb=this[_0x4a0aed(0x274)][_0x4a0aed(0x179)]||[];if(typeof _0x3901eb===_0x4a0aed(0x1ca))_0x3901eb=_0x3901eb[_0x4a0aed(0x27a)](',');try{const _0x240d37=await this['getForeignStateAsync'](_0x25f5cc+_0x4a0aed(0x20f));if(_0x240d37&&_0x240d37[_0x4a0aed(0x293)]){let _0x1d2d82=this[_0x4a0aed(0x256)](_0x240d37[_0x4a0aed(0x293)]);if(_0x1d2d82&&Array[_0x4a0aed(0x283)](_0x1d2d82)){if(_0x3901eb[_0x4a0aed(0x21b)]>0x0)_0x1d2d82=_0x1d2d82['filter'](_0x3d150e=>_0x3901eb[_0x4a0aed(0x25f)](_0x3d150e['_calName']||''));else return _0x4a0aed(0x1ac);if(_0x1d2d82[_0x4a0aed(0x21b)]>0x0){const _0x3b201d=_0x1d2d82[_0x4a0aed(0x1b5)](0x0,0x3)[_0x4a0aed(0x2b8)](_0x41d2b8=>{const _0x1d439b=_0x4a0aed;let _0x1674dc=_0x41d2b8[_0x1d439b(0x290)];if(_0x41d2b8['time'])_0x1674dc+='\x20'+_0x41d2b8[_0x1d439b(0x174)];return _0x1674dc+':\x20'+_0x41d2b8[_0x1d439b(0x1e7)]+'\x20('+_0x41d2b8[_0x1d439b(0x202)]+')';});return _0x4a0aed(0x285)+_0x3b201d[_0x4a0aed(0x17e)](_0x4a0aed(0x2c0));}else return _0x4a0aed(0x21a);}}}catch(_0x295648){this[_0x4a0aed(0x1c6)][_0x4a0aed(0x30e)](_0x4a0aed(0x1b4)+_0x295648[_0x4a0aed(0x19e)]);}return'KALENDER:\x20Keine\x20Daten';}catch(_0x269814){return'KALENDER\x20ERROR:\x20'+_0x269814[_0x4a0aed(0x19e)];}}async[a0_0x5ce56e(0x2c4)](_0x358ffb){const _0x26ad62=a0_0x5ce56e;try{const _0x1af1c1=await this[_0x26ad62(0x177)](_0x358ffb+_0x26ad62(0x20f));if(_0x1af1c1&&_0x1af1c1['val']){const _0x52ca91=this[_0x26ad62(0x256)](_0x1af1c1[_0x26ad62(0x293)]);if(_0x52ca91&&Array[_0x26ad62(0x283)](_0x52ca91)){const _0x36c218=[...new Set(_0x52ca91[_0x26ad62(0x2b8)](_0x302ec6=>_0x302ec6['_calName'])[_0x26ad62(0x1c0)](Boolean))];return _0x36c218[_0x26ad62(0x19c)]();}}return[];}catch(_0x596909){return this[_0x26ad62(0x1c6)][_0x26ad62(0x2e3)](_0x26ad62(0x310)+_0x596909[_0x26ad62(0x19e)]),[];}}async['getSystemUUID'](){const _0x2e5985=a0_0x5ce56e;try{const _0x41bc06=await this[_0x2e5985(0x212)]('system.meta.uuid');if(_0x41bc06&&_0x41bc06[_0x2e5985(0x239)]&&_0x41bc06['native']['uuid'])return _0x41bc06[_0x2e5985(0x239)][_0x2e5985(0x1ae)];return _0x2e5985(0x30f);}catch(_0x30eb3e){return _0x2e5985(0x289);}}async[a0_0x5ce56e(0x192)](_0x47bd6c){const _0x1d8a7c=a0_0x5ce56e;if(!_0x47bd6c)return![];this[_0x1d8a7c(0x2ab)]=await this[_0x1d8a7c(0x224)]();if(_0x47bd6c===_0x1d8a7c(0x176)||_0x47bd6c[_0x1d8a7c(0x29b)](_0x1d8a7c(0x254)))return!![];return![];}async[a0_0x5ce56e(0x1cb)](){const _0x58a429=a0_0x5ce56e;try{const _0xe92ad1=await this['getStateAsync'](SYSTEM_DP_MODE);_0xe92ad1&&_0xe92ad1[_0x58a429(0x293)]&&Object['values'](SYSTEM_MODES)[_0x58a429(0x25f)](_0xe92ad1[_0x58a429(0x293)])?this[_0x58a429(0x24b)]=_0xe92ad1[_0x58a429(0x293)]:(this[_0x58a429(0x24b)]=SYSTEM_MODES[_0x58a429(0x1cf)],await this['setStateAsync'](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x58a429(0x1cf)],'ack':!![]}));}catch(_0x327896){this['currentSystemMode']=SYSTEM_MODES['NORMAL'];}}['setupLtmScheduler'](){const _0x5871cb=a0_0x5ce56e;try{if(this[_0x5871cb(0x271)])this[_0x5871cb(0x271)][_0x5871cb(0x21c)]();if(!this['isProVersion']){this['setStateAsync'](LTM_DP_STATUS,{'val':_0x5871cb(0x26b),'ack':!![]});return;}this['ltmJob']=schedule[_0x5871cb(0x2f9)](LTM_SCHEDULE,()=>this[_0x5871cb(0x214)]());}catch(_0x23688b){this[_0x5871cb(0x1c6)][_0x5871cb(0x2e3)](_0x5871cb(0x2d6)+_0x23688b['message']);}}[a0_0x5ce56e(0x19b)](){const _0x4df264=a0_0x5ce56e;try{if(this[_0x4df264(0x1f6)])this[_0x4df264(0x1f6)][_0x4df264(0x21c)]();this[_0x4df264(0x1f6)]=schedule['scheduleJob'](MODE_RESET_SCHEDULE,async()=>{const _0x38c380=_0x4df264;await this['loadSystemMode'](),AUTO_RESET_MODES['includes'](this[_0x38c380(0x24b)])&&await this[_0x38c380(0x28e)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES['NORMAL'],'ack':![]});});}catch(_0x29f94d){this[_0x4df264(0x1c6)]['error'](_0x4df264(0x264)+_0x29f94d[_0x4df264(0x19e)]);}}[a0_0x5ce56e(0x1f5)](){const _0x37eb72=a0_0x5ce56e;try{if(this[_0x37eb72(0x275)])clearInterval(this[_0x37eb72(0x275)]);if(!this[_0x37eb72(0x1ab)])return;this[_0x37eb72(0x275)]=setInterval(()=>this[_0x37eb72(0x22e)](),(this[_0x37eb72(0x274)][_0x37eb72(0x27c)]||0x18)*0x36ee80),setTimeout(()=>this[_0x37eb72(0x22e)](),0x1388);}catch(_0x3b313d){this[_0x37eb72(0x1c6)][_0x37eb72(0x2e3)](_0x37eb72(0x1de)+_0x3b313d[_0x37eb72(0x19e)]);}}[a0_0x5ce56e(0x182)](){const _0xdead05=a0_0x5ce56e;try{if(this['briefingJob'])this[_0xdead05(0x21e)][_0xdead05(0x21c)]();if(!this['config'][_0xdead05(0x253)])return;const _0xdd9d5e=(this[_0xdead05(0x274)][_0xdead05(0x322)]||'08:00')[_0xdead05(0x27a)](':'),_0x3a8507=parseInt(_0xdd9d5e[0x0])||0x8,_0x29d35b=parseInt(_0xdd9d5e[0x1])||0x0,_0x21edeb=_0x29d35b+'\x20'+_0x3a8507+_0xdead05(0x26a);this[_0xdead05(0x1c6)][_0xdead05(0x1c4)](_0xdead05(0x2f3)+_0x3a8507+':'+(_0x29d35b<0xa?'0'+_0x29d35b:_0x29d35b)),this['briefingJob']=schedule[_0xdead05(0x2f9)](_0x21edeb,()=>{const _0x2679a7=_0xdead05;this[_0x2679a7(0x1a0)]();});}catch(_0x3e1036){this[_0xdead05(0x1c6)][_0xdead05(0x2e3)](_0xdead05(0x23d)+_0x3e1036[_0xdead05(0x19e)]);}}async['createAllObjects'](){const _0x4de70f=a0_0x5ce56e;try{await this[_0x4de70f(0x2c1)](),await this['setObjectNotExistsAsync'](_0x4de70f(0x23f),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x2ee),'type':'boolean','role':'indicator','read':!![],'write':![],'def':!![]},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x2e2),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x1b7),'type':_0x4de70f(0x1ca),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x197),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x27b),'type':'string','role':_0x4de70f(0x26d),'read':!![],'write':![]},'native':{}}),await this[_0x4de70f(0x185)]('analysis.trigger',{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x251),'type':'boolean','role':_0x4de70f(0x2d0),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x1f9),{'type':_0x4de70f(0x30c),'common':{'name':'Trigger\x20Briefing\x20(Test)','type':_0x4de70f(0x204),'role':_0x4de70f(0x2d0),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x301),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x247),'type':_0x4de70f(0x1ca),'role':_0x4de70f(0x26d),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.isAlert',{'type':_0x4de70f(0x30c),'common':{'name':'AI\x20Alert\x20Status','type':'boolean','role':'indicator.alarm','read':!![],'write':![],'def':![]},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x173),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x279),'type':_0x4de70f(0x204),'role':'indicator.alarm.fire','read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.alertReason',{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x249),'type':'string','role':_0x4de70f(0x24e),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4de70f(0x1fd),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x2e9),'type':_0x4de70f(0x1ca),'role':_0x4de70f(0x1e1),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4de70f(0x228),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x2e1),'type':'string','role':'state','read':!![],'write':![],'def':_0x4de70f(0x1f7)},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x191),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x2c6),'type':_0x4de70f(0x1ca),'role':'text','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4de70f(0x252),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x2ba),'type':_0x4de70f(0x1ca),'role':_0x4de70f(0x1e1),'read':!![],'write':![]},'native':{}}),await this[_0x4de70f(0x1ee)]('analysis.automation',{'type':_0x4de70f(0x219),'common':{'name':_0x4de70f(0x24d)},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x2d4),{'type':'state','common':{'name':_0x4de70f(0x1fb),'type':_0x4de70f(0x204),'role':_0x4de70f(0x210),'read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4de70f(0x2ef),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x231),'type':_0x4de70f(0x1ca),'role':_0x4de70f(0x1e1),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4de70f(0x1b0),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x225),'type':_0x4de70f(0x1ca),'role':_0x4de70f(0x1e1),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.analysisHistory',{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x2b2),'type':_0x4de70f(0x1ca),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x246),{'type':'state','common':{'name':'Feedback\x20Log','type':'string','role':_0x4de70f(0x26d),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x4de70f(0x1ee)](_0x4de70f(0x25d),{'type':_0x4de70f(0x219),'common':{'name':_0x4de70f(0x1df)},'native':{}}),await this[_0x4de70f(0x185)]('analysis.health.sleepScore',{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x1b2),'type':_0x4de70f(0x2f1),'role':_0x4de70f(0x2a7),'read':!![],'write':![],'def':0x0},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x1da),{'type':'state','common':{'name':_0x4de70f(0x23a),'type':'string','role':'text','read':!![],'write':![],'def':_0x4de70f(0x295)},'native':{}}),await this[_0x4de70f(0x185)](_0x4de70f(0x203),{'type':_0x4de70f(0x30c),'common':{'name':_0x4de70f(0x183),'type':'string','role':_0x4de70f(0x1e1),'read':!![],'write':![],'def':''},'native':{}}),await this['checkLtmObjects'](),await this['checkLtmDriftObjects']();}catch(_0x204312){this[_0x4de70f(0x1c6)]['error']('Error\x20creating\x20objects:\x20'+_0x204312[_0x4de70f(0x19e)]);}}async[a0_0x5ce56e(0x2fb)](){const _0x4b95f0=a0_0x5ce56e;await this['extendObjectAsync'](_0x4b95f0(0x318),{'type':_0x4b95f0(0x219),'common':{'name':_0x4b95f0(0x318)},'native':{}}),await this[_0x4b95f0(0x1ee)](LTM_DP_RAW_LOG,{'type':_0x4b95f0(0x30c),'common':{'name':_0x4b95f0(0x2cd),'type':_0x4b95f0(0x1ca),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x4b95f0(0x1ee)](LTM_DP_DAILY_DIGESTS,{'type':_0x4b95f0(0x30c),'common':{'name':_0x4b95f0(0x2f6),'type':_0x4b95f0(0x1ca),'role':_0x4b95f0(0x26d),'read':!![],'write':![]},'native':{}}),await this[_0x4b95f0(0x1ee)](LTM_DP_STATUS,{'type':_0x4b95f0(0x30c),'common':{'name':_0x4b95f0(0x2ec),'type':'string','role':_0x4b95f0(0x1e1),'read':!![],'write':![]},'native':{}}),await this[_0x4b95f0(0x1ee)](LTM_DP_TRIGGER_DIGEST,{'type':_0x4b95f0(0x30c),'common':{'name':'Trigger\x20Digest','type':_0x4b95f0(0x204),'role':_0x4b95f0(0x2d0),'read':!![],'write':!![],'def':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_BASELINE_STATUS,{'type':_0x4b95f0(0x30c),'common':{'name':'Baseline\x20Status','type':'string','role':'text','read':!![],'write':![]},'native':{}});}async[a0_0x5ce56e(0x2a3)](){const _0x394b48=a0_0x5ce56e;await this[_0x394b48(0x1ee)](LTM_DP_DRIFT_CHANNEL,{'type':_0x394b48(0x219),'common':{'name':'Drift\x20Analysis'},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_STATUS,{'type':_0x394b48(0x30c),'common':{'name':_0x394b48(0x218),'type':'string','role':'state','read':!![],'write':![],'def':'N/A'},'native':{}}),await this[_0x394b48(0x1ee)](LTM_DP_DRIFT_DETAILS,{'type':_0x394b48(0x30c),'common':{'name':'Drift\x20Details','type':_0x394b48(0x1ca),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x394b48(0x1ee)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x394b48(0x30c),'common':{'name':_0x394b48(0x28b),'type':'number','role':_0x394b48(0x290),'read':!![],'write':![]},'native':{}});}async[a0_0x5ce56e(0x2c1)](){const _0x1a48cb=a0_0x5ce56e;await this['extendObjectAsync'](_0x1a48cb(0x2c3),{'type':'channel','common':{'name':'System\x20Status\x20&\x20Control'},'native':{}}),await this['extendObjectAsync'](SYSTEM_DP_MODE,{'type':'state','common':{'name':_0x1a48cb(0x1d9),'type':'string','role':_0x1a48cb(0x30c),'read':!![],'write':!![],'def':SYSTEM_MODES['NORMAL'],'states':{[SYSTEM_MODES[_0x1a48cb(0x1cf)]]:_0x1a48cb(0x1ec),[SYSTEM_MODES[_0x1a48cb(0x324)]]:_0x1a48cb(0x1e0),[SYSTEM_MODES[_0x1a48cb(0x1dc)]]:_0x1a48cb(0x172),[SYSTEM_MODES['GUEST']]:'Gast'}},'native':{}});}async[a0_0x5ce56e(0x2bb)](_0x1e66e6={}){const _0xe2b546=a0_0x5ce56e;this[_0xe2b546(0x1c6)][_0xe2b546(0x1c4)]('Starting\x20Smart\x20Scan\x20with\x20filters:\x20'+JSON[_0xe2b546(0x222)](_0x1e66e6));const _0x2af4bc=[],_0x24bf9c=_0x1e66e6['motion']!==![],_0x40704f=_0x1e66e6[_0xe2b546(0x220)]!==![],_0xb28151=_0x1e66e6[_0xe2b546(0x1ef)]!==![],_0x8bde50=_0x1e66e6[_0xe2b546(0x2d5)]===!![],_0x116981=_0x1e66e6['weather']===!![],_0x20f784=_0x1e66e6[_0xe2b546(0x1ad)]||[],_0x5be2ce=await this['getForeignObjectsAsync'](_0xe2b546(0x259),'enum'),_0x1c1c2c=await this[_0xe2b546(0x281)]('enum.functions.*',_0xe2b546(0x25b)),_0x2819e6={},_0x5b76fa={},_0x470e37={},_0x979092=(_0x5ebc40,_0x2a6080,_0x5d9bce=![])=>{const _0x44c36d=_0xe2b546;if(!_0x5ebc40)return;for(const _0x5c837f in _0x5ebc40){const _0x686293=_0x5ebc40[_0x5c837f];if(_0x686293&&_0x686293['common']&&_0x686293[_0x44c36d(0x233)][_0x44c36d(0x316)]){const _0x295bad=(typeof _0x686293[_0x44c36d(0x233)][_0x44c36d(0x1db)]===_0x44c36d(0x311)?_0x686293[_0x44c36d(0x233)][_0x44c36d(0x1db)]['de']:_0x686293['common'][_0x44c36d(0x1db)])||_0x686293[_0x44c36d(0x233)][_0x44c36d(0x1db)];if(_0x5d9bce)_0x470e37[_0x5c837f]=_0x295bad;for(const _0x110375 of _0x686293[_0x44c36d(0x233)][_0x44c36d(0x316)]){if(_0x5d9bce){if(!_0x2a6080[_0x110375])_0x2a6080[_0x110375]=[];_0x2a6080[_0x110375][_0x44c36d(0x315)](_0x5c837f);}else _0x2a6080[_0x110375]=_0x295bad;}}}};_0x979092(_0x5be2ce,_0x2819e6),_0x979092(_0x1c1c2c,_0x5b76fa,!![]);const _0x5c80be=await this['getForeignObjectsAsync']('*',_0xe2b546(0x30c)),_0x2759d6=[_0xe2b546(0x314),_0xe2b546(0x297),_0xe2b546(0x237),'ERROR',_0xe2b546(0x1d0),_0xe2b546(0x2e6),_0xe2b546(0x234),_0xe2b546(0x286),_0xe2b546(0x1aa),_0xe2b546(0x1bf),'DIRECTION',_0xe2b546(0x1ed),_0xe2b546(0x2ca),_0xe2b546(0x29d),'INSTALL_TEST','COMBINED_PARAMETER',_0xe2b546(0x2b4),'ON_TIME',_0xe2b546(0x1fe),_0xe2b546(0x31c),_0xe2b546(0x2e8),'AES_KEY',_0xe2b546(0x1bc),'reachable',_0xe2b546(0x2b3),'battery','update',_0xe2b546(0x186),_0xe2b546(0x17f),_0xe2b546(0x193),_0xe2b546(0x1c4),_0xe2b546(0x20e),_0xe2b546(0x24a),'last\x20action',_0xe2b546(0x2b6),_0xe2b546(0x2d2),'mode','colormode',_0xe2b546(0x20b),'xy','ct',_0xe2b546(0x300),'sat','productname','manufacturer','modelid',_0xe2b546(0x242),'command','mac\x20address',_0xe2b546(0x2b5),'capabilities',_0xe2b546(0x22f),_0xe2b546(0x178),_0xe2b546(0x248),_0xe2b546(0x217),_0xe2b546(0x232),'summary',_0xe2b546(0x230),'history',_0xe2b546(0x28d),_0xe2b546(0x1c4),_0xe2b546(0x26d)];if(!_0x116981)_0x2759d6['push'](_0xe2b546(0x1fa),_0xe2b546(0x2eb),_0xe2b546(0x268),_0xe2b546(0x273),'uv',_0xe2b546(0x31b),'precip');const _0x1ecb13=[_0xe2b546(0x2e5),_0xe2b546(0x320),_0xe2b546(0x2a1),_0xe2b546(0x22b),_0xe2b546(0x25e),'material.',_0xe2b546(0x23e),_0xe2b546(0x267)];if(!_0x116981)_0x1ecb13[_0xe2b546(0x315)]('daswetter.',_0xe2b546(0x291),_0xe2b546(0x306),'yr.','openweathermap.');const _0x327a47=(_0x47f14a,_0x5d9d3c,_0x15f88c=![])=>{const _0x5ab451=_0xe2b546,_0x3b89c9=_0x47f14a['split']('.');if(_0x5d9d3c[_0x47f14a])return _0x5d9d3c[_0x47f14a];if(_0x3b89c9[_0x5ab451(0x21b)]>0x2&&_0x5d9d3c[_0x3b89c9[_0x5ab451(0x1b5)](0x0,-0x1)[_0x5ab451(0x17e)]('.')])return _0x5d9d3c[_0x3b89c9['slice'](0x0,-0x1)[_0x5ab451(0x17e)]('.')];if(_0x3b89c9['length']>0x3&&_0x5d9d3c[_0x3b89c9[_0x5ab451(0x1b5)](0x0,-0x2)[_0x5ab451(0x17e)]('.')])return _0x5d9d3c[_0x3b89c9[_0x5ab451(0x1b5)](0x0,-0x2)[_0x5ab451(0x17e)]('.')];return _0x15f88c?[]:null;};for(const _0x85756c in _0x5c80be){const _0x1c8b47=_0x5c80be[_0x85756c];if(!_0x1c8b47||!_0x1c8b47[_0xe2b546(0x233)])continue;if(_0x1ecb13[_0xe2b546(0x258)](_0x2dc54c=>_0x85756c[_0xe2b546(0x29b)](_0x2dc54c)))continue;const _0x67b995=_0x1c8b47[_0xe2b546(0x233)][_0xe2b546(0x2a5)]||'',_0x2121fd=(_0x1c8b47['common'][_0xe2b546(0x1db)]&&typeof _0x1c8b47[_0xe2b546(0x233)][_0xe2b546(0x1db)]===_0xe2b546(0x311)?_0x1c8b47[_0xe2b546(0x233)][_0xe2b546(0x1db)]['de']:_0x1c8b47['common'][_0xe2b546(0x1db)])||'',_0x546f66=_0x2121fd?_0x2121fd['toLowerCase']():'',_0x13a532=_0x85756c['toLowerCase'](),_0x575b3c=_0x327a47(_0x85756c,_0x2819e6),_0x104942=_0x327a47(_0x85756c,_0x5b76fa,!![]);let _0x13ef80=null,_0x1b726d=![];if(_0x104942&&_0x104942['length']>0x0){const _0xd767e3=_0x104942[_0xe2b546(0x29a)](_0x29d6ef=>_0x20f784[_0xe2b546(0x25f)](_0x29d6ef));if(_0xd767e3){_0x1b726d=!![];const _0x4ed071=_0x470e37[_0xd767e3];if(_0x13a532['includes'](_0xe2b546(0x1bd))||_0x13a532[_0xe2b546(0x25f)](_0xe2b546(0x1c7)))_0x13ef80=_0xe2b546(0x1b8);else{if(_0x13a532['includes'](_0xe2b546(0x2b7))||_0x13a532[_0xe2b546(0x25f)](_0xe2b546(0x25a))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x312)))_0x13ef80='Rauchmelder';else{if(_0x13a532[_0xe2b546(0x25f)]('state')||_0x13a532['includes'](_0xe2b546(0x255))||_0x13a532[_0xe2b546(0x25f)]('on'))_0x13ef80='Schalter/Licht';else _0x13ef80=_0x4ed071;}}}}if(!_0x1b726d&&!_0x116981){if(_0x2759d6['some'](_0x25ea1c=>_0x546f66['includes'](_0x25ea1c)||_0x85756c[_0xe2b546(0x1ba)]()['includes'](_0x25ea1c)))continue;}if(!_0x13ef80&&_0x24bf9c){if(_0x67b995[_0xe2b546(0x25f)](_0xe2b546(0x269))||_0x67b995['includes'](_0xe2b546(0x2ac))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x211))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x181)))_0x13ef80=_0xe2b546(0x1b8);}!_0x13ef80&&_0x40704f&&((_0x13a532['includes'](_0xe2b546(0x1cd))||_0x67b995[_0xe2b546(0x25f)](_0xe2b546(0x2d7))||_0x67b995[_0xe2b546(0x25f)](_0xe2b546(0x1f8))||(_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x1f2))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x2ed)))&&!_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x2bf))&&!_0x546f66['includes'](_0xe2b546(0x30b))&&(_0x1c8b47[_0xe2b546(0x233)][_0xe2b546(0x2fd)]==='boolean'||_0x1c8b47[_0xe2b546(0x233)][_0xe2b546(0x2fd)]===_0xe2b546(0x2f1)))&&(_0x13ef80='Fenster/T√ºr'));if(!_0x13ef80&&_0xb28151){if((_0x67b995[_0xe2b546(0x25f)](_0xe2b546(0x2aa))||_0x67b995[_0xe2b546(0x25f)](_0xe2b546(0x2f5))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x277))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x1a1)))&&_0x1c8b47['common'][_0xe2b546(0x1e2)])_0x13ef80=_0xe2b546(0x257);}if(!_0x13ef80&&_0x8bde50){if(_0x67b995[_0xe2b546(0x25f)]('value.temperature')||_0x67b995[_0xe2b546(0x25f)](_0xe2b546(0x2ad))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x2d3)))_0x13ef80=_0xe2b546(0x2d1);}if(_0x13ef80){let _0x4866c8=_0x575b3c||'';if(!_0x4866c8){if(_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x1f3)))_0x4866c8=_0xe2b546(0x190);else{if(_0x546f66['includes'](_0xe2b546(0x2c9)))_0x4866c8=_0xe2b546(0x1e9);else{if(_0x546f66[_0xe2b546(0x25f)]('wohn'))_0x4866c8=_0xe2b546(0x17d);else{if(_0x546f66[_0xe2b546(0x25f)]('schlaf'))_0x4866c8='Schlafzimmer';else{if(_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x18f))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x2a9)))_0x4866c8=_0xe2b546(0x2cb);else{if(_0x546f66['includes'](_0xe2b546(0x1ce)))_0x4866c8='Garten';}}}}}}let _0x31ce45=![];_0x13ef80===_0xe2b546(0x213)&&((_0x546f66['includes'](_0xe2b546(0x2c7))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x2fa))||_0x546f66[_0xe2b546(0x25f)](_0xe2b546(0x184))||_0x4866c8&&_0x4866c8[_0xe2b546(0x2ff)]()[_0xe2b546(0x25f)](_0xe2b546(0x18f))&&_0x546f66[_0xe2b546(0x25f)]('t√ºr'))&&(_0x31ce45=!![]));let _0x159bf9=0x0;if(_0x1b726d)_0x159bf9+=0x1e;else{if(_0x575b3c)_0x159bf9+=0x14;else{if(_0x4866c8)_0x159bf9+=0xa;}}if(_0x31ce45)_0x159bf9+=0x5;_0x2af4bc[_0xe2b546(0x315)]({'id':_0x85756c,'name':_0x2121fd||_0x85756c,'type':_0x13ef80,'location':_0x4866c8,'logDuplicates':_0x13ef80===_0xe2b546(0x1b8),'isExit':_0x31ce45,'_score':_0x159bf9});}}return _0x2af4bc[_0xe2b546(0x19c)]((_0x3ab574,_0x159c1f)=>_0x159c1f[_0xe2b546(0x284)]-_0x3ab574['_score']),_0x2af4bc;}async[a0_0x5ce56e(0x22e)](){const _0x267d09=a0_0x5ce56e;if(!this[_0x267d09(0x1ab)]||!this[_0x267d09(0x2f7)])return;const _0x4b9870=this[_0x267d09(0x274)][_0x267d09(0x1a8)]||0xe;if(this[_0x267d09(0x19a)][_0x267d09(0x21b)]<_0x4b9870+(this[_0x267d09(0x274)][_0x267d09(0x198)]||0x7)){await this[_0x267d09(0x28e)](LTM_DP_DRIFT_STATUS,{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x4c829a=this['dailyDigests']['slice'](-_0x4b9870),_0x5aa1ba=this[_0x267d09(0x19a)][_0x267d09(0x1b5)](0x0,this['dailyDigests']['length']-_0x4b9870),_0x136b84='ROLLE:\x20Data\x20Scientist.\x20VERGLEICHE:\x20Dataset\x20A\x20(Recent)\x20vs\x20B\x20(Established).\x20ZIEL:\x20Erkenne\x20Drift.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aB\x20(LTB):\x0a'+JSON[_0x267d09(0x222)](_0x5aa1ba)+'\x0a\x0aA\x20(STB):\x0a'+JSON[_0x267d09(0x222)](_0x4c829a);try{const _0x4e335a=await this[_0x267d09(0x2f7)][_0x267d09(0x31f)](_0x136b84),_0x322212=JSON[_0x267d09(0x1d4)](_0x4e335a[_0x267d09(0x1af)][_0x267d09(0x1e1)]()[_0x267d09(0x1d8)](/```json|```/g,'')['trim']());_0x322212[_0x267d09(0x19d)]&&(await this[_0x267d09(0x28e)](LTM_DP_DRIFT_STATUS,{'val':_0x322212[_0x267d09(0x19d)],'ack':!![]}),await this[_0x267d09(0x28e)](LTM_DP_DRIFT_DETAILS,{'val':_0x322212[_0x267d09(0x298)],'ack':!![]}),await this['setStateAsync'](LTM_DP_DRIFT_LAST_CHECK,{'val':Date['now'](),'ack':!![]}));}catch(_0x1dc988){}}async[a0_0x5ce56e(0x27f)](){const _0xb0abc7=a0_0x5ce56e;try{const _0x4a86f5=this[_0xb0abc7(0x274)][_0xb0abc7(0x29f)]||[];let _0x54f18c=![];for(const _0x364eaf of _0x4a86f5){try{const _0x2a0552=await this[_0xb0abc7(0x177)](_0x364eaf);if(_0x2a0552&&(_0x2a0552[_0xb0abc7(0x293)]===!![]||_0x2a0552[_0xb0abc7(0x293)]==='online'||_0x2a0552[_0xb0abc7(0x293)]===0x1)){_0x54f18c=!![];break;}}catch(_0x539e0d){}}return _0x54f18c&&(this[_0xb0abc7(0x1e6)]&&(this[_0xb0abc7(0x1c6)][_0xb0abc7(0x1c4)](_0xb0abc7(0x235)),this[_0xb0abc7(0x1e3)]()),!this[_0xb0abc7(0x302)]&&this[_0xb0abc7(0x24b)]===SYSTEM_MODES[_0xb0abc7(0x1cf)]&&this['setPresence'](!![])),_0x54f18c;}catch(_0x3e2f6f){return this['log'][_0xb0abc7(0x2e3)]('Error\x20checking\x20WiFi:\x20'+_0x3e2f6f['message']),![];}}async[a0_0x5ce56e(0x1d1)](_0x354c2e,_0x53ad8d=![],_0x1fe5c4=![]){const _0x21aef4=a0_0x5ce56e;this[_0x21aef4(0x1c6)][_0x21aef4(0x1c4)]((_0x53ad8d?_0x21aef4(0x28f):'')+'Sending\x20notification:\x20\x22'+_0x354c2e+'\x22'+(_0x1fe5c4?_0x21aef4(0x21f):''));const _0x1ba0da=this[_0x21aef4(0x274)];let _0x27f932=0x0;_0x1ba0da[_0x21aef4(0x1d5)]&&_0x1ba0da[_0x21aef4(0x215)]&&(await this[_0x21aef4(0x1c9)](_0x1ba0da['notifyTelegramInstance'],'send',{'text':_0x354c2e,'user':_0x1ba0da[_0x21aef4(0x1a6)]}),_0x27f932++);if(_0x1ba0da[_0x21aef4(0x1eb)]&&_0x1ba0da[_0x21aef4(0x1d3)]){let _0x47a8f3={'message':_0x354c2e,'title':_0x1fe5c4?_0x21aef4(0x319):_0x21aef4(0x2c2),'priority':_0x1fe5c4?0x2:0x1,'device':_0x1ba0da[_0x21aef4(0x1c1)]};_0x1fe5c4&&(_0x47a8f3[_0x21aef4(0x227)]=0x1e,_0x47a8f3[_0x21aef4(0x2c8)]=0xe10,_0x47a8f3['sound']='siren'),await this[_0x21aef4(0x1c9)](_0x1ba0da['notifyPushoverInstance'],_0x21aef4(0x296),_0x47a8f3),_0x27f932++;}return _0x1ba0da['notifyEmailEnabled']&&_0x1ba0da[_0x21aef4(0x236)]&&(await this[_0x21aef4(0x1c9)](_0x1ba0da[_0x21aef4(0x236)],'send',{'text':_0x354c2e,'to':_0x1ba0da['notifyEmailRecipient']}),_0x27f932++),_0x1ba0da[_0x21aef4(0x243)]&&_0x1ba0da[_0x21aef4(0x1b6)]&&(await this['sendToAsync'](_0x1ba0da[_0x21aef4(0x1b6)],_0x21aef4(0x296),{'text':_0x354c2e,'phone':_0x1ba0da[_0x21aef4(0x2ce)]}),_0x27f932++),_0x1ba0da['notifySignalEnabled']&&_0x1ba0da['notifySignalInstance']&&(await this['sendToAsync'](_0x1ba0da[_0x21aef4(0x309)],_0x21aef4(0x296),{'text':_0x354c2e,'phone':_0x1ba0da[_0x21aef4(0x2a4)]}),_0x27f932++),_0x27f932;}async['startExitTimer'](){const _0x43fa2a=a0_0x5ce56e;this['abortExitTimer'](),this[_0x43fa2a(0x2df)]=!![],this[_0x43fa2a(0x2db)]=setTimeout(()=>{const _0x4c7c70=_0x43fa2a;this[_0x4c7c70(0x2df)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this[_0x43fa2a(0x1e6)]=setTimeout(()=>{const _0x24ad8b=_0x43fa2a;this[_0x24ad8b(0x2fc)](![]),this['exitTimer']=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}async[a0_0x5ce56e(0x1e3)](){const _0x3abdef=a0_0x5ce56e;if(this[_0x3abdef(0x1e6)])clearTimeout(this[_0x3abdef(0x1e6)]);if(this[_0x3abdef(0x2db)])clearTimeout(this[_0x3abdef(0x2db)]);this[_0x3abdef(0x1e6)]=null,this[_0x3abdef(0x2db)]=null,this[_0x3abdef(0x2df)]=![];}async['setPresence'](_0x1a8008){const _0x3c4a26=a0_0x5ce56e;if(this[_0x3c4a26(0x302)]===_0x1a8008)return;this[_0x3c4a26(0x302)]=_0x1a8008,await this['setStateAsync'](_0x3c4a26(0x23f),{'val':_0x1a8008,'ack':!![]});}async['resetAnalysisStates'](){const _0xc073a6=a0_0x5ce56e;await this['setStateAsync'](_0xc073a6(0x1fd),{'val':'No\x20recent\x20activity.','ack':!![]}),await this[_0xc073a6(0x28e)](_0xc073a6(0x228),{'val':this[_0xc073a6(0x1ab)]?_0xc073a6(0x272):_0xc073a6(0x223),'ack':!![]}),await this[_0xc073a6(0x28e)]('analysis.isAlert',{'val':![],'ack':!![]}),await this[_0xc073a6(0x28e)]('analysis.isEmergency',{'val':![],'ack':!![]}),this[_0xc073a6(0x2af)]=![];}}if(require[a0_0x5ce56e(0x1ea)]!==module)module[a0_0x5ce56e(0x2dc)]=_0x3bb659=>new CogniLiving(_0x3bb659);else new CogniLiving();