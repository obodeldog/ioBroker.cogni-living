function a0_0x4a5f(){const _0x306eca=['getSystemUUID','scheduleJob','position','toLowerCase','slice','cogni-living','notifyPushoverEnabled','notifyEmailRecipient','info.','summary','2417912jpdDKN','namespace','livingContext','analysis.comfortSuggestion','Gemini\x20AI\x20initialized.','analysis.automation.suggestedAction','sound','currentposition','Aktiv\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20','temp','send','2-digit','system.mode','driftDetails','Phase\x201:\x20Learning\x20(No\x20Baseline).\x20Rely\x20on\x20common\x20sense.','systemConfig','Badezimmer','startExitTimer','filter','ready','now','config','role','config_pending','update','checkSystemObjects','flur','Gemini\x20Init\x20Error:\x20','rawEventLog','icons-mfd.','analysis.isAlert','Activity\x20Summary','PRO-','exitGraceTimer','getForeignObjectsAsync','analysis.feedbackHistory','dutycycle','motion','LTM.triggerDailyDigest','system.isPresent','callback','licenseKey','initSensorSubscriptions','WETTER:\x20Keine\x20Daten\x20gefunden','door','cancel','.\x20PERSONA:\x20','saveDailyDigests','connection','parse','Starting\x20Autopilot\x20(','517980cLivmr','Gast','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setupLtmScheduler','Health\x20Notes','presenceDevices','brightness','Last\x20Check','(((.+)+)+)+$','GUEST','isPresent','schlaf','lights','selectedFunctionIds','cogni-living\x20adapter\x20starting\x20(v','LTM','TEST-PRO-KEY','Last\x20raw\x20event','Normal','No\x20recorded\x20events\x20yet.','@google/generative-ai','includes','direction','analysis.automation','Schlafzimmer','vis.','setObjectNotExistsAsync','button','notifyPushoverInstance','openweathermap','time','0\x204\x20*\x20*\x20*','humidity','getLtmData','scanDevices','blind','getCalendarNames','energy','Raw\x20Log','analysis.health.sleepScore','AI\x20Alert\x20Status','Action','Trigger\x20Digest','material.','Phase\x202:\x20ACUTE\x20MONITORING.\x20STB\x20(Last\x2014d):\x20','join','tryParse','onReady','pr√§senz','minDaysForBaseline','N/A','getWeatherContext','\x20min).','activity','isArray','wohn','exports','split','\x0aSTB:\x20','response','some','analysis.health.notes','LTM.driftAnalysis.baselineDrift','system.config','ltmStbWindowDays','Description','Processing\x20Status','normal','LTM.driftAnalysis','status','val','LTM\x20Sched\x20Error:\x20','ltmJob','instance','analysis.deviationFromBaseline','loadRawEventLog','stringify','931518wPJLrN','lastAlertState','endsWith','11402336VvHcpO','setPresence','isEmergency','actual_temperature','replace','ack','value.health','analysisTimer','channel','currentSystemMode','feedbackHistory','set_temperature','analysisInterval','scriptProblem','getCalendarContext','analysis.isEmergency','enum.functions.*','runBaselineDriftAnalysis','415827IrFUcU','name','onStateChange','lock','main','trim','889922YhatzO','LTM.rawEventLog','indicator','reachable','doors','sendTo','number','uuid-error','notifyEmailEnabled','testApiKey','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','LTM.processingStatus','triggerBriefing','N/A\x20(Learning)','AI\x20Emergency\x20Status','setupModeResetScheduler','LTM.driftAnalysis.driftDetails','map','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22isEmergency\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20},\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number\x20(0-100),\x20\x22restlessness\x22:\x20\x22none|low|medium|high\x22,\x20\x22notes\x22:\x20\x22string\x22\x20}\x20}','checkWifiPresence','json','1SZVwjG','onUnload','Drift\x20Status','location','toISOString','onMessage','sendNotification','write','\x20presence\x20devices...','licht','PRIORIT√ÑT:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungew√∂hnliche\x20Anwesenheit.','bewegung','initSystemConfig','system.meta.uuid','dailyDigests','presence','message','fenster','initZombies','analysis.trigger','subscribeStates','Wohnzimmer','analysis.automation.patternDetected','notifyTelegramEnabled',')\x20verd√§chtig\x20still?\x20Erwartest\x20du\x20basierend\x20auf\x20der\x20Tageszeit\x20Aktivit√§t\x20(z.B.\x20Morgens\x20Aufstehen)?\x20Wenn\x20ja\x20->\x20ALARM.\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20Akut\x20(vs.\x20STB):\x20Weicht\x20das\x20heutige\x20Verhalten\x20stark\x20von\x20den\x20letzten\x2014\x20Tagen\x20ab?\x20(z.B.\x205x\x20Toilette\x20statt\x203x).\x20Wenn\x20ja\x20->\x20WARNUNG.\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20Schleichend\x20(Drift):\x20(Nur\x20relevant\x20wenn\x20Phase\x203\x20aktiv)\x20Gibt\x20es\x20einen\x20langsamen\x20Trend\x20ins\x20Negative?\x0a\x20\x20\x20\x20\x20\x20\x20\x20Ignoriere\x20Fehlalarme\x20durch\x20Kontext:\x20','getOverviewData','lastCheck','0\x203\x20*\x20*\x20*','\x20sensors...','devices','getForeignStateAsync','loadDailyDigests','light','20kxqBaY','Flur','briefingTime','scanForDevices','Restlessness\x20Level','pop','Wetter:\x20Deaktiviert','setupDriftAnalysisScheduler','schalter','genAI','sendToAsync','driftAnalysisTimer','toString','isProVersion','baselineDrift','stateChange','toLocaleString','weatherunderground.0','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT:\x20','_calName','warn','104VsAuVi','flot.','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','processSensorEvent','\x20Tage)','log','isAlert','exitTimer','loadSystemMode','type','power','constructor','subscribeForeignStatesAsync','working','sendMorningBriefing','search','node-schedule','5BkcbdK','error','analysis.triggerBriefing','Deaktiviert\x20(Pro-Feature)','string','KALENDER:\x20Keine\x20Kalender\x20ausgew√§hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)','08:00','updateBaselineStatus','retry','events.history','vacation','analysis.activitySummary','push','getStateAsync','getEnums','t√ºr','briefingJob','de-DE','_score','Error\x20reading\x20calendar\x20table:\x20','weather','uuid','heizung','Baseline\x20Status','eventHistory','dimmer','setState','occupancy','value','Drift\x20Details','valve','inactivityThresholdHours','PRIORIT√ÑT:\x20Gesundheit\x20und\x20Sicherheit\x20f√ºr\x20Senioren\x20(AAL).\x20Erkenne\x20Inaktivit√§t,\x20potenzielle\x20St√ºrze\x20(indirekt),\x20Schlafunterbrechungen\x20und\x20n√§chtliche\x20Unruhe.','shutter','No\x20instance','maintenance','system.','analysis.alertReason','Nein','Comfort\x20Suggestion','history.','bind','sort','firmware','party','getForeignObjectAsync','object','Event\x20History','targetposition','Last\x20Result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','level','unreach','Sleep\x20Score\x20(0-100)','info','sensorLastValues','systemUUID','state','weatherInstance','admin.','abortExitTimer','useWeather','Sending\x20notification:\x20\x22','ltmLtbWindowDays','analysis.analysisHistory','splice','ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20','native','runAutopilot','temperature','apply','Health\x20&\x20Sleep\x20Analysis','city','setpoint','saveFeedback','isGracePeriodActive','logDuplicates','KALENDER:\x20','geminiApiKey','javascript.','Drift\x20Analysis','date','checkLtmDriftObjects','from','.NextHours.Location_1.Day_1.current.symbol_desc','lowbat','updateAnalysisHistory','version','values','generateContent','models/gemini-flash-latest','guest','Briefing\x20Sched\x20Error:\x20','setStateAsync','uuid-not-found','startsWith','NORMAL','analysisHistory','geminiModel','alertReason','common','getGenerativeModel','[TEST]\x20','lampe','notifyTelegramInstance','analysis.health.restlessness','Cogni-Living','text.alarm','analysis.lastResult','text','k√ºche','switch','members','length','Scheduling\x20Morning\x20Briefing\x20for\x20','Error\x20checking\x20WiFi:\x20','indicator.alarm.fire','PARTY','boolean','VACATION','analysis.automation.description','expire','.\x20PR√ÑSENZ:\x20','daswetter','createAllObjects','330798uIOtNQ','getCalendarNames\x20Error:\x20','Trigger\x20Briefing\x20(Test)','testNotification','rollladen','Deviation','cover','@iobroker/adapter-core','triggerDailyDigest','bad','forEach','command','System\x20Mode','Reset\x20Sched\x20Error:\x20','Subscribing\x20to\x20','KALENDER:\x20Keine\x20Daten','accuweather','extendObjectAsync','Trigger\x20Analysis','generic','events.lastEvent','lastIndexOf','ltmDriftCheckIntervalHours','runGeminiAnalysis','.forecast.current.state','checkLicense','custom','find','isExit','initPresenceSubscriptions','indicator.alarm','saveRawEventLog','modeResetJob','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','stick_unreach','createDailyDigest','details'];a0_0x4a5f=function(){return _0x306eca;};return a0_0x4a5f();}const a0_0xea6a2=a0_0x3538;(function(_0x4a3990,_0x4f701a){const _0x43123d=a0_0x3538,_0x1b5817=_0x4a3990();while(!![]){try{const _0x301958=-parseInt(_0x43123d(0x13c))/0x1*(parseInt(_0x43123d(0x2cb))/0x2)+parseInt(_0x43123d(0x200))/0x3+-parseInt(_0x43123d(0x263))/0x4*(parseInt(_0x43123d(0x183))/0x5)+-parseInt(_0x43123d(0x2b0))/0x6+-parseInt(_0x43123d(0x22f))/0x7+-parseInt(_0x43123d(0x172))/0x8*(parseInt(_0x43123d(0x2c5))/0x9)+-parseInt(_0x43123d(0x15d))/0xa*(-parseInt(_0x43123d(0x2b3))/0xb);if(_0x301958===_0x4f701a)break;else _0x1b5817['push'](_0x1b5817['shift']());}catch(_0x1a78e1){_0x1b5817['push'](_0x1b5817['shift']());}}}(a0_0x4a5f,0x7bf06));const a0_0x2ebd3e=(function(){let _0xdb975b=!![];return function(_0x795af4,_0x1fe35a){const _0x5ab36d=_0xdb975b?function(){const _0x32bf1b=a0_0x3538;if(_0x1fe35a){const _0x1657f7=_0x1fe35a[_0x32bf1b(0x1c9)](_0x795af4,arguments);return _0x1fe35a=null,_0x1657f7;}}:function(){};return _0xdb975b=![],_0x5ab36d;};}()),a0_0x345096=a0_0x2ebd3e(this,function(){const _0x27bd12=a0_0x3538;return a0_0x345096['toString']()[_0x27bd12(0x181)](_0x27bd12(0x26b))['toString']()[_0x27bd12(0x17d)](a0_0x345096)[_0x27bd12(0x181)](_0x27bd12(0x26b));});a0_0x345096();function a0_0x3538(_0x36600d,_0x4408fc){const _0x163967=a0_0x4a5f();return a0_0x3538=function(_0x345096,_0x2ebd3e){_0x345096=_0x345096-0x129;let _0x4a5fb6=_0x163967[_0x345096];return _0x4a5fb6;},a0_0x3538(_0x36600d,_0x4408fc);}'use strict';const utils=require(a0_0xea6a2(0x207)),{GoogleGenerativeAI}=require(a0_0xea6a2(0x277)),schedule=require(a0_0xea6a2(0x182)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0xea6a2(0x1dd),LTM_SCHEDULE=a0_0xea6a2(0x157),MODE_RESET_SCHEDULE=a0_0xea6a2(0x282),ANALYSIS_HISTORY_MAX_SIZE=0x64,LTM_DP_RAW_LOG=a0_0xea6a2(0x2cc),LTM_DP_DAILY_DIGESTS='LTM.dailyDigests',LTM_DP_STATUS=a0_0xea6a2(0x132),LTM_DP_TRIGGER_DIGEST=a0_0xea6a2(0x256),LTM_DP_BASELINE_STATUS='LTM.baselineStatus',LTM_DP_DRIFT_CHANNEL=a0_0xea6a2(0x2a7),LTM_DP_DRIFT_STATUS=a0_0xea6a2(0x2a1),LTM_DP_DRIFT_DETAILS=a0_0xea6a2(0x137),LTM_DP_DRIFT_LAST_CHECK='LTM.driftAnalysis.lastCheck',SYSTEM_DP_MODE='system.mode',HARD_IGNORE_TERMS=[a0_0xea6a2(0x2c0),'scriptEnabled',a0_0xea6a2(0x248),a0_0xea6a2(0x1b7),a0_0xea6a2(0x1d8),'rssi',a0_0xea6a2(0x260),a0_0xea6a2(0x1a6),a0_0xea6a2(0x184),'fault',a0_0xea6a2(0x17f),a0_0xea6a2(0x279),a0_0xea6a2(0x222),a0_0xea6a2(0x247),a0_0xea6a2(0x254),a0_0xea6a2(0x1ae),a0_0xea6a2(0x12a),'link_quality'],BAD_NAMES=[a0_0xea6a2(0x1b3),a0_0xea6a2(0x236),a0_0xea6a2(0x1bc),a0_0xea6a2(0x1b6),a0_0xea6a2(0x19f),a0_0xea6a2(0x269),'on','off',a0_0xea6a2(0x1f2),a0_0xea6a2(0x227),a0_0xea6a2(0x1a4),a0_0xea6a2(0x286),a0_0xea6a2(0x206),a0_0xea6a2(0x2a8),'motion',a0_0xea6a2(0x14b),a0_0xea6a2(0x19e),a0_0xea6a2(0x1c8),a0_0xea6a2(0x283),a0_0xea6a2(0x17c),a0_0xea6a2(0x288),a0_0xea6a2(0x1cc),a0_0xea6a2(0x1a1),a0_0xea6a2(0x2b6),a0_0xea6a2(0x2be)],ADAPTER_BLACKLIST=[a0_0xea6a2(0x1a7),a0_0xea6a2(0x1be),a0_0xea6a2(0x22d),a0_0xea6a2(0x27c),a0_0xea6a2(0x1ab),a0_0xea6a2(0x28e),a0_0xea6a2(0x24d),a0_0xea6a2(0x173),'echarts.',a0_0xea6a2(0x1d2),'simple-api.'],SYSTEM_MODES={'NORMAL':a0_0xea6a2(0x2a6),'VACATION':a0_0xea6a2(0x18d),'PARTY':a0_0xea6a2(0x1af),'GUEST':a0_0xea6a2(0x1de)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0xea6a2(0x1f8)],SYSTEM_MODES[a0_0xea6a2(0x26c)]],PERSONA_MAPPING={'generic':'Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','senior_aal':a0_0xea6a2(0x1a3),'family':'Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','single_comfort':a0_0xea6a2(0x131),'security':a0_0xea6a2(0x146)};class CogniLiving extends utils['Adapter']{constructor(_0x15d8df){const _0x197cf8=a0_0xea6a2;super({..._0x15d8df,'name':_0x197cf8(0x22a)}),this[_0x197cf8(0x19b)]=[],this['analysisHistory']=[],this[_0x197cf8(0x2bd)]=[],this[_0x197cf8(0x24c)]=[],this['dailyDigests']=[],this[_0x197cf8(0x1ba)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x197cf8(0x26d)]=!![],this[_0x197cf8(0x179)]=null,this[_0x197cf8(0x251)]=null,this['isGracePeriodActive']=![],this[_0x197cf8(0x166)]=null,this['geminiModel']=null,this[_0x197cf8(0x2bc)]=SYSTEM_MODES[_0x197cf8(0x1e3)],this['isProVersion']=![],this[_0x197cf8(0x2b1)]=![],this[_0x197cf8(0x1bb)]='unknown',this[_0x197cf8(0x2ba)]=null,this[_0x197cf8(0x2ab)]=null,this[_0x197cf8(0x220)]=null,this[_0x197cf8(0x168)]=null,this[_0x197cf8(0x193)]=null,this['on'](_0x197cf8(0x243),this[_0x197cf8(0x292)]['bind'](this)),this['on'](_0x197cf8(0x16c),this[_0x197cf8(0x2c7)][_0x197cf8(0x1ac)](this)),this['on']('unload',this[_0x197cf8(0x13d)][_0x197cf8(0x1ac)](this)),this['on'](_0x197cf8(0x14c),this['onMessage'][_0x197cf8(0x1ac)](this));}async[a0_0xea6a2(0x292)](){const _0x5a235c=a0_0xea6a2;this[_0x5a235c(0x177)][_0x5a235c(0x1b9)](_0x5a235c(0x271)+this[_0x5a235c(0x1da)]+')'),await this[_0x5a235c(0x14e)](),this[_0x5a235c(0x245)][_0x5a235c(0x259)]=this[_0x5a235c(0x245)][_0x5a235c(0x259)]||'';try{this['isProVersion']=await this['checkLicense'](this['config']['licenseKey']);}catch(_0x3cb51c){}if(!this[_0x5a235c(0x245)][_0x5a235c(0x1a2)]||this[_0x5a235c(0x245)]['inactivityThresholdHours']<0.1)this['config'][_0x5a235c(0x1a2)]=0xc;await this['initHistory'](),await this[_0x5a235c(0x148)]();if(this[_0x5a235c(0x245)][_0x5a235c(0x1d1)])try{this[_0x5a235c(0x166)]=new GoogleGenerativeAI(this[_0x5a235c(0x245)][_0x5a235c(0x1d1)]),this['geminiModel']=this[_0x5a235c(0x166)][_0x5a235c(0x1e8)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this['log'][_0x5a235c(0x1b9)](_0x5a235c(0x233));}catch(_0x508ab0){this[_0x5a235c(0x177)][_0x5a235c(0x184)](_0x5a235c(0x24b)+_0x508ab0['message']);}await this[_0x5a235c(0x1ff)](),await this['loadSystemMode'](),await this[_0x5a235c(0x2ae)](),await this[_0x5a235c(0x15b)](),this[_0x5a235c(0x150)](_0x5a235c(0x14f)),this[_0x5a235c(0x150)](LTM_DP_TRIGGER_DIGEST),this['subscribeStates'](_0x5a235c(0x23c)),this[_0x5a235c(0x150)](_0x5a235c(0x185)),await this[_0x5a235c(0x25a)](),await this[_0x5a235c(0x21d)]();if(this[_0x5a235c(0x2ba)])clearInterval(this[_0x5a235c(0x2ba)]);const _0x3e2cdd=this[_0x5a235c(0x245)][_0x5a235c(0x2bf)]||0xf;_0x3e2cdd>0x0&&(this[_0x5a235c(0x177)]['info'](_0x5a235c(0x262)+_0x3e2cdd+_0x5a235c(0x297)),this[_0x5a235c(0x2ba)]=setInterval(()=>{const _0x255ac1=_0x5a235c;this[_0x255ac1(0x1c7)]();},_0x3e2cdd*0x3c*0x3e8)),this[_0x5a235c(0x266)](),this[_0x5a235c(0x136)](),this['setupDriftAnalysisScheduler'](),this['setupBriefingScheduler']();}[a0_0xea6a2(0x13d)](_0x53eee4){const _0x566ea6=a0_0xea6a2;if(this['analysisTimer'])clearInterval(this['analysisTimer']);if(this[_0x566ea6(0x168)])clearInterval(this[_0x566ea6(0x168)]);if(this['ltmJob'])this['ltmJob']['cancel']();if(this[_0x566ea6(0x220)])this['modeResetJob'][_0x566ea6(0x25d)]();if(this[_0x566ea6(0x193)])this['briefingJob'][_0x566ea6(0x25d)]();if(this['exitTimer'])clearTimeout(this[_0x566ea6(0x179)]);if(this['exitGraceTimer'])clearTimeout(this[_0x566ea6(0x251)]);_0x53eee4();}async['onStateChange'](_0x597cfa,_0x5e776e){const _0x19f2d0=a0_0xea6a2;if(!_0x5e776e)return;if(_0x597cfa===this[_0x19f2d0(0x230)]+'.'+SYSTEM_DP_MODE){_0x5e776e[_0x19f2d0(0x2a9)]&&Object[_0x19f2d0(0x1db)](SYSTEM_MODES)[_0x19f2d0(0x278)](_0x5e776e[_0x19f2d0(0x2a9)])&&(this[_0x19f2d0(0x2bc)]=_0x5e776e[_0x19f2d0(0x2a9)],_0x5e776e[_0x19f2d0(0x2a9)]===SYSTEM_MODES[_0x19f2d0(0x1fa)]?await this[_0x19f2d0(0x2b4)](![]):await this['setPresence'](!![]));if(!_0x5e776e[_0x19f2d0(0x2b8)])this[_0x19f2d0(0x19d)](_0x597cfa,{'val':this[_0x19f2d0(0x2bc)],'ack':!![]});return;}if(!_0x5e776e[_0x19f2d0(0x2b8)]){_0x597cfa[_0x19f2d0(0x278)]('analysis.trigger')&&_0x5e776e['val']&&(this[_0x19f2d0(0x19d)](_0x597cfa,{'val':![],'ack':!![]}),this[_0x19f2d0(0x217)]());if(_0x597cfa['includes'](_0x19f2d0(0x208))&&_0x5e776e['val']){this['setState'](_0x597cfa,{'val':![],'ack':!![]});if(this[_0x19f2d0(0x16a)])this[_0x19f2d0(0x223)]();}_0x597cfa[_0x19f2d0(0x278)](_0x19f2d0(0x133))&&_0x5e776e[_0x19f2d0(0x2a9)]&&(this[_0x19f2d0(0x19d)](_0x597cfa,{'val':![],'ack':!![]}),this[_0x19f2d0(0x180)]());return;}if(this[_0x19f2d0(0x245)][_0x19f2d0(0x268)]&&this['config']['presenceDevices'][_0x19f2d0(0x278)](_0x597cfa)){await this['checkWifiPresence']();return;}const _0x1a22a0=(this[_0x19f2d0(0x245)][_0x19f2d0(0x159)]||[])[_0x19f2d0(0x21b)](_0x5a77c6=>_0x5a77c6['id']===_0x597cfa);if(_0x1a22a0)this[_0x19f2d0(0x175)](_0x597cfa,_0x5e776e,_0x1a22a0);}async[a0_0xea6a2(0x141)](_0x58b5db){const _0x468b55=a0_0xea6a2;if(typeof _0x58b5db==='object'&&_0x58b5db['message'])try{if(_0x58b5db[_0x468b55(0x20b)]===_0x468b55(0x130)){}else{if(_0x58b5db['command']===_0x468b55(0x203)){}else{if(_0x58b5db[_0x468b55(0x20b)]===_0x468b55(0x284)){if(!this[_0x468b55(0x16a)])return this['sendTo'](_0x58b5db[_0x468b55(0x1d6)],_0x58b5db[_0x468b55(0x20b)],{'success':![],'isPro':![]},_0x58b5db[_0x468b55(0x258)]);let _0x1ae627={'status':_0x468b55(0x295),'details':'','lastCheck':0x0};try{_0x1ae627[_0x468b55(0x2a8)]=(await this[_0x468b55(0x190)](LTM_DP_DRIFT_STATUS))[_0x468b55(0x2a9)],_0x1ae627[_0x468b55(0x224)]=(await this[_0x468b55(0x190)](LTM_DP_DRIFT_DETAILS))[_0x468b55(0x2a9)],_0x1ae627[_0x468b55(0x156)]=(await this[_0x468b55(0x190)](LTM_DP_DRIFT_LAST_CHECK))['val'];}catch(_0x48dce1){}this[_0x468b55(0x12c)](_0x58b5db[_0x468b55(0x1d6)],_0x58b5db[_0x468b55(0x20b)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x468b55(0x14a)],'driftAnalysis':_0x1ae627,'analysisHistory':this[_0x468b55(0x1e4)]},_0x58b5db[_0x468b55(0x258)]);}else{if(_0x58b5db[_0x468b55(0x20b)]===_0x468b55(0x155)){const _0x12218b=this['dailyDigests']['length'],_0x3f4f22=this['eventHistory']['filter'](_0x386171=>_0x386171['timestamp']>new Date()['setHours'](0x0,0x0,0x0,0x0))[_0x468b55(0x1f4)];let _0x322a38={'status':_0x468b55(0x295)};try{_0x322a38[_0x468b55(0x2a8)]=(await this[_0x468b55(0x190)](LTM_DP_DRIFT_STATUS))[_0x468b55(0x2a9)];}catch(_0x2d8ded){}this[_0x468b55(0x12c)](_0x58b5db['from'],_0x58b5db['command'],{'success':!![],'eventHistory':this[_0x468b55(0x19b)][_0x468b55(0x229)](0x0,0xf),'stats':{'digestCount':_0x12218b,'eventCountToday':_0x3f4f22,'driftStatus':_0x322a38['status'],'isPresent':this[_0x468b55(0x26d)],'minDays':this[_0x468b55(0x245)]['minDaysForBaseline']||0x7,'stbDays':this[_0x468b55(0x245)][_0x468b55(0x2a3)]||0xe,'ltbDays':this[_0x468b55(0x245)]['ltmLtbWindowDays']||0x3c}},_0x58b5db[_0x468b55(0x258)]);}else{if(_0x58b5db[_0x468b55(0x20b)]===_0x468b55(0x191)){}else{if(_0x58b5db[_0x468b55(0x20b)]===_0x468b55(0x285)){}else{if(_0x58b5db[_0x468b55(0x20b)]===_0x468b55(0x287)){const _0x456f29=_0x58b5db['message'][_0x468b55(0x2ac)];if(!_0x456f29)return this[_0x468b55(0x12c)](_0x58b5db[_0x468b55(0x1d6)],_0x58b5db[_0x468b55(0x20b)],{'success':![],'error':_0x468b55(0x1a5)},_0x58b5db[_0x468b55(0x258)]);const _0x17e16a=await this[_0x468b55(0x287)](_0x456f29);this[_0x468b55(0x12c)](_0x58b5db[_0x468b55(0x1d6)],_0x58b5db[_0x468b55(0x20b)],{'success':!![],'names':_0x17e16a},_0x58b5db[_0x468b55(0x258)]);}}}}}}}}catch(_0x495a1f){}}async[a0_0xea6a2(0x175)](_0x31b384,_0x3f417f,_0x4c2eeb){const _0x151fd3=a0_0xea6a2;if(!_0x4c2eeb[_0x151fd3(0x1cf)]&&this[_0x151fd3(0x1ba)][_0x31b384]===_0x3f417f[_0x151fd3(0x2a9)])return;this[_0x151fd3(0x1ba)][_0x31b384]=_0x3f417f[_0x151fd3(0x2a9)];if(this[_0x151fd3(0x1ce)])return;const _0x28e732=await this[_0x151fd3(0x13a)]();if(_0x28e732){if(!this[_0x151fd3(0x26d)])await this[_0x151fd3(0x2b4)](!![]);}else{const _0x50a15d=_0x4c2eeb[_0x151fd3(0x21c)]===!![];if(_0x50a15d)this[_0x151fd3(0x241)]();else{if(this['exitTimer'])this[_0x151fd3(0x1bf)]();if(!this[_0x151fd3(0x26d)]&&this[_0x151fd3(0x2bc)]===SYSTEM_MODES['NORMAL'])await this[_0x151fd3(0x2b4)](!![]);}}const _0x34e2df={'timestamp':_0x3f417f['ts'],'id':_0x31b384,'name':_0x4c2eeb['name'],'value':_0x3f417f[_0x151fd3(0x2a9)],'location':_0x4c2eeb[_0x151fd3(0x13f)],'type':_0x4c2eeb[_0x151fd3(0x17b)]};this[_0x151fd3(0x19b)]['unshift'](_0x34e2df);if(this[_0x151fd3(0x19b)][_0x151fd3(0x1f4)]>HISTORY_MAX_SIZE)this['eventHistory'][_0x151fd3(0x162)]();await this[_0x151fd3(0x1e0)]('events.lastEvent',{'val':JSON[_0x151fd3(0x2af)](_0x34e2df),'ack':!![]}),await this[_0x151fd3(0x1e0)](_0x151fd3(0x18c),{'val':JSON[_0x151fd3(0x2af)](this[_0x151fd3(0x19b)]),'ack':!![]}),this[_0x151fd3(0x24c)][_0x151fd3(0x18f)]({'timestamp':new Date(_0x3f417f['ts'])[_0x151fd3(0x140)](),'sensorName':_0x4c2eeb[_0x151fd3(0x2c6)],'location':_0x4c2eeb['location'],'value':_0x3f417f[_0x151fd3(0x2a9)]}),await this['saveRawEventLog']();}async[a0_0xea6a2(0x217)](_0x43f420=''){const _0x4af846=a0_0xea6a2;if(!this[_0x4af846(0x1e5)])return;const _0x1a648b=this['eventHistory'][_0x4af846(0x1f4)]>0x0?this['eventHistory']:[{'note':_0x4af846(0x276)}],_0x4dbecc=PERSONA_MAPPING[this[_0x4af846(0x245)]['aiPersona']||_0x4af846(0x213)],_0x4977f1=this['config'][_0x4af846(0x231)]||'',_0x309ea5=this['currentSystemMode'],_0xcf7bf7=await this[_0x4af846(0x296)](),_0x2623fc=await this['getCalendarContext'](),_0xa4c278=(_0xcf7bf7+'\x20'+_0x2623fc)[_0x4af846(0x2ca)](),_0x138f5e=new Date(),_0x517052=_0x138f5e[_0x4af846(0x16d)](_0x4af846(0x194),{'weekday':'long','hour':'2-digit','minute':_0x4af846(0x23b)});let _0xc5ba4b=_0x4af846(0x23e);const _0x4c2cb8=this[_0x4af846(0x14a)][_0x4af846(0x1f4)];if(this[_0x4af846(0x16a)]&&_0x4c2cb8>=(this[_0x4af846(0x245)][_0x4af846(0x294)]||0x7)){const _0x3f0ca2=this['dailyDigests'][_0x4af846(0x229)](-(this[_0x4af846(0x245)][_0x4af846(0x2a3)]||0xe));_0xc5ba4b=_0x4af846(0x28f)+JSON[_0x4af846(0x2af)](_0x3f0ca2)+'.';if(_0x4c2cb8>=0x1e)_0xc5ba4b+='\x20Phase\x203:\x20DRIFT\x20ACTIVE.\x20Compare\x20recent\x20events\x20against\x20long-term\x20patterns.';}const _0x41b379='\x0a\x20\x20\x20\x20\x20\x20\x20\x20CRITICAL\x20SAFETY\x20CHECK:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20Sofort/Ad-Hoc:\x20Ist\x20es\x20jetzt\x20('+_0x517052+_0x4af846(0x154)+_0xa4c278+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2ec4ab=_0x4af846(0x1c5)+_0x517052+'.\x20MODUS:\x20'+_0x309ea5+_0x4af846(0x1fd)+(this[_0x4af846(0x26d)]?'Ja':_0x4af846(0x1a9))+_0x4af846(0x16f)+_0x4977f1+_0x4af846(0x25e)+_0x4dbecc+_0x4af846(0x265)+_0xc5ba4b+'\x20'+(_0x43f420?_0x43f420:'')+_0x4af846(0x1b5)+_0x41b379+_0x4af846(0x238)+JSON[_0x4af846(0x2af)](_0x1a648b)+_0x4af846(0x139);try{const _0x130bf8=await this[_0x4af846(0x1e5)][_0x4af846(0x1dc)](_0x2ec4ab),_0x5c3fda=_0x130bf8['response'][_0x4af846(0x1f0)]()[_0x4af846(0x2b7)](/```json|```/g,'')['trim'](),_0x4b9617=JSON['parse'](_0x5c3fda);await this['setStateAsync'](_0x4af846(0x1ef),{'val':_0x5c3fda,'ack':!![]}),await this['setStateAsync'](_0x4af846(0x1a8),{'val':_0x4b9617[_0x4af846(0x298)][_0x4af846(0x1e6)]||'','ack':!![]}),await this[_0x4af846(0x1e0)](_0x4af846(0x18e),{'val':_0x4b9617[_0x4af846(0x298)][_0x4af846(0x22e)]||_0x4af846(0x295),'ack':!![]});if(_0x4b9617[_0x4af846(0x298)][_0x4af846(0x178)]||_0x4b9617[_0x4af846(0x298)]['isEmergency']){await this[_0x4af846(0x1e0)]('analysis.isAlert',{'val':!![],'ack':!![]});if(!this['lastAlertState']||_0x4b9617['activity'][_0x4af846(0x2b5)]){const _0x39687d=_0x4b9617[_0x4af846(0x298)]['isEmergency']?'üö®üö®\x20NOTFALL':'‚ö†Ô∏è\x20Alarm';this['sendNotification'](_0x39687d+':\x20'+_0x4b9617[_0x4af846(0x298)][_0x4af846(0x1e6)],![],_0x4b9617[_0x4af846(0x298)]['isEmergency']);}}else await this[_0x4af846(0x1e0)](_0x4af846(0x24e),{'val':![],'ack':!![]});this[_0x4af846(0x2b1)]=_0x4b9617['activity'][_0x4af846(0x178)]||_0x4b9617[_0x4af846(0x298)][_0x4af846(0x2b5)];const _0x15a411={'timestamp':Date[_0x4af846(0x244)](),'id':Date[_0x4af846(0x244)]()['toString'](),'analysis':_0x4b9617,'systemMode':_0x309ea5,'isPro':this[_0x4af846(0x16a)]};this[_0x4af846(0x1d9)](_0x15a411);}catch(_0x44bd6d){this['log'][_0x4af846(0x184)]('Analysis\x20Error:\x20'+_0x44bd6d[_0x4af846(0x14c)]);}}async[a0_0xea6a2(0x1c7)](){}async[a0_0xea6a2(0x223)](){}async['sendMorningBriefing'](){}async[a0_0xea6a2(0x160)](_0x12f1e3){const _0x25d36a=a0_0xea6a2;this[_0x25d36a(0x177)][_0x25d36a(0x1b9)]('Scanning\x20for\x20devices\x20(V7:\x20Basics\x20+\x20Explicit\x20Whitelist)...');const _0xad1634=[],_0x1b38df=await this[_0x25d36a(0x252)]('*'),_0x527d64=await this[_0x25d36a(0x252)](_0x25d36a(0x2c3),'enum'),_0x543b31=await this['getForeignObjectsAsync']('enum.rooms.*','enum'),_0x2b59eb={};if(_0x527d64)for(const _0xd082 in _0x527d64){const _0xf01b3=_0x527d64[_0xd082][_0x25d36a(0x1e7)][_0x25d36a(0x1f3)]||[];_0xf01b3['forEach'](_0x14a4ef=>{const _0x8a2944=_0x25d36a;if(!_0x2b59eb[_0x14a4ef])_0x2b59eb[_0x14a4ef]=[];_0x2b59eb[_0x14a4ef][_0x8a2944(0x18f)](_0xd082);});}const _0x4b54da={};if(_0x543b31)for(const _0x11476f in _0x543b31){const _0xd66a3b=_0x543b31[_0x11476f][_0x25d36a(0x1e7)][_0x25d36a(0x1f3)]||[],_0x512f7c=typeof _0x543b31[_0x11476f][_0x25d36a(0x1e7)][_0x25d36a(0x2c6)]===_0x25d36a(0x1b1)?_0x543b31[_0x11476f][_0x25d36a(0x1e7)][_0x25d36a(0x2c6)]['de']:_0x543b31[_0x11476f][_0x25d36a(0x1e7)]['name'];_0xd66a3b[_0x25d36a(0x20a)](_0x525fd6=>_0x4b54da[_0x525fd6]=_0x512f7c);}const _0x1e2b3d=_0x12f1e3[_0x25d36a(0x270)]||[],_0x45b6f2=_0x12f1e3[_0x25d36a(0x255)]!==![],_0x50616d=_0x12f1e3[_0x25d36a(0x12b)]!==![],_0x36847f=_0x12f1e3[_0x25d36a(0x26f)]!==![],_0x4ae744=_0x12f1e3['temperature']===!![],_0x54e171=_0x12f1e3[_0x25d36a(0x197)]===!![];for(const _0x4f7187 in _0x1b38df){const _0xe9ce8e=_0x1b38df[_0x4f7187];if(_0xe9ce8e[_0x25d36a(0x17b)]!==_0x25d36a(0x1bc)||!_0xe9ce8e[_0x25d36a(0x1e7)])continue;if(ADAPTER_BLACKLIST[_0x25d36a(0x29f)](_0x571fee=>_0x4f7187[_0x25d36a(0x1e2)](_0x571fee))&&!_0x54e171)continue;const _0x230b67=(_0xe9ce8e[_0x25d36a(0x1e7)][_0x25d36a(0x246)]||'')[_0x25d36a(0x228)]();let _0x16f8ef=(typeof _0xe9ce8e[_0x25d36a(0x1e7)][_0x25d36a(0x2c6)]===_0x25d36a(0x1b1)?_0xe9ce8e[_0x25d36a(0x1e7)][_0x25d36a(0x2c6)]['de']:_0xe9ce8e['common']['name'])||_0x4f7187;const _0x1885a0=_0x16f8ef[_0x25d36a(0x228)]();let _0x3eb33d=![];if(_0x1e2b3d[_0x25d36a(0x1f4)]>0x0){const _0x5b51e0=_0x2b59eb[_0x4f7187]||[],_0x30a8df=_0x4f7187['split']('.')[_0x25d36a(0x229)](0x0,-0x1)['join']('.'),_0x4b93bc=_0x2b59eb[_0x30a8df]||[],_0x115c32=_0x4f7187[_0x25d36a(0x29c)]('.')['slice'](0x0,-0x2)[_0x25d36a(0x290)]('.'),_0xe5d9b3=_0x2b59eb[_0x115c32]||[];if(_0x5b51e0[_0x25d36a(0x29f)](_0x333770=>_0x1e2b3d[_0x25d36a(0x278)](_0x333770))||_0x4b93bc[_0x25d36a(0x29f)](_0x4b4674=>_0x1e2b3d[_0x25d36a(0x278)](_0x4b4674))||_0xe5d9b3[_0x25d36a(0x29f)](_0x50bfa9=>_0x1e2b3d[_0x25d36a(0x278)](_0x50bfa9)))_0x3eb33d=!![];}if(!_0x3eb33d&&!_0x54e171){if(HARD_IGNORE_TERMS[_0x25d36a(0x29f)](_0x33261a=>_0x4f7187['includes'](_0x33261a)||_0x1885a0['includes'](_0x33261a[_0x25d36a(0x228)]())))continue;}if(BAD_NAMES[_0x25d36a(0x29f)](_0x331e5f=>_0x1885a0===_0x331e5f||_0x1885a0[_0x25d36a(0x2b2)]('.'+_0x331e5f))){const _0x5b6564=_0x4f7187[_0x25d36a(0x29c)]('.');if(_0x5b6564[_0x25d36a(0x1f4)]>0x2){const _0x393e1d=_0x5b6564['slice'](0x0,-0x1)['join']('.'),_0x29c136=_0x1b38df[_0x393e1d];if(_0x29c136&&_0x29c136[_0x25d36a(0x1e7)]&&_0x29c136[_0x25d36a(0x1e7)]['name']){const _0x21beae=typeof _0x29c136['common']['name']==='object'?_0x29c136['common'][_0x25d36a(0x2c6)]['de']:_0x29c136[_0x25d36a(0x1e7)]['name'];_0x21beae&&!_0x16f8ef[_0x25d36a(0x278)](_0x21beae)&&(_0x16f8ef=_0x21beae+'\x20'+_0x16f8ef);}}}let _0x1ab81e='';if(_0x45b6f2&&(_0x230b67[_0x25d36a(0x278)](_0x25d36a(0x255))||_0x230b67['includes']('occupancy')||_0x1885a0['includes'](_0x25d36a(0x147))||_0x1885a0[_0x25d36a(0x278)](_0x25d36a(0x293))))_0x1ab81e=_0x25d36a(0x255);else{if(!_0x1ab81e&&_0x50616d&&(_0x230b67[_0x25d36a(0x278)](_0x25d36a(0x25c))||_0x230b67['includes']('window')||_0x230b67['includes'](_0x25d36a(0x2c8))||_0x230b67['includes']('blind')||_0x230b67[_0x25d36a(0x278)](_0x25d36a(0x1a4))||_0x1885a0[_0x25d36a(0x278)](_0x25d36a(0x14d))||_0x1885a0['includes'](_0x25d36a(0x192))||_0x1885a0[_0x25d36a(0x278)](_0x25d36a(0x204))))_0x1ab81e='door';else{if(!_0x1ab81e&&_0x36847f&&(_0x230b67[_0x25d36a(0x278)](_0x25d36a(0x15c))||_0x230b67[_0x25d36a(0x278)](_0x25d36a(0x1f2))||_0x230b67[_0x25d36a(0x278)](_0x25d36a(0x19c))||_0x1885a0[_0x25d36a(0x278)](_0x25d36a(0x145))||_0x1885a0[_0x25d36a(0x278)](_0x25d36a(0x1ea))||_0x1885a0[_0x25d36a(0x278)](_0x25d36a(0x165)))){if(_0xe9ce8e[_0x25d36a(0x1e7)][_0x25d36a(0x143)]||_0x230b67[_0x25d36a(0x278)]('sensor'))_0x1ab81e='light';}else{if(!_0x1ab81e&&_0x4ae744&&(_0x230b67[_0x25d36a(0x278)](_0x25d36a(0x1c8))||_0x230b67[_0x25d36a(0x278)]('humidity')||_0x230b67['includes']('thermostat')||_0x1885a0[_0x25d36a(0x278)](_0x25d36a(0x239))||_0x1885a0[_0x25d36a(0x278)]('klima')||_0x1885a0[_0x25d36a(0x278)](_0x25d36a(0x199))))_0x1ab81e='temperature';else{if(!_0x1ab81e&&_0x3eb33d)_0x1ab81e=_0x25d36a(0x21a);}}}}if(_0x1ab81e){let _0x457415=_0x4b54da[_0x4f7187]||'';if(!_0x457415){let _0x424847=_0x4f7187;for(let _0xae4b7f=0x0;_0xae4b7f<0x3;_0xae4b7f++){const _0x21a1f4=_0x424847[_0x25d36a(0x215)]('.');if(_0x21a1f4===-0x1)break;_0x424847=_0x424847['substring'](0x0,_0x21a1f4);if(_0x4b54da[_0x424847]){_0x457415=_0x4b54da[_0x424847];break;}}}if(!_0x457415){const _0x36842c=(_0x4f7187+'\x20'+_0x16f8ef)['toLowerCase']();if(_0x36842c[_0x25d36a(0x278)](_0x25d36a(0x209))||_0x36842c['includes']('wc'))_0x457415=_0x25d36a(0x240);else{if(_0x36842c['includes'](_0x25d36a(0x1f1)))_0x457415='K√ºche';else{if(_0x36842c[_0x25d36a(0x278)](_0x25d36a(0x29a)))_0x457415=_0x25d36a(0x151);else{if(_0x36842c['includes'](_0x25d36a(0x26e)))_0x457415=_0x25d36a(0x27b);else{if(_0x36842c[_0x25d36a(0x278)](_0x25d36a(0x24a)))_0x457415=_0x25d36a(0x15e);}}}}}_0xad1634[_0x25d36a(0x18f)]({'id':_0x4f7187,'name':_0x16f8ef,'location':_0x457415,'type':_0x1ab81e,'logDuplicates':_0x1ab81e===_0x25d36a(0x255),'isExit':![],'_score':_0x457415?0x50:_0x1ab81e===_0x25d36a(0x21a)?0x5a:0x28});}}return _0xad1634[_0x25d36a(0x1ad)]((_0x1d680a,_0x469df5)=>_0x469df5[_0x25d36a(0x195)]-_0x1d680a[_0x25d36a(0x195)]),_0xad1634;}[a0_0xea6a2(0x291)](_0x358a1b){const _0x5eeee8=a0_0xea6a2;if(typeof _0x358a1b===_0x5eeee8(0x1b1))return _0x358a1b;try{return JSON[_0x5eeee8(0x261)](_0x358a1b);}catch(_0x59b555){return null;}}async[a0_0xea6a2(0x14e)](){}async['initHistory'](){const _0x5438d8=a0_0xea6a2;try{const _0x23265f=await this[_0x5438d8(0x190)](_0x5438d8(0x18c));_0x23265f&&_0x23265f[_0x5438d8(0x2a9)]&&(this[_0x5438d8(0x19b)]=JSON[_0x5438d8(0x261)](_0x23265f[_0x5438d8(0x2a9)][_0x5438d8(0x169)]()));}catch(_0x3ab4e1){this[_0x5438d8(0x19b)]=[];}try{const _0x3dad59=await this[_0x5438d8(0x190)](_0x5438d8(0x1c3));if(_0x3dad59&&_0x3dad59[_0x5438d8(0x2a9)])this['analysisHistory']=JSON[_0x5438d8(0x261)](_0x3dad59[_0x5438d8(0x2a9)]['toString']());}catch(_0x44da3c){this[_0x5438d8(0x1e4)]=[];}}async['initSystemConfig'](){const _0x50536b=a0_0xea6a2;try{const _0xba1814=await this[_0x50536b(0x1b0)](_0x50536b(0x2a2));_0xba1814&&_0xba1814[_0x50536b(0x1e7)]&&(this[_0x50536b(0x23f)]={'latitude':_0xba1814['common']['latitude']||0x0,'longitude':_0xba1814['common']['longitude']||0x0,'city':_0xba1814[_0x50536b(0x1e7)][_0x50536b(0x1cb)]||''});}catch(_0xe627c){}}async[a0_0xea6a2(0x219)](_0x5ab602){const _0x4d1094=a0_0xea6a2;if(!_0x5ab602)return![];this['systemUUID']=await this[_0x4d1094(0x225)]();if(_0x5ab602===_0x4d1094(0x273)||_0x5ab602[_0x4d1094(0x1e2)](_0x4d1094(0x250)))return!![];return![];}async['getSystemUUID'](){const _0x59f1a3=a0_0xea6a2;try{const _0x46ee79=await this[_0x59f1a3(0x1b0)](_0x59f1a3(0x149));if(_0x46ee79&&_0x46ee79[_0x59f1a3(0x1c6)]&&_0x46ee79['native']['uuid'])return _0x46ee79['native'][_0x59f1a3(0x198)];return _0x59f1a3(0x1e1);}catch(_0x24fb50){return _0x59f1a3(0x12e);}}async[a0_0xea6a2(0x1ff)](){const _0x5579b2=a0_0xea6a2;await this['checkSystemObjects'](),await this[_0x5579b2(0x27d)](_0x5579b2(0x214),{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x274),'type':_0x5579b2(0x187),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x18c),{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x1b2),'type':'string','role':_0x5579b2(0x13b),'read':!![],'write':![]},'native':{}}),await this[_0x5579b2(0x27d)]('analysis.trigger',{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x212),'type':_0x5579b2(0x1f9),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x185),{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x202),'type':_0x5579b2(0x1f9),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.lastResult',{'type':'state','common':{'name':_0x5579b2(0x1b4),'type':_0x5579b2(0x187),'role':_0x5579b2(0x13b),'read':!![],'write':![]},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x24e),{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x28b),'type':_0x5579b2(0x1f9),'role':_0x5579b2(0x21e),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x2c2),{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x135),'type':_0x5579b2(0x1f9),'role':_0x5579b2(0x1f7),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x1a8),{'type':_0x5579b2(0x1bc),'common':{'name':'Alert\x20Reason','type':'string','role':_0x5579b2(0x1ee),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x5579b2(0x18e),{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x24f),'type':_0x5579b2(0x187),'role':_0x5579b2(0x1f0),'read':!![],'write':![]},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x2ad),{'type':'state','common':{'name':_0x5579b2(0x205),'type':'string','role':'state','read':!![],'write':![],'def':'N/A'},'native':{}}),await this[_0x5579b2(0x27d)]('analysis.comfortSummary',{'type':_0x5579b2(0x1bc),'common':{'name':'Comfort\x20Summary','type':_0x5579b2(0x187),'role':_0x5579b2(0x1f0),'read':!![],'write':![]},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x232),{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x1aa),'type':_0x5579b2(0x187),'role':'text','read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](_0x5579b2(0x27a),{'type':_0x5579b2(0x2bb),'common':{'name':'Automation\x20Proposals'},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x152),{'type':_0x5579b2(0x1bc),'common':{'name':'Pattern\x20Detected','type':_0x5579b2(0x1f9),'role':_0x5579b2(0x129),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x1fb),{'type':'state','common':{'name':_0x5579b2(0x2a4),'type':_0x5579b2(0x187),'role':_0x5579b2(0x1f0),'read':!![],'write':![]},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x234),{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x28c),'type':_0x5579b2(0x187),'role':_0x5579b2(0x1f0),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.analysisHistory',{'type':_0x5579b2(0x1bc),'common':{'name':'Logbook','type':_0x5579b2(0x187),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x253),{'type':_0x5579b2(0x1bc),'common':{'name':'Feedback\x20Log','type':_0x5579b2(0x187),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x5579b2(0x211)]('analysis.health',{'type':_0x5579b2(0x2bb),'common':{'name':_0x5579b2(0x1ca)},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x28a),{'type':'state','common':{'name':_0x5579b2(0x1b8),'type':_0x5579b2(0x12d),'role':_0x5579b2(0x2b9),'read':!![],'write':![],'def':0x0},'native':{}}),await this['setObjectNotExistsAsync'](_0x5579b2(0x1ec),{'type':'state','common':{'name':_0x5579b2(0x161),'type':_0x5579b2(0x187),'role':_0x5579b2(0x1f0),'read':!![],'write':![],'def':'none'},'native':{}}),await this[_0x5579b2(0x27d)](_0x5579b2(0x2a0),{'type':_0x5579b2(0x1bc),'common':{'name':_0x5579b2(0x267),'type':_0x5579b2(0x187),'role':_0x5579b2(0x1f0),'read':!![],'write':![],'def':''},'native':{}}),await this['checkLtmObjects'](),await this[_0x5579b2(0x1d5)]();}async[a0_0xea6a2(0x249)](){const _0x160c5c=a0_0xea6a2;await this[_0x160c5c(0x211)]('system',{'type':'channel','common':{'name':'System\x20Status\x20&\x20Control'},'native':{}}),await this[_0x160c5c(0x211)](SYSTEM_DP_MODE,{'type':'state','common':{'name':_0x160c5c(0x20c),'type':_0x160c5c(0x187),'role':_0x160c5c(0x1bc),'read':!![],'write':!![],'def':SYSTEM_MODES['NORMAL'],'states':{[SYSTEM_MODES[_0x160c5c(0x1e3)]]:_0x160c5c(0x275),[SYSTEM_MODES['VACATION']]:'Urlaub',[SYSTEM_MODES[_0x160c5c(0x1f8)]]:'Party',[SYSTEM_MODES['GUEST']]:_0x160c5c(0x264)}},'native':{}});}async['checkLtmObjects'](){const _0xcafc7b=a0_0xea6a2;await this[_0xcafc7b(0x211)]('LTM',{'type':_0xcafc7b(0x2bb),'common':{'name':_0xcafc7b(0x272)},'native':{}}),await this[_0xcafc7b(0x211)](LTM_DP_RAW_LOG,{'type':_0xcafc7b(0x1bc),'common':{'name':_0xcafc7b(0x289),'type':_0xcafc7b(0x187),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0xcafc7b(0x211)](LTM_DP_DAILY_DIGESTS,{'type':_0xcafc7b(0x1bc),'common':{'name':'Daily\x20Digests','type':_0xcafc7b(0x187),'role':_0xcafc7b(0x13b),'read':!![],'write':![]},'native':{}}),await this[_0xcafc7b(0x211)](LTM_DP_STATUS,{'type':_0xcafc7b(0x1bc),'common':{'name':_0xcafc7b(0x2a5),'type':_0xcafc7b(0x187),'role':_0xcafc7b(0x1f0),'read':!![],'write':![]},'native':{}}),await this[_0xcafc7b(0x211)](LTM_DP_TRIGGER_DIGEST,{'type':_0xcafc7b(0x1bc),'common':{'name':_0xcafc7b(0x28d),'type':_0xcafc7b(0x1f9),'role':_0xcafc7b(0x27e),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0xcafc7b(0x211)](LTM_DP_BASELINE_STATUS,{'type':_0xcafc7b(0x1bc),'common':{'name':_0xcafc7b(0x19a),'type':'string','role':_0xcafc7b(0x1f0),'read':!![],'write':![]},'native':{}});}async[a0_0xea6a2(0x1d5)](){const _0xa55e4a=a0_0xea6a2;await this[_0xa55e4a(0x211)](LTM_DP_DRIFT_CHANNEL,{'type':_0xa55e4a(0x2bb),'common':{'name':_0xa55e4a(0x1d3)},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_STATUS,{'type':_0xa55e4a(0x1bc),'common':{'name':_0xa55e4a(0x13e),'type':_0xa55e4a(0x187),'role':_0xa55e4a(0x1bc),'read':!![],'write':![],'def':_0xa55e4a(0x295)},'native':{}}),await this[_0xa55e4a(0x211)](LTM_DP_DRIFT_DETAILS,{'type':_0xa55e4a(0x1bc),'common':{'name':_0xa55e4a(0x1a0),'type':_0xa55e4a(0x187),'role':_0xa55e4a(0x1f0),'read':!![],'write':![]},'native':{}}),await this[_0xa55e4a(0x211)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0xa55e4a(0x1bc),'common':{'name':_0xa55e4a(0x26a),'type':_0xa55e4a(0x12d),'role':'date','read':!![],'write':![]},'native':{}});}async[a0_0xea6a2(0x17a)](){const _0x1405bf=a0_0xea6a2;try{const _0x1c8372=await this[_0x1405bf(0x190)](SYSTEM_DP_MODE);_0x1c8372&&_0x1c8372[_0x1405bf(0x2a9)]&&Object[_0x1405bf(0x1db)](SYSTEM_MODES)['includes'](_0x1c8372[_0x1405bf(0x2a9)])?this[_0x1405bf(0x2bc)]=_0x1c8372[_0x1405bf(0x2a9)]:(this[_0x1405bf(0x2bc)]=SYSTEM_MODES[_0x1405bf(0x1e3)],await this[_0x1405bf(0x1e0)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x1405bf(0x1e3)],'ack':!![]}));}catch(_0x371791){this[_0x1405bf(0x2bc)]=SYSTEM_MODES[_0x1405bf(0x1e3)];}}async[a0_0xea6a2(0x2ae)](){const _0x547d3a=a0_0xea6a2;try{const _0x517190=await this[_0x547d3a(0x190)](LTM_DP_RAW_LOG);if(_0x517190&&_0x517190[_0x547d3a(0x2a9)])this['rawEventLog']=JSON[_0x547d3a(0x261)](_0x517190['val']);}catch(_0x1bc334){this['rawEventLog']=[];}}async[a0_0xea6a2(0x15b)](){const _0x411ec8=a0_0xea6a2;try{const _0x34724c=await this[_0x411ec8(0x190)](LTM_DP_DAILY_DIGESTS);if(_0x34724c&&_0x34724c[_0x411ec8(0x2a9)])this[_0x411ec8(0x14a)]=JSON[_0x411ec8(0x261)](_0x34724c[_0x411ec8(0x2a9)]);}catch(_0x5ebb53){this[_0x411ec8(0x14a)]=[];}await this[_0x411ec8(0x18a)]();}async[a0_0xea6a2(0x21f)](){const _0x33a74a=a0_0xea6a2;this[_0x33a74a(0x24c)][_0x33a74a(0x1f4)]>RAW_LOG_MAX_SIZE&&this[_0x33a74a(0x24c)][_0x33a74a(0x1c4)](0x0,this[_0x33a74a(0x24c)][_0x33a74a(0x1f4)]-RAW_LOG_MAX_SIZE),await this[_0x33a74a(0x1e0)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](this['rawEventLog']),'ack':!![]});}async[a0_0xea6a2(0x25f)](_0x2cd09e=!![]){const _0x21eef2=a0_0xea6a2,_0x589f2c=this['config'][_0x21eef2(0x1c2)]||0x3c;this[_0x21eef2(0x14a)][_0x21eef2(0x1f4)]>_0x589f2c&&this['dailyDigests'][_0x21eef2(0x1c4)](0x0,this[_0x21eef2(0x14a)][_0x21eef2(0x1f4)]-_0x589f2c);await this['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](this[_0x21eef2(0x14a)]),'ack':!![]});if(_0x2cd09e)await this[_0x21eef2(0x18a)]();}async['updateAnalysisHistory'](_0x1adf9b){const _0x3b32fe=a0_0xea6a2;this['analysisHistory']['unshift'](_0x1adf9b);if(this[_0x3b32fe(0x1e4)][_0x3b32fe(0x1f4)]>ANALYSIS_HISTORY_MAX_SIZE)this[_0x3b32fe(0x1e4)][_0x3b32fe(0x162)]();await this[_0x3b32fe(0x1e0)]('analysis.analysisHistory',{'val':JSON[_0x3b32fe(0x2af)](this['analysisHistory']),'ack':!![]});}async[a0_0xea6a2(0x18a)](){const _0x13c495=a0_0xea6a2;if(!this[_0x13c495(0x16a)]){await this[_0x13c495(0x1e0)](LTM_DP_BASELINE_STATUS,{'val':_0x13c495(0x186),'ack':!![]});return;}const _0x53a76b=this[_0x13c495(0x14a)]['length']>=(this['config'][_0x13c495(0x294)]||0x7)?_0x13c495(0x237)+this[_0x13c495(0x14a)][_0x13c495(0x1f4)]+_0x13c495(0x176):'Lernphase\x20('+this[_0x13c495(0x14a)]['length']+'/'+(this['config'][_0x13c495(0x294)]||0x7)+')';await this[_0x13c495(0x1e0)](LTM_DP_BASELINE_STATUS,{'val':_0x53a76b,'ack':!![]});}async['initSensorSubscriptions'](){const _0x51fb89=a0_0xea6a2,_0x49b280=this[_0x51fb89(0x245)]['devices'];if(_0x49b280&&_0x49b280['length']>0x0){this['log'][_0x51fb89(0x1b9)](_0x51fb89(0x20e)+_0x49b280['length']+_0x51fb89(0x158));for(const _0x398015 of _0x49b280){if(_0x398015['id']){await this[_0x51fb89(0x17e)](_0x398015['id']);try{const _0x4f0741=await this[_0x51fb89(0x15a)](_0x398015['id']);if(_0x4f0741)this[_0x51fb89(0x1ba)][_0x398015['id']]=_0x4f0741['val'];}catch(_0x53fae1){}}}}}async[a0_0xea6a2(0x21d)](){const _0x30834e=a0_0xea6a2,_0x66e250=this[_0x30834e(0x245)]['presenceDevices']||[];if(_0x66e250[_0x30834e(0x1f4)]>0x0){this['log'][_0x30834e(0x1b9)](_0x30834e(0x20e)+_0x66e250[_0x30834e(0x1f4)]+_0x30834e(0x144));for(const _0x1e58e6 of _0x66e250){await this[_0x30834e(0x17e)](_0x1e58e6);}try{await this['checkWifiPresence']();}catch(_0x3f6e72){}}}async['getWeatherContext'](){const _0x1568a9=a0_0xea6a2;try{if(!this[_0x1568a9(0x245)][_0x1568a9(0x1c0)])return _0x1568a9(0x163);let _0x5e8c42='';const _0x2648b4=this['config'][_0x1568a9(0x1bd)];if(_0x2648b4)try{if(_0x2648b4[_0x1568a9(0x278)](_0x1568a9(0x210))){const _0x3645da=await this[_0x1568a9(0x15a)](_0x2648b4+'.Summary.Current');if(_0x3645da&&_0x3645da[_0x1568a9(0x2a9)])_0x5e8c42=_0x3645da[_0x1568a9(0x2a9)];}else{if(_0x2648b4[_0x1568a9(0x278)](_0x1568a9(0x1fe))){const _0x5082c0=await this[_0x1568a9(0x15a)](_0x2648b4+_0x1568a9(0x1d7));if(_0x5082c0&&_0x5082c0['val'])_0x5e8c42=_0x5082c0[_0x1568a9(0x2a9)];}else{if(_0x2648b4[_0x1568a9(0x278)](_0x1568a9(0x280))){const _0x5ef163=await this[_0x1568a9(0x15a)](_0x2648b4+_0x1568a9(0x218));if(_0x5ef163&&_0x5ef163['val'])_0x5e8c42=_0x5ef163[_0x1568a9(0x2a9)];}}}}catch(_0x9e1d10){}if(!_0x5e8c42){const _0x2151d0=['accuweather.0','daswetter.0',_0x1568a9(0x16e),'openweathermap.0'];for(const _0x181843 of _0x2151d0){try{const _0x236ae0=await this['getForeignObjectAsync'](_0x181843);if(_0x236ae0){if(_0x181843['includes']('accuweather')){const _0x5f1326=await this[_0x1568a9(0x15a)](_0x181843+'.Summary.Current');if(_0x5f1326&&_0x5f1326['val']){_0x5e8c42=_0x5f1326[_0x1568a9(0x2a9)];break;}}}}catch(_0x1b45cc){}}}return _0x5e8c42?'WETTER:\x20'+_0x5e8c42:_0x1568a9(0x25b);}catch(_0x2f337c){return'WETTER\x20ERROR:\x20'+_0x2f337c[_0x1568a9(0x14c)];}}async[a0_0xea6a2(0x2c1)](){const _0x2c9d7b=a0_0xea6a2;try{if(!this[_0x2c9d7b(0x245)]['useCalendar'])return'Kalender:\x20Deaktiviert';let _0x525bd5=this[_0x2c9d7b(0x245)]['calendarInstance']||'ical.0',_0x31661c=this['config']['calendarSelection']||[];if(typeof _0x31661c===_0x2c9d7b(0x187))_0x31661c=_0x31661c[_0x2c9d7b(0x29c)](',');try{const _0x27c96e=await this[_0x2c9d7b(0x15a)](_0x525bd5+'.data.table');if(_0x27c96e&&_0x27c96e[_0x2c9d7b(0x2a9)]){let _0x216fb9=this['tryParse'](_0x27c96e[_0x2c9d7b(0x2a9)]);if(_0x216fb9&&Array[_0x2c9d7b(0x299)](_0x216fb9)){if(_0x31661c[_0x2c9d7b(0x1f4)]>0x0)_0x216fb9=_0x216fb9[_0x2c9d7b(0x242)](_0x1d5de1=>_0x31661c[_0x2c9d7b(0x278)](_0x1d5de1[_0x2c9d7b(0x170)]||''));else return _0x2c9d7b(0x188);if(_0x216fb9[_0x2c9d7b(0x1f4)]>0x0){const _0xf7125d=_0x216fb9[_0x2c9d7b(0x229)](0x0,0x3)[_0x2c9d7b(0x138)](_0x464145=>{const _0x38a7ec=_0x2c9d7b;let _0xc392ec=_0x464145[_0x38a7ec(0x1d4)];if(_0x464145[_0x38a7ec(0x281)])_0xc392ec+='\x20'+_0x464145[_0x38a7ec(0x281)];return _0xc392ec+':\x20'+_0x464145['event']+'\x20('+_0x464145['_calName']+')';});return _0x2c9d7b(0x1d0)+_0xf7125d[_0x2c9d7b(0x290)]('\x20|\x20');}else return'KALENDER:\x20Keine\x20relevanten\x20Termine';}}}catch(_0x1d45c6){this[_0x2c9d7b(0x177)][_0x2c9d7b(0x171)](_0x2c9d7b(0x196)+_0x1d45c6[_0x2c9d7b(0x14c)]);}return _0x2c9d7b(0x20f);}catch(_0x4850d7){return'KALENDER\x20ERROR:\x20'+_0x4850d7[_0x2c9d7b(0x14c)];}}async[a0_0xea6a2(0x287)](_0x2d48b2){const _0x3538a4=a0_0xea6a2;try{const _0x41f7f9=await this[_0x3538a4(0x15a)](_0x2d48b2+'.data.table');if(_0x41f7f9&&_0x41f7f9[_0x3538a4(0x2a9)]){const _0xc56f6e=this[_0x3538a4(0x291)](_0x41f7f9[_0x3538a4(0x2a9)]);if(_0xc56f6e&&Array[_0x3538a4(0x299)](_0xc56f6e)){const _0x1bd86f=[...new Set(_0xc56f6e[_0x3538a4(0x138)](_0x39fb88=>_0x39fb88['_calName'])[_0x3538a4(0x242)](Boolean))];return _0x1bd86f[_0x3538a4(0x1ad)]();}}return[];}catch(_0x1f8ee3){return this[_0x3538a4(0x177)][_0x3538a4(0x184)](_0x3538a4(0x201)+_0x1f8ee3[_0x3538a4(0x14c)]),[];}}async[a0_0xea6a2(0x13a)](){const _0x4d363b=a0_0xea6a2;try{const _0x5e3295=this[_0x4d363b(0x245)][_0x4d363b(0x268)]||[];let _0x460304=![];for(const _0xef0eca of _0x5e3295){try{const _0x48fa32=await this['getForeignStateAsync'](_0xef0eca);if(_0x48fa32&&(_0x48fa32[_0x4d363b(0x2a9)]===!![]||_0x48fa32['val']==='online'||_0x48fa32[_0x4d363b(0x2a9)]===0x1)){_0x460304=!![];break;}}catch(_0x13dcda){}}return _0x460304&&(this['exitTimer']&&(this['log'][_0x4d363b(0x1b9)](_0x4d363b(0x174)),this[_0x4d363b(0x1bf)]()),!this[_0x4d363b(0x26d)]&&this[_0x4d363b(0x2bc)]===SYSTEM_MODES[_0x4d363b(0x1e3)]&&await this[_0x4d363b(0x2b4)](!![])),_0x460304;}catch(_0x2abda0){return this[_0x4d363b(0x177)][_0x4d363b(0x184)](_0x4d363b(0x1f6)+_0x2abda0[_0x4d363b(0x14c)]),![];}}[a0_0xea6a2(0x241)](){const _0x4bd641=a0_0xea6a2;this[_0x4bd641(0x1bf)](),this[_0x4bd641(0x1ce)]=!![],this[_0x4bd641(0x251)]=setTimeout(()=>{const _0x21b8a1=_0x4bd641;this[_0x21b8a1(0x1ce)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this['exitTimer']=setTimeout(()=>{const _0x3239be=_0x4bd641;this[_0x3239be(0x2b4)](![]),this[_0x3239be(0x179)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}[a0_0xea6a2(0x1bf)](){const _0x805ad=a0_0xea6a2;if(this['exitTimer'])clearTimeout(this['exitTimer']);if(this[_0x805ad(0x251)])clearTimeout(this[_0x805ad(0x251)]);this[_0x805ad(0x179)]=null,this[_0x805ad(0x251)]=null,this[_0x805ad(0x1ce)]=![];}async[a0_0xea6a2(0x2b4)](_0x160269){const _0x2eaeb5=a0_0xea6a2;if(this[_0x2eaeb5(0x26d)]===_0x160269)return;this['isPresent']=_0x160269,await this['setStateAsync'](_0x2eaeb5(0x257),{'val':_0x160269,'ack':!![]});}async[a0_0xea6a2(0x1cd)](_0x2eb6bc){const _0x13dfe4=a0_0xea6a2;this[_0x13dfe4(0x177)][_0x13dfe4(0x1b9)]('Feedback\x20saved:\x20'+JSON[_0x13dfe4(0x2af)](_0x2eb6bc));}async['runBaselineDriftAnalysis'](){const _0x39d612=a0_0xea6a2;if(!this[_0x39d612(0x16a)]||!this[_0x39d612(0x1e5)])return;const _0x42e898=this[_0x39d612(0x245)][_0x39d612(0x2a3)]||0xe;if(this['dailyDigests'][_0x39d612(0x1f4)]<_0x42e898+(this[_0x39d612(0x245)][_0x39d612(0x294)]||0x7)){await this[_0x39d612(0x1e0)](LTM_DP_DRIFT_STATUS,{'val':_0x39d612(0x134),'ack':!![]});return;}const _0x519c37=this[_0x39d612(0x14a)]['slice'](-_0x42e898),_0x943e4a=this[_0x39d612(0x14a)][_0x39d612(0x229)](0x0,this[_0x39d612(0x14a)][_0x39d612(0x1f4)]-_0x42e898),_0x5cb7da=_0x39d612(0x221)+JSON[_0x39d612(0x2af)](_0x943e4a)+_0x39d612(0x29d)+JSON[_0x39d612(0x2af)](_0x519c37);try{const _0xb06fb1=await this[_0x39d612(0x1e5)][_0x39d612(0x1dc)](_0x5cb7da),_0x2275cb=JSON[_0x39d612(0x261)](_0xb06fb1[_0x39d612(0x29e)][_0x39d612(0x1f0)]()['replace'](/```json|```/g,'')[_0x39d612(0x2ca)]());_0x2275cb[_0x39d612(0x16b)]&&(await this[_0x39d612(0x1e0)](LTM_DP_DRIFT_STATUS,{'val':_0x2275cb[_0x39d612(0x16b)],'ack':!![]}),await this[_0x39d612(0x1e0)](LTM_DP_DRIFT_DETAILS,{'val':_0x2275cb[_0x39d612(0x23d)],'ack':!![]}),await this[_0x39d612(0x1e0)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x39d612(0x244)](),'ack':!![]}));}catch(_0x22da33){}}[a0_0xea6a2(0x266)](){const _0x27db=a0_0xea6a2;try{if(this['ltmJob'])this['ltmJob'][_0x27db(0x25d)]();if(!this['isProVersion']){this[_0x27db(0x1e0)](LTM_DP_STATUS,{'val':_0x27db(0x186),'ack':!![]});return;}this[_0x27db(0x2ab)]=schedule['scheduleJob'](LTM_SCHEDULE,()=>this[_0x27db(0x223)]());}catch(_0x516b98){this[_0x27db(0x177)]['error'](_0x27db(0x2aa)+_0x516b98['message']);}}[a0_0xea6a2(0x136)](){const _0x21498e=a0_0xea6a2;try{if(this[_0x21498e(0x220)])this[_0x21498e(0x220)]['cancel']();this['modeResetJob']=schedule[_0x21498e(0x226)](MODE_RESET_SCHEDULE,async()=>{const _0x3cb1b7=_0x21498e;await this[_0x3cb1b7(0x17a)](),AUTO_RESET_MODES[_0x3cb1b7(0x278)](this[_0x3cb1b7(0x2bc)])&&await this['setStateAsync'](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x3cb1b7(0x1e3)],'ack':![]});});}catch(_0x1a8fe4){this[_0x21498e(0x177)][_0x21498e(0x184)](_0x21498e(0x20d)+_0x1a8fe4[_0x21498e(0x14c)]);}}[a0_0xea6a2(0x164)](){const _0x30f90b=a0_0xea6a2;try{if(this['driftAnalysisTimer'])clearInterval(this[_0x30f90b(0x168)]);if(!this[_0x30f90b(0x16a)])return;this[_0x30f90b(0x168)]=setInterval(()=>this[_0x30f90b(0x2c4)](),(this[_0x30f90b(0x245)][_0x30f90b(0x216)]||0x18)*0x36ee80),setTimeout(()=>this[_0x30f90b(0x2c4)](),0x1388);}catch(_0x2242e9){this[_0x30f90b(0x177)][_0x30f90b(0x184)]('Drift\x20Sched\x20Error:\x20'+_0x2242e9[_0x30f90b(0x14c)]);}}['setupBriefingScheduler'](){const _0x50d8b3=a0_0xea6a2;try{if(this[_0x50d8b3(0x193)])this[_0x50d8b3(0x193)]['cancel']();if(!this['config']['briefingEnabled'])return;const _0x1d4765=(this[_0x50d8b3(0x245)][_0x50d8b3(0x15f)]||_0x50d8b3(0x189))[_0x50d8b3(0x29c)](':'),_0x7a8fca=parseInt(_0x1d4765[0x0])||0x8,_0x470243=parseInt(_0x1d4765[0x1])||0x0,_0x57043c=_0x470243+'\x20'+_0x7a8fca+'\x20*\x20*\x20*';this[_0x50d8b3(0x177)][_0x50d8b3(0x1b9)](_0x50d8b3(0x1f5)+_0x7a8fca+':'+(_0x470243<0xa?'0'+_0x470243:_0x470243)),this[_0x50d8b3(0x193)]=schedule['scheduleJob'](_0x57043c,()=>{const _0x2a14e3=_0x50d8b3;this[_0x2a14e3(0x180)]();});}catch(_0x2592df){this['log'][_0x50d8b3(0x184)](_0x50d8b3(0x1df)+_0x2592df[_0x50d8b3(0x14c)]);}}async[a0_0xea6a2(0x142)](_0x2f65bf,_0x510aeb=![],_0x495075=![]){const _0x299bea=a0_0xea6a2;this[_0x299bea(0x177)][_0x299bea(0x1b9)]((_0x510aeb?_0x299bea(0x1e9):'')+_0x299bea(0x1c1)+_0x2f65bf+'\x22');const _0x3435b3=this['config'];let _0x5871b5=0x0;_0x3435b3[_0x299bea(0x153)]&&(await this[_0x299bea(0x167)](_0x3435b3[_0x299bea(0x1eb)],'send',{'text':_0x2f65bf,'user':_0x3435b3['notifyTelegramRecipient']}),_0x5871b5++);if(_0x3435b3[_0x299bea(0x22b)]){let _0x27b570={'message':_0x2f65bf,'title':_0x495075?'üö®\x20EMERGENCY':_0x299bea(0x1ed),'priority':_0x495075?0x2:0x1,'device':_0x3435b3['notifyPushoverRecipient']};_0x495075&&(_0x27b570[_0x299bea(0x18b)]=0x1e,_0x27b570[_0x299bea(0x1fc)]=0xe10,_0x27b570[_0x299bea(0x235)]='siren'),await this[_0x299bea(0x167)](_0x3435b3[_0x299bea(0x27f)],_0x299bea(0x23a),_0x27b570),_0x5871b5++;}return _0x3435b3[_0x299bea(0x12f)]&&(await this['sendToAsync'](_0x3435b3['notifyEmailInstance'],_0x299bea(0x23a),{'text':_0x2f65bf,'to':_0x3435b3[_0x299bea(0x22c)]}),_0x5871b5++),_0x5871b5;}}if(require[a0_0xea6a2(0x2c9)]!==module)module[a0_0xea6a2(0x29b)]=_0x35325f=>new CogniLiving(_0x35325f);else new CogniLiving();