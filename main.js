const a0_0x20c7a4=a0_0x7fa8;(function(_0x42b64c,_0x61684){const _0x42cb80=a0_0x7fa8,_0x261acf=_0x42b64c();while(!![]){try{const _0x408a2d=-parseInt(_0x42cb80(0x1f8))/0x1+parseInt(_0x42cb80(0x204))/0x2*(-parseInt(_0x42cb80(0x20f))/0x3)+parseInt(_0x42cb80(0x1fa))/0x4+parseInt(_0x42cb80(0x21a))/0x5*(-parseInt(_0x42cb80(0x1fe))/0x6)+-parseInt(_0x42cb80(0x1f2))/0x7+-parseInt(_0x42cb80(0x234))/0x8+parseInt(_0x42cb80(0x231))/0x9*(parseInt(_0x42cb80(0x221))/0xa);if(_0x408a2d===_0x61684)break;else _0x261acf['push'](_0x261acf['shift']());}catch(_0x2a0309){_0x261acf['push'](_0x261acf['shift']());}}}(a0_0x35c3,0x77310));const a0_0x465202=(function(){let _0x4abfe8=!![];return function(_0x35c3b8,_0x42dcf0){const _0x299303=_0x4abfe8?function(){const _0x334926=a0_0x7fa8;if(_0x42dcf0){const _0x50b99f=_0x42dcf0[_0x334926(0x205)](_0x35c3b8,arguments);return _0x42dcf0=null,_0x50b99f;}}:function(){};return _0x4abfe8=![],_0x299303;};}()),a0_0x1b2e58=a0_0x465202(this,function(){const _0x45eb48=a0_0x7fa8;return a0_0x1b2e58[_0x45eb48(0x21d)]()['search'](_0x45eb48(0x1ef))['toString']()['constructor'](a0_0x1b2e58)[_0x45eb48(0x211)](_0x45eb48(0x1ef));});a0_0x1b2e58();'use strict';const utils=require(a0_0x20c7a4(0x218)),{GoogleGenerativeAI}=require(a0_0x20c7a4(0x202)),installer=require(a0_0x20c7a4(0x225)),scanner=require(a0_0x20c7a4(0x1f4)),schedulers=require('./lib/scheduler'),topology=require(a0_0x20c7a4(0x230)),setup=require(a0_0x20c7a4(0x209)),recorder=require(a0_0x20c7a4(0x206)),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0x20c7a4(0x227)),deadMan=require(a0_0x20c7a4(0x223)),automation=require(a0_0x20c7a4(0x228)),GEMINI_MODEL=a0_0x20c7a4(0x237),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x7fa8(_0x1c0013,_0x55406a){const _0x21cc42=a0_0x35c3();return a0_0x7fa8=function(_0x1b2e58,_0x465202){_0x1b2e58=_0x1b2e58-0x1ee;let _0x35c303=_0x21cc42[_0x1b2e58];return _0x35c303;},a0_0x7fa8(_0x1c0013,_0x55406a);}class CogniLiving extends utils[a0_0x20c7a4(0x22c)]{constructor(_0x487832){const _0x57f516=a0_0x20c7a4;super({..._0x487832,'name':_0x57f516(0x20e)}),this[_0x57f516(0x1f6)]=[],this[_0x57f516(0x238)]=[],this['rawEventLog']=[],this[_0x57f516(0x219)]=[],this['sensorLastValues']={},this[_0x57f516(0x1fd)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x57f516(0x229)]=!![],this[_0x57f516(0x224)]=null,this[_0x57f516(0x1ff)]=![],this[_0x57f516(0x22d)]=![],this['on']('ready',this[_0x57f516(0x21b)][_0x57f516(0x222)](this)),this['on'](_0x57f516(0x1f3),this['onStateChange'][_0x57f516(0x222)](this)),this['on'](_0x57f516(0x208),this[_0x57f516(0x22f)][_0x57f516(0x222)](this)),this['on'](_0x57f516(0x235),this[_0x57f516(0x200)]['bind'](this));}async[a0_0x20c7a4(0x21b)](){const _0x3a5cdb=a0_0x20c7a4;this[_0x3a5cdb(0x214)]['info'](_0x3a5cdb(0x233)),await setup['init'](this),await topology[_0x3a5cdb(0x220)](this),this[_0x3a5cdb(0x213)][_0x3a5cdb(0x1f9)]&&this[_0x3a5cdb(0x213)]['infrasoundSensorId']&&(this[_0x3a5cdb(0x214)][_0x3a5cdb(0x1fc)](_0x3a5cdb(0x210)+this['config']['infrasoundSensorId']),this[_0x3a5cdb(0x21f)](this[_0x3a5cdb(0x213)][_0x3a5cdb(0x207)])),await pythonBridge['start'](this),schedulers[_0x3a5cdb(0x220)](this),this[_0x3a5cdb(0x21e)]();}async[a0_0x20c7a4(0x1f7)](_0x770527,_0x12f04d){const _0x55ec9f=a0_0x20c7a4;if(!_0x12f04d||_0x12f04d['ack'])return;if(this[_0x55ec9f(0x213)]['infrasoundEnabled']&&_0x770527===this[_0x55ec9f(0x213)]['infrasoundSensorId']){this['handleInfrasound'](_0x12f04d[_0x55ec9f(0x1f0)]);return;}topology['isRelevant'](_0x770527)&&(recorder[_0x55ec9f(0x20b)](this,_0x770527,_0x12f04d),automation['checkTriggers'](this,_0x770527,_0x12f04d));}async[a0_0x20c7a4(0x226)](_0x2724eb){const _0xb0d22=a0_0x20c7a4;if(_0x2724eb==null||typeof _0x2724eb!=='number')return;if(this['infrasoundLocked'])return;if(this[_0xb0d22(0x213)]['infrasoundArmingId']){const _0x4f0d00=await this[_0xb0d22(0x20d)](this[_0xb0d22(0x213)][_0xb0d22(0x215)]);if(!_0x4f0d00||!_0x4f0d00[_0xb0d22(0x1f0)])return;}const _0x52adda=this[_0xb0d22(0x213)]['infrasoundThreshold']||0.04;Math['abs'](_0x2724eb)>=_0x52adda&&(this[_0xb0d22(0x214)][_0xb0d22(0x22e)](_0xb0d22(0x212)+_0x2724eb+_0xb0d22(0x1ee)+_0x52adda+')'),await this[_0xb0d22(0x201)](_0xb0d22(0x22a),{'val':!![],'ack':!![]}),this['sendNotification'](_0xb0d22(0x1f5)+_0x2724eb+_0xb0d22(0x216)),this[_0xb0d22(0x22d)]=!![],setTimeout(()=>{const _0x2ec5de=_0xb0d22;this[_0x2ec5de(0x22d)]=![];},0x2710));}[a0_0x20c7a4(0x1f1)](_0x569ed1){const _0x107750=a0_0x20c7a4;this['config'][_0x107750(0x236)]&&this['config'][_0x107750(0x203)]&&this[_0x107750(0x20c)](this[_0x107750(0x213)][_0x107750(0x203)],_0x107750(0x22b),{'message':_0x569ed1,'title':'Nuukanni\x20Security','priority':0x1}),this[_0x107750(0x213)][_0x107750(0x232)]&&this[_0x107750(0x213)][_0x107750(0x20a)]&&this[_0x107750(0x20c)](this[_0x107750(0x213)][_0x107750(0x20a)],'send',{'text':_0x569ed1});}[a0_0x20c7a4(0x200)](_0xe9bcde){const _0x461ce4=a0_0x20c7a4;try{pythonBridge[_0x461ce4(0x217)](),_0xe9bcde();}catch(_0x12fecf){_0xe9bcde();}}[a0_0x20c7a4(0x21e)](){}['saveState'](){}}function a0_0x35c3(){const _0x24a831=['systemConfig','18FIJgAv','exitGrace','onUnload','setStateAsync','@google/generative-ai','notifyPushoverInstance','14CoyotZ','apply','./lib/recorder','infrasoundSensorId','message','./lib/setup','notifyTelegramInstance','logEvent','sendTo','getForeignStateAsync','cogni-living','146553TeBZMl','[Infrasound]\x20Subscribing\x20to\x20sensor:\x20','search','[Infrasound]\x20ALARM\x20TRIGGERED!\x20Value:\x20','config','log','infrasoundArmingId','\x20hPa.\x20Einbruch\x20wahrscheinlich.','stop','@iobroker/adapter-core','dailyDigests','1213985PbsYwn','onReady','parent','toString','loadState','subscribeForeignStates','init','38870abiZSc','bind','./lib/dead_man','exitTimer','./lib/installer','handleInfrasound','./lib/ai_agent','./lib/automation','isPresent','security.alarm_triggered','send','Adapter','infrasoundLocked','warn','onMessage','./lib/topology','7740mpOaHr','notifyTelegramEnabled','Starting\x20cogni-living\x20adapter...','4628848eMOjdL','unload','notifyPushoverEnabled','models/gemini-flash-latest','analysisHistory','\x20hPa\x20(Threshold:\x20','(((.+)+)+)+$','val','sendNotification','6227830xazfLN','stateChange','./lib/scanner','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','eventHistory','onStateChange','347054uJmyXb','infrasoundEnabled','124344pOzFoj','exports','info'];a0_0x35c3=function(){return _0x24a831;};return a0_0x35c3();}module[a0_0x20c7a4(0x21c)]?module[a0_0x20c7a4(0x1fb)]=_0x54ca77=>new CogniLiving(_0x54ca77):new CogniLiving();