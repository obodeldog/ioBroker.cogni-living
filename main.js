const a0_0x4f2776=a0_0x2110;(function(_0x25d7b3,_0x3e24c7){const _0x2ab9f4=a0_0x2110,_0x548991=_0x25d7b3();while(!![]){try{const _0x155c07=-parseInt(_0x2ab9f4(0x251))/0x1*(-parseInt(_0x2ab9f4(0x25f))/0x2)+-parseInt(_0x2ab9f4(0x20b))/0x3*(parseInt(_0x2ab9f4(0x205))/0x4)+parseInt(_0x2ab9f4(0x220))/0x5*(parseInt(_0x2ab9f4(0x1ea))/0x6)+-parseInt(_0x2ab9f4(0x246))/0x7*(parseInt(_0x2ab9f4(0x216))/0x8)+-parseInt(_0x2ab9f4(0x1e7))/0x9*(parseInt(_0x2ab9f4(0x1b6))/0xa)+-parseInt(_0x2ab9f4(0x1a4))/0xb*(parseInt(_0x2ab9f4(0x1d5))/0xc)+parseInt(_0x2ab9f4(0x25e))/0xd*(parseInt(_0x2ab9f4(0x1fb))/0xe);if(_0x155c07===_0x3e24c7)break;else _0x548991['push'](_0x548991['shift']());}catch(_0x395605){_0x548991['push'](_0x548991['shift']());}}}(a0_0x2584,0x9f6d2));const a0_0x29b400=(function(){let _0x588c87=!![];return function(_0x28cc38,_0x12e2c4){const _0x336a96=_0x588c87?function(){const _0x59e421=a0_0x2110;if(_0x12e2c4){const _0x53f978=_0x12e2c4[_0x59e421(0x236)](_0x28cc38,arguments);return _0x12e2c4=null,_0x53f978;}}:function(){};return _0x588c87=![],_0x336a96;};}()),a0_0x3de4ad=a0_0x29b400(this,function(){const _0x11ee58=a0_0x2110;return a0_0x3de4ad[_0x11ee58(0x1b4)]()[_0x11ee58(0x22c)](_0x11ee58(0x1c8))[_0x11ee58(0x1b4)]()[_0x11ee58(0x23d)](a0_0x3de4ad)[_0x11ee58(0x22c)](_0x11ee58(0x1c8));});function a0_0x2110(_0x55df31,_0x5c4e99){const _0x155e08=a0_0x2584();return a0_0x2110=function(_0x3de4ad,_0x29b400){_0x3de4ad=_0x3de4ad-0x16b;let _0x2584ae=_0x155e08[_0x3de4ad];return _0x2584ae;},a0_0x2110(_0x55df31,_0x5c4e99);}a0_0x3de4ad();function a0_0x2584(){const _0x2a5093=['getTime','./lib/automation','genAI','getOutsideTemperatureNumeric','exitGraceTimer','getOverviewData','now','_calName','sunny','minutes_safe','enum','runPythonHealthCheck','some','analysis.energy.ventilationAlerts','keys','floor','Party\x20Mode','sendNotification','Current.WeatherText','onReady','WiFi\x20Presence\x20detected.','isGracePeriodActive','ANALYZE_TREND','setStateAsync','from','analysis.topology.structure','dependencyInstallInProgress','Heizung\x20kann\x20','getMinutes','\x20min\x20ausbleiben.','systemConfig','name','heiter','testContext','command','checkThermostats','updateTopologyMatrix','system.presenceWho','abortExitTimer','party','unload','loadSystemMode','includes','isArray','Standard','.data.table','executeAutomationAction','setupDriftAnalysisScheduler','toLowerCase','calendarName','PINN\x20AI\x20Forecast','dismissAutomation','Sec-Training\x20started...','exitTimer','getForeignObjectAsync','stateChange','analysis.training.triggerSecurity','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','getEnums','Kein\x20API\x20Key\x20Ã¼bergeben','LTM.rawEventLog','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','updateLocation','briefingJob','Guest\x20Mode','OPTIMIZE_ENERGY','Test','ltmJob','modeResetJob','analysis.automation.triggerAction','22LlCXiI','message','Gemini\x20AI\x20initialized.','Verbindung\x20erfolgreich!','getGenerativeModel','subscribeForeignStatesAsync','info','SET_TOPOLOGY','./lib/scanner','checkCalendarTriggers','geminiApiKey','analysis.automation.patternDetected','trackerHeartbeat','location','exports','.system.mode','toString','generateContent','177370yvziDE','{\x22default\x22:\x2021}','analysis.energy.mpcActive','scanThermostats','LTM.dailyDigests','getLtmData','sendMorningBriefing','./lib/dead_man','.communicate.request','Kein\x20Wetter-Adapter','log','accuweather.0','isPresent','./lib/ai_agent','trackerEnabled','createAllObjects','triggerEnergyPrediction','sensorLastValues','(((.+)+)+)+$','createDailyDigest','LTM.trainingData.thermodynamics','ack','object','scores','setState','ready','application/json','analysis.automation.targetValue','json','scanDevices','enum.rooms.*','2302428uBQdka','find','getState','bind','setupBriefingScheduler','TRAIN_COMFORT','geminiModel','automation.triggerAction','namespace','system.mode','driftAnalysisTimer','./lib/topology','Warm-Up\x20Target\x20Temps\x20(JSON)','runAutopilot','analysis.training.triggerHealth','currentSystemMode','response','debug','117OgpjNQ','initZombies','send','1274226GskFrq','analysis.training.triggerTopology','NORMAL','Daten\x20nicht\x20verfÃ¼gbar','isSolar','stringify','string','TRAIN_HEALTH','abs','manual','analysis.energy.warmupTimes','forEach','pop','fill','notifyTelegramEnabled','triggerBriefing','common','322DojSxG','isProVersion','analysis.trigger','system.adapter.','onMessage','apiKey','setPresence','analysis.training.status','analysis.training.triggerEnergy','communicate.request','298668bGANUp','licenseKey','presenceDevices','temperature','getStateAsync','./lib/installer','21spPjIf','dailyDigests','Gemini\x20Init\x20Error:\x20','onStateChange','SYSTEM_DP_MODE','Lernphase\x20(','lastAlertState','state','sonn','checkSolarCondition','triggerGaitAnalysis','1432vQFajM','push','callback','triggerDailyDigest','Gesendet','type','setHours','val','enum.functions.*','startSystem','20iIiIUw','ANALYZE_GAIT','eventHistory','notifyTelegramInstance','@google/generative-ai','error','processSensorEvent','analysis.security.learningStatus','length','parse','analysisHistory','version','search','map','analysis.automation.description','SET_LEARNING_MODE','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','./lib/python_bridge','LTM.trainingData.sequences','endsWith','getForeignStateAsync','klar','apply','Aktiv\x20(','sendTo','checkWifiPresence','onUnload','runGeminiAnalysis','analysis.automation.targetId','constructor','minDaysForBaseline','devices','text','Activity-Level','add','Instanz\x20nicht\x20gefunden','./lib/setup','lastTrackerEventTime','15043hOjznj','timestamp','setObjectNotExistsAsync','getHours','telegram','TRACK_EVENT','Fehler:\x20','analysisTimer','checkLicense','subscribeStates','updated','71Itajrp','Adapter','cancel','config','inactivityThresholdHours','rawEventLog','values','updateHealthVector','Keine\x20Antwort\x20von\x20Gemini','updateTopology','startService','daswetter.0','getForeignObjectsAsync','636532TfBHYZ','5606CXNhjk','analysis.triggerBriefing','instance','activityLevel','VACATION','TRAIN_SECURITY','analysis.energy.pinnForecast','checkAndInstall','simulateEnergyMPC','Active\x20Ventilation\x20Alerts','SYSTEM_MODES'];a0_0x2584=function(){return _0x2a5093;};return a0_0x2584();}'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x4f2776(0x224)),installer=require(a0_0x4f2776(0x20a)),scanner=require(a0_0x4f2776(0x1ac)),schedulers=require('./lib/scheduler'),topology=require(a0_0x4f2776(0x1e0)),setup=require(a0_0x4f2776(0x244)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x4f2776(0x231)),aiAgent=require(a0_0x4f2776(0x1c3)),deadMan=require(a0_0x4f2776(0x1bd)),automation=require(a0_0x4f2776(0x26b)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x4f2776(0x252)]{constructor(_0x3a815a){const _0x12e113=a0_0x4f2776;super({..._0x3a815a,'name':'cogni-living'}),this[_0x12e113(0x222)]=[],this['analysisHistory']=[],this['rawEventLog']=[],this['dailyDigests']=[],this[_0x12e113(0x1c7)]={},this[_0x12e113(0x17c)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x12e113(0x193)]=null,this[_0x12e113(0x26e)]=null,this[_0x12e113(0x173)]=![],this[_0x12e113(0x26c)]=null,this[_0x12e113(0x1db)]=null,this[_0x12e113(0x1e4)]=setup[_0x12e113(0x269)][_0x12e113(0x1ec)],this['isProVersion']=![],this[_0x12e113(0x211)]=![],this[_0x12e113(0x24d)]=null,this['ltmJob']=null,this[_0x12e113(0x1a2)]=null,this[_0x12e113(0x1df)]=null,this['briefingJob']=null,this[_0x12e113(0x178)]=![],this[_0x12e113(0x1b0)]=null,this[_0x12e113(0x245)]=Date[_0x12e113(0x270)](),this['on'](_0x12e113(0x1cf),this['onReady'][_0x12e113(0x1d8)](this)),this['on'](_0x12e113(0x195),this[_0x12e113(0x20e)][_0x12e113(0x1d8)](this)),this['on'](_0x12e113(0x186),this['onUnload'][_0x12e113(0x1d8)](this)),this['on'](_0x12e113(0x1a5),this[_0x12e113(0x1ff)][_0x12e113(0x1d8)](this));}async[a0_0x4f2776(0x171)](){const _0x5ecf51=a0_0x4f2776;this[_0x5ecf51(0x1c0)][_0x5ecf51(0x1aa)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x5ecf51(0x22b)]+')\x20-\x20Phase\x20D\x20(Evolution)');if(!installer[_0x5ecf51(0x266)](this,()=>this['startSystem']()))return;}async[a0_0x4f2776(0x21f)](){const _0x3fe8a6=a0_0x4f2776;await setup[_0x3fe8a6(0x1e8)](this);try{this['isProVersion']=await setup[_0x3fe8a6(0x24e)](this[_0x3fe8a6(0x254)][_0x3fe8a6(0x206)]);}catch(_0x130646){}if(!this[_0x3fe8a6(0x254)][_0x3fe8a6(0x255)]||this[_0x3fe8a6(0x254)][_0x3fe8a6(0x255)]<0.1)this['config'][_0x3fe8a6(0x255)]=0xc;await setup['initHistory'](this),await setup['initSystemConfig'](this);if(this['config']['geminiApiKey'])try{this[_0x3fe8a6(0x26c)]=new GoogleGenerativeAI(this[_0x3fe8a6(0x254)][_0x3fe8a6(0x1ae)]),this[_0x3fe8a6(0x1db)]=this[_0x3fe8a6(0x26c)][_0x3fe8a6(0x1a8)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3fe8a6(0x1d0)}}),this[_0x3fe8a6(0x1c0)][_0x3fe8a6(0x1aa)](_0x3fe8a6(0x1a6));}catch(_0x2f1c43){this[_0x3fe8a6(0x1c0)][_0x3fe8a6(0x225)](_0x3fe8a6(0x20d)+_0x2f1c43[_0x3fe8a6(0x1a5)]);}await setup[_0x3fe8a6(0x1c5)](this),await this[_0x3fe8a6(0x187)](),await this['setObjectNotExistsAsync'](_0x3fe8a6(0x265),{'type':'state','common':{'name':_0x3fe8a6(0x190),'type':_0x3fe8a6(0x1f0),'role':_0x3fe8a6(0x1d2),'read':!![],'write':![]},'native':{}}),await this[_0x3fe8a6(0x248)](_0x3fe8a6(0x16b),{'type':_0x3fe8a6(0x212),'common':{'name':_0x3fe8a6(0x268),'type':_0x3fe8a6(0x1f0),'role':_0x3fe8a6(0x1d2),'read':!![],'write':![]},'native':{}}),await this[_0x3fe8a6(0x248)](_0x3fe8a6(0x1f4),{'type':_0x3fe8a6(0x212),'common':{'name':_0x3fe8a6(0x230),'type':_0x3fe8a6(0x1f0),'role':_0x3fe8a6(0x1d2),'read':!![],'write':![]},'native':{}}),await this[_0x3fe8a6(0x248)]('analysis.energy.warmupTargets',{'type':'state','common':{'name':_0x3fe8a6(0x1e1),'type':_0x3fe8a6(0x1f0),'role':_0x3fe8a6(0x1d2),'read':!![],'write':!![],'def':_0x3fe8a6(0x1b7)},'native':{}});try{const _0x18e99a=await this[_0x3fe8a6(0x209)]('LTM.rawEventLog');if(_0x18e99a&&_0x18e99a[_0x3fe8a6(0x21d)])this[_0x3fe8a6(0x256)]=JSON[_0x3fe8a6(0x229)](_0x18e99a['val']);}catch(_0x270469){this[_0x3fe8a6(0x256)]=[];}try{const _0x4c6ab9=await this[_0x3fe8a6(0x209)](_0x3fe8a6(0x1ba));if(_0x4c6ab9&&_0x4c6ab9[_0x3fe8a6(0x21d)])this[_0x3fe8a6(0x20c)]=JSON[_0x3fe8a6(0x229)](_0x4c6ab9['val']);}catch(_0xfc9aac){this[_0x3fe8a6(0x20c)]=[];}const _0x3bc84a=this['dailyDigests']['length']>=(this[_0x3fe8a6(0x254)]['minDaysForBaseline']||0x7)?_0x3fe8a6(0x237)+this[_0x3fe8a6(0x20c)][_0x3fe8a6(0x228)]+'\x20Tage)':_0x3fe8a6(0x210)+this['dailyDigests'][_0x3fe8a6(0x228)]+'/'+(this['config'][_0x3fe8a6(0x23e)]||0x7)+')';await this['setStateAsync']('LTM.baselineStatus',{'val':_0x3bc84a,'ack':!![]}),this['subscribeStates'](_0x3fe8a6(0x1fd)),this[_0x3fe8a6(0x24f)]('LTM.triggerDailyDigest'),this[_0x3fe8a6(0x24f)](_0x3fe8a6(0x1de)),this[_0x3fe8a6(0x24f)](_0x3fe8a6(0x260)),this[_0x3fe8a6(0x24f)](_0x3fe8a6(0x1a3)),this[_0x3fe8a6(0x24f)]('analysis.automation.autoApply'),this[_0x3fe8a6(0x24f)](_0x3fe8a6(0x196)),this[_0x3fe8a6(0x24f)](_0x3fe8a6(0x1e3)),this[_0x3fe8a6(0x24f)](_0x3fe8a6(0x203)),this[_0x3fe8a6(0x24f)]('analysis.training.triggerComfort'),this[_0x3fe8a6(0x24f)](_0x3fe8a6(0x1eb)),this['subscribeStates'](_0x3fe8a6(0x1b8));const _0x25a0f7=this[_0x3fe8a6(0x254)][_0x3fe8a6(0x23f)];if(_0x25a0f7)for(const _0x4b3a0b of _0x25a0f7){await this[_0x3fe8a6(0x1a9)](_0x4b3a0b['id']);}const _0x520a3d=this['config'][_0x3fe8a6(0x207)];if(_0x520a3d)for(const _0x566e38 of _0x520a3d){await this[_0x3fe8a6(0x1a9)](_0x566e38);}if(this[_0x3fe8a6(0x254)][_0x3fe8a6(0x1f8)]&&this[_0x3fe8a6(0x254)][_0x3fe8a6(0x223)])await this[_0x3fe8a6(0x1a9)](this[_0x3fe8a6(0x254)][_0x3fe8a6(0x223)]+_0x3fe8a6(0x1be));setTimeout(()=>this[_0x3fe8a6(0x239)](),0x1388);if(this[_0x3fe8a6(0x24d)])clearInterval(this['analysisTimer']);const _0xb14b66=this[_0x3fe8a6(0x254)]['analysisInterval']||0xf;_0xb14b66>0x0&&(this[_0x3fe8a6(0x24d)]=setInterval(()=>{const _0x56e6c2=_0x3fe8a6;this[_0x56e6c2(0x1e2)](),automation[_0x56e6c2(0x1ad)](this);},_0xb14b66*0x3c*0x3e8)),setTimeout(()=>automation[_0x3fe8a6(0x1ad)](this),0x2710),this[_0x3fe8a6(0x254)][_0x3fe8a6(0x1c4)]!==![]&&(this[_0x3fe8a6(0x1b0)]=setInterval(()=>{const _0x1038a2=_0x3fe8a6;if(this[_0x1038a2(0x1fc)]){const _0x217de1=Date['now'](),_0x47ccec=this[_0x1038a2(0x245)]||_0x217de1,_0x563d89=(_0x217de1-_0x47ccec)/0x3e8;_0x563d89>0x2&&(this[_0x1038a2(0x245)]=_0x217de1,pythonBridge['send'](this,_0x1038a2(0x24b),{'room':null,'dt':_0x563d89}));}},0xbb8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x3fe8a6(0x1c9)](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x3fe8a6(0x18d)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x3fe8a6(0x1d9)](this,()=>aiAgent[_0x3fe8a6(0x1bc)](this)),pythonBridge[_0x3fe8a6(0x25b)](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x3f2797=_0x3fe8a6;await topology[_0x3f2797(0x25a)](this);try{const _0x4a838a=await this[_0x3f2797(0x209)](_0x3f2797(0x177));if(_0x4a838a&&_0x4a838a[_0x3f2797(0x21d)])pythonBridge[_0x3f2797(0x1e9)](this,_0x3f2797(0x1ab),JSON[_0x3f2797(0x229)](_0x4a838a[_0x3f2797(0x21d)]));}catch(_0x36623c){}this[_0x3f2797(0x275)](),this['triggerGaitAnalysis'](),this[_0x3f2797(0x1c6)](),this[_0x3f2797(0x258)]();},0x1388);}[a0_0x4f2776(0x23a)](_0x126eb8){const _0x247924=a0_0x4f2776;if(this['analysisTimer'])clearInterval(this['analysisTimer']);if(this['driftAnalysisTimer'])clearInterval(this[_0x247924(0x1df)]);if(this[_0x247924(0x1b0)])clearInterval(this['trackerHeartbeat']);if(this[_0x247924(0x1a1)])this['ltmJob'][_0x247924(0x253)]();if(this[_0x247924(0x1a2)])this[_0x247924(0x1a2)][_0x247924(0x253)]();if(this[_0x247924(0x19d)])this['briefingJob'][_0x247924(0x253)]();recorder[_0x247924(0x184)](this),pythonBridge['stopService'](this),_0x126eb8();}async[a0_0x4f2776(0x20e)](_0x34f504,_0x169651){const _0x111b88=a0_0x4f2776;if(!_0x169651||this['dependencyInstallInProgress'])return;if(_0x34f504[_0x111b88(0x188)](_0x111b88(0x24a))&&_0x34f504[_0x111b88(0x233)](_0x111b88(0x204))&&_0x169651['val'])return;if(_0x34f504===this[_0x111b88(0x1dd)]+_0x111b88(0x1b3)){if(_0x169651[_0x111b88(0x21d)]&&Object[_0x111b88(0x257)](setup[_0x111b88(0x269)])[_0x111b88(0x188)](_0x169651[_0x111b88(0x21d)])){this['currentSystemMode']=_0x169651[_0x111b88(0x21d)];if(_0x169651[_0x111b88(0x21d)]===setup[_0x111b88(0x269)][_0x111b88(0x263)])await recorder[_0x111b88(0x201)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x111b88(0x1fc)]){let _0x16a35c=![],_0x1f73ad=0x0,_0x41c603=_0x111b88(0x1f3);if(this[_0x111b88(0x1e4)]===_0x111b88(0x185))_0x16a35c=!![],_0x1f73ad=0x168,_0x41c603=_0x111b88(0x16e);else this[_0x111b88(0x1e4)]==='guest'&&(_0x16a35c=!![],_0x1f73ad=0x5a0,_0x41c603=_0x111b88(0x19e));pythonBridge[_0x111b88(0x1e9)](this,_0x111b88(0x22f),{'active':_0x16a35c,'duration':_0x1f73ad,'label':_0x41c603}),await this[_0x111b88(0x175)](_0x111b88(0x227),{'val':JSON[_0x111b88(0x1ef)]({'active':_0x16a35c,'label':_0x41c603,'timestamp':Date[_0x111b88(0x270)]()}),'ack':!![]});}}if(!_0x169651[_0x111b88(0x1cb)])this['setState'](_0x34f504,{'val':this[_0x111b88(0x1e4)],'ack':!![]});return;}if(!_0x169651[_0x111b88(0x1cb)]){if(_0x34f504[_0x111b88(0x188)](_0x111b88(0x1fd))&&_0x169651[_0x111b88(0x21d)]){this[_0x111b88(0x1ce)](_0x34f504,{'val':![],'ack':!![]}),aiAgent[_0x111b88(0x23b)](this);return;}if(_0x34f504[_0x111b88(0x188)](_0x111b88(0x219))&&_0x169651['val']){this[_0x111b88(0x1ce)](_0x34f504,{'val':![],'ack':!![]});if(this[_0x111b88(0x1fc)])aiAgent[_0x111b88(0x1c9)](this,pythonBridge);return;}if(_0x34f504['includes'](_0x111b88(0x1f9))&&_0x169651[_0x111b88(0x21d)]){this[_0x111b88(0x1ce)](_0x34f504,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0x34f504['includes'](_0x111b88(0x1dc))&&_0x169651[_0x111b88(0x21d)]){this[_0x111b88(0x1ce)](_0x34f504,{'val':![],'ack':!![]}),aiAgent[_0x111b88(0x18c)](this);return;}if(_0x34f504[_0x111b88(0x188)](_0x111b88(0x196))&&_0x169651[_0x111b88(0x21d)]){this[_0x111b88(0x1ce)](_0x34f504,{'val':![],'ack':!![]});if(this[_0x111b88(0x1fc)])try{const _0x1ded41=await this[_0x111b88(0x209)](_0x111b88(0x232));if(_0x1ded41&&_0x1ded41['val']){const _0x2eb95=JSON[_0x111b88(0x229)](_0x1ded41[_0x111b88(0x21d)]);this[_0x111b88(0x175)](_0x111b88(0x202),{'val':_0x111b88(0x192),'ack':!![]}),pythonBridge[_0x111b88(0x1e9)](this,_0x111b88(0x264),{'sequences':_0x2eb95});}}catch(_0x12dec8){}return;}if(_0x34f504[_0x111b88(0x188)]('analysis.training.triggerHealth')&&_0x169651[_0x111b88(0x21d)]){this[_0x111b88(0x1ce)](_0x34f504,{'val':![],'ack':!![]});if(this[_0x111b88(0x1fc)])try{const _0x4185f3=await this[_0x111b88(0x209)]('LTM.dailyDigests');if(_0x4185f3&&_0x4185f3[_0x111b88(0x21d)])pythonBridge[_0x111b88(0x1e9)](this,_0x111b88(0x1f1),{'digests':JSON['parse'](_0x4185f3['val'])});}catch(_0x301fc8){}return;}if(_0x34f504['includes'](_0x111b88(0x203))&&_0x169651['val']){this[_0x111b88(0x1ce)](_0x34f504,{'val':![],'ack':!![]});if(this[_0x111b88(0x1fc)])try{const _0x163e9a=await this[_0x111b88(0x209)](_0x111b88(0x1ca));if(_0x163e9a&&_0x163e9a[_0x111b88(0x21d)])pythonBridge['send'](this,'TRAIN_ENERGY',{'points':JSON[_0x111b88(0x229)](_0x163e9a[_0x111b88(0x21d)])});}catch(_0x3ed6a3){}return;}if(_0x34f504[_0x111b88(0x188)]('analysis.training.triggerComfort')&&_0x169651[_0x111b88(0x21d)]){this[_0x111b88(0x1ce)](_0x34f504,{'val':![],'ack':!![]});if(this[_0x111b88(0x1fc)])try{const _0x2f3e64=await this[_0x111b88(0x209)](_0x111b88(0x19a));if(_0x2f3e64&&_0x2f3e64[_0x111b88(0x21d)])pythonBridge[_0x111b88(0x1e9)](this,_0x111b88(0x1da),{'events':JSON['parse'](_0x2f3e64[_0x111b88(0x21d)])});}catch(_0x2a3d01){}return;}if(_0x34f504[_0x111b88(0x188)](_0x111b88(0x1eb))&&_0x169651[_0x111b88(0x21d)]){this[_0x111b88(0x1ce)](_0x34f504,{'val':![],'ack':!![]}),topology[_0x111b88(0x25a)](this);return;}}if(this[_0x111b88(0x254)][_0x111b88(0x207)]&&this[_0x111b88(0x254)][_0x111b88(0x207)][_0x111b88(0x188)](_0x34f504)){await this['checkWifiPresence']();return;}const _0x32db70=(this['config'][_0x111b88(0x23f)]||[])[_0x111b88(0x1d6)](_0x337b65=>_0x337b65['id']===_0x34f504);if(_0x32db70){const _0x416fb4=await recorder[_0x111b88(0x226)](this,_0x34f504,_0x169651,_0x32db70);_0x416fb4&&_0x416fb4[_0x111b88(0x21b)]==='motion'&&_0x416fb4[_0x111b88(0x1b1)]&&this[_0x111b88(0x1fc)]&&deadMan[_0x111b88(0x19c)](this,_0x416fb4['location']);}}async[a0_0x4f2776(0x1ff)](_0x54aea7){const _0x44f523=a0_0x4f2776;if(typeof _0x54aea7===_0x44f523(0x1cc)&&_0x54aea7['message']){if(_0x54aea7[_0x44f523(0x180)]===_0x44f523(0x181))try{const _0x3a8ced=await automation[_0x44f523(0x1b9)](this);this[_0x44f523(0x238)](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':!![],'results':_0x3a8ced},_0x54aea7[_0x44f523(0x218)]);}catch(_0x18ce23){this['sendTo'](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':![],'error':_0x18ce23['message']},_0x54aea7[_0x44f523(0x218)]);}else{if(_0x54aea7[_0x44f523(0x180)]===_0x44f523(0x267))try{const {current_temps:_0x14f1ea,t_out:_0x90221a,targets:_0x1db220,t_forecast:_0x4ad4ce}=_0x54aea7[_0x44f523(0x1a5)],_0x129a12=[];let _0x1548a5={};try{const _0x5b44fb=await this[_0x44f523(0x209)]('analysis.energy.insulationScore');if(_0x5b44fb&&_0x5b44fb[_0x44f523(0x21d)]){const _0x4bf16b=JSON[_0x44f523(0x229)](_0x5b44fb[_0x44f523(0x21d)]);_0x1548a5=_0x4bf16b[_0x44f523(0x1cd)]||_0x4bf16b;}}catch(_0x5c6669){}const _0x4c60d5=_0x4ad4ce!==undefined&&_0x4ad4ce!==null?(_0x90221a+_0x4ad4ce)/0x2:_0x90221a;for(const [_0x30efb2,_0x5af981]of Object['entries'](_0x14f1ea)){const _0x2376ac=_0x1db220[_0x30efb2]||0x15;if(_0x5af981<=_0x2376ac)continue;let _0x33a1b8=_0x1548a5[_0x30efb2]||-0.5;if(_0x33a1b8>=0x0)_0x33a1b8=-0.5;const _0x164e05=Math[_0x44f523(0x1f2)](_0x33a1b8),_0xcd3df0=_0x5af981-_0x2376ac;let _0x5d05da=Math[_0x44f523(0x16d)](_0xcd3df0/_0x164e05*0x3c);const _0x2baca0=_0x5af981-_0x90221a,_0x5d5ac7=_0x5af981-_0x4c60d5;if(_0x5d5ac7!==0x0&&_0x2baca0!==0x0){const _0x3ec010=_0x2baca0/_0x5d5ac7;_0x5d05da=Math[_0x44f523(0x16d)](_0x5d05da*_0x3ec010);}if(_0x5d05da>0xf){if(_0x5d05da>0xf0)_0x5d05da=0xf0;_0x129a12['push']({'room':_0x30efb2,'minutes_safe':_0x5d05da,'target':_0x2376ac,'current':_0x5af981,'savings_msg':_0x44f523(0x179)+_0x5d05da+_0x44f523(0x17b)});}}_0x129a12['sort']((_0x4cab10,_0x346c2a)=>_0x346c2a[_0x44f523(0x273)]-_0x4cab10[_0x44f523(0x273)]),this[_0x44f523(0x238)](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':!![],'proposals':_0x129a12},_0x54aea7[_0x44f523(0x218)]);}catch(_0x1c1173){this[_0x44f523(0x238)](_0x54aea7[_0x44f523(0x176)],_0x54aea7['command'],{'success':![],'error':_0x1c1173[_0x44f523(0x1a5)]},_0x54aea7[_0x44f523(0x218)]);}else{if(_0x54aea7['command']===_0x44f523(0x191))await this['setStateAsync'](_0x44f523(0x1af),{'val':![],'ack':!![]}),await this[_0x44f523(0x175)](_0x44f523(0x22e),{'val':'','ack':!![]}),await this['setStateAsync']('analysis.automation.targetId',{'val':'','ack':!![]}),this[_0x44f523(0x238)](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':!![]},_0x54aea7[_0x44f523(0x218)]);else{if(_0x54aea7[_0x44f523(0x180)]==='simulateButler'){const {targetId:_0x58f9b2,targetValue:_0x33b17b}=_0x54aea7[_0x44f523(0x1a5)];await this[_0x44f523(0x175)](_0x44f523(0x1af),{'val':!![],'ack':!![]}),await this[_0x44f523(0x175)](_0x44f523(0x22e),{'val':'Simulation\x20durch\x20Admin\x20(Test)','ack':!![]}),await this[_0x44f523(0x175)](_0x44f523(0x23c),{'val':_0x58f9b2,'ack':!![]}),await this[_0x44f523(0x175)](_0x44f523(0x1d1),{'val':String(_0x33b17b),'ack':!![]}),this[_0x44f523(0x238)](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':!![]},_0x54aea7[_0x44f523(0x218)]);}else{if(_0x54aea7['command']==='testApiKey')try{const _0x53df9b=_0x54aea7[_0x44f523(0x1a5)][_0x44f523(0x200)];if(!_0x53df9b)throw new Error(_0x44f523(0x199));const _0xe14024=new GoogleGenerativeAI(_0x53df9b),_0x42aecc=_0xe14024[_0x44f523(0x1a8)]({'model':GEMINI_MODEL}),_0x5e72d3=await _0x42aecc[_0x44f523(0x1b5)](_0x44f523(0x1a0)),_0x416d9f=await _0x5e72d3[_0x44f523(0x1e5)];if(_0x416d9f[_0x44f523(0x240)]())this[_0x44f523(0x238)](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':!![],'message':_0x44f523(0x1a7)},_0x54aea7[_0x44f523(0x218)]);else throw new Error(_0x44f523(0x259));}catch(_0x49683e){this['sendTo'](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':![],'message':_0x49683e['message']},_0x54aea7['callback']);}else{if(_0x54aea7[_0x44f523(0x180)]===_0x44f523(0x1d3))try{const _0x39ed67=await scanner['scanForDevices'](this,_0x54aea7[_0x44f523(0x1a5)]||{});this[_0x44f523(0x238)](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':!![],'devices':_0x39ed67},_0x54aea7[_0x44f523(0x218)]);}catch(_0x2b6ecd){this[_0x44f523(0x238)](_0x54aea7['from'],_0x54aea7[_0x44f523(0x180)],{'success':![],'error':_0x2b6ecd['message']},_0x54aea7['callback']);}else{if(_0x54aea7[_0x44f523(0x180)]===_0x44f523(0x182))try{const {matrix:_0x48ff33}=_0x54aea7[_0x44f523(0x1a5)],_0x21b8d4=await this[_0x44f523(0x209)]('analysis.topology.structure');if(_0x21b8d4&&_0x21b8d4[_0x44f523(0x21d)]){const _0x7627d6=JSON['parse'](_0x21b8d4['val']);_0x7627d6['matrix']=_0x48ff33,_0x7627d6[_0x44f523(0x250)]=Date[_0x44f523(0x270)](),await this[_0x44f523(0x175)](_0x44f523(0x177),{'val':JSON['stringify'](_0x7627d6),'ack':!![]}),pythonBridge[_0x44f523(0x1e9)](this,_0x44f523(0x1ab),_0x7627d6);}this['sendTo'](_0x54aea7['from'],_0x54aea7[_0x44f523(0x180)],{'success':!![]},_0x54aea7[_0x44f523(0x218)]);}catch(_0x559b14){this['log'][_0x44f523(0x225)](_0x559b14);}else{if(_0x54aea7['command']===_0x44f523(0x1bb))this['sendTo'](_0x54aea7['from'],_0x54aea7[_0x44f523(0x180)],{'success':!![],'dailyDigests':this[_0x44f523(0x20c)]||[],'analysisHistory':this[_0x44f523(0x22a)]||[]},_0x54aea7[_0x44f523(0x218)]);else{if(_0x54aea7[_0x44f523(0x180)]===_0x44f523(0x26f)){const _0x103d4a=this[_0x44f523(0x20c)][_0x44f523(0x228)],_0x11c91c=new Array(0x18)[_0x44f523(0x1f7)](0x0),_0x45c1d1=new Date()[_0x44f523(0x21c)](0x0,0x0,0x0,0x0);this[_0x44f523(0x222)]&&this[_0x44f523(0x222)]['forEach'](_0x944751=>{const _0xd427a=_0x44f523;if(_0x944751['timestamp']>=_0x45c1d1){const _0x14970f=new Date(_0x944751[_0xd427a(0x247)])['getHours']();if(_0x14970f>=0x0&&_0x14970f<0x18)_0x11c91c[_0x14970f]++;}});let _0x158884=![],_0xe4eb2c='',_0x1ef209='',_0x5d7847='';try{const _0x2c5963=await this[_0x44f523(0x209)](_0x44f523(0x1af));if(_0x2c5963&&_0x2c5963[_0x44f523(0x21d)]){_0x158884=!![];const _0x534500=await this[_0x44f523(0x209)](_0x44f523(0x22e));_0xe4eb2c=_0x534500?_0x534500[_0x44f523(0x21d)]:'';const _0x18eaab=await this['getStateAsync'](_0x44f523(0x23c));_0x1ef209=_0x18eaab?_0x18eaab['val']:'';const _0x2f28c8=await this[_0x44f523(0x209)](_0x44f523(0x1d1));_0x5d7847=_0x2f28c8?_0x2f28c8['val']:'';}}catch(_0x327172){}const _0x3b51f2=await this[_0x44f523(0x214)](),_0x411328=(this[_0x44f523(0x254)][_0x44f523(0x23f)]||[])[_0x44f523(0x276)](_0x4d55f3=>_0x4d55f3[_0x44f523(0x1ee)]),_0x4a897d=_0x3b51f2&&_0x411328;this['sendTo'](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':!![],'eventHistory':this[_0x44f523(0x222)]['slice'](0x0,0xf),'stats':{'digestCount':_0x103d4a,'isPresent':this[_0x44f523(0x1c2)],'hourlyActivity':_0x11c91c,'solarActive':_0x4a897d},'automation':{'detected':_0x158884,'description':_0xe4eb2c,'targetId':_0x1ef209,'targetValue':_0x5d7847}},_0x54aea7[_0x44f523(0x218)]);}else{if(_0x54aea7[_0x44f523(0x180)]===_0x44f523(0x198)){const _0xfe99d3=await this[_0x44f523(0x25d)](_0x44f523(0x21e),_0x44f523(0x274)),_0x170c07=[];if(_0xfe99d3)for(const _0x1ff736 in _0xfe99d3){const _0x225626=_0xfe99d3[_0x1ff736],_0x5f0d84=(_0x225626['common']&&typeof _0x225626[_0x44f523(0x1fa)][_0x44f523(0x17d)]===_0x44f523(0x1cc)?_0x225626[_0x44f523(0x1fa)][_0x44f523(0x17d)]['de']:_0x225626[_0x44f523(0x1fa)][_0x44f523(0x17d)])||_0x225626['common'][_0x44f523(0x17d)];_0x170c07[_0x44f523(0x217)]({'id':_0x1ff736,'name':_0x5f0d84});}const _0x3ce190=await this[_0x44f523(0x25d)](_0x44f523(0x1d4),_0x44f523(0x274)),_0x33a4e9=[];if(_0x3ce190)for(const _0x5dd8ef in _0x3ce190){const _0xd3a13a=_0x3ce190[_0x5dd8ef],_0x5e31b6=(_0xd3a13a[_0x44f523(0x1fa)]&&typeof _0xd3a13a[_0x44f523(0x1fa)]['name']===_0x44f523(0x1cc)?_0xd3a13a[_0x44f523(0x1fa)][_0x44f523(0x17d)]['de']:_0xd3a13a[_0x44f523(0x1fa)][_0x44f523(0x17d)])||_0x5dd8ef['split']('.')[_0x44f523(0x1f6)]();_0x33a4e9[_0x44f523(0x217)](_0x5e31b6);}this[_0x44f523(0x238)](_0x54aea7[_0x44f523(0x176)],_0x54aea7['command'],{'success':!![],'enums':_0x170c07,'rooms':_0x33a4e9},_0x54aea7[_0x44f523(0x218)]);}else{if(_0x54aea7[_0x44f523(0x180)]===_0x44f523(0x17f))try{let _0x5cf718=_0x44f523(0x1bf),_0x4b2f8f='Kein\x20Kalender-Adapter';if(this['config']['useWeather']){const _0x19540c=await recorder['getOutsideTemperatureNumeric'](this);_0x5cf718=_0x19540c!==null?_0x19540c+'Â°C':_0x44f523(0x1ed);}if(this[_0x44f523(0x254)]['calendarInstance']){const _0x3e7e26=await this[_0x44f523(0x194)](_0x44f523(0x1fe)+this[_0x44f523(0x254)]['calendarInstance']);_0x4b2f8f=_0x3e7e26?'Verbunden':_0x44f523(0x243);}this['sendTo'](_0x54aea7[_0x44f523(0x176)],_0x54aea7['command'],{'success':!![],'weather':_0x5cf718,'calendar':_0x4b2f8f},_0x54aea7['callback']);}catch(_0x47f109){this['sendTo'](_0x54aea7[_0x44f523(0x176)],_0x54aea7['command'],{'success':![],'error':_0x47f109[_0x44f523(0x1a5)]},_0x54aea7[_0x44f523(0x218)]);}else{if(_0x54aea7[_0x44f523(0x180)]==='getCalendarNames')try{const _0x45f828=_0x54aea7['message'][_0x44f523(0x261)],_0x20a038=await this[_0x44f523(0x234)](_0x45f828+_0x44f523(0x18b));let _0x2acc29=[];if(_0x20a038&&_0x20a038[_0x44f523(0x21d)]){const _0x2b6802=JSON[_0x44f523(0x229)](_0x20a038[_0x44f523(0x21d)]),_0x5a8802=new Set();Array[_0x44f523(0x189)](_0x2b6802)&&_0x2b6802[_0x44f523(0x1f5)](_0xd8bfd5=>{const _0x1a0f8b=_0x44f523;if(_0xd8bfd5['_calName'])_0x5a8802[_0x1a0f8b(0x242)](_0xd8bfd5[_0x1a0f8b(0x271)]);else{if(_0xd8bfd5[_0x1a0f8b(0x18f)])_0x5a8802[_0x1a0f8b(0x242)](_0xd8bfd5[_0x1a0f8b(0x18f)]);}}),_0x2acc29=Array[_0x44f523(0x176)](_0x5a8802)['sort']();}if(_0x2acc29[_0x44f523(0x228)]===0x0)_0x2acc29=[_0x44f523(0x18a)];this['sendTo'](_0x54aea7['from'],_0x54aea7[_0x44f523(0x180)],{'success':!![],'names':_0x2acc29},_0x54aea7[_0x44f523(0x218)]);}catch(_0xcbc292){this[_0x44f523(0x238)](_0x54aea7['from'],_0x54aea7[_0x44f523(0x180)],{'success':![],'error':_0xcbc292['message']},_0x54aea7['callback']);}else{if(_0x54aea7[_0x44f523(0x180)]==='testNotification')try{await setup[_0x44f523(0x16f)](this,_0x44f523(0x197),![],![]),this['sendTo'](_0x54aea7['from'],_0x54aea7['command'],{'success':!![],'message':_0x44f523(0x21a)},_0x54aea7[_0x44f523(0x218)]);}catch(_0x4bf8fd){this['log'][_0x44f523(0x225)]('Notification\x20Test\x20Failed:\x20'+_0x4bf8fd[_0x44f523(0x1a5)]),this[_0x44f523(0x238)](_0x54aea7[_0x44f523(0x176)],_0x54aea7[_0x44f523(0x180)],{'success':![],'message':_0x44f523(0x24c)+_0x4bf8fd[_0x44f523(0x1a5)]},_0x54aea7[_0x44f523(0x218)]);}}}}}}}}}}}}}}}async[a0_0x4f2776(0x187)](){const _0xb7c1a0=a0_0x4f2776;try{const _0x4d26a9=await this['getStateAsync'](setup[_0xb7c1a0(0x20f)]);_0x4d26a9&&_0x4d26a9[_0xb7c1a0(0x21d)]&&Object[_0xb7c1a0(0x257)](setup['SYSTEM_MODES'])[_0xb7c1a0(0x188)](_0x4d26a9[_0xb7c1a0(0x21d)])?this['currentSystemMode']=_0x4d26a9['val']:(this[_0xb7c1a0(0x1e4)]=setup[_0xb7c1a0(0x269)]['NORMAL'],await this['setStateAsync'](setup[_0xb7c1a0(0x20f)],{'val':setup[_0xb7c1a0(0x269)][_0xb7c1a0(0x1ec)],'ack':!![]}));}catch(_0x18e647){this['currentSystemMode']=setup[_0xb7c1a0(0x269)][_0xb7c1a0(0x1ec)];}}async[a0_0x4f2776(0x239)](){const _0x3aef1a=a0_0x4f2776;try{const _0x165282=this[_0x3aef1a(0x254)][_0x3aef1a(0x207)]||[];let _0x32c3cc=![];const _0xbf4e42=[];for(const _0x10e2ef of _0x165282){try{const _0x370f31=await this[_0x3aef1a(0x234)](_0x10e2ef);_0x370f31&&(_0x370f31[_0x3aef1a(0x21d)]===!![]||_0x370f31[_0x3aef1a(0x21d)]==='online'||_0x370f31['val']===0x1)&&(_0x32c3cc=!![],_0xbf4e42[_0x3aef1a(0x217)](_0x10e2ef));}catch(_0x440a38){}}return await this[_0x3aef1a(0x175)](_0x3aef1a(0x183),{'val':_0xbf4e42['join'](',\x20'),'ack':!![]}),_0x32c3cc&&(this['exitTimer']&&(this[_0x3aef1a(0x1c0)][_0x3aef1a(0x1aa)](_0x3aef1a(0x172)),recorder['abortExitTimer'](this)),!this[_0x3aef1a(0x1c2)]&&this['currentSystemMode']===setup[_0x3aef1a(0x269)][_0x3aef1a(0x1ec)]&&await recorder['setPresence'](this,!![])),_0x32c3cc;}catch(_0x2a2fa1){return![];}}async[a0_0x4f2776(0x1e2)](){const _0xa3c39e=a0_0x4f2776;this['log'][_0xa3c39e(0x1e6)](_0xa3c39e(0x19b)),await aiAgent[_0xa3c39e(0x23b)](this),this['updateHealthVector'](),this[_0xa3c39e(0x215)](),this[_0xa3c39e(0x1c6)]();}async[a0_0x4f2776(0x214)](){const _0x506dcd=a0_0x4f2776,_0x6adb3b=['weatherunderground.0',_0x506dcd(0x1c1),_0x506dcd(0x25c)],_0x5035f9=['forecast.current.weather',_0x506dcd(0x170),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x2d63cf of _0x6adb3b){for(const _0x57fa75 of _0x5035f9){try{const _0x2bec0c=_0x2d63cf+'.'+_0x57fa75,_0x58a0bb=await this[_0x506dcd(0x234)](_0x2bec0c);if(_0x58a0bb&&_0x58a0bb[_0x506dcd(0x21d)]){const _0x1da6c4=String(_0x58a0bb['val'])[_0x506dcd(0x18e)]();if(_0x1da6c4[_0x506dcd(0x188)](_0x506dcd(0x213))||_0x1da6c4[_0x506dcd(0x188)](_0x506dcd(0x272))||_0x1da6c4['includes'](_0x506dcd(0x235))||_0x1da6c4[_0x506dcd(0x188)]('clear')||_0x1da6c4[_0x506dcd(0x188)](_0x506dcd(0x17e)))return!![];}}catch(_0x2a680b){}}}return![];}['triggerGaitAnalysis'](){const _0x49048f=a0_0x4f2776;if(!this[_0x49048f(0x1fc)])return;try{this[_0x49048f(0x1d7)]('LTM.trainingData.sequences',(_0x3a6be4,_0x1db9b5)=>{const _0x11d801=_0x49048f;_0x1db9b5&&_0x1db9b5[_0x11d801(0x21d)]&&pythonBridge[_0x11d801(0x1e9)](this,_0x11d801(0x221),{'sequences':JSON['parse'](_0x1db9b5[_0x11d801(0x21d)])});});}catch(_0x1790d2){}}async[a0_0x4f2776(0x1c6)](){const _0xf596bd=a0_0x4f2776;if(!this[_0xf596bd(0x1fc)])return;try{const _0x15b994=await recorder[_0xf596bd(0x26d)](this);if(_0x15b994===null)return;const _0x2cfa67={},_0x585980={},_0x22c044=this[_0xf596bd(0x254)][_0xf596bd(0x23f)]||[];for(const _0x2ea8e1 of _0x22c044){if(_0x2ea8e1[_0xf596bd(0x21b)]===_0xf596bd(0x208)&&_0x2ea8e1[_0xf596bd(0x1b1)]){const _0x578e67=this[_0xf596bd(0x1c7)][_0x2ea8e1['id']];if(_0x578e67!==undefined)_0x2cfa67[_0x2ea8e1[_0xf596bd(0x1b1)]]=_0x578e67;if(_0x2ea8e1[_0xf596bd(0x1ee)])_0x585980[_0x2ea8e1[_0xf596bd(0x1b1)]]=!![];}}const _0x52f5cd=await this[_0xf596bd(0x214)]();let _0x3d4501={};try{const _0x52d304=await this[_0xf596bd(0x209)]('analysis.energy.warmupTargets');if(_0x52d304&&_0x52d304['val'])_0x3d4501=JSON[_0xf596bd(0x229)](_0x52d304[_0xf596bd(0x21d)]);}catch(_0x1947ef){}Object[_0xf596bd(0x16c)](_0x2cfa67)[_0xf596bd(0x228)]>0x0&&(pythonBridge[_0xf596bd(0x1e9)](this,'PREDICT_ENERGY',{'current_temps':_0x2cfa67,'t_out':_0x15b994,'is_sunny':_0x52f5cd,'solar_flags':_0x585980,'warmup_targets':_0x3d4501}),pythonBridge[_0xf596bd(0x1e9)](this,_0xf596bd(0x19f),{'current_temps':_0x2cfa67,'t_out':_0x15b994,'targets':{}}));}catch(_0x16db35){}}['updateHealthVector'](){const _0x364cc5=a0_0x4f2776;if(!this[_0x364cc5(0x256)]||this[_0x364cc5(0x256)]['length']===0x0)return;const _0x2d2f8c=new Array(0x60)[_0x364cc5(0x1f7)](0x0),_0x5aadee=new Date()[_0x364cc5(0x21c)](0x0,0x0,0x0,0x0);this[_0x364cc5(0x256)][_0x364cc5(0x1f5)](_0x3eb68e=>{const _0x49a564=_0x364cc5,_0x3de635=new Date(_0x3eb68e[_0x49a564(0x247)]);if(_0x3de635[_0x49a564(0x26a)]()>=_0x5aadee){const _0xbf8d33=_0x3de635[_0x49a564(0x249)](),_0x4cb3dd=_0x3de635[_0x49a564(0x17a)](),_0x1de22c=_0xbf8d33*0x4+Math[_0x49a564(0x16d)](_0x4cb3dd/0xf);if(_0x1de22c>=0x0&&_0x1de22c<0x60)_0x2d2f8c[_0x1de22c]++;}}),this[_0x364cc5(0x175)]('analysis.health.todayVector',{'val':JSON['stringify'](_0x2d2f8c),'ack':!![]});}[a0_0x4f2776(0x275)](){const _0x278381=a0_0x4f2776;if(!this[_0x278381(0x20c)]||this[_0x278381(0x20c)][_0x278381(0x228)]<0x2)return;const _0xf33399=this[_0x278381(0x20c)][_0x278381(0x22d)](_0x18d53c=>{const _0x4d7c63=_0x278381,_0x1feefa=(_0x18d53c[_0x4d7c63(0x262)]||'')[_0x4d7c63(0x18e)]();return ACTIVITY_LEVEL_MAP[_0x1feefa]||0x32;});pythonBridge['send'](this,_0x278381(0x174),{'values':_0xf33399,'tag':_0x278381(0x241)});}}if(require['main']!==module)module[a0_0x4f2776(0x1b2)]=_0x4037c4=>new CogniLiving(_0x4037c4);else new CogniLiving();