function a0_0x49e0(_0x2749eb,_0x1668cb){const _0x78ce94=a0_0x20b0();return a0_0x49e0=function(_0x19143e,_0x2baf7c){_0x19143e=_0x19143e-0x16c;let _0x20b042=_0x78ce94[_0x19143e];return _0x20b042;},a0_0x49e0(_0x2749eb,_0x1668cb);}function a0_0x20b0(){const _0x7f4d46=['1098505QavXwP','echarts.','loadDailyDigests','Health\x20&\x20Sleep\x20Analysis','accuweather','VACATION','door','suggestion','analysis.history_debug_00','KALENDER:\x20Keine\x20Kalender\x20ausgew√§hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)','schalter','genAI','getWeatherContext','scanForDevices','name','party','abortExitTimer','setupDriftAnalysisScheduler','summary','analysis.health.sleepScore','Comfort\x20Summary','AI\x20Emergency\x20Status','details','diele','find','ROLLE:\x20F√ºrsorglicher\x20Assistent.\x0a\x20\x20\x20\x20\x20\x20\x20\x20AUFGABE:\x20Schreibe\x20eine\x20kurze,\x20beruhigende\x20\x22Guten\x20Morgen\x22-Nachricht\x20an\x20die\x20Angeh√∂rigen/Bewohner.\x0a\x20\x20\x20\x20\x20\x20\x20\x20TON:\x20Freundlich,\x20professionell,\x20kurz.\x0a\x20\x20\x20\x20\x20\x20\x20\x20PERSONA\x20(Fokus):\x20','analysis.deviationFromBaseline','Scanning\x20for\x20devices\x20(Smart\x20Naming\x20+\x20Legacy\x20Filters)...','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','WORKING','/100\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Aktivit√§t\x20seit\x2004:00\x20Uhr:\x20','checkWifiPresence','Sending\x20notification:\x20\x22','startExitTimer','toUpperCase','PRIORIT√ÑT:\x20Gesundheit\x20und\x20Sicherheit\x20f√ºr\x20Senioren\x20(AAL).\x20Erkenne\x20Inaktivit√§t,\x20potenzielle\x20St√ºrze\x20(indirekt),\x20Schlafunterbrechungen\x20und\x20n√§chtliche\x20Unruhe.','.INSTALL_TEST','checkLicense',')\x20-\x20OBFUSCATION\x20SAFE\x20MODE','KALENDER:\x20','KALENDER:\x20Keine\x20relevanten\x20Termine','weatherunderground.0','4191664WdjJNq','\x20*\x20*\x20*','getStateAsync','.SECTION','text.alarm','Daily\x20Digest\x20created\x20successfully.','\x20raw\x20events...','initPresenceSubscriptions','Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','getGenerativeModel','flur','contact','notifyPushoverInstance','slice','b√ºro','presenceDevices','WETTER\x20ERROR:\x20','Error\x20checking\x20WiFi:\x20','analysis.analysisHistory','createAllObjects','Last\x20raw\x20event','channel','System\x20Status\x20&\x20Control','checkLtmDriftObjects','analysis.isEmergency','initHistory','ltmStbWindowDays','sendNotification','WETTER:\x20Keine\x20Daten\x20gefunden','Wetter:\x20Deaktiviert','signal','automationProposal','GUEST','245tDSWPh','humidity','No\x20instance','bewegung','analysis.health.restlessness','update','history','analysis.isAlert','minDaysForBaseline','string','\x22\x20was\x20','boolean','logDuplicates','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT\x20(Wohnen):\x20','admin.','Trigger\x20Briefing\x20(Test)','initSensorSubscriptions','KALENDER:\x20Keine\x20Daten','Lernphase\x20(','LTM.driftAnalysis.baselineDrift','pressure','@iobroker/adapter-core','ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20','analysis.trigger','Briefing\x20Sched\x20Error:\x20','analysis.history_debug_02','some','Drift\x20Analysis','fenster','User\x20Feedback:\x20Alarm\x20\x22','history.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','json','RSSI','Trigger\x20Analysis','indicator.alarm.fire','Daily\x20Digests','rating','events.history','getForeignObjectsAsync','submitFeedback','presence','events.lastEvent','K√ºche','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20EXTERNER\x20KONTEXT\x20(WICHTIG):\x20','runBaselineDriftAnalysis','notifyEmailEnabled','Processing\x20Status','constructor','systemConfig','toString','isPresent','updateBaselineStatus','cogni-living','notifyWhatsappEnabled','suggestedAction','command','siren','\x20sensors...','members','val','Schlafzimmer','number','useCalendar','startsWith','analysisInterval','1008986qXbosJ','Generating\x20Morning\x20Briefing...','doors','warn','setupLtmScheduler','testNotification','getForeignObjectAsync','sendToAsync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT\x20(Wer\x20wohnt\x20hier?):\x20','createDailyDigest','city','isEmergency','temp','t√ºr','getObjectAsync','Baseline:\x20Inactive\x20(Pro\x20Feature).','saveDailyDigests','loadRawEventLog','Feedback\x20saved:\x20','retry','Deviation','checkSystemObjects','message','Gemini\x20Init\x20Error:\x20','group','PRIORIT√ÑT:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungew√∂hnliche\x20Anwesenheit.','exitGraceTimer','[TEST]\x20','vis.','custom','Starting\x20Autopilot\x20(','ical.0','N/A\x20(Learning)','scene','initZombies','weatherInstance','Urlaub','version','N/A','97944COcuJE','_calName','normal','search','driftDetails','Last\x20Check','Briefing\x20Error:\x20','getEnums','Aktiv\x20(','.data.table','notifyTelegramEnabled','enum.functions.*','\x0aFEEDBACK:\x0a','setHours','state','Baseline\x20Status','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','notifyPushoverEnabled','sleepScore','subscribeForeignStatesAsync','inactivityMonitoringEnabled','scheduleJob','uuid-not-found','events.history_debug_00','setObjectNotExistsAsync','Automation\x20Proposals','analysisHistory','health','LTM.processingStatus','openweathermap.0','sensorLastValues','splice','No\x20Key','callback','notifySignalRecipient','UNREACH','k√ºche','onUnload','type','\x0a!!!\x20EXTERNAL\x20SYSTEM\x20WARNING\x20!!!\x0a','Analysiere\x20Tag...','analysis.lastResult','\x20Tage)','notifyWhatsappRecipient','native','main','Scheduling\x20Morning\x20Briefing\x20for\x20','security','Success','connection','Health\x20Notes','inactivityThresholdHours','icons-mfd.','uuid-error','material.','isGracePeriodActive','setPresence','stringify','Flur','Subscribing\x20to\x20','long','push','enum.rooms.*','analysis.activitySummary','object','split','currentSystemMode','ROLLE:\x20Data\x20Scientist.\x20VERGLEICHE:\x20Dataset\x20A\x20(Recent)\x20vs\x20B\x20(Established).\x20ZIEL:\x20Erkenne\x20Drift.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aB\x20(LTB):\x0a','temperature','guest','log','unload','calendarSelection','generateContent','namespace','notifyWhatsappInstance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20OUTPUT\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22,\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number,\x20\x22restlessness\x22:\x20\x22string\x22\x20}\x20}','triggerBriefing','Gast','Missing\x20data','Analysis\x20Error:\x20','lastAlertState','setStateAsync','sendTo','saveRawEventLog','apply','runAutopilot','from','feedbackHistory','KALENDER\x20ERROR:\x20','setState','button','LTM.dailyDigests','analysis.triggerBriefing','baselineDrift','calendarInstance','longitude','sendMorningBriefing','isAlert','common','analysis.history_debug_03','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ZUSATZ-KONTEXT:\x20','response','toFixed','.forecast.current.state','de-DE','\x20min).\x20Watchdog\x20Limit:\x20','analysis.automation.patternDetected','AI\x20Alert\x20Status','toLowerCase','enum','WETTER:\x20','alertReason','analysis.alertReason','analysis.automation.suggestedAction','vacation','No\x20recorded\x20events\x20yet.','analysis.automation','Deaktiviert\x20(Pro-Feature)','thermostat','lastCheck','Wohnzimmer','events.history_debug_04','now','dailyDigests','includes','stateChange','processSensorEvent','analysis.comfortSuggestion','Error\x20creating\x20objects:\x20','switch','lock','Nein','patternDetected','status','Daily\x20Digest\x20erstellt\x20&\x20gespeichert.','modeResetJob','trim','Drift\x20Status','ack','cogni-living\x20adapter\x20starting\x20(v','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INPUT:\x20','generic','time','sort','role','accuweather.0','Drift\x20Details','Activity\x20Summary','systemUUID','event','bad','cancel','unshift','Badezimmer','_score','node-schedule','flot.','loadSystemMode','blind','instance','indicator.alarm','LTM.rawEventLog','uuid','\x20(EMERGENCY)','date','2394564qcvfQP','bind','shutter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20OUTPUT:\x20Nur\x20der\x20Nachrichtentext\x20(kein\x20JSON).\x20Integriere\x20den\x20Kontext\x20(Wetter/Kalender)\x20nur\x20wenn\x20relevant.','.TEST','3enjEyk','getCalendarNames','light','latitude','activityLevel','LTM.driftAnalysis.lastCheck','setupBriefingScheduler','parse','extendObjectAsync','comfort','ERROR','notifySignalEnabled','licenseKey','ltmLtbWindowDays','text','map','models/gemini-flash-latest','none','DIRECTION','motion','Comfort\x20Suggestion','analysis.automation.description','filter','NORMAL','getLtmData','0\x203\x20*\x20*\x20*','[Test]\x20Notification','rawEventLog','CRITICAL\x20WARNING:\x20No\x20sensor\x20activity\x20detected\x20for\x20','getForeignStateAsync','analysis.feedbackHistory','briefingJob','config','Garten','eventHistory','getSystemUUID','events.history_debug_03','length','analysis.health.notes','PARTY','info.','briefingTime','application/json','send','pop','location','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20DATEN:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20Schlafqualit√§t\x20letzte\x20Nacht:\x20','geminiModel','aiPersona','Morning\x20Briefing\x20sent.','toLocaleString','notifySignalInstance','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20MODUS:\x20','18627543WfKGCh','tryParse','events.history_debug_02','getCalendarContext','onMessage','Sleep\x20Score\x20(0-100)','scanDevices','checkLtmObjects','7874853ZlDJtz','runGeminiAnalysis','CONFIG_PENDING','0\x204\x20*\x20*\x20*','exitTimer','Daily\x20Digest\x20Error:\x20','restlessness','delObjectAsync','‚ö†Ô∏è\x20Alarm','Trigger\x20Digest','\x0a\x0aA\x20(STB):\x0a','\x20sent','weather','window','setupModeResetScheduler','ROLLE:\x20Data\x20Analyst.\x20AUFGABE:\x20Fasse\x20den\x20heutigen\x20Tag\x20basierend\x20auf\x20den\x20Sensor-Logs\x20zusammen.\x0a\x20\x20\x20\x20\x20\x20\x20\x20PERSONA:\x20','PRO-','on/off','activity','events.history_debug_01','Adapter','toISOString','ltmJob','Restlessness\x20Level','livingContext','FAULT','Cogni-Living\x20Alert','error','write','driftAnalysisTimer','Event\x20History','Drift\x20Sched\x20Error:\x20','subscribeStates','analysisTimer','timestamp','info','lights','Creating\x20Daily\x20Digest\x20from\x20','online','Reset\x20Sched\x20Error:\x20','apiKey','dimmer','forecast','sensor','replace','battery','system','üåÖ\x20Daily\x20Briefing:\x0a','Normal','isProVersion','üö®üö®\x20NOTFALL','.Summary.Current','values','join','notifyTelegramInstance','analysis.comfortSummary','updateAnalysisHistory','Kalender:\x20Deaktiviert','notifyEmailInstance','isArray','notifyEmailRecipient','.NextHours.Location_1.Day_1.current.symbol_desc','(((.+)+)+)+$','\x20hours.\x20The\x20resident\x20might\x20be\x20incapacitated.\x20Risk\x20level:\x20HIGH.','LTM','indicator'];a0_0x20b0=function(){return _0x7f4d46;};return a0_0x20b0();}const a0_0x5775e2=a0_0x49e0;(function(_0xb6fc89,_0x14153b){const _0x2e1bba=a0_0x49e0,_0x132f70=_0xb6fc89();while(!![]){try{const _0x624f8d=-parseInt(_0x2e1bba(0x270))/0x1+parseInt(_0x2e1bba(0x2fd))/0x2*(parseInt(_0x2e1bba(0x1f1))/0x3)+parseInt(_0x2e1bba(0x1ec))/0x4+parseInt(_0x2e1bba(0x2bb))/0x5*(-parseInt(_0x2e1bba(0x324))/0x6)+-parseInt(_0x2e1bba(0x22e))/0x7+parseInt(_0x2e1bba(0x29a))/0x8+parseInt(_0x2e1bba(0x226))/0x9;if(_0x624f8d===_0x14153b)break;else _0x132f70['push'](_0x132f70['shift']());}catch(_0x2c5eec){_0x132f70['push'](_0x132f70['shift']());}}}(a0_0x20b0,0xa46b3));const a0_0x2baf7c=(function(){let _0x1824ee=!![];return function(_0x56f4b9,_0x1ee08a){const _0x71eb09=_0x1824ee?function(){const _0x3dc990=a0_0x49e0;if(_0x1ee08a){const _0x3e96e4=_0x1ee08a[_0x3dc990(0x19b)](_0x56f4b9,arguments);return _0x1ee08a=null,_0x3e96e4;}}:function(){};return _0x1824ee=![],_0x71eb09;};}()),a0_0x19143e=a0_0x2baf7c(this,function(){const _0x2366b4=a0_0x49e0;return a0_0x19143e[_0x2366b4(0x2ed)]()[_0x2366b4(0x327)](_0x2366b4(0x26c))['toString']()[_0x2366b4(0x2eb)](a0_0x19143e)[_0x2366b4(0x327)]('(((.+)+)+)+$');});a0_0x19143e();'use strict';const utils=require(a0_0x5775e2(0x2d0)),{GoogleGenerativeAI}=require('@google/generative-ai'),schedule=require(a0_0x5775e2(0x1e2)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x5775e2(0x201),LTM_SCHEDULE=a0_0x5775e2(0x20a),MODE_RESET_SCHEDULE=a0_0x5775e2(0x231),ANALYSIS_HISTORY_MAX_SIZE=0x64,LTM_DP_RAW_LOG=a0_0x5775e2(0x1e8),LTM_DP_DAILY_DIGESTS=a0_0x5775e2(0x1a2),LTM_DP_STATUS=a0_0x5775e2(0x340),LTM_DP_TRIGGER_DIGEST='LTM.triggerDailyDigest',LTM_DP_BASELINE_STATUS='LTM.baselineStatus',LTM_DP_DRIFT_CHANNEL='LTM.driftAnalysis',LTM_DP_DRIFT_STATUS=a0_0x5775e2(0x2ce),LTM_DP_DRIFT_DETAILS='LTM.driftAnalysis.driftDetails',LTM_DP_DRIFT_LAST_CHECK=a0_0x5775e2(0x1f6),SYSTEM_DP_MODE='system.mode',IGNORE_TERMS=[a0_0x5775e2(0x347),'LOWBAT',a0_0x5775e2(0x2dc),a0_0x5775e2(0x1fb),a0_0x5775e2(0x247),'SABOTAGE','ALARM',a0_0x5775e2(0x230),'DUTYCYCLE',a0_0x5775e2(0x28d),a0_0x5775e2(0x203),'STICKY_UNREACH',a0_0x5775e2(0x2c0),'firmware','version',a0_0x5775e2(0x177),a0_0x5775e2(0x251),a0_0x5775e2(0x2b8),a0_0x5775e2(0x25b),a0_0x5775e2(0x31e),a0_0x5775e2(0x315),'all_lights',a0_0x5775e2(0x29d),a0_0x5775e2(0x1f0),a0_0x5775e2(0x294),'wetter',a0_0x5775e2(0x23a),a0_0x5775e2(0x258),a0_0x5775e2(0x282),'icon','wind',a0_0x5775e2(0x2cf),'uv',a0_0x5775e2(0x2c1)],ADAPTER_BLACKLIST=['system.',a0_0x5775e2(0x2c9),a0_0x5775e2(0x219),a0_0x5775e2(0x319),a0_0x5775e2(0x2d9),a0_0x5775e2(0x17c),a0_0x5775e2(0x17a),a0_0x5775e2(0x1e3),a0_0x5775e2(0x271)],SYSTEM_MODES={'NORMAL':a0_0x5775e2(0x326),'VACATION':a0_0x5775e2(0x1b9),'PARTY':a0_0x5775e2(0x27f),'GUEST':a0_0x5775e2(0x18b)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x5775e2(0x218)],SYSTEM_MODES[a0_0x5775e2(0x2ba)]],EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,PERSONA_MAPPING={'generic':'Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','senior_aal':a0_0x5775e2(0x293),'family':a0_0x5775e2(0x2a2),'single_comfort':a0_0x5775e2(0x28c),'security':a0_0x5775e2(0x316)};class CogniLiving extends utils[a0_0x5775e2(0x242)]{constructor(_0x324955){const _0x3f178f=a0_0x5775e2;super({..._0x324955,'name':_0x3f178f(0x2f0)}),this[_0x3f178f(0x213)]=[],this[_0x3f178f(0x33e)]=[],this['feedbackHistory']=[],this['rawEventLog']=[],this[_0x3f178f(0x1c2)]=[],this[_0x3f178f(0x342)]={},this[_0x3f178f(0x2ec)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x3f178f(0x232)]=null,this['exitGraceTimer']=null,this[_0x3f178f(0x17d)]=![],this[_0x3f178f(0x27b)]=null,this[_0x3f178f(0x220)]=null,this[_0x3f178f(0x188)]=SYSTEM_MODES[_0x3f178f(0x208)],this[_0x3f178f(0x25f)]=![],this[_0x3f178f(0x197)]=![],this[_0x3f178f(0x1db)]='unknown',this[_0x3f178f(0x24f)]=null,this['ltmJob']=null,this[_0x3f178f(0x1ce)]=null,this[_0x3f178f(0x24b)]=null,this[_0x3f178f(0x210)]=null,this['on']('ready',this['onReady'][_0x3f178f(0x1ed)](this)),this['on'](_0x3f178f(0x1c4),this['onStateChange']['bind'](this)),this['on'](_0x3f178f(0x18d),this[_0x3f178f(0x349)]['bind'](this)),this['on']('message',this[_0x3f178f(0x22a)][_0x3f178f(0x1ed)](this));}async['onReady'](){const _0x2d171d=a0_0x5775e2;this[_0x2d171d(0x18c)]['info'](_0x2d171d(0x1d2)+this[_0x2d171d(0x322)]+_0x2d171d(0x296)),await this[_0x2d171d(0x31f)](),this[_0x2d171d(0x211)]['licenseKey']=this[_0x2d171d(0x211)][_0x2d171d(0x1fd)]||'';try{this[_0x2d171d(0x25f)]=await this['checkLicense'](this[_0x2d171d(0x211)]['licenseKey']);}catch(_0x1a96ef){this[_0x2d171d(0x18c)][_0x2d171d(0x249)]('License\x20Check\x20failed:\x20'+_0x1a96ef['message']);}if(!this['config'][_0x2d171d(0x179)]||this[_0x2d171d(0x211)][_0x2d171d(0x179)]<0.1)this['config'][_0x2d171d(0x179)]=0xc;await this[_0x2d171d(0x2b3)](),await this['initSystemConfig']();if(this[_0x2d171d(0x211)]['geminiApiKey'])try{this[_0x2d171d(0x27b)]=new GoogleGenerativeAI(this[_0x2d171d(0x211)]['geminiApiKey']),this[_0x2d171d(0x220)]=this[_0x2d171d(0x27b)][_0x2d171d(0x2a3)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x2d171d(0x21b)}}),this[_0x2d171d(0x18c)][_0x2d171d(0x251)]('Gemini\x20AI\x20initialized.');}catch(_0x2eefee){this[_0x2d171d(0x18c)][_0x2d171d(0x249)](_0x2d171d(0x314)+_0x2eefee['message']);}await this[_0x2d171d(0x2ad)](),await this['loadSystemMode'](),await this[_0x2d171d(0x30e)](),await this[_0x2d171d(0x272)](),this[_0x2d171d(0x24e)]('analysis.trigger'),this[_0x2d171d(0x24e)](LTM_DP_TRIGGER_DIGEST),this[_0x2d171d(0x24e)]('system.mode'),this[_0x2d171d(0x24e)](_0x2d171d(0x1a3)),await this[_0x2d171d(0x2cb)](),await this[_0x2d171d(0x2a1)]();if(this[_0x2d171d(0x24f)])clearInterval(this[_0x2d171d(0x24f)]);const _0x3fc4f1=this['config'][_0x2d171d(0x2fc)]||0xf;_0x3fc4f1>0x0&&(this[_0x2d171d(0x18c)][_0x2d171d(0x251)](_0x2d171d(0x31b)+_0x3fc4f1+_0x2d171d(0x1b0)+this[_0x2d171d(0x211)][_0x2d171d(0x179)]+'h.'),this[_0x2d171d(0x24f)]=setInterval(()=>{const _0x560ee0=_0x2d171d;this[_0x560ee0(0x19c)]();},_0x3fc4f1*0x3c*0x3e8)),this[_0x2d171d(0x301)](),this[_0x2d171d(0x23c)](),this[_0x2d171d(0x281)](),this[_0x2d171d(0x1f7)]();}[a0_0x5775e2(0x349)](_0x4b9878){const _0x343fd7=a0_0x5775e2;if(this[_0x343fd7(0x24f)])clearInterval(this['analysisTimer']);if(this[_0x343fd7(0x24b)])clearInterval(this[_0x343fd7(0x24b)]);if(this[_0x343fd7(0x244)])this[_0x343fd7(0x244)][_0x343fd7(0x1de)]();if(this[_0x343fd7(0x1ce)])this[_0x343fd7(0x1ce)]['cancel']();if(this[_0x343fd7(0x210)])this[_0x343fd7(0x210)][_0x343fd7(0x1de)]();if(this[_0x343fd7(0x232)])clearTimeout(this[_0x343fd7(0x232)]);if(this['exitGraceTimer'])clearTimeout(this[_0x343fd7(0x317)]);_0x4b9878();}async['onStateChange'](_0x5b9f83,_0x3e51b1){const _0x82b818=a0_0x5775e2;if(!_0x3e51b1)return;if(_0x5b9f83===this[_0x82b818(0x190)]+'.'+SYSTEM_DP_MODE){_0x3e51b1[_0x82b818(0x2f7)]&&Object[_0x82b818(0x262)](SYSTEM_MODES)[_0x82b818(0x1c3)](_0x3e51b1[_0x82b818(0x2f7)])&&(this[_0x82b818(0x188)]=_0x3e51b1[_0x82b818(0x2f7)],_0x3e51b1[_0x82b818(0x2f7)]===SYSTEM_MODES['VACATION']?await this[_0x82b818(0x17e)](![]):await this[_0x82b818(0x17e)](!![]));if(!_0x3e51b1['ack'])this['setState'](_0x5b9f83,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x3e51b1[_0x82b818(0x1d1)]){_0x5b9f83[_0x82b818(0x1c3)](_0x82b818(0x2d2))&&_0x3e51b1[_0x82b818(0x2f7)]&&(this['setState'](_0x5b9f83,{'val':![],'ack':!![]}),this[_0x82b818(0x22f)]());if(_0x5b9f83[_0x82b818(0x1c3)]('triggerDailyDigest')&&_0x3e51b1[_0x82b818(0x2f7)]){this['setState'](_0x5b9f83,{'val':![],'ack':!![]});if(this[_0x82b818(0x25f)])this['createDailyDigest']();}_0x5b9f83['includes'](_0x82b818(0x193))&&_0x3e51b1[_0x82b818(0x2f7)]&&(this['setState'](_0x5b9f83,{'val':![],'ack':!![]}),this[_0x82b818(0x1a7)]());return;}if(this['config'][_0x82b818(0x2a9)]&&this[_0x82b818(0x211)]['presenceDevices'][_0x82b818(0x1c3)](_0x5b9f83)){await this[_0x82b818(0x28f)]();return;}const _0xa6537e=(this[_0x82b818(0x211)]['devices']||[])[_0x82b818(0x288)](_0x2ee1da=>_0x2ee1da['id']===_0x5b9f83);if(_0xa6537e)this[_0x82b818(0x1c5)](_0x5b9f83,_0x3e51b1,_0xa6537e);}async['onMessage'](_0x1a3173){const _0x1a2e69=a0_0x5775e2;if(typeof _0x1a3173===_0x1a2e69(0x186)&&_0x1a3173['message'])try{if(_0x1a3173[_0x1a2e69(0x2f3)]==='testApiKey'){if(!_0x1a3173['message']['apiKey'])return this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173[_0x1a2e69(0x2f3)],{'success':![],'message':_0x1a2e69(0x344)},_0x1a3173[_0x1a2e69(0x345)]);try{const _0xe76e7e=new GoogleGenerativeAI(_0x1a3173[_0x1a2e69(0x313)][_0x1a2e69(0x256)])[_0x1a2e69(0x2a3)]({'model':_0x1a2e69(0x201)});await _0xe76e7e[_0x1a2e69(0x18f)]('test'),this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173[_0x1a2e69(0x2f3)],{'success':!![],'message':_0x1a2e69(0x176)},_0x1a3173[_0x1a2e69(0x345)]);}catch(_0x31bc89){this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173[_0x1a2e69(0x2f3)],{'success':![],'message':_0x31bc89['message']},_0x1a3173['callback']);}}else{if(_0x1a3173[_0x1a2e69(0x2f3)]===_0x1a2e69(0x302)){const _0x5d5fc2=await this[_0x1a2e69(0x2b5)](_0x1a2e69(0x20b),!![]);this[_0x1a2e69(0x199)](_0x1a3173['from'],_0x1a3173[_0x1a2e69(0x2f3)],{'success':_0x5d5fc2>0x0,'message':_0x5d5fc2+_0x1a2e69(0x239)},_0x1a3173[_0x1a2e69(0x345)]);}else{if(_0x1a3173[_0x1a2e69(0x2f3)]===_0x1a2e69(0x209)){if(!this[_0x1a2e69(0x25f)])return this['sendTo'](_0x1a3173['from'],_0x1a3173[_0x1a2e69(0x2f3)],{'success':![],'isPro':![]},_0x1a3173[_0x1a2e69(0x345)]);let _0x62ca6c={'status':_0x1a2e69(0x323),'details':'','lastCheck':0x0};try{_0x62ca6c[_0x1a2e69(0x1cc)]=(await this[_0x1a2e69(0x29c)](LTM_DP_DRIFT_STATUS))[_0x1a2e69(0x2f7)],_0x62ca6c[_0x1a2e69(0x286)]=(await this[_0x1a2e69(0x29c)](LTM_DP_DRIFT_DETAILS))[_0x1a2e69(0x2f7)],_0x62ca6c[_0x1a2e69(0x1be)]=(await this['getStateAsync'](LTM_DP_DRIFT_LAST_CHECK))['val'];}catch(_0x585ae9){}this[_0x1a2e69(0x199)](_0x1a3173['from'],_0x1a3173[_0x1a2e69(0x2f3)],{'success':!![],'isPro':!![],'dailyDigests':this['dailyDigests'],'driftAnalysis':_0x62ca6c,'analysisHistory':this[_0x1a2e69(0x33e)]},_0x1a3173[_0x1a2e69(0x345)]);}else{if(_0x1a3173[_0x1a2e69(0x2f3)]===_0x1a2e69(0x32b)){const _0x4891cd=await this['getForeignObjectsAsync'](_0x1a2e69(0x32f),_0x1a2e69(0x1b4)),_0x21c72a=[];if(_0x4891cd)for(const _0x385a7a in _0x4891cd){const _0x502bff=_0x4891cd[_0x385a7a],_0x4a0a0a=(_0x502bff[_0x1a2e69(0x1a9)]&&typeof _0x502bff[_0x1a2e69(0x1a9)][_0x1a2e69(0x27e)]===_0x1a2e69(0x186)?_0x502bff['common'][_0x1a2e69(0x27e)]['de']:_0x502bff[_0x1a2e69(0x1a9)]['name'])||_0x502bff[_0x1a2e69(0x1a9)]['name'];_0x21c72a[_0x1a2e69(0x183)]({'id':_0x385a7a,'name':_0x4a0a0a});}this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173['command'],{'success':!![],'enums':_0x21c72a},_0x1a3173[_0x1a2e69(0x345)]);}else{if(_0x1a3173[_0x1a2e69(0x2f3)]===_0x1a2e69(0x22c))try{const _0x374775=await this[_0x1a2e69(0x27d)](_0x1a3173['message']||{});this['sendTo'](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173[_0x1a2e69(0x2f3)],{'success':!![],'devices':_0x374775},_0x1a3173[_0x1a2e69(0x345)]);}catch(_0x53a486){this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173[_0x1a2e69(0x2f3)],{'success':![],'error':_0x53a486[_0x1a2e69(0x313)]},_0x1a3173['callback']);}else{if(_0x1a3173['command']===_0x1a2e69(0x2e3)){const {historyId:_0x507fba,rating:_0x23c1bb,comment:_0x3d3984,alertReason:_0x8df006}=_0x1a3173[_0x1a2e69(0x313)];_0x507fba&&_0x23c1bb?(await this['saveFeedback']({'timestamp':Date[_0x1a2e69(0x1c1)](),'historyId':_0x507fba,'rating':_0x23c1bb,'comment':_0x3d3984,'alertReason':_0x8df006}),this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173[_0x1a2e69(0x2f3)],{'success':!![]},_0x1a3173[_0x1a2e69(0x345)])):this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173[_0x1a2e69(0x2f3)],{'success':![],'error':_0x1a2e69(0x195)},_0x1a3173[_0x1a2e69(0x345)]);}else{if(_0x1a3173[_0x1a2e69(0x2f3)]==='testContext'){const _0x313653=await this['getWeatherContext'](),_0x1cf7bd=await this['getCalendarContext']();this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173['command'],{'success':!![],'weather':_0x313653,'calendar':_0x1cf7bd},_0x1a3173[_0x1a2e69(0x345)]);}else{if(_0x1a3173[_0x1a2e69(0x2f3)]==='getCalendarNames'){const _0x5a2c91=_0x1a3173[_0x1a2e69(0x313)][_0x1a2e69(0x1e6)];if(!_0x5a2c91)return this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173['command'],{'success':![],'error':_0x1a2e69(0x2bd)},_0x1a3173[_0x1a2e69(0x345)]);const _0x3fd02c=await this['getCalendarNames'](_0x5a2c91);this['sendTo'](_0x1a3173['from'],_0x1a3173['command'],{'success':!![],'names':_0x3fd02c},_0x1a3173['callback']);}}}}}}}}}catch(_0x318dec){this[_0x1a2e69(0x18c)]['error']('Error\x20in\x20onMessage\x20command\x20'+_0x1a3173[_0x1a2e69(0x2f3)]+':\x20'+_0x318dec['message']);if(_0x1a3173[_0x1a2e69(0x345)])this[_0x1a2e69(0x199)](_0x1a3173[_0x1a2e69(0x19d)],_0x1a3173[_0x1a2e69(0x2f3)],{'success':![],'error':_0x318dec[_0x1a2e69(0x313)]},_0x1a3173['callback']);}}async[a0_0x5775e2(0x1c5)](_0x8abed7,_0x50f543,_0xa1db72){const _0xbdc135=a0_0x5775e2;if(!_0xa1db72[_0xbdc135(0x2c7)]&&this[_0xbdc135(0x342)][_0x8abed7]===_0x50f543[_0xbdc135(0x2f7)])return;this[_0xbdc135(0x342)][_0x8abed7]=_0x50f543[_0xbdc135(0x2f7)];if(this[_0xbdc135(0x17d)])return;const _0x11fe92=await this[_0xbdc135(0x28f)]();if(_0x11fe92){if(!this['isPresent'])await this['setPresence'](!![]);}else{const _0x24f858=_0xa1db72['isExit']===!![];_0x24f858?this[_0xbdc135(0x291)]():(this[_0xbdc135(0x232)]&&(this['log'][_0xbdc135(0x251)]('Bewegung\x20w√§hrend\x20Exit-Timer\x20erkannt\x20->\x20Bewohner\x20ist\x20noch\x20da.'),this[_0xbdc135(0x280)]()),!this['isPresent']&&this[_0xbdc135(0x188)]===SYSTEM_MODES[_0xbdc135(0x208)]&&await this[_0xbdc135(0x17e)](!![]));}const _0x4ab2a5={'timestamp':_0x50f543['ts'],'id':_0x8abed7,'name':_0xa1db72[_0xbdc135(0x27e)],'value':_0x50f543['val'],'location':_0xa1db72[_0xbdc135(0x21e)],'type':_0xa1db72[_0xbdc135(0x16c)]};this[_0xbdc135(0x213)]['unshift'](_0x4ab2a5);if(this[_0xbdc135(0x213)][_0xbdc135(0x216)]>HISTORY_MAX_SIZE)this[_0xbdc135(0x213)][_0xbdc135(0x21d)]();await this[_0xbdc135(0x198)]('events.lastEvent',{'val':JSON[_0xbdc135(0x17f)](_0x4ab2a5),'ack':!![]}),await this[_0xbdc135(0x198)](_0xbdc135(0x2e1),{'val':JSON[_0xbdc135(0x17f)](this[_0xbdc135(0x213)]),'ack':!![]}),this[_0xbdc135(0x20c)][_0xbdc135(0x183)]({'timestamp':new Date(_0x50f543['ts'])[_0xbdc135(0x243)](),'sensorName':_0xa1db72[_0xbdc135(0x27e)],'location':_0xa1db72[_0xbdc135(0x21e)],'value':_0x50f543['val']}),await this[_0xbdc135(0x19a)]();}async['runAutopilot'](){const _0x2ba886=a0_0x5775e2,_0x8d48b1=this[_0x2ba886(0x211)][_0x2ba886(0x179)],_0x37d4d9=this[_0x2ba886(0x211)][_0x2ba886(0x338)],_0xa10bd2=this[_0x2ba886(0x213)][_0x2ba886(0x216)]>0x0?this['eventHistory'][0x0][_0x2ba886(0x250)]:Date[_0x2ba886(0x1c1)](),_0x47feb2=(Date[_0x2ba886(0x1c1)]()-_0xa10bd2)/(0x3e8*0x3c*0x3c);let _0x396d97='';_0x37d4d9&&this['currentSystemMode']===SYSTEM_MODES['NORMAL']&&this['isPresent']&&(_0x47feb2>_0x8d48b1&&(_0x396d97=_0x2ba886(0x20d)+_0x47feb2[_0x2ba886(0x1ad)](0x1)+_0x2ba886(0x26d)));if(_0x396d97){this[_0x2ba886(0x22f)](_0x396d97)['catch'](_0x7f7bc8=>this['log'][_0x2ba886(0x249)](_0x7f7bc8));return;}const _0x39cd33=Date['now'](),_0x623c39=_0x39cd33-_0xa10bd2,_0x1e7da2=(this[_0x2ba886(0x211)][_0x2ba886(0x2fc)]||0xf)*0x3c*0x3e8;this[_0x2ba886(0x213)]['length']>0x0&&_0x623c39<=_0x1e7da2?this['runGeminiAnalysis']()['catch'](_0x593298=>this[_0x2ba886(0x18c)]['error'](_0x593298)):!this['lastAlertState']&&(this[_0x2ba886(0x1a0)]('analysis.isAlert',{'val':![],'ack':!![]}),this[_0x2ba886(0x1a0)](_0x2ba886(0x2b2),{'val':![],'ack':!![]}));}async[a0_0x5775e2(0x22f)](_0x24cceb=''){const _0x1c1ce1=a0_0x5775e2;if(!this[_0x1c1ce1(0x220)])return;const _0x2e2edb=this['eventHistory'][_0x1c1ce1(0x216)]>0x0?this['eventHistory']:[{'note':_0x1c1ce1(0x1ba)}],_0x1d426c=PERSONA_MAPPING[this[_0x1c1ce1(0x211)][_0x1c1ce1(0x221)]||_0x1c1ce1(0x1d4)],_0x1fd471=this[_0x1c1ce1(0x211)]['livingContext']||'',_0xa19961=this['currentSystemMode'],_0x15e84a=await this[_0x1c1ce1(0x27c)](),_0x3e9303=await this[_0x1c1ce1(0x229)](),_0x2ccb5c=(_0x15e84a+'\x20'+_0x3e9303)['trim'](),_0x20e681=new Date(),_0x5e15e1=_0x20e681[_0x1c1ce1(0x223)](_0x1c1ce1(0x1af),{'weekday':_0x1c1ce1(0x182),'hour':'2-digit','minute':'2-digit'}),_0x84c2ef=this['systemConfig'];let _0x56886b='';if(this['feedbackHistory'][_0x1c1ce1(0x216)]>0x0){const _0x227259=this[_0x1c1ce1(0x19e)][_0x1c1ce1(0x2a7)](0x0,0x3)['map'](_0x761f22=>_0x1c1ce1(0x2d8)+_0x761f22[_0x1c1ce1(0x1b6)]+_0x1c1ce1(0x2c5)+_0x761f22[_0x1c1ce1(0x2e0)]+'.')['join']('\x0a');_0x56886b=_0x1c1ce1(0x330)+_0x227259+'\x0a';}const _0x442d88=_0x24cceb?_0x1c1ce1(0x16d)+_0x24cceb+'\x0a!!!\x20END\x20WARNING\x20!!!\x0a':'',_0x5b0e0f=_0x1c1ce1(0x30c),_0x458275=_0x1c1ce1(0x2d1)+_0x5e15e1+'.\x20ORT:\x20'+_0x84c2ef[_0x1c1ce1(0x307)]+_0x1c1ce1(0x225)+_0xa19961+'.\x20PR√ÑSENZ:\x20'+(this[_0x1c1ce1(0x2ee)]?'Ja':_0x1c1ce1(0x1ca))+_0x1c1ce1(0x2c8)+_0x1fd471+'.\x20PERSONA:\x20'+_0x1d426c+_0x1c1ce1(0x2e7)+_0x2ccb5c+_0x1c1ce1(0x2da)+_0x5b0e0f+'\x20'+_0x56886b+'\x20'+_0x442d88+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20'+JSON[_0x1c1ce1(0x17f)](_0x2e2edb)+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AUFGABE:\x20Analysiere\x20die\x20Events\x20auf\x20Aktivit√§t,\x20Komfort\x20und\x20GESUNDHEIT.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20Nutze\x20den\x20EXTERNEN\x20KONTEXT\x20(Wetter/Kalender)\x20um\x20Fehlalarme\x20zu\x20vermeiden\x20(z.B.\x20Regen\x20=\x20keine\x20Gartenaktivit√§t,\x20Termin\x20=\x20Abwesend).\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22isEmergency\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number\x20(0-100),\x20\x22restlessness\x22:\x20\x22none|low|medium|high\x22,\x20\x22notes\x22:\x20\x22string\x22\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}';try{const _0x54718a=await this['geminiModel'][_0x1c1ce1(0x18f)](_0x458275),_0x2e741c=_0x54718a[_0x1c1ce1(0x1ac)][_0x1c1ce1(0x1ff)]()[_0x1c1ce1(0x25a)](/```json|```/g,'')[_0x1c1ce1(0x1cf)](),_0x363be3=JSON['parse'](_0x2e741c);await this[_0x1c1ce1(0x198)](_0x1c1ce1(0x16f),{'val':_0x2e741c,'ack':!![]}),await this[_0x1c1ce1(0x198)](_0x1c1ce1(0x1b7),{'val':_0x363be3[_0x1c1ce1(0x240)][_0x1c1ce1(0x1b6)]||'','ack':!![]}),await this['setStateAsync'](_0x1c1ce1(0x185),{'val':_0x363be3[_0x1c1ce1(0x240)][_0x1c1ce1(0x282)]||_0x1c1ce1(0x323),'ack':!![]}),await this[_0x1c1ce1(0x198)](_0x1c1ce1(0x28a),{'val':_0x363be3[_0x1c1ce1(0x240)]['deviationFromBaseline']||'N/A','ack':!![]});_0x363be3[_0x1c1ce1(0x1fa)]&&(await this['setStateAsync'](_0x1c1ce1(0x265),{'val':_0x363be3[_0x1c1ce1(0x1fa)][_0x1c1ce1(0x282)]||'','ack':!![]}),await this['setStateAsync'](_0x1c1ce1(0x1c6),{'val':_0x363be3[_0x1c1ce1(0x1fa)][_0x1c1ce1(0x277)]||'','ack':!![]}),_0x363be3[_0x1c1ce1(0x1fa)][_0x1c1ce1(0x2b9)]&&(await this[_0x1c1ce1(0x198)](_0x1c1ce1(0x1b1),{'val':_0x363be3[_0x1c1ce1(0x1fa)][_0x1c1ce1(0x2b9)][_0x1c1ce1(0x1cb)]||![],'ack':!![]}),await this[_0x1c1ce1(0x198)](_0x1c1ce1(0x206),{'val':_0x363be3['comfort']['automationProposal']['description']||'','ack':!![]}),await this[_0x1c1ce1(0x198)](_0x1c1ce1(0x1b8),{'val':_0x363be3[_0x1c1ce1(0x1fa)]['automationProposal'][_0x1c1ce1(0x2f2)]||'','ack':!![]})));_0x363be3[_0x1c1ce1(0x33f)]&&(await this['setStateAsync'](_0x1c1ce1(0x283),{'val':typeof _0x363be3[_0x1c1ce1(0x33f)][_0x1c1ce1(0x336)]==='number'?_0x363be3['health'][_0x1c1ce1(0x336)]:0x0,'ack':!![]}),await this['setStateAsync'](_0x1c1ce1(0x2bf),{'val':_0x363be3[_0x1c1ce1(0x33f)][_0x1c1ce1(0x234)]||_0x1c1ce1(0x202),'ack':!![]}),await this['setStateAsync'](_0x1c1ce1(0x217),{'val':_0x363be3['health']['notes']||'','ack':!![]}));const _0x5f21cd=_0x363be3['activity'][_0x1c1ce1(0x1a8)]||![],_0xa2d00a=_0x363be3[_0x1c1ce1(0x240)][_0x1c1ce1(0x308)]||![];if(_0x5f21cd||_0xa2d00a){await this[_0x1c1ce1(0x198)](_0x1c1ce1(0x2c2),{'val':!![],'ack':!![]}),await this[_0x1c1ce1(0x198)]('analysis.isEmergency',{'val':_0xa2d00a,'ack':!![]});if(!this[_0x1c1ce1(0x197)]||_0xa2d00a){const _0x53a1a7=_0xa2d00a?_0x1c1ce1(0x260):_0x1c1ce1(0x236);this[_0x1c1ce1(0x2b5)](_0x53a1a7+':\x20'+_0x363be3[_0x1c1ce1(0x240)][_0x1c1ce1(0x1b6)],![],_0xa2d00a);}}else await this[_0x1c1ce1(0x198)](_0x1c1ce1(0x2c2),{'val':![],'ack':!![]}),await this[_0x1c1ce1(0x198)](_0x1c1ce1(0x2b2),{'val':![],'ack':!![]});this['lastAlertState']=_0x5f21cd||_0xa2d00a;const _0x8a2745={'timestamp':Date[_0x1c1ce1(0x1c1)](),'id':Date[_0x1c1ce1(0x1c1)]()[_0x1c1ce1(0x2ed)](),'analysis':_0x363be3,'systemMode':_0xa19961,'isPro':this[_0x1c1ce1(0x25f)]};this[_0x1c1ce1(0x266)](_0x8a2745);}catch(_0x477458){this[_0x1c1ce1(0x18c)][_0x1c1ce1(0x249)](_0x1c1ce1(0x196)+_0x477458[_0x1c1ce1(0x313)]);}}async['createDailyDigest'](){const _0x1de474=a0_0x5775e2;if(!this[_0x1de474(0x220)]||this[_0x1de474(0x20c)][_0x1de474(0x216)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await this['setStateAsync'](LTM_DP_STATUS,{'val':'Zu\x20wenig\x20Daten\x20f√ºr\x20Daily\x20Digest.','ack':!![]});return;}this[_0x1de474(0x18c)][_0x1de474(0x251)](_0x1de474(0x253)+this[_0x1de474(0x20c)][_0x1de474(0x216)]+_0x1de474(0x2a0)),await this['setStateAsync'](LTM_DP_STATUS,{'val':_0x1de474(0x16e),'ack':!![]});const _0x458703=this[_0x1de474(0x20c)][_0x1de474(0x216)]>0x320?this[_0x1de474(0x20c)][_0x1de474(0x2a7)](this[_0x1de474(0x20c)][_0x1de474(0x216)]-0x320):this[_0x1de474(0x20c)],_0x1bcdde=PERSONA_MAPPING[this[_0x1de474(0x211)][_0x1de474(0x221)]||_0x1de474(0x1d4)],_0x430a79=_0x1de474(0x23d)+_0x1bcdde+_0x1de474(0x1d3)+JSON['stringify'](_0x458703)+_0x1de474(0x192);try{const _0x303245=await this[_0x1de474(0x220)][_0x1de474(0x18f)](_0x430a79),_0x7ff8c6=_0x303245['response']['text']()['replace'](/```json|```/g,'')[_0x1de474(0x1cf)](),_0x1eb537=JSON[_0x1de474(0x1f8)](_0x7ff8c6),_0x55c1c0={'timestamp':new Date()['toISOString'](),'eventCount':this[_0x1de474(0x20c)]['length'],'summary':_0x1eb537['summary'],'activityLevel':_0x1eb537[_0x1de474(0x1f5)],'health':{'sleepScore':_0x1eb537[_0x1de474(0x33f)]?_0x1eb537[_0x1de474(0x33f)]['sleepScore']:0x0,'restlessness':_0x1eb537['health']?_0x1eb537[_0x1de474(0x33f)]['restlessness']:_0x1de474(0x202)},'systemMode':this[_0x1de474(0x188)]};this[_0x1de474(0x1c2)][_0x1de474(0x183)](_0x55c1c0),await this[_0x1de474(0x30d)](),this[_0x1de474(0x20c)]=[],await this[_0x1de474(0x19a)](),await this[_0x1de474(0x198)](LTM_DP_STATUS,{'val':_0x1de474(0x1cd),'ack':!![]}),this[_0x1de474(0x18c)][_0x1de474(0x251)](_0x1de474(0x29f));}catch(_0x2af489){this[_0x1de474(0x18c)]['error'](_0x1de474(0x233)+_0x2af489[_0x1de474(0x313)]),await this['setStateAsync'](LTM_DP_STATUS,{'val':'Fehler:\x20'+_0x2af489[_0x1de474(0x313)],'ack':!![]});}}async[a0_0x5775e2(0x1a7)](){const _0x2f8a51=a0_0x5775e2;if(!this[_0x2f8a51(0x220)])return;this[_0x2f8a51(0x18c)][_0x2f8a51(0x251)](_0x2f8a51(0x2fe));const _0x1ed1c3=this[_0x2f8a51(0x1c2)]['length']>0x0?this['dailyDigests'][this['dailyDigests'][_0x2f8a51(0x216)]-0x1]:null,_0x3f6001=_0x1ed1c3&&_0x1ed1c3[_0x2f8a51(0x33f)]?_0x1ed1c3['health'][_0x2f8a51(0x336)]:_0x2f8a51(0x323),_0x444d32=new Date();_0x444d32[_0x2f8a51(0x331)](0x4,0x0,0x0,0x0);const _0x48f954=this[_0x2f8a51(0x213)][_0x2f8a51(0x207)](_0x989afc=>new Date(_0x989afc[_0x2f8a51(0x250)])>_0x444d32),_0xbf8e5d=PERSONA_MAPPING[this[_0x2f8a51(0x211)]['aiPersona']||_0x2f8a51(0x1d4)],_0x451a06=this[_0x2f8a51(0x211)][_0x2f8a51(0x246)]||'',_0x411358=await this[_0x2f8a51(0x27c)](),_0x19e0b8=await this[_0x2f8a51(0x229)](),_0x88eef7=_0x2f8a51(0x289)+_0xbf8e5d+_0x2f8a51(0x305)+_0x451a06+_0x2f8a51(0x1ab)+_0x411358+'\x20'+_0x19e0b8+_0x2f8a51(0x21f)+_0x3f6001+_0x2f8a51(0x28e)+JSON[_0x2f8a51(0x17f)](_0x48f954['slice'](0x0,0xa))+_0x2f8a51(0x1ef);try{const _0x14417e=await this[_0x2f8a51(0x220)][_0x2f8a51(0x18f)](_0x88eef7),_0x3afbf0=_0x2f8a51(0x25d)+_0x14417e[_0x2f8a51(0x1ac)][_0x2f8a51(0x1ff)]()[_0x2f8a51(0x1cf)]();this[_0x2f8a51(0x2b5)](_0x3afbf0),this[_0x2f8a51(0x18c)][_0x2f8a51(0x251)](_0x2f8a51(0x222));}catch(_0x4b1607){this[_0x2f8a51(0x18c)]['error'](_0x2f8a51(0x32a)+_0x4b1607[_0x2f8a51(0x313)]);}}async['scanForDevices'](_0x49be01){const _0x5e8bb2=a0_0x5775e2;this[_0x5e8bb2(0x18c)][_0x5e8bb2(0x251)](_0x5e8bb2(0x28b));const _0x3e0940=[],_0x5cc4ba=await this['getForeignObjectsAsync']('*'),_0x503e2e=await this[_0x5e8bb2(0x2e2)](_0x5e8bb2(0x184),_0x5e8bb2(0x1b4)),_0x29cef3={};if(_0x503e2e)for(const _0x25cc23 in _0x503e2e){const _0x1c6ea7=_0x503e2e[_0x25cc23][_0x5e8bb2(0x1a9)][_0x5e8bb2(0x2f6)];if(_0x1c6ea7&&Array[_0x5e8bb2(0x269)](_0x1c6ea7)){const _0xbdddf9=typeof _0x503e2e[_0x25cc23][_0x5e8bb2(0x1a9)]['name']==='object'?_0x503e2e[_0x25cc23][_0x5e8bb2(0x1a9)]['name']['de']:_0x503e2e[_0x25cc23][_0x5e8bb2(0x1a9)][_0x5e8bb2(0x27e)];for(const _0x2a218d of _0x1c6ea7){_0x29cef3[_0x2a218d]=_0xbdddf9;}}}const _0x30e269=await this[_0x5e8bb2(0x2e2)]('enum.functions.*','enum'),_0x205c28={};if(_0x30e269)for(const _0x11c6ca in _0x30e269){const _0x3b4cd6=_0x30e269[_0x11c6ca][_0x5e8bb2(0x1a9)][_0x5e8bb2(0x2f6)],_0x4e0fbb=_0x11c6ca[_0x5e8bb2(0x187)]('.')[_0x5e8bb2(0x21d)]()[_0x5e8bb2(0x1b3)]();if(_0x3b4cd6&&Array['isArray'](_0x3b4cd6))for(const _0x584e35 of _0x3b4cd6){if(!_0x205c28[_0x584e35])_0x205c28[_0x584e35]=[];_0x205c28[_0x584e35]['push'](_0x4e0fbb);}}const _0x5e5e02=_0x49be01['selectedFunctionIds']||[],_0x4e61a3=_0x49be01[_0x5e8bb2(0x204)]!==![],_0x1809aa=_0x49be01[_0x5e8bb2(0x2ff)]!==![],_0x147387=_0x49be01[_0x5e8bb2(0x252)]!==![],_0x1df331=_0x49be01[_0x5e8bb2(0x18a)]===!![],_0x29d853=_0x49be01[_0x5e8bb2(0x23a)]===!![];for(const _0xb1a88c in _0x5cc4ba){const _0x850fb1=_0x5cc4ba[_0xb1a88c];if(_0x850fb1[_0x5e8bb2(0x16c)]!==_0x5e8bb2(0x332))continue;if(!_0x850fb1[_0x5e8bb2(0x1a9)])continue;if(ADAPTER_BLACKLIST[_0x5e8bb2(0x2d5)](_0x1658b=>_0xb1a88c[_0x5e8bb2(0x2fb)](_0x1658b))){if(!_0x29d853)continue;}const _0x148360=(_0x850fb1[_0x5e8bb2(0x1a9)][_0x5e8bb2(0x1d7)]||'')[_0x5e8bb2(0x1b3)]();let _0x22bd7b=(typeof _0x850fb1[_0x5e8bb2(0x1a9)][_0x5e8bb2(0x27e)]===_0x5e8bb2(0x186)?_0x850fb1[_0x5e8bb2(0x1a9)]['name']['de']:_0x850fb1[_0x5e8bb2(0x1a9)][_0x5e8bb2(0x27e)])||_0xb1a88c;const _0x2bcca6=_0xb1a88c[_0x5e8bb2(0x187)]('.');_0x2bcca6[_0x5e8bb2(0x21d)]();const _0x50cf11=_0x2bcca6[_0x5e8bb2(0x263)]('.'),_0x2bc081=_0x5cc4ba[_0x50cf11];if(_0x2bc081&&_0x2bc081[_0x5e8bb2(0x1a9)]&&_0x2bc081[_0x5e8bb2(0x1a9)][_0x5e8bb2(0x27e)]){const _0x4d1383=typeof _0x2bc081[_0x5e8bb2(0x1a9)][_0x5e8bb2(0x27e)]===_0x5e8bb2(0x186)?_0x2bc081[_0x5e8bb2(0x1a9)]['name']['de']:_0x2bc081[_0x5e8bb2(0x1a9)][_0x5e8bb2(0x27e)];_0x4d1383&&typeof _0x4d1383==='string'&&(!_0x22bd7b['toLowerCase']()[_0x5e8bb2(0x1c3)](_0x4d1383[_0x5e8bb2(0x1b3)]())&&(_0x22bd7b=_0x4d1383+'\x20'+_0x22bd7b));}const _0x226409=_0x22bd7b[_0x5e8bb2(0x1b3)](),_0x1a7711=_0x205c28[_0xb1a88c]||[];let _0x265ace=![],_0x279481=![];if(_0x5e5e02[_0x5e8bb2(0x216)]>0x0)for(const _0x30249c of _0x5e5e02){if(_0x30e269[_0x30249c]&&_0x30e269[_0x30249c][_0x5e8bb2(0x1a9)]['members']){const _0x4ce185=_0x30e269[_0x30249c][_0x5e8bb2(0x1a9)][_0x5e8bb2(0x2f6)];if(_0x4ce185[_0x5e8bb2(0x1c3)](_0xb1a88c)||_0x4ce185[_0x5e8bb2(0x2d5)](_0x4ac06a=>_0xb1a88c['startsWith'](_0x4ac06a+'.'))){_0x265ace=!![],_0x279481=!![];break;}}}if(!_0x265ace&&!_0x29d853){if(IGNORE_TERMS[_0x5e8bb2(0x2d5)](_0x35ffa9=>_0xb1a88c[_0x5e8bb2(0x292)]()[_0x5e8bb2(0x1c3)](_0x35ffa9)||_0x226409[_0x5e8bb2(0x1c3)](_0x35ffa9[_0x5e8bb2(0x1b3)]()))){if(!_0x148360['includes'](_0x5e8bb2(0x204))&&!_0x148360['includes'](_0x5e8bb2(0x276))&&!_0x148360['includes'](_0x5e8bb2(0x1c8)))continue;}}let _0x2dabbd='';if(_0x4e61a3){if(_0x148360[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x204))||_0x148360==='sensor.alarm'||_0x1a7711[_0x5e8bb2(0x2d5)](_0x47c496=>_0x47c496['includes']('motion')||_0x47c496[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x175))))_0x2dabbd=_0x5e8bb2(0x204);else{if(_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x2be))||_0x226409['includes']('motion')||_0x226409['includes'](_0x5e8bb2(0x2e4)))_0x2dabbd=_0x5e8bb2(0x204);}}if(!_0x2dabbd&&_0x1809aa){if(_0x148360['includes'](_0x5e8bb2(0x276))||_0x148360[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x23b))||_0x148360[_0x5e8bb2(0x1c3)]('lock')||_0x148360[_0x5e8bb2(0x1c3)]('blind')||_0x1a7711[_0x5e8bb2(0x2d5)](_0x4f9078=>_0x4f9078[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x23b))||_0x4f9078[_0x5e8bb2(0x1c3)]('door')||_0x4f9078[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x1c9))))_0x2dabbd=_0x5e8bb2(0x276);else{if(_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x2d7))||_0x226409['includes'](_0x5e8bb2(0x30a))||_0x226409['includes'](_0x5e8bb2(0x276))||_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x23b))||_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x2a5))||_0x226409[_0x5e8bb2(0x1c3)]('rollladen')||_0x226409['includes'](_0x5e8bb2(0x1ee))||_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x1e5)))_0x2dabbd=_0x5e8bb2(0x276);}}if(!_0x2dabbd&&_0x147387){if(_0x148360[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x1f3))||_0x148360[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x1c8))||_0x148360[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x257))||_0x1a7711[_0x5e8bb2(0x2d5)](_0x4ff333=>_0x4ff333['includes'](_0x5e8bb2(0x1f3)))){if(_0x850fb1[_0x5e8bb2(0x1a9)][_0x5e8bb2(0x24a)]||_0x148360['includes'](_0x5e8bb2(0x259)))_0x2dabbd=_0x5e8bb2(0x1f3);}else{if(_0x226409['includes']('licht')||_0x226409[_0x5e8bb2(0x1c3)]('light')||_0x226409['includes']('lampe')||_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x27a))||_0x226409['includes'](_0x5e8bb2(0x23f))){if(_0x850fb1[_0x5e8bb2(0x1a9)][_0x5e8bb2(0x24a)])_0x2dabbd=_0x5e8bb2(0x1f3);}}}if(!_0x2dabbd&&_0x1df331){if(_0x148360[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x18a))||_0x148360[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x2bc))||_0x148360['includes'](_0x5e8bb2(0x1bd)))_0x2dabbd=_0x5e8bb2(0x18a);else{if(_0x226409['includes'](_0x5e8bb2(0x309))||_0x226409['includes']('klima')||_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x1bd)))_0x2dabbd=_0x5e8bb2(0x18a);}}!_0x2dabbd&&_0x279481&&(_0x2dabbd='custom');if(_0x2dabbd){let _0x50a263=_0x29cef3[_0xb1a88c]||'';!_0x50a263&&(_0x50a263=_0x29cef3[_0x50cf11]||'');if(!_0x50a263){if(_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x1dd)))_0x50a263=_0x5e8bb2(0x1e0);else{if(_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x348)))_0x50a263=_0x5e8bb2(0x2e6);else{if(_0x226409[_0x5e8bb2(0x1c3)]('wohn'))_0x50a263=_0x5e8bb2(0x1bf);else{if(_0x226409['includes']('schlaf'))_0x50a263=_0x5e8bb2(0x2f8);else{if(_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x2a4))||_0x226409['includes'](_0x5e8bb2(0x287)))_0x50a263=_0x5e8bb2(0x180);else{if(_0x226409[_0x5e8bb2(0x1c3)]('garten'))_0x50a263=_0x5e8bb2(0x212);else{if(_0x226409[_0x5e8bb2(0x1c3)](_0x5e8bb2(0x2a8)))_0x50a263='B√ºro';}}}}}}}_0x3e0940['push']({'id':_0xb1a88c,'name':_0x22bd7b,'location':_0x50a263,'type':_0x2dabbd,'logDuplicates':_0x2dabbd==='motion','isExit':![],'_score':_0x50a263?0x50:_0x2dabbd===_0x5e8bb2(0x31a)?0x5a:0x28});}}return _0x3e0940['sort']((_0xb3489b,_0x5eed81)=>_0x5eed81['_score']-_0xb3489b[_0x5e8bb2(0x1e1)]),_0x3e0940;}[a0_0x5775e2(0x227)](_0x152017){const _0x17f871=a0_0x5775e2;if(typeof _0x152017==='object')return _0x152017;try{return JSON[_0x17f871(0x1f8)](_0x152017);}catch(_0x539cbd){return null;}}async[a0_0x5775e2(0x31f)](){const _0x3fbc31=a0_0x5775e2;try{const _0x53084b=[_0x3fbc31(0x278),'analysis.history_debug_01',_0x3fbc31(0x2d4),_0x3fbc31(0x1aa),'analysis.history_debug_04',_0x3fbc31(0x33b),_0x3fbc31(0x241),_0x3fbc31(0x228),_0x3fbc31(0x215),_0x3fbc31(0x1c0)];for(const _0x455082 of _0x53084b){try{const _0x22a2d0=await this[_0x3fbc31(0x30b)](_0x455082);_0x22a2d0&&await this[_0x3fbc31(0x235)](_0x455082);}catch(_0x45dec5){}}}catch(_0x308979){}}async[a0_0x5775e2(0x2b3)](){const _0x287c38=a0_0x5775e2;try{const _0x25a498=await this['getStateAsync'](_0x287c38(0x2e1));_0x25a498&&_0x25a498['val']&&(this['eventHistory']=JSON[_0x287c38(0x1f8)](_0x25a498[_0x287c38(0x2f7)][_0x287c38(0x2ed)]()));}catch(_0x5b30a4){this[_0x287c38(0x213)]=[];}try{const _0x10c3c1=await this[_0x287c38(0x29c)](_0x287c38(0x2ac));if(_0x10c3c1&&_0x10c3c1['val'])this[_0x287c38(0x33e)]=JSON[_0x287c38(0x1f8)](_0x10c3c1[_0x287c38(0x2f7)][_0x287c38(0x2ed)]());}catch(_0x1d0491){this[_0x287c38(0x33e)]=[];}}async['initSystemConfig'](){const _0xdc1cbd=a0_0x5775e2;try{const _0x4564d9=await this[_0xdc1cbd(0x303)]('system.config');_0x4564d9&&_0x4564d9[_0xdc1cbd(0x1a9)]&&(this['systemConfig']={'latitude':_0x4564d9[_0xdc1cbd(0x1a9)][_0xdc1cbd(0x1f4)]||0x0,'longitude':_0x4564d9[_0xdc1cbd(0x1a9)][_0xdc1cbd(0x1a6)]||0x0,'city':_0x4564d9[_0xdc1cbd(0x1a9)]['city']||''});}catch(_0x58dbef){}}async[a0_0x5775e2(0x295)](_0x5f5d0c){const _0x2e2acd=a0_0x5775e2;if(!_0x5f5d0c)return![];this[_0x2e2acd(0x1db)]=await this['getSystemUUID']();if(_0x5f5d0c==='TEST-PRO-KEY'||_0x5f5d0c[_0x2e2acd(0x2fb)](_0x2e2acd(0x23e)))return!![];return![];}async[a0_0x5775e2(0x214)](){const _0x1ed598=a0_0x5775e2;try{const _0xb8a3bf=await this[_0x1ed598(0x303)]('system.meta.uuid');if(_0xb8a3bf&&_0xb8a3bf[_0x1ed598(0x172)]&&_0xb8a3bf[_0x1ed598(0x172)][_0x1ed598(0x1e9)])return _0xb8a3bf[_0x1ed598(0x172)][_0x1ed598(0x1e9)];return _0x1ed598(0x33a);}catch(_0x3b9309){return _0x1ed598(0x17b);}}async[a0_0x5775e2(0x2ad)](){const _0x14f790=a0_0x5775e2;try{await this[_0x14f790(0x312)](),await this[_0x14f790(0x33c)]('system.isPresent',{'type':_0x14f790(0x332),'common':{'name':'Presence\x20Status','type':_0x14f790(0x2c6),'role':'indicator','read':!![],'write':![],'def':!![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x14f790(0x2e5),{'type':_0x14f790(0x332),'common':{'name':_0x14f790(0x2ae),'type':_0x14f790(0x2c4),'role':_0x14f790(0x2db),'read':!![],'write':![]},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x2e1),{'type':_0x14f790(0x332),'common':{'name':_0x14f790(0x24c),'type':_0x14f790(0x2c4),'role':_0x14f790(0x2db),'read':!![],'write':![]},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x2d2),{'type':_0x14f790(0x332),'common':{'name':_0x14f790(0x2dd),'type':_0x14f790(0x2c6),'role':_0x14f790(0x1a1),'read':!![],'write':!![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x14f790(0x1a3),{'type':'state','common':{'name':_0x14f790(0x2ca),'type':'boolean','role':_0x14f790(0x1a1),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x14f790(0x33c)]('analysis.lastResult',{'type':_0x14f790(0x332),'common':{'name':'Last\x20Result','type':_0x14f790(0x2c4),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x2c2),{'type':'state','common':{'name':_0x14f790(0x1b2),'type':_0x14f790(0x2c6),'role':_0x14f790(0x1e7),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x2b2),{'type':_0x14f790(0x332),'common':{'name':_0x14f790(0x285),'type':'boolean','role':_0x14f790(0x2de),'read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x14f790(0x1b7),{'type':_0x14f790(0x332),'common':{'name':'Alert\x20Reason','type':_0x14f790(0x2c4),'role':_0x14f790(0x29e),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x14f790(0x185),{'type':_0x14f790(0x332),'common':{'name':_0x14f790(0x1da),'type':_0x14f790(0x2c4),'role':_0x14f790(0x1ff),'read':!![],'write':![]},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x28a),{'type':'state','common':{'name':_0x14f790(0x311),'type':_0x14f790(0x2c4),'role':_0x14f790(0x332),'read':!![],'write':![],'def':_0x14f790(0x323)},'native':{}}),await this['setObjectNotExistsAsync']('analysis.comfortSummary',{'type':_0x14f790(0x332),'common':{'name':_0x14f790(0x284),'type':_0x14f790(0x2c4),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x1c6),{'type':_0x14f790(0x332),'common':{'name':_0x14f790(0x205),'type':_0x14f790(0x2c4),'role':_0x14f790(0x1ff),'read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](_0x14f790(0x1bb),{'type':'channel','common':{'name':_0x14f790(0x33d)},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x1b1),{'type':_0x14f790(0x332),'common':{'name':'Pattern\x20Detected','type':_0x14f790(0x2c6),'role':_0x14f790(0x26f),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x206),{'type':'state','common':{'name':'Description','type':'string','role':_0x14f790(0x1ff),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x14f790(0x1b8),{'type':'state','common':{'name':'Action','type':_0x14f790(0x2c4),'role':_0x14f790(0x1ff),'read':!![],'write':![]},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x2ac),{'type':'state','common':{'name':'Logbook','type':_0x14f790(0x2c4),'role':_0x14f790(0x2db),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x20f),{'type':_0x14f790(0x332),'common':{'name':'Feedback\x20Log','type':'string','role':_0x14f790(0x2db),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['extendObjectAsync']('analysis.health',{'type':_0x14f790(0x2af),'common':{'name':_0x14f790(0x273)},'native':{}}),await this['setObjectNotExistsAsync'](_0x14f790(0x283),{'type':_0x14f790(0x332),'common':{'name':_0x14f790(0x22b),'type':_0x14f790(0x2f9),'role':'value.health','read':!![],'write':![],'def':0x0},'native':{}}),await this['setObjectNotExistsAsync'](_0x14f790(0x2bf),{'type':_0x14f790(0x332),'common':{'name':_0x14f790(0x245),'type':_0x14f790(0x2c4),'role':_0x14f790(0x1ff),'read':!![],'write':![],'def':'none'},'native':{}}),await this[_0x14f790(0x33c)](_0x14f790(0x217),{'type':'state','common':{'name':_0x14f790(0x178),'type':_0x14f790(0x2c4),'role':_0x14f790(0x1ff),'read':!![],'write':![],'def':''},'native':{}}),await this['checkLtmObjects'](),await this[_0x14f790(0x2b1)]();}catch(_0x25d774){this['log'][_0x14f790(0x249)](_0x14f790(0x1c7)+_0x25d774[_0x14f790(0x313)]);}}async['checkSystemObjects'](){const _0x49f561=a0_0x5775e2;await this[_0x49f561(0x1f9)](_0x49f561(0x25c),{'type':_0x49f561(0x2af),'common':{'name':_0x49f561(0x2b0)},'native':{}}),await this[_0x49f561(0x1f9)](SYSTEM_DP_MODE,{'type':_0x49f561(0x332),'common':{'name':'System\x20Mode','type':_0x49f561(0x2c4),'role':_0x49f561(0x332),'read':!![],'write':!![],'def':SYSTEM_MODES['NORMAL'],'states':{[SYSTEM_MODES['NORMAL']]:_0x49f561(0x25e),[SYSTEM_MODES[_0x49f561(0x275)]]:_0x49f561(0x321),[SYSTEM_MODES['PARTY']]:'Party',[SYSTEM_MODES[_0x49f561(0x2ba)]]:_0x49f561(0x194)}},'native':{}});}async[a0_0x5775e2(0x22d)](){const _0x4c3b8e=a0_0x5775e2;await this[_0x4c3b8e(0x1f9)](_0x4c3b8e(0x26e),{'type':_0x4c3b8e(0x2af),'common':{'name':_0x4c3b8e(0x26e)},'native':{}}),await this[_0x4c3b8e(0x1f9)](LTM_DP_RAW_LOG,{'type':_0x4c3b8e(0x332),'common':{'name':'Raw\x20Log','type':_0x4c3b8e(0x2c4),'role':_0x4c3b8e(0x2db),'read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_DAILY_DIGESTS,{'type':_0x4c3b8e(0x332),'common':{'name':_0x4c3b8e(0x2df),'type':_0x4c3b8e(0x2c4),'role':_0x4c3b8e(0x2db),'read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_STATUS,{'type':_0x4c3b8e(0x332),'common':{'name':_0x4c3b8e(0x2ea),'type':_0x4c3b8e(0x2c4),'role':_0x4c3b8e(0x1ff),'read':!![],'write':![]},'native':{}}),await this[_0x4c3b8e(0x1f9)](LTM_DP_TRIGGER_DIGEST,{'type':_0x4c3b8e(0x332),'common':{'name':_0x4c3b8e(0x237),'type':_0x4c3b8e(0x2c6),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_BASELINE_STATUS,{'type':_0x4c3b8e(0x332),'common':{'name':_0x4c3b8e(0x333),'type':'string','role':'text','read':!![],'write':![]},'native':{}});}async[a0_0x5775e2(0x2b1)](){const _0x24c5fd=a0_0x5775e2;await this[_0x24c5fd(0x1f9)](LTM_DP_DRIFT_CHANNEL,{'type':_0x24c5fd(0x2af),'common':{'name':_0x24c5fd(0x2d6)},'native':{}}),await this[_0x24c5fd(0x1f9)](LTM_DP_DRIFT_STATUS,{'type':_0x24c5fd(0x332),'common':{'name':_0x24c5fd(0x1d0),'type':_0x24c5fd(0x2c4),'role':_0x24c5fd(0x332),'read':!![],'write':![],'def':_0x24c5fd(0x323)},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_DETAILS,{'type':_0x24c5fd(0x332),'common':{'name':_0x24c5fd(0x1d9),'type':'string','role':_0x24c5fd(0x1ff),'read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_LAST_CHECK,{'type':'state','common':{'name':_0x24c5fd(0x329),'type':_0x24c5fd(0x2f9),'role':_0x24c5fd(0x1eb),'read':!![],'write':![]},'native':{}});}async['loadSystemMode'](){const _0x118d19=a0_0x5775e2;try{const _0x1dfb01=await this[_0x118d19(0x29c)](SYSTEM_DP_MODE);_0x1dfb01&&_0x1dfb01[_0x118d19(0x2f7)]&&Object[_0x118d19(0x262)](SYSTEM_MODES)[_0x118d19(0x1c3)](_0x1dfb01[_0x118d19(0x2f7)])?this[_0x118d19(0x188)]=_0x1dfb01[_0x118d19(0x2f7)]:(this['currentSystemMode']=SYSTEM_MODES[_0x118d19(0x208)],await this[_0x118d19(0x198)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x118d19(0x208)],'ack':!![]}));}catch(_0x5e5d9d){this[_0x118d19(0x188)]=SYSTEM_MODES[_0x118d19(0x208)];}}async[a0_0x5775e2(0x30e)](){const _0xea2b28=a0_0x5775e2;try{const _0x25da81=await this[_0xea2b28(0x29c)](LTM_DP_RAW_LOG);if(_0x25da81&&_0x25da81[_0xea2b28(0x2f7)])this[_0xea2b28(0x20c)]=JSON[_0xea2b28(0x1f8)](_0x25da81['val']);}catch(_0x223a50){this[_0xea2b28(0x20c)]=[];}}async[a0_0x5775e2(0x272)](){const _0x4b8089=a0_0x5775e2;try{const _0x1243b6=await this[_0x4b8089(0x29c)](LTM_DP_DAILY_DIGESTS);if(_0x1243b6&&_0x1243b6['val'])this[_0x4b8089(0x1c2)]=JSON['parse'](_0x1243b6[_0x4b8089(0x2f7)]);}catch(_0x482b23){this[_0x4b8089(0x1c2)]=[];}await this['updateBaselineStatus']();}async['saveRawEventLog'](){const _0x12369c=a0_0x5775e2;this[_0x12369c(0x20c)][_0x12369c(0x216)]>RAW_LOG_MAX_SIZE&&this[_0x12369c(0x20c)]['splice'](0x0,this['rawEventLog'][_0x12369c(0x216)]-RAW_LOG_MAX_SIZE),await this[_0x12369c(0x198)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](this['rawEventLog']),'ack':!![]});}async[a0_0x5775e2(0x30d)](_0x2d5653=!![]){const _0x418242=a0_0x5775e2,_0x47be30=this['config'][_0x418242(0x1fe)]||0x3c;this[_0x418242(0x1c2)][_0x418242(0x216)]>_0x47be30&&this[_0x418242(0x1c2)][_0x418242(0x343)](0x0,this[_0x418242(0x1c2)][_0x418242(0x216)]-_0x47be30);await this[_0x418242(0x198)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x418242(0x17f)](this[_0x418242(0x1c2)]),'ack':!![]});if(_0x2d5653)await this[_0x418242(0x2ef)]();}async[a0_0x5775e2(0x266)](_0x16bdba){const _0x484452=a0_0x5775e2;this[_0x484452(0x33e)][_0x484452(0x1df)](_0x16bdba);if(this[_0x484452(0x33e)][_0x484452(0x216)]>ANALYSIS_HISTORY_MAX_SIZE)this[_0x484452(0x33e)][_0x484452(0x21d)]();await this[_0x484452(0x198)](_0x484452(0x2ac),{'val':JSON[_0x484452(0x17f)](this['analysisHistory']),'ack':!![]});}async[a0_0x5775e2(0x2ef)](){const _0x499ab4=a0_0x5775e2;if(!this[_0x499ab4(0x25f)]){await this['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x499ab4(0x1bc),'ack':!![]});return;}const _0x3763a9=this[_0x499ab4(0x1c2)][_0x499ab4(0x216)]>=(this[_0x499ab4(0x211)][_0x499ab4(0x2c3)]||0x7)?_0x499ab4(0x32c)+this[_0x499ab4(0x1c2)][_0x499ab4(0x216)]+_0x499ab4(0x170):_0x499ab4(0x2cd)+this[_0x499ab4(0x1c2)][_0x499ab4(0x216)]+'/'+(this['config'][_0x499ab4(0x2c3)]||0x7)+')';await this[_0x499ab4(0x198)](LTM_DP_BASELINE_STATUS,{'val':_0x3763a9,'ack':!![]});}async[a0_0x5775e2(0x2cb)](){const _0x8d0486=a0_0x5775e2,_0x2815a0=this[_0x8d0486(0x211)]['devices'];if(_0x2815a0&&_0x2815a0['length']>0x0){this['log'][_0x8d0486(0x251)]('Subscribing\x20to\x20'+_0x2815a0[_0x8d0486(0x216)]+_0x8d0486(0x2f5));for(const _0x1aacea of _0x2815a0){if(_0x1aacea['id']){await this[_0x8d0486(0x337)](_0x1aacea['id']);try{const _0x271539=await this['getForeignStateAsync'](_0x1aacea['id']);if(_0x271539)this[_0x8d0486(0x342)][_0x1aacea['id']]=_0x271539[_0x8d0486(0x2f7)];}catch(_0x4a40a0){}}}}}async[a0_0x5775e2(0x2a1)](){const _0x10d009=a0_0x5775e2,_0x594439=this['config']['presenceDevices']||[];if(_0x594439['length']>0x0){this[_0x10d009(0x18c)][_0x10d009(0x251)](_0x10d009(0x181)+_0x594439['length']+'\x20presence\x20devices...');for(const _0x268dcf of _0x594439){await this['subscribeForeignStatesAsync'](_0x268dcf);}try{await this['checkWifiPresence']();}catch(_0xe39af9){}}}async['getWeatherContext'](){const _0x4b87ef=a0_0x5775e2;try{if(!this[_0x4b87ef(0x211)]['useWeather'])return _0x4b87ef(0x2b7);let _0x4fcafd='';const _0x526413=this['config'][_0x4b87ef(0x320)];if(_0x526413)try{if(_0x526413[_0x4b87ef(0x1c3)](_0x4b87ef(0x274))){const _0x3710de=await this[_0x4b87ef(0x20e)](_0x526413+_0x4b87ef(0x261));if(_0x3710de&&_0x3710de[_0x4b87ef(0x2f7)])_0x4fcafd=_0x3710de[_0x4b87ef(0x2f7)];}else{if(_0x526413[_0x4b87ef(0x1c3)]('daswetter')){const _0x40f7a8=await this[_0x4b87ef(0x20e)](_0x526413+_0x4b87ef(0x26b));if(_0x40f7a8&&_0x40f7a8['val'])_0x4fcafd=_0x40f7a8[_0x4b87ef(0x2f7)];}else{if(_0x526413[_0x4b87ef(0x1c3)]('openweathermap')){const _0x42642a=await this['getForeignStateAsync'](_0x526413+_0x4b87ef(0x1ae));if(_0x42642a&&_0x42642a['val'])_0x4fcafd=_0x42642a[_0x4b87ef(0x2f7)];}}}}catch(_0x240c7f){}if(!_0x4fcafd){const _0x3e4402=[_0x4b87ef(0x1d8),'daswetter.0',_0x4b87ef(0x299),_0x4b87ef(0x341)];for(const _0x4ad532 of _0x3e4402){try{const _0x49d651=await this[_0x4b87ef(0x303)](_0x4ad532);if(_0x49d651){if(_0x4ad532['includes'](_0x4b87ef(0x274))){const _0x309dc5=await this[_0x4b87ef(0x20e)](_0x4ad532+'.Summary.Current');if(_0x309dc5&&_0x309dc5[_0x4b87ef(0x2f7)]){_0x4fcafd=_0x309dc5[_0x4b87ef(0x2f7)];break;}}}}catch(_0xf29301){}}}return _0x4fcafd?_0x4b87ef(0x1b5)+_0x4fcafd:_0x4b87ef(0x2b6);}catch(_0xab45bc){return _0x4b87ef(0x2aa)+_0xab45bc[_0x4b87ef(0x313)];}}async[a0_0x5775e2(0x229)](){const _0x28734c=a0_0x5775e2;try{if(!this[_0x28734c(0x211)][_0x28734c(0x2fa)])return _0x28734c(0x267);let _0x412704=this[_0x28734c(0x211)][_0x28734c(0x1a5)]||_0x28734c(0x31c),_0x1de040=this[_0x28734c(0x211)][_0x28734c(0x18e)]||[];if(typeof _0x1de040==='string')_0x1de040=_0x1de040[_0x28734c(0x187)](',');try{const _0x3f3c85=await this['getForeignStateAsync'](_0x412704+_0x28734c(0x32d));if(_0x3f3c85&&_0x3f3c85[_0x28734c(0x2f7)]){let _0x22518d=this['tryParse'](_0x3f3c85[_0x28734c(0x2f7)]);if(_0x22518d&&Array[_0x28734c(0x269)](_0x22518d)){if(_0x1de040['length']>0x0)_0x22518d=_0x22518d[_0x28734c(0x207)](_0x382e5a=>_0x1de040[_0x28734c(0x1c3)](_0x382e5a[_0x28734c(0x325)]||''));else return _0x28734c(0x279);if(_0x22518d[_0x28734c(0x216)]>0x0){const _0x3a6c13=_0x22518d[_0x28734c(0x2a7)](0x0,0x3)[_0x28734c(0x200)](_0x3a846e=>{const _0x5351f2=_0x28734c;let _0x4db118=_0x3a846e[_0x5351f2(0x1eb)];if(_0x3a846e[_0x5351f2(0x1d5)])_0x4db118+='\x20'+_0x3a846e[_0x5351f2(0x1d5)];return _0x4db118+':\x20'+_0x3a846e[_0x5351f2(0x1dc)]+'\x20('+_0x3a846e[_0x5351f2(0x325)]+')';});return _0x28734c(0x297)+_0x3a6c13[_0x28734c(0x263)]('\x20|\x20');}else return _0x28734c(0x298);}}}catch(_0x30e29b){this[_0x28734c(0x18c)][_0x28734c(0x300)]('Error\x20reading\x20calendar\x20table:\x20'+_0x30e29b[_0x28734c(0x313)]);}return _0x28734c(0x2cc);}catch(_0x24b12a){return _0x28734c(0x19f)+_0x24b12a['message'];}}async[a0_0x5775e2(0x1f2)](_0x4c3b3a){const _0x322cf5=a0_0x5775e2;try{const _0x5cd959=await this[_0x322cf5(0x20e)](_0x4c3b3a+_0x322cf5(0x32d));if(_0x5cd959&&_0x5cd959[_0x322cf5(0x2f7)]){const _0x9f5e80=this[_0x322cf5(0x227)](_0x5cd959[_0x322cf5(0x2f7)]);if(_0x9f5e80&&Array['isArray'](_0x9f5e80)){const _0x2b0b5f=[...new Set(_0x9f5e80[_0x322cf5(0x200)](_0x50d548=>_0x50d548[_0x322cf5(0x325)])[_0x322cf5(0x207)](Boolean))];return _0x2b0b5f[_0x322cf5(0x1d6)]();}}return[];}catch(_0x25884d){return this[_0x322cf5(0x18c)][_0x322cf5(0x249)]('getCalendarNames\x20Error:\x20'+_0x25884d[_0x322cf5(0x313)]),[];}}async[a0_0x5775e2(0x28f)](){const _0x3417b5=a0_0x5775e2;try{const _0x8dee29=this[_0x3417b5(0x211)][_0x3417b5(0x2a9)]||[];let _0x5ce836=![];for(const _0x4bb23d of _0x8dee29){try{const _0x3e91f8=await this['getForeignStateAsync'](_0x4bb23d);if(_0x3e91f8&&(_0x3e91f8[_0x3417b5(0x2f7)]===!![]||_0x3e91f8['val']===_0x3417b5(0x254)||_0x3e91f8[_0x3417b5(0x2f7)]===0x1)){_0x5ce836=!![];break;}}catch(_0x19cc3){}}return _0x5ce836&&(this['exitTimer']&&(this[_0x3417b5(0x18c)][_0x3417b5(0x251)](_0x3417b5(0x334)),this['abortExitTimer']()),!this[_0x3417b5(0x2ee)]&&this[_0x3417b5(0x188)]===SYSTEM_MODES[_0x3417b5(0x208)]&&await this['setPresence'](!![])),_0x5ce836;}catch(_0xcf5430){return this[_0x3417b5(0x18c)][_0x3417b5(0x249)](_0x3417b5(0x2ab)+_0xcf5430[_0x3417b5(0x313)]),![];}}[a0_0x5775e2(0x291)](){const _0x45686d=a0_0x5775e2;this[_0x45686d(0x280)](),this[_0x45686d(0x17d)]=!![],this[_0x45686d(0x317)]=setTimeout(()=>{const _0x1bb8aa=_0x45686d;this[_0x1bb8aa(0x17d)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this[_0x45686d(0x232)]=setTimeout(()=>{const _0x20e42d=_0x45686d;this[_0x20e42d(0x17e)](![]),this['exitTimer']=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}[a0_0x5775e2(0x280)](){const _0x437d8b=a0_0x5775e2;if(this[_0x437d8b(0x232)])clearTimeout(this[_0x437d8b(0x232)]);if(this[_0x437d8b(0x317)])clearTimeout(this['exitGraceTimer']);this['exitTimer']=null,this['exitGraceTimer']=null,this[_0x437d8b(0x17d)]=![];}async['setPresence'](_0x59cf23){const _0x5f05b3=a0_0x5775e2;if(this[_0x5f05b3(0x2ee)]===_0x59cf23)return;this[_0x5f05b3(0x2ee)]=_0x59cf23,await this[_0x5f05b3(0x198)]('system.isPresent',{'val':_0x59cf23,'ack':!![]});}async['saveFeedback'](_0x1894b6){const _0xf8ad68=a0_0x5775e2;this['log'][_0xf8ad68(0x251)](_0xf8ad68(0x30f)+JSON['stringify'](_0x1894b6));}async['runBaselineDriftAnalysis'](){const _0x29624e=a0_0x5775e2;if(!this['isProVersion']||!this[_0x29624e(0x220)])return;const _0x31748b=this[_0x29624e(0x211)][_0x29624e(0x2b4)]||0xe;if(this[_0x29624e(0x1c2)][_0x29624e(0x216)]<_0x31748b+(this[_0x29624e(0x211)][_0x29624e(0x2c3)]||0x7)){await this[_0x29624e(0x198)](LTM_DP_DRIFT_STATUS,{'val':_0x29624e(0x31d),'ack':!![]});return;}const _0x2e1f1a=this[_0x29624e(0x1c2)][_0x29624e(0x2a7)](-_0x31748b),_0x2dd00e=this[_0x29624e(0x1c2)][_0x29624e(0x2a7)](0x0,this[_0x29624e(0x1c2)]['length']-_0x31748b),_0x3a73e5=_0x29624e(0x189)+JSON[_0x29624e(0x17f)](_0x2dd00e)+_0x29624e(0x238)+JSON[_0x29624e(0x17f)](_0x2e1f1a);try{const _0x4ae017=await this[_0x29624e(0x220)][_0x29624e(0x18f)](_0x3a73e5),_0x6bd629=JSON[_0x29624e(0x1f8)](_0x4ae017[_0x29624e(0x1ac)]['text']()['replace'](/```json|```/g,'')[_0x29624e(0x1cf)]());_0x6bd629[_0x29624e(0x1a4)]&&(await this[_0x29624e(0x198)](LTM_DP_DRIFT_STATUS,{'val':_0x6bd629['baselineDrift'],'ack':!![]}),await this[_0x29624e(0x198)](LTM_DP_DRIFT_DETAILS,{'val':_0x6bd629[_0x29624e(0x328)],'ack':!![]}),await this[_0x29624e(0x198)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x29624e(0x1c1)](),'ack':!![]}));}catch(_0x52bf75){}}[a0_0x5775e2(0x301)](){const _0x4dbecb=a0_0x5775e2;try{if(this[_0x4dbecb(0x244)])this[_0x4dbecb(0x244)][_0x4dbecb(0x1de)]();if(!this['isProVersion']){this['setStateAsync'](LTM_DP_STATUS,{'val':'Deaktiviert\x20(Pro-Feature)','ack':!![]});return;}this[_0x4dbecb(0x244)]=schedule[_0x4dbecb(0x339)](LTM_SCHEDULE,()=>this[_0x4dbecb(0x306)]());}catch(_0x52be82){this[_0x4dbecb(0x18c)][_0x4dbecb(0x249)]('LTM\x20Sched\x20Error:\x20'+_0x52be82[_0x4dbecb(0x313)]);}}[a0_0x5775e2(0x23c)](){const _0x5d512d=a0_0x5775e2;try{if(this['modeResetJob'])this['modeResetJob'][_0x5d512d(0x1de)]();this[_0x5d512d(0x1ce)]=schedule[_0x5d512d(0x339)](MODE_RESET_SCHEDULE,async()=>{const _0x529b6e=_0x5d512d;await this[_0x529b6e(0x1e4)](),AUTO_RESET_MODES[_0x529b6e(0x1c3)](this['currentSystemMode'])&&await this[_0x529b6e(0x198)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x529b6e(0x208)],'ack':![]});});}catch(_0x5e956a){this[_0x5d512d(0x18c)][_0x5d512d(0x249)](_0x5d512d(0x255)+_0x5e956a[_0x5d512d(0x313)]);}}[a0_0x5775e2(0x281)](){const _0x20f758=a0_0x5775e2;try{if(this[_0x20f758(0x24b)])clearInterval(this[_0x20f758(0x24b)]);if(!this[_0x20f758(0x25f)])return;this['driftAnalysisTimer']=setInterval(()=>this[_0x20f758(0x2e8)](),(this[_0x20f758(0x211)]['ltmDriftCheckIntervalHours']||0x18)*0x36ee80),setTimeout(()=>this['runBaselineDriftAnalysis'](),0x1388);}catch(_0xf867b5){this['log'][_0x20f758(0x249)](_0x20f758(0x24d)+_0xf867b5[_0x20f758(0x313)]);}}[a0_0x5775e2(0x1f7)](){const _0x34e817=a0_0x5775e2;try{if(this[_0x34e817(0x210)])this[_0x34e817(0x210)][_0x34e817(0x1de)]();if(!this[_0x34e817(0x211)]['briefingEnabled'])return;const _0x4a04a6=(this[_0x34e817(0x211)][_0x34e817(0x21a)]||'08:00')[_0x34e817(0x187)](':'),_0xe2b73=parseInt(_0x4a04a6[0x0])||0x8,_0x4d7d47=parseInt(_0x4a04a6[0x1])||0x0,_0x303f6d=_0x4d7d47+'\x20'+_0xe2b73+_0x34e817(0x29b);this[_0x34e817(0x18c)]['info'](_0x34e817(0x174)+_0xe2b73+':'+(_0x4d7d47<0xa?'0'+_0x4d7d47:_0x4d7d47)),this['briefingJob']=schedule['scheduleJob'](_0x303f6d,()=>{const _0x3eb717=_0x34e817;this[_0x3eb717(0x1a7)]();});}catch(_0x51e912){this[_0x34e817(0x18c)][_0x34e817(0x249)](_0x34e817(0x2d3)+_0x51e912[_0x34e817(0x313)]);}}async[a0_0x5775e2(0x2b5)](_0x2493b8,_0x577542=![],_0x3ceec9=![]){const _0x1b31d7=a0_0x5775e2;this['log']['info']((_0x577542?_0x1b31d7(0x318):'')+_0x1b31d7(0x290)+_0x2493b8+'\x22'+(_0x3ceec9?_0x1b31d7(0x1ea):''));const _0x39576e=this[_0x1b31d7(0x211)];let _0x597e9f=0x0;_0x39576e[_0x1b31d7(0x32e)]&&_0x39576e['notifyTelegramInstance']&&(await this[_0x1b31d7(0x304)](_0x39576e[_0x1b31d7(0x264)],'send',{'text':_0x2493b8,'user':_0x39576e['notifyTelegramRecipient']}),_0x597e9f++);if(_0x39576e[_0x1b31d7(0x335)]&&_0x39576e[_0x1b31d7(0x2a6)]){let _0x33f54e={'message':_0x2493b8,'title':_0x3ceec9?'üö®\x20EMERGENCY':_0x1b31d7(0x248),'priority':_0x3ceec9?0x2:0x1,'device':_0x39576e['notifyPushoverRecipient']};_0x3ceec9&&(_0x33f54e[_0x1b31d7(0x310)]=0x1e,_0x33f54e['expire']=0xe10,_0x33f54e['sound']=_0x1b31d7(0x2f4)),await this[_0x1b31d7(0x304)](_0x39576e['notifyPushoverInstance'],_0x1b31d7(0x21c),_0x33f54e),_0x597e9f++;}return _0x39576e[_0x1b31d7(0x2e9)]&&_0x39576e[_0x1b31d7(0x268)]&&(await this[_0x1b31d7(0x304)](_0x39576e[_0x1b31d7(0x268)],_0x1b31d7(0x21c),{'text':_0x2493b8,'to':_0x39576e[_0x1b31d7(0x26a)]}),_0x597e9f++),_0x39576e[_0x1b31d7(0x2f1)]&&_0x39576e[_0x1b31d7(0x191)]&&(await this[_0x1b31d7(0x304)](_0x39576e[_0x1b31d7(0x191)],_0x1b31d7(0x21c),{'text':_0x2493b8,'phone':_0x39576e[_0x1b31d7(0x171)]}),_0x597e9f++),_0x39576e[_0x1b31d7(0x1fc)]&&_0x39576e[_0x1b31d7(0x224)]&&(await this['sendToAsync'](_0x39576e[_0x1b31d7(0x224)],'send',{'text':_0x2493b8,'phone':_0x39576e[_0x1b31d7(0x346)]}),_0x597e9f++),_0x597e9f;}}if(require[a0_0x5775e2(0x173)]!==module)module['exports']=_0x2881c3=>new CogniLiving(_0x2881c3);else new CogniLiving();