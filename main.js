const a0_0x3ceb92=a0_0x2948;(function(_0x167c92,_0xc65f53){const _0x3a475b=a0_0x2948,_0x419504=_0x167c92();while(!![]){try{const _0xa69ee9=parseInt(_0x3a475b(0x234))/0x1+parseInt(_0x3a475b(0x1f7))/0x2+parseInt(_0x3a475b(0x202))/0x3*(-parseInt(_0x3a475b(0x22a))/0x4)+parseInt(_0x3a475b(0x205))/0x5*(parseInt(_0x3a475b(0x2c1))/0x6)+parseInt(_0x3a475b(0x2d2))/0x7+parseInt(_0x3a475b(0x309))/0x8+-parseInt(_0x3a475b(0x249))/0x9;if(_0xa69ee9===_0xc65f53)break;else _0x419504['push'](_0x419504['shift']());}catch(_0x2ad865){_0x419504['push'](_0x419504['shift']());}}}(a0_0xfbb4,0x6a235));const a0_0x4149dc=(function(){let _0x395cf0=!![];return function(_0x457cc8,_0x495025){const _0x53ec72=_0x395cf0?function(){const _0x2c61e8=a0_0x2948;if(_0x495025){const _0x5c64bb=_0x495025[_0x2c61e8(0x232)](_0x457cc8,arguments);return _0x495025=null,_0x5c64bb;}}:function(){};return _0x395cf0=![],_0x53ec72;};}()),a0_0x13989c=a0_0x4149dc(this,function(){const _0x39cade=a0_0x2948;return a0_0x13989c[_0x39cade(0x308)]()['search'](_0x39cade(0x2fc))[_0x39cade(0x308)]()[_0x39cade(0x32e)](a0_0x13989c)[_0x39cade(0x266)]('(((.+)+)+)+$');});a0_0x13989c();function a0_0xfbb4(){const _0x3f84f2=['scanThermostats','ðŸ§ \x20Graph-Brain:\x20Training\x20Behaviour\x20Matrix\x20based\x20on\x20','infrasoundArmingId','getOverviewData','Active\x20Ventilation\x20Alerts','apply','trackerHeartbeat','271440ALCOrm','\x20rooms\x20(preventing\x20Cold\x20Start\x20Amnesia).','scanForDevices','lastTrackerEventTime','Heizung\x20kann\x20','ðŸ§ \x20Memory\x20Protection:\x20Restoring\x20persisted\x20AI-Calculations\x20(preventing\x20\x27Cold\x20Start\x27\x20amnesia).','initHistory','sensor.window','analysis.training.triggerEnergy','parse','[Infrasound]\x20ðŸŸ¡\x20Debug-Mode:\x20Alarm\x20detected\x20but\x20suppressed\x20because\x20presence=true.','callback','devices','rawEventLog','startService','Memory\x20Hydration\x20Failed:\x20','setHours','WiFi\x20Presence\x20detected.','PINN\x20AI\x20Forecast','analysis.automation.targetId','Sec-Training\x20started...','13790286YLbGUj','triggerGaitAnalysis','LTM.dailyDigests','clear','analysis.triggerBriefing','infrasoundLocked','getGenerativeModel','Could\x20not\x20read\x20daily\x20vector:\x20','dependencyInstallInProgress','analysisHistory','processSensorEvent','handleInfrasound','checkAndInstall','isArray','name','TRAIN_COMFORT','setObjectNotExistsAsync','toLowerCase','length','getForeignStateAsync','setupBriefingScheduler','notifyTelegramEnabled','pop','fill','updateHealthVector','{\x22default\x22:\x2021}','protectAiMemory','now','SET_LEARNING_MODE','search','simulateEnergyMPC','analysis.automation.description','some','abs','[Forensics]\x20Save\x20failed:\x20','trackerEnabled','forecast.current.weather','command','Test','analysis.security.infrasoundLog','ack','analysis.energy.ventilationAlerts','analysis.energy.warmupTimes','enum','checkWifiPresence','split','checkLicense','OPTIMIZE_ENERGY','namespace','createDailyDigest','cogni-living','analysis.health.gaitSensors','checkThermostats','from','window','.data.table','automation.triggerAction','analyzeWindowOpening','LTM.trainingData.thermodynamics','analysis.automation.patternDetected','runGeminiAnalysis','getForeignObjectsAsync','getStateAsync','sensorLastValues','error','triggerEnergyPrediction','cogni-living\x20adapter\x20starting\x20(v','getCalendarNames','Current.WeatherText','getState','ready','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','@google/generative-ai','[Infrasound]\x20ðŸš¨\x20ALARM\x20TRIGGERED!\x20Pressure\x20Wave:\x20','Forensic\x20Infrasound\x20Log','object','INTERNAL','onMessage','ltmJob','\x20min\x20ausbleiben.','sendNotification','[Infrasound]\x20Subscribing\x20to\x20external\x20sensor:\x20','Key\x20not\x20found\x20or\x20not\x20provided','common','./lib/topology','getLtmData','ALARM','daswetter.0','klar','key','ðŸ¤–\x20Butler\x20Training\x20started.\x20Injecting\x20knowledge\x20about\x20','analysis.energy.mpcActive','manual','getHours','\x20sequences...','exitGraceTimer','analysisTimer','cleanupGhostInterventions','Kein\x20Wetter-Adapter','generateContent','times','Gemini\x20Init\x20Error:\x20','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','updated','scores','./lib/scanner','createAllObjects','stopService','dailyDigests','includes','presenceDevices','isProVersion','infrasoundEnabled','PYTHON_EXE','analysis.energy.insulationScore','toFixed','Standard','Fehler:\x20','executeAutomationAction','20058ehBLJK','onUnload','infrasoundSensorId','timestamp','setupLtmScheduler','Sensors\x20used\x20for\x20Gait\x20Analysis','PREDICT_ENERGY','eventHistory','simulateButler','runAutopilot','@iobroker/adapter-core','setStateAsync','inactivityThresholdHours','Guest\x20Mode','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','refreshCalendar','val','4977700NrRaUG','sources','SET_TOPOLOGY','Keine\x20Sensor-AktivitÃ¤t','getEnums','loadSystemMode','MATCH\x20(False\x20Positive)','analysis.security.learningStatus','briefingJob','debug','analysis.energy.warmupSources','bootTime','location','analysis.health.todayVector','testNotification','floor','analysisInterval','analysis.health.activityTrend','motion','Lernphase\x20(','slice','state','healthTrendInterval','analysis.automation.triggerAction','driftAnalysisTimer','role','triggerInfrasoundCorrelation','analysis.training.status','Kein\x20API\x20Key\x20Ã¼bergeben','Nuukanni\x20Security','stringify','analysis.automation.targetValue','isSolar','sensor.door','onStateChange','enum.functions.*','subscribeForeignStatesAsync','checkSolarCondition','heiter','scanDevices','setState','application/json','(((.+)+)+)+$','subscribeForeignStates','analysis.training.triggerSecurity','LTM.trainingData.sequences','json','TRAIN_HEALTH','sendTo','pressureBuffer','.communicate.request','isGracePeriodActive','[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]','isPresent','toString','3221824MwAeOC','infrasoundThreshold','stateChange','models/gemini-flash-latest','startSystem','Verbindung\x20erfolgreich!','notifyPushoverInstance','exitTimer','updateTopology','TRAIN_SECURITY','Warm-Up\x20Target\x20Temps\x20(JSON)','add','SYSTEM_DP_MODE','bind','info','map','Aktiv\x20(','forEach','minDaysForBaseline','matrix','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','./lib/installer','analysis.training.triggerTopology','text','Daily\x20Activity\x20Vector\x20(24h)','analysis.energy.rlPenalties','./lib/python_bridge','find','Gait\x20Speed\x20Calculation\x20Proof','exports','Daten\x20nicht\x20verfÃ¼gbar','testContext','party','security.alarm_triggered','geminiModel','./lib/setup','minutes_safe','constructor','abortExitTimer','updateTopologyMatrix','SYSTEM_MODES','runBaselineDriftAnalysis','config','Instanz\x20nicht\x20gefunden','sendMorningBriefing','General\x20Activity\x20Trend\x20(%)','join','LTM.triggerDailyDigest','dismissAutomation','filter','telegram','memoryCache','[Forensics]\x20Infrasound\x20Event\x20correlated:\x20','response','NORMAL','cancel','runPythonHealthCheck','type','triggerBriefing','Adapter','warn','values','send','geminiApiKey','analysis.energy.pinnForecast','1279608DOSuxK','string','appendToLog','version','temperature','currentSystemMode','Comfort\x20Train\x20Error:\x20','keys','setPresence','resetRLPenalty','analysis.topology.structure','15ojyTns','sort','TRAIN_TOPOLOGY','530TGnAym','message','\x20Tage)','system.adapter.','TRACK_EVENT','endsWith','door','ANOMALY\x20(Real\x20Threat?)','Keine\x20Antwort\x20von\x20Gemini','lastAlertState','activityLevel','instance','enum.rooms.*','genAI','log','â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','./lib/ai_agent','monitorEnforcements','ANALYZE_TREND','useWeather','analysis.training.triggerHealth','system.mode','calendarInstance','sunny','push','Active\x20Calendar\x20Enforcements\x20(Locks)','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','initSystemConfig','number','notifyTelegramInstance','Fenster\x20geÃ¶ffnet:\x20','magnet','Gemini\x20AI\x20initialized.','.system.mode','analysis.health.gaitDebug','LTM.rawEventLog','onReady','329948DFihHt','subscribeStates','analysis.training.triggerComfort'];a0_0xfbb4=function(){return _0x3f84f2;};return a0_0xfbb4();}'use strict';const utils=require(a0_0x3ceb92(0x2cb)),{GoogleGenerativeAI}=require(a0_0x3ceb92(0x291)),installer=require(a0_0x3ceb92(0x31e)),scanner=require(a0_0x3ceb92(0x2b3)),schedulers=require('./lib/scheduler'),topology=require(a0_0x3ceb92(0x29d)),setup=require(a0_0x3ceb92(0x32c)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x3ceb92(0x323)),aiAgent=require(a0_0x3ceb92(0x215)),deadMan=require('./lib/dead_man'),automation=require('./lib/automation'),GEMINI_MODEL=a0_0x3ceb92(0x30c),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x3ceb92(0x1f1)]{constructor(_0x56c525){const _0x208483=a0_0x3ceb92;super({..._0x56c525,'name':_0x208483(0x27b)}),this[_0x208483(0x2c8)]=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x208483(0x2b6)]=[],this[_0x208483(0x288)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x208483(0x307)]=!![],this[_0x208483(0x310)]=null,this[_0x208483(0x2a8)]=null,this[_0x208483(0x305)]=![],this['genAI']=null,this['geminiModel']=null,this['currentSystemMode']=setup['SYSTEM_MODES'][_0x208483(0x1ec)],this[_0x208483(0x2b9)]=![],this[_0x208483(0x20e)]=![],this[_0x208483(0x2a9)]=null,this['ltmJob']=null,this['modeResetJob']=null,this[_0x208483(0x2ea)]=null,this[_0x208483(0x2da)]=null,this['trackerHeartbeat']=null,this[_0x208483(0x2e8)]=null,this[_0x208483(0x251)]=![],this[_0x208483(0x237)]=Date[_0x208483(0x264)](),this[_0x208483(0x1e9)]=null,this[_0x208483(0x2dd)]=Date[_0x208483(0x264)](),this['infrasoundLocked']=![],this['pressureBuffer']=[],this['on'](_0x208483(0x28f),this[_0x208483(0x229)][_0x208483(0x316)](this)),this['on'](_0x208483(0x30b),this[_0x208483(0x2f4)][_0x208483(0x316)](this)),this['on']('unload',this[_0x208483(0x2c2)][_0x208483(0x316)](this)),this['on'](_0x208483(0x206),this[_0x208483(0x296)][_0x208483(0x316)](this));}async[a0_0x3ceb92(0x229)](){const _0x2ca570=a0_0x3ceb92;this[_0x2ca570(0x213)][_0x2ca570(0x317)](_0x2ca570(0x28b)+this[_0x2ca570(0x1fa)]+')\x20-\x20Phase\x20D\x20(Comfort\x20Refinement)');if(!installer[_0x2ca570(0x255)](this,()=>this[_0x2ca570(0x30d)]()))return;}async[a0_0x3ceb92(0x30d)](){const _0x5cc0b7=a0_0x3ceb92;await setup['initZombies'](this);try{this[_0x5cc0b7(0x2b9)]=await setup[_0x5cc0b7(0x277)](this['config']['licenseKey']);}catch(_0x48cc0f){}if(!this['config'][_0x5cc0b7(0x2cd)]||this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x2cd)]<0.1)this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x2cd)]=0xc;await setup[_0x5cc0b7(0x23a)](this),await setup[_0x5cc0b7(0x220)](this);try{const _0x55c838=await this[_0x5cc0b7(0x287)]('analysis.energy.warmupTimes'),_0x16b2b4=await this[_0x5cc0b7(0x287)](_0x5cc0b7(0x2dc));_0x55c838&&_0x55c838[_0x5cc0b7(0x2d1)]&&_0x16b2b4&&_0x16b2b4['val']&&(Date[_0x5cc0b7(0x264)]()-_0x55c838['ts']<0x4*0xe10*0x3e8&&(this[_0x5cc0b7(0x1e9)]={'times':JSON[_0x5cc0b7(0x23d)](_0x55c838[_0x5cc0b7(0x2d1)]),'sources':JSON[_0x5cc0b7(0x23d)](_0x16b2b4['val'])},this[_0x5cc0b7(0x213)][_0x5cc0b7(0x317)]('ðŸ§ \x20Memory:\x20Cache\x20hydrated\x20with\x20'+Object[_0x5cc0b7(0x1fe)](this[_0x5cc0b7(0x1e9)][_0x5cc0b7(0x2ad)])['length']+_0x5cc0b7(0x235))));}catch(_0x2ff514){this[_0x5cc0b7(0x213)][_0x5cc0b7(0x1f2)](_0x5cc0b7(0x243)+_0x2ff514[_0x5cc0b7(0x206)]);}if(this['config'][_0x5cc0b7(0x1f5)])try{this['genAI']=new GoogleGenerativeAI(this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x1f5)]),this[_0x5cc0b7(0x32b)]=this[_0x5cc0b7(0x212)][_0x5cc0b7(0x24f)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5cc0b7(0x2fb)}}),this['log'][_0x5cc0b7(0x317)](_0x5cc0b7(0x225));}catch(_0x281f06){this[_0x5cc0b7(0x213)][_0x5cc0b7(0x289)](_0x5cc0b7(0x2ae)+_0x281f06[_0x5cc0b7(0x206)]);}await setup[_0x5cc0b7(0x2b4)](this),await this[_0x5cc0b7(0x2d7)](),await this[_0x5cc0b7(0x259)](_0x5cc0b7(0x1f6),{'type':'state','common':{'name':_0x5cc0b7(0x246),'type':_0x5cc0b7(0x1f8),'role':_0x5cc0b7(0x300),'read':!![],'write':![]},'native':{}}),await this[_0x5cc0b7(0x259)](_0x5cc0b7(0x272),{'type':_0x5cc0b7(0x2e7),'common':{'name':_0x5cc0b7(0x231),'type':'string','role':_0x5cc0b7(0x300),'read':!![],'write':![]},'native':{}}),await this[_0x5cc0b7(0x259)](_0x5cc0b7(0x273),{'type':_0x5cc0b7(0x2e7),'common':{'name':_0x5cc0b7(0x2cf),'type':_0x5cc0b7(0x1f8),'role':_0x5cc0b7(0x300),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.warmupTargets',{'type':'state','common':{'name':_0x5cc0b7(0x313),'type':_0x5cc0b7(0x1f8),'role':_0x5cc0b7(0x300),'read':!![],'write':!![],'def':_0x5cc0b7(0x262)},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.rlPenalties',{'type':_0x5cc0b7(0x2e7),'common':{'name':'Reinforcement\x20Learning\x20Penalties','type':'string','role':_0x5cc0b7(0x300),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x5cc0b7(0x259)](_0x5cc0b7(0x2e3),{'type':_0x5cc0b7(0x2e7),'common':{'name':_0x5cc0b7(0x1e3),'type':_0x5cc0b7(0x221),'role':'value','unit':'%','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x5cc0b7(0x27c),{'type':_0x5cc0b7(0x2e7),'common':{'name':_0x5cc0b7(0x2c6),'type':_0x5cc0b7(0x1f8),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x5cc0b7(0x259)]('analysis.energy.activeEnforcements',{'type':_0x5cc0b7(0x2e7),'common':{'name':_0x5cc0b7(0x21e),'type':'string','role':_0x5cc0b7(0x300),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x5cc0b7(0x259)]('analysis.security.infrasoundLog',{'type':_0x5cc0b7(0x2e7),'common':{'name':_0x5cc0b7(0x293),'type':_0x5cc0b7(0x1f8),'role':_0x5cc0b7(0x300),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x5cc0b7(0x227),{'type':_0x5cc0b7(0x2e7),'common':{'name':_0x5cc0b7(0x325),'type':_0x5cc0b7(0x1f8),'role':_0x5cc0b7(0x320),'read':!![],'write':![]},'native':{}}),await this[_0x5cc0b7(0x259)](_0x5cc0b7(0x2df),{'type':'state','common':{'name':_0x5cc0b7(0x321),'type':_0x5cc0b7(0x1f8),'role':_0x5cc0b7(0x300),'read':!![],'write':![],'def':_0x5cc0b7(0x306)},'native':{}});try{const _0x35d36f=await this['getStateAsync'](_0x5cc0b7(0x228));if(_0x35d36f&&_0x35d36f[_0x5cc0b7(0x2d1)])this[_0x5cc0b7(0x241)]=JSON['parse'](_0x35d36f[_0x5cc0b7(0x2d1)]);}catch(_0x28537a){this[_0x5cc0b7(0x241)]=[];}try{const _0x2e0491=await this[_0x5cc0b7(0x287)](_0x5cc0b7(0x24b));if(_0x2e0491&&_0x2e0491[_0x5cc0b7(0x2d1)])this[_0x5cc0b7(0x2b6)]=JSON['parse'](_0x2e0491[_0x5cc0b7(0x2d1)]);}catch(_0x4f7024){this['dailyDigests']=[];}const _0x2d91c2=this[_0x5cc0b7(0x2b6)][_0x5cc0b7(0x25b)]>=(this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x31b)]||0x7)?_0x5cc0b7(0x319)+this[_0x5cc0b7(0x2b6)][_0x5cc0b7(0x25b)]+_0x5cc0b7(0x207):_0x5cc0b7(0x2e5)+this[_0x5cc0b7(0x2b6)][_0x5cc0b7(0x25b)]+'/'+(this[_0x5cc0b7(0x1e0)]['minDaysForBaseline']||0x7)+')';await this[_0x5cc0b7(0x2cc)]('LTM.baselineStatus',{'val':_0x2d91c2,'ack':!![]}),this[_0x5cc0b7(0x22b)]('analysis.trigger'),this[_0x5cc0b7(0x22b)](_0x5cc0b7(0x1e5)),this['subscribeStates'](_0x5cc0b7(0x21a)),this[_0x5cc0b7(0x22b)](_0x5cc0b7(0x24d)),this[_0x5cc0b7(0x22b)](_0x5cc0b7(0x2e9)),this[_0x5cc0b7(0x22b)]('analysis.automation.autoApply'),this['subscribeStates'](_0x5cc0b7(0x2fe)),this[_0x5cc0b7(0x22b)](_0x5cc0b7(0x219)),this[_0x5cc0b7(0x22b)]('analysis.training.triggerEnergy'),this['subscribeStates'](_0x5cc0b7(0x22c)),this[_0x5cc0b7(0x22b)](_0x5cc0b7(0x31f)),this[_0x5cc0b7(0x22b)](_0x5cc0b7(0x2a4)),this[_0x5cc0b7(0x22b)](_0x5cc0b7(0x2dc));this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x2ba)]&&this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x2c3)]&&(this[_0x5cc0b7(0x213)][_0x5cc0b7(0x317)](_0x5cc0b7(0x29a)+this['config'][_0x5cc0b7(0x2c3)]),this[_0x5cc0b7(0x2fd)](this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x2c3)]));const _0x587756=this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x240)];if(_0x587756)for(const _0x3f5c3c of _0x587756){await this[_0x5cc0b7(0x2f6)](_0x3f5c3c['id']);}const _0x170343=this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x2b8)];if(_0x170343)for(const _0x128f26 of _0x170343){await this[_0x5cc0b7(0x2f6)](_0x128f26);}if(this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x25e)]&&this['config'][_0x5cc0b7(0x222)])await this[_0x5cc0b7(0x2f6)](this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x222)]+_0x5cc0b7(0x304));setTimeout(()=>this[_0x5cc0b7(0x275)](),0x1388);if(this[_0x5cc0b7(0x2a9)])clearInterval(this['analysisTimer']);const _0x13493e=this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x2e2)]||0xf;_0x13493e>0x0&&(this[_0x5cc0b7(0x2a9)]=setInterval(()=>{const _0x5d9af7=_0x5cc0b7;this[_0x5d9af7(0x2ca)](),automation['checkCalendarTriggers'](this),automation[_0x5d9af7(0x216)](this);},_0x13493e*0x3c*0x3e8));setTimeout(()=>{const _0x1eed12=_0x5cc0b7;automation['checkCalendarTriggers'](this),automation[_0x1eed12(0x216)](this);},0x2710);this[_0x5cc0b7(0x1e0)][_0x5cc0b7(0x26c)]!==![]&&(this[_0x5cc0b7(0x233)]=setInterval(()=>{const _0x147af5=_0x5cc0b7;if(this[_0x147af5(0x2b9)]){const _0x362d1c=Date['now'](),_0x97fa4f=this[_0x147af5(0x237)]||_0x362d1c,_0x210ff0=(_0x362d1c-_0x97fa4f)/0x3e8;_0x210ff0>0x2&&(this['lastTrackerEventTime']=_0x362d1c,pythonBridge[_0x147af5(0x1f4)](this,_0x147af5(0x209),{'room':null,'dt':_0x210ff0}));}},0xbb8));if(this['healthTrendInterval'])clearInterval(this[_0x5cc0b7(0x2e8)]);this[_0x5cc0b7(0x2e8)]=setInterval(()=>{const _0x52a52d=_0x5cc0b7;this[_0x52a52d(0x2b9)]&&(this[_0x52a52d(0x213)][_0x52a52d(0x317)](_0x52a52d(0x214)),this[_0x52a52d(0x1ee)]());},0x4*0x3c*0x3c*0x3e8),schedulers[_0x5cc0b7(0x2c5)](this,()=>aiAgent[_0x5cc0b7(0x27a)](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers['setupDriftAnalysisScheduler'](this,()=>aiAgent[_0x5cc0b7(0x332)](this)),schedulers[_0x5cc0b7(0x25d)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x5cc0b7(0x242)](this,installer[_0x5cc0b7(0x2bb)]),setTimeout(async()=>{const _0x453b95=_0x5cc0b7;await topology['updateTopology'](this);try{const _0x3cf125=await this['getStateAsync'](_0x453b95(0x201));if(_0x3cf125&&_0x3cf125[_0x453b95(0x2d1)])pythonBridge[_0x453b95(0x1f4)](this,_0x453b95(0x2d4),JSON[_0x453b95(0x23d)](_0x3cf125['val']));}catch(_0x48ef09){}this[_0x453b95(0x1ee)](),this[_0x453b95(0x24a)](),this['triggerEnergyPrediction'](),this['updateHealthVector']();},0x1388);}[a0_0x3ceb92(0x2c2)](_0x54f39d){const _0x1dcf43=a0_0x3ceb92;if(this[_0x1dcf43(0x2a9)])clearInterval(this['analysisTimer']);if(this[_0x1dcf43(0x2ea)])clearInterval(this[_0x1dcf43(0x2ea)]);if(this['trackerHeartbeat'])clearInterval(this[_0x1dcf43(0x233)]);if(this[_0x1dcf43(0x2e8)])clearInterval(this[_0x1dcf43(0x2e8)]);if(this['ltmJob'])this[_0x1dcf43(0x297)][_0x1dcf43(0x1ed)]();if(this['modeResetJob'])this['modeResetJob']['cancel']();if(this['briefingJob'])this[_0x1dcf43(0x2da)][_0x1dcf43(0x1ed)]();recorder[_0x1dcf43(0x32f)](this),pythonBridge[_0x1dcf43(0x2b5)](this),_0x54f39d();}async[a0_0x3ceb92(0x2f4)](_0x5770a2,_0x528cca){const _0x30ef8e=a0_0x3ceb92;if(!_0x528cca||this[_0x30ef8e(0x251)])return;if(_0x5770a2[_0x30ef8e(0x2b7)](_0x30ef8e(0x1e8))&&_0x5770a2[_0x30ef8e(0x20a)]('communicate.request')&&_0x528cca['val'])return;if(this[_0x30ef8e(0x1e0)][_0x30ef8e(0x2ba)]&&_0x5770a2===this['config'][_0x30ef8e(0x2c3)]){this[_0x30ef8e(0x254)](_0x528cca[_0x30ef8e(0x2d1)]);return;}if(_0x5770a2===this[_0x30ef8e(0x279)]+_0x30ef8e(0x226)){if(_0x528cca['val']&&Object[_0x30ef8e(0x1f3)](setup[_0x30ef8e(0x331)])[_0x30ef8e(0x2b7)](_0x528cca['val'])){this[_0x30ef8e(0x1fc)]=_0x528cca['val'];if(_0x528cca['val']===setup[_0x30ef8e(0x331)]['VACATION'])await recorder['setPresence'](this,![]);else await recorder[_0x30ef8e(0x1ff)](this,!![]);if(this[_0x30ef8e(0x2b9)]){let _0x54754d=![],_0x1ea495=0x0,_0xfe08c9=_0x30ef8e(0x2a5);if(this[_0x30ef8e(0x1fc)]===_0x30ef8e(0x329))_0x54754d=!![],_0x1ea495=0x168,_0xfe08c9='Party\x20Mode';else this[_0x30ef8e(0x1fc)]==='guest'&&(_0x54754d=!![],_0x1ea495=0x5a0,_0xfe08c9=_0x30ef8e(0x2ce));pythonBridge[_0x30ef8e(0x1f4)](this,_0x30ef8e(0x265),{'active':_0x54754d,'duration':_0x1ea495,'label':_0xfe08c9}),await this[_0x30ef8e(0x2cc)](_0x30ef8e(0x2d9),{'val':JSON[_0x30ef8e(0x2f0)]({'active':_0x54754d,'label':_0xfe08c9,'timestamp':Date[_0x30ef8e(0x264)]()}),'ack':!![]});}}if(!_0x528cca[_0x30ef8e(0x271)])this[_0x30ef8e(0x2fa)](_0x5770a2,{'val':this[_0x30ef8e(0x1fc)],'ack':!![]});return;}_0x5770a2[_0x30ef8e(0x20a)](_0x30ef8e(0x2dc))&&_0x528cca[_0x30ef8e(0x271)]&&this['protectAiMemory'](_0x528cca[_0x30ef8e(0x2d1)]);if(!_0x528cca[_0x30ef8e(0x271)]){if(_0x5770a2[_0x30ef8e(0x2b7)]('analysis.trigger')&&_0x528cca[_0x30ef8e(0x2d1)]){this[_0x30ef8e(0x2fa)](_0x5770a2,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0x5770a2[_0x30ef8e(0x2b7)]('triggerDailyDigest')&&_0x528cca[_0x30ef8e(0x2d1)]){this['setState'](_0x5770a2,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x30ef8e(0x27a)](this,pythonBridge);return;}if(_0x5770a2['includes'](_0x30ef8e(0x1f0))&&_0x528cca[_0x30ef8e(0x2d1)]){this[_0x30ef8e(0x2fa)](_0x5770a2,{'val':![],'ack':!![]}),aiAgent[_0x30ef8e(0x1e2)](this);return;}if(_0x5770a2[_0x30ef8e(0x2b7)](_0x30ef8e(0x281))&&_0x528cca[_0x30ef8e(0x2d1)]){this[_0x30ef8e(0x2fa)](_0x5770a2,{'val':![],'ack':!![]}),aiAgent[_0x30ef8e(0x2c0)](this);return;}if(_0x5770a2[_0x30ef8e(0x2b7)](_0x30ef8e(0x2fe))&&_0x528cca[_0x30ef8e(0x2d1)]){this[_0x30ef8e(0x2fa)](_0x5770a2,{'val':![],'ack':!![]});if(this[_0x30ef8e(0x2b9)])try{const _0x1c7322=await this[_0x30ef8e(0x287)](_0x30ef8e(0x2ff));if(_0x1c7322&&_0x1c7322[_0x30ef8e(0x2d1)]){const _0x563112=JSON[_0x30ef8e(0x23d)](_0x1c7322[_0x30ef8e(0x2d1)]);this['setStateAsync'](_0x30ef8e(0x2ed),{'val':_0x30ef8e(0x248),'ack':!![]}),pythonBridge[_0x30ef8e(0x1f4)](this,_0x30ef8e(0x312),{'sequences':_0x563112});}}catch(_0x291a69){}return;}if(_0x5770a2['includes']('analysis.training.triggerHealth')&&_0x528cca[_0x30ef8e(0x2d1)]){this[_0x30ef8e(0x2fa)](_0x5770a2,{'val':![],'ack':!![]});if(this[_0x30ef8e(0x2b9)])try{const _0x5c51b9=await this['getStateAsync']('LTM.dailyDigests');if(_0x5c51b9&&_0x5c51b9[_0x30ef8e(0x2d1)])pythonBridge[_0x30ef8e(0x1f4)](this,_0x30ef8e(0x301),{'digests':JSON[_0x30ef8e(0x23d)](_0x5c51b9[_0x30ef8e(0x2d1)])});}catch(_0x49dee1){}return;}if(_0x5770a2[_0x30ef8e(0x2b7)](_0x30ef8e(0x23c))&&_0x528cca[_0x30ef8e(0x2d1)]){this[_0x30ef8e(0x2fa)](_0x5770a2,{'val':![],'ack':!![]});if(this[_0x30ef8e(0x2b9)])try{const _0x3bcb8d=await this[_0x30ef8e(0x287)](_0x30ef8e(0x283));if(_0x3bcb8d&&_0x3bcb8d[_0x30ef8e(0x2d1)])pythonBridge['send'](this,'TRAIN_ENERGY',{'points':JSON[_0x30ef8e(0x23d)](_0x3bcb8d[_0x30ef8e(0x2d1)])});}catch(_0x412acf){}return;}if(_0x5770a2[_0x30ef8e(0x2b7)](_0x30ef8e(0x22c))&&_0x528cca[_0x30ef8e(0x2d1)]){this[_0x30ef8e(0x2fa)](_0x5770a2,{'val':![],'ack':!![]});if(this[_0x30ef8e(0x2b9)])try{const _0x555881=await this[_0x30ef8e(0x287)](_0x30ef8e(0x228));if(_0x555881&&_0x555881[_0x30ef8e(0x2d1)]){const _0x275d69={};this[_0x30ef8e(0x1e0)][_0x30ef8e(0x240)]&&Array[_0x30ef8e(0x256)](this[_0x30ef8e(0x1e0)][_0x30ef8e(0x240)])&&this[_0x30ef8e(0x1e0)][_0x30ef8e(0x240)]['forEach'](_0x5ed5f8=>{const _0x37fbc6=_0x30ef8e;if(_0x5ed5f8['id']&&_0x5ed5f8[_0x37fbc6(0x1ef)])_0x275d69[_0x5ed5f8['id']]=_0x5ed5f8[_0x37fbc6(0x1ef)];}),this['log'][_0x30ef8e(0x317)](_0x30ef8e(0x2a3)+Object['keys'](_0x275d69)[_0x30ef8e(0x25b)]+'\x20devices.'),pythonBridge['send'](this,_0x30ef8e(0x258),{'events':JSON[_0x30ef8e(0x23d)](_0x555881[_0x30ef8e(0x2d1)]),'deviceMap':_0x275d69});}}catch(_0x554c08){this[_0x30ef8e(0x213)][_0x30ef8e(0x289)](_0x30ef8e(0x1fd)+_0x554c08[_0x30ef8e(0x206)]);}return;}if(_0x5770a2[_0x30ef8e(0x2b7)]('analysis.training.triggerTopology')&&_0x528cca[_0x30ef8e(0x2d1)]){this[_0x30ef8e(0x2fa)](_0x5770a2,{'val':![],'ack':!![]}),topology[_0x30ef8e(0x311)](this);if(this[_0x30ef8e(0x2b9)])try{const _0x56afa7=await this[_0x30ef8e(0x287)](_0x30ef8e(0x2ff));if(_0x56afa7&&_0x56afa7['val']){const _0x427ed7=JSON['parse'](_0x56afa7[_0x30ef8e(0x2d1)]);this[_0x30ef8e(0x213)]['info'](_0x30ef8e(0x22e)+_0x427ed7[_0x30ef8e(0x25b)]+_0x30ef8e(0x2a7)),pythonBridge[_0x30ef8e(0x1f4)](this,_0x30ef8e(0x204),{'sequences':_0x427ed7});}else this['log'][_0x30ef8e(0x1f2)]('âš ï¸\x20Graph-Brain:\x20No\x20training\x20sequences\x20found\x20in\x20LTM.');}catch(_0x18ab95){this['log'][_0x30ef8e(0x289)]('Graph-Brain\x20Train\x20Error:\x20'+_0x18ab95[_0x30ef8e(0x206)]);}return;}}if(this['config'][_0x30ef8e(0x2b8)]&&this['config']['presenceDevices'][_0x30ef8e(0x2b7)](_0x5770a2)){await this[_0x30ef8e(0x275)]();return;}const _0x44be61=(this[_0x30ef8e(0x1e0)]['devices']||[])[_0x30ef8e(0x324)](_0x4faca9=>_0x4faca9['id']===_0x5770a2);if(_0x44be61){const _0xe95039=await recorder[_0x30ef8e(0x253)](this,_0x5770a2,_0x528cca,_0x44be61);_0xe95039&&_0xe95039['type']===_0x30ef8e(0x2e4)&&_0xe95039[_0x30ef8e(0x2de)]&&this['isProVersion']&&deadMan['updateLocation'](this,_0xe95039[_0x30ef8e(0x2de)]),_0x528cca[_0x30ef8e(0x2d1)]&&(_0x528cca[_0x30ef8e(0x2d1)]===!![]||_0x528cca[_0x30ef8e(0x2d1)]===0x1||String(_0x528cca[_0x30ef8e(0x2d1)])[_0x30ef8e(0x25a)]()==='open')&&(_0x44be61[_0x30ef8e(0x1ef)]&&(_0x44be61[_0x30ef8e(0x1ef)][_0x30ef8e(0x2b7)]('window')||_0x44be61['type'][_0x30ef8e(0x2b7)](_0x30ef8e(0x20b))||_0x44be61[_0x30ef8e(0x1ef)]['includes'](_0x30ef8e(0x224)))&&this[_0x30ef8e(0x282)](_0x44be61)),(_0x44be61['type']===_0x30ef8e(0x1fb)||_0x44be61[_0x30ef8e(0x1ef)]==='thermostat')&&automation[_0x30ef8e(0x2aa)](this);}}async[a0_0x3ceb92(0x263)](_0x5f3b73){const _0x2406f8=a0_0x3ceb92;if(!this['memoryCache']||Date[_0x2406f8(0x264)]()-this[_0x2406f8(0x2dd)]>0x493e0)return;if(!this[_0x2406f8(0x1e9)][_0x2406f8(0x2d3)]||!this[_0x2406f8(0x1e9)][_0x2406f8(0x2ad)])return;try{const _0x105d2e=JSON['parse'](_0x5f3b73),_0x29329d=this['memoryCache'][_0x2406f8(0x2d3)];let _0x1438bb=![];for(const _0xcf830b in _0x29329d){if(_0x29329d[_0xcf830b][_0x2406f8(0x2b7)]('AI')&&_0x105d2e[_0xcf830b]&&!_0x105d2e[_0xcf830b][_0x2406f8(0x2b7)]('AI')){_0x1438bb=!![];break;}}_0x1438bb&&(this[_0x2406f8(0x213)]['info'](_0x2406f8(0x239)),await this['setStateAsync'](_0x2406f8(0x273),{'val':JSON[_0x2406f8(0x2f0)](this[_0x2406f8(0x1e9)][_0x2406f8(0x2ad)]),'ack':!![]}),await this['setStateAsync'](_0x2406f8(0x2dc),{'val':JSON['stringify'](this[_0x2406f8(0x1e9)][_0x2406f8(0x2d3)]),'ack':!![]}));}catch(_0x56821d){}}async['onMessage'](_0x24454b){const _0xb0b9b6=a0_0x3ceb92;if(typeof _0x24454b===_0xb0b9b6(0x294)&&_0x24454b[_0xb0b9b6(0x206)]){if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x27d))try{const _0x58911c=await automation[_0xb0b9b6(0x22d)](this);this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![],'results':_0x58911c},_0x24454b[_0xb0b9b6(0x23f)]);}catch(_0xf92658){this['sendTo'](_0x24454b['from'],_0x24454b[_0xb0b9b6(0x26e)],{'success':![],'error':_0xf92658['message']},_0x24454b['callback']);}else{if(_0x24454b['command']===_0xb0b9b6(0x267))try{const {current_temps:_0x4fcec4,t_out:_0x2088dd,targets:_0x43327c,t_forecast:_0xc3a49a}=_0x24454b[_0xb0b9b6(0x206)],_0x538956=[];let _0x2fce1f={};try{const _0x2da5d0=await this['getStateAsync'](_0xb0b9b6(0x2bc));if(_0x2da5d0&&_0x2da5d0['val']){const _0xe32f60=JSON[_0xb0b9b6(0x23d)](_0x2da5d0['val']);_0x2fce1f=_0xe32f60[_0xb0b9b6(0x2b2)]||_0xe32f60;}}catch(_0xc41423){}const _0x3cc386=_0xc3a49a!==undefined&&_0xc3a49a!==null?(_0x2088dd+_0xc3a49a)/0x2:_0x2088dd;for(const [_0x279caf,_0xc42452]of Object['entries'](_0x4fcec4)){const _0xd7b4a7=_0x43327c[_0x279caf]||0x15;if(_0xc42452<=_0xd7b4a7)continue;let _0xd3e5d9=_0x2fce1f[_0x279caf]||-0.5;if(_0xd3e5d9>=0x0)_0xd3e5d9=-0.5;const _0x3a6fb0=Math[_0xb0b9b6(0x26a)](_0xd3e5d9),_0x2a0a72=_0xc42452-_0xd7b4a7;let _0x17b7fa=Math['floor'](_0x2a0a72/_0x3a6fb0*0x3c);const _0x20a874=_0xc42452-_0x2088dd,_0x49c65b=_0xc42452-_0x3cc386;if(_0x49c65b!==0x0&&_0x20a874!==0x0){const _0x19f619=_0x20a874/_0x49c65b;_0x17b7fa=Math[_0xb0b9b6(0x2e1)](_0x17b7fa*_0x19f619);}if(_0x17b7fa>0xf){if(_0x17b7fa>0xf0)_0x17b7fa=0xf0;_0x538956[_0xb0b9b6(0x21d)]({'room':_0x279caf,'minutes_safe':_0x17b7fa,'target':_0xd7b4a7,'current':_0xc42452,'savings_msg':_0xb0b9b6(0x238)+_0x17b7fa+_0xb0b9b6(0x298)});}}_0x538956['sort']((_0x37a5f2,_0x984f7f)=>_0x984f7f[_0xb0b9b6(0x32d)]-_0x37a5f2[_0xb0b9b6(0x32d)]),this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b['command'],{'success':!![],'proposals':_0x538956},_0x24454b[_0xb0b9b6(0x23f)]);}catch(_0x5b68c5){this['sendTo'](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':![],'error':_0x5b68c5[_0xb0b9b6(0x206)]},_0x24454b[_0xb0b9b6(0x23f)]);}else{if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x2d0))try{await automation['updateSchedulePreview'](this),this['sendTo'](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![]},_0x24454b[_0xb0b9b6(0x23f)]);}catch(_0x17cc7d){this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':![],'error':_0x17cc7d[_0xb0b9b6(0x206)]},_0x24454b['callback']);}else{if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x200))try{const _0x3975ff=_0x24454b['message'][_0xb0b9b6(0x2a2)],_0x55ba11=_0xb0b9b6(0x322),_0x2daf72=await this[_0xb0b9b6(0x287)](_0x55ba11);let _0x472f39={};if(_0x2daf72&&_0x2daf72[_0xb0b9b6(0x2d1)])try{_0x472f39=JSON[_0xb0b9b6(0x23d)](_0x2daf72['val']);}catch(_0xf061ce){}_0x3975ff&&_0x472f39[_0x3975ff]?(delete _0x472f39[_0x3975ff],await this['setStateAsync'](_0x55ba11,{'val':JSON[_0xb0b9b6(0x2f0)](_0x472f39),'ack':!![]}),this['log'][_0xb0b9b6(0x317)](_0xb0b9b6(0x290)+_0x3975ff+_0xb0b9b6(0x31d)),this[_0xb0b9b6(0x302)](_0x24454b['from'],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![]},_0x24454b[_0xb0b9b6(0x23f)])):this[_0xb0b9b6(0x302)](_0x24454b['from'],_0x24454b[_0xb0b9b6(0x26e)],{'success':![],'error':_0xb0b9b6(0x29b)},_0x24454b[_0xb0b9b6(0x23f)]);}catch(_0x1d7ac4){this['sendTo'](_0x24454b['from'],_0x24454b[_0xb0b9b6(0x26e)],{'success':![],'error':_0x1d7ac4['message']},_0x24454b[_0xb0b9b6(0x23f)]);}else{if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x1e6))await this[_0xb0b9b6(0x2cc)](_0xb0b9b6(0x284),{'val':![],'ack':!![]}),await this[_0xb0b9b6(0x2cc)](_0xb0b9b6(0x268),{'val':'','ack':!![]}),await this[_0xb0b9b6(0x2cc)](_0xb0b9b6(0x247),{'val':'','ack':!![]}),this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![]},_0x24454b[_0xb0b9b6(0x23f)]);else{if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x2c9)){const {targetId:_0x418546,targetValue:_0x12855a}=_0x24454b[_0xb0b9b6(0x206)];await this[_0xb0b9b6(0x2cc)](_0xb0b9b6(0x284),{'val':!![],'ack':!![]}),await this[_0xb0b9b6(0x2cc)](_0xb0b9b6(0x268),{'val':'Simulation\x20durch\x20Admin\x20(Test)','ack':!![]}),await this[_0xb0b9b6(0x2cc)](_0xb0b9b6(0x247),{'val':_0x418546,'ack':!![]}),await this[_0xb0b9b6(0x2cc)](_0xb0b9b6(0x2f1),{'val':String(_0x12855a),'ack':!![]}),this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![]},_0x24454b[_0xb0b9b6(0x23f)]);}else{if(_0x24454b[_0xb0b9b6(0x26e)]==='testApiKey')try{const _0x5b3c75=_0x24454b[_0xb0b9b6(0x206)]['apiKey'];if(!_0x5b3c75)throw new Error(_0xb0b9b6(0x2ee));const _0x51927e=new GoogleGenerativeAI(_0x5b3c75),_0x20f6d1=_0x51927e[_0xb0b9b6(0x24f)]({'model':GEMINI_MODEL}),_0x2b9386=await _0x20f6d1[_0xb0b9b6(0x2ac)](_0xb0b9b6(0x26f)),_0x31dc2d=await _0x2b9386[_0xb0b9b6(0x1eb)];if(_0x31dc2d[_0xb0b9b6(0x320)]())this['sendTo'](_0x24454b['from'],_0x24454b['command'],{'success':!![],'message':_0xb0b9b6(0x30e)},_0x24454b[_0xb0b9b6(0x23f)]);else throw new Error(_0xb0b9b6(0x20d));}catch(_0x4017ec){this[_0xb0b9b6(0x302)](_0x24454b['from'],_0x24454b[_0xb0b9b6(0x26e)],{'success':![],'message':_0x4017ec['message']},_0x24454b['callback']);}else{if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x2f9))try{const _0x563d4d=await scanner[_0xb0b9b6(0x236)](this,_0x24454b['message']||{});this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b['command'],{'success':!![],'devices':_0x563d4d},_0x24454b[_0xb0b9b6(0x23f)]);}catch(_0x2a6463){this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b['command'],{'success':![],'error':_0x2a6463[_0xb0b9b6(0x206)]},_0x24454b['callback']);}else{if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x330))try{const {matrix:_0x5b9fc6}=_0x24454b[_0xb0b9b6(0x206)],_0x1f4d22=await this[_0xb0b9b6(0x287)](_0xb0b9b6(0x201));if(_0x1f4d22&&_0x1f4d22[_0xb0b9b6(0x2d1)]){const _0x16f96d=JSON['parse'](_0x1f4d22[_0xb0b9b6(0x2d1)]);_0x16f96d[_0xb0b9b6(0x31c)]=_0x5b9fc6,_0x16f96d[_0xb0b9b6(0x2b1)]=Date[_0xb0b9b6(0x264)](),await this[_0xb0b9b6(0x2cc)](_0xb0b9b6(0x201),{'val':JSON[_0xb0b9b6(0x2f0)](_0x16f96d),'ack':!![]}),pythonBridge[_0xb0b9b6(0x1f4)](this,_0xb0b9b6(0x2d4),_0x16f96d);}this[_0xb0b9b6(0x302)](_0x24454b['from'],_0x24454b['command'],{'success':!![]},_0x24454b[_0xb0b9b6(0x23f)]);}catch(_0x3e1e44){this[_0xb0b9b6(0x213)][_0xb0b9b6(0x289)](_0x3e1e44);}else{if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x29e))this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![],'dailyDigests':this[_0xb0b9b6(0x2b6)]||[],'analysisHistory':this[_0xb0b9b6(0x252)]||[]},_0x24454b[_0xb0b9b6(0x23f)]);else{if(_0x24454b['command']===_0xb0b9b6(0x230)){const _0x4df754=this[_0xb0b9b6(0x2b6)][_0xb0b9b6(0x25b)];let _0x4f8003=new Array(0x18)[_0xb0b9b6(0x260)](0x0);try{const _0x205242=await this[_0xb0b9b6(0x287)](_0xb0b9b6(0x2df));if(_0x205242&&_0x205242[_0xb0b9b6(0x2d1)])_0x4f8003=JSON['parse'](_0x205242['val']);else{const _0x3c3038=new Date()[_0xb0b9b6(0x244)](0x0,0x0,0x0,0x0);this[_0xb0b9b6(0x2c8)]&&this[_0xb0b9b6(0x2c8)][_0xb0b9b6(0x31a)](_0x2bb0bf=>{const _0x4b5bbf=_0xb0b9b6;if(_0x2bb0bf['timestamp']>=_0x3c3038){const _0x1fbad9=new Date(_0x2bb0bf[_0x4b5bbf(0x2c4)])['getHours']();if(_0x1fbad9>=0x0&&_0x1fbad9<0x18)_0x4f8003[_0x1fbad9]++;}});}}catch(_0x3b9893){this[_0xb0b9b6(0x213)]['warn'](_0xb0b9b6(0x250)+_0x3b9893[_0xb0b9b6(0x206)]);}let _0x3a7ca2=![],_0x1cc621='',_0x2ee149='',_0x42acfc='';try{const _0x1ae8fa=await this[_0xb0b9b6(0x287)](_0xb0b9b6(0x284));if(_0x1ae8fa&&_0x1ae8fa[_0xb0b9b6(0x2d1)]){_0x3a7ca2=!![];const _0x1d990c=await this[_0xb0b9b6(0x287)](_0xb0b9b6(0x268));_0x1cc621=_0x1d990c?_0x1d990c['val']:'';const _0x584502=await this['getStateAsync']('analysis.automation.targetId');_0x2ee149=_0x584502?_0x584502['val']:'';const _0x411c48=await this[_0xb0b9b6(0x287)]('analysis.automation.targetValue');_0x42acfc=_0x411c48?_0x411c48['val']:'';}}catch(_0x8aeea1){}const _0x41a543=await this[_0xb0b9b6(0x2f7)](),_0x19ad01=(this['config']['devices']||[])[_0xb0b9b6(0x269)](_0x2bce61=>_0x2bce61[_0xb0b9b6(0x2f2)]),_0x20598e=_0x41a543&&_0x19ad01;let _0x149915='';try{const _0x4b5e84=await this[_0xb0b9b6(0x287)]('system.presenceWho');if(_0x4b5e84&&_0x4b5e84[_0xb0b9b6(0x2d1)])_0x149915=_0x4b5e84[_0xb0b9b6(0x2d1)];}catch(_0x3a315f){}this['sendTo'](_0x24454b['from'],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![],'eventHistory':this[_0xb0b9b6(0x2c8)][_0xb0b9b6(0x2e6)](0x0,0x64),'stats':{'digestCount':_0x4df754,'isPresent':this['isPresent'],'hourlyActivity':_0x4f8003,'solarActive':_0x20598e,'presenceWho':_0x149915},'automation':{'detected':_0x3a7ca2,'description':_0x1cc621,'targetId':_0x2ee149,'targetValue':_0x42acfc}},_0x24454b['callback']);}else{if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x2d6)){const _0x2e60fe=await this[_0xb0b9b6(0x286)](_0xb0b9b6(0x2f5),_0xb0b9b6(0x274)),_0x2ad10a=[];if(_0x2e60fe)for(const _0x2d8039 in _0x2e60fe){const _0x3fff59=_0x2e60fe[_0x2d8039],_0x330930=(_0x3fff59[_0xb0b9b6(0x29c)]&&typeof _0x3fff59['common'][_0xb0b9b6(0x257)]==='object'?_0x3fff59[_0xb0b9b6(0x29c)][_0xb0b9b6(0x257)]['de']:_0x3fff59[_0xb0b9b6(0x29c)][_0xb0b9b6(0x257)])||_0x3fff59[_0xb0b9b6(0x29c)]['name'];_0x2ad10a[_0xb0b9b6(0x21d)]({'id':_0x2d8039,'name':_0x330930});}const _0x4e7580=await this[_0xb0b9b6(0x286)](_0xb0b9b6(0x211),_0xb0b9b6(0x274)),_0x33890f=[];if(_0x4e7580)for(const _0x2a42f5 in _0x4e7580){const _0x32d62b=_0x4e7580[_0x2a42f5],_0x2855e4=(_0x32d62b[_0xb0b9b6(0x29c)]&&typeof _0x32d62b[_0xb0b9b6(0x29c)][_0xb0b9b6(0x257)]===_0xb0b9b6(0x294)?_0x32d62b['common']['name']['de']:_0x32d62b[_0xb0b9b6(0x29c)][_0xb0b9b6(0x257)])||_0x2a42f5[_0xb0b9b6(0x276)]('.')[_0xb0b9b6(0x25f)]();_0x33890f[_0xb0b9b6(0x21d)](_0x2855e4);}this[_0xb0b9b6(0x302)](_0x24454b['from'],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![],'enums':_0x2ad10a,'rooms':_0x33890f},_0x24454b[_0xb0b9b6(0x23f)]);}else{if(_0x24454b['command']===_0xb0b9b6(0x328))try{let _0x517815=_0xb0b9b6(0x2ab),_0x35500a='Kein\x20Kalender-Adapter';if(this[_0xb0b9b6(0x1e0)][_0xb0b9b6(0x218)]){const _0x2a2f93=await recorder['getOutsideTemperatureNumeric'](this);_0x517815=_0x2a2f93!==null?_0x2a2f93+'Â°C':_0xb0b9b6(0x327);}if(this[_0xb0b9b6(0x1e0)]['calendarInstance']){const _0x2d6488=await this['getForeignObjectAsync'](_0xb0b9b6(0x208)+this['config'][_0xb0b9b6(0x21b)]);_0x35500a=_0x2d6488?'Verbunden':_0xb0b9b6(0x1e1);}this[_0xb0b9b6(0x302)](_0x24454b['from'],_0x24454b['command'],{'success':!![],'weather':_0x517815,'calendar':_0x35500a},_0x24454b[_0xb0b9b6(0x23f)]);}catch(_0x2e11c7){this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':![],'error':_0x2e11c7['message']},_0x24454b[_0xb0b9b6(0x23f)]);}else{if(_0x24454b[_0xb0b9b6(0x26e)]===_0xb0b9b6(0x28c))try{const _0x102166=_0x24454b[_0xb0b9b6(0x206)][_0xb0b9b6(0x210)],_0x17bb57=await this[_0xb0b9b6(0x25c)](_0x102166+_0xb0b9b6(0x280));let _0xfa9d66=[];if(_0x17bb57&&_0x17bb57[_0xb0b9b6(0x2d1)]){const _0x2e86a3=JSON[_0xb0b9b6(0x23d)](_0x17bb57[_0xb0b9b6(0x2d1)]),_0x69d076=new Set();Array[_0xb0b9b6(0x256)](_0x2e86a3)&&_0x2e86a3[_0xb0b9b6(0x31a)](_0x635d0b=>{const _0x36f36b=_0xb0b9b6;if(_0x635d0b['_calName'])_0x69d076[_0x36f36b(0x314)](_0x635d0b['_calName']);else{if(_0x635d0b['calendarName'])_0x69d076[_0x36f36b(0x314)](_0x635d0b['calendarName']);}}),_0xfa9d66=Array[_0xb0b9b6(0x27e)](_0x69d076)[_0xb0b9b6(0x203)]();}if(_0xfa9d66[_0xb0b9b6(0x25b)]===0x0)_0xfa9d66=[_0xb0b9b6(0x2be)];this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![],'names':_0xfa9d66},_0x24454b[_0xb0b9b6(0x23f)]);}catch(_0x18cf0b){this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':![],'error':_0x18cf0b[_0xb0b9b6(0x206)]},_0x24454b[_0xb0b9b6(0x23f)]);}else{if(_0x24454b['command']===_0xb0b9b6(0x2e0))try{await setup[_0xb0b9b6(0x299)](this,_0xb0b9b6(0x2b0),![],![]),this[_0xb0b9b6(0x302)](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b[_0xb0b9b6(0x26e)],{'success':!![],'message':'Gesendet'},_0x24454b[_0xb0b9b6(0x23f)]);}catch(_0x34760f){this[_0xb0b9b6(0x213)]['error']('Notification\x20Test\x20Failed:\x20'+_0x34760f[_0xb0b9b6(0x206)]),this['sendTo'](_0x24454b[_0xb0b9b6(0x27e)],_0x24454b['command'],{'success':![],'message':_0xb0b9b6(0x2bf)+_0x34760f['message']},_0x24454b[_0xb0b9b6(0x23f)]);}}}}}}}}}}}}}}}}}async[a0_0x3ceb92(0x2d7)](){const _0x3e94e9=a0_0x3ceb92;try{const _0x1fd0b3=await this[_0x3e94e9(0x287)](setup[_0x3e94e9(0x315)]);_0x1fd0b3&&_0x1fd0b3[_0x3e94e9(0x2d1)]&&Object[_0x3e94e9(0x1f3)](setup['SYSTEM_MODES'])[_0x3e94e9(0x2b7)](_0x1fd0b3[_0x3e94e9(0x2d1)])?this[_0x3e94e9(0x1fc)]=_0x1fd0b3[_0x3e94e9(0x2d1)]:(this['currentSystemMode']=setup[_0x3e94e9(0x331)][_0x3e94e9(0x1ec)],await this[_0x3e94e9(0x2cc)](setup[_0x3e94e9(0x315)],{'val':setup[_0x3e94e9(0x331)][_0x3e94e9(0x1ec)],'ack':!![]}));}catch(_0xcab0f4){this['currentSystemMode']=setup['SYSTEM_MODES']['NORMAL'];}}async[a0_0x3ceb92(0x275)](){const _0x2fcd0a=a0_0x3ceb92;try{const _0x33ee1d=this[_0x2fcd0a(0x1e0)][_0x2fcd0a(0x2b8)]||[];let _0x214f9d=![];const _0x27e59e=[];for(const _0xdae896 of _0x33ee1d){try{const _0x392574=await this['getForeignStateAsync'](_0xdae896);_0x392574&&(_0x392574[_0x2fcd0a(0x2d1)]===!![]||_0x392574[_0x2fcd0a(0x2d1)]==='online'||_0x392574[_0x2fcd0a(0x2d1)]===0x1)&&(_0x214f9d=!![],_0x27e59e[_0x2fcd0a(0x21d)](_0xdae896));}catch(_0x3a3447){}}return await this[_0x2fcd0a(0x2cc)]('system.presenceWho',{'val':_0x27e59e[_0x2fcd0a(0x1e4)](',\x20'),'ack':!![]}),_0x214f9d&&(this[_0x2fcd0a(0x310)]&&(this['log'][_0x2fcd0a(0x317)](_0x2fcd0a(0x245)),recorder[_0x2fcd0a(0x32f)](this)),!this[_0x2fcd0a(0x307)]&&this[_0x2fcd0a(0x1fc)]===setup[_0x2fcd0a(0x331)][_0x2fcd0a(0x1ec)]&&await recorder[_0x2fcd0a(0x1ff)](this,!![])),_0x214f9d;}catch(_0x181fb8){return![];}}async['runAutopilot'](){const _0x5c1d3b=a0_0x3ceb92;this[_0x5c1d3b(0x213)]['debug'](_0x5c1d3b(0x21f)),await aiAgent[_0x5c1d3b(0x285)](this),this[_0x5c1d3b(0x261)](),this[_0x5c1d3b(0x24a)](),this[_0x5c1d3b(0x28a)]();}async[a0_0x3ceb92(0x2f7)](){const _0x45028b=a0_0x3ceb92,_0x4ee923=['weatherunderground.0','accuweather.0',_0x45028b(0x2a0)],_0xe9e158=[_0x45028b(0x26d),_0x45028b(0x28d),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x5c1813 of _0x4ee923){for(const _0x1df318 of _0xe9e158){try{const _0x1d6fab=_0x5c1813+'.'+_0x1df318,_0x1e3798=await this[_0x45028b(0x25c)](_0x1d6fab);if(_0x1e3798&&_0x1e3798[_0x45028b(0x2d1)]){const _0x1b4126=String(_0x1e3798[_0x45028b(0x2d1)])[_0x45028b(0x25a)]();if(_0x1b4126['includes']('sonn')||_0x1b4126[_0x45028b(0x2b7)](_0x45028b(0x21c))||_0x1b4126[_0x45028b(0x2b7)](_0x45028b(0x2a1))||_0x1b4126[_0x45028b(0x2b7)](_0x45028b(0x24c))||_0x1b4126[_0x45028b(0x2b7)](_0x45028b(0x2f8)))return!![];}}catch(_0x59f73c){}}}return![];}['triggerGaitAnalysis'](){const _0x2abafd=a0_0x3ceb92;if(!this[_0x2abafd(0x2b9)])return;try{this[_0x2abafd(0x28e)](_0x2abafd(0x2ff),(_0x2fe7d0,_0x19a428)=>{const _0x3fff97=_0x2abafd;_0x19a428&&_0x19a428['val']&&pythonBridge[_0x3fff97(0x1f4)](this,'ANALYZE_GAIT',{'sequences':JSON[_0x3fff97(0x23d)](_0x19a428[_0x3fff97(0x2d1)])});});}catch(_0x15b371){}}async[a0_0x3ceb92(0x28a)](){const _0x42bee9=a0_0x3ceb92;if(!this[_0x42bee9(0x2b9)])return;try{const _0x4c75ef=await recorder['getOutsideTemperatureNumeric'](this);if(_0x4c75ef===null)return;const _0x30466e={},_0x5970f1={},_0x3d42c7=this[_0x42bee9(0x1e0)]['devices']||[];for(const _0x4a602d of _0x3d42c7){if(_0x4a602d[_0x42bee9(0x1ef)]===_0x42bee9(0x1fb)&&_0x4a602d['location']){const _0x5b7191=this['sensorLastValues'][_0x4a602d['id']];if(_0x5b7191!==undefined)_0x30466e[_0x4a602d[_0x42bee9(0x2de)]]=_0x5b7191;if(_0x4a602d[_0x42bee9(0x2f2)])_0x5970f1[_0x4a602d[_0x42bee9(0x2de)]]=!![];}}const _0x1839b3=await this[_0x42bee9(0x2f7)]();let _0x345049={};try{const _0x1d1e1d=await this[_0x42bee9(0x287)]('analysis.energy.warmupTargets');if(_0x1d1e1d&&_0x1d1e1d[_0x42bee9(0x2d1)])_0x345049=JSON[_0x42bee9(0x23d)](_0x1d1e1d['val']);}catch(_0x4cd8ac){}Object[_0x42bee9(0x1fe)](_0x30466e)['length']>0x0&&(pythonBridge['send'](this,_0x42bee9(0x2c7),{'current_temps':_0x30466e,'t_out':_0x4c75ef,'is_sunny':_0x1839b3,'solar_flags':_0x5970f1,'warmup_targets':_0x345049}),pythonBridge[_0x42bee9(0x1f4)](this,_0x42bee9(0x278),{'current_temps':_0x30466e,'t_out':_0x4c75ef,'targets':{}}));}catch(_0x56a72e){}}['updateHealthVector'](){const _0x5bb00d=a0_0x3ceb92;if(!this[_0x5bb00d(0x241)]||this[_0x5bb00d(0x241)]['length']===0x0)return;const _0x58f56f=new Array(0x60)[_0x5bb00d(0x260)](0x0),_0x5be85b=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x5bb00d(0x241)][_0x5bb00d(0x31a)](_0x256fe3=>{const _0x32348c=_0x5bb00d,_0xb9382e=new Date(_0x256fe3['timestamp']);if(_0xb9382e['getTime']()>=_0x5be85b){const _0x544dfb=_0xb9382e[_0x32348c(0x2a6)](),_0x2d18d9=_0xb9382e['getMinutes'](),_0x1693d2=_0x544dfb*0x4+Math[_0x32348c(0x2e1)](_0x2d18d9/0xf);if(_0x1693d2>=0x0&&_0x1693d2<0x60)_0x58f56f[_0x1693d2]++;}});}[a0_0x3ceb92(0x1ee)](){const _0x38d7c4=a0_0x3ceb92;if(!this[_0x38d7c4(0x2b6)]||this[_0x38d7c4(0x2b6)][_0x38d7c4(0x25b)]<0x2)return;const _0x427b35=this[_0x38d7c4(0x2b6)][_0x38d7c4(0x318)](_0x3103a0=>{const _0x10acbc=_0x38d7c4,_0x2daede=(_0x3103a0[_0x10acbc(0x20f)]||'')[_0x10acbc(0x25a)]();return ACTIVITY_LEVEL_MAP[_0x2daede]||0x32;});pythonBridge[_0x38d7c4(0x1f4)](this,_0x38d7c4(0x217),{'values':_0x427b35,'tag':'Activity-Level'});}async[a0_0x3ceb92(0x254)](_0x23f839){const _0x440f34=a0_0x3ceb92;if(_0x23f839==null||typeof _0x23f839!=='number')return;const _0x46edca=Date[_0x440f34(0x264)]();this[_0x440f34(0x303)]['push']({'ts':_0x46edca,'val':_0x23f839}),this['pressureBuffer']=this[_0x440f34(0x303)][_0x440f34(0x1e7)](_0x533107=>_0x46edca-_0x533107['ts']<0x1388);if(this['infrasoundLocked'])return;if(this[_0x440f34(0x1e0)][_0x440f34(0x22f)]){const _0x1a0b28=await this[_0x440f34(0x25c)](this[_0x440f34(0x1e0)]['infrasoundArmingId']);if(_0x1a0b28&&!_0x1a0b28[_0x440f34(0x2d1)])return;}const _0x10d463=this['config']['infrasoundThreshold']||0.04;if(Math[_0x440f34(0x26a)](_0x23f839)>=_0x10d463){this[_0x440f34(0x213)][_0x440f34(0x1f2)](_0x440f34(0x292)+_0x23f839+'\x20hPa\x20(Limit:\x20'+_0x10d463+')'),await this[_0x440f34(0x2cc)](_0x440f34(0x32a),{'val':!![],'ack':!![]});const _0x47362a=this[_0x440f34(0x307)];_0x47362a?(this['log'][_0x440f34(0x317)](_0x440f34(0x23e)),this[_0x440f34(0x2ec)](_0x23f839,_0x440f34(0x295))):(this[_0x440f34(0x2ec)](_0x23f839,'ALARM'),this['sendNotification'](_0x440f34(0x2af)+_0x23f839+'\x20hPa.\x20Einbruch\x20wahrscheinlich.')),this['infrasoundLocked']=!![],setTimeout(()=>{const _0x46d6b0=_0x440f34;this[_0x46d6b0(0x24e)]=![];},0x2710);}}async[a0_0x3ceb92(0x2ec)](_0x5a0a4c,_0x140f55=a0_0x3ceb92(0x29f)){const _0x39caff=a0_0x3ceb92,_0x12525f=Date[_0x39caff(0x264)](),_0x4c9e1f=this[_0x39caff(0x1e0)]['devices']||[];setTimeout(async()=>{const _0x53ca84=_0x39caff;let _0x197c34=null,_0x5acc20=_0x53ca84(0x2d5);const _0x26c7d0=_0x4c9e1f['filter'](_0x2c94c6=>_0x2c94c6[_0x53ca84(0x1ef)]&&(_0x2c94c6['type'][_0x53ca84(0x2b7)](_0x53ca84(0x27f))||_0x2c94c6['type'][_0x53ca84(0x2b7)](_0x53ca84(0x20b))||_0x2c94c6[_0x53ca84(0x1ef)]['includes'](_0x53ca84(0x224))||_0x2c94c6['type'][_0x53ca84(0x2b7)]('reed'))||_0x2c94c6[_0x53ca84(0x2eb)]&&(_0x2c94c6['role'][_0x53ca84(0x2b7)](_0x53ca84(0x23b))||_0x2c94c6['role'][_0x53ca84(0x2b7)](_0x53ca84(0x2f3))));for(const _0x49ca3e of _0x26c7d0){try{const _0x110fe7=await this[_0x53ca84(0x25c)](_0x49ca3e['id']);if(_0x110fe7){if(_0x110fe7['ts']>=_0x12525f-0x7d0){_0x197c34=_0x49ca3e[_0x53ca84(0x257)]||_0x49ca3e['id'],_0x5acc20='ErklÃ¤rt\x20durch:\x20'+_0x197c34;break;}}}catch(_0x5a5557){}}const _0x3ae3c5={'timestamp':_0x12525f,'pressure':_0x5a0a4c,'isMatch':!!_0x197c34,'explanation':_0x5acc20,'type':_0x140f55};await this[_0x53ca84(0x1f9)](_0x3ae3c5),this[_0x53ca84(0x213)][_0x53ca84(0x317)](_0x53ca84(0x1ea)+(!!_0x197c34?_0x53ca84(0x2d8):_0x53ca84(0x20c)));},0x1388);}async['analyzeWindowOpening'](_0x4899cc){const _0x3dbc45=a0_0x3ceb92,_0x2a9da3=Date[_0x3dbc45(0x264)](),_0x1ac07d=_0x4899cc['name']||_0x4899cc['id']['split']('.')[_0x3dbc45(0x25f)]();let _0x56990d=0x0;setTimeout(async()=>{const _0x350049=_0x3dbc45;this[_0x350049(0x303)][_0x350049(0x31a)](_0x54f08c=>{const _0x3070c8=_0x350049;_0x54f08c['ts']>=_0x2a9da3-0xfa0&&_0x54f08c['ts']<=_0x2a9da3+0x3e8&&(Math[_0x3070c8(0x26a)](_0x54f08c['val'])>Math[_0x3070c8(0x26a)](_0x56990d)&&(_0x56990d=_0x54f08c[_0x3070c8(0x2d1)]));});const _0x9ae67c=this[_0x350049(0x1e0)][_0x350049(0x30a)]||0.04,_0x318caf=Math[_0x350049(0x26a)](_0x56990d)>=_0x9ae67c,_0x22ce4b={'timestamp':_0x2a9da3,'pressure':_0x56990d,'isMatch':_0x318caf,'explanation':_0x350049(0x223)+_0x1ac07d,'type':'CALIB'};await this[_0x350049(0x1f9)](_0x22ce4b),this[_0x350049(0x213)][_0x350049(0x2db)]('[Calibration]\x20Window\x20'+_0x1ac07d+'\x20opened.\x20Peak\x20Pressure:\x20'+_0x56990d[_0x350049(0x2bd)](0x4)+'\x20hPa\x20(Threshold:\x20'+_0x9ae67c+')');},0x1f4);}async[a0_0x3ceb92(0x1f9)](_0x216418){const _0x5ecd58=a0_0x3ceb92;try{const _0x50c390=await this['getStateAsync'](_0x5ecd58(0x270));let _0x28088e=[];if(_0x50c390&&_0x50c390['val'])_0x28088e=JSON['parse'](_0x50c390[_0x5ecd58(0x2d1)]);_0x28088e['unshift'](_0x216418);if(_0x28088e[_0x5ecd58(0x25b)]>0x14)_0x28088e=_0x28088e[_0x5ecd58(0x2e6)](0x0,0x14);await this[_0x5ecd58(0x2cc)](_0x5ecd58(0x270),{'val':JSON[_0x5ecd58(0x2f0)](_0x28088e),'ack':!![]});}catch(_0x2081c3){this[_0x5ecd58(0x213)][_0x5ecd58(0x289)](_0x5ecd58(0x26b)+_0x2081c3['message']);}}[a0_0x3ceb92(0x299)](_0x26b83f){const _0x29cf1b=a0_0x3ceb92;this['config']['notifyPushoverEnabled']&&this['config'][_0x29cf1b(0x30f)]&&this['sendTo'](this[_0x29cf1b(0x1e0)][_0x29cf1b(0x30f)],_0x29cf1b(0x1f4),{'message':_0x26b83f,'title':_0x29cf1b(0x2ef),'priority':0x1}),this[_0x29cf1b(0x1e0)][_0x29cf1b(0x25e)]&&this[_0x29cf1b(0x1e0)]['notifyTelegramInstance']&&this[_0x29cf1b(0x302)](this[_0x29cf1b(0x1e0)][_0x29cf1b(0x222)],_0x29cf1b(0x1f4),{'text':_0x26b83f});}}function a0_0x2948(_0x216fd9,_0xbbfbdc){const _0x3526a7=a0_0xfbb4();return a0_0x2948=function(_0x13989c,_0x4149dc){_0x13989c=_0x13989c-0x1e0;let _0xfbb40b=_0x3526a7[_0x13989c];return _0xfbb40b;},a0_0x2948(_0x216fd9,_0xbbfbdc);}if(require['main']!==module)module[a0_0x3ceb92(0x326)]=_0x190d0f=>new CogniLiving(_0x190d0f);else new CogniLiving();