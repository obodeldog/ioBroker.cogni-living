function a0_0x5ab9(){const _0x18312d=['fill','scanForDevices','getOutsideTemperatureNumeric','enum.rooms.*','toString','models/gemini-flash-latest','string','ready','main','getForeignStateAsync','(((.+)+)+)+$','forEach','isProVersion','./lib/setup','endsWith','ANALYZE_GAIT','analysisInterval','initSystemConfig','Adapter','Fehler:\x20','analysis.energy.warmupTargets','split','enum.functions.*','clear','licenseKey','./lib/installer','4714015FRXpub','LTM.trainingData.thermodynamics','2061870zJgzYK','isPresent','triggerDailyDigest','Kein\x20Wetter-Adapter','@iobroker/adapter-core','analysis.training.triggerEnergy','weatherunderground.0','calendarName','application/json','dailyDigests','lastAlertState','Activity-Level','initZombies','testNotification','onUnload','sendTo','.data.table','Current.WeatherText','analysis.training.triggerSecurity','response','createAllObjects','slice','error','includes','notifyTelegramEnabled','cleanupGhostInterventions','presenceDevices','getForeignObjectAsync','length','ANALYZE_TREND','pop','system.mode','setupModeResetScheduler','831701WzQJZs','\x20Tage)','getLtmData','analysis.training.triggerComfort','Daten\x20nicht\x20verfÃ¼gbar','{\x22default\x22:\x2021}','sendMorningBriefing','enum','analysis.training.status','getOverviewData','TRAIN_ENERGY','sunny','analysis.energy.pinnForecast','namespace','minDaysForBaseline','45544GSFXwO','analysisTimer','analysis.automation.patternDetected','send','onStateChange','analysis.automation.targetId','currentSystemMode','TRACK_EVENT','updateHealthVector','./lib/automation','checkLicense','.communicate.request','systemConfig','analysis.health.todayVector','analysis.energy.ventilationAlerts','matrix','sort','config','geminiModel','PREDICT_ENERGY','timestamp','Gemini\x20Init\x20Error:\x20','getEnums','party','./lib/scanner','6kgJgiG','message','motion','checkSolarCondition','OPTIMIZE_ENERGY','briefingJob','getState','LTM.triggerDailyDigest','state','getMinutes','./lib/recorder','Gesendet','analysis.automation.targetValue','analysis.automation.description','from','klar','getGenerativeModel','isArray','minutes_safe','analysis.trigger','getForeignObjectsAsync','LTM.baselineStatus','bind','analysis.energy.mpcActive','LTM.trainingData.sequences',')\x20-\x20Phase\x20D\x20(Evolution)','apply','cogni-living\x20adapter\x20starting\x20(v','search','sonn','automation.triggerAction','isGracePeriodActive','devices','exitGraceTimer','cancel','manual','Guest\x20Mode','setHours','simulateEnergyMPC','version','checkWifiPresence','name','text','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','.system.mode','updated','LTM.dailyDigests','trackerHeartbeat','json','abs','SYSTEM_DP_MODE','analysis.energy.rlPenalties','2853053cprwvi','scanThermostats','setupDriftAnalysisScheduler','analysis.automation.triggerAction','analysis.energy.warmupTimes','stringify','modeResetJob','updateTopologyMatrix','push','runGeminiAnalysis','LTM.rawEventLog','temperature','Test','thermostat','notifyTelegramInstance','Simulation\x20durch\x20Admin\x20(Test)','info','genAI','NORMAL','Keine\x20Antwort\x20von\x20Gemini','Reinforcement\x20Learning\x20Penalties','ltmJob','setState','setPresence','common','triggerBriefing','19449mCDUKz','Notification\x20Test\x20Failed:\x20','inactivityThresholdHours','object','analysis.security.learningStatus','runPythonHealthCheck','loadSystemMode','Kein\x20Kalender-Adapter','getStateAsync','analysis.training.triggerTopology','val','WiFi\x20Presence\x20detected.','exports','rawEventLog','checkCalendarTriggers','onReady','cogni-living','join','telegram','@google/generative-ai','dismissAutomation','apiKey','geminiApiKey','Aktiv\x20(','now','./lib/scheduler','subscribeStates','location','analysis.triggerBriefing','Heizung\x20kann\x20','PYTHON_EXE','subscribeForeignStatesAsync','map','triggerEnergyPrediction','initHistory','abortExitTimer','calendarInstance','runAutopilot','floor','PINN\x20AI\x20Forecast','getHours','parse','callback','setObjectNotExistsAsync','runBaselineDriftAnalysis','simulateButler','accuweather.0','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','driftAnalysisTimer','testContext','updateTopology','some','Kein\x20API\x20Key\x20Ã¼bergeben','toLowerCase','createDailyDigest','3cTqeqs','./lib/ai_agent','constructor','1090336JsEAdf','analysis.topology.structure','SET_LEARNING_MODE','startService','instance','log','VACATION','2056mZcOia','SYSTEM_MODES','triggerGaitAnalysis','type','command','lastTrackerEventTime','keys','eventHistory','isSolar','setStateAsync','startSystem','system.adapter.','SET_TOPOLOGY','dependencyInstallInProgress','NextHours.Location_1.Day_1.current.symbol_desc','getTime','system.presenceWho','analysis.training.triggerHealth','Standard'];a0_0x5ab9=function(){return _0x18312d;};return a0_0x5ab9();}const a0_0x45f233=a0_0x4157;(function(_0x54bdb0,_0x2d9820){const _0x5aa38f=a0_0x4157,_0x5210fa=_0x54bdb0();while(!![]){try{const _0x2781d2=parseInt(_0x5aa38f(0xf9))/0x1+parseInt(_0x5aa38f(0x108))/0x2+-parseInt(_0x5aa38f(0x9f))/0x3*(-parseInt(_0x5aa38f(0xa2))/0x4)+-parseInt(_0x5aa38f(0xd6))/0x5+-parseInt(_0x5aa38f(0x121))/0x6*(parseInt(_0x5aa38f(0x155))/0x7)+parseInt(_0x5aa38f(0xa9))/0x8*(parseInt(_0x5aa38f(0x16f))/0x9)+parseInt(_0x5aa38f(0xd8))/0xa;if(_0x2781d2===_0x2d9820)break;else _0x5210fa['push'](_0x5210fa['shift']());}catch(_0x4f0516){_0x5210fa['push'](_0x5210fa['shift']());}}}(a0_0x5ab9,0x8367f));const a0_0x3602f7=(function(){let _0xc170fc=!![];return function(_0x29cc19,_0x347a04){const _0x9733bf=_0xc170fc?function(){const _0x4690b9=a0_0x4157;if(_0x347a04){const _0x5652a2=_0x347a04[_0x4690b9(0x13b)](_0x29cc19,arguments);return _0x347a04=null,_0x5652a2;}}:function(){};return _0xc170fc=![],_0x9733bf;};}()),a0_0x1aaff1=a0_0x3602f7(this,function(){const _0x8f3d23=a0_0x4157;return a0_0x1aaff1['toString']()[_0x8f3d23(0x13d)]('(((.+)+)+)+$')[_0x8f3d23(0xc0)]()[_0x8f3d23(0xa1)](a0_0x1aaff1)[_0x8f3d23(0x13d)](_0x8f3d23(0xc6));});a0_0x1aaff1();'use strict';function a0_0x4157(_0x5dd66b,_0x3f5cb1){const _0x162d1d=a0_0x5ab9();return a0_0x4157=function(_0x1aaff1,_0x3602f7){_0x1aaff1=_0x1aaff1-0x85;let _0x5ab9a6=_0x162d1d[_0x1aaff1];return _0x5ab9a6;},a0_0x4157(_0x5dd66b,_0x3f5cb1);}const utils=require(a0_0x45f233(0xdc)),{GoogleGenerativeAI}=require(a0_0x45f233(0x182)),installer=require(a0_0x45f233(0xd5)),scanner=require(a0_0x45f233(0x120)),schedulers=require(a0_0x45f233(0x188)),topology=require('./lib/topology'),setup=require(a0_0x45f233(0xc9)),recorder=require(a0_0x45f233(0x12b)),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0x45f233(0xa0)),deadMan=require('./lib/dead_man'),automation=require(a0_0x45f233(0x111)),GEMINI_MODEL=a0_0x45f233(0xc1),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x45f233(0xce)]{constructor(_0xbfb458){const _0x327a26=a0_0x45f233;super({..._0xbfb458,'name':_0x327a26(0x17f)}),this['eventHistory']=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x327a26(0xe1)]=[],this['sensorLastValues']={},this[_0x327a26(0x114)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x327a26(0xd9)]=!![],this['exitTimer']=null,this[_0x327a26(0x142)]=null,this[_0x327a26(0x140)]=![],this[_0x327a26(0x166)]=null,this[_0x327a26(0x11a)]=null,this['currentSystemMode']=setup[_0x327a26(0xaa)][_0x327a26(0x167)],this[_0x327a26(0xc8)]=![],this[_0x327a26(0xe2)]=![],this[_0x327a26(0x109)]=null,this[_0x327a26(0x16a)]=null,this[_0x327a26(0x15b)]=null,this[_0x327a26(0x98)]=null,this[_0x327a26(0x126)]=null,this[_0x327a26(0xb6)]=![],this['trackerHeartbeat']=null,this[_0x327a26(0xae)]=Date[_0x327a26(0x187)](),this['on'](_0x327a26(0xc3),this[_0x327a26(0x17e)][_0x327a26(0x137)](this)),this['on']('stateChange',this[_0x327a26(0x10c)][_0x327a26(0x137)](this)),this['on']('unload',this[_0x327a26(0xe6)][_0x327a26(0x137)](this)),this['on'](_0x327a26(0x122),this['onMessage'][_0x327a26(0x137)](this));}async[a0_0x45f233(0x17e)](){const _0x340014=a0_0x45f233;this[_0x340014(0xa7)][_0x340014(0x165)](_0x340014(0x13c)+this[_0x340014(0x148)]+_0x340014(0x13a));if(!installer['checkAndInstall'](this,()=>this[_0x340014(0xb3)]()))return;}async[a0_0x45f233(0xb3)](){const _0x3aa338=a0_0x45f233;await setup[_0x3aa338(0xe4)](this);try{this['isProVersion']=await setup[_0x3aa338(0x112)](this['config'][_0x3aa338(0xd4)]);}catch(_0x58d805){}if(!this[_0x3aa338(0x119)][_0x3aa338(0x171)]||this[_0x3aa338(0x119)][_0x3aa338(0x171)]<0.1)this[_0x3aa338(0x119)][_0x3aa338(0x171)]=0xc;await setup[_0x3aa338(0x8a)](this),await setup[_0x3aa338(0xcd)](this);if(this[_0x3aa338(0x119)][_0x3aa338(0x185)])try{this['genAI']=new GoogleGenerativeAI(this[_0x3aa338(0x119)]['geminiApiKey']),this[_0x3aa338(0x11a)]=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3aa338(0xe0)}}),this[_0x3aa338(0xa7)]['info']('Gemini\x20AI\x20initialized.');}catch(_0x21a457){this[_0x3aa338(0xa7)]['error'](_0x3aa338(0x11d)+_0x21a457[_0x3aa338(0x122)]);}await setup[_0x3aa338(0xec)](this),await this[_0x3aa338(0x175)](),await this['setObjectNotExistsAsync'](_0x3aa338(0x105),{'type':_0x3aa338(0x129),'common':{'name':_0x3aa338(0x8f),'type':_0x3aa338(0xc2),'role':_0x3aa338(0x151),'read':!![],'write':![]},'native':{}}),await this[_0x3aa338(0x93)](_0x3aa338(0x116),{'type':'state','common':{'name':'Active\x20Ventilation\x20Alerts','type':_0x3aa338(0xc2),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x3aa338(0x93)](_0x3aa338(0x159),{'type':_0x3aa338(0x129),'common':{'name':_0x3aa338(0x14c),'type':_0x3aa338(0xc2),'role':_0x3aa338(0x151),'read':!![],'write':![]},'native':{}}),await this[_0x3aa338(0x93)](_0x3aa338(0xd0),{'type':_0x3aa338(0x129),'common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':_0x3aa338(0xc2),'role':_0x3aa338(0x151),'read':!![],'write':!![],'def':_0x3aa338(0xfe)},'native':{}}),await this[_0x3aa338(0x93)](_0x3aa338(0x154),{'type':_0x3aa338(0x129),'common':{'name':_0x3aa338(0x169),'type':_0x3aa338(0xc2),'role':'json','read':!![],'write':![],'def':'{}'},'native':{}});try{const _0x47fd5a=await this[_0x3aa338(0x177)](_0x3aa338(0x15f));if(_0x47fd5a&&_0x47fd5a['val'])this[_0x3aa338(0x17c)]=JSON[_0x3aa338(0x91)](_0x47fd5a[_0x3aa338(0x179)]);}catch(_0x171eed){this[_0x3aa338(0x17c)]=[];}try{const _0x14b08f=await this[_0x3aa338(0x177)](_0x3aa338(0x14f));if(_0x14b08f&&_0x14b08f[_0x3aa338(0x179)])this[_0x3aa338(0xe1)]=JSON[_0x3aa338(0x91)](_0x14b08f[_0x3aa338(0x179)]);}catch(_0x157ee1){this[_0x3aa338(0xe1)]=[];}const _0x2b80a3=this[_0x3aa338(0xe1)]['length']>=(this[_0x3aa338(0x119)][_0x3aa338(0x107)]||0x7)?_0x3aa338(0x186)+this[_0x3aa338(0xe1)]['length']+_0x3aa338(0xfa):'Lernphase\x20('+this[_0x3aa338(0xe1)][_0x3aa338(0xf4)]+'/'+(this[_0x3aa338(0x119)][_0x3aa338(0x107)]||0x7)+')';await this['setStateAsync'](_0x3aa338(0x136),{'val':_0x2b80a3,'ack':!![]}),this[_0x3aa338(0x189)](_0x3aa338(0x134)),this[_0x3aa338(0x189)](_0x3aa338(0x128)),this[_0x3aa338(0x189)](_0x3aa338(0xf7)),this[_0x3aa338(0x189)](_0x3aa338(0x18b)),this['subscribeStates'](_0x3aa338(0x158)),this[_0x3aa338(0x189)]('analysis.automation.autoApply'),this[_0x3aa338(0x189)](_0x3aa338(0xea)),this[_0x3aa338(0x189)](_0x3aa338(0xba)),this[_0x3aa338(0x189)](_0x3aa338(0xdd)),this[_0x3aa338(0x189)]('analysis.training.triggerComfort'),this[_0x3aa338(0x189)](_0x3aa338(0x178)),this[_0x3aa338(0x189)](_0x3aa338(0x138));const _0x509e2a=this['config'][_0x3aa338(0x141)];if(_0x509e2a)for(const _0x395c52 of _0x509e2a){await this[_0x3aa338(0x87)](_0x395c52['id']);}const _0x419b06=this[_0x3aa338(0x119)][_0x3aa338(0xf2)];if(_0x419b06)for(const _0x55adb3 of _0x419b06){await this[_0x3aa338(0x87)](_0x55adb3);}if(this[_0x3aa338(0x119)][_0x3aa338(0xf0)]&&this[_0x3aa338(0x119)]['notifyTelegramInstance'])await this[_0x3aa338(0x87)](this[_0x3aa338(0x119)][_0x3aa338(0x163)]+_0x3aa338(0x113));setTimeout(()=>this[_0x3aa338(0x149)](),0x1388);if(this[_0x3aa338(0x109)])clearInterval(this[_0x3aa338(0x109)]);const _0x4d9bdd=this[_0x3aa338(0x119)][_0x3aa338(0xcc)]||0xf;_0x4d9bdd>0x0&&(this[_0x3aa338(0x109)]=setInterval(()=>{const _0x596719=_0x3aa338;this[_0x596719(0x8d)](),automation['checkCalendarTriggers'](this);},_0x4d9bdd*0x3c*0x3e8)),setTimeout(()=>automation[_0x3aa338(0x17d)](this),0x2710),this[_0x3aa338(0x119)]['trackerEnabled']!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0x4258b2=_0x3aa338;if(this[_0x4258b2(0xc8)]){const _0x21e761=Date[_0x4258b2(0x187)](),_0x5995c9=this['lastTrackerEventTime']||_0x21e761,_0x34fbbc=(_0x21e761-_0x5995c9)/0x3e8;_0x34fbbc>0x2&&(this[_0x4258b2(0xae)]=_0x21e761,pythonBridge[_0x4258b2(0x10b)](this,_0x4258b2(0x10f),{'room':null,'dt':_0x34fbbc}));}},0xbb8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x3aa338(0x9e)](this,pythonBridge)),schedulers[_0x3aa338(0xf8)](this),schedulers[_0x3aa338(0x157)](this,()=>aiAgent[_0x3aa338(0x94)](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x3aa338(0xa5)](this,installer[_0x3aa338(0x86)]),setTimeout(async()=>{const _0x5a29bf=_0x3aa338;await topology['updateTopology'](this);try{const _0x4fb8e8=await this[_0x5a29bf(0x177)](_0x5a29bf(0xa3));if(_0x4fb8e8&&_0x4fb8e8[_0x5a29bf(0x179)])pythonBridge[_0x5a29bf(0x10b)](this,_0x5a29bf(0xb5),JSON[_0x5a29bf(0x91)](_0x4fb8e8['val']));}catch(_0x4240e9){}this[_0x5a29bf(0x174)](),this[_0x5a29bf(0xab)](),this[_0x5a29bf(0x89)](),this['updateHealthVector']();},0x1388);}[a0_0x45f233(0xe6)](_0x3e1a4d){const _0x2fe163=a0_0x45f233;if(this[_0x2fe163(0x109)])clearInterval(this[_0x2fe163(0x109)]);if(this[_0x2fe163(0x98)])clearInterval(this[_0x2fe163(0x98)]);if(this[_0x2fe163(0x150)])clearInterval(this['trackerHeartbeat']);if(this[_0x2fe163(0x16a)])this[_0x2fe163(0x16a)][_0x2fe163(0x143)]();if(this[_0x2fe163(0x15b)])this['modeResetJob'][_0x2fe163(0x143)]();if(this[_0x2fe163(0x126)])this[_0x2fe163(0x126)][_0x2fe163(0x143)]();recorder[_0x2fe163(0x8b)](this),pythonBridge['stopService'](this),_0x3e1a4d();}async[a0_0x45f233(0x10c)](_0x12901,_0x38551b){const _0x15ab9b=a0_0x45f233;if(!_0x38551b||this[_0x15ab9b(0xb6)])return;if(_0x12901['includes'](_0x15ab9b(0x181))&&_0x12901[_0x15ab9b(0xca)]('communicate.request')&&_0x38551b[_0x15ab9b(0x179)])return;if(_0x12901===this[_0x15ab9b(0x106)]+_0x15ab9b(0x14d)){if(_0x38551b[_0x15ab9b(0x179)]&&Object['values'](setup[_0x15ab9b(0xaa)])[_0x15ab9b(0xef)](_0x38551b[_0x15ab9b(0x179)])){this['currentSystemMode']=_0x38551b[_0x15ab9b(0x179)];if(_0x38551b[_0x15ab9b(0x179)]===setup[_0x15ab9b(0xaa)][_0x15ab9b(0xa8)])await recorder[_0x15ab9b(0x16c)](this,![]);else await recorder[_0x15ab9b(0x16c)](this,!![]);if(this[_0x15ab9b(0xc8)]){let _0x39f760=![],_0x45a5bd=0x0,_0x531429=_0x15ab9b(0x144);if(this[_0x15ab9b(0x10e)]===_0x15ab9b(0x11f))_0x39f760=!![],_0x45a5bd=0x168,_0x531429='Party\x20Mode';else this['currentSystemMode']==='guest'&&(_0x39f760=!![],_0x45a5bd=0x5a0,_0x531429=_0x15ab9b(0x145));pythonBridge[_0x15ab9b(0x10b)](this,_0x15ab9b(0xa4),{'active':_0x39f760,'duration':_0x45a5bd,'label':_0x531429}),await this[_0x15ab9b(0xb2)](_0x15ab9b(0x173),{'val':JSON[_0x15ab9b(0x15a)]({'active':_0x39f760,'label':_0x531429,'timestamp':Date[_0x15ab9b(0x187)]()}),'ack':!![]});}}if(!_0x38551b['ack'])this[_0x15ab9b(0x16b)](_0x12901,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x38551b['ack']){if(_0x12901[_0x15ab9b(0xef)]('analysis.trigger')&&_0x38551b['val']){this[_0x15ab9b(0x16b)](_0x12901,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0x12901[_0x15ab9b(0xef)](_0x15ab9b(0xda))&&_0x38551b[_0x15ab9b(0x179)]){this[_0x15ab9b(0x16b)](_0x12901,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x15ab9b(0x9e)](this,pythonBridge);return;}if(_0x12901[_0x15ab9b(0xef)](_0x15ab9b(0x16e))&&_0x38551b['val']){this[_0x15ab9b(0x16b)](_0x12901,{'val':![],'ack':!![]}),aiAgent[_0x15ab9b(0xff)](this);return;}if(_0x12901[_0x15ab9b(0xef)](_0x15ab9b(0x13f))&&_0x38551b['val']){this[_0x15ab9b(0x16b)](_0x12901,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x12901['includes']('analysis.training.triggerSecurity')&&_0x38551b['val']){this[_0x15ab9b(0x16b)](_0x12901,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x4261a8=await this[_0x15ab9b(0x177)](_0x15ab9b(0x139));if(_0x4261a8&&_0x4261a8[_0x15ab9b(0x179)]){const _0x1aa63a=JSON[_0x15ab9b(0x91)](_0x4261a8[_0x15ab9b(0x179)]);this[_0x15ab9b(0xb2)](_0x15ab9b(0x101),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x15ab9b(0x10b)](this,'TRAIN_SECURITY',{'sequences':_0x1aa63a});}}catch(_0x3fa7a1){}return;}if(_0x12901['includes']('analysis.training.triggerHealth')&&_0x38551b[_0x15ab9b(0x179)]){this[_0x15ab9b(0x16b)](_0x12901,{'val':![],'ack':!![]});if(this[_0x15ab9b(0xc8)])try{const _0x46043a=await this[_0x15ab9b(0x177)](_0x15ab9b(0x14f));if(_0x46043a&&_0x46043a['val'])pythonBridge[_0x15ab9b(0x10b)](this,'TRAIN_HEALTH',{'digests':JSON['parse'](_0x46043a[_0x15ab9b(0x179)])});}catch(_0x4f7d2b){}return;}if(_0x12901['includes'](_0x15ab9b(0xdd))&&_0x38551b[_0x15ab9b(0x179)]){this['setState'](_0x12901,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x109902=await this[_0x15ab9b(0x177)](_0x15ab9b(0xd7));if(_0x109902&&_0x109902[_0x15ab9b(0x179)])pythonBridge[_0x15ab9b(0x10b)](this,_0x15ab9b(0x103),{'points':JSON[_0x15ab9b(0x91)](_0x109902[_0x15ab9b(0x179)])});}catch(_0x184b8b){}return;}if(_0x12901[_0x15ab9b(0xef)](_0x15ab9b(0xfc))&&_0x38551b[_0x15ab9b(0x179)]){this[_0x15ab9b(0x16b)](_0x12901,{'val':![],'ack':!![]});if(this[_0x15ab9b(0xc8)])try{const _0x4c061=await this[_0x15ab9b(0x177)]('LTM.rawEventLog');if(_0x4c061&&_0x4c061[_0x15ab9b(0x179)])pythonBridge['send'](this,'TRAIN_COMFORT',{'events':JSON[_0x15ab9b(0x91)](_0x4c061[_0x15ab9b(0x179)])});}catch(_0x571670){}return;}if(_0x12901[_0x15ab9b(0xef)](_0x15ab9b(0x178))&&_0x38551b[_0x15ab9b(0x179)]){this['setState'](_0x12901,{'val':![],'ack':!![]}),topology[_0x15ab9b(0x9a)](this);return;}}if(this[_0x15ab9b(0x119)][_0x15ab9b(0xf2)]&&this[_0x15ab9b(0x119)][_0x15ab9b(0xf2)][_0x15ab9b(0xef)](_0x12901)){await this[_0x15ab9b(0x149)]();return;}const _0x452ea6=(this[_0x15ab9b(0x119)]['devices']||[])['find'](_0x6e9b7d=>_0x6e9b7d['id']===_0x12901);if(_0x452ea6){const _0x4847e6=await recorder['processSensorEvent'](this,_0x12901,_0x38551b,_0x452ea6);_0x4847e6&&_0x4847e6[_0x15ab9b(0xac)]===_0x15ab9b(0x123)&&_0x4847e6[_0x15ab9b(0x18a)]&&this['isProVersion']&&deadMan['updateLocation'](this,_0x4847e6[_0x15ab9b(0x18a)]),(_0x452ea6[_0x15ab9b(0xac)]===_0x15ab9b(0x160)||_0x452ea6[_0x15ab9b(0xac)]===_0x15ab9b(0x162))&&automation[_0x15ab9b(0xf1)](this);}}async['onMessage'](_0x42de6f){const _0x2b1697=a0_0x45f233;if(typeof _0x42de6f===_0x2b1697(0x172)&&_0x42de6f[_0x2b1697(0x122)]){if(_0x42de6f['command']==='checkThermostats')try{const _0x5d3632=await automation[_0x2b1697(0x156)](this);this['sendTo'](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':!![],'results':_0x5d3632},_0x42de6f['callback']);}catch(_0x2dc56d){this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':![],'error':_0x2dc56d[_0x2b1697(0x122)]},_0x42de6f[_0x2b1697(0x92)]);}else{if(_0x42de6f[_0x2b1697(0xad)]===_0x2b1697(0x147))try{const {current_temps:_0x230a46,t_out:_0x392665,targets:_0x3c8b87,t_forecast:_0x4f7723}=_0x42de6f['message'],_0x52fff1=[];let _0x42ac0a={};try{const _0xc72dae=await this[_0x2b1697(0x177)]('analysis.energy.insulationScore');if(_0xc72dae&&_0xc72dae[_0x2b1697(0x179)]){const _0x490606=JSON['parse'](_0xc72dae[_0x2b1697(0x179)]);_0x42ac0a=_0x490606['scores']||_0x490606;}}catch(_0x327d18){}const _0x25a81f=_0x4f7723!==undefined&&_0x4f7723!==null?(_0x392665+_0x4f7723)/0x2:_0x392665;for(const [_0x2b7756,_0x2abfab]of Object['entries'](_0x230a46)){const _0x5f0786=_0x3c8b87[_0x2b7756]||0x15;if(_0x2abfab<=_0x5f0786)continue;let _0x20cc1b=_0x42ac0a[_0x2b7756]||-0.5;if(_0x20cc1b>=0x0)_0x20cc1b=-0.5;const _0x224132=Math[_0x2b1697(0x152)](_0x20cc1b),_0x275070=_0x2abfab-_0x5f0786;let _0x2d4df8=Math['floor'](_0x275070/_0x224132*0x3c);const _0x18c205=_0x2abfab-_0x392665,_0x3201b4=_0x2abfab-_0x25a81f;if(_0x3201b4!==0x0&&_0x18c205!==0x0){const _0x42073b=_0x18c205/_0x3201b4;_0x2d4df8=Math[_0x2b1697(0x8e)](_0x2d4df8*_0x42073b);}if(_0x2d4df8>0xf){if(_0x2d4df8>0xf0)_0x2d4df8=0xf0;_0x52fff1[_0x2b1697(0x15d)]({'room':_0x2b7756,'minutes_safe':_0x2d4df8,'target':_0x5f0786,'current':_0x2abfab,'savings_msg':_0x2b1697(0x85)+_0x2d4df8+'\x20min\x20ausbleiben.'});}}_0x52fff1['sort']((_0x11dffe,_0xa1cfe4)=>_0xa1cfe4[_0x2b1697(0x133)]-_0x11dffe['minutes_safe']),this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f['command'],{'success':!![],'proposals':_0x52fff1},_0x42de6f['callback']);}catch(_0x26dbe5){this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f['command'],{'success':![],'error':_0x26dbe5[_0x2b1697(0x122)]},_0x42de6f[_0x2b1697(0x92)]);}else{if(_0x42de6f[_0x2b1697(0xad)]===_0x2b1697(0x183))await this['setStateAsync'](_0x2b1697(0x10a),{'val':![],'ack':!![]}),await this[_0x2b1697(0xb2)](_0x2b1697(0x12e),{'val':'','ack':!![]}),await this[_0x2b1697(0xb2)](_0x2b1697(0x10d),{'val':'','ack':!![]}),this['sendTo'](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f['command'],{'success':!![]},_0x42de6f[_0x2b1697(0x92)]);else{if(_0x42de6f[_0x2b1697(0xad)]===_0x2b1697(0x95)){const {targetId:_0x48d222,targetValue:_0x3c26ed}=_0x42de6f[_0x2b1697(0x122)];await this['setStateAsync'](_0x2b1697(0x10a),{'val':!![],'ack':!![]}),await this[_0x2b1697(0xb2)](_0x2b1697(0x12e),{'val':_0x2b1697(0x164),'ack':!![]}),await this[_0x2b1697(0xb2)]('analysis.automation.targetId',{'val':_0x48d222,'ack':!![]}),await this['setStateAsync'](_0x2b1697(0x12d),{'val':String(_0x3c26ed),'ack':!![]}),this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':!![]},_0x42de6f['callback']);}else{if(_0x42de6f[_0x2b1697(0xad)]==='testApiKey')try{const _0xf29e08=_0x42de6f[_0x2b1697(0x122)][_0x2b1697(0x184)];if(!_0xf29e08)throw new Error(_0x2b1697(0x9c));const _0x166d91=new GoogleGenerativeAI(_0xf29e08),_0xc67725=_0x166d91[_0x2b1697(0x131)]({'model':GEMINI_MODEL}),_0x3f54a1=await _0xc67725['generateContent'](_0x2b1697(0x161)),_0x332a65=await _0x3f54a1[_0x2b1697(0xeb)];if(_0x332a65[_0x2b1697(0x14b)]())this['sendTo'](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x42de6f['callback']);else throw new Error(_0x2b1697(0x168));}catch(_0x43f033){this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':![],'message':_0x43f033[_0x2b1697(0x122)]},_0x42de6f['callback']);}else{if(_0x42de6f[_0x2b1697(0xad)]==='scanDevices')try{const _0x551462=await scanner[_0x2b1697(0xbd)](this,_0x42de6f['message']||{});this[_0x2b1697(0xe7)](_0x42de6f['from'],_0x42de6f[_0x2b1697(0xad)],{'success':!![],'devices':_0x551462},_0x42de6f['callback']);}catch(_0x50f29b){this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f['command'],{'success':![],'error':_0x50f29b[_0x2b1697(0x122)]},_0x42de6f[_0x2b1697(0x92)]);}else{if(_0x42de6f['command']===_0x2b1697(0x15c))try{const {matrix:_0x2dbf99}=_0x42de6f[_0x2b1697(0x122)],_0x47e99f=await this[_0x2b1697(0x177)]('analysis.topology.structure');if(_0x47e99f&&_0x47e99f[_0x2b1697(0x179)]){const _0x4ef5f3=JSON[_0x2b1697(0x91)](_0x47e99f[_0x2b1697(0x179)]);_0x4ef5f3[_0x2b1697(0x117)]=_0x2dbf99,_0x4ef5f3[_0x2b1697(0x14e)]=Date[_0x2b1697(0x187)](),await this[_0x2b1697(0xb2)](_0x2b1697(0xa3),{'val':JSON[_0x2b1697(0x15a)](_0x4ef5f3),'ack':!![]}),pythonBridge[_0x2b1697(0x10b)](this,'SET_TOPOLOGY',_0x4ef5f3);}this['sendTo'](_0x42de6f['from'],_0x42de6f[_0x2b1697(0xad)],{'success':!![]},_0x42de6f[_0x2b1697(0x92)]);}catch(_0x4a13d0){this['log'][_0x2b1697(0xee)](_0x4a13d0);}else{if(_0x42de6f[_0x2b1697(0xad)]===_0x2b1697(0xfb))this[_0x2b1697(0xe7)](_0x42de6f['from'],_0x42de6f[_0x2b1697(0xad)],{'success':!![],'dailyDigests':this[_0x2b1697(0xe1)]||[],'analysisHistory':this['analysisHistory']||[]},_0x42de6f[_0x2b1697(0x92)]);else{if(_0x42de6f[_0x2b1697(0xad)]===_0x2b1697(0x102)){const _0x1fe5d9=this[_0x2b1697(0xe1)][_0x2b1697(0xf4)],_0xae370c=new Array(0x18)['fill'](0x0),_0x31dda3=new Date()[_0x2b1697(0x146)](0x0,0x0,0x0,0x0);this[_0x2b1697(0xb0)]&&this[_0x2b1697(0xb0)]['forEach'](_0x32bf4e=>{const _0x20d306=_0x2b1697;if(_0x32bf4e[_0x20d306(0x11c)]>=_0x31dda3){const _0x1affb1=new Date(_0x32bf4e[_0x20d306(0x11c)])[_0x20d306(0x90)]();if(_0x1affb1>=0x0&&_0x1affb1<0x18)_0xae370c[_0x1affb1]++;}});let _0x519a43=![],_0x3b2974='',_0x373a86='',_0x4c77b6='';try{const _0x22a55f=await this[_0x2b1697(0x177)](_0x2b1697(0x10a));if(_0x22a55f&&_0x22a55f[_0x2b1697(0x179)]){_0x519a43=!![];const _0x2d0733=await this['getStateAsync'](_0x2b1697(0x12e));_0x3b2974=_0x2d0733?_0x2d0733[_0x2b1697(0x179)]:'';const _0x128f25=await this[_0x2b1697(0x177)](_0x2b1697(0x10d));_0x373a86=_0x128f25?_0x128f25['val']:'';const _0x25f07b=await this['getStateAsync'](_0x2b1697(0x12d));_0x4c77b6=_0x25f07b?_0x25f07b[_0x2b1697(0x179)]:'';}}catch(_0x2deefa){}const _0x462031=await this['checkSolarCondition'](),_0x162dc8=(this[_0x2b1697(0x119)][_0x2b1697(0x141)]||[])[_0x2b1697(0x9b)](_0x4088b1=>_0x4088b1[_0x2b1697(0xb1)]),_0x1b5302=_0x462031&&_0x162dc8;this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':!![],'eventHistory':this['eventHistory'][_0x2b1697(0xed)](0x0,0xf),'stats':{'digestCount':_0x1fe5d9,'isPresent':this[_0x2b1697(0xd9)],'hourlyActivity':_0xae370c,'solarActive':_0x1b5302},'automation':{'detected':_0x519a43,'description':_0x3b2974,'targetId':_0x373a86,'targetValue':_0x4c77b6}},_0x42de6f[_0x2b1697(0x92)]);}else{if(_0x42de6f[_0x2b1697(0xad)]===_0x2b1697(0x11e)){const _0x2e0029=await this[_0x2b1697(0x135)](_0x2b1697(0xd2),_0x2b1697(0x100)),_0x437550=[];if(_0x2e0029)for(const _0x4756ff in _0x2e0029){const _0x300eee=_0x2e0029[_0x4756ff],_0x43c8ed=(_0x300eee[_0x2b1697(0x16d)]&&typeof _0x300eee['common'][_0x2b1697(0x14a)]==='object'?_0x300eee[_0x2b1697(0x16d)][_0x2b1697(0x14a)]['de']:_0x300eee[_0x2b1697(0x16d)][_0x2b1697(0x14a)])||_0x300eee[_0x2b1697(0x16d)][_0x2b1697(0x14a)];_0x437550[_0x2b1697(0x15d)]({'id':_0x4756ff,'name':_0x43c8ed});}const _0x2e610b=await this[_0x2b1697(0x135)](_0x2b1697(0xbf),_0x2b1697(0x100)),_0x1499b1=[];if(_0x2e610b)for(const _0x1f9be7 in _0x2e610b){const _0x26f19c=_0x2e610b[_0x1f9be7],_0xe27152=(_0x26f19c[_0x2b1697(0x16d)]&&typeof _0x26f19c[_0x2b1697(0x16d)][_0x2b1697(0x14a)]===_0x2b1697(0x172)?_0x26f19c[_0x2b1697(0x16d)][_0x2b1697(0x14a)]['de']:_0x26f19c[_0x2b1697(0x16d)]['name'])||_0x1f9be7[_0x2b1697(0xd1)]('.')[_0x2b1697(0xf6)]();_0x1499b1[_0x2b1697(0x15d)](_0xe27152);}this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':!![],'enums':_0x437550,'rooms':_0x1499b1},_0x42de6f[_0x2b1697(0x92)]);}else{if(_0x42de6f[_0x2b1697(0xad)]===_0x2b1697(0x99))try{let _0x3ac0b0=_0x2b1697(0xdb),_0x42451b=_0x2b1697(0x176);if(this['config']['useWeather']){const _0x34a3a8=await recorder[_0x2b1697(0xbe)](this);_0x3ac0b0=_0x34a3a8!==null?_0x34a3a8+'Â°C':_0x2b1697(0xfd);}if(this[_0x2b1697(0x119)][_0x2b1697(0x8c)]){const _0x41fc1e=await this[_0x2b1697(0xf3)](_0x2b1697(0xb4)+this['config'][_0x2b1697(0x8c)]);_0x42451b=_0x41fc1e?'Verbunden':'Instanz\x20nicht\x20gefunden';}this['sendTo'](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':!![],'weather':_0x3ac0b0,'calendar':_0x42451b},_0x42de6f[_0x2b1697(0x92)]);}catch(_0x2f29a7){this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':![],'error':_0x2f29a7[_0x2b1697(0x122)]},_0x42de6f[_0x2b1697(0x92)]);}else{if(_0x42de6f[_0x2b1697(0xad)]==='getCalendarNames')try{const _0x274514=_0x42de6f['message'][_0x2b1697(0xa6)],_0x55990=await this[_0x2b1697(0xc5)](_0x274514+_0x2b1697(0xe8));let _0x386bf0=[];if(_0x55990&&_0x55990[_0x2b1697(0x179)]){const _0x50dc78=JSON[_0x2b1697(0x91)](_0x55990[_0x2b1697(0x179)]),_0x2d1d7e=new Set();Array[_0x2b1697(0x132)](_0x50dc78)&&_0x50dc78[_0x2b1697(0xc7)](_0x13e961=>{const _0x556b00=_0x2b1697;if(_0x13e961['_calName'])_0x2d1d7e['add'](_0x13e961['_calName']);else{if(_0x13e961['calendarName'])_0x2d1d7e['add'](_0x13e961[_0x556b00(0xdf)]);}}),_0x386bf0=Array[_0x2b1697(0x12f)](_0x2d1d7e)[_0x2b1697(0x118)]();}if(_0x386bf0[_0x2b1697(0xf4)]===0x0)_0x386bf0=[_0x2b1697(0xbb)];this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':!![],'names':_0x386bf0},_0x42de6f[_0x2b1697(0x92)]);}catch(_0x41a8a8){this[_0x2b1697(0xe7)](_0x42de6f['from'],_0x42de6f[_0x2b1697(0xad)],{'success':![],'error':_0x41a8a8[_0x2b1697(0x122)]},_0x42de6f['callback']);}else{if(_0x42de6f[_0x2b1697(0xad)]===_0x2b1697(0xe5))try{await setup['sendNotification'](this,_0x2b1697(0x97),![],![]),this[_0x2b1697(0xe7)](_0x42de6f[_0x2b1697(0x12f)],_0x42de6f[_0x2b1697(0xad)],{'success':!![],'message':_0x2b1697(0x12c)},_0x42de6f[_0x2b1697(0x92)]);}catch(_0x3d8d43){this[_0x2b1697(0xa7)][_0x2b1697(0xee)](_0x2b1697(0x170)+_0x3d8d43[_0x2b1697(0x122)]),this[_0x2b1697(0xe7)](_0x42de6f['from'],_0x42de6f[_0x2b1697(0xad)],{'success':![],'message':_0x2b1697(0xcf)+_0x3d8d43[_0x2b1697(0x122)]},_0x42de6f['callback']);}}}}}}}}}}}}}}}async[a0_0x45f233(0x175)](){const _0x1411f8=a0_0x45f233;try{const _0x2b890b=await this[_0x1411f8(0x177)](setup[_0x1411f8(0x153)]);_0x2b890b&&_0x2b890b[_0x1411f8(0x179)]&&Object['values'](setup[_0x1411f8(0xaa)])[_0x1411f8(0xef)](_0x2b890b[_0x1411f8(0x179)])?this[_0x1411f8(0x10e)]=_0x2b890b['val']:(this[_0x1411f8(0x10e)]=setup[_0x1411f8(0xaa)][_0x1411f8(0x167)],await this['setStateAsync'](setup[_0x1411f8(0x153)],{'val':setup[_0x1411f8(0xaa)][_0x1411f8(0x167)],'ack':!![]}));}catch(_0x5d3055){this[_0x1411f8(0x10e)]=setup['SYSTEM_MODES']['NORMAL'];}}async[a0_0x45f233(0x149)](){const _0x129607=a0_0x45f233;try{const _0x459126=this[_0x129607(0x119)][_0x129607(0xf2)]||[];let _0x881737=![];const _0x1c58f4=[];for(const _0x94bc9 of _0x459126){try{const _0x3d96ff=await this['getForeignStateAsync'](_0x94bc9);_0x3d96ff&&(_0x3d96ff['val']===!![]||_0x3d96ff[_0x129607(0x179)]==='online'||_0x3d96ff['val']===0x1)&&(_0x881737=!![],_0x1c58f4['push'](_0x94bc9));}catch(_0x2666be){}}return await this[_0x129607(0xb2)](_0x129607(0xb9),{'val':_0x1c58f4[_0x129607(0x180)](',\x20'),'ack':!![]}),_0x881737&&(this['exitTimer']&&(this['log'][_0x129607(0x165)](_0x129607(0x17a)),recorder['abortExitTimer'](this)),!this[_0x129607(0xd9)]&&this['currentSystemMode']===setup[_0x129607(0xaa)][_0x129607(0x167)]&&await recorder[_0x129607(0x16c)](this,!![])),_0x881737;}catch(_0xab9a68){return![];}}async['runAutopilot'](){const _0x58e550=a0_0x45f233;this['log']['debug']('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x58e550(0x15e)](this),this['updateHealthVector'](),this[_0x58e550(0xab)](),this[_0x58e550(0x89)]();}async[a0_0x45f233(0x124)](){const _0x19f571=a0_0x45f233,_0x3ef490=[_0x19f571(0xde),_0x19f571(0x96),'daswetter.0'],_0x2c85e7=['forecast.current.weather',_0x19f571(0xe9),_0x19f571(0xb7)];for(const _0x411198 of _0x3ef490){for(const _0x385202 of _0x2c85e7){try{const _0xf6fa02=_0x411198+'.'+_0x385202,_0x3204e4=await this['getForeignStateAsync'](_0xf6fa02);if(_0x3204e4&&_0x3204e4['val']){const _0x26ea11=String(_0x3204e4[_0x19f571(0x179)])[_0x19f571(0x9d)]();if(_0x26ea11[_0x19f571(0xef)](_0x19f571(0x13e))||_0x26ea11[_0x19f571(0xef)](_0x19f571(0x104))||_0x26ea11[_0x19f571(0xef)](_0x19f571(0x130))||_0x26ea11[_0x19f571(0xef)](_0x19f571(0xd3))||_0x26ea11['includes']('heiter'))return!![];}}catch(_0x32596a){}}}return![];}[a0_0x45f233(0xab)](){const _0x3badb9=a0_0x45f233;if(!this[_0x3badb9(0xc8)])return;try{this[_0x3badb9(0x127)](_0x3badb9(0x139),(_0x5e2f91,_0x978c04)=>{const _0x1bb276=_0x3badb9;_0x978c04&&_0x978c04[_0x1bb276(0x179)]&&pythonBridge[_0x1bb276(0x10b)](this,_0x1bb276(0xcb),{'sequences':JSON[_0x1bb276(0x91)](_0x978c04['val'])});});}catch(_0x52abdc){}}async[a0_0x45f233(0x89)](){const _0x5f0b24=a0_0x45f233;if(!this[_0x5f0b24(0xc8)])return;try{const _0x244a8e=await recorder[_0x5f0b24(0xbe)](this);if(_0x244a8e===null)return;const _0x22dff6={},_0x4917ad={},_0x75383=this[_0x5f0b24(0x119)][_0x5f0b24(0x141)]||[];for(const _0x34a963 of _0x75383){if(_0x34a963[_0x5f0b24(0xac)]==='temperature'&&_0x34a963[_0x5f0b24(0x18a)]){const _0x284c23=this['sensorLastValues'][_0x34a963['id']];if(_0x284c23!==undefined)_0x22dff6[_0x34a963['location']]=_0x284c23;if(_0x34a963[_0x5f0b24(0xb1)])_0x4917ad[_0x34a963[_0x5f0b24(0x18a)]]=!![];}}const _0x3aebb5=await this['checkSolarCondition']();let _0x475ca5={};try{const _0x3b2a71=await this[_0x5f0b24(0x177)](_0x5f0b24(0xd0));if(_0x3b2a71&&_0x3b2a71[_0x5f0b24(0x179)])_0x475ca5=JSON[_0x5f0b24(0x91)](_0x3b2a71[_0x5f0b24(0x179)]);}catch(_0x4aabe4){}Object[_0x5f0b24(0xaf)](_0x22dff6)[_0x5f0b24(0xf4)]>0x0&&(pythonBridge[_0x5f0b24(0x10b)](this,_0x5f0b24(0x11b),{'current_temps':_0x22dff6,'t_out':_0x244a8e,'is_sunny':_0x3aebb5,'solar_flags':_0x4917ad,'warmup_targets':_0x475ca5}),pythonBridge['send'](this,_0x5f0b24(0x125),{'current_temps':_0x22dff6,'t_out':_0x244a8e,'targets':{}}));}catch(_0x122211){}}[a0_0x45f233(0x110)](){const _0x56c2d4=a0_0x45f233;if(!this[_0x56c2d4(0x17c)]||this['rawEventLog']['length']===0x0)return;const _0xe716f7=new Array(0x60)[_0x56c2d4(0xbc)](0x0),_0x3d1229=new Date()[_0x56c2d4(0x146)](0x0,0x0,0x0,0x0);this['rawEventLog']['forEach'](_0x203d82=>{const _0x593a21=_0x56c2d4,_0x180516=new Date(_0x203d82['timestamp']);if(_0x180516[_0x593a21(0xb8)]()>=_0x3d1229){const _0x17b4b6=_0x180516[_0x593a21(0x90)](),_0x2cb7b0=_0x180516[_0x593a21(0x12a)](),_0x4ef956=_0x17b4b6*0x4+Math[_0x593a21(0x8e)](_0x2cb7b0/0xf);if(_0x4ef956>=0x0&&_0x4ef956<0x60)_0xe716f7[_0x4ef956]++;}}),this[_0x56c2d4(0xb2)](_0x56c2d4(0x115),{'val':JSON[_0x56c2d4(0x15a)](_0xe716f7),'ack':!![]});}[a0_0x45f233(0x174)](){const _0x4d8cd0=a0_0x45f233;if(!this['dailyDigests']||this['dailyDigests'][_0x4d8cd0(0xf4)]<0x2)return;const _0x2d7645=this[_0x4d8cd0(0xe1)][_0x4d8cd0(0x88)](_0x32467c=>{const _0x3f61fe=(_0x32467c['activityLevel']||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x3f61fe]||0x32;});pythonBridge[_0x4d8cd0(0x10b)](this,_0x4d8cd0(0xf5),{'values':_0x2d7645,'tag':_0x4d8cd0(0xe3)});}}if(require[a0_0x45f233(0xc4)]!==module)module[a0_0x45f233(0x17b)]=_0x149d38=>new CogniLiving(_0x149d38);else new CogniLiving();