const a0_0x212796=a0_0x5271;(function(_0x5b3819,_0x2a995d){const _0x363e4d=a0_0x5271,_0x55f501=_0x5b3819();while(!![]){try{const _0x4de106=-parseInt(_0x363e4d(0x2a7))/0x1+-parseInt(_0x363e4d(0x1fd))/0x2*(-parseInt(_0x363e4d(0x2b5))/0x3)+-parseInt(_0x363e4d(0x276))/0x4+-parseInt(_0x363e4d(0x1cc))/0x5*(parseInt(_0x363e4d(0x1f7))/0x6)+parseInt(_0x363e4d(0x1d1))/0x7*(-parseInt(_0x363e4d(0x294))/0x8)+-parseInt(_0x363e4d(0x24a))/0x9+parseInt(_0x363e4d(0x28c))/0xa*(parseInt(_0x363e4d(0x270))/0xb);if(_0x4de106===_0x2a995d)break;else _0x55f501['push'](_0x55f501['shift']());}catch(_0x43c4b1){_0x55f501['push'](_0x55f501['shift']());}}}(a0_0x25b9,0x18a0d));const a0_0x50fb84=(function(){let _0x23e153=!![];return function(_0x5bc1bc,_0x441740){const _0x1d4ca1=_0x23e153?function(){const _0x47248c=a0_0x5271;if(_0x441740){const _0x3a21aa=_0x441740[_0x47248c(0x1f3)](_0x5bc1bc,arguments);return _0x441740=null,_0x3a21aa;}}:function(){};return _0x23e153=![],_0x1d4ca1;};}()),a0_0x93b065=a0_0x50fb84(this,function(){const _0x72c4e2=a0_0x5271;return a0_0x93b065[_0x72c4e2(0x1d2)]()[_0x72c4e2(0x243)]('(((.+)+)+)+$')[_0x72c4e2(0x1d2)]()['constructor'](a0_0x93b065)[_0x72c4e2(0x243)]('(((.+)+)+)+$');});a0_0x93b065();'use strict';function a0_0x25b9(){const _0x3b627c=['stateChange','createAllObjects','bind','analysis.training.triggerTopology','startSystem','LTM.trainingData.sequences','analysis.automation.autoApply','setupBriefingScheduler','analysis.automation.description','Active\x20Ventilation\x20Alerts','daswetter.0','onStateChange','subscribeStates','rawEventLog','ack','apiKey','notifyTelegramEnabled','SYSTEM_MODES','matrix','temperature','values','testApiKey','info','scanThermostats','ltmJob','getOverviewData','Gesendet','Kein\x20Wetter-Adapter','command','PYTHON_EXE','TRAIN_ENERGY','checkSolarCondition','analysis.topology.structure','sendNotification','TRAIN_HEALTH','getMinutes','analysisTimer','clear','modeResetJob','./lib/scanner','manual','communicate.request','automation.triggerAction','initZombies','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','includes','analysis.trigger','inactivityThresholdHours','toLowerCase','onMessage','error','runAutopilot','fill','eventHistory','SYSTEM_DP_MODE','Adapter','runGeminiAnalysis','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','map','@google/generative-ai','genAI','initSystemConfig','Lernphase\x20(','ANALYZE_GAIT','search','Current.WeatherText','notifyTelegramInstance','./lib/topology',')\x20-\x20Phase\x20D\x20(Stone\x20Soup\x20Tracker)','analysis.energy.warmupTimes','timestamp','873045cHpEKx','dismissAutomation','briefingJob','./lib/setup','message','runPythonHealthCheck','scanDevices','createDailyDigest','from','val','exitGraceTimer','PINN\x20AI\x20Forecast','analysis.training.triggerEnergy','response','setupModeResetScheduler','callback','calendarName','unload','Test','online','testNotification','SET_TOPOLOGY','getEnums','Gemini\x20AI\x20initialized.','log','setState','./lib/python_bridge','cancel','name','analysis.triggerBriefing','./lib/scheduler','entries','isArray','sendMorningBriefing','namespace','processSensorEvent','length','Activity-Level','44eXjYQv','Instanz\x20nicht\x20gefunden','heiter','enum','setStateAsync','setHours','550496vhqhOG','analysis.security.learningStatus','keys','cogni-living','isPresent','Verbindung\x20erfolgreich!','\x20Tage)','\x20min\x20ausbleiben.','text','sensorLastValues','trackerHeartbeat','simulateEnergyMPC','./lib/dead_man','endsWith','stringify','calendarInstance','system.presenceWho','Fehler:\x20','ready','checkAndInstall','setObjectNotExistsAsync','checkThermostats','1194520wBMSQs','setPresence','getStateAsync','sort','json','sendTo','push','driftAnalysisTimer','24THUbPY','LTM.trainingData.thermodynamics','find','forEach','setupDriftAnalysisScheduler','analysis.energy.ventilationAlerts','enum.functions.*','system.mode','Simulation\x20durch\x20Admin\x20(Test)','klar','Notification\x20Test\x20Failed:\x20','getOutsideTemperatureNumeric','getForeignObjectsAsync','ANALYZE_TREND','LTM.rawEventLog','sunny','pop','TRAIN_COMFORT','./lib/installer','116844vZodUO','PREDICT_ENERGY','lastAlertState','exitTimer','executeAutomationAction','split','onUnload','analysis.training.triggerHealth','send','add','OPTIMIZE_ENERGY','analysis.energy.insulationScore','system.adapter.','main','34395qyCXkh','instance','checkCalendarTriggers','Gemini\x20Init\x20Error:\x20','analysisHistory','application/json','isProVersion','isGracePeriodActive','type','updated','triggerEnergyPrediction','analysis.automation.patternDetected','devices','geminiApiKey','Kein\x20Kalender-Adapter','getForeignStateAsync','updateTopology','now','./lib/automation','testContext','telegram','getTime','getForeignObjectAsync','Standard','motion','68710lznPug','trackerEnabled','dependencyInstallInProgress','string','NORMAL','118405XRTQBr','toString','@iobroker/adapter-core','minDaysForBaseline','exports','updateHealthVector','_calName','isSolar','scanForDevices','object','common','analysis.automation.targetValue','lastTrackerEventTime','presenceDevices','currentSystemMode','triggerGaitAnalysis','floor','dailyDigests','getLtmData','SET_LEARNING_MODE','LTM.dailyDigests','location','Daten\x20nicht\x20verfÃ¼gbar','onReady','updateTopologyMatrix','stopService','state','useWeather','analysis.automation.targetId','runBaselineDriftAnalysis','generateContent','setupLtmScheduler','abortExitTimer','parse','apply','initHistory','checkWifiPresence','getState','24koXpzA','Heizung\x20kann\x20','getHours','slice','loadSystemMode','Kein\x20API\x20Key\x20Ã¼bergeben','14UqkNTQ','config','VACATION','analysis.training.triggerSecurity','subscribeForeignStatesAsync','geminiModel'];a0_0x25b9=function(){return _0x3b627c;};return a0_0x25b9();}const utils=require(a0_0x212796(0x1d3)),{GoogleGenerativeAI}=require(a0_0x212796(0x23e)),installer=require(a0_0x212796(0x2a6)),scanner=require(a0_0x212796(0x22a)),schedulers=require(a0_0x212796(0x268)),topology=require(a0_0x212796(0x246)),setup=require(a0_0x212796(0x24d)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x212796(0x264)),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x212796(0x282)),automation=require(a0_0x212796(0x1c5)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x5271(_0x1c035f,_0x442392){const _0x1c4b6b=a0_0x25b9();return a0_0x5271=function(_0x93b065,_0x50fb84){_0x93b065=_0x93b065-0x1bd;let _0x25b9c5=_0x1c4b6b[_0x93b065];return _0x25b9c5;},a0_0x5271(_0x1c035f,_0x442392);}class CogniLiving extends utils[a0_0x212796(0x23a)]{constructor(_0x5ba950){const _0x1d0f55=a0_0x212796;super({..._0x5ba950,'name':_0x1d0f55(0x279)}),this[_0x1d0f55(0x238)]=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x1d0f55(0x1e2)]=[],this[_0x1d0f55(0x27f)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x1d0f55(0x27a)]=!![],this['exitTimer']=null,this[_0x1d0f55(0x254)]=null,this[_0x1d0f55(0x2bc)]=![],this[_0x1d0f55(0x23f)]=null,this[_0x1d0f55(0x202)]=null,this[_0x1d0f55(0x1df)]=setup[_0x1d0f55(0x214)][_0x1d0f55(0x1d0)],this[_0x1d0f55(0x2bb)]=![],this[_0x1d0f55(0x2a9)]=![],this[_0x1d0f55(0x227)]=null,this['ltmJob']=null,this[_0x1d0f55(0x229)]=null,this['driftAnalysisTimer']=null,this[_0x1d0f55(0x24c)]=null,this[_0x1d0f55(0x1ce)]=![],this[_0x1d0f55(0x280)]=null,this[_0x1d0f55(0x1dd)]=Date[_0x1d0f55(0x1c4)](),this['on'](_0x1d0f55(0x288),this[_0x1d0f55(0x1e8)]['bind'](this)),this['on'](_0x1d0f55(0x203),this[_0x1d0f55(0x20e)][_0x1d0f55(0x205)](this)),this['on'](_0x1d0f55(0x25b),this[_0x1d0f55(0x2ad)]['bind'](this)),this['on'](_0x1d0f55(0x24e),this[_0x1d0f55(0x234)][_0x1d0f55(0x205)](this));}async['onReady'](){const _0x2df345=a0_0x212796;this[_0x2df345(0x262)][_0x2df345(0x219)]('cogni-living\x20adapter\x20starting\x20(v'+this['version']+_0x2df345(0x247));if(!installer[_0x2df345(0x289)](this,()=>this[_0x2df345(0x207)]()))return;}async[a0_0x212796(0x207)](){const _0x3ff1e2=a0_0x212796;await setup[_0x3ff1e2(0x22e)](this);try{this['isProVersion']=await setup['checkLicense'](this[_0x3ff1e2(0x1fe)]['licenseKey']);}catch(_0xc6095a){}if(!this['config'][_0x3ff1e2(0x232)]||this[_0x3ff1e2(0x1fe)][_0x3ff1e2(0x232)]<0.1)this[_0x3ff1e2(0x1fe)][_0x3ff1e2(0x232)]=0xc;await setup[_0x3ff1e2(0x1f4)](this),await setup[_0x3ff1e2(0x240)](this);if(this[_0x3ff1e2(0x1fe)][_0x3ff1e2(0x1c0)])try{this[_0x3ff1e2(0x23f)]=new GoogleGenerativeAI(this[_0x3ff1e2(0x1fe)][_0x3ff1e2(0x1c0)]),this[_0x3ff1e2(0x202)]=this[_0x3ff1e2(0x23f)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3ff1e2(0x2ba)}}),this[_0x3ff1e2(0x262)][_0x3ff1e2(0x219)](_0x3ff1e2(0x261));}catch(_0x38ba4d){this[_0x3ff1e2(0x262)][_0x3ff1e2(0x235)](_0x3ff1e2(0x2b8)+_0x38ba4d[_0x3ff1e2(0x24e)]);}await setup[_0x3ff1e2(0x204)](this),await this[_0x3ff1e2(0x1fb)](),await this[_0x3ff1e2(0x28a)]('analysis.energy.pinnForecast',{'type':'state','common':{'name':_0x3ff1e2(0x255),'type':_0x3ff1e2(0x1cf),'role':_0x3ff1e2(0x290),'read':!![],'write':![]},'native':{}}),await this[_0x3ff1e2(0x28a)](_0x3ff1e2(0x299),{'type':_0x3ff1e2(0x1eb),'common':{'name':_0x3ff1e2(0x20c),'type':_0x3ff1e2(0x1cf),'role':_0x3ff1e2(0x290),'read':!![],'write':![]},'native':{}}),await this[_0x3ff1e2(0x28a)](_0x3ff1e2(0x248),{'type':_0x3ff1e2(0x1eb),'common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x2021Â°C)','type':_0x3ff1e2(0x1cf),'role':_0x3ff1e2(0x290),'read':!![],'write':![]},'native':{}});try{const _0x4a0e4f=await this['getStateAsync']('LTM.rawEventLog');if(_0x4a0e4f&&_0x4a0e4f['val'])this[_0x3ff1e2(0x210)]=JSON['parse'](_0x4a0e4f[_0x3ff1e2(0x253)]);}catch(_0x3c0ebb){this['rawEventLog']=[];}try{const _0x289530=await this[_0x3ff1e2(0x28e)](_0x3ff1e2(0x1e5));if(_0x289530&&_0x289530['val'])this['dailyDigests']=JSON[_0x3ff1e2(0x1f2)](_0x289530[_0x3ff1e2(0x253)]);}catch(_0x186281){this[_0x3ff1e2(0x1e2)]=[];}const _0x3bffb9=this[_0x3ff1e2(0x1e2)][_0x3ff1e2(0x26e)]>=(this[_0x3ff1e2(0x1fe)][_0x3ff1e2(0x1d4)]||0x7)?'Aktiv\x20('+this['dailyDigests'][_0x3ff1e2(0x26e)]+_0x3ff1e2(0x27c):_0x3ff1e2(0x241)+this[_0x3ff1e2(0x1e2)][_0x3ff1e2(0x26e)]+'/'+(this['config'][_0x3ff1e2(0x1d4)]||0x7)+')';await this[_0x3ff1e2(0x274)]('LTM.baselineStatus',{'val':_0x3bffb9,'ack':!![]}),this[_0x3ff1e2(0x20f)](_0x3ff1e2(0x231)),this[_0x3ff1e2(0x20f)]('LTM.triggerDailyDigest'),this['subscribeStates'](_0x3ff1e2(0x29b)),this[_0x3ff1e2(0x20f)](_0x3ff1e2(0x267)),this['subscribeStates']('analysis.automation.triggerAction'),this[_0x3ff1e2(0x20f)](_0x3ff1e2(0x209)),this['subscribeStates'](_0x3ff1e2(0x200)),this[_0x3ff1e2(0x20f)](_0x3ff1e2(0x2ae)),this[_0x3ff1e2(0x20f)](_0x3ff1e2(0x256)),this['subscribeStates']('analysis.training.triggerComfort'),this[_0x3ff1e2(0x20f)](_0x3ff1e2(0x206)),this[_0x3ff1e2(0x20f)]('analysis.energy.mpcActive');const _0x28f2bc=this[_0x3ff1e2(0x1fe)][_0x3ff1e2(0x1bf)];if(_0x28f2bc)for(const _0x5a33c8 of _0x28f2bc){await this[_0x3ff1e2(0x201)](_0x5a33c8['id']);}const _0x230ed6=this['config'][_0x3ff1e2(0x1de)];if(_0x230ed6)for(const _0x1f0448 of _0x230ed6){await this['subscribeForeignStatesAsync'](_0x1f0448);}if(this[_0x3ff1e2(0x1fe)][_0x3ff1e2(0x213)]&&this[_0x3ff1e2(0x1fe)][_0x3ff1e2(0x245)])await this[_0x3ff1e2(0x201)](this[_0x3ff1e2(0x1fe)]['notifyTelegramInstance']+'.communicate.request');setTimeout(()=>this[_0x3ff1e2(0x1f5)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x3ff1e2(0x227)]);const _0x3fee94=this[_0x3ff1e2(0x1fe)]['analysisInterval']||0xf;_0x3fee94>0x0&&(this[_0x3ff1e2(0x227)]=setInterval(()=>{const _0x2adac8=_0x3ff1e2;this[_0x2adac8(0x236)](),automation['checkCalendarTriggers'](this);},_0x3fee94*0x3c*0x3e8)),setTimeout(()=>automation[_0x3ff1e2(0x2b7)](this),0x2710),this[_0x3ff1e2(0x1fe)][_0x3ff1e2(0x1cd)]!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0x4ba0fa=_0x3ff1e2;if(this[_0x4ba0fa(0x2bb)]){const _0x148828=Date[_0x4ba0fa(0x1c4)](),_0x9d02a5=this['lastTrackerEventTime']||_0x148828,_0x412a7f=(_0x148828-_0x9d02a5)/0x3e8;_0x412a7f>0x2&&(this[_0x4ba0fa(0x1dd)]=_0x148828,pythonBridge[_0x4ba0fa(0x2af)](this,'TRACK_EVENT',{'room':null,'dt':_0x412a7f}));}},0xbb8)),schedulers[_0x3ff1e2(0x1f0)](this,()=>aiAgent[_0x3ff1e2(0x251)](this,pythonBridge)),schedulers[_0x3ff1e2(0x258)](this),schedulers[_0x3ff1e2(0x298)](this,()=>aiAgent[_0x3ff1e2(0x1ee)](this)),schedulers[_0x3ff1e2(0x20a)](this,()=>aiAgent[_0x3ff1e2(0x26b)](this)),pythonBridge['startService'](this,installer[_0x3ff1e2(0x220)]),setTimeout(async()=>{const _0x171548=_0x3ff1e2;await topology[_0x171548(0x1c3)](this);try{const _0xcda3fc=await this[_0x171548(0x28e)]('analysis.topology.structure');if(_0xcda3fc&&_0xcda3fc['val'])pythonBridge[_0x171548(0x2af)](this,_0x171548(0x25f),JSON[_0x171548(0x1f2)](_0xcda3fc[_0x171548(0x253)]));}catch(_0x2b22d){}this[_0x171548(0x24f)](),this[_0x171548(0x1e0)](),this['triggerEnergyPrediction'](),this[_0x171548(0x1d6)]();},0x1388);}[a0_0x212796(0x2ad)](_0x201938){const _0x194856=a0_0x212796;if(this[_0x194856(0x227)])clearInterval(this[_0x194856(0x227)]);if(this['driftAnalysisTimer'])clearInterval(this[_0x194856(0x293)]);if(this[_0x194856(0x280)])clearInterval(this[_0x194856(0x280)]);if(this[_0x194856(0x21b)])this['ltmJob'][_0x194856(0x265)]();if(this[_0x194856(0x229)])this[_0x194856(0x229)][_0x194856(0x265)]();if(this[_0x194856(0x24c)])this[_0x194856(0x24c)][_0x194856(0x265)]();recorder['abortExitTimer'](this),pythonBridge[_0x194856(0x1ea)](this),_0x201938();}async[a0_0x212796(0x20e)](_0x3c26f3,_0x55030b){const _0x3af69c=a0_0x212796;if(!_0x55030b||this[_0x3af69c(0x1ce)])return;if(_0x3c26f3[_0x3af69c(0x230)](_0x3af69c(0x1c7))&&_0x3c26f3[_0x3af69c(0x283)](_0x3af69c(0x22c))&&_0x55030b[_0x3af69c(0x253)])return;if(_0x3c26f3===this[_0x3af69c(0x26c)]+'.system.mode'){if(_0x55030b[_0x3af69c(0x253)]&&Object[_0x3af69c(0x217)](setup[_0x3af69c(0x214)])[_0x3af69c(0x230)](_0x55030b[_0x3af69c(0x253)])){this[_0x3af69c(0x1df)]=_0x55030b[_0x3af69c(0x253)];if(_0x55030b['val']===setup[_0x3af69c(0x214)][_0x3af69c(0x1ff)])await recorder[_0x3af69c(0x28d)](this,![]);else await recorder[_0x3af69c(0x28d)](this,!![]);if(this[_0x3af69c(0x2bb)]){let _0x34f29d=![],_0x1077bc=0x0,_0x5d8bd1=_0x3af69c(0x22b);if(this[_0x3af69c(0x1df)]==='party')_0x34f29d=!![],_0x1077bc=0x168,_0x5d8bd1='Party\x20Mode';else this[_0x3af69c(0x1df)]==='guest'&&(_0x34f29d=!![],_0x1077bc=0x5a0,_0x5d8bd1='Guest\x20Mode');pythonBridge[_0x3af69c(0x2af)](this,_0x3af69c(0x1e4),{'active':_0x34f29d,'duration':_0x1077bc,'label':_0x5d8bd1}),await this[_0x3af69c(0x274)](_0x3af69c(0x277),{'val':JSON[_0x3af69c(0x284)]({'active':_0x34f29d,'label':_0x5d8bd1,'timestamp':Date['now']()}),'ack':!![]});}}if(!_0x55030b[_0x3af69c(0x211)])this['setState'](_0x3c26f3,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x55030b[_0x3af69c(0x211)]){_0x3c26f3['includes'](_0x3af69c(0x231))&&_0x55030b[_0x3af69c(0x253)]&&(this[_0x3af69c(0x263)](_0x3c26f3,{'val':![],'ack':!![]}),aiAgent[_0x3af69c(0x23b)](this));if(_0x3c26f3['includes']('triggerDailyDigest')&&_0x55030b['val']){this[_0x3af69c(0x263)](_0x3c26f3,{'val':![],'ack':!![]});if(this[_0x3af69c(0x2bb)])aiAgent['createDailyDigest'](this,pythonBridge);}_0x3c26f3[_0x3af69c(0x230)]('triggerBriefing')&&_0x55030b['val']&&(this['setState'](_0x3c26f3,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this));_0x3c26f3[_0x3af69c(0x230)](_0x3af69c(0x22d))&&_0x55030b[_0x3af69c(0x253)]&&(this['setState'](_0x3c26f3,{'val':![],'ack':!![]}),aiAgent[_0x3af69c(0x2ab)](this));if(_0x3c26f3[_0x3af69c(0x230)](_0x3af69c(0x200))&&_0x55030b[_0x3af69c(0x253)]){this[_0x3af69c(0x263)](_0x3c26f3,{'val':![],'ack':!![]});if(this[_0x3af69c(0x2bb)])try{const _0xcf302d=await this[_0x3af69c(0x28e)](_0x3af69c(0x208));if(_0xcf302d&&_0xcf302d['val']){const _0x3991ea=JSON[_0x3af69c(0x1f2)](_0xcf302d[_0x3af69c(0x253)]);this[_0x3af69c(0x274)]('analysis.training.status',{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge['send'](this,'TRAIN_SECURITY',{'sequences':_0x3991ea});}}catch(_0x61637e){}}if(_0x3c26f3[_0x3af69c(0x230)](_0x3af69c(0x2ae))&&_0x55030b[_0x3af69c(0x253)]){this[_0x3af69c(0x263)](_0x3c26f3,{'val':![],'ack':!![]});if(this[_0x3af69c(0x2bb)])try{const _0x122287=await this['getStateAsync']('LTM.dailyDigests');if(_0x122287&&_0x122287[_0x3af69c(0x253)])pythonBridge[_0x3af69c(0x2af)](this,_0x3af69c(0x225),{'digests':JSON['parse'](_0x122287[_0x3af69c(0x253)])});}catch(_0x266500){}}if(_0x3c26f3[_0x3af69c(0x230)](_0x3af69c(0x256))&&_0x55030b[_0x3af69c(0x253)]){this[_0x3af69c(0x263)](_0x3c26f3,{'val':![],'ack':!![]});if(this[_0x3af69c(0x2bb)])try{const _0x644a15=await this[_0x3af69c(0x28e)](_0x3af69c(0x295));if(_0x644a15&&_0x644a15[_0x3af69c(0x253)])pythonBridge[_0x3af69c(0x2af)](this,_0x3af69c(0x221),{'points':JSON[_0x3af69c(0x1f2)](_0x644a15[_0x3af69c(0x253)])});}catch(_0x1751bc){}}if(_0x3c26f3[_0x3af69c(0x230)]('analysis.training.triggerComfort')&&_0x55030b[_0x3af69c(0x253)]){this[_0x3af69c(0x263)](_0x3c26f3,{'val':![],'ack':!![]});if(this[_0x3af69c(0x2bb)])try{const _0x270aaf=await this[_0x3af69c(0x28e)](_0x3af69c(0x2a2));if(_0x270aaf&&_0x270aaf['val'])pythonBridge['send'](this,_0x3af69c(0x2a5),{'events':JSON[_0x3af69c(0x1f2)](_0x270aaf[_0x3af69c(0x253)])});}catch(_0x3dfca4){}}_0x3c26f3[_0x3af69c(0x230)](_0x3af69c(0x206))&&_0x55030b[_0x3af69c(0x253)]&&(this[_0x3af69c(0x263)](_0x3c26f3,{'val':![],'ack':!![]}),topology['updateTopology'](this));return;}if(this['config'][_0x3af69c(0x1de)]&&this[_0x3af69c(0x1fe)][_0x3af69c(0x1de)][_0x3af69c(0x230)](_0x3c26f3)){await this[_0x3af69c(0x1f5)]();return;}const _0x3b15fb=(this[_0x3af69c(0x1fe)][_0x3af69c(0x1bf)]||[])[_0x3af69c(0x296)](_0x1383dd=>_0x1383dd['id']===_0x3c26f3);if(_0x3b15fb){const _0x40231d=await recorder[_0x3af69c(0x26d)](this,_0x3c26f3,_0x55030b,_0x3b15fb);_0x40231d&&_0x40231d[_0x3af69c(0x2bd)]===_0x3af69c(0x1cb)&&_0x40231d[_0x3af69c(0x1e6)]&&this['isProVersion']&&deadMan['updateLocation'](this,_0x40231d[_0x3af69c(0x1e6)]);}}async[a0_0x212796(0x234)](_0x34714d){const _0x1928c3=a0_0x212796;if(typeof _0x34714d===_0x1928c3(0x1da)&&_0x34714d['message']){if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x28b))try{const _0x54bb8b=await automation[_0x1928c3(0x21a)](this);this[_0x1928c3(0x291)](_0x34714d['from'],_0x34714d['command'],{'success':!![],'results':_0x54bb8b},_0x34714d[_0x1928c3(0x259)]);}catch(_0x210031){this[_0x1928c3(0x291)](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':![],'error':_0x210031[_0x1928c3(0x24e)]},_0x34714d[_0x1928c3(0x259)]);}else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x281))try{const {current_temps:_0x425a07,t_out:_0x5552e1,targets:_0x39d693,t_forecast:_0x47c0ec}=_0x34714d[_0x1928c3(0x24e)],_0x1acd8b=[];let _0x22be4e={};try{const _0x16cdff=await this[_0x1928c3(0x28e)](_0x1928c3(0x2b2));if(_0x16cdff&&_0x16cdff[_0x1928c3(0x253)]){const _0x3bc304=JSON['parse'](_0x16cdff[_0x1928c3(0x253)]);_0x22be4e=_0x3bc304['scores']||_0x3bc304;}}catch(_0xca022d){}const _0x21df1a=_0x47c0ec!==undefined&&_0x47c0ec!==null?(_0x5552e1+_0x47c0ec)/0x2:_0x5552e1;for(const [_0x3d25fb,_0x415d10]of Object[_0x1928c3(0x269)](_0x425a07)){const _0x49dd69=_0x39d693[_0x3d25fb]||0x15;if(_0x415d10<=_0x49dd69)continue;let _0x46cda0=_0x22be4e[_0x3d25fb]||-0.5;if(_0x46cda0>=0x0)_0x46cda0=-0.5;const _0x4f8f19=Math['abs'](_0x46cda0),_0x3bbbcb=_0x415d10-_0x49dd69;let _0x33e911=Math[_0x1928c3(0x1e1)](_0x3bbbcb/_0x4f8f19*0x3c);const _0x6f156d=_0x415d10-_0x5552e1,_0x186b0a=_0x415d10-_0x21df1a;if(_0x186b0a!==0x0&&_0x6f156d!==0x0){const _0x4d665a=_0x6f156d/_0x186b0a;_0x33e911=Math['floor'](_0x33e911*_0x4d665a);}if(_0x33e911>0xf){if(_0x33e911>0xf0)_0x33e911=0xf0;_0x1acd8b[_0x1928c3(0x292)]({'room':_0x3d25fb,'minutes_safe':_0x33e911,'target':_0x49dd69,'current':_0x415d10,'savings_msg':_0x1928c3(0x1f8)+_0x33e911+_0x1928c3(0x27d)});}}_0x1acd8b['sort']((_0x2f85d4,_0x43d4a1)=>_0x43d4a1['minutes_safe']-_0x2f85d4['minutes_safe']),this[_0x1928c3(0x291)](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':!![],'proposals':_0x1acd8b},_0x34714d[_0x1928c3(0x259)]);}catch(_0x32b606){this[_0x1928c3(0x291)](_0x34714d['from'],_0x34714d['command'],{'success':![],'error':_0x32b606[_0x1928c3(0x24e)]},_0x34714d[_0x1928c3(0x259)]);}else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x24b))await this[_0x1928c3(0x274)](_0x1928c3(0x1be),{'val':![],'ack':!![]}),await this[_0x1928c3(0x274)](_0x1928c3(0x20b),{'val':'','ack':!![]}),await this['setStateAsync'](_0x1928c3(0x1ed),{'val':'','ack':!![]}),this[_0x1928c3(0x291)](_0x34714d['from'],_0x34714d[_0x1928c3(0x21f)],{'success':!![]},_0x34714d['callback']);else{if(_0x34714d['command']==='simulateButler'){const {targetId:_0x3cc19c,targetValue:_0x14d8dd}=_0x34714d[_0x1928c3(0x24e)];await this[_0x1928c3(0x274)](_0x1928c3(0x1be),{'val':!![],'ack':!![]}),await this[_0x1928c3(0x274)](_0x1928c3(0x20b),{'val':_0x1928c3(0x29c),'ack':!![]}),await this[_0x1928c3(0x274)]('analysis.automation.targetId',{'val':_0x3cc19c,'ack':!![]}),await this['setStateAsync'](_0x1928c3(0x1dc),{'val':String(_0x14d8dd),'ack':!![]}),this[_0x1928c3(0x291)](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':!![]},_0x34714d[_0x1928c3(0x259)]);}else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x218))try{const _0x50ed6f=_0x34714d[_0x1928c3(0x24e)][_0x1928c3(0x212)];if(!_0x50ed6f)throw new Error(_0x1928c3(0x1fc));const _0x4b9658=new GoogleGenerativeAI(_0x50ed6f),_0x4c1e9f=_0x4b9658['getGenerativeModel']({'model':GEMINI_MODEL}),_0x3a4b0e=await _0x4c1e9f[_0x1928c3(0x1ef)](_0x1928c3(0x25c)),_0x5c308e=await _0x3a4b0e[_0x1928c3(0x257)];if(_0x5c308e[_0x1928c3(0x27e)]())this[_0x1928c3(0x291)](_0x34714d[_0x1928c3(0x252)],_0x34714d['command'],{'success':!![],'message':_0x1928c3(0x27b)},_0x34714d[_0x1928c3(0x259)]);else throw new Error('Keine\x20Antwort\x20von\x20Gemini');}catch(_0x69832b){this['sendTo'](_0x34714d['from'],_0x34714d[_0x1928c3(0x21f)],{'success':![],'message':_0x69832b[_0x1928c3(0x24e)]},_0x34714d[_0x1928c3(0x259)]);}else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x250))try{const _0x5dedf5=await scanner[_0x1928c3(0x1d9)](this,_0x34714d[_0x1928c3(0x24e)]||{});this['sendTo'](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':!![],'devices':_0x5dedf5},_0x34714d[_0x1928c3(0x259)]);}catch(_0x210c33){this[_0x1928c3(0x291)](_0x34714d[_0x1928c3(0x252)],_0x34714d['command'],{'success':![],'error':_0x210c33[_0x1928c3(0x24e)]},_0x34714d[_0x1928c3(0x259)]);}else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x1e9))try{const {matrix:_0x4f5e15}=_0x34714d[_0x1928c3(0x24e)],_0x51cdc8=await this['getStateAsync']('analysis.topology.structure');if(_0x51cdc8&&_0x51cdc8[_0x1928c3(0x253)]){const _0x1e51b4=JSON[_0x1928c3(0x1f2)](_0x51cdc8[_0x1928c3(0x253)]);_0x1e51b4[_0x1928c3(0x215)]=_0x4f5e15,_0x1e51b4[_0x1928c3(0x2be)]=Date[_0x1928c3(0x1c4)](),await this['setStateAsync'](_0x1928c3(0x223),{'val':JSON[_0x1928c3(0x284)](_0x1e51b4),'ack':!![]}),pythonBridge['send'](this,_0x1928c3(0x25f),_0x1e51b4);}this['sendTo'](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':!![]},_0x34714d[_0x1928c3(0x259)]);}catch(_0x194b8c){this[_0x1928c3(0x262)][_0x1928c3(0x235)](_0x194b8c);}else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x1e3))this[_0x1928c3(0x291)](_0x34714d['from'],_0x34714d['command'],{'success':!![],'dailyDigests':this[_0x1928c3(0x1e2)]||[],'analysisHistory':this[_0x1928c3(0x2b9)]||[]},_0x34714d[_0x1928c3(0x259)]);else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x21c)){const _0x526f12=this[_0x1928c3(0x1e2)][_0x1928c3(0x26e)],_0x14da25=new Array(0x18)[_0x1928c3(0x237)](0x0),_0x2f9081=new Date()[_0x1928c3(0x275)](0x0,0x0,0x0,0x0);this[_0x1928c3(0x238)]&&this[_0x1928c3(0x238)][_0x1928c3(0x297)](_0x166d8f=>{const _0x30ed6a=_0x1928c3;if(_0x166d8f['timestamp']>=_0x2f9081){const _0x176c7b=new Date(_0x166d8f[_0x30ed6a(0x249)])[_0x30ed6a(0x1f9)]();if(_0x176c7b>=0x0&&_0x176c7b<0x18)_0x14da25[_0x176c7b]++;}});let _0xba186d=![],_0x3d21a1='',_0x5e135d='',_0x47c3d6='';try{const _0x1b7117=await this['getStateAsync'](_0x1928c3(0x1be));if(_0x1b7117&&_0x1b7117[_0x1928c3(0x253)]){_0xba186d=!![];const _0x50eb85=await this[_0x1928c3(0x28e)]('analysis.automation.description');_0x3d21a1=_0x50eb85?_0x50eb85[_0x1928c3(0x253)]:'';const _0x10fb0a=await this['getStateAsync'](_0x1928c3(0x1ed));_0x5e135d=_0x10fb0a?_0x10fb0a[_0x1928c3(0x253)]:'';const _0x4384e2=await this[_0x1928c3(0x28e)](_0x1928c3(0x1dc));_0x47c3d6=_0x4384e2?_0x4384e2[_0x1928c3(0x253)]:'';}}catch(_0x3719d0){}const _0x680304=await this[_0x1928c3(0x222)](),_0x5982d4=(this[_0x1928c3(0x1fe)]['devices']||[])['some'](_0x58965f=>_0x58965f[_0x1928c3(0x1d8)]),_0x2f504a=_0x680304&&_0x5982d4;this[_0x1928c3(0x291)](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':!![],'eventHistory':this['eventHistory'][_0x1928c3(0x1fa)](0x0,0xf),'stats':{'digestCount':_0x526f12,'isPresent':this[_0x1928c3(0x27a)],'hourlyActivity':_0x14da25,'solarActive':_0x2f504a},'automation':{'detected':_0xba186d,'description':_0x3d21a1,'targetId':_0x5e135d,'targetValue':_0x47c3d6}},_0x34714d[_0x1928c3(0x259)]);}else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x260)){const _0x5ed5fb=await this[_0x1928c3(0x2a0)](_0x1928c3(0x29a),_0x1928c3(0x273)),_0x42bf5d=[];if(_0x5ed5fb)for(const _0x3ee3d7 in _0x5ed5fb){const _0x41e972=_0x5ed5fb[_0x3ee3d7],_0x24b89c=(_0x41e972['common']&&typeof _0x41e972[_0x1928c3(0x1db)][_0x1928c3(0x266)]==='object'?_0x41e972[_0x1928c3(0x1db)]['name']['de']:_0x41e972['common'][_0x1928c3(0x266)])||_0x41e972[_0x1928c3(0x1db)][_0x1928c3(0x266)];_0x42bf5d[_0x1928c3(0x292)]({'id':_0x3ee3d7,'name':_0x24b89c});}const _0x5965a2=await this['getForeignObjectsAsync']('enum.rooms.*',_0x1928c3(0x273)),_0x54a515=[];if(_0x5965a2)for(const _0xf20aa0 in _0x5965a2){const _0x21c0c6=_0x5965a2[_0xf20aa0],_0x471fc3=(_0x21c0c6[_0x1928c3(0x1db)]&&typeof _0x21c0c6[_0x1928c3(0x1db)][_0x1928c3(0x266)]===_0x1928c3(0x1da)?_0x21c0c6[_0x1928c3(0x1db)]['name']['de']:_0x21c0c6[_0x1928c3(0x1db)][_0x1928c3(0x266)])||_0xf20aa0[_0x1928c3(0x2ac)]('.')[_0x1928c3(0x2a4)]();_0x54a515[_0x1928c3(0x292)](_0x471fc3);}this['sendTo'](_0x34714d['from'],_0x34714d[_0x1928c3(0x21f)],{'success':!![],'enums':_0x42bf5d,'rooms':_0x54a515},_0x34714d[_0x1928c3(0x259)]);}else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x1c6))try{let _0x3ea0c1=_0x1928c3(0x21e),_0x338017=_0x1928c3(0x1c1);if(this[_0x1928c3(0x1fe)][_0x1928c3(0x1ec)]){const _0x471bae=await recorder[_0x1928c3(0x29f)](this);_0x3ea0c1=_0x471bae!==null?_0x471bae+'Â°C':_0x1928c3(0x1e7);}if(this['config'][_0x1928c3(0x285)]){const _0x5a009a=await this[_0x1928c3(0x1c9)](_0x1928c3(0x2b3)+this['config']['calendarInstance']);_0x338017=_0x5a009a?'Verbunden':_0x1928c3(0x271);}this['sendTo'](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':!![],'weather':_0x3ea0c1,'calendar':_0x338017},_0x34714d['callback']);}catch(_0x4ea0de){this[_0x1928c3(0x291)](_0x34714d['from'],_0x34714d[_0x1928c3(0x21f)],{'success':![],'error':_0x4ea0de[_0x1928c3(0x24e)]},_0x34714d[_0x1928c3(0x259)]);}else{if(_0x34714d[_0x1928c3(0x21f)]==='getCalendarNames')try{const _0x3fa8d2=_0x34714d[_0x1928c3(0x24e)][_0x1928c3(0x2b6)],_0x8d91c4=await this[_0x1928c3(0x1c2)](_0x3fa8d2+'.data.table');let _0x4643cd=[];if(_0x8d91c4&&_0x8d91c4['val']){const _0x56dbda=JSON[_0x1928c3(0x1f2)](_0x8d91c4['val']),_0xed1574=new Set();Array[_0x1928c3(0x26a)](_0x56dbda)&&_0x56dbda[_0x1928c3(0x297)](_0x1b1d70=>{const _0x4ff6b3=_0x1928c3;if(_0x1b1d70[_0x4ff6b3(0x1d7)])_0xed1574['add'](_0x1b1d70[_0x4ff6b3(0x1d7)]);else{if(_0x1b1d70['calendarName'])_0xed1574[_0x4ff6b3(0x2b0)](_0x1b1d70[_0x4ff6b3(0x25a)]);}}),_0x4643cd=Array[_0x1928c3(0x252)](_0xed1574)[_0x1928c3(0x28f)]();}if(_0x4643cd[_0x1928c3(0x26e)]===0x0)_0x4643cd=[_0x1928c3(0x1ca)];this[_0x1928c3(0x291)](_0x34714d['from'],_0x34714d[_0x1928c3(0x21f)],{'success':!![],'names':_0x4643cd},_0x34714d[_0x1928c3(0x259)]);}catch(_0x338c46){this['sendTo'](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':![],'error':_0x338c46[_0x1928c3(0x24e)]},_0x34714d[_0x1928c3(0x259)]);}else{if(_0x34714d[_0x1928c3(0x21f)]===_0x1928c3(0x25e))try{await setup[_0x1928c3(0x224)](this,_0x1928c3(0x22f),![],![]),this[_0x1928c3(0x291)](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':!![],'message':_0x1928c3(0x21d)},_0x34714d['callback']);}catch(_0x1a5b62){this[_0x1928c3(0x262)][_0x1928c3(0x235)](_0x1928c3(0x29e)+_0x1a5b62[_0x1928c3(0x24e)]),this[_0x1928c3(0x291)](_0x34714d[_0x1928c3(0x252)],_0x34714d[_0x1928c3(0x21f)],{'success':![],'message':_0x1928c3(0x287)+_0x1a5b62['message']},_0x34714d[_0x1928c3(0x259)]);}}}}}}}}}}}}}}}async[a0_0x212796(0x1fb)](){const _0x32d5f7=a0_0x212796;try{const _0x453e83=await this[_0x32d5f7(0x28e)](setup[_0x32d5f7(0x239)]);_0x453e83&&_0x453e83['val']&&Object[_0x32d5f7(0x217)](setup[_0x32d5f7(0x214)])[_0x32d5f7(0x230)](_0x453e83[_0x32d5f7(0x253)])?this['currentSystemMode']=_0x453e83[_0x32d5f7(0x253)]:(this[_0x32d5f7(0x1df)]=setup[_0x32d5f7(0x214)]['NORMAL'],await this[_0x32d5f7(0x274)](setup[_0x32d5f7(0x239)],{'val':setup[_0x32d5f7(0x214)][_0x32d5f7(0x1d0)],'ack':!![]}));}catch(_0x2052d3){this[_0x32d5f7(0x1df)]=setup['SYSTEM_MODES'][_0x32d5f7(0x1d0)];}}async[a0_0x212796(0x1f5)](){const _0xe8921d=a0_0x212796;try{const _0x30c59e=this[_0xe8921d(0x1fe)]['presenceDevices']||[];let _0x3d2413=![];const _0x9dfbd5=[];for(const _0x50004b of _0x30c59e){try{const _0x174dc8=await this[_0xe8921d(0x1c2)](_0x50004b);_0x174dc8&&(_0x174dc8[_0xe8921d(0x253)]===!![]||_0x174dc8[_0xe8921d(0x253)]===_0xe8921d(0x25d)||_0x174dc8[_0xe8921d(0x253)]===0x1)&&(_0x3d2413=!![],_0x9dfbd5[_0xe8921d(0x292)](_0x50004b));}catch(_0x390a2e){}}return await this[_0xe8921d(0x274)](_0xe8921d(0x286),{'val':_0x9dfbd5['join'](',\x20'),'ack':!![]}),_0x3d2413&&(this[_0xe8921d(0x2aa)]&&(this[_0xe8921d(0x262)][_0xe8921d(0x219)]('WiFi\x20Presence\x20detected.'),recorder[_0xe8921d(0x1f1)](this)),!this[_0xe8921d(0x27a)]&&this['currentSystemMode']===setup[_0xe8921d(0x214)][_0xe8921d(0x1d0)]&&await recorder['setPresence'](this,!![])),_0x3d2413;}catch(_0x55f616){return![];}}async[a0_0x212796(0x236)](){const _0x5d4b8e=a0_0x212796;this[_0x5d4b8e(0x262)]['debug'](_0x5d4b8e(0x23c)),await aiAgent[_0x5d4b8e(0x23b)](this),this['updateHealthVector'](),this[_0x5d4b8e(0x1e0)](),this[_0x5d4b8e(0x1bd)]();}async[a0_0x212796(0x222)](){const _0x4a0b58=a0_0x212796,_0x412265=['weatherunderground.0','accuweather.0',_0x4a0b58(0x20d)],_0xc4886f=['forecast.current.weather',_0x4a0b58(0x244),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x588556 of _0x412265){for(const _0x155b16 of _0xc4886f){try{const _0x43bb02=_0x588556+'.'+_0x155b16,_0x10f28c=await this[_0x4a0b58(0x1c2)](_0x43bb02);if(_0x10f28c&&_0x10f28c[_0x4a0b58(0x253)]){const _0x892e9e=String(_0x10f28c['val'])[_0x4a0b58(0x233)]();if(_0x892e9e['includes']('sonn')||_0x892e9e[_0x4a0b58(0x230)](_0x4a0b58(0x2a3))||_0x892e9e[_0x4a0b58(0x230)](_0x4a0b58(0x29d))||_0x892e9e[_0x4a0b58(0x230)](_0x4a0b58(0x228))||_0x892e9e[_0x4a0b58(0x230)](_0x4a0b58(0x272)))return!![];}}catch(_0x3d989a){}}}return![];}[a0_0x212796(0x1e0)](){const _0x266102=a0_0x212796;if(!this['isProVersion'])return;try{this[_0x266102(0x1f6)](_0x266102(0x208),(_0x2658fb,_0x4a4ce6)=>{const _0x448fad=_0x266102;_0x4a4ce6&&_0x4a4ce6[_0x448fad(0x253)]&&pythonBridge['send'](this,_0x448fad(0x242),{'sequences':JSON[_0x448fad(0x1f2)](_0x4a4ce6['val'])});});}catch(_0x39e1b2){}}async['triggerEnergyPrediction'](){const _0x3fbeee=a0_0x212796;if(!this[_0x3fbeee(0x2bb)])return;try{const _0x342f53=await recorder[_0x3fbeee(0x29f)](this);if(_0x342f53===null)return;const _0x186eca={},_0x498965={},_0x5dc2e1=this[_0x3fbeee(0x1fe)][_0x3fbeee(0x1bf)]||[];for(const _0x479a32 of _0x5dc2e1){if(_0x479a32[_0x3fbeee(0x2bd)]===_0x3fbeee(0x216)&&_0x479a32[_0x3fbeee(0x1e6)]){const _0xe56ab4=this[_0x3fbeee(0x27f)][_0x479a32['id']];if(_0xe56ab4!==undefined)_0x186eca[_0x479a32[_0x3fbeee(0x1e6)]]=_0xe56ab4;if(_0x479a32[_0x3fbeee(0x1d8)])_0x498965[_0x479a32[_0x3fbeee(0x1e6)]]=!![];}}const _0x491382=await this['checkSolarCondition']();Object[_0x3fbeee(0x278)](_0x186eca)['length']>0x0&&(pythonBridge[_0x3fbeee(0x2af)](this,_0x3fbeee(0x2a8),{'current_temps':_0x186eca,'t_out':_0x342f53,'is_sunny':_0x491382,'solar_flags':_0x498965}),pythonBridge[_0x3fbeee(0x2af)](this,_0x3fbeee(0x2b1),{'current_temps':_0x186eca,'t_out':_0x342f53,'targets':{}}));}catch(_0x621d31){}}[a0_0x212796(0x1d6)](){const _0x4c0140=a0_0x212796;if(!this[_0x4c0140(0x210)]||this[_0x4c0140(0x210)][_0x4c0140(0x26e)]===0x0)return;const _0x4afc44=new Array(0x60)['fill'](0x0),_0x34bd1b=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x4c0140(0x210)][_0x4c0140(0x297)](_0x11de38=>{const _0x244d78=_0x4c0140,_0x41cdde=new Date(_0x11de38[_0x244d78(0x249)]);if(_0x41cdde[_0x244d78(0x1c8)]()>=_0x34bd1b){const _0x1537b5=_0x41cdde['getHours'](),_0x579a4c=_0x41cdde[_0x244d78(0x226)](),_0x1e65a8=_0x1537b5*0x4+Math['floor'](_0x579a4c/0xf);if(_0x1e65a8>=0x0&&_0x1e65a8<0x60)_0x4afc44[_0x1e65a8]++;}}),this['setStateAsync']('analysis.health.todayVector',{'val':JSON[_0x4c0140(0x284)](_0x4afc44),'ack':!![]});}['runPythonHealthCheck'](){const _0xfd8f8b=a0_0x212796;if(!this['dailyDigests']||this['dailyDigests']['length']<0x2)return;const _0x5ec7c7=this[_0xfd8f8b(0x1e2)][_0xfd8f8b(0x23d)](_0x4a9d18=>{const _0x524138=(_0x4a9d18['activityLevel']||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x524138]||0x32;});pythonBridge[_0xfd8f8b(0x2af)](this,_0xfd8f8b(0x2a1),{'values':_0x5ec7c7,'tag':_0xfd8f8b(0x26f)});}}if(require[a0_0x212796(0x2b4)]!==module)module[a0_0x212796(0x1d5)]=_0x3e5e6a=>new CogniLiving(_0x3e5e6a);else new CogniLiving();