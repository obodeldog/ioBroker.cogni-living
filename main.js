const a0_0x18f949=a0_0x1364;(function(_0x3a49c9,_0x34e0d0){const _0x234710=a0_0x1364,_0x5be361=_0x3a49c9();while(!![]){try{const _0x28cb01=-parseInt(_0x234710(0x1da))/0x1*(parseInt(_0x234710(0x15b))/0x2)+parseInt(_0x234710(0x1a7))/0x3+-parseInt(_0x234710(0x14f))/0x4*(parseInt(_0x234710(0x19f))/0x5)+parseInt(_0x234710(0x11d))/0x6*(parseInt(_0x234710(0x1ce))/0x7)+parseInt(_0x234710(0x169))/0x8*(-parseInt(_0x234710(0x1ab))/0x9)+-parseInt(_0x234710(0x189))/0xa*(-parseInt(_0x234710(0x1fe))/0xb)+-parseInt(_0x234710(0xf2))/0xc*(-parseInt(_0x234710(0x16c))/0xd);if(_0x28cb01===_0x34e0d0)break;else _0x5be361['push'](_0x5be361['shift']());}catch(_0x125c8d){_0x5be361['push'](_0x5be361['shift']());}}}(a0_0x504e,0x43efb));const a0_0x127d80=(function(){let _0x468824=!![];return function(_0x1e9e04,_0x31807b){const _0x17058e=_0x468824?function(){const _0x353559=a0_0x1364;if(_0x31807b){const _0x2ae6e2=_0x31807b[_0x353559(0x1cf)](_0x1e9e04,arguments);return _0x31807b=null,_0x2ae6e2;}}:function(){};return _0x468824=![],_0x17058e;};}()),a0_0x308d5d=a0_0x127d80(this,function(){const _0xba187e=a0_0x1364;return a0_0x308d5d[_0xba187e(0x141)]()['search'](_0xba187e(0x157))[_0xba187e(0x141)]()['constructor'](a0_0x308d5d)[_0xba187e(0x1dd)](_0xba187e(0x157));});function a0_0x504e(){const _0x961181=['Gemini\x20Init\x20Error:\x20','283rpeuXU','NORMAL','values','search','stringify','SYSTEM_DP_MODE','checkThermostats','response','testContext','LTM.triggerDailyDigest','accuweather.0','getGenerativeModel','onStateChange','system.adapter.','TRACK_EVENT','setupModeResetScheduler','startService','analysis.energy.insulationScore','communicate.request','Current.WeatherText','analysis.triggerBriefing','setHours','setupDriftAnalysisScheduler','analysis.trigger','notifyTelegramInstance','analysis.automation.targetId','analysis.automation.triggerAction','includes','OPTIMIZE_ENERGY','bind','error','isGracePeriodActive','Gesendet','getForeignObjectAsync','checkWifiPresence','callback','1978933nudTUE',')\x20-\x20Phase\x20D\x20(Evolution)','updateHealthVector','initSystemConfig','LTM.rawEventLog','sonn','devices','72onslQy','daswetter.0','exitTimer','Instanz\x20nicht\x20gefunden','scanDevices','sunny','Verbunden','analysis.energy.warmupTimes','subscribeStates','Party\x20Mode','_calName','manual','TRAIN_ENERGY','notifyTelegramEnabled','slice','loadSystemMode','LTM.baselineStatus','runAutopilot','name','ack','sendMorningBriefing','{\x22default\x22:\x2021}','getOutsideTemperatureNumeric','length','checkAndInstall','Daten\x20nicht\x20verfÃ¼gbar','./lib/topology','modeResetJob','./lib/setup','enum.rooms.*','onReady','updateLocation','matrix','enum.functions.*','string','analysisHistory','exitGraceTimer','Fehler:\x20','val','onMessage','sendTo','ANALYZE_GAIT','getStateAsync','24wLcLpA','abs','lastTrackerEventTime','map','split','analysis.energy.mpcActive','scores','analysis.training.triggerTopology','briefingJob','from','simulateButler','./lib/ai_agent','ANALYZE_TREND','log','Adapter','sort','Notification\x20Test\x20Failed:\x20','enum','analysis.training.triggerComfort','analysis.energy.ventilationAlerts','triggerEnergyPrediction','LTM.dailyDigests','SYSTEM_MODES','push','runPythonHealthCheck','some','genAI','Simulation\x20durch\x20Admin\x20(Test)','config','analysis.topology.structure','forEach','state','Sec-Training\x20started...','updateTopologyMatrix','info','Test','toString','useWeather','parse','send','onUnload','klar','NextHours.Location_1.Day_1.current.symbol_desc','analysis.security.learningStatus','entries','isSolar','triggerGaitAnalysis','trackerHeartbeat','rawEventLog','startSystem','786404NoBoXj','./lib/automation','abortExitTimer','createAllObjects','processSensorEvent','triggerDailyDigest','\x20min\x20ausbleiben.','activityLevel','(((.+)+)+)+$','SET_TOPOLOGY','analysis.training.triggerSecurity','clear','1642fwOWoL','analysis.automation.description','namespace','getEnums','updateTopology','unload','endsWith','models/gemini-flash-latest','eventHistory','find','Verbindung\x20erfolgreich!','analysis.training.triggerEnergy','calendarInstance','toLowerCase','7552RguhvF','minDaysForBaseline','add','65988zhykxa','isPresent','temperature','stateChange','sensorLastValues','Guest\x20Mode','executeAutomationAction','triggerBriefing','\x20Tage)','getLtmData','instance','cancel','driftAnalysisTimer','initZombies','./lib/recorder','json','dailyDigests','LTM.trainingData.sequences','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','geminiApiKey','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','fill','LTM.trainingData.thermodynamics','debug','join','object','testNotification','timestamp','analysis.energy.warmupTargets','20aMxeQe','Kein\x20Wetter-Adapter','dismissAutomation','checkLicense','analysis.automation.autoApply','PYTHON_EXE','initHistory','floor','testApiKey','analysis.energy.pinnForecast','setPresence','automation.triggerAction','text','presenceDevices','setupLtmScheduler','Gemini\x20AI\x20initialized.','analysis.automation.patternDetected','TRAIN_HEALTH','sendNotification','now','./lib/python_bridge','.communicate.request','10LieHSG','analysisInterval','cogni-living\x20adapter\x20starting\x20(v','./lib/dead_man','geminiModel','Kein\x20API\x20Key\x20Ã¼bergeben','Standard','analysis.automation.targetValue','1165986BQMQgI','pop','setState','runBaselineDriftAnalysis','3195YKQsoG','checkSolarCondition','system.presenceWho','ltmJob','keys','isArray','analysis.training.triggerHealth','main','getForeignStateAsync','message','runGeminiAnalysis','Warm-Up\x20Target\x20Temps\x20(JSON)','PREDICT_ENERGY','setStateAsync','guest','VACATION','SET_LEARNING_MODE','application/json','motion','Lernphase\x20(','Keine\x20Antwort\x20von\x20Gemini','telegram','analysis.health.todayVector','currentSystemMode','analysisTimer','.data.table','subscribeForeignStatesAsync','getForeignObjectsAsync','cogni-living','calendarName','createDailyDigest','weatherunderground.0','updated','inactivityThresholdHours','location','805014YuXqEh','apply','isProVersion','stopService','getHours','command','system.mode','setObjectNotExistsAsync','common','checkCalendarTriggers','analysis.training.status'];a0_0x504e=function(){return _0x961181;};return a0_0x504e();}a0_0x308d5d();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require('./lib/installer'),scanner=require('./lib/scanner'),schedulers=require('./lib/scheduler'),topology=require(a0_0x18f949(0x10c)),setup=require(a0_0x18f949(0x10e)),recorder=require(a0_0x18f949(0x17a)),pythonBridge=require(a0_0x18f949(0x19d)),aiAgent=require(a0_0x18f949(0x128)),deadMan=require(a0_0x18f949(0x1a2)),automation=require(a0_0x18f949(0x150)),GEMINI_MODEL=a0_0x18f949(0x162),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x1364(_0x25544c,_0x377dde){const _0x3acfac=a0_0x504e();return a0_0x1364=function(_0x308d5d,_0x127d80){_0x308d5d=_0x308d5d-0xf0;let _0x504ea5=_0x3acfac[_0x308d5d];return _0x504ea5;},a0_0x1364(_0x25544c,_0x377dde);}class CogniLiving extends utils[a0_0x18f949(0x12b)]{constructor(_0x2dbb14){const _0x2b9480=a0_0x18f949;super({..._0x2dbb14,'name':_0x2b9480(0x1c7)}),this[_0x2b9480(0x163)]=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x2b9480(0x17c)]=[],this[_0x2b9480(0x170)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x2b9480(0x16d)]=!![],this[_0x2b9480(0xf4)]=null,this[_0x2b9480(0x116)]=null,this[_0x2b9480(0x1f9)]=![],this[_0x2b9480(0x137)]=null,this['geminiModel']=null,this[_0x2b9480(0x1c2)]=setup[_0x2b9480(0x133)]['NORMAL'],this[_0x2b9480(0x1d0)]=![],this['lastAlertState']=![],this[_0x2b9480(0x1c3)]=null,this['ltmJob']=null,this[_0x2b9480(0x10d)]=null,this[_0x2b9480(0x178)]=null,this['briefingJob']=null,this['dependencyInstallInProgress']=![],this[_0x2b9480(0x14c)]=null,this['lastTrackerEventTime']=Date['now'](),this['on']('ready',this[_0x2b9480(0x110)][_0x2b9480(0x1f7)](this)),this['on'](_0x2b9480(0x16f),this[_0x2b9480(0x1e6)]['bind'](this)),this['on'](_0x2b9480(0x160),this[_0x2b9480(0x145)][_0x2b9480(0x1f7)](this)),this['on']('message',this[_0x2b9480(0x119)][_0x2b9480(0x1f7)](this));}async[a0_0x18f949(0x110)](){const _0x5695d3=a0_0x18f949;this[_0x5695d3(0x12a)][_0x5695d3(0x13f)](_0x5695d3(0x1a1)+this['version']+_0x5695d3(0x1ff));if(!installer[_0x5695d3(0x10a)](this,()=>this['startSystem']()))return;}async[a0_0x18f949(0x14e)](){const _0x5cb66b=a0_0x18f949;await setup[_0x5cb66b(0x179)](this);try{this['isProVersion']=await setup[_0x5cb66b(0x18c)](this[_0x5cb66b(0x139)]['licenseKey']);}catch(_0x13756d){}if(!this[_0x5cb66b(0x139)][_0x5cb66b(0x1cc)]||this[_0x5cb66b(0x139)][_0x5cb66b(0x1cc)]<0.1)this['config'][_0x5cb66b(0x1cc)]=0xc;await setup[_0x5cb66b(0x18f)](this),await setup[_0x5cb66b(0x201)](this);if(this[_0x5cb66b(0x139)][_0x5cb66b(0x17f)])try{this[_0x5cb66b(0x137)]=new GoogleGenerativeAI(this[_0x5cb66b(0x139)]['geminiApiKey']),this[_0x5cb66b(0x1a3)]=this['genAI'][_0x5cb66b(0x1e5)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5cb66b(0x1bc)}}),this[_0x5cb66b(0x12a)][_0x5cb66b(0x13f)](_0x5cb66b(0x198));}catch(_0x5252be){this[_0x5cb66b(0x12a)][_0x5cb66b(0x1f8)](_0x5cb66b(0x1d9)+_0x5252be[_0x5cb66b(0x1b4)]);}await setup[_0x5cb66b(0x152)](this),await this[_0x5cb66b(0x101)](),await this[_0x5cb66b(0x1d5)](_0x5cb66b(0x192),{'type':_0x5cb66b(0x13c),'common':{'name':'PINN\x20AI\x20Forecast','type':_0x5cb66b(0x114),'role':_0x5cb66b(0x17b),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x5cb66b(0x130),{'type':_0x5cb66b(0x13c),'common':{'name':'Active\x20Ventilation\x20Alerts','type':_0x5cb66b(0x114),'role':_0x5cb66b(0x17b),'read':!![],'write':![]},'native':{}}),await this[_0x5cb66b(0x1d5)](_0x5cb66b(0xf9),{'type':_0x5cb66b(0x13c),'common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':_0x5cb66b(0x114),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x5cb66b(0x1d5)](_0x5cb66b(0x188),{'type':_0x5cb66b(0x13c),'common':{'name':_0x5cb66b(0x1b6),'type':'string','role':_0x5cb66b(0x17b),'read':!![],'write':!![],'def':_0x5cb66b(0x107)},'native':{}});try{const _0x964686=await this['getStateAsync'](_0x5cb66b(0x202));if(_0x964686&&_0x964686[_0x5cb66b(0x118)])this[_0x5cb66b(0x14d)]=JSON[_0x5cb66b(0x143)](_0x964686[_0x5cb66b(0x118)]);}catch(_0x42d949){this[_0x5cb66b(0x14d)]=[];}try{const _0x3c6e69=await this[_0x5cb66b(0x11c)](_0x5cb66b(0x132));if(_0x3c6e69&&_0x3c6e69['val'])this['dailyDigests']=JSON[_0x5cb66b(0x143)](_0x3c6e69[_0x5cb66b(0x118)]);}catch(_0xe2cfc4){this[_0x5cb66b(0x17c)]=[];}const _0x4f8ca5=this[_0x5cb66b(0x17c)]['length']>=(this[_0x5cb66b(0x139)][_0x5cb66b(0x16a)]||0x7)?'Aktiv\x20('+this[_0x5cb66b(0x17c)][_0x5cb66b(0x109)]+_0x5cb66b(0x174):_0x5cb66b(0x1be)+this['dailyDigests'][_0x5cb66b(0x109)]+'/'+(this[_0x5cb66b(0x139)]['minDaysForBaseline']||0x7)+')';await this[_0x5cb66b(0x1b8)](_0x5cb66b(0x102),{'val':_0x4f8ca5,'ack':!![]}),this[_0x5cb66b(0xfa)](_0x5cb66b(0x1f1)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x1e3)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x1d4)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x1ee)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x1f4)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x18d)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x159)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x1b1)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x166)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x12f)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x124)),this[_0x5cb66b(0xfa)](_0x5cb66b(0x122));const _0x483e4d=this['config'][_0x5cb66b(0xf1)];if(_0x483e4d)for(const _0x4d7b16 of _0x483e4d){await this[_0x5cb66b(0x1c5)](_0x4d7b16['id']);}const _0x3b44fd=this[_0x5cb66b(0x139)]['presenceDevices'];if(_0x3b44fd)for(const _0x4bfad4 of _0x3b44fd){await this[_0x5cb66b(0x1c5)](_0x4bfad4);}if(this['config'][_0x5cb66b(0xff)]&&this['config'][_0x5cb66b(0x1f2)])await this[_0x5cb66b(0x1c5)](this[_0x5cb66b(0x139)][_0x5cb66b(0x1f2)]+_0x5cb66b(0x19e));setTimeout(()=>this[_0x5cb66b(0x1fc)](),0x1388);if(this[_0x5cb66b(0x1c3)])clearInterval(this['analysisTimer']);const _0x321179=this['config'][_0x5cb66b(0x1a0)]||0xf;_0x321179>0x0&&(this[_0x5cb66b(0x1c3)]=setInterval(()=>{const _0x23d97e=_0x5cb66b;this[_0x23d97e(0x103)](),automation[_0x23d97e(0x1d7)](this);},_0x321179*0x3c*0x3e8)),setTimeout(()=>automation[_0x5cb66b(0x1d7)](this),0x2710),this['config']['trackerEnabled']!==![]&&(this[_0x5cb66b(0x14c)]=setInterval(()=>{const _0x297038=_0x5cb66b;if(this[_0x297038(0x1d0)]){const _0x1369ff=Date[_0x297038(0x19c)](),_0x2f005e=this[_0x297038(0x11f)]||_0x1369ff,_0x2ceeb8=(_0x1369ff-_0x2f005e)/0x3e8;_0x2ceeb8>0x2&&(this[_0x297038(0x11f)]=_0x1369ff,pythonBridge[_0x297038(0x144)](this,_0x297038(0x1e8),{'room':null,'dt':_0x2ceeb8}));}},0xbb8)),schedulers[_0x5cb66b(0x197)](this,()=>aiAgent[_0x5cb66b(0x1c9)](this,pythonBridge)),schedulers[_0x5cb66b(0x1e9)](this),schedulers[_0x5cb66b(0x1f0)](this,()=>aiAgent[_0x5cb66b(0x1aa)](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent[_0x5cb66b(0x106)](this)),pythonBridge[_0x5cb66b(0x1ea)](this,installer[_0x5cb66b(0x18e)]),setTimeout(async()=>{const _0x193afa=_0x5cb66b;await topology[_0x193afa(0x15f)](this);try{const _0x1e2de9=await this[_0x193afa(0x11c)](_0x193afa(0x13a));if(_0x1e2de9&&_0x1e2de9[_0x193afa(0x118)])pythonBridge[_0x193afa(0x144)](this,_0x193afa(0x158),JSON[_0x193afa(0x143)](_0x1e2de9[_0x193afa(0x118)]));}catch(_0x128047){}this[_0x193afa(0x135)](),this[_0x193afa(0x14b)](),this['triggerEnergyPrediction'](),this[_0x193afa(0x200)]();},0x1388);}[a0_0x18f949(0x145)](_0xe93807){const _0x4fb2b0=a0_0x18f949;if(this[_0x4fb2b0(0x1c3)])clearInterval(this[_0x4fb2b0(0x1c3)]);if(this[_0x4fb2b0(0x178)])clearInterval(this[_0x4fb2b0(0x178)]);if(this[_0x4fb2b0(0x14c)])clearInterval(this['trackerHeartbeat']);if(this[_0x4fb2b0(0x1ae)])this[_0x4fb2b0(0x1ae)][_0x4fb2b0(0x177)]();if(this[_0x4fb2b0(0x10d)])this[_0x4fb2b0(0x10d)][_0x4fb2b0(0x177)]();if(this['briefingJob'])this[_0x4fb2b0(0x125)][_0x4fb2b0(0x177)]();recorder[_0x4fb2b0(0x151)](this),pythonBridge[_0x4fb2b0(0x1d1)](this),_0xe93807();}async[a0_0x18f949(0x1e6)](_0x2e5911,_0x590ae0){const _0x81bc2c=a0_0x18f949;if(!_0x590ae0||this['dependencyInstallInProgress'])return;if(_0x2e5911[_0x81bc2c(0x1f5)](_0x81bc2c(0x1c0))&&_0x2e5911[_0x81bc2c(0x161)](_0x81bc2c(0x1ec))&&_0x590ae0[_0x81bc2c(0x118)])return;if(_0x2e5911===this[_0x81bc2c(0x15d)]+'.system.mode'){if(_0x590ae0[_0x81bc2c(0x118)]&&Object[_0x81bc2c(0x1dc)](setup['SYSTEM_MODES'])[_0x81bc2c(0x1f5)](_0x590ae0[_0x81bc2c(0x118)])){this[_0x81bc2c(0x1c2)]=_0x590ae0[_0x81bc2c(0x118)];if(_0x590ae0['val']===setup[_0x81bc2c(0x133)][_0x81bc2c(0x1ba)])await recorder[_0x81bc2c(0x193)](this,![]);else await recorder[_0x81bc2c(0x193)](this,!![]);if(this[_0x81bc2c(0x1d0)]){let _0x1c0361=![],_0xf31bed=0x0,_0x50068c=_0x81bc2c(0xfd);if(this[_0x81bc2c(0x1c2)]==='party')_0x1c0361=!![],_0xf31bed=0x168,_0x50068c=_0x81bc2c(0xfb);else this[_0x81bc2c(0x1c2)]===_0x81bc2c(0x1b9)&&(_0x1c0361=!![],_0xf31bed=0x5a0,_0x50068c=_0x81bc2c(0x171));pythonBridge[_0x81bc2c(0x144)](this,_0x81bc2c(0x1bb),{'active':_0x1c0361,'duration':_0xf31bed,'label':_0x50068c}),await this[_0x81bc2c(0x1b8)](_0x81bc2c(0x148),{'val':JSON[_0x81bc2c(0x1de)]({'active':_0x1c0361,'label':_0x50068c,'timestamp':Date[_0x81bc2c(0x19c)]()}),'ack':!![]});}}if(!_0x590ae0[_0x81bc2c(0x105)])this[_0x81bc2c(0x1a9)](_0x2e5911,{'val':this[_0x81bc2c(0x1c2)],'ack':!![]});return;}if(!_0x590ae0['ack']){if(_0x2e5911['includes']('analysis.trigger')&&_0x590ae0[_0x81bc2c(0x118)]){this[_0x81bc2c(0x1a9)](_0x2e5911,{'val':![],'ack':!![]}),aiAgent[_0x81bc2c(0x1b5)](this);return;}if(_0x2e5911['includes'](_0x81bc2c(0x154))&&_0x590ae0[_0x81bc2c(0x118)]){this['setState'](_0x2e5911,{'val':![],'ack':!![]});if(this[_0x81bc2c(0x1d0)])aiAgent[_0x81bc2c(0x1c9)](this,pythonBridge);return;}if(_0x2e5911[_0x81bc2c(0x1f5)](_0x81bc2c(0x173))&&_0x590ae0[_0x81bc2c(0x118)]){this['setState'](_0x2e5911,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0x2e5911['includes'](_0x81bc2c(0x194))&&_0x590ae0[_0x81bc2c(0x118)]){this[_0x81bc2c(0x1a9)](_0x2e5911,{'val':![],'ack':!![]}),aiAgent[_0x81bc2c(0x172)](this);return;}if(_0x2e5911['includes'](_0x81bc2c(0x159))&&_0x590ae0[_0x81bc2c(0x118)]){this[_0x81bc2c(0x1a9)](_0x2e5911,{'val':![],'ack':!![]});if(this[_0x81bc2c(0x1d0)])try{const _0x580bab=await this[_0x81bc2c(0x11c)](_0x81bc2c(0x17d));if(_0x580bab&&_0x580bab[_0x81bc2c(0x118)]){const _0x199ede=JSON['parse'](_0x580bab['val']);this[_0x81bc2c(0x1b8)](_0x81bc2c(0x1d8),{'val':_0x81bc2c(0x13d),'ack':!![]}),pythonBridge[_0x81bc2c(0x144)](this,'TRAIN_SECURITY',{'sequences':_0x199ede});}}catch(_0x109224){}return;}if(_0x2e5911[_0x81bc2c(0x1f5)](_0x81bc2c(0x1b1))&&_0x590ae0[_0x81bc2c(0x118)]){this['setState'](_0x2e5911,{'val':![],'ack':!![]});if(this[_0x81bc2c(0x1d0)])try{const _0x4fa37e=await this[_0x81bc2c(0x11c)]('LTM.dailyDigests');if(_0x4fa37e&&_0x4fa37e['val'])pythonBridge[_0x81bc2c(0x144)](this,_0x81bc2c(0x19a),{'digests':JSON['parse'](_0x4fa37e['val'])});}catch(_0x311d60){}return;}if(_0x2e5911[_0x81bc2c(0x1f5)](_0x81bc2c(0x166))&&_0x590ae0[_0x81bc2c(0x118)]){this['setState'](_0x2e5911,{'val':![],'ack':!![]});if(this[_0x81bc2c(0x1d0)])try{const _0x540a96=await this['getStateAsync'](_0x81bc2c(0x182));if(_0x540a96&&_0x540a96[_0x81bc2c(0x118)])pythonBridge[_0x81bc2c(0x144)](this,_0x81bc2c(0xfe),{'points':JSON[_0x81bc2c(0x143)](_0x540a96['val'])});}catch(_0x3325a9){}return;}if(_0x2e5911[_0x81bc2c(0x1f5)](_0x81bc2c(0x12f))&&_0x590ae0['val']){this[_0x81bc2c(0x1a9)](_0x2e5911,{'val':![],'ack':!![]});if(this[_0x81bc2c(0x1d0)])try{const _0x8e37b=await this[_0x81bc2c(0x11c)](_0x81bc2c(0x202));if(_0x8e37b&&_0x8e37b[_0x81bc2c(0x118)])pythonBridge[_0x81bc2c(0x144)](this,'TRAIN_COMFORT',{'events':JSON['parse'](_0x8e37b['val'])});}catch(_0x5a7295){}return;}if(_0x2e5911['includes'](_0x81bc2c(0x124))&&_0x590ae0[_0x81bc2c(0x118)]){this['setState'](_0x2e5911,{'val':![],'ack':!![]}),topology[_0x81bc2c(0x15f)](this);return;}}if(this[_0x81bc2c(0x139)][_0x81bc2c(0x196)]&&this['config'][_0x81bc2c(0x196)][_0x81bc2c(0x1f5)](_0x2e5911)){await this[_0x81bc2c(0x1fc)]();return;}const _0x12a55a=(this[_0x81bc2c(0x139)][_0x81bc2c(0xf1)]||[])[_0x81bc2c(0x164)](_0x5d37be=>_0x5d37be['id']===_0x2e5911);if(_0x12a55a){const _0x450845=await recorder[_0x81bc2c(0x153)](this,_0x2e5911,_0x590ae0,_0x12a55a);_0x450845&&_0x450845['type']===_0x81bc2c(0x1bd)&&_0x450845[_0x81bc2c(0x1cd)]&&this[_0x81bc2c(0x1d0)]&&deadMan[_0x81bc2c(0x111)](this,_0x450845[_0x81bc2c(0x1cd)]);}}async['onMessage'](_0x2ef12d){const _0x2a1e79=a0_0x18f949;if(typeof _0x2ef12d===_0x2a1e79(0x185)&&_0x2ef12d[_0x2a1e79(0x1b4)]){if(_0x2ef12d[_0x2a1e79(0x1d3)]===_0x2a1e79(0x1e0))try{const _0x401b25=await automation['scanThermostats'](this);this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':!![],'results':_0x401b25},_0x2ef12d['callback']);}catch(_0x1350fe){this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d['command'],{'success':![],'error':_0x1350fe['message']},_0x2ef12d[_0x2a1e79(0x1fd)]);}else{if(_0x2ef12d[_0x2a1e79(0x1d3)]==='simulateEnergyMPC')try{const {current_temps:_0xb2f6b2,t_out:_0x5757fc,targets:_0x8d0a20,t_forecast:_0x526d79}=_0x2ef12d[_0x2a1e79(0x1b4)],_0x188e3d=[];let _0x4bf6d6={};try{const _0x36ddb1=await this[_0x2a1e79(0x11c)](_0x2a1e79(0x1eb));if(_0x36ddb1&&_0x36ddb1[_0x2a1e79(0x118)]){const _0x93080a=JSON[_0x2a1e79(0x143)](_0x36ddb1[_0x2a1e79(0x118)]);_0x4bf6d6=_0x93080a[_0x2a1e79(0x123)]||_0x93080a;}}catch(_0x292487){}const _0x1161c2=_0x526d79!==undefined&&_0x526d79!==null?(_0x5757fc+_0x526d79)/0x2:_0x5757fc;for(const [_0x218450,_0x5cd1bf]of Object[_0x2a1e79(0x149)](_0xb2f6b2)){const _0x41a06b=_0x8d0a20[_0x218450]||0x15;if(_0x5cd1bf<=_0x41a06b)continue;let _0x52d2d5=_0x4bf6d6[_0x218450]||-0.5;if(_0x52d2d5>=0x0)_0x52d2d5=-0.5;const _0x3fd26f=Math[_0x2a1e79(0x11e)](_0x52d2d5),_0x25b5a5=_0x5cd1bf-_0x41a06b;let _0x262fd1=Math[_0x2a1e79(0x190)](_0x25b5a5/_0x3fd26f*0x3c);const _0x8b9e17=_0x5cd1bf-_0x5757fc,_0x582e6b=_0x5cd1bf-_0x1161c2;if(_0x582e6b!==0x0&&_0x8b9e17!==0x0){const _0x447b1f=_0x8b9e17/_0x582e6b;_0x262fd1=Math[_0x2a1e79(0x190)](_0x262fd1*_0x447b1f);}if(_0x262fd1>0xf){if(_0x262fd1>0xf0)_0x262fd1=0xf0;_0x188e3d[_0x2a1e79(0x134)]({'room':_0x218450,'minutes_safe':_0x262fd1,'target':_0x41a06b,'current':_0x5cd1bf,'savings_msg':'Heizung\x20kann\x20'+_0x262fd1+_0x2a1e79(0x155)});}}_0x188e3d['sort']((_0x2cd2b9,_0x58b3a7)=>_0x58b3a7['minutes_safe']-_0x2cd2b9['minutes_safe']),this['sendTo'](_0x2ef12d['from'],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':!![],'proposals':_0x188e3d},_0x2ef12d[_0x2a1e79(0x1fd)]);}catch(_0x1b3e0b){this['sendTo'](_0x2ef12d['from'],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':![],'error':_0x1b3e0b[_0x2a1e79(0x1b4)]},_0x2ef12d[_0x2a1e79(0x1fd)]);}else{if(_0x2ef12d['command']===_0x2a1e79(0x18b))await this['setStateAsync'](_0x2a1e79(0x199),{'val':![],'ack':!![]}),await this[_0x2a1e79(0x1b8)](_0x2a1e79(0x15c),{'val':'','ack':!![]}),await this[_0x2a1e79(0x1b8)](_0x2a1e79(0x1f3),{'val':'','ack':!![]}),this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d['command'],{'success':!![]},_0x2ef12d['callback']);else{if(_0x2ef12d['command']===_0x2a1e79(0x127)){const {targetId:_0x510742,targetValue:_0x5e0b27}=_0x2ef12d[_0x2a1e79(0x1b4)];await this[_0x2a1e79(0x1b8)](_0x2a1e79(0x199),{'val':!![],'ack':!![]}),await this[_0x2a1e79(0x1b8)](_0x2a1e79(0x15c),{'val':_0x2a1e79(0x138),'ack':!![]}),await this[_0x2a1e79(0x1b8)](_0x2a1e79(0x1f3),{'val':_0x510742,'ack':!![]}),await this['setStateAsync'](_0x2a1e79(0x1a6),{'val':String(_0x5e0b27),'ack':!![]}),this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':!![]},_0x2ef12d[_0x2a1e79(0x1fd)]);}else{if(_0x2ef12d[_0x2a1e79(0x1d3)]===_0x2a1e79(0x191))try{const _0x417558=_0x2ef12d[_0x2a1e79(0x1b4)]['apiKey'];if(!_0x417558)throw new Error(_0x2a1e79(0x1a4));const _0x6529e7=new GoogleGenerativeAI(_0x417558),_0x17bfff=_0x6529e7[_0x2a1e79(0x1e5)]({'model':GEMINI_MODEL}),_0x470f97=await _0x17bfff['generateContent'](_0x2a1e79(0x140)),_0x5c7bcf=await _0x470f97[_0x2a1e79(0x1e1)];if(_0x5c7bcf[_0x2a1e79(0x195)]())this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':!![],'message':_0x2a1e79(0x165)},_0x2ef12d[_0x2a1e79(0x1fd)]);else throw new Error(_0x2a1e79(0x1bf));}catch(_0x52b61e){this[_0x2a1e79(0x11a)](_0x2ef12d['from'],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':![],'message':_0x52b61e['message']},_0x2ef12d[_0x2a1e79(0x1fd)]);}else{if(_0x2ef12d[_0x2a1e79(0x1d3)]===_0x2a1e79(0xf6))try{const _0x4a8467=await scanner['scanForDevices'](this,_0x2ef12d[_0x2a1e79(0x1b4)]||{});this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':!![],'devices':_0x4a8467},_0x2ef12d['callback']);}catch(_0x4667aa){this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':![],'error':_0x4667aa[_0x2a1e79(0x1b4)]},_0x2ef12d[_0x2a1e79(0x1fd)]);}else{if(_0x2ef12d[_0x2a1e79(0x1d3)]===_0x2a1e79(0x13e))try{const {matrix:_0x34a474}=_0x2ef12d[_0x2a1e79(0x1b4)],_0x376cb8=await this[_0x2a1e79(0x11c)](_0x2a1e79(0x13a));if(_0x376cb8&&_0x376cb8[_0x2a1e79(0x118)]){const _0x59a1cd=JSON['parse'](_0x376cb8[_0x2a1e79(0x118)]);_0x59a1cd[_0x2a1e79(0x112)]=_0x34a474,_0x59a1cd[_0x2a1e79(0x1cb)]=Date['now'](),await this[_0x2a1e79(0x1b8)](_0x2a1e79(0x13a),{'val':JSON[_0x2a1e79(0x1de)](_0x59a1cd),'ack':!![]}),pythonBridge[_0x2a1e79(0x144)](this,_0x2a1e79(0x158),_0x59a1cd);}this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d['command'],{'success':!![]},_0x2ef12d[_0x2a1e79(0x1fd)]);}catch(_0x5ca420){this[_0x2a1e79(0x12a)][_0x2a1e79(0x1f8)](_0x5ca420);}else{if(_0x2ef12d[_0x2a1e79(0x1d3)]===_0x2a1e79(0x175))this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':!![],'dailyDigests':this['dailyDigests']||[],'analysisHistory':this[_0x2a1e79(0x115)]||[]},_0x2ef12d['callback']);else{if(_0x2ef12d[_0x2a1e79(0x1d3)]==='getOverviewData'){const _0x40b66d=this[_0x2a1e79(0x17c)][_0x2a1e79(0x109)],_0x3605c2=new Array(0x18)[_0x2a1e79(0x181)](0x0),_0x56b8db=new Date()[_0x2a1e79(0x1ef)](0x0,0x0,0x0,0x0);this[_0x2a1e79(0x163)]&&this[_0x2a1e79(0x163)]['forEach'](_0x5e36f5=>{const _0x183c8e=_0x2a1e79;if(_0x5e36f5[_0x183c8e(0x187)]>=_0x56b8db){const _0xf01b16=new Date(_0x5e36f5[_0x183c8e(0x187)])[_0x183c8e(0x1d2)]();if(_0xf01b16>=0x0&&_0xf01b16<0x18)_0x3605c2[_0xf01b16]++;}});let _0xe29fb7=![],_0x365ffe='',_0x38a128='',_0x60857d='';try{const _0x3b9199=await this[_0x2a1e79(0x11c)](_0x2a1e79(0x199));if(_0x3b9199&&_0x3b9199[_0x2a1e79(0x118)]){_0xe29fb7=!![];const _0x5aac45=await this[_0x2a1e79(0x11c)](_0x2a1e79(0x15c));_0x365ffe=_0x5aac45?_0x5aac45[_0x2a1e79(0x118)]:'';const _0x4e1b14=await this['getStateAsync'](_0x2a1e79(0x1f3));_0x38a128=_0x4e1b14?_0x4e1b14[_0x2a1e79(0x118)]:'';const _0x511410=await this[_0x2a1e79(0x11c)](_0x2a1e79(0x1a6));_0x60857d=_0x511410?_0x511410[_0x2a1e79(0x118)]:'';}}catch(_0x481c42){}const _0x2ea449=await this[_0x2a1e79(0x1ac)](),_0x46ae00=(this['config'][_0x2a1e79(0xf1)]||[])[_0x2a1e79(0x136)](_0x1d864f=>_0x1d864f[_0x2a1e79(0x14a)]),_0x2edc8b=_0x2ea449&&_0x46ae00;this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d['command'],{'success':!![],'eventHistory':this[_0x2a1e79(0x163)][_0x2a1e79(0x100)](0x0,0xf),'stats':{'digestCount':_0x40b66d,'isPresent':this['isPresent'],'hourlyActivity':_0x3605c2,'solarActive':_0x2edc8b},'automation':{'detected':_0xe29fb7,'description':_0x365ffe,'targetId':_0x38a128,'targetValue':_0x60857d}},_0x2ef12d[_0x2a1e79(0x1fd)]);}else{if(_0x2ef12d['command']===_0x2a1e79(0x15e)){const _0x2015de=await this[_0x2a1e79(0x1c6)](_0x2a1e79(0x113),_0x2a1e79(0x12e)),_0x3d562e=[];if(_0x2015de)for(const _0x5657b8 in _0x2015de){const _0x5e588a=_0x2015de[_0x5657b8],_0x5accbc=(_0x5e588a[_0x2a1e79(0x1d6)]&&typeof _0x5e588a['common'][_0x2a1e79(0x104)]===_0x2a1e79(0x185)?_0x5e588a[_0x2a1e79(0x1d6)][_0x2a1e79(0x104)]['de']:_0x5e588a[_0x2a1e79(0x1d6)][_0x2a1e79(0x104)])||_0x5e588a[_0x2a1e79(0x1d6)][_0x2a1e79(0x104)];_0x3d562e[_0x2a1e79(0x134)]({'id':_0x5657b8,'name':_0x5accbc});}const _0x5e8fe8=await this['getForeignObjectsAsync'](_0x2a1e79(0x10f),_0x2a1e79(0x12e)),_0x506f8b=[];if(_0x5e8fe8)for(const _0x4b962a in _0x5e8fe8){const _0x32f108=_0x5e8fe8[_0x4b962a],_0x19719f=(_0x32f108[_0x2a1e79(0x1d6)]&&typeof _0x32f108[_0x2a1e79(0x1d6)]['name']==='object'?_0x32f108[_0x2a1e79(0x1d6)][_0x2a1e79(0x104)]['de']:_0x32f108['common']['name'])||_0x4b962a[_0x2a1e79(0x121)]('.')[_0x2a1e79(0x1a8)]();_0x506f8b[_0x2a1e79(0x134)](_0x19719f);}this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d['command'],{'success':!![],'enums':_0x3d562e,'rooms':_0x506f8b},_0x2ef12d['callback']);}else{if(_0x2ef12d['command']===_0x2a1e79(0x1e2))try{let _0x32dbae=_0x2a1e79(0x18a),_0x119bee='Kein\x20Kalender-Adapter';if(this[_0x2a1e79(0x139)][_0x2a1e79(0x142)]){const _0x147525=await recorder[_0x2a1e79(0x108)](this);_0x32dbae=_0x147525!==null?_0x147525+'Â°C':_0x2a1e79(0x10b);}if(this[_0x2a1e79(0x139)]['calendarInstance']){const _0xd037e6=await this[_0x2a1e79(0x1fb)](_0x2a1e79(0x1e7)+this[_0x2a1e79(0x139)][_0x2a1e79(0x167)]);_0x119bee=_0xd037e6?_0x2a1e79(0xf8):_0x2a1e79(0xf5);}this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':!![],'weather':_0x32dbae,'calendar':_0x119bee},_0x2ef12d[_0x2a1e79(0x1fd)]);}catch(_0xc0f294){this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':![],'error':_0xc0f294[_0x2a1e79(0x1b4)]},_0x2ef12d[_0x2a1e79(0x1fd)]);}else{if(_0x2ef12d[_0x2a1e79(0x1d3)]==='getCalendarNames')try{const _0x56036c=_0x2ef12d['message'][_0x2a1e79(0x176)],_0x583870=await this['getForeignStateAsync'](_0x56036c+_0x2a1e79(0x1c4));let _0x4a91e9=[];if(_0x583870&&_0x583870[_0x2a1e79(0x118)]){const _0x58a199=JSON['parse'](_0x583870[_0x2a1e79(0x118)]),_0x5ef655=new Set();Array[_0x2a1e79(0x1b0)](_0x58a199)&&_0x58a199[_0x2a1e79(0x13b)](_0x1abf0c=>{const _0x21c9f0=_0x2a1e79;if(_0x1abf0c[_0x21c9f0(0xfc)])_0x5ef655[_0x21c9f0(0x16b)](_0x1abf0c[_0x21c9f0(0xfc)]);else{if(_0x1abf0c[_0x21c9f0(0x1c8)])_0x5ef655['add'](_0x1abf0c[_0x21c9f0(0x1c8)]);}}),_0x4a91e9=Array[_0x2a1e79(0x126)](_0x5ef655)[_0x2a1e79(0x12c)]();}if(_0x4a91e9['length']===0x0)_0x4a91e9=[_0x2a1e79(0x1a5)];this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':!![],'names':_0x4a91e9},_0x2ef12d[_0x2a1e79(0x1fd)]);}catch(_0x5a1c9e){this['sendTo'](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d['command'],{'success':![],'error':_0x5a1c9e[_0x2a1e79(0x1b4)]},_0x2ef12d['callback']);}else{if(_0x2ef12d[_0x2a1e79(0x1d3)]===_0x2a1e79(0x186))try{await setup[_0x2a1e79(0x19b)](this,_0x2a1e79(0x17e),![],![]),this['sendTo'](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d[_0x2a1e79(0x1d3)],{'success':!![],'message':_0x2a1e79(0x1fa)},_0x2ef12d[_0x2a1e79(0x1fd)]);}catch(_0x115a5d){this[_0x2a1e79(0x12a)]['error'](_0x2a1e79(0x12d)+_0x115a5d['message']),this[_0x2a1e79(0x11a)](_0x2ef12d[_0x2a1e79(0x126)],_0x2ef12d['command'],{'success':![],'message':_0x2a1e79(0x117)+_0x115a5d[_0x2a1e79(0x1b4)]},_0x2ef12d[_0x2a1e79(0x1fd)]);}}}}}}}}}}}}}}}async[a0_0x18f949(0x101)](){const _0x27a51c=a0_0x18f949;try{const _0x43a09f=await this[_0x27a51c(0x11c)](setup[_0x27a51c(0x1df)]);_0x43a09f&&_0x43a09f[_0x27a51c(0x118)]&&Object[_0x27a51c(0x1dc)](setup[_0x27a51c(0x133)])['includes'](_0x43a09f['val'])?this[_0x27a51c(0x1c2)]=_0x43a09f['val']:(this['currentSystemMode']=setup[_0x27a51c(0x133)][_0x27a51c(0x1db)],await this['setStateAsync'](setup[_0x27a51c(0x1df)],{'val':setup[_0x27a51c(0x133)][_0x27a51c(0x1db)],'ack':!![]}));}catch(_0x5ca099){this['currentSystemMode']=setup[_0x27a51c(0x133)]['NORMAL'];}}async[a0_0x18f949(0x1fc)](){const _0x5e34cd=a0_0x18f949;try{const _0x53a226=this[_0x5e34cd(0x139)]['presenceDevices']||[];let _0x5b36ee=![];const _0x387e2f=[];for(const _0x56aac7 of _0x53a226){try{const _0x1a2106=await this[_0x5e34cd(0x1b3)](_0x56aac7);_0x1a2106&&(_0x1a2106[_0x5e34cd(0x118)]===!![]||_0x1a2106[_0x5e34cd(0x118)]==='online'||_0x1a2106[_0x5e34cd(0x118)]===0x1)&&(_0x5b36ee=!![],_0x387e2f[_0x5e34cd(0x134)](_0x56aac7));}catch(_0xe1f24e){}}return await this[_0x5e34cd(0x1b8)](_0x5e34cd(0x1ad),{'val':_0x387e2f[_0x5e34cd(0x184)](',\x20'),'ack':!![]}),_0x5b36ee&&(this[_0x5e34cd(0xf4)]&&(this[_0x5e34cd(0x12a)]['info']('WiFi\x20Presence\x20detected.'),recorder[_0x5e34cd(0x151)](this)),!this[_0x5e34cd(0x16d)]&&this[_0x5e34cd(0x1c2)]===setup['SYSTEM_MODES'][_0x5e34cd(0x1db)]&&await recorder[_0x5e34cd(0x193)](this,!![])),_0x5b36ee;}catch(_0x3b6047){return![];}}async['runAutopilot'](){const _0x1a4375=a0_0x18f949;this[_0x1a4375(0x12a)][_0x1a4375(0x183)](_0x1a4375(0x180)),await aiAgent[_0x1a4375(0x1b5)](this),this[_0x1a4375(0x200)](),this[_0x1a4375(0x14b)](),this[_0x1a4375(0x131)]();}async['checkSolarCondition'](){const _0x36db0d=a0_0x18f949,_0x4f3f46=[_0x36db0d(0x1ca),_0x36db0d(0x1e4),_0x36db0d(0xf3)],_0x1445d1=['forecast.current.weather',_0x36db0d(0x1ed),_0x36db0d(0x147)];for(const _0x54ed5d of _0x4f3f46){for(const _0x3d3c20 of _0x1445d1){try{const _0x131adb=_0x54ed5d+'.'+_0x3d3c20,_0x337549=await this[_0x36db0d(0x1b3)](_0x131adb);if(_0x337549&&_0x337549[_0x36db0d(0x118)]){const _0x205b9a=String(_0x337549[_0x36db0d(0x118)])[_0x36db0d(0x168)]();if(_0x205b9a[_0x36db0d(0x1f5)](_0x36db0d(0xf0))||_0x205b9a[_0x36db0d(0x1f5)](_0x36db0d(0xf7))||_0x205b9a[_0x36db0d(0x1f5)](_0x36db0d(0x146))||_0x205b9a[_0x36db0d(0x1f5)](_0x36db0d(0x15a))||_0x205b9a['includes']('heiter'))return!![];}}catch(_0x631f4f){}}}return![];}['triggerGaitAnalysis'](){const _0x5cc21d=a0_0x18f949;if(!this[_0x5cc21d(0x1d0)])return;try{this['getState'](_0x5cc21d(0x17d),(_0x134432,_0x10fa74)=>{const _0x541c58=_0x5cc21d;_0x10fa74&&_0x10fa74[_0x541c58(0x118)]&&pythonBridge[_0x541c58(0x144)](this,_0x541c58(0x11b),{'sequences':JSON[_0x541c58(0x143)](_0x10fa74[_0x541c58(0x118)])});});}catch(_0x391839){}}async[a0_0x18f949(0x131)](){const _0x555459=a0_0x18f949;if(!this['isProVersion'])return;try{const _0x33e86e=await recorder[_0x555459(0x108)](this);if(_0x33e86e===null)return;const _0x137abf={},_0x2b894b={},_0x3117ea=this['config'][_0x555459(0xf1)]||[];for(const _0x23e94 of _0x3117ea){if(_0x23e94['type']===_0x555459(0x16e)&&_0x23e94[_0x555459(0x1cd)]){const _0x43c02d=this[_0x555459(0x170)][_0x23e94['id']];if(_0x43c02d!==undefined)_0x137abf[_0x23e94[_0x555459(0x1cd)]]=_0x43c02d;if(_0x23e94[_0x555459(0x14a)])_0x2b894b[_0x23e94[_0x555459(0x1cd)]]=!![];}}const _0x12c3a6=await this[_0x555459(0x1ac)]();let _0x5abf00={};try{const _0x16ee9e=await this[_0x555459(0x11c)](_0x555459(0x188));if(_0x16ee9e&&_0x16ee9e['val'])_0x5abf00=JSON[_0x555459(0x143)](_0x16ee9e['val']);}catch(_0x28a197){}Object[_0x555459(0x1af)](_0x137abf)[_0x555459(0x109)]>0x0&&(pythonBridge[_0x555459(0x144)](this,_0x555459(0x1b7),{'current_temps':_0x137abf,'t_out':_0x33e86e,'is_sunny':_0x12c3a6,'solar_flags':_0x2b894b,'warmup_targets':_0x5abf00}),pythonBridge[_0x555459(0x144)](this,_0x555459(0x1f6),{'current_temps':_0x137abf,'t_out':_0x33e86e,'targets':{}}));}catch(_0x3c1eb2){}}[a0_0x18f949(0x200)](){const _0x38bc56=a0_0x18f949;if(!this[_0x38bc56(0x14d)]||this['rawEventLog'][_0x38bc56(0x109)]===0x0)return;const _0x3c466c=new Array(0x60)['fill'](0x0),_0x184d62=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x38bc56(0x14d)][_0x38bc56(0x13b)](_0x31700e=>{const _0x624254=_0x38bc56,_0x432884=new Date(_0x31700e[_0x624254(0x187)]);if(_0x432884['getTime']()>=_0x184d62){const _0xd4f09b=_0x432884['getHours'](),_0x5e9fc1=_0x432884['getMinutes'](),_0x5e8f49=_0xd4f09b*0x4+Math[_0x624254(0x190)](_0x5e9fc1/0xf);if(_0x5e8f49>=0x0&&_0x5e8f49<0x60)_0x3c466c[_0x5e8f49]++;}}),this[_0x38bc56(0x1b8)](_0x38bc56(0x1c1),{'val':JSON[_0x38bc56(0x1de)](_0x3c466c),'ack':!![]});}['runPythonHealthCheck'](){const _0x4435f9=a0_0x18f949;if(!this['dailyDigests']||this[_0x4435f9(0x17c)][_0x4435f9(0x109)]<0x2)return;const _0x3c8cdd=this[_0x4435f9(0x17c)][_0x4435f9(0x120)](_0x1185d6=>{const _0x303f78=_0x4435f9,_0x225cea=(_0x1185d6[_0x303f78(0x156)]||'')[_0x303f78(0x168)]();return ACTIVITY_LEVEL_MAP[_0x225cea]||0x32;});pythonBridge['send'](this,_0x4435f9(0x129),{'values':_0x3c8cdd,'tag':'Activity-Level'});}}if(require[a0_0x18f949(0x1b2)]!==module)module['exports']=_0x559463=>new CogniLiving(_0x559463);else new CogniLiving();