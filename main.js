const a0_0x485211=a0_0x4e86;function a0_0x4e86(_0x2e796a,_0x2f3355){const _0x408eec=a0_0x3826();return a0_0x4e86=function(_0x122be3,_0x3b4acb){_0x122be3=_0x122be3-0x157;let _0x382627=_0x408eec[_0x122be3];return _0x382627;},a0_0x4e86(_0x2e796a,_0x2f3355);}(function(_0x48dced,_0x2d7bc1){const _0x1c7663=a0_0x4e86,_0x427a80=_0x48dced();while(!![]){try{const _0x176861=parseInt(_0x1c7663(0x31e))/0x1+parseInt(_0x1c7663(0x31d))/0x2*(-parseInt(_0x1c7663(0x2b8))/0x3)+parseInt(_0x1c7663(0x1e5))/0x4*(parseInt(_0x1c7663(0x170))/0x5)+-parseInt(_0x1c7663(0x2fb))/0x6+parseInt(_0x1c7663(0x227))/0x7*(parseInt(_0x1c7663(0x284))/0x8)+-parseInt(_0x1c7663(0x1ff))/0x9+parseInt(_0x1c7663(0x251))/0xa*(parseInt(_0x1c7663(0x2c2))/0xb);if(_0x176861===_0x2d7bc1)break;else _0x427a80['push'](_0x427a80['shift']());}catch(_0x8fab37){_0x427a80['push'](_0x427a80['shift']());}}}(a0_0x3826,0x78fbf));const a0_0x3b4acb=(function(){let _0x2914a9=!![];return function(_0x1506c8,_0xaf8ac6){const _0x4f07bc=_0x2914a9?function(){const _0x4eac6e=a0_0x4e86;if(_0xaf8ac6){const _0x20e502=_0xaf8ac6[_0x4eac6e(0x2f0)](_0x1506c8,arguments);return _0xaf8ac6=null,_0x20e502;}}:function(){};return _0x2914a9=![],_0x4f07bc;};}()),a0_0x122be3=a0_0x3b4acb(this,function(){const _0x37befb=a0_0x4e86;return a0_0x122be3[_0x37befb(0x1a2)]()['search']('(((.+)+)+)+$')[_0x37befb(0x1a2)]()[_0x37befb(0x305)](a0_0x122be3)[_0x37befb(0x2c5)]('(((.+)+)+)+$');});a0_0x122be3();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x485211(0x26d)),schedule=require('node-schedule'),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x485211(0x19f),LTM_SCHEDULE='0\x203\x20*\x20*\x20*',MODE_RESET_SCHEDULE=a0_0x485211(0x1f6),ANALYSIS_HISTORY_MAX_SIZE=0x64,LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_DP_DAILY_DIGESTS=a0_0x485211(0x1e0),LTM_DP_STATUS=a0_0x485211(0x2a1),LTM_DP_TRIGGER_DIGEST='LTM.triggerDailyDigest',LTM_DP_BASELINE_STATUS='LTM.baselineStatus',LTM_DP_DRIFT_CHANNEL=a0_0x485211(0x207),LTM_DP_DRIFT_STATUS='LTM.driftAnalysis.baselineDrift',LTM_DP_DRIFT_DETAILS=a0_0x485211(0x1ec),LTM_DP_DRIFT_LAST_CHECK=a0_0x485211(0x1d8),SYSTEM_DP_MODE='system.mode',IGNORE_TERMS=['UNREACH',a0_0x485211(0x2a5),'RSSI',a0_0x485211(0x272),a0_0x485211(0x234),a0_0x485211(0x2f5),'ALARM',a0_0x485211(0x1d2),a0_0x485211(0x24f),a0_0x485211(0x275),a0_0x485211(0x15d),a0_0x485211(0x289),a0_0x485211(0x185),a0_0x485211(0x2bb),'version','connection',a0_0x485211(0x1ea),'signal',a0_0x485211(0x20c),'scene',a0_0x485211(0x28c),a0_0x485211(0x288),a0_0x485211(0x18d),a0_0x485211(0x307),a0_0x485211(0x19a),a0_0x485211(0x264),a0_0x485211(0x2b3),'forecast',a0_0x485211(0x25f),a0_0x485211(0x1ce),'wind','pressure','uv',a0_0x485211(0x26c)],ADAPTER_BLACKLIST=['system.',a0_0x485211(0x276),'info.',a0_0x485211(0x1ca),'history.',a0_0x485211(0x1b8),'icons-mfd.','flot.','echarts.'],SYSTEM_MODES={'NORMAL':a0_0x485211(0x183),'VACATION':'vacation','PARTY':a0_0x485211(0x2e1),'GUEST':a0_0x485211(0x1fe)},AUTO_RESET_MODES=[SYSTEM_MODES['PARTY'],SYSTEM_MODES[a0_0x485211(0x2c4)]],EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,PERSONA_MAPPING={'generic':'Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','senior_aal':a0_0x485211(0x326),'family':a0_0x485211(0x1dd),'single_comfort':a0_0x485211(0x15b),'security':a0_0x485211(0x2d9)};class CogniLiving extends utils[a0_0x485211(0x2fd)]{constructor(_0x167348){const _0x4f6f91=a0_0x485211;super({..._0x167348,'name':_0x4f6f91(0x2f3)}),this[_0x4f6f91(0x2da)]=[],this[_0x4f6f91(0x15e)]=[],this[_0x4f6f91(0x17c)]=[],this[_0x4f6f91(0x18e)]=[],this[_0x4f6f91(0x1eb)]=[],this[_0x4f6f91(0x1f3)]={},this[_0x4f6f91(0x157)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x4f6f91(0x1f9)]=!![],this['exitTimer']=null,this[_0x4f6f91(0x2e0)]=null,this[_0x4f6f91(0x1df)]=![],this[_0x4f6f91(0x2a3)]=null,this[_0x4f6f91(0x27d)]=null,this[_0x4f6f91(0x301)]=SYSTEM_MODES[_0x4f6f91(0x223)],this[_0x4f6f91(0x30b)]=![],this[_0x4f6f91(0x2f2)]=![],this[_0x4f6f91(0x317)]='unknown',this[_0x4f6f91(0x1e4)]=null,this[_0x4f6f91(0x2d5)]=null,this[_0x4f6f91(0x2af)]=null,this[_0x4f6f91(0x171)]=null,this[_0x4f6f91(0x2b6)]=null,this['on']('ready',this[_0x4f6f91(0x2c3)][_0x4f6f91(0x2b7)](this)),this['on']('stateChange',this['onStateChange'][_0x4f6f91(0x2b7)](this)),this['on'](_0x4f6f91(0x31b),this['onUnload'][_0x4f6f91(0x2b7)](this)),this['on'](_0x4f6f91(0x327),this[_0x4f6f91(0x281)][_0x4f6f91(0x2b7)](this));}async[a0_0x485211(0x2c3)](){const _0xbd259b=a0_0x485211;this[_0xbd259b(0x269)]['info'](_0xbd259b(0x177)+this[_0xbd259b(0x2bc)]+_0xbd259b(0x184)),await this[_0xbd259b(0x1e6)](),this[_0xbd259b(0x17b)][_0xbd259b(0x30c)]=this[_0xbd259b(0x17b)]['licenseKey']||'';try{this[_0xbd259b(0x30b)]=await this[_0xbd259b(0x1c1)](this['config']['licenseKey']);}catch(_0x47d279){this[_0xbd259b(0x269)]['error'](_0xbd259b(0x1e1)+_0x47d279[_0xbd259b(0x327)]);}if(!this[_0xbd259b(0x17b)]['inactivityThresholdHours']||this[_0xbd259b(0x17b)][_0xbd259b(0x22a)]<0.1)this['config'][_0xbd259b(0x22a)]=0xc;await this['initHistory'](),await this['initSystemConfig']();if(this[_0xbd259b(0x17b)][_0xbd259b(0x249)])try{this['genAI']=new GoogleGenerativeAI(this['config']['geminiApiKey']),this['geminiModel']=this['genAI'][_0xbd259b(0x1a1)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0xbd259b(0x316)}}),this[_0xbd259b(0x269)][_0xbd259b(0x1ea)](_0xbd259b(0x168));}catch(_0x514c04){this[_0xbd259b(0x269)][_0xbd259b(0x2cf)](_0xbd259b(0x290)+_0x514c04[_0xbd259b(0x327)]);}await this[_0xbd259b(0x1d1)](),await this[_0xbd259b(0x295)](),await this[_0xbd259b(0x1d9)](),await this[_0xbd259b(0x29b)](),this[_0xbd259b(0x2ca)](_0xbd259b(0x2ed)),this['subscribeStates'](LTM_DP_TRIGGER_DIGEST),this[_0xbd259b(0x2ca)](_0xbd259b(0x1d7)),this[_0xbd259b(0x2ca)]('analysis.triggerBriefing'),await this['initSensorSubscriptions'](),await this[_0xbd259b(0x268)]();if(this['analysisTimer'])clearInterval(this[_0xbd259b(0x1e4)]);const _0xea60ee=this['config']['analysisInterval']||0xf;_0xea60ee>0x0&&(this[_0xbd259b(0x269)]['info'](_0xbd259b(0x2eb)+_0xea60ee+_0xbd259b(0x18f)+this[_0xbd259b(0x17b)][_0xbd259b(0x22a)]+'h.'),this[_0xbd259b(0x1e4)]=setInterval(()=>{const _0x387164=_0xbd259b;this[_0x387164(0x208)]();},_0xea60ee*0x3c*0x3e8)),this['setupLtmScheduler'](),this[_0xbd259b(0x1b1)](),this[_0xbd259b(0x19b)](),this[_0xbd259b(0x206)]();}[a0_0x485211(0x2de)](_0x434d1d){const _0x305fba=a0_0x485211;if(this[_0x305fba(0x1e4)])clearInterval(this[_0x305fba(0x1e4)]);if(this[_0x305fba(0x171)])clearInterval(this[_0x305fba(0x171)]);if(this[_0x305fba(0x2d5)])this[_0x305fba(0x2d5)][_0x305fba(0x1bb)]();if(this[_0x305fba(0x2af)])this[_0x305fba(0x2af)]['cancel']();if(this[_0x305fba(0x2b6)])this[_0x305fba(0x2b6)][_0x305fba(0x1bb)]();if(this[_0x305fba(0x192)])clearTimeout(this[_0x305fba(0x192)]);if(this[_0x305fba(0x2e0)])clearTimeout(this['exitGraceTimer']);_0x434d1d();}async[a0_0x485211(0x293)](_0x283a77,_0x436369){const _0x7a75af=a0_0x485211;if(!_0x436369)return;if(_0x283a77===this[_0x7a75af(0x324)]+'.'+SYSTEM_DP_MODE){_0x436369[_0x7a75af(0x1cb)]&&Object[_0x7a75af(0x24b)](SYSTEM_MODES)[_0x7a75af(0x2d3)](_0x436369[_0x7a75af(0x1cb)])&&(this[_0x7a75af(0x301)]=_0x436369['val'],_0x436369[_0x7a75af(0x1cb)]===SYSTEM_MODES[_0x7a75af(0x2c1)]?await this[_0x7a75af(0x191)](![]):await this[_0x7a75af(0x191)](!![]));if(!_0x436369[_0x7a75af(0x21b)])this[_0x7a75af(0x320)](_0x283a77,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x436369[_0x7a75af(0x21b)]){_0x283a77[_0x7a75af(0x2d3)](_0x7a75af(0x2ed))&&_0x436369[_0x7a75af(0x1cb)]&&(this['setState'](_0x283a77,{'val':![],'ack':!![]}),this[_0x7a75af(0x22c)]());if(_0x283a77[_0x7a75af(0x2d3)](_0x7a75af(0x274))&&_0x436369[_0x7a75af(0x1cb)]){this['setState'](_0x283a77,{'val':![],'ack':!![]});if(this[_0x7a75af(0x30b)])this[_0x7a75af(0x2ad)]();}_0x283a77['includes'](_0x7a75af(0x2d1))&&_0x436369[_0x7a75af(0x1cb)]&&(this[_0x7a75af(0x320)](_0x283a77,{'val':![],'ack':!![]}),this['sendMorningBriefing']());return;}if(this[_0x7a75af(0x17b)][_0x7a75af(0x2e9)]&&this[_0x7a75af(0x17b)]['presenceDevices'][_0x7a75af(0x2d3)](_0x283a77)){await this[_0x7a75af(0x21e)]();return;}const _0x3d52ba=(this['config']['devices']||[])[_0x7a75af(0x209)](_0x3a6592=>_0x3a6592['id']===_0x283a77);if(_0x3d52ba)this[_0x7a75af(0x175)](_0x283a77,_0x436369,_0x3d52ba);}async[a0_0x485211(0x281)](_0x4a8cd3){const _0x2492c1=a0_0x485211;if(typeof _0x4a8cd3===_0x2492c1(0x2e2)&&_0x4a8cd3['message'])try{if(_0x4a8cd3[_0x2492c1(0x27a)]===_0x2492c1(0x226)){if(!_0x4a8cd3[_0x2492c1(0x327)][_0x2492c1(0x160)])return this['sendTo'](_0x4a8cd3['from'],_0x4a8cd3['command'],{'success':![],'message':_0x2492c1(0x30d)},_0x4a8cd3[_0x2492c1(0x318)]);try{const _0x54fcae=new GoogleGenerativeAI(_0x4a8cd3['message'][_0x2492c1(0x160)])['getGenerativeModel']({'model':_0x2492c1(0x19f)});await _0x54fcae[_0x2492c1(0x1a4)](_0x2492c1(0x252)),this['sendTo'](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3['command'],{'success':!![],'message':_0x2492c1(0x2e8)},_0x4a8cd3['callback']);}catch(_0x4755e5){this[_0x2492c1(0x17a)](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':![],'message':_0x4755e5[_0x2492c1(0x327)]},_0x4a8cd3[_0x2492c1(0x318)]);}}else{if(_0x4a8cd3[_0x2492c1(0x27a)]===_0x2492c1(0x238)){const _0x58f882=await this['sendNotification']('[Test]\x20Notification',!![]);this['sendTo'](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':_0x58f882>0x0,'message':_0x58f882+_0x2492c1(0x24a)},_0x4a8cd3[_0x2492c1(0x318)]);}else{if(_0x4a8cd3[_0x2492c1(0x27a)]==='getLtmData'){if(!this[_0x2492c1(0x30b)])return this[_0x2492c1(0x17a)](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3['command'],{'success':![],'isPro':![]},_0x4a8cd3['callback']);let _0x5f1eaf={'status':_0x2492c1(0x2f7),'details':'','lastCheck':0x0};try{_0x5f1eaf['status']=(await this[_0x2492c1(0x30f)](LTM_DP_DRIFT_STATUS))[_0x2492c1(0x1cb)],_0x5f1eaf[_0x2492c1(0x259)]=(await this[_0x2492c1(0x30f)](LTM_DP_DRIFT_DETAILS))[_0x2492c1(0x1cb)],_0x5f1eaf['lastCheck']=(await this[_0x2492c1(0x30f)](LTM_DP_DRIFT_LAST_CHECK))[_0x2492c1(0x1cb)];}catch(_0x2c3918){}this['sendTo'](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x2492c1(0x1eb)],'driftAnalysis':_0x5f1eaf,'analysisHistory':this['analysisHistory']},_0x4a8cd3[_0x2492c1(0x318)]);}else{if(_0x4a8cd3[_0x2492c1(0x27a)]===_0x2492c1(0x2a4)){const _0xb77675=await this['getForeignObjectsAsync'](_0x2492c1(0x297),_0x2492c1(0x15a)),_0xd3d641=[];if(_0xb77675)for(const _0x209d75 in _0xb77675){const _0x5c861e=_0xb77675[_0x209d75],_0x539105=(_0x5c861e[_0x2492c1(0x166)]&&typeof _0x5c861e[_0x2492c1(0x166)][_0x2492c1(0x1f0)]===_0x2492c1(0x2e2)?_0x5c861e['common'][_0x2492c1(0x1f0)]['de']:_0x5c861e[_0x2492c1(0x166)]['name'])||_0x5c861e[_0x2492c1(0x166)][_0x2492c1(0x1f0)];_0xd3d641[_0x2492c1(0x21a)]({'id':_0x209d75,'name':_0x539105});}this[_0x2492c1(0x17a)](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':!![],'enums':_0xd3d641},_0x4a8cd3[_0x2492c1(0x318)]);}else{if(_0x4a8cd3['command']==='scanDevices')try{const _0x5ebe60=await this['scanForDevices'](_0x4a8cd3[_0x2492c1(0x327)]||{});this[_0x2492c1(0x17a)](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':!![],'devices':_0x5ebe60},_0x4a8cd3[_0x2492c1(0x318)]);}catch(_0x12fefb){this[_0x2492c1(0x17a)](_0x4a8cd3['from'],_0x4a8cd3[_0x2492c1(0x27a)],{'success':![],'error':_0x12fefb[_0x2492c1(0x327)]},_0x4a8cd3[_0x2492c1(0x318)]);}else{if(_0x4a8cd3['command']===_0x2492c1(0x285)){const {historyId:_0x4bbcbb,rating:_0x8b78df,comment:_0x486abf,alertReason:_0xe1878b}=_0x4a8cd3[_0x2492c1(0x327)];_0x4bbcbb&&_0x8b78df?(await this[_0x2492c1(0x2bf)]({'timestamp':Date[_0x2492c1(0x213)](),'historyId':_0x4bbcbb,'rating':_0x8b78df,'comment':_0x486abf,'alertReason':_0xe1878b}),this[_0x2492c1(0x17a)](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':!![]},_0x4a8cd3[_0x2492c1(0x318)])):this[_0x2492c1(0x17a)](_0x4a8cd3['from'],_0x4a8cd3[_0x2492c1(0x27a)],{'success':![],'error':_0x2492c1(0x19e)},_0x4a8cd3[_0x2492c1(0x318)]);}else{if(_0x4a8cd3[_0x2492c1(0x27a)]==='testContext'){const _0x4b3678=await this[_0x2492c1(0x24c)](),_0x4976a2=await this['getCalendarContext']();this['sendTo'](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':!![],'weather':_0x4b3678,'calendar':_0x4976a2},_0x4a8cd3['callback']);}else{if(_0x4a8cd3[_0x2492c1(0x27a)]===_0x2492c1(0x2ac)){const _0x40e59c=_0x4a8cd3['message'][_0x2492c1(0x224)];if(!_0x40e59c)return this[_0x2492c1(0x17a)](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':![],'error':_0x2492c1(0x179)},_0x4a8cd3[_0x2492c1(0x318)]);const _0xa16345=await this[_0x2492c1(0x2ac)](_0x40e59c);this[_0x2492c1(0x17a)](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':!![],'names':_0xa16345},_0x4a8cd3[_0x2492c1(0x318)]);}}}}}}}}}catch(_0x4e92e8){this['log'][_0x2492c1(0x2cf)](_0x2492c1(0x1f2)+_0x4a8cd3['command']+':\x20'+_0x4e92e8['message']);if(_0x4a8cd3['callback'])this[_0x2492c1(0x17a)](_0x4a8cd3[_0x2492c1(0x32b)],_0x4a8cd3[_0x2492c1(0x27a)],{'success':![],'error':_0x4e92e8[_0x2492c1(0x327)]},_0x4a8cd3[_0x2492c1(0x318)]);}}async[a0_0x485211(0x175)](_0x41f7e6,_0x2392c9,_0x17eb28){const _0x20f57d=a0_0x485211;if(!_0x17eb28[_0x20f57d(0x2e4)]&&this[_0x20f57d(0x1f3)][_0x41f7e6]===_0x2392c9[_0x20f57d(0x1cb)])return;this[_0x20f57d(0x1f3)][_0x41f7e6]=_0x2392c9[_0x20f57d(0x1cb)];if(this['isGracePeriodActive'])return;const _0x13799f=await this['checkWifiPresence']();if(_0x13799f){if(!this['isPresent'])await this[_0x20f57d(0x191)](!![]);}else{const _0x5bf5ca=_0x17eb28[_0x20f57d(0x1f8)]===!![];_0x5bf5ca?this[_0x20f57d(0x161)]():(this['exitTimer']&&(this['log'][_0x20f57d(0x1ea)]('Bewegung\x20wÃ¤hrend\x20Exit-Timer\x20erkannt\x20->\x20Bewohner\x20ist\x20noch\x20da.'),this['abortExitTimer']()),!this[_0x20f57d(0x1f9)]&&this[_0x20f57d(0x301)]===SYSTEM_MODES[_0x20f57d(0x223)]&&await this[_0x20f57d(0x191)](!![]));}const _0x40c72a={'timestamp':_0x2392c9['ts'],'id':_0x41f7e6,'name':_0x17eb28[_0x20f57d(0x1f0)],'value':_0x2392c9[_0x20f57d(0x1cb)],'location':_0x17eb28[_0x20f57d(0x231)],'type':_0x17eb28['type']};this[_0x20f57d(0x2da)][_0x20f57d(0x221)](_0x40c72a);if(this['eventHistory'][_0x20f57d(0x2cc)]>HISTORY_MAX_SIZE)this[_0x20f57d(0x2da)][_0x20f57d(0x28a)]();await this[_0x20f57d(0x27f)](_0x20f57d(0x194),{'val':JSON['stringify'](_0x40c72a),'ack':!![]}),await this['setStateAsync'](_0x20f57d(0x16a),{'val':JSON[_0x20f57d(0x1bf)](this[_0x20f57d(0x2da)]),'ack':!![]}),this['rawEventLog']['push']({'timestamp':new Date(_0x2392c9['ts'])[_0x20f57d(0x2d8)](),'sensorName':_0x17eb28[_0x20f57d(0x1f0)],'location':_0x17eb28['location'],'value':_0x2392c9[_0x20f57d(0x1cb)]}),await this[_0x20f57d(0x2f8)]();}async[a0_0x485211(0x208)](){const _0x1b2d69=a0_0x485211,_0x308933=this[_0x1b2d69(0x17b)][_0x1b2d69(0x22a)],_0x20fe4b=this[_0x1b2d69(0x17b)][_0x1b2d69(0x215)],_0x3a6e1b=this['eventHistory'][_0x1b2d69(0x2cc)]>0x0?this['eventHistory'][0x0]['timestamp']:Date[_0x1b2d69(0x213)](),_0x4e3f05=(Date[_0x1b2d69(0x213)]()-_0x3a6e1b)/(0x3e8*0x3c*0x3c);let _0x40b2e0='';_0x20fe4b&&this[_0x1b2d69(0x301)]===SYSTEM_MODES[_0x1b2d69(0x223)]&&this['isPresent']&&(_0x4e3f05>_0x308933&&(_0x40b2e0=_0x1b2d69(0x1b9)+_0x4e3f05[_0x1b2d69(0x237)](0x1)+_0x1b2d69(0x29a)));if(_0x40b2e0){this[_0x1b2d69(0x22c)](_0x40b2e0)[_0x1b2d69(0x25c)](_0xe28d7d=>this[_0x1b2d69(0x269)][_0x1b2d69(0x2cf)](_0xe28d7d));return;}const _0x29b3fa=Date[_0x1b2d69(0x213)](),_0x33a8b6=_0x29b3fa-_0x3a6e1b,_0x47e5b9=(this[_0x1b2d69(0x17b)]['analysisInterval']||0xf)*0x3c*0x3e8;this[_0x1b2d69(0x2da)][_0x1b2d69(0x2cc)]>0x0&&_0x33a8b6<=_0x47e5b9?this['runGeminiAnalysis']()[_0x1b2d69(0x25c)](_0x1be1dc=>this['log']['error'](_0x1be1dc)):!this[_0x1b2d69(0x2f2)]&&(this[_0x1b2d69(0x320)](_0x1b2d69(0x29e),{'val':![],'ack':!![]}),this['setState'](_0x1b2d69(0x267),{'val':![],'ack':!![]}));}async[a0_0x485211(0x22c)](_0x3dc4cb=''){const _0x437efd=a0_0x485211;if(!this[_0x437efd(0x27d)])return;const _0x522ce8=this['eventHistory'][_0x437efd(0x2cc)]>0x0?this[_0x437efd(0x2da)]:[{'note':_0x437efd(0x18a)}],_0x144a3b=PERSONA_MAPPING[this[_0x437efd(0x17b)]['aiPersona']||_0x437efd(0x2fa)],_0x235d55=this[_0x437efd(0x17b)][_0x437efd(0x1fc)]||'',_0x234f13=this[_0x437efd(0x301)],_0x3be484=await this['getWeatherContext'](),_0x3e710f=await this[_0x437efd(0x241)](),_0x4c485f=(_0x3be484+'\x20'+_0x3e710f)['trim'](),_0x33eec0=new Date(),_0x448ad4=_0x33eec0['toLocaleString'](_0x437efd(0x1d0),{'weekday':'long','hour':_0x437efd(0x193),'minute':_0x437efd(0x193)}),_0x5aaa75=this[_0x437efd(0x157)];let _0x581d93='';if(this[_0x437efd(0x17c)]['length']>0x0){const _0x1b426b=this[_0x437efd(0x17c)][_0x437efd(0x265)](0x0,0x3)[_0x437efd(0x1c5)](_0x3c8ab5=>_0x437efd(0x1d4)+_0x3c8ab5[_0x437efd(0x1ba)]+_0x437efd(0x1c6)+_0x3c8ab5['rating']+'.')['join']('\x0a');_0x581d93=_0x437efd(0x1a0)+_0x1b426b+'\x0a';}const _0x32ce5c=_0x3dc4cb?_0x437efd(0x1d6)+_0x3dc4cb+'\x0a!!!\x20END\x20WARNING\x20!!!\x0a':'',_0x182d0f=_0x437efd(0x197),_0x40d213=_0x437efd(0x2c9)+_0x448ad4+_0x437efd(0x1ed)+_0x5aaa75[_0x437efd(0x214)]+_0x437efd(0x19d)+_0x234f13+_0x437efd(0x163)+(this[_0x437efd(0x1f9)]?'Ja':'Nein')+_0x437efd(0x2f1)+_0x235d55+_0x437efd(0x196)+_0x144a3b+_0x437efd(0x16f)+_0x4c485f+_0x437efd(0x1cc)+_0x182d0f+'\x20'+_0x581d93+'\x20'+_0x32ce5c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20'+JSON['stringify'](_0x522ce8)+_0x437efd(0x294);try{const _0x24231b=await this['geminiModel'][_0x437efd(0x1a4)](_0x40d213),_0x51ffec=_0x24231b[_0x437efd(0x1f1)][_0x437efd(0x16b)]()[_0x437efd(0x27c)](/```json|```/g,'')[_0x437efd(0x21c)](),_0x1a63f8=JSON['parse'](_0x51ffec);await this[_0x437efd(0x27f)](_0x437efd(0x260),{'val':_0x51ffec,'ack':!![]}),await this[_0x437efd(0x27f)](_0x437efd(0x2a7),{'val':_0x1a63f8['activity']['alertReason']||'','ack':!![]}),await this[_0x437efd(0x27f)](_0x437efd(0x255),{'val':_0x1a63f8[_0x437efd(0x15c)]['summary']||'N/A','ack':!![]}),await this[_0x437efd(0x27f)](_0x437efd(0x31f),{'val':_0x1a63f8[_0x437efd(0x15c)][_0x437efd(0x273)]||_0x437efd(0x2f7),'ack':!![]});_0x1a63f8['comfort']&&(await this[_0x437efd(0x27f)](_0x437efd(0x22d),{'val':_0x1a63f8['comfort']['summary']||'','ack':!![]}),await this[_0x437efd(0x27f)](_0x437efd(0x1c8),{'val':_0x1a63f8[_0x437efd(0x28e)][_0x437efd(0x2b5)]||'','ack':!![]}),_0x1a63f8[_0x437efd(0x28e)]['automationProposal']&&(await this[_0x437efd(0x27f)](_0x437efd(0x2b0),{'val':_0x1a63f8[_0x437efd(0x28e)][_0x437efd(0x242)][_0x437efd(0x253)]||![],'ack':!![]}),await this[_0x437efd(0x27f)](_0x437efd(0x1c9),{'val':_0x1a63f8['comfort'][_0x437efd(0x242)][_0x437efd(0x16c)]||'','ack':!![]}),await this['setStateAsync'](_0x437efd(0x198),{'val':_0x1a63f8['comfort'][_0x437efd(0x242)][_0x437efd(0x222)]||'','ack':!![]})));_0x1a63f8[_0x437efd(0x31c)]&&(await this[_0x437efd(0x27f)](_0x437efd(0x303),{'val':typeof _0x1a63f8[_0x437efd(0x31c)][_0x437efd(0x30a)]===_0x437efd(0x312)?_0x1a63f8['health'][_0x437efd(0x30a)]:0x0,'ack':!![]}),await this[_0x437efd(0x27f)](_0x437efd(0x1b6),{'val':_0x1a63f8[_0x437efd(0x31c)]['restlessness']||_0x437efd(0x263),'ack':!![]}),await this[_0x437efd(0x27f)]('analysis.health.notes',{'val':_0x1a63f8[_0x437efd(0x31c)][_0x437efd(0x20b)]||'','ack':!![]}));const _0x449f30=_0x1a63f8['activity'][_0x437efd(0x27b)]||![],_0x46bf54=_0x1a63f8[_0x437efd(0x15c)][_0x437efd(0x1bd)]||![];if(_0x449f30||_0x46bf54){await this[_0x437efd(0x27f)](_0x437efd(0x29e),{'val':!![],'ack':!![]}),await this[_0x437efd(0x27f)](_0x437efd(0x267),{'val':_0x46bf54,'ack':!![]});if(!this[_0x437efd(0x2f2)]||_0x46bf54){const _0x51feb6=_0x46bf54?_0x437efd(0x321):_0x437efd(0x243);this[_0x437efd(0x277)](_0x51feb6+':\x20'+_0x1a63f8[_0x437efd(0x15c)]['alertReason'],![],_0x46bf54);}}else await this[_0x437efd(0x27f)](_0x437efd(0x29e),{'val':![],'ack':!![]}),await this[_0x437efd(0x27f)]('analysis.isEmergency',{'val':![],'ack':!![]});this['lastAlertState']=_0x449f30||_0x46bf54;const _0x5ce5a4={'timestamp':Date['now'](),'id':Date[_0x437efd(0x213)]()['toString'](),'analysis':_0x1a63f8,'systemMode':_0x234f13,'isPro':this[_0x437efd(0x30b)]};this['updateAnalysisHistory'](_0x5ce5a4);}catch(_0x35c938){this['log'][_0x437efd(0x2cf)](_0x437efd(0x1e2)+_0x35c938[_0x437efd(0x327)]);}}async[a0_0x485211(0x2ad)](){const _0x7d31a0=a0_0x485211;if(!this[_0x7d31a0(0x27d)]||this[_0x7d31a0(0x18e)][_0x7d31a0(0x2cc)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await this['setStateAsync'](LTM_DP_STATUS,{'val':_0x7d31a0(0x25a),'ack':!![]});return;}this[_0x7d31a0(0x269)]['info']('Creating\x20Daily\x20Digest\x20from\x20'+this[_0x7d31a0(0x18e)][_0x7d31a0(0x2cc)]+_0x7d31a0(0x2e5)),await this[_0x7d31a0(0x27f)](LTM_DP_STATUS,{'val':_0x7d31a0(0x22f),'ack':!![]});const _0x4755f4=this[_0x7d31a0(0x18e)]['length']>0x320?this[_0x7d31a0(0x18e)][_0x7d31a0(0x265)](this[_0x7d31a0(0x18e)]['length']-0x320):this[_0x7d31a0(0x18e)],_0x449994=PERSONA_MAPPING[this[_0x7d31a0(0x17b)]['aiPersona']||'generic'],_0x3d27a1=_0x7d31a0(0x1b3)+_0x449994+_0x7d31a0(0x16e)+JSON[_0x7d31a0(0x1bf)](_0x4755f4)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20OUTPUT\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22,\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number,\x20\x22restlessness\x22:\x20\x22string\x22\x20}\x20}';try{const _0x4ba7a1=await this[_0x7d31a0(0x27d)][_0x7d31a0(0x1a4)](_0x3d27a1),_0x5b113f=_0x4ba7a1[_0x7d31a0(0x1f1)]['text']()[_0x7d31a0(0x27c)](/```json|```/g,'')[_0x7d31a0(0x21c)](),_0x1b5203=JSON[_0x7d31a0(0x23b)](_0x5b113f),_0x46cce3={'timestamp':new Date()[_0x7d31a0(0x2d8)](),'eventCount':this[_0x7d31a0(0x18e)][_0x7d31a0(0x2cc)],'summary':_0x1b5203[_0x7d31a0(0x25f)],'activityLevel':_0x1b5203[_0x7d31a0(0x164)],'health':{'sleepScore':_0x1b5203[_0x7d31a0(0x31c)]?_0x1b5203[_0x7d31a0(0x31c)][_0x7d31a0(0x30a)]:0x0,'restlessness':_0x1b5203[_0x7d31a0(0x31c)]?_0x1b5203[_0x7d31a0(0x31c)][_0x7d31a0(0x23a)]:_0x7d31a0(0x263)},'systemMode':this[_0x7d31a0(0x301)]};this[_0x7d31a0(0x1eb)]['push'](_0x46cce3),await this[_0x7d31a0(0x246)](),this[_0x7d31a0(0x18e)]=[],await this[_0x7d31a0(0x2f8)](),await this[_0x7d31a0(0x27f)](LTM_DP_STATUS,{'val':_0x7d31a0(0x2dd),'ack':!![]}),this[_0x7d31a0(0x269)][_0x7d31a0(0x1ea)]('Daily\x20Digest\x20created\x20successfully.');}catch(_0x5249bd){this[_0x7d31a0(0x269)]['error']('Daily\x20Digest\x20Error:\x20'+_0x5249bd[_0x7d31a0(0x327)]),await this[_0x7d31a0(0x27f)](LTM_DP_STATUS,{'val':_0x7d31a0(0x261)+_0x5249bd[_0x7d31a0(0x327)],'ack':!![]});}}async['sendMorningBriefing'](){const _0x520080=a0_0x485211;if(!this['geminiModel'])return;this['log'][_0x520080(0x1ea)]('Generating\x20Morning\x20Briefing...');const _0x6ca9a4=this[_0x520080(0x1eb)]['length']>0x0?this['dailyDigests'][this['dailyDigests']['length']-0x1]:null,_0x2de6b4=_0x6ca9a4&&_0x6ca9a4[_0x520080(0x31c)]?_0x6ca9a4[_0x520080(0x31c)]['sleepScore']:_0x520080(0x2f7),_0x9f3c55=new Date();_0x9f3c55[_0x520080(0x1c4)](0x4,0x0,0x0,0x0);const _0x4de6dd=this[_0x520080(0x2da)][_0x520080(0x21f)](_0x442f24=>new Date(_0x442f24['timestamp'])>_0x9f3c55),_0x32fe65=PERSONA_MAPPING[this[_0x520080(0x17b)][_0x520080(0x2ec)]||_0x520080(0x2fa)],_0x3fca8e=this[_0x520080(0x17b)][_0x520080(0x1fc)]||'',_0xac74d9=await this['getWeatherContext'](),_0x31859a=await this['getCalendarContext'](),_0x172c78=_0x520080(0x31a)+_0x32fe65+_0x520080(0x257)+_0x3fca8e+_0x520080(0x23e)+_0xac74d9+'\x20'+_0x31859a+_0x520080(0x25d)+_0x2de6b4+_0x520080(0x325)+JSON['stringify'](_0x4de6dd['slice'](0x0,0xa))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20OUTPUT:\x20Nur\x20der\x20Nachrichtentext\x20(kein\x20JSON).\x20Integriere\x20den\x20Kontext\x20(Wetter/Kalender)\x20nur\x20wenn\x20relevant.';try{const _0x5e0d2e=await this[_0x520080(0x27d)][_0x520080(0x1a4)](_0x172c78),_0x1fdb8e=_0x520080(0x23c)+_0x5e0d2e[_0x520080(0x1f1)][_0x520080(0x16b)]()[_0x520080(0x21c)]();this[_0x520080(0x277)](_0x1fdb8e),this[_0x520080(0x269)][_0x520080(0x1ea)](_0x520080(0x176));}catch(_0x179ead){this[_0x520080(0x269)]['error'](_0x520080(0x16d)+_0x179ead['message']);}}async['scanForDevices'](_0x4b24ed){const _0x1f386a=a0_0x485211;this[_0x1f386a(0x269)][_0x1f386a(0x1ea)](_0x1f386a(0x201));const _0x4390c=[],_0x5c3613=await this[_0x1f386a(0x2b1)]('*',_0x1f386a(0x1fa)),_0x531128=await this['getForeignObjectsAsync']('enum.rooms.*',_0x1f386a(0x15a)),_0x354f66={};if(_0x531128)for(const _0x3fee32 in _0x531128){const _0x43a284=_0x531128[_0x3fee32]['common'][_0x1f386a(0x1d5)];if(_0x43a284&&Array['isArray'](_0x43a284)){const _0x484bc8=typeof _0x531128[_0x3fee32]['common'][_0x1f386a(0x1f0)]===_0x1f386a(0x2e2)?_0x531128[_0x3fee32]['common'][_0x1f386a(0x1f0)]['de']:_0x531128[_0x3fee32][_0x1f386a(0x166)][_0x1f386a(0x1f0)];for(const _0x532860 of _0x43a284){_0x354f66[_0x532860]=_0x484bc8;}}}const _0x4e727d=await this[_0x1f386a(0x2b1)](_0x1f386a(0x297),_0x1f386a(0x15a)),_0x2ffe1={};if(_0x4e727d)for(const _0x51a568 in _0x4e727d){const _0x255d09=_0x4e727d[_0x51a568]['common'][_0x1f386a(0x1d5)],_0x36cf60=_0x51a568['split']('.')[_0x1f386a(0x28a)]()[_0x1f386a(0x182)]();if(_0x255d09&&Array[_0x1f386a(0x323)](_0x255d09))for(const _0x256d27 of _0x255d09){if(!_0x2ffe1[_0x256d27])_0x2ffe1[_0x256d27]=[];_0x2ffe1[_0x256d27][_0x1f386a(0x21a)](_0x36cf60);}}const _0x298786=_0x4b24ed['selectedFunctionIds']||[],_0x2b229d=_0x4b24ed['motion']!==![],_0x257227=_0x4b24ed['doors']!==![],_0x2d457e=_0x4b24ed[_0x1f386a(0x2a8)]!==![],_0x344816=_0x4b24ed[_0x1f386a(0x167)]===!![],_0x396fa7=_0x4b24ed[_0x1f386a(0x2b3)]===!![];for(const _0xd81607 in _0x5c3613){const _0x50361c=_0x5c3613[_0xd81607];if(!_0x50361c[_0x1f386a(0x166)])continue;if(ADAPTER_BLACKLIST[_0x1f386a(0x292)](_0xea34b9=>_0xd81607['startsWith'](_0xea34b9))){if(!_0x396fa7)continue;}const _0x2a567e=(_0x50361c[_0x1f386a(0x166)][_0x1f386a(0x258)]||'')[_0x1f386a(0x182)](),_0x394b4e=((typeof _0x50361c[_0x1f386a(0x166)][_0x1f386a(0x1f0)]===_0x1f386a(0x2e2)?_0x50361c['common']['name']['de']:_0x50361c[_0x1f386a(0x166)][_0x1f386a(0x1f0)])||_0xd81607)[_0x1f386a(0x182)](),_0x103489=_0x2ffe1[_0xd81607]||[];let _0x3bb2af=![],_0xab27e7=![];if(_0x298786[_0x1f386a(0x2cc)]>0x0)for(const _0x50534e of _0x298786){if(_0x4e727d[_0x50534e]&&_0x4e727d[_0x50534e][_0x1f386a(0x166)][_0x1f386a(0x1d5)]){const _0x4a9e5b=_0x4e727d[_0x50534e]['common'][_0x1f386a(0x1d5)];if(_0x4a9e5b[_0x1f386a(0x2d3)](_0xd81607)||_0x4a9e5b['some'](_0xb5ced4=>_0xd81607[_0x1f386a(0x329)](_0xb5ced4+'.'))){_0x3bb2af=!![],_0xab27e7=!![];break;}}}if(!_0x3bb2af&&!_0x396fa7){if(IGNORE_TERMS[_0x1f386a(0x292)](_0x102193=>_0xd81607['toUpperCase']()[_0x1f386a(0x2d3)](_0x102193)||_0x394b4e[_0x1f386a(0x2d3)](_0x102193[_0x1f386a(0x182)]()))){if(!_0x2a567e[_0x1f386a(0x2d3)](_0x1f386a(0x256))&&!_0x2a567e['includes'](_0x1f386a(0x189))&&!_0x2a567e[_0x1f386a(0x2d3)](_0x1f386a(0x1ee)))continue;}}let _0x2fd2c1='';if(_0x2b229d){if(_0x2a567e['includes'](_0x1f386a(0x256))||_0x2a567e===_0x1f386a(0x29c)||_0x103489[_0x1f386a(0x292)](_0x5ade71=>_0x5ade71[_0x1f386a(0x2d3)](_0x1f386a(0x256))||_0x5ade71[_0x1f386a(0x2d3)]('security')))_0x2fd2c1=_0x1f386a(0x256);else{if(_0x394b4e['includes']('bewegung')||_0x394b4e['includes'](_0x1f386a(0x256))||_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x26e)))_0x2fd2c1=_0x1f386a(0x256);}}if(!_0x2fd2c1&&_0x257227){if(_0x2a567e[_0x1f386a(0x2d3)](_0x1f386a(0x189))||_0x2a567e[_0x1f386a(0x2d3)](_0x1f386a(0x2aa))||_0x2a567e[_0x1f386a(0x2d3)]('lock')||_0x103489[_0x1f386a(0x292)](_0x13f1f5=>_0x13f1f5['includes']('window')||_0x13f1f5['includes'](_0x1f386a(0x189))||_0x13f1f5['includes']('lock')))_0x2fd2c1='door';else{if(_0x394b4e['includes'](_0x1f386a(0x2be))||_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x20f))||_0x394b4e['includes'](_0x1f386a(0x189))||_0x394b4e['includes']('window')||_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x200)))_0x2fd2c1=_0x1f386a(0x189);}}if(!_0x2fd2c1&&_0x2d457e){if(_0x2a567e['includes']('light')||_0x2a567e[_0x1f386a(0x2d3)](_0x1f386a(0x1ee))||_0x2a567e[_0x1f386a(0x2d3)](_0x1f386a(0x1b7))||_0x103489[_0x1f386a(0x292)](_0x486b29=>_0x486b29[_0x1f386a(0x2d3)](_0x1f386a(0x302)))){if(_0x50361c[_0x1f386a(0x166)][_0x1f386a(0x23d)]||_0x2a567e[_0x1f386a(0x2d3)]('sensor'))_0x2fd2c1=_0x1f386a(0x302);}else{if(_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x1ae))||_0x394b4e[_0x1f386a(0x2d3)]('light')||_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x266))||_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x1c3))||_0x394b4e[_0x1f386a(0x2d3)]('on/off')){if(_0x50361c['common'][_0x1f386a(0x23d)])_0x2fd2c1=_0x1f386a(0x302);}}}if(!_0x2fd2c1&&_0x344816){if(_0x2a567e['includes']('temperature')||_0x2a567e[_0x1f386a(0x2d3)](_0x1f386a(0x199))||_0x2a567e['includes'](_0x1f386a(0x248)))_0x2fd2c1=_0x1f386a(0x167);else{if(_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x1c0))||_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x27e))||_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x248)))_0x2fd2c1=_0x1f386a(0x167);}}!_0x2fd2c1&&_0xab27e7&&(_0x2fd2c1=_0x1f386a(0x202));if(_0x2fd2c1){let _0x182379=_0x354f66[_0xd81607]||'';if(!_0x182379){const _0x51e636=_0xd81607['split']('.');_0x51e636[_0x1f386a(0x28a)]();const _0x3f43ee=_0x51e636['join']('.');_0x182379=_0x354f66[_0x3f43ee]||'';}if(!_0x182379){if(_0x394b4e['includes'](_0x1f386a(0x1a6)))_0x182379=_0x1f386a(0x240);else{if(_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x2a6)))_0x182379=_0x1f386a(0x225);else{if(_0x394b4e[_0x1f386a(0x2d3)](_0x1f386a(0x1f4)))_0x182379=_0x1f386a(0x1b4);else{if(_0x394b4e[_0x1f386a(0x2d3)]('schlaf'))_0x182379=_0x1f386a(0x2ff);else{if(_0x394b4e['includes'](_0x1f386a(0x230))||_0x394b4e['includes'](_0x1f386a(0x2f4)))_0x182379=_0x1f386a(0x1aa);else{if(_0x394b4e['includes']('garten'))_0x182379='Garten';else{if(_0x394b4e['includes'](_0x1f386a(0x178)))_0x182379=_0x1f386a(0x278);}}}}}}}_0x4390c[_0x1f386a(0x21a)]({'id':_0xd81607,'name':(typeof _0x50361c[_0x1f386a(0x166)][_0x1f386a(0x1f0)]==='object'?_0x50361c[_0x1f386a(0x166)][_0x1f386a(0x1f0)]['de']:_0x50361c['common'][_0x1f386a(0x1f0)])||_0xd81607,'location':_0x182379,'type':_0x2fd2c1,'logDuplicates':_0x2fd2c1==='motion','isExit':![],'_score':_0x182379?0x50:_0x2fd2c1==='custom'?0x5a:0x28});}}return _0x4390c[_0x1f386a(0x190)]((_0x1fa052,_0x478da2)=>_0x478da2['_score']-_0x1fa052[_0x1f386a(0x308)]),_0x4390c;}[a0_0x485211(0x165)](_0x475bca){const _0x16c3f8=a0_0x485211;if(typeof _0x475bca==='object')return _0x475bca;try{return JSON[_0x16c3f8(0x23b)](_0x475bca);}catch(_0x4fa9a3){return null;}}async[a0_0x485211(0x1e6)](){const _0x42a41a=a0_0x485211;try{const _0xe3b080=[_0x42a41a(0x28b),_0x42a41a(0x319),_0x42a41a(0x2c7),'analysis.history_debug_03',_0x42a41a(0x315),_0x42a41a(0x1a9),_0x42a41a(0x2ba),_0x42a41a(0x21d),'events.history_debug_03',_0x42a41a(0x1f5)];for(const _0x2663b9 of _0xe3b080){try{const _0x3baa10=await this[_0x42a41a(0x219)](_0x2663b9);_0x3baa10&&await this['delObjectAsync'](_0x2663b9);}catch(_0x1c9c71){}}}catch(_0x4bf9a6){}}async['initHistory'](){const _0x2b706d=a0_0x485211;try{const _0x10767f=await this['getStateAsync']('events.history');_0x10767f&&_0x10767f['val']&&(this[_0x2b706d(0x2da)]=JSON[_0x2b706d(0x23b)](_0x10767f[_0x2b706d(0x1cb)]['toString']()));}catch(_0x31e45d){this[_0x2b706d(0x2da)]=[];}try{const _0x436726=await this[_0x2b706d(0x30f)]('analysis.analysisHistory');if(_0x436726&&_0x436726['val'])this[_0x2b706d(0x15e)]=JSON['parse'](_0x436726['val']['toString']());}catch(_0x210ca3){this['analysisHistory']=[];}}async[a0_0x485211(0x28f)](){const _0x462a8f=a0_0x485211;try{const _0x17e78f=await this[_0x462a8f(0x1b5)](_0x462a8f(0x309));_0x17e78f&&_0x17e78f[_0x462a8f(0x166)]&&(this[_0x462a8f(0x157)]={'latitude':_0x17e78f['common'][_0x462a8f(0x158)]||0x0,'longitude':_0x17e78f[_0x462a8f(0x166)][_0x462a8f(0x2ee)]||0x0,'city':_0x17e78f[_0x462a8f(0x166)]['city']||''});}catch(_0x433b63){}}async['checkLicense'](_0x4952d9){const _0xe23ec9=a0_0x485211;if(!_0x4952d9)return![];this['systemUUID']=await this[_0xe23ec9(0x26f)]();if(_0x4952d9===_0xe23ec9(0x314)||_0x4952d9[_0xe23ec9(0x329)](_0xe23ec9(0x211)))return!![];return![];}async[a0_0x485211(0x26f)](){const _0x343683=a0_0x485211;try{const _0x221a67=await this[_0x343683(0x1b5)](_0x343683(0x2c6));if(_0x221a67&&_0x221a67[_0x343683(0x22b)]&&_0x221a67[_0x343683(0x22b)][_0x343683(0x235)])return _0x221a67['native']['uuid'];return _0x343683(0x2d7);}catch(_0x138f0b){return _0x343683(0x22e);}}async['createAllObjects'](){const _0x2d5697=a0_0x485211;try{await this[_0x2d5697(0x1e7)](),await this[_0x2d5697(0x212)]('system.isPresent',{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x2ae),'type':_0x2d5697(0x304),'role':_0x2d5697(0x2d4),'read':!![],'write':![],'def':!![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x2d5697(0x194),{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x2d6),'type':_0x2d5697(0x1e3),'role':_0x2d5697(0x1fb),'read':!![],'write':![]},'native':{}}),await this[_0x2d5697(0x212)]('events.history',{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x173),'type':'string','role':_0x2d5697(0x1fb),'read':!![],'write':![]},'native':{}}),await this[_0x2d5697(0x212)](_0x2d5697(0x2ed),{'type':'state','common':{'name':_0x2d5697(0x239),'type':'boolean','role':_0x2d5697(0x270),'read':!![],'write':!![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x2d5697(0x282),{'type':'state','common':{'name':'Trigger\x20Briefing\x20(Test)','type':_0x2d5697(0x304),'role':_0x2d5697(0x270),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x2d5697(0x212)](_0x2d5697(0x260),{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x1b2),'type':_0x2d5697(0x1e3),'role':_0x2d5697(0x1fb),'read':!![],'write':![]},'native':{}}),await this[_0x2d5697(0x212)](_0x2d5697(0x29e),{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x262),'type':_0x2d5697(0x304),'role':_0x2d5697(0x32a),'read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x2d5697(0x267),{'type':'state','common':{'name':_0x2d5697(0x2a0),'type':_0x2d5697(0x304),'role':'indicator.alarm.fire','read':!![],'write':![],'def':![]},'native':{}}),await this[_0x2d5697(0x212)](_0x2d5697(0x2a7),{'type':_0x2d5697(0x1fa),'common':{'name':'Alert\x20Reason','type':_0x2d5697(0x1e3),'role':'text.alarm','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x2d5697(0x255),{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x186),'type':_0x2d5697(0x1e3),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x2d5697(0x212)](_0x2d5697(0x31f),{'type':_0x2d5697(0x1fa),'common':{'name':'Deviation','type':_0x2d5697(0x1e3),'role':_0x2d5697(0x1fa),'read':!![],'write':![],'def':_0x2d5697(0x2f7)},'native':{}}),await this['setObjectNotExistsAsync'](_0x2d5697(0x22d),{'type':_0x2d5697(0x1fa),'common':{'name':'Comfort\x20Summary','type':_0x2d5697(0x1e3),'role':_0x2d5697(0x16b),'read':!![],'write':![]},'native':{}}),await this[_0x2d5697(0x212)](_0x2d5697(0x1c8),{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x172),'type':'string','role':_0x2d5697(0x16b),'read':!![],'write':![]},'native':{}}),await this['extendObjectAsync']('analysis.automation',{'type':_0x2d5697(0x1de),'common':{'name':_0x2d5697(0x2b9)},'native':{}}),await this['setObjectNotExistsAsync'](_0x2d5697(0x2b0),{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x1e9),'type':'boolean','role':_0x2d5697(0x2d4),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x2d5697(0x212)](_0x2d5697(0x1c9),{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x2e6),'type':_0x2d5697(0x1e3),'role':'text','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x2d5697(0x198),{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x279),'type':_0x2d5697(0x1e3),'role':'text','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x2d5697(0x159),{'type':'state','common':{'name':_0x2d5697(0x218),'type':'string','role':_0x2d5697(0x1fb),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x2d5697(0x212)]('analysis.feedbackHistory',{'type':_0x2d5697(0x1fa),'common':{'name':_0x2d5697(0x1a5),'type':_0x2d5697(0x1e3),'role':_0x2d5697(0x1fb),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x2d5697(0x306)]('analysis.health',{'type':_0x2d5697(0x1de),'common':{'name':_0x2d5697(0x19c)},'native':{}}),await this[_0x2d5697(0x212)]('analysis.health.sleepScore',{'type':_0x2d5697(0x1fa),'common':{'name':'Sleep\x20Score\x20(0-100)','type':_0x2d5697(0x312),'role':'value.health','read':!![],'write':![],'def':0x0},'native':{}}),await this[_0x2d5697(0x212)](_0x2d5697(0x1b6),{'type':'state','common':{'name':'Restlessness\x20Level','type':_0x2d5697(0x1e3),'role':_0x2d5697(0x16b),'read':!![],'write':![],'def':_0x2d5697(0x263)},'native':{}}),await this['setObjectNotExistsAsync'](_0x2d5697(0x216),{'type':'state','common':{'name':_0x2d5697(0x1bc),'type':_0x2d5697(0x1e3),'role':_0x2d5697(0x16b),'read':!![],'write':![],'def':''},'native':{}}),await this[_0x2d5697(0x205)](),await this['checkLtmDriftObjects']();}catch(_0x41ee3b){this[_0x2d5697(0x269)]['error'](_0x2d5697(0x296)+_0x41ee3b[_0x2d5697(0x327)]);}}async[a0_0x485211(0x1e7)](){const _0x264c6c=a0_0x485211;await this['extendObjectAsync']('system',{'type':'channel','common':{'name':_0x264c6c(0x217)},'native':{}}),await this[_0x264c6c(0x306)](SYSTEM_DP_MODE,{'type':'state','common':{'name':_0x264c6c(0x1ac),'type':_0x264c6c(0x1e3),'role':_0x264c6c(0x1fa),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x264c6c(0x223)],'states':{[SYSTEM_MODES[_0x264c6c(0x223)]]:_0x264c6c(0x236),[SYSTEM_MODES['VACATION']]:_0x264c6c(0x29f),[SYSTEM_MODES[_0x264c6c(0x1ef)]]:'Party',[SYSTEM_MODES[_0x264c6c(0x2c4)]]:_0x264c6c(0x300)}},'native':{}});}async[a0_0x485211(0x205)](){const _0x12db30=a0_0x485211;await this[_0x12db30(0x306)](_0x12db30(0x1db),{'type':_0x12db30(0x1de),'common':{'name':_0x12db30(0x1db)},'native':{}}),await this[_0x12db30(0x306)](LTM_DP_RAW_LOG,{'type':_0x12db30(0x1fa),'common':{'name':_0x12db30(0x228),'type':'string','role':_0x12db30(0x1fb),'read':!![],'write':![]},'native':{}}),await this[_0x12db30(0x306)](LTM_DP_DAILY_DIGESTS,{'type':'state','common':{'name':_0x12db30(0x2dc),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this[_0x12db30(0x306)](LTM_DP_STATUS,{'type':'state','common':{'name':_0x12db30(0x204),'type':_0x12db30(0x1e3),'role':_0x12db30(0x16b),'read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_TRIGGER_DIGEST,{'type':_0x12db30(0x1fa),'common':{'name':'Trigger\x20Digest','type':_0x12db30(0x304),'role':_0x12db30(0x270),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x12db30(0x306)](LTM_DP_BASELINE_STATUS,{'type':'state','common':{'name':_0x12db30(0x2e3),'type':_0x12db30(0x1e3),'role':_0x12db30(0x16b),'read':!![],'write':![]},'native':{}});}async['checkLtmDriftObjects'](){const _0x2735c0=a0_0x485211;await this[_0x2735c0(0x306)](LTM_DP_DRIFT_CHANNEL,{'type':'channel','common':{'name':'Drift\x20Analysis'},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_STATUS,{'type':_0x2735c0(0x1fa),'common':{'name':_0x2735c0(0x20a),'type':_0x2735c0(0x1e3),'role':'state','read':!![],'write':![],'def':_0x2735c0(0x2f7)},'native':{}}),await this[_0x2735c0(0x306)](LTM_DP_DRIFT_DETAILS,{'type':_0x2735c0(0x1fa),'common':{'name':_0x2735c0(0x18c),'type':_0x2735c0(0x1e3),'role':'text','read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x2735c0(0x1fa),'common':{'name':_0x2735c0(0x1a7),'type':'number','role':_0x2735c0(0x30e),'read':!![],'write':![]},'native':{}});}async['loadSystemMode'](){const _0x4e14ae=a0_0x485211;try{const _0x4775cd=await this[_0x4e14ae(0x30f)](SYSTEM_DP_MODE);_0x4775cd&&_0x4775cd['val']&&Object[_0x4e14ae(0x24b)](SYSTEM_MODES)[_0x4e14ae(0x2d3)](_0x4775cd[_0x4e14ae(0x1cb)])?this[_0x4e14ae(0x301)]=_0x4775cd['val']:(this[_0x4e14ae(0x301)]=SYSTEM_MODES[_0x4e14ae(0x223)],await this['setStateAsync'](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x4e14ae(0x223)],'ack':!![]}));}catch(_0x3d8eb6){this[_0x4e14ae(0x301)]=SYSTEM_MODES[_0x4e14ae(0x223)];}}async[a0_0x485211(0x1d9)](){const _0x13c027=a0_0x485211;try{const _0x5dbbaa=await this[_0x13c027(0x30f)](LTM_DP_RAW_LOG);if(_0x5dbbaa&&_0x5dbbaa[_0x13c027(0x1cb)])this[_0x13c027(0x18e)]=JSON['parse'](_0x5dbbaa[_0x13c027(0x1cb)]);}catch(_0x483b76){this[_0x13c027(0x18e)]=[];}}async[a0_0x485211(0x29b)](){const _0x22fede=a0_0x485211;try{const _0x46ded0=await this[_0x22fede(0x30f)](LTM_DP_DAILY_DIGESTS);if(_0x46ded0&&_0x46ded0['val'])this[_0x22fede(0x1eb)]=JSON['parse'](_0x46ded0[_0x22fede(0x1cb)]);}catch(_0x31597a){this['dailyDigests']=[];}await this[_0x22fede(0x2df)]();}async[a0_0x485211(0x2f8)](){const _0x1f0a92=a0_0x485211;this['rawEventLog'][_0x1f0a92(0x2cc)]>RAW_LOG_MAX_SIZE&&this[_0x1f0a92(0x18e)][_0x1f0a92(0x322)](0x0,this[_0x1f0a92(0x18e)]['length']-RAW_LOG_MAX_SIZE),await this[_0x1f0a92(0x27f)](LTM_DP_RAW_LOG,{'val':JSON[_0x1f0a92(0x1bf)](this['rawEventLog']),'ack':!![]});}async['saveDailyDigests'](_0x5d8765=!![]){const _0x4115f5=a0_0x485211,_0x4de4f4=this[_0x4115f5(0x17b)][_0x4115f5(0x283)]||0x3c;this[_0x4115f5(0x1eb)][_0x4115f5(0x2cc)]>_0x4de4f4&&this[_0x4115f5(0x1eb)]['splice'](0x0,this[_0x4115f5(0x1eb)][_0x4115f5(0x2cc)]-_0x4de4f4);await this['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4115f5(0x1bf)](this['dailyDigests']),'ack':!![]});if(_0x5d8765)await this['updateBaselineStatus']();}async[a0_0x485211(0x310)](_0x2748fc){const _0x92918a=a0_0x485211;this[_0x92918a(0x15e)][_0x92918a(0x221)](_0x2748fc);if(this[_0x92918a(0x15e)][_0x92918a(0x2cc)]>ANALYSIS_HISTORY_MAX_SIZE)this[_0x92918a(0x15e)][_0x92918a(0x28a)]();await this['setStateAsync'](_0x92918a(0x159),{'val':JSON[_0x92918a(0x1bf)](this['analysisHistory']),'ack':!![]});}async['updateBaselineStatus'](){const _0x462aa6=a0_0x485211;if(!this[_0x462aa6(0x30b)]){await this[_0x462aa6(0x27f)](LTM_DP_BASELINE_STATUS,{'val':_0x462aa6(0x210),'ack':!![]});return;}const _0x316a12=this[_0x462aa6(0x1eb)]['length']>=(this['config'][_0x462aa6(0x17d)]||0x7)?_0x462aa6(0x2cb)+this['dailyDigests'][_0x462aa6(0x2cc)]+_0x462aa6(0x1ad):_0x462aa6(0x162)+this[_0x462aa6(0x1eb)]['length']+'/'+(this['config'][_0x462aa6(0x17d)]||0x7)+')';await this[_0x462aa6(0x27f)](LTM_DP_BASELINE_STATUS,{'val':_0x316a12,'ack':!![]});}async[a0_0x485211(0x299)](){const _0x3f2772=a0_0x485211,_0x457b91=this[_0x3f2772(0x17b)][_0x3f2772(0x254)];if(_0x457b91&&_0x457b91[_0x3f2772(0x2cc)]>0x0){this['log'][_0x3f2772(0x1ea)]('Subscribing\x20to\x20'+_0x457b91[_0x3f2772(0x2cc)]+_0x3f2772(0x1fd));for(const _0x1637a2 of _0x457b91){if(_0x1637a2['id']){await this['subscribeForeignStatesAsync'](_0x1637a2['id']);try{const _0x58cc4f=await this[_0x3f2772(0x1c2)](_0x1637a2['id']);if(_0x58cc4f)this[_0x3f2772(0x1f3)][_0x1637a2['id']]=_0x58cc4f[_0x3f2772(0x1cb)];}catch(_0x336a7e){}}}}}async[a0_0x485211(0x268)](){const _0x44f8b0=a0_0x485211,_0x4e6668=this[_0x44f8b0(0x17b)][_0x44f8b0(0x2e9)]||[];if(_0x4e6668[_0x44f8b0(0x2cc)]>0x0){this[_0x44f8b0(0x269)][_0x44f8b0(0x1ea)](_0x44f8b0(0x24e)+_0x4e6668[_0x44f8b0(0x2cc)]+'\x20presence\x20devices...');for(const _0x356d4e of _0x4e6668){await this[_0x44f8b0(0x18b)](_0x356d4e);}try{await this[_0x44f8b0(0x21e)]();}catch(_0x193d4a){}}}async[a0_0x485211(0x24c)](){const _0xff1c5e=a0_0x485211;try{if(!this[_0xff1c5e(0x17b)][_0xff1c5e(0x2f6)])return _0xff1c5e(0x2b2);let _0x5ca7f1='';const _0x185c14=this[_0xff1c5e(0x17b)]['weatherInstance'];if(_0x185c14)try{if(_0x185c14[_0xff1c5e(0x2d3)](_0xff1c5e(0x174))){const _0x14eb0d=await this[_0xff1c5e(0x1c2)](_0x185c14+_0xff1c5e(0x2f9));if(_0x14eb0d&&_0x14eb0d[_0xff1c5e(0x1cb)])_0x5ca7f1=_0x14eb0d[_0xff1c5e(0x1cb)];}else{if(_0x185c14['includes'](_0xff1c5e(0x250))){const _0x3cec63=await this[_0xff1c5e(0x1c2)](_0x185c14+_0xff1c5e(0x28d));if(_0x3cec63&&_0x3cec63['val'])_0x5ca7f1=_0x3cec63['val'];}else{if(_0x185c14[_0xff1c5e(0x2d3)](_0xff1c5e(0x1d3))){const _0x7b74a0=await this[_0xff1c5e(0x1c2)](_0x185c14+_0xff1c5e(0x1c7));if(_0x7b74a0&&_0x7b74a0['val'])_0x5ca7f1=_0x7b74a0['val'];}}}}catch(_0x507e3a){}if(!_0x5ca7f1){const _0x49d7e8=[_0xff1c5e(0x2ef),_0xff1c5e(0x2a2),'weatherunderground.0',_0xff1c5e(0x23f)];for(const _0x64e605 of _0x49d7e8){try{const _0x5ecd4a=await this['getForeignObjectAsync'](_0x64e605);if(_0x5ecd4a){if(_0x64e605[_0xff1c5e(0x2d3)](_0xff1c5e(0x174))){const _0x41f650=await this[_0xff1c5e(0x1c2)](_0x64e605+_0xff1c5e(0x2f9));if(_0x41f650&&_0x41f650[_0xff1c5e(0x1cb)]){_0x5ca7f1=_0x41f650['val'];break;}}}}catch(_0x277258){}}}return _0x5ca7f1?_0xff1c5e(0x2bd)+_0x5ca7f1:'WETTER:\x20Keine\x20Daten\x20gefunden';}catch(_0x567369){return _0xff1c5e(0x169)+_0x567369[_0xff1c5e(0x327)];}}async[a0_0x485211(0x241)](){const _0x337f26=a0_0x485211;try{if(!this[_0x337f26(0x17b)]['useCalendar'])return _0x337f26(0x1be);let _0x4ee2cf=this['config']['calendarInstance']||_0x337f26(0x2fc),_0xdf158=this[_0x337f26(0x17b)][_0x337f26(0x245)]||[];if(typeof _0xdf158==='string')_0xdf158=_0xdf158[_0x337f26(0x311)](',');try{const _0xff3b18=await this[_0x337f26(0x1c2)](_0x4ee2cf+_0x337f26(0x2a9));if(_0xff3b18&&_0xff3b18[_0x337f26(0x1cb)]){let _0x49c973=this[_0x337f26(0x165)](_0xff3b18[_0x337f26(0x1cb)]);if(_0x49c973&&Array[_0x337f26(0x323)](_0x49c973)){if(_0xdf158[_0x337f26(0x2cc)]>0x0)_0x49c973=_0x49c973[_0x337f26(0x21f)](_0x11530a=>_0xdf158[_0x337f26(0x2d3)](_0x11530a[_0x337f26(0x2ea)]||''));else return _0x337f26(0x244);if(_0x49c973['length']>0x0){const _0x78d662=_0x49c973['slice'](0x0,0x3)[_0x337f26(0x1c5)](_0x57bf2a=>{const _0x52ca2a=_0x337f26;let _0x59fddf=_0x57bf2a[_0x52ca2a(0x30e)];if(_0x57bf2a[_0x52ca2a(0x291)])_0x59fddf+='\x20'+_0x57bf2a[_0x52ca2a(0x291)];return _0x59fddf+':\x20'+_0x57bf2a['event']+'\x20('+_0x57bf2a['_calName']+')';});return _0x337f26(0x188)+_0x78d662[_0x337f26(0x180)](_0x337f26(0x1ab));}else return _0x337f26(0x298);}}}catch(_0x3e34d8){this[_0x337f26(0x269)][_0x337f26(0x2ce)](_0x337f26(0x1cf)+_0x3e34d8[_0x337f26(0x327)]);}return _0x337f26(0x1a8);}catch(_0x11ec0f){return _0x337f26(0x2b4)+_0x11ec0f[_0x337f26(0x327)];}}async[a0_0x485211(0x2ac)](_0x5dc9c3){const _0x1b8af5=a0_0x485211;try{const _0x195491=await this[_0x1b8af5(0x1c2)](_0x5dc9c3+_0x1b8af5(0x2a9));if(_0x195491&&_0x195491[_0x1b8af5(0x1cb)]){const _0x26281a=this[_0x1b8af5(0x165)](_0x195491[_0x1b8af5(0x1cb)]);if(_0x26281a&&Array[_0x1b8af5(0x323)](_0x26281a)){const _0x3eeba0=[...new Set(_0x26281a[_0x1b8af5(0x1c5)](_0x4b4cab=>_0x4b4cab['_calName'])[_0x1b8af5(0x21f)](Boolean))];return _0x3eeba0[_0x1b8af5(0x190)]();}}return[];}catch(_0x54b5a7){return this['log'][_0x1b8af5(0x2cf)](_0x1b8af5(0x2cd)+_0x54b5a7['message']),[];}}async[a0_0x485211(0x21e)](){const _0x4d4435=a0_0x485211;try{const _0x2cde16=this[_0x4d4435(0x17b)]['presenceDevices']||[];let _0x51cdc2=![];for(const _0x5be604 of _0x2cde16){try{const _0x546540=await this[_0x4d4435(0x1c2)](_0x5be604);if(_0x546540&&(_0x546540[_0x4d4435(0x1cb)]===!![]||_0x546540['val']===_0x4d4435(0x17e)||_0x546540[_0x4d4435(0x1cb)]===0x1)){_0x51cdc2=!![];break;}}catch(_0x321bf6){}}return _0x51cdc2&&(this['exitTimer']&&(this['log'][_0x4d4435(0x1ea)](_0x4d4435(0x20e)),this['abortExitTimer']()),!this[_0x4d4435(0x1f9)]&&this[_0x4d4435(0x301)]===SYSTEM_MODES[_0x4d4435(0x223)]&&await this['setPresence'](!![])),_0x51cdc2;}catch(_0x267c1a){return this[_0x4d4435(0x269)][_0x4d4435(0x2cf)]('Error\x20checking\x20WiFi:\x20'+_0x267c1a[_0x4d4435(0x327)]),![];}}[a0_0x485211(0x161)](){const _0x49ae51=a0_0x485211;this[_0x49ae51(0x26b)](),this[_0x49ae51(0x1df)]=!![],this[_0x49ae51(0x2e0)]=setTimeout(()=>{const _0x5190ef=_0x49ae51;this[_0x5190ef(0x1df)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this[_0x49ae51(0x192)]=setTimeout(()=>{const _0x32f33f=_0x49ae51;this['setPresence'](![]),this[_0x32f33f(0x192)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}[a0_0x485211(0x26b)](){const _0x4d6528=a0_0x485211;if(this[_0x4d6528(0x192)])clearTimeout(this[_0x4d6528(0x192)]);if(this['exitGraceTimer'])clearTimeout(this[_0x4d6528(0x2e0)]);this['exitTimer']=null,this[_0x4d6528(0x2e0)]=null,this[_0x4d6528(0x1df)]=![];}async[a0_0x485211(0x191)](_0x26cfdd){const _0x50a83f=a0_0x485211;if(this[_0x50a83f(0x1f9)]===_0x26cfdd)return;this[_0x50a83f(0x1f9)]=_0x26cfdd,await this[_0x50a83f(0x27f)](_0x50a83f(0x1b0),{'val':_0x26cfdd,'ack':!![]});}async['saveFeedback'](_0x7df8f4){const _0x34810d=a0_0x485211;this[_0x34810d(0x269)][_0x34810d(0x1ea)]('Feedback\x20saved:\x20'+JSON[_0x34810d(0x1bf)](_0x7df8f4));}async[a0_0x485211(0x1e8)](){const _0x1d2490=a0_0x485211;if(!this[_0x1d2490(0x30b)]||!this[_0x1d2490(0x27d)])return;const _0xf56718=this['config'][_0x1d2490(0x286)]||0xe;if(this[_0x1d2490(0x1eb)]['length']<_0xf56718+(this[_0x1d2490(0x17b)][_0x1d2490(0x17d)]||0x7)){await this[_0x1d2490(0x27f)](LTM_DP_DRIFT_STATUS,{'val':_0x1d2490(0x1da),'ack':!![]});return;}const _0x36f32f=this[_0x1d2490(0x1eb)][_0x1d2490(0x265)](-_0xf56718),_0x2d5285=this['dailyDigests'][_0x1d2490(0x265)](0x0,this['dailyDigests'][_0x1d2490(0x2cc)]-_0xf56718),_0x29742d=_0x1d2490(0x29d)+JSON['stringify'](_0x2d5285)+_0x1d2490(0x271)+JSON[_0x1d2490(0x1bf)](_0x36f32f);try{const _0x53103d=await this['geminiModel'][_0x1d2490(0x1a4)](_0x29742d),_0x1f1683=JSON[_0x1d2490(0x23b)](_0x53103d['response']['text']()[_0x1d2490(0x27c)](/```json|```/g,'')[_0x1d2490(0x21c)]());_0x1f1683[_0x1d2490(0x25b)]&&(await this['setStateAsync'](LTM_DP_DRIFT_STATUS,{'val':_0x1f1683[_0x1d2490(0x25b)],'ack':!![]}),await this[_0x1d2490(0x27f)](LTM_DP_DRIFT_DETAILS,{'val':_0x1f1683[_0x1d2490(0x287)],'ack':!![]}),await this[_0x1d2490(0x27f)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date['now'](),'ack':!![]}));}catch(_0x52d46){}}['setupLtmScheduler'](){const _0x3f582b=a0_0x485211;try{if(this[_0x3f582b(0x2d5)])this['ltmJob'][_0x3f582b(0x1bb)]();if(!this[_0x3f582b(0x30b)]){this[_0x3f582b(0x27f)](LTM_DP_STATUS,{'val':'Deaktiviert\x20(Pro-Feature)','ack':!![]});return;}this[_0x3f582b(0x2d5)]=schedule[_0x3f582b(0x233)](LTM_SCHEDULE,()=>this[_0x3f582b(0x2ad)]());}catch(_0x40e2fd){this[_0x3f582b(0x269)]['error']('LTM\x20Sched\x20Error:\x20'+_0x40e2fd[_0x3f582b(0x327)]);}}[a0_0x485211(0x1b1)](){const _0x372b59=a0_0x485211;try{if(this[_0x372b59(0x2af)])this[_0x372b59(0x2af)][_0x372b59(0x1bb)]();this[_0x372b59(0x2af)]=schedule[_0x372b59(0x233)](MODE_RESET_SCHEDULE,async()=>{const _0x221fd5=_0x372b59;await this['loadSystemMode'](),AUTO_RESET_MODES[_0x221fd5(0x2d3)](this['currentSystemMode'])&&await this['setStateAsync'](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x221fd5(0x223)],'ack':![]});});}catch(_0x244858){this[_0x372b59(0x269)][_0x372b59(0x2cf)]('Reset\x20Sched\x20Error:\x20'+_0x244858[_0x372b59(0x327)]);}}[a0_0x485211(0x19b)](){const _0x5447a6=a0_0x485211;try{if(this[_0x5447a6(0x171)])clearInterval(this[_0x5447a6(0x171)]);if(!this[_0x5447a6(0x30b)])return;this[_0x5447a6(0x171)]=setInterval(()=>this[_0x5447a6(0x1e8)](),(this[_0x5447a6(0x17b)][_0x5447a6(0x220)]||0x18)*0x36ee80),setTimeout(()=>this['runBaselineDriftAnalysis'](),0x1388);}catch(_0x2a1bda){this['log'][_0x5447a6(0x2cf)](_0x5447a6(0x15f)+_0x2a1bda[_0x5447a6(0x327)]);}}[a0_0x485211(0x206)](){const _0x3c2415=a0_0x485211;try{if(this[_0x3c2415(0x2b6)])this[_0x3c2415(0x2b6)][_0x3c2415(0x1bb)]();if(!this['config'][_0x3c2415(0x1f7)])return;const _0x1d8c0e=(this['config'][_0x3c2415(0x2ab)]||_0x3c2415(0x1a3))[_0x3c2415(0x311)](':'),_0x318f85=parseInt(_0x1d8c0e[0x0])||0x8,_0x587ccc=parseInt(_0x1d8c0e[0x1])||0x0,_0x2ab12f=_0x587ccc+'\x20'+_0x318f85+_0x3c2415(0x203);this[_0x3c2415(0x269)]['info'](_0x3c2415(0x2c0)+_0x318f85+':'+(_0x587ccc<0xa?'0'+_0x587ccc:_0x587ccc)),this[_0x3c2415(0x2b6)]=schedule['scheduleJob'](_0x2ab12f,()=>{this['sendMorningBriefing']();});}catch(_0x1fece1){this[_0x3c2415(0x269)][_0x3c2415(0x2cf)]('Briefing\x20Sched\x20Error:\x20'+_0x1fece1[_0x3c2415(0x327)]);}}async[a0_0x485211(0x277)](_0x380e5a,_0x5f2918=![],_0x47c6af=![]){const _0x292a62=a0_0x485211;this[_0x292a62(0x269)]['info']((_0x5f2918?_0x292a62(0x17f):'')+_0x292a62(0x2d0)+_0x380e5a+'\x22'+(_0x47c6af?_0x292a62(0x313):''));const _0x1bbdf5=this[_0x292a62(0x17b)];let _0x3a769d=0x0;_0x1bbdf5['notifyTelegramEnabled']&&_0x1bbdf5['notifyTelegramInstance']&&(await this[_0x292a62(0x328)](_0x1bbdf5[_0x292a62(0x26a)],_0x292a62(0x229),{'text':_0x380e5a,'user':_0x1bbdf5['notifyTelegramRecipient']}),_0x3a769d++);if(_0x1bbdf5[_0x292a62(0x195)]&&_0x1bbdf5[_0x292a62(0x232)]){let _0x2242d7={'message':_0x380e5a,'title':_0x47c6af?_0x292a62(0x2db):_0x292a62(0x20d),'priority':_0x47c6af?0x2:0x1,'device':_0x1bbdf5[_0x292a62(0x181)]};_0x47c6af&&(_0x2242d7[_0x292a62(0x2e7)]=0x1e,_0x2242d7[_0x292a62(0x25e)]=0xe10,_0x2242d7[_0x292a62(0x1af)]=_0x292a62(0x1cd)),await this[_0x292a62(0x328)](_0x1bbdf5[_0x292a62(0x232)],_0x292a62(0x229),_0x2242d7),_0x3a769d++;}return _0x1bbdf5[_0x292a62(0x2c8)]&&_0x1bbdf5['notifyEmailInstance']&&(await this[_0x292a62(0x328)](_0x1bbdf5[_0x292a62(0x280)],_0x292a62(0x229),{'text':_0x380e5a,'to':_0x1bbdf5['notifyEmailRecipient']}),_0x3a769d++),_0x1bbdf5[_0x292a62(0x1dc)]&&_0x1bbdf5[_0x292a62(0x24d)]&&(await this[_0x292a62(0x328)](_0x1bbdf5[_0x292a62(0x24d)],_0x292a62(0x229),{'text':_0x380e5a,'phone':_0x1bbdf5[_0x292a62(0x2d2)]}),_0x3a769d++),_0x1bbdf5[_0x292a62(0x247)]&&_0x1bbdf5[_0x292a62(0x187)]&&(await this['sendToAsync'](_0x1bbdf5[_0x292a62(0x187)],'send',{'text':_0x380e5a,'phone':_0x1bbdf5['notifySignalRecipient']}),_0x3a769d++),_0x3a769d;}}function a0_0x3826(){const _0x43a0da=['analysis.isAlert','Urlaub','AI\x20Emergency\x20Status','LTM.processingStatus','daswetter.0','genAI','getEnums','LOWBAT','kÃ¼che','analysis.alertReason','lights','.data.table','window','briefingTime','getCalendarNames','createDailyDigest','Presence\x20Status','modeResetJob','analysis.automation.patternDetected','getForeignObjectsAsync','Wetter:\x20Deaktiviert','weather','KALENDER\x20ERROR:\x20','suggestion','briefingJob','bind','11943kLhxWI','Automation\x20Proposals','events.history_debug_01','firmware','version','WETTER:\x20','fenster','saveFeedback','Scheduling\x20Morning\x20Briefing\x20for\x20','VACATION','11bKGtkV','onReady','GUEST','search','system.meta.uuid','analysis.history_debug_02','notifyEmailEnabled','ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20','subscribeStates','Aktiv\x20(','length','getCalendarNames\x20Error:\x20','warn','error','Sending\x20notification:\x20\x22','triggerBriefing','notifyWhatsappRecipient','includes','indicator','ltmJob','Last\x20raw\x20event','uuid-not-found','toISOString','PRIORITÃT:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungewÃ¶hnliche\x20Anwesenheit.','eventHistory','ð¨\x20EMERGENCY','Daily\x20Digests','Daily\x20Digest\x20erstellt\x20&\x20gespeichert.','onUnload','updateBaselineStatus','exitGraceTimer','party','object','Baseline\x20Status','logDuplicates','\x20raw\x20events...','Description','retry','Success','presenceDevices','_calName','Starting\x20Autopilot\x20(','aiPersona','analysis.trigger','longitude','accuweather.0','apply','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT\x20(Wohnen):\x20','lastAlertState','cogni-living','diele','SABOTAGE','useWeather','N/A','saveRawEventLog','.Summary.Current','generic','741402AMncyi','ical.0','Adapter','exports','Schlafzimmer','Gast','currentSystemMode','light','analysis.health.sleepScore','boolean','constructor','extendObjectAsync','.TEST','_score','system.config','sleepScore','isProVersion','licenseKey','No\x20Key','date','getStateAsync','updateAnalysisHistory','split','number','\x20(EMERGENCY)','TEST-PRO-KEY','analysis.history_debug_04','application/json','systemUUID','callback','analysis.history_debug_01','ROLLE:\x20FÃ¼rsorglicher\x20Assistent.\x0a\x20\x20\x20\x20\x20\x20\x20\x20AUFGABE:\x20Schreibe\x20eine\x20kurze,\x20beruhigende\x20\x22Guten\x20Morgen\x22-Nachricht\x20an\x20die\x20AngehÃ¶rigen/Bewohner.\x0a\x20\x20\x20\x20\x20\x20\x20\x20TON:\x20Freundlich,\x20professionell,\x20kurz.\x0a\x20\x20\x20\x20\x20\x20\x20\x20PERSONA\x20(Fokus):\x20','unload','health','258nePeZI','370836WIvqPc','analysis.deviationFromBaseline','setState','ð¨ð¨\x20NOTFALL','splice','isArray','namespace','/100\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20AktivitÃ¤t\x20seit\x2004:00\x20Uhr:\x20','PRIORITÃT:\x20Gesundheit\x20und\x20Sicherheit\x20fÃ¼r\x20Senioren\x20(AAL).\x20Erkenne\x20InaktivitÃ¤t,\x20potenzielle\x20StÃ¼rze\x20(indirekt),\x20Schlafunterbrechungen\x20und\x20nÃ¤chtliche\x20Unruhe.','message','sendToAsync','startsWith','indicator.alarm','from','systemConfig','latitude','analysis.analysisHistory','enum','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','activity','DIRECTION','analysisHistory','Drift\x20Sched\x20Error:\x20','apiKey','startExitTimer','Lernphase\x20(','.\x20PRÃSENZ:\x20','activityLevel','tryParse','common','temperature','Gemini\x20AI\x20initialized.','WETTER\x20ERROR:\x20','events.history','text','description','Briefing\x20Error:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INPUT:\x20','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20EXTERNER\x20KONTEXT\x20(WICHTIG):\x20','6295NrhdHd','driftAnalysisTimer','Comfort\x20Suggestion','Event\x20History','accuweather','processSensorEvent','Morning\x20Briefing\x20sent.','cogni-living\x20adapter\x20starting\x20(v','bÃ¼ro','No\x20instance','sendTo','config','feedbackHistory','minDaysForBaseline','online','[TEST]\x20','join','notifyPushoverRecipient','toLowerCase','normal',')\x20-\x20OBFUSCATION\x20SAFE\x20MODE','update','Activity\x20Summary','notifySignalInstance','KALENDER:\x20','door','No\x20recorded\x20events\x20yet.','subscribeForeignStatesAsync','Drift\x20Details','.SECTION','rawEventLog','\x20min).\x20Watchdog\x20Limit:\x20','sort','setPresence','exitTimer','2-digit','events.lastEvent','notifyPushoverEnabled','.\x20PERSONA:\x20','Baseline:\x20Inactive\x20(Pro\x20Feature).','analysis.automation.suggestedAction','humidity','.INSTALL_TEST','setupDriftAnalysisScheduler','Health\x20&\x20Sleep\x20Analysis','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20MODUS:\x20','Missing\x20data','models/gemini-flash-latest','\x0aFEEDBACK:\x0a','getGenerativeModel','toString','08:00','generateContent','Feedback\x20Log','bad','Last\x20Check','KALENDER:\x20Keine\x20Daten','events.history_debug_00','Flur','\x20|\x20','System\x20Mode','\x20Tage)','licht','sound','system.isPresent','setupModeResetScheduler','Last\x20Result','ROLLE:\x20Data\x20Analyst.\x20AUFGABE:\x20Fasse\x20den\x20heutigen\x20Tag\x20basierend\x20auf\x20den\x20Sensor-Logs\x20zusammen.\x0a\x20\x20\x20\x20\x20\x20\x20\x20PERSONA:\x20','Wohnzimmer','getForeignObjectAsync','analysis.health.restlessness','dimmer','material.','CRITICAL\x20WARNING:\x20No\x20sensor\x20activity\x20detected\x20for\x20','alertReason','cancel','Health\x20Notes','isEmergency','Kalender:\x20Deaktiviert','stringify','temp','checkLicense','getForeignStateAsync','schalter','setHours','map','\x22\x20was\x20','.forecast.current.state','analysis.comfortSuggestion','analysis.automation.description','vis.','val','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','siren','icon','Error\x20reading\x20calendar\x20table:\x20','de-DE','createAllObjects','CONFIG_PENDING','openweathermap','User\x20Feedback:\x20Alarm\x20\x22','members','\x0a!!!\x20EXTERNAL\x20SYSTEM\x20WARNING\x20!!!\x0a','system.mode','LTM.driftAnalysis.lastCheck','loadRawEventLog','N/A\x20(Learning)','LTM','notifyWhatsappEnabled','Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','channel','isGracePeriodActive','LTM.dailyDigests','License\x20Check\x20failed:\x20','Analysis\x20Error:\x20','string','analysisTimer','2836pVbeLO','initZombies','checkSystemObjects','runBaselineDriftAnalysis','Pattern\x20Detected','info','dailyDigests','LTM.driftAnalysis.driftDetails','.\x20ORT:\x20','switch','PARTY','name','response','Error\x20in\x20onMessage\x20command\x20','sensorLastValues','wohn','events.history_debug_04','0\x204\x20*\x20*\x20*','briefingEnabled','isExit','isPresent','state','json','livingContext','\x20sensors...','guest','4452264kQIuGN','contact','Scanning\x20for\x20devices\x20(Sprint\x2023\x20+\x2023b\x20Logic)...','custom','\x20*\x20*\x20*','Processing\x20Status','checkLtmObjects','setupBriefingScheduler','LTM.driftAnalysis','runAutopilot','find','Drift\x20Status','notes','battery','Cogni-Living\x20Alert','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','tÃ¼r','Deaktiviert\x20(Pro-Feature)','PRO-','setObjectNotExistsAsync','now','city','inactivityMonitoringEnabled','analysis.health.notes','System\x20Status\x20&\x20Control','Logbook','getObjectAsync','push','ack','trim','events.history_debug_02','checkWifiPresence','filter','ltmDriftCheckIntervalHours','unshift','suggestedAction','NORMAL','instance','KÃ¼che','testApiKey','350497CfFOvm','Raw\x20Log','send','inactivityThresholdHours','native','runGeminiAnalysis','analysis.comfortSummary','uuid-error','Analysiere\x20Tag...','flur','location','notifyPushoverInstance','scheduleJob','FAULT','uuid','Normal','toFixed','testNotification','Trigger\x20Analysis','restlessness','parse','ð\x20Daily\x20Briefing:\x0a','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ZUSATZ-KONTEXT:\x20','openweathermap.0','Badezimmer','getCalendarContext','automationProposal','â ï¸\x20Alarm','KALENDER:\x20Keine\x20Kalender\x20ausgewÃ¤hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)','calendarSelection','saveDailyDigests','notifySignalEnabled','thermostat','geminiApiKey','\x20sent','values','getWeatherContext','notifyWhatsappInstance','Subscribing\x20to\x20','DUTYCYCLE','daswetter','133990SEtVRG','test','patternDetected','devices','analysis.activitySummary','motion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT\x20(Wer\x20wohnt\x20hier?):\x20','role','details','Zu\x20wenig\x20Daten\x20fÃ¼r\x20Daily\x20Digest.','baselineDrift','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20DATEN:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20SchlafqualitÃ¤t\x20letzte\x20Nacht:\x20','expire','summary','analysis.lastResult','Fehler:\x20','AI\x20Alert\x20Status','none','wetter','slice','lampe','analysis.isEmergency','initPresenceSubscriptions','log','notifyTelegramInstance','abortExitTimer','history','@google/generative-ai','presence','getSystemUUID','button','\x0a\x0aA\x20(STB):\x0a','ERROR','deviationFromBaseline','triggerDailyDigest','WORKING','admin.','sendNotification','BÃ¼ro','Action','command','isAlert','replace','geminiModel','klima','setStateAsync','notifyEmailInstance','onMessage','analysis.triggerBriefing','ltmLtbWindowDays','56vjxvWQ','submitFeedback','ltmStbWindowDays','driftDetails','all_lights','STICKY_UNREACH','pop','analysis.history_debug_00','group','.NextHours.Location_1.Day_1.current.symbol_desc','comfort','initSystemConfig','Gemini\x20Init\x20Error:\x20','time','some','onStateChange','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AUFGABE:\x20Analysiere\x20die\x20Events\x20auf\x20AktivitÃ¤t,\x20Komfort\x20und\x20GESUNDHEIT.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20Nutze\x20den\x20EXTERNEN\x20KONTEXT\x20(Wetter/Kalender)\x20um\x20Fehlalarme\x20zu\x20vermeiden\x20(z.B.\x20Regen\x20=\x20keine\x20GartenaktivitÃ¤t,\x20Termin\x20=\x20Abwesend).\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22isEmergency\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number\x20(0-100),\x20\x22restlessness\x22:\x20\x22none|low|medium|high\x22,\x20\x22notes\x22:\x20\x22string\x22\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','loadSystemMode','Error\x20creating\x20objects:\x20','enum.functions.*','KALENDER:\x20Keine\x20relevanten\x20Termine','initSensorSubscriptions','\x20hours.\x20The\x20resident\x20might\x20be\x20incapacitated.\x20Risk\x20level:\x20HIGH.','loadDailyDigests','sensor.alarm','ROLLE:\x20Data\x20Scientist.\x20VERGLEICHE:\x20Dataset\x20A\x20(Recent)\x20vs\x20B\x20(Established).\x20ZIEL:\x20Erkenne\x20Drift.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aB\x20(LTB):\x0a'];a0_0x3826=function(){return _0x43a0da;};return a0_0x3826();}if(require['main']!==module)module[a0_0x485211(0x2fe)]=_0x5a8a80=>new CogniLiving(_0x5a8a80);else new CogniLiving();