const a0_0x719927=a0_0x3d36;function a0_0x3d36(_0x47f852,_0x2c5aae){const _0x469aea=a0_0xa25f();return a0_0x3d36=function(_0x5ade8d,_0x1c35ba){_0x5ade8d=_0x5ade8d-0x7f;let _0xa25f5f=_0x469aea[_0x5ade8d];return _0xa25f5f;},a0_0x3d36(_0x47f852,_0x2c5aae);}(function(_0x394e3d,_0x1f97c7){const _0x284820=a0_0x3d36,_0x1276ed=_0x394e3d();while(!![]){try{const _0x43af4f=-parseInt(_0x284820(0x113))/0x1*(-parseInt(_0x284820(0x1ab))/0x2)+parseInt(_0x284820(0x1be))/0x3*(-parseInt(_0x284820(0x135))/0x4)+parseInt(_0x284820(0x151))/0x5+-parseInt(_0x284820(0x15e))/0x6+parseInt(_0x284820(0x121))/0x7+parseInt(_0x284820(0x136))/0x8+parseInt(_0x284820(0x1c5))/0x9;if(_0x43af4f===_0x1f97c7)break;else _0x1276ed['push'](_0x1276ed['shift']());}catch(_0x488706){_0x1276ed['push'](_0x1276ed['shift']());}}}(a0_0xa25f,0xd5d3c));const a0_0x1c35ba=(function(){let _0x8a6686=!![];return function(_0x122f09,_0x2a578c){const _0x17f0ba=_0x8a6686?function(){const _0x219b3d=a0_0x3d36;if(_0x2a578c){const _0x28ba8b=_0x2a578c[_0x219b3d(0xfb)](_0x122f09,arguments);return _0x2a578c=null,_0x28ba8b;}}:function(){};return _0x8a6686=![],_0x17f0ba;};}()),a0_0x5ade8d=a0_0x1c35ba(this,function(){const _0x2ef4ce=a0_0x3d36;return a0_0x5ade8d[_0x2ef4ce(0x15b)]()[_0x2ef4ce(0x1b5)](_0x2ef4ce(0x142))[_0x2ef4ce(0x15b)]()['constructor'](a0_0x5ade8d)[_0x2ef4ce(0x1b5)]('(((.+)+)+)+$');});function a0_0xa25f(){const _0x537a17=['Verbindung\x20erfolgreich!','Kein\x20Kalender-Adapter','updateLocation','trackerEnabled','3048525qcSeKy','stateChange','runBaselineDriftAnalysis','window','checkCalendarTriggers','\x20Tage)','simulateButler','updateTopology','./lib/ai_agent','moduleHealth','toString','getHours','floor','7388286MtNeKz','ðŸ“…\x20Midnight\x20Reset:\x20Archiving\x20Room\x20Stats\x20(Yesterday\x20<-\x20Today).','analysis.training.triggerHealth','Key\x20not\x20found\x20or\x20not\x20provided','[Infrasound]\x20ðŸš¨\x20ALARM\x20TRIGGERED!\x20Pressure\x20Wave:\x20','getEnums','analysis.automation.description','checkAndInstall','ANALYZE_GAIT','telegram','Kein\x20Wetter-Adapter','integrateRoomTime','communicate.request','SET_TOPOLOGY','\x20opened.\x20Peak\x20Pressure:\x20','refreshCalendar','Could\x20not\x20read\x20daily\x20vector:\x20','Active\x20Ventilation\x20Alerts','times','analysis.energy.warmupSources','dailyDigests','analysis.energy.warmupTimes','analyzeWindowOpening','analysis.automation.targetId','TRACK_EVENT','notifyPushoverInstance','analysis.trigger','driftAnalysisTimer','sources','analysis.health.gaitSensors','analysis.energy.pinnForecast','automation.triggerAction','sensor.door','modeResetJob','.data.table','sendTo','json','ANOMALY\x20(Real\x20Threat?)','analysis.security.learningStatus','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','temperature','Warm-Up\x20Target\x20Temps\x20(JSON)','testContext','yesterday','memoryCache','security.alarm_triggered','push','common','daswetter.0','Fehler:\x20','guest','sort','today','rawEventLog','timestamp','analysis.health.activityTrend','isArray','notifyTelegramInstance','sonn','some','triggerInfrasoundCorrelation','key','triggerBriefing','Guest\x20Mode','LTM.rawEventLog','object','now','NORMAL','dependencyInstallInProgress','useWeather','handleInfrasound','updateHealthVector','Daily\x20Activity\x20Vector\x20(24h)','value','\x20hPa.\x20Einbruch\x20wahrscheinlich.','loadSystemMode','briefingJob','18TukFTr','thermostat','klar','Room\x20Dwell\x20Time\x20Stats\x20(Today/Yesterday)','text','analysisInterval','analysis.triggerBriefing','analysis.automation.targetValue','ltmJob','warn','search','analysis.prediction.trackerConfidence','getLtmData','setStateAsync','Gait\x20Speed\x20Calculation\x20Proof','PINN\x20AI\x20Forecast','infrasoundArmingId','analysis.energy.rlPenalties','calendarInstance','36CxnCKO','minutes_safe','location','\x20hPa\x20(Threshold:\x20','getForeignObjectsAsync','string','getStateAsync','5794191yDlabz','magnet','moduleSecurity','Unknown','generateContent','models/gemini-flash-latest','length','stringify','devices','analysis.topology.structure','Party\x20Mode','subscribeForeignStatesAsync','analysis.energy.activeEnforcements','cancel','setObjectNotExistsAsync','Test','val','Aktiv\x20(','sunny','setPresence','values','debug','unshift','[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]','triggerGaitAnalysis','[Forensics]\x20Infrasound\x20Event\x20correlated:\x20','analysis.health.todayVector','createAllObjects','system.mode','forEach','join','initHistory','enum.rooms.*','setupLtmScheduler','createDailyDigest','infrasoundLocked','./lib/scanner','@iobroker/adapter-core','SET_LEARNING_MODE','checkSolarCondition','roomIntegratorTimer','type','TRAIN_HEALTH','analysis.health.gaitDebug','namespace','accuweather.0','LTM.triggerDailyDigest','exitTimer','role','send','getMinutes','manual','getForeignStateAsync','endsWith','Heizung\x20kann\x20','analysis.training.triggerSecurity','parse','OPTIMIZE_ENERGY','geminiModel','Daten\x20nicht\x20verfÃ¼gbar','PYTHON_EXE','simulateEnergyMPC','log','runGeminiAnalysis','apiKey','system.adapter.','calendarName','moduleComfort','toLocaleDateString','config','entries','Nuukanni\x20Security','Simulation\x20durch\x20Admin\x20(Test)','SYSTEM_DP_MODE','analysis.training.triggerEnergy','PREDICT_ENERGY','sendMorningBriefing','notifyTelegramEnabled','checkWifiPresence','checkLicense','./lib/dead_man','moduleEnergy','analysis.training.triggerComfort','pop','getGenerativeModel','getOverviewData','lastTrackerEventTime','monitorEnforcements','ALARM','open','exports','analysis.security.infrasoundLog','infrasoundSensorId','from','ðŸ§ \x20Memory:\x20Cache\x20hydrated\x20with\x20','analysis.training.triggerTopology','isProVersion','analysis.automation.patternDetected','NextHours.Location_1.Day_1.current.symbol_desc','inactivityThresholdHours','info','onMessage','CALIB','initZombies','Active\x20Calendar\x20Enforcements\x20(Locks)','analysis.energy.warmupTargets','state','party','initSystemConfig','checkThermostats','healthTrendInterval','Instanz\x20nicht\x20gefunden','weatherunderground.0','ack','Comfort\x20Train\x20Error:\x20','lastAlertState','currentSystemMode','LTM.dailyDigests','[Infrasound]\x20ðŸŸ¡\x20Debug-Mode:\x20Alarm\x20detected\x20but\x20suppressed\x20because\x20presence=true.','onReady','door','TRAIN_TOPOLOGY','SYSTEM_MODES','notifyPushoverEnabled','Gemini\x20Init\x20Error:\x20','./lib/installer','Fenster\x20geÃ¶ffnet:\x20','Lernphase\x20(','reed','analysis.energy.ventilationAlerts','cogni-living\x20adapter\x20starting\x20(v','getForeignObjectAsync','name','Sec-Training\x20started...','command','_calName','analysisHistory','matrix','abortExitTimer','subscribeStates','Init...','version','analysis.energy.mpcActive','apply','sendNotification','ErklÃ¤rt\x20durch:\x20','runPythonHealthCheck','presenceDevices','enum','pressureBuffer','testApiKey','error','TRAIN_COMFORT','LTM.baselineStatus','analysis.prediction.trackerTopRoom','eventHistory','LTM.trainingData.thermodynamics','setState','startSystem','scanForDevices','motion','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','[Calibration]\x20Window\x20','./lib/automation','add','protectAiMemory','forecast.current.weather','44909wpkMTl','analysis.activity.roomStats','includes','LTM.trainingData.sequences','abs','getState','systemConfig','Current.WeatherText','Keine\x20Antwort\x20von\x20Gemini','enum.functions.*','triggerEnergyPrediction','Notification\x20Test\x20Failed:\x20','callback','VACATION','21217VFUsyc','setupDriftAnalysisScheduler','setupModeResetScheduler','toLowerCase','updateSchedulePreview','analysisTimer','system.presenceWho','isPresent','onUnload','genAI','licenseKey','toFixed','fill','number','ready','scores','geminiApiKey','isSolar','analysis.automation.autoApply','date','204664HuSifc','8483944RtzpVq','sensorLastValues','analysis.training.status','Standard','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','TRAIN_ENERGY','trackerHeartbeat','bootTime','bind','appendToLog','Memory\x20Hydration\x20Failed:\x20','Adapter','(((.+)+)+)+$','scanDevices','application/json','Keine\x20Sensor-AktivitÃ¤t','split','infrasoundEnabled','./lib/python_bridge','onStateChange','getOutsideTemperatureNumeric','setHours','message'];a0_0xa25f=function(){return _0x537a17;};return a0_0xa25f();}a0_0x5ade8d();'use strict';const utils=require(a0_0x719927(0x91)),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require(a0_0x719927(0xe9)),scanner=require(a0_0x719927(0x90)),schedulers=require('./lib/scheduler'),topology=require('./lib/topology'),setup=require('./lib/setup'),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x719927(0x148)),aiAgent=require(a0_0x719927(0x159)),deadMan=require(a0_0x719927(0xbc)),automation=require(a0_0x719927(0x10f)),GEMINI_MODEL=a0_0x719927(0x1ca);class CogniLiving extends utils[a0_0x719927(0x141)]{constructor(_0x359940){const _0x949ded=a0_0x719927;super({..._0x359940,'name':'cogni-living'}),this['eventHistory']=[],this['analysisHistory']=[],this[_0x949ded(0x193)]=[],this[_0x949ded(0x172)]=[],this['sensorLastValues']={},this[_0x949ded(0x119)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x949ded(0x128)]=!![],this[_0x949ded(0x9b)]=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this[_0x949ded(0x12a)]=null,this[_0x949ded(0xa6)]=null,this[_0x949ded(0xe0)]=setup[_0x949ded(0xe6)][_0x949ded(0x1a1)],this[_0x949ded(0xcc)]=![],this[_0x949ded(0xdf)]=![],this['analysisTimer']=null,this['ltmJob']=null,this[_0x949ded(0x17f)]=null,this[_0x949ded(0x179)]=null,this[_0x949ded(0x1aa)]=null,this[_0x949ded(0x13c)]=null,this[_0x949ded(0xda)]=null,this['roomIntegratorTimer']=null,this[_0x949ded(0x1a2)]=![],this[_0x949ded(0xc2)]=Date[_0x949ded(0x1a0)](),this[_0x949ded(0x18a)]=null,this[_0x949ded(0x13d)]=Date[_0x949ded(0x1a0)](),this[_0x949ded(0x8f)]=![],this['pressureBuffer']=[],this['on'](_0x949ded(0x12f),this[_0x949ded(0xe3)][_0x949ded(0x13e)](this)),this['on'](_0x949ded(0x152),this[_0x949ded(0x149)][_0x949ded(0x13e)](this)),this['on']('unload',this[_0x949ded(0x129)][_0x949ded(0x13e)](this)),this['on'](_0x949ded(0x14c),this[_0x949ded(0xd1)][_0x949ded(0x13e)](this));}async[a0_0x719927(0xe3)](){const _0x4e361f=a0_0x719927;this[_0x4e361f(0xaa)]['info'](_0x4e361f(0xee)+this[_0x4e361f(0xf9)]+')\x20-\x20Phase\x20E\x20(UX\x20&\x20AAL)');if(!installer[_0x4e361f(0x165)](this,()=>this[_0x4e361f(0x10a)]()))return;}async[a0_0x719927(0x10a)](){const _0x368c4b=a0_0x719927;await setup[_0x368c4b(0xd3)](this);try{this[_0x368c4b(0xcc)]=await setup[_0x368c4b(0xbb)](this[_0x368c4b(0xb1)][_0x368c4b(0x12b)]);}catch(_0x279c11){}if(!this[_0x368c4b(0xb1)][_0x368c4b(0xcf)]||this['config'][_0x368c4b(0xcf)]<0.1)this[_0x368c4b(0xb1)][_0x368c4b(0xcf)]=0xc;if(this['config'][_0x368c4b(0x15a)]===undefined)this[_0x368c4b(0xb1)][_0x368c4b(0x15a)]=!![];if(this['config'][_0x368c4b(0x1c7)]===undefined)this[_0x368c4b(0xb1)][_0x368c4b(0x1c7)]=!![];if(this[_0x368c4b(0xb1)][_0x368c4b(0xbd)]===undefined)this[_0x368c4b(0xb1)]['moduleEnergy']=!![];if(this[_0x368c4b(0xb1)]['moduleComfort']===undefined)this[_0x368c4b(0xb1)][_0x368c4b(0xaf)]=!![];await setup[_0x368c4b(0x8b)](this),await setup[_0x368c4b(0xd8)](this);try{const _0x65fad0=await this['getStateAsync'](_0x368c4b(0x173)),_0x25abe0=await this[_0x368c4b(0x1c4)](_0x368c4b(0x171));_0x65fad0&&_0x65fad0[_0x368c4b(0x1d5)]&&_0x25abe0&&_0x25abe0[_0x368c4b(0x1d5)]&&(Date[_0x368c4b(0x1a0)]()-_0x65fad0['ts']<0x4*0xe10*0x3e8&&(this[_0x368c4b(0x18a)]={'times':JSON[_0x368c4b(0xa4)](_0x65fad0['val']),'sources':JSON[_0x368c4b(0xa4)](_0x25abe0[_0x368c4b(0x1d5)])},this[_0x368c4b(0xaa)]['info'](_0x368c4b(0xca)+Object['keys'](this[_0x368c4b(0x18a)][_0x368c4b(0x170)])['length']+'\x20rooms.')));}catch(_0x194498){this[_0x368c4b(0xaa)][_0x368c4b(0x1b4)](_0x368c4b(0x140)+_0x194498[_0x368c4b(0x14c)]);}if(this[_0x368c4b(0xb1)][_0x368c4b(0x131)])try{this[_0x368c4b(0x12a)]=new GoogleGenerativeAI(this['config'][_0x368c4b(0x131)]),this[_0x368c4b(0xa6)]=this['genAI'][_0x368c4b(0xc0)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x368c4b(0x144)}});}catch(_0x1c849c){this[_0x368c4b(0xaa)][_0x368c4b(0x103)](_0x368c4b(0xe8)+_0x1c849c[_0x368c4b(0x14c)]);}await setup[_0x368c4b(0x87)](this),await this[_0x368c4b(0x1a9)](),await this[_0x368c4b(0x1d3)](_0x368c4b(0x114),{'type':'state','common':{'name':_0x368c4b(0x1ae),'type':_0x368c4b(0x1c3),'role':_0x368c4b(0x182),'read':!![],'write':![],'def':'{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}'},'native':{}}),await this[_0x368c4b(0x1d3)](_0x368c4b(0x17c),{'type':_0x368c4b(0xd6),'common':{'name':_0x368c4b(0x1ba),'type':_0x368c4b(0x1c3),'role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x368c4b(0xed),{'type':_0x368c4b(0xd6),'common':{'name':_0x368c4b(0x16f),'type':_0x368c4b(0x1c3),'role':_0x368c4b(0x182),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x368c4b(0x173),{'type':_0x368c4b(0xd6),'common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':'string','role':_0x368c4b(0x182),'read':!![],'write':![]},'native':{}}),await this[_0x368c4b(0x1d3)](_0x368c4b(0xd5),{'type':'state','common':{'name':_0x368c4b(0x187),'type':_0x368c4b(0x1c3),'role':_0x368c4b(0x182),'read':!![],'write':!![],'def':'{\x22default\x22:\x2021}'},'native':{}}),await this[_0x368c4b(0x1d3)](_0x368c4b(0x1bc),{'type':_0x368c4b(0xd6),'common':{'name':'Reinforcement\x20Learning\x20Penalties','type':_0x368c4b(0x1c3),'role':_0x368c4b(0x182),'read':!![],'write':![],'def':'{}'},'native':{}}),await this['setObjectNotExistsAsync'](_0x368c4b(0x195),{'type':_0x368c4b(0xd6),'common':{'name':'General\x20Activity\x20Trend\x20(%)','type':_0x368c4b(0x12e),'role':_0x368c4b(0x1a7),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x368c4b(0x1d3)](_0x368c4b(0x17b),{'type':'state','common':{'name':'Sensors\x20used\x20for\x20Gait\x20Analysis','type':_0x368c4b(0x1c3),'role':_0x368c4b(0x1af),'read':!![],'write':![]},'native':{}}),await this[_0x368c4b(0x1d3)](_0x368c4b(0x1d1),{'type':_0x368c4b(0xd6),'common':{'name':_0x368c4b(0xd4),'type':_0x368c4b(0x1c3),'role':_0x368c4b(0x182),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x368c4b(0x1d3)](_0x368c4b(0xc7),{'type':'state','common':{'name':'Forensic\x20Infrasound\x20Log','type':_0x368c4b(0x1c3),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x368c4b(0x97),{'type':'state','common':{'name':_0x368c4b(0x1b9),'type':_0x368c4b(0x1c3),'role':'text','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x368c4b(0x86),{'type':_0x368c4b(0xd6),'common':{'name':_0x368c4b(0x1a6),'type':_0x368c4b(0x1c3),'role':_0x368c4b(0x182),'read':!![],'write':![],'def':_0x368c4b(0x83)},'native':{}});try{const _0x5432ec=await this[_0x368c4b(0x1c4)](_0x368c4b(0x19e));if(_0x5432ec&&_0x5432ec[_0x368c4b(0x1d5)])this['rawEventLog']=JSON[_0x368c4b(0xa4)](_0x5432ec[_0x368c4b(0x1d5)]);}catch(_0x15e2d6){this[_0x368c4b(0x193)]=[];}try{const _0x54bb96=await this[_0x368c4b(0x1c4)](_0x368c4b(0xe1));if(_0x54bb96&&_0x54bb96['val'])this[_0x368c4b(0x172)]=JSON['parse'](_0x54bb96['val']);}catch(_0x594e6b){this[_0x368c4b(0x172)]=[];}const _0x2dcf93=this[_0x368c4b(0x172)][_0x368c4b(0x1cb)]>=(this[_0x368c4b(0xb1)]['minDaysForBaseline']||0x7)?_0x368c4b(0x1d6)+this[_0x368c4b(0x172)][_0x368c4b(0x1cb)]+_0x368c4b(0x156):_0x368c4b(0xeb)+this[_0x368c4b(0x172)]['length']+'/'+(this[_0x368c4b(0xb1)]['minDaysForBaseline']||0x7)+')';await this[_0x368c4b(0x1b8)](_0x368c4b(0x105),{'val':_0x2dcf93,'ack':!![]}),this[_0x368c4b(0xf7)](_0x368c4b(0x178)),this[_0x368c4b(0xf7)](_0x368c4b(0x9a)),this[_0x368c4b(0xf7)](_0x368c4b(0x88)),this[_0x368c4b(0xf7)](_0x368c4b(0x1b1)),this[_0x368c4b(0xf7)]('analysis.automation.triggerAction'),this[_0x368c4b(0xf7)](_0x368c4b(0x133)),this[_0x368c4b(0xf7)](_0x368c4b(0xa3)),this['subscribeStates'](_0x368c4b(0x160)),this[_0x368c4b(0xf7)](_0x368c4b(0xb6)),this[_0x368c4b(0xf7)]('analysis.training.triggerComfort'),this[_0x368c4b(0xf7)](_0x368c4b(0xcb)),this[_0x368c4b(0xf7)](_0x368c4b(0xfa)),this[_0x368c4b(0xf7)](_0x368c4b(0x171)),this[_0x368c4b(0xf7)](_0x368c4b(0x173));this['config'][_0x368c4b(0x147)]&&this[_0x368c4b(0xb1)][_0x368c4b(0xc8)]&&this['subscribeForeignStates'](this['config'][_0x368c4b(0xc8)]);const _0x33498a=this['config'][_0x368c4b(0x1cd)];if(_0x33498a)for(const _0x1f197e of _0x33498a){await this[_0x368c4b(0x1d0)](_0x1f197e['id']);}const _0x21f706=this[_0x368c4b(0xb1)][_0x368c4b(0xff)];if(_0x21f706)for(const _0x38f0ab of _0x21f706){await this['subscribeForeignStatesAsync'](_0x38f0ab);}if(this[_0x368c4b(0xb1)][_0x368c4b(0xb9)]&&this['config'][_0x368c4b(0x197)])await this['subscribeForeignStatesAsync'](this['config'][_0x368c4b(0x197)]+'.communicate.request');setTimeout(()=>this[_0x368c4b(0xba)](),0x1388);if(this[_0x368c4b(0x126)])clearInterval(this[_0x368c4b(0x126)]);const _0x8ef477=this['config'][_0x368c4b(0x1b0)]||0xf;_0x8ef477>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x5722e9=_0x368c4b;this['runAutopilot'](),this[_0x5722e9(0xb1)][_0x5722e9(0xbd)]!==![]&&automation['monitorEnforcements'](this);},_0x8ef477*0x3c*0x3e8));setTimeout(()=>{const _0x4b6a07=_0x368c4b;this[_0x4b6a07(0xb1)][_0x4b6a07(0xbd)]!==![]&&(automation[_0x4b6a07(0x155)](this),automation[_0x4b6a07(0xc3)](this));},0x2710);this[_0x368c4b(0xb1)][_0x368c4b(0x150)]!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0x36fbb9=_0x368c4b;if(this[_0x36fbb9(0xcc)]){const _0x610137=Date[_0x36fbb9(0x1a0)](),_0x4dbe98=this[_0x36fbb9(0xc2)]||_0x610137,_0x1ad6eb=(_0x610137-_0x4dbe98)/0x3e8;_0x1ad6eb>0x2&&(this['lastTrackerEventTime']=_0x610137,pythonBridge[_0x36fbb9(0x9d)](this,_0x36fbb9(0x176),{'room':null,'dt':_0x1ad6eb}));}},0xbb8));if(this['roomIntegratorTimer'])clearInterval(this[_0x368c4b(0x94)]);this[_0x368c4b(0x169)](),this[_0x368c4b(0x94)]=setInterval(async()=>{const _0xdf4671=_0x368c4b;await this[_0xdf4671(0x169)]();},0x3c*0x3e8);if(this[_0x368c4b(0xda)])clearInterval(this[_0x368c4b(0xda)]);this['healthTrendInterval']=setInterval(()=>{const _0x37f345=_0x368c4b;this[_0x37f345(0xcc)]&&this[_0x37f345(0xb1)][_0x37f345(0x15a)]!==![]&&this[_0x37f345(0xfe)]();},0x4*0x3c*0x3c*0x3e8),schedulers[_0x368c4b(0x8d)](this,()=>aiAgent[_0x368c4b(0x8e)](this,pythonBridge)),schedulers[_0x368c4b(0x123)](this),schedulers[_0x368c4b(0x122)](this,()=>aiAgent[_0x368c4b(0x153)](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge['startService'](this,installer[_0x368c4b(0xa8)]),setTimeout(async()=>{const _0x586183=_0x368c4b;await topology[_0x586183(0x158)](this);try{const _0x680e3b=await this[_0x586183(0x1c4)](_0x586183(0x1ce));if(_0x680e3b&&_0x680e3b[_0x586183(0x1d5)])pythonBridge[_0x586183(0x9d)](this,_0x586183(0x16b),JSON['parse'](_0x680e3b['val']));}catch(_0x49765a){}this[_0x586183(0xb1)][_0x586183(0x15a)]!==![]&&(this['runPythonHealthCheck'](),this[_0x586183(0x84)]()),this['triggerEnergyPrediction'](),this[_0x586183(0x1a5)]();},0x1388);}['onUnload'](_0xcd487){const _0x551f04=a0_0x719927;if(this[_0x551f04(0x126)])clearInterval(this[_0x551f04(0x126)]);if(this[_0x551f04(0x179)])clearInterval(this['driftAnalysisTimer']);if(this[_0x551f04(0x13c)])clearInterval(this[_0x551f04(0x13c)]);if(this[_0x551f04(0xda)])clearInterval(this['healthTrendInterval']);if(this['roomIntegratorTimer'])clearInterval(this[_0x551f04(0x94)]);if(this[_0x551f04(0x1b3)])this[_0x551f04(0x1b3)][_0x551f04(0x1d2)]();if(this[_0x551f04(0x17f)])this[_0x551f04(0x17f)][_0x551f04(0x1d2)]();if(this[_0x551f04(0x1aa)])this['briefingJob'][_0x551f04(0x1d2)]();recorder[_0x551f04(0xf6)](this),pythonBridge['stopService'](this),_0xcd487();}async[a0_0x719927(0x169)](){const _0x5a573f=a0_0x719927;if(!this['isPresent'])return;try{let _0x457af2=null;try{const _0x2b87fa=await this[_0x5a573f(0x1c4)](_0x5a573f(0x106)),_0x342efa=await this[_0x5a573f(0x1c4)](_0x5a573f(0x1b6));_0x2b87fa&&_0x2b87fa[_0x5a573f(0x1d5)]&&_0x342efa&&_0x342efa[_0x5a573f(0x1d5)]&&_0x342efa['val']>0.3&&(_0x457af2=_0x2b87fa['val']);}catch(_0x1de2f2){}if(!_0x457af2||_0x457af2===_0x5a573f(0x1c8)||_0x457af2===_0x5a573f(0xf8))return;const _0x8b08b4='analysis.activity.roomStats',_0x4adb1d=await this[_0x5a573f(0x1c4)](_0x8b08b4);let _0x4b419a={'today':{},'yesterday':{},'date':new Date()[_0x5a573f(0xb0)]()};if(_0x4adb1d&&_0x4adb1d[_0x5a573f(0x1d5)])try{_0x4b419a=JSON['parse'](_0x4adb1d[_0x5a573f(0x1d5)]);}catch(_0x25c2c5){}if(!_0x4b419a['today'])_0x4b419a[_0x5a573f(0x192)]={};if(!_0x4b419a['yesterday'])_0x4b419a['yesterday']={};const _0xe2a5af=new Date()[_0x5a573f(0xb0)]();_0x4b419a[_0x5a573f(0x134)]!==_0xe2a5af&&(this[_0x5a573f(0xaa)][_0x5a573f(0xd0)](_0x5a573f(0x15f)),_0x4b419a[_0x5a573f(0x189)]=_0x4b419a[_0x5a573f(0x192)]||{},_0x4b419a[_0x5a573f(0x192)]={},_0x4b419a[_0x5a573f(0x134)]=_0xe2a5af);if(!_0x4b419a[_0x5a573f(0x192)][_0x457af2])_0x4b419a[_0x5a573f(0x192)][_0x457af2]=0x0;_0x4b419a['today'][_0x457af2]++,await this['setStateAsync'](_0x8b08b4,{'val':JSON[_0x5a573f(0x1cc)](_0x4b419a),'ack':!![]});}catch(_0x1e5035){this[_0x5a573f(0xaa)][_0x5a573f(0x1b4)]('[Integrator]\x20Error:\x20'+_0x1e5035['message']);}}async['onStateChange'](_0x25b33a,_0x48bbb4){const _0x3f94e0=a0_0x719927;if(!_0x48bbb4||this['dependencyInstallInProgress'])return;if(_0x25b33a['includes'](_0x3f94e0(0x167))&&_0x25b33a[_0x3f94e0(0xa1)](_0x3f94e0(0x16a))&&_0x48bbb4['val'])return;if(this[_0x3f94e0(0xb1)]['infrasoundEnabled']&&_0x25b33a===this[_0x3f94e0(0xb1)]['infrasoundSensorId']){this[_0x3f94e0(0x1a4)](_0x48bbb4[_0x3f94e0(0x1d5)]);return;}if(_0x25b33a===this[_0x3f94e0(0x98)]+'.system.mode'){if(_0x48bbb4['val']&&Object['values'](setup[_0x3f94e0(0xe6)])[_0x3f94e0(0x115)](_0x48bbb4['val'])){this[_0x3f94e0(0xe0)]=_0x48bbb4[_0x3f94e0(0x1d5)];if(_0x48bbb4[_0x3f94e0(0x1d5)]===setup[_0x3f94e0(0xe6)][_0x3f94e0(0x120)])await recorder[_0x3f94e0(0x7f)](this,![]);else await recorder[_0x3f94e0(0x7f)](this,!![]);if(this['isProVersion']){let _0x241356=![],_0x23163c=0x0,_0x17c3ad=_0x3f94e0(0x9f);if(this[_0x3f94e0(0xe0)]===_0x3f94e0(0xd7))_0x241356=!![],_0x23163c=0x168,_0x17c3ad=_0x3f94e0(0x1cf);else this[_0x3f94e0(0xe0)]===_0x3f94e0(0x190)&&(_0x241356=!![],_0x23163c=0x5a0,_0x17c3ad=_0x3f94e0(0x19d));pythonBridge[_0x3f94e0(0x9d)](this,_0x3f94e0(0x92),{'active':_0x241356,'duration':_0x23163c,'label':_0x17c3ad}),await this[_0x3f94e0(0x1b8)](_0x3f94e0(0x184),{'val':JSON[_0x3f94e0(0x1cc)]({'active':_0x241356,'label':_0x17c3ad,'timestamp':Date[_0x3f94e0(0x1a0)]()}),'ack':!![]});}}if(!_0x48bbb4[_0x3f94e0(0xdd)])this['setState'](_0x25b33a,{'val':this[_0x3f94e0(0xe0)],'ack':!![]});return;}_0x25b33a[_0x3f94e0(0xa1)](_0x3f94e0(0x171))&&_0x48bbb4['ack']&&this['protectAiMemory'](_0x48bbb4['val']);_0x25b33a['endsWith'](_0x3f94e0(0x173))&&_0x48bbb4[_0x3f94e0(0xdd)]&&(this['config'][_0x3f94e0(0xbd)]!==![]&&automation[_0x3f94e0(0x155)](this));if(!_0x48bbb4['ack']){if(_0x25b33a[_0x3f94e0(0x115)](_0x3f94e0(0x178))&&_0x48bbb4[_0x3f94e0(0x1d5)]){this[_0x3f94e0(0x109)](_0x25b33a,{'val':![],'ack':!![]}),aiAgent[_0x3f94e0(0xab)](this);return;}if(_0x25b33a[_0x3f94e0(0x115)]('triggerDailyDigest')&&_0x48bbb4[_0x3f94e0(0x1d5)]){this[_0x3f94e0(0x109)](_0x25b33a,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x25b33a[_0x3f94e0(0x115)](_0x3f94e0(0x19c))&&_0x48bbb4['val']){this[_0x3f94e0(0x109)](_0x25b33a,{'val':![],'ack':!![]}),aiAgent[_0x3f94e0(0xb8)](this);return;}if(_0x25b33a[_0x3f94e0(0x115)](_0x3f94e0(0x17d))&&_0x48bbb4[_0x3f94e0(0x1d5)]){this[_0x3f94e0(0x109)](_0x25b33a,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x25b33a['includes'](_0x3f94e0(0xa3))&&_0x48bbb4['val']){this[_0x3f94e0(0x109)](_0x25b33a,{'val':![],'ack':!![]});if(this[_0x3f94e0(0xb1)][_0x3f94e0(0x1c7)]===![])return;if(this[_0x3f94e0(0xcc)])try{const _0x469919=await this['getStateAsync'](_0x3f94e0(0x116));if(_0x469919&&_0x469919[_0x3f94e0(0x1d5)]){const _0x3511ef=JSON[_0x3f94e0(0xa4)](_0x469919[_0x3f94e0(0x1d5)]);this['setStateAsync'](_0x3f94e0(0x138),{'val':_0x3f94e0(0xf1),'ack':!![]}),pythonBridge[_0x3f94e0(0x9d)](this,'TRAIN_SECURITY',{'sequences':_0x3511ef});}}catch(_0x52fc4f){}return;}if(_0x25b33a['includes']('analysis.training.triggerHealth')&&_0x48bbb4[_0x3f94e0(0x1d5)]){this[_0x3f94e0(0x109)](_0x25b33a,{'val':![],'ack':!![]});if(this[_0x3f94e0(0xb1)][_0x3f94e0(0x15a)]===![])return;if(this['isProVersion'])try{const _0x12aa22=await this[_0x3f94e0(0x1c4)]('LTM.dailyDigests');if(_0x12aa22&&_0x12aa22[_0x3f94e0(0x1d5)])pythonBridge[_0x3f94e0(0x9d)](this,_0x3f94e0(0x96),{'digests':JSON['parse'](_0x12aa22[_0x3f94e0(0x1d5)])});}catch(_0x45f5a4){}return;}if(_0x25b33a['includes'](_0x3f94e0(0xb6))&&_0x48bbb4[_0x3f94e0(0x1d5)]){this[_0x3f94e0(0x109)](_0x25b33a,{'val':![],'ack':!![]});if(this[_0x3f94e0(0xb1)][_0x3f94e0(0xbd)]===![])return;if(this['isProVersion'])try{const _0x4bacbb=await this['getStateAsync'](_0x3f94e0(0x108));if(_0x4bacbb&&_0x4bacbb[_0x3f94e0(0x1d5)])pythonBridge[_0x3f94e0(0x9d)](this,_0x3f94e0(0x13b),{'points':JSON[_0x3f94e0(0xa4)](_0x4bacbb[_0x3f94e0(0x1d5)])});}catch(_0x3a2371){}return;}if(_0x25b33a['includes'](_0x3f94e0(0xbe))&&_0x48bbb4[_0x3f94e0(0x1d5)]){this[_0x3f94e0(0x109)](_0x25b33a,{'val':![],'ack':!![]});if(this[_0x3f94e0(0xb1)][_0x3f94e0(0xaf)]===![])return;if(this[_0x3f94e0(0xcc)])try{const _0x36a311=await this[_0x3f94e0(0x1c4)]('LTM.rawEventLog');if(_0x36a311&&_0x36a311[_0x3f94e0(0x1d5)]){const _0x3ec4f3={};this[_0x3f94e0(0xb1)]['devices']&&Array[_0x3f94e0(0x196)](this[_0x3f94e0(0xb1)][_0x3f94e0(0x1cd)])&&this[_0x3f94e0(0xb1)]['devices'][_0x3f94e0(0x89)](_0x2c7bb2=>{const _0x20a557=_0x3f94e0;if(_0x2c7bb2['id']&&_0x2c7bb2[_0x20a557(0x95)])_0x3ec4f3[_0x2c7bb2['id']]=_0x2c7bb2[_0x20a557(0x95)];}),pythonBridge['send'](this,_0x3f94e0(0x104),{'events':JSON[_0x3f94e0(0xa4)](_0x36a311[_0x3f94e0(0x1d5)]),'deviceMap':_0x3ec4f3});}}catch(_0x198f6c){this[_0x3f94e0(0xaa)][_0x3f94e0(0x103)](_0x3f94e0(0xde)+_0x198f6c['message']);}return;}if(_0x25b33a['includes'](_0x3f94e0(0xcb))&&_0x48bbb4['val']){this[_0x3f94e0(0x109)](_0x25b33a,{'val':![],'ack':!![]}),topology[_0x3f94e0(0x158)](this);if(this['isProVersion'])try{const _0x150523=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x150523&&_0x150523['val']){const _0x1b60ae=JSON[_0x3f94e0(0xa4)](_0x150523[_0x3f94e0(0x1d5)]);pythonBridge['send'](this,_0x3f94e0(0xe5),{'sequences':_0x1b60ae});}}catch(_0x38ece5){this['log'][_0x3f94e0(0x103)]('Graph-Brain\x20Train\x20Error:\x20'+_0x38ece5[_0x3f94e0(0x14c)]);}return;}}const _0x589cd2=(this[_0x3f94e0(0xb1)][_0x3f94e0(0x1cd)]||[])['find'](_0xa91698=>_0xa91698['id']===_0x25b33a);if(_0x589cd2){const _0x13377f=await recorder['processSensorEvent'](this,_0x25b33a,_0x48bbb4,_0x589cd2);_0x13377f&&_0x13377f[_0x3f94e0(0x95)]===_0x3f94e0(0x10c)&&_0x13377f[_0x3f94e0(0x1c0)]&&this['isProVersion']&&(this[_0x3f94e0(0xb1)][_0x3f94e0(0x1c7)]!==![]&&deadMan[_0x3f94e0(0x14f)](this,_0x13377f[_0x3f94e0(0x1c0)])),_0x48bbb4['val']&&(_0x48bbb4['val']===!![]||_0x48bbb4[_0x3f94e0(0x1d5)]===0x1||String(_0x48bbb4[_0x3f94e0(0x1d5)])[_0x3f94e0(0x124)]()===_0x3f94e0(0xc5))&&(_0x589cd2[_0x3f94e0(0x95)]&&(_0x589cd2[_0x3f94e0(0x95)]['includes'](_0x3f94e0(0x154))||_0x589cd2[_0x3f94e0(0x95)][_0x3f94e0(0x115)]('door')||_0x589cd2[_0x3f94e0(0x95)]['includes']('magnet'))&&this[_0x3f94e0(0x174)](_0x589cd2)),(_0x589cd2[_0x3f94e0(0x95)]==='temperature'||_0x589cd2['type']===_0x3f94e0(0x1ac))&&(this['config'][_0x3f94e0(0xbd)]!==![]&&automation['cleanupGhostInterventions'](this));}}async[a0_0x719927(0x111)](_0x5d48df){const _0x549f18=a0_0x719927;if(!this['memoryCache']||Date[_0x549f18(0x1a0)]()-this[_0x549f18(0x13d)]>0x493e0)return;if(!this[_0x549f18(0x18a)][_0x549f18(0x17a)]||!this[_0x549f18(0x18a)][_0x549f18(0x170)])return;try{const _0x597d6e=JSON[_0x549f18(0xa4)](_0x5d48df),_0x51cd1b=this['memoryCache'][_0x549f18(0x17a)];let _0x4d7560=![];for(const _0x5eee09 in _0x51cd1b){if(_0x51cd1b[_0x5eee09][_0x549f18(0x115)]('AI')&&_0x597d6e[_0x5eee09]&&!_0x597d6e[_0x5eee09][_0x549f18(0x115)]('AI')){_0x4d7560=!![];break;}}_0x4d7560&&(await this[_0x549f18(0x1b8)](_0x549f18(0x173),{'val':JSON[_0x549f18(0x1cc)](this['memoryCache']['times']),'ack':!![]}),await this[_0x549f18(0x1b8)]('analysis.energy.warmupSources',{'val':JSON['stringify'](this['memoryCache'][_0x549f18(0x17a)]),'ack':!![]}));}catch(_0x40b436){}}async[a0_0x719927(0xd1)](_0x498dd1){const _0x5c6b4f=a0_0x719927;if(typeof _0x498dd1==='object'&&_0x498dd1[_0x5c6b4f(0x14c)]){if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0xd9))try{const _0x54f875=await automation['scanThermostats'](this);this[_0x5c6b4f(0x181)](_0x498dd1['from'],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![],'results':_0x54f875},_0x498dd1[_0x5c6b4f(0x11f)]);}catch(_0x16c8e0){this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1['command'],{'success':![],'error':_0x16c8e0[_0x5c6b4f(0x14c)]},_0x498dd1[_0x5c6b4f(0x11f)]);}else{if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0xc1)){const _0x45389b=this[_0x5c6b4f(0x172)][_0x5c6b4f(0x1cb)];let _0x259ac7=new Array(0x18)[_0x5c6b4f(0x12d)](0x0);try{const _0x2dc814=await this['getStateAsync']('analysis.health.todayVector');if(_0x2dc814&&_0x2dc814[_0x5c6b4f(0x1d5)])_0x259ac7=JSON['parse'](_0x2dc814['val']);else{const _0x11312c=new Date()[_0x5c6b4f(0x14b)](0x0,0x0,0x0,0x0);this[_0x5c6b4f(0x107)]&&this[_0x5c6b4f(0x107)]['forEach'](_0x2d22ec=>{const _0x585983=_0x5c6b4f;if(_0x2d22ec[_0x585983(0x194)]>=_0x11312c){const _0x1231b6=new Date(_0x2d22ec[_0x585983(0x194)])[_0x585983(0x15c)]();if(_0x1231b6>=0x0&&_0x1231b6<0x18)_0x259ac7[_0x1231b6]++;}});}}catch(_0x413f43){this[_0x5c6b4f(0xaa)]['warn'](_0x5c6b4f(0x16e)+_0x413f43[_0x5c6b4f(0x14c)]);}let _0x40dfcb={'today':{},'yesterday':{}};try{const _0x333d0e=await this['getStateAsync'](_0x5c6b4f(0x114));if(_0x333d0e&&_0x333d0e[_0x5c6b4f(0x1d5)])_0x40dfcb=JSON[_0x5c6b4f(0xa4)](_0x333d0e[_0x5c6b4f(0x1d5)]);}catch(_0x2ddecb){}let _0xd393e1=![],_0xe2eb4a='',_0x42b29e='',_0xcce223='';try{const _0x400b09=await this[_0x5c6b4f(0x1c4)]('analysis.automation.patternDetected');if(_0x400b09&&_0x400b09[_0x5c6b4f(0x1d5)]){_0xd393e1=!![];const _0x181dca=await this[_0x5c6b4f(0x1c4)](_0x5c6b4f(0x164));_0xe2eb4a=_0x181dca?_0x181dca['val']:'';const _0x2373b9=await this[_0x5c6b4f(0x1c4)](_0x5c6b4f(0x175));_0x42b29e=_0x2373b9?_0x2373b9[_0x5c6b4f(0x1d5)]:'';const _0x246519=await this[_0x5c6b4f(0x1c4)](_0x5c6b4f(0x1b2));_0xcce223=_0x246519?_0x246519[_0x5c6b4f(0x1d5)]:'';}}catch(_0xa78d57){}const _0x5a61b9=await this[_0x5c6b4f(0x93)](),_0x15ca14=(this[_0x5c6b4f(0xb1)][_0x5c6b4f(0x1cd)]||[])[_0x5c6b4f(0x199)](_0x2ce70c=>_0x2ce70c['isSolar']),_0x30af57=_0x5a61b9&&_0x15ca14;let _0x4c734e='';try{const _0x264b24=await this['getStateAsync'](_0x5c6b4f(0x127));if(_0x264b24&&_0x264b24[_0x5c6b4f(0x1d5)])_0x4c734e=_0x264b24['val'];}catch(_0x38b633){}this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![],'eventHistory':this[_0x5c6b4f(0x107)]['slice'](0x0,0x64),'stats':{'digestCount':_0x45389b,'isPresent':this[_0x5c6b4f(0x128)],'hourlyActivity':_0x259ac7,'solarActive':_0x30af57,'presenceWho':_0x4c734e,'roomStats':_0x40dfcb},'automation':{'detected':_0xd393e1,'description':_0xe2eb4a,'targetId':_0x42b29e,'targetValue':_0xcce223}},_0x498dd1[_0x5c6b4f(0x11f)]);}else{if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0xa9))try{const {current_temps:_0x44aba7,t_out:_0x3ba3e4,targets:_0x98fb2,t_forecast:_0x1de2ae}=_0x498dd1['message'],_0x12e054=[];let _0x9e517c={};try{const _0x27ea6f=await this[_0x5c6b4f(0x1c4)]('analysis.energy.insulationScore');if(_0x27ea6f&&_0x27ea6f['val']){const _0x4b388f=JSON[_0x5c6b4f(0xa4)](_0x27ea6f[_0x5c6b4f(0x1d5)]);_0x9e517c=_0x4b388f[_0x5c6b4f(0x130)]||_0x4b388f;}}catch(_0x228c4f){}const _0x3be1d6=_0x1de2ae!==undefined&&_0x1de2ae!==null?(_0x3ba3e4+_0x1de2ae)/0x2:_0x3ba3e4;for(const [_0x3deb9e,_0x49afec]of Object[_0x5c6b4f(0xb2)](_0x44aba7)){const _0x3660d1=_0x98fb2[_0x3deb9e]||0x15;if(_0x49afec<=_0x3660d1)continue;let _0x32c1ae=_0x9e517c[_0x3deb9e]||-0.5;if(_0x32c1ae>=0x0)_0x32c1ae=-0.5;const _0x437596=Math[_0x5c6b4f(0x117)](_0x32c1ae),_0x1c4034=_0x49afec-_0x3660d1;let _0x2d7425=Math[_0x5c6b4f(0x15d)](_0x1c4034/_0x437596*0x3c);const _0x32fa81=_0x49afec-_0x3ba3e4,_0x4595e4=_0x49afec-_0x3be1d6;if(_0x4595e4!==0x0&&_0x32fa81!==0x0){const _0x5573d9=_0x32fa81/_0x4595e4;_0x2d7425=Math[_0x5c6b4f(0x15d)](_0x2d7425*_0x5573d9);}if(_0x2d7425>0xf){if(_0x2d7425>0xf0)_0x2d7425=0xf0;_0x12e054[_0x5c6b4f(0x18c)]({'room':_0x3deb9e,'minutes_safe':_0x2d7425,'target':_0x3660d1,'current':_0x49afec,'savings_msg':_0x5c6b4f(0xa2)+_0x2d7425+'\x20min\x20ausbleiben.'});}}_0x12e054[_0x5c6b4f(0x191)]((_0x494a18,_0x5947ea)=>_0x5947ea['minutes_safe']-_0x494a18[_0x5c6b4f(0x1bf)]),this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![],'proposals':_0x12e054},_0x498dd1[_0x5c6b4f(0x11f)]);}catch(_0x4ba2f3){this[_0x5c6b4f(0x181)](_0x498dd1['from'],_0x498dd1[_0x5c6b4f(0xf2)],{'success':![],'error':_0x4ba2f3['message']},_0x498dd1[_0x5c6b4f(0x11f)]);}else{if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0x16d))try{await automation[_0x5c6b4f(0x125)](this),this['sendTo'](_0x498dd1['from'],_0x498dd1['command'],{'success':!![]},_0x498dd1['callback']);}catch(_0x311c90){this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':![],'error':_0x311c90[_0x5c6b4f(0x14c)]},_0x498dd1[_0x5c6b4f(0x11f)]);}else{if(_0x498dd1['command']==='resetRLPenalty')try{const _0x143b36=_0x498dd1[_0x5c6b4f(0x14c)][_0x5c6b4f(0x19b)],_0x3ad0e7='analysis.energy.rlPenalties',_0x19699f=await this['getStateAsync'](_0x3ad0e7);let _0x4abbd9={};if(_0x19699f&&_0x19699f[_0x5c6b4f(0x1d5)])try{_0x4abbd9=JSON['parse'](_0x19699f[_0x5c6b4f(0x1d5)]);}catch(_0x37426d){}_0x143b36&&_0x4abbd9[_0x143b36]?(delete _0x4abbd9[_0x143b36],await this[_0x5c6b4f(0x1b8)](_0x3ad0e7,{'val':JSON[_0x5c6b4f(0x1cc)](_0x4abbd9),'ack':!![]}),this[_0x5c6b4f(0xaa)][_0x5c6b4f(0xd0)]('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0x143b36+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.'),this['sendTo'](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![]},_0x498dd1['callback'])):this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':![],'error':_0x5c6b4f(0x161)},_0x498dd1[_0x5c6b4f(0x11f)]);}catch(_0x945561){this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':![],'error':_0x945561[_0x5c6b4f(0x14c)]},_0x498dd1[_0x5c6b4f(0x11f)]);}else{if(_0x498dd1['command']==='dismissAutomation')await this[_0x5c6b4f(0x1b8)]('analysis.automation.patternDetected',{'val':![],'ack':!![]}),await this[_0x5c6b4f(0x1b8)](_0x5c6b4f(0x164),{'val':'','ack':!![]}),await this[_0x5c6b4f(0x1b8)]('analysis.automation.targetId',{'val':'','ack':!![]}),this[_0x5c6b4f(0x181)](_0x498dd1['from'],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![]},_0x498dd1[_0x5c6b4f(0x11f)]);else{if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0x157)){const {targetId:_0x43fae8,targetValue:_0x2b732a}=_0x498dd1[_0x5c6b4f(0x14c)];await this[_0x5c6b4f(0x1b8)](_0x5c6b4f(0xcd),{'val':!![],'ack':!![]}),await this['setStateAsync']('analysis.automation.description',{'val':_0x5c6b4f(0xb4),'ack':!![]}),await this[_0x5c6b4f(0x1b8)](_0x5c6b4f(0x175),{'val':_0x43fae8,'ack':!![]}),await this[_0x5c6b4f(0x1b8)](_0x5c6b4f(0x1b2),{'val':String(_0x2b732a),'ack':!![]}),this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1['command'],{'success':!![]},_0x498dd1['callback']);}else{if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0x102))try{const _0x1d9e5b=_0x498dd1[_0x5c6b4f(0x14c)][_0x5c6b4f(0xac)];if(!_0x1d9e5b)throw new Error('Kein\x20API\x20Key\x20Ã¼bergeben');const _0x465bad=new GoogleGenerativeAI(_0x1d9e5b),_0x215fb1=_0x465bad[_0x5c6b4f(0xc0)]({'model':GEMINI_MODEL}),_0x1b58b5=await _0x215fb1[_0x5c6b4f(0x1c9)](_0x5c6b4f(0x1d4)),_0x46499e=await _0x1b58b5['response'];if(_0x46499e[_0x5c6b4f(0x1af)]())this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![],'message':_0x5c6b4f(0x14d)},_0x498dd1[_0x5c6b4f(0x11f)]);else throw new Error(_0x5c6b4f(0x11b));}catch(_0x44a7ef){this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':![],'message':_0x44a7ef['message']},_0x498dd1[_0x5c6b4f(0x11f)]);}else{if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0x143))try{const _0x2802c1=await scanner[_0x5c6b4f(0x10b)](this,_0x498dd1[_0x5c6b4f(0x14c)]||{});this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1['command'],{'success':!![],'devices':_0x2802c1},_0x498dd1['callback']);}catch(_0x5ab65f){this['sendTo'](_0x498dd1['from'],_0x498dd1[_0x5c6b4f(0xf2)],{'success':![],'error':_0x5ab65f[_0x5c6b4f(0x14c)]},_0x498dd1[_0x5c6b4f(0x11f)]);}else{if(_0x498dd1[_0x5c6b4f(0xf2)]==='updateTopologyMatrix')try{const {matrix:_0x550d11}=_0x498dd1['message'],_0xad3b9e=await this[_0x5c6b4f(0x1c4)](_0x5c6b4f(0x1ce));if(_0xad3b9e&&_0xad3b9e[_0x5c6b4f(0x1d5)]){const _0x66b82a=JSON[_0x5c6b4f(0xa4)](_0xad3b9e[_0x5c6b4f(0x1d5)]);_0x66b82a[_0x5c6b4f(0xf5)]=_0x550d11,_0x66b82a['updated']=Date['now'](),await this[_0x5c6b4f(0x1b8)](_0x5c6b4f(0x1ce),{'val':JSON['stringify'](_0x66b82a),'ack':!![]}),pythonBridge[_0x5c6b4f(0x9d)](this,_0x5c6b4f(0x16b),_0x66b82a);}this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![]},_0x498dd1[_0x5c6b4f(0x11f)]);}catch(_0x1b0aa0){this[_0x5c6b4f(0xaa)]['error'](_0x1b0aa0);}else{if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0x1b7))this[_0x5c6b4f(0x181)](_0x498dd1['from'],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![],'dailyDigests':this['dailyDigests']||[],'analysisHistory':this[_0x5c6b4f(0xf4)]||[]},_0x498dd1[_0x5c6b4f(0x11f)]);else{if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0x163)){const _0x1ef0e5=await this[_0x5c6b4f(0x1c2)](_0x5c6b4f(0x11c),_0x5c6b4f(0x100)),_0x22365f=[];if(_0x1ef0e5)for(const _0x5f54fb in _0x1ef0e5){const _0x249614=_0x1ef0e5[_0x5f54fb],_0x2b20bf=(_0x249614[_0x5c6b4f(0x18d)]&&typeof _0x249614[_0x5c6b4f(0x18d)][_0x5c6b4f(0xf0)]===_0x5c6b4f(0x19f)?_0x249614['common']['name']['de']:_0x249614[_0x5c6b4f(0x18d)]['name'])||_0x249614[_0x5c6b4f(0x18d)][_0x5c6b4f(0xf0)];_0x22365f[_0x5c6b4f(0x18c)]({'id':_0x5f54fb,'name':_0x2b20bf});}const _0xca2eae=await this[_0x5c6b4f(0x1c2)](_0x5c6b4f(0x8c),'enum'),_0xc6b263=[];if(_0xca2eae)for(const _0x3cd4e1 in _0xca2eae){const _0x5cac78=_0xca2eae[_0x3cd4e1],_0x532e99=(_0x5cac78['common']&&typeof _0x5cac78[_0x5c6b4f(0x18d)][_0x5c6b4f(0xf0)]===_0x5c6b4f(0x19f)?_0x5cac78[_0x5c6b4f(0x18d)][_0x5c6b4f(0xf0)]['de']:_0x5cac78[_0x5c6b4f(0x18d)][_0x5c6b4f(0xf0)])||_0x3cd4e1[_0x5c6b4f(0x146)]('.')['pop']();_0xc6b263[_0x5c6b4f(0x18c)](_0x532e99);}this['sendTo'](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1['command'],{'success':!![],'enums':_0x22365f,'rooms':_0xc6b263},_0x498dd1['callback']);}else{if(_0x498dd1[_0x5c6b4f(0xf2)]===_0x5c6b4f(0x188))try{let _0x47d41b=_0x5c6b4f(0x168),_0x1f6236=_0x5c6b4f(0x14e);if(this[_0x5c6b4f(0xb1)][_0x5c6b4f(0x1a3)]){const _0x2b0500=await recorder[_0x5c6b4f(0x14a)](this);_0x47d41b=_0x2b0500!==null?_0x2b0500+'Â°C':_0x5c6b4f(0xa7);}if(this['config'][_0x5c6b4f(0x1bd)]){const _0x4f796a=await this[_0x5c6b4f(0xef)](_0x5c6b4f(0xad)+this[_0x5c6b4f(0xb1)][_0x5c6b4f(0x1bd)]);_0x1f6236=_0x4f796a?'Verbunden':_0x5c6b4f(0xdb);}this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![],'weather':_0x47d41b,'calendar':_0x1f6236},_0x498dd1['callback']);}catch(_0x895f1a){this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':![],'error':_0x895f1a[_0x5c6b4f(0x14c)]},_0x498dd1[_0x5c6b4f(0x11f)]);}else{if(_0x498dd1['command']==='getCalendarNames')try{const _0x273839=_0x498dd1[_0x5c6b4f(0x14c)]['instance'],_0x399c61=await this['getForeignStateAsync'](_0x273839+_0x5c6b4f(0x180));let _0x1cd6c9=[];if(_0x399c61&&_0x399c61[_0x5c6b4f(0x1d5)]){const _0x47f671=JSON[_0x5c6b4f(0xa4)](_0x399c61[_0x5c6b4f(0x1d5)]),_0x5bedcf=new Set();Array['isArray'](_0x47f671)&&_0x47f671[_0x5c6b4f(0x89)](_0xc808c3=>{const _0x59aae8=_0x5c6b4f;if(_0xc808c3[_0x59aae8(0xf3)])_0x5bedcf[_0x59aae8(0x110)](_0xc808c3[_0x59aae8(0xf3)]);else{if(_0xc808c3[_0x59aae8(0xae)])_0x5bedcf[_0x59aae8(0x110)](_0xc808c3[_0x59aae8(0xae)]);}}),_0x1cd6c9=Array[_0x5c6b4f(0xc9)](_0x5bedcf)[_0x5c6b4f(0x191)]();}if(_0x1cd6c9['length']===0x0)_0x1cd6c9=[_0x5c6b4f(0x139)];this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1['command'],{'success':!![],'names':_0x1cd6c9},_0x498dd1[_0x5c6b4f(0x11f)]);}catch(_0x1c4e1b){this[_0x5c6b4f(0x181)](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':![],'error':_0x1c4e1b[_0x5c6b4f(0x14c)]},_0x498dd1['callback']);}else{if(_0x498dd1['command']==='testNotification')try{await setup[_0x5c6b4f(0xfc)](this,_0x5c6b4f(0x185),![],![]),this['sendTo'](_0x498dd1[_0x5c6b4f(0xc9)],_0x498dd1[_0x5c6b4f(0xf2)],{'success':!![],'message':'Gesendet'},_0x498dd1['callback']);}catch(_0x590caf){this['log'][_0x5c6b4f(0x103)](_0x5c6b4f(0x11e)+_0x590caf[_0x5c6b4f(0x14c)]),this['sendTo'](_0x498dd1['from'],_0x498dd1[_0x5c6b4f(0xf2)],{'success':![],'message':_0x5c6b4f(0x18f)+_0x590caf[_0x5c6b4f(0x14c)]},_0x498dd1[_0x5c6b4f(0x11f)]);}}}}}}}}}}}}}}}}}async[a0_0x719927(0x1a9)](){const _0x52a8b2=a0_0x719927;try{const _0x4df976=await this[_0x52a8b2(0x1c4)](setup[_0x52a8b2(0xb5)]);_0x4df976&&_0x4df976['val']&&Object[_0x52a8b2(0x80)](setup['SYSTEM_MODES'])[_0x52a8b2(0x115)](_0x4df976['val'])?this['currentSystemMode']=_0x4df976[_0x52a8b2(0x1d5)]:(this['currentSystemMode']=setup['SYSTEM_MODES'][_0x52a8b2(0x1a1)],await this[_0x52a8b2(0x1b8)](setup['SYSTEM_DP_MODE'],{'val':setup['SYSTEM_MODES'][_0x52a8b2(0x1a1)],'ack':!![]}));}catch(_0x2cbf91){this[_0x52a8b2(0xe0)]=setup[_0x52a8b2(0xe6)][_0x52a8b2(0x1a1)];}}async['checkWifiPresence'](){const _0x2dadd3=a0_0x719927;try{const _0x58e8cc=this['config'][_0x2dadd3(0xff)]||[];let _0x42eaf8=![];const _0x37cd96=[];for(const _0x3f67ae of _0x58e8cc){try{const _0x21590a=await this[_0x2dadd3(0xa0)](_0x3f67ae);_0x21590a&&(_0x21590a[_0x2dadd3(0x1d5)]===!![]||_0x21590a[_0x2dadd3(0x1d5)]==='online'||_0x21590a[_0x2dadd3(0x1d5)]===0x1)&&(_0x42eaf8=!![],_0x37cd96[_0x2dadd3(0x18c)](_0x3f67ae));}catch(_0x243203){}}return await this[_0x2dadd3(0x1b8)](_0x2dadd3(0x127),{'val':_0x37cd96[_0x2dadd3(0x8a)](',\x20'),'ack':!![]}),_0x42eaf8&&(this['exitTimer']&&(this['log']['info']('WiFi\x20Presence\x20detected.'),recorder[_0x2dadd3(0xf6)](this)),!this[_0x2dadd3(0x128)]&&this[_0x2dadd3(0xe0)]===setup[_0x2dadd3(0xe6)][_0x2dadd3(0x1a1)]&&await recorder[_0x2dadd3(0x7f)](this,!![])),_0x42eaf8;}catch(_0x3428ed){return![];}}async['runAutopilot'](){const _0xc1cdb1=a0_0x719927;this[_0xc1cdb1(0xaa)][_0xc1cdb1(0x81)](_0xc1cdb1(0x10d)),await aiAgent[_0xc1cdb1(0xab)](this),this[_0xc1cdb1(0x1a5)](),this[_0xc1cdb1(0x84)](),this[_0xc1cdb1(0x11d)]();}async[a0_0x719927(0x93)](){const _0x50b136=a0_0x719927,_0x2ae800=[_0x50b136(0xdc),_0x50b136(0x99),_0x50b136(0x18e)],_0x5356bd=[_0x50b136(0x112),_0x50b136(0x11a),_0x50b136(0xce)];for(const _0x37716d of _0x2ae800){for(const _0x1aa59d of _0x5356bd){try{const _0x3936ec=_0x37716d+'.'+_0x1aa59d,_0x5219c8=await this['getForeignStateAsync'](_0x3936ec);if(_0x5219c8&&_0x5219c8[_0x50b136(0x1d5)]){const _0x1de928=String(_0x5219c8[_0x50b136(0x1d5)])[_0x50b136(0x124)]();if(_0x1de928['includes'](_0x50b136(0x198))||_0x1de928['includes'](_0x50b136(0x1d7))||_0x1de928['includes'](_0x50b136(0x1ad))||_0x1de928[_0x50b136(0x115)]('clear')||_0x1de928['includes']('heiter'))return!![];}}catch(_0x58685d){}}}return![];}[a0_0x719927(0x84)](){const _0x3e61da=a0_0x719927;if(!this['isProVersion'])return;try{this[_0x3e61da(0x118)]('LTM.trainingData.sequences',(_0x26fb8c,_0x8aa32b)=>{const _0x41532b=_0x3e61da;_0x8aa32b&&_0x8aa32b[_0x41532b(0x1d5)]&&pythonBridge[_0x41532b(0x9d)](this,_0x41532b(0x166),{'sequences':JSON[_0x41532b(0xa4)](_0x8aa32b[_0x41532b(0x1d5)])});});}catch(_0x389980){}}async['triggerEnergyPrediction'](){const _0x562073=a0_0x719927;if(!this[_0x562073(0xcc)])return;try{const _0x34ec80=await recorder[_0x562073(0x14a)](this);if(_0x34ec80===null)return;const _0x43b614={},_0x41c3f7={},_0x278ffb=this[_0x562073(0xb1)][_0x562073(0x1cd)]||[];for(const _0x14d071 of _0x278ffb){if(_0x14d071[_0x562073(0x95)]===_0x562073(0x186)&&_0x14d071[_0x562073(0x1c0)]){const _0x288819=this[_0x562073(0x137)][_0x14d071['id']];if(_0x288819!==undefined)_0x43b614[_0x14d071['location']]=_0x288819;if(_0x14d071[_0x562073(0x132)])_0x41c3f7[_0x14d071[_0x562073(0x1c0)]]=!![];}}const _0x17fef1=await this[_0x562073(0x93)]();let _0x1f0bd8={};try{const _0x16ad13=await this[_0x562073(0x1c4)](_0x562073(0xd5));if(_0x16ad13&&_0x16ad13[_0x562073(0x1d5)])_0x1f0bd8=JSON[_0x562073(0xa4)](_0x16ad13[_0x562073(0x1d5)]);}catch(_0x3473e8){}Object['keys'](_0x43b614)[_0x562073(0x1cb)]>0x0&&(pythonBridge[_0x562073(0x9d)](this,_0x562073(0xb7),{'current_temps':_0x43b614,'t_out':_0x34ec80,'is_sunny':_0x17fef1,'solar_flags':_0x41c3f7,'warmup_targets':_0x1f0bd8}),pythonBridge[_0x562073(0x9d)](this,_0x562073(0xa5),{'current_temps':_0x43b614,'t_out':_0x34ec80,'targets':{}}));}catch(_0x1e1ec8){}}[a0_0x719927(0x1a5)](){const _0x354a91=a0_0x719927;if(!this['rawEventLog']||this[_0x354a91(0x193)][_0x354a91(0x1cb)]===0x0)return;const _0x48760a=new Array(0x60)['fill'](0x0),_0x581f41=new Date()[_0x354a91(0x14b)](0x0,0x0,0x0,0x0);this[_0x354a91(0x193)][_0x354a91(0x89)](_0x1f9582=>{const _0x1bc18a=_0x354a91,_0x463b80=new Date(_0x1f9582[_0x1bc18a(0x194)]);if(_0x463b80['getTime']()>=_0x581f41){const _0x36e42e=_0x463b80[_0x1bc18a(0x15c)](),_0x16aa7c=_0x463b80[_0x1bc18a(0x9e)](),_0x567923=_0x36e42e*0x4+Math[_0x1bc18a(0x15d)](_0x16aa7c/0xf);if(_0x567923>=0x0&&_0x567923<0x60)_0x48760a[_0x567923]++;}});}async['handleInfrasound'](_0x4f66cb){const _0x245833=a0_0x719927;if(_0x4f66cb==null||typeof _0x4f66cb!==_0x245833(0x12e))return;const _0x4ded8c=Date[_0x245833(0x1a0)]();this['pressureBuffer'][_0x245833(0x18c)]({'ts':_0x4ded8c,'val':_0x4f66cb}),this[_0x245833(0x101)]=this[_0x245833(0x101)]['filter'](_0x2944ac=>_0x4ded8c-_0x2944ac['ts']<0x1388);if(this['infrasoundLocked'])return;if(this[_0x245833(0xb1)]['infrasoundArmingId']){const _0x288d96=await this[_0x245833(0xa0)](this[_0x245833(0xb1)][_0x245833(0x1bb)]);if(_0x288d96&&!_0x288d96[_0x245833(0x1d5)])return;}const _0x351cd0=this[_0x245833(0xb1)]['infrasoundThreshold']||0.04;if(Math[_0x245833(0x117)](_0x4f66cb)>=_0x351cd0){this[_0x245833(0xaa)][_0x245833(0x1b4)](_0x245833(0x162)+_0x4f66cb+'\x20hPa\x20(Limit:\x20'+_0x351cd0+')'),await this['setStateAsync'](_0x245833(0x18b),{'val':!![],'ack':!![]});const _0x9aabfc=this[_0x245833(0x128)];_0x9aabfc?(this[_0x245833(0xaa)]['info'](_0x245833(0xe2)),this[_0x245833(0x19a)](_0x4f66cb,'INTERNAL')):(this[_0x245833(0x19a)](_0x4f66cb,_0x245833(0xc4)),this[_0x245833(0xfc)](_0x245833(0x13a)+_0x4f66cb+_0x245833(0x1a8))),this[_0x245833(0x8f)]=!![],setTimeout(()=>{const _0x118af9=_0x245833;this[_0x118af9(0x8f)]=![];},0x2710);}}async[a0_0x719927(0x19a)](_0x19a84a,_0x18907c=a0_0x719927(0xc4)){const _0x477ae6=a0_0x719927,_0x298880=Date[_0x477ae6(0x1a0)](),_0x25402a=this[_0x477ae6(0xb1)][_0x477ae6(0x1cd)]||[];setTimeout(async()=>{const _0x320826=_0x477ae6;let _0x2ef2e5=null,_0x288cfa=_0x320826(0x145);const _0xfd1840=_0x25402a['filter'](_0x36e58b=>_0x36e58b[_0x320826(0x95)]&&(_0x36e58b['type'][_0x320826(0x115)](_0x320826(0x154))||_0x36e58b[_0x320826(0x95)][_0x320826(0x115)](_0x320826(0xe4))||_0x36e58b[_0x320826(0x95)]['includes'](_0x320826(0x1c6))||_0x36e58b[_0x320826(0x95)][_0x320826(0x115)](_0x320826(0xec)))||_0x36e58b['role']&&(_0x36e58b[_0x320826(0x9c)][_0x320826(0x115)]('sensor.window')||_0x36e58b['role'][_0x320826(0x115)](_0x320826(0x17e))));for(const _0x1208b7 of _0xfd1840){try{const _0x12c497=await this[_0x320826(0xa0)](_0x1208b7['id']);if(_0x12c497){if(_0x12c497['ts']>=_0x298880-0x7d0){_0x2ef2e5=_0x1208b7['name']||_0x1208b7['id'],_0x288cfa=_0x320826(0xfd)+_0x2ef2e5;break;}}}catch(_0x48693f){}}const _0xf7507c={'timestamp':_0x298880,'pressure':_0x19a84a,'isMatch':!!_0x2ef2e5,'explanation':_0x288cfa,'type':_0x18907c};await this[_0x320826(0x13f)](_0xf7507c),this['log'][_0x320826(0xd0)](_0x320826(0x85)+(!!_0x2ef2e5?'MATCH\x20(False\x20Positive)':_0x320826(0x183)));},0x1388);}async[a0_0x719927(0x174)](_0x4bd62d){const _0x2398b7=a0_0x719927,_0x4e4cbb=Date['now'](),_0x232a38=_0x4bd62d[_0x2398b7(0xf0)]||_0x4bd62d['id'][_0x2398b7(0x146)]('.')[_0x2398b7(0xbf)]();let _0x5e509a=0x0;setTimeout(async()=>{const _0x3cde0a=_0x2398b7;this[_0x3cde0a(0x101)]['forEach'](_0x42b73b=>{const _0x22d68f=_0x3cde0a;_0x42b73b['ts']>=_0x4e4cbb-0xfa0&&_0x42b73b['ts']<=_0x4e4cbb+0x3e8&&(Math[_0x22d68f(0x117)](_0x42b73b[_0x22d68f(0x1d5)])>Math[_0x22d68f(0x117)](_0x5e509a)&&(_0x5e509a=_0x42b73b[_0x22d68f(0x1d5)]));});const _0x2f4a86=this[_0x3cde0a(0xb1)]['infrasoundThreshold']||0.04,_0x29b3d1=Math['abs'](_0x5e509a)>=_0x2f4a86,_0x4bbb44={'timestamp':_0x4e4cbb,'pressure':_0x5e509a,'isMatch':_0x29b3d1,'explanation':_0x3cde0a(0xea)+_0x232a38,'type':_0x3cde0a(0xd2)};await this[_0x3cde0a(0x13f)](_0x4bbb44),this[_0x3cde0a(0xaa)][_0x3cde0a(0x81)](_0x3cde0a(0x10e)+_0x232a38+_0x3cde0a(0x16c)+_0x5e509a[_0x3cde0a(0x12c)](0x4)+_0x3cde0a(0x1c1)+_0x2f4a86+')');},0x1f4);}async['appendToLog'](_0x18f79e){const _0xd5273b=a0_0x719927;try{const _0x58518a=await this[_0xd5273b(0x1c4)]('analysis.security.infrasoundLog');let _0x54d7e8=[];if(_0x58518a&&_0x58518a[_0xd5273b(0x1d5)])_0x54d7e8=JSON['parse'](_0x58518a[_0xd5273b(0x1d5)]);_0x54d7e8[_0xd5273b(0x82)](_0x18f79e);if(_0x54d7e8['length']>0x14)_0x54d7e8=_0x54d7e8['slice'](0x0,0x14);await this[_0xd5273b(0x1b8)](_0xd5273b(0xc7),{'val':JSON[_0xd5273b(0x1cc)](_0x54d7e8),'ack':!![]});}catch(_0x585853){this[_0xd5273b(0xaa)]['error']('[Forensics]\x20Save\x20failed:\x20'+_0x585853[_0xd5273b(0x14c)]);}}[a0_0x719927(0xfc)](_0x3df01a){const _0x39867e=a0_0x719927;this['config'][_0x39867e(0xe7)]&&this[_0x39867e(0xb1)][_0x39867e(0x177)]&&this[_0x39867e(0x181)](this[_0x39867e(0xb1)]['notifyPushoverInstance'],_0x39867e(0x9d),{'message':_0x3df01a,'title':_0x39867e(0xb3),'priority':0x1}),this[_0x39867e(0xb1)][_0x39867e(0xb9)]&&this[_0x39867e(0xb1)][_0x39867e(0x197)]&&this[_0x39867e(0x181)](this['config']['notifyTelegramInstance'],_0x39867e(0x9d),{'text':_0x3df01a});}}if(require['main']!==module)module[a0_0x719927(0xc6)]=_0x51c7f8=>new CogniLiving(_0x51c7f8);else new CogniLiving();