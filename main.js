function a0_0x4342(){const _0xa81cf7=['notifyTelegramEnabled','analysis.trigger','setPresence','22EmRMWt','PYTHON_EXE','getOverviewData','setupLtmScheduler','5949InkQkm','triggerEnergyPrediction','rawEventLog','analysis.training.triggerEnergy','./lib/setup','genAI','loadSystemMode','updateTopology','analysis.training.triggerHealth','name','analysis.health.todayVector','660kxFrQf','motion','inactivityThresholdHours','setStateAsync','exitTimer','.data.table','val','analysisTimer','3880dhIRoE','version','sendNotification','setupBriefingScheduler','Gemini\x20AI\x20initialized.','from','notifyTelegramInstance','@iobroker/adapter-core','briefingJob','isArray','driftAnalysisTimer','ANALYZE_TREND','triggerGaitAnalysis','instance','updateLocation','\x20Tage)','SYSTEM_DP_MODE','(((.+)+)+)+$','application/json','TRAIN_COMFORT','push','lastAlertState','runBaselineDriftAnalysis','values','LTM.trainingData.sequences','cancel','subscribeStates','ANALYZE_GAIT','log','runAutopilot','_calName','parse','presenceDevices','isProVersion','slice','toString','TRAIN_ENERGY','callback','weatherInstance','scanDevices','cogni-living','generateContent','devices','@google/generative-ai','LTM.rawEventLog','dependencyInstallInProgress','setState','getEnums','LTM.triggerDailyDigest','SYSTEM_MODES','stopService','abortExitTimer','Gesendet','calendarInstance','scanForDevices','./lib/python_bridge','analysis.training.triggerSecurity','geminiModel','communicate.request','Lernphase\x20(','fill','testApiKey','search','updateHealthVector','send','analysis.training.status','analysis.topology.structure','Kein\x20API\x20Key\x20Ã¼bergeben','analysis.training.triggerComfort','timestamp','checkLicense','TRAIN_HEALTH','map','12676LVSPPL','checkWifiPresence','bind','6MGaeGN','keys','Adapter','forEach','system.mode','sendTo','isPresent','Kein\x20Kalender-Adapter','startService','runPythonHealthCheck','namespace','info','floor','9936070nhycic','object','common','.system.mode','ready','automation.triggerAction','apply','1193829baSsMi','analysis.training.triggerTopology','onMessage','models/gemini-flash-latest','LTM.dailyDigests','analysisInterval','createDailyDigest','Verbindung\x20erfolgreich!','exitGraceTimer','config','length','NORMAL','createAllObjects','response','getLtmData','Daten\x20nicht\x20verfÃ¼gbar','system.presenceWho','type','getStateAsync','sensorLastValues','getForeignObjectAsync','onUnload','659736mEyQxq','sendMorningBriefing','enum','command','message','add','setupDriftAnalysisScheduler','Standard','initZombies','Instanz\x20nicht\x20gefunden','LTM.trainingData.thermodynamics','getMinutes','currentSystemMode','ack','./lib/topology','PREDICT_ENERGY','runGeminiAnalysis','enum.functions.*','analysisHistory','pop','split','isGracePeriodActive','3454595DshqHZ','geminiApiKey','eventHistory','subscribeForeignStatesAsync','1563802XqfjeT','./lib/recorder','getHours','includes','testContext','VACATION','stringify','modeResetJob','apiKey','./lib/scanner','find','LTM.baselineStatus','join','onReady','dailyDigests','error','telegram','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','getForeignObjectsAsync','Verbunden','SET_TOPOLOGY','onStateChange','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','initSystemConfig','matrix','getOutsideTemperatureNumeric','getForeignStateAsync','ltmJob','system.adapter.','processSensorEvent','location','Kein\x20Wetter-Adapter','analysis.triggerBriefing','startSystem','Keine\x20Antwort\x20von\x20Gemini','Aktiv\x20(','endsWith','WiFi\x20Presence\x20detected.','testNotification'];a0_0x4342=function(){return _0xa81cf7;};return a0_0x4342();}function a0_0x155f(_0x5c171d,_0x46a56f){const _0x2e928d=a0_0x4342();return a0_0x155f=function(_0x1ba902,_0x2c140d){_0x1ba902=_0x1ba902-0x1b5;let _0x434252=_0x2e928d[_0x1ba902];return _0x434252;},a0_0x155f(_0x5c171d,_0x46a56f);}const a0_0x1d9823=a0_0x155f;(function(_0x368997,_0x2e9e90){const _0x4d9749=a0_0x155f,_0xbf248=_0x368997();while(!![]){try{const _0x455f8e=-parseInt(_0x4d9749(0x1dc))/0x1+-parseInt(_0x4d9749(0x1f6))/0x2+-parseInt(_0x4d9749(0x22f))/0x3*(-parseInt(_0x4d9749(0x280))/0x4)+-parseInt(_0x4d9749(0x1f2))/0x5*(parseInt(_0x4d9749(0x283))/0x6)+parseInt(_0x4d9749(0x1c6))/0x7+-parseInt(_0x4d9749(0x237))/0x8*(parseInt(_0x4d9749(0x224))/0x9)+-parseInt(_0x4d9749(0x1bf))/0xa*(-parseInt(_0x4d9749(0x220))/0xb);if(_0x455f8e===_0x2e9e90)break;else _0xbf248['push'](_0xbf248['shift']());}catch(_0x360c9c){_0xbf248['push'](_0xbf248['shift']());}}}(a0_0x4342,0x62188));const a0_0x2c140d=(function(){let _0x4aba79=!![];return function(_0x5036ae,_0x38a943){const _0xd544b5=_0x4aba79?function(){const _0x353a8d=a0_0x155f;if(_0x38a943){const _0x5248da=_0x38a943[_0x353a8d(0x1c5)](_0x5036ae,arguments);return _0x38a943=null,_0x5248da;}}:function(){};return _0x4aba79=![],_0xd544b5;};}()),a0_0x1ba902=a0_0x2c140d(this,function(){const _0x1aca50=a0_0x155f;return a0_0x1ba902[_0x1aca50(0x25a)]()['search'](_0x1aca50(0x248))[_0x1aca50(0x25a)]()['constructor'](a0_0x1ba902)[_0x1aca50(0x275)]('(((.+)+)+)+$');});a0_0x1ba902();'use strict';const utils=require(a0_0x1d9823(0x23e)),{GoogleGenerativeAI}=require(a0_0x1d9823(0x262)),installer=require('./lib/installer'),scanner=require(a0_0x1d9823(0x1ff)),schedulers=require('./lib/scheduler'),topology=require(a0_0x1d9823(0x1ea)),setup=require(a0_0x1d9823(0x228)),recorder=require(a0_0x1d9823(0x1f7)),pythonBridge=require(a0_0x1d9823(0x26e)),aiAgent=require('./lib/ai_agent'),deadMan=require('./lib/dead_man'),GEMINI_MODEL=a0_0x1d9823(0x1c9),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x1d9823(0x285)]{constructor(_0xd3cb39){const _0x5b9eac=a0_0x1d9823;super({..._0xd3cb39,'name':_0x5b9eac(0x25f)}),this[_0x5b9eac(0x1f4)]=[],this[_0x5b9eac(0x1ee)]=[],this[_0x5b9eac(0x226)]=[],this[_0x5b9eac(0x204)]=[],this[_0x5b9eac(0x1d9)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x5b9eac(0x1b8)]=!![],this['exitTimer']=null,this[_0x5b9eac(0x1ce)]=null,this[_0x5b9eac(0x1f1)]=![],this[_0x5b9eac(0x229)]=null,this[_0x5b9eac(0x270)]=null,this[_0x5b9eac(0x1e8)]=setup[_0x5b9eac(0x268)][_0x5b9eac(0x1d1)],this['isProVersion']=![],this[_0x5b9eac(0x24c)]=![],this[_0x5b9eac(0x236)]=null,this[_0x5b9eac(0x211)]=null,this['modeResetJob']=null,this['driftAnalysisTimer']=null,this['briefingJob']=null,this[_0x5b9eac(0x264)]=![],this['on'](_0x5b9eac(0x1c3),this[_0x5b9eac(0x203)][_0x5b9eac(0x282)](this)),this['on']('stateChange',this[_0x5b9eac(0x20b)]['bind'](this)),this['on']('unload',this[_0x5b9eac(0x1db)][_0x5b9eac(0x282)](this)),this['on'](_0x5b9eac(0x1e0),this[_0x5b9eac(0x1c8)][_0x5b9eac(0x282)](this));}async[a0_0x1d9823(0x203)](){const _0x1f55c0=a0_0x1d9823;this[_0x1f55c0(0x253)]['info']('cogni-living\x20adapter\x20starting\x20(v'+this[_0x1f55c0(0x238)]+')\x20-\x20Phase\x20C\x20(Hardened)');if(!installer['checkAndInstall'](this,()=>this[_0x1f55c0(0x217)]()))return;}async[a0_0x1d9823(0x217)](){const _0x8b536e=a0_0x1d9823;await setup[_0x8b536e(0x1e4)](this);try{this[_0x8b536e(0x258)]=await setup[_0x8b536e(0x27d)](this[_0x8b536e(0x1cf)]['licenseKey']);}catch(_0xe47047){}if(!this['config'][_0x8b536e(0x231)]||this[_0x8b536e(0x1cf)]['inactivityThresholdHours']<0.1)this[_0x8b536e(0x1cf)][_0x8b536e(0x231)]=0xc;await setup['initHistory'](this),await setup[_0x8b536e(0x20d)](this);if(this[_0x8b536e(0x1cf)][_0x8b536e(0x1f3)])try{this[_0x8b536e(0x229)]=new GoogleGenerativeAI(this[_0x8b536e(0x1cf)][_0x8b536e(0x1f3)]),this[_0x8b536e(0x270)]=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x8b536e(0x249)}}),this[_0x8b536e(0x253)]['info'](_0x8b536e(0x23b));}catch(_0x3cf4d7){this[_0x8b536e(0x253)][_0x8b536e(0x205)]('Gemini\x20Init\x20Error:\x20'+_0x3cf4d7[_0x8b536e(0x1e0)]);}await setup[_0x8b536e(0x1d2)](this),await this[_0x8b536e(0x22a)]();try{const _0x3139f6=await this['getStateAsync'](_0x8b536e(0x263));if(_0x3139f6&&_0x3139f6[_0x8b536e(0x235)])this[_0x8b536e(0x226)]=JSON[_0x8b536e(0x256)](_0x3139f6[_0x8b536e(0x235)]);}catch(_0x341ff7){this['rawEventLog']=[];}try{const _0xa0203a=await this[_0x8b536e(0x1d8)](_0x8b536e(0x1ca));if(_0xa0203a&&_0xa0203a['val'])this[_0x8b536e(0x204)]=JSON['parse'](_0xa0203a['val']);}catch(_0x3d7995){this['dailyDigests']=[];}const _0x35d1c3=this[_0x8b536e(0x204)][_0x8b536e(0x1d0)]>=(this['config']['minDaysForBaseline']||0x7)?_0x8b536e(0x219)+this[_0x8b536e(0x204)]['length']+_0x8b536e(0x246):_0x8b536e(0x272)+this[_0x8b536e(0x204)]['length']+'/'+(this[_0x8b536e(0x1cf)]['minDaysForBaseline']||0x7)+')';await this['setStateAsync'](_0x8b536e(0x201),{'val':_0x35d1c3,'ack':!![]}),this[_0x8b536e(0x251)](_0x8b536e(0x21e)),this['subscribeStates'](_0x8b536e(0x267)),this[_0x8b536e(0x251)](_0x8b536e(0x1b6)),this[_0x8b536e(0x251)](_0x8b536e(0x216)),this[_0x8b536e(0x251)]('analysis.automation.triggerAction'),this['subscribeStates']('analysis.automation.autoApply'),this[_0x8b536e(0x251)](_0x8b536e(0x26f)),this[_0x8b536e(0x251)](_0x8b536e(0x22c)),this[_0x8b536e(0x251)]('analysis.training.triggerEnergy'),this['subscribeStates'](_0x8b536e(0x27b)),this[_0x8b536e(0x251)](_0x8b536e(0x1c7));const _0x3a0959=this[_0x8b536e(0x1cf)]['devices'];if(_0x3a0959)for(const _0x24b699 of _0x3a0959){await this[_0x8b536e(0x1f5)](_0x24b699['id']);}const _0x47d43b=this[_0x8b536e(0x1cf)][_0x8b536e(0x257)];if(_0x47d43b)for(const _0x85c20b of _0x47d43b){await this[_0x8b536e(0x1f5)](_0x85c20b);}if(this[_0x8b536e(0x1cf)][_0x8b536e(0x21d)]&&this[_0x8b536e(0x1cf)]['notifyTelegramInstance'])await this[_0x8b536e(0x1f5)](this[_0x8b536e(0x1cf)][_0x8b536e(0x23d)]+'.communicate.request');setTimeout(()=>this[_0x8b536e(0x281)](),0x1388);if(this[_0x8b536e(0x236)])clearInterval(this[_0x8b536e(0x236)]);const _0x3f66ba=this[_0x8b536e(0x1cf)][_0x8b536e(0x1cb)]||0xf;_0x3f66ba>0x0&&(this[_0x8b536e(0x236)]=setInterval(()=>{const _0x5deb9d=_0x8b536e;this[_0x5deb9d(0x254)]();},_0x3f66ba*0x3c*0x3e8)),schedulers[_0x8b536e(0x223)](this,()=>aiAgent[_0x8b536e(0x1cc)](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x8b536e(0x1e2)](this,()=>aiAgent[_0x8b536e(0x24d)](this)),schedulers[_0x8b536e(0x23a)](this,()=>aiAgent[_0x8b536e(0x1dd)](this)),pythonBridge[_0x8b536e(0x1ba)](this,installer[_0x8b536e(0x221)]),setTimeout(async()=>{const _0x3a263a=_0x8b536e;await topology['updateTopology'](this);try{const _0x5a2bcf=await this[_0x3a263a(0x1d8)]('analysis.topology.structure');if(_0x5a2bcf&&_0x5a2bcf[_0x3a263a(0x235)])pythonBridge[_0x3a263a(0x277)](this,'SET_TOPOLOGY',JSON[_0x3a263a(0x256)](_0x5a2bcf['val']));}catch(_0x23ff38){}this[_0x3a263a(0x1bb)](),this[_0x3a263a(0x243)](),this['triggerEnergyPrediction'](),this[_0x3a263a(0x276)]();},0x1388);}[a0_0x1d9823(0x1db)](_0x1a273e){const _0x59ab25=a0_0x1d9823;if(this[_0x59ab25(0x236)])clearInterval(this[_0x59ab25(0x236)]);if(this[_0x59ab25(0x241)])clearInterval(this[_0x59ab25(0x241)]);if(this[_0x59ab25(0x211)])this[_0x59ab25(0x211)][_0x59ab25(0x250)]();if(this[_0x59ab25(0x1fd)])this[_0x59ab25(0x1fd)][_0x59ab25(0x250)]();if(this[_0x59ab25(0x23f)])this[_0x59ab25(0x23f)][_0x59ab25(0x250)]();recorder[_0x59ab25(0x26a)](this),pythonBridge[_0x59ab25(0x269)](this),_0x1a273e();}async[a0_0x1d9823(0x20b)](_0x247312,_0x270ad3){const _0x194767=a0_0x1d9823;if(!_0x270ad3||this[_0x194767(0x264)])return;if(_0x247312[_0x194767(0x1f9)](_0x194767(0x206))&&_0x247312[_0x194767(0x21a)](_0x194767(0x271))&&_0x270ad3['val'])return;if(_0x247312===this[_0x194767(0x1bc)]+_0x194767(0x1c2)){if(_0x270ad3[_0x194767(0x235)]&&Object[_0x194767(0x24e)](setup['SYSTEM_MODES'])[_0x194767(0x1f9)](_0x270ad3['val'])){this[_0x194767(0x1e8)]=_0x270ad3[_0x194767(0x235)];if(_0x270ad3[_0x194767(0x235)]===setup[_0x194767(0x268)][_0x194767(0x1fb)])await recorder[_0x194767(0x21f)](this,![]);else await recorder[_0x194767(0x21f)](this,!![]);}if(!_0x270ad3[_0x194767(0x1e9)])this[_0x194767(0x265)](_0x247312,{'val':this[_0x194767(0x1e8)],'ack':!![]});return;}if(!_0x270ad3['ack']){_0x247312[_0x194767(0x1f9)]('analysis.trigger')&&_0x270ad3[_0x194767(0x235)]&&(this[_0x194767(0x265)](_0x247312,{'val':![],'ack':!![]}),aiAgent[_0x194767(0x1ec)](this));if(_0x247312[_0x194767(0x1f9)]('triggerDailyDigest')&&_0x270ad3[_0x194767(0x235)]){this[_0x194767(0x265)](_0x247312,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent['createDailyDigest'](this,pythonBridge);}_0x247312[_0x194767(0x1f9)]('triggerBriefing')&&_0x270ad3[_0x194767(0x235)]&&(this[_0x194767(0x265)](_0x247312,{'val':![],'ack':!![]}),aiAgent[_0x194767(0x1dd)](this));_0x247312[_0x194767(0x1f9)](_0x194767(0x1c4))&&_0x270ad3['val']&&(this['setState'](_0x247312,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this));if(_0x247312[_0x194767(0x1f9)]('analysis.training.triggerSecurity')&&_0x270ad3[_0x194767(0x235)]){this[_0x194767(0x265)](_0x247312,{'val':![],'ack':!![]});if(this[_0x194767(0x258)])try{const _0x46a46e=await this[_0x194767(0x1d8)](_0x194767(0x24f));if(_0x46a46e&&_0x46a46e[_0x194767(0x235)]){const _0xb6fcdb=JSON[_0x194767(0x256)](_0x46a46e[_0x194767(0x235)]);this[_0x194767(0x232)](_0x194767(0x278),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x194767(0x277)](this,'TRAIN_SECURITY',{'sequences':_0xb6fcdb});}}catch(_0x510069){}}if(_0x247312[_0x194767(0x1f9)]('analysis.training.triggerHealth')&&_0x270ad3['val']){this[_0x194767(0x265)](_0x247312,{'val':![],'ack':!![]});if(this[_0x194767(0x258)])try{const _0x4b8372=await this[_0x194767(0x1d8)](_0x194767(0x1ca));if(_0x4b8372&&_0x4b8372['val'])pythonBridge[_0x194767(0x277)](this,_0x194767(0x27e),{'digests':JSON[_0x194767(0x256)](_0x4b8372['val'])});}catch(_0x579f76){}}if(_0x247312[_0x194767(0x1f9)](_0x194767(0x227))&&_0x270ad3[_0x194767(0x235)]){this[_0x194767(0x265)](_0x247312,{'val':![],'ack':!![]});if(this[_0x194767(0x258)])try{const _0x21fc58=await this[_0x194767(0x1d8)](_0x194767(0x1e6));if(_0x21fc58&&_0x21fc58['val'])pythonBridge['send'](this,_0x194767(0x25b),{'points':JSON[_0x194767(0x256)](_0x21fc58[_0x194767(0x235)])});}catch(_0x35f69b){}}if(_0x247312[_0x194767(0x1f9)](_0x194767(0x27b))&&_0x270ad3[_0x194767(0x235)]){this[_0x194767(0x265)](_0x247312,{'val':![],'ack':!![]});if(this[_0x194767(0x258)])try{const _0x3886b4=await this[_0x194767(0x1d8)](_0x194767(0x263));if(_0x3886b4&&_0x3886b4[_0x194767(0x235)])pythonBridge[_0x194767(0x277)](this,_0x194767(0x24a),{'events':JSON[_0x194767(0x256)](_0x3886b4['val'])});}catch(_0x549443){}}_0x247312[_0x194767(0x1f9)](_0x194767(0x1c7))&&_0x270ad3[_0x194767(0x235)]&&(this[_0x194767(0x265)](_0x247312,{'val':![],'ack':!![]}),topology[_0x194767(0x22b)](this));return;}if(this[_0x194767(0x1cf)][_0x194767(0x257)]&&this[_0x194767(0x1cf)]['presenceDevices']['includes'](_0x247312)){await this[_0x194767(0x281)]();return;}const _0x190a63=(this[_0x194767(0x1cf)][_0x194767(0x261)]||[])[_0x194767(0x200)](_0x61c61b=>_0x61c61b['id']===_0x247312);if(_0x190a63){const _0x40f946=await recorder[_0x194767(0x213)](this,_0x247312,_0x270ad3,_0x190a63);_0x40f946&&_0x40f946[_0x194767(0x1d7)]===_0x194767(0x230)&&_0x40f946[_0x194767(0x214)]&&this[_0x194767(0x258)]&&deadMan[_0x194767(0x245)](this,_0x40f946['location']);}}async[a0_0x1d9823(0x1c8)](_0x377c5d){const _0x14538b=a0_0x1d9823;if(typeof _0x377c5d===_0x14538b(0x1c0)&&_0x377c5d['message']){if(_0x377c5d[_0x14538b(0x1df)]===_0x14538b(0x274))try{const _0x4523d3=_0x377c5d['message'][_0x14538b(0x1fe)];if(!_0x4523d3)throw new Error(_0x14538b(0x27a));const _0x4c03ac=new GoogleGenerativeAI(_0x4523d3),_0x2dd6df=_0x4c03ac['getGenerativeModel']({'model':GEMINI_MODEL}),_0x18eb27=await _0x2dd6df[_0x14538b(0x260)]('Test'),_0x42156e=await _0x18eb27[_0x14538b(0x1d3)];if(_0x42156e['text']())this['sendTo'](_0x377c5d[_0x14538b(0x23c)],_0x377c5d[_0x14538b(0x1df)],{'success':!![],'message':_0x14538b(0x1cd)},_0x377c5d['callback']);else throw new Error(_0x14538b(0x218));}catch(_0x210e11){this[_0x14538b(0x1b7)](_0x377c5d[_0x14538b(0x23c)],_0x377c5d[_0x14538b(0x1df)],{'success':![],'message':_0x210e11[_0x14538b(0x1e0)]},_0x377c5d['callback']);}else{if(_0x377c5d[_0x14538b(0x1df)]===_0x14538b(0x25e))try{const _0x191345=await scanner[_0x14538b(0x26d)](this,_0x377c5d[_0x14538b(0x1e0)]||{});this[_0x14538b(0x1b7)](_0x377c5d[_0x14538b(0x23c)],_0x377c5d[_0x14538b(0x1df)],{'success':!![],'devices':_0x191345},_0x377c5d['callback']);}catch(_0x35ab67){this[_0x14538b(0x1b7)](_0x377c5d[_0x14538b(0x23c)],_0x377c5d['command'],{'success':![],'error':_0x35ab67[_0x14538b(0x1e0)]},_0x377c5d[_0x14538b(0x25c)]);}else{if(_0x377c5d[_0x14538b(0x1df)]==='updateTopologyMatrix')try{const {matrix:_0xe3abc6}=_0x377c5d[_0x14538b(0x1e0)],_0x259214=await this[_0x14538b(0x1d8)](_0x14538b(0x279));if(_0x259214&&_0x259214[_0x14538b(0x235)]){const _0x211204=JSON[_0x14538b(0x256)](_0x259214['val']);_0x211204[_0x14538b(0x20e)]=_0xe3abc6,_0x211204['updated']=Date['now'](),await this['setStateAsync']('analysis.topology.structure',{'val':JSON[_0x14538b(0x1fc)](_0x211204),'ack':!![]}),pythonBridge[_0x14538b(0x277)](this,_0x14538b(0x20a),_0x211204);}this[_0x14538b(0x1b7)](_0x377c5d[_0x14538b(0x23c)],_0x377c5d['command'],{'success':!![]},_0x377c5d[_0x14538b(0x25c)]);}catch(_0x8e2099){this[_0x14538b(0x253)][_0x14538b(0x205)](_0x8e2099);}else{if(_0x377c5d[_0x14538b(0x1df)]===_0x14538b(0x1d4))this['sendTo'](_0x377c5d['from'],_0x377c5d['command'],{'success':!![],'dailyDigests':this[_0x14538b(0x204)]||[],'analysisHistory':this[_0x14538b(0x1ee)]||[]},_0x377c5d[_0x14538b(0x25c)]);else{if(_0x377c5d[_0x14538b(0x1df)]===_0x14538b(0x222)){const _0x162456=this[_0x14538b(0x204)]['length'],_0x27ffe4=new Array(0x18)[_0x14538b(0x273)](0x0),_0x51878a=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x14538b(0x1f4)]&&this[_0x14538b(0x1f4)]['forEach'](_0xa38785=>{const _0x90184f=_0x14538b;if(_0xa38785[_0x90184f(0x27c)]>=_0x51878a){const _0x3d0ab6=new Date(_0xa38785[_0x90184f(0x27c)])[_0x90184f(0x1f8)]();if(_0x3d0ab6>=0x0&&_0x3d0ab6<0x18)_0x27ffe4[_0x3d0ab6]++;}}),this[_0x14538b(0x1b7)](_0x377c5d[_0x14538b(0x23c)],_0x377c5d[_0x14538b(0x1df)],{'success':!![],'eventHistory':this['eventHistory'][_0x14538b(0x259)](0x0,0xf),'stats':{'digestCount':_0x162456,'isPresent':this[_0x14538b(0x1b8)],'hourlyActivity':_0x27ffe4},'automation':{'detected':![]}},_0x377c5d[_0x14538b(0x25c)]);}else{if(_0x377c5d[_0x14538b(0x1df)]===_0x14538b(0x266)){const _0x446635=await this[_0x14538b(0x208)](_0x14538b(0x1ed),_0x14538b(0x1de)),_0x541603=[];if(_0x446635)for(const _0x178416 in _0x446635){const _0xf3aa1d=_0x446635[_0x178416],_0x4c7740=(_0xf3aa1d[_0x14538b(0x1c1)]&&typeof _0xf3aa1d[_0x14538b(0x1c1)]['name']===_0x14538b(0x1c0)?_0xf3aa1d[_0x14538b(0x1c1)][_0x14538b(0x22d)]['de']:_0xf3aa1d[_0x14538b(0x1c1)]['name'])||_0xf3aa1d[_0x14538b(0x1c1)][_0x14538b(0x22d)];_0x541603['push']({'id':_0x178416,'name':_0x4c7740});}const _0x551389=await this['getForeignObjectsAsync']('enum.rooms.*',_0x14538b(0x1de)),_0x5156cf=[];if(_0x551389)for(const _0x19530f in _0x551389){const _0x40d982=_0x551389[_0x19530f],_0x45cc2f=(_0x40d982[_0x14538b(0x1c1)]&&typeof _0x40d982[_0x14538b(0x1c1)]['name']===_0x14538b(0x1c0)?_0x40d982[_0x14538b(0x1c1)][_0x14538b(0x22d)]['de']:_0x40d982[_0x14538b(0x1c1)][_0x14538b(0x22d)])||_0x19530f[_0x14538b(0x1f0)]('.')[_0x14538b(0x1ef)]();_0x5156cf[_0x14538b(0x24b)](_0x45cc2f);}this[_0x14538b(0x1b7)](_0x377c5d[_0x14538b(0x23c)],_0x377c5d['command'],{'success':!![],'enums':_0x541603,'rooms':_0x5156cf},_0x377c5d[_0x14538b(0x25c)]);}else{if(_0x377c5d[_0x14538b(0x1df)]===_0x14538b(0x1fa))try{let _0xd8c220=_0x14538b(0x215),_0x513d62=_0x14538b(0x1b9);if(this[_0x14538b(0x1cf)][_0x14538b(0x25d)]){const _0x1dfff0=await recorder[_0x14538b(0x20f)](this);_0xd8c220=_0x1dfff0!==null?_0x1dfff0+'Â°C':_0x14538b(0x1d5);}if(this[_0x14538b(0x1cf)][_0x14538b(0x26c)]){const _0x29eff8=await this[_0x14538b(0x1da)](_0x14538b(0x212)+this[_0x14538b(0x1cf)][_0x14538b(0x26c)]);_0x513d62=_0x29eff8?_0x14538b(0x209):_0x14538b(0x1e5);}this['sendTo'](_0x377c5d[_0x14538b(0x23c)],_0x377c5d[_0x14538b(0x1df)],{'success':!![],'weather':_0xd8c220,'calendar':_0x513d62},_0x377c5d[_0x14538b(0x25c)]);}catch(_0x458bcb){this[_0x14538b(0x1b7)](_0x377c5d['from'],_0x377c5d['command'],{'success':![],'error':_0x458bcb[_0x14538b(0x1e0)]},_0x377c5d[_0x14538b(0x25c)]);}else{if(_0x377c5d[_0x14538b(0x1df)]==='getCalendarNames')try{const _0x5b5e40=_0x377c5d[_0x14538b(0x1e0)][_0x14538b(0x244)],_0x1ebd1b=await this[_0x14538b(0x210)](_0x5b5e40+_0x14538b(0x234));let _0x434a14=[];if(_0x1ebd1b&&_0x1ebd1b[_0x14538b(0x235)]){const _0x28494b=JSON[_0x14538b(0x256)](_0x1ebd1b[_0x14538b(0x235)]),_0x1d3b14=new Set();Array[_0x14538b(0x240)](_0x28494b)&&_0x28494b[_0x14538b(0x1b5)](_0x598da6=>{const _0x1fa787=_0x14538b;if(_0x598da6[_0x1fa787(0x255)])_0x1d3b14['add'](_0x598da6['_calName']);else{if(_0x598da6['calendarName'])_0x1d3b14[_0x1fa787(0x1e1)](_0x598da6['calendarName']);}}),_0x434a14=Array[_0x14538b(0x23c)](_0x1d3b14)['sort']();}if(_0x434a14[_0x14538b(0x1d0)]===0x0)_0x434a14=[_0x14538b(0x1e3)];this['sendTo'](_0x377c5d[_0x14538b(0x23c)],_0x377c5d['command'],{'success':!![],'names':_0x434a14},_0x377c5d[_0x14538b(0x25c)]);}catch(_0x520aac){this[_0x14538b(0x1b7)](_0x377c5d[_0x14538b(0x23c)],_0x377c5d['command'],{'success':![],'error':_0x520aac['message']},_0x377c5d['callback']);}else{if(_0x377c5d[_0x14538b(0x1df)]===_0x14538b(0x21c))try{await setup[_0x14538b(0x239)](this,_0x14538b(0x207),![],![]),this[_0x14538b(0x1b7)](_0x377c5d['from'],_0x377c5d[_0x14538b(0x1df)],{'success':!![],'message':_0x14538b(0x26b)},_0x377c5d[_0x14538b(0x25c)]);}catch(_0xee89ca){this[_0x14538b(0x253)][_0x14538b(0x205)]('Notification\x20Test\x20Failed:\x20'+_0xee89ca['message']),this[_0x14538b(0x1b7)](_0x377c5d[_0x14538b(0x23c)],_0x377c5d[_0x14538b(0x1df)],{'success':![],'message':'Fehler:\x20'+_0xee89ca[_0x14538b(0x1e0)]},_0x377c5d[_0x14538b(0x25c)]);}}}}}}}}}}}async[a0_0x1d9823(0x22a)](){const _0x149ff9=a0_0x1d9823;try{const _0x3ebf96=await this['getStateAsync'](setup[_0x149ff9(0x247)]);_0x3ebf96&&_0x3ebf96[_0x149ff9(0x235)]&&Object['values'](setup[_0x149ff9(0x268)])['includes'](_0x3ebf96[_0x149ff9(0x235)])?this[_0x149ff9(0x1e8)]=_0x3ebf96[_0x149ff9(0x235)]:(this[_0x149ff9(0x1e8)]=setup[_0x149ff9(0x268)][_0x149ff9(0x1d1)],await this[_0x149ff9(0x232)](setup[_0x149ff9(0x247)],{'val':setup[_0x149ff9(0x268)][_0x149ff9(0x1d1)],'ack':!![]}));}catch(_0x3b2a0a){this[_0x149ff9(0x1e8)]=setup[_0x149ff9(0x268)][_0x149ff9(0x1d1)];}}async[a0_0x1d9823(0x281)](){const _0x3264af=a0_0x1d9823;try{const _0x3bc906=this['config'][_0x3264af(0x257)]||[];let _0x3c792d=![];const _0x3b2430=[];for(const _0x14bc14 of _0x3bc906){try{const _0x2797a4=await this['getForeignStateAsync'](_0x14bc14);_0x2797a4&&(_0x2797a4['val']===!![]||_0x2797a4[_0x3264af(0x235)]==='online'||_0x2797a4[_0x3264af(0x235)]===0x1)&&(_0x3c792d=!![],_0x3b2430[_0x3264af(0x24b)](_0x14bc14));}catch(_0x5ba4bc){}}return await this[_0x3264af(0x232)](_0x3264af(0x1d6),{'val':_0x3b2430[_0x3264af(0x202)](',\x20'),'ack':!![]}),_0x3c792d&&(this[_0x3264af(0x233)]&&(this[_0x3264af(0x253)][_0x3264af(0x1bd)](_0x3264af(0x21b)),recorder[_0x3264af(0x26a)](this)),!this[_0x3264af(0x1b8)]&&this['currentSystemMode']===setup[_0x3264af(0x268)][_0x3264af(0x1d1)]&&await recorder[_0x3264af(0x21f)](this,!![])),_0x3c792d;}catch(_0x3e9577){return![];}}async[a0_0x1d9823(0x254)](){const _0x454922=a0_0x1d9823;this[_0x454922(0x253)]['debug'](_0x454922(0x20c)),await aiAgent[_0x454922(0x1ec)](this),this[_0x454922(0x276)](),this['triggerGaitAnalysis'](),this[_0x454922(0x225)]();}[a0_0x1d9823(0x243)](){const _0x1bcc91=a0_0x1d9823;if(!this['isProVersion'])return;try{this['getState'](_0x1bcc91(0x24f),(_0x17eb81,_0x55e3b1)=>{const _0x3259ce=_0x1bcc91;_0x55e3b1&&_0x55e3b1[_0x3259ce(0x235)]&&pythonBridge[_0x3259ce(0x277)](this,_0x3259ce(0x252),{'sequences':JSON[_0x3259ce(0x256)](_0x55e3b1[_0x3259ce(0x235)])});});}catch(_0x108dff){}}async[a0_0x1d9823(0x225)](){const _0x41bae1=a0_0x1d9823;if(!this[_0x41bae1(0x258)])return;try{const _0x1b7876=await recorder[_0x41bae1(0x20f)](this);if(_0x1b7876===null)return;const _0x4596c2={},_0x7a8181=this[_0x41bae1(0x1cf)][_0x41bae1(0x261)]||[];for(const _0x105b9b of _0x7a8181){if(_0x105b9b[_0x41bae1(0x1d7)]==='temperature'&&_0x105b9b[_0x41bae1(0x214)]){const _0x197811=this[_0x41bae1(0x1d9)][_0x105b9b['id']];if(_0x197811!==undefined)_0x4596c2[_0x105b9b[_0x41bae1(0x214)]]=_0x197811;}}Object[_0x41bae1(0x284)](_0x4596c2)[_0x41bae1(0x1d0)]>0x0&&pythonBridge[_0x41bae1(0x277)](this,_0x41bae1(0x1eb),{'current_temps':_0x4596c2,'t_out':_0x1b7876});}catch(_0x28f44f){}}[a0_0x1d9823(0x276)](){const _0x29f61c=a0_0x1d9823;if(!this['rawEventLog']||this[_0x29f61c(0x226)][_0x29f61c(0x1d0)]===0x0)return;const _0x3a3f69=new Array(0x60)['fill'](0x0),_0x742514=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x29f61c(0x226)][_0x29f61c(0x1b5)](_0x15979c=>{const _0x4f0688=_0x29f61c,_0x12f08b=new Date(_0x15979c[_0x4f0688(0x27c)]);if(_0x12f08b['getTime']()>=_0x742514){const _0x508d92=_0x12f08b[_0x4f0688(0x1f8)](),_0x4fcc29=_0x12f08b[_0x4f0688(0x1e7)](),_0x1adf7e=_0x508d92*0x4+Math[_0x4f0688(0x1be)](_0x4fcc29/0xf);if(_0x1adf7e>=0x0&&_0x1adf7e<0x60)_0x3a3f69[_0x1adf7e]++;}}),this[_0x29f61c(0x232)](_0x29f61c(0x22e),{'val':JSON['stringify'](_0x3a3f69),'ack':!![]});}[a0_0x1d9823(0x1bb)](){const _0x3db921=a0_0x1d9823;if(!this['dailyDigests']||this[_0x3db921(0x204)][_0x3db921(0x1d0)]<0x2)return;const _0x13187f=this[_0x3db921(0x204)][_0x3db921(0x27f)](_0x1fd551=>{const _0x3e423a=(_0x1fd551['activityLevel']||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x3e423a]||0x32;});pythonBridge[_0x3db921(0x277)](this,_0x3db921(0x242),{'values':_0x13187f,'tag':'Activity-Level'});}}if(require['main']!==module)module['exports']=_0x524984=>new CogniLiving(_0x524984);else new CogniLiving();