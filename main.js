function a0_0x5a30(_0x546c4d,_0x5f29aa){const _0x844085=a0_0x55d6();return a0_0x5a30=function(_0x2481b4,_0x5b96e6){_0x2481b4=_0x2481b4-0xac;let _0x55d66c=_0x844085[_0x2481b4];return _0x55d66c;},a0_0x5a30(_0x546c4d,_0x5f29aa);}const a0_0x521654=a0_0x5a30;(function(_0x55e231,_0x5752ec){const _0x388443=a0_0x5a30,_0xc4e2bb=_0x55e231();while(!![]){try{const _0x42ed25=parseInt(_0x388443(0x1b7))/0x1+-parseInt(_0x388443(0x1ca))/0x2*(-parseInt(_0x388443(0x196))/0x3)+parseInt(_0x388443(0xb1))/0x4+-parseInt(_0x388443(0x130))/0x5*(parseInt(_0x388443(0xb5))/0x6)+-parseInt(_0x388443(0xdb))/0x7+parseInt(_0x388443(0xe1))/0x8*(parseInt(_0x388443(0x140))/0x9)+parseInt(_0x388443(0xca))/0xa;if(_0x42ed25===_0x5752ec)break;else _0xc4e2bb['push'](_0xc4e2bb['shift']());}catch(_0x4c6da9){_0xc4e2bb['push'](_0xc4e2bb['shift']());}}}(a0_0x55d6,0x946e4));const a0_0x5b96e6=(function(){let _0x436a8a=!![];return function(_0x42a39b,_0xed4cae){const _0x3b8f0d=_0x436a8a?function(){const _0x1fdc8e=a0_0x5a30;if(_0xed4cae){const _0x3ca31a=_0xed4cae[_0x1fdc8e(0x203)](_0x42a39b,arguments);return _0xed4cae=null,_0x3ca31a;}}:function(){};return _0x436a8a=![],_0x3b8f0d;};}()),a0_0x2481b4=a0_0x5b96e6(this,function(){const _0x35f5e2=a0_0x5a30;return a0_0x2481b4[_0x35f5e2(0x10e)]()['search'](_0x35f5e2(0x13f))[_0x35f5e2(0x10e)]()['constructor'](a0_0x2481b4)[_0x35f5e2(0x1ed)](_0x35f5e2(0x13f));});a0_0x2481b4();'use strict';function a0_0x55d6(){const _0x257fcd=['search','Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','getCalendarNames\x20Error:\x20','No\x20recorded\x20events\x20yet.','weather','Cogni-Living','schlaf','initSensorSubscriptions','unknown','System\x20Mode','checkLtmDriftObjects','sendMorningBriefing','extendObjectAsync','lowbat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CRITICAL\x20SAFETY\x20CHECK:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20Sofort/Ad-Hoc:\x20Ist\x20es\x20jetzt\x20(','testNotification','Deviation','Feedback\x20saved:\x20','Deaktiviert\x20(Pro-Feature)','vis.','inactivityThresholdHours','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','apply','setPresence','system.mode','dutycycle','pop','Wetter:\x20Deaktiviert','events.lastEvent','write','Gast','forEach','ltmDriftCheckIntervalHours','Drift\x20Analysis','flot.','Raw\x20Log','k√ºche','onStateChange','Feedback\x20Log','checkLtmObjects','info.','notifyTelegramRecipient','lastAlertState','getEnums','createAllObjects','val','analysisInterval','licenseKey','feedbackHistory','Kalender:\x20Deaktiviert','Normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','LTM.baselineStatus','isEmergency','Comfort\x20Suggestion','loadRawEventLog','Starting\x20Autopilot\x20(','ltmStbWindowDays','light','info','LTM.processingStatus','guest','weatherInstance','\x20sensors...','VACATION','setupLtmScheduler','Aktiv\x20(','channel','KALENDER:\x20','driftAnalysisTimer','boolean','Pattern\x20Detected','initZombies','string','runGeminiAnalysis','analysis.automation.patternDetected','log','enum','text.alarm','Sending\x20notification:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20','genAI','ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20','Analysis\x20Error:\x20','currentSystemMode','accuweather.0','sort','analysis.isAlert','1091372NOcJmT','party','indicator.alarm','value','6374544vsoCrX','endsWith','setStateAsync','sensor','link_quality','Phase\x202:\x20ACUTE\x20MONITORING.\x20STB\x20(Last\x2014d):\x20','getSystemUUID','toLowerCase','getForeignObjectAsync','stick_unreach','notifyPushoverInstance','setHours','08:00','üö®üö®\x20NOTFALL','rssi','analysis.automation.description','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','Event\x20History','cover','window','date','4593420qyfMUz','some','Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','openweathermap','Adapter','.\x20PR√ÑSENZ:\x20','Last\x20Check','minDaysForBaseline','expire','command','indicator.alarm.fire','ical.0','runAutopilot','setupDriftAnalysisScheduler','Subscribing\x20to\x20','\x20Tage)','type','2488857AYcDNv','.forecast.current.state','setState','LTM','subscribeStates','triggerDailyDigest','8MajVLG','PARTY','models/gemini-flash-latest','Description','subscribeForeignStatesAsync','ltmJob','accuweather','getGenerativeModel',')\x20verd√§chtig\x20still?\x20Erwartest\x20du\x20basierend\x20auf\x20der\x20Tageszeit\x20Aktivit√§t\x20(z.B.\x20Morgens\x20Aufstehen)?\x20Wenn\x20ja\x20->\x20ALARM.\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20Akut\x20(vs.\x20STB):\x20Weicht\x20das\x20heutige\x20Verhalten\x20stark\x20von\x20den\x20letzten\x2014\x20Tagen\x20ab?\x20(z.B.\x205x\x20Toilette\x20statt\x203x).\x20Wenn\x20ja\x20->\x20WARNUNG.\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20Schleichend\x20(Drift):\x20(Nur\x20relevant\x20wenn\x20Phase\x203\x20aktiv)\x20Gibt\x20es\x20einen\x20langsamen\x20Trend\x20ins\x20Negative?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20Ignoriere\x20Fehlalarme\x20durch\x20Kontext:\x20','application/json','parse','icons-mfd.','siren','LTM.dailyDigests','getForeignStateAsync','members','initSystemConfig','switch','Action','working','unreach','summary','valve','Baseline\x20Status','long','stringify','version','analysis.automation.suggestedAction','enum.functions.*','common','schalter','lights','livingContext','K√ºche','uuid-not-found','Daily\x20Digests','generic','Sleep\x20Score\x20(0-100)','briefingEnabled','uuid','Gemini\x20Init\x20Error:\x20','loadDailyDigests','analysisHistory','custom','createDailyDigest','toString','error','wohn','tryParse','Alert\x20Reason','system.meta.uuid','ack','presenceDevices','config','dimmer','unload','Briefing\x20Sched\x20Error:\x20','find','text','calendarInstance','splice','LTM\x20Sched\x20Error:\x20','fault','HARD\x20WATCHDOG:\x20No\x20sensor\x20activity\x20detected\x20for\x20','_calName','.NextHours.Location_1.Day_1.current.symbol_desc','setupModeResetScheduler','events.history','join','startsWith','slice','Schlafzimmer','testApiKey','from','N/A','analysis.analysisHistory','presence','event','node-schedule','5zjueCb','analysis.activitySummary','notifyPushoverEnabled','unshift','temperature','inactivityMonitoringEnabled','rawEventLog','Logbook','analysis.trigger','KALENDER:\x20Keine\x20relevanten\x20Termine','json','map','analysis.comfortSummary','N/A\x20(Learning)','values','(((.+)+)+)+$','2315970XrqqsR','sendToAsync','.data.table','time','systemConfig','Drift\x20Details','isGracePeriodActive','analysis.health','scanForDevices','exitGraceTimer','alertReason','analysis.feedbackHistory','exitTimer','object','LTM.driftAnalysis','split','exports','door','namespace','Scanning\x20for\x20devices\x20(V7:\x20Basics\x20+\x20Explicit\x20Whitelist)...','system.config','daswetter.0','@google/generative-ai','motion','Health\x20&\x20Sleep\x20Analysis','abortExitTimer','direction','notifyTelegramInstance','role','setObjectNotExistsAsync','setupBriefingScheduler','humidity','modeResetJob','Nein','üö®\x20EMERGENCY','logDuplicates','bind','processSensorEvent','state','doors','main','send','trim','push','loadSystemMode','WETTER:\x20Keine\x20Daten\x20gefunden','admin.','button','online','_score','toLocaleString','onReady','name','AI\x20Emergency\x20Status','geminiModel','blind','indicator','WETTER:\x20','Error\x20reading\x20calendar\x20table:\x20','analysis.isEmergency','simple-api.','useCalendar','maintenance','energy','briefingTime','config_pending','updateBaselineStatus','isArray','off','initHistory','history.','devices','getCalendarNames','de-DE','systemUUID','length','Trigger\x20Analysis','baselineDrift','.Summary.Current','Urlaub','thermostat','timestamp','onUnload','dailyDigests','sendTo','\x20|\x20','34047CQKzWP','saveDailyDigests','ready','number','checkWifiPresence','system.','initPresenceSubscriptions','NORMAL','response','Scheduling\x20Morning\x20Briefing\x20for\x20','Drift\x20Sched\x20Error:\x20','bewegung','notifyEmailInstance','LTM.triggerDailyDigest','now','occupancy','GUEST','vacation','sendNotification','includes','Last\x20Result','isAlert','LTM.rawEventLog','scheduleJob','LTM.driftAnalysis.lastCheck','system','callback','heizung','latitude','replace','\x20*\x20*\x20*','none','pr√§senz','446284YVPmrL','KALENDER:\x20Keine\x20Kalender\x20ausgew√§hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)','message','Drift\x20Status','analysisTimer','notifyTelegramEnabled','onMessage','isProVersion','getStateAsync','cogni-living','analysis.alertReason','cancel','Phase\x201:\x20Learning\x20(No\x20Baseline).\x20Rely\x20on\x20common\x20sense.','KALENDER:\x20Keine\x20Daten','getLtmData','Badezimmer','filter','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ltmLtbWindowDays','104rZvfZb','\x20hours.\x20Potential\x20incapacitation.','sensorLastValues','0\x204\x20*\x20*\x20*','status','getForeignObjectsAsync','analysis.health.notes','notifyEmailEnabled','saveRawEventLog','checkSystemObjects','catch','triggerBriefing','isPresent','reachable','getCalendarContext','Gemini\x20AI\x20initialized.','runBaselineDriftAnalysis','.\x20PERSONA:\x20','Trigger\x20Briefing\x20(Test)','eventHistory','checkLicense','analysis.health.restlessness','Lernphase\x20(','getOverviewData','0\x203\x20*\x20*\x20*','cogni-living\x20adapter\x20starting\x20(v','updateAnalysisHistory','briefingJob','analysis.health.sleepScore','‚ö†Ô∏è\x20Alarm','activity','analysis.lastResult','generateContent','native','analysis.triggerBriefing'];a0_0x55d6=function(){return _0x257fcd;};return a0_0x55d6();}const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x521654(0x156)),schedule=require(a0_0x521654(0x12f)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x521654(0xe3),LTM_SCHEDULE=a0_0x521654(0x1e2),MODE_RESET_SCHEDULE=a0_0x521654(0x1cd),ANALYSIS_HISTORY_MAX_SIZE=0x64,LTM_DP_RAW_LOG=a0_0x521654(0x1ac),LTM_DP_DAILY_DIGESTS=a0_0x521654(0xee),LTM_DP_STATUS=a0_0x521654(0x22a),LTM_DP_TRIGGER_DIGEST=a0_0x521654(0x1a3),LTM_DP_BASELINE_STATUS=a0_0x521654(0x222),LTM_DP_DRIFT_CHANNEL=a0_0x521654(0x14e),LTM_DP_DRIFT_STATUS='LTM.driftAnalysis.baselineDrift',LTM_DP_DRIFT_DETAILS='LTM.driftAnalysis.driftDetails',LTM_DP_DRIFT_LAST_CHECK=a0_0x521654(0x1ae),SYSTEM_DP_MODE='system.mode',HARD_IGNORE_TERMS=[a0_0x521654(0xf5),a0_0x521654(0x1fa),a0_0x521654(0xc3),'connection',a0_0x521654(0x17e),a0_0x521654(0x10f),a0_0x521654(0x11f),a0_0x521654(0xf4),a0_0x521654(0x15a),a0_0x521654(0xbe),a0_0x521654(0x181),a0_0x521654(0x206),'firmware',a0_0x521654(0x1d7),a0_0x521654(0xb9)],BAD_NAMES=['targetposition','currentposition',a0_0x521654(0x166),'level',a0_0x521654(0xb4),'brightness','on',a0_0x521654(0x184),'switch','position','shutter',a0_0x521654(0x177),a0_0x521654(0xc7),a0_0x521654(0x1ce),a0_0x521654(0x157),a0_0x521654(0x12d),a0_0x521654(0x1a5),a0_0x521654(0x134),'humidity','power',a0_0x521654(0x17f),'setpoint',a0_0x521654(0xf7)],ADAPTER_BLACKLIST=[a0_0x521654(0x19b),a0_0x521654(0x16e),a0_0x521654(0x215),a0_0x521654(0x200),a0_0x521654(0x186),'material.',a0_0x521654(0xec),a0_0x521654(0x20f),'echarts.',a0_0x521654(0x17c)],SYSTEM_MODES={'NORMAL':'normal','VACATION':a0_0x521654(0x1a7),'PARTY':a0_0x521654(0xb2),'GUEST':a0_0x521654(0x22b)},AUTO_RESET_MODES=[SYSTEM_MODES['PARTY'],SYSTEM_MODES[a0_0x521654(0x1a6)]],PERSONA_MAPPING={'generic':a0_0x521654(0x1ee),'senior_aal':'PRIORIT√ÑT:\x20Gesundheit\x20und\x20Sicherheit\x20f√ºr\x20Senioren\x20(AAL).\x20Erkenne\x20Inaktivit√§t,\x20potenzielle\x20St√ºrze\x20(indirekt),\x20Schlafunterbrechungen\x20und\x20n√§chtliche\x20Unruhe.','family':a0_0x521654(0xcc),'single_comfort':a0_0x521654(0xc5),'security':'PRIORIT√ÑT:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungew√∂hnliche\x20Anwesenheit.'};class CogniLiving extends utils[a0_0x521654(0xce)]{constructor(_0x440c61){const _0x105d1b=a0_0x521654;super({..._0x440c61,'name':_0x105d1b(0x1c0)}),this[_0x105d1b(0x1dd)]=[],this[_0x105d1b(0x10b)]=[],this[_0x105d1b(0x21d)]=[],this[_0x105d1b(0x136)]=[],this['dailyDigests']=[],this['sensorLastValues']={},this[_0x105d1b(0x144)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x105d1b(0x1d6)]=!![],this[_0x105d1b(0x14c)]=null,this[_0x105d1b(0x149)]=null,this['isGracePeriodActive']=![],this[_0x105d1b(0x23f)]=null,this[_0x105d1b(0x176)]=null,this['currentSystemMode']=SYSTEM_MODES['NORMAL'],this[_0x105d1b(0x1be)]=![],this[_0x105d1b(0x217)]=![],this[_0x105d1b(0x18a)]=_0x105d1b(0x1f5),this[_0x105d1b(0x1bb)]=null,this[_0x105d1b(0xe6)]=null,this[_0x105d1b(0x160)]=null,this[_0x105d1b(0x233)]=null,this['briefingJob']=null,this['on'](_0x105d1b(0x198),this[_0x105d1b(0x173)]['bind'](this)),this['on']('stateChange',this[_0x105d1b(0x212)][_0x105d1b(0x164)](this)),this['on'](_0x105d1b(0x118),this['onUnload'][_0x105d1b(0x164)](this)),this['on'](_0x105d1b(0x1b9),this[_0x105d1b(0x1bd)]['bind'](this));}async['onReady'](){const _0x5001b3=a0_0x521654;this[_0x5001b3(0x23a)][_0x5001b3(0x229)](_0x5001b3(0x1e3)+this[_0x5001b3(0xfb)]+')'),await this[_0x5001b3(0x236)](),this[_0x5001b3(0x116)][_0x5001b3(0x21c)]=this['config'][_0x5001b3(0x21c)]||'';try{this[_0x5001b3(0x1be)]=await this['checkLicense'](this['config'][_0x5001b3(0x21c)]);}catch(_0x33c85b){}if(!this[_0x5001b3(0x116)]['inactivityThresholdHours']||this[_0x5001b3(0x116)][_0x5001b3(0x201)]<0.1)this[_0x5001b3(0x116)][_0x5001b3(0x201)]=0xc;await this[_0x5001b3(0x185)](),await this['initSystemConfig']();if(this[_0x5001b3(0x116)]['geminiApiKey'])try{this[_0x5001b3(0x23f)]=new GoogleGenerativeAI(this['config']['geminiApiKey']),this[_0x5001b3(0x176)]=this['genAI'][_0x5001b3(0xe8)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5001b3(0xea)}}),this[_0x5001b3(0x23a)][_0x5001b3(0x229)](_0x5001b3(0x1d9));}catch(_0x2a5b3c){this['log']['error'](_0x5001b3(0x109)+_0x2a5b3c['message']);}await this[_0x5001b3(0x219)](),await this['loadSystemMode'](),await this[_0x5001b3(0x225)](),await this[_0x5001b3(0x10a)](),this['subscribeStates']('analysis.trigger'),this[_0x5001b3(0xdf)](LTM_DP_TRIGGER_DIGEST),this[_0x5001b3(0xdf)](_0x5001b3(0x205)),this[_0x5001b3(0xdf)](_0x5001b3(0x1ec)),await this[_0x5001b3(0x1f4)](),await this[_0x5001b3(0x19c)]();if(this[_0x5001b3(0x1bb)])clearInterval(this['analysisTimer']);const _0xd904ab=this[_0x5001b3(0x116)][_0x5001b3(0x21b)]||0xf;_0xd904ab>0x0&&(this[_0x5001b3(0x23a)]['info'](_0x5001b3(0x226)+_0xd904ab+'\x20min).'),this[_0x5001b3(0x1bb)]=setInterval(()=>{const _0x39b908=_0x5001b3;this[_0x39b908(0xd6)]();},_0xd904ab*0x3c*0x3e8)),this[_0x5001b3(0x22f)](),this[_0x5001b3(0x123)](),this[_0x5001b3(0xd7)](),this[_0x5001b3(0x15e)]();}[a0_0x521654(0x192)](_0x170763){const _0xf99247=a0_0x521654;if(this[_0xf99247(0x1bb)])clearInterval(this[_0xf99247(0x1bb)]);if(this[_0xf99247(0x233)])clearInterval(this[_0xf99247(0x233)]);if(this[_0xf99247(0xe6)])this['ltmJob']['cancel']();if(this[_0xf99247(0x160)])this['modeResetJob'][_0xf99247(0x1c2)]();if(this[_0xf99247(0x1e5)])this['briefingJob'][_0xf99247(0x1c2)]();if(this[_0xf99247(0x14c)])clearTimeout(this[_0xf99247(0x14c)]);if(this[_0xf99247(0x149)])clearTimeout(this[_0xf99247(0x149)]);_0x170763();}async['onStateChange'](_0x53e03b,_0x15869e){const _0x4a3129=a0_0x521654;if(!_0x15869e)return;if(_0x53e03b===this[_0x4a3129(0x152)]+'.'+SYSTEM_DP_MODE){_0x15869e[_0x4a3129(0x21a)]&&Object[_0x4a3129(0x13e)](SYSTEM_MODES)['includes'](_0x15869e['val'])&&(this['currentSystemMode']=_0x15869e[_0x4a3129(0x21a)],_0x15869e[_0x4a3129(0x21a)]===SYSTEM_MODES[_0x4a3129(0x22e)]?await this['setPresence'](![]):await this[_0x4a3129(0x204)](!![]));if(!_0x15869e[_0x4a3129(0x114)])this[_0x4a3129(0xdd)](_0x53e03b,{'val':this[_0x4a3129(0xad)],'ack':!![]});return;}if(!_0x15869e[_0x4a3129(0x114)]){_0x53e03b[_0x4a3129(0x1a9)](_0x4a3129(0x138))&&_0x15869e['val']&&(this[_0x4a3129(0xdd)](_0x53e03b,{'val':![],'ack':!![]}),this[_0x4a3129(0x238)]());if(_0x53e03b['includes'](_0x4a3129(0xe0))&&_0x15869e[_0x4a3129(0x21a)]){this[_0x4a3129(0xdd)](_0x53e03b,{'val':![],'ack':!![]});if(this[_0x4a3129(0x1be)])this[_0x4a3129(0x10d)]();}_0x53e03b[_0x4a3129(0x1a9)](_0x4a3129(0x1d5))&&_0x15869e[_0x4a3129(0x21a)]&&(this[_0x4a3129(0xdd)](_0x53e03b,{'val':![],'ack':!![]}),this[_0x4a3129(0x1f8)]());return;}if(this[_0x4a3129(0x116)]['presenceDevices']&&this['config'][_0x4a3129(0x115)][_0x4a3129(0x1a9)](_0x53e03b)){await this[_0x4a3129(0x19a)]();return;}const _0x316ca1=(this['config'][_0x4a3129(0x187)]||[])[_0x4a3129(0x11a)](_0x2ed5d6=>_0x2ed5d6['id']===_0x53e03b);if(_0x316ca1)this['processSensorEvent'](_0x53e03b,_0x15869e,_0x316ca1);}async[a0_0x521654(0x1bd)](_0x15fae1){const _0x3f4502=a0_0x521654;if(typeof _0x15fae1===_0x3f4502(0x14d)&&_0x15fae1['message'])try{if(_0x15fae1['command']===_0x3f4502(0x129)){}else{if(_0x15fae1[_0x3f4502(0xd3)]===_0x3f4502(0x1fc)){}else{if(_0x15fae1['command']===_0x3f4502(0x1c5)){}else{if(_0x15fae1[_0x3f4502(0xd3)]===_0x3f4502(0x1e1)){const _0x180029=this[_0x3f4502(0x193)][_0x3f4502(0x18b)],_0x1f4baf=this[_0x3f4502(0x1dd)]['filter'](_0x37e7fd=>_0x37e7fd[_0x3f4502(0x191)]>new Date()[_0x3f4502(0xc0)](0x0,0x0,0x0,0x0))[_0x3f4502(0x18b)];let _0x518587={'status':_0x3f4502(0x12b)};try{_0x518587['status']=(await this[_0x3f4502(0x1bf)](LTM_DP_DRIFT_STATUS))[_0x3f4502(0x21a)];}catch(_0x579216){}this[_0x3f4502(0x194)](_0x15fae1['from'],_0x15fae1['command'],{'success':!![],'eventHistory':this[_0x3f4502(0x1dd)][_0x3f4502(0x127)](0x0,0xf),'stats':{'digestCount':_0x180029,'eventCountToday':_0x1f4baf,'driftStatus':_0x518587['status'],'isPresent':this['isPresent'],'minDays':this[_0x3f4502(0x116)]['minDaysForBaseline']||0x7,'stbDays':this[_0x3f4502(0x116)][_0x3f4502(0x227)]||0xe,'ltbDays':this[_0x3f4502(0x116)]['ltmLtbWindowDays']||0x3c}},_0x15fae1['callback']);}else{if(_0x15fae1[_0x3f4502(0xd3)]===_0x3f4502(0x218)){const _0x9ea842=await this['getForeignObjectsAsync'](_0x3f4502(0xfd),'enum'),_0x578a41=[];if(_0x9ea842)for(const _0x1dae32 in _0x9ea842){const _0x578b10=_0x9ea842[_0x1dae32],_0xb22913=(_0x578b10[_0x3f4502(0xfe)]&&typeof _0x578b10[_0x3f4502(0xfe)]['name']==='object'?_0x578b10['common']['name']['de']:_0x578b10['common']['name'])||_0x578b10[_0x3f4502(0xfe)]['name'];_0x578a41[_0x3f4502(0x16b)]({'id':_0x1dae32,'name':_0xb22913});}this[_0x3f4502(0x194)](_0x15fae1[_0x3f4502(0x12a)],_0x15fae1['command'],{'success':!![],'enums':_0x578a41},_0x15fae1['callback']);}else{if(_0x15fae1[_0x3f4502(0xd3)]==='scanDevices')try{const _0x510bec=await this[_0x3f4502(0x148)](_0x15fae1['message']||{});this[_0x3f4502(0x194)](_0x15fae1['from'],_0x15fae1[_0x3f4502(0xd3)],{'success':!![],'devices':_0x510bec},_0x15fae1[_0x3f4502(0x1b0)]);}catch(_0x441dd3){this[_0x3f4502(0x194)](_0x15fae1[_0x3f4502(0x12a)],_0x15fae1[_0x3f4502(0xd3)],{'success':![],'error':_0x441dd3[_0x3f4502(0x1b9)]},_0x15fae1[_0x3f4502(0x1b0)]);}}}}}}}catch(_0x551a4f){}}async[a0_0x521654(0x165)](_0x48c60e,_0x2d6694,_0x5c221d){const _0xa8a46f=a0_0x521654;if(!_0x5c221d[_0xa8a46f(0x163)]&&this[_0xa8a46f(0x1cc)][_0x48c60e]===_0x2d6694[_0xa8a46f(0x21a)])return;this['sensorLastValues'][_0x48c60e]=_0x2d6694[_0xa8a46f(0x21a)];if(this[_0xa8a46f(0x146)])return;const _0x560fd1=await this[_0xa8a46f(0x19a)]();if(_0x560fd1){if(!this[_0xa8a46f(0x1d6)])await this[_0xa8a46f(0x204)](!![]);}else{const _0xe64b71=_0x5c221d['isExit']===!![];if(_0xe64b71)this['startExitTimer']();else{if(this[_0xa8a46f(0x14c)])this['abortExitTimer']();if(!this[_0xa8a46f(0x1d6)]&&this[_0xa8a46f(0xad)]===SYSTEM_MODES[_0xa8a46f(0x19d)])await this[_0xa8a46f(0x204)](!![]);}}const _0x213e45={'timestamp':_0x2d6694['ts'],'id':_0x48c60e,'name':_0x5c221d[_0xa8a46f(0x174)],'value':_0x2d6694[_0xa8a46f(0x21a)],'location':_0x5c221d['location'],'type':_0x5c221d[_0xa8a46f(0xda)]};this[_0xa8a46f(0x1dd)]['unshift'](_0x213e45);if(this[_0xa8a46f(0x1dd)][_0xa8a46f(0x18b)]>HISTORY_MAX_SIZE)this['eventHistory'][_0xa8a46f(0x207)]();await this[_0xa8a46f(0xb7)]('events.lastEvent',{'val':JSON[_0xa8a46f(0xfa)](_0x213e45),'ack':!![]}),await this[_0xa8a46f(0xb7)](_0xa8a46f(0x124),{'val':JSON[_0xa8a46f(0xfa)](this['eventHistory']),'ack':!![]}),this['rawEventLog'][_0xa8a46f(0x16b)]({'timestamp':new Date(_0x2d6694['ts'])['toISOString'](),'sensorName':_0x5c221d[_0xa8a46f(0x174)],'location':_0x5c221d['location'],'value':_0x2d6694[_0xa8a46f(0x21a)]}),await this['saveRawEventLog']();}async[a0_0x521654(0x238)](_0x4b4f42=''){const _0x127c62=a0_0x521654;if(!this[_0x127c62(0x176)])return;const _0x5a60d9=this['eventHistory'][_0x127c62(0x18b)]>0x0?this[_0x127c62(0x1dd)]:[{'note':_0x127c62(0x1f0)}],_0x189dec=PERSONA_MAPPING[this['config']['aiPersona']||_0x127c62(0x105)],_0x5403f3=this['config'][_0x127c62(0x101)]||'',_0x2e708b=this[_0x127c62(0xad)],_0x2ffcd3=await this['getWeatherContext'](),_0x357eb1=await this[_0x127c62(0x1d8)](),_0x2db8ef=(_0x2ffcd3+'\x20'+_0x357eb1)[_0x127c62(0x16a)](),_0x542d91=new Date(),_0x4671c2=_0x542d91[_0x127c62(0x172)](_0x127c62(0x189),{'weekday':_0x127c62(0xf9),'hour':_0x127c62(0x221),'minute':_0x127c62(0x221)});let _0x2b37e1=_0x127c62(0x1c3);const _0x338f6d=this[_0x127c62(0x193)]['length'];if(this[_0x127c62(0x1be)]&&_0x338f6d>=(this['config'][_0x127c62(0xd1)]||0x7)){const _0x1be8aa=this['dailyDigests'][_0x127c62(0x127)](-(this[_0x127c62(0x116)][_0x127c62(0x227)]||0xe));_0x2b37e1=_0x127c62(0xba)+JSON[_0x127c62(0xfa)](_0x1be8aa)+'.',_0x338f6d>=0x1e&&(_0x2b37e1+='\x20Phase\x203:\x20DRIFT\x20ACTIVE.\x20Compare\x20recent\x20events\x20against\x20long-term\x20patterns.');}const _0x4a7c40=_0x127c62(0x1fb)+_0x4671c2+_0x127c62(0xe9)+_0x2db8ef+_0x127c62(0x220),_0x3bd891=_0x127c62(0x240)+_0x4671c2+'.\x20MODUS:\x20'+_0x2e708b+_0x127c62(0xcf)+(this[_0x127c62(0x1d6)]?'Ja':_0x127c62(0x161))+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT:\x20'+_0x5403f3+_0x127c62(0x1db)+_0x189dec+_0x127c62(0x1c8)+_0x2b37e1+'\x20'+(_0x4b4f42?_0x4b4f42:'')+_0x127c62(0x220)+_0x4a7c40+_0x127c62(0x23e)+JSON[_0x127c62(0xfa)](_0x5a60d9)+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22isEmergency\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20},\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number\x20(0-100),\x20\x22restlessness\x22:\x20\x22none|low|medium|high\x22,\x20\x22notes\x22:\x20\x22string\x22\x20}\x20}';try{const _0x1e8873=await this[_0x127c62(0x176)][_0x127c62(0x1ea)](_0x3bd891),_0x58940f=_0x1e8873[_0x127c62(0x19e)][_0x127c62(0x11b)]()['replace'](/```json|```/g,'')[_0x127c62(0x16a)](),_0x2e4105=JSON[_0x127c62(0xeb)](_0x58940f);await this[_0x127c62(0xb7)](_0x127c62(0x1e9),{'val':_0x58940f,'ack':!![]}),await this[_0x127c62(0xb7)](_0x127c62(0x1c1),{'val':_0x2e4105[_0x127c62(0x1e8)][_0x127c62(0x14a)]||'','ack':!![]}),await this[_0x127c62(0xb7)](_0x127c62(0x131),{'val':_0x2e4105[_0x127c62(0x1e8)][_0x127c62(0xf6)]||_0x127c62(0x12b),'ack':!![]});if(_0x2e4105[_0x127c62(0x1e8)][_0x127c62(0x1ab)]||_0x2e4105[_0x127c62(0x1e8)][_0x127c62(0x223)]){await this[_0x127c62(0xb7)](_0x127c62(0xb0),{'val':!![],'ack':!![]});if(!this[_0x127c62(0x217)]||_0x2e4105['activity']['isEmergency']){const _0x562676=_0x2e4105[_0x127c62(0x1e8)][_0x127c62(0x223)]?_0x127c62(0xc2):_0x127c62(0x1e7);this[_0x127c62(0x1a8)](_0x562676+':\x20'+_0x2e4105[_0x127c62(0x1e8)]['alertReason'],![],_0x2e4105[_0x127c62(0x1e8)][_0x127c62(0x223)]);}}else await this['setStateAsync'](_0x127c62(0xb0),{'val':![],'ack':!![]});this[_0x127c62(0x217)]=_0x2e4105[_0x127c62(0x1e8)][_0x127c62(0x1ab)]||_0x2e4105[_0x127c62(0x1e8)][_0x127c62(0x223)];const _0x1a7f5f={'timestamp':Date[_0x127c62(0x1a4)](),'id':Date['now']()[_0x127c62(0x10e)](),'analysis':_0x2e4105,'systemMode':_0x2e708b,'isPro':this[_0x127c62(0x1be)]};this['updateAnalysisHistory'](_0x1a7f5f);}catch(_0x5cce05){this[_0x127c62(0x23a)][_0x127c62(0x10f)](_0x127c62(0xac)+_0x5cce05['message']);}}async[a0_0x521654(0xd6)](){const _0x20da9b=a0_0x521654,_0x64c16a=this[_0x20da9b(0x116)][_0x20da9b(0x201)],_0x3abf69=this['eventHistory'][_0x20da9b(0x18b)]>0x0?this[_0x20da9b(0x1dd)][0x0][_0x20da9b(0x191)]:Date[_0x20da9b(0x1a4)](),_0x132041=(Date[_0x20da9b(0x1a4)]()-_0x3abf69)/(0x3e8*0x3c*0x3c);let _0x1c455d='';this[_0x20da9b(0x116)][_0x20da9b(0x135)]&&this[_0x20da9b(0xad)]===SYSTEM_MODES[_0x20da9b(0x19d)]&&this[_0x20da9b(0x1d6)]&&(_0x132041>_0x64c16a&&(_0x1c455d=_0x20da9b(0x120)+_0x132041['toFixed'](0x1)+_0x20da9b(0x1cb))),this[_0x20da9b(0x238)](_0x1c455d)[_0x20da9b(0x1d4)](_0x5f0349=>this[_0x20da9b(0x23a)][_0x20da9b(0x10f)](_0x5f0349));}async[a0_0x521654(0x10d)](){}async[a0_0x521654(0x1f8)](){}async[a0_0x521654(0x148)](_0x3e9113){const _0x465d6c=a0_0x521654;this[_0x465d6c(0x23a)][_0x465d6c(0x229)](_0x465d6c(0x153));const _0x2e82be=[],_0x326b6b=await this[_0x465d6c(0x1cf)]('*'),_0x3de4c9=await this['getForeignObjectsAsync'](_0x465d6c(0xfd),_0x465d6c(0x23b)),_0xa69651=await this['getForeignObjectsAsync']('enum.rooms.*',_0x465d6c(0x23b)),_0x6c45c7={};if(_0x3de4c9)for(const _0x2e3e9a in _0x3de4c9){const _0x415fb8=_0x3de4c9[_0x2e3e9a]['common'][_0x465d6c(0xf0)]||[];_0x415fb8[_0x465d6c(0x20c)](_0x27567e=>{const _0x4c844a=_0x465d6c;if(!_0x6c45c7[_0x27567e])_0x6c45c7[_0x27567e]=[];_0x6c45c7[_0x27567e][_0x4c844a(0x16b)](_0x2e3e9a);});}const _0x6607f8={};if(_0xa69651)for(const _0x22ef5e in _0xa69651){const _0x3cecbb=_0xa69651[_0x22ef5e][_0x465d6c(0xfe)][_0x465d6c(0xf0)]||[],_0x33a57a=typeof _0xa69651[_0x22ef5e][_0x465d6c(0xfe)][_0x465d6c(0x174)]===_0x465d6c(0x14d)?_0xa69651[_0x22ef5e]['common'][_0x465d6c(0x174)]['de']:_0xa69651[_0x22ef5e]['common'][_0x465d6c(0x174)];_0x3cecbb[_0x465d6c(0x20c)](_0x4ca681=>_0x6607f8[_0x4ca681]=_0x33a57a);}const _0x2ba1d0=_0x3e9113['selectedFunctionIds']||[],_0x31e062=_0x3e9113[_0x465d6c(0x157)]!==![],_0xdb8a95=_0x3e9113[_0x465d6c(0x167)]!==![],_0x1f5e29=_0x3e9113[_0x465d6c(0x100)]!==![],_0x119c7a=_0x3e9113[_0x465d6c(0x134)]===!![],_0x3136c2=_0x3e9113[_0x465d6c(0x1f1)]===!![];for(const _0x212298 in _0x326b6b){const _0x4177c2=_0x326b6b[_0x212298];if(_0x4177c2['type']!==_0x465d6c(0x166)||!_0x4177c2[_0x465d6c(0xfe)])continue;if(ADAPTER_BLACKLIST['some'](_0x40a072=>_0x212298[_0x465d6c(0x126)](_0x40a072))&&!_0x3136c2)continue;const _0x453777=(_0x4177c2[_0x465d6c(0xfe)][_0x465d6c(0x15c)]||'')[_0x465d6c(0xbc)]();let _0xd3ab4d=(typeof _0x4177c2['common']['name']===_0x465d6c(0x14d)?_0x4177c2[_0x465d6c(0xfe)][_0x465d6c(0x174)]['de']:_0x4177c2[_0x465d6c(0xfe)][_0x465d6c(0x174)])||_0x212298;const _0x2244f3=_0xd3ab4d[_0x465d6c(0xbc)]();let _0xeea841=![],_0x3b36e9=![];if(_0x2ba1d0[_0x465d6c(0x18b)]>0x0){const _0x1295a0=_0x6c45c7[_0x212298]||[],_0x59e507=_0x212298['split']('.')['slice'](0x0,-0x1)[_0x465d6c(0x125)]('.'),_0x40630a=_0x6c45c7[_0x59e507]||[],_0x5d1615=_0x212298[_0x465d6c(0x14f)]('.')[_0x465d6c(0x127)](0x0,-0x2)[_0x465d6c(0x125)]('.'),_0x5f36c9=_0x6c45c7[_0x5d1615]||[];(_0x1295a0[_0x465d6c(0xcb)](_0x58053c=>_0x2ba1d0[_0x465d6c(0x1a9)](_0x58053c))||_0x40630a[_0x465d6c(0xcb)](_0x19cc9e=>_0x2ba1d0[_0x465d6c(0x1a9)](_0x19cc9e))||_0x5f36c9[_0x465d6c(0xcb)](_0x535a1d=>_0x2ba1d0['includes'](_0x535a1d)))&&(_0xeea841=!![],_0x3b36e9=!![]);}if(!_0xeea841&&!_0x3136c2){if(HARD_IGNORE_TERMS[_0x465d6c(0xcb)](_0x57f62a=>_0x212298[_0x465d6c(0x1a9)](_0x57f62a)||_0x2244f3['includes'](_0x57f62a[_0x465d6c(0xbc)]())))continue;}if(BAD_NAMES[_0x465d6c(0xcb)](_0x13934e=>_0x2244f3===_0x13934e||_0x2244f3[_0x465d6c(0xb6)]('.'+_0x13934e))){const _0x1953fe=_0x212298[_0x465d6c(0x14f)]('.');if(_0x1953fe['length']>0x2){const _0x47ea97=_0x1953fe['slice'](0x0,-0x1)[_0x465d6c(0x125)]('.'),_0x1cad3c=_0x326b6b[_0x47ea97];if(_0x1cad3c&&_0x1cad3c[_0x465d6c(0xfe)]&&_0x1cad3c[_0x465d6c(0xfe)][_0x465d6c(0x174)]){const _0x5ac508=typeof _0x1cad3c[_0x465d6c(0xfe)][_0x465d6c(0x174)]===_0x465d6c(0x14d)?_0x1cad3c[_0x465d6c(0xfe)][_0x465d6c(0x174)]['de']:_0x1cad3c['common'][_0x465d6c(0x174)];_0x5ac508&&!_0xd3ab4d[_0x465d6c(0x1a9)](_0x5ac508)&&(_0xd3ab4d=_0x5ac508+'\x20'+_0xd3ab4d);}}}let _0x1ab4bd='';if(_0x31e062&&(_0x453777[_0x465d6c(0x1a9)](_0x465d6c(0x157))||_0x453777[_0x465d6c(0x1a9)](_0x465d6c(0x1a5))||_0x2244f3[_0x465d6c(0x1a9)](_0x465d6c(0x1a1))||_0x2244f3['includes'](_0x465d6c(0x1b6))))_0x1ab4bd=_0x465d6c(0x157);else{if(!_0x1ab4bd&&_0xdb8a95&&(_0x453777[_0x465d6c(0x1a9)](_0x465d6c(0x151))||_0x453777[_0x465d6c(0x1a9)](_0x465d6c(0xc8))||_0x453777[_0x465d6c(0x1a9)]('lock')||_0x453777[_0x465d6c(0x1a9)](_0x465d6c(0x177))||_0x453777[_0x465d6c(0x1a9)]('shutter')||_0x2244f3['includes']('fenster')||_0x2244f3['includes']('t√ºr')||_0x2244f3['includes']('rollladen')))_0x1ab4bd=_0x465d6c(0x151);else{if(!_0x1ab4bd&&_0x1f5e29&&(_0x453777[_0x465d6c(0x1a9)](_0x465d6c(0x228))||_0x453777[_0x465d6c(0x1a9)]('switch')||_0x453777['includes'](_0x465d6c(0x117))||_0x2244f3['includes']('licht')||_0x2244f3[_0x465d6c(0x1a9)]('lampe')||_0x2244f3[_0x465d6c(0x1a9)](_0x465d6c(0xff)))){if(_0x4177c2[_0x465d6c(0xfe)][_0x465d6c(0x20a)]||_0x453777['includes'](_0x465d6c(0xb8))||_0x2244f3[_0x465d6c(0x1a9)](_0x465d6c(0xf2)))_0x1ab4bd=_0x465d6c(0x228);}else{if(!_0x1ab4bd&&_0x119c7a&&(_0x453777[_0x465d6c(0x1a9)](_0x465d6c(0x134))||_0x453777[_0x465d6c(0x1a9)](_0x465d6c(0x15f))||_0x453777[_0x465d6c(0x1a9)](_0x465d6c(0x190))||_0x2244f3['includes']('temp')||_0x2244f3[_0x465d6c(0x1a9)]('klima')||_0x2244f3[_0x465d6c(0x1a9)](_0x465d6c(0x1b1))))_0x1ab4bd=_0x465d6c(0x134);else{if(!_0x1ab4bd&&_0x3b36e9)_0x1ab4bd=_0x465d6c(0x10c);}}}}if(_0x1ab4bd){let _0x5203d3=_0x6607f8[_0x212298]||'';if(!_0x5203d3){let _0x5df630=_0x212298;for(let _0x49e5f2=0x0;_0x49e5f2<0x3;_0x49e5f2++){const _0x1565e3=_0x5df630['lastIndexOf']('.');if(_0x1565e3===-0x1)break;_0x5df630=_0x5df630['substring'](0x0,_0x1565e3);if(_0x6607f8[_0x5df630]){_0x5203d3=_0x6607f8[_0x5df630];break;}}}if(!_0x5203d3){const _0x3f4415=(_0x212298+'\x20'+_0xd3ab4d)[_0x465d6c(0xbc)]();if(_0x3f4415[_0x465d6c(0x1a9)]('bad')||_0x3f4415[_0x465d6c(0x1a9)]('wc'))_0x5203d3=_0x465d6c(0x1c6);else{if(_0x3f4415[_0x465d6c(0x1a9)](_0x465d6c(0x211)))_0x5203d3=_0x465d6c(0x102);else{if(_0x3f4415[_0x465d6c(0x1a9)](_0x465d6c(0x110)))_0x5203d3='Wohnzimmer';else{if(_0x3f4415[_0x465d6c(0x1a9)](_0x465d6c(0x1f3)))_0x5203d3=_0x465d6c(0x128);else{if(_0x3f4415[_0x465d6c(0x1a9)]('flur'))_0x5203d3='Flur';}}}}}_0x2e82be['push']({'id':_0x212298,'name':_0xd3ab4d,'location':_0x5203d3,'type':_0x1ab4bd,'logDuplicates':_0x1ab4bd==='motion','isExit':![],'_score':_0x5203d3?0x50:_0x1ab4bd==='custom'?0x5a:0x28});}}return _0x2e82be[_0x465d6c(0xaf)]((_0xcb9705,_0x1cd5aa)=>_0x1cd5aa['_score']-_0xcb9705[_0x465d6c(0x171)]),_0x2e82be;}[a0_0x521654(0x111)](_0x4df1d6){const _0x4778b0=a0_0x521654;if(typeof _0x4df1d6===_0x4778b0(0x14d))return _0x4df1d6;try{return JSON[_0x4778b0(0xeb)](_0x4df1d6);}catch(_0x94b46){return null;}}async[a0_0x521654(0x236)](){}async[a0_0x521654(0x185)](){const _0x27812e=a0_0x521654;try{const _0x338832=await this[_0x27812e(0x1bf)](_0x27812e(0x124));_0x338832&&_0x338832['val']&&(this[_0x27812e(0x1dd)]=JSON[_0x27812e(0xeb)](_0x338832[_0x27812e(0x21a)]['toString']()));}catch(_0x15fe61){this[_0x27812e(0x1dd)]=[];}try{const _0x26648e=await this[_0x27812e(0x1bf)](_0x27812e(0x12c));if(_0x26648e&&_0x26648e[_0x27812e(0x21a)])this[_0x27812e(0x10b)]=JSON[_0x27812e(0xeb)](_0x26648e[_0x27812e(0x21a)]['toString']());}catch(_0x49c677){this[_0x27812e(0x10b)]=[];}}async[a0_0x521654(0xf1)](){const _0x7c2c17=a0_0x521654;try{const _0x2168d0=await this[_0x7c2c17(0xbd)](_0x7c2c17(0x154));_0x2168d0&&_0x2168d0[_0x7c2c17(0xfe)]&&(this[_0x7c2c17(0x144)]={'latitude':_0x2168d0[_0x7c2c17(0xfe)][_0x7c2c17(0x1b2)]||0x0,'longitude':_0x2168d0['common']['longitude']||0x0,'city':_0x2168d0['common']['city']||''});}catch(_0x1b0839){}}async[a0_0x521654(0x1de)](_0x5aa2c7){const _0x582b04=a0_0x521654;if(!_0x5aa2c7)return![];this[_0x582b04(0x18a)]=await this[_0x582b04(0xbb)]();if(_0x5aa2c7==='TEST-PRO-KEY'||_0x5aa2c7[_0x582b04(0x126)]('PRO-'))return!![];return![];}async[a0_0x521654(0xbb)](){const _0x4fa238=a0_0x521654;try{const _0x5ad649=await this[_0x4fa238(0xbd)](_0x4fa238(0x113));if(_0x5ad649&&_0x5ad649['native']&&_0x5ad649[_0x4fa238(0x1eb)][_0x4fa238(0x108)])return _0x5ad649[_0x4fa238(0x1eb)][_0x4fa238(0x108)];return _0x4fa238(0x103);}catch(_0x2e2c87){return'uuid-error';}}async['createAllObjects'](){const _0x59c894=a0_0x521654;await this[_0x59c894(0x1d3)](),await this['setObjectNotExistsAsync'](_0x59c894(0x209),{'type':_0x59c894(0x166),'common':{'name':'Last\x20raw\x20event','type':'string','role':_0x59c894(0x13a),'read':!![],'write':![]},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0x124),{'type':'state','common':{'name':_0x59c894(0xc6),'type':_0x59c894(0x237),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x59c894(0x15d)]('analysis.trigger',{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x18c),'type':_0x59c894(0x234),'role':_0x59c894(0x16f),'read':!![],'write':!![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.triggerBriefing',{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x1dc),'type':_0x59c894(0x234),'role':_0x59c894(0x16f),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0x1e9),{'type':'state','common':{'name':_0x59c894(0x1aa),'type':_0x59c894(0x237),'role':_0x59c894(0x13a),'read':!![],'write':![]},'native':{}}),await this[_0x59c894(0x15d)]('analysis.isAlert',{'type':_0x59c894(0x166),'common':{'name':'AI\x20Alert\x20Status','type':_0x59c894(0x234),'role':_0x59c894(0xb3),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0x17b),{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x175),'type':_0x59c894(0x234),'role':_0x59c894(0xd4),'read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x59c894(0x1c1),{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x112),'type':_0x59c894(0x237),'role':_0x59c894(0x23c),'read':!![],'write':![]},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0x131),{'type':_0x59c894(0x166),'common':{'name':'Activity\x20Summary','type':_0x59c894(0x237),'role':_0x59c894(0x11b),'read':!![],'write':![]},'native':{}}),await this[_0x59c894(0x15d)]('analysis.deviationFromBaseline',{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x1fd),'type':_0x59c894(0x237),'role':_0x59c894(0x166),'read':!![],'write':![],'def':_0x59c894(0x12b)},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0x13c),{'type':_0x59c894(0x166),'common':{'name':'Comfort\x20Summary','type':_0x59c894(0x237),'role':_0x59c894(0x11b),'read':!![],'write':![]},'native':{}}),await this[_0x59c894(0x15d)]('analysis.comfortSuggestion',{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x224),'type':_0x59c894(0x237),'role':_0x59c894(0x11b),'read':!![],'write':![]},'native':{}}),await this[_0x59c894(0x1f9)]('analysis.automation',{'type':'channel','common':{'name':'Automation\x20Proposals'},'native':{}}),await this['setObjectNotExistsAsync'](_0x59c894(0x239),{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x235),'type':_0x59c894(0x234),'role':_0x59c894(0x178),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0xc4),{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0xe4),'type':_0x59c894(0x237),'role':'text','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x59c894(0xfc),{'type':'state','common':{'name':_0x59c894(0xf3),'type':_0x59c894(0x237),'role':_0x59c894(0x11b),'read':!![],'write':![]},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0x12c),{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x137),'type':'string','role':_0x59c894(0x13a),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0x14b),{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x213),'type':_0x59c894(0x237),'role':_0x59c894(0x13a),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x59c894(0x1f9)](_0x59c894(0x147),{'type':_0x59c894(0x231),'common':{'name':_0x59c894(0x158)},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0x1e6),{'type':_0x59c894(0x166),'common':{'name':_0x59c894(0x106),'type':'number','role':'value.health','read':!![],'write':![],'def':0x0},'native':{}}),await this[_0x59c894(0x15d)](_0x59c894(0x1df),{'type':'state','common':{'name':'Restlessness\x20Level','type':_0x59c894(0x237),'role':_0x59c894(0x11b),'read':!![],'write':![],'def':_0x59c894(0x1b5)},'native':{}}),await this['setObjectNotExistsAsync'](_0x59c894(0x1d0),{'type':'state','common':{'name':'Health\x20Notes','type':'string','role':_0x59c894(0x11b),'read':!![],'write':![],'def':''},'native':{}}),await this[_0x59c894(0x214)](),await this['checkLtmDriftObjects']();}async['checkSystemObjects'](){const _0x2d5085=a0_0x521654;await this[_0x2d5085(0x1f9)](_0x2d5085(0x1af),{'type':_0x2d5085(0x231),'common':{'name':'System\x20Status\x20&\x20Control'},'native':{}}),await this[_0x2d5085(0x1f9)](SYSTEM_DP_MODE,{'type':_0x2d5085(0x166),'common':{'name':_0x2d5085(0x1f6),'type':_0x2d5085(0x237),'role':'state','read':!![],'write':!![],'def':SYSTEM_MODES['NORMAL'],'states':{[SYSTEM_MODES[_0x2d5085(0x19d)]]:_0x2d5085(0x21f),[SYSTEM_MODES[_0x2d5085(0x22e)]]:_0x2d5085(0x18f),[SYSTEM_MODES[_0x2d5085(0xe2)]]:'Party',[SYSTEM_MODES['GUEST']]:_0x2d5085(0x20b)}},'native':{}});}async[a0_0x521654(0x214)](){const _0x1ad591=a0_0x521654;await this[_0x1ad591(0x1f9)](_0x1ad591(0xde),{'type':_0x1ad591(0x231),'common':{'name':_0x1ad591(0xde)},'native':{}}),await this[_0x1ad591(0x1f9)](LTM_DP_RAW_LOG,{'type':'state','common':{'name':_0x1ad591(0x210),'type':_0x1ad591(0x237),'role':_0x1ad591(0x13a),'read':!![],'write':![]},'native':{}}),await this[_0x1ad591(0x1f9)](LTM_DP_DAILY_DIGESTS,{'type':_0x1ad591(0x166),'common':{'name':_0x1ad591(0x104),'type':_0x1ad591(0x237),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x1ad591(0x1f9)](LTM_DP_STATUS,{'type':_0x1ad591(0x166),'common':{'name':'Processing\x20Status','type':'string','role':'text','read':!![],'write':![]},'native':{}}),await this[_0x1ad591(0x1f9)](LTM_DP_TRIGGER_DIGEST,{'type':_0x1ad591(0x166),'common':{'name':'Trigger\x20Digest','type':'boolean','role':_0x1ad591(0x16f),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x1ad591(0x1f9)](LTM_DP_BASELINE_STATUS,{'type':_0x1ad591(0x166),'common':{'name':_0x1ad591(0xf8),'type':_0x1ad591(0x237),'role':'text','read':!![],'write':![]},'native':{}});}async[a0_0x521654(0x1f7)](){const _0x1fa414=a0_0x521654;await this[_0x1fa414(0x1f9)](LTM_DP_DRIFT_CHANNEL,{'type':_0x1fa414(0x231),'common':{'name':_0x1fa414(0x20e)},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_STATUS,{'type':'state','common':{'name':_0x1fa414(0x1ba),'type':'string','role':_0x1fa414(0x166),'read':!![],'write':![],'def':'N/A'},'native':{}}),await this[_0x1fa414(0x1f9)](LTM_DP_DRIFT_DETAILS,{'type':_0x1fa414(0x166),'common':{'name':_0x1fa414(0x145),'type':'string','role':_0x1fa414(0x11b),'read':!![],'write':![]},'native':{}}),await this[_0x1fa414(0x1f9)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x1fa414(0x166),'common':{'name':_0x1fa414(0xd0),'type':_0x1fa414(0x199),'role':_0x1fa414(0xc9),'read':!![],'write':![]},'native':{}});}async[a0_0x521654(0x16c)](){const _0x544565=a0_0x521654;try{const _0x148f6a=await this[_0x544565(0x1bf)](SYSTEM_DP_MODE);_0x148f6a&&_0x148f6a[_0x544565(0x21a)]&&Object[_0x544565(0x13e)](SYSTEM_MODES)['includes'](_0x148f6a[_0x544565(0x21a)])?this[_0x544565(0xad)]=_0x148f6a[_0x544565(0x21a)]:(this[_0x544565(0xad)]=SYSTEM_MODES['NORMAL'],await this[_0x544565(0xb7)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x544565(0x19d)],'ack':!![]}));}catch(_0x28b7ea){this['currentSystemMode']=SYSTEM_MODES[_0x544565(0x19d)];}}async['loadRawEventLog'](){const _0x3badac=a0_0x521654;try{const _0x369cda=await this[_0x3badac(0x1bf)](LTM_DP_RAW_LOG);if(_0x369cda&&_0x369cda[_0x3badac(0x21a)])this['rawEventLog']=JSON[_0x3badac(0xeb)](_0x369cda[_0x3badac(0x21a)]);}catch(_0x656c4b){this[_0x3badac(0x136)]=[];}}async['loadDailyDigests'](){const _0xed5c28=a0_0x521654;try{const _0x4d20c1=await this['getStateAsync'](LTM_DP_DAILY_DIGESTS);if(_0x4d20c1&&_0x4d20c1['val'])this['dailyDigests']=JSON['parse'](_0x4d20c1[_0xed5c28(0x21a)]);}catch(_0x426cd2){this['dailyDigests']=[];}await this[_0xed5c28(0x182)]();}async[a0_0x521654(0x1d2)](){const _0x578086=a0_0x521654;this[_0x578086(0x136)][_0x578086(0x18b)]>RAW_LOG_MAX_SIZE&&this[_0x578086(0x136)][_0x578086(0x11d)](0x0,this[_0x578086(0x136)][_0x578086(0x18b)]-RAW_LOG_MAX_SIZE),await this['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON[_0x578086(0xfa)](this['rawEventLog']),'ack':!![]});}async[a0_0x521654(0x197)](_0x460a56=!![]){const _0x5309f0=a0_0x521654,_0x1e3e24=this['config'][_0x5309f0(0x1c9)]||0x3c;this[_0x5309f0(0x193)][_0x5309f0(0x18b)]>_0x1e3e24&&this[_0x5309f0(0x193)]['splice'](0x0,this[_0x5309f0(0x193)]['length']-_0x1e3e24);await this['setStateAsync'](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x5309f0(0xfa)](this[_0x5309f0(0x193)]),'ack':!![]});if(_0x460a56)await this['updateBaselineStatus']();}async[a0_0x521654(0x1e4)](_0x558e82){const _0x317ea6=a0_0x521654;this[_0x317ea6(0x10b)][_0x317ea6(0x133)](_0x558e82);if(this[_0x317ea6(0x10b)]['length']>ANALYSIS_HISTORY_MAX_SIZE)this['analysisHistory'][_0x317ea6(0x207)]();await this[_0x317ea6(0xb7)](_0x317ea6(0x12c),{'val':JSON[_0x317ea6(0xfa)](this[_0x317ea6(0x10b)]),'ack':!![]});}async[a0_0x521654(0x182)](){const _0x46bf17=a0_0x521654;if(!this[_0x46bf17(0x1be)]){await this[_0x46bf17(0xb7)](LTM_DP_BASELINE_STATUS,{'val':_0x46bf17(0x1ff),'ack':!![]});return;}const _0x5cebe7=this[_0x46bf17(0x193)][_0x46bf17(0x18b)]>=(this[_0x46bf17(0x116)][_0x46bf17(0xd1)]||0x7)?_0x46bf17(0x230)+this[_0x46bf17(0x193)]['length']+_0x46bf17(0xd9):_0x46bf17(0x1e0)+this[_0x46bf17(0x193)][_0x46bf17(0x18b)]+'/'+(this[_0x46bf17(0x116)][_0x46bf17(0xd1)]||0x7)+')';await this['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x5cebe7,'ack':!![]});}async[a0_0x521654(0x1f4)](){const _0x39aa18=a0_0x521654,_0x4f7ed5=this[_0x39aa18(0x116)]['devices'];if(_0x4f7ed5&&_0x4f7ed5[_0x39aa18(0x18b)]>0x0){this[_0x39aa18(0x23a)][_0x39aa18(0x229)](_0x39aa18(0xd8)+_0x4f7ed5[_0x39aa18(0x18b)]+_0x39aa18(0x22d));for(const _0x226d88 of _0x4f7ed5){if(_0x226d88['id']){await this[_0x39aa18(0xe5)](_0x226d88['id']);try{const _0x5632e2=await this[_0x39aa18(0xef)](_0x226d88['id']);if(_0x5632e2)this['sensorLastValues'][_0x226d88['id']]=_0x5632e2['val'];}catch(_0x4789de){}}}}}async[a0_0x521654(0x19c)](){const _0x3251ad=a0_0x521654,_0x53d28f=this[_0x3251ad(0x116)][_0x3251ad(0x115)]||[];if(_0x53d28f[_0x3251ad(0x18b)]>0x0){this[_0x3251ad(0x23a)][_0x3251ad(0x229)](_0x3251ad(0xd8)+_0x53d28f[_0x3251ad(0x18b)]+'\x20presence\x20devices...');for(const _0x328433 of _0x53d28f){await this[_0x3251ad(0xe5)](_0x328433);}try{await this['checkWifiPresence']();}catch(_0x43e7a4){}}}async['getWeatherContext'](){const _0x5b00e7=a0_0x521654;try{if(!this[_0x5b00e7(0x116)]['useWeather'])return _0x5b00e7(0x208);let _0x13b301='';const _0x2f4cad=this[_0x5b00e7(0x116)][_0x5b00e7(0x22c)];if(_0x2f4cad)try{if(_0x2f4cad[_0x5b00e7(0x1a9)](_0x5b00e7(0xe7))){const _0x59f28e=await this[_0x5b00e7(0xef)](_0x2f4cad+_0x5b00e7(0x18e));if(_0x59f28e&&_0x59f28e[_0x5b00e7(0x21a)])_0x13b301=_0x59f28e[_0x5b00e7(0x21a)];}else{if(_0x2f4cad[_0x5b00e7(0x1a9)]('daswetter')){const _0x50e395=await this[_0x5b00e7(0xef)](_0x2f4cad+_0x5b00e7(0x122));if(_0x50e395&&_0x50e395[_0x5b00e7(0x21a)])_0x13b301=_0x50e395[_0x5b00e7(0x21a)];}else{if(_0x2f4cad[_0x5b00e7(0x1a9)](_0x5b00e7(0xcd))){const _0x21ca89=await this[_0x5b00e7(0xef)](_0x2f4cad+_0x5b00e7(0xdc));if(_0x21ca89&&_0x21ca89[_0x5b00e7(0x21a)])_0x13b301=_0x21ca89[_0x5b00e7(0x21a)];}}}}catch(_0xfc3878){}if(!_0x13b301){const _0x680c82=[_0x5b00e7(0xae),_0x5b00e7(0x155),'weatherunderground.0','openweathermap.0'];for(const _0x5aeb45 of _0x680c82){try{const _0x4e7657=await this[_0x5b00e7(0xbd)](_0x5aeb45);if(_0x4e7657){if(_0x5aeb45[_0x5b00e7(0x1a9)](_0x5b00e7(0xe7))){const _0x530491=await this['getForeignStateAsync'](_0x5aeb45+_0x5b00e7(0x18e));if(_0x530491&&_0x530491['val']){_0x13b301=_0x530491[_0x5b00e7(0x21a)];break;}}}}catch(_0xac6d){}}}return _0x13b301?_0x5b00e7(0x179)+_0x13b301:_0x5b00e7(0x16d);}catch(_0x2b3256){return'WETTER\x20ERROR:\x20'+_0x2b3256[_0x5b00e7(0x1b9)];}}async['getCalendarContext'](){const _0x4f4cf4=a0_0x521654;try{if(!this['config'][_0x4f4cf4(0x17d)])return _0x4f4cf4(0x21e);let _0x13292f=this['config'][_0x4f4cf4(0x11c)]||_0x4f4cf4(0xd5),_0x1c10d3=this['config']['calendarSelection']||[];if(typeof _0x1c10d3===_0x4f4cf4(0x237))_0x1c10d3=_0x1c10d3[_0x4f4cf4(0x14f)](',');try{const _0x1ff5a6=await this[_0x4f4cf4(0xef)](_0x13292f+_0x4f4cf4(0x142));if(_0x1ff5a6&&_0x1ff5a6['val']){let _0xa0105c=this['tryParse'](_0x1ff5a6['val']);if(_0xa0105c&&Array['isArray'](_0xa0105c)){if(_0x1c10d3[_0x4f4cf4(0x18b)]>0x0)_0xa0105c=_0xa0105c[_0x4f4cf4(0x1c7)](_0x599aa1=>_0x1c10d3['includes'](_0x599aa1[_0x4f4cf4(0x121)]||''));else return _0x4f4cf4(0x1b8);if(_0xa0105c[_0x4f4cf4(0x18b)]>0x0){const _0x16fb4d=_0xa0105c[_0x4f4cf4(0x127)](0x0,0x3)['map'](_0x46f3b9=>{const _0x21e831=_0x4f4cf4;let _0x3bb8bc=_0x46f3b9[_0x21e831(0xc9)];if(_0x46f3b9['time'])_0x3bb8bc+='\x20'+_0x46f3b9[_0x21e831(0x143)];return _0x3bb8bc+':\x20'+_0x46f3b9[_0x21e831(0x12e)]+'\x20('+_0x46f3b9[_0x21e831(0x121)]+')';});return _0x4f4cf4(0x232)+_0x16fb4d[_0x4f4cf4(0x125)](_0x4f4cf4(0x195));}else return _0x4f4cf4(0x139);}}}catch(_0x434b7c){this[_0x4f4cf4(0x23a)]['warn'](_0x4f4cf4(0x17a)+_0x434b7c[_0x4f4cf4(0x1b9)]);}return _0x4f4cf4(0x1c4);}catch(_0x54085e){return'KALENDER\x20ERROR:\x20'+_0x54085e[_0x4f4cf4(0x1b9)];}}async[a0_0x521654(0x188)](_0x5589dd){const _0x22f177=a0_0x521654;try{const _0x36262c=await this[_0x22f177(0xef)](_0x5589dd+_0x22f177(0x142));if(_0x36262c&&_0x36262c[_0x22f177(0x21a)]){const _0x503c3f=this[_0x22f177(0x111)](_0x36262c[_0x22f177(0x21a)]);if(_0x503c3f&&Array[_0x22f177(0x183)](_0x503c3f)){const _0x491ce0=[...new Set(_0x503c3f[_0x22f177(0x13b)](_0x43bb5c=>_0x43bb5c[_0x22f177(0x121)])[_0x22f177(0x1c7)](Boolean))];return _0x491ce0[_0x22f177(0xaf)]();}}return[];}catch(_0xb923d0){return this[_0x22f177(0x23a)][_0x22f177(0x10f)](_0x22f177(0x1ef)+_0xb923d0[_0x22f177(0x1b9)]),[];}}async[a0_0x521654(0x19a)](){const _0x12c3bc=a0_0x521654;try{const _0x1cc206=this[_0x12c3bc(0x116)][_0x12c3bc(0x115)]||[];let _0x142bd2=![];for(const _0x28f045 of _0x1cc206){try{const _0x474cc5=await this['getForeignStateAsync'](_0x28f045);if(_0x474cc5&&(_0x474cc5[_0x12c3bc(0x21a)]===!![]||_0x474cc5[_0x12c3bc(0x21a)]===_0x12c3bc(0x170)||_0x474cc5['val']===0x1)){_0x142bd2=!![];break;}}catch(_0x5a89f9){}}return _0x142bd2&&(this[_0x12c3bc(0x14c)]&&(this[_0x12c3bc(0x23a)][_0x12c3bc(0x229)](_0x12c3bc(0x202)),this['abortExitTimer']()),!this[_0x12c3bc(0x1d6)]&&this[_0x12c3bc(0xad)]===SYSTEM_MODES[_0x12c3bc(0x19d)]&&await this[_0x12c3bc(0x204)](!![])),_0x142bd2;}catch(_0x561b9d){return this['log']['error']('Error\x20checking\x20WiFi:\x20'+_0x561b9d[_0x12c3bc(0x1b9)]),![];}}['startExitTimer'](){const _0x2d4bb0=a0_0x521654;this['abortExitTimer'](),this[_0x2d4bb0(0x146)]=!![],this[_0x2d4bb0(0x149)]=setTimeout(()=>{const _0x1609be=_0x2d4bb0;this[_0x1609be(0x146)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this['exitTimer']=setTimeout(()=>{const _0x219081=_0x2d4bb0;this[_0x219081(0x204)](![]),this[_0x219081(0x14c)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}[a0_0x521654(0x159)](){const _0x1545f9=a0_0x521654;if(this[_0x1545f9(0x14c)])clearTimeout(this[_0x1545f9(0x14c)]);if(this[_0x1545f9(0x149)])clearTimeout(this['exitGraceTimer']);this[_0x1545f9(0x14c)]=null,this[_0x1545f9(0x149)]=null,this['isGracePeriodActive']=![];}async[a0_0x521654(0x204)](_0x44708c){const _0x562ef9=a0_0x521654;if(this[_0x562ef9(0x1d6)]===_0x44708c)return;this[_0x562ef9(0x1d6)]=_0x44708c,await this[_0x562ef9(0xb7)]('system.isPresent',{'val':_0x44708c,'ack':!![]});}async['saveFeedback'](_0x2b63e5){const _0x5daaec=a0_0x521654;this['log'][_0x5daaec(0x229)](_0x5daaec(0x1fe)+JSON[_0x5daaec(0xfa)](_0x2b63e5));}async[a0_0x521654(0x1da)](){const _0x3c7def=a0_0x521654;if(!this[_0x3c7def(0x1be)]||!this[_0x3c7def(0x176)])return;const _0x268d74=this[_0x3c7def(0x116)][_0x3c7def(0x227)]||0xe;if(this[_0x3c7def(0x193)]['length']<_0x268d74+(this[_0x3c7def(0x116)][_0x3c7def(0xd1)]||0x7)){await this[_0x3c7def(0xb7)](LTM_DP_DRIFT_STATUS,{'val':_0x3c7def(0x13d),'ack':!![]});return;}const _0x1936c9=this['dailyDigests'][_0x3c7def(0x127)](-_0x268d74),_0x40eda3=this[_0x3c7def(0x193)][_0x3c7def(0x127)](0x0,this[_0x3c7def(0x193)][_0x3c7def(0x18b)]-_0x268d74),_0x22a71d='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON['stringify'](_0x40eda3)+'\x0aSTB:\x20'+JSON[_0x3c7def(0xfa)](_0x1936c9);try{const _0x107d40=await this['geminiModel'][_0x3c7def(0x1ea)](_0x22a71d),_0x6e7981=JSON['parse'](_0x107d40[_0x3c7def(0x19e)][_0x3c7def(0x11b)]()[_0x3c7def(0x1b3)](/```json|```/g,'')[_0x3c7def(0x16a)]());_0x6e7981['baselineDrift']&&(await this[_0x3c7def(0xb7)](LTM_DP_DRIFT_STATUS,{'val':_0x6e7981[_0x3c7def(0x18d)],'ack':!![]}),await this[_0x3c7def(0xb7)](LTM_DP_DRIFT_DETAILS,{'val':_0x6e7981['driftDetails'],'ack':!![]}),await this['setStateAsync'](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x3c7def(0x1a4)](),'ack':!![]}));}catch(_0x28fc57){}}['setupLtmScheduler'](){const _0x33e0e1=a0_0x521654;try{if(this[_0x33e0e1(0xe6)])this[_0x33e0e1(0xe6)]['cancel']();if(!this[_0x33e0e1(0x1be)]){this[_0x33e0e1(0xb7)](LTM_DP_STATUS,{'val':_0x33e0e1(0x1ff),'ack':!![]});return;}this['ltmJob']=schedule['scheduleJob'](LTM_SCHEDULE,()=>this['createDailyDigest']());}catch(_0x2cddf2){this['log']['error'](_0x33e0e1(0x11e)+_0x2cddf2['message']);}}[a0_0x521654(0x123)](){const _0x101b6f=a0_0x521654;try{if(this[_0x101b6f(0x160)])this[_0x101b6f(0x160)]['cancel']();this['modeResetJob']=schedule[_0x101b6f(0x1ad)](MODE_RESET_SCHEDULE,async()=>{const _0x363351=_0x101b6f;await this[_0x363351(0x16c)](),AUTO_RESET_MODES[_0x363351(0x1a9)](this['currentSystemMode'])&&await this[_0x363351(0xb7)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x363351(0x19d)],'ack':![]});});}catch(_0x232d9b){this[_0x101b6f(0x23a)][_0x101b6f(0x10f)]('Reset\x20Sched\x20Error:\x20'+_0x232d9b['message']);}}[a0_0x521654(0xd7)](){const _0x160a61=a0_0x521654;try{if(this['driftAnalysisTimer'])clearInterval(this[_0x160a61(0x233)]);if(!this[_0x160a61(0x1be)])return;this['driftAnalysisTimer']=setInterval(()=>this[_0x160a61(0x1da)](),(this['config'][_0x160a61(0x20d)]||0x18)*0x36ee80),setTimeout(()=>this['runBaselineDriftAnalysis'](),0x1388);}catch(_0x5f559e){this['log']['error'](_0x160a61(0x1a0)+_0x5f559e[_0x160a61(0x1b9)]);}}[a0_0x521654(0x15e)](){const _0x1000f0=a0_0x521654;try{if(this[_0x1000f0(0x1e5)])this['briefingJob'][_0x1000f0(0x1c2)]();if(!this[_0x1000f0(0x116)][_0x1000f0(0x107)])return;const _0x4413eb=(this[_0x1000f0(0x116)][_0x1000f0(0x180)]||_0x1000f0(0xc1))[_0x1000f0(0x14f)](':'),_0x213aeb=parseInt(_0x4413eb[0x0])||0x8,_0x63723b=parseInt(_0x4413eb[0x1])||0x0,_0xca7c86=_0x63723b+'\x20'+_0x213aeb+_0x1000f0(0x1b4);this['log'][_0x1000f0(0x229)](_0x1000f0(0x19f)+_0x213aeb+':'+(_0x63723b<0xa?'0'+_0x63723b:_0x63723b)),this[_0x1000f0(0x1e5)]=schedule['scheduleJob'](_0xca7c86,()=>{const _0x2676eb=_0x1000f0;this[_0x2676eb(0x1f8)]();});}catch(_0x3416ee){this[_0x1000f0(0x23a)][_0x1000f0(0x10f)](_0x1000f0(0x119)+_0x3416ee[_0x1000f0(0x1b9)]);}}async[a0_0x521654(0x1a8)](_0x1def9e,_0x1a56f7=![],_0x5aae7a=![]){const _0x1772eb=a0_0x521654;this[_0x1772eb(0x23a)]['info']((_0x1a56f7?'[TEST]\x20':'')+_0x1772eb(0x23d)+_0x1def9e+'\x22');const _0x4c9233=this[_0x1772eb(0x116)];let _0x4499ca=0x0;_0x4c9233[_0x1772eb(0x1bc)]&&(await this[_0x1772eb(0x141)](_0x4c9233[_0x1772eb(0x15b)],_0x1772eb(0x169),{'text':_0x1def9e,'user':_0x4c9233[_0x1772eb(0x216)]}),_0x4499ca++);if(_0x4c9233[_0x1772eb(0x132)]){let _0x5ae319={'message':_0x1def9e,'title':_0x5aae7a?_0x1772eb(0x162):_0x1772eb(0x1f2),'priority':_0x5aae7a?0x2:0x1,'device':_0x4c9233['notifyPushoverRecipient']};_0x5aae7a&&(_0x5ae319['retry']=0x1e,_0x5ae319[_0x1772eb(0xd2)]=0xe10,_0x5ae319['sound']=_0x1772eb(0xed)),await this['sendToAsync'](_0x4c9233[_0x1772eb(0xbf)],_0x1772eb(0x169),_0x5ae319),_0x4499ca++;}return _0x4c9233[_0x1772eb(0x1d1)]&&(await this[_0x1772eb(0x141)](_0x4c9233[_0x1772eb(0x1a2)],'send',{'text':_0x1def9e,'to':_0x4c9233['notifyEmailRecipient']}),_0x4499ca++),_0x4499ca;}}if(require[a0_0x521654(0x168)]!==module)module[a0_0x521654(0x150)]=_0x468302=>new CogniLiving(_0x468302);else new CogniLiving();