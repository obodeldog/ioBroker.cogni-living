const a0_0x49cb65=a0_0x328d;(function(_0x1a8eeb,_0x9da2dd){const _0x466577=a0_0x328d,_0x39a14a=_0x1a8eeb();while(!![]){try{const _0x4a7bd6=parseInt(_0x466577(0x223))/0x1*(parseInt(_0x466577(0x139))/0x2)+parseInt(_0x466577(0x21e))/0x3*(parseInt(_0x466577(0x154))/0x4)+parseInt(_0x466577(0x167))/0x5+-parseInt(_0x466577(0x20a))/0x6*(parseInt(_0x466577(0x1f5))/0x7)+parseInt(_0x466577(0x203))/0x8+parseInt(_0x466577(0x1b0))/0x9*(-parseInt(_0x466577(0x1a7))/0xa)+parseInt(_0x466577(0x1b4))/0xb*(-parseInt(_0x466577(0x1fc))/0xc);if(_0x4a7bd6===_0x9da2dd)break;else _0x39a14a['push'](_0x39a14a['shift']());}catch(_0x58215d){_0x39a14a['push'](_0x39a14a['shift']());}}}(a0_0x4c63,0x4ca92));const a0_0x35d85e=(function(){let _0x3071e3=!![];return function(_0x44c177,_0x44a022){const _0x52a62d=_0x3071e3?function(){const _0x1e6c26=a0_0x328d;if(_0x44a022){const _0x1ef801=_0x44a022[_0x1e6c26(0x217)](_0x44c177,arguments);return _0x44a022=null,_0x1ef801;}}:function(){};return _0x3071e3=![],_0x52a62d;};}()),a0_0x2897a6=a0_0x35d85e(this,function(){const _0x44c42d=a0_0x328d;return a0_0x2897a6[_0x44c42d(0x151)]()['search'](_0x44c42d(0x1b9))['toString']()[_0x44c42d(0x1e0)](a0_0x2897a6)[_0x44c42d(0x1e7)](_0x44c42d(0x1b9));});a0_0x2897a6();function a0_0x328d(_0x51937e,_0x4e8295){const _0x37b2ba=a0_0x4c63();return a0_0x328d=function(_0x2897a6,_0x35d85e){_0x2897a6=_0x2897a6-0x11f;let _0x4c6391=_0x37b2ba[_0x2897a6];return _0x4c6391;},a0_0x328d(_0x51937e,_0x4e8295);}'use strict';function a0_0x4c63(){const _0x2f0774=['1452340ZmXltm','eventHistory','Heizung\x20kann\x20','unload','checkSolarCondition','toLowerCase','createAllObjects','LTM.trainingData.sequences','getOverviewData','slice','getForeignObjectsAsync','stringify','getOutsideTemperatureNumeric','simulateEnergyMPC','runBaselineDriftAnalysis','OPTIMIZE_ENERGY','sendNotification','klar','analysis.automation.triggerAction','analysis.training.triggerHealth','getCalendarNames','updateTopologyMatrix','scanThermostats','getHours','isPresent','name','cogni-living','daswetter.0','bind','application/json','setupLtmScheduler','cogni-living\x20adapter\x20starting\x20(v','Test','checkWifiPresence','LTM.rawEventLog','getLtmData','floor','startService','dailyDigests','calendarInstance','./lib/scanner','ANALYZE_GAIT','Sec-Training\x20started...','sort','runPythonHealthCheck','Gemini\x20AI\x20initialized.','presenceDevices','online','some','forecast.current.weather','parse','location','notifyTelegramEnabled','rawEventLog','Warm-Up\x20Target\x20Temps\x20(JSON)','TRAIN_ENERGY','system.adapter.','instance','map','SET_TOPOLOGY','subscribeStates','analysis.energy.warmupTargets','createDailyDigest','Adapter','23830pOwvaQ','SYSTEM_MODES',')\x20-\x20Phase\x20D\x20(Evolution)','analysis.triggerBriefing','find','TRAIN_SECURITY','Current.WeatherText','geminiModel','TRAIN_HEALTH','1845NfiFrC','setupModeResetScheduler','setState','val','1698059xcSVop','@google/generative-ai','runAutopilot','licenseKey','add','(((.+)+)+)+$','modeResetJob','json','analysis.automation.targetValue','enum','sonn','callback','string','Gemini\x20Init\x20Error:\x20','values','Kein\x20API\x20Key\x20Ã¼bergeben','SET_LEARNING_MODE','communicate.request','analysis.training.triggerTopology','analysis.automation.patternDetected','getForeignStateAsync','LTM.trainingData.thermodynamics','setObjectNotExistsAsync','./lib/dead_man','isProVersion','triggerGaitAnalysis','getEnums','analysis.energy.ventilationAlerts','\x20min\x20ausbleiben.','analysis.training.triggerSecurity','lastAlertState','setPresence','heiter','updateTopology','ltmJob','.system.mode','system.presenceWho','error','useWeather','split','WiFi\x20Presence\x20detected.','analysis.automation.description','party','briefingJob','constructor','sensorLastValues','updated','./lib/recorder','models/gemini-flash-latest','SYSTEM_DP_MODE','push','search','triggerBriefing','now','ANALYZE_TREND','abs','apiKey','from','sunny','info','notifyTelegramInstance','abortExitTimer','currentSystemMode','testContext','type','230013UMKKWP','checkCalendarTriggers','onStateChange','endsWith','analysis.energy.warmupTimes','command','object','12HKWxOS','NORMAL','initHistory','fill','PREDICT_ENERGY','analysis.automation.autoApply','accuweather.0','1930792TyztlS','calendarName','./lib/scheduler','startSystem','analysis.energy.pinnForecast','clear','Aktiv\x20(','18pmCwXz','setupBriefingScheduler','genAI','Keine\x20Antwort\x20von\x20Gemini','manual','analysis.training.triggerEnergy','LTM.triggerDailyDigest','Simulation\x20durch\x20Admin\x20(Test)','exitGraceTimer','scores','./lib/topology','setStateAsync','Party\x20Mode','apply','initSystemConfig','join','lastTrackerEventTime','updateHealthVector','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','inactivityThresholdHours','54198AsxfSc','PYTHON_EXE','motion','runGeminiAnalysis','forEach','135361nJxPGB','LTM.baselineStatus','version','trackerHeartbeat','analysis.trigger','getStateAsync','exports','triggerDailyDigest','Kein\x20Wetter-Adapter','analysisInterval','_calName','config','analysisTimer','analysis.automation.targetId','initZombies','@iobroker/adapter-core','driftAnalysisTimer','getState','keys','LTM.dailyDigests','generateContent','Verbunden','onMessage','entries','automation.triggerAction','Active\x20Ventilation\x20Alerts','log','devices','text','analysis.security.learningStatus','response','enum.rooms.*','Instanz\x20nicht\x20gefunden','triggerEnergyPrediction','./lib/automation','namespace','4mxytfG','system.mode','subscribeForeignStatesAsync','analysis.topology.structure','sendMorningBriefing','onReady','common','ack','Guest\x20Mode','temperature','main','TRAIN_COMFORT','systemConfig','length','Daten\x20nicht\x20verfÃ¼gbar','./lib/python_bridge','onUnload','exitTimer','includes','state','getGenerativeModel','Lernphase\x20(','Activity-Level','Fehler:\x20','toString','timestamp','activityLevel','56YMoRor','trackerEnabled','minDaysForBaseline','Notification\x20Test\x20Failed:\x20','enum.functions.*','minutes_safe','setHours','\x20Tage)','isSolar','analysis.training.status','message','cancel','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','analysis.training.triggerComfort','geminiApiKey','loadSystemMode','send','isArray','sendTo'];a0_0x4c63=function(){return _0x2f0774;};return a0_0x4c63();}const utils=require(a0_0x49cb65(0x124)),{GoogleGenerativeAI}=require(a0_0x49cb65(0x1b5)),installer=require('./lib/installer'),scanner=require(a0_0x49cb65(0x18f)),schedulers=require(a0_0x49cb65(0x205)),topology=require(a0_0x49cb65(0x214)),setup=require('./lib/setup'),recorder=require(a0_0x49cb65(0x1e3)),pythonBridge=require(a0_0x49cb65(0x148)),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x49cb65(0x1cb)),automation=require(a0_0x49cb65(0x137)),GEMINI_MODEL=a0_0x49cb65(0x1e4),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x49cb65(0x1a6)]{constructor(_0x3616b5){const _0x352933=a0_0x49cb65;super({..._0x3616b5,'name':_0x352933(0x181)}),this['eventHistory']=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x352933(0x18d)]=[],this[_0x352933(0x1e1)]={},this[_0x352933(0x145)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x352933(0x17f)]=!![],this[_0x352933(0x14a)]=null,this[_0x352933(0x212)]=null,this['isGracePeriodActive']=![],this['genAI']=null,this[_0x352933(0x1ae)]=null,this[_0x352933(0x1f2)]=setup['SYSTEM_MODES']['NORMAL'],this[_0x352933(0x1cc)]=![],this[_0x352933(0x1d2)]=![],this[_0x352933(0x121)]=null,this[_0x352933(0x1d6)]=null,this[_0x352933(0x1ba)]=null,this[_0x352933(0x125)]=null,this['briefingJob']=null,this['dependencyInstallInProgress']=![],this[_0x352933(0x226)]=null,this[_0x352933(0x21a)]=Date[_0x352933(0x1e9)](),this['on']('ready',this[_0x352933(0x13e)][_0x352933(0x183)](this)),this['on']('stateChange',this[_0x352933(0x1f7)]['bind'](this)),this['on'](_0x352933(0x16a),this[_0x352933(0x149)][_0x352933(0x183)](this)),this['on'](_0x352933(0x15e),this[_0x352933(0x12b)][_0x352933(0x183)](this));}async[a0_0x49cb65(0x13e)](){const _0x135c02=a0_0x49cb65;this[_0x135c02(0x12f)][_0x135c02(0x1ef)](_0x135c02(0x186)+this[_0x135c02(0x225)]+_0x135c02(0x1a9));if(!installer['checkAndInstall'](this,()=>this[_0x135c02(0x206)]()))return;}async[a0_0x49cb65(0x206)](){const _0x1f6435=a0_0x49cb65;await setup[_0x1f6435(0x123)](this);try{this[_0x1f6435(0x1cc)]=await setup['checkLicense'](this[_0x1f6435(0x120)][_0x1f6435(0x1b7)]);}catch(_0x2ebd18){}if(!this[_0x1f6435(0x120)][_0x1f6435(0x21d)]||this[_0x1f6435(0x120)][_0x1f6435(0x21d)]<0.1)this['config'][_0x1f6435(0x21d)]=0xc;await setup[_0x1f6435(0x1fe)](this),await setup[_0x1f6435(0x218)](this);if(this[_0x1f6435(0x120)][_0x1f6435(0x162)])try{this[_0x1f6435(0x20c)]=new GoogleGenerativeAI(this[_0x1f6435(0x120)][_0x1f6435(0x162)]),this[_0x1f6435(0x1ae)]=this[_0x1f6435(0x20c)][_0x1f6435(0x14d)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x1f6435(0x184)}}),this[_0x1f6435(0x12f)][_0x1f6435(0x1ef)](_0x1f6435(0x194));}catch(_0x5817ed){this[_0x1f6435(0x12f)][_0x1f6435(0x1d9)](_0x1f6435(0x1c1)+_0x5817ed[_0x1f6435(0x15e)]);}await setup[_0x1f6435(0x16d)](this),await this[_0x1f6435(0x163)](),await this[_0x1f6435(0x1ca)](_0x1f6435(0x207),{'type':_0x1f6435(0x14c),'common':{'name':'PINN\x20AI\x20Forecast','type':_0x1f6435(0x1c0),'role':_0x1f6435(0x1bb),'read':!![],'write':![]},'native':{}}),await this[_0x1f6435(0x1ca)](_0x1f6435(0x1cf),{'type':_0x1f6435(0x14c),'common':{'name':_0x1f6435(0x12e),'type':'string','role':_0x1f6435(0x1bb),'read':!![],'write':![]},'native':{}}),await this[_0x1f6435(0x1ca)](_0x1f6435(0x1f9),{'type':'state','common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this[_0x1f6435(0x1ca)](_0x1f6435(0x1a4),{'type':_0x1f6435(0x14c),'common':{'name':_0x1f6435(0x19d),'type':'string','role':_0x1f6435(0x1bb),'read':!![],'write':!![],'def':'{\x22default\x22:\x2021}'},'native':{}});try{const _0x194587=await this['getStateAsync']('LTM.rawEventLog');if(_0x194587&&_0x194587[_0x1f6435(0x1b3)])this['rawEventLog']=JSON[_0x1f6435(0x199)](_0x194587['val']);}catch(_0x1b2572){this[_0x1f6435(0x19c)]=[];}try{const _0x1a9631=await this[_0x1f6435(0x228)](_0x1f6435(0x128));if(_0x1a9631&&_0x1a9631[_0x1f6435(0x1b3)])this[_0x1f6435(0x18d)]=JSON[_0x1f6435(0x199)](_0x1a9631[_0x1f6435(0x1b3)]);}catch(_0x3d7beb){this[_0x1f6435(0x18d)]=[];}const _0x35da9b=this[_0x1f6435(0x18d)][_0x1f6435(0x146)]>=(this[_0x1f6435(0x120)][_0x1f6435(0x156)]||0x7)?_0x1f6435(0x209)+this[_0x1f6435(0x18d)]['length']+_0x1f6435(0x15b):_0x1f6435(0x14e)+this['dailyDigests']['length']+'/'+(this[_0x1f6435(0x120)][_0x1f6435(0x156)]||0x7)+')';await this[_0x1f6435(0x215)](_0x1f6435(0x224),{'val':_0x35da9b,'ack':!![]}),this[_0x1f6435(0x1a3)](_0x1f6435(0x227)),this[_0x1f6435(0x1a3)](_0x1f6435(0x210)),this[_0x1f6435(0x1a3)](_0x1f6435(0x13a)),this[_0x1f6435(0x1a3)](_0x1f6435(0x1aa)),this[_0x1f6435(0x1a3)](_0x1f6435(0x179)),this[_0x1f6435(0x1a3)](_0x1f6435(0x201)),this[_0x1f6435(0x1a3)](_0x1f6435(0x1d1)),this[_0x1f6435(0x1a3)](_0x1f6435(0x17a)),this[_0x1f6435(0x1a3)](_0x1f6435(0x20f)),this[_0x1f6435(0x1a3)](_0x1f6435(0x161)),this[_0x1f6435(0x1a3)](_0x1f6435(0x1c6)),this[_0x1f6435(0x1a3)]('analysis.energy.mpcActive');const _0x36fde3=this['config'][_0x1f6435(0x130)];if(_0x36fde3)for(const _0x22c888 of _0x36fde3){await this[_0x1f6435(0x13b)](_0x22c888['id']);}const _0x3996d6=this[_0x1f6435(0x120)][_0x1f6435(0x195)];if(_0x3996d6)for(const _0x5106f1 of _0x3996d6){await this['subscribeForeignStatesAsync'](_0x5106f1);}if(this['config'][_0x1f6435(0x19b)]&&this['config'][_0x1f6435(0x1f0)])await this[_0x1f6435(0x13b)](this[_0x1f6435(0x120)][_0x1f6435(0x1f0)]+'.communicate.request');setTimeout(()=>this[_0x1f6435(0x188)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x1f6435(0x121)]);const _0xc31fea=this[_0x1f6435(0x120)][_0x1f6435(0x22c)]||0xf;_0xc31fea>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x1df99e=_0x1f6435;this[_0x1df99e(0x1b6)](),automation[_0x1df99e(0x1f6)](this);},_0xc31fea*0x3c*0x3e8)),setTimeout(()=>automation[_0x1f6435(0x1f6)](this),0x2710),this[_0x1f6435(0x120)][_0x1f6435(0x155)]!==![]&&(this[_0x1f6435(0x226)]=setInterval(()=>{const _0x29bd7c=_0x1f6435;if(this['isProVersion']){const _0x466d81=Date['now'](),_0x3cc709=this[_0x29bd7c(0x21a)]||_0x466d81,_0x508fb6=(_0x466d81-_0x3cc709)/0x3e8;_0x508fb6>0x2&&(this['lastTrackerEventTime']=_0x466d81,pythonBridge[_0x29bd7c(0x164)](this,'TRACK_EVENT',{'room':null,'dt':_0x508fb6}));}},0xbb8)),schedulers[_0x1f6435(0x185)](this,()=>aiAgent[_0x1f6435(0x1a5)](this,pythonBridge)),schedulers[_0x1f6435(0x1b1)](this),schedulers['setupDriftAnalysisScheduler'](this,()=>aiAgent[_0x1f6435(0x175)](this)),schedulers[_0x1f6435(0x20b)](this,()=>aiAgent[_0x1f6435(0x13d)](this)),pythonBridge[_0x1f6435(0x18c)](this,installer[_0x1f6435(0x21f)]),setTimeout(async()=>{const _0x4d0208=_0x1f6435;await topology[_0x4d0208(0x1d5)](this);try{const _0x597707=await this[_0x4d0208(0x228)]('analysis.topology.structure');if(_0x597707&&_0x597707[_0x4d0208(0x1b3)])pythonBridge[_0x4d0208(0x164)](this,_0x4d0208(0x1a2),JSON[_0x4d0208(0x199)](_0x597707[_0x4d0208(0x1b3)]));}catch(_0x4dfad5){}this[_0x4d0208(0x193)](),this[_0x4d0208(0x1cd)](),this[_0x4d0208(0x136)](),this[_0x4d0208(0x21b)]();},0x1388);}['onUnload'](_0x99cb70){const _0x4984e0=a0_0x49cb65;if(this['analysisTimer'])clearInterval(this['analysisTimer']);if(this[_0x4984e0(0x125)])clearInterval(this[_0x4984e0(0x125)]);if(this[_0x4984e0(0x226)])clearInterval(this[_0x4984e0(0x226)]);if(this[_0x4984e0(0x1d6)])this[_0x4984e0(0x1d6)][_0x4984e0(0x15f)]();if(this[_0x4984e0(0x1ba)])this[_0x4984e0(0x1ba)][_0x4984e0(0x15f)]();if(this[_0x4984e0(0x1df)])this[_0x4984e0(0x1df)][_0x4984e0(0x15f)]();recorder[_0x4984e0(0x1f1)](this),pythonBridge['stopService'](this),_0x99cb70();}async[a0_0x49cb65(0x1f7)](_0x23e787,_0x1bd5f3){const _0x1e44e1=a0_0x49cb65;if(!_0x1bd5f3||this['dependencyInstallInProgress'])return;if(_0x23e787[_0x1e44e1(0x14b)]('telegram')&&_0x23e787[_0x1e44e1(0x1f8)](_0x1e44e1(0x1c5))&&_0x1bd5f3[_0x1e44e1(0x1b3)])return;if(_0x23e787===this[_0x1e44e1(0x138)]+_0x1e44e1(0x1d7)){if(_0x1bd5f3[_0x1e44e1(0x1b3)]&&Object[_0x1e44e1(0x1c2)](setup[_0x1e44e1(0x1a8)])[_0x1e44e1(0x14b)](_0x1bd5f3[_0x1e44e1(0x1b3)])){this[_0x1e44e1(0x1f2)]=_0x1bd5f3['val'];if(_0x1bd5f3[_0x1e44e1(0x1b3)]===setup[_0x1e44e1(0x1a8)]['VACATION'])await recorder[_0x1e44e1(0x1d3)](this,![]);else await recorder['setPresence'](this,!![]);if(this['isProVersion']){let _0x5abccc=![],_0x32f524=0x0,_0x286f2a=_0x1e44e1(0x20e);if(this['currentSystemMode']===_0x1e44e1(0x1de))_0x5abccc=!![],_0x32f524=0x168,_0x286f2a=_0x1e44e1(0x216);else this[_0x1e44e1(0x1f2)]==='guest'&&(_0x5abccc=!![],_0x32f524=0x5a0,_0x286f2a=_0x1e44e1(0x141));pythonBridge[_0x1e44e1(0x164)](this,_0x1e44e1(0x1c4),{'active':_0x5abccc,'duration':_0x32f524,'label':_0x286f2a}),await this['setStateAsync'](_0x1e44e1(0x132),{'val':JSON[_0x1e44e1(0x172)]({'active':_0x5abccc,'label':_0x286f2a,'timestamp':Date[_0x1e44e1(0x1e9)]()}),'ack':!![]});}}if(!_0x1bd5f3[_0x1e44e1(0x140)])this[_0x1e44e1(0x1b2)](_0x23e787,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x1bd5f3['ack']){if(_0x23e787[_0x1e44e1(0x14b)]('analysis.trigger')&&_0x1bd5f3['val']){this[_0x1e44e1(0x1b2)](_0x23e787,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0x23e787[_0x1e44e1(0x14b)](_0x1e44e1(0x22a))&&_0x1bd5f3['val']){this['setState'](_0x23e787,{'val':![],'ack':!![]});if(this[_0x1e44e1(0x1cc)])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x23e787['includes'](_0x1e44e1(0x1e8))&&_0x1bd5f3[_0x1e44e1(0x1b3)]){this[_0x1e44e1(0x1b2)](_0x23e787,{'val':![],'ack':!![]}),aiAgent[_0x1e44e1(0x13d)](this);return;}if(_0x23e787[_0x1e44e1(0x14b)](_0x1e44e1(0x12d))&&_0x1bd5f3[_0x1e44e1(0x1b3)]){this['setState'](_0x23e787,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x23e787['includes'](_0x1e44e1(0x1d1))&&_0x1bd5f3['val']){this[_0x1e44e1(0x1b2)](_0x23e787,{'val':![],'ack':!![]});if(this[_0x1e44e1(0x1cc)])try{const _0x2fd8a3=await this[_0x1e44e1(0x228)](_0x1e44e1(0x16e));if(_0x2fd8a3&&_0x2fd8a3['val']){const _0x21e2bb=JSON[_0x1e44e1(0x199)](_0x2fd8a3[_0x1e44e1(0x1b3)]);this[_0x1e44e1(0x215)](_0x1e44e1(0x15d),{'val':_0x1e44e1(0x191),'ack':!![]}),pythonBridge['send'](this,_0x1e44e1(0x1ac),{'sequences':_0x21e2bb});}}catch(_0x35ba2a){}return;}if(_0x23e787['includes'](_0x1e44e1(0x17a))&&_0x1bd5f3[_0x1e44e1(0x1b3)]){this['setState'](_0x23e787,{'val':![],'ack':!![]});if(this[_0x1e44e1(0x1cc)])try{const _0x24d172=await this[_0x1e44e1(0x228)](_0x1e44e1(0x128));if(_0x24d172&&_0x24d172[_0x1e44e1(0x1b3)])pythonBridge[_0x1e44e1(0x164)](this,_0x1e44e1(0x1af),{'digests':JSON[_0x1e44e1(0x199)](_0x24d172[_0x1e44e1(0x1b3)])});}catch(_0x51baa8){}return;}if(_0x23e787[_0x1e44e1(0x14b)](_0x1e44e1(0x20f))&&_0x1bd5f3[_0x1e44e1(0x1b3)]){this['setState'](_0x23e787,{'val':![],'ack':!![]});if(this[_0x1e44e1(0x1cc)])try{const _0x21062d=await this['getStateAsync'](_0x1e44e1(0x1c9));if(_0x21062d&&_0x21062d[_0x1e44e1(0x1b3)])pythonBridge[_0x1e44e1(0x164)](this,_0x1e44e1(0x19e),{'points':JSON[_0x1e44e1(0x199)](_0x21062d[_0x1e44e1(0x1b3)])});}catch(_0x3f5afd){}return;}if(_0x23e787[_0x1e44e1(0x14b)](_0x1e44e1(0x161))&&_0x1bd5f3[_0x1e44e1(0x1b3)]){this[_0x1e44e1(0x1b2)](_0x23e787,{'val':![],'ack':!![]});if(this[_0x1e44e1(0x1cc)])try{const _0x23a0c3=await this[_0x1e44e1(0x228)](_0x1e44e1(0x189));if(_0x23a0c3&&_0x23a0c3[_0x1e44e1(0x1b3)])pythonBridge[_0x1e44e1(0x164)](this,_0x1e44e1(0x144),{'events':JSON['parse'](_0x23a0c3[_0x1e44e1(0x1b3)])});}catch(_0x2de318){}return;}if(_0x23e787[_0x1e44e1(0x14b)](_0x1e44e1(0x1c6))&&_0x1bd5f3[_0x1e44e1(0x1b3)]){this[_0x1e44e1(0x1b2)](_0x23e787,{'val':![],'ack':!![]}),topology[_0x1e44e1(0x1d5)](this);return;}}if(this[_0x1e44e1(0x120)][_0x1e44e1(0x195)]&&this[_0x1e44e1(0x120)][_0x1e44e1(0x195)][_0x1e44e1(0x14b)](_0x23e787)){await this[_0x1e44e1(0x188)]();return;}const _0x426f45=(this['config'][_0x1e44e1(0x130)]||[])[_0x1e44e1(0x1ab)](_0x100e84=>_0x100e84['id']===_0x23e787);if(_0x426f45){const _0x2a99af=await recorder['processSensorEvent'](this,_0x23e787,_0x1bd5f3,_0x426f45);_0x2a99af&&_0x2a99af[_0x1e44e1(0x1f4)]===_0x1e44e1(0x220)&&_0x2a99af[_0x1e44e1(0x19a)]&&this['isProVersion']&&deadMan['updateLocation'](this,_0x2a99af[_0x1e44e1(0x19a)]);}}async[a0_0x49cb65(0x12b)](_0x4548d0){const _0x93bd1c=a0_0x49cb65;if(typeof _0x4548d0==='object'&&_0x4548d0[_0x93bd1c(0x15e)]){if(_0x4548d0[_0x93bd1c(0x1fa)]==='checkThermostats')try{const _0x5f07fd=await automation[_0x93bd1c(0x17d)](this);this['sendTo'](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0['command'],{'success':!![],'results':_0x5f07fd},_0x4548d0[_0x93bd1c(0x1bf)]);}catch(_0x572d32){this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':![],'error':_0x572d32[_0x93bd1c(0x15e)]},_0x4548d0[_0x93bd1c(0x1bf)]);}else{if(_0x4548d0[_0x93bd1c(0x1fa)]===_0x93bd1c(0x174))try{const {current_temps:_0x14059c,t_out:_0x5614ed,targets:_0x4d135f,t_forecast:_0x3c7f53}=_0x4548d0[_0x93bd1c(0x15e)],_0x511fb=[];let _0xfd182={};try{const _0x35f033=await this[_0x93bd1c(0x228)]('analysis.energy.insulationScore');if(_0x35f033&&_0x35f033[_0x93bd1c(0x1b3)]){const _0x4de0f3=JSON[_0x93bd1c(0x199)](_0x35f033[_0x93bd1c(0x1b3)]);_0xfd182=_0x4de0f3[_0x93bd1c(0x213)]||_0x4de0f3;}}catch(_0x5f14ad){}const _0x545229=_0x3c7f53!==undefined&&_0x3c7f53!==null?(_0x5614ed+_0x3c7f53)/0x2:_0x5614ed;for(const [_0x3dcd03,_0xd329e5]of Object[_0x93bd1c(0x12c)](_0x14059c)){const _0x1a864a=_0x4d135f[_0x3dcd03]||0x15;if(_0xd329e5<=_0x1a864a)continue;let _0x185ce3=_0xfd182[_0x3dcd03]||-0.5;if(_0x185ce3>=0x0)_0x185ce3=-0.5;const _0x41f09d=Math[_0x93bd1c(0x1eb)](_0x185ce3),_0x5b4da1=_0xd329e5-_0x1a864a;let _0x327533=Math[_0x93bd1c(0x18b)](_0x5b4da1/_0x41f09d*0x3c);const _0x29adbf=_0xd329e5-_0x5614ed,_0x4fc94a=_0xd329e5-_0x545229;if(_0x4fc94a!==0x0&&_0x29adbf!==0x0){const _0x499c28=_0x29adbf/_0x4fc94a;_0x327533=Math[_0x93bd1c(0x18b)](_0x327533*_0x499c28);}if(_0x327533>0xf){if(_0x327533>0xf0)_0x327533=0xf0;_0x511fb[_0x93bd1c(0x1e6)]({'room':_0x3dcd03,'minutes_safe':_0x327533,'target':_0x1a864a,'current':_0xd329e5,'savings_msg':_0x93bd1c(0x169)+_0x327533+_0x93bd1c(0x1d0)});}}_0x511fb['sort']((_0x39414a,_0x27504c)=>_0x27504c[_0x93bd1c(0x159)]-_0x39414a[_0x93bd1c(0x159)]),this['sendTo'](_0x4548d0['from'],_0x4548d0['command'],{'success':!![],'proposals':_0x511fb},_0x4548d0[_0x93bd1c(0x1bf)]);}catch(_0x11f896){this['sendTo'](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0['command'],{'success':![],'error':_0x11f896['message']},_0x4548d0['callback']);}else{if(_0x4548d0['command']==='dismissAutomation')await this[_0x93bd1c(0x215)](_0x93bd1c(0x1c7),{'val':![],'ack':!![]}),await this[_0x93bd1c(0x215)]('analysis.automation.description',{'val':'','ack':!![]}),await this[_0x93bd1c(0x215)](_0x93bd1c(0x122),{'val':'','ack':!![]}),this['sendTo'](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![]},_0x4548d0[_0x93bd1c(0x1bf)]);else{if(_0x4548d0[_0x93bd1c(0x1fa)]==='simulateButler'){const {targetId:_0x194d9d,targetValue:_0xb7afea}=_0x4548d0[_0x93bd1c(0x15e)];await this[_0x93bd1c(0x215)](_0x93bd1c(0x1c7),{'val':!![],'ack':!![]}),await this['setStateAsync'](_0x93bd1c(0x1dd),{'val':_0x93bd1c(0x211),'ack':!![]}),await this[_0x93bd1c(0x215)](_0x93bd1c(0x122),{'val':_0x194d9d,'ack':!![]}),await this['setStateAsync'](_0x93bd1c(0x1bc),{'val':String(_0xb7afea),'ack':!![]}),this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![]},_0x4548d0[_0x93bd1c(0x1bf)]);}else{if(_0x4548d0[_0x93bd1c(0x1fa)]==='testApiKey')try{const _0x4f04b2=_0x4548d0[_0x93bd1c(0x15e)][_0x93bd1c(0x1ec)];if(!_0x4f04b2)throw new Error(_0x93bd1c(0x1c3));const _0x49c79e=new GoogleGenerativeAI(_0x4f04b2),_0xbcc9bb=_0x49c79e[_0x93bd1c(0x14d)]({'model':GEMINI_MODEL}),_0x613316=await _0xbcc9bb[_0x93bd1c(0x129)](_0x93bd1c(0x187)),_0x2f1753=await _0x613316[_0x93bd1c(0x133)];if(_0x2f1753[_0x93bd1c(0x131)]())this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x4548d0['callback']);else throw new Error(_0x93bd1c(0x20d));}catch(_0x111510){this['sendTo'](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':![],'message':_0x111510[_0x93bd1c(0x15e)]},_0x4548d0['callback']);}else{if(_0x4548d0[_0x93bd1c(0x1fa)]==='scanDevices')try{const _0x1a14e6=await scanner['scanForDevices'](this,_0x4548d0[_0x93bd1c(0x15e)]||{});this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![],'devices':_0x1a14e6},_0x4548d0[_0x93bd1c(0x1bf)]);}catch(_0x169ce1){this[_0x93bd1c(0x166)](_0x4548d0['from'],_0x4548d0[_0x93bd1c(0x1fa)],{'success':![],'error':_0x169ce1[_0x93bd1c(0x15e)]},_0x4548d0[_0x93bd1c(0x1bf)]);}else{if(_0x4548d0[_0x93bd1c(0x1fa)]===_0x93bd1c(0x17c))try{const {matrix:_0x11464e}=_0x4548d0['message'],_0x3b9e8a=await this[_0x93bd1c(0x228)](_0x93bd1c(0x13c));if(_0x3b9e8a&&_0x3b9e8a[_0x93bd1c(0x1b3)]){const _0x31a0d5=JSON[_0x93bd1c(0x199)](_0x3b9e8a['val']);_0x31a0d5['matrix']=_0x11464e,_0x31a0d5[_0x93bd1c(0x1e2)]=Date[_0x93bd1c(0x1e9)](),await this[_0x93bd1c(0x215)](_0x93bd1c(0x13c),{'val':JSON['stringify'](_0x31a0d5),'ack':!![]}),pythonBridge[_0x93bd1c(0x164)](this,_0x93bd1c(0x1a2),_0x31a0d5);}this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![]},_0x4548d0['callback']);}catch(_0x44eb27){this[_0x93bd1c(0x12f)][_0x93bd1c(0x1d9)](_0x44eb27);}else{if(_0x4548d0[_0x93bd1c(0x1fa)]===_0x93bd1c(0x18a))this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![],'dailyDigests':this[_0x93bd1c(0x18d)]||[],'analysisHistory':this['analysisHistory']||[]},_0x4548d0[_0x93bd1c(0x1bf)]);else{if(_0x4548d0[_0x93bd1c(0x1fa)]===_0x93bd1c(0x16f)){const _0x5289f6=this[_0x93bd1c(0x18d)][_0x93bd1c(0x146)],_0x331fcd=new Array(0x18)[_0x93bd1c(0x1ff)](0x0),_0x54c050=new Date()[_0x93bd1c(0x15a)](0x0,0x0,0x0,0x0);this[_0x93bd1c(0x168)]&&this[_0x93bd1c(0x168)][_0x93bd1c(0x222)](_0x1ae0df=>{const _0x464e2e=_0x93bd1c;if(_0x1ae0df['timestamp']>=_0x54c050){const _0x259eab=new Date(_0x1ae0df[_0x464e2e(0x152)])[_0x464e2e(0x17e)]();if(_0x259eab>=0x0&&_0x259eab<0x18)_0x331fcd[_0x259eab]++;}});let _0x4aabd1=![],_0x290200='',_0x57e77c='',_0x1d7cc3='';try{const _0xe3e169=await this[_0x93bd1c(0x228)]('analysis.automation.patternDetected');if(_0xe3e169&&_0xe3e169[_0x93bd1c(0x1b3)]){_0x4aabd1=!![];const _0x138596=await this[_0x93bd1c(0x228)]('analysis.automation.description');_0x290200=_0x138596?_0x138596['val']:'';const _0x2f6d2c=await this[_0x93bd1c(0x228)](_0x93bd1c(0x122));_0x57e77c=_0x2f6d2c?_0x2f6d2c['val']:'';const _0x32343f=await this[_0x93bd1c(0x228)]('analysis.automation.targetValue');_0x1d7cc3=_0x32343f?_0x32343f[_0x93bd1c(0x1b3)]:'';}}catch(_0x5a84d0){}const _0x3f1ed8=await this['checkSolarCondition'](),_0x51941f=(this[_0x93bd1c(0x120)]['devices']||[])[_0x93bd1c(0x197)](_0x356829=>_0x356829['isSolar']),_0x20c31f=_0x3f1ed8&&_0x51941f;this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![],'eventHistory':this[_0x93bd1c(0x168)][_0x93bd1c(0x170)](0x0,0xf),'stats':{'digestCount':_0x5289f6,'isPresent':this[_0x93bd1c(0x17f)],'hourlyActivity':_0x331fcd,'solarActive':_0x20c31f},'automation':{'detected':_0x4aabd1,'description':_0x290200,'targetId':_0x57e77c,'targetValue':_0x1d7cc3}},_0x4548d0['callback']);}else{if(_0x4548d0[_0x93bd1c(0x1fa)]===_0x93bd1c(0x1ce)){const _0x3f3c5d=await this[_0x93bd1c(0x171)](_0x93bd1c(0x158),_0x93bd1c(0x1bd)),_0x1bbbe1=[];if(_0x3f3c5d)for(const _0xed2b2f in _0x3f3c5d){const _0x177ae5=_0x3f3c5d[_0xed2b2f],_0x1d0d36=(_0x177ae5[_0x93bd1c(0x13f)]&&typeof _0x177ae5[_0x93bd1c(0x13f)][_0x93bd1c(0x180)]===_0x93bd1c(0x1fb)?_0x177ae5[_0x93bd1c(0x13f)][_0x93bd1c(0x180)]['de']:_0x177ae5['common'][_0x93bd1c(0x180)])||_0x177ae5[_0x93bd1c(0x13f)]['name'];_0x1bbbe1[_0x93bd1c(0x1e6)]({'id':_0xed2b2f,'name':_0x1d0d36});}const _0x1989be=await this[_0x93bd1c(0x171)](_0x93bd1c(0x134),_0x93bd1c(0x1bd)),_0x3e4aed=[];if(_0x1989be)for(const _0x28a708 in _0x1989be){const _0x219f16=_0x1989be[_0x28a708],_0x4fe505=(_0x219f16[_0x93bd1c(0x13f)]&&typeof _0x219f16['common'][_0x93bd1c(0x180)]===_0x93bd1c(0x1fb)?_0x219f16[_0x93bd1c(0x13f)][_0x93bd1c(0x180)]['de']:_0x219f16[_0x93bd1c(0x13f)]['name'])||_0x28a708[_0x93bd1c(0x1db)]('.')['pop']();_0x3e4aed[_0x93bd1c(0x1e6)](_0x4fe505);}this[_0x93bd1c(0x166)](_0x4548d0['from'],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![],'enums':_0x1bbbe1,'rooms':_0x3e4aed},_0x4548d0['callback']);}else{if(_0x4548d0[_0x93bd1c(0x1fa)]===_0x93bd1c(0x1f3))try{let _0x5d82e=_0x93bd1c(0x22b),_0x419724='Kein\x20Kalender-Adapter';if(this[_0x93bd1c(0x120)][_0x93bd1c(0x1da)]){const _0x110766=await recorder[_0x93bd1c(0x173)](this);_0x5d82e=_0x110766!==null?_0x110766+'Â°C':_0x93bd1c(0x147);}if(this['config'][_0x93bd1c(0x18e)]){const _0x1f3e4d=await this['getForeignObjectAsync'](_0x93bd1c(0x19f)+this[_0x93bd1c(0x120)][_0x93bd1c(0x18e)]);_0x419724=_0x1f3e4d?_0x93bd1c(0x12a):_0x93bd1c(0x135);}this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![],'weather':_0x5d82e,'calendar':_0x419724},_0x4548d0[_0x93bd1c(0x1bf)]);}catch(_0x3d933b){this['sendTo'](_0x4548d0['from'],_0x4548d0[_0x93bd1c(0x1fa)],{'success':![],'error':_0x3d933b[_0x93bd1c(0x15e)]},_0x4548d0[_0x93bd1c(0x1bf)]);}else{if(_0x4548d0[_0x93bd1c(0x1fa)]===_0x93bd1c(0x17b))try{const _0x36d062=_0x4548d0['message'][_0x93bd1c(0x1a0)],_0x561954=await this[_0x93bd1c(0x1c8)](_0x36d062+'.data.table');let _0x3e2739=[];if(_0x561954&&_0x561954[_0x93bd1c(0x1b3)]){const _0x123a43=JSON[_0x93bd1c(0x199)](_0x561954[_0x93bd1c(0x1b3)]),_0x365cc2=new Set();Array[_0x93bd1c(0x165)](_0x123a43)&&_0x123a43[_0x93bd1c(0x222)](_0x5a3feb=>{const _0x360ae0=_0x93bd1c;if(_0x5a3feb[_0x360ae0(0x11f)])_0x365cc2[_0x360ae0(0x1b8)](_0x5a3feb[_0x360ae0(0x11f)]);else{if(_0x5a3feb[_0x360ae0(0x204)])_0x365cc2[_0x360ae0(0x1b8)](_0x5a3feb[_0x360ae0(0x204)]);}}),_0x3e2739=Array[_0x93bd1c(0x1ed)](_0x365cc2)[_0x93bd1c(0x192)]();}if(_0x3e2739[_0x93bd1c(0x146)]===0x0)_0x3e2739=['Standard'];this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0['command'],{'success':!![],'names':_0x3e2739},_0x4548d0[_0x93bd1c(0x1bf)]);}catch(_0x2c8128){this['sendTo'](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':![],'error':_0x2c8128[_0x93bd1c(0x15e)]},_0x4548d0[_0x93bd1c(0x1bf)]);}else{if(_0x4548d0[_0x93bd1c(0x1fa)]==='testNotification')try{await setup[_0x93bd1c(0x177)](this,_0x93bd1c(0x160),![],![]),this[_0x93bd1c(0x166)](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':!![],'message':'Gesendet'},_0x4548d0[_0x93bd1c(0x1bf)]);}catch(_0x32b9e8){this[_0x93bd1c(0x12f)][_0x93bd1c(0x1d9)](_0x93bd1c(0x157)+_0x32b9e8[_0x93bd1c(0x15e)]),this['sendTo'](_0x4548d0[_0x93bd1c(0x1ed)],_0x4548d0[_0x93bd1c(0x1fa)],{'success':![],'message':_0x93bd1c(0x150)+_0x32b9e8['message']},_0x4548d0['callback']);}}}}}}}}}}}}}}}async[a0_0x49cb65(0x163)](){const _0x1e740c=a0_0x49cb65;try{const _0xcc5b00=await this['getStateAsync'](setup['SYSTEM_DP_MODE']);_0xcc5b00&&_0xcc5b00[_0x1e740c(0x1b3)]&&Object[_0x1e740c(0x1c2)](setup[_0x1e740c(0x1a8)])[_0x1e740c(0x14b)](_0xcc5b00[_0x1e740c(0x1b3)])?this[_0x1e740c(0x1f2)]=_0xcc5b00[_0x1e740c(0x1b3)]:(this['currentSystemMode']=setup[_0x1e740c(0x1a8)][_0x1e740c(0x1fd)],await this[_0x1e740c(0x215)](setup[_0x1e740c(0x1e5)],{'val':setup['SYSTEM_MODES'][_0x1e740c(0x1fd)],'ack':!![]}));}catch(_0x40d6ca){this[_0x1e740c(0x1f2)]=setup[_0x1e740c(0x1a8)][_0x1e740c(0x1fd)];}}async[a0_0x49cb65(0x188)](){const _0x5ce22f=a0_0x49cb65;try{const _0x16932a=this[_0x5ce22f(0x120)][_0x5ce22f(0x195)]||[];let _0x1a713e=![];const _0x4a6570=[];for(const _0x38d814 of _0x16932a){try{const _0xc2d194=await this[_0x5ce22f(0x1c8)](_0x38d814);_0xc2d194&&(_0xc2d194[_0x5ce22f(0x1b3)]===!![]||_0xc2d194[_0x5ce22f(0x1b3)]===_0x5ce22f(0x196)||_0xc2d194[_0x5ce22f(0x1b3)]===0x1)&&(_0x1a713e=!![],_0x4a6570['push'](_0x38d814));}catch(_0x13bb71){}}return await this[_0x5ce22f(0x215)](_0x5ce22f(0x1d8),{'val':_0x4a6570[_0x5ce22f(0x219)](',\x20'),'ack':!![]}),_0x1a713e&&(this[_0x5ce22f(0x14a)]&&(this[_0x5ce22f(0x12f)]['info'](_0x5ce22f(0x1dc)),recorder[_0x5ce22f(0x1f1)](this)),!this[_0x5ce22f(0x17f)]&&this[_0x5ce22f(0x1f2)]===setup[_0x5ce22f(0x1a8)][_0x5ce22f(0x1fd)]&&await recorder[_0x5ce22f(0x1d3)](this,!![])),_0x1a713e;}catch(_0x156884){return![];}}async[a0_0x49cb65(0x1b6)](){const _0x2da766=a0_0x49cb65;this['log']['debug'](_0x2da766(0x21c)),await aiAgent[_0x2da766(0x221)](this),this[_0x2da766(0x21b)](),this[_0x2da766(0x1cd)](),this[_0x2da766(0x136)]();}async[a0_0x49cb65(0x16b)](){const _0x3af1c8=a0_0x49cb65,_0x55e58d=['weatherunderground.0',_0x3af1c8(0x202),_0x3af1c8(0x182)],_0x3de281=[_0x3af1c8(0x198),_0x3af1c8(0x1ad),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x5bf5f2 of _0x55e58d){for(const _0xebe238 of _0x3de281){try{const _0x492abe=_0x5bf5f2+'.'+_0xebe238,_0x26fdb9=await this[_0x3af1c8(0x1c8)](_0x492abe);if(_0x26fdb9&&_0x26fdb9[_0x3af1c8(0x1b3)]){const _0x4be59a=String(_0x26fdb9['val'])[_0x3af1c8(0x16c)]();if(_0x4be59a[_0x3af1c8(0x14b)](_0x3af1c8(0x1be))||_0x4be59a[_0x3af1c8(0x14b)](_0x3af1c8(0x1ee))||_0x4be59a[_0x3af1c8(0x14b)](_0x3af1c8(0x178))||_0x4be59a[_0x3af1c8(0x14b)](_0x3af1c8(0x208))||_0x4be59a['includes'](_0x3af1c8(0x1d4)))return!![];}}catch(_0x4553ba){}}}return![];}['triggerGaitAnalysis'](){const _0x214775=a0_0x49cb65;if(!this[_0x214775(0x1cc)])return;try{this[_0x214775(0x126)]('LTM.trainingData.sequences',(_0x2ff925,_0x492f9a)=>{const _0x4af314=_0x214775;_0x492f9a&&_0x492f9a[_0x4af314(0x1b3)]&&pythonBridge[_0x4af314(0x164)](this,_0x4af314(0x190),{'sequences':JSON[_0x4af314(0x199)](_0x492f9a[_0x4af314(0x1b3)])});});}catch(_0x355132){}}async['triggerEnergyPrediction'](){const _0x17d625=a0_0x49cb65;if(!this[_0x17d625(0x1cc)])return;try{const _0x35535c=await recorder['getOutsideTemperatureNumeric'](this);if(_0x35535c===null)return;const _0x2917e2={},_0x103bca={},_0x1d71a7=this[_0x17d625(0x120)][_0x17d625(0x130)]||[];for(const _0x3fac9b of _0x1d71a7){if(_0x3fac9b[_0x17d625(0x1f4)]===_0x17d625(0x142)&&_0x3fac9b[_0x17d625(0x19a)]){const _0x22c9b1=this['sensorLastValues'][_0x3fac9b['id']];if(_0x22c9b1!==undefined)_0x2917e2[_0x3fac9b['location']]=_0x22c9b1;if(_0x3fac9b[_0x17d625(0x15c)])_0x103bca[_0x3fac9b['location']]=!![];}}const _0x4a3eb1=await this[_0x17d625(0x16b)]();let _0x1ad4c8={};try{const _0x150392=await this['getStateAsync']('analysis.energy.warmupTargets');if(_0x150392&&_0x150392[_0x17d625(0x1b3)])_0x1ad4c8=JSON['parse'](_0x150392['val']);}catch(_0x32c394){}Object[_0x17d625(0x127)](_0x2917e2)[_0x17d625(0x146)]>0x0&&(pythonBridge[_0x17d625(0x164)](this,_0x17d625(0x200),{'current_temps':_0x2917e2,'t_out':_0x35535c,'is_sunny':_0x4a3eb1,'solar_flags':_0x103bca,'warmup_targets':_0x1ad4c8}),pythonBridge['send'](this,_0x17d625(0x176),{'current_temps':_0x2917e2,'t_out':_0x35535c,'targets':{}}));}catch(_0x4cd87d){}}[a0_0x49cb65(0x21b)](){const _0xc1cc0d=a0_0x49cb65;if(!this['rawEventLog']||this['rawEventLog'][_0xc1cc0d(0x146)]===0x0)return;const _0xff4033=new Array(0x60)[_0xc1cc0d(0x1ff)](0x0),_0x3c9afe=new Date()['setHours'](0x0,0x0,0x0,0x0);this['rawEventLog'][_0xc1cc0d(0x222)](_0x5104da=>{const _0x36a8c0=_0xc1cc0d,_0x840ac0=new Date(_0x5104da['timestamp']);if(_0x840ac0['getTime']()>=_0x3c9afe){const _0x4c46db=_0x840ac0[_0x36a8c0(0x17e)](),_0x494cb9=_0x840ac0['getMinutes'](),_0x4edb3b=_0x4c46db*0x4+Math[_0x36a8c0(0x18b)](_0x494cb9/0xf);if(_0x4edb3b>=0x0&&_0x4edb3b<0x60)_0xff4033[_0x4edb3b]++;}}),this[_0xc1cc0d(0x215)]('analysis.health.todayVector',{'val':JSON[_0xc1cc0d(0x172)](_0xff4033),'ack':!![]});}[a0_0x49cb65(0x193)](){const _0x167b1f=a0_0x49cb65;if(!this['dailyDigests']||this['dailyDigests'][_0x167b1f(0x146)]<0x2)return;const _0x121152=this[_0x167b1f(0x18d)][_0x167b1f(0x1a1)](_0x4a033e=>{const _0x34c539=_0x167b1f,_0x47291e=(_0x4a033e[_0x34c539(0x153)]||'')[_0x34c539(0x16c)]();return ACTIVITY_LEVEL_MAP[_0x47291e]||0x32;});pythonBridge[_0x167b1f(0x164)](this,_0x167b1f(0x1ea),{'values':_0x121152,'tag':_0x167b1f(0x14f)});}}if(require[a0_0x49cb65(0x143)]!==module)module[a0_0x49cb65(0x229)]=_0x4057c4=>new CogniLiving(_0x4057c4);else new CogniLiving();