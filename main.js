const a0_0x526403=a0_0xf909;function a0_0x3a93(){const _0x5cccd1=['loadSystemMode','./lib/topology','python','triggerGaitAnalysis','./lib/installer','2149833uCCabp','\x20events\x20from\x20today...','round','log','json','./lib/dead_man','checkSolarCondition','subscribeForeignStatesAsync','sendTo','analysis.health.geminiNight','moduleSecurity','scanThermostats','analysis.activity.roomHistory','ready','common','appendToLog','saveDailyHistory','parse','analysisHistory','push','SYSTEM_MODES','‚úÖ\x20Dashboard\x20Data\x20(Rooms\x20&\x20Timeline\x20&\x20Details)\x20restored.','split','stateChange','protectAiMemory','.venv','infrasoundSensorId','startSystem','toString','analysis.activity.roomStats','rawEventLog','dailyDigests','existsSync','analysis.security.lastScore','name','utf8','sendMorningBriefing','getMinutes','LTM.rawEventLog','Corrupt','Lernphase\x20(','\x20events\x20from\x20storage\x20to\x20memory.','runPythonHealthCheck','search','Gemini\x20Init\x20Error:\x20','analysis.health.todayVector','number','health','runAutopilot','cogni-living','subscribeForeignStates','toLowerCase','thermostat','energy','max','telegram','moduleEnergy','getHours','bin','analysis.energy.warmupSources','security','date','LTM.baselineStatus','onMessage','path','modules','val','setHours','message','namespace','CALCULATE_HEALTH_TREND','enum.rooms.*','endsWith','roomIntegratorTimer','all','constructor','analysis.security.learningStatus','SET_LEARNING_MODE','checkThermostats','\x22history\x22:{}','getEnums','presenceDevices','triggerBriefing','getDate','48cdwJwM','...','find','scanDevices','setObjectNotExistsAsync','cancel','string','[Integrator]\x20Error:\x20','TRAIN_TOPOLOGY','devices','lastTrackerEventTime','./lib/ai_agent','application/json','value','bootTime','forEach',')\x20-\x20Phase\x20E\x20(Yesterday\x20Vector\x20Fix)','length','./lib/automation','getHistoryData','min','onStateChange','analysis.training.triggerSecurity','Warte\x20auf\x20Analyse...','LTM.dailyDigests','values','History\x20Save\x20Error:\x20','üì¶\x20Restored\x20','@google/generative-ai','eventHistory','setStateAsync','command','./lib/python_bridge','main','Gemini\x20Report\x20Day','infrasoundEnabled','dependencyInstallInProgress','2sHYSDM','moduleHealth','isPresent','automation.triggerAction','system.presenceWho','Adapter','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','isRelevantActivity','./lib/recorder','infrasoundLocked','location','debug','triggerDailyDigest','scanForDevices','handleInfrasound','communicate.request','activeModules','analysis.automation.targetId','Keine\x20Daten','pulse','comfort','getForeignStateAsync','toISOString','integrateRoomTime','Room\x20Dwell\x20Time\x20Stats','üêç\x20Triggering\x20Python\x20Health\x20Check\x20(Activity\x20Trend)...','history','enum.functions.*','cogni-living\x20adapter\x20starting\x20(v','Gemini\x20Report\x20Night','setState','258543ZfJgKJ','getGenerativeModel','getForeignObjectsAsync','Party\x20Mode','timestamp','analysis.automation.description','version','geminiApiKey','guest','stringify','Daily\x20Activity\x20Vector\x20(48x30min)','startService','analyzeWindowOpening','analysis.training.triggerHealth','240614YomYYE','open','cleanupGhostInterventions','currentSystemMode','analysisTimer','isSolar','./lib/setup','send','models/gemini-flash-latest','createDailyDigest','moduleComfort','times','readFileSync','bind','./lib/scanner','abortExitTimer','some','memoryCache','triggerInfrasoundCorrelation','General\x20Activity\x20Trend','licenseKey','now','includes','analysis.trigger','door','SYSTEM_DP_MODE','{\x22history\x22:{}}','Guest\x20Mode','state','unload','temperature','replayTodayEvents','toLocaleDateString','Unknown','572802NbPQDn','387MNPxLI','updateTopology','500212WZisQD','from','fill','writeFileSync','onReady','type','getAbsoluteDefaultDataDir','‚Ü∫\x20Replaying\x20','callback','exports','terrasse','analysis.training.triggerComfort','filter','1615420LROVBt','generateHealthReport','sendNotification','updateHealthVector','join','ltmJob','‚ö†\x20Replay\x20skipped:\x20No\x20events\x20in\x20memory.','exitGraceTimer','analysis.health.geminiDay','initHistory','isGracePeriodActive','historyJob','triggerEnergyPrediction','59\x2023\x20*\x20*\x20*','modeResetJob','ack','window','.system.mode','getOverviewData','analysis.health.activityTrend','driftAnalysisTimer','LTM.triggerDailyDigest','geminiModel','üíæ\x20Saving\x20Daily\x20History\x20for\x20','analysis.health.todayRoomDetails','setPresence','subscribeStates','exitTimer','enum','onUnload','lastAlertState','apply','motion','VACATION','TRAIN_ENERGY','processSensorEvent','LTM.trainingData.sequences','runGeminiAnalysis','analysis.energy.warmupTimes','slice','warn','text','info','analysis.automation.targetValue','analysis.training.status','analysis.visualization.pulse','error','inactivityThresholdHours','config','sources','getStateAsync','genAI','sensorLastValues','mkdirSync','haust√ºr','Warm-Up\x20Time','.json','initSystemConfig','manual','TRAIN_HEALTH','checkWifiPresence','(((.+)+)+)+$','isProVersion'];a0_0x3a93=function(){return _0x5cccd1;};return a0_0x3a93();}(function(_0x274675,_0x6266db){const _0x1415e3=a0_0xf909,_0x2b30a2=_0x274675();while(!![]){try{const _0x21de38=parseInt(_0x1415e3(0x1e3))/0x1+-parseInt(_0x1415e3(0x2d2))/0x2*(parseInt(_0x1415e3(0x1d5))/0x3)+parseInt(_0x1415e3(0x208))/0x4+-parseInt(_0x1415e3(0x215))/0x5+-parseInt(_0x1415e3(0x205))/0x6+parseInt(_0x1415e3(0x259))/0x7+-parseInt(_0x1415e3(0x2ad))/0x8*(-parseInt(_0x1415e3(0x206))/0x9);if(_0x21de38===_0x6266db)break;else _0x2b30a2['push'](_0x2b30a2['shift']());}catch(_0x4f0a97){_0x2b30a2['push'](_0x2b30a2['shift']());}}}(a0_0x3a93,0x29178));function a0_0xf909(_0x269f7c,_0x5b2a7b){const _0x22b286=a0_0x3a93();return a0_0xf909=function(_0x5f1399,_0x4a1c19){_0x5f1399=_0x5f1399-0x1b9;let _0x3a9395=_0x22b286[_0x5f1399];return _0x3a9395;},a0_0xf909(_0x269f7c,_0x5b2a7b);}const a0_0x4a1c19=(function(){let _0x550072=!![];return function(_0x2b447c,_0x202db1){const _0x7327d8=_0x550072?function(){const _0x126e05=a0_0xf909;if(_0x202db1){const _0x559fe4=_0x202db1[_0x126e05(0x234)](_0x2b447c,arguments);return _0x202db1=null,_0x559fe4;}}:function(){};return _0x550072=![],_0x7327d8;};}()),a0_0x5f1399=a0_0x4a1c19(this,function(){const _0x5004f7=a0_0xf909;return a0_0x5f1399[_0x5004f7(0x275)]()[_0x5004f7(0x284)]('(((.+)+)+)+$')[_0x5004f7(0x275)]()[_0x5004f7(0x2a4)](a0_0x5f1399)['search'](_0x5004f7(0x252));});a0_0x5f1399();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x526403(0x2c9)),path=require(a0_0x526403(0x299)),fs=require('fs'),installer=require(a0_0x526403(0x258)),scanner=require(a0_0x526403(0x1f1)),schedulers=require('./lib/scheduler'),topology=require(a0_0x526403(0x255)),setup=require(a0_0x526403(0x1e9)),recorder=require(a0_0x526403(0x1be)),pythonBridge=require(a0_0x526403(0x2cd)),aiAgent=require(a0_0x526403(0x2b8)),deadMan=require(a0_0x526403(0x25e)),automation=require(a0_0x526403(0x2bf)),GEMINI_MODEL=a0_0x526403(0x1eb);class CogniLiving extends utils[a0_0x526403(0x1bb)]{constructor(_0x20839d){const _0x4b536b=a0_0x526403;super({..._0x20839d,'name':_0x4b536b(0x28a)}),this[_0x4b536b(0x2ca)]=[],this[_0x4b536b(0x26b)]=[],this[_0x4b536b(0x277)]=[],this[_0x4b536b(0x278)]=[],this[_0x4b536b(0x249)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x4b536b(0x2d4)]=!![],this[_0x4b536b(0x230)]=null,this[_0x4b536b(0x21c)]=null,this[_0x4b536b(0x21f)]=![],this['genAI']=null,this[_0x4b536b(0x22b)]=null,this[_0x4b536b(0x1e6)]=setup[_0x4b536b(0x26d)]['NORMAL'],this['isProVersion']=![],this[_0x4b536b(0x233)]=![],this[_0x4b536b(0x1e7)]=null,this[_0x4b536b(0x21a)]=null,this[_0x4b536b(0x223)]=null,this[_0x4b536b(0x229)]=null,this['briefingJob']=null,this['historyJob']=null,this['trackerHeartbeat']=null,this['healthTrendInterval']=null,this['roomIntegratorTimer']=null,this[_0x4b536b(0x2d1)]=![],this[_0x4b536b(0x2b7)]=Date[_0x4b536b(0x1f8)](),this[_0x4b536b(0x1f4)]=null,this[_0x4b536b(0x2bb)]=Date[_0x4b536b(0x1f8)](),this[_0x4b536b(0x1bf)]=![],this['pressureBuffer']=[],this[_0x4b536b(0x1c6)]={'health':!![],'security':!![],'energy':!![],'comfort':!![]},this['on'](_0x4b536b(0x266),this[_0x4b536b(0x20c)][_0x4b536b(0x1f0)](this)),this['on'](_0x4b536b(0x270),this['onStateChange']['bind'](this)),this['on'](_0x4b536b(0x200),this[_0x4b536b(0x232)][_0x4b536b(0x1f0)](this)),this['on']('message',this[_0x4b536b(0x298)][_0x4b536b(0x1f0)](this));}async['onReady'](){const _0x33b593=a0_0x526403;this[_0x33b593(0x25c)]['info'](_0x33b593(0x1d2)+this[_0x33b593(0x1db)]+_0x33b593(0x2bd));if(this[_0x33b593(0x245)]['moduleHealth']!==undefined)this[_0x33b593(0x1c6)][_0x33b593(0x288)]=this[_0x33b593(0x245)][_0x33b593(0x2d3)];if(this[_0x33b593(0x245)][_0x33b593(0x263)]!==undefined)this[_0x33b593(0x1c6)]['security']=this[_0x33b593(0x245)][_0x33b593(0x263)];if(this[_0x33b593(0x245)][_0x33b593(0x291)]!==undefined)this['activeModules'][_0x33b593(0x28e)]=this[_0x33b593(0x245)][_0x33b593(0x291)];if(this['config'][_0x33b593(0x1ed)]!==undefined)this[_0x33b593(0x1c6)][_0x33b593(0x1ca)]=this[_0x33b593(0x245)][_0x33b593(0x1ed)];if(this[_0x33b593(0x245)][_0x33b593(0x29a)])this[_0x33b593(0x1c6)]={...this[_0x33b593(0x1c6)],...this[_0x33b593(0x245)][_0x33b593(0x29a)]};this[_0x33b593(0x274)]();}async[a0_0x526403(0x274)](){const _0x5d2cc4=a0_0x526403;await setup['initZombies'](this);try{this[_0x5d2cc4(0x253)]=await setup['checkLicense'](this['config'][_0x5d2cc4(0x1f7)]);}catch(_0x1bc1b7){}if(!this[_0x5d2cc4(0x245)]['inactivityThresholdHours']||this[_0x5d2cc4(0x245)][_0x5d2cc4(0x244)]<0.1)this[_0x5d2cc4(0x245)][_0x5d2cc4(0x244)]=0xc;await setup[_0x5d2cc4(0x21e)](this),await setup[_0x5d2cc4(0x24e)](this);try{const _0x37d842=await this[_0x5d2cc4(0x247)](_0x5d2cc4(0x23b)),_0xe97aa0=await this[_0x5d2cc4(0x247)](_0x5d2cc4(0x294));_0x37d842&&_0x37d842[_0x5d2cc4(0x29b)]&&_0xe97aa0&&_0xe97aa0[_0x5d2cc4(0x29b)]&&(Date[_0x5d2cc4(0x1f8)]()-_0x37d842['ts']<0x4*0xe10*0x3e8&&(this[_0x5d2cc4(0x1f4)]={'times':JSON[_0x5d2cc4(0x26a)](_0x37d842['val']),'sources':JSON[_0x5d2cc4(0x26a)](_0xe97aa0[_0x5d2cc4(0x29b)])}));}catch(_0x23f426){}if(this[_0x5d2cc4(0x245)][_0x5d2cc4(0x1dc)])try{this[_0x5d2cc4(0x248)]=new GoogleGenerativeAI(this['config'][_0x5d2cc4(0x1dc)]),this[_0x5d2cc4(0x22b)]=this[_0x5d2cc4(0x248)][_0x5d2cc4(0x1d6)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5d2cc4(0x2b9)}});}catch(_0x49aeaa){this[_0x5d2cc4(0x25c)][_0x5d2cc4(0x243)](_0x5d2cc4(0x285)+_0x49aeaa[_0x5d2cc4(0x29d)]);}await setup['createAllObjects'](this),await this['loadSystemMode'](),await this[_0x5d2cc4(0x2b1)](_0x5d2cc4(0x242),{'type':'state','common':{'name':'Live\x20Event\x20Pulse','type':_0x5d2cc4(0x287),'role':_0x5d2cc4(0x2ba),'read':!![],'write':![]},'native':{}}),await this[_0x5d2cc4(0x2b1)](_0x5d2cc4(0x276),{'type':_0x5d2cc4(0x1ff),'common':{'name':_0x5d2cc4(0x1ce),'type':'string','role':'json','read':!![],'write':![],'def':_0x5d2cc4(0x1bc)},'native':{}}),await this[_0x5d2cc4(0x2b1)]('analysis.activity.roomHistory',{'type':_0x5d2cc4(0x1ff),'common':{'name':'Room\x20History\x20(24h\x20Buckets)','type':_0x5d2cc4(0x2b3),'role':'json','read':!![],'write':![],'def':_0x5d2cc4(0x1fd)},'native':{}}),await this[_0x5d2cc4(0x2b1)](_0x5d2cc4(0x262),{'type':_0x5d2cc4(0x1ff),'common':{'name':_0x5d2cc4(0x1d3),'type':_0x5d2cc4(0x2b3),'role':_0x5d2cc4(0x23e),'read':!![],'write':![],'def':_0x5d2cc4(0x2c4)},'native':{}}),await this['setObjectNotExistsAsync']('analysis.health.geminiDay',{'type':_0x5d2cc4(0x1ff),'common':{'name':_0x5d2cc4(0x2cf),'type':'string','role':_0x5d2cc4(0x23e),'read':!![],'write':![],'def':'Warte\x20auf\x20Analyse...'},'native':{}}),await this[_0x5d2cc4(0x2b1)](_0x5d2cc4(0x286),{'type':'state','common':{'name':_0x5d2cc4(0x1df),'type':_0x5d2cc4(0x2b3),'role':_0x5d2cc4(0x25d),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x5d2cc4(0x2b1)](_0x5d2cc4(0x22d),{'type':_0x5d2cc4(0x1ff),'common':{'name':'Daily\x20Room\x20Details\x20(48x30min)','type':'string','role':_0x5d2cc4(0x25d),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x5d2cc4(0x228),{'type':'state','common':{'name':_0x5d2cc4(0x1f6),'type':'number','role':_0x5d2cc4(0x2ba),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x5d2cc4(0x2b1)](_0x5d2cc4(0x23b),{'type':'state','common':{'name':_0x5d2cc4(0x24c),'type':_0x5d2cc4(0x2b3),'role':_0x5d2cc4(0x25d),'read':!![],'write':![]},'native':{}});try{const _0x1cd47a=await this[_0x5d2cc4(0x247)]('LTM.rawEventLog');_0x1cd47a&&_0x1cd47a['val']&&(this['rawEventLog']=JSON[_0x5d2cc4(0x26a)](_0x1cd47a['val']),this[_0x5d2cc4(0x2ca)]=[...this[_0x5d2cc4(0x277)]],this[_0x5d2cc4(0x25c)][_0x5d2cc4(0x23f)](_0x5d2cc4(0x2c8)+this['eventHistory'][_0x5d2cc4(0x2be)]+_0x5d2cc4(0x282)));}catch(_0x1c8cde){this['rawEventLog']=[],this['eventHistory']=[];}try{const _0x1772c0=await this[_0x5d2cc4(0x247)]('LTM.dailyDigests');if(_0x1772c0&&_0x1772c0[_0x5d2cc4(0x29b)])this[_0x5d2cc4(0x278)]=JSON[_0x5d2cc4(0x26a)](_0x1772c0[_0x5d2cc4(0x29b)]);}catch(_0x2ee2b4){this[_0x5d2cc4(0x278)]=[];}const _0x37d73a=this[_0x5d2cc4(0x278)][_0x5d2cc4(0x2be)]>=(this[_0x5d2cc4(0x245)]['minDaysForBaseline']||0x7)?'Aktiv\x20('+this[_0x5d2cc4(0x278)][_0x5d2cc4(0x2be)]+'\x20Tage)':_0x5d2cc4(0x281)+this['dailyDigests']['length']+'/'+(this[_0x5d2cc4(0x245)]['minDaysForBaseline']||0x7)+')';await this[_0x5d2cc4(0x2cb)](_0x5d2cc4(0x297),{'val':_0x37d73a,'ack':!![]}),this[_0x5d2cc4(0x22f)]('analysis.trigger'),this[_0x5d2cc4(0x22f)](_0x5d2cc4(0x22a)),this[_0x5d2cc4(0x22f)](_0x5d2cc4(0x1e2));this['config'][_0x5d2cc4(0x2d0)]&&this[_0x5d2cc4(0x245)][_0x5d2cc4(0x273)]&&this[_0x5d2cc4(0x1c6)][_0x5d2cc4(0x295)]&&this[_0x5d2cc4(0x28b)](this[_0x5d2cc4(0x245)]['infrasoundSensorId']);const _0x3b1f58=this['config'][_0x5d2cc4(0x2b6)];if(_0x3b1f58)for(const _0x1f7a8f of _0x3b1f58){await this[_0x5d2cc4(0x260)](_0x1f7a8f['id']);}const _0x179c11=this['config'][_0x5d2cc4(0x2aa)];if(_0x179c11)for(const _0x2e7187 of _0x179c11){await this[_0x5d2cc4(0x260)](_0x2e7187);}const _0x5a8d45=require('node-schedule');if(this[_0x5d2cc4(0x220)])this[_0x5d2cc4(0x220)][_0x5d2cc4(0x2b2)]();this['historyJob']=_0x5a8d45['scheduleJob'](_0x5d2cc4(0x222),()=>{const _0x2fa700=_0x5d2cc4;this[_0x2fa700(0x269)]();}),setTimeout(()=>this[_0x5d2cc4(0x202)](),0x1388);if(this[_0x5d2cc4(0x2a2)])clearInterval(this[_0x5d2cc4(0x2a2)]);this[_0x5d2cc4(0x1cd)](),this[_0x5d2cc4(0x2a2)]=setInterval(async()=>{await this['integrateRoomTime']();},0x3c*0x3e8);if(this['healthTrendInterval'])clearInterval(this['healthTrendInterval']);this['healthTrendInterval']=setInterval(()=>{const _0x2d156e=_0x5d2cc4;this['isProVersion']&&this[_0x2d156e(0x1c6)][_0x2d156e(0x288)]&&this['runPythonHealthCheck']();},0x4*0x3c*0x3c*0x3e8);const _0x16759d=path[_0x5d2cc4(0x219)](__dirname,_0x5d2cc4(0x272),_0x5d2cc4(0x293),_0x5d2cc4(0x256));pythonBridge[_0x5d2cc4(0x1e0)](this,_0x16759d);}[a0_0x526403(0x232)](_0x1c8353){const _0x3601bd=a0_0x526403;if(this['historyJob'])this['historyJob'][_0x3601bd(0x2b2)]();this[_0x3601bd(0x269)]()['then'](()=>{const _0x36d8a3=_0x3601bd;if(this[_0x36d8a3(0x1e7)])clearInterval(this[_0x36d8a3(0x1e7)]);if(this['roomIntegratorTimer'])clearInterval(this[_0x36d8a3(0x2a2)]);recorder[_0x36d8a3(0x1f2)](this),pythonBridge['stopService'](this),_0x1c8353();});}async[a0_0x526403(0x202)](){const _0x27b583=a0_0x526403;if(!this['eventHistory']||this[_0x27b583(0x2ca)][_0x27b583(0x2be)]===0x0){this[_0x27b583(0x25c)][_0x27b583(0x23d)](_0x27b583(0x21b));return;}this[_0x27b583(0x25c)]['info'](_0x27b583(0x20f)+this['eventHistory'][_0x27b583(0x2be)]+_0x27b583(0x25a));const _0x970c10=new Date()[_0x27b583(0x29c)](0x0,0x0,0x0,0x0),_0x55af94='analysis.activity.roomHistory';let _0x122147={'history':{},'date':new Date()[_0x27b583(0x203)]()};const _0x49b36d=_0x27b583(0x286),_0x53eb93=_0x27b583(0x22d);let _0x598ef0=new Array(0x30)[_0x27b583(0x20a)](0x0),_0x59e0ea=Array[_0x27b583(0x209)]({'length':0x30},()=>[]);this[_0x27b583(0x2ca)][_0x27b583(0x2bc)](_0x445b01=>{const _0x18eba9=_0x27b583;if(_0x445b01[_0x18eba9(0x1d9)]>=_0x970c10){if(recorder[_0x18eba9(0x1bd)](_0x445b01[_0x18eba9(0x20d)],_0x445b01[_0x18eba9(0x2ba)])){const _0x5ba565=new Date(_0x445b01[_0x18eba9(0x1d9)]),_0x17823a=_0x5ba565[_0x18eba9(0x292)]()*0x2+(_0x5ba565[_0x18eba9(0x27e)]()>=0x1e?0x1:0x0);if(_0x17823a<0x30){_0x598ef0[_0x17823a]++;const _0x44a10d=_0x445b01[_0x18eba9(0x1c0)]||_0x445b01[_0x18eba9(0x27b)]||'?';let _0x1925b8=_0x59e0ea[_0x17823a];!_0x1925b8[_0x18eba9(0x1f9)](_0x44a10d)&&_0x1925b8[_0x18eba9(0x26c)](_0x44a10d);}const _0x3b5b9f=_0x5ba565[_0x18eba9(0x292)]();let _0x50d427=_0x445b01['location']||_0x18eba9(0x204);const _0x417cdf=(this[_0x18eba9(0x245)]['devices']||[])['find'](_0xb29a38=>_0xb29a38[_0x18eba9(0x1c0)]===_0x50d427);if(_0x417cdf)_0x50d427=_0x417cdf[_0x18eba9(0x1c0)];if(!_0x122147[_0x18eba9(0x1d0)][_0x50d427])_0x122147[_0x18eba9(0x1d0)][_0x50d427]=new Array(0x18)[_0x18eba9(0x20a)](0x0);if(_0x122147[_0x18eba9(0x1d0)][_0x50d427][_0x3b5b9f]<0x3c)_0x122147[_0x18eba9(0x1d0)][_0x50d427][_0x3b5b9f]++;}}});const _0x1d4512=await this['getStateAsync'](_0x55af94);(!_0x1d4512||!_0x1d4512['val']||_0x1d4512[_0x27b583(0x29b)]==='{}'||_0x1d4512[_0x27b583(0x29b)]['includes'](_0x27b583(0x2a8)))&&await this[_0x27b583(0x2cb)](_0x55af94,{'val':JSON[_0x27b583(0x1de)](_0x122147),'ack':!![]}),await this[_0x27b583(0x2cb)](_0x49b36d,{'val':JSON[_0x27b583(0x1de)](_0x598ef0),'ack':!![]}),await this[_0x27b583(0x2cb)](_0x53eb93,{'val':JSON[_0x27b583(0x1de)](_0x59e0ea),'ack':!![]}),this['log'][_0x27b583(0x23f)](_0x27b583(0x26e));}async[a0_0x526403(0x269)](){const _0x3b5790=a0_0x526403;if(!this['activeModules'][_0x3b5790(0x288)])return;const _0x2121cf=new Date()['toISOString']()[_0x3b5790(0x26f)]('T')[0x0];this['log'][_0x3b5790(0x1c1)](_0x3b5790(0x22c)+_0x2121cf+_0x3b5790(0x2ae));try{const [_0x12e80b,_0x539c70,_0x2a6bf8,_0x4948e1,_0x39be6d,_0x35fba0]=await Promise[_0x3b5790(0x2a3)]([this['getStateAsync'](_0x3b5790(0x265)),this[_0x3b5790(0x247)](_0x3b5790(0x262)),this[_0x3b5790(0x247)](_0x3b5790(0x21d)),this[_0x3b5790(0x247)](_0x3b5790(0x27a)),this[_0x3b5790(0x247)](_0x3b5790(0x286)),this['getStateAsync'](_0x3b5790(0x228))]),_0x3dd055=this[_0x3b5790(0x2ca)][_0x3b5790(0x214)](_0x34f4a7=>_0x34f4a7[_0x3b5790(0x1d9)]>=new Date()[_0x3b5790(0x29c)](0x0,0x0,0x0,0x0)&&(_0x34f4a7[_0x3b5790(0x27b)][_0x3b5790(0x28c)]()['includes'](_0x3b5790(0x24b))||_0x34f4a7[_0x3b5790(0x27b)][_0x3b5790(0x28c)]()[_0x3b5790(0x1f9)](_0x3b5790(0x212)))&&(_0x34f4a7['value']===!![]||_0x34f4a7[_0x3b5790(0x2ba)]===_0x3b5790(0x1e4)))[_0x3b5790(0x2be)];let _0x32fef3=0x55;if(_0x35fba0&&_0x35fba0[_0x3b5790(0x29b)]!==undefined)_0x32fef3=Math[_0x3b5790(0x2c1)](0x64,Math[_0x3b5790(0x28f)](0x14,Math[_0x3b5790(0x25b)](0x50+Number(_0x35fba0[_0x3b5790(0x29b)])*0x5)));const _0x16d652={'date':_0x2121cf,'timestamp':Date[_0x3b5790(0x1f8)](),'roomHistory':_0x12e80b?.[_0x3b5790(0x29b)]?JSON[_0x3b5790(0x26a)](_0x12e80b[_0x3b5790(0x29b)]):{},'geminiNight':_0x539c70?.[_0x3b5790(0x29b)]||'Keine\x20Daten','geminiDay':_0x2a6bf8?.[_0x3b5790(0x29b)]||_0x3b5790(0x1c8),'anomalyScore':_0x4948e1?.['val']||0.1,'todayVector':_0x39be6d?.[_0x3b5790(0x29b)]?JSON['parse'](_0x39be6d[_0x3b5790(0x29b)]):new Array(0x30)[_0x3b5790(0x20a)](0x0),'batteryLevel':_0x32fef3,'freshAirCount':_0x3dd055,'eventHistory':this['eventHistory']},_0x5e436a=utils[_0x3b5790(0x20e)](),_0x4f13ae=path['join'](_0x5e436a,_0x3b5790(0x28a),_0x3b5790(0x1d0));if(!fs['existsSync'](_0x4f13ae))fs[_0x3b5790(0x24a)](_0x4f13ae,{'recursive':!![]});const _0x178ff0=path[_0x3b5790(0x219)](_0x4f13ae,_0x2121cf+'.json');fs[_0x3b5790(0x20b)](_0x178ff0,JSON[_0x3b5790(0x1de)](_0x16d652)),this[_0x3b5790(0x25c)]['info']('‚úÖ\x20History\x20saved:\x20'+_0x178ff0);}catch(_0x3081fe){this[_0x3b5790(0x25c)][_0x3b5790(0x243)](_0x3b5790(0x2c7)+_0x3081fe[_0x3b5790(0x29d)]);}}async[a0_0x526403(0x1cd)](){const _0x591cac=a0_0x526403;if(!this[_0x591cac(0x2d4)])return;try{let _0x4ba251=null;try{const _0x49380e=await this['getStateAsync']('analysis.prediction.trackerTopRoom'),_0x4d0c5e=await this[_0x591cac(0x247)]('analysis.prediction.trackerConfidence');if(_0x49380e&&_0x49380e[_0x591cac(0x29b)]&&_0x4d0c5e&&_0x4d0c5e[_0x591cac(0x29b)]&&_0x4d0c5e[_0x591cac(0x29b)]>0.3){if(_0x49380e[_0x591cac(0x29b)]!==_0x591cac(0x204)&&_0x49380e[_0x591cac(0x29b)]!=='Init...')_0x4ba251=_0x49380e['val'];}}catch(_0x48ba1e){}if(!_0x4ba251){const _0x28ea2c=this[_0x591cac(0x245)][_0x591cac(0x2b6)]||[];for(const _0x291b2d of _0x28ea2c){if(_0x291b2d['type']===_0x591cac(0x235)&&_0x291b2d[_0x591cac(0x1c0)])try{const _0x3bdb97=await this[_0x591cac(0x1cb)](_0x291b2d['id']);if(_0x3bdb97&&(_0x3bdb97[_0x591cac(0x29b)]===!![]||_0x3bdb97[_0x591cac(0x29b)]==='on'||_0x3bdb97[_0x591cac(0x29b)]===0x1)){_0x4ba251=_0x291b2d['location'];break;}}catch(_0x205ecb){}}}if(!_0x4ba251)return;const _0x5f2813=this[_0x591cac(0x245)][_0x591cac(0x2b6)]||[];let _0x2d52b9=_0x4ba251;const _0x5371ae=_0x5f2813[_0x591cac(0x2af)](_0x4270f0=>_0x4270f0[_0x591cac(0x1c0)]&&_0x4270f0[_0x591cac(0x1c0)][_0x591cac(0x28c)]()===_0x4ba251[_0x591cac(0x28c)]());if(_0x5371ae)_0x2d52b9=_0x5371ae[_0x591cac(0x1c0)];const _0x1f0dfb=_0x591cac(0x265),_0x48776f=await this[_0x591cac(0x247)](_0x1f0dfb),_0x42fc91=new Date()[_0x591cac(0x203)]();let _0xeb45a4={'history':{},'date':_0x42fc91};if(_0x48776f&&_0x48776f[_0x591cac(0x29b)])try{_0xeb45a4=JSON[_0x591cac(0x26a)](_0x48776f['val']);}catch(_0x521d4d){}_0xeb45a4[_0x591cac(0x296)]!==_0x42fc91&&(_0xeb45a4[_0x591cac(0x1d0)]={},_0xeb45a4[_0x591cac(0x296)]=_0x42fc91);if(!_0xeb45a4['history'][_0x2d52b9])_0xeb45a4['history'][_0x2d52b9]=new Array(0x18)[_0x591cac(0x20a)](0x0);const _0x582051=new Date()[_0x591cac(0x292)]();if(_0xeb45a4[_0x591cac(0x1d0)][_0x2d52b9][_0x582051]<0x3c)_0xeb45a4[_0x591cac(0x1d0)][_0x2d52b9][_0x582051]++;await this['setStateAsync'](_0x1f0dfb,{'val':JSON[_0x591cac(0x1de)](_0xeb45a4),'ack':!![]});}catch(_0x3c09ac){this[_0x591cac(0x25c)][_0x591cac(0x23d)](_0x591cac(0x2b4)+_0x3c09ac[_0x591cac(0x29d)]);}}async[a0_0x526403(0x298)](_0x374797){const _0x32620c=a0_0x526403;if(typeof _0x374797==='object'&&_0x374797[_0x32620c(0x29d)]){if(_0x374797[_0x32620c(0x2cc)]===_0x32620c(0x2c0)){const _0x5a9009=_0x374797[_0x32620c(0x29d)][_0x32620c(0x296)],_0xe0c0ad=utils[_0x32620c(0x20e)](),_0x29a996=path[_0x32620c(0x219)](_0xe0c0ad,_0x32620c(0x28a),_0x32620c(0x1d0),_0x5a9009+_0x32620c(0x24d));if(fs[_0x32620c(0x279)](_0x29a996))try{const _0x40c27b=JSON[_0x32620c(0x26a)](fs[_0x32620c(0x1ef)](_0x29a996,_0x32620c(0x27c)));this[_0x32620c(0x261)](_0x374797['from'],_0x374797[_0x32620c(0x2cc)],{'success':!![],'data':_0x40c27b},_0x374797[_0x32620c(0x210)]);}catch(_0x165e1e){this[_0x32620c(0x261)](_0x374797[_0x32620c(0x209)],_0x374797[_0x32620c(0x2cc)],{'success':![],'error':_0x32620c(0x280)},_0x374797[_0x32620c(0x210)]);}else this['sendTo'](_0x374797[_0x32620c(0x209)],_0x374797['command'],{'success':![],'error':'No\x20data'},_0x374797[_0x32620c(0x210)]);}else{if(_0x374797[_0x32620c(0x2cc)]===_0x32620c(0x227)){const _0x41d437=this['dailyDigests'][_0x32620c(0x2be)];let _0x100f2f=new Array(0x30)[_0x32620c(0x20a)](0x0),_0x3f1c40=Array[_0x32620c(0x209)]({'length':0x30},()=>[]);try{const _0x3f2674=await this[_0x32620c(0x247)](_0x32620c(0x286));if(_0x3f2674&&_0x3f2674[_0x32620c(0x29b)])_0x100f2f=JSON[_0x32620c(0x26a)](_0x3f2674['val']);const _0x2d446e=await this['getStateAsync'](_0x32620c(0x22d));if(_0x2d446e&&_0x2d446e[_0x32620c(0x29b)])_0x3f1c40=JSON[_0x32620c(0x26a)](_0x2d446e[_0x32620c(0x29b)]);}catch(_0x260004){}let _0x54dee8=new Array(0x30)[_0x32620c(0x20a)](0x0);try{const _0x32100b=new Date();_0x32100b['setDate'](_0x32100b[_0x32620c(0x2ac)]()-0x1);const _0x5f4c88=_0x32100b[_0x32620c(0x1cc)]()[_0x32620c(0x26f)]('T')[0x0],_0x3ff0e9=utils['getAbsoluteDefaultDataDir'](),_0x1aba66=path[_0x32620c(0x219)](_0x3ff0e9,_0x32620c(0x28a),_0x32620c(0x1d0),_0x5f4c88+_0x32620c(0x24d));if(fs[_0x32620c(0x279)](_0x1aba66)){const _0x32ddd3=JSON[_0x32620c(0x26a)](fs[_0x32620c(0x1ef)](_0x1aba66,_0x32620c(0x27c)));if(_0x32ddd3&&_0x32ddd3['todayVector'])_0x54dee8=_0x32ddd3['todayVector'];}}catch(_0x416803){}let _0x71f1f9={'today':{},'yesterday':{}};try{const _0x2dec45=await this[_0x32620c(0x247)](_0x32620c(0x276));if(_0x2dec45&&_0x2dec45[_0x32620c(0x29b)])_0x71f1f9=JSON[_0x32620c(0x26a)](_0x2dec45[_0x32620c(0x29b)]);}catch(_0x23a0ae){}let _0x58fe5d=![],_0x1f95fc='',_0x3cf885='',_0xebd708='';try{const _0x2723be=await this[_0x32620c(0x247)]('analysis.automation.patternDetected');if(_0x2723be&&_0x2723be[_0x32620c(0x29b)]){_0x58fe5d=!![];const _0x3a142f=await this[_0x32620c(0x247)](_0x32620c(0x1da));_0x1f95fc=_0x3a142f?_0x3a142f[_0x32620c(0x29b)]:'';const _0x142eb0=await this['getStateAsync'](_0x32620c(0x1c7));_0x3cf885=_0x142eb0?_0x142eb0['val']:'';const _0x3c2921=await this[_0x32620c(0x247)](_0x32620c(0x240));_0xebd708=_0x3c2921?_0x3c2921[_0x32620c(0x29b)]:'';}}catch(_0x5b1d22){}const _0x5dbb8d=await this[_0x32620c(0x25f)](),_0x1caebf=(this[_0x32620c(0x245)][_0x32620c(0x2b6)]||[])[_0x32620c(0x1f3)](_0x2b150a=>_0x2b150a[_0x32620c(0x1e8)]),_0x2a002c=_0x5dbb8d&&_0x1caebf;let _0x1b5d76='';try{const _0x5f562a=await this[_0x32620c(0x247)](_0x32620c(0x1ba));if(_0x5f562a&&_0x5f562a['val'])_0x1b5d76=_0x5f562a['val'];}catch(_0x496fa5){}this['sendTo'](_0x374797[_0x32620c(0x209)],_0x374797[_0x32620c(0x2cc)],{'success':!![],'eventHistory':this[_0x32620c(0x2ca)][_0x32620c(0x23c)](0x0,0x7d0),'stats':{'digestCount':_0x41d437,'isPresent':this[_0x32620c(0x2d4)],'hourlyActivity':_0x100f2f,'hourlyDetails':_0x3f1c40,'yesterdayActivity':_0x54dee8,'solarActive':_0x2a002c,'presenceWho':_0x1b5d76,'roomStats':_0x71f1f9,'modules':this[_0x32620c(0x1c6)]},'automation':{'detected':_0x58fe5d,'description':_0x1f95fc,'targetId':_0x3cf885,'targetValue':_0xebd708}},_0x374797[_0x32620c(0x210)]);}else{if(_0x374797[_0x32620c(0x2cc)]===_0x32620c(0x2a7))try{const _0x2dcccc=await automation[_0x32620c(0x264)](this);this[_0x32620c(0x261)](_0x374797[_0x32620c(0x209)],_0x374797[_0x32620c(0x2cc)],{'success':!![],'results':_0x2dcccc},_0x374797['callback']);}catch(_0x345bc0){this['sendTo'](_0x374797[_0x32620c(0x209)],_0x374797[_0x32620c(0x2cc)],{'success':![],'error':_0x345bc0[_0x32620c(0x29d)]},_0x374797[_0x32620c(0x210)]);}else{if(_0x374797[_0x32620c(0x2cc)]===_0x32620c(0x2b0))try{const _0x35a71f=await scanner[_0x32620c(0x1c3)](this,_0x374797[_0x32620c(0x29d)]||{});this['sendTo'](_0x374797[_0x32620c(0x209)],_0x374797[_0x32620c(0x2cc)],{'success':!![],'devices':_0x35a71f},_0x374797['callback']);}catch(_0x594d39){}else{if(_0x374797[_0x32620c(0x2cc)]===_0x32620c(0x2a9)){const _0x212c54=await this[_0x32620c(0x1d7)](_0x32620c(0x1d1),_0x32620c(0x231)),_0x30d594=[];if(_0x212c54)for(const _0x1e7d91 in _0x212c54){_0x30d594['push']({'id':_0x1e7d91,'name':_0x212c54[_0x1e7d91][_0x32620c(0x267)]['name']});}const _0x1a7d72=await this[_0x32620c(0x1d7)](_0x32620c(0x2a0),'enum'),_0x22f2a6=[];if(_0x1a7d72)for(const _0x4dccdc in _0x1a7d72){_0x22f2a6[_0x32620c(0x26c)](_0x1a7d72[_0x4dccdc][_0x32620c(0x267)][_0x32620c(0x27b)]||_0x4dccdc[_0x32620c(0x26f)]('.')['pop']());}this[_0x32620c(0x261)](_0x374797[_0x32620c(0x209)],_0x374797['command'],{'success':!![],'enums':_0x30d594,'rooms':_0x22f2a6},_0x374797[_0x32620c(0x210)]);}}}}}}}[a0_0x526403(0x283)](){const _0x3885e3=a0_0x526403;if(!this[_0x3885e3(0x1c6)][_0x3885e3(0x288)])return;this[_0x3885e3(0x25c)][_0x3885e3(0x1c1)](_0x3885e3(0x1cf));try{const _0xa6e634=this[_0x3885e3(0x277)]||[];pythonBridge[_0x3885e3(0x1ea)](this,_0x3885e3(0x29f),{'events':_0xa6e634});}catch(_0x58fe8c){this['log'][_0x3885e3(0x23d)]('Failed\x20to\x20trigger\x20Python\x20Health\x20Check');}}async[a0_0x526403(0x2c2)](_0x1524f0,_0x376f2d){const _0x88e464=a0_0x526403;if(!_0x376f2d||this['dependencyInstallInProgress'])return;if(_0x1524f0[_0x88e464(0x1f9)](_0x88e464(0x290))&&_0x1524f0[_0x88e464(0x2a1)](_0x88e464(0x1c5))&&_0x376f2d[_0x88e464(0x29b)])return;if(this[_0x88e464(0x245)][_0x88e464(0x2d0)]&&_0x1524f0===this['config'][_0x88e464(0x273)]&&this[_0x88e464(0x1c6)]['security']){this[_0x88e464(0x1c4)](_0x376f2d[_0x88e464(0x29b)]);return;}if(_0x376f2d[_0x88e464(0x224)]&&_0x1524f0[_0x88e464(0x2a1)](_0x88e464(0x1c9)))return;if(_0x1524f0===this[_0x88e464(0x29e)]+_0x88e464(0x226)){if(_0x376f2d[_0x88e464(0x29b)]&&Object[_0x88e464(0x2c6)](setup[_0x88e464(0x26d)])['includes'](_0x376f2d[_0x88e464(0x29b)])){this[_0x88e464(0x1e6)]=_0x376f2d['val'];if(_0x376f2d['val']===setup[_0x88e464(0x26d)][_0x88e464(0x236)])await recorder[_0x88e464(0x22e)](this,![]);else await recorder[_0x88e464(0x22e)](this,!![]);if(this[_0x88e464(0x253)]){let _0xb1237f=![],_0x4671ae=0x0,_0x19d900=_0x88e464(0x24f);if(this['currentSystemMode']==='party')_0xb1237f=!![],_0x4671ae=0x168,_0x19d900=_0x88e464(0x1d8);else this[_0x88e464(0x1e6)]===_0x88e464(0x1dd)&&(_0xb1237f=!![],_0x4671ae=0x5a0,_0x19d900=_0x88e464(0x1fe));pythonBridge[_0x88e464(0x1ea)](this,_0x88e464(0x2a6),{'active':_0xb1237f,'duration':_0x4671ae,'label':_0x19d900}),await this[_0x88e464(0x2cb)](_0x88e464(0x2a5),{'val':JSON[_0x88e464(0x1de)]({'active':_0xb1237f,'label':_0x19d900,'timestamp':Date[_0x88e464(0x1f8)]()}),'ack':!![]});}}if(!_0x376f2d[_0x88e464(0x224)])this['setState'](_0x1524f0,{'val':this[_0x88e464(0x1e6)],'ack':!![]});return;}if(_0x1524f0['endsWith']('analysis.energy.warmupSources')&&_0x376f2d[_0x88e464(0x224)])this[_0x88e464(0x271)](_0x376f2d[_0x88e464(0x29b)]);if(_0x1524f0[_0x88e464(0x2a1)](_0x88e464(0x23b))&&_0x376f2d[_0x88e464(0x224)]&&this[_0x88e464(0x1c6)]['energy'])automation['checkCalendarTriggers'](this);if(!_0x376f2d[_0x88e464(0x224)]){if(_0x1524f0[_0x88e464(0x1f9)](_0x88e464(0x1fa))&&_0x376f2d[_0x88e464(0x29b)]){this[_0x88e464(0x1d4)](_0x1524f0,{'val':![],'ack':!![]}),aiAgent[_0x88e464(0x23a)](this);return;}if(_0x1524f0[_0x88e464(0x1f9)](_0x88e464(0x1c2))&&_0x376f2d['val']){this[_0x88e464(0x1d4)](_0x1524f0,{'val':![],'ack':!![]});if(this[_0x88e464(0x253)])aiAgent[_0x88e464(0x1ec)](this,pythonBridge);return;}if(_0x1524f0[_0x88e464(0x1f9)](_0x88e464(0x2ab))&&_0x376f2d['val']){this[_0x88e464(0x1d4)](_0x1524f0,{'val':![],'ack':!![]}),aiAgent[_0x88e464(0x27d)](this);return;}if(_0x1524f0[_0x88e464(0x1f9)](_0x88e464(0x1b9))&&_0x376f2d[_0x88e464(0x29b)]){this['setState'](_0x1524f0,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x1524f0[_0x88e464(0x1f9)](_0x88e464(0x2c3))&&_0x376f2d[_0x88e464(0x29b)]){this['setState'](_0x1524f0,{'val':![],'ack':!![]});if(this[_0x88e464(0x253)])try{const _0x383029=await this[_0x88e464(0x247)](_0x88e464(0x239));if(_0x383029&&_0x383029[_0x88e464(0x29b)]){const _0x103151=JSON[_0x88e464(0x26a)](_0x383029['val']);this['setStateAsync'](_0x88e464(0x241),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x88e464(0x1ea)](this,'TRAIN_SECURITY',{'sequences':_0x103151});}}catch(_0x39ce96){}return;}if(_0x1524f0[_0x88e464(0x1f9)](_0x88e464(0x1e2))&&_0x376f2d['val']){this['setState'](_0x1524f0,{'val':![],'ack':!![]});if(this[_0x88e464(0x253)])try{this[_0x88e464(0x283)]();const _0x2c6dbb=await this['getStateAsync'](_0x88e464(0x2c5));if(_0x2c6dbb&&_0x2c6dbb[_0x88e464(0x29b)])pythonBridge[_0x88e464(0x1ea)](this,_0x88e464(0x250),{'digests':JSON[_0x88e464(0x26a)](_0x2c6dbb[_0x88e464(0x29b)])});aiAgent[_0x88e464(0x216)](this,'NIGHT'),setTimeout(()=>aiAgent['generateHealthReport'](this,'DAY'),0x2ee0);}catch(_0x477edd){}return;}if(_0x1524f0['includes']('analysis.training.triggerEnergy')&&_0x376f2d[_0x88e464(0x29b)]){this[_0x88e464(0x1d4)](_0x1524f0,{'val':![],'ack':!![]});if(this[_0x88e464(0x253)])try{const _0x4e43e1=await this['getStateAsync']('LTM.trainingData.thermodynamics');if(_0x4e43e1&&_0x4e43e1[_0x88e464(0x29b)])pythonBridge[_0x88e464(0x1ea)](this,_0x88e464(0x237),{'points':JSON['parse'](_0x4e43e1[_0x88e464(0x29b)])});}catch(_0x1148b1){}return;}if(_0x1524f0['includes'](_0x88e464(0x213))&&_0x376f2d[_0x88e464(0x29b)]){this[_0x88e464(0x1d4)](_0x1524f0,{'val':![],'ack':!![]});if(this[_0x88e464(0x253)])try{const _0x278247=await this[_0x88e464(0x247)](_0x88e464(0x27f));if(_0x278247&&_0x278247['val']){const _0xcfa000={};if(this['config'][_0x88e464(0x2b6)])this[_0x88e464(0x245)]['devices'][_0x88e464(0x2bc)](_0x13b7e4=>{const _0x5a2537=_0x88e464;if(_0x13b7e4['id']&&_0x13b7e4[_0x5a2537(0x20d)])_0xcfa000[_0x13b7e4['id']]=_0x13b7e4[_0x5a2537(0x20d)];});pythonBridge[_0x88e464(0x1ea)](this,'TRAIN_COMFORT',{'events':JSON['parse'](_0x278247[_0x88e464(0x29b)]),'deviceMap':_0xcfa000});}}catch(_0x5de229){}return;}if(_0x1524f0[_0x88e464(0x1f9)]('analysis.training.triggerTopology')&&_0x376f2d[_0x88e464(0x29b)]){this[_0x88e464(0x1d4)](_0x1524f0,{'val':![],'ack':!![]}),topology[_0x88e464(0x207)](this);if(this[_0x88e464(0x253)])try{const _0x1a34f6=await this[_0x88e464(0x247)]('LTM.trainingData.sequences');if(_0x1a34f6&&_0x1a34f6['val'])pythonBridge[_0x88e464(0x1ea)](this,_0x88e464(0x2b5),{'sequences':JSON[_0x88e464(0x26a)](_0x1a34f6[_0x88e464(0x29b)])});}catch(_0x1ef067){}return;}}const _0x443472=(this[_0x88e464(0x245)][_0x88e464(0x2b6)]||[])[_0x88e464(0x2af)](_0x2c16d3=>_0x2c16d3['id']===_0x1524f0);if(_0x443472){const _0x3f4d51=await recorder[_0x88e464(0x238)](this,_0x1524f0,_0x376f2d,_0x443472);_0x3f4d51&&this[_0x88e464(0x1d4)](_0x88e464(0x242),{'val':Date[_0x88e464(0x1f8)](),'ack':!![]});_0x3f4d51&&_0x3f4d51[_0x88e464(0x20d)]===_0x88e464(0x235)&&_0x3f4d51[_0x88e464(0x1c0)]&&this[_0x88e464(0x253)]&&deadMan['updateLocation'](this,_0x3f4d51[_0x88e464(0x1c0)]);_0x376f2d[_0x88e464(0x29b)]&&(_0x376f2d['val']===!![]||_0x376f2d[_0x88e464(0x29b)]===0x1||String(_0x376f2d[_0x88e464(0x29b)])[_0x88e464(0x28c)]()===_0x88e464(0x1e4))&&(_0x443472[_0x88e464(0x20d)]&&(_0x443472[_0x88e464(0x20d)][_0x88e464(0x1f9)](_0x88e464(0x225))||_0x443472[_0x88e464(0x20d)]['includes'](_0x88e464(0x1fb)))&&this[_0x88e464(0x1e1)](_0x443472));if(_0x443472[_0x88e464(0x20d)]===_0x88e464(0x201)||_0x443472[_0x88e464(0x20d)]===_0x88e464(0x28d)){if(this['activeModules']['energy'])automation[_0x88e464(0x1e5)](this);}}}async['protectAiMemory'](_0x16a1d4){const _0x4ce448=a0_0x526403;if(!this[_0x4ce448(0x1f4)]||Date[_0x4ce448(0x1f8)]()-this[_0x4ce448(0x2bb)]>0x493e0)return;try{const _0x50901c=JSON[_0x4ce448(0x26a)](_0x16a1d4),_0x3e2f93=this[_0x4ce448(0x1f4)][_0x4ce448(0x246)];let _0x3e23c0=![];for(const _0x1a7bb8 in _0x3e2f93){if(_0x3e2f93[_0x1a7bb8][_0x4ce448(0x1f9)]('AI')&&_0x50901c[_0x1a7bb8]&&!_0x50901c[_0x1a7bb8][_0x4ce448(0x1f9)]('AI')){_0x3e23c0=!![];break;}}_0x3e23c0&&(await this['setStateAsync'](_0x4ce448(0x23b),{'val':JSON[_0x4ce448(0x1de)](this[_0x4ce448(0x1f4)][_0x4ce448(0x1ee)]),'ack':!![]}),await this[_0x4ce448(0x2cb)](_0x4ce448(0x294),{'val':JSON[_0x4ce448(0x1de)](this[_0x4ce448(0x1f4)][_0x4ce448(0x246)]),'ack':!![]}));}catch(_0x4f1d1f){}}async[a0_0x526403(0x254)](){const _0x43aea6=a0_0x526403;try{const _0x326e98=await this['getStateAsync'](setup[_0x43aea6(0x1fc)]);if(_0x326e98&&_0x326e98[_0x43aea6(0x29b)])this['currentSystemMode']=_0x326e98[_0x43aea6(0x29b)];}catch(_0x5491fc){this[_0x43aea6(0x1e6)]=setup['SYSTEM_MODES']['NORMAL'];}}async[a0_0x526403(0x251)](){return![];}async[a0_0x526403(0x289)](){const _0x39a503=a0_0x526403;await aiAgent[_0x39a503(0x23a)](this);this[_0x39a503(0x1c6)][_0x39a503(0x288)]&&(this['updateHealthVector'](),this[_0x39a503(0x257)]());if(this[_0x39a503(0x1c6)][_0x39a503(0x28e)])this['triggerEnergyPrediction']();}async['checkSolarCondition'](){return![];}['triggerGaitAnalysis'](){const _0x512a4a=a0_0x526403;if(!this[_0x512a4a(0x253)])return;}async[a0_0x526403(0x221)](){}[a0_0x526403(0x218)](){}async[a0_0x526403(0x1c4)](_0x254845){}async[a0_0x526403(0x1f5)](_0x59db4c,_0x49c8cc){}async[a0_0x526403(0x1e1)](_0x5d1896){}async[a0_0x526403(0x268)](_0x326a89){}[a0_0x526403(0x217)](_0x5be05d){}}if(require[a0_0x526403(0x2ce)]!==module)module[a0_0x526403(0x211)]=_0x17d4a2=>new CogniLiving(_0x17d4a2);else new CogniLiving();