const a0_0x5d1b21=a0_0x593d;(function(_0x5626f0,_0x9e4f23){const _0x49c4f9=a0_0x593d,_0x1b33de=_0x5626f0();while(!![]){try{const _0x4681ce=-parseInt(_0x49c4f9(0x151))/0x1+-parseInt(_0x49c4f9(0x18d))/0x2*(-parseInt(_0x49c4f9(0x1dc))/0x3)+-parseInt(_0x49c4f9(0x1e7))/0x4*(parseInt(_0x49c4f9(0x1d9))/0x5)+-parseInt(_0x49c4f9(0x186))/0x6*(-parseInt(_0x49c4f9(0x1c5))/0x7)+parseInt(_0x49c4f9(0x156))/0x8+parseInt(_0x49c4f9(0x15a))/0x9*(parseInt(_0x49c4f9(0x1e6))/0xa)+-parseInt(_0x49c4f9(0x1be))/0xb;if(_0x4681ce===_0x9e4f23)break;else _0x1b33de['push'](_0x1b33de['shift']());}catch(_0x23bb2a){_0x1b33de['push'](_0x1b33de['shift']());}}}(a0_0x1d83,0xe1500));const a0_0x4fb72f=(function(){let _0x56eaa2=!![];return function(_0xf3eec1,_0x21ef62){const _0x1212cc=_0x56eaa2?function(){const _0x346992=a0_0x593d;if(_0x21ef62){const _0x32d3c5=_0x21ef62[_0x346992(0x1d4)](_0xf3eec1,arguments);return _0x21ef62=null,_0x32d3c5;}}:function(){};return _0x56eaa2=![],_0x1212cc;};}()),a0_0x3d0eef=a0_0x4fb72f(this,function(){const _0x2ab9c0=a0_0x593d;return a0_0x3d0eef[_0x2ab9c0(0x18a)]()[_0x2ab9c0(0x188)](_0x2ab9c0(0x19c))[_0x2ab9c0(0x18a)]()[_0x2ab9c0(0x1df)](a0_0x3d0eef)[_0x2ab9c0(0x188)](_0x2ab9c0(0x19c));});function a0_0x1d83(){const _0xa81fce=['pop','telegram','setupDriftAnalysisScheduler','scanForDevices','Topology\x20Update\x20Error:\x20','analysis.triggerBriefing','updateTopology','(((.+)+)+)+$','getState','processSensorEvent','sendTo','.communicate.request','isProVersion','analysisHistory','ack','isPresent','temperature','setStateAsync','info','testApiKey','getOutsideTemperatureNumeric','@iobroker/adapter-core','updated','values','application/json','devices','main','TRAIN_SECURITY','enum.rooms.*','getHours','ANALYZE_TREND','common','object','presenceDevices','geminiModel','getMinutes','getEnums','setPresence','exitTimer','getTime','Adapter','26962331DoBBIX','analysis.topology.structure','split','fill','./lib/ai_agent','triggerDailyDigest','analysis.training.triggerHealth','11949XuWlSN','from','analysis.training.status','setState','cogni-living\x20adapter\x20starting\x20(v','ðŸ§ \x20Triggering\x20Security\x20Training...','startService','onReady','subscribeStates','onMessage','loadSystemMode','NORMAL','location','PYTHON_EXE','initZombies','apply','analysis.training.triggerTopology','PREDICT_ENERGY','cancel','analysis.training.triggerEnergy','11575ovUVTm','triggerGaitAnalysis','send','636933hvZjlk','ðŸ•¸ï¸\x20Topology\x20Graph\x20manually\x20updated\x20by\x20user.','Gemini\x20AI\x20initialized.','constructor','models/gemini-flash-latest','ANALYZE_GAIT','driftAnalysisTimer','exitGraceTimer','Training\x20Error:\x20','runPythonHealthCheck','6083700sdFtpw','524NVRLWO','floor','message','minDaysForBaseline','cogni-living','triggerBriefing','analysis.health.todayVector','subscribeForeignStatesAsync','LTM.trainingData.sequences','setHours','TRAIN_COMFORT','checkWifiPresence','triggerEnergyPrediction','currentSystemMode','val','includes','dailyDigests','activityLevel','TRAIN_HEALTH','onStateChange','geminiApiKey','startSystem','analysis.training.triggerComfort','SYSTEM_MODES','stringify','isGracePeriodActive','SYSTEM_DP_MODE','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','initHistory','dependencyInstallInProgress','enum.functions.*','LTM.baselineStatus','automation.triggerAction','LTM.dailyDigests','analysis.trigger','unload','error','./lib/installer','abortExitTimer','toLowerCase','type','checkLicense','createDailyDigest','getGenerativeModel','@google/generative-ai','751998WAiKtq','length','bind','LTM.rawEventLog','updateHealthVector','9512688xAwMFJ','WiFi\x20Presence\x20detected.','log','eventHistory','18eSICiI','sensorLastValues','./lib/python_bridge','setupModeResetScheduler','initSystemConfig','debug','inactivityThresholdHours','VACATION','system.mode','map','system.presenceWho','rawEventLog','getForeignStateAsync','ltmJob','briefingJob','Activity-Level','stopService','analysisTimer','setupBriefingScheduler',')\x20-\x20Phase\x20C\x20(Refactored)','notifyTelegramInstance','getStateAsync','SET_TOPOLOGY','runAutopilot','push','./lib/scheduler','./lib/scanner','command','lastAlertState','analysisInterval','runBaselineDriftAnalysis','callback','Sec-Training\x20started...','createAllObjects','genAI','.system.mode','./lib/topology','config','getForeignObjectsAsync','getOverviewData','matrix','TRAIN_ENERGY','Lernphase\x20(','exports','6366WmgZSF','name','search','analysis.training.triggerSecurity','toString','\x20Tage)','ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...','2GoxBFz','./lib/recorder','ðŸ•¸ï¸\x20Manually\x20triggering\x20Topology\x20Update...','online','modeResetJob','Aktiv\x20(','parse','./lib/setup'];a0_0x1d83=function(){return _0xa81fce;};return a0_0x1d83();}a0_0x3d0eef();'use strict';function a0_0x593d(_0x5d3fe6,_0x4cf93a){const _0x3b4229=a0_0x1d83();return a0_0x593d=function(_0x3d0eef,_0x4fb72f){_0x3d0eef=_0x3d0eef-0x12a;let _0x1d8358=_0x3b4229[_0x3d0eef];return _0x1d8358;},a0_0x593d(_0x5d3fe6,_0x4cf93a);}const utils=require(a0_0x5d1b21(0x1aa)),{GoogleGenerativeAI}=require(a0_0x5d1b21(0x150)),installer=require(a0_0x5d1b21(0x149)),scanner=require(a0_0x5d1b21(0x174)),schedulers=require(a0_0x5d1b21(0x173)),topology=require(a0_0x5d1b21(0x17e)),setup=require(a0_0x5d1b21(0x194)),recorder=require(a0_0x5d1b21(0x18e)),pythonBridge=require(a0_0x5d1b21(0x15c)),aiAgent=require(a0_0x5d1b21(0x1c2)),GEMINI_MODEL=a0_0x5d1b21(0x1e0),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x5d1b21(0x1bd)]{constructor(_0x2752c2){const _0x10d305=a0_0x5d1b21;super({..._0x2752c2,'name':_0x10d305(0x1eb)}),this[_0x10d305(0x159)]=[],this[_0x10d305(0x1a2)]=[],this['rawEventLog']=[],this[_0x10d305(0x134)]=[],this[_0x10d305(0x15b)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x10d305(0x1a4)]=!![],this[_0x10d305(0x1bb)]=null,this[_0x10d305(0x1e3)]=null,this[_0x10d305(0x13d)]=![],this[_0x10d305(0x17c)]=null,this[_0x10d305(0x1b7)]=null,this['currentSystemMode']=setup[_0x10d305(0x13b)][_0x10d305(0x1d0)],this['isProVersion']=![],this[_0x10d305(0x176)]=![],this['analysisTimer']=null,this[_0x10d305(0x167)]=null,this['modeResetJob']=null,this[_0x10d305(0x1e2)]=null,this[_0x10d305(0x168)]=null,this[_0x10d305(0x141)]=![],this['on']('ready',this[_0x10d305(0x1cc)]['bind'](this)),this['on']('stateChange',this[_0x10d305(0x137)][_0x10d305(0x153)](this)),this['on'](_0x10d305(0x147),this['onUnload'][_0x10d305(0x153)](this)),this['on'](_0x10d305(0x1e9),this[_0x10d305(0x1ce)]['bind'](this));}async[a0_0x5d1b21(0x1cc)](){const _0x430a68=a0_0x5d1b21;this['log'][_0x430a68(0x1a7)](_0x430a68(0x1c9)+this['version']+_0x430a68(0x16d));if(!installer['checkAndInstall'](this,()=>this[_0x430a68(0x139)]()))return;}async[a0_0x5d1b21(0x139)](){const _0x17ffe8=a0_0x5d1b21;await setup[_0x17ffe8(0x1d3)](this);try{this[_0x17ffe8(0x1a1)]=await setup[_0x17ffe8(0x14d)](this['config']['licenseKey']);}catch(_0x58c577){}if(!this[_0x17ffe8(0x17f)][_0x17ffe8(0x160)]||this[_0x17ffe8(0x17f)][_0x17ffe8(0x160)]<0.1)this[_0x17ffe8(0x17f)][_0x17ffe8(0x160)]=0xc;await setup[_0x17ffe8(0x140)](this),await setup[_0x17ffe8(0x15e)](this);if(this[_0x17ffe8(0x17f)][_0x17ffe8(0x138)])try{this['genAI']=new GoogleGenerativeAI(this['config']['geminiApiKey']),this[_0x17ffe8(0x1b7)]=this[_0x17ffe8(0x17c)][_0x17ffe8(0x14f)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x17ffe8(0x1ad)}}),this[_0x17ffe8(0x158)][_0x17ffe8(0x1a7)](_0x17ffe8(0x1de));}catch(_0x12bc46){this[_0x17ffe8(0x158)]['error']('Gemini\x20Init\x20Error:\x20'+_0x12bc46['message']);}await setup[_0x17ffe8(0x17b)](this),await this['loadSystemMode']();try{const _0x4d08e1=await this['getStateAsync'](_0x17ffe8(0x154));if(_0x4d08e1&&_0x4d08e1[_0x17ffe8(0x132)])this[_0x17ffe8(0x165)]=JSON[_0x17ffe8(0x193)](_0x4d08e1[_0x17ffe8(0x132)]);}catch(_0x34faeb){this[_0x17ffe8(0x165)]=[];}try{const _0x3f0757=await this[_0x17ffe8(0x16f)](_0x17ffe8(0x145));if(_0x3f0757&&_0x3f0757[_0x17ffe8(0x132)])this[_0x17ffe8(0x134)]=JSON[_0x17ffe8(0x193)](_0x3f0757[_0x17ffe8(0x132)]);}catch(_0x226cf7){this[_0x17ffe8(0x134)]=[];}const _0x26deca=this['dailyDigests'][_0x17ffe8(0x152)]>=(this[_0x17ffe8(0x17f)][_0x17ffe8(0x1ea)]||0x7)?_0x17ffe8(0x192)+this[_0x17ffe8(0x134)][_0x17ffe8(0x152)]+_0x17ffe8(0x18b):_0x17ffe8(0x184)+this['dailyDigests'][_0x17ffe8(0x152)]+'/'+(this[_0x17ffe8(0x17f)]['minDaysForBaseline']||0x7)+')';await this[_0x17ffe8(0x1a6)](_0x17ffe8(0x143),{'val':_0x26deca,'ack':!![]}),this[_0x17ffe8(0x1cd)](_0x17ffe8(0x146)),this['subscribeStates']('LTM.triggerDailyDigest'),this[_0x17ffe8(0x1cd)](_0x17ffe8(0x162)),this['subscribeStates'](_0x17ffe8(0x19a)),this[_0x17ffe8(0x1cd)]('analysis.automation.triggerAction'),this['subscribeStates']('analysis.automation.autoApply'),this[_0x17ffe8(0x1cd)](_0x17ffe8(0x189)),this[_0x17ffe8(0x1cd)](_0x17ffe8(0x1c4)),this['subscribeStates'](_0x17ffe8(0x1d8)),this[_0x17ffe8(0x1cd)](_0x17ffe8(0x13a)),this[_0x17ffe8(0x1cd)](_0x17ffe8(0x1d5));const _0xf0643=this['config'][_0x17ffe8(0x1ae)];if(_0xf0643)for(const _0x2b47e4 of _0xf0643){await this[_0x17ffe8(0x12b)](_0x2b47e4['id']);}const _0x44bed7=this[_0x17ffe8(0x17f)]['presenceDevices'];if(_0x44bed7)for(const _0x39746e of _0x44bed7){await this['subscribeForeignStatesAsync'](_0x39746e);}if(this[_0x17ffe8(0x17f)]['notifyTelegramEnabled']&&this[_0x17ffe8(0x17f)]['notifyTelegramInstance'])await this[_0x17ffe8(0x12b)](this[_0x17ffe8(0x17f)][_0x17ffe8(0x16e)]+_0x17ffe8(0x1a0));setTimeout(()=>this[_0x17ffe8(0x12f)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x17ffe8(0x16b)]);const _0x54b300=this[_0x17ffe8(0x17f)][_0x17ffe8(0x177)]||0xf;_0x54b300>0x0&&(this[_0x17ffe8(0x16b)]=setInterval(()=>{const _0x1a226a=_0x17ffe8;this[_0x1a226a(0x171)]();},_0x54b300*0x3c*0x3e8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x17ffe8(0x14e)](this,pythonBridge)),schedulers[_0x17ffe8(0x15d)](this),schedulers[_0x17ffe8(0x197)](this,()=>aiAgent[_0x17ffe8(0x178)](this)),schedulers[_0x17ffe8(0x16c)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x17ffe8(0x1cb)](this,installer[_0x17ffe8(0x1d2)]),setTimeout(async()=>{const _0x285468=_0x17ffe8;await topology[_0x285468(0x19b)](this);try{const _0x118870=await this[_0x285468(0x16f)](_0x285468(0x1bf));if(_0x118870&&_0x118870[_0x285468(0x132)])pythonBridge[_0x285468(0x1db)](this,_0x285468(0x170),JSON['parse'](_0x118870['val']));}catch(_0x4dc483){}this[_0x285468(0x1e5)](),this['triggerGaitAnalysis'](),this[_0x285468(0x130)](),this[_0x285468(0x155)]();},0x1388);}['onUnload'](_0x1c7e2b){const _0x5cb7f6=a0_0x5d1b21;if(this['analysisTimer'])clearInterval(this['analysisTimer']);if(this[_0x5cb7f6(0x1e2)])clearInterval(this[_0x5cb7f6(0x1e2)]);if(this['ltmJob'])this[_0x5cb7f6(0x167)]['cancel']();if(this[_0x5cb7f6(0x191)])this[_0x5cb7f6(0x191)][_0x5cb7f6(0x1d7)]();if(this['briefingJob'])this[_0x5cb7f6(0x168)][_0x5cb7f6(0x1d7)]();recorder[_0x5cb7f6(0x14a)](this),pythonBridge[_0x5cb7f6(0x16a)](this),_0x1c7e2b();}async['onStateChange'](_0xa5fcd1,_0xfcfcc0){const _0x68778e=a0_0x5d1b21;if(!_0xfcfcc0||this[_0x68778e(0x141)])return;if(_0xa5fcd1['includes'](_0x68778e(0x196))&&_0xa5fcd1['endsWith']('communicate.request')&&_0xfcfcc0[_0x68778e(0x132)])return;if(_0xa5fcd1===this['namespace']+_0x68778e(0x17d)){if(_0xfcfcc0[_0x68778e(0x132)]&&Object[_0x68778e(0x1ac)](setup['SYSTEM_MODES'])['includes'](_0xfcfcc0[_0x68778e(0x132)])){this[_0x68778e(0x131)]=_0xfcfcc0['val'];if(_0xfcfcc0[_0x68778e(0x132)]===setup[_0x68778e(0x13b)][_0x68778e(0x161)])await recorder[_0x68778e(0x1ba)](this,![]);else await recorder[_0x68778e(0x1ba)](this,!![]);}if(!_0xfcfcc0[_0x68778e(0x1a3)])this['setState'](_0xa5fcd1,{'val':this[_0x68778e(0x131)],'ack':!![]});return;}if(!_0xfcfcc0[_0x68778e(0x1a3)]){_0xa5fcd1['includes']('analysis.trigger')&&_0xfcfcc0[_0x68778e(0x132)]&&(this[_0x68778e(0x1c8)](_0xa5fcd1,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this));if(_0xa5fcd1[_0x68778e(0x133)](_0x68778e(0x1c3))&&_0xfcfcc0[_0x68778e(0x132)]){this[_0x68778e(0x1c8)](_0xa5fcd1,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent['createDailyDigest'](this,pythonBridge);}_0xa5fcd1['includes'](_0x68778e(0x1ec))&&_0xfcfcc0[_0x68778e(0x132)]&&(this[_0x68778e(0x1c8)](_0xa5fcd1,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this));_0xa5fcd1[_0x68778e(0x133)](_0x68778e(0x144))&&_0xfcfcc0['val']&&(this['setState'](_0xa5fcd1,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this));if(_0xa5fcd1[_0x68778e(0x133)](_0x68778e(0x189))&&_0xfcfcc0[_0x68778e(0x132)]){this[_0x68778e(0x1c8)](_0xa5fcd1,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x3c671d=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x3c671d&&_0x3c671d[_0x68778e(0x132)]){const _0x3fbd23=JSON[_0x68778e(0x193)](_0x3c671d[_0x68778e(0x132)]);this['log']['info'](_0x68778e(0x1ca)),this['setStateAsync'](_0x68778e(0x1c7),{'val':_0x68778e(0x17a),'ack':!![]}),pythonBridge[_0x68778e(0x1db)](this,_0x68778e(0x1b0),{'sequences':_0x3fbd23});}}catch(_0x56c376){this['log'][_0x68778e(0x148)](_0x68778e(0x1e4)+_0x56c376[_0x68778e(0x1e9)]);}}if(_0xa5fcd1[_0x68778e(0x133)](_0x68778e(0x1c4))&&_0xfcfcc0[_0x68778e(0x132)]){this[_0x68778e(0x1c8)](_0xa5fcd1,{'val':![],'ack':!![]});if(this[_0x68778e(0x1a1)])try{const _0xd67733=await this['getStateAsync'](_0x68778e(0x145));if(_0xd67733&&_0xd67733[_0x68778e(0x132)])pythonBridge[_0x68778e(0x1db)](this,_0x68778e(0x136),{'digests':JSON[_0x68778e(0x193)](_0xd67733[_0x68778e(0x132)])});}catch(_0x4b22f0){}}if(_0xa5fcd1['includes'](_0x68778e(0x1d8))&&_0xfcfcc0[_0x68778e(0x132)]){this[_0x68778e(0x1c8)](_0xa5fcd1,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0xd2cee5=await this[_0x68778e(0x16f)]('LTM.trainingData.thermodynamics');if(_0xd2cee5&&_0xd2cee5[_0x68778e(0x132)])pythonBridge['send'](this,_0x68778e(0x183),{'points':JSON[_0x68778e(0x193)](_0xd2cee5[_0x68778e(0x132)])});}catch(_0x261e8c){}}if(_0xa5fcd1[_0x68778e(0x133)](_0x68778e(0x13a))&&_0xfcfcc0[_0x68778e(0x132)]){this[_0x68778e(0x1c8)](_0xa5fcd1,{'val':![],'ack':!![]});if(this[_0x68778e(0x1a1)])try{const _0x2a9e1d=await this[_0x68778e(0x16f)](_0x68778e(0x154));_0x2a9e1d&&_0x2a9e1d[_0x68778e(0x132)]&&(this[_0x68778e(0x158)][_0x68778e(0x1a7)](_0x68778e(0x18c)),pythonBridge[_0x68778e(0x1db)](this,_0x68778e(0x12e),{'events':JSON[_0x68778e(0x193)](_0x2a9e1d[_0x68778e(0x132)])}));}catch(_0x19ab10){}}_0xa5fcd1[_0x68778e(0x133)](_0x68778e(0x1d5))&&_0xfcfcc0[_0x68778e(0x132)]&&(this[_0x68778e(0x1c8)](_0xa5fcd1,{'val':![],'ack':!![]}),this['log'][_0x68778e(0x1a7)](_0x68778e(0x18f)),topology['updateTopology'](this));return;}if(this[_0x68778e(0x17f)][_0x68778e(0x1b6)]&&this['config'][_0x68778e(0x1b6)][_0x68778e(0x133)](_0xa5fcd1)){await this[_0x68778e(0x12f)]();return;}const _0x4c620e=(this[_0x68778e(0x17f)][_0x68778e(0x1ae)]||[])['find'](_0x16ddcc=>_0x16ddcc['id']===_0xa5fcd1);if(_0x4c620e)recorder[_0x68778e(0x19e)](this,_0xa5fcd1,_0xfcfcc0,_0x4c620e);}async[a0_0x5d1b21(0x1ce)](_0x4e1b4c){const _0x17eb76=a0_0x5d1b21;if(typeof _0x4e1b4c===_0x17eb76(0x1b5)&&_0x4e1b4c[_0x17eb76(0x1e9)]){if(_0x4e1b4c[_0x17eb76(0x175)]===_0x17eb76(0x1a8)){}else{if(_0x4e1b4c[_0x17eb76(0x175)]==='scanDevices')try{const _0x1da532=await scanner[_0x17eb76(0x198)](this,_0x4e1b4c[_0x17eb76(0x1e9)]||{});this[_0x17eb76(0x19f)](_0x4e1b4c[_0x17eb76(0x1c6)],_0x4e1b4c[_0x17eb76(0x175)],{'success':!![],'devices':_0x1da532},_0x4e1b4c[_0x17eb76(0x179)]);}catch(_0xdd1554){this[_0x17eb76(0x19f)](_0x4e1b4c[_0x17eb76(0x1c6)],_0x4e1b4c[_0x17eb76(0x175)],{'success':![],'error':_0xdd1554[_0x17eb76(0x1e9)]},_0x4e1b4c['callback']);}else{if(_0x4e1b4c[_0x17eb76(0x175)]==='updateTopologyMatrix'){const {matrix:_0x30b587}=_0x4e1b4c['message'];try{const _0x30fb43=await this['getStateAsync']('analysis.topology.structure');if(_0x30fb43&&_0x30fb43[_0x17eb76(0x132)]){const _0x399f60=JSON[_0x17eb76(0x193)](_0x30fb43[_0x17eb76(0x132)]);_0x399f60[_0x17eb76(0x182)]=_0x30b587,_0x399f60[_0x17eb76(0x1ab)]=Date['now'](),await this[_0x17eb76(0x1a6)]('analysis.topology.structure',{'val':JSON[_0x17eb76(0x13c)](_0x399f60),'ack':!![]}),this['log'][_0x17eb76(0x1a7)](_0x17eb76(0x1dd)),pythonBridge[_0x17eb76(0x1db)](this,_0x17eb76(0x170),_0x399f60);}this[_0x17eb76(0x19f)](_0x4e1b4c['from'],_0x4e1b4c['command'],{'success':!![]},_0x4e1b4c[_0x17eb76(0x179)]);}catch(_0x1d76c4){this['log'][_0x17eb76(0x148)](_0x17eb76(0x199)+_0x1d76c4['message']);}}else{if(_0x4e1b4c[_0x17eb76(0x175)]===_0x17eb76(0x1b9)){const _0x1dc4e9=await this[_0x17eb76(0x180)](_0x17eb76(0x142),'enum'),_0x257747=[];if(_0x1dc4e9)for(const _0x1a218f in _0x1dc4e9){const _0x24cfd5=_0x1dc4e9[_0x1a218f],_0x291914=(_0x24cfd5[_0x17eb76(0x1b4)]&&typeof _0x24cfd5[_0x17eb76(0x1b4)]['name']===_0x17eb76(0x1b5)?_0x24cfd5[_0x17eb76(0x1b4)][_0x17eb76(0x187)]['de']:_0x24cfd5['common'][_0x17eb76(0x187)])||_0x24cfd5[_0x17eb76(0x1b4)][_0x17eb76(0x187)];_0x257747['push']({'id':_0x1a218f,'name':_0x291914});}const _0x641d3d=await this['getForeignObjectsAsync'](_0x17eb76(0x1b1),'enum'),_0x5b9d53=[];if(_0x641d3d)for(const _0x360d97 in _0x641d3d){const _0x1dafc7=_0x641d3d[_0x360d97],_0x4b39ca=(_0x1dafc7[_0x17eb76(0x1b4)]&&typeof _0x1dafc7[_0x17eb76(0x1b4)][_0x17eb76(0x187)]===_0x17eb76(0x1b5)?_0x1dafc7[_0x17eb76(0x1b4)]['name']['de']:_0x1dafc7[_0x17eb76(0x1b4)][_0x17eb76(0x187)])||_0x360d97[_0x17eb76(0x1c0)]('.')[_0x17eb76(0x195)]();_0x5b9d53[_0x17eb76(0x172)](_0x4b39ca);}this['sendTo'](_0x4e1b4c[_0x17eb76(0x1c6)],_0x4e1b4c[_0x17eb76(0x175)],{'success':!![],'enums':_0x257747,'rooms':_0x5b9d53},_0x4e1b4c[_0x17eb76(0x179)]);}else{if(_0x4e1b4c['command']===_0x17eb76(0x181)){const _0x25f2b8=this['dailyDigests'][_0x17eb76(0x152)];this[_0x17eb76(0x19f)](_0x4e1b4c[_0x17eb76(0x1c6)],_0x4e1b4c[_0x17eb76(0x175)],{'success':!![],'eventHistory':this['eventHistory']['slice'](0x0,0xf),'stats':{'digestCount':_0x25f2b8,'isPresent':this[_0x17eb76(0x1a4)]}},_0x4e1b4c['callback']);}}}}}}}async[a0_0x5d1b21(0x1cf)](){const _0x153a56=a0_0x5d1b21;try{const _0x4fbc23=await this['getStateAsync'](setup['SYSTEM_DP_MODE']);_0x4fbc23&&_0x4fbc23['val']&&Object[_0x153a56(0x1ac)](setup[_0x153a56(0x13b)])[_0x153a56(0x133)](_0x4fbc23[_0x153a56(0x132)])?this['currentSystemMode']=_0x4fbc23[_0x153a56(0x132)]:(this[_0x153a56(0x131)]=setup[_0x153a56(0x13b)][_0x153a56(0x1d0)],await this[_0x153a56(0x1a6)](setup[_0x153a56(0x13e)],{'val':setup['SYSTEM_MODES'][_0x153a56(0x1d0)],'ack':!![]}));}catch(_0x5c2fcd){this[_0x153a56(0x131)]=setup[_0x153a56(0x13b)][_0x153a56(0x1d0)];}}async[a0_0x5d1b21(0x12f)](){const _0x5bbe8a=a0_0x5d1b21;try{const _0x3769c8=this[_0x5bbe8a(0x17f)][_0x5bbe8a(0x1b6)]||[];let _0x298cdb=![];const _0x4ca9c6=[];for(const _0x2727e6 of _0x3769c8){try{const _0x21c598=await this[_0x5bbe8a(0x166)](_0x2727e6);_0x21c598&&(_0x21c598[_0x5bbe8a(0x132)]===!![]||_0x21c598[_0x5bbe8a(0x132)]===_0x5bbe8a(0x190)||_0x21c598[_0x5bbe8a(0x132)]===0x1)&&(_0x298cdb=!![],_0x4ca9c6[_0x5bbe8a(0x172)](_0x2727e6));}catch(_0x1bb984){}}return await this['setStateAsync'](_0x5bbe8a(0x164),{'val':_0x4ca9c6['join'](',\x20'),'ack':!![]}),_0x298cdb&&(this['exitTimer']&&(this['log'][_0x5bbe8a(0x1a7)](_0x5bbe8a(0x157)),recorder[_0x5bbe8a(0x14a)](this)),!this[_0x5bbe8a(0x1a4)]&&this[_0x5bbe8a(0x131)]===setup[_0x5bbe8a(0x13b)][_0x5bbe8a(0x1d0)]&&await recorder['setPresence'](this,!![])),_0x298cdb;}catch(_0xca4a16){return![];}}async[a0_0x5d1b21(0x171)](){const _0x33d778=a0_0x5d1b21;this[_0x33d778(0x158)][_0x33d778(0x15f)](_0x33d778(0x13f)),await aiAgent['runGeminiAnalysis'](this),this[_0x33d778(0x155)](),this[_0x33d778(0x1da)](),this[_0x33d778(0x130)]();}[a0_0x5d1b21(0x1da)](){const _0x3b1f64=a0_0x5d1b21;if(!this[_0x3b1f64(0x1a1)])return;try{this[_0x3b1f64(0x19d)](_0x3b1f64(0x12c),(_0x253189,_0x3aa97c)=>{const _0x38d01f=_0x3b1f64;_0x3aa97c&&_0x3aa97c[_0x38d01f(0x132)]&&pythonBridge[_0x38d01f(0x1db)](this,_0x38d01f(0x1e1),{'sequences':JSON['parse'](_0x3aa97c[_0x38d01f(0x132)])});});}catch(_0x3347ce){}}async[a0_0x5d1b21(0x130)](){const _0x4fbfd2=a0_0x5d1b21;if(!this[_0x4fbfd2(0x1a1)])return;try{const _0x3b1aa0=await recorder[_0x4fbfd2(0x1a9)](this);if(_0x3b1aa0===null)return;const _0x123dbc={},_0x40a3b7=this[_0x4fbfd2(0x17f)][_0x4fbfd2(0x1ae)]||[];for(const _0x104daf of _0x40a3b7){if(_0x104daf[_0x4fbfd2(0x14c)]===_0x4fbfd2(0x1a5)&&_0x104daf['location']){const _0x4842f3=this[_0x4fbfd2(0x15b)][_0x104daf['id']];if(_0x4842f3!==undefined)_0x123dbc[_0x104daf[_0x4fbfd2(0x1d1)]]=_0x4842f3;}}Object['keys'](_0x123dbc)[_0x4fbfd2(0x152)]>0x0&&pythonBridge['send'](this,_0x4fbfd2(0x1d6),{'current_temps':_0x123dbc,'t_out':_0x3b1aa0});}catch(_0x575fea){}}[a0_0x5d1b21(0x155)](){const _0x6c9040=a0_0x5d1b21;if(!this['rawEventLog']||this[_0x6c9040(0x165)]['length']===0x0)return;const _0x2ed726=new Array(0x60)[_0x6c9040(0x1c1)](0x0),_0x43583b=new Date()[_0x6c9040(0x12d)](0x0,0x0,0x0,0x0);this[_0x6c9040(0x165)]['forEach'](_0x3373de=>{const _0x5405fe=_0x6c9040,_0x34b396=new Date(_0x3373de['timestamp']);if(_0x34b396[_0x5405fe(0x1bc)]()>=_0x43583b){const _0xa70ddd=_0x34b396[_0x5405fe(0x1b2)](),_0x2c613b=_0x34b396[_0x5405fe(0x1b8)](),_0x2821c6=_0xa70ddd*0x4+Math[_0x5405fe(0x1e8)](_0x2c613b/0xf);if(_0x2821c6>=0x0&&_0x2821c6<0x60)_0x2ed726[_0x2821c6]++;}}),this[_0x6c9040(0x1a6)](_0x6c9040(0x12a),{'val':JSON['stringify'](_0x2ed726),'ack':!![]});}['runPythonHealthCheck'](){const _0x1017bd=a0_0x5d1b21;if(!this[_0x1017bd(0x134)]||this[_0x1017bd(0x134)]['length']<0x2)return;const _0x26d2f2=this['dailyDigests'][_0x1017bd(0x163)](_0x259c07=>{const _0x5ac83b=_0x1017bd,_0x3436f2=(_0x259c07[_0x5ac83b(0x135)]||'')[_0x5ac83b(0x14b)]();return ACTIVITY_LEVEL_MAP[_0x3436f2]||0x32;});pythonBridge[_0x1017bd(0x1db)](this,_0x1017bd(0x1b3),{'values':_0x26d2f2,'tag':_0x1017bd(0x169)});}}if(require[a0_0x5d1b21(0x1af)]!==module)module[a0_0x5d1b21(0x185)]=_0x20d9bf=>new CogniLiving(_0x20d9bf);else new CogniLiving();