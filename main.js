const a0_0x3f4b08=a0_0x2f7b;(function(_0xdbdcf4,_0x61ceaf){const _0x590d22=a0_0x2f7b,_0x147950=_0xdbdcf4();while(!![]){try{const _0x397257=parseInt(_0x590d22(0x1ba))/0x1+-parseInt(_0x590d22(0x14b))/0x2*(parseInt(_0x590d22(0x10e))/0x3)+parseInt(_0x590d22(0x136))/0x4+parseInt(_0x590d22(0x174))/0x5+parseInt(_0x590d22(0xf2))/0x6*(parseInt(_0x590d22(0x153))/0x7)+parseInt(_0x590d22(0x102))/0x8+parseInt(_0x590d22(0x140))/0x9*(-parseInt(_0x590d22(0x145))/0xa);if(_0x397257===_0x61ceaf)break;else _0x147950['push'](_0x147950['shift']());}catch(_0x259382){_0x147950['push'](_0x147950['shift']());}}}(a0_0x2d37,0x698f9));function a0_0x2f7b(_0x84c925,_0x51c242){const _0x5c6cca=a0_0x2d37();return a0_0x2f7b=function(_0x517193,_0x52412e){_0x517193=_0x517193-0xd0;let _0x2d3781=_0x5c6cca[_0x517193];return _0x2d3781;},a0_0x2f7b(_0x84c925,_0x51c242);}const a0_0x52412e=(function(){let _0x3b0c3b=!![];return function(_0x6708ef,_0x24af49){const _0x27e5d5=_0x3b0c3b?function(){const _0x2b2667=a0_0x2f7b;if(_0x24af49){const _0x2aedc6=_0x24af49[_0x2b2667(0x1a1)](_0x6708ef,arguments);return _0x24af49=null,_0x2aedc6;}}:function(){};return _0x3b0c3b=![],_0x27e5d5;};}()),a0_0x517193=a0_0x52412e(this,function(){const _0x36df41=a0_0x2f7b;return a0_0x517193['toString']()[_0x36df41(0x144)](_0x36df41(0x131))['toString']()[_0x36df41(0x163)](a0_0x517193)[_0x36df41(0x144)](_0x36df41(0x131));});a0_0x517193();'use strict';const utils=require(a0_0x3f4b08(0x167)),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require('./lib/installer'),scanner=require(a0_0x3f4b08(0x15e)),schedulers=require(a0_0x3f4b08(0x142)),topology=require(a0_0x3f4b08(0x1dc)),setup=require(a0_0x3f4b08(0x18e)),recorder=require(a0_0x3f4b08(0x132)),pythonBridge=require(a0_0x3f4b08(0xf1)),aiAgent=require(a0_0x3f4b08(0x1b8)),deadMan=require(a0_0x3f4b08(0x18b)),automation=require(a0_0x3f4b08(0x18c)),GEMINI_MODEL=a0_0x3f4b08(0x126),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x2d37(){const _0x1b6fd3=['debug','analysis.energy.mpcActive','callback','trackerEnabled','sonn','.data.table','scores','system.mode','rawEventLog','geminiApiKey','log','cancel','isPresent','getHours','Test','onReady','./lib/python_bridge','125148gNhsnq','\x20Tage)','isSolar','instance','dismissAutomation','heiter','Instanz\x20nicht\x20gefunden','getEnums','sendMorningBriefing','getTime','exitGraceTimer','LTM.rawEventLog','setupModeResetScheduler','SYSTEM_DP_MODE','analysis.topology.structure','scanDevices','6412952IaSNAH','ready','Activity-Level','object','minDaysForBaseline','isProVersion','LTM.dailyDigests','json','PREDICT_ENERGY','forEach','add','PINN\x20AI\x20Forecast','36531ZeQbMI','inactivityThresholdHours','accuweather.0','getMinutes','sensorLastValues','initZombies','cogni-living','runAutopilot','enum','checkCalendarTriggers','analysis.automation.patternDetected','TRAIN_HEALTH','getOutsideTemperatureNumeric','geminiModel','config','state','testContext','SYSTEM_MODES','calendarName','PYTHON_EXE','getStateAsync','triggerDailyDigest','checkSolarCondition','{\x22default\x22:\x2021}','models/gemini-flash-latest','Kein\x20Wetter-Adapter','notifyTelegramEnabled','useWeather','Lernphase\x20(','application/json','abs','length','SET_TOPOLOGY','analysis.energy.warmupTimes','updateTopology','(((.+)+)+)+$','./lib/recorder','briefingJob','modeResetJob','LTM.trainingData.thermodynamics','2415516NMwRNj','setPresence','createDailyDigest','lastTrackerEventTime','analysis.automation.triggerAction','setupBriefingScheduler','isArray','Notification\x20Test\x20Failed:\x20','temperature','slice','18vZDosa','analysis.training.status','./lib/scheduler','values','search','9653910PQVSQf','testApiKey','klar','fill','triggerEnergyPrediction','map','116IrkMSh','runGeminiAnalysis','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','onUnload','analysis.training.triggerEnergy','ack','startService','lastAlertState','266vMzbIQ','clear','Guest\x20Mode','val','analysis.triggerBriefing','includes','info','isGracePeriodActive','Daten\x20nicht\x20verfÃ¼gbar','analysis.training.triggerTopology','Standard','./lib/scanner','Active\x20Ventilation\x20Alerts','keys','analysis.trigger','analysisTimer','constructor','Verbunden','devices','onMessage','@iobroker/adapter-core','checkWifiPresence','presenceDevices','ANALYZE_GAIT','analysis.security.learningStatus','subscribeStates','updateTopologyMatrix','apiKey','Kein\x20API\x20Key\x20Ã¼bergeben','ANALYZE_TREND','getForeignObjectsAsync','getForeignStateAsync','checkThermostats','827655iATeHz','unload','.system.mode','endsWith','dailyDigests','notifyTelegramInstance','stringify','Verbindung\x20erfolgreich!','loadSystemMode','communicate.request','analysis.training.triggerSecurity','simulateEnergyMPC','online','weatherunderground.0','LTM.triggerDailyDigest','matrix','scanThermostats','stopService','system.adapter.','Current.WeatherText','subscribeForeignStatesAsync','analysisHistory','type','./lib/dead_man','./lib/automation','motion','./lib/setup','TRAIN_COMFORT','from','NORMAL','runPythonHealthCheck','split','ltmJob','message','string','setHours','sendNotification','NextHours.Location_1.Day_1.current.symbol_desc','initSystemConfig','name','timestamp','exitTimer','setState','now','testNotification','apply','floor','LTM.baselineStatus','push','telegram','TRAIN_SECURITY','triggerBriefing','send','setStateAsync','parse','activityLevel','_calName','triggerGaitAnalysis','stateChange','getCalendarNames','WiFi\x20Presence\x20detected.','version','analysis.automation.autoApply','minutes_safe','guest','eventHistory','analysis.training.triggerHealth','setObjectNotExistsAsync','./lib/ai_agent','Gemini\x20Init\x20Error:\x20','705792abIabC','simulateButler','driftAnalysisTimer','analysisInterval','scanForDevices','party','analysis.health.todayVector','analysis.automation.targetId','abortExitTimer',')\x20-\x20Phase\x20D\x20(Evolution)','onStateChange','trackerHeartbeat','setupLtmScheduler','TRACK_EVENT','location','pop','Party\x20Mode','genAI','analysis.training.triggerComfort','getState','entries','checkAndInstall','command','text','LTM.trainingData.sequences','bind','updated','calendarInstance','updateLocation','executeAutomationAction','Heizung\x20kann\x20','sendTo','toLowerCase','enum.rooms.*','./lib/topology','analysis.automation.description','error','main','analysis.automation.targetValue','Warm-Up\x20Target\x20Temps\x20(JSON)','Aktiv\x20(','Gemini\x20AI\x20initialized.','currentSystemMode','getGenerativeModel','Gesendet','dependencyInstallInProgress','.communicate.request','join','licenseKey','updateHealthVector','sort','TRAIN_ENERGY','common','Adapter','daswetter.0','getLtmData'];a0_0x2d37=function(){return _0x1b6fd3;};return a0_0x2d37();}class CogniLiving extends utils[a0_0x3f4b08(0xde)]{constructor(_0x25f528){const _0x16fe13=a0_0x3f4b08;super({..._0x25f528,'name':_0x16fe13(0x114)}),this['eventHistory']=[],this[_0x16fe13(0x189)]=[],this[_0x16fe13(0xe9)]=[],this[_0x16fe13(0x178)]=[],this[_0x16fe13(0x112)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x16fe13(0xed)]=!![],this[_0x16fe13(0x19d)]=null,this[_0x16fe13(0xfc)]=null,this[_0x16fe13(0x15a)]=![],this[_0x16fe13(0x1cb)]=null,this[_0x16fe13(0x11b)]=null,this[_0x16fe13(0xd3)]=setup[_0x16fe13(0x11f)]['NORMAL'],this['isProVersion']=![],this[_0x16fe13(0x152)]=![],this[_0x16fe13(0x162)]=null,this[_0x16fe13(0x194)]=null,this[_0x16fe13(0x134)]=null,this['driftAnalysisTimer']=null,this[_0x16fe13(0x133)]=null,this[_0x16fe13(0xd6)]=![],this[_0x16fe13(0x1c5)]=null,this['lastTrackerEventTime']=Date['now'](),this['on'](_0x16fe13(0x103),this[_0x16fe13(0xf0)][_0x16fe13(0x1d3)](this)),this['on'](_0x16fe13(0x1ae),this[_0x16fe13(0x1c4)]['bind'](this)),this['on'](_0x16fe13(0x175),this[_0x16fe13(0x14e)][_0x16fe13(0x1d3)](this)),this['on'](_0x16fe13(0x195),this[_0x16fe13(0x166)]['bind'](this));}async[a0_0x3f4b08(0xf0)](){const _0x316a2d=a0_0x3f4b08;this[_0x316a2d(0xeb)][_0x316a2d(0x159)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x316a2d(0x1b1)]+_0x316a2d(0x1c3));if(!installer[_0x316a2d(0x1cf)](this,()=>this['startSystem']()))return;}async['startSystem'](){const _0x504556=a0_0x3f4b08;await setup[_0x504556(0x113)](this);try{this['isProVersion']=await setup['checkLicense'](this[_0x504556(0x11c)][_0x504556(0xd9)]);}catch(_0x2900c4){}if(!this[_0x504556(0x11c)]['inactivityThresholdHours']||this[_0x504556(0x11c)][_0x504556(0x10f)]<0.1)this[_0x504556(0x11c)][_0x504556(0x10f)]=0xc;await setup['initHistory'](this),await setup[_0x504556(0x19a)](this);if(this[_0x504556(0x11c)][_0x504556(0xea)])try{this[_0x504556(0x1cb)]=new GoogleGenerativeAI(this['config'][_0x504556(0xea)]),this['geminiModel']=this[_0x504556(0x1cb)][_0x504556(0xd4)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x504556(0x12b)}}),this[_0x504556(0xeb)][_0x504556(0x159)](_0x504556(0xd2));}catch(_0x402978){this[_0x504556(0xeb)][_0x504556(0x1de)](_0x504556(0x1b9)+_0x402978[_0x504556(0x195)]);}await setup['createAllObjects'](this),await this['loadSystemMode'](),await this[_0x504556(0x1b7)]('analysis.energy.pinnForecast',{'type':_0x504556(0x11d),'common':{'name':_0x504556(0x10d),'type':_0x504556(0x196),'role':_0x504556(0x109),'read':!![],'write':![]},'native':{}}),await this[_0x504556(0x1b7)]('analysis.energy.ventilationAlerts',{'type':'state','common':{'name':_0x504556(0x15f),'type':'string','role':_0x504556(0x109),'read':!![],'write':![]},'native':{}}),await this[_0x504556(0x1b7)](_0x504556(0x12f),{'type':_0x504556(0x11d),'common':{'name':_0x504556(0x14d),'type':_0x504556(0x196),'role':_0x504556(0x109),'read':!![],'write':![]},'native':{}}),await this[_0x504556(0x1b7)]('analysis.energy.warmupTargets',{'type':_0x504556(0x11d),'common':{'name':_0x504556(0xd0),'type':_0x504556(0x196),'role':_0x504556(0x109),'read':!![],'write':!![],'def':_0x504556(0x125)},'native':{}});try{const _0x2de295=await this['getStateAsync'](_0x504556(0xfd));if(_0x2de295&&_0x2de295[_0x504556(0x156)])this[_0x504556(0xe9)]=JSON[_0x504556(0x1aa)](_0x2de295[_0x504556(0x156)]);}catch(_0x2ba231){this[_0x504556(0xe9)]=[];}try{const _0x443cda=await this[_0x504556(0x122)](_0x504556(0x108));if(_0x443cda&&_0x443cda[_0x504556(0x156)])this[_0x504556(0x178)]=JSON[_0x504556(0x1aa)](_0x443cda['val']);}catch(_0x5beaec){this['dailyDigests']=[];}const _0x5efb57=this['dailyDigests'][_0x504556(0x12d)]>=(this[_0x504556(0x11c)][_0x504556(0x106)]||0x7)?_0x504556(0xd1)+this[_0x504556(0x178)][_0x504556(0x12d)]+_0x504556(0xf3):_0x504556(0x12a)+this[_0x504556(0x178)][_0x504556(0x12d)]+'/'+(this['config'][_0x504556(0x106)]||0x7)+')';await this[_0x504556(0x1a9)](_0x504556(0x1a3),{'val':_0x5efb57,'ack':!![]}),this[_0x504556(0x16c)](_0x504556(0x161)),this[_0x504556(0x16c)](_0x504556(0x182)),this['subscribeStates'](_0x504556(0xe8)),this[_0x504556(0x16c)](_0x504556(0x157)),this[_0x504556(0x16c)](_0x504556(0x13a)),this[_0x504556(0x16c)](_0x504556(0x1b2)),this[_0x504556(0x16c)](_0x504556(0x17e)),this[_0x504556(0x16c)](_0x504556(0x1b6)),this[_0x504556(0x16c)](_0x504556(0x14f)),this[_0x504556(0x16c)](_0x504556(0x1cc)),this[_0x504556(0x16c)](_0x504556(0x15c)),this[_0x504556(0x16c)](_0x504556(0xe2));const _0x1370ab=this[_0x504556(0x11c)][_0x504556(0x165)];if(_0x1370ab)for(const _0x295c97 of _0x1370ab){await this['subscribeForeignStatesAsync'](_0x295c97['id']);}const _0x4e3fdc=this[_0x504556(0x11c)]['presenceDevices'];if(_0x4e3fdc)for(const _0x5a7786 of _0x4e3fdc){await this[_0x504556(0x188)](_0x5a7786);}if(this['config'][_0x504556(0x128)]&&this['config']['notifyTelegramInstance'])await this[_0x504556(0x188)](this[_0x504556(0x11c)][_0x504556(0x179)]+_0x504556(0xd7));setTimeout(()=>this[_0x504556(0x168)](),0x1388);if(this[_0x504556(0x162)])clearInterval(this[_0x504556(0x162)]);const _0x2915e1=this['config'][_0x504556(0x1bd)]||0xf;_0x2915e1>0x0&&(this[_0x504556(0x162)]=setInterval(()=>{const _0x58aa40=_0x504556;this[_0x58aa40(0x115)](),automation[_0x58aa40(0x117)](this);},_0x2915e1*0x3c*0x3e8)),setTimeout(()=>automation['checkCalendarTriggers'](this),0x2710),this[_0x504556(0x11c)][_0x504556(0xe4)]!==![]&&(this[_0x504556(0x1c5)]=setInterval(()=>{const _0x3c41b1=_0x504556;if(this[_0x3c41b1(0x107)]){const _0x3a55e5=Date['now'](),_0x57c577=this[_0x3c41b1(0x139)]||_0x3a55e5,_0x212eb2=(_0x3a55e5-_0x57c577)/0x3e8;_0x212eb2>0x2&&(this['lastTrackerEventTime']=_0x3a55e5,pythonBridge[_0x3c41b1(0x1a8)](this,_0x3c41b1(0x1c7),{'room':null,'dt':_0x212eb2}));}},0xbb8)),schedulers[_0x504556(0x1c6)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers[_0x504556(0xfe)](this),schedulers['setupDriftAnalysisScheduler'](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x504556(0x13b)](this,()=>aiAgent[_0x504556(0xfa)](this)),pythonBridge[_0x504556(0x151)](this,installer[_0x504556(0x121)]),setTimeout(async()=>{const _0x38c9f0=_0x504556;await topology[_0x38c9f0(0x130)](this);try{const _0x526764=await this[_0x38c9f0(0x122)](_0x38c9f0(0x100));if(_0x526764&&_0x526764[_0x38c9f0(0x156)])pythonBridge[_0x38c9f0(0x1a8)](this,_0x38c9f0(0x12e),JSON['parse'](_0x526764[_0x38c9f0(0x156)]));}catch(_0x47f25d){}this[_0x38c9f0(0x192)](),this[_0x38c9f0(0x1ad)](),this[_0x38c9f0(0x149)](),this['updateHealthVector']();},0x1388);}[a0_0x3f4b08(0x14e)](_0x529293){const _0x1ba544=a0_0x3f4b08;if(this['analysisTimer'])clearInterval(this[_0x1ba544(0x162)]);if(this[_0x1ba544(0x1bc)])clearInterval(this[_0x1ba544(0x1bc)]);if(this[_0x1ba544(0x1c5)])clearInterval(this[_0x1ba544(0x1c5)]);if(this[_0x1ba544(0x194)])this['ltmJob'][_0x1ba544(0xec)]();if(this[_0x1ba544(0x134)])this[_0x1ba544(0x134)]['cancel']();if(this[_0x1ba544(0x133)])this[_0x1ba544(0x133)][_0x1ba544(0xec)]();recorder[_0x1ba544(0x1c2)](this),pythonBridge[_0x1ba544(0x185)](this),_0x529293();}async['onStateChange'](_0xd7f180,_0x44eeb1){const _0x101b41=a0_0x3f4b08;if(!_0x44eeb1||this['dependencyInstallInProgress'])return;if(_0xd7f180[_0x101b41(0x158)](_0x101b41(0x1a5))&&_0xd7f180[_0x101b41(0x177)](_0x101b41(0x17d))&&_0x44eeb1[_0x101b41(0x156)])return;if(_0xd7f180===this['namespace']+_0x101b41(0x176)){if(_0x44eeb1[_0x101b41(0x156)]&&Object[_0x101b41(0x143)](setup[_0x101b41(0x11f)])[_0x101b41(0x158)](_0x44eeb1['val'])){this['currentSystemMode']=_0x44eeb1[_0x101b41(0x156)];if(_0x44eeb1['val']===setup[_0x101b41(0x11f)]['VACATION'])await recorder[_0x101b41(0x137)](this,![]);else await recorder[_0x101b41(0x137)](this,!![]);if(this['isProVersion']){let _0x1f4c56=![],_0x778978=0x0,_0x59b694='manual';if(this['currentSystemMode']===_0x101b41(0x1bf))_0x1f4c56=!![],_0x778978=0x168,_0x59b694=_0x101b41(0x1ca);else this[_0x101b41(0xd3)]===_0x101b41(0x1b4)&&(_0x1f4c56=!![],_0x778978=0x5a0,_0x59b694=_0x101b41(0x155));pythonBridge['send'](this,'SET_LEARNING_MODE',{'active':_0x1f4c56,'duration':_0x778978,'label':_0x59b694}),await this[_0x101b41(0x1a9)](_0x101b41(0x16b),{'val':JSON[_0x101b41(0x17a)]({'active':_0x1f4c56,'label':_0x59b694,'timestamp':Date[_0x101b41(0x19f)]()}),'ack':!![]});}}if(!_0x44eeb1['ack'])this[_0x101b41(0x19e)](_0xd7f180,{'val':this[_0x101b41(0xd3)],'ack':!![]});return;}if(!_0x44eeb1[_0x101b41(0x150)]){if(_0xd7f180[_0x101b41(0x158)](_0x101b41(0x161))&&_0x44eeb1['val']){this[_0x101b41(0x19e)](_0xd7f180,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0xd7f180[_0x101b41(0x158)](_0x101b41(0x123))&&_0x44eeb1[_0x101b41(0x156)]){this['setState'](_0xd7f180,{'val':![],'ack':!![]});if(this[_0x101b41(0x107)])aiAgent[_0x101b41(0x138)](this,pythonBridge);return;}if(_0xd7f180[_0x101b41(0x158)](_0x101b41(0x1a7))&&_0x44eeb1[_0x101b41(0x156)]){this[_0x101b41(0x19e)](_0xd7f180,{'val':![],'ack':!![]}),aiAgent[_0x101b41(0xfa)](this);return;}if(_0xd7f180[_0x101b41(0x158)]('automation.triggerAction')&&_0x44eeb1['val']){this[_0x101b41(0x19e)](_0xd7f180,{'val':![],'ack':!![]}),aiAgent[_0x101b41(0x1d7)](this);return;}if(_0xd7f180[_0x101b41(0x158)](_0x101b41(0x17e))&&_0x44eeb1[_0x101b41(0x156)]){this[_0x101b41(0x19e)](_0xd7f180,{'val':![],'ack':!![]});if(this[_0x101b41(0x107)])try{const _0x96a7e5=await this[_0x101b41(0x122)](_0x101b41(0x1d2));if(_0x96a7e5&&_0x96a7e5['val']){const _0x3d8e6c=JSON[_0x101b41(0x1aa)](_0x96a7e5['val']);this[_0x101b41(0x1a9)](_0x101b41(0x141),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x101b41(0x1a8)](this,_0x101b41(0x1a6),{'sequences':_0x3d8e6c});}}catch(_0x1b5868){}return;}if(_0xd7f180[_0x101b41(0x158)]('analysis.training.triggerHealth')&&_0x44eeb1[_0x101b41(0x156)]){this[_0x101b41(0x19e)](_0xd7f180,{'val':![],'ack':!![]});if(this[_0x101b41(0x107)])try{const _0x3bc7f9=await this['getStateAsync'](_0x101b41(0x108));if(_0x3bc7f9&&_0x3bc7f9[_0x101b41(0x156)])pythonBridge[_0x101b41(0x1a8)](this,_0x101b41(0x119),{'digests':JSON[_0x101b41(0x1aa)](_0x3bc7f9['val'])});}catch(_0x53edfb){}return;}if(_0xd7f180[_0x101b41(0x158)](_0x101b41(0x14f))&&_0x44eeb1[_0x101b41(0x156)]){this[_0x101b41(0x19e)](_0xd7f180,{'val':![],'ack':!![]});if(this[_0x101b41(0x107)])try{const _0x1ea2fc=await this['getStateAsync'](_0x101b41(0x135));if(_0x1ea2fc&&_0x1ea2fc[_0x101b41(0x156)])pythonBridge['send'](this,_0x101b41(0xdc),{'points':JSON[_0x101b41(0x1aa)](_0x1ea2fc['val'])});}catch(_0x597d72){}return;}if(_0xd7f180['includes'](_0x101b41(0x1cc))&&_0x44eeb1[_0x101b41(0x156)]){this[_0x101b41(0x19e)](_0xd7f180,{'val':![],'ack':!![]});if(this[_0x101b41(0x107)])try{const _0x4e2a8c=await this['getStateAsync'](_0x101b41(0xfd));if(_0x4e2a8c&&_0x4e2a8c[_0x101b41(0x156)])pythonBridge[_0x101b41(0x1a8)](this,_0x101b41(0x18f),{'events':JSON[_0x101b41(0x1aa)](_0x4e2a8c[_0x101b41(0x156)])});}catch(_0x562bc7){}return;}if(_0xd7f180[_0x101b41(0x158)](_0x101b41(0x15c))&&_0x44eeb1['val']){this[_0x101b41(0x19e)](_0xd7f180,{'val':![],'ack':!![]}),topology[_0x101b41(0x130)](this);return;}}if(this['config'][_0x101b41(0x169)]&&this['config'][_0x101b41(0x169)][_0x101b41(0x158)](_0xd7f180)){await this['checkWifiPresence']();return;}const _0x38078f=(this[_0x101b41(0x11c)][_0x101b41(0x165)]||[])['find'](_0x596343=>_0x596343['id']===_0xd7f180);if(_0x38078f){const _0x566378=await recorder['processSensorEvent'](this,_0xd7f180,_0x44eeb1,_0x38078f);_0x566378&&_0x566378[_0x101b41(0x18a)]===_0x101b41(0x18d)&&_0x566378[_0x101b41(0x1c8)]&&this[_0x101b41(0x107)]&&deadMan[_0x101b41(0x1d6)](this,_0x566378[_0x101b41(0x1c8)]);}}async[a0_0x3f4b08(0x166)](_0x321e09){const _0x47c08c=a0_0x3f4b08;if(typeof _0x321e09===_0x47c08c(0x105)&&_0x321e09[_0x47c08c(0x195)]){if(_0x321e09['command']===_0x47c08c(0x173))try{const _0x4b2012=await automation[_0x47c08c(0x184)](this);this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09[_0x47c08c(0x1d0)],{'success':!![],'results':_0x4b2012},_0x321e09[_0x47c08c(0xe3)]);}catch(_0x331f42){this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09[_0x47c08c(0x1d0)],{'success':![],'error':_0x331f42[_0x47c08c(0x195)]},_0x321e09[_0x47c08c(0xe3)]);}else{if(_0x321e09['command']===_0x47c08c(0x17f))try{const {current_temps:_0x44babc,t_out:_0x4cb167,targets:_0xcad97f,t_forecast:_0x1f1676}=_0x321e09[_0x47c08c(0x195)],_0x1e74f2=[];let _0x218f34={};try{const _0x2a9cfb=await this[_0x47c08c(0x122)]('analysis.energy.insulationScore');if(_0x2a9cfb&&_0x2a9cfb['val']){const _0x51580e=JSON[_0x47c08c(0x1aa)](_0x2a9cfb[_0x47c08c(0x156)]);_0x218f34=_0x51580e[_0x47c08c(0xe7)]||_0x51580e;}}catch(_0x459d35){}const _0x20b225=_0x1f1676!==undefined&&_0x1f1676!==null?(_0x4cb167+_0x1f1676)/0x2:_0x4cb167;for(const [_0x5ae233,_0x3ce1d9]of Object[_0x47c08c(0x1ce)](_0x44babc)){const _0xb73aeb=_0xcad97f[_0x5ae233]||0x15;if(_0x3ce1d9<=_0xb73aeb)continue;let _0x43ca90=_0x218f34[_0x5ae233]||-0.5;if(_0x43ca90>=0x0)_0x43ca90=-0.5;const _0x5c9d27=Math[_0x47c08c(0x12c)](_0x43ca90),_0x56e24a=_0x3ce1d9-_0xb73aeb;let _0x16d061=Math[_0x47c08c(0x1a2)](_0x56e24a/_0x5c9d27*0x3c);const _0x322aef=_0x3ce1d9-_0x4cb167,_0x3e30d0=_0x3ce1d9-_0x20b225;if(_0x3e30d0!==0x0&&_0x322aef!==0x0){const _0xe6360b=_0x322aef/_0x3e30d0;_0x16d061=Math['floor'](_0x16d061*_0xe6360b);}if(_0x16d061>0xf){if(_0x16d061>0xf0)_0x16d061=0xf0;_0x1e74f2[_0x47c08c(0x1a4)]({'room':_0x5ae233,'minutes_safe':_0x16d061,'target':_0xb73aeb,'current':_0x3ce1d9,'savings_msg':_0x47c08c(0x1d8)+_0x16d061+'\x20min\x20ausbleiben.'});}}_0x1e74f2[_0x47c08c(0xdb)]((_0x54881b,_0x11a2eb)=>_0x11a2eb[_0x47c08c(0x1b3)]-_0x54881b[_0x47c08c(0x1b3)]),this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09['command'],{'success':!![],'proposals':_0x1e74f2},_0x321e09['callback']);}catch(_0x2530da){this['sendTo'](_0x321e09[_0x47c08c(0x190)],_0x321e09[_0x47c08c(0x1d0)],{'success':![],'error':_0x2530da[_0x47c08c(0x195)]},_0x321e09[_0x47c08c(0xe3)]);}else{if(_0x321e09['command']===_0x47c08c(0xf6))await this[_0x47c08c(0x1a9)]('analysis.automation.patternDetected',{'val':![],'ack':!![]}),await this[_0x47c08c(0x1a9)](_0x47c08c(0x1dd),{'val':'','ack':!![]}),await this[_0x47c08c(0x1a9)](_0x47c08c(0x1c1),{'val':'','ack':!![]}),this[_0x47c08c(0x1d9)](_0x321e09['from'],_0x321e09[_0x47c08c(0x1d0)],{'success':!![]},_0x321e09['callback']);else{if(_0x321e09[_0x47c08c(0x1d0)]===_0x47c08c(0x1bb)){const {targetId:_0x3215da,targetValue:_0x4ac0f2}=_0x321e09['message'];await this[_0x47c08c(0x1a9)](_0x47c08c(0x118),{'val':!![],'ack':!![]}),await this[_0x47c08c(0x1a9)]('analysis.automation.description',{'val':'Simulation\x20durch\x20Admin\x20(Test)','ack':!![]}),await this[_0x47c08c(0x1a9)](_0x47c08c(0x1c1),{'val':_0x3215da,'ack':!![]}),await this['setStateAsync']('analysis.automation.targetValue',{'val':String(_0x4ac0f2),'ack':!![]}),this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09['command'],{'success':!![]},_0x321e09[_0x47c08c(0xe3)]);}else{if(_0x321e09[_0x47c08c(0x1d0)]===_0x47c08c(0x146))try{const _0x5a09b6=_0x321e09['message'][_0x47c08c(0x16e)];if(!_0x5a09b6)throw new Error(_0x47c08c(0x16f));const _0x110d38=new GoogleGenerativeAI(_0x5a09b6),_0x5320aa=_0x110d38[_0x47c08c(0xd4)]({'model':GEMINI_MODEL}),_0xe238fb=await _0x5320aa['generateContent'](_0x47c08c(0xef)),_0x5ce940=await _0xe238fb['response'];if(_0x5ce940[_0x47c08c(0x1d1)]())this['sendTo'](_0x321e09['from'],_0x321e09['command'],{'success':!![],'message':_0x47c08c(0x17b)},_0x321e09['callback']);else throw new Error('Keine\x20Antwort\x20von\x20Gemini');}catch(_0x37161b){this[_0x47c08c(0x1d9)](_0x321e09['from'],_0x321e09[_0x47c08c(0x1d0)],{'success':![],'message':_0x37161b[_0x47c08c(0x195)]},_0x321e09['callback']);}else{if(_0x321e09[_0x47c08c(0x1d0)]===_0x47c08c(0x101))try{const _0x97279d=await scanner[_0x47c08c(0x1be)](this,_0x321e09[_0x47c08c(0x195)]||{});this[_0x47c08c(0x1d9)](_0x321e09['from'],_0x321e09[_0x47c08c(0x1d0)],{'success':!![],'devices':_0x97279d},_0x321e09[_0x47c08c(0xe3)]);}catch(_0x561969){this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09[_0x47c08c(0x1d0)],{'success':![],'error':_0x561969['message']},_0x321e09[_0x47c08c(0xe3)]);}else{if(_0x321e09[_0x47c08c(0x1d0)]===_0x47c08c(0x16d))try{const {matrix:_0x59b366}=_0x321e09[_0x47c08c(0x195)],_0x3297ba=await this[_0x47c08c(0x122)](_0x47c08c(0x100));if(_0x3297ba&&_0x3297ba[_0x47c08c(0x156)]){const _0xa6bcd0=JSON[_0x47c08c(0x1aa)](_0x3297ba[_0x47c08c(0x156)]);_0xa6bcd0[_0x47c08c(0x183)]=_0x59b366,_0xa6bcd0[_0x47c08c(0x1d4)]=Date[_0x47c08c(0x19f)](),await this[_0x47c08c(0x1a9)](_0x47c08c(0x100),{'val':JSON['stringify'](_0xa6bcd0),'ack':!![]}),pythonBridge[_0x47c08c(0x1a8)](this,_0x47c08c(0x12e),_0xa6bcd0);}this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09[_0x47c08c(0x1d0)],{'success':!![]},_0x321e09[_0x47c08c(0xe3)]);}catch(_0x4b7786){this['log']['error'](_0x4b7786);}else{if(_0x321e09['command']===_0x47c08c(0xe0))this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09[_0x47c08c(0x1d0)],{'success':!![],'dailyDigests':this[_0x47c08c(0x178)]||[],'analysisHistory':this[_0x47c08c(0x189)]||[]},_0x321e09[_0x47c08c(0xe3)]);else{if(_0x321e09[_0x47c08c(0x1d0)]==='getOverviewData'){const _0x3b5083=this[_0x47c08c(0x178)][_0x47c08c(0x12d)],_0x4aa308=new Array(0x18)['fill'](0x0),_0x43c6a5=new Date()[_0x47c08c(0x197)](0x0,0x0,0x0,0x0);this['eventHistory']&&this[_0x47c08c(0x1b5)][_0x47c08c(0x10b)](_0x1de96b=>{const _0x947a1d=_0x47c08c;if(_0x1de96b['timestamp']>=_0x43c6a5){const _0x59a0ae=new Date(_0x1de96b[_0x947a1d(0x19c)])[_0x947a1d(0xee)]();if(_0x59a0ae>=0x0&&_0x59a0ae<0x18)_0x4aa308[_0x59a0ae]++;}});let _0x1c0f1d=![],_0x1087ec='',_0x3a0759='',_0x10970c='';try{const _0x2acf2d=await this['getStateAsync'](_0x47c08c(0x118));if(_0x2acf2d&&_0x2acf2d['val']){_0x1c0f1d=!![];const _0x1a2cbd=await this[_0x47c08c(0x122)](_0x47c08c(0x1dd));_0x1087ec=_0x1a2cbd?_0x1a2cbd[_0x47c08c(0x156)]:'';const _0x35da2f=await this[_0x47c08c(0x122)](_0x47c08c(0x1c1));_0x3a0759=_0x35da2f?_0x35da2f['val']:'';const _0x28a63d=await this[_0x47c08c(0x122)](_0x47c08c(0x1e0));_0x10970c=_0x28a63d?_0x28a63d[_0x47c08c(0x156)]:'';}}catch(_0x2c4c95){}const _0x3d91d9=await this[_0x47c08c(0x124)](),_0x26802f=(this[_0x47c08c(0x11c)][_0x47c08c(0x165)]||[])['some'](_0x22e31d=>_0x22e31d[_0x47c08c(0xf4)]),_0x6b7361=_0x3d91d9&&_0x26802f;this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09[_0x47c08c(0x1d0)],{'success':!![],'eventHistory':this[_0x47c08c(0x1b5)][_0x47c08c(0x13f)](0x0,0xf),'stats':{'digestCount':_0x3b5083,'isPresent':this['isPresent'],'hourlyActivity':_0x4aa308,'solarActive':_0x6b7361},'automation':{'detected':_0x1c0f1d,'description':_0x1087ec,'targetId':_0x3a0759,'targetValue':_0x10970c}},_0x321e09[_0x47c08c(0xe3)]);}else{if(_0x321e09[_0x47c08c(0x1d0)]===_0x47c08c(0xf9)){const _0x4334b5=await this[_0x47c08c(0x171)]('enum.functions.*',_0x47c08c(0x116)),_0x13627b=[];if(_0x4334b5)for(const _0x28db00 in _0x4334b5){const _0x22494c=_0x4334b5[_0x28db00],_0x30961c=(_0x22494c['common']&&typeof _0x22494c['common'][_0x47c08c(0x19b)]===_0x47c08c(0x105)?_0x22494c[_0x47c08c(0xdd)]['name']['de']:_0x22494c[_0x47c08c(0xdd)][_0x47c08c(0x19b)])||_0x22494c[_0x47c08c(0xdd)][_0x47c08c(0x19b)];_0x13627b[_0x47c08c(0x1a4)]({'id':_0x28db00,'name':_0x30961c});}const _0x49aa9e=await this[_0x47c08c(0x171)](_0x47c08c(0x1db),_0x47c08c(0x116)),_0x10fec3=[];if(_0x49aa9e)for(const _0x41018a in _0x49aa9e){const _0x2e8cfc=_0x49aa9e[_0x41018a],_0x1f16d7=(_0x2e8cfc['common']&&typeof _0x2e8cfc[_0x47c08c(0xdd)][_0x47c08c(0x19b)]===_0x47c08c(0x105)?_0x2e8cfc[_0x47c08c(0xdd)]['name']['de']:_0x2e8cfc['common'][_0x47c08c(0x19b)])||_0x41018a[_0x47c08c(0x193)]('.')[_0x47c08c(0x1c9)]();_0x10fec3['push'](_0x1f16d7);}this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09['command'],{'success':!![],'enums':_0x13627b,'rooms':_0x10fec3},_0x321e09[_0x47c08c(0xe3)]);}else{if(_0x321e09[_0x47c08c(0x1d0)]===_0x47c08c(0x11e))try{let _0x56166b=_0x47c08c(0x127),_0x56b920='Kein\x20Kalender-Adapter';if(this[_0x47c08c(0x11c)][_0x47c08c(0x129)]){const _0x293c3d=await recorder[_0x47c08c(0x11a)](this);_0x56166b=_0x293c3d!==null?_0x293c3d+'Â°C':_0x47c08c(0x15b);}if(this['config'][_0x47c08c(0x1d5)]){const _0x1e22c3=await this['getForeignObjectAsync'](_0x47c08c(0x186)+this[_0x47c08c(0x11c)][_0x47c08c(0x1d5)]);_0x56b920=_0x1e22c3?_0x47c08c(0x164):_0x47c08c(0xf8);}this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09['command'],{'success':!![],'weather':_0x56166b,'calendar':_0x56b920},_0x321e09[_0x47c08c(0xe3)]);}catch(_0x1f55e6){this[_0x47c08c(0x1d9)](_0x321e09['from'],_0x321e09[_0x47c08c(0x1d0)],{'success':![],'error':_0x1f55e6[_0x47c08c(0x195)]},_0x321e09['callback']);}else{if(_0x321e09[_0x47c08c(0x1d0)]===_0x47c08c(0x1af))try{const _0x410c34=_0x321e09['message'][_0x47c08c(0xf5)],_0x289571=await this[_0x47c08c(0x172)](_0x410c34+_0x47c08c(0xe6));let _0x184100=[];if(_0x289571&&_0x289571[_0x47c08c(0x156)]){const _0x325345=JSON[_0x47c08c(0x1aa)](_0x289571[_0x47c08c(0x156)]),_0x4cdff9=new Set();Array[_0x47c08c(0x13c)](_0x325345)&&_0x325345['forEach'](_0xb540c1=>{const _0xea603c=_0x47c08c;if(_0xb540c1['_calName'])_0x4cdff9[_0xea603c(0x10c)](_0xb540c1[_0xea603c(0x1ac)]);else{if(_0xb540c1[_0xea603c(0x120)])_0x4cdff9['add'](_0xb540c1[_0xea603c(0x120)]);}}),_0x184100=Array['from'](_0x4cdff9)['sort']();}if(_0x184100[_0x47c08c(0x12d)]===0x0)_0x184100=[_0x47c08c(0x15d)];this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09['command'],{'success':!![],'names':_0x184100},_0x321e09[_0x47c08c(0xe3)]);}catch(_0x24f1d1){this[_0x47c08c(0x1d9)](_0x321e09['from'],_0x321e09[_0x47c08c(0x1d0)],{'success':![],'error':_0x24f1d1['message']},_0x321e09[_0x47c08c(0xe3)]);}else{if(_0x321e09[_0x47c08c(0x1d0)]===_0x47c08c(0x1a0))try{await setup[_0x47c08c(0x198)](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09[_0x47c08c(0x1d0)],{'success':!![],'message':_0x47c08c(0xd5)},_0x321e09[_0x47c08c(0xe3)]);}catch(_0x3c82cb){this['log'][_0x47c08c(0x1de)](_0x47c08c(0x13d)+_0x3c82cb[_0x47c08c(0x195)]),this[_0x47c08c(0x1d9)](_0x321e09[_0x47c08c(0x190)],_0x321e09[_0x47c08c(0x1d0)],{'success':![],'message':'Fehler:\x20'+_0x3c82cb['message']},_0x321e09[_0x47c08c(0xe3)]);}}}}}}}}}}}}}}}async[a0_0x3f4b08(0x17c)](){const _0x5eceeb=a0_0x3f4b08;try{const _0x2c7e46=await this[_0x5eceeb(0x122)](setup[_0x5eceeb(0xff)]);_0x2c7e46&&_0x2c7e46['val']&&Object[_0x5eceeb(0x143)](setup[_0x5eceeb(0x11f)])[_0x5eceeb(0x158)](_0x2c7e46[_0x5eceeb(0x156)])?this[_0x5eceeb(0xd3)]=_0x2c7e46[_0x5eceeb(0x156)]:(this[_0x5eceeb(0xd3)]=setup['SYSTEM_MODES'][_0x5eceeb(0x191)],await this[_0x5eceeb(0x1a9)](setup['SYSTEM_DP_MODE'],{'val':setup['SYSTEM_MODES'][_0x5eceeb(0x191)],'ack':!![]}));}catch(_0x1ee107){this[_0x5eceeb(0xd3)]=setup[_0x5eceeb(0x11f)][_0x5eceeb(0x191)];}}async['checkWifiPresence'](){const _0x29cea3=a0_0x3f4b08;try{const _0x31e46b=this['config']['presenceDevices']||[];let _0x4bf860=![];const _0x303eaa=[];for(const _0x307012 of _0x31e46b){try{const _0x3b6c16=await this[_0x29cea3(0x172)](_0x307012);_0x3b6c16&&(_0x3b6c16[_0x29cea3(0x156)]===!![]||_0x3b6c16[_0x29cea3(0x156)]===_0x29cea3(0x180)||_0x3b6c16[_0x29cea3(0x156)]===0x1)&&(_0x4bf860=!![],_0x303eaa[_0x29cea3(0x1a4)](_0x307012));}catch(_0x2e21cd){}}return await this[_0x29cea3(0x1a9)]('system.presenceWho',{'val':_0x303eaa[_0x29cea3(0xd8)](',\x20'),'ack':!![]}),_0x4bf860&&(this[_0x29cea3(0x19d)]&&(this[_0x29cea3(0xeb)][_0x29cea3(0x159)](_0x29cea3(0x1b0)),recorder[_0x29cea3(0x1c2)](this)),!this[_0x29cea3(0xed)]&&this[_0x29cea3(0xd3)]===setup[_0x29cea3(0x11f)][_0x29cea3(0x191)]&&await recorder[_0x29cea3(0x137)](this,!![])),_0x4bf860;}catch(_0x371878){return![];}}async[a0_0x3f4b08(0x115)](){const _0x406a60=a0_0x3f4b08;this['log'][_0x406a60(0xe1)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x406a60(0x14c)](this),this[_0x406a60(0xda)](),this[_0x406a60(0x1ad)](),this[_0x406a60(0x149)]();}async['checkSolarCondition'](){const _0x423a40=a0_0x3f4b08,_0x948459=[_0x423a40(0x181),_0x423a40(0x110),_0x423a40(0xdf)],_0x41de4e=['forecast.current.weather',_0x423a40(0x187),_0x423a40(0x199)];for(const _0x141384 of _0x948459){for(const _0x186ec0 of _0x41de4e){try{const _0x2c0a3a=_0x141384+'.'+_0x186ec0,_0x4709cd=await this[_0x423a40(0x172)](_0x2c0a3a);if(_0x4709cd&&_0x4709cd[_0x423a40(0x156)]){const _0x4713ff=String(_0x4709cd[_0x423a40(0x156)])[_0x423a40(0x1da)]();if(_0x4713ff[_0x423a40(0x158)](_0x423a40(0xe5))||_0x4713ff[_0x423a40(0x158)]('sunny')||_0x4713ff['includes'](_0x423a40(0x147))||_0x4713ff[_0x423a40(0x158)](_0x423a40(0x154))||_0x4713ff[_0x423a40(0x158)](_0x423a40(0xf7)))return!![];}}catch(_0x1f0c4f){}}}return![];}[a0_0x3f4b08(0x1ad)](){const _0x167510=a0_0x3f4b08;if(!this[_0x167510(0x107)])return;try{this[_0x167510(0x1cd)](_0x167510(0x1d2),(_0x1a5e35,_0x8269a2)=>{const _0x5d51c0=_0x167510;_0x8269a2&&_0x8269a2[_0x5d51c0(0x156)]&&pythonBridge['send'](this,_0x5d51c0(0x16a),{'sequences':JSON['parse'](_0x8269a2[_0x5d51c0(0x156)])});});}catch(_0x38e85b){}}async[a0_0x3f4b08(0x149)](){const _0x1e1219=a0_0x3f4b08;if(!this['isProVersion'])return;try{const _0x16d36d=await recorder[_0x1e1219(0x11a)](this);if(_0x16d36d===null)return;const _0x4a3313={},_0x2b9ce2={},_0x22ade1=this[_0x1e1219(0x11c)][_0x1e1219(0x165)]||[];for(const _0x3f0c88 of _0x22ade1){if(_0x3f0c88[_0x1e1219(0x18a)]===_0x1e1219(0x13e)&&_0x3f0c88['location']){const _0x232e0f=this['sensorLastValues'][_0x3f0c88['id']];if(_0x232e0f!==undefined)_0x4a3313[_0x3f0c88['location']]=_0x232e0f;if(_0x3f0c88['isSolar'])_0x2b9ce2[_0x3f0c88[_0x1e1219(0x1c8)]]=!![];}}const _0x548165=await this['checkSolarCondition']();let _0x4115a3={};try{const _0x4e70a5=await this[_0x1e1219(0x122)]('analysis.energy.warmupTargets');if(_0x4e70a5&&_0x4e70a5['val'])_0x4115a3=JSON[_0x1e1219(0x1aa)](_0x4e70a5[_0x1e1219(0x156)]);}catch(_0x28559b){}Object[_0x1e1219(0x160)](_0x4a3313)[_0x1e1219(0x12d)]>0x0&&(pythonBridge[_0x1e1219(0x1a8)](this,_0x1e1219(0x10a),{'current_temps':_0x4a3313,'t_out':_0x16d36d,'is_sunny':_0x548165,'solar_flags':_0x2b9ce2,'warmup_targets':_0x4115a3}),pythonBridge[_0x1e1219(0x1a8)](this,'OPTIMIZE_ENERGY',{'current_temps':_0x4a3313,'t_out':_0x16d36d,'targets':{}}));}catch(_0x4ce589){}}[a0_0x3f4b08(0xda)](){const _0x69dcf0=a0_0x3f4b08;if(!this['rawEventLog']||this[_0x69dcf0(0xe9)][_0x69dcf0(0x12d)]===0x0)return;const _0x2fcb96=new Array(0x60)[_0x69dcf0(0x148)](0x0),_0x50d36d=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x69dcf0(0xe9)][_0x69dcf0(0x10b)](_0x198e65=>{const _0x4396d2=_0x69dcf0,_0x4d358c=new Date(_0x198e65[_0x4396d2(0x19c)]);if(_0x4d358c[_0x4396d2(0xfb)]()>=_0x50d36d){const _0x30148d=_0x4d358c[_0x4396d2(0xee)](),_0x50e59d=_0x4d358c[_0x4396d2(0x111)](),_0x33e416=_0x30148d*0x4+Math[_0x4396d2(0x1a2)](_0x50e59d/0xf);if(_0x33e416>=0x0&&_0x33e416<0x60)_0x2fcb96[_0x33e416]++;}}),this['setStateAsync'](_0x69dcf0(0x1c0),{'val':JSON[_0x69dcf0(0x17a)](_0x2fcb96),'ack':!![]});}[a0_0x3f4b08(0x192)](){const _0x4262f7=a0_0x3f4b08;if(!this[_0x4262f7(0x178)]||this['dailyDigests'][_0x4262f7(0x12d)]<0x2)return;const _0x42d731=this[_0x4262f7(0x178)][_0x4262f7(0x14a)](_0x3ddd9f=>{const _0x5356ca=_0x4262f7,_0x40e918=(_0x3ddd9f[_0x5356ca(0x1ab)]||'')[_0x5356ca(0x1da)]();return ACTIVITY_LEVEL_MAP[_0x40e918]||0x32;});pythonBridge['send'](this,_0x4262f7(0x170),{'values':_0x42d731,'tag':_0x4262f7(0x104)});}}if(require[a0_0x3f4b08(0x1df)]!==module)module['exports']=_0x5b86e3=>new CogniLiving(_0x5b86e3);else new CogniLiving();