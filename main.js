function a0_0x5952(_0x1217ae,_0x425d65){const _0x90c521=a0_0x2a8d();return a0_0x5952=function(_0xf92cd9,_0x51eeca){_0xf92cd9=_0xf92cd9-0xa1;let _0x2a8da8=_0x90c521[_0xf92cd9];return _0x2a8da8;},a0_0x5952(_0x1217ae,_0x425d65);}const a0_0x187e96=a0_0x5952;(function(_0x582366,_0x5b06ca){const _0x3e1bf5=a0_0x5952,_0x11a937=_0x582366();while(!![]){try{const _0x54ac28=parseInt(_0x3e1bf5(0x180))/0x1+parseInt(_0x3e1bf5(0x173))/0x2*(parseInt(_0x3e1bf5(0x101))/0x3)+parseInt(_0x3e1bf5(0xb1))/0x4*(parseInt(_0x3e1bf5(0x1b4))/0x5)+parseInt(_0x3e1bf5(0x197))/0x6+parseInt(_0x3e1bf5(0x104))/0x7*(-parseInt(_0x3e1bf5(0xdd))/0x8)+parseInt(_0x3e1bf5(0xe4))/0x9*(parseInt(_0x3e1bf5(0xb0))/0xa)+-parseInt(_0x3e1bf5(0x10c))/0xb;if(_0x54ac28===_0x5b06ca)break;else _0x11a937['push'](_0x11a937['shift']());}catch(_0x4f4819){_0x11a937['push'](_0x11a937['shift']());}}}(a0_0x2a8d,0xeba78));const a0_0x51eeca=(function(){let _0x4639cb=!![];return function(_0x1c640a,_0x25c775){const _0x2a3083=_0x4639cb?function(){const _0x2c3154=a0_0x5952;if(_0x25c775){const _0x32f63a=_0x25c775[_0x2c3154(0x1b7)](_0x1c640a,arguments);return _0x25c775=null,_0x32f63a;}}:function(){};return _0x4639cb=![],_0x2a3083;};}()),a0_0xf92cd9=a0_0x51eeca(this,function(){const _0x3586e8=a0_0x5952;return a0_0xf92cd9[_0x3586e8(0xad)]()[_0x3586e8(0x194)](_0x3586e8(0x1a1))[_0x3586e8(0xad)]()[_0x3586e8(0xf1)](a0_0xf92cd9)[_0x3586e8(0x194)]('(((.+)+)+)+$');});a0_0xf92cd9();'use strict';const utils=require(a0_0x187e96(0xd2)),{GoogleGenerativeAI}=require(a0_0x187e96(0x16f)),installer=require(a0_0x187e96(0x154)),scanner=require(a0_0x187e96(0x15a)),schedulers=require(a0_0x187e96(0xeb)),topology=require('./lib/topology'),setup=require('./lib/setup'),recorder=require(a0_0x187e96(0x13e)),pythonBridge=require(a0_0x187e96(0xb8)),aiAgent=require(a0_0x187e96(0xc2)),deadMan=require(a0_0x187e96(0x124)),automation=require('./lib/automation'),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x2a8d(){const _0x3ffdff=['common','Aktiv\x20(','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','4932027MLYgWK','Reinforcement\x20Learning\x20Penalties','sensorLastValues','14CnHeAA','stateChange','analysis.security.learningStatus','subscribeStates','Lernphase\x20(','getTime','loadSystemMode','getOutsideTemperatureNumeric','40405189hdrYUl','driftAnalysisTimer','accuweather.0','sendNotification','analysisTimer','trackerEnabled','Warm-Up\x20Target\x20Temps\x20(JSON)','Verbunden','heiter','motion','find','analysis.health.gaitDebug','updateHealthVector','Sec-Training\x20started...','analysis.automation.triggerAction','{\x22default\x22:\x2021}','SET_LEARNING_MODE','Notification\x20Test\x20Failed:\x20','getForeignObjectsAsync','getLtmData','checkWifiPresence','toLowerCase','includes','analysis.automation.description','./lib/dead_man','name','from','text','checkCalendarTriggers','ready','enum.functions.*','getOverviewData','getForeignStateAsync','analysis.topology.structure','slice','fill','getHours','analysis.training.triggerTopology','analysis.energy.insulationScore','command','analysis.training.triggerComfort','exitGraceTimer','communicate.request','stringify','analysis.automation.targetValue','guest','callback','Kein\x20API\x20Key\x20Ã¼bergeben','val','presenceDevices','./lib/recorder','Gait\x20Speed\x20Calculation\x20Proof','push','systemConfig','LTM.trainingData.thermodynamics','analysis.training.triggerHealth','getCalendarNames','testNotification','\x20min\x20ausbleiben.','thermostat','daswetter.0','ltmJob','error','triggerEnergyPrediction','online','instance','floor','length','klar','system.presenceWho','isGracePeriodActive','getStateAsync','./lib/installer','dailyDigests','analysis.energy.warmupTargets','lastTrackerEventTime','VACATION','Guest\x20Mode','./lib/scanner','isPresent','matrix','.data.table','currentSystemMode','createDailyDigest','values','notifyTelegramInstance','onMessage','cancel',')\x20-\x20Phase\x20D\x20(Enforcement)','healthTrendInterval','log','version','NextHours.Location_1.Day_1.current.symbol_desc','analysis.triggerBriefing','setupBriefingScheduler','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','eventHistory','join','modeResetJob','@google/generative-ai','analysisInterval','Gemini\x20Init\x20Error:\x20','setPresence','2tPLlTs','lastAlertState','triggerGaitAnalysis','executeAutomationAction','SYSTEM_MODES','WiFi\x20Presence\x20detected.','TRAIN_COMFORT','updated','Activity-Level','dependencyInstallInProgress','application/json','setObjectNotExistsAsync','processSensorEvent','5650JWsTdT','state','timestamp','trackerHeartbeat','runGeminiAnalysis','Active\x20Calendar\x20Enforcements\x20(Locks)','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','ANALYZE_GAIT','analysis.training.triggerEnergy','NORMAL','apiKey','number','setHours','createAllObjects','calendarName','runPythonHealthCheck','debug','\x20Tage)','analysis.trigger','Keine\x20Antwort\x20von\x20Gemini','search','Daten\x20nicht\x20verfÃ¼gbar','TRAIN_SECURITY','3144702UOTDZE','enum','cleanupGhostInterventions','setupDriftAnalysisScheduler','info','Gemini\x20AI\x20initialized.','bind','minutes_safe','onReady','scores','(((.+)+)+)+$','unload','startService','endsWith','onStateChange','getState','sonn','Active\x20Ventilation\x20Alerts','automation.triggerAction','licenseKey','checkLicense','scanForDevices','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','runAutopilot','_calName','Adapter','subscribeForeignStatesAsync','parse','analysis.training.triggerSecurity','1260155NytcRE','analysis.energy.mpcActive','triggerDailyDigest','apply','ANALYZE_TREND','string','analysisHistory','geminiModel','LTM.dailyDigests','triggerBriefing','checkAndInstall','.communicate.request','setupModeResetScheduler','startSystem','object','Verbindung\x20erfolgreich!','getMinutes','checkSolarCondition','testContext','Fehler:\x20','toString','simulateEnergyMPC','analysis.energy.ventilationAlerts','19169220yAMBXy','28iUmyPq','json','setStateAsync','updateTopology','inactivityThresholdHours','type','geminiApiKey','./lib/python_bridge','namespace','analysis.automation.targetId','Current.WeatherText','isArray','devices','Sensors\x20used\x20for\x20Gait\x20Analysis','useWeather','getForeignObjectAsync','now','./lib/ai_agent','add','OPTIMIZE_ENERGY','calendarInstance','analysis.health.activityTrend','manual','forEach','weatherunderground.0','send','analysis.health.gaitSensors','isProVersion','message','telegram','briefingJob','TRAIN_ENERGY','system.mode','@iobroker/adapter-core','.system.mode','PREDICT_ENERGY','location','LTM.rawEventLog','sunny','analysis.automation.autoApply','TRAIN_HEALTH','Simulation\x20durch\x20Admin\x20(Test)','SYSTEM_DP_MODE','some','4865904JfnJFf','testApiKey','LTM.triggerDailyDigest','cogni-living\x20adapter\x20starting\x20(v','General\x20Activity\x20Trend\x20(%)','isSolar','simulateButler','9ILMJvy','LTM.trainingData.sequences','monitorEnforcements','map','setState','ack','LTM.baselineStatus','./lib/scheduler','response','temperature','genAI','rawEventLog','onUnload','constructor','sendTo','updateTopologyMatrix','sort','config','analysis.automation.patternDetected','initHistory','getGenerativeModel','minDaysForBaseline','Standard','analysis.energy.rlPenalties','key','abortExitTimer'];a0_0x2a8d=function(){return _0x3ffdff;};return a0_0x2a8d();}class CogniLiving extends utils[a0_0x187e96(0x1b0)]{constructor(_0x5e1072){const _0xe24abe=a0_0x187e96;super({..._0x5e1072,'name':'cogni-living'}),this[_0xe24abe(0x16c)]=[],this['analysisHistory']=[],this[_0xe24abe(0xef)]=[],this[_0xe24abe(0x155)]=[],this[_0xe24abe(0x103)]={},this[_0xe24abe(0x141)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this['exitTimer']=null,this[_0xe24abe(0x135)]=null,this[_0xe24abe(0x152)]=![],this[_0xe24abe(0xee)]=null,this[_0xe24abe(0x1bb)]=null,this['currentSystemMode']=setup['SYSTEM_MODES']['NORMAL'],this['isProVersion']=![],this[_0xe24abe(0x174)]=![],this['analysisTimer']=null,this['ltmJob']=null,this[_0xe24abe(0x16e)]=null,this[_0xe24abe(0x10d)]=null,this[_0xe24abe(0xcf)]=null,this[_0xe24abe(0x183)]=null,this['healthTrendInterval']=null,this[_0xe24abe(0x17c)]=![],this[_0xe24abe(0x157)]=Date[_0xe24abe(0xc1)](),this['on'](_0xe24abe(0x129),this[_0xe24abe(0x19f)][_0xe24abe(0x19d)](this)),this['on'](_0xe24abe(0x105),this['onStateChange']['bind'](this)),this['on'](_0xe24abe(0x1a2),this[_0xe24abe(0xf0)][_0xe24abe(0x19d)](this)),this['on'](_0xe24abe(0xcd),this['onMessage'][_0xe24abe(0x19d)](this));}async[a0_0x187e96(0x19f)](){const _0x1c4482=a0_0x187e96;this[_0x1c4482(0x166)][_0x1c4482(0x19b)](_0x1c4482(0xe0)+this[_0x1c4482(0x167)]+_0x1c4482(0x164));if(!installer[_0x1c4482(0xa3)](this,()=>this['startSystem']()))return;}async[a0_0x187e96(0xa6)](){const _0x36cc64=a0_0x187e96;await setup['initZombies'](this);try{this[_0x36cc64(0xcc)]=await setup[_0x36cc64(0x1ab)](this[_0x36cc64(0xf5)][_0x36cc64(0x1aa)]);}catch(_0x3620d7){}if(!this['config']['inactivityThresholdHours']||this[_0x36cc64(0xf5)]['inactivityThresholdHours']<0.1)this[_0x36cc64(0xf5)][_0x36cc64(0xb5)]=0xc;await setup[_0x36cc64(0xf7)](this),await setup['initSystemConfig'](this);if(this[_0x36cc64(0xf5)][_0x36cc64(0xb7)])try{this[_0x36cc64(0xee)]=new GoogleGenerativeAI(this['config'][_0x36cc64(0xb7)]),this[_0x36cc64(0x1bb)]=this[_0x36cc64(0xee)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x36cc64(0x17d)}}),this[_0x36cc64(0x166)]['info'](_0x36cc64(0x19c));}catch(_0x19c9ce){this[_0x36cc64(0x166)][_0x36cc64(0x14a)](_0x36cc64(0x171)+_0x19c9ce[_0x36cc64(0xcd)]);}await setup[_0x36cc64(0x18d)](this),await this[_0x36cc64(0x10a)](),await this[_0x36cc64(0x17e)]('analysis.energy.pinnForecast',{'type':'state','common':{'name':'PINN\x20AI\x20Forecast','type':_0x36cc64(0x1b9),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x36cc64(0x17e)](_0x36cc64(0xaf),{'type':'state','common':{'name':_0x36cc64(0x1a8),'type':_0x36cc64(0x1b9),'role':_0x36cc64(0xb2),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.warmupTimes',{'type':'state','common':{'name':_0x36cc64(0x16b),'type':_0x36cc64(0x1b9),'role':_0x36cc64(0xb2),'read':!![],'write':![]},'native':{}}),await this[_0x36cc64(0x17e)](_0x36cc64(0x156),{'type':'state','common':{'name':_0x36cc64(0x112),'type':_0x36cc64(0x1b9),'role':_0x36cc64(0xb2),'read':!![],'write':!![],'def':_0x36cc64(0x11b)},'native':{}}),await this[_0x36cc64(0x17e)](_0x36cc64(0xfb),{'type':_0x36cc64(0x181),'common':{'name':_0x36cc64(0x102),'type':'string','role':'json','read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x36cc64(0x17e)](_0x36cc64(0xc6),{'type':_0x36cc64(0x181),'common':{'name':_0x36cc64(0xe1),'type':_0x36cc64(0x18b),'role':'value','unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x36cc64(0x17e)](_0x36cc64(0xcb),{'type':_0x36cc64(0x181),'common':{'name':_0x36cc64(0xbe),'type':_0x36cc64(0x1b9),'role':_0x36cc64(0x127),'read':!![],'write':![]},'native':{}}),await this[_0x36cc64(0x17e)]('analysis.energy.activeEnforcements',{'type':_0x36cc64(0x181),'common':{'name':_0x36cc64(0x185),'type':'string','role':_0x36cc64(0xb2),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x36cc64(0x17e)](_0x36cc64(0x117),{'type':'state','common':{'name':_0x36cc64(0x13f),'type':_0x36cc64(0x1b9),'role':_0x36cc64(0x127),'read':!![],'write':![]},'native':{}});try{const _0x2b5ef1=await this[_0x36cc64(0x153)](_0x36cc64(0xd6));if(_0x2b5ef1&&_0x2b5ef1['val'])this[_0x36cc64(0xef)]=JSON['parse'](_0x2b5ef1[_0x36cc64(0x13c)]);}catch(_0x3388a4){this['rawEventLog']=[];}try{const _0x5e639f=await this[_0x36cc64(0x153)](_0x36cc64(0xa1));if(_0x5e639f&&_0x5e639f[_0x36cc64(0x13c)])this[_0x36cc64(0x155)]=JSON[_0x36cc64(0x1b2)](_0x5e639f[_0x36cc64(0x13c)]);}catch(_0x4ef961){this[_0x36cc64(0x155)]=[];}const _0x21861a=this['dailyDigests'][_0x36cc64(0x14f)]>=(this['config'][_0x36cc64(0xf9)]||0x7)?_0x36cc64(0xff)+this['dailyDigests'][_0x36cc64(0x14f)]+_0x36cc64(0x191):_0x36cc64(0x108)+this[_0x36cc64(0x155)][_0x36cc64(0x14f)]+'/'+(this[_0x36cc64(0xf5)][_0x36cc64(0xf9)]||0x7)+')';await this['setStateAsync'](_0x36cc64(0xea),{'val':_0x21861a,'ack':!![]}),this[_0x36cc64(0x107)](_0x36cc64(0x192)),this[_0x36cc64(0x107)](_0x36cc64(0xdf)),this[_0x36cc64(0x107)](_0x36cc64(0xd1)),this[_0x36cc64(0x107)](_0x36cc64(0x169)),this['subscribeStates'](_0x36cc64(0x11a)),this['subscribeStates'](_0x36cc64(0xd8)),this[_0x36cc64(0x107)](_0x36cc64(0x1b3)),this['subscribeStates'](_0x36cc64(0x143)),this[_0x36cc64(0x107)]('analysis.training.triggerEnergy'),this['subscribeStates'](_0x36cc64(0x134)),this[_0x36cc64(0x107)]('analysis.training.triggerTopology'),this[_0x36cc64(0x107)](_0x36cc64(0x1b5));const _0x227c94=this[_0x36cc64(0xf5)][_0x36cc64(0xbd)];if(_0x227c94)for(const _0x5e6ed2 of _0x227c94){await this[_0x36cc64(0x1b1)](_0x5e6ed2['id']);}const _0x4d823a=this[_0x36cc64(0xf5)][_0x36cc64(0x13d)];if(_0x4d823a)for(const _0x15840b of _0x4d823a){await this[_0x36cc64(0x1b1)](_0x15840b);}if(this[_0x36cc64(0xf5)]['notifyTelegramEnabled']&&this[_0x36cc64(0xf5)]['notifyTelegramInstance'])await this[_0x36cc64(0x1b1)](this[_0x36cc64(0xf5)][_0x36cc64(0x161)]+_0x36cc64(0xa4));setTimeout(()=>this[_0x36cc64(0x120)](),0x1388);if(this[_0x36cc64(0x110)])clearInterval(this[_0x36cc64(0x110)]);const _0x1d6b09=this[_0x36cc64(0xf5)][_0x36cc64(0x170)]||0xf;_0x1d6b09>0x0&&(this[_0x36cc64(0x110)]=setInterval(()=>{const _0x12bf00=_0x36cc64;this[_0x12bf00(0x1ae)](),automation['checkCalendarTriggers'](this),automation[_0x12bf00(0xe6)](this);},_0x1d6b09*0x3c*0x3e8));setTimeout(()=>{const _0x4d9d2e=_0x36cc64;automation[_0x4d9d2e(0x128)](this),automation[_0x4d9d2e(0xe6)](this);},0x2710);this[_0x36cc64(0xf5)][_0x36cc64(0x111)]!==![]&&(this[_0x36cc64(0x183)]=setInterval(()=>{const _0x8c66f=_0x36cc64;if(this[_0x8c66f(0xcc)]){const _0xcbff4=Date[_0x8c66f(0xc1)](),_0x59d8a8=this[_0x8c66f(0x157)]||_0xcbff4,_0x795aff=(_0xcbff4-_0x59d8a8)/0x3e8;_0x795aff>0x2&&(this[_0x8c66f(0x157)]=_0xcbff4,pythonBridge[_0x8c66f(0xca)](this,'TRACK_EVENT',{'room':null,'dt':_0x795aff}));}},0xbb8));if(this['healthTrendInterval'])clearInterval(this['healthTrendInterval']);this[_0x36cc64(0x165)]=setInterval(()=>{const _0x201444=_0x36cc64;this['isProVersion']&&(this[_0x201444(0x166)][_0x201444(0x19b)]('â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...'),this[_0x201444(0x18f)]());},0x4*0x3c*0x3c*0x3e8),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x36cc64(0x15f)](this,pythonBridge)),schedulers[_0x36cc64(0xa5)](this),schedulers[_0x36cc64(0x19a)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x36cc64(0x16a)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x36cc64(0x1a3)](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x37c95f=_0x36cc64;await topology['updateTopology'](this);try{const _0x3fa3e1=await this[_0x37c95f(0x153)](_0x37c95f(0x12d));if(_0x3fa3e1&&_0x3fa3e1[_0x37c95f(0x13c)])pythonBridge[_0x37c95f(0xca)](this,'SET_TOPOLOGY',JSON[_0x37c95f(0x1b2)](_0x3fa3e1[_0x37c95f(0x13c)]));}catch(_0x47ad1d){}this[_0x37c95f(0x18f)](),this['triggerGaitAnalysis'](),this[_0x37c95f(0x14b)](),this[_0x37c95f(0x118)]();},0x1388);}[a0_0x187e96(0xf0)](_0x58e745){const _0x1dbbbd=a0_0x187e96;if(this['analysisTimer'])clearInterval(this[_0x1dbbbd(0x110)]);if(this[_0x1dbbbd(0x10d)])clearInterval(this[_0x1dbbbd(0x10d)]);if(this['trackerHeartbeat'])clearInterval(this[_0x1dbbbd(0x183)]);if(this['healthTrendInterval'])clearInterval(this['healthTrendInterval']);if(this[_0x1dbbbd(0x149)])this[_0x1dbbbd(0x149)][_0x1dbbbd(0x163)]();if(this[_0x1dbbbd(0x16e)])this[_0x1dbbbd(0x16e)][_0x1dbbbd(0x163)]();if(this['briefingJob'])this['briefingJob'][_0x1dbbbd(0x163)]();recorder[_0x1dbbbd(0xfd)](this),pythonBridge['stopService'](this),_0x58e745();}async[a0_0x187e96(0x1a5)](_0xbcc93e,_0x5e0eb9){const _0x3342e5=a0_0x187e96;if(!_0x5e0eb9||this[_0x3342e5(0x17c)])return;if(_0xbcc93e[_0x3342e5(0x122)](_0x3342e5(0xce))&&_0xbcc93e[_0x3342e5(0x1a4)](_0x3342e5(0x136))&&_0x5e0eb9[_0x3342e5(0x13c)])return;if(_0xbcc93e===this[_0x3342e5(0xb9)]+_0x3342e5(0xd3)){if(_0x5e0eb9[_0x3342e5(0x13c)]&&Object[_0x3342e5(0x160)](setup[_0x3342e5(0x177)])['includes'](_0x5e0eb9[_0x3342e5(0x13c)])){this[_0x3342e5(0x15e)]=_0x5e0eb9['val'];if(_0x5e0eb9['val']===setup[_0x3342e5(0x177)][_0x3342e5(0x158)])await recorder['setPresence'](this,![]);else await recorder[_0x3342e5(0x172)](this,!![]);if(this['isProVersion']){let _0x41be47=![],_0x485e92=0x0,_0x2b64b3=_0x3342e5(0xc7);if(this[_0x3342e5(0x15e)]==='party')_0x41be47=!![],_0x485e92=0x168,_0x2b64b3='Party\x20Mode';else this[_0x3342e5(0x15e)]===_0x3342e5(0x139)&&(_0x41be47=!![],_0x485e92=0x5a0,_0x2b64b3=_0x3342e5(0x159));pythonBridge[_0x3342e5(0xca)](this,_0x3342e5(0x11c),{'active':_0x41be47,'duration':_0x485e92,'label':_0x2b64b3}),await this[_0x3342e5(0xb3)](_0x3342e5(0x106),{'val':JSON['stringify']({'active':_0x41be47,'label':_0x2b64b3,'timestamp':Date[_0x3342e5(0xc1)]()}),'ack':!![]});}}if(!_0x5e0eb9['ack'])this['setState'](_0xbcc93e,{'val':this[_0x3342e5(0x15e)],'ack':!![]});return;}if(!_0x5e0eb9[_0x3342e5(0xe9)]){if(_0xbcc93e['includes'](_0x3342e5(0x192))&&_0x5e0eb9[_0x3342e5(0x13c)]){this['setState'](_0xbcc93e,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0xbcc93e[_0x3342e5(0x122)](_0x3342e5(0x1b6))&&_0x5e0eb9[_0x3342e5(0x13c)]){this['setState'](_0xbcc93e,{'val':![],'ack':!![]});if(this[_0x3342e5(0xcc)])aiAgent[_0x3342e5(0x15f)](this,pythonBridge);return;}if(_0xbcc93e[_0x3342e5(0x122)](_0x3342e5(0xa2))&&_0x5e0eb9[_0x3342e5(0x13c)]){this[_0x3342e5(0xe8)](_0xbcc93e,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0xbcc93e[_0x3342e5(0x122)](_0x3342e5(0x1a9))&&_0x5e0eb9[_0x3342e5(0x13c)]){this[_0x3342e5(0xe8)](_0xbcc93e,{'val':![],'ack':!![]}),aiAgent[_0x3342e5(0x176)](this);return;}if(_0xbcc93e[_0x3342e5(0x122)]('analysis.training.triggerSecurity')&&_0x5e0eb9[_0x3342e5(0x13c)]){this[_0x3342e5(0xe8)](_0xbcc93e,{'val':![],'ack':!![]});if(this[_0x3342e5(0xcc)])try{const _0x41c235=await this[_0x3342e5(0x153)](_0x3342e5(0xe5));if(_0x41c235&&_0x41c235[_0x3342e5(0x13c)]){const _0x1951bf=JSON[_0x3342e5(0x1b2)](_0x41c235[_0x3342e5(0x13c)]);this['setStateAsync']('analysis.training.status',{'val':_0x3342e5(0x119),'ack':!![]}),pythonBridge[_0x3342e5(0xca)](this,_0x3342e5(0x196),{'sequences':_0x1951bf});}}catch(_0xe367bf){}return;}if(_0xbcc93e[_0x3342e5(0x122)]('analysis.training.triggerHealth')&&_0x5e0eb9['val']){this[_0x3342e5(0xe8)](_0xbcc93e,{'val':![],'ack':!![]});if(this[_0x3342e5(0xcc)])try{const _0x11bbd4=await this[_0x3342e5(0x153)]('LTM.dailyDigests');if(_0x11bbd4&&_0x11bbd4[_0x3342e5(0x13c)])pythonBridge[_0x3342e5(0xca)](this,_0x3342e5(0xd9),{'digests':JSON[_0x3342e5(0x1b2)](_0x11bbd4[_0x3342e5(0x13c)])});}catch(_0x31b025){}return;}if(_0xbcc93e[_0x3342e5(0x122)](_0x3342e5(0x188))&&_0x5e0eb9['val']){this['setState'](_0xbcc93e,{'val':![],'ack':!![]});if(this[_0x3342e5(0xcc)])try{const _0x5802d9=await this[_0x3342e5(0x153)](_0x3342e5(0x142));if(_0x5802d9&&_0x5802d9[_0x3342e5(0x13c)])pythonBridge['send'](this,_0x3342e5(0xd0),{'points':JSON[_0x3342e5(0x1b2)](_0x5802d9[_0x3342e5(0x13c)])});}catch(_0x5da0d7){}return;}if(_0xbcc93e[_0x3342e5(0x122)](_0x3342e5(0x134))&&_0x5e0eb9[_0x3342e5(0x13c)]){this[_0x3342e5(0xe8)](_0xbcc93e,{'val':![],'ack':!![]});if(this[_0x3342e5(0xcc)])try{const _0x43ccc7=await this[_0x3342e5(0x153)](_0x3342e5(0xd6));if(_0x43ccc7&&_0x43ccc7['val'])pythonBridge[_0x3342e5(0xca)](this,_0x3342e5(0x179),{'events':JSON[_0x3342e5(0x1b2)](_0x43ccc7[_0x3342e5(0x13c)])});}catch(_0x167e2b){}return;}if(_0xbcc93e['includes'](_0x3342e5(0x131))&&_0x5e0eb9['val']){this['setState'](_0xbcc93e,{'val':![],'ack':!![]}),topology[_0x3342e5(0xb4)](this);return;}}if(this[_0x3342e5(0xf5)][_0x3342e5(0x13d)]&&this['config'][_0x3342e5(0x13d)][_0x3342e5(0x122)](_0xbcc93e)){await this[_0x3342e5(0x120)]();return;}const _0x2ead9c=(this[_0x3342e5(0xf5)]['devices']||[])[_0x3342e5(0x116)](_0x173169=>_0x173169['id']===_0xbcc93e);if(_0x2ead9c){const _0x9f63a1=await recorder[_0x3342e5(0x17f)](this,_0xbcc93e,_0x5e0eb9,_0x2ead9c);_0x9f63a1&&_0x9f63a1['type']===_0x3342e5(0x115)&&_0x9f63a1[_0x3342e5(0xd5)]&&this['isProVersion']&&deadMan['updateLocation'](this,_0x9f63a1[_0x3342e5(0xd5)]),(_0x2ead9c[_0x3342e5(0xb6)]===_0x3342e5(0xed)||_0x2ead9c[_0x3342e5(0xb6)]===_0x3342e5(0x147))&&automation[_0x3342e5(0x199)](this);}}async[a0_0x187e96(0x162)](_0x17d2ae){const _0x1e632a=a0_0x187e96;if(typeof _0x17d2ae===_0x1e632a(0xa7)&&_0x17d2ae[_0x1e632a(0xcd)]){if(_0x17d2ae[_0x1e632a(0x133)]==='checkThermostats')try{const _0x37a778=await automation['scanThermostats'](this);this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'results':_0x37a778},_0x17d2ae[_0x1e632a(0x13a)]);}catch(_0x46ceb8){this['sendTo'](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae['command'],{'success':![],'error':_0x46ceb8['message']},_0x17d2ae[_0x1e632a(0x13a)]);}else{if(_0x17d2ae['command']===_0x1e632a(0xae))try{const {current_temps:_0x54de19,t_out:_0x296b37,targets:_0x53b6fb,t_forecast:_0x57e94d}=_0x17d2ae[_0x1e632a(0xcd)],_0x30b358=[];let _0x5967d3={};try{const _0xf4a87=await this[_0x1e632a(0x153)](_0x1e632a(0x132));if(_0xf4a87&&_0xf4a87[_0x1e632a(0x13c)]){const _0x283c92=JSON['parse'](_0xf4a87[_0x1e632a(0x13c)]);_0x5967d3=_0x283c92[_0x1e632a(0x1a0)]||_0x283c92;}}catch(_0xd7ec4a){}const _0x1a4f94=_0x57e94d!==undefined&&_0x57e94d!==null?(_0x296b37+_0x57e94d)/0x2:_0x296b37;for(const [_0x340c9e,_0x12e80d]of Object['entries'](_0x54de19)){const _0x1eeaa0=_0x53b6fb[_0x340c9e]||0x15;if(_0x12e80d<=_0x1eeaa0)continue;let _0x3f1a4a=_0x5967d3[_0x340c9e]||-0.5;if(_0x3f1a4a>=0x0)_0x3f1a4a=-0.5;const _0x290665=Math['abs'](_0x3f1a4a),_0xbbb56a=_0x12e80d-_0x1eeaa0;let _0x482ea0=Math[_0x1e632a(0x14e)](_0xbbb56a/_0x290665*0x3c);const _0x20b2ed=_0x12e80d-_0x296b37,_0x307e79=_0x12e80d-_0x1a4f94;if(_0x307e79!==0x0&&_0x20b2ed!==0x0){const _0x40a808=_0x20b2ed/_0x307e79;_0x482ea0=Math[_0x1e632a(0x14e)](_0x482ea0*_0x40a808);}if(_0x482ea0>0xf){if(_0x482ea0>0xf0)_0x482ea0=0xf0;_0x30b358['push']({'room':_0x340c9e,'minutes_safe':_0x482ea0,'target':_0x1eeaa0,'current':_0x12e80d,'savings_msg':'Heizung\x20kann\x20'+_0x482ea0+_0x1e632a(0x146)});}}_0x30b358['sort']((_0x364ff6,_0x4f7f54)=>_0x4f7f54[_0x1e632a(0x19e)]-_0x364ff6['minutes_safe']),this[_0x1e632a(0xf2)](_0x17d2ae['from'],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'proposals':_0x30b358},_0x17d2ae[_0x1e632a(0x13a)]);}catch(_0x4c51de){this[_0x1e632a(0xf2)](_0x17d2ae['from'],_0x17d2ae[_0x1e632a(0x133)],{'success':![],'error':_0x4c51de[_0x1e632a(0xcd)]},_0x17d2ae['callback']);}else{if(_0x17d2ae['command']==='resetRLPenalty')try{const _0x47caf4=_0x17d2ae['message'][_0x1e632a(0xfc)],_0x4e1ce3=_0x1e632a(0xfb),_0x1f3c3f=await this[_0x1e632a(0x153)](_0x4e1ce3);let _0x3554b8={};if(_0x1f3c3f&&_0x1f3c3f[_0x1e632a(0x13c)])try{_0x3554b8=JSON['parse'](_0x1f3c3f[_0x1e632a(0x13c)]);}catch(_0x1549ab){}_0x47caf4&&_0x3554b8[_0x47caf4]?(delete _0x3554b8[_0x47caf4],await this[_0x1e632a(0xb3)](_0x4e1ce3,{'val':JSON[_0x1e632a(0x137)](_0x3554b8),'ack':!![]}),this[_0x1e632a(0x166)][_0x1e632a(0x19b)](_0x1e632a(0x186)+_0x47caf4+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.'),this['sendTo'](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae['command'],{'success':!![]},_0x17d2ae[_0x1e632a(0x13a)])):this['sendTo'](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0x17d2ae[_0x1e632a(0x13a)]);}catch(_0x18d6c4){this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':![],'error':_0x18d6c4['message']},_0x17d2ae[_0x1e632a(0x13a)]);}else{if(_0x17d2ae[_0x1e632a(0x133)]==='dismissAutomation')await this[_0x1e632a(0xb3)](_0x1e632a(0xf6),{'val':![],'ack':!![]}),await this[_0x1e632a(0xb3)]('analysis.automation.description',{'val':'','ack':!![]}),await this[_0x1e632a(0xb3)](_0x1e632a(0xba),{'val':'','ack':!![]}),this[_0x1e632a(0xf2)](_0x17d2ae['from'],_0x17d2ae[_0x1e632a(0x133)],{'success':!![]},_0x17d2ae[_0x1e632a(0x13a)]);else{if(_0x17d2ae['command']===_0x1e632a(0xe3)){const {targetId:_0xae113c,targetValue:_0x34c045}=_0x17d2ae['message'];await this[_0x1e632a(0xb3)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await this[_0x1e632a(0xb3)](_0x1e632a(0x123),{'val':_0x1e632a(0xda),'ack':!![]}),await this[_0x1e632a(0xb3)](_0x1e632a(0xba),{'val':_0xae113c,'ack':!![]}),await this[_0x1e632a(0xb3)]('analysis.automation.targetValue',{'val':String(_0x34c045),'ack':!![]}),this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':!![]},_0x17d2ae[_0x1e632a(0x13a)]);}else{if(_0x17d2ae['command']===_0x1e632a(0xde))try{const _0x835782=_0x17d2ae[_0x1e632a(0xcd)][_0x1e632a(0x18a)];if(!_0x835782)throw new Error(_0x1e632a(0x13b));const _0x3f56da=new GoogleGenerativeAI(_0x835782),_0x54b78c=_0x3f56da[_0x1e632a(0xf8)]({'model':GEMINI_MODEL}),_0x24f173=await _0x54b78c['generateContent']('Test'),_0x59c388=await _0x24f173[_0x1e632a(0xec)];if(_0x59c388['text']())this['sendTo'](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'message':_0x1e632a(0xa8)},_0x17d2ae[_0x1e632a(0x13a)]);else throw new Error(_0x1e632a(0x193));}catch(_0x139e71){this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':![],'message':_0x139e71[_0x1e632a(0xcd)]},_0x17d2ae[_0x1e632a(0x13a)]);}else{if(_0x17d2ae[_0x1e632a(0x133)]==='scanDevices')try{const _0x1a698d=await scanner[_0x1e632a(0x1ac)](this,_0x17d2ae[_0x1e632a(0xcd)]||{});this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'devices':_0x1a698d},_0x17d2ae[_0x1e632a(0x13a)]);}catch(_0x2b7aad){this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae['command'],{'success':![],'error':_0x2b7aad[_0x1e632a(0xcd)]},_0x17d2ae[_0x1e632a(0x13a)]);}else{if(_0x17d2ae[_0x1e632a(0x133)]===_0x1e632a(0xf3))try{const {matrix:_0x336f07}=_0x17d2ae[_0x1e632a(0xcd)],_0x39fa82=await this[_0x1e632a(0x153)]('analysis.topology.structure');if(_0x39fa82&&_0x39fa82[_0x1e632a(0x13c)]){const _0x4193ed=JSON[_0x1e632a(0x1b2)](_0x39fa82['val']);_0x4193ed[_0x1e632a(0x15c)]=_0x336f07,_0x4193ed[_0x1e632a(0x17a)]=Date[_0x1e632a(0xc1)](),await this['setStateAsync'](_0x1e632a(0x12d),{'val':JSON['stringify'](_0x4193ed),'ack':!![]}),pythonBridge[_0x1e632a(0xca)](this,'SET_TOPOLOGY',_0x4193ed);}this[_0x1e632a(0xf2)](_0x17d2ae['from'],_0x17d2ae[_0x1e632a(0x133)],{'success':!![]},_0x17d2ae[_0x1e632a(0x13a)]);}catch(_0x2f6158){this[_0x1e632a(0x166)][_0x1e632a(0x14a)](_0x2f6158);}else{if(_0x17d2ae[_0x1e632a(0x133)]===_0x1e632a(0x11f))this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'dailyDigests':this[_0x1e632a(0x155)]||[],'analysisHistory':this[_0x1e632a(0x1ba)]||[]},_0x17d2ae['callback']);else{if(_0x17d2ae['command']===_0x1e632a(0x12b)){const _0x5edc1a=this['dailyDigests'][_0x1e632a(0x14f)],_0xeb5ee=new Array(0x18)[_0x1e632a(0x12f)](0x0),_0x9a72da=new Date()[_0x1e632a(0x18c)](0x0,0x0,0x0,0x0);this[_0x1e632a(0x16c)]&&this['eventHistory'][_0x1e632a(0xc8)](_0x2fb5f9=>{const _0x45f71f=_0x1e632a;if(_0x2fb5f9[_0x45f71f(0x182)]>=_0x9a72da){const _0x53d549=new Date(_0x2fb5f9[_0x45f71f(0x182)])[_0x45f71f(0x130)]();if(_0x53d549>=0x0&&_0x53d549<0x18)_0xeb5ee[_0x53d549]++;}});let _0x257faf=![],_0x26239d='',_0x4508c7='',_0x1fb645='';try{const _0x57a699=await this[_0x1e632a(0x153)](_0x1e632a(0xf6));if(_0x57a699&&_0x57a699[_0x1e632a(0x13c)]){_0x257faf=!![];const _0x43daad=await this['getStateAsync'](_0x1e632a(0x123));_0x26239d=_0x43daad?_0x43daad[_0x1e632a(0x13c)]:'';const _0x36f13a=await this[_0x1e632a(0x153)](_0x1e632a(0xba));_0x4508c7=_0x36f13a?_0x36f13a['val']:'';const _0x213b2a=await this[_0x1e632a(0x153)](_0x1e632a(0x138));_0x1fb645=_0x213b2a?_0x213b2a[_0x1e632a(0x13c)]:'';}}catch(_0x510114){}const _0x469733=await this['checkSolarCondition'](),_0x3f37eb=(this[_0x1e632a(0xf5)]['devices']||[])[_0x1e632a(0xdc)](_0x1a7241=>_0x1a7241[_0x1e632a(0xe2)]),_0x4090b4=_0x469733&&_0x3f37eb;this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'eventHistory':this[_0x1e632a(0x16c)][_0x1e632a(0x12e)](0x0,0xf),'stats':{'digestCount':_0x5edc1a,'isPresent':this['isPresent'],'hourlyActivity':_0xeb5ee,'solarActive':_0x4090b4},'automation':{'detected':_0x257faf,'description':_0x26239d,'targetId':_0x4508c7,'targetValue':_0x1fb645}},_0x17d2ae['callback']);}else{if(_0x17d2ae[_0x1e632a(0x133)]==='getEnums'){const _0x2ac444=await this[_0x1e632a(0x11e)](_0x1e632a(0x12a),'enum'),_0x1559a1=[];if(_0x2ac444)for(const _0x2382a0 in _0x2ac444){const _0x3791d9=_0x2ac444[_0x2382a0],_0x55f2ea=(_0x3791d9['common']&&typeof _0x3791d9[_0x1e632a(0xfe)][_0x1e632a(0x125)]===_0x1e632a(0xa7)?_0x3791d9['common'][_0x1e632a(0x125)]['de']:_0x3791d9['common']['name'])||_0x3791d9[_0x1e632a(0xfe)][_0x1e632a(0x125)];_0x1559a1[_0x1e632a(0x140)]({'id':_0x2382a0,'name':_0x55f2ea});}const _0x1da1ba=await this[_0x1e632a(0x11e)]('enum.rooms.*',_0x1e632a(0x198)),_0x5ae744=[];if(_0x1da1ba)for(const _0x14b9bb in _0x1da1ba){const _0x28fa1f=_0x1da1ba[_0x14b9bb],_0x4d0819=(_0x28fa1f['common']&&typeof _0x28fa1f['common'][_0x1e632a(0x125)]===_0x1e632a(0xa7)?_0x28fa1f[_0x1e632a(0xfe)]['name']['de']:_0x28fa1f[_0x1e632a(0xfe)]['name'])||_0x14b9bb['split']('.')['pop']();_0x5ae744[_0x1e632a(0x140)](_0x4d0819);}this['sendTo'](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'enums':_0x1559a1,'rooms':_0x5ae744},_0x17d2ae[_0x1e632a(0x13a)]);}else{if(_0x17d2ae[_0x1e632a(0x133)]===_0x1e632a(0xab))try{let _0x21bdb3='Kein\x20Wetter-Adapter',_0x10b9b5='Kein\x20Kalender-Adapter';if(this[_0x1e632a(0xf5)][_0x1e632a(0xbf)]){const _0x4cfb68=await recorder[_0x1e632a(0x10b)](this);_0x21bdb3=_0x4cfb68!==null?_0x4cfb68+'Â°C':_0x1e632a(0x195);}if(this[_0x1e632a(0xf5)][_0x1e632a(0xc5)]){const _0x1d576f=await this[_0x1e632a(0xc0)]('system.adapter.'+this[_0x1e632a(0xf5)]['calendarInstance']);_0x10b9b5=_0x1d576f?_0x1e632a(0x113):'Instanz\x20nicht\x20gefunden';}this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'weather':_0x21bdb3,'calendar':_0x10b9b5},_0x17d2ae[_0x1e632a(0x13a)]);}catch(_0x43233c){this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':![],'error':_0x43233c['message']},_0x17d2ae[_0x1e632a(0x13a)]);}else{if(_0x17d2ae['command']===_0x1e632a(0x144))try{const _0x5d8f61=_0x17d2ae[_0x1e632a(0xcd)][_0x1e632a(0x14d)],_0x37e69b=await this[_0x1e632a(0x12c)](_0x5d8f61+_0x1e632a(0x15d));let _0x392113=[];if(_0x37e69b&&_0x37e69b['val']){const _0x4a1f99=JSON[_0x1e632a(0x1b2)](_0x37e69b[_0x1e632a(0x13c)]),_0x8ffa11=new Set();Array[_0x1e632a(0xbc)](_0x4a1f99)&&_0x4a1f99[_0x1e632a(0xc8)](_0x43b569=>{const _0x24cc7a=_0x1e632a;if(_0x43b569[_0x24cc7a(0x1af)])_0x8ffa11[_0x24cc7a(0xc3)](_0x43b569[_0x24cc7a(0x1af)]);else{if(_0x43b569[_0x24cc7a(0x18e)])_0x8ffa11[_0x24cc7a(0xc3)](_0x43b569[_0x24cc7a(0x18e)]);}}),_0x392113=Array[_0x1e632a(0x126)](_0x8ffa11)[_0x1e632a(0xf4)]();}if(_0x392113[_0x1e632a(0x14f)]===0x0)_0x392113=[_0x1e632a(0xfa)];this[_0x1e632a(0xf2)](_0x17d2ae['from'],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'names':_0x392113},_0x17d2ae['callback']);}catch(_0x4ca45f){this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':![],'error':_0x4ca45f[_0x1e632a(0xcd)]},_0x17d2ae['callback']);}else{if(_0x17d2ae[_0x1e632a(0x133)]===_0x1e632a(0x145))try{await setup[_0x1e632a(0x10f)](this,_0x1e632a(0x1ad),![],![]),this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae[_0x1e632a(0x133)],{'success':!![],'message':'Gesendet'},_0x17d2ae[_0x1e632a(0x13a)]);}catch(_0x39d022){this[_0x1e632a(0x166)][_0x1e632a(0x14a)](_0x1e632a(0x11d)+_0x39d022[_0x1e632a(0xcd)]),this[_0x1e632a(0xf2)](_0x17d2ae[_0x1e632a(0x126)],_0x17d2ae['command'],{'success':![],'message':_0x1e632a(0xac)+_0x39d022[_0x1e632a(0xcd)]},_0x17d2ae['callback']);}}}}}}}}}}}}}}}}async[a0_0x187e96(0x10a)](){const _0x18da33=a0_0x187e96;try{const _0x48b655=await this[_0x18da33(0x153)](setup[_0x18da33(0xdb)]);_0x48b655&&_0x48b655[_0x18da33(0x13c)]&&Object[_0x18da33(0x160)](setup['SYSTEM_MODES'])[_0x18da33(0x122)](_0x48b655[_0x18da33(0x13c)])?this[_0x18da33(0x15e)]=_0x48b655[_0x18da33(0x13c)]:(this['currentSystemMode']=setup[_0x18da33(0x177)][_0x18da33(0x189)],await this[_0x18da33(0xb3)](setup[_0x18da33(0xdb)],{'val':setup[_0x18da33(0x177)][_0x18da33(0x189)],'ack':!![]}));}catch(_0x1173df){this[_0x18da33(0x15e)]=setup[_0x18da33(0x177)][_0x18da33(0x189)];}}async[a0_0x187e96(0x120)](){const _0x45d5c4=a0_0x187e96;try{const _0x7a9c6=this['config'][_0x45d5c4(0x13d)]||[];let _0x307bcd=![];const _0x233807=[];for(const _0x355da3 of _0x7a9c6){try{const _0x3b356c=await this[_0x45d5c4(0x12c)](_0x355da3);_0x3b356c&&(_0x3b356c['val']===!![]||_0x3b356c['val']===_0x45d5c4(0x14c)||_0x3b356c[_0x45d5c4(0x13c)]===0x1)&&(_0x307bcd=!![],_0x233807[_0x45d5c4(0x140)](_0x355da3));}catch(_0x210d09){}}return await this['setStateAsync'](_0x45d5c4(0x151),{'val':_0x233807[_0x45d5c4(0x16d)](',\x20'),'ack':!![]}),_0x307bcd&&(this['exitTimer']&&(this['log'][_0x45d5c4(0x19b)](_0x45d5c4(0x178)),recorder['abortExitTimer'](this)),!this[_0x45d5c4(0x15b)]&&this[_0x45d5c4(0x15e)]===setup['SYSTEM_MODES'][_0x45d5c4(0x189)]&&await recorder[_0x45d5c4(0x172)](this,!![])),_0x307bcd;}catch(_0x555ff7){return![];}}async[a0_0x187e96(0x1ae)](){const _0x174a3d=a0_0x187e96;this['log'][_0x174a3d(0x190)](_0x174a3d(0x100)),await aiAgent[_0x174a3d(0x184)](this),this[_0x174a3d(0x118)](),this[_0x174a3d(0x175)](),this[_0x174a3d(0x14b)]();}async[a0_0x187e96(0xaa)](){const _0x5e93a0=a0_0x187e96,_0x1d3628=[_0x5e93a0(0xc9),_0x5e93a0(0x10e),_0x5e93a0(0x148)],_0x4e9411=['forecast.current.weather',_0x5e93a0(0xbb),_0x5e93a0(0x168)];for(const _0x29f125 of _0x1d3628){for(const _0x596283 of _0x4e9411){try{const _0x37a2bf=_0x29f125+'.'+_0x596283,_0x2eebec=await this['getForeignStateAsync'](_0x37a2bf);if(_0x2eebec&&_0x2eebec[_0x5e93a0(0x13c)]){const _0x3b1ec6=String(_0x2eebec[_0x5e93a0(0x13c)])[_0x5e93a0(0x121)]();if(_0x3b1ec6[_0x5e93a0(0x122)](_0x5e93a0(0x1a7))||_0x3b1ec6['includes'](_0x5e93a0(0xd7))||_0x3b1ec6['includes'](_0x5e93a0(0x150))||_0x3b1ec6[_0x5e93a0(0x122)]('clear')||_0x3b1ec6['includes'](_0x5e93a0(0x114)))return!![];}}catch(_0x6287d8){}}}return![];}[a0_0x187e96(0x175)](){const _0x3be32d=a0_0x187e96;if(!this[_0x3be32d(0xcc)])return;try{this[_0x3be32d(0x1a6)](_0x3be32d(0xe5),(_0x15f0ad,_0x32b89a)=>{const _0x4aa939=_0x3be32d;_0x32b89a&&_0x32b89a[_0x4aa939(0x13c)]&&pythonBridge[_0x4aa939(0xca)](this,_0x4aa939(0x187),{'sequences':JSON['parse'](_0x32b89a[_0x4aa939(0x13c)])});});}catch(_0xdf1c26){}}async[a0_0x187e96(0x14b)](){const _0x31c3a6=a0_0x187e96;if(!this[_0x31c3a6(0xcc)])return;try{const _0x637d7c=await recorder[_0x31c3a6(0x10b)](this);if(_0x637d7c===null)return;const _0x3b87f2={},_0x97bfee={},_0x4b78b5=this[_0x31c3a6(0xf5)][_0x31c3a6(0xbd)]||[];for(const _0x3e0f87 of _0x4b78b5){if(_0x3e0f87[_0x31c3a6(0xb6)]==='temperature'&&_0x3e0f87[_0x31c3a6(0xd5)]){const _0x10db7b=this[_0x31c3a6(0x103)][_0x3e0f87['id']];if(_0x10db7b!==undefined)_0x3b87f2[_0x3e0f87[_0x31c3a6(0xd5)]]=_0x10db7b;if(_0x3e0f87[_0x31c3a6(0xe2)])_0x97bfee[_0x3e0f87[_0x31c3a6(0xd5)]]=!![];}}const _0x2c4279=await this['checkSolarCondition']();let _0x513705={};try{const _0x3ff47f=await this[_0x31c3a6(0x153)](_0x31c3a6(0x156));if(_0x3ff47f&&_0x3ff47f[_0x31c3a6(0x13c)])_0x513705=JSON['parse'](_0x3ff47f['val']);}catch(_0xeae94d){}Object['keys'](_0x3b87f2)['length']>0x0&&(pythonBridge[_0x31c3a6(0xca)](this,_0x31c3a6(0xd4),{'current_temps':_0x3b87f2,'t_out':_0x637d7c,'is_sunny':_0x2c4279,'solar_flags':_0x97bfee,'warmup_targets':_0x513705}),pythonBridge['send'](this,_0x31c3a6(0xc4),{'current_temps':_0x3b87f2,'t_out':_0x637d7c,'targets':{}}));}catch(_0x5b3394){}}[a0_0x187e96(0x118)](){const _0x19ad44=a0_0x187e96;if(!this[_0x19ad44(0xef)]||this[_0x19ad44(0xef)]['length']===0x0)return;const _0x5e5b83=new Array(0x60)[_0x19ad44(0x12f)](0x0),_0x8bc830=new Date()[_0x19ad44(0x18c)](0x0,0x0,0x0,0x0);this[_0x19ad44(0xef)]['forEach'](_0x186d17=>{const _0x1c751b=_0x19ad44,_0x28489d=new Date(_0x186d17[_0x1c751b(0x182)]);if(_0x28489d[_0x1c751b(0x109)]()>=_0x8bc830){const _0x162d7e=_0x28489d[_0x1c751b(0x130)](),_0x5ccc1d=_0x28489d[_0x1c751b(0xa9)](),_0x412782=_0x162d7e*0x4+Math[_0x1c751b(0x14e)](_0x5ccc1d/0xf);if(_0x412782>=0x0&&_0x412782<0x60)_0x5e5b83[_0x412782]++;}}),this[_0x19ad44(0xb3)]('analysis.health.todayVector',{'val':JSON[_0x19ad44(0x137)](_0x5e5b83),'ack':!![]});}[a0_0x187e96(0x18f)](){const _0x16d4fa=a0_0x187e96;if(!this['dailyDigests']||this[_0x16d4fa(0x155)]['length']<0x2)return;const _0x59db70=this[_0x16d4fa(0x155)][_0x16d4fa(0xe7)](_0x1804ed=>{const _0x117a9e=(_0x1804ed['activityLevel']||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x117a9e]||0x32;});pythonBridge[_0x16d4fa(0xca)](this,_0x16d4fa(0x1b8),{'values':_0x59db70,'tag':_0x16d4fa(0x17b)});}}if(require['main']!==module)module['exports']=_0x710dfd=>new CogniLiving(_0x710dfd);else new CogniLiving();