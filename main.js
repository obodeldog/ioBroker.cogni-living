function a0_0x52f9(){const _0x1d836d=['icons-mfd.','eventHistory','updateAnalysisHistory','Gemini\x20Init\x20Error:\x20','search','rating','pop','notifyWhatsappInstance','mac\x20address','briefingJob','ERROR','Flur','analysis.comfortSummary','Automation\x20Proposals','none','map','CONFIG_PENDING','RSSI','setupModeResetScheduler','accuweather','LTM.driftAnalysis.driftDetails','analysis.history_debug_04','OPERATING_VOLTAGE','filter','text','notifyEmailInstance','licht','Lernphase\x20(','models/gemini-flash-latest','Trigger\x20Digest','2334AzsGtQ','accuweather.','analysisHistory','Analysis\x20Error:\x20','Analysiere\x20Tag...','vacation','setState','Drift\x20Analysis','\x0a\x0aA\x20(STB):\x0a','calendarInstance','catch','system.isPresent','Last\x20Check','garten','UNREACH','command','43630yyGVra','sensorLastValues','capabilities','enum.functions.*','analysis.activitySummary','system.config','ðŸš¨\x20EMERGENCY','delObjectAsync','WETTER\x20ERROR:\x20','values','Schlafzimmer','testNotification','Trigger\x20Briefing\x20(Test)','splice','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AUFGABE:\x20Analysiere\x20die\x20Events\x20auf\x20AktivitÃ¤t,\x20Komfort\x20und\x20GESUNDHEIT.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20Nutze\x20den\x20EXTERNEN\x20KONTEXT\x20(Wetter/Kalender)\x20um\x20Fehlalarme\x20zu\x20vermeiden\x20(z.B.\x20Regen\x20=\x20keine\x20GartenaktivitÃ¤t,\x20Termin\x20=\x20Abwesend).\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22isEmergency\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number\x20(0-100),\x20\x22restlessness\x22:\x20\x22none|low|medium|high\x22,\x20\x22notes\x22:\x20\x22string\x22\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','notifySignalRecipient','KALENDER:\x20','boolean','\x20min).\x20Watchdog\x20Limit:\x20','wohn','setHours','getForeignStateAsync','send','System\x20Mode','from','6855240UVofMk','subscribeForeignStatesAsync','checkWifiPresence','modeResetJob','number','\x20presence\x20devices...','events.history_debug_04','detectionState','loadRawEventLog','activityLevel','val','openweathermap.','system.','main','onStateChange','schlaf','_score','runBaselineDriftAnalysis','forecast','\x20sent','isProVersion','CONNECTION','notifyPushoverRecipient','\x0aFEEDBACK:\x0a','last_seen','GUEST','timestamp','includes','members','events.history_debug_03','precip','KALENDER:\x20Keine\x20Termine','analysisInterval','onMessage','SECTION','LTM.dailyDigests','createAllObjects','Urlaub','sort','stateChange','isExit','CRITICAL\x20WARNING:\x20No\x20sensor\x20activity\x20detected\x20for\x20','scriptProblem','debug','sendToAsync','ltmLtbWindowDays','startExitTimer','STICKY_UNREACH','devices','currentSystemMode','0\x204\x20*\x20*\x20*','PROCESS','isArray','LTM.rawEventLog','setObjectNotExistsAsync','startsWith','slice','archetype','notifyWhatsappEnabled','sendMorningBriefing','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','daswetter','getWeatherContext','onUnload','process','Drift\x20Details','Action','ack','isPresent','signal','analysis.deviationFromBaseline','Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20MODUS:\x20','updateBaselineStatus','inactivityThresholdHours','getForeignObjectAsync','getSystemUUID','WETTER:\x20','info','channel','Logbook','2-digit','notifyEmailRecipient','uuid-not-found','Error\x20creating\x20objects:\x20','ðŸŒ…\x20Daily\x20Briefing:\x0a','Temperatur','VIRTUAL_CHANNEL','openweathermap','long','occupancy','geminiModel','analysis.lastResult','find','toUpperCase','Getting\x20Weather\x20Context\x20from\x20','type','health','\x20raw\x20events...','sendTo','sleepScore','licenseKey','unknown','rawEventLog','events.history','Comfort\x20Summary','motion','N/A','tÃ¼r','âš ï¸\x20Alarm','toFixed','setupLtmScheduler','Drift\x20Sched\x20Error:\x20','N/A\x20(Learning)','DIRECTION','AES_KEY','analysis.health','dailyDigests','events.history_debug_00','createAllObjects\x20failed:\x20','Aktiv\x20(','analysis.history_debug_02','exitGraceTimer','length','abortExitTimer','livingContext','switch.light','Last\x20raw\x20event','uniqueid','LTM.baselineStatus','patternDetected','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT\x20(Wohnen):\x20','version','object','comfort','ROLLE:\x20Data\x20Analyst.\x20AUFGABE:\x20Fasse\x20den\x20heutigen\x20Tag\x20basierend\x20auf\x20den\x20Sensor-Logs\x20zusammen.\x0a\x20\x20\x20\x20\x20\x20\x20\x20PERSONA:\x20','summary','wetter','temperatur','join','uuid-error','presenceDevices','DUTYCYCLE','\x20*\x20*\x20*','accuweather.0','LTM\x20Sched\x20Error:\x20','yr.','LTM.driftAnalysis','level','expire','ready','alertReason','bind','sensor.motion','temperature','fire','TEST-PRO-KEY','application/json','ical.0','\x0a!!!\x20EXTERNAL\x20SYSTEM\x20WARNING\x20!!!\x0a','unload','scanDevices','initHistory','log','ROLLE:\x20FÃ¼rsorglicher\x20Assistent.\x0a\x20\x20\x20\x20\x20\x20\x20\x20AUFGABE:\x20Schreibe\x20eine\x20kurze,\x20beruhigende\x20\x22Guten\x20Morgen\x22-Nachricht\x20an\x20die\x20AngehÃ¶rigen/Bewohner.\x0a\x20\x20\x20\x20\x20\x20\x20\x20TON:\x20Freundlich,\x20professionell,\x20kurz.\x0a\x20\x20\x20\x20\x20\x20\x20\x20PERSONA\x20(Fokus):\x20','toString','wind','automationProposal','admin.','analysis.health.notes','testContext','response','\x20sensors...','date','driftAnalysisTimer','party','daswetter.','deviationFromBaseline','2463087ukQQNx','ltmStbWindowDays','guest','@google/generative-ai','4765448xjbRQu','analysis.triggerBriefing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20DATEN:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20SchlafqualitÃ¤t\x20letzte\x20Nacht:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT\x20(Wer\x20wohnt\x20hier?):\x20','Reset\x20Sched\x20Error:\x20','Badezimmer','native','feedbackHistory','kÃ¼che','Creating\x20Daily\x20Digest\x20from\x20','error','node-schedule','testApiKey','systemConfig','replace','Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','Missing\x20data','activity','Error\x20initHistory:\x20','driftDetails','sound','analysis.trigger','Generating\x20Morning\x20Briefing...','WETTER:\x20Keine\x20Daten\x20gefunden\x20(Instanz\x20lÃ¤uft?)','submitFeedback','Cogni-Living\x20Alert','analysis.health.restlessness','details','genAI','Party','checkLtmObjects','colormode','Briefing\x20Sched\x20Error:\x20','.\x20ORT:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20OUTPUT\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22,\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number,\x20\x22restlessness\x22:\x20\x22string\x22\x20}\x20}','LTM.driftAnalysis.baselineDrift','sendNotification','getLtmData','analysis.history_debug_00','value.humidity','online','de-DE','weatherunderground.','longitude','state','Morning\x20Briefing\x20sent.','extendObjectAsync','System\x20Status\x20&\x20Control','stringify','sensor.window','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20OUTPUT:\x20Nur\x20der\x20Nachrichtentext\x20(kein\x20JSON).\x20Integriere\x20den\x20Kontext\x20(Wetter/Kalender)\x20nur\x20wenn\x20relevant.','User\x20Feedback:\x20Alarm\x20\x22','getStateAsync','callback','NORMAL','analysis.alertReason','daswetter.0','lastAlertState','briefingTime','PRIORITÃ„T:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungewÃ¶hnliche\x20Anwesenheit.','No\x20recorded\x20events\x20yet.','minDaysForBaseline','notifySignalEnabled','Activity\x20Summary','weatherInstance','ltmJob','Context\x20Test\x20requested','saveDailyDigests','Fenster/TÃ¼r','inactivityMonitoringEnabled','Fehler:\x20','AI\x20Emergency\x20Status','now','\x20hours.\x20The\x20resident\x20might\x20be\x20incapacitated.\x20Risk\x20level:\x20HIGH.','\x22\x20was\x20','notifyPushoverInstance','location','eingang','enum.rooms.*','analysis.comfortSuggestion','KALENDER\x20ERROR:\x20','runAutopilot','checkLtmDriftObjects','notes','LTM','some','1009600GzqDLd','aiPersona','flur','hue','isEmergency','cogni-living','smoke','warn','Trigger\x20Analysis','resetAnalysisStates','events.lastEvent','.forecast.current.state','push','common','onReady','Comfort\x20Suggestion','WEEK_PROGRAM','analysis.history_debug_01','analysis.health.sleepScore','sensor.door','Wohnzimmer','bad','system.meta.uuid','subscribeStates','9dzGXRc','button','uuid','siren','createDailyDigest','3946755LkJrWt','name','Daily\x20Digest\x20Error:\x20','Health\x20Notes','notifyEmailEnabled','geminiApiKey','Drift\x20Status','Licht','briefingEnabled','notifyPushoverEnabled','haustÃ¼r','cogni-living\x20adapter\x20starting\x20(v','suggestion','fenster','prÃ¤senz','message','getCalendarContext','Daily\x20Digest\x20created\x20successfully.','Baseline\x20Status','enum','analysisTimer','openweathermap.0','/100\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20AktivitÃ¤t\x20seit\x2004:00\x20Uhr:\x20','Error\x20in\x20onMessage\x20command\x20','systemUUID','events.history_debug_01','Pattern\x20Detected','baselineDrift','string','(((.+)+)+)+$','getEnums','Raw\x20Log','Zu\x20wenig\x20Daten\x20fÃ¼r\x20Daily\x20Digest.','config','VACATION','checkSystemObjects','Error\x20reading\x20configured\x20weather\x20instance:\x20','reachable','Deviation','indicator.alarm.fire','generateContent','08:00','Baseline:\x20Inactive\x20(Pro\x20Feature).','system','trim','Rauchmelder','LTM.triggerDailyDigest','Success','material.','flot.','ALARM','latitude','wohnungstÃ¼r','generic','analysis.analysisHistory','notifySignalInstance','loadSystemMode','No\x20recent\x20activity.','Processing\x20Status','saveRawEventLog','Restlessness\x20Level','scriptEnabled','Deaktiviert\x20(Pro-Feature)','notifyWhatsappRecipient','analysis.isAlert','AI\x20Alert\x20Status','event','.NextHours.Location_1.Day_1.current.symbol_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ZUSATZ-KONTEXT:\x20','Feedback\x20Log','analysis.automation.suggestedAction','LTM.driftAnalysis.lastCheck','Description','write','No\x20Key','scanForDevices','WORKING','vis.','cancel','apiKey','lampe','Error\x20reading\x20calendar:\x20','weather','toLocaleString','system.mode','runGeminiAnalysis','presence','setStateAsync','description','Sleep\x20Score\x20(0-100)','toLowerCase','setupDriftAnalysisScheduler','11xQFDlX','temp','LTM.processingStatus','.Summary.Current','LOWBAT','[Test]\x20Notification','json','Subscribing\x20to\x20','notifyTelegramInstance','getForeignObjectsAsync','icon','split','unshift','toISOString','.\x20PRÃ„SENZ:\x20','0\x203\x20*\x20*\x20*','isAlert','Alert\x20Reason','notifyTelegramEnabled','analysis.automation.description','restlessness','15967EBNFZp','value.temperature','griff','loadDailyDigests\x20failed:\x20','analysis.isEmergency','info.','scheduleJob','weatherunderground.0','isGracePeriodActive','analysis.automation.patternDetected','processSensorEvent','bewegung','Last\x20Result','Bewegung','ON_TIME','Bewegung\x20wÃ¤hrend\x20Exit-Timer\x20erkannt\x20->\x20Bewohner\x20ist\x20noch\x20da.','exitTimer','lastCheck','loadSystemMode\x20failed:\x20','update','setPresence','battery','ltmDriftCheckIntervalHours','[TEST]\x20','parse','city','last\x20action','modelid','normal','indicator.alarm','events.history_debug_02','indicator','loadRawEventLog\x20failed:\x20','test'];a0_0x52f9=function(){return _0x1d836d;};return a0_0x52f9();}const a0_0x505df6=a0_0xdda6;(function(_0x469ba7,_0x5a9bf2){const _0x5a6f6b=a0_0xdda6,_0x3b3418=_0x469ba7();while(!![]){try{const _0x3d264a=-parseInt(_0x5a6f6b(0x16f))/0x1*(parseInt(_0x5a6f6b(0x1d4))/0x2)+parseInt(_0x5a6f6b(0x29f))/0x3+-parseInt(_0x5a6f6b(0x2f9))/0x4+-parseInt(_0x5a6f6b(0x113))/0x5+-parseInt(_0x5a6f6b(0x1c4))/0x6*(-parseInt(_0x5a6f6b(0x184))/0x7)+parseInt(_0x5a6f6b(0x2a3))/0x8*(-parseInt(_0x5a6f6b(0x10e))/0x9)+parseInt(_0x5a6f6b(0x1ed))/0xa;if(_0x3d264a===_0x5a9bf2)break;else _0x3b3418['push'](_0x3b3418['shift']());}catch(_0x338572){_0x3b3418['push'](_0x3b3418['shift']());}}}(a0_0x52f9,0x7e171));const a0_0x538597=(function(){let _0x31228e=!![];return function(_0x1ddf29,_0x1d2657){const _0x4e3229=_0x31228e?function(){if(_0x1d2657){const _0x17fe0e=_0x1d2657['apply'](_0x1ddf29,arguments);return _0x1d2657=null,_0x17fe0e;}}:function(){};return _0x31228e=![],_0x4e3229;};}()),a0_0x17272f=a0_0x538597(this,function(){const _0x411654=a0_0xdda6;return a0_0x17272f[_0x411654(0x292)]()[_0x411654(0x1aa)](_0x411654(0x130))[_0x411654(0x292)]()['constructor'](a0_0x17272f)[_0x411654(0x1aa)](_0x411654(0x130));});a0_0x17272f();function a0_0xdda6(_0x2314bf,_0x469ea2){const _0x2e1e36=a0_0x52f9();return a0_0xdda6=function(_0x17272f,_0x538597){_0x17272f=_0x17272f-0xfe;let _0x52f9b7=_0x2e1e36[_0x17272f];return _0x52f9b7;},a0_0xdda6(_0x2314bf,_0x469ea2);}'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x505df6(0x2a2)),schedule=require(a0_0x505df6(0x2ae)),HISTORY_MAX_SIZE=0x32,ANALYSIS_HISTORY_MAX_SIZE=0x64,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x505df6(0x1c2),LTM_SCHEDULE=a0_0x505df6(0x17e),MODE_RESET_SCHEDULE=a0_0x505df6(0x21f),LTM_DP_RAW_LOG=a0_0x505df6(0x222),LTM_DP_DAILY_DIGESTS=a0_0x505df6(0x210),LTM_DP_STATUS=a0_0x505df6(0x171),LTM_DP_TRIGGER_DIGEST=a0_0x505df6(0x141),LTM_DP_BASELINE_STATUS=a0_0x505df6(0x26e),LTM_DP_DRIFT_CHANNEL=a0_0x505df6(0x280),LTM_DP_DRIFT_STATUS=a0_0x505df6(0x2c6),LTM_DP_DRIFT_DETAILS=a0_0x505df6(0x1ba),LTM_DP_DRIFT_LAST_CHECK=a0_0x505df6(0x15a),SYSTEM_DP_MODE=a0_0x505df6(0x167),SYSTEM_MODES={'NORMAL':a0_0x505df6(0x1a0),'VACATION':a0_0x505df6(0x1c9),'PARTY':a0_0x505df6(0x29c),'GUEST':a0_0x505df6(0x2a1)},AUTO_RESET_MODES=[SYSTEM_MODES['PARTY'],SYSTEM_MODES[a0_0x505df6(0x206)]],EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,PERSONA_MAPPING={'generic':a0_0x505df6(0x234),'senior_aal':'PRIORITÃ„T:\x20Gesundheit\x20und\x20Sicherheit\x20fÃ¼r\x20Senioren\x20(AAL).\x20Erkenne\x20InaktivitÃ¤t,\x20potenzielle\x20StÃ¼rze\x20(indirekt),\x20Schlafunterbrechungen\x20und\x20nÃ¤chtliche\x20Unruhe.','family':a0_0x505df6(0x2b2),'single_comfort':a0_0x505df6(0x229),'security':a0_0x505df6(0x2de)};class CogniLiving extends utils['Adapter']{constructor(_0x478811){const _0x461071=a0_0x505df6;super({..._0x478811,'name':_0x461071(0x2fe)}),this[_0x461071(0x1a7)]=[],this[_0x461071(0x1c6)]=[],this[_0x461071(0x2aa)]=[],this[_0x461071(0x254)]=[],this['dailyDigests']=[],this['sensorLastValues']={},this[_0x461071(0x2b0)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x461071(0x231)]=!![],this[_0x461071(0x194)]=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this[_0x461071(0x2bf)]=null,this['geminiModel']=null,this[_0x461071(0x21e)]=SYSTEM_MODES[_0x461071(0x2d9)],this['isProVersion']=![],this['lastAlertState']=![],this[_0x461071(0x12b)]=_0x461071(0x253),this['analysisTimer']=null,this[_0x461071(0x2e4)]=null,this[_0x461071(0x1f0)]=null,this[_0x461071(0x29b)]=null,this[_0x461071(0x1af)]=null,this['on'](_0x461071(0x283),this[_0x461071(0x104)]['bind'](this)),this['on'](_0x461071(0x214),this[_0x461071(0x1fb)][_0x461071(0x285)](this)),this['on'](_0x461071(0x28d),this[_0x461071(0x22c)][_0x461071(0x285)](this)),this['on'](_0x461071(0x122),this[_0x461071(0x20e)][_0x461071(0x285)](this));}async['getWeatherContext'](){const _0x5e1d23=a0_0x505df6;try{if(!this['config']['useWeather'])return'Wetter:\x20Deaktiviert';let _0x482f25='';const _0x3700f5=this[_0x5e1d23(0x134)][_0x5e1d23(0x2e3)];this[_0x5e1d23(0x290)]['debug'](_0x5e1d23(0x24c)+(_0x3700f5||'Auto'));if(_0x3700f5)try{if(_0x3700f5['includes'](_0x5e1d23(0x1b9))){const _0x304042=await this[_0x5e1d23(0x1e9)](_0x3700f5+'.Summary.Current');if(_0x304042&&_0x304042[_0x5e1d23(0x1f7)])_0x482f25=_0x304042['val'];}else{if(_0x3700f5[_0x5e1d23(0x208)](_0x5e1d23(0x22a))){const _0x1109b5=await this[_0x5e1d23(0x1e9)](_0x3700f5+_0x5e1d23(0x156));if(_0x1109b5&&_0x1109b5[_0x5e1d23(0x1f7)])_0x482f25=_0x1109b5['val'];}else{if(_0x3700f5[_0x5e1d23(0x208)](_0x5e1d23(0x245))){const _0x458295=await this[_0x5e1d23(0x1e9)](_0x3700f5+_0x5e1d23(0x101));if(_0x458295&&_0x458295[_0x5e1d23(0x1f7)])_0x482f25=_0x458295[_0x5e1d23(0x1f7)];}}}}catch(_0x369fb9){this['log']['warn'](_0x5e1d23(0x137)+_0x369fb9[_0x5e1d23(0x122)]);}if(!_0x482f25){const _0x2358d9=[_0x5e1d23(0x27d),_0x5e1d23(0x2db),_0x5e1d23(0x18b),_0x5e1d23(0x128)];for(const _0x342ec4 of _0x2358d9){try{const _0x4f3831=await this[_0x5e1d23(0x238)](_0x342ec4);if(_0x4f3831){if(_0x342ec4[_0x5e1d23(0x208)](_0x5e1d23(0x1b9))){const _0x2a81bc=await this['getForeignStateAsync'](_0x342ec4+_0x5e1d23(0x172));if(_0x2a81bc&&_0x2a81bc['val']){_0x482f25=_0x2a81bc[_0x5e1d23(0x1f7)];break;}}}}catch(_0x469061){}}}return _0x482f25?_0x5e1d23(0x23a)+_0x482f25:_0x5e1d23(0x2ba);}catch(_0x236396){return _0x5e1d23(0x1dc)+_0x236396[_0x5e1d23(0x122)];}}async[a0_0x505df6(0x123)](){const _0x11a6d4=a0_0x505df6;try{if(!this['config']['useCalendar'])return'Kalender:\x20Deaktiviert';let _0x4b0466='',_0x5af194=this[_0x11a6d4(0x134)][_0x11a6d4(0x1cd)]||_0x11a6d4(0x28b);this[_0x11a6d4(0x290)][_0x11a6d4(0x218)]('Getting\x20Calendar\x20Context\x20from\x20'+_0x5af194);try{const _0x4b6311=await this[_0x11a6d4(0x1e9)](_0x5af194+'.data.text');if(_0x4b6311&&_0x4b6311[_0x11a6d4(0x1f7)])_0x4b0466=_0x4b6311['val'];else{const _0x3acc9c=await this['getForeignStateAsync'](_0x5af194+'.data.table');_0x3acc9c&&_0x3acc9c['val']&&Array[_0x11a6d4(0x221)](_0x3acc9c['val'])&&_0x3acc9c[_0x11a6d4(0x1f7)][_0x11a6d4(0x268)]>0x0&&(_0x4b0466=_0x3acc9c[_0x11a6d4(0x1f7)][_0x11a6d4(0x225)](0x0,0x3)[_0x11a6d4(0x1b5)](_0x13ec50=>_0x13ec50['date']+'\x20'+_0x13ec50[_0x11a6d4(0x155)])[_0x11a6d4(0x278)](',\x20'));}}catch(_0x2cea1d){this[_0x11a6d4(0x290)][_0x11a6d4(0x300)](_0x11a6d4(0x164)+_0x2cea1d['message']);}return _0x4b0466?_0x11a6d4(0x1e4)+_0x4b0466:_0x11a6d4(0x20c);}catch(_0x26030c){return _0x11a6d4(0x2f3)+_0x26030c[_0x11a6d4(0x122)];}}async['initHistory'](){const _0x3af79d=a0_0x505df6;try{const _0x2b3f49=await this[_0x3af79d(0x2d7)](_0x3af79d(0x255));_0x2b3f49&&_0x2b3f49['val']&&(this[_0x3af79d(0x1a7)]=JSON[_0x3af79d(0x19c)](_0x2b3f49[_0x3af79d(0x1f7)][_0x3af79d(0x292)]()));}catch(_0x5f1790){this[_0x3af79d(0x1a7)]=[];}try{const _0x31d5b5=await this[_0x3af79d(0x2d7)]('analysis.analysisHistory');if(_0x31d5b5&&_0x31d5b5[_0x3af79d(0x1f7)])this[_0x3af79d(0x1c6)]=JSON[_0x3af79d(0x19c)](_0x31d5b5[_0x3af79d(0x1f7)][_0x3af79d(0x292)]());}catch(_0x3ae52f){this[_0x3af79d(0x1c6)]=[];}}async[a0_0x505df6(0x239)](){const _0x40b20d=a0_0x505df6;try{const _0x3aba4d=await this['getForeignObjectAsync'](_0x40b20d(0x10c));if(_0x3aba4d&&_0x3aba4d[_0x40b20d(0x2a9)]&&_0x3aba4d[_0x40b20d(0x2a9)]['uuid'])return _0x3aba4d[_0x40b20d(0x2a9)][_0x40b20d(0x110)];return _0x40b20d(0x240);}catch(_0x114127){return _0x40b20d(0x279);}}async['checkLicense'](_0x1232af){const _0x549477=a0_0x505df6;if(!_0x1232af)return![];this['systemUUID']=await this[_0x549477(0x239)]();if(_0x1232af===_0x549477(0x289)||_0x1232af[_0x549477(0x224)]('PRO-'))return!![];return![];}async[a0_0x505df6(0x2c1)](){const _0x2be03f=a0_0x505df6;await this['extendObjectAsync'](_0x2be03f(0x2f7),{'type':_0x2be03f(0x23c),'common':{'name':_0x2be03f(0x2f7)},'native':{}}),await this[_0x2be03f(0x2d1)](LTM_DP_RAW_LOG,{'type':'state','common':{'name':_0x2be03f(0x132),'type':'string','role':_0x2be03f(0x175),'read':!![],'write':![]},'native':{}}),await this[_0x2be03f(0x2d1)](LTM_DP_DAILY_DIGESTS,{'type':'state','common':{'name':'Daily\x20Digests','type':_0x2be03f(0x12f),'role':_0x2be03f(0x175),'read':!![],'write':![]},'native':{}}),await this[_0x2be03f(0x2d1)](LTM_DP_STATUS,{'type':_0x2be03f(0x2cf),'common':{'name':_0x2be03f(0x14d),'type':_0x2be03f(0x12f),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x2be03f(0x2d1)](LTM_DP_TRIGGER_DIGEST,{'type':'state','common':{'name':_0x2be03f(0x1c3),'type':_0x2be03f(0x1e5),'role':_0x2be03f(0x10f),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x2be03f(0x2d1)](LTM_DP_BASELINE_STATUS,{'type':'state','common':{'name':_0x2be03f(0x125),'type':'string','role':_0x2be03f(0x1be),'read':!![],'write':![]},'native':{}});}async[a0_0x505df6(0x2f5)](){const _0x24e4d7=a0_0x505df6;await this[_0x24e4d7(0x2d1)](LTM_DP_DRIFT_CHANNEL,{'type':_0x24e4d7(0x23c),'common':{'name':_0x24e4d7(0x1cb)},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_STATUS,{'type':_0x24e4d7(0x2cf),'common':{'name':_0x24e4d7(0x119),'type':'string','role':'state','read':!![],'write':![],'def':_0x24e4d7(0x258)},'native':{}}),await this[_0x24e4d7(0x2d1)](LTM_DP_DRIFT_DETAILS,{'type':'state','common':{'name':_0x24e4d7(0x22e),'type':_0x24e4d7(0x12f),'role':_0x24e4d7(0x1be),'read':!![],'write':![]},'native':{}}),await this[_0x24e4d7(0x2d1)](LTM_DP_DRIFT_LAST_CHECK,{'type':'state','common':{'name':_0x24e4d7(0x1d0),'type':_0x24e4d7(0x1f1),'role':_0x24e4d7(0x29a),'read':!![],'write':![]},'native':{}});}async[a0_0x505df6(0x136)](){const _0x330012=a0_0x505df6;await this[_0x330012(0x2d1)](_0x330012(0x13e),{'type':_0x330012(0x23c),'common':{'name':_0x330012(0x2d2)},'native':{}}),await this[_0x330012(0x2d1)](SYSTEM_DP_MODE,{'type':_0x330012(0x2cf),'common':{'name':_0x330012(0x1eb),'type':_0x330012(0x12f),'role':_0x330012(0x2cf),'read':!![],'write':!![],'def':SYSTEM_MODES['NORMAL'],'states':{[SYSTEM_MODES[_0x330012(0x2d9)]]:'Normal',[SYSTEM_MODES[_0x330012(0x135)]]:_0x330012(0x212),[SYSTEM_MODES['PARTY']]:_0x330012(0x2c0),[SYSTEM_MODES['GUEST']]:'Gast'}},'native':{}});}async[a0_0x505df6(0x211)](){const _0x54dae4=a0_0x505df6;try{await this[_0x54dae4(0x136)](),await this[_0x54dae4(0x223)](_0x54dae4(0x1cf),{'type':_0x54dae4(0x2cf),'common':{'name':'Presence\x20Status','type':'boolean','role':_0x54dae4(0x1a3),'read':!![],'write':![],'def':!![]},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x100),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x26c),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x255),{'type':'state','common':{'name':'Event\x20History','type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this[_0x54dae4(0x223)]('analysis.trigger',{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0xfe),'type':'boolean','role':_0x54dae4(0x10f),'read':!![],'write':!![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x54dae4(0x2a4),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x1e0),'type':_0x54dae4(0x1e5),'role':_0x54dae4(0x10f),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x249),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x190),'type':_0x54dae4(0x12f),'role':_0x54dae4(0x175),'read':!![],'write':![]},'native':{}}),await this[_0x54dae4(0x223)]('analysis.isAlert',{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x154),'type':_0x54dae4(0x1e5),'role':_0x54dae4(0x1a1),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x188),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x2ea),'type':'boolean','role':_0x54dae4(0x13a),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x2da),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x180),'type':'string','role':'text.alarm','read':!![],'write':![]},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x1d8),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x2e2),'type':_0x54dae4(0x12f),'role':_0x54dae4(0x1be),'read':!![],'write':![]},'native':{}}),await this[_0x54dae4(0x223)]('analysis.deviationFromBaseline',{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x139),'type':_0x54dae4(0x12f),'role':_0x54dae4(0x2cf),'read':!![],'write':![],'def':'N/A'},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x1b2),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x256),'type':_0x54dae4(0x12f),'role':_0x54dae4(0x1be),'read':!![],'write':![]},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x2f2),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x105),'type':_0x54dae4(0x12f),'role':_0x54dae4(0x1be),'read':!![],'write':![]},'native':{}}),await this[_0x54dae4(0x2d1)]('analysis.automation',{'type':_0x54dae4(0x23c),'common':{'name':_0x54dae4(0x1b3)},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x18d),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x12d),'type':_0x54dae4(0x1e5),'role':_0x54dae4(0x1a3),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x182),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x15b),'type':_0x54dae4(0x12f),'role':'text','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x54dae4(0x159),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x22f),'type':_0x54dae4(0x12f),'role':_0x54dae4(0x1be),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.analysisHistory',{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x23d),'type':_0x54dae4(0x12f),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x54dae4(0x223)]('analysis.feedbackHistory',{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x158),'type':'string','role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this['extendObjectAsync'](_0x54dae4(0x261),{'type':_0x54dae4(0x23c),'common':{'name':'Health\x20&\x20Sleep\x20Analysis'},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x108),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x16c),'type':_0x54dae4(0x1f1),'role':'value.health','read':!![],'write':![],'def':0x0},'native':{}}),await this['setObjectNotExistsAsync'](_0x54dae4(0x2bd),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x14f),'type':_0x54dae4(0x12f),'role':_0x54dae4(0x1be),'read':!![],'write':![],'def':_0x54dae4(0x1b4)},'native':{}}),await this[_0x54dae4(0x223)](_0x54dae4(0x296),{'type':_0x54dae4(0x2cf),'common':{'name':_0x54dae4(0x116),'type':'string','role':_0x54dae4(0x1be),'read':!![],'write':![],'def':''},'native':{}}),await this[_0x54dae4(0x2c1)](),await this[_0x54dae4(0x2f5)]();}catch(_0x5734d9){this[_0x54dae4(0x290)][_0x54dae4(0x2ad)](_0x54dae4(0x241)+_0x5734d9[_0x54dae4(0x122)]);}}async[a0_0x505df6(0x104)](){const _0x5599ea=a0_0x505df6;this['log']['info'](_0x5599ea(0x11e)+this[_0x5599ea(0x271)]+')');try{const _0xce6090=[_0x5599ea(0x2c9),_0x5599ea(0x107),_0x5599ea(0x266),'analysis.history_debug_03',_0x5599ea(0x1bb),_0x5599ea(0x263),_0x5599ea(0x12c),_0x5599ea(0x1a2),_0x5599ea(0x20a),_0x5599ea(0x1f3)];for(const _0x2780ac of _0xce6090){try{const _0x5a6b25=await this['getObjectAsync'](_0x2780ac);_0x5a6b25&&await this[_0x5599ea(0x1db)](_0x2780ac);}catch(_0x2a8e19){}}}catch(_0x431c6f){}this[_0x5599ea(0x134)][_0x5599ea(0x252)]=this[_0x5599ea(0x134)][_0x5599ea(0x252)]||'';try{this[_0x5599ea(0x201)]=await this['checkLicense'](this[_0x5599ea(0x134)][_0x5599ea(0x252)]);}catch(_0x3e18cf){this[_0x5599ea(0x290)]['error']('License\x20Check\x20failed:\x20'+_0x3e18cf[_0x5599ea(0x122)]);}if(!this[_0x5599ea(0x134)][_0x5599ea(0x237)]||this[_0x5599ea(0x134)][_0x5599ea(0x237)]<0.1)this['config']['inactivityThresholdHours']=0xc;try{await this[_0x5599ea(0x28f)]();}catch(_0x198756){this['log'][_0x5599ea(0x2ad)](_0x5599ea(0x2b5)+_0x198756['message']);}try{const _0x506892=await this[_0x5599ea(0x238)](_0x5599ea(0x1d9));_0x506892&&_0x506892[_0x5599ea(0x103)]&&(this[_0x5599ea(0x2b0)]={'latitude':_0x506892[_0x5599ea(0x103)][_0x5599ea(0x146)]||0x0,'longitude':_0x506892[_0x5599ea(0x103)][_0x5599ea(0x2ce)]||0x0,'city':_0x506892[_0x5599ea(0x103)][_0x5599ea(0x19d)]||''});}catch(_0x4138a1){}if(this[_0x5599ea(0x134)][_0x5599ea(0x118)])try{this[_0x5599ea(0x2bf)]=new GoogleGenerativeAI(this[_0x5599ea(0x134)][_0x5599ea(0x118)]),this[_0x5599ea(0x248)]=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5599ea(0x28a)}}),this[_0x5599ea(0x290)][_0x5599ea(0x23b)]('Gemini\x20AI\x20initialized.');}catch(_0x26ecf4){this[_0x5599ea(0x290)][_0x5599ea(0x2ad)](_0x5599ea(0x1a9)+_0x26ecf4[_0x5599ea(0x122)]);}try{await this[_0x5599ea(0x211)]();}catch(_0xac4398){this[_0x5599ea(0x290)]['error'](_0x5599ea(0x264)+_0xac4398[_0x5599ea(0x122)]);}try{await this[_0x5599ea(0x14b)]();}catch(_0x4602c3){this['log']['error'](_0x5599ea(0x196)+_0x4602c3['message']);}try{await this[_0x5599ea(0x1f5)]();}catch(_0x155a9d){this[_0x5599ea(0x290)]['error'](_0x5599ea(0x1a4)+_0x155a9d[_0x5599ea(0x122)]);}try{await this['loadDailyDigests']();}catch(_0x5d033a){this['log'][_0x5599ea(0x2ad)](_0x5599ea(0x187)+_0x5d033a['message']);}this[_0x5599ea(0x10d)]('analysis.trigger'),this[_0x5599ea(0x10d)](LTM_DP_TRIGGER_DIGEST),this[_0x5599ea(0x10d)](_0x5599ea(0x167)),this[_0x5599ea(0x10d)](_0x5599ea(0x2a4));const _0x1d46b8=this[_0x5599ea(0x134)][_0x5599ea(0x21d)];if(_0x1d46b8&&_0x1d46b8[_0x5599ea(0x268)]>0x0){this[_0x5599ea(0x290)][_0x5599ea(0x23b)](_0x5599ea(0x176)+_0x1d46b8['length']+_0x5599ea(0x299));for(const _0xe49d08 of _0x1d46b8){if(_0xe49d08['id']){await this['subscribeForeignStatesAsync'](_0xe49d08['id']);try{const _0x4840f7=await this[_0x5599ea(0x1e9)](_0xe49d08['id']);if(_0x4840f7)this['sensorLastValues'][_0xe49d08['id']]=_0x4840f7[_0x5599ea(0x1f7)];}catch(_0x4ef0a9){}}}}const _0x4e8e11=this['config'][_0x5599ea(0x27a)]||[];if(_0x4e8e11['length']>0x0){this[_0x5599ea(0x290)]['info'](_0x5599ea(0x176)+_0x4e8e11[_0x5599ea(0x268)]+_0x5599ea(0x1f2));for(const _0x38f2b2 of _0x4e8e11){await this[_0x5599ea(0x1ee)](_0x38f2b2);}try{await this[_0x5599ea(0x1ef)]();}catch(_0x2ce832){}}if(this[_0x5599ea(0x127)])clearInterval(this[_0x5599ea(0x127)]);const _0x1b312d=this[_0x5599ea(0x134)][_0x5599ea(0x20d)]||0xf;_0x1b312d>0x0&&(this[_0x5599ea(0x290)]['info']('Starting\x20Autopilot\x20('+_0x1b312d+_0x5599ea(0x1e6)+this[_0x5599ea(0x134)][_0x5599ea(0x237)]+'h.'),this[_0x5599ea(0x127)]=setInterval(()=>{const _0x4ab189=_0x5599ea;try{this[_0x4ab189(0x2f4)]();}catch(_0x3217da){this[_0x4ab189(0x290)][_0x4ab189(0x2ad)]('Autopilot\x20error:\x20'+_0x3217da[_0x4ab189(0x122)]);}},_0x1b312d*0x3c*0x3e8)),this[_0x5599ea(0x25c)](),this[_0x5599ea(0x1b8)](),this[_0x5599ea(0x16e)](),this['setupBriefingScheduler']();}async[a0_0x505df6(0x14b)](){const _0x1a954d=a0_0x505df6;try{const _0x22de53=await this[_0x1a954d(0x2d7)](SYSTEM_DP_MODE);_0x22de53&&_0x22de53[_0x1a954d(0x1f7)]&&Object[_0x1a954d(0x1dd)](SYSTEM_MODES)[_0x1a954d(0x208)](_0x22de53['val'])?this[_0x1a954d(0x21e)]=_0x22de53[_0x1a954d(0x1f7)]:(this[_0x1a954d(0x21e)]=SYSTEM_MODES[_0x1a954d(0x2d9)],await this[_0x1a954d(0x16a)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES['NORMAL'],'ack':!![]}));}catch(_0x48505a){this[_0x1a954d(0x21e)]=SYSTEM_MODES[_0x1a954d(0x2d9)];}}async[a0_0x505df6(0x1f5)](){const _0x2e7180=a0_0x505df6;try{const _0x1a4cf5=await this[_0x2e7180(0x2d7)](LTM_DP_RAW_LOG);if(_0x1a4cf5&&_0x1a4cf5['val'])this[_0x2e7180(0x254)]=JSON[_0x2e7180(0x19c)](_0x1a4cf5[_0x2e7180(0x1f7)]);}catch(_0x33ce7e){this[_0x2e7180(0x254)]=[];}}async['loadDailyDigests'](){const _0x51cca6=a0_0x505df6;try{const _0x40c47e=await this[_0x51cca6(0x2d7)](LTM_DP_DAILY_DIGESTS);if(_0x40c47e&&_0x40c47e[_0x51cca6(0x1f7)])this[_0x51cca6(0x262)]=JSON[_0x51cca6(0x19c)](_0x40c47e[_0x51cca6(0x1f7)]);}catch(_0x4c31a2){this[_0x51cca6(0x262)]=[];}await this[_0x51cca6(0x236)]();}async[a0_0x505df6(0x236)](){const _0x2241c2=a0_0x505df6;if(!this[_0x2241c2(0x201)]){await this[_0x2241c2(0x16a)](LTM_DP_BASELINE_STATUS,{'val':'Deaktiviert\x20(Pro-Feature)','ack':!![]});return;}const _0x11da81=this[_0x2241c2(0x262)][_0x2241c2(0x268)]>=(this[_0x2241c2(0x134)][_0x2241c2(0x2e0)]||0x7)?_0x2241c2(0x265)+this[_0x2241c2(0x262)][_0x2241c2(0x268)]+'\x20Tage)':_0x2241c2(0x1c1)+this[_0x2241c2(0x262)][_0x2241c2(0x268)]+'/'+(this[_0x2241c2(0x134)][_0x2241c2(0x2e0)]||0x7)+')';await this[_0x2241c2(0x16a)](LTM_DP_BASELINE_STATUS,{'val':_0x11da81,'ack':!![]});}async[a0_0x505df6(0x1ef)](){const _0x2634ce=a0_0x505df6;try{const _0x1f16f2=this['config'][_0x2634ce(0x27a)]||[];let _0x2c9eea=![];for(const _0x5cb1fe of _0x1f16f2){try{const _0x1c9add=await this['getForeignStateAsync'](_0x5cb1fe);if(_0x1c9add&&(_0x1c9add[_0x2634ce(0x1f7)]===!![]||_0x1c9add[_0x2634ce(0x1f7)]===_0x2634ce(0x2cb)||_0x1c9add[_0x2634ce(0x1f7)]===0x1)){_0x2c9eea=!![];break;}}catch(_0x99ace2){}}return _0x2c9eea&&(this[_0x2634ce(0x194)]&&(this[_0x2634ce(0x290)][_0x2634ce(0x23b)]('WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.'),this[_0x2634ce(0x269)]()),!this[_0x2634ce(0x231)]&&this[_0x2634ce(0x21e)]===SYSTEM_MODES[_0x2634ce(0x2d9)]&&this[_0x2634ce(0x198)](!![])),_0x2c9eea;}catch(_0x1ea2bd){return this[_0x2634ce(0x290)]['error']('Error\x20checking\x20WiFi:\x20'+_0x1ea2bd[_0x2634ce(0x122)]),![];}}[a0_0x505df6(0x25c)](){const _0x2e7f42=a0_0x505df6;try{if(this[_0x2e7f42(0x2e4)])this[_0x2e7f42(0x2e4)][_0x2e7f42(0x161)]();if(!this['isProVersion']){this[_0x2e7f42(0x16a)](LTM_DP_STATUS,{'val':_0x2e7f42(0x151),'ack':!![]});return;}this[_0x2e7f42(0x2e4)]=schedule[_0x2e7f42(0x18a)](LTM_SCHEDULE,()=>this[_0x2e7f42(0x112)]());}catch(_0x1b774f){this[_0x2e7f42(0x290)][_0x2e7f42(0x2ad)](_0x2e7f42(0x27e)+_0x1b774f[_0x2e7f42(0x122)]);}}[a0_0x505df6(0x1b8)](){const _0x4287c1=a0_0x505df6;try{if(this[_0x4287c1(0x1f0)])this[_0x4287c1(0x1f0)][_0x4287c1(0x161)]();this['modeResetJob']=schedule[_0x4287c1(0x18a)](MODE_RESET_SCHEDULE,async()=>{const _0x4c142e=_0x4287c1;await this['loadSystemMode'](),AUTO_RESET_MODES[_0x4c142e(0x208)](this[_0x4c142e(0x21e)])&&await this['setStateAsync'](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x4c142e(0x2d9)],'ack':![]});});}catch(_0x4d856a){this['log']['error'](_0x4287c1(0x2a7)+_0x4d856a[_0x4287c1(0x122)]);}}[a0_0x505df6(0x16e)](){const _0x485056=a0_0x505df6;try{if(this[_0x485056(0x29b)])clearInterval(this[_0x485056(0x29b)]);if(!this['isProVersion'])return;this[_0x485056(0x29b)]=setInterval(()=>this[_0x485056(0x1fe)](),(this[_0x485056(0x134)][_0x485056(0x19a)]||0x18)*0x36ee80),setTimeout(()=>this['runBaselineDriftAnalysis'](),0x1388);}catch(_0x742f4e){this[_0x485056(0x290)][_0x485056(0x2ad)](_0x485056(0x25d)+_0x742f4e[_0x485056(0x122)]);}}['setupBriefingScheduler'](){const _0x29fcbe=a0_0x505df6;try{if(this[_0x29fcbe(0x1af)])this['briefingJob'][_0x29fcbe(0x161)]();if(!this[_0x29fcbe(0x134)][_0x29fcbe(0x11b)])return;const _0x2409f8=(this[_0x29fcbe(0x134)][_0x29fcbe(0x2dd)]||_0x29fcbe(0x13c))['split'](':'),_0x467376=parseInt(_0x2409f8[0x0])||0x8,_0xe6a76d=parseInt(_0x2409f8[0x1])||0x0,_0xb33cbe=_0xe6a76d+'\x20'+_0x467376+_0x29fcbe(0x27c);this['log'][_0x29fcbe(0x23b)]('Scheduling\x20Morning\x20Briefing\x20for\x20'+_0x467376+':'+(_0xe6a76d<0xa?'0'+_0xe6a76d:_0xe6a76d)),this[_0x29fcbe(0x1af)]=schedule[_0x29fcbe(0x18a)](_0xb33cbe,()=>{const _0x322642=_0x29fcbe;this[_0x322642(0x228)]();});}catch(_0x58c3fd){this[_0x29fcbe(0x290)][_0x29fcbe(0x2ad)](_0x29fcbe(0x2c3)+_0x58c3fd[_0x29fcbe(0x122)]);}}async[a0_0x505df6(0x1fe)](){const _0x5b9405=a0_0x505df6;if(!this[_0x5b9405(0x201)]||!this[_0x5b9405(0x248)])return;const _0x5df708=this[_0x5b9405(0x134)][_0x5b9405(0x2a0)]||0xe;if(this[_0x5b9405(0x262)]['length']<_0x5df708+(this['config'][_0x5b9405(0x2e0)]||0x7)){await this[_0x5b9405(0x16a)](LTM_DP_DRIFT_STATUS,{'val':_0x5b9405(0x25e),'ack':!![]});return;}const _0x11745b=this[_0x5b9405(0x262)][_0x5b9405(0x225)](-_0x5df708),_0x3946b9=this[_0x5b9405(0x262)][_0x5b9405(0x225)](0x0,this[_0x5b9405(0x262)][_0x5b9405(0x268)]-_0x5df708),_0x34afe0='ROLLE:\x20Data\x20Scientist.\x20VERGLEICHE:\x20Dataset\x20A\x20(Recent)\x20vs\x20B\x20(Established).\x20ZIEL:\x20Erkenne\x20Drift.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aB\x20(LTB):\x0a'+JSON[_0x5b9405(0x2d3)](_0x3946b9)+_0x5b9405(0x1cc)+JSON[_0x5b9405(0x2d3)](_0x11745b);try{const _0x4d65e0=await this[_0x5b9405(0x248)][_0x5b9405(0x13b)](_0x34afe0),_0x4db1e7=JSON[_0x5b9405(0x19c)](_0x4d65e0['response']['text']()[_0x5b9405(0x2b1)](/```json|```/g,'')[_0x5b9405(0x13f)]());_0x4db1e7[_0x5b9405(0x12e)]&&(await this[_0x5b9405(0x16a)](LTM_DP_DRIFT_STATUS,{'val':_0x4db1e7['baselineDrift'],'ack':!![]}),await this[_0x5b9405(0x16a)](LTM_DP_DRIFT_DETAILS,{'val':_0x4db1e7[_0x5b9405(0x2b6)],'ack':!![]}),await this['setStateAsync'](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x5b9405(0x2eb)](),'ack':!![]}));}catch(_0x394d42){}}async[a0_0x505df6(0x14e)](){const _0x25990c=a0_0x505df6;this[_0x25990c(0x254)]['length']>RAW_LOG_MAX_SIZE&&this['rawEventLog'][_0x25990c(0x1e1)](0x0,this[_0x25990c(0x254)][_0x25990c(0x268)]-RAW_LOG_MAX_SIZE),await this[_0x25990c(0x16a)](LTM_DP_RAW_LOG,{'val':JSON[_0x25990c(0x2d3)](this[_0x25990c(0x254)]),'ack':!![]});}async[a0_0x505df6(0x2e6)](_0x1da8b9=!![]){const _0x4d070e=a0_0x505df6,_0x5a16dd=this[_0x4d070e(0x134)][_0x4d070e(0x21a)]||0x3c;this[_0x4d070e(0x262)][_0x4d070e(0x268)]>_0x5a16dd&&this[_0x4d070e(0x262)][_0x4d070e(0x1e1)](0x0,this[_0x4d070e(0x262)][_0x4d070e(0x268)]-_0x5a16dd);await this[_0x4d070e(0x16a)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4d070e(0x2d3)](this[_0x4d070e(0x262)]),'ack':!![]});if(_0x1da8b9)await this[_0x4d070e(0x236)]();}async['updateAnalysisHistory'](_0x20a11a){const _0x4f4bb3=a0_0x505df6;this['analysisHistory'][_0x4f4bb3(0x17b)](_0x20a11a);if(this[_0x4f4bb3(0x1c6)][_0x4f4bb3(0x268)]>ANALYSIS_HISTORY_MAX_SIZE)this[_0x4f4bb3(0x1c6)][_0x4f4bb3(0x1ac)]();await this['setStateAsync'](_0x4f4bb3(0x149),{'val':JSON[_0x4f4bb3(0x2d3)](this[_0x4f4bb3(0x1c6)]),'ack':!![]});}async[a0_0x505df6(0xff)](){const _0x749bac=a0_0x505df6;await this['setStateAsync'](_0x749bac(0x1d8),{'val':_0x749bac(0x14c),'ack':!![]}),await this[_0x749bac(0x16a)](_0x749bac(0x233),{'val':this[_0x749bac(0x201)]?'N/A\x20(No\x20Activity)':'N/A\x20(Pro\x20Feature)','ack':!![]}),await this[_0x749bac(0x16a)](_0x749bac(0x153),{'val':![],'ack':!![]}),await this[_0x749bac(0x16a)](_0x749bac(0x188),{'val':![],'ack':!![]}),this[_0x749bac(0x2dc)]=![];}async['onMessage'](_0x393c86){const _0x44f97f=a0_0x505df6;if(typeof _0x393c86===_0x44f97f(0x272)&&_0x393c86[_0x44f97f(0x122)])try{if(_0x393c86['command']===_0x44f97f(0x2af)){if(!_0x393c86[_0x44f97f(0x122)][_0x44f97f(0x162)])return this['sendTo'](_0x393c86[_0x44f97f(0x1ec)],_0x393c86[_0x44f97f(0x1d3)],{'success':![],'message':_0x44f97f(0x15d)},_0x393c86['callback']);try{const _0x1ca1e9=new GoogleGenerativeAI(_0x393c86[_0x44f97f(0x122)][_0x44f97f(0x162)])['getGenerativeModel']({'model':'models/gemini-flash-latest'});await _0x1ca1e9['generateContent'](_0x44f97f(0x1a5)),this[_0x44f97f(0x250)](_0x393c86[_0x44f97f(0x1ec)],_0x393c86['command'],{'success':!![],'message':_0x44f97f(0x142)},_0x393c86[_0x44f97f(0x2d8)]);}catch(_0x1c8be8){this[_0x44f97f(0x250)](_0x393c86[_0x44f97f(0x1ec)],_0x393c86[_0x44f97f(0x1d3)],{'success':![],'message':_0x1c8be8[_0x44f97f(0x122)]},_0x393c86[_0x44f97f(0x2d8)]);}}else{if(_0x393c86['command']===_0x44f97f(0x1df)){const _0x1cf65b=await this[_0x44f97f(0x2c7)](_0x44f97f(0x174),!![]);this[_0x44f97f(0x250)](_0x393c86[_0x44f97f(0x1ec)],_0x393c86[_0x44f97f(0x1d3)],{'success':_0x1cf65b>0x0,'message':_0x1cf65b+_0x44f97f(0x200)},_0x393c86[_0x44f97f(0x2d8)]);}else{if(_0x393c86[_0x44f97f(0x1d3)]===_0x44f97f(0x2c8)){if(!this[_0x44f97f(0x201)])return this[_0x44f97f(0x250)](_0x393c86['from'],_0x393c86[_0x44f97f(0x1d3)],{'success':![],'isPro':![]},_0x393c86[_0x44f97f(0x2d8)]);let _0x127ebb={'status':_0x44f97f(0x258),'details':'','lastCheck':0x0};try{_0x127ebb['status']=(await this[_0x44f97f(0x2d7)](LTM_DP_DRIFT_STATUS))[_0x44f97f(0x1f7)],_0x127ebb[_0x44f97f(0x2be)]=(await this[_0x44f97f(0x2d7)](LTM_DP_DRIFT_DETAILS))['val'],_0x127ebb[_0x44f97f(0x195)]=(await this[_0x44f97f(0x2d7)](LTM_DP_DRIFT_LAST_CHECK))[_0x44f97f(0x1f7)];}catch(_0x69a902){}this[_0x44f97f(0x250)](_0x393c86[_0x44f97f(0x1ec)],_0x393c86[_0x44f97f(0x1d3)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x44f97f(0x262)],'driftAnalysis':_0x127ebb,'analysisHistory':this[_0x44f97f(0x1c6)]},_0x393c86['callback']);}else{if(_0x393c86[_0x44f97f(0x1d3)]===_0x44f97f(0x131)){const _0x1bb28a=await this[_0x44f97f(0x178)](_0x44f97f(0x1d7),_0x44f97f(0x126)),_0xbeea11=[];if(_0x1bb28a)for(const _0x59eba7 in _0x1bb28a){const _0x4ca052=_0x1bb28a[_0x59eba7],_0x572ab3=(_0x4ca052['common']&&typeof _0x4ca052[_0x44f97f(0x103)]['name']===_0x44f97f(0x272)?_0x4ca052[_0x44f97f(0x103)][_0x44f97f(0x114)]['de']:_0x4ca052['common'][_0x44f97f(0x114)])||_0x4ca052[_0x44f97f(0x103)][_0x44f97f(0x114)];_0xbeea11['push']({'id':_0x59eba7,'name':_0x572ab3});}this['sendTo'](_0x393c86[_0x44f97f(0x1ec)],_0x393c86['command'],{'success':!![],'enums':_0xbeea11},_0x393c86[_0x44f97f(0x2d8)]);}else{if(_0x393c86[_0x44f97f(0x1d3)]===_0x44f97f(0x28e))try{const _0x44fa43=await this[_0x44f97f(0x15e)](_0x393c86[_0x44f97f(0x122)]||{});this[_0x44f97f(0x250)](_0x393c86[_0x44f97f(0x1ec)],_0x393c86['command'],{'success':!![],'devices':_0x44fa43},_0x393c86['callback']);}catch(_0x2eb493){this['sendTo'](_0x393c86[_0x44f97f(0x1ec)],_0x393c86[_0x44f97f(0x1d3)],{'success':![],'error':_0x2eb493[_0x44f97f(0x122)]},_0x393c86[_0x44f97f(0x2d8)]);}else{if(_0x393c86[_0x44f97f(0x1d3)]===_0x44f97f(0x2bb)){const {historyId:_0x274f3e,rating:_0x4bf374,comment:_0x48300c,alertReason:_0x5c5932}=_0x393c86['message'];_0x274f3e&&_0x4bf374?(await this['saveFeedback']({'timestamp':Date[_0x44f97f(0x2eb)](),'historyId':_0x274f3e,'rating':_0x4bf374,'comment':_0x48300c,'alertReason':_0x5c5932}),this[_0x44f97f(0x250)](_0x393c86['from'],_0x393c86['command'],{'success':!![]},_0x393c86[_0x44f97f(0x2d8)])):this[_0x44f97f(0x250)](_0x393c86['from'],_0x393c86[_0x44f97f(0x1d3)],{'success':![],'error':_0x44f97f(0x2b3)},_0x393c86[_0x44f97f(0x2d8)]);}else{if(_0x393c86[_0x44f97f(0x1d3)]===_0x44f97f(0x297)){this[_0x44f97f(0x290)][_0x44f97f(0x23b)](_0x44f97f(0x2e5));const _0x467d03=await this[_0x44f97f(0x22b)](),_0xf867e9=await this[_0x44f97f(0x123)]();this[_0x44f97f(0x250)](_0x393c86[_0x44f97f(0x1ec)],_0x393c86['command'],{'success':!![],'weather':_0x467d03,'calendar':_0xf867e9},_0x393c86[_0x44f97f(0x2d8)]);}}}}}}}}catch(_0x245e44){this['log'][_0x44f97f(0x2ad)](_0x44f97f(0x12a)+_0x393c86[_0x44f97f(0x1d3)]+':\x20'+_0x245e44[_0x44f97f(0x122)]);if(_0x393c86['callback'])this[_0x44f97f(0x250)](_0x393c86[_0x44f97f(0x1ec)],_0x393c86[_0x44f97f(0x1d3)],{'success':![],'error':_0x245e44[_0x44f97f(0x122)]},_0x393c86[_0x44f97f(0x2d8)]);}}async[a0_0x505df6(0x15e)](_0xc35acf={}){const _0x27349f=a0_0x505df6;this['log'][_0x27349f(0x23b)]('Starting\x20Smart\x20Scan\x20with\x20filters:\x20'+JSON[_0x27349f(0x2d3)](_0xc35acf));const _0x16d9eb=[],_0x52f786=_0xc35acf[_0x27349f(0x257)]!==![],_0x146fbb=_0xc35acf['doors']!==![],_0x52a137=_0xc35acf['lights']!==![],_0x47a746=_0xc35acf[_0x27349f(0x287)]===!![],_0x183397=_0xc35acf[_0x27349f(0x165)]===!![],_0x292d0b=_0xc35acf['selectedFunctionIds']||[],_0x4b4b12=await this['getForeignObjectsAsync'](_0x27349f(0x2f1),_0x27349f(0x126)),_0x3593b4=await this['getForeignObjectsAsync'](_0x27349f(0x1d7),_0x27349f(0x126)),_0x3f05fc={},_0x4e683b={},_0x1077fe={},_0x47571c=(_0x45418a,_0x3edf5c,_0x317666=![])=>{const _0x2eff53=_0x27349f;if(!_0x45418a)return;for(const _0x12c138 in _0x45418a){const _0x5c4e0e=_0x45418a[_0x12c138];if(_0x5c4e0e&&_0x5c4e0e['common']&&_0x5c4e0e['common'][_0x2eff53(0x209)]){const _0x3ccab8=(typeof _0x5c4e0e['common'][_0x2eff53(0x114)]==='object'?_0x5c4e0e[_0x2eff53(0x103)][_0x2eff53(0x114)]['de']:_0x5c4e0e['common']['name'])||_0x5c4e0e[_0x2eff53(0x103)][_0x2eff53(0x114)];if(_0x317666)_0x1077fe[_0x12c138]=_0x3ccab8;for(const _0x5edd4a of _0x5c4e0e[_0x2eff53(0x103)][_0x2eff53(0x209)]){if(_0x317666){if(!_0x3edf5c[_0x5edd4a])_0x3edf5c[_0x5edd4a]=[];_0x3edf5c[_0x5edd4a]['push'](_0x12c138);}else _0x3edf5c[_0x5edd4a]=_0x3ccab8;}}}};_0x47571c(_0x4b4b12,_0x3f05fc),_0x47571c(_0x3593b4,_0x4e683b,!![]);const _0x290274=await this[_0x27349f(0x178)]('*',_0x27349f(0x2cf)),_0x15faee=[_0x27349f(0x1d2),_0x27349f(0x173),_0x27349f(0x1b7),_0x27349f(0x1b0),'FAULT','SABOTAGE',_0x27349f(0x145),_0x27349f(0x1b6),_0x27349f(0x27b),_0x27349f(0x15f),_0x27349f(0x25f),_0x27349f(0x21c),_0x27349f(0x1bc),_0x27349f(0x244),'INSTALL_TEST','COMBINED_PARAMETER',_0x27349f(0x106),_0x27349f(0x192),_0x27349f(0x20f),'ERROR_CODE',_0x27349f(0x220),_0x27349f(0x260),_0x27349f(0x202),_0x27349f(0x138),'link_quality',_0x27349f(0x199),_0x27349f(0x197),'firmware',_0x27349f(0x271),'connection',_0x27349f(0x23b),_0x27349f(0x232),_0x27349f(0x205),_0x27349f(0x19e),_0x27349f(0x226),'alert','mode',_0x27349f(0x2c2),'effect','xy','ct',_0x27349f(0x2fc),'sat','productname','manufacturer',_0x27349f(0x19f),_0x27349f(0x26d),_0x27349f(0x1d3),_0x27349f(0x1ae),_0x27349f(0x16b),_0x27349f(0x1d6),_0x27349f(0x22d),_0x27349f(0x150),_0x27349f(0x217),'javascript.0.script',_0x27349f(0x1f4),_0x27349f(0x275),_0x27349f(0x179),'history',_0x27349f(0x1ff),_0x27349f(0x23b),_0x27349f(0x175)];if(!_0x183397)_0x15faee[_0x27349f(0x102)](_0x27349f(0x276),_0x27349f(0x165),_0x27349f(0x293),'pressure','uv','rain',_0x27349f(0x20b));const _0x49f206=[_0x27349f(0x1f9),_0x27349f(0x295),_0x27349f(0x189),_0x27349f(0x160),'history.',_0x27349f(0x143),_0x27349f(0x1a6),_0x27349f(0x144)];if(!_0x183397)_0x49f206[_0x27349f(0x102)](_0x27349f(0x29d),_0x27349f(0x2cd),_0x27349f(0x1c5),_0x27349f(0x27f),_0x27349f(0x1f8));const _0x1922f5=(_0x1346c7,_0x55b6d8,_0x116f9e=![])=>{const _0x37491e=_0x27349f,_0x496138=_0x1346c7[_0x37491e(0x17a)]('.');if(_0x55b6d8[_0x1346c7])return _0x55b6d8[_0x1346c7];if(_0x496138[_0x37491e(0x268)]>0x2&&_0x55b6d8[_0x496138[_0x37491e(0x225)](0x0,-0x1)[_0x37491e(0x278)]('.')])return _0x55b6d8[_0x496138[_0x37491e(0x225)](0x0,-0x1)[_0x37491e(0x278)]('.')];if(_0x496138[_0x37491e(0x268)]>0x3&&_0x55b6d8[_0x496138['slice'](0x0,-0x2)[_0x37491e(0x278)]('.')])return _0x55b6d8[_0x496138[_0x37491e(0x225)](0x0,-0x2)['join']('.')];return _0x116f9e?[]:null;};for(const _0xdb07ea in _0x290274){const _0x2dbdd8=_0x290274[_0xdb07ea];if(!_0x2dbdd8||!_0x2dbdd8[_0x27349f(0x103)])continue;if(_0x49f206[_0x27349f(0x2f8)](_0x3ec70b=>_0xdb07ea[_0x27349f(0x224)](_0x3ec70b)))continue;const _0x5c4551=_0x2dbdd8['common']['role']||'',_0x24a3d0=(_0x2dbdd8[_0x27349f(0x103)][_0x27349f(0x114)]&&typeof _0x2dbdd8['common']['name']===_0x27349f(0x272)?_0x2dbdd8[_0x27349f(0x103)][_0x27349f(0x114)]['de']:_0x2dbdd8[_0x27349f(0x103)]['name'])||'',_0x2b886e=_0x24a3d0?_0x24a3d0[_0x27349f(0x16d)]():'',_0x389afe=_0xdb07ea[_0x27349f(0x16d)](),_0x38a899=_0x1922f5(_0xdb07ea,_0x3f05fc),_0x3ae46c=_0x1922f5(_0xdb07ea,_0x4e683b,!![]);let _0x5ec592=null,_0x328049=![];if(_0x3ae46c&&_0x3ae46c[_0x27349f(0x268)]>0x0){const _0x594186=_0x3ae46c[_0x27349f(0x24a)](_0x11130a=>_0x292d0b[_0x27349f(0x208)](_0x11130a));if(_0x594186){_0x328049=!![];const _0x18fd35=_0x1077fe[_0x594186];if(_0x389afe[_0x27349f(0x208)](_0x27349f(0x169))||_0x389afe['includes'](_0x27349f(0x257)))_0x5ec592=_0x27349f(0x191);else{if(_0x389afe[_0x27349f(0x208)](_0x27349f(0x2ff))||_0x389afe['includes'](_0x27349f(0x288))||_0x2b886e[_0x27349f(0x208)]('rauch'))_0x5ec592=_0x27349f(0x140);else{if(_0x389afe['includes']('state')||_0x389afe[_0x27349f(0x208)](_0x27349f(0x281))||_0x389afe['includes']('on'))_0x5ec592='Schalter/Licht';else _0x5ec592=_0x18fd35;}}}}if(!_0x328049&&!_0x183397){if(_0x15faee[_0x27349f(0x2f8)](_0x46575=>_0x2b886e[_0x27349f(0x208)](_0x46575)||_0xdb07ea[_0x27349f(0x24b)]()[_0x27349f(0x208)](_0x46575)))continue;}if(!_0x5ec592&&_0x52f786){if(_0x5c4551[_0x27349f(0x208)](_0x27349f(0x286))||_0x5c4551[_0x27349f(0x208)](_0x27349f(0x247))||_0x2b886e[_0x27349f(0x208)](_0x27349f(0x18f))||_0x2b886e[_0x27349f(0x208)](_0x27349f(0x121)))_0x5ec592=_0x27349f(0x191);}!_0x5ec592&&_0x146fbb&&((_0x389afe['includes']('shutter_contact')||_0x5c4551[_0x27349f(0x208)](_0x27349f(0x109))||_0x5c4551[_0x27349f(0x208)](_0x27349f(0x2d4))||(_0x2b886e['includes'](_0x27349f(0x120))||_0x2b886e['includes'](_0x27349f(0x259)))&&!_0x2b886e[_0x27349f(0x208)](_0x27349f(0x170))&&!_0x2b886e[_0x27349f(0x208)](_0x27349f(0x186))&&(_0x2dbdd8[_0x27349f(0x103)]['type']===_0x27349f(0x1e5)||_0x2dbdd8[_0x27349f(0x103)][_0x27349f(0x24d)]===_0x27349f(0x1f1)))&&(_0x5ec592=_0x27349f(0x2e7)));if(!_0x5ec592&&_0x52a137){if((_0x5c4551[_0x27349f(0x208)](_0x27349f(0x26b))||_0x5c4551[_0x27349f(0x208)]('level.dimmer')||_0x2b886e[_0x27349f(0x208)](_0x27349f(0x1c0))||_0x2b886e[_0x27349f(0x208)](_0x27349f(0x163)))&&_0x2dbdd8[_0x27349f(0x103)][_0x27349f(0x15c)])_0x5ec592=_0x27349f(0x11a);}if(!_0x5ec592&&_0x47a746){if(_0x5c4551['includes'](_0x27349f(0x185))||_0x5c4551[_0x27349f(0x208)](_0x27349f(0x2ca))||_0x2b886e[_0x27349f(0x208)](_0x27349f(0x277)))_0x5ec592=_0x27349f(0x243);}if(_0x5ec592){let _0x3dc678=_0x38a899||'';if(!_0x3dc678){if(_0x2b886e[_0x27349f(0x208)](_0x27349f(0x10b)))_0x3dc678=_0x27349f(0x2a8);else{if(_0x2b886e[_0x27349f(0x208)](_0x27349f(0x2ab)))_0x3dc678='KÃ¼che';else{if(_0x2b886e['includes'](_0x27349f(0x1e7)))_0x3dc678=_0x27349f(0x10a);else{if(_0x2b886e['includes'](_0x27349f(0x1fc)))_0x3dc678=_0x27349f(0x1de);else{if(_0x2b886e[_0x27349f(0x208)](_0x27349f(0x2fb))||_0x2b886e[_0x27349f(0x208)]('diele'))_0x3dc678=_0x27349f(0x1b1);else{if(_0x2b886e[_0x27349f(0x208)](_0x27349f(0x1d1)))_0x3dc678='Garten';}}}}}}let _0x278dfb=![];_0x5ec592===_0x27349f(0x2e7)&&((_0x2b886e[_0x27349f(0x208)](_0x27349f(0x11d))||_0x2b886e['includes'](_0x27349f(0x2f0))||_0x2b886e['includes'](_0x27349f(0x147))||_0x3dc678&&_0x3dc678[_0x27349f(0x16d)]()[_0x27349f(0x208)](_0x27349f(0x2fb))&&_0x2b886e[_0x27349f(0x208)](_0x27349f(0x259)))&&(_0x278dfb=!![]));let _0x109df7=0x0;if(_0x328049)_0x109df7+=0x1e;else{if(_0x38a899)_0x109df7+=0x14;else{if(_0x3dc678)_0x109df7+=0xa;}}if(_0x278dfb)_0x109df7+=0x5;_0x16d9eb['push']({'id':_0xdb07ea,'name':_0x24a3d0||_0xdb07ea,'type':_0x5ec592,'location':_0x3dc678,'logDuplicates':_0x5ec592===_0x27349f(0x191),'isExit':_0x278dfb,'_score':_0x109df7});}}return _0x16d9eb[_0x27349f(0x213)]((_0x24ae89,_0x44fa4b)=>_0x44fa4b[_0x27349f(0x1fd)]-_0x24ae89[_0x27349f(0x1fd)]),_0x16d9eb;}async['onStateChange'](_0x1d8920,_0x3e5490){const _0x32e288=a0_0x505df6;if(!_0x3e5490)return;if(_0x1d8920===this['namespace']+'.'+SYSTEM_DP_MODE){_0x3e5490[_0x32e288(0x1f7)]&&Object['values'](SYSTEM_MODES)['includes'](_0x3e5490[_0x32e288(0x1f7)])&&(this['currentSystemMode']=_0x3e5490[_0x32e288(0x1f7)],_0x3e5490[_0x32e288(0x1f7)]===SYSTEM_MODES['VACATION']?this['setPresence'](![]):this[_0x32e288(0x198)](!![]));if(!_0x3e5490[_0x32e288(0x230)])this['setState'](_0x1d8920,{'val':this[_0x32e288(0x21e)],'ack':!![]});return;}if(!_0x3e5490[_0x32e288(0x230)]){_0x1d8920[_0x32e288(0x208)](_0x32e288(0x2b8))&&_0x3e5490[_0x32e288(0x1f7)]&&(this[_0x32e288(0x1ca)](_0x1d8920,{'val':![],'ack':!![]}),this[_0x32e288(0x168)]());if(_0x1d8920[_0x32e288(0x208)]('triggerDailyDigest')&&_0x3e5490['val']){this[_0x32e288(0x1ca)](_0x1d8920,{'val':![],'ack':!![]});if(this[_0x32e288(0x201)])this['createDailyDigest']();}_0x1d8920[_0x32e288(0x208)]('triggerBriefing')&&_0x3e5490[_0x32e288(0x1f7)]&&(this[_0x32e288(0x1ca)](_0x1d8920,{'val':![],'ack':!![]}),this[_0x32e288(0x228)]());return;}if(this[_0x32e288(0x134)][_0x32e288(0x27a)]&&this[_0x32e288(0x134)][_0x32e288(0x27a)][_0x32e288(0x208)](_0x1d8920)){await this[_0x32e288(0x1ef)]();return;}const _0xd733dd=(this[_0x32e288(0x134)][_0x32e288(0x21d)]||[])[_0x32e288(0x24a)](_0x568f3a=>_0x568f3a['id']===_0x1d8920);if(_0xd733dd)this['processSensorEvent'](_0x1d8920,_0x3e5490,_0xd733dd);}async[a0_0x505df6(0x18e)](_0x18b105,_0x3c4747,_0x4c8918){const _0x4e3463=a0_0x505df6;if(!_0x4c8918['logDuplicates']&&this[_0x4e3463(0x1d5)][_0x18b105]===_0x3c4747[_0x4e3463(0x1f7)])return;this[_0x4e3463(0x1d5)][_0x18b105]=_0x3c4747[_0x4e3463(0x1f7)];if(this[_0x4e3463(0x18c)])return;const _0x1a2e73=await this['checkWifiPresence']();if(_0x1a2e73){if(!this[_0x4e3463(0x231)])this[_0x4e3463(0x198)](!![]);}else{const _0x42aebc=_0x4c8918[_0x4e3463(0x215)]===!![];_0x42aebc?this[_0x4e3463(0x21b)]():(this['exitTimer']&&(this[_0x4e3463(0x290)][_0x4e3463(0x23b)](_0x4e3463(0x193)),this[_0x4e3463(0x269)]()),!this[_0x4e3463(0x231)]&&this[_0x4e3463(0x21e)]===SYSTEM_MODES[_0x4e3463(0x2d9)]&&this['setPresence'](!![]));}const _0x596d2c={'timestamp':_0x3c4747['ts'],'id':_0x18b105,'name':_0x4c8918['name'],'value':_0x3c4747[_0x4e3463(0x1f7)],'location':_0x4c8918['location'],'type':_0x4c8918[_0x4e3463(0x24d)]};this[_0x4e3463(0x1a7)][_0x4e3463(0x17b)](_0x596d2c);if(this['eventHistory']['length']>HISTORY_MAX_SIZE)this[_0x4e3463(0x1a7)]['pop']();await this[_0x4e3463(0x16a)](_0x4e3463(0x100),{'val':JSON[_0x4e3463(0x2d3)](_0x596d2c),'ack':!![]}),await this[_0x4e3463(0x16a)](_0x4e3463(0x255),{'val':JSON['stringify'](this['eventHistory']),'ack':!![]}),this[_0x4e3463(0x254)][_0x4e3463(0x102)]({'timestamp':new Date(_0x3c4747['ts'])[_0x4e3463(0x17c)](),'sensorName':_0x4c8918[_0x4e3463(0x114)],'location':_0x4c8918[_0x4e3463(0x2ef)],'value':_0x3c4747['val']}),await this[_0x4e3463(0x14e)]();}['startExitTimer'](){const _0x5810f1=a0_0x505df6;this[_0x5810f1(0x269)](),this[_0x5810f1(0x18c)]=!![],this[_0x5810f1(0x267)]=setTimeout(()=>{const _0x41a343=_0x5810f1;this[_0x41a343(0x18c)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this['exitTimer']=setTimeout(()=>{const _0xd5ff2=_0x5810f1;this[_0xd5ff2(0x198)](![]),this[_0xd5ff2(0x194)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}['abortExitTimer'](){const _0x2d1a10=a0_0x505df6;if(this[_0x2d1a10(0x194)])clearTimeout(this[_0x2d1a10(0x194)]);if(this['exitGraceTimer'])clearTimeout(this[_0x2d1a10(0x267)]);this[_0x2d1a10(0x194)]=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![];}async[a0_0x505df6(0x198)](_0x369ee2){const _0x3ceb8c=a0_0x505df6;if(this[_0x3ceb8c(0x231)]===_0x369ee2)return;this[_0x3ceb8c(0x231)]=_0x369ee2,await this['setStateAsync'](_0x3ceb8c(0x1cf),{'val':_0x369ee2,'ack':!![]});}[a0_0x505df6(0x2f4)](){const _0x1fbdbb=a0_0x505df6,_0x21313b=this[_0x1fbdbb(0x134)][_0x1fbdbb(0x237)],_0x82c2e7=this[_0x1fbdbb(0x134)][_0x1fbdbb(0x2e8)],_0x4c6838=this[_0x1fbdbb(0x1a7)]['length']>0x0?this['eventHistory'][0x0][_0x1fbdbb(0x207)]:Date[_0x1fbdbb(0x2eb)](),_0x32906a=(Date['now']()-_0x4c6838)/(0x3e8*0x3c*0x3c);let _0x3d3084='';_0x82c2e7&&this[_0x1fbdbb(0x21e)]===SYSTEM_MODES[_0x1fbdbb(0x2d9)]&&this[_0x1fbdbb(0x231)]&&(_0x32906a>_0x21313b&&(_0x3d3084=_0x1fbdbb(0x216)+_0x32906a[_0x1fbdbb(0x25b)](0x1)+_0x1fbdbb(0x2ec)));if(_0x3d3084){this['runGeminiAnalysis'](_0x3d3084)[_0x1fbdbb(0x1ce)](_0x3241ed=>this[_0x1fbdbb(0x290)]['error'](_0x3241ed));return;}const _0x292ac3=Date['now'](),_0x2cea14=_0x292ac3-_0x4c6838,_0x4ef3d6=(this[_0x1fbdbb(0x134)]['analysisInterval']||0xf)*0x3c*0x3e8;this[_0x1fbdbb(0x1a7)][_0x1fbdbb(0x268)]>0x0&&_0x2cea14<=_0x4ef3d6?this['runGeminiAnalysis']()[_0x1fbdbb(0x1ce)](_0x3713df=>this[_0x1fbdbb(0x290)][_0x1fbdbb(0x2ad)](_0x3713df)):!this[_0x1fbdbb(0x2dc)]&&(this[_0x1fbdbb(0x1ca)](_0x1fbdbb(0x153),{'val':![],'ack':!![]}),this[_0x1fbdbb(0x1ca)]('analysis.isEmergency',{'val':![],'ack':!![]}));}async[a0_0x505df6(0x168)](_0x39cc2f=''){const _0x15b016=a0_0x505df6;if(!this[_0x15b016(0x248)])return;const _0x33b840=this[_0x15b016(0x1a7)][_0x15b016(0x268)]>0x0?this[_0x15b016(0x1a7)]:[{'note':_0x15b016(0x2df)}],_0xf627cf=PERSONA_MAPPING[this['config'][_0x15b016(0x2fa)]||_0x15b016(0x148)],_0x49c9a=this[_0x15b016(0x134)]['livingContext']||'',_0x2b759f=this[_0x15b016(0x21e)],_0x3112ef=await this[_0x15b016(0x22b)](),_0x4d99ef=await this[_0x15b016(0x123)](),_0xd66f1b=(_0x3112ef+'\x20'+_0x4d99ef)[_0x15b016(0x13f)](),_0x3a21a9=new Date(),_0x867a76=_0x3a21a9[_0x15b016(0x166)](_0x15b016(0x2cc),{'weekday':_0x15b016(0x246),'hour':_0x15b016(0x23e),'minute':_0x15b016(0x23e)}),_0x1c15ca=this['systemConfig'];let _0x5f0217='';if(this['feedbackHistory'][_0x15b016(0x268)]>0x0){const _0x2f89dd=this['feedbackHistory']['slice'](0x0,0x3)[_0x15b016(0x1b5)](_0x4c9fbb=>_0x15b016(0x2d6)+_0x4c9fbb['alertReason']+_0x15b016(0x2ed)+_0x4c9fbb[_0x15b016(0x1ab)]+'.')[_0x15b016(0x278)]('\x0a');_0x5f0217=_0x15b016(0x204)+_0x2f89dd+'\x0a';}const _0x43785f=_0x39cc2f?_0x15b016(0x28c)+_0x39cc2f+'\x0a!!!\x20END\x20WARNING\x20!!!\x0a':'',_0xf0d9ee=_0x15b016(0x13d),_0x1379b4='ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20'+_0x867a76+_0x15b016(0x2c4)+_0x1c15ca[_0x15b016(0x19d)]+_0x15b016(0x235)+_0x2b759f+_0x15b016(0x17d)+(this[_0x15b016(0x231)]?'Ja':'Nein')+_0x15b016(0x270)+_0x49c9a+'.\x20PERSONA:\x20'+_0xf627cf+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20EXTERNER\x20KONTEXT\x20(WICHTIG):\x20'+_0xd66f1b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf0d9ee+'\x20'+_0x5f0217+'\x20'+_0x43785f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20'+JSON[_0x15b016(0x2d3)](_0x33b840)+_0x15b016(0x1e2);try{const _0x4cc499=await this[_0x15b016(0x248)][_0x15b016(0x13b)](_0x1379b4),_0x10cdcb=_0x4cc499['response'][_0x15b016(0x1be)]()['replace'](/```json|```/g,'')[_0x15b016(0x13f)](),_0x499ebe=JSON[_0x15b016(0x19c)](_0x10cdcb);await this[_0x15b016(0x16a)](_0x15b016(0x249),{'val':_0x10cdcb,'ack':!![]}),await this['setStateAsync'](_0x15b016(0x2da),{'val':_0x499ebe[_0x15b016(0x2b4)]['alertReason']||'','ack':!![]}),await this[_0x15b016(0x16a)](_0x15b016(0x1d8),{'val':_0x499ebe[_0x15b016(0x2b4)][_0x15b016(0x275)]||_0x15b016(0x258),'ack':!![]}),await this['setStateAsync'](_0x15b016(0x233),{'val':_0x499ebe['activity'][_0x15b016(0x29e)]||'N/A','ack':!![]});_0x499ebe['comfort']&&(await this[_0x15b016(0x16a)]('analysis.comfortSummary',{'val':_0x499ebe[_0x15b016(0x273)]['summary']||'','ack':!![]}),await this[_0x15b016(0x16a)]('analysis.comfortSuggestion',{'val':_0x499ebe[_0x15b016(0x273)][_0x15b016(0x11f)]||'','ack':!![]}),_0x499ebe[_0x15b016(0x273)]['automationProposal']&&(await this[_0x15b016(0x16a)](_0x15b016(0x18d),{'val':_0x499ebe[_0x15b016(0x273)][_0x15b016(0x294)][_0x15b016(0x26f)]||![],'ack':!![]}),await this[_0x15b016(0x16a)](_0x15b016(0x182),{'val':_0x499ebe[_0x15b016(0x273)][_0x15b016(0x294)][_0x15b016(0x16b)]||'','ack':!![]}),await this[_0x15b016(0x16a)](_0x15b016(0x159),{'val':_0x499ebe['comfort'][_0x15b016(0x294)]['suggestedAction']||'','ack':!![]})));_0x499ebe[_0x15b016(0x24e)]&&(await this[_0x15b016(0x16a)](_0x15b016(0x108),{'val':typeof _0x499ebe[_0x15b016(0x24e)][_0x15b016(0x251)]===_0x15b016(0x1f1)?_0x499ebe[_0x15b016(0x24e)][_0x15b016(0x251)]:0x0,'ack':!![]}),await this['setStateAsync'](_0x15b016(0x2bd),{'val':_0x499ebe[_0x15b016(0x24e)][_0x15b016(0x183)]||_0x15b016(0x1b4),'ack':!![]}),await this[_0x15b016(0x16a)](_0x15b016(0x296),{'val':_0x499ebe[_0x15b016(0x24e)][_0x15b016(0x2f6)]||'','ack':!![]}));const _0x2f99a4=_0x499ebe['activity'][_0x15b016(0x17f)]||![],_0x325fef=_0x499ebe[_0x15b016(0x2b4)][_0x15b016(0x2fd)]||![];if(_0x2f99a4||_0x325fef){await this['setStateAsync'](_0x15b016(0x153),{'val':!![],'ack':!![]}),await this[_0x15b016(0x16a)](_0x15b016(0x188),{'val':_0x325fef,'ack':!![]});if(!this[_0x15b016(0x2dc)]||_0x325fef){const _0x2cc924=_0x325fef?'ðŸš¨ðŸš¨\x20NOTFALL':_0x15b016(0x25a);this['sendNotification'](_0x2cc924+':\x20'+_0x499ebe['activity'][_0x15b016(0x284)],![],_0x325fef);}}else await this[_0x15b016(0x16a)]('analysis.isAlert',{'val':![],'ack':!![]}),await this[_0x15b016(0x16a)](_0x15b016(0x188),{'val':![],'ack':!![]});this['lastAlertState']=_0x2f99a4||_0x325fef;const _0x3f45ca={'timestamp':Date[_0x15b016(0x2eb)](),'id':Date[_0x15b016(0x2eb)]()[_0x15b016(0x292)](),'analysis':_0x499ebe,'systemMode':_0x2b759f,'isPro':this[_0x15b016(0x201)]};this[_0x15b016(0x1a8)](_0x3f45ca);}catch(_0x57dce1){this[_0x15b016(0x290)][_0x15b016(0x2ad)](_0x15b016(0x1c7)+_0x57dce1[_0x15b016(0x122)]);}}async[a0_0x505df6(0x112)](){const _0x33cab3=a0_0x505df6;if(!this[_0x33cab3(0x248)]||this[_0x33cab3(0x254)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await this['setStateAsync'](LTM_DP_STATUS,{'val':_0x33cab3(0x133),'ack':!![]});return;}this[_0x33cab3(0x290)][_0x33cab3(0x23b)](_0x33cab3(0x2ac)+this[_0x33cab3(0x254)][_0x33cab3(0x268)]+_0x33cab3(0x24f)),await this['setStateAsync'](LTM_DP_STATUS,{'val':_0x33cab3(0x1c8),'ack':!![]});const _0x15aa15=this['rawEventLog'][_0x33cab3(0x268)]>0x320?this['rawEventLog'][_0x33cab3(0x225)](this['rawEventLog']['length']-0x320):this[_0x33cab3(0x254)],_0x44733d=PERSONA_MAPPING[this['config'][_0x33cab3(0x2fa)]||_0x33cab3(0x148)],_0x1a3cb5=_0x33cab3(0x274)+_0x44733d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20INPUT:\x20'+JSON[_0x33cab3(0x2d3)](_0x15aa15)+_0x33cab3(0x2c5);try{const _0x172e6b=await this[_0x33cab3(0x248)][_0x33cab3(0x13b)](_0x1a3cb5),_0x51893c=_0x172e6b[_0x33cab3(0x298)]['text']()[_0x33cab3(0x2b1)](/```json|```/g,'')[_0x33cab3(0x13f)](),_0x1cb449=JSON[_0x33cab3(0x19c)](_0x51893c),_0x7a9762={'timestamp':new Date()[_0x33cab3(0x17c)](),'eventCount':this['rawEventLog']['length'],'summary':_0x1cb449['summary'],'activityLevel':_0x1cb449[_0x33cab3(0x1f6)],'health':{'sleepScore':_0x1cb449[_0x33cab3(0x24e)]?_0x1cb449[_0x33cab3(0x24e)][_0x33cab3(0x251)]:0x0,'restlessness':_0x1cb449[_0x33cab3(0x24e)]?_0x1cb449[_0x33cab3(0x24e)][_0x33cab3(0x183)]:_0x33cab3(0x1b4)},'systemMode':this['currentSystemMode']};this[_0x33cab3(0x262)][_0x33cab3(0x102)](_0x7a9762),await this[_0x33cab3(0x2e6)](),this['rawEventLog']=[],await this[_0x33cab3(0x14e)](),await this[_0x33cab3(0x16a)](LTM_DP_STATUS,{'val':'Daily\x20Digest\x20erstellt\x20&\x20gespeichert.','ack':!![]}),this['log'][_0x33cab3(0x23b)](_0x33cab3(0x124));}catch(_0x584c28){this[_0x33cab3(0x290)][_0x33cab3(0x2ad)](_0x33cab3(0x115)+_0x584c28['message']),await this[_0x33cab3(0x16a)](LTM_DP_STATUS,{'val':_0x33cab3(0x2e9)+_0x584c28[_0x33cab3(0x122)],'ack':!![]});}}async[a0_0x505df6(0x228)](){const _0x355cd2=a0_0x505df6;if(!this[_0x355cd2(0x248)])return;this[_0x355cd2(0x290)][_0x355cd2(0x23b)](_0x355cd2(0x2b9));const _0x43d3bd=this[_0x355cd2(0x262)][_0x355cd2(0x268)]>0x0?this['dailyDigests'][this[_0x355cd2(0x262)]['length']-0x1]:null,_0x514c2b=_0x43d3bd&&_0x43d3bd[_0x355cd2(0x24e)]?_0x43d3bd[_0x355cd2(0x24e)][_0x355cd2(0x251)]:_0x355cd2(0x258),_0x3fa15a=new Date();_0x3fa15a[_0x355cd2(0x1e8)](0x4,0x0,0x0,0x0);const _0x56077b=this[_0x355cd2(0x1a7)][_0x355cd2(0x1bd)](_0x2f506d=>new Date(_0x2f506d[_0x355cd2(0x207)])>_0x3fa15a),_0x2f36ab=PERSONA_MAPPING[this[_0x355cd2(0x134)][_0x355cd2(0x2fa)]||'generic'],_0x22c063=this['config'][_0x355cd2(0x26a)]||'',_0x5df3a8=await this[_0x355cd2(0x22b)](),_0x2c0ebe=await this['getCalendarContext'](),_0x4c81d4=_0x355cd2(0x291)+_0x2f36ab+_0x355cd2(0x2a6)+_0x22c063+_0x355cd2(0x157)+_0x5df3a8+'\x20'+_0x2c0ebe+_0x355cd2(0x2a5)+_0x514c2b+_0x355cd2(0x129)+JSON[_0x355cd2(0x2d3)](_0x56077b[_0x355cd2(0x225)](0x0,0xa))+_0x355cd2(0x2d5);try{const _0xc76152=await this['geminiModel'][_0x355cd2(0x13b)](_0x4c81d4),_0x11acc4=_0x355cd2(0x242)+_0xc76152['response'][_0x355cd2(0x1be)]()['trim']();this[_0x355cd2(0x2c7)](_0x11acc4),this[_0x355cd2(0x290)][_0x355cd2(0x23b)](_0x355cd2(0x2d0));}catch(_0x40ff90){this[_0x355cd2(0x290)][_0x355cd2(0x2ad)]('Briefing\x20Error:\x20'+_0x40ff90[_0x355cd2(0x122)]);}}async[a0_0x505df6(0x2c7)](_0x5b7c01,_0x451e20=![],_0x366f0e=![]){const _0x4bc31d=a0_0x505df6;this['log']['info']((_0x451e20?_0x4bc31d(0x19b):'')+'Sending\x20notification:\x20\x22'+_0x5b7c01+'\x22'+(_0x366f0e?'\x20(EMERGENCY)':''));const _0x3be71d=this[_0x4bc31d(0x134)];let _0x32bc97=0x0;_0x3be71d[_0x4bc31d(0x181)]&&_0x3be71d[_0x4bc31d(0x177)]&&(await this[_0x4bc31d(0x219)](_0x3be71d['notifyTelegramInstance'],_0x4bc31d(0x1ea),{'text':_0x5b7c01,'user':_0x3be71d['notifyTelegramRecipient']}),_0x32bc97++);if(_0x3be71d[_0x4bc31d(0x11c)]&&_0x3be71d[_0x4bc31d(0x2ee)]){let _0x2650b9={'message':_0x5b7c01,'title':_0x366f0e?_0x4bc31d(0x1da):_0x4bc31d(0x2bc),'priority':_0x366f0e?0x2:0x1,'device':_0x3be71d[_0x4bc31d(0x203)]};_0x366f0e&&(_0x2650b9['retry']=0x1e,_0x2650b9[_0x4bc31d(0x282)]=0xe10,_0x2650b9[_0x4bc31d(0x2b7)]=_0x4bc31d(0x111)),await this[_0x4bc31d(0x219)](_0x3be71d[_0x4bc31d(0x2ee)],_0x4bc31d(0x1ea),_0x2650b9),_0x32bc97++;}return _0x3be71d[_0x4bc31d(0x117)]&&_0x3be71d[_0x4bc31d(0x1bf)]&&(await this[_0x4bc31d(0x219)](_0x3be71d[_0x4bc31d(0x1bf)],'send',{'text':_0x5b7c01,'to':_0x3be71d[_0x4bc31d(0x23f)]}),_0x32bc97++),_0x3be71d[_0x4bc31d(0x227)]&&_0x3be71d[_0x4bc31d(0x1ad)]&&(await this['sendToAsync'](_0x3be71d['notifyWhatsappInstance'],'send',{'text':_0x5b7c01,'phone':_0x3be71d[_0x4bc31d(0x152)]}),_0x32bc97++),_0x3be71d[_0x4bc31d(0x2e1)]&&_0x3be71d[_0x4bc31d(0x14a)]&&(await this[_0x4bc31d(0x219)](_0x3be71d[_0x4bc31d(0x14a)],'send',{'text':_0x5b7c01,'phone':_0x3be71d[_0x4bc31d(0x1e3)]}),_0x32bc97++),_0x32bc97;}[a0_0x505df6(0x22c)](_0x52e57f){const _0x3955f7=a0_0x505df6;if(this[_0x3955f7(0x127)])clearInterval(this[_0x3955f7(0x127)]);if(this[_0x3955f7(0x29b)])clearInterval(this[_0x3955f7(0x29b)]);if(this[_0x3955f7(0x2e4)])this[_0x3955f7(0x2e4)]['cancel']();if(this['modeResetJob'])this[_0x3955f7(0x1f0)][_0x3955f7(0x161)]();if(this[_0x3955f7(0x1af)])this[_0x3955f7(0x1af)][_0x3955f7(0x161)]();if(this[_0x3955f7(0x194)])clearTimeout(this[_0x3955f7(0x194)]);if(this[_0x3955f7(0x267)])clearTimeout(this[_0x3955f7(0x267)]);_0x52e57f();}}if(require[a0_0x505df6(0x1fa)]!==module)module['exports']=_0x44ba3b=>new CogniLiving(_0x44ba3b);else new CogniLiving();