const a0_0x5b5564=a0_0x667d;function a0_0x4d42(){const _0xccb907=['LTM.dailyDigests','checkLicense','modeResetJob','temperature','accuweather.0','ack','Guest\x20Mode','Standard','getStateAsync','analysis.security.learningStatus','namespace','lastAlertState','triggerBriefing','setObjectNotExistsAsync','notifyTelegramInstance','3530225yaLnbM','simulateEnergyMPC','242224zaujDr','instance','sendMorningBriefing','Simulation\x20durch\x20Admin\x20(Test)','Test','isPresent','common','analysisHistory','LTM.rawEventLog','Kein\x20Kalender-Adapter','NextHours.Location_1.Day_1.current.symbol_desc','loadSystemMode','checkCalendarTriggers','analysis.energy.mpcActive','currentSystemMode','startService','setPresence','getTime','debug','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','\x20Tage)','triggerGaitAnalysis','TRAIN_ENERGY','_calName','SET_TOPOLOGY','stateChange','parse','length','PINN\x20AI\x20Forecast','simulateButler','callback','string','analysis.training.triggerTopology','@iobroker/adapter-core','dependencyInstallInProgress','getHours','add','message','getForeignObjectsAsync','presenceDevices','entries','SYSTEM_DP_MODE','motion','initSystemConfig','Warm-Up\x20Target\x20Temps\x20(JSON)','runGeminiAnalysis','LTM.trainingData.thermodynamics','bind','analysis.automation.targetValue','geminiModel','isSolar','./lib/scanner','./lib/ai_agent','setState','updateHealthVector','enum','scanThermostats','LTM.triggerDailyDigest','Adapter','calendarName','analysis.topology.structure','analysis.energy.pinnForecast','floor','object','scanDevices','subscribeForeignStatesAsync','1535997tPfgXo','unload','abortExitTimer','push','endsWith','cancel','scores','checkSolarCondition','manual','SYSTEM_MODES','scanForDevices','activityLevel','search','sonn','Keine\x20Antwort\x20von\x20Gemini','startSystem','./lib/automation','cogni-living\x20adapter\x20starting\x20(v','main','slice','find','analysis.automation.targetId','klar','onMessage','getForeignObjectAsync','name','2LoKlWd','from','analysis.training.triggerComfort','sort','createAllObjects','onReady','dailyDigests','onStateChange','config','2795124hCniZr','system.adapter.','geminiApiKey','createDailyDigest','Kein\x20API\x20Key\x20Ã¼bergeben','5336492AmAvES','Gesendet','LTM.baselineStatus','runAutopilot','exitGraceTimer','generateContent','type','Gemini\x20AI\x20initialized.','abs','devices','ltmJob','getOverviewData','stopService','json','rawEventLog','driftAnalysisTimer','6dDnqIB','\x20min\x20ausbleiben.','updateTopology','apply','3207928iGGGHf','genAI','WiFi\x20Presence\x20detected.','@google/generative-ai','analysis.training.triggerHealth','system.mode','33499323FjeimD','analysis.training.triggerEnergy','PREDICT_ENERGY','checkAndInstall','./lib/scheduler','telegram','minDaysForBaseline','trackerEnabled','getGenerativeModel','updated','testApiKey','getOutsideTemperatureNumeric','NORMAL','analysis.energy.ventilationAlerts','VACATION','constructor','Daten\x20nicht\x20verfÃ¼gbar','exitTimer','sendTo','briefingJob','getLtmData','isProVersion','inactivityThresholdHours','updateTopologyMatrix','Fehler:\x20','some','setupModeResetScheduler','analysis.training.status','PYTHON_EXE','trackerHeartbeat','matrix','stringify','toLowerCase','dismissAutomation','values','./lib/dead_man','setHours','models/gemini-flash-latest','analysis.energy.insulationScore','initHistory','getForeignStateAsync','fill','analysis.automation.description','includes',')\x20-\x20Phase\x20D\x20(Evolution)','ANALYZE_TREND','checkWifiPresence','analysis.energy.warmupTimes','clear','runPythonHealthCheck','analysisTimer','./lib/setup','version','communicate.request','setStateAsync','Party\x20Mode','enum.functions.*','(((.+)+)+)+$','timestamp','command','triggerDailyDigest','TRAIN_SECURITY','now','location','lastTrackerEventTime','Sec-Training\x20started...','heiter','TRACK_EVENT','triggerEnergyPrediction','subscribeStates','notifyTelegramEnabled','analysis.energy.warmupTargets','party','analysis.training.triggerSecurity','toString','eventHistory','analysis.automation.autoApply','val','sensorLastValues','LTM.trainingData.sequences','getCalendarNames','initZombies','{\x22default\x22:\x2021}','SET_LEARNING_MODE','Lernphase\x20(','Verbindung\x20erfolgreich!','onUnload','Instanz\x20nicht\x20gefunden','Notification\x20Test\x20Failed:\x20','calendarInstance','enum.rooms.*','split','error','forEach','state','setupDriftAnalysisScheduler','daswetter.0','Aktiv\x20(','guest','info','sunny','send','analysis.trigger','map','analysis.automation.patternDetected','minutes_safe','log','pop','response'];a0_0x4d42=function(){return _0xccb907;};return a0_0x4d42();}(function(_0x4ecbfd,_0x40551d){const _0x26f0da=a0_0x667d,_0x473c49=_0x4ecbfd();while(!![]){try{const _0x521e73=-parseInt(_0x26f0da(0x1a6))/0x1*(parseInt(_0x26f0da(0x100))/0x2)+-parseInt(_0x26f0da(0x1e8))/0x3+-parseInt(_0x26f0da(0x109))/0x4+parseInt(_0x26f0da(0x1a4))/0x5*(-parseInt(_0x26f0da(0x11e))/0x6)+-parseInt(_0x26f0da(0x10e))/0x7+-parseInt(_0x26f0da(0x122))/0x8+parseInt(_0x26f0da(0x128))/0x9;if(_0x521e73===_0x40551d)break;else _0x473c49['push'](_0x473c49['shift']());}catch(_0x165954){_0x473c49['push'](_0x473c49['shift']());}}}(a0_0x4d42,0x61987));const a0_0x5ada6a=(function(){let _0x9437a5=!![];return function(_0x2c58d3,_0x5d8db8){const _0x192a26=_0x9437a5?function(){const _0x271fbc=a0_0x667d;if(_0x5d8db8){const _0x18517c=_0x5d8db8[_0x271fbc(0x121)](_0x2c58d3,arguments);return _0x5d8db8=null,_0x18517c;}}:function(){};return _0x9437a5=![],_0x192a26;};}()),a0_0x2799cc=a0_0x5ada6a(this,function(){const _0x3d28f6=a0_0x667d;return a0_0x2799cc[_0x3d28f6(0x172)]()[_0x3d28f6(0x1f4)](_0x3d28f6(0x161))[_0x3d28f6(0x172)]()[_0x3d28f6(0x137)](a0_0x2799cc)[_0x3d28f6(0x1f4)]('(((.+)+)+)+$');});a0_0x2799cc();function a0_0x667d(_0x5e5ee0,_0x83fd7e){const _0x1f82f4=a0_0x4d42();return a0_0x667d=function(_0x2799cc,_0x5ada6a){_0x2799cc=_0x2799cc-0xf5;let _0x4d42ba=_0x1f82f4[_0x2799cc];return _0x4d42ba;},a0_0x667d(_0x5e5ee0,_0x83fd7e);}'use strict';const utils=require(a0_0x5b5564(0x1c7)),{GoogleGenerativeAI}=require(a0_0x5b5564(0x125)),installer=require('./lib/installer'),scanner=require(a0_0x5b5564(0x1d9)),schedulers=require(a0_0x5b5564(0x12c)),topology=require('./lib/topology'),setup=require(a0_0x5b5564(0x15b)),recorder=require('./lib/recorder'),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0x5b5564(0x1da)),deadMan=require(a0_0x5b5564(0x14b)),automation=require(a0_0x5b5564(0xf6)),GEMINI_MODEL=a0_0x5b5564(0x14d),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x5b5564(0x1e0)]{constructor(_0x5cbf0d){const _0x265b59=a0_0x5b5564;super({..._0x5cbf0d,'name':'cogni-living'}),this[_0x265b59(0x173)]=[],this[_0x265b59(0x1ad)]=[],this[_0x265b59(0x11c)]=[],this['dailyDigests']=[],this[_0x265b59(0x176)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x265b59(0x1ab)]=!![],this[_0x265b59(0x139)]=null,this[_0x265b59(0x112)]=null,this['isGracePeriodActive']=![],this[_0x265b59(0x123)]=null,this[_0x265b59(0x1d7)]=null,this[_0x265b59(0x1b4)]=setup[_0x265b59(0x1f1)][_0x265b59(0x134)],this['isProVersion']=![],this[_0x265b59(0x1a0)]=![],this[_0x265b59(0x15a)]=null,this[_0x265b59(0x118)]=null,this[_0x265b59(0x197)]=null,this[_0x265b59(0x11d)]=null,this[_0x265b59(0x13b)]=null,this[_0x265b59(0x1c8)]=![],this[_0x265b59(0x145)]=null,this[_0x265b59(0x168)]=Date[_0x265b59(0x166)](),this['on']('ready',this[_0x265b59(0x105)][_0x265b59(0x1d5)](this)),this['on'](_0x265b59(0x1bf),this[_0x265b59(0x107)][_0x265b59(0x1d5)](this)),this['on'](_0x265b59(0x1e9),this[_0x265b59(0x17e)][_0x265b59(0x1d5)](this)),this['on'](_0x265b59(0x1cb),this[_0x265b59(0xfd)][_0x265b59(0x1d5)](this));}async[a0_0x5b5564(0x105)](){const _0x129efc=a0_0x5b5564;this[_0x129efc(0x192)][_0x129efc(0x18b)](_0x129efc(0xf7)+this[_0x129efc(0x15c)]+_0x129efc(0x154));if(!installer[_0x129efc(0x12b)](this,()=>this[_0x129efc(0xf5)]()))return;}async['startSystem'](){const _0x32298a=a0_0x5b5564;await setup[_0x32298a(0x179)](this);try{this[_0x32298a(0x13d)]=await setup[_0x32298a(0x196)](this[_0x32298a(0x108)]['licenseKey']);}catch(_0x5b40cc){}if(!this[_0x32298a(0x108)]['inactivityThresholdHours']||this[_0x32298a(0x108)][_0x32298a(0x13e)]<0.1)this['config'][_0x32298a(0x13e)]=0xc;await setup[_0x32298a(0x14f)](this),await setup[_0x32298a(0x1d1)](this);if(this[_0x32298a(0x108)][_0x32298a(0x10b)])try{this[_0x32298a(0x123)]=new GoogleGenerativeAI(this[_0x32298a(0x108)][_0x32298a(0x10b)]),this[_0x32298a(0x1d7)]=this[_0x32298a(0x123)][_0x32298a(0x130)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this['log'][_0x32298a(0x18b)](_0x32298a(0x115));}catch(_0x3f4e62){this[_0x32298a(0x192)]['error']('Gemini\x20Init\x20Error:\x20'+_0x3f4e62['message']);}await setup[_0x32298a(0x104)](this),await this[_0x32298a(0x1b1)](),await this[_0x32298a(0x1a2)](_0x32298a(0x1e3),{'type':_0x32298a(0x186),'common':{'name':_0x32298a(0x1c2),'type':_0x32298a(0x1c5),'role':_0x32298a(0x11b),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x32298a(0x135),{'type':'state','common':{'name':'Active\x20Ventilation\x20Alerts','type':_0x32298a(0x1c5),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x32298a(0x1a2)](_0x32298a(0x157),{'type':_0x32298a(0x186),'common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':_0x32298a(0x1c5),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x32298a(0x1a2)](_0x32298a(0x16f),{'type':_0x32298a(0x186),'common':{'name':_0x32298a(0x1d2),'type':'string','role':_0x32298a(0x11b),'read':!![],'write':!![],'def':_0x32298a(0x17a)},'native':{}});try{const _0x1e9e1a=await this[_0x32298a(0x19d)](_0x32298a(0x1ae));if(_0x1e9e1a&&_0x1e9e1a[_0x32298a(0x175)])this[_0x32298a(0x11c)]=JSON[_0x32298a(0x1c0)](_0x1e9e1a['val']);}catch(_0x2bfd43){this[_0x32298a(0x11c)]=[];}try{const _0xb402ad=await this[_0x32298a(0x19d)](_0x32298a(0x195));if(_0xb402ad&&_0xb402ad[_0x32298a(0x175)])this['dailyDigests']=JSON[_0x32298a(0x1c0)](_0xb402ad['val']);}catch(_0x4a77a7){this[_0x32298a(0x106)]=[];}const _0x2e298c=this[_0x32298a(0x106)][_0x32298a(0x1c1)]>=(this[_0x32298a(0x108)][_0x32298a(0x12e)]||0x7)?_0x32298a(0x189)+this[_0x32298a(0x106)][_0x32298a(0x1c1)]+_0x32298a(0x1ba):_0x32298a(0x17c)+this['dailyDigests'][_0x32298a(0x1c1)]+'/'+(this[_0x32298a(0x108)][_0x32298a(0x12e)]||0x7)+')';await this[_0x32298a(0x15e)](_0x32298a(0x110),{'val':_0x2e298c,'ack':!![]}),this[_0x32298a(0x16d)](_0x32298a(0x18e)),this[_0x32298a(0x16d)](_0x32298a(0x1df)),this[_0x32298a(0x16d)](_0x32298a(0x127)),this[_0x32298a(0x16d)]('analysis.triggerBriefing'),this[_0x32298a(0x16d)]('analysis.automation.triggerAction'),this[_0x32298a(0x16d)](_0x32298a(0x174)),this[_0x32298a(0x16d)]('analysis.training.triggerSecurity'),this['subscribeStates'](_0x32298a(0x126)),this['subscribeStates']('analysis.training.triggerEnergy'),this[_0x32298a(0x16d)](_0x32298a(0x102)),this['subscribeStates'](_0x32298a(0x1c6)),this[_0x32298a(0x16d)](_0x32298a(0x1b3));const _0x3cd0fe=this[_0x32298a(0x108)][_0x32298a(0x117)];if(_0x3cd0fe)for(const _0x47aa8a of _0x3cd0fe){await this[_0x32298a(0x1e7)](_0x47aa8a['id']);}const _0x46f040=this[_0x32298a(0x108)][_0x32298a(0x1cd)];if(_0x46f040)for(const _0x1a8117 of _0x46f040){await this[_0x32298a(0x1e7)](_0x1a8117);}if(this['config'][_0x32298a(0x16e)]&&this['config'][_0x32298a(0x1a3)])await this[_0x32298a(0x1e7)](this['config']['notifyTelegramInstance']+'.communicate.request');setTimeout(()=>this[_0x32298a(0x156)](),0x1388);if(this[_0x32298a(0x15a)])clearInterval(this['analysisTimer']);const _0x44f0bb=this[_0x32298a(0x108)]['analysisInterval']||0xf;_0x44f0bb>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x30f3f8=_0x32298a;this['runAutopilot'](),automation[_0x30f3f8(0x1b2)](this);},_0x44f0bb*0x3c*0x3e8)),setTimeout(()=>automation[_0x32298a(0x1b2)](this),0x2710),this[_0x32298a(0x108)][_0x32298a(0x12f)]!==![]&&(this[_0x32298a(0x145)]=setInterval(()=>{const _0x40d721=_0x32298a;if(this[_0x40d721(0x13d)]){const _0x4546c6=Date['now'](),_0x414c25=this[_0x40d721(0x168)]||_0x4546c6,_0x10f398=(_0x4546c6-_0x414c25)/0x3e8;_0x10f398>0x2&&(this[_0x40d721(0x168)]=_0x4546c6,pythonBridge[_0x40d721(0x18d)](this,_0x40d721(0x16b),{'room':null,'dt':_0x10f398}));}},0xbb8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x32298a(0x10c)](this,pythonBridge)),schedulers[_0x32298a(0x142)](this),schedulers[_0x32298a(0x187)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent[_0x32298a(0x1a8)](this)),pythonBridge[_0x32298a(0x1b5)](this,installer[_0x32298a(0x144)]),setTimeout(async()=>{const _0x36f802=_0x32298a;await topology[_0x36f802(0x120)](this);try{const _0x1439bb=await this[_0x36f802(0x19d)](_0x36f802(0x1e2));if(_0x1439bb&&_0x1439bb[_0x36f802(0x175)])pythonBridge[_0x36f802(0x18d)](this,_0x36f802(0x1be),JSON[_0x36f802(0x1c0)](_0x1439bb[_0x36f802(0x175)]));}catch(_0x597dba){}this[_0x36f802(0x159)](),this[_0x36f802(0x1bb)](),this[_0x36f802(0x16c)](),this[_0x36f802(0x1dc)]();},0x1388);}[a0_0x5b5564(0x17e)](_0x344ec7){const _0x229ea2=a0_0x5b5564;if(this[_0x229ea2(0x15a)])clearInterval(this['analysisTimer']);if(this['driftAnalysisTimer'])clearInterval(this['driftAnalysisTimer']);if(this['trackerHeartbeat'])clearInterval(this[_0x229ea2(0x145)]);if(this[_0x229ea2(0x118)])this[_0x229ea2(0x118)]['cancel']();if(this[_0x229ea2(0x197)])this[_0x229ea2(0x197)][_0x229ea2(0x1ed)]();if(this[_0x229ea2(0x13b)])this['briefingJob'][_0x229ea2(0x1ed)]();recorder['abortExitTimer'](this),pythonBridge[_0x229ea2(0x11a)](this),_0x344ec7();}async[a0_0x5b5564(0x107)](_0x503ec3,_0x2a3e0e){const _0x12407f=a0_0x5b5564;if(!_0x2a3e0e||this[_0x12407f(0x1c8)])return;if(_0x503ec3[_0x12407f(0x153)](_0x12407f(0x12d))&&_0x503ec3[_0x12407f(0x1ec)](_0x12407f(0x15d))&&_0x2a3e0e[_0x12407f(0x175)])return;if(_0x503ec3===this[_0x12407f(0x19f)]+'.system.mode'){if(_0x2a3e0e[_0x12407f(0x175)]&&Object[_0x12407f(0x14a)](setup['SYSTEM_MODES'])['includes'](_0x2a3e0e[_0x12407f(0x175)])){this[_0x12407f(0x1b4)]=_0x2a3e0e[_0x12407f(0x175)];if(_0x2a3e0e[_0x12407f(0x175)]===setup[_0x12407f(0x1f1)][_0x12407f(0x136)])await recorder['setPresence'](this,![]);else await recorder[_0x12407f(0x1b6)](this,!![]);if(this[_0x12407f(0x13d)]){let _0x4e25b4=![],_0x1657b8=0x0,_0x2f1cda=_0x12407f(0x1f0);if(this[_0x12407f(0x1b4)]===_0x12407f(0x170))_0x4e25b4=!![],_0x1657b8=0x168,_0x2f1cda=_0x12407f(0x15f);else this['currentSystemMode']===_0x12407f(0x18a)&&(_0x4e25b4=!![],_0x1657b8=0x5a0,_0x2f1cda=_0x12407f(0x19b));pythonBridge['send'](this,_0x12407f(0x17b),{'active':_0x4e25b4,'duration':_0x1657b8,'label':_0x2f1cda}),await this['setStateAsync'](_0x12407f(0x19e),{'val':JSON[_0x12407f(0x147)]({'active':_0x4e25b4,'label':_0x2f1cda,'timestamp':Date['now']()}),'ack':!![]});}}if(!_0x2a3e0e[_0x12407f(0x19a)])this[_0x12407f(0x1db)](_0x503ec3,{'val':this[_0x12407f(0x1b4)],'ack':!![]});return;}if(!_0x2a3e0e[_0x12407f(0x19a)]){if(_0x503ec3[_0x12407f(0x153)]('analysis.trigger')&&_0x2a3e0e[_0x12407f(0x175)]){this[_0x12407f(0x1db)](_0x503ec3,{'val':![],'ack':!![]}),aiAgent[_0x12407f(0x1d3)](this);return;}if(_0x503ec3[_0x12407f(0x153)](_0x12407f(0x164))&&_0x2a3e0e[_0x12407f(0x175)]){this[_0x12407f(0x1db)](_0x503ec3,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x503ec3['includes'](_0x12407f(0x1a1))&&_0x2a3e0e['val']){this[_0x12407f(0x1db)](_0x503ec3,{'val':![],'ack':!![]}),aiAgent[_0x12407f(0x1a8)](this);return;}if(_0x503ec3[_0x12407f(0x153)]('automation.triggerAction')&&_0x2a3e0e[_0x12407f(0x175)]){this[_0x12407f(0x1db)](_0x503ec3,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x503ec3[_0x12407f(0x153)](_0x12407f(0x171))&&_0x2a3e0e[_0x12407f(0x175)]){this[_0x12407f(0x1db)](_0x503ec3,{'val':![],'ack':!![]});if(this[_0x12407f(0x13d)])try{const _0x1e7f36=await this[_0x12407f(0x19d)](_0x12407f(0x177));if(_0x1e7f36&&_0x1e7f36[_0x12407f(0x175)]){const _0x300367=JSON[_0x12407f(0x1c0)](_0x1e7f36[_0x12407f(0x175)]);this['setStateAsync'](_0x12407f(0x143),{'val':_0x12407f(0x169),'ack':!![]}),pythonBridge['send'](this,_0x12407f(0x165),{'sequences':_0x300367});}}catch(_0x400424){}return;}if(_0x503ec3[_0x12407f(0x153)](_0x12407f(0x126))&&_0x2a3e0e[_0x12407f(0x175)]){this['setState'](_0x503ec3,{'val':![],'ack':!![]});if(this[_0x12407f(0x13d)])try{const _0x209234=await this[_0x12407f(0x19d)](_0x12407f(0x195));if(_0x209234&&_0x209234[_0x12407f(0x175)])pythonBridge[_0x12407f(0x18d)](this,'TRAIN_HEALTH',{'digests':JSON[_0x12407f(0x1c0)](_0x209234['val'])});}catch(_0x4d4e63){}return;}if(_0x503ec3[_0x12407f(0x153)](_0x12407f(0x129))&&_0x2a3e0e['val']){this[_0x12407f(0x1db)](_0x503ec3,{'val':![],'ack':!![]});if(this[_0x12407f(0x13d)])try{const _0x4eaee6=await this[_0x12407f(0x19d)](_0x12407f(0x1d4));if(_0x4eaee6&&_0x4eaee6[_0x12407f(0x175)])pythonBridge[_0x12407f(0x18d)](this,_0x12407f(0x1bc),{'points':JSON[_0x12407f(0x1c0)](_0x4eaee6[_0x12407f(0x175)])});}catch(_0x460da5){}return;}if(_0x503ec3['includes'](_0x12407f(0x102))&&_0x2a3e0e[_0x12407f(0x175)]){this[_0x12407f(0x1db)](_0x503ec3,{'val':![],'ack':!![]});if(this[_0x12407f(0x13d)])try{const _0x1dea80=await this[_0x12407f(0x19d)](_0x12407f(0x1ae));if(_0x1dea80&&_0x1dea80['val'])pythonBridge[_0x12407f(0x18d)](this,'TRAIN_COMFORT',{'events':JSON[_0x12407f(0x1c0)](_0x1dea80[_0x12407f(0x175)])});}catch(_0x534218){}return;}if(_0x503ec3['includes']('analysis.training.triggerTopology')&&_0x2a3e0e[_0x12407f(0x175)]){this['setState'](_0x503ec3,{'val':![],'ack':!![]}),topology[_0x12407f(0x120)](this);return;}}if(this[_0x12407f(0x108)][_0x12407f(0x1cd)]&&this[_0x12407f(0x108)]['presenceDevices'][_0x12407f(0x153)](_0x503ec3)){await this[_0x12407f(0x156)]();return;}const _0xf3716b=(this[_0x12407f(0x108)][_0x12407f(0x117)]||[])[_0x12407f(0xfa)](_0x2f18eb=>_0x2f18eb['id']===_0x503ec3);if(_0xf3716b){const _0x510e19=await recorder['processSensorEvent'](this,_0x503ec3,_0x2a3e0e,_0xf3716b);_0x510e19&&_0x510e19[_0x12407f(0x114)]===_0x12407f(0x1d0)&&_0x510e19['location']&&this[_0x12407f(0x13d)]&&deadMan['updateLocation'](this,_0x510e19[_0x12407f(0x167)]);}}async[a0_0x5b5564(0xfd)](_0x533839){const _0x2c1ae7=a0_0x5b5564;if(typeof _0x533839===_0x2c1ae7(0x1e5)&&_0x533839[_0x2c1ae7(0x1cb)]){if(_0x533839[_0x2c1ae7(0x163)]==='checkThermostats')try{const _0x3760eb=await automation[_0x2c1ae7(0x1de)](this);this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'results':_0x3760eb},_0x533839[_0x2c1ae7(0x1c4)]);}catch(_0x427dda){this[_0x2c1ae7(0x13a)](_0x533839['from'],_0x533839[_0x2c1ae7(0x163)],{'success':![],'error':_0x427dda[_0x2c1ae7(0x1cb)]},_0x533839[_0x2c1ae7(0x1c4)]);}else{if(_0x533839[_0x2c1ae7(0x163)]===_0x2c1ae7(0x1a5))try{const {current_temps:_0x164a82,t_out:_0x38eb12,targets:_0x4c9ffa,t_forecast:_0x997248}=_0x533839[_0x2c1ae7(0x1cb)],_0x148279=[];let _0x19bef4={};try{const _0x1b5a0c=await this['getStateAsync'](_0x2c1ae7(0x14e));if(_0x1b5a0c&&_0x1b5a0c[_0x2c1ae7(0x175)]){const _0x247621=JSON[_0x2c1ae7(0x1c0)](_0x1b5a0c[_0x2c1ae7(0x175)]);_0x19bef4=_0x247621[_0x2c1ae7(0x1ee)]||_0x247621;}}catch(_0x448a22){}const _0x52c25e=_0x997248!==undefined&&_0x997248!==null?(_0x38eb12+_0x997248)/0x2:_0x38eb12;for(const [_0x4c1ad1,_0x225b56]of Object[_0x2c1ae7(0x1ce)](_0x164a82)){const _0x3f990a=_0x4c9ffa[_0x4c1ad1]||0x15;if(_0x225b56<=_0x3f990a)continue;let _0xf6e90b=_0x19bef4[_0x4c1ad1]||-0.5;if(_0xf6e90b>=0x0)_0xf6e90b=-0.5;const _0xdf3ce6=Math[_0x2c1ae7(0x116)](_0xf6e90b),_0x4ead99=_0x225b56-_0x3f990a;let _0x1a0608=Math[_0x2c1ae7(0x1e4)](_0x4ead99/_0xdf3ce6*0x3c);const _0x4f855f=_0x225b56-_0x38eb12,_0x38f255=_0x225b56-_0x52c25e;if(_0x38f255!==0x0&&_0x4f855f!==0x0){const _0x390230=_0x4f855f/_0x38f255;_0x1a0608=Math[_0x2c1ae7(0x1e4)](_0x1a0608*_0x390230);}if(_0x1a0608>0xf){if(_0x1a0608>0xf0)_0x1a0608=0xf0;_0x148279[_0x2c1ae7(0x1eb)]({'room':_0x4c1ad1,'minutes_safe':_0x1a0608,'target':_0x3f990a,'current':_0x225b56,'savings_msg':'Heizung\x20kann\x20'+_0x1a0608+_0x2c1ae7(0x11f)});}}_0x148279[_0x2c1ae7(0x103)]((_0x1c9010,_0x46333d)=>_0x46333d[_0x2c1ae7(0x191)]-_0x1c9010[_0x2c1ae7(0x191)]),this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'proposals':_0x148279},_0x533839[_0x2c1ae7(0x1c4)]);}catch(_0x1d2173){this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':![],'error':_0x1d2173[_0x2c1ae7(0x1cb)]},_0x533839[_0x2c1ae7(0x1c4)]);}else{if(_0x533839[_0x2c1ae7(0x163)]===_0x2c1ae7(0x149))await this[_0x2c1ae7(0x15e)](_0x2c1ae7(0x190),{'val':![],'ack':!![]}),await this[_0x2c1ae7(0x15e)](_0x2c1ae7(0x152),{'val':'','ack':!![]}),await this[_0x2c1ae7(0x15e)]('analysis.automation.targetId',{'val':'','ack':!![]}),this['sendTo'](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':!![]},_0x533839['callback']);else{if(_0x533839[_0x2c1ae7(0x163)]===_0x2c1ae7(0x1c3)){const {targetId:_0x3cea1c,targetValue:_0x19c493}=_0x533839[_0x2c1ae7(0x1cb)];await this['setStateAsync'](_0x2c1ae7(0x190),{'val':!![],'ack':!![]}),await this['setStateAsync'](_0x2c1ae7(0x152),{'val':_0x2c1ae7(0x1a9),'ack':!![]}),await this['setStateAsync'](_0x2c1ae7(0xfb),{'val':_0x3cea1c,'ack':!![]}),await this[_0x2c1ae7(0x15e)](_0x2c1ae7(0x1d6),{'val':String(_0x19c493),'ack':!![]}),this['sendTo'](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':!![]},_0x533839['callback']);}else{if(_0x533839[_0x2c1ae7(0x163)]===_0x2c1ae7(0x132))try{const _0xd2d453=_0x533839[_0x2c1ae7(0x1cb)]['apiKey'];if(!_0xd2d453)throw new Error(_0x2c1ae7(0x10d));const _0x2357db=new GoogleGenerativeAI(_0xd2d453),_0x3e41b9=_0x2357db[_0x2c1ae7(0x130)]({'model':GEMINI_MODEL}),_0x426f61=await _0x3e41b9[_0x2c1ae7(0x113)](_0x2c1ae7(0x1aa)),_0x17729e=await _0x426f61[_0x2c1ae7(0x194)];if(_0x17729e['text']())this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'message':_0x2c1ae7(0x17d)},_0x533839['callback']);else throw new Error(_0x2c1ae7(0x1f6));}catch(_0x28667a){this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':![],'message':_0x28667a[_0x2c1ae7(0x1cb)]},_0x533839[_0x2c1ae7(0x1c4)]);}else{if(_0x533839[_0x2c1ae7(0x163)]===_0x2c1ae7(0x1e6))try{const _0x12655b=await scanner[_0x2c1ae7(0x1f2)](this,_0x533839['message']||{});this[_0x2c1ae7(0x13a)](_0x533839['from'],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'devices':_0x12655b},_0x533839['callback']);}catch(_0x28fc6c){this['sendTo'](_0x533839['from'],_0x533839['command'],{'success':![],'error':_0x28fc6c[_0x2c1ae7(0x1cb)]},_0x533839[_0x2c1ae7(0x1c4)]);}else{if(_0x533839[_0x2c1ae7(0x163)]===_0x2c1ae7(0x13f))try{const {matrix:_0x19c16d}=_0x533839[_0x2c1ae7(0x1cb)],_0x167db7=await this['getStateAsync']('analysis.topology.structure');if(_0x167db7&&_0x167db7[_0x2c1ae7(0x175)]){const _0x129253=JSON[_0x2c1ae7(0x1c0)](_0x167db7[_0x2c1ae7(0x175)]);_0x129253[_0x2c1ae7(0x146)]=_0x19c16d,_0x129253[_0x2c1ae7(0x131)]=Date['now'](),await this[_0x2c1ae7(0x15e)](_0x2c1ae7(0x1e2),{'val':JSON[_0x2c1ae7(0x147)](_0x129253),'ack':!![]}),pythonBridge[_0x2c1ae7(0x18d)](this,_0x2c1ae7(0x1be),_0x129253);}this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':!![]},_0x533839[_0x2c1ae7(0x1c4)]);}catch(_0x9f6c13){this['log'][_0x2c1ae7(0x184)](_0x9f6c13);}else{if(_0x533839['command']===_0x2c1ae7(0x13c))this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'dailyDigests':this[_0x2c1ae7(0x106)]||[],'analysisHistory':this[_0x2c1ae7(0x1ad)]||[]},_0x533839[_0x2c1ae7(0x1c4)]);else{if(_0x533839[_0x2c1ae7(0x163)]===_0x2c1ae7(0x119)){const _0x25db8c=this['dailyDigests'][_0x2c1ae7(0x1c1)],_0x2b0da7=new Array(0x18)[_0x2c1ae7(0x151)](0x0),_0x127413=new Date()[_0x2c1ae7(0x14c)](0x0,0x0,0x0,0x0);this[_0x2c1ae7(0x173)]&&this['eventHistory']['forEach'](_0x4abba0=>{const _0x2764b6=_0x2c1ae7;if(_0x4abba0['timestamp']>=_0x127413){const _0x3202d4=new Date(_0x4abba0[_0x2764b6(0x162)])['getHours']();if(_0x3202d4>=0x0&&_0x3202d4<0x18)_0x2b0da7[_0x3202d4]++;}});let _0x5eec63=![],_0x4be800='',_0x9e5c68='',_0x2b39b0='';try{const _0x475b7d=await this[_0x2c1ae7(0x19d)]('analysis.automation.patternDetected');if(_0x475b7d&&_0x475b7d[_0x2c1ae7(0x175)]){_0x5eec63=!![];const _0x3a9c83=await this[_0x2c1ae7(0x19d)](_0x2c1ae7(0x152));_0x4be800=_0x3a9c83?_0x3a9c83['val']:'';const _0x392f24=await this['getStateAsync']('analysis.automation.targetId');_0x9e5c68=_0x392f24?_0x392f24[_0x2c1ae7(0x175)]:'';const _0x49ee2c=await this[_0x2c1ae7(0x19d)]('analysis.automation.targetValue');_0x2b39b0=_0x49ee2c?_0x49ee2c[_0x2c1ae7(0x175)]:'';}}catch(_0x5def84){}const _0x59c628=await this[_0x2c1ae7(0x1ef)](),_0x1355b1=(this[_0x2c1ae7(0x108)][_0x2c1ae7(0x117)]||[])[_0x2c1ae7(0x141)](_0x42335a=>_0x42335a[_0x2c1ae7(0x1d8)]),_0x47f15f=_0x59c628&&_0x1355b1;this[_0x2c1ae7(0x13a)](_0x533839['from'],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'eventHistory':this[_0x2c1ae7(0x173)][_0x2c1ae7(0xf9)](0x0,0xf),'stats':{'digestCount':_0x25db8c,'isPresent':this['isPresent'],'hourlyActivity':_0x2b0da7,'solarActive':_0x47f15f},'automation':{'detected':_0x5eec63,'description':_0x4be800,'targetId':_0x9e5c68,'targetValue':_0x2b39b0}},_0x533839[_0x2c1ae7(0x1c4)]);}else{if(_0x533839['command']==='getEnums'){const _0x2724a5=await this['getForeignObjectsAsync'](_0x2c1ae7(0x160),'enum'),_0x4f8476=[];if(_0x2724a5)for(const _0x57f62e in _0x2724a5){const _0x5194c1=_0x2724a5[_0x57f62e],_0x136ea2=(_0x5194c1['common']&&typeof _0x5194c1[_0x2c1ae7(0x1ac)][_0x2c1ae7(0xff)]==='object'?_0x5194c1['common'][_0x2c1ae7(0xff)]['de']:_0x5194c1[_0x2c1ae7(0x1ac)][_0x2c1ae7(0xff)])||_0x5194c1['common'][_0x2c1ae7(0xff)];_0x4f8476['push']({'id':_0x57f62e,'name':_0x136ea2});}const _0x46c6a7=await this[_0x2c1ae7(0x1cc)](_0x2c1ae7(0x182),_0x2c1ae7(0x1dd)),_0x4a48d5=[];if(_0x46c6a7)for(const _0x46ca7c in _0x46c6a7){const _0x366b29=_0x46c6a7[_0x46ca7c],_0x5f2ec2=(_0x366b29['common']&&typeof _0x366b29['common'][_0x2c1ae7(0xff)]===_0x2c1ae7(0x1e5)?_0x366b29[_0x2c1ae7(0x1ac)]['name']['de']:_0x366b29[_0x2c1ae7(0x1ac)][_0x2c1ae7(0xff)])||_0x46ca7c[_0x2c1ae7(0x183)]('.')[_0x2c1ae7(0x193)]();_0x4a48d5[_0x2c1ae7(0x1eb)](_0x5f2ec2);}this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'enums':_0x4f8476,'rooms':_0x4a48d5},_0x533839[_0x2c1ae7(0x1c4)]);}else{if(_0x533839[_0x2c1ae7(0x163)]==='testContext')try{let _0x1f828c='Kein\x20Wetter-Adapter',_0x147a82=_0x2c1ae7(0x1af);if(this[_0x2c1ae7(0x108)]['useWeather']){const _0x5c44f3=await recorder[_0x2c1ae7(0x133)](this);_0x1f828c=_0x5c44f3!==null?_0x5c44f3+'Â°C':_0x2c1ae7(0x138);}if(this[_0x2c1ae7(0x108)][_0x2c1ae7(0x181)]){const _0x57ab09=await this[_0x2c1ae7(0xfe)](_0x2c1ae7(0x10a)+this[_0x2c1ae7(0x108)][_0x2c1ae7(0x181)]);_0x147a82=_0x57ab09?'Verbunden':_0x2c1ae7(0x17f);}this[_0x2c1ae7(0x13a)](_0x533839['from'],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'weather':_0x1f828c,'calendar':_0x147a82},_0x533839[_0x2c1ae7(0x1c4)]);}catch(_0x37ffb7){this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839['command'],{'success':![],'error':_0x37ffb7[_0x2c1ae7(0x1cb)]},_0x533839[_0x2c1ae7(0x1c4)]);}else{if(_0x533839['command']===_0x2c1ae7(0x178))try{const _0x416441=_0x533839[_0x2c1ae7(0x1cb)][_0x2c1ae7(0x1a7)],_0x4d9eea=await this[_0x2c1ae7(0x150)](_0x416441+'.data.table');let _0x428084=[];if(_0x4d9eea&&_0x4d9eea[_0x2c1ae7(0x175)]){const _0x5e39f2=JSON[_0x2c1ae7(0x1c0)](_0x4d9eea['val']),_0x29d173=new Set();Array['isArray'](_0x5e39f2)&&_0x5e39f2[_0x2c1ae7(0x185)](_0x2dfdd1=>{const _0x5ed48a=_0x2c1ae7;if(_0x2dfdd1[_0x5ed48a(0x1bd)])_0x29d173['add'](_0x2dfdd1[_0x5ed48a(0x1bd)]);else{if(_0x2dfdd1[_0x5ed48a(0x1e1)])_0x29d173[_0x5ed48a(0x1ca)](_0x2dfdd1[_0x5ed48a(0x1e1)]);}}),_0x428084=Array[_0x2c1ae7(0x101)](_0x29d173)[_0x2c1ae7(0x103)]();}if(_0x428084[_0x2c1ae7(0x1c1)]===0x0)_0x428084=[_0x2c1ae7(0x19c)];this[_0x2c1ae7(0x13a)](_0x533839[_0x2c1ae7(0x101)],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'names':_0x428084},_0x533839[_0x2c1ae7(0x1c4)]);}catch(_0x5ce899){this[_0x2c1ae7(0x13a)](_0x533839['from'],_0x533839[_0x2c1ae7(0x163)],{'success':![],'error':_0x5ce899[_0x2c1ae7(0x1cb)]},_0x533839[_0x2c1ae7(0x1c4)]);}else{if(_0x533839[_0x2c1ae7(0x163)]==='testNotification')try{await setup['sendNotification'](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0x2c1ae7(0x13a)](_0x533839['from'],_0x533839[_0x2c1ae7(0x163)],{'success':!![],'message':_0x2c1ae7(0x10f)},_0x533839[_0x2c1ae7(0x1c4)]);}catch(_0x3a728f){this['log'][_0x2c1ae7(0x184)](_0x2c1ae7(0x180)+_0x3a728f[_0x2c1ae7(0x1cb)]),this[_0x2c1ae7(0x13a)](_0x533839['from'],_0x533839[_0x2c1ae7(0x163)],{'success':![],'message':_0x2c1ae7(0x140)+_0x3a728f['message']},_0x533839[_0x2c1ae7(0x1c4)]);}}}}}}}}}}}}}}}async[a0_0x5b5564(0x1b1)](){const _0x51c214=a0_0x5b5564;try{const _0x3b01ad=await this[_0x51c214(0x19d)](setup['SYSTEM_DP_MODE']);_0x3b01ad&&_0x3b01ad['val']&&Object[_0x51c214(0x14a)](setup[_0x51c214(0x1f1)])['includes'](_0x3b01ad[_0x51c214(0x175)])?this[_0x51c214(0x1b4)]=_0x3b01ad[_0x51c214(0x175)]:(this[_0x51c214(0x1b4)]=setup[_0x51c214(0x1f1)][_0x51c214(0x134)],await this[_0x51c214(0x15e)](setup[_0x51c214(0x1cf)],{'val':setup[_0x51c214(0x1f1)][_0x51c214(0x134)],'ack':!![]}));}catch(_0x3a0ae8){this[_0x51c214(0x1b4)]=setup['SYSTEM_MODES'][_0x51c214(0x134)];}}async[a0_0x5b5564(0x156)](){const _0x405793=a0_0x5b5564;try{const _0x26f9f0=this[_0x405793(0x108)][_0x405793(0x1cd)]||[];let _0x465c5d=![];const _0x52c789=[];for(const _0xfabfd5 of _0x26f9f0){try{const _0x482b2f=await this[_0x405793(0x150)](_0xfabfd5);_0x482b2f&&(_0x482b2f[_0x405793(0x175)]===!![]||_0x482b2f[_0x405793(0x175)]==='online'||_0x482b2f[_0x405793(0x175)]===0x1)&&(_0x465c5d=!![],_0x52c789[_0x405793(0x1eb)](_0xfabfd5));}catch(_0x1370b1){}}return await this[_0x405793(0x15e)]('system.presenceWho',{'val':_0x52c789['join'](',\x20'),'ack':!![]}),_0x465c5d&&(this[_0x405793(0x139)]&&(this[_0x405793(0x192)][_0x405793(0x18b)](_0x405793(0x124)),recorder[_0x405793(0x1ea)](this)),!this[_0x405793(0x1ab)]&&this[_0x405793(0x1b4)]===setup[_0x405793(0x1f1)]['NORMAL']&&await recorder[_0x405793(0x1b6)](this,!![])),_0x465c5d;}catch(_0x2eda58){return![];}}async[a0_0x5b5564(0x111)](){const _0x4f184d=a0_0x5b5564;this['log'][_0x4f184d(0x1b8)](_0x4f184d(0x1b9)),await aiAgent[_0x4f184d(0x1d3)](this),this[_0x4f184d(0x1dc)](),this['triggerGaitAnalysis'](),this[_0x4f184d(0x16c)]();}async[a0_0x5b5564(0x1ef)](){const _0x460bf0=a0_0x5b5564,_0x1c64b6=['weatherunderground.0',_0x460bf0(0x199),_0x460bf0(0x188)],_0x31951d=['forecast.current.weather','Current.WeatherText',_0x460bf0(0x1b0)];for(const _0x4d82ee of _0x1c64b6){for(const _0x3b24f7 of _0x31951d){try{const _0x444094=_0x4d82ee+'.'+_0x3b24f7,_0xe35832=await this[_0x460bf0(0x150)](_0x444094);if(_0xe35832&&_0xe35832['val']){const _0x1dfdcb=String(_0xe35832['val'])[_0x460bf0(0x148)]();if(_0x1dfdcb[_0x460bf0(0x153)](_0x460bf0(0x1f5))||_0x1dfdcb[_0x460bf0(0x153)](_0x460bf0(0x18c))||_0x1dfdcb[_0x460bf0(0x153)](_0x460bf0(0xfc))||_0x1dfdcb['includes'](_0x460bf0(0x158))||_0x1dfdcb[_0x460bf0(0x153)](_0x460bf0(0x16a)))return!![];}}catch(_0x298814){}}}return![];}[a0_0x5b5564(0x1bb)](){const _0x63bddb=a0_0x5b5564;if(!this[_0x63bddb(0x13d)])return;try{this['getState'](_0x63bddb(0x177),(_0x5993c6,_0x11249e)=>{const _0x2f05f7=_0x63bddb;_0x11249e&&_0x11249e['val']&&pythonBridge['send'](this,'ANALYZE_GAIT',{'sequences':JSON[_0x2f05f7(0x1c0)](_0x11249e[_0x2f05f7(0x175)])});});}catch(_0x4a3db5){}}async['triggerEnergyPrediction'](){const _0x601cd7=a0_0x5b5564;if(!this[_0x601cd7(0x13d)])return;try{const _0x1984db=await recorder['getOutsideTemperatureNumeric'](this);if(_0x1984db===null)return;const _0x2916bd={},_0x2f77b9={},_0xbf64f2=this[_0x601cd7(0x108)][_0x601cd7(0x117)]||[];for(const _0x2107a1 of _0xbf64f2){if(_0x2107a1[_0x601cd7(0x114)]===_0x601cd7(0x198)&&_0x2107a1[_0x601cd7(0x167)]){const _0x3c6532=this[_0x601cd7(0x176)][_0x2107a1['id']];if(_0x3c6532!==undefined)_0x2916bd[_0x2107a1['location']]=_0x3c6532;if(_0x2107a1[_0x601cd7(0x1d8)])_0x2f77b9[_0x2107a1[_0x601cd7(0x167)]]=!![];}}const _0x419ec5=await this[_0x601cd7(0x1ef)]();let _0x71f804={};try{const _0x5d2814=await this['getStateAsync']('analysis.energy.warmupTargets');if(_0x5d2814&&_0x5d2814[_0x601cd7(0x175)])_0x71f804=JSON[_0x601cd7(0x1c0)](_0x5d2814[_0x601cd7(0x175)]);}catch(_0x522ce4){}Object['keys'](_0x2916bd)[_0x601cd7(0x1c1)]>0x0&&(pythonBridge[_0x601cd7(0x18d)](this,_0x601cd7(0x12a),{'current_temps':_0x2916bd,'t_out':_0x1984db,'is_sunny':_0x419ec5,'solar_flags':_0x2f77b9,'warmup_targets':_0x71f804}),pythonBridge['send'](this,'OPTIMIZE_ENERGY',{'current_temps':_0x2916bd,'t_out':_0x1984db,'targets':{}}));}catch(_0x2a7550){}}[a0_0x5b5564(0x1dc)](){const _0x95de4b=a0_0x5b5564;if(!this[_0x95de4b(0x11c)]||this['rawEventLog'][_0x95de4b(0x1c1)]===0x0)return;const _0x1a99a2=new Array(0x60)[_0x95de4b(0x151)](0x0),_0x1fbee9=new Date()[_0x95de4b(0x14c)](0x0,0x0,0x0,0x0);this['rawEventLog'][_0x95de4b(0x185)](_0x794f4=>{const _0x279710=_0x95de4b,_0x41cd8a=new Date(_0x794f4[_0x279710(0x162)]);if(_0x41cd8a[_0x279710(0x1b7)]()>=_0x1fbee9){const _0x2aaafd=_0x41cd8a[_0x279710(0x1c9)](),_0x488cb1=_0x41cd8a['getMinutes'](),_0x5a7989=_0x2aaafd*0x4+Math[_0x279710(0x1e4)](_0x488cb1/0xf);if(_0x5a7989>=0x0&&_0x5a7989<0x60)_0x1a99a2[_0x5a7989]++;}}),this[_0x95de4b(0x15e)]('analysis.health.todayVector',{'val':JSON[_0x95de4b(0x147)](_0x1a99a2),'ack':!![]});}[a0_0x5b5564(0x159)](){const _0x5f05fe=a0_0x5b5564;if(!this[_0x5f05fe(0x106)]||this[_0x5f05fe(0x106)][_0x5f05fe(0x1c1)]<0x2)return;const _0x27faa6=this[_0x5f05fe(0x106)][_0x5f05fe(0x18f)](_0x2e0d8b=>{const _0x1c0aec=_0x5f05fe,_0xe51e09=(_0x2e0d8b[_0x1c0aec(0x1f3)]||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0xe51e09]||0x32;});pythonBridge[_0x5f05fe(0x18d)](this,_0x5f05fe(0x155),{'values':_0x27faa6,'tag':'Activity-Level'});}}if(require[a0_0x5b5564(0xf8)]!==module)module['exports']=_0x28f2a2=>new CogniLiving(_0x28f2a2);else new CogniLiving();