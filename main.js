const a0_0x1302fb=a0_0x20e1;(function(_0x76f151,_0x101358){const _0x55efaf=a0_0x20e1,_0x4bd5b9=_0x76f151();while(!![]){try{const _0x574de9=-parseInt(_0x55efaf(0x1d6))/0x1*(-parseInt(_0x55efaf(0x18c))/0x2)+-parseInt(_0x55efaf(0x1b8))/0x3*(-parseInt(_0x55efaf(0x115))/0x4)+-parseInt(_0x55efaf(0x1a8))/0x5+-parseInt(_0x55efaf(0x138))/0x6+parseInt(_0x55efaf(0x18e))/0x7*(-parseInt(_0x55efaf(0x1a1))/0x8)+parseInt(_0x55efaf(0x1c8))/0x9+parseInt(_0x55efaf(0x1ca))/0xa;if(_0x574de9===_0x101358)break;else _0x4bd5b9['push'](_0x4bd5b9['shift']());}catch(_0x95aa87){_0x4bd5b9['push'](_0x4bd5b9['shift']());}}}(a0_0x24c1,0xa1ba1));const a0_0xdaac7c=(function(){let _0x4e4d85=!![];return function(_0x4cfad8,_0x49a083){const _0x1544fd=_0x4e4d85?function(){if(_0x49a083){const _0x201c9e=_0x49a083['apply'](_0x4cfad8,arguments);return _0x49a083=null,_0x201c9e;}}:function(){};return _0x4e4d85=![],_0x1544fd;};}()),a0_0x4ad225=a0_0xdaac7c(this,function(){const _0x2cbe8f=a0_0x20e1;return a0_0x4ad225[_0x2cbe8f(0x167)]()[_0x2cbe8f(0x17a)](_0x2cbe8f(0x16d))['toString']()['constructor'](a0_0x4ad225)['search']('(((.+)+)+)+$');});function a0_0x24c1(){const _0x2152f2=['7620978xcpoOg','Notification\x20Test\x20Failed:\x20','TRAIN_COMFORT','floor',')\x20-\x20Phase\x20D\x20(Evolution)','dailyDigests','LTM.dailyDigests','getForeignObjectsAsync','scores','setState','analysisTimer','lastTrackerEventTime','Test','Active\x20Ventilation\x20Alerts','Standard','updateTopology','getOutsideTemperatureNumeric','analysis.automation.autoApply','now','updateTopologyMatrix','NORMAL','.data.table','Gemini\x20AI\x20initialized.','exitGraceTimer','LTM.rawEventLog','abortExitTimer','WiFi\x20Presence\x20detected.','message','forecast.current.weather','ANALYZE_TREND','initSystemConfig','TRAIN_ENERGY','_calName','driftAnalysisTimer','getMinutes','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','./lib/scheduler','models/gemini-flash-latest','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','runAutopilot','inactivityThresholdHours','scanForDevices','Key\x20not\x20found\x20or\x20not\x20provided','Heizung\x20kann\x20','SYSTEM_MODES','analysis.security.learningStatus','.communicate.request','toString','sensorLastValues','notifyTelegramInstance','pop','config','command','(((.+)+)+)+$','eventHistory','analysis.automation.description','enum.rooms.*','communicate.request','analysis.training.triggerTopology','send','{\x22default\x22:\x2021}','rawEventLog','Sec-Training\x20started...','./lib/ai_agent','fill','entries','search','calendarInstance','cogni-living\x20adapter\x20starting\x20(v','setupLtmScheduler','parse','telegram','analysis.training.triggerEnergy','checkAndInstall','calendarName','Kein\x20Kalender-Adapter','@iobroker/adapter-core','OPTIMIZE_ENERGY','Kein\x20API\x20Key\x20Ã¼bergeben','geminiApiKey','Simulation\x20durch\x20Admin\x20(Test)','Adapter','cogni-living','getLtmData','4jmUjnI','genAI','49zvxwIn','getOverviewData','updateHealthVector','from','licenseKey','loadSystemMode','checkSolarCondition','Instanz\x20nicht\x20gefunden','split','minutes_safe','testNotification','notifyTelegramEnabled','executeAutomationAction','apiKey','object','toLowerCase','getStateAsync','includes','isSolar','916728dgpgwx','minDaysForBaseline','triggerGaitAnalysis','onReady','Activity-Level','briefingJob','exitTimer','1071200SvJgPf','currentSystemMode','stopService','processSensorEvent','string','setHours','location','PYTHON_EXE','checkWifiPresence','add','error','subscribeForeignStatesAsync','Reinforcement\x20Learning\x20Penalties','analysis.energy.ventilationAlerts','motion','push','31923pGkGjz','unload','SYSTEM_DP_MODE','geminiModel','isProVersion','json','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','./lib/scanner','callback','name','endsWith','onMessage','trackerHeartbeat','exports','PINN\x20AI\x20Forecast','timestamp','476802YgJUPd','analysis.energy.warmupTargets','13959600feFnwf','onUnload','analysis.energy.rlPenalties','isPresent','LTM.baselineStatus','ready','Keine\x20Antwort\x20von\x20Gemini','trackerEnabled','VACATION','some','party','modeResetJob','276493mGzRfa','keys','subscribeStates','manual','devices','analysis.automation.patternDetected','Gemini\x20Init\x20Error:\x20','triggerEnergyPrediction','analysis.automation.targetId','startSystem','bind','setObjectNotExistsAsync','TRAIN_SECURITY','setStateAsync','analysis.triggerBriefing','LTM.triggerDailyDigest','debug','stateChange','dependencyInstallInProgress','sendMorningBriefing','map','Warm-Up\x20Target\x20Temps\x20(JSON)','\x20Tage)','isGracePeriodActive','analysisHistory','cleanupGhostInterventions','analysis.training.triggerSecurity','main','temperature','analysis.energy.insulationScore','namespace','automation.triggerAction','setupDriftAnalysisScheduler','scanThermostats','initZombies','./lib/topology','checkCalendarTriggers','presenceDevices','./lib/automation','common','type','slice','triggerDailyDigest','analysis.training.triggerComfort','Aktiv\x20(','./lib/installer','testContext','initHistory','TRAIN_HEALTH','getForeignStateAsync','LTM.trainingData.thermodynamics','Verbunden','getState','SET_TOPOLOGY','setPresence','onStateChange','analysis.training.triggerHealth','checkLicense','length','ltmJob','join','PREDICT_ENERGY','.system.mode','Lernphase\x20(','analysis.health.todayVector','systemConfig','application/json','key','sort','val','356XKsHkx','createDailyDigest','LTM.trainingData.sequences','instance','runPythonHealthCheck','forEach','weatherunderground.0','getHours','text','analysis.energy.warmupTimes','dismissAutomation','Gesendet','./lib/dead_man','getTime','online','ack','state','sunny','getGenerativeModel','Current.WeatherText','daswetter.0','info','sendTo','system.adapter.','cancel','./lib/python_bridge','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','isArray','stringify','system.mode','log','analysis.topology.structure','@google/generative-ai','analysis.trigger','triggerBriefing'];a0_0x24c1=function(){return _0x2152f2;};return a0_0x24c1();}a0_0x4ad225();function a0_0x20e1(_0x394719,_0x4bef52){const _0x4f1de1=a0_0x24c1();return a0_0x20e1=function(_0x4ad225,_0xdaac7c){_0x4ad225=_0x4ad225-0x10b;let _0x24c19d=_0x4f1de1[_0x4ad225];return _0x24c19d;},a0_0x20e1(_0x394719,_0x4bef52);}'use strict';const utils=require(a0_0x1302fb(0x184)),{GoogleGenerativeAI}=require(a0_0x1302fb(0x135)),installer=require(a0_0x1302fb(0x203)),scanner=require(a0_0x1302fb(0x1bf)),schedulers=require(a0_0x1302fb(0x15c)),topology=require(a0_0x1302fb(0x1f9)),setup=require('./lib/setup'),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x1302fb(0x12e)),aiAgent=require(a0_0x1302fb(0x177)),deadMan=require(a0_0x1302fb(0x121)),automation=require(a0_0x1302fb(0x1fc)),GEMINI_MODEL=a0_0x1302fb(0x15d),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x1302fb(0x189)]{constructor(_0xf89972){const _0x4d59e7=a0_0x1302fb;super({..._0xf89972,'name':_0x4d59e7(0x18a)}),this[_0x4d59e7(0x16e)]=[],this[_0x4d59e7(0x1ee)]=[],this['rawEventLog']=[],this[_0x4d59e7(0x13d)]=[],this[_0x4d59e7(0x168)]={},this[_0x4d59e7(0x110)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x4d59e7(0x1cd)]=!![],this['exitTimer']=null,this[_0x4d59e7(0x14f)]=null,this[_0x4d59e7(0x1ed)]=![],this[_0x4d59e7(0x18d)]=null,this[_0x4d59e7(0x1bb)]=null,this[_0x4d59e7(0x1a9)]=setup['SYSTEM_MODES'][_0x4d59e7(0x14c)],this[_0x4d59e7(0x1bc)]=![],this['lastAlertState']=![],this['analysisTimer']=null,this[_0x4d59e7(0x211)]=null,this[_0x4d59e7(0x1d5)]=null,this['driftAnalysisTimer']=null,this['briefingJob']=null,this[_0x4d59e7(0x1e8)]=![],this[_0x4d59e7(0x1c4)]=null,this[_0x4d59e7(0x143)]=Date['now'](),this['on'](_0x4d59e7(0x1cf),this[_0x4d59e7(0x1a4)][_0x4d59e7(0x1e0)](this)),this['on'](_0x4d59e7(0x1e7),this['onStateChange'][_0x4d59e7(0x1e0)](this)),this['on'](_0x4d59e7(0x1b9),this[_0x4d59e7(0x1cb)][_0x4d59e7(0x1e0)](this)),this['on'](_0x4d59e7(0x153),this['onMessage']['bind'](this));}async[a0_0x1302fb(0x1a4)](){const _0x595902=a0_0x1302fb;this['log']['info'](_0x595902(0x17c)+this['version']+_0x595902(0x13c));if(!installer[_0x595902(0x181)](this,()=>this[_0x595902(0x1df)]()))return;}async[a0_0x1302fb(0x1df)](){const _0x4bf834=a0_0x1302fb;await setup[_0x4bf834(0x1f8)](this);try{this[_0x4bf834(0x1bc)]=await setup[_0x4bf834(0x20f)](this[_0x4bf834(0x16b)][_0x4bf834(0x192)]);}catch(_0x4aea86){}if(!this['config'][_0x4bf834(0x160)]||this[_0x4bf834(0x16b)][_0x4bf834(0x160)]<0.1)this['config']['inactivityThresholdHours']=0xc;await setup[_0x4bf834(0x205)](this),await setup[_0x4bf834(0x156)](this);if(this[_0x4bf834(0x16b)]['geminiApiKey'])try{this[_0x4bf834(0x18d)]=new GoogleGenerativeAI(this[_0x4bf834(0x16b)][_0x4bf834(0x187)]),this[_0x4bf834(0x1bb)]=this[_0x4bf834(0x18d)][_0x4bf834(0x127)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x4bf834(0x111)}}),this['log'][_0x4bf834(0x12a)](_0x4bf834(0x14e));}catch(_0x55ce35){this['log']['error'](_0x4bf834(0x1dc)+_0x55ce35[_0x4bf834(0x153)]);}await setup['createAllObjects'](this),await this[_0x4bf834(0x193)](),await this[_0x4bf834(0x1e1)]('analysis.energy.pinnForecast',{'type':_0x4bf834(0x125),'common':{'name':_0x4bf834(0x1c6),'type':_0x4bf834(0x1ac),'role':_0x4bf834(0x1bd),'read':!![],'write':![]},'native':{}}),await this[_0x4bf834(0x1e1)](_0x4bf834(0x1b5),{'type':_0x4bf834(0x125),'common':{'name':_0x4bf834(0x145),'type':_0x4bf834(0x1ac),'role':_0x4bf834(0x1bd),'read':!![],'write':![]},'native':{}}),await this[_0x4bf834(0x1e1)](_0x4bf834(0x11e),{'type':'state','common':{'name':_0x4bf834(0x12f),'type':'string','role':_0x4bf834(0x1bd),'read':!![],'write':![]},'native':{}}),await this[_0x4bf834(0x1e1)](_0x4bf834(0x1c9),{'type':'state','common':{'name':_0x4bf834(0x1eb),'type':_0x4bf834(0x1ac),'role':'json','read':!![],'write':!![],'def':_0x4bf834(0x174)},'native':{}}),await this['setObjectNotExistsAsync'](_0x4bf834(0x1cc),{'type':_0x4bf834(0x125),'common':{'name':_0x4bf834(0x1b4),'type':_0x4bf834(0x1ac),'role':_0x4bf834(0x1bd),'read':!![],'write':![],'def':'{}'},'native':{}});try{const _0x11ae97=await this['getStateAsync'](_0x4bf834(0x150));if(_0x11ae97&&_0x11ae97[_0x4bf834(0x114)])this[_0x4bf834(0x175)]=JSON[_0x4bf834(0x17e)](_0x11ae97[_0x4bf834(0x114)]);}catch(_0x26b8c1){this[_0x4bf834(0x175)]=[];}try{const _0x5986a6=await this[_0x4bf834(0x19e)]('LTM.dailyDigests');if(_0x5986a6&&_0x5986a6[_0x4bf834(0x114)])this[_0x4bf834(0x13d)]=JSON[_0x4bf834(0x17e)](_0x5986a6[_0x4bf834(0x114)]);}catch(_0x6e339f){this[_0x4bf834(0x13d)]=[];}const _0x43826f=this[_0x4bf834(0x13d)]['length']>=(this[_0x4bf834(0x16b)][_0x4bf834(0x1a2)]||0x7)?_0x4bf834(0x202)+this[_0x4bf834(0x13d)][_0x4bf834(0x210)]+_0x4bf834(0x1ec):_0x4bf834(0x10e)+this['dailyDigests'][_0x4bf834(0x210)]+'/'+(this[_0x4bf834(0x16b)][_0x4bf834(0x1a2)]||0x7)+')';await this[_0x4bf834(0x1e3)](_0x4bf834(0x1ce),{'val':_0x43826f,'ack':!![]}),this[_0x4bf834(0x1d8)]('analysis.trigger'),this['subscribeStates'](_0x4bf834(0x1e5)),this[_0x4bf834(0x1d8)](_0x4bf834(0x132)),this['subscribeStates'](_0x4bf834(0x1e4)),this[_0x4bf834(0x1d8)]('analysis.automation.triggerAction'),this[_0x4bf834(0x1d8)](_0x4bf834(0x149)),this['subscribeStates'](_0x4bf834(0x1f0)),this['subscribeStates'](_0x4bf834(0x20e)),this[_0x4bf834(0x1d8)](_0x4bf834(0x180)),this[_0x4bf834(0x1d8)](_0x4bf834(0x201)),this[_0x4bf834(0x1d8)](_0x4bf834(0x172)),this['subscribeStates']('analysis.energy.mpcActive');const _0x1796fc=this['config']['devices'];if(_0x1796fc)for(const _0x210c8b of _0x1796fc){await this[_0x4bf834(0x1b3)](_0x210c8b['id']);}const _0x509b68=this['config'][_0x4bf834(0x1fb)];if(_0x509b68)for(const _0xd2c357 of _0x509b68){await this[_0x4bf834(0x1b3)](_0xd2c357);}if(this[_0x4bf834(0x16b)][_0x4bf834(0x199)]&&this[_0x4bf834(0x16b)][_0x4bf834(0x169)])await this[_0x4bf834(0x1b3)](this[_0x4bf834(0x16b)]['notifyTelegramInstance']+_0x4bf834(0x166));setTimeout(()=>this[_0x4bf834(0x1b0)](),0x1388);if(this[_0x4bf834(0x142)])clearInterval(this[_0x4bf834(0x142)]);const _0x157551=this[_0x4bf834(0x16b)]['analysisInterval']||0xf;_0x157551>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x471d44=_0x4bf834;this[_0x471d44(0x15f)](),automation[_0x471d44(0x1fa)](this);},_0x157551*0x3c*0x3e8)),setTimeout(()=>automation[_0x4bf834(0x1fa)](this),0x2710),this['config'][_0x4bf834(0x1d1)]!==![]&&(this[_0x4bf834(0x1c4)]=setInterval(()=>{const _0x1882e3=_0x4bf834;if(this[_0x1882e3(0x1bc)]){const _0x3315bd=Date[_0x1882e3(0x14a)](),_0x540d6c=this['lastTrackerEventTime']||_0x3315bd,_0x15e7cb=(_0x3315bd-_0x540d6c)/0x3e8;_0x15e7cb>0x2&&(this[_0x1882e3(0x143)]=_0x3315bd,pythonBridge[_0x1882e3(0x173)](this,'TRACK_EVENT',{'room':null,'dt':_0x15e7cb}));}},0xbb8)),schedulers[_0x4bf834(0x17d)](this,()=>aiAgent[_0x4bf834(0x116)](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x4bf834(0x1f6)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent[_0x4bf834(0x1e9)](this)),pythonBridge['startService'](this,installer[_0x4bf834(0x1af)]),setTimeout(async()=>{const _0x19de2f=_0x4bf834;await topology[_0x19de2f(0x147)](this);try{const _0x203d9c=await this['getStateAsync'](_0x19de2f(0x134));if(_0x203d9c&&_0x203d9c['val'])pythonBridge['send'](this,_0x19de2f(0x20b),JSON['parse'](_0x203d9c[_0x19de2f(0x114)]));}catch(_0x880e44){}this[_0x19de2f(0x119)](),this[_0x19de2f(0x1a3)](),this['triggerEnergyPrediction'](),this['updateHealthVector']();},0x1388);}[a0_0x1302fb(0x1cb)](_0x44e8b8){const _0x40b2fd=a0_0x1302fb;if(this[_0x40b2fd(0x142)])clearInterval(this[_0x40b2fd(0x142)]);if(this[_0x40b2fd(0x159)])clearInterval(this[_0x40b2fd(0x159)]);if(this[_0x40b2fd(0x1c4)])clearInterval(this[_0x40b2fd(0x1c4)]);if(this[_0x40b2fd(0x211)])this['ltmJob'][_0x40b2fd(0x12d)]();if(this[_0x40b2fd(0x1d5)])this[_0x40b2fd(0x1d5)][_0x40b2fd(0x12d)]();if(this['briefingJob'])this[_0x40b2fd(0x1a6)][_0x40b2fd(0x12d)]();recorder['abortExitTimer'](this),pythonBridge[_0x40b2fd(0x1aa)](this),_0x44e8b8();}async[a0_0x1302fb(0x20d)](_0x251708,_0x4a9bb2){const _0x3f8de9=a0_0x1302fb;if(!_0x4a9bb2||this['dependencyInstallInProgress'])return;if(_0x251708[_0x3f8de9(0x19f)](_0x3f8de9(0x17f))&&_0x251708[_0x3f8de9(0x1c2)](_0x3f8de9(0x171))&&_0x4a9bb2[_0x3f8de9(0x114)])return;if(_0x251708===this[_0x3f8de9(0x1f4)]+_0x3f8de9(0x10d)){if(_0x4a9bb2['val']&&Object['values'](setup[_0x3f8de9(0x164)])['includes'](_0x4a9bb2[_0x3f8de9(0x114)])){this['currentSystemMode']=_0x4a9bb2[_0x3f8de9(0x114)];if(_0x4a9bb2[_0x3f8de9(0x114)]===setup[_0x3f8de9(0x164)][_0x3f8de9(0x1d2)])await recorder[_0x3f8de9(0x20c)](this,![]);else await recorder[_0x3f8de9(0x20c)](this,!![]);if(this[_0x3f8de9(0x1bc)]){let _0x3986b7=![],_0x556e61=0x0,_0x200f36=_0x3f8de9(0x1d9);if(this[_0x3f8de9(0x1a9)]===_0x3f8de9(0x1d4))_0x3986b7=!![],_0x556e61=0x168,_0x200f36='Party\x20Mode';else this[_0x3f8de9(0x1a9)]==='guest'&&(_0x3986b7=!![],_0x556e61=0x5a0,_0x200f36='Guest\x20Mode');pythonBridge[_0x3f8de9(0x173)](this,'SET_LEARNING_MODE',{'active':_0x3986b7,'duration':_0x556e61,'label':_0x200f36}),await this[_0x3f8de9(0x1e3)](_0x3f8de9(0x165),{'val':JSON[_0x3f8de9(0x131)]({'active':_0x3986b7,'label':_0x200f36,'timestamp':Date[_0x3f8de9(0x14a)]()}),'ack':!![]});}}if(!_0x4a9bb2[_0x3f8de9(0x124)])this[_0x3f8de9(0x141)](_0x251708,{'val':this[_0x3f8de9(0x1a9)],'ack':!![]});return;}if(!_0x4a9bb2[_0x3f8de9(0x124)]){if(_0x251708[_0x3f8de9(0x19f)](_0x3f8de9(0x136))&&_0x4a9bb2[_0x3f8de9(0x114)]){this[_0x3f8de9(0x141)](_0x251708,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0x251708[_0x3f8de9(0x19f)](_0x3f8de9(0x200))&&_0x4a9bb2[_0x3f8de9(0x114)]){this[_0x3f8de9(0x141)](_0x251708,{'val':![],'ack':!![]});if(this[_0x3f8de9(0x1bc)])aiAgent[_0x3f8de9(0x116)](this,pythonBridge);return;}if(_0x251708[_0x3f8de9(0x19f)](_0x3f8de9(0x137))&&_0x4a9bb2[_0x3f8de9(0x114)]){this['setState'](_0x251708,{'val':![],'ack':!![]}),aiAgent[_0x3f8de9(0x1e9)](this);return;}if(_0x251708[_0x3f8de9(0x19f)](_0x3f8de9(0x1f5))&&_0x4a9bb2[_0x3f8de9(0x114)]){this[_0x3f8de9(0x141)](_0x251708,{'val':![],'ack':!![]}),aiAgent[_0x3f8de9(0x19a)](this);return;}if(_0x251708['includes'](_0x3f8de9(0x1f0))&&_0x4a9bb2[_0x3f8de9(0x114)]){this['setState'](_0x251708,{'val':![],'ack':!![]});if(this[_0x3f8de9(0x1bc)])try{const _0x1af408=await this[_0x3f8de9(0x19e)](_0x3f8de9(0x117));if(_0x1af408&&_0x1af408[_0x3f8de9(0x114)]){const _0x436523=JSON[_0x3f8de9(0x17e)](_0x1af408[_0x3f8de9(0x114)]);this[_0x3f8de9(0x1e3)]('analysis.training.status',{'val':_0x3f8de9(0x176),'ack':!![]}),pythonBridge[_0x3f8de9(0x173)](this,_0x3f8de9(0x1e2),{'sequences':_0x436523});}}catch(_0x1a8f35){}return;}if(_0x251708[_0x3f8de9(0x19f)](_0x3f8de9(0x20e))&&_0x4a9bb2[_0x3f8de9(0x114)]){this[_0x3f8de9(0x141)](_0x251708,{'val':![],'ack':!![]});if(this[_0x3f8de9(0x1bc)])try{const _0x48dc5e=await this[_0x3f8de9(0x19e)](_0x3f8de9(0x13e));if(_0x48dc5e&&_0x48dc5e[_0x3f8de9(0x114)])pythonBridge['send'](this,_0x3f8de9(0x206),{'digests':JSON[_0x3f8de9(0x17e)](_0x48dc5e[_0x3f8de9(0x114)])});}catch(_0x4cf9ed){}return;}if(_0x251708['includes'](_0x3f8de9(0x180))&&_0x4a9bb2[_0x3f8de9(0x114)]){this[_0x3f8de9(0x141)](_0x251708,{'val':![],'ack':!![]});if(this[_0x3f8de9(0x1bc)])try{const _0x56b37a=await this['getStateAsync'](_0x3f8de9(0x208));if(_0x56b37a&&_0x56b37a['val'])pythonBridge[_0x3f8de9(0x173)](this,_0x3f8de9(0x157),{'points':JSON[_0x3f8de9(0x17e)](_0x56b37a[_0x3f8de9(0x114)])});}catch(_0x29988e){}return;}if(_0x251708[_0x3f8de9(0x19f)]('analysis.training.triggerComfort')&&_0x4a9bb2[_0x3f8de9(0x114)]){this[_0x3f8de9(0x141)](_0x251708,{'val':![],'ack':!![]});if(this[_0x3f8de9(0x1bc)])try{const _0x276cf0=await this[_0x3f8de9(0x19e)](_0x3f8de9(0x150));if(_0x276cf0&&_0x276cf0[_0x3f8de9(0x114)])pythonBridge[_0x3f8de9(0x173)](this,_0x3f8de9(0x13a),{'events':JSON[_0x3f8de9(0x17e)](_0x276cf0[_0x3f8de9(0x114)])});}catch(_0x3b149d){}return;}if(_0x251708[_0x3f8de9(0x19f)](_0x3f8de9(0x172))&&_0x4a9bb2['val']){this[_0x3f8de9(0x141)](_0x251708,{'val':![],'ack':!![]}),topology[_0x3f8de9(0x147)](this);return;}}if(this['config']['presenceDevices']&&this[_0x3f8de9(0x16b)][_0x3f8de9(0x1fb)]['includes'](_0x251708)){await this[_0x3f8de9(0x1b0)]();return;}const _0x24351a=(this[_0x3f8de9(0x16b)][_0x3f8de9(0x1da)]||[])['find'](_0xef1e7d=>_0xef1e7d['id']===_0x251708);if(_0x24351a){const _0x5e169b=await recorder[_0x3f8de9(0x1ab)](this,_0x251708,_0x4a9bb2,_0x24351a);_0x5e169b&&_0x5e169b[_0x3f8de9(0x1fe)]===_0x3f8de9(0x1b6)&&_0x5e169b[_0x3f8de9(0x1ae)]&&this['isProVersion']&&deadMan['updateLocation'](this,_0x5e169b[_0x3f8de9(0x1ae)]),(_0x24351a['type']===_0x3f8de9(0x1f2)||_0x24351a[_0x3f8de9(0x1fe)]==='thermostat')&&automation[_0x3f8de9(0x1ef)](this);}}async[a0_0x1302fb(0x1c3)](_0xdb67bb){const _0x4d31ef=a0_0x1302fb;if(typeof _0xdb67bb==='object'&&_0xdb67bb[_0x4d31ef(0x153)]){if(_0xdb67bb[_0x4d31ef(0x16c)]==='checkThermostats')try{const _0x5ebb29=await automation[_0x4d31ef(0x1f7)](this);this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![],'results':_0x5ebb29},_0xdb67bb[_0x4d31ef(0x1c0)]);}catch(_0x46359f){this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb['command'],{'success':![],'error':_0x46359f[_0x4d31ef(0x153)]},_0xdb67bb[_0x4d31ef(0x1c0)]);}else{if(_0xdb67bb[_0x4d31ef(0x16c)]==='simulateEnergyMPC')try{const {current_temps:_0xd4602f,t_out:_0x173329,targets:_0x20c5ae,t_forecast:_0x42a650}=_0xdb67bb[_0x4d31ef(0x153)],_0x44a6ca=[];let _0x47fe42={};try{const _0xe6fcf7=await this[_0x4d31ef(0x19e)](_0x4d31ef(0x1f3));if(_0xe6fcf7&&_0xe6fcf7['val']){const _0x34b5b8=JSON['parse'](_0xe6fcf7[_0x4d31ef(0x114)]);_0x47fe42=_0x34b5b8[_0x4d31ef(0x140)]||_0x34b5b8;}}catch(_0x23171e){}const _0x5122a2=_0x42a650!==undefined&&_0x42a650!==null?(_0x173329+_0x42a650)/0x2:_0x173329;for(const [_0x187aaf,_0x240558]of Object[_0x4d31ef(0x179)](_0xd4602f)){const _0x550646=_0x20c5ae[_0x187aaf]||0x15;if(_0x240558<=_0x550646)continue;let _0x8f5500=_0x47fe42[_0x187aaf]||-0.5;if(_0x8f5500>=0x0)_0x8f5500=-0.5;const _0x249654=Math['abs'](_0x8f5500),_0x32d36a=_0x240558-_0x550646;let _0x30151a=Math['floor'](_0x32d36a/_0x249654*0x3c);const _0xa96b31=_0x240558-_0x173329,_0x542629=_0x240558-_0x5122a2;if(_0x542629!==0x0&&_0xa96b31!==0x0){const _0x186992=_0xa96b31/_0x542629;_0x30151a=Math[_0x4d31ef(0x13b)](_0x30151a*_0x186992);}if(_0x30151a>0xf){if(_0x30151a>0xf0)_0x30151a=0xf0;_0x44a6ca[_0x4d31ef(0x1b7)]({'room':_0x187aaf,'minutes_safe':_0x30151a,'target':_0x550646,'current':_0x240558,'savings_msg':_0x4d31ef(0x163)+_0x30151a+'\x20min\x20ausbleiben.'});}}_0x44a6ca[_0x4d31ef(0x113)]((_0x162a7b,_0x4f45ec)=>_0x4f45ec['minutes_safe']-_0x162a7b[_0x4d31ef(0x197)]),this[_0x4d31ef(0x12b)](_0xdb67bb['from'],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![],'proposals':_0x44a6ca},_0xdb67bb[_0x4d31ef(0x1c0)]);}catch(_0x3f31e6){this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':![],'error':_0x3f31e6[_0x4d31ef(0x153)]},_0xdb67bb[_0x4d31ef(0x1c0)]);}else{if(_0xdb67bb['command']==='resetRLPenalty')try{const _0x19c76a=_0xdb67bb[_0x4d31ef(0x153)][_0x4d31ef(0x112)],_0x2c311d=_0x4d31ef(0x1cc),_0x4e37e0=await this['getStateAsync'](_0x2c311d);let _0x413975={};if(_0x4e37e0&&_0x4e37e0[_0x4d31ef(0x114)])try{_0x413975=JSON[_0x4d31ef(0x17e)](_0x4e37e0[_0x4d31ef(0x114)]);}catch(_0x4c4782){}_0x19c76a&&_0x413975[_0x19c76a]?(delete _0x413975[_0x19c76a],await this['setStateAsync'](_0x2c311d,{'val':JSON[_0x4d31ef(0x131)](_0x413975),'ack':!![]}),this[_0x4d31ef(0x133)][_0x4d31ef(0x12a)](_0x4d31ef(0x1be)+_0x19c76a+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.'),this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![]},_0xdb67bb[_0x4d31ef(0x1c0)])):this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':![],'error':_0x4d31ef(0x162)},_0xdb67bb[_0x4d31ef(0x1c0)]);}catch(_0x43d47){this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':![],'error':_0x43d47[_0x4d31ef(0x153)]},_0xdb67bb[_0x4d31ef(0x1c0)]);}else{if(_0xdb67bb['command']===_0x4d31ef(0x11f))await this['setStateAsync'](_0x4d31ef(0x1db),{'val':![],'ack':!![]}),await this[_0x4d31ef(0x1e3)]('analysis.automation.description',{'val':'','ack':!![]}),await this[_0x4d31ef(0x1e3)]('analysis.automation.targetId',{'val':'','ack':!![]}),this[_0x4d31ef(0x12b)](_0xdb67bb['from'],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![]},_0xdb67bb['callback']);else{if(_0xdb67bb[_0x4d31ef(0x16c)]==='simulateButler'){const {targetId:_0x45fa0d,targetValue:_0xaf2607}=_0xdb67bb['message'];await this[_0x4d31ef(0x1e3)](_0x4d31ef(0x1db),{'val':!![],'ack':!![]}),await this[_0x4d31ef(0x1e3)](_0x4d31ef(0x16f),{'val':_0x4d31ef(0x188),'ack':!![]}),await this[_0x4d31ef(0x1e3)](_0x4d31ef(0x1de),{'val':_0x45fa0d,'ack':!![]}),await this['setStateAsync']('analysis.automation.targetValue',{'val':String(_0xaf2607),'ack':!![]}),this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb['command'],{'success':!![]},_0xdb67bb[_0x4d31ef(0x1c0)]);}else{if(_0xdb67bb[_0x4d31ef(0x16c)]==='testApiKey')try{const _0x4b058b=_0xdb67bb[_0x4d31ef(0x153)][_0x4d31ef(0x19b)];if(!_0x4b058b)throw new Error(_0x4d31ef(0x186));const _0x7bc466=new GoogleGenerativeAI(_0x4b058b),_0xa049f=_0x7bc466[_0x4d31ef(0x127)]({'model':GEMINI_MODEL}),_0x350730=await _0xa049f['generateContent'](_0x4d31ef(0x144)),_0x582767=await _0x350730['response'];if(_0x582767[_0x4d31ef(0x11d)]())this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0xdb67bb[_0x4d31ef(0x1c0)]);else throw new Error(_0x4d31ef(0x1d0));}catch(_0x3f7669){this[_0x4d31ef(0x12b)](_0xdb67bb['from'],_0xdb67bb[_0x4d31ef(0x16c)],{'success':![],'message':_0x3f7669[_0x4d31ef(0x153)]},_0xdb67bb[_0x4d31ef(0x1c0)]);}else{if(_0xdb67bb[_0x4d31ef(0x16c)]==='scanDevices')try{const _0x33b920=await scanner[_0x4d31ef(0x161)](this,_0xdb67bb[_0x4d31ef(0x153)]||{});this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![],'devices':_0x33b920},_0xdb67bb[_0x4d31ef(0x1c0)]);}catch(_0x2726d1){this['sendTo'](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':![],'error':_0x2726d1[_0x4d31ef(0x153)]},_0xdb67bb['callback']);}else{if(_0xdb67bb[_0x4d31ef(0x16c)]===_0x4d31ef(0x14b))try{const {matrix:_0x4c5c28}=_0xdb67bb[_0x4d31ef(0x153)],_0x3666bc=await this[_0x4d31ef(0x19e)](_0x4d31ef(0x134));if(_0x3666bc&&_0x3666bc[_0x4d31ef(0x114)]){const _0x3650f6=JSON[_0x4d31ef(0x17e)](_0x3666bc['val']);_0x3650f6['matrix']=_0x4c5c28,_0x3650f6['updated']=Date['now'](),await this['setStateAsync'](_0x4d31ef(0x134),{'val':JSON['stringify'](_0x3650f6),'ack':!![]}),pythonBridge['send'](this,'SET_TOPOLOGY',_0x3650f6);}this['sendTo'](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb['command'],{'success':!![]},_0xdb67bb['callback']);}catch(_0x55dd82){this[_0x4d31ef(0x133)][_0x4d31ef(0x1b2)](_0x55dd82);}else{if(_0xdb67bb['command']===_0x4d31ef(0x18b))this[_0x4d31ef(0x12b)](_0xdb67bb['from'],_0xdb67bb['command'],{'success':!![],'dailyDigests':this[_0x4d31ef(0x13d)]||[],'analysisHistory':this[_0x4d31ef(0x1ee)]||[]},_0xdb67bb[_0x4d31ef(0x1c0)]);else{if(_0xdb67bb['command']===_0x4d31ef(0x18f)){const _0x3a83f0=this[_0x4d31ef(0x13d)][_0x4d31ef(0x210)],_0x3fc48a=new Array(0x18)[_0x4d31ef(0x178)](0x0),_0xc87334=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x4d31ef(0x16e)]&&this[_0x4d31ef(0x16e)]['forEach'](_0x44e023=>{const _0x3d9de6=_0x4d31ef;if(_0x44e023[_0x3d9de6(0x1c7)]>=_0xc87334){const _0x1a9fea=new Date(_0x44e023['timestamp'])[_0x3d9de6(0x11c)]();if(_0x1a9fea>=0x0&&_0x1a9fea<0x18)_0x3fc48a[_0x1a9fea]++;}});let _0x11a14e=![],_0x12af92='',_0x36186b='',_0x1ec1c8='';try{const _0x336aa8=await this['getStateAsync'](_0x4d31ef(0x1db));if(_0x336aa8&&_0x336aa8[_0x4d31ef(0x114)]){_0x11a14e=!![];const _0x2579d5=await this[_0x4d31ef(0x19e)]('analysis.automation.description');_0x12af92=_0x2579d5?_0x2579d5[_0x4d31ef(0x114)]:'';const _0x4e0ae1=await this[_0x4d31ef(0x19e)](_0x4d31ef(0x1de));_0x36186b=_0x4e0ae1?_0x4e0ae1['val']:'';const _0x439c85=await this[_0x4d31ef(0x19e)]('analysis.automation.targetValue');_0x1ec1c8=_0x439c85?_0x439c85[_0x4d31ef(0x114)]:'';}}catch(_0x128ce6){}const _0x154d33=await this[_0x4d31ef(0x194)](),_0x387f48=(this['config'][_0x4d31ef(0x1da)]||[])[_0x4d31ef(0x1d3)](_0xc7b1be=>_0xc7b1be[_0x4d31ef(0x1a0)]),_0xd9cc97=_0x154d33&&_0x387f48;this['sendTo'](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![],'eventHistory':this['eventHistory'][_0x4d31ef(0x1ff)](0x0,0xf),'stats':{'digestCount':_0x3a83f0,'isPresent':this[_0x4d31ef(0x1cd)],'hourlyActivity':_0x3fc48a,'solarActive':_0xd9cc97},'automation':{'detected':_0x11a14e,'description':_0x12af92,'targetId':_0x36186b,'targetValue':_0x1ec1c8}},_0xdb67bb[_0x4d31ef(0x1c0)]);}else{if(_0xdb67bb[_0x4d31ef(0x16c)]==='getEnums'){const _0x5db494=await this[_0x4d31ef(0x13f)]('enum.functions.*','enum'),_0x41c4ea=[];if(_0x5db494)for(const _0x21f5e3 in _0x5db494){const _0x5cd59a=_0x5db494[_0x21f5e3],_0x67a223=(_0x5cd59a[_0x4d31ef(0x1fd)]&&typeof _0x5cd59a['common'][_0x4d31ef(0x1c1)]==='object'?_0x5cd59a[_0x4d31ef(0x1fd)]['name']['de']:_0x5cd59a[_0x4d31ef(0x1fd)][_0x4d31ef(0x1c1)])||_0x5cd59a[_0x4d31ef(0x1fd)][_0x4d31ef(0x1c1)];_0x41c4ea[_0x4d31ef(0x1b7)]({'id':_0x21f5e3,'name':_0x67a223});}const _0x46cc3a=await this['getForeignObjectsAsync'](_0x4d31ef(0x170),'enum'),_0x21ab72=[];if(_0x46cc3a)for(const _0x293032 in _0x46cc3a){const _0x3831ae=_0x46cc3a[_0x293032],_0x57ee4a=(_0x3831ae[_0x4d31ef(0x1fd)]&&typeof _0x3831ae['common']['name']===_0x4d31ef(0x19c)?_0x3831ae['common'][_0x4d31ef(0x1c1)]['de']:_0x3831ae[_0x4d31ef(0x1fd)][_0x4d31ef(0x1c1)])||_0x293032[_0x4d31ef(0x196)]('.')[_0x4d31ef(0x16a)]();_0x21ab72[_0x4d31ef(0x1b7)](_0x57ee4a);}this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb['command'],{'success':!![],'enums':_0x41c4ea,'rooms':_0x21ab72},_0xdb67bb[_0x4d31ef(0x1c0)]);}else{if(_0xdb67bb[_0x4d31ef(0x16c)]===_0x4d31ef(0x204))try{let _0x22311b='Kein\x20Wetter-Adapter',_0x330571=_0x4d31ef(0x183);if(this[_0x4d31ef(0x16b)]['useWeather']){const _0x59efbb=await recorder[_0x4d31ef(0x148)](this);_0x22311b=_0x59efbb!==null?_0x59efbb+'Â°C':'Daten\x20nicht\x20verfÃ¼gbar';}if(this[_0x4d31ef(0x16b)][_0x4d31ef(0x17b)]){const _0x4060e4=await this['getForeignObjectAsync'](_0x4d31ef(0x12c)+this[_0x4d31ef(0x16b)]['calendarInstance']);_0x330571=_0x4060e4?_0x4d31ef(0x209):_0x4d31ef(0x195);}this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![],'weather':_0x22311b,'calendar':_0x330571},_0xdb67bb[_0x4d31ef(0x1c0)]);}catch(_0xf58df8){this['sendTo'](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':![],'error':_0xf58df8[_0x4d31ef(0x153)]},_0xdb67bb[_0x4d31ef(0x1c0)]);}else{if(_0xdb67bb['command']==='getCalendarNames')try{const _0x4bcd64=_0xdb67bb[_0x4d31ef(0x153)][_0x4d31ef(0x118)],_0x266220=await this[_0x4d31ef(0x207)](_0x4bcd64+_0x4d31ef(0x14d));let _0x4c3fe0=[];if(_0x266220&&_0x266220['val']){const _0x2bcd41=JSON['parse'](_0x266220[_0x4d31ef(0x114)]),_0x34c9d2=new Set();Array[_0x4d31ef(0x130)](_0x2bcd41)&&_0x2bcd41['forEach'](_0x2de807=>{const _0x2b0027=_0x4d31ef;if(_0x2de807[_0x2b0027(0x158)])_0x34c9d2[_0x2b0027(0x1b1)](_0x2de807['_calName']);else{if(_0x2de807[_0x2b0027(0x182)])_0x34c9d2[_0x2b0027(0x1b1)](_0x2de807[_0x2b0027(0x182)]);}}),_0x4c3fe0=Array['from'](_0x34c9d2)['sort']();}if(_0x4c3fe0[_0x4d31ef(0x210)]===0x0)_0x4c3fe0=[_0x4d31ef(0x146)];this[_0x4d31ef(0x12b)](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![],'names':_0x4c3fe0},_0xdb67bb[_0x4d31ef(0x1c0)]);}catch(_0x1c8b91){this['sendTo'](_0xdb67bb['from'],_0xdb67bb['command'],{'success':![],'error':_0x1c8b91[_0x4d31ef(0x153)]},_0xdb67bb[_0x4d31ef(0x1c0)]);}else{if(_0xdb67bb[_0x4d31ef(0x16c)]===_0x4d31ef(0x198))try{await setup['sendNotification'](this,_0x4d31ef(0x15b),![],![]),this['sendTo'](_0xdb67bb['from'],_0xdb67bb[_0x4d31ef(0x16c)],{'success':!![],'message':_0x4d31ef(0x120)},_0xdb67bb['callback']);}catch(_0x1654b8){this['log'][_0x4d31ef(0x1b2)](_0x4d31ef(0x139)+_0x1654b8[_0x4d31ef(0x153)]),this['sendTo'](_0xdb67bb[_0x4d31ef(0x191)],_0xdb67bb[_0x4d31ef(0x16c)],{'success':![],'message':'Fehler:\x20'+_0x1654b8['message']},_0xdb67bb[_0x4d31ef(0x1c0)]);}}}}}}}}}}}}}}}}async['loadSystemMode'](){const _0x5adcb0=a0_0x1302fb;try{const _0x159354=await this['getStateAsync'](setup['SYSTEM_DP_MODE']);_0x159354&&_0x159354[_0x5adcb0(0x114)]&&Object['values'](setup['SYSTEM_MODES'])[_0x5adcb0(0x19f)](_0x159354[_0x5adcb0(0x114)])?this['currentSystemMode']=_0x159354[_0x5adcb0(0x114)]:(this[_0x5adcb0(0x1a9)]=setup['SYSTEM_MODES'][_0x5adcb0(0x14c)],await this['setStateAsync'](setup[_0x5adcb0(0x1ba)],{'val':setup[_0x5adcb0(0x164)]['NORMAL'],'ack':!![]}));}catch(_0x1e5751){this[_0x5adcb0(0x1a9)]=setup[_0x5adcb0(0x164)][_0x5adcb0(0x14c)];}}async[a0_0x1302fb(0x1b0)](){const _0x3740c4=a0_0x1302fb;try{const _0x377c34=this[_0x3740c4(0x16b)][_0x3740c4(0x1fb)]||[];let _0x450fdd=![];const _0x521f1e=[];for(const _0x4dbf5b of _0x377c34){try{const _0x3df978=await this['getForeignStateAsync'](_0x4dbf5b);_0x3df978&&(_0x3df978[_0x3740c4(0x114)]===!![]||_0x3df978['val']===_0x3740c4(0x123)||_0x3df978[_0x3740c4(0x114)]===0x1)&&(_0x450fdd=!![],_0x521f1e[_0x3740c4(0x1b7)](_0x4dbf5b));}catch(_0x333dae){}}return await this[_0x3740c4(0x1e3)]('system.presenceWho',{'val':_0x521f1e[_0x3740c4(0x10b)](',\x20'),'ack':!![]}),_0x450fdd&&(this[_0x3740c4(0x1a7)]&&(this['log'][_0x3740c4(0x12a)](_0x3740c4(0x152)),recorder[_0x3740c4(0x151)](this)),!this[_0x3740c4(0x1cd)]&&this['currentSystemMode']===setup[_0x3740c4(0x164)][_0x3740c4(0x14c)]&&await recorder[_0x3740c4(0x20c)](this,!![])),_0x450fdd;}catch(_0x4ef462){return![];}}async[a0_0x1302fb(0x15f)](){const _0x31b166=a0_0x1302fb;this[_0x31b166(0x133)][_0x31b166(0x1e6)](_0x31b166(0x15e)),await aiAgent['runGeminiAnalysis'](this),this[_0x31b166(0x190)](),this[_0x31b166(0x1a3)](),this[_0x31b166(0x1dd)]();}async['checkSolarCondition'](){const _0xd7ec06=a0_0x1302fb,_0x30b01a=[_0xd7ec06(0x11b),'accuweather.0',_0xd7ec06(0x129)],_0x3c6dfd=[_0xd7ec06(0x154),_0xd7ec06(0x128),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0xac2ee8 of _0x30b01a){for(const _0x155565 of _0x3c6dfd){try{const _0xb16f9a=_0xac2ee8+'.'+_0x155565,_0x306e60=await this['getForeignStateAsync'](_0xb16f9a);if(_0x306e60&&_0x306e60[_0xd7ec06(0x114)]){const _0x107b6a=String(_0x306e60[_0xd7ec06(0x114)])[_0xd7ec06(0x19d)]();if(_0x107b6a[_0xd7ec06(0x19f)]('sonn')||_0x107b6a[_0xd7ec06(0x19f)](_0xd7ec06(0x126))||_0x107b6a[_0xd7ec06(0x19f)]('klar')||_0x107b6a[_0xd7ec06(0x19f)]('clear')||_0x107b6a['includes']('heiter'))return!![];}}catch(_0x2a8276){}}}return![];}['triggerGaitAnalysis'](){const _0x3ba018=a0_0x1302fb;if(!this[_0x3ba018(0x1bc)])return;try{this[_0x3ba018(0x20a)]('LTM.trainingData.sequences',(_0x4d91ff,_0x3d8c0c)=>{const _0x2f6882=_0x3ba018;_0x3d8c0c&&_0x3d8c0c[_0x2f6882(0x114)]&&pythonBridge[_0x2f6882(0x173)](this,'ANALYZE_GAIT',{'sequences':JSON[_0x2f6882(0x17e)](_0x3d8c0c[_0x2f6882(0x114)])});});}catch(_0x280d2a){}}async[a0_0x1302fb(0x1dd)](){const _0x316907=a0_0x1302fb;if(!this[_0x316907(0x1bc)])return;try{const _0x2fe655=await recorder[_0x316907(0x148)](this);if(_0x2fe655===null)return;const _0xe0ce8f={},_0x2d6762={},_0x302e7e=this[_0x316907(0x16b)][_0x316907(0x1da)]||[];for(const _0x1450ef of _0x302e7e){if(_0x1450ef[_0x316907(0x1fe)]==='temperature'&&_0x1450ef[_0x316907(0x1ae)]){const _0x3bc9a7=this[_0x316907(0x168)][_0x1450ef['id']];if(_0x3bc9a7!==undefined)_0xe0ce8f[_0x1450ef[_0x316907(0x1ae)]]=_0x3bc9a7;if(_0x1450ef['isSolar'])_0x2d6762[_0x1450ef[_0x316907(0x1ae)]]=!![];}}const _0x9b28c9=await this[_0x316907(0x194)]();let _0x341c85={};try{const _0x2493a4=await this['getStateAsync'](_0x316907(0x1c9));if(_0x2493a4&&_0x2493a4['val'])_0x341c85=JSON[_0x316907(0x17e)](_0x2493a4[_0x316907(0x114)]);}catch(_0x8d64be){}Object[_0x316907(0x1d7)](_0xe0ce8f)[_0x316907(0x210)]>0x0&&(pythonBridge[_0x316907(0x173)](this,_0x316907(0x10c),{'current_temps':_0xe0ce8f,'t_out':_0x2fe655,'is_sunny':_0x9b28c9,'solar_flags':_0x2d6762,'warmup_targets':_0x341c85}),pythonBridge[_0x316907(0x173)](this,_0x316907(0x185),{'current_temps':_0xe0ce8f,'t_out':_0x2fe655,'targets':{}}));}catch(_0x276969){}}[a0_0x1302fb(0x190)](){const _0xf49b2c=a0_0x1302fb;if(!this['rawEventLog']||this[_0xf49b2c(0x175)]['length']===0x0)return;const _0x114d02=new Array(0x60)[_0xf49b2c(0x178)](0x0),_0x47f46a=new Date()[_0xf49b2c(0x1ad)](0x0,0x0,0x0,0x0);this[_0xf49b2c(0x175)][_0xf49b2c(0x11a)](_0x1afe02=>{const _0x4911c6=_0xf49b2c,_0x2d2cee=new Date(_0x1afe02[_0x4911c6(0x1c7)]);if(_0x2d2cee[_0x4911c6(0x122)]()>=_0x47f46a){const _0x14727f=_0x2d2cee[_0x4911c6(0x11c)](),_0x379698=_0x2d2cee[_0x4911c6(0x15a)](),_0x2afc30=_0x14727f*0x4+Math[_0x4911c6(0x13b)](_0x379698/0xf);if(_0x2afc30>=0x0&&_0x2afc30<0x60)_0x114d02[_0x2afc30]++;}}),this[_0xf49b2c(0x1e3)](_0xf49b2c(0x10f),{'val':JSON[_0xf49b2c(0x131)](_0x114d02),'ack':!![]});}[a0_0x1302fb(0x119)](){const _0x7a1e13=a0_0x1302fb;if(!this[_0x7a1e13(0x13d)]||this[_0x7a1e13(0x13d)][_0x7a1e13(0x210)]<0x2)return;const _0x4a2fe1=this[_0x7a1e13(0x13d)][_0x7a1e13(0x1ea)](_0x12ca04=>{const _0x558995=_0x7a1e13,_0x3585c7=(_0x12ca04['activityLevel']||'')[_0x558995(0x19d)]();return ACTIVITY_LEVEL_MAP[_0x3585c7]||0x32;});pythonBridge[_0x7a1e13(0x173)](this,_0x7a1e13(0x155),{'values':_0x4a2fe1,'tag':_0x7a1e13(0x1a5)});}}if(require[a0_0x1302fb(0x1f1)]!==module)module[a0_0x1302fb(0x1c5)]=_0x4474c4=>new CogniLiving(_0x4474c4);else new CogniLiving();