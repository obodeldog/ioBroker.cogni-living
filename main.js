const a0_0x16125d=a0_0x24ea;function a0_0x24ea(_0x5d2204,_0x10cc42){const _0x1494a1=a0_0x115b();return a0_0x24ea=function(_0x1b842a,_0x115c35){_0x1b842a=_0x1b842a-0x140;let _0x115b19=_0x1494a1[_0x1b842a];return _0x115b19;},a0_0x24ea(_0x5d2204,_0x10cc42);}(function(_0x486125,_0x19d3d9){const _0x13ec3a=a0_0x24ea,_0x1c6242=_0x486125();while(!![]){try{const _0x3a38d1=parseInt(_0x13ec3a(0x23e))/0x1*(-parseInt(_0x13ec3a(0x23a))/0x2)+parseInt(_0x13ec3a(0x1c8))/0x3+parseInt(_0x13ec3a(0x156))/0x4+-parseInt(_0x13ec3a(0x193))/0x5+parseInt(_0x13ec3a(0x18b))/0x6+-parseInt(_0x13ec3a(0x21f))/0x7*(parseInt(_0x13ec3a(0x184))/0x8)+-parseInt(_0x13ec3a(0x140))/0x9*(parseInt(_0x13ec3a(0x234))/0xa);if(_0x3a38d1===_0x19d3d9)break;else _0x1c6242['push'](_0x1c6242['shift']());}catch(_0x3afdb8){_0x1c6242['push'](_0x1c6242['shift']());}}}(a0_0x115b,0xe4343));const a0_0x115c35=(function(){let _0x260505=!![];return function(_0x46a265,_0x5ce940){const _0x13e4b2=_0x260505?function(){const _0xfd4197=a0_0x24ea;if(_0x5ce940){const _0x361fbc=_0x5ce940[_0xfd4197(0x225)](_0x46a265,arguments);return _0x5ce940=null,_0x361fbc;}}:function(){};return _0x260505=![],_0x13e4b2;};}()),a0_0x1b842a=a0_0x115c35(this,function(){const _0xa3eec0=a0_0x24ea;return a0_0x1b842a[_0xa3eec0(0x1d4)]()[_0xa3eec0(0x213)](_0xa3eec0(0x1a3))['toString']()[_0xa3eec0(0x246)](a0_0x1b842a)[_0xa3eec0(0x213)]('(((.+)+)+)+$');});a0_0x1b842a();'use strict';function a0_0x115b(){const _0x74acea=['config','Active\x20Ventilation\x20Alerts','ready',')\x20-\x20Phase\x20D\x20(Evolution)','(((.+)+)+)+$','abs','NextHours.Location_1.Day_1.current.symbol_desc','val','createDailyDigest','clear','values','apiKey','manual','checkCalendarTriggers','motion','PREDICT_ENERGY','VACATION','dismissAutomation','NORMAL','runAutopilot','analysis.automation.autoApply','analysis.training.triggerHealth','./lib/automation','Simulation\x20durch\x20Admin\x20(Test)','exitTimer','loadSystemMode','Kein\x20Wetter-Adapter','getEnums','accuweather.0','setupLtmScheduler','Gemini\x20AI\x20initialized.','getOverviewData','checkThermostats','Heizung\x20kann\x20','testContext','OPTIMIZE_ENERGY','testApiKey','from','system.mode','getCalendarNames','info','5589084vjgING','setHours','Sec-Training\x20started...','initHistory','triggerGaitAnalysis','useWeather','log','PYTHON_EXE','analysis.automation.targetId','analysis.automation.patternDetected','onStateChange','./lib/recorder','toString','LTM.dailyDigests','setupModeResetScheduler','genAI','updateHealthVector','system.adapter.','forEach','enum.rooms.*','Daten\x20nicht\x20verfÃ¼gbar','main','sonn','analysis.trigger','getMinutes','runBaselineDriftAnalysis','dailyDigests','dependencyInstallInProgress','presenceDevices','getOutsideTemperatureNumeric','analysis.energy.warmupTimes','pop','exports','analysisTimer','setObjectNotExistsAsync','entries','./lib/setup','getTime','onReady','response','string','Kein\x20Kalender-Adapter','length','TRAIN_HEALTH','Adapter','object','now','ANALYZE_TREND','error','minDaysForBaseline','getForeignStateAsync','setupDriftAnalysisScheduler','state','stateChange','devices','heiter','isProVersion','system.presenceWho','analysisHistory','SYSTEM_MODES','getStateAsync','enum','analysis.triggerBriefing','modeResetJob','join','@google/generative-ai','stringify','SET_TOPOLOGY','ltmJob','add','./lib/scheduler','abortExitTimer','LTM.baselineStatus','geminiApiKey','Current.WeatherText','search','type','sendMorningBriefing','Aktiv\x20(','bind','ANALYZE_GAIT','{\x22default\x22:\x2021}','updateLocation','getState','subscribeForeignStatesAsync','calendarName','setState','27013GfWGNh','analysis.training.triggerEnergy','getGenerativeModel','sendNotification','Fehler:\x20','triggerBriefing','apply','geminiModel','trackerHeartbeat','notifyTelegramEnabled','forecast.current.weather','analysis.automation.targetValue','send','onMessage','message','analysis.energy.warmupTargets','sunny','setPresence','Standard','LTM.trainingData.thermodynamics','calendarInstance','8146030iTKXyD','instance','timestamp','onUnload','automation.triggerAction','analysis.automation.description','1168LJJWtL','_calName','namespace','cancel','508swJJxD','isPresent','klar','startSystem','fill','getForeignObjectsAsync','Kein\x20API\x20Key\x20Ã¼bergeben','Instanz\x20nicht\x20gefunden','constructor','27sIaatT','triggerDailyDigest','startService','WiFi\x20Presence\x20detected.','toLowerCase','analysis.training.triggerComfort','matrix','minutes_safe','communicate.request','callback','scores','@iobroker/adapter-core','subscribeStates','getLtmData','daswetter.0','TRACK_EVENT','updateTopology','analysis.energy.mpcActive','isSolar','LTM.rawEventLog','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','weatherunderground.0','4954756UScAEQ','floor','some','Notification\x20Test\x20Failed:\x20','notifyTelegramInstance','includes','processSensorEvent','setStateAsync','briefingJob','command','Keine\x20Antwort\x20von\x20Gemini','LTM.trainingData.sequences','checkLicense','TRAIN_COMFORT','cogni-living','scanDevices','sort','analysis.energy.insulationScore','triggerEnergyPrediction','push','find','runPythonHealthCheck','lastAlertState','json','parse','rawEventLog','analysis.health.todayVector','keys','common','inactivityThresholdHours','slice','Party\x20Mode','endsWith','eventHistory','updated','simulateEnergyMPC','trackerEnabled','analysis.automation.triggerAction','initSystemConfig','analysis.training.triggerTopology','driftAnalysisTimer','./lib/installer','checkSolarCondition','split','runGeminiAnalysis','party','24wPoWVI','Verbunden','simulateButler','getHours','lastTrackerEventTime','sensorLastValues','version','8502132iWqgMX','checkWifiPresence','currentSystemMode','name','Verbindung\x20erfolgreich!','location','generateContent','Activity-Level','4159790cTrZGR','SYSTEM_DP_MODE','setupBriefingScheduler','analysis.topology.structure','sendTo','Gesendet','analysis.training.status','./lib/scanner','guest','models/gemini-flash-latest','analysis.training.triggerSecurity','SET_LEARNING_MODE'];a0_0x115b=function(){return _0x74acea;};return a0_0x115b();}const utils=require(a0_0x16125d(0x14b)),{GoogleGenerativeAI}=require(a0_0x16125d(0x209)),installer=require(a0_0x16125d(0x17f)),scanner=require(a0_0x16125d(0x19a)),schedulers=require(a0_0x16125d(0x20e)),topology=require('./lib/topology'),setup=require(a0_0x16125d(0x1ec)),recorder=require(a0_0x16125d(0x1d3)),pythonBridge=require('./lib/python_bridge'),aiAgent=require('./lib/ai_agent'),deadMan=require('./lib/dead_man'),automation=require(a0_0x16125d(0x1b5)),GEMINI_MODEL=a0_0x16125d(0x19c),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x16125d(0x1f4)]{constructor(_0x2fe1d9){const _0x22ccc5=a0_0x16125d;super({..._0x2fe1d9,'name':_0x22ccc5(0x164)}),this[_0x22ccc5(0x177)]=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x22ccc5(0x1e2)]=[],this[_0x22ccc5(0x189)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x22ccc5(0x23f)]=!![],this[_0x22ccc5(0x1b7)]=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this['genAI']=null,this['geminiModel']=null,this[_0x22ccc5(0x18d)]=setup['SYSTEM_MODES'][_0x22ccc5(0x1b1)],this[_0x22ccc5(0x200)]=![],this[_0x22ccc5(0x16c)]=![],this[_0x22ccc5(0x1e9)]=null,this[_0x22ccc5(0x20c)]=null,this[_0x22ccc5(0x207)]=null,this['driftAnalysisTimer']=null,this['briefingJob']=null,this[_0x22ccc5(0x1e3)]=![],this[_0x22ccc5(0x227)]=null,this[_0x22ccc5(0x188)]=Date['now'](),this['on'](_0x22ccc5(0x1a1),this[_0x22ccc5(0x1ee)]['bind'](this)),this['on'](_0x22ccc5(0x1fd),this[_0x22ccc5(0x1d2)][_0x22ccc5(0x217)](this)),this['on']('unload',this[_0x22ccc5(0x237)][_0x22ccc5(0x217)](this)),this['on'](_0x22ccc5(0x22d),this[_0x22ccc5(0x22c)][_0x22ccc5(0x217)](this));}async[a0_0x16125d(0x1ee)](){const _0x3abd51=a0_0x16125d;this['log']['info']('cogni-living\x20adapter\x20starting\x20(v'+this[_0x3abd51(0x18a)]+_0x3abd51(0x1a2));if(!installer['checkAndInstall'](this,()=>this[_0x3abd51(0x241)]()))return;}async[a0_0x16125d(0x241)](){const _0x50fdbc=a0_0x16125d;await setup['initZombies'](this);try{this['isProVersion']=await setup[_0x50fdbc(0x162)](this[_0x50fdbc(0x19f)]['licenseKey']);}catch(_0x26c27c){}if(!this[_0x50fdbc(0x19f)][_0x50fdbc(0x173)]||this[_0x50fdbc(0x19f)]['inactivityThresholdHours']<0.1)this[_0x50fdbc(0x19f)][_0x50fdbc(0x173)]=0xc;await setup[_0x50fdbc(0x1cb)](this),await setup[_0x50fdbc(0x17c)](this);if(this['config'][_0x50fdbc(0x211)])try{this[_0x50fdbc(0x1d7)]=new GoogleGenerativeAI(this[_0x50fdbc(0x19f)][_0x50fdbc(0x211)]),this[_0x50fdbc(0x226)]=this[_0x50fdbc(0x1d7)][_0x50fdbc(0x221)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this[_0x50fdbc(0x1ce)][_0x50fdbc(0x1c7)](_0x50fdbc(0x1bd));}catch(_0x24c340){this[_0x50fdbc(0x1ce)]['error']('Gemini\x20Init\x20Error:\x20'+_0x24c340[_0x50fdbc(0x22d)]);}await setup['createAllObjects'](this),await this[_0x50fdbc(0x1b8)](),await this[_0x50fdbc(0x1ea)]('analysis.energy.pinnForecast',{'type':'state','common':{'name':'PINN\x20AI\x20Forecast','type':_0x50fdbc(0x1f0),'role':_0x50fdbc(0x16d),'read':!![],'write':![]},'native':{}}),await this[_0x50fdbc(0x1ea)]('analysis.energy.ventilationAlerts',{'type':_0x50fdbc(0x1fc),'common':{'name':_0x50fdbc(0x1a0),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this[_0x50fdbc(0x1ea)](_0x50fdbc(0x1e6),{'type':_0x50fdbc(0x1fc),'common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':_0x50fdbc(0x1f0),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x50fdbc(0x1ea)](_0x50fdbc(0x22e),{'type':_0x50fdbc(0x1fc),'common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':_0x50fdbc(0x1f0),'role':_0x50fdbc(0x16d),'read':!![],'write':!![],'def':_0x50fdbc(0x219)},'native':{}});try{const _0x5c56b0=await this['getStateAsync']('LTM.rawEventLog');if(_0x5c56b0&&_0x5c56b0[_0x50fdbc(0x1a6)])this[_0x50fdbc(0x16f)]=JSON[_0x50fdbc(0x16e)](_0x5c56b0[_0x50fdbc(0x1a6)]);}catch(_0x571b45){this[_0x50fdbc(0x16f)]=[];}try{const _0x5c659d=await this[_0x50fdbc(0x204)](_0x50fdbc(0x1d5));if(_0x5c659d&&_0x5c659d[_0x50fdbc(0x1a6)])this[_0x50fdbc(0x1e2)]=JSON[_0x50fdbc(0x16e)](_0x5c659d[_0x50fdbc(0x1a6)]);}catch(_0x3ac8e8){this[_0x50fdbc(0x1e2)]=[];}const _0x464574=this[_0x50fdbc(0x1e2)][_0x50fdbc(0x1f2)]>=(this['config']['minDaysForBaseline']||0x7)?_0x50fdbc(0x216)+this[_0x50fdbc(0x1e2)][_0x50fdbc(0x1f2)]+'\x20Tage)':'Lernphase\x20('+this[_0x50fdbc(0x1e2)][_0x50fdbc(0x1f2)]+'/'+(this[_0x50fdbc(0x19f)][_0x50fdbc(0x1f9)]||0x7)+')';await this[_0x50fdbc(0x15d)](_0x50fdbc(0x210),{'val':_0x464574,'ack':!![]}),this[_0x50fdbc(0x14c)](_0x50fdbc(0x1df)),this[_0x50fdbc(0x14c)]('LTM.triggerDailyDigest'),this[_0x50fdbc(0x14c)](_0x50fdbc(0x1c5)),this[_0x50fdbc(0x14c)](_0x50fdbc(0x206)),this[_0x50fdbc(0x14c)](_0x50fdbc(0x17b)),this[_0x50fdbc(0x14c)](_0x50fdbc(0x1b3)),this[_0x50fdbc(0x14c)](_0x50fdbc(0x19d)),this['subscribeStates']('analysis.training.triggerHealth'),this[_0x50fdbc(0x14c)](_0x50fdbc(0x220)),this[_0x50fdbc(0x14c)](_0x50fdbc(0x145)),this['subscribeStates'](_0x50fdbc(0x17d)),this[_0x50fdbc(0x14c)](_0x50fdbc(0x151));const _0x328765=this[_0x50fdbc(0x19f)][_0x50fdbc(0x1fe)];if(_0x328765)for(const _0x57c980 of _0x328765){await this[_0x50fdbc(0x21c)](_0x57c980['id']);}const _0xb99b7d=this[_0x50fdbc(0x19f)][_0x50fdbc(0x1e4)];if(_0xb99b7d)for(const _0x1cc796 of _0xb99b7d){await this[_0x50fdbc(0x21c)](_0x1cc796);}if(this[_0x50fdbc(0x19f)][_0x50fdbc(0x228)]&&this[_0x50fdbc(0x19f)][_0x50fdbc(0x15a)])await this['subscribeForeignStatesAsync'](this[_0x50fdbc(0x19f)][_0x50fdbc(0x15a)]+'.communicate.request');setTimeout(()=>this[_0x50fdbc(0x18c)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x50fdbc(0x1e9)]);const _0x11a0b8=this['config']['analysisInterval']||0xf;_0x11a0b8>0x0&&(this[_0x50fdbc(0x1e9)]=setInterval(()=>{const _0x2397dc=_0x50fdbc;this[_0x2397dc(0x1b2)](),automation[_0x2397dc(0x1ac)](this);},_0x11a0b8*0x3c*0x3e8)),setTimeout(()=>automation[_0x50fdbc(0x1ac)](this),0x2710),this[_0x50fdbc(0x19f)][_0x50fdbc(0x17a)]!==![]&&(this[_0x50fdbc(0x227)]=setInterval(()=>{const _0x782855=_0x50fdbc;if(this[_0x782855(0x200)]){const _0x2f512b=Date[_0x782855(0x1f6)](),_0x32338d=this['lastTrackerEventTime']||_0x2f512b,_0x7feb05=(_0x2f512b-_0x32338d)/0x3e8;_0x7feb05>0x2&&(this[_0x782855(0x188)]=_0x2f512b,pythonBridge[_0x782855(0x22b)](this,_0x782855(0x14f),{'room':null,'dt':_0x7feb05}));}},0xbb8)),schedulers[_0x50fdbc(0x1bc)](this,()=>aiAgent[_0x50fdbc(0x1a7)](this,pythonBridge)),schedulers[_0x50fdbc(0x1d6)](this),schedulers[_0x50fdbc(0x1fb)](this,()=>aiAgent[_0x50fdbc(0x1e1)](this)),schedulers[_0x50fdbc(0x195)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x50fdbc(0x142)](this,installer[_0x50fdbc(0x1cf)]),setTimeout(async()=>{const _0x2eba37=_0x50fdbc;await topology[_0x2eba37(0x150)](this);try{const _0x10016c=await this['getStateAsync'](_0x2eba37(0x196));if(_0x10016c&&_0x10016c[_0x2eba37(0x1a6)])pythonBridge[_0x2eba37(0x22b)](this,_0x2eba37(0x20b),JSON[_0x2eba37(0x16e)](_0x10016c[_0x2eba37(0x1a6)]));}catch(_0x3aef2b){}this['runPythonHealthCheck'](),this[_0x2eba37(0x1cc)](),this[_0x2eba37(0x168)](),this[_0x2eba37(0x1d8)]();},0x1388);}['onUnload'](_0x3143a4){const _0xfab944=a0_0x16125d;if(this[_0xfab944(0x1e9)])clearInterval(this[_0xfab944(0x1e9)]);if(this[_0xfab944(0x17e)])clearInterval(this[_0xfab944(0x17e)]);if(this[_0xfab944(0x227)])clearInterval(this[_0xfab944(0x227)]);if(this[_0xfab944(0x20c)])this['ltmJob'][_0xfab944(0x23d)]();if(this[_0xfab944(0x207)])this[_0xfab944(0x207)][_0xfab944(0x23d)]();if(this['briefingJob'])this[_0xfab944(0x15e)]['cancel']();recorder[_0xfab944(0x20f)](this),pythonBridge['stopService'](this),_0x3143a4();}async['onStateChange'](_0x156549,_0x57d87f){const _0x5b2fec=a0_0x16125d;if(!_0x57d87f||this[_0x5b2fec(0x1e3)])return;if(_0x156549[_0x5b2fec(0x15b)]('telegram')&&_0x156549[_0x5b2fec(0x176)](_0x5b2fec(0x148))&&_0x57d87f[_0x5b2fec(0x1a6)])return;if(_0x156549===this[_0x5b2fec(0x23c)]+'.system.mode'){if(_0x57d87f[_0x5b2fec(0x1a6)]&&Object[_0x5b2fec(0x1a9)](setup[_0x5b2fec(0x203)])[_0x5b2fec(0x15b)](_0x57d87f[_0x5b2fec(0x1a6)])){this[_0x5b2fec(0x18d)]=_0x57d87f[_0x5b2fec(0x1a6)];if(_0x57d87f[_0x5b2fec(0x1a6)]===setup[_0x5b2fec(0x203)][_0x5b2fec(0x1af)])await recorder[_0x5b2fec(0x230)](this,![]);else await recorder[_0x5b2fec(0x230)](this,!![]);if(this[_0x5b2fec(0x200)]){let _0x44d387=![],_0x3c3505=0x0,_0x374e81=_0x5b2fec(0x1ab);if(this[_0x5b2fec(0x18d)]===_0x5b2fec(0x183))_0x44d387=!![],_0x3c3505=0x168,_0x374e81=_0x5b2fec(0x175);else this[_0x5b2fec(0x18d)]===_0x5b2fec(0x19b)&&(_0x44d387=!![],_0x3c3505=0x5a0,_0x374e81='Guest\x20Mode');pythonBridge[_0x5b2fec(0x22b)](this,_0x5b2fec(0x19e),{'active':_0x44d387,'duration':_0x3c3505,'label':_0x374e81}),await this[_0x5b2fec(0x15d)]('analysis.security.learningStatus',{'val':JSON[_0x5b2fec(0x20a)]({'active':_0x44d387,'label':_0x374e81,'timestamp':Date[_0x5b2fec(0x1f6)]()}),'ack':!![]});}}if(!_0x57d87f['ack'])this[_0x5b2fec(0x21e)](_0x156549,{'val':this[_0x5b2fec(0x18d)],'ack':!![]});return;}if(!_0x57d87f['ack']){if(_0x156549[_0x5b2fec(0x15b)](_0x5b2fec(0x1df))&&_0x57d87f[_0x5b2fec(0x1a6)]){this[_0x5b2fec(0x21e)](_0x156549,{'val':![],'ack':!![]}),aiAgent[_0x5b2fec(0x182)](this);return;}if(_0x156549[_0x5b2fec(0x15b)](_0x5b2fec(0x141))&&_0x57d87f[_0x5b2fec(0x1a6)]){this['setState'](_0x156549,{'val':![],'ack':!![]});if(this[_0x5b2fec(0x200)])aiAgent[_0x5b2fec(0x1a7)](this,pythonBridge);return;}if(_0x156549[_0x5b2fec(0x15b)](_0x5b2fec(0x224))&&_0x57d87f[_0x5b2fec(0x1a6)]){this['setState'](_0x156549,{'val':![],'ack':!![]}),aiAgent[_0x5b2fec(0x215)](this);return;}if(_0x156549[_0x5b2fec(0x15b)](_0x5b2fec(0x238))&&_0x57d87f[_0x5b2fec(0x1a6)]){this[_0x5b2fec(0x21e)](_0x156549,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x156549['includes']('analysis.training.triggerSecurity')&&_0x57d87f[_0x5b2fec(0x1a6)]){this[_0x5b2fec(0x21e)](_0x156549,{'val':![],'ack':!![]});if(this[_0x5b2fec(0x200)])try{const _0x5b0300=await this['getStateAsync'](_0x5b2fec(0x161));if(_0x5b0300&&_0x5b0300[_0x5b2fec(0x1a6)]){const _0x33eda8=JSON[_0x5b2fec(0x16e)](_0x5b0300[_0x5b2fec(0x1a6)]);this[_0x5b2fec(0x15d)](_0x5b2fec(0x199),{'val':_0x5b2fec(0x1ca),'ack':!![]}),pythonBridge[_0x5b2fec(0x22b)](this,'TRAIN_SECURITY',{'sequences':_0x33eda8});}}catch(_0x503e01){}return;}if(_0x156549[_0x5b2fec(0x15b)](_0x5b2fec(0x1b4))&&_0x57d87f['val']){this[_0x5b2fec(0x21e)](_0x156549,{'val':![],'ack':!![]});if(this[_0x5b2fec(0x200)])try{const _0x5a1274=await this[_0x5b2fec(0x204)](_0x5b2fec(0x1d5));if(_0x5a1274&&_0x5a1274[_0x5b2fec(0x1a6)])pythonBridge[_0x5b2fec(0x22b)](this,_0x5b2fec(0x1f3),{'digests':JSON[_0x5b2fec(0x16e)](_0x5a1274[_0x5b2fec(0x1a6)])});}catch(_0x4e757f){}return;}if(_0x156549[_0x5b2fec(0x15b)](_0x5b2fec(0x220))&&_0x57d87f[_0x5b2fec(0x1a6)]){this[_0x5b2fec(0x21e)](_0x156549,{'val':![],'ack':!![]});if(this[_0x5b2fec(0x200)])try{const _0x5dd193=await this[_0x5b2fec(0x204)](_0x5b2fec(0x232));if(_0x5dd193&&_0x5dd193[_0x5b2fec(0x1a6)])pythonBridge[_0x5b2fec(0x22b)](this,'TRAIN_ENERGY',{'points':JSON[_0x5b2fec(0x16e)](_0x5dd193[_0x5b2fec(0x1a6)])});}catch(_0x22373a){}return;}if(_0x156549['includes'](_0x5b2fec(0x145))&&_0x57d87f[_0x5b2fec(0x1a6)]){this['setState'](_0x156549,{'val':![],'ack':!![]});if(this[_0x5b2fec(0x200)])try{const _0x11637d=await this[_0x5b2fec(0x204)](_0x5b2fec(0x153));if(_0x11637d&&_0x11637d[_0x5b2fec(0x1a6)])pythonBridge['send'](this,_0x5b2fec(0x163),{'events':JSON[_0x5b2fec(0x16e)](_0x11637d['val'])});}catch(_0x16a5cb){}return;}if(_0x156549[_0x5b2fec(0x15b)]('analysis.training.triggerTopology')&&_0x57d87f[_0x5b2fec(0x1a6)]){this[_0x5b2fec(0x21e)](_0x156549,{'val':![],'ack':!![]}),topology[_0x5b2fec(0x150)](this);return;}}if(this[_0x5b2fec(0x19f)]['presenceDevices']&&this[_0x5b2fec(0x19f)][_0x5b2fec(0x1e4)]['includes'](_0x156549)){await this[_0x5b2fec(0x18c)]();return;}const _0x3575fc=(this[_0x5b2fec(0x19f)]['devices']||[])[_0x5b2fec(0x16a)](_0x2e9caf=>_0x2e9caf['id']===_0x156549);if(_0x3575fc){const _0x12a35a=await recorder[_0x5b2fec(0x15c)](this,_0x156549,_0x57d87f,_0x3575fc);_0x12a35a&&_0x12a35a[_0x5b2fec(0x214)]===_0x5b2fec(0x1ad)&&_0x12a35a[_0x5b2fec(0x190)]&&this[_0x5b2fec(0x200)]&&deadMan[_0x5b2fec(0x21a)](this,_0x12a35a[_0x5b2fec(0x190)]);}}async[a0_0x16125d(0x22c)](_0x497230){const _0x5288d2=a0_0x16125d;if(typeof _0x497230===_0x5288d2(0x1f5)&&_0x497230['message']){if(_0x497230[_0x5288d2(0x15f)]===_0x5288d2(0x1bf))try{const _0x2d0644=await automation['scanThermostats'](this);this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230['command'],{'success':!![],'results':_0x2d0644},_0x497230['callback']);}catch(_0x4c1ebd){this[_0x5288d2(0x197)](_0x497230['from'],_0x497230['command'],{'success':![],'error':_0x4c1ebd['message']},_0x497230['callback']);}else{if(_0x497230[_0x5288d2(0x15f)]===_0x5288d2(0x179))try{const {current_temps:_0x359ca2,t_out:_0x24847b,targets:_0x26f8c0,t_forecast:_0x509944}=_0x497230[_0x5288d2(0x22d)],_0x21e87c=[];let _0x114933={};try{const _0x5ae6df=await this[_0x5288d2(0x204)](_0x5288d2(0x167));if(_0x5ae6df&&_0x5ae6df[_0x5288d2(0x1a6)]){const _0x1f5996=JSON[_0x5288d2(0x16e)](_0x5ae6df[_0x5288d2(0x1a6)]);_0x114933=_0x1f5996[_0x5288d2(0x14a)]||_0x1f5996;}}catch(_0x437d4a){}const _0x4ee3dc=_0x509944!==undefined&&_0x509944!==null?(_0x24847b+_0x509944)/0x2:_0x24847b;for(const [_0x516092,_0x3875aa]of Object[_0x5288d2(0x1eb)](_0x359ca2)){const _0x3946c8=_0x26f8c0[_0x516092]||0x15;if(_0x3875aa<=_0x3946c8)continue;let _0x37a564=_0x114933[_0x516092]||-0.5;if(_0x37a564>=0x0)_0x37a564=-0.5;const _0x5f6bed=Math[_0x5288d2(0x1a4)](_0x37a564),_0x111829=_0x3875aa-_0x3946c8;let _0x501c0a=Math[_0x5288d2(0x157)](_0x111829/_0x5f6bed*0x3c);const _0x46f22e=_0x3875aa-_0x24847b,_0x22f0fa=_0x3875aa-_0x4ee3dc;if(_0x22f0fa!==0x0&&_0x46f22e!==0x0){const _0x42d6ee=_0x46f22e/_0x22f0fa;_0x501c0a=Math[_0x5288d2(0x157)](_0x501c0a*_0x42d6ee);}if(_0x501c0a>0xf){if(_0x501c0a>0xf0)_0x501c0a=0xf0;_0x21e87c['push']({'room':_0x516092,'minutes_safe':_0x501c0a,'target':_0x3946c8,'current':_0x3875aa,'savings_msg':_0x5288d2(0x1c0)+_0x501c0a+'\x20min\x20ausbleiben.'});}}_0x21e87c[_0x5288d2(0x166)]((_0x110545,_0x2db7d0)=>_0x2db7d0[_0x5288d2(0x147)]-_0x110545[_0x5288d2(0x147)]),this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':!![],'proposals':_0x21e87c},_0x497230[_0x5288d2(0x149)]);}catch(_0x1d95d5){this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':![],'error':_0x1d95d5[_0x5288d2(0x22d)]},_0x497230[_0x5288d2(0x149)]);}else{if(_0x497230['command']===_0x5288d2(0x1b0))await this[_0x5288d2(0x15d)](_0x5288d2(0x1d1),{'val':![],'ack':!![]}),await this[_0x5288d2(0x15d)](_0x5288d2(0x239),{'val':'','ack':!![]}),await this[_0x5288d2(0x15d)](_0x5288d2(0x1d0),{'val':'','ack':!![]}),this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230['command'],{'success':!![]},_0x497230[_0x5288d2(0x149)]);else{if(_0x497230[_0x5288d2(0x15f)]===_0x5288d2(0x186)){const {targetId:_0x47120e,targetValue:_0x2b5b2e}=_0x497230[_0x5288d2(0x22d)];await this['setStateAsync'](_0x5288d2(0x1d1),{'val':!![],'ack':!![]}),await this[_0x5288d2(0x15d)]('analysis.automation.description',{'val':_0x5288d2(0x1b6),'ack':!![]}),await this[_0x5288d2(0x15d)]('analysis.automation.targetId',{'val':_0x47120e,'ack':!![]}),await this[_0x5288d2(0x15d)]('analysis.automation.targetValue',{'val':String(_0x2b5b2e),'ack':!![]}),this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':!![]},_0x497230[_0x5288d2(0x149)]);}else{if(_0x497230[_0x5288d2(0x15f)]===_0x5288d2(0x1c3))try{const _0x3feb0b=_0x497230['message'][_0x5288d2(0x1aa)];if(!_0x3feb0b)throw new Error(_0x5288d2(0x244));const _0x3863bc=new GoogleGenerativeAI(_0x3feb0b),_0x51d724=_0x3863bc[_0x5288d2(0x221)]({'model':GEMINI_MODEL}),_0x52a1f5=await _0x51d724[_0x5288d2(0x191)]('Test'),_0x47a232=await _0x52a1f5[_0x5288d2(0x1ef)];if(_0x47a232['text']())this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':!![],'message':_0x5288d2(0x18f)},_0x497230[_0x5288d2(0x149)]);else throw new Error(_0x5288d2(0x160));}catch(_0x465405){this['sendTo'](_0x497230['from'],_0x497230[_0x5288d2(0x15f)],{'success':![],'message':_0x465405[_0x5288d2(0x22d)]},_0x497230[_0x5288d2(0x149)]);}else{if(_0x497230[_0x5288d2(0x15f)]===_0x5288d2(0x165))try{const _0x47ad9f=await scanner['scanForDevices'](this,_0x497230['message']||{});this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':!![],'devices':_0x47ad9f},_0x497230[_0x5288d2(0x149)]);}catch(_0x2c30d6){this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':![],'error':_0x2c30d6[_0x5288d2(0x22d)]},_0x497230[_0x5288d2(0x149)]);}else{if(_0x497230[_0x5288d2(0x15f)]==='updateTopologyMatrix')try{const {matrix:_0xf9d41a}=_0x497230[_0x5288d2(0x22d)],_0x162c54=await this['getStateAsync'](_0x5288d2(0x196));if(_0x162c54&&_0x162c54['val']){const _0x26206e=JSON[_0x5288d2(0x16e)](_0x162c54['val']);_0x26206e[_0x5288d2(0x146)]=_0xf9d41a,_0x26206e[_0x5288d2(0x178)]=Date[_0x5288d2(0x1f6)](),await this['setStateAsync']('analysis.topology.structure',{'val':JSON[_0x5288d2(0x20a)](_0x26206e),'ack':!![]}),pythonBridge[_0x5288d2(0x22b)](this,_0x5288d2(0x20b),_0x26206e);}this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':!![]},_0x497230[_0x5288d2(0x149)]);}catch(_0x3680d9){this[_0x5288d2(0x1ce)][_0x5288d2(0x1f8)](_0x3680d9);}else{if(_0x497230[_0x5288d2(0x15f)]===_0x5288d2(0x14d))this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':!![],'dailyDigests':this[_0x5288d2(0x1e2)]||[],'analysisHistory':this[_0x5288d2(0x202)]||[]},_0x497230[_0x5288d2(0x149)]);else{if(_0x497230[_0x5288d2(0x15f)]===_0x5288d2(0x1be)){const _0x16435f=this['dailyDigests'][_0x5288d2(0x1f2)],_0x38d578=new Array(0x18)[_0x5288d2(0x242)](0x0),_0x3c9466=new Date()[_0x5288d2(0x1c9)](0x0,0x0,0x0,0x0);this[_0x5288d2(0x177)]&&this[_0x5288d2(0x177)][_0x5288d2(0x1da)](_0x58bc06=>{const _0x340b46=_0x5288d2;if(_0x58bc06[_0x340b46(0x236)]>=_0x3c9466){const _0x4962ec=new Date(_0x58bc06['timestamp'])['getHours']();if(_0x4962ec>=0x0&&_0x4962ec<0x18)_0x38d578[_0x4962ec]++;}});let _0x40321f=![],_0x387072='',_0x342d1c='',_0x46f418='';try{const _0x2a4a3c=await this[_0x5288d2(0x204)]('analysis.automation.patternDetected');if(_0x2a4a3c&&_0x2a4a3c[_0x5288d2(0x1a6)]){_0x40321f=!![];const _0x288003=await this[_0x5288d2(0x204)](_0x5288d2(0x239));_0x387072=_0x288003?_0x288003[_0x5288d2(0x1a6)]:'';const _0x5237d8=await this[_0x5288d2(0x204)](_0x5288d2(0x1d0));_0x342d1c=_0x5237d8?_0x5237d8[_0x5288d2(0x1a6)]:'';const _0x3e6f76=await this[_0x5288d2(0x204)](_0x5288d2(0x22a));_0x46f418=_0x3e6f76?_0x3e6f76[_0x5288d2(0x1a6)]:'';}}catch(_0x1263a8){}const _0x44c6d0=await this[_0x5288d2(0x180)](),_0x2f4f78=(this[_0x5288d2(0x19f)][_0x5288d2(0x1fe)]||[])[_0x5288d2(0x158)](_0x3b73e6=>_0x3b73e6[_0x5288d2(0x152)]),_0x243451=_0x44c6d0&&_0x2f4f78;this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':!![],'eventHistory':this[_0x5288d2(0x177)][_0x5288d2(0x174)](0x0,0xf),'stats':{'digestCount':_0x16435f,'isPresent':this['isPresent'],'hourlyActivity':_0x38d578,'solarActive':_0x243451},'automation':{'detected':_0x40321f,'description':_0x387072,'targetId':_0x342d1c,'targetValue':_0x46f418}},_0x497230[_0x5288d2(0x149)]);}else{if(_0x497230['command']===_0x5288d2(0x1ba)){const _0x1f4503=await this[_0x5288d2(0x243)]('enum.functions.*',_0x5288d2(0x205)),_0x4aa5c4=[];if(_0x1f4503)for(const _0x5222f0 in _0x1f4503){const _0x2761da=_0x1f4503[_0x5222f0],_0xff0dc8=(_0x2761da[_0x5288d2(0x172)]&&typeof _0x2761da[_0x5288d2(0x172)][_0x5288d2(0x18e)]==='object'?_0x2761da['common']['name']['de']:_0x2761da[_0x5288d2(0x172)][_0x5288d2(0x18e)])||_0x2761da[_0x5288d2(0x172)][_0x5288d2(0x18e)];_0x4aa5c4[_0x5288d2(0x169)]({'id':_0x5222f0,'name':_0xff0dc8});}const _0x13c566=await this[_0x5288d2(0x243)](_0x5288d2(0x1db),_0x5288d2(0x205)),_0x1f05a6=[];if(_0x13c566)for(const _0x3af06b in _0x13c566){const _0x1af0cb=_0x13c566[_0x3af06b],_0x3ab8f6=(_0x1af0cb[_0x5288d2(0x172)]&&typeof _0x1af0cb['common'][_0x5288d2(0x18e)]===_0x5288d2(0x1f5)?_0x1af0cb[_0x5288d2(0x172)][_0x5288d2(0x18e)]['de']:_0x1af0cb[_0x5288d2(0x172)][_0x5288d2(0x18e)])||_0x3af06b[_0x5288d2(0x181)]('.')[_0x5288d2(0x1e7)]();_0x1f05a6['push'](_0x3ab8f6);}this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':!![],'enums':_0x4aa5c4,'rooms':_0x1f05a6},_0x497230[_0x5288d2(0x149)]);}else{if(_0x497230[_0x5288d2(0x15f)]===_0x5288d2(0x1c1))try{let _0x132601=_0x5288d2(0x1b9),_0x3ae7ab=_0x5288d2(0x1f1);if(this[_0x5288d2(0x19f)][_0x5288d2(0x1cd)]){const _0x1f1ad4=await recorder['getOutsideTemperatureNumeric'](this);_0x132601=_0x1f1ad4!==null?_0x1f1ad4+'Â°C':_0x5288d2(0x1dc);}if(this[_0x5288d2(0x19f)][_0x5288d2(0x233)]){const _0x56fb3a=await this['getForeignObjectAsync'](_0x5288d2(0x1d9)+this['config'][_0x5288d2(0x233)]);_0x3ae7ab=_0x56fb3a?_0x5288d2(0x185):_0x5288d2(0x245);}this[_0x5288d2(0x197)](_0x497230['from'],_0x497230['command'],{'success':!![],'weather':_0x132601,'calendar':_0x3ae7ab},_0x497230[_0x5288d2(0x149)]);}catch(_0x536c1d){this['sendTo'](_0x497230['from'],_0x497230[_0x5288d2(0x15f)],{'success':![],'error':_0x536c1d[_0x5288d2(0x22d)]},_0x497230[_0x5288d2(0x149)]);}else{if(_0x497230[_0x5288d2(0x15f)]===_0x5288d2(0x1c6))try{const _0x2c6d8a=_0x497230[_0x5288d2(0x22d)][_0x5288d2(0x235)],_0x537b4e=await this[_0x5288d2(0x1fa)](_0x2c6d8a+'.data.table');let _0x14a02c=[];if(_0x537b4e&&_0x537b4e['val']){const _0x56da21=JSON[_0x5288d2(0x16e)](_0x537b4e['val']),_0x16acb9=new Set();Array['isArray'](_0x56da21)&&_0x56da21['forEach'](_0x12979d=>{const _0x1db75c=_0x5288d2;if(_0x12979d[_0x1db75c(0x23b)])_0x16acb9[_0x1db75c(0x20d)](_0x12979d['_calName']);else{if(_0x12979d['calendarName'])_0x16acb9[_0x1db75c(0x20d)](_0x12979d[_0x1db75c(0x21d)]);}}),_0x14a02c=Array['from'](_0x16acb9)[_0x5288d2(0x166)]();}if(_0x14a02c[_0x5288d2(0x1f2)]===0x0)_0x14a02c=[_0x5288d2(0x231)];this[_0x5288d2(0x197)](_0x497230['from'],_0x497230[_0x5288d2(0x15f)],{'success':!![],'names':_0x14a02c},_0x497230[_0x5288d2(0x149)]);}catch(_0x2ab681){this[_0x5288d2(0x197)](_0x497230['from'],_0x497230[_0x5288d2(0x15f)],{'success':![],'error':_0x2ab681[_0x5288d2(0x22d)]},_0x497230[_0x5288d2(0x149)]);}else{if(_0x497230[_0x5288d2(0x15f)]==='testNotification')try{await setup[_0x5288d2(0x222)](this,_0x5288d2(0x154),![],![]),this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':!![],'message':_0x5288d2(0x198)},_0x497230['callback']);}catch(_0x2bd73b){this[_0x5288d2(0x1ce)][_0x5288d2(0x1f8)](_0x5288d2(0x159)+_0x2bd73b[_0x5288d2(0x22d)]),this[_0x5288d2(0x197)](_0x497230[_0x5288d2(0x1c4)],_0x497230[_0x5288d2(0x15f)],{'success':![],'message':_0x5288d2(0x223)+_0x2bd73b[_0x5288d2(0x22d)]},_0x497230[_0x5288d2(0x149)]);}}}}}}}}}}}}}}}async['loadSystemMode'](){const _0x43ff45=a0_0x16125d;try{const _0x340619=await this[_0x43ff45(0x204)](setup[_0x43ff45(0x194)]);_0x340619&&_0x340619[_0x43ff45(0x1a6)]&&Object[_0x43ff45(0x1a9)](setup[_0x43ff45(0x203)])[_0x43ff45(0x15b)](_0x340619['val'])?this[_0x43ff45(0x18d)]=_0x340619['val']:(this[_0x43ff45(0x18d)]=setup[_0x43ff45(0x203)][_0x43ff45(0x1b1)],await this['setStateAsync'](setup[_0x43ff45(0x194)],{'val':setup['SYSTEM_MODES'][_0x43ff45(0x1b1)],'ack':!![]}));}catch(_0x3a0ed1){this[_0x43ff45(0x18d)]=setup[_0x43ff45(0x203)][_0x43ff45(0x1b1)];}}async[a0_0x16125d(0x18c)](){const _0x4c10e0=a0_0x16125d;try{const _0xa9f494=this[_0x4c10e0(0x19f)][_0x4c10e0(0x1e4)]||[];let _0x3783e4=![];const _0x56c5cd=[];for(const _0x5867dd of _0xa9f494){try{const _0x5cd57c=await this[_0x4c10e0(0x1fa)](_0x5867dd);_0x5cd57c&&(_0x5cd57c[_0x4c10e0(0x1a6)]===!![]||_0x5cd57c['val']==='online'||_0x5cd57c[_0x4c10e0(0x1a6)]===0x1)&&(_0x3783e4=!![],_0x56c5cd['push'](_0x5867dd));}catch(_0x1dbf50){}}return await this['setStateAsync'](_0x4c10e0(0x201),{'val':_0x56c5cd[_0x4c10e0(0x208)](',\x20'),'ack':!![]}),_0x3783e4&&(this[_0x4c10e0(0x1b7)]&&(this['log'][_0x4c10e0(0x1c7)](_0x4c10e0(0x143)),recorder['abortExitTimer'](this)),!this[_0x4c10e0(0x23f)]&&this[_0x4c10e0(0x18d)]===setup[_0x4c10e0(0x203)][_0x4c10e0(0x1b1)]&&await recorder[_0x4c10e0(0x230)](this,!![])),_0x3783e4;}catch(_0x16b0b2){return![];}}async[a0_0x16125d(0x1b2)](){const _0x584067=a0_0x16125d;this[_0x584067(0x1ce)]['debug']('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent['runGeminiAnalysis'](this),this[_0x584067(0x1d8)](),this['triggerGaitAnalysis'](),this[_0x584067(0x168)]();}async['checkSolarCondition'](){const _0x5b9ab5=a0_0x16125d,_0x185ef9=[_0x5b9ab5(0x155),_0x5b9ab5(0x1bb),_0x5b9ab5(0x14e)],_0x180bb5=[_0x5b9ab5(0x229),_0x5b9ab5(0x212),_0x5b9ab5(0x1a5)];for(const _0x71f843 of _0x185ef9){for(const _0x1fff9e of _0x180bb5){try{const _0x100d95=_0x71f843+'.'+_0x1fff9e,_0x5538eb=await this[_0x5b9ab5(0x1fa)](_0x100d95);if(_0x5538eb&&_0x5538eb[_0x5b9ab5(0x1a6)]){const _0x101114=String(_0x5538eb[_0x5b9ab5(0x1a6)])[_0x5b9ab5(0x144)]();if(_0x101114[_0x5b9ab5(0x15b)](_0x5b9ab5(0x1de))||_0x101114[_0x5b9ab5(0x15b)](_0x5b9ab5(0x22f))||_0x101114[_0x5b9ab5(0x15b)](_0x5b9ab5(0x240))||_0x101114['includes'](_0x5b9ab5(0x1a8))||_0x101114[_0x5b9ab5(0x15b)](_0x5b9ab5(0x1ff)))return!![];}}catch(_0x383683){}}}return![];}[a0_0x16125d(0x1cc)](){const _0x7f1c1b=a0_0x16125d;if(!this[_0x7f1c1b(0x200)])return;try{this[_0x7f1c1b(0x21b)](_0x7f1c1b(0x161),(_0x3a76af,_0x4d36f5)=>{const _0x3a5c8f=_0x7f1c1b;_0x4d36f5&&_0x4d36f5['val']&&pythonBridge['send'](this,_0x3a5c8f(0x218),{'sequences':JSON['parse'](_0x4d36f5[_0x3a5c8f(0x1a6)])});});}catch(_0x19191f){}}async[a0_0x16125d(0x168)](){const _0x4d92ab=a0_0x16125d;if(!this['isProVersion'])return;try{const _0x1d8fb1=await recorder[_0x4d92ab(0x1e5)](this);if(_0x1d8fb1===null)return;const _0x44eebe={},_0x592282={},_0x1f434b=this[_0x4d92ab(0x19f)][_0x4d92ab(0x1fe)]||[];for(const _0x3f90dc of _0x1f434b){if(_0x3f90dc[_0x4d92ab(0x214)]==='temperature'&&_0x3f90dc[_0x4d92ab(0x190)]){const _0x419ca5=this['sensorLastValues'][_0x3f90dc['id']];if(_0x419ca5!==undefined)_0x44eebe[_0x3f90dc[_0x4d92ab(0x190)]]=_0x419ca5;if(_0x3f90dc['isSolar'])_0x592282[_0x3f90dc[_0x4d92ab(0x190)]]=!![];}}const _0x3b87e9=await this['checkSolarCondition']();let _0x26a438={};try{const _0x34b6b3=await this[_0x4d92ab(0x204)]('analysis.energy.warmupTargets');if(_0x34b6b3&&_0x34b6b3[_0x4d92ab(0x1a6)])_0x26a438=JSON['parse'](_0x34b6b3['val']);}catch(_0x4637bb){}Object[_0x4d92ab(0x171)](_0x44eebe)['length']>0x0&&(pythonBridge['send'](this,_0x4d92ab(0x1ae),{'current_temps':_0x44eebe,'t_out':_0x1d8fb1,'is_sunny':_0x3b87e9,'solar_flags':_0x592282,'warmup_targets':_0x26a438}),pythonBridge['send'](this,_0x4d92ab(0x1c2),{'current_temps':_0x44eebe,'t_out':_0x1d8fb1,'targets':{}}));}catch(_0x4fd75e){}}['updateHealthVector'](){const _0x5d1895=a0_0x16125d;if(!this[_0x5d1895(0x16f)]||this['rawEventLog'][_0x5d1895(0x1f2)]===0x0)return;const _0x33afce=new Array(0x60)['fill'](0x0),_0xceb8bf=new Date()[_0x5d1895(0x1c9)](0x0,0x0,0x0,0x0);this[_0x5d1895(0x16f)][_0x5d1895(0x1da)](_0x54b17e=>{const _0x403bd0=_0x5d1895,_0x477092=new Date(_0x54b17e[_0x403bd0(0x236)]);if(_0x477092[_0x403bd0(0x1ed)]()>=_0xceb8bf){const _0x11e931=_0x477092[_0x403bd0(0x187)](),_0x572873=_0x477092[_0x403bd0(0x1e0)](),_0x25d5b4=_0x11e931*0x4+Math[_0x403bd0(0x157)](_0x572873/0xf);if(_0x25d5b4>=0x0&&_0x25d5b4<0x60)_0x33afce[_0x25d5b4]++;}}),this[_0x5d1895(0x15d)](_0x5d1895(0x170),{'val':JSON[_0x5d1895(0x20a)](_0x33afce),'ack':!![]});}[a0_0x16125d(0x16b)](){const _0x554127=a0_0x16125d;if(!this[_0x554127(0x1e2)]||this[_0x554127(0x1e2)][_0x554127(0x1f2)]<0x2)return;const _0x3a0846=this[_0x554127(0x1e2)]['map'](_0x23e47e=>{const _0x463f69=_0x554127,_0xbe2799=(_0x23e47e['activityLevel']||'')[_0x463f69(0x144)]();return ACTIVITY_LEVEL_MAP[_0xbe2799]||0x32;});pythonBridge['send'](this,_0x554127(0x1f7),{'values':_0x3a0846,'tag':_0x554127(0x192)});}}if(require[a0_0x16125d(0x1dd)]!==module)module[a0_0x16125d(0x1e8)]=_0x230b3c=>new CogniLiving(_0x230b3c);else new CogniLiving();