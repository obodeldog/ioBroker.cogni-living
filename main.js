const a0_0x58d891=a0_0x3285;function a0_0x3285(_0x2ecebf,_0xed3b18){const _0x11446f=a0_0x2881();return a0_0x3285=function(_0x3cf94b,_0x33b26f){_0x3cf94b=_0x3cf94b-0xb1;let _0x288173=_0x11446f[_0x3cf94b];return _0x288173;},a0_0x3285(_0x2ecebf,_0xed3b18);}function a0_0x2881(){const _0x59555b=['parse','application/json','processSensorEvent','Fehler:\x20','getOutsideTemperatureNumeric','Verbindung\x20erfolgreich!','executeAutomationAction','Warm-Up\x20Target\x20Temps\x20(JSON)','Gesendet','analysis.triggerBriefing','sonn','243RkNgQo','geminiApiKey','checkCalendarTriggers','bind','analysis.training.triggerEnergy','{\x22default\x22:\x2021}','forEach','LTM.rawEventLog','version','startService','guest','geminiModel','config','json','minutes_safe','trackerHeartbeat','Current.WeatherText','getForeignObjectAsync','./lib/installer','2176662DeEdNJ','system.adapter.','./lib/python_bridge','includes','TRAIN_HEALTH','setupBriefingScheduler','SET_TOPOLOGY','log','driftAnalysisTimer','licenseKey','createDailyDigest','523605rTqIoj','location','info','dailyDigests','cogni-living\x20adapter\x20starting\x20(v','setStateAsync','@google/generative-ai','triggerGaitAnalysis','.system.mode','manual','getMinutes','online','analysis.training.triggerSecurity','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','toLowerCase','updated','checkSolarCondition','analysis.training.status','calendarInstance','subscribeStates','updateTopologyMatrix','startSystem','LTM.trainingData.sequences','Kein\x20Wetter-Adapter','.communicate.request','genAI','TRAIN_ENERGY','TRAIN_SECURITY','analysis.health.todayVector','heiter','174022IUXZpP','loadSystemMode','text','createAllObjects','push','cogni-living','now','Kein\x20API\x20Key\x20Ã¼bergeben','ANALYZE_GAIT','analysis.training.triggerTopology','slice','error','Guest\x20Mode','isPresent','some','briefingJob','NextHours.Location_1.Day_1.current.symbol_desc','SYSTEM_MODES','pop','Verbunden','ANALYZE_TREND','analysisInterval','send','abs','sendTo','runBaselineDriftAnalysis','rawEventLog','triggerBriefing','weatherunderground.0','./lib/automation','14FmrtCF','forecast.current.weather','initHistory','exports','runAutopilot','communicate.request','object','subscribeForeignStatesAsync','initSystemConfig','presenceDevices','namespace','lastTrackerEventTime','PREDICT_ENERGY','NORMAL','LTM.dailyDigests','scanForDevices','automation.triggerAction','lastAlertState','Heizung\x20kann\x20','getHours','checkAndInstall','getState','7966464nsOIdM','checkThermostats','updateLocation','setupDriftAnalysisScheduler','77985DcoOcW','analysis.automation.targetId','8161900coOjGA','instance','Lernphase\x20(','ready','onUnload','abortExitTimer','join','activityLevel','onReady','motion','setPresence','simulateButler','scanThermostats','name','_calName','Standard','Gemini\x20Init\x20Error:\x20','scores','notifyTelegramEnabled','analysis.automation.triggerAction','from','updateHealthVector','inactivityThresholdHours','9HYwtRe','state','dependencyInstallInProgress','50236xebaUq','accuweather.0','SYSTEM_DP_MODE','triggerEnergyPrediction','response','Adapter','minDaysForBaseline','enum','analysisHistory','testApiKey','temperature','systemConfig','LTM.baselineStatus','setupModeResetScheduler','enum.rooms.*','./lib/scheduler','apiKey','.data.table','@iobroker/adapter-core','LTM.triggerDailyDigest','LTM.trainingData.thermodynamics','isGracePeriodActive','Party\x20Mode','WiFi\x20Presence\x20detected.','add','(((.+)+)+)+$','timestamp','getLtmData','./lib/topology','sunny','VACATION','val','find','\x20min\x20ausbleiben.','message','analysis.automation.description','split','Daten\x20nicht\x20verfÃ¼gbar','checkLicense','useWeather','Keine\x20Antwort\x20von\x20Gemini','currentSystemMode','Activity-Level','setHours','analysis.automation.targetValue','PINN\x20AI\x20Forecast','ack','setupLtmScheduler','Active\x20Ventilation\x20Alerts','./lib/setup','entries','Aktiv\x20(','apply','string','eventHistory','getStateAsync','isProVersion','sort','devices','runGeminiAnalysis','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','dismissAutomation','onMessage','keys','search','clear','stopService','type','./lib/recorder','getForeignObjectsAsync','length','exitTimer','setState','values','isSolar','TRACK_EVENT','cancel','sendMorningBriefing','analysis.automation.patternDetected','floor','updateTopology','checkWifiPresence','notifyTelegramInstance','\x20Tage)','./lib/ai_agent','analysis.trigger','setObjectNotExistsAsync','generateContent','exitGraceTimer','command','analysis.energy.warmupTargets','getForeignStateAsync','analysis.training.triggerComfort','analysisTimer','initZombies','runPythonHealthCheck','matrix','toString','analysis.topology.structure','main','Sec-Training\x20started...','analysis.security.learningStatus','debug','calendarName','modeResetJob','fill','common','testContext','getEnums','party','analysis.training.triggerHealth','sensorLastValues','callback','getOverviewData','getGenerativeModel'];a0_0x2881=function(){return _0x59555b;};return a0_0x2881();}(function(_0x1925bd,_0x27c5a8){const _0x22c7ae=a0_0x3285,_0xf1c911=_0x1925bd();while(!![]){try{const _0x5a4647=parseInt(_0x22c7ae(0x15b))/0x1+parseInt(_0x22c7ae(0x179))/0x2+-parseInt(_0x22c7ae(0x13d))/0x3*(parseInt(_0x22c7ae(0xbf))/0x4)+-parseInt(_0x22c7ae(0x1b1))/0x5+parseInt(_0x22c7ae(0x150))/0x6*(-parseInt(_0x22c7ae(0x197))/0x7)+parseInt(_0x22c7ae(0x1ad))/0x8+-parseInt(_0x22c7ae(0xbc))/0x9*(-parseInt(_0x22c7ae(0x1b3))/0xa);if(_0x5a4647===_0x27c5a8)break;else _0xf1c911['push'](_0xf1c911['shift']());}catch(_0x5351b9){_0xf1c911['push'](_0xf1c911['shift']());}}}(a0_0x2881,0xa2278));const a0_0x33b26f=(function(){let _0x1c2672=!![];return function(_0x3c3c9b,_0x451e15){const _0x266e03=_0x1c2672?function(){const _0x42b06b=a0_0x3285;if(_0x451e15){const _0x350f41=_0x451e15[_0x42b06b(0xf3)](_0x3c3c9b,arguments);return _0x451e15=null,_0x350f41;}}:function(){};return _0x1c2672=![],_0x266e03;};}()),a0_0x3cf94b=a0_0x33b26f(this,function(){const _0xc52776=a0_0x3285;return a0_0x3cf94b[_0xc52776(0x120)]()[_0xc52776(0xff)](_0xc52776(0xd8))[_0xc52776(0x120)]()['constructor'](a0_0x3cf94b)[_0xc52776(0xff)](_0xc52776(0xd8));});a0_0x3cf94b();'use strict';const utils=require(a0_0x58d891(0xd1)),{GoogleGenerativeAI}=require(a0_0x58d891(0x161)),installer=require(a0_0x58d891(0x14f)),scanner=require('./lib/scanner'),schedulers=require(a0_0x58d891(0xce)),topology=require(a0_0x58d891(0xdb)),setup=require(a0_0x58d891(0xf0)),recorder=require(a0_0x58d891(0x103)),pythonBridge=require(a0_0x58d891(0x152)),aiAgent=require(a0_0x58d891(0x113)),deadMan=require('./lib/dead_man'),automation=require(a0_0x58d891(0x196)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x58d891(0xc4)]{constructor(_0x1b4238){const _0x21446f=a0_0x58d891;super({..._0x1b4238,'name':_0x21446f(0x17e)}),this[_0x21446f(0xf5)]=[],this[_0x21446f(0xc7)]=[],this[_0x21446f(0x193)]=[],this['dailyDigests']=[],this['sensorLastValues']={},this[_0x21446f(0xca)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x21446f(0x186)]=!![],this[_0x21446f(0x106)]=null,this[_0x21446f(0x117)]=null,this[_0x21446f(0xd4)]=![],this[_0x21446f(0x174)]=null,this[_0x21446f(0x148)]=null,this['currentSystemMode']=setup[_0x21446f(0x18a)][_0x21446f(0x1a4)],this['isProVersion']=![],this[_0x21446f(0x1a8)]=![],this[_0x21446f(0x11c)]=null,this['ltmJob']=null,this[_0x21446f(0x127)]=null,this[_0x21446f(0x158)]=null,this[_0x21446f(0x188)]=null,this['dependencyInstallInProgress']=![],this['trackerHeartbeat']=null,this[_0x21446f(0x1a2)]=Date[_0x21446f(0x17f)](),this['on'](_0x21446f(0x1b6),this[_0x21446f(0x1bb)][_0x21446f(0x140)](this)),this['on']('stateChange',this['onStateChange'][_0x21446f(0x140)](this)),this['on']('unload',this['onUnload']['bind'](this)),this['on']('message',this[_0x21446f(0xfd)][_0x21446f(0x140)](this));}async[a0_0x58d891(0x1bb)](){const _0x321e29=a0_0x58d891;this[_0x321e29(0x157)][_0x321e29(0x15d)](_0x321e29(0x15f)+this[_0x321e29(0x145)]+')\x20-\x20Phase\x20D\x20(Evolution)');if(!installer[_0x321e29(0x1ab)](this,()=>this[_0x321e29(0x170)]()))return;}async[a0_0x58d891(0x170)](){const _0x4ace68=a0_0x58d891;await setup[_0x4ace68(0x11d)](this);try{this[_0x4ace68(0xf7)]=await setup[_0x4ace68(0xe5)](this[_0x4ace68(0x149)][_0x4ace68(0x159)]);}catch(_0x4ee24e){}if(!this[_0x4ace68(0x149)][_0x4ace68(0xbb)]||this[_0x4ace68(0x149)]['inactivityThresholdHours']<0.1)this['config'][_0x4ace68(0xbb)]=0xc;await setup[_0x4ace68(0x199)](this),await setup[_0x4ace68(0x19f)](this);if(this[_0x4ace68(0x149)]['geminiApiKey'])try{this[_0x4ace68(0x174)]=new GoogleGenerativeAI(this[_0x4ace68(0x149)][_0x4ace68(0x13e)]),this['geminiModel']=this[_0x4ace68(0x174)][_0x4ace68(0x131)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x4ace68(0x133)}}),this[_0x4ace68(0x157)][_0x4ace68(0x15d)]('Gemini\x20AI\x20initialized.');}catch(_0x1a983f){this[_0x4ace68(0x157)][_0x4ace68(0x184)](_0x4ace68(0xb5)+_0x1a983f[_0x4ace68(0xe1)]);}await setup[_0x4ace68(0x17c)](this),await this[_0x4ace68(0x17a)](),await this['setObjectNotExistsAsync']('analysis.energy.pinnForecast',{'type':_0x4ace68(0xbd),'common':{'name':_0x4ace68(0xec),'type':'string','role':_0x4ace68(0x14a),'read':!![],'write':![]},'native':{}}),await this[_0x4ace68(0x115)]('analysis.energy.ventilationAlerts',{'type':_0x4ace68(0xbd),'common':{'name':_0x4ace68(0xef),'type':_0x4ace68(0xf4),'role':_0x4ace68(0x14a),'read':!![],'write':![]},'native':{}}),await this[_0x4ace68(0x115)]('analysis.energy.warmupTimes',{'type':_0x4ace68(0xbd),'common':{'name':_0x4ace68(0xfb),'type':_0x4ace68(0xf4),'role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4ace68(0x119),{'type':_0x4ace68(0xbd),'common':{'name':_0x4ace68(0x139),'type':'string','role':_0x4ace68(0x14a),'read':!![],'write':!![],'def':_0x4ace68(0x142)},'native':{}});try{const _0x37fb4b=await this['getStateAsync'](_0x4ace68(0x144));if(_0x37fb4b&&_0x37fb4b['val'])this['rawEventLog']=JSON[_0x4ace68(0x132)](_0x37fb4b['val']);}catch(_0x25dd07){this[_0x4ace68(0x193)]=[];}try{const _0x31b2bc=await this[_0x4ace68(0xf6)](_0x4ace68(0x1a5));if(_0x31b2bc&&_0x31b2bc[_0x4ace68(0xde)])this[_0x4ace68(0x15e)]=JSON[_0x4ace68(0x132)](_0x31b2bc['val']);}catch(_0x3e0a09){this['dailyDigests']=[];}const _0x27f9b9=this[_0x4ace68(0x15e)]['length']>=(this['config'][_0x4ace68(0xc5)]||0x7)?_0x4ace68(0xf2)+this['dailyDigests'][_0x4ace68(0x105)]+_0x4ace68(0x112):_0x4ace68(0x1b5)+this[_0x4ace68(0x15e)][_0x4ace68(0x105)]+'/'+(this[_0x4ace68(0x149)][_0x4ace68(0xc5)]||0x7)+')';await this[_0x4ace68(0x160)](_0x4ace68(0xcb),{'val':_0x27f9b9,'ack':!![]}),this['subscribeStates'](_0x4ace68(0x114)),this[_0x4ace68(0x16e)](_0x4ace68(0xd2)),this[_0x4ace68(0x16e)]('system.mode'),this[_0x4ace68(0x16e)](_0x4ace68(0x13b)),this[_0x4ace68(0x16e)](_0x4ace68(0xb8)),this['subscribeStates']('analysis.automation.autoApply'),this[_0x4ace68(0x16e)](_0x4ace68(0x167)),this[_0x4ace68(0x16e)](_0x4ace68(0x12d)),this[_0x4ace68(0x16e)](_0x4ace68(0x141)),this['subscribeStates'](_0x4ace68(0x11b)),this['subscribeStates'](_0x4ace68(0x182)),this[_0x4ace68(0x16e)]('analysis.energy.mpcActive');const _0xecf708=this[_0x4ace68(0x149)][_0x4ace68(0xf9)];if(_0xecf708)for(const _0x3bf1f5 of _0xecf708){await this['subscribeForeignStatesAsync'](_0x3bf1f5['id']);}const _0x1731e3=this['config'][_0x4ace68(0x1a0)];if(_0x1731e3)for(const _0x51bc72 of _0x1731e3){await this[_0x4ace68(0x19e)](_0x51bc72);}if(this[_0x4ace68(0x149)][_0x4ace68(0xb7)]&&this['config']['notifyTelegramInstance'])await this[_0x4ace68(0x19e)](this['config'][_0x4ace68(0x111)]+_0x4ace68(0x173));setTimeout(()=>this[_0x4ace68(0x110)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x4ace68(0x11c)]);const _0x5854de=this[_0x4ace68(0x149)][_0x4ace68(0x18e)]||0xf;_0x5854de>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x159bf6=_0x4ace68;this['runAutopilot'](),automation[_0x159bf6(0x13f)](this);},_0x5854de*0x3c*0x3e8)),setTimeout(()=>automation[_0x4ace68(0x13f)](this),0x2710),this[_0x4ace68(0x149)]['trackerEnabled']!==![]&&(this[_0x4ace68(0x14c)]=setInterval(()=>{const _0x591d41=_0x4ace68;if(this['isProVersion']){const _0x269605=Date[_0x591d41(0x17f)](),_0x1ebaa9=this[_0x591d41(0x1a2)]||_0x269605,_0x1b9da6=(_0x269605-_0x1ebaa9)/0x3e8;_0x1b9da6>0x2&&(this[_0x591d41(0x1a2)]=_0x269605,pythonBridge['send'](this,_0x591d41(0x10a),{'room':null,'dt':_0x1b9da6}));}},0xbb8)),schedulers[_0x4ace68(0xee)](this,()=>aiAgent[_0x4ace68(0x15a)](this,pythonBridge)),schedulers[_0x4ace68(0xcc)](this),schedulers[_0x4ace68(0x1b0)](this,()=>aiAgent[_0x4ace68(0x192)](this)),schedulers[_0x4ace68(0x155)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x4ace68(0x146)](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0xf7be15=_0x4ace68;await topology[_0xf7be15(0x10f)](this);try{const _0x4d2651=await this[_0xf7be15(0xf6)](_0xf7be15(0x121));if(_0x4d2651&&_0x4d2651['val'])pythonBridge[_0xf7be15(0x18f)](this,_0xf7be15(0x156),JSON['parse'](_0x4d2651['val']));}catch(_0x865fa3){}this['runPythonHealthCheck'](),this['triggerGaitAnalysis'](),this[_0xf7be15(0xc2)](),this[_0xf7be15(0xba)]();},0x1388);}[a0_0x58d891(0x1b7)](_0x3f4a9c){const _0x592ee8=a0_0x58d891;if(this[_0x592ee8(0x11c)])clearInterval(this[_0x592ee8(0x11c)]);if(this['driftAnalysisTimer'])clearInterval(this[_0x592ee8(0x158)]);if(this['trackerHeartbeat'])clearInterval(this[_0x592ee8(0x14c)]);if(this['ltmJob'])this['ltmJob'][_0x592ee8(0x10b)]();if(this[_0x592ee8(0x127)])this[_0x592ee8(0x127)][_0x592ee8(0x10b)]();if(this[_0x592ee8(0x188)])this[_0x592ee8(0x188)][_0x592ee8(0x10b)]();recorder['abortExitTimer'](this),pythonBridge[_0x592ee8(0x101)](this),_0x3f4a9c();}async['onStateChange'](_0x2b5765,_0x831ed6){const _0x4e63bc=a0_0x58d891;if(!_0x831ed6||this[_0x4e63bc(0xbe)])return;if(_0x2b5765[_0x4e63bc(0x153)]('telegram')&&_0x2b5765['endsWith'](_0x4e63bc(0x19c))&&_0x831ed6[_0x4e63bc(0xde)])return;if(_0x2b5765===this[_0x4e63bc(0x1a1)]+_0x4e63bc(0x163)){if(_0x831ed6[_0x4e63bc(0xde)]&&Object[_0x4e63bc(0x108)](setup[_0x4e63bc(0x18a)])[_0x4e63bc(0x153)](_0x831ed6[_0x4e63bc(0xde)])){this[_0x4e63bc(0xe8)]=_0x831ed6[_0x4e63bc(0xde)];if(_0x831ed6['val']===setup[_0x4e63bc(0x18a)][_0x4e63bc(0xdd)])await recorder[_0x4e63bc(0x1bd)](this,![]);else await recorder[_0x4e63bc(0x1bd)](this,!![]);if(this[_0x4e63bc(0xf7)]){let _0x538c3e=![],_0x272bf7=0x0,_0x36779b=_0x4e63bc(0x164);if(this['currentSystemMode']===_0x4e63bc(0x12c))_0x538c3e=!![],_0x272bf7=0x168,_0x36779b=_0x4e63bc(0xd5);else this[_0x4e63bc(0xe8)]===_0x4e63bc(0x147)&&(_0x538c3e=!![],_0x272bf7=0x5a0,_0x36779b=_0x4e63bc(0x185));pythonBridge[_0x4e63bc(0x18f)](this,'SET_LEARNING_MODE',{'active':_0x538c3e,'duration':_0x272bf7,'label':_0x36779b}),await this[_0x4e63bc(0x160)](_0x4e63bc(0x124),{'val':JSON['stringify']({'active':_0x538c3e,'label':_0x36779b,'timestamp':Date['now']()}),'ack':!![]});}}if(!_0x831ed6['ack'])this[_0x4e63bc(0x107)](_0x2b5765,{'val':this[_0x4e63bc(0xe8)],'ack':!![]});return;}if(!_0x831ed6[_0x4e63bc(0xed)]){_0x2b5765['includes']('analysis.trigger')&&_0x831ed6[_0x4e63bc(0xde)]&&(this[_0x4e63bc(0x107)](_0x2b5765,{'val':![],'ack':!![]}),aiAgent[_0x4e63bc(0xfa)](this));if(_0x2b5765[_0x4e63bc(0x153)]('triggerDailyDigest')&&_0x831ed6[_0x4e63bc(0xde)]){this[_0x4e63bc(0x107)](_0x2b5765,{'val':![],'ack':!![]});if(this[_0x4e63bc(0xf7)])aiAgent[_0x4e63bc(0x15a)](this,pythonBridge);}_0x2b5765[_0x4e63bc(0x153)](_0x4e63bc(0x194))&&_0x831ed6[_0x4e63bc(0xde)]&&(this['setState'](_0x2b5765,{'val':![],'ack':!![]}),aiAgent[_0x4e63bc(0x10c)](this));_0x2b5765[_0x4e63bc(0x153)](_0x4e63bc(0x1a7))&&_0x831ed6[_0x4e63bc(0xde)]&&(this[_0x4e63bc(0x107)](_0x2b5765,{'val':![],'ack':!![]}),aiAgent[_0x4e63bc(0x138)](this));if(_0x2b5765[_0x4e63bc(0x153)](_0x4e63bc(0x167))&&_0x831ed6[_0x4e63bc(0xde)]){this[_0x4e63bc(0x107)](_0x2b5765,{'val':![],'ack':!![]});if(this[_0x4e63bc(0xf7)])try{const _0x4934b7=await this[_0x4e63bc(0xf6)]('LTM.trainingData.sequences');if(_0x4934b7&&_0x4934b7[_0x4e63bc(0xde)]){const _0x2fc73d=JSON[_0x4e63bc(0x132)](_0x4934b7['val']);this[_0x4e63bc(0x160)](_0x4e63bc(0x16c),{'val':_0x4e63bc(0x123),'ack':!![]}),pythonBridge[_0x4e63bc(0x18f)](this,_0x4e63bc(0x176),{'sequences':_0x2fc73d});}}catch(_0x142896){}}if(_0x2b5765[_0x4e63bc(0x153)](_0x4e63bc(0x12d))&&_0x831ed6[_0x4e63bc(0xde)]){this[_0x4e63bc(0x107)](_0x2b5765,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x4a55f7=await this['getStateAsync'](_0x4e63bc(0x1a5));if(_0x4a55f7&&_0x4a55f7[_0x4e63bc(0xde)])pythonBridge[_0x4e63bc(0x18f)](this,_0x4e63bc(0x154),{'digests':JSON['parse'](_0x4a55f7[_0x4e63bc(0xde)])});}catch(_0x503681){}}if(_0x2b5765['includes'](_0x4e63bc(0x141))&&_0x831ed6['val']){this[_0x4e63bc(0x107)](_0x2b5765,{'val':![],'ack':!![]});if(this[_0x4e63bc(0xf7)])try{const _0x1efa9c=await this[_0x4e63bc(0xf6)](_0x4e63bc(0xd3));if(_0x1efa9c&&_0x1efa9c[_0x4e63bc(0xde)])pythonBridge['send'](this,_0x4e63bc(0x175),{'points':JSON[_0x4e63bc(0x132)](_0x1efa9c[_0x4e63bc(0xde)])});}catch(_0x2c5dbb){}}if(_0x2b5765[_0x4e63bc(0x153)](_0x4e63bc(0x11b))&&_0x831ed6[_0x4e63bc(0xde)]){this[_0x4e63bc(0x107)](_0x2b5765,{'val':![],'ack':!![]});if(this[_0x4e63bc(0xf7)])try{const _0x53dfc6=await this[_0x4e63bc(0xf6)](_0x4e63bc(0x144));if(_0x53dfc6&&_0x53dfc6[_0x4e63bc(0xde)])pythonBridge['send'](this,'TRAIN_COMFORT',{'events':JSON[_0x4e63bc(0x132)](_0x53dfc6[_0x4e63bc(0xde)])});}catch(_0x41b810){}}_0x2b5765[_0x4e63bc(0x153)](_0x4e63bc(0x182))&&_0x831ed6['val']&&(this[_0x4e63bc(0x107)](_0x2b5765,{'val':![],'ack':!![]}),topology[_0x4e63bc(0x10f)](this));return;}if(this['config'][_0x4e63bc(0x1a0)]&&this[_0x4e63bc(0x149)]['presenceDevices'][_0x4e63bc(0x153)](_0x2b5765)){await this[_0x4e63bc(0x110)]();return;}const _0x31652d=(this[_0x4e63bc(0x149)][_0x4e63bc(0xf9)]||[])[_0x4e63bc(0xdf)](_0x1e4888=>_0x1e4888['id']===_0x2b5765);if(_0x31652d){const _0x3a75df=await recorder[_0x4e63bc(0x134)](this,_0x2b5765,_0x831ed6,_0x31652d);_0x3a75df&&_0x3a75df[_0x4e63bc(0x102)]===_0x4e63bc(0x1bc)&&_0x3a75df[_0x4e63bc(0x15c)]&&this[_0x4e63bc(0xf7)]&&deadMan[_0x4e63bc(0x1af)](this,_0x3a75df[_0x4e63bc(0x15c)]);}}async['onMessage'](_0x1b0ad2){const _0xc282c7=a0_0x58d891;if(typeof _0x1b0ad2===_0xc282c7(0x19d)&&_0x1b0ad2['message']){if(_0x1b0ad2['command']===_0xc282c7(0x1ae))try{const _0x590a45=await automation[_0xc282c7(0xb1)](this);this['sendTo'](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2['command'],{'success':!![],'results':_0x590a45},_0x1b0ad2[_0xc282c7(0x12f)]);}catch(_0xedb023){this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':![],'error':_0xedb023[_0xc282c7(0xe1)]},_0x1b0ad2[_0xc282c7(0x12f)]);}else{if(_0x1b0ad2[_0xc282c7(0x118)]==='simulateEnergyMPC')try{const {current_temps:_0x1a8b12,t_out:_0x3a8f14,targets:_0x416da9,t_forecast:_0x3e6862}=_0x1b0ad2['message'],_0x3cf7f8=[];let _0x252810={};try{const _0x22a2b3=await this[_0xc282c7(0xf6)]('analysis.energy.insulationScore');if(_0x22a2b3&&_0x22a2b3['val']){const _0xb3a474=JSON['parse'](_0x22a2b3[_0xc282c7(0xde)]);_0x252810=_0xb3a474[_0xc282c7(0xb6)]||_0xb3a474;}}catch(_0x59133d){}const _0x443da6=_0x3e6862!==undefined&&_0x3e6862!==null?(_0x3a8f14+_0x3e6862)/0x2:_0x3a8f14;for(const [_0x33edab,_0x1cb04e]of Object[_0xc282c7(0xf1)](_0x1a8b12)){const _0x456ebc=_0x416da9[_0x33edab]||0x15;if(_0x1cb04e<=_0x456ebc)continue;let _0x2ca692=_0x252810[_0x33edab]||-0.5;if(_0x2ca692>=0x0)_0x2ca692=-0.5;const _0x1a0eb8=Math[_0xc282c7(0x190)](_0x2ca692),_0x19bb2f=_0x1cb04e-_0x456ebc;let _0xb515b8=Math['floor'](_0x19bb2f/_0x1a0eb8*0x3c);const _0x133f48=_0x1cb04e-_0x3a8f14,_0x4d0078=_0x1cb04e-_0x443da6;if(_0x4d0078!==0x0&&_0x133f48!==0x0){const _0x1bcd06=_0x133f48/_0x4d0078;_0xb515b8=Math[_0xc282c7(0x10e)](_0xb515b8*_0x1bcd06);}if(_0xb515b8>0xf){if(_0xb515b8>0xf0)_0xb515b8=0xf0;_0x3cf7f8[_0xc282c7(0x17d)]({'room':_0x33edab,'minutes_safe':_0xb515b8,'target':_0x456ebc,'current':_0x1cb04e,'savings_msg':_0xc282c7(0x1a9)+_0xb515b8+_0xc282c7(0xe0)});}}_0x3cf7f8['sort']((_0x4f63a8,_0x1d5ac3)=>_0x1d5ac3[_0xc282c7(0x14b)]-_0x4f63a8['minutes_safe']),this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![],'proposals':_0x3cf7f8},_0x1b0ad2['callback']);}catch(_0xb7f287){this['sendTo'](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':![],'error':_0xb7f287['message']},_0x1b0ad2[_0xc282c7(0x12f)]);}else{if(_0x1b0ad2['command']===_0xc282c7(0xfc))await this[_0xc282c7(0x160)](_0xc282c7(0x10d),{'val':![],'ack':!![]}),await this[_0xc282c7(0x160)](_0xc282c7(0xe2),{'val':'','ack':!![]}),await this['setStateAsync'](_0xc282c7(0x1b2),{'val':'','ack':!![]}),this[_0xc282c7(0x191)](_0x1b0ad2['from'],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![]},_0x1b0ad2[_0xc282c7(0x12f)]);else{if(_0x1b0ad2[_0xc282c7(0x118)]===_0xc282c7(0x1be)){const {targetId:_0x281f92,targetValue:_0xbb7e9e}=_0x1b0ad2['message'];await this['setStateAsync'](_0xc282c7(0x10d),{'val':!![],'ack':!![]}),await this[_0xc282c7(0x160)]('analysis.automation.description',{'val':'Simulation\x20durch\x20Admin\x20(Test)','ack':!![]}),await this['setStateAsync'](_0xc282c7(0x1b2),{'val':_0x281f92,'ack':!![]}),await this[_0xc282c7(0x160)]('analysis.automation.targetValue',{'val':String(_0xbb7e9e),'ack':!![]}),this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![]},_0x1b0ad2['callback']);}else{if(_0x1b0ad2[_0xc282c7(0x118)]===_0xc282c7(0xc8))try{const _0x4f7b19=_0x1b0ad2[_0xc282c7(0xe1)][_0xc282c7(0xcf)];if(!_0x4f7b19)throw new Error(_0xc282c7(0x180));const _0x16d580=new GoogleGenerativeAI(_0x4f7b19),_0x3555a5=_0x16d580[_0xc282c7(0x131)]({'model':GEMINI_MODEL}),_0x4bec12=await _0x3555a5[_0xc282c7(0x116)]('Test'),_0x24909c=await _0x4bec12[_0xc282c7(0xc3)];if(_0x24909c[_0xc282c7(0x17b)]())this['sendTo'](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![],'message':_0xc282c7(0x137)},_0x1b0ad2[_0xc282c7(0x12f)]);else throw new Error(_0xc282c7(0xe7));}catch(_0xd84c67){this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':![],'message':_0xd84c67[_0xc282c7(0xe1)]},_0x1b0ad2[_0xc282c7(0x12f)]);}else{if(_0x1b0ad2['command']==='scanDevices')try{const _0x24609a=await scanner[_0xc282c7(0x1a6)](this,_0x1b0ad2['message']||{});this['sendTo'](_0x1b0ad2['from'],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![],'devices':_0x24609a},_0x1b0ad2[_0xc282c7(0x12f)]);}catch(_0x4a7b7f){this['sendTo'](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':![],'error':_0x4a7b7f[_0xc282c7(0xe1)]},_0x1b0ad2[_0xc282c7(0x12f)]);}else{if(_0x1b0ad2[_0xc282c7(0x118)]===_0xc282c7(0x16f))try{const {matrix:_0x523439}=_0x1b0ad2[_0xc282c7(0xe1)],_0x30840d=await this[_0xc282c7(0xf6)]('analysis.topology.structure');if(_0x30840d&&_0x30840d[_0xc282c7(0xde)]){const _0x30468a=JSON[_0xc282c7(0x132)](_0x30840d['val']);_0x30468a[_0xc282c7(0x11f)]=_0x523439,_0x30468a[_0xc282c7(0x16a)]=Date['now'](),await this[_0xc282c7(0x160)]('analysis.topology.structure',{'val':JSON['stringify'](_0x30468a),'ack':!![]}),pythonBridge['send'](this,_0xc282c7(0x156),_0x30468a);}this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2['command'],{'success':!![]},_0x1b0ad2[_0xc282c7(0x12f)]);}catch(_0x5cd8bd){this[_0xc282c7(0x157)][_0xc282c7(0x184)](_0x5cd8bd);}else{if(_0x1b0ad2[_0xc282c7(0x118)]===_0xc282c7(0xda))this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![],'dailyDigests':this[_0xc282c7(0x15e)]||[],'analysisHistory':this[_0xc282c7(0xc7)]||[]},_0x1b0ad2[_0xc282c7(0x12f)]);else{if(_0x1b0ad2[_0xc282c7(0x118)]===_0xc282c7(0x130)){const _0x3e28fe=this[_0xc282c7(0x15e)][_0xc282c7(0x105)],_0x3b6075=new Array(0x18)[_0xc282c7(0x128)](0x0),_0x536c99=new Date()[_0xc282c7(0xea)](0x0,0x0,0x0,0x0);this[_0xc282c7(0xf5)]&&this[_0xc282c7(0xf5)][_0xc282c7(0x143)](_0xffaaf0=>{const _0x47deec=_0xc282c7;if(_0xffaaf0[_0x47deec(0xd9)]>=_0x536c99){const _0x4630b4=new Date(_0xffaaf0['timestamp'])[_0x47deec(0x1aa)]();if(_0x4630b4>=0x0&&_0x4630b4<0x18)_0x3b6075[_0x4630b4]++;}});let _0x49ce4e=![],_0xf28ec0='',_0x2051d4='',_0xf6426f='';try{const _0xe92fe=await this['getStateAsync']('analysis.automation.patternDetected');if(_0xe92fe&&_0xe92fe[_0xc282c7(0xde)]){_0x49ce4e=!![];const _0x325640=await this[_0xc282c7(0xf6)](_0xc282c7(0xe2));_0xf28ec0=_0x325640?_0x325640[_0xc282c7(0xde)]:'';const _0x36dbfd=await this[_0xc282c7(0xf6)](_0xc282c7(0x1b2));_0x2051d4=_0x36dbfd?_0x36dbfd[_0xc282c7(0xde)]:'';const _0x4efa55=await this[_0xc282c7(0xf6)](_0xc282c7(0xeb));_0xf6426f=_0x4efa55?_0x4efa55['val']:'';}}catch(_0xb4fef1){}const _0x21e6a8=await this[_0xc282c7(0x16b)](),_0x3d26bb=(this[_0xc282c7(0x149)][_0xc282c7(0xf9)]||[])[_0xc282c7(0x187)](_0x2d5ce7=>_0x2d5ce7[_0xc282c7(0x109)]),_0x186d9e=_0x21e6a8&&_0x3d26bb;this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![],'eventHistory':this[_0xc282c7(0xf5)][_0xc282c7(0x183)](0x0,0xf),'stats':{'digestCount':_0x3e28fe,'isPresent':this[_0xc282c7(0x186)],'hourlyActivity':_0x3b6075,'solarActive':_0x186d9e},'automation':{'detected':_0x49ce4e,'description':_0xf28ec0,'targetId':_0x2051d4,'targetValue':_0xf6426f}},_0x1b0ad2[_0xc282c7(0x12f)]);}else{if(_0x1b0ad2[_0xc282c7(0x118)]===_0xc282c7(0x12b)){const _0x3a86b8=await this[_0xc282c7(0x104)]('enum.functions.*',_0xc282c7(0xc6)),_0x4a84b1=[];if(_0x3a86b8)for(const _0x12154d in _0x3a86b8){const _0x54aefe=_0x3a86b8[_0x12154d],_0x3198e1=(_0x54aefe[_0xc282c7(0x129)]&&typeof _0x54aefe[_0xc282c7(0x129)]['name']===_0xc282c7(0x19d)?_0x54aefe[_0xc282c7(0x129)]['name']['de']:_0x54aefe[_0xc282c7(0x129)][_0xc282c7(0xb2)])||_0x54aefe[_0xc282c7(0x129)][_0xc282c7(0xb2)];_0x4a84b1[_0xc282c7(0x17d)]({'id':_0x12154d,'name':_0x3198e1});}const _0x3bfc76=await this[_0xc282c7(0x104)](_0xc282c7(0xcd),_0xc282c7(0xc6)),_0x3336e1=[];if(_0x3bfc76)for(const _0x43b86b in _0x3bfc76){const _0x28a463=_0x3bfc76[_0x43b86b],_0x337026=(_0x28a463['common']&&typeof _0x28a463[_0xc282c7(0x129)]['name']==='object'?_0x28a463['common'][_0xc282c7(0xb2)]['de']:_0x28a463['common'][_0xc282c7(0xb2)])||_0x43b86b[_0xc282c7(0xe3)]('.')[_0xc282c7(0x18b)]();_0x3336e1[_0xc282c7(0x17d)](_0x337026);}this[_0xc282c7(0x191)](_0x1b0ad2['from'],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![],'enums':_0x4a84b1,'rooms':_0x3336e1},_0x1b0ad2[_0xc282c7(0x12f)]);}else{if(_0x1b0ad2[_0xc282c7(0x118)]===_0xc282c7(0x12a))try{let _0x3a6a1f=_0xc282c7(0x172),_0x54923d='Kein\x20Kalender-Adapter';if(this[_0xc282c7(0x149)][_0xc282c7(0xe6)]){const _0x3caef9=await recorder['getOutsideTemperatureNumeric'](this);_0x3a6a1f=_0x3caef9!==null?_0x3caef9+'Â°C':_0xc282c7(0xe4);}if(this[_0xc282c7(0x149)][_0xc282c7(0x16d)]){const _0x399fe2=await this[_0xc282c7(0x14e)](_0xc282c7(0x151)+this['config'][_0xc282c7(0x16d)]);_0x54923d=_0x399fe2?_0xc282c7(0x18c):'Instanz\x20nicht\x20gefunden';}this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![],'weather':_0x3a6a1f,'calendar':_0x54923d},_0x1b0ad2[_0xc282c7(0x12f)]);}catch(_0xe8d679){this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':![],'error':_0xe8d679[_0xc282c7(0xe1)]},_0x1b0ad2[_0xc282c7(0x12f)]);}else{if(_0x1b0ad2[_0xc282c7(0x118)]==='getCalendarNames')try{const _0x5d83cc=_0x1b0ad2['message'][_0xc282c7(0x1b4)],_0x53165f=await this[_0xc282c7(0x11a)](_0x5d83cc+_0xc282c7(0xd0));let _0x3376a7=[];if(_0x53165f&&_0x53165f[_0xc282c7(0xde)]){const _0x2a88f7=JSON[_0xc282c7(0x132)](_0x53165f[_0xc282c7(0xde)]),_0x4dc390=new Set();Array['isArray'](_0x2a88f7)&&_0x2a88f7[_0xc282c7(0x143)](_0x397768=>{const _0x3de62f=_0xc282c7;if(_0x397768[_0x3de62f(0xb3)])_0x4dc390['add'](_0x397768[_0x3de62f(0xb3)]);else{if(_0x397768['calendarName'])_0x4dc390[_0x3de62f(0xd7)](_0x397768[_0x3de62f(0x126)]);}}),_0x3376a7=Array[_0xc282c7(0xb9)](_0x4dc390)[_0xc282c7(0xf8)]();}if(_0x3376a7['length']===0x0)_0x3376a7=[_0xc282c7(0xb4)];this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2['command'],{'success':!![],'names':_0x3376a7},_0x1b0ad2[_0xc282c7(0x12f)]);}catch(_0x180a10){this[_0xc282c7(0x191)](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':![],'error':_0x180a10['message']},_0x1b0ad2[_0xc282c7(0x12f)]);}else{if(_0x1b0ad2[_0xc282c7(0x118)]==='testNotification')try{await setup['sendNotification'](this,_0xc282c7(0x168),![],![]),this['sendTo'](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':!![],'message':_0xc282c7(0x13a)},_0x1b0ad2['callback']);}catch(_0x45320a){this['log'][_0xc282c7(0x184)]('Notification\x20Test\x20Failed:\x20'+_0x45320a[_0xc282c7(0xe1)]),this['sendTo'](_0x1b0ad2[_0xc282c7(0xb9)],_0x1b0ad2[_0xc282c7(0x118)],{'success':![],'message':_0xc282c7(0x135)+_0x45320a[_0xc282c7(0xe1)]},_0x1b0ad2[_0xc282c7(0x12f)]);}}}}}}}}}}}}}}}async[a0_0x58d891(0x17a)](){const _0x3e92ec=a0_0x58d891;try{const _0x483149=await this[_0x3e92ec(0xf6)](setup[_0x3e92ec(0xc1)]);_0x483149&&_0x483149[_0x3e92ec(0xde)]&&Object[_0x3e92ec(0x108)](setup[_0x3e92ec(0x18a)])['includes'](_0x483149['val'])?this[_0x3e92ec(0xe8)]=_0x483149[_0x3e92ec(0xde)]:(this[_0x3e92ec(0xe8)]=setup['SYSTEM_MODES'][_0x3e92ec(0x1a4)],await this[_0x3e92ec(0x160)](setup['SYSTEM_DP_MODE'],{'val':setup[_0x3e92ec(0x18a)][_0x3e92ec(0x1a4)],'ack':!![]}));}catch(_0x25fbbd){this[_0x3e92ec(0xe8)]=setup[_0x3e92ec(0x18a)]['NORMAL'];}}async[a0_0x58d891(0x110)](){const _0x226196=a0_0x58d891;try{const _0x4d1728=this[_0x226196(0x149)][_0x226196(0x1a0)]||[];let _0x407ff5=![];const _0xb8931a=[];for(const _0x1dfcd5 of _0x4d1728){try{const _0x78d14=await this['getForeignStateAsync'](_0x1dfcd5);_0x78d14&&(_0x78d14[_0x226196(0xde)]===!![]||_0x78d14[_0x226196(0xde)]===_0x226196(0x166)||_0x78d14['val']===0x1)&&(_0x407ff5=!![],_0xb8931a[_0x226196(0x17d)](_0x1dfcd5));}catch(_0x3a4ec1){}}return await this[_0x226196(0x160)]('system.presenceWho',{'val':_0xb8931a[_0x226196(0x1b9)](',\x20'),'ack':!![]}),_0x407ff5&&(this[_0x226196(0x106)]&&(this[_0x226196(0x157)][_0x226196(0x15d)](_0x226196(0xd6)),recorder[_0x226196(0x1b8)](this)),!this[_0x226196(0x186)]&&this['currentSystemMode']===setup[_0x226196(0x18a)]['NORMAL']&&await recorder[_0x226196(0x1bd)](this,!![])),_0x407ff5;}catch(_0x53aeb1){return![];}}async[a0_0x58d891(0x19b)](){const _0x32e62d=a0_0x58d891;this['log'][_0x32e62d(0x125)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x32e62d(0xfa)](this),this[_0x32e62d(0xba)](),this[_0x32e62d(0x162)](),this[_0x32e62d(0xc2)]();}async[a0_0x58d891(0x16b)](){const _0x435432=a0_0x58d891,_0x42a99c=[_0x435432(0x195),_0x435432(0xc0),'daswetter.0'],_0x54c98a=[_0x435432(0x198),_0x435432(0x14d),_0x435432(0x189)];for(const _0x3d4bd0 of _0x42a99c){for(const _0x225aa5 of _0x54c98a){try{const _0xc4bf2d=_0x3d4bd0+'.'+_0x225aa5,_0x4387fc=await this[_0x435432(0x11a)](_0xc4bf2d);if(_0x4387fc&&_0x4387fc[_0x435432(0xde)]){const _0x1c25e7=String(_0x4387fc['val'])[_0x435432(0x169)]();if(_0x1c25e7[_0x435432(0x153)](_0x435432(0x13c))||_0x1c25e7[_0x435432(0x153)](_0x435432(0xdc))||_0x1c25e7['includes']('klar')||_0x1c25e7[_0x435432(0x153)](_0x435432(0x100))||_0x1c25e7[_0x435432(0x153)](_0x435432(0x178)))return!![];}}catch(_0x303316){}}}return![];}[a0_0x58d891(0x162)](){const _0x5ed6b5=a0_0x58d891;if(!this[_0x5ed6b5(0xf7)])return;try{this[_0x5ed6b5(0x1ac)](_0x5ed6b5(0x171),(_0x1b76a2,_0x316d42)=>{const _0x1e3df5=_0x5ed6b5;_0x316d42&&_0x316d42[_0x1e3df5(0xde)]&&pythonBridge[_0x1e3df5(0x18f)](this,_0x1e3df5(0x181),{'sequences':JSON[_0x1e3df5(0x132)](_0x316d42[_0x1e3df5(0xde)])});});}catch(_0x377e42){}}async['triggerEnergyPrediction'](){const _0x115272=a0_0x58d891;if(!this[_0x115272(0xf7)])return;try{const _0x5e00b9=await recorder[_0x115272(0x136)](this);if(_0x5e00b9===null)return;const _0x2428b5={},_0x521502={},_0x5fa125=this[_0x115272(0x149)][_0x115272(0xf9)]||[];for(const _0xdcb988 of _0x5fa125){if(_0xdcb988[_0x115272(0x102)]===_0x115272(0xc9)&&_0xdcb988['location']){const _0x124366=this[_0x115272(0x12e)][_0xdcb988['id']];if(_0x124366!==undefined)_0x2428b5[_0xdcb988[_0x115272(0x15c)]]=_0x124366;if(_0xdcb988['isSolar'])_0x521502[_0xdcb988[_0x115272(0x15c)]]=!![];}}const _0x5eddb0=await this[_0x115272(0x16b)]();let _0x5c97c6={};try{const _0x5e83a2=await this[_0x115272(0xf6)](_0x115272(0x119));if(_0x5e83a2&&_0x5e83a2[_0x115272(0xde)])_0x5c97c6=JSON[_0x115272(0x132)](_0x5e83a2['val']);}catch(_0x3d2b66){}Object[_0x115272(0xfe)](_0x2428b5)[_0x115272(0x105)]>0x0&&(pythonBridge[_0x115272(0x18f)](this,_0x115272(0x1a3),{'current_temps':_0x2428b5,'t_out':_0x5e00b9,'is_sunny':_0x5eddb0,'solar_flags':_0x521502,'warmup_targets':_0x5c97c6}),pythonBridge[_0x115272(0x18f)](this,'OPTIMIZE_ENERGY',{'current_temps':_0x2428b5,'t_out':_0x5e00b9,'targets':{}}));}catch(_0x14a6f9){}}[a0_0x58d891(0xba)](){const _0x2abda2=a0_0x58d891;if(!this[_0x2abda2(0x193)]||this['rawEventLog'][_0x2abda2(0x105)]===0x0)return;const _0x41474b=new Array(0x60)[_0x2abda2(0x128)](0x0),_0x241c92=new Date()[_0x2abda2(0xea)](0x0,0x0,0x0,0x0);this['rawEventLog']['forEach'](_0x2e04ab=>{const _0x3b8ac0=_0x2abda2,_0x50b326=new Date(_0x2e04ab[_0x3b8ac0(0xd9)]);if(_0x50b326['getTime']()>=_0x241c92){const _0x5333dd=_0x50b326[_0x3b8ac0(0x1aa)](),_0x5f5ca1=_0x50b326[_0x3b8ac0(0x165)](),_0x17bb69=_0x5333dd*0x4+Math['floor'](_0x5f5ca1/0xf);if(_0x17bb69>=0x0&&_0x17bb69<0x60)_0x41474b[_0x17bb69]++;}}),this[_0x2abda2(0x160)](_0x2abda2(0x177),{'val':JSON['stringify'](_0x41474b),'ack':!![]});}[a0_0x58d891(0x11e)](){const _0x39531e=a0_0x58d891;if(!this['dailyDigests']||this[_0x39531e(0x15e)][_0x39531e(0x105)]<0x2)return;const _0x3ddf04=this['dailyDigests']['map'](_0x50a3e3=>{const _0x3617f4=_0x39531e,_0x4ff64d=(_0x50a3e3[_0x3617f4(0x1ba)]||'')[_0x3617f4(0x169)]();return ACTIVITY_LEVEL_MAP[_0x4ff64d]||0x32;});pythonBridge[_0x39531e(0x18f)](this,_0x39531e(0x18d),{'values':_0x3ddf04,'tag':_0x39531e(0xe9)});}}if(require[a0_0x58d891(0x122)]!==module)module[a0_0x58d891(0x19a)]=_0x2772fd=>new CogniLiving(_0x2772fd);else new CogniLiving();