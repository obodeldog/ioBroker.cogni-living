const a0_0x35b189=a0_0xdc60;(function(_0x21ee03,_0x1cac46){const _0x30d7e7=a0_0xdc60,_0x4eaaac=_0x21ee03();while(!![]){try{const _0x8f9f78=-parseInt(_0x30d7e7(0x2b9))/0x1*(parseInt(_0x30d7e7(0x278))/0x2)+-parseInt(_0x30d7e7(0x240))/0x3*(-parseInt(_0x30d7e7(0x21f))/0x4)+-parseInt(_0x30d7e7(0x259))/0x5+parseInt(_0x30d7e7(0x25c))/0x6*(-parseInt(_0x30d7e7(0x2e4))/0x7)+-parseInt(_0x30d7e7(0x221))/0x8+-parseInt(_0x30d7e7(0x2e3))/0x9+-parseInt(_0x30d7e7(0x1fd))/0xa*(-parseInt(_0x30d7e7(0x1e6))/0xb);if(_0x8f9f78===_0x1cac46)break;else _0x4eaaac['push'](_0x4eaaac['shift']());}catch(_0x5b676f){_0x4eaaac['push'](_0x4eaaac['shift']());}}}(a0_0x1487,0x5ce4f));const a0_0x744960=(function(){let _0x5af7de=!![];return function(_0x427eae,_0x55e6e0){const _0x7ba71c=_0x5af7de?function(){if(_0x55e6e0){const _0x47d2e5=_0x55e6e0['apply'](_0x427eae,arguments);return _0x55e6e0=null,_0x47d2e5;}}:function(){};return _0x5af7de=![],_0x7ba71c;};}()),a0_0x2a41a=a0_0x744960(this,function(){const _0x158269=a0_0xdc60;return a0_0x2a41a['toString']()['search'](_0x158269(0x28a))['toString']()[_0x158269(0x2cf)](a0_0x2a41a)[_0x158269(0x1e8)](_0x158269(0x28a));});function a0_0x1487(){const _0xbd2143=['./lib/recorder','thermostat','briefingJob','string','cogni-living','loadSystemMode','enum.functions.*','slice','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','_calName','weatherunderground.0','getLtmData','cancel','entries','LTM.trainingData.sequences','runGeminiAnalysis','Verbunden','driftAnalysisTimer','constructor','setStateAsync','useWeather','testContext','analysis.automation.targetValue','./lib/scheduler','cogni-living\x20adapter\x20starting\x20(v','Instanz\x20nicht\x20gefunden','version','\x20min\x20ausbleiben.','Adapter','checkCalendarTriggers','Lernphase\x20(','getStateAsync','currentSystemMode','setupBriefingScheduler','generateContent','toLowerCase','startSystem','abs','2011221HPoGZz','3479413VHlZbn','name','includes','./lib/topology','scanForDevices','timestamp','rawEventLog','createAllObjects','matrix','debug','guest','onUnload','sendNotification','log','inactivityThresholdHours','triggerDailyDigest','SYSTEM_MODES','createDailyDigest','add','setHours','143EMafGF','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','search','Kein\x20API\x20Key\x20Ã¼bergeben','Keine\x20Antwort\x20von\x20Gemini','analysis.training.triggerComfort','runAutopilot','Aktiv\x20(','Guest\x20Mode','SYSTEM_DP_MODE','./lib/scanner','object','dependencyInstallInProgress','exitGraceTimer','./lib/setup','analysis.automation.triggerAction','application/json','enum','endsWith','sendMorningBriefing','config','motion','sendTo','1402630amHYoB','updateTopology','common','simulateEnergyMPC','online','instance','licenseKey','split','lastTrackerEventTime','devices','parse','analysisInterval','scores','main','analysis.training.triggerEnergy','genAI','state','values','Notification\x20Test\x20Failed:\x20','info','ready','getForeignObjectsAsync','triggerGaitAnalysis','json','systemConfig','push','getTime','PYTHON_EXE','setPresence','updateLocation','LTM.rawEventLog','TRAIN_SECURITY','stateChange','join','682500ZiIADo','processSensorEvent','2632040XHvmmj','checkWifiPresence','modeResetJob','@iobroker/adapter-core','unload','ANALYZE_TREND','system.presenceWho','presenceDevices','eventHistory','analysis.training.status','isSolar','checkSolarCondition','analysis.triggerBriefing','simulateButler','cleanupGhostInterventions','.communicate.request','dailyDigests','Gesendet','NextHours.Location_1.Day_1.current.symbol_desc','analysisTimer','ANALYZE_GAIT','setupModeResetScheduler','onStateChange','setState','TRAIN_ENERGY','response','VACATION','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','./lib/dead_man','OPTIMIZE_ENERGY','Reinforcement\x20Learning\x20Penalties','6sJIklr','analysis.energy.ventilationAlerts','checkAndInstall','stopService','callback','setupLtmScheduler','analysis.energy.pinnForecast','some','checkThermostats','forEach','setupDriftAnalysisScheduler','executeAutomationAction','notifyTelegramEnabled','LTM.triggerDailyDigest','sensorLastValues','getHours','ltmJob','triggerBriefing','subscribeStates','stringify','error','trackerHeartbeat','analysis.automation.description','analysis.training.triggerSecurity','geminiModel','1761085TSvVDm','bind','sort','6VjvSpr','system.adapter.','sonn','fill','calendarInstance','minDaysForBaseline','onMessage','minutes_safe','WiFi\x20Presence\x20detected.','TRAIN_COMFORT','Kein\x20Wetter-Adapter','heiter','getForeignObjectAsync','getMinutes','type','trackerEnabled','runBaselineDriftAnalysis','@google/generative-ai','getEnums','abortExitTimer','geminiApiKey','getOutsideTemperatureNumeric','isProVersion','activityLevel','notifyTelegramInstance','location','temperature','message','56QmWaTr','isPresent','ack','checkLicense','Current.WeatherText','analysis.energy.mpcActive','LTM.dailyDigests','./lib/ai_agent','text','analysis.trigger','analysis.topology.structure','daswetter.0','Fehler:\x20','testNotification','from','now',')\x20-\x20Phase\x20D\x20(Evolution)','analysis.training.triggerHealth','(((.+)+)+)+$','scanThermostats','updated','analysis.automation.patternDetected','analysis.energy.warmupTimes','initSystemConfig','send','calendarName','command','updateHealthVector','Daten\x20nicht\x20verfÃ¼gbar','analysisHistory','apiKey','models/gemini-flash-latest','analysis.automation.targetId','Test','analysis.training.triggerTopology','analysis.security.learningStatus','Gemini\x20Init\x20Error:\x20','triggerEnergyPrediction','PREDICT_ENERGY','initHistory','analysis.energy.warmupTargets','analysis.energy.insulationScore','val','keys','analysis.automation.autoApply','getForeignStateAsync','onReady','Simulation\x20durch\x20Admin\x20(Test)','getGenerativeModel','isArray','setObjectNotExistsAsync','Activity-Level','subscribeForeignStatesAsync','exitTimer','LTM.trainingData.thermodynamics','party','accuweather.0','initZombies','analysis.health.todayVector','runPythonHealthCheck','Party\x20Mode','updateTopologyMatrix','NORMAL','clear','Gemini\x20AI\x20initialized.','13658fyQwyf','floor','length','Kein\x20Kalender-Adapter'];a0_0x1487=function(){return _0xbd2143;};return a0_0x1487();}a0_0x2a41a();function a0_0xdc60(_0x1023f4,_0x2f72e9){const _0x5adfe7=a0_0x1487();return a0_0xdc60=function(_0x2a41a,_0x744960){_0x2a41a=_0x2a41a-0x1da;let _0x14876c=_0x5adfe7[_0x2a41a];return _0x14876c;},a0_0xdc60(_0x1023f4,_0x2f72e9);}'use strict';const utils=require(a0_0x35b189(0x224)),{GoogleGenerativeAI}=require(a0_0x35b189(0x26d)),installer=require('./lib/installer'),scanner=require(a0_0x35b189(0x1f0)),schedulers=require(a0_0x35b189(0x2d4)),topology=require(a0_0x35b189(0x2e7)),setup=require(a0_0x35b189(0x1f4)),recorder=require(a0_0x35b189(0x2bd)),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0x35b189(0x27f)),deadMan=require(a0_0x35b189(0x23d)),automation=require('./lib/automation'),GEMINI_MODEL=a0_0x35b189(0x297),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x35b189(0x2d9)]{constructor(_0x954f11){const _0x4016d9=a0_0x35b189;super({..._0x954f11,'name':_0x4016d9(0x2c1)}),this[_0x4016d9(0x229)]=[],this['analysisHistory']=[],this[_0x4016d9(0x2ea)]=[],this['dailyDigests']=[],this[_0x4016d9(0x24e)]={},this[_0x4016d9(0x215)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x4016d9(0x2ad)]=null,this[_0x4016d9(0x1f3)]=null,this['isGracePeriodActive']=![],this[_0x4016d9(0x20c)]=null,this[_0x4016d9(0x258)]=null,this[_0x4016d9(0x2dd)]=setup['SYSTEM_MODES'][_0x4016d9(0x2b6)],this['isProVersion']=![],this['lastAlertState']=![],this[_0x4016d9(0x234)]=null,this[_0x4016d9(0x250)]=null,this['modeResetJob']=null,this['driftAnalysisTimer']=null,this[_0x4016d9(0x2bf)]=null,this[_0x4016d9(0x1f2)]=![],this[_0x4016d9(0x255)]=null,this[_0x4016d9(0x205)]=Date[_0x4016d9(0x287)](),this['on'](_0x4016d9(0x211),this[_0x4016d9(0x2a6)][_0x4016d9(0x25a)](this)),this['on'](_0x4016d9(0x21d),this[_0x4016d9(0x237)][_0x4016d9(0x25a)](this)),this['on'](_0x4016d9(0x225),this[_0x4016d9(0x1dd)][_0x4016d9(0x25a)](this)),this['on']('message',this[_0x4016d9(0x262)][_0x4016d9(0x25a)](this));}async[a0_0x35b189(0x2a6)](){const _0x434291=a0_0x35b189;this[_0x434291(0x1df)][_0x434291(0x210)](_0x434291(0x2d5)+this[_0x434291(0x2d7)]+_0x434291(0x288));if(!installer[_0x434291(0x242)](this,()=>this['startSystem']()))return;}async[a0_0x35b189(0x2e1)](){const _0x2a7c9d=a0_0x35b189;await setup[_0x2a7c9d(0x2b1)](this);try{this[_0x2a7c9d(0x272)]=await setup[_0x2a7c9d(0x27b)](this[_0x2a7c9d(0x1fa)][_0x2a7c9d(0x203)]);}catch(_0x5b8df2){}if(!this[_0x2a7c9d(0x1fa)][_0x2a7c9d(0x1e0)]||this['config'][_0x2a7c9d(0x1e0)]<0.1)this[_0x2a7c9d(0x1fa)][_0x2a7c9d(0x1e0)]=0xc;await setup[_0x2a7c9d(0x29f)](this),await setup[_0x2a7c9d(0x28f)](this);if(this['config'][_0x2a7c9d(0x270)])try{this[_0x2a7c9d(0x20c)]=new GoogleGenerativeAI(this[_0x2a7c9d(0x1fa)][_0x2a7c9d(0x270)]),this[_0x2a7c9d(0x258)]=this[_0x2a7c9d(0x20c)][_0x2a7c9d(0x2a8)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x2a7c9d(0x1f6)}}),this[_0x2a7c9d(0x1df)][_0x2a7c9d(0x210)](_0x2a7c9d(0x2b8));}catch(_0x11db72){this[_0x2a7c9d(0x1df)]['error'](_0x2a7c9d(0x29c)+_0x11db72['message']);}await setup[_0x2a7c9d(0x2eb)](this),await this[_0x2a7c9d(0x2c2)](),await this[_0x2a7c9d(0x2aa)](_0x2a7c9d(0x246),{'type':'state','common':{'name':'PINN\x20AI\x20Forecast','type':_0x2a7c9d(0x2c0),'role':_0x2a7c9d(0x214),'read':!![],'write':![]},'native':{}}),await this[_0x2a7c9d(0x2aa)](_0x2a7c9d(0x241),{'type':'state','common':{'name':'Active\x20Ventilation\x20Alerts','type':'string','role':_0x2a7c9d(0x214),'read':!![],'write':![]},'native':{}}),await this[_0x2a7c9d(0x2aa)](_0x2a7c9d(0x28e),{'type':'state','common':{'name':_0x2a7c9d(0x1e7),'type':_0x2a7c9d(0x2c0),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x2a7c9d(0x2aa)](_0x2a7c9d(0x2a0),{'type':_0x2a7c9d(0x20d),'common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':'string','role':_0x2a7c9d(0x214),'read':!![],'write':!![],'def':'{\x22default\x22:\x2021}'},'native':{}}),await this[_0x2a7c9d(0x2aa)]('analysis.energy.rlPenalties',{'type':_0x2a7c9d(0x20d),'common':{'name':_0x2a7c9d(0x23f),'type':_0x2a7c9d(0x2c0),'role':_0x2a7c9d(0x214),'read':!![],'write':![],'def':'{}'},'native':{}});try{const _0x107c5e=await this[_0x2a7c9d(0x2dc)]('LTM.rawEventLog');if(_0x107c5e&&_0x107c5e[_0x2a7c9d(0x2a2)])this['rawEventLog']=JSON[_0x2a7c9d(0x207)](_0x107c5e[_0x2a7c9d(0x2a2)]);}catch(_0x4e0695){this[_0x2a7c9d(0x2ea)]=[];}try{const _0x2fc16b=await this[_0x2a7c9d(0x2dc)](_0x2a7c9d(0x27e));if(_0x2fc16b&&_0x2fc16b[_0x2a7c9d(0x2a2)])this[_0x2a7c9d(0x231)]=JSON[_0x2a7c9d(0x207)](_0x2fc16b['val']);}catch(_0x59482e){this[_0x2a7c9d(0x231)]=[];}const _0x3d8c28=this[_0x2a7c9d(0x231)]['length']>=(this[_0x2a7c9d(0x1fa)][_0x2a7c9d(0x261)]||0x7)?_0x2a7c9d(0x1ed)+this[_0x2a7c9d(0x231)]['length']+'\x20Tage)':_0x2a7c9d(0x2db)+this[_0x2a7c9d(0x231)][_0x2a7c9d(0x2bb)]+'/'+(this['config'][_0x2a7c9d(0x261)]||0x7)+')';await this[_0x2a7c9d(0x2d0)]('LTM.baselineStatus',{'val':_0x3d8c28,'ack':!![]}),this[_0x2a7c9d(0x252)](_0x2a7c9d(0x281)),this[_0x2a7c9d(0x252)](_0x2a7c9d(0x24d)),this['subscribeStates']('system.mode'),this[_0x2a7c9d(0x252)](_0x2a7c9d(0x22d)),this[_0x2a7c9d(0x252)](_0x2a7c9d(0x1f5)),this[_0x2a7c9d(0x252)](_0x2a7c9d(0x2a4)),this['subscribeStates']('analysis.training.triggerSecurity'),this[_0x2a7c9d(0x252)](_0x2a7c9d(0x289)),this['subscribeStates'](_0x2a7c9d(0x20b)),this['subscribeStates'](_0x2a7c9d(0x1eb)),this[_0x2a7c9d(0x252)]('analysis.training.triggerTopology'),this[_0x2a7c9d(0x252)](_0x2a7c9d(0x27d));const _0x5b7612=this['config'][_0x2a7c9d(0x206)];if(_0x5b7612)for(const _0x9ed4e5 of _0x5b7612){await this[_0x2a7c9d(0x2ac)](_0x9ed4e5['id']);}const _0x5ba016=this[_0x2a7c9d(0x1fa)][_0x2a7c9d(0x228)];if(_0x5ba016)for(const _0x541c93 of _0x5ba016){await this[_0x2a7c9d(0x2ac)](_0x541c93);}if(this['config'][_0x2a7c9d(0x24c)]&&this[_0x2a7c9d(0x1fa)][_0x2a7c9d(0x274)])await this['subscribeForeignStatesAsync'](this[_0x2a7c9d(0x1fa)]['notifyTelegramInstance']+_0x2a7c9d(0x230));setTimeout(()=>this[_0x2a7c9d(0x222)](),0x1388);if(this[_0x2a7c9d(0x234)])clearInterval(this[_0x2a7c9d(0x234)]);const _0x409d28=this[_0x2a7c9d(0x1fa)][_0x2a7c9d(0x208)]||0xf;_0x409d28>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x4555be=_0x2a7c9d;this['runAutopilot'](),automation[_0x4555be(0x2da)](this);},_0x409d28*0x3c*0x3e8)),setTimeout(()=>automation['checkCalendarTriggers'](this),0x2710),this[_0x2a7c9d(0x1fa)][_0x2a7c9d(0x26b)]!==![]&&(this[_0x2a7c9d(0x255)]=setInterval(()=>{const _0x540bfb=_0x2a7c9d;if(this[_0x540bfb(0x272)]){const _0x25a6b7=Date[_0x540bfb(0x287)](),_0x5c3dfe=this[_0x540bfb(0x205)]||_0x25a6b7,_0x555aa2=(_0x25a6b7-_0x5c3dfe)/0x3e8;_0x555aa2>0x2&&(this[_0x540bfb(0x205)]=_0x25a6b7,pythonBridge[_0x540bfb(0x290)](this,'TRACK_EVENT',{'room':null,'dt':_0x555aa2}));}},0xbb8)),schedulers[_0x2a7c9d(0x245)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers[_0x2a7c9d(0x236)](this),schedulers[_0x2a7c9d(0x24a)](this,()=>aiAgent[_0x2a7c9d(0x26c)](this)),schedulers[_0x2a7c9d(0x2de)](this,()=>aiAgent[_0x2a7c9d(0x1f9)](this)),pythonBridge['startService'](this,installer[_0x2a7c9d(0x218)]),setTimeout(async()=>{const _0x4dae23=_0x2a7c9d;await topology[_0x4dae23(0x1fe)](this);try{const _0x4ad551=await this['getStateAsync'](_0x4dae23(0x282));if(_0x4ad551&&_0x4ad551[_0x4dae23(0x2a2)])pythonBridge['send'](this,'SET_TOPOLOGY',JSON[_0x4dae23(0x207)](_0x4ad551[_0x4dae23(0x2a2)]));}catch(_0x2597d1){}this[_0x4dae23(0x2b3)](),this[_0x4dae23(0x213)](),this[_0x4dae23(0x29d)](),this[_0x4dae23(0x293)]();},0x1388);}[a0_0x35b189(0x1dd)](_0x52161f){const _0x1483fc=a0_0x35b189;if(this[_0x1483fc(0x234)])clearInterval(this[_0x1483fc(0x234)]);if(this[_0x1483fc(0x2ce)])clearInterval(this['driftAnalysisTimer']);if(this[_0x1483fc(0x255)])clearInterval(this[_0x1483fc(0x255)]);if(this[_0x1483fc(0x250)])this[_0x1483fc(0x250)][_0x1483fc(0x2c9)]();if(this['modeResetJob'])this[_0x1483fc(0x223)][_0x1483fc(0x2c9)]();if(this[_0x1483fc(0x2bf)])this['briefingJob']['cancel']();recorder[_0x1483fc(0x26f)](this),pythonBridge[_0x1483fc(0x243)](this),_0x52161f();}async[a0_0x35b189(0x237)](_0xd7527c,_0xcfe013){const _0x31d4c6=a0_0x35b189;if(!_0xcfe013||this['dependencyInstallInProgress'])return;if(_0xd7527c[_0x31d4c6(0x2e6)]('telegram')&&_0xd7527c[_0x31d4c6(0x1f8)]('communicate.request')&&_0xcfe013['val'])return;if(_0xd7527c===this['namespace']+'.system.mode'){if(_0xcfe013[_0x31d4c6(0x2a2)]&&Object['values'](setup['SYSTEM_MODES'])[_0x31d4c6(0x2e6)](_0xcfe013['val'])){this['currentSystemMode']=_0xcfe013[_0x31d4c6(0x2a2)];if(_0xcfe013[_0x31d4c6(0x2a2)]===setup[_0x31d4c6(0x1e2)][_0x31d4c6(0x23b)])await recorder[_0x31d4c6(0x219)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x31d4c6(0x272)]){let _0x27d317=![],_0x2aaa71=0x0,_0x20d74b='manual';if(this['currentSystemMode']===_0x31d4c6(0x2af))_0x27d317=!![],_0x2aaa71=0x168,_0x20d74b=_0x31d4c6(0x2b4);else this[_0x31d4c6(0x2dd)]===_0x31d4c6(0x1dc)&&(_0x27d317=!![],_0x2aaa71=0x5a0,_0x20d74b=_0x31d4c6(0x1ee));pythonBridge[_0x31d4c6(0x290)](this,'SET_LEARNING_MODE',{'active':_0x27d317,'duration':_0x2aaa71,'label':_0x20d74b}),await this[_0x31d4c6(0x2d0)](_0x31d4c6(0x29b),{'val':JSON['stringify']({'active':_0x27d317,'label':_0x20d74b,'timestamp':Date[_0x31d4c6(0x287)]()}),'ack':!![]});}}if(!_0xcfe013['ack'])this['setState'](_0xd7527c,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0xcfe013[_0x31d4c6(0x27a)]){if(_0xd7527c[_0x31d4c6(0x2e6)](_0x31d4c6(0x281))&&_0xcfe013[_0x31d4c6(0x2a2)]){this[_0x31d4c6(0x238)](_0xd7527c,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0xd7527c[_0x31d4c6(0x2e6)](_0x31d4c6(0x1e1))&&_0xcfe013[_0x31d4c6(0x2a2)]){this[_0x31d4c6(0x238)](_0xd7527c,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x31d4c6(0x1e3)](this,pythonBridge);return;}if(_0xd7527c[_0x31d4c6(0x2e6)](_0x31d4c6(0x251))&&_0xcfe013[_0x31d4c6(0x2a2)]){this[_0x31d4c6(0x238)](_0xd7527c,{'val':![],'ack':!![]}),aiAgent[_0x31d4c6(0x1f9)](this);return;}if(_0xd7527c[_0x31d4c6(0x2e6)]('automation.triggerAction')&&_0xcfe013[_0x31d4c6(0x2a2)]){this[_0x31d4c6(0x238)](_0xd7527c,{'val':![],'ack':!![]}),aiAgent[_0x31d4c6(0x24b)](this);return;}if(_0xd7527c[_0x31d4c6(0x2e6)](_0x31d4c6(0x257))&&_0xcfe013[_0x31d4c6(0x2a2)]){this[_0x31d4c6(0x238)](_0xd7527c,{'val':![],'ack':!![]});if(this[_0x31d4c6(0x272)])try{const _0xc283b5=await this['getStateAsync'](_0x31d4c6(0x2cb));if(_0xc283b5&&_0xc283b5[_0x31d4c6(0x2a2)]){const _0x2b7d50=JSON[_0x31d4c6(0x207)](_0xc283b5[_0x31d4c6(0x2a2)]);this[_0x31d4c6(0x2d0)](_0x31d4c6(0x22a),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge['send'](this,_0x31d4c6(0x21c),{'sequences':_0x2b7d50});}}catch(_0x22545d){}return;}if(_0xd7527c[_0x31d4c6(0x2e6)](_0x31d4c6(0x289))&&_0xcfe013[_0x31d4c6(0x2a2)]){this[_0x31d4c6(0x238)](_0xd7527c,{'val':![],'ack':!![]});if(this[_0x31d4c6(0x272)])try{const _0x688b69=await this[_0x31d4c6(0x2dc)](_0x31d4c6(0x27e));if(_0x688b69&&_0x688b69[_0x31d4c6(0x2a2)])pythonBridge[_0x31d4c6(0x290)](this,'TRAIN_HEALTH',{'digests':JSON['parse'](_0x688b69[_0x31d4c6(0x2a2)])});}catch(_0x5ddfa2){}return;}if(_0xd7527c[_0x31d4c6(0x2e6)](_0x31d4c6(0x20b))&&_0xcfe013[_0x31d4c6(0x2a2)]){this['setState'](_0xd7527c,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x3be003=await this[_0x31d4c6(0x2dc)](_0x31d4c6(0x2ae));if(_0x3be003&&_0x3be003[_0x31d4c6(0x2a2)])pythonBridge[_0x31d4c6(0x290)](this,_0x31d4c6(0x239),{'points':JSON[_0x31d4c6(0x207)](_0x3be003[_0x31d4c6(0x2a2)])});}catch(_0x2254f7){}return;}if(_0xd7527c[_0x31d4c6(0x2e6)](_0x31d4c6(0x1eb))&&_0xcfe013[_0x31d4c6(0x2a2)]){this[_0x31d4c6(0x238)](_0xd7527c,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x3c696e=await this[_0x31d4c6(0x2dc)](_0x31d4c6(0x21b));if(_0x3c696e&&_0x3c696e['val'])pythonBridge['send'](this,_0x31d4c6(0x265),{'events':JSON[_0x31d4c6(0x207)](_0x3c696e[_0x31d4c6(0x2a2)])});}catch(_0x313052){}return;}if(_0xd7527c[_0x31d4c6(0x2e6)](_0x31d4c6(0x29a))&&_0xcfe013['val']){this['setState'](_0xd7527c,{'val':![],'ack':!![]}),topology[_0x31d4c6(0x1fe)](this);return;}}if(this['config']['presenceDevices']&&this[_0x31d4c6(0x1fa)][_0x31d4c6(0x228)][_0x31d4c6(0x2e6)](_0xd7527c)){await this[_0x31d4c6(0x222)]();return;}const _0x464e4e=(this[_0x31d4c6(0x1fa)][_0x31d4c6(0x206)]||[])['find'](_0xc42813=>_0xc42813['id']===_0xd7527c);if(_0x464e4e){const _0xc2fdd1=await recorder[_0x31d4c6(0x220)](this,_0xd7527c,_0xcfe013,_0x464e4e);_0xc2fdd1&&_0xc2fdd1[_0x31d4c6(0x26a)]===_0x31d4c6(0x1fb)&&_0xc2fdd1['location']&&this[_0x31d4c6(0x272)]&&deadMan[_0x31d4c6(0x21a)](this,_0xc2fdd1[_0x31d4c6(0x275)]),(_0x464e4e[_0x31d4c6(0x26a)]===_0x31d4c6(0x276)||_0x464e4e[_0x31d4c6(0x26a)]===_0x31d4c6(0x2be))&&automation[_0x31d4c6(0x22f)](this);}}async[a0_0x35b189(0x262)](_0x207e72){const _0x592ccf=a0_0x35b189;if(typeof _0x207e72===_0x592ccf(0x1f1)&&_0x207e72[_0x592ccf(0x277)]){if(_0x207e72[_0x592ccf(0x292)]===_0x592ccf(0x248))try{const _0x2e49c7=await automation[_0x592ccf(0x28b)](this);this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':!![],'results':_0x2e49c7},_0x207e72[_0x592ccf(0x244)]);}catch(_0x350471){this['sendTo'](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':![],'error':_0x350471[_0x592ccf(0x277)]},_0x207e72['callback']);}else{if(_0x207e72[_0x592ccf(0x292)]===_0x592ccf(0x200))try{const {current_temps:_0x1554a5,t_out:_0xcb92bd,targets:_0x356c2f,t_forecast:_0x502924}=_0x207e72[_0x592ccf(0x277)],_0x2ed61e=[];let _0x5de839={};try{const _0x2c76e6=await this[_0x592ccf(0x2dc)](_0x592ccf(0x2a1));if(_0x2c76e6&&_0x2c76e6['val']){const _0x547405=JSON[_0x592ccf(0x207)](_0x2c76e6['val']);_0x5de839=_0x547405[_0x592ccf(0x209)]||_0x547405;}}catch(_0x31912d){}const _0x418598=_0x502924!==undefined&&_0x502924!==null?(_0xcb92bd+_0x502924)/0x2:_0xcb92bd;for(const [_0x21f44a,_0x8725f2]of Object[_0x592ccf(0x2ca)](_0x1554a5)){const _0x2db033=_0x356c2f[_0x21f44a]||0x15;if(_0x8725f2<=_0x2db033)continue;let _0x3c1fd6=_0x5de839[_0x21f44a]||-0.5;if(_0x3c1fd6>=0x0)_0x3c1fd6=-0.5;const _0x505009=Math[_0x592ccf(0x2e2)](_0x3c1fd6),_0x389591=_0x8725f2-_0x2db033;let _0x49193d=Math[_0x592ccf(0x2ba)](_0x389591/_0x505009*0x3c);const _0x4eebb3=_0x8725f2-_0xcb92bd,_0x259b05=_0x8725f2-_0x418598;if(_0x259b05!==0x0&&_0x4eebb3!==0x0){const _0x473e0f=_0x4eebb3/_0x259b05;_0x49193d=Math[_0x592ccf(0x2ba)](_0x49193d*_0x473e0f);}if(_0x49193d>0xf){if(_0x49193d>0xf0)_0x49193d=0xf0;_0x2ed61e['push']({'room':_0x21f44a,'minutes_safe':_0x49193d,'target':_0x2db033,'current':_0x8725f2,'savings_msg':'Heizung\x20kann\x20'+_0x49193d+_0x592ccf(0x2d8)});}}_0x2ed61e['sort']((_0x23c239,_0x514c54)=>_0x514c54[_0x592ccf(0x263)]-_0x23c239[_0x592ccf(0x263)]),this['sendTo'](_0x207e72['from'],_0x207e72[_0x592ccf(0x292)],{'success':!![],'proposals':_0x2ed61e},_0x207e72['callback']);}catch(_0x14bead){this['sendTo'](_0x207e72['from'],_0x207e72[_0x592ccf(0x292)],{'success':![],'error':_0x14bead[_0x592ccf(0x277)]},_0x207e72[_0x592ccf(0x244)]);}else{if(_0x207e72[_0x592ccf(0x292)]==='dismissAutomation')await this[_0x592ccf(0x2d0)](_0x592ccf(0x28d),{'val':![],'ack':!![]}),await this['setStateAsync'](_0x592ccf(0x256),{'val':'','ack':!![]}),await this[_0x592ccf(0x2d0)]('analysis.automation.targetId',{'val':'','ack':!![]}),this['sendTo'](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':!![]},_0x207e72['callback']);else{if(_0x207e72[_0x592ccf(0x292)]===_0x592ccf(0x22e)){const {targetId:_0x25d737,targetValue:_0x29c479}=_0x207e72['message'];await this['setStateAsync'](_0x592ccf(0x28d),{'val':!![],'ack':!![]}),await this[_0x592ccf(0x2d0)](_0x592ccf(0x256),{'val':_0x592ccf(0x2a7),'ack':!![]}),await this[_0x592ccf(0x2d0)]('analysis.automation.targetId',{'val':_0x25d737,'ack':!![]}),await this[_0x592ccf(0x2d0)](_0x592ccf(0x2d3),{'val':String(_0x29c479),'ack':!![]}),this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':!![]},_0x207e72[_0x592ccf(0x244)]);}else{if(_0x207e72['command']==='testApiKey')try{const _0x4364d7=_0x207e72[_0x592ccf(0x277)][_0x592ccf(0x296)];if(!_0x4364d7)throw new Error(_0x592ccf(0x1e9));const _0x12ebdc=new GoogleGenerativeAI(_0x4364d7),_0x2f44e8=_0x12ebdc['getGenerativeModel']({'model':GEMINI_MODEL}),_0x4ffc0e=await _0x2f44e8[_0x592ccf(0x2df)](_0x592ccf(0x299)),_0x12a871=await _0x4ffc0e[_0x592ccf(0x23a)];if(_0x12a871[_0x592ccf(0x280)]())this['sendTo'](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x207e72['callback']);else throw new Error(_0x592ccf(0x1ea));}catch(_0x5394ec){this[_0x592ccf(0x1fc)](_0x207e72['from'],_0x207e72[_0x592ccf(0x292)],{'success':![],'message':_0x5394ec[_0x592ccf(0x277)]},_0x207e72[_0x592ccf(0x244)]);}else{if(_0x207e72['command']==='scanDevices')try{const _0x251bda=await scanner[_0x592ccf(0x2e8)](this,_0x207e72[_0x592ccf(0x277)]||{});this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72['command'],{'success':!![],'devices':_0x251bda},_0x207e72[_0x592ccf(0x244)]);}catch(_0x1d8f81){this[_0x592ccf(0x1fc)](_0x207e72['from'],_0x207e72[_0x592ccf(0x292)],{'success':![],'error':_0x1d8f81[_0x592ccf(0x277)]},_0x207e72['callback']);}else{if(_0x207e72[_0x592ccf(0x292)]===_0x592ccf(0x2b5))try{const {matrix:_0x361984}=_0x207e72[_0x592ccf(0x277)],_0x1af2a7=await this['getStateAsync'](_0x592ccf(0x282));if(_0x1af2a7&&_0x1af2a7[_0x592ccf(0x2a2)]){const _0x3e0e36=JSON[_0x592ccf(0x207)](_0x1af2a7['val']);_0x3e0e36[_0x592ccf(0x1da)]=_0x361984,_0x3e0e36[_0x592ccf(0x28c)]=Date['now'](),await this[_0x592ccf(0x2d0)]('analysis.topology.structure',{'val':JSON[_0x592ccf(0x253)](_0x3e0e36),'ack':!![]}),pythonBridge[_0x592ccf(0x290)](this,'SET_TOPOLOGY',_0x3e0e36);}this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':!![]},_0x207e72['callback']);}catch(_0x43b530){this[_0x592ccf(0x1df)][_0x592ccf(0x254)](_0x43b530);}else{if(_0x207e72[_0x592ccf(0x292)]===_0x592ccf(0x2c8))this['sendTo'](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':!![],'dailyDigests':this[_0x592ccf(0x231)]||[],'analysisHistory':this[_0x592ccf(0x295)]||[]},_0x207e72[_0x592ccf(0x244)]);else{if(_0x207e72[_0x592ccf(0x292)]==='getOverviewData'){const _0x4b2a7e=this[_0x592ccf(0x231)]['length'],_0x281d3b=new Array(0x18)[_0x592ccf(0x25f)](0x0),_0x4c3346=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x592ccf(0x229)]&&this[_0x592ccf(0x229)]['forEach'](_0x3a6d5b=>{const _0x1ace6f=_0x592ccf;if(_0x3a6d5b[_0x1ace6f(0x2e9)]>=_0x4c3346){const _0x510789=new Date(_0x3a6d5b[_0x1ace6f(0x2e9)])[_0x1ace6f(0x24f)]();if(_0x510789>=0x0&&_0x510789<0x18)_0x281d3b[_0x510789]++;}});let _0x2a009b=![],_0x25237a='',_0x41aef1='',_0x5db600='';try{const _0x3f3f78=await this[_0x592ccf(0x2dc)](_0x592ccf(0x28d));if(_0x3f3f78&&_0x3f3f78[_0x592ccf(0x2a2)]){_0x2a009b=!![];const _0x576512=await this[_0x592ccf(0x2dc)](_0x592ccf(0x256));_0x25237a=_0x576512?_0x576512[_0x592ccf(0x2a2)]:'';const _0x38fc7b=await this[_0x592ccf(0x2dc)](_0x592ccf(0x298));_0x41aef1=_0x38fc7b?_0x38fc7b['val']:'';const _0x13451a=await this[_0x592ccf(0x2dc)]('analysis.automation.targetValue');_0x5db600=_0x13451a?_0x13451a[_0x592ccf(0x2a2)]:'';}}catch(_0x25009f){}const _0x260f52=await this['checkSolarCondition'](),_0x3e173f=(this[_0x592ccf(0x1fa)][_0x592ccf(0x206)]||[])[_0x592ccf(0x247)](_0x401387=>_0x401387[_0x592ccf(0x22b)]),_0xfde436=_0x260f52&&_0x3e173f;this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72['command'],{'success':!![],'eventHistory':this[_0x592ccf(0x229)][_0x592ccf(0x2c4)](0x0,0xf),'stats':{'digestCount':_0x4b2a7e,'isPresent':this[_0x592ccf(0x279)],'hourlyActivity':_0x281d3b,'solarActive':_0xfde436},'automation':{'detected':_0x2a009b,'description':_0x25237a,'targetId':_0x41aef1,'targetValue':_0x5db600}},_0x207e72[_0x592ccf(0x244)]);}else{if(_0x207e72['command']===_0x592ccf(0x26e)){const _0x3e459e=await this[_0x592ccf(0x212)](_0x592ccf(0x2c3),_0x592ccf(0x1f7)),_0x2c7871=[];if(_0x3e459e)for(const _0x20bc61 in _0x3e459e){const _0x1e6242=_0x3e459e[_0x20bc61],_0x376d78=(_0x1e6242[_0x592ccf(0x1ff)]&&typeof _0x1e6242['common'][_0x592ccf(0x2e5)]===_0x592ccf(0x1f1)?_0x1e6242[_0x592ccf(0x1ff)][_0x592ccf(0x2e5)]['de']:_0x1e6242['common'][_0x592ccf(0x2e5)])||_0x1e6242[_0x592ccf(0x1ff)]['name'];_0x2c7871[_0x592ccf(0x216)]({'id':_0x20bc61,'name':_0x376d78});}const _0x5f1221=await this['getForeignObjectsAsync']('enum.rooms.*',_0x592ccf(0x1f7)),_0x85127c=[];if(_0x5f1221)for(const _0x2a0f31 in _0x5f1221){const _0x299ed7=_0x5f1221[_0x2a0f31],_0x34f6fd=(_0x299ed7[_0x592ccf(0x1ff)]&&typeof _0x299ed7[_0x592ccf(0x1ff)]['name']==='object'?_0x299ed7['common'][_0x592ccf(0x2e5)]['de']:_0x299ed7[_0x592ccf(0x1ff)][_0x592ccf(0x2e5)])||_0x2a0f31[_0x592ccf(0x204)]('.')['pop']();_0x85127c[_0x592ccf(0x216)](_0x34f6fd);}this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':!![],'enums':_0x2c7871,'rooms':_0x85127c},_0x207e72['callback']);}else{if(_0x207e72[_0x592ccf(0x292)]===_0x592ccf(0x2d2))try{let _0xcad705=_0x592ccf(0x266),_0x37f260=_0x592ccf(0x2bc);if(this[_0x592ccf(0x1fa)][_0x592ccf(0x2d1)]){const _0x5c1341=await recorder[_0x592ccf(0x271)](this);_0xcad705=_0x5c1341!==null?_0x5c1341+'Â°C':_0x592ccf(0x294);}if(this['config'][_0x592ccf(0x260)]){const _0x3f9f88=await this[_0x592ccf(0x268)](_0x592ccf(0x25d)+this[_0x592ccf(0x1fa)][_0x592ccf(0x260)]);_0x37f260=_0x3f9f88?_0x592ccf(0x2cd):_0x592ccf(0x2d6);}this['sendTo'](_0x207e72[_0x592ccf(0x286)],_0x207e72['command'],{'success':!![],'weather':_0xcad705,'calendar':_0x37f260},_0x207e72[_0x592ccf(0x244)]);}catch(_0x536487){this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':![],'error':_0x536487[_0x592ccf(0x277)]},_0x207e72['callback']);}else{if(_0x207e72['command']==='getCalendarNames')try{const _0x47a6d6=_0x207e72[_0x592ccf(0x277)][_0x592ccf(0x202)],_0x30b396=await this[_0x592ccf(0x2a5)](_0x47a6d6+'.data.table');let _0x4f88fb=[];if(_0x30b396&&_0x30b396[_0x592ccf(0x2a2)]){const _0x11af09=JSON['parse'](_0x30b396[_0x592ccf(0x2a2)]),_0x5cc9db=new Set();Array[_0x592ccf(0x2a9)](_0x11af09)&&_0x11af09[_0x592ccf(0x249)](_0x13ffa7=>{const _0x4cc47c=_0x592ccf;if(_0x13ffa7[_0x4cc47c(0x2c6)])_0x5cc9db[_0x4cc47c(0x1e4)](_0x13ffa7['_calName']);else{if(_0x13ffa7[_0x4cc47c(0x291)])_0x5cc9db[_0x4cc47c(0x1e4)](_0x13ffa7[_0x4cc47c(0x291)]);}}),_0x4f88fb=Array[_0x592ccf(0x286)](_0x5cc9db)[_0x592ccf(0x25b)]();}if(_0x4f88fb[_0x592ccf(0x2bb)]===0x0)_0x4f88fb=['Standard'];this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':!![],'names':_0x4f88fb},_0x207e72[_0x592ccf(0x244)]);}catch(_0x5c8a0b){this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72[_0x592ccf(0x292)],{'success':![],'error':_0x5c8a0b[_0x592ccf(0x277)]},_0x207e72[_0x592ccf(0x244)]);}else{if(_0x207e72['command']===_0x592ccf(0x285))try{await setup[_0x592ccf(0x1de)](this,_0x592ccf(0x2c5),![],![]),this[_0x592ccf(0x1fc)](_0x207e72['from'],_0x207e72['command'],{'success':!![],'message':_0x592ccf(0x232)},_0x207e72[_0x592ccf(0x244)]);}catch(_0x3a499a){this[_0x592ccf(0x1df)][_0x592ccf(0x254)](_0x592ccf(0x20f)+_0x3a499a['message']),this[_0x592ccf(0x1fc)](_0x207e72[_0x592ccf(0x286)],_0x207e72['command'],{'success':![],'message':_0x592ccf(0x284)+_0x3a499a[_0x592ccf(0x277)]},_0x207e72[_0x592ccf(0x244)]);}}}}}}}}}}}}}}}async[a0_0x35b189(0x2c2)](){const _0x27ba58=a0_0x35b189;try{const _0x1304ba=await this[_0x27ba58(0x2dc)](setup[_0x27ba58(0x1ef)]);_0x1304ba&&_0x1304ba[_0x27ba58(0x2a2)]&&Object[_0x27ba58(0x20e)](setup[_0x27ba58(0x1e2)])[_0x27ba58(0x2e6)](_0x1304ba[_0x27ba58(0x2a2)])?this[_0x27ba58(0x2dd)]=_0x1304ba[_0x27ba58(0x2a2)]:(this['currentSystemMode']=setup[_0x27ba58(0x1e2)][_0x27ba58(0x2b6)],await this[_0x27ba58(0x2d0)](setup[_0x27ba58(0x1ef)],{'val':setup['SYSTEM_MODES'][_0x27ba58(0x2b6)],'ack':!![]}));}catch(_0x2b3871){this['currentSystemMode']=setup['SYSTEM_MODES']['NORMAL'];}}async[a0_0x35b189(0x222)](){const _0x1b8c35=a0_0x35b189;try{const _0x199119=this[_0x1b8c35(0x1fa)][_0x1b8c35(0x228)]||[];let _0x3364a6=![];const _0x4eebfe=[];for(const _0x788696 of _0x199119){try{const _0x45ba3a=await this['getForeignStateAsync'](_0x788696);_0x45ba3a&&(_0x45ba3a['val']===!![]||_0x45ba3a[_0x1b8c35(0x2a2)]===_0x1b8c35(0x201)||_0x45ba3a[_0x1b8c35(0x2a2)]===0x1)&&(_0x3364a6=!![],_0x4eebfe['push'](_0x788696));}catch(_0x330893){}}return await this[_0x1b8c35(0x2d0)](_0x1b8c35(0x227),{'val':_0x4eebfe[_0x1b8c35(0x21e)](',\x20'),'ack':!![]}),_0x3364a6&&(this['exitTimer']&&(this['log']['info'](_0x1b8c35(0x264)),recorder[_0x1b8c35(0x26f)](this)),!this['isPresent']&&this[_0x1b8c35(0x2dd)]===setup['SYSTEM_MODES'][_0x1b8c35(0x2b6)]&&await recorder[_0x1b8c35(0x219)](this,!![])),_0x3364a6;}catch(_0x274250){return![];}}async[a0_0x35b189(0x1ec)](){const _0x5a712f=a0_0x35b189;this['log'][_0x5a712f(0x1db)](_0x5a712f(0x23c)),await aiAgent[_0x5a712f(0x2cc)](this),this[_0x5a712f(0x293)](),this[_0x5a712f(0x213)](),this[_0x5a712f(0x29d)]();}async[a0_0x35b189(0x22c)](){const _0x4b0f1b=a0_0x35b189,_0x1fe00e=[_0x4b0f1b(0x2c7),_0x4b0f1b(0x2b0),_0x4b0f1b(0x283)],_0x504d42=['forecast.current.weather',_0x4b0f1b(0x27c),_0x4b0f1b(0x233)];for(const _0x42a810 of _0x1fe00e){for(const _0x485be8 of _0x504d42){try{const _0x1e8a22=_0x42a810+'.'+_0x485be8,_0x44f258=await this[_0x4b0f1b(0x2a5)](_0x1e8a22);if(_0x44f258&&_0x44f258['val']){const _0x4d1827=String(_0x44f258['val'])[_0x4b0f1b(0x2e0)]();if(_0x4d1827[_0x4b0f1b(0x2e6)](_0x4b0f1b(0x25e))||_0x4d1827[_0x4b0f1b(0x2e6)]('sunny')||_0x4d1827[_0x4b0f1b(0x2e6)]('klar')||_0x4d1827[_0x4b0f1b(0x2e6)](_0x4b0f1b(0x2b7))||_0x4d1827[_0x4b0f1b(0x2e6)](_0x4b0f1b(0x267)))return!![];}}catch(_0x339034){}}}return![];}[a0_0x35b189(0x213)](){const _0x453022=a0_0x35b189;if(!this[_0x453022(0x272)])return;try{this['getState'](_0x453022(0x2cb),(_0x3afed3,_0x839452)=>{const _0x29dac4=_0x453022;_0x839452&&_0x839452['val']&&pythonBridge[_0x29dac4(0x290)](this,_0x29dac4(0x235),{'sequences':JSON[_0x29dac4(0x207)](_0x839452[_0x29dac4(0x2a2)])});});}catch(_0x5c2952){}}async[a0_0x35b189(0x29d)](){const _0x45dac7=a0_0x35b189;if(!this[_0x45dac7(0x272)])return;try{const _0x18d05c=await recorder[_0x45dac7(0x271)](this);if(_0x18d05c===null)return;const _0x28d860={},_0x157b01={},_0x30ce72=this[_0x45dac7(0x1fa)][_0x45dac7(0x206)]||[];for(const _0x455cc of _0x30ce72){if(_0x455cc['type']==='temperature'&&_0x455cc[_0x45dac7(0x275)]){const _0xf160cd=this['sensorLastValues'][_0x455cc['id']];if(_0xf160cd!==undefined)_0x28d860[_0x455cc['location']]=_0xf160cd;if(_0x455cc[_0x45dac7(0x22b)])_0x157b01[_0x455cc[_0x45dac7(0x275)]]=!![];}}const _0x4034ab=await this[_0x45dac7(0x22c)]();let _0x5cff97={};try{const _0x4edeeb=await this[_0x45dac7(0x2dc)]('analysis.energy.warmupTargets');if(_0x4edeeb&&_0x4edeeb['val'])_0x5cff97=JSON[_0x45dac7(0x207)](_0x4edeeb['val']);}catch(_0xd38ef8){}Object[_0x45dac7(0x2a3)](_0x28d860)[_0x45dac7(0x2bb)]>0x0&&(pythonBridge[_0x45dac7(0x290)](this,_0x45dac7(0x29e),{'current_temps':_0x28d860,'t_out':_0x18d05c,'is_sunny':_0x4034ab,'solar_flags':_0x157b01,'warmup_targets':_0x5cff97}),pythonBridge['send'](this,_0x45dac7(0x23e),{'current_temps':_0x28d860,'t_out':_0x18d05c,'targets':{}}));}catch(_0x680327){}}[a0_0x35b189(0x293)](){const _0x59f245=a0_0x35b189;if(!this['rawEventLog']||this['rawEventLog'][_0x59f245(0x2bb)]===0x0)return;const _0xffb335=new Array(0x60)[_0x59f245(0x25f)](0x0),_0x39d282=new Date()[_0x59f245(0x1e5)](0x0,0x0,0x0,0x0);this[_0x59f245(0x2ea)][_0x59f245(0x249)](_0x538072=>{const _0x462a27=_0x59f245,_0x535120=new Date(_0x538072[_0x462a27(0x2e9)]);if(_0x535120[_0x462a27(0x217)]()>=_0x39d282){const _0x4f832d=_0x535120[_0x462a27(0x24f)](),_0x3c96af=_0x535120[_0x462a27(0x269)](),_0x450970=_0x4f832d*0x4+Math['floor'](_0x3c96af/0xf);if(_0x450970>=0x0&&_0x450970<0x60)_0xffb335[_0x450970]++;}}),this[_0x59f245(0x2d0)](_0x59f245(0x2b2),{'val':JSON[_0x59f245(0x253)](_0xffb335),'ack':!![]});}[a0_0x35b189(0x2b3)](){const _0x3fb671=a0_0x35b189;if(!this[_0x3fb671(0x231)]||this['dailyDigests'][_0x3fb671(0x2bb)]<0x2)return;const _0x52c602=this[_0x3fb671(0x231)]['map'](_0x5144=>{const _0x31b4f7=_0x3fb671,_0xf3c76a=(_0x5144[_0x31b4f7(0x273)]||'')[_0x31b4f7(0x2e0)]();return ACTIVITY_LEVEL_MAP[_0xf3c76a]||0x32;});pythonBridge[_0x3fb671(0x290)](this,_0x3fb671(0x226),{'values':_0x52c602,'tag':_0x3fb671(0x2ab)});}}if(require[a0_0x35b189(0x20a)]!==module)module['exports']=_0x2717f2=>new CogniLiving(_0x2717f2);else new CogniLiving();