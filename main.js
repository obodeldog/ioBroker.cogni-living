const a0_0x3d50c8=a0_0x2924;(function(_0x1df42a,_0x687085){const _0x44d14b=a0_0x2924,_0x409cc5=_0x1df42a();while(!![]){try{const _0x3689da=parseInt(_0x44d14b(0x18f))/0x1+-parseInt(_0x44d14b(0x18c))/0x2+parseInt(_0x44d14b(0x1ab))/0x3*(parseInt(_0x44d14b(0x111))/0x4)+parseInt(_0x44d14b(0x143))/0x5+parseInt(_0x44d14b(0x189))/0x6*(parseInt(_0x44d14b(0x110))/0x7)+-parseInt(_0x44d14b(0x15b))/0x8+parseInt(_0x44d14b(0x1c4))/0x9*(-parseInt(_0x44d14b(0x123))/0xa);if(_0x3689da===_0x687085)break;else _0x409cc5['push'](_0x409cc5['shift']());}catch(_0x51ceb9){_0x409cc5['push'](_0x409cc5['shift']());}}}(a0_0x3aec,0x91dc8));function a0_0x2924(_0x24465e,_0xda3556){const _0x33668c=a0_0x3aec();return a0_0x2924=function(_0x3a3691,_0x12e227){_0x3a3691=_0x3a3691-0xcb;let _0x3aec06=_0x33668c[_0x3a3691];return _0x3aec06;},a0_0x2924(_0x24465e,_0xda3556);}const a0_0x12e227=(function(){let _0x11058e=!![];return function(_0x20b13c,_0x2afca1){const _0x4b9088=_0x11058e?function(){const _0xcc955d=a0_0x2924;if(_0x2afca1){const _0x120ba3=_0x2afca1[_0xcc955d(0x125)](_0x20b13c,arguments);return _0x2afca1=null,_0x120ba3;}}:function(){};return _0x11058e=![],_0x4b9088;};}()),a0_0x3a3691=a0_0x12e227(this,function(){const _0x1a2c3a=a0_0x2924;return a0_0x3a3691[_0x1a2c3a(0xfb)]()[_0x1a2c3a(0x1c8)]('(((.+)+)+)+$')[_0x1a2c3a(0xfb)]()[_0x1a2c3a(0x176)](a0_0x3a3691)['search'](_0x1a2c3a(0x173));});a0_0x3a3691();'use strict';function a0_0x3aec(){const _0xca48da=['Active\x20Ventilation\x20Alerts','LTM.trainingData.sequences','checkSolarCondition','string','version','clear','log','now','sendNotification','getState','briefingJob','startSystem','testApiKey','./lib/python_bridge','analysis.training.triggerComfort','Gemini\x20AI\x20initialized.','dailyDigests','timestamp','values','sort','getForeignStateAsync','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','onReady','systemConfig','driftAnalysisTimer','General\x20Activity\x20Trend\x20(%)','klar','setupBriefingScheduler','calendarInstance','triggerBriefing','message','weatherunderground.0','join','./lib/setup','toString','analysis.triggerBriefing','SYSTEM_MODES','resetRLPenalty','analysisTimer','exports','telegram','setState','getForeignObjectAsync','system.mode','isArray','PREDICT_ENERGY','{\x22default\x22:\x2021}','testNotification','onUnload','_calName','getGenerativeModel','loadSystemMode',')\x20-\x20Phase\x20D\x20(Transparency)','initHistory','Gesendet','167685qpOwtT','14128HhITCX','analysisHistory','TRAIN_HEALTH','simulateEnergyMPC','enum.rooms.*','@google/generative-ai','apiKey','Verbindung\x20erfolgreich!','sendTo','trackerEnabled','triggerEnergyPrediction','models/gemini-flash-latest','getOverviewData','location','send','ANALYZE_GAIT','Activity-Level','object','579650PIfodj','enum','apply','analysis.energy.ventilationAlerts','response','slice','analysis.energy.pinnForecast','createDailyDigest','modeResetJob','type','Daten\x20nicht\x20verfÃ¼gbar','analysis.energy.mpcActive','getForeignObjectsAsync','value','OPTIMIZE_ENERGY','updateLocation','triggerGaitAnalysis','analysis.energy.warmupTimes','Gait\x20Speed\x20Calculation\x20Proof','setHours','Standard','Guest\x20Mode','analysis.topology.structure','instance','system.adapter.','analysis.training.triggerEnergy','â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','cogni-living\x20adapter\x20starting\x20(v','stringify','analysis.health.activityTrend','NORMAL','parse','4007615kceekA','guest','push','daswetter.0','./lib/topology','application/json','onMessage','getEnums','TRAIN_SECURITY','exitTimer','checkThermostats','PYTHON_EXE','motion','SYSTEM_DP_MODE','analysisInterval','toLowerCase','@iobroker/adapter-core','subscribeForeignStatesAsync','eventHistory','setupModeResetScheduler','analysis.trigger','error','SET_LEARNING_MODE','setObjectNotExistsAsync','184584pKMfgC','runGeminiAnalysis','temperature','initZombies','analysis.energy.warmupTargets','analysis.health.todayVector','isPresent','config','generateContent','abortExitTimer','fill','Reinforcement\x20Learning\x20Penalties','Party\x20Mode','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','LTM.baselineStatus','devices','geminiModel','inactivityThresholdHours','includes','getCalendarNames','getOutsideTemperatureNumeric','forecast.current.weather','setupLtmScheduler','Simulation\x20durch\x20Admin\x20(Test)','(((.+)+)+)+$','Notification\x20Test\x20Failed:\x20','updateTopologyMatrix','constructor','updated','simulateButler','bind','runPythonHealthCheck','Lernphase\x20(','PINN\x20AI\x20Forecast','testContext','from','scanThermostats','ANALYZE_TREND','some','subscribeStates','isSolar','notifyTelegramEnabled','val','genAI','info','analysis.automation.autoApply','204XqJZfr','scanForDevices','notifyTelegramInstance','1895390SWYmIl','startService','analysis.automation.targetId','160812shIeQq','./lib/automation','dismissAutomation','LTM.rawEventLog','unload','cancel','lastAlertState','setupDriftAnalysisScheduler','sunny','pop','ltmJob','runAutopilot','getStateAsync','setStateAsync','analysis.health.gaitDebug','automation.triggerAction','online','manual','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','Aktiv\x20(','find','Kein\x20Wetter-Adapter','Warm-Up\x20Target\x20Temps\x20(JSON)','healthTrendInterval','forEach','./lib/scanner','sensorLastValues','licenseKey','69dWAsQF','NextHours.Location_1.Day_1.current.symbol_desc','namespace','abs','analysis.automation.description','SET_TOPOLOGY','Keine\x20Antwort\x20von\x20Gemini','lastTrackerEventTime','debug','updateHealthVector','text','onStateChange','checkCalendarTriggers','WiFi\x20Presence\x20detected.','sonn','analysis.training.triggerTopology','.system.mode','Verbunden','entries','add','getLtmData','party','getHours','TRAIN_ENERGY','Fehler:\x20','45ymDTjH','thermostat','useWeather','minDaysForBaseline','search','analysis.training.triggerSecurity','.communicate.request','common','checkWifiPresence','isProVersion','sendMorningBriefing','analysis.energy.rlPenalties','LTM.dailyDigests','trackerHeartbeat','setPresence','analysis.automation.triggerAction','json','length','analysis.automation.patternDetected','endsWith','./lib/dead_man','currentSystemMode','Instanz\x20nicht\x20gefunden','Kein\x20API\x20Key\x20Ã¼bergeben','state','geminiApiKey','LTM.triggerDailyDigest','keys','stopService','callback','system.presenceWho','checkAndInstall','name','floor','rawEventLog','calendarName','dependencyInstallInProgress','command','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','processSensorEvent','analysis.training.triggerHealth','scores','presenceDevices','./lib/installer','analysis.automation.targetValue'];a0_0x3aec=function(){return _0xca48da;};return a0_0x3aec();}const utils=require(a0_0x3d50c8(0x153)),{GoogleGenerativeAI}=require(a0_0x3d50c8(0x116)),installer=require(a0_0x3d50c8(0xd7)),scanner=require(a0_0x3d50c8(0x1a8)),schedulers=require('./lib/scheduler'),topology=require(a0_0x3d50c8(0x147)),setup=require(a0_0x3d50c8(0xfa)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x3d50c8(0xe6)),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x3d50c8(0x1d8)),automation=require(a0_0x3d50c8(0x190)),GEMINI_MODEL=a0_0x3d50c8(0x11c),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x1117e9){const _0x554ac7=a0_0x3d50c8;super({..._0x1117e9,'name':'cogni-living'}),this[_0x554ac7(0x155)]=[],this['analysisHistory']=[],this[_0x554ac7(0xce)]=[],this[_0x554ac7(0xe9)]=[],this[_0x554ac7(0x1a9)]={},this[_0x554ac7(0xf0)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x554ac7(0x161)]=!![],this[_0x554ac7(0x14c)]=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this[_0x554ac7(0x186)]=null,this[_0x554ac7(0x16b)]=null,this[_0x554ac7(0x1d9)]=setup[_0x554ac7(0xfd)][_0x554ac7(0x141)],this['isProVersion']=![],this[_0x554ac7(0x195)]=![],this[_0x554ac7(0xff)]=null,this['ltmJob']=null,this[_0x554ac7(0x12b)]=null,this['driftAnalysisTimer']=null,this[_0x554ac7(0xe3)]=null,this['trackerHeartbeat']=null,this[_0x554ac7(0x1a6)]=null,this[_0x554ac7(0xd0)]=![],this['lastTrackerEventTime']=Date['now'](),this['on']('ready',this[_0x554ac7(0xef)]['bind'](this)),this['on']('stateChange',this[_0x554ac7(0x1b6)]['bind'](this)),this['on'](_0x554ac7(0x193),this[_0x554ac7(0x109)]['bind'](this)),this['on'](_0x554ac7(0xf7),this[_0x554ac7(0x149)][_0x554ac7(0x179)](this));}async['onReady'](){const _0x26069f=a0_0x3d50c8;this[_0x26069f(0xdf)][_0x26069f(0x187)](_0x26069f(0x13e)+this[_0x26069f(0xdd)]+_0x26069f(0x10d));if(!installer[_0x26069f(0xcb)](this,()=>this[_0x26069f(0xe4)]()))return;}async[a0_0x3d50c8(0xe4)](){const _0x402da6=a0_0x3d50c8;await setup[_0x402da6(0x15e)](this);try{this[_0x402da6(0x1cd)]=await setup['checkLicense'](this[_0x402da6(0x162)][_0x402da6(0x1aa)]);}catch(_0x4fb0cd){}if(!this[_0x402da6(0x162)]['inactivityThresholdHours']||this[_0x402da6(0x162)][_0x402da6(0x16c)]<0.1)this[_0x402da6(0x162)][_0x402da6(0x16c)]=0xc;await setup[_0x402da6(0x10e)](this),await setup['initSystemConfig'](this);if(this['config'][_0x402da6(0x1dd)])try{this['genAI']=new GoogleGenerativeAI(this[_0x402da6(0x162)]['geminiApiKey']),this[_0x402da6(0x16b)]=this['genAI'][_0x402da6(0x10b)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x402da6(0x148)}}),this[_0x402da6(0xdf)]['info'](_0x402da6(0xe8));}catch(_0x54adf6){this[_0x402da6(0xdf)][_0x402da6(0x158)]('Gemini\x20Init\x20Error:\x20'+_0x54adf6[_0x402da6(0xf7)]);}await setup['createAllObjects'](this),await this[_0x402da6(0x10c)](),await this[_0x402da6(0x15a)](_0x402da6(0x129),{'type':_0x402da6(0x1dc),'common':{'name':_0x402da6(0x17c),'type':_0x402da6(0xdc),'role':_0x402da6(0x1d4),'read':!![],'write':![]},'native':{}}),await this[_0x402da6(0x15a)](_0x402da6(0x126),{'type':'state','common':{'name':_0x402da6(0xd9),'type':'string','role':_0x402da6(0x1d4),'read':!![],'write':![]},'native':{}}),await this[_0x402da6(0x15a)](_0x402da6(0x134),{'type':'state','common':{'name':_0x402da6(0x168),'type':'string','role':_0x402da6(0x1d4),'read':!![],'write':![]},'native':{}}),await this[_0x402da6(0x15a)](_0x402da6(0x15f),{'type':_0x402da6(0x1dc),'common':{'name':_0x402da6(0x1a5),'type':_0x402da6(0xdc),'role':'json','read':!![],'write':!![],'def':_0x402da6(0x107)},'native':{}}),await this[_0x402da6(0x15a)]('analysis.energy.rlPenalties',{'type':'state','common':{'name':_0x402da6(0x166),'type':_0x402da6(0xdc),'role':_0x402da6(0x1d4),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x402da6(0x15a)](_0x402da6(0x140),{'type':_0x402da6(0x1dc),'common':{'name':_0x402da6(0xf2),'type':'number','role':_0x402da6(0x130),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x402da6(0x15a)]('analysis.health.gaitSensors',{'type':_0x402da6(0x1dc),'common':{'name':'Sensors\x20used\x20for\x20Gait\x20Analysis','type':'string','role':_0x402da6(0x1b5),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x402da6(0x19d),{'type':_0x402da6(0x1dc),'common':{'name':_0x402da6(0x135),'type':_0x402da6(0xdc),'role':_0x402da6(0x1b5),'read':!![],'write':![]},'native':{}});try{const _0x1a0dc7=await this['getStateAsync'](_0x402da6(0x192));if(_0x1a0dc7&&_0x1a0dc7[_0x402da6(0x185)])this[_0x402da6(0xce)]=JSON[_0x402da6(0x142)](_0x1a0dc7[_0x402da6(0x185)]);}catch(_0x1b6fe0){this[_0x402da6(0xce)]=[];}try{const _0x827c4a=await this[_0x402da6(0x19b)](_0x402da6(0x1d0));if(_0x827c4a&&_0x827c4a[_0x402da6(0x185)])this['dailyDigests']=JSON[_0x402da6(0x142)](_0x827c4a['val']);}catch(_0x102592){this[_0x402da6(0xe9)]=[];}const _0x31dfd9=this[_0x402da6(0xe9)]['length']>=(this[_0x402da6(0x162)][_0x402da6(0x1c7)]||0x7)?_0x402da6(0x1a2)+this[_0x402da6(0xe9)]['length']+'\x20Tage)':_0x402da6(0x17b)+this[_0x402da6(0xe9)][_0x402da6(0x1d5)]+'/'+(this[_0x402da6(0x162)]['minDaysForBaseline']||0x7)+')';await this[_0x402da6(0x19c)](_0x402da6(0x169),{'val':_0x31dfd9,'ack':!![]}),this[_0x402da6(0x182)](_0x402da6(0x157)),this[_0x402da6(0x182)](_0x402da6(0x1de)),this['subscribeStates'](_0x402da6(0x104)),this['subscribeStates'](_0x402da6(0xfc)),this['subscribeStates'](_0x402da6(0x1d3)),this[_0x402da6(0x182)](_0x402da6(0x188)),this[_0x402da6(0x182)](_0x402da6(0x1c9)),this['subscribeStates'](_0x402da6(0xd4)),this[_0x402da6(0x182)](_0x402da6(0x13c)),this['subscribeStates']('analysis.training.triggerComfort'),this[_0x402da6(0x182)](_0x402da6(0x1ba)),this[_0x402da6(0x182)](_0x402da6(0x12e));const _0x59d752=this[_0x402da6(0x162)][_0x402da6(0x16a)];if(_0x59d752)for(const _0xaa899e of _0x59d752){await this[_0x402da6(0x154)](_0xaa899e['id']);}const _0x52fc8e=this[_0x402da6(0x162)]['presenceDevices'];if(_0x52fc8e)for(const _0x40f45e of _0x52fc8e){await this[_0x402da6(0x154)](_0x40f45e);}if(this[_0x402da6(0x162)][_0x402da6(0x184)]&&this['config'][_0x402da6(0x18b)])await this[_0x402da6(0x154)](this[_0x402da6(0x162)][_0x402da6(0x18b)]+_0x402da6(0x1ca));setTimeout(()=>this['checkWifiPresence'](),0x1388);if(this[_0x402da6(0xff)])clearInterval(this[_0x402da6(0xff)]);const _0x3b68ba=this[_0x402da6(0x162)][_0x402da6(0x151)]||0xf;_0x3b68ba>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x50c20b=_0x402da6;this[_0x50c20b(0x19a)](),automation[_0x50c20b(0x1b7)](this);},_0x3b68ba*0x3c*0x3e8));setTimeout(()=>automation[_0x402da6(0x1b7)](this),0x2710);this[_0x402da6(0x162)][_0x402da6(0x11a)]!==![]&&(this[_0x402da6(0x1d1)]=setInterval(()=>{const _0x11d20c=_0x402da6;if(this[_0x11d20c(0x1cd)]){const _0x197ec4=Date[_0x11d20c(0xe0)](),_0x4c72b8=this[_0x11d20c(0x1b2)]||_0x197ec4,_0x2e5d87=(_0x197ec4-_0x4c72b8)/0x3e8;_0x2e5d87>0x2&&(this[_0x11d20c(0x1b2)]=_0x197ec4,pythonBridge[_0x11d20c(0x11f)](this,'TRACK_EVENT',{'room':null,'dt':_0x2e5d87}));}},0xbb8));if(this[_0x402da6(0x1a6)])clearInterval(this[_0x402da6(0x1a6)]);this[_0x402da6(0x1a6)]=setInterval(()=>{const _0x33b13d=_0x402da6;this['isProVersion']&&(this[_0x33b13d(0xdf)][_0x33b13d(0x187)](_0x33b13d(0x13d)),this[_0x33b13d(0x17a)]());},0x4*0x3c*0x3c*0x3e8),schedulers[_0x402da6(0x171)](this,()=>aiAgent[_0x402da6(0x12a)](this,pythonBridge)),schedulers[_0x402da6(0x156)](this),schedulers[_0x402da6(0x196)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x402da6(0xf4)](this,()=>aiAgent[_0x402da6(0x1ce)](this)),pythonBridge[_0x402da6(0x18d)](this,installer[_0x402da6(0x14e)]),setTimeout(async()=>{const _0x186ef9=_0x402da6;await topology['updateTopology'](this);try{const _0x135464=await this['getStateAsync'](_0x186ef9(0x139));if(_0x135464&&_0x135464[_0x186ef9(0x185)])pythonBridge['send'](this,_0x186ef9(0x1b0),JSON[_0x186ef9(0x142)](_0x135464['val']));}catch(_0x2b2ce1){}this[_0x186ef9(0x17a)](),this[_0x186ef9(0x133)](),this[_0x186ef9(0x11b)](),this['updateHealthVector']();},0x1388);}['onUnload'](_0x25c69){const _0x33555b=a0_0x3d50c8;if(this[_0x33555b(0xff)])clearInterval(this[_0x33555b(0xff)]);if(this[_0x33555b(0xf1)])clearInterval(this[_0x33555b(0xf1)]);if(this[_0x33555b(0x1d1)])clearInterval(this[_0x33555b(0x1d1)]);if(this['healthTrendInterval'])clearInterval(this[_0x33555b(0x1a6)]);if(this[_0x33555b(0x199)])this[_0x33555b(0x199)][_0x33555b(0x194)]();if(this['modeResetJob'])this['modeResetJob']['cancel']();if(this[_0x33555b(0xe3)])this[_0x33555b(0xe3)]['cancel']();recorder[_0x33555b(0x164)](this),pythonBridge[_0x33555b(0x1e0)](this),_0x25c69();}async[a0_0x3d50c8(0x1b6)](_0x4933d0,_0x82defa){const _0x17e8b0=a0_0x3d50c8;if(!_0x82defa||this[_0x17e8b0(0xd0)])return;if(_0x4933d0[_0x17e8b0(0x16d)](_0x17e8b0(0x101))&&_0x4933d0[_0x17e8b0(0x1d7)]('communicate.request')&&_0x82defa[_0x17e8b0(0x185)])return;if(_0x4933d0===this[_0x17e8b0(0x1ad)]+_0x17e8b0(0x1bb)){if(_0x82defa[_0x17e8b0(0x185)]&&Object['values'](setup[_0x17e8b0(0xfd)])[_0x17e8b0(0x16d)](_0x82defa[_0x17e8b0(0x185)])){this['currentSystemMode']=_0x82defa[_0x17e8b0(0x185)];if(_0x82defa[_0x17e8b0(0x185)]===setup['SYSTEM_MODES']['VACATION'])await recorder[_0x17e8b0(0x1d2)](this,![]);else await recorder[_0x17e8b0(0x1d2)](this,!![]);if(this[_0x17e8b0(0x1cd)]){let _0x49074a=![],_0x3ed57e=0x0,_0x90e5cb=_0x17e8b0(0x1a0);if(this['currentSystemMode']===_0x17e8b0(0x1c0))_0x49074a=!![],_0x3ed57e=0x168,_0x90e5cb=_0x17e8b0(0x167);else this[_0x17e8b0(0x1d9)]===_0x17e8b0(0x144)&&(_0x49074a=!![],_0x3ed57e=0x5a0,_0x90e5cb=_0x17e8b0(0x138));pythonBridge[_0x17e8b0(0x11f)](this,_0x17e8b0(0x159),{'active':_0x49074a,'duration':_0x3ed57e,'label':_0x90e5cb}),await this[_0x17e8b0(0x19c)]('analysis.security.learningStatus',{'val':JSON[_0x17e8b0(0x13f)]({'active':_0x49074a,'label':_0x90e5cb,'timestamp':Date[_0x17e8b0(0xe0)]()}),'ack':!![]});}}if(!_0x82defa['ack'])this[_0x17e8b0(0x102)](_0x4933d0,{'val':this[_0x17e8b0(0x1d9)],'ack':!![]});return;}if(!_0x82defa['ack']){if(_0x4933d0[_0x17e8b0(0x16d)](_0x17e8b0(0x157))&&_0x82defa[_0x17e8b0(0x185)]){this[_0x17e8b0(0x102)](_0x4933d0,{'val':![],'ack':!![]}),aiAgent[_0x17e8b0(0x15c)](this);return;}if(_0x4933d0['includes']('triggerDailyDigest')&&_0x82defa['val']){this['setState'](_0x4933d0,{'val':![],'ack':!![]});if(this[_0x17e8b0(0x1cd)])aiAgent[_0x17e8b0(0x12a)](this,pythonBridge);return;}if(_0x4933d0['includes'](_0x17e8b0(0xf6))&&_0x82defa[_0x17e8b0(0x185)]){this['setState'](_0x4933d0,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0x4933d0[_0x17e8b0(0x16d)](_0x17e8b0(0x19e))&&_0x82defa['val']){this[_0x17e8b0(0x102)](_0x4933d0,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x4933d0[_0x17e8b0(0x16d)](_0x17e8b0(0x1c9))&&_0x82defa[_0x17e8b0(0x185)]){this[_0x17e8b0(0x102)](_0x4933d0,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x3cab4e=await this['getStateAsync'](_0x17e8b0(0xda));if(_0x3cab4e&&_0x3cab4e[_0x17e8b0(0x185)]){const _0x20804e=JSON[_0x17e8b0(0x142)](_0x3cab4e[_0x17e8b0(0x185)]);this[_0x17e8b0(0x19c)]('analysis.training.status',{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge['send'](this,_0x17e8b0(0x14b),{'sequences':_0x20804e});}}catch(_0x2ce611){}return;}if(_0x4933d0[_0x17e8b0(0x16d)](_0x17e8b0(0xd4))&&_0x82defa['val']){this[_0x17e8b0(0x102)](_0x4933d0,{'val':![],'ack':!![]});if(this[_0x17e8b0(0x1cd)])try{const _0x3cc4df=await this[_0x17e8b0(0x19b)](_0x17e8b0(0x1d0));if(_0x3cc4df&&_0x3cc4df['val'])pythonBridge[_0x17e8b0(0x11f)](this,_0x17e8b0(0x113),{'digests':JSON[_0x17e8b0(0x142)](_0x3cc4df[_0x17e8b0(0x185)])});}catch(_0x426c00){}return;}if(_0x4933d0[_0x17e8b0(0x16d)]('analysis.training.triggerEnergy')&&_0x82defa['val']){this[_0x17e8b0(0x102)](_0x4933d0,{'val':![],'ack':!![]});if(this[_0x17e8b0(0x1cd)])try{const _0x269fbf=await this['getStateAsync']('LTM.trainingData.thermodynamics');if(_0x269fbf&&_0x269fbf[_0x17e8b0(0x185)])pythonBridge['send'](this,_0x17e8b0(0x1c2),{'points':JSON[_0x17e8b0(0x142)](_0x269fbf[_0x17e8b0(0x185)])});}catch(_0x588427){}return;}if(_0x4933d0[_0x17e8b0(0x16d)](_0x17e8b0(0xe7))&&_0x82defa[_0x17e8b0(0x185)]){this['setState'](_0x4933d0,{'val':![],'ack':!![]});if(this[_0x17e8b0(0x1cd)])try{const _0x5cefd4=await this[_0x17e8b0(0x19b)]('LTM.rawEventLog');if(_0x5cefd4&&_0x5cefd4[_0x17e8b0(0x185)])pythonBridge[_0x17e8b0(0x11f)](this,'TRAIN_COMFORT',{'events':JSON[_0x17e8b0(0x142)](_0x5cefd4['val'])});}catch(_0x4dac14){}return;}if(_0x4933d0['includes'](_0x17e8b0(0x1ba))&&_0x82defa[_0x17e8b0(0x185)]){this[_0x17e8b0(0x102)](_0x4933d0,{'val':![],'ack':!![]}),topology['updateTopology'](this);return;}}if(this['config'][_0x17e8b0(0xd6)]&&this[_0x17e8b0(0x162)][_0x17e8b0(0xd6)]['includes'](_0x4933d0)){await this[_0x17e8b0(0x1cc)]();return;}const _0x96b402=(this['config'][_0x17e8b0(0x16a)]||[])[_0x17e8b0(0x1a3)](_0x5afa8a=>_0x5afa8a['id']===_0x4933d0);if(_0x96b402){const _0x8d695c=await recorder[_0x17e8b0(0xd3)](this,_0x4933d0,_0x82defa,_0x96b402);_0x8d695c&&_0x8d695c[_0x17e8b0(0x12c)]===_0x17e8b0(0x14f)&&_0x8d695c['location']&&this[_0x17e8b0(0x1cd)]&&deadMan[_0x17e8b0(0x132)](this,_0x8d695c[_0x17e8b0(0x11e)]),(_0x96b402[_0x17e8b0(0x12c)]===_0x17e8b0(0x15d)||_0x96b402[_0x17e8b0(0x12c)]===_0x17e8b0(0x1c5))&&automation['cleanupGhostInterventions'](this);}}async[a0_0x3d50c8(0x149)](_0x1fdb5a){const _0x282fb6=a0_0x3d50c8;if(typeof _0x1fdb5a===_0x282fb6(0x122)&&_0x1fdb5a['message']){if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x14d))try{const _0x2d9180=await automation[_0x282fb6(0x17f)](this);this[_0x282fb6(0x119)](_0x1fdb5a['from'],_0x1fdb5a['command'],{'success':!![],'results':_0x2d9180},_0x1fdb5a[_0x282fb6(0x1e1)]);}catch(_0x8a155c){this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':![],'error':_0x8a155c[_0x282fb6(0xf7)]},_0x1fdb5a[_0x282fb6(0x1e1)]);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x114))try{const {current_temps:_0x2e4f74,t_out:_0x2b50b4,targets:_0x46c089,t_forecast:_0x5a060b}=_0x1fdb5a[_0x282fb6(0xf7)],_0x310380=[];let _0x5ba3cf={};try{const _0x5cdfad=await this[_0x282fb6(0x19b)]('analysis.energy.insulationScore');if(_0x5cdfad&&_0x5cdfad['val']){const _0x4c809e=JSON['parse'](_0x5cdfad[_0x282fb6(0x185)]);_0x5ba3cf=_0x4c809e[_0x282fb6(0xd5)]||_0x4c809e;}}catch(_0x5b3c78){}const _0x57d129=_0x5a060b!==undefined&&_0x5a060b!==null?(_0x2b50b4+_0x5a060b)/0x2:_0x2b50b4;for(const [_0xafece9,_0x101ce5]of Object[_0x282fb6(0x1bd)](_0x2e4f74)){const _0x57967c=_0x46c089[_0xafece9]||0x15;if(_0x101ce5<=_0x57967c)continue;let _0x1d6147=_0x5ba3cf[_0xafece9]||-0.5;if(_0x1d6147>=0x0)_0x1d6147=-0.5;const _0x48c2dc=Math[_0x282fb6(0x1ae)](_0x1d6147),_0x5936af=_0x101ce5-_0x57967c;let _0x238dd1=Math[_0x282fb6(0xcd)](_0x5936af/_0x48c2dc*0x3c);const _0x368af0=_0x101ce5-_0x2b50b4,_0x22c04d=_0x101ce5-_0x57d129;if(_0x22c04d!==0x0&&_0x368af0!==0x0){const _0x55f7eb=_0x368af0/_0x22c04d;_0x238dd1=Math['floor'](_0x238dd1*_0x55f7eb);}if(_0x238dd1>0xf){if(_0x238dd1>0xf0)_0x238dd1=0xf0;_0x310380[_0x282fb6(0x145)]({'room':_0xafece9,'minutes_safe':_0x238dd1,'target':_0x57967c,'current':_0x101ce5,'savings_msg':'Heizung\x20kann\x20'+_0x238dd1+'\x20min\x20ausbleiben.'});}}_0x310380[_0x282fb6(0xec)]((_0x5d4ad5,_0x3415ee)=>_0x3415ee['minutes_safe']-_0x5d4ad5['minutes_safe']),this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![],'proposals':_0x310380},_0x1fdb5a[_0x282fb6(0x1e1)]);}catch(_0x52cc39){this['sendTo'](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':![],'error':_0x52cc39[_0x282fb6(0xf7)]},_0x1fdb5a['callback']);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0xfe))try{const _0xaec48b=_0x1fdb5a['message']['key'],_0x19e927=_0x282fb6(0x1cf),_0x4771c7=await this['getStateAsync'](_0x19e927);let _0xa7cd4e={};if(_0x4771c7&&_0x4771c7[_0x282fb6(0x185)])try{_0xa7cd4e=JSON[_0x282fb6(0x142)](_0x4771c7[_0x282fb6(0x185)]);}catch(_0x58b9a2){}_0xaec48b&&_0xa7cd4e[_0xaec48b]?(delete _0xa7cd4e[_0xaec48b],await this[_0x282fb6(0x19c)](_0x19e927,{'val':JSON[_0x282fb6(0x13f)](_0xa7cd4e),'ack':!![]}),this['log']['info'](_0x282fb6(0x1a1)+_0xaec48b+_0x282fb6(0xd2)),this[_0x282fb6(0x119)](_0x1fdb5a['from'],_0x1fdb5a['command'],{'success':!![]},_0x1fdb5a[_0x282fb6(0x1e1)])):this['sendTo'](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a['command'],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0x1fdb5a[_0x282fb6(0x1e1)]);}catch(_0x4b44aa){this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':![],'error':_0x4b44aa[_0x282fb6(0xf7)]},_0x1fdb5a['callback']);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x191))await this[_0x282fb6(0x19c)](_0x282fb6(0x1d6),{'val':![],'ack':!![]}),await this[_0x282fb6(0x19c)](_0x282fb6(0x1af),{'val':'','ack':!![]}),await this[_0x282fb6(0x19c)](_0x282fb6(0x18e),{'val':'','ack':!![]}),this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![]},_0x1fdb5a[_0x282fb6(0x1e1)]);else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x178)){const {targetId:_0x455373,targetValue:_0x9f60a2}=_0x1fdb5a[_0x282fb6(0xf7)];await this['setStateAsync'](_0x282fb6(0x1d6),{'val':!![],'ack':!![]}),await this[_0x282fb6(0x19c)](_0x282fb6(0x1af),{'val':_0x282fb6(0x172),'ack':!![]}),await this[_0x282fb6(0x19c)]('analysis.automation.targetId',{'val':_0x455373,'ack':!![]}),await this[_0x282fb6(0x19c)](_0x282fb6(0xd8),{'val':String(_0x9f60a2),'ack':!![]}),this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![]},_0x1fdb5a[_0x282fb6(0x1e1)]);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0xe5))try{const _0x2a2a83=_0x1fdb5a['message'][_0x282fb6(0x117)];if(!_0x2a2a83)throw new Error(_0x282fb6(0x1db));const _0x525632=new GoogleGenerativeAI(_0x2a2a83),_0x363cad=_0x525632[_0x282fb6(0x10b)]({'model':GEMINI_MODEL}),_0x580595=await _0x363cad[_0x282fb6(0x163)]('Test'),_0x30f17e=await _0x580595[_0x282fb6(0x127)];if(_0x30f17e[_0x282fb6(0x1b5)]())this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![],'message':_0x282fb6(0x118)},_0x1fdb5a['callback']);else throw new Error(_0x282fb6(0x1b1));}catch(_0x357f1b){this[_0x282fb6(0x119)](_0x1fdb5a['from'],_0x1fdb5a[_0x282fb6(0xd1)],{'success':![],'message':_0x357f1b['message']},_0x1fdb5a['callback']);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]==='scanDevices')try{const _0x5695ff=await scanner[_0x282fb6(0x18a)](this,_0x1fdb5a['message']||{});this['sendTo'](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![],'devices':_0x5695ff},_0x1fdb5a[_0x282fb6(0x1e1)]);}catch(_0x4b0576){this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':![],'error':_0x4b0576[_0x282fb6(0xf7)]},_0x1fdb5a['callback']);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x175))try{const {matrix:_0x3ea9a9}=_0x1fdb5a['message'],_0x1d793f=await this[_0x282fb6(0x19b)](_0x282fb6(0x139));if(_0x1d793f&&_0x1d793f[_0x282fb6(0x185)]){const _0x599b0c=JSON[_0x282fb6(0x142)](_0x1d793f[_0x282fb6(0x185)]);_0x599b0c['matrix']=_0x3ea9a9,_0x599b0c[_0x282fb6(0x177)]=Date[_0x282fb6(0xe0)](),await this['setStateAsync']('analysis.topology.structure',{'val':JSON[_0x282fb6(0x13f)](_0x599b0c),'ack':!![]}),pythonBridge[_0x282fb6(0x11f)](this,'SET_TOPOLOGY',_0x599b0c);}this['sendTo'](_0x1fdb5a['from'],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![]},_0x1fdb5a[_0x282fb6(0x1e1)]);}catch(_0x5d9dce){this['log'][_0x282fb6(0x158)](_0x5d9dce);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x1bf))this['sendTo'](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![],'dailyDigests':this[_0x282fb6(0xe9)]||[],'analysisHistory':this[_0x282fb6(0x112)]||[]},_0x1fdb5a[_0x282fb6(0x1e1)]);else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x11d)){const _0x2e9bff=this[_0x282fb6(0xe9)][_0x282fb6(0x1d5)],_0x131814=new Array(0x18)[_0x282fb6(0x165)](0x0),_0x5a05ba=new Date()[_0x282fb6(0x136)](0x0,0x0,0x0,0x0);this['eventHistory']&&this[_0x282fb6(0x155)][_0x282fb6(0x1a7)](_0x12d545=>{const _0x1422e4=_0x282fb6;if(_0x12d545['timestamp']>=_0x5a05ba){const _0x6ff1c0=new Date(_0x12d545[_0x1422e4(0xea)])[_0x1422e4(0x1c1)]();if(_0x6ff1c0>=0x0&&_0x6ff1c0<0x18)_0x131814[_0x6ff1c0]++;}});let _0x23ef77=![],_0x4ab7c8='',_0x26f138='',_0x296782='';try{const _0xaaf7a6=await this[_0x282fb6(0x19b)]('analysis.automation.patternDetected');if(_0xaaf7a6&&_0xaaf7a6[_0x282fb6(0x185)]){_0x23ef77=!![];const _0x5c5fcd=await this[_0x282fb6(0x19b)]('analysis.automation.description');_0x4ab7c8=_0x5c5fcd?_0x5c5fcd[_0x282fb6(0x185)]:'';const _0x35d8ef=await this[_0x282fb6(0x19b)](_0x282fb6(0x18e));_0x26f138=_0x35d8ef?_0x35d8ef['val']:'';const _0x124afe=await this[_0x282fb6(0x19b)](_0x282fb6(0xd8));_0x296782=_0x124afe?_0x124afe[_0x282fb6(0x185)]:'';}}catch(_0x2288a1){}const _0x4459d8=await this[_0x282fb6(0xdb)](),_0x4af9c1=(this['config']['devices']||[])[_0x282fb6(0x181)](_0x37ce7b=>_0x37ce7b[_0x282fb6(0x183)]),_0xc99802=_0x4459d8&&_0x4af9c1;this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![],'eventHistory':this[_0x282fb6(0x155)][_0x282fb6(0x128)](0x0,0xf),'stats':{'digestCount':_0x2e9bff,'isPresent':this[_0x282fb6(0x161)],'hourlyActivity':_0x131814,'solarActive':_0xc99802},'automation':{'detected':_0x23ef77,'description':_0x4ab7c8,'targetId':_0x26f138,'targetValue':_0x296782}},_0x1fdb5a[_0x282fb6(0x1e1)]);}else{if(_0x1fdb5a['command']===_0x282fb6(0x14a)){const _0x18ff8e=await this[_0x282fb6(0x12f)]('enum.functions.*',_0x282fb6(0x124)),_0x107aa3=[];if(_0x18ff8e)for(const _0x11be94 in _0x18ff8e){const _0x26e265=_0x18ff8e[_0x11be94],_0xf96ea4=(_0x26e265['common']&&typeof _0x26e265[_0x282fb6(0x1cb)]['name']==='object'?_0x26e265[_0x282fb6(0x1cb)][_0x282fb6(0xcc)]['de']:_0x26e265[_0x282fb6(0x1cb)]['name'])||_0x26e265[_0x282fb6(0x1cb)][_0x282fb6(0xcc)];_0x107aa3[_0x282fb6(0x145)]({'id':_0x11be94,'name':_0xf96ea4});}const _0x587e6c=await this['getForeignObjectsAsync'](_0x282fb6(0x115),_0x282fb6(0x124)),_0x3f3192=[];if(_0x587e6c)for(const _0x3373f1 in _0x587e6c){const _0x2afa95=_0x587e6c[_0x3373f1],_0x4c0757=(_0x2afa95[_0x282fb6(0x1cb)]&&typeof _0x2afa95[_0x282fb6(0x1cb)]['name']==='object'?_0x2afa95[_0x282fb6(0x1cb)][_0x282fb6(0xcc)]['de']:_0x2afa95['common'][_0x282fb6(0xcc)])||_0x3373f1['split']('.')[_0x282fb6(0x198)]();_0x3f3192[_0x282fb6(0x145)](_0x4c0757);}this['sendTo'](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a['command'],{'success':!![],'enums':_0x107aa3,'rooms':_0x3f3192},_0x1fdb5a[_0x282fb6(0x1e1)]);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x17d))try{let _0x1bd237=_0x282fb6(0x1a4),_0x2accf4='Kein\x20Kalender-Adapter';if(this[_0x282fb6(0x162)][_0x282fb6(0x1c6)]){const _0xa4e757=await recorder[_0x282fb6(0x16f)](this);_0x1bd237=_0xa4e757!==null?_0xa4e757+'Â°C':_0x282fb6(0x12d);}if(this['config'][_0x282fb6(0xf5)]){const _0x4890f2=await this[_0x282fb6(0x103)](_0x282fb6(0x13b)+this[_0x282fb6(0x162)][_0x282fb6(0xf5)]);_0x2accf4=_0x4890f2?_0x282fb6(0x1bc):_0x282fb6(0x1da);}this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a['command'],{'success':!![],'weather':_0x1bd237,'calendar':_0x2accf4},_0x1fdb5a[_0x282fb6(0x1e1)]);}catch(_0x2d6799){this['sendTo'](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':![],'error':_0x2d6799[_0x282fb6(0xf7)]},_0x1fdb5a[_0x282fb6(0x1e1)]);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x16e))try{const _0x2daff5=_0x1fdb5a[_0x282fb6(0xf7)][_0x282fb6(0x13a)],_0x46c6fb=await this[_0x282fb6(0xed)](_0x2daff5+'.data.table');let _0xb1819f=[];if(_0x46c6fb&&_0x46c6fb['val']){const _0x2fb644=JSON[_0x282fb6(0x142)](_0x46c6fb[_0x282fb6(0x185)]),_0x5a3653=new Set();Array[_0x282fb6(0x105)](_0x2fb644)&&_0x2fb644[_0x282fb6(0x1a7)](_0x484e2f=>{const _0x1ae74e=_0x282fb6;if(_0x484e2f['_calName'])_0x5a3653[_0x1ae74e(0x1be)](_0x484e2f[_0x1ae74e(0x10a)]);else{if(_0x484e2f[_0x1ae74e(0xcf)])_0x5a3653[_0x1ae74e(0x1be)](_0x484e2f[_0x1ae74e(0xcf)]);}}),_0xb1819f=Array[_0x282fb6(0x17e)](_0x5a3653)[_0x282fb6(0xec)]();}if(_0xb1819f[_0x282fb6(0x1d5)]===0x0)_0xb1819f=[_0x282fb6(0x137)];this['sendTo'](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![],'names':_0xb1819f},_0x1fdb5a[_0x282fb6(0x1e1)]);}catch(_0x23d32a){this['sendTo'](_0x1fdb5a['from'],_0x1fdb5a[_0x282fb6(0xd1)],{'success':![],'error':_0x23d32a[_0x282fb6(0xf7)]},_0x1fdb5a[_0x282fb6(0x1e1)]);}else{if(_0x1fdb5a[_0x282fb6(0xd1)]===_0x282fb6(0x108))try{await setup[_0x282fb6(0xe1)](this,_0x282fb6(0xee),![],![]),this[_0x282fb6(0x119)](_0x1fdb5a[_0x282fb6(0x17e)],_0x1fdb5a[_0x282fb6(0xd1)],{'success':!![],'message':_0x282fb6(0x10f)},_0x1fdb5a[_0x282fb6(0x1e1)]);}catch(_0x1e5300){this[_0x282fb6(0xdf)]['error'](_0x282fb6(0x174)+_0x1e5300[_0x282fb6(0xf7)]),this[_0x282fb6(0x119)](_0x1fdb5a['from'],_0x1fdb5a[_0x282fb6(0xd1)],{'success':![],'message':_0x282fb6(0x1c3)+_0x1e5300[_0x282fb6(0xf7)]},_0x1fdb5a['callback']);}}}}}}}}}}}}}}}}async[a0_0x3d50c8(0x10c)](){const _0xb502b1=a0_0x3d50c8;try{const _0x426971=await this[_0xb502b1(0x19b)](setup[_0xb502b1(0x150)]);_0x426971&&_0x426971[_0xb502b1(0x185)]&&Object[_0xb502b1(0xeb)](setup[_0xb502b1(0xfd)])[_0xb502b1(0x16d)](_0x426971[_0xb502b1(0x185)])?this[_0xb502b1(0x1d9)]=_0x426971[_0xb502b1(0x185)]:(this[_0xb502b1(0x1d9)]=setup[_0xb502b1(0xfd)][_0xb502b1(0x141)],await this['setStateAsync'](setup[_0xb502b1(0x150)],{'val':setup[_0xb502b1(0xfd)][_0xb502b1(0x141)],'ack':!![]}));}catch(_0x2ba2e2){this[_0xb502b1(0x1d9)]=setup['SYSTEM_MODES'][_0xb502b1(0x141)];}}async[a0_0x3d50c8(0x1cc)](){const _0x51e628=a0_0x3d50c8;try{const _0x99ff72=this[_0x51e628(0x162)][_0x51e628(0xd6)]||[];let _0x5c8151=![];const _0x3dbf6b=[];for(const _0x123299 of _0x99ff72){try{const _0x594d56=await this[_0x51e628(0xed)](_0x123299);_0x594d56&&(_0x594d56['val']===!![]||_0x594d56['val']===_0x51e628(0x19f)||_0x594d56[_0x51e628(0x185)]===0x1)&&(_0x5c8151=!![],_0x3dbf6b[_0x51e628(0x145)](_0x123299));}catch(_0x512940){}}return await this[_0x51e628(0x19c)](_0x51e628(0x1e2),{'val':_0x3dbf6b[_0x51e628(0xf9)](',\x20'),'ack':!![]}),_0x5c8151&&(this[_0x51e628(0x14c)]&&(this[_0x51e628(0xdf)][_0x51e628(0x187)](_0x51e628(0x1b8)),recorder[_0x51e628(0x164)](this)),!this[_0x51e628(0x161)]&&this[_0x51e628(0x1d9)]===setup[_0x51e628(0xfd)][_0x51e628(0x141)]&&await recorder[_0x51e628(0x1d2)](this,!![])),_0x5c8151;}catch(_0x27dee2){return![];}}async[a0_0x3d50c8(0x19a)](){const _0x19e9e3=a0_0x3d50c8;this[_0x19e9e3(0xdf)][_0x19e9e3(0x1b3)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x19e9e3(0x15c)](this),this[_0x19e9e3(0x1b4)](),this[_0x19e9e3(0x133)](),this[_0x19e9e3(0x11b)]();}async['checkSolarCondition'](){const _0x898faf=a0_0x3d50c8,_0x1e4d1d=[_0x898faf(0xf8),'accuweather.0',_0x898faf(0x146)],_0x8b34a5=[_0x898faf(0x170),'Current.WeatherText',_0x898faf(0x1ac)];for(const _0xf74e62 of _0x1e4d1d){for(const _0x3e232b of _0x8b34a5){try{const _0x33f594=_0xf74e62+'.'+_0x3e232b,_0x2bee4a=await this[_0x898faf(0xed)](_0x33f594);if(_0x2bee4a&&_0x2bee4a['val']){const _0x2674a8=String(_0x2bee4a['val'])[_0x898faf(0x152)]();if(_0x2674a8[_0x898faf(0x16d)](_0x898faf(0x1b9))||_0x2674a8['includes'](_0x898faf(0x197))||_0x2674a8['includes'](_0x898faf(0xf3))||_0x2674a8[_0x898faf(0x16d)](_0x898faf(0xde))||_0x2674a8['includes']('heiter'))return!![];}}catch(_0x5721f9){}}}return![];}[a0_0x3d50c8(0x133)](){const _0xa80525=a0_0x3d50c8;if(!this['isProVersion'])return;try{this[_0xa80525(0xe2)](_0xa80525(0xda),(_0x37f61c,_0x2bb10a)=>{const _0x2eed16=_0xa80525;_0x2bb10a&&_0x2bb10a[_0x2eed16(0x185)]&&pythonBridge[_0x2eed16(0x11f)](this,_0x2eed16(0x120),{'sequences':JSON[_0x2eed16(0x142)](_0x2bb10a['val'])});});}catch(_0x4647af){}}async[a0_0x3d50c8(0x11b)](){const _0x311ebe=a0_0x3d50c8;if(!this[_0x311ebe(0x1cd)])return;try{const _0x59c22f=await recorder[_0x311ebe(0x16f)](this);if(_0x59c22f===null)return;const _0x253e88={},_0x57efa5={},_0x4ed7a7=this['config'][_0x311ebe(0x16a)]||[];for(const _0x3d8dda of _0x4ed7a7){if(_0x3d8dda[_0x311ebe(0x12c)]===_0x311ebe(0x15d)&&_0x3d8dda[_0x311ebe(0x11e)]){const _0x2dd4cc=this[_0x311ebe(0x1a9)][_0x3d8dda['id']];if(_0x2dd4cc!==undefined)_0x253e88[_0x3d8dda['location']]=_0x2dd4cc;if(_0x3d8dda[_0x311ebe(0x183)])_0x57efa5[_0x3d8dda[_0x311ebe(0x11e)]]=!![];}}const _0x4ca833=await this[_0x311ebe(0xdb)]();let _0x5a37c7={};try{const _0x1b2e13=await this[_0x311ebe(0x19b)]('analysis.energy.warmupTargets');if(_0x1b2e13&&_0x1b2e13[_0x311ebe(0x185)])_0x5a37c7=JSON['parse'](_0x1b2e13[_0x311ebe(0x185)]);}catch(_0x2014ac){}Object[_0x311ebe(0x1df)](_0x253e88)[_0x311ebe(0x1d5)]>0x0&&(pythonBridge[_0x311ebe(0x11f)](this,_0x311ebe(0x106),{'current_temps':_0x253e88,'t_out':_0x59c22f,'is_sunny':_0x4ca833,'solar_flags':_0x57efa5,'warmup_targets':_0x5a37c7}),pythonBridge[_0x311ebe(0x11f)](this,_0x311ebe(0x131),{'current_temps':_0x253e88,'t_out':_0x59c22f,'targets':{}}));}catch(_0x1f63d9){}}[a0_0x3d50c8(0x1b4)](){const _0x5b7d7a=a0_0x3d50c8;if(!this['rawEventLog']||this['rawEventLog']['length']===0x0)return;const _0x5b072b=new Array(0x60)[_0x5b7d7a(0x165)](0x0),_0x42445c=new Date()[_0x5b7d7a(0x136)](0x0,0x0,0x0,0x0);this[_0x5b7d7a(0xce)][_0x5b7d7a(0x1a7)](_0x29ec5b=>{const _0x88528f=_0x5b7d7a,_0x760b76=new Date(_0x29ec5b[_0x88528f(0xea)]);if(_0x760b76['getTime']()>=_0x42445c){const _0x33e331=_0x760b76[_0x88528f(0x1c1)](),_0x2feb7a=_0x760b76['getMinutes'](),_0x529022=_0x33e331*0x4+Math[_0x88528f(0xcd)](_0x2feb7a/0xf);if(_0x529022>=0x0&&_0x529022<0x60)_0x5b072b[_0x529022]++;}}),this['setStateAsync'](_0x5b7d7a(0x160),{'val':JSON[_0x5b7d7a(0x13f)](_0x5b072b),'ack':!![]});}['runPythonHealthCheck'](){const _0x3b36fd=a0_0x3d50c8;if(!this['dailyDigests']||this[_0x3b36fd(0xe9)][_0x3b36fd(0x1d5)]<0x2)return;const _0x32d7a0=this['dailyDigests']['map'](_0xe73703=>{const _0xcd3e24=_0x3b36fd,_0x168432=(_0xe73703['activityLevel']||'')[_0xcd3e24(0x152)]();return ACTIVITY_LEVEL_MAP[_0x168432]||0x32;});pythonBridge['send'](this,_0x3b36fd(0x180),{'values':_0x32d7a0,'tag':_0x3b36fd(0x121)});}}if(require['main']!==module)module[a0_0x3d50c8(0x100)]=_0x4a3b71=>new CogniLiving(_0x4a3b71);else new CogniLiving();