const a0_0x11eeea=a0_0x33a5;(function(_0x586ea2,_0x17630a){const _0x21ff29=a0_0x33a5,_0x3f3412=_0x586ea2();while(!![]){try{const _0x37632b=-parseInt(_0x21ff29(0x261))/0x1+parseInt(_0x21ff29(0x201))/0x2+-parseInt(_0x21ff29(0x1f9))/0x3+-parseInt(_0x21ff29(0x1b0))/0x4+-parseInt(_0x21ff29(0x1b8))/0x5*(-parseInt(_0x21ff29(0x1e3))/0x6)+parseInt(_0x21ff29(0x225))/0x7+parseInt(_0x21ff29(0x1fb))/0x8*(parseInt(_0x21ff29(0x180))/0x9);if(_0x37632b===_0x17630a)break;else _0x3f3412['push'](_0x3f3412['shift']());}catch(_0x24c7ba){_0x3f3412['push'](_0x3f3412['shift']());}}}(a0_0x4f68,0xe4262));function a0_0x4f68(){const _0x5bda31=['now','error','analysis.training.triggerComfort','getForeignObjectAsync','testApiKey','cogni-living','Instanz\x20nicht\x20gefunden','setPresence','analysis.automation.targetValue','apiKey','OPTIMIZE_ENERGY','initZombies','namespace','fill','sendNotification','./lib/topology','596757rESLuw','testContext','callback','Daten\x20nicht\x20verfÃ¼gbar','setState','scanForDevices','geminiApiKey','matrix','NORMAL','state','weatherunderground.0','version','stateChange','analysis.training.triggerTopology','enum.rooms.*','text','analysis.automation.triggerAction','getLtmData','Kein\x20API\x20Key\x20Ã¼bergeben','bind','analysis.training.triggerHealth','rawEventLog','push','PYTHON_EXE','genAI','triggerDailyDigest','location','Simulation\x20durch\x20Admin\x20(Test)','analysis.training.triggerEnergy','(((.+)+)+)+$','isProVersion','stringify','simulateEnergyMPC','getHours','analysis.energy.warmupTimes','Notification\x20Test\x20Failed:\x20','9AKbuyV','debug','activityLevel','unload','setupBriefingScheduler','values','initHistory','getGenerativeModel','split','info','analysis.automation.autoApply','licenseKey','instance','.data.table','runAutopilot','getStateAsync','getForeignObjectsAsync','entries','toString','trackerHeartbeat','enum','analysisTimer','updated','analysisHistory','motion','driftAnalysisTimer','Kein\x20Kalender-Adapter','LTM.rawEventLog','updateTopology','analysis.automation.description','SYSTEM_MODES','inactivityThresholdHours','analysis.training.status','./lib/automation','isPresent','analysis.automation.patternDetected','main','useWeather','NextHours.Location_1.Day_1.current.symbol_desc','subscribeStates','ltmJob','cancel','SYSTEM_DP_MODE','add','checkSolarCondition','Sec-Training\x20started...','daswetter.0','setObjectNotExistsAsync','5226756nGiqcS','sort','trackerEnabled','endsWith','setupModeResetScheduler','message','setHours','length','2965wtDfVd','pop','abortExitTimer','cogni-living\x20adapter\x20starting\x20(v','stopService','config','analysis.automation.targetId','command','Warm-Up\x20Time\x20(Minutes\x20to\x2021Â°C)','eventHistory','Party\x20Mode','SET_TOPOLOGY','heiter','.communicate.request','keys','party','@google/generative-ai','system.adapter.','parse','_calName','calendarInstance','Current.WeatherText','constructor','TRAIN_ENERGY','calendarName','Activity-Level','VACATION','onMessage','checkCalendarTriggers','executeAutomationAction','lastTrackerEventTime','analysis.energy.pinnForecast','./lib/installer','analysisInterval','analysis.topology.structure','isArray','exitGraceTimer','checkWifiPresence','devices','telegram','getEnums','response','toLowerCase','13350xhGcAt','onStateChange','startService','Verbunden','sensorLastValues','systemConfig','analysis.energy.ventilationAlerts','createAllObjects','exitTimer','Verbindung\x20erfolgreich!','./lib/dead_man','\x20min\x20ausbleiben.','application/json','ready','./lib/scheduler','Standard','object','accuweather.0','runBaselineDriftAnalysis','checkLicense','getTime','./lib/python_bridge','3848997WljqOA','modeResetJob','5207784MaDCVO','triggerBriefing','subscribeForeignStatesAsync','log','PINN\x20AI\x20Forecast','Test','1257938NXScpu','TRAIN_COMFORT','setupDriftAnalysisScheduler','startSystem','Aktiv\x20(','triggerEnergyPrediction','LTM.trainingData.sequences','presenceDevices','loadSystemMode','getOutsideTemperatureNumeric','./lib/scanner','some','json','sendMorningBriefing','notifyTelegramInstance','system.mode','Gemini\x20Init\x20Error:\x20','sendTo','simulateButler','forEach','val','analysis.energy.mpcActive','runGeminiAnalysis','checkThermostats','includes','getForeignStateAsync','enum.functions.*','minDaysForBaseline','PREDICT_ENERGY','geminiModel','isSolar','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','guest','temperature','isGracePeriodActive','.system.mode','10651032ImfYpT','setupLtmScheduler','\x20Tage)','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','from','analysis.training.triggerSecurity','send','common','klar','name','minutes_safe','floor','find','sonn','communicate.request','setStateAsync','lastAlertState','updateHealthVector','@iobroker/adapter-core','ack','Guest\x20Mode','getState','dismissAutomation','dependencyInstallInProgress','briefingJob','initSystemConfig','apply','join','string','exports','type','getOverviewData','scanThermostats','LTM.trainingData.thermodynamics','./lib/ai_agent','dailyDigests',')\x20-\x20Phase\x20D\x20(Stone\x20Soup\x20Tracker)','notifyTelegramEnabled','LTM.triggerDailyDigest','TRAIN_HEALTH','./lib/recorder','triggerGaitAnalysis','timestamp','currentSystemMode'];a0_0x4f68=function(){return _0x5bda31;};return a0_0x4f68();}const a0_0x49e099=(function(){let _0x53990f=!![];return function(_0x2eb15d,_0x35ab16){const _0x50a647=_0x53990f?function(){const _0x28f42f=a0_0x33a5;if(_0x35ab16){const _0x342f6c=_0x35ab16[_0x28f42f(0x23f)](_0x2eb15d,arguments);return _0x35ab16=null,_0x342f6c;}}:function(){};return _0x53990f=![],_0x50a647;};}()),a0_0x116bc2=a0_0x49e099(this,function(){const _0x6f4b8e=a0_0x33a5;return a0_0x116bc2['toString']()['search'](_0x6f4b8e(0x179))[_0x6f4b8e(0x192)]()[_0x6f4b8e(0x1ce)](a0_0x116bc2)['search'](_0x6f4b8e(0x179));});a0_0x116bc2();'use strict';function a0_0x33a5(_0x49dc4c,_0x38ad1f){const _0x25a9e3=a0_0x4f68();return a0_0x33a5=function(_0x116bc2,_0x49e099){_0x116bc2=_0x116bc2-0x161;let _0x4f6873=_0x25a9e3[_0x116bc2];return _0x4f6873;},a0_0x33a5(_0x49dc4c,_0x38ad1f);}const utils=require(a0_0x11eeea(0x237)),{GoogleGenerativeAI}=require(a0_0x11eeea(0x1c8)),installer=require(a0_0x11eeea(0x1d8)),scanner=require(a0_0x11eeea(0x20b)),schedulers=require(a0_0x11eeea(0x1f1)),topology=require(a0_0x11eeea(0x260)),setup=require('./lib/setup'),recorder=require(a0_0x11eeea(0x24d)),pythonBridge=require(a0_0x11eeea(0x1f8)),aiAgent=require(a0_0x11eeea(0x247)),deadMan=require(a0_0x11eeea(0x1ed)),automation=require(a0_0x11eeea(0x1a1)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x3e2aaa){const _0x3aa00e=a0_0x11eeea;super({..._0x3e2aaa,'name':_0x3aa00e(0x256)}),this[_0x3aa00e(0x1c1)]=[],this[_0x3aa00e(0x197)]=[],this['rawEventLog']=[],this['dailyDigests']=[],this[_0x3aa00e(0x1e7)]={},this[_0x3aa00e(0x1e8)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x3aa00e(0x1a2)]=!![],this[_0x3aa00e(0x1eb)]=null,this[_0x3aa00e(0x1dc)]=null,this[_0x3aa00e(0x223)]=![],this['genAI']=null,this[_0x3aa00e(0x21e)]=null,this[_0x3aa00e(0x250)]=setup[_0x3aa00e(0x19e)][_0x3aa00e(0x164)],this['isProVersion']=![],this[_0x3aa00e(0x235)]=![],this['analysisTimer']=null,this[_0x3aa00e(0x1a8)]=null,this[_0x3aa00e(0x1fa)]=null,this[_0x3aa00e(0x199)]=null,this[_0x3aa00e(0x23d)]=null,this[_0x3aa00e(0x23c)]=![],this[_0x3aa00e(0x193)]=null,this[_0x3aa00e(0x1d6)]=Date['now'](),this['on'](_0x3aa00e(0x1f0),this['onReady']['bind'](this)),this['on'](_0x3aa00e(0x168),this[_0x3aa00e(0x1e4)][_0x3aa00e(0x16f)](this)),this['on'](_0x3aa00e(0x183),this['onUnload'][_0x3aa00e(0x16f)](this)),this['on'](_0x3aa00e(0x1b5),this[_0x3aa00e(0x1d3)][_0x3aa00e(0x16f)](this));}async['onReady'](){const _0x5f01ea=a0_0x11eeea;this['log'][_0x5f01ea(0x189)](_0x5f01ea(0x1bb)+this[_0x5f01ea(0x167)]+_0x5f01ea(0x249));if(!installer['checkAndInstall'](this,()=>this[_0x5f01ea(0x204)]()))return;}async[a0_0x11eeea(0x204)](){const _0x305ced=a0_0x11eeea;await setup[_0x305ced(0x25c)](this);try{this['isProVersion']=await setup[_0x305ced(0x1f6)](this[_0x305ced(0x1bd)][_0x305ced(0x18b)]);}catch(_0x4ff3ab){}if(!this[_0x305ced(0x1bd)][_0x305ced(0x19f)]||this['config']['inactivityThresholdHours']<0.1)this['config']['inactivityThresholdHours']=0xc;await setup[_0x305ced(0x186)](this),await setup[_0x305ced(0x23e)](this);if(this[_0x305ced(0x1bd)]['geminiApiKey'])try{this[_0x305ced(0x174)]=new GoogleGenerativeAI(this[_0x305ced(0x1bd)][_0x305ced(0x162)]),this[_0x305ced(0x21e)]=this[_0x305ced(0x174)][_0x305ced(0x187)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x305ced(0x1ef)}}),this[_0x305ced(0x1fe)][_0x305ced(0x189)]('Gemini\x20AI\x20initialized.');}catch(_0x3219f4){this['log']['error'](_0x305ced(0x211)+_0x3219f4['message']);}await setup[_0x305ced(0x1ea)](this),await this[_0x305ced(0x209)](),await this[_0x305ced(0x1af)](_0x305ced(0x1d7),{'type':'state','common':{'name':_0x305ced(0x1ff),'type':_0x305ced(0x241),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x305ced(0x1af)](_0x305ced(0x1e9),{'type':_0x305ced(0x165),'common':{'name':'Active\x20Ventilation\x20Alerts','type':_0x305ced(0x241),'role':_0x305ced(0x20d),'read':!![],'write':![]},'native':{}}),await this[_0x305ced(0x1af)](_0x305ced(0x17e),{'type':_0x305ced(0x165),'common':{'name':_0x305ced(0x1c0),'type':'string','role':_0x305ced(0x20d),'read':!![],'write':![]},'native':{}});try{const _0x2d98c9=await this[_0x305ced(0x18f)](_0x305ced(0x19b));if(_0x2d98c9&&_0x2d98c9['val'])this[_0x305ced(0x171)]=JSON[_0x305ced(0x1ca)](_0x2d98c9['val']);}catch(_0x59c32d){this[_0x305ced(0x171)]=[];}try{const _0x4a20bb=await this[_0x305ced(0x18f)]('LTM.dailyDigests');if(_0x4a20bb&&_0x4a20bb[_0x305ced(0x215)])this[_0x305ced(0x248)]=JSON['parse'](_0x4a20bb[_0x305ced(0x215)]);}catch(_0x432b51){this[_0x305ced(0x248)]=[];}const _0x266e97=this[_0x305ced(0x248)][_0x305ced(0x1b7)]>=(this[_0x305ced(0x1bd)][_0x305ced(0x21c)]||0x7)?_0x305ced(0x205)+this[_0x305ced(0x248)]['length']+_0x305ced(0x227):'Lernphase\x20('+this[_0x305ced(0x248)]['length']+'/'+(this['config'][_0x305ced(0x21c)]||0x7)+')';await this['setStateAsync']('LTM.baselineStatus',{'val':_0x266e97,'ack':!![]}),this[_0x305ced(0x1a7)]('analysis.trigger'),this[_0x305ced(0x1a7)](_0x305ced(0x24b)),this[_0x305ced(0x1a7)](_0x305ced(0x210)),this[_0x305ced(0x1a7)]('analysis.triggerBriefing'),this[_0x305ced(0x1a7)](_0x305ced(0x16c)),this['subscribeStates'](_0x305ced(0x18a)),this[_0x305ced(0x1a7)](_0x305ced(0x22a)),this[_0x305ced(0x1a7)](_0x305ced(0x170)),this[_0x305ced(0x1a7)](_0x305ced(0x178)),this['subscribeStates'](_0x305ced(0x253)),this[_0x305ced(0x1a7)](_0x305ced(0x169)),this[_0x305ced(0x1a7)](_0x305ced(0x216));const _0x42b195=this[_0x305ced(0x1bd)][_0x305ced(0x1de)];if(_0x42b195)for(const _0x2d6683 of _0x42b195){await this[_0x305ced(0x1fd)](_0x2d6683['id']);}const _0x4259ad=this[_0x305ced(0x1bd)][_0x305ced(0x208)];if(_0x4259ad)for(const _0x128275 of _0x4259ad){await this[_0x305ced(0x1fd)](_0x128275);}if(this[_0x305ced(0x1bd)][_0x305ced(0x24a)]&&this[_0x305ced(0x1bd)][_0x305ced(0x20f)])await this[_0x305ced(0x1fd)](this[_0x305ced(0x1bd)][_0x305ced(0x20f)]+_0x305ced(0x1c5));setTimeout(()=>this[_0x305ced(0x1dd)](),0x1388);if(this[_0x305ced(0x195)])clearInterval(this[_0x305ced(0x195)]);const _0x3a2728=this['config'][_0x305ced(0x1d9)]||0xf;_0x3a2728>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x2dfa0e=_0x305ced;this[_0x2dfa0e(0x18e)](),automation[_0x2dfa0e(0x1d4)](this);},_0x3a2728*0x3c*0x3e8)),setTimeout(()=>automation['checkCalendarTriggers'](this),0x2710),this['config'][_0x305ced(0x1b2)]!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0x447784=_0x305ced;if(this[_0x447784(0x17a)]){const _0xe3609d=Date[_0x447784(0x251)](),_0x8637f9=this[_0x447784(0x1d6)]||_0xe3609d,_0x57de45=(_0xe3609d-_0x8637f9)/0x3e8;_0x57de45>0x2&&(this[_0x447784(0x1d6)]=_0xe3609d,pythonBridge[_0x447784(0x22b)](this,'TRACK_EVENT',{'room':null,'dt':_0x57de45}));}},0xbb8)),schedulers[_0x305ced(0x226)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers[_0x305ced(0x1b4)](this),schedulers[_0x305ced(0x203)](this,()=>aiAgent[_0x305ced(0x1f5)](this)),schedulers[_0x305ced(0x184)](this,()=>aiAgent[_0x305ced(0x20e)](this)),pythonBridge[_0x305ced(0x1e5)](this,installer[_0x305ced(0x173)]),setTimeout(async()=>{const _0x209fd9=_0x305ced;await topology[_0x209fd9(0x19c)](this);try{const _0x4577dd=await this[_0x209fd9(0x18f)](_0x209fd9(0x1da));if(_0x4577dd&&_0x4577dd['val'])pythonBridge['send'](this,_0x209fd9(0x1c3),JSON[_0x209fd9(0x1ca)](_0x4577dd[_0x209fd9(0x215)]));}catch(_0x5d0b19){}this['runPythonHealthCheck'](),this[_0x209fd9(0x24e)](),this[_0x209fd9(0x206)](),this['updateHealthVector']();},0x1388);}['onUnload'](_0x15a046){const _0x364a84=a0_0x11eeea;if(this[_0x364a84(0x195)])clearInterval(this[_0x364a84(0x195)]);if(this[_0x364a84(0x199)])clearInterval(this[_0x364a84(0x199)]);if(this['trackerHeartbeat'])clearInterval(this[_0x364a84(0x193)]);if(this[_0x364a84(0x1a8)])this[_0x364a84(0x1a8)][_0x364a84(0x1a9)]();if(this[_0x364a84(0x1fa)])this[_0x364a84(0x1fa)][_0x364a84(0x1a9)]();if(this[_0x364a84(0x23d)])this[_0x364a84(0x23d)]['cancel']();recorder[_0x364a84(0x1ba)](this),pythonBridge[_0x364a84(0x1bc)](this),_0x15a046();}async[a0_0x11eeea(0x1e4)](_0x385bc7,_0x3d1b25){const _0x200ba1=a0_0x11eeea;if(!_0x3d1b25||this[_0x200ba1(0x23c)])return;if(_0x385bc7[_0x200ba1(0x219)](_0x200ba1(0x1df))&&_0x385bc7[_0x200ba1(0x1b3)](_0x200ba1(0x233))&&_0x3d1b25[_0x200ba1(0x215)])return;if(_0x385bc7===this[_0x200ba1(0x25d)]+_0x200ba1(0x224)){if(_0x3d1b25[_0x200ba1(0x215)]&&Object[_0x200ba1(0x185)](setup[_0x200ba1(0x19e)])['includes'](_0x3d1b25[_0x200ba1(0x215)])){this[_0x200ba1(0x250)]=_0x3d1b25['val'];if(_0x3d1b25[_0x200ba1(0x215)]===setup[_0x200ba1(0x19e)][_0x200ba1(0x1d2)])await recorder[_0x200ba1(0x258)](this,![]);else await recorder['setPresence'](this,!![]);if(this['isProVersion']){let _0x17b467=![],_0x516120=0x0,_0x3511e4='manual';if(this['currentSystemMode']===_0x200ba1(0x1c7))_0x17b467=!![],_0x516120=0x168,_0x3511e4=_0x200ba1(0x1c2);else this[_0x200ba1(0x250)]===_0x200ba1(0x221)&&(_0x17b467=!![],_0x516120=0x5a0,_0x3511e4=_0x200ba1(0x239));pythonBridge[_0x200ba1(0x22b)](this,'SET_LEARNING_MODE',{'active':_0x17b467,'duration':_0x516120,'label':_0x3511e4}),await this[_0x200ba1(0x234)]('analysis.security.learningStatus',{'val':JSON[_0x200ba1(0x17b)]({'active':_0x17b467,'label':_0x3511e4,'timestamp':Date[_0x200ba1(0x251)]()}),'ack':!![]});}}if(!_0x3d1b25['ack'])this['setState'](_0x385bc7,{'val':this[_0x200ba1(0x250)],'ack':!![]});return;}if(!_0x3d1b25[_0x200ba1(0x238)]){_0x385bc7[_0x200ba1(0x219)]('analysis.trigger')&&_0x3d1b25[_0x200ba1(0x215)]&&(this[_0x200ba1(0x265)](_0x385bc7,{'val':![],'ack':!![]}),aiAgent[_0x200ba1(0x217)](this));if(_0x385bc7[_0x200ba1(0x219)](_0x200ba1(0x175))&&_0x3d1b25[_0x200ba1(0x215)]){this[_0x200ba1(0x265)](_0x385bc7,{'val':![],'ack':!![]});if(this[_0x200ba1(0x17a)])aiAgent['createDailyDigest'](this,pythonBridge);}_0x385bc7['includes'](_0x200ba1(0x1fc))&&_0x3d1b25[_0x200ba1(0x215)]&&(this[_0x200ba1(0x265)](_0x385bc7,{'val':![],'ack':!![]}),aiAgent[_0x200ba1(0x20e)](this));_0x385bc7[_0x200ba1(0x219)]('automation.triggerAction')&&_0x3d1b25[_0x200ba1(0x215)]&&(this[_0x200ba1(0x265)](_0x385bc7,{'val':![],'ack':!![]}),aiAgent[_0x200ba1(0x1d5)](this));if(_0x385bc7[_0x200ba1(0x219)](_0x200ba1(0x22a))&&_0x3d1b25[_0x200ba1(0x215)]){this[_0x200ba1(0x265)](_0x385bc7,{'val':![],'ack':!![]});if(this[_0x200ba1(0x17a)])try{const _0x412857=await this[_0x200ba1(0x18f)](_0x200ba1(0x207));if(_0x412857&&_0x412857['val']){const _0xa6d120=JSON['parse'](_0x412857[_0x200ba1(0x215)]);this[_0x200ba1(0x234)](_0x200ba1(0x1a0),{'val':_0x200ba1(0x1ad),'ack':!![]}),pythonBridge[_0x200ba1(0x22b)](this,'TRAIN_SECURITY',{'sequences':_0xa6d120});}}catch(_0x533095){}}if(_0x385bc7[_0x200ba1(0x219)]('analysis.training.triggerHealth')&&_0x3d1b25[_0x200ba1(0x215)]){this[_0x200ba1(0x265)](_0x385bc7,{'val':![],'ack':!![]});if(this[_0x200ba1(0x17a)])try{const _0x181d2b=await this[_0x200ba1(0x18f)]('LTM.dailyDigests');if(_0x181d2b&&_0x181d2b['val'])pythonBridge[_0x200ba1(0x22b)](this,_0x200ba1(0x24c),{'digests':JSON[_0x200ba1(0x1ca)](_0x181d2b[_0x200ba1(0x215)])});}catch(_0x25252b){}}if(_0x385bc7[_0x200ba1(0x219)](_0x200ba1(0x178))&&_0x3d1b25['val']){this[_0x200ba1(0x265)](_0x385bc7,{'val':![],'ack':!![]});if(this[_0x200ba1(0x17a)])try{const _0xf5b651=await this[_0x200ba1(0x18f)](_0x200ba1(0x246));if(_0xf5b651&&_0xf5b651[_0x200ba1(0x215)])pythonBridge[_0x200ba1(0x22b)](this,_0x200ba1(0x1cf),{'points':JSON[_0x200ba1(0x1ca)](_0xf5b651[_0x200ba1(0x215)])});}catch(_0x59144a){}}if(_0x385bc7['includes']('analysis.training.triggerComfort')&&_0x3d1b25['val']){this['setState'](_0x385bc7,{'val':![],'ack':!![]});if(this[_0x200ba1(0x17a)])try{const _0x295b4c=await this[_0x200ba1(0x18f)]('LTM.rawEventLog');if(_0x295b4c&&_0x295b4c[_0x200ba1(0x215)])pythonBridge[_0x200ba1(0x22b)](this,_0x200ba1(0x202),{'events':JSON[_0x200ba1(0x1ca)](_0x295b4c['val'])});}catch(_0x5035d7){}}_0x385bc7['includes'](_0x200ba1(0x169))&&_0x3d1b25[_0x200ba1(0x215)]&&(this[_0x200ba1(0x265)](_0x385bc7,{'val':![],'ack':!![]}),topology['updateTopology'](this));return;}if(this['config']['presenceDevices']&&this['config'][_0x200ba1(0x208)][_0x200ba1(0x219)](_0x385bc7)){await this['checkWifiPresence']();return;}const _0x394eb9=(this[_0x200ba1(0x1bd)][_0x200ba1(0x1de)]||[])[_0x200ba1(0x231)](_0x5b0fb0=>_0x5b0fb0['id']===_0x385bc7);if(_0x394eb9){const _0x2ce1a1=await recorder['processSensorEvent'](this,_0x385bc7,_0x3d1b25,_0x394eb9);_0x2ce1a1&&_0x2ce1a1[_0x200ba1(0x243)]===_0x200ba1(0x198)&&_0x2ce1a1['location']&&this[_0x200ba1(0x17a)]&&deadMan['updateLocation'](this,_0x2ce1a1[_0x200ba1(0x176)]);}}async[a0_0x11eeea(0x1d3)](_0x7e36e4){const _0x37bb13=a0_0x11eeea;if(typeof _0x7e36e4==='object'&&_0x7e36e4[_0x37bb13(0x1b5)]){if(_0x7e36e4[_0x37bb13(0x1bf)]===_0x37bb13(0x218))try{const _0x561556=await automation[_0x37bb13(0x245)](this);this[_0x37bb13(0x212)](_0x7e36e4['from'],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![],'results':_0x561556},_0x7e36e4[_0x37bb13(0x263)]);}catch(_0x564dd7){this['sendTo'](_0x7e36e4['from'],_0x7e36e4[_0x37bb13(0x1bf)],{'success':![],'error':_0x564dd7[_0x37bb13(0x1b5)]},_0x7e36e4['callback']);}else{if(_0x7e36e4[_0x37bb13(0x1bf)]===_0x37bb13(0x17c))try{const {current_temps:_0x5e8257,t_out:_0x5156b3,targets:_0x114f32,t_forecast:_0x2aed2b}=_0x7e36e4['message'],_0x4a9c22=[];let _0x24fdd9={};try{const _0x59083d=await this[_0x37bb13(0x18f)]('analysis.energy.insulationScore');if(_0x59083d&&_0x59083d['val']){const _0x31fdf6=JSON[_0x37bb13(0x1ca)](_0x59083d[_0x37bb13(0x215)]);_0x24fdd9=_0x31fdf6['scores']||_0x31fdf6;}}catch(_0x1ff8ea){}const _0x176191=_0x2aed2b!==undefined&&_0x2aed2b!==null?(_0x5156b3+_0x2aed2b)/0x2:_0x5156b3;for(const [_0x19161a,_0x5499c3]of Object[_0x37bb13(0x191)](_0x5e8257)){const _0x1be291=_0x114f32[_0x19161a]||0x15;if(_0x5499c3<=_0x1be291)continue;let _0x34ebdd=_0x24fdd9[_0x19161a]||-0.5;if(_0x34ebdd>=0x0)_0x34ebdd=-0.5;const _0x16651a=Math['abs'](_0x34ebdd),_0x3e4969=_0x5499c3-_0x1be291;let _0x3cec86=Math[_0x37bb13(0x230)](_0x3e4969/_0x16651a*0x3c);const _0x39888d=_0x5499c3-_0x5156b3,_0x42f622=_0x5499c3-_0x176191;if(_0x42f622!==0x0&&_0x39888d!==0x0){const _0x2d11a2=_0x39888d/_0x42f622;_0x3cec86=Math[_0x37bb13(0x230)](_0x3cec86*_0x2d11a2);}if(_0x3cec86>0xf){if(_0x3cec86>0xf0)_0x3cec86=0xf0;_0x4a9c22[_0x37bb13(0x172)]({'room':_0x19161a,'minutes_safe':_0x3cec86,'target':_0x1be291,'current':_0x5499c3,'savings_msg':'Heizung\x20kann\x20'+_0x3cec86+_0x37bb13(0x1ee)});}}_0x4a9c22[_0x37bb13(0x1b1)]((_0x227e8c,_0x28a2c3)=>_0x28a2c3[_0x37bb13(0x22f)]-_0x227e8c['minutes_safe']),this['sendTo'](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![],'proposals':_0x4a9c22},_0x7e36e4[_0x37bb13(0x263)]);}catch(_0x36e6c6){this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':![],'error':_0x36e6c6[_0x37bb13(0x1b5)]},_0x7e36e4['callback']);}else{if(_0x7e36e4[_0x37bb13(0x1bf)]===_0x37bb13(0x23b))await this[_0x37bb13(0x234)]('analysis.automation.patternDetected',{'val':![],'ack':!![]}),await this[_0x37bb13(0x234)](_0x37bb13(0x19d),{'val':'','ack':!![]}),await this[_0x37bb13(0x234)](_0x37bb13(0x1be),{'val':'','ack':!![]}),this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4['command'],{'success':!![]},_0x7e36e4[_0x37bb13(0x263)]);else{if(_0x7e36e4[_0x37bb13(0x1bf)]===_0x37bb13(0x213)){const {targetId:_0x552e54,targetValue:_0x2abb5e}=_0x7e36e4[_0x37bb13(0x1b5)];await this[_0x37bb13(0x234)](_0x37bb13(0x1a3),{'val':!![],'ack':!![]}),await this[_0x37bb13(0x234)](_0x37bb13(0x19d),{'val':_0x37bb13(0x177),'ack':!![]}),await this[_0x37bb13(0x234)](_0x37bb13(0x1be),{'val':_0x552e54,'ack':!![]}),await this['setStateAsync'](_0x37bb13(0x259),{'val':String(_0x2abb5e),'ack':!![]}),this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![]},_0x7e36e4['callback']);}else{if(_0x7e36e4['command']===_0x37bb13(0x255))try{const _0x51aac5=_0x7e36e4[_0x37bb13(0x1b5)][_0x37bb13(0x25a)];if(!_0x51aac5)throw new Error(_0x37bb13(0x16e));const _0x1c21f3=new GoogleGenerativeAI(_0x51aac5),_0x136895=_0x1c21f3[_0x37bb13(0x187)]({'model':GEMINI_MODEL}),_0x295caa=await _0x136895['generateContent'](_0x37bb13(0x200)),_0x385cc4=await _0x295caa[_0x37bb13(0x1e1)];if(_0x385cc4[_0x37bb13(0x16b)]())this['sendTo'](_0x7e36e4['from'],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![],'message':_0x37bb13(0x1ec)},_0x7e36e4['callback']);else throw new Error('Keine\x20Antwort\x20von\x20Gemini');}catch(_0x328e64){this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':![],'message':_0x328e64[_0x37bb13(0x1b5)]},_0x7e36e4[_0x37bb13(0x263)]);}else{if(_0x7e36e4[_0x37bb13(0x1bf)]==='scanDevices')try{const _0x465efe=await scanner[_0x37bb13(0x161)](this,_0x7e36e4['message']||{});this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![],'devices':_0x465efe},_0x7e36e4[_0x37bb13(0x263)]);}catch(_0x3cdef4){this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':![],'error':_0x3cdef4[_0x37bb13(0x1b5)]},_0x7e36e4[_0x37bb13(0x263)]);}else{if(_0x7e36e4[_0x37bb13(0x1bf)]==='updateTopologyMatrix')try{const {matrix:_0x3e19b5}=_0x7e36e4[_0x37bb13(0x1b5)],_0x59331a=await this[_0x37bb13(0x18f)](_0x37bb13(0x1da));if(_0x59331a&&_0x59331a[_0x37bb13(0x215)]){const _0x44fb18=JSON[_0x37bb13(0x1ca)](_0x59331a['val']);_0x44fb18[_0x37bb13(0x163)]=_0x3e19b5,_0x44fb18[_0x37bb13(0x196)]=Date['now'](),await this[_0x37bb13(0x234)](_0x37bb13(0x1da),{'val':JSON[_0x37bb13(0x17b)](_0x44fb18),'ack':!![]}),pythonBridge[_0x37bb13(0x22b)](this,_0x37bb13(0x1c3),_0x44fb18);}this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![]},_0x7e36e4['callback']);}catch(_0x5b444a){this[_0x37bb13(0x1fe)][_0x37bb13(0x252)](_0x5b444a);}else{if(_0x7e36e4[_0x37bb13(0x1bf)]===_0x37bb13(0x16d))this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4['command'],{'success':!![],'dailyDigests':this['dailyDigests']||[],'analysisHistory':this['analysisHistory']||[]},_0x7e36e4[_0x37bb13(0x263)]);else{if(_0x7e36e4['command']===_0x37bb13(0x244)){const _0x4540ab=this[_0x37bb13(0x248)][_0x37bb13(0x1b7)],_0x41003c=new Array(0x18)[_0x37bb13(0x25e)](0x0),_0x360ce8=new Date()[_0x37bb13(0x1b6)](0x0,0x0,0x0,0x0);this['eventHistory']&&this['eventHistory'][_0x37bb13(0x214)](_0xf946a8=>{const _0x3791c2=_0x37bb13;if(_0xf946a8[_0x3791c2(0x24f)]>=_0x360ce8){const _0x150b06=new Date(_0xf946a8[_0x3791c2(0x24f)])[_0x3791c2(0x17d)]();if(_0x150b06>=0x0&&_0x150b06<0x18)_0x41003c[_0x150b06]++;}});let _0x3143ad=![],_0xbb3d6b='',_0x194bc2='',_0x27a165='';try{const _0x1f4c16=await this['getStateAsync'](_0x37bb13(0x1a3));if(_0x1f4c16&&_0x1f4c16[_0x37bb13(0x215)]){_0x3143ad=!![];const _0x2ef7a1=await this[_0x37bb13(0x18f)](_0x37bb13(0x19d));_0xbb3d6b=_0x2ef7a1?_0x2ef7a1[_0x37bb13(0x215)]:'';const _0x14c6ca=await this[_0x37bb13(0x18f)](_0x37bb13(0x1be));_0x194bc2=_0x14c6ca?_0x14c6ca[_0x37bb13(0x215)]:'';const _0x52939c=await this['getStateAsync']('analysis.automation.targetValue');_0x27a165=_0x52939c?_0x52939c[_0x37bb13(0x215)]:'';}}catch(_0x2488e7){}const _0x4f8a82=await this[_0x37bb13(0x1ac)](),_0x21cb0a=(this['config'][_0x37bb13(0x1de)]||[])[_0x37bb13(0x20c)](_0x31de8c=>_0x31de8c[_0x37bb13(0x21f)]),_0x24bc57=_0x4f8a82&&_0x21cb0a;this['sendTo'](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![],'eventHistory':this[_0x37bb13(0x1c1)]['slice'](0x0,0xf),'stats':{'digestCount':_0x4540ab,'isPresent':this[_0x37bb13(0x1a2)],'hourlyActivity':_0x41003c,'solarActive':_0x24bc57},'automation':{'detected':_0x3143ad,'description':_0xbb3d6b,'targetId':_0x194bc2,'targetValue':_0x27a165}},_0x7e36e4['callback']);}else{if(_0x7e36e4[_0x37bb13(0x1bf)]===_0x37bb13(0x1e0)){const _0x296eaf=await this[_0x37bb13(0x190)](_0x37bb13(0x21b),_0x37bb13(0x194)),_0x59f625=[];if(_0x296eaf)for(const _0x27d21f in _0x296eaf){const _0x1835a3=_0x296eaf[_0x27d21f],_0x5e4a7f=(_0x1835a3[_0x37bb13(0x22c)]&&typeof _0x1835a3[_0x37bb13(0x22c)]['name']===_0x37bb13(0x1f3)?_0x1835a3[_0x37bb13(0x22c)][_0x37bb13(0x22e)]['de']:_0x1835a3['common'][_0x37bb13(0x22e)])||_0x1835a3[_0x37bb13(0x22c)][_0x37bb13(0x22e)];_0x59f625[_0x37bb13(0x172)]({'id':_0x27d21f,'name':_0x5e4a7f});}const _0x7040a2=await this['getForeignObjectsAsync'](_0x37bb13(0x16a),_0x37bb13(0x194)),_0x55c741=[];if(_0x7040a2)for(const _0x3cdc88 in _0x7040a2){const _0x4c627d=_0x7040a2[_0x3cdc88],_0x273106=(_0x4c627d[_0x37bb13(0x22c)]&&typeof _0x4c627d[_0x37bb13(0x22c)][_0x37bb13(0x22e)]==='object'?_0x4c627d[_0x37bb13(0x22c)][_0x37bb13(0x22e)]['de']:_0x4c627d[_0x37bb13(0x22c)][_0x37bb13(0x22e)])||_0x3cdc88[_0x37bb13(0x188)]('.')[_0x37bb13(0x1b9)]();_0x55c741[_0x37bb13(0x172)](_0x273106);}this[_0x37bb13(0x212)](_0x7e36e4['from'],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![],'enums':_0x59f625,'rooms':_0x55c741},_0x7e36e4[_0x37bb13(0x263)]);}else{if(_0x7e36e4[_0x37bb13(0x1bf)]===_0x37bb13(0x262))try{let _0x10c530='Kein\x20Wetter-Adapter',_0x937617=_0x37bb13(0x19a);if(this[_0x37bb13(0x1bd)][_0x37bb13(0x1a5)]){const _0x3f266f=await recorder[_0x37bb13(0x20a)](this);_0x10c530=_0x3f266f!==null?_0x3f266f+'Â°C':_0x37bb13(0x264);}if(this['config'][_0x37bb13(0x1cc)]){const _0x4a69e4=await this[_0x37bb13(0x254)](_0x37bb13(0x1c9)+this['config'][_0x37bb13(0x1cc)]);_0x937617=_0x4a69e4?_0x37bb13(0x1e6):_0x37bb13(0x257);}this['sendTo'](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![],'weather':_0x10c530,'calendar':_0x937617},_0x7e36e4[_0x37bb13(0x263)]);}catch(_0x2b1cf0){this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':![],'error':_0x2b1cf0[_0x37bb13(0x1b5)]},_0x7e36e4[_0x37bb13(0x263)]);}else{if(_0x7e36e4['command']==='getCalendarNames')try{const _0x283adc=_0x7e36e4[_0x37bb13(0x1b5)][_0x37bb13(0x18c)],_0x2a8a3a=await this[_0x37bb13(0x21a)](_0x283adc+_0x37bb13(0x18d));let _0x5ae342=[];if(_0x2a8a3a&&_0x2a8a3a['val']){const _0x1ab8ef=JSON[_0x37bb13(0x1ca)](_0x2a8a3a['val']),_0x5de350=new Set();Array[_0x37bb13(0x1db)](_0x1ab8ef)&&_0x1ab8ef['forEach'](_0x46afa0=>{const _0x255732=_0x37bb13;if(_0x46afa0[_0x255732(0x1cb)])_0x5de350[_0x255732(0x1ab)](_0x46afa0[_0x255732(0x1cb)]);else{if(_0x46afa0[_0x255732(0x1d0)])_0x5de350['add'](_0x46afa0[_0x255732(0x1d0)]);}}),_0x5ae342=Array[_0x37bb13(0x229)](_0x5de350)[_0x37bb13(0x1b1)]();}if(_0x5ae342[_0x37bb13(0x1b7)]===0x0)_0x5ae342=[_0x37bb13(0x1f2)];this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![],'names':_0x5ae342},_0x7e36e4[_0x37bb13(0x263)]);}catch(_0x1b5e09){this[_0x37bb13(0x212)](_0x7e36e4['from'],_0x7e36e4[_0x37bb13(0x1bf)],{'success':![],'error':_0x1b5e09['message']},_0x7e36e4[_0x37bb13(0x263)]);}else{if(_0x7e36e4[_0x37bb13(0x1bf)]==='testNotification')try{await setup[_0x37bb13(0x25f)](this,_0x37bb13(0x220),![],![]),this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':!![],'message':'Gesendet'},_0x7e36e4[_0x37bb13(0x263)]);}catch(_0x2284db){this[_0x37bb13(0x1fe)][_0x37bb13(0x252)](_0x37bb13(0x17f)+_0x2284db[_0x37bb13(0x1b5)]),this[_0x37bb13(0x212)](_0x7e36e4[_0x37bb13(0x229)],_0x7e36e4[_0x37bb13(0x1bf)],{'success':![],'message':'Fehler:\x20'+_0x2284db[_0x37bb13(0x1b5)]},_0x7e36e4[_0x37bb13(0x263)]);}}}}}}}}}}}}}}}async[a0_0x11eeea(0x209)](){const _0x1c9ae2=a0_0x11eeea;try{const _0x46a7b2=await this[_0x1c9ae2(0x18f)](setup['SYSTEM_DP_MODE']);_0x46a7b2&&_0x46a7b2[_0x1c9ae2(0x215)]&&Object[_0x1c9ae2(0x185)](setup[_0x1c9ae2(0x19e)])[_0x1c9ae2(0x219)](_0x46a7b2[_0x1c9ae2(0x215)])?this[_0x1c9ae2(0x250)]=_0x46a7b2['val']:(this[_0x1c9ae2(0x250)]=setup[_0x1c9ae2(0x19e)]['NORMAL'],await this[_0x1c9ae2(0x234)](setup[_0x1c9ae2(0x1aa)],{'val':setup[_0x1c9ae2(0x19e)][_0x1c9ae2(0x164)],'ack':!![]}));}catch(_0x442ce5){this[_0x1c9ae2(0x250)]=setup['SYSTEM_MODES'][_0x1c9ae2(0x164)];}}async[a0_0x11eeea(0x1dd)](){const _0x248d81=a0_0x11eeea;try{const _0x259dbf=this['config'][_0x248d81(0x208)]||[];let _0xd845f2=![];const _0x4dda6f=[];for(const _0x4e7c67 of _0x259dbf){try{const _0x4b7ba3=await this[_0x248d81(0x21a)](_0x4e7c67);_0x4b7ba3&&(_0x4b7ba3[_0x248d81(0x215)]===!![]||_0x4b7ba3[_0x248d81(0x215)]==='online'||_0x4b7ba3[_0x248d81(0x215)]===0x1)&&(_0xd845f2=!![],_0x4dda6f[_0x248d81(0x172)](_0x4e7c67));}catch(_0x47a439){}}return await this[_0x248d81(0x234)]('system.presenceWho',{'val':_0x4dda6f[_0x248d81(0x240)](',\x20'),'ack':!![]}),_0xd845f2&&(this[_0x248d81(0x1eb)]&&(this['log'][_0x248d81(0x189)]('WiFi\x20Presence\x20detected.'),recorder['abortExitTimer'](this)),!this[_0x248d81(0x1a2)]&&this['currentSystemMode']===setup['SYSTEM_MODES'][_0x248d81(0x164)]&&await recorder['setPresence'](this,!![])),_0xd845f2;}catch(_0xfcf558){return![];}}async[a0_0x11eeea(0x18e)](){const _0x38fbbf=a0_0x11eeea;this[_0x38fbbf(0x1fe)][_0x38fbbf(0x181)](_0x38fbbf(0x228)),await aiAgent[_0x38fbbf(0x217)](this),this[_0x38fbbf(0x236)](),this['triggerGaitAnalysis'](),this[_0x38fbbf(0x206)]();}async[a0_0x11eeea(0x1ac)](){const _0x3618ca=a0_0x11eeea,_0x1eac99=[_0x3618ca(0x166),_0x3618ca(0x1f4),_0x3618ca(0x1ae)],_0x14296b=['forecast.current.weather',_0x3618ca(0x1cd),_0x3618ca(0x1a6)];for(const _0x20bb5e of _0x1eac99){for(const _0x27dc07 of _0x14296b){try{const _0x5a8d91=_0x20bb5e+'.'+_0x27dc07,_0x486609=await this[_0x3618ca(0x21a)](_0x5a8d91);if(_0x486609&&_0x486609[_0x3618ca(0x215)]){const _0x523826=String(_0x486609[_0x3618ca(0x215)])[_0x3618ca(0x1e2)]();if(_0x523826[_0x3618ca(0x219)](_0x3618ca(0x232))||_0x523826[_0x3618ca(0x219)]('sunny')||_0x523826[_0x3618ca(0x219)](_0x3618ca(0x22d))||_0x523826['includes']('clear')||_0x523826[_0x3618ca(0x219)](_0x3618ca(0x1c4)))return!![];}}catch(_0x330698){}}}return![];}[a0_0x11eeea(0x24e)](){const _0x52a20a=a0_0x11eeea;if(!this['isProVersion'])return;try{this[_0x52a20a(0x23a)](_0x52a20a(0x207),(_0x2a594f,_0x2e13b6)=>{const _0x33ebbd=_0x52a20a;_0x2e13b6&&_0x2e13b6[_0x33ebbd(0x215)]&&pythonBridge['send'](this,'ANALYZE_GAIT',{'sequences':JSON[_0x33ebbd(0x1ca)](_0x2e13b6[_0x33ebbd(0x215)])});});}catch(_0x5e2ec3){}}async[a0_0x11eeea(0x206)](){const _0x36f33c=a0_0x11eeea;if(!this[_0x36f33c(0x17a)])return;try{const _0x3f2d24=await recorder[_0x36f33c(0x20a)](this);if(_0x3f2d24===null)return;const _0x5cdecf={},_0x44979c={},_0x582948=this[_0x36f33c(0x1bd)][_0x36f33c(0x1de)]||[];for(const _0x380ebc of _0x582948){if(_0x380ebc['type']===_0x36f33c(0x222)&&_0x380ebc[_0x36f33c(0x176)]){const _0x48dbb1=this[_0x36f33c(0x1e7)][_0x380ebc['id']];if(_0x48dbb1!==undefined)_0x5cdecf[_0x380ebc['location']]=_0x48dbb1;if(_0x380ebc[_0x36f33c(0x21f)])_0x44979c[_0x380ebc[_0x36f33c(0x176)]]=!![];}}const _0x19be22=await this[_0x36f33c(0x1ac)]();Object[_0x36f33c(0x1c6)](_0x5cdecf)[_0x36f33c(0x1b7)]>0x0&&(pythonBridge[_0x36f33c(0x22b)](this,_0x36f33c(0x21d),{'current_temps':_0x5cdecf,'t_out':_0x3f2d24,'is_sunny':_0x19be22,'solar_flags':_0x44979c}),pythonBridge['send'](this,_0x36f33c(0x25b),{'current_temps':_0x5cdecf,'t_out':_0x3f2d24,'targets':{}}));}catch(_0x2f9e06){}}['updateHealthVector'](){const _0x5ceb25=a0_0x11eeea;if(!this[_0x5ceb25(0x171)]||this[_0x5ceb25(0x171)][_0x5ceb25(0x1b7)]===0x0)return;const _0x12dc8e=new Array(0x60)[_0x5ceb25(0x25e)](0x0),_0x46705e=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x5ceb25(0x171)]['forEach'](_0x3df566=>{const _0x238720=_0x5ceb25,_0x37cef9=new Date(_0x3df566['timestamp']);if(_0x37cef9[_0x238720(0x1f7)]()>=_0x46705e){const _0x48e718=_0x37cef9[_0x238720(0x17d)](),_0x5dbb02=_0x37cef9['getMinutes'](),_0x165f36=_0x48e718*0x4+Math[_0x238720(0x230)](_0x5dbb02/0xf);if(_0x165f36>=0x0&&_0x165f36<0x60)_0x12dc8e[_0x165f36]++;}}),this[_0x5ceb25(0x234)]('analysis.health.todayVector',{'val':JSON[_0x5ceb25(0x17b)](_0x12dc8e),'ack':!![]});}['runPythonHealthCheck'](){const _0x2bf0b4=a0_0x11eeea;if(!this[_0x2bf0b4(0x248)]||this[_0x2bf0b4(0x248)]['length']<0x2)return;const _0x37c8b5=this[_0x2bf0b4(0x248)]['map'](_0x2399c7=>{const _0xd2850e=_0x2bf0b4,_0x4da897=(_0x2399c7[_0xd2850e(0x182)]||'')[_0xd2850e(0x1e2)]();return ACTIVITY_LEVEL_MAP[_0x4da897]||0x32;});pythonBridge['send'](this,'ANALYZE_TREND',{'values':_0x37c8b5,'tag':_0x2bf0b4(0x1d1)});}}if(require[a0_0x11eeea(0x1a4)]!==module)module[a0_0x11eeea(0x242)]=_0x410f96=>new CogniLiving(_0x410f96);else new CogniLiving();