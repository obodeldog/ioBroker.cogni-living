const a0_0x1f20b9=a0_0x387f;(function(_0x110c9a,_0x126bfe){const _0xeeda13=a0_0x387f,_0x5c1e60=_0x110c9a();while(!![]){try{const _0x3ba412=parseInt(_0xeeda13(0x1be))/0x1+-parseInt(_0xeeda13(0x204))/0x2*(-parseInt(_0xeeda13(0x23e))/0x3)+-parseInt(_0xeeda13(0x1b1))/0x4+-parseInt(_0xeeda13(0x164))/0x5*(-parseInt(_0xeeda13(0x251))/0x6)+-parseInt(_0xeeda13(0x299))/0x7+parseInt(_0xeeda13(0x1cc))/0x8+-parseInt(_0xeeda13(0x283))/0x9;if(_0x3ba412===_0x126bfe)break;else _0x5c1e60['push'](_0x5c1e60['shift']());}catch(_0x2716f8){_0x5c1e60['push'](_0x5c1e60['shift']());}}}(a0_0x4e3d,0x4779b));const a0_0x4450a2=(function(){let _0x388942=!![];return function(_0x2c39db,_0x6f9e14){const _0x15867a=_0x388942?function(){if(_0x6f9e14){const _0x42db74=_0x6f9e14['apply'](_0x2c39db,arguments);return _0x6f9e14=null,_0x42db74;}}:function(){};return _0x388942=![],_0x15867a;};}()),a0_0x328bbd=a0_0x4450a2(this,function(){const _0x57ea48=a0_0x387f;return a0_0x328bbd['toString']()[_0x57ea48(0x16f)](_0x57ea48(0x24f))[_0x57ea48(0x19d)]()['constructor'](a0_0x328bbd)[_0x57ea48(0x16f)](_0x57ea48(0x24f));});a0_0x328bbd();'use strict';const utils=require(a0_0x1f20b9(0x206)),{GoogleGenerativeAI}=require(a0_0x1f20b9(0x236)),schedule=require(a0_0x1f20b9(0x1d2)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x1f20b9(0x233),LTM_SCHEDULE=a0_0x1f20b9(0x1f1),MODE_RESET_SCHEDULE=a0_0x1f20b9(0x1c8),ANALYSIS_HISTORY_MAX_SIZE=0x64,LTM_DP_RAW_LOG=a0_0x1f20b9(0x1d1),LTM_DP_DAILY_DIGESTS=a0_0x1f20b9(0x2aa),LTM_DP_STATUS=a0_0x1f20b9(0x1a6),LTM_DP_TRIGGER_DIGEST=a0_0x1f20b9(0x165),LTM_DP_BASELINE_STATUS='LTM.baselineStatus',LTM_DP_DRIFT_CHANNEL=a0_0x1f20b9(0x216),LTM_DP_DRIFT_STATUS='LTM.driftAnalysis.baselineDrift',LTM_DP_DRIFT_DETAILS=a0_0x1f20b9(0x254),LTM_DP_DRIFT_LAST_CHECK=a0_0x1f20b9(0x1db),SYSTEM_DP_MODE=a0_0x1f20b9(0x175),HARD_IGNORE_TERMS=[a0_0x1f20b9(0x188),a0_0x1f20b9(0x244),'update','unreach',a0_0x1f20b9(0x1cb),a0_0x1f20b9(0x1e8),'connection','maintenance',a0_0x1f20b9(0x18b),'fault',a0_0x1f20b9(0x2c5),a0_0x1f20b9(0x1ea),a0_0x1f20b9(0x24e),a0_0x1f20b9(0x152),a0_0x1f20b9(0x21d),a0_0x1f20b9(0x2d2),a0_0x1f20b9(0x1cd),a0_0x1f20b9(0x209)],GENERIC_NAMES=[a0_0x1f20b9(0x179),'currentposition','state','level',a0_0x1f20b9(0x2bf),a0_0x1f20b9(0x223),'on',a0_0x1f20b9(0x1ae),'switch',a0_0x1f20b9(0x26d),a0_0x1f20b9(0x1af),a0_0x1f20b9(0x182),a0_0x1f20b9(0x170),a0_0x1f20b9(0x290),'motion',a0_0x1f20b9(0x1df),a0_0x1f20b9(0x278),a0_0x1f20b9(0x2e4),'humidity',a0_0x1f20b9(0x1c6),'energy',a0_0x1f20b9(0x2d8),a0_0x1f20b9(0x1f2),'actual_temperature',a0_0x1f20b9(0x240)],ADAPTER_BLACKLIST=[a0_0x1f20b9(0x27b),a0_0x1f20b9(0x2df),'info.','vis.',a0_0x1f20b9(0x16b),'material.',a0_0x1f20b9(0x298),a0_0x1f20b9(0x1a0),a0_0x1f20b9(0x20d),a0_0x1f20b9(0x1f5),a0_0x1f20b9(0x17c)],SYSTEM_MODES={'NORMAL':a0_0x1f20b9(0x178),'VACATION':a0_0x1f20b9(0x174),'PARTY':a0_0x1f20b9(0x2b6),'GUEST':a0_0x1f20b9(0x1a7)},AUTO_RESET_MODES=[SYSTEM_MODES['PARTY'],SYSTEM_MODES[a0_0x1f20b9(0x22c)]],PERSONA_MAPPING={'generic':a0_0x1f20b9(0x15a),'senior_aal':'PRIORIT√ÑT:\x20Gesundheit\x20und\x20Sicherheit\x20f√ºr\x20Senioren\x20(AAL).\x20Erkenne\x20Inaktivit√§t,\x20potenzielle\x20St√ºrze\x20(indirekt),\x20Schlafunterbrechungen\x20und\x20n√§chtliche\x20Unruhe.','family':a0_0x1f20b9(0x288),'single_comfort':a0_0x1f20b9(0x1ff),'security':'PRIORIT√ÑT:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungew√∂hnliche\x20Anwesenheit.'};function a0_0x387f(_0x222122,_0x16aa97){const _0x4f530c=a0_0x4e3d();return a0_0x387f=function(_0x328bbd,_0x4450a2){_0x328bbd=_0x328bbd-0x146;let _0x4e3dcc=_0x4f530c[_0x328bbd];return _0x4e3dcc;},a0_0x387f(_0x222122,_0x16aa97);}class CogniLiving extends utils['Adapter']{constructor(_0x3963f5){const _0x2b1ef0=a0_0x1f20b9;super({..._0x3963f5,'name':_0x2b1ef0(0x1a9)}),this['eventHistory']=[],this[_0x2b1ef0(0x252)]=[],this[_0x2b1ef0(0x20b)]=[],this[_0x2b1ef0(0x2dc)]=[],this[_0x2b1ef0(0x2c3)]=[],this[_0x2b1ef0(0x194)]={},this[_0x2b1ef0(0x1a4)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x2b1ef0(0x207)]=!![],this['exitTimer']=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this['genAI']=null,this[_0x2b1ef0(0x296)]=null,this[_0x2b1ef0(0x276)]=SYSTEM_MODES[_0x2b1ef0(0x16a)],this[_0x2b1ef0(0x243)]=![],this['lastAlertState']=![],this[_0x2b1ef0(0x239)]=_0x2b1ef0(0x211),this[_0x2b1ef0(0x177)]=null,this[_0x2b1ef0(0x213)]=null,this['modeResetJob']=null,this[_0x2b1ef0(0x2b7)]=null,this['briefingJob']=null,this['on']('ready',this[_0x2b1ef0(0x1ba)][_0x2b1ef0(0x189)](this)),this['on'](_0x2b1ef0(0x2b3),this[_0x2b1ef0(0x205)]['bind'](this)),this['on'](_0x2b1ef0(0x2ae),this[_0x2b1ef0(0x19e)]['bind'](this)),this['on'](_0x2b1ef0(0x1fd),this['onMessage']['bind'](this));}async[a0_0x1f20b9(0x1ba)](){const _0x1b318a=a0_0x1f20b9;this[_0x1b318a(0x1dc)]['info'](_0x1b318a(0x2b1)+this[_0x1b318a(0x27c)]+_0x1b318a(0x247)),await this[_0x1b318a(0x15f)](),this[_0x1b318a(0x192)][_0x1b318a(0x25a)]=this[_0x1b318a(0x192)][_0x1b318a(0x25a)]||'';try{this['isProVersion']=await this[_0x1b318a(0x166)](this['config'][_0x1b318a(0x25a)]);}catch(_0x2a2f13){}if(!this[_0x1b318a(0x192)][_0x1b318a(0x279)]||this[_0x1b318a(0x192)][_0x1b318a(0x279)]<0.1)this['config'][_0x1b318a(0x279)]=0xc;await this[_0x1b318a(0x2cc)](),await this[_0x1b318a(0x1e1)]();if(this[_0x1b318a(0x192)][_0x1b318a(0x280)])try{this['genAI']=new GoogleGenerativeAI(this[_0x1b318a(0x192)][_0x1b318a(0x280)]),this[_0x1b318a(0x296)]=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x1b318a(0x17e)}}),this[_0x1b318a(0x1dc)][_0x1b318a(0x2c2)](_0x1b318a(0x2b2));}catch(_0x331867){this[_0x1b318a(0x1dc)][_0x1b318a(0x18b)](_0x1b318a(0x220)+_0x331867['message']);}await this['createAllObjects'](),await this[_0x1b318a(0x1c9)](),await this[_0x1b318a(0x1dd)](),await this[_0x1b318a(0x1fc)](),this[_0x1b318a(0x2ba)](_0x1b318a(0x1b6)),this[_0x1b318a(0x2ba)](LTM_DP_TRIGGER_DIGEST),this[_0x1b318a(0x2ba)](_0x1b318a(0x175)),this['subscribeStates']('analysis.triggerBriefing'),await this[_0x1b318a(0x2cb)](),await this[_0x1b318a(0x297)]();if(this[_0x1b318a(0x177)])clearInterval(this[_0x1b318a(0x177)]);const _0xff3e8f=this['config'][_0x1b318a(0x18e)]||0xf;_0xff3e8f>0x0&&(this[_0x1b318a(0x1dc)][_0x1b318a(0x2c2)](_0x1b318a(0x214)+_0xff3e8f+_0x1b318a(0x1f0)),this['analysisTimer']=setInterval(()=>{this['runAutopilot']();},_0xff3e8f*0x3c*0x3e8)),this[_0x1b318a(0x23d)](),this[_0x1b318a(0x176)](),this[_0x1b318a(0x1ef)](),this[_0x1b318a(0x256)]();}['onUnload'](_0x339c2b){const _0x88d2d3=a0_0x1f20b9;if(this[_0x88d2d3(0x177)])clearInterval(this[_0x88d2d3(0x177)]);if(this[_0x88d2d3(0x2b7)])clearInterval(this[_0x88d2d3(0x2b7)]);if(this['ltmJob'])this[_0x88d2d3(0x213)][_0x88d2d3(0x2d7)]();if(this[_0x88d2d3(0x262)])this[_0x88d2d3(0x262)][_0x88d2d3(0x2d7)]();if(this[_0x88d2d3(0x258)])this[_0x88d2d3(0x258)][_0x88d2d3(0x2d7)]();if(this[_0x88d2d3(0x20a)])clearTimeout(this[_0x88d2d3(0x20a)]);if(this[_0x88d2d3(0x263)])clearTimeout(this['exitGraceTimer']);_0x339c2b();}async['onStateChange'](_0x885f5d,_0x32dbe6){const _0x55494b=a0_0x1f20b9;if(!_0x32dbe6)return;if(_0x885f5d===this['namespace']+'.'+SYSTEM_DP_MODE){_0x32dbe6['val']&&Object[_0x55494b(0x24d)](SYSTEM_MODES)['includes'](_0x32dbe6[_0x55494b(0x282)])&&(this['currentSystemMode']=_0x32dbe6['val'],_0x32dbe6['val']===SYSTEM_MODES[_0x55494b(0x2a3)]?await this[_0x55494b(0x21a)](![]):await this[_0x55494b(0x21a)](!![]));if(!_0x32dbe6[_0x55494b(0x1a8)])this[_0x55494b(0x241)](_0x885f5d,{'val':this[_0x55494b(0x276)],'ack':!![]});return;}if(!_0x32dbe6[_0x55494b(0x1a8)]){_0x885f5d[_0x55494b(0x265)](_0x55494b(0x1b6))&&_0x32dbe6['val']&&(this[_0x55494b(0x241)](_0x885f5d,{'val':![],'ack':!![]}),this[_0x55494b(0x20f)]());if(_0x885f5d['includes']('triggerDailyDigest')&&_0x32dbe6[_0x55494b(0x282)]){this['setState'](_0x885f5d,{'val':![],'ack':!![]});if(this['isProVersion'])this[_0x55494b(0x1f7)]();}_0x885f5d[_0x55494b(0x265)](_0x55494b(0x1e4))&&_0x32dbe6[_0x55494b(0x282)]&&(this[_0x55494b(0x241)](_0x885f5d,{'val':![],'ack':!![]}),this[_0x55494b(0x2d9)]());return;}if(this[_0x55494b(0x192)][_0x55494b(0x2a1)]&&this[_0x55494b(0x192)][_0x55494b(0x2a1)][_0x55494b(0x265)](_0x885f5d)){await this[_0x55494b(0x1a2)]();return;}const _0x3ac727=(this[_0x55494b(0x192)][_0x55494b(0x2b4)]||[])[_0x55494b(0x19b)](_0x516f97=>_0x516f97['id']===_0x885f5d);if(_0x3ac727)this[_0x55494b(0x245)](_0x885f5d,_0x32dbe6,_0x3ac727);}async[a0_0x1f20b9(0x26a)](_0x2763c6){const _0x38bb08=a0_0x1f20b9;if(typeof _0x2763c6==='object'&&_0x2763c6['message'])try{if(_0x2763c6[_0x38bb08(0x157)]==='testApiKey'){}else{if(_0x2763c6[_0x38bb08(0x157)]===_0x38bb08(0x24b)){}else{if(_0x2763c6['command']===_0x38bb08(0x224)){if(!this[_0x38bb08(0x243)])return this[_0x38bb08(0x153)](_0x2763c6[_0x38bb08(0x212)],_0x2763c6['command'],{'success':![],'isPro':![]},_0x2763c6['callback']);let _0x215448={'status':_0x38bb08(0x237),'details':'','lastCheck':0x0};try{_0x215448[_0x38bb08(0x290)]=(await this[_0x38bb08(0x2b5)](LTM_DP_DRIFT_STATUS))['val'],_0x215448[_0x38bb08(0x1ec)]=(await this[_0x38bb08(0x2b5)](LTM_DP_DRIFT_DETAILS))[_0x38bb08(0x282)],_0x215448['lastCheck']=(await this[_0x38bb08(0x2b5)](LTM_DP_DRIFT_LAST_CHECK))[_0x38bb08(0x282)];}catch(_0x1e474e){}const _0x3fdaf1=this[_0x38bb08(0x252)]||[];this['sendTo'](_0x2763c6[_0x38bb08(0x212)],_0x2763c6[_0x38bb08(0x157)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x38bb08(0x2c3)],'driftAnalysis':_0x215448,'analysisHistory':_0x3fdaf1},_0x2763c6[_0x38bb08(0x257)]);}else{if(_0x2763c6['command']==='getOverviewData'){const _0xb1beb8=this['dailyDigests'][_0x38bb08(0x171)],_0x160ccb=this[_0x38bb08(0x2a8)]['filter'](_0x5c7a55=>_0x5c7a55[_0x38bb08(0x259)]>new Date()[_0x38bb08(0x22e)](0x0,0x0,0x0,0x0))[_0x38bb08(0x171)];let _0x485a17={'status':_0x38bb08(0x237)};try{_0x485a17[_0x38bb08(0x290)]=(await this['getStateAsync'](LTM_DP_DRIFT_STATUS))[_0x38bb08(0x282)];}catch(_0x302541){}let _0x2208e5=null;!this[_0x38bb08(0x296)]&&(_0x2208e5=this[_0x38bb08(0x192)][_0x38bb08(0x280)]?'KI-Modell\x20nicht\x20initialisiert\x20(Neustart\x20erforderlich?)':_0x38bb08(0x14e));let _0x28da9b={'detected':![],'description':''};try{const _0x5da176=await this[_0x38bb08(0x2b5)](_0x38bb08(0x246)),_0x13b4fe=await this['getStateAsync'](_0x38bb08(0x222));_0x5da176&&_0x5da176['val']&&(_0x28da9b['detected']=!![],_0x28da9b[_0x38bb08(0x2ad)]=_0x13b4fe?_0x13b4fe[_0x38bb08(0x282)]:'');}catch(_0x33fc93){}this['sendTo'](_0x2763c6[_0x38bb08(0x212)],_0x2763c6[_0x38bb08(0x157)],{'success':!![],'eventHistory':this[_0x38bb08(0x2a8)][_0x38bb08(0x1f3)](0x0,0xf),'stats':{'digestCount':_0xb1beb8,'eventCountToday':_0x160ccb,'driftStatus':_0x485a17[_0x38bb08(0x290)],'isPresent':this[_0x38bb08(0x207)],'minDays':this['config'][_0x38bb08(0x19f)]||0x7,'stbDays':this['config'][_0x38bb08(0x15e)]||0xe,'ltbDays':this['config']['ltmLtbWindowDays']||0x3c,'systemError':_0x2208e5},'automation':_0x28da9b},_0x2763c6['callback']);}else{if(_0x2763c6['command']===_0x38bb08(0x272)){}else{if(_0x2763c6[_0x38bb08(0x157)]===_0x38bb08(0x181))try{const _0xa0cdfb=await this['scanForDevices'](_0x2763c6[_0x38bb08(0x1fd)]||{});this[_0x38bb08(0x153)](_0x2763c6[_0x38bb08(0x212)],_0x2763c6[_0x38bb08(0x157)],{'success':!![],'devices':_0xa0cdfb},_0x2763c6[_0x38bb08(0x257)]);}catch(_0x5b06a4){this['sendTo'](_0x2763c6[_0x38bb08(0x212)],_0x2763c6['command'],{'success':![],'error':_0x5b06a4[_0x38bb08(0x1fd)]},_0x2763c6[_0x38bb08(0x257)]);}}}}}}}catch(_0x104b6d){}}async['processSensorEvent'](_0x9c08e1,_0x51188f,_0x24feae){const _0x3369dc=a0_0x1f20b9;if(!_0x24feae[_0x3369dc(0x1a1)]&&this['sensorLastValues'][_0x9c08e1]===_0x51188f[_0x3369dc(0x282)])return;this[_0x3369dc(0x194)][_0x9c08e1]=_0x51188f[_0x3369dc(0x282)];if(this[_0x3369dc(0x1ed)])return;const _0x27aed6=await this[_0x3369dc(0x1a2)]();if(_0x27aed6){if(!this[_0x3369dc(0x207)])await this[_0x3369dc(0x21a)](!![]);}else{const _0xbdeeb2=_0x24feae[_0x3369dc(0x286)]===!![];if(_0xbdeeb2)this[_0x3369dc(0x2b0)]();else{if(this[_0x3369dc(0x20a)])this['abortExitTimer']();if(!this[_0x3369dc(0x207)]&&this[_0x3369dc(0x276)]===SYSTEM_MODES[_0x3369dc(0x16a)])await this['setPresence'](!![]);}}const _0x39cbcf={'timestamp':_0x51188f['ts'],'id':_0x9c08e1,'name':_0x24feae[_0x3369dc(0x2cd)],'value':_0x51188f[_0x3369dc(0x282)],'location':_0x24feae['location'],'type':_0x24feae[_0x3369dc(0x273)]};this['eventHistory']['unshift'](_0x39cbcf);if(this['eventHistory'][_0x3369dc(0x171)]>HISTORY_MAX_SIZE)this[_0x3369dc(0x2a8)][_0x3369dc(0x2e0)]();await this['setStateAsync'](_0x3369dc(0x261),{'val':JSON[_0x3369dc(0x18d)](_0x39cbcf),'ack':!![]}),await this[_0x3369dc(0x1b7)](_0x3369dc(0x2b9),{'val':JSON['stringify'](this[_0x3369dc(0x2a8)]),'ack':!![]}),this['rawEventLog'][_0x3369dc(0x148)]({'timestamp':new Date(_0x51188f['ts'])[_0x3369dc(0x2bc)](),'sensorName':_0x24feae[_0x3369dc(0x2cd)],'location':_0x24feae[_0x3369dc(0x1b3)],'value':_0x51188f[_0x3369dc(0x282)]}),await this[_0x3369dc(0x285)]();}async[a0_0x1f20b9(0x20f)](_0x2e0769=''){const _0x51c60c=a0_0x1f20b9;if(!this[_0x51c60c(0x296)]){this[_0x51c60c(0x1dc)][_0x51c60c(0x255)]('Triggered\x20analysis\x20but\x20Gemini\x20AI\x20is\x20not\x20initialized!\x20Check\x20API\x20Key.');return;}const _0x21ee48=this['eventHistory'][_0x51c60c(0x171)]>0x0?this[_0x51c60c(0x2a8)]:[{'note':'No\x20recorded\x20events\x20yet.'}],_0x5b3c43=PERSONA_MAPPING[this[_0x51c60c(0x192)][_0x51c60c(0x2d1)]||_0x51c60c(0x18f)],_0x133a03=this[_0x51c60c(0x192)]['livingContext']||'',_0x1e0dd3=this[_0x51c60c(0x276)],_0x3337ea=await this[_0x51c60c(0x215)](),_0x348941=await this[_0x51c60c(0x23b)](),_0x51d454=(_0x3337ea+'\x20'+_0x348941)[_0x51c60c(0x27d)](),_0x325459=new Date(),_0x174946=_0x325459[_0x51c60c(0x2a5)]('de-DE',{'weekday':_0x51c60c(0x284),'hour':_0x51c60c(0x294),'minute':_0x51c60c(0x294)});let _0x15e242='Phase\x201:\x20Learning\x20(No\x20Baseline).\x20Rely\x20on\x20common\x20sense.';const _0x56bd6c=this[_0x51c60c(0x2c3)][_0x51c60c(0x171)];if(this['isProVersion']&&_0x56bd6c>=(this['config']['minDaysForBaseline']||0x7)){const _0x5c64db=this[_0x51c60c(0x2c3)][_0x51c60c(0x1f3)](-(this[_0x51c60c(0x192)][_0x51c60c(0x15e)]||0xe));_0x15e242='Phase\x202:\x20ACUTE\x20MONITORING.\x20STB\x20(Last\x2014d):\x20'+JSON['stringify'](_0x5c64db)+'.';if(_0x56bd6c>=0x1e)_0x15e242+=_0x51c60c(0x22d);}const _0x420627=_0x51c60c(0x1fa)+_0x174946+')\x20verd√§chtig\x20still?\x20Erwartest\x20du\x20basierend\x20auf\x20der\x20Tageszeit\x20Aktivit√§t\x20(z.B.\x20Morgens\x20Aufstehen)?\x20Wenn\x20ja\x20->\x20ALARM.\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20Akut\x20(vs.\x20STB):\x20Weicht\x20das\x20heutige\x20Verhalten\x20stark\x20von\x20den\x20letzten\x2014\x20Tagen\x20ab?\x20(z.B.\x205x\x20Toilette\x20statt\x203x).\x20Wenn\x20ja\x20->\x20WARNUNG.\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20Schleichend\x20(Drift):\x20(Nur\x20relevant\x20wenn\x20Phase\x203\x20aktiv)\x20Gibt\x20es\x20einen\x20langsamen\x20Trend\x20ins\x20Negative?\x0a\x20\x20\x20\x20\x20\x20\x20\x20Ignoriere\x20Fehlalarme\x20durch\x20Kontext:\x20'+_0x51d454+_0x51c60c(0x2de),_0x104178=_0x51c60c(0x281)+_0x174946+_0x51c60c(0x2ca)+_0x1e0dd3+_0x51c60c(0x1b9)+(this['isPresent']?'Ja':_0x51c60c(0x242))+_0x51c60c(0x26c)+_0x133a03+_0x51c60c(0x2e5)+_0x5b3c43+_0x51c60c(0x190)+_0x15e242+'\x20'+(_0x2e0769?_0x2e0769:'')+_0x51c60c(0x2de)+_0x420627+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20'+JSON['stringify'](_0x21ee48)+_0x51c60c(0x2c9);try{const _0x16b191=await this[_0x51c60c(0x296)][_0x51c60c(0x18a)](_0x104178),_0x361dc6=_0x16b191['response'][_0x51c60c(0x230)]()[_0x51c60c(0x1ac)](/```json|```/g,'')[_0x51c60c(0x27d)](),_0x11a782=JSON[_0x51c60c(0x1c2)](_0x361dc6);await this[_0x51c60c(0x1b7)](_0x51c60c(0x2cf),{'val':_0x361dc6,'ack':!![]}),await this[_0x51c60c(0x1b7)](_0x51c60c(0x28f),{'val':_0x11a782['activity'][_0x51c60c(0x275)]||'','ack':!![]}),await this[_0x51c60c(0x1b7)]('analysis.activitySummary',{'val':_0x11a782[_0x51c60c(0x2a2)]['summary']||_0x51c60c(0x237),'ack':!![]});const _0x37e1cf=_0x11a782[_0x51c60c(0x197)]['automationProposal'],_0x5bc4cf=this[_0x51c60c(0x243)]?_0x37e1cf[_0x51c60c(0x221)]:![];await this[_0x51c60c(0x1b7)](_0x51c60c(0x246),{'val':_0x5bc4cf,'ack':!![]});let _0x5c1e8f='Pro\x20Feature';if(this[_0x51c60c(0x243)])_0x5c1e8f=_0x5bc4cf?_0x37e1cf['description']:_0x51c60c(0x2ac);await this[_0x51c60c(0x1b7)](_0x51c60c(0x222),{'val':_0x5c1e8f,'ack':!![]});if(_0x11a782[_0x51c60c(0x2a2)][_0x51c60c(0x19a)]||_0x11a782[_0x51c60c(0x2a2)][_0x51c60c(0x227)]){await this['setStateAsync']('analysis.isAlert',{'val':!![],'ack':!![]});if(!this[_0x51c60c(0x14b)]||_0x11a782[_0x51c60c(0x2a2)][_0x51c60c(0x227)]){const _0x46dc3b=_0x11a782[_0x51c60c(0x2a2)]['isEmergency']?_0x51c60c(0x17f):_0x51c60c(0x1d4);this[_0x51c60c(0x1b4)](_0x46dc3b+':\x20'+_0x11a782[_0x51c60c(0x2a2)]['alertReason'],![],_0x11a782[_0x51c60c(0x2a2)][_0x51c60c(0x227)]);}}else await this[_0x51c60c(0x1b7)](_0x51c60c(0x173),{'val':![],'ack':!![]});this['lastAlertState']=_0x11a782[_0x51c60c(0x2a2)][_0x51c60c(0x19a)]||_0x11a782[_0x51c60c(0x2a2)][_0x51c60c(0x227)];const _0x58c106={'timestamp':Date[_0x51c60c(0x27f)](),'id':Date[_0x51c60c(0x27f)]()[_0x51c60c(0x19d)](),'analysis':_0x11a782,'systemMode':_0x1e0dd3,'isPro':this['isProVersion']};this[_0x51c60c(0x1d9)](_0x58c106);}catch(_0x1adf73){this[_0x51c60c(0x1dc)]['error']('Analysis\x20Error:\x20'+_0x1adf73[_0x51c60c(0x1fd)]);}}async[a0_0x1f20b9(0x2a4)](){}async[a0_0x1f20b9(0x1f7)](){}async['sendMorningBriefing'](){}async['scanForDevices'](_0x2cfe6c){const _0x11e755=a0_0x1f20b9;this[_0x11e755(0x1dc)]['info'](_0x11e755(0x218));const _0x42bebb=[],_0xc3bee=await this['getForeignObjectsAsync']('*'),_0x1fb206=await this[_0x11e755(0x14d)](_0x11e755(0x24c),_0x11e755(0x15c)),_0x21c0e7=await this[_0x11e755(0x14d)](_0x11e755(0x29d),_0x11e755(0x15c)),_0x18f71e={};if(_0x1fb206)for(const _0x332b1a in _0x1fb206){const _0x217a84=_0x1fb206[_0x332b1a]['common']['members']||[];_0x217a84[_0x11e755(0x249)](_0x476a9f=>{if(!_0x18f71e[_0x476a9f])_0x18f71e[_0x476a9f]=[];_0x18f71e[_0x476a9f]['push'](_0x332b1a);});}const _0x3c6112={};if(_0x21c0e7)for(const _0x4fd149 in _0x21c0e7){const _0x3c8de7=_0x21c0e7[_0x4fd149][_0x11e755(0x16d)][_0x11e755(0x2a9)]||[],_0x1fa5b9=typeof _0x21c0e7[_0x4fd149][_0x11e755(0x16d)]['name']===_0x11e755(0x1bf)?_0x21c0e7[_0x4fd149]['common'][_0x11e755(0x2cd)]['de']:_0x21c0e7[_0x4fd149][_0x11e755(0x16d)][_0x11e755(0x2cd)];_0x3c8de7[_0x11e755(0x249)](_0x2238a4=>_0x3c6112[_0x2238a4]=_0x1fa5b9);}const _0x34c09a=_0x2cfe6c[_0x11e755(0x150)]||[],_0x3da652=_0x2cfe6c[_0x11e755(0x217)]!==![],_0xf261e0=_0x2cfe6c[_0x11e755(0x147)]!==![],_0x3d46e4=_0x2cfe6c[_0x11e755(0x1f8)]!==![],_0x370989=_0x2cfe6c[_0x11e755(0x2e4)]===!![],_0x37e6c4=_0x2cfe6c['weather']===!![];for(const _0x180483 in _0xc3bee){const _0x4e65f6=_0xc3bee[_0x180483];if(_0x4e65f6['type']!==_0x11e755(0x295)||!_0x4e65f6[_0x11e755(0x16d)])continue;if(ADAPTER_BLACKLIST['some'](_0x3e7d13=>_0x180483[_0x11e755(0x1f9)](_0x3e7d13))&&!_0x37e6c4)continue;const _0x5eb858=(_0x4e65f6[_0x11e755(0x16d)][_0x11e755(0x186)]||'')[_0x11e755(0x15b)]();let _0x4f3e36=(typeof _0x4e65f6[_0x11e755(0x16d)][_0x11e755(0x2cd)]===_0x11e755(0x1bf)?_0x4e65f6[_0x11e755(0x16d)]['name']['de']:_0x4e65f6['common']['name'])||_0x180483;const _0x27d4ae=_0x4f3e36[_0x11e755(0x15b)]();let _0x1c04b7=![];if(_0x34c09a[_0x11e755(0x171)]>0x0){const _0x467ab1=_0x18f71e[_0x180483]||[],_0x2b6d53=_0x180483[_0x11e755(0x20e)]('.')[_0x11e755(0x1f3)](0x0,-0x1)[_0x11e755(0x161)]('.'),_0x2e5d9f=_0x18f71e[_0x2b6d53]||[],_0x54a1a5=_0x180483['split']('.')[_0x11e755(0x1f3)](0x0,-0x2)['join']('.'),_0x4dfcfa=_0x18f71e[_0x54a1a5]||[];if(_0x467ab1[_0x11e755(0x1a3)](_0x4e73ad=>_0x34c09a[_0x11e755(0x265)](_0x4e73ad))||_0x2e5d9f['some'](_0x53221e=>_0x34c09a[_0x11e755(0x265)](_0x53221e))||_0x4dfcfa[_0x11e755(0x1a3)](_0x36eef5=>_0x34c09a[_0x11e755(0x265)](_0x36eef5)))_0x1c04b7=!![];}if(!_0x1c04b7&&!_0x37e6c4){if(HARD_IGNORE_TERMS[_0x11e755(0x1a3)](_0x43a706=>_0x180483[_0x11e755(0x265)](_0x43a706)||_0x27d4ae['includes'](_0x43a706[_0x11e755(0x15b)]())))continue;}if(BAD_NAMES[_0x11e755(0x1a3)](_0x4b7aa7=>_0x27d4ae===_0x4b7aa7||_0x27d4ae['endsWith']('.'+_0x4b7aa7))){const _0x4d0215=_0x180483['split']('.');if(_0x4d0215[_0x11e755(0x171)]>0x2){const _0x8005fa=_0x4d0215[_0x11e755(0x1f3)](0x0,-0x1)[_0x11e755(0x161)]('.'),_0x5676c9=_0xc3bee[_0x8005fa];if(_0x5676c9&&_0x5676c9[_0x11e755(0x16d)]&&_0x5676c9[_0x11e755(0x16d)][_0x11e755(0x2cd)]){const _0x2dcac4=typeof _0x5676c9[_0x11e755(0x16d)]['name']===_0x11e755(0x1bf)?_0x5676c9[_0x11e755(0x16d)][_0x11e755(0x2cd)]['de']:_0x5676c9[_0x11e755(0x16d)][_0x11e755(0x2cd)];_0x2dcac4&&!_0x4f3e36[_0x11e755(0x265)](_0x2dcac4)&&(_0x4f3e36=_0x2dcac4+'\x20'+_0x4f3e36);}}}let _0xc6db04='';if(_0x3da652&&(_0x5eb858[_0x11e755(0x265)](_0x11e755(0x217))||_0x5eb858['includes']('occupancy')||_0x27d4ae[_0x11e755(0x265)](_0x11e755(0x167))||_0x27d4ae[_0x11e755(0x265)](_0x11e755(0x180))))_0xc6db04=_0x11e755(0x217);else{if(!_0xc6db04&&_0xf261e0&&(_0x5eb858[_0x11e755(0x265)](_0x11e755(0x1bc))||_0x5eb858[_0x11e755(0x265)]('window')||_0x5eb858[_0x11e755(0x265)](_0x11e755(0x1c0))||_0x5eb858[_0x11e755(0x265)](_0x11e755(0x182))||_0x5eb858[_0x11e755(0x265)](_0x11e755(0x1af))||_0x27d4ae['includes']('fenster')||_0x27d4ae['includes'](_0x11e755(0x1cf))||_0x27d4ae[_0x11e755(0x265)]('rollladen')))_0xc6db04='door';else{if(!_0xc6db04&&_0x3d46e4&&(_0x5eb858[_0x11e755(0x265)](_0x11e755(0x1fe))||_0x5eb858[_0x11e755(0x265)]('switch')||_0x5eb858[_0x11e755(0x265)](_0x11e755(0x293))||_0x27d4ae[_0x11e755(0x265)](_0x11e755(0x1ce))||_0x27d4ae['includes'](_0x11e755(0x2b8))||_0x27d4ae[_0x11e755(0x265)](_0x11e755(0x264)))){if(_0x4e65f6[_0x11e755(0x16d)][_0x11e755(0x23c)]||_0x5eb858[_0x11e755(0x265)](_0x11e755(0x22b)))_0xc6db04=_0x11e755(0x1fe);}else{if(!_0xc6db04&&_0x370989&&(_0x5eb858[_0x11e755(0x265)](_0x11e755(0x2e4))||_0x5eb858[_0x11e755(0x265)](_0x11e755(0x195))||_0x5eb858[_0x11e755(0x265)](_0x11e755(0x289))||_0x27d4ae[_0x11e755(0x265)]('temp')||_0x27d4ae[_0x11e755(0x265)]('klima')||_0x27d4ae['includes']('heizung')))_0xc6db04='temperature';else{if(!_0xc6db04&&_0x1c04b7)_0xc6db04='custom';}}}}if(_0xc6db04){let _0x44784f=_0x3c6112[_0x180483]||'';if(!_0x44784f){let _0x33c957=_0x180483;for(let _0xeb53bf=0x0;_0xeb53bf<0x3;_0xeb53bf++){const _0x51c2a7=_0x33c957['lastIndexOf']('.');if(_0x51c2a7===-0x1)break;_0x33c957=_0x33c957[_0x11e755(0x16c)](0x0,_0x51c2a7);if(_0x3c6112[_0x33c957]){_0x44784f=_0x3c6112[_0x33c957];break;}}}if(!_0x44784f){const _0x887b47=(_0x180483+'\x20'+_0x4f3e36)[_0x11e755(0x15b)]();if(_0x887b47[_0x11e755(0x265)](_0x11e755(0x1fb))||_0x887b47[_0x11e755(0x265)]('wc'))_0x44784f=_0x11e755(0x2a0);else{if(_0x887b47['includes'](_0x11e755(0x162)))_0x44784f=_0x11e755(0x156);else{if(_0x887b47[_0x11e755(0x265)](_0x11e755(0x270)))_0x44784f=_0x11e755(0x15d);else{if(_0x887b47[_0x11e755(0x265)](_0x11e755(0x1ee)))_0x44784f='Schlafzimmer';else{if(_0x887b47[_0x11e755(0x265)](_0x11e755(0x1c1)))_0x44784f='Flur';}}}}}_0x42bebb[_0x11e755(0x148)]({'id':_0x180483,'name':_0x4f3e36,'location':_0x44784f,'type':_0xc6db04,'logDuplicates':_0xc6db04===_0x11e755(0x217),'isExit':![],'_score':_0x44784f?0x50:_0xc6db04===_0x11e755(0x1e3)?0x5a:0x28});}}return _0x42bebb['sort']((_0x312416,_0x2097ef)=>_0x2097ef[_0x11e755(0x1f6)]-_0x312416['_score']),_0x42bebb;}['tryParse'](_0x11edc9){if(typeof _0x11edc9==='object')return _0x11edc9;try{return JSON['parse'](_0x11edc9);}catch(_0x3dd419){return null;}}async[a0_0x1f20b9(0x15f)](){}async[a0_0x1f20b9(0x2cc)](){const _0xb4335b=a0_0x1f20b9;try{const _0x5cd177=await this[_0xb4335b(0x2b5)](_0xb4335b(0x2b9));_0x5cd177&&_0x5cd177[_0xb4335b(0x282)]&&(this['eventHistory']=JSON[_0xb4335b(0x1c2)](_0x5cd177[_0xb4335b(0x282)][_0xb4335b(0x19d)]()));}catch(_0x5a758b){this['eventHistory']=[];}try{const _0x571905=await this[_0xb4335b(0x2b5)](_0xb4335b(0x1bb));if(_0x571905&&_0x571905['val'])this[_0xb4335b(0x252)]=JSON[_0xb4335b(0x1c2)](_0x571905[_0xb4335b(0x282)][_0xb4335b(0x19d)]());}catch(_0x5e4038){this['analysisHistory']=[];}}async[a0_0x1f20b9(0x1e1)](){const _0x14467c=a0_0x1f20b9;try{const _0x15e207=await this[_0x14467c(0x250)](_0x14467c(0x1d7));_0x15e207&&_0x15e207[_0x14467c(0x16d)]&&(this[_0x14467c(0x1a4)]={'latitude':_0x15e207['common'][_0x14467c(0x28c)]||0x0,'longitude':_0x15e207['common'][_0x14467c(0x1e2)]||0x0,'city':_0x15e207['common']['city']||''});}catch(_0x4c9f9a){}}async[a0_0x1f20b9(0x166)](_0x1ae665){const _0x18312b=a0_0x1f20b9;if(!_0x1ae665)return![];this[_0x18312b(0x239)]=await this[_0x18312b(0x22f)]();if(_0x1ae665===_0x18312b(0x1a5)||_0x1ae665[_0x18312b(0x1f9)]('PRO-'))return!![];return![];}async['getSystemUUID'](){const _0x327592=a0_0x1f20b9;try{const _0x417773=await this[_0x327592(0x250)](_0x327592(0x25b));if(_0x417773&&_0x417773['native']&&_0x417773[_0x327592(0x269)]['uuid'])return _0x417773[_0x327592(0x269)][_0x327592(0x228)];return _0x327592(0x1d5);}catch(_0x14c12e){return _0x327592(0x29e);}}async[a0_0x1f20b9(0x277)](){const _0x1cae59=a0_0x1f20b9;await this[_0x1cae59(0x202)](),await this[_0x1cae59(0x1e6)](_0x1cae59(0x261),{'type':'state','common':{'name':_0x1cae59(0x267),'type':_0x1cae59(0x1b2),'role':_0x1cae59(0x14c),'read':!![],'write':![]},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x2b9),{'type':_0x1cae59(0x295),'common':{'name':'Event\x20History','type':_0x1cae59(0x1b2),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x1cae59(0x1e6)]('analysis.trigger',{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x1e5),'type':_0x1cae59(0x21e),'role':_0x1cae59(0x151),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x1cae59(0x1e6)]('analysis.triggerBriefing',{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x18c),'type':_0x1cae59(0x21e),'role':_0x1cae59(0x151),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x2cf),{'type':_0x1cae59(0x295),'common':{'name':'Last\x20Result','type':_0x1cae59(0x1b2),'role':_0x1cae59(0x14c),'read':!![],'write':![]},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x173),{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x169),'type':_0x1cae59(0x21e),'role':'indicator.alarm','read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x1cae59(0x1e0),{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x2d5),'type':'boolean','role':'indicator.alarm.fire','read':!![],'write':![],'def':![]},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x28f),{'type':_0x1cae59(0x295),'common':{'name':'Alert\x20Reason','type':_0x1cae59(0x1b2),'role':_0x1cae59(0x146),'read':!![],'write':![]},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x1da),{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x26b),'type':_0x1cae59(0x1b2),'role':_0x1cae59(0x230),'read':!![],'write':![]},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x149),{'type':_0x1cae59(0x295),'common':{'name':'Deviation','type':_0x1cae59(0x1b2),'role':_0x1cae59(0x295),'read':!![],'write':![],'def':_0x1cae59(0x237)},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x2d3),{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x155),'type':_0x1cae59(0x1b2),'role':_0x1cae59(0x230),'read':!![],'write':![]},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x2a6),{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x16e),'type':_0x1cae59(0x1b2),'role':_0x1cae59(0x230),'read':!![],'write':![]},'native':{}}),await this[_0x1cae59(0x1eb)](_0x1cae59(0x154),{'type':_0x1cae59(0x25d),'common':{'name':_0x1cae59(0x226)},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x246),{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x29b),'type':_0x1cae59(0x21e),'role':'indicator','read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x1cae59(0x222),{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x1d3),'type':_0x1cae59(0x1b2),'role':_0x1cae59(0x230),'read':!![],'write':![]},'native':{}}),await this[_0x1cae59(0x1e6)]('analysis.automation.suggestedAction',{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x25f),'type':_0x1cae59(0x1b2),'role':_0x1cae59(0x230),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x1cae59(0x1bb),{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x1ad),'type':_0x1cae59(0x1b2),'role':_0x1cae59(0x14c),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync']('analysis.feedbackHistory',{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x291),'type':_0x1cae59(0x1b2),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x1cae59(0x1eb)](_0x1cae59(0x210),{'type':_0x1cae59(0x25d),'common':{'name':_0x1cae59(0x29f)},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x19c),{'type':'state','common':{'name':_0x1cae59(0x231),'type':_0x1cae59(0x17b),'role':_0x1cae59(0x234),'read':!![],'write':![],'def':0x0},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x29a),{'type':_0x1cae59(0x295),'common':{'name':_0x1cae59(0x168),'type':_0x1cae59(0x1b2),'role':_0x1cae59(0x230),'read':!![],'write':![],'def':_0x1cae59(0x266)},'native':{}}),await this[_0x1cae59(0x1e6)](_0x1cae59(0x158),{'type':_0x1cae59(0x295),'common':{'name':'Health\x20Notes','type':_0x1cae59(0x1b2),'role':_0x1cae59(0x230),'read':!![],'write':![],'def':''},'native':{}}),await this['checkLtmObjects'](),await this['checkLtmDriftObjects']();}async[a0_0x1f20b9(0x202)](){const _0x1fda55=a0_0x1f20b9;await this[_0x1fda55(0x1eb)](_0x1fda55(0x160),{'type':_0x1fda55(0x25d),'common':{'name':_0x1fda55(0x248)},'native':{}}),await this[_0x1fda55(0x1eb)](SYSTEM_DP_MODE,{'type':_0x1fda55(0x295),'common':{'name':'System\x20Mode','type':_0x1fda55(0x1b2),'role':'state','read':!![],'write':!![],'def':SYSTEM_MODES[_0x1fda55(0x16a)],'states':{[SYSTEM_MODES[_0x1fda55(0x16a)]]:_0x1fda55(0x184),[SYSTEM_MODES[_0x1fda55(0x2a3)]]:'Urlaub',[SYSTEM_MODES[_0x1fda55(0x199)]]:_0x1fda55(0x238),[SYSTEM_MODES[_0x1fda55(0x22c)]]:_0x1fda55(0x20c)}},'native':{}});}async['checkLtmObjects'](){const _0x571388=a0_0x1f20b9;await this['extendObjectAsync']('LTM',{'type':_0x571388(0x25d),'common':{'name':_0x571388(0x2bb)},'native':{}}),await this['extendObjectAsync'](LTM_DP_RAW_LOG,{'type':'state','common':{'name':_0x571388(0x1c7),'type':_0x571388(0x1b2),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x571388(0x1eb)](LTM_DP_DAILY_DIGESTS,{'type':_0x571388(0x295),'common':{'name':_0x571388(0x23a),'type':_0x571388(0x1b2),'role':'json','read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_STATUS,{'type':_0x571388(0x295),'common':{'name':_0x571388(0x23f),'type':_0x571388(0x1b2),'role':_0x571388(0x230),'read':!![],'write':![]},'native':{}}),await this[_0x571388(0x1eb)](LTM_DP_TRIGGER_DIGEST,{'type':_0x571388(0x295),'common':{'name':_0x571388(0x232),'type':_0x571388(0x21e),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x571388(0x1eb)](LTM_DP_BASELINE_STATUS,{'type':_0x571388(0x295),'common':{'name':_0x571388(0x235),'type':_0x571388(0x1b2),'role':_0x571388(0x230),'read':!![],'write':![]},'native':{}});}async['checkLtmDriftObjects'](){const _0x53a3fd=a0_0x1f20b9;await this[_0x53a3fd(0x1eb)](LTM_DP_DRIFT_CHANNEL,{'type':_0x53a3fd(0x25d),'common':{'name':'Drift\x20Analysis'},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_STATUS,{'type':'state','common':{'name':_0x53a3fd(0x2c8),'type':_0x53a3fd(0x1b2),'role':_0x53a3fd(0x295),'read':!![],'write':![],'def':_0x53a3fd(0x237)},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_DETAILS,{'type':_0x53a3fd(0x295),'common':{'name':'Drift\x20Details','type':_0x53a3fd(0x1b2),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x53a3fd(0x1eb)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x53a3fd(0x295),'common':{'name':'Last\x20Check','type':'number','role':_0x53a3fd(0x193),'read':!![],'write':![]},'native':{}});}async[a0_0x1f20b9(0x1c9)](){const _0x36b988=a0_0x1f20b9;try{const _0x1e7306=await this[_0x36b988(0x2b5)](SYSTEM_DP_MODE);_0x1e7306&&_0x1e7306[_0x36b988(0x282)]&&Object[_0x36b988(0x24d)](SYSTEM_MODES)[_0x36b988(0x265)](_0x1e7306[_0x36b988(0x282)])?this[_0x36b988(0x276)]=_0x1e7306[_0x36b988(0x282)]:(this['currentSystemMode']=SYSTEM_MODES[_0x36b988(0x16a)],await this[_0x36b988(0x1b7)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES['NORMAL'],'ack':!![]}));}catch(_0xfc4caa){this['currentSystemMode']=SYSTEM_MODES[_0x36b988(0x16a)];}}async[a0_0x1f20b9(0x1dd)](){const _0x41b7dc=a0_0x1f20b9;try{const _0x113013=await this[_0x41b7dc(0x2b5)](LTM_DP_RAW_LOG);if(_0x113013&&_0x113013[_0x41b7dc(0x282)])this[_0x41b7dc(0x2dc)]=JSON[_0x41b7dc(0x1c2)](_0x113013[_0x41b7dc(0x282)]);}catch(_0x5e8dff){this[_0x41b7dc(0x2dc)]=[];}}async['loadDailyDigests'](){const _0x4f6722=a0_0x1f20b9;try{const _0x5ef300=await this[_0x4f6722(0x2b5)](LTM_DP_DAILY_DIGESTS);if(_0x5ef300&&_0x5ef300['val'])this[_0x4f6722(0x2c3)]=JSON[_0x4f6722(0x1c2)](_0x5ef300[_0x4f6722(0x282)]);}catch(_0x1074f5){this[_0x4f6722(0x2c3)]=[];}await this[_0x4f6722(0x274)]();}async[a0_0x1f20b9(0x285)](){const _0xb5156d=a0_0x1f20b9;this[_0xb5156d(0x2dc)]['length']>RAW_LOG_MAX_SIZE&&this[_0xb5156d(0x2dc)][_0xb5156d(0x2e3)](0x0,this[_0xb5156d(0x2dc)]['length']-RAW_LOG_MAX_SIZE),await this['setStateAsync'](LTM_DP_RAW_LOG,{'val':JSON['stringify'](this[_0xb5156d(0x2dc)]),'ack':!![]});}async[a0_0x1f20b9(0x1ca)](_0x183429=!![]){const _0x3ecc80=a0_0x1f20b9,_0x3c23a9=this['config']['ltmLtbWindowDays']||0x3c;this[_0x3ecc80(0x2c3)][_0x3ecc80(0x171)]>_0x3c23a9&&this['dailyDigests'][_0x3ecc80(0x2e3)](0x0,this[_0x3ecc80(0x2c3)]['length']-_0x3c23a9);await this[_0x3ecc80(0x1b7)](LTM_DP_DAILY_DIGESTS,{'val':JSON['stringify'](this[_0x3ecc80(0x2c3)]),'ack':!![]});if(_0x183429)await this[_0x3ecc80(0x274)]();}async[a0_0x1f20b9(0x1d9)](_0x1d20c1){const _0x5ce53d=a0_0x1f20b9;this['analysisHistory'][_0x5ce53d(0x2c0)](_0x1d20c1);if(this[_0x5ce53d(0x252)][_0x5ce53d(0x171)]>ANALYSIS_HISTORY_MAX_SIZE)this['analysisHistory']['pop']();await this['setStateAsync'](_0x5ce53d(0x1bb),{'val':JSON[_0x5ce53d(0x18d)](this[_0x5ce53d(0x252)]),'ack':!![]});}async[a0_0x1f20b9(0x274)](){const _0x2a7879=a0_0x1f20b9;if(!this[_0x2a7879(0x243)]){await this[_0x2a7879(0x1b7)](LTM_DP_BASELINE_STATUS,{'val':_0x2a7879(0x1b0),'ack':!![]});return;}const _0x47e883=this[_0x2a7879(0x2c3)][_0x2a7879(0x171)]>=(this[_0x2a7879(0x192)]['minDaysForBaseline']||0x7)?_0x2a7879(0x198)+this[_0x2a7879(0x2c3)][_0x2a7879(0x171)]+'\x20Tage)':_0x2a7879(0x22a)+this[_0x2a7879(0x2c3)]['length']+'/'+(this[_0x2a7879(0x192)][_0x2a7879(0x19f)]||0x7)+')';await this['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x47e883,'ack':!![]});}async[a0_0x1f20b9(0x2cb)](){const _0x5a48ff=a0_0x1f20b9,_0x562638=this[_0x5a48ff(0x192)]['devices'];if(_0x562638&&_0x562638['length']>0x0){this[_0x5a48ff(0x1dc)][_0x5a48ff(0x2c2)](_0x5a48ff(0x1b8)+_0x562638['length']+_0x5a48ff(0x28d));for(const _0x222ced of _0x562638){if(_0x222ced['id']){await this[_0x5a48ff(0x271)](_0x222ced['id']);try{const _0x4e4680=await this['getForeignStateAsync'](_0x222ced['id']);if(_0x4e4680)this[_0x5a48ff(0x194)][_0x222ced['id']]=_0x4e4680[_0x5a48ff(0x282)];}catch(_0x454f9f){}}}}}async['initPresenceSubscriptions'](){const _0x5807fc=a0_0x1f20b9,_0x48260c=this[_0x5807fc(0x192)][_0x5807fc(0x2a1)]||[];if(_0x48260c[_0x5807fc(0x171)]>0x0){this['log']['info']('Subscribing\x20to\x20'+_0x48260c[_0x5807fc(0x171)]+_0x5807fc(0x1c4));for(const _0x400515 of _0x48260c){await this[_0x5807fc(0x271)](_0x400515);}try{await this[_0x5807fc(0x1a2)]();}catch(_0x584f5c){}}}async[a0_0x1f20b9(0x215)](){const _0x5edb67=a0_0x1f20b9;try{if(!this['config'][_0x5edb67(0x187)])return _0x5edb67(0x1bd);let _0x4f702e='';const _0x4063a8=this[_0x5edb67(0x192)]['weatherInstance'];if(_0x4063a8)try{if(_0x4063a8[_0x5edb67(0x265)](_0x5edb67(0x21c))){const _0x3bbbaa=await this[_0x5edb67(0x191)](_0x4063a8+_0x5edb67(0x219));if(_0x3bbbaa&&_0x3bbbaa[_0x5edb67(0x282)])_0x4f702e=_0x3bbbaa[_0x5edb67(0x282)];}else{if(_0x4063a8[_0x5edb67(0x265)](_0x5edb67(0x2e2))){const _0x4feb35=await this['getForeignStateAsync'](_0x4063a8+_0x5edb67(0x14a));if(_0x4feb35&&_0x4feb35[_0x5edb67(0x282)])_0x4f702e=_0x4feb35[_0x5edb67(0x282)];}else{if(_0x4063a8['includes'](_0x5edb67(0x17a))){const _0x41925e=await this[_0x5edb67(0x191)](_0x4063a8+_0x5edb67(0x183));if(_0x41925e&&_0x41925e[_0x5edb67(0x282)])_0x4f702e=_0x41925e[_0x5edb67(0x282)];}}}}catch(_0x5a6114){}if(!_0x4f702e){const _0x5a0b61=[_0x5edb67(0x2be),_0x5edb67(0x2da),_0x5edb67(0x2bd),_0x5edb67(0x1c5)];for(const _0x4a2d30 of _0x5a0b61){try{const _0x59b3ca=await this[_0x5edb67(0x250)](_0x4a2d30);if(_0x59b3ca){if(_0x4a2d30[_0x5edb67(0x265)](_0x5edb67(0x21c))){const _0xfa6a70=await this[_0x5edb67(0x191)](_0x4a2d30+_0x5edb67(0x219));if(_0xfa6a70&&_0xfa6a70['val']){_0x4f702e=_0xfa6a70[_0x5edb67(0x282)];break;}}}}catch(_0x11077e){}}}return _0x4f702e?_0x5edb67(0x2c1)+_0x4f702e:_0x5edb67(0x2d4);}catch(_0x25023d){return _0x5edb67(0x1de)+_0x25023d[_0x5edb67(0x1fd)];}}async['getCalendarContext'](){const _0x298564=a0_0x1f20b9;try{if(!this[_0x298564(0x192)][_0x298564(0x253)])return _0x298564(0x25c);let _0xeca9d2=this[_0x298564(0x192)][_0x298564(0x2d6)]||_0x298564(0x2a7),_0x6af494=this['config']['calendarSelection']||[];if(typeof _0x6af494==='string')_0x6af494=_0x6af494[_0x298564(0x20e)](',');try{const _0x9cea22=await this[_0x298564(0x191)](_0xeca9d2+_0x298564(0x2d0));if(_0x9cea22&&_0x9cea22['val']){let _0x20826f=this['tryParse'](_0x9cea22['val']);if(_0x20826f&&Array[_0x298564(0x225)](_0x20826f)){if(_0x6af494[_0x298564(0x171)]>0x0)_0x20826f=_0x20826f[_0x298564(0x2c6)](_0x2f2227=>_0x6af494[_0x298564(0x265)](_0x2f2227['_calName']||''));else return _0x298564(0x159);if(_0x20826f[_0x298564(0x171)]>0x0){const _0x2ea1d3=_0x20826f[_0x298564(0x1f3)](0x0,0x3)[_0x298564(0x2db)](_0x3cee61=>{const _0x2615a8=_0x298564;let _0x14dcef=_0x3cee61[_0x2615a8(0x193)];if(_0x3cee61[_0x2615a8(0x2e1)])_0x14dcef+='\x20'+_0x3cee61[_0x2615a8(0x2e1)];return _0x14dcef+':\x20'+_0x3cee61['event']+'\x20('+_0x3cee61[_0x2615a8(0x1e9)]+')';});return _0x298564(0x172)+_0x2ea1d3[_0x298564(0x161)](_0x298564(0x28a));}else return'KALENDER:\x20Keine\x20relevanten\x20Termine';}}}catch(_0xd1dcaa){this[_0x298564(0x1dc)][_0x298564(0x255)](_0x298564(0x29c)+_0xd1dcaa['message']);}return'KALENDER:\x20Keine\x20Daten';}catch(_0x4af9b0){return _0x298564(0x201)+_0x4af9b0[_0x298564(0x1fd)];}}async['getCalendarNames'](_0x4b039a){const _0x388859=a0_0x1f20b9;try{const _0x529cf8=await this[_0x388859(0x191)](_0x4b039a+_0x388859(0x2d0));if(_0x529cf8&&_0x529cf8[_0x388859(0x282)]){const _0x2d1c84=this[_0x388859(0x1b5)](_0x529cf8['val']);if(_0x2d1c84&&Array[_0x388859(0x225)](_0x2d1c84)){const _0x286d0e=[...new Set(_0x2d1c84[_0x388859(0x2db)](_0x43a837=>_0x43a837[_0x388859(0x1e9)])[_0x388859(0x2c6)](Boolean))];return _0x286d0e[_0x388859(0x208)]();}}return[];}catch(_0x30e229){return this[_0x388859(0x1dc)][_0x388859(0x18b)](_0x388859(0x1d6)+_0x30e229[_0x388859(0x1fd)]),[];}}async[a0_0x1f20b9(0x1a2)](){const _0x4cc206=a0_0x1f20b9;try{const _0x757ffc=this[_0x4cc206(0x192)][_0x4cc206(0x2a1)]||[];let _0x4b9e63=![];for(const _0x22fc9c of _0x757ffc){try{const _0x49cd62=await this[_0x4cc206(0x191)](_0x22fc9c);if(_0x49cd62&&(_0x49cd62[_0x4cc206(0x282)]===!![]||_0x49cd62[_0x4cc206(0x282)]===_0x4cc206(0x268)||_0x49cd62[_0x4cc206(0x282)]===0x1)){_0x4b9e63=!![];break;}}catch(_0x1b54cb){}}return _0x4b9e63&&(this[_0x4cc206(0x20a)]&&(this['log'][_0x4cc206(0x2c2)](_0x4cc206(0x26f)),this[_0x4cc206(0x260)]()),!this[_0x4cc206(0x207)]&&this['currentSystemMode']===SYSTEM_MODES[_0x4cc206(0x16a)]&&await this['setPresence'](!![])),_0x4b9e63;}catch(_0x2b1565){return this[_0x4cc206(0x1dc)][_0x4cc206(0x18b)](_0x4cc206(0x1aa)+_0x2b1565[_0x4cc206(0x1fd)]),![];}}[a0_0x1f20b9(0x2b0)](){const _0xdfcf77=a0_0x1f20b9;this[_0xdfcf77(0x260)](),this[_0xdfcf77(0x1ed)]=!![],this[_0xdfcf77(0x263)]=setTimeout(()=>{const _0x25ec9b=_0xdfcf77;this[_0x25ec9b(0x1ed)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this[_0xdfcf77(0x20a)]=setTimeout(()=>{const _0xf698f3=_0xdfcf77;this['setPresence'](![]),this[_0xf698f3(0x20a)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}[a0_0x1f20b9(0x260)](){const _0x8080e1=a0_0x1f20b9;if(this[_0x8080e1(0x20a)])clearTimeout(this['exitTimer']);if(this['exitGraceTimer'])clearTimeout(this[_0x8080e1(0x263)]);this['exitTimer']=null,this[_0x8080e1(0x263)]=null,this[_0x8080e1(0x1ed)]=![];}async[a0_0x1f20b9(0x21a)](_0x1978b9){const _0x3a22c3=a0_0x1f20b9;if(this['isPresent']===_0x1978b9)return;this[_0x3a22c3(0x207)]=_0x1978b9,await this[_0x3a22c3(0x1b7)]('system.isPresent',{'val':_0x1978b9,'ack':!![]});}async[a0_0x1f20b9(0x200)](_0x52150a){const _0x29c2fa=a0_0x1f20b9;this[_0x29c2fa(0x1dc)]['info']('Feedback\x20saved:\x20'+JSON[_0x29c2fa(0x18d)](_0x52150a));}async[a0_0x1f20b9(0x21b)](){const _0x1e9123=a0_0x1f20b9;if(!this[_0x1e9123(0x243)]||!this[_0x1e9123(0x296)])return;const _0x4296b6=this[_0x1e9123(0x192)]['ltmStbWindowDays']||0xe;if(this[_0x1e9123(0x2c3)][_0x1e9123(0x171)]<_0x4296b6+(this[_0x1e9123(0x192)][_0x1e9123(0x19f)]||0x7)){await this[_0x1e9123(0x1b7)](LTM_DP_DRIFT_STATUS,{'val':_0x1e9123(0x287),'ack':!![]});return;}const _0x58edd4=this[_0x1e9123(0x2c3)]['slice'](-_0x4296b6),_0x4e9d26=this[_0x1e9123(0x2c3)][_0x1e9123(0x1f3)](0x0,this[_0x1e9123(0x2c3)][_0x1e9123(0x171)]-_0x4296b6),_0x4c27ba='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON['stringify'](_0x4e9d26)+_0x1e9123(0x21f)+JSON[_0x1e9123(0x18d)](_0x58edd4);try{const _0x321bfd=await this['geminiModel'][_0x1e9123(0x18a)](_0x4c27ba),_0x19d3ed=JSON['parse'](_0x321bfd[_0x1e9123(0x2ce)][_0x1e9123(0x230)]()['replace'](/```json|```/g,'')[_0x1e9123(0x27d)]());_0x19d3ed[_0x1e9123(0x2af)]&&(await this[_0x1e9123(0x1b7)](LTM_DP_DRIFT_STATUS,{'val':_0x19d3ed[_0x1e9123(0x2af)],'ack':!![]}),await this[_0x1e9123(0x1b7)](LTM_DP_DRIFT_DETAILS,{'val':_0x19d3ed[_0x1e9123(0x27a)],'ack':!![]}),await this[_0x1e9123(0x1b7)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date['now'](),'ack':!![]}));}catch(_0x56b595){}}['setupLtmScheduler'](){const _0xb80920=a0_0x1f20b9;try{if(this[_0xb80920(0x213)])this[_0xb80920(0x213)]['cancel']();if(!this[_0xb80920(0x243)]){this[_0xb80920(0x1b7)](LTM_DP_STATUS,{'val':'Deaktiviert\x20(Pro-Feature)','ack':!![]});return;}this[_0xb80920(0x213)]=schedule[_0xb80920(0x25e)](LTM_SCHEDULE,()=>this['createDailyDigest']());}catch(_0xc9df58){this[_0xb80920(0x1dc)][_0xb80920(0x18b)](_0xb80920(0x292)+_0xc9df58[_0xb80920(0x1fd)]);}}[a0_0x1f20b9(0x176)](){const _0x5b211f=a0_0x1f20b9;try{if(this[_0x5b211f(0x262)])this[_0x5b211f(0x262)]['cancel']();this[_0x5b211f(0x262)]=schedule[_0x5b211f(0x25e)](MODE_RESET_SCHEDULE,async()=>{const _0x43991d=_0x5b211f;await this[_0x43991d(0x1c9)](),AUTO_RESET_MODES[_0x43991d(0x265)](this[_0x43991d(0x276)])&&await this['setStateAsync'](SYSTEM_DP_MODE,{'val':SYSTEM_MODES['NORMAL'],'ack':![]});});}catch(_0x414937){this[_0x5b211f(0x1dc)][_0x5b211f(0x18b)](_0x5b211f(0x229)+_0x414937['message']);}}[a0_0x1f20b9(0x1ef)](){const _0x254cf2=a0_0x1f20b9;try{if(this['driftAnalysisTimer'])clearInterval(this[_0x254cf2(0x2b7)]);if(!this['isProVersion'])return;this['driftAnalysisTimer']=setInterval(()=>this[_0x254cf2(0x21b)](),(this[_0x254cf2(0x192)][_0x254cf2(0x14f)]||0x18)*0x36ee80),setTimeout(()=>this[_0x254cf2(0x21b)](),0x1388);}catch(_0x30dc32){this[_0x254cf2(0x1dc)][_0x254cf2(0x18b)](_0x254cf2(0x1f4)+_0x30dc32[_0x254cf2(0x1fd)]);}}[a0_0x1f20b9(0x256)](){const _0x6a99ed=a0_0x1f20b9;try{if(this[_0x6a99ed(0x258)])this[_0x6a99ed(0x258)][_0x6a99ed(0x2d7)]();if(!this[_0x6a99ed(0x192)][_0x6a99ed(0x2ab)])return;const _0x568e7b=(this['config'][_0x6a99ed(0x1c3)]||'08:00')['split'](':'),_0x21278e=parseInt(_0x568e7b[0x0])||0x8,_0x3000df=parseInt(_0x568e7b[0x1])||0x0,_0x380513=_0x3000df+'\x20'+_0x21278e+'\x20*\x20*\x20*';this[_0x6a99ed(0x1dc)]['info'](_0x6a99ed(0x1d0)+_0x21278e+':'+(_0x3000df<0xa?'0'+_0x3000df:_0x3000df)),this[_0x6a99ed(0x258)]=schedule['scheduleJob'](_0x380513,()=>{this['sendMorningBriefing']();});}catch(_0x3ae415){this[_0x6a99ed(0x1dc)][_0x6a99ed(0x18b)](_0x6a99ed(0x27e)+_0x3ae415[_0x6a99ed(0x1fd)]);}}async[a0_0x1f20b9(0x1b4)](_0x45c607,_0x2d30cc=![],_0xf5daa5=![]){const _0x32b046=a0_0x1f20b9;this[_0x32b046(0x1dc)][_0x32b046(0x2c2)]((_0x2d30cc?_0x32b046(0x2c4):'')+'Sending\x20notification:\x20\x22'+_0x45c607+'\x22');const _0x44cd80=this[_0x32b046(0x192)];let _0x579255=0x0;_0x44cd80['notifyTelegramEnabled']&&(await this[_0x32b046(0x24a)](_0x44cd80[_0x32b046(0x28e)],_0x32b046(0x2c7),{'text':_0x45c607,'user':_0x44cd80[_0x32b046(0x1ab)]}),_0x579255++);if(_0x44cd80[_0x32b046(0x1d8)]){let _0x2d3503={'message':_0x45c607,'title':_0xf5daa5?'üö®\x20EMERGENCY':_0x32b046(0x1e7),'priority':_0xf5daa5?0x2:0x1,'device':_0x44cd80[_0x32b046(0x185)]};_0xf5daa5&&(_0x2d3503['retry']=0x1e,_0x2d3503[_0x32b046(0x163)]=0xe10,_0x2d3503[_0x32b046(0x17d)]='siren'),await this[_0x32b046(0x24a)](_0x44cd80[_0x32b046(0x203)],'send',_0x2d3503),_0x579255++;}return _0x44cd80[_0x32b046(0x196)]&&(await this[_0x32b046(0x24a)](_0x44cd80[_0x32b046(0x2dd)],_0x32b046(0x2c7),{'text':_0x45c607,'to':_0x44cd80[_0x32b046(0x28b)]}),_0x579255++),_0x579255;}}function a0_0x4e3d(){const _0x2da531=['temperature','.\x20PERSONA:\x20','text.alarm','doors','push','analysis.deviationFromBaseline','.NextHours.Location_1.Day_1.current.symbol_desc','lastAlertState','json','getForeignObjectsAsync','Kein\x20API\x20Key\x20konfiguriert!','ltmDriftCheckIntervalHours','selectedFunctionIds','button','config_pending','sendTo','analysis.automation','Comfort\x20Summary','K√ºche','command','analysis.health.notes','KALENDER:\x20Keine\x20Kalender\x20ausgew√§hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)','Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','toLowerCase','enum','Wohnzimmer','ltmStbWindowDays','initZombies','system','join','k√ºche','expire','54425NBgtjZ','LTM.triggerDailyDigest','checkLicense','bewegung','Restlessness\x20Level','AI\x20Alert\x20Status','NORMAL','history.','substring','common','Comfort\x20Suggestion','search','cover','length','KALENDER:\x20','analysis.isAlert','vacation','system.mode','setupModeResetScheduler','analysisTimer','normal','targetposition','openweathermap','number','simple-api.','sound','application/json','üö®üö®\x20NOTFALL','pr√§senz','scanDevices','blind','.forecast.current.state','Normal','notifyPushoverRecipient','role','useWeather','scriptProblem','bind','generateContent','error','Trigger\x20Briefing\x20(Test)','stringify','analysisInterval','generic','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getForeignStateAsync','config','date','sensorLastValues','humidity','notifyEmailEnabled','comfort','Aktiv\x20(','PARTY','isAlert','find','analysis.health.sleepScore','toString','onUnload','minDaysForBaseline','flot.','logDuplicates','checkWifiPresence','some','systemConfig','TEST-PRO-KEY','LTM.processingStatus','guest','ack','cogni-living','Error\x20checking\x20WiFi:\x20','notifyTelegramRecipient','replace','Logbook','off','shutter','Deaktiviert\x20(Pro-Feature)','430964GzJQTn','string','location','sendNotification','tryParse','analysis.trigger','setStateAsync','Subscribing\x20to\x20','.\x20PR√ÑSENZ:\x20','onReady','analysis.analysisHistory','door','Wetter:\x20Deaktiviert','253717ADrPMV','object','lock','flur','parse','briefingTime','\x20presence\x20devices...','openweathermap.0','power','Raw\x20Log','0\x204\x20*\x20*\x20*','loadSystemMode','saveDailyDigests','lowbat','4438536FMeWQF','reachable','licht','t√ºr','Scheduling\x20Morning\x20Briefing\x20for\x20','LTM.rawEventLog','node-schedule','Description','‚ö†Ô∏è\x20Alarm','uuid-not-found','getCalendarNames\x20Error:\x20','system.config','notifyPushoverEnabled','updateAnalysisHistory','analysis.activitySummary','LTM.driftAnalysis.lastCheck','log','loadRawEventLog','WETTER\x20ERROR:\x20','presence','analysis.isEmergency','initSystemConfig','longitude','custom','triggerBriefing','Trigger\x20Analysis','setObjectNotExistsAsync','Cogni-Living','rssi','_calName','direction','extendObjectAsync','details','isGracePeriodActive','schlaf','setupDriftAnalysisScheduler','\x20min).','0\x203\x20*\x20*\x20*','valve','slice','Drift\x20Sched\x20Error:\x20','javascript.','_score','createDailyDigest','lights','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CRITICAL\x20SAFETY\x20CHECK:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20Sofort/Ad-Hoc:\x20Ist\x20es\x20jetzt\x20(','bad','loadDailyDigests','message','light','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','saveFeedback','KALENDER\x20ERROR:\x20','checkSystemObjects','notifyPushoverInstance','16ApqQsu','onStateChange','@iobroker/adapter-core','isPresent','sort','link_quality','exitTimer','feedbackHistory','Gast','echarts.','split','runGeminiAnalysis','analysis.health','unknown','from','ltmJob','Starting\x20Autopilot\x20(','getWeatherContext','LTM.driftAnalysis','motion','Scanning\x20for\x20devices\x20(V7:\x20Basics\x20+\x20Explicit\x20Whitelist)...','.Summary.Current','setPresence','runBaselineDriftAnalysis','accuweather','dutycycle','boolean','\x0aSTB:\x20','Gemini\x20Init\x20Error:\x20','patternDetected','analysis.automation.description','brightness','getLtmData','isArray','Automation\x20Proposals','isEmergency','uuid','Reset\x20Sched\x20Error:\x20','Lernphase\x20(','sensor','GUEST','\x20Phase\x203:\x20DRIFT\x20ACTIVE.\x20Compare\x20recent\x20events\x20against\x20long-term\x20patterns.','setHours','getSystemUUID','text','Sleep\x20Score\x20(0-100)','Trigger\x20Digest','models/gemini-flash-latest','value.health','Baseline\x20Status','@google/generative-ai','N/A','Party','systemUUID','Daily\x20Digests','getCalendarContext','write','setupLtmScheduler','51441GrTNQL','Processing\x20Status','set_temperature','setState','Nein','isProVersion','scriptEnabled','processSensorEvent','analysis.automation.patternDetected',')\x20-\x20OBFUSCATION\x20SAFE\x20MODE','System\x20Status\x20&\x20Control','forEach','sendToAsync','testNotification','enum.functions.*','values','stick_unreach','(((.+)+)+)+$','getForeignObjectAsync','294TAafDl','analysisHistory','useCalendar','LTM.driftAnalysis.driftDetails','warn','setupBriefingScheduler','callback','briefingJob','timestamp','licenseKey','system.meta.uuid','Kalender:\x20Deaktiviert','channel','scheduleJob','Action','abortExitTimer','events.lastEvent','modeResetJob','exitGraceTimer','schalter','includes','none','Last\x20raw\x20event','online','native','onMessage','Activity\x20Summary','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT:\x20','position','main','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','wohn','subscribeForeignStatesAsync','getEnums','type','updateBaselineStatus','alertReason','currentSystemMode','createAllObjects','occupancy','inactivityThresholdHours','driftDetails','system.','version','trim','Briefing\x20Sched\x20Error:\x20','now','geminiApiKey','ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20','val','5414922hCygPW','long','saveRawEventLog','isExit','N/A\x20(Learning)','Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','thermostat','\x20|\x20','notifyEmailRecipient','latitude','\x20sensors...','notifyTelegramInstance','analysis.alertReason','status','Feedback\x20Log','LTM\x20Sched\x20Error:\x20','dimmer','2-digit','state','geminiModel','initPresenceSubscriptions','icons-mfd.','3338391GbdXzQ','analysis.health.restlessness','Pattern\x20Detected','Error\x20reading\x20calendar\x20table:\x20','enum.rooms.*','uuid-error','Health\x20&\x20Sleep\x20Analysis','Badezimmer','presenceDevices','activity','VACATION','runAutopilot','toLocaleString','analysis.comfortSuggestion','ical.0','eventHistory','members','LTM.dailyDigests','briefingEnabled','Keine\x20neuen\x20Automatisierungs-Muster\x20erkannt.','description','unload','baselineDrift','startExitTimer','cogni-living\x20adapter\x20starting\x20(v','Gemini\x20AI\x20initialized.','stateChange','devices','getStateAsync','party','driftAnalysisTimer','lampe','events.history','subscribeStates','LTM','toISOString','weatherunderground.0','accuweather.0','value','unshift','WETTER:\x20','info','dailyDigests','[TEST]\x20','working','filter','send','Drift\x20Status','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22isEmergency\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20},\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number\x20(0-100),\x20\x22restlessness\x22:\x20\x22none|low|medium|high\x22,\x20\x22notes\x22:\x20\x22string\x22\x20}\x20}','.\x20MODUS:\x20','initSensorSubscriptions','initHistory','name','response','analysis.lastResult','.data.table','aiPersona','firmware','analysis.comfortSummary','WETTER:\x20Keine\x20Daten\x20gefunden','AI\x20Emergency\x20Status','calendarInstance','cancel','setpoint','sendMorningBriefing','daswetter.0','map','rawEventLog','notifyEmailInstance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin.','pop','time','daswetter','splice'];a0_0x4e3d=function(){return _0x2da531;};return a0_0x4e3d();}if(require[a0_0x1f20b9(0x26e)]!==module)module['exports']=_0x274a7d=>new CogniLiving(_0x274a7d);else new CogniLiving();