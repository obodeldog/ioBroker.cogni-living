const a0_0x779353=a0_0xf1ab;(function(_0x47df62,_0xabf5a4){const _0xa8acec=a0_0xf1ab,_0x22c1e6=_0x47df62();while(!![]){try{const _0x184a56=parseInt(_0xa8acec(0x141))/0x1*(-parseInt(_0xa8acec(0xdb))/0x2)+-parseInt(_0xa8acec(0xe3))/0x3+parseInt(_0xa8acec(0x164))/0x4*(parseInt(_0xa8acec(0x10a))/0x5)+-parseInt(_0xa8acec(0x111))/0x6+parseInt(_0xa8acec(0x179))/0x7*(-parseInt(_0xa8acec(0x110))/0x8)+parseInt(_0xa8acec(0x13e))/0x9*(parseInt(_0xa8acec(0x9f))/0xa)+-parseInt(_0xa8acec(0xc5))/0xb*(-parseInt(_0xa8acec(0x12c))/0xc);if(_0x184a56===_0xabf5a4)break;else _0x22c1e6['push'](_0x22c1e6['shift']());}catch(_0x124567){_0x22c1e6['push'](_0x22c1e6['shift']());}}}(a0_0x4c6c,0x47e0a));const a0_0x467c4c=(function(){let _0x59309c=!![];return function(_0x30e53a,_0x1e6734){const _0x28f3d9=_0x59309c?function(){const _0x177c4f=a0_0xf1ab;if(_0x1e6734){const _0x1a3231=_0x1e6734[_0x177c4f(0x169)](_0x30e53a,arguments);return _0x1e6734=null,_0x1a3231;}}:function(){};return _0x59309c=![],_0x28f3d9;};}()),a0_0x4fe426=a0_0x467c4c(this,function(){const _0x4bdba8=a0_0xf1ab;return a0_0x4fe426['toString']()['search'](_0x4bdba8(0xab))[_0x4bdba8(0x146)]()[_0x4bdba8(0xb0)](a0_0x4fe426)[_0x4bdba8(0x152)](_0x4bdba8(0xab));});function a0_0x4c6c(){const _0x523235=['Simulation\x20durch\x20Admin\x20(Test)','analysis.health.todayVector','join','cleanupGhostInterventions','721413FSdmdi','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','updateTopology','isProVersion',')\x20-\x20Phase\x20D\x20(Transparency)','./lib/topology','namespace','analysis.training.triggerComfort','daswetter.0','getForeignObjectsAsync','analysis.energy.ventilationAlerts','json','initZombies','setHours','Kein\x20Wetter-Adapter','guest','analysis.trigger','./lib/recorder','LTM.dailyDigests','response','healthTrendInterval','stateChange','184372sbRcdA','slice','exports','analysis.security.learningStatus','LTM.rawEventLog','Standard','Heizung\x20kann\x20','./lib/scanner','1435764GOOnnb','val','floor','getOutsideTemperatureNumeric','getForeignObjectAsync','setState','simulateEnergyMPC','@iobroker/adapter-core','unload','â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','string','thermostat','analysis.triggerBriefing','dismissAutomation','runAutopilot','PYTHON_EXE','.communicate.request','forEach','Kein\x20API\x20Key\x20Ã¼bergeben','error','Verbunden','General\x20Activity\x20Trend\x20(%)','loadSystemMode','sort','analysis.automation.triggerAction','getHours','generateContent','message','location','isPresent','analysis.energy.pinnForecast','\x20min\x20ausbleiben.','temperature','driftAnalysisTimer','getGenerativeModel','telegram','analysis.energy.rlPenalties','lastTrackerEventTime','accuweather.0','66735XsIBbH','analysis.energy.warmupTimes','getStateAsync','onMessage','inactivityThresholdHours','devices','3172376nCQchq','1882272pfCIzW','Daten\x20nicht\x20verfÃ¼gbar','checkAndInstall','system.presenceWho','debug','analysis.training.triggerTopology','Lernphase\x20(','key','createAllObjects','includes','getEnums','subscribeForeignStatesAsync','minutes_safe','geminiModel','@google/generative-ai','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','endsWith','Test','config','apiKey','callback','presenceDevices','sensorLastValues','Reinforcement\x20Learning\x20Penalties','name','ltmJob','\x20Tage)','336qDwGkp','executeAutomationAction','setupDriftAnalysisScheduler','trackerHeartbeat','pop','activityLevel','./lib/python_bridge','isArray','./lib/scheduler','abs','runBaselineDriftAnalysis','analysis.energy.warmupTargets','updateLocation','setObjectNotExistsAsync','SYSTEM_DP_MODE','SET_TOPOLOGY','checkLicense','stopService','45LHWTUt','Kein\x20Kalender-Adapter','log','5JBUoWe','triggerGaitAnalysis','type','some','modeResetJob','toString','testApiKey','simulateButler','./lib/automation','genAI','abortExitTimer','bind','now','NORMAL','heiter','initSystemConfig','sonn','search','matrix','forecast.current.weather','analysisInterval','setupBriefingScheduler','LTM.trainingData.sequences','exitTimer','./lib/setup','Keine\x20Antwort\x20von\x20Gemini','timestamp','analysis.training.triggerSecurity','{\x22default\x22:\x2021}','processSensorEvent','length','useWeather','triggerEnergyPrediction','analysis.training.triggerHealth','TRAIN_COMFORT','16qwcVIH','entries','analysisHistory','getLtmData','enum','apply','fill','onUnload','TRAIN_SECURITY','parse','Adapter','models/gemini-flash-latest','./lib/installer','keys','toLowerCase','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','geminiApiKey','checkWifiPresence','analysis.automation.targetId','exitGraceTimer','startService','7rDpOsE','from','Warm-Up\x20Target\x20Temps\x20(JSON)','Active\x20Ventilation\x20Alerts','ack','setPresence','setupLtmScheduler','enum.rooms.*','push','sendNotification','enum.functions.*','LTM.trainingData.thermodynamics','analysis.health.gaitDebug','SET_LEARNING_MODE','onStateChange','briefingJob','manual','currentSystemMode','createDailyDigest','_calName','testNotification','communicate.request','object','Gemini\x20Init\x20Error:\x20','values','rawEventLog','calendarInstance','initHistory','./lib/ai_agent','notifyTelegramEnabled','eventHistory','runPythonHealthCheck','startSystem','onReady','Activity-Level','common','text','analysis.topology.structure','add','setStateAsync','state','PINN\x20AI\x20Forecast','isSolar','analysis.energy.insulationScore','command','automation.triggerAction','checkCalendarTriggers','version','ANALYZE_GAIT','analysis.automation.patternDetected','find','clear','sendTo','analysis.training.triggerEnergy','weatherunderground.0','LTM.triggerDailyDigest','108950gLYLqB','dependencyInstallInProgress','NextHours.Location_1.Day_1.current.symbol_desc','checkSolarCondition','send','analysis.automation.targetValue','stringify','sendMorningBriefing','dailyDigests','Current.WeatherText','TRAIN_ENERGY','minDaysForBaseline','(((.+)+)+)+$','notifyTelegramInstance','subscribeStates','checkThermostats','number','constructor','Fehler:\x20','scores','systemConfig','triggerDailyDigest','calendarName','getForeignStateAsync','Instanz\x20nicht\x20gefunden','getTime','TRACK_EVENT','cancel','analysis.automation.description','info','updateHealthVector','analysisTimer','ANALYZE_TREND','SYSTEM_MODES'];a0_0x4c6c=function(){return _0x523235;};return a0_0x4c6c();}a0_0x4fe426();'use strict';function a0_0xf1ab(_0x2c8cee,_0x1e27c1){const _0x46af66=a0_0x4c6c();return a0_0xf1ab=function(_0x4fe426,_0x467c4c){_0x4fe426=_0x4fe426-0x82;let _0x4c6cfe=_0x46af66[_0x4fe426];return _0x4c6cfe;},a0_0xf1ab(_0x2c8cee,_0x1e27c1);}const utils=require(a0_0x779353(0xea)),{GoogleGenerativeAI}=require(a0_0x779353(0x11f)),installer=require(a0_0x779353(0x170)),scanner=require(a0_0x779353(0xe2)),schedulers=require(a0_0x779353(0x134)),topology=require(a0_0x779353(0xca)),setup=require(a0_0x779353(0x159)),recorder=require(a0_0x779353(0xd6)),pythonBridge=require(a0_0x779353(0x132)),aiAgent=require(a0_0x779353(0x83)),deadMan=require('./lib/dead_man'),automation=require(a0_0x779353(0x149)),GEMINI_MODEL=a0_0x779353(0x16f),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x779353(0x16e)]{constructor(_0x3d70c1){const _0x4e4d43=a0_0x779353;super({..._0x3d70c1,'name':'cogni-living'}),this[_0x4e4d43(0x85)]=[],this[_0x4e4d43(0x166)]=[],this['rawEventLog']=[],this[_0x4e4d43(0xa7)]=[],this[_0x4e4d43(0x127)]={},this[_0x4e4d43(0xb3)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x4e4d43(0x100)]=!![],this[_0x4e4d43(0x158)]=null,this[_0x4e4d43(0x177)]=null,this['isGracePeriodActive']=![],this['genAI']=null,this['geminiModel']=null,this[_0x4e4d43(0x18a)]=setup[_0x4e4d43(0xc0)]['NORMAL'],this['isProVersion']=![],this['lastAlertState']=![],this[_0x4e4d43(0xbe)]=null,this['ltmJob']=null,this['modeResetJob']=null,this[_0x4e4d43(0x104)]=null,this[_0x4e4d43(0x188)]=null,this[_0x4e4d43(0x12f)]=null,this['healthTrendInterval']=null,this[_0x4e4d43(0xa0)]=![],this[_0x4e4d43(0x108)]=Date[_0x4e4d43(0x14d)](),this['on']('ready',this[_0x4e4d43(0x88)][_0x4e4d43(0x14c)](this)),this['on'](_0x4e4d43(0xda),this[_0x4e4d43(0x187)][_0x4e4d43(0x14c)](this)),this['on'](_0x4e4d43(0xeb),this['onUnload'][_0x4e4d43(0x14c)](this)),this['on'](_0x4e4d43(0xfe),this['onMessage']['bind'](this));}async[a0_0x779353(0x88)](){const _0x4d94cd=a0_0x779353;this[_0x4d94cd(0x140)][_0x4d94cd(0xbc)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x4d94cd(0x96)]+_0x4d94cd(0xc9));if(!installer[_0x4d94cd(0x113)](this,()=>this[_0x4d94cd(0x87)]()))return;}async[a0_0x779353(0x87)](){const _0x4bd82f=a0_0x779353;await setup[_0x4bd82f(0xd1)](this);try{this[_0x4bd82f(0xc8)]=await setup[_0x4bd82f(0x13c)](this[_0x4bd82f(0x123)]['licenseKey']);}catch(_0x3f9ebc){}if(!this[_0x4bd82f(0x123)]['inactivityThresholdHours']||this[_0x4bd82f(0x123)][_0x4bd82f(0x10e)]<0.1)this['config'][_0x4bd82f(0x10e)]=0xc;await setup[_0x4bd82f(0x82)](this),await setup[_0x4bd82f(0x150)](this);if(this['config']['geminiApiKey'])try{this[_0x4bd82f(0x14a)]=new GoogleGenerativeAI(this[_0x4bd82f(0x123)][_0x4bd82f(0x174)]),this[_0x4bd82f(0x11e)]=this[_0x4bd82f(0x14a)][_0x4bd82f(0x105)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this[_0x4bd82f(0x140)][_0x4bd82f(0xbc)]('Gemini\x20AI\x20initialized.');}catch(_0x5ba22e){this[_0x4bd82f(0x140)]['error'](_0x4bd82f(0x190)+_0x5ba22e[_0x4bd82f(0xfe)]);}await setup[_0x4bd82f(0x119)](this),await this[_0x4bd82f(0xf9)](),await this[_0x4bd82f(0x139)](_0x4bd82f(0x101),{'type':_0x4bd82f(0x8f),'common':{'name':_0x4bd82f(0x90),'type':_0x4bd82f(0xed),'role':_0x4bd82f(0xd0),'read':!![],'write':![]},'native':{}}),await this[_0x4bd82f(0x139)](_0x4bd82f(0xcf),{'type':'state','common':{'name':_0x4bd82f(0x17c),'type':_0x4bd82f(0xed),'role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4bd82f(0x10b),{'type':'state','common':{'name':_0x4bd82f(0x173),'type':_0x4bd82f(0xed),'role':_0x4bd82f(0xd0),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x4bd82f(0x137),{'type':'state','common':{'name':_0x4bd82f(0x17b),'type':_0x4bd82f(0xed),'role':'json','read':!![],'write':!![],'def':_0x4bd82f(0x15d)},'native':{}}),await this['setObjectNotExistsAsync'](_0x4bd82f(0x107),{'type':_0x4bd82f(0x8f),'common':{'name':_0x4bd82f(0x128),'type':_0x4bd82f(0xed),'role':'json','read':!![],'write':![],'def':'{}'},'native':{}}),await this['setObjectNotExistsAsync']('analysis.health.activityTrend',{'type':_0x4bd82f(0x8f),'common':{'name':_0x4bd82f(0xf8),'type':_0x4bd82f(0xaf),'role':'value','unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x4bd82f(0x139)]('analysis.health.gaitSensors',{'type':_0x4bd82f(0x8f),'common':{'name':'Sensors\x20used\x20for\x20Gait\x20Analysis','type':'string','role':_0x4bd82f(0x8b),'read':!![],'write':![]},'native':{}}),await this[_0x4bd82f(0x139)](_0x4bd82f(0x185),{'type':_0x4bd82f(0x8f),'common':{'name':'Gait\x20Speed\x20Calculation\x20Proof','type':'string','role':_0x4bd82f(0x8b),'read':!![],'write':![]},'native':{}});try{const _0x171fbf=await this[_0x4bd82f(0x10c)](_0x4bd82f(0xdf));if(_0x171fbf&&_0x171fbf[_0x4bd82f(0xe4)])this[_0x4bd82f(0x192)]=JSON[_0x4bd82f(0x16d)](_0x171fbf['val']);}catch(_0x4a68bf){this[_0x4bd82f(0x192)]=[];}try{const _0x5d3215=await this['getStateAsync'](_0x4bd82f(0xd7));if(_0x5d3215&&_0x5d3215['val'])this['dailyDigests']=JSON[_0x4bd82f(0x16d)](_0x5d3215['val']);}catch(_0x5dce6c){this[_0x4bd82f(0xa7)]=[];}const _0xf8cb8f=this[_0x4bd82f(0xa7)]['length']>=(this[_0x4bd82f(0x123)][_0x4bd82f(0xaa)]||0x7)?'Aktiv\x20('+this[_0x4bd82f(0xa7)][_0x4bd82f(0x15f)]+_0x4bd82f(0x12b):_0x4bd82f(0x117)+this[_0x4bd82f(0xa7)][_0x4bd82f(0x15f)]+'/'+(this[_0x4bd82f(0x123)]['minDaysForBaseline']||0x7)+')';await this[_0x4bd82f(0x8e)]('LTM.baselineStatus',{'val':_0xf8cb8f,'ack':!![]}),this[_0x4bd82f(0xad)](_0x4bd82f(0xd5)),this[_0x4bd82f(0xad)](_0x4bd82f(0x9e)),this[_0x4bd82f(0xad)]('system.mode'),this['subscribeStates'](_0x4bd82f(0xef)),this[_0x4bd82f(0xad)](_0x4bd82f(0xfb)),this[_0x4bd82f(0xad)]('analysis.automation.autoApply'),this[_0x4bd82f(0xad)](_0x4bd82f(0x15c)),this['subscribeStates'](_0x4bd82f(0x162)),this[_0x4bd82f(0xad)](_0x4bd82f(0x9c)),this[_0x4bd82f(0xad)](_0x4bd82f(0xcc)),this[_0x4bd82f(0xad)](_0x4bd82f(0x116)),this['subscribeStates']('analysis.energy.mpcActive');const _0x14e995=this['config'][_0x4bd82f(0x10f)];if(_0x14e995)for(const _0x6c3e53 of _0x14e995){await this['subscribeForeignStatesAsync'](_0x6c3e53['id']);}const _0x2ab09d=this[_0x4bd82f(0x123)][_0x4bd82f(0x126)];if(_0x2ab09d)for(const _0x22b347 of _0x2ab09d){await this[_0x4bd82f(0x11c)](_0x22b347);}if(this[_0x4bd82f(0x123)][_0x4bd82f(0x84)]&&this[_0x4bd82f(0x123)][_0x4bd82f(0xac)])await this[_0x4bd82f(0x11c)](this['config'][_0x4bd82f(0xac)]+_0x4bd82f(0xf3));setTimeout(()=>this[_0x4bd82f(0x175)](),0x1388);if(this[_0x4bd82f(0xbe)])clearInterval(this[_0x4bd82f(0xbe)]);const _0x1f8a1d=this[_0x4bd82f(0x123)][_0x4bd82f(0x155)]||0xf;_0x1f8a1d>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x1f3e30=_0x4bd82f;this[_0x1f3e30(0xf1)](),automation[_0x1f3e30(0x95)](this);},_0x1f8a1d*0x3c*0x3e8));setTimeout(()=>automation[_0x4bd82f(0x95)](this),0x2710);this[_0x4bd82f(0x123)]['trackerEnabled']!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0x4ed0bb=_0x4bd82f;if(this[_0x4ed0bb(0xc8)]){const _0x188746=Date[_0x4ed0bb(0x14d)](),_0x367cdf=this[_0x4ed0bb(0x108)]||_0x188746,_0x119b53=(_0x188746-_0x367cdf)/0x3e8;_0x119b53>0x2&&(this[_0x4ed0bb(0x108)]=_0x188746,pythonBridge[_0x4ed0bb(0xa3)](this,_0x4ed0bb(0xb9),{'room':null,'dt':_0x119b53}));}},0xbb8));if(this[_0x4bd82f(0xd9)])clearInterval(this[_0x4bd82f(0xd9)]);this['healthTrendInterval']=setInterval(()=>{const _0x4a9438=_0x4bd82f;this[_0x4a9438(0xc8)]&&(this[_0x4a9438(0x140)][_0x4a9438(0xbc)](_0x4a9438(0xec)),this[_0x4a9438(0x86)]());},0x4*0x3c*0x3c*0x3e8),schedulers[_0x4bd82f(0x17f)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x4bd82f(0x12e)](this,()=>aiAgent[_0x4bd82f(0x136)](this)),schedulers[_0x4bd82f(0x156)](this,()=>aiAgent[_0x4bd82f(0xa6)](this)),pythonBridge[_0x4bd82f(0x178)](this,installer[_0x4bd82f(0xf2)]),setTimeout(async()=>{const _0x1206d3=_0x4bd82f;await topology[_0x1206d3(0xc7)](this);try{const _0x1242ac=await this[_0x1206d3(0x10c)](_0x1206d3(0x8c));if(_0x1242ac&&_0x1242ac[_0x1206d3(0xe4)])pythonBridge[_0x1206d3(0xa3)](this,_0x1206d3(0x13b),JSON[_0x1206d3(0x16d)](_0x1242ac[_0x1206d3(0xe4)]));}catch(_0x38b0e3){}this[_0x1206d3(0x86)](),this[_0x1206d3(0x142)](),this[_0x1206d3(0x161)](),this[_0x1206d3(0xbd)]();},0x1388);}[a0_0x779353(0x16b)](_0x422cfc){const _0x45cc10=a0_0x779353;if(this[_0x45cc10(0xbe)])clearInterval(this[_0x45cc10(0xbe)]);if(this['driftAnalysisTimer'])clearInterval(this[_0x45cc10(0x104)]);if(this[_0x45cc10(0x12f)])clearInterval(this[_0x45cc10(0x12f)]);if(this[_0x45cc10(0xd9)])clearInterval(this[_0x45cc10(0xd9)]);if(this[_0x45cc10(0x12a)])this[_0x45cc10(0x12a)][_0x45cc10(0xba)]();if(this['modeResetJob'])this[_0x45cc10(0x145)][_0x45cc10(0xba)]();if(this[_0x45cc10(0x188)])this[_0x45cc10(0x188)][_0x45cc10(0xba)]();recorder[_0x45cc10(0x14b)](this),pythonBridge[_0x45cc10(0x13d)](this),_0x422cfc();}async['onStateChange'](_0x3aa050,_0x40c3bc){const _0x82e506=a0_0x779353;if(!_0x40c3bc||this[_0x82e506(0xa0)])return;if(_0x3aa050[_0x82e506(0x11a)](_0x82e506(0x106))&&_0x3aa050[_0x82e506(0x121)](_0x82e506(0x18e))&&_0x40c3bc[_0x82e506(0xe4)])return;if(_0x3aa050===this[_0x82e506(0xcb)]+'.system.mode'){if(_0x40c3bc[_0x82e506(0xe4)]&&Object[_0x82e506(0x191)](setup[_0x82e506(0xc0)])[_0x82e506(0x11a)](_0x40c3bc[_0x82e506(0xe4)])){this['currentSystemMode']=_0x40c3bc['val'];if(_0x40c3bc[_0x82e506(0xe4)]===setup['SYSTEM_MODES']['VACATION'])await recorder[_0x82e506(0x17e)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x82e506(0xc8)]){let _0x8117eb=![],_0x25000f=0x0,_0x4551ae=_0x82e506(0x189);if(this[_0x82e506(0x18a)]==='party')_0x8117eb=!![],_0x25000f=0x168,_0x4551ae='Party\x20Mode';else this['currentSystemMode']===_0x82e506(0xd4)&&(_0x8117eb=!![],_0x25000f=0x5a0,_0x4551ae='Guest\x20Mode');pythonBridge[_0x82e506(0xa3)](this,_0x82e506(0x186),{'active':_0x8117eb,'duration':_0x25000f,'label':_0x4551ae}),await this[_0x82e506(0x8e)](_0x82e506(0xde),{'val':JSON['stringify']({'active':_0x8117eb,'label':_0x4551ae,'timestamp':Date['now']()}),'ack':!![]});}}if(!_0x40c3bc['ack'])this[_0x82e506(0xe8)](_0x3aa050,{'val':this[_0x82e506(0x18a)],'ack':!![]});return;}if(!_0x40c3bc[_0x82e506(0x17d)]){if(_0x3aa050[_0x82e506(0x11a)](_0x82e506(0xd5))&&_0x40c3bc[_0x82e506(0xe4)]){this[_0x82e506(0xe8)](_0x3aa050,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0x3aa050['includes'](_0x82e506(0xb4))&&_0x40c3bc[_0x82e506(0xe4)]){this['setState'](_0x3aa050,{'val':![],'ack':!![]});if(this[_0x82e506(0xc8)])aiAgent[_0x82e506(0x18b)](this,pythonBridge);return;}if(_0x3aa050[_0x82e506(0x11a)]('triggerBriefing')&&_0x40c3bc[_0x82e506(0xe4)]){this[_0x82e506(0xe8)](_0x3aa050,{'val':![],'ack':!![]}),aiAgent[_0x82e506(0xa6)](this);return;}if(_0x3aa050[_0x82e506(0x11a)](_0x82e506(0x94))&&_0x40c3bc['val']){this[_0x82e506(0xe8)](_0x3aa050,{'val':![],'ack':!![]}),aiAgent[_0x82e506(0x12d)](this);return;}if(_0x3aa050[_0x82e506(0x11a)](_0x82e506(0x15c))&&_0x40c3bc['val']){this[_0x82e506(0xe8)](_0x3aa050,{'val':![],'ack':!![]});if(this[_0x82e506(0xc8)])try{const _0x31a72e=await this[_0x82e506(0x10c)](_0x82e506(0x157));if(_0x31a72e&&_0x31a72e[_0x82e506(0xe4)]){const _0x4a9a06=JSON[_0x82e506(0x16d)](_0x31a72e['val']);this[_0x82e506(0x8e)]('analysis.training.status',{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge['send'](this,_0x82e506(0x16c),{'sequences':_0x4a9a06});}}catch(_0x1704b2){}return;}if(_0x3aa050[_0x82e506(0x11a)](_0x82e506(0x162))&&_0x40c3bc[_0x82e506(0xe4)]){this[_0x82e506(0xe8)](_0x3aa050,{'val':![],'ack':!![]});if(this[_0x82e506(0xc8)])try{const _0x41af94=await this[_0x82e506(0x10c)](_0x82e506(0xd7));if(_0x41af94&&_0x41af94['val'])pythonBridge[_0x82e506(0xa3)](this,'TRAIN_HEALTH',{'digests':JSON[_0x82e506(0x16d)](_0x41af94[_0x82e506(0xe4)])});}catch(_0x242c23){}return;}if(_0x3aa050[_0x82e506(0x11a)](_0x82e506(0x9c))&&_0x40c3bc[_0x82e506(0xe4)]){this[_0x82e506(0xe8)](_0x3aa050,{'val':![],'ack':!![]});if(this[_0x82e506(0xc8)])try{const _0x2e6cd7=await this[_0x82e506(0x10c)](_0x82e506(0x184));if(_0x2e6cd7&&_0x2e6cd7[_0x82e506(0xe4)])pythonBridge[_0x82e506(0xa3)](this,_0x82e506(0xa9),{'points':JSON['parse'](_0x2e6cd7[_0x82e506(0xe4)])});}catch(_0x53dd28){}return;}if(_0x3aa050[_0x82e506(0x11a)](_0x82e506(0xcc))&&_0x40c3bc['val']){this['setState'](_0x3aa050,{'val':![],'ack':!![]});if(this[_0x82e506(0xc8)])try{const _0xc96dfc=await this['getStateAsync']('LTM.rawEventLog');if(_0xc96dfc&&_0xc96dfc[_0x82e506(0xe4)])pythonBridge['send'](this,_0x82e506(0x163),{'events':JSON[_0x82e506(0x16d)](_0xc96dfc[_0x82e506(0xe4)])});}catch(_0x39093d){}return;}if(_0x3aa050[_0x82e506(0x11a)](_0x82e506(0x116))&&_0x40c3bc[_0x82e506(0xe4)]){this[_0x82e506(0xe8)](_0x3aa050,{'val':![],'ack':!![]}),topology[_0x82e506(0xc7)](this);return;}}if(this['config'][_0x82e506(0x126)]&&this[_0x82e506(0x123)]['presenceDevices'][_0x82e506(0x11a)](_0x3aa050)){await this[_0x82e506(0x175)]();return;}const _0x28bf88=(this[_0x82e506(0x123)][_0x82e506(0x10f)]||[])[_0x82e506(0x99)](_0x4d5d0a=>_0x4d5d0a['id']===_0x3aa050);if(_0x28bf88){const _0x10faf8=await recorder[_0x82e506(0x15e)](this,_0x3aa050,_0x40c3bc,_0x28bf88);_0x10faf8&&_0x10faf8['type']==='motion'&&_0x10faf8['location']&&this['isProVersion']&&deadMan[_0x82e506(0x138)](this,_0x10faf8['location']),(_0x28bf88[_0x82e506(0x143)]===_0x82e506(0x103)||_0x28bf88['type']===_0x82e506(0xee))&&automation[_0x82e506(0xc4)](this);}}async[a0_0x779353(0x10d)](_0xd74169){const _0x3122b8=a0_0x779353;if(typeof _0xd74169==='object'&&_0xd74169[_0x3122b8(0xfe)]){if(_0xd74169[_0x3122b8(0x93)]===_0x3122b8(0xae))try{const _0x2b3597=await automation['scanThermostats'](this);this[_0x3122b8(0x9b)](_0xd74169['from'],_0xd74169[_0x3122b8(0x93)],{'success':!![],'results':_0x2b3597},_0xd74169[_0x3122b8(0x125)]);}catch(_0x460b0b){this[_0x3122b8(0x9b)](_0xd74169['from'],_0xd74169['command'],{'success':![],'error':_0x460b0b[_0x3122b8(0xfe)]},_0xd74169['callback']);}else{if(_0xd74169[_0x3122b8(0x93)]===_0x3122b8(0xe9))try{const {current_temps:_0x545e3f,t_out:_0x541e0d,targets:_0x1de7e1,t_forecast:_0x2e2c6c}=_0xd74169[_0x3122b8(0xfe)],_0x596da7=[];let _0x320027={};try{const _0x22801f=await this['getStateAsync'](_0x3122b8(0x92));if(_0x22801f&&_0x22801f[_0x3122b8(0xe4)]){const _0x29973f=JSON[_0x3122b8(0x16d)](_0x22801f[_0x3122b8(0xe4)]);_0x320027=_0x29973f[_0x3122b8(0xb2)]||_0x29973f;}}catch(_0xc642ef){}const _0x4ce742=_0x2e2c6c!==undefined&&_0x2e2c6c!==null?(_0x541e0d+_0x2e2c6c)/0x2:_0x541e0d;for(const [_0x2a57c1,_0x565267]of Object[_0x3122b8(0x165)](_0x545e3f)){const _0xe4ddc0=_0x1de7e1[_0x2a57c1]||0x15;if(_0x565267<=_0xe4ddc0)continue;let _0x2c2271=_0x320027[_0x2a57c1]||-0.5;if(_0x2c2271>=0x0)_0x2c2271=-0.5;const _0x2ae27b=Math[_0x3122b8(0x135)](_0x2c2271),_0x1301ec=_0x565267-_0xe4ddc0;let _0xe7878f=Math[_0x3122b8(0xe5)](_0x1301ec/_0x2ae27b*0x3c);const _0x5768a0=_0x565267-_0x541e0d,_0x4db963=_0x565267-_0x4ce742;if(_0x4db963!==0x0&&_0x5768a0!==0x0){const _0x59625c=_0x5768a0/_0x4db963;_0xe7878f=Math['floor'](_0xe7878f*_0x59625c);}if(_0xe7878f>0xf){if(_0xe7878f>0xf0)_0xe7878f=0xf0;_0x596da7[_0x3122b8(0x181)]({'room':_0x2a57c1,'minutes_safe':_0xe7878f,'target':_0xe4ddc0,'current':_0x565267,'savings_msg':_0x3122b8(0xe1)+_0xe7878f+_0x3122b8(0x102)});}}_0x596da7['sort']((_0x46ffec,_0x3c0220)=>_0x3c0220[_0x3122b8(0x11d)]-_0x46ffec['minutes_safe']),this[_0x3122b8(0x9b)](_0xd74169['from'],_0xd74169[_0x3122b8(0x93)],{'success':!![],'proposals':_0x596da7},_0xd74169[_0x3122b8(0x125)]);}catch(_0x5d24c9){this[_0x3122b8(0x9b)](_0xd74169[_0x3122b8(0x17a)],_0xd74169['command'],{'success':![],'error':_0x5d24c9['message']},_0xd74169[_0x3122b8(0x125)]);}else{if(_0xd74169[_0x3122b8(0x93)]==='resetRLPenalty')try{const _0x542bf8=_0xd74169[_0x3122b8(0xfe)][_0x3122b8(0x118)],_0x2d5d93=_0x3122b8(0x107),_0x58fd06=await this[_0x3122b8(0x10c)](_0x2d5d93);let _0x432ce2={};if(_0x58fd06&&_0x58fd06['val'])try{_0x432ce2=JSON[_0x3122b8(0x16d)](_0x58fd06[_0x3122b8(0xe4)]);}catch(_0x5f561e){}_0x542bf8&&_0x432ce2[_0x542bf8]?(delete _0x432ce2[_0x542bf8],await this[_0x3122b8(0x8e)](_0x2d5d93,{'val':JSON[_0x3122b8(0xa5)](_0x432ce2),'ack':!![]}),this[_0x3122b8(0x140)][_0x3122b8(0xbc)]('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0x542bf8+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.'),this[_0x3122b8(0x9b)](_0xd74169[_0x3122b8(0x17a)],_0xd74169[_0x3122b8(0x93)],{'success':!![]},_0xd74169[_0x3122b8(0x125)])):this[_0x3122b8(0x9b)](_0xd74169[_0x3122b8(0x17a)],_0xd74169['command'],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0xd74169[_0x3122b8(0x125)]);}catch(_0x3041bd){this['sendTo'](_0xd74169['from'],_0xd74169[_0x3122b8(0x93)],{'success':![],'error':_0x3041bd['message']},_0xd74169[_0x3122b8(0x125)]);}else{if(_0xd74169[_0x3122b8(0x93)]===_0x3122b8(0xf0))await this[_0x3122b8(0x8e)](_0x3122b8(0x98),{'val':![],'ack':!![]}),await this[_0x3122b8(0x8e)](_0x3122b8(0xbb),{'val':'','ack':!![]}),await this[_0x3122b8(0x8e)](_0x3122b8(0x176),{'val':'','ack':!![]}),this[_0x3122b8(0x9b)](_0xd74169[_0x3122b8(0x17a)],_0xd74169['command'],{'success':!![]},_0xd74169[_0x3122b8(0x125)]);else{if(_0xd74169[_0x3122b8(0x93)]===_0x3122b8(0x148)){const {targetId:_0x298702,targetValue:_0x4ac500}=_0xd74169[_0x3122b8(0xfe)];await this[_0x3122b8(0x8e)](_0x3122b8(0x98),{'val':!![],'ack':!![]}),await this[_0x3122b8(0x8e)]('analysis.automation.description',{'val':_0x3122b8(0xc1),'ack':!![]}),await this[_0x3122b8(0x8e)](_0x3122b8(0x176),{'val':_0x298702,'ack':!![]}),await this[_0x3122b8(0x8e)](_0x3122b8(0xa4),{'val':String(_0x4ac500),'ack':!![]}),this['sendTo'](_0xd74169['from'],_0xd74169[_0x3122b8(0x93)],{'success':!![]},_0xd74169[_0x3122b8(0x125)]);}else{if(_0xd74169['command']===_0x3122b8(0x147))try{const _0x31f690=_0xd74169[_0x3122b8(0xfe)][_0x3122b8(0x124)];if(!_0x31f690)throw new Error(_0x3122b8(0xf5));const _0xe53173=new GoogleGenerativeAI(_0x31f690),_0x474302=_0xe53173[_0x3122b8(0x105)]({'model':GEMINI_MODEL}),_0x3ca6f4=await _0x474302[_0x3122b8(0xfd)](_0x3122b8(0x122)),_0x5e8353=await _0x3ca6f4[_0x3122b8(0xd8)];if(_0x5e8353['text']())this['sendTo'](_0xd74169[_0x3122b8(0x17a)],_0xd74169[_0x3122b8(0x93)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0xd74169[_0x3122b8(0x125)]);else throw new Error(_0x3122b8(0x15a));}catch(_0xf4465f){this['sendTo'](_0xd74169[_0x3122b8(0x17a)],_0xd74169[_0x3122b8(0x93)],{'success':![],'message':_0xf4465f[_0x3122b8(0xfe)]},_0xd74169[_0x3122b8(0x125)]);}else{if(_0xd74169[_0x3122b8(0x93)]==='scanDevices')try{const _0x52b995=await scanner['scanForDevices'](this,_0xd74169[_0x3122b8(0xfe)]||{});this['sendTo'](_0xd74169['from'],_0xd74169[_0x3122b8(0x93)],{'success':!![],'devices':_0x52b995},_0xd74169[_0x3122b8(0x125)]);}catch(_0x2b0650){this[_0x3122b8(0x9b)](_0xd74169[_0x3122b8(0x17a)],_0xd74169[_0x3122b8(0x93)],{'success':![],'error':_0x2b0650[_0x3122b8(0xfe)]},_0xd74169[_0x3122b8(0x125)]);}else{if(_0xd74169[_0x3122b8(0x93)]==='updateTopologyMatrix')try{const {matrix:_0x1ba172}=_0xd74169[_0x3122b8(0xfe)],_0x3e42f7=await this[_0x3122b8(0x10c)](_0x3122b8(0x8c));if(_0x3e42f7&&_0x3e42f7[_0x3122b8(0xe4)]){const _0x5eae7b=JSON[_0x3122b8(0x16d)](_0x3e42f7[_0x3122b8(0xe4)]);_0x5eae7b[_0x3122b8(0x153)]=_0x1ba172,_0x5eae7b['updated']=Date[_0x3122b8(0x14d)](),await this['setStateAsync']('analysis.topology.structure',{'val':JSON[_0x3122b8(0xa5)](_0x5eae7b),'ack':!![]}),pythonBridge[_0x3122b8(0xa3)](this,_0x3122b8(0x13b),_0x5eae7b);}this[_0x3122b8(0x9b)](_0xd74169['from'],_0xd74169['command'],{'success':!![]},_0xd74169[_0x3122b8(0x125)]);}catch(_0x39ed91){this[_0x3122b8(0x140)][_0x3122b8(0xf6)](_0x39ed91);}else{if(_0xd74169[_0x3122b8(0x93)]===_0x3122b8(0x167))this[_0x3122b8(0x9b)](_0xd74169['from'],_0xd74169['command'],{'success':!![],'dailyDigests':this[_0x3122b8(0xa7)]||[],'analysisHistory':this[_0x3122b8(0x166)]||[]},_0xd74169[_0x3122b8(0x125)]);else{if(_0xd74169[_0x3122b8(0x93)]==='getOverviewData'){const _0x385f76=this['dailyDigests'][_0x3122b8(0x15f)],_0x3f394b=new Array(0x18)[_0x3122b8(0x16a)](0x0),_0x33070f=new Date()[_0x3122b8(0xd2)](0x0,0x0,0x0,0x0);this[_0x3122b8(0x85)]&&this['eventHistory'][_0x3122b8(0xf4)](_0x4f9ec0=>{const _0x571d44=_0x3122b8;if(_0x4f9ec0[_0x571d44(0x15b)]>=_0x33070f){const _0x49edc3=new Date(_0x4f9ec0[_0x571d44(0x15b)])[_0x571d44(0xfc)]();if(_0x49edc3>=0x0&&_0x49edc3<0x18)_0x3f394b[_0x49edc3]++;}});let _0xc472d1=![],_0x1978b1='',_0x595750='',_0x4222f6='';try{const _0x1c4a02=await this[_0x3122b8(0x10c)](_0x3122b8(0x98));if(_0x1c4a02&&_0x1c4a02['val']){_0xc472d1=!![];const _0x4ff4da=await this[_0x3122b8(0x10c)](_0x3122b8(0xbb));_0x1978b1=_0x4ff4da?_0x4ff4da[_0x3122b8(0xe4)]:'';const _0x433df7=await this['getStateAsync']('analysis.automation.targetId');_0x595750=_0x433df7?_0x433df7['val']:'';const _0x3f7328=await this[_0x3122b8(0x10c)]('analysis.automation.targetValue');_0x4222f6=_0x3f7328?_0x3f7328[_0x3122b8(0xe4)]:'';}}catch(_0x559c86){}const _0x348748=await this[_0x3122b8(0xa2)](),_0x5b6036=(this[_0x3122b8(0x123)][_0x3122b8(0x10f)]||[])[_0x3122b8(0x144)](_0x336707=>_0x336707[_0x3122b8(0x91)]),_0x367462=_0x348748&&_0x5b6036;this[_0x3122b8(0x9b)](_0xd74169[_0x3122b8(0x17a)],_0xd74169[_0x3122b8(0x93)],{'success':!![],'eventHistory':this[_0x3122b8(0x85)][_0x3122b8(0xdc)](0x0,0xf),'stats':{'digestCount':_0x385f76,'isPresent':this[_0x3122b8(0x100)],'hourlyActivity':_0x3f394b,'solarActive':_0x367462},'automation':{'detected':_0xc472d1,'description':_0x1978b1,'targetId':_0x595750,'targetValue':_0x4222f6}},_0xd74169[_0x3122b8(0x125)]);}else{if(_0xd74169['command']===_0x3122b8(0x11b)){const _0x19d16c=await this['getForeignObjectsAsync'](_0x3122b8(0x183),_0x3122b8(0x168)),_0x458498=[];if(_0x19d16c)for(const _0x37e1b2 in _0x19d16c){const _0x3d941c=_0x19d16c[_0x37e1b2],_0x1562d4=(_0x3d941c[_0x3122b8(0x8a)]&&typeof _0x3d941c[_0x3122b8(0x8a)][_0x3122b8(0x129)]===_0x3122b8(0x18f)?_0x3d941c['common'][_0x3122b8(0x129)]['de']:_0x3d941c[_0x3122b8(0x8a)][_0x3122b8(0x129)])||_0x3d941c['common']['name'];_0x458498['push']({'id':_0x37e1b2,'name':_0x1562d4});}const _0x3412d1=await this[_0x3122b8(0xce)](_0x3122b8(0x180),_0x3122b8(0x168)),_0x5f9875=[];if(_0x3412d1)for(const _0x1cdf17 in _0x3412d1){const _0x2ce5d4=_0x3412d1[_0x1cdf17],_0x37f2cf=(_0x2ce5d4[_0x3122b8(0x8a)]&&typeof _0x2ce5d4[_0x3122b8(0x8a)]['name']===_0x3122b8(0x18f)?_0x2ce5d4[_0x3122b8(0x8a)][_0x3122b8(0x129)]['de']:_0x2ce5d4[_0x3122b8(0x8a)][_0x3122b8(0x129)])||_0x1cdf17['split']('.')[_0x3122b8(0x130)]();_0x5f9875[_0x3122b8(0x181)](_0x37f2cf);}this[_0x3122b8(0x9b)](_0xd74169['from'],_0xd74169[_0x3122b8(0x93)],{'success':!![],'enums':_0x458498,'rooms':_0x5f9875},_0xd74169[_0x3122b8(0x125)]);}else{if(_0xd74169[_0x3122b8(0x93)]==='testContext')try{let _0x5db2a3=_0x3122b8(0xd3),_0x458524=_0x3122b8(0x13f);if(this['config'][_0x3122b8(0x160)]){const _0x447ece=await recorder[_0x3122b8(0xe6)](this);_0x5db2a3=_0x447ece!==null?_0x447ece+'Â°C':_0x3122b8(0x112);}if(this[_0x3122b8(0x123)][_0x3122b8(0x193)]){const _0x483d8d=await this[_0x3122b8(0xe7)]('system.adapter.'+this[_0x3122b8(0x123)]['calendarInstance']);_0x458524=_0x483d8d?_0x3122b8(0xf7):_0x3122b8(0xb7);}this[_0x3122b8(0x9b)](_0xd74169[_0x3122b8(0x17a)],_0xd74169['command'],{'success':!![],'weather':_0x5db2a3,'calendar':_0x458524},_0xd74169[_0x3122b8(0x125)]);}catch(_0x26dd9c){this[_0x3122b8(0x9b)](_0xd74169['from'],_0xd74169[_0x3122b8(0x93)],{'success':![],'error':_0x26dd9c[_0x3122b8(0xfe)]},_0xd74169[_0x3122b8(0x125)]);}else{if(_0xd74169['command']==='getCalendarNames')try{const _0x265dcf=_0xd74169['message']['instance'],_0x5837f6=await this[_0x3122b8(0xb6)](_0x265dcf+'.data.table');let _0x195b81=[];if(_0x5837f6&&_0x5837f6['val']){const _0x14352c=JSON[_0x3122b8(0x16d)](_0x5837f6[_0x3122b8(0xe4)]),_0x5d4a83=new Set();Array[_0x3122b8(0x133)](_0x14352c)&&_0x14352c[_0x3122b8(0xf4)](_0x39c5a6=>{const _0x3b1b24=_0x3122b8;if(_0x39c5a6[_0x3b1b24(0x18c)])_0x5d4a83['add'](_0x39c5a6[_0x3b1b24(0x18c)]);else{if(_0x39c5a6[_0x3b1b24(0xb5)])_0x5d4a83[_0x3b1b24(0x8d)](_0x39c5a6[_0x3b1b24(0xb5)]);}}),_0x195b81=Array[_0x3122b8(0x17a)](_0x5d4a83)[_0x3122b8(0xfa)]();}if(_0x195b81[_0x3122b8(0x15f)]===0x0)_0x195b81=[_0x3122b8(0xe0)];this[_0x3122b8(0x9b)](_0xd74169['from'],_0xd74169[_0x3122b8(0x93)],{'success':!![],'names':_0x195b81},_0xd74169['callback']);}catch(_0x50cebd){this[_0x3122b8(0x9b)](_0xd74169[_0x3122b8(0x17a)],_0xd74169[_0x3122b8(0x93)],{'success':![],'error':_0x50cebd['message']},_0xd74169[_0x3122b8(0x125)]);}else{if(_0xd74169['command']===_0x3122b8(0x18d))try{await setup[_0x3122b8(0x182)](this,_0x3122b8(0xc6),![],![]),this['sendTo'](_0xd74169[_0x3122b8(0x17a)],_0xd74169[_0x3122b8(0x93)],{'success':!![],'message':'Gesendet'},_0xd74169['callback']);}catch(_0x2acfd7){this[_0x3122b8(0x140)][_0x3122b8(0xf6)]('Notification\x20Test\x20Failed:\x20'+_0x2acfd7[_0x3122b8(0xfe)]),this[_0x3122b8(0x9b)](_0xd74169['from'],_0xd74169[_0x3122b8(0x93)],{'success':![],'message':_0x3122b8(0xb1)+_0x2acfd7[_0x3122b8(0xfe)]},_0xd74169['callback']);}}}}}}}}}}}}}}}}async[a0_0x779353(0xf9)](){const _0x4c74d1=a0_0x779353;try{const _0x4cd54c=await this[_0x4c74d1(0x10c)](setup['SYSTEM_DP_MODE']);_0x4cd54c&&_0x4cd54c['val']&&Object['values'](setup[_0x4c74d1(0xc0)])['includes'](_0x4cd54c[_0x4c74d1(0xe4)])?this[_0x4c74d1(0x18a)]=_0x4cd54c['val']:(this[_0x4c74d1(0x18a)]=setup[_0x4c74d1(0xc0)][_0x4c74d1(0x14e)],await this[_0x4c74d1(0x8e)](setup[_0x4c74d1(0x13a)],{'val':setup[_0x4c74d1(0xc0)]['NORMAL'],'ack':!![]}));}catch(_0x5cf0cf){this[_0x4c74d1(0x18a)]=setup['SYSTEM_MODES'][_0x4c74d1(0x14e)];}}async[a0_0x779353(0x175)](){const _0x3e2cfe=a0_0x779353;try{const _0x462b89=this[_0x3e2cfe(0x123)]['presenceDevices']||[];let _0x26219d=![];const _0x8f29e5=[];for(const _0x1f42a7 of _0x462b89){try{const _0x4e1b1e=await this[_0x3e2cfe(0xb6)](_0x1f42a7);_0x4e1b1e&&(_0x4e1b1e[_0x3e2cfe(0xe4)]===!![]||_0x4e1b1e['val']==='online'||_0x4e1b1e[_0x3e2cfe(0xe4)]===0x1)&&(_0x26219d=!![],_0x8f29e5[_0x3e2cfe(0x181)](_0x1f42a7));}catch(_0x24b19b){}}return await this[_0x3e2cfe(0x8e)](_0x3e2cfe(0x114),{'val':_0x8f29e5[_0x3e2cfe(0xc3)](',\x20'),'ack':!![]}),_0x26219d&&(this[_0x3e2cfe(0x158)]&&(this[_0x3e2cfe(0x140)][_0x3e2cfe(0xbc)]('WiFi\x20Presence\x20detected.'),recorder['abortExitTimer'](this)),!this['isPresent']&&this[_0x3e2cfe(0x18a)]===setup['SYSTEM_MODES'][_0x3e2cfe(0x14e)]&&await recorder[_0x3e2cfe(0x17e)](this,!![])),_0x26219d;}catch(_0x4a3172){return![];}}async[a0_0x779353(0xf1)](){const _0x5d7f7d=a0_0x779353;this[_0x5d7f7d(0x140)][_0x5d7f7d(0x115)](_0x5d7f7d(0x120)),await aiAgent['runGeminiAnalysis'](this),this['updateHealthVector'](),this[_0x5d7f7d(0x142)](),this['triggerEnergyPrediction']();}async[a0_0x779353(0xa2)](){const _0x1dfe7f=a0_0x779353,_0x4b922f=[_0x1dfe7f(0x9d),_0x1dfe7f(0x109),_0x1dfe7f(0xcd)],_0x4437b6=[_0x1dfe7f(0x154),_0x1dfe7f(0xa8),_0x1dfe7f(0xa1)];for(const _0x2335c6 of _0x4b922f){for(const _0x2fa8e6 of _0x4437b6){try{const _0x526f02=_0x2335c6+'.'+_0x2fa8e6,_0x4223d8=await this[_0x1dfe7f(0xb6)](_0x526f02);if(_0x4223d8&&_0x4223d8[_0x1dfe7f(0xe4)]){const _0x52bd4a=String(_0x4223d8[_0x1dfe7f(0xe4)])[_0x1dfe7f(0x172)]();if(_0x52bd4a['includes'](_0x1dfe7f(0x151))||_0x52bd4a[_0x1dfe7f(0x11a)]('sunny')||_0x52bd4a[_0x1dfe7f(0x11a)]('klar')||_0x52bd4a[_0x1dfe7f(0x11a)](_0x1dfe7f(0x9a))||_0x52bd4a[_0x1dfe7f(0x11a)](_0x1dfe7f(0x14f)))return!![];}}catch(_0x4542fb){}}}return![];}[a0_0x779353(0x142)](){const _0x22eafc=a0_0x779353;if(!this[_0x22eafc(0xc8)])return;try{this['getState'](_0x22eafc(0x157),(_0xaa2fb4,_0x3d04f2)=>{const _0x716207=_0x22eafc;_0x3d04f2&&_0x3d04f2[_0x716207(0xe4)]&&pythonBridge['send'](this,_0x716207(0x97),{'sequences':JSON['parse'](_0x3d04f2['val'])});});}catch(_0xab3172){}}async[a0_0x779353(0x161)](){const _0x1ae5d0=a0_0x779353;if(!this['isProVersion'])return;try{const _0x23bc69=await recorder[_0x1ae5d0(0xe6)](this);if(_0x23bc69===null)return;const _0x5acbbb={},_0x280c38={},_0x2f6569=this[_0x1ae5d0(0x123)][_0x1ae5d0(0x10f)]||[];for(const _0x1c988c of _0x2f6569){if(_0x1c988c[_0x1ae5d0(0x143)]===_0x1ae5d0(0x103)&&_0x1c988c[_0x1ae5d0(0xff)]){const _0x33445a=this[_0x1ae5d0(0x127)][_0x1c988c['id']];if(_0x33445a!==undefined)_0x5acbbb[_0x1c988c[_0x1ae5d0(0xff)]]=_0x33445a;if(_0x1c988c['isSolar'])_0x280c38[_0x1c988c[_0x1ae5d0(0xff)]]=!![];}}const _0x5827ab=await this['checkSolarCondition']();let _0x22b988={};try{const _0x17bc49=await this[_0x1ae5d0(0x10c)](_0x1ae5d0(0x137));if(_0x17bc49&&_0x17bc49[_0x1ae5d0(0xe4)])_0x22b988=JSON['parse'](_0x17bc49[_0x1ae5d0(0xe4)]);}catch(_0x170c86){}Object[_0x1ae5d0(0x171)](_0x5acbbb)[_0x1ae5d0(0x15f)]>0x0&&(pythonBridge[_0x1ae5d0(0xa3)](this,'PREDICT_ENERGY',{'current_temps':_0x5acbbb,'t_out':_0x23bc69,'is_sunny':_0x5827ab,'solar_flags':_0x280c38,'warmup_targets':_0x22b988}),pythonBridge['send'](this,'OPTIMIZE_ENERGY',{'current_temps':_0x5acbbb,'t_out':_0x23bc69,'targets':{}}));}catch(_0xf5a636){}}['updateHealthVector'](){const _0x40424f=a0_0x779353;if(!this[_0x40424f(0x192)]||this[_0x40424f(0x192)][_0x40424f(0x15f)]===0x0)return;const _0x13a1d2=new Array(0x60)[_0x40424f(0x16a)](0x0),_0x3297c6=new Date()['setHours'](0x0,0x0,0x0,0x0);this['rawEventLog']['forEach'](_0x4f1803=>{const _0x399556=_0x40424f,_0x5accee=new Date(_0x4f1803[_0x399556(0x15b)]);if(_0x5accee[_0x399556(0xb8)]()>=_0x3297c6){const _0x9198ef=_0x5accee[_0x399556(0xfc)](),_0x38bd0f=_0x5accee['getMinutes'](),_0x2275ae=_0x9198ef*0x4+Math[_0x399556(0xe5)](_0x38bd0f/0xf);if(_0x2275ae>=0x0&&_0x2275ae<0x60)_0x13a1d2[_0x2275ae]++;}}),this[_0x40424f(0x8e)](_0x40424f(0xc2),{'val':JSON[_0x40424f(0xa5)](_0x13a1d2),'ack':!![]});}[a0_0x779353(0x86)](){const _0x4e587e=a0_0x779353;if(!this[_0x4e587e(0xa7)]||this[_0x4e587e(0xa7)]['length']<0x2)return;const _0x32b1e0=this[_0x4e587e(0xa7)]['map'](_0x2680f5=>{const _0x539565=_0x4e587e,_0x42400a=(_0x2680f5[_0x539565(0x131)]||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x42400a]||0x32;});pythonBridge[_0x4e587e(0xa3)](this,_0x4e587e(0xbf),{'values':_0x32b1e0,'tag':_0x4e587e(0x89)});}}if(require['main']!==module)module[a0_0x779353(0xdd)]=_0x568533=>new CogniLiving(_0x568533);else new CogniLiving();