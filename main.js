const a0_0x317532=a0_0x460e;(function(_0x26d8a4,_0x29275d){const _0x4e83a9=a0_0x460e,_0x1909d7=_0x26d8a4();while(!![]){try{const _0x31c953=parseInt(_0x4e83a9(0x1f1))/0x1*(-parseInt(_0x4e83a9(0x211))/0x2)+parseInt(_0x4e83a9(0x210))/0x3+parseInt(_0x4e83a9(0x19a))/0x4+parseInt(_0x4e83a9(0x194))/0x5*(parseInt(_0x4e83a9(0xd6))/0x6)+-parseInt(_0x4e83a9(0x13e))/0x7+parseInt(_0x4e83a9(0x154))/0x8+-parseInt(_0x4e83a9(0x21c))/0x9;if(_0x31c953===_0x29275d)break;else _0x1909d7['push'](_0x1909d7['shift']());}catch(_0x53211d){_0x1909d7['push'](_0x1909d7['shift']());}}}(a0_0xe691,0xd914a));const a0_0x53a364=(function(){let _0x826509=!![];return function(_0x35092e,_0x305246){const _0x10d2e3=_0x826509?function(){if(_0x305246){const _0x55fae8=_0x305246['apply'](_0x35092e,arguments);return _0x305246=null,_0x55fae8;}}:function(){};return _0x826509=![],_0x10d2e3;};}()),a0_0x2e015c=a0_0x53a364(this,function(){const _0x2de53b=a0_0x460e;return a0_0x2e015c['toString']()[_0x2de53b(0x1c4)]('(((.+)+)+)+$')[_0x2de53b(0xf4)]()[_0x2de53b(0x196)](a0_0x2e015c)[_0x2de53b(0x1c4)]('(((.+)+)+)+$');});a0_0x2e015c();'use strict';const utils=require(a0_0x317532(0x246)),{GoogleGenerativeAI}=require(a0_0x317532(0x24b)),{spawn}=require(a0_0x317532(0x1cf)),path=require(a0_0x317532(0xe1)),fs=require('fs'),installer=require(a0_0x317532(0x24d)),scanner=require(a0_0x317532(0x234)),schedulers=require(a0_0x317532(0x1ed)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x9c4,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x317532(0x22f),SEQUENCE_TIMEOUT_MS=0x5*0x3c*0x3e8,MAX_TRAINING_SET_SIZE=0x1f4,THERMO_LOG_SIZE=0x3e8,EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,LTM_DP_RAW_LOG=a0_0x317532(0x181),LTM_DP_DAILY_DIGESTS=a0_0x317532(0x241),LTM_DP_STATUS=a0_0x317532(0x134),LTM_DP_TRIGGER_DIGEST=a0_0x317532(0x23c),LTM_DP_BASELINE_STATUS=a0_0x317532(0x1ec),LTM_DP_DRIFT_CHANNEL='LTM.driftAnalysis',LTM_DP_DRIFT_STATUS=a0_0x317532(0x184),LTM_DP_DRIFT_DETAILS=a0_0x317532(0xee),LTM_DP_DRIFT_LAST_CHECK=a0_0x317532(0x12e),SYSTEM_DP_MODE=a0_0x317532(0x1a1),SYSTEM_MODES={'NORMAL':'normal','VACATION':a0_0x317532(0x110),'PARTY':'party','GUEST':a0_0x317532(0x12d)},AUTO_RESET_MODES=[SYSTEM_MODES['PARTY'],SYSTEM_MODES[a0_0x317532(0xec)]],PERSONA_MAPPING={'generic':a0_0x317532(0xae),'senior_aal':'PRIORITÃ„T:\x20Gesundheit/AAL.','family':a0_0x317532(0x1ea),'single_comfort':a0_0x317532(0xb4),'security':'PRIORITÃ„T:\x20Sicherheit.'},ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};let activeSequence=[],sequenceTimer=null;async function initZombies(_0xc203e7){const _0xabed3b=a0_0x317532;try{const _0x57b8b6=[_0xabed3b(0xbd),_0xabed3b(0x141)];for(const _0x10f635 of _0x57b8b6){try{const _0x463ed6=await _0xc203e7[_0xabed3b(0xa9)](_0x10f635);if(_0x463ed6)await _0xc203e7[_0xabed3b(0x18b)](_0x10f635);}catch(_0x26757f){}}}catch(_0x426f40){}}async function checkLicense(_0x36fca){return!![];}async function initHistory(_0x4157db){const _0x3abafa=a0_0x317532;try{const _0x193fa6=await _0x4157db[_0x3abafa(0x20b)](_0x3abafa(0x1d9));_0x193fa6&&_0x193fa6['val']&&(_0x4157db[_0x3abafa(0x247)]=JSON['parse'](_0x193fa6[_0x3abafa(0xe5)][_0x3abafa(0xf4)]()));}catch(_0x23c3bf){_0x4157db[_0x3abafa(0x247)]=[];}try{const _0x15942a=await _0x4157db[_0x3abafa(0x20b)](_0x3abafa(0xf7));if(_0x15942a&&_0x15942a[_0x3abafa(0xe5)])_0x4157db[_0x3abafa(0x182)]=JSON[_0x3abafa(0x136)](_0x15942a[_0x3abafa(0xe5)]['toString']());}catch(_0x1abd00){_0x4157db[_0x3abafa(0x182)]=[];}if(_0x4157db[_0x3abafa(0x247)]&&_0x4157db['eventHistory'][_0x3abafa(0x18a)]>0x0){_0x4157db[_0x3abafa(0x125)][_0x3abafa(0x10a)](_0x3abafa(0x104));for(let _0x430e2e=_0x4157db[_0x3abafa(0x247)][_0x3abafa(0x18a)]-0x1;_0x430e2e>=0x0;_0x430e2e--){const _0x583f60=_0x4157db[_0x3abafa(0x247)][_0x430e2e];if(_0x583f60&&_0x583f60['id']!==undefined&&_0x583f60[_0x3abafa(0x137)]!==undefined)_0x4157db[_0x3abafa(0x128)][_0x583f60['id']]=_0x583f60[_0x3abafa(0x137)];}}}async function initSystemConfig(_0x238854){const _0x320fbc=a0_0x317532;try{const _0x58f25c=await _0x238854[_0x320fbc(0x1c1)]('system.config');if(_0x58f25c&&_0x58f25c[_0x320fbc(0x155)])_0x238854['systemConfig']={'latitude':_0x58f25c['common']['latitude']||0x0,'longitude':_0x58f25c[_0x320fbc(0x155)][_0x320fbc(0xb5)]||0x0,'city':_0x58f25c['common'][_0x320fbc(0x160)]||''};}catch(_0x2f3951){}}async function createAllObjects(_0x50a619){const _0x3d0289=a0_0x317532;await _0x50a619[_0x3d0289(0xcc)]('system',{'type':_0x3d0289(0xe3),'common':{'name':_0x3d0289(0x19e)},'native':{}}),await _0x50a619[_0x3d0289(0xcc)](SYSTEM_DP_MODE,{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x1c8),'type':_0x3d0289(0x121),'role':_0x3d0289(0x198),'read':!![],'write':!![],'def':SYSTEM_MODES['NORMAL']},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x15a),{'type':_0x3d0289(0x198),'common':{'name':'Who\x20is\x20present?','type':_0x3d0289(0x121),'role':_0x3d0289(0x1aa),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x1e1),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x1f3),'type':_0x3d0289(0x121),'role':'json','read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x1d9),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x16e),'type':_0x3d0289(0x121),'role':_0x3d0289(0x1c7),'read':!![],'write':![]},'native':{}}),await _0x50a619['extendObjectAsync'](_0x3d0289(0x122),{'type':'channel','common':{'name':'AI\x20Training'},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x18f),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x1ab),'type':_0x3d0289(0x1e4),'role':_0x3d0289(0x144),'read':!![],'write':!![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0xe6),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x11f),'type':_0x3d0289(0x1e4),'role':_0x3d0289(0x144),'read':!![],'write':!![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x213),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0xfb),'type':'boolean','role':_0x3d0289(0x144),'read':!![],'write':!![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0xcf),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x16d),'type':_0x3d0289(0x1e4),'role':'button','read':!![],'write':!![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)]('analysis.training.triggerTopology',{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0xc0),'type':_0x3d0289(0x1e4),'role':_0x3d0289(0x144),'read':!![],'write':!![]},'native':{}}),await _0x50a619['setObjectNotExistsAsync']('analysis.training.status',{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0xab),'type':_0x3d0289(0x121),'role':_0x3d0289(0x1aa),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0xcc)](_0x3d0289(0xbe),{'type':_0x3d0289(0xe3),'common':{'name':'Security\x20Monitor'},'native':{}}),await _0x50a619['setObjectNotExistsAsync'](_0x3d0289(0xdc),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0xe4),'type':_0x3d0289(0xff),'role':_0x3d0289(0x137),'read':!![],'write':![]},'native':{}}),await _0x50a619['setObjectNotExistsAsync'](_0x3d0289(0x1c9),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x168),'type':'number','role':'value','read':!![],'write':![],'def':0.05},'native':{}}),await _0x50a619['setObjectNotExistsAsync'](_0x3d0289(0x132),{'type':'state','common':{'name':_0x3d0289(0x1de),'type':'string','role':_0x3d0289(0xf9),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)]('analysis.security.topologyMatrix',{'type':'state','common':{'name':_0x3d0289(0x157),'type':_0x3d0289(0x121),'role':'json','read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0xcc)](_0x3d0289(0xc4),{'type':_0x3d0289(0xe3),'common':{'name':_0x3d0289(0x1d0)},'native':{}}),await _0x50a619['setObjectNotExistsAsync'](_0x3d0289(0xd8),{'type':'state','common':{'name':'Last\x20Check','type':'string','role':_0x3d0289(0xf9),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)]('analysis.health.isAnomaly',{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x209),'type':'boolean','role':_0x3d0289(0x127),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x1a0),{'type':'state','common':{'name':_0x3d0289(0x15d),'type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x50a619['setObjectNotExistsAsync']('analysis.health.trendValue',{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x248),'type':_0x3d0289(0xff),'role':_0x3d0289(0x137),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)]('analysis.health.todayVector',{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x183),'type':_0x3d0289(0x121),'role':_0x3d0289(0x1c7),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x218),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0xfd),'type':'number','role':_0x3d0289(0x137),'read':!![],'write':![]},'native':{}}),await _0x50a619['extendObjectAsync'](_0x3d0289(0x186),{'type':_0x3d0289(0xe3),'common':{'name':'Energy\x20Intelligence'},'native':{}}),await _0x50a619['setObjectNotExistsAsync']('analysis.energy.insulationScore',{'type':_0x3d0289(0x198),'common':{'name':'Insulation\x20Score','type':_0x3d0289(0x121),'role':_0x3d0289(0x1aa),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x173),{'type':'state','common':{'name':_0x3d0289(0x1f7),'type':_0x3d0289(0x121),'role':_0x3d0289(0x1aa),'read':!![],'write':![]},'native':{}}),await _0x50a619['setObjectNotExistsAsync']('analysis.energy.forecast',{'type':_0x3d0289(0x198),'common':{'name':'Temperature\x20Forecast','type':_0x3d0289(0x121),'role':_0x3d0289(0x1c7),'read':!![],'write':![]},'native':{}}),await _0x50a619['extendObjectAsync']('LTM',{'type':_0x3d0289(0xe3),'common':{'name':_0x3d0289(0x13b)},'native':{}}),await _0x50a619[_0x3d0289(0xcc)](LTM_DP_RAW_LOG,{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x10e),'type':_0x3d0289(0x121),'role':'json','read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0xcc)](LTM_DP_DAILY_DIGESTS,{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x1f2),'type':'string','role':_0x3d0289(0x1c7),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0xaf),{'type':_0x3d0289(0x198),'common':{'name':'Sequences','type':'string','role':_0x3d0289(0x1c7),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x20c),{'type':'state','common':{'name':_0x3d0289(0x1e9),'type':_0x3d0289(0x121),'role':_0x3d0289(0x1c7),'read':!![],'write':![]},'native':{}}),await _0x50a619['setObjectNotExistsAsync'](_0x3d0289(0x176),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x245),'type':_0x3d0289(0x1e4),'role':_0x3d0289(0x144),'read':!![],'write':!![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x1e6),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x135),'type':'boolean','role':_0x3d0289(0x144),'read':!![],'write':!![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)]('analysis.isAlert',{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0xc3),'type':_0x3d0289(0x1e4),'role':'indicator.alarm','read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)]('analysis.alertReason',{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x1a6),'type':'string','role':_0x3d0289(0x1b6),'read':!![],'write':![]},'native':{}}),await _0x50a619['setObjectNotExistsAsync'](_0x3d0289(0xe8),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x13d),'type':_0x3d0289(0x121),'role':_0x3d0289(0x1aa),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x1f6),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0xb2),'type':_0x3d0289(0x1e4),'role':_0x3d0289(0x127),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)]('analysis.automation.description',{'type':_0x3d0289(0x198),'common':{'name':'Description','type':'string','role':_0x3d0289(0x1aa),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x14d),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x1d8),'type':_0x3d0289(0x121),'role':_0x3d0289(0x1c7),'read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)]('analysis.automation.targetId',{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x147),'type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x193),{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0xcb),'type':_0x3d0289(0x121),'role':'text','read':!![],'write':![]},'native':{}}),await _0x50a619['setObjectNotExistsAsync']('analysis.automation.autoApply',{'type':_0x3d0289(0x198),'common':{'name':_0x3d0289(0x1fd),'type':_0x3d0289(0x1e4),'role':_0x3d0289(0x153),'read':!![],'write':!![]},'native':{}}),await _0x50a619[_0x3d0289(0x15b)](_0x3d0289(0x178),{'type':'state','common':{'name':'Trigger\x20Action','type':_0x3d0289(0x1e4),'role':_0x3d0289(0x144),'read':!![],'write':!![]},'native':{}});}async function loadSystemMode(_0x275ac4){const _0x1e3f40=a0_0x317532;try{const _0x1c70a2=await _0x275ac4[_0x1e3f40(0x20b)](SYSTEM_DP_MODE);_0x1c70a2&&_0x1c70a2[_0x1e3f40(0xe5)]&&Object['values'](SYSTEM_MODES)[_0x1e3f40(0x17e)](_0x1c70a2[_0x1e3f40(0xe5)])?_0x275ac4['currentSystemMode']=_0x1c70a2['val']:(_0x275ac4[_0x1e3f40(0x187)]=SYSTEM_MODES[_0x1e3f40(0x15f)],await _0x275ac4[_0x1e3f40(0x158)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x1e3f40(0x15f)],'ack':!![]}));}catch(_0x3f3733){_0x275ac4[_0x1e3f40(0x187)]=SYSTEM_MODES[_0x1e3f40(0x15f)];}}async function loadRawEventLog(_0x246bfe){const _0x305cd1=a0_0x317532;try{const _0x36157b=await _0x246bfe['getStateAsync'](LTM_DP_RAW_LOG);if(_0x36157b&&_0x36157b[_0x305cd1(0xe5)])_0x246bfe[_0x305cd1(0x20d)]=JSON[_0x305cd1(0x136)](_0x36157b[_0x305cd1(0xe5)]);}catch(_0x1ac766){_0x246bfe[_0x305cd1(0x20d)]=[];}}async function saveRawEventLog(_0x407858){const _0x84262f=a0_0x317532;if(_0x407858[_0x84262f(0x20d)]['length']>RAW_LOG_MAX_SIZE)_0x407858[_0x84262f(0x20d)][_0x84262f(0x22e)](0x0,_0x407858[_0x84262f(0x20d)][_0x84262f(0x18a)]-RAW_LOG_MAX_SIZE);await _0x407858[_0x84262f(0x158)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](_0x407858[_0x84262f(0x20d)]),'ack':!![]});}async function loadDailyDigests(_0x4d810b){const _0x2769c6=a0_0x317532;try{const _0x32e2b3=await _0x4d810b['getStateAsync'](LTM_DP_DAILY_DIGESTS);if(_0x32e2b3&&_0x32e2b3[_0x2769c6(0xe5)])_0x4d810b[_0x2769c6(0xd9)]=JSON[_0x2769c6(0x136)](_0x32e2b3[_0x2769c6(0xe5)]);}catch(_0x297da2){_0x4d810b['dailyDigests']=[];}await updateBaselineStatus(_0x4d810b);}async function saveDailyDigests(_0x830e6c,_0x55e8d9=!![]){const _0x528613=a0_0x317532,_0x2e3ef8=_0x830e6c[_0x528613(0x1fa)][_0x528613(0x216)]||0x3c;_0x830e6c[_0x528613(0xd9)][_0x528613(0x18a)]>_0x2e3ef8&&_0x830e6c['dailyDigests'][_0x528613(0x22e)](0x0,_0x830e6c[_0x528613(0xd9)]['length']-_0x2e3ef8);await _0x830e6c[_0x528613(0x158)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x528613(0x1cd)](_0x830e6c[_0x528613(0xd9)]),'ack':!![]});if(_0x55e8d9)await updateBaselineStatus(_0x830e6c);}async function updateAnalysisHistory(_0x1c9614,_0x1f39bf){const _0x4d1cfd=a0_0x317532;_0x1c9614['analysisHistory'][_0x4d1cfd(0x14b)](_0x1f39bf);if(_0x1c9614['analysisHistory'][_0x4d1cfd(0x18a)]>HISTORY_MAX_SIZE)_0x1c9614[_0x4d1cfd(0x182)][_0x4d1cfd(0x1b7)]();await _0x1c9614[_0x4d1cfd(0x158)](_0x4d1cfd(0xf7),{'val':JSON[_0x4d1cfd(0x1cd)](_0x1c9614[_0x4d1cfd(0x182)]),'ack':!![]});}async function updateBaselineStatus(_0x53854d){const _0x49bec4=a0_0x317532;if(!_0x53854d['isProVersion']){await _0x53854d[_0x49bec4(0x158)](LTM_DP_BASELINE_STATUS,{'val':'Deaktiviert\x20(Pro-Feature)','ack':!![]});return;}const _0x3f020c=_0x53854d[_0x49bec4(0xd9)]['length']>=(_0x53854d[_0x49bec4(0x1fa)][_0x49bec4(0x195)]||0x7)?'Aktiv\x20('+_0x53854d[_0x49bec4(0xd9)][_0x49bec4(0x18a)]+'\x20Tage)':_0x49bec4(0x17d)+_0x53854d[_0x49bec4(0xd9)]['length']+'/'+(_0x53854d[_0x49bec4(0x1fa)][_0x49bec4(0x195)]||0x7)+')';await _0x53854d['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x3f020c,'ack':!![]});}async function initSensorSubscriptions(_0x13ea55){const _0x39cd40=a0_0x317532,_0x92d422=_0x13ea55['config'][_0x39cd40(0x23a)];if(_0x92d422)for(const _0x5f1da5 of _0x92d422){await _0x13ea55[_0x39cd40(0x1b4)](_0x5f1da5['id']);}}async function initPresenceSubscriptions(_0x186a4d){const _0x4efead=a0_0x317532,_0x557f17=_0x186a4d[_0x4efead(0x1fa)][_0x4efead(0xf0)];if(_0x557f17)for(const _0x4ba343 of _0x557f17){await _0x186a4d[_0x4efead(0x1b4)](_0x4ba343);}}function a0_0xe691(){const _0x1284c7=['presenceDevices','getEnums','setForeignStateAsync','detected','toString','\x20=\x20','GAIT_RESULT','analysis.analysisHistory','floor','date','daswetter','Train\x20Energy','kill','Gait\x20Speed\x20Trend','calendarInstance','number','Wetterdaten\x20deaktiviert.','object','ltmStbWindowDays','communicate.request','Restoring\x20sensor\x20cache...','getCalendarNames','generateContent','ðŸ\x20Python\x20Pong','round','analysis.automation.targetId','info','.Current.WeatherText','getForeignStateAsync','HEALTH_RESULT','Raw\x20Log','Kein\x20API\x20Key!','vacation','weatherunderground','.\x20EMERGENCY:\x20','PONG','simulateButler','Keine\x20Wetterdaten\x20verfÃ¼gbar.','Keine\x20Details.','Activity-Level','genAI','close','from','testApiKey','onReady','exports','keys','Train\x20Health','light','string','analysis.training','window','HEALTH_TRAIN_RESULT','log','ANALYZE_SEQUENCE','indicator','sensorLastValues','apiKey','[LOG]','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','split','guest','LTM.driftAnalysis.lastCheck','openweathermap','command','Gemini\x20Error:\x20','analysis.security.lastCheck','Failed:\x20','LTM.processingStatus','Trigger\x20Briefing','parse','value','warn','Sec-Training\x20started...','stateChange','LTM','analysis.lastResult','Activity\x20Summary','11344067YycHjb','join','ack','events.history_debug_00','Err:\x20','Unbekannt','button','success','.\x20WETTER:\x20','Target\x20ID','trim','payload','licenseKey','unshift','values','analysis.automation.detectedPatterns','schalter','type','cancel','Kalender\x20deaktiviert.','Digest','switch','6675440cLcHYD','common','endsWith','Topology\x20Matrix','setStateAsync','heizung','system.presenceWho','setObjectNotExistsAsync','map','Trend','lampe','NORMAL','city','Error\x20launching\x20Python:\x20','targetId','WiFi\x20Presence\x20detected.','enum.functions.*','scanDevices','useCalendar','fill','Current\x20Threshold','enum.rooms.*','Adapter','analysis.health.isAnomaly','online','Train\x20Comfort','Event\x20History','kontakt','alertReason','ANALYZE_TREND','automationProposal','analysis.energy.heatingScore','systemConfig','data','analysis.trigger','exitTimer','analysis.automation.triggerAction','unload','[RESULT]','analysis.automation.autoApply','Â°C,\x20','Lernphase\x20(','includes','normal','N/A\x20(Learning)','LTM.rawEventLog','analysisHistory','Today\x20Vector\x20(15m)','LTM.driftAnalysis.baselineDrift','TOPOLOGY_RESULT','analysis.energy','currentSystemMode','Unknown','confidence','length','delObjectAsync','onMessage','COMFORT_RESULT','isExit','analysis.training.triggerSecurity','getDate','some','system.isPresent','analysis.automation.targetValue','1219655SsLNvT','minDaysForBaseline','constructor','enum','state','KI-Modell\x20nicht\x20initialisiert','2524176kHfKuH','bind','debug','ðŸ“\x20Feedback\x20received:\x20','System','python_service','analysis.health.trendDiagnosis','system.mode','baselineDrift','name','getFullYear','onUnload','Alert\x20Reason','pythonProcess','getGenerativeModel','analysis.training.status','text','Train\x20Security','âœ…\x20HEALTH\x20TRAINED.','.NextHours.Location_1.Day_1.current.temp_value','occupancy','cogni-living','timestamp','motion','Kein\x20API\x20Key.','write','subscribeForeignStatesAsync','geminiApiKey','text.alarm','pop','startsWith','is_anomaly','TRAIN_SECURITY','\x0aGrund:\x20','filter','dependencyInstallInProgress','generic','klima','replace','getForeignObjectAsync','setupLtmScheduler','getMinutes','search','PYTHON_EXE','\x20->\x20','json','System\x20Mode','analysis.security.currentThreshold','ðŸŒ…\x20Morning\x20Briefing:\x0a','existsSync','Keine\x20Termine.','stringify','main','child_process','Health\x20Analysis','geminiModel','submitFeedback','.\x20KONTEXT:\x20','ðŸ§ \x20Triggering\x20Security\x20Training...','OK:\x20','getForeignObjectsAsync','Success:\x20','Detected\x20Patterns','events.history','Training\x20Error:\x20','ENERGY_PREDICT_RESULT','ðŸ§ª\x20Simulating\x20Butler\x20Proposal:\x20','analysis.automation.description','Last\x20Check','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','threshold','events.lastEvent','toLowerCase','details','boolean','notifyTelegramEnabled','analysis.triggerBriefing','getMonth','checkAndInstall','Thermodynamics','Fokus\x20auf\x20Familienroutinen.','temperatur','LTM.baselineStatus','./lib/scheduler','python3','outdoorSensorId','triggerBriefing','1030507fxtdiK','Daily\x20Digests','Last\x20raw\x20event','isPresent','âš ï¸\x20SECURITY\x20ALARM:\x20','analysis.automation.patternDetected','Heating\x20Score','exitGraceTimer','isGracePeriodActive','config','âš ï¸\x20ALARM:\x20','isProVersion','Auto\x20Apply','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','[PYTHON]\x20','insulation','driftAnalysisTimer','namespace','licht','testContext','getTime','writable','Gemini\x20AI\x20initialized.','ready','Anomaly\x20Detected','summary','getStateAsync','LTM.trainingData.thermodynamics','rawEventLog','User\x20dismissed\x20automation\x20proposal.','.communicate.request','4687860Pnjfse','2mUvqDt','setupBriefingScheduler','analysis.training.triggerEnergy','subscribeStates','.forecast.current.state','ltmLtbWindowDays','heating','analysis.health.gaitSpeed','notifyTelegramInstance','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','change_percent','1976733LSAUch','ltmJob','temperature','Briefing\x20Error:\x20','logDuplicates','stdout','isAlert','presence','find','SIMULATION:\x20Test-Vorschlag\x20fÃ¼r\x20','analysis.alertReason','application/json','analysis.energy.insulationScore','forEach','setupDriftAnalysisScheduler','\x0aSTB:\x20','Success','weatherInstance','splice','models/gemini-flash-latest','SECURITY_RESULT','now','analysis.isAlert','push','./lib/scanner','status','useWeather','VACATION','response','ANALYZE_HEALTH','devices','cogni-living\x20adapter\x20starting\x20(v','LTM.triggerDailyDigest','analysisTimer','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','analysis.training.triggerTopology','instance','LTM.dailyDigests','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','toFixed','TRAIN_COMFORT','Trigger\x20Analysis','@iobroker/adapter-core','eventHistory','Trend\x20Value','stdin','ðŸš€\x20Starting\x20NUUKANNI\x20Logic\x20(v0.12.10)...','@google/generative-ai','aiPersona','./lib/installer','lastAlertState','door','error','.\x20EVENTS:\x20','[RECORDER]\x20Error:\x20','setState','toLocaleTimeString','dismissAutomation','getObjectAsync','onStateChange','Training\x20Status','.forecast.current.temp','inactivityThresholdHours','Analysiere\x20ausgewogen.','LTM.trainingData.sequences','setupModeResetScheduler','rating','Pattern\x20Detected','BUTLER\x20Execution\x20Error:\x20','Fokus\x20auf\x20Komfort.','longitude','sendTo','telegram','fenster','location','diagnosis','message','unknown','analysis.history_debug_00','analysis.security','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','Build\x20Topology','TRAIN_ENERGY','briefingJob','Alert\x20Status','analysis.health','.forecast.current.temperature','systemUUID','getHours','prÃ¤senz','TREND_RESULT','.Current.Temperature','Target\x20Value','extendObjectAsync','Missing\x20data','driftDetails','analysis.training.triggerComfort','shift','accuweather','callback','slice','ðŸ›‹ï¸\x20BUTLER:\x20Keine\x20neuen\x20Muster\x20gefunden.','analysisInterval','18DamYdG','toISOString','analysis.health.lastCheck','dailyDigests','loc','contact','analysis.security.lastScore','.\x20SYSTEM_MODE:\x20','automation.triggerAction','N/A',')\x20-\x20SAFE\x20BOOT','path','substring','channel','Anomaly\x20Score','val','analysis.training.triggerHealth','analysis.health.trendValue','analysis.activitySummary','TRAIN_HEALTH','livingContext','reason','GUEST','analysis.security.topologyMatrix','LTM.driftAnalysis.driftDetails','modeResetJob'];a0_0xe691=function(){return _0x1284c7;};return a0_0xe691();}async function setupTelegramListener(_0x24ada6){const _0x57e7c7=a0_0x317532,_0xa730fc=_0x24ada6[_0x57e7c7(0x1fa)][_0x57e7c7(0x219)];if(_0x24ada6[_0x57e7c7(0x1fa)][_0x57e7c7(0x1e5)]&&_0xa730fc)await _0x24ada6[_0x57e7c7(0x1b4)](_0xa730fc+_0x57e7c7(0x20f));}async function checkWifiPresence(_0x148d56){const _0x521ed3=a0_0x317532;try{const _0x53f75e=_0x148d56['config'][_0x521ed3(0xf0)]||[];let _0x266ea8=![];const _0x844b71=[];for(const _0x33447f of _0x53f75e){try{const _0x2ab062=await _0x148d56['getForeignStateAsync'](_0x33447f);_0x2ab062&&(_0x2ab062[_0x521ed3(0xe5)]===!![]||_0x2ab062[_0x521ed3(0xe5)]===_0x521ed3(0x16c)||_0x2ab062[_0x521ed3(0xe5)]===0x1)&&(_0x266ea8=!![],_0x844b71[_0x521ed3(0x233)](_0x33447f));}catch(_0x1f3772){}}return await _0x148d56[_0x521ed3(0x158)](_0x521ed3(0x15a),{'val':_0x844b71[_0x521ed3(0x13f)](',\x20'),'ack':!![]}),_0x266ea8&&(_0x148d56[_0x521ed3(0x177)]&&(_0x148d56[_0x521ed3(0x125)][_0x521ed3(0x10a)](_0x521ed3(0x163)),abortExitTimer(_0x148d56)),!_0x148d56[_0x521ed3(0x1f4)]&&_0x148d56['currentSystemMode']===SYSTEM_MODES[_0x521ed3(0x15f)]&&await setPresence(_0x148d56,!![])),_0x266ea8;}catch(_0x115835){return![];}}function startExitTimer(_0x3fad1d){const _0x4a13b4=a0_0x317532;abortExitTimer(_0x3fad1d),_0x3fad1d[_0x4a13b4(0x1f9)]=!![],_0x3fad1d[_0x4a13b4(0x1f8)]=setTimeout(()=>{const _0x4c1cd8=_0x4a13b4;_0x3fad1d[_0x4c1cd8(0x1f9)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),_0x3fad1d[_0x4a13b4(0x177)]=setTimeout(()=>{const _0x23bac9=_0x4a13b4;setPresence(_0x3fad1d,![]),_0x3fad1d[_0x23bac9(0x177)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}function abortExitTimer(_0x49bc3b){const _0x23858f=a0_0x317532;if(_0x49bc3b['exitTimer'])clearTimeout(_0x49bc3b[_0x23858f(0x177)]);if(_0x49bc3b[_0x23858f(0x1f8)])clearTimeout(_0x49bc3b[_0x23858f(0x1f8)]);_0x49bc3b[_0x23858f(0x177)]=null,_0x49bc3b['exitGraceTimer']=null,_0x49bc3b[_0x23858f(0x1f9)]=![];}async function setPresence(_0x5ba773,_0x25ebcd){const _0x370afc=a0_0x317532;if(_0x5ba773[_0x370afc(0x1f4)]===_0x25ebcd)return;_0x5ba773[_0x370afc(0x1f4)]=_0x25ebcd,await _0x5ba773['setStateAsync'](_0x370afc(0x192),{'val':_0x25ebcd,'ack':!![]});}async function executeAutomationAction(_0x277ec5){const _0x40106d=a0_0x317532;try{const _0x40c3ba=await _0x277ec5['getStateAsync'](_0x40106d(0x109)),_0x1785e3=await _0x277ec5[_0x40106d(0x20b)](_0x40106d(0x193));if(_0x40c3ba&&_0x40c3ba[_0x40106d(0xe5)]&&_0x1785e3){const _0x1b6554=_0x40c3ba[_0x40106d(0xe5)];let _0x909909=_0x1785e3[_0x40106d(0xe5)];try{_0x909909=JSON[_0x40106d(0x136)](_0x909909);}catch(_0x365037){}_0x277ec5[_0x40106d(0x125)]['info'](_0x40106d(0x12b)+_0x1b6554+'\x20=\x20'+_0x909909),await _0x277ec5[_0x40106d(0xf2)](_0x1b6554,_0x909909);}else _0x277ec5[_0x40106d(0x125)][_0x40106d(0x138)](_0x40106d(0x242));}catch(_0x486bbf){_0x277ec5['log'][_0x40106d(0x250)](_0x40106d(0xb3)+_0x486bbf['message']);}}async function processSensorEvent(_0x26cb2a,_0x2dd11a,_0x472cf5,_0x14fa5a){const _0x5a3b44=a0_0x317532;if(!_0x14fa5a)return;const _0xb9b7b4=_0x472cf5[_0x5a3b44(0xe5)],_0x55465b=Date['now'](),_0x1be7c9=_0x26cb2a[_0x5a3b44(0x128)][_0x2dd11a];_0x26cb2a[_0x5a3b44(0x128)][_0x2dd11a]=_0xb9b7b4;if(!_0x14fa5a[_0x5a3b44(0x220)]&&_0x1be7c9!=undefined&&_0x1be7c9==_0xb9b7b4)return;const _0x16f2fe=(_0x14fa5a['type']||'')[_0x5a3b44(0x1e2)](),_0xf8c1c4=_0x16f2fe['includes'](_0x5a3b44(0x21e))||_0x16f2fe[_0x5a3b44(0x17e)](_0x5a3b44(0x1eb))||_0x16f2fe[_0x5a3b44(0x17e)](_0x5a3b44(0x1bf))||_0x16f2fe[_0x5a3b44(0x17e)](_0x5a3b44(0x159));_0x26cb2a['isProVersion']&&_0xf8c1c4&&recordThermodynamics(_0x26cb2a,_0x2dd11a,_0xb9b7b4,_0x14fa5a['location']);const _0x25ee4d={'timestamp':_0x55465b,'id':_0x2dd11a,'name':_0x14fa5a[_0x5a3b44(0x1a3)],'type':_0x14fa5a[_0x5a3b44(0x14f)],'location':_0x14fa5a['location'],'value':_0xb9b7b4};_0x26cb2a[_0x5a3b44(0x247)][_0x5a3b44(0x14b)](_0x25ee4d);if(_0x26cb2a[_0x5a3b44(0x247)][_0x5a3b44(0x18a)]>HISTORY_MAX_SIZE)_0x26cb2a['eventHistory']['pop']();await _0x26cb2a[_0x5a3b44(0x158)]('events.lastEvent',{'val':JSON[_0x5a3b44(0x1cd)](_0x25ee4d),'ack':!![]}),await _0x26cb2a[_0x5a3b44(0x158)](_0x5a3b44(0x1d9),{'val':JSON[_0x5a3b44(0x1cd)](_0x26cb2a[_0x5a3b44(0x247)]),'ack':!![]});_0x26cb2a[_0x5a3b44(0x1fc)]&&(_0x26cb2a[_0x5a3b44(0x20d)][_0x5a3b44(0x233)](_0x25ee4d),await saveRawEventLog(_0x26cb2a),recordSequence(_0x26cb2a,_0x25ee4d));if(_0x14fa5a[_0x5a3b44(0x18e)]&&_0xb9b7b4===!![]){if(_0x26cb2a['isPresent']&&!_0x26cb2a['isGracePeriodActive'])startExitTimer(_0x26cb2a);else{if(!_0x26cb2a[_0x5a3b44(0x1f4)])setPresence(_0x26cb2a,!![]);}}else{if(_0x14fa5a['type']===_0x5a3b44(0x1b1)&&_0xb9b7b4===!![]){if(_0x26cb2a[_0x5a3b44(0x177)])abortExitTimer(_0x26cb2a);if(!_0x26cb2a[_0x5a3b44(0x1f4)]&&_0x26cb2a[_0x5a3b44(0x187)]===SYSTEM_MODES[_0x5a3b44(0x15f)])setPresence(_0x26cb2a,!![]);}}}async function recordThermodynamics(_0x3b2a2f,_0x5f4e70,_0x448e11,_0x1449ad){const _0x2255c1=a0_0x317532,_0x5281b5=await getOutsideTemperatureNumeric(_0x3b2a2f),_0x62409d=await _0x3b2a2f[_0x2255c1(0x20b)](_0x2255c1(0x20c));let _0x4f6446=[];if(_0x62409d&&_0x62409d['val'])try{_0x4f6446=JSON['parse'](_0x62409d[_0x2255c1(0xe5)]);}catch(_0x1145f9){}_0x4f6446[_0x2255c1(0x233)]({'ts':Date[_0x2255c1(0x231)](),'room':_0x1449ad||_0x2255c1(0x188),'t_in':_0x448e11,'t_out':_0x5281b5});if(_0x4f6446[_0x2255c1(0x18a)]>THERMO_LOG_SIZE)_0x4f6446[_0x2255c1(0xd0)]();await _0x3b2a2f[_0x2255c1(0x158)](_0x2255c1(0x20c),{'val':JSON[_0x2255c1(0x1cd)](_0x4f6446),'ack':!![]});}async function getOutsideTemperatureNumeric(_0x9fe87f){const _0x311997=a0_0x317532;if(_0x9fe87f[_0x311997(0x1fa)][_0x311997(0x1ef)])try{const _0xa8c822=await _0x9fe87f[_0x311997(0x10c)](_0x9fe87f[_0x311997(0x1fa)][_0x311997(0x1ef)]);if(_0xa8c822&&_0xa8c822[_0x311997(0xe5)]!==undefined&&_0xa8c822['val']!==null)return parseFloat(_0xa8c822['val']);}catch(_0x40e69c){}const _0x2b8514=_0x9fe87f[_0x311997(0x1fa)][_0x311997(0x22d)];if(!_0x9fe87f[_0x311997(0x1fa)][_0x311997(0x236)]||!_0x2b8514)return null;try{let _0x2d94e7='';if(_0x2b8514['includes'](_0x311997(0xd1)))_0x2d94e7=_0x2b8514+'.Current.Temperature';else{if(_0x2b8514[_0x311997(0x17e)](_0x311997(0xfa)))_0x2d94e7=_0x2b8514+_0x311997(0x1ad);else{if(_0x2b8514[_0x311997(0x17e)](_0x311997(0x12f)))_0x2d94e7=_0x2b8514+_0x311997(0xc5);else{if(_0x2b8514[_0x311997(0x17e)](_0x311997(0x111)))_0x2d94e7=_0x2b8514+_0x311997(0xac);}}}if(_0x2d94e7){const _0x388e74=await _0x9fe87f[_0x311997(0x10c)](_0x2d94e7);if(_0x388e74&&_0x388e74[_0x311997(0xe5)]!==undefined&&_0x388e74[_0x311997(0xe5)]!==null)return parseFloat(_0x388e74['val']);}}catch(_0x4dce6e){}return null;}function a0_0x460e(_0xb07e87,_0x41988b){const _0x51a8cb=a0_0xe691();return a0_0x460e=function(_0x2e015c,_0x53a364){_0x2e015c=_0x2e015c-0xa4;let _0xe691db=_0x51a8cb[_0x2e015c];return _0xe691db;},a0_0x460e(_0xb07e87,_0x41988b);}async function recordSequence(_0x4e5dfc,_0x33e6cd){const _0x5c10c9=a0_0x317532,_0xea9a5e=(_0x33e6cd[_0x5c10c9(0x14f)]||'')[_0x5c10c9(0x1e2)](),_0x168a77=[_0x5c10c9(0x1b1),'bewegung',_0x5c10c9(0xc8),_0x5c10c9(0x223),_0x5c10c9(0x1ae),_0x5c10c9(0x24f),'tÃ¼r',_0x5c10c9(0x123),_0x5c10c9(0xb8),_0x5c10c9(0xdb),_0x5c10c9(0x16f),_0x5c10c9(0x120),_0x5c10c9(0x203),_0x5c10c9(0x153),_0x5c10c9(0x14e),'dimmer',_0x5c10c9(0x15e)];if(!_0x168a77[_0x5c10c9(0x191)](_0x29e49b=>_0xea9a5e[_0x5c10c9(0x17e)](_0x29e49b)))return;if(!_0x33e6cd['value'])return;if(sequenceTimer)clearTimeout(sequenceTimer);activeSequence[_0x5c10c9(0x233)]({'loc':_0x33e6cd['location']||_0x5c10c9(0x188),'id':_0x33e6cd['id'],'ts':Date['now']()}),sequenceTimer=setTimeout(async()=>{const _0x5a1d25=_0x5c10c9;if(activeSequence[_0x5a1d25(0x18a)]>0x1)await saveCompletedSequence(_0x4e5dfc);activeSequence=[];},SEQUENCE_TIMEOUT_MS);}async function saveCompletedSequence(_0x497536){const _0x3dbd1c=a0_0x317532;try{const _0xbf5243=await _0x497536[_0x3dbd1c(0x20b)]('LTM.trainingData.sequences');let _0x3a18be=[];if(_0xbf5243&&_0xbf5243['val'])try{_0x3a18be=JSON[_0x3dbd1c(0x136)](_0xbf5243[_0x3dbd1c(0xe5)]);}catch(_0x2568ba){}const _0xf659db=activeSequence[0x0]['ts'],_0x234c3a=activeSequence[_0x3dbd1c(0x15c)](_0x4f61d2=>({'loc':_0x4f61d2[_0x3dbd1c(0xda)],'t_delta':Math['round']((_0x4f61d2['ts']-_0xf659db)/0x3e8)})),_0x3a19fc={'timestamp':new Date(_0xf659db)[_0x3dbd1c(0xd7)](),'steps':_0x234c3a,'duration':Math[_0x3dbd1c(0x108)]((activeSequence[activeSequence[_0x3dbd1c(0x18a)]-0x1]['ts']-_0xf659db)/0x3e8),'daytime':new Date(_0xf659db)[_0x3dbd1c(0xc7)]()};_0x3a18be[_0x3dbd1c(0x233)](_0x3a19fc);if(_0x3a18be['length']>MAX_TRAINING_SET_SIZE)_0x3a18be['shift']();await _0x497536[_0x3dbd1c(0x158)]('LTM.trainingData.sequences',{'val':JSON['stringify'](_0x3a18be),'ack':!![]}),runSecurityCheck(_0x497536,_0x3a19fc);}catch(_0x3b3a90){_0x497536[_0x3dbd1c(0x125)][_0x3dbd1c(0x250)](_0x3dbd1c(0xa5)+_0x3b3a90[_0x3dbd1c(0xbb)]);}}function runSecurityCheck(_0x4f6f3f,_0x52a98f){const _0x40c91a=a0_0x317532;if(!_0x4f6f3f['isProVersion'])return;sendToPython(_0x4f6f3f,_0x40c91a(0x126),{'sequence':_0x52a98f});}async function createDailyDigest(_0x542e08){const _0x5cc0ae=a0_0x317532;if(!_0x542e08[_0x5cc0ae(0x1fc)])return;await _0x542e08[_0x5cc0ae(0x158)](LTM_DP_STATUS,{'val':'Started...','ack':!![]});if(!_0x542e08[_0x5cc0ae(0x1d1)]||_0x542e08[_0x5cc0ae(0x20d)]['length']<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x542e08[_0x5cc0ae(0x158)](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x2ae81d=JSON['parse'](JSON[_0x5cc0ae(0x1cd)](_0x542e08[_0x5cc0ae(0x20d)])),_0x349a6c=_0x2ae81d[_0x5cc0ae(0x18a)],_0x38203e=_0x5cc0ae(0x1df)+JSON[_0x5cc0ae(0x1cd)](_0x2ae81d);try{const _0x53300a=await _0x542e08[_0x5cc0ae(0x1d1)][_0x5cc0ae(0x106)](_0x38203e),_0x2aba1a=JSON['parse'](_0x53300a[_0x5cc0ae(0x238)][_0x5cc0ae(0x1aa)]()['replace'](/```json|```/g,'')['trim']()),_0x2390c8={'timestamp':new Date()['toISOString'](),'eventCount':_0x349a6c,'summary':_0x2aba1a[_0x5cc0ae(0x20a)]||_0x5cc0ae(0x152),'activityLevel':_0x2aba1a['activityLevel']||_0x5cc0ae(0x17f),'systemMode':_0x542e08[_0x5cc0ae(0x187)]};_0x542e08[_0x5cc0ae(0xd9)]['push'](_0x2390c8),await saveDailyDigests(_0x542e08),_0x542e08['rawEventLog']=[],await saveRawEventLog(_0x542e08),await _0x542e08[_0x5cc0ae(0x158)](LTM_DP_STATUS,{'val':_0x5cc0ae(0x22c),'ack':!![]});if(_0x542e08[_0x5cc0ae(0x1fc)])sendToPython(_0x542e08,_0x5cc0ae(0x239),{'digest':_0x2390c8});}catch(_0x1ca91b){_0x542e08[_0x5cc0ae(0x125)][_0x5cc0ae(0x250)](_0x1ca91b[_0x5cc0ae(0xbb)]);}}async function runBaselineDriftAnalysis(_0x3cb1f6){const _0x53c09e=a0_0x317532;if(!_0x3cb1f6[_0x53c09e(0x1fc)]||!_0x3cb1f6['geminiModel'])return;const _0xef647d=_0x3cb1f6['config']['ltmStbWindowDays']||0xe;if(_0x3cb1f6[_0x53c09e(0xd9)][_0x53c09e(0x18a)]<_0xef647d+0x7){await _0x3cb1f6[_0x53c09e(0x158)](LTM_DP_DRIFT_STATUS,{'val':_0x53c09e(0x180),'ack':!![]});return;}const _0x3575d4=_0x3cb1f6[_0x53c09e(0xd9)][_0x53c09e(0xd3)](-_0xef647d),_0x33f0be=_0x3cb1f6[_0x53c09e(0xd9)]['slice'](0x0,_0x3cb1f6[_0x53c09e(0xd9)][_0x53c09e(0x18a)]-_0xef647d),_0x3b627b=_0x53c09e(0x23e)+JSON['stringify'](_0x33f0be)+_0x53c09e(0x22b)+JSON[_0x53c09e(0x1cd)](_0x3575d4);try{const _0x6aa922=await _0x3cb1f6[_0x53c09e(0x1d1)][_0x53c09e(0x106)](_0x3b627b),_0x322a6c=JSON[_0x53c09e(0x136)](_0x6aa922[_0x53c09e(0x238)][_0x53c09e(0x1aa)]()[_0x53c09e(0x1c0)](/```json|```/g,'')[_0x53c09e(0x148)]());_0x322a6c['baselineDrift']&&(await _0x3cb1f6[_0x53c09e(0x158)](LTM_DP_DRIFT_STATUS,{'val':_0x322a6c[_0x53c09e(0x1a2)],'ack':!![]}),await _0x3cb1f6[_0x53c09e(0x158)](LTM_DP_DRIFT_DETAILS,{'val':_0x322a6c[_0x53c09e(0xce)],'ack':!![]}),await _0x3cb1f6[_0x53c09e(0x158)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x53c09e(0x231)](),'ack':!![]}));}catch(_0x3dc539){}}async function sendMorningBriefing(_0x37ead5){const _0x5b2648=a0_0x317532;if(!_0x37ead5[_0x5b2648(0x1d1)])return;try{const _0x3ac388='Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.',_0x3507ac=await _0x37ead5['geminiModel'][_0x5b2648(0x106)](_0x3ac388),_0x4a5068=_0x3507ac[_0x5b2648(0x238)][_0x5b2648(0x1aa)]();sendNotification(_0x37ead5,_0x5b2648(0x1ca)+_0x4a5068);}catch(_0x705ab6){_0x37ead5[_0x5b2648(0x125)][_0x5b2648(0x250)](_0x5b2648(0x21f)+_0x705ab6[_0x5b2648(0xbb)]);}}function stopPythonService(_0x110a07){const _0x36b7b5=a0_0x317532;if(_0x110a07[_0x36b7b5(0x1a7)]){try{_0x110a07[_0x36b7b5(0x1a7)][_0x36b7b5(0xfc)]();}catch(_0x30b8d5){}_0x110a07['pythonProcess']=null;}}function sendToPython(_0x4169c9,_0x5438cc,_0x3e53a4={}){const _0x941d12=a0_0x317532;if(!_0x4169c9[_0x941d12(0x1a7)]||!_0x4169c9['pythonProcess'][_0x941d12(0x249)][_0x941d12(0x206)])return;const _0x449848=JSON[_0x941d12(0x1cd)]({'command':_0x5438cc,..._0x3e53a4});try{_0x4169c9[_0x941d12(0x1a7)][_0x941d12(0x249)][_0x941d12(0x1b3)](_0x449848+'\x0a');}catch(_0x2e8e94){}}function runPythonHealthCheck(_0x3e9555){const _0x44dfab=a0_0x317532;if(!_0x3e9555[_0x44dfab(0xd9)]||_0x3e9555[_0x44dfab(0xd9)][_0x44dfab(0x18a)]<0x2)return;const _0x47dc57=_0x3e9555[_0x44dfab(0xd9)][_0x44dfab(0x15c)](_0x4709a4=>{const _0x50566d=_0x44dfab,_0x2d4f5c=(_0x4709a4['activityLevel']||'')[_0x50566d(0x1e2)]();return ACTIVITY_LEVEL_MAP[_0x2d4f5c]||0x32;});sendToPython(_0x3e9555,_0x44dfab(0x171),{'values':_0x47dc57,'tag':_0x44dfab(0x117)});}function handlePythonResult(_0x551b30,_0x20a10d){const _0x593f3e=a0_0x317532;if(_0x20a10d[_0x593f3e(0x14f)]===_0x593f3e(0x113))_0x551b30['log'][_0x593f3e(0x19c)](_0x593f3e(0x107));else{if(_0x20a10d[_0x593f3e(0x14f)]===_0x593f3e(0x230)){const {anomaly_score:_0x58bfec,is_anomaly:_0x335fab,threshold:_0x431421,explanation:_0x508829}=_0x20a10d[_0x593f3e(0x149)];_0x551b30['log'][_0x593f3e(0x10a)]('ðŸ›¡ï¸\x20SECURITY\x20CHECK:\x20Score\x20'+_0x58bfec[_0x593f3e(0x243)](0x5)+_0x593f3e(0x1c6)+(_0x335fab?'ANOMALY':'OK')),_0x551b30[_0x593f3e(0x158)](_0x593f3e(0xdc),{'val':_0x58bfec,'ack':!![]}),_0x551b30['setStateAsync']('analysis.security.lastCheck',{'val':new Date()[_0x593f3e(0xd7)](),'ack':!![]});if(_0x431421)_0x551b30[_0x593f3e(0x158)](_0x593f3e(0x1c9),{'val':_0x431421,'ack':!![]});if(_0x335fab){let _0x4704ae=_0x593f3e(0xbf)+_0x58bfec[_0x593f3e(0x243)](0x4)+')';if(_0x508829&&_0x508829!==_0x593f3e(0x188))_0x4704ae+=_0x593f3e(0x1bb)+_0x508829;_0x551b30[_0x593f3e(0x158)]('analysis.isAlert',{'val':!![],'ack':!![]}),_0x551b30['setStateAsync'](_0x593f3e(0x226),{'val':_0x4704ae,'ack':!![]}),sendNotification(_0x551b30,_0x593f3e(0x1f5)+_0x4704ae,![],!![]);}}else{if(_0x20a10d['type']==='TRAINING_COMPLETE'){const _0x36fd7a=_0x20a10d['payload'][_0x593f3e(0x1e3)]||'',_0xf4b968=_0x20a10d[_0x593f3e(0x149)][_0x593f3e(0x1e0)],_0x2fbf46=_0x20a10d[_0x593f3e(0x149)]['success']?_0x593f3e(0x1d7)+new Date()[_0x593f3e(0xa7)]()+'\x20('+_0x36fd7a+')':_0x593f3e(0x133)+_0x20a10d['payload'][_0x593f3e(0xeb)];_0x551b30['setStateAsync'](_0x593f3e(0x1a9),{'val':_0x2fbf46,'ack':!![]});if(_0x20a10d[_0x593f3e(0x149)][_0x593f3e(0x145)]&&_0xf4b968)_0x551b30['setStateAsync'](_0x593f3e(0x1c9),{'val':_0xf4b968,'ack':!![]});}else{if(_0x20a10d[_0x593f3e(0x14f)]===_0x593f3e(0x18d)){const {patterns:_0x534db3}=_0x20a10d['payload'];if(_0x534db3&&_0x534db3[_0x593f3e(0x18a)]>0x0){_0x551b30['log'][_0x593f3e(0x10a)]('ðŸ›‹ï¸\x20BUTLER:\x20Found\x20'+_0x534db3['length']+'\x20new\x20patterns.'),_0x551b30[_0x593f3e(0x158)](_0x593f3e(0x14d),{'val':JSON['stringify'](_0x534db3),'ack':!![]});const _0x155d13=_0x534db3[0x0],_0x36f492='Regel\x20erkannt:\x20'+_0x155d13['rule']+'\x20('+(_0x155d13[_0x593f3e(0x189)]*0x64)[_0x593f3e(0x243)](0x0)+'%)';_0x551b30[_0x593f3e(0x158)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),_0x551b30[_0x593f3e(0x158)](_0x593f3e(0x1dd),{'val':_0x36f492,'ack':!![]});}else _0x551b30['log'][_0x593f3e(0x10a)](_0x593f3e(0xd4)),_0x551b30[_0x593f3e(0x158)]('analysis.automation.patternDetected',{'val':![],'ack':!![]}),_0x551b30[_0x593f3e(0x158)](_0x593f3e(0x14d),{'val':'[]','ack':!![]});}else{if(_0x20a10d[_0x593f3e(0x14f)]==='ENERGY_TRAIN_RESULT'){if(_0x20a10d[_0x593f3e(0x149)]['success'])try{const _0x138116=JSON[_0x593f3e(0x136)](_0x20a10d['payload'][_0x593f3e(0x1e3)]);if(_0x138116['insulation'])_0x551b30[_0x593f3e(0x158)](_0x593f3e(0x228),{'val':JSON[_0x593f3e(0x1cd)](_0x138116[_0x593f3e(0x200)]),'ack':!![]});if(_0x138116[_0x593f3e(0x217)])_0x551b30[_0x593f3e(0x158)](_0x593f3e(0x173),{'val':JSON[_0x593f3e(0x1cd)](_0x138116[_0x593f3e(0x217)]),'ack':!![]});}catch(_0x2c9543){}}else{if(_0x20a10d[_0x593f3e(0x14f)]===_0x593f3e(0x124)){if(_0x20a10d['payload'][_0x593f3e(0x145)])_0x551b30[_0x593f3e(0x125)][_0x593f3e(0x10a)](_0x593f3e(0x1ac));}else{if(_0x20a10d['type']===_0x593f3e(0x10d))_0x551b30[_0x593f3e(0x158)]('analysis.health.lastCheck',{'val':new Date()['toISOString'](),'ack':!![]}),_0x551b30[_0x593f3e(0x158)](_0x593f3e(0x16b),{'val':_0x20a10d[_0x593f3e(0x149)][_0x593f3e(0x1b9)],'ack':!![]});else{if(_0x20a10d['type']===_0x593f3e(0xc9))_0x551b30[_0x593f3e(0x158)](_0x593f3e(0x1a0),{'val':_0x20a10d['payload'][_0x593f3e(0xba)],'ack':!![]}),_0x551b30['setStateAsync'](_0x593f3e(0xe7),{'val':_0x20a10d[_0x593f3e(0x149)][_0x593f3e(0x21b)],'ack':!![]});else{if(_0x20a10d[_0x593f3e(0x14f)]===_0x593f3e(0xf6)){const {speed_trend:_0x284287}=_0x20a10d[_0x593f3e(0x149)];if(_0x284287!==undefined)_0x551b30[_0x593f3e(0x158)]('analysis.health.gaitSpeed',{'val':_0x284287,'ack':!![]});}else{if(_0x20a10d['type']===_0x593f3e(0x1db)){const {forecast:_0x1622c9}=_0x20a10d[_0x593f3e(0x149)];if(_0x1622c9)_0x551b30[_0x593f3e(0x158)]('analysis.energy.forecast',{'val':JSON['stringify'](_0x1622c9),'ack':!![]});}else{if(_0x20a10d[_0x593f3e(0x14f)]===_0x593f3e(0x185)){const {data:_0x1d92d8}=_0x20a10d[_0x593f3e(0x149)];_0x1d92d8&&(_0x551b30[_0x593f3e(0x125)]['info']('ðŸ•¸ï¸\x20Topology\x20Map\x20updated.'),_0x551b30[_0x593f3e(0x158)](_0x593f3e(0xed),{'val':JSON['stringify'](_0x1d92d8),'ack':!![]}));}}}}}}}}}}}}function startPythonService(_0x560247){const _0x3054d3=a0_0x317532;let _0x5a0b46=_0x3054d3(0x1ee);if(fs[_0x3054d3(0x1cb)](installer['PYTHON_EXE']))_0x5a0b46=installer[_0x3054d3(0x1c5)];try{const _0x49eae3=path['join'](__dirname,_0x3054d3(0x19f),'service.py');_0x560247['pythonProcess']=spawn(_0x5a0b46,[_0x49eae3]),_0x560247[_0x3054d3(0x1a7)][_0x3054d3(0x221)]['on'](_0x3054d3(0x175),_0x2ac640=>{const _0x2558be=_0x3054d3,_0x43cf40=_0x2ac640[_0x2558be(0xf4)]()[_0x2558be(0x12c)]('\x0a');_0x43cf40[_0x2558be(0x229)](_0x366264=>{const _0x3317b9=_0x2558be,_0x3ebf3a=_0x366264[_0x3317b9(0x148)]();if(!_0x3ebf3a)return;if(_0x3ebf3a['startsWith'](_0x3317b9(0x12a)))_0x560247['log'][_0x3317b9(0x19c)](_0x3317b9(0x1ff)+_0x3ebf3a[_0x3317b9(0xe2)](0x5)[_0x3317b9(0x148)]());else{if(_0x3ebf3a[_0x3317b9(0x1b8)](_0x3317b9(0x17a)))try{const _0x23edd3=JSON['parse'](_0x3ebf3a[_0x3317b9(0xe2)](0x8)[_0x3317b9(0x148)]());handlePythonResult(_0x560247,_0x23edd3);}catch(_0x3f993d){}}});}),_0x560247['pythonProcess']['on'](_0x3054d3(0x119),_0x489494=>{const _0x858d90=_0x3054d3;_0x560247[_0x858d90(0x1a7)]=null;});}catch(_0x4707b6){_0x560247[_0x3054d3(0x125)]['error'](_0x3054d3(0x161)+_0x4707b6[_0x3054d3(0xbb)]);}}async function runAutopilot(_0x245fbf){const _0x1a1c4f=a0_0x317532;_0x245fbf[_0x1a1c4f(0x125)][_0x1a1c4f(0x19c)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await runGeminiAnalysis(_0x245fbf),updateHealthVector(_0x245fbf),triggerGaitAnalysis(_0x245fbf),triggerEnergyPrediction(_0x245fbf);}async function triggerGaitAnalysis(_0x1f41f6){const _0x489438=a0_0x317532;if(!_0x1f41f6[_0x489438(0x1fc)])return;try{const _0x575a53=await _0x1f41f6[_0x489438(0x20b)](_0x489438(0xaf));_0x575a53&&_0x575a53['val']&&sendToPython(_0x1f41f6,'ANALYZE_GAIT',{'sequences':JSON[_0x489438(0x136)](_0x575a53[_0x489438(0xe5)])});}catch(_0x513321){}}async function triggerEnergyPrediction(_0x55e5d8){const _0x21a149=a0_0x317532;if(!_0x55e5d8[_0x21a149(0x1fc)])return;try{const _0x39103c=await getOutsideTemperatureNumeric(_0x55e5d8);if(_0x39103c===null)return;const _0x503e51={},_0x3b41df=_0x55e5d8[_0x21a149(0x1fa)][_0x21a149(0x23a)]||[];for(const _0x560b47 of _0x3b41df){if(_0x560b47['type']===_0x21a149(0x21e)&&_0x560b47[_0x21a149(0xb9)]){const _0x5b51f2=_0x55e5d8[_0x21a149(0x128)][_0x560b47['id']];if(_0x5b51f2!==undefined)_0x503e51[_0x560b47[_0x21a149(0xb9)]]=_0x5b51f2;}}Object[_0x21a149(0x11e)](_0x503e51)[_0x21a149(0x18a)]>0x0&&sendToPython(_0x55e5d8,'PREDICT_ENERGY',{'current_temps':_0x503e51,'t_out':_0x39103c});}catch(_0xfe0e5d){}}function updateHealthVector(_0x19594f){const _0x1b1a2b=a0_0x317532;if(!_0x19594f[_0x1b1a2b(0x20d)]||_0x19594f['rawEventLog']['length']===0x0)return;const _0x28261b=new Array(0x60)[_0x1b1a2b(0x167)](0x0),_0x556f57=new Date()['setHours'](0x0,0x0,0x0,0x0);_0x19594f['rawEventLog'][_0x1b1a2b(0x229)](_0x27d588=>{const _0x132cf3=_0x1b1a2b,_0x2213b=new Date(_0x27d588[_0x132cf3(0x1b0)]);if(_0x2213b[_0x132cf3(0x205)]()>=_0x556f57){const _0x1fc8f8=_0x2213b['getHours'](),_0x3d1309=_0x2213b[_0x132cf3(0x1c3)](),_0x31ba8c=_0x1fc8f8*0x4+Math[_0x132cf3(0xf8)](_0x3d1309/0xf);if(_0x31ba8c>=0x0&&_0x31ba8c<0x60)_0x28261b[_0x31ba8c]++;}}),_0x19594f[_0x1b1a2b(0x158)]('analysis.health.todayVector',{'val':JSON[_0x1b1a2b(0x1cd)](_0x28261b),'ack':!![]});}async function getWeatherContext(_0x483fa5){const _0x328f28=a0_0x317532;if(!_0x483fa5[_0x328f28(0x1fa)][_0x328f28(0x236)]||!_0x483fa5[_0x328f28(0x1fa)][_0x328f28(0x22d)])return _0x328f28(0x100);try{const _0xc6cec2=_0x483fa5[_0x328f28(0x1fa)][_0x328f28(0x22d)];let _0xd82b7d=await _0x483fa5[_0x328f28(0x10c)](_0xc6cec2+_0x328f28(0xca));if(!_0xd82b7d)_0xd82b7d=await _0x483fa5['getForeignStateAsync'](_0xc6cec2+_0x328f28(0xc5));let _0x20e944=await _0x483fa5[_0x328f28(0x10c)](_0xc6cec2+_0x328f28(0x10b));if(!_0x20e944)_0x20e944=await _0x483fa5[_0x328f28(0x10c)](_0xc6cec2+_0x328f28(0x215));if(_0xd82b7d&&_0x20e944)return _0xd82b7d[_0x328f28(0xe5)]+_0x328f28(0x17c)+_0x20e944['val'];}catch(_0x124c0b){}return _0x328f28(0x115);}async function getCalendarContext(_0x7b8feb){const _0x2c1614=a0_0x317532;if(!_0x7b8feb[_0x2c1614(0x1fa)][_0x2c1614(0x166)]||!_0x7b8feb[_0x2c1614(0x1fa)][_0x2c1614(0xfe)])return _0x2c1614(0x151);return _0x2c1614(0x1cc);}async function getCalendarNames(_0x157dbf,_0x270e84){return[];}async function saveFeedback(_0x20ead0,_0x48ce4f){const _0x381e73=a0_0x317532;_0x20ead0[_0x381e73(0x125)][_0x381e73(0x10a)](_0x381e73(0x19d)+_0x48ce4f[_0x381e73(0xb1)]);}async function runGeminiAnalysis(_0xe71214,_0x7c7261=''){const _0x40c27e=a0_0x317532;if(!_0xe71214[_0x40c27e(0x1d1)])return;if(_0xe71214[_0x40c27e(0x247)]['length']===0x0)return;const _0x332039=_0xe71214[_0x40c27e(0x247)][_0x40c27e(0xd3)](0x0,0xf),_0x13900b=await getWeatherContext(_0xe71214),_0x1ac1d0=_0xe71214[_0x40c27e(0x187)],_0x288233=PERSONA_MAPPING[_0xe71214['config'][_0x40c27e(0x24c)]||_0x40c27e(0x1be)],_0x1154c5=_0xe71214[_0x40c27e(0x1fa)][_0x40c27e(0xea)]||_0x40c27e(0x116);let _0x4d4929=_0x40c27e(0x143);try{const _0xd36bcd=await _0xe71214[_0x40c27e(0x20b)](_0x40c27e(0x15a));if(_0xd36bcd&&_0xd36bcd['val'])_0x4d4929=_0xd36bcd[_0x40c27e(0xe5)];}catch(_0x36cd9c){}let _0x1261c7=![];try{const _0x30bb80=await _0xe71214[_0x40c27e(0x20b)]('analysis.automation.autoApply');if(_0x30bb80&&_0x30bb80['val'])_0x1261c7=!![];}catch(_0x409bb7){}const _0x310f25=_0x40c27e(0x21a)+_0x288233+_0x40c27e(0x1d3)+_0x1154c5+_0x40c27e(0xdd)+_0x1ac1d0+_0x40c27e(0x146)+_0x13900b+'.\x20ANWESEND:\x20'+_0x4d4929+_0x40c27e(0xa4)+JSON[_0x40c27e(0x1cd)](_0x332039)+_0x40c27e(0x112)+_0x7c7261+_0x40c27e(0x1fe);try{const _0x3ac83b=await _0xe71214[_0x40c27e(0x1d1)][_0x40c27e(0x106)](_0x310f25),_0x9a16ca=JSON[_0x40c27e(0x136)](_0x3ac83b[_0x40c27e(0x238)][_0x40c27e(0x1aa)]()[_0x40c27e(0x1c0)](/```json|```/g,'')[_0x40c27e(0x148)]());await _0xe71214[_0x40c27e(0x158)](_0x40c27e(0x13c),{'val':JSON[_0x40c27e(0x1cd)](_0x9a16ca),'ack':!![]});if(_0x9a16ca[_0x40c27e(0x20a)])await _0xe71214[_0x40c27e(0x158)](_0x40c27e(0xe8),{'val':_0x9a16ca[_0x40c27e(0x20a)],'ack':!![]});const _0x63c937={'timestamp':Date['now'](),'id':Date[_0x40c27e(0x231)]()[_0x40c27e(0xf4)](),'analysis':{'activity':{'summary':_0x9a16ca[_0x40c27e(0x20a)],'isAlert':_0x9a16ca[_0x40c27e(0x222)],'alertReason':_0x9a16ca[_0x40c27e(0x170)]},'comfort':{'automationProposal':_0x9a16ca[_0x40c27e(0x172)]}}};await updateAnalysisHistory(_0xe71214,_0x63c937);const _0x3ab314=_0x9a16ca[_0x40c27e(0x222)]||![];_0x3ab314!==_0xe71214[_0x40c27e(0x24e)]&&(await _0xe71214[_0x40c27e(0x158)](_0x40c27e(0x232),{'val':_0x3ab314,'ack':!![]}),_0xe71214[_0x40c27e(0x24e)]=_0x3ab314,_0x3ab314&&(await _0xe71214[_0x40c27e(0x158)](_0x40c27e(0x226),{'val':_0x9a16ca[_0x40c27e(0x170)],'ack':!![]}),sendNotification(_0xe71214,_0x40c27e(0x1fb)+_0x9a16ca[_0x40c27e(0x170)],![],_0x9a16ca['isEmergency'])));if(_0x9a16ca['automationProposal']&&_0x9a16ca[_0x40c27e(0x172)][_0x40c27e(0xf3)]){await _0xe71214['setStateAsync'](_0x40c27e(0x1f6),{'val':!![],'ack':!![]}),await _0xe71214[_0x40c27e(0x158)](_0x40c27e(0x1dd),{'val':_0x9a16ca[_0x40c27e(0x172)]['description'],'ack':!![]}),await _0xe71214[_0x40c27e(0x158)](_0x40c27e(0x109),{'val':_0x9a16ca[_0x40c27e(0x172)][_0x40c27e(0x162)],'ack':!![]}),await _0xe71214[_0x40c27e(0x158)](_0x40c27e(0x193),{'val':JSON[_0x40c27e(0x1cd)](_0x9a16ca[_0x40c27e(0x172)]['targetValue']),'ack':!![]});if(_0x1261c7)executeAutomationAction(_0xe71214);}}catch(_0x5ed1f5){_0xe71214[_0x40c27e(0x125)][_0x40c27e(0x250)](_0x40c27e(0x131)+_0x5ed1f5[_0x40c27e(0xbb)]);}}async function startSystem(_0x47d94b){const _0x5cdfc3=a0_0x317532;_0x47d94b['log'][_0x5cdfc3(0x10a)](_0x5cdfc3(0x24a)),await initZombies(_0x47d94b);try{_0x47d94b[_0x5cdfc3(0x1fc)]=await checkLicense(_0x47d94b[_0x5cdfc3(0x1fa)][_0x5cdfc3(0x14a)]);}catch(_0x485927){}if(!_0x47d94b[_0x5cdfc3(0x1fa)]['inactivityThresholdHours']||_0x47d94b[_0x5cdfc3(0x1fa)][_0x5cdfc3(0xad)]<0.1)_0x47d94b[_0x5cdfc3(0x1fa)]['inactivityThresholdHours']=0xc;await initHistory(_0x47d94b),await initSystemConfig(_0x47d94b);if(_0x47d94b[_0x5cdfc3(0x1fa)][_0x5cdfc3(0x1b5)])try{_0x47d94b[_0x5cdfc3(0x118)]=new GoogleGenerativeAI(_0x47d94b[_0x5cdfc3(0x1fa)][_0x5cdfc3(0x1b5)]),_0x47d94b[_0x5cdfc3(0x1d1)]=_0x47d94b[_0x5cdfc3(0x118)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5cdfc3(0x227)}}),_0x47d94b[_0x5cdfc3(0x125)][_0x5cdfc3(0x10a)](_0x5cdfc3(0x207));}catch(_0x34336c){_0x47d94b[_0x5cdfc3(0x125)][_0x5cdfc3(0x250)]('Gemini\x20Init\x20Error:\x20'+_0x34336c[_0x5cdfc3(0xbb)]);}await createAllObjects(_0x47d94b),await loadSystemMode(_0x47d94b),await loadRawEventLog(_0x47d94b),await loadDailyDigests(_0x47d94b),_0x47d94b[_0x5cdfc3(0x214)]('analysis.trigger'),_0x47d94b[_0x5cdfc3(0x214)](LTM_DP_TRIGGER_DIGEST),_0x47d94b['subscribeStates'](_0x5cdfc3(0x1a1)),_0x47d94b[_0x5cdfc3(0x214)]('analysis.triggerBriefing'),_0x47d94b[_0x5cdfc3(0x214)](_0x5cdfc3(0x178)),_0x47d94b[_0x5cdfc3(0x214)](_0x5cdfc3(0x17b)),_0x47d94b[_0x5cdfc3(0x214)](_0x5cdfc3(0x18f)),_0x47d94b['subscribeStates']('analysis.training.triggerHealth'),_0x47d94b['subscribeStates'](_0x5cdfc3(0x213)),_0x47d94b['subscribeStates']('analysis.training.triggerComfort'),_0x47d94b['subscribeStates']('analysis.training.triggerTopology'),await initSensorSubscriptions(_0x47d94b),await initPresenceSubscriptions(_0x47d94b),await setupTelegramListener(_0x47d94b),setTimeout(()=>checkWifiPresence(_0x47d94b),0x1388);if(_0x47d94b[_0x5cdfc3(0x23d)])clearInterval(_0x47d94b['analysisTimer']);const _0x4f4971=_0x47d94b[_0x5cdfc3(0x1fa)][_0x5cdfc3(0xd5)]||0xf;_0x4f4971>0x0&&(_0x47d94b['analysisTimer']=setInterval(()=>{runAutopilot(_0x47d94b);},_0x4f4971*0x3c*0x3e8)),schedulers[_0x5cdfc3(0x1c2)](_0x47d94b,()=>createDailyDigest(_0x47d94b)),schedulers[_0x5cdfc3(0xb0)](_0x47d94b),schedulers[_0x5cdfc3(0x22a)](_0x47d94b,()=>runBaselineDriftAnalysis(_0x47d94b)),schedulers[_0x5cdfc3(0x212)](_0x47d94b,()=>sendMorningBriefing(_0x47d94b)),startPythonService(_0x47d94b),setTimeout(()=>{_0x47d94b['pythonProcess']&&(runPythonHealthCheck(_0x47d94b),triggerGaitAnalysis(_0x47d94b),triggerEnergyPrediction(_0x47d94b)),updateHealthVector(_0x47d94b);},0x1388);}class CogniLiving extends utils[a0_0x317532(0x16a)]{constructor(_0xc0ef09){const _0x54385e=a0_0x317532;super({..._0xc0ef09,'name':_0x54385e(0x1af)}),this[_0x54385e(0x247)]=[],this[_0x54385e(0x182)]=[],this[_0x54385e(0x20d)]=[],this[_0x54385e(0xd9)]=[],this['sensorLastValues']={},this[_0x54385e(0x174)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x54385e(0x1f4)]=!![],this['exitTimer']=null,this[_0x54385e(0x1f8)]=null,this[_0x54385e(0x1f9)]=![],this[_0x54385e(0x118)]=null,this[_0x54385e(0x1d1)]=null,this['currentSystemMode']=SYSTEM_MODES[_0x54385e(0x15f)],this[_0x54385e(0x1fc)]=![],this[_0x54385e(0x24e)]=![],this[_0x54385e(0xc6)]=_0x54385e(0xbc),this['analysisTimer']=null,this['ltmJob']=null,this[_0x54385e(0xef)]=null,this[_0x54385e(0x201)]=null,this[_0x54385e(0xc2)]=null,this['pythonProcess']=null,this[_0x54385e(0x1bd)]=![],this['on'](_0x54385e(0x208),this[_0x54385e(0x11c)][_0x54385e(0x19b)](this)),this['on'](_0x54385e(0x13a),this[_0x54385e(0xaa)]['bind'](this)),this['on'](_0x54385e(0x179),this[_0x54385e(0x1a5)][_0x54385e(0x19b)](this)),this['on'](_0x54385e(0xbb),this[_0x54385e(0x18c)][_0x54385e(0x19b)](this));}async['onReady'](){const _0x202bed=a0_0x317532;this[_0x202bed(0x125)]['info'](_0x202bed(0x23b)+this['version']+_0x202bed(0xe0));if(!installer[_0x202bed(0x1e8)](this,()=>startSystem(this)))return;}[a0_0x317532(0x1a5)](_0x38f36c){const _0x17daf4=a0_0x317532;if(this[_0x17daf4(0x23d)])clearInterval(this[_0x17daf4(0x23d)]);if(this[_0x17daf4(0x201)])clearInterval(this['driftAnalysisTimer']);if(this[_0x17daf4(0x21d)])this[_0x17daf4(0x21d)][_0x17daf4(0x150)]();if(this[_0x17daf4(0xef)])this[_0x17daf4(0xef)][_0x17daf4(0x150)]();if(this[_0x17daf4(0xc2)])this[_0x17daf4(0xc2)][_0x17daf4(0x150)]();if(this[_0x17daf4(0x177)])clearTimeout(this[_0x17daf4(0x177)]);if(this[_0x17daf4(0x1f8)])clearTimeout(this[_0x17daf4(0x1f8)]);stopPythonService(this),_0x38f36c();}async[a0_0x317532(0xaa)](_0x382ef1,_0x4648ac){const _0x55d896=a0_0x317532;if(!_0x4648ac||this[_0x55d896(0x1bd)])return;if(_0x382ef1[_0x55d896(0x17e)](_0x55d896(0xb7))&&_0x382ef1[_0x55d896(0x156)](_0x55d896(0x103))&&_0x4648ac[_0x55d896(0xe5)]){await handleTelegramResponse(this,_0x4648ac[_0x55d896(0xe5)]);return;}if(_0x382ef1===this[_0x55d896(0x202)]+'.'+SYSTEM_DP_MODE){if(_0x4648ac[_0x55d896(0xe5)]&&Object[_0x55d896(0x14c)](SYSTEM_MODES)[_0x55d896(0x17e)](_0x4648ac['val'])){this[_0x55d896(0x187)]=_0x4648ac['val'];if(_0x4648ac[_0x55d896(0xe5)]===SYSTEM_MODES[_0x55d896(0x237)])await setPresence(this,![]);else await setPresence(this,!![]);}if(!_0x4648ac['ack'])this[_0x55d896(0xa6)](_0x382ef1,{'val':this[_0x55d896(0x187)],'ack':!![]});return;}if(!_0x4648ac[_0x55d896(0x140)]){_0x382ef1[_0x55d896(0x17e)](_0x55d896(0x176))&&_0x4648ac[_0x55d896(0xe5)]&&(this[_0x55d896(0xa6)](_0x382ef1,{'val':![],'ack':!![]}),runGeminiAnalysis(this));if(_0x382ef1[_0x55d896(0x17e)]('triggerDailyDigest')&&_0x4648ac[_0x55d896(0xe5)]){this['setState'](_0x382ef1,{'val':![],'ack':!![]});if(this[_0x55d896(0x1fc)])createDailyDigest(this);}_0x382ef1[_0x55d896(0x17e)](_0x55d896(0x1f0))&&_0x4648ac[_0x55d896(0xe5)]&&(this['setState'](_0x382ef1,{'val':![],'ack':!![]}),sendMorningBriefing(this));_0x382ef1[_0x55d896(0x17e)](_0x55d896(0xde))&&_0x4648ac[_0x55d896(0xe5)]&&(this[_0x55d896(0xa6)](_0x382ef1,{'val':![],'ack':!![]}),executeAutomationAction(this));if(_0x382ef1[_0x55d896(0x17e)](_0x55d896(0x18f))&&_0x4648ac[_0x55d896(0xe5)]){this[_0x55d896(0xa6)](_0x382ef1,{'val':![],'ack':!![]});if(this[_0x55d896(0x1fc)])try{const _0x2c4a3c=await this[_0x55d896(0x20b)](_0x55d896(0xaf));if(_0x2c4a3c&&_0x2c4a3c[_0x55d896(0xe5)]){const _0x535c95=JSON[_0x55d896(0x136)](_0x2c4a3c['val']);this[_0x55d896(0x125)]['info'](_0x55d896(0x1d4)),this[_0x55d896(0x158)](_0x55d896(0x1a9),{'val':_0x55d896(0x139),'ack':!![]}),sendToPython(this,_0x55d896(0x1ba),{'sequences':_0x535c95});}}catch(_0x3d630d){this['log'][_0x55d896(0x250)](_0x55d896(0x1da)+_0x3d630d[_0x55d896(0xbb)]);}}if(_0x382ef1[_0x55d896(0x17e)](_0x55d896(0xe6))&&_0x4648ac[_0x55d896(0xe5)]){this['setState'](_0x382ef1,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x4d8c24=await this[_0x55d896(0x20b)](LTM_DP_DAILY_DIGESTS);if(_0x4d8c24&&_0x4d8c24[_0x55d896(0xe5)])sendToPython(this,_0x55d896(0xe9),{'digests':JSON[_0x55d896(0x136)](_0x4d8c24[_0x55d896(0xe5)])});}catch(_0x347b72){}}if(_0x382ef1['includes'](_0x55d896(0x213))&&_0x4648ac[_0x55d896(0xe5)]){this['setState'](_0x382ef1,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x145f11=await this['getStateAsync']('LTM.trainingData.thermodynamics');if(_0x145f11&&_0x145f11['val'])sendToPython(this,_0x55d896(0xc1),{'points':JSON[_0x55d896(0x136)](_0x145f11[_0x55d896(0xe5)])});}catch(_0x33fc33){}}if(_0x382ef1[_0x55d896(0x17e)](_0x55d896(0xcf))&&_0x4648ac['val']){this[_0x55d896(0xa6)](_0x382ef1,{'val':![],'ack':!![]});if(this[_0x55d896(0x1fc)])try{const _0x47ee01=await this[_0x55d896(0x20b)](LTM_DP_RAW_LOG);_0x47ee01&&_0x47ee01[_0x55d896(0xe5)]&&(this[_0x55d896(0x125)][_0x55d896(0x10a)]('ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...'),sendToPython(this,_0x55d896(0x244),{'events':JSON[_0x55d896(0x136)](_0x47ee01[_0x55d896(0xe5)])}));}catch(_0x3e4298){}}if(_0x382ef1[_0x55d896(0x17e)](_0x55d896(0x23f))&&_0x4648ac['val']){this[_0x55d896(0xa6)](_0x382ef1,{'val':![],'ack':!![]});if(this[_0x55d896(0x1fc)])try{const _0x1f7041=await this[_0x55d896(0x20b)](_0x55d896(0xaf));if(_0x1f7041&&_0x1f7041[_0x55d896(0xe5)]){const _0x5b5391=JSON[_0x55d896(0x136)](_0x1f7041['val']);this[_0x55d896(0x125)][_0x55d896(0x10a)]('ðŸ•¸ï¸\x20Building\x20Topology\x20Matrix...'),sendToPython(this,'BUILD_TOPOLOGY',{'sequences':_0x5b5391});}}catch(_0x3a7532){this['log'][_0x55d896(0x250)]('Topology\x20Error:\x20'+_0x3a7532[_0x55d896(0xbb)]);}}return;}if(this['config'][_0x55d896(0xf0)]&&this[_0x55d896(0x1fa)][_0x55d896(0xf0)][_0x55d896(0x17e)](_0x382ef1)){await checkWifiPresence(this);return;}const _0x1ef6ec=(this[_0x55d896(0x1fa)][_0x55d896(0x23a)]||[])[_0x55d896(0x224)](_0x2903fa=>_0x2903fa['id']===_0x382ef1);if(_0x1ef6ec)processSensorEvent(this,_0x382ef1,_0x4648ac,_0x1ef6ec);}async[a0_0x317532(0x18c)](_0x3a23c9){const _0x1483c0=a0_0x317532;if(typeof _0x3a23c9==='object'&&_0x3a23c9[_0x1483c0(0xbb)]){if(_0x3a23c9['command']===_0x1483c0(0x11b)){const _0x3e0487=_0x3a23c9['message'][_0x1483c0(0x129)]||this[_0x1483c0(0x1fa)][_0x1483c0(0x1b5)];if(!_0x3e0487)return this[_0x1483c0(0xb6)](_0x3a23c9['from'],_0x3a23c9[_0x1483c0(0x130)],{'success':![],'message':_0x1483c0(0x1b2)},_0x3a23c9['callback']);try{const _0x3bc7ad=new GoogleGenerativeAI(_0x3e0487),_0x36b6b9=_0x3bc7ad[_0x1483c0(0x1a8)]({'model':GEMINI_MODEL}),_0x801bb3=await _0x36b6b9[_0x1483c0(0x106)]('Hi');this['sendTo'](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':!![],'message':_0x1483c0(0x1d5)+_0x801bb3[_0x1483c0(0x238)][_0x1483c0(0x1aa)]()},_0x3a23c9['callback']);}catch(_0x555863){this[_0x1483c0(0xb6)](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':![],'message':_0x1483c0(0x142)+_0x555863[_0x1483c0(0xbb)]},_0x3a23c9[_0x1483c0(0xd2)]);}}else{if(_0x3a23c9['command']===_0x1483c0(0x204)){const _0x57b5f5=await getWeatherContext(this),_0x1351ff=await getCalendarContext(this);this[_0x1483c0(0xb6)](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':!![],'weather':_0x57b5f5,'calendar':_0x1351ff},_0x3a23c9[_0x1483c0(0xd2)]);}else{if(_0x3a23c9[_0x1483c0(0x130)]==='getLtmData'){if(!this[_0x1483c0(0x1fc)])return this[_0x1483c0(0xb6)](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9['command'],{'success':![],'isPro':![]},_0x3a23c9[_0x1483c0(0xd2)]);let _0x2645bf={'status':_0x1483c0(0xdf)};try{const _0x2596b7=await this['getStateAsync'](LTM_DP_DRIFT_STATUS);_0x2645bf[_0x1483c0(0x235)]=_0x2596b7?_0x2596b7[_0x1483c0(0xe5)]:_0x1483c0(0xdf);}catch(_0x19e948){}this[_0x1483c0(0xb6)](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':!![],'isPro':!![],'dailyDigests':this['dailyDigests'],'driftAnalysis':_0x2645bf,'analysisHistory':this['analysisHistory']},_0x3a23c9[_0x1483c0(0xd2)]);}else{if(_0x3a23c9['command']==='getOverviewData'){const _0x2ea2d6=this[_0x1483c0(0xd9)][_0x1483c0(0x18a)],_0xec1a0d=new Date(),_0x140d75=new Date(_0xec1a0d[_0x1483c0(0x1a4)](),_0xec1a0d[_0x1483c0(0x1e7)](),_0xec1a0d[_0x1483c0(0x190)]())[_0x1483c0(0x205)](),_0x1d9dc5=this[_0x1483c0(0x20d)][_0x1483c0(0x1bc)](_0x4bf1fd=>new Date(_0x4bf1fd['timestamp'])[_0x1483c0(0x205)]()>_0x140d75)['length'],_0x596bbf=new Array(0x18)[_0x1483c0(0x167)](0x0);this[_0x1483c0(0x20d)][_0x1483c0(0x229)](_0x23cd93=>{const _0x1ec87b=_0x1483c0,_0x2c41fa=new Date(_0x23cd93[_0x1ec87b(0x1b0)]);if(_0x2c41fa['getTime']()>_0x140d75)_0x596bbf[_0x2c41fa[_0x1ec87b(0xc7)]()]++;});let _0x2a68aa={'status':'N/A'};try{const _0x272d7d=await this[_0x1483c0(0x20b)](LTM_DP_DRIFT_STATUS);_0x2a68aa[_0x1483c0(0x235)]=_0x272d7d?_0x272d7d['val']:'N/A';}catch(_0x5e642f){}let _0x546033='';try{const _0x45dc20=await this[_0x1483c0(0x20b)](_0x1483c0(0x15a));_0x546033=_0x45dc20?_0x45dc20[_0x1483c0(0xe5)]:'';}catch(_0x38cbbd){}let _0x8b7bcb=null;!this['geminiModel']&&(_0x8b7bcb=this[_0x1483c0(0x1fa)][_0x1483c0(0x1b5)]?_0x1483c0(0x199):_0x1483c0(0x10f));let _0x31fcb1={'detected':![],'description':'','targetId':'','targetValue':'','autoApply':![]};try{const _0x1af35d=await this[_0x1483c0(0x20b)](_0x1483c0(0x1f6));if(_0x1af35d&&_0x1af35d[_0x1483c0(0xe5)]){_0x31fcb1[_0x1483c0(0xf3)]=!![];const _0x5394db=await this['getStateAsync'](_0x1483c0(0x1dd));_0x31fcb1['description']=_0x5394db?_0x5394db[_0x1483c0(0xe5)]:'';const _0x58eab4=await this[_0x1483c0(0x20b)]('analysis.automation.targetId');_0x31fcb1['targetId']=_0x58eab4?_0x58eab4[_0x1483c0(0xe5)]:'';const _0x61f131=await this[_0x1483c0(0x20b)](_0x1483c0(0x193));_0x31fcb1['targetValue']=_0x61f131?_0x61f131['val']:'';}const _0x5295d4=await this[_0x1483c0(0x20b)](_0x1483c0(0x17b));_0x31fcb1['autoApply']=_0x5295d4?!!_0x5295d4[_0x1483c0(0xe5)]:![];}catch(_0x33373d){}this[_0x1483c0(0xb6)](_0x3a23c9['from'],_0x3a23c9[_0x1483c0(0x130)],{'success':!![],'eventHistory':this[_0x1483c0(0x247)][_0x1483c0(0xd3)](0x0,0xf),'stats':{'digestCount':_0x2ea2d6,'eventCountToday':_0x1d9dc5,'hourlyActivity':_0x596bbf,'driftStatus':_0x2a68aa[_0x1483c0(0x235)],'isPresent':this['isPresent'],'presenceWho':_0x546033,'minDays':this['config'][_0x1483c0(0x195)]||0x7,'stbDays':this[_0x1483c0(0x1fa)][_0x1483c0(0x102)]||0xe,'ltbDays':this[_0x1483c0(0x1fa)]['ltmLtbWindowDays']||0x3c,'systemError':_0x8b7bcb},'automation':_0x31fcb1},_0x3a23c9[_0x1483c0(0xd2)]);}else{if(_0x3a23c9[_0x1483c0(0x130)]===_0x1483c0(0x165))try{const _0x27dda7=await scanner['scanForDevices'](this,_0x3a23c9[_0x1483c0(0xbb)]||{});this[_0x1483c0(0xb6)](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':!![],'devices':_0x27dda7},_0x3a23c9[_0x1483c0(0xd2)]);}catch(_0x2690fa){this[_0x1483c0(0xb6)](_0x3a23c9['from'],_0x3a23c9[_0x1483c0(0x130)],{'success':![],'error':_0x2690fa[_0x1483c0(0xbb)]},_0x3a23c9['callback']);}else{if(_0x3a23c9[_0x1483c0(0x130)]===_0x1483c0(0xf1)){const _0xa6054d=await this[_0x1483c0(0x1d6)](_0x1483c0(0x164),_0x1483c0(0x197)),_0x8aef86=[];if(_0xa6054d)for(const _0xeb5fab in _0xa6054d){const _0x542c8e=_0xa6054d[_0xeb5fab],_0x2e0b96=(_0x542c8e['common']&&typeof _0x542c8e[_0x1483c0(0x155)][_0x1483c0(0x1a3)]===_0x1483c0(0x101)?_0x542c8e['common'][_0x1483c0(0x1a3)]['de']:_0x542c8e[_0x1483c0(0x155)][_0x1483c0(0x1a3)])||_0x542c8e['common'][_0x1483c0(0x1a3)];_0x8aef86['push']({'id':_0xeb5fab,'name':_0x2e0b96});}const _0x44903b=await this[_0x1483c0(0x1d6)](_0x1483c0(0x169),_0x1483c0(0x197)),_0x1e9b82=[];if(_0x44903b)for(const _0x3b9143 in _0x44903b){const _0x1f17e8=_0x44903b[_0x3b9143],_0x148941=(_0x1f17e8['common']&&typeof _0x1f17e8[_0x1483c0(0x155)][_0x1483c0(0x1a3)]==='object'?_0x1f17e8[_0x1483c0(0x155)]['name']['de']:_0x1f17e8[_0x1483c0(0x155)][_0x1483c0(0x1a3)])||_0x3b9143[_0x1483c0(0x12c)]('.')[_0x1483c0(0x1b7)]();_0x1e9b82[_0x1483c0(0x233)](_0x148941);}this['sendTo'](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':!![],'enums':_0x8aef86,'rooms':_0x1e9b82},_0x3a23c9[_0x1483c0(0xd2)]);}else{if(_0x3a23c9[_0x1483c0(0x130)]===_0x1483c0(0x105)){const _0x5dd7fe=_0x3a23c9[_0x1483c0(0xbb)][_0x1483c0(0x240)];if(!_0x5dd7fe)return this[_0x1483c0(0xb6)](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':![],'error':'No\x20instance'},_0x3a23c9[_0x1483c0(0xd2)]);const _0x16b506=await getCalendarNames(this,_0x5dd7fe);this[_0x1483c0(0xb6)](_0x3a23c9['from'],_0x3a23c9['command'],{'success':!![],'names':_0x16b506},_0x3a23c9[_0x1483c0(0xd2)]);}else{if(_0x3a23c9[_0x1483c0(0x130)]===_0x1483c0(0x114)){const {targetId:_0x51284a,targetValue:_0x13bada}=_0x3a23c9[_0x1483c0(0xbb)];this[_0x1483c0(0x125)][_0x1483c0(0x10a)](_0x1483c0(0x1dc)+_0x51284a+_0x1483c0(0xf5)+_0x13bada),await this[_0x1483c0(0x158)](_0x1483c0(0x1f6),{'val':!![],'ack':!![]}),await this[_0x1483c0(0x158)]('analysis.automation.description',{'val':_0x1483c0(0x225)+_0x51284a,'ack':!![]}),await this[_0x1483c0(0x158)](_0x1483c0(0x109),{'val':_0x51284a,'ack':!![]}),await this[_0x1483c0(0x158)](_0x1483c0(0x193),{'val':_0x13bada,'ack':!![]}),this[_0x1483c0(0xb6)](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':!![]},_0x3a23c9[_0x1483c0(0xd2)]);}else{if(_0x3a23c9[_0x1483c0(0x130)]===_0x1483c0(0x1d2)){const {historyId:_0x46ad65,rating:_0x5303c3,comment:_0x492efc,alertReason:_0x3b62cb}=_0x3a23c9[_0x1483c0(0xbb)];_0x46ad65&&_0x5303c3?(await saveFeedback(this,{'timestamp':Date[_0x1483c0(0x231)](),'historyId':_0x46ad65,'rating':_0x5303c3,'comment':_0x492efc,'alertReason':_0x3b62cb}),this['sendTo'](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':!![]},_0x3a23c9[_0x1483c0(0xd2)])):this['sendTo'](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9['command'],{'success':![],'error':_0x1483c0(0xcd)},_0x3a23c9[_0x1483c0(0xd2)]);}else _0x3a23c9['command']===_0x1483c0(0xa8)&&(this['log'][_0x1483c0(0x10a)](_0x1483c0(0x20e)),await this[_0x1483c0(0x158)](_0x1483c0(0x1f6),{'val':![],'ack':!![]}),await this[_0x1483c0(0x158)](_0x1483c0(0x1dd),{'val':'','ack':!![]}),this['sendTo'](_0x3a23c9[_0x1483c0(0x11a)],_0x3a23c9[_0x1483c0(0x130)],{'success':!![]},_0x3a23c9[_0x1483c0(0xd2)]));}}}}}}}}}}}if(require[a0_0x317532(0x1ce)]!==module)module[a0_0x317532(0x11d)]=_0x221880=>new CogniLiving(_0x221880);else new CogniLiving();