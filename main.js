const a0_0x632d0a=a0_0x27f7;(function(_0x2eac27,_0x3f31e7){const _0x26bfd1=a0_0x27f7,_0x172b94=_0x2eac27();while(!![]){try{const _0x132e09=-parseInt(_0x26bfd1(0x2a4))/0x1*(parseInt(_0x26bfd1(0x258))/0x2)+-parseInt(_0x26bfd1(0x2ec))/0x3*(-parseInt(_0x26bfd1(0x21d))/0x4)+-parseInt(_0x26bfd1(0x2f7))/0x5*(parseInt(_0x26bfd1(0x337))/0x6)+parseInt(_0x26bfd1(0x335))/0x7*(parseInt(_0x26bfd1(0x302))/0x8)+parseInt(_0x26bfd1(0x31a))/0x9+parseInt(_0x26bfd1(0x2af))/0xa*(parseInt(_0x26bfd1(0x2ca))/0xb)+-parseInt(_0x26bfd1(0x2c0))/0xc;if(_0x132e09===_0x3f31e7)break;else _0x172b94['push'](_0x172b94['shift']());}catch(_0x5dbef6){_0x172b94['push'](_0x172b94['shift']());}}}(a0_0x4f28,0xab7dd));const a0_0x1465ca=(function(){let _0x2cc417=!![];return function(_0x64abea,_0x3a6ff8){const _0x2de527=_0x2cc417?function(){const _0x764c60=a0_0x27f7;if(_0x3a6ff8){const _0x5857d6=_0x3a6ff8[_0x764c60(0x272)](_0x64abea,arguments);return _0x3a6ff8=null,_0x5857d6;}}:function(){};return _0x2cc417=![],_0x2de527;};}()),a0_0x176b3b=a0_0x1465ca(this,function(){const _0x2cb12c=a0_0x27f7;return a0_0x176b3b[_0x2cb12c(0x34c)]()['search'](_0x2cb12c(0x261))['toString']()['constructor'](a0_0x176b3b)[_0x2cb12c(0x32b)](_0x2cb12c(0x261));});function a0_0x27f7(_0x3eaf46,_0x251166){const _0x323cae=a0_0x4f28();return a0_0x27f7=function(_0x176b3b,_0x1465ca){_0x176b3b=_0x176b3b-0x1bd;let _0x4f2870=_0x323cae[_0x176b3b];return _0x4f2870;},a0_0x27f7(_0x3eaf46,_0x251166);}a0_0x176b3b();'use strict';const utils=require(a0_0x632d0a(0x225)),{GoogleGenerativeAI}=require(a0_0x632d0a(0x230)),schedule=require(a0_0x632d0a(0x207)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x632d0a(0x25a),LTM_SCHEDULE=a0_0x632d0a(0x218),MODE_RESET_SCHEDULE='0\x204\x20*\x20*\x20*',ANALYSIS_HISTORY_MAX_SIZE=0x64,LTM_DP_RAW_LOG=a0_0x632d0a(0x1ce),LTM_DP_DAILY_DIGESTS=a0_0x632d0a(0x211),LTM_DP_STATUS=a0_0x632d0a(0x2bb),LTM_DP_TRIGGER_DIGEST=a0_0x632d0a(0x2b2),LTM_DP_BASELINE_STATUS='LTM.baselineStatus',LTM_DP_DRIFT_CHANNEL=a0_0x632d0a(0x263),LTM_DP_DRIFT_STATUS=a0_0x632d0a(0x34a),LTM_DP_DRIFT_DETAILS='LTM.driftAnalysis.driftDetails',LTM_DP_DRIFT_LAST_CHECK=a0_0x632d0a(0x303),SYSTEM_DP_MODE=a0_0x632d0a(0x243),HARD_IGNORE_TERMS=[a0_0x632d0a(0x31b),a0_0x632d0a(0x2ed),'update',a0_0x632d0a(0x2fa),a0_0x632d0a(0x2c9),a0_0x632d0a(0x2fc),a0_0x632d0a(0x2e9),a0_0x632d0a(0x299),'error','fault',a0_0x632d0a(0x1d8),a0_0x632d0a(0x277),a0_0x632d0a(0x1db),a0_0x632d0a(0x284),a0_0x632d0a(0x23f),a0_0x632d0a(0x268),'reachable',a0_0x632d0a(0x2b3)],GENERIC_NAMES=[a0_0x632d0a(0x298),'currentposition','state','level','value',a0_0x632d0a(0x2dc),'on',a0_0x632d0a(0x345),a0_0x632d0a(0x316),a0_0x632d0a(0x323),a0_0x632d0a(0x2a3),a0_0x632d0a(0x286),'cover',a0_0x632d0a(0x346),a0_0x632d0a(0x1fa),a0_0x632d0a(0x1bf),a0_0x632d0a(0x26f),a0_0x632d0a(0x21e),a0_0x632d0a(0x21b),a0_0x632d0a(0x351),a0_0x632d0a(0x1fd),a0_0x632d0a(0x1d7),a0_0x632d0a(0x1e5),a0_0x632d0a(0x2a0),a0_0x632d0a(0x269)],ADAPTER_BLACKLIST=[a0_0x632d0a(0x23c),a0_0x632d0a(0x2fe),a0_0x632d0a(0x341),a0_0x632d0a(0x1df),a0_0x632d0a(0x360),a0_0x632d0a(0x2cb),a0_0x632d0a(0x2da),a0_0x632d0a(0x1d0),'echarts.',a0_0x632d0a(0x295),'simple-api.'],SYSTEM_MODES={'NORMAL':a0_0x632d0a(0x26e),'VACATION':a0_0x632d0a(0x321),'PARTY':'party','GUEST':a0_0x632d0a(0x2b4)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x632d0a(0x2e7)],SYSTEM_MODES['GUEST']],PERSONA_MAPPING={'generic':a0_0x632d0a(0x20e),'senior_aal':a0_0x632d0a(0x23a),'family':a0_0x632d0a(0x356),'single_comfort':a0_0x632d0a(0x328),'security':'PRIORIT√ÑT:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungew√∂hnliche\x20Anwesenheit.'};class CogniLiving extends utils[a0_0x632d0a(0x217)]{constructor(_0x1f2627){const _0x5eac62=a0_0x632d0a;super({..._0x1f2627,'name':_0x5eac62(0x281)}),this['eventHistory']=[],this['analysisHistory']=[],this[_0x5eac62(0x209)]=[],this['rawEventLog']=[],this[_0x5eac62(0x2d7)]=[],this[_0x5eac62(0x2b0)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x5eac62(0x2bd)]=null,this[_0x5eac62(0x366)]=null,this[_0x5eac62(0x322)]=![],this[_0x5eac62(0x36c)]=null,this[_0x5eac62(0x1c4)]=null,this[_0x5eac62(0x2ba)]=SYSTEM_MODES[_0x5eac62(0x1e8)],this['isProVersion']=![],this[_0x5eac62(0x223)]=![],this[_0x5eac62(0x2ce)]=_0x5eac62(0x23e),this[_0x5eac62(0x2b7)]=null,this[_0x5eac62(0x2ee)]=null,this[_0x5eac62(0x28a)]=null,this[_0x5eac62(0x1f1)]=null,this[_0x5eac62(0x312)]=null,this['on'](_0x5eac62(0x30f),this[_0x5eac62(0x1cb)]['bind'](this)),this['on']('stateChange',this[_0x5eac62(0x227)][_0x5eac62(0x22a)](this)),this['on'](_0x5eac62(0x2aa),this[_0x5eac62(0x2ff)][_0x5eac62(0x22a)](this)),this['on'](_0x5eac62(0x1c2),this[_0x5eac62(0x33c)][_0x5eac62(0x22a)](this));}async[a0_0x632d0a(0x1cb)](){const _0x3f1b2a=a0_0x632d0a;this['log'][_0x3f1b2a(0x1e4)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x3f1b2a(0x1be)]+_0x3f1b2a(0x2f3)),await this['initZombies'](),this['config'][_0x3f1b2a(0x25f)]=this[_0x3f1b2a(0x27b)][_0x3f1b2a(0x25f)]||'';try{this['isProVersion']=await this[_0x3f1b2a(0x289)](this[_0x3f1b2a(0x27b)][_0x3f1b2a(0x25f)]);}catch(_0x407a32){}if(!this[_0x3f1b2a(0x27b)][_0x3f1b2a(0x35f)]||this[_0x3f1b2a(0x27b)][_0x3f1b2a(0x35f)]<0.1)this[_0x3f1b2a(0x27b)]['inactivityThresholdHours']=0xc;await this[_0x3f1b2a(0x359)](),await this[_0x3f1b2a(0x326)]();if(this[_0x3f1b2a(0x27b)][_0x3f1b2a(0x222)])try{this[_0x3f1b2a(0x36c)]=new GoogleGenerativeAI(this[_0x3f1b2a(0x27b)][_0x3f1b2a(0x222)]),this[_0x3f1b2a(0x1c4)]=this[_0x3f1b2a(0x36c)][_0x3f1b2a(0x2d4)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3f1b2a(0x305)}}),this[_0x3f1b2a(0x28d)][_0x3f1b2a(0x1e4)](_0x3f1b2a(0x250));}catch(_0x554086){this[_0x3f1b2a(0x28d)][_0x3f1b2a(0x362)](_0x3f1b2a(0x22b)+_0x554086[_0x3f1b2a(0x1c2)]);}await this['createAllObjects'](),await this[_0x3f1b2a(0x2fb)](),await this['loadRawEventLog'](),await this[_0x3f1b2a(0x1cd)](),this[_0x3f1b2a(0x2c3)](_0x3f1b2a(0x24a)),this[_0x3f1b2a(0x2c3)](LTM_DP_TRIGGER_DIGEST),this['subscribeStates'](_0x3f1b2a(0x243)),this[_0x3f1b2a(0x2c3)](_0x3f1b2a(0x280)),await this['initSensorSubscriptions'](),await this[_0x3f1b2a(0x233)]();if(this[_0x3f1b2a(0x2b7)])clearInterval(this[_0x3f1b2a(0x2b7)]);const _0x4fc302=this[_0x3f1b2a(0x27b)][_0x3f1b2a(0x2f4)]||0xf;_0x4fc302>0x0&&(this[_0x3f1b2a(0x28d)][_0x3f1b2a(0x1e4)](_0x3f1b2a(0x35e)+_0x4fc302+_0x3f1b2a(0x256)),this[_0x3f1b2a(0x2b7)]=setInterval(()=>{this['runAutopilot']();},_0x4fc302*0x3c*0x3e8)),this[_0x3f1b2a(0x1f3)](),this[_0x3f1b2a(0x310)](),this['setupDriftAnalysisScheduler'](),this[_0x3f1b2a(0x2c5)]();}[a0_0x632d0a(0x2ff)](_0x11d396){const _0x56614d=a0_0x632d0a;if(this[_0x56614d(0x2b7)])clearInterval(this['analysisTimer']);if(this[_0x56614d(0x1f1)])clearInterval(this['driftAnalysisTimer']);if(this[_0x56614d(0x2ee)])this['ltmJob']['cancel']();if(this[_0x56614d(0x28a)])this[_0x56614d(0x28a)][_0x56614d(0x354)]();if(this[_0x56614d(0x312)])this[_0x56614d(0x312)][_0x56614d(0x354)]();if(this['exitTimer'])clearTimeout(this['exitTimer']);if(this[_0x56614d(0x366)])clearTimeout(this['exitGraceTimer']);_0x11d396();}async[a0_0x632d0a(0x227)](_0x307f9f,_0x98e176){const _0x6fd3f=a0_0x632d0a;if(!_0x98e176)return;if(_0x307f9f===this['namespace']+'.'+SYSTEM_DP_MODE){_0x98e176[_0x6fd3f(0x29d)]&&Object[_0x6fd3f(0x33f)](SYSTEM_MODES)[_0x6fd3f(0x273)](_0x98e176[_0x6fd3f(0x29d)])&&(this[_0x6fd3f(0x2ba)]=_0x98e176[_0x6fd3f(0x29d)],_0x98e176[_0x6fd3f(0x29d)]===SYSTEM_MODES['VACATION']?await this[_0x6fd3f(0x300)](![]):await this[_0x6fd3f(0x300)](!![]));if(!_0x98e176[_0x6fd3f(0x249)])this[_0x6fd3f(0x329)](_0x307f9f,{'val':this[_0x6fd3f(0x2ba)],'ack':!![]});return;}if(!_0x98e176[_0x6fd3f(0x249)]){_0x307f9f[_0x6fd3f(0x273)](_0x6fd3f(0x24a))&&_0x98e176['val']&&(this[_0x6fd3f(0x329)](_0x307f9f,{'val':![],'ack':!![]}),this['runGeminiAnalysis']());if(_0x307f9f[_0x6fd3f(0x273)](_0x6fd3f(0x24b))&&_0x98e176['val']){this[_0x6fd3f(0x329)](_0x307f9f,{'val':![],'ack':!![]});if(this['isProVersion'])this[_0x6fd3f(0x1ee)]();}_0x307f9f[_0x6fd3f(0x273)]('triggerBriefing')&&_0x98e176[_0x6fd3f(0x29d)]&&(this[_0x6fd3f(0x329)](_0x307f9f,{'val':![],'ack':!![]}),this['sendMorningBriefing']());return;}if(this[_0x6fd3f(0x27b)][_0x6fd3f(0x271)]&&this[_0x6fd3f(0x27b)][_0x6fd3f(0x271)][_0x6fd3f(0x273)](_0x307f9f)){await this[_0x6fd3f(0x2e8)]();return;}const _0x5e9d40=(this[_0x6fd3f(0x27b)][_0x6fd3f(0x202)]||[])['find'](_0x421535=>_0x421535['id']===_0x307f9f);if(_0x5e9d40)this[_0x6fd3f(0x20a)](_0x307f9f,_0x98e176,_0x5e9d40);}async['onMessage'](_0x10d511){const _0x1bd291=a0_0x632d0a;if(typeof _0x10d511===_0x1bd291(0x2a5)&&_0x10d511[_0x1bd291(0x1c2)])try{if(_0x10d511[_0x1bd291(0x26c)]===_0x1bd291(0x1e1)){}else{if(_0x10d511['command']===_0x1bd291(0x236)){}else{if(_0x10d511['command']===_0x1bd291(0x330)){if(!this[_0x1bd291(0x340)])return this[_0x1bd291(0x2dd)](_0x10d511[_0x1bd291(0x313)],_0x10d511[_0x1bd291(0x26c)],{'success':![],'isPro':![]},_0x10d511['callback']);let _0x66db0a={'status':_0x1bd291(0x343),'details':'','lastCheck':0x0};try{_0x66db0a[_0x1bd291(0x346)]=(await this['getStateAsync'](LTM_DP_DRIFT_STATUS))['val'],_0x66db0a['details']=(await this[_0x1bd291(0x219)](LTM_DP_DRIFT_DETAILS))[_0x1bd291(0x29d)],_0x66db0a['lastCheck']=(await this[_0x1bd291(0x219)](LTM_DP_DRIFT_LAST_CHECK))[_0x1bd291(0x29d)];}catch(_0x3311a2){}this[_0x1bd291(0x2dd)](_0x10d511[_0x1bd291(0x313)],_0x10d511[_0x1bd291(0x26c)],{'success':!![],'isPro':!![],'dailyDigests':this['dailyDigests'],'driftAnalysis':_0x66db0a,'analysisHistory':this[_0x1bd291(0x1eb)]},_0x10d511['callback']);}else{if(_0x10d511['command']===_0x1bd291(0x2a9)){const _0x340c27=this[_0x1bd291(0x2d7)][_0x1bd291(0x1f9)],_0x4d6e5f=this[_0x1bd291(0x347)]['filter'](_0x942b13=>_0x942b13[_0x1bd291(0x30d)]>new Date()[_0x1bd291(0x2cd)](0x0,0x0,0x0,0x0))['length'];let _0x11517c={'status':_0x1bd291(0x343)};try{_0x11517c['status']=(await this[_0x1bd291(0x219)](LTM_DP_DRIFT_STATUS))[_0x1bd291(0x29d)];}catch(_0x38ba9f){}this[_0x1bd291(0x2dd)](_0x10d511['from'],_0x10d511[_0x1bd291(0x26c)],{'success':!![],'eventHistory':this['eventHistory'][_0x1bd291(0x1f0)](0x0,0xf),'stats':{'digestCount':_0x340c27,'eventCountToday':_0x4d6e5f,'driftStatus':_0x11517c['status'],'isPresent':this[_0x1bd291(0x2a8)],'minDays':this[_0x1bd291(0x27b)]['minDaysForBaseline']||0x7,'stbDays':this['config'][_0x1bd291(0x204)]||0xe,'ltbDays':this[_0x1bd291(0x27b)][_0x1bd291(0x2d9)]||0x3c}},_0x10d511[_0x1bd291(0x297)]);}else{if(_0x10d511[_0x1bd291(0x26c)]==='getEnums'){}else{if(_0x10d511[_0x1bd291(0x26c)]==='scanDevices')try{const _0x5eaf6f=await this[_0x1bd291(0x2f9)](_0x10d511[_0x1bd291(0x1c2)]||{});this['sendTo'](_0x10d511[_0x1bd291(0x313)],_0x10d511[_0x1bd291(0x26c)],{'success':!![],'devices':_0x5eaf6f},_0x10d511[_0x1bd291(0x297)]);}catch(_0x426759){this['sendTo'](_0x10d511['from'],_0x10d511[_0x1bd291(0x26c)],{'success':![],'error':_0x426759['message']},_0x10d511['callback']);}}}}}}}catch(_0x1cf071){}}async[a0_0x632d0a(0x20a)](_0x44a1b5,_0x117d41,_0x103624){const _0x5c163e=a0_0x632d0a;if(!_0x103624['logDuplicates']&&this[_0x5c163e(0x2b0)][_0x44a1b5]===_0x117d41[_0x5c163e(0x29d)])return;this[_0x5c163e(0x2b0)][_0x44a1b5]=_0x117d41[_0x5c163e(0x29d)];if(this[_0x5c163e(0x322)])return;const _0x8fb812=await this[_0x5c163e(0x2e8)]();if(_0x8fb812){if(!this[_0x5c163e(0x2a8)])await this[_0x5c163e(0x300)](!![]);}else{const _0x5e5e4f=_0x103624[_0x5c163e(0x239)]===!![];if(_0x5e5e4f)this[_0x5c163e(0x34d)]();else{if(this['exitTimer'])this[_0x5c163e(0x242)]();if(!this[_0x5c163e(0x2a8)]&&this[_0x5c163e(0x2ba)]===SYSTEM_MODES[_0x5c163e(0x1e8)])await this[_0x5c163e(0x300)](!![]);}}const _0x1e6a67={'timestamp':_0x117d41['ts'],'id':_0x44a1b5,'name':_0x103624[_0x5c163e(0x2e1)],'value':_0x117d41['val'],'location':_0x103624[_0x5c163e(0x2ef)],'type':_0x103624['type']};this['eventHistory'][_0x5c163e(0x22d)](_0x1e6a67);if(this[_0x5c163e(0x347)][_0x5c163e(0x1f9)]>HISTORY_MAX_SIZE)this['eventHistory'][_0x5c163e(0x2e4)]();await this[_0x5c163e(0x325)](_0x5c163e(0x308),{'val':JSON[_0x5c163e(0x253)](_0x1e6a67),'ack':!![]}),await this['setStateAsync'](_0x5c163e(0x352),{'val':JSON['stringify'](this[_0x5c163e(0x347)]),'ack':!![]}),this['rawEventLog'][_0x5c163e(0x371)]({'timestamp':new Date(_0x117d41['ts'])[_0x5c163e(0x2a2)](),'sensorName':_0x103624[_0x5c163e(0x2e1)],'location':_0x103624['location'],'value':_0x117d41[_0x5c163e(0x29d)]}),await this[_0x5c163e(0x260)]();}async[a0_0x632d0a(0x1dd)](_0x4f6621=''){const _0x32a26c=a0_0x632d0a;if(!this['geminiModel']){this[_0x32a26c(0x28d)][_0x32a26c(0x2ae)](_0x32a26c(0x30e));return;}const _0x379d98=this[_0x32a26c(0x347)][_0x32a26c(0x1f9)]>0x0?this[_0x32a26c(0x347)]:[{'note':_0x32a26c(0x334)}],_0x3c619f=PERSONA_MAPPING[this[_0x32a26c(0x27b)][_0x32a26c(0x2ad)]||_0x32a26c(0x262)],_0x58b8c3=this[_0x32a26c(0x27b)]['livingContext']||'',_0x16932=this[_0x32a26c(0x2ba)],_0x116517=await this[_0x32a26c(0x26d)](),_0x596509=await this[_0x32a26c(0x370)](),_0x2cb9d8=(_0x116517+'\x20'+_0x596509)[_0x32a26c(0x288)](),_0x52f677=new Date(),_0x1e58ed=_0x52f677[_0x32a26c(0x24f)](_0x32a26c(0x29e),{'weekday':_0x32a26c(0x1e3),'hour':_0x32a26c(0x276),'minute':_0x32a26c(0x276)});let _0x3ee283='Phase\x201:\x20Learning\x20(No\x20Baseline).\x20Rely\x20on\x20common\x20sense.';const _0x409595=this[_0x32a26c(0x2d7)][_0x32a26c(0x1f9)];if(this['isProVersion']&&_0x409595>=(this['config'][_0x32a26c(0x282)]||0x7)){const _0x54157d=this[_0x32a26c(0x2d7)][_0x32a26c(0x1f0)](-(this[_0x32a26c(0x27b)][_0x32a26c(0x204)]||0xe));_0x3ee283='Phase\x202:\x20ACUTE\x20MONITORING.\x20STB\x20(Last\x2014d):\x20'+JSON[_0x32a26c(0x253)](_0x54157d)+'.';if(_0x409595>=0x1e)_0x3ee283+=_0x32a26c(0x1d1);}const _0x434dda=_0x32a26c(0x2d1)+_0x1e58ed+_0x32a26c(0x32d)+_0x2cb9d8+_0x32a26c(0x33e),_0x509725=_0x32a26c(0x1ec)+_0x1e58ed+_0x32a26c(0x2d5)+_0x16932+_0x32a26c(0x30b)+(this['isPresent']?'Ja':'Nein')+_0x32a26c(0x35d)+_0x58b8c3+'.\x20PERSONA:\x20'+_0x3c619f+_0x32a26c(0x311)+_0x3ee283+'\x20'+(_0x4f6621?_0x4f6621:'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x434dda+_0x32a26c(0x246)+JSON[_0x32a26c(0x253)](_0x379d98)+_0x32a26c(0x25d);try{const _0x41f1e=await this[_0x32a26c(0x1c4)]['generateContent'](_0x509725),_0x3720f6=_0x41f1e[_0x32a26c(0x31e)][_0x32a26c(0x36b)]()[_0x32a26c(0x2d3)](/```json|```/g,'')[_0x32a26c(0x288)](),_0x18227c=JSON[_0x32a26c(0x29b)](_0x3720f6);await this[_0x32a26c(0x325)](_0x32a26c(0x1d3),{'val':_0x3720f6,'ack':!![]}),await this[_0x32a26c(0x325)](_0x32a26c(0x2e5),{'val':_0x18227c[_0x32a26c(0x1c9)][_0x32a26c(0x2d8)]||'','ack':!![]}),await this['setStateAsync'](_0x32a26c(0x1c3),{'val':_0x18227c[_0x32a26c(0x1c9)][_0x32a26c(0x29c)]||_0x32a26c(0x343),'ack':!![]});const _0x8a7120=_0x18227c[_0x32a26c(0x350)][_0x32a26c(0x2c8)],_0x418e73=this[_0x32a26c(0x340)]?_0x8a7120[_0x32a26c(0x368)]:![];await this['setStateAsync']('analysis.automation.patternDetected',{'val':_0x418e73,'ack':!![]});let _0x25f133=_0x32a26c(0x28f);this[_0x32a26c(0x340)]&&(_0x25f133=_0x418e73?_0x8a7120[_0x32a26c(0x27a)]:_0x32a26c(0x1bd));await this[_0x32a26c(0x325)](_0x32a26c(0x1d5),{'val':_0x25f133,'ack':!![]});if(_0x18227c['activity'][_0x32a26c(0x26b)]||_0x18227c[_0x32a26c(0x1c9)][_0x32a26c(0x1ff)]){await this[_0x32a26c(0x325)](_0x32a26c(0x307),{'val':!![],'ack':!![]});if(!this[_0x32a26c(0x223)]||_0x18227c[_0x32a26c(0x1c9)][_0x32a26c(0x1ff)]){const _0x2b0002=_0x18227c[_0x32a26c(0x1c9)][_0x32a26c(0x1ff)]?'üö®üö®\x20NOTFALL':_0x32a26c(0x2a6);this['sendNotification'](_0x2b0002+':\x20'+_0x18227c['activity'][_0x32a26c(0x2d8)],![],_0x18227c[_0x32a26c(0x1c9)]['isEmergency']);}}else await this[_0x32a26c(0x325)](_0x32a26c(0x307),{'val':![],'ack':!![]});this[_0x32a26c(0x223)]=_0x18227c['activity']['isAlert']||_0x18227c[_0x32a26c(0x1c9)][_0x32a26c(0x1ff)];const _0x477dcf={'timestamp':Date[_0x32a26c(0x1f5)](),'id':Date[_0x32a26c(0x1f5)]()['toString'](),'analysis':_0x18227c,'systemMode':_0x16932,'isPro':this['isProVersion']};this[_0x32a26c(0x1dc)](_0x477dcf);}catch(_0x38f89c){this[_0x32a26c(0x28d)][_0x32a26c(0x362)](_0x32a26c(0x206)+_0x38f89c['message']);}}async[a0_0x632d0a(0x301)](){const _0x6ed610=a0_0x632d0a,_0x3b55cc=this[_0x6ed610(0x27b)][_0x6ed610(0x35f)],_0x38103f=this['eventHistory'][_0x6ed610(0x1f9)]>0x0?this[_0x6ed610(0x347)][0x0][_0x6ed610(0x30d)]:Date[_0x6ed610(0x1f5)](),_0x249a34=(Date['now']()-_0x38103f)/(0x3e8*0x3c*0x3c);let _0x3fd566='';this[_0x6ed610(0x27b)][_0x6ed610(0x2ab)]&&this[_0x6ed610(0x2ba)]===SYSTEM_MODES[_0x6ed610(0x1e8)]&&this[_0x6ed610(0x2a8)]&&(_0x249a34>_0x3b55cc&&(_0x3fd566=_0x6ed610(0x2ac)+_0x249a34[_0x6ed610(0x36f)](0x1)+_0x6ed610(0x24e))),this[_0x6ed610(0x1dd)](_0x3fd566)[_0x6ed610(0x2b1)](_0x250bb3=>this[_0x6ed610(0x28d)][_0x6ed610(0x362)](_0x250bb3));}async[a0_0x632d0a(0x1ee)](){}async[a0_0x632d0a(0x259)](){}async[a0_0x632d0a(0x2f9)](_0x27f0f3){const _0x15ecf3=a0_0x632d0a;this['log']['info'](_0x15ecf3(0x1c7));const _0x50277f=[],_0x516052=await this[_0x15ecf3(0x33a)]('*'),_0x50522f=await this[_0x15ecf3(0x33a)]('enum.functions.*',_0x15ecf3(0x23b)),_0x129801=await this['getForeignObjectsAsync'](_0x15ecf3(0x324),'enum'),_0x1bdd1f={};if(_0x50522f)for(const _0x3d97ea in _0x50522f){const _0x5a5593=_0x50522f[_0x3d97ea][_0x15ecf3(0x21c)][_0x15ecf3(0x1f7)]||[];_0x5a5593[_0x15ecf3(0x1cf)](_0x12a9c5=>{const _0xffb407=_0x15ecf3;if(!_0x1bdd1f[_0x12a9c5])_0x1bdd1f[_0x12a9c5]=[];_0x1bdd1f[_0x12a9c5][_0xffb407(0x371)](_0x3d97ea);});}const _0x23485a={};if(_0x129801)for(const _0x1b480a in _0x129801){const _0x25aa4e=_0x129801[_0x1b480a][_0x15ecf3(0x21c)][_0x15ecf3(0x1f7)]||[],_0x9621d3=typeof _0x129801[_0x1b480a][_0x15ecf3(0x21c)][_0x15ecf3(0x2e1)]==='object'?_0x129801[_0x1b480a][_0x15ecf3(0x21c)][_0x15ecf3(0x2e1)]['de']:_0x129801[_0x1b480a][_0x15ecf3(0x21c)][_0x15ecf3(0x2e1)];_0x25aa4e['forEach'](_0x298f35=>_0x23485a[_0x298f35]=_0x9621d3);}const _0x130a46=_0x27f0f3[_0x15ecf3(0x212)]||[],_0x12d772=_0x27f0f3[_0x15ecf3(0x1fa)]!==![],_0x1f2e54=_0x27f0f3[_0x15ecf3(0x2be)]!==![],_0x68e8ed=_0x27f0f3[_0x15ecf3(0x320)]!==![],_0x39b8d8=_0x27f0f3[_0x15ecf3(0x21e)]===!![],_0x4289ee=_0x27f0f3[_0x15ecf3(0x32f)]===!![];for(const _0x2f092f in _0x516052){const _0x448635=_0x516052[_0x2f092f];if(_0x448635[_0x15ecf3(0x1d4)]!=='state'||!_0x448635['common'])continue;if(ADAPTER_BLACKLIST[_0x15ecf3(0x292)](_0x3f4ec9=>_0x2f092f[_0x15ecf3(0x33d)](_0x3f4ec9))&&!_0x4289ee)continue;const _0xf72e9e=(_0x448635[_0x15ecf3(0x21c)][_0x15ecf3(0x213)]||'')[_0x15ecf3(0x2df)]();let _0x49ddb9=(typeof _0x448635[_0x15ecf3(0x21c)][_0x15ecf3(0x2e1)]===_0x15ecf3(0x2a5)?_0x448635[_0x15ecf3(0x21c)][_0x15ecf3(0x2e1)]['de']:_0x448635[_0x15ecf3(0x21c)]['name'])||_0x2f092f;const _0x55d58c=_0x49ddb9[_0x15ecf3(0x2df)]();let _0x1df4b9=![];if(_0x130a46[_0x15ecf3(0x1f9)]>0x0){const _0x292c9a=_0x1bdd1f[_0x2f092f]||[],_0x19c227=_0x2f092f[_0x15ecf3(0x32c)]('.')[_0x15ecf3(0x1f0)](0x0,-0x1)[_0x15ecf3(0x363)]('.'),_0x54038e=_0x1bdd1f[_0x19c227]||[],_0x5cf260=_0x2f092f[_0x15ecf3(0x32c)]('.')[_0x15ecf3(0x1f0)](0x0,-0x2)[_0x15ecf3(0x363)]('.'),_0x465f8b=_0x1bdd1f[_0x5cf260]||[];if(_0x292c9a[_0x15ecf3(0x292)](_0xe1d7c=>_0x130a46[_0x15ecf3(0x273)](_0xe1d7c))||_0x54038e[_0x15ecf3(0x292)](_0x28674f=>_0x130a46[_0x15ecf3(0x273)](_0x28674f))||_0x465f8b[_0x15ecf3(0x292)](_0x4ee025=>_0x130a46[_0x15ecf3(0x273)](_0x4ee025)))_0x1df4b9=!![];}if(!_0x1df4b9&&!_0x4289ee){if(HARD_IGNORE_TERMS[_0x15ecf3(0x292)](_0x2a7bcc=>_0x2f092f[_0x15ecf3(0x273)](_0x2a7bcc)||_0x55d58c[_0x15ecf3(0x273)](_0x2a7bcc['toLowerCase']())))continue;}if(BAD_NAMES['some'](_0x1f73db=>_0x55d58c===_0x1f73db||_0x55d58c[_0x15ecf3(0x1e7)]('.'+_0x1f73db))){const _0x3c6144=_0x2f092f[_0x15ecf3(0x32c)]('.');if(_0x3c6144['length']>0x2){const _0x885983=_0x3c6144[_0x15ecf3(0x1f0)](0x0,-0x1)[_0x15ecf3(0x363)]('.'),_0x1de079=_0x516052[_0x885983];if(_0x1de079&&_0x1de079[_0x15ecf3(0x21c)]&&_0x1de079[_0x15ecf3(0x21c)]['name']){const _0xcb3312=typeof _0x1de079[_0x15ecf3(0x21c)][_0x15ecf3(0x2e1)]===_0x15ecf3(0x2a5)?_0x1de079[_0x15ecf3(0x21c)]['name']['de']:_0x1de079[_0x15ecf3(0x21c)]['name'];_0xcb3312&&!_0x49ddb9[_0x15ecf3(0x273)](_0xcb3312)&&(_0x49ddb9=_0xcb3312+'\x20'+_0x49ddb9);}}}let _0x5503ab='';if(_0x12d772&&(_0xf72e9e[_0x15ecf3(0x273)](_0x15ecf3(0x1fa))||_0xf72e9e[_0x15ecf3(0x273)]('occupancy')||_0x55d58c[_0x15ecf3(0x273)](_0x15ecf3(0x25b))||_0x55d58c[_0x15ecf3(0x273)](_0x15ecf3(0x2c1))))_0x5503ab='motion';else{if(!_0x5503ab&&_0x1f2e54&&(_0xf72e9e[_0x15ecf3(0x273)](_0x15ecf3(0x315))||_0xf72e9e[_0x15ecf3(0x273)](_0x15ecf3(0x2b6))||_0xf72e9e['includes']('lock')||_0xf72e9e[_0x15ecf3(0x273)](_0x15ecf3(0x286))||_0xf72e9e[_0x15ecf3(0x273)](_0x15ecf3(0x2a3))||_0x55d58c['includes'](_0x15ecf3(0x220))||_0x55d58c[_0x15ecf3(0x273)]('t√ºr')||_0x55d58c[_0x15ecf3(0x273)]('rollladen')))_0x5503ab='door';else{if(!_0x5503ab&&_0x68e8ed&&(_0xf72e9e[_0x15ecf3(0x273)](_0x15ecf3(0x327))||_0xf72e9e['includes'](_0x15ecf3(0x316))||_0xf72e9e[_0x15ecf3(0x273)]('dimmer')||_0x55d58c[_0x15ecf3(0x273)](_0x15ecf3(0x319))||_0x55d58c[_0x15ecf3(0x273)](_0x15ecf3(0x331))||_0x55d58c[_0x15ecf3(0x273)](_0x15ecf3(0x1e9)))){if(_0x448635[_0x15ecf3(0x21c)][_0x15ecf3(0x296)]||_0xf72e9e['includes'](_0x15ecf3(0x208)))_0x5503ab=_0x15ecf3(0x327);}else{if(!_0x5503ab&&_0x39b8d8&&(_0xf72e9e[_0x15ecf3(0x273)](_0x15ecf3(0x21e))||_0xf72e9e[_0x15ecf3(0x273)](_0x15ecf3(0x21b))||_0xf72e9e[_0x15ecf3(0x273)](_0x15ecf3(0x2cc))||_0x55d58c[_0x15ecf3(0x273)]('temp')||_0x55d58c[_0x15ecf3(0x273)](_0x15ecf3(0x255))||_0x55d58c[_0x15ecf3(0x273)](_0x15ecf3(0x2c6))))_0x5503ab='temperature';else{if(!_0x5503ab&&_0x1df4b9)_0x5503ab=_0x15ecf3(0x254);}}}}if(_0x5503ab){let _0x1b9651=_0x23485a[_0x2f092f]||'';if(!_0x1b9651){let _0x462470=_0x2f092f;for(let _0x40029b=0x0;_0x40029b<0x3;_0x40029b++){const _0x301d90=_0x462470[_0x15ecf3(0x30c)]('.');if(_0x301d90===-0x1)break;_0x462470=_0x462470[_0x15ecf3(0x367)](0x0,_0x301d90);if(_0x23485a[_0x462470]){_0x1b9651=_0x23485a[_0x462470];break;}}}if(!_0x1b9651){const _0x20e6d0=(_0x2f092f+'\x20'+_0x49ddb9)[_0x15ecf3(0x2df)]();if(_0x20e6d0['includes'](_0x15ecf3(0x244))||_0x20e6d0['includes']('wc'))_0x1b9651='Badezimmer';else{if(_0x20e6d0[_0x15ecf3(0x273)](_0x15ecf3(0x34f)))_0x1b9651='K√ºche';else{if(_0x20e6d0[_0x15ecf3(0x273)](_0x15ecf3(0x1fb)))_0x1b9651=_0x15ecf3(0x2c2);else{if(_0x20e6d0['includes'](_0x15ecf3(0x33b)))_0x1b9651=_0x15ecf3(0x2b8);else{if(_0x20e6d0['includes'](_0x15ecf3(0x1c8)))_0x1b9651=_0x15ecf3(0x369);}}}}}_0x50277f[_0x15ecf3(0x371)]({'id':_0x2f092f,'name':_0x49ddb9,'location':_0x1b9651,'type':_0x5503ab,'logDuplicates':_0x5503ab===_0x15ecf3(0x1fa),'isExit':![],'_score':_0x1b9651?0x50:_0x5503ab===_0x15ecf3(0x254)?0x5a:0x28});}}return _0x50277f[_0x15ecf3(0x229)]((_0x249be7,_0x30fa8b)=>_0x30fa8b[_0x15ecf3(0x22c)]-_0x249be7[_0x15ecf3(0x22c)]),_0x50277f;}[a0_0x632d0a(0x1e2)](_0x293086){const _0x4cc5d2=a0_0x632d0a;if(typeof _0x293086==='object')return _0x293086;try{return JSON[_0x4cc5d2(0x29b)](_0x293086);}catch(_0x4daa1b){return null;}}async[a0_0x632d0a(0x228)](){}async[a0_0x632d0a(0x359)](){const _0x235567=a0_0x632d0a;try{const _0x4389d3=await this[_0x235567(0x219)](_0x235567(0x352));_0x4389d3&&_0x4389d3[_0x235567(0x29d)]&&(this[_0x235567(0x347)]=JSON['parse'](_0x4389d3[_0x235567(0x29d)][_0x235567(0x34c)]()));}catch(_0x17c4e2){this[_0x235567(0x347)]=[];}try{const _0x19efcc=await this[_0x235567(0x219)](_0x235567(0x293));if(_0x19efcc&&_0x19efcc[_0x235567(0x29d)])this[_0x235567(0x1eb)]=JSON['parse'](_0x19efcc[_0x235567(0x29d)][_0x235567(0x34c)]());}catch(_0xff913f){this[_0x235567(0x1eb)]=[];}}async[a0_0x632d0a(0x326)](){const _0xe314e2=a0_0x632d0a;try{const _0x2f9e7f=await this[_0xe314e2(0x336)](_0xe314e2(0x2b9));_0x2f9e7f&&_0x2f9e7f[_0xe314e2(0x21c)]&&(this[_0xe314e2(0x27d)]={'latitude':_0x2f9e7f[_0xe314e2(0x21c)][_0xe314e2(0x314)]||0x0,'longitude':_0x2f9e7f[_0xe314e2(0x21c)][_0xe314e2(0x36a)]||0x0,'city':_0x2f9e7f[_0xe314e2(0x21c)][_0xe314e2(0x1c0)]||''});}catch(_0x37f593){}}async[a0_0x632d0a(0x289)](_0xeb0aed){const _0x1cbe41=a0_0x632d0a;if(!_0xeb0aed)return![];this[_0x1cbe41(0x2ce)]=await this[_0x1cbe41(0x2db)]();if(_0xeb0aed===_0x1cbe41(0x1ea)||_0xeb0aed['startsWith'](_0x1cbe41(0x265)))return!![];return![];}async[a0_0x632d0a(0x2db)](){const _0xb48b19=a0_0x632d0a;try{const _0x2f97f3=await this[_0xb48b19(0x336)]('system.meta.uuid');if(_0x2f97f3&&_0x2f97f3[_0xb48b19(0x31c)]&&_0x2f97f3[_0xb48b19(0x31c)]['uuid'])return _0x2f97f3[_0xb48b19(0x31c)][_0xb48b19(0x1c5)];return _0xb48b19(0x2c4);}catch(_0x5c0f5c){return _0xb48b19(0x291);}}async[a0_0x632d0a(0x247)](){const _0x1a45b8=a0_0x632d0a;await this[_0x1a45b8(0x36d)](),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x308),{'type':'state','common':{'name':'Last\x20raw\x20event','type':_0x1a45b8(0x2c7),'role':_0x1a45b8(0x32a),'read':!![],'write':![]},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x352),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x216),'type':_0x1a45b8(0x2c7),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x24a),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x294),'type':_0x1a45b8(0x257),'role':_0x1a45b8(0x338),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x280),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x31d),'type':_0x1a45b8(0x257),'role':_0x1a45b8(0x338),'read':!![],'write':!![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x1a45b8(0x1d3),{'type':'state','common':{'name':'Last\x20Result','type':_0x1a45b8(0x2c7),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x307),{'type':'state','common':{'name':_0x1a45b8(0x344),'type':'boolean','role':'indicator.alarm','read':!![],'write':![],'def':![]},'native':{}}),await this[_0x1a45b8(0x20c)]('analysis.isEmergency',{'type':'state','common':{'name':_0x1a45b8(0x24c),'type':'boolean','role':_0x1a45b8(0x287),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x2e5),{'type':'state','common':{'name':_0x1a45b8(0x361),'type':'string','role':_0x1a45b8(0x36e),'read':!![],'write':![]},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x1c3),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x2b5),'type':_0x1a45b8(0x2c7),'role':_0x1a45b8(0x36b),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x1a45b8(0x214),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x1ca),'type':_0x1a45b8(0x2c7),'role':_0x1a45b8(0x1ed),'read':!![],'write':![],'def':_0x1a45b8(0x343)},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x358),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x2ea),'type':_0x1a45b8(0x2c7),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x339),{'type':_0x1a45b8(0x1ed),'common':{'name':'Comfort\x20Suggestion','type':_0x1a45b8(0x2c7),'role':_0x1a45b8(0x36b),'read':!![],'write':![]},'native':{}}),await this[_0x1a45b8(0x333)](_0x1a45b8(0x237),{'type':'channel','common':{'name':'Automation\x20Proposals'},'native':{}}),await this['setObjectNotExistsAsync'](_0x1a45b8(0x35b),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x27f),'type':_0x1a45b8(0x257),'role':_0x1a45b8(0x241),'read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x1a45b8(0x1d5),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x364),'type':'string','role':_0x1a45b8(0x36b),'read':!![],'write':![]},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x2f6),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x357),'type':_0x1a45b8(0x2c7),'role':_0x1a45b8(0x36b),'read':!![],'write':![]},'native':{}}),await this[_0x1a45b8(0x20c)]('analysis.analysisHistory',{'type':'state','common':{'name':_0x1a45b8(0x353),'type':'string','role':_0x1a45b8(0x32a),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x1a45b8(0x226),{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x22e),'type':_0x1a45b8(0x2c7),'role':_0x1a45b8(0x32a),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['extendObjectAsync'](_0x1a45b8(0x1d9),{'type':_0x1a45b8(0x20d),'common':{'name':_0x1a45b8(0x2e6)},'native':{}}),await this[_0x1a45b8(0x20c)](_0x1a45b8(0x309),{'type':_0x1a45b8(0x1ed),'common':{'name':'Sleep\x20Score\x20(0-100)','type':_0x1a45b8(0x1fc),'role':_0x1a45b8(0x355),'read':!![],'write':![],'def':0x0},'native':{}}),await this[_0x1a45b8(0x20c)]('analysis.health.restlessness',{'type':_0x1a45b8(0x1ed),'common':{'name':_0x1a45b8(0x1d2),'type':'string','role':'text','read':!![],'write':![],'def':_0x1a45b8(0x332)},'native':{}}),await this['setObjectNotExistsAsync'](_0x1a45b8(0x348),{'type':_0x1a45b8(0x1ed),'common':{'name':'Health\x20Notes','type':'string','role':'text','read':!![],'write':![],'def':''},'native':{}}),await this['checkLtmObjects'](),await this[_0x1a45b8(0x224)]();}async[a0_0x632d0a(0x36d)](){const _0x1f65d8=a0_0x632d0a;await this['extendObjectAsync'](_0x1f65d8(0x27e),{'type':_0x1f65d8(0x20d),'common':{'name':_0x1f65d8(0x1e0)},'native':{}}),await this[_0x1f65d8(0x333)](SYSTEM_DP_MODE,{'type':'state','common':{'name':_0x1f65d8(0x2d2),'type':_0x1f65d8(0x2c7),'role':_0x1f65d8(0x1ed),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x1f65d8(0x1e8)],'states':{[SYSTEM_MODES[_0x1f65d8(0x1e8)]]:_0x1f65d8(0x29f),[SYSTEM_MODES[_0x1f65d8(0x240)]]:_0x1f65d8(0x275),[SYSTEM_MODES[_0x1f65d8(0x2e7)]]:'Party',[SYSTEM_MODES['GUEST']]:_0x1f65d8(0x2de)}},'native':{}});}async['checkLtmObjects'](){const _0x47bd90=a0_0x632d0a;await this[_0x47bd90(0x333)](_0x47bd90(0x306),{'type':_0x47bd90(0x20d),'common':{'name':'LTM'},'native':{}}),await this[_0x47bd90(0x333)](LTM_DP_RAW_LOG,{'type':'state','common':{'name':_0x47bd90(0x248),'type':_0x47bd90(0x2c7),'role':_0x47bd90(0x32a),'read':!![],'write':![]},'native':{}}),await this[_0x47bd90(0x333)](LTM_DP_DAILY_DIGESTS,{'type':_0x47bd90(0x1ed),'common':{'name':_0x47bd90(0x2bf),'type':_0x47bd90(0x2c7),'role':_0x47bd90(0x32a),'read':!![],'write':![]},'native':{}}),await this[_0x47bd90(0x333)](LTM_DP_STATUS,{'type':_0x47bd90(0x1ed),'common':{'name':_0x47bd90(0x2fd),'type':_0x47bd90(0x2c7),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x47bd90(0x333)](LTM_DP_TRIGGER_DIGEST,{'type':_0x47bd90(0x1ed),'common':{'name':_0x47bd90(0x238),'type':'boolean','role':_0x47bd90(0x338),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x47bd90(0x333)](LTM_DP_BASELINE_STATUS,{'type':_0x47bd90(0x1ed),'common':{'name':_0x47bd90(0x245),'type':_0x47bd90(0x2c7),'role':_0x47bd90(0x36b),'read':!![],'write':![]},'native':{}});}async[a0_0x632d0a(0x224)](){const _0x268db0=a0_0x632d0a;await this['extendObjectAsync'](LTM_DP_DRIFT_CHANNEL,{'type':_0x268db0(0x20d),'common':{'name':_0x268db0(0x231)},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_STATUS,{'type':_0x268db0(0x1ed),'common':{'name':_0x268db0(0x201),'type':_0x268db0(0x2c7),'role':_0x268db0(0x1ed),'read':!![],'write':![],'def':_0x268db0(0x343)},'native':{}}),await this[_0x268db0(0x333)](LTM_DP_DRIFT_DETAILS,{'type':_0x268db0(0x1ed),'common':{'name':_0x268db0(0x1f6),'type':_0x268db0(0x2c7),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x268db0(0x333)](LTM_DP_DRIFT_LAST_CHECK,{'type':'state','common':{'name':_0x268db0(0x35a),'type':_0x268db0(0x1fc),'role':_0x268db0(0x25c),'read':!![],'write':![]},'native':{}});}async[a0_0x632d0a(0x2fb)](){const _0x13e680=a0_0x632d0a;try{const _0x32ef58=await this[_0x13e680(0x219)](SYSTEM_DP_MODE);_0x32ef58&&_0x32ef58['val']&&Object[_0x13e680(0x33f)](SYSTEM_MODES)[_0x13e680(0x273)](_0x32ef58[_0x13e680(0x29d)])?this['currentSystemMode']=_0x32ef58[_0x13e680(0x29d)]:(this[_0x13e680(0x2ba)]=SYSTEM_MODES[_0x13e680(0x1e8)],await this[_0x13e680(0x325)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x13e680(0x1e8)],'ack':!![]}));}catch(_0x7a2f46){this[_0x13e680(0x2ba)]=SYSTEM_MODES[_0x13e680(0x1e8)];}}async['loadRawEventLog'](){const _0x3a3eeb=a0_0x632d0a;try{const _0x177c44=await this[_0x3a3eeb(0x219)](LTM_DP_RAW_LOG);if(_0x177c44&&_0x177c44['val'])this[_0x3a3eeb(0x2f0)]=JSON['parse'](_0x177c44['val']);}catch(_0x18bfb1){this[_0x3a3eeb(0x2f0)]=[];}}async[a0_0x632d0a(0x1cd)](){const _0x3ed7f1=a0_0x632d0a;try{const _0xdd8418=await this[_0x3ed7f1(0x219)](LTM_DP_DAILY_DIGESTS);if(_0xdd8418&&_0xdd8418[_0x3ed7f1(0x29d)])this[_0x3ed7f1(0x2d7)]=JSON['parse'](_0xdd8418[_0x3ed7f1(0x29d)]);}catch(_0x59949a){this['dailyDigests']=[];}await this[_0x3ed7f1(0x35c)]();}async['saveRawEventLog'](){const _0x356556=a0_0x632d0a;this[_0x356556(0x2f0)][_0x356556(0x1f9)]>RAW_LOG_MAX_SIZE&&this[_0x356556(0x2f0)]['splice'](0x0,this[_0x356556(0x2f0)][_0x356556(0x1f9)]-RAW_LOG_MAX_SIZE),await this[_0x356556(0x325)](LTM_DP_RAW_LOG,{'val':JSON[_0x356556(0x253)](this['rawEventLog']),'ack':!![]});}async['saveDailyDigests'](_0x58fbcd=!![]){const _0x38d611=a0_0x632d0a,_0x1ad6d3=this[_0x38d611(0x27b)][_0x38d611(0x2d9)]||0x3c;this[_0x38d611(0x2d7)]['length']>_0x1ad6d3&&this[_0x38d611(0x2d7)][_0x38d611(0x25e)](0x0,this[_0x38d611(0x2d7)][_0x38d611(0x1f9)]-_0x1ad6d3);await this[_0x38d611(0x325)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x38d611(0x253)](this[_0x38d611(0x2d7)]),'ack':!![]});if(_0x58fbcd)await this['updateBaselineStatus']();}async[a0_0x632d0a(0x1dc)](_0x4a0013){const _0x572be4=a0_0x632d0a;this['analysisHistory'][_0x572be4(0x22d)](_0x4a0013);if(this[_0x572be4(0x1eb)][_0x572be4(0x1f9)]>ANALYSIS_HISTORY_MAX_SIZE)this[_0x572be4(0x1eb)][_0x572be4(0x2e4)]();await this[_0x572be4(0x325)](_0x572be4(0x293),{'val':JSON[_0x572be4(0x253)](this[_0x572be4(0x1eb)]),'ack':!![]});}async[a0_0x632d0a(0x35c)](){const _0x2cf5aa=a0_0x632d0a;if(!this[_0x2cf5aa(0x340)]){await this['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x2cf5aa(0x210),'ack':!![]});return;}const _0x1d5446=this[_0x2cf5aa(0x2d7)][_0x2cf5aa(0x1f9)]>=(this[_0x2cf5aa(0x27b)][_0x2cf5aa(0x282)]||0x7)?_0x2cf5aa(0x2f2)+this[_0x2cf5aa(0x2d7)][_0x2cf5aa(0x1f9)]+_0x2cf5aa(0x31f):_0x2cf5aa(0x279)+this[_0x2cf5aa(0x2d7)][_0x2cf5aa(0x1f9)]+'/'+(this['config'][_0x2cf5aa(0x282)]||0x7)+')';await this['setStateAsync'](LTM_DP_BASELINE_STATUS,{'val':_0x1d5446,'ack':!![]});}async[a0_0x632d0a(0x1d6)](){const _0x1f2633=a0_0x632d0a,_0x48c826=this['config'][_0x1f2633(0x202)];if(_0x48c826&&_0x48c826[_0x1f2633(0x1f9)]>0x0){this['log'][_0x1f2633(0x1e4)](_0x1f2633(0x21f)+_0x48c826[_0x1f2633(0x1f9)]+'\x20sensors...');for(const _0x365b00 of _0x48c826){if(_0x365b00['id']){await this['subscribeForeignStatesAsync'](_0x365b00['id']);try{const _0x137e3d=await this[_0x1f2633(0x285)](_0x365b00['id']);if(_0x137e3d)this[_0x1f2633(0x2b0)][_0x365b00['id']]=_0x137e3d[_0x1f2633(0x29d)];}catch(_0x2a408d){}}}}}async[a0_0x632d0a(0x233)](){const _0x670576=a0_0x632d0a,_0x24527c=this['config'][_0x670576(0x271)]||[];if(_0x24527c[_0x670576(0x1f9)]>0x0){this['log'][_0x670576(0x1e4)](_0x670576(0x21f)+_0x24527c[_0x670576(0x1f9)]+_0x670576(0x2f5));for(const _0x4b10ad of _0x24527c){await this['subscribeForeignStatesAsync'](_0x4b10ad);}try{await this[_0x670576(0x2e8)]();}catch(_0x3d723d){}}}async[a0_0x632d0a(0x26d)](){const _0x4aa264=a0_0x632d0a;try{if(!this[_0x4aa264(0x27b)]['useWeather'])return _0x4aa264(0x365);let _0x1bd267='';const _0x5ba2fa=this['config']['weatherInstance'];if(_0x5ba2fa)try{if(_0x5ba2fa[_0x4aa264(0x273)](_0x4aa264(0x1f4))){const _0x4b824d=await this[_0x4aa264(0x285)](_0x5ba2fa+_0x4aa264(0x2eb));if(_0x4b824d&&_0x4b824d[_0x4aa264(0x29d)])_0x1bd267=_0x4b824d[_0x4aa264(0x29d)];}else{if(_0x5ba2fa[_0x4aa264(0x273)]('daswetter')){const _0x126ae7=await this[_0x4aa264(0x285)](_0x5ba2fa+_0x4aa264(0x1f2));if(_0x126ae7&&_0x126ae7[_0x4aa264(0x29d)])_0x1bd267=_0x126ae7['val'];}else{if(_0x5ba2fa[_0x4aa264(0x273)](_0x4aa264(0x290))){const _0x26cf4a=await this[_0x4aa264(0x285)](_0x5ba2fa+_0x4aa264(0x28b));if(_0x26cf4a&&_0x26cf4a[_0x4aa264(0x29d)])_0x1bd267=_0x26cf4a[_0x4aa264(0x29d)];}}}}catch(_0x99e04c){}if(!_0x1bd267){const _0x2c27da=['accuweather.0',_0x4aa264(0x221),_0x4aa264(0x1cc),_0x4aa264(0x304)];for(const _0x4341fc of _0x2c27da){try{const _0x3a7554=await this['getForeignObjectAsync'](_0x4341fc);if(_0x3a7554){if(_0x4341fc[_0x4aa264(0x273)](_0x4aa264(0x1f4))){const _0x5a2cd1=await this[_0x4aa264(0x285)](_0x4341fc+_0x4aa264(0x2eb));if(_0x5a2cd1&&_0x5a2cd1[_0x4aa264(0x29d)]){_0x1bd267=_0x5a2cd1['val'];break;}}}}catch(_0x2aacb4){}}}return _0x1bd267?_0x4aa264(0x34e)+_0x1bd267:_0x4aa264(0x267);}catch(_0x30d54c){return'WETTER\x20ERROR:\x20'+_0x30d54c[_0x4aa264(0x1c2)];}}async[a0_0x632d0a(0x370)](){const _0x3fe8ed=a0_0x632d0a;try{if(!this[_0x3fe8ed(0x27b)][_0x3fe8ed(0x234)])return _0x3fe8ed(0x2e2);let _0xc7adca=this['config']['calendarInstance']||_0x3fe8ed(0x23d),_0x10ccff=this[_0x3fe8ed(0x27b)][_0x3fe8ed(0x20f)]||[];if(typeof _0x10ccff==='string')_0x10ccff=_0x10ccff[_0x3fe8ed(0x32c)](',');try{const _0x164157=await this[_0x3fe8ed(0x285)](_0xc7adca+_0x3fe8ed(0x283));if(_0x164157&&_0x164157['val']){let _0x322dd0=this[_0x3fe8ed(0x1e2)](_0x164157[_0x3fe8ed(0x29d)]);if(_0x322dd0&&Array['isArray'](_0x322dd0)){if(_0x10ccff[_0x3fe8ed(0x1f9)]>0x0)_0x322dd0=_0x322dd0['filter'](_0x3fc307=>_0x10ccff[_0x3fe8ed(0x273)](_0x3fc307[_0x3fe8ed(0x317)]||''));else return _0x3fe8ed(0x1c6);if(_0x322dd0[_0x3fe8ed(0x1f9)]>0x0){const _0x2cce4c=_0x322dd0[_0x3fe8ed(0x1f0)](0x0,0x3)[_0x3fe8ed(0x28e)](_0x58863a=>{const _0x57134b=_0x3fe8ed;let _0x32dafb=_0x58863a[_0x57134b(0x25c)];if(_0x58863a[_0x57134b(0x1fe)])_0x32dafb+='\x20'+_0x58863a['time'];return _0x32dafb+':\x20'+_0x58863a[_0x57134b(0x2e3)]+'\x20('+_0x58863a['_calName']+')';});return _0x3fe8ed(0x2e0)+_0x2cce4c[_0x3fe8ed(0x363)](_0x3fe8ed(0x2d0));}else return'KALENDER:\x20Keine\x20relevanten\x20Termine';}}}catch(_0x567c73){this[_0x3fe8ed(0x28d)][_0x3fe8ed(0x2ae)](_0x3fe8ed(0x2a1)+_0x567c73[_0x3fe8ed(0x1c2)]);}return _0x3fe8ed(0x2f1);}catch(_0x5061bc){return _0x3fe8ed(0x278)+_0x5061bc[_0x3fe8ed(0x1c2)];}}async[a0_0x632d0a(0x1e6)](_0x368631){const _0x112b73=a0_0x632d0a;try{const _0x1b2950=await this[_0x112b73(0x285)](_0x368631+'.data.table');if(_0x1b2950&&_0x1b2950[_0x112b73(0x29d)]){const _0x374ec1=this['tryParse'](_0x1b2950[_0x112b73(0x29d)]);if(_0x374ec1&&Array[_0x112b73(0x2f8)](_0x374ec1)){const _0x1e4b69=[...new Set(_0x374ec1[_0x112b73(0x28e)](_0x138fe1=>_0x138fe1['_calName'])['filter'](Boolean))];return _0x1e4b69[_0x112b73(0x229)]();}}return[];}catch(_0x2eeb38){return this[_0x112b73(0x28d)]['error'](_0x112b73(0x232)+_0x2eeb38[_0x112b73(0x1c2)]),[];}}async[a0_0x632d0a(0x2e8)](){const _0x4e2b44=a0_0x632d0a;try{const _0x3a3b6b=this[_0x4e2b44(0x27b)][_0x4e2b44(0x271)]||[];let _0x5cedf4=![];for(const _0xce9a24 of _0x3a3b6b){try{const _0x1bd839=await this[_0x4e2b44(0x285)](_0xce9a24);if(_0x1bd839&&(_0x1bd839[_0x4e2b44(0x29d)]===!![]||_0x1bd839['val']==='online'||_0x1bd839['val']===0x1)){_0x5cedf4=!![];break;}}catch(_0x5d2ff6){}}return _0x5cedf4&&(this['exitTimer']&&(this[_0x4e2b44(0x28d)]['info'](_0x4e2b44(0x251)),this[_0x4e2b44(0x242)]()),!this[_0x4e2b44(0x2a8)]&&this['currentSystemMode']===SYSTEM_MODES[_0x4e2b44(0x1e8)]&&await this['setPresence'](!![])),_0x5cedf4;}catch(_0x56f751){return this[_0x4e2b44(0x28d)][_0x4e2b44(0x362)]('Error\x20checking\x20WiFi:\x20'+_0x56f751[_0x4e2b44(0x1c2)]),![];}}[a0_0x632d0a(0x34d)](){const _0x1751f0=a0_0x632d0a;this[_0x1751f0(0x242)](),this[_0x1751f0(0x322)]=!![],this[_0x1751f0(0x366)]=setTimeout(()=>{const _0x2bf929=_0x1751f0;this[_0x2bf929(0x322)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this[_0x1751f0(0x2bd)]=setTimeout(()=>{const _0x46fe7e=_0x1751f0;this[_0x46fe7e(0x300)](![]),this[_0x46fe7e(0x2bd)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}[a0_0x632d0a(0x242)](){const _0x2e93f1=a0_0x632d0a;if(this['exitTimer'])clearTimeout(this[_0x2e93f1(0x2bd)]);if(this[_0x2e93f1(0x366)])clearTimeout(this[_0x2e93f1(0x366)]);this[_0x2e93f1(0x2bd)]=null,this[_0x2e93f1(0x366)]=null,this[_0x2e93f1(0x322)]=![];}async[a0_0x632d0a(0x300)](_0xd1af2c){const _0x38fc25=a0_0x632d0a;if(this['isPresent']===_0xd1af2c)return;this[_0x38fc25(0x2a8)]=_0xd1af2c,await this[_0x38fc25(0x325)]('system.isPresent',{'val':_0xd1af2c,'ack':!![]});}async['saveFeedback'](_0x4b6c50){const _0x5d719e=a0_0x632d0a;this['log'][_0x5d719e(0x1e4)](_0x5d719e(0x203)+JSON[_0x5d719e(0x253)](_0x4b6c50));}async[a0_0x632d0a(0x349)](){const _0x3927ca=a0_0x632d0a;if(!this['isProVersion']||!this['geminiModel'])return;const _0xc574b7=this[_0x3927ca(0x27b)][_0x3927ca(0x204)]||0xe;if(this[_0x3927ca(0x2d7)][_0x3927ca(0x1f9)]<_0xc574b7+(this[_0x3927ca(0x27b)]['minDaysForBaseline']||0x7)){await this[_0x3927ca(0x325)](LTM_DP_DRIFT_STATUS,{'val':'N/A\x20(Learning)','ack':!![]});return;}const _0x236bac=this[_0x3927ca(0x2d7)][_0x3927ca(0x1f0)](-_0xc574b7),_0x383e99=this['dailyDigests'][_0x3927ca(0x1f0)](0x0,this[_0x3927ca(0x2d7)][_0x3927ca(0x1f9)]-_0xc574b7),_0x3d25e0=_0x3927ca(0x2d6)+JSON[_0x3927ca(0x253)](_0x383e99)+'\x0aSTB:\x20'+JSON['stringify'](_0x236bac);try{const _0x34f8d4=await this[_0x3927ca(0x1c4)][_0x3927ca(0x1da)](_0x3d25e0),_0x1888c7=JSON[_0x3927ca(0x29b)](_0x34f8d4[_0x3927ca(0x31e)][_0x3927ca(0x36b)]()['replace'](/```json|```/g,'')['trim']());_0x1888c7[_0x3927ca(0x205)]&&(await this[_0x3927ca(0x325)](LTM_DP_DRIFT_STATUS,{'val':_0x1888c7['baselineDrift'],'ack':!![]}),await this[_0x3927ca(0x325)](LTM_DP_DRIFT_DETAILS,{'val':_0x1888c7[_0x3927ca(0x274)],'ack':!![]}),await this['setStateAsync'](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x3927ca(0x1f5)](),'ack':!![]}));}catch(_0x53f42a){}}[a0_0x632d0a(0x1f3)](){const _0xc7df28=a0_0x632d0a;try{if(this[_0xc7df28(0x2ee)])this[_0xc7df28(0x2ee)][_0xc7df28(0x354)]();if(!this['isProVersion']){this[_0xc7df28(0x325)](LTM_DP_STATUS,{'val':_0xc7df28(0x210),'ack':!![]});return;}this[_0xc7df28(0x2ee)]=schedule[_0xc7df28(0x2a7)](LTM_SCHEDULE,()=>this[_0xc7df28(0x1ee)]());}catch(_0x1469d4){this[_0xc7df28(0x28d)][_0xc7df28(0x362)](_0xc7df28(0x20b)+_0x1469d4['message']);}}[a0_0x632d0a(0x310)](){const _0xadc9da=a0_0x632d0a;try{if(this[_0xadc9da(0x28a)])this['modeResetJob'][_0xadc9da(0x354)]();this[_0xadc9da(0x28a)]=schedule[_0xadc9da(0x2a7)](MODE_RESET_SCHEDULE,async()=>{const _0x4b1a02=_0xadc9da;await this[_0x4b1a02(0x2fb)](),AUTO_RESET_MODES[_0x4b1a02(0x273)](this['currentSystemMode'])&&await this[_0x4b1a02(0x325)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x4b1a02(0x1e8)],'ack':![]});});}catch(_0x56918d){this[_0xadc9da(0x28d)][_0xadc9da(0x362)]('Reset\x20Sched\x20Error:\x20'+_0x56918d[_0xadc9da(0x1c2)]);}}[a0_0x632d0a(0x26a)](){const _0x1fb894=a0_0x632d0a;try{if(this['driftAnalysisTimer'])clearInterval(this[_0x1fb894(0x1f1)]);if(!this[_0x1fb894(0x340)])return;this[_0x1fb894(0x1f1)]=setInterval(()=>this[_0x1fb894(0x349)](),(this[_0x1fb894(0x27b)][_0x1fb894(0x2bc)]||0x18)*0x36ee80),setTimeout(()=>this[_0x1fb894(0x349)](),0x1388);}catch(_0x33c960){this[_0x1fb894(0x28d)]['error'](_0x1fb894(0x264)+_0x33c960[_0x1fb894(0x1c2)]);}}[a0_0x632d0a(0x2c5)](){const _0x53cb41=a0_0x632d0a;try{if(this[_0x53cb41(0x312)])this[_0x53cb41(0x312)]['cancel']();if(!this[_0x53cb41(0x27b)][_0x53cb41(0x1f8)])return;const _0x4abc96=(this[_0x53cb41(0x27b)][_0x53cb41(0x32e)]||'08:00')[_0x53cb41(0x32c)](':'),_0x5837ac=parseInt(_0x4abc96[0x0])||0x8,_0x5abc86=parseInt(_0x4abc96[0x1])||0x0,_0xe60a9e=_0x5abc86+'\x20'+_0x5837ac+_0x53cb41(0x342);this[_0x53cb41(0x28d)][_0x53cb41(0x1e4)]('Scheduling\x20Morning\x20Briefing\x20for\x20'+_0x5837ac+':'+(_0x5abc86<0xa?'0'+_0x5abc86:_0x5abc86)),this['briefingJob']=schedule[_0x53cb41(0x2a7)](_0xe60a9e,()=>{const _0x5c5295=_0x53cb41;this[_0x5c5295(0x259)]();});}catch(_0x2475c3){this[_0x53cb41(0x28d)][_0x53cb41(0x362)](_0x53cb41(0x28c)+_0x2475c3[_0x53cb41(0x1c2)]);}}async[a0_0x632d0a(0x21a)](_0x4e8a93,_0x2d8e3b=![],_0x5a9eab=![]){const _0x34ba50=a0_0x632d0a;this[_0x34ba50(0x28d)]['info']((_0x2d8e3b?_0x34ba50(0x200):'')+_0x34ba50(0x22f)+_0x4e8a93+'\x22');const _0x1b40b5=this[_0x34ba50(0x27b)];let _0x21cd23=0x0;_0x1b40b5[_0x34ba50(0x34b)]&&(await this[_0x34ba50(0x24d)](_0x1b40b5[_0x34ba50(0x2cf)],'send',{'text':_0x4e8a93,'user':_0x1b40b5[_0x34ba50(0x1c1)]}),_0x21cd23++);if(_0x1b40b5[_0x34ba50(0x215)]){let _0x2b095f={'message':_0x4e8a93,'title':_0x5a9eab?_0x34ba50(0x29a):_0x34ba50(0x1ef),'priority':_0x5a9eab?0x2:0x1,'device':_0x1b40b5[_0x34ba50(0x1de)]};_0x5a9eab&&(_0x2b095f['retry']=0x1e,_0x2b095f[_0x34ba50(0x270)]=0xe10,_0x2b095f['sound']=_0x34ba50(0x252)),await this['sendToAsync'](_0x1b40b5[_0x34ba50(0x318)],_0x34ba50(0x30a),_0x2b095f),_0x21cd23++;}return _0x1b40b5[_0x34ba50(0x235)]&&(await this[_0x34ba50(0x24d)](_0x1b40b5['notifyEmailInstance'],_0x34ba50(0x30a),{'text':_0x4e8a93,'to':_0x1b40b5[_0x34ba50(0x266)]}),_0x21cd23++),_0x21cd23;}}if(require[a0_0x632d0a(0x27c)]!==module)module['exports']=_0x62d624=>new CogniLiving(_0x62d624);else new CogniLiving();function a0_0x4f28(){const _0x37f9aa=['systemUUID','notifyTelegramInstance','\x20|\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CRITICAL\x20SAFETY\x20CHECK:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20Sofort/Ad-Hoc:\x20Ist\x20es\x20jetzt\x20(','System\x20Mode','replace','getGenerativeModel','.\x20MODUS:\x20','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','dailyDigests','alertReason','ltmLtbWindowDays','icons-mfd.','getSystemUUID','brightness','sendTo','Gast','toLowerCase','KALENDER:\x20','name','Kalender:\x20Deaktiviert','event','pop','analysis.alertReason','Health\x20&\x20Sleep\x20Analysis','PARTY','checkWifiPresence','connection','Comfort\x20Summary','.Summary.Current','1401wOyLLW','scriptEnabled','ltmJob','location','rawEventLog','KALENDER:\x20Keine\x20Daten','Aktiv\x20(',')\x20-\x20OBFUSCATION\x20SAFE\x20MODE','analysisInterval','\x20presence\x20devices...','analysis.automation.suggestedAction','765NEGXpb','isArray','scanForDevices','unreach','loadSystemMode','rssi','Processing\x20Status','admin.','onUnload','setPresence','runAutopilot','32hfBAtv','LTM.driftAnalysis.lastCheck','openweathermap.0','application/json','LTM','analysis.isAlert','events.lastEvent','analysis.health.sleepScore','send','.\x20PR√ÑSENZ:\x20','lastIndexOf','timestamp','Triggered\x20analysis\x20but\x20Gemini\x20AI\x20is\x20not\x20initialized!\x20Check\x20API\x20Key.','ready','setupModeResetScheduler','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20','briefingJob','from','latitude','door','switch','_calName','notifyPushoverInstance','licht','6057072QQorer','scriptProblem','native','Trigger\x20Briefing\x20(Test)','response','\x20Tage)','lights','vacation','isGracePeriodActive','position','enum.rooms.*','setStateAsync','initSystemConfig','light','Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','setState','json','search','split',')\x20verd√§chtig\x20still?\x20Erwartest\x20du\x20basierend\x20auf\x20der\x20Tageszeit\x20Aktivit√§t\x20(z.B.\x20Morgens\x20Aufstehen)?\x20Wenn\x20ja\x20->\x20ALARM.\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20Akut\x20(vs.\x20STB):\x20Weicht\x20das\x20heutige\x20Verhalten\x20stark\x20von\x20den\x20letzten\x2014\x20Tagen\x20ab?\x20(z.B.\x205x\x20Toilette\x20statt\x203x).\x20Wenn\x20ja\x20->\x20WARNUNG.\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20Schleichend\x20(Drift):\x20(Nur\x20relevant\x20wenn\x20Phase\x203\x20aktiv)\x20Gibt\x20es\x20einen\x20langsamen\x20Trend\x20ins\x20Negative?\x0a\x20\x20\x20\x20\x20\x20\x20\x20Ignoriere\x20Fehlalarme\x20durch\x20Kontext:\x20','briefingTime','weather','getLtmData','lampe','none','extendObjectAsync','No\x20recorded\x20events\x20yet.','43274dgYtFY','getForeignObjectAsync','3372iVcyGT','button','analysis.comfortSuggestion','getForeignObjectsAsync','schlaf','onMessage','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','values','isProVersion','info.','\x20*\x20*\x20*','N/A','AI\x20Alert\x20Status','off','status','eventHistory','analysis.health.notes','runBaselineDriftAnalysis','LTM.driftAnalysis.baselineDrift','notifyTelegramEnabled','toString','startExitTimer','WETTER:\x20','k√ºche','comfort','power','events.history','Logbook','cancel','value.health','Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','Action','analysis.comfortSummary','initHistory','Last\x20Check','analysis.automation.patternDetected','updateBaselineStatus','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT:\x20','Starting\x20Autopilot\x20(','inactivityThresholdHours','history.','Alert\x20Reason','error','join','Description','Wetter:\x20Deaktiviert','exitGraceTimer','substring','patternDetected','Flur','longitude','text','genAI','checkSystemObjects','text.alarm','toFixed','getCalendarContext','push','Keine\x20neuen\x20Automatisierungs-Muster\x20erkannt.','version','presence','city','notifyTelegramRecipient','message','analysis.activitySummary','geminiModel','uuid','KALENDER:\x20Keine\x20Kalender\x20ausgew√§hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)','Scanning\x20for\x20devices\x20(V7:\x20Basics\x20+\x20Explicit\x20Whitelist)...','flur','activity','Deviation','onReady','weatherunderground.0','loadDailyDigests','LTM.rawEventLog','forEach','flot.','\x20Phase\x203:\x20DRIFT\x20ACTIVE.\x20Compare\x20recent\x20events\x20against\x20long-term\x20patterns.','Restlessness\x20Level','analysis.lastResult','type','analysis.automation.description','initSensorSubscriptions','setpoint','working','analysis.health','generateContent','stick_unreach','updateAnalysisHistory','runGeminiAnalysis','notifyPushoverRecipient','vis.','System\x20Status\x20&\x20Control','testApiKey','tryParse','long','info','valve','getCalendarNames','endsWith','NORMAL','schalter','TEST-PRO-KEY','analysisHistory','ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20','state','createDailyDigest','Cogni-Living','slice','driftAnalysisTimer','.NextHours.Location_1.Day_1.current.symbol_desc','setupLtmScheduler','accuweather','now','Drift\x20Details','members','briefingEnabled','length','motion','wohn','number','energy','time','isEmergency','[TEST]\x20','Drift\x20Status','devices','Feedback\x20saved:\x20','ltmStbWindowDays','baselineDrift','Analysis\x20Error:\x20','node-schedule','sensor','feedbackHistory','processSensorEvent','LTM\x20Sched\x20Error:\x20','setObjectNotExistsAsync','channel','Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','calendarSelection','Deaktiviert\x20(Pro-Feature)','LTM.dailyDigests','selectedFunctionIds','role','analysis.deviationFromBaseline','notifyPushoverEnabled','Event\x20History','Adapter','0\x203\x20*\x20*\x20*','getStateAsync','sendNotification','humidity','common','4180ohNtOg','temperature','Subscribing\x20to\x20','fenster','daswetter.0','geminiApiKey','lastAlertState','checkLtmDriftObjects','@iobroker/adapter-core','analysis.feedbackHistory','onStateChange','initZombies','sort','bind','Gemini\x20Init\x20Error:\x20','_score','unshift','Feedback\x20Log','Sending\x20notification:\x20\x22','@google/generative-ai','Drift\x20Analysis','getCalendarNames\x20Error:\x20','initPresenceSubscriptions','useCalendar','notifyEmailEnabled','testNotification','analysis.automation','Trigger\x20Digest','isExit','PRIORIT√ÑT:\x20Gesundheit\x20und\x20Sicherheit\x20f√ºr\x20Senioren\x20(AAL).\x20Erkenne\x20Inaktivit√§t,\x20potenzielle\x20St√ºrze\x20(indirekt),\x20Schlafunterbrechungen\x20und\x20n√§chtliche\x20Unruhe.','enum','system.','ical.0','unknown','dutycycle','VACATION','indicator','abortExitTimer','system.mode','bad','Baseline\x20Status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20','createAllObjects','Raw\x20Log','ack','analysis.trigger','triggerDailyDigest','AI\x20Emergency\x20Status','sendToAsync','\x20hours.\x20Potential\x20incapacitation.','toLocaleString','Gemini\x20AI\x20initialized.','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','siren','stringify','custom','klima','\x20min).','boolean','441058iAQwcF','sendMorningBriefing','models/gemini-flash-latest','bewegung','date','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22isEmergency\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20},\x20\x22health\x22:\x20{\x20\x22sleepScore\x22:\x20number\x20(0-100),\x20\x22restlessness\x22:\x20\x22none|low|medium|high\x22,\x20\x22notes\x22:\x20\x22string\x22\x20}\x20}','splice','licenseKey','saveRawEventLog','(((.+)+)+)+$','generic','LTM.driftAnalysis','Drift\x20Sched\x20Error:\x20','PRO-','notifyEmailRecipient','WETTER:\x20Keine\x20Daten\x20gefunden','firmware','set_temperature','setupDriftAnalysisScheduler','isAlert','command','getWeatherContext','normal','occupancy','expire','presenceDevices','apply','includes','driftDetails','Urlaub','2-digit','direction','KALENDER\x20ERROR:\x20','Lernphase\x20(','description','config','main','systemConfig','system','Pattern\x20Detected','analysis.triggerBriefing','cogni-living','minDaysForBaseline','.data.table','config_pending','getForeignStateAsync','blind','indicator.alarm.fire','trim','checkLicense','modeResetJob','.forecast.current.state','Briefing\x20Sched\x20Error:\x20','log','map','Pro\x20Feature','openweathermap','uuid-error','some','analysis.analysisHistory','Trigger\x20Analysis','javascript.','write','callback','targetposition','maintenance','üö®\x20EMERGENCY','parse','summary','val','de-DE','Normal','actual_temperature','Error\x20reading\x20calendar\x20table:\x20','toISOString','shutter','3PKrVlG','object','‚ö†Ô∏è\x20Alarm','scheduleJob','isPresent','getOverviewData','unload','inactivityMonitoringEnabled','HARD\x20WATCHDOG:\x20No\x20sensor\x20activity\x20detected\x20for\x20','aiPersona','warn','1460090UvrOjC','sensorLastValues','catch','LTM.triggerDailyDigest','link_quality','guest','Activity\x20Summary','window','analysisTimer','Schlafzimmer','system.config','currentSystemMode','LTM.processingStatus','ltmDriftCheckIntervalHours','exitTimer','doors','Daily\x20Digests','9093744UDBsdA','pr√§senz','Wohnzimmer','subscribeStates','uuid-not-found','setupBriefingScheduler','heizung','string','automationProposal','lowbat','77uTXLRZ','material.','thermostat','setHours'];a0_0x4f28=function(){return _0x37f9aa;};return a0_0x4f28();}