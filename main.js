const a0_0x90246a=a0_0x145c;(function(_0x5afdf4,_0x1883aa){const _0x58fb20=a0_0x145c,_0x35e2d4=_0x5afdf4();while(!![]){try{const _0xde7ed0=-parseInt(_0x58fb20(0x1a1))/0x1*(-parseInt(_0x58fb20(0x206))/0x2)+parseInt(_0x58fb20(0x1c5))/0x3+-parseInt(_0x58fb20(0x186))/0x4+-parseInt(_0x58fb20(0x215))/0x5*(-parseInt(_0x58fb20(0x1ba))/0x6)+-parseInt(_0x58fb20(0x25e))/0x7*(parseInt(_0x58fb20(0x1eb))/0x8)+-parseInt(_0x58fb20(0x24d))/0x9+parseInt(_0x58fb20(0x218))/0xa;if(_0xde7ed0===_0x1883aa)break;else _0x35e2d4['push'](_0x35e2d4['shift']());}catch(_0x39e140){_0x35e2d4['push'](_0x35e2d4['shift']());}}}(a0_0x5928,0xa2283));function a0_0x5928(){const _0x55c5f7=['dependencyInstallInProgress','error','guest','onReady','Lernphase\x20(','namespace','driftAnalysisTimer','checkCalendarTriggers','initSystemConfig','SYSTEM_DP_MODE','Instanz\x20nicht\x20gefunden','91auTGAl','Sec-Training\x20started...','location','Kein\x20Wetter-Adapter','push','./lib/topology','scanThermostats','TRAIN_ENERGY','subscribeStates','\x20Tage)','analysis.automation.targetValue','SYSTEM_MODES','./lib/automation','party','updateTopology','Active\x20Ventilation\x20Alerts','genAI','val','triggerGaitAnalysis','updated','getHours','communicate.request','checkSolarCondition','setPresence','trackerEnabled','instance','geminiModel','thermostat','setupDriftAnalysisScheduler','analysis.automation.triggerAction','getCalendarNames','trackerHeartbeat','geminiApiKey','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','analysis.automation.targetId','exitTimer','NextHours.Location_1.Day_1.current.symbol_desc','setupLtmScheduler','onUnload','getLtmData','enum','testContext','minutes_safe','stateChange','eventHistory','getTime','triggerEnergyPrediction','analysis.triggerBriefing','ANALYZE_GAIT','testApiKey','@iobroker/adapter-core','Gemini\x20Init\x20Error:\x20','updateHealthVector','matrix','2903024eRoszP','briefingJob','analysisInterval','startService','analysis.training.triggerEnergy','analysisHistory','SET_TOPOLOGY','name','message','sort','setState','system.mode','toString','(((.+)+)+)+$','.system.mode','checkWifiPresence','./lib/python_bridge','analysis.training.triggerTopology','find','abortExitTimer','runGeminiAnalysis','checkAndInstall','analysisTimer','createDailyDigest','Warm-Up\x20Target\x20Temps\x20(JSON)','processSensorEvent','length','972BqLuwz','presenceDevices','temperature','Fehler:\x20','currentSystemMode','fill','isProVersion','isGracePeriodActive','main','simulateEnergyMPC','object','analysis.automation.patternDetected','config','Reinforcement\x20Learning\x20Penalties','\x20min\x20ausbleiben.','klar','runAutopilot','./lib/installer','forEach','floor','dailyDigests','sonn','cogni-living','models/gemini-flash-latest','cogni-living\x20adapter\x20starting\x20(v','4482DnRUih','VACATION','devices','motion','rawEventLog','LTM.rawEventLog','debug','telegram','analysis.topology.structure','Test','PYTHON_EXE','311343JrVmys','analysis.security.learningStatus','entries','useWeather','text','systemConfig','split','sunny','scanForDevices','send','weatherunderground.0','common','getStateAsync','analysis.training.triggerSecurity','analysis.training.triggerHealth','TRAIN_COMFORT','minDaysForBaseline','type','join','command','daswetter.0','sendMorningBriefing','simulateButler','cancel','timestamp','notifyTelegramInstance','WiFi\x20Presence\x20detected.','setHours','getForeignStateAsync','clear','analysis.energy.warmupTargets','NORMAL','values','manual','getOverviewData','setStateAsync','Standard','state','131816jMLVTH','response','analysis.energy.rlPenalties','analysis.energy.insulationScore','Party\x20Mode','Kein\x20API\x20Key\x20Ã¼bergeben','getGenerativeModel','startSystem','calendarInstance','lastTrackerEventTime','LTM.triggerDailyDigest','LTM.dailyDigests','toLowerCase','scanDevices','subscribeForeignStatesAsync','from','scores','exports','system.presenceWho','initHistory','stringify','PREDICT_ENERGY','testNotification','Simulation\x20durch\x20Admin\x20(Test)','getMinutes','{\x22default\x22:\x2021}','setupModeResetScheduler','2328BWsCJO','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','onMessage','info','analysis.automation.description','onStateChange','analysis.trigger','ltmJob','analysis.health.todayVector','Verbindung\x20erfolgreich!','isPresent','Kein\x20Kalender-Adapter','automation.triggerAction','isArray','PINN\x20AI\x20Forecast','1735ZHBCIz','json','exitGraceTimer','1529130NrsuZD','.communicate.request','getForeignObjectAsync','triggerDailyDigest','Adapter','triggerBriefing','runBaselineDriftAnalysis','system.adapter.','setObjectNotExistsAsync','enum.functions.*','endsWith','dismissAutomation','@google/generative-ai','LTM.trainingData.thermodynamics','licenseKey','Daten\x20nicht\x20verfÃ¼gbar','add','unload','lastAlertState','analysis.energy.ventilationAlerts','SET_LEARNING_MODE','TRACK_EVENT','inactivityThresholdHours','checkLicense','ack','sendTo','sensorLastValues','TRAIN_SECURITY','callback','log','executeAutomationAction','ready','calendarName','parse','bind','.data.table','LTM.trainingData.sequences','./lib/scheduler','getEnums','getForeignObjectsAsync','Heizung\x20kann\x20','Guest\x20Mode','activityLevel','search','now','Verbunden','Current.WeatherText','analysis.automation.autoApply','Activity-Level','analysis.energy.warmupTimes','online','includes','isSolar','388431FIlzra','string','slice','loadSystemMode','sendNotification','getOutsideTemperatureNumeric'];a0_0x5928=function(){return _0x55c5f7;};return a0_0x5928();}const a0_0x11d1a6=(function(){let _0x2b1b00=!![];return function(_0x55a7f8,_0x3976f8){const _0x2a2c1c=_0x2b1b00?function(){if(_0x3976f8){const _0x326fa9=_0x3976f8['apply'](_0x55a7f8,arguments);return _0x3976f8=null,_0x326fa9;}}:function(){};return _0x2b1b00=![],_0x2a2c1c;};}()),a0_0x5c6837=a0_0x11d1a6(this,function(){const _0x182467=a0_0x145c;return a0_0x5c6837[_0x182467(0x192)]()['search'](_0x182467(0x193))[_0x182467(0x192)]()['constructor'](a0_0x5c6837)[_0x182467(0x243)](_0x182467(0x193));});a0_0x5c6837();'use strict';function a0_0x145c(_0x322976,_0x11d79d){const _0x49e671=a0_0x5928();return a0_0x145c=function(_0x5c6837,_0x11d1a6){_0x5c6837=_0x5c6837-0x15a;let _0x592875=_0x49e671[_0x5c6837];return _0x592875;},a0_0x145c(_0x322976,_0x11d79d);}const utils=require(a0_0x90246a(0x182)),{GoogleGenerativeAI}=require(a0_0x90246a(0x224)),installer=require(a0_0x90246a(0x1b2)),scanner=require('./lib/scanner'),schedulers=require(a0_0x90246a(0x23d)),topology=require(a0_0x90246a(0x263)),setup=require('./lib/setup'),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x90246a(0x196)),aiAgent=require('./lib/ai_agent'),deadMan=require('./lib/dead_man'),automation=require(a0_0x90246a(0x15c)),GEMINI_MODEL=a0_0x90246a(0x1b8),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x90246a(0x21c)]{constructor(_0x21e6ac){const _0x4f93db=a0_0x90246a;super({..._0x21e6ac,'name':_0x4f93db(0x1b7)}),this[_0x4f93db(0x17c)]=[],this[_0x4f93db(0x18b)]=[],this[_0x4f93db(0x1be)]=[],this[_0x4f93db(0x1b5)]=[],this['sensorLastValues']={},this[_0x4f93db(0x1ca)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x4f93db(0x173)]=null,this[_0x4f93db(0x217)]=null,this[_0x4f93db(0x1a8)]=![],this[_0x4f93db(0x160)]=null,this['geminiModel']=null,this[_0x4f93db(0x1a5)]=setup['SYSTEM_MODES'][_0x4f93db(0x1e4)],this['isProVersion']=![],this[_0x4f93db(0x22a)]=![],this[_0x4f93db(0x19c)]=null,this[_0x4f93db(0x20d)]=null,this['modeResetJob']=null,this[_0x4f93db(0x259)]=null,this[_0x4f93db(0x187)]=null,this['dependencyInstallInProgress']=![],this[_0x4f93db(0x16f)]=null,this[_0x4f93db(0x1f4)]=Date[_0x4f93db(0x244)](),this['on'](_0x4f93db(0x237),this[_0x4f93db(0x256)][_0x4f93db(0x23a)](this)),this['on'](_0x4f93db(0x17b),this[_0x4f93db(0x20b)][_0x4f93db(0x23a)](this)),this['on'](_0x4f93db(0x229),this[_0x4f93db(0x176)][_0x4f93db(0x23a)](this)),this['on'](_0x4f93db(0x18e),this[_0x4f93db(0x208)][_0x4f93db(0x23a)](this));}async[a0_0x90246a(0x256)](){const _0x1af09e=a0_0x90246a;this[_0x1af09e(0x235)][_0x1af09e(0x209)](_0x1af09e(0x1b9)+this['version']+')\x20-\x20Phase\x20D\x20(Evolution)');if(!installer[_0x1af09e(0x19b)](this,()=>this[_0x1af09e(0x1f2)]()))return;}async['startSystem'](){const _0x190353=a0_0x90246a;await setup['initZombies'](this);try{this['isProVersion']=await setup[_0x190353(0x22f)](this['config'][_0x190353(0x226)]);}catch(_0x3b79ed){}if(!this[_0x190353(0x1ad)][_0x190353(0x22e)]||this['config'][_0x190353(0x22e)]<0.1)this[_0x190353(0x1ad)][_0x190353(0x22e)]=0xc;await setup[_0x190353(0x1fe)](this),await setup[_0x190353(0x25b)](this);if(this[_0x190353(0x1ad)]['geminiApiKey'])try{this[_0x190353(0x160)]=new GoogleGenerativeAI(this[_0x190353(0x1ad)][_0x190353(0x170)]),this[_0x190353(0x16a)]=this[_0x190353(0x160)][_0x190353(0x1f1)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this['log'][_0x190353(0x209)]('Gemini\x20AI\x20initialized.');}catch(_0xc745ba){this[_0x190353(0x235)][_0x190353(0x254)](_0x190353(0x183)+_0xc745ba['message']);}await setup['createAllObjects'](this),await this[_0x190353(0x250)](),await this[_0x190353(0x220)]('analysis.energy.pinnForecast',{'type':_0x190353(0x1ea),'common':{'name':_0x190353(0x214),'type':_0x190353(0x24e),'role':_0x190353(0x216),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x190353(0x22b),{'type':_0x190353(0x1ea),'common':{'name':_0x190353(0x15f),'type':_0x190353(0x24e),'role':_0x190353(0x216),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x190353(0x249),{'type':_0x190353(0x1ea),'common':{'name':_0x190353(0x207),'type':_0x190353(0x24e),'role':_0x190353(0x216),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x190353(0x1e3),{'type':'state','common':{'name':_0x190353(0x19e),'type':'string','role':'json','read':!![],'write':!![],'def':_0x190353(0x204)},'native':{}}),await this[_0x190353(0x220)](_0x190353(0x1ed),{'type':_0x190353(0x1ea),'common':{'name':_0x190353(0x1ae),'type':_0x190353(0x24e),'role':'json','read':!![],'write':![],'def':'{}'},'native':{}});try{const _0x2821d3=await this[_0x190353(0x1d1)](_0x190353(0x1bf));if(_0x2821d3&&_0x2821d3['val'])this[_0x190353(0x1be)]=JSON[_0x190353(0x239)](_0x2821d3[_0x190353(0x161)]);}catch(_0x18ba6d){this[_0x190353(0x1be)]=[];}try{const _0x45f699=await this['getStateAsync'](_0x190353(0x1f6));if(_0x45f699&&_0x45f699['val'])this['dailyDigests']=JSON[_0x190353(0x239)](_0x45f699['val']);}catch(_0x284863){this[_0x190353(0x1b5)]=[];}const _0x34cb9a=this[_0x190353(0x1b5)][_0x190353(0x1a0)]>=(this[_0x190353(0x1ad)][_0x190353(0x1d5)]||0x7)?'Aktiv\x20('+this[_0x190353(0x1b5)][_0x190353(0x1a0)]+_0x190353(0x267):_0x190353(0x257)+this['dailyDigests']['length']+'/'+(this[_0x190353(0x1ad)]['minDaysForBaseline']||0x7)+')';await this['setStateAsync']('LTM.baselineStatus',{'val':_0x34cb9a,'ack':!![]}),this[_0x190353(0x266)](_0x190353(0x20c)),this[_0x190353(0x266)](_0x190353(0x1f5)),this[_0x190353(0x266)](_0x190353(0x191)),this['subscribeStates'](_0x190353(0x17f)),this[_0x190353(0x266)](_0x190353(0x16d)),this[_0x190353(0x266)](_0x190353(0x247)),this[_0x190353(0x266)](_0x190353(0x1d2)),this[_0x190353(0x266)](_0x190353(0x1d3)),this['subscribeStates'](_0x190353(0x18a)),this[_0x190353(0x266)]('analysis.training.triggerComfort'),this[_0x190353(0x266)](_0x190353(0x197)),this['subscribeStates']('analysis.energy.mpcActive');const _0xe520c3=this['config'][_0x190353(0x1bc)];if(_0xe520c3)for(const _0x4eeb86 of _0xe520c3){await this[_0x190353(0x1f9)](_0x4eeb86['id']);}const _0x1f0dcd=this[_0x190353(0x1ad)]['presenceDevices'];if(_0x1f0dcd)for(const _0x17c42d of _0x1f0dcd){await this['subscribeForeignStatesAsync'](_0x17c42d);}if(this[_0x190353(0x1ad)]['notifyTelegramEnabled']&&this[_0x190353(0x1ad)][_0x190353(0x1de)])await this[_0x190353(0x1f9)](this[_0x190353(0x1ad)][_0x190353(0x1de)]+_0x190353(0x219));setTimeout(()=>this['checkWifiPresence'](),0x1388);if(this['analysisTimer'])clearInterval(this['analysisTimer']);const _0x18ff8c=this[_0x190353(0x1ad)][_0x190353(0x188)]||0xf;_0x18ff8c>0x0&&(this[_0x190353(0x19c)]=setInterval(()=>{const _0x57c294=_0x190353;this['runAutopilot'](),automation[_0x57c294(0x25a)](this);},_0x18ff8c*0x3c*0x3e8)),setTimeout(()=>automation['checkCalendarTriggers'](this),0x2710),this[_0x190353(0x1ad)][_0x190353(0x168)]!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0xa34f96=_0x190353;if(this[_0xa34f96(0x1a7)]){const _0x498a74=Date['now'](),_0x2f4dd8=this[_0xa34f96(0x1f4)]||_0x498a74,_0x4e2cbb=(_0x498a74-_0x2f4dd8)/0x3e8;_0x4e2cbb>0x2&&(this[_0xa34f96(0x1f4)]=_0x498a74,pythonBridge[_0xa34f96(0x1ce)](this,_0xa34f96(0x22d),{'room':null,'dt':_0x4e2cbb}));}},0xbb8)),schedulers[_0x190353(0x175)](this,()=>aiAgent[_0x190353(0x19d)](this,pythonBridge)),schedulers[_0x190353(0x205)](this),schedulers[_0x190353(0x16c)](this,()=>aiAgent[_0x190353(0x21e)](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent[_0x190353(0x1da)](this)),pythonBridge[_0x190353(0x189)](this,installer[_0x190353(0x1c4)]),setTimeout(async()=>{const _0x303421=_0x190353;await topology[_0x303421(0x15e)](this);try{const _0x5a3e5e=await this[_0x303421(0x1d1)](_0x303421(0x1c2));if(_0x5a3e5e&&_0x5a3e5e['val'])pythonBridge['send'](this,_0x303421(0x18c),JSON[_0x303421(0x239)](_0x5a3e5e[_0x303421(0x161)]));}catch(_0x4a217d){}this['runPythonHealthCheck'](),this['triggerGaitAnalysis'](),this['triggerEnergyPrediction'](),this['updateHealthVector']();},0x1388);}[a0_0x90246a(0x176)](_0x276f13){const _0x16f9e7=a0_0x90246a;if(this[_0x16f9e7(0x19c)])clearInterval(this[_0x16f9e7(0x19c)]);if(this['driftAnalysisTimer'])clearInterval(this['driftAnalysisTimer']);if(this[_0x16f9e7(0x16f)])clearInterval(this[_0x16f9e7(0x16f)]);if(this[_0x16f9e7(0x20d)])this[_0x16f9e7(0x20d)][_0x16f9e7(0x1dc)]();if(this['modeResetJob'])this['modeResetJob'][_0x16f9e7(0x1dc)]();if(this['briefingJob'])this['briefingJob'][_0x16f9e7(0x1dc)]();recorder[_0x16f9e7(0x199)](this),pythonBridge['stopService'](this),_0x276f13();}async[a0_0x90246a(0x20b)](_0xa4dfb5,_0x3105bf){const _0x435279=a0_0x90246a;if(!_0x3105bf||this[_0x435279(0x253)])return;if(_0xa4dfb5['includes'](_0x435279(0x1c1))&&_0xa4dfb5[_0x435279(0x222)](_0x435279(0x165))&&_0x3105bf[_0x435279(0x161)])return;if(_0xa4dfb5===this[_0x435279(0x258)]+_0x435279(0x194)){if(_0x3105bf[_0x435279(0x161)]&&Object[_0x435279(0x1e5)](setup[_0x435279(0x15b)])[_0x435279(0x24b)](_0x3105bf[_0x435279(0x161)])){this['currentSystemMode']=_0x3105bf[_0x435279(0x161)];if(_0x3105bf[_0x435279(0x161)]===setup[_0x435279(0x15b)][_0x435279(0x1bb)])await recorder[_0x435279(0x167)](this,![]);else await recorder[_0x435279(0x167)](this,!![]);if(this[_0x435279(0x1a7)]){let _0xa7395=![],_0x12e35f=0x0,_0x1d64dc=_0x435279(0x1e6);if(this[_0x435279(0x1a5)]===_0x435279(0x15d))_0xa7395=!![],_0x12e35f=0x168,_0x1d64dc=_0x435279(0x1ef);else this['currentSystemMode']===_0x435279(0x255)&&(_0xa7395=!![],_0x12e35f=0x5a0,_0x1d64dc=_0x435279(0x241));pythonBridge['send'](this,_0x435279(0x22c),{'active':_0xa7395,'duration':_0x12e35f,'label':_0x1d64dc}),await this[_0x435279(0x1e8)](_0x435279(0x1c6),{'val':JSON[_0x435279(0x1ff)]({'active':_0xa7395,'label':_0x1d64dc,'timestamp':Date[_0x435279(0x244)]()}),'ack':!![]});}}if(!_0x3105bf[_0x435279(0x230)])this[_0x435279(0x190)](_0xa4dfb5,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x3105bf[_0x435279(0x230)]){if(_0xa4dfb5[_0x435279(0x24b)](_0x435279(0x20c))&&_0x3105bf[_0x435279(0x161)]){this[_0x435279(0x190)](_0xa4dfb5,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0xa4dfb5[_0x435279(0x24b)](_0x435279(0x21b))&&_0x3105bf['val']){this[_0x435279(0x190)](_0xa4dfb5,{'val':![],'ack':!![]});if(this[_0x435279(0x1a7)])aiAgent[_0x435279(0x19d)](this,pythonBridge);return;}if(_0xa4dfb5['includes'](_0x435279(0x21d))&&_0x3105bf[_0x435279(0x161)]){this['setState'](_0xa4dfb5,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0xa4dfb5[_0x435279(0x24b)](_0x435279(0x212))&&_0x3105bf[_0x435279(0x161)]){this[_0x435279(0x190)](_0xa4dfb5,{'val':![],'ack':!![]}),aiAgent[_0x435279(0x236)](this);return;}if(_0xa4dfb5[_0x435279(0x24b)](_0x435279(0x1d2))&&_0x3105bf[_0x435279(0x161)]){this['setState'](_0xa4dfb5,{'val':![],'ack':!![]});if(this[_0x435279(0x1a7)])try{const _0x4d1773=await this[_0x435279(0x1d1)](_0x435279(0x23c));if(_0x4d1773&&_0x4d1773[_0x435279(0x161)]){const _0x16d87b=JSON[_0x435279(0x239)](_0x4d1773['val']);this[_0x435279(0x1e8)]('analysis.training.status',{'val':_0x435279(0x25f),'ack':!![]}),pythonBridge[_0x435279(0x1ce)](this,_0x435279(0x233),{'sequences':_0x16d87b});}}catch(_0x106ddd){}return;}if(_0xa4dfb5['includes'](_0x435279(0x1d3))&&_0x3105bf[_0x435279(0x161)]){this[_0x435279(0x190)](_0xa4dfb5,{'val':![],'ack':!![]});if(this[_0x435279(0x1a7)])try{const _0x25e4b8=await this['getStateAsync'](_0x435279(0x1f6));if(_0x25e4b8&&_0x25e4b8['val'])pythonBridge[_0x435279(0x1ce)](this,'TRAIN_HEALTH',{'digests':JSON['parse'](_0x25e4b8[_0x435279(0x161)])});}catch(_0xf59e3c){}return;}if(_0xa4dfb5['includes'](_0x435279(0x18a))&&_0x3105bf[_0x435279(0x161)]){this[_0x435279(0x190)](_0xa4dfb5,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0xe5b662=await this[_0x435279(0x1d1)](_0x435279(0x225));if(_0xe5b662&&_0xe5b662[_0x435279(0x161)])pythonBridge['send'](this,_0x435279(0x265),{'points':JSON[_0x435279(0x239)](_0xe5b662[_0x435279(0x161)])});}catch(_0x2f89bf){}return;}if(_0xa4dfb5['includes']('analysis.training.triggerComfort')&&_0x3105bf['val']){this[_0x435279(0x190)](_0xa4dfb5,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x5b3762=await this[_0x435279(0x1d1)]('LTM.rawEventLog');if(_0x5b3762&&_0x5b3762[_0x435279(0x161)])pythonBridge[_0x435279(0x1ce)](this,_0x435279(0x1d4),{'events':JSON[_0x435279(0x239)](_0x5b3762[_0x435279(0x161)])});}catch(_0x38814e){}return;}if(_0xa4dfb5[_0x435279(0x24b)](_0x435279(0x197))&&_0x3105bf['val']){this[_0x435279(0x190)](_0xa4dfb5,{'val':![],'ack':!![]}),topology[_0x435279(0x15e)](this);return;}}if(this[_0x435279(0x1ad)][_0x435279(0x1a2)]&&this[_0x435279(0x1ad)][_0x435279(0x1a2)][_0x435279(0x24b)](_0xa4dfb5)){await this[_0x435279(0x195)]();return;}const _0x24f523=(this['config'][_0x435279(0x1bc)]||[])[_0x435279(0x198)](_0x14ae35=>_0x14ae35['id']===_0xa4dfb5);if(_0x24f523){const _0x3e0d5b=await recorder[_0x435279(0x19f)](this,_0xa4dfb5,_0x3105bf,_0x24f523);_0x3e0d5b&&_0x3e0d5b['type']===_0x435279(0x1bd)&&_0x3e0d5b[_0x435279(0x260)]&&this[_0x435279(0x1a7)]&&deadMan['updateLocation'](this,_0x3e0d5b[_0x435279(0x260)]),(_0x24f523[_0x435279(0x1d6)]===_0x435279(0x1a3)||_0x24f523[_0x435279(0x1d6)]===_0x435279(0x16b))&&automation['cleanupGhostInterventions'](this);}}async['onMessage'](_0x45e648){const _0x53ddfe=a0_0x90246a;if(typeof _0x45e648===_0x53ddfe(0x1ab)&&_0x45e648[_0x53ddfe(0x18e)]){if(_0x45e648['command']==='checkThermostats')try{const _0x17042b=await automation[_0x53ddfe(0x264)](this);this['sendTo'](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![],'results':_0x17042b},_0x45e648['callback']);}catch(_0xb804ac){this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648['command'],{'success':![],'error':_0xb804ac[_0x53ddfe(0x18e)]},_0x45e648[_0x53ddfe(0x234)]);}else{if(_0x45e648[_0x53ddfe(0x1d8)]===_0x53ddfe(0x1aa))try{const {current_temps:_0x40be34,t_out:_0x3a0f57,targets:_0x3b13a5,t_forecast:_0x22c475}=_0x45e648[_0x53ddfe(0x18e)],_0x2c2d2f=[];let _0x17172c={};try{const _0x489427=await this[_0x53ddfe(0x1d1)](_0x53ddfe(0x1ee));if(_0x489427&&_0x489427['val']){const _0x21e19e=JSON['parse'](_0x489427['val']);_0x17172c=_0x21e19e[_0x53ddfe(0x1fb)]||_0x21e19e;}}catch(_0x634550){}const _0x57cacc=_0x22c475!==undefined&&_0x22c475!==null?(_0x3a0f57+_0x22c475)/0x2:_0x3a0f57;for(const [_0x555218,_0x23dcf1]of Object[_0x53ddfe(0x1c7)](_0x40be34)){const _0x46eff4=_0x3b13a5[_0x555218]||0x15;if(_0x23dcf1<=_0x46eff4)continue;let _0x33c48a=_0x17172c[_0x555218]||-0.5;if(_0x33c48a>=0x0)_0x33c48a=-0.5;const _0x280a04=Math['abs'](_0x33c48a),_0x4b9777=_0x23dcf1-_0x46eff4;let _0x2187f9=Math[_0x53ddfe(0x1b4)](_0x4b9777/_0x280a04*0x3c);const _0x473b84=_0x23dcf1-_0x3a0f57,_0x3dc371=_0x23dcf1-_0x57cacc;if(_0x3dc371!==0x0&&_0x473b84!==0x0){const _0x4e22ab=_0x473b84/_0x3dc371;_0x2187f9=Math[_0x53ddfe(0x1b4)](_0x2187f9*_0x4e22ab);}if(_0x2187f9>0xf){if(_0x2187f9>0xf0)_0x2187f9=0xf0;_0x2c2d2f[_0x53ddfe(0x262)]({'room':_0x555218,'minutes_safe':_0x2187f9,'target':_0x46eff4,'current':_0x23dcf1,'savings_msg':_0x53ddfe(0x240)+_0x2187f9+_0x53ddfe(0x1af)});}}_0x2c2d2f[_0x53ddfe(0x18f)]((_0x2c9aa7,_0x5b1f4c)=>_0x5b1f4c['minutes_safe']-_0x2c9aa7[_0x53ddfe(0x17a)]),this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648['command'],{'success':!![],'proposals':_0x2c2d2f},_0x45e648[_0x53ddfe(0x234)]);}catch(_0xaaa6){this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':![],'error':_0xaaa6[_0x53ddfe(0x18e)]},_0x45e648[_0x53ddfe(0x234)]);}else{if(_0x45e648[_0x53ddfe(0x1d8)]===_0x53ddfe(0x223))await this[_0x53ddfe(0x1e8)]('analysis.automation.patternDetected',{'val':![],'ack':!![]}),await this[_0x53ddfe(0x1e8)](_0x53ddfe(0x20a),{'val':'','ack':!![]}),await this['setStateAsync']('analysis.automation.targetId',{'val':'','ack':!![]}),this[_0x53ddfe(0x231)](_0x45e648['from'],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![]},_0x45e648[_0x53ddfe(0x234)]);else{if(_0x45e648['command']===_0x53ddfe(0x1db)){const {targetId:_0x5468ef,targetValue:_0x367300}=_0x45e648[_0x53ddfe(0x18e)];await this[_0x53ddfe(0x1e8)](_0x53ddfe(0x1ac),{'val':!![],'ack':!![]}),await this[_0x53ddfe(0x1e8)](_0x53ddfe(0x20a),{'val':_0x53ddfe(0x202),'ack':!![]}),await this[_0x53ddfe(0x1e8)](_0x53ddfe(0x172),{'val':_0x5468ef,'ack':!![]}),await this[_0x53ddfe(0x1e8)](_0x53ddfe(0x15a),{'val':String(_0x367300),'ack':!![]}),this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![]},_0x45e648['callback']);}else{if(_0x45e648[_0x53ddfe(0x1d8)]===_0x53ddfe(0x181))try{const _0x212fbb=_0x45e648[_0x53ddfe(0x18e)]['apiKey'];if(!_0x212fbb)throw new Error(_0x53ddfe(0x1f0));const _0x36e08b=new GoogleGenerativeAI(_0x212fbb),_0x418370=_0x36e08b['getGenerativeModel']({'model':GEMINI_MODEL}),_0x49417a=await _0x418370['generateContent'](_0x53ddfe(0x1c3)),_0x33380c=await _0x49417a[_0x53ddfe(0x1ec)];if(_0x33380c[_0x53ddfe(0x1c9)]())this['sendTo'](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![],'message':_0x53ddfe(0x20f)},_0x45e648[_0x53ddfe(0x234)]);else throw new Error('Keine\x20Antwort\x20von\x20Gemini');}catch(_0x1e6da4){this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':![],'message':_0x1e6da4[_0x53ddfe(0x18e)]},_0x45e648[_0x53ddfe(0x234)]);}else{if(_0x45e648[_0x53ddfe(0x1d8)]===_0x53ddfe(0x1f8))try{const _0x145136=await scanner[_0x53ddfe(0x1cd)](this,_0x45e648['message']||{});this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![],'devices':_0x145136},_0x45e648[_0x53ddfe(0x234)]);}catch(_0x35d53c){this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':![],'error':_0x35d53c[_0x53ddfe(0x18e)]},_0x45e648[_0x53ddfe(0x234)]);}else{if(_0x45e648['command']==='updateTopologyMatrix')try{const {matrix:_0x18b201}=_0x45e648['message'],_0x1bdc9f=await this[_0x53ddfe(0x1d1)](_0x53ddfe(0x1c2));if(_0x1bdc9f&&_0x1bdc9f[_0x53ddfe(0x161)]){const _0x1a3040=JSON[_0x53ddfe(0x239)](_0x1bdc9f[_0x53ddfe(0x161)]);_0x1a3040[_0x53ddfe(0x185)]=_0x18b201,_0x1a3040[_0x53ddfe(0x163)]=Date[_0x53ddfe(0x244)](),await this[_0x53ddfe(0x1e8)](_0x53ddfe(0x1c2),{'val':JSON[_0x53ddfe(0x1ff)](_0x1a3040),'ack':!![]}),pythonBridge[_0x53ddfe(0x1ce)](this,'SET_TOPOLOGY',_0x1a3040);}this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![]},_0x45e648[_0x53ddfe(0x234)]);}catch(_0x206f88){this[_0x53ddfe(0x235)][_0x53ddfe(0x254)](_0x206f88);}else{if(_0x45e648[_0x53ddfe(0x1d8)]===_0x53ddfe(0x177))this[_0x53ddfe(0x231)](_0x45e648['from'],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![],'dailyDigests':this[_0x53ddfe(0x1b5)]||[],'analysisHistory':this[_0x53ddfe(0x18b)]||[]},_0x45e648[_0x53ddfe(0x234)]);else{if(_0x45e648[_0x53ddfe(0x1d8)]===_0x53ddfe(0x1e7)){const _0x1412d4=this[_0x53ddfe(0x1b5)][_0x53ddfe(0x1a0)],_0x7aef99=new Array(0x18)['fill'](0x0),_0x37b3de=new Date()[_0x53ddfe(0x1e0)](0x0,0x0,0x0,0x0);this['eventHistory']&&this[_0x53ddfe(0x17c)]['forEach'](_0x15a3bc=>{const _0x21567a=_0x53ddfe;if(_0x15a3bc[_0x21567a(0x1dd)]>=_0x37b3de){const _0x901c1f=new Date(_0x15a3bc[_0x21567a(0x1dd)])[_0x21567a(0x164)]();if(_0x901c1f>=0x0&&_0x901c1f<0x18)_0x7aef99[_0x901c1f]++;}});let _0xc6ffe8=![],_0xfa54c8='',_0xe884b0='',_0x36c8a9='';try{const _0x405ece=await this[_0x53ddfe(0x1d1)](_0x53ddfe(0x1ac));if(_0x405ece&&_0x405ece[_0x53ddfe(0x161)]){_0xc6ffe8=!![];const _0x4b67b1=await this[_0x53ddfe(0x1d1)](_0x53ddfe(0x20a));_0xfa54c8=_0x4b67b1?_0x4b67b1[_0x53ddfe(0x161)]:'';const _0x382302=await this['getStateAsync']('analysis.automation.targetId');_0xe884b0=_0x382302?_0x382302[_0x53ddfe(0x161)]:'';const _0x2f067c=await this['getStateAsync']('analysis.automation.targetValue');_0x36c8a9=_0x2f067c?_0x2f067c['val']:'';}}catch(_0x284cbf){}const _0x20a64e=await this[_0x53ddfe(0x166)](),_0x22b036=(this[_0x53ddfe(0x1ad)][_0x53ddfe(0x1bc)]||[])['some'](_0x212ae8=>_0x212ae8[_0x53ddfe(0x24c)]),_0x1ea1d0=_0x20a64e&&_0x22b036;this['sendTo'](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![],'eventHistory':this['eventHistory'][_0x53ddfe(0x24f)](0x0,0xf),'stats':{'digestCount':_0x1412d4,'isPresent':this[_0x53ddfe(0x210)],'hourlyActivity':_0x7aef99,'solarActive':_0x1ea1d0},'automation':{'detected':_0xc6ffe8,'description':_0xfa54c8,'targetId':_0xe884b0,'targetValue':_0x36c8a9}},_0x45e648[_0x53ddfe(0x234)]);}else{if(_0x45e648[_0x53ddfe(0x1d8)]===_0x53ddfe(0x23e)){const _0x539194=await this['getForeignObjectsAsync'](_0x53ddfe(0x221),_0x53ddfe(0x178)),_0x3de242=[];if(_0x539194)for(const _0x12c12b in _0x539194){const _0x54c728=_0x539194[_0x12c12b],_0x4ce2f9=(_0x54c728['common']&&typeof _0x54c728[_0x53ddfe(0x1d0)][_0x53ddfe(0x18d)]===_0x53ddfe(0x1ab)?_0x54c728[_0x53ddfe(0x1d0)]['name']['de']:_0x54c728[_0x53ddfe(0x1d0)][_0x53ddfe(0x18d)])||_0x54c728[_0x53ddfe(0x1d0)][_0x53ddfe(0x18d)];_0x3de242[_0x53ddfe(0x262)]({'id':_0x12c12b,'name':_0x4ce2f9});}const _0x361252=await this[_0x53ddfe(0x23f)]('enum.rooms.*',_0x53ddfe(0x178)),_0x4cde7f=[];if(_0x361252)for(const _0x2b7932 in _0x361252){const _0x21c4f0=_0x361252[_0x2b7932],_0xa0ebdd=(_0x21c4f0['common']&&typeof _0x21c4f0[_0x53ddfe(0x1d0)]['name']===_0x53ddfe(0x1ab)?_0x21c4f0[_0x53ddfe(0x1d0)][_0x53ddfe(0x18d)]['de']:_0x21c4f0[_0x53ddfe(0x1d0)]['name'])||_0x2b7932[_0x53ddfe(0x1cb)]('.')['pop']();_0x4cde7f[_0x53ddfe(0x262)](_0xa0ebdd);}this['sendTo'](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![],'enums':_0x3de242,'rooms':_0x4cde7f},_0x45e648[_0x53ddfe(0x234)]);}else{if(_0x45e648['command']===_0x53ddfe(0x179))try{let _0x4c667e=_0x53ddfe(0x261),_0x47764d=_0x53ddfe(0x211);if(this[_0x53ddfe(0x1ad)][_0x53ddfe(0x1c8)]){const _0x573306=await recorder['getOutsideTemperatureNumeric'](this);_0x4c667e=_0x573306!==null?_0x573306+'Â°C':_0x53ddfe(0x227);}if(this[_0x53ddfe(0x1ad)][_0x53ddfe(0x1f3)]){const _0xf795b2=await this[_0x53ddfe(0x21a)](_0x53ddfe(0x21f)+this[_0x53ddfe(0x1ad)][_0x53ddfe(0x1f3)]);_0x47764d=_0xf795b2?_0x53ddfe(0x245):_0x53ddfe(0x25d);}this['sendTo'](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![],'weather':_0x4c667e,'calendar':_0x47764d},_0x45e648['callback']);}catch(_0x34c712){this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':![],'error':_0x34c712[_0x53ddfe(0x18e)]},_0x45e648[_0x53ddfe(0x234)]);}else{if(_0x45e648[_0x53ddfe(0x1d8)]===_0x53ddfe(0x16e))try{const _0x33d9f4=_0x45e648[_0x53ddfe(0x18e)][_0x53ddfe(0x169)],_0x3ac14b=await this[_0x53ddfe(0x1e1)](_0x33d9f4+_0x53ddfe(0x23b));let _0x5745d2=[];if(_0x3ac14b&&_0x3ac14b['val']){const _0x17fe80=JSON[_0x53ddfe(0x239)](_0x3ac14b[_0x53ddfe(0x161)]),_0x3a927c=new Set();Array[_0x53ddfe(0x213)](_0x17fe80)&&_0x17fe80[_0x53ddfe(0x1b3)](_0x227693=>{const _0x342023=_0x53ddfe;if(_0x227693['_calName'])_0x3a927c['add'](_0x227693['_calName']);else{if(_0x227693[_0x342023(0x238)])_0x3a927c[_0x342023(0x228)](_0x227693[_0x342023(0x238)]);}}),_0x5745d2=Array[_0x53ddfe(0x1fa)](_0x3a927c)[_0x53ddfe(0x18f)]();}if(_0x5745d2[_0x53ddfe(0x1a0)]===0x0)_0x5745d2=[_0x53ddfe(0x1e9)];this['sendTo'](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![],'names':_0x5745d2},_0x45e648[_0x53ddfe(0x234)]);}catch(_0x4c3450){this[_0x53ddfe(0x231)](_0x45e648['from'],_0x45e648[_0x53ddfe(0x1d8)],{'success':![],'error':_0x4c3450[_0x53ddfe(0x18e)]},_0x45e648[_0x53ddfe(0x234)]);}else{if(_0x45e648[_0x53ddfe(0x1d8)]===_0x53ddfe(0x201))try{await setup[_0x53ddfe(0x251)](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0x53ddfe(0x231)](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':!![],'message':'Gesendet'},_0x45e648[_0x53ddfe(0x234)]);}catch(_0x4a7110){this[_0x53ddfe(0x235)]['error']('Notification\x20Test\x20Failed:\x20'+_0x4a7110['message']),this['sendTo'](_0x45e648[_0x53ddfe(0x1fa)],_0x45e648[_0x53ddfe(0x1d8)],{'success':![],'message':_0x53ddfe(0x1a4)+_0x4a7110[_0x53ddfe(0x18e)]},_0x45e648[_0x53ddfe(0x234)]);}}}}}}}}}}}}}}}async[a0_0x90246a(0x250)](){const _0x172660=a0_0x90246a;try{const _0x1da6b3=await this[_0x172660(0x1d1)](setup[_0x172660(0x25c)]);_0x1da6b3&&_0x1da6b3[_0x172660(0x161)]&&Object[_0x172660(0x1e5)](setup[_0x172660(0x15b)])[_0x172660(0x24b)](_0x1da6b3['val'])?this[_0x172660(0x1a5)]=_0x1da6b3['val']:(this[_0x172660(0x1a5)]=setup['SYSTEM_MODES']['NORMAL'],await this[_0x172660(0x1e8)](setup['SYSTEM_DP_MODE'],{'val':setup[_0x172660(0x15b)][_0x172660(0x1e4)],'ack':!![]}));}catch(_0x5d6ce9){this[_0x172660(0x1a5)]=setup[_0x172660(0x15b)][_0x172660(0x1e4)];}}async['checkWifiPresence'](){const _0x39a6c4=a0_0x90246a;try{const _0x2af3d5=this[_0x39a6c4(0x1ad)][_0x39a6c4(0x1a2)]||[];let _0x250b60=![];const _0x1412ed=[];for(const _0x27cd95 of _0x2af3d5){try{const _0x28fd41=await this[_0x39a6c4(0x1e1)](_0x27cd95);_0x28fd41&&(_0x28fd41[_0x39a6c4(0x161)]===!![]||_0x28fd41[_0x39a6c4(0x161)]===_0x39a6c4(0x24a)||_0x28fd41[_0x39a6c4(0x161)]===0x1)&&(_0x250b60=!![],_0x1412ed[_0x39a6c4(0x262)](_0x27cd95));}catch(_0x445c93){}}return await this[_0x39a6c4(0x1e8)](_0x39a6c4(0x1fd),{'val':_0x1412ed[_0x39a6c4(0x1d7)](',\x20'),'ack':!![]}),_0x250b60&&(this[_0x39a6c4(0x173)]&&(this[_0x39a6c4(0x235)][_0x39a6c4(0x209)](_0x39a6c4(0x1df)),recorder[_0x39a6c4(0x199)](this)),!this[_0x39a6c4(0x210)]&&this[_0x39a6c4(0x1a5)]===setup[_0x39a6c4(0x15b)][_0x39a6c4(0x1e4)]&&await recorder[_0x39a6c4(0x167)](this,!![])),_0x250b60;}catch(_0x4b9d94){return![];}}async[a0_0x90246a(0x1b1)](){const _0x2beb3d=a0_0x90246a;this[_0x2beb3d(0x235)][_0x2beb3d(0x1c0)](_0x2beb3d(0x171)),await aiAgent[_0x2beb3d(0x19a)](this),this[_0x2beb3d(0x184)](),this['triggerGaitAnalysis'](),this['triggerEnergyPrediction']();}async['checkSolarCondition'](){const _0x4f4a7c=a0_0x90246a,_0xe00799=[_0x4f4a7c(0x1cf),'accuweather.0',_0x4f4a7c(0x1d9)],_0x4e6970=['forecast.current.weather',_0x4f4a7c(0x246),_0x4f4a7c(0x174)];for(const _0x1e53a2 of _0xe00799){for(const _0x578744 of _0x4e6970){try{const _0x1fd0de=_0x1e53a2+'.'+_0x578744,_0x287f9b=await this[_0x4f4a7c(0x1e1)](_0x1fd0de);if(_0x287f9b&&_0x287f9b[_0x4f4a7c(0x161)]){const _0x1c6b66=String(_0x287f9b['val'])[_0x4f4a7c(0x1f7)]();if(_0x1c6b66['includes'](_0x4f4a7c(0x1b6))||_0x1c6b66[_0x4f4a7c(0x24b)](_0x4f4a7c(0x1cc))||_0x1c6b66[_0x4f4a7c(0x24b)](_0x4f4a7c(0x1b0))||_0x1c6b66[_0x4f4a7c(0x24b)](_0x4f4a7c(0x1e2))||_0x1c6b66[_0x4f4a7c(0x24b)]('heiter'))return!![];}}catch(_0x5b38aa){}}}return![];}[a0_0x90246a(0x162)](){const _0x1b6147=a0_0x90246a;if(!this[_0x1b6147(0x1a7)])return;try{this['getState'](_0x1b6147(0x23c),(_0x3b597e,_0x1e3c21)=>{const _0x1e5854=_0x1b6147;_0x1e3c21&&_0x1e3c21['val']&&pythonBridge[_0x1e5854(0x1ce)](this,_0x1e5854(0x180),{'sequences':JSON[_0x1e5854(0x239)](_0x1e3c21[_0x1e5854(0x161)])});});}catch(_0x4028de){}}async[a0_0x90246a(0x17e)](){const _0x13eb3f=a0_0x90246a;if(!this[_0x13eb3f(0x1a7)])return;try{const _0x457383=await recorder[_0x13eb3f(0x252)](this);if(_0x457383===null)return;const _0x57033d={},_0x261772={},_0x442c93=this[_0x13eb3f(0x1ad)][_0x13eb3f(0x1bc)]||[];for(const _0x288df7 of _0x442c93){if(_0x288df7[_0x13eb3f(0x1d6)]==='temperature'&&_0x288df7['location']){const _0x37e8a0=this[_0x13eb3f(0x232)][_0x288df7['id']];if(_0x37e8a0!==undefined)_0x57033d[_0x288df7[_0x13eb3f(0x260)]]=_0x37e8a0;if(_0x288df7['isSolar'])_0x261772[_0x288df7[_0x13eb3f(0x260)]]=!![];}}const _0x455a96=await this[_0x13eb3f(0x166)]();let _0x3ed731={};try{const _0x31f43f=await this[_0x13eb3f(0x1d1)](_0x13eb3f(0x1e3));if(_0x31f43f&&_0x31f43f[_0x13eb3f(0x161)])_0x3ed731=JSON[_0x13eb3f(0x239)](_0x31f43f[_0x13eb3f(0x161)]);}catch(_0x54a6ff){}Object['keys'](_0x57033d)[_0x13eb3f(0x1a0)]>0x0&&(pythonBridge[_0x13eb3f(0x1ce)](this,_0x13eb3f(0x200),{'current_temps':_0x57033d,'t_out':_0x457383,'is_sunny':_0x455a96,'solar_flags':_0x261772,'warmup_targets':_0x3ed731}),pythonBridge[_0x13eb3f(0x1ce)](this,'OPTIMIZE_ENERGY',{'current_temps':_0x57033d,'t_out':_0x457383,'targets':{}}));}catch(_0x50f591){}}[a0_0x90246a(0x184)](){const _0x7e5e97=a0_0x90246a;if(!this['rawEventLog']||this['rawEventLog'][_0x7e5e97(0x1a0)]===0x0)return;const _0x8c6032=new Array(0x60)[_0x7e5e97(0x1a6)](0x0),_0x536af8=new Date()[_0x7e5e97(0x1e0)](0x0,0x0,0x0,0x0);this[_0x7e5e97(0x1be)][_0x7e5e97(0x1b3)](_0xe05cb7=>{const _0x317b01=_0x7e5e97,_0x5368a1=new Date(_0xe05cb7[_0x317b01(0x1dd)]);if(_0x5368a1[_0x317b01(0x17d)]()>=_0x536af8){const _0x36a942=_0x5368a1[_0x317b01(0x164)](),_0x47c0ef=_0x5368a1[_0x317b01(0x203)](),_0x549f30=_0x36a942*0x4+Math['floor'](_0x47c0ef/0xf);if(_0x549f30>=0x0&&_0x549f30<0x60)_0x8c6032[_0x549f30]++;}}),this[_0x7e5e97(0x1e8)](_0x7e5e97(0x20e),{'val':JSON[_0x7e5e97(0x1ff)](_0x8c6032),'ack':!![]});}['runPythonHealthCheck'](){const _0x2385de=a0_0x90246a;if(!this[_0x2385de(0x1b5)]||this[_0x2385de(0x1b5)]['length']<0x2)return;const _0xa08ac3=this[_0x2385de(0x1b5)]['map'](_0x4acfd3=>{const _0x1bba6f=_0x2385de,_0x21b891=(_0x4acfd3[_0x1bba6f(0x242)]||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x21b891]||0x32;});pythonBridge[_0x2385de(0x1ce)](this,'ANALYZE_TREND',{'values':_0xa08ac3,'tag':_0x2385de(0x248)});}}if(require[a0_0x90246a(0x1a9)]!==module)module[a0_0x90246a(0x1fc)]=_0x75b83b=>new CogniLiving(_0x75b83b);else new CogniLiving();