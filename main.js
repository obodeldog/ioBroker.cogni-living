const a0_0x10193e=a0_0x29ed;(function(_0x212a0f,_0x45ce2c){const _0x32ac00=a0_0x29ed,_0x4f4315=_0x212a0f();while(!![]){try{const _0x3bbb7f=parseInt(_0x32ac00(0x23f))/0x1*(parseInt(_0x32ac00(0x13d))/0x2)+parseInt(_0x32ac00(0x26e))/0x3*(-parseInt(_0x32ac00(0x130))/0x4)+-parseInt(_0x32ac00(0x262))/0x5+-parseInt(_0x32ac00(0x279))/0x6+parseInt(_0x32ac00(0x1c4))/0x7*(-parseInt(_0x32ac00(0x16c))/0x8)+-parseInt(_0x32ac00(0x1a6))/0x9*(-parseInt(_0x32ac00(0x13c))/0xa)+parseInt(_0x32ac00(0x22f))/0xb;if(_0x3bbb7f===_0x45ce2c)break;else _0x4f4315['push'](_0x4f4315['shift']());}catch(_0x44f44e){_0x4f4315['push'](_0x4f4315['shift']());}}}(a0_0x52b3,0x66c6f));const a0_0x4042ea=(function(){let _0x18f66a=!![];return function(_0x4c58cb,_0x21fd45){const _0x219146=_0x18f66a?function(){const _0x4b72e2=a0_0x29ed;if(_0x21fd45){const _0x4bf7bb=_0x21fd45[_0x4b72e2(0x23b)](_0x4c58cb,arguments);return _0x21fd45=null,_0x4bf7bb;}}:function(){};return _0x18f66a=![],_0x219146;};}()),a0_0x136c9d=a0_0x4042ea(this,function(){const _0x24f4b8=a0_0x29ed;return a0_0x136c9d[_0x24f4b8(0x129)]()[_0x24f4b8(0x1b8)](_0x24f4b8(0x19e))[_0x24f4b8(0x129)]()[_0x24f4b8(0x196)](a0_0x136c9d)['search']('(((.+)+)+)+$');});a0_0x136c9d();function a0_0x29ed(_0x225cd5,_0xd2ca29){const _0x49329d=a0_0x52b3();return a0_0x29ed=function(_0x136c9d,_0x4042ea){_0x136c9d=_0x136c9d-0x124;let _0x52b3a5=_0x49329d[_0x136c9d];return _0x52b3a5;},a0_0x29ed(_0x225cd5,_0xd2ca29);}'use strict';const utils=require(a0_0x10193e(0x222)),{GoogleGenerativeAI}=require(a0_0x10193e(0x1ca)),installer=require('./lib/installer'),scanner=require(a0_0x10193e(0x16b)),schedulers=require(a0_0x10193e(0x149)),topology=require(a0_0x10193e(0x124)),setup=require(a0_0x10193e(0x157)),recorder=require(a0_0x10193e(0x190)),pythonBridge=require(a0_0x10193e(0x226)),aiAgent=require(a0_0x10193e(0x17b)),deadMan=require(a0_0x10193e(0x218)),automation=require(a0_0x10193e(0x1b9)),GEMINI_MODEL=a0_0x10193e(0x1f2),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x10193e(0x1bf)]{constructor(_0x5c8945){const _0x48ec05=a0_0x10193e;super({..._0x5c8945,'name':_0x48ec05(0x1a8)}),this[_0x48ec05(0x1fb)]=[],this['analysisHistory']=[],this[_0x48ec05(0x141)]=[],this[_0x48ec05(0x1d9)]=[],this[_0x48ec05(0x1ef)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x48ec05(0x207)]=!![],this[_0x48ec05(0x21a)]=null,this[_0x48ec05(0x1ed)]=null,this[_0x48ec05(0x275)]=![],this[_0x48ec05(0x216)]=null,this[_0x48ec05(0x1ad)]=null,this[_0x48ec05(0x26c)]=setup['SYSTEM_MODES'][_0x48ec05(0x239)],this[_0x48ec05(0x223)]=![],this[_0x48ec05(0x237)]=![],this[_0x48ec05(0x227)]=null,this['ltmJob']=null,this[_0x48ec05(0x1fd)]=null,this[_0x48ec05(0x20e)]=null,this['briefingJob']=null,this[_0x48ec05(0x16e)]=null,this[_0x48ec05(0x225)]=null,this['dependencyInstallInProgress']=![],this['lastTrackerEventTime']=Date[_0x48ec05(0x251)](),this[_0x48ec05(0x1d7)]=null,this[_0x48ec05(0x219)]=Date['now'](),this[_0x48ec05(0x14a)]=![],this[_0x48ec05(0x166)]=[],this['on'](_0x48ec05(0x151),this['onReady'][_0x48ec05(0x181)](this)),this['on']('stateChange',this['onStateChange']['bind'](this)),this['on'](_0x48ec05(0x25c),this[_0x48ec05(0x144)][_0x48ec05(0x181)](this)),this['on'](_0x48ec05(0x1d2),this[_0x48ec05(0x1b1)][_0x48ec05(0x181)](this));}async['onReady'](){const _0x3eea85=a0_0x10193e;this[_0x3eea85(0x20a)]['info'](_0x3eea85(0x209)+this[_0x3eea85(0x1a5)]+_0x3eea85(0x15c));if(!installer[_0x3eea85(0x170)](this,()=>this[_0x3eea85(0x18c)]()))return;}async[a0_0x10193e(0x18c)](){const _0x4469a0=a0_0x10193e;await setup[_0x4469a0(0x1df)](this);try{this[_0x4469a0(0x223)]=await setup[_0x4469a0(0x189)](this[_0x4469a0(0x248)]['licenseKey']);}catch(_0x33ccbb){}if(!this[_0x4469a0(0x248)][_0x4469a0(0x1b5)]||this[_0x4469a0(0x248)]['inactivityThresholdHours']<0.1)this[_0x4469a0(0x248)][_0x4469a0(0x1b5)]=0xc;await setup[_0x4469a0(0x1a4)](this),await setup[_0x4469a0(0x20c)](this);try{const _0x5e7e95=await this['getStateAsync'](_0x4469a0(0x128)),_0x2e0159=await this[_0x4469a0(0x168)]('analysis.energy.warmupSources');_0x5e7e95&&_0x5e7e95['val']&&_0x2e0159&&_0x2e0159[_0x4469a0(0x14e)]&&(Date['now']()-_0x5e7e95['ts']<0x4*0xe10*0x3e8&&(this[_0x4469a0(0x1d7)]={'times':JSON[_0x4469a0(0x1cf)](_0x5e7e95[_0x4469a0(0x14e)]),'sources':JSON[_0x4469a0(0x1cf)](_0x2e0159[_0x4469a0(0x14e)])},this[_0x4469a0(0x20a)][_0x4469a0(0x19b)](_0x4469a0(0x242)+Object['keys'](this[_0x4469a0(0x1d7)][_0x4469a0(0x1d5)])[_0x4469a0(0x19d)]+_0x4469a0(0x210))));}catch(_0x36b1d1){this[_0x4469a0(0x20a)][_0x4469a0(0x1a9)](_0x4469a0(0x266)+_0x36b1d1['message']);}if(this[_0x4469a0(0x248)][_0x4469a0(0x26a)])try{this[_0x4469a0(0x216)]=new GoogleGenerativeAI(this[_0x4469a0(0x248)]['geminiApiKey']),this['geminiModel']=this[_0x4469a0(0x216)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x4469a0(0x269)}}),this[_0x4469a0(0x20a)][_0x4469a0(0x19b)]('Gemini\x20AI\x20initialized.');}catch(_0x4d3775){this[_0x4469a0(0x20a)][_0x4469a0(0x1ee)]('Gemini\x20Init\x20Error:\x20'+_0x4d3775['message']);}await setup[_0x4469a0(0x22a)](this),await this[_0x4469a0(0x1ea)](),await this[_0x4469a0(0x177)](_0x4469a0(0x13a),{'type':_0x4469a0(0x187),'common':{'name':_0x4469a0(0x19c),'type':_0x4469a0(0x234),'role':_0x4469a0(0x201),'read':!![],'write':![]},'native':{}}),await this[_0x4469a0(0x177)](_0x4469a0(0x139),{'type':_0x4469a0(0x187),'common':{'name':_0x4469a0(0x164),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.warmupTimes',{'type':'state','common':{'name':_0x4469a0(0x158),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this[_0x4469a0(0x177)](_0x4469a0(0x180),{'type':'state','common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':'string','role':_0x4469a0(0x201),'read':!![],'write':!![],'def':_0x4469a0(0x273)},'native':{}}),await this[_0x4469a0(0x177)](_0x4469a0(0x1a1),{'type':_0x4469a0(0x187),'common':{'name':_0x4469a0(0x142),'type':_0x4469a0(0x234),'role':_0x4469a0(0x201),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x4469a0(0x177)](_0x4469a0(0x195),{'type':_0x4469a0(0x187),'common':{'name':_0x4469a0(0x1c8),'type':_0x4469a0(0x23e),'role':_0x4469a0(0x235),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x4469a0(0x177)]('analysis.health.gaitSensors',{'type':'state','common':{'name':_0x4469a0(0x236),'type':_0x4469a0(0x234),'role':_0x4469a0(0x1de),'read':!![],'write':![]},'native':{}}),await this[_0x4469a0(0x177)]('analysis.energy.activeEnforcements',{'type':'state','common':{'name':'Active\x20Calendar\x20Enforcements\x20(Locks)','type':_0x4469a0(0x234),'role':_0x4469a0(0x201),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x4469a0(0x177)]('analysis.security.infrasoundLog',{'type':_0x4469a0(0x187),'common':{'name':_0x4469a0(0x1f0),'type':_0x4469a0(0x234),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x4469a0(0x177)](_0x4469a0(0x136),{'type':_0x4469a0(0x187),'common':{'name':_0x4469a0(0x221),'type':_0x4469a0(0x234),'role':'text','read':!![],'write':![]},'native':{}});try{const _0x199b0e=await this['getStateAsync'](_0x4469a0(0x24c));if(_0x199b0e&&_0x199b0e[_0x4469a0(0x14e)])this['rawEventLog']=JSON[_0x4469a0(0x1cf)](_0x199b0e[_0x4469a0(0x14e)]);}catch(_0x1fde64){this[_0x4469a0(0x141)]=[];}try{const _0x5f1232=await this[_0x4469a0(0x168)](_0x4469a0(0x185));if(_0x5f1232&&_0x5f1232['val'])this[_0x4469a0(0x1d9)]=JSON[_0x4469a0(0x1cf)](_0x5f1232[_0x4469a0(0x14e)]);}catch(_0x2c0598){this[_0x4469a0(0x1d9)]=[];}const _0x3288b4=this[_0x4469a0(0x1d9)]['length']>=(this[_0x4469a0(0x248)][_0x4469a0(0x14c)]||0x7)?_0x4469a0(0x276)+this['dailyDigests'][_0x4469a0(0x19d)]+_0x4469a0(0x1f3):'Lernphase\x20('+this['dailyDigests'][_0x4469a0(0x19d)]+'/'+(this[_0x4469a0(0x248)][_0x4469a0(0x14c)]||0x7)+')';await this[_0x4469a0(0x1e3)]('LTM.baselineStatus',{'val':_0x3288b4,'ack':!![]}),this['subscribeStates'](_0x4469a0(0x188)),this[_0x4469a0(0x1b6)](_0x4469a0(0x1be)),this['subscribeStates'](_0x4469a0(0x16a)),this[_0x4469a0(0x1b6)]('analysis.triggerBriefing'),this['subscribeStates'](_0x4469a0(0x18e)),this[_0x4469a0(0x1b6)](_0x4469a0(0x13f)),this[_0x4469a0(0x1b6)](_0x4469a0(0x12b)),this[_0x4469a0(0x1b6)]('analysis.training.triggerHealth'),this[_0x4469a0(0x1b6)](_0x4469a0(0x192)),this['subscribeStates'](_0x4469a0(0x250)),this[_0x4469a0(0x1b6)](_0x4469a0(0x1db)),this[_0x4469a0(0x1b6)]('analysis.energy.mpcActive'),this[_0x4469a0(0x1b6)](_0x4469a0(0x1c7));this[_0x4469a0(0x248)][_0x4469a0(0x191)]&&this[_0x4469a0(0x248)][_0x4469a0(0x1c5)]&&(this[_0x4469a0(0x20a)][_0x4469a0(0x19b)](_0x4469a0(0x127)+this['config'][_0x4469a0(0x1c5)]),this[_0x4469a0(0x173)](this[_0x4469a0(0x248)]['infrasoundSensorId']));const _0x2a1fd9=this[_0x4469a0(0x248)]['devices'];if(_0x2a1fd9)for(const _0x4d20e9 of _0x2a1fd9){await this[_0x4469a0(0x125)](_0x4d20e9['id']);}const _0x3054b4=this[_0x4469a0(0x248)][_0x4469a0(0x261)];if(_0x3054b4)for(const _0x54d97b of _0x3054b4){await this[_0x4469a0(0x125)](_0x54d97b);}if(this[_0x4469a0(0x248)][_0x4469a0(0x1d8)]&&this[_0x4469a0(0x248)]['notifyTelegramInstance'])await this[_0x4469a0(0x125)](this[_0x4469a0(0x248)]['notifyTelegramInstance']+'.communicate.request');setTimeout(()=>this[_0x4469a0(0x208)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x4469a0(0x227)]);const _0x12c615=this[_0x4469a0(0x248)][_0x4469a0(0x22c)]||0xf;_0x12c615>0x0&&(this[_0x4469a0(0x227)]=setInterval(()=>{const _0x2458ad=_0x4469a0;this[_0x2458ad(0x1fc)](),automation[_0x2458ad(0x1bb)](this),automation[_0x2458ad(0x265)](this);},_0x12c615*0x3c*0x3e8));setTimeout(()=>{const _0x408329=_0x4469a0;automation[_0x408329(0x1bb)](this),automation[_0x408329(0x265)](this);},0x2710);this[_0x4469a0(0x248)]['trackerEnabled']!==![]&&(this[_0x4469a0(0x16e)]=setInterval(()=>{const _0xa34e0e=_0x4469a0;if(this['isProVersion']){const _0x3708aa=Date['now'](),_0x3d7e59=this[_0xa34e0e(0x165)]||_0x3708aa,_0x3f6058=(_0x3708aa-_0x3d7e59)/0x3e8;_0x3f6058>0x2&&(this['lastTrackerEventTime']=_0x3708aa,pythonBridge['send'](this,'TRACK_EVENT',{'room':null,'dt':_0x3f6058}));}},0xbb8));if(this[_0x4469a0(0x225)])clearInterval(this['healthTrendInterval']);this[_0x4469a0(0x225)]=setInterval(()=>{const _0x436493=_0x4469a0;this[_0x436493(0x223)]&&(this['log']['info'](_0x436493(0x147)),this[_0x436493(0x153)]());},0x4*0x3c*0x3c*0x3e8),schedulers[_0x4469a0(0x1dc)](this,()=>aiAgent[_0x4469a0(0x253)](this,pythonBridge)),schedulers[_0x4469a0(0x247)](this),schedulers[_0x4469a0(0x199)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x4469a0(0x20b)](this,()=>aiAgent[_0x4469a0(0x24d)](this)),pythonBridge[_0x4469a0(0x245)](this,installer[_0x4469a0(0x21d)]),setTimeout(async()=>{const _0x1929be=_0x4469a0;await topology[_0x1929be(0x268)](this);try{const _0x14392b=await this[_0x1929be(0x168)](_0x1929be(0x17e));if(_0x14392b&&_0x14392b[_0x1929be(0x14e)])pythonBridge[_0x1929be(0x25d)](this,'SET_TOPOLOGY',JSON[_0x1929be(0x1cf)](_0x14392b[_0x1929be(0x14e)]));}catch(_0x28c7b6){}this[_0x1929be(0x153)](),this[_0x1929be(0x137)](),this[_0x1929be(0x163)](),this['updateHealthVector']();},0x1388);}['onUnload'](_0x20c829){const _0x1e218b=a0_0x10193e;if(this[_0x1e218b(0x227)])clearInterval(this[_0x1e218b(0x227)]);if(this['driftAnalysisTimer'])clearInterval(this[_0x1e218b(0x20e)]);if(this[_0x1e218b(0x16e)])clearInterval(this[_0x1e218b(0x16e)]);if(this[_0x1e218b(0x225)])clearInterval(this[_0x1e218b(0x225)]);if(this[_0x1e218b(0x1f6)])this[_0x1e218b(0x1f6)][_0x1e218b(0x167)]();if(this[_0x1e218b(0x1fd)])this[_0x1e218b(0x1fd)]['cancel']();if(this['briefingJob'])this[_0x1e218b(0x1f1)]['cancel']();recorder['abortExitTimer'](this),pythonBridge['stopService'](this),_0x20c829();}async[a0_0x10193e(0x1bd)](_0x5e5c52,_0x12c137){const _0x4d2f1a=a0_0x10193e;if(!_0x12c137||this['dependencyInstallInProgress'])return;if(_0x5e5c52[_0x4d2f1a(0x1a0)](_0x4d2f1a(0x271))&&_0x5e5c52[_0x4d2f1a(0x1af)](_0x4d2f1a(0x23c))&&_0x12c137[_0x4d2f1a(0x14e)])return;if(this['config'][_0x4d2f1a(0x191)]&&_0x5e5c52===this[_0x4d2f1a(0x248)][_0x4d2f1a(0x1c5)]){this[_0x4d2f1a(0x131)](_0x12c137['val']);return;}if(_0x5e5c52===this[_0x4d2f1a(0x24e)]+'.system.mode'){if(_0x12c137[_0x4d2f1a(0x14e)]&&Object['values'](setup[_0x4d2f1a(0x278)])[_0x4d2f1a(0x1a0)](_0x12c137['val'])){this['currentSystemMode']=_0x12c137[_0x4d2f1a(0x14e)];if(_0x12c137['val']===setup[_0x4d2f1a(0x278)]['VACATION'])await recorder[_0x4d2f1a(0x274)](this,![]);else await recorder[_0x4d2f1a(0x274)](this,!![]);if(this[_0x4d2f1a(0x223)]){let _0x28f005=![],_0xcbc7a1=0x0,_0x482e90='manual';if(this[_0x4d2f1a(0x26c)]===_0x4d2f1a(0x205))_0x28f005=!![],_0xcbc7a1=0x168,_0x482e90='Party\x20Mode';else this[_0x4d2f1a(0x26c)]==='guest'&&(_0x28f005=!![],_0xcbc7a1=0x5a0,_0x482e90=_0x4d2f1a(0x21e));pythonBridge[_0x4d2f1a(0x25d)](this,_0x4d2f1a(0x1c3),{'active':_0x28f005,'duration':_0xcbc7a1,'label':_0x482e90}),await this[_0x4d2f1a(0x1e3)](_0x4d2f1a(0x25a),{'val':JSON[_0x4d2f1a(0x20d)]({'active':_0x28f005,'label':_0x482e90,'timestamp':Date[_0x4d2f1a(0x251)]()}),'ack':!![]});}}if(!_0x12c137[_0x4d2f1a(0x12e)])this[_0x4d2f1a(0x17c)](_0x5e5c52,{'val':this[_0x4d2f1a(0x26c)],'ack':!![]});return;}_0x5e5c52[_0x4d2f1a(0x1af)](_0x4d2f1a(0x1c7))&&_0x12c137[_0x4d2f1a(0x12e)]&&this['protectAiMemory'](_0x12c137['val']);if(!_0x12c137[_0x4d2f1a(0x12e)]){if(_0x5e5c52[_0x4d2f1a(0x1a0)](_0x4d2f1a(0x188))&&_0x12c137[_0x4d2f1a(0x14e)]){this[_0x4d2f1a(0x17c)](_0x5e5c52,{'val':![],'ack':!![]}),aiAgent[_0x4d2f1a(0x214)](this);return;}if(_0x5e5c52[_0x4d2f1a(0x1a0)](_0x4d2f1a(0x1e8))&&_0x12c137['val']){this[_0x4d2f1a(0x17c)](_0x5e5c52,{'val':![],'ack':!![]});if(this[_0x4d2f1a(0x223)])aiAgent[_0x4d2f1a(0x253)](this,pythonBridge);return;}if(_0x5e5c52[_0x4d2f1a(0x1a0)]('triggerBriefing')&&_0x12c137['val']){this[_0x4d2f1a(0x17c)](_0x5e5c52,{'val':![],'ack':!![]}),aiAgent[_0x4d2f1a(0x24d)](this);return;}if(_0x5e5c52[_0x4d2f1a(0x1a0)](_0x4d2f1a(0x20f))&&_0x12c137['val']){this[_0x4d2f1a(0x17c)](_0x5e5c52,{'val':![],'ack':!![]}),aiAgent[_0x4d2f1a(0x145)](this);return;}if(_0x5e5c52[_0x4d2f1a(0x1a0)](_0x4d2f1a(0x12b))&&_0x12c137[_0x4d2f1a(0x14e)]){this[_0x4d2f1a(0x17c)](_0x5e5c52,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x59218e=await this[_0x4d2f1a(0x168)](_0x4d2f1a(0x132));if(_0x59218e&&_0x59218e[_0x4d2f1a(0x14e)]){const _0x130268=JSON[_0x4d2f1a(0x1cf)](_0x59218e[_0x4d2f1a(0x14e)]);this[_0x4d2f1a(0x1e3)]('analysis.training.status',{'val':_0x4d2f1a(0x1a2),'ack':!![]}),pythonBridge['send'](this,'TRAIN_SECURITY',{'sequences':_0x130268});}}catch(_0x4d82ea){}return;}if(_0x5e5c52[_0x4d2f1a(0x1a0)]('analysis.training.triggerHealth')&&_0x12c137[_0x4d2f1a(0x14e)]){this['setState'](_0x5e5c52,{'val':![],'ack':!![]});if(this[_0x4d2f1a(0x223)])try{const _0x11ffb7=await this['getStateAsync'](_0x4d2f1a(0x185));if(_0x11ffb7&&_0x11ffb7[_0x4d2f1a(0x14e)])pythonBridge[_0x4d2f1a(0x25d)](this,_0x4d2f1a(0x1fe),{'digests':JSON[_0x4d2f1a(0x1cf)](_0x11ffb7[_0x4d2f1a(0x14e)])});}catch(_0x254d74){}return;}if(_0x5e5c52[_0x4d2f1a(0x1a0)](_0x4d2f1a(0x192))&&_0x12c137[_0x4d2f1a(0x14e)]){this['setState'](_0x5e5c52,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x5c54a9=await this[_0x4d2f1a(0x168)](_0x4d2f1a(0x138));if(_0x5c54a9&&_0x5c54a9[_0x4d2f1a(0x14e)])pythonBridge[_0x4d2f1a(0x25d)](this,'TRAIN_ENERGY',{'points':JSON['parse'](_0x5c54a9['val'])});}catch(_0x4d5b34){}return;}if(_0x5e5c52[_0x4d2f1a(0x1a0)]('analysis.training.triggerComfort')&&_0x12c137[_0x4d2f1a(0x14e)]){this[_0x4d2f1a(0x17c)](_0x5e5c52,{'val':![],'ack':!![]});if(this[_0x4d2f1a(0x223)])try{const _0x26a070=await this[_0x4d2f1a(0x168)]('LTM.rawEventLog');if(_0x26a070&&_0x26a070[_0x4d2f1a(0x14e)])pythonBridge[_0x4d2f1a(0x25d)](this,_0x4d2f1a(0x126),{'events':JSON[_0x4d2f1a(0x1cf)](_0x26a070['val'])});}catch(_0x453670){}return;}if(_0x5e5c52[_0x4d2f1a(0x1a0)]('analysis.training.triggerTopology')&&_0x12c137[_0x4d2f1a(0x14e)]){this[_0x4d2f1a(0x17c)](_0x5e5c52,{'val':![],'ack':!![]}),topology['updateTopology'](this);if(this['isProVersion'])try{const _0x27d474=await this[_0x4d2f1a(0x168)]('LTM.trainingData.sequences');if(_0x27d474&&_0x27d474['val']){const _0x3c066d=JSON['parse'](_0x27d474[_0x4d2f1a(0x14e)]);this[_0x4d2f1a(0x20a)][_0x4d2f1a(0x19b)]('üß†\x20Graph-Brain:\x20Training\x20Behaviour\x20Matrix\x20based\x20on\x20'+_0x3c066d[_0x4d2f1a(0x19d)]+_0x4d2f1a(0x22e)),pythonBridge['send'](this,'TRAIN_TOPOLOGY',{'sequences':_0x3c066d});}else this[_0x4d2f1a(0x20a)][_0x4d2f1a(0x1a9)]('‚ö†Ô∏è\x20Graph-Brain:\x20No\x20training\x20sequences\x20found\x20in\x20LTM.');}catch(_0x54c5b8){this['log'][_0x4d2f1a(0x1ee)](_0x4d2f1a(0x243)+_0x54c5b8[_0x4d2f1a(0x1d2)]);}return;}}if(this[_0x4d2f1a(0x248)]['presenceDevices']&&this['config']['presenceDevices']['includes'](_0x5e5c52)){await this[_0x4d2f1a(0x208)]();return;}const _0x377315=(this[_0x4d2f1a(0x248)]['devices']||[])[_0x4d2f1a(0x1ff)](_0x250b05=>_0x250b05['id']===_0x5e5c52);if(_0x377315){const _0x1a7064=await recorder['processSensorEvent'](this,_0x5e5c52,_0x12c137,_0x377315);_0x1a7064&&_0x1a7064['type']==='motion'&&_0x1a7064['location']&&this[_0x4d2f1a(0x223)]&&deadMan[_0x4d2f1a(0x1ec)](this,_0x1a7064[_0x4d2f1a(0x241)]),_0x12c137['val']&&(_0x12c137[_0x4d2f1a(0x14e)]===!![]||_0x12c137[_0x4d2f1a(0x14e)]===0x1||String(_0x12c137[_0x4d2f1a(0x14e)])[_0x4d2f1a(0x13e)]()===_0x4d2f1a(0x1d0))&&(_0x377315[_0x4d2f1a(0x150)]&&(_0x377315[_0x4d2f1a(0x150)][_0x4d2f1a(0x1a0)](_0x4d2f1a(0x263))||_0x377315[_0x4d2f1a(0x150)]['includes'](_0x4d2f1a(0x256))||_0x377315['type']['includes'](_0x4d2f1a(0x176)))&&this['analyzeWindowOpening'](_0x377315)),(_0x377315['type']===_0x4d2f1a(0x186)||_0x377315[_0x4d2f1a(0x150)]===_0x4d2f1a(0x1f7))&&automation[_0x4d2f1a(0x178)](this);}}async[a0_0x10193e(0x1e7)](_0x2a017c){const _0x5c60ed=a0_0x10193e;if(!this['memoryCache']||Date[_0x5c60ed(0x251)]()-this[_0x5c60ed(0x219)]>0x493e0)return;if(!this[_0x5c60ed(0x1d7)][_0x5c60ed(0x1e2)]||!this['memoryCache'][_0x5c60ed(0x1d5)])return;try{const _0x19c5ec=JSON[_0x5c60ed(0x1cf)](_0x2a017c),_0x2e191c=this['memoryCache']['sources'];let _0x11eda9=![];for(const _0x3b8441 in _0x2e191c){if(_0x2e191c[_0x3b8441][_0x5c60ed(0x1a0)]('AI')&&_0x19c5ec[_0x3b8441]&&!_0x19c5ec[_0x3b8441][_0x5c60ed(0x1a0)]('AI')){_0x11eda9=!![];break;}}_0x11eda9&&(this[_0x5c60ed(0x20a)][_0x5c60ed(0x19b)](_0x5c60ed(0x206)),await this[_0x5c60ed(0x1e3)](_0x5c60ed(0x128),{'val':JSON[_0x5c60ed(0x20d)](this['memoryCache']['times']),'ack':!![]}),await this[_0x5c60ed(0x1e3)](_0x5c60ed(0x1c7),{'val':JSON['stringify'](this[_0x5c60ed(0x1d7)][_0x5c60ed(0x1e2)]),'ack':!![]}));}catch(_0x14dfcd){}}async['onMessage'](_0x463067){const _0xae6d8a=a0_0x10193e;if(typeof _0x463067===_0xae6d8a(0x175)&&_0x463067['message']){if(_0x463067[_0xae6d8a(0x13b)]===_0xae6d8a(0x212))try{const _0x214375=await automation[_0xae6d8a(0x1b4)](this);this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':!![],'results':_0x214375},_0x463067['callback']);}catch(_0x2f2996){this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':![],'error':_0x2f2996[_0xae6d8a(0x1d2)]},_0x463067[_0xae6d8a(0x25e)]);}else{if(_0x463067[_0xae6d8a(0x13b)]==='simulateEnergyMPC')try{const {current_temps:_0x548ce8,t_out:_0x4a601d,targets:_0x4bd396,t_forecast:_0x1698eb}=_0x463067['message'],_0x140d63=[];let _0x2ab001={};try{const _0x408f25=await this[_0xae6d8a(0x168)](_0xae6d8a(0x1bc));if(_0x408f25&&_0x408f25[_0xae6d8a(0x14e)]){const _0xb24a0a=JSON['parse'](_0x408f25[_0xae6d8a(0x14e)]);_0x2ab001=_0xb24a0a[_0xae6d8a(0x1e1)]||_0xb24a0a;}}catch(_0x821aaa){}const _0x44ce76=_0x1698eb!==undefined&&_0x1698eb!==null?(_0x4a601d+_0x1698eb)/0x2:_0x4a601d;for(const [_0xc43552,_0x2debe5]of Object[_0xae6d8a(0x22d)](_0x548ce8)){const _0x2f872b=_0x4bd396[_0xc43552]||0x15;if(_0x2debe5<=_0x2f872b)continue;let _0x57f855=_0x2ab001[_0xc43552]||-0.5;if(_0x57f855>=0x0)_0x57f855=-0.5;const _0x125bab=Math[_0xae6d8a(0x148)](_0x57f855),_0x1b8706=_0x2debe5-_0x2f872b;let _0x12cfe5=Math[_0xae6d8a(0x23d)](_0x1b8706/_0x125bab*0x3c);const _0x218634=_0x2debe5-_0x4a601d,_0x15e6f3=_0x2debe5-_0x44ce76;if(_0x15e6f3!==0x0&&_0x218634!==0x0){const _0x4a8e9c=_0x218634/_0x15e6f3;_0x12cfe5=Math['floor'](_0x12cfe5*_0x4a8e9c);}if(_0x12cfe5>0xf){if(_0x12cfe5>0xf0)_0x12cfe5=0xf0;_0x140d63[_0xae6d8a(0x200)]({'room':_0xc43552,'minutes_safe':_0x12cfe5,'target':_0x2f872b,'current':_0x2debe5,'savings_msg':_0xae6d8a(0x21f)+_0x12cfe5+_0xae6d8a(0x240)});}}_0x140d63[_0xae6d8a(0x18b)]((_0x217f2f,_0x4f09e9)=>_0x4f09e9[_0xae6d8a(0x18d)]-_0x217f2f[_0xae6d8a(0x18d)]),this['sendTo'](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':!![],'proposals':_0x140d63},_0x463067[_0xae6d8a(0x25e)]);}catch(_0x3cf26e){this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':![],'error':_0x3cf26e['message']},_0x463067[_0xae6d8a(0x25e)]);}else{if(_0x463067[_0xae6d8a(0x13b)]===_0xae6d8a(0x169))try{const _0x3fabc1=_0x463067[_0xae6d8a(0x1d2)][_0xae6d8a(0x133)],_0x4a6df9=_0xae6d8a(0x1a1),_0x1cfb4a=await this[_0xae6d8a(0x168)](_0x4a6df9);let _0x595392={};if(_0x1cfb4a&&_0x1cfb4a[_0xae6d8a(0x14e)])try{_0x595392=JSON['parse'](_0x1cfb4a['val']);}catch(_0xf8d34b){}_0x3fabc1&&_0x595392[_0x3fabc1]?(delete _0x595392[_0x3fabc1],await this[_0xae6d8a(0x1e3)](_0x4a6df9,{'val':JSON[_0xae6d8a(0x20d)](_0x595392),'ack':!![]}),this['log'][_0xae6d8a(0x19b)]('üéì\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20f√ºr\x20\x27'+_0x3fabc1+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gel√∂scht.'),this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067['command'],{'success':!![]},_0x463067['callback'])):this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':![],'error':_0xae6d8a(0x171)},_0x463067[_0xae6d8a(0x25e)]);}catch(_0x460802){this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':![],'error':_0x460802[_0xae6d8a(0x1d2)]},_0x463067[_0xae6d8a(0x25e)]);}else{if(_0x463067[_0xae6d8a(0x13b)]===_0xae6d8a(0x12a))await this[_0xae6d8a(0x1e3)](_0xae6d8a(0x233),{'val':![],'ack':!![]}),await this[_0xae6d8a(0x1e3)](_0xae6d8a(0x183),{'val':'','ack':!![]}),await this[_0xae6d8a(0x1e3)](_0xae6d8a(0x1b7),{'val':'','ack':!![]}),this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':!![]},_0x463067[_0xae6d8a(0x25e)]);else{if(_0x463067['command']==='simulateButler'){const {targetId:_0x27f93c,targetValue:_0x4516c9}=_0x463067[_0xae6d8a(0x1d2)];await this[_0xae6d8a(0x1e3)](_0xae6d8a(0x233),{'val':!![],'ack':!![]}),await this[_0xae6d8a(0x1e3)]('analysis.automation.description',{'val':_0xae6d8a(0x1ac),'ack':!![]}),await this[_0xae6d8a(0x1e3)](_0xae6d8a(0x1b7),{'val':_0x27f93c,'ack':!![]}),await this[_0xae6d8a(0x1e3)]('analysis.automation.targetValue',{'val':String(_0x4516c9),'ack':!![]}),this[_0xae6d8a(0x14d)](_0x463067['from'],_0x463067[_0xae6d8a(0x13b)],{'success':!![]},_0x463067[_0xae6d8a(0x25e)]);}else{if(_0x463067['command']===_0xae6d8a(0x260))try{const _0x3ddf50=_0x463067[_0xae6d8a(0x1d2)][_0xae6d8a(0x1eb)];if(!_0x3ddf50)throw new Error(_0xae6d8a(0x1e5));const _0x16426c=new GoogleGenerativeAI(_0x3ddf50),_0x3e5a9f=_0x16426c[_0xae6d8a(0x1e9)]({'model':GEMINI_MODEL}),_0x413176=await _0x3e5a9f['generateContent'](_0xae6d8a(0x259)),_0x5e12ca=await _0x413176['response'];if(_0x5e12ca[_0xae6d8a(0x1de)]())this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x463067[_0xae6d8a(0x25e)]);else throw new Error(_0xae6d8a(0x197));}catch(_0x56b8e9){this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':![],'message':_0x56b8e9[_0xae6d8a(0x1d2)]},_0x463067[_0xae6d8a(0x25e)]);}else{if(_0x463067[_0xae6d8a(0x13b)]===_0xae6d8a(0x14b))try{const _0x38264e=await scanner[_0xae6d8a(0x182)](this,_0x463067[_0xae6d8a(0x1d2)]||{});this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':!![],'devices':_0x38264e},_0x463067[_0xae6d8a(0x25e)]);}catch(_0x232908){this[_0xae6d8a(0x14d)](_0x463067['from'],_0x463067[_0xae6d8a(0x13b)],{'success':![],'error':_0x232908[_0xae6d8a(0x1d2)]},_0x463067[_0xae6d8a(0x25e)]);}else{if(_0x463067[_0xae6d8a(0x13b)]==='updateTopologyMatrix')try{const {matrix:_0x1eed52}=_0x463067[_0xae6d8a(0x1d2)],_0x18f8d4=await this['getStateAsync'](_0xae6d8a(0x17e));if(_0x18f8d4&&_0x18f8d4['val']){const _0x3aeeb5=JSON[_0xae6d8a(0x1cf)](_0x18f8d4[_0xae6d8a(0x14e)]);_0x3aeeb5[_0xae6d8a(0x154)]=_0x1eed52,_0x3aeeb5[_0xae6d8a(0x16f)]=Date['now'](),await this[_0xae6d8a(0x1e3)](_0xae6d8a(0x17e),{'val':JSON[_0xae6d8a(0x20d)](_0x3aeeb5),'ack':!![]}),pythonBridge[_0xae6d8a(0x25d)](this,_0xae6d8a(0x26f),_0x3aeeb5);}this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':!![]},_0x463067[_0xae6d8a(0x25e)]);}catch(_0x1edd38){this[_0xae6d8a(0x20a)][_0xae6d8a(0x1ee)](_0x1edd38);}else{if(_0x463067[_0xae6d8a(0x13b)]===_0xae6d8a(0x272))this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':!![],'dailyDigests':this[_0xae6d8a(0x1d9)]||[],'analysisHistory':this['analysisHistory']||[]},_0x463067[_0xae6d8a(0x25e)]);else{if(_0x463067[_0xae6d8a(0x13b)]===_0xae6d8a(0x24b)){const _0x8caa4e=this['dailyDigests']['length'],_0x5e52fb=new Array(0x18)[_0xae6d8a(0x252)](0x0),_0x420c87=new Date()[_0xae6d8a(0x15f)](0x0,0x0,0x0,0x0);this[_0xae6d8a(0x1fb)]&&this[_0xae6d8a(0x1fb)][_0xae6d8a(0x1d6)](_0x4ff3cc=>{const _0x209550=_0xae6d8a;if(_0x4ff3cc[_0x209550(0x228)]>=_0x420c87){const _0x1fd982=new Date(_0x4ff3cc[_0x209550(0x228)])[_0x209550(0x211)]();if(_0x1fd982>=0x0&&_0x1fd982<0x18)_0x5e52fb[_0x1fd982]++;}});let _0x23582c=![],_0x49f169='',_0x39235a='',_0x314159='';try{const _0x28aeae=await this[_0xae6d8a(0x168)](_0xae6d8a(0x233));if(_0x28aeae&&_0x28aeae[_0xae6d8a(0x14e)]){_0x23582c=!![];const _0x1eee3f=await this[_0xae6d8a(0x168)](_0xae6d8a(0x183));_0x49f169=_0x1eee3f?_0x1eee3f['val']:'';const _0x560bdd=await this[_0xae6d8a(0x168)](_0xae6d8a(0x1b7));_0x39235a=_0x560bdd?_0x560bdd[_0xae6d8a(0x14e)]:'';const _0xe94935=await this['getStateAsync'](_0xae6d8a(0x21b));_0x314159=_0xe94935?_0xe94935[_0xae6d8a(0x14e)]:'';}}catch(_0x2f7722){}const _0x2152d0=await this[_0xae6d8a(0x264)](),_0x50a4af=(this[_0xae6d8a(0x248)][_0xae6d8a(0x229)]||[])[_0xae6d8a(0x155)](_0x14c37f=>_0x14c37f[_0xae6d8a(0x1cd)]),_0x32e199=_0x2152d0&&_0x50a4af;let _0x459b1d='';try{const _0x4ba07=await this[_0xae6d8a(0x168)](_0xae6d8a(0x26d));if(_0x4ba07&&_0x4ba07[_0xae6d8a(0x14e)])_0x459b1d=_0x4ba07[_0xae6d8a(0x14e)];}catch(_0x1d4dc1){}this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':!![],'eventHistory':this[_0xae6d8a(0x1fb)][_0xae6d8a(0x230)](0x0,0xf),'stats':{'digestCount':_0x8caa4e,'isPresent':this['isPresent'],'hourlyActivity':_0x5e52fb,'solarActive':_0x32e199,'presenceWho':_0x459b1d},'automation':{'detected':_0x23582c,'description':_0x49f169,'targetId':_0x39235a,'targetValue':_0x314159}},_0x463067['callback']);}else{if(_0x463067[_0xae6d8a(0x13b)]===_0xae6d8a(0x17d)){const _0x2cc004=await this['getForeignObjectsAsync'](_0xae6d8a(0x134),_0xae6d8a(0x1c9)),_0x32f641=[];if(_0x2cc004)for(const _0x46b06f in _0x2cc004){const _0x152637=_0x2cc004[_0x46b06f],_0x2da0c6=(_0x152637[_0xae6d8a(0x1f8)]&&typeof _0x152637[_0xae6d8a(0x1f8)]['name']===_0xae6d8a(0x175)?_0x152637[_0xae6d8a(0x1f8)]['name']['de']:_0x152637[_0xae6d8a(0x1f8)][_0xae6d8a(0x18a)])||_0x152637[_0xae6d8a(0x1f8)]['name'];_0x32f641['push']({'id':_0x46b06f,'name':_0x2da0c6});}const _0x4d7d20=await this[_0xae6d8a(0x25b)](_0xae6d8a(0x1aa),_0xae6d8a(0x1c9)),_0x1cbd10=[];if(_0x4d7d20)for(const _0x3e1c62 in _0x4d7d20){const _0x2e5057=_0x4d7d20[_0x3e1c62],_0x5f1275=(_0x2e5057[_0xae6d8a(0x1f8)]&&typeof _0x2e5057[_0xae6d8a(0x1f8)][_0xae6d8a(0x18a)]==='object'?_0x2e5057[_0xae6d8a(0x1f8)][_0xae6d8a(0x18a)]['de']:_0x2e5057[_0xae6d8a(0x1f8)][_0xae6d8a(0x18a)])||_0x3e1c62[_0xae6d8a(0x249)]('.')['pop']();_0x1cbd10[_0xae6d8a(0x200)](_0x5f1275);}this['sendTo'](_0x463067['from'],_0x463067['command'],{'success':!![],'enums':_0x32f641,'rooms':_0x1cbd10},_0x463067['callback']);}else{if(_0x463067[_0xae6d8a(0x13b)]===_0xae6d8a(0x1e0))try{let _0x5a8a29=_0xae6d8a(0x17f),_0x59bac0=_0xae6d8a(0x14f);if(this[_0xae6d8a(0x248)][_0xae6d8a(0x1cc)]){const _0x39404b=await recorder[_0xae6d8a(0x203)](this);_0x5a8a29=_0x39404b!==null?_0x39404b+'¬∞C':_0xae6d8a(0x22b);}if(this[_0xae6d8a(0x248)][_0xae6d8a(0x1c6)]){const _0x26cda7=await this[_0xae6d8a(0x159)](_0xae6d8a(0x202)+this[_0xae6d8a(0x248)][_0xae6d8a(0x1c6)]);_0x59bac0=_0x26cda7?_0xae6d8a(0x254):_0xae6d8a(0x174);}this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':!![],'weather':_0x5a8a29,'calendar':_0x59bac0},_0x463067['callback']);}catch(_0x26d15d){this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':![],'error':_0x26d15d[_0xae6d8a(0x1d2)]},_0x463067['callback']);}else{if(_0x463067[_0xae6d8a(0x13b)]===_0xae6d8a(0x1b0))try{const _0x417be9=_0x463067['message'][_0xae6d8a(0x231)],_0xa5c892=await this[_0xae6d8a(0x160)](_0x417be9+_0xae6d8a(0x15b));let _0x2ad787=[];if(_0xa5c892&&_0xa5c892['val']){const _0x3bf1f3=JSON[_0xae6d8a(0x1cf)](_0xa5c892[_0xae6d8a(0x14e)]),_0xa80e8f=new Set();Array[_0xae6d8a(0x270)](_0x3bf1f3)&&_0x3bf1f3[_0xae6d8a(0x1d6)](_0x472d25=>{const _0x8519ff=_0xae6d8a;if(_0x472d25['_calName'])_0xa80e8f['add'](_0x472d25[_0x8519ff(0x238)]);else{if(_0x472d25[_0x8519ff(0x1a3)])_0xa80e8f[_0x8519ff(0x1ce)](_0x472d25['calendarName']);}}),_0x2ad787=Array[_0xae6d8a(0x24a)](_0xa80e8f)[_0xae6d8a(0x18b)]();}if(_0x2ad787[_0xae6d8a(0x19d)]===0x0)_0x2ad787=[_0xae6d8a(0x12f)];this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067['command'],{'success':!![],'names':_0x2ad787},_0x463067[_0xae6d8a(0x25e)]);}catch(_0x284786){this['sendTo'](_0x463067['from'],_0x463067[_0xae6d8a(0x13b)],{'success':![],'error':_0x284786[_0xae6d8a(0x1d2)]},_0x463067['callback']);}else{if(_0x463067['command']===_0xae6d8a(0x246))try{await setup[_0xae6d8a(0x220)](this,'üîî\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0xae6d8a(0x14d)](_0x463067['from'],_0x463067['command'],{'success':!![],'message':_0xae6d8a(0x15d)},_0x463067[_0xae6d8a(0x25e)]);}catch(_0x4fddcc){this[_0xae6d8a(0x20a)]['error'](_0xae6d8a(0x152)+_0x4fddcc[_0xae6d8a(0x1d2)]),this[_0xae6d8a(0x14d)](_0x463067[_0xae6d8a(0x24a)],_0x463067[_0xae6d8a(0x13b)],{'success':![],'message':_0xae6d8a(0x1ba)+_0x4fddcc[_0xae6d8a(0x1d2)]},_0x463067[_0xae6d8a(0x25e)]);}}}}}}}}}}}}}}}}async[a0_0x10193e(0x1ea)](){const _0x44903e=a0_0x10193e;try{const _0xfaac2b=await this[_0x44903e(0x168)](setup[_0x44903e(0x1cb)]);_0xfaac2b&&_0xfaac2b[_0x44903e(0x14e)]&&Object[_0x44903e(0x26b)](setup[_0x44903e(0x278)])[_0x44903e(0x1a0)](_0xfaac2b['val'])?this[_0x44903e(0x26c)]=_0xfaac2b['val']:(this[_0x44903e(0x26c)]=setup[_0x44903e(0x278)][_0x44903e(0x239)],await this[_0x44903e(0x1e3)](setup['SYSTEM_DP_MODE'],{'val':setup[_0x44903e(0x278)]['NORMAL'],'ack':!![]}));}catch(_0x1354d3){this[_0x44903e(0x26c)]=setup[_0x44903e(0x278)]['NORMAL'];}}async['checkWifiPresence'](){const _0xe4a381=a0_0x10193e;try{const _0x513c26=this['config'][_0xe4a381(0x261)]||[];let _0x477ba0=![];const _0x4ea9f6=[];for(const _0x4e1aa8 of _0x513c26){try{const _0x467d36=await this[_0xe4a381(0x160)](_0x4e1aa8);_0x467d36&&(_0x467d36[_0xe4a381(0x14e)]===!![]||_0x467d36['val']===_0xe4a381(0x19f)||_0x467d36[_0xe4a381(0x14e)]===0x1)&&(_0x477ba0=!![],_0x4ea9f6['push'](_0x4e1aa8));}catch(_0x397253){}}return await this[_0xe4a381(0x1e3)](_0xe4a381(0x26d),{'val':_0x4ea9f6[_0xe4a381(0x1ae)](',\x20'),'ack':!![]}),_0x477ba0&&(this[_0xe4a381(0x21a)]&&(this[_0xe4a381(0x20a)][_0xe4a381(0x19b)](_0xe4a381(0x1d3)),recorder[_0xe4a381(0x1d4)](this)),!this[_0xe4a381(0x207)]&&this[_0xe4a381(0x26c)]===setup[_0xe4a381(0x278)]['NORMAL']&&await recorder[_0xe4a381(0x274)](this,!![])),_0x477ba0;}catch(_0x3d6513){return![];}}async[a0_0x10193e(0x1fc)](){const _0x3161a4=a0_0x10193e;this[_0x3161a4(0x20a)][_0x3161a4(0x12d)](_0x3161a4(0x194)),await aiAgent['runGeminiAnalysis'](this),this[_0x3161a4(0x16d)](),this[_0x3161a4(0x137)](),this[_0x3161a4(0x163)]();}async['checkSolarCondition'](){const _0x441cd0=a0_0x10193e,_0x3098b9=[_0x441cd0(0x1b2),_0x441cd0(0x1f9),_0x441cd0(0x215)],_0x5da6a4=['forecast.current.weather',_0x441cd0(0x267),_0x441cd0(0x198)];for(const _0x4b42a9 of _0x3098b9){for(const _0x4bdcf1 of _0x5da6a4){try{const _0x405637=_0x4b42a9+'.'+_0x4bdcf1,_0x15389d=await this[_0x441cd0(0x160)](_0x405637);if(_0x15389d&&_0x15389d[_0x441cd0(0x14e)]){const _0x4f93c6=String(_0x15389d[_0x441cd0(0x14e)])[_0x441cd0(0x13e)]();if(_0x4f93c6[_0x441cd0(0x1a0)]('sonn')||_0x4f93c6['includes'](_0x441cd0(0x161))||_0x4f93c6[_0x441cd0(0x1a0)](_0x441cd0(0x25f))||_0x4f93c6[_0x441cd0(0x1a0)](_0x441cd0(0x21c))||_0x4f93c6[_0x441cd0(0x1a0)](_0x441cd0(0x277)))return!![];}}catch(_0xc44b42){}}}return![];}[a0_0x10193e(0x137)](){const _0x186a53=a0_0x10193e;if(!this[_0x186a53(0x223)])return;try{this[_0x186a53(0x232)](_0x186a53(0x132),(_0x150b74,_0x2312e9)=>{const _0x2264ea=_0x186a53;_0x2312e9&&_0x2312e9[_0x2264ea(0x14e)]&&pythonBridge[_0x2264ea(0x25d)](this,_0x2264ea(0x1f5),{'sequences':JSON['parse'](_0x2312e9[_0x2264ea(0x14e)])});});}catch(_0x3f478a){}}async[a0_0x10193e(0x163)](){const _0x178503=a0_0x10193e;if(!this[_0x178503(0x223)])return;try{const _0x2a91ef=await recorder[_0x178503(0x203)](this);if(_0x2a91ef===null)return;const _0x44c219={},_0x1b808c={},_0x5c7f5c=this['config']['devices']||[];for(const _0x332552 of _0x5c7f5c){if(_0x332552[_0x178503(0x150)]==='temperature'&&_0x332552['location']){const _0x3a8693=this[_0x178503(0x1ef)][_0x332552['id']];if(_0x3a8693!==undefined)_0x44c219[_0x332552[_0x178503(0x241)]]=_0x3a8693;if(_0x332552[_0x178503(0x1cd)])_0x1b808c[_0x332552[_0x178503(0x241)]]=!![];}}const _0x5cb0f3=await this[_0x178503(0x264)]();let _0x1b25e5={};try{const _0x3f73d3=await this['getStateAsync'](_0x178503(0x180));if(_0x3f73d3&&_0x3f73d3[_0x178503(0x14e)])_0x1b25e5=JSON[_0x178503(0x1cf)](_0x3f73d3[_0x178503(0x14e)]);}catch(_0x8521e6){}Object['keys'](_0x44c219)['length']>0x0&&(pythonBridge[_0x178503(0x25d)](this,_0x178503(0x1ab),{'current_temps':_0x44c219,'t_out':_0x2a91ef,'is_sunny':_0x5cb0f3,'solar_flags':_0x1b808c,'warmup_targets':_0x1b25e5}),pythonBridge[_0x178503(0x25d)](this,_0x178503(0x135),{'current_temps':_0x44c219,'t_out':_0x2a91ef,'targets':{}}));}catch(_0x58d592){}}[a0_0x10193e(0x16d)](){const _0x8c47ad=a0_0x10193e;if(!this[_0x8c47ad(0x141)]||this[_0x8c47ad(0x141)]['length']===0x0)return;const _0xb2caef=new Array(0x60)[_0x8c47ad(0x252)](0x0),_0x514444=new Date()[_0x8c47ad(0x15f)](0x0,0x0,0x0,0x0);this[_0x8c47ad(0x141)][_0x8c47ad(0x1d6)](_0x486fbf=>{const _0x269a4a=_0x8c47ad,_0x122e0c=new Date(_0x486fbf[_0x269a4a(0x228)]);if(_0x122e0c[_0x269a4a(0x172)]()>=_0x514444){const _0x3f5387=_0x122e0c[_0x269a4a(0x211)](),_0xf236c6=_0x122e0c['getMinutes'](),_0x21657e=_0x3f5387*0x4+Math['floor'](_0xf236c6/0xf);if(_0x21657e>=0x0&&_0x21657e<0x60)_0xb2caef[_0x21657e]++;}}),this[_0x8c47ad(0x1e3)](_0x8c47ad(0x1a7),{'val':JSON[_0x8c47ad(0x20d)](_0xb2caef),'ack':!![]});}[a0_0x10193e(0x153)](){const _0x580e85=a0_0x10193e;if(!this[_0x580e85(0x1d9)]||this[_0x580e85(0x1d9)]['length']<0x2)return;const _0x270210=this['dailyDigests'][_0x580e85(0x146)](_0x17ffc6=>{const _0x57a8fe=_0x580e85,_0x2e5385=(_0x17ffc6[_0x57a8fe(0x140)]||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x2e5385]||0x32;});pythonBridge[_0x580e85(0x25d)](this,_0x580e85(0x217),{'values':_0x270210,'tag':_0x580e85(0x184)});}async[a0_0x10193e(0x131)](_0x469141){const _0x2f0f5d=a0_0x10193e;if(_0x469141==null||typeof _0x469141!==_0x2f0f5d(0x23e))return;const _0x1e59a0=Date['now']();this['pressureBuffer'][_0x2f0f5d(0x200)]({'ts':_0x1e59a0,'val':_0x469141}),this[_0x2f0f5d(0x166)]=this[_0x2f0f5d(0x166)]['filter'](_0x1fd515=>_0x1e59a0-_0x1fd515['ts']<0x1388);if(this[_0x2f0f5d(0x14a)])return;if(this[_0x2f0f5d(0x248)]['infrasoundArmingId']){const _0x1df8fd=await this[_0x2f0f5d(0x160)](this[_0x2f0f5d(0x248)][_0x2f0f5d(0x1e4)]);if(_0x1df8fd&&!_0x1df8fd[_0x2f0f5d(0x14e)])return;}const _0x475886=this[_0x2f0f5d(0x248)][_0x2f0f5d(0x24f)]||0.04;if(Math[_0x2f0f5d(0x148)](_0x469141)>=_0x475886){this[_0x2f0f5d(0x20a)][_0x2f0f5d(0x1a9)](_0x2f0f5d(0x179)+_0x469141+'\x20hPa\x20(Limit:\x20'+_0x475886+')'),await this[_0x2f0f5d(0x1e3)]('security.alarm_triggered',{'val':!![],'ack':!![]});const _0x51cf9c=this[_0x2f0f5d(0x207)];_0x51cf9c?(this[_0x2f0f5d(0x20a)][_0x2f0f5d(0x19b)](_0x2f0f5d(0x23a)),this[_0x2f0f5d(0x193)](_0x469141,_0x2f0f5d(0x1c1))):(this[_0x2f0f5d(0x193)](_0x469141,'ALARM'),this['sendNotification']('üö®\x20DRUCKWELLEN-ALARM!\x20St√§rke:\x20'+_0x469141+_0x2f0f5d(0x1d1))),this[_0x2f0f5d(0x14a)]=!![],setTimeout(()=>{const _0x126c06=_0x2f0f5d;this[_0x126c06(0x14a)]=![];},0x2710);}}async[a0_0x10193e(0x193)](_0x2e58a3,_0x8b9400=a0_0x10193e(0x258)){const _0x4a2498=a0_0x10193e,_0x464c0e=Date[_0x4a2498(0x251)](),_0x2f878a=this[_0x4a2498(0x248)][_0x4a2498(0x229)]||[];setTimeout(async()=>{const _0x22aad3=_0x4a2498;let _0x1a6f85=null,_0x35da48='Keine\x20Sensor-Aktivit√§t';const _0x486c6f=[],_0x328313=_0x2f878a[_0x22aad3(0x257)](_0x1dc8d8=>_0x1dc8d8[_0x22aad3(0x150)]&&(_0x1dc8d8[_0x22aad3(0x150)]['includes'](_0x22aad3(0x263))||_0x1dc8d8[_0x22aad3(0x150)][_0x22aad3(0x1a0)](_0x22aad3(0x256))||_0x1dc8d8['type'][_0x22aad3(0x1a0)](_0x22aad3(0x176))||_0x1dc8d8[_0x22aad3(0x150)][_0x22aad3(0x1a0)](_0x22aad3(0x17a)))||_0x1dc8d8[_0x22aad3(0x1b3)]&&(_0x1dc8d8[_0x22aad3(0x1b3)]['includes'](_0x22aad3(0x156))||_0x1dc8d8[_0x22aad3(0x1b3)]['includes'](_0x22aad3(0x1f4))));for(const _0x18d990 of _0x328313){try{const _0x2c67c3=await this[_0x22aad3(0x160)](_0x18d990['id']);if(_0x2c67c3){if(_0x2c67c3['ts']>=_0x464c0e-0x7d0){_0x1a6f85=_0x18d990['name']||_0x18d990['id'],_0x35da48=_0x22aad3(0x255)+_0x1a6f85;break;}}}catch(_0x50d99c){}}const _0x3c3a4e={'timestamp':_0x464c0e,'pressure':_0x2e58a3,'isMatch':!!_0x1a6f85,'explanation':_0x35da48,'type':_0x8b9400};await this[_0x22aad3(0x18f)](_0x3c3a4e),this[_0x22aad3(0x20a)]['info']('[Forensics]\x20Infrasound\x20Event\x20correlated:\x20'+(!!_0x1a6f85?_0x22aad3(0x15a):_0x22aad3(0x1dd)));},0x1388);}async[a0_0x10193e(0x15e)](_0x58cd35){const _0x1c560c=a0_0x10193e,_0x4ca01c=Date[_0x1c560c(0x251)](),_0x41ce2f=_0x58cd35[_0x1c560c(0x18a)]||_0x58cd35['id']['split']('.')[_0x1c560c(0x1da)]();let _0x2665d8=0x0;setTimeout(async()=>{const _0x2ba42a=_0x1c560c;this['pressureBuffer'][_0x2ba42a(0x1d6)](_0x37a988=>{const _0x4765f9=_0x2ba42a;_0x37a988['ts']>=_0x4ca01c-0xfa0&&_0x37a988['ts']<=_0x4ca01c+0x3e8&&(Math[_0x4765f9(0x148)](_0x37a988[_0x4765f9(0x14e)])>Math['abs'](_0x2665d8)&&(_0x2665d8=_0x37a988[_0x4765f9(0x14e)]));});const _0x1bdade=this['config'][_0x2ba42a(0x24f)]||0.04,_0x38ba3e=Math[_0x2ba42a(0x148)](_0x2665d8)>=_0x1bdade,_0x4cf7e0={'timestamp':_0x4ca01c,'pressure':_0x2665d8,'isMatch':_0x38ba3e,'explanation':_0x2ba42a(0x143)+_0x41ce2f,'type':_0x2ba42a(0x224)};await this[_0x2ba42a(0x18f)](_0x4cf7e0),this[_0x2ba42a(0x20a)][_0x2ba42a(0x12d)](_0x2ba42a(0x1c0)+_0x41ce2f+_0x2ba42a(0x1e6)+_0x2665d8['toFixed'](0x4)+_0x2ba42a(0x1fa)+_0x1bdade+')');},0x1f4);}async[a0_0x10193e(0x18f)](_0x191398){const _0x5c9292=a0_0x10193e;try{const _0x103408=await this[_0x5c9292(0x168)](_0x5c9292(0x12c));let _0x52429c=[];if(_0x103408&&_0x103408[_0x5c9292(0x14e)])_0x52429c=JSON[_0x5c9292(0x1cf)](_0x103408['val']);_0x52429c[_0x5c9292(0x1c2)](_0x191398);if(_0x52429c['length']>0x14)_0x52429c=_0x52429c[_0x5c9292(0x230)](0x0,0x14);await this[_0x5c9292(0x1e3)](_0x5c9292(0x12c),{'val':JSON[_0x5c9292(0x20d)](_0x52429c),'ack':!![]});}catch(_0x67c7a7){this[_0x5c9292(0x20a)]['error'](_0x5c9292(0x19a)+_0x67c7a7[_0x5c9292(0x1d2)]);}}[a0_0x10193e(0x220)](_0x423e53){const _0x6ed1f8=a0_0x10193e;this[_0x6ed1f8(0x248)][_0x6ed1f8(0x204)]&&this[_0x6ed1f8(0x248)][_0x6ed1f8(0x244)]&&this['sendTo'](this['config'][_0x6ed1f8(0x244)],_0x6ed1f8(0x25d),{'message':_0x423e53,'title':'Nuukanni\x20Security','priority':0x1}),this['config']['notifyTelegramEnabled']&&this[_0x6ed1f8(0x248)]['notifyTelegramInstance']&&this[_0x6ed1f8(0x14d)](this[_0x6ed1f8(0x248)]['notifyTelegramInstance'],_0x6ed1f8(0x25d),{'text':_0x423e53});}}if(require[a0_0x10193e(0x213)]!==module)module[a0_0x10193e(0x162)]=_0x3ce9eb=>new CogniLiving(_0x3ce9eb);else new CogniLiving();function a0_0x52b3(){const _0x161144=['infrasoundArmingId','Kein\x20API\x20Key\x20√ºbergeben','\x20opened.\x20Peak\x20Pressure:\x20','protectAiMemory','triggerDailyDigest','getGenerativeModel','loadSystemMode','apiKey','updateLocation','exitGraceTimer','error','sensorLastValues','Forensic\x20Infrasound\x20Log','briefingJob','models/gemini-flash-latest','\x20Tage)','sensor.door','ANALYZE_GAIT','ltmJob','thermostat','common','accuweather.0','\x20hPa\x20(Threshold:\x20','eventHistory','runAutopilot','modeResetJob','TRAIN_HEALTH','find','push','json','system.adapter.','getOutsideTemperatureNumeric','notifyPushoverEnabled','party','üß†\x20Memory\x20Protection:\x20Restoring\x20persisted\x20AI-Calculations\x20(preventing\x20\x27Cold\x20Start\x27\x20amnesia).','isPresent','checkWifiPresence','cogni-living\x20adapter\x20starting\x20(v','log','setupBriefingScheduler','initSystemConfig','stringify','driftAnalysisTimer','automation.triggerAction','\x20rooms\x20(preventing\x20Cold\x20Start\x20Amnesia).','getHours','checkThermostats','main','runGeminiAnalysis','daswetter.0','genAI','ANALYZE_TREND','./lib/dead_man','bootTime','exitTimer','analysis.automation.targetValue','clear','PYTHON_EXE','Guest\x20Mode','Heizung\x20kann\x20','sendNotification','Gait\x20Speed\x20Calculation\x20Proof','@iobroker/adapter-core','isProVersion','CALIB','healthTrendInterval','./lib/python_bridge','analysisTimer','timestamp','devices','createAllObjects','Daten\x20nicht\x20verf√ºgbar','analysisInterval','entries','\x20sequences...','6860755rfSBLh','slice','instance','getState','analysis.automation.patternDetected','string','value','Sensors\x20used\x20for\x20Gait\x20Analysis','lastAlertState','_calName','NORMAL','[Infrasound]\x20üü°\x20Debug-Mode:\x20Alarm\x20detected\x20but\x20suppressed\x20because\x20presence=true.','apply','communicate.request','floor','number','595869TYsdLv','\x20min\x20ausbleiben.','location','üß†\x20Memory:\x20Cache\x20hydrated\x20with\x20','Graph-Brain\x20Train\x20Error:\x20','notifyPushoverInstance','startService','testNotification','setupModeResetScheduler','config','split','from','getOverviewData','LTM.rawEventLog','sendMorningBriefing','namespace','infrasoundThreshold','analysis.training.triggerComfort','now','fill','createDailyDigest','Verbunden','Erkl√§rt\x20durch:\x20','door','filter','ALARM','Test','analysis.security.learningStatus','getForeignObjectsAsync','unload','send','callback','klar','testApiKey','presenceDevices','637540FkcCHy','window','checkSolarCondition','monitorEnforcements','Memory\x20Hydration\x20Failed:\x20','Current.WeatherText','updateTopology','application/json','geminiApiKey','values','currentSystemMode','system.presenceWho','240627YeQwXq','SET_TOPOLOGY','isArray','telegram','getLtmData','{\x22default\x22:\x2021}','setPresence','isGracePeriodActive','Aktiv\x20(','heiter','SYSTEM_MODES','3377838PfxXmZ','./lib/topology','subscribeForeignStatesAsync','TRAIN_COMFORT','[Infrasound]\x20Subscribing\x20to\x20external\x20sensor:\x20','analysis.energy.warmupTimes','toString','dismissAutomation','analysis.training.triggerSecurity','analysis.security.infrasoundLog','debug','ack','Standard','8QkhiGT','handleInfrasound','LTM.trainingData.sequences','key','enum.functions.*','OPTIMIZE_ENERGY','analysis.health.gaitDebug','triggerGaitAnalysis','LTM.trainingData.thermodynamics','analysis.energy.ventilationAlerts','analysis.energy.pinnForecast','command','10DDVmlY','2iEXjMG','toLowerCase','analysis.automation.autoApply','activityLevel','rawEventLog','Reinforcement\x20Learning\x20Penalties','Fenster\x20ge√∂ffnet:\x20','onUnload','executeAutomationAction','map','‚ù§Ô∏è\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','abs','./lib/scheduler','infrasoundLocked','scanDevices','minDaysForBaseline','sendTo','val','Kein\x20Kalender-Adapter','type','ready','Notification\x20Test\x20Failed:\x20','runPythonHealthCheck','matrix','some','sensor.window','./lib/setup','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','getForeignObjectAsync','MATCH\x20(False\x20Positive)','.data.table',')\x20-\x20Phase\x20D\x20(Forensic\x20Calibration)','Gesendet','analyzeWindowOpening','setHours','getForeignStateAsync','sunny','exports','triggerEnergyPrediction','Active\x20Ventilation\x20Alerts','lastTrackerEventTime','pressureBuffer','cancel','getStateAsync','resetRLPenalty','system.mode','./lib/scanner','431216vdiiDi','updateHealthVector','trackerHeartbeat','updated','checkAndInstall','Key\x20not\x20found\x20or\x20not\x20provided','getTime','subscribeForeignStates','Instanz\x20nicht\x20gefunden','object','magnet','setObjectNotExistsAsync','cleanupGhostInterventions','[Infrasound]\x20üö®\x20ALARM\x20TRIGGERED!\x20Pressure\x20Wave:\x20','reed','./lib/ai_agent','setState','getEnums','analysis.topology.structure','Kein\x20Wetter-Adapter','analysis.energy.warmupTargets','bind','scanForDevices','analysis.automation.description','Activity-Level','LTM.dailyDigests','temperature','state','analysis.trigger','checkLicense','name','sort','startSystem','minutes_safe','analysis.automation.triggerAction','appendToLog','./lib/recorder','infrasoundEnabled','analysis.training.triggerEnergy','triggerInfrasoundCorrelation','ü§ñ\x20Autopilot:\x20Running\x20periodic\x20analysis...','analysis.health.activityTrend','constructor','Keine\x20Antwort\x20von\x20Gemini','NextHours.Location_1.Day_1.current.symbol_desc','setupDriftAnalysisScheduler','[Forensics]\x20Save\x20failed:\x20','info','PINN\x20AI\x20Forecast','length','(((.+)+)+)+$','online','includes','analysis.energy.rlPenalties','Sec-Training\x20started...','calendarName','initHistory','version','3866526YZjuLg','analysis.health.todayVector','cogni-living','warn','enum.rooms.*','PREDICT_ENERGY','Simulation\x20durch\x20Admin\x20(Test)','geminiModel','join','endsWith','getCalendarNames','onMessage','weatherunderground.0','role','scanThermostats','inactivityThresholdHours','subscribeStates','analysis.automation.targetId','search','./lib/automation','Fehler:\x20','checkCalendarTriggers','analysis.energy.insulationScore','onStateChange','LTM.triggerDailyDigest','Adapter','[Calibration]\x20Window\x20','INTERNAL','unshift','SET_LEARNING_MODE','49CdEjiM','infrasoundSensorId','calendarInstance','analysis.energy.warmupSources','General\x20Activity\x20Trend\x20(%)','enum','@google/generative-ai','SYSTEM_DP_MODE','useWeather','isSolar','add','parse','open','\x20hPa.\x20Einbruch\x20wahrscheinlich.','message','WiFi\x20Presence\x20detected.','abortExitTimer','times','forEach','memoryCache','notifyTelegramEnabled','dailyDigests','pop','analysis.training.triggerTopology','setupLtmScheduler','ANOMALY\x20(Real\x20Threat?)','text','initZombies','testContext','scores','sources','setStateAsync'];a0_0x52b3=function(){return _0x161144;};return a0_0x52b3();}