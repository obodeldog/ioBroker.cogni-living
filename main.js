const a0_0x4ab039=a0_0x48c8;(function(_0x4d29be,_0x4485f3){const _0x3bad27=a0_0x48c8,_0x598a06=_0x4d29be();while(!![]){try{const _0x58c04a=parseInt(_0x3bad27(0x179))/0x1*(-parseInt(_0x3bad27(0x14a))/0x2)+-parseInt(_0x3bad27(0x13a))/0x3+-parseInt(_0x3bad27(0x1df))/0x4+-parseInt(_0x3bad27(0x1f2))/0x5*(parseInt(_0x3bad27(0x167))/0x6)+-parseInt(_0x3bad27(0x1c3))/0x7*(parseInt(_0x3bad27(0x1c7))/0x8)+-parseInt(_0x3bad27(0x145))/0x9+parseInt(_0x3bad27(0x190))/0xa;if(_0x58c04a===_0x4485f3)break;else _0x598a06['push'](_0x598a06['shift']());}catch(_0x10aeed){_0x598a06['push'](_0x598a06['shift']());}}}(a0_0xf6db,0xf0869));function a0_0x48c8(_0x3d36f3,_0x43eb4d){const _0x20e333=a0_0xf6db();return a0_0x48c8=function(_0x266f32,_0x3db76e){_0x266f32=_0x266f32-0x11b;let _0xf6dbc=_0x20e333[_0x266f32];return _0xf6dbc;},a0_0x48c8(_0x3d36f3,_0x43eb4d);}const a0_0x3db76e=(function(){let _0x38d3ab=!![];return function(_0x47f064,_0x2b6d12){const _0x2f0c45=_0x38d3ab?function(){if(_0x2b6d12){const _0x56da60=_0x2b6d12['apply'](_0x47f064,arguments);return _0x2b6d12=null,_0x56da60;}}:function(){};return _0x38d3ab=![],_0x2f0c45;};}()),a0_0x266f32=a0_0x3db76e(this,function(){const _0x1bb60e=a0_0x48c8;return a0_0x266f32[_0x1bb60e(0x1c0)]()[_0x1bb60e(0x1c4)]('(((.+)+)+)+$')[_0x1bb60e(0x1c0)]()[_0x1bb60e(0x21a)](a0_0x266f32)[_0x1bb60e(0x1c4)](_0x1bb60e(0x169));});a0_0x266f32();'use strict';const utils=require(a0_0x4ab039(0x1c6)),{GoogleGenerativeAI}=require(a0_0x4ab039(0x1da)),installer=require(a0_0x4ab039(0x11c)),scanner=require(a0_0x4ab039(0x183)),schedulers=require(a0_0x4ab039(0x15d)),topology=require('./lib/topology'),setup=require(a0_0x4ab039(0x186)),recorder=require(a0_0x4ab039(0x1d6)),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0x4ab039(0x130)),deadMan=require(a0_0x4ab039(0x1aa)),automation=require(a0_0x4ab039(0x205)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x4ab039(0x131)]{constructor(_0x439d20){const _0x53d62d=a0_0x4ab039;super({..._0x439d20,'name':_0x53d62d(0x157)}),this[_0x53d62d(0x1d1)]=[],this[_0x53d62d(0x1ba)]=[],this[_0x53d62d(0x172)]=[],this[_0x53d62d(0x20c)]=[],this['sensorLastValues']={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x53d62d(0x194)]=!![],this[_0x53d62d(0x19e)]=null,this[_0x53d62d(0x1d9)]=null,this[_0x53d62d(0x175)]=![],this[_0x53d62d(0x154)]=null,this[_0x53d62d(0x12a)]=null,this['currentSystemMode']=setup[_0x53d62d(0x17b)][_0x53d62d(0x11e)],this[_0x53d62d(0x125)]=![],this['lastAlertState']=![],this[_0x53d62d(0x215)]=null,this['ltmJob']=null,this[_0x53d62d(0x12d)]=null,this[_0x53d62d(0x11f)]=null,this[_0x53d62d(0x12e)]=null,this[_0x53d62d(0x1c9)]=null,this[_0x53d62d(0x1b9)]=null,this[_0x53d62d(0x171)]=![],this[_0x53d62d(0x19a)]=Date[_0x53d62d(0x221)](),this['on'](_0x53d62d(0x1c2),this[_0x53d62d(0x16a)][_0x53d62d(0x1d0)](this)),this['on'](_0x53d62d(0x1ad),this[_0x53d62d(0x188)][_0x53d62d(0x1d0)](this)),this['on'](_0x53d62d(0x1ab),this[_0x53d62d(0x1f5)]['bind'](this)),this['on'](_0x53d62d(0x19d),this[_0x53d62d(0x1e5)][_0x53d62d(0x1d0)](this));}async[a0_0x4ab039(0x16a)](){const _0x19ad96=a0_0x4ab039;this['log'][_0x19ad96(0x20a)](_0x19ad96(0x1e1)+this['version']+_0x19ad96(0x1c8));if(!installer['checkAndInstall'](this,()=>this[_0x19ad96(0x14e)]()))return;}async[a0_0x4ab039(0x14e)](){const _0x52ed52=a0_0x4ab039;await setup['initZombies'](this);try{this[_0x52ed52(0x125)]=await setup[_0x52ed52(0x216)](this['config'][_0x52ed52(0x192)]);}catch(_0x399257){}if(!this[_0x52ed52(0x133)]['inactivityThresholdHours']||this[_0x52ed52(0x133)][_0x52ed52(0x1b8)]<0.1)this['config'][_0x52ed52(0x1b8)]=0xc;await setup['initHistory'](this),await setup[_0x52ed52(0x200)](this);if(this[_0x52ed52(0x133)]['geminiApiKey'])try{this[_0x52ed52(0x154)]=new GoogleGenerativeAI(this[_0x52ed52(0x133)]['geminiApiKey']),this['geminiModel']=this[_0x52ed52(0x154)][_0x52ed52(0x1ff)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x52ed52(0x146)}}),this['log']['info'](_0x52ed52(0x12b));}catch(_0x507ce7){this['log'][_0x52ed52(0x218)]('Gemini\x20Init\x20Error:\x20'+_0x507ce7['message']);}await setup[_0x52ed52(0x213)](this),await this['loadSystemMode'](),await this['setObjectNotExistsAsync'](_0x52ed52(0x1e9),{'type':'state','common':{'name':_0x52ed52(0x1de),'type':_0x52ed52(0x12f),'role':_0x52ed52(0x1d2),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x52ed52(0x1a0),{'type':_0x52ed52(0x1b4),'common':{'name':'Active\x20Ventilation\x20Alerts','type':_0x52ed52(0x12f),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x52ed52(0x1a6)]('analysis.energy.warmupTimes',{'type':_0x52ed52(0x1b4),'common':{'name':_0x52ed52(0x18a),'type':_0x52ed52(0x12f),'role':_0x52ed52(0x1d2),'read':!![],'write':![]},'native':{}}),await this[_0x52ed52(0x1a6)](_0x52ed52(0x165),{'type':_0x52ed52(0x1b4),'common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':_0x52ed52(0x12f),'role':'json','read':!![],'write':!![],'def':_0x52ed52(0x1bf)},'native':{}}),await this[_0x52ed52(0x1a6)]('analysis.energy.rlPenalties',{'type':'state','common':{'name':_0x52ed52(0x137),'type':_0x52ed52(0x12f),'role':_0x52ed52(0x1d2),'read':!![],'write':![],'def':'{}'},'native':{}}),await this['setObjectNotExistsAsync'](_0x52ed52(0x158),{'type':_0x52ed52(0x1b4),'common':{'name':'General\x20Activity\x20Trend\x20(%)','type':_0x52ed52(0x13b),'role':_0x52ed52(0x1ef),'unit':'%','read':!![],'write':![]},'native':{}});try{const _0x372fae=await this['getStateAsync'](_0x52ed52(0x1b2));if(_0x372fae&&_0x372fae[_0x52ed52(0x226)])this[_0x52ed52(0x172)]=JSON[_0x52ed52(0x153)](_0x372fae[_0x52ed52(0x226)]);}catch(_0x265ccc){this['rawEventLog']=[];}try{const _0x3bcc2f=await this['getStateAsync'](_0x52ed52(0x204));if(_0x3bcc2f&&_0x3bcc2f[_0x52ed52(0x226)])this[_0x52ed52(0x20c)]=JSON['parse'](_0x3bcc2f[_0x52ed52(0x226)]);}catch(_0x69e2c7){this[_0x52ed52(0x20c)]=[];}const _0x357db2=this[_0x52ed52(0x20c)][_0x52ed52(0x199)]>=(this['config']['minDaysForBaseline']||0x7)?_0x52ed52(0x18e)+this[_0x52ed52(0x20c)]['length']+_0x52ed52(0x14d):_0x52ed52(0x1f1)+this[_0x52ed52(0x20c)][_0x52ed52(0x199)]+'/'+(this['config']['minDaysForBaseline']||0x7)+')';await this[_0x52ed52(0x139)](_0x52ed52(0x173),{'val':_0x357db2,'ack':!![]}),this['subscribeStates'](_0x52ed52(0x140)),this[_0x52ed52(0x1bb)]('LTM.triggerDailyDigest'),this[_0x52ed52(0x1bb)](_0x52ed52(0x15e)),this[_0x52ed52(0x1bb)](_0x52ed52(0x1a8)),this['subscribeStates'](_0x52ed52(0x15f)),this[_0x52ed52(0x1bb)](_0x52ed52(0x1eb)),this[_0x52ed52(0x1bb)]('analysis.training.triggerSecurity'),this['subscribeStates'](_0x52ed52(0x151)),this[_0x52ed52(0x1bb)](_0x52ed52(0x189)),this['subscribeStates'](_0x52ed52(0x1db)),this['subscribeStates'](_0x52ed52(0x182)),this[_0x52ed52(0x1bb)](_0x52ed52(0x197));const _0x5dd53c=this[_0x52ed52(0x133)][_0x52ed52(0x176)];if(_0x5dd53c)for(const _0x13df33 of _0x5dd53c){await this[_0x52ed52(0x1e2)](_0x13df33['id']);}const _0x2153f4=this[_0x52ed52(0x133)][_0x52ed52(0x202)];if(_0x2153f4)for(const _0x11eaa3 of _0x2153f4){await this[_0x52ed52(0x1e2)](_0x11eaa3);}if(this[_0x52ed52(0x133)][_0x52ed52(0x209)]&&this['config']['notifyTelegramInstance'])await this['subscribeForeignStatesAsync'](this[_0x52ed52(0x133)][_0x52ed52(0x1ae)]+'.communicate.request');setTimeout(()=>this[_0x52ed52(0x187)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x52ed52(0x215)]);const _0x49d3a4=this[_0x52ed52(0x133)][_0x52ed52(0x1a9)]||0xf;_0x49d3a4>0x0&&(this[_0x52ed52(0x215)]=setInterval(()=>{const _0x140494=_0x52ed52;this[_0x140494(0x20d)](),automation[_0x140494(0x208)](this);},_0x49d3a4*0x3c*0x3e8));setTimeout(()=>automation[_0x52ed52(0x208)](this),0x2710);this[_0x52ed52(0x133)]['trackerEnabled']!==![]&&(this[_0x52ed52(0x1c9)]=setInterval(()=>{const _0x4504a3=_0x52ed52;if(this['isProVersion']){const _0x5433d5=Date[_0x4504a3(0x221)](),_0x475871=this[_0x4504a3(0x19a)]||_0x5433d5,_0x16c50b=(_0x5433d5-_0x475871)/0x3e8;_0x16c50b>0x2&&(this[_0x4504a3(0x19a)]=_0x5433d5,pythonBridge[_0x4504a3(0x196)](this,_0x4504a3(0x17f),{'room':null,'dt':_0x16c50b}));}},0xbb8));if(this['healthTrendInterval'])clearInterval(this['healthTrendInterval']);this[_0x52ed52(0x1b9)]=setInterval(()=>{const _0x5194cb=_0x52ed52;this['isProVersion']&&(this[_0x5194cb(0x144)][_0x5194cb(0x20a)](_0x5194cb(0x191)),this['runPythonHealthCheck']());},0x4*0x3c*0x3c*0x3e8),schedulers[_0x52ed52(0x21b)](this,()=>aiAgent[_0x52ed52(0x18c)](this,pythonBridge)),schedulers[_0x52ed52(0x1f9)](this),schedulers[_0x52ed52(0x11b)](this,()=>aiAgent[_0x52ed52(0x1ce)](this)),schedulers[_0x52ed52(0x16c)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge['startService'](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x270ed9=_0x52ed52;await topology[_0x270ed9(0x1f4)](this);try{const _0x1ff86b=await this[_0x270ed9(0x210)](_0x270ed9(0x1e0));if(_0x1ff86b&&_0x1ff86b[_0x270ed9(0x226)])pythonBridge[_0x270ed9(0x196)](this,_0x270ed9(0x162),JSON[_0x270ed9(0x153)](_0x1ff86b[_0x270ed9(0x226)]));}catch(_0x217af2){}this[_0x270ed9(0x1a3)](),this['triggerGaitAnalysis'](),this[_0x270ed9(0x21f)](),this['updateHealthVector']();},0x1388);}[a0_0x4ab039(0x1f5)](_0x1c08f1){const _0x46403d=a0_0x4ab039;if(this[_0x46403d(0x215)])clearInterval(this[_0x46403d(0x215)]);if(this['driftAnalysisTimer'])clearInterval(this[_0x46403d(0x11f)]);if(this[_0x46403d(0x1c9)])clearInterval(this[_0x46403d(0x1c9)]);if(this[_0x46403d(0x1b9)])clearInterval(this[_0x46403d(0x1b9)]);if(this[_0x46403d(0x1c5)])this['ltmJob'][_0x46403d(0x148)]();if(this['modeResetJob'])this[_0x46403d(0x12d)][_0x46403d(0x148)]();if(this[_0x46403d(0x12e)])this['briefingJob']['cancel']();recorder[_0x46403d(0x18b)](this),pythonBridge[_0x46403d(0x212)](this),_0x1c08f1();}async[a0_0x4ab039(0x188)](_0x1c5fef,_0x4ed46f){const _0x38f7e3=a0_0x4ab039;if(!_0x4ed46f||this[_0x38f7e3(0x171)])return;if(_0x1c5fef['includes']('telegram')&&_0x1c5fef[_0x38f7e3(0x1be)](_0x38f7e3(0x211))&&_0x4ed46f[_0x38f7e3(0x226)])return;if(_0x1c5fef===this[_0x38f7e3(0x1a2)]+'.system.mode'){if(_0x4ed46f[_0x38f7e3(0x226)]&&Object['values'](setup[_0x38f7e3(0x17b)])[_0x38f7e3(0x19c)](_0x4ed46f['val'])){this[_0x38f7e3(0x20e)]=_0x4ed46f['val'];if(_0x4ed46f[_0x38f7e3(0x226)]===setup[_0x38f7e3(0x17b)][_0x38f7e3(0x214)])await recorder[_0x38f7e3(0x16e)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x38f7e3(0x125)]){let _0x459bdb=![],_0x219d87=0x0,_0x266af0=_0x38f7e3(0x1bc);if(this[_0x38f7e3(0x20e)]==='party')_0x459bdb=!![],_0x219d87=0x168,_0x266af0='Party\x20Mode';else this[_0x38f7e3(0x20e)]===_0x38f7e3(0x1e7)&&(_0x459bdb=!![],_0x219d87=0x5a0,_0x266af0=_0x38f7e3(0x136));pythonBridge[_0x38f7e3(0x196)](this,'SET_LEARNING_MODE',{'active':_0x459bdb,'duration':_0x219d87,'label':_0x266af0}),await this[_0x38f7e3(0x139)](_0x38f7e3(0x195),{'val':JSON[_0x38f7e3(0x1d4)]({'active':_0x459bdb,'label':_0x266af0,'timestamp':Date[_0x38f7e3(0x221)]()}),'ack':!![]});}}if(!_0x4ed46f[_0x38f7e3(0x21c)])this[_0x38f7e3(0x219)](_0x1c5fef,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x4ed46f[_0x38f7e3(0x21c)]){if(_0x1c5fef[_0x38f7e3(0x19c)](_0x38f7e3(0x140))&&_0x4ed46f[_0x38f7e3(0x226)]){this['setState'](_0x1c5fef,{'val':![],'ack':!![]}),aiAgent[_0x38f7e3(0x132)](this);return;}if(_0x1c5fef[_0x38f7e3(0x19c)](_0x38f7e3(0x170))&&_0x4ed46f[_0x38f7e3(0x226)]){this[_0x38f7e3(0x219)](_0x1c5fef,{'val':![],'ack':!![]});if(this[_0x38f7e3(0x125)])aiAgent[_0x38f7e3(0x18c)](this,pythonBridge);return;}if(_0x1c5fef[_0x38f7e3(0x19c)]('triggerBriefing')&&_0x4ed46f[_0x38f7e3(0x226)]){this['setState'](_0x1c5fef,{'val':![],'ack':!![]}),aiAgent[_0x38f7e3(0x1cc)](this);return;}if(_0x1c5fef[_0x38f7e3(0x19c)](_0x38f7e3(0x166))&&_0x4ed46f[_0x38f7e3(0x226)]){this['setState'](_0x1c5fef,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x1c5fef[_0x38f7e3(0x19c)](_0x38f7e3(0x127))&&_0x4ed46f[_0x38f7e3(0x226)]){this['setState'](_0x1c5fef,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x514ef2=await this[_0x38f7e3(0x210)](_0x38f7e3(0x149));if(_0x514ef2&&_0x514ef2[_0x38f7e3(0x226)]){const _0x546467=JSON[_0x38f7e3(0x153)](_0x514ef2[_0x38f7e3(0x226)]);this[_0x38f7e3(0x139)](_0x38f7e3(0x1dd),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x38f7e3(0x196)](this,'TRAIN_SECURITY',{'sequences':_0x546467});}}catch(_0x2fc147){}return;}if(_0x1c5fef['includes'](_0x38f7e3(0x151))&&_0x4ed46f['val']){this[_0x38f7e3(0x219)](_0x1c5fef,{'val':![],'ack':!![]});if(this[_0x38f7e3(0x125)])try{const _0x4e77d4=await this[_0x38f7e3(0x210)]('LTM.dailyDigests');if(_0x4e77d4&&_0x4e77d4[_0x38f7e3(0x226)])pythonBridge[_0x38f7e3(0x196)](this,'TRAIN_HEALTH',{'digests':JSON[_0x38f7e3(0x153)](_0x4e77d4[_0x38f7e3(0x226)])});}catch(_0x246678){}return;}if(_0x1c5fef[_0x38f7e3(0x19c)](_0x38f7e3(0x189))&&_0x4ed46f['val']){this[_0x38f7e3(0x219)](_0x1c5fef,{'val':![],'ack':!![]});if(this[_0x38f7e3(0x125)])try{const _0x4ff4cd=await this['getStateAsync'](_0x38f7e3(0x164));if(_0x4ff4cd&&_0x4ff4cd[_0x38f7e3(0x226)])pythonBridge[_0x38f7e3(0x196)](this,_0x38f7e3(0x150),{'points':JSON[_0x38f7e3(0x153)](_0x4ff4cd['val'])});}catch(_0x117358){}return;}if(_0x1c5fef[_0x38f7e3(0x19c)](_0x38f7e3(0x1db))&&_0x4ed46f[_0x38f7e3(0x226)]){this[_0x38f7e3(0x219)](_0x1c5fef,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x2a637f=await this[_0x38f7e3(0x210)](_0x38f7e3(0x1b2));if(_0x2a637f&&_0x2a637f[_0x38f7e3(0x226)])pythonBridge[_0x38f7e3(0x196)](this,'TRAIN_COMFORT',{'events':JSON[_0x38f7e3(0x153)](_0x2a637f[_0x38f7e3(0x226)])});}catch(_0x269afe){}return;}if(_0x1c5fef[_0x38f7e3(0x19c)](_0x38f7e3(0x182))&&_0x4ed46f[_0x38f7e3(0x226)]){this['setState'](_0x1c5fef,{'val':![],'ack':!![]}),topology[_0x38f7e3(0x1f4)](this);return;}}if(this[_0x38f7e3(0x133)][_0x38f7e3(0x202)]&&this[_0x38f7e3(0x133)][_0x38f7e3(0x202)][_0x38f7e3(0x19c)](_0x1c5fef)){await this['checkWifiPresence']();return;}const _0x205d15=(this['config'][_0x38f7e3(0x176)]||[])[_0x38f7e3(0x1ed)](_0x50025c=>_0x50025c['id']===_0x1c5fef);if(_0x205d15){const _0x21d77d=await recorder[_0x38f7e3(0x1b7)](this,_0x1c5fef,_0x4ed46f,_0x205d15);_0x21d77d&&_0x21d77d['type']===_0x38f7e3(0x180)&&_0x21d77d['location']&&this[_0x38f7e3(0x125)]&&deadMan['updateLocation'](this,_0x21d77d['location']),(_0x205d15[_0x38f7e3(0x193)]===_0x38f7e3(0x184)||_0x205d15[_0x38f7e3(0x193)]===_0x38f7e3(0x1f7))&&automation[_0x38f7e3(0x1fe)](this);}}async[a0_0x4ab039(0x1e5)](_0x8cc8dd){const _0x5ea773=a0_0x4ab039;if(typeof _0x8cc8dd==='object'&&_0x8cc8dd['message']){if(_0x8cc8dd[_0x5ea773(0x17a)]==='checkThermostats')try{const _0x39349d=await automation[_0x5ea773(0x185)](this);this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![],'results':_0x39349d},_0x8cc8dd[_0x5ea773(0x1f3)]);}catch(_0x27914e){this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':![],'error':_0x27914e[_0x5ea773(0x19d)]},_0x8cc8dd[_0x5ea773(0x1f3)]);}else{if(_0x8cc8dd['command']==='simulateEnergyMPC')try{const {current_temps:_0x531ce3,t_out:_0x2133e5,targets:_0x80602c,t_forecast:_0x2492b5}=_0x8cc8dd[_0x5ea773(0x19d)],_0x340b80=[];let _0x2cf4c4={};try{const _0x11f5b9=await this[_0x5ea773(0x210)]('analysis.energy.insulationScore');if(_0x11f5b9&&_0x11f5b9[_0x5ea773(0x226)]){const _0x4bcf52=JSON[_0x5ea773(0x153)](_0x11f5b9[_0x5ea773(0x226)]);_0x2cf4c4=_0x4bcf52[_0x5ea773(0x1a1)]||_0x4bcf52;}}catch(_0x131d2b){}const _0x1ab4d1=_0x2492b5!==undefined&&_0x2492b5!==null?(_0x2133e5+_0x2492b5)/0x2:_0x2133e5;for(const [_0x3e2cd4,_0x4c11c0]of Object['entries'](_0x531ce3)){const _0x12fe60=_0x80602c[_0x3e2cd4]||0x15;if(_0x4c11c0<=_0x12fe60)continue;let _0x562bf5=_0x2cf4c4[_0x3e2cd4]||-0.5;if(_0x562bf5>=0x0)_0x562bf5=-0.5;const _0x3e5ed7=Math[_0x5ea773(0x1d5)](_0x562bf5),_0x46a876=_0x4c11c0-_0x12fe60;let _0x2586b0=Math[_0x5ea773(0x206)](_0x46a876/_0x3e5ed7*0x3c);const _0x597dc3=_0x4c11c0-_0x2133e5,_0x572003=_0x4c11c0-_0x1ab4d1;if(_0x572003!==0x0&&_0x597dc3!==0x0){const _0x3aee25=_0x597dc3/_0x572003;_0x2586b0=Math[_0x5ea773(0x206)](_0x2586b0*_0x3aee25);}if(_0x2586b0>0xf){if(_0x2586b0>0xf0)_0x2586b0=0xf0;_0x340b80['push']({'room':_0x3e2cd4,'minutes_safe':_0x2586b0,'target':_0x12fe60,'current':_0x4c11c0,'savings_msg':'Heizung\x20kann\x20'+_0x2586b0+_0x5ea773(0x1b0)});}}_0x340b80[_0x5ea773(0x1d7)]((_0x40d204,_0x595624)=>_0x595624['minutes_safe']-_0x40d204[_0x5ea773(0x1a4)]),this[_0x5ea773(0x207)](_0x8cc8dd['from'],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![],'proposals':_0x340b80},_0x8cc8dd[_0x5ea773(0x1f3)]);}catch(_0x5c8ca4){this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd['command'],{'success':![],'error':_0x5c8ca4[_0x5ea773(0x19d)]},_0x8cc8dd[_0x5ea773(0x1f3)]);}else{if(_0x8cc8dd[_0x5ea773(0x17a)]==='resetRLPenalty')try{const _0x40d953=_0x8cc8dd['message']['key'],_0x5edc5c=_0x5ea773(0x126),_0x2db398=await this[_0x5ea773(0x210)](_0x5edc5c);let _0x50c266={};if(_0x2db398&&_0x2db398['val'])try{_0x50c266=JSON[_0x5ea773(0x153)](_0x2db398[_0x5ea773(0x226)]);}catch(_0x169007){}_0x40d953&&_0x50c266[_0x40d953]?(delete _0x50c266[_0x40d953],await this[_0x5ea773(0x139)](_0x5edc5c,{'val':JSON['stringify'](_0x50c266),'ack':!![]}),this[_0x5ea773(0x144)][_0x5ea773(0x20a)]('üéì\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20f√ºr\x20\x27'+_0x40d953+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gel√∂scht.'),this[_0x5ea773(0x207)](_0x8cc8dd['from'],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![]},_0x8cc8dd[_0x5ea773(0x1f3)])):this['sendTo'](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd['command'],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0x8cc8dd[_0x5ea773(0x1f3)]);}catch(_0x572a60){this['sendTo'](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':![],'error':_0x572a60[_0x5ea773(0x19d)]},_0x8cc8dd[_0x5ea773(0x1f3)]);}else{if(_0x8cc8dd['command']===_0x5ea773(0x13e))await this['setStateAsync'](_0x5ea773(0x11d),{'val':![],'ack':!![]}),await this[_0x5ea773(0x139)](_0x5ea773(0x120),{'val':'','ack':!![]}),await this[_0x5ea773(0x139)](_0x5ea773(0x1cb),{'val':'','ack':!![]}),this['sendTo'](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![]},_0x8cc8dd[_0x5ea773(0x1f3)]);else{if(_0x8cc8dd[_0x5ea773(0x17a)]===_0x5ea773(0x1ec)){const {targetId:_0x4c6bdc,targetValue:_0x4f6284}=_0x8cc8dd['message'];await this[_0x5ea773(0x139)](_0x5ea773(0x11d),{'val':!![],'ack':!![]}),await this[_0x5ea773(0x139)](_0x5ea773(0x120),{'val':_0x5ea773(0x159),'ack':!![]}),await this[_0x5ea773(0x139)](_0x5ea773(0x1cb),{'val':_0x4c6bdc,'ack':!![]}),await this[_0x5ea773(0x139)](_0x5ea773(0x1cf),{'val':String(_0x4f6284),'ack':!![]}),this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd['command'],{'success':!![]},_0x8cc8dd[_0x5ea773(0x1f3)]);}else{if(_0x8cc8dd[_0x5ea773(0x17a)]===_0x5ea773(0x135))try{const _0x327338=_0x8cc8dd[_0x5ea773(0x19d)][_0x5ea773(0x177)];if(!_0x327338)throw new Error(_0x5ea773(0x14f));const _0x27a191=new GoogleGenerativeAI(_0x327338),_0x111489=_0x27a191[_0x5ea773(0x1ff)]({'model':GEMINI_MODEL}),_0x8cbd1d=await _0x111489[_0x5ea773(0x201)](_0x5ea773(0x1e3)),_0xeb43bf=await _0x8cbd1d[_0x5ea773(0x19b)];if(_0xeb43bf[_0x5ea773(0x168)]())this['sendTo'](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![],'message':_0x5ea773(0x1f8)},_0x8cc8dd[_0x5ea773(0x1f3)]);else throw new Error(_0x5ea773(0x152));}catch(_0x163697){this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd['command'],{'success':![],'message':_0x163697[_0x5ea773(0x19d)]},_0x8cc8dd[_0x5ea773(0x1f3)]);}else{if(_0x8cc8dd[_0x5ea773(0x17a)]===_0x5ea773(0x155))try{const _0x23d074=await scanner[_0x5ea773(0x13f)](this,_0x8cc8dd[_0x5ea773(0x19d)]||{});this[_0x5ea773(0x207)](_0x8cc8dd['from'],_0x8cc8dd['command'],{'success':!![],'devices':_0x23d074},_0x8cc8dd[_0x5ea773(0x1f3)]);}catch(_0x92417d){this['sendTo'](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':![],'error':_0x92417d[_0x5ea773(0x19d)]},_0x8cc8dd['callback']);}else{if(_0x8cc8dd[_0x5ea773(0x17a)]===_0x5ea773(0x128))try{const {matrix:_0x4e5706}=_0x8cc8dd[_0x5ea773(0x19d)],_0x219304=await this[_0x5ea773(0x210)](_0x5ea773(0x1e0));if(_0x219304&&_0x219304[_0x5ea773(0x226)]){const _0x1fe595=JSON[_0x5ea773(0x153)](_0x219304[_0x5ea773(0x226)]);_0x1fe595['matrix']=_0x4e5706,_0x1fe595['updated']=Date[_0x5ea773(0x221)](),await this[_0x5ea773(0x139)]('analysis.topology.structure',{'val':JSON['stringify'](_0x1fe595),'ack':!![]}),pythonBridge[_0x5ea773(0x196)](this,'SET_TOPOLOGY',_0x1fe595);}this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![]},_0x8cc8dd['callback']);}catch(_0x3e9996){this[_0x5ea773(0x144)][_0x5ea773(0x218)](_0x3e9996);}else{if(_0x8cc8dd[_0x5ea773(0x17a)]===_0x5ea773(0x161))this['sendTo'](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![],'dailyDigests':this[_0x5ea773(0x20c)]||[],'analysisHistory':this[_0x5ea773(0x1ba)]||[]},_0x8cc8dd[_0x5ea773(0x1f3)]);else{if(_0x8cc8dd[_0x5ea773(0x17a)]===_0x5ea773(0x1fd)){const _0x48af46=this[_0x5ea773(0x20c)][_0x5ea773(0x199)],_0x4aa7e8=new Array(0x18)[_0x5ea773(0x13c)](0x0),_0x2139de=new Date()[_0x5ea773(0x1af)](0x0,0x0,0x0,0x0);this[_0x5ea773(0x1d1)]&&this[_0x5ea773(0x1d1)]['forEach'](_0x4c742a=>{const _0x2837ca=_0x5ea773;if(_0x4c742a['timestamp']>=_0x2139de){const _0x2f834b=new Date(_0x4c742a[_0x2837ca(0x203)])[_0x2837ca(0x1d8)]();if(_0x2f834b>=0x0&&_0x2f834b<0x18)_0x4aa7e8[_0x2f834b]++;}});let _0xbb1d04=![],_0xd18eb4='',_0x38a8b1='',_0x1d75c6='';try{const _0x290769=await this[_0x5ea773(0x210)]('analysis.automation.patternDetected');if(_0x290769&&_0x290769[_0x5ea773(0x226)]){_0xbb1d04=!![];const _0x5a5e45=await this[_0x5ea773(0x210)](_0x5ea773(0x120));_0xd18eb4=_0x5a5e45?_0x5a5e45[_0x5ea773(0x226)]:'';const _0xf16c8=await this[_0x5ea773(0x210)](_0x5ea773(0x1cb));_0x38a8b1=_0xf16c8?_0xf16c8[_0x5ea773(0x226)]:'';const _0x1b3ecd=await this['getStateAsync'](_0x5ea773(0x1cf));_0x1d75c6=_0x1b3ecd?_0x1b3ecd[_0x5ea773(0x226)]:'';}}catch(_0x2b20fb){}const _0x4e5feb=await this[_0x5ea773(0x222)](),_0x4ac2f4=(this[_0x5ea773(0x133)][_0x5ea773(0x176)]||[])[_0x5ea773(0x1ca)](_0x54d74e=>_0x54d74e[_0x5ea773(0x124)]),_0x4324c7=_0x4e5feb&&_0x4ac2f4;this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![],'eventHistory':this['eventHistory']['slice'](0x0,0xf),'stats':{'digestCount':_0x48af46,'isPresent':this[_0x5ea773(0x194)],'hourlyActivity':_0x4aa7e8,'solarActive':_0x4324c7},'automation':{'detected':_0xbb1d04,'description':_0xd18eb4,'targetId':_0x38a8b1,'targetValue':_0x1d75c6}},_0x8cc8dd['callback']);}else{if(_0x8cc8dd[_0x5ea773(0x17a)]===_0x5ea773(0x142)){const _0x3a1cad=await this[_0x5ea773(0x1bd)](_0x5ea773(0x1b6),_0x5ea773(0x1fa)),_0x33a525=[];if(_0x3a1cad)for(const _0x5e1b21 in _0x3a1cad){const _0x4fc688=_0x3a1cad[_0x5e1b21],_0x51525b=(_0x4fc688['common']&&typeof _0x4fc688[_0x5ea773(0x1b5)][_0x5ea773(0x141)]===_0x5ea773(0x1b1)?_0x4fc688['common'][_0x5ea773(0x141)]['de']:_0x4fc688['common'][_0x5ea773(0x141)])||_0x4fc688[_0x5ea773(0x1b5)][_0x5ea773(0x141)];_0x33a525[_0x5ea773(0x14b)]({'id':_0x5e1b21,'name':_0x51525b});}const _0x42f56b=await this['getForeignObjectsAsync'](_0x5ea773(0x147),_0x5ea773(0x1fa)),_0x5cbcae=[];if(_0x42f56b)for(const _0x853fcd in _0x42f56b){const _0x19d17e=_0x42f56b[_0x853fcd],_0x311454=(_0x19d17e['common']&&typeof _0x19d17e[_0x5ea773(0x1b5)][_0x5ea773(0x141)]===_0x5ea773(0x1b1)?_0x19d17e[_0x5ea773(0x1b5)]['name']['de']:_0x19d17e[_0x5ea773(0x1b5)][_0x5ea773(0x141)])||_0x853fcd['split']('.')['pop']();_0x5cbcae['push'](_0x311454);}this['sendTo'](_0x8cc8dd['from'],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![],'enums':_0x33a525,'rooms':_0x5cbcae},_0x8cc8dd[_0x5ea773(0x1f3)]);}else{if(_0x8cc8dd[_0x5ea773(0x17a)]===_0x5ea773(0x17c))try{let _0x1514e5='Kein\x20Wetter-Adapter',_0x5075a2=_0x5ea773(0x129);if(this[_0x5ea773(0x133)][_0x5ea773(0x16f)]){const _0x2250d0=await recorder['getOutsideTemperatureNumeric'](this);_0x1514e5=_0x2250d0!==null?_0x2250d0+'¬∞C':_0x5ea773(0x1e6);}if(this[_0x5ea773(0x133)][_0x5ea773(0x134)]){const _0x55fc4a=await this[_0x5ea773(0x17d)](_0x5ea773(0x20b)+this[_0x5ea773(0x133)][_0x5ea773(0x134)]);_0x5075a2=_0x55fc4a?_0x5ea773(0x1dc):_0x5ea773(0x15b);}this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![],'weather':_0x1514e5,'calendar':_0x5075a2},_0x8cc8dd[_0x5ea773(0x1f3)]);}catch(_0x49d2d7){this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':![],'error':_0x49d2d7['message']},_0x8cc8dd[_0x5ea773(0x1f3)]);}else{if(_0x8cc8dd[_0x5ea773(0x17a)]==='getCalendarNames')try{const _0x544bc9=_0x8cc8dd[_0x5ea773(0x19d)][_0x5ea773(0x18f)],_0x1f919c=await this[_0x5ea773(0x217)](_0x544bc9+_0x5ea773(0x225));let _0x33475c=[];if(_0x1f919c&&_0x1f919c['val']){const _0x452d0f=JSON[_0x5ea773(0x153)](_0x1f919c['val']),_0xbb9fa7=new Set();Array[_0x5ea773(0x160)](_0x452d0f)&&_0x452d0f[_0x5ea773(0x1f6)](_0x5bbf59=>{const _0x79d1c5=_0x5ea773;if(_0x5bbf59[_0x79d1c5(0x1f0)])_0xbb9fa7[_0x79d1c5(0x181)](_0x5bbf59['_calName']);else{if(_0x5bbf59[_0x79d1c5(0x1fc)])_0xbb9fa7[_0x79d1c5(0x181)](_0x5bbf59[_0x79d1c5(0x1fc)]);}}),_0x33475c=Array[_0x5ea773(0x1a5)](_0xbb9fa7)[_0x5ea773(0x1d7)]();}if(_0x33475c[_0x5ea773(0x199)]===0x0)_0x33475c=['Standard'];this['sendTo'](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![],'names':_0x33475c},_0x8cc8dd['callback']);}catch(_0x9862cb){this['sendTo'](_0x8cc8dd['from'],_0x8cc8dd[_0x5ea773(0x17a)],{'success':![],'error':_0x9862cb[_0x5ea773(0x19d)]},_0x8cc8dd[_0x5ea773(0x1f3)]);}else{if(_0x8cc8dd['command']===_0x5ea773(0x1e8))try{await setup[_0x5ea773(0x1ac)](this,_0x5ea773(0x1fb),![],![]),this[_0x5ea773(0x207)](_0x8cc8dd[_0x5ea773(0x1a5)],_0x8cc8dd[_0x5ea773(0x17a)],{'success':!![],'message':_0x5ea773(0x198)},_0x8cc8dd[_0x5ea773(0x1f3)]);}catch(_0xbd1d2c){this[_0x5ea773(0x144)][_0x5ea773(0x218)](_0x5ea773(0x1ea)+_0xbd1d2c['message']),this['sendTo'](_0x8cc8dd['from'],_0x8cc8dd[_0x5ea773(0x17a)],{'success':![],'message':'Fehler:\x20'+_0xbd1d2c[_0x5ea773(0x19d)]},_0x8cc8dd[_0x5ea773(0x1f3)]);}}}}}}}}}}}}}}}}async[a0_0x4ab039(0x121)](){const _0x4d9f4f=a0_0x4ab039;try{const _0xa0d52e=await this['getStateAsync'](setup[_0x4d9f4f(0x178)]);_0xa0d52e&&_0xa0d52e['val']&&Object[_0x4d9f4f(0x163)](setup['SYSTEM_MODES'])[_0x4d9f4f(0x19c)](_0xa0d52e['val'])?this[_0x4d9f4f(0x20e)]=_0xa0d52e[_0x4d9f4f(0x226)]:(this['currentSystemMode']=setup[_0x4d9f4f(0x17b)]['NORMAL'],await this[_0x4d9f4f(0x139)](setup['SYSTEM_DP_MODE'],{'val':setup[_0x4d9f4f(0x17b)]['NORMAL'],'ack':!![]}));}catch(_0x2260ce){this['currentSystemMode']=setup['SYSTEM_MODES'][_0x4d9f4f(0x11e)];}}async[a0_0x4ab039(0x187)](){const _0x4ee2cf=a0_0x4ab039;try{const _0x1d12fd=this['config']['presenceDevices']||[];let _0xe33c34=![];const _0x54ee8e=[];for(const _0x45c670 of _0x1d12fd){try{const _0x37c3ae=await this[_0x4ee2cf(0x217)](_0x45c670);_0x37c3ae&&(_0x37c3ae[_0x4ee2cf(0x226)]===!![]||_0x37c3ae[_0x4ee2cf(0x226)]==='online'||_0x37c3ae[_0x4ee2cf(0x226)]===0x1)&&(_0xe33c34=!![],_0x54ee8e['push'](_0x45c670));}catch(_0x360953){}}return await this[_0x4ee2cf(0x139)]('system.presenceWho',{'val':_0x54ee8e[_0x4ee2cf(0x1b3)](',\x20'),'ack':!![]}),_0xe33c34&&(this[_0x4ee2cf(0x19e)]&&(this['log'][_0x4ee2cf(0x20a)](_0x4ee2cf(0x122)),recorder['abortExitTimer'](this)),!this['isPresent']&&this[_0x4ee2cf(0x20e)]===setup[_0x4ee2cf(0x17b)][_0x4ee2cf(0x11e)]&&await recorder[_0x4ee2cf(0x16e)](this,!![])),_0xe33c34;}catch(_0x56889b){return![];}}async[a0_0x4ab039(0x20d)](){const _0x1f5287=a0_0x4ab039;this[_0x1f5287(0x144)]['debug'](_0x1f5287(0x20f)),await aiAgent[_0x1f5287(0x132)](this),this[_0x1f5287(0x224)](),this[_0x1f5287(0x174)](),this['triggerEnergyPrediction']();}async[a0_0x4ab039(0x222)](){const _0x30e039=a0_0x4ab039,_0x2f37ad=['weatherunderground.0',_0x30e039(0x143),_0x30e039(0x1e4)],_0x316ebe=[_0x30e039(0x1c1),_0x30e039(0x21d),_0x30e039(0x13d)];for(const _0x5a8f42 of _0x2f37ad){for(const _0x39edb2 of _0x316ebe){try{const _0x802839=_0x5a8f42+'.'+_0x39edb2,_0x5ea4cd=await this['getForeignStateAsync'](_0x802839);if(_0x5ea4cd&&_0x5ea4cd['val']){const _0x4cbd8c=String(_0x5ea4cd[_0x30e039(0x226)])[_0x30e039(0x1ee)]();if(_0x4cbd8c['includes'](_0x30e039(0x1d3))||_0x4cbd8c[_0x30e039(0x19c)](_0x30e039(0x19f))||_0x4cbd8c[_0x30e039(0x19c)](_0x30e039(0x16d))||_0x4cbd8c[_0x30e039(0x19c)](_0x30e039(0x16b))||_0x4cbd8c[_0x30e039(0x19c)](_0x30e039(0x156)))return!![];}}catch(_0x12e02e){}}}return![];}[a0_0x4ab039(0x174)](){const _0x3c6118=a0_0x4ab039;if(!this[_0x3c6118(0x125)])return;try{this[_0x3c6118(0x123)](_0x3c6118(0x149),(_0x1011d8,_0x36f37e)=>{const _0x2de3c1=_0x3c6118;_0x36f37e&&_0x36f37e['val']&&pythonBridge['send'](this,_0x2de3c1(0x12c),{'sequences':JSON[_0x2de3c1(0x153)](_0x36f37e[_0x2de3c1(0x226)])});});}catch(_0x2b5105){}}async[a0_0x4ab039(0x21f)](){const _0x572d55=a0_0x4ab039;if(!this['isProVersion'])return;try{const _0x5638a4=await recorder[_0x572d55(0x17e)](this);if(_0x5638a4===null)return;const _0x54b0a7={},_0x4825c0={},_0x3941ec=this[_0x572d55(0x133)][_0x572d55(0x176)]||[];for(const _0x32fa40 of _0x3941ec){if(_0x32fa40[_0x572d55(0x193)]===_0x572d55(0x184)&&_0x32fa40[_0x572d55(0x18d)]){const _0x501d4b=this[_0x572d55(0x21e)][_0x32fa40['id']];if(_0x501d4b!==undefined)_0x54b0a7[_0x32fa40['location']]=_0x501d4b;if(_0x32fa40[_0x572d55(0x124)])_0x4825c0[_0x32fa40[_0x572d55(0x18d)]]=!![];}}const _0x3100b8=await this[_0x572d55(0x222)]();let _0x5dbf3f={};try{const _0x304917=await this[_0x572d55(0x210)](_0x572d55(0x165));if(_0x304917&&_0x304917[_0x572d55(0x226)])_0x5dbf3f=JSON[_0x572d55(0x153)](_0x304917[_0x572d55(0x226)]);}catch(_0x6712a8){}Object[_0x572d55(0x138)](_0x54b0a7)[_0x572d55(0x199)]>0x0&&(pythonBridge[_0x572d55(0x196)](this,'PREDICT_ENERGY',{'current_temps':_0x54b0a7,'t_out':_0x5638a4,'is_sunny':_0x3100b8,'solar_flags':_0x4825c0,'warmup_targets':_0x5dbf3f}),pythonBridge[_0x572d55(0x196)](this,_0x572d55(0x14c),{'current_temps':_0x54b0a7,'t_out':_0x5638a4,'targets':{}}));}catch(_0x3580aa){}}[a0_0x4ab039(0x224)](){const _0x99cc72=a0_0x4ab039;if(!this['rawEventLog']||this[_0x99cc72(0x172)][_0x99cc72(0x199)]===0x0)return;const _0x380952=new Array(0x60)[_0x99cc72(0x13c)](0x0),_0x224030=new Date()[_0x99cc72(0x1af)](0x0,0x0,0x0,0x0);this[_0x99cc72(0x172)][_0x99cc72(0x1f6)](_0x20f894=>{const _0x55a9b0=_0x99cc72,_0x4f03ae=new Date(_0x20f894[_0x55a9b0(0x203)]);if(_0x4f03ae[_0x55a9b0(0x1a7)]()>=_0x224030){const _0x25c11e=_0x4f03ae[_0x55a9b0(0x1d8)](),_0x3eaabb=_0x4f03ae[_0x55a9b0(0x220)](),_0x4a6d14=_0x25c11e*0x4+Math[_0x55a9b0(0x206)](_0x3eaabb/0xf);if(_0x4a6d14>=0x0&&_0x4a6d14<0x60)_0x380952[_0x4a6d14]++;}}),this[_0x99cc72(0x139)](_0x99cc72(0x15a),{'val':JSON[_0x99cc72(0x1d4)](_0x380952),'ack':!![]});}[a0_0x4ab039(0x1a3)](){const _0x2134f1=a0_0x4ab039;if(!this[_0x2134f1(0x20c)]||this[_0x2134f1(0x20c)]['length']<0x2)return;const _0xbcdeb0=this[_0x2134f1(0x20c)]['map'](_0x576d0d=>{const _0x4edfa1=_0x2134f1,_0x1cfa88=(_0x576d0d[_0x4edfa1(0x15c)]||'')[_0x4edfa1(0x1ee)]();return ACTIVITY_LEVEL_MAP[_0x1cfa88]||0x32;});pythonBridge[_0x2134f1(0x196)](this,'ANALYZE_TREND',{'values':_0xbcdeb0,'tag':_0x2134f1(0x1cd)});}}if(require[a0_0x4ab039(0x223)]!==module)module['exports']=_0x45a668=>new CogniLiving(_0x45a668);else new CogniLiving();function a0_0xf6db(){const _0x9f4a6=['activityLevel','./lib/scheduler','system.mode','analysis.automation.triggerAction','isArray','getLtmData','SET_TOPOLOGY','values','LTM.trainingData.thermodynamics','analysis.energy.warmupTargets','automation.triggerAction','5363574rfNCkO','text','(((.+)+)+)+$','onReady','clear','setupBriefingScheduler','klar','setPresence','useWeather','triggerDailyDigest','dependencyInstallInProgress','rawEventLog','LTM.baselineStatus','triggerGaitAnalysis','isGracePeriodActive','devices','apiKey','SYSTEM_DP_MODE','83OhMrvA','command','SYSTEM_MODES','testContext','getForeignObjectAsync','getOutsideTemperatureNumeric','TRACK_EVENT','motion','add','analysis.training.triggerTopology','./lib/scanner','temperature','scanThermostats','./lib/setup','checkWifiPresence','onStateChange','analysis.training.triggerEnergy','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','abortExitTimer','createDailyDigest','location','Aktiv\x20(','instance','71149120aGgcsX','‚ù§Ô∏è\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','licenseKey','type','isPresent','analysis.security.learningStatus','send','analysis.energy.mpcActive','Gesendet','length','lastTrackerEventTime','response','includes','message','exitTimer','sunny','analysis.energy.ventilationAlerts','scores','namespace','runPythonHealthCheck','minutes_safe','from','setObjectNotExistsAsync','getTime','analysis.triggerBriefing','analysisInterval','./lib/dead_man','unload','sendNotification','stateChange','notifyTelegramInstance','setHours','\x20min\x20ausbleiben.','object','LTM.rawEventLog','join','state','common','enum.functions.*','processSensorEvent','inactivityThresholdHours','healthTrendInterval','analysisHistory','subscribeStates','manual','getForeignObjectsAsync','endsWith','{\x22default\x22:\x2021}','toString','forecast.current.weather','ready','319746HhkKws','search','ltmJob','@iobroker/adapter-core','24jfwfjp',')\x20-\x20Phase\x20D\x20(Data\x20Separation)','trackerHeartbeat','some','analysis.automation.targetId','sendMorningBriefing','Activity-Level','runBaselineDriftAnalysis','analysis.automation.targetValue','bind','eventHistory','json','sonn','stringify','abs','./lib/recorder','sort','getHours','exitGraceTimer','@google/generative-ai','analysis.training.triggerComfort','Verbunden','analysis.training.status','PINN\x20AI\x20Forecast','6548512KnJxvZ','analysis.topology.structure','cogni-living\x20adapter\x20starting\x20(v','subscribeForeignStatesAsync','Test','daswetter.0','onMessage','Daten\x20nicht\x20verf√ºgbar','guest','testNotification','analysis.energy.pinnForecast','Notification\x20Test\x20Failed:\x20','analysis.automation.autoApply','simulateButler','find','toLowerCase','value','_calName','Lernphase\x20(','5VTmzWO','callback','updateTopology','onUnload','forEach','thermostat','Verbindung\x20erfolgreich!','setupModeResetScheduler','enum','üîî\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','calendarName','getOverviewData','cleanupGhostInterventions','getGenerativeModel','initSystemConfig','generateContent','presenceDevices','timestamp','LTM.dailyDigests','./lib/automation','floor','sendTo','checkCalendarTriggers','notifyTelegramEnabled','info','system.adapter.','dailyDigests','runAutopilot','currentSystemMode','ü§ñ\x20Autopilot:\x20Running\x20periodic\x20analysis...','getStateAsync','communicate.request','stopService','createAllObjects','VACATION','analysisTimer','checkLicense','getForeignStateAsync','error','setState','constructor','setupLtmScheduler','ack','Current.WeatherText','sensorLastValues','triggerEnergyPrediction','getMinutes','now','checkSolarCondition','main','updateHealthVector','.data.table','val','setupDriftAnalysisScheduler','./lib/installer','analysis.automation.patternDetected','NORMAL','driftAnalysisTimer','analysis.automation.description','loadSystemMode','WiFi\x20Presence\x20detected.','getState','isSolar','isProVersion','analysis.energy.rlPenalties','analysis.training.triggerSecurity','updateTopologyMatrix','Kein\x20Kalender-Adapter','geminiModel','Gemini\x20AI\x20initialized.','ANALYZE_GAIT','modeResetJob','briefingJob','string','./lib/ai_agent','Adapter','runGeminiAnalysis','config','calendarInstance','testApiKey','Guest\x20Mode','Reinforcement\x20Learning\x20Penalties','keys','setStateAsync','1786698UctVYQ','number','fill','NextHours.Location_1.Day_1.current.symbol_desc','dismissAutomation','scanForDevices','analysis.trigger','name','getEnums','accuweather.0','log','14155551DjrXRS','application/json','enum.rooms.*','cancel','LTM.trainingData.sequences','31162nbYaDQ','push','OPTIMIZE_ENERGY','\x20Tage)','startSystem','Kein\x20API\x20Key\x20√ºbergeben','TRAIN_ENERGY','analysis.training.triggerHealth','Keine\x20Antwort\x20von\x20Gemini','parse','genAI','scanDevices','heiter','cogni-living','analysis.health.activityTrend','Simulation\x20durch\x20Admin\x20(Test)','analysis.health.todayVector','Instanz\x20nicht\x20gefunden'];a0_0xf6db=function(){return _0x9f4a6;};return a0_0xf6db();}