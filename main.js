const a0_0x430bdf=a0_0x5e54;function a0_0x516c(){const _0x374ea7=['Keine\x20Antwort\x20von\x20Gemini','getOutsideTemperatureNumeric','scores','ANALYZE_GAIT','TRACK_EVENT','updateTopology','{\x22default\x22:\x2021}','enum.rooms.*','version','timestamp','444cAbmCF','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','inactivityThresholdHours','dailyDigests','Sec-Training\x20started...','devices','NORMAL','Gemini\x20Init\x20Error:\x20','isArray','pop','Adapter','analysis.automation.description','LTM.dailyDigests','updated','namespace','Gemini\x20AI\x20initialized.','./lib/ai_agent','startService','map','sort','getState','checkWifiPresence','3085116TCLgJC','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','lastTrackerEventTime','sensorLastValues','temperature','./lib/installer','triggerGaitAnalysis','search','./lib/scanner','toString','useWeather','ANALYZE_TREND','executeAutomationAction','analysisInterval','checkThermostats','type','scanThermostats','scanDevices','info','getLtmData','analysis.training.triggerComfort','isProVersion','setState','analysis.automation.targetValue','setHours','SET_LEARNING_MODE','object','21DFCPTa','subscribeStates','bind','clear','matrix','132998TFmUom','analysis.automation.autoApply','analysis.training.triggerEnergy','TRAIN_ENERGY','forEach','slice','fill','now','getOverviewData','apply','Active\x20Ventilation\x20Alerts','rawEventLog','constructor','stateChange','getHours','./lib/python_bridge','length','setObjectNotExistsAsync','analysis.training.triggerSecurity','calendarInstance','SYSTEM_DP_MODE','LTM.rawEventLog','geminiApiKey','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','WiFi\x20Presence\x20detected.','createDailyDigest','guest','LTM.triggerDailyDigest','analysis.trigger','testNotification','val','add','entries','toLowerCase','abortExitTimer','PREDICT_ENERGY','genAI','ack','.communicate.request','sendTo','message','instance','ltmJob','onStateChange','debug','isSolar','sunny','cogni-living\x20adapter\x20starting\x20(v','Warm-Up\x20Target\x20Temps\x20(JSON)','2593152IvQpin','config','analysis.energy.ventilationAlerts','trackerHeartbeat','abs','35495ztFueB','analysis.energy.pinnForecast','getGenerativeModel','some','Verbunden','trackerEnabled','presenceDevices','testContext','analysis.training.status','getMinutes','OPTIMIZE_ENERGY','notifyTelegramEnabled','callback','telegram','checkSolarCondition','system.mode','PINN\x20AI\x20Forecast','motion','./lib/recorder','enum.functions.*','string','analysis.automation.patternDetected','generateContent','eventHistory','4276083GVqqNu','error','loadSystemMode','floor','setupDriftAnalysisScheduler','runBaselineDriftAnalysis','setupModeResetScheduler','SET_TOPOLOGY','calendarName','analysisTimer','runPythonHealthCheck','isPresent','./lib/scheduler','driftAnalysisTimer','Gesendet','LTM.trainingData.thermodynamics','getForeignObjectAsync','stringify','LTM.trainingData.sequences','VACATION','daswetter.0','getForeignObjectsAsync','keys','getTime','name','notifyTelegramInstance','Fehler:\x20','@google/generative-ai','runGeminiAnalysis','from','setPresence','Standard','startSystem','dismissAutomation','setStateAsync','analysis.automation.targetId','application/json','automation.triggerAction','getForeignStateAsync','minDaysForBaseline','log','sonn','onReady','Heizung\x20kann\x20','41079618TcxIDQ','updateTopologyMatrix','SYSTEM_MODES','analysis.health.todayVector','enum','Daten\x20nicht\x20verfÃ¼gbar','exitGraceTimer','split','json','analysis.topology.structure','analysisHistory','updateLocation','briefingJob','ready','./lib/setup','Kein\x20API\x20Key\x20Ã¼bergeben','endsWith','LTM.baselineStatus','cancel','Notification\x20Test\x20Failed:\x20','Kein\x20Wetter-Adapter','join','push','simulateEnergyMPC','sendNotification','TRAIN_COMFORT','common','modeResetJob','onMessage','stopService','models/gemini-flash-latest','analysis.energy.warmupTargets','parse','response','values','\x20min\x20ausbleiben.','(((.+)+)+)+$','Kein\x20Kalender-Adapter','_calName','analysis.training.triggerTopology','location','Party\x20Mode','cogni-living','analysis.training.triggerHealth','checkCalendarTriggers','updateHealthVector','1768512ORmBCE','exports','triggerEnergyPrediction','getStateAsync','find','\x20Tage)','send','state','exitTimer','checkLicense','command','isGracePeriodActive','lastAlertState','PYTHON_EXE','initHistory','Simulation\x20durch\x20Admin\x20(Test)','communicate.request','onUnload','runAutopilot','setupBriefingScheduler','triggerBriefing','system.presenceWho','dependencyInstallInProgress','currentSystemMode','heiter','Verbindung\x20erfolgreich!','initZombies','initSystemConfig','includes','accuweather.0'];a0_0x516c=function(){return _0x374ea7;};return a0_0x516c();}(function(_0x226204,_0x2909ac){const _0x454afe=a0_0x5e54,_0x25418c=_0x226204();while(!![]){try{const _0x9a302f=-parseInt(_0x454afe(0x208))/0x1+-parseInt(_0x454afe(0x1e8))/0x2+-parseInt(_0x454afe(0x256))/0x3+-parseInt(_0x454afe(0x2d8))/0x4*(parseInt(_0x454afe(0x23e))/0x5)+-parseInt(_0x454afe(0x239))/0x6+parseInt(_0x454afe(0x203))/0x7*(parseInt(_0x454afe(0x2b0))/0x8)+parseInt(_0x454afe(0x282))/0x9;if(_0x9a302f===_0x2909ac)break;else _0x25418c['push'](_0x25418c['shift']());}catch(_0x1386ca){_0x25418c['push'](_0x25418c['shift']());}}}(a0_0x516c,0xdd500));const a0_0x464aac=(function(){let _0x19806f=!![];return function(_0x5345ee,_0x477b2d){const _0x372a92=_0x19806f?function(){const _0x3fb3bb=a0_0x5e54;if(_0x477b2d){const _0x469698=_0x477b2d[_0x3fb3bb(0x211)](_0x5345ee,arguments);return _0x477b2d=null,_0x469698;}}:function(){};return _0x19806f=![],_0x372a92;};}()),a0_0x5c6a41=a0_0x464aac(this,function(){const _0x2f903a=a0_0x5e54;return a0_0x5c6a41[_0x2f903a(0x1f1)]()[_0x2f903a(0x1ef)](_0x2f903a(0x2a6))[_0x2f903a(0x1f1)]()[_0x2f903a(0x214)](a0_0x5c6a41)['search'](_0x2f903a(0x2a6));});a0_0x5c6a41();function a0_0x5e54(_0x7bd90f,_0x45139c){const _0x14fcdc=a0_0x516c();return a0_0x5e54=function(_0x5c6a41,_0x464aac){_0x5c6a41=_0x5c6a41-0x1dc;let _0x516c57=_0x14fcdc[_0x5c6a41];return _0x516c57;},a0_0x5e54(_0x7bd90f,_0x45139c);}'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x430bdf(0x271)),installer=require(a0_0x430bdf(0x1ed)),scanner=require(a0_0x430bdf(0x1f0)),schedulers=require(a0_0x430bdf(0x262)),topology=require('./lib/topology'),setup=require(a0_0x430bdf(0x290)),recorder=require(a0_0x430bdf(0x250)),pythonBridge=require(a0_0x430bdf(0x217)),aiAgent=require(a0_0x430bdf(0x1e2)),deadMan=require('./lib/dead_man'),automation=require('./lib/automation'),GEMINI_MODEL=a0_0x430bdf(0x2a0),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x430bdf(0x1dc)]{constructor(_0x32bd40){const _0x46934f=a0_0x430bdf;super({..._0x32bd40,'name':_0x46934f(0x2ac)}),this[_0x46934f(0x255)]=[],this['analysisHistory']=[],this[_0x46934f(0x213)]=[],this[_0x46934f(0x2db)]=[],this[_0x46934f(0x1eb)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x46934f(0x261)]=!![],this[_0x46934f(0x2b8)]=null,this[_0x46934f(0x288)]=null,this[_0x46934f(0x2bb)]=![],this[_0x46934f(0x22c)]=null,this['geminiModel']=null,this[_0x46934f(0x2c7)]=setup[_0x46934f(0x284)][_0x46934f(0x2de)],this[_0x46934f(0x1fd)]=![],this[_0x46934f(0x2bc)]=![],this[_0x46934f(0x25f)]=null,this[_0x46934f(0x232)]=null,this['modeResetJob']=null,this[_0x46934f(0x263)]=null,this['briefingJob']=null,this[_0x46934f(0x2c6)]=![],this['trackerHeartbeat']=null,this[_0x46934f(0x1ea)]=Date[_0x46934f(0x20f)](),this['on'](_0x46934f(0x28f),this[_0x46934f(0x280)][_0x46934f(0x205)](this)),this['on'](_0x46934f(0x215),this[_0x46934f(0x233)]['bind'](this)),this['on']('unload',this[_0x46934f(0x2c1)][_0x46934f(0x205)](this)),this['on']('message',this[_0x46934f(0x29e)]['bind'](this));}async[a0_0x430bdf(0x280)](){const _0x4e819e=a0_0x430bdf;this[_0x4e819e(0x27e)][_0x4e819e(0x1fa)](_0x4e819e(0x237)+this[_0x4e819e(0x2d6)]+')\x20-\x20Phase\x20D\x20(Evolution)');if(!installer['checkAndInstall'](this,()=>this['startSystem']()))return;}async[a0_0x430bdf(0x276)](){const _0x1df890=a0_0x430bdf;await setup[_0x1df890(0x2ca)](this);try{this[_0x1df890(0x1fd)]=await setup[_0x1df890(0x2b9)](this[_0x1df890(0x23a)]['licenseKey']);}catch(_0xd8f25d){}if(!this[_0x1df890(0x23a)][_0x1df890(0x2da)]||this[_0x1df890(0x23a)][_0x1df890(0x2da)]<0.1)this[_0x1df890(0x23a)][_0x1df890(0x2da)]=0xc;await setup[_0x1df890(0x2be)](this),await setup[_0x1df890(0x2cb)](this);if(this['config'][_0x1df890(0x21e)])try{this[_0x1df890(0x22c)]=new GoogleGenerativeAI(this[_0x1df890(0x23a)][_0x1df890(0x21e)]),this['geminiModel']=this[_0x1df890(0x22c)][_0x1df890(0x240)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x1df890(0x27a)}}),this['log'][_0x1df890(0x1fa)](_0x1df890(0x1e1));}catch(_0x2a479e){this[_0x1df890(0x27e)][_0x1df890(0x257)](_0x1df890(0x2df)+_0x2a479e[_0x1df890(0x230)]);}await setup['createAllObjects'](this),await this[_0x1df890(0x258)](),await this[_0x1df890(0x219)](_0x1df890(0x23f),{'type':_0x1df890(0x2b7),'common':{'name':_0x1df890(0x24e),'type':_0x1df890(0x252),'role':_0x1df890(0x28a),'read':!![],'write':![]},'native':{}}),await this[_0x1df890(0x219)](_0x1df890(0x23b),{'type':'state','common':{'name':_0x1df890(0x212),'type':_0x1df890(0x252),'role':_0x1df890(0x28a),'read':!![],'write':![]},'native':{}}),await this[_0x1df890(0x219)]('analysis.energy.warmupTimes',{'type':_0x1df890(0x2b7),'common':{'name':_0x1df890(0x1e9),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this[_0x1df890(0x219)]('analysis.energy.warmupTargets',{'type':_0x1df890(0x2b7),'common':{'name':_0x1df890(0x238),'type':_0x1df890(0x252),'role':'json','read':!![],'write':!![],'def':_0x1df890(0x2d4)},'native':{}});try{const _0x9f3c77=await this[_0x1df890(0x2b3)](_0x1df890(0x21d));if(_0x9f3c77&&_0x9f3c77['val'])this['rawEventLog']=JSON[_0x1df890(0x2a2)](_0x9f3c77['val']);}catch(_0xa5c676){this[_0x1df890(0x213)]=[];}try{const _0xdc43e6=await this[_0x1df890(0x2b3)](_0x1df890(0x1de));if(_0xdc43e6&&_0xdc43e6[_0x1df890(0x226)])this['dailyDigests']=JSON['parse'](_0xdc43e6['val']);}catch(_0xf30abe){this[_0x1df890(0x2db)]=[];}const _0x2df561=this['dailyDigests'][_0x1df890(0x218)]>=(this[_0x1df890(0x23a)][_0x1df890(0x27d)]||0x7)?'Aktiv\x20('+this['dailyDigests'][_0x1df890(0x218)]+_0x1df890(0x2b5):'Lernphase\x20('+this[_0x1df890(0x2db)]['length']+'/'+(this[_0x1df890(0x23a)][_0x1df890(0x27d)]||0x7)+')';await this['setStateAsync'](_0x1df890(0x293),{'val':_0x2df561,'ack':!![]}),this['subscribeStates'](_0x1df890(0x224)),this[_0x1df890(0x204)](_0x1df890(0x223)),this[_0x1df890(0x204)](_0x1df890(0x24d)),this[_0x1df890(0x204)]('analysis.triggerBriefing'),this['subscribeStates']('analysis.automation.triggerAction'),this[_0x1df890(0x204)](_0x1df890(0x209)),this[_0x1df890(0x204)](_0x1df890(0x21a)),this['subscribeStates'](_0x1df890(0x2ad)),this['subscribeStates'](_0x1df890(0x20a)),this['subscribeStates'](_0x1df890(0x1fc)),this[_0x1df890(0x204)](_0x1df890(0x2a9)),this[_0x1df890(0x204)]('analysis.energy.mpcActive');const _0x43bbdd=this[_0x1df890(0x23a)][_0x1df890(0x2dd)];if(_0x43bbdd)for(const _0x4842c7 of _0x43bbdd){await this['subscribeForeignStatesAsync'](_0x4842c7['id']);}const _0x460549=this['config']['presenceDevices'];if(_0x460549)for(const _0x548100 of _0x460549){await this['subscribeForeignStatesAsync'](_0x548100);}if(this['config'][_0x1df890(0x249)]&&this[_0x1df890(0x23a)]['notifyTelegramInstance'])await this['subscribeForeignStatesAsync'](this[_0x1df890(0x23a)][_0x1df890(0x26f)]+_0x1df890(0x22e));setTimeout(()=>this[_0x1df890(0x1e7)](),0x1388);if(this[_0x1df890(0x25f)])clearInterval(this[_0x1df890(0x25f)]);const _0x1d8d81=this[_0x1df890(0x23a)][_0x1df890(0x1f5)]||0xf;_0x1d8d81>0x0&&(this[_0x1df890(0x25f)]=setInterval(()=>{const _0x63c46c=_0x1df890;this[_0x63c46c(0x2c2)](),automation['checkCalendarTriggers'](this);},_0x1d8d81*0x3c*0x3e8)),setTimeout(()=>automation[_0x1df890(0x2ae)](this),0x2710),this[_0x1df890(0x23a)][_0x1df890(0x243)]!==![]&&(this[_0x1df890(0x23c)]=setInterval(()=>{const _0x178359=_0x1df890;if(this[_0x178359(0x1fd)]){const _0x11367a=Date[_0x178359(0x20f)](),_0xedf92e=this['lastTrackerEventTime']||_0x11367a,_0x14f3a8=(_0x11367a-_0xedf92e)/0x3e8;_0x14f3a8>0x2&&(this['lastTrackerEventTime']=_0x11367a,pythonBridge[_0x178359(0x2b6)](this,_0x178359(0x2d2),{'room':null,'dt':_0x14f3a8}));}},0xbb8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x1df890(0x221)](this,pythonBridge)),schedulers[_0x1df890(0x25c)](this),schedulers[_0x1df890(0x25a)](this,()=>aiAgent[_0x1df890(0x25b)](this)),schedulers[_0x1df890(0x2c3)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x1df890(0x1e3)](this,installer[_0x1df890(0x2bd)]),setTimeout(async()=>{const _0x174109=_0x1df890;await topology[_0x174109(0x2d3)](this);try{const _0x1e2ff3=await this[_0x174109(0x2b3)](_0x174109(0x28b));if(_0x1e2ff3&&_0x1e2ff3[_0x174109(0x226)])pythonBridge[_0x174109(0x2b6)](this,_0x174109(0x25d),JSON['parse'](_0x1e2ff3[_0x174109(0x226)]));}catch(_0x49fc23){}this[_0x174109(0x260)](),this[_0x174109(0x1ee)](),this['triggerEnergyPrediction'](),this[_0x174109(0x2af)]();},0x1388);}[a0_0x430bdf(0x2c1)](_0x104906){const _0x5e3524=a0_0x430bdf;if(this[_0x5e3524(0x25f)])clearInterval(this[_0x5e3524(0x25f)]);if(this['driftAnalysisTimer'])clearInterval(this[_0x5e3524(0x263)]);if(this['trackerHeartbeat'])clearInterval(this[_0x5e3524(0x23c)]);if(this[_0x5e3524(0x232)])this[_0x5e3524(0x232)][_0x5e3524(0x294)]();if(this[_0x5e3524(0x29d)])this['modeResetJob'][_0x5e3524(0x294)]();if(this[_0x5e3524(0x28e)])this[_0x5e3524(0x28e)]['cancel']();recorder[_0x5e3524(0x22a)](this),pythonBridge[_0x5e3524(0x29f)](this),_0x104906();}async[a0_0x430bdf(0x233)](_0x1e21c2,_0x371283){const _0x591a49=a0_0x430bdf;if(!_0x371283||this[_0x591a49(0x2c6)])return;if(_0x1e21c2[_0x591a49(0x2cc)](_0x591a49(0x24b))&&_0x1e21c2[_0x591a49(0x292)](_0x591a49(0x2c0))&&_0x371283[_0x591a49(0x226)])return;if(_0x1e21c2===this[_0x591a49(0x1e0)]+'.system.mode'){if(_0x371283[_0x591a49(0x226)]&&Object[_0x591a49(0x2a4)](setup[_0x591a49(0x284)])['includes'](_0x371283[_0x591a49(0x226)])){this[_0x591a49(0x2c7)]=_0x371283[_0x591a49(0x226)];if(_0x371283[_0x591a49(0x226)]===setup[_0x591a49(0x284)][_0x591a49(0x269)])await recorder[_0x591a49(0x274)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x591a49(0x1fd)]){let _0x3f6b35=![],_0x2b3850=0x0,_0x1c9fce='manual';if(this[_0x591a49(0x2c7)]==='party')_0x3f6b35=!![],_0x2b3850=0x168,_0x1c9fce=_0x591a49(0x2ab);else this[_0x591a49(0x2c7)]===_0x591a49(0x222)&&(_0x3f6b35=!![],_0x2b3850=0x5a0,_0x1c9fce='Guest\x20Mode');pythonBridge['send'](this,_0x591a49(0x201),{'active':_0x3f6b35,'duration':_0x2b3850,'label':_0x1c9fce}),await this[_0x591a49(0x278)]('analysis.security.learningStatus',{'val':JSON['stringify']({'active':_0x3f6b35,'label':_0x1c9fce,'timestamp':Date[_0x591a49(0x20f)]()}),'ack':!![]});}}if(!_0x371283[_0x591a49(0x22d)])this[_0x591a49(0x1fe)](_0x1e21c2,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x371283['ack']){_0x1e21c2[_0x591a49(0x2cc)](_0x591a49(0x224))&&_0x371283[_0x591a49(0x226)]&&(this[_0x591a49(0x1fe)](_0x1e21c2,{'val':![],'ack':!![]}),aiAgent[_0x591a49(0x272)](this));if(_0x1e21c2['includes']('triggerDailyDigest')&&_0x371283[_0x591a49(0x226)]){this[_0x591a49(0x1fe)](_0x1e21c2,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x591a49(0x221)](this,pythonBridge);}_0x1e21c2['includes'](_0x591a49(0x2c4))&&_0x371283['val']&&(this[_0x591a49(0x1fe)](_0x1e21c2,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this));_0x1e21c2[_0x591a49(0x2cc)](_0x591a49(0x27b))&&_0x371283[_0x591a49(0x226)]&&(this['setState'](_0x1e21c2,{'val':![],'ack':!![]}),aiAgent[_0x591a49(0x1f4)](this));if(_0x1e21c2['includes'](_0x591a49(0x21a))&&_0x371283[_0x591a49(0x226)]){this[_0x591a49(0x1fe)](_0x1e21c2,{'val':![],'ack':!![]});if(this[_0x591a49(0x1fd)])try{const _0x2149bf=await this[_0x591a49(0x2b3)]('LTM.trainingData.sequences');if(_0x2149bf&&_0x2149bf[_0x591a49(0x226)]){const _0x271c92=JSON[_0x591a49(0x2a2)](_0x2149bf[_0x591a49(0x226)]);this[_0x591a49(0x278)](_0x591a49(0x246),{'val':_0x591a49(0x2dc),'ack':!![]}),pythonBridge[_0x591a49(0x2b6)](this,'TRAIN_SECURITY',{'sequences':_0x271c92});}}catch(_0xf868ea){}}if(_0x1e21c2[_0x591a49(0x2cc)](_0x591a49(0x2ad))&&_0x371283[_0x591a49(0x226)]){this[_0x591a49(0x1fe)](_0x1e21c2,{'val':![],'ack':!![]});if(this[_0x591a49(0x1fd)])try{const _0x1cc50a=await this['getStateAsync'](_0x591a49(0x1de));if(_0x1cc50a&&_0x1cc50a[_0x591a49(0x226)])pythonBridge[_0x591a49(0x2b6)](this,'TRAIN_HEALTH',{'digests':JSON[_0x591a49(0x2a2)](_0x1cc50a['val'])});}catch(_0x179041){}}if(_0x1e21c2[_0x591a49(0x2cc)]('analysis.training.triggerEnergy')&&_0x371283[_0x591a49(0x226)]){this[_0x591a49(0x1fe)](_0x1e21c2,{'val':![],'ack':!![]});if(this[_0x591a49(0x1fd)])try{const _0x505417=await this[_0x591a49(0x2b3)](_0x591a49(0x265));if(_0x505417&&_0x505417['val'])pythonBridge['send'](this,_0x591a49(0x20b),{'points':JSON[_0x591a49(0x2a2)](_0x505417[_0x591a49(0x226)])});}catch(_0x5c2af1){}}if(_0x1e21c2[_0x591a49(0x2cc)]('analysis.training.triggerComfort')&&_0x371283[_0x591a49(0x226)]){this[_0x591a49(0x1fe)](_0x1e21c2,{'val':![],'ack':!![]});if(this[_0x591a49(0x1fd)])try{const _0x1a10b1=await this['getStateAsync']('LTM.rawEventLog');if(_0x1a10b1&&_0x1a10b1[_0x591a49(0x226)])pythonBridge[_0x591a49(0x2b6)](this,_0x591a49(0x29b),{'events':JSON['parse'](_0x1a10b1['val'])});}catch(_0x26ebfd){}}_0x1e21c2[_0x591a49(0x2cc)](_0x591a49(0x2a9))&&_0x371283['val']&&(this[_0x591a49(0x1fe)](_0x1e21c2,{'val':![],'ack':!![]}),topology['updateTopology'](this));return;}if(this['config'][_0x591a49(0x244)]&&this[_0x591a49(0x23a)][_0x591a49(0x244)]['includes'](_0x1e21c2)){await this[_0x591a49(0x1e7)]();return;}const _0x18f58b=(this[_0x591a49(0x23a)]['devices']||[])[_0x591a49(0x2b4)](_0x529cd0=>_0x529cd0['id']===_0x1e21c2);if(_0x18f58b){const _0x426c32=await recorder['processSensorEvent'](this,_0x1e21c2,_0x371283,_0x18f58b);_0x426c32&&_0x426c32['type']===_0x591a49(0x24f)&&_0x426c32['location']&&this[_0x591a49(0x1fd)]&&deadMan[_0x591a49(0x28d)](this,_0x426c32['location']);}}async['onMessage'](_0x1dc9ce){const _0x31f5f7=a0_0x430bdf;if(typeof _0x1dc9ce==='object'&&_0x1dc9ce['message']){if(_0x1dc9ce[_0x31f5f7(0x2ba)]===_0x31f5f7(0x1f6))try{const _0x4d50f2=await automation[_0x31f5f7(0x1f8)](this);this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'results':_0x4d50f2},_0x1dc9ce['callback']);}catch(_0x3245b3){this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':![],'error':_0x3245b3[_0x31f5f7(0x230)]},_0x1dc9ce[_0x31f5f7(0x24a)]);}else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]===_0x31f5f7(0x299))try{const {current_temps:_0x26dce1,t_out:_0x2077ed,targets:_0x6f4d35,t_forecast:_0x1262ea}=_0x1dc9ce[_0x31f5f7(0x230)],_0x5abb03=[];let _0x18a757={};try{const _0x5e90a7=await this['getStateAsync']('analysis.energy.insulationScore');if(_0x5e90a7&&_0x5e90a7[_0x31f5f7(0x226)]){const _0x175ac7=JSON[_0x31f5f7(0x2a2)](_0x5e90a7['val']);_0x18a757=_0x175ac7[_0x31f5f7(0x2d0)]||_0x175ac7;}}catch(_0x13b474){}const _0x39323f=_0x1262ea!==undefined&&_0x1262ea!==null?(_0x2077ed+_0x1262ea)/0x2:_0x2077ed;for(const [_0x47263f,_0x68942d]of Object[_0x31f5f7(0x228)](_0x26dce1)){const _0x58503e=_0x6f4d35[_0x47263f]||0x15;if(_0x68942d<=_0x58503e)continue;let _0x520a91=_0x18a757[_0x47263f]||-0.5;if(_0x520a91>=0x0)_0x520a91=-0.5;const _0x45f8a3=Math[_0x31f5f7(0x23d)](_0x520a91),_0x3a0a3c=_0x68942d-_0x58503e;let _0xce8b2e=Math['floor'](_0x3a0a3c/_0x45f8a3*0x3c);const _0x4afa06=_0x68942d-_0x2077ed,_0x5a2640=_0x68942d-_0x39323f;if(_0x5a2640!==0x0&&_0x4afa06!==0x0){const _0x5e51f6=_0x4afa06/_0x5a2640;_0xce8b2e=Math[_0x31f5f7(0x259)](_0xce8b2e*_0x5e51f6);}if(_0xce8b2e>0xf){if(_0xce8b2e>0xf0)_0xce8b2e=0xf0;_0x5abb03[_0x31f5f7(0x298)]({'room':_0x47263f,'minutes_safe':_0xce8b2e,'target':_0x58503e,'current':_0x68942d,'savings_msg':_0x31f5f7(0x281)+_0xce8b2e+_0x31f5f7(0x2a5)});}}_0x5abb03[_0x31f5f7(0x1e5)]((_0x19ab5b,_0x3e4446)=>_0x3e4446['minutes_safe']-_0x19ab5b['minutes_safe']),this['sendTo'](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'proposals':_0x5abb03},_0x1dc9ce[_0x31f5f7(0x24a)]);}catch(_0x54104d){this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce['command'],{'success':![],'error':_0x54104d[_0x31f5f7(0x230)]},_0x1dc9ce[_0x31f5f7(0x24a)]);}else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]===_0x31f5f7(0x277))await this[_0x31f5f7(0x278)](_0x31f5f7(0x253),{'val':![],'ack':!![]}),await this[_0x31f5f7(0x278)]('analysis.automation.description',{'val':'','ack':!![]}),await this[_0x31f5f7(0x278)](_0x31f5f7(0x279),{'val':'','ack':!![]}),this[_0x31f5f7(0x22f)](_0x1dc9ce['from'],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![]},_0x1dc9ce['callback']);else{if(_0x1dc9ce['command']==='simulateButler'){const {targetId:_0x477b90,targetValue:_0x2a0334}=_0x1dc9ce[_0x31f5f7(0x230)];await this[_0x31f5f7(0x278)](_0x31f5f7(0x253),{'val':!![],'ack':!![]}),await this[_0x31f5f7(0x278)](_0x31f5f7(0x1dd),{'val':_0x31f5f7(0x2bf),'ack':!![]}),await this[_0x31f5f7(0x278)]('analysis.automation.targetId',{'val':_0x477b90,'ack':!![]}),await this[_0x31f5f7(0x278)](_0x31f5f7(0x1ff),{'val':String(_0x2a0334),'ack':!![]}),this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![]},_0x1dc9ce[_0x31f5f7(0x24a)]);}else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]==='testApiKey')try{const _0x3cc61b=_0x1dc9ce['message']['apiKey'];if(!_0x3cc61b)throw new Error(_0x31f5f7(0x291));const _0x2b4056=new GoogleGenerativeAI(_0x3cc61b),_0x50c935=_0x2b4056[_0x31f5f7(0x240)]({'model':GEMINI_MODEL}),_0x1da0ab=await _0x50c935[_0x31f5f7(0x254)]('Test'),_0x316334=await _0x1da0ab[_0x31f5f7(0x2a3)];if(_0x316334['text']())this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'message':_0x31f5f7(0x2c9)},_0x1dc9ce[_0x31f5f7(0x24a)]);else throw new Error(_0x31f5f7(0x2ce));}catch(_0x58da7c){this['sendTo'](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce['command'],{'success':![],'message':_0x58da7c['message']},_0x1dc9ce[_0x31f5f7(0x24a)]);}else{if(_0x1dc9ce['command']===_0x31f5f7(0x1f9))try{const _0x3fb06c=await scanner['scanForDevices'](this,_0x1dc9ce[_0x31f5f7(0x230)]||{});this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'devices':_0x3fb06c},_0x1dc9ce[_0x31f5f7(0x24a)]);}catch(_0x5b9291){this[_0x31f5f7(0x22f)](_0x1dc9ce['from'],_0x1dc9ce['command'],{'success':![],'error':_0x5b9291['message']},_0x1dc9ce[_0x31f5f7(0x24a)]);}else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]===_0x31f5f7(0x283))try{const {matrix:_0x5f4c69}=_0x1dc9ce[_0x31f5f7(0x230)],_0x338e64=await this[_0x31f5f7(0x2b3)](_0x31f5f7(0x28b));if(_0x338e64&&_0x338e64['val']){const _0xb22d12=JSON[_0x31f5f7(0x2a2)](_0x338e64['val']);_0xb22d12[_0x31f5f7(0x207)]=_0x5f4c69,_0xb22d12[_0x31f5f7(0x1df)]=Date[_0x31f5f7(0x20f)](),await this[_0x31f5f7(0x278)](_0x31f5f7(0x28b),{'val':JSON[_0x31f5f7(0x267)](_0xb22d12),'ack':!![]}),pythonBridge[_0x31f5f7(0x2b6)](this,_0x31f5f7(0x25d),_0xb22d12);}this['sendTo'](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![]},_0x1dc9ce[_0x31f5f7(0x24a)]);}catch(_0x564e38){this[_0x31f5f7(0x27e)][_0x31f5f7(0x257)](_0x564e38);}else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]===_0x31f5f7(0x1fb))this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'dailyDigests':this[_0x31f5f7(0x2db)]||[],'analysisHistory':this[_0x31f5f7(0x28c)]||[]},_0x1dc9ce['callback']);else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]===_0x31f5f7(0x210)){const _0x2f0f35=this[_0x31f5f7(0x2db)][_0x31f5f7(0x218)],_0x32ebda=new Array(0x18)[_0x31f5f7(0x20e)](0x0),_0x31c3f2=new Date()[_0x31f5f7(0x200)](0x0,0x0,0x0,0x0);this[_0x31f5f7(0x255)]&&this['eventHistory'][_0x31f5f7(0x20c)](_0x566e2f=>{const _0x8bc219=_0x31f5f7;if(_0x566e2f[_0x8bc219(0x2d7)]>=_0x31c3f2){const _0x203d66=new Date(_0x566e2f['timestamp'])[_0x8bc219(0x216)]();if(_0x203d66>=0x0&&_0x203d66<0x18)_0x32ebda[_0x203d66]++;}});let _0x426887=![],_0x240151='',_0x5c4697='',_0x1aa79a='';try{const _0x688e45=await this['getStateAsync'](_0x31f5f7(0x253));if(_0x688e45&&_0x688e45['val']){_0x426887=!![];const _0xc578a=await this[_0x31f5f7(0x2b3)]('analysis.automation.description');_0x240151=_0xc578a?_0xc578a[_0x31f5f7(0x226)]:'';const _0x34b668=await this['getStateAsync']('analysis.automation.targetId');_0x5c4697=_0x34b668?_0x34b668[_0x31f5f7(0x226)]:'';const _0x388fbd=await this[_0x31f5f7(0x2b3)](_0x31f5f7(0x1ff));_0x1aa79a=_0x388fbd?_0x388fbd[_0x31f5f7(0x226)]:'';}}catch(_0x834654){}const _0x534d98=await this[_0x31f5f7(0x24c)](),_0x4e9c6a=(this[_0x31f5f7(0x23a)][_0x31f5f7(0x2dd)]||[])[_0x31f5f7(0x241)](_0x45a11c=>_0x45a11c[_0x31f5f7(0x235)]),_0x2c6160=_0x534d98&&_0x4e9c6a;this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'eventHistory':this[_0x31f5f7(0x255)][_0x31f5f7(0x20d)](0x0,0xf),'stats':{'digestCount':_0x2f0f35,'isPresent':this[_0x31f5f7(0x261)],'hourlyActivity':_0x32ebda,'solarActive':_0x2c6160},'automation':{'detected':_0x426887,'description':_0x240151,'targetId':_0x5c4697,'targetValue':_0x1aa79a}},_0x1dc9ce[_0x31f5f7(0x24a)]);}else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]==='getEnums'){const _0x406381=await this['getForeignObjectsAsync'](_0x31f5f7(0x251),_0x31f5f7(0x286)),_0x4c5507=[];if(_0x406381)for(const _0x2f7d1e in _0x406381){const _0x195f01=_0x406381[_0x2f7d1e],_0x2d8edd=(_0x195f01[_0x31f5f7(0x29c)]&&typeof _0x195f01['common'][_0x31f5f7(0x26e)]===_0x31f5f7(0x202)?_0x195f01[_0x31f5f7(0x29c)][_0x31f5f7(0x26e)]['de']:_0x195f01[_0x31f5f7(0x29c)][_0x31f5f7(0x26e)])||_0x195f01['common']['name'];_0x4c5507['push']({'id':_0x2f7d1e,'name':_0x2d8edd});}const _0x3da7d0=await this[_0x31f5f7(0x26b)](_0x31f5f7(0x2d5),_0x31f5f7(0x286)),_0x34b7dd=[];if(_0x3da7d0)for(const _0x4c9849 in _0x3da7d0){const _0x5b1ddd=_0x3da7d0[_0x4c9849],_0x2865cf=(_0x5b1ddd[_0x31f5f7(0x29c)]&&typeof _0x5b1ddd[_0x31f5f7(0x29c)][_0x31f5f7(0x26e)]===_0x31f5f7(0x202)?_0x5b1ddd[_0x31f5f7(0x29c)][_0x31f5f7(0x26e)]['de']:_0x5b1ddd[_0x31f5f7(0x29c)][_0x31f5f7(0x26e)])||_0x4c9849[_0x31f5f7(0x289)]('.')[_0x31f5f7(0x2e1)]();_0x34b7dd[_0x31f5f7(0x298)](_0x2865cf);}this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'enums':_0x4c5507,'rooms':_0x34b7dd},_0x1dc9ce[_0x31f5f7(0x24a)]);}else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]===_0x31f5f7(0x245))try{let _0x298fa6=_0x31f5f7(0x296),_0x752a85=_0x31f5f7(0x2a7);if(this['config'][_0x31f5f7(0x1f2)]){const _0x328043=await recorder[_0x31f5f7(0x2cf)](this);_0x298fa6=_0x328043!==null?_0x328043+'Â°C':_0x31f5f7(0x287);}if(this[_0x31f5f7(0x23a)][_0x31f5f7(0x21b)]){const _0x53a557=await this[_0x31f5f7(0x266)]('system.adapter.'+this[_0x31f5f7(0x23a)][_0x31f5f7(0x21b)]);_0x752a85=_0x53a557?_0x31f5f7(0x242):'Instanz\x20nicht\x20gefunden';}this['sendTo'](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'weather':_0x298fa6,'calendar':_0x752a85},_0x1dc9ce[_0x31f5f7(0x24a)]);}catch(_0x4e396f){this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':![],'error':_0x4e396f['message']},_0x1dc9ce[_0x31f5f7(0x24a)]);}else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]==='getCalendarNames')try{const _0x4c68af=_0x1dc9ce['message'][_0x31f5f7(0x231)],_0x5b00c2=await this[_0x31f5f7(0x27c)](_0x4c68af+'.data.table');let _0x3914c0=[];if(_0x5b00c2&&_0x5b00c2['val']){const _0x457af5=JSON['parse'](_0x5b00c2['val']),_0x1ccf07=new Set();Array[_0x31f5f7(0x2e0)](_0x457af5)&&_0x457af5[_0x31f5f7(0x20c)](_0x555b87=>{const _0x48b972=_0x31f5f7;if(_0x555b87['_calName'])_0x1ccf07['add'](_0x555b87[_0x48b972(0x2a8)]);else{if(_0x555b87[_0x48b972(0x25e)])_0x1ccf07[_0x48b972(0x227)](_0x555b87[_0x48b972(0x25e)]);}}),_0x3914c0=Array[_0x31f5f7(0x273)](_0x1ccf07)[_0x31f5f7(0x1e5)]();}if(_0x3914c0['length']===0x0)_0x3914c0=[_0x31f5f7(0x275)];this[_0x31f5f7(0x22f)](_0x1dc9ce['from'],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'names':_0x3914c0},_0x1dc9ce[_0x31f5f7(0x24a)]);}catch(_0x499ee5){this[_0x31f5f7(0x22f)](_0x1dc9ce['from'],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':![],'error':_0x499ee5[_0x31f5f7(0x230)]},_0x1dc9ce[_0x31f5f7(0x24a)]);}else{if(_0x1dc9ce[_0x31f5f7(0x2ba)]===_0x31f5f7(0x225))try{await setup[_0x31f5f7(0x29a)](this,_0x31f5f7(0x21f),![],![]),this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':!![],'message':_0x31f5f7(0x264)},_0x1dc9ce['callback']);}catch(_0x1f41e1){this['log'][_0x31f5f7(0x257)](_0x31f5f7(0x295)+_0x1f41e1[_0x31f5f7(0x230)]),this[_0x31f5f7(0x22f)](_0x1dc9ce[_0x31f5f7(0x273)],_0x1dc9ce[_0x31f5f7(0x2ba)],{'success':![],'message':_0x31f5f7(0x270)+_0x1f41e1[_0x31f5f7(0x230)]},_0x1dc9ce[_0x31f5f7(0x24a)]);}}}}}}}}}}}}}}}async[a0_0x430bdf(0x258)](){const _0x47e5a2=a0_0x430bdf;try{const _0x485d37=await this[_0x47e5a2(0x2b3)](setup[_0x47e5a2(0x21c)]);_0x485d37&&_0x485d37[_0x47e5a2(0x226)]&&Object[_0x47e5a2(0x2a4)](setup['SYSTEM_MODES'])[_0x47e5a2(0x2cc)](_0x485d37[_0x47e5a2(0x226)])?this[_0x47e5a2(0x2c7)]=_0x485d37['val']:(this[_0x47e5a2(0x2c7)]=setup['SYSTEM_MODES'][_0x47e5a2(0x2de)],await this[_0x47e5a2(0x278)](setup['SYSTEM_DP_MODE'],{'val':setup[_0x47e5a2(0x284)]['NORMAL'],'ack':!![]}));}catch(_0x4b707a){this[_0x47e5a2(0x2c7)]=setup[_0x47e5a2(0x284)][_0x47e5a2(0x2de)];}}async[a0_0x430bdf(0x1e7)](){const _0x15a492=a0_0x430bdf;try{const _0x45742f=this[_0x15a492(0x23a)]['presenceDevices']||[];let _0x4c752f=![];const _0x427a71=[];for(const _0x4c93b3 of _0x45742f){try{const _0x4461e2=await this['getForeignStateAsync'](_0x4c93b3);_0x4461e2&&(_0x4461e2[_0x15a492(0x226)]===!![]||_0x4461e2[_0x15a492(0x226)]==='online'||_0x4461e2[_0x15a492(0x226)]===0x1)&&(_0x4c752f=!![],_0x427a71[_0x15a492(0x298)](_0x4c93b3));}catch(_0x111404){}}return await this['setStateAsync'](_0x15a492(0x2c5),{'val':_0x427a71[_0x15a492(0x297)](',\x20'),'ack':!![]}),_0x4c752f&&(this[_0x15a492(0x2b8)]&&(this[_0x15a492(0x27e)][_0x15a492(0x1fa)](_0x15a492(0x220)),recorder['abortExitTimer'](this)),!this[_0x15a492(0x261)]&&this[_0x15a492(0x2c7)]===setup[_0x15a492(0x284)][_0x15a492(0x2de)]&&await recorder[_0x15a492(0x274)](this,!![])),_0x4c752f;}catch(_0x5a2930){return![];}}async[a0_0x430bdf(0x2c2)](){const _0x52cad0=a0_0x430bdf;this[_0x52cad0(0x27e)][_0x52cad0(0x234)](_0x52cad0(0x2d9)),await aiAgent[_0x52cad0(0x272)](this),this[_0x52cad0(0x2af)](),this[_0x52cad0(0x1ee)](),this[_0x52cad0(0x2b2)]();}async['checkSolarCondition'](){const _0x107a45=a0_0x430bdf,_0x5c4df4=['weatherunderground.0',_0x107a45(0x2cd),_0x107a45(0x26a)],_0x4b24a1=['forecast.current.weather','Current.WeatherText','NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x5df626 of _0x5c4df4){for(const _0x5eb803 of _0x4b24a1){try{const _0x10c861=_0x5df626+'.'+_0x5eb803,_0x5b419c=await this[_0x107a45(0x27c)](_0x10c861);if(_0x5b419c&&_0x5b419c[_0x107a45(0x226)]){const _0x2f65c9=String(_0x5b419c['val'])[_0x107a45(0x229)]();if(_0x2f65c9[_0x107a45(0x2cc)](_0x107a45(0x27f))||_0x2f65c9[_0x107a45(0x2cc)](_0x107a45(0x236))||_0x2f65c9[_0x107a45(0x2cc)]('klar')||_0x2f65c9[_0x107a45(0x2cc)](_0x107a45(0x206))||_0x2f65c9[_0x107a45(0x2cc)](_0x107a45(0x2c8)))return!![];}}catch(_0x38a1c8){}}}return![];}[a0_0x430bdf(0x1ee)](){const _0x23bcbe=a0_0x430bdf;if(!this[_0x23bcbe(0x1fd)])return;try{this[_0x23bcbe(0x1e6)](_0x23bcbe(0x268),(_0x4d7438,_0x45fd5b)=>{const _0x36a730=_0x23bcbe;_0x45fd5b&&_0x45fd5b[_0x36a730(0x226)]&&pythonBridge[_0x36a730(0x2b6)](this,_0x36a730(0x2d1),{'sequences':JSON[_0x36a730(0x2a2)](_0x45fd5b[_0x36a730(0x226)])});});}catch(_0x184a2e){}}async[a0_0x430bdf(0x2b2)](){const _0x18db48=a0_0x430bdf;if(!this[_0x18db48(0x1fd)])return;try{const _0x431302=await recorder[_0x18db48(0x2cf)](this);if(_0x431302===null)return;const _0x2e06a3={},_0x2f7070={},_0x43504f=this[_0x18db48(0x23a)][_0x18db48(0x2dd)]||[];for(const _0x5cfafd of _0x43504f){if(_0x5cfafd[_0x18db48(0x1f7)]===_0x18db48(0x1ec)&&_0x5cfafd[_0x18db48(0x2aa)]){const _0x5436fa=this[_0x18db48(0x1eb)][_0x5cfafd['id']];if(_0x5436fa!==undefined)_0x2e06a3[_0x5cfafd[_0x18db48(0x2aa)]]=_0x5436fa;if(_0x5cfafd['isSolar'])_0x2f7070[_0x5cfafd[_0x18db48(0x2aa)]]=!![];}}const _0x19a46c=await this['checkSolarCondition']();let _0x3c49bf={};try{const _0x2c9b71=await this[_0x18db48(0x2b3)](_0x18db48(0x2a1));if(_0x2c9b71&&_0x2c9b71[_0x18db48(0x226)])_0x3c49bf=JSON[_0x18db48(0x2a2)](_0x2c9b71[_0x18db48(0x226)]);}catch(_0x32e5e8){}Object[_0x18db48(0x26c)](_0x2e06a3)['length']>0x0&&(pythonBridge[_0x18db48(0x2b6)](this,_0x18db48(0x22b),{'current_temps':_0x2e06a3,'t_out':_0x431302,'is_sunny':_0x19a46c,'solar_flags':_0x2f7070,'warmup_targets':_0x3c49bf}),pythonBridge['send'](this,_0x18db48(0x248),{'current_temps':_0x2e06a3,'t_out':_0x431302,'targets':{}}));}catch(_0x1f6054){}}[a0_0x430bdf(0x2af)](){const _0x4f22fb=a0_0x430bdf;if(!this[_0x4f22fb(0x213)]||this[_0x4f22fb(0x213)][_0x4f22fb(0x218)]===0x0)return;const _0x5b0d7d=new Array(0x60)[_0x4f22fb(0x20e)](0x0),_0x3a836b=new Date()['setHours'](0x0,0x0,0x0,0x0);this['rawEventLog'][_0x4f22fb(0x20c)](_0x37353a=>{const _0x42e10a=_0x4f22fb,_0x3935cc=new Date(_0x37353a[_0x42e10a(0x2d7)]);if(_0x3935cc[_0x42e10a(0x26d)]()>=_0x3a836b){const _0x5c1eb0=_0x3935cc['getHours'](),_0x5efa29=_0x3935cc[_0x42e10a(0x247)](),_0xd3d886=_0x5c1eb0*0x4+Math[_0x42e10a(0x259)](_0x5efa29/0xf);if(_0xd3d886>=0x0&&_0xd3d886<0x60)_0x5b0d7d[_0xd3d886]++;}}),this[_0x4f22fb(0x278)](_0x4f22fb(0x285),{'val':JSON[_0x4f22fb(0x267)](_0x5b0d7d),'ack':!![]});}[a0_0x430bdf(0x260)](){const _0x3c9b85=a0_0x430bdf;if(!this['dailyDigests']||this[_0x3c9b85(0x2db)][_0x3c9b85(0x218)]<0x2)return;const _0x4e74c6=this['dailyDigests'][_0x3c9b85(0x1e4)](_0x8d26=>{const _0x2a8475=_0x3c9b85,_0x388eb1=(_0x8d26['activityLevel']||'')[_0x2a8475(0x229)]();return ACTIVITY_LEVEL_MAP[_0x388eb1]||0x32;});pythonBridge[_0x3c9b85(0x2b6)](this,_0x3c9b85(0x1f3),{'values':_0x4e74c6,'tag':'Activity-Level'});}}if(require['main']!==module)module[a0_0x430bdf(0x2b1)]=_0x1698e4=>new CogniLiving(_0x1698e4);else new CogniLiving();