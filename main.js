const a0_0x6903e6=a0_0x56a7;(function(_0x6777c5,_0x55d333){const _0x29c0db=a0_0x56a7,_0x2cd3ff=_0x6777c5();while(!![]){try{const _0x453131=-parseInt(_0x29c0db(0x28a))/0x1+-parseInt(_0x29c0db(0x28e))/0x2+-parseInt(_0x29c0db(0x298))/0x3+-parseInt(_0x29c0db(0x23b))/0x4+parseInt(_0x29c0db(0x1eb))/0x5+parseInt(_0x29c0db(0x200))/0x6+parseInt(_0x29c0db(0x258))/0x7;if(_0x453131===_0x55d333)break;else _0x2cd3ff['push'](_0x2cd3ff['shift']());}catch(_0x36f771){_0x2cd3ff['push'](_0x2cd3ff['shift']());}}}(a0_0x7f9b,0xe4601));function a0_0x56a7(_0x1b0276,_0xefecd){const _0x51a956=a0_0x7f9b();return a0_0x56a7=function(_0x41f20f,_0x43c6e7){_0x41f20f=_0x41f20f-0x1a3;let _0x7f9be1=_0x51a956[_0x41f20f];return _0x7f9be1;},a0_0x56a7(_0x1b0276,_0xefecd);}const a0_0x43c6e7=(function(){let _0x132359=!![];return function(_0x44bedb,_0x1715b9){const _0x1b3ec0=_0x132359?function(){if(_0x1715b9){const _0x13599d=_0x1715b9['apply'](_0x44bedb,arguments);return _0x1715b9=null,_0x13599d;}}:function(){};return _0x132359=![],_0x1b3ec0;};}()),a0_0x41f20f=a0_0x43c6e7(this,function(){const _0x2b187a=a0_0x56a7;return a0_0x41f20f[_0x2b187a(0x21a)]()[_0x2b187a(0x293)](_0x2b187a(0x1f7))['toString']()['constructor'](a0_0x41f20f)['search'](_0x2b187a(0x1f7));});a0_0x41f20f();'use strict';function a0_0x7f9b(){const _0x558ff2=['SET_TOPOLOGY','PINN\x20AI\x20Forecast','./lib/recorder','setState','testContext','ANALYZE_TREND','NextHours.Location_1.Day_1.current.symbol_desc','analysis.security.learningStatus','getOverviewData','sensorLastValues','Daten\x20nicht\x20verfÃ¼gbar','analysis.trigger','Adapter','getEnums','subscribeForeignStatesAsync','PREDICT_ENERGY','Lernphase\x20(','object','1108488KjTpLq','exports','toLowerCase','geminiModel','driftAnalysisTimer','triggerEnergyPrediction','trackerEnabled','entries','VACATION','getForeignObjectsAsync','LTM.triggerDailyDigest','./lib/dead_man','length','onReady','\x20min\x20ausbleiben.','clear','initZombies','updated','Verbindung\x20erfolgreich!','key','isPresent','./lib/installer','calendarInstance','enum.rooms.*','@iobroker/adapter-core','online','licenseKey','cancel','\x20Tage)','11285344XTjjWH','weatherunderground.0','push','lastTrackerEventTime','analysis.training.status','.system.mode','values','Heizung\x20kann\x20','temperature','error','Keine\x20Antwort\x20von\x20Gemini','Active\x20Ventilation\x20Alerts','checkSolarCondition','Test','analysis.energy.warmupTargets','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','runBaselineDriftAnalysis','minDaysForBaseline','ready','generateContent','analysis.automation.description','add','includes','runPythonHealthCheck','Gemini\x20Init\x20Error:\x20','val','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','manual','system.mode','command','stateChange','getCalendarNames','isSolar','version','rawEventLog','minutes_safe','calendarName','config','onMessage','analysis.automation.triggerAction','sonn','apiKey','simulateEnergyMPC','checkThermostats','keys','matrix','useWeather','updateTopologyMatrix','setupBriefingScheduler','analysis.automation.autoApply','101470uUCDmV','triggerDailyDigest','sendTo','checkAndInstall','2320240lebLzN','find','eventHistory','checkLicense','resetRLPenalty','search','location','info','analysis.automation.patternDetected','LTM.trainingData.thermodynamics','3146220dMefke','./lib/scanner','@google/generative-ai','analysis.training.triggerTopology','cogni-living\x20adapter\x20starting\x20(v','stringify','log','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','Fehler:\x20','Party\x20Mode','notifyTelegramEnabled','communicate.request','checkWifiPresence','SYSTEM_MODES','updateTopology','analysis.training.triggerSecurity','setPresence','namespace','stopService','dailyDigests','triggerBriefing','TRACK_EVENT','scanThermostats','modeResetJob','lastAlertState','getHours','ltmJob','slice','sort','pop','accuweather.0','getLtmData','scanDevices','trackerHeartbeat','Kein\x20API\x20Key\x20Ã¼bergeben','{\x22default\x22:\x2021}','.communicate.request','analysis.automation.targetValue','floor','getMinutes','subscribeStates','ANALYZE_GAIT','PYTHON_EXE','NORMAL','cleanupGhostInterventions','common','OPTIMIZE_ENERGY','split','runGeminiAnalysis','analysis.automation.targetId','Key\x20not\x20found\x20or\x20not\x20provided','join','LTM.dailyDigests','createAllObjects','from','analysisTimer','heiter','map','Current.WeatherText','main','Sec-Training\x20started...','enum','notifyTelegramInstance','models/gemini-flash-latest','timestamp','sendNotification','./lib/python_bridge','analysis.training.triggerEnergy','sunny','send','message','Warm-Up\x20Target\x20Temps\x20(JSON)','callback','./lib/automation','abortExitTimer','Standard','response','thermostat','party','json','getGenerativeModel','testApiKey','Kein\x20Kalender-Adapter','Activity-Level','WiFi\x20Presence\x20detected.','dependencyInstallInProgress','setHours','instance','setObjectNotExistsAsync','Gemini\x20AI\x20initialized.','motion','updateHealthVector','onUnload','getForeignObjectAsync','debug','now','dismissAutomation','startSystem','initSystemConfig','enum.functions.*','_calName','klar','analysis.energy.rlPenalties','type','forEach','checkCalendarTriggers','fill','analysis.training.triggerComfort','loadSystemMode','getStateAsync','6752550CEAeKB','analysis.energy.warmupTimes','Aktiv\x20(','LTM.trainingData.sequences','genAI','isProVersion','inactivityThresholdHours','ack',')\x20-\x20Phase\x20D\x20(Original\x20Sync)','Reinforcement\x20Learning\x20Penalties','analysis.energy.ventilationAlerts','setupDriftAnalysisScheduler','(((.+)+)+)+$','TRAIN_ENERGY','triggerGaitAnalysis','onStateChange','Simulation\x20durch\x20Admin\x20(Test)','runAutopilot','bind','telegram','analysis.training.triggerHealth','3361050oEyfNH','processSensorEvent','systemConfig','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','state','presenceDevices','isArray','endsWith','getForeignStateAsync','setupModeResetScheduler','name','setStateAsync','createDailyDigest','analysis.energy.mpcActive','application/json','analysis.topology.structure','parse','analysisHistory','Instanz\x20nicht\x20gefunden','geminiApiKey','cogni-living','briefingJob','string','scores','initHistory','TRAIN_COMFORT','toString','SYSTEM_DP_MODE','devices','some','analysisInterval','getOutsideTemperatureNumeric','forecast.current.weather','currentSystemMode','Notification\x20Test\x20Failed:\x20','getState','daswetter.0','SET_LEARNING_MODE','exitTimer','sendMorningBriefing','TRAIN_SECURITY'];a0_0x7f9b=function(){return _0x558ff2;};return a0_0x7f9b();}const utils=require(a0_0x6903e6(0x253)),{GoogleGenerativeAI}=require(a0_0x6903e6(0x29a)),installer=require(a0_0x6903e6(0x250)),scanner=require(a0_0x6903e6(0x299)),schedulers=require('./lib/scheduler'),topology=require('./lib/topology'),setup=require('./lib/setup'),recorder=require(a0_0x6903e6(0x22b)),pythonBridge=require(a0_0x6903e6(0x1bf)),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x6903e6(0x246)),automation=require(a0_0x6903e6(0x1c6)),GEMINI_MODEL=a0_0x6903e6(0x1bc),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x6903e6(0x235)]{constructor(_0x2fd030){const _0x616ff7=a0_0x6903e6;super({..._0x2fd030,'name':_0x616ff7(0x214)}),this['eventHistory']=[],this[_0x616ff7(0x211)]=[],this[_0x616ff7(0x27a)]=[],this[_0x616ff7(0x2ab)]=[],this[_0x616ff7(0x232)]={},this[_0x616ff7(0x202)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x616ff7(0x24f)]=!![],this['exitTimer']=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this[_0x616ff7(0x1ef)]=null,this['geminiModel']=null,this[_0x616ff7(0x221)]=setup['SYSTEM_MODES'][_0x616ff7(0x1a8)],this[_0x616ff7(0x1f0)]=![],this[_0x616ff7(0x2b0)]=![],this['analysisTimer']=null,this['ltmJob']=null,this[_0x616ff7(0x2af)]=null,this[_0x616ff7(0x23f)]=null,this[_0x616ff7(0x215)]=null,this[_0x616ff7(0x1d2)]=![],this['trackerHeartbeat']=null,this[_0x616ff7(0x25b)]=Date[_0x616ff7(0x1dc)](),this['on'](_0x616ff7(0x26a),this['onReady'][_0x616ff7(0x1fd)](this)),this['on'](_0x616ff7(0x276),this[_0x616ff7(0x1fa)][_0x616ff7(0x1fd)](this)),this['on']('unload',this[_0x616ff7(0x1d9)][_0x616ff7(0x1fd)](this)),this['on'](_0x616ff7(0x1c3),this[_0x616ff7(0x27e)][_0x616ff7(0x1fd)](this));}async[a0_0x6903e6(0x248)](){const _0x138d4d=a0_0x6903e6;this['log'][_0x138d4d(0x295)](_0x138d4d(0x29c)+this[_0x138d4d(0x279)]+_0x138d4d(0x1f3));if(!installer[_0x138d4d(0x28d)](this,()=>this[_0x138d4d(0x1de)]()))return;}async[a0_0x6903e6(0x1de)](){const _0x3add12=a0_0x6903e6;await setup[_0x3add12(0x24b)](this);try{this[_0x3add12(0x1f0)]=await setup[_0x3add12(0x291)](this[_0x3add12(0x27d)][_0x3add12(0x255)]);}catch(_0x35ae54){}if(!this[_0x3add12(0x27d)]['inactivityThresholdHours']||this[_0x3add12(0x27d)][_0x3add12(0x1f1)]<0.1)this[_0x3add12(0x27d)][_0x3add12(0x1f1)]=0xc;await setup[_0x3add12(0x218)](this),await setup[_0x3add12(0x1df)](this);if(this[_0x3add12(0x27d)][_0x3add12(0x213)])try{this[_0x3add12(0x1ef)]=new GoogleGenerativeAI(this['config']['geminiApiKey']),this[_0x3add12(0x23e)]=this[_0x3add12(0x1ef)][_0x3add12(0x1cd)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3add12(0x20e)}}),this[_0x3add12(0x29e)]['info'](_0x3add12(0x1d6));}catch(_0x1e5b6b){this[_0x3add12(0x29e)]['error'](_0x3add12(0x270)+_0x1e5b6b[_0x3add12(0x1c3)]);}await setup[_0x3add12(0x1b2)](this),await this[_0x3add12(0x1e9)](),await this[_0x3add12(0x1d5)]('analysis.energy.pinnForecast',{'type':_0x3add12(0x204),'common':{'name':_0x3add12(0x22a),'type':_0x3add12(0x216),'role':_0x3add12(0x1cc),'read':!![],'write':![]},'native':{}}),await this[_0x3add12(0x1d5)](_0x3add12(0x1f5),{'type':'state','common':{'name':_0x3add12(0x263),'type':_0x3add12(0x216),'role':_0x3add12(0x1cc),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x3add12(0x1ec),{'type':'state','common':{'name':_0x3add12(0x272),'type':_0x3add12(0x216),'role':_0x3add12(0x1cc),'read':!![],'write':![]},'native':{}}),await this[_0x3add12(0x1d5)](_0x3add12(0x266),{'type':_0x3add12(0x204),'common':{'name':_0x3add12(0x1c4),'type':_0x3add12(0x216),'role':_0x3add12(0x1cc),'read':!![],'write':!![],'def':_0x3add12(0x2bb)},'native':{}}),await this['setObjectNotExistsAsync'](_0x3add12(0x1e3),{'type':_0x3add12(0x204),'common':{'name':_0x3add12(0x1f4),'type':_0x3add12(0x216),'role':_0x3add12(0x1cc),'read':!![],'write':![],'def':'{}'},'native':{}});try{const _0x4ebf25=await this['getStateAsync']('LTM.rawEventLog');if(_0x4ebf25&&_0x4ebf25[_0x3add12(0x271)])this[_0x3add12(0x27a)]=JSON[_0x3add12(0x210)](_0x4ebf25['val']);}catch(_0x123957){this['rawEventLog']=[];}try{const _0x4a187c=await this[_0x3add12(0x1ea)](_0x3add12(0x1b1));if(_0x4a187c&&_0x4a187c[_0x3add12(0x271)])this[_0x3add12(0x2ab)]=JSON[_0x3add12(0x210)](_0x4a187c[_0x3add12(0x271)]);}catch(_0x20adb7){this[_0x3add12(0x2ab)]=[];}const _0x48b412=this[_0x3add12(0x2ab)][_0x3add12(0x247)]>=(this[_0x3add12(0x27d)]['minDaysForBaseline']||0x7)?_0x3add12(0x1ed)+this['dailyDigests'][_0x3add12(0x247)]+_0x3add12(0x257):_0x3add12(0x239)+this[_0x3add12(0x2ab)]['length']+'/'+(this[_0x3add12(0x27d)][_0x3add12(0x269)]||0x7)+')';await this[_0x3add12(0x20b)]('LTM.baselineStatus',{'val':_0x48b412,'ack':!![]}),this['subscribeStates'](_0x3add12(0x234)),this[_0x3add12(0x1a5)](_0x3add12(0x245)),this['subscribeStates'](_0x3add12(0x274)),this['subscribeStates']('analysis.triggerBriefing'),this[_0x3add12(0x1a5)](_0x3add12(0x27f)),this[_0x3add12(0x1a5)](_0x3add12(0x289)),this['subscribeStates'](_0x3add12(0x2a7)),this[_0x3add12(0x1a5)]('analysis.training.triggerHealth'),this['subscribeStates'](_0x3add12(0x1c0)),this[_0x3add12(0x1a5)](_0x3add12(0x1e8)),this[_0x3add12(0x1a5)](_0x3add12(0x29b)),this[_0x3add12(0x1a5)](_0x3add12(0x20d));const _0x434dfd=this[_0x3add12(0x27d)][_0x3add12(0x21c)];if(_0x434dfd)for(const _0x37f225 of _0x434dfd){await this[_0x3add12(0x237)](_0x37f225['id']);}const _0x39b0f2=this[_0x3add12(0x27d)][_0x3add12(0x205)];if(_0x39b0f2)for(const _0x5ed49a of _0x39b0f2){await this[_0x3add12(0x237)](_0x5ed49a);}if(this[_0x3add12(0x27d)][_0x3add12(0x2a2)]&&this['config'][_0x3add12(0x1bb)])await this['subscribeForeignStatesAsync'](this[_0x3add12(0x27d)][_0x3add12(0x1bb)]+_0x3add12(0x2bc));setTimeout(()=>this[_0x3add12(0x2a4)](),0x1388);if(this[_0x3add12(0x1b4)])clearInterval(this[_0x3add12(0x1b4)]);const _0x3b7c84=this[_0x3add12(0x27d)][_0x3add12(0x21e)]||0xf;_0x3b7c84>0x0&&(this[_0x3add12(0x1b4)]=setInterval(()=>{const _0x5c8ad6=_0x3add12;this[_0x5c8ad6(0x1fc)](),automation[_0x5c8ad6(0x1e6)](this);},_0x3b7c84*0x3c*0x3e8)),setTimeout(()=>automation[_0x3add12(0x1e6)](this),0x2710),this[_0x3add12(0x27d)][_0x3add12(0x241)]!==![]&&(this[_0x3add12(0x2b9)]=setInterval(()=>{const _0x14bf22=_0x3add12;if(this['isProVersion']){const _0x539ee1=Date[_0x14bf22(0x1dc)](),_0x5ac1c2=this[_0x14bf22(0x25b)]||_0x539ee1,_0x2fab62=(_0x539ee1-_0x5ac1c2)/0x3e8;_0x2fab62>0x2&&(this[_0x14bf22(0x25b)]=_0x539ee1,pythonBridge[_0x14bf22(0x1c2)](this,_0x14bf22(0x2ad),{'room':null,'dt':_0x2fab62}));}},0xbb8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x3add12(0x20c)](this,pythonBridge)),schedulers[_0x3add12(0x209)](this),schedulers[_0x3add12(0x1f6)](this,()=>aiAgent[_0x3add12(0x268)](this)),schedulers[_0x3add12(0x288)](this,()=>aiAgent[_0x3add12(0x227)](this)),pythonBridge['startService'](this,installer[_0x3add12(0x1a7)]),setTimeout(async()=>{const _0x46ea0b=_0x3add12;await topology[_0x46ea0b(0x2a6)](this);try{const _0x56a390=await this['getStateAsync'](_0x46ea0b(0x20f));if(_0x56a390&&_0x56a390[_0x46ea0b(0x271)])pythonBridge[_0x46ea0b(0x1c2)](this,_0x46ea0b(0x229),JSON['parse'](_0x56a390[_0x46ea0b(0x271)]));}catch(_0x31b23d){}this[_0x46ea0b(0x26f)](),this[_0x46ea0b(0x1f9)](),this['triggerEnergyPrediction'](),this[_0x46ea0b(0x1d8)]();},0x1388);}[a0_0x6903e6(0x1d9)](_0x3051e2){const _0xfc0a97=a0_0x6903e6;if(this['analysisTimer'])clearInterval(this[_0xfc0a97(0x1b4)]);if(this[_0xfc0a97(0x23f)])clearInterval(this[_0xfc0a97(0x23f)]);if(this[_0xfc0a97(0x2b9)])clearInterval(this['trackerHeartbeat']);if(this['ltmJob'])this[_0xfc0a97(0x2b2)][_0xfc0a97(0x256)]();if(this['modeResetJob'])this['modeResetJob'][_0xfc0a97(0x256)]();if(this['briefingJob'])this['briefingJob']['cancel']();recorder[_0xfc0a97(0x1c7)](this),pythonBridge[_0xfc0a97(0x2aa)](this),_0x3051e2();}async['onStateChange'](_0x304779,_0x39d866){const _0x20bc9e=a0_0x6903e6;if(!_0x39d866||this[_0x20bc9e(0x1d2)])return;if(_0x304779[_0x20bc9e(0x26e)](_0x20bc9e(0x1fe))&&_0x304779[_0x20bc9e(0x207)](_0x20bc9e(0x2a3))&&_0x39d866[_0x20bc9e(0x271)])return;if(_0x304779===this[_0x20bc9e(0x2a9)]+_0x20bc9e(0x25d)){if(_0x39d866[_0x20bc9e(0x271)]&&Object[_0x20bc9e(0x25e)](setup[_0x20bc9e(0x2a5)])[_0x20bc9e(0x26e)](_0x39d866[_0x20bc9e(0x271)])){this[_0x20bc9e(0x221)]=_0x39d866[_0x20bc9e(0x271)];if(_0x39d866[_0x20bc9e(0x271)]===setup[_0x20bc9e(0x2a5)][_0x20bc9e(0x243)])await recorder[_0x20bc9e(0x2a8)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x20bc9e(0x1f0)]){let _0x2b2194=![],_0x3e642a=0x0,_0x370aa7=_0x20bc9e(0x273);if(this[_0x20bc9e(0x221)]===_0x20bc9e(0x1cb))_0x2b2194=!![],_0x3e642a=0x168,_0x370aa7=_0x20bc9e(0x2a1);else this[_0x20bc9e(0x221)]==='guest'&&(_0x2b2194=!![],_0x3e642a=0x5a0,_0x370aa7='Guest\x20Mode');pythonBridge[_0x20bc9e(0x1c2)](this,_0x20bc9e(0x225),{'active':_0x2b2194,'duration':_0x3e642a,'label':_0x370aa7}),await this[_0x20bc9e(0x20b)](_0x20bc9e(0x230),{'val':JSON[_0x20bc9e(0x29d)]({'active':_0x2b2194,'label':_0x370aa7,'timestamp':Date['now']()}),'ack':!![]});}}if(!_0x39d866[_0x20bc9e(0x1f2)])this[_0x20bc9e(0x22c)](_0x304779,{'val':this[_0x20bc9e(0x221)],'ack':!![]});return;}if(!_0x39d866[_0x20bc9e(0x1f2)]){if(_0x304779[_0x20bc9e(0x26e)]('analysis.trigger')&&_0x39d866[_0x20bc9e(0x271)]){this[_0x20bc9e(0x22c)](_0x304779,{'val':![],'ack':!![]}),aiAgent[_0x20bc9e(0x1ad)](this);return;}if(_0x304779['includes'](_0x20bc9e(0x28b))&&_0x39d866[_0x20bc9e(0x271)]){this[_0x20bc9e(0x22c)](_0x304779,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x304779['includes'](_0x20bc9e(0x2ac))&&_0x39d866[_0x20bc9e(0x271)]){this[_0x20bc9e(0x22c)](_0x304779,{'val':![],'ack':!![]}),aiAgent[_0x20bc9e(0x227)](this);return;}if(_0x304779[_0x20bc9e(0x26e)]('automation.triggerAction')&&_0x39d866[_0x20bc9e(0x271)]){this['setState'](_0x304779,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x304779[_0x20bc9e(0x26e)](_0x20bc9e(0x2a7))&&_0x39d866[_0x20bc9e(0x271)]){this[_0x20bc9e(0x22c)](_0x304779,{'val':![],'ack':!![]});if(this[_0x20bc9e(0x1f0)])try{const _0x122da9=await this[_0x20bc9e(0x1ea)](_0x20bc9e(0x1ee));if(_0x122da9&&_0x122da9[_0x20bc9e(0x271)]){const _0x230041=JSON[_0x20bc9e(0x210)](_0x122da9[_0x20bc9e(0x271)]);this[_0x20bc9e(0x20b)](_0x20bc9e(0x25c),{'val':_0x20bc9e(0x1b9),'ack':!![]}),pythonBridge[_0x20bc9e(0x1c2)](this,_0x20bc9e(0x228),{'sequences':_0x230041});}}catch(_0x5aa26a){}return;}if(_0x304779[_0x20bc9e(0x26e)](_0x20bc9e(0x1ff))&&_0x39d866[_0x20bc9e(0x271)]){this[_0x20bc9e(0x22c)](_0x304779,{'val':![],'ack':!![]});if(this[_0x20bc9e(0x1f0)])try{const _0x51f4b3=await this[_0x20bc9e(0x1ea)](_0x20bc9e(0x1b1));if(_0x51f4b3&&_0x51f4b3[_0x20bc9e(0x271)])pythonBridge[_0x20bc9e(0x1c2)](this,'TRAIN_HEALTH',{'digests':JSON[_0x20bc9e(0x210)](_0x51f4b3[_0x20bc9e(0x271)])});}catch(_0x517c9d){}return;}if(_0x304779[_0x20bc9e(0x26e)](_0x20bc9e(0x1c0))&&_0x39d866[_0x20bc9e(0x271)]){this[_0x20bc9e(0x22c)](_0x304779,{'val':![],'ack':!![]});if(this[_0x20bc9e(0x1f0)])try{const _0x35241e=await this[_0x20bc9e(0x1ea)](_0x20bc9e(0x297));if(_0x35241e&&_0x35241e[_0x20bc9e(0x271)])pythonBridge[_0x20bc9e(0x1c2)](this,_0x20bc9e(0x1f8),{'points':JSON['parse'](_0x35241e[_0x20bc9e(0x271)])});}catch(_0x4e25de){}return;}if(_0x304779[_0x20bc9e(0x26e)](_0x20bc9e(0x1e8))&&_0x39d866['val']){this['setState'](_0x304779,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x4cb0b0=await this[_0x20bc9e(0x1ea)]('LTM.rawEventLog');if(_0x4cb0b0&&_0x4cb0b0[_0x20bc9e(0x271)])pythonBridge['send'](this,_0x20bc9e(0x219),{'events':JSON['parse'](_0x4cb0b0['val'])});}catch(_0x579479){}return;}if(_0x304779[_0x20bc9e(0x26e)](_0x20bc9e(0x29b))&&_0x39d866[_0x20bc9e(0x271)]){this[_0x20bc9e(0x22c)](_0x304779,{'val':![],'ack':!![]}),topology[_0x20bc9e(0x2a6)](this);return;}}if(this[_0x20bc9e(0x27d)][_0x20bc9e(0x205)]&&this[_0x20bc9e(0x27d)][_0x20bc9e(0x205)][_0x20bc9e(0x26e)](_0x304779)){await this[_0x20bc9e(0x2a4)]();return;}const _0x248cd2=(this[_0x20bc9e(0x27d)][_0x20bc9e(0x21c)]||[])[_0x20bc9e(0x28f)](_0x33a8d2=>_0x33a8d2['id']===_0x304779);if(_0x248cd2){const _0x550817=await recorder[_0x20bc9e(0x201)](this,_0x304779,_0x39d866,_0x248cd2);_0x550817&&_0x550817[_0x20bc9e(0x1e4)]===_0x20bc9e(0x1d7)&&_0x550817[_0x20bc9e(0x294)]&&this['isProVersion']&&deadMan['updateLocation'](this,_0x550817[_0x20bc9e(0x294)]),(_0x248cd2[_0x20bc9e(0x1e4)]==='temperature'||_0x248cd2['type']===_0x20bc9e(0x1ca))&&automation[_0x20bc9e(0x1a9)](this);}}async['onMessage'](_0x3fa5bd){const _0x4835f1=a0_0x6903e6;if(typeof _0x3fa5bd==='object'&&_0x3fa5bd[_0x4835f1(0x1c3)]){if(_0x3fa5bd[_0x4835f1(0x275)]===_0x4835f1(0x283))try{const _0x2e3814=await automation[_0x4835f1(0x2ae)](this);this['sendTo'](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![],'results':_0x2e3814},_0x3fa5bd[_0x4835f1(0x1c5)]);}catch(_0x579ea3){this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':![],'error':_0x579ea3[_0x4835f1(0x1c3)]},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd[_0x4835f1(0x275)]===_0x4835f1(0x282))try{const {current_temps:_0xf36bfd,t_out:_0x45bae8,targets:_0x4eaca5,t_forecast:_0x2e16a6}=_0x3fa5bd[_0x4835f1(0x1c3)],_0x132f15=[];let _0x1c8b3e={};try{const _0x3c32dd=await this[_0x4835f1(0x1ea)]('analysis.energy.insulationScore');if(_0x3c32dd&&_0x3c32dd['val']){const _0xcd81bd=JSON[_0x4835f1(0x210)](_0x3c32dd[_0x4835f1(0x271)]);_0x1c8b3e=_0xcd81bd[_0x4835f1(0x217)]||_0xcd81bd;}}catch(_0x4f70da){}const _0x533673=_0x2e16a6!==undefined&&_0x2e16a6!==null?(_0x45bae8+_0x2e16a6)/0x2:_0x45bae8;for(const [_0x1273f2,_0x2601c1]of Object[_0x4835f1(0x242)](_0xf36bfd)){const _0x44c7ba=_0x4eaca5[_0x1273f2]||0x15;if(_0x2601c1<=_0x44c7ba)continue;let _0x374e3a=_0x1c8b3e[_0x1273f2]||-0.5;if(_0x374e3a>=0x0)_0x374e3a=-0.5;const _0x3fcf18=Math['abs'](_0x374e3a),_0x23b3a3=_0x2601c1-_0x44c7ba;let _0x4cf337=Math[_0x4835f1(0x1a3)](_0x23b3a3/_0x3fcf18*0x3c);const _0x427128=_0x2601c1-_0x45bae8,_0x48ebf8=_0x2601c1-_0x533673;if(_0x48ebf8!==0x0&&_0x427128!==0x0){const _0x23d69c=_0x427128/_0x48ebf8;_0x4cf337=Math[_0x4835f1(0x1a3)](_0x4cf337*_0x23d69c);}if(_0x4cf337>0xf){if(_0x4cf337>0xf0)_0x4cf337=0xf0;_0x132f15[_0x4835f1(0x25a)]({'room':_0x1273f2,'minutes_safe':_0x4cf337,'target':_0x44c7ba,'current':_0x2601c1,'savings_msg':_0x4835f1(0x25f)+_0x4cf337+_0x4835f1(0x249)});}}_0x132f15[_0x4835f1(0x2b4)]((_0x2a3ca7,_0x126b92)=>_0x126b92[_0x4835f1(0x27b)]-_0x2a3ca7[_0x4835f1(0x27b)]),this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![],'proposals':_0x132f15},_0x3fa5bd[_0x4835f1(0x1c5)]);}catch(_0x5048e2){this[_0x4835f1(0x28c)](_0x3fa5bd['from'],_0x3fa5bd[_0x4835f1(0x275)],{'success':![],'error':_0x5048e2[_0x4835f1(0x1c3)]},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd[_0x4835f1(0x275)]===_0x4835f1(0x292))try{const _0x35e912=_0x3fa5bd[_0x4835f1(0x1c3)][_0x4835f1(0x24e)],_0x2d20e5=_0x4835f1(0x1e3),_0x3abc6a=await this['getStateAsync'](_0x2d20e5);let _0x4dc023={};if(_0x3abc6a&&_0x3abc6a[_0x4835f1(0x271)])try{_0x4dc023=JSON[_0x4835f1(0x210)](_0x3abc6a[_0x4835f1(0x271)]);}catch(_0x10bb2f){}_0x35e912&&_0x4dc023[_0x35e912]?(delete _0x4dc023[_0x35e912],await this[_0x4835f1(0x20b)](_0x2d20e5,{'val':JSON[_0x4835f1(0x29d)](_0x4dc023),'ack':!![]}),this['log'][_0x4835f1(0x295)](_0x4835f1(0x203)+_0x35e912+_0x4835f1(0x267)),this[_0x4835f1(0x28c)](_0x3fa5bd['from'],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![]},_0x3fa5bd[_0x4835f1(0x1c5)])):this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':![],'error':_0x4835f1(0x1af)},_0x3fa5bd[_0x4835f1(0x1c5)]);}catch(_0x5b6d3b){this[_0x4835f1(0x28c)](_0x3fa5bd['from'],_0x3fa5bd[_0x4835f1(0x275)],{'success':![],'error':_0x5b6d3b[_0x4835f1(0x1c3)]},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd[_0x4835f1(0x275)]===_0x4835f1(0x1dd))await this['setStateAsync'](_0x4835f1(0x296),{'val':![],'ack':!![]}),await this[_0x4835f1(0x20b)](_0x4835f1(0x26c),{'val':'','ack':!![]}),await this[_0x4835f1(0x20b)](_0x4835f1(0x1ae),{'val':'','ack':!![]}),this[_0x4835f1(0x28c)](_0x3fa5bd['from'],_0x3fa5bd['command'],{'success':!![]},_0x3fa5bd[_0x4835f1(0x1c5)]);else{if(_0x3fa5bd[_0x4835f1(0x275)]==='simulateButler'){const {targetId:_0x2c8c6c,targetValue:_0x419dea}=_0x3fa5bd[_0x4835f1(0x1c3)];await this[_0x4835f1(0x20b)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await this[_0x4835f1(0x20b)]('analysis.automation.description',{'val':_0x4835f1(0x1fb),'ack':!![]}),await this[_0x4835f1(0x20b)](_0x4835f1(0x1ae),{'val':_0x2c8c6c,'ack':!![]}),await this[_0x4835f1(0x20b)](_0x4835f1(0x2bd),{'val':String(_0x419dea),'ack':!![]}),this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![]},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd[_0x4835f1(0x275)]===_0x4835f1(0x1ce))try{const _0x5efc10=_0x3fa5bd[_0x4835f1(0x1c3)][_0x4835f1(0x281)];if(!_0x5efc10)throw new Error(_0x4835f1(0x2ba));const _0x3ab86f=new GoogleGenerativeAI(_0x5efc10),_0x13bcd2=_0x3ab86f[_0x4835f1(0x1cd)]({'model':GEMINI_MODEL}),_0x212262=await _0x13bcd2[_0x4835f1(0x26b)](_0x4835f1(0x265)),_0x285079=await _0x212262[_0x4835f1(0x1c9)];if(_0x285079['text']())this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd['command'],{'success':!![],'message':_0x4835f1(0x24d)},_0x3fa5bd['callback']);else throw new Error(_0x4835f1(0x262));}catch(_0x53a3ab){this[_0x4835f1(0x28c)](_0x3fa5bd['from'],_0x3fa5bd[_0x4835f1(0x275)],{'success':![],'message':_0x53a3ab[_0x4835f1(0x1c3)]},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd['command']===_0x4835f1(0x2b8))try{const _0x4c3b41=await scanner['scanForDevices'](this,_0x3fa5bd[_0x4835f1(0x1c3)]||{});this[_0x4835f1(0x28c)](_0x3fa5bd['from'],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![],'devices':_0x4c3b41},_0x3fa5bd[_0x4835f1(0x1c5)]);}catch(_0x3c2a5d){this['sendTo'](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':![],'error':_0x3c2a5d[_0x4835f1(0x1c3)]},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd[_0x4835f1(0x275)]===_0x4835f1(0x287))try{const {matrix:_0x1d206d}=_0x3fa5bd['message'],_0x1023b8=await this[_0x4835f1(0x1ea)](_0x4835f1(0x20f));if(_0x1023b8&&_0x1023b8[_0x4835f1(0x271)]){const _0x29f860=JSON[_0x4835f1(0x210)](_0x1023b8[_0x4835f1(0x271)]);_0x29f860[_0x4835f1(0x285)]=_0x1d206d,_0x29f860[_0x4835f1(0x24c)]=Date['now'](),await this['setStateAsync'](_0x4835f1(0x20f),{'val':JSON['stringify'](_0x29f860),'ack':!![]}),pythonBridge['send'](this,_0x4835f1(0x229),_0x29f860);}this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![]},_0x3fa5bd[_0x4835f1(0x1c5)]);}catch(_0x25dd34){this[_0x4835f1(0x29e)]['error'](_0x25dd34);}else{if(_0x3fa5bd[_0x4835f1(0x275)]===_0x4835f1(0x2b7))this[_0x4835f1(0x28c)](_0x3fa5bd['from'],_0x3fa5bd['command'],{'success':!![],'dailyDigests':this[_0x4835f1(0x2ab)]||[],'analysisHistory':this[_0x4835f1(0x211)]||[]},_0x3fa5bd[_0x4835f1(0x1c5)]);else{if(_0x3fa5bd['command']===_0x4835f1(0x231)){const _0x35b1e0=this[_0x4835f1(0x2ab)][_0x4835f1(0x247)],_0x14ebf7=new Array(0x18)[_0x4835f1(0x1e7)](0x0),_0x5c5d78=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x4835f1(0x290)]&&this[_0x4835f1(0x290)][_0x4835f1(0x1e5)](_0xfa9fe1=>{const _0x3cfaaa=_0x4835f1;if(_0xfa9fe1[_0x3cfaaa(0x1bd)]>=_0x5c5d78){const _0x2df0d6=new Date(_0xfa9fe1[_0x3cfaaa(0x1bd)])[_0x3cfaaa(0x2b1)]();if(_0x2df0d6>=0x0&&_0x2df0d6<0x18)_0x14ebf7[_0x2df0d6]++;}});let _0x3f84ad=![],_0x475f24='',_0x558e59='',_0x584566='';try{const _0x568357=await this[_0x4835f1(0x1ea)]('analysis.automation.patternDetected');if(_0x568357&&_0x568357[_0x4835f1(0x271)]){_0x3f84ad=!![];const _0x70c658=await this['getStateAsync'](_0x4835f1(0x26c));_0x475f24=_0x70c658?_0x70c658['val']:'';const _0x5470a0=await this[_0x4835f1(0x1ea)](_0x4835f1(0x1ae));_0x558e59=_0x5470a0?_0x5470a0[_0x4835f1(0x271)]:'';const _0x545ace=await this['getStateAsync'](_0x4835f1(0x2bd));_0x584566=_0x545ace?_0x545ace[_0x4835f1(0x271)]:'';}}catch(_0x406c67){}const _0x254094=await this['checkSolarCondition'](),_0x4a5a76=(this[_0x4835f1(0x27d)][_0x4835f1(0x21c)]||[])[_0x4835f1(0x21d)](_0x479a58=>_0x479a58['isSolar']),_0x3e2208=_0x254094&&_0x4a5a76;this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![],'eventHistory':this[_0x4835f1(0x290)][_0x4835f1(0x2b3)](0x0,0xf),'stats':{'digestCount':_0x35b1e0,'isPresent':this['isPresent'],'hourlyActivity':_0x14ebf7,'solarActive':_0x3e2208},'automation':{'detected':_0x3f84ad,'description':_0x475f24,'targetId':_0x558e59,'targetValue':_0x584566}},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd[_0x4835f1(0x275)]===_0x4835f1(0x236)){const _0x3061d1=await this['getForeignObjectsAsync'](_0x4835f1(0x1e0),_0x4835f1(0x1ba)),_0x427bbc=[];if(_0x3061d1)for(const _0x11ed76 in _0x3061d1){const _0x41b360=_0x3061d1[_0x11ed76],_0x461340=(_0x41b360[_0x4835f1(0x1aa)]&&typeof _0x41b360[_0x4835f1(0x1aa)][_0x4835f1(0x20a)]===_0x4835f1(0x23a)?_0x41b360[_0x4835f1(0x1aa)]['name']['de']:_0x41b360[_0x4835f1(0x1aa)][_0x4835f1(0x20a)])||_0x41b360['common'][_0x4835f1(0x20a)];_0x427bbc[_0x4835f1(0x25a)]({'id':_0x11ed76,'name':_0x461340});}const _0x65937a=await this[_0x4835f1(0x244)](_0x4835f1(0x252),_0x4835f1(0x1ba)),_0xf7583d=[];if(_0x65937a)for(const _0x2651e7 in _0x65937a){const _0x449cbf=_0x65937a[_0x2651e7],_0x4c257f=(_0x449cbf[_0x4835f1(0x1aa)]&&typeof _0x449cbf['common'][_0x4835f1(0x20a)]===_0x4835f1(0x23a)?_0x449cbf[_0x4835f1(0x1aa)][_0x4835f1(0x20a)]['de']:_0x449cbf[_0x4835f1(0x1aa)]['name'])||_0x2651e7[_0x4835f1(0x1ac)]('.')[_0x4835f1(0x2b5)]();_0xf7583d[_0x4835f1(0x25a)](_0x4c257f);}this[_0x4835f1(0x28c)](_0x3fa5bd['from'],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![],'enums':_0x427bbc,'rooms':_0xf7583d},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd['command']===_0x4835f1(0x22d))try{let _0x3fd3ce='Kein\x20Wetter-Adapter',_0x1c2971=_0x4835f1(0x1cf);if(this['config'][_0x4835f1(0x286)]){const _0x1e234c=await recorder[_0x4835f1(0x21f)](this);_0x3fd3ce=_0x1e234c!==null?_0x1e234c+'Â°C':_0x4835f1(0x233);}if(this[_0x4835f1(0x27d)][_0x4835f1(0x251)]){const _0x43a9ab=await this[_0x4835f1(0x1da)]('system.adapter.'+this[_0x4835f1(0x27d)][_0x4835f1(0x251)]);_0x1c2971=_0x43a9ab?'Verbunden':_0x4835f1(0x212);}this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![],'weather':_0x3fd3ce,'calendar':_0x1c2971},_0x3fa5bd['callback']);}catch(_0x4104f5){this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':![],'error':_0x4104f5['message']},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd[_0x4835f1(0x275)]===_0x4835f1(0x277))try{const _0x44ba23=_0x3fa5bd[_0x4835f1(0x1c3)][_0x4835f1(0x1d4)],_0x209908=await this[_0x4835f1(0x208)](_0x44ba23+'.data.table');let _0x9d7c34=[];if(_0x209908&&_0x209908[_0x4835f1(0x271)]){const _0x20c408=JSON[_0x4835f1(0x210)](_0x209908['val']),_0x1ad34d=new Set();Array[_0x4835f1(0x206)](_0x20c408)&&_0x20c408[_0x4835f1(0x1e5)](_0x5d5941=>{const _0x3c20d8=_0x4835f1;if(_0x5d5941[_0x3c20d8(0x1e1)])_0x1ad34d[_0x3c20d8(0x26d)](_0x5d5941[_0x3c20d8(0x1e1)]);else{if(_0x5d5941[_0x3c20d8(0x27c)])_0x1ad34d['add'](_0x5d5941[_0x3c20d8(0x27c)]);}}),_0x9d7c34=Array['from'](_0x1ad34d)[_0x4835f1(0x2b4)]();}if(_0x9d7c34[_0x4835f1(0x247)]===0x0)_0x9d7c34=[_0x4835f1(0x1c8)];this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![],'names':_0x9d7c34},_0x3fa5bd[_0x4835f1(0x1c5)]);}catch(_0xf1c8c0){this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd['command'],{'success':![],'error':_0xf1c8c0[_0x4835f1(0x1c3)]},_0x3fa5bd[_0x4835f1(0x1c5)]);}else{if(_0x3fa5bd[_0x4835f1(0x275)]==='testNotification')try{await setup[_0x4835f1(0x1be)](this,_0x4835f1(0x29f),![],![]),this[_0x4835f1(0x28c)](_0x3fa5bd['from'],_0x3fa5bd[_0x4835f1(0x275)],{'success':!![],'message':'Gesendet'},_0x3fa5bd[_0x4835f1(0x1c5)]);}catch(_0x488f68){this[_0x4835f1(0x29e)][_0x4835f1(0x261)](_0x4835f1(0x222)+_0x488f68[_0x4835f1(0x1c3)]),this[_0x4835f1(0x28c)](_0x3fa5bd[_0x4835f1(0x1b3)],_0x3fa5bd[_0x4835f1(0x275)],{'success':![],'message':_0x4835f1(0x2a0)+_0x488f68[_0x4835f1(0x1c3)]},_0x3fa5bd[_0x4835f1(0x1c5)]);}}}}}}}}}}}}}}}}async[a0_0x6903e6(0x1e9)](){const _0x30909e=a0_0x6903e6;try{const _0x86721c=await this['getStateAsync'](setup[_0x30909e(0x21b)]);_0x86721c&&_0x86721c['val']&&Object['values'](setup[_0x30909e(0x2a5)])[_0x30909e(0x26e)](_0x86721c[_0x30909e(0x271)])?this[_0x30909e(0x221)]=_0x86721c['val']:(this[_0x30909e(0x221)]=setup[_0x30909e(0x2a5)][_0x30909e(0x1a8)],await this[_0x30909e(0x20b)](setup[_0x30909e(0x21b)],{'val':setup['SYSTEM_MODES'][_0x30909e(0x1a8)],'ack':!![]}));}catch(_0x22fffd){this['currentSystemMode']=setup[_0x30909e(0x2a5)][_0x30909e(0x1a8)];}}async[a0_0x6903e6(0x2a4)](){const _0x449af5=a0_0x6903e6;try{const _0xf88d16=this[_0x449af5(0x27d)][_0x449af5(0x205)]||[];let _0x4e77ea=![];const _0x2f9394=[];for(const _0x4e6bb7 of _0xf88d16){try{const _0x4099f5=await this[_0x449af5(0x208)](_0x4e6bb7);_0x4099f5&&(_0x4099f5['val']===!![]||_0x4099f5['val']===_0x449af5(0x254)||_0x4099f5['val']===0x1)&&(_0x4e77ea=!![],_0x2f9394['push'](_0x4e6bb7));}catch(_0x3b6bac){}}return await this['setStateAsync']('system.presenceWho',{'val':_0x2f9394[_0x449af5(0x1b0)](',\x20'),'ack':!![]}),_0x4e77ea&&(this[_0x449af5(0x226)]&&(this[_0x449af5(0x29e)]['info'](_0x449af5(0x1d1)),recorder['abortExitTimer'](this)),!this[_0x449af5(0x24f)]&&this[_0x449af5(0x221)]===setup['SYSTEM_MODES'][_0x449af5(0x1a8)]&&await recorder['setPresence'](this,!![])),_0x4e77ea;}catch(_0x1e3ca6){return![];}}async['runAutopilot'](){const _0x4e966c=a0_0x6903e6;this[_0x4e966c(0x29e)][_0x4e966c(0x1db)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x4e966c(0x1ad)](this),this[_0x4e966c(0x1d8)](),this[_0x4e966c(0x1f9)](),this[_0x4e966c(0x240)]();}async[a0_0x6903e6(0x264)](){const _0x7fe775=a0_0x6903e6,_0x29e961=[_0x7fe775(0x259),_0x7fe775(0x2b6),_0x7fe775(0x224)],_0x3c65c2=[_0x7fe775(0x220),_0x7fe775(0x1b7),_0x7fe775(0x22f)];for(const _0x1d3731 of _0x29e961){for(const _0xc309e7 of _0x3c65c2){try{const _0xd6288b=_0x1d3731+'.'+_0xc309e7,_0x14dad3=await this['getForeignStateAsync'](_0xd6288b);if(_0x14dad3&&_0x14dad3[_0x7fe775(0x271)]){const _0x19097b=String(_0x14dad3[_0x7fe775(0x271)])['toLowerCase']();if(_0x19097b['includes'](_0x7fe775(0x280))||_0x19097b[_0x7fe775(0x26e)](_0x7fe775(0x1c1))||_0x19097b[_0x7fe775(0x26e)](_0x7fe775(0x1e2))||_0x19097b[_0x7fe775(0x26e)](_0x7fe775(0x24a))||_0x19097b['includes'](_0x7fe775(0x1b5)))return!![];}}catch(_0x3e0e34){}}}return![];}[a0_0x6903e6(0x1f9)](){const _0x5123e5=a0_0x6903e6;if(!this['isProVersion'])return;try{this[_0x5123e5(0x223)](_0x5123e5(0x1ee),(_0x52fab2,_0x3be2dd)=>{const _0x56887a=_0x5123e5;_0x3be2dd&&_0x3be2dd[_0x56887a(0x271)]&&pythonBridge[_0x56887a(0x1c2)](this,_0x56887a(0x1a6),{'sequences':JSON[_0x56887a(0x210)](_0x3be2dd['val'])});});}catch(_0x55a092){}}async[a0_0x6903e6(0x240)](){const _0x3b5b52=a0_0x6903e6;if(!this[_0x3b5b52(0x1f0)])return;try{const _0x5b02b7=await recorder[_0x3b5b52(0x21f)](this);if(_0x5b02b7===null)return;const _0xd7b705={},_0x4a4ee6={},_0x10cf50=this[_0x3b5b52(0x27d)][_0x3b5b52(0x21c)]||[];for(const _0x3b7b6b of _0x10cf50){if(_0x3b7b6b[_0x3b5b52(0x1e4)]===_0x3b5b52(0x260)&&_0x3b7b6b[_0x3b5b52(0x294)]){const _0x4c595d=this['sensorLastValues'][_0x3b7b6b['id']];if(_0x4c595d!==undefined)_0xd7b705[_0x3b7b6b[_0x3b5b52(0x294)]]=_0x4c595d;if(_0x3b7b6b[_0x3b5b52(0x278)])_0x4a4ee6[_0x3b7b6b[_0x3b5b52(0x294)]]=!![];}}const _0x4bf7b0=await this['checkSolarCondition']();let _0x439507={};try{const _0x3cd075=await this[_0x3b5b52(0x1ea)](_0x3b5b52(0x266));if(_0x3cd075&&_0x3cd075[_0x3b5b52(0x271)])_0x439507=JSON[_0x3b5b52(0x210)](_0x3cd075[_0x3b5b52(0x271)]);}catch(_0x1a09de){}Object[_0x3b5b52(0x284)](_0xd7b705)[_0x3b5b52(0x247)]>0x0&&(pythonBridge[_0x3b5b52(0x1c2)](this,_0x3b5b52(0x238),{'current_temps':_0xd7b705,'t_out':_0x5b02b7,'is_sunny':_0x4bf7b0,'solar_flags':_0x4a4ee6,'warmup_targets':_0x439507}),pythonBridge['send'](this,_0x3b5b52(0x1ab),{'current_temps':_0xd7b705,'t_out':_0x5b02b7,'targets':{}}));}catch(_0x593011){}}[a0_0x6903e6(0x1d8)](){const _0xc1847a=a0_0x6903e6;if(!this[_0xc1847a(0x27a)]||this[_0xc1847a(0x27a)][_0xc1847a(0x247)]===0x0)return;const _0x11a354=new Array(0x60)[_0xc1847a(0x1e7)](0x0),_0x3c5903=new Date()[_0xc1847a(0x1d3)](0x0,0x0,0x0,0x0);this['rawEventLog'][_0xc1847a(0x1e5)](_0x3c880d=>{const _0x2c0586=_0xc1847a,_0x25406f=new Date(_0x3c880d['timestamp']);if(_0x25406f['getTime']()>=_0x3c5903){const _0x4392f4=_0x25406f[_0x2c0586(0x2b1)](),_0x15d949=_0x25406f[_0x2c0586(0x1a4)](),_0x71a768=_0x4392f4*0x4+Math[_0x2c0586(0x1a3)](_0x15d949/0xf);if(_0x71a768>=0x0&&_0x71a768<0x60)_0x11a354[_0x71a768]++;}}),this[_0xc1847a(0x20b)]('analysis.health.todayVector',{'val':JSON[_0xc1847a(0x29d)](_0x11a354),'ack':!![]});}[a0_0x6903e6(0x26f)](){const _0x339acb=a0_0x6903e6;if(!this[_0x339acb(0x2ab)]||this[_0x339acb(0x2ab)]['length']<0x2)return;const _0x3984e1=this[_0x339acb(0x2ab)][_0x339acb(0x1b6)](_0x500493=>{const _0x3b786a=_0x339acb,_0x6ceb46=(_0x500493['activityLevel']||'')[_0x3b786a(0x23d)]();return ACTIVITY_LEVEL_MAP[_0x6ceb46]||0x32;});pythonBridge[_0x339acb(0x1c2)](this,_0x339acb(0x22e),{'values':_0x3984e1,'tag':_0x339acb(0x1d0)});}}if(require[a0_0x6903e6(0x1b8)]!==module)module[a0_0x6903e6(0x23c)]=_0x51c8b3=>new CogniLiving(_0x51c8b3);else new CogniLiving();