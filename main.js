const a0_0x58f3d9=a0_0x242b;function a0_0x301f(){const _0x514b75=['dailyDigests','Active\x20Ventilation\x20Alerts','Gemini\x20AI\x20initialized.','./lib/python_bridge','analysis.triggerBriefing','error','length','SYSTEM_MODES','setState','SET_LEARNING_MODE','onUnload','party','telegram','.system.mode','stringify','SYSTEM_DP_MODE','5477320QKOKzh','Verbunden','rawEventLog','analysis.topology.structure','updateTopologyMatrix','sensorLastValues','154068GLdvlq','LTM.triggerDailyDigest','TRAIN_ENERGY','analysisHistory','activityLevel','setPresence','response','bind','find','getOutsideTemperatureNumeric','enum','isSolar','parse','exitTimer','runPythonHealthCheck','testContext','now','endsWith','type','sort','testApiKey','abortExitTimer','Kein\x20Wetter-Adapter','_calName','analysis.automation.description','matrix','checkCalendarTriggers','constructor','(((.+)+)+)+$','createDailyDigest','sendTo','presenceDevices','automation.triggerAction','9vyYaHt','6tBfWwR','generateContent','motion','runGeminiAnalysis','cancel','map','info','triggerGaitAnalysis','geminiModel','sendMorningBriefing','communicate.request','stateChange','getForeignObjectAsync','Lernphase\x20(','ready','useWeather','setHours','./lib/topology','genAI','system.adapter.','./lib/scheduler','updateHealthVector','initZombies','analysis.training.triggerTopology','modeResetJob','./lib/ai_agent','instance','config','some','scores','scanThermostats','NORMAL','5963916jyNQci',')\x20-\x20Phase\x20C\x20(Adaptive\x20Security\x20&\x20Smart\x20Schedule)','scanForDevices','forEach','abs','weatherunderground.0','.communicate.request','3uhcYfS','analysis.energy.insulationScore','analysis.training.triggerSecurity','getOverviewData','keys','join','2116772UwUUhQ','PYTHON_EXE','val','sonn','getForeignObjectsAsync','log','processSensorEvent','Party\x20Mode','analysis.energy.pinnForecast','common','analysis.training.triggerEnergy','initHistory','geminiApiKey','analysis.automation.targetId','Warm-Up\x20Time\x20(Minutes\x20to\x2021Â°C)','inactivityThresholdHours','checkAndInstall','setupDriftAnalysisScheduler','entries','isPresent','analysisTimer','VACATION','string','notifyTelegramInstance','calendarName','ack','Kein\x20API\x20Key\x20Ã¼bergeben','SET_TOPOLOGY','simulateButler','eventHistory','Simulation\x20durch\x20Admin\x20(Test)','apiKey','Notification\x20Test\x20Failed:\x20','Kein\x20Kalender-Adapter','state','startSystem','application/json','LTM.trainingData.sequences','fill','search','exports','LTM.rawEventLog','updateTopology','getTime','PREDICT_ENERGY','getGenerativeModel','floor','online','analysis.automation.targetValue','getHours','klar','Aktiv\x20(','includes','testNotification','devices','subscribeStates','location','minutes_safe','stopService','currentSystemMode','cogni-living','add','Sec-Training\x20started...','checkLicense','updated','ANALYZE_TREND','onStateChange','analysis.automation.autoApply','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','analysis.automation.patternDetected','apply','setupBriefingScheduler','analysis.energy.warmupTimes','lastAlertState','values','LTM.dailyDigests','command','./lib/setup','runBaselineDriftAnalysis','analysis.health.todayVector','unload','message','setObjectNotExistsAsync','Daten\x20nicht\x20verfÃ¼gbar','systemConfig','toLowerCase','executeAutomationAction','OPTIMIZE_ENERGY','ltmJob','toString','\x20Tage)','timestamp','analysis.automation.triggerAction','clear','getState','triggerEnergyPrediction','startService','calendarInstance','TRAIN_HEALTH','./lib/installer','getStateAsync','dependencyInstallInProgress','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','from','system.presenceWho','analysis.training.status','LTM.baselineStatus','minDaysForBaseline','enum.functions.*','sunny','slice','manual','loadSystemMode','getForeignStateAsync','analysis.training.triggerHealth','name','dismissAutomation','debug','WiFi\x20Presence\x20detected.','Gesendet','checkSolarCondition','triggerBriefing','20wAzNKU','subscribeForeignStatesAsync','6412144BLjpcF','analysis.trigger','temperature','initSystemConfig','@google/generative-ai','onReady','licenseKey','checkWifiPresence','Activity-Level','onMessage','triggerDailyDigest','runAutopilot','NextHours.Location_1.Day_1.current.symbol_desc','simulateEnergyMPC','isProVersion','getCalendarNames','./lib/dead_man','driftAnalysisTimer','object','send','10308925ZNvpcj','analysis.training.triggerComfort','Current.WeatherText','briefingJob','version','heiter','analysis.security.learningStatus','1786354kaHMCO','setupLtmScheduler','Instanz\x20nicht\x20gefunden','setStateAsync','sendNotification','push','cogni-living\x20adapter\x20starting\x20(v','checkThermostats','json','Gemini\x20Init\x20Error:\x20','callback'];a0_0x301f=function(){return _0x514b75;};return a0_0x301f();}(function(_0x59066c,_0x3d3262){const _0x5ee5d4=a0_0x242b,_0x5bc497=_0x59066c();while(!![]){try{const _0x2a4a27=-parseInt(_0x5ee5d4(0x217))/0x1+-parseInt(_0x5ee5d4(0x1f6))/0x2+-parseInt(_0x5ee5d4(0x159))/0x3*(-parseInt(_0x5ee5d4(0x15f))/0x4)+parseInt(_0x5ee5d4(0x211))/0x5*(parseInt(_0x5ee5d4(0x239))/0x6)+-parseInt(_0x5ee5d4(0x152))/0x7+-parseInt(_0x5ee5d4(0x1db))/0x8*(parseInt(_0x5ee5d4(0x238))/0x9)+-parseInt(_0x5ee5d4(0x1d9))/0xa*(-parseInt(_0x5ee5d4(0x1ef))/0xb);if(_0x2a4a27===_0x3d3262)break;else _0x5bc497['push'](_0x5bc497['shift']());}catch(_0x44e1c4){_0x5bc497['push'](_0x5bc497['shift']());}}}(a0_0x301f,0xc2e30));const a0_0x2fa883=(function(){let _0x2404f7=!![];return function(_0x1624c9,_0x5a0f6b){const _0x11fc31=_0x2404f7?function(){const _0x576eb3=a0_0x242b;if(_0x5a0f6b){const _0x480a2a=_0x5a0f6b[_0x576eb3(0x1a5)](_0x1624c9,arguments);return _0x5a0f6b=null,_0x480a2a;}}:function(){};return _0x2404f7=![],_0x11fc31;};}()),a0_0x8b73fc=a0_0x2fa883(this,function(){const _0x3864a2=a0_0x242b;return a0_0x8b73fc[_0x3864a2(0x1b8)]()[_0x3864a2(0x186)](_0x3864a2(0x233))['toString']()[_0x3864a2(0x232)](a0_0x8b73fc)[_0x3864a2(0x186)](_0x3864a2(0x233));});a0_0x8b73fc();function a0_0x242b(_0xbcedf7,_0x40e789){const _0x2bfd50=a0_0x301f();return a0_0x242b=function(_0x8b73fc,_0x2fa883){_0x8b73fc=_0x8b73fc-0x145;let _0x301f22=_0x2bfd50[_0x8b73fc];return _0x301f22;},a0_0x242b(_0xbcedf7,_0x40e789);}'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x58f3d9(0x1df)),installer=require(a0_0x58f3d9(0x1c2)),scanner=require('./lib/scanner'),schedulers=require(a0_0x58f3d9(0x146)),topology=require(a0_0x58f3d9(0x24a)),setup=require(a0_0x58f3d9(0x1ac)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x58f3d9(0x204)),aiAgent=require(a0_0x58f3d9(0x14b)),deadMan=require(a0_0x58f3d9(0x1eb)),automation=require('./lib/automation'),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x36189a){const _0x16936b=a0_0x58f3d9;super({..._0x36189a,'name':_0x16936b(0x19b)}),this[_0x16936b(0x17c)]=[],this[_0x16936b(0x21a)]=[],this['rawEventLog']=[],this['dailyDigests']=[],this[_0x16936b(0x216)]={},this[_0x16936b(0x1b3)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x16936b(0x172)]=!![],this[_0x16936b(0x224)]=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this[_0x16936b(0x24b)]=null,this['geminiModel']=null,this[_0x16936b(0x19a)]=setup['SYSTEM_MODES'][_0x16936b(0x151)],this['isProVersion']=![],this[_0x16936b(0x1a8)]=![],this['analysisTimer']=null,this[_0x16936b(0x1b7)]=null,this[_0x16936b(0x14a)]=null,this[_0x16936b(0x1ec)]=null,this[_0x16936b(0x1f2)]=null,this[_0x16936b(0x1c4)]=![],this['on'](_0x16936b(0x247),this[_0x16936b(0x1e0)][_0x16936b(0x21e)](this)),this['on'](_0x16936b(0x244),this[_0x16936b(0x1a1)][_0x16936b(0x21e)](this)),this['on'](_0x16936b(0x1af),this['onUnload']['bind'](this)),this['on'](_0x16936b(0x1b0),this[_0x16936b(0x1e4)]['bind'](this));}async[a0_0x58f3d9(0x1e0)](){const _0x482936=a0_0x58f3d9;this[_0x482936(0x164)][_0x482936(0x23f)](_0x482936(0x1fc)+this[_0x482936(0x1f3)]+_0x482936(0x153));if(!installer[_0x482936(0x16f)](this,()=>this[_0x482936(0x182)]()))return;}async[a0_0x58f3d9(0x182)](){const _0x4c4412=a0_0x58f3d9;await setup[_0x4c4412(0x148)](this);try{this[_0x4c4412(0x1e9)]=await setup[_0x4c4412(0x19e)](this[_0x4c4412(0x14d)][_0x4c4412(0x1e1)]);}catch(_0x2c9cf8){}if(!this[_0x4c4412(0x14d)]['inactivityThresholdHours']||this[_0x4c4412(0x14d)][_0x4c4412(0x16e)]<0.1)this[_0x4c4412(0x14d)][_0x4c4412(0x16e)]=0xc;await setup[_0x4c4412(0x16a)](this),await setup[_0x4c4412(0x1de)](this);if(this[_0x4c4412(0x14d)][_0x4c4412(0x16b)])try{this[_0x4c4412(0x24b)]=new GoogleGenerativeAI(this[_0x4c4412(0x14d)][_0x4c4412(0x16b)]),this[_0x4c4412(0x241)]=this[_0x4c4412(0x24b)][_0x4c4412(0x18c)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x4c4412(0x183)}}),this[_0x4c4412(0x164)][_0x4c4412(0x23f)](_0x4c4412(0x203));}catch(_0x2adb59){this['log'][_0x4c4412(0x206)](_0x4c4412(0x1ff)+_0x2adb59[_0x4c4412(0x1b0)]);}await setup['createAllObjects'](this),await this['loadSystemMode'](),await this[_0x4c4412(0x1b1)](_0x4c4412(0x167),{'type':'state','common':{'name':'PINN\x20AI\x20Forecast','type':_0x4c4412(0x175),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x4c4412(0x1b1)]('analysis.energy.ventilationAlerts',{'type':_0x4c4412(0x181),'common':{'name':_0x4c4412(0x202),'type':'string','role':_0x4c4412(0x1fe),'read':!![],'write':![]},'native':{}}),await this[_0x4c4412(0x1b1)](_0x4c4412(0x1a7),{'type':'state','common':{'name':_0x4c4412(0x16d),'type':'string','role':'json','read':!![],'write':![]},'native':{}});try{const _0x26bbf8=await this[_0x4c4412(0x1c3)]('LTM.rawEventLog');if(_0x26bbf8&&_0x26bbf8['val'])this['rawEventLog']=JSON[_0x4c4412(0x223)](_0x26bbf8[_0x4c4412(0x161)]);}catch(_0x573c02){this[_0x4c4412(0x213)]=[];}try{const _0x17af46=await this['getStateAsync'](_0x4c4412(0x1aa));if(_0x17af46&&_0x17af46['val'])this['dailyDigests']=JSON[_0x4c4412(0x223)](_0x17af46[_0x4c4412(0x161)]);}catch(_0xc2418d){this[_0x4c4412(0x201)]=[];}const _0x37028a=this[_0x4c4412(0x201)]['length']>=(this[_0x4c4412(0x14d)][_0x4c4412(0x1ca)]||0x7)?_0x4c4412(0x192)+this[_0x4c4412(0x201)]['length']+_0x4c4412(0x1b9):_0x4c4412(0x246)+this[_0x4c4412(0x201)]['length']+'/'+(this[_0x4c4412(0x14d)][_0x4c4412(0x1ca)]||0x7)+')';await this[_0x4c4412(0x1f9)](_0x4c4412(0x1c9),{'val':_0x37028a,'ack':!![]}),this['subscribeStates'](_0x4c4412(0x1dc)),this[_0x4c4412(0x196)](_0x4c4412(0x218)),this[_0x4c4412(0x196)]('system.mode'),this[_0x4c4412(0x196)](_0x4c4412(0x205)),this[_0x4c4412(0x196)](_0x4c4412(0x1bb)),this[_0x4c4412(0x196)](_0x4c4412(0x1a2)),this[_0x4c4412(0x196)]('analysis.training.triggerSecurity'),this[_0x4c4412(0x196)](_0x4c4412(0x1d1)),this[_0x4c4412(0x196)](_0x4c4412(0x169)),this['subscribeStates'](_0x4c4412(0x1f0)),this[_0x4c4412(0x196)](_0x4c4412(0x149)),this[_0x4c4412(0x196)]('analysis.energy.mpcActive');const _0x230f23=this['config'][_0x4c4412(0x195)];if(_0x230f23)for(const _0x1b49a1 of _0x230f23){await this[_0x4c4412(0x1da)](_0x1b49a1['id']);}const _0x1b2f89=this['config'][_0x4c4412(0x236)];if(_0x1b2f89)for(const _0x5004b7 of _0x1b2f89){await this[_0x4c4412(0x1da)](_0x5004b7);}if(this[_0x4c4412(0x14d)]['notifyTelegramEnabled']&&this[_0x4c4412(0x14d)][_0x4c4412(0x176)])await this[_0x4c4412(0x1da)](this[_0x4c4412(0x14d)]['notifyTelegramInstance']+_0x4c4412(0x158));setTimeout(()=>this[_0x4c4412(0x1e2)](),0x1388);if(this[_0x4c4412(0x173)])clearInterval(this['analysisTimer']);const _0x43b33c=this[_0x4c4412(0x14d)]['analysisInterval']||0xf;_0x43b33c>0x0&&(this[_0x4c4412(0x173)]=setInterval(()=>{const _0x4c179a=_0x4c4412;this[_0x4c179a(0x1e6)](),automation[_0x4c179a(0x231)](this);},_0x43b33c*0x3c*0x3e8)),setTimeout(()=>automation['checkCalendarTriggers'](this),0x2710),schedulers[_0x4c4412(0x1f7)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x4c4412(0x170)](this,()=>aiAgent[_0x4c4412(0x1ad)](this)),schedulers[_0x4c4412(0x1a6)](this,()=>aiAgent[_0x4c4412(0x242)](this)),pythonBridge[_0x4c4412(0x1bf)](this,installer[_0x4c4412(0x160)]),setTimeout(async()=>{const _0x5490ba=_0x4c4412;await topology[_0x5490ba(0x189)](this);try{const _0x5412bf=await this[_0x5490ba(0x1c3)](_0x5490ba(0x214));if(_0x5412bf&&_0x5412bf[_0x5490ba(0x161)])pythonBridge[_0x5490ba(0x1ee)](this,'SET_TOPOLOGY',JSON[_0x5490ba(0x223)](_0x5412bf['val']));}catch(_0x5397b4){}this[_0x5490ba(0x225)](),this[_0x5490ba(0x240)](),this['triggerEnergyPrediction'](),this[_0x5490ba(0x147)]();},0x1388);}[a0_0x58f3d9(0x20b)](_0x4b05b5){const _0x58268d=a0_0x58f3d9;if(this[_0x58268d(0x173)])clearInterval(this[_0x58268d(0x173)]);if(this[_0x58268d(0x1ec)])clearInterval(this[_0x58268d(0x1ec)]);if(this[_0x58268d(0x1b7)])this[_0x58268d(0x1b7)]['cancel']();if(this[_0x58268d(0x14a)])this[_0x58268d(0x14a)][_0x58268d(0x23d)]();if(this['briefingJob'])this['briefingJob'][_0x58268d(0x23d)]();recorder['abortExitTimer'](this),pythonBridge[_0x58268d(0x199)](this),_0x4b05b5();}async[a0_0x58f3d9(0x1a1)](_0x1830eb,_0x1db3f6){const _0x4c887e=a0_0x58f3d9;if(!_0x1db3f6||this[_0x4c887e(0x1c4)])return;if(_0x1830eb[_0x4c887e(0x193)](_0x4c887e(0x20d))&&_0x1830eb[_0x4c887e(0x228)](_0x4c887e(0x243))&&_0x1db3f6[_0x4c887e(0x161)])return;if(_0x1830eb===this['namespace']+_0x4c887e(0x20e)){if(_0x1db3f6['val']&&Object[_0x4c887e(0x1a9)](setup[_0x4c887e(0x208)])['includes'](_0x1db3f6[_0x4c887e(0x161)])){this['currentSystemMode']=_0x1db3f6['val'];if(_0x1db3f6[_0x4c887e(0x161)]===setup[_0x4c887e(0x208)][_0x4c887e(0x174)])await recorder[_0x4c887e(0x21c)](this,![]);else await recorder[_0x4c887e(0x21c)](this,!![]);if(this['isProVersion']){let _0x5c09ee=![],_0x4e960f=0x0,_0x484170=_0x4c887e(0x1ce);if(this[_0x4c887e(0x19a)]===_0x4c887e(0x20c))_0x5c09ee=!![],_0x4e960f=0x168,_0x484170=_0x4c887e(0x166);else this[_0x4c887e(0x19a)]==='guest'&&(_0x5c09ee=!![],_0x4e960f=0x5a0,_0x484170='Guest\x20Mode');pythonBridge['send'](this,_0x4c887e(0x20a),{'active':_0x5c09ee,'duration':_0x4e960f,'label':_0x484170}),await this[_0x4c887e(0x1f9)](_0x4c887e(0x1f5),{'val':JSON['stringify']({'active':_0x5c09ee,'label':_0x484170,'timestamp':Date[_0x4c887e(0x227)]()}),'ack':!![]});}}if(!_0x1db3f6[_0x4c887e(0x178)])this[_0x4c887e(0x209)](_0x1830eb,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x1db3f6[_0x4c887e(0x178)]){_0x1830eb[_0x4c887e(0x193)](_0x4c887e(0x1dc))&&_0x1db3f6[_0x4c887e(0x161)]&&(this[_0x4c887e(0x209)](_0x1830eb,{'val':![],'ack':!![]}),aiAgent[_0x4c887e(0x23c)](this));if(_0x1830eb[_0x4c887e(0x193)](_0x4c887e(0x1e5))&&_0x1db3f6[_0x4c887e(0x161)]){this[_0x4c887e(0x209)](_0x1830eb,{'val':![],'ack':!![]});if(this[_0x4c887e(0x1e9)])aiAgent[_0x4c887e(0x234)](this,pythonBridge);}_0x1830eb[_0x4c887e(0x193)](_0x4c887e(0x1d8))&&_0x1db3f6[_0x4c887e(0x161)]&&(this[_0x4c887e(0x209)](_0x1830eb,{'val':![],'ack':!![]}),aiAgent[_0x4c887e(0x242)](this));_0x1830eb[_0x4c887e(0x193)](_0x4c887e(0x237))&&_0x1db3f6['val']&&(this[_0x4c887e(0x209)](_0x1830eb,{'val':![],'ack':!![]}),aiAgent[_0x4c887e(0x1b5)](this));if(_0x1830eb[_0x4c887e(0x193)](_0x4c887e(0x15b))&&_0x1db3f6[_0x4c887e(0x161)]){this[_0x4c887e(0x209)](_0x1830eb,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x145290=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x145290&&_0x145290['val']){const _0x5068b1=JSON[_0x4c887e(0x223)](_0x145290[_0x4c887e(0x161)]);this[_0x4c887e(0x1f9)](_0x4c887e(0x1c8),{'val':_0x4c887e(0x19d),'ack':!![]}),pythonBridge[_0x4c887e(0x1ee)](this,'TRAIN_SECURITY',{'sequences':_0x5068b1});}}catch(_0x33af78){}}if(_0x1830eb['includes']('analysis.training.triggerHealth')&&_0x1db3f6[_0x4c887e(0x161)]){this['setState'](_0x1830eb,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x80486e=await this[_0x4c887e(0x1c3)](_0x4c887e(0x1aa));if(_0x80486e&&_0x80486e['val'])pythonBridge[_0x4c887e(0x1ee)](this,_0x4c887e(0x1c1),{'digests':JSON[_0x4c887e(0x223)](_0x80486e[_0x4c887e(0x161)])});}catch(_0x23d83d){}}if(_0x1830eb[_0x4c887e(0x193)](_0x4c887e(0x169))&&_0x1db3f6[_0x4c887e(0x161)]){this[_0x4c887e(0x209)](_0x1830eb,{'val':![],'ack':!![]});if(this[_0x4c887e(0x1e9)])try{const _0x140971=await this[_0x4c887e(0x1c3)]('LTM.trainingData.thermodynamics');if(_0x140971&&_0x140971[_0x4c887e(0x161)])pythonBridge['send'](this,_0x4c887e(0x219),{'points':JSON[_0x4c887e(0x223)](_0x140971[_0x4c887e(0x161)])});}catch(_0x5cd411){}}if(_0x1830eb[_0x4c887e(0x193)](_0x4c887e(0x1f0))&&_0x1db3f6[_0x4c887e(0x161)]){this[_0x4c887e(0x209)](_0x1830eb,{'val':![],'ack':!![]});if(this[_0x4c887e(0x1e9)])try{const _0x9983ea=await this[_0x4c887e(0x1c3)](_0x4c887e(0x188));if(_0x9983ea&&_0x9983ea[_0x4c887e(0x161)])pythonBridge[_0x4c887e(0x1ee)](this,'TRAIN_COMFORT',{'events':JSON['parse'](_0x9983ea[_0x4c887e(0x161)])});}catch(_0xe4da71){}}_0x1830eb[_0x4c887e(0x193)]('analysis.training.triggerTopology')&&_0x1db3f6[_0x4c887e(0x161)]&&(this[_0x4c887e(0x209)](_0x1830eb,{'val':![],'ack':!![]}),topology[_0x4c887e(0x189)](this));return;}if(this[_0x4c887e(0x14d)]['presenceDevices']&&this['config']['presenceDevices'][_0x4c887e(0x193)](_0x1830eb)){await this[_0x4c887e(0x1e2)]();return;}const _0x5079f9=(this[_0x4c887e(0x14d)][_0x4c887e(0x195)]||[])[_0x4c887e(0x21f)](_0x2509cf=>_0x2509cf['id']===_0x1830eb);if(_0x5079f9){const _0x460296=await recorder[_0x4c887e(0x165)](this,_0x1830eb,_0x1db3f6,_0x5079f9);_0x460296&&_0x460296[_0x4c887e(0x229)]===_0x4c887e(0x23b)&&_0x460296[_0x4c887e(0x197)]&&this['isProVersion']&&deadMan['updateLocation'](this,_0x460296[_0x4c887e(0x197)]);}}async['onMessage'](_0x5b1dd7){const _0x41a2d1=a0_0x58f3d9;if(typeof _0x5b1dd7===_0x41a2d1(0x1ed)&&_0x5b1dd7[_0x41a2d1(0x1b0)]){if(_0x5b1dd7[_0x41a2d1(0x1ab)]===_0x41a2d1(0x1fd))try{const _0x1df151=await automation[_0x41a2d1(0x150)](this);this['sendTo'](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7['command'],{'success':!![],'results':_0x1df151},_0x5b1dd7[_0x41a2d1(0x200)]);}catch(_0x129b4c){this['sendTo'](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7['command'],{'success':![],'error':_0x129b4c['message']},_0x5b1dd7['callback']);}else{if(_0x5b1dd7[_0x41a2d1(0x1ab)]===_0x41a2d1(0x1e8))try{const {current_temps:_0x391357,t_out:_0x1c47c3,targets:_0x1f7df8,t_forecast:_0x366819}=_0x5b1dd7[_0x41a2d1(0x1b0)],_0x5329fe=[];let _0x253679={};try{const _0xa120a7=await this[_0x41a2d1(0x1c3)](_0x41a2d1(0x15a));if(_0xa120a7&&_0xa120a7['val']){const _0x4ed7e4=JSON[_0x41a2d1(0x223)](_0xa120a7[_0x41a2d1(0x161)]);_0x253679=_0x4ed7e4[_0x41a2d1(0x14f)]||_0x4ed7e4;}}catch(_0xa71c6c){}const _0x402112=_0x366819!==undefined&&_0x366819!==null?(_0x1c47c3+_0x366819)/0x2:_0x1c47c3;for(const [_0x3dd5bf,_0x3d4f0e]of Object[_0x41a2d1(0x171)](_0x391357)){const _0x337d62=_0x1f7df8[_0x3dd5bf]||0x15;if(_0x3d4f0e<=_0x337d62)continue;let _0x471966=_0x253679[_0x3dd5bf]||-0.5;if(_0x471966>=0x0)_0x471966=-0.5;const _0xf41988=Math[_0x41a2d1(0x156)](_0x471966),_0x24ec18=_0x3d4f0e-_0x337d62;let _0x23b484=Math['floor'](_0x24ec18/_0xf41988*0x3c);const _0xb18afe=_0x3d4f0e-_0x1c47c3,_0x4096f5=_0x3d4f0e-_0x402112;if(_0x4096f5!==0x0&&_0xb18afe!==0x0){const _0x31a712=_0xb18afe/_0x4096f5;_0x23b484=Math[_0x41a2d1(0x18d)](_0x23b484*_0x31a712);}if(_0x23b484>0xf){if(_0x23b484>0xf0)_0x23b484=0xf0;_0x5329fe['push']({'room':_0x3dd5bf,'minutes_safe':_0x23b484,'target':_0x337d62,'current':_0x3d4f0e,'savings_msg':'Heizung\x20kann\x20'+_0x23b484+'\x20min\x20ausbleiben.'});}}_0x5329fe[_0x41a2d1(0x22a)]((_0x11499e,_0xc3cf7f)=>_0xc3cf7f['minutes_safe']-_0x11499e[_0x41a2d1(0x198)]),this['sendTo'](_0x5b1dd7['from'],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':!![],'proposals':_0x5329fe},_0x5b1dd7[_0x41a2d1(0x200)]);}catch(_0x31d21f){this[_0x41a2d1(0x235)](_0x5b1dd7['from'],_0x5b1dd7['command'],{'success':![],'error':_0x31d21f[_0x41a2d1(0x1b0)]},_0x5b1dd7[_0x41a2d1(0x200)]);}else{if(_0x5b1dd7[_0x41a2d1(0x1ab)]===_0x41a2d1(0x1d3))await this[_0x41a2d1(0x1f9)](_0x41a2d1(0x1a4),{'val':![],'ack':!![]}),await this[_0x41a2d1(0x1f9)]('analysis.automation.description',{'val':'','ack':!![]}),await this[_0x41a2d1(0x1f9)]('analysis.automation.targetId',{'val':'','ack':!![]}),this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':!![]},_0x5b1dd7['callback']);else{if(_0x5b1dd7[_0x41a2d1(0x1ab)]===_0x41a2d1(0x17b)){const {targetId:_0x3e83d7,targetValue:_0x26d1cc}=_0x5b1dd7[_0x41a2d1(0x1b0)];await this['setStateAsync'](_0x41a2d1(0x1a4),{'val':!![],'ack':!![]}),await this['setStateAsync'](_0x41a2d1(0x22f),{'val':_0x41a2d1(0x17d),'ack':!![]}),await this['setStateAsync'](_0x41a2d1(0x16c),{'val':_0x3e83d7,'ack':!![]}),await this[_0x41a2d1(0x1f9)]('analysis.automation.targetValue',{'val':String(_0x26d1cc),'ack':!![]}),this['sendTo'](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7['command'],{'success':!![]},_0x5b1dd7[_0x41a2d1(0x200)]);}else{if(_0x5b1dd7['command']===_0x41a2d1(0x22b))try{const _0xd6942b=_0x5b1dd7[_0x41a2d1(0x1b0)][_0x41a2d1(0x17e)];if(!_0xd6942b)throw new Error(_0x41a2d1(0x179));const _0x26d6d8=new GoogleGenerativeAI(_0xd6942b),_0x47f35c=_0x26d6d8[_0x41a2d1(0x18c)]({'model':GEMINI_MODEL}),_0x4e259a=await _0x47f35c[_0x41a2d1(0x23a)]('Test'),_0x1af5af=await _0x4e259a[_0x41a2d1(0x21d)];if(_0x1af5af['text']())this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x5b1dd7[_0x41a2d1(0x200)]);else throw new Error('Keine\x20Antwort\x20von\x20Gemini');}catch(_0x33a7ed){this['sendTo'](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':![],'message':_0x33a7ed[_0x41a2d1(0x1b0)]},_0x5b1dd7[_0x41a2d1(0x200)]);}else{if(_0x5b1dd7[_0x41a2d1(0x1ab)]==='scanDevices')try{const _0x2c13ad=await scanner[_0x41a2d1(0x154)](this,_0x5b1dd7[_0x41a2d1(0x1b0)]||{});this['sendTo'](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7['command'],{'success':!![],'devices':_0x2c13ad},_0x5b1dd7['callback']);}catch(_0x41c1a8){this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':![],'error':_0x41c1a8[_0x41a2d1(0x1b0)]},_0x5b1dd7[_0x41a2d1(0x200)]);}else{if(_0x5b1dd7[_0x41a2d1(0x1ab)]===_0x41a2d1(0x215))try{const {matrix:_0x4fc1b6}=_0x5b1dd7[_0x41a2d1(0x1b0)],_0x6e4bb9=await this['getStateAsync'](_0x41a2d1(0x214));if(_0x6e4bb9&&_0x6e4bb9[_0x41a2d1(0x161)]){const _0xed4bbe=JSON[_0x41a2d1(0x223)](_0x6e4bb9[_0x41a2d1(0x161)]);_0xed4bbe[_0x41a2d1(0x230)]=_0x4fc1b6,_0xed4bbe[_0x41a2d1(0x19f)]=Date[_0x41a2d1(0x227)](),await this[_0x41a2d1(0x1f9)]('analysis.topology.structure',{'val':JSON[_0x41a2d1(0x20f)](_0xed4bbe),'ack':!![]}),pythonBridge['send'](this,_0x41a2d1(0x17a),_0xed4bbe);}this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':!![]},_0x5b1dd7[_0x41a2d1(0x200)]);}catch(_0x235acd){this['log'][_0x41a2d1(0x206)](_0x235acd);}else{if(_0x5b1dd7[_0x41a2d1(0x1ab)]==='getLtmData')this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':!![],'dailyDigests':this[_0x41a2d1(0x201)]||[],'analysisHistory':this[_0x41a2d1(0x21a)]||[]},_0x5b1dd7['callback']);else{if(_0x5b1dd7[_0x41a2d1(0x1ab)]===_0x41a2d1(0x15c)){const _0x5b8e45=this['dailyDigests']['length'],_0x272e81=new Array(0x18)[_0x41a2d1(0x185)](0x0),_0x2c0d19=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x41a2d1(0x17c)]&&this[_0x41a2d1(0x17c)][_0x41a2d1(0x155)](_0x1c390c=>{const _0x1fdfd7=_0x41a2d1;if(_0x1c390c['timestamp']>=_0x2c0d19){const _0x3f51d2=new Date(_0x1c390c['timestamp'])[_0x1fdfd7(0x190)]();if(_0x3f51d2>=0x0&&_0x3f51d2<0x18)_0x272e81[_0x3f51d2]++;}});let _0xce8091=![],_0x4d2641='',_0x18963e='',_0x2a6dd5='';try{const _0x37b3fa=await this[_0x41a2d1(0x1c3)]('analysis.automation.patternDetected');if(_0x37b3fa&&_0x37b3fa[_0x41a2d1(0x161)]){_0xce8091=!![];const _0x3f88b1=await this[_0x41a2d1(0x1c3)](_0x41a2d1(0x22f));_0x4d2641=_0x3f88b1?_0x3f88b1[_0x41a2d1(0x161)]:'';const _0x349c5a=await this[_0x41a2d1(0x1c3)](_0x41a2d1(0x16c));_0x18963e=_0x349c5a?_0x349c5a[_0x41a2d1(0x161)]:'';const _0x543827=await this[_0x41a2d1(0x1c3)](_0x41a2d1(0x18f));_0x2a6dd5=_0x543827?_0x543827[_0x41a2d1(0x161)]:'';}}catch(_0x76e262){}const _0x14b37c=await this[_0x41a2d1(0x1d7)](),_0x549bc8=(this['config']['devices']||[])[_0x41a2d1(0x14e)](_0x154e63=>_0x154e63[_0x41a2d1(0x222)]),_0x4f01f2=_0x14b37c&&_0x549bc8;this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':!![],'eventHistory':this['eventHistory'][_0x41a2d1(0x1cd)](0x0,0xf),'stats':{'digestCount':_0x5b8e45,'isPresent':this[_0x41a2d1(0x172)],'hourlyActivity':_0x272e81,'solarActive':_0x4f01f2},'automation':{'detected':_0xce8091,'description':_0x4d2641,'targetId':_0x18963e,'targetValue':_0x2a6dd5}},_0x5b1dd7['callback']);}else{if(_0x5b1dd7[_0x41a2d1(0x1ab)]==='getEnums'){const _0x2e78e4=await this['getForeignObjectsAsync'](_0x41a2d1(0x1cb),_0x41a2d1(0x221)),_0x5c1bf9=[];if(_0x2e78e4)for(const _0x3b30af in _0x2e78e4){const _0x3551fe=_0x2e78e4[_0x3b30af],_0x5a9910=(_0x3551fe['common']&&typeof _0x3551fe['common'][_0x41a2d1(0x1d2)]==='object'?_0x3551fe[_0x41a2d1(0x168)]['name']['de']:_0x3551fe['common'][_0x41a2d1(0x1d2)])||_0x3551fe[_0x41a2d1(0x168)][_0x41a2d1(0x1d2)];_0x5c1bf9['push']({'id':_0x3b30af,'name':_0x5a9910});}const _0x44ef66=await this[_0x41a2d1(0x163)]('enum.rooms.*',_0x41a2d1(0x221)),_0x2baf5f=[];if(_0x44ef66)for(const _0x25dc56 in _0x44ef66){const _0x5297d0=_0x44ef66[_0x25dc56],_0x101433=(_0x5297d0['common']&&typeof _0x5297d0['common']['name']===_0x41a2d1(0x1ed)?_0x5297d0[_0x41a2d1(0x168)][_0x41a2d1(0x1d2)]['de']:_0x5297d0[_0x41a2d1(0x168)][_0x41a2d1(0x1d2)])||_0x25dc56['split']('.')['pop']();_0x2baf5f[_0x41a2d1(0x1fb)](_0x101433);}this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':!![],'enums':_0x5c1bf9,'rooms':_0x2baf5f},_0x5b1dd7[_0x41a2d1(0x200)]);}else{if(_0x5b1dd7[_0x41a2d1(0x1ab)]===_0x41a2d1(0x226))try{let _0x496466=_0x41a2d1(0x22d),_0x355612=_0x41a2d1(0x180);if(this['config'][_0x41a2d1(0x248)]){const _0x2e0349=await recorder[_0x41a2d1(0x220)](this);_0x496466=_0x2e0349!==null?_0x2e0349+'Â°C':_0x41a2d1(0x1b2);}if(this['config'][_0x41a2d1(0x1c0)]){const _0x4454ca=await this[_0x41a2d1(0x245)](_0x41a2d1(0x145)+this[_0x41a2d1(0x14d)]['calendarInstance']);_0x355612=_0x4454ca?_0x41a2d1(0x212):_0x41a2d1(0x1f8);}this[_0x41a2d1(0x235)](_0x5b1dd7['from'],_0x5b1dd7['command'],{'success':!![],'weather':_0x496466,'calendar':_0x355612},_0x5b1dd7['callback']);}catch(_0xc2d94){this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7['command'],{'success':![],'error':_0xc2d94['message']},_0x5b1dd7[_0x41a2d1(0x200)]);}else{if(_0x5b1dd7['command']===_0x41a2d1(0x1ea))try{const _0x4c912e=_0x5b1dd7[_0x41a2d1(0x1b0)][_0x41a2d1(0x14c)],_0x1f817f=await this['getForeignStateAsync'](_0x4c912e+'.data.table');let _0x26ce08=[];if(_0x1f817f&&_0x1f817f[_0x41a2d1(0x161)]){const _0x99b81a=JSON[_0x41a2d1(0x223)](_0x1f817f[_0x41a2d1(0x161)]),_0x1c34d0=new Set();Array['isArray'](_0x99b81a)&&_0x99b81a[_0x41a2d1(0x155)](_0x3a61fc=>{const _0x5ec547=_0x41a2d1;if(_0x3a61fc[_0x5ec547(0x22e)])_0x1c34d0[_0x5ec547(0x19c)](_0x3a61fc['_calName']);else{if(_0x3a61fc[_0x5ec547(0x177)])_0x1c34d0[_0x5ec547(0x19c)](_0x3a61fc[_0x5ec547(0x177)]);}}),_0x26ce08=Array[_0x41a2d1(0x1c6)](_0x1c34d0)[_0x41a2d1(0x22a)]();}if(_0x26ce08[_0x41a2d1(0x207)]===0x0)_0x26ce08=['Standard'];this['sendTo'](_0x5b1dd7['from'],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':!![],'names':_0x26ce08},_0x5b1dd7[_0x41a2d1(0x200)]);}catch(_0x1453ba){this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7['command'],{'success':![],'error':_0x1453ba['message']},_0x5b1dd7['callback']);}else{if(_0x5b1dd7['command']===_0x41a2d1(0x194))try{await setup[_0x41a2d1(0x1fa)](this,_0x41a2d1(0x1a3),![],![]),this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7[_0x41a2d1(0x1ab)],{'success':!![],'message':_0x41a2d1(0x1d6)},_0x5b1dd7[_0x41a2d1(0x200)]);}catch(_0x2d8a13){this[_0x41a2d1(0x164)]['error'](_0x41a2d1(0x17f)+_0x2d8a13[_0x41a2d1(0x1b0)]),this[_0x41a2d1(0x235)](_0x5b1dd7[_0x41a2d1(0x1c6)],_0x5b1dd7['command'],{'success':![],'message':'Fehler:\x20'+_0x2d8a13[_0x41a2d1(0x1b0)]},_0x5b1dd7[_0x41a2d1(0x200)]);}}}}}}}}}}}}}}}async[a0_0x58f3d9(0x1cf)](){const _0x2f82b8=a0_0x58f3d9;try{const _0x4e182a=await this[_0x2f82b8(0x1c3)](setup['SYSTEM_DP_MODE']);_0x4e182a&&_0x4e182a[_0x2f82b8(0x161)]&&Object[_0x2f82b8(0x1a9)](setup[_0x2f82b8(0x208)])[_0x2f82b8(0x193)](_0x4e182a[_0x2f82b8(0x161)])?this[_0x2f82b8(0x19a)]=_0x4e182a[_0x2f82b8(0x161)]:(this[_0x2f82b8(0x19a)]=setup['SYSTEM_MODES'][_0x2f82b8(0x151)],await this[_0x2f82b8(0x1f9)](setup[_0x2f82b8(0x210)],{'val':setup['SYSTEM_MODES']['NORMAL'],'ack':!![]}));}catch(_0xf32bb1){this[_0x2f82b8(0x19a)]=setup[_0x2f82b8(0x208)]['NORMAL'];}}async[a0_0x58f3d9(0x1e2)](){const _0x1a2149=a0_0x58f3d9;try{const _0x2680fd=this['config'][_0x1a2149(0x236)]||[];let _0x58563c=![];const _0x486c66=[];for(const _0x216f09 of _0x2680fd){try{const _0x409414=await this['getForeignStateAsync'](_0x216f09);_0x409414&&(_0x409414[_0x1a2149(0x161)]===!![]||_0x409414[_0x1a2149(0x161)]===_0x1a2149(0x18e)||_0x409414[_0x1a2149(0x161)]===0x1)&&(_0x58563c=!![],_0x486c66[_0x1a2149(0x1fb)](_0x216f09));}catch(_0x574125){}}return await this[_0x1a2149(0x1f9)](_0x1a2149(0x1c7),{'val':_0x486c66[_0x1a2149(0x15e)](',\x20'),'ack':!![]}),_0x58563c&&(this[_0x1a2149(0x224)]&&(this[_0x1a2149(0x164)][_0x1a2149(0x23f)](_0x1a2149(0x1d5)),recorder[_0x1a2149(0x22c)](this)),!this[_0x1a2149(0x172)]&&this[_0x1a2149(0x19a)]===setup['SYSTEM_MODES']['NORMAL']&&await recorder['setPresence'](this,!![])),_0x58563c;}catch(_0x60b91a){return![];}}async[a0_0x58f3d9(0x1e6)](){const _0x3a93d4=a0_0x58f3d9;this['log'][_0x3a93d4(0x1d4)](_0x3a93d4(0x1c5)),await aiAgent['runGeminiAnalysis'](this),this[_0x3a93d4(0x147)](),this[_0x3a93d4(0x240)](),this[_0x3a93d4(0x1be)]();}async[a0_0x58f3d9(0x1d7)](){const _0x4cf4b0=a0_0x58f3d9,_0x4b8462=[_0x4cf4b0(0x157),'accuweather.0','daswetter.0'],_0x33d191=['forecast.current.weather',_0x4cf4b0(0x1f1),_0x4cf4b0(0x1e7)];for(const _0x1b50b0 of _0x4b8462){for(const _0x5c6c1e of _0x33d191){try{const _0x48f6bb=_0x1b50b0+'.'+_0x5c6c1e,_0x3dc292=await this[_0x4cf4b0(0x1d0)](_0x48f6bb);if(_0x3dc292&&_0x3dc292['val']){const _0x1c939d=String(_0x3dc292[_0x4cf4b0(0x161)])[_0x4cf4b0(0x1b4)]();if(_0x1c939d['includes'](_0x4cf4b0(0x162))||_0x1c939d[_0x4cf4b0(0x193)](_0x4cf4b0(0x1cc))||_0x1c939d['includes'](_0x4cf4b0(0x191))||_0x1c939d['includes'](_0x4cf4b0(0x1bc))||_0x1c939d['includes'](_0x4cf4b0(0x1f4)))return!![];}}catch(_0x1de6c0){}}}return![];}['triggerGaitAnalysis'](){const _0xac69b6=a0_0x58f3d9;if(!this[_0xac69b6(0x1e9)])return;try{this[_0xac69b6(0x1bd)](_0xac69b6(0x184),(_0x1bf3c5,_0x2d0405)=>{const _0x53f985=_0xac69b6;_0x2d0405&&_0x2d0405[_0x53f985(0x161)]&&pythonBridge['send'](this,'ANALYZE_GAIT',{'sequences':JSON[_0x53f985(0x223)](_0x2d0405[_0x53f985(0x161)])});});}catch(_0x3e7b24){}}async[a0_0x58f3d9(0x1be)](){const _0xccfd2=a0_0x58f3d9;if(!this['isProVersion'])return;try{const _0x26b7ea=await recorder[_0xccfd2(0x220)](this);if(_0x26b7ea===null)return;const _0x144737={},_0x2ec35f={},_0x463e19=this[_0xccfd2(0x14d)][_0xccfd2(0x195)]||[];for(const _0x1c5fe3 of _0x463e19){if(_0x1c5fe3[_0xccfd2(0x229)]===_0xccfd2(0x1dd)&&_0x1c5fe3[_0xccfd2(0x197)]){const _0x2c40a4=this[_0xccfd2(0x216)][_0x1c5fe3['id']];if(_0x2c40a4!==undefined)_0x144737[_0x1c5fe3[_0xccfd2(0x197)]]=_0x2c40a4;if(_0x1c5fe3[_0xccfd2(0x222)])_0x2ec35f[_0x1c5fe3['location']]=!![];}}const _0x1eebfe=await this[_0xccfd2(0x1d7)]();Object[_0xccfd2(0x15d)](_0x144737)['length']>0x0&&(pythonBridge[_0xccfd2(0x1ee)](this,_0xccfd2(0x18b),{'current_temps':_0x144737,'t_out':_0x26b7ea,'is_sunny':_0x1eebfe,'solar_flags':_0x2ec35f}),pythonBridge[_0xccfd2(0x1ee)](this,_0xccfd2(0x1b6),{'current_temps':_0x144737,'t_out':_0x26b7ea,'targets':{}}));}catch(_0x3650b6){}}['updateHealthVector'](){const _0x549b09=a0_0x58f3d9;if(!this['rawEventLog']||this[_0x549b09(0x213)][_0x549b09(0x207)]===0x0)return;const _0x4e2fcf=new Array(0x60)[_0x549b09(0x185)](0x0),_0xfe67d=new Date()[_0x549b09(0x249)](0x0,0x0,0x0,0x0);this[_0x549b09(0x213)][_0x549b09(0x155)](_0x421c29=>{const _0x2e0399=_0x549b09,_0x3a8333=new Date(_0x421c29[_0x2e0399(0x1ba)]);if(_0x3a8333[_0x2e0399(0x18a)]()>=_0xfe67d){const _0xde4a84=_0x3a8333[_0x2e0399(0x190)](),_0x26ebac=_0x3a8333['getMinutes'](),_0x9b1cb=_0xde4a84*0x4+Math[_0x2e0399(0x18d)](_0x26ebac/0xf);if(_0x9b1cb>=0x0&&_0x9b1cb<0x60)_0x4e2fcf[_0x9b1cb]++;}}),this['setStateAsync'](_0x549b09(0x1ae),{'val':JSON[_0x549b09(0x20f)](_0x4e2fcf),'ack':!![]});}[a0_0x58f3d9(0x225)](){const _0x433514=a0_0x58f3d9;if(!this['dailyDigests']||this[_0x433514(0x201)]['length']<0x2)return;const _0x4b52db=this['dailyDigests'][_0x433514(0x23e)](_0x37d9a4=>{const _0x56ab27=_0x433514,_0x186ad1=(_0x37d9a4[_0x56ab27(0x21b)]||'')[_0x56ab27(0x1b4)]();return ACTIVITY_LEVEL_MAP[_0x186ad1]||0x32;});pythonBridge[_0x433514(0x1ee)](this,_0x433514(0x1a0),{'values':_0x4b52db,'tag':_0x433514(0x1e3)});}}if(require['main']!==module)module[a0_0x58f3d9(0x187)]=_0x2d3de3=>new CogniLiving(_0x2d3de3);else new CogniLiving();