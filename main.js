const a0_0x172cd8=a0_0x420f;(function(_0x1b9a24,_0x3e5570){const _0x455564=a0_0x420f,_0x48dea2=_0x1b9a24();while(!![]){try{const _0x5453a5=parseInt(_0x455564(0x13f))/0x1+-parseInt(_0x455564(0x1bc))/0x2*(parseInt(_0x455564(0x1f2))/0x3)+-parseInt(_0x455564(0x16a))/0x4*(parseInt(_0x455564(0x311))/0x5)+parseInt(_0x455564(0x144))/0x6+-parseInt(_0x455564(0x1df))/0x7*(-parseInt(_0x455564(0x21b))/0x8)+parseInt(_0x455564(0x308))/0x9+-parseInt(_0x455564(0x1e3))/0xa;if(_0x5453a5===_0x3e5570)break;else _0x48dea2['push'](_0x48dea2['shift']());}catch(_0x148819){_0x48dea2['push'](_0x48dea2['shift']());}}}(a0_0xb633,0x38e59));const a0_0x4b495c=(function(){let _0x310663=!![];return function(_0x5b2f62,_0x1a0aa3){const _0x234cfe=_0x310663?function(){const _0x5dbb70=a0_0x420f;if(_0x1a0aa3){const _0x4c7a3a=_0x1a0aa3[_0x5dbb70(0x29b)](_0x5b2f62,arguments);return _0x1a0aa3=null,_0x4c7a3a;}}:function(){};return _0x310663=![],_0x234cfe;};}()),a0_0xb61d40=a0_0x4b495c(this,function(){const _0x443450=a0_0x420f;return a0_0xb61d40[_0x443450(0x241)]()[_0x443450(0x32e)](_0x443450(0x1cc))['toString']()[_0x443450(0x281)](a0_0xb61d40)[_0x443450(0x32e)](_0x443450(0x1cc));});a0_0xb61d40();'use strict';const utils=require(a0_0x172cd8(0x256)),{GoogleGenerativeAI}=require(a0_0x172cd8(0x171)),schedule=require(a0_0x172cd8(0x222)),{spawn,exec}=require(a0_0x172cd8(0x250)),path=require(a0_0x172cd8(0x2f9)),fs=require('fs'),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x5dc,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL=a0_0x172cd8(0x1cd),LTM_SCHEDULE=a0_0x172cd8(0x141),MODE_RESET_SCHEDULE=a0_0x172cd8(0x1eb),ANALYSIS_HISTORY_MAX_SIZE=0x64,EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,SEQUENCE_TIMEOUT_MS=0x5*0x3c*0x3e8,MAX_TRAINING_SET_SIZE=0x1f4,THERMO_LOG_SIZE=0x3e8,LTM_DP_RAW_LOG='LTM.rawEventLog',LTM_DP_DAILY_DIGESTS=a0_0x172cd8(0x213),LTM_DP_STATUS=a0_0x172cd8(0x25c),LTM_DP_TRIGGER_DIGEST='LTM.triggerDailyDigest',LTM_DP_BASELINE_STATUS=a0_0x172cd8(0x143),LTM_DP_DRIFT_CHANNEL=a0_0x172cd8(0x1d8),LTM_DP_DRIFT_STATUS='LTM.driftAnalysis.baselineDrift',LTM_DP_DRIFT_DETAILS='LTM.driftAnalysis.driftDetails',LTM_DP_DRIFT_LAST_CHECK=a0_0x172cd8(0x2f4),SYSTEM_DP_MODE=a0_0x172cd8(0x1de),HARD_IGNORE_TERMS=[a0_0x172cd8(0x183),a0_0x172cd8(0x224),'update',a0_0x172cd8(0x2e9),a0_0x172cd8(0x1a3),a0_0x172cd8(0x17d),a0_0x172cd8(0x247),a0_0x172cd8(0x266),'error',a0_0x172cd8(0x1dc),a0_0x172cd8(0x318),a0_0x172cd8(0x2c0),a0_0x172cd8(0x276),a0_0x172cd8(0x1f0),a0_0x172cd8(0x198),'firmware',a0_0x172cd8(0x16e),a0_0x172cd8(0x2f7)],BAD_NAMES=['targetposition',a0_0x172cd8(0x15c),a0_0x172cd8(0x25e),'level',a0_0x172cd8(0x304),'brightness','on',a0_0x172cd8(0x2e4),a0_0x172cd8(0x2a9),a0_0x172cd8(0x255),a0_0x172cd8(0x1e6),'blind',a0_0x172cd8(0x150),'status',a0_0x172cd8(0x29e),'presence',a0_0x172cd8(0x29f),a0_0x172cd8(0x161),a0_0x172cd8(0x2ed),'power',a0_0x172cd8(0x2bb),'setpoint',a0_0x172cd8(0x31a),a0_0x172cd8(0x26a),a0_0x172cd8(0x169)],ADAPTER_BLACKLIST=[a0_0x172cd8(0x1d9),a0_0x172cd8(0x18f),a0_0x172cd8(0x1d6),'vis.',a0_0x172cd8(0x243),a0_0x172cd8(0x2b5),a0_0x172cd8(0x17b),a0_0x172cd8(0x1c0),a0_0x172cd8(0x185),a0_0x172cd8(0x27a),'simple-api.'],SYSTEM_MODES={'NORMAL':a0_0x172cd8(0x28f),'VACATION':a0_0x172cd8(0x258),'PARTY':a0_0x172cd8(0x331),'GUEST':a0_0x172cd8(0x158)},AUTO_RESET_MODES=[SYSTEM_MODES['PARTY'],SYSTEM_MODES[a0_0x172cd8(0x16c)]],PERSONA_MAPPING={'generic':'Analysiere\x20ausgewogen.','senior_aal':a0_0x172cd8(0x287),'family':'Fokus\x20auf\x20Familienroutinen.','single_comfort':a0_0x172cd8(0x253),'security':a0_0x172cd8(0x1b8)},ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0},IS_WIN=process[a0_0x172cd8(0x15f)]===a0_0x172cd8(0x332),VENV_PATH=path['join'](__dirname,a0_0x172cd8(0x2fb)),PYTHON_EXE=IS_WIN?path[a0_0x172cd8(0x2fc)](VENV_PATH,a0_0x172cd8(0x191),a0_0x172cd8(0x2c8)):path[a0_0x172cd8(0x2fc)](VENV_PATH,'bin',a0_0x172cd8(0x189)),PIP_EXE=IS_WIN?path[a0_0x172cd8(0x2fc)](VENV_PATH,a0_0x172cd8(0x191),a0_0x172cd8(0x231)):path[a0_0x172cd8(0x2fc)](VENV_PATH,'bin','pip');let activeSequence=[],sequenceTimer=null;async function initZombies(_0x373b57){const _0x48cea0=a0_0x172cd8;try{const _0xf44ff4=[_0x48cea0(0x199),'events.history_debug_00'];for(const _0x17dd92 of _0xf44ff4){try{const _0x41360f=await _0x373b57[_0x48cea0(0x134)](_0x17dd92);_0x41360f&&await _0x373b57[_0x48cea0(0x330)](_0x17dd92);}catch(_0x7a04b5){}}}catch(_0x13dd12){}}async function initHistory(_0xce61f5){const _0xb1c551=a0_0x172cd8;try{const _0x2a897c=await _0xce61f5['getStateAsync'](_0xb1c551(0x1e1));_0x2a897c&&_0x2a897c['val']&&(_0xce61f5['eventHistory']=JSON[_0xb1c551(0x268)](_0x2a897c[_0xb1c551(0x12a)]['toString']()));}catch(_0x1547ea){_0xce61f5[_0xb1c551(0x252)]=[];}try{const _0x29f215=await _0xce61f5['getStateAsync'](_0xb1c551(0x219));if(_0x29f215&&_0x29f215['val'])_0xce61f5['analysisHistory']=JSON[_0xb1c551(0x268)](_0x29f215[_0xb1c551(0x12a)]['toString']());}catch(_0x34cd58){_0xce61f5[_0xb1c551(0x1a9)]=[];}if(_0xce61f5[_0xb1c551(0x252)]&&_0xce61f5[_0xb1c551(0x252)][_0xb1c551(0x2b2)]>0x0){_0xce61f5[_0xb1c551(0x2d8)]['info']('Restoring\x20sensor\x20cache\x20from\x20history\x20('+_0xce61f5['eventHistory'][_0xb1c551(0x2b2)]+'\x20events)...');for(let _0x33a2cc=_0xce61f5[_0xb1c551(0x252)][_0xb1c551(0x2b2)]-0x1;_0x33a2cc>=0x0;_0x33a2cc--){const _0xacc00c=_0xce61f5[_0xb1c551(0x252)][_0x33a2cc];_0xacc00c&&_0xacc00c['id']!==undefined&&_0xacc00c[_0xb1c551(0x304)]!==undefined&&(_0xce61f5[_0xb1c551(0x12d)][_0xacc00c['id']]=_0xacc00c[_0xb1c551(0x304)]);}}}async function initSystemConfig(_0x21ca6b){const _0x207e31=a0_0x172cd8;try{const _0x337f65=await _0x21ca6b['getForeignObjectAsync'](_0x207e31(0x2dc));_0x337f65&&_0x337f65[_0x207e31(0x137)]&&(_0x21ca6b[_0x207e31(0x197)]={'latitude':_0x337f65[_0x207e31(0x137)][_0x207e31(0x225)]||0x0,'longitude':_0x337f65['common'][_0x207e31(0x190)]||0x0,'city':_0x337f65[_0x207e31(0x137)][_0x207e31(0x1da)]||''});}catch(_0x1505fe){}}async function checkLicense(_0x4a4751,_0x5c6081){const _0x3495a5=a0_0x172cd8;if(!_0x5c6081)return![];_0x4a4751[_0x3495a5(0x20f)]=await getSystemUUID(_0x4a4751);if(_0x5c6081===_0x3495a5(0x17c)||_0x5c6081['startsWith'](_0x3495a5(0x16b)))return!![];return![];}async function getSystemUUID(_0x3fb029){const _0x3bb978=a0_0x172cd8;try{const _0x44fc9c=await _0x3fb029[_0x3bb978(0x24d)](_0x3bb978(0x204));if(_0x44fc9c&&_0x44fc9c[_0x3bb978(0x14b)]&&_0x44fc9c[_0x3bb978(0x14b)]['uuid'])return _0x44fc9c[_0x3bb978(0x14b)][_0x3bb978(0x15a)];return'uuid-not-found';}catch(_0x589cbf){return _0x3bb978(0x13d);}}async function createAllObjects(_0x4a1653){const _0x2be78a=a0_0x172cd8;await checkSystemObjects(_0x4a1653),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x2da),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x237),'type':_0x2be78a(0x240),'role':'text','read':!![],'write':![],'def':''},'native':{}}),await _0x4a1653[_0x2be78a(0x323)]('events.lastEvent',{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x1e9),'type':_0x2be78a(0x240),'role':_0x2be78a(0x309),'read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x1e1),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x192),'type':_0x2be78a(0x240),'role':_0x2be78a(0x309),'read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x128),{'type':_0x2be78a(0x25e),'common':{'name':'Trigger\x20Analysis','type':_0x2be78a(0x2a0),'role':_0x2be78a(0x145),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x2f6),{'type':_0x2be78a(0x25e),'common':{'name':'Trigger\x20Briefing\x20(Test)','type':_0x2be78a(0x2a0),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x2d7)](_0x2be78a(0x20c),{'type':'channel','common':{'name':'AI\x20Training\x20Control'},'native':{}}),await _0x4a1653['setObjectNotExistsAsync'](_0x2be78a(0x223),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x207),'type':'boolean','role':_0x2be78a(0x145),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)]('analysis.training.triggerHealth',{'type':'state','common':{'name':'Train\x20Health\x20Model\x20(IsoForest)','type':_0x2be78a(0x2a0),'role':_0x2be78a(0x145),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x2bf),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x210),'type':_0x2be78a(0x2a0),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x233),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x279),'type':_0x2be78a(0x240),'role':_0x2be78a(0x174),'read':!![],'write':![],'def':'Idle'},'native':{}}),await _0x4a1653[_0x2be78a(0x2d7)](_0x2be78a(0x251),{'type':'channel','common':{'name':_0x2be78a(0x1f3)},'native':{}}),await _0x4a1653['setObjectNotExistsAsync'](_0x2be78a(0x2b1),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x2be),'type':'number','role':'value','read':!![],'write':![],'def':0x0},'native':{}}),await _0x4a1653[_0x2be78a(0x323)]('analysis.security.lastCheck',{'type':'state','common':{'name':_0x2be78a(0x2cd),'type':'string','role':_0x2be78a(0x14c),'read':!![],'write':![],'def':''},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x29c),{'type':'state','common':{'name':'Health\x20Last\x20Check','type':_0x2be78a(0x240),'role':'date','read':!![],'write':![],'def':''},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x229),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x322),'type':_0x2be78a(0x2a0),'role':_0x2be78a(0x30f),'read':!![],'write':![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x2d7)](_0x2be78a(0x257),{'type':_0x2be78a(0x1af),'common':{'name':_0x2be78a(0x19d)},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x17f),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x164),'type':_0x2be78a(0x240),'role':'text','read':!![],'write':![],'def':_0x2be78a(0x29d)},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x22b),{'type':'state','common':{'name':_0x2be78a(0x1f5),'type':_0x2be78a(0x240),'role':_0x2be78a(0x174),'read':!![],'write':![],'def':'N/A'},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x2e6),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x217),'type':_0x2be78a(0x240),'role':'json','read':!![],'write':![]},'native':{}}),await _0x4a1653['setObjectNotExistsAsync'](_0x2be78a(0x21e),{'type':_0x2be78a(0x25e),'common':{'name':'AI\x20Alert\x20Status','type':'boolean','role':'indicator.alarm','read':!![],'write':![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x21c),{'type':'state','common':{'name':'AI\x20Emergency\x20Status','type':_0x2be78a(0x2a0),'role':_0x2be78a(0x1b7),'read':!![],'write':![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x325),{'type':'state','common':{'name':_0x2be78a(0x184),'type':_0x2be78a(0x240),'role':_0x2be78a(0x284),'read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x25a),{'type':_0x2be78a(0x25e),'common':{'name':'Activity\x20Summary','type':_0x2be78a(0x240),'role':_0x2be78a(0x174),'read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)]('analysis.deviationFromBaseline',{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x1fa),'type':_0x2be78a(0x240),'role':'state','read':!![],'write':![],'def':_0x2be78a(0x29d)},'native':{}}),await _0x4a1653[_0x2be78a(0x323)]('analysis.comfortSummary',{'type':_0x2be78a(0x25e),'common':{'name':'Comfort\x20Summary','type':_0x2be78a(0x240),'role':'text','read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x2cb),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x22d),'type':_0x2be78a(0x240),'role':_0x2be78a(0x174),'read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x2d7)](_0x2be78a(0x246),{'type':'channel','common':{'name':'Automation\x20Proposals'},'native':{}}),await _0x4a1653[_0x2be78a(0x323)]('analysis.automation.patternDetected',{'type':'state','common':{'name':_0x2be78a(0x2ec),'type':_0x2be78a(0x2a0),'role':_0x2be78a(0x17e),'read':!![],'write':![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x1c4),{'type':'state','common':{'name':'Description','type':'string','role':_0x2be78a(0x174),'read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x135),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x1be),'type':_0x2be78a(0x240),'role':_0x2be78a(0x174),'read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)]('analysis.automation.targetId',{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x23b),'type':_0x2be78a(0x240),'role':'text','read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x195),{'type':'state','common':{'name':'Target\x20Value','type':_0x2be78a(0x240),'role':_0x2be78a(0x174),'read':!![],'write':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)]('analysis.automation.autoApply',{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x262),'type':'boolean','role':_0x2be78a(0x2a9),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x4a1653['setObjectNotExistsAsync'](_0x2be78a(0x1b0),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x30d),'type':_0x2be78a(0x2a0),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x219),{'type':'state','common':{'name':'Logbook','type':_0x2be78a(0x240),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x2f2),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x148),'type':_0x2be78a(0x240),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await _0x4a1653[_0x2be78a(0x2d7)](_0x2be78a(0x2e3),{'type':_0x2be78a(0x1af),'common':{'name':'Health\x20&\x20Sleep\x20Analysis'},'native':{}}),await _0x4a1653['setObjectNotExistsAsync'](_0x2be78a(0x218),{'type':_0x2be78a(0x25e),'common':{'name':'Sleep\x20Score\x20(0-100)','type':'number','role':_0x2be78a(0x221),'read':!![],'write':![],'def':0x0},'native':{}}),await _0x4a1653['setObjectNotExistsAsync']('analysis.health.restlessness',{'type':_0x2be78a(0x25e),'common':{'name':'Restlessness\x20Level','type':_0x2be78a(0x240),'role':_0x2be78a(0x174),'read':!![],'write':![],'def':_0x2be78a(0x1e4)},'native':{}}),await _0x4a1653['setObjectNotExistsAsync'](_0x2be78a(0x2a4),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x1fe),'type':_0x2be78a(0x240),'role':'text','read':!![],'write':![],'def':''},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x23a),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x18c),'type':_0x2be78a(0x240),'role':_0x2be78a(0x174),'read':!![],'write':![],'def':'N/A'},'native':{}}),await _0x4a1653['setObjectNotExistsAsync'](_0x2be78a(0x314),{'type':'state','common':{'name':'Trend\x20Value\x20(%)','type':'number','role':'value','read':!![],'write':![],'def':0x0},'native':{}}),await _0x4a1653[_0x2be78a(0x2d7)](_0x2be78a(0x151),{'type':_0x2be78a(0x1af),'common':{'name':_0x2be78a(0x15e)},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x2f5),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x2ca),'type':'string','role':_0x2be78a(0x309),'read':!![],'write':![],'def':'[]','desc':_0x2be78a(0x22e)},'native':{}}),await _0x4a1653[_0x2be78a(0x323)](_0x2be78a(0x1ff),{'type':_0x2be78a(0x25e),'common':{'name':_0x2be78a(0x28a),'type':_0x2be78a(0x240),'role':_0x2be78a(0x309),'read':!![],'write':![],'def':'[]','desc':'Correlation\x20between\x20Inside\x20Temp,\x20Outside\x20Temp\x20and\x20Time'},'native':{}}),await checkLtmObjects(_0x4a1653),await checkLtmDriftObjects(_0x4a1653);}async function checkSystemObjects(_0x579da4){const _0x23bb9e=a0_0x172cd8;await _0x579da4[_0x23bb9e(0x2d7)](_0x23bb9e(0x31c),{'type':_0x23bb9e(0x1af),'common':{'name':_0x23bb9e(0x32a)},'native':{}}),await _0x579da4[_0x23bb9e(0x2d7)](SYSTEM_DP_MODE,{'type':_0x23bb9e(0x25e),'common':{'name':_0x23bb9e(0x296),'type':_0x23bb9e(0x240),'role':_0x23bb9e(0x25e),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x23bb9e(0x2c5)],'states':{[SYSTEM_MODES[_0x23bb9e(0x2c5)]]:_0x23bb9e(0x196),[SYSTEM_MODES[_0x23bb9e(0x14f)]]:_0x23bb9e(0x27f),[SYSTEM_MODES[_0x23bb9e(0x1ef)]]:_0x23bb9e(0x295),[SYSTEM_MODES['GUEST']]:_0x23bb9e(0x317)}},'native':{}});}async function checkLtmObjects(_0x3a8413){const _0xd95853=a0_0x172cd8;await _0x3a8413[_0xd95853(0x2d7)]('LTM',{'type':_0xd95853(0x1af),'common':{'name':'LTM'},'native':{}}),await _0x3a8413[_0xd95853(0x2d7)](LTM_DP_RAW_LOG,{'type':_0xd95853(0x25e),'common':{'name':_0xd95853(0x1a7),'type':_0xd95853(0x240),'role':_0xd95853(0x309),'read':!![],'write':![]},'native':{}}),await _0x3a8413[_0xd95853(0x2d7)](LTM_DP_DAILY_DIGESTS,{'type':_0xd95853(0x25e),'common':{'name':_0xd95853(0x1b2),'type':_0xd95853(0x240),'role':'json','read':!![],'write':![]},'native':{}}),await _0x3a8413[_0xd95853(0x2d7)](LTM_DP_STATUS,{'type':_0xd95853(0x25e),'common':{'name':'Processing\x20Status','type':_0xd95853(0x240),'role':'text','read':!![],'write':![]},'native':{}}),await _0x3a8413[_0xd95853(0x2d7)](LTM_DP_TRIGGER_DIGEST,{'type':_0xd95853(0x25e),'common':{'name':_0xd95853(0x208),'type':_0xd95853(0x2a0),'role':_0xd95853(0x145),'read':!![],'write':!![],'def':![]},'native':{}}),await _0x3a8413[_0xd95853(0x2d7)](LTM_DP_BASELINE_STATUS,{'type':_0xd95853(0x25e),'common':{'name':_0xd95853(0x2de),'type':_0xd95853(0x240),'role':_0xd95853(0x174),'read':!![],'write':![]},'native':{}});}async function checkLtmDriftObjects(_0x17a8ec){const _0x2c864e=a0_0x172cd8;await _0x17a8ec[_0x2c864e(0x2d7)](LTM_DP_DRIFT_CHANNEL,{'type':_0x2c864e(0x1af),'common':{'name':'Drift\x20Analysis'},'native':{}}),await _0x17a8ec[_0x2c864e(0x2d7)](LTM_DP_DRIFT_STATUS,{'type':_0x2c864e(0x25e),'common':{'name':_0x2c864e(0x292),'type':_0x2c864e(0x240),'role':_0x2c864e(0x25e),'read':!![],'write':![],'def':_0x2c864e(0x29d)},'native':{}}),await _0x17a8ec[_0x2c864e(0x2d7)](LTM_DP_DRIFT_DETAILS,{'type':'state','common':{'name':_0x2c864e(0x200),'type':_0x2c864e(0x240),'role':_0x2c864e(0x174),'read':!![],'write':![]},'native':{}}),await _0x17a8ec[_0x2c864e(0x2d7)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x2c864e(0x25e),'common':{'name':_0x2c864e(0x209),'type':_0x2c864e(0x165),'role':_0x2c864e(0x14c),'read':!![],'write':![]},'native':{}});}async function loadSystemMode(_0x231127){const _0xcf4c1d=a0_0x172cd8;try{const _0x27b825=await _0x231127[_0xcf4c1d(0x2d2)](SYSTEM_DP_MODE);_0x27b825&&_0x27b825['val']&&Object[_0xcf4c1d(0x182)](SYSTEM_MODES)[_0xcf4c1d(0x22c)](_0x27b825['val'])?_0x231127[_0xcf4c1d(0x1ac)]=_0x27b825[_0xcf4c1d(0x12a)]:(_0x231127[_0xcf4c1d(0x1ac)]=SYSTEM_MODES[_0xcf4c1d(0x2c5)],await _0x231127[_0xcf4c1d(0x1d1)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0xcf4c1d(0x2c5)],'ack':!![]}));}catch(_0x6babac){_0x231127['currentSystemMode']=SYSTEM_MODES[_0xcf4c1d(0x2c5)];}}async function loadRawEventLog(_0x4b6e5c){const _0x1457b1=a0_0x172cd8;try{const _0x3890ef=await _0x4b6e5c[_0x1457b1(0x2d2)](LTM_DP_RAW_LOG);if(_0x3890ef&&_0x3890ef[_0x1457b1(0x12a)])_0x4b6e5c[_0x1457b1(0x1d3)]=JSON[_0x1457b1(0x268)](_0x3890ef['val']);}catch(_0x53f964){_0x4b6e5c[_0x1457b1(0x1d3)]=[];}}async function saveRawEventLog(_0x413839){const _0x1a0085=a0_0x172cd8;_0x413839['rawEventLog'][_0x1a0085(0x2b2)]>RAW_LOG_MAX_SIZE&&_0x413839['rawEventLog'][_0x1a0085(0x2d6)](0x0,_0x413839[_0x1a0085(0x1d3)]['length']-RAW_LOG_MAX_SIZE),await _0x413839[_0x1a0085(0x1d1)](LTM_DP_RAW_LOG,{'val':JSON[_0x1a0085(0x2cc)](_0x413839['rawEventLog']),'ack':!![]});}async function loadDailyDigests(_0x50c62a){const _0x44a5d6=a0_0x172cd8;try{const _0x4b6e28=await _0x50c62a[_0x44a5d6(0x2d2)](LTM_DP_DAILY_DIGESTS);if(_0x4b6e28&&_0x4b6e28['val'])_0x50c62a['dailyDigests']=JSON[_0x44a5d6(0x268)](_0x4b6e28['val']);}catch(_0x5231eb){_0x50c62a['dailyDigests']=[];}await updateBaselineStatus(_0x50c62a);}async function saveDailyDigests(_0x253bfa,_0x3b3033=!![]){const _0x4dd4e6=a0_0x172cd8,_0x1f1b44=_0x253bfa['config']['ltmLtbWindowDays']||0x3c;_0x253bfa[_0x4dd4e6(0x1a8)][_0x4dd4e6(0x2b2)]>_0x1f1b44&&_0x253bfa['dailyDigests']['splice'](0x0,_0x253bfa['dailyDigests'][_0x4dd4e6(0x2b2)]-_0x1f1b44);await _0x253bfa[_0x4dd4e6(0x1d1)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4dd4e6(0x2cc)](_0x253bfa[_0x4dd4e6(0x1a8)]),'ack':!![]});if(_0x3b3033)await updateBaselineStatus(_0x253bfa);}async function updateAnalysisHistory(_0x2b0639,_0x595a66){const _0x38f882=a0_0x172cd8;_0x2b0639[_0x38f882(0x1a9)][_0x38f882(0x2bc)](_0x595a66);if(_0x2b0639[_0x38f882(0x1a9)][_0x38f882(0x2b2)]>ANALYSIS_HISTORY_MAX_SIZE)_0x2b0639['analysisHistory'][_0x38f882(0x12e)]();await _0x2b0639[_0x38f882(0x1d1)](_0x38f882(0x219),{'val':JSON[_0x38f882(0x2cc)](_0x2b0639[_0x38f882(0x1a9)]),'ack':!![]});}async function updateBaselineStatus(_0x8564e){const _0x3046ef=a0_0x172cd8;if(!_0x8564e[_0x3046ef(0x20a)]){await _0x8564e[_0x3046ef(0x1d1)](LTM_DP_BASELINE_STATUS,{'val':_0x3046ef(0x127),'ack':!![]});return;}const _0xc8ed04=_0x8564e[_0x3046ef(0x1a8)]['length']>=(_0x8564e[_0x3046ef(0x1bd)]['minDaysForBaseline']||0x7)?_0x3046ef(0x244)+_0x8564e[_0x3046ef(0x1a8)][_0x3046ef(0x2b2)]+_0x3046ef(0x216):_0x3046ef(0x1b6)+_0x8564e[_0x3046ef(0x1a8)][_0x3046ef(0x2b2)]+'/'+(_0x8564e[_0x3046ef(0x1bd)][_0x3046ef(0x1b3)]||0x7)+')';await _0x8564e[_0x3046ef(0x1d1)](LTM_DP_BASELINE_STATUS,{'val':_0xc8ed04,'ack':!![]});}async function initSensorSubscriptions(_0x462f4f){const _0x351a45=a0_0x172cd8,_0xe4ebef=_0x462f4f[_0x351a45(0x1bd)][_0x351a45(0x321)];if(_0xe4ebef&&_0xe4ebef[_0x351a45(0x2b2)]>0x0){_0x462f4f[_0x351a45(0x2d8)]['info'](_0x351a45(0x1c2)+_0xe4ebef[_0x351a45(0x2b2)]+'\x20sensors...');for(const _0x12f880 of _0xe4ebef){if(_0x12f880['id']){await _0x462f4f[_0x351a45(0x32b)](_0x12f880['id']);try{const _0x3fbf21=await _0x462f4f['getForeignStateAsync'](_0x12f880['id']);if(_0x3fbf21)_0x462f4f[_0x351a45(0x12d)][_0x12f880['id']]=_0x3fbf21[_0x351a45(0x12a)];}catch(_0x1bcca4){}}}}}async function initPresenceSubscriptions(_0x39a4fa){const _0x241ea2=a0_0x172cd8,_0x549d86=_0x39a4fa[_0x241ea2(0x1bd)][_0x241ea2(0x162)]||[];if(_0x549d86[_0x241ea2(0x2b2)]>0x0){_0x39a4fa['log']['info'](_0x241ea2(0x1c2)+_0x549d86[_0x241ea2(0x2b2)]+'\x20presence\x20devices...');for(const _0x4e9038 of _0x549d86){await _0x39a4fa[_0x241ea2(0x32b)](_0x4e9038);}try{await checkWifiPresence(_0x39a4fa);}catch(_0x4568f2){}}}async function getWeatherContext(_0xfc4ac5){const _0x1d7246=a0_0x172cd8;try{if(!_0xfc4ac5[_0x1d7246(0x1bd)][_0x1d7246(0x156)])return _0x1d7246(0x288);let _0x503e15='';const _0x307d0b=_0xfc4ac5[_0x1d7246(0x1bd)]['weatherInstance'];if(_0x307d0b)try{if(_0x307d0b[_0x1d7246(0x22c)](_0x1d7246(0x1ca))){const _0x246726=await _0xfc4ac5['getForeignStateAsync'](_0x307d0b+_0x1d7246(0x13b));if(_0x246726&&_0x246726[_0x1d7246(0x12a)])_0x503e15=_0x246726[_0x1d7246(0x12a)];}else{if(_0x307d0b[_0x1d7246(0x22c)](_0x1d7246(0x1e2))){const _0x55a7d4=await _0xfc4ac5[_0x1d7246(0x129)](_0x307d0b+_0x1d7246(0x159));if(_0x55a7d4&&_0x55a7d4[_0x1d7246(0x12a)])_0x503e15=_0x55a7d4['val'];}else{if(_0x307d0b[_0x1d7246(0x22c)](_0x1d7246(0x31b))){const _0x57c996=await _0xfc4ac5[_0x1d7246(0x129)](_0x307d0b+'.forecast.current.state');if(_0x57c996&&_0x57c996[_0x1d7246(0x12a)])_0x503e15=_0x57c996[_0x1d7246(0x12a)];}}}}catch(_0x27c552){}if(!_0x503e15){const _0x4c5677=[_0x1d7246(0x1d4),'daswetter.0',_0x1d7246(0x326),_0x1d7246(0x12f)];for(const _0x2a353b of _0x4c5677){try{const _0xd36bf5=await _0xfc4ac5['getForeignObjectAsync'](_0x2a353b);if(_0xd36bf5){if(_0x2a353b[_0x1d7246(0x22c)](_0x1d7246(0x1ca))){const _0x2b81af=await _0xfc4ac5[_0x1d7246(0x129)](_0x2a353b+_0x1d7246(0x13b));if(_0x2b81af&&_0x2b81af[_0x1d7246(0x12a)]){_0x503e15=_0x2b81af[_0x1d7246(0x12a)];break;}}}}catch(_0xc3e155){}}}return _0x503e15?'WETTER:\x20'+_0x503e15:'WETTER:\x20Keine\x20Daten\x20gefunden';}catch(_0x543fbe){return _0x1d7246(0x294)+_0x543fbe[_0x1d7246(0x2ce)];}}async function getCalendarContext(_0x1a9316){const _0x4dadb5=a0_0x172cd8;try{if(!_0x1a9316['config'][_0x4dadb5(0x226)])return'Kalender:\x20Deaktiviert';let _0x457834=_0x1a9316[_0x4dadb5(0x1bd)][_0x4dadb5(0x278)]||_0x4dadb5(0x177),_0x2853b2=_0x1a9316[_0x4dadb5(0x1bd)][_0x4dadb5(0x1f8)]||[];if(typeof _0x2853b2===_0x4dadb5(0x240))_0x2853b2=_0x2853b2['split'](',');try{const _0x2e76c6=await _0x1a9316['getForeignStateAsync'](_0x457834+_0x4dadb5(0x248));if(_0x2e76c6&&_0x2e76c6['val']){let _0x443c33=tryParse(_0x2e76c6[_0x4dadb5(0x12a)]);if(_0x443c33&&Array[_0x4dadb5(0x1b4)](_0x443c33)){if(_0x2853b2['length']>0x0)_0x443c33=_0x443c33[_0x4dadb5(0x27b)](_0x30a0a2=>_0x2853b2[_0x4dadb5(0x22c)](_0x30a0a2[_0x4dadb5(0x186)]||''));else return'KALENDER:\x20Keine\x20Kalender\x20ausgewÃ¤hlt\x20(Bitte\x20in\x20Settings\x20konfigurieren)';if(_0x443c33[_0x4dadb5(0x2b2)]>0x0){const _0x1c9bce=_0x443c33[_0x4dadb5(0x180)](0x0,0x3)[_0x4dadb5(0x187)](_0x583897=>{const _0x2fe1ba=_0x4dadb5;let _0x4aeb61=_0x583897[_0x2fe1ba(0x14c)];if(_0x583897[_0x2fe1ba(0x167)])_0x4aeb61+='\x20'+_0x583897[_0x2fe1ba(0x167)];return _0x4aeb61+':\x20'+_0x583897[_0x2fe1ba(0x18e)]+'\x20('+_0x583897[_0x2fe1ba(0x186)]+')';});return _0x4dadb5(0x181)+_0x1c9bce[_0x4dadb5(0x2fc)](_0x4dadb5(0x14d));}else return _0x4dadb5(0x1e8);}}}catch(_0x22db9d){_0x1a9316['log'][_0x4dadb5(0x333)]('Error\x20reading\x20calendar\x20table:\x20'+_0x22db9d['message']);}return _0x4dadb5(0x1a4);}catch(_0x5eac99){return'KALENDER\x20ERROR:\x20'+_0x5eac99['message'];}}function a0_0xb633(){const _0x4d98f4=['[LOG]','0\x203\x20*\x20*\x20*','Briefing\x20Error:\x20','LTM.baselineStatus','1444218IcOIpC','button','enum','Vom\x20Benutzer\x20bestÃ¤tigt\x20(OK).','Feedback\x20Log','getTime','[RESULT]','native','date','\x20|\x20','âŒ\x20Health\x20Training\x20Failed:\x20','VACATION','cover','LTM.trainingData','N/A\x20(Learning)','getDate','fill','aiPersona','useWeather','âœ…\x20SECURITY\x20MODEL\x20TRAINED!\x20Details:\x20','guest','.NextHours.Location_1.Day_1.current.symbol_desc','uuid','subscribeStates','currentposition','ðŸ›¡ï¸\x20SECURITY\x20CHECK:\x20Score\x20','Training\x20Data\x20Sets','platform','rollladen','temperature','presenceDevices','scheduleJob','Building\x20Insulation\x20Score','number','briefingJob','time','expire','set_temperature','1014596yKTYES','PRO-','GUEST','Gemini\x20AI\x20initialized.','reachable','push','Error\x20in\x20onMessage\x20command\x20','@google/generative-ai','sound','temp','text','TREND_RESULT','.\x20ZUSATZ:\x20','ical.0','âŒ\x20PIP\x20INSTALL\x20FAILED:\x20','HEALTH_TRAIN_RESULT','\x22\x20install\x20-r\x20\x22','icons-mfd.','TEST-PRO-KEY','rssi','indicator','analysis.energy.insulationScore','slice','KALENDER:\x20','values','scriptProblem','Alert\x20Reason','echarts.','_calName','map','Adapter','python','inactivityMonitoringEnabled','\x20(Threshold:\x20','Trend\x20Diagnosis\x20(Python)','name','event','admin.','longitude','Scripts','Event\x20History','payload','TRAIN_SECURITY','analysis.automation.targetValue','Normal','systemConfig','dutycycle','analysis.history_debug_00','find','existsSync','TRAINING_COMPLETE','Energy\x20Intelligence','âœ…\x20Alarm\x20quittiert.\x20System\x20normal.','...','description','isPresent','targetId','lowbat','KALENDER:\x20Keine\x20Daten','heating','âœ…\x20HEALTH\x20MODEL\x20TRAINED!\x20','Raw\x20Log','dailyDigests','analysisHistory','TRAIN_HEALTH','cancel','currentSystemMode','activityLevel','Cogni-Living','channel','analysis.automation.triggerAction','Started\x20at\x20','Daily\x20Digests','minDaysForBaseline','isArray','getHours','Lernphase\x20(','indicator.alarm.fire','PRIORITÃ„T:\x20Sicherheit.','writable','Success:\x20Compressed\x20','fenster','588992uGHdAi','config','Action','getCalendarNames\x20Error:\x20','flot.','application/json','Subscribing\x20to\x20','selectedFunctionIds','analysis.automation.description','Creating\x20venv\x20at\x20','briefingTime','from','Success:\x20','generic','accuweather','apiKey','(((.+)+)+)+$','models/gemini-flash-latest','analysisTimer','analysis.training.triggerHealth','ðŸ\x20Python\x20Pong\x20received!','setStateAsync','isGracePeriodActive','rawEventLog','accuweather.0','enum.rooms.*','info.','Unknown\x20error','LTM.driftAnalysis','system.','city','callback','fault','testApiKey','system.mode','7fPYndd','Verbindung\x20erfolgreich!\x20Antwort:\x20','events.history','daswetter','3274200UhgcLy','none','ðŸ\x20Guardian\x20Diagnosis\x20(','shutter','[PYTHON\x20ERR]\x20','KALENDER:\x20Keine\x20relevanten\x20Termine','Last\x20raw\x20event','):\x20','0\x204\x20*\x20*\x20*','[PYTHON]\x20Failed\x20to\x20start:\x20','ltmDriftCheckIntervalHours','object','PARTY','config_pending','enum.functions.*','3ltJTRx','Live\x20Security\x20Monitor','analysis.security.lastCheck','Heating\x20Rate\x20Score','custom','notifyPushoverInstance','calendarSelection','getCalendarNames','Deviation','toLocaleTimeString','notifyPushoverRecipient','generateContent','Health\x20Notes','LTM.trainingData.thermodynamics','Drift\x20Details','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','ðŸ©º\x20HEALTH\x20WARNING:\x20','substring','system.meta.uuid','COGNI_REQUEST_CALL','âš ï¸\x20SECURITY\x20ALARM:\x20','Train\x20Security\x20Model\x20(LSTM)','Trigger\x20Digest','Last\x20Check','isProVersion','setState','analysis.training','âš ï¸\x20VENV\x20not\x20found.\x20Falling\x20back\x20to\x20system\x20python3\x20(RISKY).','analysis.automation.patternDetected','systemUUID','Train\x20Energy\x20Model\x20(Regression)','[PYTHON]\x20','instance','LTM.dailyDigests','_score','Sec-Training\x20started...','\x20Tage)','Last\x20Result','analysis.health.sleepScore','analysis.analysisHistory','âš ï¸\x20Python\x20missing\x20dependencies.\x20Triggering\x20Auto-Install...','2715016uZITMB','analysis.isEmergency','baselineDrift','analysis.isAlert','retry','command','value.health','node-schedule','analysis.training.triggerSecurity','scriptEnabled','latitude','useCalendar','Guardian:\x20Sending\x20','Failed\x20to\x20delete\x20broken\x20venv:\x20','analysis.health.isAnomaly','.\x20OUTPUT:\x20Nur\x20Text.','analysis.energy.heatingScore','includes','Comfort\x20Suggestion','Array\x20of\x20completed\x20movement\x20paths\x20for\x20ML\x20training','ack','requirements.txt','pip.exe','endsWith','analysis.training.status','thermostat','driftDetails','send','Who\x20is\x20present?','getForeignObjectsAsync','setHours','analysis.health.trendDiagnosis','Target\x20ID','analysis.automation.autoApply','.\x20DATEN:\x20Schlaf\x20','\x20hours.\x20Potential\x20incapacitation.','âœ…\x20Alles\x20OK\x20(Reset)]','string','toString','toFixed','history.','Aktiv\x20(','exitGraceTimer','analysis.automation','connection','.data.table','notifyTelegramRecipient','geminiModel','schalter','.communicate.request','getForeignObjectAsync','stateChange','Error\x20launching\x20Python\x20service:\x20','child_process','analysis.security','eventHistory','Fokus\x20auf\x20Komfort.','Drift\x20Sched\x20Error:\x20','position','@iobroker/adapter-core','analysis.energy','vacation','notifyEmailRecipient','analysis.activitySummary','triggerBriefing','LTM.processingStatus','licenseKey','state','TRAIN_ENERGY','[PYTHON]\x20Service\x20exited\x20with\x20code\x20','08:00','Auto\x20Apply\x20Rule','sensor','KI-Modell\x20nicht\x20initialisiert','Feedback\x20saved:\x20','maintenance','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','parse','Failed\x20to\x20send\x20to\x20Python:\x20','actual_temperature','write','getOverviewData','insulation','onMessage','ðŸ§ª\x20Simulating\x20Butler\x20Proposal:\x20','kill','some','Sending\x20notification:\x20\x22','getGenerativeModel','âœ…\x20User\x20confirmed\x20ALARM\x20via\x20Telegram.\x20Resetting\x20system.','toLocaleString','stick_unreach','health','calendarInstance','Training\x20Status','javascript.','filter','status','SECURITY_RESULT','dependencyInstallInProgress','Urlaub','ANOMALY','constructor','exitTimer','analysis.automation.targetId','text.alarm','system.isPresent','UngewÃ¶hnliches\x20Bewegungsmuster\x20erkannt!\x20(Score:\x20','PRIORITÃ„T:\x20Gesundheit/AAL.','Wetter:\x20Deaktiviert','\x20events','Thermodynamic\x20Data\x20Points','Kein\x20API\x20Key!','ROLLE:\x20FÃ¼rsorglicher\x20Assistent.\x20AUFGABE:\x20Schreibe\x20eine\x20kurze,\x20beruhigende\x20\x22Guten\x20Morgen\x22-Nachricht.\x20PERSONA:\x20','cogni-living\x20adapter\x20starting\x20(v','scanDevices','normal','HARD\x20WATCHDOG:\x20No\x20sensor\x20activity\x20detected\x20for\x20','error','Drift\x20Status','âŒ\x20VENV\x20CREATION\x20FAILED.\x20Please\x20run:\x20sudo\x20apt\x20install\x20python3-venv','WETTER\x20ERROR:\x20','Party','System\x20Mode','User\x20dismissed\x20automation\x20proposal.','ðŸ\x20Using\x20Isolated\x20VENV\x20Python:\x20','now','SIMULATION:\x20Test-Vorschlag\x20fÃ¼r\x20','apply','analysis.health.lastCheck','N/A','motion','occupancy','boolean','Generating\x20Morning\x20Briefing...','details','âŒ\x20Energy\x20Training\x20Failed:\x20','analysis.health.notes','LTM\x20Sched\x20Error:\x20','getEnums','stdin','geminiApiKey','switch','WiFi\x20Presence\x20detected\x20->\x20Aborting\x20Exit\x20Timer.\x20User\x20is\x20present.','summary','prÃ¤senz','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','ANALYZE_TREND','Gemini\x20Init\x20Error:\x20','Say\x20Hello','analysis.security.lastScore','length','communicate.request','Reset\x20Sched\x20Error:\x20','material.','startsWith','ðŸ“ž\x20RÃ¼ckruf\x20anfordern','ENERGY_TRAIN_RESULT','PONG','notifyTelegramInstance','energy','unshift','onReady','Last\x20Anomaly\x20Score','analysis.training.triggerEnergy','direction','inactivityThresholdHours','\x20=\x20','klima','type','NORMAL','main','feedbackHistory','python.exe','bind','Recorded\x20Motion\x20Sequences','analysis.comfortSuggestion','stringify','Last\x20Check\x20Time','message','weather','getMonth','sort','getStateAsync','role','Fehler:\x20','onStateChange','splice','extendObjectAsync','log','genAI','system.presenceWho','timestamp','system.config','pythonProcess','Baseline\x20Status','briefingEnabled','COGNI_CONFIRM_OK','modeResetJob','info','analysis.health','off','ltmJob','analysis.lastResult','triggerDailyDigest','cpu_feature_guard','unreach','blind','[TEST]\x20','Pattern\x20Detected','humidity','lastAlertState','sleepScore','door','lastCheck','analysis.feedbackHistory','response','LTM.driftAnalysis.lastCheck','LTM.trainingData.sequences','analysis.triggerBriefing','link_quality','rmSync','path','ready','.venv','join','onUnload','stdout','close','members','debug','toISOString',')\x20->\x20','value','ðŸ\x20Stopping\x20Python\x20Sidecar...','No\x20module\x20named','Morning\x20Briefing\x20sent.','840177qUYvkY','json','doors','ðŸš¨\x20EMERGENCY','sendTo','Trigger\x20Action\x20Now','lampe','indicator.health','sendToAsync','5zWEHDy','notifyTelegramEnabled','âœ…\x20INFRASTRUCTURE\x20READY.\x20Starting\x20Service...','analysis.health.trendValue','service.py','Could\x20not\x20kill\x20Python\x20process:\x20','Gast','working','âŒ\x20Training\x20failed:\x20','valve','openweathermap','system','trim','driftAnalysisTimer','testNotification','ðŸ› ï¸\x20INFRASTRUCTURE\x20HARDENING:\x20Setting\x20up\x20isolated\x20Python\x20environment\x20(venv)...','devices','Health\x20Anomaly\x20Detected','setObjectNotExistsAsync','ðŸ§ \x20Triggering\x20Security\x20Training...','analysis.alertReason','weatherunderground.0','ltmStbWindowDays','data','python3','System\x20Status\x20&\x20Control','subscribeForeignStatesAsync','\x20days\x20of\x20activity\x20data\x20to\x20Python...','stderr','search','ltmLtbWindowDays','delObjectAsync','party','win32','warn','replace','Deaktiviert\x20(Pro-Feature)','analysis.trigger','getForeignStateAsync','val','forEach','ðŸ“¡\x20Hooking\x20into\x20','sensorLastValues','pop','openweathermap.0','Bibliotheken\x20nicht\x20gefunden','Details:\x20','getFullYear','python_service','getObjectAsync','analysis.automation.suggestedAction','telegram','common','Activity-Level','ANALYZE_HEALTH','toLowerCase','.Summary.Current','split','uuid-error','version','435181odgOzA'];a0_0xb633=function(){return _0x4d98f4;};return a0_0xb633();}async function getCalendarNames(_0x42c0fc,_0x4097fe){const _0x39781a=a0_0x172cd8;try{const _0x438f93=await _0x42c0fc[_0x39781a(0x129)](_0x4097fe+'.data.table');if(_0x438f93&&_0x438f93[_0x39781a(0x12a)]){const _0x5f5077=tryParse(_0x438f93['val']);if(_0x5f5077&&Array['isArray'](_0x5f5077)){const _0x1bc60a=[...new Set(_0x5f5077[_0x39781a(0x187)](_0x550f3a=>_0x550f3a[_0x39781a(0x186)])[_0x39781a(0x27b)](Boolean))];return _0x1bc60a['sort']();}}return[];}catch(_0x39ab74){return _0x42c0fc['log'][_0x39781a(0x291)](_0x39781a(0x1bf)+_0x39ab74[_0x39781a(0x2ce)]),[];}}async function checkWifiPresence(_0x25d1af){const _0x3843ad=a0_0x172cd8;try{const _0x55613b=_0x25d1af[_0x3843ad(0x1bd)]['presenceDevices']||[];let _0x39bc4d=![];const _0x1c63b3=[];for(const _0x7f8ed of _0x55613b){try{const _0x327299=await _0x25d1af[_0x3843ad(0x129)](_0x7f8ed);if(_0x327299&&(_0x327299[_0x3843ad(0x12a)]===!![]||_0x327299[_0x3843ad(0x12a)]==='online'||_0x327299[_0x3843ad(0x12a)]===0x1)){_0x39bc4d=!![];const _0x208569=await _0x25d1af[_0x3843ad(0x24d)](_0x7f8ed);let _0x2397a3=_0x7f8ed;_0x208569&&_0x208569[_0x3843ad(0x137)]&&_0x208569[_0x3843ad(0x137)][_0x3843ad(0x18d)]&&(_0x2397a3=typeof _0x208569[_0x3843ad(0x137)][_0x3843ad(0x18d)]===_0x3843ad(0x1ee)?_0x208569[_0x3843ad(0x137)]['name']['de']||_0x208569[_0x3843ad(0x137)]['name']['en']:_0x208569[_0x3843ad(0x137)]['name']),_0x1c63b3[_0x3843ad(0x16f)](_0x2397a3);}}catch(_0x2acccf){}}return await _0x25d1af['setStateAsync'](_0x3843ad(0x2da),{'val':_0x1c63b3[_0x3843ad(0x2fc)](',\x20'),'ack':!![]}),_0x39bc4d&&(_0x25d1af['exitTimer']&&(_0x25d1af['log'][_0x3843ad(0x2e2)](_0x3843ad(0x2aa)),abortExitTimer(_0x25d1af)),!_0x25d1af['isPresent']&&_0x25d1af[_0x3843ad(0x1ac)]===SYSTEM_MODES[_0x3843ad(0x2c5)]&&await setPresence(_0x25d1af,!![])),_0x39bc4d;}catch(_0x175adf){return _0x25d1af[_0x3843ad(0x2d8)][_0x3843ad(0x291)]('Error\x20checking\x20WiFi:\x20'+_0x175adf[_0x3843ad(0x2ce)]),![];}}function startExitTimer(_0x1321d6){const _0xda7bc4=a0_0x172cd8;abortExitTimer(_0x1321d6),_0x1321d6['isGracePeriodActive']=!![],_0x1321d6[_0xda7bc4(0x245)]=setTimeout(()=>{_0x1321d6['isGracePeriodActive']=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),_0x1321d6[_0xda7bc4(0x282)]=setTimeout(()=>{const _0x189b5f=_0xda7bc4;setPresence(_0x1321d6,![]),_0x1321d6[_0x189b5f(0x282)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}function abortExitTimer(_0x49894b){const _0x13c86b=a0_0x172cd8;if(_0x49894b[_0x13c86b(0x282)])clearTimeout(_0x49894b[_0x13c86b(0x282)]);if(_0x49894b[_0x13c86b(0x245)])clearTimeout(_0x49894b['exitGraceTimer']);_0x49894b[_0x13c86b(0x282)]=null,_0x49894b[_0x13c86b(0x245)]=null,_0x49894b['isGracePeriodActive']=![];}async function setPresence(_0x533de7,_0x1e73f1){const _0x269bf5=a0_0x172cd8;if(_0x533de7[_0x269bf5(0x1a1)]===_0x1e73f1)return;_0x533de7['isPresent']=_0x1e73f1,await _0x533de7[_0x269bf5(0x1d1)](_0x269bf5(0x285),{'val':_0x1e73f1,'ack':!![]});}async function saveFeedback(_0x54c234,_0x1d8e45){const _0x3072ce=a0_0x172cd8;_0x54c234[_0x3072ce(0x2d8)]['info'](_0x3072ce(0x265)+JSON[_0x3072ce(0x2cc)](_0x1d8e45));}async function runBaselineDriftAnalysis(_0x33e58f){const _0x5ba23f=a0_0x172cd8;if(!_0x33e58f[_0x5ba23f(0x20a)]||!_0x33e58f[_0x5ba23f(0x24a)])return;const _0x4cf9f9=_0x33e58f[_0x5ba23f(0x1bd)][_0x5ba23f(0x327)]||0xe;if(_0x33e58f[_0x5ba23f(0x1a8)][_0x5ba23f(0x2b2)]<_0x4cf9f9+(_0x33e58f[_0x5ba23f(0x1bd)][_0x5ba23f(0x1b3)]||0x7)){await _0x33e58f[_0x5ba23f(0x1d1)](LTM_DP_DRIFT_STATUS,{'val':_0x5ba23f(0x152),'ack':!![]});return;}const _0x5287a1=_0x33e58f[_0x5ba23f(0x1a8)][_0x5ba23f(0x180)](-_0x4cf9f9),_0x1f8270=_0x33e58f['dailyDigests'][_0x5ba23f(0x180)](0x0,_0x33e58f[_0x5ba23f(0x1a8)]['length']-_0x4cf9f9),_0x2a1893='ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20'+JSON[_0x5ba23f(0x2cc)](_0x1f8270)+'\x0aSTB:\x20'+JSON[_0x5ba23f(0x2cc)](_0x5287a1);try{const _0x27f957=await _0x33e58f[_0x5ba23f(0x24a)][_0x5ba23f(0x1fd)](_0x2a1893),_0x4c17fe=JSON['parse'](_0x27f957[_0x5ba23f(0x2f3)]['text']()[_0x5ba23f(0x126)](/```json|```/g,'')[_0x5ba23f(0x31d)]());_0x4c17fe[_0x5ba23f(0x21d)]&&(await _0x33e58f[_0x5ba23f(0x1d1)](LTM_DP_DRIFT_STATUS,{'val':_0x4c17fe[_0x5ba23f(0x21d)],'ack':!![]}),await _0x33e58f[_0x5ba23f(0x1d1)](LTM_DP_DRIFT_DETAILS,{'val':_0x4c17fe[_0x5ba23f(0x235)],'ack':!![]}),await _0x33e58f[_0x5ba23f(0x1d1)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date['now'](),'ack':!![]}));}catch(_0x367c97){}}function setupLtmScheduler(_0x2330d0){const _0xb2caf6=a0_0x172cd8;try{if(_0x2330d0['ltmJob'])_0x2330d0[_0xb2caf6(0x2e5)]['cancel']();if(!_0x2330d0[_0xb2caf6(0x20a)]){_0x2330d0[_0xb2caf6(0x1d1)](LTM_DP_STATUS,{'val':'Deaktiviert\x20(Pro-Feature)','ack':!![]});return;}_0x2330d0[_0xb2caf6(0x2e5)]=schedule['scheduleJob'](LTM_SCHEDULE,()=>createDailyDigest(_0x2330d0));}catch(_0x41ca00){_0x2330d0[_0xb2caf6(0x2d8)][_0xb2caf6(0x291)](_0xb2caf6(0x2a5)+_0x41ca00['message']);}}function setupModeResetScheduler(_0x967dc3){const _0x2e65fc=a0_0x172cd8;try{if(_0x967dc3[_0x2e65fc(0x2e1)])_0x967dc3[_0x2e65fc(0x2e1)]['cancel']();_0x967dc3[_0x2e65fc(0x2e1)]=schedule[_0x2e65fc(0x163)](MODE_RESET_SCHEDULE,async()=>{const _0x1e8264=_0x2e65fc;await loadSystemMode(_0x967dc3),AUTO_RESET_MODES['includes'](_0x967dc3[_0x1e8264(0x1ac)])&&await _0x967dc3[_0x1e8264(0x1d1)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0x1e8264(0x2c5)],'ack':![]});});}catch(_0x393953){_0x967dc3[_0x2e65fc(0x2d8)]['error'](_0x2e65fc(0x2b4)+_0x393953['message']);}}function setupDriftAnalysisScheduler(_0x21f5e9){const _0x508ee9=a0_0x172cd8;try{if(_0x21f5e9[_0x508ee9(0x31e)])clearInterval(_0x21f5e9['driftAnalysisTimer']);if(!_0x21f5e9[_0x508ee9(0x20a)])return;_0x21f5e9[_0x508ee9(0x31e)]=setInterval(()=>runBaselineDriftAnalysis(_0x21f5e9),(_0x21f5e9['config'][_0x508ee9(0x1ed)]||0x18)*0x36ee80),setTimeout(()=>runBaselineDriftAnalysis(_0x21f5e9),0x1388);}catch(_0x4dc0da){_0x21f5e9[_0x508ee9(0x2d8)][_0x508ee9(0x291)](_0x508ee9(0x254)+_0x4dc0da[_0x508ee9(0x2ce)]);}}function setupBriefingScheduler(_0x3304ee){const _0x194ed0=a0_0x172cd8;try{if(_0x3304ee[_0x194ed0(0x166)])_0x3304ee['briefingJob'][_0x194ed0(0x1ab)]();if(!_0x3304ee['config'][_0x194ed0(0x2df)])return;const _0x34fd2f=(_0x3304ee[_0x194ed0(0x1bd)][_0x194ed0(0x1c6)]||_0x194ed0(0x261))['split'](':'),_0x36e13a=parseInt(_0x34fd2f[0x0])||0x8,_0x282a92=parseInt(_0x34fd2f[0x1])||0x0,_0x2c86d7=_0x282a92+'\x20'+_0x36e13a+'\x20*\x20*\x20*';_0x3304ee['log']['info']('Scheduling\x20Morning\x20Briefing\x20for\x20'+_0x36e13a+':'+(_0x282a92<0xa?'0'+_0x282a92:_0x282a92)),_0x3304ee[_0x194ed0(0x166)]=schedule[_0x194ed0(0x163)](_0x2c86d7,()=>{sendMorningBriefing(_0x3304ee);});}catch(_0x4af186){_0x3304ee['log'][_0x194ed0(0x291)]('Briefing\x20Sched\x20Error:\x20'+_0x4af186['message']);}}async function sendNotification(_0xc11c47,_0x21d37c,_0x3593dd=![],_0x3db21c=![]){const _0x485ce3=a0_0x172cd8;_0xc11c47['log'][_0x485ce3(0x2e2)]((_0x3593dd?_0x485ce3(0x2eb):'')+_0x485ce3(0x272)+_0x21d37c+'\x22');const _0x182199=_0xc11c47[_0x485ce3(0x1bd)];let _0x69d346=0x0;if(_0x182199[_0x485ce3(0x312)]){let _0x6afdc2={};(_0x21d37c[_0x485ce3(0x22c)]('Alarm')||_0x3db21c)&&(_0x6afdc2={'reply_markup':{'inline_keyboard':[[{'text':_0x485ce3(0x23f),'callback_data':_0x485ce3(0x2e0)}],[{'text':_0x485ce3(0x2b7),'callback_data':'COGNI_REQUEST_CALL'}]]}}),await _0xc11c47[_0x485ce3(0x310)](_0x182199[_0x485ce3(0x2ba)],'send',{'text':_0x21d37c,'user':_0x182199[_0x485ce3(0x249)],..._0x6afdc2}),_0x69d346++;}if(_0x182199['notifyPushoverEnabled']){let _0x524b40={'message':_0x21d37c,'title':_0x3db21c?_0x485ce3(0x30b):_0x485ce3(0x1ae),'priority':_0x3db21c?0x2:0x1,'device':_0x182199[_0x485ce3(0x1fc)]};_0x3db21c&&(_0x524b40[_0x485ce3(0x21f)]=0x1e,_0x524b40[_0x485ce3(0x168)]=0xe10,_0x524b40[_0x485ce3(0x172)]='siren'),await _0xc11c47[_0x485ce3(0x310)](_0x182199[_0x485ce3(0x1f7)],_0x485ce3(0x236),_0x524b40),_0x69d346++;}return _0x182199['notifyEmailEnabled']&&(await _0xc11c47['sendToAsync'](_0x182199['notifyEmailInstance'],_0x485ce3(0x236),{'text':_0x21d37c,'to':_0x182199[_0x485ce3(0x259)]}),_0x69d346++),_0x69d346;}async function setupTelegramListener(_0x4255e1){const _0x149e7f=a0_0x172cd8,_0x12e8a0=_0x4255e1[_0x149e7f(0x1bd)][_0x149e7f(0x2ba)];_0x4255e1[_0x149e7f(0x1bd)]['notifyTelegramEnabled']&&_0x12e8a0&&(_0x4255e1[_0x149e7f(0x2d8)][_0x149e7f(0x2e2)](_0x149e7f(0x12c)+_0x12e8a0+'\x20for\x20interactive\x20buttons...'),await _0x4255e1['subscribeForeignStatesAsync'](_0x12e8a0+_0x149e7f(0x24c)));}async function handleTelegramResponse(_0x5a6ca2,_0x4c20c3){const _0x589f89=a0_0x172cd8;let _0x27e464=_0x4c20c3;_0x4c20c3[_0x589f89(0x2b6)]('[')&&(_0x27e464=_0x4c20c3['substring'](_0x4c20c3['indexOf'](']')+0x1));if(_0x27e464===_0x589f89(0x2e0))_0x5a6ca2[_0x589f89(0x2d8)][_0x589f89(0x2e2)](_0x589f89(0x274)),await _0x5a6ca2[_0x589f89(0x1d1)]('analysis.isAlert',{'val':![],'ack':!![]}),await _0x5a6ca2[_0x589f89(0x1d1)]('analysis.alertReason',{'val':_0x589f89(0x147),'ack':!![]}),_0x5a6ca2[_0x589f89(0x2ee)]=![],sendNotification(_0x5a6ca2,_0x589f89(0x19e),![]);else _0x27e464===_0x589f89(0x205)&&(_0x5a6ca2['log']['warn']('ðŸ“ž\x20User\x20requested\x20CALL\x20via\x20Telegram!'),sendNotification(_0x5a6ca2,'ðŸ“ž\x20RÃœCKRUF\x20BITTE!\x20Der\x20Bewohner\x20hat\x20den\x20RÃ¼ckruf-Button\x20gedrÃ¼ckt.',![],!![]));}async function runAutopilot(_0x47cfa5){const _0x43e9d8=a0_0x172cd8,_0x31e336=_0x47cfa5[_0x43e9d8(0x1bd)]['inactivityThresholdHours'],_0x2e6a82=_0x47cfa5[_0x43e9d8(0x252)][_0x43e9d8(0x2b2)]>0x0?_0x47cfa5['eventHistory'][0x0][_0x43e9d8(0x2db)]:Date[_0x43e9d8(0x299)](),_0x16b912=(Date[_0x43e9d8(0x299)]()-_0x2e6a82)/(0x3e8*0x3c*0x3c);let _0x2312c1='';_0x47cfa5[_0x43e9d8(0x1bd)][_0x43e9d8(0x18a)]&&_0x47cfa5[_0x43e9d8(0x1ac)]===SYSTEM_MODES[_0x43e9d8(0x2c5)]&&_0x47cfa5[_0x43e9d8(0x1a1)]&&(_0x16b912>_0x31e336&&(_0x2312c1=_0x43e9d8(0x290)+_0x16b912[_0x43e9d8(0x242)](0x1)+_0x43e9d8(0x23e))),runGeminiAnalysis(_0x47cfa5,_0x2312c1)['catch'](_0x49776e=>_0x47cfa5[_0x43e9d8(0x2d8)][_0x43e9d8(0x291)](_0x49776e));}function a0_0x420f(_0x387b1e,_0x5d2c0a){const _0x285181=a0_0xb633();return a0_0x420f=function(_0xb61d40,_0x4b495c){_0xb61d40=_0xb61d40-0x126;let _0xb63371=_0x285181[_0xb61d40];return _0xb63371;},a0_0x420f(_0x387b1e,_0x5d2c0a);}async function createDailyDigest(_0x3e51c6){const _0x2fc9a5=a0_0x172cd8;if(!_0x3e51c6[_0x2fc9a5(0x20a)])return;await _0x3e51c6[_0x2fc9a5(0x1d1)](LTM_DP_STATUS,{'val':_0x2fc9a5(0x1b1)+new Date()[_0x2fc9a5(0x275)](),'ack':!![]});if(!_0x3e51c6[_0x2fc9a5(0x24a)]||_0x3e51c6['rawEventLog'][_0x2fc9a5(0x2b2)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x3e51c6['setStateAsync'](LTM_DP_STATUS,{'val':'Skipped\x20(No\x20AI\x20or\x20Data)','ack':!![]});return;}const _0x9aff53=JSON['parse'](JSON[_0x2fc9a5(0x2cc)](_0x3e51c6[_0x2fc9a5(0x1d3)])),_0x2aa36c=_0x9aff53[_0x2fc9a5(0x2b2)],_0x359fdf=_0x2fc9a5(0x267)+JSON[_0x2fc9a5(0x2cc)](_0x9aff53);try{const _0x2719bb=await _0x3e51c6[_0x2fc9a5(0x24a)]['generateContent'](_0x359fdf),_0x44015d=JSON['parse'](_0x2719bb[_0x2fc9a5(0x2f3)]['text']()[_0x2fc9a5(0x126)](/```json|```/g,'')['trim']());if(_0x44015d[_0x2fc9a5(0x2ab)]){const _0x28a80c={'timestamp':new Date()[_0x2fc9a5(0x302)](),'eventCount':_0x2aa36c,'summary':_0x44015d[_0x2fc9a5(0x2ab)],'activityLevel':_0x44015d[_0x2fc9a5(0x1ad)],'systemMode':_0x3e51c6['currentSystemMode']};_0x3e51c6['dailyDigests'][_0x2fc9a5(0x16f)](_0x28a80c),await saveDailyDigests(_0x3e51c6),_0x3e51c6['rawEventLog']=[],await saveRawEventLog(_0x3e51c6),await _0x3e51c6[_0x2fc9a5(0x1d1)](LTM_DP_STATUS,{'val':_0x2fc9a5(0x1ba)+_0x2aa36c+_0x2fc9a5(0x289),'ack':!![]}),_0x3e51c6[_0x2fc9a5(0x20a)]&&(_0x3e51c6[_0x2fc9a5(0x2d8)][_0x2fc9a5(0x2e2)]('ðŸ©º\x20Triggering\x20Health\x20Analysis\x20on\x20new\x20Digest...'),sendToPython(_0x3e51c6,_0x2fc9a5(0x139),{'digest':_0x28a80c}));}}catch(_0x314426){await _0x3e51c6[_0x2fc9a5(0x1d1)](LTM_DP_STATUS,{'val':'Error:\x20'+_0x314426[_0x2fc9a5(0x2ce)],'ack':!![]});}}async function sendMorningBriefing(_0x309cf3){const _0x4141f7=a0_0x172cd8;if(!_0x309cf3['geminiModel'])return;_0x309cf3[_0x4141f7(0x2d8)][_0x4141f7(0x2e2)](_0x4141f7(0x2a1));const _0x133db2=_0x309cf3[_0x4141f7(0x1a8)]['length']>0x0?_0x309cf3[_0x4141f7(0x1a8)][_0x309cf3[_0x4141f7(0x1a8)][_0x4141f7(0x2b2)]-0x1]:null,_0x223769=_0x133db2&&_0x133db2['health']?_0x133db2[_0x4141f7(0x277)][_0x4141f7(0x2ef)]:_0x4141f7(0x29d),_0x51c109=new Date();_0x51c109[_0x4141f7(0x239)](0x4,0x0,0x0,0x0);const _0x1c6be3=_0x309cf3[_0x4141f7(0x252)][_0x4141f7(0x27b)](_0x43ef8d=>new Date(_0x43ef8d[_0x4141f7(0x2db)])>_0x51c109),_0x1e0041=PERSONA_MAPPING[_0x309cf3[_0x4141f7(0x1bd)][_0x4141f7(0x155)]||_0x4141f7(0x1c9)],_0x10d17d=_0x309cf3[_0x4141f7(0x1bd)]['livingContext']||'',_0x56c183=await getWeatherContext(_0x309cf3),_0x4a4e63=await getCalendarContext(_0x309cf3),_0x4d326a=_0x4141f7(0x28c)+_0x1e0041+'.\x20KONTEXT:\x20'+_0x10d17d+_0x4141f7(0x176)+_0x56c183+'\x20'+_0x4a4e63+_0x4141f7(0x23d)+_0x223769+'/100,\x20AktivitÃ¤t\x20seit\x2004:00:\x20'+JSON['stringify'](_0x1c6be3[_0x4141f7(0x180)](0x0,0xa))+_0x4141f7(0x22a);try{const _0x46ba17=await _0x309cf3[_0x4141f7(0x24a)][_0x4141f7(0x1fd)](_0x4d326a),_0x14bf2d='ðŸŒ…\x20Daily\x20Briefing:\x0a'+_0x46ba17['response'][_0x4141f7(0x174)]()[_0x4141f7(0x31d)]();sendNotification(_0x309cf3,_0x14bf2d),_0x309cf3[_0x4141f7(0x2d8)][_0x4141f7(0x2e2)](_0x4141f7(0x307));}catch(_0x469419){_0x309cf3[_0x4141f7(0x2d8)][_0x4141f7(0x291)](_0x4141f7(0x142)+_0x469419[_0x4141f7(0x2ce)]);}}async function scanForDevices(_0x1c69d6,_0x249c4f){const _0x38aa37=a0_0x172cd8;_0x1c69d6[_0x38aa37(0x2d8)][_0x38aa37(0x2e2)]('Scanning\x20for\x20devices\x20(V8:\x20Whitelist\x20Priority)...');const _0x4a8d3e=[],_0x18e6cc=await _0x1c69d6[_0x38aa37(0x238)]('*'),_0x11774b=await _0x1c69d6['getForeignObjectsAsync'](_0x38aa37(0x1f1),'enum'),_0x7f121d=await _0x1c69d6[_0x38aa37(0x238)](_0x38aa37(0x1d5),_0x38aa37(0x146)),_0x5012e2={};if(_0x11774b)for(const _0x1710e1 in _0x11774b){const _0x582ebe=_0x11774b[_0x1710e1]['common'][_0x38aa37(0x300)]||[];_0x582ebe[_0x38aa37(0x12b)](_0x2b1757=>{if(!_0x5012e2[_0x2b1757])_0x5012e2[_0x2b1757]=[];_0x5012e2[_0x2b1757]['push'](_0x1710e1);});}const _0xac5246={};if(_0x7f121d)for(const _0x4552cc in _0x7f121d){const _0x49ad6e=_0x7f121d[_0x4552cc][_0x38aa37(0x137)]['members']||[],_0x53155d=typeof _0x7f121d[_0x4552cc][_0x38aa37(0x137)][_0x38aa37(0x18d)]===_0x38aa37(0x1ee)?_0x7f121d[_0x4552cc][_0x38aa37(0x137)]['name']['de']:_0x7f121d[_0x4552cc][_0x38aa37(0x137)][_0x38aa37(0x18d)];_0x49ad6e[_0x38aa37(0x12b)](_0x4840f7=>_0xac5246[_0x4840f7]=_0x53155d);}const _0x315e16=_0x249c4f[_0x38aa37(0x1c3)]||[],_0x24817a=_0x249c4f[_0x38aa37(0x29e)]!==![],_0x361732=_0x249c4f[_0x38aa37(0x30a)]!==![],_0x89d51e=_0x249c4f['lights']!==![],_0x55a997=_0x249c4f['temperature']===!![],_0x3b917c=_0x249c4f[_0x38aa37(0x2cf)]===!![];for(const _0x495114 in _0x18e6cc){const _0x868cd=_0x18e6cc[_0x495114];if(_0x868cd['type']!==_0x38aa37(0x25e)||!_0x868cd[_0x38aa37(0x137)])continue;if(ADAPTER_BLACKLIST[_0x38aa37(0x271)](_0x15e4ef=>_0x495114[_0x38aa37(0x2b6)](_0x15e4ef))&&!_0x3b917c)continue;const _0x199d49=(_0x868cd[_0x38aa37(0x137)][_0x38aa37(0x2d3)]||'')[_0x38aa37(0x13a)]();let _0x561194=(typeof _0x868cd[_0x38aa37(0x137)]['name']===_0x38aa37(0x1ee)?_0x868cd[_0x38aa37(0x137)][_0x38aa37(0x18d)]['de']:_0x868cd[_0x38aa37(0x137)][_0x38aa37(0x18d)])||_0x495114;const _0x520505=_0x561194[_0x38aa37(0x13a)]();let _0x71c898=![],_0x198bb2=![];if(_0x315e16[_0x38aa37(0x2b2)]>0x0){const _0x2915c8=_0x5012e2[_0x495114]||[],_0x27d3c2=_0x495114[_0x38aa37(0x13c)]('.')['slice'](0x0,-0x1)['join']('.'),_0x58f155=_0x5012e2[_0x27d3c2]||[];(_0x2915c8['some'](_0x292156=>_0x315e16[_0x38aa37(0x22c)](_0x292156))||_0x58f155[_0x38aa37(0x271)](_0x440727=>_0x315e16[_0x38aa37(0x22c)](_0x440727)))&&(_0x71c898=!![],_0x198bb2=!![]);}if(!_0x71c898&&!_0x3b917c){if(HARD_IGNORE_TERMS[_0x38aa37(0x271)](_0x209721=>_0x495114['includes'](_0x209721)||_0x520505['includes'](_0x209721[_0x38aa37(0x13a)]())))continue;}if(BAD_NAMES[_0x38aa37(0x271)](_0x39c7bf=>_0x520505===_0x39c7bf||_0x520505[_0x38aa37(0x232)]('.'+_0x39c7bf))){const _0x2b9776=_0x495114[_0x38aa37(0x13c)]('.');if(_0x2b9776[_0x38aa37(0x2b2)]>0x2){const _0x17024e=_0x2b9776[_0x38aa37(0x180)](0x0,-0x1)['join']('.'),_0x3bf336=_0x18e6cc[_0x17024e];if(_0x3bf336&&_0x3bf336['common']&&_0x3bf336[_0x38aa37(0x137)][_0x38aa37(0x18d)]){const _0x224557=typeof _0x3bf336[_0x38aa37(0x137)][_0x38aa37(0x18d)]===_0x38aa37(0x1ee)?_0x3bf336['common'][_0x38aa37(0x18d)]['de']:_0x3bf336[_0x38aa37(0x137)][_0x38aa37(0x18d)];_0x224557&&!_0x561194['includes'](_0x224557)&&(_0x561194=_0x224557+'\x20'+_0x561194);}}}let _0xa262b='';if(_0x24817a&&(_0x199d49[_0x38aa37(0x22c)](_0x38aa37(0x29e))||_0x199d49['includes'](_0x38aa37(0x29f))||_0x520505[_0x38aa37(0x22c)]('bewegung')||_0x520505[_0x38aa37(0x22c)](_0x38aa37(0x2ac))))_0xa262b=_0x38aa37(0x29e);else{if(!_0xa262b&&_0x361732&&(_0x199d49[_0x38aa37(0x22c)](_0x38aa37(0x2f0))||_0x199d49['includes']('window')||_0x199d49['includes']('lock')||_0x199d49[_0x38aa37(0x22c)](_0x38aa37(0x2ea))||_0x199d49[_0x38aa37(0x22c)]('shutter')||_0x520505[_0x38aa37(0x22c)](_0x38aa37(0x1bb))||_0x520505[_0x38aa37(0x22c)]('tÃ¼r')||_0x520505['includes'](_0x38aa37(0x160))))_0xa262b=_0x38aa37(0x2f0);else{if(!_0xa262b&&_0x89d51e&&(_0x199d49['includes']('light')||_0x199d49[_0x38aa37(0x22c)]('switch')||_0x199d49[_0x38aa37(0x22c)]('dimmer')||_0x520505['includes']('licht')||_0x520505['includes'](_0x38aa37(0x30e))||_0x520505['includes'](_0x38aa37(0x24b)))){if(_0x868cd[_0x38aa37(0x137)][_0x38aa37(0x26b)]||_0x199d49['includes'](_0x38aa37(0x263)))_0xa262b='light';}else{if(!_0xa262b&&_0x55a997&&(_0x199d49[_0x38aa37(0x22c)](_0x38aa37(0x161))||_0x199d49['includes'](_0x38aa37(0x2ed))||_0x199d49[_0x38aa37(0x22c)](_0x38aa37(0x234))||_0x520505[_0x38aa37(0x22c)](_0x38aa37(0x173))||_0x520505[_0x38aa37(0x22c)](_0x38aa37(0x2c3))||_0x520505[_0x38aa37(0x22c)]('heizung')))_0xa262b=_0x38aa37(0x161);else{if(!_0xa262b&&_0x198bb2)_0xa262b=_0x38aa37(0x1f6);}}}}if(_0xa262b){let _0x25b35b=_0xac5246[_0x495114]||'';if(!_0x25b35b){let _0x375627=_0x495114;for(let _0x65f0ae=0x0;_0x65f0ae<0x3;_0x65f0ae++){const _0xc10397=_0x375627['lastIndexOf']('.');if(_0xc10397===-0x1)break;_0x375627=_0x375627[_0x38aa37(0x203)](0x0,_0xc10397);if(_0xac5246[_0x375627]){_0x25b35b=_0xac5246[_0x375627];break;}}}_0x4a8d3e[_0x38aa37(0x16f)]({'id':_0x495114,'name':_0x561194,'location':_0x25b35b,'type':_0xa262b,'logDuplicates':_0xa262b===_0x38aa37(0x29e),'isExit':![],'_score':_0x25b35b?0x50:_0xa262b===_0x38aa37(0x1f6)?0x5a:0x28});}}return _0x4a8d3e[_0x38aa37(0x2d1)]((_0x446029,_0xd9914)=>_0xd9914[_0x38aa37(0x214)]-_0x446029[_0x38aa37(0x214)]),_0x4a8d3e;}async function executeAutomationAction(_0x7cbfb7){const _0x2e353d=a0_0x172cd8;try{const _0x4687da=await _0x7cbfb7['getStateAsync'](_0x2e353d(0x283)),_0x2e2be8=await _0x7cbfb7['getStateAsync'](_0x2e353d(0x195));if(_0x4687da&&_0x4687da[_0x2e353d(0x12a)]&&_0x2e2be8){const _0x384d9a=_0x4687da[_0x2e353d(0x12a)];let _0x2b6a4e=_0x2e2be8[_0x2e353d(0x12a)];try{_0x2b6a4e=JSON[_0x2e353d(0x268)](_0x2b6a4e);}catch(_0x3103d4){}_0x7cbfb7[_0x2e353d(0x2d8)]['info'](_0x2e353d(0x2ad)+_0x384d9a+_0x2e353d(0x2c2)+_0x2b6a4e),await _0x7cbfb7['setForeignStateAsync'](_0x384d9a,_0x2b6a4e);}else _0x7cbfb7[_0x2e353d(0x2d8)]['warn'](_0x2e353d(0x201));}catch(_0x597e19){_0x7cbfb7[_0x2e353d(0x2d8)][_0x2e353d(0x291)]('BUTLER\x20Execution\x20Error:\x20'+_0x597e19[_0x2e353d(0x2ce)]);}}function tryParse(_0x2ba483){const _0x190cab=a0_0x172cd8;try{return JSON[_0x190cab(0x268)](_0x2ba483);}catch(_0x47a0ec){return null;}}function installPythonDependencies(_0x220165){const _0x3298e9=a0_0x172cd8;if(_0x220165[_0x3298e9(0x27e)])return;_0x220165['dependencyInstallInProgress']=!![];const _0x20b924=path[_0x3298e9(0x2fc)](__dirname,_0x3298e9(0x133),_0x3298e9(0x230));_0x220165[_0x3298e9(0x2d8)]['info'](_0x3298e9(0x320)),stopPythonService(_0x220165);if(fs[_0x3298e9(0x19b)](VENV_PATH)){if(!fs[_0x3298e9(0x19b)](PIP_EXE)){_0x220165[_0x3298e9(0x2d8)]['warn']('âš ï¸\x20BROKEN\x20VENV\x20DETECTED\x20(Folder\x20exists,\x20but\x20pip\x20is\x20missing).\x20Repairing...');try{fs[_0x3298e9(0x2f8)](VENV_PATH,{'recursive':!![],'force':!![]});}catch(_0xe60759){_0x220165['log'][_0x3298e9(0x291)](_0x3298e9(0x228)+_0xe60759['message']);}}}!fs['existsSync'](VENV_PATH)?(_0x220165[_0x3298e9(0x2d8)][_0x3298e9(0x2e2)](_0x3298e9(0x1c5)+VENV_PATH+_0x3298e9(0x19f)),exec('python3\x20-m\x20venv\x20\x22'+VENV_PATH+'\x22',(_0xafad20,_0x329db8,_0x50e2c5)=>{const _0xba6a07=_0x3298e9;if(_0xafad20){_0x220165[_0xba6a07(0x2d8)][_0xba6a07(0x291)](_0xba6a07(0x293)),_0x220165['log'][_0xba6a07(0x291)](_0xba6a07(0x131)+(_0x50e2c5||_0xafad20[_0xba6a07(0x2ce)])),_0x220165[_0xba6a07(0x27e)]=![];return;}installRequirementsInVenv(_0x220165,_0x20b924);})):installRequirementsInVenv(_0x220165,_0x20b924);}function installRequirementsInVenv(_0x386073,_0x111bbf){const _0x559210=a0_0x172cd8;_0x386073[_0x559210(0x2d8)][_0x559210(0x2e2)]('Installing\x20dependencies\x20into\x20venv...');const _0x1267b9='\x22'+PIP_EXE+_0x559210(0x17a)+_0x111bbf+'\x22';exec(_0x1267b9,(_0x454c45,_0x5c9614,_0x1d7940)=>{const _0x98dab4=_0x559210;_0x386073[_0x98dab4(0x27e)]=![],_0x454c45?_0x386073['log'][_0x98dab4(0x291)](_0x98dab4(0x178)+(_0x1d7940||_0x454c45[_0x98dab4(0x2ce)])):(_0x386073[_0x98dab4(0x2d8)][_0x98dab4(0x2e2)](_0x98dab4(0x313)),startPythonService(_0x386073));});}function sendToPython(_0x2f5bc4,_0x59912d,_0x347916={}){const _0x4c963b=a0_0x172cd8;if(!_0x2f5bc4[_0x4c963b(0x2dd)]||!_0x2f5bc4['pythonProcess']['stdin'][_0x4c963b(0x1b9)])return;const _0x20e0e7=JSON[_0x4c963b(0x2cc)]({'command':_0x59912d,..._0x347916});try{_0x2f5bc4[_0x4c963b(0x2dd)][_0x4c963b(0x2a7)][_0x4c963b(0x26b)](_0x20e0e7+'\x0a');}catch(_0x508183){_0x2f5bc4[_0x4c963b(0x2d8)][_0x4c963b(0x291)](_0x4c963b(0x269)+_0x508183[_0x4c963b(0x2ce)]);}}function runPythonHealthCheck(_0xd5fbe9){const _0x16185f=a0_0x172cd8;if(!_0xd5fbe9['dailyDigests']||_0xd5fbe9[_0x16185f(0x1a8)][_0x16185f(0x2b2)]<0x2)return;const _0x14df8=_0xd5fbe9[_0x16185f(0x1a8)][_0x16185f(0x187)](_0x5655a8=>{const _0x38a9ce=_0x16185f,_0x244973=(_0x5655a8['activityLevel']||'')[_0x38a9ce(0x13a)]();return ACTIVITY_LEVEL_MAP[_0x244973]||0x32;});_0xd5fbe9[_0x16185f(0x2d8)][_0x16185f(0x2e2)](_0x16185f(0x227)+_0x14df8[_0x16185f(0x2b2)]+_0x16185f(0x32c)),sendToPython(_0xd5fbe9,_0x16185f(0x2ae),{'values':_0x14df8,'tag':_0x16185f(0x138)});}function handlePythonResult(_0x343152,_0x247cb1){const _0x419a92=a0_0x172cd8;if(_0x247cb1[_0x419a92(0x2c4)]===_0x419a92(0x2b9))_0x343152[_0x419a92(0x2d8)][_0x419a92(0x301)](_0x419a92(0x1d0));else{if(_0x247cb1['type']===_0x419a92(0x175)){const {tag:_0x5de405,diagnosis:_0x51b09d,change_percent:_0x2270e2}=_0x247cb1[_0x419a92(0x193)];_0x343152['log'][_0x419a92(0x2e2)](_0x419a92(0x1e5)+_0x5de405+_0x419a92(0x1ea)+_0x51b09d+'\x20('+_0x2270e2+'%)'),_0x343152[_0x419a92(0x1d1)]('analysis.health.trendDiagnosis',{'val':_0x51b09d,'ack':!![]}),_0x343152[_0x419a92(0x1d1)](_0x419a92(0x314),{'val':_0x2270e2,'ack':!![]});}else{if(_0x247cb1[_0x419a92(0x2c4)]===_0x419a92(0x19c)){const {success:_0x52329e,details:_0x31dc8b}=_0x247cb1[_0x419a92(0x193)];_0x52329e?(_0x343152[_0x419a92(0x2d8)][_0x419a92(0x2e2)](_0x419a92(0x157)+_0x31dc8b),_0x343152[_0x419a92(0x1d1)]('analysis.training.status',{'val':_0x419a92(0x1c8)+new Date()[_0x419a92(0x1fb)]()+'\x20('+_0x31dc8b+')','ack':!![]})):(_0x343152['log'][_0x419a92(0x291)](_0x419a92(0x319)+(_0x31dc8b||_0x419a92(0x1d7))),_0x343152[_0x419a92(0x1d1)](_0x419a92(0x233),{'val':'Failed:\x20'+_0x31dc8b,'ack':!![]}));}else{if(_0x247cb1[_0x419a92(0x2c4)]===_0x419a92(0x179)){const {success:_0x262e47,details:_0x33b036}=_0x247cb1[_0x419a92(0x193)];if(_0x262e47)_0x343152[_0x419a92(0x2d8)][_0x419a92(0x2e2)](_0x419a92(0x1a6)+_0x33b036);else _0x343152['log'][_0x419a92(0x291)](_0x419a92(0x14e)+_0x33b036);}else{if(_0x247cb1[_0x419a92(0x2c4)]==='HEALTH_RESULT'){const {is_anomaly:_0x279a04,details:_0x1dea1e}=_0x247cb1[_0x419a92(0x193)];_0x343152[_0x419a92(0x1d1)](_0x419a92(0x29c),{'val':new Date()[_0x419a92(0x302)](),'ack':!![]}),_0x343152[_0x419a92(0x1d1)](_0x419a92(0x229),{'val':_0x279a04,'ack':!![]});if(_0x279a04)_0x343152[_0x419a92(0x2d8)]['warn'](_0x419a92(0x202)+_0x1dea1e);}else{if(_0x247cb1['type']===_0x419a92(0x2b8)){const {success:_0xe9d387,details:_0x3c277f}=_0x247cb1[_0x419a92(0x193)];if(_0xe9d387){_0x343152['log'][_0x419a92(0x2e2)]('âœ…\x20ENERGY\x20MODEL\x20TRAINED!\x20'+_0x3c277f);try{const _0x71579b=JSON[_0x419a92(0x268)](_0x3c277f);if(_0x71579b[_0x419a92(0x26d)])_0x343152['setStateAsync'](_0x419a92(0x17f),{'val':JSON[_0x419a92(0x2cc)](_0x71579b[_0x419a92(0x26d)]),'ack':!![]});if(_0x71579b[_0x419a92(0x1a5)])_0x343152['setStateAsync'](_0x419a92(0x22b),{'val':JSON[_0x419a92(0x2cc)](_0x71579b['heating']),'ack':!![]});}catch(_0xd6867d){_0x343152[_0x419a92(0x2d8)]['error']('Failed\x20to\x20parse\x20energy\x20result:\x20'+_0xd6867d[_0x419a92(0x2ce)]);}}else _0x343152[_0x419a92(0x2d8)][_0x419a92(0x291)](_0x419a92(0x2a3)+_0x3c277f);}else{if(_0x247cb1[_0x419a92(0x2c4)]===_0x419a92(0x27d)){const {anomaly_score:_0x3ba82c,is_anomaly:_0x3fccf4,threshold:_0x2d2bf2}=_0x247cb1[_0x419a92(0x193)];_0x343152[_0x419a92(0x2d8)][_0x419a92(0x2e2)](_0x419a92(0x15d)+_0x3ba82c['toFixed'](0x5)+_0x419a92(0x18b)+_0x2d2bf2+_0x419a92(0x303)+(_0x3fccf4?_0x419a92(0x280):'OK')),_0x343152['setStateAsync'](_0x419a92(0x2b1),{'val':_0x3ba82c,'ack':!![]}),_0x343152[_0x419a92(0x1d1)](_0x419a92(0x1f4),{'val':new Date()[_0x419a92(0x302)](),'ack':!![]});if(_0x3fccf4){const _0xf57653=_0x419a92(0x286)+_0x3ba82c[_0x419a92(0x242)](0x4)+')';_0x343152['setStateAsync'](_0x419a92(0x21e),{'val':!![],'ack':!![]}),_0x343152[_0x419a92(0x1d1)]('analysis.alertReason',{'val':_0xf57653,'ack':!![]}),sendNotification(_0x343152,_0x419a92(0x206)+_0xf57653,![],!![]);}}}}}}}}}function startPythonService(_0x4e3eb7){const _0x24aefb=a0_0x172cd8;let _0x453115=_0x24aefb(0x329);if(fs['existsSync'](PYTHON_EXE))_0x4e3eb7[_0x24aefb(0x2d8)][_0x24aefb(0x2e2)](_0x24aefb(0x298)+PYTHON_EXE),_0x453115=PYTHON_EXE;else{_0x4e3eb7['log']['warn'](_0x24aefb(0x20d));if(!_0x4e3eb7[_0x24aefb(0x27e)])installPythonDependencies(_0x4e3eb7);}try{const _0x42feb7=path[_0x24aefb(0x2fc)](__dirname,'python_service',_0x24aefb(0x315));_0x4e3eb7[_0x24aefb(0x2dd)]=spawn(_0x453115,[_0x42feb7]),_0x4e3eb7[_0x24aefb(0x2dd)][_0x24aefb(0x2fe)]['on'](_0x24aefb(0x328),_0x6e4896=>{const _0x59c889=_0x24aefb,_0x4910d3=_0x6e4896[_0x59c889(0x241)]()['split']('\x0a');_0x4910d3[_0x59c889(0x12b)](_0x398e44=>{const _0x21360d=_0x59c889,_0x48a71e=_0x398e44[_0x21360d(0x31d)]();if(!_0x48a71e)return;if(_0x48a71e[_0x21360d(0x2b6)](_0x21360d(0x140)))_0x4e3eb7['log'][_0x21360d(0x301)](_0x21360d(0x211)+_0x48a71e['substring'](0x5)['trim']());else{if(_0x48a71e[_0x21360d(0x2b6)](_0x21360d(0x14a)))try{const _0x34aba1=JSON[_0x21360d(0x268)](_0x48a71e[_0x21360d(0x203)](0x8)[_0x21360d(0x31d)]());handlePythonResult(_0x4e3eb7,_0x34aba1);}catch(_0x21bc44){_0x4e3eb7['log'][_0x21360d(0x333)]('Invalid\x20JSON\x20from\x20Python:\x20'+_0x48a71e);}}(_0x48a71e[_0x21360d(0x22c)](_0x21360d(0x306))||_0x48a71e[_0x21360d(0x22c)](_0x21360d(0x130)))&&(_0x4e3eb7[_0x21360d(0x2d8)][_0x21360d(0x333)](_0x21360d(0x21a)),installPythonDependencies(_0x4e3eb7));});}),_0x4e3eb7[_0x24aefb(0x2dd)][_0x24aefb(0x32d)]['on'](_0x24aefb(0x328),_0x57ea07=>{const _0x4276e0=_0x24aefb,_0x5d5b20=_0x57ea07[_0x4276e0(0x241)]()['trim']();!_0x5d5b20[_0x4276e0(0x22c)](_0x4276e0(0x2e8))&&_0x4e3eb7[_0x4276e0(0x2d8)][_0x4276e0(0x291)](_0x4276e0(0x1e7)+_0x5d5b20);}),_0x4e3eb7[_0x24aefb(0x2dd)]['on'](_0x24aefb(0x2ff),_0x9f728b=>{const _0x5af805=_0x24aefb;_0x4e3eb7[_0x5af805(0x2d8)][_0x5af805(0x2e2)](_0x5af805(0x260)+_0x9f728b),_0x4e3eb7[_0x5af805(0x2dd)]=null;}),_0x4e3eb7['pythonProcess']['on'](_0x24aefb(0x291),_0x591462=>{const _0x4979cf=_0x24aefb;_0x4e3eb7[_0x4979cf(0x2d8)][_0x4979cf(0x333)](_0x4979cf(0x1ec)+_0x591462[_0x4979cf(0x2ce)]);});}catch(_0x4b28f9){_0x4e3eb7[_0x24aefb(0x2d8)]['error'](_0x24aefb(0x24f)+_0x4b28f9['message']);}}function stopPythonService(_0x3aec37){const _0x1807a4=a0_0x172cd8;if(_0x3aec37[_0x1807a4(0x2dd)]){_0x3aec37[_0x1807a4(0x2d8)][_0x1807a4(0x2e2)](_0x1807a4(0x305));try{_0x3aec37['pythonProcess'][_0x1807a4(0x270)]();}catch(_0x5a53af){_0x3aec37[_0x1807a4(0x2d8)][_0x1807a4(0x333)](_0x1807a4(0x316)+_0x5a53af[_0x1807a4(0x2ce)]);}_0x3aec37['pythonProcess']=null;}}class CogniLiving extends utils[a0_0x172cd8(0x188)]{constructor(_0x489fc7){const _0x35ef98=a0_0x172cd8;super({..._0x489fc7,'name':'cogni-living'}),this[_0x35ef98(0x252)]=[],this[_0x35ef98(0x1a9)]=[],this[_0x35ef98(0x2c7)]=[],this['rawEventLog']=[],this['dailyDigests']=[],this[_0x35ef98(0x12d)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x35ef98(0x1a1)]=!![],this[_0x35ef98(0x282)]=null,this['exitGraceTimer']=null,this[_0x35ef98(0x1d2)]=![],this[_0x35ef98(0x2d9)]=null,this[_0x35ef98(0x24a)]=null,this['currentSystemMode']=SYSTEM_MODES['NORMAL'],this[_0x35ef98(0x20a)]=![],this[_0x35ef98(0x2ee)]=![],this[_0x35ef98(0x20f)]='unknown',this[_0x35ef98(0x1ce)]=null,this[_0x35ef98(0x2e5)]=null,this[_0x35ef98(0x2e1)]=null,this[_0x35ef98(0x31e)]=null,this[_0x35ef98(0x166)]=null,this[_0x35ef98(0x2dd)]=null,this[_0x35ef98(0x27e)]=![],this['on'](_0x35ef98(0x2fa),this[_0x35ef98(0x2bd)][_0x35ef98(0x2c9)](this)),this['on'](_0x35ef98(0x24e),this[_0x35ef98(0x2d5)][_0x35ef98(0x2c9)](this)),this['on']('unload',this['onUnload'][_0x35ef98(0x2c9)](this)),this['on'](_0x35ef98(0x2ce),this['onMessage'][_0x35ef98(0x2c9)](this));}async[a0_0x172cd8(0x2bd)](){const _0x5c561b=a0_0x172cd8;this['log']['info'](_0x5c561b(0x28d)+this[_0x5c561b(0x13e)]+')'),await initZombies(this),this['config'][_0x5c561b(0x25d)]=this['config'][_0x5c561b(0x25d)]||'';try{this[_0x5c561b(0x20a)]=await checkLicense(this,this[_0x5c561b(0x1bd)]['licenseKey']);}catch(_0x17feae){}if(!this[_0x5c561b(0x1bd)][_0x5c561b(0x2c1)]||this['config'][_0x5c561b(0x2c1)]<0.1)this[_0x5c561b(0x1bd)][_0x5c561b(0x2c1)]=0xc;await initHistory(this),await initSystemConfig(this);if(this[_0x5c561b(0x1bd)][_0x5c561b(0x2a8)])try{this[_0x5c561b(0x2d9)]=new GoogleGenerativeAI(this[_0x5c561b(0x1bd)]['geminiApiKey']),this[_0x5c561b(0x24a)]=this[_0x5c561b(0x2d9)][_0x5c561b(0x273)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5c561b(0x1c1)}}),this[_0x5c561b(0x2d8)][_0x5c561b(0x2e2)](_0x5c561b(0x16d));}catch(_0x2453f3){this['log'][_0x5c561b(0x291)](_0x5c561b(0x2af)+_0x2453f3[_0x5c561b(0x2ce)]);}await createAllObjects(this),await loadSystemMode(this),await loadRawEventLog(this),await loadDailyDigests(this),this['subscribeStates'](_0x5c561b(0x128)),this[_0x5c561b(0x15b)](LTM_DP_TRIGGER_DIGEST),this[_0x5c561b(0x15b)](_0x5c561b(0x1de)),this[_0x5c561b(0x15b)](_0x5c561b(0x2f6)),this[_0x5c561b(0x15b)](_0x5c561b(0x1b0)),this['subscribeStates'](_0x5c561b(0x23c)),this[_0x5c561b(0x15b)](_0x5c561b(0x223)),this[_0x5c561b(0x15b)](_0x5c561b(0x1cf)),this[_0x5c561b(0x15b)](_0x5c561b(0x2bf)),await initSensorSubscriptions(this),await initPresenceSubscriptions(this),await setupTelegramListener(this),setTimeout(()=>checkWifiPresence(this),0x1388);if(this['analysisTimer'])clearInterval(this['analysisTimer']);const _0x5c50a=this['config']['analysisInterval']||0xf;_0x5c50a>0x0&&(this['analysisTimer']=setInterval(()=>{runAutopilot(this);},_0x5c50a*0x3c*0x3e8)),setupLtmScheduler(this),setupModeResetScheduler(this),setupDriftAnalysisScheduler(this),setupBriefingScheduler(this),startPythonService(this),setTimeout(()=>{const _0x441c34=_0x5c561b;if(this[_0x441c34(0x2dd)])runPythonHealthCheck(this);},0x1388);}[a0_0x172cd8(0x2fd)](_0x3447e2){const _0x432197=a0_0x172cd8;if(this[_0x432197(0x1ce)])clearInterval(this[_0x432197(0x1ce)]);if(this[_0x432197(0x31e)])clearInterval(this[_0x432197(0x31e)]);if(this[_0x432197(0x2e5)])this[_0x432197(0x2e5)]['cancel']();if(this['modeResetJob'])this[_0x432197(0x2e1)][_0x432197(0x1ab)]();if(this[_0x432197(0x166)])this[_0x432197(0x166)][_0x432197(0x1ab)]();if(this[_0x432197(0x282)])clearTimeout(this['exitTimer']);if(this[_0x432197(0x245)])clearTimeout(this[_0x432197(0x245)]);stopPythonService(this),_0x3447e2();}async['onStateChange'](_0x5f146f,_0x2d7174){const _0x21ca53=a0_0x172cd8;if(!_0x2d7174)return;if(_0x5f146f[_0x21ca53(0x22c)](_0x21ca53(0x136))&&_0x5f146f[_0x21ca53(0x232)](_0x21ca53(0x2b3))&&_0x2d7174[_0x21ca53(0x12a)]){await handleTelegramResponse(this,_0x2d7174[_0x21ca53(0x12a)]);return;}if(_0x5f146f===this['namespace']+'.'+SYSTEM_DP_MODE){if(_0x2d7174[_0x21ca53(0x12a)]&&Object['values'](SYSTEM_MODES)[_0x21ca53(0x22c)](_0x2d7174['val'])){this[_0x21ca53(0x1ac)]=_0x2d7174[_0x21ca53(0x12a)];if(_0x2d7174[_0x21ca53(0x12a)]===SYSTEM_MODES[_0x21ca53(0x14f)])await setPresence(this,![]);else await setPresence(this,!![]);}if(!_0x2d7174[_0x21ca53(0x22f)])this[_0x21ca53(0x20b)](_0x5f146f,{'val':this[_0x21ca53(0x1ac)],'ack':!![]});return;}if(!_0x2d7174[_0x21ca53(0x22f)]){_0x5f146f[_0x21ca53(0x22c)]('analysis.trigger')&&_0x2d7174['val']&&(this[_0x21ca53(0x20b)](_0x5f146f,{'val':![],'ack':!![]}),runGeminiAnalysis(this));if(_0x5f146f['includes'](_0x21ca53(0x2e7))&&_0x2d7174[_0x21ca53(0x12a)]){this['setState'](_0x5f146f,{'val':![],'ack':!![]});if(this[_0x21ca53(0x20a)])createDailyDigest(this);}_0x5f146f['includes'](_0x21ca53(0x25b))&&_0x2d7174['val']&&(this[_0x21ca53(0x20b)](_0x5f146f,{'val':![],'ack':!![]}),sendMorningBriefing(this));_0x5f146f['includes']('automation.triggerAction')&&_0x2d7174['val']&&(this[_0x21ca53(0x20b)](_0x5f146f,{'val':![],'ack':!![]}),executeAutomationAction(this));if(_0x5f146f[_0x21ca53(0x22c)](_0x21ca53(0x223))&&_0x2d7174[_0x21ca53(0x12a)]){this[_0x21ca53(0x20b)](_0x5f146f,{'val':![],'ack':!![]});if(!this['isProVersion'])return;try{const _0x1cfed5=await this[_0x21ca53(0x2d2)](_0x21ca53(0x2f5));if(_0x1cfed5&&_0x1cfed5['val']){const _0x196268=JSON['parse'](_0x1cfed5[_0x21ca53(0x12a)]);this[_0x21ca53(0x2d8)][_0x21ca53(0x2e2)](_0x21ca53(0x324)),this['setStateAsync'](_0x21ca53(0x233),{'val':_0x21ca53(0x215),'ack':!![]}),sendToPython(this,_0x21ca53(0x194),{'sequences':_0x196268});}}catch(_0x5be5e4){this[_0x21ca53(0x2d8)][_0x21ca53(0x291)]('Training\x20Error:\x20'+_0x5be5e4[_0x21ca53(0x2ce)]);}}if(_0x5f146f['includes']('analysis.training.triggerHealth')&&_0x2d7174['val']){this[_0x21ca53(0x20b)](_0x5f146f,{'val':![],'ack':!![]});if(!this[_0x21ca53(0x20a)])return;try{const _0x1ac854=await this[_0x21ca53(0x2d2)](LTM_DP_DAILY_DIGESTS);if(_0x1ac854&&_0x1ac854[_0x21ca53(0x12a)]){const _0x5f58b5=JSON[_0x21ca53(0x268)](_0x1ac854[_0x21ca53(0x12a)]);this[_0x21ca53(0x2d8)]['info']('ðŸ©º\x20Triggering\x20Health\x20Training...'),sendToPython(this,_0x21ca53(0x1aa),{'digests':_0x5f58b5});}}catch(_0x1a937f){this[_0x21ca53(0x2d8)][_0x21ca53(0x291)]('Health\x20Train\x20Error:\x20'+_0x1a937f[_0x21ca53(0x2ce)]);}}if(_0x5f146f['includes'](_0x21ca53(0x2bf))&&_0x2d7174[_0x21ca53(0x12a)]){this[_0x21ca53(0x20b)](_0x5f146f,{'val':![],'ack':!![]});if(!this[_0x21ca53(0x20a)])return;try{const _0x3e2315=await this['getStateAsync'](_0x21ca53(0x1ff));if(_0x3e2315&&_0x3e2315[_0x21ca53(0x12a)]){const _0x542f23=JSON[_0x21ca53(0x268)](_0x3e2315[_0x21ca53(0x12a)]);this['log'][_0x21ca53(0x2e2)]('ðŸƒ\x20Triggering\x20Energy\x20Training...'),sendToPython(this,_0x21ca53(0x25f),{'points':_0x542f23});}}catch(_0x77350d){this[_0x21ca53(0x2d8)][_0x21ca53(0x291)]('Energy\x20Train\x20Error:\x20'+_0x77350d[_0x21ca53(0x2ce)]);}}return;}if(this[_0x21ca53(0x1bd)][_0x21ca53(0x162)]&&this[_0x21ca53(0x1bd)][_0x21ca53(0x162)][_0x21ca53(0x22c)](_0x5f146f)){await checkWifiPresence(this);return;}const _0x4bc2d9=(this['config']['devices']||[])[_0x21ca53(0x19a)](_0x87b147=>_0x87b147['id']===_0x5f146f);if(_0x4bc2d9)processSensorEvent(this,_0x5f146f,_0x2d7174,_0x4bc2d9);}async[a0_0x172cd8(0x26e)](_0x2acab4){const _0x4d0f3a=a0_0x172cd8;if(typeof _0x2acab4===_0x4d0f3a(0x1ee)&&_0x2acab4[_0x4d0f3a(0x2ce)])try{if(_0x2acab4[_0x4d0f3a(0x220)]===_0x4d0f3a(0x1dd)){const _0x12d59c=_0x2acab4[_0x4d0f3a(0x2ce)][_0x4d0f3a(0x1cb)]||this['config']['geminiApiKey'];if(!_0x12d59c)return this[_0x4d0f3a(0x30c)](_0x2acab4['from'],_0x2acab4['command'],{'success':![],'message':'Kein\x20API\x20Key\x20eingegeben.'},_0x2acab4[_0x4d0f3a(0x1db)]);try{const _0x211b30=new GoogleGenerativeAI(_0x12d59c),_0x5b8683=_0x211b30[_0x4d0f3a(0x273)]({'model':GEMINI_MODEL}),_0x3b50c8=await _0x5b8683[_0x4d0f3a(0x1fd)](_0x4d0f3a(0x2b0)),_0x1d1076=await _0x3b50c8[_0x4d0f3a(0x2f3)],_0x12e8f6=_0x1d1076['text']();this['sendTo'](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4['command'],{'success':!![],'message':_0x4d0f3a(0x1e0)+_0x12e8f6['substring'](0x0,0x14)+'...'},_0x2acab4[_0x4d0f3a(0x1db)]);}catch(_0x50af73){this['sendTo'](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4[_0x4d0f3a(0x220)],{'success':![],'message':_0x4d0f3a(0x2d4)+_0x50af73[_0x4d0f3a(0x2ce)]},_0x2acab4[_0x4d0f3a(0x1db)]);}}else{if(_0x2acab4[_0x4d0f3a(0x220)]==='testContext'){const _0x57d07b=await getWeatherContext(this),_0x18e6eb=await getCalendarContext(this);this['sendTo'](_0x2acab4['from'],_0x2acab4[_0x4d0f3a(0x220)],{'success':!![],'weather':_0x57d07b,'calendar':_0x18e6eb},_0x2acab4[_0x4d0f3a(0x1db)]);}else{if(_0x2acab4['command']===_0x4d0f3a(0x31f)){}else{if(_0x2acab4[_0x4d0f3a(0x220)]==='getLtmData'){if(!this[_0x4d0f3a(0x20a)])return this['sendTo'](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4[_0x4d0f3a(0x220)],{'success':![],'isPro':![]},_0x2acab4[_0x4d0f3a(0x1db)]);let _0x3369e6={'status':_0x4d0f3a(0x29d),'details':'','lastCheck':0x0};try{_0x3369e6[_0x4d0f3a(0x27c)]=(await this[_0x4d0f3a(0x2d2)](LTM_DP_DRIFT_STATUS))[_0x4d0f3a(0x12a)],_0x3369e6[_0x4d0f3a(0x2a2)]=(await this[_0x4d0f3a(0x2d2)](LTM_DP_DRIFT_DETAILS))['val'],_0x3369e6[_0x4d0f3a(0x2f1)]=(await this[_0x4d0f3a(0x2d2)](LTM_DP_DRIFT_LAST_CHECK))[_0x4d0f3a(0x12a)];}catch(_0x3f6892){}const _0x53af88=this[_0x4d0f3a(0x1a9)]||[];this[_0x4d0f3a(0x30c)](_0x2acab4['from'],_0x2acab4[_0x4d0f3a(0x220)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x4d0f3a(0x1a8)],'driftAnalysis':_0x3369e6,'analysisHistory':_0x53af88},_0x2acab4[_0x4d0f3a(0x1db)]);}else{if(_0x2acab4[_0x4d0f3a(0x220)]===_0x4d0f3a(0x26c)){const _0x3cc515=this['dailyDigests'][_0x4d0f3a(0x2b2)],_0x1ec150=new Date(),_0x1d99f3=new Date(_0x1ec150[_0x4d0f3a(0x132)](),_0x1ec150[_0x4d0f3a(0x2d0)](),_0x1ec150[_0x4d0f3a(0x153)]())['getTime'](),_0x8b17d9=this[_0x4d0f3a(0x1d3)][_0x4d0f3a(0x27b)](_0x4d5c65=>new Date(_0x4d5c65[_0x4d0f3a(0x2db)])[_0x4d0f3a(0x149)]()>_0x1d99f3)[_0x4d0f3a(0x2b2)],_0x4a5d4c=new Array(0x18)[_0x4d0f3a(0x154)](0x0);this[_0x4d0f3a(0x1d3)][_0x4d0f3a(0x12b)](_0x429e22=>{const _0x3128dd=_0x4d0f3a,_0x1830bf=new Date(_0x429e22[_0x3128dd(0x2db)]);if(_0x1830bf[_0x3128dd(0x149)]()>_0x1d99f3)_0x4a5d4c[_0x1830bf[_0x3128dd(0x1b5)]()]++;});let _0x5a9473={'status':_0x4d0f3a(0x29d)};try{_0x5a9473['status']=(await this[_0x4d0f3a(0x2d2)](LTM_DP_DRIFT_STATUS))[_0x4d0f3a(0x12a)];}catch(_0x40869d){}let _0x4c5918='';try{const _0x150afa=await this[_0x4d0f3a(0x2d2)]('system.presenceWho');_0x4c5918=_0x150afa?_0x150afa['val']:'';}catch(_0x521d24){}let _0x1c4d6f=null;!this[_0x4d0f3a(0x24a)]&&(_0x1c4d6f=this[_0x4d0f3a(0x1bd)][_0x4d0f3a(0x2a8)]?_0x4d0f3a(0x264):_0x4d0f3a(0x28b));let _0x8750c7={'detected':![],'description':'','targetId':'','targetValue':'','autoApply':![]};try{const _0x189d39=await this[_0x4d0f3a(0x2d2)](_0x4d0f3a(0x20e)),_0x3b6d8b=await this[_0x4d0f3a(0x2d2)](_0x4d0f3a(0x1c4)),_0x5680c2=await this[_0x4d0f3a(0x2d2)]('analysis.automation.targetId'),_0xfc118b=await this['getStateAsync'](_0x4d0f3a(0x195)),_0x164885=await this[_0x4d0f3a(0x2d2)]('analysis.automation.autoApply');_0x189d39&&_0x189d39[_0x4d0f3a(0x12a)]&&(_0x8750c7['detected']=!![],_0x8750c7[_0x4d0f3a(0x1a0)]=_0x3b6d8b?_0x3b6d8b[_0x4d0f3a(0x12a)]:'',_0x8750c7[_0x4d0f3a(0x1a2)]=_0x5680c2?_0x5680c2[_0x4d0f3a(0x12a)]:'',_0x8750c7['targetValue']=_0xfc118b?_0xfc118b[_0x4d0f3a(0x12a)]:''),_0x8750c7['autoApply']=_0x164885?!!_0x164885[_0x4d0f3a(0x12a)]:![];}catch(_0xe5b149){}this['sendTo'](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4[_0x4d0f3a(0x220)],{'success':!![],'eventHistory':this['eventHistory'][_0x4d0f3a(0x180)](0x0,0xf),'stats':{'digestCount':_0x3cc515,'eventCountToday':_0x8b17d9,'hourlyActivity':_0x4a5d4c,'driftStatus':_0x5a9473[_0x4d0f3a(0x27c)],'isPresent':this['isPresent'],'presenceWho':_0x4c5918,'minDays':this['config'][_0x4d0f3a(0x1b3)]||0x7,'stbDays':this[_0x4d0f3a(0x1bd)][_0x4d0f3a(0x327)]||0xe,'ltbDays':this[_0x4d0f3a(0x1bd)][_0x4d0f3a(0x32f)]||0x3c,'systemError':_0x1c4d6f},'automation':_0x8750c7},_0x2acab4[_0x4d0f3a(0x1db)]);}else{if(_0x2acab4[_0x4d0f3a(0x220)]===_0x4d0f3a(0x2a6)){const _0x4ca4cf=await this[_0x4d0f3a(0x238)](_0x4d0f3a(0x1f1),_0x4d0f3a(0x146)),_0x4968ed=[];if(_0x4ca4cf)for(const _0x1d1877 in _0x4ca4cf){const _0x33775c=_0x4ca4cf[_0x1d1877],_0x1da59a=(_0x33775c[_0x4d0f3a(0x137)]&&typeof _0x33775c[_0x4d0f3a(0x137)][_0x4d0f3a(0x18d)]===_0x4d0f3a(0x1ee)?_0x33775c[_0x4d0f3a(0x137)][_0x4d0f3a(0x18d)]['de']:_0x33775c[_0x4d0f3a(0x137)][_0x4d0f3a(0x18d)])||_0x33775c['common']['name'];_0x4968ed[_0x4d0f3a(0x16f)]({'id':_0x1d1877,'name':_0x1da59a});}this[_0x4d0f3a(0x30c)](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4[_0x4d0f3a(0x220)],{'success':!![],'enums':_0x4968ed},_0x2acab4['callback']);}else{if(_0x2acab4[_0x4d0f3a(0x220)]===_0x4d0f3a(0x28e))try{const _0x1727d8=await scanForDevices(this,_0x2acab4['message']||{});this[_0x4d0f3a(0x30c)](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4[_0x4d0f3a(0x220)],{'success':!![],'devices':_0x1727d8},_0x2acab4[_0x4d0f3a(0x1db)]);}catch(_0x2f280a){this[_0x4d0f3a(0x30c)](_0x2acab4['from'],_0x2acab4[_0x4d0f3a(0x220)],{'success':![],'error':_0x2f280a[_0x4d0f3a(0x2ce)]},_0x2acab4[_0x4d0f3a(0x1db)]);}else{if(_0x2acab4[_0x4d0f3a(0x220)]===_0x4d0f3a(0x1f9)){const _0xbc79c5=_0x2acab4[_0x4d0f3a(0x2ce)][_0x4d0f3a(0x212)];if(!_0xbc79c5)return this['sendTo'](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4[_0x4d0f3a(0x220)],{'success':![],'error':'No\x20instance'},_0x2acab4['callback']);const _0xf85a9f=await getCalendarNames(this,_0xbc79c5);this['sendTo'](_0x2acab4['from'],_0x2acab4['command'],{'success':!![],'names':_0xf85a9f},_0x2acab4[_0x4d0f3a(0x1db)]);}else{if(_0x2acab4[_0x4d0f3a(0x220)]==='simulateButler'){const {targetId:_0x3470a7,targetValue:_0x2b0734}=_0x2acab4[_0x4d0f3a(0x2ce)];this[_0x4d0f3a(0x2d8)][_0x4d0f3a(0x2e2)](_0x4d0f3a(0x26f)+_0x3470a7+_0x4d0f3a(0x2c2)+_0x2b0734),await this[_0x4d0f3a(0x1d1)](_0x4d0f3a(0x20e),{'val':!![],'ack':!![]}),await this[_0x4d0f3a(0x1d1)](_0x4d0f3a(0x1c4),{'val':_0x4d0f3a(0x29a)+_0x3470a7,'ack':!![]}),await this[_0x4d0f3a(0x1d1)](_0x4d0f3a(0x283),{'val':_0x3470a7,'ack':!![]}),await this[_0x4d0f3a(0x1d1)](_0x4d0f3a(0x195),{'val':_0x2b0734,'ack':!![]}),this[_0x4d0f3a(0x30c)](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4[_0x4d0f3a(0x220)],{'success':!![]},_0x2acab4[_0x4d0f3a(0x1db)]);}else{if(_0x2acab4[_0x4d0f3a(0x220)]==='submitFeedback'){const {historyId:_0x646c12,rating:_0x202a91,comment:_0x242606,alertReason:_0x37d3eb}=_0x2acab4[_0x4d0f3a(0x2ce)];_0x646c12&&_0x202a91?(await saveFeedback(this,{'timestamp':Date['now'](),'historyId':_0x646c12,'rating':_0x202a91,'comment':_0x242606,'alertReason':_0x37d3eb}),this['sendTo'](_0x2acab4['from'],_0x2acab4[_0x4d0f3a(0x220)],{'success':!![]},_0x2acab4[_0x4d0f3a(0x1db)])):this[_0x4d0f3a(0x30c)](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4[_0x4d0f3a(0x220)],{'success':![],'error':'Missing\x20data'},_0x2acab4['callback']);}else _0x2acab4[_0x4d0f3a(0x220)]==='dismissAutomation'&&(this[_0x4d0f3a(0x2d8)]['info'](_0x4d0f3a(0x297)),await this[_0x4d0f3a(0x1d1)](_0x4d0f3a(0x20e),{'val':![],'ack':!![]}),await this[_0x4d0f3a(0x1d1)](_0x4d0f3a(0x1c4),{'val':'','ack':!![]}),this[_0x4d0f3a(0x30c)](_0x2acab4['from'],_0x2acab4[_0x4d0f3a(0x220)],{'success':!![]},_0x2acab4[_0x4d0f3a(0x1db)]));}}}}}}}}}}catch(_0x2120b6){this['log'][_0x4d0f3a(0x291)](_0x4d0f3a(0x170)+_0x2acab4['command']+':\x20'+_0x2120b6['message']);if(_0x2acab4[_0x4d0f3a(0x1db)])this['sendTo'](_0x2acab4[_0x4d0f3a(0x1c7)],_0x2acab4[_0x4d0f3a(0x220)],{'success':![],'error':_0x2120b6[_0x4d0f3a(0x2ce)]},_0x2acab4['callback']);}}}if(require[a0_0x172cd8(0x2c6)]!==module)module['exports']=_0x5e0f2d=>new CogniLiving(_0x5e0f2d);else new CogniLiving();