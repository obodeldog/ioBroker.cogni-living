function a0_0x228f(_0x18f549,_0x139529){const _0x56dc4e=a0_0xfe3a();return a0_0x228f=function(_0x4a09fc,_0x223a34){_0x4a09fc=_0x4a09fc-0x150;let _0xfe3af2=_0x56dc4e[_0x4a09fc];return _0xfe3af2;},a0_0x228f(_0x18f549,_0x139529);}const a0_0x4d9cae=a0_0x228f;(function(_0x5b1d06,_0xf41a8){const _0x54d361=a0_0x228f,_0x301fa2=_0x5b1d06();while(!![]){try{const _0xb333c1=parseInt(_0x54d361(0x198))/0x1*(parseInt(_0x54d361(0x183))/0x2)+-parseInt(_0x54d361(0x194))/0x3*(-parseInt(_0x54d361(0x244))/0x4)+-parseInt(_0x54d361(0x20a))/0x5+parseInt(_0x54d361(0x17b))/0x6+-parseInt(_0x54d361(0x185))/0x7+-parseInt(_0x54d361(0x246))/0x8*(parseInt(_0x54d361(0x1e7))/0x9)+-parseInt(_0x54d361(0x17e))/0xa;if(_0xb333c1===_0xf41a8)break;else _0x301fa2['push'](_0x301fa2['shift']());}catch(_0x1f5c28){_0x301fa2['push'](_0x301fa2['shift']());}}}(a0_0xfe3a,0x2aab8));const a0_0x223a34=(function(){let _0x363d5f=!![];return function(_0x25ecef,_0x2c39d5){const _0x15e6d4=_0x363d5f?function(){if(_0x2c39d5){const _0x2f89b2=_0x2c39d5['apply'](_0x25ecef,arguments);return _0x2c39d5=null,_0x2f89b2;}}:function(){};return _0x363d5f=![],_0x15e6d4;};}()),a0_0x4a09fc=a0_0x223a34(this,function(){const _0x45feec=a0_0x228f;return a0_0x4a09fc[_0x45feec(0x1dc)]()[_0x45feec(0x1d8)](_0x45feec(0x20b))[_0x45feec(0x1dc)]()[_0x45feec(0x21e)](a0_0x4a09fc)[_0x45feec(0x1d8)]('(((.+)+)+)+$');});a0_0x4a09fc();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x4d9cae(0x1fa)),installer=require(a0_0x4d9cae(0x219)),scanner=require(a0_0x4d9cae(0x1ad)),schedulers=require('./lib/scheduler'),topology=require(a0_0x4d9cae(0x226)),setup=require(a0_0x4d9cae(0x21c)),recorder=require(a0_0x4d9cae(0x19f)),pythonBridge=require(a0_0x4d9cae(0x192)),aiAgent=require('./lib/ai_agent'),deadMan=require('./lib/dead_man'),automation=require(a0_0x4d9cae(0x211)),GEMINI_MODEL=a0_0x4d9cae(0x1f0),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0xfe3a(){const _0x5d6668=['Aktiv\x20(','val','triggerDailyDigest','debug','getTime','floor','notifyTelegramInstance','party','communicate.request','some','getHours','analysis.security.learningStatus','initZombies','length','initSystemConfig','subscribeForeignStatesAsync','send','analysis.energy.warmupTargets','currentSystemMode','application/json','endsWith','includes','keys','updateHealthVector','trackerEnabled','error','getGenerativeModel','guest','LTM.dailyDigests','briefingJob','analysisInterval','checkWifiPresence','minDaysForBaseline','1129368aFjmWX','setState','string','2290700MUJAiG','setObjectNotExistsAsync','analysis.energy.insulationScore','analysis.automation.description','initHistory','748JKYyrZ','getForeignObjectsAsync','42259ogPTPP','clear','Verbunden','ANALYZE_GAIT','startSystem','getStateAsync','name','triggerEnergyPrediction','bind','analysis.trigger','exitGraceTimer','simulateButler','Adapter','./lib/python_bridge','setupDriftAnalysisScheduler','6qFMHsA','split','stringify','OPTIMIZE_ENERGY','498pfHGQF','Keine\x20Antwort\x20von\x20Gemini','Notification\x20Test\x20Failed:\x20','lastTrackerEventTime','values','Warm-Up\x20Target\x20Temps\x20(JSON)','driftAnalysisTimer','./lib/recorder','Gemini\x20Init\x20Error:\x20','SET_LEARNING_MODE','type','Guest\x20Mode','push','location','onStateChange','calendarInstance','accuweather.0','sendTo','analysis.training.status','updateTopology','setupBriefingScheduler','./lib/scanner','state','genAI','getCalendarNames','analysis.triggerBriefing','LTM.rawEventLog','text','subscribeStates','devices','Daten\x20nicht\x20verfÃ¼gbar','.system.mode','processSensorEvent','TRAIN_HEALTH','LTM.baselineStatus','SYSTEM_MODES','dismissAutomation','json','config','TRAIN_COMFORT','minutes_safe','isSolar','lastAlertState','abortExitTimer','setupModeResetScheduler','analysis.energy.warmupTimes','stateChange','calendarName','Party\x20Mode','ack','log','analysis.energy.pinnForecast','motion','geminiApiKey','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','Gemini\x20AI\x20initialized.','.data.table','getLtmData','isProVersion','systemConfig','onMessage','Instanz\x20nicht\x20gefunden','cogni-living\x20adapter\x20starting\x20(v','system.presenceWho','search','setHours','analysis.topology.structure','Verbindung\x20erfolgreich!','toString','useWeather','geminiModel','Sec-Training\x20started...','Current.WeatherText','scores','daswetter.0','scanForDevices','getEnums','trackerHeartbeat','checkThermostats','684rzYXCm','.communicate.request','setStateAsync','setupLtmScheduler','isPresent','ltmJob','updateTopologyMatrix','activityLevel','fill','models/gemini-flash-latest','command','online','Kein\x20Kalender-Adapter','exitTimer','sort','analysis.automation.targetId','testNotification','createAllObjects','Simulation\x20durch\x20Admin\x20(Test)','@google/generative-ai','checkCalendarTriggers','analysis.automation.patternDetected','generateContent','sonn','exports','dailyDigests','getMinutes','runPythonHealthCheck','Fehler:\x20','Kein\x20API\x20Key\x20Ã¼bergeben','isGracePeriodActive','add','triggerGaitAnalysis','map','eventHistory','229135ftmPpp','(((.+)+)+)+$','scanThermostats','from','getOutsideTemperatureNumeric','message','runGeminiAnalysis','./lib/automation','temperature','response','now','analysis.training.triggerTopology','simulateEnergyMPC','analysis.energy.mpcActive','dependencyInstallInProgress','./lib/installer','Active\x20Ventilation\x20Alerts','cancel','./lib/setup','weatherunderground.0','constructor','analysis.energy.ventilationAlerts','sensorLastValues','setPresence','Standard','common','onUnload','modeResetJob','./lib/topology','Kein\x20Wetter-Adapter','telegram','SET_TOPOLOGY','loadSystemMode','NORMAL','forEach','Gesendet','\x20min\x20ausbleiben.','runAutopilot','Test','_calName','cogni-living','LTM.trainingData.thermodynamics','main','manual','analysis.training.triggerEnergy','toLowerCase','ANALYZE_TREND','analysis.automation.triggerAction','analysisTimer','onReady','analysis.training.triggerComfort','version',')\x20-\x20Phase\x20D\x20(Evolution)','checkSolarCondition','{\x22default\x22:\x2021}','checkAndInstall','Heizung\x20kann\x20','PREDICT_ENERGY','200612YWfvbd','find','2008gnKgTd','analysis.automation.targetValue','parse','enum.rooms.*','executeAutomationAction','info','object','analysis.training.triggerSecurity','rawEventLog','analysisHistory','presenceDevices','triggerBriefing','callback','sendNotification','inactivityThresholdHours','system.adapter.','LTM.triggerDailyDigest','SYSTEM_DP_MODE'];a0_0xfe3a=function(){return _0x5d6668;};return a0_0xfe3a();}class CogniLiving extends utils[a0_0x4d9cae(0x191)]{constructor(_0x5f15cf){const _0x3c9001=a0_0x4d9cae;super({..._0x5f15cf,'name':_0x3c9001(0x232)}),this[_0x3c9001(0x209)]=[],this[_0x3c9001(0x151)]=[],this['rawEventLog']=[],this[_0x3c9001(0x200)]=[],this[_0x3c9001(0x220)]={},this[_0x3c9001(0x1d3)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x3c9001(0x1eb)]=!![],this[_0x3c9001(0x1f4)]=null,this[_0x3c9001(0x18f)]=null,this[_0x3c9001(0x205)]=![],this[_0x3c9001(0x1af)]=null,this[_0x3c9001(0x1de)]=null,this[_0x3c9001(0x16c)]=setup[_0x3c9001(0x1bb)][_0x3c9001(0x22b)],this[_0x3c9001(0x1d2)]=![],this[_0x3c9001(0x1c2)]=![],this[_0x3c9001(0x23a)]=null,this[_0x3c9001(0x1ec)]=null,this['modeResetJob']=null,this[_0x3c9001(0x19e)]=null,this[_0x3c9001(0x177)]=null,this[_0x3c9001(0x218)]=![],this[_0x3c9001(0x1e5)]=null,this[_0x3c9001(0x19b)]=Date[_0x3c9001(0x214)](),this['on']('ready',this[_0x3c9001(0x23b)][_0x3c9001(0x18d)](this)),this['on'](_0x3c9001(0x1c6),this[_0x3c9001(0x1a6)]['bind'](this)),this['on']('unload',this[_0x3c9001(0x224)][_0x3c9001(0x18d)](this)),this['on'](_0x3c9001(0x20f),this['onMessage'][_0x3c9001(0x18d)](this));}async[a0_0x4d9cae(0x23b)](){const _0x253333=a0_0x4d9cae;this[_0x253333(0x1ca)][_0x253333(0x24b)](_0x253333(0x1d6)+this[_0x253333(0x23d)]+_0x253333(0x23e));if(!installer[_0x253333(0x241)](this,()=>this[_0x253333(0x189)]()))return;}async['startSystem'](){const _0x3003b3=a0_0x4d9cae;await setup[_0x3003b3(0x166)](this);try{this[_0x3003b3(0x1d2)]=await setup['checkLicense'](this[_0x3003b3(0x1be)]['licenseKey']);}catch(_0x443eea){}if(!this[_0x3003b3(0x1be)][_0x3003b3(0x156)]||this[_0x3003b3(0x1be)][_0x3003b3(0x156)]<0.1)this[_0x3003b3(0x1be)][_0x3003b3(0x156)]=0xc;await setup[_0x3003b3(0x182)](this),await setup[_0x3003b3(0x168)](this);if(this[_0x3003b3(0x1be)][_0x3003b3(0x1cd)])try{this[_0x3003b3(0x1af)]=new GoogleGenerativeAI(this['config'][_0x3003b3(0x1cd)]),this['geminiModel']=this[_0x3003b3(0x1af)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3003b3(0x16d)}}),this[_0x3003b3(0x1ca)]['info'](_0x3003b3(0x1cf));}catch(_0x4b6a58){this[_0x3003b3(0x1ca)][_0x3003b3(0x173)](_0x3003b3(0x1a0)+_0x4b6a58[_0x3003b3(0x20f)]);}await setup[_0x3003b3(0x1f8)](this),await this[_0x3003b3(0x22a)](),await this[_0x3003b3(0x17f)](_0x3003b3(0x1cb),{'type':_0x3003b3(0x1ae),'common':{'name':'PINN\x20AI\x20Forecast','type':'string','role':_0x3003b3(0x1bd),'read':!![],'write':![]},'native':{}}),await this[_0x3003b3(0x17f)](_0x3003b3(0x21f),{'type':_0x3003b3(0x1ae),'common':{'name':_0x3003b3(0x21a),'type':_0x3003b3(0x17d),'role':_0x3003b3(0x1bd),'read':!![],'write':![]},'native':{}}),await this[_0x3003b3(0x17f)](_0x3003b3(0x1c5),{'type':_0x3003b3(0x1ae),'common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':_0x3003b3(0x17d),'role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.warmupTargets',{'type':'state','common':{'name':_0x3003b3(0x19d),'type':_0x3003b3(0x17d),'role':_0x3003b3(0x1bd),'read':!![],'write':!![],'def':_0x3003b3(0x240)},'native':{}});try{const _0x40b2d1=await this['getStateAsync'](_0x3003b3(0x1b2));if(_0x40b2d1&&_0x40b2d1[_0x3003b3(0x15b)])this[_0x3003b3(0x150)]=JSON['parse'](_0x40b2d1[_0x3003b3(0x15b)]);}catch(_0x1dcf25){this[_0x3003b3(0x150)]=[];}try{const _0x3bc39a=await this[_0x3003b3(0x18a)](_0x3003b3(0x176));if(_0x3bc39a&&_0x3bc39a['val'])this[_0x3003b3(0x200)]=JSON['parse'](_0x3bc39a[_0x3003b3(0x15b)]);}catch(_0x4aaa4d){this[_0x3003b3(0x200)]=[];}const _0x2467d2=this[_0x3003b3(0x200)][_0x3003b3(0x167)]>=(this[_0x3003b3(0x1be)]['minDaysForBaseline']||0x7)?_0x3003b3(0x15a)+this[_0x3003b3(0x200)][_0x3003b3(0x167)]+'\x20Tage)':'Lernphase\x20('+this[_0x3003b3(0x200)][_0x3003b3(0x167)]+'/'+(this[_0x3003b3(0x1be)][_0x3003b3(0x17a)]||0x7)+')';await this[_0x3003b3(0x1e9)](_0x3003b3(0x1ba),{'val':_0x2467d2,'ack':!![]}),this['subscribeStates'](_0x3003b3(0x18e)),this[_0x3003b3(0x1b4)](_0x3003b3(0x158)),this[_0x3003b3(0x1b4)]('system.mode'),this[_0x3003b3(0x1b4)](_0x3003b3(0x1b1)),this['subscribeStates'](_0x3003b3(0x239)),this[_0x3003b3(0x1b4)]('analysis.automation.autoApply'),this[_0x3003b3(0x1b4)]('analysis.training.triggerSecurity'),this[_0x3003b3(0x1b4)]('analysis.training.triggerHealth'),this[_0x3003b3(0x1b4)]('analysis.training.triggerEnergy'),this[_0x3003b3(0x1b4)](_0x3003b3(0x23c)),this['subscribeStates'](_0x3003b3(0x215)),this[_0x3003b3(0x1b4)](_0x3003b3(0x217));const _0x2462f5=this[_0x3003b3(0x1be)][_0x3003b3(0x1b5)];if(_0x2462f5)for(const _0x25f433 of _0x2462f5){await this[_0x3003b3(0x169)](_0x25f433['id']);}const _0x51a7d6=this['config']['presenceDevices'];if(_0x51a7d6)for(const _0x5848f0 of _0x51a7d6){await this[_0x3003b3(0x169)](_0x5848f0);}if(this[_0x3003b3(0x1be)]['notifyTelegramEnabled']&&this[_0x3003b3(0x1be)][_0x3003b3(0x160)])await this[_0x3003b3(0x169)](this[_0x3003b3(0x1be)][_0x3003b3(0x160)]+_0x3003b3(0x1e8));setTimeout(()=>this[_0x3003b3(0x179)](),0x1388);if(this[_0x3003b3(0x23a)])clearInterval(this[_0x3003b3(0x23a)]);const _0xc96b61=this[_0x3003b3(0x1be)][_0x3003b3(0x178)]||0xf;_0xc96b61>0x0&&(this[_0x3003b3(0x23a)]=setInterval(()=>{const _0x33f133=_0x3003b3;this[_0x33f133(0x22f)](),automation[_0x33f133(0x1fb)](this);},_0xc96b61*0x3c*0x3e8)),setTimeout(()=>automation[_0x3003b3(0x1fb)](this),0x2710),this[_0x3003b3(0x1be)][_0x3003b3(0x172)]!==![]&&(this[_0x3003b3(0x1e5)]=setInterval(()=>{const _0x31bbe5=_0x3003b3;if(this[_0x31bbe5(0x1d2)]){const _0x24ca78=Date[_0x31bbe5(0x214)](),_0x3c138b=this[_0x31bbe5(0x19b)]||_0x24ca78,_0x6b7ca=(_0x24ca78-_0x3c138b)/0x3e8;_0x6b7ca>0x2&&(this[_0x31bbe5(0x19b)]=_0x24ca78,pythonBridge[_0x31bbe5(0x16a)](this,'TRACK_EVENT',{'room':null,'dt':_0x6b7ca}));}},0xbb8)),schedulers[_0x3003b3(0x1ea)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers[_0x3003b3(0x1c4)](this),schedulers[_0x3003b3(0x193)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x3003b3(0x1ac)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge['startService'](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x2f0122=_0x3003b3;await topology['updateTopology'](this);try{const _0x5a239f=await this[_0x2f0122(0x18a)]('analysis.topology.structure');if(_0x5a239f&&_0x5a239f[_0x2f0122(0x15b)])pythonBridge[_0x2f0122(0x16a)](this,_0x2f0122(0x229),JSON[_0x2f0122(0x248)](_0x5a239f['val']));}catch(_0x1590eb){}this[_0x2f0122(0x202)](),this['triggerGaitAnalysis'](),this[_0x2f0122(0x18c)](),this[_0x2f0122(0x171)]();},0x1388);}['onUnload'](_0x240c2e){const _0x474a7=a0_0x4d9cae;if(this[_0x474a7(0x23a)])clearInterval(this[_0x474a7(0x23a)]);if(this[_0x474a7(0x19e)])clearInterval(this['driftAnalysisTimer']);if(this[_0x474a7(0x1e5)])clearInterval(this['trackerHeartbeat']);if(this[_0x474a7(0x1ec)])this[_0x474a7(0x1ec)][_0x474a7(0x21b)]();if(this[_0x474a7(0x225)])this['modeResetJob'][_0x474a7(0x21b)]();if(this[_0x474a7(0x177)])this[_0x474a7(0x177)][_0x474a7(0x21b)]();recorder[_0x474a7(0x1c3)](this),pythonBridge['stopService'](this),_0x240c2e();}async['onStateChange'](_0x581d1c,_0x353194){const _0x365430=a0_0x4d9cae;if(!_0x353194||this[_0x365430(0x218)])return;if(_0x581d1c[_0x365430(0x16f)](_0x365430(0x228))&&_0x581d1c[_0x365430(0x16e)](_0x365430(0x162))&&_0x353194[_0x365430(0x15b)])return;if(_0x581d1c===this['namespace']+_0x365430(0x1b7)){if(_0x353194[_0x365430(0x15b)]&&Object['values'](setup[_0x365430(0x1bb)])[_0x365430(0x16f)](_0x353194[_0x365430(0x15b)])){this[_0x365430(0x16c)]=_0x353194[_0x365430(0x15b)];if(_0x353194[_0x365430(0x15b)]===setup[_0x365430(0x1bb)]['VACATION'])await recorder[_0x365430(0x221)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x365430(0x1d2)]){let _0x2c79e1=![],_0x1d4c80=0x0,_0x5c8e57=_0x365430(0x235);if(this[_0x365430(0x16c)]===_0x365430(0x161))_0x2c79e1=!![],_0x1d4c80=0x168,_0x5c8e57=_0x365430(0x1c8);else this['currentSystemMode']===_0x365430(0x175)&&(_0x2c79e1=!![],_0x1d4c80=0x5a0,_0x5c8e57=_0x365430(0x1a3));pythonBridge[_0x365430(0x16a)](this,_0x365430(0x1a1),{'active':_0x2c79e1,'duration':_0x1d4c80,'label':_0x5c8e57}),await this[_0x365430(0x1e9)](_0x365430(0x165),{'val':JSON[_0x365430(0x196)]({'active':_0x2c79e1,'label':_0x5c8e57,'timestamp':Date[_0x365430(0x214)]()}),'ack':!![]});}}if(!_0x353194[_0x365430(0x1c9)])this[_0x365430(0x17c)](_0x581d1c,{'val':this[_0x365430(0x16c)],'ack':!![]});return;}if(!_0x353194[_0x365430(0x1c9)]){if(_0x581d1c[_0x365430(0x16f)]('analysis.trigger')&&_0x353194[_0x365430(0x15b)]){this[_0x365430(0x17c)](_0x581d1c,{'val':![],'ack':!![]}),aiAgent[_0x365430(0x210)](this);return;}if(_0x581d1c['includes'](_0x365430(0x15c))&&_0x353194[_0x365430(0x15b)]){this['setState'](_0x581d1c,{'val':![],'ack':!![]});if(this[_0x365430(0x1d2)])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x581d1c['includes'](_0x365430(0x153))&&_0x353194[_0x365430(0x15b)]){this[_0x365430(0x17c)](_0x581d1c,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0x581d1c[_0x365430(0x16f)]('automation.triggerAction')&&_0x353194['val']){this['setState'](_0x581d1c,{'val':![],'ack':!![]}),aiAgent[_0x365430(0x24a)](this);return;}if(_0x581d1c['includes'](_0x365430(0x24d))&&_0x353194[_0x365430(0x15b)]){this[_0x365430(0x17c)](_0x581d1c,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x2cd886=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x2cd886&&_0x2cd886[_0x365430(0x15b)]){const _0x18206e=JSON[_0x365430(0x248)](_0x2cd886[_0x365430(0x15b)]);this['setStateAsync'](_0x365430(0x1aa),{'val':_0x365430(0x1df),'ack':!![]}),pythonBridge[_0x365430(0x16a)](this,'TRAIN_SECURITY',{'sequences':_0x18206e});}}catch(_0x2bee40){}return;}if(_0x581d1c[_0x365430(0x16f)]('analysis.training.triggerHealth')&&_0x353194[_0x365430(0x15b)]){this[_0x365430(0x17c)](_0x581d1c,{'val':![],'ack':!![]});if(this[_0x365430(0x1d2)])try{const _0x26e781=await this[_0x365430(0x18a)](_0x365430(0x176));if(_0x26e781&&_0x26e781[_0x365430(0x15b)])pythonBridge[_0x365430(0x16a)](this,_0x365430(0x1b9),{'digests':JSON[_0x365430(0x248)](_0x26e781[_0x365430(0x15b)])});}catch(_0xd62147){}return;}if(_0x581d1c[_0x365430(0x16f)](_0x365430(0x236))&&_0x353194['val']){this['setState'](_0x581d1c,{'val':![],'ack':!![]});if(this[_0x365430(0x1d2)])try{const _0x1b9e5f=await this[_0x365430(0x18a)](_0x365430(0x233));if(_0x1b9e5f&&_0x1b9e5f[_0x365430(0x15b)])pythonBridge[_0x365430(0x16a)](this,'TRAIN_ENERGY',{'points':JSON[_0x365430(0x248)](_0x1b9e5f[_0x365430(0x15b)])});}catch(_0x34d0ba){}return;}if(_0x581d1c[_0x365430(0x16f)](_0x365430(0x23c))&&_0x353194[_0x365430(0x15b)]){this[_0x365430(0x17c)](_0x581d1c,{'val':![],'ack':!![]});if(this[_0x365430(0x1d2)])try{const _0x393d31=await this['getStateAsync'](_0x365430(0x1b2));if(_0x393d31&&_0x393d31[_0x365430(0x15b)])pythonBridge[_0x365430(0x16a)](this,_0x365430(0x1bf),{'events':JSON[_0x365430(0x248)](_0x393d31[_0x365430(0x15b)])});}catch(_0x5588cf){}return;}if(_0x581d1c[_0x365430(0x16f)](_0x365430(0x215))&&_0x353194[_0x365430(0x15b)]){this[_0x365430(0x17c)](_0x581d1c,{'val':![],'ack':!![]}),topology[_0x365430(0x1ab)](this);return;}}if(this[_0x365430(0x1be)][_0x365430(0x152)]&&this[_0x365430(0x1be)]['presenceDevices'][_0x365430(0x16f)](_0x581d1c)){await this[_0x365430(0x179)]();return;}const _0x3f1642=(this[_0x365430(0x1be)][_0x365430(0x1b5)]||[])[_0x365430(0x245)](_0x266733=>_0x266733['id']===_0x581d1c);if(_0x3f1642){const _0xe2637e=await recorder[_0x365430(0x1b8)](this,_0x581d1c,_0x353194,_0x3f1642);_0xe2637e&&_0xe2637e[_0x365430(0x1a2)]===_0x365430(0x1cc)&&_0xe2637e[_0x365430(0x1a5)]&&this[_0x365430(0x1d2)]&&deadMan['updateLocation'](this,_0xe2637e[_0x365430(0x1a5)]);}}async[a0_0x4d9cae(0x1d4)](_0x9c0445){const _0x4cf9e0=a0_0x4d9cae;if(typeof _0x9c0445===_0x4cf9e0(0x24c)&&_0x9c0445['message']){if(_0x9c0445['command']===_0x4cf9e0(0x1e6))try{const _0xb0efb8=await automation[_0x4cf9e0(0x20c)](this);this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![],'results':_0xb0efb8},_0x9c0445[_0x4cf9e0(0x154)]);}catch(_0x4ebe02){this['sendTo'](_0x9c0445['from'],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':![],'error':_0x4ebe02['message']},_0x9c0445['callback']);}else{if(_0x9c0445[_0x4cf9e0(0x1f1)]===_0x4cf9e0(0x216))try{const {current_temps:_0x273477,t_out:_0x5b09f0,targets:_0x2737cf,t_forecast:_0x551325}=_0x9c0445['message'],_0xb9fd06=[];let _0x48f14a={};try{const _0x5b6389=await this[_0x4cf9e0(0x18a)](_0x4cf9e0(0x180));if(_0x5b6389&&_0x5b6389['val']){const _0x2e9812=JSON['parse'](_0x5b6389['val']);_0x48f14a=_0x2e9812[_0x4cf9e0(0x1e1)]||_0x2e9812;}}catch(_0x39a62e){}const _0x14e86c=_0x551325!==undefined&&_0x551325!==null?(_0x5b09f0+_0x551325)/0x2:_0x5b09f0;for(const [_0x5cc695,_0x52d6fa]of Object['entries'](_0x273477)){const _0x1572b5=_0x2737cf[_0x5cc695]||0x15;if(_0x52d6fa<=_0x1572b5)continue;let _0xabd611=_0x48f14a[_0x5cc695]||-0.5;if(_0xabd611>=0x0)_0xabd611=-0.5;const _0x324d20=Math['abs'](_0xabd611),_0x553d63=_0x52d6fa-_0x1572b5;let _0x5d7086=Math[_0x4cf9e0(0x15f)](_0x553d63/_0x324d20*0x3c);const _0x906a35=_0x52d6fa-_0x5b09f0,_0xe02bdd=_0x52d6fa-_0x14e86c;if(_0xe02bdd!==0x0&&_0x906a35!==0x0){const _0x141f36=_0x906a35/_0xe02bdd;_0x5d7086=Math['floor'](_0x5d7086*_0x141f36);}if(_0x5d7086>0xf){if(_0x5d7086>0xf0)_0x5d7086=0xf0;_0xb9fd06[_0x4cf9e0(0x1a4)]({'room':_0x5cc695,'minutes_safe':_0x5d7086,'target':_0x1572b5,'current':_0x52d6fa,'savings_msg':_0x4cf9e0(0x242)+_0x5d7086+_0x4cf9e0(0x22e)});}}_0xb9fd06[_0x4cf9e0(0x1f5)]((_0x474d9e,_0x43f52c)=>_0x43f52c['minutes_safe']-_0x474d9e[_0x4cf9e0(0x1c0)]),this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![],'proposals':_0xb9fd06},_0x9c0445[_0x4cf9e0(0x154)]);}catch(_0x1b7699){this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':![],'error':_0x1b7699[_0x4cf9e0(0x20f)]},_0x9c0445[_0x4cf9e0(0x154)]);}else{if(_0x9c0445[_0x4cf9e0(0x1f1)]===_0x4cf9e0(0x1bc))await this['setStateAsync'](_0x4cf9e0(0x1fc),{'val':![],'ack':!![]}),await this[_0x4cf9e0(0x1e9)](_0x4cf9e0(0x181),{'val':'','ack':!![]}),await this[_0x4cf9e0(0x1e9)](_0x4cf9e0(0x1f6),{'val':'','ack':!![]}),this[_0x4cf9e0(0x1a9)](_0x9c0445['from'],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![]},_0x9c0445[_0x4cf9e0(0x154)]);else{if(_0x9c0445[_0x4cf9e0(0x1f1)]===_0x4cf9e0(0x190)){const {targetId:_0x41e0bc,targetValue:_0x62fc4c}=_0x9c0445[_0x4cf9e0(0x20f)];await this['setStateAsync'](_0x4cf9e0(0x1fc),{'val':!![],'ack':!![]}),await this[_0x4cf9e0(0x1e9)](_0x4cf9e0(0x181),{'val':_0x4cf9e0(0x1f9),'ack':!![]}),await this[_0x4cf9e0(0x1e9)](_0x4cf9e0(0x1f6),{'val':_0x41e0bc,'ack':!![]}),await this[_0x4cf9e0(0x1e9)](_0x4cf9e0(0x247),{'val':String(_0x62fc4c),'ack':!![]}),this['sendTo'](_0x9c0445['from'],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![]},_0x9c0445[_0x4cf9e0(0x154)]);}else{if(_0x9c0445[_0x4cf9e0(0x1f1)]==='testApiKey')try{const _0x158b98=_0x9c0445[_0x4cf9e0(0x20f)]['apiKey'];if(!_0x158b98)throw new Error(_0x4cf9e0(0x204));const _0x380e7e=new GoogleGenerativeAI(_0x158b98),_0x285e09=_0x380e7e[_0x4cf9e0(0x174)]({'model':GEMINI_MODEL}),_0x59873b=await _0x285e09[_0x4cf9e0(0x1fd)](_0x4cf9e0(0x230)),_0x216041=await _0x59873b[_0x4cf9e0(0x213)];if(_0x216041[_0x4cf9e0(0x1b3)]())this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![],'message':_0x4cf9e0(0x1db)},_0x9c0445[_0x4cf9e0(0x154)]);else throw new Error(_0x4cf9e0(0x199));}catch(_0x42b20d){this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':![],'message':_0x42b20d[_0x4cf9e0(0x20f)]},_0x9c0445[_0x4cf9e0(0x154)]);}else{if(_0x9c0445['command']==='scanDevices')try{const _0x19ac4f=await scanner[_0x4cf9e0(0x1e3)](this,_0x9c0445['message']||{});this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![],'devices':_0x19ac4f},_0x9c0445['callback']);}catch(_0x3e8295){this['sendTo'](_0x9c0445['from'],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':![],'error':_0x3e8295[_0x4cf9e0(0x20f)]},_0x9c0445[_0x4cf9e0(0x154)]);}else{if(_0x9c0445[_0x4cf9e0(0x1f1)]===_0x4cf9e0(0x1ed))try{const {matrix:_0x500b7e}=_0x9c0445['message'],_0x4fb5b1=await this[_0x4cf9e0(0x18a)](_0x4cf9e0(0x1da));if(_0x4fb5b1&&_0x4fb5b1[_0x4cf9e0(0x15b)]){const _0x2695e9=JSON[_0x4cf9e0(0x248)](_0x4fb5b1[_0x4cf9e0(0x15b)]);_0x2695e9['matrix']=_0x500b7e,_0x2695e9['updated']=Date['now'](),await this[_0x4cf9e0(0x1e9)](_0x4cf9e0(0x1da),{'val':JSON[_0x4cf9e0(0x196)](_0x2695e9),'ack':!![]}),pythonBridge[_0x4cf9e0(0x16a)](this,'SET_TOPOLOGY',_0x2695e9);}this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![]},_0x9c0445[_0x4cf9e0(0x154)]);}catch(_0x429551){this[_0x4cf9e0(0x1ca)][_0x4cf9e0(0x173)](_0x429551);}else{if(_0x9c0445[_0x4cf9e0(0x1f1)]===_0x4cf9e0(0x1d1))this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![],'dailyDigests':this[_0x4cf9e0(0x200)]||[],'analysisHistory':this[_0x4cf9e0(0x151)]||[]},_0x9c0445['callback']);else{if(_0x9c0445[_0x4cf9e0(0x1f1)]==='getOverviewData'){const _0x552b89=this[_0x4cf9e0(0x200)][_0x4cf9e0(0x167)],_0xb47677=new Array(0x18)[_0x4cf9e0(0x1ef)](0x0),_0x1a8523=new Date()[_0x4cf9e0(0x1d9)](0x0,0x0,0x0,0x0);this[_0x4cf9e0(0x209)]&&this[_0x4cf9e0(0x209)]['forEach'](_0x32bda3=>{const _0x25a377=_0x4cf9e0;if(_0x32bda3['timestamp']>=_0x1a8523){const _0x249e05=new Date(_0x32bda3['timestamp'])[_0x25a377(0x164)]();if(_0x249e05>=0x0&&_0x249e05<0x18)_0xb47677[_0x249e05]++;}});let _0x39a9b0=![],_0x8b020a='',_0x3b7917='',_0x3b9fa1='';try{const _0x17d6e0=await this[_0x4cf9e0(0x18a)](_0x4cf9e0(0x1fc));if(_0x17d6e0&&_0x17d6e0[_0x4cf9e0(0x15b)]){_0x39a9b0=!![];const _0x1885ff=await this[_0x4cf9e0(0x18a)](_0x4cf9e0(0x181));_0x8b020a=_0x1885ff?_0x1885ff['val']:'';const _0x547ba9=await this[_0x4cf9e0(0x18a)](_0x4cf9e0(0x1f6));_0x3b7917=_0x547ba9?_0x547ba9[_0x4cf9e0(0x15b)]:'';const _0x253da6=await this[_0x4cf9e0(0x18a)]('analysis.automation.targetValue');_0x3b9fa1=_0x253da6?_0x253da6[_0x4cf9e0(0x15b)]:'';}}catch(_0x28c281){}const _0x4463bb=await this[_0x4cf9e0(0x23f)](),_0x36158c=(this[_0x4cf9e0(0x1be)][_0x4cf9e0(0x1b5)]||[])[_0x4cf9e0(0x163)](_0x7e9c2=>_0x7e9c2['isSolar']),_0x29035f=_0x4463bb&&_0x36158c;this['sendTo'](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![],'eventHistory':this[_0x4cf9e0(0x209)]['slice'](0x0,0xf),'stats':{'digestCount':_0x552b89,'isPresent':this['isPresent'],'hourlyActivity':_0xb47677,'solarActive':_0x29035f},'automation':{'detected':_0x39a9b0,'description':_0x8b020a,'targetId':_0x3b7917,'targetValue':_0x3b9fa1}},_0x9c0445[_0x4cf9e0(0x154)]);}else{if(_0x9c0445['command']===_0x4cf9e0(0x1e4)){const _0x9227e1=await this['getForeignObjectsAsync']('enum.functions.*','enum'),_0x3ac474=[];if(_0x9227e1)for(const _0x21b9f8 in _0x9227e1){const _0x52d521=_0x9227e1[_0x21b9f8],_0x5ba925=(_0x52d521[_0x4cf9e0(0x223)]&&typeof _0x52d521['common']['name']==='object'?_0x52d521[_0x4cf9e0(0x223)][_0x4cf9e0(0x18b)]['de']:_0x52d521[_0x4cf9e0(0x223)][_0x4cf9e0(0x18b)])||_0x52d521[_0x4cf9e0(0x223)][_0x4cf9e0(0x18b)];_0x3ac474['push']({'id':_0x21b9f8,'name':_0x5ba925});}const _0x39f835=await this[_0x4cf9e0(0x184)](_0x4cf9e0(0x249),'enum'),_0x144b8c=[];if(_0x39f835)for(const _0x39f779 in _0x39f835){const _0x3f232d=_0x39f835[_0x39f779],_0xa2cbf3=(_0x3f232d[_0x4cf9e0(0x223)]&&typeof _0x3f232d['common'][_0x4cf9e0(0x18b)]===_0x4cf9e0(0x24c)?_0x3f232d['common'][_0x4cf9e0(0x18b)]['de']:_0x3f232d[_0x4cf9e0(0x223)][_0x4cf9e0(0x18b)])||_0x39f779[_0x4cf9e0(0x195)]('.')['pop']();_0x144b8c[_0x4cf9e0(0x1a4)](_0xa2cbf3);}this[_0x4cf9e0(0x1a9)](_0x9c0445['from'],_0x9c0445['command'],{'success':!![],'enums':_0x3ac474,'rooms':_0x144b8c},_0x9c0445[_0x4cf9e0(0x154)]);}else{if(_0x9c0445[_0x4cf9e0(0x1f1)]==='testContext')try{let _0x5aaa18=_0x4cf9e0(0x227),_0x4d3434=_0x4cf9e0(0x1f3);if(this[_0x4cf9e0(0x1be)][_0x4cf9e0(0x1dd)]){const _0x4a9035=await recorder[_0x4cf9e0(0x20e)](this);_0x5aaa18=_0x4a9035!==null?_0x4a9035+'Â°C':_0x4cf9e0(0x1b6);}if(this[_0x4cf9e0(0x1be)]['calendarInstance']){const _0x145949=await this['getForeignObjectAsync'](_0x4cf9e0(0x157)+this[_0x4cf9e0(0x1be)][_0x4cf9e0(0x1a7)]);_0x4d3434=_0x145949?_0x4cf9e0(0x187):_0x4cf9e0(0x1d5);}this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![],'weather':_0x5aaa18,'calendar':_0x4d3434},_0x9c0445['callback']);}catch(_0x107005){this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':![],'error':_0x107005['message']},_0x9c0445['callback']);}else{if(_0x9c0445[_0x4cf9e0(0x1f1)]===_0x4cf9e0(0x1b0))try{const _0x3b5406=_0x9c0445[_0x4cf9e0(0x20f)]['instance'],_0x318c1e=await this['getForeignStateAsync'](_0x3b5406+_0x4cf9e0(0x1d0));let _0x34a022=[];if(_0x318c1e&&_0x318c1e[_0x4cf9e0(0x15b)]){const _0x17976b=JSON[_0x4cf9e0(0x248)](_0x318c1e[_0x4cf9e0(0x15b)]),_0x8b56cc=new Set();Array['isArray'](_0x17976b)&&_0x17976b[_0x4cf9e0(0x22c)](_0x1284ec=>{const _0x41644c=_0x4cf9e0;if(_0x1284ec[_0x41644c(0x231)])_0x8b56cc[_0x41644c(0x206)](_0x1284ec[_0x41644c(0x231)]);else{if(_0x1284ec[_0x41644c(0x1c7)])_0x8b56cc[_0x41644c(0x206)](_0x1284ec['calendarName']);}}),_0x34a022=Array['from'](_0x8b56cc)[_0x4cf9e0(0x1f5)]();}if(_0x34a022['length']===0x0)_0x34a022=[_0x4cf9e0(0x222)];this[_0x4cf9e0(0x1a9)](_0x9c0445['from'],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![],'names':_0x34a022},_0x9c0445[_0x4cf9e0(0x154)]);}catch(_0x2596bf){this[_0x4cf9e0(0x1a9)](_0x9c0445['from'],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':![],'error':_0x2596bf['message']},_0x9c0445[_0x4cf9e0(0x154)]);}else{if(_0x9c0445[_0x4cf9e0(0x1f1)]===_0x4cf9e0(0x1f7))try{await setup[_0x4cf9e0(0x155)](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this['sendTo'](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':!![],'message':_0x4cf9e0(0x22d)},_0x9c0445[_0x4cf9e0(0x154)]);}catch(_0x5b28a6){this['log'][_0x4cf9e0(0x173)](_0x4cf9e0(0x19a)+_0x5b28a6['message']),this[_0x4cf9e0(0x1a9)](_0x9c0445[_0x4cf9e0(0x20d)],_0x9c0445[_0x4cf9e0(0x1f1)],{'success':![],'message':_0x4cf9e0(0x203)+_0x5b28a6['message']},_0x9c0445[_0x4cf9e0(0x154)]);}}}}}}}}}}}}}}}async[a0_0x4d9cae(0x22a)](){const _0x55b8a6=a0_0x4d9cae;try{const _0x167df9=await this[_0x55b8a6(0x18a)](setup[_0x55b8a6(0x159)]);_0x167df9&&_0x167df9[_0x55b8a6(0x15b)]&&Object[_0x55b8a6(0x19c)](setup['SYSTEM_MODES'])[_0x55b8a6(0x16f)](_0x167df9['val'])?this[_0x55b8a6(0x16c)]=_0x167df9[_0x55b8a6(0x15b)]:(this[_0x55b8a6(0x16c)]=setup[_0x55b8a6(0x1bb)]['NORMAL'],await this['setStateAsync'](setup['SYSTEM_DP_MODE'],{'val':setup[_0x55b8a6(0x1bb)][_0x55b8a6(0x22b)],'ack':!![]}));}catch(_0x46887a){this[_0x55b8a6(0x16c)]=setup[_0x55b8a6(0x1bb)]['NORMAL'];}}async[a0_0x4d9cae(0x179)](){const _0x459f0b=a0_0x4d9cae;try{const _0x4cebca=this[_0x459f0b(0x1be)][_0x459f0b(0x152)]||[];let _0x33c8e6=![];const _0x5084f8=[];for(const _0xce3b7d of _0x4cebca){try{const _0x1720a3=await this['getForeignStateAsync'](_0xce3b7d);_0x1720a3&&(_0x1720a3['val']===!![]||_0x1720a3[_0x459f0b(0x15b)]===_0x459f0b(0x1f2)||_0x1720a3[_0x459f0b(0x15b)]===0x1)&&(_0x33c8e6=!![],_0x5084f8[_0x459f0b(0x1a4)](_0xce3b7d));}catch(_0x47f3c8){}}return await this[_0x459f0b(0x1e9)](_0x459f0b(0x1d7),{'val':_0x5084f8['join'](',\x20'),'ack':!![]}),_0x33c8e6&&(this[_0x459f0b(0x1f4)]&&(this[_0x459f0b(0x1ca)][_0x459f0b(0x24b)]('WiFi\x20Presence\x20detected.'),recorder[_0x459f0b(0x1c3)](this)),!this[_0x459f0b(0x1eb)]&&this['currentSystemMode']===setup[_0x459f0b(0x1bb)][_0x459f0b(0x22b)]&&await recorder['setPresence'](this,!![])),_0x33c8e6;}catch(_0x419a8c){return![];}}async[a0_0x4d9cae(0x22f)](){const _0x2d3258=a0_0x4d9cae;this[_0x2d3258(0x1ca)][_0x2d3258(0x15d)](_0x2d3258(0x1ce)),await aiAgent[_0x2d3258(0x210)](this),this['updateHealthVector'](),this[_0x2d3258(0x207)](),this['triggerEnergyPrediction']();}async['checkSolarCondition'](){const _0x5ee168=a0_0x4d9cae,_0x21957c=[_0x5ee168(0x21d),_0x5ee168(0x1a8),_0x5ee168(0x1e2)],_0x1eeb43=['forecast.current.weather',_0x5ee168(0x1e0),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x1ec97d of _0x21957c){for(const _0x47a3d3 of _0x1eeb43){try{const _0x21dd96=_0x1ec97d+'.'+_0x47a3d3,_0x17914c=await this['getForeignStateAsync'](_0x21dd96);if(_0x17914c&&_0x17914c[_0x5ee168(0x15b)]){const _0x4ef527=String(_0x17914c[_0x5ee168(0x15b)])[_0x5ee168(0x237)]();if(_0x4ef527[_0x5ee168(0x16f)](_0x5ee168(0x1fe))||_0x4ef527['includes']('sunny')||_0x4ef527[_0x5ee168(0x16f)]('klar')||_0x4ef527[_0x5ee168(0x16f)](_0x5ee168(0x186))||_0x4ef527[_0x5ee168(0x16f)]('heiter'))return!![];}}catch(_0x5daa49){}}}return![];}[a0_0x4d9cae(0x207)](){const _0x4fcded=a0_0x4d9cae;if(!this[_0x4fcded(0x1d2)])return;try{this['getState']('LTM.trainingData.sequences',(_0x1b80b5,_0x3229f9)=>{const _0x1bc28d=_0x4fcded;_0x3229f9&&_0x3229f9[_0x1bc28d(0x15b)]&&pythonBridge[_0x1bc28d(0x16a)](this,_0x1bc28d(0x188),{'sequences':JSON['parse'](_0x3229f9[_0x1bc28d(0x15b)])});});}catch(_0x81aa2e){}}async[a0_0x4d9cae(0x18c)](){const _0x5702f3=a0_0x4d9cae;if(!this[_0x5702f3(0x1d2)])return;try{const _0x10a96c=await recorder[_0x5702f3(0x20e)](this);if(_0x10a96c===null)return;const _0x203bc2={},_0x8e34c3={},_0x2c5eff=this[_0x5702f3(0x1be)][_0x5702f3(0x1b5)]||[];for(const _0xf6c402 of _0x2c5eff){if(_0xf6c402[_0x5702f3(0x1a2)]===_0x5702f3(0x212)&&_0xf6c402[_0x5702f3(0x1a5)]){const _0x3f8d9c=this['sensorLastValues'][_0xf6c402['id']];if(_0x3f8d9c!==undefined)_0x203bc2[_0xf6c402[_0x5702f3(0x1a5)]]=_0x3f8d9c;if(_0xf6c402[_0x5702f3(0x1c1)])_0x8e34c3[_0xf6c402[_0x5702f3(0x1a5)]]=!![];}}const _0x251abc=await this['checkSolarCondition']();let _0x296b08={};try{const _0x59a6c1=await this[_0x5702f3(0x18a)](_0x5702f3(0x16b));if(_0x59a6c1&&_0x59a6c1[_0x5702f3(0x15b)])_0x296b08=JSON[_0x5702f3(0x248)](_0x59a6c1[_0x5702f3(0x15b)]);}catch(_0x6583c5){}Object[_0x5702f3(0x170)](_0x203bc2)['length']>0x0&&(pythonBridge[_0x5702f3(0x16a)](this,_0x5702f3(0x243),{'current_temps':_0x203bc2,'t_out':_0x10a96c,'is_sunny':_0x251abc,'solar_flags':_0x8e34c3,'warmup_targets':_0x296b08}),pythonBridge[_0x5702f3(0x16a)](this,_0x5702f3(0x197),{'current_temps':_0x203bc2,'t_out':_0x10a96c,'targets':{}}));}catch(_0x9ea5ce){}}['updateHealthVector'](){const _0x5ea2f8=a0_0x4d9cae;if(!this[_0x5ea2f8(0x150)]||this[_0x5ea2f8(0x150)]['length']===0x0)return;const _0x51f37c=new Array(0x60)[_0x5ea2f8(0x1ef)](0x0),_0x408c42=new Date()[_0x5ea2f8(0x1d9)](0x0,0x0,0x0,0x0);this[_0x5ea2f8(0x150)]['forEach'](_0xbf5096=>{const _0x2d537f=_0x5ea2f8,_0x1b5de4=new Date(_0xbf5096['timestamp']);if(_0x1b5de4[_0x2d537f(0x15e)]()>=_0x408c42){const _0x2d6af1=_0x1b5de4[_0x2d537f(0x164)](),_0x3c0130=_0x1b5de4[_0x2d537f(0x201)](),_0x4bda22=_0x2d6af1*0x4+Math[_0x2d537f(0x15f)](_0x3c0130/0xf);if(_0x4bda22>=0x0&&_0x4bda22<0x60)_0x51f37c[_0x4bda22]++;}}),this[_0x5ea2f8(0x1e9)]('analysis.health.todayVector',{'val':JSON[_0x5ea2f8(0x196)](_0x51f37c),'ack':!![]});}[a0_0x4d9cae(0x202)](){const _0x295d3a=a0_0x4d9cae;if(!this[_0x295d3a(0x200)]||this[_0x295d3a(0x200)][_0x295d3a(0x167)]<0x2)return;const _0x1aa584=this[_0x295d3a(0x200)][_0x295d3a(0x208)](_0x319870=>{const _0x53da01=_0x295d3a,_0x324a88=(_0x319870[_0x53da01(0x1ee)]||'')[_0x53da01(0x237)]();return ACTIVITY_LEVEL_MAP[_0x324a88]||0x32;});pythonBridge[_0x295d3a(0x16a)](this,_0x295d3a(0x238),{'values':_0x1aa584,'tag':'Activity-Level'});}}if(require[a0_0x4d9cae(0x234)]!==module)module[a0_0x4d9cae(0x1ff)]=_0x11f7f6=>new CogniLiving(_0x11f7f6);else new CogniLiving();