const a0_0x3a8276=a0_0x3e31;(function(_0x3ae776,_0x51f6c1){const _0x31c889=a0_0x3e31,_0x4c9923=_0x3ae776();while(!![]){try{const _0x311533=parseInt(_0x31c889(0x1bb))/0x1+-parseInt(_0x31c889(0x25c))/0x2*(-parseInt(_0x31c889(0x228))/0x3)+parseInt(_0x31c889(0x1c9))/0x4*(-parseInt(_0x31c889(0x191))/0x5)+parseInt(_0x31c889(0x1ac))/0x6*(-parseInt(_0x31c889(0x266))/0x7)+parseInt(_0x31c889(0x1a6))/0x8*(parseInt(_0x31c889(0x20e))/0x9)+-parseInt(_0x31c889(0x204))/0xa*(-parseInt(_0x31c889(0x274))/0xb)+parseInt(_0x31c889(0x192))/0xc*(-parseInt(_0x31c889(0x195))/0xd);if(_0x311533===_0x51f6c1)break;else _0x4c9923['push'](_0x4c9923['shift']());}catch(_0x3c980c){_0x4c9923['push'](_0x4c9923['shift']());}}}(a0_0x2e6e,0xe1bba));const a0_0x406421=(function(){let _0x2f5770=!![];return function(_0x5da982,_0x9c2ece){const _0x350bb2=_0x2f5770?function(){const _0x35b594=a0_0x3e31;if(_0x9c2ece){const _0xb4fe64=_0x9c2ece[_0x35b594(0x26f)](_0x5da982,arguments);return _0x9c2ece=null,_0xb4fe64;}}:function(){};return _0x2f5770=![],_0x350bb2;};}()),a0_0x567df1=a0_0x406421(this,function(){const _0x50eccf=a0_0x3e31;return a0_0x567df1['toString']()[_0x50eccf(0x20b)](_0x50eccf(0x22f))['toString']()[_0x50eccf(0x199)](a0_0x567df1)[_0x50eccf(0x20b)](_0x50eccf(0x22f));});a0_0x567df1();function a0_0x3e31(_0x4dcb91,_0x1f4425){const _0x22d0b8=a0_0x2e6e();return a0_0x3e31=function(_0x567df1,_0x406421){_0x567df1=_0x567df1-0x17b;let _0x2e6e8c=_0x22d0b8[_0x567df1];return _0x2e6e8c;},a0_0x3e31(_0x4dcb91,_0x1f4425);}function a0_0x2e6e(){const _0x5236bc=['sort','analysis.health.todayVector','constructor','SET_LEARNING_MODE','presenceDevices','activityLevel','scores','system.presenceWho','trackerEnabled','cogni-living','setPresence','location','calendarInstance','analysis.trigger','analysis.automation.autoApply','143192UGKBXK','isGracePeriodActive','Notification\x20Test\x20Failed:\x20','getForeignObjectAsync','checkLicense','LTM.baselineStatus','12keonOM','WiFi\x20Presence\x20detected.','./lib/recorder','_calName','type','instance','Kein\x20API\x20Key\x20Ã¼bergeben','subscribeStates','PINN\x20AI\x20Forecast','analysisHistory','./lib/dead_man','fill','TRAIN_ENERGY','apiKey','Standard','767183sMOVCC','ltmJob','endsWith','triggerGaitAnalysis','weatherunderground.0','VACATION','Gemini\x20AI\x20initialized.','clear','setupModeResetScheduler','parse','runBaselineDriftAnalysis','stringify','join','isPresent','4vSkhrb','LTM.dailyDigests','info','checkCalendarTriggers','ack','dailyDigests','response','bind','testContext','setObjectNotExistsAsync','minDaysForBaseline','exitTimer','NORMAL','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','abortExitTimer','notifyTelegramInstance','LTM.trainingData.thermodynamics','map','analysis.training.status','getHours','\x20min\x20ausbleiben.','simulateEnergyMPC','enum.functions.*','@google/generative-ai','send','analysis.automation.targetId','string','setStateAsync','isProVersion','./lib/topology','TRAIN_SECURITY','runGeminiAnalysis','split','triggerEnergyPrediction','getStateAsync','ANALYZE_GAIT','getOutsideTemperatureNumeric','rawEventLog','TRAIN_COMFORT','sunny','.communicate.request','analysisTimer','setHours','automation.triggerAction','party','analysis.security.learningStatus','getState','{\x22default\x22:\x2021}','runAutopilot','eventHistory','systemConfig','./lib/setup','minutes_safe',')\x20-\x20Phase\x20D\x20(Evolution)','onStateChange','timestamp','guest','application/json','ready','360RfqmwD','LTM.trainingData.sequences','message','currentSystemMode','object','communicate.request','name','search','slice','subscribeForeignStatesAsync','414KcRagK','devices','Instanz\x20nicht\x20gefunden','SYSTEM_MODES','checkWifiPresence','genAI','triggerBriefing','add','entries','analysis.triggerBriefing','LTM.rawEventLog','length','includes','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','initSystemConfig','stateChange','updateHealthVector','createAllObjects','Activity-Level','getForeignObjectsAsync','OPTIMIZE_ENERGY','useWeather','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','processSensorEvent','analysis.topology.structure','analysis.energy.ventilationAlerts','814227rsDECW','Current.WeatherText','debug','json','sensorLastValues','.system.mode','Gesendet','(((.+)+)+)+$','state','Fehler:\x20','SET_TOPOLOGY','analysis.energy.insulationScore','loadSystemMode','trackerHeartbeat','motion','analysis.automation.triggerAction','getTime','some','modeResetJob','exitGraceTimer','Guest\x20Mode','getForeignStateAsync','onMessage','temperature','scanThermostats','keys','from','inactivityThresholdHours','runPythonHealthCheck','geminiApiKey','common','lastTrackerEventTime','PREDICT_ENERGY','Sec-Training\x20started...','pop','startSystem','./lib/ai_agent','onUnload','testApiKey','now','createDailyDigest','values','isSolar','analysis.automation.description','briefingJob','val','analysis.energy.pinnForecast','sendTo','Active\x20Ventilation\x20Alerts','accuweather.0','SYSTEM_DP_MODE','Test','4NchpdD','Verbunden','geminiModel','simulateButler','analysis.automation.patternDetected','error','main','driftAnalysisTimer','./lib/scheduler','daswetter.0','3441508LqTtuX','LTM.triggerDailyDigest','forecast.current.weather','floor','./lib/installer','analysis.training.triggerSecurity','isArray','updateTopology','toLowerCase','apply','config','callback','cogni-living\x20adapter\x20starting\x20(v','Aktiv\x20(','487311FcQoDf','exports','sendMorningBriefing','find','Simulation\x20durch\x20Admin\x20(Test)','Lernphase\x20(','analysis.automation.targetValue','command','enum','push','\x20Tage)','analysis.training.triggerEnergy','analysis.energy.mpcActive','online','dependencyInstallInProgress','onReady','initHistory','getOverviewData','system.adapter.','TRACK_EVENT','TRAIN_HEALTH','generateContent','scanDevices','forEach','PYTHON_EXE','initZombies','@iobroker/adapter-core','enum.rooms.*','cancel','scanForDevices','./lib/scanner','updated','setState','checkAndInstall','checkSolarCondition','analysis.training.triggerTopology','log','484805HpnyqS','1034004HdFZEe','Party\x20Mode','./lib/python_bridge','260QRfqNF','Warm-Up\x20Target\x20Temps\x20(JSON)'];a0_0x2e6e=function(){return _0x5236bc;};return a0_0x2e6e();}'use strict';const utils=require(a0_0x3a8276(0x186)),{GoogleGenerativeAI}=require(a0_0x3a8276(0x1e0)),installer=require(a0_0x3a8276(0x26a)),scanner=require(a0_0x3a8276(0x18a)),schedulers=require(a0_0x3a8276(0x264)),topology=require(a0_0x3a8276(0x1e6)),setup=require(a0_0x3a8276(0x1fc)),recorder=require(a0_0x3a8276(0x1ae)),pythonBridge=require(a0_0x3a8276(0x194)),aiAgent=require(a0_0x3a8276(0x24c)),deadMan=require(a0_0x3a8276(0x1b6)),automation=require('./lib/automation'),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x574bd3){const _0xf25a68=a0_0x3a8276;super({..._0x574bd3,'name':_0xf25a68(0x1a0)}),this['eventHistory']=[],this[_0xf25a68(0x1b5)]=[],this['rawEventLog']=[],this['dailyDigests']=[],this['sensorLastValues']={},this[_0xf25a68(0x1fb)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0xf25a68(0x1c8)]=!![],this['exitTimer']=null,this[_0xf25a68(0x23b)]=null,this[_0xf25a68(0x1a7)]=![],this[_0xf25a68(0x213)]=null,this[_0xf25a68(0x25e)]=null,this[_0xf25a68(0x207)]=setup[_0xf25a68(0x211)][_0xf25a68(0x1d5)],this[_0xf25a68(0x1e5)]=![],this['lastAlertState']=![],this['analysisTimer']=null,this[_0xf25a68(0x1bc)]=null,this[_0xf25a68(0x23a)]=null,this['driftAnalysisTimer']=null,this['briefingJob']=null,this[_0xf25a68(0x282)]=![],this[_0xf25a68(0x235)]=null,this[_0xf25a68(0x247)]=Date[_0xf25a68(0x24f)](),this['on'](_0xf25a68(0x203),this[_0xf25a68(0x17b)][_0xf25a68(0x1d0)](this)),this['on'](_0xf25a68(0x21d),this[_0xf25a68(0x1ff)]['bind'](this)),this['on']('unload',this[_0xf25a68(0x24d)][_0xf25a68(0x1d0)](this)),this['on']('message',this[_0xf25a68(0x23e)][_0xf25a68(0x1d0)](this));}async[a0_0x3a8276(0x17b)](){const _0x5a96ce=a0_0x3a8276;this[_0x5a96ce(0x190)][_0x5a96ce(0x1cb)](_0x5a96ce(0x272)+this['version']+_0x5a96ce(0x1fe));if(!installer[_0x5a96ce(0x18d)](this,()=>this[_0x5a96ce(0x24b)]()))return;}async[a0_0x3a8276(0x24b)](){const _0xc4542=a0_0x3a8276;await setup[_0xc4542(0x185)](this);try{this[_0xc4542(0x1e5)]=await setup[_0xc4542(0x1aa)](this[_0xc4542(0x270)]['licenseKey']);}catch(_0x8106f7){}if(!this[_0xc4542(0x270)][_0xc4542(0x243)]||this[_0xc4542(0x270)]['inactivityThresholdHours']<0.1)this[_0xc4542(0x270)]['inactivityThresholdHours']=0xc;await setup[_0xc4542(0x17c)](this),await setup[_0xc4542(0x21c)](this);if(this['config']['geminiApiKey'])try{this['genAI']=new GoogleGenerativeAI(this[_0xc4542(0x270)][_0xc4542(0x245)]),this[_0xc4542(0x25e)]=this[_0xc4542(0x213)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0xc4542(0x202)}}),this[_0xc4542(0x190)][_0xc4542(0x1cb)](_0xc4542(0x1c1));}catch(_0x10fef1){this['log'][_0xc4542(0x261)]('Gemini\x20Init\x20Error:\x20'+_0x10fef1['message']);}await setup[_0xc4542(0x21f)](this),await this[_0xc4542(0x234)](),await this[_0xc4542(0x1d2)](_0xc4542(0x256),{'type':_0xc4542(0x230),'common':{'name':_0xc4542(0x1b4),'type':'string','role':_0xc4542(0x22b),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0xc4542(0x227),{'type':_0xc4542(0x230),'common':{'name':_0xc4542(0x258),'type':_0xc4542(0x1e3),'role':_0xc4542(0x22b),'read':!![],'write':![]},'native':{}}),await this[_0xc4542(0x1d2)]('analysis.energy.warmupTimes',{'type':'state','common':{'name':_0xc4542(0x21b),'type':_0xc4542(0x1e3),'role':_0xc4542(0x22b),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.warmupTargets',{'type':_0xc4542(0x230),'common':{'name':_0xc4542(0x196),'type':_0xc4542(0x1e3),'role':_0xc4542(0x22b),'read':!![],'write':!![],'def':_0xc4542(0x1f8)},'native':{}});try{const _0x252ab1=await this[_0xc4542(0x1eb)](_0xc4542(0x218));if(_0x252ab1&&_0x252ab1[_0xc4542(0x255)])this['rawEventLog']=JSON['parse'](_0x252ab1[_0xc4542(0x255)]);}catch(_0x3835f8){this[_0xc4542(0x1ee)]=[];}try{const _0x37f059=await this[_0xc4542(0x1eb)](_0xc4542(0x1ca));if(_0x37f059&&_0x37f059['val'])this[_0xc4542(0x1ce)]=JSON['parse'](_0x37f059[_0xc4542(0x255)]);}catch(_0x20c8f0){this[_0xc4542(0x1ce)]=[];}const _0x465c9b=this[_0xc4542(0x1ce)][_0xc4542(0x219)]>=(this[_0xc4542(0x270)][_0xc4542(0x1d3)]||0x7)?_0xc4542(0x273)+this[_0xc4542(0x1ce)][_0xc4542(0x219)]+_0xc4542(0x27e):_0xc4542(0x279)+this['dailyDigests'][_0xc4542(0x219)]+'/'+(this['config'][_0xc4542(0x1d3)]||0x7)+')';await this['setStateAsync'](_0xc4542(0x1ab),{'val':_0x465c9b,'ack':!![]}),this[_0xc4542(0x1b3)](_0xc4542(0x1a4)),this['subscribeStates'](_0xc4542(0x267)),this[_0xc4542(0x1b3)]('system.mode'),this[_0xc4542(0x1b3)](_0xc4542(0x217)),this[_0xc4542(0x1b3)](_0xc4542(0x237)),this[_0xc4542(0x1b3)](_0xc4542(0x1a5)),this[_0xc4542(0x1b3)](_0xc4542(0x26b)),this[_0xc4542(0x1b3)]('analysis.training.triggerHealth'),this[_0xc4542(0x1b3)](_0xc4542(0x27f)),this[_0xc4542(0x1b3)]('analysis.training.triggerComfort'),this['subscribeStates'](_0xc4542(0x18f)),this[_0xc4542(0x1b3)](_0xc4542(0x280));const _0x3dfbe8=this[_0xc4542(0x270)][_0xc4542(0x20f)];if(_0x3dfbe8)for(const _0x35cf45 of _0x3dfbe8){await this[_0xc4542(0x20d)](_0x35cf45['id']);}const _0x3d588a=this['config']['presenceDevices'];if(_0x3d588a)for(const _0x3e43cf of _0x3d588a){await this[_0xc4542(0x20d)](_0x3e43cf);}if(this['config']['notifyTelegramEnabled']&&this[_0xc4542(0x270)][_0xc4542(0x1d8)])await this['subscribeForeignStatesAsync'](this[_0xc4542(0x270)][_0xc4542(0x1d8)]+_0xc4542(0x1f1));setTimeout(()=>this[_0xc4542(0x212)](),0x1388);if(this[_0xc4542(0x1f2)])clearInterval(this[_0xc4542(0x1f2)]);const _0x1b95c7=this['config']['analysisInterval']||0xf;_0x1b95c7>0x0&&(this[_0xc4542(0x1f2)]=setInterval(()=>{const _0x5ae5bd=_0xc4542;this['runAutopilot'](),automation[_0x5ae5bd(0x1cc)](this);},_0x1b95c7*0x3c*0x3e8)),setTimeout(()=>automation['checkCalendarTriggers'](this),0x2710),this[_0xc4542(0x270)][_0xc4542(0x19f)]!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0x1063a5=_0xc4542;if(this[_0x1063a5(0x1e5)]){const _0x2f8f5=Date[_0x1063a5(0x24f)](),_0x4e67bc=this[_0x1063a5(0x247)]||_0x2f8f5,_0x4f7aa2=(_0x2f8f5-_0x4e67bc)/0x3e8;_0x4f7aa2>0x2&&(this[_0x1063a5(0x247)]=_0x2f8f5,pythonBridge[_0x1063a5(0x1e1)](this,_0x1063a5(0x17f),{'room':null,'dt':_0x4f7aa2}));}},0xbb8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0xc4542(0x250)](this,pythonBridge)),schedulers[_0xc4542(0x1c3)](this),schedulers['setupDriftAnalysisScheduler'](this,()=>aiAgent[_0xc4542(0x1c5)](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent[_0xc4542(0x276)](this)),pythonBridge['startService'](this,installer[_0xc4542(0x184)]),setTimeout(async()=>{const _0x2092cf=_0xc4542;await topology[_0x2092cf(0x26d)](this);try{const _0x2b668f=await this[_0x2092cf(0x1eb)](_0x2092cf(0x226));if(_0x2b668f&&_0x2b668f['val'])pythonBridge[_0x2092cf(0x1e1)](this,_0x2092cf(0x232),JSON[_0x2092cf(0x1c4)](_0x2b668f[_0x2092cf(0x255)]));}catch(_0x51d5bd){}this[_0x2092cf(0x244)](),this[_0x2092cf(0x1be)](),this[_0x2092cf(0x1ea)](),this[_0x2092cf(0x21e)]();},0x1388);}[a0_0x3a8276(0x24d)](_0xc9496b){const _0x366bfa=a0_0x3a8276;if(this[_0x366bfa(0x1f2)])clearInterval(this[_0x366bfa(0x1f2)]);if(this[_0x366bfa(0x263)])clearInterval(this['driftAnalysisTimer']);if(this[_0x366bfa(0x235)])clearInterval(this[_0x366bfa(0x235)]);if(this[_0x366bfa(0x1bc)])this[_0x366bfa(0x1bc)][_0x366bfa(0x188)]();if(this['modeResetJob'])this['modeResetJob'][_0x366bfa(0x188)]();if(this['briefingJob'])this[_0x366bfa(0x254)][_0x366bfa(0x188)]();recorder[_0x366bfa(0x1d7)](this),pythonBridge['stopService'](this),_0xc9496b();}async[a0_0x3a8276(0x1ff)](_0x354be7,_0xa04033){const _0x4185fb=a0_0x3a8276;if(!_0xa04033||this['dependencyInstallInProgress'])return;if(_0x354be7['includes']('telegram')&&_0x354be7[_0x4185fb(0x1bd)](_0x4185fb(0x209))&&_0xa04033['val'])return;if(_0x354be7===this['namespace']+_0x4185fb(0x22d)){if(_0xa04033[_0x4185fb(0x255)]&&Object['values'](setup[_0x4185fb(0x211)])[_0x4185fb(0x21a)](_0xa04033[_0x4185fb(0x255)])){this[_0x4185fb(0x207)]=_0xa04033[_0x4185fb(0x255)];if(_0xa04033['val']===setup['SYSTEM_MODES'][_0x4185fb(0x1c0)])await recorder['setPresence'](this,![]);else await recorder[_0x4185fb(0x1a1)](this,!![]);if(this['isProVersion']){let _0x2eaefd=![],_0xdbbb54=0x0,_0x172f65='manual';if(this[_0x4185fb(0x207)]===_0x4185fb(0x1f5))_0x2eaefd=!![],_0xdbbb54=0x168,_0x172f65=_0x4185fb(0x193);else this[_0x4185fb(0x207)]===_0x4185fb(0x201)&&(_0x2eaefd=!![],_0xdbbb54=0x5a0,_0x172f65=_0x4185fb(0x23c));pythonBridge['send'](this,_0x4185fb(0x19a),{'active':_0x2eaefd,'duration':_0xdbbb54,'label':_0x172f65}),await this[_0x4185fb(0x1e4)](_0x4185fb(0x1f6),{'val':JSON['stringify']({'active':_0x2eaefd,'label':_0x172f65,'timestamp':Date[_0x4185fb(0x24f)]()}),'ack':!![]});}}if(!_0xa04033[_0x4185fb(0x1cd)])this[_0x4185fb(0x18c)](_0x354be7,{'val':this[_0x4185fb(0x207)],'ack':!![]});return;}if(!_0xa04033[_0x4185fb(0x1cd)]){if(_0x354be7[_0x4185fb(0x21a)](_0x4185fb(0x1a4))&&_0xa04033[_0x4185fb(0x255)]){this[_0x4185fb(0x18c)](_0x354be7,{'val':![],'ack':!![]}),aiAgent[_0x4185fb(0x1e8)](this);return;}if(_0x354be7[_0x4185fb(0x21a)]('triggerDailyDigest')&&_0xa04033[_0x4185fb(0x255)]){this[_0x4185fb(0x18c)](_0x354be7,{'val':![],'ack':!![]});if(this[_0x4185fb(0x1e5)])aiAgent[_0x4185fb(0x250)](this,pythonBridge);return;}if(_0x354be7['includes'](_0x4185fb(0x214))&&_0xa04033['val']){this[_0x4185fb(0x18c)](_0x354be7,{'val':![],'ack':!![]}),aiAgent[_0x4185fb(0x276)](this);return;}if(_0x354be7[_0x4185fb(0x21a)](_0x4185fb(0x1f4))&&_0xa04033[_0x4185fb(0x255)]){this['setState'](_0x354be7,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x354be7['includes'](_0x4185fb(0x26b))&&_0xa04033[_0x4185fb(0x255)]){this[_0x4185fb(0x18c)](_0x354be7,{'val':![],'ack':!![]});if(this[_0x4185fb(0x1e5)])try{const _0x1a34b4=await this[_0x4185fb(0x1eb)](_0x4185fb(0x205));if(_0x1a34b4&&_0x1a34b4['val']){const _0x5480f7=JSON['parse'](_0x1a34b4[_0x4185fb(0x255)]);this[_0x4185fb(0x1e4)](_0x4185fb(0x1db),{'val':_0x4185fb(0x249),'ack':!![]}),pythonBridge[_0x4185fb(0x1e1)](this,_0x4185fb(0x1e7),{'sequences':_0x5480f7});}}catch(_0x7f9809){}return;}if(_0x354be7[_0x4185fb(0x21a)]('analysis.training.triggerHealth')&&_0xa04033[_0x4185fb(0x255)]){this[_0x4185fb(0x18c)](_0x354be7,{'val':![],'ack':!![]});if(this[_0x4185fb(0x1e5)])try{const _0x110bda=await this[_0x4185fb(0x1eb)](_0x4185fb(0x1ca));if(_0x110bda&&_0x110bda[_0x4185fb(0x255)])pythonBridge[_0x4185fb(0x1e1)](this,_0x4185fb(0x180),{'digests':JSON[_0x4185fb(0x1c4)](_0x110bda[_0x4185fb(0x255)])});}catch(_0x3ade96){}return;}if(_0x354be7[_0x4185fb(0x21a)](_0x4185fb(0x27f))&&_0xa04033[_0x4185fb(0x255)]){this[_0x4185fb(0x18c)](_0x354be7,{'val':![],'ack':!![]});if(this[_0x4185fb(0x1e5)])try{const _0x1d2b80=await this[_0x4185fb(0x1eb)](_0x4185fb(0x1d9));if(_0x1d2b80&&_0x1d2b80[_0x4185fb(0x255)])pythonBridge[_0x4185fb(0x1e1)](this,_0x4185fb(0x1b8),{'points':JSON[_0x4185fb(0x1c4)](_0x1d2b80[_0x4185fb(0x255)])});}catch(_0x3a4613){}return;}if(_0x354be7['includes']('analysis.training.triggerComfort')&&_0xa04033[_0x4185fb(0x255)]){this[_0x4185fb(0x18c)](_0x354be7,{'val':![],'ack':!![]});if(this[_0x4185fb(0x1e5)])try{const _0x38fa36=await this[_0x4185fb(0x1eb)](_0x4185fb(0x218));if(_0x38fa36&&_0x38fa36[_0x4185fb(0x255)])pythonBridge[_0x4185fb(0x1e1)](this,_0x4185fb(0x1ef),{'events':JSON[_0x4185fb(0x1c4)](_0x38fa36[_0x4185fb(0x255)])});}catch(_0x3b49f5){}return;}if(_0x354be7[_0x4185fb(0x21a)](_0x4185fb(0x18f))&&_0xa04033[_0x4185fb(0x255)]){this['setState'](_0x354be7,{'val':![],'ack':!![]}),topology[_0x4185fb(0x26d)](this);return;}}if(this[_0x4185fb(0x270)][_0x4185fb(0x19b)]&&this['config'][_0x4185fb(0x19b)][_0x4185fb(0x21a)](_0x354be7)){await this[_0x4185fb(0x212)]();return;}const _0x14ec53=(this[_0x4185fb(0x270)]['devices']||[])[_0x4185fb(0x277)](_0x1c4eb9=>_0x1c4eb9['id']===_0x354be7);if(_0x14ec53){const _0x45cce6=await recorder[_0x4185fb(0x225)](this,_0x354be7,_0xa04033,_0x14ec53);_0x45cce6&&_0x45cce6[_0x4185fb(0x1b0)]===_0x4185fb(0x236)&&_0x45cce6['location']&&this['isProVersion']&&deadMan['updateLocation'](this,_0x45cce6[_0x4185fb(0x1a2)]);}}async[a0_0x3a8276(0x23e)](_0x2d042b){const _0x1d5ef6=a0_0x3a8276;if(typeof _0x2d042b===_0x1d5ef6(0x208)&&_0x2d042b[_0x1d5ef6(0x206)]){if(_0x2d042b[_0x1d5ef6(0x27b)]==='checkThermostats')try{const _0x199c3c=await automation[_0x1d5ef6(0x240)](this);this['sendTo'](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![],'results':_0x199c3c},_0x2d042b['callback']);}catch(_0x4d5c0d){this[_0x1d5ef6(0x257)](_0x2d042b['from'],_0x2d042b['command'],{'success':![],'error':_0x4d5c0d[_0x1d5ef6(0x206)]},_0x2d042b['callback']);}else{if(_0x2d042b[_0x1d5ef6(0x27b)]===_0x1d5ef6(0x1de))try{const {current_temps:_0x3b9e22,t_out:_0x2f8457,targets:_0x3935c9,t_forecast:_0x39afb7}=_0x2d042b[_0x1d5ef6(0x206)],_0x5524cf=[];let _0xf0a133={};try{const _0x5a003e=await this[_0x1d5ef6(0x1eb)](_0x1d5ef6(0x233));if(_0x5a003e&&_0x5a003e['val']){const _0x37b3ea=JSON[_0x1d5ef6(0x1c4)](_0x5a003e['val']);_0xf0a133=_0x37b3ea[_0x1d5ef6(0x19d)]||_0x37b3ea;}}catch(_0x5f46fe){}const _0x415104=_0x39afb7!==undefined&&_0x39afb7!==null?(_0x2f8457+_0x39afb7)/0x2:_0x2f8457;for(const [_0x1e9165,_0x509e37]of Object[_0x1d5ef6(0x216)](_0x3b9e22)){const _0x198d3c=_0x3935c9[_0x1e9165]||0x15;if(_0x509e37<=_0x198d3c)continue;let _0x715131=_0xf0a133[_0x1e9165]||-0.5;if(_0x715131>=0x0)_0x715131=-0.5;const _0x106829=Math['abs'](_0x715131),_0x1e27c3=_0x509e37-_0x198d3c;let _0x5165ca=Math['floor'](_0x1e27c3/_0x106829*0x3c);const _0x1981bf=_0x509e37-_0x2f8457,_0x45683c=_0x509e37-_0x415104;if(_0x45683c!==0x0&&_0x1981bf!==0x0){const _0x43830a=_0x1981bf/_0x45683c;_0x5165ca=Math[_0x1d5ef6(0x269)](_0x5165ca*_0x43830a);}if(_0x5165ca>0xf){if(_0x5165ca>0xf0)_0x5165ca=0xf0;_0x5524cf[_0x1d5ef6(0x27d)]({'room':_0x1e9165,'minutes_safe':_0x5165ca,'target':_0x198d3c,'current':_0x509e37,'savings_msg':'Heizung\x20kann\x20'+_0x5165ca+_0x1d5ef6(0x1dd)});}}_0x5524cf[_0x1d5ef6(0x197)]((_0xa32774,_0xbc863f)=>_0xbc863f[_0x1d5ef6(0x1fd)]-_0xa32774[_0x1d5ef6(0x1fd)]),this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![],'proposals':_0x5524cf},_0x2d042b[_0x1d5ef6(0x271)]);}catch(_0x210dfd){this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b['command'],{'success':![],'error':_0x210dfd[_0x1d5ef6(0x206)]},_0x2d042b[_0x1d5ef6(0x271)]);}else{if(_0x2d042b[_0x1d5ef6(0x27b)]==='dismissAutomation')await this[_0x1d5ef6(0x1e4)](_0x1d5ef6(0x260),{'val':![],'ack':!![]}),await this[_0x1d5ef6(0x1e4)]('analysis.automation.description',{'val':'','ack':!![]}),await this[_0x1d5ef6(0x1e4)](_0x1d5ef6(0x1e2),{'val':'','ack':!![]}),this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![]},_0x2d042b[_0x1d5ef6(0x271)]);else{if(_0x2d042b[_0x1d5ef6(0x27b)]===_0x1d5ef6(0x25f)){const {targetId:_0x3d5e8d,targetValue:_0x2f3d07}=_0x2d042b['message'];await this[_0x1d5ef6(0x1e4)](_0x1d5ef6(0x260),{'val':!![],'ack':!![]}),await this[_0x1d5ef6(0x1e4)](_0x1d5ef6(0x253),{'val':_0x1d5ef6(0x278),'ack':!![]}),await this[_0x1d5ef6(0x1e4)](_0x1d5ef6(0x1e2),{'val':_0x3d5e8d,'ack':!![]}),await this[_0x1d5ef6(0x1e4)](_0x1d5ef6(0x27a),{'val':String(_0x2f3d07),'ack':!![]}),this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![]},_0x2d042b['callback']);}else{if(_0x2d042b['command']===_0x1d5ef6(0x24e))try{const _0x3d2dd7=_0x2d042b[_0x1d5ef6(0x206)][_0x1d5ef6(0x1b9)];if(!_0x3d2dd7)throw new Error(_0x1d5ef6(0x1b2));const _0x5ae15b=new GoogleGenerativeAI(_0x3d2dd7),_0x2231d5=_0x5ae15b['getGenerativeModel']({'model':GEMINI_MODEL}),_0x53c4cf=await _0x2231d5[_0x1d5ef6(0x181)](_0x1d5ef6(0x25b)),_0x36fc41=await _0x53c4cf[_0x1d5ef6(0x1cf)];if(_0x36fc41['text']())this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x2d042b[_0x1d5ef6(0x271)]);else throw new Error('Keine\x20Antwort\x20von\x20Gemini');}catch(_0x203937){this['sendTo'](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b['command'],{'success':![],'message':_0x203937[_0x1d5ef6(0x206)]},_0x2d042b[_0x1d5ef6(0x271)]);}else{if(_0x2d042b[_0x1d5ef6(0x27b)]===_0x1d5ef6(0x182))try{const _0x288870=await scanner[_0x1d5ef6(0x189)](this,_0x2d042b[_0x1d5ef6(0x206)]||{});this['sendTo'](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![],'devices':_0x288870},_0x2d042b[_0x1d5ef6(0x271)]);}catch(_0x1a3fd1){this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':![],'error':_0x1a3fd1['message']},_0x2d042b[_0x1d5ef6(0x271)]);}else{if(_0x2d042b[_0x1d5ef6(0x27b)]==='updateTopologyMatrix')try{const {matrix:_0xde8c50}=_0x2d042b['message'],_0x45d001=await this[_0x1d5ef6(0x1eb)](_0x1d5ef6(0x226));if(_0x45d001&&_0x45d001[_0x1d5ef6(0x255)]){const _0x5473ab=JSON[_0x1d5ef6(0x1c4)](_0x45d001[_0x1d5ef6(0x255)]);_0x5473ab['matrix']=_0xde8c50,_0x5473ab[_0x1d5ef6(0x18b)]=Date[_0x1d5ef6(0x24f)](),await this[_0x1d5ef6(0x1e4)]('analysis.topology.structure',{'val':JSON[_0x1d5ef6(0x1c6)](_0x5473ab),'ack':!![]}),pythonBridge[_0x1d5ef6(0x1e1)](this,'SET_TOPOLOGY',_0x5473ab);}this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![]},_0x2d042b[_0x1d5ef6(0x271)]);}catch(_0x47d437){this[_0x1d5ef6(0x190)][_0x1d5ef6(0x261)](_0x47d437);}else{if(_0x2d042b[_0x1d5ef6(0x27b)]==='getLtmData')this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![],'dailyDigests':this['dailyDigests']||[],'analysisHistory':this['analysisHistory']||[]},_0x2d042b[_0x1d5ef6(0x271)]);else{if(_0x2d042b[_0x1d5ef6(0x27b)]===_0x1d5ef6(0x17d)){const _0x5b3f5b=this[_0x1d5ef6(0x1ce)][_0x1d5ef6(0x219)],_0x41f19f=new Array(0x18)[_0x1d5ef6(0x1b7)](0x0),_0x4e3508=new Date()[_0x1d5ef6(0x1f3)](0x0,0x0,0x0,0x0);this[_0x1d5ef6(0x1fa)]&&this[_0x1d5ef6(0x1fa)]['forEach'](_0x50d9bc=>{const _0x5888d6=_0x1d5ef6;if(_0x50d9bc['timestamp']>=_0x4e3508){const _0x538067=new Date(_0x50d9bc[_0x5888d6(0x200)])[_0x5888d6(0x1dc)]();if(_0x538067>=0x0&&_0x538067<0x18)_0x41f19f[_0x538067]++;}});let _0x4163b5=![],_0x592c53='',_0x32fba2='',_0x5152f8='';try{const _0x22c2c0=await this[_0x1d5ef6(0x1eb)](_0x1d5ef6(0x260));if(_0x22c2c0&&_0x22c2c0[_0x1d5ef6(0x255)]){_0x4163b5=!![];const _0x316c44=await this[_0x1d5ef6(0x1eb)]('analysis.automation.description');_0x592c53=_0x316c44?_0x316c44['val']:'';const _0x36ece9=await this[_0x1d5ef6(0x1eb)](_0x1d5ef6(0x1e2));_0x32fba2=_0x36ece9?_0x36ece9[_0x1d5ef6(0x255)]:'';const _0x2ed266=await this['getStateAsync'](_0x1d5ef6(0x27a));_0x5152f8=_0x2ed266?_0x2ed266[_0x1d5ef6(0x255)]:'';}}catch(_0x50df27){}const _0xab81ec=await this[_0x1d5ef6(0x18e)](),_0x1b15e0=(this[_0x1d5ef6(0x270)][_0x1d5ef6(0x20f)]||[])[_0x1d5ef6(0x239)](_0x3ce590=>_0x3ce590[_0x1d5ef6(0x252)]),_0x445f88=_0xab81ec&&_0x1b15e0;this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![],'eventHistory':this[_0x1d5ef6(0x1fa)][_0x1d5ef6(0x20c)](0x0,0xf),'stats':{'digestCount':_0x5b3f5b,'isPresent':this['isPresent'],'hourlyActivity':_0x41f19f,'solarActive':_0x445f88},'automation':{'detected':_0x4163b5,'description':_0x592c53,'targetId':_0x32fba2,'targetValue':_0x5152f8}},_0x2d042b[_0x1d5ef6(0x271)]);}else{if(_0x2d042b['command']==='getEnums'){const _0x1cdeaf=await this[_0x1d5ef6(0x221)](_0x1d5ef6(0x1df),'enum'),_0x2f0ee8=[];if(_0x1cdeaf)for(const _0x2f105a in _0x1cdeaf){const _0x4c6bab=_0x1cdeaf[_0x2f105a],_0x4ffc54=(_0x4c6bab['common']&&typeof _0x4c6bab[_0x1d5ef6(0x246)][_0x1d5ef6(0x20a)]===_0x1d5ef6(0x208)?_0x4c6bab[_0x1d5ef6(0x246)][_0x1d5ef6(0x20a)]['de']:_0x4c6bab[_0x1d5ef6(0x246)]['name'])||_0x4c6bab[_0x1d5ef6(0x246)][_0x1d5ef6(0x20a)];_0x2f0ee8[_0x1d5ef6(0x27d)]({'id':_0x2f105a,'name':_0x4ffc54});}const _0x52e818=await this['getForeignObjectsAsync'](_0x1d5ef6(0x187),_0x1d5ef6(0x27c)),_0x1da627=[];if(_0x52e818)for(const _0x450252 in _0x52e818){const _0x38d9de=_0x52e818[_0x450252],_0x1e021e=(_0x38d9de[_0x1d5ef6(0x246)]&&typeof _0x38d9de[_0x1d5ef6(0x246)][_0x1d5ef6(0x20a)]===_0x1d5ef6(0x208)?_0x38d9de[_0x1d5ef6(0x246)][_0x1d5ef6(0x20a)]['de']:_0x38d9de[_0x1d5ef6(0x246)][_0x1d5ef6(0x20a)])||_0x450252[_0x1d5ef6(0x1e9)]('.')[_0x1d5ef6(0x24a)]();_0x1da627['push'](_0x1e021e);}this[_0x1d5ef6(0x257)](_0x2d042b['from'],_0x2d042b['command'],{'success':!![],'enums':_0x2f0ee8,'rooms':_0x1da627},_0x2d042b[_0x1d5ef6(0x271)]);}else{if(_0x2d042b[_0x1d5ef6(0x27b)]===_0x1d5ef6(0x1d1))try{let _0x15d585='Kein\x20Wetter-Adapter',_0x51588f='Kein\x20Kalender-Adapter';if(this[_0x1d5ef6(0x270)][_0x1d5ef6(0x223)]){const _0x413e33=await recorder['getOutsideTemperatureNumeric'](this);_0x15d585=_0x413e33!==null?_0x413e33+'Â°C':'Daten\x20nicht\x20verfÃ¼gbar';}if(this[_0x1d5ef6(0x270)][_0x1d5ef6(0x1a3)]){const _0x4fe37b=await this[_0x1d5ef6(0x1a9)](_0x1d5ef6(0x17e)+this[_0x1d5ef6(0x270)][_0x1d5ef6(0x1a3)]);_0x51588f=_0x4fe37b?_0x1d5ef6(0x25d):_0x1d5ef6(0x210);}this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![],'weather':_0x15d585,'calendar':_0x51588f},_0x2d042b[_0x1d5ef6(0x271)]);}catch(_0x3adc26){this[_0x1d5ef6(0x257)](_0x2d042b['from'],_0x2d042b[_0x1d5ef6(0x27b)],{'success':![],'error':_0x3adc26[_0x1d5ef6(0x206)]},_0x2d042b[_0x1d5ef6(0x271)]);}else{if(_0x2d042b[_0x1d5ef6(0x27b)]==='getCalendarNames')try{const _0xf2f093=_0x2d042b['message'][_0x1d5ef6(0x1b1)],_0x3df671=await this[_0x1d5ef6(0x23d)](_0xf2f093+'.data.table');let _0x3733c0=[];if(_0x3df671&&_0x3df671[_0x1d5ef6(0x255)]){const _0x4918c9=JSON[_0x1d5ef6(0x1c4)](_0x3df671['val']),_0x1fc480=new Set();Array[_0x1d5ef6(0x26c)](_0x4918c9)&&_0x4918c9[_0x1d5ef6(0x183)](_0x4861c4=>{const _0x13d981=_0x1d5ef6;if(_0x4861c4[_0x13d981(0x1af)])_0x1fc480[_0x13d981(0x215)](_0x4861c4['_calName']);else{if(_0x4861c4['calendarName'])_0x1fc480[_0x13d981(0x215)](_0x4861c4['calendarName']);}}),_0x3733c0=Array[_0x1d5ef6(0x242)](_0x1fc480)[_0x1d5ef6(0x197)]();}if(_0x3733c0[_0x1d5ef6(0x219)]===0x0)_0x3733c0=[_0x1d5ef6(0x1ba)];this['sendTo'](_0x2d042b['from'],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![],'names':_0x3733c0},_0x2d042b[_0x1d5ef6(0x271)]);}catch(_0x517921){this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b['command'],{'success':![],'error':_0x517921['message']},_0x2d042b['callback']);}else{if(_0x2d042b[_0x1d5ef6(0x27b)]==='testNotification')try{await setup['sendNotification'](this,_0x1d5ef6(0x1d6),![],![]),this[_0x1d5ef6(0x257)](_0x2d042b[_0x1d5ef6(0x242)],_0x2d042b[_0x1d5ef6(0x27b)],{'success':!![],'message':_0x1d5ef6(0x22e)},_0x2d042b[_0x1d5ef6(0x271)]);}catch(_0x24bd87){this[_0x1d5ef6(0x190)][_0x1d5ef6(0x261)](_0x1d5ef6(0x1a8)+_0x24bd87[_0x1d5ef6(0x206)]),this[_0x1d5ef6(0x257)](_0x2d042b['from'],_0x2d042b['command'],{'success':![],'message':_0x1d5ef6(0x231)+_0x24bd87[_0x1d5ef6(0x206)]},_0x2d042b[_0x1d5ef6(0x271)]);}}}}}}}}}}}}}}}async['loadSystemMode'](){const _0x4a3e92=a0_0x3a8276;try{const _0x4944d2=await this[_0x4a3e92(0x1eb)](setup[_0x4a3e92(0x25a)]);_0x4944d2&&_0x4944d2[_0x4a3e92(0x255)]&&Object[_0x4a3e92(0x251)](setup[_0x4a3e92(0x211)])['includes'](_0x4944d2[_0x4a3e92(0x255)])?this[_0x4a3e92(0x207)]=_0x4944d2[_0x4a3e92(0x255)]:(this[_0x4a3e92(0x207)]=setup[_0x4a3e92(0x211)][_0x4a3e92(0x1d5)],await this[_0x4a3e92(0x1e4)](setup['SYSTEM_DP_MODE'],{'val':setup[_0x4a3e92(0x211)][_0x4a3e92(0x1d5)],'ack':!![]}));}catch(_0x2fbaad){this['currentSystemMode']=setup['SYSTEM_MODES']['NORMAL'];}}async[a0_0x3a8276(0x212)](){const _0x5a3ae4=a0_0x3a8276;try{const _0x4ecda8=this[_0x5a3ae4(0x270)][_0x5a3ae4(0x19b)]||[];let _0x14aa8d=![];const _0x2beade=[];for(const _0x61235c of _0x4ecda8){try{const _0x29f26a=await this['getForeignStateAsync'](_0x61235c);_0x29f26a&&(_0x29f26a[_0x5a3ae4(0x255)]===!![]||_0x29f26a[_0x5a3ae4(0x255)]===_0x5a3ae4(0x281)||_0x29f26a[_0x5a3ae4(0x255)]===0x1)&&(_0x14aa8d=!![],_0x2beade[_0x5a3ae4(0x27d)](_0x61235c));}catch(_0x3d52c1){}}return await this['setStateAsync'](_0x5a3ae4(0x19e),{'val':_0x2beade[_0x5a3ae4(0x1c7)](',\x20'),'ack':!![]}),_0x14aa8d&&(this[_0x5a3ae4(0x1d4)]&&(this[_0x5a3ae4(0x190)][_0x5a3ae4(0x1cb)](_0x5a3ae4(0x1ad)),recorder[_0x5a3ae4(0x1d7)](this)),!this['isPresent']&&this[_0x5a3ae4(0x207)]===setup[_0x5a3ae4(0x211)][_0x5a3ae4(0x1d5)]&&await recorder[_0x5a3ae4(0x1a1)](this,!![])),_0x14aa8d;}catch(_0x59bf23){return![];}}async[a0_0x3a8276(0x1f9)](){const _0x368e26=a0_0x3a8276;this[_0x368e26(0x190)][_0x368e26(0x22a)](_0x368e26(0x224)),await aiAgent[_0x368e26(0x1e8)](this),this[_0x368e26(0x21e)](),this['triggerGaitAnalysis'](),this[_0x368e26(0x1ea)]();}async['checkSolarCondition'](){const _0x107a45=a0_0x3a8276,_0x34ce4c=[_0x107a45(0x1bf),_0x107a45(0x259),_0x107a45(0x265)],_0x36eadc=[_0x107a45(0x268),_0x107a45(0x229),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x494eb7 of _0x34ce4c){for(const _0x118028 of _0x36eadc){try{const _0x5bad2c=_0x494eb7+'.'+_0x118028,_0x444a19=await this[_0x107a45(0x23d)](_0x5bad2c);if(_0x444a19&&_0x444a19[_0x107a45(0x255)]){const _0x158693=String(_0x444a19[_0x107a45(0x255)])[_0x107a45(0x26e)]();if(_0x158693['includes']('sonn')||_0x158693[_0x107a45(0x21a)](_0x107a45(0x1f0))||_0x158693['includes']('klar')||_0x158693[_0x107a45(0x21a)](_0x107a45(0x1c2))||_0x158693[_0x107a45(0x21a)]('heiter'))return!![];}}catch(_0x445efc){}}}return![];}[a0_0x3a8276(0x1be)](){const _0xcda694=a0_0x3a8276;if(!this[_0xcda694(0x1e5)])return;try{this[_0xcda694(0x1f7)](_0xcda694(0x205),(_0x48f873,_0x418d7c)=>{const _0x2ff5e6=_0xcda694;_0x418d7c&&_0x418d7c[_0x2ff5e6(0x255)]&&pythonBridge[_0x2ff5e6(0x1e1)](this,_0x2ff5e6(0x1ec),{'sequences':JSON[_0x2ff5e6(0x1c4)](_0x418d7c['val'])});});}catch(_0x47a2fa){}}async['triggerEnergyPrediction'](){const _0xdb27f5=a0_0x3a8276;if(!this[_0xdb27f5(0x1e5)])return;try{const _0x28964e=await recorder[_0xdb27f5(0x1ed)](this);if(_0x28964e===null)return;const _0x4ae600={},_0x22fc45={},_0x5b059a=this[_0xdb27f5(0x270)][_0xdb27f5(0x20f)]||[];for(const _0x5c15ae of _0x5b059a){if(_0x5c15ae[_0xdb27f5(0x1b0)]===_0xdb27f5(0x23f)&&_0x5c15ae[_0xdb27f5(0x1a2)]){const _0x1a892a=this[_0xdb27f5(0x22c)][_0x5c15ae['id']];if(_0x1a892a!==undefined)_0x4ae600[_0x5c15ae[_0xdb27f5(0x1a2)]]=_0x1a892a;if(_0x5c15ae[_0xdb27f5(0x252)])_0x22fc45[_0x5c15ae['location']]=!![];}}const _0x892dac=await this[_0xdb27f5(0x18e)]();let _0x2bf6ce={};try{const _0x2cf1ec=await this[_0xdb27f5(0x1eb)]('analysis.energy.warmupTargets');if(_0x2cf1ec&&_0x2cf1ec['val'])_0x2bf6ce=JSON[_0xdb27f5(0x1c4)](_0x2cf1ec[_0xdb27f5(0x255)]);}catch(_0x438c38){}Object[_0xdb27f5(0x241)](_0x4ae600)[_0xdb27f5(0x219)]>0x0&&(pythonBridge['send'](this,_0xdb27f5(0x248),{'current_temps':_0x4ae600,'t_out':_0x28964e,'is_sunny':_0x892dac,'solar_flags':_0x22fc45,'warmup_targets':_0x2bf6ce}),pythonBridge[_0xdb27f5(0x1e1)](this,_0xdb27f5(0x222),{'current_temps':_0x4ae600,'t_out':_0x28964e,'targets':{}}));}catch(_0x1603ff){}}[a0_0x3a8276(0x21e)](){const _0xc677f=a0_0x3a8276;if(!this['rawEventLog']||this[_0xc677f(0x1ee)][_0xc677f(0x219)]===0x0)return;const _0x5c57fe=new Array(0x60)[_0xc677f(0x1b7)](0x0),_0xb2d04c=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0xc677f(0x1ee)][_0xc677f(0x183)](_0x33d9a4=>{const _0x206bcd=_0xc677f,_0x1966a5=new Date(_0x33d9a4[_0x206bcd(0x200)]);if(_0x1966a5[_0x206bcd(0x238)]()>=_0xb2d04c){const _0x1eaffb=_0x1966a5['getHours'](),_0x5ef856=_0x1966a5['getMinutes'](),_0x1e0395=_0x1eaffb*0x4+Math['floor'](_0x5ef856/0xf);if(_0x1e0395>=0x0&&_0x1e0395<0x60)_0x5c57fe[_0x1e0395]++;}}),this[_0xc677f(0x1e4)](_0xc677f(0x198),{'val':JSON['stringify'](_0x5c57fe),'ack':!![]});}['runPythonHealthCheck'](){const _0x40e63a=a0_0x3a8276;if(!this[_0x40e63a(0x1ce)]||this['dailyDigests'][_0x40e63a(0x219)]<0x2)return;const _0x29375d=this[_0x40e63a(0x1ce)][_0x40e63a(0x1da)](_0xdaa64=>{const _0x4cdadf=_0x40e63a,_0x34c984=(_0xdaa64[_0x4cdadf(0x19c)]||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x34c984]||0x32;});pythonBridge[_0x40e63a(0x1e1)](this,'ANALYZE_TREND',{'values':_0x29375d,'tag':_0x40e63a(0x220)});}}if(require[a0_0x3a8276(0x262)]!==module)module[a0_0x3a8276(0x275)]=_0x5029e9=>new CogniLiving(_0x5029e9);else new CogniLiving();