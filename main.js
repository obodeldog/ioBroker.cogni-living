function a0_0x3264(_0x2da537,_0x3ac8fa){const _0xd5ec2f=a0_0x5d1a();return a0_0x3264=function(_0x1e7660,_0x33e07e){_0x1e7660=_0x1e7660-0x1a0;let _0x5d1ab8=_0xd5ec2f[_0x1e7660];return _0x5d1ab8;},a0_0x3264(_0x2da537,_0x3ac8fa);}const a0_0x575d0e=a0_0x3264;(function(_0x5a39d1,_0xc41731){const _0x16819e=a0_0x3264,_0x28665f=_0x5a39d1();while(!![]){try{const _0x5ac416=-parseInt(_0x16819e(0x2fe))/0x1+-parseInt(_0x16819e(0x2eb))/0x2*(-parseInt(_0x16819e(0x236))/0x3)+-parseInt(_0x16819e(0x27c))/0x4+-parseInt(_0x16819e(0x2ea))/0x5+-parseInt(_0x16819e(0x2d5))/0x6+-parseInt(_0x16819e(0x2e4))/0x7+parseInt(_0x16819e(0x235))/0x8;if(_0x5ac416===_0xc41731)break;else _0x28665f['push'](_0x28665f['shift']());}catch(_0x5f02a2){_0x28665f['push'](_0x28665f['shift']());}}}(a0_0x5d1a,0x9488c));const a0_0x33e07e=(function(){let _0x1f4f60=!![];return function(_0x23f127,_0x134be2){const _0x2b53dd=_0x1f4f60?function(){const _0x2865b1=a0_0x3264;if(_0x134be2){const _0x54ab74=_0x134be2[_0x2865b1(0x208)](_0x23f127,arguments);return _0x134be2=null,_0x54ab74;}}:function(){};return _0x1f4f60=![],_0x2b53dd;};}()),a0_0x1e7660=a0_0x33e07e(this,function(){const _0x26a7c3=a0_0x3264;return a0_0x1e7660[_0x26a7c3(0x1d9)]()[_0x26a7c3(0x2dc)](_0x26a7c3(0x252))[_0x26a7c3(0x1d9)]()[_0x26a7c3(0x2b1)](a0_0x1e7660)[_0x26a7c3(0x2dc)](_0x26a7c3(0x252));});a0_0x1e7660();'use strict';const utils=require(a0_0x575d0e(0x263)),{GoogleGenerativeAI}=require(a0_0x575d0e(0x2e7)),path=require('path'),fs=require('fs'),installer=require('./lib/installer'),scanner=require(a0_0x575d0e(0x226)),schedulers=require('./lib/scheduler'),topology=require(a0_0x575d0e(0x1c0)),setup=require('./lib/setup'),recorder=require(a0_0x575d0e(0x1e6)),pythonBridge=require(a0_0x575d0e(0x205)),aiAgent=require(a0_0x575d0e(0x1d8)),deadMan=require(a0_0x575d0e(0x1e1)),automation=require(a0_0x575d0e(0x2f3)),GEMINI_MODEL=a0_0x575d0e(0x29d);class CogniLiving extends utils[a0_0x575d0e(0x1f0)]{constructor(_0x960f0d){const _0xce0b8b=a0_0x575d0e;super({..._0x960f0d,'name':_0xce0b8b(0x214)}),this[_0xce0b8b(0x2b9)]=[],this['analysisHistory']=[],this[_0xce0b8b(0x25e)]=[],this[_0xce0b8b(0x2a4)]=[],this[_0xce0b8b(0x239)]={},this[_0xce0b8b(0x274)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0xce0b8b(0x2f7)]=!![],this[_0xce0b8b(0x26f)]=null,this['exitGraceTimer']=null,this[_0xce0b8b(0x2c1)]=![],this[_0xce0b8b(0x2e3)]=null,this[_0xce0b8b(0x2db)]=null,this['currentSystemMode']=setup[_0xce0b8b(0x2b3)][_0xce0b8b(0x1ed)],this[_0xce0b8b(0x22b)]=![],this[_0xce0b8b(0x209)]=![],this[_0xce0b8b(0x254)]=null,this[_0xce0b8b(0x2c0)]=null,this[_0xce0b8b(0x223)]=null,this['ltmJob']=null,this[_0xce0b8b(0x1d5)]=null,this[_0xce0b8b(0x27a)]=null,this['briefingJob']=null,this['historyJob']=null,this[_0xce0b8b(0x23b)]=null,this[_0xce0b8b(0x2cc)]=null,this['roomIntegratorTimer']=null,this['dependencyInstallInProgress']=![],this[_0xce0b8b(0x1a1)]=Date[_0xce0b8b(0x2b2)](),this[_0xce0b8b(0x2e6)]=null,this['bootTime']=Date[_0xce0b8b(0x2b2)](),this[_0xce0b8b(0x1a0)]=![],this['pressureBuffer']=[],this[_0xce0b8b(0x1e0)]={'health':!![],'security':!![],'energy':!![],'comfort':!![]},this['on'](_0xce0b8b(0x207),this[_0xce0b8b(0x293)][_0xce0b8b(0x262)](this)),this['on']('stateChange',this[_0xce0b8b(0x20a)][_0xce0b8b(0x262)](this)),this['on']('unload',this['onUnload']['bind'](this)),this['on'](_0xce0b8b(0x1ec),this[_0xce0b8b(0x222)][_0xce0b8b(0x262)](this));}async['onReady'](){const _0x35769c=a0_0x575d0e;this[_0x35769c(0x26e)]['info'](_0x35769c(0x290)+this[_0x35769c(0x1a4)]+_0x35769c(0x258));if(this['config'][_0x35769c(0x2c3)]!==undefined)this[_0x35769c(0x1e0)]['health']=this[_0x35769c(0x267)][_0x35769c(0x2c3)];if(this[_0x35769c(0x267)][_0x35769c(0x265)]!==undefined)this[_0x35769c(0x1e0)]['security']=this[_0x35769c(0x267)][_0x35769c(0x265)];if(this[_0x35769c(0x267)][_0x35769c(0x242)]!==undefined)this['activeModules'][_0x35769c(0x2a6)]=this['config'][_0x35769c(0x242)];if(this['config']['moduleComfort']!==undefined)this[_0x35769c(0x1e0)][_0x35769c(0x23a)]=this[_0x35769c(0x267)][_0x35769c(0x2f5)];if(this['config'][_0x35769c(0x28a)])this[_0x35769c(0x1e0)]={...this[_0x35769c(0x1e0)],...this[_0x35769c(0x267)]['modules']};this[_0x35769c(0x281)]();}async[a0_0x575d0e(0x281)](){const _0x10b2af=a0_0x575d0e;await setup[_0x10b2af(0x268)](this);try{this[_0x10b2af(0x22b)]=await setup[_0x10b2af(0x1ef)](this[_0x10b2af(0x267)][_0x10b2af(0x1d1)]);}catch(_0x9036c6){}if(!this[_0x10b2af(0x267)]['inactivityThresholdHours']||this[_0x10b2af(0x267)]['inactivityThresholdHours']<0.1)this[_0x10b2af(0x267)][_0x10b2af(0x25f)]=0xc;await setup['initHistory'](this),await setup[_0x10b2af(0x1c9)](this);try{const _0x500e1e=await this[_0x10b2af(0x288)](_0x10b2af(0x1cd)),_0x460576=await this['getStateAsync'](_0x10b2af(0x24a));_0x500e1e&&_0x500e1e[_0x10b2af(0x1fb)]&&_0x460576&&_0x460576['val']&&(Date[_0x10b2af(0x2b2)]()-_0x500e1e['ts']<0x4*0xe10*0x3e8&&(this[_0x10b2af(0x2e6)]={'times':JSON[_0x10b2af(0x23f)](_0x500e1e[_0x10b2af(0x1fb)]),'sources':JSON[_0x10b2af(0x23f)](_0x460576['val'])}));}catch(_0x48d789){}if(this[_0x10b2af(0x267)][_0x10b2af(0x2e0)])try{this[_0x10b2af(0x2e3)]=new GoogleGenerativeAI(this[_0x10b2af(0x267)][_0x10b2af(0x2e0)]),this[_0x10b2af(0x2db)]=this[_0x10b2af(0x2e3)][_0x10b2af(0x23d)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}});}catch(_0x4f011c){this[_0x10b2af(0x26e)][_0x10b2af(0x2ae)]('Gemini\x20Init\x20Error:\x20'+_0x4f011c[_0x10b2af(0x1ec)]);}await setup['createAllObjects'](this),await this[_0x10b2af(0x2cb)](),schedulers['initSchedules'](this),await this[_0x10b2af(0x1ea)](_0x10b2af(0x278),{'type':'state','common':{'name':_0x10b2af(0x270),'type':_0x10b2af(0x287),'role':_0x10b2af(0x2f6),'read':!![],'write':![]},'native':{}}),await this[_0x10b2af(0x1ea)]('analysis.activity.roomStats',{'type':_0x10b2af(0x2d2),'common':{'name':_0x10b2af(0x212),'type':'string','role':_0x10b2af(0x2d1),'read':!![],'write':![],'def':'{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}'},'native':{}}),await this['setObjectNotExistsAsync'](_0x10b2af(0x2b7),{'type':_0x10b2af(0x2d2),'common':{'name':_0x10b2af(0x2c9),'type':_0x10b2af(0x291),'role':_0x10b2af(0x2d1),'read':!![],'write':![],'def':_0x10b2af(0x2d3)},'native':{}}),await this['setObjectNotExistsAsync'](_0x10b2af(0x2bf),{'type':_0x10b2af(0x2d2),'common':{'name':_0x10b2af(0x1f1),'type':_0x10b2af(0x291),'role':'text','read':!![],'write':![],'def':_0x10b2af(0x213)},'native':{}}),await this[_0x10b2af(0x1ea)]('analysis.health.geminiDay',{'type':_0x10b2af(0x2d2),'common':{'name':_0x10b2af(0x1ff),'type':_0x10b2af(0x291),'role':_0x10b2af(0x1d2),'read':!![],'write':![],'def':_0x10b2af(0x213)},'native':{}}),await this[_0x10b2af(0x1ea)](_0x10b2af(0x28c),{'type':_0x10b2af(0x2d2),'common':{'name':_0x10b2af(0x2aa),'type':_0x10b2af(0x291),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x10b2af(0x1ea)]('analysis.health.todayRoomDetails',{'type':_0x10b2af(0x2d2),'common':{'name':'Daily\x20Room\x20Details\x20(48x30min)','type':_0x10b2af(0x291),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x10b2af(0x25d),{'type':_0x10b2af(0x2d2),'common':{'name':_0x10b2af(0x28b),'type':_0x10b2af(0x287),'role':_0x10b2af(0x2f6),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x10b2af(0x1ea)](_0x10b2af(0x1cd),{'type':_0x10b2af(0x2d2),'common':{'name':'Warm-Up\x20Time','type':_0x10b2af(0x291),'role':_0x10b2af(0x2d1),'read':!![],'write':![]},'native':{}});try{const _0x5cc11e=await this[_0x10b2af(0x288)]('events.history');if(_0x5cc11e&&_0x5cc11e[_0x10b2af(0x1fb)]){this['eventHistory']=JSON[_0x10b2af(0x23f)](_0x5cc11e[_0x10b2af(0x1fb)]);if(this['isProVersion']){const _0xeec396=await this[_0x10b2af(0x288)]('LTM.rawEventLog');if(_0xeec396&&_0xeec396[_0x10b2af(0x1fb)])this[_0x10b2af(0x25e)]=JSON['parse'](_0xeec396[_0x10b2af(0x1fb)]);}this[_0x10b2af(0x26e)][_0x10b2af(0x1fd)](_0x10b2af(0x28e)+this[_0x10b2af(0x2b9)][_0x10b2af(0x2c4)]+'\x20events\x20from\x20standard\x20storage.');}}catch(_0x43f264){this[_0x10b2af(0x2b9)]=[];}try{const _0xf40ead=await this[_0x10b2af(0x288)](_0x10b2af(0x1a3));if(_0xf40ead&&_0xf40ead[_0x10b2af(0x1fb)])this['dailyDigests']=JSON[_0x10b2af(0x23f)](_0xf40ead[_0x10b2af(0x1fb)]);}catch(_0x158c77){this[_0x10b2af(0x2a4)]=[];}const _0x125436=this[_0x10b2af(0x2a4)][_0x10b2af(0x2c4)]>=(this['config'][_0x10b2af(0x1b0)]||0x7)?_0x10b2af(0x295)+this[_0x10b2af(0x2a4)][_0x10b2af(0x2c4)]+_0x10b2af(0x2fa):_0x10b2af(0x1b8)+this[_0x10b2af(0x2a4)]['length']+'/'+(this[_0x10b2af(0x267)][_0x10b2af(0x1b0)]||0x7)+')';await this[_0x10b2af(0x2b0)](_0x10b2af(0x301),{'val':_0x125436,'ack':!![]}),this[_0x10b2af(0x2bc)]('analysis.trigger'),this[_0x10b2af(0x2bc)](_0x10b2af(0x2d9)),this[_0x10b2af(0x2bc)](_0x10b2af(0x2b5));this[_0x10b2af(0x267)]['infrasoundEnabled']&&this[_0x10b2af(0x267)][_0x10b2af(0x2a7)]&&this[_0x10b2af(0x1e0)]['security']&&this[_0x10b2af(0x269)](this[_0x10b2af(0x267)][_0x10b2af(0x2a7)]);const _0x51cfb1=this['config'][_0x10b2af(0x2e1)];if(_0x51cfb1)for(const _0x25dd64 of _0x51cfb1){await this['subscribeForeignStatesAsync'](_0x25dd64['id']);}const _0x3e293f=this['config']['presenceDevices'];if(_0x3e293f)for(const _0x33c362 of _0x3e293f){await this[_0x10b2af(0x218)](_0x33c362);}const _0x14c898=require(_0x10b2af(0x2dd));if(this[_0x10b2af(0x2da)])this[_0x10b2af(0x2da)]['cancel']();this['historyJob']=_0x14c898[_0x10b2af(0x29e)](_0x10b2af(0x1ba),()=>{const _0x31dccc=_0x10b2af;this[_0x31dccc(0x23e)]();}),setTimeout(()=>this[_0x10b2af(0x285)](),0x1388);if(this[_0x10b2af(0x27f)])clearInterval(this[_0x10b2af(0x27f)]);this[_0x10b2af(0x2e5)](),this[_0x10b2af(0x27f)]=setInterval(async()=>{const _0x231a31=_0x10b2af;await this[_0x231a31(0x2e5)]();},0x3c*0x3e8);if(this[_0x10b2af(0x2cc)])clearInterval(this['healthTrendInterval']);this[_0x10b2af(0x2cc)]=setInterval(()=>{const _0x10b5d8=_0x10b2af;this[_0x10b5d8(0x22b)]&&this[_0x10b5d8(0x1e0)][_0x10b5d8(0x1dd)]&&this['runPythonHealthCheck']();},0x4*0x3c*0x3c*0x3e8);if(this['analysisTimer'])clearInterval(this[_0x10b2af(0x254)]);this['activeModules'][_0x10b2af(0x2a6)]&&(this[_0x10b2af(0x254)]=setInterval(()=>{const _0x200996=_0x10b2af;this[_0x200996(0x1ae)]();},0xf*0x3c*0x3e8),setTimeout(()=>this[_0x10b2af(0x1ae)](),0x2710));if(this['calendarCheckTimer'])clearInterval(this['calendarCheckTimer']);this[_0x10b2af(0x267)]['useCalendar']&&this[_0x10b2af(0x1e0)][_0x10b2af(0x2a6)]&&(this[_0x10b2af(0x2c0)]=setInterval(()=>{const _0x9e19c4=_0x10b2af;automation[_0x9e19c4(0x2ee)](this);},0x2*0x3c*0x3e8),setTimeout(()=>automation['checkCalendarTriggers'](this),0x3a98));if(this['presenceCheckTimer'])clearInterval(this[_0x10b2af(0x223)]);this[_0x10b2af(0x267)][_0x10b2af(0x289)]&&this[_0x10b2af(0x267)][_0x10b2af(0x289)][_0x10b2af(0x2c4)]>0x0&&(this[_0x10b2af(0x223)]=setInterval(async()=>{const _0x1cbb91=_0x10b2af;await this[_0x1cbb91(0x250)]();},0x3c*0x3e8),setTimeout(async()=>await this[_0x10b2af(0x250)](),0x1388));const _0x152cd5=path[_0x10b2af(0x237)](__dirname,'.venv','bin',_0x10b2af(0x2a8));pythonBridge[_0x10b2af(0x1f6)](this,_0x152cd5);}['onUnload'](_0x173cc7){const _0x1d5e14=a0_0x575d0e;if(this['historyJob'])this['historyJob'][_0x1d5e14(0x206)]();this[_0x1d5e14(0x23e)]()['then'](()=>{const _0x52c5d4=_0x1d5e14;if(this[_0x52c5d4(0x254)])clearInterval(this[_0x52c5d4(0x254)]);if(this[_0x52c5d4(0x2c0)])clearInterval(this[_0x52c5d4(0x2c0)]);if(this[_0x52c5d4(0x223)])clearInterval(this['presenceCheckTimer']);if(this[_0x52c5d4(0x27f)])clearInterval(this['roomIntegratorTimer']);recorder['abortExitTimer'](this),pythonBridge['stopService'](this),_0x173cc7();});}async[a0_0x575d0e(0x285)](){const _0x4944c7=a0_0x575d0e;if(!this['eventHistory']||this[_0x4944c7(0x2b9)][_0x4944c7(0x2c4)]===0x0){this[_0x4944c7(0x26e)][_0x4944c7(0x1f7)](_0x4944c7(0x1ac));return;}this[_0x4944c7(0x26e)][_0x4944c7(0x1fd)](_0x4944c7(0x1d4)+this['eventHistory'][_0x4944c7(0x2c4)]+_0x4944c7(0x259));const _0x17f9e9=new Date()[_0x4944c7(0x1be)](0x0,0x0,0x0,0x0),_0x3db158=_0x4944c7(0x2b7);let _0x3a2b52={'history':{},'date':new Date()[_0x4944c7(0x22c)]()};const _0x602914=_0x4944c7(0x28c),_0x780eea=_0x4944c7(0x2cd);let _0x28ed71=new Array(0x30)['fill'](0x0),_0x558b7b=Array[_0x4944c7(0x21d)]({'length':0x30},()=>[]);this[_0x4944c7(0x2b9)][_0x4944c7(0x2e8)](_0x2a27be=>{const _0x18a7fd=_0x4944c7;if(_0x2a27be[_0x18a7fd(0x1bd)]>=_0x17f9e9){if(recorder['isRelevantActivity'](_0x2a27be[_0x18a7fd(0x245)],_0x2a27be[_0x18a7fd(0x2f6)])){const _0x3cf660=new Date(_0x2a27be['timestamp']),_0x45bcfa=_0x3cf660[_0x18a7fd(0x1fa)]()*0x2+(_0x3cf660['getMinutes']()>=0x1e?0x1:0x0);if(_0x45bcfa<0x30){_0x28ed71[_0x45bcfa]++;const _0x5630c1=_0x2a27be[_0x18a7fd(0x28d)]||_0x2a27be['name']||'?';let _0x399726=_0x558b7b[_0x45bcfa];!_0x399726[_0x18a7fd(0x264)](_0x5630c1)&&_0x399726['push'](_0x5630c1);}const _0x4fe14d=_0x3cf660[_0x18a7fd(0x1fa)]();let _0x53cb4c=_0x2a27be[_0x18a7fd(0x28d)]||_0x18a7fd(0x1a7);const _0x102510=(this['config']['devices']||[])['find'](_0x2c7135=>_0x2c7135['location']===_0x53cb4c);if(_0x102510)_0x53cb4c=_0x102510[_0x18a7fd(0x28d)];if(!_0x3a2b52[_0x18a7fd(0x1de)][_0x53cb4c])_0x3a2b52[_0x18a7fd(0x1de)][_0x53cb4c]=new Array(0x18)[_0x18a7fd(0x228)](0x0);if(_0x3a2b52[_0x18a7fd(0x1de)][_0x53cb4c][_0x4fe14d]<0x3c)_0x3a2b52[_0x18a7fd(0x1de)][_0x53cb4c][_0x4fe14d]++;}}});const _0xabeb6b=await this[_0x4944c7(0x288)](_0x3db158);(!_0xabeb6b||!_0xabeb6b[_0x4944c7(0x1fb)]||_0xabeb6b[_0x4944c7(0x1fb)]==='{}'||_0xabeb6b[_0x4944c7(0x1fb)][_0x4944c7(0x264)]('\x22history\x22:{}'))&&await this[_0x4944c7(0x2b0)](_0x3db158,{'val':JSON['stringify'](_0x3a2b52),'ack':!![]}),await this[_0x4944c7(0x2b0)](_0x602914,{'val':JSON[_0x4944c7(0x210)](_0x28ed71),'ack':!![]}),await this['setStateAsync'](_0x780eea,{'val':JSON['stringify'](_0x558b7b),'ack':!![]}),this['log'][_0x4944c7(0x1fd)](_0x4944c7(0x200));}async[a0_0x575d0e(0x23e)](){const _0x340263=a0_0x575d0e;if(!this[_0x340263(0x1e0)][_0x340263(0x1dd)])return;const _0x5e33fa=new Date()['toISOString']()[_0x340263(0x1ca)]('T')[0x0];this['log'][_0x340263(0x1b3)](_0x340263(0x234)+_0x5e33fa+_0x340263(0x2fd));try{const [_0x1b1dab,_0x4d87df,_0x29f771,_0xcf3b4a,_0x3ae7a7,_0x4c2d44]=await Promise[_0x340263(0x1c6)]([this[_0x340263(0x288)](_0x340263(0x2b7)),this[_0x340263(0x288)]('analysis.health.geminiNight'),this[_0x340263(0x288)](_0x340263(0x201)),this[_0x340263(0x288)](_0x340263(0x1bb)),this[_0x340263(0x288)]('analysis.health.todayVector'),this[_0x340263(0x288)]('analysis.health.activityTrend')]),_0x4339b2=this[_0x340263(0x2b9)]['filter'](_0x2fe3e8=>_0x2fe3e8[_0x340263(0x1bd)]>=new Date()[_0x340263(0x1be)](0x0,0x0,0x0,0x0)&&(_0x2fe3e8[_0x340263(0x1a5)][_0x340263(0x219)]()['includes'](_0x340263(0x1e5))||_0x2fe3e8[_0x340263(0x1a5)]['toLowerCase']()[_0x340263(0x264)](_0x340263(0x1c5)))&&(_0x2fe3e8['value']===!![]||_0x2fe3e8[_0x340263(0x2f6)]===_0x340263(0x1c1)))['length'];let _0x4aec49=0x55;if(_0x4c2d44&&_0x4c2d44[_0x340263(0x1fb)]!==undefined)_0x4aec49=Math['min'](0x64,Math[_0x340263(0x2ab)](0x14,Math[_0x340263(0x232)](0x50+Number(_0x4c2d44['val'])*0x5)));const _0xd0bb7c={'date':_0x5e33fa,'timestamp':Date[_0x340263(0x2b2)](),'roomHistory':_0x1b1dab?.[_0x340263(0x1fb)]?JSON[_0x340263(0x23f)](_0x1b1dab[_0x340263(0x1fb)]):{},'geminiNight':_0x4d87df?.[_0x340263(0x1fb)]||_0x340263(0x1c7),'geminiDay':_0x29f771?.[_0x340263(0x1fb)]||_0x340263(0x1c7),'anomalyScore':_0xcf3b4a?.[_0x340263(0x1fb)]||0.1,'todayVector':_0x3ae7a7?.[_0x340263(0x1fb)]?JSON[_0x340263(0x23f)](_0x3ae7a7[_0x340263(0x1fb)]):new Array(0x30)[_0x340263(0x228)](0x0),'batteryLevel':_0x4aec49,'freshAirCount':_0x4339b2,'eventHistory':this[_0x340263(0x2b9)]},_0x262b7c=utils[_0x340263(0x2c7)](),_0x3314e2=path[_0x340263(0x237)](_0x262b7c,_0x340263(0x214),_0x340263(0x1de));if(!fs[_0x340263(0x2df)](_0x3314e2))fs['mkdirSync'](_0x3314e2,{'recursive':!![]});const _0xc5aa66=path[_0x340263(0x237)](_0x3314e2,_0x5e33fa+_0x340263(0x1b7));fs[_0x340263(0x2d6)](_0xc5aa66,JSON[_0x340263(0x210)](_0xd0bb7c)),this[_0x340263(0x26e)][_0x340263(0x1fd)]('âœ…\x20History\x20saved:\x20'+_0xc5aa66);}catch(_0x27968b){this['log'][_0x340263(0x2ae)](_0x340263(0x280)+_0x27968b[_0x340263(0x1ec)]);}}async[a0_0x575d0e(0x2e5)](){const _0x41936d=a0_0x575d0e;if(!this[_0x41936d(0x2f7)])return;try{let _0x5355b9=null;try{const _0x501153=await this[_0x41936d(0x288)](_0x41936d(0x255)),_0x74ba5e=await this[_0x41936d(0x288)](_0x41936d(0x2ef));if(_0x501153&&_0x501153['val']&&_0x74ba5e&&_0x74ba5e[_0x41936d(0x1fb)]&&_0x74ba5e[_0x41936d(0x1fb)]>0.3){if(_0x501153[_0x41936d(0x1fb)]!==_0x41936d(0x1a7)&&_0x501153['val']!=='Init...')_0x5355b9=_0x501153['val'];}}catch(_0x4fa0c4){}if(!_0x5355b9){const _0xc5cb37=this[_0x41936d(0x267)]['devices']||[];for(const _0x4ee0c2 of _0xc5cb37){if(_0x4ee0c2[_0x41936d(0x245)]===_0x41936d(0x229)&&_0x4ee0c2['location'])try{const _0x25fee9=await this['getForeignStateAsync'](_0x4ee0c2['id']);if(_0x25fee9&&(_0x25fee9[_0x41936d(0x1fb)]===!![]||_0x25fee9['val']==='on'||_0x25fee9[_0x41936d(0x1fb)]===0x1)){_0x5355b9=_0x4ee0c2[_0x41936d(0x28d)];break;}}catch(_0x1e5605){}}}if(!_0x5355b9)return;const _0x56d6d2=this[_0x41936d(0x267)]['devices']||[];let _0x36f73b=_0x5355b9;const _0x1166fd=_0x56d6d2[_0x41936d(0x220)](_0x5da8a3=>_0x5da8a3[_0x41936d(0x28d)]&&_0x5da8a3[_0x41936d(0x28d)][_0x41936d(0x219)]()===_0x5355b9['toLowerCase']());if(_0x1166fd)_0x36f73b=_0x1166fd[_0x41936d(0x28d)];const _0x1b916c='analysis.activity.roomHistory',_0x27808e=await this['getStateAsync'](_0x1b916c),_0x5753cd=new Date()[_0x41936d(0x22c)]();let _0x21c490={'history':{},'date':_0x5753cd};if(_0x27808e&&_0x27808e['val'])try{_0x21c490=JSON[_0x41936d(0x23f)](_0x27808e['val']);}catch(_0x171171){}_0x21c490['date']!==_0x5753cd&&(_0x21c490[_0x41936d(0x1de)]={},_0x21c490[_0x41936d(0x253)]=_0x5753cd);if(!_0x21c490[_0x41936d(0x1de)][_0x36f73b])_0x21c490['history'][_0x36f73b]=new Array(0x18)[_0x41936d(0x228)](0x0);const _0x1e3039=new Date()['getHours']();if(_0x21c490['history'][_0x36f73b][_0x1e3039]<0x3c)_0x21c490[_0x41936d(0x1de)][_0x36f73b][_0x1e3039]++;await this[_0x41936d(0x2b0)](_0x1b916c,{'val':JSON['stringify'](_0x21c490),'ack':!![]});}catch(_0x25c13b){this['log']['warn'](_0x41936d(0x20e)+_0x25c13b[_0x41936d(0x1ec)]);}}async['onMessage'](_0x1f384e){const _0x8ed4=a0_0x575d0e;if(typeof _0x1f384e==='object'&&_0x1f384e[_0x8ed4(0x1ec)]){if(_0x1f384e[_0x8ed4(0x2c6)]===_0x8ed4(0x22a)){const _0x348c10=_0x1f384e['message'][_0x8ed4(0x253)],_0x3213e5=utils[_0x8ed4(0x2c7)](),_0x217f42=path[_0x8ed4(0x237)](_0x3213e5,_0x8ed4(0x214),_0x8ed4(0x1de),_0x348c10+_0x8ed4(0x1b7));if(fs[_0x8ed4(0x2df)](_0x217f42))try{const _0x98e019=JSON[_0x8ed4(0x23f)](fs[_0x8ed4(0x2bd)](_0x217f42,_0x8ed4(0x24b)));this[_0x8ed4(0x204)](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e['command'],{'success':!![],'data':_0x98e019},_0x1f384e[_0x8ed4(0x225)]);}catch(_0x3050fe){this[_0x8ed4(0x204)](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e[_0x8ed4(0x2c6)],{'success':![],'error':_0x8ed4(0x21a)},_0x1f384e[_0x8ed4(0x225)]);}else this[_0x8ed4(0x204)](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e[_0x8ed4(0x2c6)],{'success':![],'error':_0x8ed4(0x299)},_0x1f384e[_0x8ed4(0x225)]);}else{if(_0x1f384e[_0x8ed4(0x2c6)]==='getOverviewData'){const _0x233411=this[_0x8ed4(0x2a4)]['length'];let _0x4fdc8d=new Array(0x30)[_0x8ed4(0x228)](0x0),_0x361bb6=Array[_0x8ed4(0x21d)]({'length':0x30},()=>[]);try{const _0x3a6ba3=await this[_0x8ed4(0x288)]('analysis.health.todayVector');if(_0x3a6ba3&&_0x3a6ba3[_0x8ed4(0x1fb)])_0x4fdc8d=JSON[_0x8ed4(0x23f)](_0x3a6ba3[_0x8ed4(0x1fb)]);const _0x5281d3=await this['getStateAsync'](_0x8ed4(0x2cd));if(_0x5281d3&&_0x5281d3[_0x8ed4(0x1fb)])_0x361bb6=JSON[_0x8ed4(0x23f)](_0x5281d3[_0x8ed4(0x1fb)]);}catch(_0x54b31d){}let _0x3bcd77=new Array(0x30)[_0x8ed4(0x228)](0x0);try{const _0x122667=new Date();_0x122667[_0x8ed4(0x306)](_0x122667[_0x8ed4(0x21c)]()-0x1);const _0x299449=_0x122667['toISOString']()[_0x8ed4(0x1ca)]('T')[0x0],_0x3699f9=utils['getAbsoluteDefaultDataDir'](),_0x445b91=path['join'](_0x3699f9,'cogni-living',_0x8ed4(0x1de),_0x299449+_0x8ed4(0x1b7));if(fs[_0x8ed4(0x2df)](_0x445b91)){const _0x3604e4=JSON[_0x8ed4(0x23f)](fs[_0x8ed4(0x2bd)](_0x445b91,'utf8'));if(_0x3604e4&&_0x3604e4[_0x8ed4(0x2ec)])_0x3bcd77=_0x3604e4['todayVector'];}}catch(_0x23d911){}let _0x23f79e={'today':{},'yesterday':{}};try{const _0x10519b=await this[_0x8ed4(0x288)]('analysis.activity.roomStats');if(_0x10519b&&_0x10519b['val'])_0x23f79e=JSON['parse'](_0x10519b[_0x8ed4(0x1fb)]);}catch(_0x5bcbe4){}let _0x33cf75=null;try{const _0x1555ed=await this[_0x8ed4(0x288)]('analysis.health.activityTrend');if(_0x1555ed)_0x33cf75=_0x1555ed['val'];}catch(_0x4b2dda){}if(_0x33cf75===undefined||_0x33cf75===null){const _0x314d0a=_0x4fdc8d[_0x8ed4(0x1ad)]((_0x3fd4ad,_0x1bfd84)=>_0x3fd4ad+_0x1bfd84,0x0),_0x523491=Math[_0x8ed4(0x1da)](0x2,Math[_0x8ed4(0x2ab)](-0x2,(0x64-_0x314d0a)/0x32));_0x33cf75=_0x523491;}let _0x3786b3=![],_0x387856='',_0x4cb21e='',_0x8e472d='';try{const _0x5a04ce=await this['getStateAsync'](_0x8ed4(0x29f));if(_0x5a04ce&&_0x5a04ce[_0x8ed4(0x1fb)]){_0x3786b3=!![];const _0x14ba09=await this['getStateAsync'](_0x8ed4(0x251));_0x387856=_0x14ba09?_0x14ba09[_0x8ed4(0x1fb)]:'';const _0x407187=await this[_0x8ed4(0x288)](_0x8ed4(0x271));_0x4cb21e=_0x407187?_0x407187[_0x8ed4(0x1fb)]:'';const _0x33be47=await this[_0x8ed4(0x288)](_0x8ed4(0x202));_0x8e472d=_0x33be47?_0x33be47[_0x8ed4(0x1fb)]:'';}}catch(_0xf7947d){}const _0x251b80=await this[_0x8ed4(0x276)](),_0x5a3845=(this[_0x8ed4(0x267)][_0x8ed4(0x2e1)]||[])[_0x8ed4(0x1e7)](_0x15ab9c=>_0x15ab9c['isSolar']),_0x21b0c5=_0x251b80&&_0x5a3845;let _0x18943f='';try{const _0x253dd6=await this[_0x8ed4(0x288)](_0x8ed4(0x1e3));if(_0x253dd6&&_0x253dd6['val'])_0x18943f=_0x253dd6['val'];}catch(_0x21e63e){}this[_0x8ed4(0x204)](_0x1f384e['from'],_0x1f384e['command'],{'success':!![],'eventHistory':this[_0x8ed4(0x2b9)][_0x8ed4(0x248)](0x0,0x7d0),'stats':{'digestCount':_0x233411,'isPresent':this[_0x8ed4(0x2f7)],'hourlyActivity':_0x4fdc8d,'hourlyDetails':_0x361bb6,'yesterdayActivity':_0x3bcd77,'solarActive':_0x21b0c5,'presenceWho':_0x18943f,'roomStats':_0x23f79e,'activityTrend':_0x33cf75,'modules':this['activeModules']},'automation':{'detected':_0x3786b3,'description':_0x387856,'targetId':_0x4cb21e,'targetValue':_0x8e472d}},_0x1f384e['callback']);}else{if(_0x1f384e['command']==='checkThermostats')try{const _0x1bd981=await automation[_0x8ed4(0x22e)](this);this[_0x8ed4(0x204)](_0x1f384e['from'],_0x1f384e[_0x8ed4(0x2c6)],{'success':!![],'results':_0x1bd981},_0x1f384e[_0x8ed4(0x225)]);}catch(_0x340473){this[_0x8ed4(0x204)](_0x1f384e['from'],_0x1f384e[_0x8ed4(0x2c6)],{'success':![],'error':_0x340473['message']},_0x1f384e[_0x8ed4(0x225)]);}else{if(_0x1f384e['command']==='scanDevices')try{const _0x19b6ae=await scanner['scanForDevices'](this,_0x1f384e[_0x8ed4(0x1ec)]||{});this[_0x8ed4(0x204)](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e['command'],{'success':!![],'devices':_0x19b6ae},_0x1f384e[_0x8ed4(0x225)]);}catch(_0x5791c0){}else{if(_0x1f384e[_0x8ed4(0x2c6)]===_0x8ed4(0x1a6)){const _0x573cfc=await this[_0x8ed4(0x241)](_0x8ed4(0x1eb),_0x8ed4(0x2d7)),_0x660cd5=[];if(_0x573cfc)for(const _0x5d9afb in _0x573cfc){let _0x266bee=_0x573cfc[_0x5d9afb][_0x8ed4(0x21e)][_0x8ed4(0x1a5)];if(_0x266bee&&typeof _0x266bee===_0x8ed4(0x1ce))_0x266bee=_0x266bee['de']||_0x266bee['en']||Object['values'](_0x266bee)[0x0]||JSON['stringify'](_0x266bee);_0x660cd5['push']({'id':_0x5d9afb,'name':String(_0x266bee||_0x5d9afb)});}const _0x8e72c=await this['getForeignObjectsAsync'](_0x8ed4(0x304),_0x8ed4(0x2d7)),_0x69c067=[];if(_0x8e72c)for(const _0x3f2b9b in _0x8e72c){let _0x4f8517=_0x8e72c[_0x3f2b9b][_0x8ed4(0x21e)]['name'];if(_0x4f8517&&typeof _0x4f8517===_0x8ed4(0x1ce))_0x4f8517=_0x4f8517['de']||_0x4f8517['en']||Object[_0x8ed4(0x29a)](_0x4f8517)[0x0]||JSON[_0x8ed4(0x210)](_0x4f8517);_0x69c067[_0x8ed4(0x249)](String(_0x4f8517||_0x3f2b9b[_0x8ed4(0x1ca)]('.')[_0x8ed4(0x24f)]()));}this['sendTo'](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e[_0x8ed4(0x2c6)],{'success':!![],'enums':_0x660cd5,'rooms':_0x69c067},_0x1f384e[_0x8ed4(0x225)]);}else{if(_0x1f384e['command']===_0x8ed4(0x2ba))try{const _0x56b4ae=await this[_0x8ed4(0x1d7)](_0x8ed4(0x305),_0x8ed4(0x20b),{'startkey':_0x8ed4(0x2ce),'endkey':_0x8ed4(0x240)}),_0x606f1=new Set();if(_0x56b4ae&&_0x56b4ae['rows'])for(const _0x4b2b64 of _0x56b4ae[_0x8ed4(0x282)]){const _0x468061=_0x4b2b64['id'][_0x8ed4(0x227)](_0x8ed4(0x24c),''),_0x74a57b=await this[_0x8ed4(0x1f3)](_0x468061+_0x8ed4(0x303));let _0x3d60e4=![];if(_0x74a57b&&_0x74a57b['val']){const _0x189759=typeof _0x74a57b[_0x8ed4(0x1fb)]===_0x8ed4(0x291)?JSON['parse'](_0x74a57b[_0x8ed4(0x1fb)]):_0x74a57b[_0x8ed4(0x1fb)];Array['isArray'](_0x189759)&&_0x189759['forEach'](_0x185829=>{const _0x116ede=_0x8ed4;_0x185829[_0x116ede(0x27d)]&&(_0x606f1['add'](_0x185829['calendarName']),_0x3d60e4=!![]);});}!_0x3d60e4&&_0x606f1[_0x8ed4(0x2cf)](_0x468061);}const _0x54d9dd=Array[_0x8ed4(0x21d)](_0x606f1);if(_0x54d9dd[_0x8ed4(0x2c4)]===0x0)_0x54d9dd['push']('Standard');this[_0x8ed4(0x204)](_0x1f384e['from'],_0x1f384e[_0x8ed4(0x2c6)],{'success':!![],'names':_0x54d9dd},_0x1f384e[_0x8ed4(0x225)]);}catch(_0x2f4f67){this['sendTo'](_0x1f384e['from'],_0x1f384e['command'],{'success':![],'error':_0x8ed4(0x275)+_0x2f4f67[_0x8ed4(0x1ec)]},_0x1f384e[_0x8ed4(0x225)]);}else{if(_0x1f384e['command']===_0x8ed4(0x1aa))try{await automation[_0x8ed4(0x2f0)](this),this['sendTo'](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e[_0x8ed4(0x2c6)],{'success':!![]},_0x1f384e[_0x8ed4(0x225)]);}catch(_0x40ce07){this[_0x8ed4(0x26e)][_0x8ed4(0x1f7)](_0x8ed4(0x2c2)+_0x40ce07[_0x8ed4(0x1ec)]),this[_0x8ed4(0x204)](_0x1f384e['from'],_0x1f384e[_0x8ed4(0x2c6)],{'success':![],'error':_0x40ce07[_0x8ed4(0x1ec)]},_0x1f384e[_0x8ed4(0x225)]);}else{if(_0x1f384e[_0x8ed4(0x2c6)]===_0x8ed4(0x2a1))try{const _0x273995=_0x1f384e[_0x8ed4(0x1ec)]?_0x1f384e[_0x8ed4(0x1ec)]['apiKey']:'';if(!_0x273995)throw new Error(_0x8ed4(0x1a8));const _0x544302=new GoogleGenerativeAI(_0x273995),_0x5860b7=_0x544302['getGenerativeModel']({'model':GEMINI_MODEL}),_0x4e62fe=await _0x5860b7[_0x8ed4(0x2e2)](_0x8ed4(0x1f4)),_0x370d4b=await _0x4e62fe[_0x8ed4(0x1fc)],_0x19a2a1=_0x370d4b[_0x8ed4(0x1d2)]();this['sendTo'](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e[_0x8ed4(0x2c6)],{'success':!![],'message':_0x8ed4(0x1c3)+_0x19a2a1[_0x8ed4(0x2d0)](0x0,0x14)+_0x8ed4(0x2fd)},_0x1f384e[_0x8ed4(0x225)]);}catch(_0x27c9d8){this[_0x8ed4(0x204)](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e[_0x8ed4(0x2c6)],{'success':![],'message':_0x27c9d8['message']},_0x1f384e[_0x8ed4(0x225)]);}else{if(_0x1f384e[_0x8ed4(0x2c6)]===_0x8ed4(0x2ff))try{const _0x14476d=await this[_0x8ed4(0x276)](),_0x1d341e=await this[_0x8ed4(0x1d7)](_0x8ed4(0x305),_0x8ed4(0x20b),{'startkey':_0x8ed4(0x2ce),'endkey':'system.adapter.ical.é¦™'}),_0x35a8b8=_0x1d341e&&_0x1d341e[_0x8ed4(0x282)]?_0x1d341e[_0x8ed4(0x282)][_0x8ed4(0x2c4)]:0x0;this[_0x8ed4(0x204)](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e[_0x8ed4(0x2c6)],{'success':!![],'weather':_0x8ed4(0x2c5)+_0x14476d+',\x20Temp:\x20'+(this[_0x8ed4(0x239)][this[_0x8ed4(0x267)]['outdoorSensorId']]||'?')+'Â°C','calendar':_0x35a8b8+_0x8ed4(0x2d4)},_0x1f384e[_0x8ed4(0x225)]);}catch(_0x540a33){this[_0x8ed4(0x204)](_0x1f384e[_0x8ed4(0x21d)],_0x1f384e[_0x8ed4(0x2c6)],{'success':![]},_0x1f384e['callback']);}}}}}}}}}}}[a0_0x575d0e(0x247)](){const _0x16b1c7=a0_0x575d0e;if(!this[_0x16b1c7(0x1e0)][_0x16b1c7(0x1dd)])return;this['log'][_0x16b1c7(0x1b3)](_0x16b1c7(0x215));try{const _0x45373a=this[_0x16b1c7(0x25e)]||[];pythonBridge[_0x16b1c7(0x2f9)](this,_0x16b1c7(0x1f8),{'events':_0x45373a});}catch(_0x1989f4){this[_0x16b1c7(0x26e)][_0x16b1c7(0x1f7)]('Failed\x20to\x20trigger\x20Python\x20Health\x20Check');}}async[a0_0x575d0e(0x20a)](_0x3bac77,_0xdaef2c){const _0x7a3cf5=a0_0x575d0e;if(!_0xdaef2c||this[_0x7a3cf5(0x203)])return;if(_0x3bac77['includes'](_0x7a3cf5(0x1d3))&&_0x3bac77[_0x7a3cf5(0x277)](_0x7a3cf5(0x1ee))&&_0xdaef2c[_0x7a3cf5(0x1fb)])return;if(this['config'][_0x7a3cf5(0x2de)]&&_0x3bac77===this[_0x7a3cf5(0x267)][_0x7a3cf5(0x2a7)]&&this[_0x7a3cf5(0x1e0)][_0x7a3cf5(0x1e2)]){this[_0x7a3cf5(0x1b6)](_0xdaef2c[_0x7a3cf5(0x1fb)]);return;}if(_0xdaef2c[_0x7a3cf5(0x1b1)]&&_0x3bac77[_0x7a3cf5(0x277)](_0x7a3cf5(0x1d6)))return;if(_0x3bac77===this['namespace']+_0x7a3cf5(0x266)){if(_0xdaef2c[_0x7a3cf5(0x1fb)]&&Object['values'](setup[_0x7a3cf5(0x2b3)])[_0x7a3cf5(0x264)](_0xdaef2c[_0x7a3cf5(0x1fb)])){this['currentSystemMode']=_0xdaef2c['val'];if(_0xdaef2c[_0x7a3cf5(0x1fb)]===setup[_0x7a3cf5(0x2b3)][_0x7a3cf5(0x2a3)])await recorder[_0x7a3cf5(0x260)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x7a3cf5(0x22b)]){let _0x3a0e7f=![],_0xa913ce=0x0,_0xbf72bd='manual';if(this['currentSystemMode']===_0x7a3cf5(0x26d))_0x3a0e7f=!![],_0xa913ce=0x168,_0xbf72bd=_0x7a3cf5(0x22d);else this['currentSystemMode']===_0x7a3cf5(0x25a)&&(_0x3a0e7f=!![],_0xa913ce=0x5a0,_0xbf72bd=_0x7a3cf5(0x1af));pythonBridge[_0x7a3cf5(0x2f9)](this,_0x7a3cf5(0x26c),{'active':_0x3a0e7f,'duration':_0xa913ce,'label':_0xbf72bd}),await this[_0x7a3cf5(0x2b0)]('analysis.security.learningStatus',{'val':JSON[_0x7a3cf5(0x210)]({'active':_0x3a0e7f,'label':_0xbf72bd,'timestamp':Date[_0x7a3cf5(0x2b2)]()}),'ack':!![]});}}if(!_0xdaef2c[_0x7a3cf5(0x1b1)])this[_0x7a3cf5(0x286)](_0x3bac77,{'val':this[_0x7a3cf5(0x231)],'ack':!![]});return;}if(_0x3bac77[_0x7a3cf5(0x277)](_0x7a3cf5(0x24a))&&_0xdaef2c[_0x7a3cf5(0x1b1)])this['protectAiMemory'](_0xdaef2c[_0x7a3cf5(0x1fb)]);if(_0x3bac77['endsWith']('analysis.energy.warmupTimes')&&_0xdaef2c['ack']&&this[_0x7a3cf5(0x1e0)]['energy'])automation[_0x7a3cf5(0x2ee)](this);if(!_0xdaef2c['ack']){if(_0x3bac77['includes'](_0x7a3cf5(0x2fc))&&_0xdaef2c['val']){this['setState'](_0x3bac77,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0x3bac77[_0x7a3cf5(0x264)](_0x7a3cf5(0x256))&&_0xdaef2c[_0x7a3cf5(0x1fb)]){this['setState'](_0x3bac77,{'val':![],'ack':!![]});if(this[_0x7a3cf5(0x22b)])aiAgent[_0x7a3cf5(0x2bb)](this,pythonBridge);return;}if(_0x3bac77[_0x7a3cf5(0x264)](_0x7a3cf5(0x2b4))&&_0xdaef2c['val']){this[_0x7a3cf5(0x286)](_0x3bac77,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0x3bac77['includes']('automation.triggerAction')&&_0xdaef2c[_0x7a3cf5(0x1fb)]){this[_0x7a3cf5(0x286)](_0x3bac77,{'val':![],'ack':!![]}),aiAgent[_0x7a3cf5(0x2ac)](this);return;}if(_0x3bac77['includes']('analysis.training.triggerSecurity')&&_0xdaef2c['val']){this[_0x7a3cf5(0x286)](_0x3bac77,{'val':![],'ack':!![]});if(this[_0x7a3cf5(0x22b)])try{const _0x2145bf=await this[_0x7a3cf5(0x288)](_0x7a3cf5(0x257));if(_0x2145bf&&_0x2145bf[_0x7a3cf5(0x1fb)]){const _0x1c4ad4=JSON[_0x7a3cf5(0x23f)](_0x2145bf['val']);this[_0x7a3cf5(0x2b0)](_0x7a3cf5(0x1cf),{'val':_0x7a3cf5(0x20c),'ack':!![]}),pythonBridge[_0x7a3cf5(0x2f9)](this,'TRAIN_SECURITY',{'sequences':_0x1c4ad4});}}catch(_0x5f4912){}return;}if(_0x3bac77[_0x7a3cf5(0x264)]('analysis.training.triggerHealth')&&_0xdaef2c[_0x7a3cf5(0x1fb)]){this[_0x7a3cf5(0x286)](_0x3bac77,{'val':![],'ack':!![]});try{aiAgent[_0x7a3cf5(0x1b5)](this,_0x7a3cf5(0x272)),setTimeout(()=>aiAgent[_0x7a3cf5(0x1b5)](this,_0x7a3cf5(0x26a)),0x2ee0);if(this[_0x7a3cf5(0x22b)]){this['runPythonHealthCheck']();const _0x45cf02=await this['getStateAsync']('LTM.dailyDigests');if(_0x45cf02&&_0x45cf02[_0x7a3cf5(0x1fb)])pythonBridge[_0x7a3cf5(0x2f9)](this,_0x7a3cf5(0x261),{'digests':JSON[_0x7a3cf5(0x23f)](_0x45cf02[_0x7a3cf5(0x1fb)])});}}catch(_0x546249){this['log'][_0x7a3cf5(0x1f7)](_0x7a3cf5(0x2f1)+_0x546249[_0x7a3cf5(0x1ec)]);}return;}if(_0x3bac77[_0x7a3cf5(0x264)]('analysis.training.triggerEnergy')&&_0xdaef2c[_0x7a3cf5(0x1fb)]){this[_0x7a3cf5(0x286)](_0x3bac77,{'val':![],'ack':!![]}),await this[_0x7a3cf5(0x1ae)]();return;}if(_0x3bac77[_0x7a3cf5(0x264)](_0x7a3cf5(0x20f))&&_0xdaef2c[_0x7a3cf5(0x1fb)]){this['setState'](_0x3bac77,{'val':![],'ack':!![]});if(this[_0x7a3cf5(0x22b)])try{const _0x28dfcf=await this[_0x7a3cf5(0x288)]('LTM.rawEventLog');if(_0x28dfcf&&_0x28dfcf[_0x7a3cf5(0x1fb)]){const _0x5ea8d6={};if(this[_0x7a3cf5(0x267)][_0x7a3cf5(0x2e1)])this[_0x7a3cf5(0x267)][_0x7a3cf5(0x2e1)][_0x7a3cf5(0x2e8)](_0x178f46=>{const _0x53f3da=_0x7a3cf5;if(_0x178f46['id']&&_0x178f46[_0x53f3da(0x245)])_0x5ea8d6[_0x178f46['id']]=_0x178f46['type'];});pythonBridge['send'](this,_0x7a3cf5(0x296),{'events':JSON[_0x7a3cf5(0x23f)](_0x28dfcf['val']),'deviceMap':_0x5ea8d6});}}catch(_0x36a8c8){}return;}if(_0x3bac77[_0x7a3cf5(0x264)]('analysis.training.triggerTopology')&&_0xdaef2c['val']){this[_0x7a3cf5(0x286)](_0x3bac77,{'val':![],'ack':!![]}),topology[_0x7a3cf5(0x1bc)](this);if(this[_0x7a3cf5(0x22b)])try{const _0x29c9cf=await this[_0x7a3cf5(0x288)](_0x7a3cf5(0x257));if(_0x29c9cf&&_0x29c9cf[_0x7a3cf5(0x1fb)])pythonBridge[_0x7a3cf5(0x2f9)](this,_0x7a3cf5(0x23c),{'sequences':JSON[_0x7a3cf5(0x23f)](_0x29c9cf[_0x7a3cf5(0x1fb)])});}catch(_0x5b08c8){}return;}}const _0x52d17f=(this['config'][_0x7a3cf5(0x2e1)]||[])[_0x7a3cf5(0x220)](_0x38d86f=>_0x38d86f['id']===_0x3bac77);if(_0x52d17f){const _0x437fd3=await recorder[_0x7a3cf5(0x1cb)](this,_0x3bac77,_0xdaef2c,_0x52d17f);_0x437fd3&&this[_0x7a3cf5(0x286)](_0x7a3cf5(0x278),{'val':Date[_0x7a3cf5(0x2b2)](),'ack':!![]});_0x437fd3&&_0x437fd3[_0x7a3cf5(0x245)]===_0x7a3cf5(0x229)&&_0x437fd3[_0x7a3cf5(0x28d)]&&this[_0x7a3cf5(0x22b)]&&deadMan['updateLocation'](this,_0x437fd3[_0x7a3cf5(0x28d)]);_0xdaef2c['val']&&(_0xdaef2c[_0x7a3cf5(0x1fb)]===!![]||_0xdaef2c[_0x7a3cf5(0x1fb)]===0x1||String(_0xdaef2c['val'])['toLowerCase']()===_0x7a3cf5(0x1c1))&&(_0x52d17f[_0x7a3cf5(0x245)]&&(_0x52d17f[_0x7a3cf5(0x245)]['includes'](_0x7a3cf5(0x284))||_0x52d17f[_0x7a3cf5(0x245)][_0x7a3cf5(0x264)](_0x7a3cf5(0x1e9)))&&this['analyzeWindowOpening'](_0x52d17f));if(_0x52d17f['type']===_0x7a3cf5(0x1df)||_0x52d17f[_0x7a3cf5(0x245)]===_0x7a3cf5(0x1dc)){if(this[_0x7a3cf5(0x1e0)][_0x7a3cf5(0x2a6)])automation[_0x7a3cf5(0x302)](this);}}}async[a0_0x575d0e(0x2a9)](_0x14ad6b){const _0x5f1e88=a0_0x575d0e;if(!this[_0x5f1e88(0x2e6)]||Date[_0x5f1e88(0x2b2)]()-this[_0x5f1e88(0x28f)]>0x493e0)return;try{const _0x2df638=JSON[_0x5f1e88(0x23f)](_0x14ad6b),_0x1ccee1=this[_0x5f1e88(0x2e6)][_0x5f1e88(0x2a0)];let _0x3aa503=![];for(const _0x2d486a in _0x1ccee1){if(_0x1ccee1[_0x2d486a][_0x5f1e88(0x264)]('AI')&&_0x2df638[_0x2d486a]&&!_0x2df638[_0x2d486a][_0x5f1e88(0x264)]('AI')){_0x3aa503=!![];break;}}_0x3aa503&&(await this[_0x5f1e88(0x2b0)](_0x5f1e88(0x1cd),{'val':JSON[_0x5f1e88(0x210)](this[_0x5f1e88(0x2e6)][_0x5f1e88(0x238)]),'ack':!![]}),await this[_0x5f1e88(0x2b0)]('analysis.energy.warmupSources',{'val':JSON[_0x5f1e88(0x210)](this['memoryCache'][_0x5f1e88(0x2a0)]),'ack':!![]}));}catch(_0xc831e0){}}async[a0_0x575d0e(0x2cb)](){const _0x4eb451=a0_0x575d0e;try{const _0x289a56=await this['getStateAsync'](setup[_0x4eb451(0x2f2)]);if(_0x289a56&&_0x289a56[_0x4eb451(0x1fb)])this['currentSystemMode']=_0x289a56['val'];}catch(_0xbc8d44){this[_0x4eb451(0x231)]=setup[_0x4eb451(0x2b3)][_0x4eb451(0x1ed)];}}async['checkWifiPresence'](){const _0xc9d098=a0_0x575d0e,_0x34d647=this[_0xc9d098(0x267)][_0xc9d098(0x289)]||[];if(_0x34d647[_0xc9d098(0x2c4)]===0x0)return![];const _0x34461e=[],_0x5c0ea6=Date['now'](),_0xb7c5c9=0x5*0x3c*0x3e8;for(const _0x88832d of _0x34d647){try{let _0x55c917=![];try{const _0x4fd54d=await this[_0xc9d098(0x1f3)](_0x88832d+_0xc9d098(0x2ed));if(_0x4fd54d&&_0x4fd54d['val']===!![])_0x55c917=!![];}catch(_0x15af2a){}if(!_0x55c917)try{const _0x6beedd=await this['getForeignStateAsync'](_0x88832d+_0xc9d098(0x2f8));if(_0x6beedd&&_0x6beedd['ts']){const _0x187c2f=_0x5c0ea6-_0x6beedd['ts'];if(_0x187c2f<_0xb7c5c9)_0x55c917=!![];}}catch(_0x5acfe8){}if(!_0x55c917)try{const _0x93eba5=await this[_0xc9d098(0x1f3)](_0x88832d+_0xc9d098(0x29b));if(_0x93eba5&&typeof _0x93eba5['val']===_0xc9d098(0x287)&&_0x93eba5[_0xc9d098(0x1fb)]>0x0)_0x55c917=!![];}catch(_0x40d46d){}if(!_0x55c917)try{const _0x172ecc=await this[_0xc9d098(0x1f3)](_0x88832d);if(_0x172ecc){const _0x20ae6=_0x5c0ea6-(_0x172ecc['ts']||0x0);_0x20ae6<_0xb7c5c9&&(_0x172ecc['val']===!![]||_0x172ecc[_0xc9d098(0x1fb)]===_0xc9d098(0x2be)||_0x172ecc[_0xc9d098(0x1fb)]===0x1)&&(_0x55c917=!![]);}}catch(_0x2b01ab){}if(_0x55c917){const _0x38ba93=_0x88832d[_0xc9d098(0x1ca)]('.'),_0x121020=_0x38ba93[_0x38ba93[_0xc9d098(0x2c4)]-0x1]||_0x88832d;_0x34461e[_0xc9d098(0x249)](_0x121020);}}catch(_0x35c630){this[_0xc9d098(0x26e)][_0xc9d098(0x1f7)](_0xc9d098(0x1f2)+_0x88832d+':\x20'+_0x35c630[_0xc9d098(0x1ec)]);}}const _0x49d899=_0x34461e[_0xc9d098(0x2c4)]>0x0?_0x34461e['join'](',\x20'):_0xc9d098(0x29c);return await this[_0xc9d098(0x2b0)]('system.presenceWho',{'val':_0x49d899,'ack':!![]}),_0x34461e[_0xc9d098(0x2c4)]>0x0;}async[a0_0x575d0e(0x1b2)](){const _0x5d486f=a0_0x575d0e;await aiAgent[_0x5d486f(0x279)](this);this['activeModules'][_0x5d486f(0x1dd)]&&(this[_0x5d486f(0x297)](),this[_0x5d486f(0x21b)]());if(this[_0x5d486f(0x1e0)][_0x5d486f(0x2a6)])this[_0x5d486f(0x1ae)]();}async[a0_0x575d0e(0x276)](){const _0x5cc1c8=a0_0x575d0e,_0x12e761=[_0x5cc1c8(0x1f5),_0x5cc1c8(0x2ad),'daswetter.0'],_0x2cc30c=['forecast.current.weather','Current.WeatherText','NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x385265 of _0x12e761){for(const _0x5db4cb of _0x2cc30c){try{const _0x55cbb8=_0x385265+'.'+_0x5db4cb,_0x15d9c2=await this[_0x5cc1c8(0x1f3)](_0x55cbb8);if(_0x15d9c2&&_0x15d9c2[_0x5cc1c8(0x1fb)]){const _0x3fedcb=String(_0x15d9c2['val'])[_0x5cc1c8(0x219)]();if(_0x3fedcb[_0x5cc1c8(0x264)](_0x5cc1c8(0x294))||_0x3fedcb[_0x5cc1c8(0x264)](_0x5cc1c8(0x1c4))||_0x3fedcb[_0x5cc1c8(0x264)](_0x5cc1c8(0x273))||_0x3fedcb[_0x5cc1c8(0x264)](_0x5cc1c8(0x1e4))||_0x3fedcb[_0x5cc1c8(0x264)]('clear'))return this['log'][_0x5cc1c8(0x1b3)](_0x5cc1c8(0x246)+_0x55cbb8),!![];}}catch(_0x63d83e){}}}return![];}[a0_0x575d0e(0x21b)](){const _0x557797=a0_0x575d0e;if(!this[_0x557797(0x22b)])return;try{this[_0x557797(0x288)](_0x557797(0x257),(_0x4961ce,_0x2a31bc)=>{const _0x48c6bd=_0x557797;if(_0x4961ce||!_0x2a31bc||!_0x2a31bc['val'])return;try{const _0x26347a=JSON[_0x48c6bd(0x23f)](_0x2a31bc[_0x48c6bd(0x1fb)]);if(!_0x26347a||_0x26347a['length']===0x0)return;pythonBridge[_0x48c6bd(0x2f9)](this,'ANALYZE_GAIT',{'sequences':_0x26347a}),this['log']['debug'](_0x48c6bd(0x292)+_0x26347a[_0x48c6bd(0x2c4)]+_0x48c6bd(0x300));}catch(_0x22e6e8){this[_0x48c6bd(0x26e)][_0x48c6bd(0x1f7)](_0x48c6bd(0x1b4)+_0x22e6e8['message']);}});}catch(_0x17534e){this[_0x557797(0x26e)][_0x557797(0x1f7)]('triggerGaitAnalysis\x20error:\x20'+_0x17534e[_0x557797(0x1ec)]);}}async[a0_0x575d0e(0x1ae)](){const _0x226ebd=a0_0x575d0e;if(!this['isProVersion']||!this[_0x226ebd(0x1e0)][_0x226ebd(0x2a6)])return;try{const _0x4ee5bf={},_0x17b032={},_0x51d371=this['config'][_0x226ebd(0x2e1)]||[];for(const _0x7442b of _0x51d371){if((_0x7442b[_0x226ebd(0x245)]===_0x226ebd(0x1df)||_0x7442b['type']===_0x226ebd(0x1dc))&&_0x7442b['location'])try{const _0x558b60=await this['getForeignStateAsync'](_0x7442b['id']);_0x558b60&&typeof _0x558b60[_0x226ebd(0x1fb)]==='number'&&(_0x4ee5bf[_0x7442b[_0x226ebd(0x28d)]]=_0x558b60['val'],_0x17b032[_0x7442b[_0x226ebd(0x28d)]]=_0x7442b[_0x226ebd(0x26b)]||![]);}catch(_0x2c6c73){}}let _0x468d2e=0xa;if(this['config'][_0x226ebd(0x283)])try{const _0x14b87f=await this[_0x226ebd(0x1f3)](this[_0x226ebd(0x267)][_0x226ebd(0x283)]);if(_0x14b87f&&typeof _0x14b87f[_0x226ebd(0x1fb)]===_0x226ebd(0x287))_0x468d2e=_0x14b87f['val'];}catch(_0x41f163){}const _0x1e3ff9=await this[_0x226ebd(0x276)]();let _0x16e7df={};try{const _0x44b1fe=await this[_0x226ebd(0x288)](_0x226ebd(0x27e));if(_0x44b1fe&&_0x44b1fe['val'])_0x16e7df=JSON[_0x226ebd(0x23f)](_0x44b1fe[_0x226ebd(0x1fb)]);}catch(_0x4fef06){}pythonBridge[_0x226ebd(0x2f9)](this,_0x226ebd(0x2fb),{'current_temps':_0x4ee5bf,'t_out':_0x468d2e,'is_sunny':_0x1e3ff9,'solar_flags':_0x17b032,'warmup_targets':_0x16e7df}),this[_0x226ebd(0x26e)][_0x226ebd(0x1fd)](_0x226ebd(0x1f9)+Object[_0x226ebd(0x2e9)](_0x4ee5bf)['length']+_0x226ebd(0x1cc));}catch(_0x388830){this[_0x226ebd(0x26e)][_0x226ebd(0x1f7)](_0x226ebd(0x2a2)+_0x388830['message']);}}['updateHealthVector'](){const _0xf073d1=a0_0x575d0e;if(!this[_0xf073d1(0x25e)]||this[_0xf073d1(0x25e)][_0xf073d1(0x2c4)]===0x0)return;const _0x402468=new Array(0x30)[_0xf073d1(0x228)](0x0),_0x5a5f32=Array[_0xf073d1(0x21d)]({'length':0x30},()=>[]),_0x2a4b47=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0xf073d1(0x25e)]['forEach'](_0x410735=>{const _0x329250=_0xf073d1,_0x31181b=new Date(_0x410735[_0x329250(0x1bd)]);if(_0x31181b['getTime']()>=_0x2a4b47){const _0x3a560f=_0x31181b[_0x329250(0x1fa)](),_0x1360ec=_0x31181b[_0x329250(0x20d)](),_0x369095=_0x3a560f*0x2+Math[_0x329250(0x1bf)](_0x1360ec/0x1e);_0x369095>=0x0&&_0x369095<0x30&&(_0x402468[_0x369095]++,_0x5a5f32[_0x369095][_0x329250(0x249)]({'time':_0x31181b['toLocaleTimeString'](_0x329250(0x217),{'hour':'2-digit','minute':_0x329250(0x24d)}),'location':_0x410735[_0x329250(0x28d)]||'Unbekannt','type':_0x410735[_0x329250(0x245)]||_0x329250(0x21f)}));}}),this['setStateAsync'](_0xf073d1(0x28c),{'val':JSON[_0xf073d1(0x210)](_0x402468),'ack':!![]}),this['setStateAsync']('analysis.health.todayRoomDetails',{'val':JSON[_0xf073d1(0x210)](_0x5a5f32),'ack':!![]});}async[a0_0x575d0e(0x1b6)](_0x136719){const _0x336b52=a0_0x575d0e;if(!this[_0x336b52(0x267)][_0x336b52(0x2de)]||typeof _0x136719!==_0x336b52(0x287))return;const _0x3a2dbf=this[_0x336b52(0x267)][_0x336b52(0x221)]||0.04;this['pressureBuffer']['push']({'timestamp':Date[_0x336b52(0x2b2)](),'value':_0x136719}),this[_0x336b52(0x2f4)][_0x336b52(0x2c4)]>0x64&&this[_0x336b52(0x2f4)]['shift'](),_0x136719>_0x3a2dbf&&!this[_0x336b52(0x1a0)]&&(this['infrasoundLocked']=!![],this[_0x336b52(0x26e)][_0x336b52(0x1f7)](_0x336b52(0x298)+_0x136719['toFixed'](0x4)+'\x20>\x20'+_0x3a2dbf+_0x336b52(0x216)),await this[_0x336b52(0x25b)](_0x136719,_0x336b52(0x1b9)),setTimeout(()=>{this['infrasoundLocked']=![];},0x5*0x3c*0x3e8));}async[a0_0x575d0e(0x25b)](_0x167fbb,_0x2035f8){const _0x2eb259=a0_0x575d0e;if(!this[_0x2eb259(0x2f7)]){const _0x343e70=this[_0x2eb259(0x2b9)][_0x2eb259(0x248)](0x0,0xa),_0x113449=_0x343e70[_0x2eb259(0x22f)](_0xd3ea84=>new Date(_0xd3ea84['timestamp'])[_0x2eb259(0x1ab)](_0x2eb259(0x217))+_0x2eb259(0x2c8)+(_0xd3ea84[_0x2eb259(0x28d)]||_0x2eb259(0x1a7))+':\x20'+_0xd3ea84[_0x2eb259(0x1a5)])[_0x2eb259(0x237)]('\x0a');this[_0x2eb259(0x26e)][_0x2eb259(0x1f7)](_0x2eb259(0x25c)+_0x167fbb[_0x2eb259(0x24e)](0x4)+',\x20Events:\x0a'+_0x113449);if(this[_0x2eb259(0x267)][_0x2eb259(0x2a5)])try{const _0xa6a8a6=await this['getForeignStateAsync'](this[_0x2eb259(0x267)]['infrasoundArmingId']);_0xa6a8a6&&_0xa6a8a6[_0x2eb259(0x1fb)]===!![]&&(await this[_0x2eb259(0x2b0)](_0x2eb259(0x244),{'val':JSON['stringify']({'timestamp':Date[_0x2eb259(0x2b2)](),'pressure':_0x167fbb[_0x2eb259(0x24e)](0x4),'eventType':_0x2035f8,'recentEvents':_0x343e70['slice'](0x0,0x3)}),'ack':!![]}),this[_0x2eb259(0x26e)][_0x2eb259(0x2ae)](_0x2eb259(0x1a9)));}catch(_0x246f22){}}else this['log'][_0x2eb259(0x1b3)](_0x2eb259(0x1e8)+_0x167fbb['toFixed'](0x4)+_0x2eb259(0x1db));}async[a0_0x575d0e(0x1a2)](_0x576b1f){const _0x261ce7=a0_0x575d0e;if(!_0x576b1f||!_0x576b1f[_0x261ce7(0x28d)])return;try{const _0x2de765=(this['config']['devices']||[])[_0x261ce7(0x1d0)](_0x2b43a6=>_0x2b43a6['location']===_0x576b1f[_0x261ce7(0x28d)]&&(_0x2b43a6[_0x261ce7(0x245)]===_0x261ce7(0x1df)||_0x2b43a6[_0x261ce7(0x245)]===_0x261ce7(0x1dc)));if(_0x2de765[_0x261ce7(0x2c4)]===0x0)return;const _0x154250=await this['getForeignStateAsync'](_0x2de765[0x0]['id']);if(!_0x154250||typeof _0x154250['val']!=='number')return;const _0x38a9c2=_0x154250[_0x261ce7(0x1fb)];let _0x3e252c=null;if(this[_0x261ce7(0x267)]['weatherTempId']){const _0x419647=await this[_0x261ce7(0x1f3)](this[_0x261ce7(0x267)][_0x261ce7(0x283)]);_0x419647&&typeof _0x419647['val']===_0x261ce7(0x287)&&(_0x3e252c=_0x419647[_0x261ce7(0x1fb)]);}if(_0x3e252c!==null){const _0x4cb90e=Math[_0x261ce7(0x2af)](_0x38a9c2-_0x3e252c);_0x4cb90e>0x3&&(this[_0x261ce7(0x26e)]['debug'](_0x261ce7(0x233)+_0x576b1f[_0x261ce7(0x28d)]+_0x261ce7(0x1c2)+_0x4cb90e[_0x261ce7(0x24e)](0x1)+_0x261ce7(0x2b8)+_0x38a9c2+_0x261ce7(0x211)+_0x3e252c+_0x261ce7(0x2ca)),await this['setStateAsync']('analysis.ventilation.lastWindow',{'val':JSON[_0x261ce7(0x210)]({'room':_0x576b1f[_0x261ce7(0x28d)],'timestamp':Date[_0x261ce7(0x2b2)](),'tempDiff':_0x4cb90e[_0x261ce7(0x24e)](0x1),'recommendation':_0x4cb90e>0x5?_0x261ce7(0x230):_0x261ce7(0x243)}),'ack':!![]}));}}catch(_0x5bd3a7){this['log']['warn']('analyzeWindowOpening\x20error:\x20'+_0x5bd3a7[_0x261ce7(0x1ec)]);}}async['appendToLog'](_0x51fefe){const _0x1d94d0=a0_0x575d0e;if(!_0x51fefe||typeof _0x51fefe!==_0x1d94d0(0x1ce))return;const _0x5ec55e={'timestamp':_0x51fefe[_0x1d94d0(0x1bd)]||Date[_0x1d94d0(0x2b2)](),'id':_0x51fefe['id']||Date[_0x1d94d0(0x2b2)]()[_0x1d94d0(0x1d9)](),'name':_0x51fefe[_0x1d94d0(0x1a5)]||'Manual\x20Event','type':_0x51fefe[_0x1d94d0(0x245)]||_0x1d94d0(0x1fe),'location':_0x51fefe['location']||'Unknown','value':_0x51fefe[_0x1d94d0(0x2f6)]||null};this[_0x1d94d0(0x2b9)][_0x1d94d0(0x27b)](_0x5ec55e);if(this['eventHistory']['length']>0x1388)this[_0x1d94d0(0x2b9)][_0x1d94d0(0x24f)]();await this[_0x1d94d0(0x2b0)](_0x1d94d0(0x2d8),{'val':JSON[_0x1d94d0(0x210)](this['eventHistory']),'ack':!![]}),this['log']['debug'](_0x1d94d0(0x224)+_0x5ec55e[_0x1d94d0(0x1a5)]+'\x20('+_0x5ec55e[_0x1d94d0(0x28d)]+')');}[a0_0x575d0e(0x2b6)](_0x21dfb1){}}function a0_0x5d1a(){const _0x2b7296=['isSolar','SET_LEARNING_MODE','party','log','exitTimer','Live\x20Event\x20Pulse','analysis.automation.targetId','NIGHT','klar','systemConfig','Scan\x20Error:\x20','checkSolarCondition','endsWith','analysis.visualization.pulse','runGeminiAnalysis','driftAnalysisTimer','unshift','4219432KsoNFw','calendarName','analysis.energy.warmupTargets','roomIntegratorTimer','History\x20Save\x20Error:\x20','startSystem','rows','weatherTempId','window','replayTodayEvents','setState','number','getStateAsync','presenceDevices','modules','General\x20Activity\x20Trend','analysis.health.todayVector','location','ðŸ“¦\x20Restored\x20','bootTime','cogni-living\x20adapter\x20starting\x20(v','string','ðŸš¶\x20Gait\x20Analysis\x20triggered\x20with\x20','onReady','sunny','Aktiv\x20(','TRAIN_COMFORT','updateHealthVector','ðŸ”Š\x20Infraschall-Alarm:\x20','No\x20data','values','.uptime','Niemand','models/gemini-flash-latest','scheduleJob','analysis.automation.patternDetected','sources','testApiKey','triggerEnergyPrediction\x20Error:\x20','VACATION','dailyDigests','infrasoundArmingId','energy','infrasoundSensorId','python','protectAiMemory','Daily\x20Activity\x20Vector\x20(48x30min)','max','executeAutomationAction','accuweather.0','error','abs','setStateAsync','constructor','now','SYSTEM_MODES','triggerBriefing','analysis.training.triggerHealth','sendNotification','analysis.activity.roomHistory','Â°C\x20(Innen:\x20','eventHistory','getCalendarNames','createDailyDigest','subscribeStates','readFileSync','online','analysis.health.geminiNight','calendarCheckTimer','isGracePeriodActive','refreshCalendar\x20failed:\x20','moduleHealth','length','Sonne:\x20','command','getAbsoluteDefaultDataDir','\x20-\x20','Room\x20History\x20(24h\x20Buckets)','Â°C)','loadSystemMode','healthTrendInterval','analysis.health.todayRoomDetails','system.adapter.ical.','add','substring','json','state','{\x22history\x22:{}}','\x20Kalender-Adapter\x20gefunden.','7056678kqCRMN','writeFileSync','enum','events.history','LTM.triggerDailyDigest','historyJob','geminiModel','search','node-schedule','infrasoundEnabled','existsSync','geminiApiKey','devices','generateContent','genAI','7648102NmZBKd','integrateRoomTime','memoryCache','@google/generative-ai','forEach','keys','880950idlMWC','557986ylvUak','todayVector','.isOnline','checkCalendarTriggers','analysis.prediction.trackerConfidence','updateSchedulePreview','triggerHealth\x20error:\x20','SYSTEM_DP_MODE','./lib/automation','pressureBuffer','moduleComfort','value','isPresent','.last_seen','send','\x20Tage)','PREDICT_ENERGY','analysis.trigger','...','1079053rFYeVs','testContext','\x20sequences','LTM.baselineStatus','cleanupGhostInterventions','.data.table','enum.rooms.*','system','setDate','infrasoundLocked','lastTrackerEventTime','analyzeWindowOpening','LTM.dailyDigests','version','name','getEnums','Unknown','Kein\x20API\x20Key\x20Ã¼bergeben.','ðŸš¨\x20INFRASCHALL-ALARM:\x20Anomalie\x20bei\x20Abwesenheit\x20(scharf)!','refreshCalendar','toLocaleTimeString','âš \x20Replay\x20skipped:\x20No\x20events\x20in\x20memory.','reduce','triggerEnergyPrediction','Guest\x20Mode','minDaysForBaseline','ack','runAutopilot','debug','triggerGaitAnalysis\x20parse\x20error:\x20','generateHealthReport','handleInfrasound','.json','Lernphase\x20(','threshold_exceeded','59\x2023\x20*\x20*\x20*','analysis.security.lastScore','updateTopology','timestamp','setHours','floor','./lib/topology','open',':\x20Temp-Differenz\x20','Verbindung\x20erfolgreich:\x20','heiter','terrasse','all','Keine\x20Daten','exports','initSystemConfig','split','processSensorEvent','\x20rooms)','analysis.energy.warmupTimes','object','analysis.training.status','filter','licenseKey','text','telegram','â†º\x20Replaying\x20','modeResetJob','pulse','getObjectViewAsync','./lib/ai_agent','toString','min','\x20(Bewohner\x20anwesend\x20-\x20normal)','thermostat','health','history','temperature','activeModules','./lib/dead_man','security','system.presenceWho','sonn','haustÃ¼r','./lib/recorder','some','ðŸ”Š\x20Infraschall:\x20','door','setObjectNotExistsAsync','enum.functions.*','message','NORMAL','communicate.request','checkLicense','Adapter','Gemini\x20Report\x20Night','checkWifiPresence:\x20Error\x20checking\x20','getForeignStateAsync','Say\x20Hello','weatherunderground.0','startService','warn','CALCULATE_HEALTH_TREND','ðŸ”®\x20Energy\x20Prediction\x20triggered\x20(','getHours','val','response','info','custom','Gemini\x20Report\x20Day','âœ…\x20Dashboard\x20Data\x20(Rooms\x20&\x20Timeline\x20&\x20Details)\x20restored.','analysis.health.geminiDay','analysis.automation.targetValue','dependencyInstallInProgress','sendTo','./lib/python_bridge','cancel','ready','apply','lastAlertState','onStateChange','instance','Sec-Training\x20started...','getMinutes','[Integrator]\x20Error:\x20','analysis.training.triggerComfort','stringify','Â°C,\x20AuÃŸen:\x20','Room\x20Dwell\x20Time\x20Stats','Warte\x20auf\x20Analyse...','cogni-living','ðŸ\x20Triggering\x20Python\x20Health\x20Check\x20(Activity\x20Trend)...','\x20(Threshold)','de-DE','subscribeForeignStatesAsync','toLowerCase','Corrupt','triggerGaitAnalysis','getDate','from','common','Event','find','infrasoundThreshold','onMessage','presenceCheckTimer','ðŸ“\x20Manual\x20event\x20logged:\x20','callback','./lib/scanner','replace','fill','motion','getHistoryData','isProVersion','toLocaleDateString','Party\x20Mode','scanThermostats','map','Gute\x20LÃ¼ftungsmÃ¶glichkeit!','currentSystemMode','round','ðŸ’¨\x20LÃ¼ftung\x20in\x20','ðŸ’¾\x20Saving\x20Daily\x20History\x20for\x20','32569792XUuZOI','12HzNQrt','join','times','sensorLastValues','comfort','trackerHeartbeat','TRAIN_TOPOLOGY','getGenerativeModel','saveDailyHistory','parse','system.adapter.ical.é¦™','getForeignObjectsAsync','moduleEnergy','LÃ¼ften\x20empfohlen','analysis.safety.infrasoundAlert','type','â˜€ï¸\x20Solar\x20Condition:\x20SUNNY\x20detected\x20via\x20','runPythonHealthCheck','slice','push','analysis.energy.warmupSources','utf8','system.adapter.','2-digit','toFixed','pop','checkWifiPresence','analysis.automation.description','(((.+)+)+)+$','date','analysisTimer','analysis.prediction.trackerTopRoom','triggerDailyDigest','LTM.trainingData.sequences',')\x20-\x20Phase\x20E\x20(Scheduler\x20Fix)','\x20events\x20from\x20today...','guest','triggerInfrasoundCorrelation','ðŸ”Š\x20FORENSIC:\x20Infraschall\x20bei\x20Abwesenheit!\x20Pressure:\x20','analysis.health.activityTrend','rawEventLog','inactivityThresholdHours','setPresence','TRAIN_HEALTH','bind','@iobroker/adapter-core','includes','moduleSecurity','.system.mode','config','initZombies','subscribeForeignStates','DAY'];a0_0x5d1a=function(){return _0x2b7296;};return a0_0x5d1a();}if(require['main']!==module)module[a0_0x575d0e(0x1c8)]=_0xd96903=>new CogniLiving(_0xd96903);else new CogniLiving();