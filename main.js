const a0_0x59d7c6=a0_0x34b9;(function(_0x4c8550,_0x1afc90){const _0x318bf4=a0_0x34b9,_0x18f9d7=_0x4c8550();while(!![]){try{const _0x281d69=-parseInt(_0x318bf4(0x19a))/0x1*(parseInt(_0x318bf4(0x180))/0x2)+-parseInt(_0x318bf4(0x12f))/0x3*(-parseInt(_0x318bf4(0xfa))/0x4)+parseInt(_0x318bf4(0xa4))/0x5+parseInt(_0x318bf4(0xc1))/0x6+parseInt(_0x318bf4(0xe3))/0x7*(-parseInt(_0x318bf4(0x133))/0x8)+-parseInt(_0x318bf4(0xf2))/0x9*(-parseInt(_0x318bf4(0x168))/0xa)+-parseInt(_0x318bf4(0x12a))/0xb*(-parseInt(_0x318bf4(0xf0))/0xc);if(_0x281d69===_0x1afc90)break;else _0x18f9d7['push'](_0x18f9d7['shift']());}catch(_0x595ed5){_0x18f9d7['push'](_0x18f9d7['shift']());}}}(a0_0x3127,0x74da9));const a0_0x39186b=(function(){let _0x539773=!![];return function(_0x21acec,_0x3e81dd){const _0x201696=_0x539773?function(){if(_0x3e81dd){const _0x467bf0=_0x3e81dd['apply'](_0x21acec,arguments);return _0x3e81dd=null,_0x467bf0;}}:function(){};return _0x539773=![],_0x201696;};}()),a0_0x26c2a4=a0_0x39186b(this,function(){const _0xa87e93=a0_0x34b9;return a0_0x26c2a4[_0xa87e93(0x144)]()['search'](_0xa87e93(0x179))[_0xa87e93(0x144)]()[_0xa87e93(0x15c)](a0_0x26c2a4)[_0xa87e93(0xbb)](_0xa87e93(0x179));});function a0_0x3127(){const _0x2b67d9=['analysis.energy.warmupSources','application/json','getAbsoluteDefaultDataDir','text','type','Keine\x20Daten','SYSTEM_MODES','isSolar','analysis.activity.roomStats','infrasoundSensorId','activeModules','LTM.baselineStatus','reduce','infrasoundLocked',')\x20-\x20Phase\x20E\x20(Fix\x20Restore)','historyJob','length','analysis.activity.roomHistory','geminiApiKey','analysis.health.activityTrend','runGeminiAnalysis','1098713CdgZlU','Init...','bind','pulse','startSystem','457845AuXDfi','split','thermostat','node-schedule','555688oAsxbH','geminiModel','./lib/installer','[Integrator]\x20Error:\x20','analysis.training.triggerComfort','sensorLastValues','history','python','timestamp','main','analysis.security.learningStatus','./lib/scheduler','loadSystemMode','integrateRoomTime','toLowerCase','Adapter','Corrupt','toString','moduleHealth','system.presenceWho','analysis.health.geminiNight','analysis.training.triggerSecurity','subscribeForeignStates','triggerInfrasoundCorrelation','protectAiMemory','presenceDevices','./lib/topology','automation.triggerAction','Failed\x20to\x20trigger\x20Python\x20Health\x20Check','healthTrendInterval','parse','date','TRAIN_COMFORT','setHours','.venv','isGracePeriodActive','getHours','onReady','Unknown','subscribeStates','filter','constructor','analysis.visualization.pulse','writeFileSync','from','command','open','object','getMinutes','setPresence','setObjectNotExistsAsync','analysis.prediction.trackerTopRoom','./lib/automation','1850410LDucHc','communicate.request','./lib/ai_agent','Party\x20Mode','all','slice','59\x2023\x20*\x20*\x20*','generateHealthReport','.system.mode','moduleSecurity','Daily\x20Room\x20Details\x20(48x30min)','üì¶\x20Restored\x20','DAY','minDaysForBaseline','scanForDevices','lastTrackerEventTime','TRAIN_SECURITY','(((.+)+)+)+$','Gemini\x20Init\x20Error:\x20','Warte\x20auf\x20Analyse...','sendNotification','onMessage','cleanupGhostInterventions','updateTopology','2fNPSxt','ltmJob','ready','config','sources','currentSystemMode','guest','cogni-living','LTM.triggerDailyDigest','checkCalendarTriggers','energy','LTM.trainingData.thermodynamics','health','saveDailyHistory','analysis.automation.targetValue','startService','callback','utf8','analysis.health.todayRoomDetails','createDailyDigest','string','sendMorningBriefing','scheduleJob','rawEventLog','stringify','push','871583kjzAWZ','updateHealthVector','stopService','warn','triggerDailyDigest','dailyDigests','value','analysis.energy.warmupTimes','state','pop','checkSolarCondition','‚ö†\x20Replay\x20skipped:\x20No\x20events\x20in\x20memory.','inactivityThresholdHours','pressureBuffer','Guest\x20Mode','TRAIN_TOPOLOGY','cancel','common','getHistoryData','haust√ºr','NORMAL','History\x20Save\x20Error:\x20','party','door','LTM.rawEventLog','then','replayTodayEvents','...','path','setDate','ack','scanThermostats','find','json','genAI','Gemini\x20Report\x20Day','roomIntegratorTimer','name','1748805jBSxRB','endsWith','telegram','analysis.trigger','namespace','max','analyzeWindowOpening','setStateAsync','Live\x20Event\x20Pulse','./lib/dead_man','SYSTEM_DP_MODE','log','debug','handleInfrasound','temperature','bootTime','toISOString','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','No\x20data','triggerGaitAnalysis','getStateAsync','readFileSync','checkThermostats','search','‚Ü∫\x20Replaying\x20','checkWifiPresence','moduleEnergy','./lib/setup','isRelevantActivity','1853298JhqUlC','\x20events\x20from\x20today...','moduleComfort','existsSync','onUnload','executeAutomationAction','fill','unload','stateChange','includes','motion','analysisHistory','modules','runAutopilot','manual','LTM.trainingData.sequences','analysis.training.triggerEnergy','TRAIN_ENERGY','.json','info','analysis.health.todayVector','abortExitTimer','isPresent','runPythonHealthCheck','triggerBriefing','dependencyInstallInProgress','‚úÖ\x20History\x20saved:\x20','toLocaleDateString','Room\x20Dwell\x20Time\x20Stats','Room\x20History\x20(24h\x20Buckets)','üêç\x20Triggering\x20Python\x20Health\x20Check\x20(Activity\x20Trend)...','round','security','location','91lAApeX','send','number','min','analysis.training.triggerTopology','updateLocation','getEnums','Warm-Up\x20Time','getGenerativeModel','exports','./lib/recorder','enum.functions.*','initZombies','96giDdye','memoryCache','9wtwGAd','modeResetJob','createAllObjects','mkdirSync','üíæ\x20Saving\x20Daily\x20History\x20for\x20','subscribeForeignStatesAsync','val','analysis.automation.patternDetected','16wdzCjY','briefingJob','cogni-living\x20adapter\x20starting\x20(v','isProVersion','{\x22history\x22:{}}','Daily\x20Activity\x20Vector\x20(48x30min)','error','systemConfig','triggerEnergyPrediction','join','devices','onStateChange','eventHistory','exitTimer','setState','now','todayVector','infrasoundEnabled','message','models/gemini-flash-latest','analysis.training.status','licenseKey','window','analysisTimer','terrasse','sendTo','Aktiv\x20('];a0_0x3127=function(){return _0x2b67d9;};return a0_0x3127();}a0_0x26c2a4();'use strict';function a0_0x34b9(_0xd7f81f,_0x35c83d){const _0x273d50=a0_0x3127();return a0_0x34b9=function(_0x26c2a4,_0x39186b){_0x26c2a4=_0x26c2a4-0x80;let _0x3127df=_0x273d50[_0x26c2a4];return _0x3127df;},a0_0x34b9(_0xd7f81f,_0x35c83d);}const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require('@google/generative-ai'),path=require(a0_0x59d7c6(0x9a)),fs=require('fs'),installer=require(a0_0x59d7c6(0x135)),scanner=require('./lib/scanner'),schedulers=require(a0_0x59d7c6(0x13e)),topology=require(a0_0x59d7c6(0x14d)),setup=require(a0_0x59d7c6(0xbf)),recorder=require(a0_0x59d7c6(0xed)),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0x59d7c6(0x16a)),deadMan=require(a0_0x59d7c6(0xad)),automation=require(a0_0x59d7c6(0x167)),GEMINI_MODEL=a0_0x59d7c6(0x10d);class CogniLiving extends utils[a0_0x59d7c6(0x142)]{constructor(_0x20c016){const _0x422e77=a0_0x59d7c6;super({..._0x20c016,'name':_0x422e77(0x187)}),this[_0x422e77(0x106)]=[],this[_0x422e77(0xcc)]=[],this[_0x422e77(0x197)]=[],this[_0x422e77(0x83)]=[],this[_0x422e77(0x138)]={},this[_0x422e77(0x101)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x422e77(0x107)]=null,this['exitGraceTimer']=null,this[_0x422e77(0x156)]=![],this['genAI']=null,this[_0x422e77(0x134)]=null,this['currentSystemMode']=setup[_0x422e77(0x11b)][_0x422e77(0x92)],this[_0x422e77(0xfd)]=![],this['lastAlertState']=![],this[_0x422e77(0x111)]=null,this[_0x422e77(0x181)]=null,this[_0x422e77(0xf3)]=null,this['driftAnalysisTimer']=null,this[_0x422e77(0xfb)]=null,this[_0x422e77(0x124)]=null,this['trackerHeartbeat']=null,this[_0x422e77(0x150)]=null,this[_0x422e77(0xa2)]=null,this[_0x422e77(0xda)]=![],this[_0x422e77(0x177)]=Date[_0x422e77(0x109)](),this[_0x422e77(0xf1)]=null,this[_0x422e77(0xb3)]=Date['now'](),this[_0x422e77(0x122)]=![],this[_0x422e77(0x8b)]=[],this[_0x422e77(0x11f)]={'health':!![],'security':!![],'energy':!![],'comfort':!![]},this['on'](_0x422e77(0x182),this[_0x422e77(0x158)][_0x422e77(0x12c)](this)),this['on'](_0x422e77(0xc9),this[_0x422e77(0x105)]['bind'](this)),this['on'](_0x422e77(0xc8),this[_0x422e77(0xc5)][_0x422e77(0x12c)](this)),this['on'](_0x422e77(0x10c),this[_0x422e77(0x17d)][_0x422e77(0x12c)](this));}async[a0_0x59d7c6(0x158)](){const _0x50292a=a0_0x59d7c6;this[_0x50292a(0xaf)][_0x50292a(0xd4)](_0x50292a(0xfc)+this['version']+_0x50292a(0x123));if(this[_0x50292a(0x183)][_0x50292a(0x145)]!==undefined)this[_0x50292a(0x11f)][_0x50292a(0x18c)]=this['config'][_0x50292a(0x145)];if(this[_0x50292a(0x183)]['moduleSecurity']!==undefined)this[_0x50292a(0x11f)][_0x50292a(0xe1)]=this[_0x50292a(0x183)][_0x50292a(0x171)];if(this['config'][_0x50292a(0xbe)]!==undefined)this[_0x50292a(0x11f)]['energy']=this['config'][_0x50292a(0xbe)];if(this[_0x50292a(0x183)][_0x50292a(0xc3)]!==undefined)this[_0x50292a(0x11f)]['comfort']=this[_0x50292a(0x183)][_0x50292a(0xc3)];if(this['config'][_0x50292a(0xcd)])this[_0x50292a(0x11f)]={...this[_0x50292a(0x11f)],...this[_0x50292a(0x183)][_0x50292a(0xcd)]};this[_0x50292a(0x12e)]();}async[a0_0x59d7c6(0x12e)](){const _0x5c06b5=a0_0x59d7c6;await setup[_0x5c06b5(0xef)](this);try{this[_0x5c06b5(0xfd)]=await setup['checkLicense'](this[_0x5c06b5(0x183)][_0x5c06b5(0x10f)]);}catch(_0x50246c){}if(!this[_0x5c06b5(0x183)][_0x5c06b5(0x8a)]||this['config'][_0x5c06b5(0x8a)]<0.1)this[_0x5c06b5(0x183)][_0x5c06b5(0x8a)]=0xc;await setup['initHistory'](this),await setup['initSystemConfig'](this);try{const _0x1fbdbb=await this[_0x5c06b5(0xb8)](_0x5c06b5(0x85)),_0x5317c1=await this[_0x5c06b5(0xb8)](_0x5c06b5(0x115));_0x1fbdbb&&_0x1fbdbb['val']&&_0x5317c1&&_0x5317c1[_0x5c06b5(0xf8)]&&(Date['now']()-_0x1fbdbb['ts']<0x4*0xe10*0x3e8&&(this[_0x5c06b5(0xf1)]={'times':JSON[_0x5c06b5(0x151)](_0x1fbdbb[_0x5c06b5(0xf8)]),'sources':JSON['parse'](_0x5317c1['val'])}));}catch(_0x2b3342){}if(this[_0x5c06b5(0x183)][_0x5c06b5(0x127)])try{this['genAI']=new GoogleGenerativeAI(this[_0x5c06b5(0x183)][_0x5c06b5(0x127)]),this[_0x5c06b5(0x134)]=this[_0x5c06b5(0xa0)][_0x5c06b5(0xeb)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x5c06b5(0x116)}});}catch(_0x4013a9){this[_0x5c06b5(0xaf)][_0x5c06b5(0x100)](_0x5c06b5(0x17a)+_0x4013a9[_0x5c06b5(0x10c)]);}await setup[_0x5c06b5(0xf4)](this),await this[_0x5c06b5(0x13f)](),await this['setObjectNotExistsAsync'](_0x5c06b5(0x15d),{'type':_0x5c06b5(0x86),'common':{'name':_0x5c06b5(0xac),'type':'number','role':'value','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x5c06b5(0x11d),{'type':'state','common':{'name':_0x5c06b5(0xdd),'type':_0x5c06b5(0x194),'role':_0x5c06b5(0x9f),'read':!![],'write':![],'def':_0x5c06b5(0xb5)},'native':{}}),await this[_0x5c06b5(0x165)](_0x5c06b5(0x126),{'type':_0x5c06b5(0x86),'common':{'name':_0x5c06b5(0xde),'type':_0x5c06b5(0x194),'role':'json','read':!![],'write':![],'def':_0x5c06b5(0xfe)},'native':{}}),await this[_0x5c06b5(0x165)](_0x5c06b5(0x147),{'type':_0x5c06b5(0x86),'common':{'name':'Gemini\x20Report\x20Night','type':_0x5c06b5(0x194),'role':_0x5c06b5(0x118),'read':!![],'write':![],'def':_0x5c06b5(0x17b)},'native':{}}),await this['setObjectNotExistsAsync']('analysis.health.geminiDay',{'type':'state','common':{'name':_0x5c06b5(0xa1),'type':_0x5c06b5(0x194),'role':_0x5c06b5(0x118),'read':!![],'write':![],'def':_0x5c06b5(0x17b)},'native':{}}),await this[_0x5c06b5(0x165)]('analysis.health.todayVector',{'type':_0x5c06b5(0x86),'common':{'name':_0x5c06b5(0xff),'type':_0x5c06b5(0x194),'role':_0x5c06b5(0x9f),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x5c06b5(0x165)](_0x5c06b5(0x192),{'type':'state','common':{'name':_0x5c06b5(0x172),'type':_0x5c06b5(0x194),'role':_0x5c06b5(0x9f),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x5c06b5(0x165)](_0x5c06b5(0x128),{'type':_0x5c06b5(0x86),'common':{'name':'General\x20Activity\x20Trend','type':_0x5c06b5(0xe5),'role':_0x5c06b5(0x84),'unit':'%','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x5c06b5(0x85),{'type':_0x5c06b5(0x86),'common':{'name':_0x5c06b5(0xea),'type':'string','role':_0x5c06b5(0x9f),'read':!![],'write':![]},'native':{}});try{const _0x3f0408=await this[_0x5c06b5(0xb8)]('events.history');if(_0x3f0408&&_0x3f0408['val']){this[_0x5c06b5(0x106)]=JSON[_0x5c06b5(0x151)](_0x3f0408['val']);if(this[_0x5c06b5(0xfd)]){const _0x3dfcb0=await this[_0x5c06b5(0xb8)](_0x5c06b5(0x96));if(_0x3dfcb0&&_0x3dfcb0[_0x5c06b5(0xf8)])this[_0x5c06b5(0x197)]=JSON[_0x5c06b5(0x151)](_0x3dfcb0[_0x5c06b5(0xf8)]);}this[_0x5c06b5(0xaf)]['info'](_0x5c06b5(0x173)+this['eventHistory']['length']+'\x20events\x20from\x20standard\x20storage.');}}catch(_0x430227){this[_0x5c06b5(0x106)]=[];}try{const _0x2622d2=await this['getStateAsync']('LTM.dailyDigests');if(_0x2622d2&&_0x2622d2[_0x5c06b5(0xf8)])this[_0x5c06b5(0x83)]=JSON[_0x5c06b5(0x151)](_0x2622d2[_0x5c06b5(0xf8)]);}catch(_0x49d8f6){this[_0x5c06b5(0x83)]=[];}const _0x2e1a61=this[_0x5c06b5(0x83)][_0x5c06b5(0x125)]>=(this[_0x5c06b5(0x183)][_0x5c06b5(0x175)]||0x7)?_0x5c06b5(0x114)+this[_0x5c06b5(0x83)][_0x5c06b5(0x125)]+'\x20Tage)':'Lernphase\x20('+this[_0x5c06b5(0x83)]['length']+'/'+(this[_0x5c06b5(0x183)]['minDaysForBaseline']||0x7)+')';await this['setStateAsync'](_0x5c06b5(0x120),{'val':_0x2e1a61,'ack':!![]}),this[_0x5c06b5(0x15a)](_0x5c06b5(0xa7)),this[_0x5c06b5(0x15a)](_0x5c06b5(0x188)),this['subscribeStates']('analysis.training.triggerHealth');this['config'][_0x5c06b5(0x10b)]&&this[_0x5c06b5(0x183)][_0x5c06b5(0x11e)]&&this[_0x5c06b5(0x11f)][_0x5c06b5(0xe1)]&&this[_0x5c06b5(0x149)](this[_0x5c06b5(0x183)]['infrasoundSensorId']);const _0x2d63ae=this['config'][_0x5c06b5(0x104)];if(_0x2d63ae)for(const _0x58bced of _0x2d63ae){await this['subscribeForeignStatesAsync'](_0x58bced['id']);}const _0x32d3a2=this[_0x5c06b5(0x183)][_0x5c06b5(0x14c)];if(_0x32d3a2)for(const _0x46f792 of _0x32d3a2){await this[_0x5c06b5(0xf7)](_0x46f792);}const _0x4d4020=require(_0x5c06b5(0x132));if(this[_0x5c06b5(0x124)])this['historyJob'][_0x5c06b5(0x8e)]();this['historyJob']=_0x4d4020[_0x5c06b5(0x196)](_0x5c06b5(0x16e),()=>{const _0x49ab2f=_0x5c06b5;this[_0x49ab2f(0x18d)]();}),setTimeout(()=>this[_0x5c06b5(0x98)](),0x1388);if(this[_0x5c06b5(0xa2)])clearInterval(this[_0x5c06b5(0xa2)]);this[_0x5c06b5(0x140)](),this[_0x5c06b5(0xa2)]=setInterval(async()=>{const _0x3d7624=_0x5c06b5;await this[_0x3d7624(0x140)]();},0x3c*0x3e8);if(this[_0x5c06b5(0x150)])clearInterval(this[_0x5c06b5(0x150)]);this[_0x5c06b5(0x150)]=setInterval(()=>{const _0x157ae0=_0x5c06b5;this[_0x157ae0(0xfd)]&&this['activeModules']['health']&&this['runPythonHealthCheck']();},0x4*0x3c*0x3c*0x3e8);const _0x2206fd=path[_0x5c06b5(0x103)](__dirname,_0x5c06b5(0x155),'bin',_0x5c06b5(0x13a));pythonBridge[_0x5c06b5(0x18f)](this,_0x2206fd);}[a0_0x59d7c6(0xc5)](_0x379b71){const _0x3dd3ef=a0_0x59d7c6;if(this[_0x3dd3ef(0x124)])this[_0x3dd3ef(0x124)][_0x3dd3ef(0x8e)]();this[_0x3dd3ef(0x18d)]()[_0x3dd3ef(0x97)](()=>{const _0x2bfeba=_0x3dd3ef;if(this[_0x2bfeba(0x111)])clearInterval(this[_0x2bfeba(0x111)]);if(this[_0x2bfeba(0xa2)])clearInterval(this[_0x2bfeba(0xa2)]);recorder[_0x2bfeba(0xd6)](this),pythonBridge[_0x2bfeba(0x80)](this),_0x379b71();});}async['replayTodayEvents'](){const _0x4b4ce7=a0_0x59d7c6;if(!this[_0x4b4ce7(0x106)]||this['eventHistory'][_0x4b4ce7(0x125)]===0x0){this[_0x4b4ce7(0xaf)][_0x4b4ce7(0x81)](_0x4b4ce7(0x89));return;}this[_0x4b4ce7(0xaf)]['info'](_0x4b4ce7(0xbc)+this[_0x4b4ce7(0x106)]['length']+_0x4b4ce7(0xc2));const _0x446493=new Date()[_0x4b4ce7(0x154)](0x0,0x0,0x0,0x0),_0x5b2f4b=_0x4b4ce7(0x126);let _0x1bd2f0={'history':{},'date':new Date()[_0x4b4ce7(0xdc)]()};const _0x38bd96='analysis.health.todayVector',_0x1187eb=_0x4b4ce7(0x192);let _0x393cf2=new Array(0x30)[_0x4b4ce7(0xc7)](0x0),_0x10e468=Array['from']({'length':0x30},()=>[]);this['eventHistory']['forEach'](_0x584baf=>{const _0x19cdfd=_0x4b4ce7;if(_0x584baf['timestamp']>=_0x446493){if(recorder[_0x19cdfd(0xc0)](_0x584baf['type'],_0x584baf['value'])){const _0x437682=new Date(_0x584baf[_0x19cdfd(0x13b)]),_0x536df8=_0x437682[_0x19cdfd(0x157)]()*0x2+(_0x437682[_0x19cdfd(0x163)]()>=0x1e?0x1:0x0);if(_0x536df8<0x30){_0x393cf2[_0x536df8]++;const _0x51645e=_0x584baf[_0x19cdfd(0xe2)]||_0x584baf[_0x19cdfd(0xa3)]||'?';let _0x395e33=_0x10e468[_0x536df8];!_0x395e33[_0x19cdfd(0xca)](_0x51645e)&&_0x395e33[_0x19cdfd(0x199)](_0x51645e);}const _0x32ec72=_0x437682[_0x19cdfd(0x157)]();let _0x1691e6=_0x584baf[_0x19cdfd(0xe2)]||'Unknown';const _0x112b66=(this[_0x19cdfd(0x183)][_0x19cdfd(0x104)]||[])[_0x19cdfd(0x9e)](_0x1e2787=>_0x1e2787['location']===_0x1691e6);if(_0x112b66)_0x1691e6=_0x112b66[_0x19cdfd(0xe2)];if(!_0x1bd2f0[_0x19cdfd(0x139)][_0x1691e6])_0x1bd2f0[_0x19cdfd(0x139)][_0x1691e6]=new Array(0x18)[_0x19cdfd(0xc7)](0x0);if(_0x1bd2f0[_0x19cdfd(0x139)][_0x1691e6][_0x32ec72]<0x3c)_0x1bd2f0[_0x19cdfd(0x139)][_0x1691e6][_0x32ec72]++;}}});const _0x28078c=await this[_0x4b4ce7(0xb8)](_0x5b2f4b);(!_0x28078c||!_0x28078c['val']||_0x28078c['val']==='{}'||_0x28078c[_0x4b4ce7(0xf8)][_0x4b4ce7(0xca)]('\x22history\x22:{}'))&&await this['setStateAsync'](_0x5b2f4b,{'val':JSON['stringify'](_0x1bd2f0),'ack':!![]}),await this[_0x4b4ce7(0xab)](_0x38bd96,{'val':JSON[_0x4b4ce7(0x198)](_0x393cf2),'ack':!![]}),await this[_0x4b4ce7(0xab)](_0x1187eb,{'val':JSON[_0x4b4ce7(0x198)](_0x10e468),'ack':!![]}),this[_0x4b4ce7(0xaf)][_0x4b4ce7(0xd4)]('‚úÖ\x20Dashboard\x20Data\x20(Rooms\x20&\x20Timeline\x20&\x20Details)\x20restored.');}async[a0_0x59d7c6(0x18d)](){const _0x4d43f9=a0_0x59d7c6;if(!this[_0x4d43f9(0x11f)]['health'])return;const _0x320385=new Date()[_0x4d43f9(0xb4)]()[_0x4d43f9(0x130)]('T')[0x0];this[_0x4d43f9(0xaf)][_0x4d43f9(0xb0)](_0x4d43f9(0xf6)+_0x320385+_0x4d43f9(0x99));try{const [_0x3b3d61,_0x219e1d,_0xa2c021,_0x53d72d,_0x2fa4dc,_0x3e134d]=await Promise[_0x4d43f9(0x16c)]([this[_0x4d43f9(0xb8)](_0x4d43f9(0x126)),this[_0x4d43f9(0xb8)]('analysis.health.geminiNight'),this[_0x4d43f9(0xb8)]('analysis.health.geminiDay'),this[_0x4d43f9(0xb8)]('analysis.security.lastScore'),this[_0x4d43f9(0xb8)](_0x4d43f9(0xd5)),this[_0x4d43f9(0xb8)](_0x4d43f9(0x128))]),_0x222531=this[_0x4d43f9(0x106)][_0x4d43f9(0x15b)](_0x4dd28c=>_0x4dd28c[_0x4d43f9(0x13b)]>=new Date()[_0x4d43f9(0x154)](0x0,0x0,0x0,0x0)&&(_0x4dd28c[_0x4d43f9(0xa3)]['toLowerCase']()[_0x4d43f9(0xca)](_0x4d43f9(0x91))||_0x4dd28c[_0x4d43f9(0xa3)][_0x4d43f9(0x141)]()['includes'](_0x4d43f9(0x112)))&&(_0x4dd28c[_0x4d43f9(0x84)]===!![]||_0x4dd28c[_0x4d43f9(0x84)]===_0x4d43f9(0x161)))[_0x4d43f9(0x125)];let _0x4be485=0x55;if(_0x3e134d&&_0x3e134d['val']!==undefined)_0x4be485=Math[_0x4d43f9(0xe6)](0x64,Math[_0x4d43f9(0xa9)](0x14,Math[_0x4d43f9(0xe0)](0x50+Number(_0x3e134d[_0x4d43f9(0xf8)])*0x5)));const _0x4db8b3={'date':_0x320385,'timestamp':Date[_0x4d43f9(0x109)](),'roomHistory':_0x3b3d61?.[_0x4d43f9(0xf8)]?JSON['parse'](_0x3b3d61['val']):{},'geminiNight':_0x219e1d?.[_0x4d43f9(0xf8)]||_0x4d43f9(0x11a),'geminiDay':_0xa2c021?.[_0x4d43f9(0xf8)]||_0x4d43f9(0x11a),'anomalyScore':_0x53d72d?.[_0x4d43f9(0xf8)]||0.1,'todayVector':_0x2fa4dc?.['val']?JSON[_0x4d43f9(0x151)](_0x2fa4dc[_0x4d43f9(0xf8)]):new Array(0x30)[_0x4d43f9(0xc7)](0x0),'batteryLevel':_0x4be485,'freshAirCount':_0x222531,'eventHistory':this[_0x4d43f9(0x106)]},_0x3848e4=utils[_0x4d43f9(0x117)](),_0xc78b70=path['join'](_0x3848e4,_0x4d43f9(0x187),_0x4d43f9(0x139));if(!fs[_0x4d43f9(0xc4)](_0xc78b70))fs[_0x4d43f9(0xf5)](_0xc78b70,{'recursive':!![]});const _0x1b2a26=path[_0x4d43f9(0x103)](_0xc78b70,_0x320385+_0x4d43f9(0xd3));fs[_0x4d43f9(0x15e)](_0x1b2a26,JSON[_0x4d43f9(0x198)](_0x4db8b3)),this[_0x4d43f9(0xaf)]['info'](_0x4d43f9(0xdb)+_0x1b2a26);}catch(_0x1e3932){this['log'][_0x4d43f9(0x100)](_0x4d43f9(0x93)+_0x1e3932['message']);}}async[a0_0x59d7c6(0x140)](){const _0x2a46da=a0_0x59d7c6;if(!this[_0x2a46da(0xd7)])return;try{let _0x29e05a=null;try{const _0x44f4d0=await this['getStateAsync'](_0x2a46da(0x166)),_0x304b9a=await this[_0x2a46da(0xb8)]('analysis.prediction.trackerConfidence');if(_0x44f4d0&&_0x44f4d0['val']&&_0x304b9a&&_0x304b9a[_0x2a46da(0xf8)]&&_0x304b9a[_0x2a46da(0xf8)]>0.3){if(_0x44f4d0[_0x2a46da(0xf8)]!==_0x2a46da(0x159)&&_0x44f4d0['val']!==_0x2a46da(0x12b))_0x29e05a=_0x44f4d0['val'];}}catch(_0x58e632){}if(!_0x29e05a){const _0x5a1bb2=this[_0x2a46da(0x183)][_0x2a46da(0x104)]||[];for(const _0x33c1cc of _0x5a1bb2){if(_0x33c1cc[_0x2a46da(0x119)]===_0x2a46da(0xcb)&&_0x33c1cc[_0x2a46da(0xe2)])try{const _0x1900b4=await this['getForeignStateAsync'](_0x33c1cc['id']);if(_0x1900b4&&(_0x1900b4[_0x2a46da(0xf8)]===!![]||_0x1900b4[_0x2a46da(0xf8)]==='on'||_0x1900b4[_0x2a46da(0xf8)]===0x1)){_0x29e05a=_0x33c1cc[_0x2a46da(0xe2)];break;}}catch(_0x249333){}}}if(!_0x29e05a)return;const _0x4f6dc8=this[_0x2a46da(0x183)][_0x2a46da(0x104)]||[];let _0x1f1e50=_0x29e05a;const _0x52437f=_0x4f6dc8[_0x2a46da(0x9e)](_0x425fe1=>_0x425fe1[_0x2a46da(0xe2)]&&_0x425fe1[_0x2a46da(0xe2)]['toLowerCase']()===_0x29e05a[_0x2a46da(0x141)]());if(_0x52437f)_0x1f1e50=_0x52437f[_0x2a46da(0xe2)];const _0x36b8c0=_0x2a46da(0x126),_0x597405=await this['getStateAsync'](_0x36b8c0),_0x5bea07=new Date()[_0x2a46da(0xdc)]();let _0x1b5097={'history':{},'date':_0x5bea07};if(_0x597405&&_0x597405[_0x2a46da(0xf8)])try{_0x1b5097=JSON[_0x2a46da(0x151)](_0x597405[_0x2a46da(0xf8)]);}catch(_0x452783){}_0x1b5097[_0x2a46da(0x152)]!==_0x5bea07&&(_0x1b5097[_0x2a46da(0x139)]={},_0x1b5097['date']=_0x5bea07);if(!_0x1b5097['history'][_0x1f1e50])_0x1b5097[_0x2a46da(0x139)][_0x1f1e50]=new Array(0x18)[_0x2a46da(0xc7)](0x0);const _0x2eb1a9=new Date()[_0x2a46da(0x157)]();if(_0x1b5097[_0x2a46da(0x139)][_0x1f1e50][_0x2eb1a9]<0x3c)_0x1b5097[_0x2a46da(0x139)][_0x1f1e50][_0x2eb1a9]++;await this[_0x2a46da(0xab)](_0x36b8c0,{'val':JSON['stringify'](_0x1b5097),'ack':!![]});}catch(_0x47dd1b){this['log'][_0x2a46da(0x81)](_0x2a46da(0x136)+_0x47dd1b['message']);}}async[a0_0x59d7c6(0x17d)](_0x5a2bdd){const _0x1753bb=a0_0x59d7c6;if(typeof _0x5a2bdd===_0x1753bb(0x162)&&_0x5a2bdd['message']){if(_0x5a2bdd[_0x1753bb(0x160)]===_0x1753bb(0x90)){const _0x41675b=_0x5a2bdd[_0x1753bb(0x10c)]['date'],_0x4c639e=utils[_0x1753bb(0x117)](),_0x4e67be=path[_0x1753bb(0x103)](_0x4c639e,_0x1753bb(0x187),_0x1753bb(0x139),_0x41675b+_0x1753bb(0xd3));if(fs[_0x1753bb(0xc4)](_0x4e67be))try{const _0x49045b=JSON['parse'](fs[_0x1753bb(0xb9)](_0x4e67be,_0x1753bb(0x191)));this['sendTo'](_0x5a2bdd['from'],_0x5a2bdd[_0x1753bb(0x160)],{'success':!![],'data':_0x49045b},_0x5a2bdd[_0x1753bb(0x190)]);}catch(_0x3c5a1f){this[_0x1753bb(0x113)](_0x5a2bdd['from'],_0x5a2bdd[_0x1753bb(0x160)],{'success':![],'error':_0x1753bb(0x143)},_0x5a2bdd['callback']);}else this[_0x1753bb(0x113)](_0x5a2bdd[_0x1753bb(0x15f)],_0x5a2bdd['command'],{'success':![],'error':_0x1753bb(0xb6)},_0x5a2bdd[_0x1753bb(0x190)]);}else{if(_0x5a2bdd['command']==='getOverviewData'){const _0x39468b=this[_0x1753bb(0x83)][_0x1753bb(0x125)];let _0x5c3107=new Array(0x30)[_0x1753bb(0xc7)](0x0),_0x31ab59=Array[_0x1753bb(0x15f)]({'length':0x30},()=>[]);try{const _0x511bd5=await this[_0x1753bb(0xb8)](_0x1753bb(0xd5));if(_0x511bd5&&_0x511bd5[_0x1753bb(0xf8)])_0x5c3107=JSON['parse'](_0x511bd5[_0x1753bb(0xf8)]);const _0x401fc2=await this[_0x1753bb(0xb8)]('analysis.health.todayRoomDetails');if(_0x401fc2&&_0x401fc2[_0x1753bb(0xf8)])_0x31ab59=JSON[_0x1753bb(0x151)](_0x401fc2[_0x1753bb(0xf8)]);}catch(_0x2aedf5){}let _0x2c4e5a=new Array(0x30)[_0x1753bb(0xc7)](0x0);try{const _0x4bcacf=new Date();_0x4bcacf[_0x1753bb(0x9b)](_0x4bcacf['getDate']()-0x1);const _0x49410b=_0x4bcacf[_0x1753bb(0xb4)]()[_0x1753bb(0x130)]('T')[0x0],_0x3a3a43=utils[_0x1753bb(0x117)](),_0x58acf8=path[_0x1753bb(0x103)](_0x3a3a43,'cogni-living',_0x1753bb(0x139),_0x49410b+'.json');if(fs[_0x1753bb(0xc4)](_0x58acf8)){const _0x53e3e4=JSON[_0x1753bb(0x151)](fs[_0x1753bb(0xb9)](_0x58acf8,_0x1753bb(0x191)));if(_0x53e3e4&&_0x53e3e4[_0x1753bb(0x10a)])_0x2c4e5a=_0x53e3e4[_0x1753bb(0x10a)];}}catch(_0x4bde92){}let _0x304afd={'today':{},'yesterday':{}};try{const _0x48b8d7=await this[_0x1753bb(0xb8)](_0x1753bb(0x11d));if(_0x48b8d7&&_0x48b8d7['val'])_0x304afd=JSON[_0x1753bb(0x151)](_0x48b8d7[_0x1753bb(0xf8)]);}catch(_0x3b176a){}let _0x11647e=null;try{const _0x4d3452=await this['getStateAsync'](_0x1753bb(0x128));if(_0x4d3452)_0x11647e=_0x4d3452[_0x1753bb(0xf8)];}catch(_0x4e15c7){}if(_0x11647e===undefined||_0x11647e===null){const _0x1d2467=_0x5c3107[_0x1753bb(0x121)]((_0x365ea,_0x453d1b)=>_0x365ea+_0x453d1b,0x0),_0x2867c2=Math['min'](0x2,Math['max'](-0x2,(0x64-_0x1d2467)/0x32));_0x11647e=_0x2867c2;}let _0x278e5f=![],_0xf94343='',_0x247cab='',_0x4c8ecf='';try{const _0x44b586=await this[_0x1753bb(0xb8)](_0x1753bb(0xf9));if(_0x44b586&&_0x44b586[_0x1753bb(0xf8)]){_0x278e5f=!![];const _0x2471cd=await this[_0x1753bb(0xb8)]('analysis.automation.description');_0xf94343=_0x2471cd?_0x2471cd[_0x1753bb(0xf8)]:'';const _0x2e92ca=await this[_0x1753bb(0xb8)]('analysis.automation.targetId');_0x247cab=_0x2e92ca?_0x2e92ca[_0x1753bb(0xf8)]:'';const _0x5acc6a=await this['getStateAsync'](_0x1753bb(0x18e));_0x4c8ecf=_0x5acc6a?_0x5acc6a[_0x1753bb(0xf8)]:'';}}catch(_0x2ffccb){}const _0x5acaac=await this[_0x1753bb(0x88)](),_0x3ab111=(this[_0x1753bb(0x183)][_0x1753bb(0x104)]||[])['some'](_0x4818a0=>_0x4818a0[_0x1753bb(0x11c)]),_0x2022d7=_0x5acaac&&_0x3ab111;let _0x3efd5f='';try{const _0x2dda8b=await this[_0x1753bb(0xb8)](_0x1753bb(0x146));if(_0x2dda8b&&_0x2dda8b['val'])_0x3efd5f=_0x2dda8b['val'];}catch(_0x1249d9){}this['sendTo'](_0x5a2bdd['from'],_0x5a2bdd[_0x1753bb(0x160)],{'success':!![],'eventHistory':this['eventHistory'][_0x1753bb(0x16d)](0x0,0x7d0),'stats':{'digestCount':_0x39468b,'isPresent':this[_0x1753bb(0xd7)],'hourlyActivity':_0x5c3107,'hourlyDetails':_0x31ab59,'yesterdayActivity':_0x2c4e5a,'solarActive':_0x2022d7,'presenceWho':_0x3efd5f,'roomStats':_0x304afd,'activityTrend':_0x11647e,'modules':this['activeModules']},'automation':{'detected':_0x278e5f,'description':_0xf94343,'targetId':_0x247cab,'targetValue':_0x4c8ecf}},_0x5a2bdd['callback']);}else{if(_0x5a2bdd[_0x1753bb(0x160)]===_0x1753bb(0xba))try{const _0x2a1475=await automation[_0x1753bb(0x9d)](this);this[_0x1753bb(0x113)](_0x5a2bdd['from'],_0x5a2bdd[_0x1753bb(0x160)],{'success':!![],'results':_0x2a1475},_0x5a2bdd['callback']);}catch(_0x271ef7){this[_0x1753bb(0x113)](_0x5a2bdd['from'],_0x5a2bdd[_0x1753bb(0x160)],{'success':![],'error':_0x271ef7[_0x1753bb(0x10c)]},_0x5a2bdd[_0x1753bb(0x190)]);}else{if(_0x5a2bdd['command']==='scanDevices')try{const _0x2b7f01=await scanner[_0x1753bb(0x176)](this,_0x5a2bdd['message']||{});this[_0x1753bb(0x113)](_0x5a2bdd[_0x1753bb(0x15f)],_0x5a2bdd[_0x1753bb(0x160)],{'success':!![],'devices':_0x2b7f01},_0x5a2bdd[_0x1753bb(0x190)]);}catch(_0x31a8ec){}else{if(_0x5a2bdd['command']===_0x1753bb(0xe9)){const _0x4a2703=await this['getForeignObjectsAsync'](_0x1753bb(0xee),'enum'),_0x33e122=[];if(_0x4a2703)for(const _0x5ae7cf in _0x4a2703){_0x33e122[_0x1753bb(0x199)]({'id':_0x5ae7cf,'name':_0x4a2703[_0x5ae7cf][_0x1753bb(0x8f)]['name']});}const _0x452026=await this['getForeignObjectsAsync']('enum.rooms.*','enum'),_0x27cebe=[];if(_0x452026)for(const _0x46cfb4 in _0x452026){_0x27cebe[_0x1753bb(0x199)](_0x452026[_0x46cfb4][_0x1753bb(0x8f)][_0x1753bb(0xa3)]||_0x46cfb4['split']('.')[_0x1753bb(0x87)]());}this[_0x1753bb(0x113)](_0x5a2bdd[_0x1753bb(0x15f)],_0x5a2bdd[_0x1753bb(0x160)],{'success':!![],'enums':_0x33e122,'rooms':_0x27cebe},_0x5a2bdd[_0x1753bb(0x190)]);}}}}}}}[a0_0x59d7c6(0xd8)](){const _0x2edd81=a0_0x59d7c6;if(!this[_0x2edd81(0x11f)][_0x2edd81(0x18c)])return;this[_0x2edd81(0xaf)][_0x2edd81(0xb0)](_0x2edd81(0xdf));try{const _0x40e709=this[_0x2edd81(0x197)]||[];pythonBridge[_0x2edd81(0xe4)](this,'CALCULATE_HEALTH_TREND',{'events':_0x40e709});}catch(_0x406be6){this[_0x2edd81(0xaf)]['warn'](_0x2edd81(0x14f));}}async['onStateChange'](_0x59a1be,_0x545fc6){const _0x834ac3=a0_0x59d7c6;if(!_0x545fc6||this['dependencyInstallInProgress'])return;if(_0x59a1be['includes'](_0x834ac3(0xa6))&&_0x59a1be[_0x834ac3(0xa5)](_0x834ac3(0x169))&&_0x545fc6[_0x834ac3(0xf8)])return;if(this['config'][_0x834ac3(0x10b)]&&_0x59a1be===this[_0x834ac3(0x183)][_0x834ac3(0x11e)]&&this['activeModules']['security']){this[_0x834ac3(0xb1)](_0x545fc6['val']);return;}if(_0x545fc6[_0x834ac3(0x9c)]&&_0x59a1be[_0x834ac3(0xa5)](_0x834ac3(0x12d)))return;if(_0x59a1be===this[_0x834ac3(0xa8)]+_0x834ac3(0x170)){if(_0x545fc6[_0x834ac3(0xf8)]&&Object['values'](setup[_0x834ac3(0x11b)])['includes'](_0x545fc6['val'])){this['currentSystemMode']=_0x545fc6[_0x834ac3(0xf8)];if(_0x545fc6[_0x834ac3(0xf8)]===setup[_0x834ac3(0x11b)]['VACATION'])await recorder['setPresence'](this,![]);else await recorder[_0x834ac3(0x164)](this,!![]);if(this['isProVersion']){let _0x28833d=![],_0x4e28fd=0x0,_0x1d626d=_0x834ac3(0xcf);if(this[_0x834ac3(0x185)]===_0x834ac3(0x94))_0x28833d=!![],_0x4e28fd=0x168,_0x1d626d=_0x834ac3(0x16b);else this[_0x834ac3(0x185)]===_0x834ac3(0x186)&&(_0x28833d=!![],_0x4e28fd=0x5a0,_0x1d626d=_0x834ac3(0x8c));pythonBridge['send'](this,'SET_LEARNING_MODE',{'active':_0x28833d,'duration':_0x4e28fd,'label':_0x1d626d}),await this[_0x834ac3(0xab)](_0x834ac3(0x13d),{'val':JSON[_0x834ac3(0x198)]({'active':_0x28833d,'label':_0x1d626d,'timestamp':Date[_0x834ac3(0x109)]()}),'ack':!![]});}}if(!_0x545fc6[_0x834ac3(0x9c)])this[_0x834ac3(0x108)](_0x59a1be,{'val':this[_0x834ac3(0x185)],'ack':!![]});return;}if(_0x59a1be[_0x834ac3(0xa5)]('analysis.energy.warmupSources')&&_0x545fc6[_0x834ac3(0x9c)])this[_0x834ac3(0x14b)](_0x545fc6['val']);if(_0x59a1be[_0x834ac3(0xa5)](_0x834ac3(0x85))&&_0x545fc6[_0x834ac3(0x9c)]&&this[_0x834ac3(0x11f)]['energy'])automation[_0x834ac3(0x189)](this);if(!_0x545fc6['ack']){if(_0x59a1be[_0x834ac3(0xca)]('analysis.trigger')&&_0x545fc6[_0x834ac3(0xf8)]){this['setState'](_0x59a1be,{'val':![],'ack':!![]}),aiAgent[_0x834ac3(0x129)](this);return;}if(_0x59a1be[_0x834ac3(0xca)](_0x834ac3(0x82))&&_0x545fc6[_0x834ac3(0xf8)]){this[_0x834ac3(0x108)](_0x59a1be,{'val':![],'ack':!![]});if(this[_0x834ac3(0xfd)])aiAgent[_0x834ac3(0x193)](this,pythonBridge);return;}if(_0x59a1be[_0x834ac3(0xca)](_0x834ac3(0xd9))&&_0x545fc6[_0x834ac3(0xf8)]){this[_0x834ac3(0x108)](_0x59a1be,{'val':![],'ack':!![]}),aiAgent[_0x834ac3(0x195)](this);return;}if(_0x59a1be[_0x834ac3(0xca)](_0x834ac3(0x14e))&&_0x545fc6[_0x834ac3(0xf8)]){this[_0x834ac3(0x108)](_0x59a1be,{'val':![],'ack':!![]}),aiAgent[_0x834ac3(0xc6)](this);return;}if(_0x59a1be[_0x834ac3(0xca)](_0x834ac3(0x148))&&_0x545fc6[_0x834ac3(0xf8)]){this[_0x834ac3(0x108)](_0x59a1be,{'val':![],'ack':!![]});if(this[_0x834ac3(0xfd)])try{const _0x3c0961=await this[_0x834ac3(0xb8)](_0x834ac3(0xd0));if(_0x3c0961&&_0x3c0961['val']){const _0x3452e3=JSON[_0x834ac3(0x151)](_0x3c0961[_0x834ac3(0xf8)]);this[_0x834ac3(0xab)](_0x834ac3(0x10e),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x834ac3(0xe4)](this,_0x834ac3(0x178),{'sequences':_0x3452e3});}}catch(_0x4a6639){}return;}if(_0x59a1be['includes']('analysis.training.triggerHealth')&&_0x545fc6[_0x834ac3(0xf8)]){this['setState'](_0x59a1be,{'val':![],'ack':!![]});if(this[_0x834ac3(0xfd)])try{this['runPythonHealthCheck']();const _0x4eef34=await this['getStateAsync']('LTM.dailyDigests');if(_0x4eef34&&_0x4eef34[_0x834ac3(0xf8)])pythonBridge[_0x834ac3(0xe4)](this,'TRAIN_HEALTH',{'digests':JSON['parse'](_0x4eef34[_0x834ac3(0xf8)])});aiAgent[_0x834ac3(0x16f)](this,'NIGHT'),setTimeout(()=>aiAgent[_0x834ac3(0x16f)](this,_0x834ac3(0x174)),0x2ee0);}catch(_0x45930f){}return;}if(_0x59a1be['includes'](_0x834ac3(0xd1))&&_0x545fc6[_0x834ac3(0xf8)]){this[_0x834ac3(0x108)](_0x59a1be,{'val':![],'ack':!![]});if(this[_0x834ac3(0xfd)])try{const _0x32acc5=await this['getStateAsync'](_0x834ac3(0x18b));if(_0x32acc5&&_0x32acc5[_0x834ac3(0xf8)])pythonBridge['send'](this,_0x834ac3(0xd2),{'points':JSON[_0x834ac3(0x151)](_0x32acc5[_0x834ac3(0xf8)])});}catch(_0x124434){}return;}if(_0x59a1be['includes'](_0x834ac3(0x137))&&_0x545fc6['val']){this[_0x834ac3(0x108)](_0x59a1be,{'val':![],'ack':!![]});if(this[_0x834ac3(0xfd)])try{const _0xc4bfec=await this[_0x834ac3(0xb8)](_0x834ac3(0x96));if(_0xc4bfec&&_0xc4bfec[_0x834ac3(0xf8)]){const _0x5708bb={};if(this['config'][_0x834ac3(0x104)])this[_0x834ac3(0x183)][_0x834ac3(0x104)]['forEach'](_0x54c16d=>{const _0x1261fe=_0x834ac3;if(_0x54c16d['id']&&_0x54c16d[_0x1261fe(0x119)])_0x5708bb[_0x54c16d['id']]=_0x54c16d[_0x1261fe(0x119)];});pythonBridge[_0x834ac3(0xe4)](this,_0x834ac3(0x153),{'events':JSON[_0x834ac3(0x151)](_0xc4bfec['val']),'deviceMap':_0x5708bb});}}catch(_0x5010b8){}return;}if(_0x59a1be[_0x834ac3(0xca)](_0x834ac3(0xe7))&&_0x545fc6['val']){this[_0x834ac3(0x108)](_0x59a1be,{'val':![],'ack':!![]}),topology[_0x834ac3(0x17f)](this);if(this[_0x834ac3(0xfd)])try{const _0x45125a=await this[_0x834ac3(0xb8)]('LTM.trainingData.sequences');if(_0x45125a&&_0x45125a['val'])pythonBridge[_0x834ac3(0xe4)](this,_0x834ac3(0x8d),{'sequences':JSON[_0x834ac3(0x151)](_0x45125a[_0x834ac3(0xf8)])});}catch(_0x2afc94){}return;}}const _0x32ba2b=(this[_0x834ac3(0x183)][_0x834ac3(0x104)]||[])[_0x834ac3(0x9e)](_0x371833=>_0x371833['id']===_0x59a1be);if(_0x32ba2b){const _0x266531=await recorder['processSensorEvent'](this,_0x59a1be,_0x545fc6,_0x32ba2b);_0x266531&&this[_0x834ac3(0x108)](_0x834ac3(0x15d),{'val':Date[_0x834ac3(0x109)](),'ack':!![]});_0x266531&&_0x266531[_0x834ac3(0x119)]===_0x834ac3(0xcb)&&_0x266531['location']&&this['isProVersion']&&deadMan[_0x834ac3(0xe8)](this,_0x266531[_0x834ac3(0xe2)]);_0x545fc6[_0x834ac3(0xf8)]&&(_0x545fc6[_0x834ac3(0xf8)]===!![]||_0x545fc6[_0x834ac3(0xf8)]===0x1||String(_0x545fc6[_0x834ac3(0xf8)])[_0x834ac3(0x141)]()===_0x834ac3(0x161))&&(_0x32ba2b[_0x834ac3(0x119)]&&(_0x32ba2b[_0x834ac3(0x119)][_0x834ac3(0xca)](_0x834ac3(0x110))||_0x32ba2b['type'][_0x834ac3(0xca)](_0x834ac3(0x95)))&&this['analyzeWindowOpening'](_0x32ba2b));if(_0x32ba2b[_0x834ac3(0x119)]===_0x834ac3(0xb2)||_0x32ba2b[_0x834ac3(0x119)]===_0x834ac3(0x131)){if(this[_0x834ac3(0x11f)][_0x834ac3(0x18a)])automation[_0x834ac3(0x17e)](this);}}}async['protectAiMemory'](_0x1dcd73){const _0x4a09d3=a0_0x59d7c6;if(!this[_0x4a09d3(0xf1)]||Date[_0x4a09d3(0x109)]()-this[_0x4a09d3(0xb3)]>0x493e0)return;try{const _0x40d73b=JSON['parse'](_0x1dcd73),_0x397db6=this[_0x4a09d3(0xf1)][_0x4a09d3(0x184)];let _0x4b2a9d=![];for(const _0x3b8111 in _0x397db6){if(_0x397db6[_0x3b8111]['includes']('AI')&&_0x40d73b[_0x3b8111]&&!_0x40d73b[_0x3b8111][_0x4a09d3(0xca)]('AI')){_0x4b2a9d=!![];break;}}_0x4b2a9d&&(await this['setStateAsync'](_0x4a09d3(0x85),{'val':JSON[_0x4a09d3(0x198)](this[_0x4a09d3(0xf1)]['times']),'ack':!![]}),await this[_0x4a09d3(0xab)](_0x4a09d3(0x115),{'val':JSON['stringify'](this[_0x4a09d3(0xf1)][_0x4a09d3(0x184)]),'ack':!![]}));}catch(_0x1d59ad){}}async[a0_0x59d7c6(0x13f)](){const _0x41493d=a0_0x59d7c6;try{const _0x44b405=await this[_0x41493d(0xb8)](setup[_0x41493d(0xae)]);if(_0x44b405&&_0x44b405['val'])this[_0x41493d(0x185)]=_0x44b405[_0x41493d(0xf8)];}catch(_0x46aa85){this['currentSystemMode']=setup['SYSTEM_MODES'][_0x41493d(0x92)];}}async[a0_0x59d7c6(0xbd)](){return![];}async[a0_0x59d7c6(0xce)](){const _0x4016f8=a0_0x59d7c6;await aiAgent[_0x4016f8(0x129)](this);this['activeModules'][_0x4016f8(0x18c)]&&(this[_0x4016f8(0x19b)](),this['triggerGaitAnalysis']());if(this[_0x4016f8(0x11f)][_0x4016f8(0x18a)])this[_0x4016f8(0x102)]();}async[a0_0x59d7c6(0x88)](){return![];}[a0_0x59d7c6(0xb7)](){const _0x398c9a=a0_0x59d7c6;if(!this[_0x398c9a(0xfd)])return;}async[a0_0x59d7c6(0x102)](){}['updateHealthVector'](){}async[a0_0x59d7c6(0xb1)](_0x1ad65e){}async[a0_0x59d7c6(0x14a)](_0x3957bb,_0x1a19ff){}async[a0_0x59d7c6(0xaa)](_0x1c4b75){}async['appendToLog'](_0x35afa3){}[a0_0x59d7c6(0x17c)](_0x544317){}}if(require[a0_0x59d7c6(0x13c)]!==module)module[a0_0x59d7c6(0xec)]=_0x12b4f0=>new CogniLiving(_0x12b4f0);else new CogniLiving();