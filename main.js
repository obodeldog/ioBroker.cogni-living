function a0_0x57b3(_0x48abdc,_0x25591c){const _0x4d33a6=a0_0x11d0();return a0_0x57b3=function(_0x492df6,_0x697195){_0x492df6=_0x492df6-0xc2;let _0x11d03e=_0x4d33a6[_0x492df6];return _0x11d03e;},a0_0x57b3(_0x48abdc,_0x25591c);}const a0_0xe8284b=a0_0x57b3;(function(_0x8bdc6,_0x15b39e){const _0x5bb687=a0_0x57b3,_0x5b6994=_0x8bdc6();while(!![]){try{const _0x5e2be7=parseInt(_0x5bb687(0x18c))/0x1+parseInt(_0x5bb687(0x182))/0x2*(parseInt(_0x5bb687(0x162))/0x3)+parseInt(_0x5bb687(0x134))/0x4*(-parseInt(_0x5bb687(0x176))/0x5)+parseInt(_0x5bb687(0xdd))/0x6*(-parseInt(_0x5bb687(0x1b2))/0x7)+parseInt(_0x5bb687(0x154))/0x8+parseInt(_0x5bb687(0xcd))/0x9+parseInt(_0x5bb687(0x1a4))/0xa*(-parseInt(_0x5bb687(0x1a0))/0xb);if(_0x5e2be7===_0x15b39e)break;else _0x5b6994['push'](_0x5b6994['shift']());}catch(_0x39aa2c){_0x5b6994['push'](_0x5b6994['shift']());}}}(a0_0x11d0,0xe3459));const a0_0x697195=(function(){let _0x25fee6=!![];return function(_0x15d922,_0x2645ae){const _0x51f32e=_0x25fee6?function(){if(_0x2645ae){const _0x3edc37=_0x2645ae['apply'](_0x15d922,arguments);return _0x2645ae=null,_0x3edc37;}}:function(){};return _0x25fee6=![],_0x51f32e;};}()),a0_0x492df6=a0_0x697195(this,function(){const _0x19005c=a0_0x57b3;return a0_0x492df6[_0x19005c(0x11d)]()[_0x19005c(0x1d3)]('(((.+)+)+)+$')[_0x19005c(0x11d)]()[_0x19005c(0x11f)](a0_0x492df6)[_0x19005c(0x1d3)]('(((.+)+)+)+$');});a0_0x492df6();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require('./lib/installer'),scanner=require(a0_0xe8284b(0x1c9)),schedulers=require('./lib/scheduler'),topology=require(a0_0xe8284b(0x14d)),setup=require(a0_0xe8284b(0x1ca)),recorder=require(a0_0xe8284b(0x13d)),pythonBridge=require(a0_0xe8284b(0x1b6)),aiAgent=require(a0_0xe8284b(0x115)),deadMan=require('./lib/dead_man'),automation=require(a0_0xe8284b(0xec)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x11d0(){const _0x2028b=['analysis.triggerBriefing','initZombies','communicate.request','system.adapter.','genAI','./lib/topology','sendMorningBriefing','ack','getForeignStateAsync','Gemini\x20Init\x20Error:\x20','LTM.triggerDailyDigest','General\x20Activity\x20Trend\x20(%)','8009872AIeezk','SET_LEARNING_MODE','config','PINN\x20AI\x20Forecast','Active\x20Ventilation\x20Alerts','analysis.automation.description','log','loadSystemMode','Sensors\x20used\x20for\x20Gait\x20Analysis','inactivityThresholdHours','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','\x20min\x20ausbleiben.','PYTHON_EXE','minDaysForBaseline','1327611MGMTfx','updateHealthVector','Kein\x20Kalender-Adapter','trackerEnabled','values','sendTo','setStateAsync','daswetter.0','analysis.training.status','simulateButler','telegram','processSensorEvent','runPythonHealthCheck','getHours','endsWith','weatherunderground.0','motion','LTM.dailyDigests','notifyTelegramInstance','enum.functions.*','755QswLdq','analysis.automation.targetValue','onStateChange','analysis.energy.insulationScore','floor','scanDevices','runGeminiAnalysis','simulateEnergyMPC','setObjectNotExistsAsync','text','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','analysis.trigger','6jTgGhP','manual','exitTimer','checkCalendarTriggers','checkLicense','testNotification','setState','checkAndInstall','error','pop','1270000KJXlnu','parse','matrix','.system.mode','currentSystemMode','timestamp','onUnload','from','Reinforcement\x20Learning\x20Penalties','LTM.rawEventLog','analysis.health.todayVector','analysis.training.triggerHealth','analysis.automation.autoApply','Simulation\x20durch\x20Admin\x20(Test)','rawEventLog','exports','bind','startService','system.mode','Gait\x20Speed\x20Calculation\x20Proof','517sbZGOV','Warm-Up\x20Target\x20Temps\x20(JSON)','join','toLowerCase','236690IJHyyn','send','isProVersion','online','ltmJob','modeResetJob','analysisTimer','analysis.energy.rlPenalties','trackerHeartbeat','SET_TOPOLOGY','analysis.energy.ventilationAlerts','getStateAsync','getOverviewData','SYSTEM_DP_MODE','9782381dmrpxg','checkWifiPresence','generateContent','Guest\x20Mode','./lib/python_bridge','main','scanThermostats','analysis.health.activityTrend','sendNotification','analysis.energy.mpcActive','system.presenceWho','getTime','map','state','apiKey','onMessage','useWeather','abs','initSystemConfig','SYSTEM_MODES','getEnums','object','LTM.baselineStatus','./lib/scanner','./lib/setup','Heizung\x20kann\x20','NORMAL','Party\x20Mode','_calName','slice','TRACK_EVENT','temperature','updateLocation','search','fill','Lernphase\x20(','Kein\x20API\x20Key\x20Ã¼bergeben','executeAutomationAction','Kein\x20Wetter-Adapter',')\x20-\x20Phase\x20D\x20(Transparency)','getMinutes','forEach','presenceDevices','stringify','TRAIN_ENERGY','analysis.health.gaitSensors','1645137UoWVFX','getForeignObjectAsync','briefingJob','lastAlertState','callback','Current.WeatherText','lastTrackerEventTime','triggerEnergyPrediction','common','testApiKey','sonn','subscribeForeignStatesAsync','abortExitTimer','cleanupGhostInterventions','analysis.training.triggerSecurity','Test','6NhvLpx','geminiModel','cancel','keys','now','checkSolarCondition','includes','setupModeResetScheduler','enum.rooms.*','initHistory','TRAIN_HEALTH','automation.triggerAction','setPresence','analysis.training.triggerTopology','info','./lib/automation','analysisInterval','notifyTelegramEnabled','dailyDigests','analysis.training.triggerEnergy','exitGraceTimer','triggerDailyDigest','driftAnalysisTimer','cogni-living','TRAIN_COMFORT','createDailyDigest','ready','forecast.current.weather','Verbindung\x20erfolgreich!','Notification\x20Test\x20Failed:\x20','command','analysis.security.learningStatus','getOutsideTemperatureNumeric','calendarName','calendarInstance','Verbunden','{\x22default\x22:\x2021}','type','Keine\x20Antwort\x20von\x20Gemini','analysisHistory','getGenerativeModel','triggerGaitAnalysis','isPresent','entries','onReady','stopService','message','dependencyInstallInProgress','Standard','healthTrendInterval','analysis.energy.warmupTimes','getLtmData','activityLevel','analysis.automation.targetId','minutes_safe','WiFi\x20Presence\x20detected.','./lib/ai_agent','Activity-Level','subscribeStates','Instanz\x20nicht\x20gefunden','devices','createAllObjects','klar','isGracePeriodActive','toString','scores','constructor','thermostat','version','json','name','.data.table','length','add','checkThermostats','analysis.topology.structure','updateTopologyMatrix','updateTopology','sensorLastValues','clear','string','eventHistory','location','analysis.energy.warmupTargets','accuweather.0','NextHours.Location_1.Day_1.current.symbol_desc','val','9028WkgDpW','heiter','getForeignObjectsAsync','startSystem','dismissAutomation','enum','updated','stateChange','push','./lib/recorder','key','value','analysis.automation.patternDetected','namespace','LTM.trainingData.sequences','Gesendet','Gemini\x20AI\x20initialized.','setupDriftAnalysisScheduler','Key\x20not\x20found\x20or\x20not\x20provided','number'];a0_0x11d0=function(){return _0x2028b;};return a0_0x11d0();}class CogniLiving extends utils['Adapter']{constructor(_0x22b605){const _0x123f43=a0_0xe8284b;super({..._0x22b605,'name':_0x123f43(0xf4)}),this[_0x123f43(0x12e)]=[],this[_0x123f43(0x104)]=[],this[_0x123f43(0x19a)]=[],this[_0x123f43(0xef)]=[],this[_0x123f43(0x12b)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x123f43(0x107)]=!![],this[_0x123f43(0x184)]=null,this[_0x123f43(0xf1)]=null,this[_0x123f43(0x11c)]=![],this[_0x123f43(0x14c)]=null,this[_0x123f43(0xde)]=null,this['currentSystemMode']=setup[_0x123f43(0x1c5)]['NORMAL'],this['isProVersion']=![],this[_0x123f43(0xd0)]=![],this[_0x123f43(0x1aa)]=null,this['ltmJob']=null,this[_0x123f43(0x1a9)]=null,this['driftAnalysisTimer']=null,this['briefingJob']=null,this[_0x123f43(0x1ac)]=null,this[_0x123f43(0x10e)]=null,this[_0x123f43(0x10c)]=![],this[_0x123f43(0xd3)]=Date[_0x123f43(0xe1)](),this['on'](_0x123f43(0xf7),this['onReady'][_0x123f43(0x19c)](this)),this['on'](_0x123f43(0x13b),this[_0x123f43(0x178)][_0x123f43(0x19c)](this)),this['on']('unload',this[_0x123f43(0x192)][_0x123f43(0x19c)](this)),this['on'](_0x123f43(0x10b),this[_0x123f43(0x1c1)][_0x123f43(0x19c)](this));}async[a0_0xe8284b(0x109)](){const _0xd9b94b=a0_0xe8284b;this[_0xd9b94b(0x15a)]['info']('cogni-living\x20adapter\x20starting\x20(v'+this[_0xd9b94b(0x121)]+_0xd9b94b(0xc6));if(!installer[_0xd9b94b(0x189)](this,()=>this[_0xd9b94b(0x137)]()))return;}async[a0_0xe8284b(0x137)](){const _0x1a44e0=a0_0xe8284b;await setup[_0x1a44e0(0x149)](this);try{this[_0x1a44e0(0x1a6)]=await setup[_0x1a44e0(0x186)](this[_0x1a44e0(0x156)]['licenseKey']);}catch(_0x268c69){}if(!this['config'][_0x1a44e0(0x15d)]||this[_0x1a44e0(0x156)][_0x1a44e0(0x15d)]<0.1)this['config'][_0x1a44e0(0x15d)]=0xc;await setup[_0x1a44e0(0xe6)](this),await setup[_0x1a44e0(0x1c4)](this);if(this[_0x1a44e0(0x156)]['geminiApiKey'])try{this[_0x1a44e0(0x14c)]=new GoogleGenerativeAI(this[_0x1a44e0(0x156)]['geminiApiKey']),this[_0x1a44e0(0xde)]=this[_0x1a44e0(0x14c)][_0x1a44e0(0x105)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this['log']['info'](_0x1a44e0(0x144));}catch(_0x5c76d6){this['log']['error'](_0x1a44e0(0x151)+_0x5c76d6[_0x1a44e0(0x10b)]);}await setup[_0x1a44e0(0x11a)](this),await this[_0x1a44e0(0x15b)](),await this['setObjectNotExistsAsync']('analysis.energy.pinnForecast',{'type':_0x1a44e0(0x1bf),'common':{'name':_0x1a44e0(0x157),'type':_0x1a44e0(0x12d),'role':_0x1a44e0(0x122),'read':!![],'write':![]},'native':{}}),await this[_0x1a44e0(0x17e)](_0x1a44e0(0x1ae),{'type':_0x1a44e0(0x1bf),'common':{'name':_0x1a44e0(0x158),'type':_0x1a44e0(0x12d),'role':_0x1a44e0(0x122),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x1a44e0(0x10f),{'type':_0x1a44e0(0x1bf),'common':{'name':_0x1a44e0(0x15e),'type':_0x1a44e0(0x12d),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x1a44e0(0x17e)](_0x1a44e0(0x130),{'type':_0x1a44e0(0x1bf),'common':{'name':_0x1a44e0(0x1a1),'type':_0x1a44e0(0x12d),'role':_0x1a44e0(0x122),'read':!![],'write':!![],'def':_0x1a44e0(0x101)},'native':{}}),await this['setObjectNotExistsAsync'](_0x1a44e0(0x1ab),{'type':_0x1a44e0(0x1bf),'common':{'name':_0x1a44e0(0x194),'type':_0x1a44e0(0x12d),'role':_0x1a44e0(0x122),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x1a44e0(0x17e)](_0x1a44e0(0x1b9),{'type':_0x1a44e0(0x1bf),'common':{'name':_0x1a44e0(0x153),'type':_0x1a44e0(0x147),'role':_0x1a44e0(0x13f),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x1a44e0(0x17e)](_0x1a44e0(0xcc),{'type':'state','common':{'name':_0x1a44e0(0x15c),'type':_0x1a44e0(0x12d),'role':_0x1a44e0(0x17f),'read':!![],'write':![]},'native':{}}),await this[_0x1a44e0(0x17e)]('analysis.health.gaitDebug',{'type':_0x1a44e0(0x1bf),'common':{'name':_0x1a44e0(0x19f),'type':'string','role':_0x1a44e0(0x17f),'read':!![],'write':![]},'native':{}});try{const _0x321dc3=await this[_0x1a44e0(0x1af)](_0x1a44e0(0x195));if(_0x321dc3&&_0x321dc3['val'])this['rawEventLog']=JSON[_0x1a44e0(0x18d)](_0x321dc3[_0x1a44e0(0x133)]);}catch(_0x5ded68){this[_0x1a44e0(0x19a)]=[];}try{const _0xd2d5cf=await this[_0x1a44e0(0x1af)](_0x1a44e0(0x173));if(_0xd2d5cf&&_0xd2d5cf[_0x1a44e0(0x133)])this['dailyDigests']=JSON[_0x1a44e0(0x18d)](_0xd2d5cf[_0x1a44e0(0x133)]);}catch(_0x59a44a){this['dailyDigests']=[];}const _0x3805b3=this[_0x1a44e0(0xef)][_0x1a44e0(0x125)]>=(this[_0x1a44e0(0x156)]['minDaysForBaseline']||0x7)?'Aktiv\x20('+this[_0x1a44e0(0xef)][_0x1a44e0(0x125)]+'\x20Tage)':_0x1a44e0(0xc2)+this[_0x1a44e0(0xef)]['length']+'/'+(this[_0x1a44e0(0x156)][_0x1a44e0(0x161)]||0x7)+')';await this[_0x1a44e0(0x168)](_0x1a44e0(0x1c8),{'val':_0x3805b3,'ack':!![]}),this['subscribeStates']('analysis.trigger'),this['subscribeStates'](_0x1a44e0(0x152)),this['subscribeStates'](_0x1a44e0(0x19e)),this[_0x1a44e0(0x117)](_0x1a44e0(0x148)),this[_0x1a44e0(0x117)]('analysis.automation.triggerAction'),this[_0x1a44e0(0x117)](_0x1a44e0(0x198)),this['subscribeStates'](_0x1a44e0(0xdb)),this[_0x1a44e0(0x117)]('analysis.training.triggerHealth'),this[_0x1a44e0(0x117)](_0x1a44e0(0xf0)),this['subscribeStates']('analysis.training.triggerComfort'),this[_0x1a44e0(0x117)](_0x1a44e0(0xea)),this[_0x1a44e0(0x117)](_0x1a44e0(0x1bb));const _0x5c1859=this[_0x1a44e0(0x156)][_0x1a44e0(0x119)];if(_0x5c1859)for(const _0x5bf3d4 of _0x5c1859){await this['subscribeForeignStatesAsync'](_0x5bf3d4['id']);}const _0x53d1f9=this[_0x1a44e0(0x156)][_0x1a44e0(0xc9)];if(_0x53d1f9)for(const _0x2088a1 of _0x53d1f9){await this[_0x1a44e0(0xd8)](_0x2088a1);}if(this[_0x1a44e0(0x156)][_0x1a44e0(0xee)]&&this['config'][_0x1a44e0(0x174)])await this[_0x1a44e0(0xd8)](this['config'][_0x1a44e0(0x174)]+'.communicate.request');setTimeout(()=>this[_0x1a44e0(0x1b3)](),0x1388);if(this[_0x1a44e0(0x1aa)])clearInterval(this[_0x1a44e0(0x1aa)]);const _0x17c427=this[_0x1a44e0(0x156)][_0x1a44e0(0xed)]||0xf;_0x17c427>0x0&&(this[_0x1a44e0(0x1aa)]=setInterval(()=>{const _0x143fbe=_0x1a44e0;this['runAutopilot'](),automation[_0x143fbe(0x185)](this);},_0x17c427*0x3c*0x3e8));setTimeout(()=>automation[_0x1a44e0(0x185)](this),0x2710);this[_0x1a44e0(0x156)][_0x1a44e0(0x165)]!==![]&&(this[_0x1a44e0(0x1ac)]=setInterval(()=>{const _0x2f549f=_0x1a44e0;if(this[_0x2f549f(0x1a6)]){const _0x189806=Date[_0x2f549f(0xe1)](),_0x5c0e92=this[_0x2f549f(0xd3)]||_0x189806,_0x5b232c=(_0x189806-_0x5c0e92)/0x3e8;_0x5b232c>0x2&&(this[_0x2f549f(0xd3)]=_0x189806,pythonBridge[_0x2f549f(0x1a5)](this,_0x2f549f(0x1d0),{'room':null,'dt':_0x5b232c}));}},0xbb8));if(this[_0x1a44e0(0x10e)])clearInterval(this[_0x1a44e0(0x10e)]);this[_0x1a44e0(0x10e)]=setInterval(()=>{const _0x339a50=_0x1a44e0;this['isProVersion']&&(this[_0x339a50(0x15a)]['info']('â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...'),this[_0x339a50(0x16e)]());},0x4*0x3c*0x3c*0x3e8),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x1a44e0(0xf6)](this,pythonBridge)),schedulers[_0x1a44e0(0xe4)](this),schedulers[_0x1a44e0(0x145)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers['setupBriefingScheduler'](this,()=>aiAgent[_0x1a44e0(0x14e)](this)),pythonBridge[_0x1a44e0(0x19d)](this,installer[_0x1a44e0(0x160)]),setTimeout(async()=>{const _0x4fc187=_0x1a44e0;await topology[_0x4fc187(0x12a)](this);try{const _0x4a8dfc=await this[_0x4fc187(0x1af)]('analysis.topology.structure');if(_0x4a8dfc&&_0x4a8dfc['val'])pythonBridge[_0x4fc187(0x1a5)](this,_0x4fc187(0x1ad),JSON[_0x4fc187(0x18d)](_0x4a8dfc['val']));}catch(_0x201f55){}this['runPythonHealthCheck'](),this[_0x4fc187(0x106)](),this[_0x4fc187(0xd4)](),this[_0x4fc187(0x163)]();},0x1388);}['onUnload'](_0x57cd15){const _0x3fb583=a0_0xe8284b;if(this[_0x3fb583(0x1aa)])clearInterval(this[_0x3fb583(0x1aa)]);if(this[_0x3fb583(0xf3)])clearInterval(this[_0x3fb583(0xf3)]);if(this[_0x3fb583(0x1ac)])clearInterval(this[_0x3fb583(0x1ac)]);if(this[_0x3fb583(0x10e)])clearInterval(this[_0x3fb583(0x10e)]);if(this[_0x3fb583(0x1a8)])this[_0x3fb583(0x1a8)][_0x3fb583(0xdf)]();if(this[_0x3fb583(0x1a9)])this[_0x3fb583(0x1a9)][_0x3fb583(0xdf)]();if(this[_0x3fb583(0xcf)])this['briefingJob']['cancel']();recorder[_0x3fb583(0xd9)](this),pythonBridge[_0x3fb583(0x10a)](this),_0x57cd15();}async[a0_0xe8284b(0x178)](_0x5ba4e9,_0x335b9c){const _0x7f98a2=a0_0xe8284b;if(!_0x335b9c||this[_0x7f98a2(0x10c)])return;if(_0x5ba4e9[_0x7f98a2(0xe3)](_0x7f98a2(0x16c))&&_0x5ba4e9[_0x7f98a2(0x170)](_0x7f98a2(0x14a))&&_0x335b9c[_0x7f98a2(0x133)])return;if(_0x5ba4e9===this[_0x7f98a2(0x141)]+_0x7f98a2(0x18f)){if(_0x335b9c['val']&&Object[_0x7f98a2(0x166)](setup['SYSTEM_MODES'])[_0x7f98a2(0xe3)](_0x335b9c[_0x7f98a2(0x133)])){this[_0x7f98a2(0x190)]=_0x335b9c[_0x7f98a2(0x133)];if(_0x335b9c[_0x7f98a2(0x133)]===setup[_0x7f98a2(0x1c5)]['VACATION'])await recorder[_0x7f98a2(0xe9)](this,![]);else await recorder[_0x7f98a2(0xe9)](this,!![]);if(this['isProVersion']){let _0x120260=![],_0x33c8da=0x0,_0x24521c=_0x7f98a2(0x183);if(this['currentSystemMode']==='party')_0x120260=!![],_0x33c8da=0x168,_0x24521c=_0x7f98a2(0x1cd);else this[_0x7f98a2(0x190)]==='guest'&&(_0x120260=!![],_0x33c8da=0x5a0,_0x24521c=_0x7f98a2(0x1b5));pythonBridge[_0x7f98a2(0x1a5)](this,_0x7f98a2(0x155),{'active':_0x120260,'duration':_0x33c8da,'label':_0x24521c}),await this['setStateAsync'](_0x7f98a2(0xfc),{'val':JSON['stringify']({'active':_0x120260,'label':_0x24521c,'timestamp':Date[_0x7f98a2(0xe1)]()}),'ack':!![]});}}if(!_0x335b9c['ack'])this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':this[_0x7f98a2(0x190)],'ack':!![]});return;}if(!_0x335b9c[_0x7f98a2(0x14f)]){if(_0x5ba4e9['includes'](_0x7f98a2(0x181))&&_0x335b9c[_0x7f98a2(0x133)]){this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':![],'ack':!![]}),aiAgent[_0x7f98a2(0x17c)](this);return;}if(_0x5ba4e9[_0x7f98a2(0xe3)](_0x7f98a2(0xf2))&&_0x335b9c[_0x7f98a2(0x133)]){this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':![],'ack':!![]});if(this[_0x7f98a2(0x1a6)])aiAgent[_0x7f98a2(0xf6)](this,pythonBridge);return;}if(_0x5ba4e9[_0x7f98a2(0xe3)]('triggerBriefing')&&_0x335b9c[_0x7f98a2(0x133)]){this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this);return;}if(_0x5ba4e9['includes'](_0x7f98a2(0xe8))&&_0x335b9c[_0x7f98a2(0x133)]){this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':![],'ack':!![]}),aiAgent[_0x7f98a2(0xc4)](this);return;}if(_0x5ba4e9[_0x7f98a2(0xe3)](_0x7f98a2(0xdb))&&_0x335b9c[_0x7f98a2(0x133)]){this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':![],'ack':!![]});if(this[_0x7f98a2(0x1a6)])try{const _0x5bc34a=await this[_0x7f98a2(0x1af)](_0x7f98a2(0x142));if(_0x5bc34a&&_0x5bc34a[_0x7f98a2(0x133)]){const _0x57eb50=JSON[_0x7f98a2(0x18d)](_0x5bc34a[_0x7f98a2(0x133)]);this[_0x7f98a2(0x168)](_0x7f98a2(0x16a),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x7f98a2(0x1a5)](this,'TRAIN_SECURITY',{'sequences':_0x57eb50});}}catch(_0xd09c29){}return;}if(_0x5ba4e9[_0x7f98a2(0xe3)](_0x7f98a2(0x197))&&_0x335b9c[_0x7f98a2(0x133)]){this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':![],'ack':!![]});if(this[_0x7f98a2(0x1a6)])try{const _0x4be2b5=await this[_0x7f98a2(0x1af)](_0x7f98a2(0x173));if(_0x4be2b5&&_0x4be2b5[_0x7f98a2(0x133)])pythonBridge['send'](this,_0x7f98a2(0xe7),{'digests':JSON[_0x7f98a2(0x18d)](_0x4be2b5[_0x7f98a2(0x133)])});}catch(_0x5888c2){}return;}if(_0x5ba4e9[_0x7f98a2(0xe3)]('analysis.training.triggerEnergy')&&_0x335b9c[_0x7f98a2(0x133)]){this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':![],'ack':!![]});if(this[_0x7f98a2(0x1a6)])try{const _0x4c274f=await this[_0x7f98a2(0x1af)]('LTM.trainingData.thermodynamics');if(_0x4c274f&&_0x4c274f[_0x7f98a2(0x133)])pythonBridge['send'](this,_0x7f98a2(0xcb),{'points':JSON[_0x7f98a2(0x18d)](_0x4c274f[_0x7f98a2(0x133)])});}catch(_0x2f88c7){}return;}if(_0x5ba4e9[_0x7f98a2(0xe3)]('analysis.training.triggerComfort')&&_0x335b9c['val']){this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x58a6ef=await this['getStateAsync'](_0x7f98a2(0x195));if(_0x58a6ef&&_0x58a6ef[_0x7f98a2(0x133)])pythonBridge['send'](this,_0x7f98a2(0xf5),{'events':JSON[_0x7f98a2(0x18d)](_0x58a6ef['val'])});}catch(_0x4efe93){}return;}if(_0x5ba4e9[_0x7f98a2(0xe3)](_0x7f98a2(0xea))&&_0x335b9c['val']){this[_0x7f98a2(0x188)](_0x5ba4e9,{'val':![],'ack':!![]}),topology[_0x7f98a2(0x12a)](this);return;}}if(this['config']['presenceDevices']&&this[_0x7f98a2(0x156)][_0x7f98a2(0xc9)][_0x7f98a2(0xe3)](_0x5ba4e9)){await this[_0x7f98a2(0x1b3)]();return;}const _0x2b3a46=(this[_0x7f98a2(0x156)][_0x7f98a2(0x119)]||[])['find'](_0x17035f=>_0x17035f['id']===_0x5ba4e9);if(_0x2b3a46){const _0x3c1b74=await recorder[_0x7f98a2(0x16d)](this,_0x5ba4e9,_0x335b9c,_0x2b3a46);_0x3c1b74&&_0x3c1b74[_0x7f98a2(0x102)]===_0x7f98a2(0x172)&&_0x3c1b74[_0x7f98a2(0x12f)]&&this[_0x7f98a2(0x1a6)]&&deadMan[_0x7f98a2(0x1d2)](this,_0x3c1b74[_0x7f98a2(0x12f)]),(_0x2b3a46['type']===_0x7f98a2(0x1d1)||_0x2b3a46[_0x7f98a2(0x102)]===_0x7f98a2(0x120))&&automation[_0x7f98a2(0xda)](this);}}async[a0_0xe8284b(0x1c1)](_0x1828f9){const _0x3195a1=a0_0xe8284b;if(typeof _0x1828f9==='object'&&_0x1828f9[_0x3195a1(0x10b)]){if(_0x1828f9[_0x3195a1(0xfb)]===_0x3195a1(0x127))try{const _0x21e170=await automation[_0x3195a1(0x1b8)](this);this['sendTo'](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'results':_0x21e170},_0x1828f9[_0x3195a1(0xd1)]);}catch(_0x4bbfdf){this[_0x3195a1(0x167)](_0x1828f9['from'],_0x1828f9[_0x3195a1(0xfb)],{'success':![],'error':_0x4bbfdf[_0x3195a1(0x10b)]},_0x1828f9[_0x3195a1(0xd1)]);}else{if(_0x1828f9[_0x3195a1(0xfb)]===_0x3195a1(0x17d))try{const {current_temps:_0x124e79,t_out:_0x4168a6,targets:_0x12d38f,t_forecast:_0x4679d3}=_0x1828f9[_0x3195a1(0x10b)],_0x11b9b0=[];let _0x559dd3={};try{const _0x322aa4=await this[_0x3195a1(0x1af)](_0x3195a1(0x179));if(_0x322aa4&&_0x322aa4[_0x3195a1(0x133)]){const _0x14f284=JSON[_0x3195a1(0x18d)](_0x322aa4[_0x3195a1(0x133)]);_0x559dd3=_0x14f284[_0x3195a1(0x11e)]||_0x14f284;}}catch(_0x183b8d){}const _0x8bd65c=_0x4679d3!==undefined&&_0x4679d3!==null?(_0x4168a6+_0x4679d3)/0x2:_0x4168a6;for(const [_0x2a2ed7,_0x541e63]of Object[_0x3195a1(0x108)](_0x124e79)){const _0x2f363a=_0x12d38f[_0x2a2ed7]||0x15;if(_0x541e63<=_0x2f363a)continue;let _0x436500=_0x559dd3[_0x2a2ed7]||-0.5;if(_0x436500>=0x0)_0x436500=-0.5;const _0x3a6bb8=Math[_0x3195a1(0x1c3)](_0x436500),_0x2ad069=_0x541e63-_0x2f363a;let _0x5526bf=Math['floor'](_0x2ad069/_0x3a6bb8*0x3c);const _0xbdc77c=_0x541e63-_0x4168a6,_0x53b3f2=_0x541e63-_0x8bd65c;if(_0x53b3f2!==0x0&&_0xbdc77c!==0x0){const _0x33ed94=_0xbdc77c/_0x53b3f2;_0x5526bf=Math['floor'](_0x5526bf*_0x33ed94);}if(_0x5526bf>0xf){if(_0x5526bf>0xf0)_0x5526bf=0xf0;_0x11b9b0['push']({'room':_0x2a2ed7,'minutes_safe':_0x5526bf,'target':_0x2f363a,'current':_0x541e63,'savings_msg':_0x3195a1(0x1cb)+_0x5526bf+_0x3195a1(0x15f)});}}_0x11b9b0['sort']((_0xea9ba1,_0x397156)=>_0x397156[_0x3195a1(0x113)]-_0xea9ba1[_0x3195a1(0x113)]),this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'proposals':_0x11b9b0},_0x1828f9[_0x3195a1(0xd1)]);}catch(_0x54455a){this['sendTo'](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':![],'error':_0x54455a[_0x3195a1(0x10b)]},_0x1828f9['callback']);}else{if(_0x1828f9['command']==='resetRLPenalty')try{const _0x3d5eda=_0x1828f9[_0x3195a1(0x10b)][_0x3195a1(0x13e)],_0x46d32d='analysis.energy.rlPenalties',_0x104dd7=await this['getStateAsync'](_0x46d32d);let _0x50a525={};if(_0x104dd7&&_0x104dd7[_0x3195a1(0x133)])try{_0x50a525=JSON[_0x3195a1(0x18d)](_0x104dd7[_0x3195a1(0x133)]);}catch(_0xf24681){}_0x3d5eda&&_0x50a525[_0x3d5eda]?(delete _0x50a525[_0x3d5eda],await this[_0x3195a1(0x168)](_0x46d32d,{'val':JSON[_0x3195a1(0xca)](_0x50a525),'ack':!![]}),this['log'][_0x3195a1(0xeb)]('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0x3d5eda+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.'),this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![]},_0x1828f9['callback'])):this['sendTo'](_0x1828f9['from'],_0x1828f9['command'],{'success':![],'error':_0x3195a1(0x146)},_0x1828f9['callback']);}catch(_0x2627fe){this['sendTo'](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':![],'error':_0x2627fe['message']},_0x1828f9['callback']);}else{if(_0x1828f9[_0x3195a1(0xfb)]===_0x3195a1(0x138))await this[_0x3195a1(0x168)](_0x3195a1(0x140),{'val':![],'ack':!![]}),await this[_0x3195a1(0x168)]('analysis.automation.description',{'val':'','ack':!![]}),await this[_0x3195a1(0x168)]('analysis.automation.targetId',{'val':'','ack':!![]}),this['sendTo'](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![]},_0x1828f9[_0x3195a1(0xd1)]);else{if(_0x1828f9['command']===_0x3195a1(0x16b)){const {targetId:_0x7228e3,targetValue:_0x26993e}=_0x1828f9[_0x3195a1(0x10b)];await this[_0x3195a1(0x168)](_0x3195a1(0x140),{'val':!![],'ack':!![]}),await this[_0x3195a1(0x168)](_0x3195a1(0x159),{'val':_0x3195a1(0x199),'ack':!![]}),await this[_0x3195a1(0x168)]('analysis.automation.targetId',{'val':_0x7228e3,'ack':!![]}),await this[_0x3195a1(0x168)](_0x3195a1(0x177),{'val':String(_0x26993e),'ack':!![]}),this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![]},_0x1828f9['callback']);}else{if(_0x1828f9[_0x3195a1(0xfb)]===_0x3195a1(0xd6))try{const _0xb85d5=_0x1828f9[_0x3195a1(0x10b)][_0x3195a1(0x1c0)];if(!_0xb85d5)throw new Error(_0x3195a1(0xc3));const _0x541ef3=new GoogleGenerativeAI(_0xb85d5),_0x3288d0=_0x541ef3['getGenerativeModel']({'model':GEMINI_MODEL}),_0x2b3aae=await _0x3288d0[_0x3195a1(0x1b4)](_0x3195a1(0xdc)),_0x18a689=await _0x2b3aae['response'];if(_0x18a689[_0x3195a1(0x17f)]())this['sendTo'](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'message':_0x3195a1(0xf9)},_0x1828f9[_0x3195a1(0xd1)]);else throw new Error(_0x3195a1(0x103));}catch(_0x488d04){this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9['command'],{'success':![],'message':_0x488d04[_0x3195a1(0x10b)]},_0x1828f9[_0x3195a1(0xd1)]);}else{if(_0x1828f9['command']===_0x3195a1(0x17b))try{const _0xf63bd0=await scanner['scanForDevices'](this,_0x1828f9[_0x3195a1(0x10b)]||{});this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'devices':_0xf63bd0},_0x1828f9[_0x3195a1(0xd1)]);}catch(_0x15e137){this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':![],'error':_0x15e137['message']},_0x1828f9[_0x3195a1(0xd1)]);}else{if(_0x1828f9[_0x3195a1(0xfb)]===_0x3195a1(0x129))try{const {matrix:_0x749300}=_0x1828f9[_0x3195a1(0x10b)],_0x50e092=await this[_0x3195a1(0x1af)](_0x3195a1(0x128));if(_0x50e092&&_0x50e092['val']){const _0x55b36a=JSON[_0x3195a1(0x18d)](_0x50e092[_0x3195a1(0x133)]);_0x55b36a[_0x3195a1(0x18e)]=_0x749300,_0x55b36a[_0x3195a1(0x13a)]=Date[_0x3195a1(0xe1)](),await this[_0x3195a1(0x168)](_0x3195a1(0x128),{'val':JSON[_0x3195a1(0xca)](_0x55b36a),'ack':!![]}),pythonBridge[_0x3195a1(0x1a5)](this,'SET_TOPOLOGY',_0x55b36a);}this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![]},_0x1828f9[_0x3195a1(0xd1)]);}catch(_0x58f816){this[_0x3195a1(0x15a)][_0x3195a1(0x18a)](_0x58f816);}else{if(_0x1828f9[_0x3195a1(0xfb)]===_0x3195a1(0x110))this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'dailyDigests':this[_0x3195a1(0xef)]||[],'analysisHistory':this[_0x3195a1(0x104)]||[]},_0x1828f9[_0x3195a1(0xd1)]);else{if(_0x1828f9[_0x3195a1(0xfb)]===_0x3195a1(0x1b0)){const _0x11047f=this[_0x3195a1(0xef)][_0x3195a1(0x125)],_0x254567=new Array(0x18)[_0x3195a1(0x1d4)](0x0),_0x99c891=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x3195a1(0x12e)]&&this[_0x3195a1(0x12e)][_0x3195a1(0xc8)](_0x5dee9a=>{const _0x1a7f4a=_0x3195a1;if(_0x5dee9a[_0x1a7f4a(0x191)]>=_0x99c891){const _0x1ae968=new Date(_0x5dee9a[_0x1a7f4a(0x191)])['getHours']();if(_0x1ae968>=0x0&&_0x1ae968<0x18)_0x254567[_0x1ae968]++;}});let _0x18c621=![],_0x4826a1='',_0x3cdda4='',_0x4d1877='';try{const _0x51e848=await this[_0x3195a1(0x1af)](_0x3195a1(0x140));if(_0x51e848&&_0x51e848[_0x3195a1(0x133)]){_0x18c621=!![];const _0x2fa670=await this[_0x3195a1(0x1af)](_0x3195a1(0x159));_0x4826a1=_0x2fa670?_0x2fa670[_0x3195a1(0x133)]:'';const _0x68d4b5=await this[_0x3195a1(0x1af)](_0x3195a1(0x112));_0x3cdda4=_0x68d4b5?_0x68d4b5['val']:'';const _0x557d3e=await this[_0x3195a1(0x1af)](_0x3195a1(0x177));_0x4d1877=_0x557d3e?_0x557d3e[_0x3195a1(0x133)]:'';}}catch(_0xdb94d0){}const _0x5cef2e=await this['checkSolarCondition'](),_0xafd2d7=(this['config'][_0x3195a1(0x119)]||[])['some'](_0x502030=>_0x502030['isSolar']),_0x4e9977=_0x5cef2e&&_0xafd2d7;this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'eventHistory':this['eventHistory'][_0x3195a1(0x1cf)](0x0,0xf),'stats':{'digestCount':_0x11047f,'isPresent':this[_0x3195a1(0x107)],'hourlyActivity':_0x254567,'solarActive':_0x4e9977},'automation':{'detected':_0x18c621,'description':_0x4826a1,'targetId':_0x3cdda4,'targetValue':_0x4d1877}},_0x1828f9[_0x3195a1(0xd1)]);}else{if(_0x1828f9['command']===_0x3195a1(0x1c6)){const _0x655c68=await this[_0x3195a1(0x136)](_0x3195a1(0x175),'enum'),_0xd4ba77=[];if(_0x655c68)for(const _0x4ecdc4 in _0x655c68){const _0x4c52c5=_0x655c68[_0x4ecdc4],_0x56169f=(_0x4c52c5['common']&&typeof _0x4c52c5[_0x3195a1(0xd5)][_0x3195a1(0x123)]==='object'?_0x4c52c5['common'][_0x3195a1(0x123)]['de']:_0x4c52c5[_0x3195a1(0xd5)]['name'])||_0x4c52c5[_0x3195a1(0xd5)]['name'];_0xd4ba77[_0x3195a1(0x13c)]({'id':_0x4ecdc4,'name':_0x56169f});}const _0x3a0cf6=await this[_0x3195a1(0x136)](_0x3195a1(0xe5),_0x3195a1(0x139)),_0x42ecf0=[];if(_0x3a0cf6)for(const _0x592c87 in _0x3a0cf6){const _0x2245f5=_0x3a0cf6[_0x592c87],_0x3bc317=(_0x2245f5[_0x3195a1(0xd5)]&&typeof _0x2245f5[_0x3195a1(0xd5)][_0x3195a1(0x123)]===_0x3195a1(0x1c7)?_0x2245f5['common'][_0x3195a1(0x123)]['de']:_0x2245f5['common'][_0x3195a1(0x123)])||_0x592c87['split']('.')[_0x3195a1(0x18b)]();_0x42ecf0[_0x3195a1(0x13c)](_0x3bc317);}this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'enums':_0xd4ba77,'rooms':_0x42ecf0},_0x1828f9['callback']);}else{if(_0x1828f9[_0x3195a1(0xfb)]==='testContext')try{let _0x44c18c=_0x3195a1(0xc5),_0x31ef71=_0x3195a1(0x164);if(this[_0x3195a1(0x156)][_0x3195a1(0x1c2)]){const _0x5d2f46=await recorder['getOutsideTemperatureNumeric'](this);_0x44c18c=_0x5d2f46!==null?_0x5d2f46+'Â°C':'Daten\x20nicht\x20verfÃ¼gbar';}if(this[_0x3195a1(0x156)][_0x3195a1(0xff)]){const _0x1fbe78=await this[_0x3195a1(0xce)](_0x3195a1(0x14b)+this[_0x3195a1(0x156)][_0x3195a1(0xff)]);_0x31ef71=_0x1fbe78?_0x3195a1(0x100):_0x3195a1(0x118);}this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'weather':_0x44c18c,'calendar':_0x31ef71},_0x1828f9[_0x3195a1(0xd1)]);}catch(_0x205964){this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9['command'],{'success':![],'error':_0x205964['message']},_0x1828f9[_0x3195a1(0xd1)]);}else{if(_0x1828f9[_0x3195a1(0xfb)]==='getCalendarNames')try{const _0x14eb0a=_0x1828f9[_0x3195a1(0x10b)]['instance'],_0x5726e8=await this[_0x3195a1(0x150)](_0x14eb0a+_0x3195a1(0x124));let _0x1a1435=[];if(_0x5726e8&&_0x5726e8['val']){const _0x1cf027=JSON['parse'](_0x5726e8[_0x3195a1(0x133)]),_0x2c115b=new Set();Array['isArray'](_0x1cf027)&&_0x1cf027['forEach'](_0x153b99=>{const _0xe63831=_0x3195a1;if(_0x153b99[_0xe63831(0x1ce)])_0x2c115b[_0xe63831(0x126)](_0x153b99[_0xe63831(0x1ce)]);else{if(_0x153b99[_0xe63831(0xfe)])_0x2c115b[_0xe63831(0x126)](_0x153b99[_0xe63831(0xfe)]);}}),_0x1a1435=Array[_0x3195a1(0x193)](_0x2c115b)['sort']();}if(_0x1a1435['length']===0x0)_0x1a1435=[_0x3195a1(0x10d)];this['sendTo'](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'names':_0x1a1435},_0x1828f9['callback']);}catch(_0x1db102){this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':![],'error':_0x1db102[_0x3195a1(0x10b)]},_0x1828f9['callback']);}else{if(_0x1828f9[_0x3195a1(0xfb)]===_0x3195a1(0x187))try{await setup[_0x3195a1(0x1ba)](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':!![],'message':_0x3195a1(0x143)},_0x1828f9[_0x3195a1(0xd1)]);}catch(_0x286271){this['log'][_0x3195a1(0x18a)](_0x3195a1(0xfa)+_0x286271[_0x3195a1(0x10b)]),this[_0x3195a1(0x167)](_0x1828f9[_0x3195a1(0x193)],_0x1828f9[_0x3195a1(0xfb)],{'success':![],'message':'Fehler:\x20'+_0x286271[_0x3195a1(0x10b)]},_0x1828f9[_0x3195a1(0xd1)]);}}}}}}}}}}}}}}}}async[a0_0xe8284b(0x15b)](){const _0x41a18a=a0_0xe8284b;try{const _0x198ccc=await this['getStateAsync'](setup[_0x41a18a(0x1b1)]);_0x198ccc&&_0x198ccc[_0x41a18a(0x133)]&&Object[_0x41a18a(0x166)](setup[_0x41a18a(0x1c5)])[_0x41a18a(0xe3)](_0x198ccc['val'])?this[_0x41a18a(0x190)]=_0x198ccc[_0x41a18a(0x133)]:(this['currentSystemMode']=setup[_0x41a18a(0x1c5)][_0x41a18a(0x1cc)],await this[_0x41a18a(0x168)](setup[_0x41a18a(0x1b1)],{'val':setup[_0x41a18a(0x1c5)][_0x41a18a(0x1cc)],'ack':!![]}));}catch(_0x2c8da9){this[_0x41a18a(0x190)]=setup[_0x41a18a(0x1c5)][_0x41a18a(0x1cc)];}}async['checkWifiPresence'](){const _0x56adde=a0_0xe8284b;try{const _0x47382b=this[_0x56adde(0x156)][_0x56adde(0xc9)]||[];let _0xfd6e0b=![];const _0x2fef23=[];for(const _0x228960 of _0x47382b){try{const _0x425b67=await this[_0x56adde(0x150)](_0x228960);_0x425b67&&(_0x425b67[_0x56adde(0x133)]===!![]||_0x425b67[_0x56adde(0x133)]===_0x56adde(0x1a7)||_0x425b67[_0x56adde(0x133)]===0x1)&&(_0xfd6e0b=!![],_0x2fef23[_0x56adde(0x13c)](_0x228960));}catch(_0x304702){}}return await this[_0x56adde(0x168)](_0x56adde(0x1bc),{'val':_0x2fef23[_0x56adde(0x1a2)](',\x20'),'ack':!![]}),_0xfd6e0b&&(this[_0x56adde(0x184)]&&(this[_0x56adde(0x15a)][_0x56adde(0xeb)](_0x56adde(0x114)),recorder[_0x56adde(0xd9)](this)),!this[_0x56adde(0x107)]&&this['currentSystemMode']===setup['SYSTEM_MODES'][_0x56adde(0x1cc)]&&await recorder[_0x56adde(0xe9)](this,!![])),_0xfd6e0b;}catch(_0x9405a1){return![];}}async['runAutopilot'](){const _0x2249b0=a0_0xe8284b;this[_0x2249b0(0x15a)]['debug'](_0x2249b0(0x180)),await aiAgent['runGeminiAnalysis'](this),this[_0x2249b0(0x163)](),this['triggerGaitAnalysis'](),this[_0x2249b0(0xd4)]();}async['checkSolarCondition'](){const _0x371974=a0_0xe8284b,_0x454048=[_0x371974(0x171),_0x371974(0x131),_0x371974(0x169)],_0x273ad4=[_0x371974(0xf8),_0x371974(0xd2),_0x371974(0x132)];for(const _0x45e249 of _0x454048){for(const _0x66268b of _0x273ad4){try{const _0x5be931=_0x45e249+'.'+_0x66268b,_0x2499c1=await this[_0x371974(0x150)](_0x5be931);if(_0x2499c1&&_0x2499c1['val']){const _0x21d9b6=String(_0x2499c1[_0x371974(0x133)])['toLowerCase']();if(_0x21d9b6[_0x371974(0xe3)](_0x371974(0xd7))||_0x21d9b6['includes']('sunny')||_0x21d9b6[_0x371974(0xe3)](_0x371974(0x11b))||_0x21d9b6['includes'](_0x371974(0x12c))||_0x21d9b6[_0x371974(0xe3)](_0x371974(0x135)))return!![];}}catch(_0x19d999){}}}return![];}[a0_0xe8284b(0x106)](){const _0xf3d23b=a0_0xe8284b;if(!this[_0xf3d23b(0x1a6)])return;try{this['getState']('LTM.trainingData.sequences',(_0x40f102,_0x416132)=>{const _0x15b46e=_0xf3d23b;_0x416132&&_0x416132[_0x15b46e(0x133)]&&pythonBridge[_0x15b46e(0x1a5)](this,'ANALYZE_GAIT',{'sequences':JSON[_0x15b46e(0x18d)](_0x416132['val'])});});}catch(_0x48984b){}}async[a0_0xe8284b(0xd4)](){const _0x5b1eed=a0_0xe8284b;if(!this[_0x5b1eed(0x1a6)])return;try{const _0x1de6fa=await recorder[_0x5b1eed(0xfd)](this);if(_0x1de6fa===null)return;const _0x306311={},_0x4d16a0={},_0x5bab72=this[_0x5b1eed(0x156)][_0x5b1eed(0x119)]||[];for(const _0x355ca7 of _0x5bab72){if(_0x355ca7['type']===_0x5b1eed(0x1d1)&&_0x355ca7[_0x5b1eed(0x12f)]){const _0x44cabd=this[_0x5b1eed(0x12b)][_0x355ca7['id']];if(_0x44cabd!==undefined)_0x306311[_0x355ca7[_0x5b1eed(0x12f)]]=_0x44cabd;if(_0x355ca7['isSolar'])_0x4d16a0[_0x355ca7[_0x5b1eed(0x12f)]]=!![];}}const _0x2c7395=await this[_0x5b1eed(0xe2)]();let _0x148851={};try{const _0x13ef3f=await this[_0x5b1eed(0x1af)]('analysis.energy.warmupTargets');if(_0x13ef3f&&_0x13ef3f[_0x5b1eed(0x133)])_0x148851=JSON[_0x5b1eed(0x18d)](_0x13ef3f[_0x5b1eed(0x133)]);}catch(_0x5a48cc){}Object[_0x5b1eed(0xe0)](_0x306311)['length']>0x0&&(pythonBridge[_0x5b1eed(0x1a5)](this,'PREDICT_ENERGY',{'current_temps':_0x306311,'t_out':_0x1de6fa,'is_sunny':_0x2c7395,'solar_flags':_0x4d16a0,'warmup_targets':_0x148851}),pythonBridge[_0x5b1eed(0x1a5)](this,'OPTIMIZE_ENERGY',{'current_temps':_0x306311,'t_out':_0x1de6fa,'targets':{}}));}catch(_0x1dcc9e){}}[a0_0xe8284b(0x163)](){const _0x17e99f=a0_0xe8284b;if(!this[_0x17e99f(0x19a)]||this[_0x17e99f(0x19a)][_0x17e99f(0x125)]===0x0)return;const _0x565909=new Array(0x60)['fill'](0x0),_0x16fb91=new Date()['setHours'](0x0,0x0,0x0,0x0);this['rawEventLog'][_0x17e99f(0xc8)](_0x455f56=>{const _0xc19b06=_0x17e99f,_0x2ca670=new Date(_0x455f56[_0xc19b06(0x191)]);if(_0x2ca670[_0xc19b06(0x1bd)]()>=_0x16fb91){const _0x1bdf07=_0x2ca670[_0xc19b06(0x16f)](),_0x1b9cfa=_0x2ca670[_0xc19b06(0xc7)](),_0x189d42=_0x1bdf07*0x4+Math[_0xc19b06(0x17a)](_0x1b9cfa/0xf);if(_0x189d42>=0x0&&_0x189d42<0x60)_0x565909[_0x189d42]++;}}),this[_0x17e99f(0x168)](_0x17e99f(0x196),{'val':JSON['stringify'](_0x565909),'ack':!![]});}[a0_0xe8284b(0x16e)](){const _0x2e2b49=a0_0xe8284b;if(!this['dailyDigests']||this[_0x2e2b49(0xef)]['length']<0x2)return;const _0x5192b7=this[_0x2e2b49(0xef)][_0x2e2b49(0x1be)](_0x45f370=>{const _0x4b1e2d=_0x2e2b49,_0x41cbd7=(_0x45f370[_0x4b1e2d(0x111)]||'')[_0x4b1e2d(0x1a3)]();return ACTIVITY_LEVEL_MAP[_0x41cbd7]||0x32;});pythonBridge[_0x2e2b49(0x1a5)](this,'ANALYZE_TREND',{'values':_0x5192b7,'tag':_0x2e2b49(0x116)});}}if(require[a0_0xe8284b(0x1b7)]!==module)module[a0_0xe8284b(0x19b)]=_0x139008=>new CogniLiving(_0x139008);else new CogniLiving();