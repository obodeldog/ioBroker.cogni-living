const a0_0x2c4c95=a0_0x27b1;(function(_0x343d47,_0x2b1b14){const _0x52eb1d=a0_0x27b1,_0x54b774=_0x343d47();while(!![]){try{const _0x5a934e=-parseInt(_0x52eb1d(0x279))/0x1+-parseInt(_0x52eb1d(0x2f1))/0x2*(parseInt(_0x52eb1d(0x347))/0x3)+parseInt(_0x52eb1d(0x24b))/0x4+-parseInt(_0x52eb1d(0x333))/0x5*(parseInt(_0x52eb1d(0x20b))/0x6)+-parseInt(_0x52eb1d(0x346))/0x7*(-parseInt(_0x52eb1d(0x215))/0x8)+parseInt(_0x52eb1d(0x1f9))/0x9*(-parseInt(_0x52eb1d(0x27c))/0xa)+-parseInt(_0x52eb1d(0x1bf))/0xb*(-parseInt(_0x52eb1d(0x1c8))/0xc);if(_0x5a934e===_0x2b1b14)break;else _0x54b774['push'](_0x54b774['shift']());}catch(_0x1b0d73){_0x54b774['push'](_0x54b774['shift']());}}}(a0_0x1a23,0x96d87));const a0_0x2800cb=(function(){let _0x190504=!![];return function(_0x21f9b5,_0xcb09cb){const _0x15792f=_0x190504?function(){const _0x20adad=a0_0x27b1;if(_0xcb09cb){const _0x5a7fcd=_0xcb09cb[_0x20adad(0x1bc)](_0x21f9b5,arguments);return _0xcb09cb=null,_0x5a7fcd;}}:function(){};return _0x190504=![],_0x15792f;};}()),a0_0x50d5c6=a0_0x2800cb(this,function(){const _0x5469a5=a0_0x27b1;return a0_0x50d5c6[_0x5469a5(0x31e)]()[_0x5469a5(0x31b)]('(((.+)+)+)+$')[_0x5469a5(0x31e)]()[_0x5469a5(0x1be)](a0_0x50d5c6)[_0x5469a5(0x31b)](_0x5469a5(0x1d2));});a0_0x50d5c6();'use strict';const utils=require(a0_0x2c4c95(0x34b)),{GoogleGenerativeAI}=require(a0_0x2c4c95(0x2fc)),schedule=require('node-schedule'),HISTORY_MAX_SIZE=0x32,FEEDBACK_MAX_SIZE=0x14,GEMINI_MODEL=a0_0x2c4c95(0x29d),ANALYSIS_HISTORY_MAX_SIZE=0x64,RAW_LOG_MAX_SIZE=0x5dc,DAILY_DIGEST_MAX_SIZE_LIMIT=0xb4,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,LTM_SCHEDULE=a0_0x2c4c95(0x2b0),LTM_DP_RAW_LOG=a0_0x2c4c95(0x2bb),LTM_DP_DAILY_DIGESTS=a0_0x2c4c95(0x2c5),LTM_DP_STATUS=a0_0x2c4c95(0x30f),LTM_DP_TRIGGER_DIGEST=a0_0x2c4c95(0x2d9),LTM_DP_BASELINE_STATUS=a0_0x2c4c95(0x2db),LTM_DP_DRIFT_CHANNEL='LTM.driftAnalysis',LTM_DP_DRIFT_STATUS=a0_0x2c4c95(0x354),LTM_DP_DRIFT_DETAILS='LTM.driftAnalysis.driftDetails',LTM_DP_DRIFT_LAST_CHECK=a0_0x2c4c95(0x327),SYSTEM_DP_MODE=a0_0x2c4c95(0x23a),MODE_RESET_SCHEDULE=a0_0x2c4c95(0x1d0),SYSTEM_MODES={'NORMAL':a0_0x2c4c95(0x1ce),'VACATION':a0_0x2c4c95(0x1c5),'PARTY':a0_0x2c4c95(0x2f3),'GUEST':a0_0x2c4c95(0x33b)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x2c4c95(0x2b9)],SYSTEM_MODES[a0_0x2c4c95(0x1e3)]],EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,PERSONA_MAPPING={'generic':a0_0x2c4c95(0x24a),'senior_aal':a0_0x2c4c95(0x344),'family':a0_0x2c4c95(0x1f3),'single_comfort':'Fokus\x20auf\x20Maximierung\x20von\x20Komfort,\x20Automatisierungseffizienz\x20und\x20Energieeinsparung.','security':a0_0x2c4c95(0x2ff)};function a0_0x1a23(){const _0x147ab5=['scanForDevices','WORKING','generateContent','Urlaub','Baseline:\x20Inactive\x20(Pro\x20Feature).','ltmLtbWindowDays','guest','notifyWhatsappEnabled','haustÃ¼r','VACATION','genAI','modeResetJob','replace','notifyTelegramEnabled','events.lastEvent','PRIORITÃ„T:\x20Gesundheit\x20und\x20Sicherheit\x20fÃ¼r\x20Senioren\x20(AAL).\x20Erkenne\x20InaktivitÃ¤t,\x20potenzielle\x20StÃ¼rze\x20(indirekt),\x20ungewÃ¶hnliche\x20nÃ¤chtliche\x20AktivitÃ¤t.','summary','574sbharq','21amMxdD','No\x20recent\x20activity.','No\x20recorded\x20events\x20yet.','weatherunderground.','@iobroker/adapter-core','checkSystemObjects','Nein','checkLtmObjects','N/A\x20(Pro\x20Feature)','baselineDrift','system.config','Raw\x20Log','description','LTM.driftAnalysis.baselineDrift','SECTION','updateBaselineStatus','diele','systemUUID','lights','OPERATING_VOLTAGE','Comfort\x20Suggestion','join','values','json','accuweather.','Analysis\x20Error:\x20','sat','cleanUpZombies','long','apply','Deaktiviert\x20(Pro-Feature)','constructor','11hTLroi','Gast','setupDriftAnalysisScheduler','loadRawEventLog','exitTimer','Aktiv\x20(','vacation','Starting\x20Smart\x20Scan\x20with\x20filters:\x20','notifyPushoverRecipient','26599476RpHWVd','getGenerativeModel','\x20min).\x20Watchdog\x20Limit:\x20','analysis.analysisHistory','toLowerCase','currentSystemMode','normal','sensor.motion','0\x204\x20*\x20*\x20*','wetter','(((.+)+)+)+$','eventHistory','analysis.automation','temperatur','response','Party','send','scriptEnabled','analysis.history_debug_00','boolean','text','button','Presence\x20Status','Subscribing\x20to\x20','latitude','analysis.activitySummary','notifyEmailInstance','GUEST','rawEventLog','minDaysForBaseline','getForeignObjectAsync','analysis.isAlert','sendToAsync','alert','suggestion','getForeignStateAsync','main','slice','DUTYCYCLE','startExitTimer','object','patternDetected','some','Fokus\x20auf\x20Familienroutinen,\x20Kindersicherheit\x20und\x20allgemeines\x20Haushaltsmanagement.','history','licenseKey','connection','events.history_debug_03','val','9HinwUA','schlaf','catch','events.history_debug_04','inactivityThresholdHours','update','comfort','length','error','exitGraceTimer','ready','min\x20Timer,\x20','manufacturer','stringify','common','notifySignalEnabled','alertReason','doors','725172bEVCwW','colormode','uuid','notifyPushoverInstance','runAutopilot','extendObjectAsync','setState','Normal','testNotification','analysis.deviationFromBaseline','58672JPVwFg','ack','analysis.automation.patternDetected','sendTo','log','analysisHistory','updateAnalysisHistory','Cogni-Living\x20Alert','.\x20PRÃ„SENZ:\x20','location','s\x20Grace).','flot.','apiKey','resetAnalysisStates','analysis.lastResult','analysis.automation.description','Alert\x20Reason','debug','system','subscribeForeignStatesAsync','Ausgangs-Event\x20erkannt:\x20Starte\x20Exit-Logik\x20(','ltmStbWindowDays','\x0a\x20\x20\x20\x20\x20\x20\x20\x20EVENTS:\x20','\x20hours.\x20The\x20resident\x20might\x20be\x20incapacitated.\x20Risk\x20level:\x20HIGH.','setupModeResetScheduler','[TEST]\x20','createDailyDigest','parse','notifyWhatsappInstance','runGeminiAnalysis','âš ï¸\x20Alarm','Fenster/TÃ¼r','system.','modelid','geminiApiKey','sensorLastValues','isProVersion','system.mode','Sending\x20Prompt...','âŒ\x20Gemini\x20Model\x20not\x20initialized!','\x0a!!!\x20END\x20WARNING\x20!!!\x0a','find','from','enum','rain','_score','test','devices','INSTALL_TEST','notifyEmailRecipient','uuid-error','analysis.history_debug_01','level.dimmer','Analysiere\x20ausgewogen\x20auf\x20Gesundheit,\x20Sicherheit\x20und\x20Komfort.','2366380YVwdKK','LTM','ðŸš¨\x20Dead\x20Man\x27s\x20Switch:\x20Keine\x20AktivitÃ¤t\x20seit\x20','RSSI','info','processSensorEvent','Trigger\x20Digest','info.','\x20sensors...','Drift\x20Status','ERROR','Exit\x20Grace\x20Period\x20beendet.','feedbackHistory','channel','TEST-PRO-KEY','siren','bad','native','rauch','indicator.alarm','Schalter/Licht','CONFIG_PENDING','command','uuid-not-found','members','analysis.history_debug_04','setPresence','sendNotification','Feedback\x20Log','Logbook','details','analysis.trigger','value.humidity','events.history_debug_01','Starting\x20Autopilot\x20(','Last\x20Result','level','Drift\x20Analysis','isGracePeriodActive','string','onReady','weather','Processing\x20Status','2-digit','Gemini\x20Init\x20Error:\x20','UNREACH','1227707pAzajp','Action','analysis.isEmergency','6925430jJSxAL','rating','startsWith','saveRawEventLog','N/A','prÃ¤senz','now','toISOString','state','AES_KEY','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reachable','icon','scanDevices','process','System\x20Mode','setupLtmScheduler','onMessage','number','analysisTimer','kÃ¼che','analysis.history_debug_03','System\x20Status\x20&\x20Control','sensor.window','splice','PrÃ¤senz-Status\x20geÃ¤ndert:\x20','checkLicense','isExit','unshift','Adapter','systemConfig','config','PROCESS','models/gemini-flash-latest','ALARM','application/json','Automation\x20Proposals','logDuplicates','system.isPresent','write','timestamp','Garten','ON_TIME','firmware','hue','analysis.automation.suggestedAction','name','geminiModel','abortExitTimer','Description','date','driftDetails','0\x203\x20*\x20*\x20*','message','dailyDigests','Bewegung','runBaselineDriftAnalysis','push','history.','vis.','Drift\x20Details','PARTY','getStateAsync','LTM.rawEventLog','role','temp','includes','analysis.comfortSuggestion','bind','toLocaleString','N/A\x20(Learning)','Schlafzimmer','generic','LTM.dailyDigests','unknown','battery','detectionState','link_quality','STICKY_UNREACH','sound','wohnungstÃ¼r','enum.rooms.*','notifyWhatsappRecipient','type','selectedFunctionIds','archetype','\x0aFEEDBACK:\x0a','sensor.door','loadSystemMode','events.history','map','pop','Daily\x20Digests','LTM.triggerDailyDigest','notifyPushoverEnabled','LTM.baselineStatus','LOWBAT','version','Exit-Timer\x20abgelaufen\x20->\x20ABWESEND.','switch.light','callback','loadDailyDigests','subscribeStates','warn','Deviation','No\x20Key','ðŸš¨ðŸš¨\x20NOTFALL','triggerDailyDigest','wind','SABOTAGE','cancel','occupancy','ANWESEND\x20ðŸ ','indicator','scheduleJob','isPresent','text.alarm','7274HbMcUP','Wohnzimmer','party','getSystemUUID','driftAnalysisTimer','Trigger\x20Analysis','Temperatur','bewegung','city','analysis.comfortSummary','setStateAsync','@google/generative-ai','Ignoring\x20event\x20during\x20Exit\x20Grace\x20Period:\x20','ltmJob','PRIORITÃ„T:\x20Sicherheit.\x20Erkenne\x20Eindringlinge,\x20ungewÃ¶hnliche\x20Anwesenheit.','Sending\x20notification:\x20\x22','automationProposal','ðŸš¨\x20EMERGENCY','NORMAL','Last\x20Check','fire','notifyTelegramInstance','shutter_contact','unload','isEmergency','suggestedAction','fenster','mac\x20address','Success','enum.functions.*','LTM.processingStatus','createAllObjects','flur','openweathermap.','PRO-','notifyTelegramRecipient','lampe','licht','onStateChange','toFixed','lastAlertState','notifySignalInstance','search','system.meta.uuid','scriptProblem','toString','Gemini\x20AI\x20initialized.','inactivityMonitoringEnabled','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20KONTEXT:\x20','setObjectNotExistsAsync','Bewegung\x20wÃ¤hrend\x20Exit-Timer\x20erkannt\x20->\x20Bewohner\x20ist\x20noch\x20da.','indicator.alarm.fire','\x0a\x0aA\x20(STB):\x0a','Lernphase\x20(','LTM.driftAnalysis.lastCheck','COMBINED_PARAMETER','material.','getForeignObjectsAsync','getObjectAsync','activity','delObjectAsync','de-DE','\x0a!!!\x20EXTERNAL\x20SYSTEM\x20WARNING\x20!!!\x0a','events.history_debug_00','\x20Tage)','onUnload','35GsCRUv','Missing\x20data'];a0_0x1a23=function(){return _0x147ab5;};return a0_0x1a23();}class CogniLiving extends utils[a0_0x2c4c95(0x299)]{constructor(_0x4d07d5){const _0x4a045d=a0_0x2c4c95;super({..._0x4d07d5,'name':'cogni-living'}),this['eventHistory']=[],this[_0x4a045d(0x21a)]=[],this[_0x4a045d(0x257)]=[],this[_0x4a045d(0x1e4)]=[],this[_0x4a045d(0x2b2)]=[],this[_0x4a045d(0x238)]={},this[_0x4a045d(0x29a)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x4a045d(0x1c3)]=null,this[_0x4a045d(0x202)]=null,this[_0x4a045d(0x271)]=![],this[_0x4a045d(0x33f)]=null,this[_0x4a045d(0x2ab)]=null,this['currentSystemMode']=SYSTEM_MODES[_0x4a045d(0x303)],this['isProVersion']=![],this[_0x4a045d(0x319)]=![],this[_0x4a045d(0x1b0)]=_0x4a045d(0x2c6),this[_0x4a045d(0x28f)]=null,this[_0x4a045d(0x2fe)]=null,this[_0x4a045d(0x340)]=null,this[_0x4a045d(0x2f5)]=null,this['on'](_0x4a045d(0x203),this[_0x4a045d(0x273)][_0x4a045d(0x2c0)](this)),this['on']('stateChange',this[_0x4a045d(0x317)][_0x4a045d(0x2c0)](this)),this['on'](_0x4a045d(0x308),this[_0x4a045d(0x332)][_0x4a045d(0x2c0)](this)),this['on'](_0x4a045d(0x2b1),this[_0x4a045d(0x28d)][_0x4a045d(0x2c0)](this));}async[a0_0x2c4c95(0x273)](){const _0x15ab78=a0_0x2c4c95;this['log'][_0x15ab78(0x24f)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x15ab78(0x2dd)]+')'),await this[_0x15ab78(0x1ba)](),this[_0x15ab78(0x29b)][_0x15ab78(0x1f5)]=this[_0x15ab78(0x29b)][_0x15ab78(0x1f5)]||'',this[_0x15ab78(0x239)]=await this['checkLicense'](this[_0x15ab78(0x29b)][_0x15ab78(0x1f5)]);if(!this[_0x15ab78(0x29b)][_0x15ab78(0x1fd)]||this[_0x15ab78(0x29b)][_0x15ab78(0x1fd)]<0.1)this[_0x15ab78(0x29b)][_0x15ab78(0x1fd)]=0xc;await this['loadHistoryFromState']();try{const _0x378c23=await this[_0x15ab78(0x1e6)](_0x15ab78(0x351));_0x378c23&&_0x378c23[_0x15ab78(0x207)]&&(this[_0x15ab78(0x29a)]={'latitude':_0x378c23[_0x15ab78(0x207)][_0x15ab78(0x1e0)]||0x0,'longitude':_0x378c23[_0x15ab78(0x207)]['longitude']||0x0,'city':_0x378c23[_0x15ab78(0x207)][_0x15ab78(0x2f9)]||''});}catch(_0x5c8284){}if(this[_0x15ab78(0x29b)][_0x15ab78(0x237)])try{this['genAI']=new GoogleGenerativeAI(this['config']['geminiApiKey']),this['geminiModel']=this[_0x15ab78(0x33f)][_0x15ab78(0x1c9)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x15ab78(0x29f)}}),this[_0x15ab78(0x219)][_0x15ab78(0x24f)](_0x15ab78(0x31f));}catch(_0x53cacf){this[_0x15ab78(0x219)][_0x15ab78(0x201)](_0x15ab78(0x277)+_0x53cacf['message']);}await this[_0x15ab78(0x310)](),await this[_0x15ab78(0x2d4)](),await this['loadRawEventLog'](),await this[_0x15ab78(0x2e1)](),this['subscribeStates'](_0x15ab78(0x26a)),this[_0x15ab78(0x2e2)](LTM_DP_TRIGGER_DIGEST),this[_0x15ab78(0x2e2)](_0x15ab78(0x23a));const _0x36b69b=this[_0x15ab78(0x29b)][_0x15ab78(0x244)];if(_0x36b69b&&_0x36b69b['length']>0x0){this['log']['info'](_0x15ab78(0x1df)+_0x36b69b[_0x15ab78(0x200)]+_0x15ab78(0x253));for(const _0x531d2d of _0x36b69b){if(_0x531d2d['id']){await this[_0x15ab78(0x228)](_0x531d2d['id']);try{const _0xecec1=await this[_0x15ab78(0x1eb)](_0x531d2d['id']);if(_0xecec1)this[_0x15ab78(0x238)][_0x531d2d['id']]=_0xecec1['val'];}catch(_0x1debef){}}}}if(this[_0x15ab78(0x28f)])clearInterval(this['analysisTimer']);const _0x3578ad=this[_0x15ab78(0x29b)]['analysisInterval']||0xf;_0x3578ad>0x0&&(this['log'][_0x15ab78(0x24f)](_0x15ab78(0x26d)+_0x3578ad+_0x15ab78(0x1ca)+this[_0x15ab78(0x29b)][_0x15ab78(0x1fd)]+'h.'),this['analysisTimer']=setInterval(()=>this['runAutopilot'](),_0x3578ad*0x3c*0x3e8)),this[_0x15ab78(0x28c)](),this[_0x15ab78(0x22d)](),this[_0x15ab78(0x1c1)]();}async[a0_0x2c4c95(0x335)](_0x2f54f8={}){const _0x8ef157=a0_0x2c4c95;this[_0x8ef157(0x219)][_0x8ef157(0x24f)](_0x8ef157(0x1c6)+JSON['stringify'](_0x2f54f8));const _0x4472ab=[],_0x3ebd11=_0x2f54f8['motion']!==![],_0x5abe5d=_0x2f54f8[_0x8ef157(0x20a)]!==![],_0x49f0d6=_0x2f54f8[_0x8ef157(0x1b1)]!==![],_0x9bdbb7=_0x2f54f8['temperature']===!![],_0x56d892=_0x2f54f8[_0x8ef157(0x274)]===!![],_0x4c203f=_0x2f54f8[_0x8ef157(0x2d0)]||[],_0x1e9ff4=await this[_0x8ef157(0x32a)](_0x8ef157(0x2cd),_0x8ef157(0x240)),_0x2c8dcb=await this['getForeignObjectsAsync']('enum.functions.*',_0x8ef157(0x240)),_0x131587={},_0x54bb29={},_0x517ab8={},_0x4b209d=(_0x5567bd,_0x18df3b,_0xd3c359=![])=>{const _0x394021=_0x8ef157;if(!_0x5567bd)return;for(const _0x36f94a in _0x5567bd){const _0x271416=_0x5567bd[_0x36f94a];if(_0x271416&&_0x271416[_0x394021(0x207)]&&_0x271416[_0x394021(0x207)][_0x394021(0x263)]){const _0x3d01e8=(typeof _0x271416['common'][_0x394021(0x2aa)]===_0x394021(0x1f0)?_0x271416[_0x394021(0x207)][_0x394021(0x2aa)]['de']:_0x271416[_0x394021(0x207)][_0x394021(0x2aa)])||_0x271416['common'][_0x394021(0x2aa)];if(_0xd3c359)_0x517ab8[_0x36f94a]=_0x3d01e8;for(const _0x17e9df of _0x271416[_0x394021(0x207)]['members']){if(_0xd3c359){if(!_0x18df3b[_0x17e9df])_0x18df3b[_0x17e9df]=[];_0x18df3b[_0x17e9df][_0x394021(0x2b5)](_0x36f94a);}else _0x18df3b[_0x17e9df]=_0x3d01e8;}}}};_0x4b209d(_0x1e9ff4,_0x131587),_0x4b209d(_0x2c8dcb,_0x54bb29,!![]);const _0x3193ad=await this[_0x8ef157(0x32a)]('*','state'),_0x54fb7f=[_0x8ef157(0x278),_0x8ef157(0x2dc),_0x8ef157(0x24e),_0x8ef157(0x255),'FAULT',_0x8ef157(0x2e9),_0x8ef157(0x29e),_0x8ef157(0x260),_0x8ef157(0x1ee),_0x8ef157(0x336),'DIRECTION',_0x8ef157(0x2ca),_0x8ef157(0x1b2),'VIRTUAL_CHANNEL',_0x8ef157(0x245),_0x8ef157(0x328),'WEEK_PROGRAM',_0x8ef157(0x2a6),_0x8ef157(0x1ad),'ERROR_CODE',_0x8ef157(0x29c),_0x8ef157(0x285),'CONNECTION',_0x8ef157(0x287),_0x8ef157(0x2c9),_0x8ef157(0x2c7),_0x8ef157(0x1fe),_0x8ef157(0x2a7),_0x8ef157(0x2dd),_0x8ef157(0x1f6),'info','signal','last_seen','last\x20action',_0x8ef157(0x2d1),_0x8ef157(0x1e9),'mode',_0x8ef157(0x20c),'effect','xy','ct',_0x8ef157(0x2a8),_0x8ef157(0x1b9),'productname',_0x8ef157(0x205),_0x8ef157(0x236),'uniqueid',_0x8ef157(0x261),_0x8ef157(0x30c),_0x8ef157(0x353),'capabilities',_0x8ef157(0x28a),_0x8ef157(0x1d9),_0x8ef157(0x31d),'javascript.0.script',_0x8ef157(0x2c8),_0x8ef157(0x345),_0x8ef157(0x288),_0x8ef157(0x1f4),'forecast',_0x8ef157(0x24f),_0x8ef157(0x1b6)];if(!_0x56d892)_0x54fb7f[_0x8ef157(0x2b5)](_0x8ef157(0x1d1),'weather',_0x8ef157(0x2e8),'pressure','uv',_0x8ef157(0x241),'precip');const _0x1210ce=[_0x8ef157(0x235),'admin.',_0x8ef157(0x252),_0x8ef157(0x2b7),_0x8ef157(0x2b6),_0x8ef157(0x329),'icons-mfd.',_0x8ef157(0x220)];if(!_0x56d892)_0x1210ce[_0x8ef157(0x2b5)]('daswetter.',_0x8ef157(0x34a),_0x8ef157(0x1b7),'yr.',_0x8ef157(0x312));const _0xaf0f21=(_0x18e2d9,_0x20ca65,_0x1e6139=![])=>{const _0x1c33e6=_0x8ef157,_0x403855=_0x18e2d9['split']('.');if(_0x20ca65[_0x18e2d9])return _0x20ca65[_0x18e2d9];if(_0x403855[_0x1c33e6(0x200)]>0x2&&_0x20ca65[_0x403855[_0x1c33e6(0x1ed)](0x0,-0x1)[_0x1c33e6(0x1b4)]('.')])return _0x20ca65[_0x403855[_0x1c33e6(0x1ed)](0x0,-0x1)[_0x1c33e6(0x1b4)]('.')];if(_0x403855['length']>0x3&&_0x20ca65[_0x403855[_0x1c33e6(0x1ed)](0x0,-0x2)[_0x1c33e6(0x1b4)]('.')])return _0x20ca65[_0x403855['slice'](0x0,-0x2)[_0x1c33e6(0x1b4)]('.')];return _0x1e6139?[]:null;};for(const _0x4d0fd4 in _0x3193ad){const _0x3be673=_0x3193ad[_0x4d0fd4];if(!_0x3be673||!_0x3be673[_0x8ef157(0x207)])continue;if(_0x1210ce[_0x8ef157(0x1f2)](_0x54c88f=>_0x4d0fd4[_0x8ef157(0x27e)](_0x54c88f)))continue;const _0x510c2b=_0x3be673['common'][_0x8ef157(0x2bc)]||'',_0x415193=(_0x3be673[_0x8ef157(0x207)]['name']&&typeof _0x3be673[_0x8ef157(0x207)][_0x8ef157(0x2aa)]===_0x8ef157(0x1f0)?_0x3be673[_0x8ef157(0x207)][_0x8ef157(0x2aa)]['de']:_0x3be673['common'][_0x8ef157(0x2aa)])||'',_0x7399d0=_0x415193?_0x415193[_0x8ef157(0x1cc)]():'',_0x1f7e88=_0x4d0fd4['toLowerCase'](),_0x219b47=_0xaf0f21(_0x4d0fd4,_0x131587),_0xc79a95=_0xaf0f21(_0x4d0fd4,_0x54bb29,!![]);let _0x2e3593=null,_0x407d47=![];if(_0xc79a95&&_0xc79a95[_0x8ef157(0x200)]>0x0){const _0x19890f=_0xc79a95[_0x8ef157(0x23e)](_0x495442=>_0x4c203f[_0x8ef157(0x2be)](_0x495442));if(_0x19890f){_0x407d47=!![];const _0x18f085=_0x517ab8[_0x19890f];if(_0x1f7e88[_0x8ef157(0x2be)]('presence')||_0x1f7e88[_0x8ef157(0x2be)]('motion'))_0x2e3593=_0x8ef157(0x2b3);else{if(_0x1f7e88[_0x8ef157(0x2be)]('smoke')||_0x1f7e88['includes'](_0x8ef157(0x305))||_0x7399d0[_0x8ef157(0x2be)](_0x8ef157(0x25d)))_0x2e3593='Rauchmelder';else{if(_0x1f7e88[_0x8ef157(0x2be)](_0x8ef157(0x284))||_0x1f7e88['includes'](_0x8ef157(0x26f))||_0x1f7e88[_0x8ef157(0x2be)]('on'))_0x2e3593=_0x8ef157(0x25f);else _0x2e3593=_0x18f085;}}}}if(!_0x407d47&&!_0x56d892){if(_0x54fb7f['some'](_0x27724a=>_0x7399d0[_0x8ef157(0x2be)](_0x27724a)||_0x4d0fd4['toUpperCase']()[_0x8ef157(0x2be)](_0x27724a)))continue;}if(!_0x2e3593&&_0x3ebd11){if(_0x510c2b[_0x8ef157(0x2be)](_0x8ef157(0x1cf))||_0x510c2b[_0x8ef157(0x2be)](_0x8ef157(0x2eb))||_0x7399d0[_0x8ef157(0x2be)](_0x8ef157(0x2f8))||_0x7399d0[_0x8ef157(0x2be)](_0x8ef157(0x281)))_0x2e3593='Bewegung';}!_0x2e3593&&_0x5abe5d&&((_0x1f7e88[_0x8ef157(0x2be)](_0x8ef157(0x307))||_0x510c2b[_0x8ef157(0x2be)](_0x8ef157(0x2d3))||_0x510c2b[_0x8ef157(0x2be)](_0x8ef157(0x293))||(_0x7399d0['includes'](_0x8ef157(0x30b))||_0x7399d0['includes']('tÃ¼r'))&&!_0x7399d0['includes'](_0x8ef157(0x2bd))&&!_0x7399d0[_0x8ef157(0x2be)]('griff')&&(_0x3be673[_0x8ef157(0x207)][_0x8ef157(0x2cf)]==='boolean'||_0x3be673[_0x8ef157(0x207)]['type']===_0x8ef157(0x28e)))&&(_0x2e3593=_0x8ef157(0x234)));if(!_0x2e3593&&_0x49f0d6){if((_0x510c2b[_0x8ef157(0x2be)](_0x8ef157(0x2df))||_0x510c2b['includes'](_0x8ef157(0x249))||_0x7399d0['includes'](_0x8ef157(0x316))||_0x7399d0['includes'](_0x8ef157(0x315)))&&_0x3be673[_0x8ef157(0x207)][_0x8ef157(0x2a3)])_0x2e3593='Licht';}if(!_0x2e3593&&_0x9bdbb7){if(_0x510c2b[_0x8ef157(0x2be)]('value.temperature')||_0x510c2b['includes'](_0x8ef157(0x26b))||_0x7399d0['includes'](_0x8ef157(0x1d5)))_0x2e3593=_0x8ef157(0x2f7);}if(_0x2e3593){let _0x293ab4=_0x219b47||'';if(!_0x293ab4){if(_0x7399d0[_0x8ef157(0x2be)](_0x8ef157(0x25b)))_0x293ab4='Badezimmer';else{if(_0x7399d0[_0x8ef157(0x2be)](_0x8ef157(0x290)))_0x293ab4='KÃ¼che';else{if(_0x7399d0[_0x8ef157(0x2be)]('wohn'))_0x293ab4=_0x8ef157(0x2f2);else{if(_0x7399d0[_0x8ef157(0x2be)](_0x8ef157(0x1fa)))_0x293ab4=_0x8ef157(0x2c3);else{if(_0x7399d0[_0x8ef157(0x2be)](_0x8ef157(0x311))||_0x7399d0['includes'](_0x8ef157(0x1af)))_0x293ab4='Flur';else{if(_0x7399d0[_0x8ef157(0x2be)]('garten'))_0x293ab4=_0x8ef157(0x2a5);}}}}}}let _0x2abc64=![];_0x2e3593===_0x8ef157(0x234)&&((_0x7399d0[_0x8ef157(0x2be)](_0x8ef157(0x33d))||_0x7399d0[_0x8ef157(0x2be)]('eingang')||_0x7399d0[_0x8ef157(0x2be)](_0x8ef157(0x2cc))||_0x293ab4&&_0x293ab4[_0x8ef157(0x1cc)]()[_0x8ef157(0x2be)]('flur')&&_0x7399d0['includes']('tÃ¼r'))&&(_0x2abc64=!![]));let _0x1701a8=0x0;if(_0x407d47)_0x1701a8+=0x1e;else{if(_0x219b47)_0x1701a8+=0x14;else{if(_0x293ab4)_0x1701a8+=0xa;}}if(_0x2abc64)_0x1701a8+=0x5;_0x4472ab[_0x8ef157(0x2b5)]({'id':_0x4d0fd4,'name':_0x415193||_0x4d0fd4,'type':_0x2e3593,'location':_0x293ab4,'logDuplicates':_0x2e3593===_0x8ef157(0x2b3),'isExit':_0x2abc64,'_score':_0x1701a8});}}return _0x4472ab['sort']((_0x22ce98,_0x570fd1)=>_0x570fd1[_0x8ef157(0x242)]-_0x22ce98[_0x8ef157(0x242)]),_0x4472ab;}async[a0_0x2c4c95(0x1ba)](){const _0x44788a=a0_0x2c4c95,_0x525652=[_0x44788a(0x1da),_0x44788a(0x248),'analysis.history_debug_02',_0x44788a(0x291),_0x44788a(0x264),_0x44788a(0x330),_0x44788a(0x26c),'events.history_debug_02',_0x44788a(0x1f7),_0x44788a(0x1fc)];for(const _0x129809 of _0x525652){try{const _0xf98c1e=await this[_0x44788a(0x32b)](_0x129809);_0xf98c1e&&await this[_0x44788a(0x32d)](_0x129809);}catch(_0x8f381c){}}}async['loadHistoryFromState'](){const _0x5cad0d=a0_0x2c4c95;try{const _0x327bd4=await this[_0x5cad0d(0x2ba)](_0x5cad0d(0x2d5));_0x327bd4&&_0x327bd4['val']&&(this[_0x5cad0d(0x1d3)]=JSON[_0x5cad0d(0x230)](_0x327bd4['val'][_0x5cad0d(0x31e)]()));}catch(_0x1ebb22){this[_0x5cad0d(0x1d3)]=[];}try{const _0x4cccd0=await this[_0x5cad0d(0x2ba)]('analysis.analysisHistory');if(_0x4cccd0&&_0x4cccd0['val'])this[_0x5cad0d(0x21a)]=JSON['parse'](_0x4cccd0[_0x5cad0d(0x1f8)]['toString']());}catch(_0x189f4b){this[_0x5cad0d(0x21a)]=[];}}[a0_0x2c4c95(0x317)](_0x5f1a19,_0x5e80dc){const _0x159c03=a0_0x2c4c95;if(!_0x5e80dc)return;if(_0x5f1a19===this['namespace']+'.'+SYSTEM_DP_MODE){_0x5e80dc['val']&&Object[_0x159c03(0x1b5)](SYSTEM_MODES)[_0x159c03(0x2be)](_0x5e80dc['val'])&&(this[_0x159c03(0x1cd)]=_0x5e80dc['val'],_0x5e80dc[_0x159c03(0x1f8)]===SYSTEM_MODES['VACATION']?this['setPresence'](![]):this[_0x159c03(0x265)](!![]));if(!_0x5e80dc[_0x159c03(0x216)])this[_0x159c03(0x211)](_0x5f1a19,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x5e80dc[_0x159c03(0x216)]){_0x5f1a19[_0x159c03(0x2be)]('analysis.trigger')&&_0x5e80dc[_0x159c03(0x1f8)]&&(this[_0x159c03(0x211)](_0x5f1a19,{'val':![],'ack':!![]}),this[_0x159c03(0x232)]());if(_0x5f1a19[_0x159c03(0x2be)](_0x159c03(0x2e7))&&_0x5e80dc[_0x159c03(0x1f8)]){this['setState'](_0x5f1a19,{'val':![],'ack':!![]});if(this[_0x159c03(0x239)])this[_0x159c03(0x22f)]();}return;}const _0xfdf71b=(this['config'][_0x159c03(0x244)]||[])[_0x159c03(0x23e)](_0x1d0690=>_0x1d0690['id']===_0x5f1a19);if(_0xfdf71b)this[_0x159c03(0x250)](_0x5f1a19,_0x5e80dc,_0xfdf71b);}async['processSensorEvent'](_0x18ba0e,_0x24a0fa,_0x377b95){const _0x120256=a0_0x2c4c95;if(!_0x377b95[_0x120256(0x2a1)]&&this[_0x120256(0x238)][_0x18ba0e]===_0x24a0fa['val'])return;this[_0x120256(0x238)][_0x18ba0e]=_0x24a0fa[_0x120256(0x1f8)];if(this[_0x120256(0x271)]){this['log'][_0x120256(0x226)](_0x120256(0x2fd)+_0x377b95[_0x120256(0x2aa)]);return;}const _0x5a89f0=_0x377b95[_0x120256(0x297)]===!![];_0x5a89f0?this[_0x120256(0x1ef)]():(this[_0x120256(0x1c3)]&&(this[_0x120256(0x219)][_0x120256(0x24f)](_0x120256(0x323)),this[_0x120256(0x2ac)]()),!this[_0x120256(0x2ef)]&&this['currentSystemMode']===SYSTEM_MODES['NORMAL']&&this[_0x120256(0x265)](!![]));const _0x5c8c1={'timestamp':_0x24a0fa['ts'],'id':_0x18ba0e,'name':_0x377b95[_0x120256(0x2aa)],'value':_0x24a0fa['val'],'location':_0x377b95[_0x120256(0x21e)],'type':_0x377b95[_0x120256(0x2cf)]};this[_0x120256(0x1d3)]['unshift'](_0x5c8c1);if(this[_0x120256(0x1d3)]['length']>HISTORY_MAX_SIZE)this[_0x120256(0x1d3)][_0x120256(0x2d7)]();await this[_0x120256(0x2fb)](_0x120256(0x343),{'val':JSON[_0x120256(0x206)](_0x5c8c1),'ack':!![]}),await this[_0x120256(0x2fb)](_0x120256(0x2d5),{'val':JSON['stringify'](this['eventHistory']),'ack':!![]}),this[_0x120256(0x1e4)]['push']({'timestamp':new Date(_0x24a0fa['ts'])[_0x120256(0x283)](),'sensorName':_0x377b95['name'],'location':_0x377b95[_0x120256(0x21e)],'value':_0x24a0fa[_0x120256(0x1f8)]}),await this[_0x120256(0x27f)]();}['startExitTimer'](){const _0x8608d1=a0_0x2c4c95;this[_0x8608d1(0x219)][_0x8608d1(0x24f)](_0x8608d1(0x229)+EXIT_TIMER_MINUTES+_0x8608d1(0x204)+EXIT_GRACE_PERIOD_SECONDS+_0x8608d1(0x21f)),this[_0x8608d1(0x2ac)](),this[_0x8608d1(0x271)]=!![],this['exitGraceTimer']=setTimeout(()=>{const _0x25a799=_0x8608d1;this[_0x25a799(0x271)]=![],this[_0x25a799(0x219)][_0x25a799(0x226)](_0x25a799(0x256));},EXIT_GRACE_PERIOD_SECONDS*0x3e8),this['exitTimer']=setTimeout(()=>{const _0x184097=_0x8608d1;this[_0x184097(0x219)][_0x184097(0x24f)](_0x184097(0x2de)),this['setPresence'](![]),this[_0x184097(0x1c3)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}[a0_0x2c4c95(0x2ac)](){const _0x1c90aa=a0_0x2c4c95;if(this['exitTimer'])clearTimeout(this[_0x1c90aa(0x1c3)]);if(this[_0x1c90aa(0x202)])clearTimeout(this[_0x1c90aa(0x202)]);this[_0x1c90aa(0x1c3)]=null,this[_0x1c90aa(0x202)]=null,this[_0x1c90aa(0x271)]=![];}async[a0_0x2c4c95(0x265)](_0x10d532){const _0x3b7193=a0_0x2c4c95;if(this[_0x3b7193(0x2ef)]===_0x10d532)return;this['isPresent']=_0x10d532,await this['setStateAsync'](_0x3b7193(0x2a2),{'val':_0x10d532,'ack':!![]}),this[_0x3b7193(0x219)]['info'](_0x3b7193(0x295)+(_0x10d532?_0x3b7193(0x2ec):'ABWESEND\x20âœˆï¸'));}[a0_0x2c4c95(0x20f)](){const _0x5692de=a0_0x2c4c95,_0x2c25f4=this['config']['inactivityThresholdHours'],_0x457f41=this[_0x5692de(0x29b)][_0x5692de(0x320)],_0x447b1c=this[_0x5692de(0x1d3)][_0x5692de(0x200)]>0x0?this[_0x5692de(0x1d3)][0x0][_0x5692de(0x2a4)]:Date[_0x5692de(0x282)](),_0x2f4be3=(Date[_0x5692de(0x282)]()-_0x447b1c)/(0x3e8*0x3c*0x3c);let _0x4d55f1='';_0x457f41&&this[_0x5692de(0x1cd)]===SYSTEM_MODES[_0x5692de(0x303)]&&this[_0x5692de(0x2ef)]&&(_0x2f4be3>_0x2c25f4&&(this['log'][_0x5692de(0x2e3)](_0x5692de(0x24d)+_0x2f4be3[_0x5692de(0x318)](0x1)+'\x20Stunden!'),_0x4d55f1='CRITICAL\x20WARNING:\x20No\x20sensor\x20activity\x20detected\x20for\x20'+_0x2f4be3[_0x5692de(0x318)](0x1)+_0x5692de(0x22c)));if(_0x4d55f1){this[_0x5692de(0x232)](_0x4d55f1)[_0x5692de(0x1fb)](_0x3b2f93=>this[_0x5692de(0x219)][_0x5692de(0x201)](_0x3b2f93));return;}const _0x465166=Date[_0x5692de(0x282)](),_0x48cecf=_0x465166-_0x447b1c,_0x4a93f4=(this[_0x5692de(0x29b)]['analysisInterval']||0xf)*0x3c*0x3e8;this[_0x5692de(0x1d3)]['length']>0x0&&_0x48cecf<=_0x4a93f4?this[_0x5692de(0x232)]()[_0x5692de(0x1fb)](_0x4fe07a=>this[_0x5692de(0x219)][_0x5692de(0x201)](_0x4fe07a)):!this['lastAlertState']&&(this[_0x5692de(0x211)]('analysis.isAlert',{'val':![],'ack':!![]}),this[_0x5692de(0x211)](_0x5692de(0x27b),{'val':![],'ack':!![]}));}async[a0_0x2c4c95(0x232)](_0x1de647=''){const _0x5bfa5e=a0_0x2c4c95;if(!this[_0x5bfa5e(0x2ab)]){this[_0x5bfa5e(0x219)][_0x5bfa5e(0x201)](_0x5bfa5e(0x23c));return;}const _0x4afb97=this[_0x5bfa5e(0x1d3)]['length']>0x0?this['eventHistory']:[{'note':_0x5bfa5e(0x349)}],_0x4f4404=PERSONA_MAPPING[this[_0x5bfa5e(0x29b)]['aiPersona']||_0x5bfa5e(0x2c4)],_0x202c76=this['config']['livingContext']||'',_0x328417=this[_0x5bfa5e(0x1cd)],_0x446743=new Date(),_0x19dc58=_0x446743[_0x5bfa5e(0x2c1)](_0x5bfa5e(0x32e),{'weekday':_0x5bfa5e(0x1bb),'hour':_0x5bfa5e(0x276),'minute':_0x5bfa5e(0x276)}),_0xaf98b2=this[_0x5bfa5e(0x29a)];let _0x1a8d70='';if(this[_0x5bfa5e(0x257)][_0x5bfa5e(0x200)]>0x0){const _0x5e5bef=this['feedbackHistory'][_0x5bfa5e(0x1ed)](0x0,0x3)[_0x5bfa5e(0x2d6)](_0x71b72c=>'User\x20Feedback:\x20Alarm\x20\x22'+_0x71b72c['alertReason']+'\x22\x20was\x20'+_0x71b72c[_0x5bfa5e(0x27d)]+'.')[_0x5bfa5e(0x1b4)]('\x0a');_0x1a8d70=_0x5bfa5e(0x2d2)+_0x5e5bef+'\x0a';}const _0x3940fc=_0x1de647?_0x5bfa5e(0x32f)+_0x1de647+_0x5bfa5e(0x23d):'',_0x21e7e=_0x5bfa5e(0x339),_0x467157='ROLLE:\x20Smart\x20Home\x20Analyst.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AKTUELLE\x20ZEIT:\x20'+_0x19dc58+'.\x20ORT:\x20'+_0xaf98b2[_0x5bfa5e(0x2f9)]+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20MODUS:\x20'+_0x328417+_0x5bfa5e(0x21d)+(this[_0x5bfa5e(0x2ef)]?'Ja':_0x5bfa5e(0x34d))+_0x5bfa5e(0x321)+_0x202c76+'.\x20PERSONA:\x20'+_0x4f4404+_0x5bfa5e(0x286)+_0x21e7e+'\x20'+_0x1a8d70+'\x20'+_0x3940fc+_0x5bfa5e(0x22b)+JSON['stringify'](_0x4afb97)+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SCHEMA:\x20{\x20\x22activity\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22deviationFromBaseline\x22:\x20\x22string\x22,\x20\x22isAlert\x22:\x20bool,\x20\x22isEmergency\x22:\x20bool,\x20\x22alertReason\x22:\x20\x22string\x22\x20},\x20\x22comfort\x22:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22suggestion\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22patternDetected\x22:\x20bool,\x20\x22description\x22:\x20\x22string\x22,\x20\x22suggestedAction\x22:\x20\x22string\x22\x20}\x20}\x20}';try{this[_0x5bfa5e(0x219)][_0x5bfa5e(0x226)](_0x5bfa5e(0x23b));const _0xd2c768=await this['geminiModel']['generateContent'](_0x467157),_0x2bee37=_0xd2c768['response']['text']()[_0x5bfa5e(0x341)](/```json|```/g,'')['trim']();this[_0x5bfa5e(0x219)][_0x5bfa5e(0x24f)]('âœ…\x20Gemini\x20Response\x20received.');const _0x391e06=JSON['parse'](_0x2bee37);await this[_0x5bfa5e(0x2fb)](_0x5bfa5e(0x223),{'val':_0x2bee37,'ack':!![]}),await this[_0x5bfa5e(0x2fb)]('analysis.alertReason',{'val':_0x391e06[_0x5bfa5e(0x32c)][_0x5bfa5e(0x209)]||'','ack':!![]}),await this[_0x5bfa5e(0x2fb)](_0x5bfa5e(0x1e1),{'val':_0x391e06[_0x5bfa5e(0x32c)][_0x5bfa5e(0x345)]||'N/A','ack':!![]}),await this['setStateAsync'](_0x5bfa5e(0x214),{'val':_0x391e06[_0x5bfa5e(0x32c)]['deviationFromBaseline']||_0x5bfa5e(0x280),'ack':!![]});_0x391e06['comfort']&&(await this['setStateAsync'](_0x5bfa5e(0x2fa),{'val':_0x391e06[_0x5bfa5e(0x1ff)][_0x5bfa5e(0x345)]||'','ack':!![]}),await this['setStateAsync']('analysis.comfortSuggestion',{'val':_0x391e06[_0x5bfa5e(0x1ff)][_0x5bfa5e(0x1ea)]||'','ack':!![]}),_0x391e06[_0x5bfa5e(0x1ff)][_0x5bfa5e(0x301)]&&(await this['setStateAsync'](_0x5bfa5e(0x217),{'val':_0x391e06[_0x5bfa5e(0x1ff)][_0x5bfa5e(0x301)][_0x5bfa5e(0x1f1)]||![],'ack':!![]}),await this[_0x5bfa5e(0x2fb)](_0x5bfa5e(0x224),{'val':_0x391e06[_0x5bfa5e(0x1ff)][_0x5bfa5e(0x301)][_0x5bfa5e(0x353)]||'','ack':!![]}),await this[_0x5bfa5e(0x2fb)](_0x5bfa5e(0x2a9),{'val':_0x391e06[_0x5bfa5e(0x1ff)][_0x5bfa5e(0x301)][_0x5bfa5e(0x30a)]||'','ack':!![]})));const _0x1d48af=_0x391e06[_0x5bfa5e(0x32c)]['isAlert']||![],_0x529e04=_0x391e06[_0x5bfa5e(0x32c)][_0x5bfa5e(0x309)]||![];if(_0x1d48af||_0x529e04){await this[_0x5bfa5e(0x2fb)](_0x5bfa5e(0x1e7),{'val':!![],'ack':!![]}),await this['setStateAsync'](_0x5bfa5e(0x27b),{'val':_0x529e04,'ack':!![]});if(!this[_0x5bfa5e(0x319)]||_0x529e04){const _0x35d2eb=_0x529e04?_0x5bfa5e(0x2e6):_0x5bfa5e(0x233);this[_0x5bfa5e(0x266)](_0x35d2eb+':\x20'+_0x391e06[_0x5bfa5e(0x32c)][_0x5bfa5e(0x209)],![],_0x529e04);}}else await this[_0x5bfa5e(0x2fb)]('analysis.isAlert',{'val':![],'ack':!![]}),await this[_0x5bfa5e(0x2fb)](_0x5bfa5e(0x27b),{'val':![],'ack':!![]});this['lastAlertState']=_0x1d48af||_0x529e04;const _0x3df879={'timestamp':Date[_0x5bfa5e(0x282)](),'id':Date[_0x5bfa5e(0x282)]()[_0x5bfa5e(0x31e)](),'analysis':_0x391e06,'systemMode':_0x328417,'isPro':this[_0x5bfa5e(0x239)]};this[_0x5bfa5e(0x21b)](_0x3df879);}catch(_0x2cb9b8){this[_0x5bfa5e(0x219)][_0x5bfa5e(0x201)](_0x5bfa5e(0x1b8)+_0x2cb9b8[_0x5bfa5e(0x2b1)]);}}async[a0_0x2c4c95(0x310)](){const _0x310155=a0_0x2c4c95;await this[_0x310155(0x34c)](),await this[_0x310155(0x322)](_0x310155(0x2a2),{'type':_0x310155(0x284),'common':{'name':_0x310155(0x1de),'type':'boolean','role':_0x310155(0x2ed),'read':!![],'write':![],'def':!![]},'native':{}}),await this[_0x310155(0x210)](_0x310155(0x2d5),{'type':_0x310155(0x284),'common':{'name':'Event\x20History','type':'string','role':_0x310155(0x1b6),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x310155(0x26a),{'type':_0x310155(0x284),'common':{'name':_0x310155(0x2f6),'type':'boolean','role':_0x310155(0x1dd),'read':!![],'write':!![],'def':![]},'native':{}}),await this[_0x310155(0x322)](_0x310155(0x223),{'type':_0x310155(0x284),'common':{'name':_0x310155(0x26e),'type':_0x310155(0x272),'role':_0x310155(0x1b6),'read':!![],'write':![]},'native':{}}),await this[_0x310155(0x322)](_0x310155(0x1e7),{'type':_0x310155(0x284),'common':{'name':'AI\x20Alert\x20Status','type':_0x310155(0x1db),'role':_0x310155(0x25e),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x310155(0x322)](_0x310155(0x27b),{'type':_0x310155(0x284),'common':{'name':'AI\x20Emergency\x20Status','type':_0x310155(0x1db),'role':_0x310155(0x324),'read':!![],'write':![],'def':![]},'native':{}}),await this[_0x310155(0x322)]('analysis.alertReason',{'type':_0x310155(0x284),'common':{'name':_0x310155(0x225),'type':_0x310155(0x272),'role':_0x310155(0x2f0),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x310155(0x1e1),{'type':_0x310155(0x284),'common':{'name':'Activity\x20Summary','type':_0x310155(0x272),'role':_0x310155(0x1dc),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x310155(0x214),{'type':_0x310155(0x284),'common':{'name':_0x310155(0x2e4),'type':'string','role':_0x310155(0x284),'read':!![],'write':![],'def':'N/A'},'native':{}}),await this[_0x310155(0x322)](_0x310155(0x2fa),{'type':'state','common':{'name':'Comfort\x20Summary','type':_0x310155(0x272),'role':_0x310155(0x1dc),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x310155(0x2bf),{'type':_0x310155(0x284),'common':{'name':_0x310155(0x1b3),'type':_0x310155(0x272),'role':_0x310155(0x1dc),'read':!![],'write':![]},'native':{}}),await this[_0x310155(0x210)](_0x310155(0x1d4),{'type':_0x310155(0x258),'common':{'name':_0x310155(0x2a0)},'native':{}}),await this[_0x310155(0x322)]('analysis.automation.patternDetected',{'type':'state','common':{'name':'Pattern\x20Detected','type':_0x310155(0x1db),'role':_0x310155(0x2ed),'read':!![],'write':![],'def':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x310155(0x224),{'type':_0x310155(0x284),'common':{'name':_0x310155(0x2ad),'type':_0x310155(0x272),'role':_0x310155(0x1dc),'read':!![],'write':![]},'native':{}}),await this[_0x310155(0x322)]('analysis.automation.suggestedAction',{'type':'state','common':{'name':_0x310155(0x27a),'type':_0x310155(0x272),'role':_0x310155(0x1dc),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x310155(0x1cb),{'type':'state','common':{'name':_0x310155(0x268),'type':_0x310155(0x272),'role':_0x310155(0x1b6),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync']('analysis.feedbackHistory',{'type':_0x310155(0x284),'common':{'name':_0x310155(0x267),'type':_0x310155(0x272),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x310155(0x34e)](),await this['checkLtmDriftObjects']();}async['checkSystemObjects'](){const _0x177101=a0_0x2c4c95;await this['extendObjectAsync'](_0x177101(0x227),{'type':_0x177101(0x258),'common':{'name':_0x177101(0x292)},'native':{}}),await this[_0x177101(0x210)](SYSTEM_DP_MODE,{'type':_0x177101(0x284),'common':{'name':_0x177101(0x28b),'type':_0x177101(0x272),'role':_0x177101(0x284),'read':!![],'write':!![],'def':SYSTEM_MODES['NORMAL'],'states':{[SYSTEM_MODES[_0x177101(0x303)]]:_0x177101(0x212),[SYSTEM_MODES[_0x177101(0x33e)]]:_0x177101(0x338),[SYSTEM_MODES[_0x177101(0x2b9)]]:_0x177101(0x1d7),[SYSTEM_MODES[_0x177101(0x1e3)]]:_0x177101(0x1c0)}},'native':{}});}async['sendNotification'](_0x5d8600,_0x35df2=![],_0x2d69cb=![]){const _0x3aa62c=a0_0x2c4c95;this[_0x3aa62c(0x219)][_0x3aa62c(0x24f)]((_0x35df2?_0x3aa62c(0x22e):'')+_0x3aa62c(0x300)+_0x5d8600+'\x22'+(_0x2d69cb?'\x20(EMERGENCY)':''));const _0x4b23fa=this[_0x3aa62c(0x29b)];let _0x240d45=0x0;_0x4b23fa[_0x3aa62c(0x342)]&&_0x4b23fa[_0x3aa62c(0x306)]&&(await this[_0x3aa62c(0x1e8)](_0x4b23fa[_0x3aa62c(0x306)],_0x3aa62c(0x1d8),{'text':_0x5d8600,'user':_0x4b23fa[_0x3aa62c(0x314)]}),_0x240d45++);if(_0x4b23fa[_0x3aa62c(0x2da)]&&_0x4b23fa[_0x3aa62c(0x20e)]){let _0x42dc68={'message':_0x5d8600,'title':_0x2d69cb?_0x3aa62c(0x302):_0x3aa62c(0x21c),'priority':_0x2d69cb?0x2:0x1,'device':_0x4b23fa[_0x3aa62c(0x1c7)]};_0x2d69cb&&(_0x42dc68['retry']=0x1e,_0x42dc68['expire']=0xe10,_0x42dc68[_0x3aa62c(0x2cb)]=_0x3aa62c(0x25a)),await this[_0x3aa62c(0x1e8)](_0x4b23fa[_0x3aa62c(0x20e)],_0x3aa62c(0x1d8),_0x42dc68),_0x240d45++;}return _0x4b23fa['notifyEmailEnabled']&&_0x4b23fa[_0x3aa62c(0x1e2)]&&(await this['sendToAsync'](_0x4b23fa['notifyEmailInstance'],'send',{'text':_0x5d8600,'to':_0x4b23fa[_0x3aa62c(0x246)]}),_0x240d45++),_0x4b23fa[_0x3aa62c(0x33c)]&&_0x4b23fa['notifyWhatsappInstance']&&(await this[_0x3aa62c(0x1e8)](_0x4b23fa[_0x3aa62c(0x231)],_0x3aa62c(0x1d8),{'text':_0x5d8600,'phone':_0x4b23fa[_0x3aa62c(0x2ce)]}),_0x240d45++),_0x4b23fa[_0x3aa62c(0x208)]&&_0x4b23fa[_0x3aa62c(0x31a)]&&(await this[_0x3aa62c(0x1e8)](_0x4b23fa[_0x3aa62c(0x31a)],_0x3aa62c(0x1d8),{'text':_0x5d8600,'phone':_0x4b23fa['notifySignalRecipient']}),_0x240d45++),_0x240d45;}async[a0_0x2c4c95(0x1c2)](){const _0x2bd18=a0_0x2c4c95;try{const _0x44a632=await this['getStateAsync'](LTM_DP_RAW_LOG);if(_0x44a632&&_0x44a632[_0x2bd18(0x1f8)])this['rawEventLog']=JSON['parse'](_0x44a632[_0x2bd18(0x1f8)]);}catch(_0x1ca6c2){this[_0x2bd18(0x1e4)]=[];}}async[a0_0x2c4c95(0x27f)](){const _0x4f9ad6=a0_0x2c4c95;this[_0x4f9ad6(0x1e4)][_0x4f9ad6(0x200)]>RAW_LOG_MAX_SIZE&&this['rawEventLog'][_0x4f9ad6(0x294)](0x0,this[_0x4f9ad6(0x1e4)][_0x4f9ad6(0x200)]-RAW_LOG_MAX_SIZE),await this[_0x4f9ad6(0x2fb)](LTM_DP_RAW_LOG,{'val':JSON['stringify'](this['rawEventLog']),'ack':!![]});}async['loadDailyDigests'](){const _0x24bb92=a0_0x2c4c95;try{const _0x152c3f=await this[_0x24bb92(0x2ba)](LTM_DP_DAILY_DIGESTS);if(_0x152c3f&&_0x152c3f[_0x24bb92(0x1f8)])this[_0x24bb92(0x2b2)]=JSON[_0x24bb92(0x230)](_0x152c3f[_0x24bb92(0x1f8)]);}catch(_0x51a84a){this[_0x24bb92(0x2b2)]=[];}await this[_0x24bb92(0x1ae)]();}async['saveDailyDigests'](_0x29f2cc=!![]){const _0x4a9397=a0_0x2c4c95,_0x10875e=this[_0x4a9397(0x29b)][_0x4a9397(0x33a)]||0x3c;this['dailyDigests']['length']>_0x10875e&&this[_0x4a9397(0x2b2)][_0x4a9397(0x294)](0x0,this[_0x4a9397(0x2b2)][_0x4a9397(0x200)]-_0x10875e);await this[_0x4a9397(0x2fb)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x4a9397(0x206)](this[_0x4a9397(0x2b2)]),'ack':!![]});if(_0x29f2cc)await this[_0x4a9397(0x1ae)]();}['setupLtmScheduler'](){const _0x144695=a0_0x2c4c95;if(this[_0x144695(0x2fe)])this['ltmJob']['cancel']();if(!this[_0x144695(0x239)]){this[_0x144695(0x2fb)](LTM_DP_STATUS,{'val':'Deaktiviert\x20(Pro-Feature)','ack':!![]});return;}this[_0x144695(0x2fe)]=schedule[_0x144695(0x2ee)](LTM_SCHEDULE,()=>this[_0x144695(0x22f)]());}[a0_0x2c4c95(0x1c1)](){const _0x2c7d99=a0_0x2c4c95;if(this[_0x2c7d99(0x2f5)])clearInterval(this[_0x2c7d99(0x2f5)]);if(!this[_0x2c7d99(0x239)])return;this['driftAnalysisTimer']=setInterval(()=>this[_0x2c7d99(0x2b4)](),(this[_0x2c7d99(0x29b)]['ltmDriftCheckIntervalHours']||0x18)*0x36ee80),setTimeout(()=>this[_0x2c7d99(0x2b4)](),0x1388);}async[a0_0x2c4c95(0x222)](){const _0x4cb74f=a0_0x2c4c95;await this[_0x4cb74f(0x2fb)]('analysis.activitySummary',{'val':_0x4cb74f(0x348),'ack':!![]}),await this[_0x4cb74f(0x2fb)](_0x4cb74f(0x214),{'val':this[_0x4cb74f(0x239)]?'N/A\x20(No\x20Activity)':_0x4cb74f(0x34f),'ack':!![]}),await this['setStateAsync'](_0x4cb74f(0x1e7),{'val':![],'ack':!![]}),await this['setStateAsync'](_0x4cb74f(0x27b),{'val':![],'ack':!![]}),this[_0x4cb74f(0x319)]=![];}async[a0_0x2c4c95(0x21b)](_0x339b28){const _0x211c79=a0_0x2c4c95;this[_0x211c79(0x21a)][_0x211c79(0x298)](_0x339b28);if(this[_0x211c79(0x21a)]['length']>ANALYSIS_HISTORY_MAX_SIZE)this[_0x211c79(0x21a)][_0x211c79(0x2d7)]();await this[_0x211c79(0x2fb)](_0x211c79(0x1cb),{'val':JSON['stringify'](this['analysisHistory']),'ack':!![]});}[a0_0x2c4c95(0x22d)](){const _0x1f7fe2=a0_0x2c4c95;if(this['modeResetJob'])this[_0x1f7fe2(0x340)][_0x1f7fe2(0x2ea)]();this[_0x1f7fe2(0x340)]=schedule[_0x1f7fe2(0x2ee)](MODE_RESET_SCHEDULE,async()=>{const _0x5c976f=_0x1f7fe2;await this[_0x5c976f(0x2d4)](),AUTO_RESET_MODES['includes'](this[_0x5c976f(0x1cd)])&&await this[_0x5c976f(0x2fb)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES['NORMAL'],'ack':![]});});}async[a0_0x2c4c95(0x1ae)](){const _0x1ad6b3=a0_0x2c4c95;if(!this[_0x1ad6b3(0x239)]){await this[_0x1ad6b3(0x2fb)](LTM_DP_BASELINE_STATUS,{'val':_0x1ad6b3(0x1bd),'ack':!![]});return;}const _0x28c4ed=this[_0x1ad6b3(0x2b2)][_0x1ad6b3(0x200)]>=(this['config'][_0x1ad6b3(0x1e5)]||0x7)?_0x1ad6b3(0x1c4)+this[_0x1ad6b3(0x2b2)][_0x1ad6b3(0x200)]+_0x1ad6b3(0x331):_0x1ad6b3(0x326)+this[_0x1ad6b3(0x2b2)]['length']+'/'+(this[_0x1ad6b3(0x29b)]['minDaysForBaseline']||0x7)+')';await this[_0x1ad6b3(0x2fb)](LTM_DP_BASELINE_STATUS,{'val':_0x28c4ed,'ack':!![]});}async['checkLtmObjects'](){const _0xc1fb35=a0_0x2c4c95;await this[_0xc1fb35(0x210)](_0xc1fb35(0x24c),{'type':_0xc1fb35(0x258),'common':{'name':_0xc1fb35(0x24c)},'native':{}}),await this[_0xc1fb35(0x210)](LTM_DP_RAW_LOG,{'type':'state','common':{'name':_0xc1fb35(0x352),'type':_0xc1fb35(0x272),'role':_0xc1fb35(0x1b6),'read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_DAILY_DIGESTS,{'type':_0xc1fb35(0x284),'common':{'name':_0xc1fb35(0x2d8),'type':_0xc1fb35(0x272),'role':'json','read':!![],'write':![]},'native':{}}),await this['extendObjectAsync'](LTM_DP_STATUS,{'type':_0xc1fb35(0x284),'common':{'name':_0xc1fb35(0x275),'type':'string','role':_0xc1fb35(0x1dc),'read':!![],'write':![]},'native':{}}),await this[_0xc1fb35(0x210)](LTM_DP_TRIGGER_DIGEST,{'type':_0xc1fb35(0x284),'common':{'name':_0xc1fb35(0x251),'type':_0xc1fb35(0x1db),'role':'button','read':!![],'write':!![],'def':![]},'native':{}}),await this[_0xc1fb35(0x210)](LTM_DP_BASELINE_STATUS,{'type':_0xc1fb35(0x284),'common':{'name':'Baseline\x20Status','type':_0xc1fb35(0x272),'role':'text','read':!![],'write':![]},'native':{}});}async['checkLtmDriftObjects'](){const _0x568dbf=a0_0x2c4c95;await this['extendObjectAsync'](LTM_DP_DRIFT_CHANNEL,{'type':_0x568dbf(0x258),'common':{'name':_0x568dbf(0x270)},'native':{}}),await this[_0x568dbf(0x210)](LTM_DP_DRIFT_STATUS,{'type':'state','common':{'name':_0x568dbf(0x254),'type':_0x568dbf(0x272),'role':_0x568dbf(0x284),'read':!![],'write':![],'def':_0x568dbf(0x280)},'native':{}}),await this['extendObjectAsync'](LTM_DP_DRIFT_DETAILS,{'type':_0x568dbf(0x284),'common':{'name':_0x568dbf(0x2b8),'type':_0x568dbf(0x272),'role':_0x568dbf(0x1dc),'read':!![],'write':![]},'native':{}}),await this[_0x568dbf(0x210)](LTM_DP_DRIFT_LAST_CHECK,{'type':_0x568dbf(0x284),'common':{'name':_0x568dbf(0x304),'type':_0x568dbf(0x28e),'role':_0x568dbf(0x2ae),'read':!![],'write':![]},'native':{}});}async[a0_0x2c4c95(0x2b4)](){const _0x3dafc0=a0_0x2c4c95;if(!this[_0x3dafc0(0x239)]||!this[_0x3dafc0(0x2ab)])return;const _0x380267=this[_0x3dafc0(0x29b)][_0x3dafc0(0x22a)]||0xe;if(this[_0x3dafc0(0x2b2)][_0x3dafc0(0x200)]<_0x380267+(this[_0x3dafc0(0x29b)][_0x3dafc0(0x1e5)]||0x7)){await this[_0x3dafc0(0x2fb)](LTM_DP_DRIFT_STATUS,{'val':_0x3dafc0(0x2c2),'ack':!![]});return;}const _0x6f9ab0=this['dailyDigests']['slice'](-_0x380267),_0x4d4818=this['dailyDigests'][_0x3dafc0(0x1ed)](0x0,this[_0x3dafc0(0x2b2)][_0x3dafc0(0x200)]-_0x380267),_0xd779c4='ROLLE:\x20Data\x20Scientist.\x20VERGLEICHE:\x20Dataset\x20A\x20(Recent)\x20vs\x20B\x20(Established).\x20ZIEL:\x20Erkenne\x20Drift.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aB\x20(LTB):\x0a'+JSON[_0x3dafc0(0x206)](_0x4d4818)+_0x3dafc0(0x325)+JSON[_0x3dafc0(0x206)](_0x6f9ab0);try{const _0x222228=await this[_0x3dafc0(0x2ab)][_0x3dafc0(0x337)](_0xd779c4),_0x37e515=JSON[_0x3dafc0(0x230)](_0x222228[_0x3dafc0(0x1d6)]['text']()[_0x3dafc0(0x341)](/```json|```/g,'')['trim']());_0x37e515['baselineDrift']&&(await this[_0x3dafc0(0x2fb)](LTM_DP_DRIFT_STATUS,{'val':_0x37e515[_0x3dafc0(0x350)],'ack':!![]}),await this['setStateAsync'](LTM_DP_DRIFT_DETAILS,{'val':_0x37e515[_0x3dafc0(0x2af)],'ack':!![]}),await this[_0x3dafc0(0x2fb)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x3dafc0(0x282)](),'ack':!![]}));}catch(_0x7d9c8){}}async[a0_0x2c4c95(0x2d4)](){const _0xcd43a1=a0_0x2c4c95;try{const _0x2dfdf8=await this['getStateAsync'](SYSTEM_DP_MODE);_0x2dfdf8&&_0x2dfdf8[_0xcd43a1(0x1f8)]&&Object[_0xcd43a1(0x1b5)](SYSTEM_MODES)[_0xcd43a1(0x2be)](_0x2dfdf8['val'])?this['currentSystemMode']=_0x2dfdf8[_0xcd43a1(0x1f8)]:(this[_0xcd43a1(0x1cd)]=SYSTEM_MODES[_0xcd43a1(0x303)],await this['setStateAsync'](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0xcd43a1(0x303)],'ack':!![]}));}catch(_0x2bce1c){this['currentSystemMode']=SYSTEM_MODES[_0xcd43a1(0x303)];}}async['getSystemUUID'](){const _0x40c404=a0_0x2c4c95;try{const _0x11ce38=await this['getForeignObjectAsync'](_0x40c404(0x31c));if(_0x11ce38&&_0x11ce38[_0x40c404(0x25c)]&&_0x11ce38[_0x40c404(0x25c)][_0x40c404(0x20d)])return _0x11ce38[_0x40c404(0x25c)][_0x40c404(0x20d)];return _0x40c404(0x262);}catch(_0x30e293){return _0x40c404(0x247);}}async[a0_0x2c4c95(0x296)](_0x1c8b79){const _0x516fc9=a0_0x2c4c95;if(!_0x1c8b79)return![];this[_0x516fc9(0x1b0)]=await this[_0x516fc9(0x2f4)]();if(_0x1c8b79===_0x516fc9(0x259)||_0x1c8b79[_0x516fc9(0x27e)](_0x516fc9(0x313)))return!![];return![];}['onUnload'](_0x2ed904){const _0x4028af=a0_0x2c4c95;if(this[_0x4028af(0x28f)])clearInterval(this['analysisTimer']);if(this[_0x4028af(0x2f5)])clearInterval(this['driftAnalysisTimer']);if(this[_0x4028af(0x2fe)])this[_0x4028af(0x2fe)]['cancel']();if(this[_0x4028af(0x340)])this[_0x4028af(0x340)][_0x4028af(0x2ea)]();if(this[_0x4028af(0x1c3)])clearTimeout(this['exitTimer']);if(this[_0x4028af(0x202)])clearTimeout(this['exitGraceTimer']);_0x2ed904();}async[a0_0x2c4c95(0x28d)](_0x13baa9){const _0x3639bd=a0_0x2c4c95;if(typeof _0x13baa9===_0x3639bd(0x1f0)&&_0x13baa9[_0x3639bd(0x2b1)]){if(_0x13baa9[_0x3639bd(0x261)]==='testApiKey'){if(!_0x13baa9[_0x3639bd(0x2b1)]['apiKey'])return this[_0x3639bd(0x218)](_0x13baa9[_0x3639bd(0x23f)],_0x13baa9[_0x3639bd(0x261)],{'success':![],'message':_0x3639bd(0x2e5)},_0x13baa9[_0x3639bd(0x2e0)]);try{const _0x44af2b=new GoogleGenerativeAI(_0x13baa9['message'][_0x3639bd(0x221)])[_0x3639bd(0x1c9)]({'model':_0x3639bd(0x29d)});await _0x44af2b[_0x3639bd(0x337)](_0x3639bd(0x243)),this[_0x3639bd(0x218)](_0x13baa9[_0x3639bd(0x23f)],_0x13baa9[_0x3639bd(0x261)],{'success':!![],'message':_0x3639bd(0x30d)},_0x13baa9['callback']);}catch(_0x1ddf49){this['sendTo'](_0x13baa9['from'],_0x13baa9[_0x3639bd(0x261)],{'success':![],'message':_0x1ddf49[_0x3639bd(0x2b1)]},_0x13baa9[_0x3639bd(0x2e0)]);}}else{if(_0x13baa9[_0x3639bd(0x261)]===_0x3639bd(0x213)){const _0x1b2059=await this[_0x3639bd(0x266)]('[Test]\x20Notification',!![]);this[_0x3639bd(0x218)](_0x13baa9[_0x3639bd(0x23f)],_0x13baa9[_0x3639bd(0x261)],{'success':_0x1b2059>0x0,'message':_0x1b2059+'\x20sent'},_0x13baa9['callback']);}else{if(_0x13baa9['command']==='getLtmData'){if(!this[_0x3639bd(0x239)])return this[_0x3639bd(0x218)](_0x13baa9['from'],_0x13baa9[_0x3639bd(0x261)],{'success':![],'isPro':![]},_0x13baa9[_0x3639bd(0x2e0)]);let _0x5f15a8={'status':_0x3639bd(0x280),'details':'','lastCheck':0x0};try{_0x5f15a8['status']=(await this[_0x3639bd(0x2ba)](LTM_DP_DRIFT_STATUS))[_0x3639bd(0x1f8)],_0x5f15a8[_0x3639bd(0x269)]=(await this[_0x3639bd(0x2ba)](LTM_DP_DRIFT_DETAILS))[_0x3639bd(0x1f8)],_0x5f15a8['lastCheck']=(await this[_0x3639bd(0x2ba)](LTM_DP_DRIFT_LAST_CHECK))[_0x3639bd(0x1f8)];}catch(_0x1f8638){}this[_0x3639bd(0x218)](_0x13baa9[_0x3639bd(0x23f)],_0x13baa9[_0x3639bd(0x261)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x3639bd(0x2b2)],'driftAnalysis':_0x5f15a8,'analysisHistory':this[_0x3639bd(0x21a)]},_0x13baa9[_0x3639bd(0x2e0)]);}else{if(_0x13baa9[_0x3639bd(0x261)]==='getEnums'){const _0x3b1c1f=await this[_0x3639bd(0x32a)](_0x3639bd(0x30e),_0x3639bd(0x240)),_0x474eaf=[];if(_0x3b1c1f)for(const _0xbb6071 in _0x3b1c1f){const _0x442a13=_0x3b1c1f[_0xbb6071],_0x5daf9b=(_0x442a13[_0x3639bd(0x207)]&&typeof _0x442a13[_0x3639bd(0x207)][_0x3639bd(0x2aa)]===_0x3639bd(0x1f0)?_0x442a13[_0x3639bd(0x207)][_0x3639bd(0x2aa)]['de']:_0x442a13['common'][_0x3639bd(0x2aa)])||_0x442a13[_0x3639bd(0x207)][_0x3639bd(0x2aa)];_0x474eaf[_0x3639bd(0x2b5)]({'id':_0xbb6071,'name':_0x5daf9b});}this[_0x3639bd(0x218)](_0x13baa9[_0x3639bd(0x23f)],_0x13baa9[_0x3639bd(0x261)],{'success':!![],'enums':_0x474eaf},_0x13baa9['callback']);}else{if(_0x13baa9['command']===_0x3639bd(0x289))try{const _0x1f4fcc=await this[_0x3639bd(0x335)](_0x13baa9[_0x3639bd(0x2b1)]||{});this[_0x3639bd(0x218)](_0x13baa9[_0x3639bd(0x23f)],_0x13baa9[_0x3639bd(0x261)],{'success':!![],'devices':_0x1f4fcc},_0x13baa9['callback']);}catch(_0x1e0389){this['sendTo'](_0x13baa9[_0x3639bd(0x23f)],_0x13baa9[_0x3639bd(0x261)],{'success':![],'error':_0x1e0389['message']},_0x13baa9['callback']);}else{if(_0x13baa9[_0x3639bd(0x261)]==='submitFeedback'){const {historyId:_0x3daca1,rating:_0x1bcd02,comment:_0x316163,alertReason:_0x451c1b}=_0x13baa9[_0x3639bd(0x2b1)];_0x3daca1&&_0x1bcd02?(await this['saveFeedback']({'timestamp':Date[_0x3639bd(0x282)](),'historyId':_0x3daca1,'rating':_0x1bcd02,'comment':_0x316163,'alertReason':_0x451c1b}),this[_0x3639bd(0x218)](_0x13baa9[_0x3639bd(0x23f)],_0x13baa9['command'],{'success':!![]},_0x13baa9[_0x3639bd(0x2e0)])):this[_0x3639bd(0x218)](_0x13baa9['from'],_0x13baa9[_0x3639bd(0x261)],{'success':![],'error':_0x3639bd(0x334)},_0x13baa9['callback']);}}}}}}}}}function a0_0x27b1(_0x2757f6,_0x14de70){const _0x52aa04=a0_0x1a23();return a0_0x27b1=function(_0x50d5c6,_0x2800cb){_0x50d5c6=_0x50d5c6-0x1ad;let _0x1a231e=_0x52aa04[_0x50d5c6];return _0x1a231e;},a0_0x27b1(_0x2757f6,_0x14de70);}if(require[a0_0x2c4c95(0x1ec)]!==module)module['exports']=_0x232588=>new CogniLiving(_0x232588);else new CogniLiving();