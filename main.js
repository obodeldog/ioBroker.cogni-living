const a0_0x33b140=a0_0x45f1;(function(_0x889c5c,_0x4b3ece){const _0x9e5782=a0_0x45f1,_0x240338=_0x889c5c();while(!![]){try{const _0x4b2572=-parseInt(_0x9e5782(0x1c9))/0x1*(-parseInt(_0x9e5782(0x1c3))/0x2)+parseInt(_0x9e5782(0x1c5))/0x3+-parseInt(_0x9e5782(0x198))/0x4+parseInt(_0x9e5782(0x1c7))/0x5+parseInt(_0x9e5782(0x1be))/0x6*(-parseInt(_0x9e5782(0x1ab))/0x7)+parseInt(_0x9e5782(0x1a1))/0x8*(parseInt(_0x9e5782(0x1ca))/0x9)+-parseInt(_0x9e5782(0x1d7))/0xa;if(_0x4b2572===_0x4b3ece)break;else _0x240338['push'](_0x240338['shift']());}catch(_0x196142){_0x240338['push'](_0x240338['shift']());}}}(a0_0x54a0,0x54a2f));const a0_0x3e942f=(function(){let _0x163292=!![];return function(_0x4e1772,_0x512b51){const _0x37ae25=_0x163292?function(){const _0xf68b85=a0_0x45f1;if(_0x512b51){const _0x183dbb=_0x512b51[_0xf68b85(0x195)](_0x4e1772,arguments);return _0x512b51=null,_0x183dbb;}}:function(){};return _0x163292=![],_0x37ae25;};}()),a0_0xf1afe7=a0_0x3e942f(this,function(){const _0x48aa70=a0_0x45f1;return a0_0xf1afe7[_0x48aa70(0x1b9)]()[_0x48aa70(0x1a2)](_0x48aa70(0x194))[_0x48aa70(0x1b9)]()[_0x48aa70(0x1b8)](a0_0xf1afe7)[_0x48aa70(0x1a2)](_0x48aa70(0x194));});function a0_0x45f1(_0x34edfa,_0x536901){const _0xf31d1c=a0_0x54a0();return a0_0x45f1=function(_0xf1afe7,_0x3e942f){_0xf1afe7=_0xf1afe7-0x190;let _0x54a0b2=_0xf31d1c[_0xf1afe7];return _0x54a0b2;},a0_0x45f1(_0x34edfa,_0x536901);}a0_0xf1afe7();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x33b140(0x1a3)),installer=require(a0_0x33b140(0x1b7)),scanner=require(a0_0x33b140(0x1cd)),schedulers=require(a0_0x33b140(0x1b5)),topology=require(a0_0x33b140(0x1b1)),setup=require(a0_0x33b140(0x1d4)),recorder=require(a0_0x33b140(0x1d5)),pythonBridge=require(a0_0x33b140(0x1d1)),aiAgent=require(a0_0x33b140(0x1d2)),deadMan=require(a0_0x33b140(0x1a0)),automation=require('./lib/automation'),GEMINI_MODEL=a0_0x33b140(0x1ad),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x33b140(0x1dc)]{constructor(_0x7f4a24){const _0x37701d=a0_0x33b140;super({..._0x7f4a24,'name':_0x37701d(0x196)}),this[_0x37701d(0x1b2)]=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x37701d(0x1d3)]=[],this[_0x37701d(0x1d6)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x37701d(0x1c8)]=!![],this[_0x37701d(0x192)]=null,this[_0x37701d(0x191)]=![],this[_0x37701d(0x1cf)]=![],this['on'](_0x37701d(0x19d),this[_0x37701d(0x197)][_0x37701d(0x1b6)](this)),this['on'](_0x37701d(0x193),this[_0x37701d(0x1bb)][_0x37701d(0x1b6)](this)),this['on'](_0x37701d(0x1cc),this[_0x37701d(0x1c1)]['bind'](this)),this['on'](_0x37701d(0x1bc),this[_0x37701d(0x1d9)][_0x37701d(0x1b6)](this));}async[a0_0x33b140(0x197)](){const _0x36afae=a0_0x33b140;this[_0x36afae(0x1cb)][_0x36afae(0x1a7)]('Starting\x20cogni-living\x20adapter...'),await setup['init'](this),await topology[_0x36afae(0x1da)](this),this[_0x36afae(0x1af)][_0x36afae(0x1bf)]&&this[_0x36afae(0x1af)][_0x36afae(0x19a)]&&(this[_0x36afae(0x1cb)][_0x36afae(0x1a7)](_0x36afae(0x1b4)+this[_0x36afae(0x1af)]['infrasoundSensorId']),this[_0x36afae(0x199)](this[_0x36afae(0x1af)][_0x36afae(0x19a)])),await pythonBridge[_0x36afae(0x19e)](this),schedulers[_0x36afae(0x1da)](this),this['loadState']();}async[a0_0x33b140(0x1bb)](_0x26b371,_0x4b6356){const _0xdd21=a0_0x33b140;if(!_0x4b6356||_0x4b6356[_0xdd21(0x1c2)])return;if(this['config'][_0xdd21(0x1bf)]&&_0x26b371===this[_0xdd21(0x1af)][_0xdd21(0x19a)]){this[_0xdd21(0x190)](_0x4b6356[_0xdd21(0x1d0)]);return;}topology['isRelevant'](_0x26b371)&&(recorder[_0xdd21(0x1ba)](this,_0x26b371,_0x4b6356),automation['checkTriggers'](this,_0x26b371,_0x4b6356));}async[a0_0x33b140(0x190)](_0x578ed){const _0x4f5eb1=a0_0x33b140;if(_0x578ed==null||typeof _0x578ed!==_0x4f5eb1(0x1c6))return;if(this[_0x4f5eb1(0x1cf)])return;if(this['config'][_0x4f5eb1(0x1aa)]){const _0x5dcb1f=await this[_0x4f5eb1(0x1a6)](this[_0x4f5eb1(0x1af)][_0x4f5eb1(0x1aa)]);if(!_0x5dcb1f||!_0x5dcb1f[_0x4f5eb1(0x1d0)])return;}const _0x306bb9=this[_0x4f5eb1(0x1af)][_0x4f5eb1(0x1ce)]||0.04;Math[_0x4f5eb1(0x1d8)](_0x578ed)>=_0x306bb9&&(this['log'][_0x4f5eb1(0x1dd)]('[Infrasound]\x20ALARM\x20TRIGGERED!\x20Value:\x20'+_0x578ed+'\x20hPa\x20(Threshold:\x20'+_0x306bb9+')'),await this[_0x4f5eb1(0x1a5)]('security.alarm_triggered',{'val':!![],'ack':!![]}),this[_0x4f5eb1(0x1c0)](_0x4f5eb1(0x1bd)+_0x578ed+_0x4f5eb1(0x19c)),this[_0x4f5eb1(0x1cf)]=!![],setTimeout(()=>{const _0xe6a6b6=_0x4f5eb1;this[_0xe6a6b6(0x1cf)]=![];},0x2710));}[a0_0x33b140(0x1c0)](_0x31c763){const _0x3d71e2=a0_0x33b140;this[_0x3d71e2(0x1af)][_0x3d71e2(0x1c4)]&&this[_0x3d71e2(0x1af)]['notifyPushoverInstance']&&this[_0x3d71e2(0x1a8)](this[_0x3d71e2(0x1af)][_0x3d71e2(0x1b3)],_0x3d71e2(0x19b),{'message':_0x31c763,'title':'Nuukanni\x20Security','priority':0x1}),this[_0x3d71e2(0x1af)][_0x3d71e2(0x1a9)]&&this['config'][_0x3d71e2(0x1ae)]&&this[_0x3d71e2(0x1a8)](this[_0x3d71e2(0x1af)][_0x3d71e2(0x1ae)],_0x3d71e2(0x19b),{'text':_0x31c763});}[a0_0x33b140(0x1d9)](_0x3b2a6d){const _0x246b0f=a0_0x33b140;try{pythonBridge[_0x246b0f(0x19f)](),_0x3b2a6d();}catch(_0x3ee986){_0x3b2a6d();}}[a0_0x33b140(0x1ac)](){}[a0_0x33b140(0x1a4)](){}}function a0_0x54a0(){const _0x1efaae=['./lib/scanner','infrasoundThreshold','infrasoundLocked','val','./lib/python_bridge','./lib/ai_agent','dailyDigests','./lib/setup','./lib/recorder','sensorLastValues','5553370coyPyd','abs','onUnload','init','exports','Adapter','warn','handleInfrasound','exitGrace','exitTimer','stateChange','(((.+)+)+)+$','apply','cogni-living','onReady','643136juVtsQ','subscribeForeignStates','infrasoundSensorId','send','\x20hPa.\x20Einbruch\x20wahrscheinlich.','ready','start','stop','./lib/dead_man','59352RtTLVZ','search','@google/generative-ai','saveState','setStateAsync','getForeignStateAsync','info','sendTo','notifyTelegramEnabled','infrasoundArmingId','30716fKVyPO','loadState','models/gemini-flash-latest','notifyTelegramInstance','config','parent','./lib/topology','eventHistory','notifyPushoverInstance','[Infrasound]\x20Subscribing\x20to\x20sensor:\x20','./lib/scheduler','bind','./lib/installer','constructor','toString','logEvent','onStateChange','unload','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','132Myyrgr','infrasoundEnabled','sendNotification','onMessage','ack','925732LGeMwq','notifyPushoverEnabled','267495DTvFts','number','1367210uuiZjt','isPresent','1oCFBrb','405MNiiLO','log','message'];a0_0x54a0=function(){return _0x1efaae;};return a0_0x54a0();}module[a0_0x33b140(0x1b0)]?module[a0_0x33b140(0x1db)]=_0x5efa14=>new CogniLiving(_0x5efa14):new CogniLiving();