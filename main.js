const a0_0xc85e49=a0_0x1d8d;(function(_0x28b37f,_0x5d0a39){const _0x5c9191=a0_0x1d8d,_0x2aa93b=_0x28b37f();while(!![]){try{const _0x23fa13=parseInt(_0x5c9191(0x21b))/0x1+-parseInt(_0x5c9191(0x2d0))/0x2*(-parseInt(_0x5c9191(0x27b))/0x3)+parseInt(_0x5c9191(0x2c8))/0x4+-parseInt(_0x5c9191(0x20b))/0x5+parseInt(_0x5c9191(0x2b3))/0x6*(parseInt(_0x5c9191(0x1d7))/0x7)+parseInt(_0x5c9191(0x21f))/0x8*(parseInt(_0x5c9191(0x1eb))/0x9)+-parseInt(_0x5c9191(0x30d))/0xa*(parseInt(_0x5c9191(0x266))/0xb);if(_0x23fa13===_0x5d0a39)break;else _0x2aa93b['push'](_0x2aa93b['shift']());}catch(_0x52595c){_0x2aa93b['push'](_0x2aa93b['shift']());}}}(a0_0x3b03,0x6ec66));const a0_0x1260bd=(function(){let _0x681876=!![];return function(_0x356218,_0x4a307d){const _0x72ad7f=_0x681876?function(){const _0x368f52=a0_0x1d8d;if(_0x4a307d){const _0x119b02=_0x4a307d[_0x368f52(0x245)](_0x356218,arguments);return _0x4a307d=null,_0x119b02;}}:function(){};return _0x681876=![],_0x72ad7f;};}()),a0_0x4ae012=a0_0x1260bd(this,function(){const _0x31a399=a0_0x1d8d;return a0_0x4ae012[_0x31a399(0x294)]()[_0x31a399(0x250)](_0x31a399(0x2bb))[_0x31a399(0x294)]()[_0x31a399(0x2d9)](a0_0x4ae012)[_0x31a399(0x250)](_0x31a399(0x2bb));});function a0_0x3b03(){const _0x4fb236=['analysis.energy.warmupTargets','dailyDigests','scores','toString','subscribeForeignStatesAsync','Verbindung\x20erfolgreich!','moduleComfort','pressureBuffer','abortExitTimer','notifyTelegramInstance','clear','getOverviewData','infrasoundThreshold','ðŸ§ \x20Memory:\x20Cache\x20hydrated\x20with\x20','checkAndInstall','refreshCalendar','Unknown','cancel','setState','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','setPresence','infrasoundLocked','pop','number','isGracePeriodActive','genAI','notifyPushoverEnabled','scanThermostats','push','TRAIN_HEALTH','unshift','createDailyDigest','error','TRAIN_TOPOLOGY','5169738XfMuXJ','version','config','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','sensorLastValues','useWeather','object','Guest\x20Mode','(((.+)+)+)+$','analysisHistory','sendTo','values','LTM.triggerDailyDigest','./lib/scanner','sunny','analysis.prediction.trackerConfidence','setupModeResetScheduler','@iobroker/adapter-core','analysis.health.gaitDebug','forEach','TRAIN_SECURITY','1120568yDnPAw','LTM.dailyDigests','getLtmData','updateLocation','checkWifiPresence','Lernphase\x20(','geminiModel','testNotification','449454mBuooj','NextHours.Location_1.Day_1.current.symbol_desc','Kein\x20API\x20Key\x20Ã¼bergeben','Notification\x20Test\x20Failed:\x20','moduleEnergy','Instanz\x20nicht\x20gefunden','application/json','protectAiMemory','generateContent','constructor','state','getTime','apiKey','analysis.automation.targetValue','processSensorEvent','.communicate.request','checkLicense','Active\x20Ventilation\x20Alerts','exitGraceTimer','analysis.automation.autoApply','notifyPushoverInstance','_calName','[Forensics]\x20Save\x20failed:\x20','NORMAL','setObjectNotExistsAsync','from','rawEventLog','./lib/scheduler','Test','string','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','scanDevices','reed','analysis.energy.warmupTimes','response','Graph-Brain\x20Train\x20Error:\x20','ALARM','checkCalendarTriggers','analysis.health.gaitSensors','initZombies','enum.functions.*','calendarName','memoryCache','setupDriftAnalysisScheduler','getGenerativeModel','Forensic\x20Infrasound\x20Log','ErklÃ¤rt\x20durch:\x20','getOutsideTemperatureNumeric','instance','floor','log','sources','SYSTEM_MODES','calendarInstance','runAutopilot','analysis.training.status','analysis.health.activityTrend','entries','analysis.trigger','TRAIN_COMFORT','WiFi\x20Presence\x20detected.','50UuQNIu','lastAlertState','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','Keine\x20Antwort\x20von\x20Gemini','LTM.trainingData.thermodynamics','isArray','filter','onStateChange','[Health]\x20Error\x20parsing\x20digests\x20for\x20check:\x20','yesterday','Sensors\x20used\x20for\x20Gait\x20Analysis','dependencyInstallInProgress','date','onMessage','Keine\x20Sensor-AktivitÃ¤t','updateTopology','Kein\x20Kalender-Adapter','sonn','add','loadSystemMode','minutes_safe','times','analysis.training.triggerHealth','updateTopologyMatrix','isPresent','eventHistory','cogni-living\x20adapter\x20starting\x20(v','minDaysForBaseline','startService','window','door','analysis.security.infrasoundLog','timestamp','Heizung\x20kann\x20','Fenster\x20geÃ¶ffnet:\x20','analysis.activity.roomStats','parse','briefingJob','val','analysis.training.triggerEnergy','7MQjNHg','stringify','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','forecast.current.weather','sendNotification','[Infrasound]\x20ðŸŸ¡\x20Debug-Mode:\x20Alarm\x20detected\x20but\x20suppressed\x20because\x20presence=true.','./lib/recorder','info','send','includes','presenceDevices','json','slice','ltmJob','magnet','analysis.energy.warmupSources','toLowerCase','length','moduleHealth','checkSolarCondition','63nDxiWk','Comfort\x20Train\x20Error:\x20','\x20hPa.\x20Einbruch\x20wahrscheinlich.','./lib/automation','lastTrackerEventTime','fill','keys','matrix','isProVersion','getHours','Init...','setStateAsync','Adapter','exitTimer','thermostat','message','cogni-living','location','abs','SET_TOPOLOGY','LTM.baselineStatus','testApiKey','endsWith','split','\x20opened.\x20Peak\x20Pressure:\x20','./lib/ai_agent','setupBriefingScheduler','createAllObjects','healthTrendInterval','devices','stateChange','[Integrator]\x20Error:\x20','3730980JCRyCd','trackerHeartbeat','value','bootTime','callback','unload','runPythonHealthCheck','Room\x20Dwell\x20Time\x20Stats\x20(Today/Yesterday)','driftAnalysisTimer','TRACK_EVENT','Aktiv\x20(','[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]','dismissAutomation','inactivityThresholdHours','role','geminiApiKey','764790SuMwXc','notifyTelegramEnabled','SYSTEM_DP_MODE','Reinforcement\x20Learning\x20Penalties','15144aJhndI','cleanupGhostInterventions','open','key','getForeignStateAsync','triggerDailyDigest','INTERNAL','Daily\x20Activity\x20Vector\x20(24h)','Party\x20Mode','accuweather.0','temperature','triggerGaitAnalysis','setupLtmScheduler','ANALYZE_GAIT','klar','getForeignObjectsAsync','analysis.training.triggerTopology','appendToLog',')\x20-\x20Phase\x20E\x20(UX\x20&\x20AAL)','analysis.training.triggerComfort','[Infrasound]\x20ðŸš¨\x20ALARM\x20TRIGGERED!\x20Pressure\x20Wave:\x20','CALIB','modeResetJob','party','analysis.energy.pinnForecast','infrasoundEnabled','checkThermostats','analysis.automation.description','systemConfig','analysis.energy.rlPenalties','bind','analysis.triggerBriefing','getEnums','enum','type','daswetter.0','updateHealthVector','PINN\x20AI\x20Forecast','apply','analysis.energy.insulationScore','./lib/installer','analysis.topology.structure','system.presenceWho','Memory\x20Hydration\x20Failed:\x20','infrasoundSensorId','system.adapter.','analysisInterval','ANALYZE_HEALTH','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','search','handleInfrasound','debug','updated','updateSchedulePreview','@google/generative-ai','.system.mode','triggerInfrasoundCorrelation','manual','ðŸ“…\x20Midnight\x20Reset:\x20Archiving\x20Room\x20Stats\x20(Yesterday\x20<-\x20Today).','analysisTimer','runGeminiAnalysis','Gait\x20Speed\x20Calculation\x20Proof','[Calibration]\x20Window\x20','analysis.automation.patternDetected','setHours','subscribeStates','motion','\x20min\x20ausbleiben.','monitorEnforcements','command','telegram','2572526ZQjetE','analysis.prediction.trackerTopRoom','sensor.window','common','sendMorningBriefing','ack','getStateAsync','ready','warn','infrasoundArmingId','exports','initHistory','OPTIMIZE_ENERGY','name','moduleSecurity','sort','isSolar','startSystem','analysis.automation.targetId','analysis.security.learningStatus','today','6iphmOY','namespace','triggerBriefing','currentSystemMode','now','analysis.training.triggerSecurity','analysis.health.todayVector','\x20hPa\x20(Threshold:\x20','triggerEnergyPrediction','text','MATCH\x20(False\x20Positive)','Current.WeatherText','Nuukanni\x20Security','\x20Tage)','onUnload','LTM.rawEventLog','enum.rooms.*','simulateEnergyMPC','roomIntegratorTimer','analysis.energy.activeEnforcements','toFixed','getState'];a0_0x3b03=function(){return _0x4fb236;};return a0_0x3b03();}function a0_0x1d8d(_0x529b78,_0x1a6fc1){const _0x1e64e5=a0_0x3b03();return a0_0x1d8d=function(_0x4ae012,_0x1260bd){_0x4ae012=_0x4ae012-0x1c9;let _0x3b0376=_0x1e64e5[_0x4ae012];return _0x3b0376;},a0_0x1d8d(_0x529b78,_0x1a6fc1);}a0_0x4ae012();'use strict';const utils=require(a0_0xc85e49(0x2c4)),{GoogleGenerativeAI}=require(a0_0xc85e49(0x255)),installer=require(a0_0xc85e49(0x247)),scanner=require(a0_0xc85e49(0x2c0)),schedulers=require(a0_0xc85e49(0x2eb)),topology=require('./lib/topology'),setup=require('./lib/setup'),recorder=require(a0_0xc85e49(0x1dd)),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0xc85e49(0x204)),deadMan=require('./lib/dead_man'),automation=require(a0_0xc85e49(0x1ee)),GEMINI_MODEL='models/gemini-flash-latest';class CogniLiving extends utils[a0_0xc85e49(0x1f7)]{constructor(_0x197bfd){const _0x46f5ed=a0_0xc85e49;super({..._0x197bfd,'name':_0x46f5ed(0x1fb)}),this[_0x46f5ed(0x326)]=[],this[_0x46f5ed(0x2bc)]=[],this['rawEventLog']=[],this[_0x46f5ed(0x292)]=[],this[_0x46f5ed(0x2b7)]={},this[_0x46f5ed(0x23b)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x46f5ed(0x325)]=!![],this[_0x46f5ed(0x1f8)]=null,this[_0x46f5ed(0x2e2)]=null,this[_0x46f5ed(0x2a9)]=![],this[_0x46f5ed(0x2aa)]=null,this[_0x46f5ed(0x2ce)]=null,this[_0x46f5ed(0x27e)]=setup['SYSTEM_MODES'][_0x46f5ed(0x2e7)],this[_0x46f5ed(0x1f3)]=![],this[_0x46f5ed(0x30e)]=![],this[_0x46f5ed(0x25a)]=null,this[_0x46f5ed(0x1e4)]=null,this['modeResetJob']=null,this['driftAnalysisTimer']=null,this[_0x46f5ed(0x1d4)]=null,this['trackerHeartbeat']=null,this[_0x46f5ed(0x207)]=null,this[_0x46f5ed(0x28d)]=null,this[_0x46f5ed(0x318)]=![],this['lastTrackerEventTime']=Date[_0x46f5ed(0x27f)](),this['memoryCache']=null,this[_0x46f5ed(0x20e)]=Date['now'](),this[_0x46f5ed(0x2a6)]=![],this[_0x46f5ed(0x298)]=[],this['on'](_0x46f5ed(0x26d),this['onReady'][_0x46f5ed(0x23d)](this)),this['on'](_0x46f5ed(0x209),this[_0x46f5ed(0x314)]['bind'](this)),this['on'](_0x46f5ed(0x210),this['onUnload'][_0x46f5ed(0x23d)](this)),this['on'](_0x46f5ed(0x1fa),this[_0x46f5ed(0x31a)][_0x46f5ed(0x23d)](this));}async['onReady'](){const _0x5019fb=a0_0xc85e49;this[_0x5019fb(0x302)][_0x5019fb(0x1de)](_0x5019fb(0x1c9)+this[_0x5019fb(0x2b4)]+_0x5019fb(0x231));if(!installer[_0x5019fb(0x29f)](this,()=>this[_0x5019fb(0x277)]()))return;}async[a0_0xc85e49(0x277)](){const _0x3e3d9a=a0_0xc85e49;await setup[_0x3e3d9a(0x2f7)](this);try{this['isProVersion']=await setup[_0x3e3d9a(0x2e0)](this[_0x3e3d9a(0x2b5)]['licenseKey']);}catch(_0x28b3ca){}if(!this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x218)]||this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x218)]<0.1)this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x218)]=0xc;if(this[_0x3e3d9a(0x2b5)]['moduleHealth']===undefined)this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x1e9)]=!![];if(this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x274)]===undefined)this['config'][_0x3e3d9a(0x274)]=!![];if(this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x2d4)]===undefined)this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x2d4)]=!![];if(this['config'][_0x3e3d9a(0x297)]===undefined)this['config'][_0x3e3d9a(0x297)]=!![];await setup[_0x3e3d9a(0x271)](this),await setup['initSystemConfig'](this);try{const _0x510be4=await this[_0x3e3d9a(0x26c)]('analysis.energy.warmupTimes'),_0x4087fb=await this['getStateAsync'](_0x3e3d9a(0x1e6));_0x510be4&&_0x510be4[_0x3e3d9a(0x1d5)]&&_0x4087fb&&_0x4087fb[_0x3e3d9a(0x1d5)]&&(Date[_0x3e3d9a(0x27f)]()-_0x510be4['ts']<0x4*0xe10*0x3e8&&(this[_0x3e3d9a(0x2fa)]={'times':JSON[_0x3e3d9a(0x1d3)](_0x510be4['val']),'sources':JSON['parse'](_0x4087fb['val'])},this[_0x3e3d9a(0x302)][_0x3e3d9a(0x1de)](_0x3e3d9a(0x29e)+Object[_0x3e3d9a(0x1f1)](this[_0x3e3d9a(0x2fa)][_0x3e3d9a(0x322)])[_0x3e3d9a(0x1e8)]+'\x20rooms.')));}catch(_0x3e4d60){this['log']['warn'](_0x3e3d9a(0x24a)+_0x3e4d60[_0x3e3d9a(0x1fa)]);}if(this['config'][_0x3e3d9a(0x21a)])try{this[_0x3e3d9a(0x2aa)]=new GoogleGenerativeAI(this[_0x3e3d9a(0x2b5)]['geminiApiKey']),this[_0x3e3d9a(0x2ce)]=this[_0x3e3d9a(0x2aa)][_0x3e3d9a(0x2fc)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x3e3d9a(0x2d6)}});}catch(_0x43bea5){this[_0x3e3d9a(0x302)][_0x3e3d9a(0x2b1)]('Gemini\x20Init\x20Error:\x20'+_0x43bea5[_0x3e3d9a(0x1fa)]);}await setup[_0x3e3d9a(0x206)](this),await this[_0x3e3d9a(0x320)](),await this[_0x3e3d9a(0x2e8)](_0x3e3d9a(0x1d2),{'type':_0x3e3d9a(0x2da),'common':{'name':_0x3e3d9a(0x212),'type':_0x3e3d9a(0x2ed),'role':_0x3e3d9a(0x1e2),'read':!![],'write':![],'def':_0x3e3d9a(0x2b6)},'native':{}}),await this[_0x3e3d9a(0x2e8)](_0x3e3d9a(0x237),{'type':_0x3e3d9a(0x2da),'common':{'name':_0x3e3d9a(0x244),'type':_0x3e3d9a(0x2ed),'role':_0x3e3d9a(0x1e2),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.ventilationAlerts',{'type':_0x3e3d9a(0x2da),'common':{'name':_0x3e3d9a(0x2e1),'type':_0x3e3d9a(0x2ed),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x3e3d9a(0x2e8)](_0x3e3d9a(0x2f1),{'type':'state','common':{'name':_0x3e3d9a(0x1d9),'type':_0x3e3d9a(0x2ed),'role':_0x3e3d9a(0x1e2),'read':!![],'write':![]},'native':{}}),await this[_0x3e3d9a(0x2e8)](_0x3e3d9a(0x291),{'type':'state','common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':_0x3e3d9a(0x2ed),'role':'json','read':!![],'write':!![],'def':'{\x22default\x22:\x2021}'},'native':{}}),await this['setObjectNotExistsAsync'](_0x3e3d9a(0x23c),{'type':_0x3e3d9a(0x2da),'common':{'name':_0x3e3d9a(0x21e),'type':_0x3e3d9a(0x2ed),'role':_0x3e3d9a(0x1e2),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x3e3d9a(0x2e8)](_0x3e3d9a(0x308),{'type':_0x3e3d9a(0x2da),'common':{'name':'General\x20Activity\x20Trend\x20(%)','type':'number','role':_0x3e3d9a(0x20d),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x3e3d9a(0x2e8)](_0x3e3d9a(0x2f6),{'type':_0x3e3d9a(0x2da),'common':{'name':_0x3e3d9a(0x317),'type':_0x3e3d9a(0x2ed),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x3e3d9a(0x2e8)](_0x3e3d9a(0x28e),{'type':'state','common':{'name':'Active\x20Calendar\x20Enforcements\x20(Locks)','type':_0x3e3d9a(0x2ed),'role':_0x3e3d9a(0x1e2),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x3e3d9a(0x2e8)](_0x3e3d9a(0x1ce),{'type':_0x3e3d9a(0x2da),'common':{'name':_0x3e3d9a(0x2fd),'type':_0x3e3d9a(0x2ed),'role':_0x3e3d9a(0x1e2),'read':!![],'write':![],'def':'[]'},'native':{}}),await this['setObjectNotExistsAsync'](_0x3e3d9a(0x2c5),{'type':_0x3e3d9a(0x2da),'common':{'name':_0x3e3d9a(0x25c),'type':_0x3e3d9a(0x2ed),'role':'text','read':!![],'write':![]},'native':{}}),await this[_0x3e3d9a(0x2e8)](_0x3e3d9a(0x281),{'type':'state','common':{'name':_0x3e3d9a(0x226),'type':_0x3e3d9a(0x2ed),'role':_0x3e3d9a(0x1e2),'read':!![],'write':![],'def':_0x3e3d9a(0x216)},'native':{}});try{const _0xd03e7f=await this[_0x3e3d9a(0x26c)](_0x3e3d9a(0x28a));if(_0xd03e7f&&_0xd03e7f['val'])this['rawEventLog']=JSON[_0x3e3d9a(0x1d3)](_0xd03e7f['val']);}catch(_0x4f5e99){this[_0x3e3d9a(0x2ea)]=[];}try{const _0x5912b2=await this[_0x3e3d9a(0x26c)]('LTM.dailyDigests');if(_0x5912b2&&_0x5912b2[_0x3e3d9a(0x1d5)])this[_0x3e3d9a(0x292)]=JSON[_0x3e3d9a(0x1d3)](_0x5912b2[_0x3e3d9a(0x1d5)]);}catch(_0x5d18c1){this[_0x3e3d9a(0x292)]=[];}const _0xa07822=this['dailyDigests'][_0x3e3d9a(0x1e8)]>=(this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x1ca)]||0x7)?_0x3e3d9a(0x215)+this[_0x3e3d9a(0x292)][_0x3e3d9a(0x1e8)]+_0x3e3d9a(0x288):_0x3e3d9a(0x2cd)+this[_0x3e3d9a(0x292)][_0x3e3d9a(0x1e8)]+'/'+(this['config'][_0x3e3d9a(0x1ca)]||0x7)+')';await this[_0x3e3d9a(0x1f6)](_0x3e3d9a(0x1ff),{'val':_0xa07822,'ack':!![]}),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x30a)),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x2bf)),this[_0x3e3d9a(0x260)]('system.mode'),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x23e)),this[_0x3e3d9a(0x260)]('analysis.automation.triggerAction'),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x2e3)),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x280)),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x323)),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x1d6)),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x232)),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x22f)),this[_0x3e3d9a(0x260)]('analysis.energy.mpcActive'),this['subscribeStates']('analysis.energy.warmupSources'),this[_0x3e3d9a(0x260)](_0x3e3d9a(0x2f1));this[_0x3e3d9a(0x2b5)]['infrasoundEnabled']&&this['config'][_0x3e3d9a(0x24b)]&&this['subscribeForeignStates'](this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x24b)]);const _0x152328=this[_0x3e3d9a(0x2b5)]['devices'];if(_0x152328)for(const _0xb4b0bf of _0x152328){await this[_0x3e3d9a(0x295)](_0xb4b0bf['id']);}const _0x401a2d=this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x1e1)];if(_0x401a2d)for(const _0xc9679f of _0x401a2d){await this[_0x3e3d9a(0x295)](_0xc9679f);}if(this['config'][_0x3e3d9a(0x21c)]&&this[_0x3e3d9a(0x2b5)]['notifyTelegramInstance'])await this['subscribeForeignStatesAsync'](this[_0x3e3d9a(0x2b5)]['notifyTelegramInstance']+_0x3e3d9a(0x2df));setTimeout(()=>this[_0x3e3d9a(0x2cc)](),0x1388);if(this[_0x3e3d9a(0x25a)])clearInterval(this['analysisTimer']);const _0x3963d7=this[_0x3e3d9a(0x2b5)][_0x3e3d9a(0x24d)]||0xf;_0x3963d7>0x0&&(this[_0x3e3d9a(0x25a)]=setInterval(()=>{const _0x54d047=_0x3e3d9a;this[_0x54d047(0x306)](),this[_0x54d047(0x2b5)][_0x54d047(0x2d4)]!==![]&&automation[_0x54d047(0x263)](this);},_0x3963d7*0x3c*0x3e8));setTimeout(()=>{const _0xdb282f=_0x3e3d9a;this[_0xdb282f(0x2b5)][_0xdb282f(0x2d4)]!==![]&&(automation[_0xdb282f(0x2f5)](this),automation[_0xdb282f(0x263)](this));},0x2710);this[_0x3e3d9a(0x2b5)]['trackerEnabled']!==![]&&(this[_0x3e3d9a(0x20c)]=setInterval(()=>{const _0x8879aa=_0x3e3d9a;if(this[_0x8879aa(0x1f3)]){const _0xdf0120=Date[_0x8879aa(0x27f)](),_0x217c6f=this[_0x8879aa(0x1ef)]||_0xdf0120,_0x261c14=(_0xdf0120-_0x217c6f)/0x3e8;_0x261c14>0x2&&(this[_0x8879aa(0x1ef)]=_0xdf0120,pythonBridge['send'](this,_0x8879aa(0x214),{'room':null,'dt':_0x261c14}));}},0xbb8));if(this[_0x3e3d9a(0x28d)])clearInterval(this[_0x3e3d9a(0x28d)]);this['integrateRoomTime'](),this[_0x3e3d9a(0x28d)]=setInterval(async()=>{await this['integrateRoomTime']();},0x3c*0x3e8);if(this[_0x3e3d9a(0x207)])clearInterval(this[_0x3e3d9a(0x207)]);this['healthTrendInterval']=setInterval(()=>{const _0x4ab046=_0x3e3d9a;this['isProVersion']&&this[_0x4ab046(0x2b5)][_0x4ab046(0x1e9)]!==![]&&this['runPythonHealthCheck']();},0x4*0x3c*0x3c*0x3e8),schedulers[_0x3e3d9a(0x22b)](this,()=>aiAgent[_0x3e3d9a(0x2b0)](this,pythonBridge)),schedulers[_0x3e3d9a(0x2c3)](this),schedulers[_0x3e3d9a(0x2fb)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x3e3d9a(0x205)](this,()=>aiAgent[_0x3e3d9a(0x26a)](this)),pythonBridge[_0x3e3d9a(0x1cb)](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x1ee132=_0x3e3d9a;await topology['updateTopology'](this);try{const _0x2c587a=await this[_0x1ee132(0x26c)](_0x1ee132(0x248));if(_0x2c587a&&_0x2c587a['val'])pythonBridge[_0x1ee132(0x1df)](this,_0x1ee132(0x1fe),JSON[_0x1ee132(0x1d3)](_0x2c587a['val']));}catch(_0x245830){}this['config']['moduleHealth']!==![]&&(this[_0x1ee132(0x211)](),this[_0x1ee132(0x22a)]()),this['triggerEnergyPrediction'](),this[_0x1ee132(0x243)]();},0x1388);}[a0_0xc85e49(0x289)](_0x106417){const _0x13dd40=a0_0xc85e49;if(this[_0x13dd40(0x25a)])clearInterval(this[_0x13dd40(0x25a)]);if(this[_0x13dd40(0x213)])clearInterval(this[_0x13dd40(0x213)]);if(this[_0x13dd40(0x20c)])clearInterval(this[_0x13dd40(0x20c)]);if(this[_0x13dd40(0x207)])clearInterval(this[_0x13dd40(0x207)]);if(this[_0x13dd40(0x28d)])clearInterval(this[_0x13dd40(0x28d)]);if(this[_0x13dd40(0x1e4)])this[_0x13dd40(0x1e4)]['cancel']();if(this[_0x13dd40(0x235)])this[_0x13dd40(0x235)][_0x13dd40(0x2a2)]();if(this[_0x13dd40(0x1d4)])this[_0x13dd40(0x1d4)][_0x13dd40(0x2a2)]();recorder[_0x13dd40(0x299)](this),pythonBridge['stopService'](this),_0x106417();}async['integrateRoomTime'](){const _0x389e1a=a0_0xc85e49;if(!this['isPresent'])return;try{let _0x2b61ca=null;try{const _0x59326f=await this[_0x389e1a(0x26c)](_0x389e1a(0x267)),_0x1b7392=await this['getStateAsync'](_0x389e1a(0x2c2));_0x59326f&&_0x59326f[_0x389e1a(0x1d5)]&&_0x1b7392&&_0x1b7392[_0x389e1a(0x1d5)]&&_0x1b7392['val']>0.3&&(_0x2b61ca=_0x59326f[_0x389e1a(0x1d5)]);}catch(_0x329cd5){}if(!_0x2b61ca||_0x2b61ca===_0x389e1a(0x2a1)||_0x2b61ca===_0x389e1a(0x1f5))return;const _0x4242d2='analysis.activity.roomStats',_0x261f69=await this[_0x389e1a(0x26c)](_0x4242d2);let _0x46a4d2={'today':{},'yesterday':{},'date':new Date()['toLocaleDateString']()};if(_0x261f69&&_0x261f69['val'])try{_0x46a4d2=JSON[_0x389e1a(0x1d3)](_0x261f69['val']);}catch(_0x90d4ce){}if(!_0x46a4d2['today'])_0x46a4d2[_0x389e1a(0x27a)]={};if(!_0x46a4d2[_0x389e1a(0x316)])_0x46a4d2[_0x389e1a(0x316)]={};const _0x43bdab=new Date()['toLocaleDateString']();_0x46a4d2[_0x389e1a(0x319)]!==_0x43bdab&&(this['log'][_0x389e1a(0x1de)](_0x389e1a(0x259)),_0x46a4d2[_0x389e1a(0x316)]=_0x46a4d2[_0x389e1a(0x27a)]||{},_0x46a4d2[_0x389e1a(0x27a)]={},_0x46a4d2[_0x389e1a(0x319)]=_0x43bdab);if(!_0x46a4d2[_0x389e1a(0x27a)][_0x2b61ca])_0x46a4d2[_0x389e1a(0x27a)][_0x2b61ca]=0x0;_0x46a4d2[_0x389e1a(0x27a)][_0x2b61ca]++,await this[_0x389e1a(0x1f6)](_0x4242d2,{'val':JSON[_0x389e1a(0x1d8)](_0x46a4d2),'ack':!![]});}catch(_0xe809de){this[_0x389e1a(0x302)][_0x389e1a(0x26e)](_0x389e1a(0x20a)+_0xe809de['message']);}}[a0_0xc85e49(0x211)](){const _0x55d061=a0_0xc85e49;if(!this['isProVersion'])return;this[_0x55d061(0x290)](_0x55d061(0x2c9),(_0x3c0c87,_0x762bf1)=>{const _0x45873c=_0x55d061;if(_0x762bf1&&_0x762bf1[_0x45873c(0x1d5)])try{const _0x4baf2f=JSON['parse'](_0x762bf1[_0x45873c(0x1d5)]);_0x4baf2f[_0x45873c(0x1e8)]>0x0&&pythonBridge[_0x45873c(0x1df)](this,_0x45873c(0x24e),{'digest':_0x4baf2f[0x0]});}catch(_0x1761e7){this[_0x45873c(0x302)][_0x45873c(0x26e)](_0x45873c(0x315)+_0x1761e7[_0x45873c(0x1fa)]);}});}async[a0_0xc85e49(0x314)](_0x5e5033,_0x2a5217){const _0x4b8452=a0_0xc85e49;if(!_0x2a5217||this[_0x4b8452(0x318)])return;if(_0x5e5033[_0x4b8452(0x1e0)](_0x4b8452(0x265))&&_0x5e5033['endsWith']('communicate.request')&&_0x2a5217[_0x4b8452(0x1d5)])return;if(this[_0x4b8452(0x2b5)][_0x4b8452(0x238)]&&_0x5e5033===this['config'][_0x4b8452(0x24b)]){this['handleInfrasound'](_0x2a5217[_0x4b8452(0x1d5)]);return;}if(_0x5e5033===this[_0x4b8452(0x27c)]+_0x4b8452(0x256)){if(_0x2a5217[_0x4b8452(0x1d5)]&&Object[_0x4b8452(0x2be)](setup[_0x4b8452(0x304)])['includes'](_0x2a5217[_0x4b8452(0x1d5)])){this[_0x4b8452(0x27e)]=_0x2a5217[_0x4b8452(0x1d5)];if(_0x2a5217[_0x4b8452(0x1d5)]===setup[_0x4b8452(0x304)]['VACATION'])await recorder[_0x4b8452(0x2a5)](this,![]);else await recorder[_0x4b8452(0x2a5)](this,!![]);if(this[_0x4b8452(0x1f3)]){let _0x15c82=![],_0x2ba0c3=0x0,_0x3a10f4=_0x4b8452(0x258);if(this[_0x4b8452(0x27e)]===_0x4b8452(0x236))_0x15c82=!![],_0x2ba0c3=0x168,_0x3a10f4=_0x4b8452(0x227);else this[_0x4b8452(0x27e)]==='guest'&&(_0x15c82=!![],_0x2ba0c3=0x5a0,_0x3a10f4=_0x4b8452(0x2ba));pythonBridge['send'](this,'SET_LEARNING_MODE',{'active':_0x15c82,'duration':_0x2ba0c3,'label':_0x3a10f4}),await this[_0x4b8452(0x1f6)](_0x4b8452(0x279),{'val':JSON[_0x4b8452(0x1d8)]({'active':_0x15c82,'label':_0x3a10f4,'timestamp':Date[_0x4b8452(0x27f)]()}),'ack':!![]});}}if(!_0x2a5217[_0x4b8452(0x26b)])this[_0x4b8452(0x2a3)](_0x5e5033,{'val':this[_0x4b8452(0x27e)],'ack':!![]});return;}_0x5e5033[_0x4b8452(0x201)](_0x4b8452(0x1e6))&&_0x2a5217[_0x4b8452(0x26b)]&&this[_0x4b8452(0x2d7)](_0x2a5217[_0x4b8452(0x1d5)]);_0x5e5033['endsWith'](_0x4b8452(0x2f1))&&_0x2a5217['ack']&&(this[_0x4b8452(0x2b5)][_0x4b8452(0x2d4)]!==![]&&automation[_0x4b8452(0x2f5)](this));if(!_0x2a5217[_0x4b8452(0x26b)]){if(_0x5e5033[_0x4b8452(0x1e0)](_0x4b8452(0x30a))&&_0x2a5217[_0x4b8452(0x1d5)]){this[_0x4b8452(0x2a3)](_0x5e5033,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this);return;}if(_0x5e5033['includes'](_0x4b8452(0x224))&&_0x2a5217[_0x4b8452(0x1d5)]){this['setState'](_0x5e5033,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x4b8452(0x2b0)](this,pythonBridge);return;}if(_0x5e5033[_0x4b8452(0x1e0)](_0x4b8452(0x27d))&&_0x2a5217['val']){this[_0x4b8452(0x2a3)](_0x5e5033,{'val':![],'ack':!![]}),aiAgent[_0x4b8452(0x26a)](this);return;}if(_0x5e5033['includes']('automation.triggerAction')&&_0x2a5217[_0x4b8452(0x1d5)]){this[_0x4b8452(0x2a3)](_0x5e5033,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this);return;}if(_0x5e5033[_0x4b8452(0x1e0)](_0x4b8452(0x280))&&_0x2a5217['val']){this[_0x4b8452(0x2a3)](_0x5e5033,{'val':![],'ack':!![]});if(this[_0x4b8452(0x2b5)][_0x4b8452(0x274)]===![])return;if(this[_0x4b8452(0x1f3)])try{const _0x10d230=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x10d230&&_0x10d230[_0x4b8452(0x1d5)]){const _0x2b4964=JSON['parse'](_0x10d230[_0x4b8452(0x1d5)]);this[_0x4b8452(0x1f6)](_0x4b8452(0x307),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge['send'](this,_0x4b8452(0x2c7),{'sequences':_0x2b4964});}}catch(_0x27654d){}return;}if(_0x5e5033[_0x4b8452(0x1e0)](_0x4b8452(0x323))&&_0x2a5217[_0x4b8452(0x1d5)]){this['setState'](_0x5e5033,{'val':![],'ack':!![]});if(this['config']['moduleHealth']===![])return;if(this['isProVersion'])try{const _0x272cc0=await this[_0x4b8452(0x26c)](_0x4b8452(0x2c9));if(_0x272cc0&&_0x272cc0[_0x4b8452(0x1d5)])pythonBridge[_0x4b8452(0x1df)](this,_0x4b8452(0x2ae),{'digests':JSON[_0x4b8452(0x1d3)](_0x272cc0[_0x4b8452(0x1d5)])});}catch(_0x2d451a){}return;}if(_0x5e5033[_0x4b8452(0x1e0)](_0x4b8452(0x1d6))&&_0x2a5217[_0x4b8452(0x1d5)]){this[_0x4b8452(0x2a3)](_0x5e5033,{'val':![],'ack':!![]});if(this[_0x4b8452(0x2b5)]['moduleEnergy']===![])return;if(this[_0x4b8452(0x1f3)])try{const _0x5d9b83=await this[_0x4b8452(0x26c)](_0x4b8452(0x311));if(_0x5d9b83&&_0x5d9b83[_0x4b8452(0x1d5)])pythonBridge[_0x4b8452(0x1df)](this,'TRAIN_ENERGY',{'points':JSON[_0x4b8452(0x1d3)](_0x5d9b83[_0x4b8452(0x1d5)])});}catch(_0x2aa912){}return;}if(_0x5e5033['includes'](_0x4b8452(0x232))&&_0x2a5217[_0x4b8452(0x1d5)]){this[_0x4b8452(0x2a3)](_0x5e5033,{'val':![],'ack':!![]});if(this['config'][_0x4b8452(0x297)]===![])return;if(this['isProVersion'])try{const _0x4844df=await this[_0x4b8452(0x26c)]('LTM.rawEventLog');if(_0x4844df&&_0x4844df[_0x4b8452(0x1d5)]){const _0x218d31={};this['config']['devices']&&Array[_0x4b8452(0x312)](this['config'][_0x4b8452(0x208)])&&this[_0x4b8452(0x2b5)][_0x4b8452(0x208)][_0x4b8452(0x2c6)](_0x4e5adc=>{if(_0x4e5adc['id']&&_0x4e5adc['type'])_0x218d31[_0x4e5adc['id']]=_0x4e5adc['type'];}),pythonBridge[_0x4b8452(0x1df)](this,_0x4b8452(0x30b),{'events':JSON['parse'](_0x4844df[_0x4b8452(0x1d5)]),'deviceMap':_0x218d31});}}catch(_0x28318c){this[_0x4b8452(0x302)][_0x4b8452(0x2b1)](_0x4b8452(0x1ec)+_0x28318c['message']);}return;}if(_0x5e5033['includes'](_0x4b8452(0x22f))&&_0x2a5217[_0x4b8452(0x1d5)]){this[_0x4b8452(0x2a3)](_0x5e5033,{'val':![],'ack':!![]}),topology[_0x4b8452(0x31c)](this);if(this[_0x4b8452(0x1f3)])try{const _0x279678=await this[_0x4b8452(0x26c)]('LTM.trainingData.sequences');if(_0x279678&&_0x279678['val']){const _0x155d06=JSON[_0x4b8452(0x1d3)](_0x279678[_0x4b8452(0x1d5)]);pythonBridge[_0x4b8452(0x1df)](this,_0x4b8452(0x2b2),{'sequences':_0x155d06});}}catch(_0x263a2d){this[_0x4b8452(0x302)][_0x4b8452(0x2b1)](_0x4b8452(0x2f3)+_0x263a2d[_0x4b8452(0x1fa)]);}return;}}const _0x4f22b1=(this[_0x4b8452(0x2b5)]['devices']||[])['find'](_0x5e7d8a=>_0x5e7d8a['id']===_0x5e5033);if(_0x4f22b1){const _0x39807b=await recorder[_0x4b8452(0x2de)](this,_0x5e5033,_0x2a5217,_0x4f22b1);_0x39807b&&_0x39807b[_0x4b8452(0x241)]===_0x4b8452(0x261)&&_0x39807b[_0x4b8452(0x1fc)]&&this[_0x4b8452(0x1f3)]&&(this[_0x4b8452(0x2b5)]['moduleSecurity']!==![]&&deadMan[_0x4b8452(0x2cb)](this,_0x39807b[_0x4b8452(0x1fc)])),_0x2a5217[_0x4b8452(0x1d5)]&&(_0x2a5217['val']===!![]||_0x2a5217['val']===0x1||String(_0x2a5217[_0x4b8452(0x1d5)])[_0x4b8452(0x1e7)]()===_0x4b8452(0x221))&&(_0x4f22b1[_0x4b8452(0x241)]&&(_0x4f22b1[_0x4b8452(0x241)][_0x4b8452(0x1e0)]('window')||_0x4f22b1[_0x4b8452(0x241)][_0x4b8452(0x1e0)](_0x4b8452(0x1cd))||_0x4f22b1['type']['includes']('magnet'))&&this['analyzeWindowOpening'](_0x4f22b1)),(_0x4f22b1['type']===_0x4b8452(0x229)||_0x4f22b1[_0x4b8452(0x241)]===_0x4b8452(0x1f9))&&(this['config']['moduleEnergy']!==![]&&automation[_0x4b8452(0x220)](this));}}async[a0_0xc85e49(0x2d7)](_0x31e15f){const _0x1c7433=a0_0xc85e49;if(!this[_0x1c7433(0x2fa)]||Date['now']()-this['bootTime']>0x493e0)return;if(!this[_0x1c7433(0x2fa)]['sources']||!this['memoryCache'][_0x1c7433(0x322)])return;try{const _0x2133d6=JSON['parse'](_0x31e15f),_0x57462d=this[_0x1c7433(0x2fa)][_0x1c7433(0x303)];let _0x268bf3=![];for(const _0x2eef99 in _0x57462d){if(_0x57462d[_0x2eef99][_0x1c7433(0x1e0)]('AI')&&_0x2133d6[_0x2eef99]&&!_0x2133d6[_0x2eef99][_0x1c7433(0x1e0)]('AI')){_0x268bf3=!![];break;}}_0x268bf3&&(await this['setStateAsync'](_0x1c7433(0x2f1),{'val':JSON[_0x1c7433(0x1d8)](this['memoryCache']['times']),'ack':!![]}),await this[_0x1c7433(0x1f6)](_0x1c7433(0x1e6),{'val':JSON[_0x1c7433(0x1d8)](this['memoryCache'][_0x1c7433(0x303)]),'ack':!![]}));}catch(_0x37314e){}}async[a0_0xc85e49(0x31a)](_0xdf4cfa){const _0x185202=a0_0xc85e49;if(typeof _0xdf4cfa===_0x185202(0x2b9)&&_0xdf4cfa[_0x185202(0x1fa)]){if(_0xdf4cfa[_0x185202(0x264)]===_0x185202(0x239))try{const _0x2b3040=await automation[_0x185202(0x2ac)](this);this['sendTo'](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![],'results':_0x2b3040},_0xdf4cfa['callback']);}catch(_0x3c204d){this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa['command'],{'success':![],'error':_0x3c204d['message']},_0xdf4cfa[_0x185202(0x20f)]);}else{if(_0xdf4cfa[_0x185202(0x264)]===_0x185202(0x29c)){const _0x35bc52=this['dailyDigests']['length'];let _0x4719a0=new Array(0x18)[_0x185202(0x1f0)](0x0);try{const _0x278e0d=await this['getStateAsync'](_0x185202(0x281));if(_0x278e0d&&_0x278e0d[_0x185202(0x1d5)])_0x4719a0=JSON[_0x185202(0x1d3)](_0x278e0d[_0x185202(0x1d5)]);else{const _0x1f7917=new Date()[_0x185202(0x25f)](0x0,0x0,0x0,0x0);this['eventHistory']&&this[_0x185202(0x326)]['forEach'](_0x123c38=>{const _0x15ba95=_0x185202;if(_0x123c38[_0x15ba95(0x1cf)]>=_0x1f7917){const _0x14de2d=new Date(_0x123c38['timestamp'])[_0x15ba95(0x1f4)]();if(_0x14de2d>=0x0&&_0x14de2d<0x18)_0x4719a0[_0x14de2d]++;}});}}catch(_0x39bb48){this[_0x185202(0x302)]['warn']('Could\x20not\x20read\x20daily\x20vector:\x20'+_0x39bb48[_0x185202(0x1fa)]);}let _0x5b7338={'today':{},'yesterday':{}};try{const _0x5562ea=await this[_0x185202(0x26c)]('analysis.activity.roomStats');if(_0x5562ea&&_0x5562ea[_0x185202(0x1d5)])_0x5b7338=JSON[_0x185202(0x1d3)](_0x5562ea[_0x185202(0x1d5)]);}catch(_0x3112da){}let _0x805764=![],_0x1e1ab4='',_0x8641d8='',_0x5c6762='';try{const _0x36f587=await this['getStateAsync']('analysis.automation.patternDetected');if(_0x36f587&&_0x36f587[_0x185202(0x1d5)]){_0x805764=!![];const _0x4f2f4d=await this[_0x185202(0x26c)](_0x185202(0x23a));_0x1e1ab4=_0x4f2f4d?_0x4f2f4d[_0x185202(0x1d5)]:'';const _0x5840f3=await this[_0x185202(0x26c)](_0x185202(0x278));_0x8641d8=_0x5840f3?_0x5840f3[_0x185202(0x1d5)]:'';const _0x161ef0=await this[_0x185202(0x26c)](_0x185202(0x2dd));_0x5c6762=_0x161ef0?_0x161ef0['val']:'';}}catch(_0x507570){}const _0x326729=await this[_0x185202(0x1ea)](),_0x3c19b5=(this['config'][_0x185202(0x208)]||[])['some'](_0x4460ea=>_0x4460ea[_0x185202(0x276)]),_0x1a9a7f=_0x326729&&_0x3c19b5;let _0x1c3cdb='';try{const _0x1a605f=await this[_0x185202(0x26c)](_0x185202(0x249));if(_0x1a605f&&_0x1a605f[_0x185202(0x1d5)])_0x1c3cdb=_0x1a605f[_0x185202(0x1d5)];}catch(_0x4528b4){}this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![],'eventHistory':this[_0x185202(0x326)][_0x185202(0x1e3)](0x0,0x64),'stats':{'digestCount':_0x35bc52,'isPresent':this[_0x185202(0x325)],'hourlyActivity':_0x4719a0,'solarActive':_0x1a9a7f,'presenceWho':_0x1c3cdb,'roomStats':_0x5b7338},'automation':{'detected':_0x805764,'description':_0x1e1ab4,'targetId':_0x8641d8,'targetValue':_0x5c6762}},_0xdf4cfa[_0x185202(0x20f)]);}else{if(_0xdf4cfa[_0x185202(0x264)]===_0x185202(0x28c))try{const {current_temps:_0x3219de,t_out:_0x5220e1,targets:_0x41cfaa,t_forecast:_0x40123c}=_0xdf4cfa['message'],_0x6ece85=[];let _0x2dcf1c={};try{const _0x1d1a39=await this[_0x185202(0x26c)](_0x185202(0x246));if(_0x1d1a39&&_0x1d1a39['val']){const _0x494f1e=JSON[_0x185202(0x1d3)](_0x1d1a39['val']);_0x2dcf1c=_0x494f1e[_0x185202(0x293)]||_0x494f1e;}}catch(_0x4bf3f7){}const _0x3f35af=_0x40123c!==undefined&&_0x40123c!==null?(_0x5220e1+_0x40123c)/0x2:_0x5220e1;for(const [_0x51ca68,_0x180657]of Object[_0x185202(0x309)](_0x3219de)){const _0x252ba1=_0x41cfaa[_0x51ca68]||0x15;if(_0x180657<=_0x252ba1)continue;let _0x1d5f70=_0x2dcf1c[_0x51ca68]||-0.5;if(_0x1d5f70>=0x0)_0x1d5f70=-0.5;const _0x1bf1f1=Math[_0x185202(0x1fd)](_0x1d5f70),_0x3aa431=_0x180657-_0x252ba1;let _0x23bd77=Math[_0x185202(0x301)](_0x3aa431/_0x1bf1f1*0x3c);const _0x427deb=_0x180657-_0x5220e1,_0x4e2e8e=_0x180657-_0x3f35af;if(_0x4e2e8e!==0x0&&_0x427deb!==0x0){const _0x3eabf1=_0x427deb/_0x4e2e8e;_0x23bd77=Math['floor'](_0x23bd77*_0x3eabf1);}if(_0x23bd77>0xf){if(_0x23bd77>0xf0)_0x23bd77=0xf0;_0x6ece85['push']({'room':_0x51ca68,'minutes_safe':_0x23bd77,'target':_0x252ba1,'current':_0x180657,'savings_msg':_0x185202(0x1d0)+_0x23bd77+_0x185202(0x262)});}}_0x6ece85[_0x185202(0x275)]((_0x3c5107,_0x2c5912)=>_0x2c5912[_0x185202(0x321)]-_0x3c5107[_0x185202(0x321)]),this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![],'proposals':_0x6ece85},_0xdf4cfa[_0x185202(0x20f)]);}catch(_0x2cdf59){this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa['command'],{'success':![],'error':_0x2cdf59['message']},_0xdf4cfa[_0x185202(0x20f)]);}else{if(_0xdf4cfa['command']===_0x185202(0x2a0))try{await automation[_0x185202(0x254)](this),this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![]},_0xdf4cfa[_0x185202(0x20f)]);}catch(_0x1b55d8){this[_0x185202(0x2bd)](_0xdf4cfa['from'],_0xdf4cfa[_0x185202(0x264)],{'success':![],'error':_0x1b55d8[_0x185202(0x1fa)]},_0xdf4cfa[_0x185202(0x20f)]);}else{if(_0xdf4cfa[_0x185202(0x264)]==='resetRLPenalty')try{const _0x56ccf4=_0xdf4cfa['message'][_0x185202(0x222)],_0x1c315f=_0x185202(0x23c),_0x54eaa1=await this[_0x185202(0x26c)](_0x1c315f);let _0x198615={};if(_0x54eaa1&&_0x54eaa1[_0x185202(0x1d5)])try{_0x198615=JSON[_0x185202(0x1d3)](_0x54eaa1[_0x185202(0x1d5)]);}catch(_0x853cc5){}_0x56ccf4&&_0x198615[_0x56ccf4]?(delete _0x198615[_0x56ccf4],await this['setStateAsync'](_0x1c315f,{'val':JSON['stringify'](_0x198615),'ack':!![]}),this[_0x185202(0x302)][_0x185202(0x1de)](_0x185202(0x2a4)+_0x56ccf4+_0x185202(0x30f)),this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa['command'],{'success':!![]},_0xdf4cfa[_0x185202(0x20f)])):this['sendTo'](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0xdf4cfa['callback']);}catch(_0x15e7df){this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':![],'error':_0x15e7df['message']},_0xdf4cfa[_0x185202(0x20f)]);}else{if(_0xdf4cfa[_0x185202(0x264)]===_0x185202(0x217))await this[_0x185202(0x1f6)](_0x185202(0x25e),{'val':![],'ack':!![]}),await this[_0x185202(0x1f6)](_0x185202(0x23a),{'val':'','ack':!![]}),await this[_0x185202(0x1f6)](_0x185202(0x278),{'val':'','ack':!![]}),this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![]},_0xdf4cfa['callback']);else{if(_0xdf4cfa['command']==='simulateButler'){const {targetId:_0x2f7004,targetValue:_0x3efa75}=_0xdf4cfa[_0x185202(0x1fa)];await this[_0x185202(0x1f6)]('analysis.automation.patternDetected',{'val':!![],'ack':!![]}),await this[_0x185202(0x1f6)](_0x185202(0x23a),{'val':'Simulation\x20durch\x20Admin\x20(Test)','ack':!![]}),await this[_0x185202(0x1f6)]('analysis.automation.targetId',{'val':_0x2f7004,'ack':!![]}),await this[_0x185202(0x1f6)](_0x185202(0x2dd),{'val':String(_0x3efa75),'ack':!![]}),this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![]},_0xdf4cfa[_0x185202(0x20f)]);}else{if(_0xdf4cfa[_0x185202(0x264)]===_0x185202(0x200))try{const _0x1d616e=_0xdf4cfa[_0x185202(0x1fa)][_0x185202(0x2dc)];if(!_0x1d616e)throw new Error(_0x185202(0x2d2));const _0x548e15=new GoogleGenerativeAI(_0x1d616e),_0x1cb342=_0x548e15['getGenerativeModel']({'model':GEMINI_MODEL}),_0x138613=await _0x1cb342[_0x185202(0x2d8)](_0x185202(0x2ec)),_0xad957f=await _0x138613[_0x185202(0x2f2)];if(_0xad957f[_0x185202(0x284)]())this['sendTo'](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![],'message':_0x185202(0x296)},_0xdf4cfa[_0x185202(0x20f)]);else throw new Error(_0x185202(0x310));}catch(_0x58eb41){this['sendTo'](_0xdf4cfa['from'],_0xdf4cfa[_0x185202(0x264)],{'success':![],'message':_0x58eb41[_0x185202(0x1fa)]},_0xdf4cfa[_0x185202(0x20f)]);}else{if(_0xdf4cfa[_0x185202(0x264)]===_0x185202(0x2ef))try{const _0xc4d235=await scanner['scanForDevices'](this,_0xdf4cfa[_0x185202(0x1fa)]||{});this['sendTo'](_0xdf4cfa['from'],_0xdf4cfa[_0x185202(0x264)],{'success':!![],'devices':_0xc4d235},_0xdf4cfa['callback']);}catch(_0x4044be){this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa['command'],{'success':![],'error':_0x4044be[_0x185202(0x1fa)]},_0xdf4cfa['callback']);}else{if(_0xdf4cfa[_0x185202(0x264)]===_0x185202(0x324))try{const {matrix:_0x364489}=_0xdf4cfa[_0x185202(0x1fa)],_0x4b3254=await this[_0x185202(0x26c)](_0x185202(0x248));if(_0x4b3254&&_0x4b3254[_0x185202(0x1d5)]){const _0x4b18aa=JSON[_0x185202(0x1d3)](_0x4b3254['val']);_0x4b18aa[_0x185202(0x1f2)]=_0x364489,_0x4b18aa[_0x185202(0x253)]=Date[_0x185202(0x27f)](),await this['setStateAsync'](_0x185202(0x248),{'val':JSON['stringify'](_0x4b18aa),'ack':!![]}),pythonBridge[_0x185202(0x1df)](this,_0x185202(0x1fe),_0x4b18aa);}this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![]},_0xdf4cfa[_0x185202(0x20f)]);}catch(_0x2cb99d){this[_0x185202(0x302)][_0x185202(0x2b1)](_0x2cb99d);}else{if(_0xdf4cfa[_0x185202(0x264)]===_0x185202(0x2ca))this[_0x185202(0x2bd)](_0xdf4cfa['from'],_0xdf4cfa['command'],{'success':!![],'dailyDigests':this[_0x185202(0x292)]||[],'analysisHistory':this[_0x185202(0x2bc)]||[]},_0xdf4cfa[_0x185202(0x20f)]);else{if(_0xdf4cfa['command']===_0x185202(0x23f)){const _0x286059=await this[_0x185202(0x22e)](_0x185202(0x2f8),'enum'),_0x24ad7c=[];if(_0x286059)for(const _0x113ab1 in _0x286059){const _0x38d9fd=_0x286059[_0x113ab1],_0x2a3c46=(_0x38d9fd[_0x185202(0x269)]&&typeof _0x38d9fd[_0x185202(0x269)][_0x185202(0x273)]===_0x185202(0x2b9)?_0x38d9fd['common'][_0x185202(0x273)]['de']:_0x38d9fd[_0x185202(0x269)][_0x185202(0x273)])||_0x38d9fd['common'][_0x185202(0x273)];_0x24ad7c[_0x185202(0x2ad)]({'id':_0x113ab1,'name':_0x2a3c46});}const _0x33d4ef=await this['getForeignObjectsAsync'](_0x185202(0x28b),_0x185202(0x240)),_0x552033=[];if(_0x33d4ef)for(const _0x8d49b4 in _0x33d4ef){const _0x3d50ba=_0x33d4ef[_0x8d49b4],_0x2cf856=(_0x3d50ba['common']&&typeof _0x3d50ba[_0x185202(0x269)][_0x185202(0x273)]===_0x185202(0x2b9)?_0x3d50ba['common'][_0x185202(0x273)]['de']:_0x3d50ba[_0x185202(0x269)]['name'])||_0x8d49b4[_0x185202(0x202)]('.')[_0x185202(0x2a7)]();_0x552033['push'](_0x2cf856);}this['sendTo'](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![],'enums':_0x24ad7c,'rooms':_0x552033},_0xdf4cfa[_0x185202(0x20f)]);}else{if(_0xdf4cfa[_0x185202(0x264)]==='testContext')try{let _0x166ef3='Kein\x20Wetter-Adapter',_0x1dfdca=_0x185202(0x31d);if(this[_0x185202(0x2b5)][_0x185202(0x2b8)]){const _0x1f586c=await recorder[_0x185202(0x2ff)](this);_0x166ef3=_0x1f586c!==null?_0x1f586c+'Â°C':'Daten\x20nicht\x20verfÃ¼gbar';}if(this[_0x185202(0x2b5)][_0x185202(0x305)]){const _0x1836b1=await this['getForeignObjectAsync'](_0x185202(0x24c)+this[_0x185202(0x2b5)][_0x185202(0x305)]);_0x1dfdca=_0x1836b1?'Verbunden':_0x185202(0x2d5);}this['sendTo'](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![],'weather':_0x166ef3,'calendar':_0x1dfdca},_0xdf4cfa['callback']);}catch(_0x415cf5){this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':![],'error':_0x415cf5[_0x185202(0x1fa)]},_0xdf4cfa['callback']);}else{if(_0xdf4cfa[_0x185202(0x264)]==='getCalendarNames')try{const _0xd08a64=_0xdf4cfa[_0x185202(0x1fa)][_0x185202(0x300)],_0x3ba8be=await this[_0x185202(0x223)](_0xd08a64+'.data.table');let _0x32cd08=[];if(_0x3ba8be&&_0x3ba8be[_0x185202(0x1d5)]){const _0x4a0c16=JSON[_0x185202(0x1d3)](_0x3ba8be['val']),_0x54cf9e=new Set();Array[_0x185202(0x312)](_0x4a0c16)&&_0x4a0c16['forEach'](_0x40bbab=>{const _0x24e6bf=_0x185202;if(_0x40bbab['_calName'])_0x54cf9e[_0x24e6bf(0x31f)](_0x40bbab[_0x24e6bf(0x2e5)]);else{if(_0x40bbab[_0x24e6bf(0x2f9)])_0x54cf9e[_0x24e6bf(0x31f)](_0x40bbab[_0x24e6bf(0x2f9)]);}}),_0x32cd08=Array[_0x185202(0x2e9)](_0x54cf9e)['sort']();}if(_0x32cd08[_0x185202(0x1e8)]===0x0)_0x32cd08=['Standard'];this[_0x185202(0x2bd)](_0xdf4cfa[_0x185202(0x2e9)],_0xdf4cfa[_0x185202(0x264)],{'success':!![],'names':_0x32cd08},_0xdf4cfa['callback']);}catch(_0xeebede){this[_0x185202(0x2bd)](_0xdf4cfa['from'],_0xdf4cfa[_0x185202(0x264)],{'success':![],'error':_0xeebede[_0x185202(0x1fa)]},_0xdf4cfa['callback']);}else{if(_0xdf4cfa[_0x185202(0x264)]===_0x185202(0x2cf))try{await setup[_0x185202(0x1db)](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0x185202(0x2bd)](_0xdf4cfa['from'],_0xdf4cfa['command'],{'success':!![],'message':'Gesendet'},_0xdf4cfa[_0x185202(0x20f)]);}catch(_0x45b894){this[_0x185202(0x302)]['error'](_0x185202(0x2d3)+_0x45b894[_0x185202(0x1fa)]),this[_0x185202(0x2bd)](_0xdf4cfa['from'],_0xdf4cfa[_0x185202(0x264)],{'success':![],'message':'Fehler:\x20'+_0x45b894[_0x185202(0x1fa)]},_0xdf4cfa[_0x185202(0x20f)]);}}}}}}}}}}}}}}}}}async['loadSystemMode'](){const _0x36299c=a0_0xc85e49;try{const _0x2e0ea3=await this[_0x36299c(0x26c)](setup['SYSTEM_DP_MODE']);_0x2e0ea3&&_0x2e0ea3[_0x36299c(0x1d5)]&&Object[_0x36299c(0x2be)](setup[_0x36299c(0x304)])[_0x36299c(0x1e0)](_0x2e0ea3[_0x36299c(0x1d5)])?this[_0x36299c(0x27e)]=_0x2e0ea3[_0x36299c(0x1d5)]:(this['currentSystemMode']=setup['SYSTEM_MODES'][_0x36299c(0x2e7)],await this[_0x36299c(0x1f6)](setup[_0x36299c(0x21d)],{'val':setup[_0x36299c(0x304)]['NORMAL'],'ack':!![]}));}catch(_0x213774){this[_0x36299c(0x27e)]=setup[_0x36299c(0x304)]['NORMAL'];}}async[a0_0xc85e49(0x2cc)](){const _0x4864f4=a0_0xc85e49;try{const _0x57bf81=this[_0x4864f4(0x2b5)][_0x4864f4(0x1e1)]||[];let _0x297b7a=![];const _0x51574c=[];for(const _0x42b750 of _0x57bf81){try{const _0x5518c0=await this[_0x4864f4(0x223)](_0x42b750);_0x5518c0&&(_0x5518c0['val']===!![]||_0x5518c0[_0x4864f4(0x1d5)]==='online'||_0x5518c0['val']===0x1)&&(_0x297b7a=!![],_0x51574c[_0x4864f4(0x2ad)](_0x42b750));}catch(_0xefbf66){}}return await this['setStateAsync'](_0x4864f4(0x249),{'val':_0x51574c['join'](',\x20'),'ack':!![]}),_0x297b7a&&(this['exitTimer']&&(this[_0x4864f4(0x302)][_0x4864f4(0x1de)](_0x4864f4(0x30c)),recorder['abortExitTimer'](this)),!this[_0x4864f4(0x325)]&&this[_0x4864f4(0x27e)]===setup[_0x4864f4(0x304)][_0x4864f4(0x2e7)]&&await recorder[_0x4864f4(0x2a5)](this,!![])),_0x297b7a;}catch(_0x207cb2){return![];}}async[a0_0xc85e49(0x306)](){const _0x52b571=a0_0xc85e49;this[_0x52b571(0x302)]['debug'](_0x52b571(0x24f)),await aiAgent[_0x52b571(0x25b)](this),this[_0x52b571(0x243)](),this[_0x52b571(0x22a)](),this[_0x52b571(0x283)]();}async[a0_0xc85e49(0x1ea)](){const _0x3246e1=a0_0xc85e49,_0x50e70d=['weatherunderground.0',_0x3246e1(0x228),_0x3246e1(0x242)],_0x58fd55=[_0x3246e1(0x1da),_0x3246e1(0x286),_0x3246e1(0x2d1)];for(const _0x2e2b3e of _0x50e70d){for(const _0x7bba14 of _0x58fd55){try{const _0x80fd6f=_0x2e2b3e+'.'+_0x7bba14,_0x4fa5c8=await this[_0x3246e1(0x223)](_0x80fd6f);if(_0x4fa5c8&&_0x4fa5c8[_0x3246e1(0x1d5)]){const _0xbf4151=String(_0x4fa5c8[_0x3246e1(0x1d5)])[_0x3246e1(0x1e7)]();if(_0xbf4151[_0x3246e1(0x1e0)](_0x3246e1(0x31e))||_0xbf4151[_0x3246e1(0x1e0)](_0x3246e1(0x2c1))||_0xbf4151[_0x3246e1(0x1e0)](_0x3246e1(0x22d))||_0xbf4151[_0x3246e1(0x1e0)](_0x3246e1(0x29b))||_0xbf4151['includes']('heiter'))return!![];}}catch(_0xc41ab4){}}}return![];}[a0_0xc85e49(0x22a)](){const _0x313c78=a0_0xc85e49;if(!this[_0x313c78(0x1f3)])return;try{this[_0x313c78(0x290)]('LTM.trainingData.sequences',(_0x369fae,_0x287cee)=>{const _0x286656=_0x313c78;_0x287cee&&_0x287cee[_0x286656(0x1d5)]&&pythonBridge['send'](this,_0x286656(0x22c),{'sequences':JSON[_0x286656(0x1d3)](_0x287cee[_0x286656(0x1d5)])});});}catch(_0x3611e9){}}async[a0_0xc85e49(0x283)](){const _0x3bed02=a0_0xc85e49;if(!this[_0x3bed02(0x1f3)])return;try{const _0x190b53=await recorder[_0x3bed02(0x2ff)](this);if(_0x190b53===null)return;const _0x283a42={},_0x6c4b48={},_0x1e8559=this[_0x3bed02(0x2b5)][_0x3bed02(0x208)]||[];for(const _0x2cdfbe of _0x1e8559){if(_0x2cdfbe[_0x3bed02(0x241)]===_0x3bed02(0x229)&&_0x2cdfbe[_0x3bed02(0x1fc)]){const _0x4c0470=this[_0x3bed02(0x2b7)][_0x2cdfbe['id']];if(_0x4c0470!==undefined)_0x283a42[_0x2cdfbe[_0x3bed02(0x1fc)]]=_0x4c0470;if(_0x2cdfbe[_0x3bed02(0x276)])_0x6c4b48[_0x2cdfbe[_0x3bed02(0x1fc)]]=!![];}}const _0x441b12=await this[_0x3bed02(0x1ea)]();let _0x47b71e={};try{const _0x5e049a=await this[_0x3bed02(0x26c)](_0x3bed02(0x291));if(_0x5e049a&&_0x5e049a[_0x3bed02(0x1d5)])_0x47b71e=JSON[_0x3bed02(0x1d3)](_0x5e049a[_0x3bed02(0x1d5)]);}catch(_0xea8343){}Object[_0x3bed02(0x1f1)](_0x283a42)[_0x3bed02(0x1e8)]>0x0&&(pythonBridge[_0x3bed02(0x1df)](this,'PREDICT_ENERGY',{'current_temps':_0x283a42,'t_out':_0x190b53,'is_sunny':_0x441b12,'solar_flags':_0x6c4b48,'warmup_targets':_0x47b71e}),pythonBridge[_0x3bed02(0x1df)](this,_0x3bed02(0x272),{'current_temps':_0x283a42,'t_out':_0x190b53,'targets':{}}));}catch(_0x137c53){}}[a0_0xc85e49(0x243)](){const _0x5833e2=a0_0xc85e49;if(!this[_0x5833e2(0x2ea)]||this['rawEventLog'][_0x5833e2(0x1e8)]===0x0)return;const _0x3d66cd=new Array(0x60)[_0x5833e2(0x1f0)](0x0),_0x20ce98=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x5833e2(0x2ea)][_0x5833e2(0x2c6)](_0x2a9667=>{const _0x4e179c=_0x5833e2,_0x4d6778=new Date(_0x2a9667['timestamp']);if(_0x4d6778[_0x4e179c(0x2db)]()>=_0x20ce98){const _0x1cbf4b=_0x4d6778[_0x4e179c(0x1f4)](),_0x45a7a1=_0x4d6778['getMinutes'](),_0x4c96bc=_0x1cbf4b*0x4+Math[_0x4e179c(0x301)](_0x45a7a1/0xf);if(_0x4c96bc>=0x0&&_0x4c96bc<0x60)_0x3d66cd[_0x4c96bc]++;}});}async[a0_0xc85e49(0x251)](_0x1a3ede){const _0xe8f84c=a0_0xc85e49;if(_0x1a3ede==null||typeof _0x1a3ede!==_0xe8f84c(0x2a8))return;const _0x55542c=Date[_0xe8f84c(0x27f)]();this[_0xe8f84c(0x298)][_0xe8f84c(0x2ad)]({'ts':_0x55542c,'val':_0x1a3ede}),this[_0xe8f84c(0x298)]=this[_0xe8f84c(0x298)][_0xe8f84c(0x313)](_0x2ed6c2=>_0x55542c-_0x2ed6c2['ts']<0x1388);if(this[_0xe8f84c(0x2a6)])return;if(this['config'][_0xe8f84c(0x26f)]){const _0x149a72=await this['getForeignStateAsync'](this['config'][_0xe8f84c(0x26f)]);if(_0x149a72&&!_0x149a72[_0xe8f84c(0x1d5)])return;}const _0x2f3b6c=this[_0xe8f84c(0x2b5)][_0xe8f84c(0x29d)]||0.04;if(Math[_0xe8f84c(0x1fd)](_0x1a3ede)>=_0x2f3b6c){this['log'][_0xe8f84c(0x26e)](_0xe8f84c(0x233)+_0x1a3ede+'\x20hPa\x20(Limit:\x20'+_0x2f3b6c+')'),await this[_0xe8f84c(0x1f6)]('security.alarm_triggered',{'val':!![],'ack':!![]});const _0x530717=this[_0xe8f84c(0x325)];_0x530717?(this['log'][_0xe8f84c(0x1de)](_0xe8f84c(0x1dc)),this[_0xe8f84c(0x257)](_0x1a3ede,_0xe8f84c(0x225))):(this[_0xe8f84c(0x257)](_0x1a3ede,_0xe8f84c(0x2f4)),this[_0xe8f84c(0x1db)](_0xe8f84c(0x2ee)+_0x1a3ede+_0xe8f84c(0x1ed))),this[_0xe8f84c(0x2a6)]=!![],setTimeout(()=>{const _0x86dab0=_0xe8f84c;this[_0x86dab0(0x2a6)]=![];},0x2710);}}async[a0_0xc85e49(0x257)](_0x57bb72,_0x193de5=a0_0xc85e49(0x2f4)){const _0x2e0a25=a0_0xc85e49,_0x4917b0=Date[_0x2e0a25(0x27f)](),_0x380fbc=this[_0x2e0a25(0x2b5)]['devices']||[];setTimeout(async()=>{const _0x54cac0=_0x2e0a25;let _0x39e856=null,_0x3467c0=_0x54cac0(0x31b);const _0x78db1c=_0x380fbc[_0x54cac0(0x313)](_0x198bc0=>_0x198bc0[_0x54cac0(0x241)]&&(_0x198bc0[_0x54cac0(0x241)][_0x54cac0(0x1e0)](_0x54cac0(0x1cc))||_0x198bc0['type'][_0x54cac0(0x1e0)](_0x54cac0(0x1cd))||_0x198bc0[_0x54cac0(0x241)]['includes'](_0x54cac0(0x1e5))||_0x198bc0['type'][_0x54cac0(0x1e0)](_0x54cac0(0x2f0)))||_0x198bc0['role']&&(_0x198bc0[_0x54cac0(0x219)][_0x54cac0(0x1e0)](_0x54cac0(0x268))||_0x198bc0['role'][_0x54cac0(0x1e0)]('sensor.door')));for(const _0x51523f of _0x78db1c){try{const _0x1cb48a=await this[_0x54cac0(0x223)](_0x51523f['id']);if(_0x1cb48a){if(_0x1cb48a['ts']>=_0x4917b0-0x7d0){_0x39e856=_0x51523f[_0x54cac0(0x273)]||_0x51523f['id'],_0x3467c0=_0x54cac0(0x2fe)+_0x39e856;break;}}}catch(_0x1dc05d){}}const _0x299b69={'timestamp':_0x4917b0,'pressure':_0x57bb72,'isMatch':!!_0x39e856,'explanation':_0x3467c0,'type':_0x193de5};await this[_0x54cac0(0x230)](_0x299b69),this[_0x54cac0(0x302)][_0x54cac0(0x1de)]('[Forensics]\x20Infrasound\x20Event\x20correlated:\x20'+(!!_0x39e856?_0x54cac0(0x285):'ANOMALY\x20(Real\x20Threat?)'));},0x1388);}async['analyzeWindowOpening'](_0x2b7dae){const _0x180976=a0_0xc85e49,_0x3bcc41=Date['now'](),_0x4e7193=_0x2b7dae[_0x180976(0x273)]||_0x2b7dae['id'][_0x180976(0x202)]('.')[_0x180976(0x2a7)]();let _0x2cf544=0x0;setTimeout(async()=>{const _0x2ae34e=_0x180976;this[_0x2ae34e(0x298)]['forEach'](_0x8c06db=>{const _0x8a2f39=_0x2ae34e;_0x8c06db['ts']>=_0x3bcc41-0xfa0&&_0x8c06db['ts']<=_0x3bcc41+0x3e8&&(Math[_0x8a2f39(0x1fd)](_0x8c06db['val'])>Math[_0x8a2f39(0x1fd)](_0x2cf544)&&(_0x2cf544=_0x8c06db[_0x8a2f39(0x1d5)]));});const _0x4fc140=this[_0x2ae34e(0x2b5)]['infrasoundThreshold']||0.04,_0x163c7e=Math['abs'](_0x2cf544)>=_0x4fc140,_0x58196f={'timestamp':_0x3bcc41,'pressure':_0x2cf544,'isMatch':_0x163c7e,'explanation':_0x2ae34e(0x1d1)+_0x4e7193,'type':_0x2ae34e(0x234)};await this[_0x2ae34e(0x230)](_0x58196f),this[_0x2ae34e(0x302)][_0x2ae34e(0x252)](_0x2ae34e(0x25d)+_0x4e7193+_0x2ae34e(0x203)+_0x2cf544[_0x2ae34e(0x28f)](0x4)+_0x2ae34e(0x282)+_0x4fc140+')');},0x1f4);}async[a0_0xc85e49(0x230)](_0xea5979){const _0x219708=a0_0xc85e49;try{const _0x170f28=await this[_0x219708(0x26c)](_0x219708(0x1ce));let _0x4b8826=[];if(_0x170f28&&_0x170f28[_0x219708(0x1d5)])_0x4b8826=JSON[_0x219708(0x1d3)](_0x170f28[_0x219708(0x1d5)]);_0x4b8826[_0x219708(0x2af)](_0xea5979);if(_0x4b8826[_0x219708(0x1e8)]>0x14)_0x4b8826=_0x4b8826[_0x219708(0x1e3)](0x0,0x14);await this[_0x219708(0x1f6)](_0x219708(0x1ce),{'val':JSON[_0x219708(0x1d8)](_0x4b8826),'ack':!![]});}catch(_0x5a103e){this['log']['error'](_0x219708(0x2e6)+_0x5a103e[_0x219708(0x1fa)]);}}[a0_0xc85e49(0x1db)](_0x509ae3){const _0x2faeeb=a0_0xc85e49;this['config'][_0x2faeeb(0x2ab)]&&this[_0x2faeeb(0x2b5)][_0x2faeeb(0x2e4)]&&this[_0x2faeeb(0x2bd)](this['config'][_0x2faeeb(0x2e4)],_0x2faeeb(0x1df),{'message':_0x509ae3,'title':_0x2faeeb(0x287),'priority':0x1}),this[_0x2faeeb(0x2b5)]['notifyTelegramEnabled']&&this[_0x2faeeb(0x2b5)]['notifyTelegramInstance']&&this[_0x2faeeb(0x2bd)](this[_0x2faeeb(0x2b5)][_0x2faeeb(0x29a)],'send',{'text':_0x509ae3});}}if(require['main']!==module)module[a0_0xc85e49(0x270)]=_0x4c2679=>new CogniLiving(_0x4c2679);else new CogniLiving();