const a0_0xc4dfcc=a0_0x26c5;function a0_0x26c5(_0x2af484,_0x25de54){const _0x546a90=a0_0x3867();return a0_0x26c5=function(_0x29b897,_0x1d3a49){_0x29b897=_0x29b897-0xce;let _0x386798=_0x546a90[_0x29b897];return _0x386798;},a0_0x26c5(_0x2af484,_0x25de54);}(function(_0x377559,_0x20958){const _0x300856=a0_0x26c5,_0x142f17=_0x377559();while(!![]){try{const _0x56ed15=parseInt(_0x300856(0x152))/0x1*(-parseInt(_0x300856(0x105))/0x2)+-parseInt(_0x300856(0x196))/0x3+-parseInt(_0x300856(0x10c))/0x4+parseInt(_0x300856(0x11f))/0x5*(parseInt(_0x300856(0x121))/0x6)+parseInt(_0x300856(0x148))/0x7*(-parseInt(_0x300856(0x122))/0x8)+parseInt(_0x300856(0x170))/0x9*(-parseInt(_0x300856(0x158))/0xa)+-parseInt(_0x300856(0x195))/0xb*(-parseInt(_0x300856(0xff))/0xc);if(_0x56ed15===_0x20958)break;else _0x142f17['push'](_0x142f17['shift']());}catch(_0x708c9d){_0x142f17['push'](_0x142f17['shift']());}}}(a0_0x3867,0x92fb4));const a0_0x1d3a49=(function(){let _0x2e9a3e=!![];return function(_0x53b19b,_0x4c4d02){const _0x45cebe=_0x2e9a3e?function(){const _0x24666b=a0_0x26c5;if(_0x4c4d02){const _0x4f3af1=_0x4c4d02[_0x24666b(0xdb)](_0x53b19b,arguments);return _0x4c4d02=null,_0x4f3af1;}}:function(){};return _0x2e9a3e=![],_0x45cebe;};}()),a0_0x29b897=a0_0x1d3a49(this,function(){const _0x212dc7=a0_0x26c5;return a0_0x29b897[_0x212dc7(0x140)]()[_0x212dc7(0x161)]('(((.+)+)+)+$')[_0x212dc7(0x140)]()['constructor'](a0_0x29b897)[_0x212dc7(0x161)]('(((.+)+)+)+$');});a0_0x29b897();'use strict';function a0_0x3867(){const _0xe16d93=['split','./lib/python_bridge','endsWith','find','Instanz\x20nicht\x20gefunden','onStateChange','getForeignStateAsync','ack','abortExitTimer','executeAutomationAction','setupModeResetScheduler','stateChange','exports','slice','Kein\x20Kalender-Adapter','Kein\x20API\x20Key\x20Ã¼bergeben','stopService','exitTimer','currentSystemMode','config','TRAIN_HEALTH','floor','TRAIN_ENERGY','notifyTelegramInstance','WiFi\x20Presence\x20detected.','analysis.automation.triggerAction','./lib/scanner','getOverviewData','minDaysForBaseline','SET_TOPOLOGY','@iobroker/adapter-core','log','rawEventLog','testApiKey','apply','analysis.training.triggerSecurity','join','_calName','response','analysisHistory','notifyTelegramEnabled','system.mode','inactivityThresholdHours','info','geminiModel','initSystemConfig','activityLevel','Keine\x20Antwort\x20von\x20Gemini','analysis.trigger','getForeignObjectAsync','VACATION','parse','sendTo','getStateAsync','isPresent','setStateAsync','initHistory','startSystem','automation.triggerAction','Aktiv\x20(','object','SYSTEM_MODES','getEnums','text','./lib/scheduler','genAI','updateTopologyMatrix','cogni-living','type','analysis.training.triggerTopology','111756vYxKil','stringify','sort','@google/generative-ai','analysis.training.triggerComfort','analysis.training.status','135118DeXvZl','onMessage','isProVersion','analysis.health.todayVector','callback','calendarInstance','lastAlertState','83364SDPRVL','telegram','ready','getCalendarNames','ANALYZE_GAIT','generateContent','subscribeStates','LTM.baselineStatus','triggerEnergyPrediction','PYTHON_EXE','temperature','runGeminiAnalysis','triggerBriefing','initZombies','val','sendMorningBriefing','ltmJob','analysis.training.triggerEnergy','dependencyInstallInProgress','1415255bTTica','TRAIN_SECURITY','12cvaCfO','6439464QDRnjZ','LTM.trainingData.sequences','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','system.adapter.','Standard','setState','Activity-Level','send','getLtmData','apiKey','version','runAutopilot','.system.mode','startService','\x20Tage)','Gemini\x20Init\x20Error:\x20','analysisTimer','updateHealthVector','setHours','geminiApiKey','analysis.training.triggerHealth','Sec-Training\x20started...','cogni-living\x20adapter\x20starting\x20(v','LTM.triggerDailyDigest','checkWifiPresence','subscribeForeignStatesAsync','getGenerativeModel','isArray','checkLicense','./lib/dead_man','toString','toLowerCase','debug','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','loadSystemMode','dailyDigests','createDailyDigest','NORMAL','7VdNgly','instance','./lib/installer','includes','Daten\x20nicht\x20verfÃ¼gbar','Adapter','Test','weatherInstance','TRAIN_COMFORT','checkAndInstall','6oSXvCE','eventHistory','Kein\x20Wetter-Adapter','push','values','testContext','7580AhMqhE','map','analysis.topology.structure','common','unload','motion','enum.functions.*','setupLtmScheduler','add','search','name','LTM.trainingData.thermodynamics','application/json','command','setPresence','getMinutes','sensorLastValues','cancel','onUnload','location','timestamp','sendNotification','getOutsideTemperatureNumeric','testNotification','1557JiPQdD','./lib/ai_agent','forEach','exitGraceTimer','presenceDevices','analysis.automation.autoApply','Gesendet','online','runBaselineDriftAnalysis','LTM.rawEventLog','calendarName','devices','triggerGaitAnalysis','setupDriftAnalysisScheduler','setupBriefingScheduler','analysisInterval','keys','Fehler:\x20','analysis.triggerBriefing','getState','length','LTM.dailyDigests','ANALYZE_TREND','bind','updated','isGracePeriodActive','triggerDailyDigest','updateTopology','matrix','briefingJob','SYSTEM_DP_MODE','error','message','getForeignObjectsAsync','onReady','getHours','enum','1870EkCoJr','555042gFMACH','modeResetJob','from'];a0_0x3867=function(){return _0xe16d93;};return a0_0x3867();}const utils=require(a0_0xc4dfcc(0xd7)),{GoogleGenerativeAI}=require(a0_0xc4dfcc(0x102)),installer=require(a0_0xc4dfcc(0x14a)),scanner=require(a0_0xc4dfcc(0xd3)),schedulers=require(a0_0xc4dfcc(0xf9)),topology=require('./lib/topology'),setup=require('./lib/setup'),recorder=require('./lib/recorder'),pythonBridge=require(a0_0xc4dfcc(0x19a)),aiAgent=require(a0_0xc4dfcc(0x171)),deadMan=require(a0_0xc4dfcc(0x13f)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0xc4dfcc(0x14d)]{constructor(_0x35c5b8){const _0x36423e=a0_0xc4dfcc;super({..._0x35c5b8,'name':_0x36423e(0xfc)}),this[_0x36423e(0x153)]=[],this[_0x36423e(0xe0)]=[],this['rawEventLog']=[],this['dailyDigests']=[],this[_0x36423e(0x168)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x36423e(0x1aa)]=null,this[_0x36423e(0x173)]=null,this[_0x36423e(0x189)]=![],this[_0x36423e(0xfa)]=null,this[_0x36423e(0xe5)]=null,this[_0x36423e(0x1ab)]=setup[_0x36423e(0xf6)]['NORMAL'],this[_0x36423e(0x107)]=![],this[_0x36423e(0x10b)]=![],this[_0x36423e(0x132)]=null,this['ltmJob']=null,this[_0x36423e(0x197)]=null,this['driftAnalysisTimer']=null,this['briefingJob']=null,this[_0x36423e(0x11e)]=![],this['on'](_0x36423e(0x10e),this[_0x36423e(0x192)][_0x36423e(0x187)](this)),this['on'](_0x36423e(0x1a4),this[_0x36423e(0x19e)][_0x36423e(0x187)](this)),this['on'](_0x36423e(0x15c),this['onUnload'][_0x36423e(0x187)](this)),this['on'](_0x36423e(0x190),this['onMessage'][_0x36423e(0x187)](this));}async[a0_0xc4dfcc(0x192)](){const _0x47086c=a0_0xc4dfcc;this[_0x47086c(0xd8)][_0x47086c(0xe4)](_0x47086c(0x138)+this[_0x47086c(0x12c)]+')\x20-\x20Phase\x20C\x20(Hardened)');if(!installer[_0x47086c(0x151)](this,()=>this['startSystem']()))return;}async[a0_0xc4dfcc(0xf2)](){const _0x112097=a0_0xc4dfcc;await setup[_0x112097(0x119)](this);try{this['isProVersion']=await setup[_0x112097(0x13e)](this[_0x112097(0x1ac)]['licenseKey']);}catch(_0x175bad){}if(!this['config']['inactivityThresholdHours']||this[_0x112097(0x1ac)]['inactivityThresholdHours']<0.1)this['config'][_0x112097(0xe3)]=0xc;await setup[_0x112097(0xf1)](this),await setup[_0x112097(0xe6)](this);if(this[_0x112097(0x1ac)][_0x112097(0x135)])try{this[_0x112097(0xfa)]=new GoogleGenerativeAI(this[_0x112097(0x1ac)][_0x112097(0x135)]),this['geminiModel']=this[_0x112097(0xfa)][_0x112097(0x13c)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x112097(0x164)}}),this[_0x112097(0xd8)][_0x112097(0xe4)]('Gemini\x20AI\x20initialized.');}catch(_0x4f4fce){this[_0x112097(0xd8)][_0x112097(0x18f)](_0x112097(0x131)+_0x4f4fce[_0x112097(0x190)]);}await setup['createAllObjects'](this),await this[_0x112097(0x144)]();try{const _0x26f4e2=await this['getStateAsync']('LTM.rawEventLog');if(_0x26f4e2&&_0x26f4e2['val'])this[_0x112097(0xd9)]=JSON[_0x112097(0xec)](_0x26f4e2['val']);}catch(_0x333389){this[_0x112097(0xd9)]=[];}try{const _0x5f1053=await this[_0x112097(0xee)](_0x112097(0x185));if(_0x5f1053&&_0x5f1053['val'])this[_0x112097(0x145)]=JSON[_0x112097(0xec)](_0x5f1053[_0x112097(0x11a)]);}catch(_0x2f0800){this['dailyDigests']=[];}const _0xe288fa=this[_0x112097(0x145)][_0x112097(0x184)]>=(this[_0x112097(0x1ac)][_0x112097(0xd5)]||0x7)?_0x112097(0xf4)+this[_0x112097(0x145)][_0x112097(0x184)]+_0x112097(0x130):'Lernphase\x20('+this[_0x112097(0x145)][_0x112097(0x184)]+'/'+(this[_0x112097(0x1ac)][_0x112097(0xd5)]||0x7)+')';await this[_0x112097(0xf0)](_0x112097(0x113),{'val':_0xe288fa,'ack':!![]}),this[_0x112097(0x112)](_0x112097(0xe9)),this[_0x112097(0x112)](_0x112097(0x139)),this['subscribeStates'](_0x112097(0xe2)),this[_0x112097(0x112)](_0x112097(0x182)),this[_0x112097(0x112)](_0x112097(0xd2)),this[_0x112097(0x112)](_0x112097(0x175)),this[_0x112097(0x112)](_0x112097(0xdc)),this[_0x112097(0x112)](_0x112097(0x136)),this[_0x112097(0x112)](_0x112097(0x11d)),this[_0x112097(0x112)]('analysis.training.triggerComfort'),this[_0x112097(0x112)](_0x112097(0xfe));const _0x5adb4e=this['config'][_0x112097(0x17b)];if(_0x5adb4e)for(const _0x5190de of _0x5adb4e){await this[_0x112097(0x13b)](_0x5190de['id']);}const _0x5595ab=this[_0x112097(0x1ac)][_0x112097(0x174)];if(_0x5595ab)for(const _0x2d8812 of _0x5595ab){await this[_0x112097(0x13b)](_0x2d8812);}if(this[_0x112097(0x1ac)][_0x112097(0xe1)]&&this['config'][_0x112097(0xd0)])await this[_0x112097(0x13b)](this['config'][_0x112097(0xd0)]+'.communicate.request');setTimeout(()=>this[_0x112097(0x13a)](),0x1388);if(this[_0x112097(0x132)])clearInterval(this[_0x112097(0x132)]);const _0x18757d=this['config'][_0x112097(0x17f)]||0xf;_0x18757d>0x0&&(this[_0x112097(0x132)]=setInterval(()=>{const _0x508fd4=_0x112097;this[_0x508fd4(0x12d)]();},_0x18757d*0x3c*0x3e8)),schedulers[_0x112097(0x15f)](this,()=>aiAgent[_0x112097(0x146)](this,pythonBridge)),schedulers[_0x112097(0x1a3)](this),schedulers[_0x112097(0x17d)](this,()=>aiAgent[_0x112097(0x178)](this)),schedulers[_0x112097(0x17e)](this,()=>aiAgent[_0x112097(0x11b)](this)),pythonBridge[_0x112097(0x12f)](this,installer[_0x112097(0x115)]),setTimeout(async()=>{const _0x4cf29e=_0x112097;await topology[_0x4cf29e(0x18b)](this);try{const _0x59aab0=await this[_0x4cf29e(0xee)]('analysis.topology.structure');if(_0x59aab0&&_0x59aab0[_0x4cf29e(0x11a)])pythonBridge[_0x4cf29e(0x129)](this,_0x4cf29e(0xd6),JSON[_0x4cf29e(0xec)](_0x59aab0[_0x4cf29e(0x11a)]));}catch(_0x233934){}this['runPythonHealthCheck'](),this[_0x4cf29e(0x17c)](),this[_0x4cf29e(0x114)](),this[_0x4cf29e(0x133)]();},0x1388);}[a0_0xc4dfcc(0x16a)](_0x393489){const _0x5daaa4=a0_0xc4dfcc;if(this['analysisTimer'])clearInterval(this[_0x5daaa4(0x132)]);if(this['driftAnalysisTimer'])clearInterval(this['driftAnalysisTimer']);if(this[_0x5daaa4(0x11c)])this['ltmJob'][_0x5daaa4(0x169)]();if(this[_0x5daaa4(0x197)])this[_0x5daaa4(0x197)]['cancel']();if(this['briefingJob'])this[_0x5daaa4(0x18d)]['cancel']();recorder[_0x5daaa4(0x1a1)](this),pythonBridge[_0x5daaa4(0x1a9)](this),_0x393489();}async[a0_0xc4dfcc(0x19e)](_0x3d451e,_0x5b0df4){const _0x272210=a0_0xc4dfcc;if(!_0x5b0df4||this[_0x272210(0x11e)])return;if(_0x3d451e['includes'](_0x272210(0x10d))&&_0x3d451e[_0x272210(0x19b)]('communicate.request')&&_0x5b0df4[_0x272210(0x11a)])return;if(_0x3d451e===this['namespace']+_0x272210(0x12e)){if(_0x5b0df4[_0x272210(0x11a)]&&Object[_0x272210(0x156)](setup[_0x272210(0xf6)])[_0x272210(0x14b)](_0x5b0df4[_0x272210(0x11a)])){this['currentSystemMode']=_0x5b0df4[_0x272210(0x11a)];if(_0x5b0df4['val']===setup['SYSTEM_MODES'][_0x272210(0xeb)])await recorder[_0x272210(0x166)](this,![]);else await recorder[_0x272210(0x166)](this,!![]);}if(!_0x5b0df4[_0x272210(0x1a0)])this[_0x272210(0x127)](_0x3d451e,{'val':this[_0x272210(0x1ab)],'ack':!![]});return;}if(!_0x5b0df4[_0x272210(0x1a0)]){_0x3d451e['includes'](_0x272210(0xe9))&&_0x5b0df4[_0x272210(0x11a)]&&(this['setState'](_0x3d451e,{'val':![],'ack':!![]}),aiAgent[_0x272210(0x117)](this));if(_0x3d451e[_0x272210(0x14b)](_0x272210(0x18a))&&_0x5b0df4['val']){this[_0x272210(0x127)](_0x3d451e,{'val':![],'ack':!![]});if(this[_0x272210(0x107)])aiAgent[_0x272210(0x146)](this,pythonBridge);}_0x3d451e[_0x272210(0x14b)](_0x272210(0x118))&&_0x5b0df4[_0x272210(0x11a)]&&(this['setState'](_0x3d451e,{'val':![],'ack':!![]}),aiAgent[_0x272210(0x11b)](this));_0x3d451e['includes'](_0x272210(0xf3))&&_0x5b0df4[_0x272210(0x11a)]&&(this[_0x272210(0x127)](_0x3d451e,{'val':![],'ack':!![]}),aiAgent[_0x272210(0x1a2)](this));if(_0x3d451e[_0x272210(0x14b)](_0x272210(0xdc))&&_0x5b0df4[_0x272210(0x11a)]){this['setState'](_0x3d451e,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x3f3226=await this['getStateAsync'](_0x272210(0x123));if(_0x3f3226&&_0x3f3226[_0x272210(0x11a)]){const _0x59a8ad=JSON[_0x272210(0xec)](_0x3f3226['val']);this['setStateAsync'](_0x272210(0x104),{'val':_0x272210(0x137),'ack':!![]}),pythonBridge[_0x272210(0x129)](this,_0x272210(0x120),{'sequences':_0x59a8ad});}}catch(_0x4171eb){}}if(_0x3d451e[_0x272210(0x14b)](_0x272210(0x136))&&_0x5b0df4['val']){this[_0x272210(0x127)](_0x3d451e,{'val':![],'ack':!![]});if(this[_0x272210(0x107)])try{const _0x47d84b=await this[_0x272210(0xee)](_0x272210(0x185));if(_0x47d84b&&_0x47d84b[_0x272210(0x11a)])pythonBridge[_0x272210(0x129)](this,_0x272210(0x1ad),{'digests':JSON[_0x272210(0xec)](_0x47d84b[_0x272210(0x11a)])});}catch(_0xdeba6f){}}if(_0x3d451e[_0x272210(0x14b)](_0x272210(0x11d))&&_0x5b0df4['val']){this[_0x272210(0x127)](_0x3d451e,{'val':![],'ack':!![]});if(this[_0x272210(0x107)])try{const _0x2ad5b4=await this[_0x272210(0xee)](_0x272210(0x163));if(_0x2ad5b4&&_0x2ad5b4[_0x272210(0x11a)])pythonBridge[_0x272210(0x129)](this,_0x272210(0xcf),{'points':JSON[_0x272210(0xec)](_0x2ad5b4[_0x272210(0x11a)])});}catch(_0x42c293){}}if(_0x3d451e[_0x272210(0x14b)](_0x272210(0x103))&&_0x5b0df4[_0x272210(0x11a)]){this['setState'](_0x3d451e,{'val':![],'ack':!![]});if(this[_0x272210(0x107)])try{const _0x542fe8=await this[_0x272210(0xee)](_0x272210(0x179));if(_0x542fe8&&_0x542fe8[_0x272210(0x11a)])pythonBridge[_0x272210(0x129)](this,_0x272210(0x150),{'events':JSON['parse'](_0x542fe8[_0x272210(0x11a)])});}catch(_0x27644c){}}_0x3d451e[_0x272210(0x14b)](_0x272210(0xfe))&&_0x5b0df4[_0x272210(0x11a)]&&(this[_0x272210(0x127)](_0x3d451e,{'val':![],'ack':!![]}),topology[_0x272210(0x18b)](this));return;}if(this[_0x272210(0x1ac)][_0x272210(0x174)]&&this['config'][_0x272210(0x174)]['includes'](_0x3d451e)){await this[_0x272210(0x13a)]();return;}const _0xb6f8a8=(this[_0x272210(0x1ac)][_0x272210(0x17b)]||[])[_0x272210(0x19c)](_0x924dbf=>_0x924dbf['id']===_0x3d451e);if(_0xb6f8a8){const _0x21a21d=await recorder['processSensorEvent'](this,_0x3d451e,_0x5b0df4,_0xb6f8a8);_0x21a21d&&_0x21a21d[_0x272210(0xfd)]===_0x272210(0x15d)&&_0x21a21d['location']&&this[_0x272210(0x107)]&&deadMan['updateLocation'](this,_0x21a21d[_0x272210(0x16b)]);}}async[a0_0xc4dfcc(0x106)](_0x99728f){const _0x54d7bb=a0_0xc4dfcc;if(typeof _0x99728f===_0x54d7bb(0xf5)&&_0x99728f[_0x54d7bb(0x190)]){if(_0x99728f[_0x54d7bb(0x165)]===_0x54d7bb(0xda))try{const _0x289636=_0x99728f[_0x54d7bb(0x190)][_0x54d7bb(0x12b)];if(!_0x289636)throw new Error(_0x54d7bb(0x1a8));const _0x439541=new GoogleGenerativeAI(_0x289636),_0x59f844=_0x439541[_0x54d7bb(0x13c)]({'model':GEMINI_MODEL}),_0x790c1f=await _0x59f844[_0x54d7bb(0x111)](_0x54d7bb(0x14e)),_0x49edba=await _0x790c1f[_0x54d7bb(0xdf)];if(_0x49edba[_0x54d7bb(0xf8)]())this[_0x54d7bb(0xed)](_0x99728f[_0x54d7bb(0x198)],_0x99728f[_0x54d7bb(0x165)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x99728f[_0x54d7bb(0x109)]);else throw new Error(_0x54d7bb(0xe8));}catch(_0x3732df){this[_0x54d7bb(0xed)](_0x99728f[_0x54d7bb(0x198)],_0x99728f[_0x54d7bb(0x165)],{'success':![],'message':_0x3732df[_0x54d7bb(0x190)]},_0x99728f[_0x54d7bb(0x109)]);}else{if(_0x99728f['command']==='scanDevices')try{const _0x27aeac=await scanner['scanForDevices'](this,_0x99728f[_0x54d7bb(0x190)]||{});this['sendTo'](_0x99728f[_0x54d7bb(0x198)],_0x99728f['command'],{'success':!![],'devices':_0x27aeac},_0x99728f[_0x54d7bb(0x109)]);}catch(_0x3140ec){this['sendTo'](_0x99728f['from'],_0x99728f[_0x54d7bb(0x165)],{'success':![],'error':_0x3140ec[_0x54d7bb(0x190)]},_0x99728f[_0x54d7bb(0x109)]);}else{if(_0x99728f[_0x54d7bb(0x165)]===_0x54d7bb(0xfb))try{const {matrix:_0x4bf337}=_0x99728f[_0x54d7bb(0x190)],_0x5abb01=await this[_0x54d7bb(0xee)]('analysis.topology.structure');if(_0x5abb01&&_0x5abb01[_0x54d7bb(0x11a)]){const _0x756c03=JSON[_0x54d7bb(0xec)](_0x5abb01[_0x54d7bb(0x11a)]);_0x756c03[_0x54d7bb(0x18c)]=_0x4bf337,_0x756c03[_0x54d7bb(0x188)]=Date['now'](),await this[_0x54d7bb(0xf0)](_0x54d7bb(0x15a),{'val':JSON[_0x54d7bb(0x100)](_0x756c03),'ack':!![]}),pythonBridge['send'](this,_0x54d7bb(0xd6),_0x756c03);}this[_0x54d7bb(0xed)](_0x99728f['from'],_0x99728f[_0x54d7bb(0x165)],{'success':!![]},_0x99728f[_0x54d7bb(0x109)]);}catch(_0x2e9768){this[_0x54d7bb(0xd8)][_0x54d7bb(0x18f)](_0x2e9768);}else{if(_0x99728f[_0x54d7bb(0x165)]===_0x54d7bb(0x12a))this[_0x54d7bb(0xed)](_0x99728f[_0x54d7bb(0x198)],_0x99728f[_0x54d7bb(0x165)],{'success':!![],'dailyDigests':this[_0x54d7bb(0x145)]||[],'analysisHistory':this[_0x54d7bb(0xe0)]||[]},_0x99728f[_0x54d7bb(0x109)]);else{if(_0x99728f['command']===_0x54d7bb(0xd4)){const _0x2cfeb2=this[_0x54d7bb(0x145)][_0x54d7bb(0x184)],_0x33c150=new Array(0x18)['fill'](0x0),_0x5437a6=new Date()[_0x54d7bb(0x134)](0x0,0x0,0x0,0x0);this[_0x54d7bb(0x153)]&&this[_0x54d7bb(0x153)][_0x54d7bb(0x172)](_0x385a95=>{const _0x3eaaf6=_0x54d7bb;if(_0x385a95[_0x3eaaf6(0x16c)]>=_0x5437a6){const _0x3dfbe9=new Date(_0x385a95[_0x3eaaf6(0x16c)])[_0x3eaaf6(0x193)]();if(_0x3dfbe9>=0x0&&_0x3dfbe9<0x18)_0x33c150[_0x3dfbe9]++;}}),this[_0x54d7bb(0xed)](_0x99728f[_0x54d7bb(0x198)],_0x99728f[_0x54d7bb(0x165)],{'success':!![],'eventHistory':this[_0x54d7bb(0x153)][_0x54d7bb(0x1a6)](0x0,0xf),'stats':{'digestCount':_0x2cfeb2,'isPresent':this[_0x54d7bb(0xef)],'hourlyActivity':_0x33c150},'automation':{'detected':![]}},_0x99728f['callback']);}else{if(_0x99728f[_0x54d7bb(0x165)]===_0x54d7bb(0xf7)){const _0x1462ad=await this[_0x54d7bb(0x191)](_0x54d7bb(0x15e),'enum'),_0x1af248=[];if(_0x1462ad)for(const _0x3c8792 in _0x1462ad){const _0x33a795=_0x1462ad[_0x3c8792],_0x5c6894=(_0x33a795[_0x54d7bb(0x15b)]&&typeof _0x33a795['common'][_0x54d7bb(0x162)]===_0x54d7bb(0xf5)?_0x33a795[_0x54d7bb(0x15b)][_0x54d7bb(0x162)]['de']:_0x33a795[_0x54d7bb(0x15b)][_0x54d7bb(0x162)])||_0x33a795[_0x54d7bb(0x15b)][_0x54d7bb(0x162)];_0x1af248[_0x54d7bb(0x155)]({'id':_0x3c8792,'name':_0x5c6894});}const _0x34805d=await this[_0x54d7bb(0x191)]('enum.rooms.*',_0x54d7bb(0x194)),_0x12eb29=[];if(_0x34805d)for(const _0x48e0a8 in _0x34805d){const _0x1852cd=_0x34805d[_0x48e0a8],_0x13601b=(_0x1852cd[_0x54d7bb(0x15b)]&&typeof _0x1852cd[_0x54d7bb(0x15b)][_0x54d7bb(0x162)]==='object'?_0x1852cd[_0x54d7bb(0x15b)]['name']['de']:_0x1852cd[_0x54d7bb(0x15b)][_0x54d7bb(0x162)])||_0x48e0a8[_0x54d7bb(0x199)]('.')['pop']();_0x12eb29['push'](_0x13601b);}this[_0x54d7bb(0xed)](_0x99728f[_0x54d7bb(0x198)],_0x99728f[_0x54d7bb(0x165)],{'success':!![],'enums':_0x1af248,'rooms':_0x12eb29},_0x99728f[_0x54d7bb(0x109)]);}else{if(_0x99728f[_0x54d7bb(0x165)]===_0x54d7bb(0x157))try{let _0x440ac2=_0x54d7bb(0x154),_0x315055=_0x54d7bb(0x1a7);if(this[_0x54d7bb(0x1ac)][_0x54d7bb(0x14f)]){const _0x4474c0=await recorder[_0x54d7bb(0x16e)](this);_0x440ac2=_0x4474c0!==null?_0x4474c0+'Â°C':_0x54d7bb(0x14c);}if(this[_0x54d7bb(0x1ac)]['calendarInstance']){const _0x4bd043=await this[_0x54d7bb(0xea)](_0x54d7bb(0x125)+this[_0x54d7bb(0x1ac)][_0x54d7bb(0x10a)]);_0x315055=_0x4bd043?'Verbunden':_0x54d7bb(0x19d);}this['sendTo'](_0x99728f[_0x54d7bb(0x198)],_0x99728f[_0x54d7bb(0x165)],{'success':!![],'weather':_0x440ac2,'calendar':_0x315055},_0x99728f['callback']);}catch(_0x296611){this[_0x54d7bb(0xed)](_0x99728f[_0x54d7bb(0x198)],_0x99728f[_0x54d7bb(0x165)],{'success':![],'error':_0x296611[_0x54d7bb(0x190)]},_0x99728f[_0x54d7bb(0x109)]);}else{if(_0x99728f['command']===_0x54d7bb(0x10f))try{const _0x222db8=_0x99728f[_0x54d7bb(0x190)][_0x54d7bb(0x149)],_0x386a2f=await this['getForeignStateAsync'](_0x222db8+'.data.table');let _0x23d09e=[];if(_0x386a2f&&_0x386a2f['val']){const _0x469a3f=JSON[_0x54d7bb(0xec)](_0x386a2f[_0x54d7bb(0x11a)]),_0x53d85e=new Set();Array[_0x54d7bb(0x13d)](_0x469a3f)&&_0x469a3f[_0x54d7bb(0x172)](_0x265476=>{const _0x4193f8=_0x54d7bb;if(_0x265476[_0x4193f8(0xde)])_0x53d85e['add'](_0x265476[_0x4193f8(0xde)]);else{if(_0x265476[_0x4193f8(0x17a)])_0x53d85e[_0x4193f8(0x160)](_0x265476['calendarName']);}}),_0x23d09e=Array[_0x54d7bb(0x198)](_0x53d85e)[_0x54d7bb(0x101)]();}if(_0x23d09e[_0x54d7bb(0x184)]===0x0)_0x23d09e=[_0x54d7bb(0x126)];this[_0x54d7bb(0xed)](_0x99728f['from'],_0x99728f[_0x54d7bb(0x165)],{'success':!![],'names':_0x23d09e},_0x99728f[_0x54d7bb(0x109)]);}catch(_0x5cd1c4){this[_0x54d7bb(0xed)](_0x99728f['from'],_0x99728f[_0x54d7bb(0x165)],{'success':![],'error':_0x5cd1c4['message']},_0x99728f[_0x54d7bb(0x109)]);}else{if(_0x99728f[_0x54d7bb(0x165)]===_0x54d7bb(0x16f))try{await setup[_0x54d7bb(0x16d)](this,_0x54d7bb(0x143),![],![]),this[_0x54d7bb(0xed)](_0x99728f[_0x54d7bb(0x198)],_0x99728f[_0x54d7bb(0x165)],{'success':!![],'message':_0x54d7bb(0x176)},_0x99728f[_0x54d7bb(0x109)]);}catch(_0x11f6f4){this[_0x54d7bb(0xd8)][_0x54d7bb(0x18f)]('Notification\x20Test\x20Failed:\x20'+_0x11f6f4[_0x54d7bb(0x190)]),this[_0x54d7bb(0xed)](_0x99728f[_0x54d7bb(0x198)],_0x99728f[_0x54d7bb(0x165)],{'success':![],'message':_0x54d7bb(0x181)+_0x11f6f4['message']},_0x99728f[_0x54d7bb(0x109)]);}}}}}}}}}}}async[a0_0xc4dfcc(0x144)](){const _0x439b16=a0_0xc4dfcc;try{const _0x47d453=await this[_0x439b16(0xee)](setup['SYSTEM_DP_MODE']);_0x47d453&&_0x47d453[_0x439b16(0x11a)]&&Object['values'](setup['SYSTEM_MODES'])[_0x439b16(0x14b)](_0x47d453[_0x439b16(0x11a)])?this[_0x439b16(0x1ab)]=_0x47d453[_0x439b16(0x11a)]:(this[_0x439b16(0x1ab)]=setup[_0x439b16(0xf6)][_0x439b16(0x147)],await this[_0x439b16(0xf0)](setup[_0x439b16(0x18e)],{'val':setup[_0x439b16(0xf6)]['NORMAL'],'ack':!![]}));}catch(_0x285486){this[_0x439b16(0x1ab)]=setup['SYSTEM_MODES'][_0x439b16(0x147)];}}async['checkWifiPresence'](){const _0x283008=a0_0xc4dfcc;try{const _0x3da340=this[_0x283008(0x1ac)][_0x283008(0x174)]||[];let _0x35619e=![];const _0x1e4d46=[];for(const _0x39fde6 of _0x3da340){try{const _0x476f34=await this[_0x283008(0x19f)](_0x39fde6);_0x476f34&&(_0x476f34['val']===!![]||_0x476f34[_0x283008(0x11a)]===_0x283008(0x177)||_0x476f34[_0x283008(0x11a)]===0x1)&&(_0x35619e=!![],_0x1e4d46[_0x283008(0x155)](_0x39fde6));}catch(_0x14cedd){}}return await this[_0x283008(0xf0)]('system.presenceWho',{'val':_0x1e4d46[_0x283008(0xdd)](',\x20'),'ack':!![]}),_0x35619e&&(this[_0x283008(0x1aa)]&&(this[_0x283008(0xd8)]['info'](_0x283008(0xd1)),recorder['abortExitTimer'](this)),!this[_0x283008(0xef)]&&this['currentSystemMode']===setup[_0x283008(0xf6)][_0x283008(0x147)]&&await recorder[_0x283008(0x166)](this,!![])),_0x35619e;}catch(_0x472847){return![];}}async[a0_0xc4dfcc(0x12d)](){const _0x8005a0=a0_0xc4dfcc;this['log'][_0x8005a0(0x142)](_0x8005a0(0x124)),await aiAgent[_0x8005a0(0x117)](this),this[_0x8005a0(0x133)](),this[_0x8005a0(0x17c)](),this[_0x8005a0(0x114)]();}[a0_0xc4dfcc(0x17c)](){const _0x1a9c17=a0_0xc4dfcc;if(!this[_0x1a9c17(0x107)])return;try{this[_0x1a9c17(0x183)]('LTM.trainingData.sequences',(_0x330faa,_0x21ba67)=>{const _0x4fe991=_0x1a9c17;_0x21ba67&&_0x21ba67['val']&&pythonBridge[_0x4fe991(0x129)](this,_0x4fe991(0x110),{'sequences':JSON[_0x4fe991(0xec)](_0x21ba67[_0x4fe991(0x11a)])});});}catch(_0x45340b){}}async[a0_0xc4dfcc(0x114)](){const _0x1fd631=a0_0xc4dfcc;if(!this[_0x1fd631(0x107)])return;try{const _0x5e2d3d=await recorder[_0x1fd631(0x16e)](this);if(_0x5e2d3d===null)return;const _0x42b8b0={},_0x1812fe=this[_0x1fd631(0x1ac)][_0x1fd631(0x17b)]||[];for(const _0x174f87 of _0x1812fe){if(_0x174f87[_0x1fd631(0xfd)]===_0x1fd631(0x116)&&_0x174f87['location']){const _0xdd4d25=this[_0x1fd631(0x168)][_0x174f87['id']];if(_0xdd4d25!==undefined)_0x42b8b0[_0x174f87['location']]=_0xdd4d25;}}Object[_0x1fd631(0x180)](_0x42b8b0)[_0x1fd631(0x184)]>0x0&&pythonBridge['send'](this,'PREDICT_ENERGY',{'current_temps':_0x42b8b0,'t_out':_0x5e2d3d});}catch(_0x4b0ed7){}}[a0_0xc4dfcc(0x133)](){const _0x87e6fe=a0_0xc4dfcc;if(!this[_0x87e6fe(0xd9)]||this[_0x87e6fe(0xd9)]['length']===0x0)return;const _0x1f31b3=new Array(0x60)['fill'](0x0),_0x4554d6=new Date()[_0x87e6fe(0x134)](0x0,0x0,0x0,0x0);this[_0x87e6fe(0xd9)][_0x87e6fe(0x172)](_0x447748=>{const _0x38c3e2=_0x87e6fe,_0x318027=new Date(_0x447748[_0x38c3e2(0x16c)]);if(_0x318027['getTime']()>=_0x4554d6){const _0x189edc=_0x318027[_0x38c3e2(0x193)](),_0xecefe7=_0x318027[_0x38c3e2(0x167)](),_0x3da367=_0x189edc*0x4+Math[_0x38c3e2(0xce)](_0xecefe7/0xf);if(_0x3da367>=0x0&&_0x3da367<0x60)_0x1f31b3[_0x3da367]++;}}),this[_0x87e6fe(0xf0)](_0x87e6fe(0x108),{'val':JSON[_0x87e6fe(0x100)](_0x1f31b3),'ack':!![]});}['runPythonHealthCheck'](){const _0x4709d2=a0_0xc4dfcc;if(!this['dailyDigests']||this[_0x4709d2(0x145)][_0x4709d2(0x184)]<0x2)return;const _0x25d820=this[_0x4709d2(0x145)][_0x4709d2(0x159)](_0x1e438d=>{const _0x672ee3=_0x4709d2,_0x5cca95=(_0x1e438d[_0x672ee3(0xe7)]||'')[_0x672ee3(0x141)]();return ACTIVITY_LEVEL_MAP[_0x5cca95]||0x32;});pythonBridge['send'](this,_0x4709d2(0x186),{'values':_0x25d820,'tag':_0x4709d2(0x128)});}}if(require['main']!==module)module[a0_0xc4dfcc(0x1a5)]=_0xb60254=>new CogniLiving(_0xb60254);else new CogniLiving();