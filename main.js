const a0_0x501e2b=a0_0x59bb;(function(_0x1aed0c,_0x124d1d){const _0x2e7dae=a0_0x59bb,_0x1a1adf=_0x1aed0c();while(!![]){try{const _0x257202=-parseInt(_0x2e7dae(0x184))/0x1*(parseInt(_0x2e7dae(0x18f))/0x2)+-parseInt(_0x2e7dae(0x1e2))/0x3+-parseInt(_0x2e7dae(0x1b1))/0x4+-parseInt(_0x2e7dae(0x22b))/0x5*(parseInt(_0x2e7dae(0x1e9))/0x6)+-parseInt(_0x2e7dae(0x1fb))/0x7*(parseInt(_0x2e7dae(0x26e))/0x8)+-parseInt(_0x2e7dae(0x245))/0x9+-parseInt(_0x2e7dae(0x26c))/0xa*(-parseInt(_0x2e7dae(0x192))/0xb);if(_0x257202===_0x124d1d)break;else _0x1a1adf['push'](_0x1a1adf['shift']());}catch(_0x59efbf){_0x1a1adf['push'](_0x1a1adf['shift']());}}}(a0_0x4687,0x652df));function a0_0x4687(){const _0x354a31=['199792FPcVyC','analysis.training.triggerComfort','updateHealthVector','ANALYZE_TREND','stopService','clear','setupLtmScheduler','join','getState','cancel','find','./lib/ai_agent','SET_TOPOLOGY','Reinforcement\x20Learning\x20Penalties','analysis.trigger','enum.rooms.*','exitGraceTimer','./lib/recorder','geminiApiKey','ready','scanThermostats','entries','includes','unload','getHours','daswetter.0','rawEventLog','stringify','send','push','getOverviewData','timestamp','split','.data.table','SET_LEARNING_MODE','analysis.training.triggerTopology','Notification\x20Test\x20Failed:\x20','executeAutomationAction','Key\x20not\x20found\x20or\x20not\x20provided','minDaysForBaseline','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','presenceDevices','9314BQQVEj','SYSTEM_MODES','(((.+)+)+)+$','analysis.automation.patternDetected','guest','NORMAL','scanDevices','getForeignStateAsync','cleanupGhostInterventions','trackerHeartbeat','modeResetJob','34TXiZNj','TRAIN_COMFORT','Instanz\x20nicht\x20gefunden','26070fuNSir','analysis.energy.insulationScore','Party\x20Mode','system.presenceWho','useWeather','@iobroker/adapter-core','weatherunderground.0','analysisTimer','message','analysis.automation.autoApply','location','matrix','systemConfig','./lib/topology','getForeignObjectAsync','LTM.baselineStatus','TRAIN_ENERGY','isPresent','setupDriftAnalysisScheduler','exports','ltmJob','now','onReady','analysis.automation.description','Gemini\x20Init\x20Error:\x20','analysis.security.learningStatus','triggerGaitAnalysis','checkCalendarTriggers','Fehler:\x20','eventHistory','./lib/dead_man','550484xFuaEg','getForeignObjectsAsync','PREDICT_ENERGY','simulateEnergyMPC','info','devices','driftAnalysisTimer','setHours','dailyDigests','isProVersion','briefingJob','PYTHON_EXE','initHistory','startService','Lernphase\x20(',')\x20-\x20Phase\x20D\x20(Evolution)','analysis.training.triggerHealth','./lib/python_bridge','getMinutes','Kein\x20Kalender-Adapter','val','./lib/installer','analysis.training.triggerEnergy','checkLicense','geminiModel','communicate.request','isGracePeriodActive','startSystem','type','version','Active\x20Ventilation\x20Alerts','getStateAsync','setStateAsync','calendarInstance','Verbunden','onStateChange','abs','checkWifiPresence','Keine\x20Antwort\x20von\x20Gemini','createAllObjects','error','log','online','scanForDevices','checkAndInstall','runBaselineDriftAnalysis','_calName','namespace','runPythonHealthCheck','2248323EqlvEW','loadSystemMode','Gemini\x20AI\x20initialized.','TRAIN_HEALTH','resetRLPenalty','Standard','notifyTelegramEnabled','6MPpgOb','Gesendet','bind','LTM.dailyDigests','system.adapter.','TRACK_EVENT','subscribeForeignStatesAsync','initSystemConfig','LTM.trainingData.thermodynamics','enum.functions.*','updateTopology','triggerEnergyPrediction','Warm-Up\x20Target\x20Temps\x20(JSON)','isArray','sendTo','activityLevel','search','state','182HuGeOE','getGenerativeModel','@google/generative-ai','VACATION','sendNotification','triggerDailyDigest','.communicate.request','sensorLastValues','callback','\x20Tage)','string','analysis.energy.warmupTargets','floor','object','from','lastAlertState','parse','runAutopilot','initZombies','trackerEnabled','temperature','processSensorEvent','LTM.rawEventLog','analysis.automation.targetValue','analysis.energy.pinnForecast','lastTrackerEventTime','config','analysisHistory','updateLocation','updated','instance','add','checkThermostats','isSolar','Sec-Training\x20started...','text','analysis.energy.mpcActive','values','./lib/scheduler','constructor','length','getTime','setupModeResetScheduler','runGeminiAnalysis','analysis.automation.targetId','analysis.training.triggerSecurity','exitTimer','ack','1183535EUAbzP','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','sort','checkSolarCondition','testContext','Kein\x20Wetter-Adapter','PINN\x20AI\x20Forecast','minutes_safe','analysis.topology.structure','command','testApiKey','currentSystemMode','licenseKey','dismissAutomation','analysis.energy.rlPenalties','abortExitTimer','slice','fill','inactivityThresholdHours','getOutsideTemperatureNumeric','Activity-Level','sendMorningBriefing','forEach','getEnums','Kein\x20API\x20Key\x20Ã¼bergeben','toString','5933682uRzIHu','genAI','common','setObjectNotExistsAsync','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','klar','debug','triggerBriefing','name','setState','party','enum','pop','keys','toLowerCase','testNotification','Adapter','createDailyDigest','WiFi\x20Presence\x20detected.','{\x22default\x22:\x2021}','sunny','subscribeStates','setupBriefingScheduler','LTM.trainingData.sequences','Simulation\x20durch\x20Admin\x20(Test)','system.mode','onMessage','ANALYZE_GAIT','./lib/automation','json','automation.triggerAction','cogni-living','Daten\x20nicht\x20verfÃ¼gbar','notifyTelegramInstance','some','generateContent','LTM.triggerDailyDigest','manual','thermostat','12680BxKEKG','SYSTEM_DP_MODE'];a0_0x4687=function(){return _0x354a31;};return a0_0x4687();}const a0_0x3da8ab=(function(){let _0x1226b5=!![];return function(_0x50d617,_0x5acdb5){const _0x37dc4d=_0x1226b5?function(){if(_0x5acdb5){const _0x58968f=_0x5acdb5['apply'](_0x50d617,arguments);return _0x5acdb5=null,_0x58968f;}}:function(){};return _0x1226b5=![],_0x37dc4d;};}()),a0_0x2aff5e=a0_0x3da8ab(this,function(){const _0x1f9100=a0_0x59bb;return a0_0x2aff5e['toString']()[_0x1f9100(0x1f9)](_0x1f9100(0x186))[_0x1f9100(0x244)]()[_0x1f9100(0x222)](a0_0x2aff5e)[_0x1f9100(0x1f9)]('(((.+)+)+)+$');});a0_0x2aff5e();'use strict';const utils=require(a0_0x501e2b(0x197)),{GoogleGenerativeAI}=require(a0_0x501e2b(0x1fd)),installer=require(a0_0x501e2b(0x1c6)),scanner=require('./lib/scanner'),schedulers=require(a0_0x501e2b(0x221)),topology=require(a0_0x501e2b(0x19f)),setup=require('./lib/setup'),recorder=require(a0_0x501e2b(0x16b)),pythonBridge=require(a0_0x501e2b(0x1c2)),aiAgent=require(a0_0x501e2b(0x165)),deadMan=require(a0_0x501e2b(0x1b0)),automation=require(a0_0x501e2b(0x261)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x501e2b(0x255)]{constructor(_0x14c713){const _0x372c49=a0_0x501e2b;super({..._0x14c713,'name':_0x372c49(0x264)}),this[_0x372c49(0x1af)]=[],this[_0x372c49(0x216)]=[],this[_0x372c49(0x174)]=[],this[_0x372c49(0x1b9)]=[],this['sensorLastValues']={},this[_0x372c49(0x19e)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x372c49(0x1a3)]=!![],this[_0x372c49(0x229)]=null,this[_0x372c49(0x16a)]=null,this[_0x372c49(0x1cb)]=![],this[_0x372c49(0x246)]=null,this[_0x372c49(0x1c9)]=null,this[_0x372c49(0x236)]=setup[_0x372c49(0x185)][_0x372c49(0x189)],this[_0x372c49(0x1ba)]=![],this[_0x372c49(0x20a)]=![],this[_0x372c49(0x199)]=null,this[_0x372c49(0x1a6)]=null,this[_0x372c49(0x18e)]=null,this[_0x372c49(0x1b7)]=null,this[_0x372c49(0x1bb)]=null,this['dependencyInstallInProgress']=![],this[_0x372c49(0x18d)]=null,this['lastTrackerEventTime']=Date['now'](),this['on'](_0x372c49(0x16d),this[_0x372c49(0x1a8)]['bind'](this)),this['on']('stateChange',this['onStateChange'][_0x372c49(0x1eb)](this)),this['on'](_0x372c49(0x171),this['onUnload'][_0x372c49(0x1eb)](this)),this['on'](_0x372c49(0x19a),this[_0x372c49(0x25f)][_0x372c49(0x1eb)](this));}async[a0_0x501e2b(0x1a8)](){const _0x1846a8=a0_0x501e2b;this['log'][_0x1846a8(0x1b5)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x1846a8(0x1ce)]+_0x1846a8(0x1c0));if(!installer[_0x1846a8(0x1dd)](this,()=>this['startSystem']()))return;}async[a0_0x501e2b(0x1cc)](){const _0x596967=a0_0x501e2b;await setup[_0x596967(0x20d)](this);try{this[_0x596967(0x1ba)]=await setup[_0x596967(0x1c8)](this['config'][_0x596967(0x237)]);}catch(_0x1eb62d){}if(!this[_0x596967(0x215)]['inactivityThresholdHours']||this[_0x596967(0x215)][_0x596967(0x23d)]<0.1)this['config'][_0x596967(0x23d)]=0xc;await setup[_0x596967(0x1bd)](this),await setup[_0x596967(0x1f0)](this);if(this[_0x596967(0x215)]['geminiApiKey'])try{this['genAI']=new GoogleGenerativeAI(this[_0x596967(0x215)][_0x596967(0x16c)]),this['geminiModel']=this[_0x596967(0x246)][_0x596967(0x1fc)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this[_0x596967(0x1da)][_0x596967(0x1b5)](_0x596967(0x1e4));}catch(_0x28ff7d){this[_0x596967(0x1da)][_0x596967(0x1d9)](_0x596967(0x1aa)+_0x28ff7d[_0x596967(0x19a)]);}await setup[_0x596967(0x1d8)](this),await this[_0x596967(0x1e3)](),await this[_0x596967(0x248)](_0x596967(0x213),{'type':'state','common':{'name':_0x596967(0x231),'type':_0x596967(0x205),'role':_0x596967(0x262),'read':!![],'write':![]},'native':{}}),await this[_0x596967(0x248)]('analysis.energy.ventilationAlerts',{'type':_0x596967(0x1fa),'common':{'name':_0x596967(0x1cf),'type':'string','role':_0x596967(0x262),'read':!![],'write':![]},'native':{}}),await this[_0x596967(0x248)]('analysis.energy.warmupTimes',{'type':'state','common':{'name':_0x596967(0x22c),'type':_0x596967(0x205),'role':_0x596967(0x262),'read':!![],'write':![]},'native':{}}),await this[_0x596967(0x248)](_0x596967(0x206),{'type':_0x596967(0x1fa),'common':{'name':_0x596967(0x1f5),'type':_0x596967(0x205),'role':_0x596967(0x262),'read':!![],'write':!![],'def':_0x596967(0x258)},'native':{}}),await this[_0x596967(0x248)]('analysis.energy.rlPenalties',{'type':_0x596967(0x1fa),'common':{'name':_0x596967(0x167),'type':_0x596967(0x205),'role':_0x596967(0x262),'read':!![],'write':![],'def':'{}'},'native':{}});try{const _0x3a3225=await this[_0x596967(0x1d0)](_0x596967(0x211));if(_0x3a3225&&_0x3a3225[_0x596967(0x1c5)])this[_0x596967(0x174)]=JSON[_0x596967(0x20b)](_0x3a3225[_0x596967(0x1c5)]);}catch(_0x542603){this[_0x596967(0x174)]=[];}try{const _0x53f83=await this['getStateAsync'](_0x596967(0x1ec));if(_0x53f83&&_0x53f83[_0x596967(0x1c5)])this[_0x596967(0x1b9)]=JSON['parse'](_0x53f83[_0x596967(0x1c5)]);}catch(_0x2502da){this['dailyDigests']=[];}const _0x3502f7=this['dailyDigests'][_0x596967(0x223)]>=(this[_0x596967(0x215)][_0x596967(0x181)]||0x7)?'Aktiv\x20('+this['dailyDigests']['length']+_0x596967(0x204):_0x596967(0x1bf)+this['dailyDigests'][_0x596967(0x223)]+'/'+(this[_0x596967(0x215)][_0x596967(0x181)]||0x7)+')';await this['setStateAsync'](_0x596967(0x1a1),{'val':_0x3502f7,'ack':!![]}),this[_0x596967(0x25a)](_0x596967(0x168)),this[_0x596967(0x25a)](_0x596967(0x269)),this[_0x596967(0x25a)](_0x596967(0x25e)),this[_0x596967(0x25a)]('analysis.triggerBriefing'),this[_0x596967(0x25a)]('analysis.automation.triggerAction'),this['subscribeStates'](_0x596967(0x19b)),this[_0x596967(0x25a)](_0x596967(0x228)),this[_0x596967(0x25a)](_0x596967(0x1c1)),this[_0x596967(0x25a)](_0x596967(0x1c7)),this['subscribeStates']('analysis.training.triggerComfort'),this[_0x596967(0x25a)](_0x596967(0x17d)),this['subscribeStates'](_0x596967(0x21f));const _0x1be777=this[_0x596967(0x215)]['devices'];if(_0x1be777)for(const _0x5427a9 of _0x1be777){await this[_0x596967(0x1ef)](_0x5427a9['id']);}const _0x39bdc9=this['config'][_0x596967(0x183)];if(_0x39bdc9)for(const _0x1823cf of _0x39bdc9){await this[_0x596967(0x1ef)](_0x1823cf);}if(this['config'][_0x596967(0x1e8)]&&this[_0x596967(0x215)][_0x596967(0x266)])await this[_0x596967(0x1ef)](this[_0x596967(0x215)]['notifyTelegramInstance']+_0x596967(0x201));setTimeout(()=>this[_0x596967(0x1d6)](),0x1388);if(this[_0x596967(0x199)])clearInterval(this[_0x596967(0x199)]);const _0x4314ea=this[_0x596967(0x215)]['analysisInterval']||0xf;_0x4314ea>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x1b982d=_0x596967;this[_0x1b982d(0x20c)](),automation[_0x1b982d(0x1ad)](this);},_0x4314ea*0x3c*0x3e8)),setTimeout(()=>automation[_0x596967(0x1ad)](this),0x2710),this[_0x596967(0x215)][_0x596967(0x20e)]!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0x4f7cc1=_0x596967;if(this[_0x4f7cc1(0x1ba)]){const _0x17bc2f=Date[_0x4f7cc1(0x1a7)](),_0x1d3e2c=this[_0x4f7cc1(0x214)]||_0x17bc2f,_0x2762c3=(_0x17bc2f-_0x1d3e2c)/0x3e8;_0x2762c3>0x2&&(this['lastTrackerEventTime']=_0x17bc2f,pythonBridge[_0x4f7cc1(0x176)](this,_0x4f7cc1(0x1ee),{'room':null,'dt':_0x2762c3}));}},0xbb8)),schedulers[_0x596967(0x160)](this,()=>aiAgent[_0x596967(0x256)](this,pythonBridge)),schedulers[_0x596967(0x225)](this),schedulers[_0x596967(0x1a4)](this,()=>aiAgent[_0x596967(0x1de)](this)),schedulers[_0x596967(0x25b)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x596967(0x1be)](this,installer[_0x596967(0x1bc)]),setTimeout(async()=>{const _0xf1ed4e=_0x596967;await topology[_0xf1ed4e(0x1f3)](this);try{const _0x3c8f6f=await this[_0xf1ed4e(0x1d0)](_0xf1ed4e(0x233));if(_0x3c8f6f&&_0x3c8f6f[_0xf1ed4e(0x1c5)])pythonBridge[_0xf1ed4e(0x176)](this,_0xf1ed4e(0x166),JSON[_0xf1ed4e(0x20b)](_0x3c8f6f[_0xf1ed4e(0x1c5)]));}catch(_0x208e08){}this[_0xf1ed4e(0x1e1)](),this[_0xf1ed4e(0x1ac)](),this['triggerEnergyPrediction'](),this[_0xf1ed4e(0x15c)]();},0x1388);}['onUnload'](_0x3663bf){const _0xe3a204=a0_0x501e2b;if(this[_0xe3a204(0x199)])clearInterval(this[_0xe3a204(0x199)]);if(this[_0xe3a204(0x1b7)])clearInterval(this[_0xe3a204(0x1b7)]);if(this[_0xe3a204(0x18d)])clearInterval(this[_0xe3a204(0x18d)]);if(this['ltmJob'])this[_0xe3a204(0x1a6)][_0xe3a204(0x163)]();if(this[_0xe3a204(0x18e)])this['modeResetJob'][_0xe3a204(0x163)]();if(this['briefingJob'])this[_0xe3a204(0x1bb)][_0xe3a204(0x163)]();recorder[_0xe3a204(0x23a)](this),pythonBridge[_0xe3a204(0x15e)](this),_0x3663bf();}async[a0_0x501e2b(0x1d4)](_0x48f69e,_0x326f30){const _0x3c9574=a0_0x501e2b;if(!_0x326f30||this['dependencyInstallInProgress'])return;if(_0x48f69e[_0x3c9574(0x170)]('telegram')&&_0x48f69e['endsWith'](_0x3c9574(0x1ca))&&_0x326f30[_0x3c9574(0x1c5)])return;if(_0x48f69e===this[_0x3c9574(0x1e0)]+'.system.mode'){if(_0x326f30[_0x3c9574(0x1c5)]&&Object[_0x3c9574(0x220)](setup[_0x3c9574(0x185)])[_0x3c9574(0x170)](_0x326f30[_0x3c9574(0x1c5)])){this[_0x3c9574(0x236)]=_0x326f30['val'];if(_0x326f30[_0x3c9574(0x1c5)]===setup[_0x3c9574(0x185)][_0x3c9574(0x1fe)])await recorder['setPresence'](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x3c9574(0x1ba)]){let _0x42262a=![],_0x2f3ded=0x0,_0x2854ef=_0x3c9574(0x26a);if(this[_0x3c9574(0x236)]===_0x3c9574(0x24f))_0x42262a=!![],_0x2f3ded=0x168,_0x2854ef=_0x3c9574(0x194);else this[_0x3c9574(0x236)]===_0x3c9574(0x188)&&(_0x42262a=!![],_0x2f3ded=0x5a0,_0x2854ef='Guest\x20Mode');pythonBridge['send'](this,_0x3c9574(0x17c),{'active':_0x42262a,'duration':_0x2f3ded,'label':_0x2854ef}),await this[_0x3c9574(0x1d1)](_0x3c9574(0x1ab),{'val':JSON[_0x3c9574(0x175)]({'active':_0x42262a,'label':_0x2854ef,'timestamp':Date[_0x3c9574(0x1a7)]()}),'ack':!![]});}}if(!_0x326f30[_0x3c9574(0x22a)])this[_0x3c9574(0x24e)](_0x48f69e,{'val':this[_0x3c9574(0x236)],'ack':!![]});return;}if(!_0x326f30['ack']){if(_0x48f69e[_0x3c9574(0x170)]('analysis.trigger')&&_0x326f30['val']){this[_0x3c9574(0x24e)](_0x48f69e,{'val':![],'ack':!![]}),aiAgent[_0x3c9574(0x226)](this);return;}if(_0x48f69e[_0x3c9574(0x170)](_0x3c9574(0x200))&&_0x326f30[_0x3c9574(0x1c5)]){this[_0x3c9574(0x24e)](_0x48f69e,{'val':![],'ack':!![]});if(this[_0x3c9574(0x1ba)])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x48f69e['includes'](_0x3c9574(0x24c))&&_0x326f30['val']){this['setState'](_0x48f69e,{'val':![],'ack':!![]}),aiAgent[_0x3c9574(0x240)](this);return;}if(_0x48f69e[_0x3c9574(0x170)](_0x3c9574(0x263))&&_0x326f30[_0x3c9574(0x1c5)]){this[_0x3c9574(0x24e)](_0x48f69e,{'val':![],'ack':!![]}),aiAgent[_0x3c9574(0x17f)](this);return;}if(_0x48f69e[_0x3c9574(0x170)]('analysis.training.triggerSecurity')&&_0x326f30[_0x3c9574(0x1c5)]){this[_0x3c9574(0x24e)](_0x48f69e,{'val':![],'ack':!![]});if(this[_0x3c9574(0x1ba)])try{const _0x1c34eb=await this[_0x3c9574(0x1d0)]('LTM.trainingData.sequences');if(_0x1c34eb&&_0x1c34eb[_0x3c9574(0x1c5)]){const _0x58bb3a=JSON['parse'](_0x1c34eb[_0x3c9574(0x1c5)]);this[_0x3c9574(0x1d1)]('analysis.training.status',{'val':_0x3c9574(0x21d),'ack':!![]}),pythonBridge[_0x3c9574(0x176)](this,'TRAIN_SECURITY',{'sequences':_0x58bb3a});}}catch(_0x11018d){}return;}if(_0x48f69e[_0x3c9574(0x170)](_0x3c9574(0x1c1))&&_0x326f30['val']){this[_0x3c9574(0x24e)](_0x48f69e,{'val':![],'ack':!![]});if(this[_0x3c9574(0x1ba)])try{const _0x39b7d8=await this[_0x3c9574(0x1d0)](_0x3c9574(0x1ec));if(_0x39b7d8&&_0x39b7d8['val'])pythonBridge[_0x3c9574(0x176)](this,_0x3c9574(0x1e5),{'digests':JSON[_0x3c9574(0x20b)](_0x39b7d8['val'])});}catch(_0x5d2367){}return;}if(_0x48f69e[_0x3c9574(0x170)](_0x3c9574(0x1c7))&&_0x326f30[_0x3c9574(0x1c5)]){this[_0x3c9574(0x24e)](_0x48f69e,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x178332=await this[_0x3c9574(0x1d0)](_0x3c9574(0x1f1));if(_0x178332&&_0x178332['val'])pythonBridge['send'](this,_0x3c9574(0x1a2),{'points':JSON[_0x3c9574(0x20b)](_0x178332[_0x3c9574(0x1c5)])});}catch(_0x3c0143){}return;}if(_0x48f69e['includes'](_0x3c9574(0x15b))&&_0x326f30[_0x3c9574(0x1c5)]){this[_0x3c9574(0x24e)](_0x48f69e,{'val':![],'ack':!![]});if(this[_0x3c9574(0x1ba)])try{const _0x1e3e47=await this[_0x3c9574(0x1d0)]('LTM.rawEventLog');if(_0x1e3e47&&_0x1e3e47[_0x3c9574(0x1c5)])pythonBridge[_0x3c9574(0x176)](this,_0x3c9574(0x190),{'events':JSON[_0x3c9574(0x20b)](_0x1e3e47[_0x3c9574(0x1c5)])});}catch(_0x4a13af){}return;}if(_0x48f69e[_0x3c9574(0x170)](_0x3c9574(0x17d))&&_0x326f30[_0x3c9574(0x1c5)]){this[_0x3c9574(0x24e)](_0x48f69e,{'val':![],'ack':!![]}),topology[_0x3c9574(0x1f3)](this);return;}}if(this['config'][_0x3c9574(0x183)]&&this[_0x3c9574(0x215)][_0x3c9574(0x183)][_0x3c9574(0x170)](_0x48f69e)){await this[_0x3c9574(0x1d6)]();return;}const _0x4f5b13=(this[_0x3c9574(0x215)][_0x3c9574(0x1b6)]||[])[_0x3c9574(0x164)](_0x40fc11=>_0x40fc11['id']===_0x48f69e);if(_0x4f5b13){const _0x224f97=await recorder[_0x3c9574(0x210)](this,_0x48f69e,_0x326f30,_0x4f5b13);_0x224f97&&_0x224f97[_0x3c9574(0x1cd)]==='motion'&&_0x224f97[_0x3c9574(0x19c)]&&this[_0x3c9574(0x1ba)]&&deadMan[_0x3c9574(0x217)](this,_0x224f97[_0x3c9574(0x19c)]),(_0x4f5b13['type']==='temperature'||_0x4f5b13[_0x3c9574(0x1cd)]===_0x3c9574(0x26b))&&automation[_0x3c9574(0x18c)](this);}}async[a0_0x501e2b(0x25f)](_0x3602f4){const _0x2f23e9=a0_0x501e2b;if(typeof _0x3602f4===_0x2f23e9(0x208)&&_0x3602f4['message']){if(_0x3602f4[_0x2f23e9(0x234)]===_0x2f23e9(0x21b))try{const _0x22fea2=await automation[_0x2f23e9(0x16e)](this);this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':!![],'results':_0x22fea2},_0x3602f4[_0x2f23e9(0x203)]);}catch(_0x1d8c4c){this['sendTo'](_0x3602f4['from'],_0x3602f4[_0x2f23e9(0x234)],{'success':![],'error':_0x1d8c4c[_0x2f23e9(0x19a)]},_0x3602f4[_0x2f23e9(0x203)]);}else{if(_0x3602f4['command']===_0x2f23e9(0x1b4))try{const {current_temps:_0x82e869,t_out:_0x4aa151,targets:_0x3d73c5,t_forecast:_0x36d17b}=_0x3602f4['message'],_0x269358=[];let _0x4e9b82={};try{const _0x67bf1c=await this[_0x2f23e9(0x1d0)](_0x2f23e9(0x193));if(_0x67bf1c&&_0x67bf1c[_0x2f23e9(0x1c5)]){const _0x16c94d=JSON[_0x2f23e9(0x20b)](_0x67bf1c[_0x2f23e9(0x1c5)]);_0x4e9b82=_0x16c94d['scores']||_0x16c94d;}}catch(_0x4e9380){}const _0x4266bc=_0x36d17b!==undefined&&_0x36d17b!==null?(_0x4aa151+_0x36d17b)/0x2:_0x4aa151;for(const [_0x15e756,_0x25925b]of Object[_0x2f23e9(0x16f)](_0x82e869)){const _0x2c31b9=_0x3d73c5[_0x15e756]||0x15;if(_0x25925b<=_0x2c31b9)continue;let _0x561509=_0x4e9b82[_0x15e756]||-0.5;if(_0x561509>=0x0)_0x561509=-0.5;const _0x80156e=Math[_0x2f23e9(0x1d5)](_0x561509),_0x243f1a=_0x25925b-_0x2c31b9;let _0x1d5d06=Math[_0x2f23e9(0x207)](_0x243f1a/_0x80156e*0x3c);const _0x10fad0=_0x25925b-_0x4aa151,_0x34fde6=_0x25925b-_0x4266bc;if(_0x34fde6!==0x0&&_0x10fad0!==0x0){const _0x143794=_0x10fad0/_0x34fde6;_0x1d5d06=Math[_0x2f23e9(0x207)](_0x1d5d06*_0x143794);}if(_0x1d5d06>0xf){if(_0x1d5d06>0xf0)_0x1d5d06=0xf0;_0x269358[_0x2f23e9(0x177)]({'room':_0x15e756,'minutes_safe':_0x1d5d06,'target':_0x2c31b9,'current':_0x25925b,'savings_msg':'Heizung\x20kann\x20'+_0x1d5d06+'\x20min\x20ausbleiben.'});}}_0x269358[_0x2f23e9(0x22d)]((_0x11593a,_0x9b6c56)=>_0x9b6c56[_0x2f23e9(0x232)]-_0x11593a[_0x2f23e9(0x232)]),this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':!![],'proposals':_0x269358},_0x3602f4[_0x2f23e9(0x203)]);}catch(_0xa7c861){this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4['command'],{'success':![],'error':_0xa7c861[_0x2f23e9(0x19a)]},_0x3602f4['callback']);}else{if(_0x3602f4[_0x2f23e9(0x234)]===_0x2f23e9(0x1e6))try{const _0x5b5cd7=_0x3602f4[_0x2f23e9(0x19a)]['key'],_0x54b078=_0x2f23e9(0x239),_0x4b9057=await this['getStateAsync'](_0x54b078);let _0x56832f={};if(_0x4b9057&&_0x4b9057[_0x2f23e9(0x1c5)])try{_0x56832f=JSON[_0x2f23e9(0x20b)](_0x4b9057[_0x2f23e9(0x1c5)]);}catch(_0xe86cea){}_0x5b5cd7&&_0x56832f[_0x5b5cd7]?(delete _0x56832f[_0x5b5cd7],await this[_0x2f23e9(0x1d1)](_0x54b078,{'val':JSON['stringify'](_0x56832f),'ack':!![]}),this[_0x2f23e9(0x1da)][_0x2f23e9(0x1b5)](_0x2f23e9(0x182)+_0x5b5cd7+'\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.'),this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':!![]},_0x3602f4[_0x2f23e9(0x203)])):this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':![],'error':_0x2f23e9(0x180)},_0x3602f4[_0x2f23e9(0x203)]);}catch(_0x5c7444){this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':![],'error':_0x5c7444['message']},_0x3602f4[_0x2f23e9(0x203)]);}else{if(_0x3602f4[_0x2f23e9(0x234)]===_0x2f23e9(0x238))await this[_0x2f23e9(0x1d1)](_0x2f23e9(0x187),{'val':![],'ack':!![]}),await this['setStateAsync'](_0x2f23e9(0x1a9),{'val':'','ack':!![]}),await this[_0x2f23e9(0x1d1)](_0x2f23e9(0x227),{'val':'','ack':!![]}),this['sendTo'](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':!![]},_0x3602f4[_0x2f23e9(0x203)]);else{if(_0x3602f4['command']==='simulateButler'){const {targetId:_0x195d67,targetValue:_0x2818f4}=_0x3602f4['message'];await this[_0x2f23e9(0x1d1)](_0x2f23e9(0x187),{'val':!![],'ack':!![]}),await this[_0x2f23e9(0x1d1)](_0x2f23e9(0x1a9),{'val':_0x2f23e9(0x25d),'ack':!![]}),await this['setStateAsync']('analysis.automation.targetId',{'val':_0x195d67,'ack':!![]}),await this[_0x2f23e9(0x1d1)]('analysis.automation.targetValue',{'val':String(_0x2818f4),'ack':!![]}),this[_0x2f23e9(0x1f7)](_0x3602f4['from'],_0x3602f4[_0x2f23e9(0x234)],{'success':!![]},_0x3602f4['callback']);}else{if(_0x3602f4[_0x2f23e9(0x234)]===_0x2f23e9(0x235))try{const _0x3c43ce=_0x3602f4[_0x2f23e9(0x19a)]['apiKey'];if(!_0x3c43ce)throw new Error(_0x2f23e9(0x243));const _0xddccf0=new GoogleGenerativeAI(_0x3c43ce),_0x5ce50f=_0xddccf0['getGenerativeModel']({'model':GEMINI_MODEL}),_0x4b4813=await _0x5ce50f[_0x2f23e9(0x268)]('Test'),_0x471bf8=await _0x4b4813['response'];if(_0x471bf8[_0x2f23e9(0x21e)]())this[_0x2f23e9(0x1f7)](_0x3602f4['from'],_0x3602f4[_0x2f23e9(0x234)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x3602f4[_0x2f23e9(0x203)]);else throw new Error(_0x2f23e9(0x1d7));}catch(_0x3f79c7){this['sendTo'](_0x3602f4['from'],_0x3602f4[_0x2f23e9(0x234)],{'success':![],'message':_0x3f79c7['message']},_0x3602f4[_0x2f23e9(0x203)]);}else{if(_0x3602f4[_0x2f23e9(0x234)]===_0x2f23e9(0x18a))try{const _0x56c959=await scanner[_0x2f23e9(0x1dc)](this,_0x3602f4[_0x2f23e9(0x19a)]||{});this['sendTo'](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':!![],'devices':_0x56c959},_0x3602f4[_0x2f23e9(0x203)]);}catch(_0x30b921){this[_0x2f23e9(0x1f7)](_0x3602f4['from'],_0x3602f4[_0x2f23e9(0x234)],{'success':![],'error':_0x30b921[_0x2f23e9(0x19a)]},_0x3602f4[_0x2f23e9(0x203)]);}else{if(_0x3602f4[_0x2f23e9(0x234)]==='updateTopologyMatrix')try{const {matrix:_0x2aa0b2}=_0x3602f4['message'],_0x3a56be=await this[_0x2f23e9(0x1d0)](_0x2f23e9(0x233));if(_0x3a56be&&_0x3a56be[_0x2f23e9(0x1c5)]){const _0x26bc47=JSON[_0x2f23e9(0x20b)](_0x3a56be[_0x2f23e9(0x1c5)]);_0x26bc47[_0x2f23e9(0x19d)]=_0x2aa0b2,_0x26bc47[_0x2f23e9(0x218)]=Date['now'](),await this[_0x2f23e9(0x1d1)](_0x2f23e9(0x233),{'val':JSON[_0x2f23e9(0x175)](_0x26bc47),'ack':!![]}),pythonBridge[_0x2f23e9(0x176)](this,_0x2f23e9(0x166),_0x26bc47);}this['sendTo'](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':!![]},_0x3602f4[_0x2f23e9(0x203)]);}catch(_0xf79177){this[_0x2f23e9(0x1da)][_0x2f23e9(0x1d9)](_0xf79177);}else{if(_0x3602f4[_0x2f23e9(0x234)]==='getLtmData')this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':!![],'dailyDigests':this[_0x2f23e9(0x1b9)]||[],'analysisHistory':this[_0x2f23e9(0x216)]||[]},_0x3602f4[_0x2f23e9(0x203)]);else{if(_0x3602f4[_0x2f23e9(0x234)]===_0x2f23e9(0x178)){const _0x4301ac=this['dailyDigests']['length'],_0x5eba31=new Array(0x18)[_0x2f23e9(0x23c)](0x0),_0x45d48b=new Date()[_0x2f23e9(0x1b8)](0x0,0x0,0x0,0x0);this[_0x2f23e9(0x1af)]&&this['eventHistory'][_0x2f23e9(0x241)](_0x5c4109=>{const _0x5aef8d=_0x2f23e9;if(_0x5c4109['timestamp']>=_0x45d48b){const _0x4128a6=new Date(_0x5c4109['timestamp'])[_0x5aef8d(0x172)]();if(_0x4128a6>=0x0&&_0x4128a6<0x18)_0x5eba31[_0x4128a6]++;}});let _0x4714bc=![],_0x360000='',_0x4163d0='',_0x33bd8b='';try{const _0x4687a2=await this[_0x2f23e9(0x1d0)]('analysis.automation.patternDetected');if(_0x4687a2&&_0x4687a2[_0x2f23e9(0x1c5)]){_0x4714bc=!![];const _0x2dd23f=await this[_0x2f23e9(0x1d0)](_0x2f23e9(0x1a9));_0x360000=_0x2dd23f?_0x2dd23f[_0x2f23e9(0x1c5)]:'';const _0x36646e=await this[_0x2f23e9(0x1d0)](_0x2f23e9(0x227));_0x4163d0=_0x36646e?_0x36646e[_0x2f23e9(0x1c5)]:'';const _0x96f9d8=await this[_0x2f23e9(0x1d0)](_0x2f23e9(0x212));_0x33bd8b=_0x96f9d8?_0x96f9d8['val']:'';}}catch(_0x1e1e1d){}const _0x1f634a=await this[_0x2f23e9(0x22e)](),_0x4d599f=(this['config'][_0x2f23e9(0x1b6)]||[])[_0x2f23e9(0x267)](_0x133c88=>_0x133c88[_0x2f23e9(0x21c)]),_0x14ff26=_0x1f634a&&_0x4d599f;this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4['command'],{'success':!![],'eventHistory':this[_0x2f23e9(0x1af)][_0x2f23e9(0x23b)](0x0,0xf),'stats':{'digestCount':_0x4301ac,'isPresent':this[_0x2f23e9(0x1a3)],'hourlyActivity':_0x5eba31,'solarActive':_0x14ff26},'automation':{'detected':_0x4714bc,'description':_0x360000,'targetId':_0x4163d0,'targetValue':_0x33bd8b}},_0x3602f4['callback']);}else{if(_0x3602f4[_0x2f23e9(0x234)]===_0x2f23e9(0x242)){const _0x4a83fc=await this[_0x2f23e9(0x1b2)](_0x2f23e9(0x1f2),_0x2f23e9(0x250)),_0x3b06ca=[];if(_0x4a83fc)for(const _0x3e7c34 in _0x4a83fc){const _0xf12222=_0x4a83fc[_0x3e7c34],_0x14ba7b=(_0xf12222[_0x2f23e9(0x247)]&&typeof _0xf12222[_0x2f23e9(0x247)]['name']===_0x2f23e9(0x208)?_0xf12222[_0x2f23e9(0x247)][_0x2f23e9(0x24d)]['de']:_0xf12222['common'][_0x2f23e9(0x24d)])||_0xf12222[_0x2f23e9(0x247)][_0x2f23e9(0x24d)];_0x3b06ca[_0x2f23e9(0x177)]({'id':_0x3e7c34,'name':_0x14ba7b});}const _0x574265=await this[_0x2f23e9(0x1b2)](_0x2f23e9(0x169),_0x2f23e9(0x250)),_0x434635=[];if(_0x574265)for(const _0x2f077c in _0x574265){const _0x5a357c=_0x574265[_0x2f077c],_0x4e8391=(_0x5a357c[_0x2f23e9(0x247)]&&typeof _0x5a357c[_0x2f23e9(0x247)]['name']===_0x2f23e9(0x208)?_0x5a357c[_0x2f23e9(0x247)][_0x2f23e9(0x24d)]['de']:_0x5a357c[_0x2f23e9(0x247)][_0x2f23e9(0x24d)])||_0x2f077c[_0x2f23e9(0x17a)]('.')[_0x2f23e9(0x251)]();_0x434635[_0x2f23e9(0x177)](_0x4e8391);}this[_0x2f23e9(0x1f7)](_0x3602f4['from'],_0x3602f4[_0x2f23e9(0x234)],{'success':!![],'enums':_0x3b06ca,'rooms':_0x434635},_0x3602f4['callback']);}else{if(_0x3602f4[_0x2f23e9(0x234)]===_0x2f23e9(0x22f))try{let _0x29bd4e=_0x2f23e9(0x230),_0x50abbb=_0x2f23e9(0x1c4);if(this[_0x2f23e9(0x215)][_0x2f23e9(0x196)]){const _0x3a7031=await recorder['getOutsideTemperatureNumeric'](this);_0x29bd4e=_0x3a7031!==null?_0x3a7031+'Â°C':_0x2f23e9(0x265);}if(this[_0x2f23e9(0x215)][_0x2f23e9(0x1d2)]){const _0x32ee5f=await this[_0x2f23e9(0x1a0)](_0x2f23e9(0x1ed)+this[_0x2f23e9(0x215)][_0x2f23e9(0x1d2)]);_0x50abbb=_0x32ee5f?_0x2f23e9(0x1d3):_0x2f23e9(0x191);}this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':!![],'weather':_0x29bd4e,'calendar':_0x50abbb},_0x3602f4['callback']);}catch(_0x5e094d){this['sendTo'](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4['command'],{'success':![],'error':_0x5e094d['message']},_0x3602f4[_0x2f23e9(0x203)]);}else{if(_0x3602f4[_0x2f23e9(0x234)]==='getCalendarNames')try{const _0x2dc60d=_0x3602f4['message'][_0x2f23e9(0x219)],_0x4dac97=await this['getForeignStateAsync'](_0x2dc60d+_0x2f23e9(0x17b));let _0x4c4f54=[];if(_0x4dac97&&_0x4dac97[_0x2f23e9(0x1c5)]){const _0x5950e2=JSON['parse'](_0x4dac97[_0x2f23e9(0x1c5)]),_0x221427=new Set();Array[_0x2f23e9(0x1f6)](_0x5950e2)&&_0x5950e2[_0x2f23e9(0x241)](_0x2635d9=>{const _0x146d3d=_0x2f23e9;if(_0x2635d9[_0x146d3d(0x1df)])_0x221427[_0x146d3d(0x21a)](_0x2635d9[_0x146d3d(0x1df)]);else{if(_0x2635d9['calendarName'])_0x221427[_0x146d3d(0x21a)](_0x2635d9['calendarName']);}}),_0x4c4f54=Array[_0x2f23e9(0x209)](_0x221427)[_0x2f23e9(0x22d)]();}if(_0x4c4f54[_0x2f23e9(0x223)]===0x0)_0x4c4f54=[_0x2f23e9(0x1e7)];this['sendTo'](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4['command'],{'success':!![],'names':_0x4c4f54},_0x3602f4[_0x2f23e9(0x203)]);}catch(_0x34377c){this['sendTo'](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':![],'error':_0x34377c[_0x2f23e9(0x19a)]},_0x3602f4[_0x2f23e9(0x203)]);}else{if(_0x3602f4[_0x2f23e9(0x234)]===_0x2f23e9(0x254))try{await setup[_0x2f23e9(0x1ff)](this,_0x2f23e9(0x249),![],![]),this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':!![],'message':_0x2f23e9(0x1ea)},_0x3602f4[_0x2f23e9(0x203)]);}catch(_0x7dc3e2){this[_0x2f23e9(0x1da)][_0x2f23e9(0x1d9)](_0x2f23e9(0x17e)+_0x7dc3e2[_0x2f23e9(0x19a)]),this[_0x2f23e9(0x1f7)](_0x3602f4[_0x2f23e9(0x209)],_0x3602f4[_0x2f23e9(0x234)],{'success':![],'message':_0x2f23e9(0x1ae)+_0x7dc3e2[_0x2f23e9(0x19a)]},_0x3602f4[_0x2f23e9(0x203)]);}}}}}}}}}}}}}}}}async['loadSystemMode'](){const _0x4b0c2e=a0_0x501e2b;try{const _0x5a5b5b=await this[_0x4b0c2e(0x1d0)](setup[_0x4b0c2e(0x26d)]);_0x5a5b5b&&_0x5a5b5b['val']&&Object[_0x4b0c2e(0x220)](setup[_0x4b0c2e(0x185)])[_0x4b0c2e(0x170)](_0x5a5b5b[_0x4b0c2e(0x1c5)])?this[_0x4b0c2e(0x236)]=_0x5a5b5b['val']:(this['currentSystemMode']=setup['SYSTEM_MODES'][_0x4b0c2e(0x189)],await this[_0x4b0c2e(0x1d1)](setup[_0x4b0c2e(0x26d)],{'val':setup[_0x4b0c2e(0x185)][_0x4b0c2e(0x189)],'ack':!![]}));}catch(_0x3b1de2){this[_0x4b0c2e(0x236)]=setup[_0x4b0c2e(0x185)][_0x4b0c2e(0x189)];}}async[a0_0x501e2b(0x1d6)](){const _0x115442=a0_0x501e2b;try{const _0x496cc8=this[_0x115442(0x215)][_0x115442(0x183)]||[];let _0x51ac1a=![];const _0x554707=[];for(const _0x5f5817 of _0x496cc8){try{const _0x4ab466=await this[_0x115442(0x18b)](_0x5f5817);_0x4ab466&&(_0x4ab466[_0x115442(0x1c5)]===!![]||_0x4ab466[_0x115442(0x1c5)]===_0x115442(0x1db)||_0x4ab466[_0x115442(0x1c5)]===0x1)&&(_0x51ac1a=!![],_0x554707['push'](_0x5f5817));}catch(_0x54ce56){}}return await this[_0x115442(0x1d1)](_0x115442(0x195),{'val':_0x554707[_0x115442(0x161)](',\x20'),'ack':!![]}),_0x51ac1a&&(this['exitTimer']&&(this['log']['info'](_0x115442(0x257)),recorder['abortExitTimer'](this)),!this[_0x115442(0x1a3)]&&this['currentSystemMode']===setup[_0x115442(0x185)][_0x115442(0x189)]&&await recorder['setPresence'](this,!![])),_0x51ac1a;}catch(_0x275a12){return![];}}async[a0_0x501e2b(0x20c)](){const _0x176e5c=a0_0x501e2b;this[_0x176e5c(0x1da)][_0x176e5c(0x24b)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x176e5c(0x226)](this),this['updateHealthVector'](),this[_0x176e5c(0x1ac)](),this[_0x176e5c(0x1f4)]();}async['checkSolarCondition'](){const _0x59a1b1=a0_0x501e2b,_0x199bfa=[_0x59a1b1(0x198),'accuweather.0',_0x59a1b1(0x173)],_0x17e19f=['forecast.current.weather','Current.WeatherText','NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x14ef7b of _0x199bfa){for(const _0x1e6221 of _0x17e19f){try{const _0x4987c6=_0x14ef7b+'.'+_0x1e6221,_0x1dafc1=await this[_0x59a1b1(0x18b)](_0x4987c6);if(_0x1dafc1&&_0x1dafc1['val']){const _0x21c6d1=String(_0x1dafc1[_0x59a1b1(0x1c5)])[_0x59a1b1(0x253)]();if(_0x21c6d1[_0x59a1b1(0x170)]('sonn')||_0x21c6d1[_0x59a1b1(0x170)](_0x59a1b1(0x259))||_0x21c6d1[_0x59a1b1(0x170)](_0x59a1b1(0x24a))||_0x21c6d1[_0x59a1b1(0x170)](_0x59a1b1(0x15f))||_0x21c6d1[_0x59a1b1(0x170)]('heiter'))return!![];}}catch(_0x15c3ed){}}}return![];}[a0_0x501e2b(0x1ac)](){const _0x2aa7bc=a0_0x501e2b;if(!this[_0x2aa7bc(0x1ba)])return;try{this[_0x2aa7bc(0x162)](_0x2aa7bc(0x25c),(_0x5ad37e,_0x168b27)=>{const _0x34338f=_0x2aa7bc;_0x168b27&&_0x168b27[_0x34338f(0x1c5)]&&pythonBridge[_0x34338f(0x176)](this,_0x34338f(0x260),{'sequences':JSON[_0x34338f(0x20b)](_0x168b27['val'])});});}catch(_0x389b63){}}async[a0_0x501e2b(0x1f4)](){const _0x3c780f=a0_0x501e2b;if(!this[_0x3c780f(0x1ba)])return;try{const _0xfae0f8=await recorder[_0x3c780f(0x23e)](this);if(_0xfae0f8===null)return;const _0x52aa06={},_0x40f5d8={},_0x313a8f=this[_0x3c780f(0x215)][_0x3c780f(0x1b6)]||[];for(const _0x1598f8 of _0x313a8f){if(_0x1598f8[_0x3c780f(0x1cd)]===_0x3c780f(0x20f)&&_0x1598f8[_0x3c780f(0x19c)]){const _0x489e86=this[_0x3c780f(0x202)][_0x1598f8['id']];if(_0x489e86!==undefined)_0x52aa06[_0x1598f8[_0x3c780f(0x19c)]]=_0x489e86;if(_0x1598f8[_0x3c780f(0x21c)])_0x40f5d8[_0x1598f8[_0x3c780f(0x19c)]]=!![];}}const _0x4568a2=await this['checkSolarCondition']();let _0x58575a={};try{const _0x48637b=await this[_0x3c780f(0x1d0)]('analysis.energy.warmupTargets');if(_0x48637b&&_0x48637b['val'])_0x58575a=JSON[_0x3c780f(0x20b)](_0x48637b[_0x3c780f(0x1c5)]);}catch(_0x7cf087){}Object[_0x3c780f(0x252)](_0x52aa06)['length']>0x0&&(pythonBridge['send'](this,_0x3c780f(0x1b3),{'current_temps':_0x52aa06,'t_out':_0xfae0f8,'is_sunny':_0x4568a2,'solar_flags':_0x40f5d8,'warmup_targets':_0x58575a}),pythonBridge[_0x3c780f(0x176)](this,'OPTIMIZE_ENERGY',{'current_temps':_0x52aa06,'t_out':_0xfae0f8,'targets':{}}));}catch(_0x5401e8){}}['updateHealthVector'](){const _0x249f4a=a0_0x501e2b;if(!this[_0x249f4a(0x174)]||this[_0x249f4a(0x174)][_0x249f4a(0x223)]===0x0)return;const _0x405db6=new Array(0x60)[_0x249f4a(0x23c)](0x0),_0x38a182=new Date()[_0x249f4a(0x1b8)](0x0,0x0,0x0,0x0);this[_0x249f4a(0x174)]['forEach'](_0x38dbc4=>{const _0x2f96d4=_0x249f4a,_0x1ad802=new Date(_0x38dbc4[_0x2f96d4(0x179)]);if(_0x1ad802[_0x2f96d4(0x224)]()>=_0x38a182){const _0x576ff3=_0x1ad802[_0x2f96d4(0x172)](),_0x1d642e=_0x1ad802[_0x2f96d4(0x1c3)](),_0x1b6c06=_0x576ff3*0x4+Math[_0x2f96d4(0x207)](_0x1d642e/0xf);if(_0x1b6c06>=0x0&&_0x1b6c06<0x60)_0x405db6[_0x1b6c06]++;}}),this['setStateAsync']('analysis.health.todayVector',{'val':JSON[_0x249f4a(0x175)](_0x405db6),'ack':!![]});}[a0_0x501e2b(0x1e1)](){const _0x143324=a0_0x501e2b;if(!this[_0x143324(0x1b9)]||this['dailyDigests'][_0x143324(0x223)]<0x2)return;const _0x13fa0f=this[_0x143324(0x1b9)]['map'](_0x57acb3=>{const _0x5c1897=_0x143324,_0x4cf027=(_0x57acb3[_0x5c1897(0x1f8)]||'')[_0x5c1897(0x253)]();return ACTIVITY_LEVEL_MAP[_0x4cf027]||0x32;});pythonBridge[_0x143324(0x176)](this,_0x143324(0x15d),{'values':_0x13fa0f,'tag':_0x143324(0x23f)});}}function a0_0x59bb(_0x5ae7cc,_0xa05be3){const _0x7f09b0=a0_0x4687();return a0_0x59bb=function(_0x2aff5e,_0x3da8ab){_0x2aff5e=_0x2aff5e-0x15b;let _0x468753=_0x7f09b0[_0x2aff5e];return _0x468753;},a0_0x59bb(_0x5ae7cc,_0xa05be3);}if(require['main']!==module)module[a0_0x501e2b(0x1a5)]=_0x2b5440=>new CogniLiving(_0x2b5440);else new CogniLiving();