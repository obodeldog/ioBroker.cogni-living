const a0_0x3373fa=a0_0x5a2f;(function(_0x26b75e,_0x400620){const _0x4ac879=a0_0x5a2f,_0x5ba8d7=_0x26b75e();while(!![]){try{const _0x16cbc0=parseInt(_0x4ac879(0x200))/0x1+-parseInt(_0x4ac879(0x2a5))/0x2*(-parseInt(_0x4ac879(0x27b))/0x3)+parseInt(_0x4ac879(0x29d))/0x4*(-parseInt(_0x4ac879(0x279))/0x5)+parseInt(_0x4ac879(0x23d))/0x6+-parseInt(_0x4ac879(0x28f))/0x7*(-parseInt(_0x4ac879(0x284))/0x8)+parseInt(_0x4ac879(0x232))/0x9*(-parseInt(_0x4ac879(0x2a8))/0xa)+parseInt(_0x4ac879(0x240))/0xb*(-parseInt(_0x4ac879(0x253))/0xc);if(_0x16cbc0===_0x400620)break;else _0x5ba8d7['push'](_0x5ba8d7['shift']());}catch(_0x29463e){_0x5ba8d7['push'](_0x5ba8d7['shift']());}}}(a0_0x1768,0x77b2d));const a0_0x4d6ce3=(function(){let _0x53cb99=!![];return function(_0x527c62,_0x132ea7){const _0xb82b2d=_0x53cb99?function(){if(_0x132ea7){const _0x321da1=_0x132ea7['apply'](_0x527c62,arguments);return _0x132ea7=null,_0x321da1;}}:function(){};return _0x53cb99=![],_0xb82b2d;};}()),a0_0x38e999=a0_0x4d6ce3(this,function(){const _0x4be96b=a0_0x5a2f;return a0_0x38e999[_0x4be96b(0x2aa)]()[_0x4be96b(0x24a)](_0x4be96b(0x21e))['toString']()[_0x4be96b(0x1f1)](a0_0x38e999)['search'](_0x4be96b(0x21e));});a0_0x38e999();'use strict';function a0_0x1768(){const _0x17acde=['cogni-living\x20adapter\x20starting\x20(v','./lib/ai_agent','command','TRAIN_ENERGY','getGenerativeModel','includes','triggerGaitAnalysis','modeResetJob','setupLtmScheduler','./lib/scheduler','devices','values','currentSystemMode','exitTimer','driftAnalysisTimer','genAI','dailyDigests','Training\x20Error:\x20','toLowerCase','executeAutomationAction','getOutsideTemperatureNumeric','slice','analysis.training.status','./lib/scanner','139800KFnCYN','.communicate.request','1473687jmvouB','setupBriefingScheduler','analysis.training.triggerComfort','namespace','ðŸ§ \x20Triggering\x20Security\x20Training...','analysisHistory','location','communicate.request','./lib/setup','281288yfEQXK','getOverviewData','TRAIN_SECURITY','analysis.topology.structure','ANALYZE_GAIT','log','startSystem','info','createDailyDigest','analysis.triggerBriefing','analysis.training.triggerSecurity','14PEJVPX','getEnums','system.mode','find','Aktiv\x20(','system.presenceWho','Topology\x20Update\x20Error:\x20','SET_TOPOLOGY','setHours','runGeminiAnalysis','setState','updateHealthVector','onReady','exports','92GrgYon','pop','callback','getForeignObjectsAsync','forEach','WiFi\x20Presence\x20detected.','initSystemConfig','geminiApiKey','2WsKVLw','triggerBriefing','map','150RVFlPK','send','toString','enum.functions.*','isProVersion','inactivityThresholdHours','constructor','dependencyInstallInProgress','isPresent','triggerEnergyPrediction','getMinutes','notifyTelegramInstance','object','checkAndInstall','cogni-living','initHistory','ack','licenseKey','stopService','SYSTEM_DP_MODE','fill','492163oRojcy','name','eventHistory','sensorLastValues','./lib/recorder','setPresence','analysis.training.triggerEnergy','Adapter','val','config','endsWith','LTM.dailyDigests','rawEventLog','bind','getState','minDaysForBaseline','cancel','automation.triggerAction','subscribeStates','onUnload','notifyTelegramEnabled','analysis.training.triggerHealth','getTime','error','isGracePeriodActive','exitGraceTimer','setStateAsync','startService','onStateChange','@iobroker/adapter-core','(((.+)+)+)+$','analysis.health.todayVector','floor','Activity-Level','sendTo','onMessage','systemConfig','getStateAsync','timestamp','NORMAL','from','temperature','split','parse','LTM.baselineStatus','analysis.training.triggerTopology','briefingJob','triggerDailyDigest','runAutopilot','.system.mode','290124bWidFf','LTM.trainingData.sequences','presenceDevices','runPythonHealthCheck','checkWifiPresence','abortExitTimer','setupDriftAnalysisScheduler',')\x20-\x20Phase\x20C\x20(Refactored)','matrix','stringify','analysis.trigger','4561260eBaBaO','online','updateTopology','297yEIKgU','analysisTimer','push','PYTHON_EXE','common','geminiModel','ðŸ•¸ï¸\x20Topology\x20Graph\x20manually\x20updated\x20by\x20user.','LTM.rawEventLog','loadSystemMode','getHours','search','VACATION','enum','SYSTEM_MODES','analysisInterval','Gemini\x20AI\x20initialized.','sendMorningBriefing','ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...','runBaselineDriftAnalysis','87564xtPDyL','./lib/python_bridge','./lib/installer','subscribeForeignStatesAsync','TRAIN_COMFORT','version','Lernphase\x20(','length','application/json','scanForDevices','TRAIN_HEALTH','getForeignStateAsync','ltmJob','message'];a0_0x1768=function(){return _0x17acde;};return a0_0x1768();}const utils=require(a0_0x3373fa(0x21d)),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require(a0_0x3373fa(0x255)),scanner=require(a0_0x3373fa(0x278)),schedulers=require(a0_0x3373fa(0x26a)),topology=require('./lib/topology'),setup=require(a0_0x3373fa(0x283)),recorder=require(a0_0x3373fa(0x204)),pythonBridge=require(a0_0x3373fa(0x254)),aiAgent=require(a0_0x3373fa(0x262)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x3373fa(0x207)]{constructor(_0x517a01){const _0x5485d3=a0_0x3373fa;super({..._0x517a01,'name':_0x5485d3(0x1f9)}),this[_0x5485d3(0x202)]=[],this[_0x5485d3(0x280)]=[],this[_0x5485d3(0x20c)]=[],this[_0x5485d3(0x271)]=[],this[_0x5485d3(0x203)]={},this[_0x5485d3(0x224)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x5485d3(0x1f3)]=!![],this[_0x5485d3(0x26e)]=null,this[_0x5485d3(0x219)]=null,this[_0x5485d3(0x218)]=![],this['genAI']=null,this[_0x5485d3(0x245)]=null,this[_0x5485d3(0x26d)]=setup[_0x5485d3(0x24d)]['NORMAL'],this[_0x5485d3(0x1ef)]=![],this['lastAlertState']=![],this[_0x5485d3(0x241)]=null,this[_0x5485d3(0x25f)]=null,this['modeResetJob']=null,this['driftAnalysisTimer']=null,this[_0x5485d3(0x22e)]=null,this[_0x5485d3(0x1f2)]=![],this['on']('ready',this[_0x5485d3(0x29b)][_0x5485d3(0x20d)](this)),this['on']('stateChange',this[_0x5485d3(0x21c)][_0x5485d3(0x20d)](this)),this['on']('unload',this[_0x5485d3(0x213)]['bind'](this)),this['on'](_0x5485d3(0x260),this['onMessage'][_0x5485d3(0x20d)](this));}async['onReady'](){const _0x1d374c=a0_0x3373fa;this[_0x1d374c(0x289)][_0x1d374c(0x28b)](_0x1d374c(0x261)+this[_0x1d374c(0x258)]+_0x1d374c(0x239));if(!installer[_0x1d374c(0x1f8)](this,()=>this[_0x1d374c(0x28a)]()))return;}async[a0_0x3373fa(0x28a)](){const _0x4f3017=a0_0x3373fa;await setup['initZombies'](this);try{this[_0x4f3017(0x1ef)]=await setup['checkLicense'](this[_0x4f3017(0x209)][_0x4f3017(0x1fc)]);}catch(_0x2f1dc3){}if(!this[_0x4f3017(0x209)][_0x4f3017(0x1f0)]||this[_0x4f3017(0x209)][_0x4f3017(0x1f0)]<0.1)this[_0x4f3017(0x209)]['inactivityThresholdHours']=0xc;await setup[_0x4f3017(0x1fa)](this),await setup[_0x4f3017(0x2a3)](this);if(this['config'][_0x4f3017(0x2a4)])try{this[_0x4f3017(0x270)]=new GoogleGenerativeAI(this[_0x4f3017(0x209)][_0x4f3017(0x2a4)]),this['geminiModel']=this[_0x4f3017(0x270)][_0x4f3017(0x265)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x4f3017(0x25b)}}),this['log'][_0x4f3017(0x28b)](_0x4f3017(0x24f));}catch(_0xeb42e7){this['log'][_0x4f3017(0x217)]('Gemini\x20Init\x20Error:\x20'+_0xeb42e7['message']);}await setup['createAllObjects'](this),await this['loadSystemMode']();try{const _0xf7866d=await this[_0x4f3017(0x225)](_0x4f3017(0x247));if(_0xf7866d&&_0xf7866d['val'])this['rawEventLog']=JSON['parse'](_0xf7866d[_0x4f3017(0x208)]);}catch(_0x293137){this['rawEventLog']=[];}try{const _0x4e0da4=await this[_0x4f3017(0x225)](_0x4f3017(0x20b));if(_0x4e0da4&&_0x4e0da4[_0x4f3017(0x208)])this[_0x4f3017(0x271)]=JSON[_0x4f3017(0x22b)](_0x4e0da4[_0x4f3017(0x208)]);}catch(_0x59b5de){this[_0x4f3017(0x271)]=[];}const _0x4320db=this[_0x4f3017(0x271)]['length']>=(this[_0x4f3017(0x209)][_0x4f3017(0x20f)]||0x7)?_0x4f3017(0x293)+this[_0x4f3017(0x271)][_0x4f3017(0x25a)]+'\x20Tage)':_0x4f3017(0x259)+this[_0x4f3017(0x271)]['length']+'/'+(this[_0x4f3017(0x209)]['minDaysForBaseline']||0x7)+')';await this[_0x4f3017(0x21a)](_0x4f3017(0x22c),{'val':_0x4320db,'ack':!![]}),this[_0x4f3017(0x212)](_0x4f3017(0x23c)),this[_0x4f3017(0x212)]('LTM.triggerDailyDigest'),this['subscribeStates'](_0x4f3017(0x291)),this[_0x4f3017(0x212)](_0x4f3017(0x28d)),this[_0x4f3017(0x212)]('analysis.automation.triggerAction'),this[_0x4f3017(0x212)]('analysis.automation.autoApply'),this[_0x4f3017(0x212)](_0x4f3017(0x28e)),this[_0x4f3017(0x212)](_0x4f3017(0x215)),this[_0x4f3017(0x212)](_0x4f3017(0x206)),this[_0x4f3017(0x212)]('analysis.training.triggerComfort'),this[_0x4f3017(0x212)](_0x4f3017(0x22d));const _0x5eb666=this['config'][_0x4f3017(0x26b)];if(_0x5eb666)for(const _0x92ad44 of _0x5eb666){await this[_0x4f3017(0x256)](_0x92ad44['id']);}const _0x23609b=this[_0x4f3017(0x209)]['presenceDevices'];if(_0x23609b)for(const _0x33ecf9 of _0x23609b){await this[_0x4f3017(0x256)](_0x33ecf9);}if(this[_0x4f3017(0x209)][_0x4f3017(0x214)]&&this[_0x4f3017(0x209)][_0x4f3017(0x1f6)])await this['subscribeForeignStatesAsync'](this[_0x4f3017(0x209)][_0x4f3017(0x1f6)]+_0x4f3017(0x27a));setTimeout(()=>this[_0x4f3017(0x236)](),0x1388);if(this[_0x4f3017(0x241)])clearInterval(this[_0x4f3017(0x241)]);const _0x22f015=this[_0x4f3017(0x209)][_0x4f3017(0x24e)]||0xf;_0x22f015>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x5cd53e=_0x4f3017;this[_0x5cd53e(0x230)]();},_0x22f015*0x3c*0x3e8)),schedulers[_0x4f3017(0x269)](this,()=>aiAgent[_0x4f3017(0x28c)](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x4f3017(0x238)](this,()=>aiAgent[_0x4f3017(0x252)](this)),schedulers[_0x4f3017(0x27c)](this,()=>aiAgent[_0x4f3017(0x250)](this)),pythonBridge[_0x4f3017(0x21b)](this,installer[_0x4f3017(0x243)]),setTimeout(async()=>{const _0x23c998=_0x4f3017;await topology[_0x23c998(0x23f)](this);try{const _0x242cf3=await this['getStateAsync'](_0x23c998(0x287));if(_0x242cf3&&_0x242cf3['val'])pythonBridge['send'](this,_0x23c998(0x296),JSON[_0x23c998(0x22b)](_0x242cf3[_0x23c998(0x208)]));}catch(_0x4b7494){}this[_0x23c998(0x235)](),this[_0x23c998(0x267)](),this['triggerEnergyPrediction'](),this['updateHealthVector']();},0x1388);}['onUnload'](_0x425fe0){const _0x5713d3=a0_0x3373fa;if(this[_0x5713d3(0x241)])clearInterval(this['analysisTimer']);if(this['driftAnalysisTimer'])clearInterval(this[_0x5713d3(0x26f)]);if(this[_0x5713d3(0x25f)])this[_0x5713d3(0x25f)]['cancel']();if(this[_0x5713d3(0x268)])this[_0x5713d3(0x268)][_0x5713d3(0x210)]();if(this[_0x5713d3(0x22e)])this[_0x5713d3(0x22e)]['cancel']();recorder[_0x5713d3(0x237)](this),pythonBridge[_0x5713d3(0x1fd)](this),_0x425fe0();}async[a0_0x3373fa(0x21c)](_0x55cd96,_0x309ece){const _0x51e588=a0_0x3373fa;if(!_0x309ece||this[_0x51e588(0x1f2)])return;if(_0x55cd96[_0x51e588(0x266)]('telegram')&&_0x55cd96[_0x51e588(0x20a)](_0x51e588(0x282))&&_0x309ece['val'])return;if(_0x55cd96===this[_0x51e588(0x27e)]+_0x51e588(0x231)){if(_0x309ece[_0x51e588(0x208)]&&Object[_0x51e588(0x26c)](setup[_0x51e588(0x24d)])['includes'](_0x309ece[_0x51e588(0x208)])){this[_0x51e588(0x26d)]=_0x309ece[_0x51e588(0x208)];if(_0x309ece[_0x51e588(0x208)]===setup[_0x51e588(0x24d)][_0x51e588(0x24b)])await recorder[_0x51e588(0x205)](this,![]);else await recorder[_0x51e588(0x205)](this,!![]);}if(!_0x309ece[_0x51e588(0x1fb)])this['setState'](_0x55cd96,{'val':this[_0x51e588(0x26d)],'ack':!![]});return;}if(!_0x309ece[_0x51e588(0x1fb)]){_0x55cd96[_0x51e588(0x266)]('analysis.trigger')&&_0x309ece['val']&&(this['setState'](_0x55cd96,{'val':![],'ack':!![]}),aiAgent[_0x51e588(0x298)](this));if(_0x55cd96['includes'](_0x51e588(0x22f))&&_0x309ece[_0x51e588(0x208)]){this['setState'](_0x55cd96,{'val':![],'ack':!![]});if(this[_0x51e588(0x1ef)])aiAgent[_0x51e588(0x28c)](this,pythonBridge);}_0x55cd96[_0x51e588(0x266)](_0x51e588(0x2a6))&&_0x309ece[_0x51e588(0x208)]&&(this[_0x51e588(0x299)](_0x55cd96,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this));_0x55cd96[_0x51e588(0x266)](_0x51e588(0x211))&&_0x309ece['val']&&(this[_0x51e588(0x299)](_0x55cd96,{'val':![],'ack':!![]}),aiAgent[_0x51e588(0x274)](this));if(_0x55cd96[_0x51e588(0x266)](_0x51e588(0x28e))&&_0x309ece[_0x51e588(0x208)]){this[_0x51e588(0x299)](_0x55cd96,{'val':![],'ack':!![]});if(this[_0x51e588(0x1ef)])try{const _0x1096cd=await this[_0x51e588(0x225)](_0x51e588(0x233));if(_0x1096cd&&_0x1096cd['val']){const _0x3bfca5=JSON[_0x51e588(0x22b)](_0x1096cd[_0x51e588(0x208)]);this['log'][_0x51e588(0x28b)](_0x51e588(0x27f)),this[_0x51e588(0x21a)](_0x51e588(0x277),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x51e588(0x2a9)](this,_0x51e588(0x286),{'sequences':_0x3bfca5});}}catch(_0x534c9a){this[_0x51e588(0x289)][_0x51e588(0x217)](_0x51e588(0x272)+_0x534c9a[_0x51e588(0x260)]);}}if(_0x55cd96[_0x51e588(0x266)](_0x51e588(0x215))&&_0x309ece[_0x51e588(0x208)]){this[_0x51e588(0x299)](_0x55cd96,{'val':![],'ack':!![]});if(this[_0x51e588(0x1ef)])try{const _0x3a3fbe=await this['getStateAsync'](_0x51e588(0x20b));if(_0x3a3fbe&&_0x3a3fbe[_0x51e588(0x208)])pythonBridge[_0x51e588(0x2a9)](this,_0x51e588(0x25d),{'digests':JSON[_0x51e588(0x22b)](_0x3a3fbe[_0x51e588(0x208)])});}catch(_0xfd3259){}}if(_0x55cd96[_0x51e588(0x266)]('analysis.training.triggerEnergy')&&_0x309ece[_0x51e588(0x208)]){this[_0x51e588(0x299)](_0x55cd96,{'val':![],'ack':!![]});if(this[_0x51e588(0x1ef)])try{const _0x1d7f7b=await this[_0x51e588(0x225)]('LTM.trainingData.thermodynamics');if(_0x1d7f7b&&_0x1d7f7b[_0x51e588(0x208)])pythonBridge[_0x51e588(0x2a9)](this,_0x51e588(0x264),{'points':JSON['parse'](_0x1d7f7b[_0x51e588(0x208)])});}catch(_0x40e387){}}if(_0x55cd96['includes'](_0x51e588(0x27d))&&_0x309ece[_0x51e588(0x208)]){this[_0x51e588(0x299)](_0x55cd96,{'val':![],'ack':!![]});if(this[_0x51e588(0x1ef)])try{const _0x7c16cd=await this['getStateAsync'](_0x51e588(0x247));_0x7c16cd&&_0x7c16cd['val']&&(this['log'][_0x51e588(0x28b)](_0x51e588(0x251)),pythonBridge['send'](this,_0x51e588(0x257),{'events':JSON['parse'](_0x7c16cd[_0x51e588(0x208)])}));}catch(_0x3dc1bd){}}_0x55cd96[_0x51e588(0x266)](_0x51e588(0x22d))&&_0x309ece['val']&&(this[_0x51e588(0x299)](_0x55cd96,{'val':![],'ack':!![]}),this[_0x51e588(0x289)][_0x51e588(0x28b)]('ðŸ•¸ï¸\x20Manually\x20triggering\x20Topology\x20Update...'),topology[_0x51e588(0x23f)](this));return;}if(this[_0x51e588(0x209)][_0x51e588(0x234)]&&this[_0x51e588(0x209)][_0x51e588(0x234)][_0x51e588(0x266)](_0x55cd96)){await this[_0x51e588(0x236)]();return;}const _0x4cfc1b=(this['config']['devices']||[])[_0x51e588(0x292)](_0x263a4e=>_0x263a4e['id']===_0x55cd96);if(_0x4cfc1b)recorder['processSensorEvent'](this,_0x55cd96,_0x309ece,_0x4cfc1b);}async[a0_0x3373fa(0x223)](_0xad388c){const _0x5ba421=a0_0x3373fa;if(typeof _0xad388c==='object'&&_0xad388c['message']){if(_0xad388c[_0x5ba421(0x263)]==='testApiKey'){}else{if(_0xad388c[_0x5ba421(0x263)]==='scanDevices')try{const _0x57e12a=await scanner[_0x5ba421(0x25c)](this,_0xad388c[_0x5ba421(0x260)]||{});this[_0x5ba421(0x222)](_0xad388c[_0x5ba421(0x228)],_0xad388c[_0x5ba421(0x263)],{'success':!![],'devices':_0x57e12a},_0xad388c[_0x5ba421(0x29f)]);}catch(_0x2114f2){this[_0x5ba421(0x222)](_0xad388c[_0x5ba421(0x228)],_0xad388c[_0x5ba421(0x263)],{'success':![],'error':_0x2114f2[_0x5ba421(0x260)]},_0xad388c['callback']);}else{if(_0xad388c['command']==='updateTopologyMatrix'){const {matrix:_0x4d77c0}=_0xad388c[_0x5ba421(0x260)];try{const _0x3c0c90=await this['getStateAsync'](_0x5ba421(0x287));if(_0x3c0c90&&_0x3c0c90[_0x5ba421(0x208)]){const _0xa7c50d=JSON['parse'](_0x3c0c90[_0x5ba421(0x208)]);_0xa7c50d[_0x5ba421(0x23a)]=_0x4d77c0,_0xa7c50d['updated']=Date['now'](),await this[_0x5ba421(0x21a)](_0x5ba421(0x287),{'val':JSON[_0x5ba421(0x23b)](_0xa7c50d),'ack':!![]}),this['log'][_0x5ba421(0x28b)](_0x5ba421(0x246)),pythonBridge[_0x5ba421(0x2a9)](this,_0x5ba421(0x296),_0xa7c50d);}this[_0x5ba421(0x222)](_0xad388c[_0x5ba421(0x228)],_0xad388c[_0x5ba421(0x263)],{'success':!![]},_0xad388c[_0x5ba421(0x29f)]);}catch(_0x47c2d0){this[_0x5ba421(0x289)]['error'](_0x5ba421(0x295)+_0x47c2d0[_0x5ba421(0x260)]);}}else{if(_0xad388c[_0x5ba421(0x263)]===_0x5ba421(0x285)){const _0x1e037d=this[_0x5ba421(0x271)][_0x5ba421(0x25a)];this[_0x5ba421(0x222)](_0xad388c[_0x5ba421(0x228)],_0xad388c[_0x5ba421(0x263)],{'success':!![],'eventHistory':this['eventHistory'][_0x5ba421(0x276)](0x0,0xf),'stats':{'digestCount':_0x1e037d,'isPresent':this[_0x5ba421(0x1f3)]}},_0xad388c['callback']);}else{if(_0xad388c['command']===_0x5ba421(0x290)){const _0x4ae8f5=await this[_0x5ba421(0x2a0)](_0x5ba421(0x1ee),'enum'),_0x1aee17=[];if(_0x4ae8f5)for(const _0x34ad0f in _0x4ae8f5){const _0x4b5c79=_0x4ae8f5[_0x34ad0f],_0x55205e=(_0x4b5c79['common']&&typeof _0x4b5c79['common'][_0x5ba421(0x201)]===_0x5ba421(0x1f7)?_0x4b5c79[_0x5ba421(0x244)]['name']['de']:_0x4b5c79[_0x5ba421(0x244)][_0x5ba421(0x201)])||_0x4b5c79[_0x5ba421(0x244)][_0x5ba421(0x201)];_0x1aee17[_0x5ba421(0x242)]({'id':_0x34ad0f,'name':_0x55205e});}const _0x4b015d=await this['getForeignObjectsAsync']('enum.rooms.*',_0x5ba421(0x24c)),_0x32e12d=[];if(_0x4b015d)for(const _0x468b72 in _0x4b015d){const _0x11d22b=_0x4b015d[_0x468b72],_0x1c84bc=(_0x11d22b[_0x5ba421(0x244)]&&typeof _0x11d22b['common']['name']===_0x5ba421(0x1f7)?_0x11d22b[_0x5ba421(0x244)]['name']['de']:_0x11d22b[_0x5ba421(0x244)][_0x5ba421(0x201)])||_0x468b72[_0x5ba421(0x22a)]('.')[_0x5ba421(0x29e)]();_0x32e12d[_0x5ba421(0x242)](_0x1c84bc);}this[_0x5ba421(0x222)](_0xad388c[_0x5ba421(0x228)],_0xad388c['command'],{'success':!![],'enums':_0x1aee17,'rooms':_0x32e12d},_0xad388c[_0x5ba421(0x29f)]);}}}}}}}async[a0_0x3373fa(0x248)](){const _0x2db044=a0_0x3373fa;try{const _0x12d5da=await this['getStateAsync'](setup[_0x2db044(0x1fe)]);_0x12d5da&&_0x12d5da[_0x2db044(0x208)]&&Object[_0x2db044(0x26c)](setup[_0x2db044(0x24d)])[_0x2db044(0x266)](_0x12d5da['val'])?this[_0x2db044(0x26d)]=_0x12d5da[_0x2db044(0x208)]:(this['currentSystemMode']=setup[_0x2db044(0x24d)][_0x2db044(0x227)],await this[_0x2db044(0x21a)](setup[_0x2db044(0x1fe)],{'val':setup[_0x2db044(0x24d)][_0x2db044(0x227)],'ack':!![]}));}catch(_0x5c1a82){this[_0x2db044(0x26d)]=setup['SYSTEM_MODES'][_0x2db044(0x227)];}}async[a0_0x3373fa(0x236)](){const _0x3500a2=a0_0x3373fa;try{const _0x45dcdc=this[_0x3500a2(0x209)][_0x3500a2(0x234)]||[];let _0x2e9462=![];const _0x19eeef=[];for(const _0x829390 of _0x45dcdc){try{const _0x1e2cc4=await this[_0x3500a2(0x25e)](_0x829390);_0x1e2cc4&&(_0x1e2cc4[_0x3500a2(0x208)]===!![]||_0x1e2cc4[_0x3500a2(0x208)]===_0x3500a2(0x23e)||_0x1e2cc4[_0x3500a2(0x208)]===0x1)&&(_0x2e9462=!![],_0x19eeef['push'](_0x829390));}catch(_0x38aa97){}}return await this[_0x3500a2(0x21a)](_0x3500a2(0x294),{'val':_0x19eeef['join'](',\x20'),'ack':!![]}),_0x2e9462&&(this[_0x3500a2(0x26e)]&&(this[_0x3500a2(0x289)][_0x3500a2(0x28b)](_0x3500a2(0x2a2)),recorder['abortExitTimer'](this)),!this[_0x3500a2(0x1f3)]&&this[_0x3500a2(0x26d)]===setup[_0x3500a2(0x24d)][_0x3500a2(0x227)]&&await recorder['setPresence'](this,!![])),_0x2e9462;}catch(_0x3cddff){return![];}}async[a0_0x3373fa(0x230)](){const _0x7fbaf0=a0_0x3373fa;this[_0x7fbaf0(0x289)]['debug']('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x7fbaf0(0x298)](this),this[_0x7fbaf0(0x29a)](),this['triggerGaitAnalysis'](),this[_0x7fbaf0(0x1f4)]();}['triggerGaitAnalysis'](){const _0xd9781=a0_0x3373fa;if(!this[_0xd9781(0x1ef)])return;try{this[_0xd9781(0x20e)](_0xd9781(0x233),(_0x4c5e24,_0x3db888)=>{const _0x5eb517=_0xd9781;_0x3db888&&_0x3db888[_0x5eb517(0x208)]&&pythonBridge[_0x5eb517(0x2a9)](this,_0x5eb517(0x288),{'sequences':JSON[_0x5eb517(0x22b)](_0x3db888['val'])});});}catch(_0x15a9d4){}}async[a0_0x3373fa(0x1f4)](){const _0x14d24b=a0_0x3373fa;if(!this[_0x14d24b(0x1ef)])return;try{const _0x29e86d=await recorder[_0x14d24b(0x275)](this);if(_0x29e86d===null)return;const _0x102ab9={},_0x1e21fc=this[_0x14d24b(0x209)][_0x14d24b(0x26b)]||[];for(const _0x2c1372 of _0x1e21fc){if(_0x2c1372['type']===_0x14d24b(0x229)&&_0x2c1372[_0x14d24b(0x281)]){const _0x333753=this[_0x14d24b(0x203)][_0x2c1372['id']];if(_0x333753!==undefined)_0x102ab9[_0x2c1372['location']]=_0x333753;}}Object['keys'](_0x102ab9)['length']>0x0&&pythonBridge[_0x14d24b(0x2a9)](this,'PREDICT_ENERGY',{'current_temps':_0x102ab9,'t_out':_0x29e86d});}catch(_0x5a1def){}}[a0_0x3373fa(0x29a)](){const _0x49509a=a0_0x3373fa;if(!this[_0x49509a(0x20c)]||this[_0x49509a(0x20c)][_0x49509a(0x25a)]===0x0)return;const _0x4e1a2c=new Array(0x60)[_0x49509a(0x1ff)](0x0),_0x23b5c4=new Date()[_0x49509a(0x297)](0x0,0x0,0x0,0x0);this['rawEventLog'][_0x49509a(0x2a1)](_0x275e5e=>{const _0x136de8=_0x49509a,_0x56a0b8=new Date(_0x275e5e[_0x136de8(0x226)]);if(_0x56a0b8[_0x136de8(0x216)]()>=_0x23b5c4){const _0x393de4=_0x56a0b8[_0x136de8(0x249)](),_0x370678=_0x56a0b8[_0x136de8(0x1f5)](),_0x3e8f25=_0x393de4*0x4+Math[_0x136de8(0x220)](_0x370678/0xf);if(_0x3e8f25>=0x0&&_0x3e8f25<0x60)_0x4e1a2c[_0x3e8f25]++;}}),this[_0x49509a(0x21a)](_0x49509a(0x21f),{'val':JSON[_0x49509a(0x23b)](_0x4e1a2c),'ack':!![]});}[a0_0x3373fa(0x235)](){const _0x15f22f=a0_0x3373fa;if(!this[_0x15f22f(0x271)]||this[_0x15f22f(0x271)][_0x15f22f(0x25a)]<0x2)return;const _0x3c99c0=this['dailyDigests'][_0x15f22f(0x2a7)](_0x914c7a=>{const _0x18716f=_0x15f22f,_0x598cc2=(_0x914c7a['activityLevel']||'')[_0x18716f(0x273)]();return ACTIVITY_LEVEL_MAP[_0x598cc2]||0x32;});pythonBridge[_0x15f22f(0x2a9)](this,'ANALYZE_TREND',{'values':_0x3c99c0,'tag':_0x15f22f(0x221)});}}function a0_0x5a2f(_0x4d402f,_0x26ac73){const _0x1b9c2f=a0_0x1768();return a0_0x5a2f=function(_0x38e999,_0x4d6ce3){_0x38e999=_0x38e999-0x1ee;let _0x1768c2=_0x1b9c2f[_0x38e999];return _0x1768c2;},a0_0x5a2f(_0x4d402f,_0x26ac73);}if(require['main']!==module)module[a0_0x3373fa(0x29c)]=_0x3740b9=>new CogniLiving(_0x3740b9);else new CogniLiving();