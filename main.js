function a0_0x5d2f(_0x3f9fee,_0x1ab19b){const _0x4d5261=a0_0x31a8();return a0_0x5d2f=function(_0x294dda,_0x6ffe51){_0x294dda=_0x294dda-0x1aa;let _0x31a87d=_0x4d5261[_0x294dda];return _0x31a87d;},a0_0x5d2f(_0x3f9fee,_0x1ab19b);}const a0_0x9bce49=a0_0x5d2f;(function(_0x3ccdbb,_0x4ae31b){const _0x538589=a0_0x5d2f,_0x559ac8=_0x3ccdbb();while(!![]){try{const _0x37963d=parseInt(_0x538589(0x1c4))/0x1*(parseInt(_0x538589(0x29d))/0x2)+parseInt(_0x538589(0x20d))/0x3+-parseInt(_0x538589(0x21e))/0x4*(-parseInt(_0x538589(0x2cf))/0x5)+parseInt(_0x538589(0x26d))/0x6*(parseInt(_0x538589(0x2aa))/0x7)+parseInt(_0x538589(0x2eb))/0x8+-parseInt(_0x538589(0x273))/0x9*(parseInt(_0x538589(0x313))/0xa)+-parseInt(_0x538589(0x266))/0xb*(parseInt(_0x538589(0x2dd))/0xc);if(_0x37963d===_0x4ae31b)break;else _0x559ac8['push'](_0x559ac8['shift']());}catch(_0x516bc5){_0x559ac8['push'](_0x559ac8['shift']());}}}(a0_0x31a8,0x4a5f6));const a0_0x6ffe51=(function(){let _0x4d683f=!![];return function(_0xabb08b,_0x6c68ef){const _0x2d60e2=_0x4d683f?function(){if(_0x6c68ef){const _0xe7d8a9=_0x6c68ef['apply'](_0xabb08b,arguments);return _0x6c68ef=null,_0xe7d8a9;}}:function(){};return _0x4d683f=![],_0x2d60e2;};}()),a0_0x294dda=a0_0x6ffe51(this,function(){const _0x27c2bd=a0_0x5d2f;return a0_0x294dda['toString']()[_0x27c2bd(0x274)](_0x27c2bd(0x2bf))[_0x27c2bd(0x20c)]()[_0x27c2bd(0x249)](a0_0x294dda)['search'](_0x27c2bd(0x2bf));});a0_0x294dda();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x9bce49(0x2e5)),path=require(a0_0x9bce49(0x255)),fs=require('fs'),installer=require(a0_0x9bce49(0x1f3)),scanner=require('./lib/scanner'),schedulers=require(a0_0x9bce49(0x225)),topology=require('./lib/topology'),setup=require(a0_0x9bce49(0x310)),recorder=require(a0_0x9bce49(0x240)),pythonBridge=require('./lib/python_bridge'),aiAgent=require(a0_0x9bce49(0x253)),deadMan=require(a0_0x9bce49(0x23d)),automation=require(a0_0x9bce49(0x21a)),GEMINI_MODEL='models/gemini-flash-latest';class CogniLiving extends utils[a0_0x9bce49(0x305)]{constructor(_0x553963){const _0x10acf3=a0_0x9bce49;super({..._0x553963,'name':_0x10acf3(0x204)}),this['eventHistory']=[],this[_0x10acf3(0x2c1)]=[],this[_0x10acf3(0x1e3)]=[],this['dailyDigests']=[],this[_0x10acf3(0x23f)]={},this[_0x10acf3(0x20e)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x10acf3(0x306)]=!![],this[_0x10acf3(0x1ad)]=null,this['exitGraceTimer']=null,this['isGracePeriodActive']=![],this[_0x10acf3(0x1b6)]=null,this['geminiModel']=null,this[_0x10acf3(0x258)]=setup[_0x10acf3(0x2ff)][_0x10acf3(0x2c2)],this['isProVersion']=![],this[_0x10acf3(0x2d6)]=![],this[_0x10acf3(0x1da)]=null,this['calendarCheckTimer']=null,this[_0x10acf3(0x2bd)]=null,this[_0x10acf3(0x2b3)]=null,this['modeResetJob']=null,this[_0x10acf3(0x2a9)]=null,this['briefingJob']=null,this[_0x10acf3(0x233)]=null,this[_0x10acf3(0x2a5)]=null,this['healthTrendInterval']=null,this[_0x10acf3(0x24d)]=null,this[_0x10acf3(0x206)]=![],this[_0x10acf3(0x1c9)]=Date[_0x10acf3(0x2fc)](),this[_0x10acf3(0x2b9)]=null,this[_0x10acf3(0x296)]=Date[_0x10acf3(0x2fc)](),this['infrasoundLocked']=![],this[_0x10acf3(0x248)]=[],this[_0x10acf3(0x2e1)]={'health':!![],'security':!![],'energy':!![],'comfort':!![]},this['on'](_0x10acf3(0x1bc),this['onReady']['bind'](this)),this['on'](_0x10acf3(0x226),this[_0x10acf3(0x2a3)][_0x10acf3(0x1d1)](this)),this['on'](_0x10acf3(0x237),this[_0x10acf3(0x2fa)][_0x10acf3(0x1d1)](this)),this['on']('message',this[_0x10acf3(0x264)][_0x10acf3(0x1d1)](this));}async[a0_0x9bce49(0x218)](){const _0x448e75=a0_0x9bce49;this[_0x448e75(0x27e)]['info'](_0x448e75(0x288)+this[_0x448e75(0x290)]+_0x448e75(0x2ed));if(this[_0x448e75(0x1d7)][_0x448e75(0x1df)]!==undefined)this[_0x448e75(0x2e1)]['health']=this['config'][_0x448e75(0x1df)];if(this[_0x448e75(0x1d7)][_0x448e75(0x307)]!==undefined)this[_0x448e75(0x2e1)][_0x448e75(0x254)]=this[_0x448e75(0x1d7)]['moduleSecurity'];if(this[_0x448e75(0x1d7)][_0x448e75(0x245)]!==undefined)this[_0x448e75(0x2e1)]['energy']=this[_0x448e75(0x1d7)][_0x448e75(0x245)];if(this[_0x448e75(0x1d7)][_0x448e75(0x209)]!==undefined)this['activeModules'][_0x448e75(0x2f7)]=this['config'][_0x448e75(0x209)];if(this[_0x448e75(0x1d7)][_0x448e75(0x283)])this[_0x448e75(0x2e1)]={...this[_0x448e75(0x2e1)],...this[_0x448e75(0x1d7)][_0x448e75(0x283)]};this[_0x448e75(0x22d)]();}async[a0_0x9bce49(0x22d)](){const _0x396906=a0_0x9bce49;await setup[_0x396906(0x297)](this);try{this[_0x396906(0x294)]=await setup[_0x396906(0x216)](this[_0x396906(0x1d7)][_0x396906(0x316)]);}catch(_0x1d186e){}if(!this[_0x396906(0x1d7)][_0x396906(0x27a)]||this[_0x396906(0x1d7)][_0x396906(0x27a)]<0.1)this[_0x396906(0x1d7)]['inactivityThresholdHours']=0xc;await setup[_0x396906(0x260)](this),await setup['initSystemConfig'](this);try{const _0x2d380c=await this['getStateAsync'](_0x396906(0x29e)),_0x52beb9=await this[_0x396906(0x238)](_0x396906(0x2d2));_0x2d380c&&_0x2d380c[_0x396906(0x22e)]&&_0x52beb9&&_0x52beb9[_0x396906(0x22e)]&&(Date[_0x396906(0x2fc)]()-_0x2d380c['ts']<0x4*0xe10*0x3e8&&(this[_0x396906(0x2b9)]={'times':JSON['parse'](_0x2d380c[_0x396906(0x22e)]),'sources':JSON[_0x396906(0x289)](_0x52beb9[_0x396906(0x22e)])}));}catch(_0x361a93){}if(this[_0x396906(0x1d7)]['geminiApiKey'])try{this[_0x396906(0x1b6)]=new GoogleGenerativeAI(this[_0x396906(0x1d7)][_0x396906(0x2ac)]),this[_0x396906(0x208)]=this['genAI'][_0x396906(0x20a)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x396906(0x2c8)}});}catch(_0x904555){this[_0x396906(0x27e)][_0x396906(0x1ca)]('Gemini\x20Init\x20Error:\x20'+_0x904555[_0x396906(0x256)]);}await setup[_0x396906(0x27d)](this),await this[_0x396906(0x2b8)](),schedulers['initSchedules'](this),await this[_0x396906(0x286)](_0x396906(0x2a7),{'type':_0x396906(0x2c7),'common':{'name':'Live\x20Event\x20Pulse','type':'number','role':_0x396906(0x291),'read':!![],'write':![]},'native':{}}),await this[_0x396906(0x286)](_0x396906(0x309),{'type':_0x396906(0x2c7),'common':{'name':'Room\x20Dwell\x20Time\x20Stats','type':'string','role':_0x396906(0x210),'read':!![],'write':![],'def':_0x396906(0x262)},'native':{}}),await this[_0x396906(0x286)](_0x396906(0x24c),{'type':_0x396906(0x2c7),'common':{'name':'Room\x20History\x20(24h\x20Buckets)','type':_0x396906(0x26c),'role':_0x396906(0x210),'read':!![],'write':![],'def':_0x396906(0x202)},'native':{}}),await this[_0x396906(0x286)]('analysis.health.geminiNight',{'type':_0x396906(0x2c7),'common':{'name':_0x396906(0x247),'type':_0x396906(0x26c),'role':_0x396906(0x2f4),'read':!![],'write':![],'def':_0x396906(0x222)},'native':{}}),await this[_0x396906(0x286)]('analysis.health.geminiDay',{'type':'state','common':{'name':_0x396906(0x235),'type':_0x396906(0x26c),'role':_0x396906(0x2f4),'read':!![],'write':![],'def':'Warte\x20auf\x20Analyse...'},'native':{}}),await this[_0x396906(0x286)](_0x396906(0x1ef),{'type':_0x396906(0x2c7),'common':{'name':_0x396906(0x268),'type':_0x396906(0x26c),'role':'json','read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x396906(0x286)](_0x396906(0x24e),{'type':'state','common':{'name':_0x396906(0x1fd),'type':_0x396906(0x26c),'role':_0x396906(0x210),'read':!![],'write':![],'def':'[]'},'native':{}}),await this[_0x396906(0x286)](_0x396906(0x314),{'type':_0x396906(0x2c7),'common':{'name':_0x396906(0x30d),'type':_0x396906(0x2bb),'role':_0x396906(0x291),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x396906(0x286)](_0x396906(0x29e),{'type':_0x396906(0x2c7),'common':{'name':_0x396906(0x232),'type':_0x396906(0x26c),'role':_0x396906(0x210),'read':!![],'write':![]},'native':{}});try{const _0x40c2c3=await this['getStateAsync'](_0x396906(0x1e4));if(_0x40c2c3&&_0x40c2c3['val']){this[_0x396906(0x221)]=JSON[_0x396906(0x289)](_0x40c2c3[_0x396906(0x22e)]);if(this['isProVersion']){const _0x97b7e1=await this[_0x396906(0x238)]('LTM.rawEventLog');if(_0x97b7e1&&_0x97b7e1['val'])this[_0x396906(0x1e3)]=JSON[_0x396906(0x289)](_0x97b7e1['val']);}this['log'][_0x396906(0x29f)](_0x396906(0x2e7)+this['eventHistory']['length']+_0x396906(0x2c4));}}catch(_0x45140b){this[_0x396906(0x221)]=[];}try{const _0x30258d=await this['getStateAsync'](_0x396906(0x271));if(_0x30258d&&_0x30258d['val'])this[_0x396906(0x1c3)]=JSON[_0x396906(0x289)](_0x30258d[_0x396906(0x22e)]);}catch(_0x59c543){this['dailyDigests']=[];}const _0x171bea=this[_0x396906(0x1c3)][_0x396906(0x1be)]>=(this[_0x396906(0x1d7)][_0x396906(0x275)]||0x7)?_0x396906(0x2a8)+this[_0x396906(0x1c3)][_0x396906(0x1be)]+'\x20Tage)':_0x396906(0x1b0)+this[_0x396906(0x1c3)][_0x396906(0x1be)]+'/'+(this[_0x396906(0x1d7)][_0x396906(0x275)]||0x7)+')';await this[_0x396906(0x2ba)]('LTM.baselineStatus',{'val':_0x171bea,'ack':!![]}),this[_0x396906(0x2e2)](_0x396906(0x1fb)),this[_0x396906(0x2e2)](_0x396906(0x295)),this[_0x396906(0x2e2)](_0x396906(0x2db));this[_0x396906(0x1d7)][_0x396906(0x22a)]&&this[_0x396906(0x1d7)][_0x396906(0x28a)]&&this[_0x396906(0x2e1)][_0x396906(0x254)]&&this[_0x396906(0x269)](this[_0x396906(0x1d7)][_0x396906(0x28a)]);const _0x459121=this['config'][_0x396906(0x22c)];if(_0x459121)for(const _0x4b1a5c of _0x459121){await this[_0x396906(0x1b9)](_0x4b1a5c['id']);}const _0x391d9e=this[_0x396906(0x1d7)][_0x396906(0x277)];if(_0x391d9e)for(const _0x4b7190 of _0x391d9e){await this['subscribeForeignStatesAsync'](_0x4b7190);}const _0x28e81f=require('node-schedule');if(this[_0x396906(0x233)])this[_0x396906(0x233)][_0x396906(0x284)]();this[_0x396906(0x233)]=_0x28e81f['scheduleJob'](_0x396906(0x1e9),()=>{this['saveDailyHistory']();}),setTimeout(()=>this[_0x396906(0x2f8)](),0x1388);if(this['roomIntegratorTimer'])clearInterval(this['roomIntegratorTimer']);this[_0x396906(0x1fe)](),this[_0x396906(0x24d)]=setInterval(async()=>{const _0x593101=_0x396906;await this[_0x593101(0x1fe)]();},0x3c*0x3e8);if(this['healthTrendInterval'])clearInterval(this[_0x396906(0x2ab)]);this['healthTrendInterval']=setInterval(()=>{const _0x3fd8cd=_0x396906;this[_0x3fd8cd(0x294)]&&this[_0x3fd8cd(0x2e1)]['health']&&this[_0x3fd8cd(0x25e)]();},0x4*0x3c*0x3c*0x3e8);if(this[_0x396906(0x1da)])clearInterval(this['analysisTimer']);this[_0x396906(0x2e1)][_0x396906(0x244)]&&(this[_0x396906(0x1da)]=setInterval(()=>{const _0x5c4395=_0x396906;this[_0x5c4395(0x1af)]();},0xf*0x3c*0x3e8),setTimeout(()=>this[_0x396906(0x1af)](),0x2710));if(this[_0x396906(0x1aa)])clearInterval(this[_0x396906(0x1aa)]);this[_0x396906(0x1d7)][_0x396906(0x1b2)]&&this[_0x396906(0x2e1)][_0x396906(0x244)]&&(this[_0x396906(0x1aa)]=setInterval(()=>{const _0xfc15f2=_0x396906;automation[_0xfc15f2(0x207)](this);},0x2*0x3c*0x3e8),setTimeout(()=>automation[_0x396906(0x207)](this),0x3a98));if(this[_0x396906(0x2bd)])clearInterval(this['presenceCheckTimer']);this['config'][_0x396906(0x277)]&&this['config']['presenceDevices']['length']>0x0&&(this[_0x396906(0x2bd)]=setInterval(async()=>{await this['checkWifiPresence']();},0x3c*0x3e8),setTimeout(async()=>await this[_0x396906(0x30a)](),0x1388));const _0xd2ef3=path['join'](__dirname,_0x396906(0x1cb),_0x396906(0x25a),_0x396906(0x1f7));pythonBridge['startService'](this,_0xd2ef3);}[a0_0x9bce49(0x2fa)](_0x36bec6){const _0x1366ec=a0_0x9bce49;if(this['historyJob'])this[_0x1366ec(0x233)][_0x1366ec(0x284)]();this['saveDailyHistory']()[_0x1366ec(0x239)](()=>{const _0x3e9e28=_0x1366ec;if(this[_0x3e9e28(0x1da)])clearInterval(this[_0x3e9e28(0x1da)]);if(this[_0x3e9e28(0x1aa)])clearInterval(this['calendarCheckTimer']);if(this['presenceCheckTimer'])clearInterval(this[_0x3e9e28(0x2bd)]);if(this[_0x3e9e28(0x24d)])clearInterval(this[_0x3e9e28(0x24d)]);recorder[_0x3e9e28(0x2b6)](this),pythonBridge[_0x3e9e28(0x270)](this),_0x36bec6();});}async[a0_0x9bce49(0x2f8)](){const _0x5ca3c0=a0_0x9bce49;if(!this['eventHistory']||this['eventHistory'][_0x5ca3c0(0x1be)]===0x0){this[_0x5ca3c0(0x27e)][_0x5ca3c0(0x293)]('‚ö†\x20Replay\x20skipped:\x20No\x20events\x20in\x20memory.');return;}this[_0x5ca3c0(0x27e)][_0x5ca3c0(0x29f)]('‚Ü∫\x20Replaying\x20'+this['eventHistory']['length']+'\x20events\x20from\x20today...');const _0x5c4ac6=new Date()[_0x5ca3c0(0x220)](0x0,0x0,0x0,0x0),_0x493f3a=_0x5ca3c0(0x24c);let _0x4e9904={'history':{},'date':new Date()['toLocaleDateString']()};const _0x1c2a5d=_0x5ca3c0(0x1ef),_0x5e5aba='analysis.health.todayRoomDetails';let _0xfa68ae=new Array(0x30)[_0x5ca3c0(0x1ae)](0x0),_0x5c5a3c=Array['from']({'length':0x30},()=>[]);this[_0x5ca3c0(0x221)]['forEach'](_0x4ad5c8=>{const _0x1e969b=_0x5ca3c0;if(_0x4ad5c8['timestamp']>=_0x5c4ac6){if(recorder['isRelevantActivity'](_0x4ad5c8['type'],_0x4ad5c8['value'])){const _0x44acb7=new Date(_0x4ad5c8[_0x1e969b(0x21d)]),_0x3e11f4=_0x44acb7[_0x1e969b(0x1d4)]()*0x2+(_0x44acb7['getMinutes']()>=0x1e?0x1:0x0);if(_0x3e11f4<0x30){_0xfa68ae[_0x3e11f4]++;const _0x5c0186=_0x4ad5c8[_0x1e969b(0x1ea)]||_0x4ad5c8[_0x1e969b(0x2d3)]||'?';let _0x364450=_0x5c5a3c[_0x3e11f4];!_0x364450[_0x1e969b(0x22f)](_0x5c0186)&&_0x364450[_0x1e969b(0x230)](_0x5c0186);}const _0x26fb02=_0x44acb7[_0x1e969b(0x1d4)]();let _0x158df2=_0x4ad5c8[_0x1e969b(0x1ea)]||_0x1e969b(0x2f5);const _0x17b527=(this['config']['devices']||[])[_0x1e969b(0x2dc)](_0x1b7d60=>_0x1b7d60[_0x1e969b(0x1ea)]===_0x158df2);if(_0x17b527)_0x158df2=_0x17b527[_0x1e969b(0x1ea)];if(!_0x4e9904[_0x1e969b(0x2b4)][_0x158df2])_0x4e9904[_0x1e969b(0x2b4)][_0x158df2]=new Array(0x18)[_0x1e969b(0x1ae)](0x0);if(_0x4e9904[_0x1e969b(0x2b4)][_0x158df2][_0x26fb02]<0x3c)_0x4e9904[_0x1e969b(0x2b4)][_0x158df2][_0x26fb02]++;}}});const _0x54ae2d=await this[_0x5ca3c0(0x238)](_0x493f3a);(!_0x54ae2d||!_0x54ae2d['val']||_0x54ae2d[_0x5ca3c0(0x22e)]==='{}'||_0x54ae2d[_0x5ca3c0(0x22e)][_0x5ca3c0(0x22f)](_0x5ca3c0(0x1ed)))&&await this['setStateAsync'](_0x493f3a,{'val':JSON['stringify'](_0x4e9904),'ack':!![]}),await this[_0x5ca3c0(0x2ba)](_0x1c2a5d,{'val':JSON[_0x5ca3c0(0x1e0)](_0xfa68ae),'ack':!![]}),await this[_0x5ca3c0(0x2ba)](_0x5e5aba,{'val':JSON[_0x5ca3c0(0x1e0)](_0x5c5a3c),'ack':!![]}),this['log'][_0x5ca3c0(0x29f)](_0x5ca3c0(0x2ea));}async[a0_0x9bce49(0x25d)](){const _0x3429fb=a0_0x9bce49;if(!this[_0x3429fb(0x2e1)][_0x3429fb(0x224)])return;const _0x1b3337=new Date()[_0x3429fb(0x2a4)]()[_0x3429fb(0x217)]('T')[0x0];this['log'][_0x3429fb(0x304)]('üíæ\x20Saving\x20Daily\x20History\x20for\x20'+_0x1b3337+_0x3429fb(0x25f));try{const [_0x4da6f1,_0x6f51b4,_0x1472cd,_0x361b10,_0x462e43,_0x38e505]=await Promise[_0x3429fb(0x252)]([this[_0x3429fb(0x238)](_0x3429fb(0x24c)),this[_0x3429fb(0x238)](_0x3429fb(0x2f2)),this[_0x3429fb(0x238)](_0x3429fb(0x1fc)),this[_0x3429fb(0x238)](_0x3429fb(0x300)),this[_0x3429fb(0x238)](_0x3429fb(0x1ef)),this[_0x3429fb(0x238)](_0x3429fb(0x314))]),_0x1dd6e6=this[_0x3429fb(0x221)][_0x3429fb(0x1f8)](_0x1d62fc=>_0x1d62fc[_0x3429fb(0x21d)]>=new Date()[_0x3429fb(0x220)](0x0,0x0,0x0,0x0)&&(_0x1d62fc[_0x3429fb(0x2d3)]['toLowerCase']()['includes'](_0x3429fb(0x1c6))||_0x1d62fc[_0x3429fb(0x2d3)][_0x3429fb(0x285)]()[_0x3429fb(0x22f)](_0x3429fb(0x1e6)))&&(_0x1d62fc[_0x3429fb(0x291)]===!![]||_0x1d62fc[_0x3429fb(0x291)]===_0x3429fb(0x28c)))['length'];let _0xe6271=0x55;if(_0x38e505&&_0x38e505[_0x3429fb(0x22e)]!==undefined)_0xe6271=Math[_0x3429fb(0x2f3)](0x64,Math['max'](0x14,Math['round'](0x50+Number(_0x38e505[_0x3429fb(0x22e)])*0x5)));const _0x1c5f5c={'date':_0x1b3337,'timestamp':Date[_0x3429fb(0x2fc)](),'roomHistory':_0x4da6f1?.[_0x3429fb(0x22e)]?JSON[_0x3429fb(0x289)](_0x4da6f1[_0x3429fb(0x22e)]):{},'geminiNight':_0x6f51b4?.[_0x3429fb(0x22e)]||_0x3429fb(0x212),'geminiDay':_0x1472cd?.[_0x3429fb(0x22e)]||_0x3429fb(0x212),'anomalyScore':_0x361b10?.[_0x3429fb(0x22e)]||0.1,'todayVector':_0x462e43?.[_0x3429fb(0x22e)]?JSON[_0x3429fb(0x289)](_0x462e43[_0x3429fb(0x22e)]):new Array(0x30)['fill'](0x0),'batteryLevel':_0xe6271,'freshAirCount':_0x1dd6e6,'eventHistory':this[_0x3429fb(0x221)]},_0xf08902=utils['getAbsoluteDefaultDataDir'](),_0x3fcd7f=path[_0x3429fb(0x2be)](_0xf08902,_0x3429fb(0x204),_0x3429fb(0x2b4));if(!fs[_0x3429fb(0x1f4)](_0x3fcd7f))fs[_0x3429fb(0x2de)](_0x3fcd7f,{'recursive':!![]});const _0x595b46=path[_0x3429fb(0x2be)](_0x3fcd7f,_0x1b3337+_0x3429fb(0x1c7));fs[_0x3429fb(0x1ba)](_0x595b46,JSON[_0x3429fb(0x1e0)](_0x1c5f5c)),this[_0x3429fb(0x27e)]['info'](_0x3429fb(0x1ac)+_0x595b46);}catch(_0x4e2e38){this[_0x3429fb(0x27e)][_0x3429fb(0x1ca)](_0x3429fb(0x2d9)+_0x4e2e38[_0x3429fb(0x256)]);}}async[a0_0x9bce49(0x1fe)](){const _0x1eb627=a0_0x9bce49;if(!this[_0x1eb627(0x306)])return;try{let _0x3a45f1=null;try{const _0x584346=await this[_0x1eb627(0x238)](_0x1eb627(0x1dd)),_0x519c2e=await this[_0x1eb627(0x238)](_0x1eb627(0x267));if(_0x584346&&_0x584346[_0x1eb627(0x22e)]&&_0x519c2e&&_0x519c2e[_0x1eb627(0x22e)]&&_0x519c2e[_0x1eb627(0x22e)]>0.3){if(_0x584346['val']!==_0x1eb627(0x2f5)&&_0x584346[_0x1eb627(0x22e)]!=='Init...')_0x3a45f1=_0x584346[_0x1eb627(0x22e)];}}catch(_0x3e99a9){}if(!_0x3a45f1){const _0x46115b=this[_0x1eb627(0x1d7)][_0x1eb627(0x22c)]||[];for(const _0x2d59a6 of _0x46115b){if(_0x2d59a6[_0x1eb627(0x1c8)]===_0x1eb627(0x1d8)&&_0x2d59a6[_0x1eb627(0x1ea)])try{const _0x1260ff=await this[_0x1eb627(0x251)](_0x2d59a6['id']);if(_0x1260ff&&(_0x1260ff[_0x1eb627(0x22e)]===!![]||_0x1260ff[_0x1eb627(0x22e)]==='on'||_0x1260ff[_0x1eb627(0x22e)]===0x1)){_0x3a45f1=_0x2d59a6[_0x1eb627(0x1ea)];break;}}catch(_0x4a2b43){}}}if(!_0x3a45f1)return;const _0x3362fb=this[_0x1eb627(0x1d7)][_0x1eb627(0x22c)]||[];let _0x5ae272=_0x3a45f1;const _0xb20875=_0x3362fb[_0x1eb627(0x2dc)](_0x1213cd=>_0x1213cd[_0x1eb627(0x1ea)]&&_0x1213cd[_0x1eb627(0x1ea)][_0x1eb627(0x285)]()===_0x3a45f1[_0x1eb627(0x285)]());if(_0xb20875)_0x5ae272=_0xb20875[_0x1eb627(0x1ea)];const _0x32c3b5='analysis.activity.roomHistory',_0x4d3b=await this['getStateAsync'](_0x32c3b5),_0x4d5467=new Date()['toLocaleDateString']();let _0xf90c5d={'history':{},'date':_0x4d5467};if(_0x4d3b&&_0x4d3b[_0x1eb627(0x22e)])try{_0xf90c5d=JSON[_0x1eb627(0x289)](_0x4d3b[_0x1eb627(0x22e)]);}catch(_0x1ccbd5){}_0xf90c5d[_0x1eb627(0x1b3)]!==_0x4d5467&&(_0xf90c5d[_0x1eb627(0x2b4)]={},_0xf90c5d[_0x1eb627(0x1b3)]=_0x4d5467);if(!_0xf90c5d[_0x1eb627(0x2b4)][_0x5ae272])_0xf90c5d[_0x1eb627(0x2b4)][_0x5ae272]=new Array(0x18)['fill'](0x0);const _0x2c17fd=new Date()[_0x1eb627(0x1d4)]();if(_0xf90c5d[_0x1eb627(0x2b4)][_0x5ae272][_0x2c17fd]<0x3c)_0xf90c5d[_0x1eb627(0x2b4)][_0x5ae272][_0x2c17fd]++;await this[_0x1eb627(0x2ba)](_0x32c3b5,{'val':JSON[_0x1eb627(0x1e0)](_0xf90c5d),'ack':!![]});}catch(_0x4c5c0e){this[_0x1eb627(0x27e)][_0x1eb627(0x293)](_0x1eb627(0x215)+_0x4c5c0e[_0x1eb627(0x256)]);}}async['onMessage'](_0x11fa27){const _0xda7730=a0_0x9bce49;if(typeof _0x11fa27==='object'&&_0x11fa27[_0xda7730(0x256)]){if(_0x11fa27[_0xda7730(0x1bb)]===_0xda7730(0x29c)){const _0x32b58c=_0x11fa27[_0xda7730(0x256)][_0xda7730(0x1b3)],_0x385599=utils[_0xda7730(0x2af)](),_0x1a974b=path['join'](_0x385599,_0xda7730(0x204),_0xda7730(0x2b4),_0x32b58c+_0xda7730(0x1c7));if(fs[_0xda7730(0x1f4)](_0x1a974b))try{const _0x41f762=JSON[_0xda7730(0x289)](fs['readFileSync'](_0x1a974b,_0xda7730(0x1d9)));this[_0xda7730(0x203)](_0x11fa27[_0xda7730(0x211)],_0x11fa27[_0xda7730(0x1bb)],{'success':!![],'data':_0x41f762},_0x11fa27['callback']);}catch(_0x1c627a){this[_0xda7730(0x203)](_0x11fa27[_0xda7730(0x211)],_0x11fa27[_0xda7730(0x1bb)],{'success':![],'error':_0xda7730(0x1e5)},_0x11fa27[_0xda7730(0x1d5)]);}else this[_0xda7730(0x203)](_0x11fa27['from'],_0x11fa27[_0xda7730(0x1bb)],{'success':![],'error':_0xda7730(0x234)},_0x11fa27[_0xda7730(0x1d5)]);}else{if(_0x11fa27[_0xda7730(0x1bb)]===_0xda7730(0x1dc)){const _0x14a8cf=this[_0xda7730(0x1c3)][_0xda7730(0x1be)];let _0x5f0085=new Array(0x30)[_0xda7730(0x1ae)](0x0),_0x68cb36=Array[_0xda7730(0x211)]({'length':0x30},()=>[]);try{const _0x26010=await this[_0xda7730(0x238)](_0xda7730(0x1ef));if(_0x26010&&_0x26010[_0xda7730(0x22e)])_0x5f0085=JSON[_0xda7730(0x289)](_0x26010[_0xda7730(0x22e)]);const _0xf0061b=await this[_0xda7730(0x238)](_0xda7730(0x24e));if(_0xf0061b&&_0xf0061b['val'])_0x68cb36=JSON[_0xda7730(0x289)](_0xf0061b['val']);}catch(_0x334dbf){}let _0x62b73e=new Array(0x30)[_0xda7730(0x1ae)](0x0);try{const _0x51c6bd=new Date();_0x51c6bd['setDate'](_0x51c6bd[_0xda7730(0x308)]()-0x1);const _0x27a57e=_0x51c6bd[_0xda7730(0x2a4)]()[_0xda7730(0x217)]('T')[0x0],_0x355e83=utils[_0xda7730(0x2af)](),_0x10509a=path[_0xda7730(0x2be)](_0x355e83,_0xda7730(0x204),'history',_0x27a57e+_0xda7730(0x1c7));if(fs[_0xda7730(0x1f4)](_0x10509a)){const _0x4bb93d=JSON[_0xda7730(0x289)](fs[_0xda7730(0x1ec)](_0x10509a,'utf8'));if(_0x4bb93d&&_0x4bb93d[_0xda7730(0x303)])_0x62b73e=_0x4bb93d[_0xda7730(0x303)];}}catch(_0x19e4f3){}let _0x47c263={'today':{},'yesterday':{}};try{const _0xfcaabe=await this[_0xda7730(0x238)](_0xda7730(0x309));if(_0xfcaabe&&_0xfcaabe[_0xda7730(0x22e)])_0x47c263=JSON['parse'](_0xfcaabe[_0xda7730(0x22e)]);}catch(_0x47c20a){}let _0x5b956d=null;try{const _0x3ea923=await this['getStateAsync'](_0xda7730(0x314));if(_0x3ea923)_0x5b956d=_0x3ea923['val'];}catch(_0x4eefc8){}if(_0x5b956d===undefined||_0x5b956d===null){const _0x13787f=_0x5f0085[_0xda7730(0x1c5)]((_0x303fc3,_0x1e21a4)=>_0x303fc3+_0x1e21a4,0x0),_0x790ce8=Math[_0xda7730(0x2f3)](0x2,Math['max'](-0x2,(0x64-_0x13787f)/0x32));_0x5b956d=_0x790ce8;}let _0x3e600e=![],_0x29b353='',_0xe9002='',_0x51884b='';try{const _0x2fd640=await this[_0xda7730(0x238)](_0xda7730(0x26a));if(_0x2fd640&&_0x2fd640[_0xda7730(0x22e)]){_0x3e600e=!![];const _0x22848e=await this[_0xda7730(0x238)]('analysis.automation.description');_0x29b353=_0x22848e?_0x22848e['val']:'';const _0x517ed0=await this['getStateAsync']('analysis.automation.targetId');_0xe9002=_0x517ed0?_0x517ed0[_0xda7730(0x22e)]:'';const _0x7af858=await this[_0xda7730(0x238)](_0xda7730(0x1eb));_0x51884b=_0x7af858?_0x7af858[_0xda7730(0x22e)]:'';}}catch(_0x4b9ab1){}const _0x24253b=await this[_0xda7730(0x2da)](),_0x47b68c=(this[_0xda7730(0x1d7)]['devices']||[])[_0xda7730(0x1bd)](_0x426e4f=>_0x426e4f['isSolar']),_0x1796fb=_0x24253b&&_0x47b68c;let _0x2a4868='';try{const _0x1e259d=await this['getStateAsync'](_0xda7730(0x24a));if(_0x1e259d&&_0x1e259d['val'])_0x2a4868=_0x1e259d[_0xda7730(0x22e)];}catch(_0x52af2c){}this[_0xda7730(0x203)](_0x11fa27[_0xda7730(0x211)],_0x11fa27['command'],{'success':!![],'eventHistory':this[_0xda7730(0x221)][_0xda7730(0x1d0)](0x0,0x7d0),'stats':{'digestCount':_0x14a8cf,'isPresent':this[_0xda7730(0x306)],'hourlyActivity':_0x5f0085,'hourlyDetails':_0x68cb36,'yesterdayActivity':_0x62b73e,'solarActive':_0x1796fb,'presenceWho':_0x2a4868,'roomStats':_0x47c263,'activityTrend':_0x5b956d,'modules':this['activeModules']},'automation':{'detected':_0x3e600e,'description':_0x29b353,'targetId':_0xe9002,'targetValue':_0x51884b}},_0x11fa27['callback']);}else{if(_0x11fa27[_0xda7730(0x1bb)]==='checkThermostats')try{const _0x31fd25=await automation[_0xda7730(0x2fd)](this);this[_0xda7730(0x203)](_0x11fa27[_0xda7730(0x211)],_0x11fa27[_0xda7730(0x1bb)],{'success':!![],'results':_0x31fd25},_0x11fa27[_0xda7730(0x1d5)]);}catch(_0x4fd196){this[_0xda7730(0x203)](_0x11fa27['from'],_0x11fa27[_0xda7730(0x1bb)],{'success':![],'error':_0x4fd196[_0xda7730(0x256)]},_0x11fa27[_0xda7730(0x1d5)]);}else{if(_0x11fa27[_0xda7730(0x1bb)]===_0xda7730(0x272))try{const _0x534a1f=await scanner[_0xda7730(0x1db)](this,_0x11fa27[_0xda7730(0x256)]||{});this[_0xda7730(0x203)](_0x11fa27[_0xda7730(0x211)],_0x11fa27[_0xda7730(0x1bb)],{'success':!![],'devices':_0x534a1f},_0x11fa27[_0xda7730(0x1d5)]);}catch(_0x2fc3cc){}else{if(_0x11fa27['command']===_0xda7730(0x21c)){const _0x3b2fe7=await this['getForeignObjectsAsync'](_0xda7730(0x2f9),_0xda7730(0x2e6)),_0x12a3fd=[];if(_0x3b2fe7)for(const _0x5035ac in _0x3b2fe7){let _0x1f3d39=_0x3b2fe7[_0x5035ac][_0xda7730(0x23c)][_0xda7730(0x2d3)];if(_0x1f3d39&&typeof _0x1f3d39===_0xda7730(0x227))_0x1f3d39=_0x1f3d39['de']||_0x1f3d39['en']||Object[_0xda7730(0x2a0)](_0x1f3d39)[0x0]||JSON[_0xda7730(0x1e0)](_0x1f3d39);_0x12a3fd[_0xda7730(0x230)]({'id':_0x5035ac,'name':String(_0x1f3d39||_0x5035ac)});}const _0x490da8=await this[_0xda7730(0x1f1)]('enum.rooms.*','enum'),_0x290c30=[];if(_0x490da8)for(const _0x4e9939 in _0x490da8){let _0x599852=_0x490da8[_0x4e9939]['common'][_0xda7730(0x2d3)];if(_0x599852&&typeof _0x599852===_0xda7730(0x227))_0x599852=_0x599852['de']||_0x599852['en']||Object[_0xda7730(0x2a0)](_0x599852)[0x0]||JSON['stringify'](_0x599852);_0x290c30[_0xda7730(0x230)](String(_0x599852||_0x4e9939[_0xda7730(0x217)]('.')[_0xda7730(0x2d1)]()));}this[_0xda7730(0x203)](_0x11fa27['from'],_0x11fa27[_0xda7730(0x1bb)],{'success':!![],'enums':_0x12a3fd,'rooms':_0x290c30},_0x11fa27[_0xda7730(0x1d5)]);}else{if(_0x11fa27[_0xda7730(0x1bb)]===_0xda7730(0x30c))try{const _0x29a919=await this[_0xda7730(0x1ab)]('system',_0xda7730(0x2b5),{'startkey':_0xda7730(0x2e0),'endkey':_0xda7730(0x24b)}),_0x1247d1=new Set();if(_0x29a919&&_0x29a919[_0xda7730(0x201)])for(const _0x4c375b of _0x29a919[_0xda7730(0x201)]){const _0x5715c2=_0x4c375b['id'][_0xda7730(0x29a)](_0xda7730(0x265),''),_0x5edc99=await this[_0xda7730(0x251)](_0x5715c2+'.data.table');let _0x4910f9=![];if(_0x5edc99&&_0x5edc99[_0xda7730(0x22e)]){const _0x48d3a9=typeof _0x5edc99[_0xda7730(0x22e)]===_0xda7730(0x26c)?JSON[_0xda7730(0x289)](_0x5edc99[_0xda7730(0x22e)]):_0x5edc99[_0xda7730(0x22e)];Array[_0xda7730(0x21f)](_0x48d3a9)&&_0x48d3a9[_0xda7730(0x30b)](_0x414ad8=>{const _0x261346=_0xda7730;_0x414ad8[_0x261346(0x282)]&&(_0x1247d1[_0x261346(0x1c0)](_0x414ad8['calendarName']),_0x4910f9=!![]);});}!_0x4910f9&&_0x1247d1[_0xda7730(0x1c0)](_0x5715c2);}const _0x5ec642=Array[_0xda7730(0x211)](_0x1247d1);if(_0x5ec642[_0xda7730(0x1be)]===0x0)_0x5ec642['push']('Standard');this[_0xda7730(0x203)](_0x11fa27['from'],_0x11fa27[_0xda7730(0x1bb)],{'success':!![],'names':_0x5ec642},_0x11fa27[_0xda7730(0x1d5)]);}catch(_0x5ef3ce){this['sendTo'](_0x11fa27[_0xda7730(0x211)],_0x11fa27['command'],{'success':![],'error':_0xda7730(0x1d3)+_0x5ef3ce[_0xda7730(0x256)]},_0x11fa27[_0xda7730(0x1d5)]);}else{if(_0x11fa27['command']===_0xda7730(0x28d))try{await automation[_0xda7730(0x1b7)](this),this[_0xda7730(0x203)](_0x11fa27[_0xda7730(0x211)],_0x11fa27[_0xda7730(0x1bb)],{'success':!![]},_0x11fa27[_0xda7730(0x1d5)]);}catch(_0x5c790d){this[_0xda7730(0x27e)][_0xda7730(0x293)](_0xda7730(0x1cf)+_0x5c790d[_0xda7730(0x256)]),this[_0xda7730(0x203)](_0x11fa27[_0xda7730(0x211)],_0x11fa27[_0xda7730(0x1bb)],{'success':![],'error':_0x5c790d[_0xda7730(0x256)]},_0x11fa27[_0xda7730(0x1d5)]);}else{if(_0x11fa27[_0xda7730(0x1bb)]===_0xda7730(0x2ef))try{const _0x1a7e2e=_0x11fa27[_0xda7730(0x256)]?_0x11fa27[_0xda7730(0x256)][_0xda7730(0x2d4)]:'';if(!_0x1a7e2e)throw new Error('Kein\x20API\x20Key\x20√ºbergeben.');const _0x379d5e=new GoogleGenerativeAI(_0x1a7e2e),_0x3f6198=_0x379d5e[_0xda7730(0x20a)]({'model':GEMINI_MODEL}),_0x1ecdc3=await _0x3f6198[_0xda7730(0x2a6)](_0xda7730(0x2ad)),_0x53addf=await _0x1ecdc3[_0xda7730(0x292)],_0x224c16=_0x53addf['text']();this[_0xda7730(0x203)](_0x11fa27[_0xda7730(0x211)],_0x11fa27[_0xda7730(0x1bb)],{'success':!![],'message':_0xda7730(0x1f5)+_0x224c16[_0xda7730(0x299)](0x0,0x14)+_0xda7730(0x25f)},_0x11fa27[_0xda7730(0x1d5)]);}catch(_0x14432b){this['sendTo'](_0x11fa27[_0xda7730(0x211)],_0x11fa27[_0xda7730(0x1bb)],{'success':![],'message':_0x14432b[_0xda7730(0x256)]},_0x11fa27[_0xda7730(0x1d5)]);}else{if(_0x11fa27[_0xda7730(0x1bb)]===_0xda7730(0x236))try{const _0xd2d9c0=await this[_0xda7730(0x2da)](),_0x1d8796=await this[_0xda7730(0x1ab)](_0xda7730(0x2b0),'instance',{'startkey':_0xda7730(0x2e0),'endkey':_0xda7730(0x24b)}),_0xb5bbcb=_0x1d8796&&_0x1d8796[_0xda7730(0x201)]?_0x1d8796[_0xda7730(0x201)][_0xda7730(0x1be)]:0x0;this[_0xda7730(0x203)](_0x11fa27['from'],_0x11fa27[_0xda7730(0x1bb)],{'success':!![],'weather':_0xda7730(0x1cc)+_0xd2d9c0+_0xda7730(0x2a2)+(this['sensorLastValues'][this[_0xda7730(0x1d7)][_0xda7730(0x2e3)]]||'?')+'¬∞C','calendar':_0xb5bbcb+_0xda7730(0x2c5)},_0x11fa27[_0xda7730(0x1d5)]);}catch(_0x2fa13b){this['sendTo'](_0x11fa27[_0xda7730(0x211)],_0x11fa27['command'],{'success':![]},_0x11fa27[_0xda7730(0x1d5)]);}}}}}}}}}}}[a0_0x9bce49(0x25e)](){const _0x31a89a=a0_0x9bce49;if(!this[_0x31a89a(0x2e1)]['health'])return;this[_0x31a89a(0x27e)][_0x31a89a(0x304)](_0x31a89a(0x29b));try{const _0xf83e38=this[_0x31a89a(0x1e3)]||[];pythonBridge['send'](this,_0x31a89a(0x28e),{'events':_0xf83e38});}catch(_0x3c2eb1){this[_0x31a89a(0x27e)][_0x31a89a(0x293)](_0x31a89a(0x2b1));}}async[a0_0x9bce49(0x2a3)](_0x276d2b,_0x5a69d1){const _0xe88b3b=a0_0x9bce49;if(!_0x5a69d1||this['dependencyInstallInProgress'])return;if(_0x276d2b[_0xe88b3b(0x22f)](_0xe88b3b(0x2b2))&&_0x276d2b[_0xe88b3b(0x315)](_0xe88b3b(0x2e4))&&_0x5a69d1[_0xe88b3b(0x22e)])return;if(this[_0xe88b3b(0x1d7)][_0xe88b3b(0x22a)]&&_0x276d2b===this['config']['infrasoundSensorId']&&this['activeModules'][_0xe88b3b(0x254)]){this[_0xe88b3b(0x28b)](_0x5a69d1[_0xe88b3b(0x22e)]);return;}if(_0x5a69d1['ack']&&_0x276d2b[_0xe88b3b(0x315)](_0xe88b3b(0x1c2)))return;if(_0x276d2b===this[_0xe88b3b(0x24f)]+'.system.mode'){if(_0x5a69d1[_0xe88b3b(0x22e)]&&Object[_0xe88b3b(0x2a0)](setup[_0xe88b3b(0x2ff)])['includes'](_0x5a69d1['val'])){this[_0xe88b3b(0x258)]=_0x5a69d1[_0xe88b3b(0x22e)];if(_0x5a69d1['val']===setup[_0xe88b3b(0x2ff)][_0xe88b3b(0x2b7)])await recorder[_0xe88b3b(0x28f)](this,![]);else await recorder[_0xe88b3b(0x28f)](this,!![]);if(this[_0xe88b3b(0x294)]){let _0x1e4e1d=![],_0xa70aa7=0x0,_0x7a3112=_0xe88b3b(0x2f1);if(this[_0xe88b3b(0x258)]===_0xe88b3b(0x1f0))_0x1e4e1d=!![],_0xa70aa7=0x168,_0x7a3112='Party\x20Mode';else this[_0xe88b3b(0x258)]===_0xe88b3b(0x25c)&&(_0x1e4e1d=!![],_0xa70aa7=0x5a0,_0x7a3112='Guest\x20Mode');pythonBridge[_0xe88b3b(0x223)](this,_0xe88b3b(0x1b8),{'active':_0x1e4e1d,'duration':_0xa70aa7,'label':_0x7a3112}),await this[_0xe88b3b(0x2ba)]('analysis.security.learningStatus',{'val':JSON[_0xe88b3b(0x1e0)]({'active':_0x1e4e1d,'label':_0x7a3112,'timestamp':Date[_0xe88b3b(0x2fc)]()}),'ack':!![]});}}if(!_0x5a69d1[_0xe88b3b(0x1c1)])this[_0xe88b3b(0x2f0)](_0x276d2b,{'val':this[_0xe88b3b(0x258)],'ack':!![]});return;}if(_0x276d2b[_0xe88b3b(0x315)](_0xe88b3b(0x2d2))&&_0x5a69d1[_0xe88b3b(0x1c1)])this[_0xe88b3b(0x280)](_0x5a69d1[_0xe88b3b(0x22e)]);if(_0x276d2b[_0xe88b3b(0x315)](_0xe88b3b(0x29e))&&_0x5a69d1[_0xe88b3b(0x1c1)]&&this[_0xe88b3b(0x2e1)][_0xe88b3b(0x244)])automation[_0xe88b3b(0x207)](this);if(!_0x5a69d1[_0xe88b3b(0x1c1)]){if(_0x276d2b[_0xe88b3b(0x22f)]('analysis.trigger')&&_0x5a69d1[_0xe88b3b(0x22e)]){this['setState'](_0x276d2b,{'val':![],'ack':!![]}),aiAgent[_0xe88b3b(0x281)](this);return;}if(_0x276d2b[_0xe88b3b(0x22f)](_0xe88b3b(0x27b))&&_0x5a69d1[_0xe88b3b(0x22e)]){this[_0xe88b3b(0x2f0)](_0x276d2b,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0xe88b3b(0x259)](this,pythonBridge);return;}if(_0x276d2b[_0xe88b3b(0x22f)](_0xe88b3b(0x2fe))&&_0x5a69d1[_0xe88b3b(0x22e)]){this[_0xe88b3b(0x2f0)](_0x276d2b,{'val':![],'ack':!![]}),aiAgent[_0xe88b3b(0x317)](this);return;}if(_0x276d2b[_0xe88b3b(0x22f)](_0xe88b3b(0x23b))&&_0x5a69d1[_0xe88b3b(0x22e)]){this[_0xe88b3b(0x2f0)](_0x276d2b,{'val':![],'ack':!![]}),aiAgent[_0xe88b3b(0x242)](this);return;}if(_0x276d2b[_0xe88b3b(0x22f)](_0xe88b3b(0x213))&&_0x5a69d1[_0xe88b3b(0x22e)]){this[_0xe88b3b(0x2f0)](_0x276d2b,{'val':![],'ack':!![]});if(this[_0xe88b3b(0x294)])try{const _0x65d16e=await this['getStateAsync']('LTM.trainingData.sequences');if(_0x65d16e&&_0x65d16e[_0xe88b3b(0x22e)]){const _0x5def2e=JSON['parse'](_0x65d16e[_0xe88b3b(0x22e)]);this['setStateAsync']('analysis.training.status',{'val':_0xe88b3b(0x2c6),'ack':!![]}),pythonBridge[_0xe88b3b(0x223)](this,_0xe88b3b(0x30f),{'sequences':_0x5def2e});}}catch(_0x23bfbe){}return;}if(_0x276d2b[_0xe88b3b(0x22f)]('analysis.training.triggerHealth')&&_0x5a69d1[_0xe88b3b(0x22e)]){this['setState'](_0x276d2b,{'val':![],'ack':!![]});try{aiAgent[_0xe88b3b(0x1e8)](this,_0xe88b3b(0x2cb)),setTimeout(()=>aiAgent[_0xe88b3b(0x1e8)](this,_0xe88b3b(0x1b4)),0x2ee0);if(this[_0xe88b3b(0x294)]){this['runPythonHealthCheck']();const _0x5b756f=await this['getStateAsync'](_0xe88b3b(0x271));if(_0x5b756f&&_0x5b756f['val'])pythonBridge[_0xe88b3b(0x223)](this,_0xe88b3b(0x278),{'digests':JSON['parse'](_0x5b756f[_0xe88b3b(0x22e)])});}}catch(_0x13557a){this['log'][_0xe88b3b(0x293)]('triggerHealth\x20error:\x20'+_0x13557a[_0xe88b3b(0x256)]);}return;}if(_0x276d2b[_0xe88b3b(0x22f)]('analysis.training.triggerEnergy')&&_0x5a69d1[_0xe88b3b(0x22e)]){this[_0xe88b3b(0x2f0)](_0x276d2b,{'val':![],'ack':!![]}),await this[_0xe88b3b(0x1af)]();return;}if(_0x276d2b[_0xe88b3b(0x22f)](_0xe88b3b(0x312))&&_0x5a69d1[_0xe88b3b(0x22e)]){this[_0xe88b3b(0x2f0)](_0x276d2b,{'val':![],'ack':!![]});if(this[_0xe88b3b(0x294)])try{const _0x485ed4=await this[_0xe88b3b(0x238)](_0xe88b3b(0x2ec));if(_0x485ed4&&_0x485ed4[_0xe88b3b(0x22e)]){const _0x105a04={};if(this[_0xe88b3b(0x1d7)][_0xe88b3b(0x22c)])this[_0xe88b3b(0x1d7)][_0xe88b3b(0x22c)][_0xe88b3b(0x30b)](_0xa83889=>{const _0x236022=_0xe88b3b;if(_0xa83889['id']&&_0xa83889[_0x236022(0x1c8)])_0x105a04[_0xa83889['id']]=_0xa83889[_0x236022(0x1c8)];});pythonBridge[_0xe88b3b(0x223)](this,'TRAIN_COMFORT',{'events':JSON[_0xe88b3b(0x289)](_0x485ed4[_0xe88b3b(0x22e)]),'deviceMap':_0x105a04});}}catch(_0x3c4db1){}return;}if(_0x276d2b['includes'](_0xe88b3b(0x1f2))&&_0x5a69d1[_0xe88b3b(0x22e)]){this['setState'](_0x276d2b,{'val':![],'ack':!![]}),topology[_0xe88b3b(0x1b1)](this);if(this['isProVersion'])try{const _0x4e2685=await this[_0xe88b3b(0x238)](_0xe88b3b(0x2a1));if(_0x4e2685&&_0x4e2685[_0xe88b3b(0x22e)])pythonBridge[_0xe88b3b(0x223)](this,'TRAIN_TOPOLOGY',{'sequences':JSON[_0xe88b3b(0x289)](_0x4e2685['val'])});}catch(_0x5e5cfb){}return;}}const _0x3d06ae=(this[_0xe88b3b(0x1d7)][_0xe88b3b(0x22c)]||[])[_0xe88b3b(0x2dc)](_0x1972c8=>_0x1972c8['id']===_0x276d2b);if(_0x3d06ae){const _0x4367b8=await recorder[_0xe88b3b(0x1f9)](this,_0x276d2b,_0x5a69d1,_0x3d06ae);_0x4367b8&&this[_0xe88b3b(0x2f0)](_0xe88b3b(0x2a7),{'val':Date[_0xe88b3b(0x2fc)](),'ack':!![]});_0x4367b8&&_0x4367b8['type']===_0xe88b3b(0x1d8)&&_0x4367b8[_0xe88b3b(0x1ea)]&&this[_0xe88b3b(0x294)]&&deadMan['updateLocation'](this,_0x4367b8[_0xe88b3b(0x1ea)]);_0x5a69d1[_0xe88b3b(0x22e)]&&(_0x5a69d1[_0xe88b3b(0x22e)]===!![]||_0x5a69d1[_0xe88b3b(0x22e)]===0x1||String(_0x5a69d1[_0xe88b3b(0x22e)])[_0xe88b3b(0x285)]()===_0xe88b3b(0x28c))&&(_0x3d06ae[_0xe88b3b(0x1c8)]&&(_0x3d06ae['type'][_0xe88b3b(0x22f)]('window')||_0x3d06ae[_0xe88b3b(0x1c8)]['includes']('door'))&&this[_0xe88b3b(0x2df)](_0x3d06ae));if(_0x3d06ae[_0xe88b3b(0x1c8)]===_0xe88b3b(0x219)||_0x3d06ae[_0xe88b3b(0x1c8)]==='thermostat'){if(this['activeModules'][_0xe88b3b(0x244)])automation['cleanupGhostInterventions'](this);}}}async[a0_0x9bce49(0x280)](_0xd149fb){const _0x2053b1=a0_0x9bce49;if(!this[_0x2053b1(0x2b9)]||Date[_0x2053b1(0x2fc)]()-this[_0x2053b1(0x296)]>0x493e0)return;try{const _0x159857=JSON[_0x2053b1(0x289)](_0xd149fb),_0xa7ec30=this[_0x2053b1(0x2b9)][_0x2053b1(0x243)];let _0x2fe0fa=![];for(const _0x88f0ea in _0xa7ec30){if(_0xa7ec30[_0x88f0ea]['includes']('AI')&&_0x159857[_0x88f0ea]&&!_0x159857[_0x88f0ea][_0x2053b1(0x22f)]('AI')){_0x2fe0fa=!![];break;}}_0x2fe0fa&&(await this[_0x2053b1(0x2ba)]('analysis.energy.warmupTimes',{'val':JSON[_0x2053b1(0x1e0)](this[_0x2053b1(0x2b9)][_0x2053b1(0x2ae)]),'ack':!![]}),await this[_0x2053b1(0x2ba)]('analysis.energy.warmupSources',{'val':JSON[_0x2053b1(0x1e0)](this[_0x2053b1(0x2b9)]['sources']),'ack':!![]}));}catch(_0x1625b7){}}async[a0_0x9bce49(0x2b8)](){const _0x8804cb=a0_0x9bce49;try{const _0x9a5d6b=await this[_0x8804cb(0x238)](setup[_0x8804cb(0x2d5)]);if(_0x9a5d6b&&_0x9a5d6b[_0x8804cb(0x22e)])this[_0x8804cb(0x258)]=_0x9a5d6b[_0x8804cb(0x22e)];}catch(_0x2dcf63){this[_0x8804cb(0x258)]=setup[_0x8804cb(0x2ff)][_0x8804cb(0x2c2)];}}async[a0_0x9bce49(0x30a)](){const _0x4b5a0e=a0_0x9bce49,_0x3911e7=this[_0x4b5a0e(0x1d7)][_0x4b5a0e(0x277)]||[];if(_0x3911e7[_0x4b5a0e(0x1be)]===0x0)return![];const _0x3dbd11=[],_0x5421fc=Date[_0x4b5a0e(0x2fc)](),_0x799a11=0x5*0x3c*0x3e8;for(const _0x168560 of _0x3911e7){try{let _0x3b8e42=![];try{const _0xfa119f=await this['getForeignStateAsync'](_0x168560+_0x4b5a0e(0x2ee));if(_0xfa119f&&_0xfa119f[_0x4b5a0e(0x22e)]===!![])_0x3b8e42=!![];}catch(_0x38b058){}if(!_0x3b8e42)try{const _0x26a642=await this[_0x4b5a0e(0x251)](_0x168560+_0x4b5a0e(0x1fa));if(_0x26a642&&_0x26a642['ts']){const _0x81be1c=_0x5421fc-_0x26a642['ts'];if(_0x81be1c<_0x799a11)_0x3b8e42=!![];}}catch(_0x256e41){}if(!_0x3b8e42)try{const _0x4bb879=await this['getForeignStateAsync'](_0x168560+_0x4b5a0e(0x23e));if(_0x4bb879&&typeof _0x4bb879[_0x4b5a0e(0x22e)]===_0x4b5a0e(0x2bb)&&_0x4bb879[_0x4b5a0e(0x22e)]>0x0)_0x3b8e42=!![];}catch(_0x3d12e4){}if(!_0x3b8e42)try{const _0x595f83=await this[_0x4b5a0e(0x251)](_0x168560);if(_0x595f83){const _0x786acc=_0x5421fc-(_0x595f83['ts']||0x0);_0x786acc<_0x799a11&&(_0x595f83[_0x4b5a0e(0x22e)]===!![]||_0x595f83['val']===_0x4b5a0e(0x302)||_0x595f83[_0x4b5a0e(0x22e)]===0x1)&&(_0x3b8e42=!![]);}}catch(_0x482993){}if(_0x3b8e42){const _0x2670ac=_0x168560[_0x4b5a0e(0x217)]('.'),_0x39baf4=_0x2670ac[_0x2670ac[_0x4b5a0e(0x1be)]-0x1]||_0x168560;_0x3dbd11['push'](_0x39baf4);}}catch(_0x34cc02){this[_0x4b5a0e(0x27e)]['warn'](_0x4b5a0e(0x30e)+_0x168560+':\x20'+_0x34cc02[_0x4b5a0e(0x256)]);}}const _0xc1810b=_0x3dbd11['length']>0x0?_0x3dbd11['join'](',\x20'):_0x4b5a0e(0x231);return await this['setStateAsync'](_0x4b5a0e(0x24a),{'val':_0xc1810b,'ack':!![]}),_0x3dbd11[_0x4b5a0e(0x1be)]>0x0;}async['runAutopilot'](){const _0x32ef71=a0_0x9bce49;await aiAgent['runGeminiAnalysis'](this);this[_0x32ef71(0x2e1)][_0x32ef71(0x224)]&&(this[_0x32ef71(0x2cc)](),this[_0x32ef71(0x2fb)]());if(this[_0x32ef71(0x2e1)]['energy'])this[_0x32ef71(0x1af)]();}async[a0_0x9bce49(0x2da)](){const _0x33bf6f=a0_0x9bce49,_0x40a211=['weatherunderground.0',_0x33bf6f(0x298),_0x33bf6f(0x2c9)],_0x5e0971=[_0x33bf6f(0x2bc),_0x33bf6f(0x276),_0x33bf6f(0x311)];for(const _0x30ce99 of _0x40a211){for(const _0x502e9e of _0x5e0971){try{const _0x24e88f=_0x30ce99+'.'+_0x502e9e,_0x3f6f14=await this[_0x33bf6f(0x251)](_0x24e88f);if(_0x3f6f14&&_0x3f6f14[_0x33bf6f(0x22e)]){const _0x22f7f6=String(_0x3f6f14[_0x33bf6f(0x22e)])['toLowerCase']();if(_0x22f7f6[_0x33bf6f(0x22f)]('sunny')||_0x22f7f6['includes'](_0x33bf6f(0x27c))||_0x22f7f6['includes'](_0x33bf6f(0x23a))||_0x22f7f6[_0x33bf6f(0x22f)]('sonn')||_0x22f7f6[_0x33bf6f(0x22f)](_0x33bf6f(0x26f)))return this[_0x33bf6f(0x27e)][_0x33bf6f(0x304)](_0x33bf6f(0x26e)+_0x24e88f),!![];}}catch(_0xaf9c8d){}}}return![];}[a0_0x9bce49(0x2fb)](){const _0x1f21eb=a0_0x9bce49;if(!this['isProVersion'])return;try{this[_0x1f21eb(0x238)]('LTM.trainingData.sequences',(_0x458c5a,_0x15a252)=>{const _0x1c8a03=_0x1f21eb;if(_0x458c5a||!_0x15a252||!_0x15a252[_0x1c8a03(0x22e)])return;try{const _0x1f017b=JSON['parse'](_0x15a252[_0x1c8a03(0x22e)]);if(!_0x1f017b||_0x1f017b[_0x1c8a03(0x1be)]===0x0)return;pythonBridge[_0x1c8a03(0x223)](this,_0x1c8a03(0x301),{'sequences':_0x1f017b}),this[_0x1c8a03(0x27e)]['debug'](_0x1c8a03(0x200)+_0x1f017b[_0x1c8a03(0x1be)]+_0x1c8a03(0x2cd));}catch(_0x4b556d){this[_0x1c8a03(0x27e)][_0x1c8a03(0x293)](_0x1c8a03(0x27f)+_0x4b556d[_0x1c8a03(0x256)]);}});}catch(_0x23efa0){this['log']['warn'](_0x1f21eb(0x246)+_0x23efa0[_0x1f21eb(0x256)]);}}async[a0_0x9bce49(0x1af)](){const _0x481932=a0_0x9bce49;if(!this[_0x481932(0x294)]||!this['activeModules']['energy'])return;try{const _0x131e7d={},_0x4717f0={},_0x2e95b2=this[_0x481932(0x1d7)]['devices']||[];for(const _0x4a62da of _0x2e95b2){if((_0x4a62da['type']===_0x481932(0x219)||_0x4a62da['type']===_0x481932(0x2d0))&&_0x4a62da['location'])try{const _0x4ee36d=await this[_0x481932(0x251)](_0x4a62da['id']);_0x4ee36d&&typeof _0x4ee36d[_0x481932(0x22e)]===_0x481932(0x2bb)&&(_0x131e7d[_0x4a62da[_0x481932(0x1ea)]]=_0x4ee36d['val'],_0x4717f0[_0x4a62da[_0x481932(0x1ea)]]=_0x4a62da['isSolar']||![]);}catch(_0x3b2421){}}let _0x3510b6=0xa;if(this[_0x481932(0x1d7)][_0x481932(0x318)])try{const _0x2eca31=await this[_0x481932(0x251)](this[_0x481932(0x1d7)][_0x481932(0x318)]);if(_0x2eca31&&typeof _0x2eca31[_0x481932(0x22e)]==='number')_0x3510b6=_0x2eca31[_0x481932(0x22e)];}catch(_0x5ca7e9){}const _0x298976=await this['checkSolarCondition']();let _0x33afeb={};try{const _0x47187d=await this[_0x481932(0x238)](_0x481932(0x1ff));if(_0x47187d&&_0x47187d['val'])_0x33afeb=JSON[_0x481932(0x289)](_0x47187d['val']);}catch(_0x1ba75d){}pythonBridge[_0x481932(0x223)](this,_0x481932(0x1e1),{'current_temps':_0x131e7d,'t_out':_0x3510b6,'is_sunny':_0x298976,'solar_flags':_0x4717f0,'warmup_targets':_0x33afeb}),this[_0x481932(0x27e)][_0x481932(0x29f)](_0x481932(0x2c3)+Object[_0x481932(0x1ce)](_0x131e7d)[_0x481932(0x1be)]+_0x481932(0x228));}catch(_0x1b8555){this[_0x481932(0x27e)][_0x481932(0x293)]('triggerEnergyPrediction\x20Error:\x20'+_0x1b8555[_0x481932(0x256)]);}}[a0_0x9bce49(0x2cc)](){const _0x47d1ac=a0_0x9bce49;if(!this['rawEventLog']||this[_0x47d1ac(0x1e3)][_0x47d1ac(0x1be)]===0x0)return;const _0x4d09b5=new Array(0x30)[_0x47d1ac(0x1ae)](0x0),_0x4df5ef=Array[_0x47d1ac(0x211)]({'length':0x30},()=>[]),_0xcea007=new Date()[_0x47d1ac(0x220)](0x0,0x0,0x0,0x0);this['rawEventLog'][_0x47d1ac(0x30b)](_0x4c5f2d=>{const _0x190197=_0x47d1ac,_0x21f921=new Date(_0x4c5f2d[_0x190197(0x21d)]);if(_0x21f921[_0x190197(0x2e9)]()>=_0xcea007){const _0x3cde78=_0x21f921['getHours'](),_0x129338=_0x21f921['getMinutes'](),_0x136011=_0x3cde78*0x2+Math[_0x190197(0x25b)](_0x129338/0x1e);_0x136011>=0x0&&_0x136011<0x30&&(_0x4d09b5[_0x136011]++,_0x4df5ef[_0x136011][_0x190197(0x230)]({'time':_0x21f921['toLocaleTimeString'](_0x190197(0x241),{'hour':_0x190197(0x2ce),'minute':_0x190197(0x2ce)}),'location':_0x4c5f2d[_0x190197(0x1ea)]||'Unbekannt','type':_0x4c5f2d[_0x190197(0x1c8)]||_0x190197(0x250)}));}}),this[_0x47d1ac(0x2ba)](_0x47d1ac(0x1ef),{'val':JSON[_0x47d1ac(0x1e0)](_0x4d09b5),'ack':!![]}),this[_0x47d1ac(0x2ba)](_0x47d1ac(0x24e),{'val':JSON[_0x47d1ac(0x1e0)](_0x4df5ef),'ack':!![]});}async[a0_0x9bce49(0x28b)](_0x252d80){const _0x33ac5f=a0_0x9bce49;if(!this['config'][_0x33ac5f(0x22a)]||typeof _0x252d80!==_0x33ac5f(0x2bb))return;const _0xe3cfb2=this[_0x33ac5f(0x1d7)][_0x33ac5f(0x214)]||0.04;this[_0x33ac5f(0x248)][_0x33ac5f(0x230)]({'timestamp':Date[_0x33ac5f(0x2fc)](),'value':_0x252d80}),this[_0x33ac5f(0x248)][_0x33ac5f(0x1be)]>0x64&&this[_0x33ac5f(0x248)]['shift'](),_0x252d80>_0xe3cfb2&&!this[_0x33ac5f(0x21b)]&&(this[_0x33ac5f(0x21b)]=!![],this['log'][_0x33ac5f(0x293)](_0x33ac5f(0x26b)+_0x252d80[_0x33ac5f(0x2c0)](0x4)+_0x33ac5f(0x1de)+_0xe3cfb2+_0x33ac5f(0x2e8)),await this[_0x33ac5f(0x1bf)](_0x252d80,_0x33ac5f(0x1f6)),setTimeout(()=>{const _0x40032d=_0x33ac5f;this[_0x40032d(0x21b)]=![];},0x5*0x3c*0x3e8));}async[a0_0x9bce49(0x1bf)](_0x378eed,_0x285276){const _0x458c2b=a0_0x9bce49;if(!this['isPresent']){const _0x280841=this['eventHistory'][_0x458c2b(0x1d0)](0x0,0xa),_0xd173e0=_0x280841[_0x458c2b(0x20b)](_0x5a7e36=>new Date(_0x5a7e36[_0x458c2b(0x21d)])[_0x458c2b(0x20f)](_0x458c2b(0x241))+_0x458c2b(0x205)+(_0x5a7e36[_0x458c2b(0x1ea)]||_0x458c2b(0x2f5))+':\x20'+_0x5a7e36[_0x458c2b(0x2d3)])[_0x458c2b(0x2be)]('\x0a');this[_0x458c2b(0x27e)][_0x458c2b(0x293)](_0x458c2b(0x263)+_0x378eed[_0x458c2b(0x2c0)](0x4)+_0x458c2b(0x261)+_0xd173e0);if(this['config'][_0x458c2b(0x2d7)])try{const _0x2d2a51=await this[_0x458c2b(0x251)](this[_0x458c2b(0x1d7)]['infrasoundArmingId']);_0x2d2a51&&_0x2d2a51[_0x458c2b(0x22e)]===!![]&&(await this[_0x458c2b(0x2ba)](_0x458c2b(0x279),{'val':JSON[_0x458c2b(0x1e0)]({'timestamp':Date['now'](),'pressure':_0x378eed[_0x458c2b(0x2c0)](0x4),'eventType':_0x285276,'recentEvents':_0x280841[_0x458c2b(0x1d0)](0x0,0x3)}),'ack':!![]}),this[_0x458c2b(0x27e)]['error']('üö®\x20INFRASCHALL-ALARM:\x20Anomalie\x20bei\x20Abwesenheit\x20(scharf)!'));}catch(_0x3eb9f8){}}else this[_0x458c2b(0x27e)][_0x458c2b(0x304)]('üîä\x20Infraschall:\x20'+_0x378eed[_0x458c2b(0x2c0)](0x4)+_0x458c2b(0x1d6));}async[a0_0x9bce49(0x2df)](_0x5e44a1){const _0x5ab5e5=a0_0x9bce49;if(!_0x5e44a1||!_0x5e44a1['location'])return;try{const _0x3f1991=(this[_0x5ab5e5(0x1d7)][_0x5ab5e5(0x22c)]||[])[_0x5ab5e5(0x1f8)](_0x3a3dfe=>_0x3a3dfe['location']===_0x5e44a1[_0x5ab5e5(0x1ea)]&&(_0x3a3dfe[_0x5ab5e5(0x1c8)]===_0x5ab5e5(0x219)||_0x3a3dfe[_0x5ab5e5(0x1c8)]===_0x5ab5e5(0x2d0)));if(_0x3f1991[_0x5ab5e5(0x1be)]===0x0)return;const _0x5e5327=await this[_0x5ab5e5(0x251)](_0x3f1991[0x0]['id']);if(!_0x5e5327||typeof _0x5e5327[_0x5ab5e5(0x22e)]!==_0x5ab5e5(0x2bb))return;const _0xfa13d8=_0x5e5327[_0x5ab5e5(0x22e)];let _0x1b87bd=null;if(this[_0x5ab5e5(0x1d7)]['weatherTempId']){const _0xf30ad4=await this[_0x5ab5e5(0x251)](this[_0x5ab5e5(0x1d7)][_0x5ab5e5(0x318)]);_0xf30ad4&&typeof _0xf30ad4['val']===_0x5ab5e5(0x2bb)&&(_0x1b87bd=_0xf30ad4[_0x5ab5e5(0x22e)]);}if(_0x1b87bd!==null){const _0x1c688e=Math[_0x5ab5e5(0x257)](_0xfa13d8-_0x1b87bd);_0x1c688e>0x3&&(this[_0x5ab5e5(0x27e)]['debug'](_0x5ab5e5(0x1d2)+_0x5e44a1[_0x5ab5e5(0x1ea)]+':\x20Temp-Differenz\x20'+_0x1c688e[_0x5ab5e5(0x2c0)](0x1)+'¬∞C\x20(Innen:\x20'+_0xfa13d8+_0x5ab5e5(0x1cd)+_0x1b87bd+'¬∞C)'),await this[_0x5ab5e5(0x2ba)]('analysis.ventilation.lastWindow',{'val':JSON['stringify']({'room':_0x5e44a1['location'],'timestamp':Date[_0x5ab5e5(0x2fc)](),'tempDiff':_0x1c688e['toFixed'](0x1),'recommendation':_0x1c688e>0x5?_0x5ab5e5(0x22b):_0x5ab5e5(0x1e7)}),'ack':!![]}));}}catch(_0x4f9aa0){this['log'][_0x5ab5e5(0x293)](_0x5ab5e5(0x2ca)+_0x4f9aa0['message']);}}async[a0_0x9bce49(0x1ee)](_0x3fbcf5){const _0x5d9822=a0_0x9bce49;if(!_0x3fbcf5||typeof _0x3fbcf5!==_0x5d9822(0x227))return;const _0x5cac02={'timestamp':_0x3fbcf5['timestamp']||Date[_0x5d9822(0x2fc)](),'id':_0x3fbcf5['id']||Date['now']()[_0x5d9822(0x20c)](),'name':_0x3fbcf5[_0x5d9822(0x2d3)]||_0x5d9822(0x229),'type':_0x3fbcf5[_0x5d9822(0x1c8)]||_0x5d9822(0x1b5),'location':_0x3fbcf5[_0x5d9822(0x1ea)]||_0x5d9822(0x2f5),'value':_0x3fbcf5[_0x5d9822(0x291)]||null};this[_0x5d9822(0x221)][_0x5d9822(0x2d8)](_0x5cac02);if(this[_0x5d9822(0x221)]['length']>0x1388)this[_0x5d9822(0x221)][_0x5d9822(0x2d1)]();await this[_0x5d9822(0x2ba)]('events.history',{'val':JSON['stringify'](this[_0x5d9822(0x221)]),'ack':!![]}),this[_0x5d9822(0x27e)][_0x5d9822(0x304)](_0x5d9822(0x2f6)+_0x5cac02['name']+'\x20('+_0x5cac02[_0x5d9822(0x1ea)]+')');}['sendNotification'](_0x2f4063){}}if(require[a0_0x9bce49(0x287)]!==module)module[a0_0x9bce49(0x1e2)]=_0x30b1b0=>new CogniLiving(_0x30b1b0);else new CogniLiving();function a0_0x31a8(){const _0x56627b=['debug','Adapter','isPresent','moduleSecurity','getDate','analysis.activity.roomStats','checkWifiPresence','forEach','getCalendarNames','General\x20Activity\x20Trend','checkWifiPresence:\x20Error\x20checking\x20','TRAIN_SECURITY','./lib/setup','NextHours.Location_1.Day_1.current.symbol_desc','analysis.training.triggerComfort','4870cEtmar','analysis.health.activityTrend','endsWith','licenseKey','sendMorningBriefing','weatherTempId','calendarCheckTimer','getObjectViewAsync','‚úÖ\x20History\x20saved:\x20','exitTimer','fill','triggerEnergyPrediction','Lernphase\x20(','updateTopology','useCalendar','date','DAY','custom','genAI','updateSchedulePreview','SET_LEARNING_MODE','subscribeForeignStatesAsync','writeFileSync','command','ready','some','length','triggerInfrasoundCorrelation','add','ack','pulse','dailyDigests','1BSoTLF','reduce','haust√ºr','.json','type','lastTrackerEventTime','error','.venv','Sonne:\x20','¬∞C,\x20Au√üen:\x20','keys','refreshCalendar\x20failed:\x20','slice','bind','üí®\x20L√ºftung\x20in\x20','Scan\x20Error:\x20','getHours','callback','\x20(Bewohner\x20anwesend\x20-\x20normal)','config','motion','utf8','analysisTimer','scanForDevices','getOverviewData','analysis.prediction.trackerTopRoom','\x20>\x20','moduleHealth','stringify','PREDICT_ENERGY','exports','rawEventLog','events.history','Corrupt','terrasse','L√ºften\x20empfohlen','generateHealthReport','59\x2023\x20*\x20*\x20*','location','analysis.automation.targetValue','readFileSync','\x22history\x22:{}','appendToLog','analysis.health.todayVector','party','getForeignObjectsAsync','analysis.training.triggerTopology','./lib/installer','existsSync','Verbindung\x20erfolgreich:\x20','threshold_exceeded','python','filter','processSensorEvent','.last_seen','analysis.trigger','analysis.health.geminiDay','Daily\x20Room\x20Details\x20(48x30min)','integrateRoomTime','analysis.energy.warmupTargets','üö∂\x20Gait\x20Analysis\x20triggered\x20with\x20','rows','{\x22history\x22:{}}','sendTo','cogni-living','\x20-\x20','dependencyInstallInProgress','checkCalendarTriggers','geminiModel','moduleComfort','getGenerativeModel','map','toString','844323SSaxuK','systemConfig','toLocaleTimeString','json','from','Keine\x20Daten','analysis.training.triggerSecurity','infrasoundThreshold','[Integrator]\x20Error:\x20','checkLicense','split','onReady','temperature','./lib/automation','infrasoundLocked','getEnums','timestamp','1097968SVIzyg','isArray','setHours','eventHistory','Warte\x20auf\x20Analyse...','send','health','./lib/scheduler','stateChange','object','\x20rooms)','Manual\x20Event','infrasoundEnabled','Gute\x20L√ºftungsm√∂glichkeit!','devices','startSystem','val','includes','push','Niemand','Warm-Up\x20Time','historyJob','No\x20data','Gemini\x20Report\x20Day','testContext','unload','getStateAsync','then','klar','automation.triggerAction','common','./lib/dead_man','.uptime','sensorLastValues','./lib/recorder','de-DE','executeAutomationAction','sources','energy','moduleEnergy','triggerGaitAnalysis\x20error:\x20','Gemini\x20Report\x20Night','pressureBuffer','constructor','system.presenceWho','system.adapter.ical.È¶ô','analysis.activity.roomHistory','roomIntegratorTimer','analysis.health.todayRoomDetails','namespace','Event','getForeignStateAsync','all','./lib/ai_agent','security','path','message','abs','currentSystemMode','createDailyDigest','bin','floor','guest','saveDailyHistory','runPythonHealthCheck','...','initHistory',',\x20Events:\x0a','{\x22today\x22:{},\x20\x22yesterday\x22:{},\x20\x22date\x22:\x22\x22}','üîä\x20FORENSIC:\x20Infraschall\x20bei\x20Abwesenheit!\x20Pressure:\x20','onMessage','system.adapter.','2236575BCvzvt','analysis.prediction.trackerConfidence','Daily\x20Activity\x20Vector\x20(48x30min)','subscribeForeignStates','analysis.automation.patternDetected','üîä\x20Infraschall-Alarm:\x20','string','6zmtBlQ','‚òÄÔ∏è\x20Solar\x20Condition:\x20SUNNY\x20detected\x20via\x20','clear','stopService','LTM.dailyDigests','scanDevices','1737PITjpO','search','minDaysForBaseline','Current.WeatherText','presenceDevices','TRAIN_HEALTH','analysis.safety.infrasoundAlert','inactivityThresholdHours','triggerDailyDigest','heiter','createAllObjects','log','triggerGaitAnalysis\x20parse\x20error:\x20','protectAiMemory','runGeminiAnalysis','calendarName','modules','cancel','toLowerCase','setObjectNotExistsAsync','main','cogni-living\x20adapter\x20starting\x20(v','parse','infrasoundSensorId','handleInfrasound','open','refreshCalendar','CALCULATE_HEALTH_TREND','setPresence','version','value','response','warn','isProVersion','LTM.triggerDailyDigest','bootTime','initZombies','accuweather.0','substring','replace','üêç\x20Triggering\x20Python\x20Health\x20Check\x20(Activity\x20Trend)...','getHistoryData','776582hPIHxk','analysis.energy.warmupTimes','info','values','LTM.trainingData.sequences',',\x20Temp:\x20','onStateChange','toISOString','trackerHeartbeat','generateContent','analysis.visualization.pulse','Aktiv\x20(','driftAnalysisTimer','2116905WQvAjv','healthTrendInterval','geminiApiKey','Say\x20Hello','times','getAbsoluteDefaultDataDir','system','Failed\x20to\x20trigger\x20Python\x20Health\x20Check','telegram','ltmJob','history','instance','abortExitTimer','VACATION','loadSystemMode','memoryCache','setStateAsync','number','forecast.current.weather','presenceCheckTimer','join','(((.+)+)+)+$','toFixed','analysisHistory','NORMAL','üîÆ\x20Energy\x20Prediction\x20triggered\x20(','\x20events\x20from\x20standard\x20storage.','\x20Kalender-Adapter\x20gefunden.','Sec-Training\x20started...','state','application/json','daswetter.0','analyzeWindowOpening\x20error:\x20','NIGHT','updateHealthVector','\x20sequences','2-digit','5wIiQaP','thermostat','pop','analysis.energy.warmupSources','name','apiKey','SYSTEM_DP_MODE','lastAlertState','infrasoundArmingId','unshift','History\x20Save\x20Error:\x20','checkSolarCondition','analysis.training.triggerHealth','find','60OgcsaK','mkdirSync','analyzeWindowOpening','system.adapter.ical.','activeModules','subscribeStates','outdoorSensorId','communicate.request','@google/generative-ai','enum','üì¶\x20Restored\x20','\x20(Threshold)','getTime','‚úÖ\x20Dashboard\x20Data\x20(Rooms\x20&\x20Timeline\x20&\x20Details)\x20restored.','1348856fmpoCF','LTM.rawEventLog',')\x20-\x20Phase\x20E\x20(Scheduler\x20Fix)','.isOnline','testApiKey','setState','manual','analysis.health.geminiNight','min','text','Unknown','üìù\x20Manual\x20event\x20logged:\x20','comfort','replayTodayEvents','enum.functions.*','onUnload','triggerGaitAnalysis','now','scanThermostats','triggerBriefing','SYSTEM_MODES','analysis.security.lastScore','ANALYZE_GAIT','online','todayVector'];a0_0x31a8=function(){return _0x56627b;};return a0_0x31a8();}