const a0_0x44d48f=a0_0x4163;(function(_0x150ce5,_0xeb5fa9){const _0x4888b4=a0_0x4163,_0x3fd19c=_0x150ce5();while(!![]){try{const _0x2e6190=parseInt(_0x4888b4(0x161))/0x1+-parseInt(_0x4888b4(0x183))/0x2*(parseInt(_0x4888b4(0x165))/0x3)+-parseInt(_0x4888b4(0x142))/0x4+parseInt(_0x4888b4(0x1cc))/0x5+-parseInt(_0x4888b4(0x203))/0x6+parseInt(_0x4888b4(0x208))/0x7*(-parseInt(_0x4888b4(0x11e))/0x8)+parseInt(_0x4888b4(0x197))/0x9;if(_0x2e6190===_0xeb5fa9)break;else _0x3fd19c['push'](_0x3fd19c['shift']());}catch(_0x5aa12c){_0x3fd19c['push'](_0x3fd19c['shift']());}}}(a0_0xb549,0xbeb12));const a0_0x4ff3bd=(function(){let _0x2680e5=!![];return function(_0x3548af,_0x18bf07){const _0x41977d=_0x2680e5?function(){const _0x1a60bd=a0_0x4163;if(_0x18bf07){const _0x34db3e=_0x18bf07[_0x1a60bd(0x195)](_0x3548af,arguments);return _0x18bf07=null,_0x34db3e;}}:function(){};return _0x2680e5=![],_0x41977d;};}()),a0_0x28fee7=a0_0x4ff3bd(this,function(){const _0xfd7783=a0_0x4163;return a0_0x28fee7['toString']()[_0xfd7783(0x1a3)](_0xfd7783(0x153))[_0xfd7783(0x19d)]()[_0xfd7783(0x213)](a0_0x28fee7)[_0xfd7783(0x1a3)](_0xfd7783(0x153));});function a0_0x4163(_0x41e614,_0x4b0a0d){const _0x4e4ce8=a0_0xb549();return a0_0x4163=function(_0x28fee7,_0x4ff3bd){_0x28fee7=_0x28fee7-0x119;let _0xb5492f=_0x4e4ce8[_0x28fee7];return _0xb5492f;},a0_0x4163(_0x41e614,_0x4b0a0d);}a0_0x28fee7();'use strict';const utils=require(a0_0x44d48f(0x1f1)),{GoogleGenerativeAI}=require(a0_0x44d48f(0x21b)),installer=require(a0_0x44d48f(0x187)),scanner=require(a0_0x44d48f(0x1ba)),schedulers=require(a0_0x44d48f(0x170)),topology=require(a0_0x44d48f(0x11d)),setup=require('./lib/setup'),recorder=require(a0_0x44d48f(0x1cb)),pythonBridge=require(a0_0x44d48f(0x169)),aiAgent=require(a0_0x44d48f(0x190)),deadMan=require('./lib/dead_man'),automation=require(a0_0x44d48f(0x20c)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0xb549(){const _0x25a239=['config','exports','state','LTM.trainingData.thermodynamics','7482726KhpNXJ','stateChange','type','namespace','floor','194257BsvEiW','TRAIN_COMFORT','setupDriftAnalysisScheduler','setStateAsync','./lib/automation','analysis.energy.insulationScore','.system.mode','currentSystemMode','name','Guest\x20Mode','exitGraceTimer','constructor','analysis.energy.warmupTimes','string','getTime','cancel','minDaysForBaseline','PYTHON_EXE','isPresent','@google/generative-ai','ANALYZE_GAIT','toLowerCase','checkSolarCondition','ack','initSystemConfig','./lib/topology','8IaCLzl','startSystem','system.presenceWho','common',')\x20-\x20Phase\x20D\x20(Stone\x20Soup\x20Tracker)','Gemini\x20Init\x20Error:\x20','updateTopology','Current.WeatherText','triggerDailyDigest','activityLevel','Verbunden','SET_TOPOLOGY','automation.triggerAction','getForeignObjectAsync','\x20min\x20ausbleiben.','Gesendet','calendarInstance','analysis.training.triggerSecurity','pop','weatherunderground.0','cogni-living\x20adapter\x20starting\x20(v','dailyDigests','callback','modeResetJob','.data.table','initZombies','isGracePeriodActive','LTM.dailyDigests','exitTimer','text','now','triggerGaitAnalysis','send','NORMAL','error','setupBriefingScheduler','2787172pLArFK','Lernphase\x20(','SET_LEARNING_MODE','from','trackerHeartbeat','PREDICT_ENERGY','location','forEach','analysisTimer','analysis.automation.patternDetected','onReady','getCalendarNames','setState','onMessage','triggerBriefing','analysis.security.learningStatus','analysis.trigger','(((.+)+)+)+$','scanDevices','debug','SYSTEM_MODES','presenceDevices','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','updated','triggerEnergyPrediction','Kein\x20API\x20Key\x20Ã¼bergeben','Simulation\x20durch\x20Admin\x20(Test)','analysis.automation.triggerAction','useWeather','keys','_calName','476580CqpYLr','driftAnalysisTimer','Daten\x20nicht\x20verfÃ¼gbar','licenseKey','12PltRti','updateHealthVector','briefingJob','createDailyDigest','./lib/python_bridge','calendarName','join','klar','slice','fill','updateLocation','./lib/scheduler','telegram','geminiApiKey','sendNotification','abortExitTimer','setObjectNotExistsAsync','LTM.triggerDailyDigest','application/json','analysis.training.status','isSolar','map','TRAIN_HEALTH','startService','loadSystemMode','systemConfig','val','getStateAsync','unload','endsWith','768784rWNSIm','entries','sonn','sendTo','./lib/installer','party','stringify','push','add','genAI','getOutsideTemperatureNumeric','runGeminiAnalysis','simulateButler','./lib/ai_agent','VACATION','testContext','cogni-living','getMinutes','apply','json','22668219nBcGox','analysis.training.triggerHealth','getHours','Heizung\x20kann\x20','guest','simulateEnergyMPC','toString','getLtmData','notifyTelegramInstance','clear','LTM.rawEventLog','getState','search','checkCalendarTriggers','isProVersion','analysisHistory','geminiModel','analysis.automation.targetId','minutes_safe','manual','stopService','analysisInterval','scores','setupModeResetScheduler','checkWifiPresence','analysis.automation.description','Kein\x20Kalender-Adapter','values','analysis.topology.structure','OPTIMIZE_ENERGY','analysis.training.triggerEnergy','Verbindung\x20erfolgreich!','message','parse','LTM.trainingData.sequences','./lib/scanner','devices','getForeignStateAsync','Aktiv\x20(','sensorLastValues','getForeignObjectsAsync','SYSTEM_DP_MODE','forecast.current.weather','timestamp','getGenerativeModel','NextHours.Location_1.Day_1.current.symbol_desc','Gemini\x20AI\x20initialized.','object','system.adapter.','runAutopilot','includes','main','./lib/recorder','6475180WjsdVX','lastAlertState','analysis.automation.autoApply','rawEventLog','initHistory','online','onUnload','analysis.training.triggerTopology','dependencyInstallInProgress','info','testApiKey','scanThermostats','inactivityThresholdHours','sendMorningBriefing','setHours','checkThermostats','analysis.automation.targetValue','length','matrix','bind','generateContent','ANALYZE_TREND','analysis.energy.mpcActive','command','sort','sunny','PINN\x20AI\x20Forecast','log','Warm-Up\x20Time\x20(Minutes\x20to\x2021Â°C)','temperature','ltmJob','onStateChange','subscribeForeignStatesAsync','enum','subscribeStates','notifyTelegramEnabled','enum.functions.*','@iobroker/adapter-core','setPresence','lastTrackerEventTime','Fehler:\x20','eventHistory','Sec-Training\x20started...','response','Activity-Level','some','runPythonHealthCheck','getEnums','dismissAutomation','runBaselineDriftAnalysis','testNotification'];a0_0xb549=function(){return _0x25a239;};return a0_0xb549();}class CogniLiving extends utils['Adapter']{constructor(_0x5f1f54){const _0x304268=a0_0x44d48f;super({..._0x5f1f54,'name':_0x304268(0x193)}),this['eventHistory']=[],this['analysisHistory']=[],this[_0x304268(0x1cf)]=[],this[_0x304268(0x133)]=[],this[_0x304268(0x1be)]={},this[_0x304268(0x17e)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x304268(0x21a)]=!![],this[_0x304268(0x13a)]=null,this[_0x304268(0x212)]=null,this[_0x304268(0x138)]=![],this[_0x304268(0x18c)]=null,this[_0x304268(0x1a7)]=null,this[_0x304268(0x20f)]=setup[_0x304268(0x156)][_0x304268(0x13f)],this[_0x304268(0x1a5)]=![],this[_0x304268(0x1cd)]=![],this['analysisTimer']=null,this[_0x304268(0x1ea)]=null,this[_0x304268(0x135)]=null,this[_0x304268(0x162)]=null,this[_0x304268(0x167)]=null,this[_0x304268(0x1d4)]=![],this[_0x304268(0x146)]=null,this[_0x304268(0x1f3)]=Date[_0x304268(0x13c)](),this['on']('ready',this[_0x304268(0x14c)]['bind'](this)),this['on'](_0x304268(0x204),this['onStateChange']['bind'](this)),this['on'](_0x304268(0x181),this[_0x304268(0x1d2)][_0x304268(0x1df)](this)),this['on'](_0x304268(0x1b7),this['onMessage'][_0x304268(0x1df)](this));}async[a0_0x44d48f(0x14c)](){const _0x4469d0=a0_0x44d48f;this['log'][_0x4469d0(0x1d5)](_0x4469d0(0x132)+this['version']+_0x4469d0(0x122));if(!installer['checkAndInstall'](this,()=>this[_0x4469d0(0x11f)]()))return;}async[a0_0x44d48f(0x11f)](){const _0xad256f=a0_0x44d48f;await setup[_0xad256f(0x137)](this);try{this[_0xad256f(0x1a5)]=await setup['checkLicense'](this[_0xad256f(0x1ff)][_0xad256f(0x164)]);}catch(_0x60e92){}if(!this['config'][_0xad256f(0x1d8)]||this[_0xad256f(0x1ff)][_0xad256f(0x1d8)]<0.1)this[_0xad256f(0x1ff)][_0xad256f(0x1d8)]=0xc;await setup[_0xad256f(0x1d0)](this),await setup[_0xad256f(0x11c)](this);if(this[_0xad256f(0x1ff)][_0xad256f(0x172)])try{this[_0xad256f(0x18c)]=new GoogleGenerativeAI(this[_0xad256f(0x1ff)][_0xad256f(0x172)]),this['geminiModel']=this[_0xad256f(0x18c)][_0xad256f(0x1c3)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0xad256f(0x177)}}),this[_0xad256f(0x1e7)]['info'](_0xad256f(0x1c5));}catch(_0x3e6d39){this[_0xad256f(0x1e7)][_0xad256f(0x140)](_0xad256f(0x123)+_0x3e6d39[_0xad256f(0x1b7)]);}await setup['createAllObjects'](this),await this['loadSystemMode'](),await this['setObjectNotExistsAsync']('analysis.energy.pinnForecast',{'type':_0xad256f(0x201),'common':{'name':_0xad256f(0x1e6),'type':_0xad256f(0x215),'role':_0xad256f(0x196),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.ventilationAlerts',{'type':'state','common':{'name':'Active\x20Ventilation\x20Alerts','type':_0xad256f(0x215),'role':_0xad256f(0x196),'read':!![],'write':![]},'native':{}}),await this[_0xad256f(0x175)](_0xad256f(0x214),{'type':'state','common':{'name':_0xad256f(0x1e8),'type':_0xad256f(0x215),'role':'json','read':!![],'write':![]},'native':{}});try{const _0x50fb5c=await this[_0xad256f(0x180)](_0xad256f(0x1a1));if(_0x50fb5c&&_0x50fb5c[_0xad256f(0x17f)])this['rawEventLog']=JSON[_0xad256f(0x1b8)](_0x50fb5c['val']);}catch(_0x28b1e1){this[_0xad256f(0x1cf)]=[];}try{const _0x10f31b=await this[_0xad256f(0x180)](_0xad256f(0x139));if(_0x10f31b&&_0x10f31b[_0xad256f(0x17f)])this[_0xad256f(0x133)]=JSON[_0xad256f(0x1b8)](_0x10f31b[_0xad256f(0x17f)]);}catch(_0x4bd5a1){this['dailyDigests']=[];}const _0x10cc3c=this[_0xad256f(0x133)][_0xad256f(0x1dd)]>=(this[_0xad256f(0x1ff)][_0xad256f(0x218)]||0x7)?_0xad256f(0x1bd)+this[_0xad256f(0x133)][_0xad256f(0x1dd)]+'\x20Tage)':_0xad256f(0x143)+this[_0xad256f(0x133)][_0xad256f(0x1dd)]+'/'+(this['config'][_0xad256f(0x218)]||0x7)+')';await this[_0xad256f(0x20b)]('LTM.baselineStatus',{'val':_0x10cc3c,'ack':!![]}),this[_0xad256f(0x1ee)](_0xad256f(0x152)),this[_0xad256f(0x1ee)](_0xad256f(0x176)),this['subscribeStates']('system.mode'),this['subscribeStates']('analysis.triggerBriefing'),this[_0xad256f(0x1ee)](_0xad256f(0x15d)),this[_0xad256f(0x1ee)](_0xad256f(0x1ce)),this[_0xad256f(0x1ee)](_0xad256f(0x12f)),this[_0xad256f(0x1ee)]('analysis.training.triggerHealth'),this['subscribeStates'](_0xad256f(0x1b5)),this[_0xad256f(0x1ee)]('analysis.training.triggerComfort'),this['subscribeStates'](_0xad256f(0x1d3)),this[_0xad256f(0x1ee)](_0xad256f(0x1e2));const _0x500216=this['config'][_0xad256f(0x1bb)];if(_0x500216)for(const _0x3c2c22 of _0x500216){await this[_0xad256f(0x1ec)](_0x3c2c22['id']);}const _0x4d15f3=this[_0xad256f(0x1ff)][_0xad256f(0x157)];if(_0x4d15f3)for(const _0x29a7b2 of _0x4d15f3){await this[_0xad256f(0x1ec)](_0x29a7b2);}if(this[_0xad256f(0x1ff)][_0xad256f(0x1ef)]&&this[_0xad256f(0x1ff)][_0xad256f(0x19f)])await this[_0xad256f(0x1ec)](this[_0xad256f(0x1ff)][_0xad256f(0x19f)]+'.communicate.request');setTimeout(()=>this['checkWifiPresence'](),0x1388);if(this[_0xad256f(0x14a)])clearInterval(this[_0xad256f(0x14a)]);const _0x144b64=this[_0xad256f(0x1ff)][_0xad256f(0x1ac)]||0xf;_0x144b64>0x0&&(this[_0xad256f(0x14a)]=setInterval(()=>{const _0x58c4a5=_0xad256f;this[_0x58c4a5(0x1c8)](),automation['checkCalendarTriggers'](this);},_0x144b64*0x3c*0x3e8)),setTimeout(()=>automation[_0xad256f(0x1a4)](this),0x2710),this[_0xad256f(0x1ff)]['trackerEnabled']!==![]&&(this[_0xad256f(0x146)]=setInterval(()=>{const _0x3a9d91=_0xad256f;if(this[_0x3a9d91(0x1a5)]){const _0x263a74=Date['now'](),_0xca42ab=this[_0x3a9d91(0x1f3)]||_0x263a74,_0xbc1718=(_0x263a74-_0xca42ab)/0x3e8;_0xbc1718>0x2&&(this[_0x3a9d91(0x1f3)]=_0x263a74,pythonBridge[_0x3a9d91(0x13e)](this,'TRACK_EVENT',{'room':null,'dt':_0xbc1718}));}},0xbb8)),schedulers['setupLtmScheduler'](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers[_0xad256f(0x1ae)](this),schedulers[_0xad256f(0x20a)](this,()=>aiAgent[_0xad256f(0x1fd)](this)),schedulers[_0xad256f(0x141)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0xad256f(0x17c)](this,installer[_0xad256f(0x219)]),setTimeout(async()=>{const _0x6b8edd=_0xad256f;await topology['updateTopology'](this);try{const _0x5f3d55=await this['getStateAsync']('analysis.topology.structure');if(_0x5f3d55&&_0x5f3d55[_0x6b8edd(0x17f)])pythonBridge['send'](this,_0x6b8edd(0x129),JSON[_0x6b8edd(0x1b8)](_0x5f3d55[_0x6b8edd(0x17f)]));}catch(_0x1299be){}this[_0x6b8edd(0x1fa)](),this[_0x6b8edd(0x13d)](),this[_0x6b8edd(0x15a)](),this['updateHealthVector']();},0x1388);}[a0_0x44d48f(0x1d2)](_0x2c3522){const _0x147b24=a0_0x44d48f;if(this[_0x147b24(0x14a)])clearInterval(this[_0x147b24(0x14a)]);if(this[_0x147b24(0x162)])clearInterval(this[_0x147b24(0x162)]);if(this[_0x147b24(0x146)])clearInterval(this[_0x147b24(0x146)]);if(this[_0x147b24(0x1ea)])this['ltmJob'][_0x147b24(0x217)]();if(this['modeResetJob'])this[_0x147b24(0x135)][_0x147b24(0x217)]();if(this[_0x147b24(0x167)])this[_0x147b24(0x167)][_0x147b24(0x217)]();recorder[_0x147b24(0x174)](this),pythonBridge[_0x147b24(0x1ab)](this),_0x2c3522();}async[a0_0x44d48f(0x1eb)](_0x34fddb,_0x134814){const _0x4c2c9d=a0_0x44d48f;if(!_0x134814||this[_0x4c2c9d(0x1d4)])return;if(_0x34fddb[_0x4c2c9d(0x1c9)](_0x4c2c9d(0x171))&&_0x34fddb[_0x4c2c9d(0x182)]('communicate.request')&&_0x134814[_0x4c2c9d(0x17f)])return;if(_0x34fddb===this[_0x4c2c9d(0x206)]+_0x4c2c9d(0x20e)){if(_0x134814['val']&&Object[_0x4c2c9d(0x1b2)](setup['SYSTEM_MODES'])[_0x4c2c9d(0x1c9)](_0x134814[_0x4c2c9d(0x17f)])){this[_0x4c2c9d(0x20f)]=_0x134814[_0x4c2c9d(0x17f)];if(_0x134814['val']===setup[_0x4c2c9d(0x156)][_0x4c2c9d(0x191)])await recorder[_0x4c2c9d(0x1f2)](this,![]);else await recorder[_0x4c2c9d(0x1f2)](this,!![]);if(this[_0x4c2c9d(0x1a5)]){let _0x112196=![],_0x39e0ec=0x0,_0x56200a=_0x4c2c9d(0x1aa);if(this[_0x4c2c9d(0x20f)]===_0x4c2c9d(0x188))_0x112196=!![],_0x39e0ec=0x168,_0x56200a='Party\x20Mode';else this[_0x4c2c9d(0x20f)]===_0x4c2c9d(0x19b)&&(_0x112196=!![],_0x39e0ec=0x5a0,_0x56200a=_0x4c2c9d(0x211));pythonBridge['send'](this,_0x4c2c9d(0x144),{'active':_0x112196,'duration':_0x39e0ec,'label':_0x56200a}),await this[_0x4c2c9d(0x20b)](_0x4c2c9d(0x151),{'val':JSON[_0x4c2c9d(0x189)]({'active':_0x112196,'label':_0x56200a,'timestamp':Date[_0x4c2c9d(0x13c)]()}),'ack':!![]});}}if(!_0x134814[_0x4c2c9d(0x11b)])this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':this[_0x4c2c9d(0x20f)],'ack':!![]});return;}if(!_0x134814[_0x4c2c9d(0x11b)]){_0x34fddb[_0x4c2c9d(0x1c9)](_0x4c2c9d(0x152))&&_0x134814[_0x4c2c9d(0x17f)]&&(this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':![],'ack':!![]}),aiAgent[_0x4c2c9d(0x18e)](this));if(_0x34fddb[_0x4c2c9d(0x1c9)](_0x4c2c9d(0x126))&&_0x134814[_0x4c2c9d(0x17f)]){this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':![],'ack':!![]});if(this[_0x4c2c9d(0x1a5)])aiAgent[_0x4c2c9d(0x168)](this,pythonBridge);}_0x34fddb[_0x4c2c9d(0x1c9)](_0x4c2c9d(0x150))&&_0x134814[_0x4c2c9d(0x17f)]&&(this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':![],'ack':!![]}),aiAgent[_0x4c2c9d(0x1d9)](this));_0x34fddb[_0x4c2c9d(0x1c9)](_0x4c2c9d(0x12a))&&_0x134814[_0x4c2c9d(0x17f)]&&(this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this));if(_0x34fddb['includes'](_0x4c2c9d(0x12f))&&_0x134814[_0x4c2c9d(0x17f)]){this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':![],'ack':!![]});if(this[_0x4c2c9d(0x1a5)])try{const _0x3a38a1=await this['getStateAsync'](_0x4c2c9d(0x1b9));if(_0x3a38a1&&_0x3a38a1['val']){const _0x4e5059=JSON[_0x4c2c9d(0x1b8)](_0x3a38a1['val']);this[_0x4c2c9d(0x20b)](_0x4c2c9d(0x178),{'val':_0x4c2c9d(0x1f6),'ack':!![]}),pythonBridge['send'](this,'TRAIN_SECURITY',{'sequences':_0x4e5059});}}catch(_0x6f6fe2){}}if(_0x34fddb[_0x4c2c9d(0x1c9)](_0x4c2c9d(0x198))&&_0x134814['val']){this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':![],'ack':!![]});if(this[_0x4c2c9d(0x1a5)])try{const _0x28f255=await this[_0x4c2c9d(0x180)](_0x4c2c9d(0x139));if(_0x28f255&&_0x28f255['val'])pythonBridge['send'](this,_0x4c2c9d(0x17b),{'digests':JSON[_0x4c2c9d(0x1b8)](_0x28f255[_0x4c2c9d(0x17f)])});}catch(_0x473b1c){}}if(_0x34fddb[_0x4c2c9d(0x1c9)](_0x4c2c9d(0x1b5))&&_0x134814['val']){this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':![],'ack':!![]});if(this[_0x4c2c9d(0x1a5)])try{const _0x5310c8=await this[_0x4c2c9d(0x180)](_0x4c2c9d(0x202));if(_0x5310c8&&_0x5310c8[_0x4c2c9d(0x17f)])pythonBridge[_0x4c2c9d(0x13e)](this,'TRAIN_ENERGY',{'points':JSON['parse'](_0x5310c8[_0x4c2c9d(0x17f)])});}catch(_0x1293e5){}}if(_0x34fddb['includes']('analysis.training.triggerComfort')&&_0x134814[_0x4c2c9d(0x17f)]){this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x4acc02=await this[_0x4c2c9d(0x180)]('LTM.rawEventLog');if(_0x4acc02&&_0x4acc02[_0x4c2c9d(0x17f)])pythonBridge[_0x4c2c9d(0x13e)](this,_0x4c2c9d(0x209),{'events':JSON['parse'](_0x4acc02['val'])});}catch(_0x30d4c2){}}_0x34fddb[_0x4c2c9d(0x1c9)](_0x4c2c9d(0x1d3))&&_0x134814[_0x4c2c9d(0x17f)]&&(this[_0x4c2c9d(0x14e)](_0x34fddb,{'val':![],'ack':!![]}),topology[_0x4c2c9d(0x124)](this));return;}if(this['config'][_0x4c2c9d(0x157)]&&this[_0x4c2c9d(0x1ff)]['presenceDevices'][_0x4c2c9d(0x1c9)](_0x34fddb)){await this[_0x4c2c9d(0x1af)]();return;}const _0x295dbb=(this[_0x4c2c9d(0x1ff)]['devices']||[])['find'](_0x4566b7=>_0x4566b7['id']===_0x34fddb);if(_0x295dbb){const _0x35fc02=await recorder['processSensorEvent'](this,_0x34fddb,_0x134814,_0x295dbb);_0x35fc02&&_0x35fc02[_0x4c2c9d(0x205)]==='motion'&&_0x35fc02[_0x4c2c9d(0x148)]&&this['isProVersion']&&deadMan[_0x4c2c9d(0x16f)](this,_0x35fc02[_0x4c2c9d(0x148)]);}}async[a0_0x44d48f(0x14f)](_0x113c78){const _0x4c6eef=a0_0x44d48f;if(typeof _0x113c78===_0x4c6eef(0x1c6)&&_0x113c78['message']){if(_0x113c78[_0x4c6eef(0x1e3)]===_0x4c6eef(0x1db))try{const _0x26666a=await automation[_0x4c6eef(0x1d7)](this);this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![],'results':_0x26666a},_0x113c78['callback']);}catch(_0x44560d){this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78['command'],{'success':![],'error':_0x44560d[_0x4c6eef(0x1b7)]},_0x113c78['callback']);}else{if(_0x113c78[_0x4c6eef(0x1e3)]===_0x4c6eef(0x19c))try{const {current_temps:_0x4c0515,t_out:_0x58a08e,targets:_0x426219,t_forecast:_0x1ba77f}=_0x113c78[_0x4c6eef(0x1b7)],_0x47a98c=[];let _0x1c0e56={};try{const _0xd733c=await this['getStateAsync'](_0x4c6eef(0x20d));if(_0xd733c&&_0xd733c[_0x4c6eef(0x17f)]){const _0x1f0841=JSON[_0x4c6eef(0x1b8)](_0xd733c[_0x4c6eef(0x17f)]);_0x1c0e56=_0x1f0841[_0x4c6eef(0x1ad)]||_0x1f0841;}}catch(_0x2d46f4){}const _0x54dcc0=_0x1ba77f!==undefined&&_0x1ba77f!==null?(_0x58a08e+_0x1ba77f)/0x2:_0x58a08e;for(const [_0x173bce,_0xa8fb6c]of Object[_0x4c6eef(0x184)](_0x4c0515)){const _0x516436=_0x426219[_0x173bce]||0x15;if(_0xa8fb6c<=_0x516436)continue;let _0x39aecf=_0x1c0e56[_0x173bce]||-0.5;if(_0x39aecf>=0x0)_0x39aecf=-0.5;const _0xa6ee59=Math['abs'](_0x39aecf),_0x49f8e9=_0xa8fb6c-_0x516436;let _0xd1111c=Math[_0x4c6eef(0x207)](_0x49f8e9/_0xa6ee59*0x3c);const _0x5bbd65=_0xa8fb6c-_0x58a08e,_0x2a351c=_0xa8fb6c-_0x54dcc0;if(_0x2a351c!==0x0&&_0x5bbd65!==0x0){const _0x414544=_0x5bbd65/_0x2a351c;_0xd1111c=Math[_0x4c6eef(0x207)](_0xd1111c*_0x414544);}if(_0xd1111c>0xf){if(_0xd1111c>0xf0)_0xd1111c=0xf0;_0x47a98c[_0x4c6eef(0x18a)]({'room':_0x173bce,'minutes_safe':_0xd1111c,'target':_0x516436,'current':_0xa8fb6c,'savings_msg':_0x4c6eef(0x19a)+_0xd1111c+_0x4c6eef(0x12c)});}}_0x47a98c[_0x4c6eef(0x1e4)]((_0x323868,_0x10cddd)=>_0x10cddd[_0x4c6eef(0x1a9)]-_0x323868['minutes_safe']),this['sendTo'](_0x113c78[_0x4c6eef(0x145)],_0x113c78['command'],{'success':!![],'proposals':_0x47a98c},_0x113c78['callback']);}catch(_0x1c6cbc){this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':![],'error':_0x1c6cbc['message']},_0x113c78[_0x4c6eef(0x134)]);}else{if(_0x113c78['command']===_0x4c6eef(0x1fc))await this[_0x4c6eef(0x20b)]('analysis.automation.patternDetected',{'val':![],'ack':!![]}),await this[_0x4c6eef(0x20b)](_0x4c6eef(0x1b0),{'val':'','ack':!![]}),await this['setStateAsync'](_0x4c6eef(0x1a8),{'val':'','ack':!![]}),this['sendTo'](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![]},_0x113c78[_0x4c6eef(0x134)]);else{if(_0x113c78[_0x4c6eef(0x1e3)]===_0x4c6eef(0x18f)){const {targetId:_0x526969,targetValue:_0x4afe83}=_0x113c78[_0x4c6eef(0x1b7)];await this[_0x4c6eef(0x20b)](_0x4c6eef(0x14b),{'val':!![],'ack':!![]}),await this[_0x4c6eef(0x20b)](_0x4c6eef(0x1b0),{'val':_0x4c6eef(0x15c),'ack':!![]}),await this[_0x4c6eef(0x20b)](_0x4c6eef(0x1a8),{'val':_0x526969,'ack':!![]}),await this['setStateAsync'](_0x4c6eef(0x1dc),{'val':String(_0x4afe83),'ack':!![]}),this[_0x4c6eef(0x186)](_0x113c78['from'],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![]},_0x113c78[_0x4c6eef(0x134)]);}else{if(_0x113c78[_0x4c6eef(0x1e3)]===_0x4c6eef(0x1d6))try{const _0x29a1ad=_0x113c78[_0x4c6eef(0x1b7)]['apiKey'];if(!_0x29a1ad)throw new Error(_0x4c6eef(0x15b));const _0x53ada9=new GoogleGenerativeAI(_0x29a1ad),_0x57cf10=_0x53ada9[_0x4c6eef(0x1c3)]({'model':GEMINI_MODEL}),_0x418add=await _0x57cf10[_0x4c6eef(0x1e0)]('Test'),_0x2372fb=await _0x418add[_0x4c6eef(0x1f7)];if(_0x2372fb[_0x4c6eef(0x13b)]())this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![],'message':_0x4c6eef(0x1b6)},_0x113c78[_0x4c6eef(0x134)]);else throw new Error('Keine\x20Antwort\x20von\x20Gemini');}catch(_0x2be916){this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':![],'message':_0x2be916[_0x4c6eef(0x1b7)]},_0x113c78['callback']);}else{if(_0x113c78['command']===_0x4c6eef(0x154))try{const _0x4920e9=await scanner['scanForDevices'](this,_0x113c78[_0x4c6eef(0x1b7)]||{});this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![],'devices':_0x4920e9},_0x113c78[_0x4c6eef(0x134)]);}catch(_0x2b7e8a){this['sendTo'](_0x113c78[_0x4c6eef(0x145)],_0x113c78['command'],{'success':![],'error':_0x2b7e8a['message']},_0x113c78['callback']);}else{if(_0x113c78[_0x4c6eef(0x1e3)]==='updateTopologyMatrix')try{const {matrix:_0x5878f8}=_0x113c78[_0x4c6eef(0x1b7)],_0x19020e=await this[_0x4c6eef(0x180)](_0x4c6eef(0x1b3));if(_0x19020e&&_0x19020e['val']){const _0x4a9709=JSON[_0x4c6eef(0x1b8)](_0x19020e[_0x4c6eef(0x17f)]);_0x4a9709[_0x4c6eef(0x1de)]=_0x5878f8,_0x4a9709[_0x4c6eef(0x159)]=Date[_0x4c6eef(0x13c)](),await this['setStateAsync']('analysis.topology.structure',{'val':JSON[_0x4c6eef(0x189)](_0x4a9709),'ack':!![]}),pythonBridge[_0x4c6eef(0x13e)](this,_0x4c6eef(0x129),_0x4a9709);}this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![]},_0x113c78[_0x4c6eef(0x134)]);}catch(_0x1061cb){this[_0x4c6eef(0x1e7)][_0x4c6eef(0x140)](_0x1061cb);}else{if(_0x113c78[_0x4c6eef(0x1e3)]===_0x4c6eef(0x19e))this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78['command'],{'success':!![],'dailyDigests':this['dailyDigests']||[],'analysisHistory':this[_0x4c6eef(0x1a6)]||[]},_0x113c78[_0x4c6eef(0x134)]);else{if(_0x113c78['command']==='getOverviewData'){const _0x528ce3=this[_0x4c6eef(0x133)][_0x4c6eef(0x1dd)],_0x1e0323=new Array(0x18)[_0x4c6eef(0x16e)](0x0),_0x1333ae=new Date()[_0x4c6eef(0x1da)](0x0,0x0,0x0,0x0);this[_0x4c6eef(0x1f5)]&&this['eventHistory'][_0x4c6eef(0x149)](_0x54c3d0=>{const _0x1a7c88=_0x4c6eef;if(_0x54c3d0[_0x1a7c88(0x1c2)]>=_0x1333ae){const _0x5afaa2=new Date(_0x54c3d0[_0x1a7c88(0x1c2)])[_0x1a7c88(0x199)]();if(_0x5afaa2>=0x0&&_0x5afaa2<0x18)_0x1e0323[_0x5afaa2]++;}});let _0x59fd99=![],_0x16d3dd='',_0x37c700='',_0x5cf0b2='';try{const _0x1cdf78=await this[_0x4c6eef(0x180)](_0x4c6eef(0x14b));if(_0x1cdf78&&_0x1cdf78[_0x4c6eef(0x17f)]){_0x59fd99=!![];const _0x437e87=await this['getStateAsync']('analysis.automation.description');_0x16d3dd=_0x437e87?_0x437e87[_0x4c6eef(0x17f)]:'';const _0x4c3e1c=await this['getStateAsync'](_0x4c6eef(0x1a8));_0x37c700=_0x4c3e1c?_0x4c3e1c[_0x4c6eef(0x17f)]:'';const _0x2b4868=await this['getStateAsync']('analysis.automation.targetValue');_0x5cf0b2=_0x2b4868?_0x2b4868['val']:'';}}catch(_0x2a615a){}const _0x15e359=await this[_0x4c6eef(0x11a)](),_0x4b9d7f=(this[_0x4c6eef(0x1ff)][_0x4c6eef(0x1bb)]||[])[_0x4c6eef(0x1f9)](_0x3e1bb5=>_0x3e1bb5[_0x4c6eef(0x179)]),_0x1edbf4=_0x15e359&&_0x4b9d7f;this[_0x4c6eef(0x186)](_0x113c78['from'],_0x113c78['command'],{'success':!![],'eventHistory':this[_0x4c6eef(0x1f5)][_0x4c6eef(0x16d)](0x0,0xf),'stats':{'digestCount':_0x528ce3,'isPresent':this[_0x4c6eef(0x21a)],'hourlyActivity':_0x1e0323,'solarActive':_0x1edbf4},'automation':{'detected':_0x59fd99,'description':_0x16d3dd,'targetId':_0x37c700,'targetValue':_0x5cf0b2}},_0x113c78[_0x4c6eef(0x134)]);}else{if(_0x113c78[_0x4c6eef(0x1e3)]===_0x4c6eef(0x1fb)){const _0x528d7a=await this[_0x4c6eef(0x1bf)](_0x4c6eef(0x1f0),_0x4c6eef(0x1ed)),_0x5ee3dd=[];if(_0x528d7a)for(const _0x314a78 in _0x528d7a){const _0x4d8099=_0x528d7a[_0x314a78],_0x264a89=(_0x4d8099[_0x4c6eef(0x121)]&&typeof _0x4d8099[_0x4c6eef(0x121)][_0x4c6eef(0x210)]===_0x4c6eef(0x1c6)?_0x4d8099['common']['name']['de']:_0x4d8099['common'][_0x4c6eef(0x210)])||_0x4d8099[_0x4c6eef(0x121)][_0x4c6eef(0x210)];_0x5ee3dd[_0x4c6eef(0x18a)]({'id':_0x314a78,'name':_0x264a89});}const _0x3db58e=await this['getForeignObjectsAsync']('enum.rooms.*',_0x4c6eef(0x1ed)),_0x45ef36=[];if(_0x3db58e)for(const _0x3588bf in _0x3db58e){const _0x598410=_0x3db58e[_0x3588bf],_0x3d7199=(_0x598410[_0x4c6eef(0x121)]&&typeof _0x598410[_0x4c6eef(0x121)]['name']===_0x4c6eef(0x1c6)?_0x598410[_0x4c6eef(0x121)][_0x4c6eef(0x210)]['de']:_0x598410[_0x4c6eef(0x121)][_0x4c6eef(0x210)])||_0x3588bf['split']('.')[_0x4c6eef(0x130)]();_0x45ef36[_0x4c6eef(0x18a)](_0x3d7199);}this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![],'enums':_0x5ee3dd,'rooms':_0x45ef36},_0x113c78[_0x4c6eef(0x134)]);}else{if(_0x113c78[_0x4c6eef(0x1e3)]===_0x4c6eef(0x192))try{let _0x2b9915='Kein\x20Wetter-Adapter',_0x173cd7=_0x4c6eef(0x1b1);if(this['config'][_0x4c6eef(0x15e)]){const _0x3f5b92=await recorder[_0x4c6eef(0x18d)](this);_0x2b9915=_0x3f5b92!==null?_0x3f5b92+'Â°C':_0x4c6eef(0x163);}if(this['config'][_0x4c6eef(0x12e)]){const _0x31e664=await this[_0x4c6eef(0x12b)](_0x4c6eef(0x1c7)+this[_0x4c6eef(0x1ff)][_0x4c6eef(0x12e)]);_0x173cd7=_0x31e664?_0x4c6eef(0x128):'Instanz\x20nicht\x20gefunden';}this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![],'weather':_0x2b9915,'calendar':_0x173cd7},_0x113c78['callback']);}catch(_0x403e5c){this['sendTo'](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':![],'error':_0x403e5c['message']},_0x113c78[_0x4c6eef(0x134)]);}else{if(_0x113c78['command']===_0x4c6eef(0x14d))try{const _0x50ed86=_0x113c78[_0x4c6eef(0x1b7)]['instance'],_0xd94235=await this[_0x4c6eef(0x1bc)](_0x50ed86+_0x4c6eef(0x136));let _0x32fe4c=[];if(_0xd94235&&_0xd94235[_0x4c6eef(0x17f)]){const _0x39e62d=JSON[_0x4c6eef(0x1b8)](_0xd94235[_0x4c6eef(0x17f)]),_0xad7e0b=new Set();Array['isArray'](_0x39e62d)&&_0x39e62d[_0x4c6eef(0x149)](_0x19448f=>{const _0x531b5a=_0x4c6eef;if(_0x19448f[_0x531b5a(0x160)])_0xad7e0b[_0x531b5a(0x18b)](_0x19448f[_0x531b5a(0x160)]);else{if(_0x19448f[_0x531b5a(0x16a)])_0xad7e0b['add'](_0x19448f[_0x531b5a(0x16a)]);}}),_0x32fe4c=Array[_0x4c6eef(0x145)](_0xad7e0b)[_0x4c6eef(0x1e4)]();}if(_0x32fe4c[_0x4c6eef(0x1dd)]===0x0)_0x32fe4c=['Standard'];this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![],'names':_0x32fe4c},_0x113c78['callback']);}catch(_0x56d1b5){this['sendTo'](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':![],'error':_0x56d1b5[_0x4c6eef(0x1b7)]},_0x113c78['callback']);}else{if(_0x113c78[_0x4c6eef(0x1e3)]===_0x4c6eef(0x1fe))try{await setup[_0x4c6eef(0x173)](this,_0x4c6eef(0x158),![],![]),this[_0x4c6eef(0x186)](_0x113c78[_0x4c6eef(0x145)],_0x113c78[_0x4c6eef(0x1e3)],{'success':!![],'message':_0x4c6eef(0x12d)},_0x113c78[_0x4c6eef(0x134)]);}catch(_0x16768e){this[_0x4c6eef(0x1e7)][_0x4c6eef(0x140)]('Notification\x20Test\x20Failed:\x20'+_0x16768e[_0x4c6eef(0x1b7)]),this['sendTo'](_0x113c78['from'],_0x113c78[_0x4c6eef(0x1e3)],{'success':![],'message':_0x4c6eef(0x1f4)+_0x16768e[_0x4c6eef(0x1b7)]},_0x113c78[_0x4c6eef(0x134)]);}}}}}}}}}}}}}}}async[a0_0x44d48f(0x17d)](){const _0x1bf9b1=a0_0x44d48f;try{const _0x371b78=await this[_0x1bf9b1(0x180)](setup[_0x1bf9b1(0x1c0)]);_0x371b78&&_0x371b78[_0x1bf9b1(0x17f)]&&Object[_0x1bf9b1(0x1b2)](setup['SYSTEM_MODES'])['includes'](_0x371b78['val'])?this[_0x1bf9b1(0x20f)]=_0x371b78[_0x1bf9b1(0x17f)]:(this[_0x1bf9b1(0x20f)]=setup['SYSTEM_MODES'][_0x1bf9b1(0x13f)],await this[_0x1bf9b1(0x20b)](setup['SYSTEM_DP_MODE'],{'val':setup['SYSTEM_MODES'][_0x1bf9b1(0x13f)],'ack':!![]}));}catch(_0x4fb57a){this[_0x1bf9b1(0x20f)]=setup[_0x1bf9b1(0x156)][_0x1bf9b1(0x13f)];}}async[a0_0x44d48f(0x1af)](){const _0x2d8b12=a0_0x44d48f;try{const _0x2a962e=this[_0x2d8b12(0x1ff)]['presenceDevices']||[];let _0x252b71=![];const _0x3ceccd=[];for(const _0x13ba31 of _0x2a962e){try{const _0x488130=await this[_0x2d8b12(0x1bc)](_0x13ba31);_0x488130&&(_0x488130[_0x2d8b12(0x17f)]===!![]||_0x488130[_0x2d8b12(0x17f)]===_0x2d8b12(0x1d1)||_0x488130[_0x2d8b12(0x17f)]===0x1)&&(_0x252b71=!![],_0x3ceccd['push'](_0x13ba31));}catch(_0x22cae5){}}return await this[_0x2d8b12(0x20b)](_0x2d8b12(0x120),{'val':_0x3ceccd[_0x2d8b12(0x16b)](',\x20'),'ack':!![]}),_0x252b71&&(this[_0x2d8b12(0x13a)]&&(this[_0x2d8b12(0x1e7)][_0x2d8b12(0x1d5)]('WiFi\x20Presence\x20detected.'),recorder[_0x2d8b12(0x174)](this)),!this[_0x2d8b12(0x21a)]&&this[_0x2d8b12(0x20f)]===setup[_0x2d8b12(0x156)][_0x2d8b12(0x13f)]&&await recorder[_0x2d8b12(0x1f2)](this,!![])),_0x252b71;}catch(_0x5690a8){return![];}}async['runAutopilot'](){const _0x5f0111=a0_0x44d48f;this[_0x5f0111(0x1e7)][_0x5f0111(0x155)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0x5f0111(0x18e)](this),this[_0x5f0111(0x166)](),this['triggerGaitAnalysis'](),this[_0x5f0111(0x15a)]();}async['checkSolarCondition'](){const _0x30225d=a0_0x44d48f,_0x30cff7=[_0x30225d(0x131),'accuweather.0','daswetter.0'],_0x3117ac=[_0x30225d(0x1c1),_0x30225d(0x125),_0x30225d(0x1c4)];for(const _0x243be3 of _0x30cff7){for(const _0x449fb6 of _0x3117ac){try{const _0x169993=_0x243be3+'.'+_0x449fb6,_0x54d069=await this[_0x30225d(0x1bc)](_0x169993);if(_0x54d069&&_0x54d069[_0x30225d(0x17f)]){const _0x3733c2=String(_0x54d069[_0x30225d(0x17f)])[_0x30225d(0x119)]();if(_0x3733c2[_0x30225d(0x1c9)](_0x30225d(0x185))||_0x3733c2[_0x30225d(0x1c9)](_0x30225d(0x1e5))||_0x3733c2[_0x30225d(0x1c9)](_0x30225d(0x16c))||_0x3733c2['includes'](_0x30225d(0x1a0))||_0x3733c2[_0x30225d(0x1c9)]('heiter'))return!![];}}catch(_0x35f680){}}}return![];}[a0_0x44d48f(0x13d)](){const _0x2aa960=a0_0x44d48f;if(!this[_0x2aa960(0x1a5)])return;try{this[_0x2aa960(0x1a2)](_0x2aa960(0x1b9),(_0x5f4ad0,_0x39f85b)=>{const _0x2deaa2=_0x2aa960;_0x39f85b&&_0x39f85b['val']&&pythonBridge[_0x2deaa2(0x13e)](this,_0x2deaa2(0x21c),{'sequences':JSON[_0x2deaa2(0x1b8)](_0x39f85b[_0x2deaa2(0x17f)])});});}catch(_0x1cd14d){}}async[a0_0x44d48f(0x15a)](){const _0xeb0bbc=a0_0x44d48f;if(!this[_0xeb0bbc(0x1a5)])return;try{const _0x17563e=await recorder[_0xeb0bbc(0x18d)](this);if(_0x17563e===null)return;const _0x54ea5d={},_0x3d62b7={},_0x355307=this[_0xeb0bbc(0x1ff)][_0xeb0bbc(0x1bb)]||[];for(const _0x35637c of _0x355307){if(_0x35637c[_0xeb0bbc(0x205)]===_0xeb0bbc(0x1e9)&&_0x35637c[_0xeb0bbc(0x148)]){const _0x4262b3=this[_0xeb0bbc(0x1be)][_0x35637c['id']];if(_0x4262b3!==undefined)_0x54ea5d[_0x35637c[_0xeb0bbc(0x148)]]=_0x4262b3;if(_0x35637c[_0xeb0bbc(0x179)])_0x3d62b7[_0x35637c[_0xeb0bbc(0x148)]]=!![];}}const _0x59e612=await this[_0xeb0bbc(0x11a)]();Object[_0xeb0bbc(0x15f)](_0x54ea5d)[_0xeb0bbc(0x1dd)]>0x0&&(pythonBridge[_0xeb0bbc(0x13e)](this,_0xeb0bbc(0x147),{'current_temps':_0x54ea5d,'t_out':_0x17563e,'is_sunny':_0x59e612,'solar_flags':_0x3d62b7}),pythonBridge['send'](this,_0xeb0bbc(0x1b4),{'current_temps':_0x54ea5d,'t_out':_0x17563e,'targets':{}}));}catch(_0x16008b){}}[a0_0x44d48f(0x166)](){const _0x5cca68=a0_0x44d48f;if(!this[_0x5cca68(0x1cf)]||this['rawEventLog'][_0x5cca68(0x1dd)]===0x0)return;const _0x43b1d5=new Array(0x60)[_0x5cca68(0x16e)](0x0),_0x5c38af=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x5cca68(0x1cf)][_0x5cca68(0x149)](_0x150d44=>{const _0x8f1d65=_0x5cca68,_0xa371ab=new Date(_0x150d44['timestamp']);if(_0xa371ab[_0x8f1d65(0x216)]()>=_0x5c38af){const _0x511d8a=_0xa371ab[_0x8f1d65(0x199)](),_0xf89519=_0xa371ab[_0x8f1d65(0x194)](),_0x585d05=_0x511d8a*0x4+Math[_0x8f1d65(0x207)](_0xf89519/0xf);if(_0x585d05>=0x0&&_0x585d05<0x60)_0x43b1d5[_0x585d05]++;}}),this[_0x5cca68(0x20b)]('analysis.health.todayVector',{'val':JSON[_0x5cca68(0x189)](_0x43b1d5),'ack':!![]});}[a0_0x44d48f(0x1fa)](){const _0x921323=a0_0x44d48f;if(!this[_0x921323(0x133)]||this[_0x921323(0x133)][_0x921323(0x1dd)]<0x2)return;const _0x16fee7=this[_0x921323(0x133)][_0x921323(0x17a)](_0x41a3b8=>{const _0x3f9223=_0x921323,_0x49d703=(_0x41a3b8[_0x3f9223(0x127)]||'')['toLowerCase']();return ACTIVITY_LEVEL_MAP[_0x49d703]||0x32;});pythonBridge[_0x921323(0x13e)](this,_0x921323(0x1e1),{'values':_0x16fee7,'tag':_0x921323(0x1f8)});}}if(require[a0_0x44d48f(0x1ca)]!==module)module[a0_0x44d48f(0x200)]=_0x286812=>new CogniLiving(_0x286812);else new CogniLiving();