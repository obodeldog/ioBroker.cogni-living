const a0_0x59d1ab=a0_0x8929;(function(_0x282466,_0x58560e){const _0x4b8dbb=a0_0x8929,_0x525727=_0x282466();while(!![]){try{const _0x481002=-parseInt(_0x4b8dbb(0x267))/0x1*(-parseInt(_0x4b8dbb(0x253))/0x2)+parseInt(_0x4b8dbb(0x1e1))/0x3+-parseInt(_0x4b8dbb(0x28e))/0x4+-parseInt(_0x4b8dbb(0x269))/0x5+-parseInt(_0x4b8dbb(0x245))/0x6+-parseInt(_0x4b8dbb(0x1ff))/0x7*(parseInt(_0x4b8dbb(0x27b))/0x8)+-parseInt(_0x4b8dbb(0x295))/0x9*(-parseInt(_0x4b8dbb(0x24c))/0xa);if(_0x481002===_0x58560e)break;else _0x525727['push'](_0x525727['shift']());}catch(_0x546563){_0x525727['push'](_0x525727['shift']());}}}(a0_0x480d,0xa2ae3));const a0_0x31eb47=(function(){let _0x5ca278=!![];return function(_0x38de4e,_0x142c72){const _0x26741e=_0x5ca278?function(){if(_0x142c72){const _0x396f71=_0x142c72['apply'](_0x38de4e,arguments);return _0x142c72=null,_0x396f71;}}:function(){};return _0x5ca278=![],_0x26741e;};}()),a0_0x1d8e39=a0_0x31eb47(this,function(){const _0x427b48=a0_0x8929;return a0_0x1d8e39[_0x427b48(0x20f)]()['search']('(((.+)+)+)+$')[_0x427b48(0x20f)]()['constructor'](a0_0x1d8e39)[_0x427b48(0x296)](_0x427b48(0x2a2));});function a0_0x8929(_0x4f844a,_0x34628d){const _0xa3570=a0_0x480d();return a0_0x8929=function(_0x1d8e39,_0x31eb47){_0x1d8e39=_0x1d8e39-0x1c8;let _0x480d49=_0xa3570[_0x1d8e39];return _0x480d49;},a0_0x8929(_0x4f844a,_0x34628d);}function a0_0x480d(){const _0x36d797=['analysisTimer','guest','exitGraceTimer','stateChange','getHours','manual','\x20Tage)','instance','runBaselineDriftAnalysis','sonn','endsWith','notifyTelegramInstance','parse','isPresent','analysis.topology.structure','analysis.energy.warmupTimes','lastAlertState','setupDriftAnalysisScheduler','name','initHistory','some','{\x22default\x22:\x2021}','startSystem','onUnload','analysis.energy.pinnForecast','info','getStateAsync','scores','PYTHON_EXE','message','isArray','getLtmData','lastTrackerEventTime','LTM.rawEventLog','join','Notification\x20Test\x20Failed:\x20','telegram','checkWifiPresence','presenceDevices','version','currentSystemMode','json','setStateAsync','cogni-living\x20adapter\x20starting\x20(v','pop','LTM.triggerDailyDigest','simulateButler','7186632iCHxGR','setupBriefingScheduler','onStateChange','processSensorEvent','eventHistory','config','triggerGaitAnalysis','20575540iPdzdz','loadSystemMode','isGracePeriodActive','value','abs','exports','analysis.training.triggerHealth','14cQbMkQ','NORMAL','Verbunden','val','dailyDigests','log','command','accuweather.0','system.adapter.','analysis.training.triggerComfort','General\x20Activity\x20Trend\x20(%)','checkLicense','rawEventLog','Guest\x20Mode','onMessage','Lernphase\x20(','modeResetJob','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','triggerEnergyPrediction','devices','164419fDCGue','checkCalendarTriggers','2948645TFrYfA','weatherunderground.0','cancel','getOverviewData','debug','dependencyInstallInProgress','Gemini\x20AI\x20initialized.','notifyTelegramEnabled','runAutopilot','entries','Verbindung\x20erfolgreich!','updated','analysis.training.triggerSecurity','LTM.baselineStatus','testApiKey','getEnums','driftAnalysisTimer','forecast.current.weather','8ORJMnP','values','\x20min\x20ausbleiben.','calendarName','now','toLowerCase','analysis.automation.targetValue','models/gemini-flash-latest','text','analysis.automation.targetId','simulateEnergyMPC','./lib/setup','analysis.training.triggerEnergy','response','enum.functions.*','TRAIN_COMFORT','map','sort','communicate.request','3864604EyJNfi','minDaysForBaseline','Heizung\x20kann\x20','Keine\x20Antwort\x20von\x20Gemini','setState','healthTrendInterval','analysis.security.learningStatus','9iyPFSl','search','runGeminiAnalysis','executeAutomationAction','triggerBriefing','VACATION','startService','analysis.training.status','from','systemConfig','timestamp','SYSTEM_MODES','createDailyDigest','(((.+)+)+)+$','system.presenceWho','analysis.energy.insulationScore','setupLtmScheduler','klar','updateTopology','checkAndInstall','analysis.health.todayVector','checkThermostats','stopService','runPythonHealthCheck','checkSolarCondition','bind','motion','testNotification','namespace','location','key','./lib/automation','type','SET_TOPOLOGY','TRACK_EVENT','analysis.automation.description','LTM.dailyDigests','object','sendTo','trackerEnabled','geminiModel','PREDICT_ENERGY','ltmJob','analysis.automation.triggerAction','./lib/scheduler','./lib/scanner','SYSTEM_DP_MODE','ack','ANALYZE_GAIT','analysis.energy.warmupTargets','daswetter.0','getState','TRAIN_SECURITY','analysis.training.triggerTopology','callback','createAllObjects','getMinutes','temperature','Test','onReady','online','./lib/recorder','generateContent','setHours','./lib/topology','main','analysis.automation.patternDetected','calendarInstance','number','updateLocation','updateTopologyMatrix','Current.WeatherText','analysis.health.activityTrend','OPTIMIZE_ENERGY','.system.mode','getCalendarNames','activityLevel','Simulation\x20durch\x20Admin\x20(Test)','Sec-Training\x20started...','common','Reinforcement\x20Learning\x20Penalties','briefingJob','./lib/dead_man','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','getForeignStateAsync','scanForDevices','getForeignObjectsAsync','testContext','state','add','Kein\x20API\x20Key\x20Ã¼bergeben','genAI','â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...','Gesendet','includes','trackerHeartbeat','sendMorningBriefing','apiKey','length','1526868sbhaup','abortExitTimer','push','Aktiv\x20(','TRAIN_HEALTH','getTime','minutes_safe','LTM.trainingData.sequences','useWeather','matrix','TRAIN_ENERGY','subscribeForeignStatesAsync','geminiApiKey','Activity-Level','inactivityThresholdHours','scanDevices','sunny',')\x20-\x20Phase\x20D\x20(Sensor\x20Transparency)','analysis.automation.autoApply','dismissAutomation','party','isProVersion','LTM.trainingData.thermodynamics','Party\x20Mode','thermostat','setPresence','fill','analysisHistory','send','isSolar','2082164TRwqUj','error','setObjectNotExistsAsync','PINN\x20AI\x20Forecast','analysis.trigger','string','floor','triggerDailyDigest','Instanz\x20nicht\x20gefunden','forEach','./lib/installer','updateHealthVector','Kein\x20Wetter-Adapter','initSystemConfig','Fehler:\x20','enum','toString','Adapter','Active\x20Ventilation\x20Alerts','unload','scanThermostats','subscribeStates','analysis.energy.mpcActive'];a0_0x480d=function(){return _0x36d797;};return a0_0x480d();}a0_0x1d8e39();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require(a0_0x59d1ab(0x209)),scanner=require(a0_0x59d1ab(0x2c2)),schedulers=require(a0_0x59d1ab(0x2c1)),topology=require(a0_0x59d1ab(0x2d5)),setup=require(a0_0x59d1ab(0x286)),recorder=require(a0_0x59d1ab(0x2d2)),pythonBridge=require('./lib/python_bridge'),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x59d1ab(0x1d0)),automation=require(a0_0x59d1ab(0x2b4)),GEMINI_MODEL=a0_0x59d1ab(0x282),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x59d1ab(0x210)]{constructor(_0x1b6c9a){const _0x53a7a4=a0_0x59d1ab;super({..._0x1b6c9a,'name':'cogni-living'}),this[_0x53a7a4(0x249)]=[],this[_0x53a7a4(0x1fc)]=[],this[_0x53a7a4(0x25f)]=[],this['dailyDigests']=[],this['sensorLastValues']={},this[_0x53a7a4(0x29e)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x53a7a4(0x223)]=!![],this['exitTimer']=null,this[_0x53a7a4(0x218)]=null,this[_0x53a7a4(0x24e)]=![],this[_0x53a7a4(0x1d9)]=null,this[_0x53a7a4(0x2bd)]=null,this[_0x53a7a4(0x23e)]=setup[_0x53a7a4(0x2a0)][_0x53a7a4(0x254)],this['isProVersion']=![],this[_0x53a7a4(0x226)]=![],this[_0x53a7a4(0x216)]=null,this[_0x53a7a4(0x2bf)]=null,this['modeResetJob']=null,this[_0x53a7a4(0x279)]=null,this[_0x53a7a4(0x1cf)]=null,this[_0x53a7a4(0x1dd)]=null,this['healthTrendInterval']=null,this['dependencyInstallInProgress']=![],this[_0x53a7a4(0x236)]=Date[_0x53a7a4(0x27f)](),this['on']('ready',this[_0x53a7a4(0x2d0)][_0x53a7a4(0x2ae)](this)),this['on'](_0x53a7a4(0x219),this[_0x53a7a4(0x247)][_0x53a7a4(0x2ae)](this)),this['on'](_0x53a7a4(0x212),this[_0x53a7a4(0x22d)][_0x53a7a4(0x2ae)](this)),this['on'](_0x53a7a4(0x233),this[_0x53a7a4(0x261)][_0x53a7a4(0x2ae)](this));}async[a0_0x59d1ab(0x2d0)](){const _0x585aab=a0_0x59d1ab;this[_0x585aab(0x258)][_0x585aab(0x22f)](_0x585aab(0x241)+this[_0x585aab(0x23d)]+_0x585aab(0x1f2));if(!installer[_0x585aab(0x2a8)](this,()=>this[_0x585aab(0x22c)]()))return;}async['startSystem'](){const _0x7551f6=a0_0x59d1ab;await setup['initZombies'](this);try{this[_0x7551f6(0x1f6)]=await setup[_0x7551f6(0x25e)](this[_0x7551f6(0x24a)]['licenseKey']);}catch(_0x292750){}if(!this['config'][_0x7551f6(0x1ef)]||this[_0x7551f6(0x24a)][_0x7551f6(0x1ef)]<0.1)this['config'][_0x7551f6(0x1ef)]=0xc;await setup[_0x7551f6(0x229)](this),await setup[_0x7551f6(0x20c)](this);if(this[_0x7551f6(0x24a)][_0x7551f6(0x1ed)])try{this[_0x7551f6(0x1d9)]=new GoogleGenerativeAI(this[_0x7551f6(0x24a)][_0x7551f6(0x1ed)]),this[_0x7551f6(0x2bd)]=this[_0x7551f6(0x1d9)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this[_0x7551f6(0x258)]['info'](_0x7551f6(0x26f));}catch(_0x329793){this[_0x7551f6(0x258)]['error']('Gemini\x20Init\x20Error:\x20'+_0x329793[_0x7551f6(0x233)]);}await setup[_0x7551f6(0x2cc)](this),await this[_0x7551f6(0x24d)](),await this[_0x7551f6(0x201)](_0x7551f6(0x22e),{'type':_0x7551f6(0x1d6),'common':{'name':_0x7551f6(0x202),'type':_0x7551f6(0x204),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x7551f6(0x201)]('analysis.energy.ventilationAlerts',{'type':'state','common':{'name':_0x7551f6(0x211),'type':_0x7551f6(0x204),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x7551f6(0x201)](_0x7551f6(0x225),{'type':_0x7551f6(0x1d6),'common':{'name':'Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','type':_0x7551f6(0x204),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x7551f6(0x201)]('analysis.energy.warmupTargets',{'type':'state','common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':'string','role':_0x7551f6(0x23f),'read':!![],'write':!![],'def':_0x7551f6(0x22b)},'native':{}}),await this[_0x7551f6(0x201)]('analysis.energy.rlPenalties',{'type':'state','common':{'name':_0x7551f6(0x1ce),'type':_0x7551f6(0x204),'role':'json','read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x7551f6(0x201)](_0x7551f6(0x2dd),{'type':_0x7551f6(0x1d6),'common':{'name':_0x7551f6(0x25d),'type':_0x7551f6(0x2d9),'role':_0x7551f6(0x24f),'unit':'%','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.health.gaitSensors',{'type':_0x7551f6(0x1d6),'common':{'name':'Sensors\x20used\x20for\x20Gait\x20Analysis','type':'string','role':_0x7551f6(0x283),'read':!![],'write':![]},'native':{}});try{const _0x2698a6=await this['getStateAsync'](_0x7551f6(0x237));if(_0x2698a6&&_0x2698a6['val'])this[_0x7551f6(0x25f)]=JSON['parse'](_0x2698a6[_0x7551f6(0x256)]);}catch(_0x1eaea8){this[_0x7551f6(0x25f)]=[];}try{const _0x3ed37f=await this['getStateAsync'](_0x7551f6(0x2b9));if(_0x3ed37f&&_0x3ed37f[_0x7551f6(0x256)])this[_0x7551f6(0x257)]=JSON[_0x7551f6(0x222)](_0x3ed37f[_0x7551f6(0x256)]);}catch(_0x37ce59){this['dailyDigests']=[];}const _0xeab959=this[_0x7551f6(0x257)][_0x7551f6(0x1e0)]>=(this[_0x7551f6(0x24a)]['minDaysForBaseline']||0x7)?_0x7551f6(0x1e4)+this[_0x7551f6(0x257)]['length']+_0x7551f6(0x21c):_0x7551f6(0x262)+this[_0x7551f6(0x257)][_0x7551f6(0x1e0)]+'/'+(this[_0x7551f6(0x24a)][_0x7551f6(0x28f)]||0x7)+')';await this['setStateAsync'](_0x7551f6(0x276),{'val':_0xeab959,'ack':!![]}),this[_0x7551f6(0x214)]('analysis.trigger'),this[_0x7551f6(0x214)](_0x7551f6(0x243)),this[_0x7551f6(0x214)]('system.mode'),this[_0x7551f6(0x214)]('analysis.triggerBriefing'),this['subscribeStates'](_0x7551f6(0x2c0)),this[_0x7551f6(0x214)](_0x7551f6(0x1f3)),this[_0x7551f6(0x214)](_0x7551f6(0x275)),this[_0x7551f6(0x214)](_0x7551f6(0x252)),this[_0x7551f6(0x214)](_0x7551f6(0x287)),this[_0x7551f6(0x214)](_0x7551f6(0x25c)),this[_0x7551f6(0x214)](_0x7551f6(0x2ca)),this[_0x7551f6(0x214)](_0x7551f6(0x215));const _0x1f6eb4=this[_0x7551f6(0x24a)][_0x7551f6(0x266)];if(_0x1f6eb4)for(const _0x452aad of _0x1f6eb4){await this[_0x7551f6(0x1ec)](_0x452aad['id']);}const _0x139dcb=this[_0x7551f6(0x24a)][_0x7551f6(0x23c)];if(_0x139dcb)for(const _0x57eadf of _0x139dcb){await this[_0x7551f6(0x1ec)](_0x57eadf);}if(this['config'][_0x7551f6(0x270)]&&this[_0x7551f6(0x24a)][_0x7551f6(0x221)])await this['subscribeForeignStatesAsync'](this[_0x7551f6(0x24a)][_0x7551f6(0x221)]+'.communicate.request');setTimeout(()=>this[_0x7551f6(0x23b)](),0x1388);if(this[_0x7551f6(0x216)])clearInterval(this[_0x7551f6(0x216)]);const _0x5a188f=this[_0x7551f6(0x24a)]['analysisInterval']||0xf;_0x5a188f>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x5dd9ce=_0x7551f6;this[_0x5dd9ce(0x271)](),automation['checkCalendarTriggers'](this);},_0x5a188f*0x3c*0x3e8));setTimeout(()=>automation[_0x7551f6(0x268)](this),0x2710);this[_0x7551f6(0x24a)][_0x7551f6(0x2bc)]!==![]&&(this[_0x7551f6(0x1dd)]=setInterval(()=>{const _0x589745=_0x7551f6;if(this[_0x589745(0x1f6)]){const _0x288247=Date[_0x589745(0x27f)](),_0x4c09f8=this['lastTrackerEventTime']||_0x288247,_0x1a377e=(_0x288247-_0x4c09f8)/0x3e8;_0x1a377e>0x2&&(this[_0x589745(0x236)]=_0x288247,pythonBridge[_0x589745(0x1fd)](this,_0x589745(0x2b7),{'room':null,'dt':_0x1a377e}));}},0xbb8));if(this[_0x7551f6(0x293)])clearInterval(this['healthTrendInterval']);this['healthTrendInterval']=setInterval(()=>{const _0x326b86=_0x7551f6;this[_0x326b86(0x1f6)]&&(this[_0x326b86(0x258)]['info'](_0x326b86(0x1da)),this[_0x326b86(0x2ac)]());},0x4*0x3c*0x3c*0x3e8),schedulers[_0x7551f6(0x2a5)](this,()=>aiAgent[_0x7551f6(0x2a1)](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x7551f6(0x227)](this,()=>aiAgent[_0x7551f6(0x21e)](this)),schedulers[_0x7551f6(0x246)](this,()=>aiAgent['sendMorningBriefing'](this)),pythonBridge[_0x7551f6(0x29b)](this,installer[_0x7551f6(0x232)]),setTimeout(async()=>{const _0x1eb1ff=_0x7551f6;await topology[_0x1eb1ff(0x2a7)](this);try{const _0xd326ec=await this[_0x1eb1ff(0x230)]('analysis.topology.structure');if(_0xd326ec&&_0xd326ec[_0x1eb1ff(0x256)])pythonBridge[_0x1eb1ff(0x1fd)](this,'SET_TOPOLOGY',JSON[_0x1eb1ff(0x222)](_0xd326ec[_0x1eb1ff(0x256)]));}catch(_0x1685fe){}this[_0x1eb1ff(0x2ac)](),this[_0x1eb1ff(0x24b)](),this[_0x1eb1ff(0x265)](),this[_0x1eb1ff(0x20a)]();},0x1388);}[a0_0x59d1ab(0x22d)](_0x554785){const _0x463f0b=a0_0x59d1ab;if(this[_0x463f0b(0x216)])clearInterval(this[_0x463f0b(0x216)]);if(this['driftAnalysisTimer'])clearInterval(this['driftAnalysisTimer']);if(this[_0x463f0b(0x1dd)])clearInterval(this[_0x463f0b(0x1dd)]);if(this[_0x463f0b(0x293)])clearInterval(this[_0x463f0b(0x293)]);if(this[_0x463f0b(0x2bf)])this['ltmJob']['cancel']();if(this[_0x463f0b(0x263)])this['modeResetJob'][_0x463f0b(0x26b)]();if(this[_0x463f0b(0x1cf)])this['briefingJob'][_0x463f0b(0x26b)]();recorder['abortExitTimer'](this),pythonBridge[_0x463f0b(0x2ab)](this),_0x554785();}async['onStateChange'](_0x31e4de,_0xd1fccb){const _0x2543e5=a0_0x59d1ab;if(!_0xd1fccb||this[_0x2543e5(0x26e)])return;if(_0x31e4de[_0x2543e5(0x1dc)](_0x2543e5(0x23a))&&_0x31e4de[_0x2543e5(0x220)](_0x2543e5(0x28d))&&_0xd1fccb['val'])return;if(_0x31e4de===this[_0x2543e5(0x2b1)]+_0x2543e5(0x1c8)){if(_0xd1fccb[_0x2543e5(0x256)]&&Object[_0x2543e5(0x27c)](setup['SYSTEM_MODES'])[_0x2543e5(0x1dc)](_0xd1fccb[_0x2543e5(0x256)])){this[_0x2543e5(0x23e)]=_0xd1fccb[_0x2543e5(0x256)];if(_0xd1fccb[_0x2543e5(0x256)]===setup['SYSTEM_MODES'][_0x2543e5(0x29a)])await recorder[_0x2543e5(0x1fa)](this,![]);else await recorder[_0x2543e5(0x1fa)](this,!![]);if(this['isProVersion']){let _0x32c751=![],_0x43b7c6=0x0,_0x2b4f73=_0x2543e5(0x21b);if(this[_0x2543e5(0x23e)]===_0x2543e5(0x1f5))_0x32c751=!![],_0x43b7c6=0x168,_0x2b4f73=_0x2543e5(0x1f8);else this[_0x2543e5(0x23e)]===_0x2543e5(0x217)&&(_0x32c751=!![],_0x43b7c6=0x5a0,_0x2b4f73=_0x2543e5(0x260));pythonBridge[_0x2543e5(0x1fd)](this,'SET_LEARNING_MODE',{'active':_0x32c751,'duration':_0x43b7c6,'label':_0x2b4f73}),await this['setStateAsync'](_0x2543e5(0x294),{'val':JSON['stringify']({'active':_0x32c751,'label':_0x2b4f73,'timestamp':Date[_0x2543e5(0x27f)]()}),'ack':!![]});}}if(!_0xd1fccb[_0x2543e5(0x2c4)])this[_0x2543e5(0x292)](_0x31e4de,{'val':this[_0x2543e5(0x23e)],'ack':!![]});return;}if(!_0xd1fccb[_0x2543e5(0x2c4)]){if(_0x31e4de[_0x2543e5(0x1dc)](_0x2543e5(0x203))&&_0xd1fccb[_0x2543e5(0x256)]){this[_0x2543e5(0x292)](_0x31e4de,{'val':![],'ack':!![]}),aiAgent[_0x2543e5(0x297)](this);return;}if(_0x31e4de[_0x2543e5(0x1dc)](_0x2543e5(0x206))&&_0xd1fccb['val']){this[_0x2543e5(0x292)](_0x31e4de,{'val':![],'ack':!![]});if(this[_0x2543e5(0x1f6)])aiAgent['createDailyDigest'](this,pythonBridge);return;}if(_0x31e4de[_0x2543e5(0x1dc)](_0x2543e5(0x299))&&_0xd1fccb[_0x2543e5(0x256)]){this[_0x2543e5(0x292)](_0x31e4de,{'val':![],'ack':!![]}),aiAgent[_0x2543e5(0x1de)](this);return;}if(_0x31e4de['includes']('automation.triggerAction')&&_0xd1fccb['val']){this[_0x2543e5(0x292)](_0x31e4de,{'val':![],'ack':!![]}),aiAgent[_0x2543e5(0x298)](this);return;}if(_0x31e4de['includes'](_0x2543e5(0x275))&&_0xd1fccb['val']){this['setState'](_0x31e4de,{'val':![],'ack':!![]});if(this[_0x2543e5(0x1f6)])try{const _0x32f5f0=await this[_0x2543e5(0x230)](_0x2543e5(0x1e8));if(_0x32f5f0&&_0x32f5f0[_0x2543e5(0x256)]){const _0xc90ec8=JSON[_0x2543e5(0x222)](_0x32f5f0[_0x2543e5(0x256)]);this[_0x2543e5(0x240)](_0x2543e5(0x29c),{'val':_0x2543e5(0x1cc),'ack':!![]}),pythonBridge[_0x2543e5(0x1fd)](this,_0x2543e5(0x2c9),{'sequences':_0xc90ec8});}}catch(_0xbfcdcc){}return;}if(_0x31e4de[_0x2543e5(0x1dc)](_0x2543e5(0x252))&&_0xd1fccb[_0x2543e5(0x256)]){this[_0x2543e5(0x292)](_0x31e4de,{'val':![],'ack':!![]});if(this[_0x2543e5(0x1f6)])try{const _0x1b8ab6=await this[_0x2543e5(0x230)](_0x2543e5(0x2b9));if(_0x1b8ab6&&_0x1b8ab6[_0x2543e5(0x256)])pythonBridge['send'](this,_0x2543e5(0x1e5),{'digests':JSON[_0x2543e5(0x222)](_0x1b8ab6[_0x2543e5(0x256)])});}catch(_0x5cce65){}return;}if(_0x31e4de[_0x2543e5(0x1dc)]('analysis.training.triggerEnergy')&&_0xd1fccb[_0x2543e5(0x256)]){this[_0x2543e5(0x292)](_0x31e4de,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x5a6681=await this['getStateAsync'](_0x2543e5(0x1f7));if(_0x5a6681&&_0x5a6681[_0x2543e5(0x256)])pythonBridge[_0x2543e5(0x1fd)](this,_0x2543e5(0x1eb),{'points':JSON[_0x2543e5(0x222)](_0x5a6681['val'])});}catch(_0x4cfdc7){}return;}if(_0x31e4de[_0x2543e5(0x1dc)]('analysis.training.triggerComfort')&&_0xd1fccb[_0x2543e5(0x256)]){this['setState'](_0x31e4de,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x1951cc=await this[_0x2543e5(0x230)]('LTM.rawEventLog');if(_0x1951cc&&_0x1951cc[_0x2543e5(0x256)])pythonBridge[_0x2543e5(0x1fd)](this,_0x2543e5(0x28a),{'events':JSON[_0x2543e5(0x222)](_0x1951cc[_0x2543e5(0x256)])});}catch(_0x3fd400){}return;}if(_0x31e4de[_0x2543e5(0x1dc)](_0x2543e5(0x2ca))&&_0xd1fccb[_0x2543e5(0x256)]){this[_0x2543e5(0x292)](_0x31e4de,{'val':![],'ack':!![]}),topology['updateTopology'](this);return;}}if(this[_0x2543e5(0x24a)]['presenceDevices']&&this['config'][_0x2543e5(0x23c)][_0x2543e5(0x1dc)](_0x31e4de)){await this[_0x2543e5(0x23b)]();return;}const _0x22c9be=(this['config'][_0x2543e5(0x266)]||[])['find'](_0xc96b2a=>_0xc96b2a['id']===_0x31e4de);if(_0x22c9be){const _0x3c9b90=await recorder[_0x2543e5(0x248)](this,_0x31e4de,_0xd1fccb,_0x22c9be);_0x3c9b90&&_0x3c9b90[_0x2543e5(0x2b5)]===_0x2543e5(0x2af)&&_0x3c9b90[_0x2543e5(0x2b2)]&&this[_0x2543e5(0x1f6)]&&deadMan[_0x2543e5(0x2da)](this,_0x3c9b90[_0x2543e5(0x2b2)]),(_0x22c9be[_0x2543e5(0x2b5)]===_0x2543e5(0x2ce)||_0x22c9be[_0x2543e5(0x2b5)]===_0x2543e5(0x1f9))&&automation['cleanupGhostInterventions'](this);}}async['onMessage'](_0x5985d2){const _0x17128e=a0_0x59d1ab;if(typeof _0x5985d2==='object'&&_0x5985d2['message']){if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x2aa))try{const _0x31db22=await automation[_0x17128e(0x213)](this);this[_0x17128e(0x2bb)](_0x5985d2['from'],_0x5985d2[_0x17128e(0x259)],{'success':!![],'results':_0x31db22},_0x5985d2[_0x17128e(0x2cb)]);}catch(_0x33964a){this[_0x17128e(0x2bb)](_0x5985d2['from'],_0x5985d2['command'],{'success':![],'error':_0x33964a[_0x17128e(0x233)]},_0x5985d2['callback']);}else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x285))try{const {current_temps:_0x3f7dbd,t_out:_0x2d7034,targets:_0x163463,t_forecast:_0x351760}=_0x5985d2['message'],_0xbfa0be=[];let _0x40c4ba={};try{const _0x2966da=await this['getStateAsync'](_0x17128e(0x2a4));if(_0x2966da&&_0x2966da[_0x17128e(0x256)]){const _0x5b005f=JSON[_0x17128e(0x222)](_0x2966da[_0x17128e(0x256)]);_0x40c4ba=_0x5b005f[_0x17128e(0x231)]||_0x5b005f;}}catch(_0x48c0c9){}const _0x48cdc9=_0x351760!==undefined&&_0x351760!==null?(_0x2d7034+_0x351760)/0x2:_0x2d7034;for(const [_0x453195,_0x3c123e]of Object[_0x17128e(0x272)](_0x3f7dbd)){const _0x11092f=_0x163463[_0x453195]||0x15;if(_0x3c123e<=_0x11092f)continue;let _0x244b00=_0x40c4ba[_0x453195]||-0.5;if(_0x244b00>=0x0)_0x244b00=-0.5;const _0x534039=Math[_0x17128e(0x250)](_0x244b00),_0x2a9542=_0x3c123e-_0x11092f;let _0x1f5bba=Math[_0x17128e(0x205)](_0x2a9542/_0x534039*0x3c);const _0x4abf08=_0x3c123e-_0x2d7034,_0x10eb99=_0x3c123e-_0x48cdc9;if(_0x10eb99!==0x0&&_0x4abf08!==0x0){const _0x132e5f=_0x4abf08/_0x10eb99;_0x1f5bba=Math[_0x17128e(0x205)](_0x1f5bba*_0x132e5f);}if(_0x1f5bba>0xf){if(_0x1f5bba>0xf0)_0x1f5bba=0xf0;_0xbfa0be[_0x17128e(0x1e3)]({'room':_0x453195,'minutes_safe':_0x1f5bba,'target':_0x11092f,'current':_0x3c123e,'savings_msg':_0x17128e(0x290)+_0x1f5bba+_0x17128e(0x27d)});}}_0xbfa0be[_0x17128e(0x28c)]((_0x72e3a5,_0x477b9a)=>_0x477b9a[_0x17128e(0x1e7)]-_0x72e3a5[_0x17128e(0x1e7)]),this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':!![],'proposals':_0xbfa0be},_0x5985d2[_0x17128e(0x2cb)]);}catch(_0x35f978){this[_0x17128e(0x2bb)](_0x5985d2['from'],_0x5985d2[_0x17128e(0x259)],{'success':![],'error':_0x35f978[_0x17128e(0x233)]},_0x5985d2[_0x17128e(0x2cb)]);}else{if(_0x5985d2['command']==='resetRLPenalty')try{const _0x4c31cb=_0x5985d2['message'][_0x17128e(0x2b3)],_0x77964b='analysis.energy.rlPenalties',_0x24a221=await this[_0x17128e(0x230)](_0x77964b);let _0x2ce115={};if(_0x24a221&&_0x24a221['val'])try{_0x2ce115=JSON[_0x17128e(0x222)](_0x24a221[_0x17128e(0x256)]);}catch(_0x507748){}_0x4c31cb&&_0x2ce115[_0x4c31cb]?(delete _0x2ce115[_0x4c31cb],await this['setStateAsync'](_0x77964b,{'val':JSON['stringify'](_0x2ce115),'ack':!![]}),this[_0x17128e(0x258)][_0x17128e(0x22f)]('ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27'+_0x4c31cb+_0x17128e(0x264)),this['sendTo'](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':!![]},_0x5985d2['callback'])):this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':![],'error':'Key\x20not\x20found\x20or\x20not\x20provided'},_0x5985d2[_0x17128e(0x2cb)]);}catch(_0x3e63a3){this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':![],'error':_0x3e63a3[_0x17128e(0x233)]},_0x5985d2[_0x17128e(0x2cb)]);}else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x1f4))await this[_0x17128e(0x240)](_0x17128e(0x2d7),{'val':![],'ack':!![]}),await this[_0x17128e(0x240)](_0x17128e(0x2b8),{'val':'','ack':!![]}),await this[_0x17128e(0x240)](_0x17128e(0x284),{'val':'','ack':!![]}),this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2['command'],{'success':!![]},_0x5985d2[_0x17128e(0x2cb)]);else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x244)){const {targetId:_0x4a3e7a,targetValue:_0xeff5c0}=_0x5985d2[_0x17128e(0x233)];await this[_0x17128e(0x240)](_0x17128e(0x2d7),{'val':!![],'ack':!![]}),await this[_0x17128e(0x240)]('analysis.automation.description',{'val':_0x17128e(0x1cb),'ack':!![]}),await this['setStateAsync'](_0x17128e(0x284),{'val':_0x4a3e7a,'ack':!![]}),await this['setStateAsync']('analysis.automation.targetValue',{'val':String(_0xeff5c0),'ack':!![]}),this[_0x17128e(0x2bb)](_0x5985d2['from'],_0x5985d2[_0x17128e(0x259)],{'success':!![]},_0x5985d2[_0x17128e(0x2cb)]);}else{if(_0x5985d2['command']===_0x17128e(0x277))try{const _0x2969e9=_0x5985d2[_0x17128e(0x233)][_0x17128e(0x1df)];if(!_0x2969e9)throw new Error(_0x17128e(0x1d8));const _0x56a679=new GoogleGenerativeAI(_0x2969e9),_0x47adcb=_0x56a679['getGenerativeModel']({'model':GEMINI_MODEL}),_0x4370fe=await _0x47adcb[_0x17128e(0x2d3)](_0x17128e(0x2cf)),_0x421236=await _0x4370fe[_0x17128e(0x288)];if(_0x421236['text']())this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':!![],'message':_0x17128e(0x273)},_0x5985d2[_0x17128e(0x2cb)]);else throw new Error(_0x17128e(0x291));}catch(_0x1e7c08){this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':![],'message':_0x1e7c08['message']},_0x5985d2[_0x17128e(0x2cb)]);}else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x1f0))try{const _0x51869a=await scanner[_0x17128e(0x1d3)](this,_0x5985d2[_0x17128e(0x233)]||{});this['sendTo'](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':!![],'devices':_0x51869a},_0x5985d2['callback']);}catch(_0x38a010){this['sendTo'](_0x5985d2['from'],_0x5985d2['command'],{'success':![],'error':_0x38a010['message']},_0x5985d2['callback']);}else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x2db))try{const {matrix:_0xdc1d53}=_0x5985d2[_0x17128e(0x233)],_0xbb9ed2=await this[_0x17128e(0x230)](_0x17128e(0x224));if(_0xbb9ed2&&_0xbb9ed2[_0x17128e(0x256)]){const _0x164c8b=JSON[_0x17128e(0x222)](_0xbb9ed2[_0x17128e(0x256)]);_0x164c8b[_0x17128e(0x1ea)]=_0xdc1d53,_0x164c8b[_0x17128e(0x274)]=Date['now'](),await this[_0x17128e(0x240)](_0x17128e(0x224),{'val':JSON['stringify'](_0x164c8b),'ack':!![]}),pythonBridge[_0x17128e(0x1fd)](this,_0x17128e(0x2b6),_0x164c8b);}this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':!![]},_0x5985d2[_0x17128e(0x2cb)]);}catch(_0x169f9a){this['log'][_0x17128e(0x200)](_0x169f9a);}else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x235))this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2['command'],{'success':!![],'dailyDigests':this[_0x17128e(0x257)]||[],'analysisHistory':this[_0x17128e(0x1fc)]||[]},_0x5985d2['callback']);else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x26c)){const _0x40e96c=this[_0x17128e(0x257)][_0x17128e(0x1e0)],_0x235292=new Array(0x18)[_0x17128e(0x1fb)](0x0),_0x57d91e=new Date()[_0x17128e(0x2d4)](0x0,0x0,0x0,0x0);this[_0x17128e(0x249)]&&this[_0x17128e(0x249)][_0x17128e(0x208)](_0x4c908f=>{const _0x20cb64=_0x17128e;if(_0x4c908f[_0x20cb64(0x29f)]>=_0x57d91e){const _0x56b389=new Date(_0x4c908f['timestamp'])[_0x20cb64(0x21a)]();if(_0x56b389>=0x0&&_0x56b389<0x18)_0x235292[_0x56b389]++;}});let _0x11256e=![],_0x2c29d1='',_0x49d379='',_0x4ed992='';try{const _0x101d6e=await this[_0x17128e(0x230)]('analysis.automation.patternDetected');if(_0x101d6e&&_0x101d6e[_0x17128e(0x256)]){_0x11256e=!![];const _0x21880a=await this[_0x17128e(0x230)](_0x17128e(0x2b8));_0x2c29d1=_0x21880a?_0x21880a[_0x17128e(0x256)]:'';const _0x1c1a33=await this['getStateAsync'](_0x17128e(0x284));_0x49d379=_0x1c1a33?_0x1c1a33[_0x17128e(0x256)]:'';const _0x5afcbb=await this[_0x17128e(0x230)](_0x17128e(0x281));_0x4ed992=_0x5afcbb?_0x5afcbb[_0x17128e(0x256)]:'';}}catch(_0x24f633){}const _0x592dcc=await this[_0x17128e(0x2ad)](),_0x19004d=(this[_0x17128e(0x24a)][_0x17128e(0x266)]||[])[_0x17128e(0x22a)](_0x3ba923=>_0x3ba923[_0x17128e(0x1fe)]),_0x8c6a81=_0x592dcc&&_0x19004d;this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':!![],'eventHistory':this['eventHistory']['slice'](0x0,0xf),'stats':{'digestCount':_0x40e96c,'isPresent':this[_0x17128e(0x223)],'hourlyActivity':_0x235292,'solarActive':_0x8c6a81},'automation':{'detected':_0x11256e,'description':_0x2c29d1,'targetId':_0x49d379,'targetValue':_0x4ed992}},_0x5985d2[_0x17128e(0x2cb)]);}else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x278)){const _0x5ac485=await this[_0x17128e(0x1d4)](_0x17128e(0x289),_0x17128e(0x20e)),_0x448ec8=[];if(_0x5ac485)for(const _0x2596a2 in _0x5ac485){const _0x125239=_0x5ac485[_0x2596a2],_0x3432d6=(_0x125239[_0x17128e(0x1cd)]&&typeof _0x125239[_0x17128e(0x1cd)][_0x17128e(0x228)]===_0x17128e(0x2ba)?_0x125239[_0x17128e(0x1cd)][_0x17128e(0x228)]['de']:_0x125239['common']['name'])||_0x125239['common']['name'];_0x448ec8[_0x17128e(0x1e3)]({'id':_0x2596a2,'name':_0x3432d6});}const _0xbd4cbe=await this[_0x17128e(0x1d4)]('enum.rooms.*',_0x17128e(0x20e)),_0x476ed2=[];if(_0xbd4cbe)for(const _0x507e81 in _0xbd4cbe){const _0x4a4910=_0xbd4cbe[_0x507e81],_0x2cceb9=(_0x4a4910[_0x17128e(0x1cd)]&&typeof _0x4a4910[_0x17128e(0x1cd)][_0x17128e(0x228)]==='object'?_0x4a4910[_0x17128e(0x1cd)]['name']['de']:_0x4a4910['common']['name'])||_0x507e81['split']('.')[_0x17128e(0x242)]();_0x476ed2[_0x17128e(0x1e3)](_0x2cceb9);}this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':!![],'enums':_0x448ec8,'rooms':_0x476ed2},_0x5985d2[_0x17128e(0x2cb)]);}else{if(_0x5985d2['command']===_0x17128e(0x1d5))try{let _0x4d47c9=_0x17128e(0x20b),_0x24bc18='Kein\x20Kalender-Adapter';if(this[_0x17128e(0x24a)][_0x17128e(0x1e9)]){const _0x2215ba=await recorder['getOutsideTemperatureNumeric'](this);_0x4d47c9=_0x2215ba!==null?_0x2215ba+'Â°C':'Daten\x20nicht\x20verfÃ¼gbar';}if(this[_0x17128e(0x24a)][_0x17128e(0x2d8)]){const _0x1055b0=await this['getForeignObjectAsync'](_0x17128e(0x25b)+this[_0x17128e(0x24a)][_0x17128e(0x2d8)]);_0x24bc18=_0x1055b0?_0x17128e(0x255):_0x17128e(0x207);}this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':!![],'weather':_0x4d47c9,'calendar':_0x24bc18},_0x5985d2[_0x17128e(0x2cb)]);}catch(_0x2f7fee){this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2['command'],{'success':![],'error':_0x2f7fee[_0x17128e(0x233)]},_0x5985d2[_0x17128e(0x2cb)]);}else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x1c9))try{const _0x5da40c=_0x5985d2['message'][_0x17128e(0x21d)],_0x2b9f99=await this[_0x17128e(0x1d2)](_0x5da40c+'.data.table');let _0x531e1b=[];if(_0x2b9f99&&_0x2b9f99[_0x17128e(0x256)]){const _0x52e423=JSON['parse'](_0x2b9f99[_0x17128e(0x256)]),_0x2adaeb=new Set();Array[_0x17128e(0x234)](_0x52e423)&&_0x52e423['forEach'](_0xd14594=>{const _0x248969=_0x17128e;if(_0xd14594['_calName'])_0x2adaeb[_0x248969(0x1d7)](_0xd14594['_calName']);else{if(_0xd14594[_0x248969(0x27e)])_0x2adaeb[_0x248969(0x1d7)](_0xd14594['calendarName']);}}),_0x531e1b=Array[_0x17128e(0x29d)](_0x2adaeb)[_0x17128e(0x28c)]();}if(_0x531e1b[_0x17128e(0x1e0)]===0x0)_0x531e1b=['Standard'];this['sendTo'](_0x5985d2['from'],_0x5985d2[_0x17128e(0x259)],{'success':!![],'names':_0x531e1b},_0x5985d2['callback']);}catch(_0x4dc1b3){this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':![],'error':_0x4dc1b3['message']},_0x5985d2['callback']);}else{if(_0x5985d2[_0x17128e(0x259)]===_0x17128e(0x2b0))try{await setup['sendNotification'](this,'ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.',![],![]),this[_0x17128e(0x2bb)](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':!![],'message':_0x17128e(0x1db)},_0x5985d2['callback']);}catch(_0x4b2257){this[_0x17128e(0x258)][_0x17128e(0x200)](_0x17128e(0x239)+_0x4b2257[_0x17128e(0x233)]),this['sendTo'](_0x5985d2[_0x17128e(0x29d)],_0x5985d2[_0x17128e(0x259)],{'success':![],'message':_0x17128e(0x20d)+_0x4b2257[_0x17128e(0x233)]},_0x5985d2['callback']);}}}}}}}}}}}}}}}}async['loadSystemMode'](){const _0x2ddd24=a0_0x59d1ab;try{const _0x2a71e5=await this[_0x2ddd24(0x230)](setup['SYSTEM_DP_MODE']);_0x2a71e5&&_0x2a71e5[_0x2ddd24(0x256)]&&Object['values'](setup[_0x2ddd24(0x2a0)])[_0x2ddd24(0x1dc)](_0x2a71e5[_0x2ddd24(0x256)])?this[_0x2ddd24(0x23e)]=_0x2a71e5[_0x2ddd24(0x256)]:(this[_0x2ddd24(0x23e)]=setup[_0x2ddd24(0x2a0)]['NORMAL'],await this[_0x2ddd24(0x240)](setup[_0x2ddd24(0x2c3)],{'val':setup['SYSTEM_MODES'][_0x2ddd24(0x254)],'ack':!![]}));}catch(_0x1d98c2){this[_0x2ddd24(0x23e)]=setup[_0x2ddd24(0x2a0)]['NORMAL'];}}async[a0_0x59d1ab(0x23b)](){const _0x17d6a2=a0_0x59d1ab;try{const _0x35cc19=this[_0x17d6a2(0x24a)][_0x17d6a2(0x23c)]||[];let _0x16a25a=![];const _0x41ed2b=[];for(const _0x93b492 of _0x35cc19){try{const _0x492a66=await this[_0x17d6a2(0x1d2)](_0x93b492);_0x492a66&&(_0x492a66[_0x17d6a2(0x256)]===!![]||_0x492a66[_0x17d6a2(0x256)]===_0x17d6a2(0x2d1)||_0x492a66['val']===0x1)&&(_0x16a25a=!![],_0x41ed2b['push'](_0x93b492));}catch(_0x4c842c){}}return await this[_0x17d6a2(0x240)](_0x17d6a2(0x2a3),{'val':_0x41ed2b[_0x17d6a2(0x238)](',\x20'),'ack':!![]}),_0x16a25a&&(this['exitTimer']&&(this['log'][_0x17d6a2(0x22f)]('WiFi\x20Presence\x20detected.'),recorder[_0x17d6a2(0x1e2)](this)),!this['isPresent']&&this[_0x17d6a2(0x23e)]===setup[_0x17d6a2(0x2a0)][_0x17d6a2(0x254)]&&await recorder[_0x17d6a2(0x1fa)](this,!![])),_0x16a25a;}catch(_0x4528c3){return![];}}async[a0_0x59d1ab(0x271)](){const _0x115572=a0_0x59d1ab;this[_0x115572(0x258)][_0x115572(0x26d)](_0x115572(0x1d1)),await aiAgent[_0x115572(0x297)](this),this[_0x115572(0x20a)](),this['triggerGaitAnalysis'](),this[_0x115572(0x265)]();}async[a0_0x59d1ab(0x2ad)](){const _0x10a64b=a0_0x59d1ab,_0x28a33f=[_0x10a64b(0x26a),_0x10a64b(0x25a),_0x10a64b(0x2c7)],_0x378ca7=[_0x10a64b(0x27a),_0x10a64b(0x2dc),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x4bbaa0 of _0x28a33f){for(const _0x5357e3 of _0x378ca7){try{const _0x56823e=_0x4bbaa0+'.'+_0x5357e3,_0x535049=await this[_0x10a64b(0x1d2)](_0x56823e);if(_0x535049&&_0x535049[_0x10a64b(0x256)]){const _0x35008c=String(_0x535049[_0x10a64b(0x256)])['toLowerCase']();if(_0x35008c[_0x10a64b(0x1dc)](_0x10a64b(0x21f))||_0x35008c[_0x10a64b(0x1dc)](_0x10a64b(0x1f1))||_0x35008c[_0x10a64b(0x1dc)](_0x10a64b(0x2a6))||_0x35008c['includes']('clear')||_0x35008c[_0x10a64b(0x1dc)]('heiter'))return!![];}}catch(_0x56e4df){}}}return![];}['triggerGaitAnalysis'](){const _0x572b39=a0_0x59d1ab;if(!this[_0x572b39(0x1f6)])return;try{this[_0x572b39(0x2c8)]('LTM.trainingData.sequences',(_0x5b5370,_0x30bf62)=>{const _0x15a900=_0x572b39;_0x30bf62&&_0x30bf62['val']&&pythonBridge['send'](this,_0x15a900(0x2c5),{'sequences':JSON['parse'](_0x30bf62['val'])});});}catch(_0x3d1d4b){}}async[a0_0x59d1ab(0x265)](){const _0x120b89=a0_0x59d1ab;if(!this[_0x120b89(0x1f6)])return;try{const _0x51743d=await recorder['getOutsideTemperatureNumeric'](this);if(_0x51743d===null)return;const _0x317548={},_0x4159c1={},_0x1464b8=this[_0x120b89(0x24a)][_0x120b89(0x266)]||[];for(const _0x57e505 of _0x1464b8){if(_0x57e505['type']===_0x120b89(0x2ce)&&_0x57e505[_0x120b89(0x2b2)]){const _0x4c0a00=this['sensorLastValues'][_0x57e505['id']];if(_0x4c0a00!==undefined)_0x317548[_0x57e505[_0x120b89(0x2b2)]]=_0x4c0a00;if(_0x57e505[_0x120b89(0x1fe)])_0x4159c1[_0x57e505[_0x120b89(0x2b2)]]=!![];}}const _0x27ddb6=await this[_0x120b89(0x2ad)]();let _0x44b081={};try{const _0x2eea1b=await this['getStateAsync'](_0x120b89(0x2c6));if(_0x2eea1b&&_0x2eea1b['val'])_0x44b081=JSON[_0x120b89(0x222)](_0x2eea1b[_0x120b89(0x256)]);}catch(_0x222f8a){}Object['keys'](_0x317548)[_0x120b89(0x1e0)]>0x0&&(pythonBridge[_0x120b89(0x1fd)](this,_0x120b89(0x2be),{'current_temps':_0x317548,'t_out':_0x51743d,'is_sunny':_0x27ddb6,'solar_flags':_0x4159c1,'warmup_targets':_0x44b081}),pythonBridge[_0x120b89(0x1fd)](this,_0x120b89(0x2de),{'current_temps':_0x317548,'t_out':_0x51743d,'targets':{}}));}catch(_0x26691c){}}[a0_0x59d1ab(0x20a)](){const _0x5cbc02=a0_0x59d1ab;if(!this[_0x5cbc02(0x25f)]||this[_0x5cbc02(0x25f)][_0x5cbc02(0x1e0)]===0x0)return;const _0x1d0863=new Array(0x60)[_0x5cbc02(0x1fb)](0x0),_0x44a97e=new Date()[_0x5cbc02(0x2d4)](0x0,0x0,0x0,0x0);this['rawEventLog'][_0x5cbc02(0x208)](_0x42a2e8=>{const _0x377fec=_0x5cbc02,_0x5975de=new Date(_0x42a2e8[_0x377fec(0x29f)]);if(_0x5975de[_0x377fec(0x1e6)]()>=_0x44a97e){const _0x2458d6=_0x5975de['getHours'](),_0x5f4dad=_0x5975de[_0x377fec(0x2cd)](),_0x25cbd6=_0x2458d6*0x4+Math[_0x377fec(0x205)](_0x5f4dad/0xf);if(_0x25cbd6>=0x0&&_0x25cbd6<0x60)_0x1d0863[_0x25cbd6]++;}}),this[_0x5cbc02(0x240)](_0x5cbc02(0x2a9),{'val':JSON['stringify'](_0x1d0863),'ack':!![]});}[a0_0x59d1ab(0x2ac)](){const _0x1e6e7e=a0_0x59d1ab;if(!this[_0x1e6e7e(0x257)]||this[_0x1e6e7e(0x257)][_0x1e6e7e(0x1e0)]<0x2)return;const _0x1cdcbb=this[_0x1e6e7e(0x257)][_0x1e6e7e(0x28b)](_0x84ec75=>{const _0x3a4814=_0x1e6e7e,_0x43fb9c=(_0x84ec75[_0x3a4814(0x1ca)]||'')[_0x3a4814(0x280)]();return ACTIVITY_LEVEL_MAP[_0x43fb9c]||0x32;});pythonBridge[_0x1e6e7e(0x1fd)](this,'ANALYZE_TREND',{'values':_0x1cdcbb,'tag':_0x1e6e7e(0x1ee)});}}if(require[a0_0x59d1ab(0x2d6)]!==module)module[a0_0x59d1ab(0x251)]=_0x230adb=>new CogniLiving(_0x230adb);else new CogniLiving();