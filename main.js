const a0_0x14f7ee=a0_0x243a;(function(_0x4d9910,_0x4fc06b){const _0x896d30=a0_0x243a,_0x207344=_0x4d9910();while(!![]){try{const _0x734955=-parseInt(_0x896d30(0x1e4))/0x1*(parseInt(_0x896d30(0x1e5))/0x2)+parseInt(_0x896d30(0x1f0))/0x3*(parseInt(_0x896d30(0x136))/0x4)+parseInt(_0x896d30(0x165))/0x5*(-parseInt(_0x896d30(0x12a))/0x6)+-parseInt(_0x896d30(0x18f))/0x7+parseInt(_0x896d30(0x15e))/0x8+-parseInt(_0x896d30(0x1e9))/0x9+parseInt(_0x896d30(0x1af))/0xa;if(_0x734955===_0x4fc06b)break;else _0x207344['push'](_0x207344['shift']());}catch(_0x4178ad){_0x207344['push'](_0x207344['shift']());}}}(a0_0x1872,0x5ab46));const a0_0x2d8b7f=(function(){let _0x3fb51f=!![];return function(_0x45f300,_0x42e972){const _0x289291=_0x3fb51f?function(){const _0x13b672=a0_0x243a;if(_0x42e972){const _0x47d49a=_0x42e972[_0x13b672(0x171)](_0x45f300,arguments);return _0x42e972=null,_0x47d49a;}}:function(){};return _0x3fb51f=![],_0x289291;};}()),a0_0x2d4aa1=a0_0x2d8b7f(this,function(){const _0xfeed3a=a0_0x243a;return a0_0x2d4aa1[_0xfeed3a(0x14d)]()['search'](_0xfeed3a(0x1f8))[_0xfeed3a(0x14d)]()[_0xfeed3a(0x1d8)](a0_0x2d4aa1)[_0xfeed3a(0x12b)](_0xfeed3a(0x1f8));});a0_0x2d4aa1();function a0_0x243a(_0x404236,_0x39f9c7){const _0x3e9133=a0_0x1872();return a0_0x243a=function(_0x2d4aa1,_0x2d8b7f){_0x2d4aa1=_0x2d4aa1-0x101;let _0x18726a=_0x3e9133[_0x2d4aa1];return _0x18726a;},a0_0x243a(_0x404236,_0x39f9c7);}'use strict';const utils=require(a0_0x14f7ee(0x1eb)),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require(a0_0x14f7ee(0x205)),scanner=require(a0_0x14f7ee(0x190)),schedulers=require(a0_0x14f7ee(0x155)),topology=require(a0_0x14f7ee(0x1c9)),setup=require(a0_0x14f7ee(0x115)),recorder=require(a0_0x14f7ee(0x1d0)),pythonBridge=require(a0_0x14f7ee(0x157)),aiAgent=require(a0_0x14f7ee(0x1cd)),deadMan=require(a0_0x14f7ee(0x178)),automation=require(a0_0x14f7ee(0x1d1)),GEMINI_MODEL=a0_0x14f7ee(0x15b),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x1872(){const _0x196212=['cancel','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','./lib/scheduler','runGeminiAnalysis','./lib/python_bridge','keys','sonn','setStateAsync','models/gemini-flash-latest','dailyDigests','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','3238352jkUiqo','setPresence','system.presenceWho','updateHealthVector','sendMorningBriefing','Keine\x20Antwort\x20von\x20Gemini','pop','70055gmZwNP','sendTo','inactivityThresholdHours','Current.WeatherText','analysis.training.triggerComfort','Instanz\x20nicht\x20gefunden','testApiKey','.data.table','split','checkSolarCondition','Key\x20not\x20found\x20or\x20not\x20provided','LTM.triggerDailyDigest','apply','analysisInterval','LTM.baselineStatus','stringify','Test','devices','briefingJob','./lib/dead_man','analysis.training.triggerEnergy','name','stopService','.communicate.request','Warm-Up\x20Target\x20Temps\x20(JSON)','getForeignStateAsync','rawEventLog','_calName','ANALYZE_GAIT','LTM.trainingData.sequences','SET_TOPOLOGY','onMessage','OPTIMIZE_ENERGY','initHistory','object','calendarInstance','klar','healthTrendInterval','Gesendet','getCalendarNames','ack','scanDevices','1586823aXJFMC','./lib/scanner','sort','analysis.energy.rlPenalties','TRAIN_COMFORT','setupDriftAnalysisScheduler','simulateEnergyMPC','analysis.energy.mpcActive','checkThermostats','Sec-Training\x20started...','setObjectNotExistsAsync','updateTopologyMatrix','text','createDailyDigest','startService','analysis.health.activityTrend',')\x20-\x20Phase\x20D\x20(Transparency)','setHours','analysis.health.gaitSensors','getForeignObjectAsync','isProVersion','string','accuweather.0','lastAlertState','Verbindung\x20erfolgreich!','forecast.current.weather','analysis.training.triggerTopology','trackerEnabled','resetRLPenalty','onStateChange','initSystemConfig','response','5578260naVLFD','analysis.training.status','error','setupModeResetScheduler','licenseKey','analysis.health.gaitDebug','config','NORMAL','sensorLastValues','\x27\x20wurde\x20manuell\x20vom\x20Benutzer\x20gelÃ¶scht.','TRACK_EVENT','LTM.rawEventLog','timestamp','TRAIN_SECURITY','log','updateLocation','namespace','analysis.automation.targetId','main','setupBriefingScheduler','push','eventHistory','modeResetJob','val','telegram','temperature','./lib/topology','getEnums','analysis.security.learningStatus','scanForDevices','./lib/ai_agent','triggerEnergyPrediction','analysis.automation.targetValue','./lib/recorder','./lib/automation','executeAutomationAction','Activity-Level','\x20min\x20ausbleiben.','dependencyInstallInProgress','from','isPresent','constructor','PYTHON_EXE','send','getGenerativeModel','instance','analysis.energy.pinnForecast','add','sunny','now','analysis.automation.patternDetected','analysis.energy.insulationScore','minutes_safe','58079OyuLDQ','8vYVIks','values','currentSystemMode','Gemini\x20Init\x20Error:\x20','1206873thaAcI','ltmJob','@iobroker/adapter-core','testContext','SYSTEM_MODES','geminiModel','Kein\x20Wetter-Adapter','3lVWVds','parse','number','calendarName','communicate.request','json','createAllObjects','subscribeForeignStatesAsync','(((.+)+)+)+$','Sensors\x20used\x20for\x20Gait\x20Analysis','analysisHistory','getHours','updateTopology','length','enum.functions.*','command','message','Verbunden','weatherunderground.0','loadSystemMode','ANALYZE_TREND','./lib/installer','useWeather','sendNotification','Reinforcement\x20Learning\x20Penalties','isGracePeriodActive','testNotification','generateContent','common','triggerDailyDigest','checkLicense','geminiApiKey','getMinutes','bind','manual','stateChange','notifyTelegramInstance','PREDICT_ENERGY','location','genAI','dismissAutomation','analysis.health.todayVector','state','Daten\x20nicht\x20verfÃ¼gbar','Party\x20Mode','toLowerCase','getForeignObjectsAsync','initZombies','Simulation\x20durch\x20Admin\x20(Test)','lastTrackerEventTime','cogni-living','analysis.training.triggerSecurity','analysisTimer','find','getOutsideTemperatureNumeric','SYSTEM_DP_MODE','updated','onReady','notifyTelegramEnabled','version','./lib/setup','subscribeStates','Fehler:\x20','forEach','endsWith','matrix','{\x22default\x22:\x2021}','onUnload','trackerHeartbeat','abs','value','checkWifiPresence','fill','debug','simulateButler','some','Active\x20Ventilation\x20Alerts','analysis.topology.structure','key','includes','Gemini\x20AI\x20initialized.','138fvNfgu','search','startSystem','Adapter','LTM.trainingData.thermodynamics','LTM.dailyDigests','Heizung\x20kann\x20','presenceDevices','info','analysis.automation.autoApply','callback','runAutopilot','1297044iWemis','scanThermostats','automation.triggerAction','runPythonHealthCheck','floor','getStateAsync','type','exitGraceTimer','checkCalendarTriggers','.system.mode','minDaysForBaseline','analysis.training.triggerHealth','analysis.trigger','activityLevel','system.mode','driftAnalysisTimer','ðŸŽ“\x20[RL-RESET]\x20Lern-Sperre\x20(Penalty)\x20fÃ¼r\x20\x27','exports','analysis.automation.description','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','clear','abortExitTimer','getOverviewData','toString','SET_LEARNING_MODE','system.adapter.','application/json','setState','triggerGaitAnalysis'];a0_0x1872=function(){return _0x196212;};return a0_0x1872();}class CogniLiving extends utils[a0_0x14f7ee(0x12d)]{constructor(_0x4b19b5){const _0x512c8a=a0_0x14f7ee;super({..._0x4b19b5,'name':_0x512c8a(0x10b)}),this[_0x512c8a(0x1c4)]=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x512c8a(0x15c)]=[],this[_0x512c8a(0x1b7)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this['exitTimer']=null,this[_0x512c8a(0x13d)]=null,this[_0x512c8a(0x209)]=![],this[_0x512c8a(0x217)]=null,this[_0x512c8a(0x1ee)]=null,this[_0x512c8a(0x1e7)]=setup[_0x512c8a(0x1ed)][_0x512c8a(0x1b6)],this[_0x512c8a(0x1a3)]=![],this[_0x512c8a(0x1a6)]=![],this['analysisTimer']=null,this[_0x512c8a(0x1ea)]=null,this[_0x512c8a(0x1c5)]=null,this[_0x512c8a(0x145)]=null,this[_0x512c8a(0x177)]=null,this['trackerHeartbeat']=null,this['healthTrendInterval']=null,this['dependencyInstallInProgress']=![],this['lastTrackerEventTime']=Date[_0x512c8a(0x1e0)](),this['on']('ready',this['onReady'][_0x512c8a(0x211)](this)),this['on'](_0x512c8a(0x213),this[_0x512c8a(0x1ac)][_0x512c8a(0x211)](this)),this['on']('unload',this[_0x512c8a(0x11c)]['bind'](this)),this['on'](_0x512c8a(0x200),this[_0x512c8a(0x184)][_0x512c8a(0x211)](this));}async[a0_0x14f7ee(0x112)](){const _0x4e1d3e=a0_0x14f7ee;this['log'][_0x4e1d3e(0x132)]('cogni-living\x20adapter\x20starting\x20(v'+this[_0x4e1d3e(0x114)]+_0x4e1d3e(0x19f));if(!installer['checkAndInstall'](this,()=>this['startSystem']()))return;}async[a0_0x14f7ee(0x12c)](){const _0x2b9b84=a0_0x14f7ee;await setup[_0x2b9b84(0x108)](this);try{this[_0x2b9b84(0x1a3)]=await setup[_0x2b9b84(0x20e)](this['config'][_0x2b9b84(0x1b3)]);}catch(_0x414719){}if(!this[_0x2b9b84(0x1b5)][_0x2b9b84(0x167)]||this[_0x2b9b84(0x1b5)][_0x2b9b84(0x167)]<0.1)this[_0x2b9b84(0x1b5)]['inactivityThresholdHours']=0xc;await setup[_0x2b9b84(0x186)](this),await setup[_0x2b9b84(0x1ad)](this);if(this[_0x2b9b84(0x1b5)][_0x2b9b84(0x20f)])try{this[_0x2b9b84(0x217)]=new GoogleGenerativeAI(this[_0x2b9b84(0x1b5)][_0x2b9b84(0x20f)]),this[_0x2b9b84(0x1ee)]=this['genAI'][_0x2b9b84(0x1db)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x2b9b84(0x150)}}),this[_0x2b9b84(0x1bd)][_0x2b9b84(0x132)](_0x2b9b84(0x129));}catch(_0x557150){this['log'][_0x2b9b84(0x1b1)](_0x2b9b84(0x1e8)+_0x557150[_0x2b9b84(0x200)]);}await setup[_0x2b9b84(0x1f6)](this),await this[_0x2b9b84(0x203)](),await this[_0x2b9b84(0x199)](_0x2b9b84(0x1dd),{'type':'state','common':{'name':'PINN\x20AI\x20Forecast','type':'string','role':_0x2b9b84(0x1f5),'read':!![],'write':![]},'native':{}}),await this[_0x2b9b84(0x199)]('analysis.energy.ventilationAlerts',{'type':_0x2b9b84(0x103),'common':{'name':_0x2b9b84(0x125),'type':'string','role':_0x2b9b84(0x1f5),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.warmupTimes',{'type':_0x2b9b84(0x103),'common':{'name':_0x2b9b84(0x154),'type':_0x2b9b84(0x1a4),'role':_0x2b9b84(0x1f5),'read':!![],'write':![]},'native':{}}),await this[_0x2b9b84(0x199)]('analysis.energy.warmupTargets',{'type':'state','common':{'name':_0x2b9b84(0x17d),'type':_0x2b9b84(0x1a4),'role':_0x2b9b84(0x1f5),'read':!![],'write':!![],'def':_0x2b9b84(0x11b)},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.rlPenalties',{'type':_0x2b9b84(0x103),'common':{'name':_0x2b9b84(0x208),'type':_0x2b9b84(0x1a4),'role':_0x2b9b84(0x1f5),'read':!![],'write':![],'def':'{}'},'native':{}}),await this[_0x2b9b84(0x199)](_0x2b9b84(0x19e),{'type':'state','common':{'name':'General\x20Activity\x20Trend\x20(%)','type':_0x2b9b84(0x1f2),'role':_0x2b9b84(0x11f),'unit':'%','read':!![],'write':![]},'native':{}}),await this[_0x2b9b84(0x199)](_0x2b9b84(0x1a1),{'type':'state','common':{'name':_0x2b9b84(0x1f9),'type':'string','role':_0x2b9b84(0x19b),'read':!![],'write':![]},'native':{}}),await this[_0x2b9b84(0x199)](_0x2b9b84(0x1b4),{'type':_0x2b9b84(0x103),'common':{'name':'Gait\x20Speed\x20Calculation\x20Proof','type':_0x2b9b84(0x1a4),'role':_0x2b9b84(0x19b),'read':!![],'write':![]},'native':{}});try{const _0x34db4d=await this[_0x2b9b84(0x13b)](_0x2b9b84(0x1ba));if(_0x34db4d&&_0x34db4d['val'])this[_0x2b9b84(0x17f)]=JSON[_0x2b9b84(0x1f1)](_0x34db4d['val']);}catch(_0x4a0db2){this[_0x2b9b84(0x17f)]=[];}try{const _0x48f2e5=await this[_0x2b9b84(0x13b)](_0x2b9b84(0x12f));if(_0x48f2e5&&_0x48f2e5[_0x2b9b84(0x1c6)])this[_0x2b9b84(0x15c)]=JSON['parse'](_0x48f2e5[_0x2b9b84(0x1c6)]);}catch(_0x4b0e4e){this['dailyDigests']=[];}const _0x13c1bf=this['dailyDigests'][_0x2b9b84(0x1fd)]>=(this['config'][_0x2b9b84(0x140)]||0x7)?'Aktiv\x20('+this[_0x2b9b84(0x15c)][_0x2b9b84(0x1fd)]+'\x20Tage)':'Lernphase\x20('+this['dailyDigests'][_0x2b9b84(0x1fd)]+'/'+(this[_0x2b9b84(0x1b5)][_0x2b9b84(0x140)]||0x7)+')';await this[_0x2b9b84(0x15a)](_0x2b9b84(0x173),{'val':_0x13c1bf,'ack':!![]}),this[_0x2b9b84(0x116)](_0x2b9b84(0x142)),this['subscribeStates'](_0x2b9b84(0x170)),this[_0x2b9b84(0x116)](_0x2b9b84(0x144)),this[_0x2b9b84(0x116)]('analysis.triggerBriefing'),this[_0x2b9b84(0x116)]('analysis.automation.triggerAction'),this[_0x2b9b84(0x116)](_0x2b9b84(0x133)),this[_0x2b9b84(0x116)](_0x2b9b84(0x10c)),this[_0x2b9b84(0x116)](_0x2b9b84(0x141)),this[_0x2b9b84(0x116)](_0x2b9b84(0x179)),this[_0x2b9b84(0x116)](_0x2b9b84(0x169)),this[_0x2b9b84(0x116)](_0x2b9b84(0x1a9)),this[_0x2b9b84(0x116)](_0x2b9b84(0x196));const _0x1b9ae4=this[_0x2b9b84(0x1b5)]['devices'];if(_0x1b9ae4)for(const _0x1a6c6e of _0x1b9ae4){await this[_0x2b9b84(0x1f7)](_0x1a6c6e['id']);}const _0x4585af=this[_0x2b9b84(0x1b5)][_0x2b9b84(0x131)];if(_0x4585af)for(const _0x16f877 of _0x4585af){await this[_0x2b9b84(0x1f7)](_0x16f877);}if(this[_0x2b9b84(0x1b5)][_0x2b9b84(0x113)]&&this['config'][_0x2b9b84(0x214)])await this[_0x2b9b84(0x1f7)](this[_0x2b9b84(0x1b5)][_0x2b9b84(0x214)]+_0x2b9b84(0x17c));setTimeout(()=>this[_0x2b9b84(0x120)](),0x1388);if(this[_0x2b9b84(0x10d)])clearInterval(this['analysisTimer']);const _0x3ec6bf=this[_0x2b9b84(0x1b5)][_0x2b9b84(0x172)]||0xf;_0x3ec6bf>0x0&&(this[_0x2b9b84(0x10d)]=setInterval(()=>{const _0x44ff60=_0x2b9b84;this[_0x44ff60(0x135)](),automation['checkCalendarTriggers'](this);},_0x3ec6bf*0x3c*0x3e8));setTimeout(()=>automation[_0x2b9b84(0x13e)](this),0x2710);this[_0x2b9b84(0x1b5)][_0x2b9b84(0x1aa)]!==![]&&(this['trackerHeartbeat']=setInterval(()=>{const _0x4038a6=_0x2b9b84;if(this[_0x4038a6(0x1a3)]){const _0x15f50f=Date[_0x4038a6(0x1e0)](),_0x4c76d4=this[_0x4038a6(0x10a)]||_0x15f50f,_0x1e5b04=(_0x15f50f-_0x4c76d4)/0x3e8;_0x1e5b04>0x2&&(this[_0x4038a6(0x10a)]=_0x15f50f,pythonBridge[_0x4038a6(0x1da)](this,_0x4038a6(0x1b9),{'room':null,'dt':_0x1e5b04}));}},0xbb8));if(this[_0x2b9b84(0x18a)])clearInterval(this[_0x2b9b84(0x18a)]);this[_0x2b9b84(0x18a)]=setInterval(()=>{const _0xa1914b=_0x2b9b84;this[_0xa1914b(0x1a3)]&&(this['log'][_0xa1914b(0x132)]('â¤ï¸\x20Auto-Heartbeat:\x20Aktualisiere\x20Gesundheits-Trends...'),this[_0xa1914b(0x139)]());},0x4*0x3c*0x3c*0x3e8),schedulers['setupLtmScheduler'](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers[_0x2b9b84(0x1b2)](this),schedulers[_0x2b9b84(0x194)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x2b9b84(0x1c2)](this,()=>aiAgent[_0x2b9b84(0x162)](this)),pythonBridge[_0x2b9b84(0x19d)](this,installer[_0x2b9b84(0x1d9)]),setTimeout(async()=>{const _0x13b2e1=_0x2b9b84;await topology[_0x13b2e1(0x1fc)](this);try{const _0x3c8f27=await this[_0x13b2e1(0x13b)](_0x13b2e1(0x126));if(_0x3c8f27&&_0x3c8f27[_0x13b2e1(0x1c6)])pythonBridge[_0x13b2e1(0x1da)](this,_0x13b2e1(0x183),JSON[_0x13b2e1(0x1f1)](_0x3c8f27[_0x13b2e1(0x1c6)]));}catch(_0x4b5198){}this['runPythonHealthCheck'](),this[_0x13b2e1(0x152)](),this[_0x13b2e1(0x1ce)](),this[_0x13b2e1(0x161)]();},0x1388);}['onUnload'](_0x2914af){const _0x2745a2=a0_0x14f7ee;if(this[_0x2745a2(0x10d)])clearInterval(this[_0x2745a2(0x10d)]);if(this[_0x2745a2(0x145)])clearInterval(this[_0x2745a2(0x145)]);if(this[_0x2745a2(0x11d)])clearInterval(this['trackerHeartbeat']);if(this['healthTrendInterval'])clearInterval(this[_0x2745a2(0x18a)]);if(this[_0x2745a2(0x1ea)])this[_0x2745a2(0x1ea)]['cancel']();if(this[_0x2745a2(0x1c5)])this[_0x2745a2(0x1c5)][_0x2745a2(0x153)]();if(this[_0x2745a2(0x177)])this['briefingJob'][_0x2745a2(0x153)]();recorder['abortExitTimer'](this),pythonBridge[_0x2745a2(0x17b)](this),_0x2914af();}async[a0_0x14f7ee(0x1ac)](_0x2af904,_0x3c8ca2){const _0x5c7d25=a0_0x14f7ee;if(!_0x3c8ca2||this[_0x5c7d25(0x1d5)])return;if(_0x2af904[_0x5c7d25(0x128)](_0x5c7d25(0x1c7))&&_0x2af904[_0x5c7d25(0x119)](_0x5c7d25(0x1f4))&&_0x3c8ca2[_0x5c7d25(0x1c6)])return;if(_0x2af904===this[_0x5c7d25(0x1bf)]+_0x5c7d25(0x13f)){if(_0x3c8ca2[_0x5c7d25(0x1c6)]&&Object[_0x5c7d25(0x1e6)](setup[_0x5c7d25(0x1ed)])[_0x5c7d25(0x128)](_0x3c8ca2['val'])){this['currentSystemMode']=_0x3c8ca2[_0x5c7d25(0x1c6)];if(_0x3c8ca2[_0x5c7d25(0x1c6)]===setup[_0x5c7d25(0x1ed)]['VACATION'])await recorder[_0x5c7d25(0x15f)](this,![]);else await recorder[_0x5c7d25(0x15f)](this,!![]);if(this[_0x5c7d25(0x1a3)]){let _0x4b67f8=![],_0x165c06=0x0,_0x36cb9f=_0x5c7d25(0x212);if(this[_0x5c7d25(0x1e7)]==='party')_0x4b67f8=!![],_0x165c06=0x168,_0x36cb9f=_0x5c7d25(0x105);else this[_0x5c7d25(0x1e7)]==='guest'&&(_0x4b67f8=!![],_0x165c06=0x5a0,_0x36cb9f='Guest\x20Mode');pythonBridge[_0x5c7d25(0x1da)](this,_0x5c7d25(0x14e),{'active':_0x4b67f8,'duration':_0x165c06,'label':_0x36cb9f}),await this[_0x5c7d25(0x15a)](_0x5c7d25(0x1cb),{'val':JSON[_0x5c7d25(0x174)]({'active':_0x4b67f8,'label':_0x36cb9f,'timestamp':Date[_0x5c7d25(0x1e0)]()}),'ack':!![]});}}if(!_0x3c8ca2[_0x5c7d25(0x18d)])this[_0x5c7d25(0x151)](_0x2af904,{'val':this[_0x5c7d25(0x1e7)],'ack':!![]});return;}if(!_0x3c8ca2[_0x5c7d25(0x18d)]){if(_0x2af904['includes'](_0x5c7d25(0x142))&&_0x3c8ca2[_0x5c7d25(0x1c6)]){this['setState'](_0x2af904,{'val':![],'ack':!![]}),aiAgent[_0x5c7d25(0x156)](this);return;}if(_0x2af904['includes'](_0x5c7d25(0x20d))&&_0x3c8ca2[_0x5c7d25(0x1c6)]){this[_0x5c7d25(0x151)](_0x2af904,{'val':![],'ack':!![]});if(this[_0x5c7d25(0x1a3)])aiAgent[_0x5c7d25(0x19c)](this,pythonBridge);return;}if(_0x2af904['includes']('triggerBriefing')&&_0x3c8ca2[_0x5c7d25(0x1c6)]){this['setState'](_0x2af904,{'val':![],'ack':!![]}),aiAgent[_0x5c7d25(0x162)](this);return;}if(_0x2af904['includes'](_0x5c7d25(0x138))&&_0x3c8ca2[_0x5c7d25(0x1c6)]){this['setState'](_0x2af904,{'val':![],'ack':!![]}),aiAgent[_0x5c7d25(0x1d2)](this);return;}if(_0x2af904[_0x5c7d25(0x128)](_0x5c7d25(0x10c))&&_0x3c8ca2['val']){this[_0x5c7d25(0x151)](_0x2af904,{'val':![],'ack':!![]});if(this[_0x5c7d25(0x1a3)])try{const _0x1d604d=await this[_0x5c7d25(0x13b)]('LTM.trainingData.sequences');if(_0x1d604d&&_0x1d604d[_0x5c7d25(0x1c6)]){const _0x591bed=JSON[_0x5c7d25(0x1f1)](_0x1d604d[_0x5c7d25(0x1c6)]);this[_0x5c7d25(0x15a)](_0x5c7d25(0x1b0),{'val':_0x5c7d25(0x198),'ack':!![]}),pythonBridge[_0x5c7d25(0x1da)](this,_0x5c7d25(0x1bc),{'sequences':_0x591bed});}}catch(_0x2035fd){}return;}if(_0x2af904[_0x5c7d25(0x128)]('analysis.training.triggerHealth')&&_0x3c8ca2[_0x5c7d25(0x1c6)]){this[_0x5c7d25(0x151)](_0x2af904,{'val':![],'ack':!![]});if(this[_0x5c7d25(0x1a3)])try{const _0x5a083d=await this[_0x5c7d25(0x13b)](_0x5c7d25(0x12f));if(_0x5a083d&&_0x5a083d['val'])pythonBridge[_0x5c7d25(0x1da)](this,'TRAIN_HEALTH',{'digests':JSON['parse'](_0x5a083d[_0x5c7d25(0x1c6)])});}catch(_0x5d9bc8){}return;}if(_0x2af904[_0x5c7d25(0x128)](_0x5c7d25(0x179))&&_0x3c8ca2[_0x5c7d25(0x1c6)]){this[_0x5c7d25(0x151)](_0x2af904,{'val':![],'ack':!![]});if(this[_0x5c7d25(0x1a3)])try{const _0x54c538=await this[_0x5c7d25(0x13b)](_0x5c7d25(0x12e));if(_0x54c538&&_0x54c538[_0x5c7d25(0x1c6)])pythonBridge[_0x5c7d25(0x1da)](this,'TRAIN_ENERGY',{'points':JSON[_0x5c7d25(0x1f1)](_0x54c538[_0x5c7d25(0x1c6)])});}catch(_0x3ef737){}return;}if(_0x2af904[_0x5c7d25(0x128)](_0x5c7d25(0x169))&&_0x3c8ca2[_0x5c7d25(0x1c6)]){this[_0x5c7d25(0x151)](_0x2af904,{'val':![],'ack':!![]});if(this[_0x5c7d25(0x1a3)])try{const _0x227764=await this['getStateAsync']('LTM.rawEventLog');if(_0x227764&&_0x227764[_0x5c7d25(0x1c6)])pythonBridge[_0x5c7d25(0x1da)](this,_0x5c7d25(0x193),{'events':JSON[_0x5c7d25(0x1f1)](_0x227764[_0x5c7d25(0x1c6)])});}catch(_0x13be00){}return;}if(_0x2af904[_0x5c7d25(0x128)]('analysis.training.triggerTopology')&&_0x3c8ca2[_0x5c7d25(0x1c6)]){this[_0x5c7d25(0x151)](_0x2af904,{'val':![],'ack':!![]}),topology['updateTopology'](this);return;}}if(this[_0x5c7d25(0x1b5)][_0x5c7d25(0x131)]&&this[_0x5c7d25(0x1b5)]['presenceDevices'][_0x5c7d25(0x128)](_0x2af904)){await this[_0x5c7d25(0x120)]();return;}const _0x55930e=(this[_0x5c7d25(0x1b5)]['devices']||[])[_0x5c7d25(0x10e)](_0x125378=>_0x125378['id']===_0x2af904);if(_0x55930e){const _0x3c64ff=await recorder['processSensorEvent'](this,_0x2af904,_0x3c8ca2,_0x55930e);_0x3c64ff&&_0x3c64ff['type']==='motion'&&_0x3c64ff[_0x5c7d25(0x216)]&&this[_0x5c7d25(0x1a3)]&&deadMan[_0x5c7d25(0x1be)](this,_0x3c64ff[_0x5c7d25(0x216)]),(_0x55930e[_0x5c7d25(0x13c)]===_0x5c7d25(0x1c8)||_0x55930e[_0x5c7d25(0x13c)]==='thermostat')&&automation['cleanupGhostInterventions'](this);}}async[a0_0x14f7ee(0x184)](_0x3d6556){const _0x569442=a0_0x14f7ee;if(typeof _0x3d6556==='object'&&_0x3d6556[_0x569442(0x200)]){if(_0x3d6556['command']===_0x569442(0x197))try{const _0x56e1c2=await automation[_0x569442(0x137)](this);this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'results':_0x56e1c2},_0x3d6556['callback']);}catch(_0x263d6f){this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556['command'],{'success':![],'error':_0x263d6f[_0x569442(0x200)]},_0x3d6556['callback']);}else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x195))try{const {current_temps:_0x4c91f6,t_out:_0x373191,targets:_0x2506ed,t_forecast:_0x566fe7}=_0x3d6556[_0x569442(0x200)],_0x5d66bf=[];let _0x5c0c5c={};try{const _0x2bb471=await this['getStateAsync'](_0x569442(0x1e2));if(_0x2bb471&&_0x2bb471['val']){const _0x2b5b6a=JSON['parse'](_0x2bb471[_0x569442(0x1c6)]);_0x5c0c5c=_0x2b5b6a['scores']||_0x2b5b6a;}}catch(_0xf70863){}const _0x58a7e4=_0x566fe7!==undefined&&_0x566fe7!==null?(_0x373191+_0x566fe7)/0x2:_0x373191;for(const [_0x1bcc64,_0x344e8b]of Object['entries'](_0x4c91f6)){const _0x22faa1=_0x2506ed[_0x1bcc64]||0x15;if(_0x344e8b<=_0x22faa1)continue;let _0x266518=_0x5c0c5c[_0x1bcc64]||-0.5;if(_0x266518>=0x0)_0x266518=-0.5;const _0x5a9ae3=Math[_0x569442(0x11e)](_0x266518),_0x47fdb7=_0x344e8b-_0x22faa1;let _0x4ddcad=Math[_0x569442(0x13a)](_0x47fdb7/_0x5a9ae3*0x3c);const _0x392111=_0x344e8b-_0x373191,_0x11bddc=_0x344e8b-_0x58a7e4;if(_0x11bddc!==0x0&&_0x392111!==0x0){const _0x27068e=_0x392111/_0x11bddc;_0x4ddcad=Math[_0x569442(0x13a)](_0x4ddcad*_0x27068e);}if(_0x4ddcad>0xf){if(_0x4ddcad>0xf0)_0x4ddcad=0xf0;_0x5d66bf[_0x569442(0x1c3)]({'room':_0x1bcc64,'minutes_safe':_0x4ddcad,'target':_0x22faa1,'current':_0x344e8b,'savings_msg':_0x569442(0x130)+_0x4ddcad+_0x569442(0x1d4)});}}_0x5d66bf[_0x569442(0x191)]((_0x23e5b5,_0x392c9b)=>_0x392c9b[_0x569442(0x1e3)]-_0x23e5b5[_0x569442(0x1e3)]),this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'proposals':_0x5d66bf},_0x3d6556[_0x569442(0x134)]);}catch(_0x202de3){this['sendTo'](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':![],'error':_0x202de3[_0x569442(0x200)]},_0x3d6556[_0x569442(0x134)]);}else{if(_0x3d6556['command']===_0x569442(0x1ab))try{const _0x17a119=_0x3d6556[_0x569442(0x200)][_0x569442(0x127)],_0x5050f2=_0x569442(0x192),_0x29b0e3=await this[_0x569442(0x13b)](_0x5050f2);let _0xd5f7d8={};if(_0x29b0e3&&_0x29b0e3['val'])try{_0xd5f7d8=JSON['parse'](_0x29b0e3[_0x569442(0x1c6)]);}catch(_0x335e5d){}_0x17a119&&_0xd5f7d8[_0x17a119]?(delete _0xd5f7d8[_0x17a119],await this[_0x569442(0x15a)](_0x5050f2,{'val':JSON[_0x569442(0x174)](_0xd5f7d8),'ack':!![]}),this[_0x569442(0x1bd)][_0x569442(0x132)](_0x569442(0x146)+_0x17a119+_0x569442(0x1b8)),this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556['command'],{'success':!![]},_0x3d6556['callback'])):this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':![],'error':_0x569442(0x16f)},_0x3d6556[_0x569442(0x134)]);}catch(_0x5e2b77){this[_0x569442(0x166)](_0x3d6556['from'],_0x3d6556[_0x569442(0x1ff)],{'success':![],'error':_0x5e2b77[_0x569442(0x200)]},_0x3d6556[_0x569442(0x134)]);}else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x101))await this['setStateAsync']('analysis.automation.patternDetected',{'val':![],'ack':!![]}),await this[_0x569442(0x15a)](_0x569442(0x148),{'val':'','ack':!![]}),await this[_0x569442(0x15a)](_0x569442(0x1c0),{'val':'','ack':!![]}),this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556['command'],{'success':!![]},_0x3d6556[_0x569442(0x134)]);else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x123)){const {targetId:_0x133146,targetValue:_0x2937f5}=_0x3d6556['message'];await this[_0x569442(0x15a)](_0x569442(0x1e1),{'val':!![],'ack':!![]}),await this[_0x569442(0x15a)](_0x569442(0x148),{'val':_0x569442(0x109),'ack':!![]}),await this[_0x569442(0x15a)]('analysis.automation.targetId',{'val':_0x133146,'ack':!![]}),await this[_0x569442(0x15a)]('analysis.automation.targetValue',{'val':String(_0x2937f5),'ack':!![]}),this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':!![]},_0x3d6556[_0x569442(0x134)]);}else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x16b))try{const _0x1376bb=_0x3d6556[_0x569442(0x200)]['apiKey'];if(!_0x1376bb)throw new Error('Kein\x20API\x20Key\x20Ã¼bergeben');const _0x3f1c82=new GoogleGenerativeAI(_0x1376bb),_0x595526=_0x3f1c82[_0x569442(0x1db)]({'model':GEMINI_MODEL}),_0x40785a=await _0x595526[_0x569442(0x20b)](_0x569442(0x175)),_0x2b35be=await _0x40785a[_0x569442(0x1ae)];if(_0x2b35be[_0x569442(0x19b)]())this[_0x569442(0x166)](_0x3d6556['from'],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'message':_0x569442(0x1a7)},_0x3d6556[_0x569442(0x134)]);else throw new Error(_0x569442(0x163));}catch(_0x5059fe){this['sendTo'](_0x3d6556['from'],_0x3d6556['command'],{'success':![],'message':_0x5059fe['message']},_0x3d6556[_0x569442(0x134)]);}else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x18e))try{const _0x346c75=await scanner[_0x569442(0x1cc)](this,_0x3d6556[_0x569442(0x200)]||{});this['sendTo'](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'devices':_0x346c75},_0x3d6556[_0x569442(0x134)]);}catch(_0x2c62a5){this['sendTo'](_0x3d6556[_0x569442(0x1d6)],_0x3d6556['command'],{'success':![],'error':_0x2c62a5[_0x569442(0x200)]},_0x3d6556[_0x569442(0x134)]);}else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x19a))try{const {matrix:_0x365075}=_0x3d6556[_0x569442(0x200)],_0xf56ab9=await this['getStateAsync']('analysis.topology.structure');if(_0xf56ab9&&_0xf56ab9['val']){const _0x3f54d1=JSON[_0x569442(0x1f1)](_0xf56ab9[_0x569442(0x1c6)]);_0x3f54d1[_0x569442(0x11a)]=_0x365075,_0x3f54d1[_0x569442(0x111)]=Date[_0x569442(0x1e0)](),await this[_0x569442(0x15a)](_0x569442(0x126),{'val':JSON[_0x569442(0x174)](_0x3f54d1),'ack':!![]}),pythonBridge[_0x569442(0x1da)](this,'SET_TOPOLOGY',_0x3f54d1);}this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556['command'],{'success':!![]},_0x3d6556[_0x569442(0x134)]);}catch(_0x16abb4){this[_0x569442(0x1bd)]['error'](_0x16abb4);}else{if(_0x3d6556[_0x569442(0x1ff)]==='getLtmData')this[_0x569442(0x166)](_0x3d6556['from'],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'dailyDigests':this['dailyDigests']||[],'analysisHistory':this[_0x569442(0x1fa)]||[]},_0x3d6556[_0x569442(0x134)]);else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x14c)){const _0x286259=this['dailyDigests'][_0x569442(0x1fd)],_0x278562=new Array(0x18)['fill'](0x0),_0x130494=new Date()[_0x569442(0x1a0)](0x0,0x0,0x0,0x0);this[_0x569442(0x1c4)]&&this['eventHistory'][_0x569442(0x118)](_0x1c78e8=>{const _0x55656c=_0x569442;if(_0x1c78e8['timestamp']>=_0x130494){const _0x4c1d36=new Date(_0x1c78e8[_0x55656c(0x1bb)])[_0x55656c(0x1fb)]();if(_0x4c1d36>=0x0&&_0x4c1d36<0x18)_0x278562[_0x4c1d36]++;}});let _0x43c9a8=![],_0x191018='',_0x264e79='',_0x4fc101='';try{const _0xf34816=await this[_0x569442(0x13b)](_0x569442(0x1e1));if(_0xf34816&&_0xf34816['val']){_0x43c9a8=!![];const _0x556802=await this['getStateAsync'](_0x569442(0x148));_0x191018=_0x556802?_0x556802[_0x569442(0x1c6)]:'';const _0x5f05f9=await this[_0x569442(0x13b)](_0x569442(0x1c0));_0x264e79=_0x5f05f9?_0x5f05f9[_0x569442(0x1c6)]:'';const _0x23c76a=await this['getStateAsync'](_0x569442(0x1cf));_0x4fc101=_0x23c76a?_0x23c76a[_0x569442(0x1c6)]:'';}}catch(_0x591678){}const _0x548e5e=await this[_0x569442(0x16e)](),_0x2a3054=(this[_0x569442(0x1b5)][_0x569442(0x176)]||[])[_0x569442(0x124)](_0x2370fd=>_0x2370fd['isSolar']),_0xb018ee=_0x548e5e&&_0x2a3054;this['sendTo'](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'eventHistory':this[_0x569442(0x1c4)]['slice'](0x0,0xf),'stats':{'digestCount':_0x286259,'isPresent':this[_0x569442(0x1d7)],'hourlyActivity':_0x278562,'solarActive':_0xb018ee},'automation':{'detected':_0x43c9a8,'description':_0x191018,'targetId':_0x264e79,'targetValue':_0x4fc101}},_0x3d6556[_0x569442(0x134)]);}else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x1ca)){const _0x5bd97c=await this[_0x569442(0x107)](_0x569442(0x1fe),'enum'),_0x27689a=[];if(_0x5bd97c)for(const _0x448209 in _0x5bd97c){const _0xbfd6e8=_0x5bd97c[_0x448209],_0x5195f7=(_0xbfd6e8[_0x569442(0x20c)]&&typeof _0xbfd6e8[_0x569442(0x20c)][_0x569442(0x17a)]===_0x569442(0x187)?_0xbfd6e8[_0x569442(0x20c)][_0x569442(0x17a)]['de']:_0xbfd6e8[_0x569442(0x20c)]['name'])||_0xbfd6e8[_0x569442(0x20c)][_0x569442(0x17a)];_0x27689a[_0x569442(0x1c3)]({'id':_0x448209,'name':_0x5195f7});}const _0xbe4a53=await this['getForeignObjectsAsync']('enum.rooms.*','enum'),_0x2ce6f2=[];if(_0xbe4a53)for(const _0x949da5 in _0xbe4a53){const _0x154d91=_0xbe4a53[_0x949da5],_0x3492c4=(_0x154d91[_0x569442(0x20c)]&&typeof _0x154d91['common'][_0x569442(0x17a)]===_0x569442(0x187)?_0x154d91[_0x569442(0x20c)]['name']['de']:_0x154d91[_0x569442(0x20c)][_0x569442(0x17a)])||_0x949da5[_0x569442(0x16d)]('.')[_0x569442(0x164)]();_0x2ce6f2[_0x569442(0x1c3)](_0x3492c4);}this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'enums':_0x27689a,'rooms':_0x2ce6f2},_0x3d6556[_0x569442(0x134)]);}else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x1ec))try{let _0x1e0909=_0x569442(0x1ef),_0x5b7cff='Kein\x20Kalender-Adapter';if(this['config'][_0x569442(0x206)]){const _0x41c1a2=await recorder[_0x569442(0x10f)](this);_0x1e0909=_0x41c1a2!==null?_0x41c1a2+'Â°C':_0x569442(0x104);}if(this[_0x569442(0x1b5)][_0x569442(0x188)]){const _0xc18b4=await this[_0x569442(0x1a2)](_0x569442(0x14f)+this['config'][_0x569442(0x188)]);_0x5b7cff=_0xc18b4?_0x569442(0x201):_0x569442(0x16a);}this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'weather':_0x1e0909,'calendar':_0x5b7cff},_0x3d6556[_0x569442(0x134)]);}catch(_0x79d95){this[_0x569442(0x166)](_0x3d6556['from'],_0x3d6556[_0x569442(0x1ff)],{'success':![],'error':_0x79d95['message']},_0x3d6556[_0x569442(0x134)]);}else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x18c))try{const _0x4d0fbf=_0x3d6556[_0x569442(0x200)][_0x569442(0x1dc)],_0x2afa6b=await this[_0x569442(0x17e)](_0x4d0fbf+_0x569442(0x16c));let _0x4ef445=[];if(_0x2afa6b&&_0x2afa6b[_0x569442(0x1c6)]){const _0x512065=JSON[_0x569442(0x1f1)](_0x2afa6b[_0x569442(0x1c6)]),_0x471046=new Set();Array['isArray'](_0x512065)&&_0x512065['forEach'](_0xf68798=>{const _0x4649fd=_0x569442;if(_0xf68798[_0x4649fd(0x180)])_0x471046[_0x4649fd(0x1de)](_0xf68798[_0x4649fd(0x180)]);else{if(_0xf68798[_0x4649fd(0x1f3)])_0x471046['add'](_0xf68798[_0x4649fd(0x1f3)]);}}),_0x4ef445=Array[_0x569442(0x1d6)](_0x471046)[_0x569442(0x191)]();}if(_0x4ef445[_0x569442(0x1fd)]===0x0)_0x4ef445=['Standard'];this[_0x569442(0x166)](_0x3d6556['from'],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'names':_0x4ef445},_0x3d6556[_0x569442(0x134)]);}catch(_0x596a53){this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':![],'error':_0x596a53['message']},_0x3d6556[_0x569442(0x134)]);}else{if(_0x3d6556[_0x569442(0x1ff)]===_0x569442(0x20a))try{await setup[_0x569442(0x207)](this,_0x569442(0x149),![],![]),this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556[_0x569442(0x1ff)],{'success':!![],'message':_0x569442(0x18b)},_0x3d6556[_0x569442(0x134)]);}catch(_0x3b0579){this[_0x569442(0x1bd)][_0x569442(0x1b1)]('Notification\x20Test\x20Failed:\x20'+_0x3b0579['message']),this[_0x569442(0x166)](_0x3d6556[_0x569442(0x1d6)],_0x3d6556['command'],{'success':![],'message':_0x569442(0x117)+_0x3b0579[_0x569442(0x200)]},_0x3d6556[_0x569442(0x134)]);}}}}}}}}}}}}}}}}async[a0_0x14f7ee(0x203)](){const _0x3fa41e=a0_0x14f7ee;try{const _0x2f7cc4=await this[_0x3fa41e(0x13b)](setup[_0x3fa41e(0x110)]);_0x2f7cc4&&_0x2f7cc4[_0x3fa41e(0x1c6)]&&Object[_0x3fa41e(0x1e6)](setup[_0x3fa41e(0x1ed)])[_0x3fa41e(0x128)](_0x2f7cc4['val'])?this['currentSystemMode']=_0x2f7cc4[_0x3fa41e(0x1c6)]:(this[_0x3fa41e(0x1e7)]=setup[_0x3fa41e(0x1ed)][_0x3fa41e(0x1b6)],await this['setStateAsync'](setup[_0x3fa41e(0x110)],{'val':setup[_0x3fa41e(0x1ed)][_0x3fa41e(0x1b6)],'ack':!![]}));}catch(_0x1be103){this[_0x3fa41e(0x1e7)]=setup[_0x3fa41e(0x1ed)][_0x3fa41e(0x1b6)];}}async['checkWifiPresence'](){const _0x5aeb69=a0_0x14f7ee;try{const _0x503258=this[_0x5aeb69(0x1b5)]['presenceDevices']||[];let _0x543b01=![];const _0x9cc905=[];for(const _0x1911df of _0x503258){try{const _0x5c26ce=await this[_0x5aeb69(0x17e)](_0x1911df);_0x5c26ce&&(_0x5c26ce[_0x5aeb69(0x1c6)]===!![]||_0x5c26ce[_0x5aeb69(0x1c6)]==='online'||_0x5c26ce[_0x5aeb69(0x1c6)]===0x1)&&(_0x543b01=!![],_0x9cc905['push'](_0x1911df));}catch(_0x20a38f){}}return await this['setStateAsync'](_0x5aeb69(0x160),{'val':_0x9cc905['join'](',\x20'),'ack':!![]}),_0x543b01&&(this['exitTimer']&&(this[_0x5aeb69(0x1bd)]['info']('WiFi\x20Presence\x20detected.'),recorder[_0x5aeb69(0x14b)](this)),!this['isPresent']&&this[_0x5aeb69(0x1e7)]===setup[_0x5aeb69(0x1ed)][_0x5aeb69(0x1b6)]&&await recorder[_0x5aeb69(0x15f)](this,!![])),_0x543b01;}catch(_0x3dd6ef){return![];}}async[a0_0x14f7ee(0x135)](){const _0x1625c5=a0_0x14f7ee;this[_0x1625c5(0x1bd)][_0x1625c5(0x122)](_0x1625c5(0x15d)),await aiAgent[_0x1625c5(0x156)](this),this['updateHealthVector'](),this[_0x1625c5(0x152)](),this[_0x1625c5(0x1ce)]();}async[a0_0x14f7ee(0x16e)](){const _0x441b7f=a0_0x14f7ee,_0x8a92bb=[_0x441b7f(0x202),_0x441b7f(0x1a5),'daswetter.0'],_0x37f27b=[_0x441b7f(0x1a8),_0x441b7f(0x168),'NextHours.Location_1.Day_1.current.symbol_desc'];for(const _0x400551 of _0x8a92bb){for(const _0x2daf7b of _0x37f27b){try{const _0x55b701=_0x400551+'.'+_0x2daf7b,_0x1559e3=await this['getForeignStateAsync'](_0x55b701);if(_0x1559e3&&_0x1559e3[_0x441b7f(0x1c6)]){const _0x2d68a7=String(_0x1559e3[_0x441b7f(0x1c6)])[_0x441b7f(0x106)]();if(_0x2d68a7[_0x441b7f(0x128)](_0x441b7f(0x159))||_0x2d68a7[_0x441b7f(0x128)](_0x441b7f(0x1df))||_0x2d68a7[_0x441b7f(0x128)](_0x441b7f(0x189))||_0x2d68a7[_0x441b7f(0x128)](_0x441b7f(0x14a))||_0x2d68a7[_0x441b7f(0x128)]('heiter'))return!![];}}catch(_0x5e6c13){}}}return![];}['triggerGaitAnalysis'](){const _0x51f21c=a0_0x14f7ee;if(!this[_0x51f21c(0x1a3)])return;try{this['getState'](_0x51f21c(0x182),(_0x394d08,_0x4de709)=>{const _0x4a52d8=_0x51f21c;_0x4de709&&_0x4de709[_0x4a52d8(0x1c6)]&&pythonBridge[_0x4a52d8(0x1da)](this,_0x4a52d8(0x181),{'sequences':JSON['parse'](_0x4de709['val'])});});}catch(_0x3631ab){}}async[a0_0x14f7ee(0x1ce)](){const _0x37c7e7=a0_0x14f7ee;if(!this[_0x37c7e7(0x1a3)])return;try{const _0x449893=await recorder[_0x37c7e7(0x10f)](this);if(_0x449893===null)return;const _0xe89885={},_0x5096b2={},_0x346a41=this[_0x37c7e7(0x1b5)]['devices']||[];for(const _0x4a050b of _0x346a41){if(_0x4a050b[_0x37c7e7(0x13c)]===_0x37c7e7(0x1c8)&&_0x4a050b[_0x37c7e7(0x216)]){const _0x457793=this[_0x37c7e7(0x1b7)][_0x4a050b['id']];if(_0x457793!==undefined)_0xe89885[_0x4a050b[_0x37c7e7(0x216)]]=_0x457793;if(_0x4a050b['isSolar'])_0x5096b2[_0x4a050b[_0x37c7e7(0x216)]]=!![];}}const _0x343486=await this[_0x37c7e7(0x16e)]();let _0x8df37c={};try{const _0x374667=await this['getStateAsync']('analysis.energy.warmupTargets');if(_0x374667&&_0x374667['val'])_0x8df37c=JSON[_0x37c7e7(0x1f1)](_0x374667['val']);}catch(_0x2978cf){}Object[_0x37c7e7(0x158)](_0xe89885)[_0x37c7e7(0x1fd)]>0x0&&(pythonBridge[_0x37c7e7(0x1da)](this,_0x37c7e7(0x215),{'current_temps':_0xe89885,'t_out':_0x449893,'is_sunny':_0x343486,'solar_flags':_0x5096b2,'warmup_targets':_0x8df37c}),pythonBridge[_0x37c7e7(0x1da)](this,_0x37c7e7(0x185),{'current_temps':_0xe89885,'t_out':_0x449893,'targets':{}}));}catch(_0x3e1819){}}['updateHealthVector'](){const _0x2bb9f7=a0_0x14f7ee;if(!this[_0x2bb9f7(0x17f)]||this[_0x2bb9f7(0x17f)]['length']===0x0)return;const _0x2b3ede=new Array(0x60)[_0x2bb9f7(0x121)](0x0),_0x159126=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x2bb9f7(0x17f)][_0x2bb9f7(0x118)](_0x9a6e50=>{const _0x109f9e=_0x2bb9f7,_0xb69c89=new Date(_0x9a6e50[_0x109f9e(0x1bb)]);if(_0xb69c89['getTime']()>=_0x159126){const _0x582ff8=_0xb69c89[_0x109f9e(0x1fb)](),_0x198538=_0xb69c89[_0x109f9e(0x210)](),_0x440a6b=_0x582ff8*0x4+Math[_0x109f9e(0x13a)](_0x198538/0xf);if(_0x440a6b>=0x0&&_0x440a6b<0x60)_0x2b3ede[_0x440a6b]++;}}),this[_0x2bb9f7(0x15a)](_0x2bb9f7(0x102),{'val':JSON[_0x2bb9f7(0x174)](_0x2b3ede),'ack':!![]});}['runPythonHealthCheck'](){const _0x5adaa8=a0_0x14f7ee;if(!this[_0x5adaa8(0x15c)]||this['dailyDigests'][_0x5adaa8(0x1fd)]<0x2)return;const _0x3870ac=this['dailyDigests']['map'](_0x25b493=>{const _0x3c1b27=_0x5adaa8,_0x188baf=(_0x25b493[_0x3c1b27(0x143)]||'')[_0x3c1b27(0x106)]();return ACTIVITY_LEVEL_MAP[_0x188baf]||0x32;});pythonBridge[_0x5adaa8(0x1da)](this,_0x5adaa8(0x204),{'values':_0x3870ac,'tag':_0x5adaa8(0x1d3)});}}if(require[a0_0x14f7ee(0x1c1)]!==module)module[a0_0x14f7ee(0x147)]=_0x183217=>new CogniLiving(_0x183217);else new CogniLiving();