const a0_0x3f6a86=a0_0x3efb;(function(_0x5462b9,_0x2223e4){const _0x4e1bef=a0_0x3efb,_0x3f5fbd=_0x5462b9();while(!![]){try{const _0x16b7b9=-parseInt(_0x4e1bef(0xde))/0x1+-parseInt(_0x4e1bef(0xce))/0x2*(parseInt(_0x4e1bef(0xe3))/0x3)+parseInt(_0x4e1bef(0xe7))/0x4+-parseInt(_0x4e1bef(0xbb))/0x5*(parseInt(_0x4e1bef(0xe2))/0x6)+-parseInt(_0x4e1bef(0xe6))/0x7*(-parseInt(_0x4e1bef(0xb6))/0x8)+parseInt(_0x4e1bef(0xd2))/0x9+parseInt(_0x4e1bef(0xcc))/0xa*(parseInt(_0x4e1bef(0xdf))/0xb);if(_0x16b7b9===_0x2223e4)break;else _0x3f5fbd['push'](_0x3f5fbd['shift']());}catch(_0x21c15e){_0x3f5fbd['push'](_0x3f5fbd['shift']());}}}(a0_0xb416,0xeb0e3));const a0_0x1bf9d8=(function(){let _0x3c778b=!![];return function(_0x1b034f,_0x5ac583){const _0xfcd024=_0x3c778b?function(){const _0x21b291=a0_0x3efb;if(_0x5ac583){const _0x40271c=_0x5ac583[_0x21b291(0xa1)](_0x1b034f,arguments);return _0x5ac583=null,_0x40271c;}}:function(){};return _0x3c778b=![],_0xfcd024;};}()),a0_0x1fa33e=a0_0x1bf9d8(this,function(){const _0x3f0444=a0_0x3efb;return a0_0x1fa33e[_0x3f0444(0xdb)]()[_0x3f0444(0xe5)](_0x3f0444(0xe8))[_0x3f0444(0xdb)]()[_0x3f0444(0xc5)](a0_0x1fa33e)[_0x3f0444(0xe5)](_0x3f0444(0xe8));});a0_0x1fa33e();function a0_0xb416(){const _0x44a149=['stateChange','config','notifyPushoverInstance','./lib/python_bridge','onStateChange','sendTo','@iobroker/adapter-core','infrasoundArmingId','./lib/scheduler','onReady','log','val','parent','checkTriggers','infrasoundEnabled','\x20hPa.\x20Einbruch\x20wahrscheinlich.','info','@google/generative-ai','784SzmYEl','bind','handleInfrasound','./lib/recorder','warn','71385XBEAlr','notifyTelegramEnabled','eventHistory','setStateAsync','cogni-living','number','logEvent','notifyTelegramInstance','models/gemini-flash-latest','./lib/topology','constructor','isPresent','init','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','ready','infrasoundLocked','loadState','80mLMOoW','stop','2fcujAJ','Adapter','ack','notifyPushoverEnabled','8260524iyxXub','subscribeForeignStates','abs','\x20hPa\x20(Threshold:\x20','exitTimer','sendNotification','Starting\x20cogni-living\x20adapter...','dailyDigests','./lib/scanner','toString','[Infrasound]\x20ALARM\x20TRIGGERED!\x20Value:\x20','Nuukanni\x20Security','1346365kTTuzV','705991nOygtM','./lib/setup','sensorLastValues','102idNlKR','3396315zuRfXk','exitGrace','search','99428Bbhvdo','3442760vLFeTE','(((.+)+)+)+$','start','rawEventLog','exports','infrasoundSensorId','apply','getForeignStateAsync','onUnload'];a0_0xb416=function(){return _0x44a149;};return a0_0xb416();}'use strict';function a0_0x3efb(_0x4cfae2,_0x226f8e){const _0x324729=a0_0xb416();return a0_0x3efb=function(_0x1fa33e,_0x1bf9d8){_0x1fa33e=_0x1fa33e-0xa1;let _0xb416c5=_0x324729[_0x1fa33e];return _0xb416c5;},a0_0x3efb(_0x4cfae2,_0x226f8e);}const utils=require(a0_0x3f6a86(0xaa)),{GoogleGenerativeAI}=require(a0_0x3f6a86(0xb5)),installer=require('./lib/installer'),scanner=require(a0_0x3f6a86(0xda)),schedulers=require(a0_0x3f6a86(0xac)),topology=require(a0_0x3f6a86(0xc4)),setup=require(a0_0x3f6a86(0xe0)),recorder=require(a0_0x3f6a86(0xb9)),pythonBridge=require(a0_0x3f6a86(0xa7)),aiAgent=require('./lib/ai_agent'),deadMan=require('./lib/dead_man'),automation=require('./lib/automation'),GEMINI_MODEL=a0_0x3f6a86(0xc3),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x3f6a86(0xcf)]{constructor(_0x3f6319){const _0x3ddd94=a0_0x3f6a86;super({..._0x3f6319,'name':_0x3ddd94(0xbf)}),this[_0x3ddd94(0xbd)]=[],this['analysisHistory']=[],this[_0x3ddd94(0xea)]=[],this[_0x3ddd94(0xd9)]=[],this[_0x3ddd94(0xe1)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x3ddd94(0xc6)]=!![],this[_0x3ddd94(0xd6)]=null,this[_0x3ddd94(0xe4)]=![],this['infrasoundLocked']=![],this['on'](_0x3ddd94(0xc9),this[_0x3ddd94(0xad)]['bind'](this)),this['on'](_0x3ddd94(0xa4),this[_0x3ddd94(0xa8)][_0x3ddd94(0xb7)](this)),this['on']('message',this['onMessage'][_0x3ddd94(0xb7)](this)),this['on']('unload',this[_0x3ddd94(0xa3)][_0x3ddd94(0xb7)](this));}async[a0_0x3f6a86(0xad)](){const _0x10bb92=a0_0x3f6a86;this['log'][_0x10bb92(0xb4)](_0x10bb92(0xd8)),await setup[_0x10bb92(0xc7)](this),await topology['init'](this),this[_0x10bb92(0xa5)][_0x10bb92(0xb2)]&&this[_0x10bb92(0xa5)][_0x10bb92(0xec)]&&(this[_0x10bb92(0xae)][_0x10bb92(0xb4)]('[Infrasound]\x20Subscribing\x20to\x20sensor:\x20'+this['config'][_0x10bb92(0xec)]),this[_0x10bb92(0xd3)](this['config']['infrasoundSensorId'])),await pythonBridge[_0x10bb92(0xe9)](this),schedulers[_0x10bb92(0xc7)](this),this[_0x10bb92(0xcb)]();}async[a0_0x3f6a86(0xa8)](_0x88855,_0x1296e5){const _0x556006=a0_0x3f6a86;if(!_0x1296e5||_0x1296e5[_0x556006(0xd0)])return;if(this[_0x556006(0xa5)][_0x556006(0xb2)]&&_0x88855===this[_0x556006(0xa5)][_0x556006(0xec)]){this[_0x556006(0xb8)](_0x1296e5[_0x556006(0xaf)]);return;}topology['isRelevant'](_0x88855)&&(recorder[_0x556006(0xc1)](this,_0x88855,_0x1296e5),automation[_0x556006(0xb1)](this,_0x88855,_0x1296e5));}async[a0_0x3f6a86(0xb8)](_0x45185b){const _0x10ec93=a0_0x3f6a86;if(_0x45185b==null||typeof _0x45185b!==_0x10ec93(0xc0))return;if(this[_0x10ec93(0xca)])return;if(this[_0x10ec93(0xa5)][_0x10ec93(0xab)]){const _0x2cef83=await this[_0x10ec93(0xa2)](this['config'][_0x10ec93(0xab)]);if(!_0x2cef83||!_0x2cef83[_0x10ec93(0xaf)])return;}const _0x3bd984=this[_0x10ec93(0xa5)]['infrasoundThreshold']||0.04;Math[_0x10ec93(0xd4)](_0x45185b)>=_0x3bd984&&(this[_0x10ec93(0xae)][_0x10ec93(0xba)](_0x10ec93(0xdc)+_0x45185b+_0x10ec93(0xd5)+_0x3bd984+')'),await this[_0x10ec93(0xbe)]('security.alarm_triggered',{'val':!![],'ack':!![]}),this[_0x10ec93(0xd7)](_0x10ec93(0xc8)+_0x45185b+_0x10ec93(0xb3)),this[_0x10ec93(0xca)]=!![],setTimeout(()=>{const _0x1e29ea=_0x10ec93;this[_0x1e29ea(0xca)]=![];},0x2710));}[a0_0x3f6a86(0xd7)](_0x1e367b){const _0x2e7ac1=a0_0x3f6a86;this[_0x2e7ac1(0xa5)][_0x2e7ac1(0xd1)]&&this[_0x2e7ac1(0xa5)][_0x2e7ac1(0xa6)]&&this['sendTo'](this[_0x2e7ac1(0xa5)][_0x2e7ac1(0xa6)],'send',{'message':_0x1e367b,'title':_0x2e7ac1(0xdd),'priority':0x1}),this['config'][_0x2e7ac1(0xbc)]&&this[_0x2e7ac1(0xa5)][_0x2e7ac1(0xc2)]&&this[_0x2e7ac1(0xa9)](this[_0x2e7ac1(0xa5)]['notifyTelegramInstance'],'send',{'text':_0x1e367b});}[a0_0x3f6a86(0xa3)](_0x10dc32){const _0x1bb1c1=a0_0x3f6a86;try{pythonBridge[_0x1bb1c1(0xcd)](),_0x10dc32();}catch(_0x392373){_0x10dc32();}}[a0_0x3f6a86(0xcb)](){}['saveState'](){}}module[a0_0x3f6a86(0xb0)]?module[a0_0x3f6a86(0xeb)]=_0x51a010=>new CogniLiving(_0x51a010):new CogniLiving();