const a0_0x351335=a0_0x37e5;(function(_0x2fc567,_0x155a00){const _0x30f026=a0_0x37e5,_0x2b3a3f=_0x2fc567();while(!![]){try{const _0x703f78=parseInt(_0x30f026(0x1d5))/0x1+-parseInt(_0x30f026(0x18e))/0x2*(parseInt(_0x30f026(0x19c))/0x3)+parseInt(_0x30f026(0x1a7))/0x4*(parseInt(_0x30f026(0x19d))/0x5)+parseInt(_0x30f026(0x1b2))/0x6+-parseInt(_0x30f026(0x1c9))/0x7+-parseInt(_0x30f026(0x1a5))/0x8+-parseInt(_0x30f026(0x1cb))/0x9*(-parseInt(_0x30f026(0x1be))/0xa);if(_0x703f78===_0x155a00)break;else _0x2b3a3f['push'](_0x2b3a3f['shift']());}catch(_0x1c5712){_0x2b3a3f['push'](_0x2b3a3f['shift']());}}}(a0_0x2652,0x4e2d6));function a0_0x37e5(_0x409722,_0x4c3f20){const _0x16e1cf=a0_0x2652();return a0_0x37e5=function(_0x46ecc2,_0xec5d35){_0x46ecc2=_0x46ecc2-0x18e;let _0x265214=_0x16e1cf[_0x46ecc2];return _0x265214;},a0_0x37e5(_0x409722,_0x4c3f20);}function a0_0x2652(){const _0x204868=['./lib/scanner','log','getForeignStateAsync','models/gemini-flash-latest','bind','Nuukanni\x20Security','init','./lib/scheduler','unload','4228420gqdhVQ','@iobroker/adapter-core','3510yynCYz','sendTo','onReady','sensorLastValues','./lib/recorder','./lib/installer','sendNotification','ðŸš¨\x20DRUCKWELLEN-ALARM!\x20StÃ¤rke:\x20','[Infrasound]\x20ALARM\x20TRIGGERED!\x20Value:\x20','toString','78350HQHZSw','(((.+)+)+)+$','isPresent','notifyTelegramEnabled','1011938tykcVD','search','number','infrasoundLocked','analysisHistory','exports','logEvent','./lib/dead_man','ready','onStateChange','val','info','config','eventHistory','3pFedyp','63185MgTgvF','stateChange','./lib/automation','ack','message','./lib/python_bridge','loadState','Starting\x20cogni-living\x20adapter...','4949400CSRnWp','send','136IIsUwR','warn','cogni-living','subscribeForeignStates','./lib/topology','notifyPushoverInstance','notifyPushoverEnabled','infrasoundArmingId','notifyTelegramInstance','onMessage','infrasoundThreshold','2173980KErmcB','handleInfrasound','onUnload','constructor','checkTriggers','infrasoundSensorId','[Infrasound]\x20Subscribing\x20to\x20sensor:\x20','exitGrace','start','abs','./lib/ai_agent','infrasoundEnabled','30220LMkDGE','dailyDigests'];a0_0x2652=function(){return _0x204868;};return a0_0x2652();}const a0_0xec5d35=(function(){let _0x544e9a=!![];return function(_0x518595,_0x1d593a){const _0x12cb19=_0x544e9a?function(){if(_0x1d593a){const _0x28abbf=_0x1d593a['apply'](_0x518595,arguments);return _0x1d593a=null,_0x28abbf;}}:function(){};return _0x544e9a=![],_0x12cb19;};}()),a0_0x46ecc2=a0_0xec5d35(this,function(){const _0x404b1d=a0_0x37e5;return a0_0x46ecc2[_0x404b1d(0x1d4)]()['search'](_0x404b1d(0x1d6))[_0x404b1d(0x1d4)]()[_0x404b1d(0x1b5)](a0_0x46ecc2)[_0x404b1d(0x18f)](_0x404b1d(0x1d6));});a0_0x46ecc2();'use strict';const utils=require(a0_0x351335(0x1ca)),{GoogleGenerativeAI}=require('@google/generative-ai'),installer=require(a0_0x351335(0x1d0)),scanner=require(a0_0x351335(0x1c0)),schedulers=require(a0_0x351335(0x1c7)),topology=require(a0_0x351335(0x1ab)),setup=require('./lib/setup'),recorder=require(a0_0x351335(0x1cf)),pythonBridge=require(a0_0x351335(0x1a2)),aiAgent=require(a0_0x351335(0x1bc)),deadMan=require(a0_0x351335(0x195)),automation=require(a0_0x351335(0x19f)),GEMINI_MODEL=a0_0x351335(0x1c3),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x1c29fe){const _0x44fbad=a0_0x351335;super({..._0x1c29fe,'name':_0x44fbad(0x1a9)}),this[_0x44fbad(0x19b)]=[],this[_0x44fbad(0x192)]=[],this['rawEventLog']=[],this[_0x44fbad(0x1bf)]=[],this[_0x44fbad(0x1ce)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x44fbad(0x1d7)]=!![],this['exitTimer']=null,this[_0x44fbad(0x1b9)]=![],this['infrasoundLocked']=![],this['on'](_0x44fbad(0x196),this[_0x44fbad(0x1cd)][_0x44fbad(0x1c4)](this)),this['on'](_0x44fbad(0x19e),this[_0x44fbad(0x197)][_0x44fbad(0x1c4)](this)),this['on'](_0x44fbad(0x1a1),this[_0x44fbad(0x1b0)][_0x44fbad(0x1c4)](this)),this['on'](_0x44fbad(0x1c8),this[_0x44fbad(0x1b4)][_0x44fbad(0x1c4)](this));}async[a0_0x351335(0x1cd)](){const _0x3547ac=a0_0x351335;this[_0x3547ac(0x1c1)][_0x3547ac(0x199)](_0x3547ac(0x1a4)),await setup['init'](this),await topology[_0x3547ac(0x1c6)](this),this[_0x3547ac(0x19a)][_0x3547ac(0x1bd)]&&this[_0x3547ac(0x19a)][_0x3547ac(0x1b7)]&&(this[_0x3547ac(0x1c1)][_0x3547ac(0x199)](_0x3547ac(0x1b8)+this[_0x3547ac(0x19a)][_0x3547ac(0x1b7)]),this[_0x3547ac(0x1aa)](this[_0x3547ac(0x19a)]['infrasoundSensorId'])),await pythonBridge[_0x3547ac(0x1ba)](this),schedulers[_0x3547ac(0x1c6)](this),this[_0x3547ac(0x1a3)]();}async[a0_0x351335(0x197)](_0x23e07b,_0x3c1e76){const _0x374d4b=a0_0x351335;if(!_0x3c1e76||_0x3c1e76[_0x374d4b(0x1a0)])return;if(this['config'][_0x374d4b(0x1bd)]&&_0x23e07b===this[_0x374d4b(0x19a)][_0x374d4b(0x1b7)]){this[_0x374d4b(0x1b3)](_0x3c1e76[_0x374d4b(0x198)]);return;}topology['isRelevant'](_0x23e07b)&&(recorder[_0x374d4b(0x194)](this,_0x23e07b,_0x3c1e76),automation[_0x374d4b(0x1b6)](this,_0x23e07b,_0x3c1e76));}async[a0_0x351335(0x1b3)](_0x33ed6b){const _0x3dfde2=a0_0x351335;if(_0x33ed6b==null||typeof _0x33ed6b!==_0x3dfde2(0x190))return;if(this[_0x3dfde2(0x191)])return;if(this[_0x3dfde2(0x19a)][_0x3dfde2(0x1ae)]){const _0x4a0a6e=await this[_0x3dfde2(0x1c2)](this['config'][_0x3dfde2(0x1ae)]);if(!_0x4a0a6e||!_0x4a0a6e[_0x3dfde2(0x198)])return;}const _0x1f1849=this[_0x3dfde2(0x19a)][_0x3dfde2(0x1b1)]||0.04;Math[_0x3dfde2(0x1bb)](_0x33ed6b)>=_0x1f1849&&(this[_0x3dfde2(0x1c1)][_0x3dfde2(0x1a8)](_0x3dfde2(0x1d3)+_0x33ed6b+'\x20hPa\x20(Threshold:\x20'+_0x1f1849+')'),await this['setStateAsync']('security.alarm_triggered',{'val':!![],'ack':!![]}),this[_0x3dfde2(0x1d1)](_0x3dfde2(0x1d2)+_0x33ed6b+'\x20hPa.\x20Einbruch\x20wahrscheinlich.'),this[_0x3dfde2(0x191)]=!![],setTimeout(()=>{const _0x33792e=_0x3dfde2;this[_0x33792e(0x191)]=![];},0x2710));}[a0_0x351335(0x1d1)](_0xbab861){const _0x2dd7c9=a0_0x351335;this[_0x2dd7c9(0x19a)][_0x2dd7c9(0x1ad)]&&this[_0x2dd7c9(0x19a)][_0x2dd7c9(0x1ac)]&&this[_0x2dd7c9(0x1cc)](this[_0x2dd7c9(0x19a)][_0x2dd7c9(0x1ac)],_0x2dd7c9(0x1a6),{'message':_0xbab861,'title':_0x2dd7c9(0x1c5),'priority':0x1}),this[_0x2dd7c9(0x19a)][_0x2dd7c9(0x1d8)]&&this[_0x2dd7c9(0x19a)][_0x2dd7c9(0x1af)]&&this[_0x2dd7c9(0x1cc)](this[_0x2dd7c9(0x19a)][_0x2dd7c9(0x1af)],_0x2dd7c9(0x1a6),{'text':_0xbab861});}[a0_0x351335(0x1b4)](_0x207149){try{pythonBridge['stop'](),_0x207149();}catch(_0x449404){_0x207149();}}[a0_0x351335(0x1a3)](){}['saveState'](){}}module['parent']?module[a0_0x351335(0x193)]=_0x1cf5b8=>new CogniLiving(_0x1cf5b8):new CogniLiving();