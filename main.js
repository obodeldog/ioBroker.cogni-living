function a0_0x46e6(_0x2a7533,_0x1d1701){const _0x4dc66a=a0_0x4eeb();return a0_0x46e6=function(_0x145834,_0x53db57){_0x145834=_0x145834-0x115;let _0x4eeb52=_0x4dc66a[_0x145834];return _0x4eeb52;},a0_0x46e6(_0x2a7533,_0x1d1701);}const a0_0x58bea0=a0_0x46e6;function a0_0x4eeb(){const _0x4c4d22=['Notification\x20Test\x20Failed:\x20','sendTo','analysis.automation.description','exports','info','@iobroker/adapter-core','checkLicense','Kein\x20API\x20Key\x20Ã¼bergeben','WiFi\x20Presence\x20detected.','isArray','log','dailyDigests','setStateAsync','subscribeForeignStatesAsync','namespace','createAllObjects','geminiApiKey','guest','setPresence','executeAutomationAction','_calName','json','Guest\x20Mode','map','analysis.energy.ventilationAlerts','analysis.automation.patternDetected','subscribeStates','startService','string','scores','2FIIlLO','updateHealthVector','./lib/recorder','triggerBriefing','setHours','getOverviewData','triggerDailyDigest','onStateChange','notifyTelegramEnabled','devices','application/json','trackerHeartbeat','modeResetJob','runAutopilot','500TQlUOY','main','inactivityThresholdHours','LTM.trainingData.sequences','timestamp','sort','toLowerCase','setupBriefingScheduler','createDailyDigest','LTM.baselineStatus','analysisInterval','search','now','TRAIN_SECURITY','floor','common','useWeather','getForeignStateAsync','parse','automation.triggerAction','command','onReady','config','onUnload','(((.+)+)+)+$','Kein\x20Kalender-Adapter','@google/generative-ai','dependencyInstallInProgress','debug','bind','analysis.energy.mpcActive','simulateButler','runGeminiAnalysis','sendNotification','loadSystemMode','communicate.request','forecast.current.weather','geminiModel','triggerGaitAnalysis','calendarInstance','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','TRAIN_ENERGY','checkCalendarTriggers','lastTrackerEventTime','send','location','setupModeResetScheduler','Verbindung\x20erfolgreich!','analysis.training.triggerTopology','ltmJob','trackerEnabled','fill','./lib/ai_agent','manual','push',')\x20-\x20Phase\x20D\x20(Evolution)','./lib/python_bridge','getTime','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','find','length','sunny','minDaysForBaseline','includes','message','error','SYSTEM_MODES','2163asLoTI','analysis.energy.pinnForecast','calendarName','getMinutes','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','motion','minutes_safe','checkSolarCondition','SET_TOPOLOGY','isPresent','constructor','27639WmlPHL','exitGraceTimer','currentSystemMode','temperature','genAI','state','getState','val','.data.table','onMessage','analysis.trigger','instance','ANALYZE_GAIT','entries','getGenerativeModel','setState','simulateEnergyMPC','./lib/setup','./lib/topology','analysis.energy.warmupTargets','system.mode','Current.WeatherText','376584XvLdtq','Standard','checkThermostats','abs','NORMAL','add','from','testContext','LTM.triggerDailyDigest','sensorLastValues','./lib/scanner','getStateAsync','driftAnalysisTimer','callback','PINN\x20AI\x20Forecast','getForeignObjectAsync','updateTopology','Keine\x20Antwort\x20von\x20Gemini','abortExitTimer','.system.mode','notifyTelegramInstance','systemConfig','enum.functions.*','eventHistory','endsWith','testApiKey','processSensorEvent','Heizung\x20kann\x20','unload','licenseKey','accuweather.0','party','getOutsideTemperatureNumeric','analysis.training.triggerSecurity','analysis.training.triggerEnergy','analysis.training.triggerComfort','updateTopologyMatrix','getEnums','analysis.automation.targetId','cogni-living\x20adapter\x20starting\x20(v','initSystemConfig','scanForDevices','TRAIN_COMFORT','text','dismissAutomation','1758wRTLqs','klar','3824LMOBFI','2360zULrRq','scanThermostats','name','checkWifiPresence','84UoPXPA','analysis.automation.targetValue','updateLocation','.communicate.request','enum.rooms.*','setObjectNotExistsAsync','setupDriftAnalysisScheduler','isSolar','NextHours.Location_1.Day_1.current.symbol_desc','VACATION','Simulation\x20durch\x20Admin\x20(Test)','Gesendet','\x20Tage)','PYTHON_EXE','models/gemini-flash-latest','slice','getCalendarNames','TRACK_EVENT','forEach','SYSTEM_DP_MODE','scanDevices','apply','join','TRAIN_HEALTH','daswetter.0','LTM.rawEventLog','Aktiv\x20(','sendMorningBriefing','LTM.dailyDigests','response','triggerEnergyPrediction','./lib/automation','testNotification','LTM.trainingData.thermodynamics','stringify','sonn','getForeignObjectsAsync','toString','getHours','ack','analysis.energy.insulationScore','Verbunden','47069YkntVv','Activity-Level','{\x22default\x22:\x2021}','getLtmData','online','presenceDevices','analysis.security.learningStatus','./lib/dead_man','keys','pop','Daten\x20nicht\x20verfÃ¼gbar','isProVersion','OPTIMIZE_ENERGY','Kein\x20Wetter-Adapter','110358eGDPqW','Test','stopService','analysis.training.status','ready','updated','some','rawEventLog','SET_LEARNING_MODE','analysis.automation.autoApply','runBaselineDriftAnalysis','briefingJob','Instanz\x20nicht\x20gefunden','cancel','type','analysisTimer','lastAlertState','./lib/installer','182325eIToVg','system.presenceWho','telegram','runPythonHealthCheck','object','clear','analysis.health.todayVector','Lernphase\x20('];a0_0x4eeb=function(){return _0x4c4d22;};return a0_0x4eeb();}(function(_0x57a34d,_0x3c9ce0){const _0x384ab0=a0_0x46e6,_0x11723c=_0x57a34d();while(!![]){try{const _0x33af4c=parseInt(_0x384ab0(0x127))/0x1+-parseInt(_0x384ab0(0x14d))/0x2*(-parseInt(_0x384ab0(0x115))/0x3)+parseInt(_0x384ab0(0x1bf))/0x4+-parseInt(_0x384ab0(0x1ef))/0x5*(-parseInt(_0x384ab0(0x1ec))/0x6)+-parseInt(_0x384ab0(0x19e))/0x7*(parseInt(_0x384ab0(0x1ee))/0x8)+parseInt(_0x384ab0(0x1a9))/0x9*(-parseInt(_0x384ab0(0x15b))/0xa)+-parseInt(_0x384ab0(0x21d))/0xb*(parseInt(_0x384ab0(0x1f3))/0xc);if(_0x33af4c===_0x3c9ce0)break;else _0x11723c['push'](_0x11723c['shift']());}catch(_0xf6cda6){_0x11723c['push'](_0x11723c['shift']());}}}(a0_0x4eeb,0x1d61c));const a0_0x53db57=(function(){let _0x11a61d=!![];return function(_0x2a6caa,_0x41d0b9){const _0x1f0190=_0x11a61d?function(){const _0x2f4845=a0_0x46e6;if(_0x41d0b9){const _0xa2a06a=_0x41d0b9[_0x2f4845(0x208)](_0x2a6caa,arguments);return _0x41d0b9=null,_0xa2a06a;}}:function(){};return _0x11a61d=![],_0x1f0190;};}()),a0_0x145834=a0_0x53db57(this,function(){const _0x5808a9=a0_0x46e6;return a0_0x145834[_0x5808a9(0x218)]()[_0x5808a9(0x166)](_0x5808a9(0x173))[_0x5808a9(0x218)]()[_0x5808a9(0x1a8)](a0_0x145834)['search'](_0x5808a9(0x173));});a0_0x145834();'use strict';const utils=require(a0_0x58bea0(0x134)),{GoogleGenerativeAI}=require(a0_0x58bea0(0x175)),installer=require(a0_0x58bea0(0x126)),scanner=require(a0_0x58bea0(0x1c9)),schedulers=require('./lib/scheduler'),topology=require(a0_0x58bea0(0x1bb)),setup=require(a0_0x58bea0(0x1ba)),recorder=require(a0_0x58bea0(0x14f)),pythonBridge=require(a0_0x58bea0(0x193)),aiAgent=require(a0_0x58bea0(0x18f)),deadMan=require(a0_0x58bea0(0x224)),automation=require(a0_0x58bea0(0x212)),GEMINI_MODEL=a0_0x58bea0(0x201),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x58d399){const _0x12633e=a0_0x58bea0;super({..._0x58d399,'name':'cogni-living'}),this['eventHistory']=[],this['analysisHistory']=[],this[_0x12633e(0x11c)]=[],this[_0x12633e(0x13a)]=[],this[_0x12633e(0x1c8)]={},this[_0x12633e(0x1d4)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x12633e(0x1a7)]=!![],this['exitTimer']=null,this[_0x12633e(0x1aa)]=null,this['isGracePeriodActive']=![],this[_0x12633e(0x1ad)]=null,this[_0x12633e(0x180)]=null,this[_0x12633e(0x1ab)]=setup[_0x12633e(0x19d)][_0x12633e(0x1c3)],this[_0x12633e(0x228)]=![],this[_0x12633e(0x125)]=![],this[_0x12633e(0x124)]=null,this['ltmJob']=null,this[_0x12633e(0x159)]=null,this['driftAnalysisTimer']=null,this['briefingJob']=null,this['dependencyInstallInProgress']=![],this[_0x12633e(0x158)]=null,this['lastTrackerEventTime']=Date[_0x12633e(0x167)](),this['on'](_0x12633e(0x119),this[_0x12633e(0x170)][_0x12633e(0x178)](this)),this['on']('stateChange',this[_0x12633e(0x154)]['bind'](this)),this['on'](_0x12633e(0x1db),this[_0x12633e(0x172)][_0x12633e(0x178)](this)),this['on'](_0x12633e(0x19b),this[_0x12633e(0x1b2)][_0x12633e(0x178)](this));}async[a0_0x58bea0(0x170)](){const _0x264512=a0_0x58bea0;this[_0x264512(0x139)][_0x264512(0x133)](_0x264512(0x1e6)+this['version']+_0x264512(0x192));if(!installer['checkAndInstall'](this,()=>this['startSystem']()))return;}async['startSystem'](){const _0x37a065=a0_0x58bea0;await setup['initZombies'](this);try{this['isProVersion']=await setup[_0x37a065(0x135)](this[_0x37a065(0x171)][_0x37a065(0x1dc)]);}catch(_0x337d34){}if(!this[_0x37a065(0x171)][_0x37a065(0x15d)]||this[_0x37a065(0x171)][_0x37a065(0x15d)]<0.1)this[_0x37a065(0x171)][_0x37a065(0x15d)]=0xc;await setup['initHistory'](this),await setup[_0x37a065(0x1e7)](this);if(this['config'][_0x37a065(0x13f)])try{this[_0x37a065(0x1ad)]=new GoogleGenerativeAI(this[_0x37a065(0x171)]['geminiApiKey']),this['geminiModel']=this[_0x37a065(0x1ad)][_0x37a065(0x1b7)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x37a065(0x157)}}),this[_0x37a065(0x139)][_0x37a065(0x133)]('Gemini\x20AI\x20initialized.');}catch(_0x300b0b){this[_0x37a065(0x139)][_0x37a065(0x19c)]('Gemini\x20Init\x20Error:\x20'+_0x300b0b[_0x37a065(0x19b)]);}await setup[_0x37a065(0x13e)](this),await this[_0x37a065(0x17d)](),await this[_0x37a065(0x1f8)](_0x37a065(0x19f),{'type':'state','common':{'name':_0x37a065(0x1cd),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync'](_0x37a065(0x147),{'type':_0x37a065(0x1ae),'common':{'name':'Active\x20Ventilation\x20Alerts','type':'string','role':_0x37a065(0x144),'read':!![],'write':![]},'native':{}}),await this['setObjectNotExistsAsync']('analysis.energy.warmupTimes',{'type':_0x37a065(0x1ae),'common':{'name':_0x37a065(0x195),'type':_0x37a065(0x14b),'role':_0x37a065(0x144),'read':!![],'write':![]},'native':{}}),await this[_0x37a065(0x1f8)]('analysis.energy.warmupTargets',{'type':_0x37a065(0x1ae),'common':{'name':'Warm-Up\x20Target\x20Temps\x20(JSON)','type':_0x37a065(0x14b),'role':_0x37a065(0x144),'read':!![],'write':!![],'def':_0x37a065(0x21f)},'native':{}});try{const _0x413c4a=await this[_0x37a065(0x1ca)]('LTM.rawEventLog');if(_0x413c4a&&_0x413c4a[_0x37a065(0x1b0)])this[_0x37a065(0x11c)]=JSON[_0x37a065(0x16d)](_0x413c4a[_0x37a065(0x1b0)]);}catch(_0x483989){this[_0x37a065(0x11c)]=[];}try{const _0x27f1bf=await this[_0x37a065(0x1ca)](_0x37a065(0x20f));if(_0x27f1bf&&_0x27f1bf[_0x37a065(0x1b0)])this[_0x37a065(0x13a)]=JSON[_0x37a065(0x16d)](_0x27f1bf[_0x37a065(0x1b0)]);}catch(_0x16b5a0){this[_0x37a065(0x13a)]=[];}const _0x3aac84=this['dailyDigests'][_0x37a065(0x197)]>=(this['config'][_0x37a065(0x199)]||0x7)?_0x37a065(0x20d)+this[_0x37a065(0x13a)]['length']+_0x37a065(0x1ff):_0x37a065(0x12e)+this[_0x37a065(0x13a)][_0x37a065(0x197)]+'/'+(this[_0x37a065(0x171)][_0x37a065(0x199)]||0x7)+')';await this['setStateAsync'](_0x37a065(0x164),{'val':_0x3aac84,'ack':!![]}),this[_0x37a065(0x149)]('analysis.trigger'),this[_0x37a065(0x149)](_0x37a065(0x1c7)),this[_0x37a065(0x149)](_0x37a065(0x1bd)),this['subscribeStates']('analysis.triggerBriefing'),this['subscribeStates']('analysis.automation.triggerAction'),this['subscribeStates'](_0x37a065(0x11e)),this[_0x37a065(0x149)](_0x37a065(0x1e0)),this[_0x37a065(0x149)]('analysis.training.triggerHealth'),this[_0x37a065(0x149)](_0x37a065(0x1e1)),this['subscribeStates'](_0x37a065(0x1e2)),this[_0x37a065(0x149)](_0x37a065(0x18b)),this[_0x37a065(0x149)](_0x37a065(0x179));const _0x570a8a=this[_0x37a065(0x171)][_0x37a065(0x156)];if(_0x570a8a)for(const _0x4641f2 of _0x570a8a){await this[_0x37a065(0x13c)](_0x4641f2['id']);}const _0x1ccb19=this[_0x37a065(0x171)][_0x37a065(0x222)];if(_0x1ccb19)for(const _0x45ecae of _0x1ccb19){await this[_0x37a065(0x13c)](_0x45ecae);}if(this[_0x37a065(0x171)][_0x37a065(0x155)]&&this['config'][_0x37a065(0x1d3)])await this[_0x37a065(0x13c)](this[_0x37a065(0x171)]['notifyTelegramInstance']+_0x37a065(0x1f6));setTimeout(()=>this[_0x37a065(0x1f2)](),0x1388);if(this[_0x37a065(0x124)])clearInterval(this['analysisTimer']);const _0x4f3741=this[_0x37a065(0x171)][_0x37a065(0x165)]||0xf;_0x4f3741>0x0&&(this[_0x37a065(0x124)]=setInterval(()=>{const _0x161f4d=_0x37a065;this[_0x161f4d(0x15a)](),automation[_0x161f4d(0x185)](this);},_0x4f3741*0x3c*0x3e8)),setTimeout(()=>automation[_0x37a065(0x185)](this),0x2710),this['config'][_0x37a065(0x18d)]!==![]&&(this[_0x37a065(0x158)]=setInterval(()=>{const _0x43f7b0=_0x37a065;if(this['isProVersion']){const _0x3392fc=Date[_0x43f7b0(0x167)](),_0xf0cc9d=this['lastTrackerEventTime']||_0x3392fc,_0x1e3660=(_0x3392fc-_0xf0cc9d)/0x3e8;_0x1e3660>0x2&&(this[_0x43f7b0(0x186)]=_0x3392fc,pythonBridge[_0x43f7b0(0x187)](this,_0x43f7b0(0x204),{'room':null,'dt':_0x1e3660}));}},0xbb8)),schedulers['setupLtmScheduler'](this,()=>aiAgent[_0x37a065(0x163)](this,pythonBridge)),schedulers[_0x37a065(0x189)](this),schedulers[_0x37a065(0x1f9)](this,()=>aiAgent[_0x37a065(0x11f)](this)),schedulers[_0x37a065(0x162)](this,()=>aiAgent[_0x37a065(0x20e)](this)),pythonBridge[_0x37a065(0x14a)](this,installer[_0x37a065(0x200)]),setTimeout(async()=>{const _0x96b5fd=_0x37a065;await topology['updateTopology'](this);try{const _0x4e36f6=await this[_0x96b5fd(0x1ca)]('analysis.topology.structure');if(_0x4e36f6&&_0x4e36f6[_0x96b5fd(0x1b0)])pythonBridge[_0x96b5fd(0x187)](this,_0x96b5fd(0x1a6),JSON[_0x96b5fd(0x16d)](_0x4e36f6[_0x96b5fd(0x1b0)]));}catch(_0x2c5b2f){}this[_0x96b5fd(0x12a)](),this[_0x96b5fd(0x181)](),this['triggerEnergyPrediction'](),this[_0x96b5fd(0x14e)]();},0x1388);}[a0_0x58bea0(0x172)](_0x52f2e6){const _0x9783f0=a0_0x58bea0;if(this[_0x9783f0(0x124)])clearInterval(this[_0x9783f0(0x124)]);if(this[_0x9783f0(0x1cb)])clearInterval(this['driftAnalysisTimer']);if(this[_0x9783f0(0x158)])clearInterval(this[_0x9783f0(0x158)]);if(this['ltmJob'])this[_0x9783f0(0x18c)][_0x9783f0(0x122)]();if(this[_0x9783f0(0x159)])this[_0x9783f0(0x159)][_0x9783f0(0x122)]();if(this[_0x9783f0(0x120)])this['briefingJob'][_0x9783f0(0x122)]();recorder[_0x9783f0(0x1d1)](this),pythonBridge[_0x9783f0(0x117)](this),_0x52f2e6();}async[a0_0x58bea0(0x154)](_0x5c85d2,_0x49d2dc){const _0x387089=a0_0x58bea0;if(!_0x49d2dc||this[_0x387089(0x176)])return;if(_0x5c85d2[_0x387089(0x19a)](_0x387089(0x129))&&_0x5c85d2[_0x387089(0x1d7)](_0x387089(0x17e))&&_0x49d2dc[_0x387089(0x1b0)])return;if(_0x5c85d2===this[_0x387089(0x13d)]+_0x387089(0x1d2)){if(_0x49d2dc[_0x387089(0x1b0)]&&Object['values'](setup['SYSTEM_MODES'])[_0x387089(0x19a)](_0x49d2dc[_0x387089(0x1b0)])){this[_0x387089(0x1ab)]=_0x49d2dc[_0x387089(0x1b0)];if(_0x49d2dc[_0x387089(0x1b0)]===setup['SYSTEM_MODES'][_0x387089(0x1fc)])await recorder[_0x387089(0x141)](this,![]);else await recorder['setPresence'](this,!![]);if(this[_0x387089(0x228)]){let _0x378523=![],_0x4378bd=0x0,_0x407316=_0x387089(0x190);if(this[_0x387089(0x1ab)]===_0x387089(0x1de))_0x378523=!![],_0x4378bd=0x168,_0x407316='Party\x20Mode';else this[_0x387089(0x1ab)]===_0x387089(0x140)&&(_0x378523=!![],_0x4378bd=0x5a0,_0x407316=_0x387089(0x145));pythonBridge[_0x387089(0x187)](this,_0x387089(0x11d),{'active':_0x378523,'duration':_0x4378bd,'label':_0x407316}),await this[_0x387089(0x13b)](_0x387089(0x223),{'val':JSON['stringify']({'active':_0x378523,'label':_0x407316,'timestamp':Date[_0x387089(0x167)]()}),'ack':!![]});}}if(!_0x49d2dc['ack'])this[_0x387089(0x1b8)](_0x5c85d2,{'val':this[_0x387089(0x1ab)],'ack':!![]});return;}if(!_0x49d2dc[_0x387089(0x21a)]){if(_0x5c85d2['includes'](_0x387089(0x1b3))&&_0x49d2dc[_0x387089(0x1b0)]){this[_0x387089(0x1b8)](_0x5c85d2,{'val':![],'ack':!![]}),aiAgent[_0x387089(0x17b)](this);return;}if(_0x5c85d2[_0x387089(0x19a)](_0x387089(0x153))&&_0x49d2dc[_0x387089(0x1b0)]){this['setState'](_0x5c85d2,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x387089(0x163)](this,pythonBridge);return;}if(_0x5c85d2[_0x387089(0x19a)](_0x387089(0x150))&&_0x49d2dc['val']){this[_0x387089(0x1b8)](_0x5c85d2,{'val':![],'ack':!![]}),aiAgent[_0x387089(0x20e)](this);return;}if(_0x5c85d2[_0x387089(0x19a)](_0x387089(0x16e))&&_0x49d2dc[_0x387089(0x1b0)]){this['setState'](_0x5c85d2,{'val':![],'ack':!![]}),aiAgent[_0x387089(0x142)](this);return;}if(_0x5c85d2[_0x387089(0x19a)](_0x387089(0x1e0))&&_0x49d2dc[_0x387089(0x1b0)]){this['setState'](_0x5c85d2,{'val':![],'ack':!![]});if(this[_0x387089(0x228)])try{const _0x2b68e4=await this[_0x387089(0x1ca)]('LTM.trainingData.sequences');if(_0x2b68e4&&_0x2b68e4[_0x387089(0x1b0)]){const _0x389101=JSON[_0x387089(0x16d)](_0x2b68e4[_0x387089(0x1b0)]);this[_0x387089(0x13b)](_0x387089(0x118),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x387089(0x187)](this,_0x387089(0x168),{'sequences':_0x389101});}}catch(_0x5b86b8){}return;}if(_0x5c85d2[_0x387089(0x19a)]('analysis.training.triggerHealth')&&_0x49d2dc['val']){this['setState'](_0x5c85d2,{'val':![],'ack':!![]});if(this[_0x387089(0x228)])try{const _0x594746=await this['getStateAsync'](_0x387089(0x20f));if(_0x594746&&_0x594746[_0x387089(0x1b0)])pythonBridge[_0x387089(0x187)](this,_0x387089(0x20a),{'digests':JSON[_0x387089(0x16d)](_0x594746[_0x387089(0x1b0)])});}catch(_0x4afd2e){}return;}if(_0x5c85d2[_0x387089(0x19a)]('analysis.training.triggerEnergy')&&_0x49d2dc[_0x387089(0x1b0)]){this['setState'](_0x5c85d2,{'val':![],'ack':!![]});if(this[_0x387089(0x228)])try{const _0x3cf91a=await this[_0x387089(0x1ca)](_0x387089(0x214));if(_0x3cf91a&&_0x3cf91a[_0x387089(0x1b0)])pythonBridge[_0x387089(0x187)](this,_0x387089(0x184),{'points':JSON[_0x387089(0x16d)](_0x3cf91a['val'])});}catch(_0x2d39fe){}return;}if(_0x5c85d2[_0x387089(0x19a)](_0x387089(0x1e2))&&_0x49d2dc[_0x387089(0x1b0)]){this[_0x387089(0x1b8)](_0x5c85d2,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x171d7d=await this[_0x387089(0x1ca)](_0x387089(0x20c));if(_0x171d7d&&_0x171d7d[_0x387089(0x1b0)])pythonBridge[_0x387089(0x187)](this,_0x387089(0x1e9),{'events':JSON[_0x387089(0x16d)](_0x171d7d[_0x387089(0x1b0)])});}catch(_0x3be71d){}return;}if(_0x5c85d2[_0x387089(0x19a)](_0x387089(0x18b))&&_0x49d2dc['val']){this[_0x387089(0x1b8)](_0x5c85d2,{'val':![],'ack':!![]}),topology[_0x387089(0x1cf)](this);return;}}if(this[_0x387089(0x171)][_0x387089(0x222)]&&this[_0x387089(0x171)][_0x387089(0x222)]['includes'](_0x5c85d2)){await this['checkWifiPresence']();return;}const _0x4f6bac=(this['config'][_0x387089(0x156)]||[])[_0x387089(0x196)](_0x47e3ac=>_0x47e3ac['id']===_0x5c85d2);if(_0x4f6bac){const _0x5b0e2a=await recorder[_0x387089(0x1d9)](this,_0x5c85d2,_0x49d2dc,_0x4f6bac);_0x5b0e2a&&_0x5b0e2a[_0x387089(0x123)]===_0x387089(0x1a3)&&_0x5b0e2a[_0x387089(0x188)]&&this[_0x387089(0x228)]&&deadMan[_0x387089(0x1f5)](this,_0x5b0e2a[_0x387089(0x188)]);}}async[a0_0x58bea0(0x1b2)](_0x3965ec){const _0x2a33d2=a0_0x58bea0;if(typeof _0x3965ec===_0x2a33d2(0x12b)&&_0x3965ec['message']){if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x1c1))try{const _0x213082=await automation[_0x2a33d2(0x1f0)](this);this['sendTo'](_0x3965ec['from'],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'results':_0x213082},_0x3965ec[_0x2a33d2(0x1cc)]);}catch(_0x59d457){this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':![],'error':_0x59d457[_0x2a33d2(0x19b)]},_0x3965ec[_0x2a33d2(0x1cc)]);}else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x1b9))try{const {current_temps:_0x2e78d2,t_out:_0x5c5c68,targets:_0x16b2ce,t_forecast:_0x23990b}=_0x3965ec['message'],_0x5cc274=[];let _0x5cbd72={};try{const _0x2ccadf=await this[_0x2a33d2(0x1ca)](_0x2a33d2(0x21b));if(_0x2ccadf&&_0x2ccadf[_0x2a33d2(0x1b0)]){const _0x8b907f=JSON[_0x2a33d2(0x16d)](_0x2ccadf[_0x2a33d2(0x1b0)]);_0x5cbd72=_0x8b907f[_0x2a33d2(0x14c)]||_0x8b907f;}}catch(_0x1da973){}const _0x3d8d88=_0x23990b!==undefined&&_0x23990b!==null?(_0x5c5c68+_0x23990b)/0x2:_0x5c5c68;for(const [_0x1fc71d,_0x4528e9]of Object[_0x2a33d2(0x1b6)](_0x2e78d2)){const _0x1fd4ec=_0x16b2ce[_0x1fc71d]||0x15;if(_0x4528e9<=_0x1fd4ec)continue;let _0x526f35=_0x5cbd72[_0x1fc71d]||-0.5;if(_0x526f35>=0x0)_0x526f35=-0.5;const _0x21f89c=Math[_0x2a33d2(0x1c2)](_0x526f35),_0x41218b=_0x4528e9-_0x1fd4ec;let _0x2f846d=Math[_0x2a33d2(0x169)](_0x41218b/_0x21f89c*0x3c);const _0x19f2ee=_0x4528e9-_0x5c5c68,_0x5cdd06=_0x4528e9-_0x3d8d88;if(_0x5cdd06!==0x0&&_0x19f2ee!==0x0){const _0x35598a=_0x19f2ee/_0x5cdd06;_0x2f846d=Math[_0x2a33d2(0x169)](_0x2f846d*_0x35598a);}if(_0x2f846d>0xf){if(_0x2f846d>0xf0)_0x2f846d=0xf0;_0x5cc274[_0x2a33d2(0x191)]({'room':_0x1fc71d,'minutes_safe':_0x2f846d,'target':_0x1fd4ec,'current':_0x4528e9,'savings_msg':_0x2a33d2(0x1da)+_0x2f846d+'\x20min\x20ausbleiben.'});}}_0x5cc274[_0x2a33d2(0x160)]((_0x296014,_0xa6df4a)=>_0xa6df4a['minutes_safe']-_0x296014[_0x2a33d2(0x1a4)]),this['sendTo'](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'proposals':_0x5cc274},_0x3965ec[_0x2a33d2(0x1cc)]);}catch(_0x3c2eeb){this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':![],'error':_0x3c2eeb[_0x2a33d2(0x19b)]},_0x3965ec[_0x2a33d2(0x1cc)]);}else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x1eb))await this[_0x2a33d2(0x13b)](_0x2a33d2(0x148),{'val':![],'ack':!![]}),await this[_0x2a33d2(0x13b)](_0x2a33d2(0x131),{'val':'','ack':!![]}),await this[_0x2a33d2(0x13b)](_0x2a33d2(0x1e5),{'val':'','ack':!![]}),this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![]},_0x3965ec[_0x2a33d2(0x1cc)]);else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x17a)){const {targetId:_0xa89045,targetValue:_0x4817ab}=_0x3965ec['message'];await this[_0x2a33d2(0x13b)](_0x2a33d2(0x148),{'val':!![],'ack':!![]}),await this[_0x2a33d2(0x13b)](_0x2a33d2(0x131),{'val':_0x2a33d2(0x1fd),'ack':!![]}),await this[_0x2a33d2(0x13b)](_0x2a33d2(0x1e5),{'val':_0xa89045,'ack':!![]}),await this['setStateAsync'](_0x2a33d2(0x1f4),{'val':String(_0x4817ab),'ack':!![]}),this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![]},_0x3965ec[_0x2a33d2(0x1cc)]);}else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x1d8))try{const _0x2725fc=_0x3965ec['message']['apiKey'];if(!_0x2725fc)throw new Error(_0x2a33d2(0x136));const _0x27f26e=new GoogleGenerativeAI(_0x2725fc),_0x40a6ec=_0x27f26e[_0x2a33d2(0x1b7)]({'model':GEMINI_MODEL}),_0x177691=await _0x40a6ec['generateContent'](_0x2a33d2(0x116)),_0x591e52=await _0x177691[_0x2a33d2(0x210)];if(_0x591e52[_0x2a33d2(0x1ea)]())this[_0x2a33d2(0x130)](_0x3965ec['from'],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'message':_0x2a33d2(0x18a)},_0x3965ec[_0x2a33d2(0x1cc)]);else throw new Error(_0x2a33d2(0x1d0));}catch(_0x6e1926){this[_0x2a33d2(0x130)](_0x3965ec['from'],_0x3965ec[_0x2a33d2(0x16f)],{'success':![],'message':_0x6e1926[_0x2a33d2(0x19b)]},_0x3965ec[_0x2a33d2(0x1cc)]);}else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x207))try{const _0x59b7c9=await scanner[_0x2a33d2(0x1e8)](this,_0x3965ec[_0x2a33d2(0x19b)]||{});this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'devices':_0x59b7c9},_0x3965ec['callback']);}catch(_0x214dd1){this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':![],'error':_0x214dd1['message']},_0x3965ec[_0x2a33d2(0x1cc)]);}else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x1e3))try{const {matrix:_0x558478}=_0x3965ec[_0x2a33d2(0x19b)],_0x53da65=await this[_0x2a33d2(0x1ca)]('analysis.topology.structure');if(_0x53da65&&_0x53da65[_0x2a33d2(0x1b0)]){const _0x57d5e2=JSON[_0x2a33d2(0x16d)](_0x53da65[_0x2a33d2(0x1b0)]);_0x57d5e2['matrix']=_0x558478,_0x57d5e2[_0x2a33d2(0x11a)]=Date[_0x2a33d2(0x167)](),await this[_0x2a33d2(0x13b)]('analysis.topology.structure',{'val':JSON[_0x2a33d2(0x215)](_0x57d5e2),'ack':!![]}),pythonBridge[_0x2a33d2(0x187)](this,_0x2a33d2(0x1a6),_0x57d5e2);}this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![]},_0x3965ec[_0x2a33d2(0x1cc)]);}catch(_0x42c01c){this[_0x2a33d2(0x139)]['error'](_0x42c01c);}else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x220))this['sendTo'](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'dailyDigests':this[_0x2a33d2(0x13a)]||[],'analysisHistory':this['analysisHistory']||[]},_0x3965ec[_0x2a33d2(0x1cc)]);else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x152)){const _0x380137=this[_0x2a33d2(0x13a)][_0x2a33d2(0x197)],_0x111ec4=new Array(0x18)[_0x2a33d2(0x18e)](0x0),_0x4614e4=new Date()[_0x2a33d2(0x151)](0x0,0x0,0x0,0x0);this['eventHistory']&&this[_0x2a33d2(0x1d6)][_0x2a33d2(0x205)](_0x4e7fcf=>{const _0x289632=_0x2a33d2;if(_0x4e7fcf[_0x289632(0x15f)]>=_0x4614e4){const _0x58e9f2=new Date(_0x4e7fcf['timestamp'])[_0x289632(0x219)]();if(_0x58e9f2>=0x0&&_0x58e9f2<0x18)_0x111ec4[_0x58e9f2]++;}});let _0x5e780e=![],_0x17b45a='',_0x44d9d1='',_0x17063d='';try{const _0x3bb527=await this[_0x2a33d2(0x1ca)]('analysis.automation.patternDetected');if(_0x3bb527&&_0x3bb527['val']){_0x5e780e=!![];const _0x363acd=await this[_0x2a33d2(0x1ca)](_0x2a33d2(0x131));_0x17b45a=_0x363acd?_0x363acd[_0x2a33d2(0x1b0)]:'';const _0x17a492=await this[_0x2a33d2(0x1ca)](_0x2a33d2(0x1e5));_0x44d9d1=_0x17a492?_0x17a492[_0x2a33d2(0x1b0)]:'';const _0x44d3e2=await this[_0x2a33d2(0x1ca)]('analysis.automation.targetValue');_0x17063d=_0x44d3e2?_0x44d3e2['val']:'';}}catch(_0x13ebb7){}const _0x4cbfc4=await this['checkSolarCondition'](),_0x2a8d93=(this['config'][_0x2a33d2(0x156)]||[])[_0x2a33d2(0x11b)](_0x1e3a0c=>_0x1e3a0c['isSolar']),_0x1ae74c=_0x4cbfc4&&_0x2a8d93;this['sendTo'](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'eventHistory':this[_0x2a33d2(0x1d6)][_0x2a33d2(0x202)](0x0,0xf),'stats':{'digestCount':_0x380137,'isPresent':this[_0x2a33d2(0x1a7)],'hourlyActivity':_0x111ec4,'solarActive':_0x1ae74c},'automation':{'detected':_0x5e780e,'description':_0x17b45a,'targetId':_0x44d9d1,'targetValue':_0x17063d}},_0x3965ec[_0x2a33d2(0x1cc)]);}else{if(_0x3965ec['command']===_0x2a33d2(0x1e4)){const _0x385e94=await this[_0x2a33d2(0x217)](_0x2a33d2(0x1d5),'enum'),_0x19e93d=[];if(_0x385e94)for(const _0x1d55bc in _0x385e94){const _0x46fbd6=_0x385e94[_0x1d55bc],_0x6a4003=(_0x46fbd6[_0x2a33d2(0x16a)]&&typeof _0x46fbd6[_0x2a33d2(0x16a)][_0x2a33d2(0x1f1)]===_0x2a33d2(0x12b)?_0x46fbd6[_0x2a33d2(0x16a)][_0x2a33d2(0x1f1)]['de']:_0x46fbd6[_0x2a33d2(0x16a)][_0x2a33d2(0x1f1)])||_0x46fbd6[_0x2a33d2(0x16a)]['name'];_0x19e93d[_0x2a33d2(0x191)]({'id':_0x1d55bc,'name':_0x6a4003});}const _0x440ec8=await this[_0x2a33d2(0x217)](_0x2a33d2(0x1f7),'enum'),_0x7a4c93=[];if(_0x440ec8)for(const _0x50ebae in _0x440ec8){const _0x5dc9c0=_0x440ec8[_0x50ebae],_0xc623ba=(_0x5dc9c0['common']&&typeof _0x5dc9c0[_0x2a33d2(0x16a)][_0x2a33d2(0x1f1)]===_0x2a33d2(0x12b)?_0x5dc9c0['common'][_0x2a33d2(0x1f1)]['de']:_0x5dc9c0[_0x2a33d2(0x16a)][_0x2a33d2(0x1f1)])||_0x50ebae['split']('.')[_0x2a33d2(0x226)]();_0x7a4c93[_0x2a33d2(0x191)](_0xc623ba);}this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'enums':_0x19e93d,'rooms':_0x7a4c93},_0x3965ec[_0x2a33d2(0x1cc)]);}else{if(_0x3965ec['command']===_0x2a33d2(0x1c6))try{let _0x3d9e00=_0x2a33d2(0x22a),_0x37e88c=_0x2a33d2(0x174);if(this['config'][_0x2a33d2(0x16b)]){const _0x3b06a2=await recorder[_0x2a33d2(0x1df)](this);_0x3d9e00=_0x3b06a2!==null?_0x3b06a2+'Â°C':_0x2a33d2(0x227);}if(this[_0x2a33d2(0x171)][_0x2a33d2(0x182)]){const _0x4502a7=await this[_0x2a33d2(0x1ce)]('system.adapter.'+this[_0x2a33d2(0x171)]['calendarInstance']);_0x37e88c=_0x4502a7?_0x2a33d2(0x21c):_0x2a33d2(0x121);}this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'weather':_0x3d9e00,'calendar':_0x37e88c},_0x3965ec[_0x2a33d2(0x1cc)]);}catch(_0x46dcf9){this['sendTo'](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':![],'error':_0x46dcf9['message']},_0x3965ec[_0x2a33d2(0x1cc)]);}else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x203))try{const _0x1724d4=_0x3965ec['message'][_0x2a33d2(0x1b4)],_0x36be02=await this[_0x2a33d2(0x16c)](_0x1724d4+_0x2a33d2(0x1b1));let _0x168117=[];if(_0x36be02&&_0x36be02[_0x2a33d2(0x1b0)]){const _0x473519=JSON['parse'](_0x36be02[_0x2a33d2(0x1b0)]),_0x59547e=new Set();Array[_0x2a33d2(0x138)](_0x473519)&&_0x473519[_0x2a33d2(0x205)](_0x40df25=>{const _0x1cbfa7=_0x2a33d2;if(_0x40df25['_calName'])_0x59547e[_0x1cbfa7(0x1c4)](_0x40df25[_0x1cbfa7(0x143)]);else{if(_0x40df25[_0x1cbfa7(0x1a0)])_0x59547e[_0x1cbfa7(0x1c4)](_0x40df25[_0x1cbfa7(0x1a0)]);}}),_0x168117=Array[_0x2a33d2(0x1c5)](_0x59547e)[_0x2a33d2(0x160)]();}if(_0x168117[_0x2a33d2(0x197)]===0x0)_0x168117=[_0x2a33d2(0x1c0)];this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'names':_0x168117},_0x3965ec[_0x2a33d2(0x1cc)]);}catch(_0xf1a92c){this['sendTo'](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':![],'error':_0xf1a92c['message']},_0x3965ec[_0x2a33d2(0x1cc)]);}else{if(_0x3965ec[_0x2a33d2(0x16f)]===_0x2a33d2(0x213))try{await setup[_0x2a33d2(0x17c)](this,_0x2a33d2(0x1a2),![],![]),this['sendTo'](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':!![],'message':_0x2a33d2(0x1fe)},_0x3965ec[_0x2a33d2(0x1cc)]);}catch(_0x3ed74c){this[_0x2a33d2(0x139)][_0x2a33d2(0x19c)](_0x2a33d2(0x12f)+_0x3ed74c[_0x2a33d2(0x19b)]),this[_0x2a33d2(0x130)](_0x3965ec[_0x2a33d2(0x1c5)],_0x3965ec[_0x2a33d2(0x16f)],{'success':![],'message':'Fehler:\x20'+_0x3ed74c[_0x2a33d2(0x19b)]},_0x3965ec[_0x2a33d2(0x1cc)]);}}}}}}}}}}}}}}}async['loadSystemMode'](){const _0x5b8b08=a0_0x58bea0;try{const _0x7237e0=await this[_0x5b8b08(0x1ca)](setup[_0x5b8b08(0x206)]);_0x7237e0&&_0x7237e0[_0x5b8b08(0x1b0)]&&Object['values'](setup[_0x5b8b08(0x19d)])['includes'](_0x7237e0[_0x5b8b08(0x1b0)])?this[_0x5b8b08(0x1ab)]=_0x7237e0[_0x5b8b08(0x1b0)]:(this['currentSystemMode']=setup[_0x5b8b08(0x19d)][_0x5b8b08(0x1c3)],await this[_0x5b8b08(0x13b)](setup[_0x5b8b08(0x206)],{'val':setup[_0x5b8b08(0x19d)][_0x5b8b08(0x1c3)],'ack':!![]}));}catch(_0x4763ee){this['currentSystemMode']=setup[_0x5b8b08(0x19d)]['NORMAL'];}}async[a0_0x58bea0(0x1f2)](){const _0x2a4799=a0_0x58bea0;try{const _0x1745af=this[_0x2a4799(0x171)][_0x2a4799(0x222)]||[];let _0x2b8afa=![];const _0x5abae1=[];for(const _0x55eacb of _0x1745af){try{const _0x1ee2b4=await this[_0x2a4799(0x16c)](_0x55eacb);_0x1ee2b4&&(_0x1ee2b4[_0x2a4799(0x1b0)]===!![]||_0x1ee2b4[_0x2a4799(0x1b0)]===_0x2a4799(0x221)||_0x1ee2b4[_0x2a4799(0x1b0)]===0x1)&&(_0x2b8afa=!![],_0x5abae1['push'](_0x55eacb));}catch(_0x57ae95){}}return await this[_0x2a4799(0x13b)](_0x2a4799(0x128),{'val':_0x5abae1[_0x2a4799(0x209)](',\x20'),'ack':!![]}),_0x2b8afa&&(this['exitTimer']&&(this[_0x2a4799(0x139)][_0x2a4799(0x133)](_0x2a4799(0x137)),recorder['abortExitTimer'](this)),!this[_0x2a4799(0x1a7)]&&this[_0x2a4799(0x1ab)]===setup[_0x2a4799(0x19d)]['NORMAL']&&await recorder[_0x2a4799(0x141)](this,!![])),_0x2b8afa;}catch(_0x33e789){return![];}}async[a0_0x58bea0(0x15a)](){const _0x1df286=a0_0x58bea0;this[_0x1df286(0x139)][_0x1df286(0x177)](_0x1df286(0x183)),await aiAgent['runGeminiAnalysis'](this),this[_0x1df286(0x14e)](),this[_0x1df286(0x181)](),this[_0x1df286(0x211)]();}async[a0_0x58bea0(0x1a5)](){const _0x56dc87=a0_0x58bea0,_0x2cee43=['weatherunderground.0',_0x56dc87(0x1dd),_0x56dc87(0x20b)],_0x5eca0e=[_0x56dc87(0x17f),_0x56dc87(0x1be),_0x56dc87(0x1fb)];for(const _0x4f7b86 of _0x2cee43){for(const _0x4742c1 of _0x5eca0e){try{const _0x23279c=_0x4f7b86+'.'+_0x4742c1,_0x211654=await this[_0x56dc87(0x16c)](_0x23279c);if(_0x211654&&_0x211654[_0x56dc87(0x1b0)]){const _0xeb1722=String(_0x211654[_0x56dc87(0x1b0)])['toLowerCase']();if(_0xeb1722['includes'](_0x56dc87(0x216))||_0xeb1722[_0x56dc87(0x19a)](_0x56dc87(0x198))||_0xeb1722[_0x56dc87(0x19a)](_0x56dc87(0x1ed))||_0xeb1722[_0x56dc87(0x19a)](_0x56dc87(0x12c))||_0xeb1722[_0x56dc87(0x19a)]('heiter'))return!![];}}catch(_0x48fd21){}}}return![];}[a0_0x58bea0(0x181)](){const _0x210326=a0_0x58bea0;if(!this[_0x210326(0x228)])return;try{this[_0x210326(0x1af)](_0x210326(0x15e),(_0x199da5,_0x1c80dd)=>{const _0x5d2cde=_0x210326;_0x1c80dd&&_0x1c80dd[_0x5d2cde(0x1b0)]&&pythonBridge[_0x5d2cde(0x187)](this,_0x5d2cde(0x1b5),{'sequences':JSON[_0x5d2cde(0x16d)](_0x1c80dd[_0x5d2cde(0x1b0)])});});}catch(_0xca451a){}}async['triggerEnergyPrediction'](){const _0x4befed=a0_0x58bea0;if(!this[_0x4befed(0x228)])return;try{const _0x232966=await recorder[_0x4befed(0x1df)](this);if(_0x232966===null)return;const _0x44260e={},_0x2efef1={},_0x30a07d=this[_0x4befed(0x171)]['devices']||[];for(const _0x1275e3 of _0x30a07d){if(_0x1275e3['type']===_0x4befed(0x1ac)&&_0x1275e3['location']){const _0x29930a=this[_0x4befed(0x1c8)][_0x1275e3['id']];if(_0x29930a!==undefined)_0x44260e[_0x1275e3[_0x4befed(0x188)]]=_0x29930a;if(_0x1275e3[_0x4befed(0x1fa)])_0x2efef1[_0x1275e3[_0x4befed(0x188)]]=!![];}}const _0x54b26e=await this[_0x4befed(0x1a5)]();let _0x2b3a54={};try{const _0x4f79ca=await this['getStateAsync'](_0x4befed(0x1bc));if(_0x4f79ca&&_0x4f79ca[_0x4befed(0x1b0)])_0x2b3a54=JSON[_0x4befed(0x16d)](_0x4f79ca[_0x4befed(0x1b0)]);}catch(_0x554e45){}Object[_0x4befed(0x225)](_0x44260e)[_0x4befed(0x197)]>0x0&&(pythonBridge['send'](this,'PREDICT_ENERGY',{'current_temps':_0x44260e,'t_out':_0x232966,'is_sunny':_0x54b26e,'solar_flags':_0x2efef1,'warmup_targets':_0x2b3a54}),pythonBridge['send'](this,_0x4befed(0x229),{'current_temps':_0x44260e,'t_out':_0x232966,'targets':{}}));}catch(_0x140283){}}[a0_0x58bea0(0x14e)](){const _0x4684f4=a0_0x58bea0;if(!this[_0x4684f4(0x11c)]||this['rawEventLog'][_0x4684f4(0x197)]===0x0)return;const _0x24a072=new Array(0x60)[_0x4684f4(0x18e)](0x0),_0x1a2d14=new Date()[_0x4684f4(0x151)](0x0,0x0,0x0,0x0);this[_0x4684f4(0x11c)][_0x4684f4(0x205)](_0x12ae2f=>{const _0x40fa68=_0x4684f4,_0x1a31e7=new Date(_0x12ae2f[_0x40fa68(0x15f)]);if(_0x1a31e7[_0x40fa68(0x194)]()>=_0x1a2d14){const _0x489d76=_0x1a31e7[_0x40fa68(0x219)](),_0x4ed747=_0x1a31e7[_0x40fa68(0x1a1)](),_0x57bf76=_0x489d76*0x4+Math[_0x40fa68(0x169)](_0x4ed747/0xf);if(_0x57bf76>=0x0&&_0x57bf76<0x60)_0x24a072[_0x57bf76]++;}}),this[_0x4684f4(0x13b)](_0x4684f4(0x12d),{'val':JSON[_0x4684f4(0x215)](_0x24a072),'ack':!![]});}[a0_0x58bea0(0x12a)](){const _0x3c8d9a=a0_0x58bea0;if(!this[_0x3c8d9a(0x13a)]||this[_0x3c8d9a(0x13a)][_0x3c8d9a(0x197)]<0x2)return;const _0x545ba1=this['dailyDigests'][_0x3c8d9a(0x146)](_0x4dda2f=>{const _0x4ffa1a=_0x3c8d9a,_0x45a321=(_0x4dda2f['activityLevel']||'')[_0x4ffa1a(0x161)]();return ACTIVITY_LEVEL_MAP[_0x45a321]||0x32;});pythonBridge[_0x3c8d9a(0x187)](this,'ANALYZE_TREND',{'values':_0x545ba1,'tag':_0x3c8d9a(0x21e)});}}if(require[a0_0x58bea0(0x15c)]!==module)module[a0_0x58bea0(0x132)]=_0x26501f=>new CogniLiving(_0x26501f);else new CogniLiving();