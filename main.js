function a0_0x409d(){const _0x56eff7=['./lib/installer','stateChange','communicate.request','onUnload','bind','9979942UcVeGD','analysis.automation.triggerAction','14961oetXnS','3WOKOZQ','TRAIN_HEALTH','forEach','NORMAL','Training\x20Error:\x20','pop','@iobroker/adapter-core','stringify','getForeignObjectsAsync','dependencyInstallInProgress','analysis.health.todayVector','common','VACATION','14634912WsaNjd','analysis.training.triggerSecurity','cogni-living\x20adapter\x20starting\x20(v','updateTopology','getState','type','devices','getEnums','join','rawEventLog','map','send','log','push','LTM.triggerDailyDigest','updateHealthVector','startService','find','ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...','subscribeForeignStatesAsync','LTM.baselineStatus','cancel','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','checkWifiPresence','now','triggerDailyDigest','keys','licenseKey','analysis.triggerBriefing','1166quJvEi','182egjwuf','getMinutes','parse','analysis.trigger','checkAndInstall','analysis.automation.autoApply','analysisTimer','ltmJob','location','sensorLastValues','triggerGaitAnalysis','TRAIN_ENERGY','genAI','isGracePeriodActive','SYSTEM_DP_MODE','Gemini\x20Init\x20Error:\x20','toLowerCase','enum','executeAutomationAction','exitTimer','analysis.training.triggerComfort','WiFi\x20Presence\x20detected.','initZombies','ðŸ•¸ï¸\x20Manually\x20triggering\x20Topology\x20Update...','sendTo','ready','LTM.trainingData.sequences','./lib/topology','modeResetJob','getOutsideTemperatureNumeric','timestamp','analysisInterval','values','checkLicense','geminiApiKey','driftAnalysisTimer','setState','config','from','abortExitTimer','length','./lib/setup','ðŸ§ \x20Triggering\x20Security\x20Training...','sendMorningBriefing','ðŸ•¸ï¸\x20Topology\x20Graph\x20manually\x20updated\x20by\x20user.','ANALYZE_GAIT','cogni-living','setupLtmScheduler','ANALYZE_TREND','callback','command','lastAlertState','toString','object','notifyTelegramEnabled','geminiModel','(((.+)+)+)+$','search','setupModeResetScheduler','includes','getOverviewData','LTM.rawEventLog','testApiKey','notifyTelegramInstance','enum.rooms.*','matrix','\x20Tage)','9945KoWsGH','LTM.trainingData.thermodynamics','Aktiv\x20(','scanDevices','./lib/scanner','83236uOOMpW','constructor','info','isProVersion','./lib/python_bridge','isPresent','getForeignStateAsync','Gemini\x20AI\x20initialized.','val','8RNbyki','onMessage','floor','setupDriftAnalysisScheduler','initHistory','unload','message','triggerEnergyPrediction','briefingJob','onReady','error','split','analysis.training.status','debug','startSystem','./lib/scheduler','Activity-Level','system.mode','presenceDevices','automation.triggerAction',')\x20-\x20Phase\x20C\x20(Refactored)','temperature','inactivityThresholdHours','system.presenceWho','eventHistory','SYSTEM_MODES','setupBriefingScheduler','PYTHON_EXE','endsWith','exitGraceTimer','runAutopilot','TRAIN_COMFORT','loadSystemMode','online','initSystemConfig','107570rkdHBg','analysisHistory','subscribeStates','analysis.training.triggerEnergy','name','scanForDevices','createAllObjects','version','SET_TOPOLOGY','getStateAsync','analysis.topology.structure','updateTopologyMatrix','setStateAsync','slice','runBaselineDriftAnalysis','analysis.training.triggerTopology','@google/generative-ai','application/json','Sec-Training\x20started...','namespace','dailyDigests','currentSystemMode','setPresence','3486bVGhlc','./lib/ai_agent','3620430CTEfwl'];a0_0x409d=function(){return _0x56eff7;};return a0_0x409d();}const a0_0x3059c1=a0_0x4880;(function(_0x334502,_0xb92249){const _0x3720a6=a0_0x4880,_0x3870fc=_0x334502();while(!![]){try{const _0xa7f2cc=-parseInt(_0x3720a6(0x10d))/0x1*(-parseInt(_0x3720a6(0x78))/0x2)+-parseInt(_0x3720a6(0x10e))/0x3*(-parseInt(_0x3720a6(0xc0))/0x4)+parseInt(_0x3720a6(0xbb))/0x5*(-parseInt(_0x3720a6(0x103))/0x6)+-parseInt(_0x3720a6(0x10b))/0x7*(parseInt(_0x3720a6(0xc9))/0x8)+-parseInt(_0x3720a6(0x105))/0x9+parseInt(_0x3720a6(0xec))/0xa*(parseInt(_0x3720a6(0x77))/0xb)+parseInt(_0x3720a6(0x11b))/0xc;if(_0xa7f2cc===_0xb92249)break;else _0x3870fc['push'](_0x3870fc['shift']());}catch(_0x46cb95){_0x3870fc['push'](_0x3870fc['shift']());}}}(a0_0x409d,0xb92dd));const a0_0x2cd664=(function(){let _0x3c5dcd=!![];return function(_0x37a5b0,_0x1749f3){const _0x2e3e3a=_0x3c5dcd?function(){if(_0x1749f3){const _0x58b185=_0x1749f3['apply'](_0x37a5b0,arguments);return _0x1749f3=null,_0x58b185;}}:function(){};return _0x3c5dcd=![],_0x2e3e3a;};}()),a0_0x604f2d=a0_0x2cd664(this,function(){const _0x14c3e7=a0_0x4880;return a0_0x604f2d['toString']()[_0x14c3e7(0xb1)](_0x14c3e7(0xb0))[_0x14c3e7(0xac)]()[_0x14c3e7(0xc1)](a0_0x604f2d)[_0x14c3e7(0xb1)](_0x14c3e7(0xb0));});function a0_0x4880(_0x4fe88c,_0x1e727a){const _0x32bd6f=a0_0x409d();return a0_0x4880=function(_0x604f2d,_0x2cd664){_0x604f2d=_0x604f2d-0x77;let _0x409dc2=_0x32bd6f[_0x604f2d];return _0x409dc2;},a0_0x4880(_0x4fe88c,_0x1e727a);}a0_0x604f2d();'use strict';const utils=require(a0_0x3059c1(0x114)),{GoogleGenerativeAI}=require(a0_0x3059c1(0xfc)),installer=require(a0_0x3059c1(0x106)),scanner=require(a0_0x3059c1(0xbf)),schedulers=require(a0_0x3059c1(0xd8)),topology=require(a0_0x3059c1(0x93)),setup=require(a0_0x3059c1(0xa1)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x3059c1(0xc4)),aiAgent=require(a0_0x3059c1(0x104)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils['Adapter']{constructor(_0x439d37){const _0x245057=a0_0x3059c1;super({..._0x439d37,'name':_0x245057(0xa6)}),this[_0x245057(0xe1)]=[],this[_0x245057(0xed)]=[],this['rawEventLog']=[],this['dailyDigests']=[],this[_0x245057(0x81)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x245057(0xc5)]=!![],this[_0x245057(0x8b)]=null,this[_0x245057(0xe6)]=null,this[_0x245057(0x85)]=![],this[_0x245057(0x84)]=null,this[_0x245057(0xaf)]=null,this[_0x245057(0x101)]=setup['SYSTEM_MODES'][_0x245057(0x111)],this[_0x245057(0xc3)]=![],this[_0x245057(0xab)]=![],this[_0x245057(0x7e)]=null,this['ltmJob']=null,this[_0x245057(0x94)]=null,this[_0x245057(0x9b)]=null,this[_0x245057(0xd1)]=null,this[_0x245057(0x117)]=![],this['on'](_0x245057(0x91),this[_0x245057(0xd2)]['bind'](this)),this['on'](_0x245057(0x107),this['onStateChange']['bind'](this)),this['on'](_0x245057(0xce),this[_0x245057(0x109)]['bind'](this)),this['on'](_0x245057(0xcf),this['onMessage'][_0x245057(0x10a)](this));}async[a0_0x3059c1(0xd2)](){const _0x5792e7=a0_0x3059c1;this[_0x5792e7(0x127)][_0x5792e7(0xc2)](_0x5792e7(0x11d)+this[_0x5792e7(0xf3)]+_0x5792e7(0xdd));if(!installer[_0x5792e7(0x7c)](this,()=>this[_0x5792e7(0xd7)]()))return;}async[a0_0x3059c1(0xd7)](){const _0x2fe258=a0_0x3059c1;await setup[_0x2fe258(0x8e)](this);try{this[_0x2fe258(0xc3)]=await setup[_0x2fe258(0x99)](this[_0x2fe258(0x9d)][_0x2fe258(0x136)]);}catch(_0x5a0883){}if(!this['config'][_0x2fe258(0xdf)]||this[_0x2fe258(0x9d)][_0x2fe258(0xdf)]<0.1)this['config']['inactivityThresholdHours']=0xc;await setup[_0x2fe258(0xcd)](this),await setup[_0x2fe258(0xeb)](this);if(this[_0x2fe258(0x9d)][_0x2fe258(0x9a)])try{this[_0x2fe258(0x84)]=new GoogleGenerativeAI(this[_0x2fe258(0x9d)][_0x2fe258(0x9a)]),this['geminiModel']=this['genAI']['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x2fe258(0xfd)}}),this['log'][_0x2fe258(0xc2)](_0x2fe258(0xc7));}catch(_0x44f574){this[_0x2fe258(0x127)]['error'](_0x2fe258(0x87)+_0x44f574[_0x2fe258(0xcf)]);}await setup[_0x2fe258(0xf2)](this),await this['loadSystemMode']();try{const _0x2a220d=await this[_0x2fe258(0xf5)](_0x2fe258(0xb5));if(_0x2a220d&&_0x2a220d[_0x2fe258(0xc8)])this['rawEventLog']=JSON[_0x2fe258(0x7a)](_0x2a220d[_0x2fe258(0xc8)]);}catch(_0x5cfe06){this['rawEventLog']=[];}try{const _0x292b91=await this[_0x2fe258(0xf5)]('LTM.dailyDigests');if(_0x292b91&&_0x292b91[_0x2fe258(0xc8)])this[_0x2fe258(0x100)]=JSON[_0x2fe258(0x7a)](_0x292b91[_0x2fe258(0xc8)]);}catch(_0x367a72){this[_0x2fe258(0x100)]=[];}const _0x1568a3=this[_0x2fe258(0x100)]['length']>=(this[_0x2fe258(0x9d)]['minDaysForBaseline']||0x7)?_0x2fe258(0xbd)+this[_0x2fe258(0x100)][_0x2fe258(0xa0)]+_0x2fe258(0xba):'Lernphase\x20('+this[_0x2fe258(0x100)][_0x2fe258(0xa0)]+'/'+(this['config']['minDaysForBaseline']||0x7)+')';await this[_0x2fe258(0xf8)](_0x2fe258(0x12f),{'val':_0x1568a3,'ack':!![]}),this[_0x2fe258(0xee)](_0x2fe258(0x7b)),this[_0x2fe258(0xee)](_0x2fe258(0x129)),this[_0x2fe258(0xee)](_0x2fe258(0xda)),this[_0x2fe258(0xee)](_0x2fe258(0x137)),this[_0x2fe258(0xee)](_0x2fe258(0x10c)),this[_0x2fe258(0xee)](_0x2fe258(0x7d)),this[_0x2fe258(0xee)](_0x2fe258(0x11c)),this[_0x2fe258(0xee)]('analysis.training.triggerHealth'),this[_0x2fe258(0xee)](_0x2fe258(0xef)),this[_0x2fe258(0xee)]('analysis.training.triggerComfort'),this['subscribeStates'](_0x2fe258(0xfb));const _0x3732a5=this['config'][_0x2fe258(0x121)];if(_0x3732a5)for(const _0x58bbb6 of _0x3732a5){await this[_0x2fe258(0x12e)](_0x58bbb6['id']);}const _0x59c5e7=this[_0x2fe258(0x9d)][_0x2fe258(0xdb)];if(_0x59c5e7)for(const _0x1ed289 of _0x59c5e7){await this[_0x2fe258(0x12e)](_0x1ed289);}if(this[_0x2fe258(0x9d)][_0x2fe258(0xae)]&&this['config']['notifyTelegramInstance'])await this[_0x2fe258(0x12e)](this[_0x2fe258(0x9d)][_0x2fe258(0xb7)]+'.communicate.request');setTimeout(()=>this[_0x2fe258(0x132)](),0x1388);if(this[_0x2fe258(0x7e)])clearInterval(this[_0x2fe258(0x7e)]);const _0x179178=this[_0x2fe258(0x9d)][_0x2fe258(0x97)]||0xf;_0x179178>0x0&&(this[_0x2fe258(0x7e)]=setInterval(()=>{const _0x22926c=_0x2fe258;this[_0x22926c(0xe7)]();},_0x179178*0x3c*0x3e8)),schedulers[_0x2fe258(0xa7)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers[_0x2fe258(0xb2)](this),schedulers[_0x2fe258(0xcc)](this,()=>aiAgent[_0x2fe258(0xfa)](this)),schedulers[_0x2fe258(0xe3)](this,()=>aiAgent[_0x2fe258(0xa3)](this)),pythonBridge[_0x2fe258(0x12b)](this,installer[_0x2fe258(0xe4)]),setTimeout(async()=>{const _0x161f5e=_0x2fe258;await topology['updateTopology'](this);try{const _0x256193=await this[_0x161f5e(0xf5)](_0x161f5e(0xf6));if(_0x256193&&_0x256193[_0x161f5e(0xc8)])pythonBridge[_0x161f5e(0x126)](this,_0x161f5e(0xf4),JSON[_0x161f5e(0x7a)](_0x256193[_0x161f5e(0xc8)]));}catch(_0x14f5a4){}this['runPythonHealthCheck'](),this['triggerGaitAnalysis'](),this[_0x161f5e(0xd0)](),this[_0x161f5e(0x12a)]();},0x1388);}[a0_0x3059c1(0x109)](_0x25e914){const _0x1a49d=a0_0x3059c1;if(this[_0x1a49d(0x7e)])clearInterval(this[_0x1a49d(0x7e)]);if(this[_0x1a49d(0x9b)])clearInterval(this[_0x1a49d(0x9b)]);if(this[_0x1a49d(0x7f)])this[_0x1a49d(0x7f)][_0x1a49d(0x130)]();if(this[_0x1a49d(0x94)])this[_0x1a49d(0x94)]['cancel']();if(this['briefingJob'])this['briefingJob'][_0x1a49d(0x130)]();recorder[_0x1a49d(0x9f)](this),pythonBridge['stopService'](this),_0x25e914();}async['onStateChange'](_0x386429,_0x4eb93c){const _0x5dd56b=a0_0x3059c1;if(!_0x4eb93c||this['dependencyInstallInProgress'])return;if(_0x386429[_0x5dd56b(0xb3)]('telegram')&&_0x386429[_0x5dd56b(0xe5)](_0x5dd56b(0x108))&&_0x4eb93c[_0x5dd56b(0xc8)])return;if(_0x386429===this[_0x5dd56b(0xff)]+'.system.mode'){if(_0x4eb93c[_0x5dd56b(0xc8)]&&Object[_0x5dd56b(0x98)](setup[_0x5dd56b(0xe2)])['includes'](_0x4eb93c[_0x5dd56b(0xc8)])){this['currentSystemMode']=_0x4eb93c[_0x5dd56b(0xc8)];if(_0x4eb93c[_0x5dd56b(0xc8)]===setup[_0x5dd56b(0xe2)][_0x5dd56b(0x11a)])await recorder[_0x5dd56b(0x102)](this,![]);else await recorder[_0x5dd56b(0x102)](this,!![]);}if(!_0x4eb93c['ack'])this[_0x5dd56b(0x9c)](_0x386429,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x4eb93c['ack']){_0x386429[_0x5dd56b(0xb3)](_0x5dd56b(0x7b))&&_0x4eb93c[_0x5dd56b(0xc8)]&&(this[_0x5dd56b(0x9c)](_0x386429,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this));if(_0x386429[_0x5dd56b(0xb3)](_0x5dd56b(0x134))&&_0x4eb93c[_0x5dd56b(0xc8)]){this['setState'](_0x386429,{'val':![],'ack':!![]});if(this[_0x5dd56b(0xc3)])aiAgent['createDailyDigest'](this,pythonBridge);}_0x386429[_0x5dd56b(0xb3)]('triggerBriefing')&&_0x4eb93c[_0x5dd56b(0xc8)]&&(this[_0x5dd56b(0x9c)](_0x386429,{'val':![],'ack':!![]}),aiAgent['sendMorningBriefing'](this));_0x386429[_0x5dd56b(0xb3)](_0x5dd56b(0xdc))&&_0x4eb93c['val']&&(this[_0x5dd56b(0x9c)](_0x386429,{'val':![],'ack':!![]}),aiAgent[_0x5dd56b(0x8a)](this));if(_0x386429[_0x5dd56b(0xb3)](_0x5dd56b(0x11c))&&_0x4eb93c[_0x5dd56b(0xc8)]){this['setState'](_0x386429,{'val':![],'ack':!![]});if(this[_0x5dd56b(0xc3)])try{const _0x5af75a=await this[_0x5dd56b(0xf5)](_0x5dd56b(0x92));if(_0x5af75a&&_0x5af75a[_0x5dd56b(0xc8)]){const _0x330e03=JSON[_0x5dd56b(0x7a)](_0x5af75a[_0x5dd56b(0xc8)]);this[_0x5dd56b(0x127)][_0x5dd56b(0xc2)](_0x5dd56b(0xa2)),this[_0x5dd56b(0xf8)](_0x5dd56b(0xd5),{'val':_0x5dd56b(0xfe),'ack':!![]}),pythonBridge[_0x5dd56b(0x126)](this,'TRAIN_SECURITY',{'sequences':_0x330e03});}}catch(_0x454142){this['log']['error'](_0x5dd56b(0x112)+_0x454142[_0x5dd56b(0xcf)]);}}if(_0x386429[_0x5dd56b(0xb3)]('analysis.training.triggerHealth')&&_0x4eb93c[_0x5dd56b(0xc8)]){this['setState'](_0x386429,{'val':![],'ack':!![]});if(this[_0x5dd56b(0xc3)])try{const _0x420a8b=await this[_0x5dd56b(0xf5)]('LTM.dailyDigests');if(_0x420a8b&&_0x420a8b[_0x5dd56b(0xc8)])pythonBridge[_0x5dd56b(0x126)](this,_0x5dd56b(0x10f),{'digests':JSON[_0x5dd56b(0x7a)](_0x420a8b['val'])});}catch(_0x33bf72){}}if(_0x386429[_0x5dd56b(0xb3)](_0x5dd56b(0xef))&&_0x4eb93c[_0x5dd56b(0xc8)]){this[_0x5dd56b(0x9c)](_0x386429,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x11c583=await this['getStateAsync'](_0x5dd56b(0xbc));if(_0x11c583&&_0x11c583['val'])pythonBridge[_0x5dd56b(0x126)](this,_0x5dd56b(0x83),{'points':JSON[_0x5dd56b(0x7a)](_0x11c583[_0x5dd56b(0xc8)])});}catch(_0x410c5d){}}if(_0x386429[_0x5dd56b(0xb3)](_0x5dd56b(0x8c))&&_0x4eb93c['val']){this['setState'](_0x386429,{'val':![],'ack':!![]});if(this[_0x5dd56b(0xc3)])try{const _0x149c4d=await this['getStateAsync'](_0x5dd56b(0xb5));_0x149c4d&&_0x149c4d['val']&&(this[_0x5dd56b(0x127)][_0x5dd56b(0xc2)](_0x5dd56b(0x12d)),pythonBridge[_0x5dd56b(0x126)](this,_0x5dd56b(0xe8),{'events':JSON[_0x5dd56b(0x7a)](_0x149c4d[_0x5dd56b(0xc8)])}));}catch(_0x37d7cd){}}_0x386429[_0x5dd56b(0xb3)](_0x5dd56b(0xfb))&&_0x4eb93c['val']&&(this[_0x5dd56b(0x9c)](_0x386429,{'val':![],'ack':!![]}),this['log'][_0x5dd56b(0xc2)](_0x5dd56b(0x8f)),topology[_0x5dd56b(0x11e)](this));return;}if(this[_0x5dd56b(0x9d)][_0x5dd56b(0xdb)]&&this['config'][_0x5dd56b(0xdb)][_0x5dd56b(0xb3)](_0x386429)){await this[_0x5dd56b(0x132)]();return;}const _0xe7a246=(this['config'][_0x5dd56b(0x121)]||[])[_0x5dd56b(0x12c)](_0x3ea6f2=>_0x3ea6f2['id']===_0x386429);if(_0xe7a246)recorder['processSensorEvent'](this,_0x386429,_0x4eb93c,_0xe7a246);}async[a0_0x3059c1(0xca)](_0x245b25){const _0x3e1ad8=a0_0x3059c1;if(typeof _0x245b25===_0x3e1ad8(0xad)&&_0x245b25['message']){if(_0x245b25[_0x3e1ad8(0xaa)]===_0x3e1ad8(0xb6)){}else{if(_0x245b25[_0x3e1ad8(0xaa)]===_0x3e1ad8(0xbe))try{const _0xac0f4d=await scanner[_0x3e1ad8(0xf1)](this,_0x245b25[_0x3e1ad8(0xcf)]||{});this['sendTo'](_0x245b25['from'],_0x245b25['command'],{'success':!![],'devices':_0xac0f4d},_0x245b25['callback']);}catch(_0x405429){this[_0x3e1ad8(0x90)](_0x245b25[_0x3e1ad8(0x9e)],_0x245b25[_0x3e1ad8(0xaa)],{'success':![],'error':_0x405429[_0x3e1ad8(0xcf)]},_0x245b25[_0x3e1ad8(0xa9)]);}else{if(_0x245b25[_0x3e1ad8(0xaa)]===_0x3e1ad8(0xf7)){const {matrix:_0xb8c0d7}=_0x245b25['message'];try{const _0x12d04c=await this[_0x3e1ad8(0xf5)]('analysis.topology.structure');if(_0x12d04c&&_0x12d04c[_0x3e1ad8(0xc8)]){const _0x36d8e0=JSON[_0x3e1ad8(0x7a)](_0x12d04c[_0x3e1ad8(0xc8)]);_0x36d8e0[_0x3e1ad8(0xb9)]=_0xb8c0d7,_0x36d8e0['updated']=Date[_0x3e1ad8(0x133)](),await this['setStateAsync'](_0x3e1ad8(0xf6),{'val':JSON[_0x3e1ad8(0x115)](_0x36d8e0),'ack':!![]}),this['log'][_0x3e1ad8(0xc2)](_0x3e1ad8(0xa4)),pythonBridge[_0x3e1ad8(0x126)](this,_0x3e1ad8(0xf4),_0x36d8e0);}this[_0x3e1ad8(0x90)](_0x245b25[_0x3e1ad8(0x9e)],_0x245b25[_0x3e1ad8(0xaa)],{'success':!![]},_0x245b25['callback']);}catch(_0x22fbfe){this['log'][_0x3e1ad8(0xd3)]('Topology\x20Update\x20Error:\x20'+_0x22fbfe[_0x3e1ad8(0xcf)]);}}else{if(_0x245b25[_0x3e1ad8(0xaa)]===_0x3e1ad8(0xb4)){const _0x277a4a=this[_0x3e1ad8(0x100)][_0x3e1ad8(0xa0)];this[_0x3e1ad8(0x90)](_0x245b25[_0x3e1ad8(0x9e)],_0x245b25[_0x3e1ad8(0xaa)],{'success':!![],'eventHistory':this[_0x3e1ad8(0xe1)][_0x3e1ad8(0xf9)](0x0,0xf),'stats':{'digestCount':_0x277a4a,'isPresent':this[_0x3e1ad8(0xc5)]}},_0x245b25[_0x3e1ad8(0xa9)]);}else{if(_0x245b25[_0x3e1ad8(0xaa)]===_0x3e1ad8(0x122)){const _0x423fc2=await this['getForeignObjectsAsync']('enum.functions.*',_0x3e1ad8(0x89)),_0x4e4c43=[];if(_0x423fc2)for(const _0xbeea83 in _0x423fc2){const _0x592770=_0x423fc2[_0xbeea83],_0x24fece=(_0x592770[_0x3e1ad8(0x119)]&&typeof _0x592770[_0x3e1ad8(0x119)][_0x3e1ad8(0xf0)]==='object'?_0x592770[_0x3e1ad8(0x119)][_0x3e1ad8(0xf0)]['de']:_0x592770['common']['name'])||_0x592770[_0x3e1ad8(0x119)][_0x3e1ad8(0xf0)];_0x4e4c43['push']({'id':_0xbeea83,'name':_0x24fece});}const _0x29ab21=await this[_0x3e1ad8(0x116)](_0x3e1ad8(0xb8),_0x3e1ad8(0x89)),_0x47d3a6=[];if(_0x29ab21)for(const _0x3d20e2 in _0x29ab21){const _0x5c2b2c=_0x29ab21[_0x3d20e2],_0x54c99f=(_0x5c2b2c[_0x3e1ad8(0x119)]&&typeof _0x5c2b2c[_0x3e1ad8(0x119)]['name']===_0x3e1ad8(0xad)?_0x5c2b2c[_0x3e1ad8(0x119)][_0x3e1ad8(0xf0)]['de']:_0x5c2b2c['common']['name'])||_0x3d20e2[_0x3e1ad8(0xd4)]('.')[_0x3e1ad8(0x113)]();_0x47d3a6[_0x3e1ad8(0x128)](_0x54c99f);}this[_0x3e1ad8(0x90)](_0x245b25['from'],_0x245b25['command'],{'success':!![],'enums':_0x4e4c43,'rooms':_0x47d3a6},_0x245b25['callback']);}}}}}}}async[a0_0x3059c1(0xe9)](){const _0x34227b=a0_0x3059c1;try{const _0x274832=await this[_0x34227b(0xf5)](setup[_0x34227b(0x86)]);_0x274832&&_0x274832[_0x34227b(0xc8)]&&Object['values'](setup[_0x34227b(0xe2)])[_0x34227b(0xb3)](_0x274832[_0x34227b(0xc8)])?this[_0x34227b(0x101)]=_0x274832[_0x34227b(0xc8)]:(this[_0x34227b(0x101)]=setup[_0x34227b(0xe2)][_0x34227b(0x111)],await this[_0x34227b(0xf8)](setup[_0x34227b(0x86)],{'val':setup[_0x34227b(0xe2)][_0x34227b(0x111)],'ack':!![]}));}catch(_0x1bee19){this[_0x34227b(0x101)]=setup[_0x34227b(0xe2)][_0x34227b(0x111)];}}async[a0_0x3059c1(0x132)](){const _0x1e9e05=a0_0x3059c1;try{const _0x3e9d7c=this['config']['presenceDevices']||[];let _0x24ff6e=![];const _0xd852f2=[];for(const _0x122793 of _0x3e9d7c){try{const _0x2db454=await this[_0x1e9e05(0xc6)](_0x122793);_0x2db454&&(_0x2db454[_0x1e9e05(0xc8)]===!![]||_0x2db454[_0x1e9e05(0xc8)]===_0x1e9e05(0xea)||_0x2db454[_0x1e9e05(0xc8)]===0x1)&&(_0x24ff6e=!![],_0xd852f2[_0x1e9e05(0x128)](_0x122793));}catch(_0x2293a6){}}return await this[_0x1e9e05(0xf8)](_0x1e9e05(0xe0),{'val':_0xd852f2[_0x1e9e05(0x123)](',\x20'),'ack':!![]}),_0x24ff6e&&(this[_0x1e9e05(0x8b)]&&(this['log'][_0x1e9e05(0xc2)](_0x1e9e05(0x8d)),recorder['abortExitTimer'](this)),!this[_0x1e9e05(0xc5)]&&this[_0x1e9e05(0x101)]===setup[_0x1e9e05(0xe2)][_0x1e9e05(0x111)]&&await recorder[_0x1e9e05(0x102)](this,!![])),_0x24ff6e;}catch(_0x36d35b){return![];}}async['runAutopilot'](){const _0x3259c2=a0_0x3059c1;this[_0x3259c2(0x127)][_0x3259c2(0xd6)](_0x3259c2(0x131)),await aiAgent['runGeminiAnalysis'](this),this[_0x3259c2(0x12a)](),this[_0x3259c2(0x82)](),this[_0x3259c2(0xd0)]();}[a0_0x3059c1(0x82)](){const _0x30f95d=a0_0x3059c1;if(!this[_0x30f95d(0xc3)])return;try{this[_0x30f95d(0x11f)](_0x30f95d(0x92),(_0xfb1aa9,_0x2ecf88)=>{const _0x8a88e3=_0x30f95d;_0x2ecf88&&_0x2ecf88[_0x8a88e3(0xc8)]&&pythonBridge['send'](this,_0x8a88e3(0xa5),{'sequences':JSON[_0x8a88e3(0x7a)](_0x2ecf88['val'])});});}catch(_0x29df95){}}async[a0_0x3059c1(0xd0)](){const _0x21afec=a0_0x3059c1;if(!this[_0x21afec(0xc3)])return;try{const _0xb25ee6=await recorder[_0x21afec(0x95)](this);if(_0xb25ee6===null)return;const _0x537e57={},_0x54f39c=this[_0x21afec(0x9d)][_0x21afec(0x121)]||[];for(const _0x59ee05 of _0x54f39c){if(_0x59ee05[_0x21afec(0x120)]===_0x21afec(0xde)&&_0x59ee05[_0x21afec(0x80)]){const _0x119de3=this[_0x21afec(0x81)][_0x59ee05['id']];if(_0x119de3!==undefined)_0x537e57[_0x59ee05['location']]=_0x119de3;}}Object[_0x21afec(0x135)](_0x537e57)[_0x21afec(0xa0)]>0x0&&pythonBridge[_0x21afec(0x126)](this,'PREDICT_ENERGY',{'current_temps':_0x537e57,'t_out':_0xb25ee6});}catch(_0xd9216){}}[a0_0x3059c1(0x12a)](){const _0x4a6452=a0_0x3059c1;if(!this[_0x4a6452(0x124)]||this[_0x4a6452(0x124)][_0x4a6452(0xa0)]===0x0)return;const _0x2234eb=new Array(0x60)['fill'](0x0),_0x58b12c=new Date()['setHours'](0x0,0x0,0x0,0x0);this['rawEventLog'][_0x4a6452(0x110)](_0x4ae2a3=>{const _0x33092d=_0x4a6452,_0x5f1180=new Date(_0x4ae2a3[_0x33092d(0x96)]);if(_0x5f1180['getTime']()>=_0x58b12c){const _0x1b51ca=_0x5f1180['getHours'](),_0x4d49c0=_0x5f1180[_0x33092d(0x79)](),_0x354e44=_0x1b51ca*0x4+Math[_0x33092d(0xcb)](_0x4d49c0/0xf);if(_0x354e44>=0x0&&_0x354e44<0x60)_0x2234eb[_0x354e44]++;}}),this[_0x4a6452(0xf8)](_0x4a6452(0x118),{'val':JSON['stringify'](_0x2234eb),'ack':!![]});}['runPythonHealthCheck'](){const _0x1cd3e4=a0_0x3059c1;if(!this[_0x1cd3e4(0x100)]||this['dailyDigests']['length']<0x2)return;const _0x125b55=this[_0x1cd3e4(0x100)][_0x1cd3e4(0x125)](_0x27f19c=>{const _0xbae79f=_0x1cd3e4,_0x56a405=(_0x27f19c['activityLevel']||'')[_0xbae79f(0x88)]();return ACTIVITY_LEVEL_MAP[_0x56a405]||0x32;});pythonBridge['send'](this,_0x1cd3e4(0xa8),{'values':_0x125b55,'tag':_0x1cd3e4(0xd9)});}}if(require['main']!==module)module['exports']=_0x4771a5=>new CogniLiving(_0x4771a5);else new CogniLiving();