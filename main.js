const a0_0x5752a1=a0_0xa468;(function(_0x2dfb28,_0x23b8cd){const _0x4011de=a0_0xa468,_0x8730df=_0x2dfb28();while(!![]){try{const _0xfcde69=-parseInt(_0x4011de(0x160))/0x1*(parseInt(_0x4011de(0x143))/0x2)+-parseInt(_0x4011de(0x13e))/0x3*(parseInt(_0x4011de(0x12b))/0x4)+parseInt(_0x4011de(0x1a9))/0x5+-parseInt(_0x4011de(0x117))/0x6*(-parseInt(_0x4011de(0x12f))/0x7)+-parseInt(_0x4011de(0x15a))/0x8+parseInt(_0x4011de(0xea))/0x9*(-parseInt(_0x4011de(0x13c))/0xa)+parseInt(_0x4011de(0x15b))/0xb*(parseInt(_0x4011de(0x17e))/0xc);if(_0xfcde69===_0x23b8cd)break;else _0x8730df['push'](_0x8730df['shift']());}catch(_0x3f491b){_0x8730df['push'](_0x8730df['shift']());}}}(a0_0x9330,0x56db9));const a0_0x1f22de=(function(){let _0x494086=!![];return function(_0x22aed9,_0x59a274){const _0x3b763a=_0x494086?function(){const _0x1635e4=a0_0xa468;if(_0x59a274){const _0x1409ef=_0x59a274[_0x1635e4(0x14d)](_0x22aed9,arguments);return _0x59a274=null,_0x1409ef;}}:function(){};return _0x494086=![],_0x3b763a;};}()),a0_0x4ee424=a0_0x1f22de(this,function(){const _0x15de07=a0_0xa468;return a0_0x4ee424['toString']()[_0x15de07(0x181)](_0x15de07(0x127))['toString']()[_0x15de07(0x1a7)](a0_0x4ee424)[_0x15de07(0x181)]('(((.+)+)+)+$');});function a0_0xa468(_0x51bcd4,_0x4f1948){const _0x348abd=a0_0x9330();return a0_0xa468=function(_0x4ee424,_0x1f22de){_0x4ee424=_0x4ee424-0xcf;let _0x9330e7=_0x348abd[_0x4ee424];return _0x9330e7;},a0_0xa468(_0x51bcd4,_0x4f1948);}a0_0x4ee424();'use strict';const utils=require(a0_0x5752a1(0x19f)),{GoogleGenerativeAI}=require(a0_0x5752a1(0x15f)),installer=require('./lib/installer'),scanner=require(a0_0x5752a1(0x18e)),schedulers=require(a0_0x5752a1(0xec)),topology=require(a0_0x5752a1(0x110)),setup=require('./lib/setup'),recorder=require(a0_0x5752a1(0x183)),pythonBridge=require(a0_0x5752a1(0x100)),aiAgent=require(a0_0x5752a1(0xe5)),deadMan=require(a0_0x5752a1(0x14f)),GEMINI_MODEL=a0_0x5752a1(0x172),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x9330(){const _0x312a33=['Test','@iobroker/adapter-core','currentSystemMode','Standard','type','ltmJob','minDaysForBaseline','stringify','onReady','constructor','Instanz\x20nicht\x20gefunden','608700kFwgcT','timestamp','Daten\x20nicht\x20verfÃ¼gbar','weatherInstance','triggerBriefing','briefingJob','rawEventLog','LTM.trainingData.sequences','setStateAsync','getGenerativeModel','Kein\x20Wetter-Adapter','LTM.dailyDigests','setPresence','isArray','updateTopologyMatrix','generateContent','ready','val','temperature','presenceDevices','lastAlertState','Keine\x20Antwort\x20von\x20Gemini','systemConfig','analysis.training.triggerSecurity','./lib/ai_agent','TRAIN_ENERGY','updateTopology','setupLtmScheduler','send','9HKAutH','startService','./lib/scheduler','analysis.topology.structure','\x20Tage)','ANALYZE_TREND','find','ack','response','testApiKey','from','TRAIN_COMFORT','getOverviewData','setState','NORMAL','testContext','Gesendet','.communicate.request','createDailyDigest','subscribeStates','analysisHistory','eventHistory','./lib/python_bridge','system.adapter.','getState','location','dependencyInstallInProgress','LTM.baselineStatus','calendarInstance','Kein\x20Kalender-Adapter','floor','message','analysis.training.triggerEnergy','object','instance','cogni-living\x20adapter\x20starting\x20(v','text','runPythonHealthCheck','./lib/topology','config','sendNotification','fill','Lernphase\x20(','sensorLastValues','LTM.rawEventLog','495972zcFRCy','processSensorEvent','LTM.trainingData.thermodynamics','runAutopilot','bind','getForeignObjectAsync','add','getHours','exitTimer','error','startSystem','namespace','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','scanForDevices','geminiApiKey','now','(((.+)+)+)+$','runBaselineDriftAnalysis','getLtmData','onMessage','1531164TuzrHL','genAI','analysisTimer','Adapter','7pIAVEH','isProVersion','updateHealthVector','triggerEnergyPrediction','analysis.training.status','checkWifiPresence','getForeignStateAsync','getEnums','analysis.training.triggerTopology','log','enum','analysis.training.triggerComfort','createAllObjects','1209860iiDhjz','ANALYZE_GAIT','3wITPyq','onStateChange','_calName','includes','callback','4qtFymm','analysis.health.todayVector','keys','getCalendarNames','info','triggerDailyDigest','toLowerCase','analysis.triggerBriefing','isGracePeriodActive','triggerGaitAnalysis','apply','getOutsideTemperatureNumeric','./lib/dead_man','inactivityThresholdHours','analysis.training.triggerHealth','stateChange','setupBriefingScheduler','geminiModel','setHours','analysisInterval','communicate.request','updated','isPresent','1913472EQCeom','256058JJNjoP','cogni-living','values','testNotification','@google/generative-ai','99869QziQPu','matrix','online','initHistory','Sec-Training\x20started...','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','common','initZombies','abortExitTimer','system.presenceWho','LTM.triggerDailyDigest','parse','runGeminiAnalysis','licenseKey','enum.rooms.*','SYSTEM_MODES','Fehler:\x20','initSystemConfig','models/gemini-flash-latest','command','checkLicense','getForeignObjectsAsync','push','analysis.automation.autoApply','name','notifyTelegramEnabled','exports','debug','slice','TRAIN_HEALTH','564CntGaK','onUnload','motion','search','automation.triggerAction','./lib/recorder','sendMorningBriefing','calendarName','.system.mode','subscribeForeignStatesAsync','sendTo','sort','scanDevices','Kein\x20API\x20Key\x20Ã¼bergeben','devices','split','./lib/scanner','stopService','SET_TOPOLOGY','SYSTEM_DP_MODE','loadSystemMode','pop','modeResetJob','cancel','dailyDigests','Gemini\x20AI\x20initialized.','length','getStateAsync','WiFi\x20Presence\x20detected.','map','notifyTelegramInstance','telegram'];a0_0x9330=function(){return _0x312a33;};return a0_0x9330();}class CogniLiving extends utils[a0_0x5752a1(0x12e)]{constructor(_0x10e1bb){const _0x4aee4f=a0_0x5752a1;super({..._0x10e1bb,'name':_0x4aee4f(0x15c)}),this[_0x4aee4f(0xff)]=[],this[_0x4aee4f(0xfe)]=[],this[_0x4aee4f(0xd3)]=[],this['dailyDigests']=[],this[_0x4aee4f(0x115)]={},this[_0x4aee4f(0xe3)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x4aee4f(0x159)]=!![],this[_0x4aee4f(0x11f)]=null,this['exitGraceTimer']=null,this[_0x4aee4f(0x14b)]=![],this[_0x4aee4f(0x12c)]=null,this['geminiModel']=null,this[_0x4aee4f(0x1a0)]=setup[_0x4aee4f(0x16f)]['NORMAL'],this[_0x4aee4f(0x130)]=![],this[_0x4aee4f(0xe1)]=![],this[_0x4aee4f(0x12d)]=null,this['ltmJob']=null,this['modeResetJob']=null,this['driftAnalysisTimer']=null,this[_0x4aee4f(0xd2)]=null,this[_0x4aee4f(0x104)]=![],this['on'](_0x4aee4f(0xdd),this[_0x4aee4f(0x1a6)]['bind'](this)),this['on'](_0x4aee4f(0x152),this[_0x4aee4f(0x13f)][_0x4aee4f(0x11b)](this)),this['on']('unload',this[_0x4aee4f(0x17f)]['bind'](this)),this['on'](_0x4aee4f(0x109),this[_0x4aee4f(0x12a)]['bind'](this));}async['onReady'](){const _0x116ec1=a0_0x5752a1;this[_0x116ec1(0x138)][_0x116ec1(0x147)](_0x116ec1(0x10d)+this['version']+')\x20-\x20Phase\x20C\x20(Hardened)');if(!installer['checkAndInstall'](this,()=>this[_0x116ec1(0x121)]()))return;}async[a0_0x5752a1(0x121)](){const _0x1db403=a0_0x5752a1;await setup[_0x1db403(0x167)](this);try{this['isProVersion']=await setup[_0x1db403(0x174)](this['config'][_0x1db403(0x16d)]);}catch(_0x47bb83){}if(!this[_0x1db403(0x111)][_0x1db403(0x150)]||this[_0x1db403(0x111)][_0x1db403(0x150)]<0.1)this[_0x1db403(0x111)]['inactivityThresholdHours']=0xc;await setup[_0x1db403(0x163)](this),await setup[_0x1db403(0x171)](this);if(this['config'][_0x1db403(0x125)])try{this[_0x1db403(0x12c)]=new GoogleGenerativeAI(this[_0x1db403(0x111)][_0x1db403(0x125)]),this[_0x1db403(0x154)]=this[_0x1db403(0x12c)][_0x1db403(0xd6)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this[_0x1db403(0x138)]['info'](_0x1db403(0x197));}catch(_0x489603){this[_0x1db403(0x138)]['error']('Gemini\x20Init\x20Error:\x20'+_0x489603['message']);}await setup[_0x1db403(0x13b)](this),await this[_0x1db403(0x192)]();try{const _0xa7b5e=await this[_0x1db403(0x199)](_0x1db403(0x116));if(_0xa7b5e&&_0xa7b5e[_0x1db403(0xde)])this['rawEventLog']=JSON[_0x1db403(0x16b)](_0xa7b5e[_0x1db403(0xde)]);}catch(_0x2314a9){this[_0x1db403(0xd3)]=[];}try{const _0x273220=await this[_0x1db403(0x199)](_0x1db403(0xd8));if(_0x273220&&_0x273220[_0x1db403(0xde)])this[_0x1db403(0x196)]=JSON[_0x1db403(0x16b)](_0x273220[_0x1db403(0xde)]);}catch(_0x4f1e3e){this[_0x1db403(0x196)]=[];}const _0x250206=this[_0x1db403(0x196)][_0x1db403(0x198)]>=(this[_0x1db403(0x111)][_0x1db403(0x1a4)]||0x7)?'Aktiv\x20('+this[_0x1db403(0x196)]['length']+_0x1db403(0xee):_0x1db403(0x114)+this['dailyDigests'][_0x1db403(0x198)]+'/'+(this[_0x1db403(0x111)]['minDaysForBaseline']||0x7)+')';await this[_0x1db403(0xd5)](_0x1db403(0x105),{'val':_0x250206,'ack':!![]}),this[_0x1db403(0xfd)]('analysis.trigger'),this[_0x1db403(0xfd)](_0x1db403(0x16a)),this[_0x1db403(0xfd)]('system.mode'),this['subscribeStates'](_0x1db403(0x14a)),this['subscribeStates']('analysis.automation.triggerAction'),this[_0x1db403(0xfd)](_0x1db403(0x177)),this[_0x1db403(0xfd)](_0x1db403(0xe4)),this['subscribeStates'](_0x1db403(0x151)),this[_0x1db403(0xfd)](_0x1db403(0x10a)),this['subscribeStates'](_0x1db403(0x13a)),this[_0x1db403(0xfd)]('analysis.training.triggerTopology');const _0x4aa01d=this[_0x1db403(0x111)][_0x1db403(0x18c)];if(_0x4aa01d)for(const _0x109d44 of _0x4aa01d){await this[_0x1db403(0x187)](_0x109d44['id']);}const _0x491196=this[_0x1db403(0x111)][_0x1db403(0xe0)];if(_0x491196)for(const _0x4d8254 of _0x491196){await this[_0x1db403(0x187)](_0x4d8254);}if(this[_0x1db403(0x111)][_0x1db403(0x179)]&&this['config'][_0x1db403(0x19c)])await this['subscribeForeignStatesAsync'](this[_0x1db403(0x111)][_0x1db403(0x19c)]+_0x1db403(0xfb));setTimeout(()=>this[_0x1db403(0x134)](),0x1388);if(this[_0x1db403(0x12d)])clearInterval(this['analysisTimer']);const _0x50d03a=this[_0x1db403(0x111)][_0x1db403(0x156)]||0xf;_0x50d03a>0x0&&(this['analysisTimer']=setInterval(()=>{const _0x2c8fce=_0x1db403;this[_0x2c8fce(0x11a)]();},_0x50d03a*0x3c*0x3e8)),schedulers[_0x1db403(0xe8)](this,()=>aiAgent[_0x1db403(0xfc)](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers['setupDriftAnalysisScheduler'](this,()=>aiAgent[_0x1db403(0x128)](this)),schedulers[_0x1db403(0x153)](this,()=>aiAgent[_0x1db403(0x184)](this)),pythonBridge[_0x1db403(0xeb)](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0x26b82a=_0x1db403;await topology['updateTopology'](this);try{const _0x37d0b6=await this[_0x26b82a(0x199)](_0x26b82a(0xed));if(_0x37d0b6&&_0x37d0b6[_0x26b82a(0xde)])pythonBridge[_0x26b82a(0xe9)](this,_0x26b82a(0x190),JSON['parse'](_0x37d0b6[_0x26b82a(0xde)]));}catch(_0x3c6de1){}this[_0x26b82a(0x10f)](),this[_0x26b82a(0x14c)](),this[_0x26b82a(0x132)](),this[_0x26b82a(0x131)]();},0x1388);}['onUnload'](_0x487ef5){const _0x49460d=a0_0x5752a1;if(this['analysisTimer'])clearInterval(this[_0x49460d(0x12d)]);if(this['driftAnalysisTimer'])clearInterval(this['driftAnalysisTimer']);if(this[_0x49460d(0x1a3)])this[_0x49460d(0x1a3)][_0x49460d(0x195)]();if(this['modeResetJob'])this[_0x49460d(0x194)][_0x49460d(0x195)]();if(this[_0x49460d(0xd2)])this['briefingJob']['cancel']();recorder[_0x49460d(0x168)](this),pythonBridge[_0x49460d(0x18f)](this),_0x487ef5();}async[a0_0x5752a1(0x13f)](_0x55798b,_0x1f1f92){const _0x42dbf3=a0_0x5752a1;if(!_0x1f1f92||this['dependencyInstallInProgress'])return;if(_0x55798b[_0x42dbf3(0x141)](_0x42dbf3(0x19d))&&_0x55798b['endsWith'](_0x42dbf3(0x157))&&_0x1f1f92[_0x42dbf3(0xde)])return;if(_0x55798b===this[_0x42dbf3(0x122)]+_0x42dbf3(0x186)){if(_0x1f1f92[_0x42dbf3(0xde)]&&Object[_0x42dbf3(0x15d)](setup['SYSTEM_MODES'])[_0x42dbf3(0x141)](_0x1f1f92[_0x42dbf3(0xde)])){this['currentSystemMode']=_0x1f1f92[_0x42dbf3(0xde)];if(_0x1f1f92[_0x42dbf3(0xde)]===setup[_0x42dbf3(0x16f)]['VACATION'])await recorder[_0x42dbf3(0xd9)](this,![]);else await recorder[_0x42dbf3(0xd9)](this,!![]);}if(!_0x1f1f92[_0x42dbf3(0xf1)])this[_0x42dbf3(0xf7)](_0x55798b,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x1f1f92[_0x42dbf3(0xf1)]){_0x55798b[_0x42dbf3(0x141)]('analysis.trigger')&&_0x1f1f92[_0x42dbf3(0xde)]&&(this[_0x42dbf3(0xf7)](_0x55798b,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this));if(_0x55798b[_0x42dbf3(0x141)](_0x42dbf3(0x148))&&_0x1f1f92['val']){this[_0x42dbf3(0xf7)](_0x55798b,{'val':![],'ack':!![]});if(this[_0x42dbf3(0x130)])aiAgent[_0x42dbf3(0xfc)](this,pythonBridge);}_0x55798b[_0x42dbf3(0x141)](_0x42dbf3(0xd1))&&_0x1f1f92[_0x42dbf3(0xde)]&&(this[_0x42dbf3(0xf7)](_0x55798b,{'val':![],'ack':!![]}),aiAgent[_0x42dbf3(0x184)](this));_0x55798b[_0x42dbf3(0x141)](_0x42dbf3(0x182))&&_0x1f1f92[_0x42dbf3(0xde)]&&(this[_0x42dbf3(0xf7)](_0x55798b,{'val':![],'ack':!![]}),aiAgent['executeAutomationAction'](this));if(_0x55798b[_0x42dbf3(0x141)]('analysis.training.triggerSecurity')&&_0x1f1f92[_0x42dbf3(0xde)]){this[_0x42dbf3(0xf7)](_0x55798b,{'val':![],'ack':!![]});if(this[_0x42dbf3(0x130)])try{const _0x1c173b=await this[_0x42dbf3(0x199)](_0x42dbf3(0xd4));if(_0x1c173b&&_0x1c173b[_0x42dbf3(0xde)]){const _0xd1ad33=JSON[_0x42dbf3(0x16b)](_0x1c173b[_0x42dbf3(0xde)]);this[_0x42dbf3(0xd5)](_0x42dbf3(0x133),{'val':_0x42dbf3(0x164),'ack':!![]}),pythonBridge[_0x42dbf3(0xe9)](this,'TRAIN_SECURITY',{'sequences':_0xd1ad33});}}catch(_0x56859f){}}if(_0x55798b[_0x42dbf3(0x141)]('analysis.training.triggerHealth')&&_0x1f1f92[_0x42dbf3(0xde)]){this[_0x42dbf3(0xf7)](_0x55798b,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x48cd59=await this['getStateAsync'](_0x42dbf3(0xd8));if(_0x48cd59&&_0x48cd59['val'])pythonBridge[_0x42dbf3(0xe9)](this,_0x42dbf3(0x17d),{'digests':JSON[_0x42dbf3(0x16b)](_0x48cd59[_0x42dbf3(0xde)])});}catch(_0x35bf4b){}}if(_0x55798b['includes'](_0x42dbf3(0x10a))&&_0x1f1f92['val']){this[_0x42dbf3(0xf7)](_0x55798b,{'val':![],'ack':!![]});if(this[_0x42dbf3(0x130)])try{const _0x3e273b=await this['getStateAsync'](_0x42dbf3(0x119));if(_0x3e273b&&_0x3e273b[_0x42dbf3(0xde)])pythonBridge[_0x42dbf3(0xe9)](this,_0x42dbf3(0xe6),{'points':JSON['parse'](_0x3e273b['val'])});}catch(_0x272709){}}if(_0x55798b[_0x42dbf3(0x141)](_0x42dbf3(0x13a))&&_0x1f1f92[_0x42dbf3(0xde)]){this[_0x42dbf3(0xf7)](_0x55798b,{'val':![],'ack':!![]});if(this[_0x42dbf3(0x130)])try{const _0x2864d5=await this['getStateAsync'](_0x42dbf3(0x116));if(_0x2864d5&&_0x2864d5['val'])pythonBridge[_0x42dbf3(0xe9)](this,_0x42dbf3(0xf5),{'events':JSON[_0x42dbf3(0x16b)](_0x2864d5[_0x42dbf3(0xde)])});}catch(_0x594874){}}_0x55798b['includes'](_0x42dbf3(0x137))&&_0x1f1f92['val']&&(this['setState'](_0x55798b,{'val':![],'ack':!![]}),topology[_0x42dbf3(0xe7)](this));return;}if(this[_0x42dbf3(0x111)][_0x42dbf3(0xe0)]&&this[_0x42dbf3(0x111)][_0x42dbf3(0xe0)]['includes'](_0x55798b)){await this['checkWifiPresence']();return;}const _0x548c8d=(this[_0x42dbf3(0x111)][_0x42dbf3(0x18c)]||[])[_0x42dbf3(0xf0)](_0x42dee7=>_0x42dee7['id']===_0x55798b);if(_0x548c8d){const _0x5ed1e7=await recorder[_0x42dbf3(0x118)](this,_0x55798b,_0x1f1f92,_0x548c8d);_0x5ed1e7&&_0x5ed1e7['type']===_0x42dbf3(0x180)&&_0x5ed1e7[_0x42dbf3(0x103)]&&this[_0x42dbf3(0x130)]&&deadMan['updateLocation'](this,_0x5ed1e7['location']);}}async[a0_0x5752a1(0x12a)](_0x2bfeb1){const _0x826e60=a0_0x5752a1;if(typeof _0x2bfeb1===_0x826e60(0x10b)&&_0x2bfeb1['message']){if(_0x2bfeb1[_0x826e60(0x173)]===_0x826e60(0xf3))try{const _0x12609f=_0x2bfeb1[_0x826e60(0x109)]['apiKey'];if(!_0x12609f)throw new Error(_0x826e60(0x18b));const _0x31a028=new GoogleGenerativeAI(_0x12609f),_0x48c833=_0x31a028[_0x826e60(0xd6)]({'model':GEMINI_MODEL}),_0x1b8584=await _0x48c833[_0x826e60(0xdc)](_0x826e60(0x19e)),_0x399618=await _0x1b8584[_0x826e60(0xf2)];if(_0x399618[_0x826e60(0x10e)]())this[_0x826e60(0x188)](_0x2bfeb1['from'],_0x2bfeb1[_0x826e60(0x173)],{'success':!![],'message':'Verbindung\x20erfolgreich!'},_0x2bfeb1['callback']);else throw new Error(_0x826e60(0xe2));}catch(_0x1245c5){this[_0x826e60(0x188)](_0x2bfeb1['from'],_0x2bfeb1[_0x826e60(0x173)],{'success':![],'message':_0x1245c5[_0x826e60(0x109)]},_0x2bfeb1[_0x826e60(0x142)]);}else{if(_0x2bfeb1[_0x826e60(0x173)]===_0x826e60(0x18a))try{const _0x5f1d39=await scanner[_0x826e60(0x124)](this,_0x2bfeb1[_0x826e60(0x109)]||{});this[_0x826e60(0x188)](_0x2bfeb1['from'],_0x2bfeb1[_0x826e60(0x173)],{'success':!![],'devices':_0x5f1d39},_0x2bfeb1[_0x826e60(0x142)]);}catch(_0x112fe0){this['sendTo'](_0x2bfeb1[_0x826e60(0xf4)],_0x2bfeb1[_0x826e60(0x173)],{'success':![],'error':_0x112fe0[_0x826e60(0x109)]},_0x2bfeb1[_0x826e60(0x142)]);}else{if(_0x2bfeb1[_0x826e60(0x173)]===_0x826e60(0xdb))try{const {matrix:_0x357f00}=_0x2bfeb1[_0x826e60(0x109)],_0x422cea=await this[_0x826e60(0x199)](_0x826e60(0xed));if(_0x422cea&&_0x422cea[_0x826e60(0xde)]){const _0x528c78=JSON['parse'](_0x422cea[_0x826e60(0xde)]);_0x528c78[_0x826e60(0x161)]=_0x357f00,_0x528c78[_0x826e60(0x158)]=Date[_0x826e60(0x126)](),await this[_0x826e60(0xd5)](_0x826e60(0xed),{'val':JSON[_0x826e60(0x1a5)](_0x528c78),'ack':!![]}),pythonBridge[_0x826e60(0xe9)](this,_0x826e60(0x190),_0x528c78);}this[_0x826e60(0x188)](_0x2bfeb1[_0x826e60(0xf4)],_0x2bfeb1[_0x826e60(0x173)],{'success':!![]},_0x2bfeb1[_0x826e60(0x142)]);}catch(_0x1e83fe){this[_0x826e60(0x138)][_0x826e60(0x120)](_0x1e83fe);}else{if(_0x2bfeb1[_0x826e60(0x173)]===_0x826e60(0x129))this[_0x826e60(0x188)](_0x2bfeb1['from'],_0x2bfeb1['command'],{'success':!![],'dailyDigests':this[_0x826e60(0x196)]||[],'analysisHistory':this[_0x826e60(0xfe)]||[]},_0x2bfeb1[_0x826e60(0x142)]);else{if(_0x2bfeb1['command']===_0x826e60(0xf6)){const _0x419c82=this['dailyDigests']['length'],_0x53b835=new Array(0x18)[_0x826e60(0x113)](0x0),_0x20e8bc=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x826e60(0xff)]&&this[_0x826e60(0xff)]['forEach'](_0x315243=>{const _0x5c76d6=_0x826e60;if(_0x315243[_0x5c76d6(0x1aa)]>=_0x20e8bc){const _0x4ffcab=new Date(_0x315243[_0x5c76d6(0x1aa)])[_0x5c76d6(0x11e)]();if(_0x4ffcab>=0x0&&_0x4ffcab<0x18)_0x53b835[_0x4ffcab]++;}}),this['sendTo'](_0x2bfeb1[_0x826e60(0xf4)],_0x2bfeb1['command'],{'success':!![],'eventHistory':this[_0x826e60(0xff)][_0x826e60(0x17c)](0x0,0xf),'stats':{'digestCount':_0x419c82,'isPresent':this[_0x826e60(0x159)],'hourlyActivity':_0x53b835},'automation':{'detected':![]}},_0x2bfeb1[_0x826e60(0x142)]);}else{if(_0x2bfeb1[_0x826e60(0x173)]===_0x826e60(0x136)){const _0x5e8b9a=await this[_0x826e60(0x175)]('enum.functions.*',_0x826e60(0x139)),_0x31d127=[];if(_0x5e8b9a)for(const _0x5f5bc7 in _0x5e8b9a){const _0x561ac3=_0x5e8b9a[_0x5f5bc7],_0x84764c=(_0x561ac3['common']&&typeof _0x561ac3[_0x826e60(0x166)][_0x826e60(0x178)]==='object'?_0x561ac3[_0x826e60(0x166)][_0x826e60(0x178)]['de']:_0x561ac3[_0x826e60(0x166)][_0x826e60(0x178)])||_0x561ac3['common'][_0x826e60(0x178)];_0x31d127['push']({'id':_0x5f5bc7,'name':_0x84764c});}const _0x3cae9b=await this[_0x826e60(0x175)](_0x826e60(0x16e),_0x826e60(0x139)),_0x2206d3=[];if(_0x3cae9b)for(const _0x48d66f in _0x3cae9b){const _0x474629=_0x3cae9b[_0x48d66f],_0x4676ef=(_0x474629[_0x826e60(0x166)]&&typeof _0x474629['common']['name']===_0x826e60(0x10b)?_0x474629[_0x826e60(0x166)]['name']['de']:_0x474629[_0x826e60(0x166)][_0x826e60(0x178)])||_0x48d66f[_0x826e60(0x18d)]('.')[_0x826e60(0x193)]();_0x2206d3[_0x826e60(0x176)](_0x4676ef);}this[_0x826e60(0x188)](_0x2bfeb1[_0x826e60(0xf4)],_0x2bfeb1[_0x826e60(0x173)],{'success':!![],'enums':_0x31d127,'rooms':_0x2206d3},_0x2bfeb1[_0x826e60(0x142)]);}else{if(_0x2bfeb1[_0x826e60(0x173)]===_0x826e60(0xf9))try{let _0x3ad7cd=_0x826e60(0xd7),_0x227aa9=_0x826e60(0x107);if(this[_0x826e60(0x111)][_0x826e60(0xd0)]){const _0x19daac=await recorder['getOutsideTemperatureNumeric'](this);_0x3ad7cd=_0x19daac!==null?_0x19daac+'Â°C':_0x826e60(0xcf);}if(this[_0x826e60(0x111)][_0x826e60(0x106)]){const _0x5e0492=await this[_0x826e60(0x11c)](_0x826e60(0x101)+this[_0x826e60(0x111)]['calendarInstance']);_0x227aa9=_0x5e0492?'Verbunden':_0x826e60(0x1a8);}this[_0x826e60(0x188)](_0x2bfeb1['from'],_0x2bfeb1[_0x826e60(0x173)],{'success':!![],'weather':_0x3ad7cd,'calendar':_0x227aa9},_0x2bfeb1['callback']);}catch(_0x5e5869){this['sendTo'](_0x2bfeb1['from'],_0x2bfeb1[_0x826e60(0x173)],{'success':![],'error':_0x5e5869[_0x826e60(0x109)]},_0x2bfeb1[_0x826e60(0x142)]);}else{if(_0x2bfeb1[_0x826e60(0x173)]===_0x826e60(0x146))try{const _0x1274ad=_0x2bfeb1[_0x826e60(0x109)][_0x826e60(0x10c)],_0x32ab9a=await this[_0x826e60(0x135)](_0x1274ad+'.data.table');let _0x5ad9a1=[];if(_0x32ab9a&&_0x32ab9a['val']){const _0x3d650f=JSON['parse'](_0x32ab9a['val']),_0x384f0e=new Set();Array[_0x826e60(0xda)](_0x3d650f)&&_0x3d650f['forEach'](_0x50376b=>{const _0x1bbecb=_0x826e60;if(_0x50376b[_0x1bbecb(0x140)])_0x384f0e[_0x1bbecb(0x11d)](_0x50376b[_0x1bbecb(0x140)]);else{if(_0x50376b['calendarName'])_0x384f0e['add'](_0x50376b[_0x1bbecb(0x185)]);}}),_0x5ad9a1=Array[_0x826e60(0xf4)](_0x384f0e)[_0x826e60(0x189)]();}if(_0x5ad9a1[_0x826e60(0x198)]===0x0)_0x5ad9a1=[_0x826e60(0x1a1)];this['sendTo'](_0x2bfeb1[_0x826e60(0xf4)],_0x2bfeb1[_0x826e60(0x173)],{'success':!![],'names':_0x5ad9a1},_0x2bfeb1['callback']);}catch(_0x4247cf){this[_0x826e60(0x188)](_0x2bfeb1[_0x826e60(0xf4)],_0x2bfeb1[_0x826e60(0x173)],{'success':![],'error':_0x4247cf['message']},_0x2bfeb1[_0x826e60(0x142)]);}else{if(_0x2bfeb1['command']===_0x826e60(0x15e))try{await setup[_0x826e60(0x112)](this,_0x826e60(0x123),![],![]),this[_0x826e60(0x188)](_0x2bfeb1[_0x826e60(0xf4)],_0x2bfeb1['command'],{'success':!![],'message':_0x826e60(0xfa)},_0x2bfeb1['callback']);}catch(_0x32abae){this[_0x826e60(0x138)][_0x826e60(0x120)]('Notification\x20Test\x20Failed:\x20'+_0x32abae[_0x826e60(0x109)]),this[_0x826e60(0x188)](_0x2bfeb1[_0x826e60(0xf4)],_0x2bfeb1['command'],{'success':![],'message':_0x826e60(0x170)+_0x32abae[_0x826e60(0x109)]},_0x2bfeb1[_0x826e60(0x142)]);}}}}}}}}}}}async[a0_0x5752a1(0x192)](){const _0x3c8f7c=a0_0x5752a1;try{const _0x5d5b81=await this[_0x3c8f7c(0x199)](setup[_0x3c8f7c(0x191)]);_0x5d5b81&&_0x5d5b81['val']&&Object[_0x3c8f7c(0x15d)](setup[_0x3c8f7c(0x16f)])[_0x3c8f7c(0x141)](_0x5d5b81[_0x3c8f7c(0xde)])?this['currentSystemMode']=_0x5d5b81[_0x3c8f7c(0xde)]:(this[_0x3c8f7c(0x1a0)]=setup[_0x3c8f7c(0x16f)][_0x3c8f7c(0xf8)],await this[_0x3c8f7c(0xd5)](setup[_0x3c8f7c(0x191)],{'val':setup[_0x3c8f7c(0x16f)][_0x3c8f7c(0xf8)],'ack':!![]}));}catch(_0x10b693){this[_0x3c8f7c(0x1a0)]=setup[_0x3c8f7c(0x16f)][_0x3c8f7c(0xf8)];}}async[a0_0x5752a1(0x134)](){const _0x16fd0a=a0_0x5752a1;try{const _0x2d434f=this['config'][_0x16fd0a(0xe0)]||[];let _0xcfa415=![];const _0x4c87b2=[];for(const _0x5bd5ec of _0x2d434f){try{const _0x2fb563=await this[_0x16fd0a(0x135)](_0x5bd5ec);_0x2fb563&&(_0x2fb563[_0x16fd0a(0xde)]===!![]||_0x2fb563[_0x16fd0a(0xde)]===_0x16fd0a(0x162)||_0x2fb563[_0x16fd0a(0xde)]===0x1)&&(_0xcfa415=!![],_0x4c87b2[_0x16fd0a(0x176)](_0x5bd5ec));}catch(_0x4a25f6){}}return await this[_0x16fd0a(0xd5)](_0x16fd0a(0x169),{'val':_0x4c87b2['join'](',\x20'),'ack':!![]}),_0xcfa415&&(this[_0x16fd0a(0x11f)]&&(this[_0x16fd0a(0x138)]['info'](_0x16fd0a(0x19a)),recorder[_0x16fd0a(0x168)](this)),!this[_0x16fd0a(0x159)]&&this[_0x16fd0a(0x1a0)]===setup[_0x16fd0a(0x16f)][_0x16fd0a(0xf8)]&&await recorder['setPresence'](this,!![])),_0xcfa415;}catch(_0x333cf4){return![];}}async['runAutopilot'](){const _0x2ebaf7=a0_0x5752a1;this[_0x2ebaf7(0x138)][_0x2ebaf7(0x17b)](_0x2ebaf7(0x165)),await aiAgent[_0x2ebaf7(0x16c)](this),this[_0x2ebaf7(0x131)](),this[_0x2ebaf7(0x14c)](),this[_0x2ebaf7(0x132)]();}['triggerGaitAnalysis'](){const _0x1382c3=a0_0x5752a1;if(!this[_0x1382c3(0x130)])return;try{this[_0x1382c3(0x102)](_0x1382c3(0xd4),(_0x42ab7f,_0x4403be)=>{const _0x7ae9d5=_0x1382c3;_0x4403be&&_0x4403be[_0x7ae9d5(0xde)]&&pythonBridge['send'](this,_0x7ae9d5(0x13d),{'sequences':JSON[_0x7ae9d5(0x16b)](_0x4403be['val'])});});}catch(_0x30db57){}}async['triggerEnergyPrediction'](){const _0x18f8fa=a0_0x5752a1;if(!this[_0x18f8fa(0x130)])return;try{const _0x4ad160=await recorder[_0x18f8fa(0x14e)](this);if(_0x4ad160===null)return;const _0x499e6d={},_0x364f24=this[_0x18f8fa(0x111)][_0x18f8fa(0x18c)]||[];for(const _0x5086b6 of _0x364f24){if(_0x5086b6[_0x18f8fa(0x1a2)]===_0x18f8fa(0xdf)&&_0x5086b6[_0x18f8fa(0x103)]){const _0x52f065=this['sensorLastValues'][_0x5086b6['id']];if(_0x52f065!==undefined)_0x499e6d[_0x5086b6[_0x18f8fa(0x103)]]=_0x52f065;}}Object[_0x18f8fa(0x145)](_0x499e6d)['length']>0x0&&pythonBridge[_0x18f8fa(0xe9)](this,'PREDICT_ENERGY',{'current_temps':_0x499e6d,'t_out':_0x4ad160});}catch(_0x50579f){}}[a0_0x5752a1(0x131)](){const _0x42177c=a0_0x5752a1;if(!this[_0x42177c(0xd3)]||this['rawEventLog']['length']===0x0)return;const _0x40c2b1=new Array(0x60)['fill'](0x0),_0x35c67d=new Date()[_0x42177c(0x155)](0x0,0x0,0x0,0x0);this[_0x42177c(0xd3)]['forEach'](_0x588016=>{const _0x328cee=_0x42177c,_0x54771c=new Date(_0x588016[_0x328cee(0x1aa)]);if(_0x54771c['getTime']()>=_0x35c67d){const _0x4a6db0=_0x54771c[_0x328cee(0x11e)](),_0x2677d0=_0x54771c['getMinutes'](),_0x8b79ec=_0x4a6db0*0x4+Math[_0x328cee(0x108)](_0x2677d0/0xf);if(_0x8b79ec>=0x0&&_0x8b79ec<0x60)_0x40c2b1[_0x8b79ec]++;}}),this[_0x42177c(0xd5)](_0x42177c(0x144),{'val':JSON['stringify'](_0x40c2b1),'ack':!![]});}[a0_0x5752a1(0x10f)](){const _0x6cd9d9=a0_0x5752a1;if(!this[_0x6cd9d9(0x196)]||this[_0x6cd9d9(0x196)][_0x6cd9d9(0x198)]<0x2)return;const _0x1c02af=this[_0x6cd9d9(0x196)][_0x6cd9d9(0x19b)](_0x1ea6fa=>{const _0x4d5448=_0x6cd9d9,_0x147f8e=(_0x1ea6fa['activityLevel']||'')[_0x4d5448(0x149)]();return ACTIVITY_LEVEL_MAP[_0x147f8e]||0x32;});pythonBridge['send'](this,_0x6cd9d9(0xef),{'values':_0x1c02af,'tag':'Activity-Level'});}}if(require['main']!==module)module[a0_0x5752a1(0x17a)]=_0x144199=>new CogniLiving(_0x144199);else new CogniLiving();