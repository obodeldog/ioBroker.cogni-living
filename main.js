const a0_0x3d1946=a0_0x3b76;(function(_0x53691d,_0x16604e){const _0x5220d7=a0_0x3b76,_0x4e5383=_0x53691d();while(!![]){try{const _0xe86ca6=parseInt(_0x5220d7(0x1ab))/0x1+parseInt(_0x5220d7(0x13f))/0x2*(parseInt(_0x5220d7(0x171))/0x3)+-parseInt(_0x5220d7(0x108))/0x4+-parseInt(_0x5220d7(0x10e))/0x5+-parseInt(_0x5220d7(0x15b))/0x6+parseInt(_0x5220d7(0x114))/0x7*(-parseInt(_0x5220d7(0x124))/0x8)+parseInt(_0x5220d7(0x134))/0x9;if(_0xe86ca6===_0x16604e)break;else _0x4e5383['push'](_0x4e5383['shift']());}catch(_0x10714b){_0x4e5383['push'](_0x4e5383['shift']());}}}(a0_0x494a,0x71f55));const a0_0x38daae=(function(){let _0x2ca42a=!![];return function(_0x260d81,_0x16687c){const _0x50f747=_0x2ca42a?function(){if(_0x16687c){const _0x1aedbe=_0x16687c['apply'](_0x260d81,arguments);return _0x16687c=null,_0x1aedbe;}}:function(){};return _0x2ca42a=![],_0x50f747;};}()),a0_0x132b13=a0_0x38daae(this,function(){const _0x2e5dd5=a0_0x3b76;return a0_0x132b13[_0x2e5dd5(0x10f)]()[_0x2e5dd5(0x156)](_0x2e5dd5(0x16d))['toString']()['constructor'](a0_0x132b13)[_0x2e5dd5(0x156)](_0x2e5dd5(0x16d));});function a0_0x3b76(_0x949473,_0x1fefbc){const _0x3a4ec6=a0_0x494a();return a0_0x3b76=function(_0x132b13,_0x38daae){_0x132b13=_0x132b13-0x106;let _0x494a19=_0x3a4ec6[_0x132b13];return _0x494a19;},a0_0x3b76(_0x949473,_0x1fefbc);}a0_0x132b13();'use strict';const utils=require(a0_0x3d1946(0x125)),{GoogleGenerativeAI}=require(a0_0x3d1946(0x137)),installer=require(a0_0x3d1946(0x163)),scanner=require(a0_0x3d1946(0x111)),schedulers=require('./lib/scheduler'),topology=require(a0_0x3d1946(0x16c)),setup=require(a0_0x3d1946(0x1a1)),recorder=require(a0_0x3d1946(0x164)),pythonBridge=require('./lib/python_bridge'),aiAgent=require('./lib/ai_agent'),GEMINI_MODEL=a0_0x3d1946(0x179),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};function a0_0x494a(){const _0x112e6b=['abortExitTimer','analysis.health.todayVector','5592438WcSJnU','analysis.automation.autoApply','ðŸ•¸ï¸\x20Topology\x20Graph\x20manually\x20updated\x20by\x20user.','@google/generative-ai','updateTopologyMatrix','application/json','isProVersion','\x20Tage)','subscribeStates','createAllObjects','Gemini\x20AI\x20initialized.','1082FCAJeN','version','val','analysis.training.status','rawEventLog','common','getStateAsync','presenceDevices','main','inactivityThresholdHours','devices','analysisInterval','dependencyInstallInProgress','driftAnalysisTimer','analysis.training.triggerSecurity','systemConfig','subscribeForeignStatesAsync','ack','startSystem','modeResetJob','analysis.trigger','briefingJob','length','search','triggerGaitAnalysis','ANALYZE_GAIT','unload','sensorLastValues','2053680ijufKN','setupLtmScheduler','exitGraceTimer','checkWifiPresence','includes','send','executeAutomationAction','SYSTEM_DP_MODE','./lib/installer','./lib/recorder','setStateAsync','forEach','command','cogni-living\x20adapter\x20starting\x20(v','stateChange','callback','timestamp','./lib/topology','(((.+)+)+)+$','setupDriftAnalysisScheduler','triggerEnergyPrediction','getTime','5046qgkLJt','analysis.triggerBriefing','enum.functions.*','exitTimer','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','getForeignStateAsync','Activity-Level','Training\x20Error:\x20','models/gemini-flash-latest','processSensorEvent','log','checkLicense','bind','name','sendTo','initSystemConfig','keys','analysisTimer','getForeignObjectsAsync','slice','object','push','getMinutes','ANALYZE_TREND','VACATION','analysis.training.triggerTopology','analysis.training.triggerComfort','geminiModel','NORMAL','cancel','values','fill','config','type','licenseKey','enum','LTM.rawEventLog','runPythonHealthCheck','message','updateHealthVector','SYSTEM_MODES','ðŸ•¸ï¸\x20Manually\x20triggering\x20Topology\x20Update...','triggerDailyDigest','LTM.trainingData.sequences','eventHistory','onUnload','Aktiv\x20(','geminiApiKey','./lib/setup','LTM.triggerDailyDigest','online','setState','automation.triggerAction','setupBriefingScheduler','testApiKey','dailyDigests','exports','endsWith','585370NhQESk','scanForDevices','parse','activityLevel','createDailyDigest','runAutopilot','from','notifyTelegramEnabled','ðŸ§ \x20Triggering\x20Security\x20Training...','ready','analysis.training.triggerHealth','LTM.dailyDigests','triggerBriefing','onMessage','Adapter','error','minDaysForBaseline','map','1326900BzlflX','isPresent','temperature','ltmJob','getState','PREDICT_ENERGY','1621815bYUlCi','toString','onStateChange','./lib/scanner','LTM.trainingData.thermodynamics','setHours','63MGfwkL','setPresence','sendMorningBriefing','genAI','onReady','analysis.training.triggerEnergy','location','notifyTelegramInstance','.system.mode','namespace','WiFi\x20Presence\x20detected.','analysis.topology.structure','runGeminiAnalysis','currentSystemMode','stringify','toLowerCase','579176XVRqGr','@iobroker/adapter-core','SET_TOPOLOGY','TRAIN_HEALTH','initZombies','runBaselineDriftAnalysis','updateTopology','loadSystemMode','info','debug','getOverviewData','now','Lernphase\x20(','Gemini\x20Init\x20Error:\x20'];a0_0x494a=function(){return _0x112e6b;};return a0_0x494a();}class CogniLiving extends utils[a0_0x3d1946(0x1b9)]{constructor(_0x15edb0){const _0x1c3b5c=a0_0x3d1946;super({..._0x15edb0,'name':'cogni-living'}),this[_0x1c3b5c(0x19d)]=[],this['analysisHistory']=[],this[_0x1c3b5c(0x143)]=[],this[_0x1c3b5c(0x1a8)]=[],this[_0x1c3b5c(0x15a)]={},this[_0x1c3b5c(0x14e)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x1c3b5c(0x109)]=!![],this[_0x1c3b5c(0x174)]=null,this[_0x1c3b5c(0x15d)]=null,this['isGracePeriodActive']=![],this[_0x1c3b5c(0x117)]=null,this['geminiModel']=null,this[_0x1c3b5c(0x121)]=setup['SYSTEM_MODES']['NORMAL'],this[_0x1c3b5c(0x13a)]=![],this['lastAlertState']=![],this[_0x1c3b5c(0x182)]=null,this[_0x1c3b5c(0x10b)]=null,this['modeResetJob']=null,this[_0x1c3b5c(0x14c)]=null,this['briefingJob']=null,this[_0x1c3b5c(0x14b)]=![],this['on'](_0x1c3b5c(0x1b4),this[_0x1c3b5c(0x118)][_0x1c3b5c(0x17d)](this)),this['on'](_0x1c3b5c(0x169),this[_0x1c3b5c(0x110)][_0x1c3b5c(0x17d)](this)),this['on'](_0x1c3b5c(0x159),this[_0x1c3b5c(0x19e)]['bind'](this)),this['on']('message',this['onMessage']['bind'](this));}async['onReady'](){const _0x96bf8f=a0_0x3d1946;this[_0x96bf8f(0x17b)][_0x96bf8f(0x12c)](_0x96bf8f(0x168)+this[_0x96bf8f(0x140)]+')\x20-\x20Phase\x20C\x20(Refactored)');if(!installer['checkAndInstall'](this,()=>this[_0x96bf8f(0x151)]()))return;}async[a0_0x3d1946(0x151)](){const _0x20e822=a0_0x3d1946;await setup[_0x20e822(0x128)](this);try{this[_0x20e822(0x13a)]=await setup[_0x20e822(0x17c)](this[_0x20e822(0x191)][_0x20e822(0x193)]);}catch(_0x166b0a){}if(!this[_0x20e822(0x191)][_0x20e822(0x148)]||this[_0x20e822(0x191)][_0x20e822(0x148)]<0.1)this[_0x20e822(0x191)][_0x20e822(0x148)]=0xc;await setup['initHistory'](this),await setup[_0x20e822(0x180)](this);if(this[_0x20e822(0x191)]['geminiApiKey'])try{this[_0x20e822(0x117)]=new GoogleGenerativeAI(this[_0x20e822(0x191)][_0x20e822(0x1a0)]),this[_0x20e822(0x18c)]=this[_0x20e822(0x117)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x20e822(0x139)}}),this[_0x20e822(0x17b)][_0x20e822(0x12c)](_0x20e822(0x13e));}catch(_0x3eb934){this['log'][_0x20e822(0x1ba)](_0x20e822(0x131)+_0x3eb934[_0x20e822(0x197)]);}await setup[_0x20e822(0x13d)](this),await this[_0x20e822(0x12b)]();try{const _0x44f5b2=await this[_0x20e822(0x145)](_0x20e822(0x195));if(_0x44f5b2&&_0x44f5b2['val'])this[_0x20e822(0x143)]=JSON[_0x20e822(0x1ad)](_0x44f5b2[_0x20e822(0x141)]);}catch(_0xe64113){this[_0x20e822(0x143)]=[];}try{const _0x4a19eb=await this[_0x20e822(0x145)](_0x20e822(0x1b6));if(_0x4a19eb&&_0x4a19eb['val'])this[_0x20e822(0x1a8)]=JSON[_0x20e822(0x1ad)](_0x4a19eb[_0x20e822(0x141)]);}catch(_0x5d4120){this[_0x20e822(0x1a8)]=[];}const _0xf8cc30=this['dailyDigests'][_0x20e822(0x155)]>=(this['config']['minDaysForBaseline']||0x7)?_0x20e822(0x19f)+this[_0x20e822(0x1a8)]['length']+_0x20e822(0x13b):_0x20e822(0x130)+this[_0x20e822(0x1a8)]['length']+'/'+(this['config'][_0x20e822(0x106)]||0x7)+')';await this[_0x20e822(0x165)]('LTM.baselineStatus',{'val':_0xf8cc30,'ack':!![]}),this[_0x20e822(0x13c)](_0x20e822(0x153)),this['subscribeStates'](_0x20e822(0x1a2)),this[_0x20e822(0x13c)]('system.mode'),this[_0x20e822(0x13c)](_0x20e822(0x172)),this[_0x20e822(0x13c)]('analysis.automation.triggerAction'),this[_0x20e822(0x13c)](_0x20e822(0x135)),this[_0x20e822(0x13c)](_0x20e822(0x14d)),this[_0x20e822(0x13c)]('analysis.training.triggerHealth'),this[_0x20e822(0x13c)](_0x20e822(0x119)),this['subscribeStates'](_0x20e822(0x18b)),this['subscribeStates'](_0x20e822(0x18a));const _0x23a2bd=this[_0x20e822(0x191)][_0x20e822(0x149)];if(_0x23a2bd)for(const _0x236156 of _0x23a2bd){await this['subscribeForeignStatesAsync'](_0x236156['id']);}const _0x2cbb04=this[_0x20e822(0x191)]['presenceDevices'];if(_0x2cbb04)for(const _0x5b83fd of _0x2cbb04){await this[_0x20e822(0x14f)](_0x5b83fd);}if(this['config'][_0x20e822(0x1b2)]&&this[_0x20e822(0x191)][_0x20e822(0x11b)])await this['subscribeForeignStatesAsync'](this[_0x20e822(0x191)]['notifyTelegramInstance']+'.communicate.request');setTimeout(()=>this[_0x20e822(0x15e)](),0x1388);if(this['analysisTimer'])clearInterval(this[_0x20e822(0x182)]);const _0x35142e=this[_0x20e822(0x191)][_0x20e822(0x14a)]||0xf;_0x35142e>0x0&&(this[_0x20e822(0x182)]=setInterval(()=>{const _0x1296bf=_0x20e822;this[_0x1296bf(0x1b0)]();},_0x35142e*0x3c*0x3e8)),schedulers[_0x20e822(0x15c)](this,()=>aiAgent['createDailyDigest'](this,pythonBridge)),schedulers['setupModeResetScheduler'](this),schedulers[_0x20e822(0x16e)](this,()=>aiAgent[_0x20e822(0x129)](this)),schedulers[_0x20e822(0x1a6)](this,()=>aiAgent[_0x20e822(0x116)](this)),pythonBridge['startService'](this,installer['PYTHON_EXE']),setTimeout(async()=>{const _0xee07ad=_0x20e822;await topology[_0xee07ad(0x12a)](this);try{const _0x1364c9=await this[_0xee07ad(0x145)](_0xee07ad(0x11f));if(_0x1364c9&&_0x1364c9[_0xee07ad(0x141)])pythonBridge['send'](this,'SET_TOPOLOGY',JSON['parse'](_0x1364c9[_0xee07ad(0x141)]));}catch(_0x5b02ed){}this[_0xee07ad(0x196)](),this['triggerGaitAnalysis'](),this[_0xee07ad(0x16f)](),this[_0xee07ad(0x198)]();},0x1388);}[a0_0x3d1946(0x19e)](_0x9df5af){const _0x2b0107=a0_0x3d1946;if(this[_0x2b0107(0x182)])clearInterval(this[_0x2b0107(0x182)]);if(this[_0x2b0107(0x14c)])clearInterval(this[_0x2b0107(0x14c)]);if(this[_0x2b0107(0x10b)])this[_0x2b0107(0x10b)][_0x2b0107(0x18e)]();if(this[_0x2b0107(0x152)])this[_0x2b0107(0x152)][_0x2b0107(0x18e)]();if(this[_0x2b0107(0x154)])this[_0x2b0107(0x154)]['cancel']();recorder[_0x2b0107(0x132)](this),pythonBridge['stopService'](this),_0x9df5af();}async['onStateChange'](_0x6c14f4,_0x35daf0){const _0x98e1a3=a0_0x3d1946;if(!_0x35daf0||this[_0x98e1a3(0x14b)])return;if(_0x6c14f4[_0x98e1a3(0x15f)]('telegram')&&_0x6c14f4[_0x98e1a3(0x1aa)]('communicate.request')&&_0x35daf0[_0x98e1a3(0x141)])return;if(_0x6c14f4===this[_0x98e1a3(0x11d)]+_0x98e1a3(0x11c)){if(_0x35daf0[_0x98e1a3(0x141)]&&Object['values'](setup[_0x98e1a3(0x199)])['includes'](_0x35daf0[_0x98e1a3(0x141)])){this['currentSystemMode']=_0x35daf0[_0x98e1a3(0x141)];if(_0x35daf0[_0x98e1a3(0x141)]===setup['SYSTEM_MODES'][_0x98e1a3(0x189)])await recorder[_0x98e1a3(0x115)](this,![]);else await recorder[_0x98e1a3(0x115)](this,!![]);}if(!_0x35daf0[_0x98e1a3(0x150)])this['setState'](_0x6c14f4,{'val':this[_0x98e1a3(0x121)],'ack':!![]});return;}if(!_0x35daf0['ack']){_0x6c14f4[_0x98e1a3(0x15f)]('analysis.trigger')&&_0x35daf0[_0x98e1a3(0x141)]&&(this[_0x98e1a3(0x1a4)](_0x6c14f4,{'val':![],'ack':!![]}),aiAgent[_0x98e1a3(0x120)](this));if(_0x6c14f4['includes'](_0x98e1a3(0x19b))&&_0x35daf0['val']){this[_0x98e1a3(0x1a4)](_0x6c14f4,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0x98e1a3(0x1af)](this,pythonBridge);}_0x6c14f4['includes'](_0x98e1a3(0x1b7))&&_0x35daf0[_0x98e1a3(0x141)]&&(this[_0x98e1a3(0x1a4)](_0x6c14f4,{'val':![],'ack':!![]}),aiAgent[_0x98e1a3(0x116)](this));_0x6c14f4[_0x98e1a3(0x15f)](_0x98e1a3(0x1a5))&&_0x35daf0[_0x98e1a3(0x141)]&&(this['setState'](_0x6c14f4,{'val':![],'ack':!![]}),aiAgent[_0x98e1a3(0x161)](this));if(_0x6c14f4[_0x98e1a3(0x15f)](_0x98e1a3(0x14d))&&_0x35daf0[_0x98e1a3(0x141)]){this[_0x98e1a3(0x1a4)](_0x6c14f4,{'val':![],'ack':!![]});if(this[_0x98e1a3(0x13a)])try{const _0x3f35d4=await this['getStateAsync'](_0x98e1a3(0x19c));if(_0x3f35d4&&_0x3f35d4[_0x98e1a3(0x141)]){const _0x125e64=JSON['parse'](_0x3f35d4[_0x98e1a3(0x141)]);this[_0x98e1a3(0x17b)][_0x98e1a3(0x12c)](_0x98e1a3(0x1b3)),this[_0x98e1a3(0x165)](_0x98e1a3(0x142),{'val':'Sec-Training\x20started...','ack':!![]}),pythonBridge[_0x98e1a3(0x160)](this,'TRAIN_SECURITY',{'sequences':_0x125e64});}}catch(_0x546ae7){this['log'][_0x98e1a3(0x1ba)](_0x98e1a3(0x178)+_0x546ae7[_0x98e1a3(0x197)]);}}if(_0x6c14f4['includes'](_0x98e1a3(0x1b5))&&_0x35daf0['val']){this[_0x98e1a3(0x1a4)](_0x6c14f4,{'val':![],'ack':!![]});if(this[_0x98e1a3(0x13a)])try{const _0x42a434=await this[_0x98e1a3(0x145)]('LTM.dailyDigests');if(_0x42a434&&_0x42a434[_0x98e1a3(0x141)])pythonBridge[_0x98e1a3(0x160)](this,_0x98e1a3(0x127),{'digests':JSON[_0x98e1a3(0x1ad)](_0x42a434[_0x98e1a3(0x141)])});}catch(_0x420a9d){}}if(_0x6c14f4[_0x98e1a3(0x15f)](_0x98e1a3(0x119))&&_0x35daf0[_0x98e1a3(0x141)]){this[_0x98e1a3(0x1a4)](_0x6c14f4,{'val':![],'ack':!![]});if(this[_0x98e1a3(0x13a)])try{const _0x124d8b=await this['getStateAsync'](_0x98e1a3(0x112));if(_0x124d8b&&_0x124d8b[_0x98e1a3(0x141)])pythonBridge[_0x98e1a3(0x160)](this,'TRAIN_ENERGY',{'points':JSON[_0x98e1a3(0x1ad)](_0x124d8b[_0x98e1a3(0x141)])});}catch(_0x589528){}}if(_0x6c14f4[_0x98e1a3(0x15f)](_0x98e1a3(0x18b))&&_0x35daf0[_0x98e1a3(0x141)]){this[_0x98e1a3(0x1a4)](_0x6c14f4,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x14a68a=await this[_0x98e1a3(0x145)](_0x98e1a3(0x195));_0x14a68a&&_0x14a68a[_0x98e1a3(0x141)]&&(this[_0x98e1a3(0x17b)][_0x98e1a3(0x12c)]('ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...'),pythonBridge['send'](this,'TRAIN_COMFORT',{'events':JSON['parse'](_0x14a68a['val'])}));}catch(_0x408dd3){}}_0x6c14f4['includes'](_0x98e1a3(0x18a))&&_0x35daf0[_0x98e1a3(0x141)]&&(this[_0x98e1a3(0x1a4)](_0x6c14f4,{'val':![],'ack':!![]}),this[_0x98e1a3(0x17b)][_0x98e1a3(0x12c)](_0x98e1a3(0x19a)),topology[_0x98e1a3(0x12a)](this));return;}if(this[_0x98e1a3(0x191)][_0x98e1a3(0x146)]&&this['config']['presenceDevices'][_0x98e1a3(0x15f)](_0x6c14f4)){await this[_0x98e1a3(0x15e)]();return;}const _0x19eb63=(this[_0x98e1a3(0x191)]['devices']||[])['find'](_0x1b1908=>_0x1b1908['id']===_0x6c14f4);if(_0x19eb63)recorder[_0x98e1a3(0x17a)](this,_0x6c14f4,_0x35daf0,_0x19eb63);}async[a0_0x3d1946(0x1b8)](_0x47c4a8){const _0x4c0ee2=a0_0x3d1946;if(typeof _0x47c4a8===_0x4c0ee2(0x185)&&_0x47c4a8[_0x4c0ee2(0x197)]){if(_0x47c4a8[_0x4c0ee2(0x167)]===_0x4c0ee2(0x1a7)){}else{if(_0x47c4a8[_0x4c0ee2(0x167)]==='scanDevices')try{const _0x102abb=await scanner[_0x4c0ee2(0x1ac)](this,_0x47c4a8[_0x4c0ee2(0x197)]||{});this['sendTo'](_0x47c4a8['from'],_0x47c4a8[_0x4c0ee2(0x167)],{'success':!![],'devices':_0x102abb},_0x47c4a8[_0x4c0ee2(0x16a)]);}catch(_0x283e1a){this['sendTo'](_0x47c4a8[_0x4c0ee2(0x1b1)],_0x47c4a8['command'],{'success':![],'error':_0x283e1a[_0x4c0ee2(0x197)]},_0x47c4a8['callback']);}else{if(_0x47c4a8['command']===_0x4c0ee2(0x138)){const {matrix:_0x2912cb}=_0x47c4a8['message'];try{const _0x55dc34=await this['getStateAsync']('analysis.topology.structure');if(_0x55dc34&&_0x55dc34['val']){const _0x17037c=JSON[_0x4c0ee2(0x1ad)](_0x55dc34[_0x4c0ee2(0x141)]);_0x17037c['matrix']=_0x2912cb,_0x17037c['updated']=Date[_0x4c0ee2(0x12f)](),await this[_0x4c0ee2(0x165)](_0x4c0ee2(0x11f),{'val':JSON[_0x4c0ee2(0x122)](_0x17037c),'ack':!![]}),this['log']['info'](_0x4c0ee2(0x136)),pythonBridge[_0x4c0ee2(0x160)](this,_0x4c0ee2(0x126),_0x17037c);}this[_0x4c0ee2(0x17f)](_0x47c4a8[_0x4c0ee2(0x1b1)],_0x47c4a8['command'],{'success':!![]},_0x47c4a8['callback']);}catch(_0xfecb2d){this[_0x4c0ee2(0x17b)][_0x4c0ee2(0x1ba)]('Topology\x20Update\x20Error:\x20'+_0xfecb2d['message']);}}else{if(_0x47c4a8[_0x4c0ee2(0x167)]===_0x4c0ee2(0x12e)){const _0x2fade9=this['dailyDigests'][_0x4c0ee2(0x155)];this[_0x4c0ee2(0x17f)](_0x47c4a8[_0x4c0ee2(0x1b1)],_0x47c4a8[_0x4c0ee2(0x167)],{'success':!![],'eventHistory':this[_0x4c0ee2(0x19d)][_0x4c0ee2(0x184)](0x0,0xf),'stats':{'digestCount':_0x2fade9,'isPresent':this[_0x4c0ee2(0x109)]}},_0x47c4a8[_0x4c0ee2(0x16a)]);}else{if(_0x47c4a8[_0x4c0ee2(0x167)]==='getEnums'){const _0xd1574e=await this[_0x4c0ee2(0x183)](_0x4c0ee2(0x173),_0x4c0ee2(0x194)),_0x3d31bf=[];if(_0xd1574e)for(const _0x1fe43a in _0xd1574e){const _0x299119=_0xd1574e[_0x1fe43a],_0x29da0b=(_0x299119[_0x4c0ee2(0x144)]&&typeof _0x299119[_0x4c0ee2(0x144)][_0x4c0ee2(0x17e)]==='object'?_0x299119[_0x4c0ee2(0x144)][_0x4c0ee2(0x17e)]['de']:_0x299119[_0x4c0ee2(0x144)][_0x4c0ee2(0x17e)])||_0x299119[_0x4c0ee2(0x144)][_0x4c0ee2(0x17e)];_0x3d31bf['push']({'id':_0x1fe43a,'name':_0x29da0b});}const _0x548470=await this[_0x4c0ee2(0x183)]('enum.rooms.*',_0x4c0ee2(0x194)),_0x4ab5d6=[];if(_0x548470)for(const _0x5a42a3 in _0x548470){const _0x31cb0a=_0x548470[_0x5a42a3],_0x1fb0b3=(_0x31cb0a[_0x4c0ee2(0x144)]&&typeof _0x31cb0a['common'][_0x4c0ee2(0x17e)]===_0x4c0ee2(0x185)?_0x31cb0a[_0x4c0ee2(0x144)][_0x4c0ee2(0x17e)]['de']:_0x31cb0a[_0x4c0ee2(0x144)][_0x4c0ee2(0x17e)])||_0x5a42a3['split']('.')['pop']();_0x4ab5d6[_0x4c0ee2(0x186)](_0x1fb0b3);}this[_0x4c0ee2(0x17f)](_0x47c4a8[_0x4c0ee2(0x1b1)],_0x47c4a8[_0x4c0ee2(0x167)],{'success':!![],'enums':_0x3d31bf,'rooms':_0x4ab5d6},_0x47c4a8[_0x4c0ee2(0x16a)]);}}}}}}}async[a0_0x3d1946(0x12b)](){const _0x237929=a0_0x3d1946;try{const _0x5afb79=await this[_0x237929(0x145)](setup['SYSTEM_DP_MODE']);_0x5afb79&&_0x5afb79[_0x237929(0x141)]&&Object[_0x237929(0x18f)](setup[_0x237929(0x199)])[_0x237929(0x15f)](_0x5afb79[_0x237929(0x141)])?this[_0x237929(0x121)]=_0x5afb79['val']:(this[_0x237929(0x121)]=setup[_0x237929(0x199)][_0x237929(0x18d)],await this[_0x237929(0x165)](setup[_0x237929(0x162)],{'val':setup[_0x237929(0x199)][_0x237929(0x18d)],'ack':!![]}));}catch(_0x3d0c93){this['currentSystemMode']=setup['SYSTEM_MODES'][_0x237929(0x18d)];}}async['checkWifiPresence'](){const _0x5c449c=a0_0x3d1946;try{const _0x1c90fa=this[_0x5c449c(0x191)][_0x5c449c(0x146)]||[];let _0x20f307=![];const _0x1b5be4=[];for(const _0x1e49af of _0x1c90fa){try{const _0x2ce436=await this[_0x5c449c(0x176)](_0x1e49af);_0x2ce436&&(_0x2ce436[_0x5c449c(0x141)]===!![]||_0x2ce436[_0x5c449c(0x141)]===_0x5c449c(0x1a3)||_0x2ce436['val']===0x1)&&(_0x20f307=!![],_0x1b5be4[_0x5c449c(0x186)](_0x1e49af));}catch(_0x1ee682){}}return await this[_0x5c449c(0x165)]('system.presenceWho',{'val':_0x1b5be4['join'](',\x20'),'ack':!![]}),_0x20f307&&(this['exitTimer']&&(this[_0x5c449c(0x17b)][_0x5c449c(0x12c)](_0x5c449c(0x11e)),recorder[_0x5c449c(0x132)](this)),!this[_0x5c449c(0x109)]&&this['currentSystemMode']===setup[_0x5c449c(0x199)]['NORMAL']&&await recorder[_0x5c449c(0x115)](this,!![])),_0x20f307;}catch(_0x4b124d){return![];}}async[a0_0x3d1946(0x1b0)](){const _0x1435f0=a0_0x3d1946;this[_0x1435f0(0x17b)][_0x1435f0(0x12d)](_0x1435f0(0x175)),await aiAgent[_0x1435f0(0x120)](this),this['updateHealthVector'](),this[_0x1435f0(0x157)](),this[_0x1435f0(0x16f)]();}[a0_0x3d1946(0x157)](){const _0x4711d5=a0_0x3d1946;if(!this[_0x4711d5(0x13a)])return;try{this[_0x4711d5(0x10c)]('LTM.trainingData.sequences',(_0x4ec154,_0x2dbfff)=>{const _0x2b44c7=_0x4711d5;_0x2dbfff&&_0x2dbfff[_0x2b44c7(0x141)]&&pythonBridge[_0x2b44c7(0x160)](this,_0x2b44c7(0x158),{'sequences':JSON[_0x2b44c7(0x1ad)](_0x2dbfff[_0x2b44c7(0x141)])});});}catch(_0x50f80c){}}async[a0_0x3d1946(0x16f)](){const _0x2fc159=a0_0x3d1946;if(!this['isProVersion'])return;try{const _0x297946=await recorder['getOutsideTemperatureNumeric'](this);if(_0x297946===null)return;const _0x199b44={},_0x23aa6f=this[_0x2fc159(0x191)][_0x2fc159(0x149)]||[];for(const _0x30792e of _0x23aa6f){if(_0x30792e[_0x2fc159(0x192)]===_0x2fc159(0x10a)&&_0x30792e[_0x2fc159(0x11a)]){const _0x596bc4=this[_0x2fc159(0x15a)][_0x30792e['id']];if(_0x596bc4!==undefined)_0x199b44[_0x30792e[_0x2fc159(0x11a)]]=_0x596bc4;}}Object[_0x2fc159(0x181)](_0x199b44)[_0x2fc159(0x155)]>0x0&&pythonBridge['send'](this,_0x2fc159(0x10d),{'current_temps':_0x199b44,'t_out':_0x297946});}catch(_0x5ecf88){}}[a0_0x3d1946(0x198)](){const _0x40fa93=a0_0x3d1946;if(!this[_0x40fa93(0x143)]||this[_0x40fa93(0x143)][_0x40fa93(0x155)]===0x0)return;const _0x1fa3f4=new Array(0x60)[_0x40fa93(0x190)](0x0),_0x423311=new Date()[_0x40fa93(0x113)](0x0,0x0,0x0,0x0);this[_0x40fa93(0x143)][_0x40fa93(0x166)](_0x3f46a4=>{const _0x318658=_0x40fa93,_0xae35f2=new Date(_0x3f46a4[_0x318658(0x16b)]);if(_0xae35f2[_0x318658(0x170)]()>=_0x423311){const _0xd79ca3=_0xae35f2['getHours'](),_0x1ed381=_0xae35f2[_0x318658(0x187)](),_0x1fbe40=_0xd79ca3*0x4+Math['floor'](_0x1ed381/0xf);if(_0x1fbe40>=0x0&&_0x1fbe40<0x60)_0x1fa3f4[_0x1fbe40]++;}}),this[_0x40fa93(0x165)](_0x40fa93(0x133),{'val':JSON[_0x40fa93(0x122)](_0x1fa3f4),'ack':!![]});}[a0_0x3d1946(0x196)](){const _0x29542b=a0_0x3d1946;if(!this[_0x29542b(0x1a8)]||this[_0x29542b(0x1a8)][_0x29542b(0x155)]<0x2)return;const _0x452c2a=this[_0x29542b(0x1a8)][_0x29542b(0x107)](_0x1ae9d2=>{const _0x4355bd=_0x29542b,_0xd55266=(_0x1ae9d2[_0x4355bd(0x1ae)]||'')[_0x4355bd(0x123)]();return ACTIVITY_LEVEL_MAP[_0xd55266]||0x32;});pythonBridge['send'](this,_0x29542b(0x188),{'values':_0x452c2a,'tag':_0x29542b(0x177)});}}if(require[a0_0x3d1946(0x147)]!==module)module[a0_0x3d1946(0x1a9)]=_0x536e7b=>new CogniLiving(_0x536e7b);else new CogniLiving();