const a0_0x294035=a0_0x5bc8;(function(_0x332fc5,_0xb08189){const _0x56e957=a0_0x5bc8,_0x4db15b=_0x332fc5();while(!![]){try{const _0x59e88f=-parseInt(_0x56e957(0x267))/0x1+-parseInt(_0x56e957(0x294))/0x2+-parseInt(_0x56e957(0x209))/0x3*(parseInt(_0x56e957(0x2ba))/0x4)+-parseInt(_0x56e957(0x242))/0x5*(parseInt(_0x56e957(0x158))/0x6)+parseInt(_0x56e957(0x24a))/0x7+parseInt(_0x56e957(0x21b))/0x8+parseInt(_0x56e957(0x195))/0x9;if(_0x59e88f===_0xb08189)break;else _0x4db15b['push'](_0x4db15b['shift']());}catch(_0xc7e87b){_0x4db15b['push'](_0x4db15b['shift']());}}}(a0_0x1765,0xad4b5));const a0_0x14eddd=(function(){let _0x59f5e9=!![];return function(_0x158fdb,_0x261627){const _0x15dd03=_0x59f5e9?function(){if(_0x261627){const _0x58506d=_0x261627['apply'](_0x158fdb,arguments);return _0x261627=null,_0x58506d;}}:function(){};return _0x59f5e9=![],_0x15dd03;};}()),a0_0x6f258=a0_0x14eddd(this,function(){const _0x8597d7=a0_0x5bc8;return a0_0x6f258[_0x8597d7(0x1fd)]()[_0x8597d7(0x276)]('(((.+)+)+)+$')[_0x8597d7(0x1fd)]()[_0x8597d7(0x2a1)](a0_0x6f258)[_0x8597d7(0x276)]('(((.+)+)+)+$');});a0_0x6f258();'use strict';const utils=require(a0_0x294035(0x27e)),{GoogleGenerativeAI}=require('@google/generative-ai'),{spawn}=require('child_process'),path=require(a0_0x294035(0x269)),fs=require('fs'),installer=require(a0_0x294035(0x174)),scanner=require(a0_0x294035(0x2e6)),schedulers=require(a0_0x294035(0x205)),HISTORY_MAX_SIZE=0x32,RAW_LOG_MAX_SIZE=0x9c4,LTM_MIN_EVENTS_FOR_COMPRESSION=0x5,GEMINI_MODEL='models/gemini-flash-latest',SEQUENCE_TIMEOUT_MS=0x5*0x3c*0x3e8,MAX_TRAINING_SET_SIZE=0x1f4,THERMO_LOG_SIZE=0x3e8,EXIT_TIMER_MINUTES=0xf,EXIT_GRACE_PERIOD_SECONDS=0x1e,LTM_DP_RAW_LOG=a0_0x294035(0x2ce),LTM_DP_DAILY_DIGESTS=a0_0x294035(0x232),LTM_DP_STATUS=a0_0x294035(0x245),LTM_DP_TRIGGER_DIGEST=a0_0x294035(0x1cd),LTM_DP_BASELINE_STATUS=a0_0x294035(0x1a2),LTM_DP_DRIFT_CHANNEL='LTM.driftAnalysis',LTM_DP_DRIFT_STATUS=a0_0x294035(0x2cb),LTM_DP_DRIFT_DETAILS=a0_0x294035(0x19c),LTM_DP_DRIFT_LAST_CHECK=a0_0x294035(0x244),SYSTEM_DP_MODE=a0_0x294035(0x2d3),SYSTEM_MODES={'NORMAL':a0_0x294035(0x2a8),'VACATION':a0_0x294035(0x169),'PARTY':a0_0x294035(0x1f9),'GUEST':a0_0x294035(0x290)},AUTO_RESET_MODES=[SYSTEM_MODES[a0_0x294035(0x1c3)],SYSTEM_MODES[a0_0x294035(0x196)]],PERSONA_MAPPING={'generic':a0_0x294035(0x2d1),'senior_aal':a0_0x294035(0x28f),'family':a0_0x294035(0x2f1),'single_comfort':a0_0x294035(0x250),'security':a0_0x294035(0x222)},ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};let activeSequence=[],sequenceTimer=null;async function initZombies(_0x2bbd41){const _0x2b8f8e=a0_0x294035;try{const _0x36fefd=[_0x2b8f8e(0x266),_0x2b8f8e(0x1fa)];for(const _0xae024f of _0x36fefd){try{const _0x221075=await _0x2bbd41['getObjectAsync'](_0xae024f);if(_0x221075)await _0x2bbd41[_0x2b8f8e(0x24b)](_0xae024f);}catch(_0x50247e){}}}catch(_0x47499f){}}async function checkLicense(_0x4985f9){return!![];}async function initHistory(_0xe7782){const _0x3a7f37=a0_0x294035;try{const _0x925a09=await _0xe7782[_0x3a7f37(0x2cf)](_0x3a7f37(0x15b));_0x925a09&&_0x925a09[_0x3a7f37(0x28b)]&&(_0xe7782['eventHistory']=JSON[_0x3a7f37(0x285)](_0x925a09[_0x3a7f37(0x28b)][_0x3a7f37(0x1fd)]()));}catch(_0x1f61d2){_0xe7782['eventHistory']=[];}try{const _0x19ae93=await _0xe7782[_0x3a7f37(0x2cf)]('analysis.analysisHistory');if(_0x19ae93&&_0x19ae93[_0x3a7f37(0x28b)])_0xe7782['analysisHistory']=JSON[_0x3a7f37(0x285)](_0x19ae93['val'][_0x3a7f37(0x1fd)]());}catch(_0x3d4638){_0xe7782[_0x3a7f37(0x1a8)]=[];}if(_0xe7782[_0x3a7f37(0x27a)]&&_0xe7782[_0x3a7f37(0x27a)][_0x3a7f37(0x1ca)]>0x0){_0xe7782[_0x3a7f37(0x19d)][_0x3a7f37(0x247)](_0x3a7f37(0x281));for(let _0x1443f2=_0xe7782[_0x3a7f37(0x27a)][_0x3a7f37(0x1ca)]-0x1;_0x1443f2>=0x0;_0x1443f2--){const _0x1c5870=_0xe7782[_0x3a7f37(0x27a)][_0x1443f2];if(_0x1c5870&&_0x1c5870['id']!==undefined&&_0x1c5870[_0x3a7f37(0x1dd)]!==undefined)_0xe7782[_0x3a7f37(0x163)][_0x1c5870['id']]=_0x1c5870[_0x3a7f37(0x1dd)];}}}async function initSystemConfig(_0x2d6db8){const _0x4e3868=a0_0x294035;try{const _0x4126ac=await _0x2d6db8[_0x4e3868(0x1c6)](_0x4e3868(0x2d0));if(_0x4126ac&&_0x4126ac[_0x4e3868(0x206)])_0x2d6db8[_0x4e3868(0x25b)]={'latitude':_0x4126ac[_0x4e3868(0x206)][_0x4e3868(0x181)]||0x0,'longitude':_0x4126ac['common']['longitude']||0x0,'city':_0x4126ac[_0x4e3868(0x206)][_0x4e3868(0x27f)]||''};}catch(_0x386dc9){}}async function createAllObjects(_0x3a8e49){const _0x378277=a0_0x294035;await _0x3a8e49[_0x378277(0x18b)]('system',{'type':_0x378277(0x2be),'common':{'name':_0x378277(0x23c)},'native':{}}),await _0x3a8e49[_0x378277(0x18b)](SYSTEM_DP_MODE,{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x21f),'type':'string','role':_0x378277(0x1c5),'read':!![],'write':!![],'def':SYSTEM_MODES[_0x378277(0x17d)]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)]('system.presenceWho',{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x1e9),'type':_0x378277(0x2db),'role':_0x378277(0x1ad),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x260),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x21a),'type':_0x378277(0x2db),'role':_0x378277(0x2cd),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x15b),{'type':'state','common':{'name':_0x378277(0x22b),'type':'string','role':_0x378277(0x2cd),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x18b)](_0x378277(0x21d),{'type':_0x378277(0x2be),'common':{'name':'AI\x20Training'},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x208),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x236),'type':_0x378277(0x211),'role':_0x378277(0x25a),'read':!![],'write':!![]},'native':{}}),await _0x3a8e49['setObjectNotExistsAsync']('analysis.training.triggerHealth',{'type':_0x378277(0x1c5),'common':{'name':'Train\x20Health','type':_0x378277(0x211),'role':_0x378277(0x25a),'read':!![],'write':!![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)]('analysis.training.triggerEnergy',{'type':_0x378277(0x1c5),'common':{'name':'Train\x20Energy','type':'boolean','role':'button','read':!![],'write':!![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)]('analysis.training.triggerComfort',{'type':_0x378277(0x1c5),'common':{'name':'Train\x20Comfort','type':_0x378277(0x211),'role':_0x378277(0x25a),'read':!![],'write':!![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x25e),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x279),'type':_0x378277(0x211),'role':_0x378277(0x25a),'read':!![],'write':!![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x2bb),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x183),'type':_0x378277(0x2db),'role':_0x378277(0x1ad),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x18b)](_0x378277(0x16f),{'type':'channel','common':{'name':_0x378277(0x20c)},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)]('analysis.security.lastScore',{'type':'state','common':{'name':_0x378277(0x234),'type':_0x378277(0x2dc),'role':_0x378277(0x1dd),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x166),{'type':'state','common':{'name':'Current\x20Threshold','type':'number','role':_0x378277(0x1dd),'read':!![],'write':![],'def':0.05},'native':{}}),await _0x3a8e49['setObjectNotExistsAsync'](_0x378277(0x274),{'type':_0x378277(0x1c5),'common':{'name':'Last\x20Check','type':'string','role':_0x378277(0x1c4),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x1d2),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x243),'type':_0x378277(0x2db),'role':_0x378277(0x2cd),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x18b)](_0x378277(0x26a),{'type':_0x378277(0x2be),'common':{'name':_0x378277(0x1d0)},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x15d),{'type':'state','common':{'name':'Last\x20Check','type':_0x378277(0x2db),'role':_0x378277(0x1c4),'read':!![],'write':![]},'native':{}}),await _0x3a8e49['setObjectNotExistsAsync'](_0x378277(0x1d4),{'type':_0x378277(0x1c5),'common':{'name':'Anomaly\x20Detected','type':_0x378277(0x211),'role':'indicator','read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x298),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x288),'type':_0x378277(0x2db),'role':_0x378277(0x1ad),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x278),{'type':_0x378277(0x1c5),'common':{'name':'Trend\x20Value','type':_0x378277(0x2dc),'role':'value','read':!![],'write':![]},'native':{}}),await _0x3a8e49['setObjectNotExistsAsync'](_0x378277(0x2d7),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x1a5),'type':_0x378277(0x2db),'role':'json','read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x1ea),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x2d5),'type':'number','role':'value','read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x18b)](_0x378277(0x29e),{'type':_0x378277(0x2be),'common':{'name':_0x378277(0x2e7)},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x22c),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x1c2),'type':_0x378277(0x2db),'role':_0x378277(0x1ad),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)]('analysis.energy.heatingScore',{'type':'state','common':{'name':_0x378277(0x178),'type':_0x378277(0x2db),'role':_0x378277(0x1ad),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)]('analysis.energy.forecast',{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x1b8),'type':_0x378277(0x2db),'role':_0x378277(0x2cd),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x18b)](_0x378277(0x1da),{'type':_0x378277(0x2be),'common':{'name':_0x378277(0x1da)},'native':{}}),await _0x3a8e49[_0x378277(0x18b)](LTM_DP_RAW_LOG,{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x168),'type':_0x378277(0x2db),'role':_0x378277(0x2cd),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x18b)](LTM_DP_DAILY_DIGESTS,{'type':'state','common':{'name':'Daily\x20Digests','type':_0x378277(0x2db),'role':_0x378277(0x2cd),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x1ce),{'type':'state','common':{'name':_0x378277(0x280),'type':_0x378277(0x2db),'role':'json','read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x2e5),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x19f),'type':'string','role':_0x378277(0x2cd),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x1f6),{'type':'state','common':{'name':_0x378277(0x2de),'type':_0x378277(0x211),'role':_0x378277(0x25a),'read':!![],'write':!![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)]('analysis.triggerBriefing',{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x1bb),'type':'boolean','role':_0x378277(0x25a),'read':!![],'write':!![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x18e),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x202),'type':'boolean','role':_0x378277(0x1ee),'read':!![],'write':![]},'native':{}}),await _0x3a8e49['setObjectNotExistsAsync'](_0x378277(0x21e),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x162),'type':_0x378277(0x2db),'role':_0x378277(0x255),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x2ee),{'type':_0x378277(0x1c5),'common':{'name':'Activity\x20Summary','type':'string','role':'text','read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x1b3),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x1d3),'type':_0x378277(0x211),'role':_0x378277(0x189),'read':!![],'write':![]},'native':{}}),await _0x3a8e49['setObjectNotExistsAsync'](_0x378277(0x18f),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x15f),'type':_0x378277(0x2db),'role':_0x378277(0x1ad),'read':!![],'write':![]},'native':{}}),await _0x3a8e49['setObjectNotExistsAsync']('analysis.automation.detectedPatterns',{'type':'state','common':{'name':_0x378277(0x225),'type':'string','role':'json','read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x263),{'type':'state','common':{'name':'Target\x20ID','type':'string','role':_0x378277(0x1ad),'read':!![],'write':![]},'native':{}}),await _0x3a8e49['setObjectNotExistsAsync'](_0x378277(0x17e),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x1e6),'type':_0x378277(0x2db),'role':_0x378277(0x1ad),'read':!![],'write':![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)](_0x378277(0x28c),{'type':_0x378277(0x1c5),'common':{'name':_0x378277(0x2c6),'type':_0x378277(0x211),'role':'switch','read':!![],'write':!![]},'native':{}}),await _0x3a8e49[_0x378277(0x1a7)]('analysis.automation.triggerAction',{'type':_0x378277(0x1c5),'common':{'name':'Trigger\x20Action','type':_0x378277(0x211),'role':_0x378277(0x25a),'read':!![],'write':!![]},'native':{}});}async function loadSystemMode(_0x4755c9){const _0xb2e534=a0_0x294035;try{const _0x5a25f7=await _0x4755c9[_0xb2e534(0x2cf)](SYSTEM_DP_MODE);_0x5a25f7&&_0x5a25f7[_0xb2e534(0x28b)]&&Object[_0xb2e534(0x257)](SYSTEM_MODES)['includes'](_0x5a25f7[_0xb2e534(0x28b)])?_0x4755c9['currentSystemMode']=_0x5a25f7[_0xb2e534(0x28b)]:(_0x4755c9[_0xb2e534(0x2bf)]=SYSTEM_MODES[_0xb2e534(0x17d)],await _0x4755c9[_0xb2e534(0x2c4)](SYSTEM_DP_MODE,{'val':SYSTEM_MODES[_0xb2e534(0x17d)],'ack':!![]}));}catch(_0x388ef4){_0x4755c9[_0xb2e534(0x2bf)]=SYSTEM_MODES[_0xb2e534(0x17d)];}}async function loadRawEventLog(_0x1cc9bb){const _0x2887c8=a0_0x294035;try{const _0x29d032=await _0x1cc9bb['getStateAsync'](LTM_DP_RAW_LOG);if(_0x29d032&&_0x29d032[_0x2887c8(0x28b)])_0x1cc9bb[_0x2887c8(0x1d6)]=JSON[_0x2887c8(0x285)](_0x29d032[_0x2887c8(0x28b)]);}catch(_0x3fd8ae){_0x1cc9bb[_0x2887c8(0x1d6)]=[];}}async function saveRawEventLog(_0x310781){const _0x582223=a0_0x294035;if(_0x310781['rawEventLog'][_0x582223(0x1ca)]>RAW_LOG_MAX_SIZE)_0x310781[_0x582223(0x1d6)][_0x582223(0x29c)](0x0,_0x310781[_0x582223(0x1d6)][_0x582223(0x1ca)]-RAW_LOG_MAX_SIZE);await _0x310781[_0x582223(0x2c4)](LTM_DP_RAW_LOG,{'val':JSON[_0x582223(0x1df)](_0x310781[_0x582223(0x1d6)]),'ack':!![]});}async function loadDailyDigests(_0xd3d97){const _0x4a64ea=a0_0x294035;try{const _0x47d809=await _0xd3d97['getStateAsync'](LTM_DP_DAILY_DIGESTS);if(_0x47d809&&_0x47d809[_0x4a64ea(0x28b)])_0xd3d97['dailyDigests']=JSON['parse'](_0x47d809[_0x4a64ea(0x28b)]);}catch(_0x2c645d){_0xd3d97[_0x4a64ea(0x21c)]=[];}await updateBaselineStatus(_0xd3d97);}async function saveDailyDigests(_0x22b75b,_0x5259b1=!![]){const _0x91fafa=a0_0x294035,_0x829f93=_0x22b75b[_0x91fafa(0x23a)][_0x91fafa(0x24c)]||0x3c;_0x22b75b[_0x91fafa(0x21c)][_0x91fafa(0x1ca)]>_0x829f93&&_0x22b75b[_0x91fafa(0x21c)][_0x91fafa(0x29c)](0x0,_0x22b75b[_0x91fafa(0x21c)][_0x91fafa(0x1ca)]-_0x829f93);await _0x22b75b[_0x91fafa(0x2c4)](LTM_DP_DAILY_DIGESTS,{'val':JSON[_0x91fafa(0x1df)](_0x22b75b[_0x91fafa(0x21c)]),'ack':!![]});if(_0x5259b1)await updateBaselineStatus(_0x22b75b);}async function updateAnalysisHistory(_0x330e83,_0x5df547){const _0x1c3978=a0_0x294035;_0x330e83['analysisHistory'][_0x1c3978(0x271)](_0x5df547);if(_0x330e83[_0x1c3978(0x1a8)][_0x1c3978(0x1ca)]>HISTORY_MAX_SIZE)_0x330e83[_0x1c3978(0x1a8)]['pop']();await _0x330e83[_0x1c3978(0x2c4)](_0x1c3978(0x282),{'val':JSON[_0x1c3978(0x1df)](_0x330e83[_0x1c3978(0x1a8)]),'ack':!![]});}async function updateBaselineStatus(_0x1eb23a){const _0x11e308=a0_0x294035;if(!_0x1eb23a['isProVersion']){await _0x1eb23a[_0x11e308(0x2c4)](LTM_DP_BASELINE_STATUS,{'val':_0x11e308(0x2c9),'ack':!![]});return;}const _0xfbd6d2=_0x1eb23a[_0x11e308(0x21c)][_0x11e308(0x1ca)]>=(_0x1eb23a[_0x11e308(0x23a)][_0x11e308(0x2c2)]||0x7)?'Aktiv\x20('+_0x1eb23a[_0x11e308(0x21c)][_0x11e308(0x1ca)]+'\x20Tage)':_0x11e308(0x273)+_0x1eb23a['dailyDigests'][_0x11e308(0x1ca)]+'/'+(_0x1eb23a[_0x11e308(0x23a)][_0x11e308(0x2c2)]||0x7)+')';await _0x1eb23a[_0x11e308(0x2c4)](LTM_DP_BASELINE_STATUS,{'val':_0xfbd6d2,'ack':!![]});}async function initSensorSubscriptions(_0x4554e5){const _0x41949d=a0_0x294035,_0x3aa669=_0x4554e5[_0x41949d(0x23a)]['devices'];if(_0x3aa669)for(const _0x4c2cfc of _0x3aa669){await _0x4554e5['subscribeForeignStatesAsync'](_0x4c2cfc['id']);}}async function initPresenceSubscriptions(_0x136b14){const _0x3e7f79=a0_0x294035,_0x3ec697=_0x136b14[_0x3e7f79(0x23a)][_0x3e7f79(0x229)];if(_0x3ec697)for(const _0x5519d1 of _0x3ec697){await _0x136b14[_0x3e7f79(0x199)](_0x5519d1);}}async function setupTelegramListener(_0x54f9dc){const _0x569812=a0_0x294035,_0x1612d7=_0x54f9dc['config'][_0x569812(0x230)];if(_0x54f9dc[_0x569812(0x23a)][_0x569812(0x18d)]&&_0x1612d7)await _0x54f9dc[_0x569812(0x199)](_0x1612d7+_0x569812(0x221));}async function checkWifiPresence(_0x355801){const _0x32897a=a0_0x294035;try{const _0xcda1c4=_0x355801['config'][_0x32897a(0x229)]||[];let _0x5c7901=![];const _0x3bfdd6=[];for(const _0x2b3606 of _0xcda1c4){try{const _0x4f699a=await _0x355801['getForeignStateAsync'](_0x2b3606);_0x4f699a&&(_0x4f699a[_0x32897a(0x28b)]===!![]||_0x4f699a[_0x32897a(0x28b)]==='online'||_0x4f699a['val']===0x1)&&(_0x5c7901=!![],_0x3bfdd6[_0x32897a(0x2eb)](_0x2b3606));}catch(_0x2b72fa){}}return await _0x355801[_0x32897a(0x2c4)](_0x32897a(0x1ec),{'val':_0x3bfdd6[_0x32897a(0x297)](',\x20'),'ack':!![]}),_0x5c7901&&(_0x355801['exitTimer']&&(_0x355801['log'][_0x32897a(0x247)](_0x32897a(0x2b0)),abortExitTimer(_0x355801)),!_0x355801[_0x32897a(0x2d4)]&&_0x355801[_0x32897a(0x2bf)]===SYSTEM_MODES[_0x32897a(0x17d)]&&await setPresence(_0x355801,!![])),_0x5c7901;}catch(_0x171547){return![];}}function startExitTimer(_0x25f9ea){const _0x3bbcb2=a0_0x294035;abortExitTimer(_0x25f9ea),_0x25f9ea[_0x3bbcb2(0x296)]=!![],_0x25f9ea[_0x3bbcb2(0x2b1)]=setTimeout(()=>{const _0x4148e5=_0x3bbcb2;_0x25f9ea[_0x4148e5(0x296)]=![];},EXIT_GRACE_PERIOD_SECONDS*0x3e8),_0x25f9ea['exitTimer']=setTimeout(()=>{const _0x156f11=_0x3bbcb2;setPresence(_0x25f9ea,![]),_0x25f9ea[_0x156f11(0x24e)]=null;},EXIT_TIMER_MINUTES*0x3c*0x3e8);}function abortExitTimer(_0x3c0b0f){const _0xb1217=a0_0x294035;if(_0x3c0b0f[_0xb1217(0x24e)])clearTimeout(_0x3c0b0f[_0xb1217(0x24e)]);if(_0x3c0b0f[_0xb1217(0x2b1)])clearTimeout(_0x3c0b0f[_0xb1217(0x2b1)]);_0x3c0b0f['exitTimer']=null,_0x3c0b0f[_0xb1217(0x2b1)]=null,_0x3c0b0f['isGracePeriodActive']=![];}async function setPresence(_0x1c414c,_0x4447c9){const _0x34acc1=a0_0x294035;if(_0x1c414c['isPresent']===_0x4447c9)return;_0x1c414c[_0x34acc1(0x2d4)]=_0x4447c9,await _0x1c414c[_0x34acc1(0x2c4)](_0x34acc1(0x160),{'val':_0x4447c9,'ack':!![]});}async function executeAutomationAction(_0x597d98){const _0x481e0e=a0_0x294035;try{const _0x4ae20e=await _0x597d98[_0x481e0e(0x2cf)](_0x481e0e(0x263)),_0x4583fa=await _0x597d98[_0x481e0e(0x2cf)](_0x481e0e(0x17e));if(_0x4ae20e&&_0x4ae20e[_0x481e0e(0x28b)]&&_0x4583fa){const _0x475b89=_0x4ae20e[_0x481e0e(0x28b)];let _0x6d2fdd=_0x4583fa['val'];try{_0x6d2fdd=JSON[_0x481e0e(0x285)](_0x6d2fdd);}catch(_0x27fd5f){}_0x597d98[_0x481e0e(0x19d)][_0x481e0e(0x247)](_0x481e0e(0x218)+_0x475b89+_0x481e0e(0x210)+_0x6d2fdd),await _0x597d98[_0x481e0e(0x18a)](_0x475b89,_0x6d2fdd);}else _0x597d98[_0x481e0e(0x19d)][_0x481e0e(0x2ab)](_0x481e0e(0x217));}catch(_0xf18535){_0x597d98[_0x481e0e(0x19d)][_0x481e0e(0x16d)](_0x481e0e(0x1c7)+_0xf18535[_0x481e0e(0x173)]);}}async function processSensorEvent(_0x2891a9,_0x5d2c2e,_0x2c0106,_0x5268ff){const _0x3ed9d3=a0_0x294035;if(!_0x5268ff)return;const _0x107a88=_0x2c0106[_0x3ed9d3(0x28b)],_0x57f277=Date['now'](),_0x4a1ba4=_0x2891a9[_0x3ed9d3(0x163)][_0x5d2c2e];_0x2891a9[_0x3ed9d3(0x163)][_0x5d2c2e]=_0x107a88;if(!_0x5268ff[_0x3ed9d3(0x204)]&&_0x4a1ba4!=undefined&&_0x4a1ba4==_0x107a88)return;const _0x4ff59d=(_0x5268ff[_0x3ed9d3(0x197)]||'')['toLowerCase'](),_0x57d87f=_0x4ff59d[_0x3ed9d3(0x2bd)]('temperature')||_0x4ff59d[_0x3ed9d3(0x2bd)](_0x3ed9d3(0x1c1))||_0x4ff59d[_0x3ed9d3(0x2bd)](_0x3ed9d3(0x22d))||_0x4ff59d[_0x3ed9d3(0x2bd)]('heizung');_0x2891a9[_0x3ed9d3(0x1e5)]&&_0x57d87f&&recordThermodynamics(_0x2891a9,_0x5d2c2e,_0x107a88,_0x5268ff[_0x3ed9d3(0x167)]);const _0x135889={'timestamp':_0x57f277,'id':_0x5d2c2e,'name':_0x5268ff[_0x3ed9d3(0x1b1)],'type':_0x5268ff['type'],'location':_0x5268ff[_0x3ed9d3(0x167)],'value':_0x107a88};_0x2891a9[_0x3ed9d3(0x27a)][_0x3ed9d3(0x271)](_0x135889);if(_0x2891a9['eventHistory'][_0x3ed9d3(0x1ca)]>HISTORY_MAX_SIZE)_0x2891a9[_0x3ed9d3(0x27a)][_0x3ed9d3(0x1a3)]();await _0x2891a9['setStateAsync'](_0x3ed9d3(0x260),{'val':JSON['stringify'](_0x135889),'ack':!![]}),await _0x2891a9[_0x3ed9d3(0x2c4)](_0x3ed9d3(0x15b),{'val':JSON['stringify'](_0x2891a9[_0x3ed9d3(0x27a)]),'ack':!![]});_0x2891a9[_0x3ed9d3(0x1e5)]&&(_0x2891a9['rawEventLog'][_0x3ed9d3(0x2eb)](_0x135889),await saveRawEventLog(_0x2891a9),recordSequence(_0x2891a9,_0x135889));if(_0x5268ff[_0x3ed9d3(0x1a1)]&&_0x107a88===!![]){if(_0x2891a9[_0x3ed9d3(0x2d4)]&&!_0x2891a9['isGracePeriodActive'])startExitTimer(_0x2891a9);else{if(!_0x2891a9[_0x3ed9d3(0x2d4)])setPresence(_0x2891a9,!![]);}}else{if(_0x5268ff[_0x3ed9d3(0x197)]===_0x3ed9d3(0x270)&&_0x107a88===!![]){if(_0x2891a9[_0x3ed9d3(0x24e)])abortExitTimer(_0x2891a9);if(!_0x2891a9['isPresent']&&_0x2891a9[_0x3ed9d3(0x2bf)]===SYSTEM_MODES[_0x3ed9d3(0x17d)])setPresence(_0x2891a9,!![]);}}}function a0_0x1765(){const _0x36c7e3=['analysis.training.triggerHealth','text.alarm','ANALYZE_TREND','values','UngewÃ¶hnliches\x20Bewegungsmuster!\x20(Score:\x20','instance','button','systemConfig','unknown','ENERGY_TRAIN_RESULT','analysis.training.triggerTopology','calendarInstance','events.lastEvent','setHours','dismissAutomation','analysis.automation.targetId','sendTo','insulation','analysis.history_debug_00','911948IFnqAG','.Current.Temperature','path','analysis.health','summary','door','heating','isAlert','exports','motion','unshift','getForeignObjectsAsync','Lernphase\x20(','analysis.security.lastCheck','forEach','search','kontakt','analysis.health.trendValue','Build\x20Topology','eventHistory','âš ï¸\x20SECURITY\x20ALARM:\x20','PYTHON_EXE','toISOString','@iobroker/adapter-core','city','Sequences','Restoring\x20sensor\x20cache...','analysis.analysisHistory','.\x20WETTER:\x20','slice','parse','change_percent','data','Trend','ROLLE:\x20KI-Hausverwalter.\x20PERSONA:\x20','.forecast.current.temperature','val','analysis.automation.autoApply','analysisTimer','onUnload','PRIORITÃ„T:\x20Gesundheit/AAL.','guest','livingContext','\x0aGrund:\x20','debug','2027094ITyqeT','toFixed','isGracePeriodActive','join','analysis.health.trendDiagnosis','ðŸ›¡ï¸\x20SECURITY\x20CHECK:\x20Score\x20','filter','HEALTH_TRAIN_RESULT','splice','Kalender\x20deaktiviert.','analysis.energy','service.py','ðŸ•¸ï¸\x20Topology\x20Map\x20updated.','constructor','analysis.training.triggerEnergy','timestamp','shift','genAI','from','presence','normal','automationProposal','getForeignStateAsync','warn','[LOG]','useWeather','round','COMFORT_RESULT','WiFi\x20Presence\x20detected.','exitGraceTimer','ðŸ\x20Python\x20Pong','loc','Briefing\x20Error:\x20','simulateButler','openweathermap','communicate.request','OK:\x20','object','4tnyKCY','analysis.training.status','Sec-Training\x20started...','includes','channel','currentSystemMode','python_service','status','minDaysForBaseline','threshold','setStateAsync','cogni-living','Auto\x20Apply','fill','close','Deaktiviert\x20(Pro-Feature)','enum.rooms.*','LTM.driftAnalysis.baselineDrift','.\x20ANWESEND:\x20','json','LTM.rawEventLog','getStateAsync','system.config','Analysiere\x20ausgewogen.','replace','system.mode','isPresent','Gait\x20Speed\x20Trend','devices','analysis.health.todayVector','ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...','setupBriefingScheduler','[PYTHON]\x20','string','number','VACATION','Trigger\x20Analysis','command','setState','endsWith','ltmJob','getHours','scanDevices','LTM.trainingData.thermodynamics','./lib/scanner','Energy\x20Intelligence','PREDICT_ENERGY','stdout','write','push','N/A','Keine\x20Termine.','analysis.activitySummary','onReady','modeResetJob','Fokus\x20auf\x20Familienroutinen.','accuweather','Wetterdaten\x20deaktiviert.','1037178bZxPZr','\x0aSTB:\x20','Digest','events.history','map','analysis.health.lastCheck','âš ï¸\x20ALARM:\x20','Description','system.isPresent','dimmer','Alert\x20Reason','sensorLastValues','driftDetails','Â°C,\x20','analysis.security.currentThreshold','location','Raw\x20Log','vacation','analysis.training.triggerComfort','ANALYZE_SEQUENCE','rule','error','Topology\x20Error:\x20','analysis.security','KI-Modell\x20nicht\x20initialisiert','ðŸš€\x20Starting\x20NUUKANNI\x20Logic\x20(v0.12.10)...','trim','message','./lib/installer','switch','description','floor','Heating\x20Score','lampe','.\x20AUFGABE:\x201.\x20Gesundheit?\x202.\x20Komfort?\x20FORMAT\x20(JSON):\x20{\x20\x22isAlert\x22:\x20boolean,\x20\x22alertReason\x22:\x20\x22string\x22,\x20\x22isEmergency\x22:\x20boolean,\x20\x22summary\x22:\x20\x22string\x22,\x20\x22automationProposal\x22:\x20{\x20\x22detected\x22:\x20boolean,\x20\x22description\x22:\x20\x22string\x22,\x20\x22targetId\x22:\x20\x22string\x22,\x20\x22targetValue\x22:\x20\x22any\x22\x20}\x20}','Keine\x20Details.','payload','NORMAL','analysis.automation.targetValue','subscribeStates','details','latitude','ROLLE:\x20Data\x20Compression\x20Agent.\x20SPRACHE:\x20DE.\x20FORMAT:\x20JSON.\x20ANWEISUNG:\x20Fasse\x20Sensor-Events\x20zusammen.\x20SCHEMA:\x20{\x20\x22summary\x22:\x20\x22string\x22,\x20\x22activityLevel\x22:\x20\x22string\x22\x20}\x20\x0a\x0aEVENTS:\x0a','Training\x20Status','setupDriftAnalysisScheduler','N/A\x20(Learning)','Missing\x20data','ENERGY_PREDICT_RESULT','targetId','indicator','setForeignStateAsync','extendObjectAsync','triggerDailyDigest','notifyTelegramEnabled','analysis.isAlert','analysis.automation.description','some','âœ…\x20HEALTH\x20TRAINED.','Skipped\x20(No\x20AI\x20or\x20Data)','analysis.energy.forecast','getMinutes','10544229QIcRlK','GUEST','type','Erstelle\x20ein\x20kurzes\x20\x27Guten\x20Morgen\x27\x20Briefing\x20basierend\x20auf\x20den\x20Events\x20der\x20letzten\x20Nacht.','subscribeForeignStatesAsync','weatherInstance','getEnums','LTM.driftAnalysis.driftDetails','log','PONG','Thermodynamics','generic','isExit','LTM.baselineStatus','pop','confidence','Today\x20Vector\x20(15m)','enum','setObjectNotExistsAsync','analysisHistory','substring','rating','reason','unload','text','submitFeedback','generateContent','licht','name','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','analysis.automation.patternDetected','Gemini\x20Error:\x20','\x20->\x20','prÃ¤senz','getDate','Temperature\x20Forecast','ðŸ›‹ï¸\x20BUTLER:\x20Found\x20','analysis.lastResult','Trigger\x20Briefing','targetValue','Success:\x20','window','success','Unbekannt','temperatur','Insulation\x20Score','PARTY','date','state','getForeignObjectAsync','BUTLER\x20Execution\x20Error:\x20','No\x20instance','analysis.security.lastScore','length','baselineDrift','analysis.automation.detectedPatterns','LTM.triggerDailyDigest','LTM.trainingData.sequences','triggerBriefing','Health\x20Analysis','application/json','analysis.security.topologyMatrix','Pattern\x20Detected','analysis.health.isAnomaly','analysis.energy.heatingScore','rawEventLog','kill','Success','.Current.WeatherText','LTM','analysis.triggerBriefing','telegram','value','daswetter','stringify','ltmStbWindowDays','ðŸŒ…\x20Morning\x20Briefing:\x0a','.forecast.current.state','Training\x20Error:\x20','getTime','isProVersion','Target\x20Value','TREND_RESULT','onStateChange','Who\x20is\x20present?','analysis.health.gaitSpeed','version','system.presenceWho','HEALTH_RESULT','indicator.alarm','getFullYear','now','cancel','GAIT_RESULT','temperature','geminiApiKey','TRAIN_HEALTH','analysis.trigger','response','User\x20dismissed\x20automation\x20proposal.','party','events.history_debug_00','analysisInterval','ðŸ§ \x20Triggering\x20Security\x20Training...','toString','Gemini\x20AI\x20initialized.','ready','pythonProcess','setupModeResetScheduler','Alert\x20Status','toLowerCase','logDuplicates','./lib/scheduler','common','inactivityThresholdHours','analysis.training.triggerSecurity','1291389VoRMbX','aiPersona','Adapter','Security\x20Monitor','namespace','toLocaleTimeString','ANALYZE_GAIT','\x20=\x20','boolean','find','startsWith','driftAnalysisTimer','detected','alertReason','ðŸ¤–\x20BUTLER:\x20No\x20valid\x20target\x20ID\x20or\x20value\x20stored\x20for\x20execution.','ðŸ¤–\x20BUTLER:\x20Executing\x20Action\x20->\x20','Unknown','Last\x20raw\x20event','9527056PwlZRt','dailyDigests','analysis.training','analysis.alertReason','System\x20Mode','weatherunderground','.communicate.request','PRIORITÃ„T:\x20Sicherheit.','fenster','lastAlertState','Detected\x20Patterns','.\x20EVENTS:\x20','[RESULT]','apiKey','presenceDevices','automation.triggerAction','Event\x20History','analysis.energy.insulationScore','klima','isEmergency','autoApply','notifyTelegramInstance','cogni-living\x20adapter\x20starting\x20(v','LTM.dailyDigests','bind','Anomaly\x20Score','systemUUID','Train\x20Security','callback','stdin','diagnosis','config','analysis.automation.triggerAction','System','Started...',')\x20-\x20SAFE\x20BOOT','testContext','.\x20SYSTEM_MODE:\x20','licenseKey','5CmMbuq','Topology\x20Matrix','LTM.driftAnalysis.lastCheck','LTM.processingStatus','geminiModel','info','Regel\x20erkannt:\x20','contact','6133197KZEhOh','delObjectAsync','ltmLtbWindowDays','ROLLE:\x20Data\x20Scientist.\x20ZIEL:\x20Drift\x20erkennen.\x20SCHEMA:\x20{\x20\x22baselineDrift\x22:\x20\x22none|slight|significant|critical\x22,\x20\x22driftDetails\x22:\x20\x22string\x22\x20}\x0a\x0aLTB:\x20','exitTimer','enum.functions.*','Fokus\x20auf\x20Komfort.','Error\x20launching\x20Python:\x20','onMessage','Gemini\x20Init\x20Error:\x20'];a0_0x1765=function(){return _0x36c7e3;};return a0_0x1765();}async function recordThermodynamics(_0x4bb788,_0x1a9184,_0x2aa99d,_0x3348d3){const _0x3ad2c6=a0_0x294035,_0xa07925=await getOutsideTemperatureNumeric(_0x4bb788),_0x2c8c51=await _0x4bb788[_0x3ad2c6(0x2cf)](_0x3ad2c6(0x2e5));let _0xdb31de=[];if(_0x2c8c51&&_0x2c8c51[_0x3ad2c6(0x28b)])try{_0xdb31de=JSON[_0x3ad2c6(0x285)](_0x2c8c51[_0x3ad2c6(0x28b)]);}catch(_0x5844cb){}_0xdb31de[_0x3ad2c6(0x2eb)]({'ts':Date['now'](),'room':_0x3348d3||_0x3ad2c6(0x219),'t_in':_0x2aa99d,'t_out':_0xa07925});if(_0xdb31de[_0x3ad2c6(0x1ca)]>THERMO_LOG_SIZE)_0xdb31de[_0x3ad2c6(0x2a4)]();await _0x4bb788[_0x3ad2c6(0x2c4)](_0x3ad2c6(0x2e5),{'val':JSON['stringify'](_0xdb31de),'ack':!![]});}async function getOutsideTemperatureNumeric(_0x1fa243){const _0x84ad08=a0_0x294035;if(_0x1fa243[_0x84ad08(0x23a)]['outdoorSensorId'])try{const _0x2fa8b1=await _0x1fa243['getForeignStateAsync'](_0x1fa243[_0x84ad08(0x23a)]['outdoorSensorId']);if(_0x2fa8b1&&_0x2fa8b1[_0x84ad08(0x28b)]!==undefined&&_0x2fa8b1[_0x84ad08(0x28b)]!==null)return parseFloat(_0x2fa8b1[_0x84ad08(0x28b)]);}catch(_0x3262ea){}const _0x38a1a7=_0x1fa243[_0x84ad08(0x23a)][_0x84ad08(0x19a)];if(!_0x1fa243[_0x84ad08(0x23a)][_0x84ad08(0x2ad)]||!_0x38a1a7)return null;try{let _0xc1c3a3='';if(_0x38a1a7[_0x84ad08(0x2bd)](_0x84ad08(0x156)))_0xc1c3a3=_0x38a1a7+'.Current.Temperature';else{if(_0x38a1a7[_0x84ad08(0x2bd)](_0x84ad08(0x1de)))_0xc1c3a3=_0x38a1a7+'.NextHours.Location_1.Day_1.current.temp_value';else{if(_0x38a1a7[_0x84ad08(0x2bd)](_0x84ad08(0x2b6)))_0xc1c3a3=_0x38a1a7+_0x84ad08(0x28a);else{if(_0x38a1a7['includes'](_0x84ad08(0x220)))_0xc1c3a3=_0x38a1a7+'.forecast.current.temp';}}}if(_0xc1c3a3){const _0x17710b=await _0x1fa243[_0x84ad08(0x2aa)](_0xc1c3a3);if(_0x17710b&&_0x17710b['val']!==undefined&&_0x17710b[_0x84ad08(0x28b)]!==null)return parseFloat(_0x17710b[_0x84ad08(0x28b)]);}}catch(_0x2dd12d){}return null;}function a0_0x5bc8(_0x40ca23,_0x58799e){const _0x468f8a=a0_0x1765();return a0_0x5bc8=function(_0x6f258,_0x14eddd){_0x6f258=_0x6f258-0x156;let _0x176584=_0x468f8a[_0x6f258];return _0x176584;},a0_0x5bc8(_0x40ca23,_0x58799e);}async function recordSequence(_0x150802,_0x3a0d53){const _0x2a9e68=a0_0x294035,_0x460b60=(_0x3a0d53[_0x2a9e68(0x197)]||'')[_0x2a9e68(0x203)](),_0x203c29=[_0x2a9e68(0x270),'bewegung',_0x2a9e68(0x1b6),_0x2a9e68(0x2a7),'occupancy',_0x2a9e68(0x26c),'tÃ¼r',_0x2a9e68(0x1be),_0x2a9e68(0x223),_0x2a9e68(0x249),_0x2a9e68(0x277),'light',_0x2a9e68(0x1b0),_0x2a9e68(0x175),'schalter',_0x2a9e68(0x161),_0x2a9e68(0x179)];if(!_0x203c29[_0x2a9e68(0x190)](_0x4382b2=>_0x460b60[_0x2a9e68(0x2bd)](_0x4382b2)))return;if(!_0x3a0d53[_0x2a9e68(0x1dd)])return;if(sequenceTimer)clearTimeout(sequenceTimer);activeSequence[_0x2a9e68(0x2eb)]({'loc':_0x3a0d53['location']||_0x2a9e68(0x219),'id':_0x3a0d53['id'],'ts':Date[_0x2a9e68(0x1f0)]()}),sequenceTimer=setTimeout(async()=>{const _0x229c81=_0x2a9e68;if(activeSequence[_0x229c81(0x1ca)]>0x1)await saveCompletedSequence(_0x150802);activeSequence=[];},SEQUENCE_TIMEOUT_MS);}async function saveCompletedSequence(_0x3e8890){const _0x30aac7=a0_0x294035;try{const _0x31e344=await _0x3e8890[_0x30aac7(0x2cf)](_0x30aac7(0x1ce));let _0xbeee3f=[];if(_0x31e344&&_0x31e344[_0x30aac7(0x28b)])try{_0xbeee3f=JSON[_0x30aac7(0x285)](_0x31e344['val']);}catch(_0x1911d2){}const _0x4dc474=activeSequence[0x0]['ts'],_0x71819=activeSequence[_0x30aac7(0x15c)](_0x543a7b=>({'loc':_0x543a7b[_0x30aac7(0x2b3)],'t_delta':Math[_0x30aac7(0x2ae)]((_0x543a7b['ts']-_0x4dc474)/0x3e8)})),_0x3710c7={'timestamp':new Date(_0x4dc474)['toISOString'](),'steps':_0x71819,'duration':Math[_0x30aac7(0x2ae)]((activeSequence[activeSequence[_0x30aac7(0x1ca)]-0x1]['ts']-_0x4dc474)/0x3e8),'daytime':new Date(_0x4dc474)[_0x30aac7(0x2e3)]()};_0xbeee3f[_0x30aac7(0x2eb)](_0x3710c7);if(_0xbeee3f[_0x30aac7(0x1ca)]>MAX_TRAINING_SET_SIZE)_0xbeee3f[_0x30aac7(0x2a4)]();await _0x3e8890[_0x30aac7(0x2c4)](_0x30aac7(0x1ce),{'val':JSON[_0x30aac7(0x1df)](_0xbeee3f),'ack':!![]}),runSecurityCheck(_0x3e8890,_0x3710c7);}catch(_0x4323a7){_0x3e8890[_0x30aac7(0x19d)]['error']('[RECORDER]\x20Error:\x20'+_0x4323a7['message']);}}function runSecurityCheck(_0xefa533,_0x29c75a){const _0x1fdca1=a0_0x294035;if(!_0xefa533[_0x1fdca1(0x1e5)])return;sendToPython(_0xefa533,_0x1fdca1(0x16b),{'sequence':_0x29c75a});}async function createDailyDigest(_0x4dbb0a){const _0x545b4b=a0_0x294035;if(!_0x4dbb0a[_0x545b4b(0x1e5)])return;await _0x4dbb0a[_0x545b4b(0x2c4)](LTM_DP_STATUS,{'val':_0x545b4b(0x23d),'ack':!![]});if(!_0x4dbb0a[_0x545b4b(0x246)]||_0x4dbb0a[_0x545b4b(0x1d6)][_0x545b4b(0x1ca)]<LTM_MIN_EVENTS_FOR_COMPRESSION){await _0x4dbb0a[_0x545b4b(0x2c4)](LTM_DP_STATUS,{'val':_0x545b4b(0x192),'ack':!![]});return;}const _0x213c3d=JSON[_0x545b4b(0x285)](JSON[_0x545b4b(0x1df)](_0x4dbb0a[_0x545b4b(0x1d6)])),_0x172b32=_0x213c3d[_0x545b4b(0x1ca)],_0x37233a=_0x545b4b(0x182)+JSON[_0x545b4b(0x1df)](_0x213c3d);try{const _0xd2a53f=await _0x4dbb0a[_0x545b4b(0x246)]['generateContent'](_0x37233a),_0x4a5712=JSON[_0x545b4b(0x285)](_0xd2a53f[_0x545b4b(0x1f7)][_0x545b4b(0x1ad)]()['replace'](/```json|```/g,'')['trim']()),_0x346360={'timestamp':new Date()['toISOString'](),'eventCount':_0x172b32,'summary':_0x4a5712[_0x545b4b(0x26b)]||_0x545b4b(0x15a),'activityLevel':_0x4a5712['activityLevel']||_0x545b4b(0x2a8),'systemMode':_0x4dbb0a[_0x545b4b(0x2bf)]};_0x4dbb0a[_0x545b4b(0x21c)][_0x545b4b(0x2eb)](_0x346360),await saveDailyDigests(_0x4dbb0a),_0x4dbb0a[_0x545b4b(0x1d6)]=[],await saveRawEventLog(_0x4dbb0a),await _0x4dbb0a[_0x545b4b(0x2c4)](LTM_DP_STATUS,{'val':_0x545b4b(0x1d8),'ack':!![]});if(_0x4dbb0a[_0x545b4b(0x1e5)])sendToPython(_0x4dbb0a,'ANALYZE_HEALTH',{'digest':_0x346360});}catch(_0x164b0f){_0x4dbb0a['log'][_0x545b4b(0x16d)](_0x164b0f[_0x545b4b(0x173)]);}}async function runBaselineDriftAnalysis(_0x52416c){const _0x1c80a2=a0_0x294035;if(!_0x52416c['isProVersion']||!_0x52416c[_0x1c80a2(0x246)])return;const _0x8f0c2f=_0x52416c[_0x1c80a2(0x23a)][_0x1c80a2(0x1e0)]||0xe;if(_0x52416c[_0x1c80a2(0x21c)][_0x1c80a2(0x1ca)]<_0x8f0c2f+0x7){await _0x52416c[_0x1c80a2(0x2c4)](LTM_DP_DRIFT_STATUS,{'val':_0x1c80a2(0x185),'ack':!![]});return;}const _0x335767=_0x52416c[_0x1c80a2(0x21c)][_0x1c80a2(0x284)](-_0x8f0c2f),_0x3d84e0=_0x52416c['dailyDigests'][_0x1c80a2(0x284)](0x0,_0x52416c[_0x1c80a2(0x21c)][_0x1c80a2(0x1ca)]-_0x8f0c2f),_0x3b150d=_0x1c80a2(0x24d)+JSON[_0x1c80a2(0x1df)](_0x3d84e0)+_0x1c80a2(0x159)+JSON[_0x1c80a2(0x1df)](_0x335767);try{const _0x1c6fb4=await _0x52416c[_0x1c80a2(0x246)][_0x1c80a2(0x1af)](_0x3b150d),_0x350d2b=JSON[_0x1c80a2(0x285)](_0x1c6fb4[_0x1c80a2(0x1f7)][_0x1c80a2(0x1ad)]()[_0x1c80a2(0x2d2)](/```json|```/g,'')[_0x1c80a2(0x172)]());_0x350d2b['baselineDrift']&&(await _0x52416c[_0x1c80a2(0x2c4)](LTM_DP_DRIFT_STATUS,{'val':_0x350d2b[_0x1c80a2(0x1cb)],'ack':!![]}),await _0x52416c[_0x1c80a2(0x2c4)](LTM_DP_DRIFT_DETAILS,{'val':_0x350d2b[_0x1c80a2(0x164)],'ack':!![]}),await _0x52416c[_0x1c80a2(0x2c4)](LTM_DP_DRIFT_LAST_CHECK,{'val':Date[_0x1c80a2(0x1f0)](),'ack':!![]}));}catch(_0x744d91){}}async function sendMorningBriefing(_0x47ce48){const _0x3ac6f7=a0_0x294035;if(!_0x47ce48[_0x3ac6f7(0x246)])return;try{const _0x34b8df=_0x3ac6f7(0x198),_0x413f0e=await _0x47ce48[_0x3ac6f7(0x246)][_0x3ac6f7(0x1af)](_0x34b8df),_0x4f573c=_0x413f0e[_0x3ac6f7(0x1f7)][_0x3ac6f7(0x1ad)]();sendNotification(_0x47ce48,_0x3ac6f7(0x1e1)+_0x4f573c);}catch(_0x2a0d05){_0x47ce48['log'][_0x3ac6f7(0x16d)](_0x3ac6f7(0x2b4)+_0x2a0d05['message']);}}function stopPythonService(_0xdd6672){const _0x7ebfaa=a0_0x294035;if(_0xdd6672['pythonProcess']){try{_0xdd6672[_0x7ebfaa(0x200)][_0x7ebfaa(0x1d7)]();}catch(_0x7da52a){}_0xdd6672['pythonProcess']=null;}}function sendToPython(_0x33e9fd,_0x5b68c3,_0x31eeff={}){const _0x44b63c=a0_0x294035;if(!_0x33e9fd[_0x44b63c(0x200)]||!_0x33e9fd[_0x44b63c(0x200)][_0x44b63c(0x238)]['writable'])return;const _0x3c3f65=JSON['stringify']({'command':_0x5b68c3,..._0x31eeff});try{_0x33e9fd[_0x44b63c(0x200)][_0x44b63c(0x238)][_0x44b63c(0x2ea)](_0x3c3f65+'\x0a');}catch(_0x59e829){}}function runPythonHealthCheck(_0x55bf11){const _0x2ed736=a0_0x294035;if(!_0x55bf11[_0x2ed736(0x21c)]||_0x55bf11[_0x2ed736(0x21c)][_0x2ed736(0x1ca)]<0x2)return;const _0x42c492=_0x55bf11[_0x2ed736(0x21c)][_0x2ed736(0x15c)](_0x2759dc=>{const _0x16e6c9=_0x2ed736,_0x49d8f5=(_0x2759dc['activityLevel']||'')[_0x16e6c9(0x203)]();return ACTIVITY_LEVEL_MAP[_0x49d8f5]||0x32;});sendToPython(_0x55bf11,_0x2ed736(0x256),{'values':_0x42c492,'tag':'Activity-Level'});}function handlePythonResult(_0x4a46a6,_0x430e6e){const _0x144965=a0_0x294035;if(_0x430e6e[_0x144965(0x197)]===_0x144965(0x19e))_0x4a46a6[_0x144965(0x19d)][_0x144965(0x293)](_0x144965(0x2b2));else{if(_0x430e6e[_0x144965(0x197)]==='SECURITY_RESULT'){const {anomaly_score:_0x394239,is_anomaly:_0xf6f5f2,threshold:_0x36d81d,explanation:_0x2431a4}=_0x430e6e[_0x144965(0x17c)];_0x4a46a6[_0x144965(0x19d)][_0x144965(0x247)](_0x144965(0x299)+_0x394239['toFixed'](0x5)+_0x144965(0x1b5)+(_0xf6f5f2?'ANOMALY':'OK')),_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x1c9),{'val':_0x394239,'ack':!![]}),_0x4a46a6[_0x144965(0x2c4)]('analysis.security.lastCheck',{'val':new Date()[_0x144965(0x27d)](),'ack':!![]});if(_0x36d81d)_0x4a46a6['setStateAsync']('analysis.security.currentThreshold',{'val':_0x36d81d,'ack':!![]});if(_0xf6f5f2){let _0x212d9c=_0x144965(0x258)+_0x394239['toFixed'](0x4)+')';if(_0x2431a4&&_0x2431a4!==_0x144965(0x219))_0x212d9c+=_0x144965(0x292)+_0x2431a4;_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x18e),{'val':!![],'ack':!![]}),_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x21e),{'val':_0x212d9c,'ack':!![]}),sendNotification(_0x4a46a6,_0x144965(0x27b)+_0x212d9c,![],!![]);}}else{if(_0x430e6e[_0x144965(0x197)]==='TRAINING_COMPLETE'){const _0x4d9ade=_0x430e6e[_0x144965(0x17c)]['details']||'',_0x19d6b8=_0x430e6e[_0x144965(0x17c)][_0x144965(0x2c3)],_0x4e5e6f=_0x430e6e[_0x144965(0x17c)][_0x144965(0x1bf)]?_0x144965(0x1bd)+new Date()[_0x144965(0x20e)]()+'\x20('+_0x4d9ade+')':'Failed:\x20'+_0x430e6e[_0x144965(0x17c)][_0x144965(0x1ab)];_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x2bb),{'val':_0x4e5e6f,'ack':!![]});if(_0x430e6e[_0x144965(0x17c)][_0x144965(0x1bf)]&&_0x19d6b8)_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x166),{'val':_0x19d6b8,'ack':!![]});}else{if(_0x430e6e[_0x144965(0x197)]===_0x144965(0x2af)){const {patterns:_0x35de84}=_0x430e6e[_0x144965(0x17c)];if(_0x35de84&&_0x35de84[_0x144965(0x1ca)]>0x0){_0x4a46a6[_0x144965(0x19d)][_0x144965(0x247)](_0x144965(0x1b9)+_0x35de84['length']+'\x20new\x20patterns.'),_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x1cc),{'val':JSON[_0x144965(0x1df)](_0x35de84),'ack':!![]});const _0x53067d=_0x35de84[0x0],_0x531a9e=_0x144965(0x248)+_0x53067d[_0x144965(0x16c)]+'\x20('+(_0x53067d[_0x144965(0x1a4)]*0x64)[_0x144965(0x295)](0x0)+'%)';_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x1b3),{'val':!![],'ack':!![]}),_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x18f),{'val':_0x531a9e,'ack':!![]});}else _0x4a46a6[_0x144965(0x19d)][_0x144965(0x247)]('ðŸ›‹ï¸\x20BUTLER:\x20Keine\x20neuen\x20Muster\x20gefunden.'),_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x1b3),{'val':![],'ack':!![]}),_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x1cc),{'val':'[]','ack':!![]});}else{if(_0x430e6e['type']===_0x144965(0x25d)){if(_0x430e6e[_0x144965(0x17c)][_0x144965(0x1bf)])try{const _0x184009=JSON[_0x144965(0x285)](_0x430e6e[_0x144965(0x17c)][_0x144965(0x180)]);if(_0x184009[_0x144965(0x265)])_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x22c),{'val':JSON['stringify'](_0x184009['insulation']),'ack':!![]});if(_0x184009['heating'])_0x4a46a6['setStateAsync'](_0x144965(0x1d5),{'val':JSON['stringify'](_0x184009[_0x144965(0x26d)]),'ack':!![]});}catch(_0x29716e){}}else{if(_0x430e6e['type']===_0x144965(0x29b)){if(_0x430e6e[_0x144965(0x17c)]['success'])_0x4a46a6[_0x144965(0x19d)][_0x144965(0x247)](_0x144965(0x191));}else{if(_0x430e6e[_0x144965(0x197)]===_0x144965(0x1ed))_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x15d),{'val':new Date()[_0x144965(0x27d)](),'ack':!![]}),_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x1d4),{'val':_0x430e6e['payload']['is_anomaly'],'ack':!![]});else{if(_0x430e6e[_0x144965(0x197)]===_0x144965(0x1e7))_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x298),{'val':_0x430e6e[_0x144965(0x17c)][_0x144965(0x239)],'ack':!![]}),_0x4a46a6['setStateAsync'](_0x144965(0x278),{'val':_0x430e6e[_0x144965(0x17c)][_0x144965(0x286)],'ack':!![]});else{if(_0x430e6e[_0x144965(0x197)]===_0x144965(0x1f2)){const {speed_trend:_0x3fc538}=_0x430e6e['payload'];if(_0x3fc538!==undefined)_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x1ea),{'val':_0x3fc538,'ack':!![]});}else{if(_0x430e6e[_0x144965(0x197)]===_0x144965(0x187)){const {forecast:_0xb1f414}=_0x430e6e[_0x144965(0x17c)];if(_0xb1f414)_0x4a46a6['setStateAsync'](_0x144965(0x193),{'val':JSON[_0x144965(0x1df)](_0xb1f414),'ack':!![]});}else{if(_0x430e6e[_0x144965(0x197)]==='TOPOLOGY_RESULT'){const {data:_0x1f55bf}=_0x430e6e[_0x144965(0x17c)];_0x1f55bf&&(_0x4a46a6[_0x144965(0x19d)][_0x144965(0x247)](_0x144965(0x2a0)),_0x4a46a6[_0x144965(0x2c4)](_0x144965(0x1d2),{'val':JSON[_0x144965(0x1df)](_0x1f55bf),'ack':!![]}));}}}}}}}}}}}}function startPythonService(_0x2bac54){const _0x8d0163=a0_0x294035;let _0x176d49='python3';if(fs['existsSync'](installer[_0x8d0163(0x27c)]))_0x176d49=installer[_0x8d0163(0x27c)];try{const _0x3b033f=path[_0x8d0163(0x297)](__dirname,_0x8d0163(0x2c0),_0x8d0163(0x29f));_0x2bac54['pythonProcess']=spawn(_0x176d49,[_0x3b033f]),_0x2bac54[_0x8d0163(0x200)][_0x8d0163(0x2e9)]['on'](_0x8d0163(0x287),_0x270f81=>{const _0x76f166=_0x270f81['toString']()['split']('\x0a');_0x76f166['forEach'](_0x42d49e=>{const _0x2fd351=a0_0x5bc8,_0xa93d8e=_0x42d49e[_0x2fd351(0x172)]();if(!_0xa93d8e)return;if(_0xa93d8e['startsWith'](_0x2fd351(0x2ac)))_0x2bac54[_0x2fd351(0x19d)]['debug'](_0x2fd351(0x2da)+_0xa93d8e[_0x2fd351(0x1a9)](0x5)[_0x2fd351(0x172)]());else{if(_0xa93d8e[_0x2fd351(0x213)](_0x2fd351(0x227)))try{const _0xd84ceb=JSON[_0x2fd351(0x285)](_0xa93d8e[_0x2fd351(0x1a9)](0x8)['trim']());handlePythonResult(_0x2bac54,_0xd84ceb);}catch(_0x46dc90){}}});}),_0x2bac54['pythonProcess']['on'](_0x8d0163(0x2c8),_0x4d494c=>{_0x2bac54['pythonProcess']=null;});}catch(_0xd939d8){_0x2bac54[_0x8d0163(0x19d)][_0x8d0163(0x16d)](_0x8d0163(0x251)+_0xd939d8['message']);}}async function runAutopilot(_0xdaea1a){const _0x2260ad=a0_0x294035;_0xdaea1a[_0x2260ad(0x19d)][_0x2260ad(0x293)](_0x2260ad(0x1b2)),await runGeminiAnalysis(_0xdaea1a),updateHealthVector(_0xdaea1a),triggerGaitAnalysis(_0xdaea1a),triggerEnergyPrediction(_0xdaea1a);}async function triggerGaitAnalysis(_0x4e768c){const _0x321068=a0_0x294035;if(!_0x4e768c['isProVersion'])return;try{const _0x5c17eb=await _0x4e768c[_0x321068(0x2cf)](_0x321068(0x1ce));_0x5c17eb&&_0x5c17eb[_0x321068(0x28b)]&&sendToPython(_0x4e768c,_0x321068(0x20f),{'sequences':JSON['parse'](_0x5c17eb[_0x321068(0x28b)])});}catch(_0x470d99){}}async function triggerEnergyPrediction(_0x4ab43f){const _0x547e8c=a0_0x294035;if(!_0x4ab43f[_0x547e8c(0x1e5)])return;try{const _0x570679=await getOutsideTemperatureNumeric(_0x4ab43f);if(_0x570679===null)return;const _0x4c05b1={},_0x16b1fa=_0x4ab43f[_0x547e8c(0x23a)]['devices']||[];for(const _0x38110c of _0x16b1fa){if(_0x38110c['type']===_0x547e8c(0x1f3)&&_0x38110c[_0x547e8c(0x167)]){const _0x427fdc=_0x4ab43f[_0x547e8c(0x163)][_0x38110c['id']];if(_0x427fdc!==undefined)_0x4c05b1[_0x38110c['location']]=_0x427fdc;}}Object['keys'](_0x4c05b1)[_0x547e8c(0x1ca)]>0x0&&sendToPython(_0x4ab43f,_0x547e8c(0x2e8),{'current_temps':_0x4c05b1,'t_out':_0x570679});}catch(_0x13c469){}}function updateHealthVector(_0x43f653){const _0x4aabbc=a0_0x294035;if(!_0x43f653[_0x4aabbc(0x1d6)]||_0x43f653[_0x4aabbc(0x1d6)][_0x4aabbc(0x1ca)]===0x0)return;const _0x1c18a5=new Array(0x60)[_0x4aabbc(0x2c7)](0x0),_0x3f8aa3=new Date()[_0x4aabbc(0x261)](0x0,0x0,0x0,0x0);_0x43f653[_0x4aabbc(0x1d6)]['forEach'](_0x4999b5=>{const _0x5f3250=_0x4aabbc,_0x855e16=new Date(_0x4999b5[_0x5f3250(0x2a3)]);if(_0x855e16['getTime']()>=_0x3f8aa3){const _0x5d1992=_0x855e16[_0x5f3250(0x2e3)](),_0x4b9ea9=_0x855e16[_0x5f3250(0x194)](),_0x158aab=_0x5d1992*0x4+Math[_0x5f3250(0x177)](_0x4b9ea9/0xf);if(_0x158aab>=0x0&&_0x158aab<0x60)_0x1c18a5[_0x158aab]++;}}),_0x43f653[_0x4aabbc(0x2c4)]('analysis.health.todayVector',{'val':JSON[_0x4aabbc(0x1df)](_0x1c18a5),'ack':!![]});}async function getWeatherContext(_0xe44e4c){const _0x4ba48b=a0_0x294035;if(!_0xe44e4c[_0x4ba48b(0x23a)]['useWeather']||!_0xe44e4c[_0x4ba48b(0x23a)][_0x4ba48b(0x19a)])return _0x4ba48b(0x157);try{const _0x19b785=_0xe44e4c[_0x4ba48b(0x23a)][_0x4ba48b(0x19a)];let _0x3becad=await _0xe44e4c['getForeignStateAsync'](_0x19b785+_0x4ba48b(0x268));if(!_0x3becad)_0x3becad=await _0xe44e4c[_0x4ba48b(0x2aa)](_0x19b785+'.forecast.current.temperature');let _0x4b21e7=await _0xe44e4c[_0x4ba48b(0x2aa)](_0x19b785+_0x4ba48b(0x1d9));if(!_0x4b21e7)_0x4b21e7=await _0xe44e4c[_0x4ba48b(0x2aa)](_0x19b785+_0x4ba48b(0x1e2));if(_0x3becad&&_0x4b21e7)return _0x3becad[_0x4ba48b(0x28b)]+_0x4ba48b(0x165)+_0x4b21e7[_0x4ba48b(0x28b)];}catch(_0x391470){}return'Keine\x20Wetterdaten\x20verfÃ¼gbar.';}async function getCalendarContext(_0x13e437){const _0x4597a9=a0_0x294035;if(!_0x13e437[_0x4597a9(0x23a)]['useCalendar']||!_0x13e437[_0x4597a9(0x23a)][_0x4597a9(0x25f)])return _0x4597a9(0x29d);return _0x4597a9(0x2ed);}async function getCalendarNames(_0x116f95,_0x2cf5fc){return[];}async function saveFeedback(_0xf104a5,_0xcce2a7){const _0x3a38a2=a0_0x294035;_0xf104a5['log'][_0x3a38a2(0x247)]('ðŸ“\x20Feedback\x20received:\x20'+_0xcce2a7[_0x3a38a2(0x1aa)]);}async function runGeminiAnalysis(_0x43bf8c,_0x4c9e1a=''){const _0x358f1e=a0_0x294035;if(!_0x43bf8c['geminiModel'])return;if(_0x43bf8c[_0x358f1e(0x27a)]['length']===0x0)return;const _0x30f497=_0x43bf8c['eventHistory'][_0x358f1e(0x284)](0x0,0xf),_0x17e17c=await getWeatherContext(_0x43bf8c),_0x22f59e=_0x43bf8c[_0x358f1e(0x2bf)],_0x446f51=PERSONA_MAPPING[_0x43bf8c[_0x358f1e(0x23a)][_0x358f1e(0x20a)]||_0x358f1e(0x1a0)],_0x165a56=_0x43bf8c['config'][_0x358f1e(0x291)]||_0x358f1e(0x17b);let _0x13fbe8=_0x358f1e(0x1c0);try{const _0x49c6e1=await _0x43bf8c[_0x358f1e(0x2cf)]('system.presenceWho');if(_0x49c6e1&&_0x49c6e1[_0x358f1e(0x28b)])_0x13fbe8=_0x49c6e1[_0x358f1e(0x28b)];}catch(_0x57e901){}let _0x3028b6=![];try{const _0x281722=await _0x43bf8c[_0x358f1e(0x2cf)](_0x358f1e(0x28c));if(_0x281722&&_0x281722[_0x358f1e(0x28b)])_0x3028b6=!![];}catch(_0x52a0ca){}const _0x5521dd=_0x358f1e(0x289)+_0x446f51+'.\x20KONTEXT:\x20'+_0x165a56+_0x358f1e(0x240)+_0x22f59e+_0x358f1e(0x283)+_0x17e17c+_0x358f1e(0x2cc)+_0x13fbe8+_0x358f1e(0x226)+JSON[_0x358f1e(0x1df)](_0x30f497)+'.\x20EMERGENCY:\x20'+_0x4c9e1a+_0x358f1e(0x17a);try{const _0x4ab534=await _0x43bf8c[_0x358f1e(0x246)][_0x358f1e(0x1af)](_0x5521dd),_0x25d56b=JSON[_0x358f1e(0x285)](_0x4ab534[_0x358f1e(0x1f7)][_0x358f1e(0x1ad)]()[_0x358f1e(0x2d2)](/```json|```/g,'')[_0x358f1e(0x172)]());await _0x43bf8c[_0x358f1e(0x2c4)](_0x358f1e(0x1ba),{'val':JSON[_0x358f1e(0x1df)](_0x25d56b),'ack':!![]});if(_0x25d56b[_0x358f1e(0x26b)])await _0x43bf8c[_0x358f1e(0x2c4)]('analysis.activitySummary',{'val':_0x25d56b[_0x358f1e(0x26b)],'ack':!![]});const _0x268e5a={'timestamp':Date[_0x358f1e(0x1f0)](),'id':Date[_0x358f1e(0x1f0)]()[_0x358f1e(0x1fd)](),'analysis':{'activity':{'summary':_0x25d56b[_0x358f1e(0x26b)],'isAlert':_0x25d56b[_0x358f1e(0x26e)],'alertReason':_0x25d56b[_0x358f1e(0x216)]},'comfort':{'automationProposal':_0x25d56b['automationProposal']}}};await updateAnalysisHistory(_0x43bf8c,_0x268e5a);const _0x42118c=_0x25d56b['isAlert']||![];_0x42118c!==_0x43bf8c[_0x358f1e(0x224)]&&(await _0x43bf8c[_0x358f1e(0x2c4)](_0x358f1e(0x18e),{'val':_0x42118c,'ack':!![]}),_0x43bf8c[_0x358f1e(0x224)]=_0x42118c,_0x42118c&&(await _0x43bf8c['setStateAsync'](_0x358f1e(0x21e),{'val':_0x25d56b[_0x358f1e(0x216)],'ack':!![]}),sendNotification(_0x43bf8c,_0x358f1e(0x15e)+_0x25d56b[_0x358f1e(0x216)],![],_0x25d56b[_0x358f1e(0x22e)])));if(_0x25d56b[_0x358f1e(0x2a9)]&&_0x25d56b['automationProposal'][_0x358f1e(0x215)]){await _0x43bf8c[_0x358f1e(0x2c4)](_0x358f1e(0x1b3),{'val':!![],'ack':!![]}),await _0x43bf8c[_0x358f1e(0x2c4)](_0x358f1e(0x18f),{'val':_0x25d56b['automationProposal'][_0x358f1e(0x176)],'ack':!![]}),await _0x43bf8c['setStateAsync'](_0x358f1e(0x263),{'val':_0x25d56b[_0x358f1e(0x2a9)][_0x358f1e(0x188)],'ack':!![]}),await _0x43bf8c[_0x358f1e(0x2c4)]('analysis.automation.targetValue',{'val':JSON[_0x358f1e(0x1df)](_0x25d56b[_0x358f1e(0x2a9)]['targetValue']),'ack':!![]});if(_0x3028b6)executeAutomationAction(_0x43bf8c);}}catch(_0x88c437){_0x43bf8c['log'][_0x358f1e(0x16d)](_0x358f1e(0x1b4)+_0x88c437[_0x358f1e(0x173)]);}}async function startSystem(_0xb30a59){const _0x48f3fb=a0_0x294035;_0xb30a59[_0x48f3fb(0x19d)][_0x48f3fb(0x247)](_0x48f3fb(0x171)),await initZombies(_0xb30a59);try{_0xb30a59['isProVersion']=await checkLicense(_0xb30a59[_0x48f3fb(0x23a)][_0x48f3fb(0x241)]);}catch(_0xa0b06c){}if(!_0xb30a59[_0x48f3fb(0x23a)][_0x48f3fb(0x207)]||_0xb30a59[_0x48f3fb(0x23a)][_0x48f3fb(0x207)]<0.1)_0xb30a59[_0x48f3fb(0x23a)][_0x48f3fb(0x207)]=0xc;await initHistory(_0xb30a59),await initSystemConfig(_0xb30a59);if(_0xb30a59[_0x48f3fb(0x23a)][_0x48f3fb(0x1f4)])try{_0xb30a59[_0x48f3fb(0x2a5)]=new GoogleGenerativeAI(_0xb30a59['config'][_0x48f3fb(0x1f4)]),_0xb30a59['geminiModel']=_0xb30a59[_0x48f3fb(0x2a5)]['getGenerativeModel']({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':_0x48f3fb(0x1d1)}}),_0xb30a59[_0x48f3fb(0x19d)]['info'](_0x48f3fb(0x1fe));}catch(_0x4760f7){_0xb30a59[_0x48f3fb(0x19d)][_0x48f3fb(0x16d)](_0x48f3fb(0x253)+_0x4760f7[_0x48f3fb(0x173)]);}await createAllObjects(_0xb30a59),await loadSystemMode(_0xb30a59),await loadRawEventLog(_0xb30a59),await loadDailyDigests(_0xb30a59),_0xb30a59['subscribeStates'](_0x48f3fb(0x1f6)),_0xb30a59['subscribeStates'](LTM_DP_TRIGGER_DIGEST),_0xb30a59[_0x48f3fb(0x17f)](_0x48f3fb(0x2d3)),_0xb30a59[_0x48f3fb(0x17f)](_0x48f3fb(0x1db)),_0xb30a59['subscribeStates'](_0x48f3fb(0x23b)),_0xb30a59[_0x48f3fb(0x17f)](_0x48f3fb(0x28c)),_0xb30a59[_0x48f3fb(0x17f)]('analysis.training.triggerSecurity'),_0xb30a59[_0x48f3fb(0x17f)](_0x48f3fb(0x254)),_0xb30a59['subscribeStates'](_0x48f3fb(0x2a2)),_0xb30a59[_0x48f3fb(0x17f)](_0x48f3fb(0x16a)),_0xb30a59[_0x48f3fb(0x17f)](_0x48f3fb(0x25e)),await initSensorSubscriptions(_0xb30a59),await initPresenceSubscriptions(_0xb30a59),await setupTelegramListener(_0xb30a59),setTimeout(()=>checkWifiPresence(_0xb30a59),0x1388);if(_0xb30a59['analysisTimer'])clearInterval(_0xb30a59[_0x48f3fb(0x28d)]);const _0x440949=_0xb30a59[_0x48f3fb(0x23a)][_0x48f3fb(0x1fb)]||0xf;_0x440949>0x0&&(_0xb30a59['analysisTimer']=setInterval(()=>{runAutopilot(_0xb30a59);},_0x440949*0x3c*0x3e8)),schedulers['setupLtmScheduler'](_0xb30a59,()=>createDailyDigest(_0xb30a59)),schedulers[_0x48f3fb(0x201)](_0xb30a59),schedulers[_0x48f3fb(0x184)](_0xb30a59,()=>runBaselineDriftAnalysis(_0xb30a59)),schedulers[_0x48f3fb(0x2d9)](_0xb30a59,()=>sendMorningBriefing(_0xb30a59)),startPythonService(_0xb30a59),setTimeout(()=>{const _0x5ede7a=_0x48f3fb;_0xb30a59[_0x5ede7a(0x200)]&&(runPythonHealthCheck(_0xb30a59),triggerGaitAnalysis(_0xb30a59),triggerEnergyPrediction(_0xb30a59)),updateHealthVector(_0xb30a59);},0x1388);}class CogniLiving extends utils[a0_0x294035(0x20b)]{constructor(_0x49ab16){const _0x536d65=a0_0x294035;super({..._0x49ab16,'name':_0x536d65(0x2c5)}),this['eventHistory']=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x536d65(0x21c)]=[],this[_0x536d65(0x163)]={},this['systemConfig']={'latitude':0x0,'longitude':0x0,'city':''},this[_0x536d65(0x2d4)]=!![],this[_0x536d65(0x24e)]=null,this['exitGraceTimer']=null,this[_0x536d65(0x296)]=![],this['genAI']=null,this[_0x536d65(0x246)]=null,this[_0x536d65(0x2bf)]=SYSTEM_MODES[_0x536d65(0x17d)],this[_0x536d65(0x1e5)]=![],this[_0x536d65(0x224)]=![],this[_0x536d65(0x235)]=_0x536d65(0x25c),this['analysisTimer']=null,this['ltmJob']=null,this[_0x536d65(0x2f0)]=null,this[_0x536d65(0x214)]=null,this['briefingJob']=null,this['pythonProcess']=null,this['dependencyInstallInProgress']=![],this['on'](_0x536d65(0x1ff),this[_0x536d65(0x2ef)]['bind'](this)),this['on']('stateChange',this[_0x536d65(0x1e8)]['bind'](this)),this['on'](_0x536d65(0x1ac),this[_0x536d65(0x28e)][_0x536d65(0x233)](this)),this['on'](_0x536d65(0x173),this[_0x536d65(0x252)][_0x536d65(0x233)](this));}async[a0_0x294035(0x2ef)](){const _0x4897df=a0_0x294035;this[_0x4897df(0x19d)][_0x4897df(0x247)](_0x4897df(0x231)+this[_0x4897df(0x1eb)]+_0x4897df(0x23e));if(!installer['checkAndInstall'](this,()=>startSystem(this)))return;}[a0_0x294035(0x28e)](_0x49a1d0){const _0x448e6d=a0_0x294035;if(this[_0x448e6d(0x28d)])clearInterval(this[_0x448e6d(0x28d)]);if(this['driftAnalysisTimer'])clearInterval(this[_0x448e6d(0x214)]);if(this[_0x448e6d(0x2e2)])this[_0x448e6d(0x2e2)][_0x448e6d(0x1f1)]();if(this[_0x448e6d(0x2f0)])this['modeResetJob']['cancel']();if(this['briefingJob'])this['briefingJob'][_0x448e6d(0x1f1)]();if(this[_0x448e6d(0x24e)])clearTimeout(this['exitTimer']);if(this[_0x448e6d(0x2b1)])clearTimeout(this[_0x448e6d(0x2b1)]);stopPythonService(this),_0x49a1d0();}async['onStateChange'](_0x203248,_0x3448e6){const _0x45fad9=a0_0x294035;if(!_0x3448e6||this['dependencyInstallInProgress'])return;if(_0x203248[_0x45fad9(0x2bd)](_0x45fad9(0x1dc))&&_0x203248[_0x45fad9(0x2e1)](_0x45fad9(0x2b7))&&_0x3448e6[_0x45fad9(0x28b)]){await handleTelegramResponse(this,_0x3448e6[_0x45fad9(0x28b)]);return;}if(_0x203248===this[_0x45fad9(0x20d)]+'.'+SYSTEM_DP_MODE){if(_0x3448e6[_0x45fad9(0x28b)]&&Object[_0x45fad9(0x257)](SYSTEM_MODES)['includes'](_0x3448e6[_0x45fad9(0x28b)])){this['currentSystemMode']=_0x3448e6[_0x45fad9(0x28b)];if(_0x3448e6['val']===SYSTEM_MODES[_0x45fad9(0x2dd)])await setPresence(this,![]);else await setPresence(this,!![]);}if(!_0x3448e6['ack'])this[_0x45fad9(0x2e0)](_0x203248,{'val':this[_0x45fad9(0x2bf)],'ack':!![]});return;}if(!_0x3448e6['ack']){_0x203248[_0x45fad9(0x2bd)]('analysis.trigger')&&_0x3448e6['val']&&(this[_0x45fad9(0x2e0)](_0x203248,{'val':![],'ack':!![]}),runGeminiAnalysis(this));if(_0x203248[_0x45fad9(0x2bd)](_0x45fad9(0x18c))&&_0x3448e6[_0x45fad9(0x28b)]){this[_0x45fad9(0x2e0)](_0x203248,{'val':![],'ack':!![]});if(this[_0x45fad9(0x1e5)])createDailyDigest(this);}_0x203248[_0x45fad9(0x2bd)](_0x45fad9(0x1cf))&&_0x3448e6[_0x45fad9(0x28b)]&&(this[_0x45fad9(0x2e0)](_0x203248,{'val':![],'ack':!![]}),sendMorningBriefing(this));_0x203248['includes'](_0x45fad9(0x22a))&&_0x3448e6[_0x45fad9(0x28b)]&&(this[_0x45fad9(0x2e0)](_0x203248,{'val':![],'ack':!![]}),executeAutomationAction(this));if(_0x203248['includes'](_0x45fad9(0x208))&&_0x3448e6['val']){this['setState'](_0x203248,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0xd0d28e=await this['getStateAsync']('LTM.trainingData.sequences');if(_0xd0d28e&&_0xd0d28e['val']){const _0x2c4a3e=JSON[_0x45fad9(0x285)](_0xd0d28e[_0x45fad9(0x28b)]);this[_0x45fad9(0x19d)][_0x45fad9(0x247)](_0x45fad9(0x1fc)),this['setStateAsync'](_0x45fad9(0x2bb),{'val':_0x45fad9(0x2bc),'ack':!![]}),sendToPython(this,'TRAIN_SECURITY',{'sequences':_0x2c4a3e});}}catch(_0x1afef6){this['log'][_0x45fad9(0x16d)](_0x45fad9(0x1e3)+_0x1afef6[_0x45fad9(0x173)]);}}if(_0x203248[_0x45fad9(0x2bd)](_0x45fad9(0x254))&&_0x3448e6['val']){this[_0x45fad9(0x2e0)](_0x203248,{'val':![],'ack':!![]});if(this[_0x45fad9(0x1e5)])try{const _0x1d0520=await this['getStateAsync'](LTM_DP_DAILY_DIGESTS);if(_0x1d0520&&_0x1d0520['val'])sendToPython(this,_0x45fad9(0x1f5),{'digests':JSON[_0x45fad9(0x285)](_0x1d0520[_0x45fad9(0x28b)])});}catch(_0x1eff0a){}}if(_0x203248[_0x45fad9(0x2bd)](_0x45fad9(0x2a2))&&_0x3448e6[_0x45fad9(0x28b)]){this[_0x45fad9(0x2e0)](_0x203248,{'val':![],'ack':!![]});if(this[_0x45fad9(0x1e5)])try{const _0x3aecd2=await this[_0x45fad9(0x2cf)](_0x45fad9(0x2e5));if(_0x3aecd2&&_0x3aecd2[_0x45fad9(0x28b)])sendToPython(this,'TRAIN_ENERGY',{'points':JSON[_0x45fad9(0x285)](_0x3aecd2[_0x45fad9(0x28b)])});}catch(_0x22bd4c){}}if(_0x203248[_0x45fad9(0x2bd)](_0x45fad9(0x16a))&&_0x3448e6[_0x45fad9(0x28b)]){this['setState'](_0x203248,{'val':![],'ack':!![]});if(this[_0x45fad9(0x1e5)])try{const _0x5ef27b=await this[_0x45fad9(0x2cf)](LTM_DP_RAW_LOG);_0x5ef27b&&_0x5ef27b[_0x45fad9(0x28b)]&&(this[_0x45fad9(0x19d)][_0x45fad9(0x247)](_0x45fad9(0x2d8)),sendToPython(this,'TRAIN_COMFORT',{'events':JSON[_0x45fad9(0x285)](_0x5ef27b[_0x45fad9(0x28b)])}));}catch(_0x30879e){}}if(_0x203248[_0x45fad9(0x2bd)](_0x45fad9(0x25e))&&_0x3448e6[_0x45fad9(0x28b)]){this[_0x45fad9(0x2e0)](_0x203248,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x1374e3=await this[_0x45fad9(0x2cf)](_0x45fad9(0x1ce));if(_0x1374e3&&_0x1374e3[_0x45fad9(0x28b)]){const _0x3a0db3=JSON[_0x45fad9(0x285)](_0x1374e3[_0x45fad9(0x28b)]);this[_0x45fad9(0x19d)]['info']('ðŸ•¸ï¸\x20Building\x20Topology\x20Matrix...'),sendToPython(this,'BUILD_TOPOLOGY',{'sequences':_0x3a0db3});}}catch(_0x1a5bef){this[_0x45fad9(0x19d)][_0x45fad9(0x16d)](_0x45fad9(0x16e)+_0x1a5bef[_0x45fad9(0x173)]);}}return;}if(this[_0x45fad9(0x23a)][_0x45fad9(0x229)]&&this[_0x45fad9(0x23a)]['presenceDevices'][_0x45fad9(0x2bd)](_0x203248)){await checkWifiPresence(this);return;}const _0x5cb454=(this[_0x45fad9(0x23a)][_0x45fad9(0x2d6)]||[])[_0x45fad9(0x212)](_0x5be9d1=>_0x5be9d1['id']===_0x203248);if(_0x5cb454)processSensorEvent(this,_0x203248,_0x3448e6,_0x5cb454);}async[a0_0x294035(0x252)](_0x37389b){const _0x554378=a0_0x294035;if(typeof _0x37389b==='object'&&_0x37389b[_0x554378(0x173)]){if(_0x37389b[_0x554378(0x2df)]==='testApiKey'){const _0x3129e8=_0x37389b[_0x554378(0x173)][_0x554378(0x228)]||this[_0x554378(0x23a)][_0x554378(0x1f4)];if(!_0x3129e8)return this[_0x554378(0x264)](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':![],'message':'Kein\x20API\x20Key.'},_0x37389b[_0x554378(0x237)]);try{const _0x2bcbc6=new GoogleGenerativeAI(_0x3129e8),_0x3f10d2=_0x2bcbc6['getGenerativeModel']({'model':GEMINI_MODEL}),_0x1b59a6=await _0x3f10d2[_0x554378(0x1af)]('Hi');this[_0x554378(0x264)](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':!![],'message':_0x554378(0x2b8)+_0x1b59a6['response'][_0x554378(0x1ad)]()},_0x37389b['callback']);}catch(_0x115e3a){this['sendTo'](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':![],'message':'Err:\x20'+_0x115e3a[_0x554378(0x173)]},_0x37389b['callback']);}}else{if(_0x37389b['command']===_0x554378(0x23f)){const _0x31fc97=await getWeatherContext(this),_0x4b2e31=await getCalendarContext(this);this[_0x554378(0x264)](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':!![],'weather':_0x31fc97,'calendar':_0x4b2e31},_0x37389b['callback']);}else{if(_0x37389b[_0x554378(0x2df)]==='getLtmData'){if(!this[_0x554378(0x1e5)])return this['sendTo'](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':![],'isPro':![]},_0x37389b[_0x554378(0x237)]);let _0x3d2caa={'status':'N/A'};try{const _0x2044c0=await this[_0x554378(0x2cf)](LTM_DP_DRIFT_STATUS);_0x3d2caa['status']=_0x2044c0?_0x2044c0[_0x554378(0x28b)]:_0x554378(0x2ec);}catch(_0xbd7dec){}this[_0x554378(0x264)](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':!![],'isPro':!![],'dailyDigests':this[_0x554378(0x21c)],'driftAnalysis':_0x3d2caa,'analysisHistory':this['analysisHistory']},_0x37389b[_0x554378(0x237)]);}else{if(_0x37389b[_0x554378(0x2df)]==='getOverviewData'){const _0x17d6f8=this['dailyDigests']['length'],_0x34e202=new Date(),_0x312fd6=new Date(_0x34e202[_0x554378(0x1ef)](),_0x34e202['getMonth'](),_0x34e202[_0x554378(0x1b7)]())['getTime'](),_0x2e28fc=this[_0x554378(0x1d6)][_0x554378(0x29a)](_0x363759=>new Date(_0x363759['timestamp'])['getTime']()>_0x312fd6)[_0x554378(0x1ca)],_0x3e8024=new Array(0x18)[_0x554378(0x2c7)](0x0);this[_0x554378(0x1d6)][_0x554378(0x275)](_0x3ce8b2=>{const _0x90838e=_0x554378,_0x3f7593=new Date(_0x3ce8b2[_0x90838e(0x2a3)]);if(_0x3f7593[_0x90838e(0x1e4)]()>_0x312fd6)_0x3e8024[_0x3f7593[_0x90838e(0x2e3)]()]++;});let _0x4acfab={'status':'N/A'};try{const _0x173e52=await this[_0x554378(0x2cf)](LTM_DP_DRIFT_STATUS);_0x4acfab[_0x554378(0x2c1)]=_0x173e52?_0x173e52[_0x554378(0x28b)]:_0x554378(0x2ec);}catch(_0x944f3a){}let _0x1c84fc='';try{const _0x3147d1=await this[_0x554378(0x2cf)](_0x554378(0x1ec));_0x1c84fc=_0x3147d1?_0x3147d1[_0x554378(0x28b)]:'';}catch(_0x3be52a){}let _0x129762=null;!this['geminiModel']&&(_0x129762=this[_0x554378(0x23a)][_0x554378(0x1f4)]?_0x554378(0x170):'Kein\x20API\x20Key!');let _0x3da44f={'detected':![],'description':'','targetId':'','targetValue':'','autoApply':![]};try{const _0x555367=await this['getStateAsync']('analysis.automation.patternDetected');if(_0x555367&&_0x555367[_0x554378(0x28b)]){_0x3da44f[_0x554378(0x215)]=!![];const _0x32e8b8=await this[_0x554378(0x2cf)](_0x554378(0x18f));_0x3da44f[_0x554378(0x176)]=_0x32e8b8?_0x32e8b8[_0x554378(0x28b)]:'';const _0x522dc6=await this[_0x554378(0x2cf)](_0x554378(0x263));_0x3da44f[_0x554378(0x188)]=_0x522dc6?_0x522dc6[_0x554378(0x28b)]:'';const _0x1971ac=await this['getStateAsync'](_0x554378(0x17e));_0x3da44f[_0x554378(0x1bc)]=_0x1971ac?_0x1971ac['val']:'';}const _0x1d4eb8=await this[_0x554378(0x2cf)]('analysis.automation.autoApply');_0x3da44f[_0x554378(0x22f)]=_0x1d4eb8?!!_0x1d4eb8[_0x554378(0x28b)]:![];}catch(_0x4e0e83){}this[_0x554378(0x264)](_0x37389b['from'],_0x37389b[_0x554378(0x2df)],{'success':!![],'eventHistory':this['eventHistory']['slice'](0x0,0xf),'stats':{'digestCount':_0x17d6f8,'eventCountToday':_0x2e28fc,'hourlyActivity':_0x3e8024,'driftStatus':_0x4acfab[_0x554378(0x2c1)],'isPresent':this[_0x554378(0x2d4)],'presenceWho':_0x1c84fc,'minDays':this[_0x554378(0x23a)][_0x554378(0x2c2)]||0x7,'stbDays':this[_0x554378(0x23a)][_0x554378(0x1e0)]||0xe,'ltbDays':this['config'][_0x554378(0x24c)]||0x3c,'systemError':_0x129762},'automation':_0x3da44f},_0x37389b[_0x554378(0x237)]);}else{if(_0x37389b[_0x554378(0x2df)]===_0x554378(0x2e4))try{const _0x1fbe1c=await scanner['scanForDevices'](this,_0x37389b[_0x554378(0x173)]||{});this[_0x554378(0x264)](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':!![],'devices':_0x1fbe1c},_0x37389b[_0x554378(0x237)]);}catch(_0x315437){this[_0x554378(0x264)](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':![],'error':_0x315437[_0x554378(0x173)]},_0x37389b[_0x554378(0x237)]);}else{if(_0x37389b[_0x554378(0x2df)]===_0x554378(0x19b)){const _0x29603f=await this[_0x554378(0x272)](_0x554378(0x24f),_0x554378(0x1a6)),_0x58f2c1=[];if(_0x29603f)for(const _0x23abdf in _0x29603f){const _0x1c18dd=_0x29603f[_0x23abdf],_0x38e584=(_0x1c18dd[_0x554378(0x206)]&&typeof _0x1c18dd[_0x554378(0x206)][_0x554378(0x1b1)]===_0x554378(0x2b9)?_0x1c18dd['common'][_0x554378(0x1b1)]['de']:_0x1c18dd[_0x554378(0x206)][_0x554378(0x1b1)])||_0x1c18dd[_0x554378(0x206)]['name'];_0x58f2c1[_0x554378(0x2eb)]({'id':_0x23abdf,'name':_0x38e584});}const _0x296358=await this['getForeignObjectsAsync'](_0x554378(0x2ca),'enum'),_0x2ce5fd=[];if(_0x296358)for(const _0x3dda24 in _0x296358){const _0xff3a02=_0x296358[_0x3dda24],_0x2b42e1=(_0xff3a02[_0x554378(0x206)]&&typeof _0xff3a02['common']['name']==='object'?_0xff3a02[_0x554378(0x206)][_0x554378(0x1b1)]['de']:_0xff3a02[_0x554378(0x206)][_0x554378(0x1b1)])||_0x3dda24['split']('.')['pop']();_0x2ce5fd['push'](_0x2b42e1);}this[_0x554378(0x264)](_0x37389b['from'],_0x37389b[_0x554378(0x2df)],{'success':!![],'enums':_0x58f2c1,'rooms':_0x2ce5fd},_0x37389b[_0x554378(0x237)]);}else{if(_0x37389b[_0x554378(0x2df)]==='getCalendarNames'){const _0x130df2=_0x37389b[_0x554378(0x173)][_0x554378(0x259)];if(!_0x130df2)return this[_0x554378(0x264)](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':![],'error':_0x554378(0x1c8)},_0x37389b[_0x554378(0x237)]);const _0x6b0553=await getCalendarNames(this,_0x130df2);this['sendTo'](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':!![],'names':_0x6b0553},_0x37389b[_0x554378(0x237)]);}else{if(_0x37389b[_0x554378(0x2df)]===_0x554378(0x2b5)){const {targetId:_0x5627ce,targetValue:_0x296cda}=_0x37389b[_0x554378(0x173)];this['log'][_0x554378(0x247)]('ðŸ§ª\x20Simulating\x20Butler\x20Proposal:\x20'+_0x5627ce+_0x554378(0x210)+_0x296cda),await this[_0x554378(0x2c4)](_0x554378(0x1b3),{'val':!![],'ack':!![]}),await this[_0x554378(0x2c4)](_0x554378(0x18f),{'val':'SIMULATION:\x20Test-Vorschlag\x20fÃ¼r\x20'+_0x5627ce,'ack':!![]}),await this[_0x554378(0x2c4)](_0x554378(0x263),{'val':_0x5627ce,'ack':!![]}),await this[_0x554378(0x2c4)](_0x554378(0x17e),{'val':_0x296cda,'ack':!![]}),this[_0x554378(0x264)](_0x37389b['from'],_0x37389b[_0x554378(0x2df)],{'success':!![]},_0x37389b[_0x554378(0x237)]);}else{if(_0x37389b[_0x554378(0x2df)]===_0x554378(0x1ae)){const {historyId:_0x451a98,rating:_0x4ff7a1,comment:_0x23030c,alertReason:_0x4eb716}=_0x37389b[_0x554378(0x173)];_0x451a98&&_0x4ff7a1?(await saveFeedback(this,{'timestamp':Date[_0x554378(0x1f0)](),'historyId':_0x451a98,'rating':_0x4ff7a1,'comment':_0x23030c,'alertReason':_0x4eb716}),this[_0x554378(0x264)](_0x37389b[_0x554378(0x2a6)],_0x37389b[_0x554378(0x2df)],{'success':!![]},_0x37389b[_0x554378(0x237)])):this[_0x554378(0x264)](_0x37389b[_0x554378(0x2a6)],_0x37389b['command'],{'success':![],'error':_0x554378(0x186)},_0x37389b[_0x554378(0x237)]);}else _0x37389b[_0x554378(0x2df)]===_0x554378(0x262)&&(this[_0x554378(0x19d)][_0x554378(0x247)](_0x554378(0x1f8)),await this['setStateAsync'](_0x554378(0x1b3),{'val':![],'ack':!![]}),await this[_0x554378(0x2c4)](_0x554378(0x18f),{'val':'','ack':!![]}),this['sendTo'](_0x37389b['from'],_0x37389b[_0x554378(0x2df)],{'success':!![]},_0x37389b[_0x554378(0x237)]));}}}}}}}}}}}if(require['main']!==module)module[a0_0x294035(0x26f)]=_0x166d43=>new CogniLiving(_0x166d43);else new CogniLiving();