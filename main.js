const a0_0x56fdf3=a0_0x2554;(function(_0x515342,_0x647b30){const _0x40f049=a0_0x2554,_0x34145e=_0x515342();while(!![]){try{const _0x54d03c=parseInt(_0x40f049(0x170))/0x1+-parseInt(_0x40f049(0x13f))/0x2+-parseInt(_0x40f049(0x174))/0x3*(parseInt(_0x40f049(0x130))/0x4)+parseInt(_0x40f049(0x106))/0x5+-parseInt(_0x40f049(0x15f))/0x6+-parseInt(_0x40f049(0x12d))/0x7*(parseInt(_0x40f049(0x14e))/0x8)+parseInt(_0x40f049(0x110))/0x9;if(_0x54d03c===_0x647b30)break;else _0x34145e['push'](_0x34145e['shift']());}catch(_0x5386be){_0x34145e['push'](_0x34145e['shift']());}}}(a0_0x881b,0xe4e51));function a0_0x2554(_0x13079d,_0x448e42){const _0x2748d3=a0_0x881b();return a0_0x2554=function(_0x351fdc,_0x1f178a){_0x351fdc=_0x351fdc-0x101;let _0x881b80=_0x2748d3[_0x351fdc];return _0x881b80;},a0_0x2554(_0x13079d,_0x448e42);}const a0_0x1f178a=(function(){let _0x4df337=!![];return function(_0x5cb9cb,_0x2e93f5){const _0xdfc2a0=_0x4df337?function(){const _0x5ae848=a0_0x2554;if(_0x2e93f5){const _0x461d53=_0x2e93f5[_0x5ae848(0x137)](_0x5cb9cb,arguments);return _0x2e93f5=null,_0x461d53;}}:function(){};return _0x4df337=![],_0xdfc2a0;};}()),a0_0x351fdc=a0_0x1f178a(this,function(){const _0x5dc8ca=a0_0x2554;return a0_0x351fdc[_0x5dc8ca(0x1a4)]()[_0x5dc8ca(0x177)](_0x5dc8ca(0x127))[_0x5dc8ca(0x1a4)]()['constructor'](a0_0x351fdc)[_0x5dc8ca(0x177)]('(((.+)+)+)+$');});function a0_0x881b(){const _0xc518c3=['triggerGaitAnalysis','Lernphase\x20(','system.presenceWho','minDaysForBaseline','analysis.trigger','triggerEnergyPrediction','notifyTelegramInstance','cancel','object','setupLtmScheduler','setStateAsync','onUnload','TRAIN_COMFORT','join','val','communicate.request','./lib/scheduler','briefingJob','eventHistory','send','common','rawEventLog','length','triggerDailyDigest','runPythonHealthCheck','automation.triggerAction','VACATION','setPresence','./lib/python_bridge','analysis.training.triggerTopology','runGeminiAnalysis','namespace','online','PYTHON_EXE','push','Sec-Training\x20started...','analysis.training.status','Gemini\x20AI\x20initialized.','toString','getGenerativeModel','TRAIN_HEALTH','setupBriefingScheduler','licenseKey','keys','getOutsideTemperatureNumeric',')\x20-\x20Phase\x20C\x20(Refactored)','getStateAsync','LTM.trainingData.thermodynamics','exitGraceTimer','analysisTimer','@iobroker/adapter-core','ack','floor','cogni-living\x20adapter\x20starting\x20(v','sendMorningBriefing','getOverviewData','\x20Tage)','pop','parse','runBaselineDriftAnalysis','subscribeStates','analysis.training.triggerHealth','setupModeResetScheduler','version','slice','analysis.triggerBriefing','createAllObjects','enum','models/gemini-flash-latest','callback','SYSTEM_MODES','getState','5926455AWnPAp','updateHealthVector','error','./lib/installer','getHours','toLowerCase','onReady','message','ltmJob','updateTopology','32575023uqhkpc','driftAnalysisTimer','Aktiv\x20(','loadSystemMode','ANALYZE_GAIT','exitTimer','isPresent','updated','@google/generative-ai','genAI','getTime','map','.communicate.request','executeAutomationAction','sensorLastValues','WiFi\x20Presence\x20detected.','presenceDevices','createDailyDigest','./lib/setup','startSystem','getMinutes','analysis.automation.autoApply','.system.mode','(((.+)+)+)+$','Topology\x20Update\x20Error:\x20','dependencyInstallInProgress','geminiModel','isProVersion','SET_TOPOLOGY','1694beCyvp','./lib/topology','setState','8mbauLI','values','getEnums','onStateChange','./lib/ai_agent','notifyTelegramEnabled','startService','apply','SYSTEM_DP_MODE','telegram','devices','ðŸ›‹ï¸\x20Triggering\x20Comfort\x20Analysis\x20(Pattern\x20Mining)...','triggerBriefing','setHours','LTM.triggerDailyDigest','3343102qTlZkw','lastAlertState','LTM.baselineStatus','bind','checkWifiPresence','stringify','Adapter','find','debug','stopService','analysis.topology.structure','name','PREDICT_ENERGY','LTM.dailyDigests','includes','15688RKQHbY','enum.rooms.*','fill','from','NORMAL','analysis.training.triggerEnergy','subscribeForeignStatesAsync','setupDriftAnalysisScheduler','type','config','ready','inactivityThresholdHours','modeResetJob','systemConfig','info','ðŸ•¸ï¸\x20Manually\x20triggering\x20Topology\x20Update...','currentSystemMode','10072218CqrLGx','initHistory','LTM.trainingData.sequences','log','matrix','checkAndInstall','Training\x20Error:\x20','cogni-living','onMessage','./lib/scanner','command','initSystemConfig','system.mode','sendTo','analysis.health.todayVector','testApiKey','./lib/recorder','75605UmrTGY','location','Gemini\x20Init\x20Error:\x20','getForeignStateAsync','176961xmohPQ','split','analysis.training.triggerComfort','search','dailyDigests','abortExitTimer','analysisInterval','geminiApiKey','TRAIN_ENERGY','initZombies'];a0_0x881b=function(){return _0xc518c3;};return a0_0x881b();}a0_0x351fdc();'use strict';const utils=require(a0_0x56fdf3(0x1b0)),{GoogleGenerativeAI}=require(a0_0x56fdf3(0x118)),installer=require(a0_0x56fdf3(0x109)),scanner=require(a0_0x56fdf3(0x168)),schedulers=require(a0_0x56fdf3(0x18e)),topology=require(a0_0x56fdf3(0x12e)),setup=require(a0_0x56fdf3(0x122)),recorder=require(a0_0x56fdf3(0x16f)),pythonBridge=require(a0_0x56fdf3(0x19a)),aiAgent=require(a0_0x56fdf3(0x134)),GEMINI_MODEL=a0_0x56fdf3(0x102),ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x56fdf3(0x145)]{constructor(_0x2f39a6){const _0x495b54=a0_0x56fdf3;super({..._0x2f39a6,'name':_0x495b54(0x166)}),this[_0x495b54(0x190)]=[],this['analysisHistory']=[],this[_0x495b54(0x193)]=[],this[_0x495b54(0x178)]=[],this[_0x495b54(0x11e)]={},this[_0x495b54(0x15b)]={'latitude':0x0,'longitude':0x0,'city':''},this['isPresent']=!![],this[_0x495b54(0x115)]=null,this[_0x495b54(0x1ae)]=null,this['isGracePeriodActive']=![],this['genAI']=null,this[_0x495b54(0x12a)]=null,this['currentSystemMode']=setup['SYSTEM_MODES'][_0x495b54(0x152)],this[_0x495b54(0x12b)]=![],this[_0x495b54(0x140)]=![],this[_0x495b54(0x1af)]=null,this[_0x495b54(0x10e)]=null,this['modeResetJob']=null,this['driftAnalysisTimer']=null,this[_0x495b54(0x18f)]=null,this[_0x495b54(0x129)]=![],this['on'](_0x495b54(0x158),this[_0x495b54(0x10c)]['bind'](this)),this['on']('stateChange',this[_0x495b54(0x133)][_0x495b54(0x142)](this)),this['on']('unload',this['onUnload'][_0x495b54(0x142)](this)),this['on'](_0x495b54(0x10d),this[_0x495b54(0x167)][_0x495b54(0x142)](this));}async[a0_0x56fdf3(0x10c)](){const _0x10bfcf=a0_0x56fdf3;this['log'][_0x10bfcf(0x15c)](_0x10bfcf(0x1b3)+this[_0x10bfcf(0x1bd)]+_0x10bfcf(0x1ab));if(!installer[_0x10bfcf(0x164)](this,()=>this[_0x10bfcf(0x123)]()))return;}async[a0_0x56fdf3(0x123)](){const _0x3e1f13=a0_0x56fdf3;await setup[_0x3e1f13(0x17d)](this);try{this[_0x3e1f13(0x12b)]=await setup['checkLicense'](this['config'][_0x3e1f13(0x1a8)]);}catch(_0x59e269){}if(!this[_0x3e1f13(0x157)]['inactivityThresholdHours']||this[_0x3e1f13(0x157)][_0x3e1f13(0x159)]<0.1)this[_0x3e1f13(0x157)]['inactivityThresholdHours']=0xc;await setup[_0x3e1f13(0x160)](this),await setup[_0x3e1f13(0x16a)](this);if(this[_0x3e1f13(0x157)][_0x3e1f13(0x17b)])try{this['genAI']=new GoogleGenerativeAI(this[_0x3e1f13(0x157)][_0x3e1f13(0x17b)]),this[_0x3e1f13(0x12a)]=this[_0x3e1f13(0x119)][_0x3e1f13(0x1a5)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this['log'][_0x3e1f13(0x15c)](_0x3e1f13(0x1a3));}catch(_0x39009d){this[_0x3e1f13(0x162)][_0x3e1f13(0x108)](_0x3e1f13(0x172)+_0x39009d[_0x3e1f13(0x10d)]);}await setup[_0x3e1f13(0x1c0)](this),await this[_0x3e1f13(0x113)]();try{const _0x494f54=await this[_0x3e1f13(0x1ac)]('LTM.rawEventLog');if(_0x494f54&&_0x494f54['val'])this[_0x3e1f13(0x193)]=JSON[_0x3e1f13(0x1b8)](_0x494f54[_0x3e1f13(0x18c)]);}catch(_0x452539){this[_0x3e1f13(0x193)]=[];}try{const _0xba3782=await this[_0x3e1f13(0x1ac)]('LTM.dailyDigests');if(_0xba3782&&_0xba3782['val'])this['dailyDigests']=JSON[_0x3e1f13(0x1b8)](_0xba3782[_0x3e1f13(0x18c)]);}catch(_0xfa16d7){this[_0x3e1f13(0x178)]=[];}const _0x483786=this[_0x3e1f13(0x178)]['length']>=(this[_0x3e1f13(0x157)]['minDaysForBaseline']||0x7)?_0x3e1f13(0x112)+this['dailyDigests'][_0x3e1f13(0x194)]+_0x3e1f13(0x1b6):_0x3e1f13(0x17f)+this[_0x3e1f13(0x178)][_0x3e1f13(0x194)]+'/'+(this[_0x3e1f13(0x157)][_0x3e1f13(0x181)]||0x7)+')';await this[_0x3e1f13(0x188)](_0x3e1f13(0x141),{'val':_0x483786,'ack':!![]}),this['subscribeStates'](_0x3e1f13(0x182)),this[_0x3e1f13(0x1ba)](_0x3e1f13(0x13e)),this[_0x3e1f13(0x1ba)](_0x3e1f13(0x16b)),this['subscribeStates'](_0x3e1f13(0x1bf)),this[_0x3e1f13(0x1ba)]('analysis.automation.triggerAction'),this[_0x3e1f13(0x1ba)](_0x3e1f13(0x125)),this['subscribeStates']('analysis.training.triggerSecurity'),this[_0x3e1f13(0x1ba)](_0x3e1f13(0x1bb)),this['subscribeStates'](_0x3e1f13(0x153)),this[_0x3e1f13(0x1ba)](_0x3e1f13(0x176)),this[_0x3e1f13(0x1ba)](_0x3e1f13(0x19b));const _0x11a11d=this['config'][_0x3e1f13(0x13a)];if(_0x11a11d)for(const _0x271bbd of _0x11a11d){await this[_0x3e1f13(0x154)](_0x271bbd['id']);}const _0x55a9e7=this[_0x3e1f13(0x157)][_0x3e1f13(0x120)];if(_0x55a9e7)for(const _0x455c90 of _0x55a9e7){await this[_0x3e1f13(0x154)](_0x455c90);}if(this[_0x3e1f13(0x157)][_0x3e1f13(0x135)]&&this[_0x3e1f13(0x157)][_0x3e1f13(0x184)])await this[_0x3e1f13(0x154)](this[_0x3e1f13(0x157)][_0x3e1f13(0x184)]+_0x3e1f13(0x11c));setTimeout(()=>this[_0x3e1f13(0x143)](),0x1388);if(this[_0x3e1f13(0x1af)])clearInterval(this[_0x3e1f13(0x1af)]);const _0x4e1351=this[_0x3e1f13(0x157)][_0x3e1f13(0x17a)]||0xf;_0x4e1351>0x0&&(this[_0x3e1f13(0x1af)]=setInterval(()=>{this['runAutopilot']();},_0x4e1351*0x3c*0x3e8)),schedulers[_0x3e1f13(0x187)](this,()=>aiAgent[_0x3e1f13(0x121)](this,pythonBridge)),schedulers[_0x3e1f13(0x1bc)](this),schedulers[_0x3e1f13(0x155)](this,()=>aiAgent[_0x3e1f13(0x1b9)](this)),schedulers[_0x3e1f13(0x1a7)](this,()=>aiAgent[_0x3e1f13(0x1b4)](this)),pythonBridge[_0x3e1f13(0x136)](this,installer[_0x3e1f13(0x19f)]),setTimeout(async()=>{const _0x4390c1=_0x3e1f13;await topology[_0x4390c1(0x10f)](this);try{const _0x4aea59=await this['getStateAsync'](_0x4390c1(0x149));if(_0x4aea59&&_0x4aea59[_0x4390c1(0x18c)])pythonBridge[_0x4390c1(0x191)](this,_0x4390c1(0x12c),JSON[_0x4390c1(0x1b8)](_0x4aea59[_0x4390c1(0x18c)]));}catch(_0x751eb4){}this[_0x4390c1(0x196)](),this[_0x4390c1(0x17e)](),this[_0x4390c1(0x183)](),this[_0x4390c1(0x107)]();},0x1388);}[a0_0x56fdf3(0x189)](_0x12abdc){const _0xe21c70=a0_0x56fdf3;if(this['analysisTimer'])clearInterval(this['analysisTimer']);if(this[_0xe21c70(0x111)])clearInterval(this['driftAnalysisTimer']);if(this[_0xe21c70(0x10e)])this[_0xe21c70(0x10e)][_0xe21c70(0x185)]();if(this[_0xe21c70(0x15a)])this[_0xe21c70(0x15a)][_0xe21c70(0x185)]();if(this[_0xe21c70(0x18f)])this[_0xe21c70(0x18f)][_0xe21c70(0x185)]();recorder[_0xe21c70(0x179)](this),pythonBridge[_0xe21c70(0x148)](this),_0x12abdc();}async[a0_0x56fdf3(0x133)](_0x4c4d5b,_0x581aba){const _0x375050=a0_0x56fdf3;if(!_0x581aba||this[_0x375050(0x129)])return;if(_0x4c4d5b[_0x375050(0x14d)](_0x375050(0x139))&&_0x4c4d5b['endsWith'](_0x375050(0x18d))&&_0x581aba[_0x375050(0x18c)])return;if(_0x4c4d5b===this[_0x375050(0x19d)]+_0x375050(0x126)){if(_0x581aba[_0x375050(0x18c)]&&Object[_0x375050(0x131)](setup['SYSTEM_MODES'])[_0x375050(0x14d)](_0x581aba[_0x375050(0x18c)])){this[_0x375050(0x15e)]=_0x581aba[_0x375050(0x18c)];if(_0x581aba[_0x375050(0x18c)]===setup[_0x375050(0x104)][_0x375050(0x198)])await recorder['setPresence'](this,![]);else await recorder['setPresence'](this,!![]);}if(!_0x581aba[_0x375050(0x1b1)])this['setState'](_0x4c4d5b,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x581aba['ack']){_0x4c4d5b[_0x375050(0x14d)]('analysis.trigger')&&_0x581aba[_0x375050(0x18c)]&&(this['setState'](_0x4c4d5b,{'val':![],'ack':!![]}),aiAgent['runGeminiAnalysis'](this));if(_0x4c4d5b[_0x375050(0x14d)](_0x375050(0x195))&&_0x581aba['val']){this['setState'](_0x4c4d5b,{'val':![],'ack':!![]});if(this[_0x375050(0x12b)])aiAgent['createDailyDigest'](this,pythonBridge);}_0x4c4d5b[_0x375050(0x14d)](_0x375050(0x13c))&&_0x581aba['val']&&(this[_0x375050(0x12f)](_0x4c4d5b,{'val':![],'ack':!![]}),aiAgent[_0x375050(0x1b4)](this));_0x4c4d5b[_0x375050(0x14d)](_0x375050(0x197))&&_0x581aba['val']&&(this[_0x375050(0x12f)](_0x4c4d5b,{'val':![],'ack':!![]}),aiAgent[_0x375050(0x11d)](this));if(_0x4c4d5b[_0x375050(0x14d)]('analysis.training.triggerSecurity')&&_0x581aba[_0x375050(0x18c)]){this[_0x375050(0x12f)](_0x4c4d5b,{'val':![],'ack':!![]});if(this[_0x375050(0x12b)])try{const _0x23836f=await this[_0x375050(0x1ac)](_0x375050(0x161));if(_0x23836f&&_0x23836f[_0x375050(0x18c)]){const _0x44b1f7=JSON[_0x375050(0x1b8)](_0x23836f[_0x375050(0x18c)]);this['log'][_0x375050(0x15c)]('ðŸ§ \x20Triggering\x20Security\x20Training...'),this[_0x375050(0x188)](_0x375050(0x1a2),{'val':_0x375050(0x1a1),'ack':!![]}),pythonBridge['send'](this,'TRAIN_SECURITY',{'sequences':_0x44b1f7});}}catch(_0x46b098){this['log']['error'](_0x375050(0x165)+_0x46b098[_0x375050(0x10d)]);}}if(_0x4c4d5b[_0x375050(0x14d)](_0x375050(0x1bb))&&_0x581aba[_0x375050(0x18c)]){this[_0x375050(0x12f)](_0x4c4d5b,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x3e9ce2=await this['getStateAsync'](_0x375050(0x14c));if(_0x3e9ce2&&_0x3e9ce2[_0x375050(0x18c)])pythonBridge[_0x375050(0x191)](this,_0x375050(0x1a6),{'digests':JSON[_0x375050(0x1b8)](_0x3e9ce2[_0x375050(0x18c)])});}catch(_0x333138){}}if(_0x4c4d5b[_0x375050(0x14d)]('analysis.training.triggerEnergy')&&_0x581aba[_0x375050(0x18c)]){this[_0x375050(0x12f)](_0x4c4d5b,{'val':![],'ack':!![]});if(this[_0x375050(0x12b)])try{const _0x3daff2=await this[_0x375050(0x1ac)](_0x375050(0x1ad));if(_0x3daff2&&_0x3daff2['val'])pythonBridge[_0x375050(0x191)](this,_0x375050(0x17c),{'points':JSON[_0x375050(0x1b8)](_0x3daff2['val'])});}catch(_0x40173c){}}if(_0x4c4d5b[_0x375050(0x14d)](_0x375050(0x176))&&_0x581aba['val']){this[_0x375050(0x12f)](_0x4c4d5b,{'val':![],'ack':!![]});if(this[_0x375050(0x12b)])try{const _0x1662e9=await this[_0x375050(0x1ac)]('LTM.rawEventLog');_0x1662e9&&_0x1662e9['val']&&(this['log']['info'](_0x375050(0x13b)),pythonBridge[_0x375050(0x191)](this,_0x375050(0x18a),{'events':JSON[_0x375050(0x1b8)](_0x1662e9[_0x375050(0x18c)])}));}catch(_0x5cf929){}}_0x4c4d5b[_0x375050(0x14d)]('analysis.training.triggerTopology')&&_0x581aba['val']&&(this[_0x375050(0x12f)](_0x4c4d5b,{'val':![],'ack':!![]}),this[_0x375050(0x162)]['info'](_0x375050(0x15d)),topology['updateTopology'](this));return;}if(this[_0x375050(0x157)][_0x375050(0x120)]&&this[_0x375050(0x157)]['presenceDevices']['includes'](_0x4c4d5b)){await this[_0x375050(0x143)]();return;}const _0x43f83d=(this['config'][_0x375050(0x13a)]||[])[_0x375050(0x146)](_0x2919c2=>_0x2919c2['id']===_0x4c4d5b);if(_0x43f83d)recorder['processSensorEvent'](this,_0x4c4d5b,_0x581aba,_0x43f83d);}async[a0_0x56fdf3(0x167)](_0x1ad214){const _0x5a32fd=a0_0x56fdf3;if(typeof _0x1ad214===_0x5a32fd(0x186)&&_0x1ad214[_0x5a32fd(0x10d)]){if(_0x1ad214[_0x5a32fd(0x169)]===_0x5a32fd(0x16e)){}else{if(_0x1ad214[_0x5a32fd(0x169)]==='scanDevices')try{const _0x16eb7d=await scanner['scanForDevices'](this,_0x1ad214['message']||{});this[_0x5a32fd(0x16c)](_0x1ad214['from'],_0x1ad214[_0x5a32fd(0x169)],{'success':!![],'devices':_0x16eb7d},_0x1ad214[_0x5a32fd(0x103)]);}catch(_0x2857c8){this[_0x5a32fd(0x16c)](_0x1ad214['from'],_0x1ad214[_0x5a32fd(0x169)],{'success':![],'error':_0x2857c8['message']},_0x1ad214[_0x5a32fd(0x103)]);}else{if(_0x1ad214['command']==='updateTopologyMatrix'){const {matrix:_0x579933}=_0x1ad214[_0x5a32fd(0x10d)];try{const _0x4f21e2=await this['getStateAsync'](_0x5a32fd(0x149));if(_0x4f21e2&&_0x4f21e2['val']){const _0x87cec2=JSON[_0x5a32fd(0x1b8)](_0x4f21e2[_0x5a32fd(0x18c)]);_0x87cec2[_0x5a32fd(0x163)]=_0x579933,_0x87cec2[_0x5a32fd(0x117)]=Date['now'](),await this[_0x5a32fd(0x188)](_0x5a32fd(0x149),{'val':JSON[_0x5a32fd(0x144)](_0x87cec2),'ack':!![]}),this[_0x5a32fd(0x162)][_0x5a32fd(0x15c)]('ðŸ•¸ï¸\x20Topology\x20Graph\x20manually\x20updated\x20by\x20user.'),pythonBridge['send'](this,'SET_TOPOLOGY',_0x87cec2);}this['sendTo'](_0x1ad214[_0x5a32fd(0x151)],_0x1ad214[_0x5a32fd(0x169)],{'success':!![]},_0x1ad214[_0x5a32fd(0x103)]);}catch(_0xeef30f){this['log'][_0x5a32fd(0x108)](_0x5a32fd(0x128)+_0xeef30f[_0x5a32fd(0x10d)]);}}else{if(_0x1ad214[_0x5a32fd(0x169)]===_0x5a32fd(0x1b5)){const _0x3041a0=this[_0x5a32fd(0x178)][_0x5a32fd(0x194)];this[_0x5a32fd(0x16c)](_0x1ad214[_0x5a32fd(0x151)],_0x1ad214[_0x5a32fd(0x169)],{'success':!![],'eventHistory':this[_0x5a32fd(0x190)][_0x5a32fd(0x1be)](0x0,0xf),'stats':{'digestCount':_0x3041a0,'isPresent':this[_0x5a32fd(0x116)]}},_0x1ad214['callback']);}else{if(_0x1ad214['command']===_0x5a32fd(0x132)){const _0x17619d=await this['getForeignObjectsAsync']('enum.functions.*',_0x5a32fd(0x101)),_0x25a070=[];if(_0x17619d)for(const _0x35fef2 in _0x17619d){const _0x59fe56=_0x17619d[_0x35fef2],_0x4ff113=(_0x59fe56[_0x5a32fd(0x192)]&&typeof _0x59fe56[_0x5a32fd(0x192)]['name']===_0x5a32fd(0x186)?_0x59fe56[_0x5a32fd(0x192)]['name']['de']:_0x59fe56['common'][_0x5a32fd(0x14a)])||_0x59fe56[_0x5a32fd(0x192)]['name'];_0x25a070[_0x5a32fd(0x1a0)]({'id':_0x35fef2,'name':_0x4ff113});}const _0x202a64=await this['getForeignObjectsAsync'](_0x5a32fd(0x14f),_0x5a32fd(0x101)),_0x5ee544=[];if(_0x202a64)for(const _0x396f51 in _0x202a64){const _0xf0804=_0x202a64[_0x396f51],_0x5169dd=(_0xf0804[_0x5a32fd(0x192)]&&typeof _0xf0804[_0x5a32fd(0x192)][_0x5a32fd(0x14a)]==='object'?_0xf0804[_0x5a32fd(0x192)][_0x5a32fd(0x14a)]['de']:_0xf0804[_0x5a32fd(0x192)][_0x5a32fd(0x14a)])||_0x396f51[_0x5a32fd(0x175)]('.')[_0x5a32fd(0x1b7)]();_0x5ee544[_0x5a32fd(0x1a0)](_0x5169dd);}this[_0x5a32fd(0x16c)](_0x1ad214[_0x5a32fd(0x151)],_0x1ad214[_0x5a32fd(0x169)],{'success':!![],'enums':_0x25a070,'rooms':_0x5ee544},_0x1ad214[_0x5a32fd(0x103)]);}}}}}}}async[a0_0x56fdf3(0x113)](){const _0x3fd1b0=a0_0x56fdf3;try{const _0x14cfde=await this[_0x3fd1b0(0x1ac)](setup[_0x3fd1b0(0x138)]);_0x14cfde&&_0x14cfde[_0x3fd1b0(0x18c)]&&Object[_0x3fd1b0(0x131)](setup[_0x3fd1b0(0x104)])['includes'](_0x14cfde['val'])?this[_0x3fd1b0(0x15e)]=_0x14cfde[_0x3fd1b0(0x18c)]:(this[_0x3fd1b0(0x15e)]=setup[_0x3fd1b0(0x104)]['NORMAL'],await this[_0x3fd1b0(0x188)](setup[_0x3fd1b0(0x138)],{'val':setup[_0x3fd1b0(0x104)][_0x3fd1b0(0x152)],'ack':!![]}));}catch(_0xf0347f){this[_0x3fd1b0(0x15e)]=setup[_0x3fd1b0(0x104)][_0x3fd1b0(0x152)];}}async[a0_0x56fdf3(0x143)](){const _0xed8444=a0_0x56fdf3;try{const _0x1c9d72=this['config'][_0xed8444(0x120)]||[];let _0x4dd450=![];const _0x41b41d=[];for(const _0x47766c of _0x1c9d72){try{const _0x3cbbd1=await this[_0xed8444(0x173)](_0x47766c);_0x3cbbd1&&(_0x3cbbd1['val']===!![]||_0x3cbbd1[_0xed8444(0x18c)]===_0xed8444(0x19e)||_0x3cbbd1[_0xed8444(0x18c)]===0x1)&&(_0x4dd450=!![],_0x41b41d[_0xed8444(0x1a0)](_0x47766c));}catch(_0x2bbc3b){}}return await this[_0xed8444(0x188)](_0xed8444(0x180),{'val':_0x41b41d[_0xed8444(0x18b)](',\x20'),'ack':!![]}),_0x4dd450&&(this[_0xed8444(0x115)]&&(this['log'][_0xed8444(0x15c)](_0xed8444(0x11f)),recorder['abortExitTimer'](this)),!this[_0xed8444(0x116)]&&this['currentSystemMode']===setup[_0xed8444(0x104)][_0xed8444(0x152)]&&await recorder[_0xed8444(0x199)](this,!![])),_0x4dd450;}catch(_0x3aad78){return![];}}async['runAutopilot'](){const _0xedb597=a0_0x56fdf3;this['log'][_0xedb597(0x147)]('ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...'),await aiAgent[_0xedb597(0x19c)](this),this['updateHealthVector'](),this[_0xedb597(0x17e)](),this[_0xedb597(0x183)]();}[a0_0x56fdf3(0x17e)](){const _0x272faf=a0_0x56fdf3;if(!this[_0x272faf(0x12b)])return;try{this[_0x272faf(0x105)](_0x272faf(0x161),(_0x14e81e,_0x4f14c9)=>{const _0x326958=_0x272faf;_0x4f14c9&&_0x4f14c9[_0x326958(0x18c)]&&pythonBridge['send'](this,_0x326958(0x114),{'sequences':JSON[_0x326958(0x1b8)](_0x4f14c9[_0x326958(0x18c)])});});}catch(_0x2e823b){}}async[a0_0x56fdf3(0x183)](){const _0x59e158=a0_0x56fdf3;if(!this[_0x59e158(0x12b)])return;try{const _0x1e9bb5=await recorder[_0x59e158(0x1aa)](this);if(_0x1e9bb5===null)return;const _0x14f746={},_0x22de7e=this[_0x59e158(0x157)][_0x59e158(0x13a)]||[];for(const _0x36c735 of _0x22de7e){if(_0x36c735[_0x59e158(0x156)]==='temperature'&&_0x36c735[_0x59e158(0x171)]){const _0x2568b4=this[_0x59e158(0x11e)][_0x36c735['id']];if(_0x2568b4!==undefined)_0x14f746[_0x36c735[_0x59e158(0x171)]]=_0x2568b4;}}Object[_0x59e158(0x1a9)](_0x14f746)[_0x59e158(0x194)]>0x0&&pythonBridge['send'](this,_0x59e158(0x14b),{'current_temps':_0x14f746,'t_out':_0x1e9bb5});}catch(_0x43c016){}}['updateHealthVector'](){const _0x41b2d0=a0_0x56fdf3;if(!this['rawEventLog']||this['rawEventLog'][_0x41b2d0(0x194)]===0x0)return;const _0x154a7d=new Array(0x60)[_0x41b2d0(0x150)](0x0),_0x59836e=new Date()[_0x41b2d0(0x13d)](0x0,0x0,0x0,0x0);this['rawEventLog']['forEach'](_0x1c207a=>{const _0x344ca8=_0x41b2d0,_0x23af04=new Date(_0x1c207a['timestamp']);if(_0x23af04[_0x344ca8(0x11a)]()>=_0x59836e){const _0x255284=_0x23af04[_0x344ca8(0x10a)](),_0x4efb5a=_0x23af04[_0x344ca8(0x124)](),_0x2d6ad2=_0x255284*0x4+Math[_0x344ca8(0x1b2)](_0x4efb5a/0xf);if(_0x2d6ad2>=0x0&&_0x2d6ad2<0x60)_0x154a7d[_0x2d6ad2]++;}}),this[_0x41b2d0(0x188)](_0x41b2d0(0x16d),{'val':JSON['stringify'](_0x154a7d),'ack':!![]});}[a0_0x56fdf3(0x196)](){const _0x31a4a1=a0_0x56fdf3;if(!this['dailyDigests']||this['dailyDigests'][_0x31a4a1(0x194)]<0x2)return;const _0x1c7b7b=this[_0x31a4a1(0x178)][_0x31a4a1(0x11b)](_0x52c2b7=>{const _0x527ea9=_0x31a4a1,_0x41b2bb=(_0x52c2b7['activityLevel']||'')[_0x527ea9(0x10b)]();return ACTIVITY_LEVEL_MAP[_0x41b2bb]||0x32;});pythonBridge[_0x31a4a1(0x191)](this,'ANALYZE_TREND',{'values':_0x1c7b7b,'tag':'Activity-Level'});}}if(require['main']!==module)module['exports']=_0x433d84=>new CogniLiving(_0x433d84);else new CogniLiving();