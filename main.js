const a0_0x2ed4e8=a0_0x330d;(function(_0x40fa56,_0x2917af){const _0x10d0a6=a0_0x330d,_0x13d12f=_0x40fa56();while(!![]){try{const _0x421e63=-parseInt(_0x10d0a6(0x1f8))/0x1*(-parseInt(_0x10d0a6(0x19e))/0x2)+parseInt(_0x10d0a6(0x142))/0x3+parseInt(_0x10d0a6(0x124))/0x4+-parseInt(_0x10d0a6(0x134))/0x5*(parseInt(_0x10d0a6(0x197))/0x6)+parseInt(_0x10d0a6(0x1cd))/0x7*(parseInt(_0x10d0a6(0x1cc))/0x8)+parseInt(_0x10d0a6(0x16c))/0x9*(-parseInt(_0x10d0a6(0x10a))/0xa)+-parseInt(_0x10d0a6(0x1d3))/0xb;if(_0x421e63===_0x2917af)break;else _0x13d12f['push'](_0x13d12f['shift']());}catch(_0x4f7dd8){_0x13d12f['push'](_0x13d12f['shift']());}}}(a0_0x22de,0x9047b));function a0_0x22de(){const _0x1579ed=['setupDriftAnalysisScheduler','analysis.topology.structure','analysis.automation.targetId','runAutopilot','sort','4268828hIUqOp','checkAndInstall','calendarName','triggerEnergyPrediction','apply','driftAnalysisTimer','analysis.automation.autoApply','runGeminiAnalysis','analysisTimer','./lib/topology','getGenerativeModel','Simulation\x20durch\x20Admin\x20(Test)','entries','createDailyDigest','updateHealthVector','slice','4846245sHRWHQ','Warm-Up\x20Time\x20(Minutes\x20to\x20Target)','checkSolarCondition','stringify','system.presenceWho','Heizung\x20kann\x20','Kein\x20API\x20Key\x20Ã¼bergeben','lastAlertState','getState','systemConfig','analysis.training.triggerHealth','subscribeStates','values','join','2001252klHYOa','trackerHeartbeat','analysis.automation.description','NextHours.Location_1.Day_1.current.symbol_desc','getMinutes','callback','apiKey','testContext','TRAIN_HEALTH','enum.functions.*','response','Kein\x20Wetter-Adapter','presenceDevices','type','analysis.energy.pinnForecast','includes','simulateEnergyMPC','Gemini\x20Init\x20Error:\x20','Activity-Level','ANALYZE_GAIT','object','enum.rooms.*','ltmJob','sendNotification','checkThermostats','analysis.training.status','find','command','SET_LEARNING_MODE','initSystemConfig','minDaysForBaseline','analysis.training.triggerTopology','toString','Verbindung\x20erfolgreich!','rawEventLog','message','getStateAsync','weatherunderground.0','klar','exports','Aktiv\x20(','Standard','1588401UPRkrn','SYSTEM_DP_MODE','communicate.request','Fehler:\x20','log','onUnload','runPythonHealthCheck','name','add','./lib/dead_man','geminiApiKey','notifyTelegramEnabled','isPresent','info','genAI','getTime','exitGraceTimer','isGracePeriodActive','startSystem','ðŸ¤–\x20Autopilot:\x20Running\x20periodic\x20analysis...','sonn','analysisHistory','setupLtmScheduler','./lib/scanner','timestamp','modeResetJob','checkWifiPresence','Warm-Up\x20Target\x20Temps\x20(JSON)','toLowerCase','WiFi\x20Presence\x20detected.','useWeather','analysis.triggerBriefing','common','version','generateContent','endsWith','lastTrackerEventTime','stopService','(((.+)+)+)+$','minutes_safe','error','Gesendet','TRAIN_COMFORT','6kcrnnv','sendTo','checkLicense','Party\x20Mode','ready','ðŸ””\x20Dies\x20ist\x20ein\x20Test\x20von\x20Cogni-Living.','guest','4042GMZVEl','abs','subscribeForeignStatesAsync','namespace','LTM.triggerDailyDigest','send','.communicate.request','from','LTM.trainingData.thermodynamics','./lib/python_bridge','analysisInterval','Verbunden','Test','./lib/installer','dependencyInstallInProgress','state','sensorLastValues','cogni-living\x20adapter\x20starting\x20(v','analysis.energy.ventilationAlerts','setupBriefingScheduler','analysis.training.triggerSecurity','automation.triggerAction','analysis.energy.warmupTargets','location','executeAutomationAction',')\x20-\x20Phase\x20D\x20(Evolution)','scanDevices','NORMAL','setStateAsync','bind','text','LTM.dailyDigests','eventHistory','dismissAutomation','forecast.current.weather','setPresence','constructor','Lernphase\x20(','matrix','analysis.security.learningStatus','./lib/setup','simulateButler','OPTIMIZE_ENERGY','Sec-Training\x20started...','TRAIN_SECURITY','push','4450456IMtLUl','7BJWKTa','Kein\x20Kalender-Adapter','analysis.energy.mpcActive','analysis.health.todayVector','getOutsideTemperatureNumeric','Adapter','18875604BSrbcZ','setState','exitTimer','Gemini\x20AI\x20initialized.','analysis.training.triggerComfort','Guest\x20Mode','inactivityThresholdHours','scores','geminiModel','analysis.energy.insulationScore','triggerGaitAnalysis','accuweather.0','devices','./lib/scheduler','\x20min\x20ausbleiben.','analysis.automation.targetValue','cancel','getForeignStateAsync','briefingJob','getEnums','triggerDailyDigest','activityLevel','SYSTEM_MODES','ack','TRAIN_ENERGY','testNotification','parse','PREDICT_ENERGY','createAllObjects','heiter','onMessage','isSolar','./lib/automation','val','config','isProVersion','updateTopology','575QqaCkW','sendMorningBriefing','analysis.trigger','abortExitTimer','system.adapter.','_calName','enum','manual','stateChange','string','updateTopologyMatrix','initZombies','analysis.automation.patternDetected','SET_TOPOLOGY','instance','setObjectNotExistsAsync','licenseKey','Daten\x20nicht\x20verfÃ¼gbar','getHours','PYTHON_EXE','onStateChange','LTM.trainingData.sequences','length','now','@google/generative-ai','onReady','10tCttnJ','Instanz\x20nicht\x20gefunden','loadSystemMode','getCalendarNames','VACATION','getForeignObjectsAsync','calendarInstance','updated','online','Current.WeatherText','LTM.rawEventLog','currentSystemMode','analysis.automation.triggerAction','getForeignObjectAsync','json','dailyDigests','.data.table','keys','setupModeResetScheduler','analysis.training.triggerEnergy','Active\x20Ventilation\x20Alerts'];a0_0x22de=function(){return _0x1579ed;};return a0_0x22de();}const a0_0x2c6b2e=(function(){let _0x19417e=!![];return function(_0x584dcf,_0x5ab514){const _0x3ba392=_0x19417e?function(){const _0x552cd3=a0_0x330d;if(_0x5ab514){const _0x4247b8=_0x5ab514[_0x552cd3(0x128)](_0x584dcf,arguments);return _0x5ab514=null,_0x4247b8;}}:function(){};return _0x19417e=![],_0x3ba392;};}()),a0_0x36e618=a0_0x2c6b2e(this,function(){const _0x376d73=a0_0x330d;return a0_0x36e618['toString']()['search'](_0x376d73(0x192))[_0x376d73(0x162)]()[_0x376d73(0x1c2)](a0_0x36e618)['search'](_0x376d73(0x192));});a0_0x36e618();'use strict';const utils=require('@iobroker/adapter-core'),{GoogleGenerativeAI}=require(a0_0x2ed4e8(0x210)),installer=require(a0_0x2ed4e8(0x1ab)),scanner=require(a0_0x2ed4e8(0x183)),schedulers=require(a0_0x2ed4e8(0x1e0)),topology=require(a0_0x2ed4e8(0x12d)),setup=require(a0_0x2ed4e8(0x1c6)),recorder=require('./lib/recorder'),pythonBridge=require(a0_0x2ed4e8(0x1a7)),aiAgent=require('./lib/ai_agent'),deadMan=require(a0_0x2ed4e8(0x175)),automation=require(a0_0x2ed4e8(0x1f3)),GEMINI_MODEL='models/gemini-flash-latest',ACTIVITY_LEVEL_MAP={'sehr\x20hoch':0x64,'hoch':0x50,'normal':0x3c,'niedrig':0x28,'sehr\x20niedrig':0x14,'inaktiv':0x0};class CogniLiving extends utils[a0_0x2ed4e8(0x1d2)]{constructor(_0x22c434){const _0x56c877=a0_0x2ed4e8;super({..._0x22c434,'name':'cogni-living'}),this[_0x56c877(0x1be)]=[],this['analysisHistory']=[],this['rawEventLog']=[],this[_0x56c877(0x119)]=[],this[_0x56c877(0x1ae)]={},this[_0x56c877(0x13d)]={'latitude':0x0,'longitude':0x0,'city':''},this[_0x56c877(0x178)]=!![],this[_0x56c877(0x1d5)]=null,this[_0x56c877(0x17c)]=null,this[_0x56c877(0x17d)]=![],this['genAI']=null,this[_0x56c877(0x1db)]=null,this[_0x56c877(0x115)]=setup[_0x56c877(0x1e9)][_0x56c877(0x1b9)],this['isProVersion']=![],this[_0x56c877(0x13b)]=![],this['analysisTimer']=null,this[_0x56c877(0x158)]=null,this['modeResetJob']=null,this[_0x56c877(0x129)]=null,this[_0x56c877(0x1e5)]=null,this['dependencyInstallInProgress']=![],this[_0x56c877(0x143)]=null,this[_0x56c877(0x190)]=Date[_0x56c877(0x20f)](),this['on'](_0x56c877(0x19b),this[_0x56c877(0x109)][_0x56c877(0x1bb)](this)),this['on'](_0x56c877(0x200),this[_0x56c877(0x20c)][_0x56c877(0x1bb)](this)),this['on']('unload',this[_0x56c877(0x171)][_0x56c877(0x1bb)](this)),this['on'](_0x56c877(0x165),this[_0x56c877(0x1f1)][_0x56c877(0x1bb)](this));}async['onReady'](){const _0x46e608=a0_0x2ed4e8;this['log'][_0x46e608(0x179)](_0x46e608(0x1af)+this[_0x46e608(0x18d)]+_0x46e608(0x1b7));if(!installer[_0x46e608(0x125)](this,()=>this[_0x46e608(0x17e)]()))return;}async[a0_0x2ed4e8(0x17e)](){const _0x39efd6=a0_0x2ed4e8;await setup[_0x39efd6(0x203)](this);try{this['isProVersion']=await setup[_0x39efd6(0x199)](this[_0x39efd6(0x1f5)][_0x39efd6(0x208)]);}catch(_0x5714b2){}if(!this[_0x39efd6(0x1f5)][_0x39efd6(0x1d9)]||this[_0x39efd6(0x1f5)][_0x39efd6(0x1d9)]<0.1)this[_0x39efd6(0x1f5)][_0x39efd6(0x1d9)]=0xc;await setup['initHistory'](this),await setup[_0x39efd6(0x15f)](this);if(this[_0x39efd6(0x1f5)]['geminiApiKey'])try{this[_0x39efd6(0x17a)]=new GoogleGenerativeAI(this[_0x39efd6(0x1f5)][_0x39efd6(0x176)]),this[_0x39efd6(0x1db)]=this[_0x39efd6(0x17a)][_0x39efd6(0x12e)]({'model':GEMINI_MODEL,'generationConfig':{'responseMimeType':'application/json'}}),this['log']['info'](_0x39efd6(0x1d6));}catch(_0x3243e5){this[_0x39efd6(0x170)][_0x39efd6(0x194)](_0x39efd6(0x153)+_0x3243e5[_0x39efd6(0x165)]);}await setup[_0x39efd6(0x1ef)](this),await this['loadSystemMode'](),await this[_0x39efd6(0x207)](_0x39efd6(0x150),{'type':_0x39efd6(0x1ad),'common':{'name':'PINN\x20AI\x20Forecast','type':_0x39efd6(0x201),'role':'json','read':!![],'write':![]},'native':{}}),await this[_0x39efd6(0x207)](_0x39efd6(0x1b0),{'type':'state','common':{'name':_0x39efd6(0x11e),'type':_0x39efd6(0x201),'role':_0x39efd6(0x118),'read':!![],'write':![]},'native':{}}),await this[_0x39efd6(0x207)]('analysis.energy.warmupTimes',{'type':'state','common':{'name':_0x39efd6(0x135),'type':'string','role':_0x39efd6(0x118),'read':!![],'write':![]},'native':{}}),await this[_0x39efd6(0x207)](_0x39efd6(0x1b4),{'type':_0x39efd6(0x1ad),'common':{'name':_0x39efd6(0x187),'type':_0x39efd6(0x201),'role':_0x39efd6(0x118),'read':!![],'write':!![],'def':'{\x22default\x22:\x2021}'},'native':{}});try{const _0x2c288a=await this[_0x39efd6(0x166)](_0x39efd6(0x114));if(_0x2c288a&&_0x2c288a[_0x39efd6(0x1f4)])this[_0x39efd6(0x164)]=JSON[_0x39efd6(0x1ed)](_0x2c288a['val']);}catch(_0x4e0586){this['rawEventLog']=[];}try{const _0x303f57=await this[_0x39efd6(0x166)](_0x39efd6(0x1bd));if(_0x303f57&&_0x303f57[_0x39efd6(0x1f4)])this[_0x39efd6(0x119)]=JSON[_0x39efd6(0x1ed)](_0x303f57[_0x39efd6(0x1f4)]);}catch(_0x1f20cd){this[_0x39efd6(0x119)]=[];}const _0x508f67=this[_0x39efd6(0x119)][_0x39efd6(0x20e)]>=(this[_0x39efd6(0x1f5)][_0x39efd6(0x160)]||0x7)?_0x39efd6(0x16a)+this[_0x39efd6(0x119)][_0x39efd6(0x20e)]+'\x20Tage)':_0x39efd6(0x1c3)+this[_0x39efd6(0x119)][_0x39efd6(0x20e)]+'/'+(this[_0x39efd6(0x1f5)]['minDaysForBaseline']||0x7)+')';await this[_0x39efd6(0x1ba)]('LTM.baselineStatus',{'val':_0x508f67,'ack':!![]}),this[_0x39efd6(0x13f)](_0x39efd6(0x1fa)),this[_0x39efd6(0x13f)](_0x39efd6(0x1a2)),this['subscribeStates']('system.mode'),this['subscribeStates'](_0x39efd6(0x18b)),this[_0x39efd6(0x13f)](_0x39efd6(0x116)),this[_0x39efd6(0x13f)](_0x39efd6(0x12a)),this[_0x39efd6(0x13f)]('analysis.training.triggerSecurity'),this[_0x39efd6(0x13f)](_0x39efd6(0x13e)),this[_0x39efd6(0x13f)](_0x39efd6(0x11d)),this[_0x39efd6(0x13f)](_0x39efd6(0x1d7)),this[_0x39efd6(0x13f)](_0x39efd6(0x161)),this[_0x39efd6(0x13f)](_0x39efd6(0x1cf));const _0x4903c5=this[_0x39efd6(0x1f5)][_0x39efd6(0x1df)];if(_0x4903c5)for(const _0x5b1983 of _0x4903c5){await this[_0x39efd6(0x1a0)](_0x5b1983['id']);}const _0x504502=this[_0x39efd6(0x1f5)][_0x39efd6(0x14e)];if(_0x504502)for(const _0xae7b65 of _0x504502){await this[_0x39efd6(0x1a0)](_0xae7b65);}if(this[_0x39efd6(0x1f5)][_0x39efd6(0x177)]&&this[_0x39efd6(0x1f5)]['notifyTelegramInstance'])await this[_0x39efd6(0x1a0)](this['config']['notifyTelegramInstance']+_0x39efd6(0x1a4));setTimeout(()=>this[_0x39efd6(0x186)](),0x1388);if(this[_0x39efd6(0x12c)])clearInterval(this[_0x39efd6(0x12c)]);const _0x161d9c=this[_0x39efd6(0x1f5)][_0x39efd6(0x1a8)]||0xf;_0x161d9c>0x0&&(this[_0x39efd6(0x12c)]=setInterval(()=>{const _0x106593=_0x39efd6;this[_0x106593(0x122)](),automation['checkCalendarTriggers'](this);},_0x161d9c*0x3c*0x3e8)),setTimeout(()=>automation['checkCalendarTriggers'](this),0x2710),this[_0x39efd6(0x1f5)]['trackerEnabled']!==![]&&(this[_0x39efd6(0x143)]=setInterval(()=>{const _0xb70007=_0x39efd6;if(this['isProVersion']){const _0x45e082=Date[_0xb70007(0x20f)](),_0x216b0d=this['lastTrackerEventTime']||_0x45e082,_0x1739cf=(_0x45e082-_0x216b0d)/0x3e8;_0x1739cf>0x2&&(this['lastTrackerEventTime']=_0x45e082,pythonBridge[_0xb70007(0x1a3)](this,'TRACK_EVENT',{'room':null,'dt':_0x1739cf}));}},0xbb8)),schedulers[_0x39efd6(0x182)](this,()=>aiAgent[_0x39efd6(0x131)](this,pythonBridge)),schedulers[_0x39efd6(0x11c)](this),schedulers[_0x39efd6(0x11f)](this,()=>aiAgent['runBaselineDriftAnalysis'](this)),schedulers[_0x39efd6(0x1b1)](this,()=>aiAgent[_0x39efd6(0x1f9)](this)),pythonBridge['startService'](this,installer[_0x39efd6(0x20b)]),setTimeout(async()=>{const _0x44f0f4=_0x39efd6;await topology[_0x44f0f4(0x1f7)](this);try{const _0xad5a89=await this['getStateAsync'](_0x44f0f4(0x120));if(_0xad5a89&&_0xad5a89[_0x44f0f4(0x1f4)])pythonBridge[_0x44f0f4(0x1a3)](this,_0x44f0f4(0x205),JSON['parse'](_0xad5a89[_0x44f0f4(0x1f4)]));}catch(_0x1d77d1){}this[_0x44f0f4(0x172)](),this['triggerGaitAnalysis'](),this[_0x44f0f4(0x127)](),this[_0x44f0f4(0x132)]();},0x1388);}[a0_0x2ed4e8(0x171)](_0x47060d){const _0x312633=a0_0x2ed4e8;if(this['analysisTimer'])clearInterval(this[_0x312633(0x12c)]);if(this[_0x312633(0x129)])clearInterval(this[_0x312633(0x129)]);if(this['trackerHeartbeat'])clearInterval(this[_0x312633(0x143)]);if(this[_0x312633(0x158)])this['ltmJob'][_0x312633(0x1e3)]();if(this['modeResetJob'])this[_0x312633(0x185)]['cancel']();if(this['briefingJob'])this[_0x312633(0x1e5)][_0x312633(0x1e3)]();recorder['abortExitTimer'](this),pythonBridge[_0x312633(0x191)](this),_0x47060d();}async[a0_0x2ed4e8(0x20c)](_0x3ab569,_0x216763){const _0xfb2f37=a0_0x2ed4e8;if(!_0x216763||this[_0xfb2f37(0x1ac)])return;if(_0x3ab569['includes']('telegram')&&_0x3ab569[_0xfb2f37(0x18f)](_0xfb2f37(0x16e))&&_0x216763[_0xfb2f37(0x1f4)])return;if(_0x3ab569===this[_0xfb2f37(0x1a1)]+'.system.mode'){if(_0x216763[_0xfb2f37(0x1f4)]&&Object['values'](setup[_0xfb2f37(0x1e9)])[_0xfb2f37(0x151)](_0x216763[_0xfb2f37(0x1f4)])){this[_0xfb2f37(0x115)]=_0x216763[_0xfb2f37(0x1f4)];if(_0x216763[_0xfb2f37(0x1f4)]===setup[_0xfb2f37(0x1e9)][_0xfb2f37(0x10e)])await recorder['setPresence'](this,![]);else await recorder[_0xfb2f37(0x1c1)](this,!![]);if(this[_0xfb2f37(0x1f6)]){let _0x497418=![],_0x3be0e3=0x0,_0x56fac3=_0xfb2f37(0x1ff);if(this['currentSystemMode']==='party')_0x497418=!![],_0x3be0e3=0x168,_0x56fac3=_0xfb2f37(0x19a);else this['currentSystemMode']===_0xfb2f37(0x19d)&&(_0x497418=!![],_0x3be0e3=0x5a0,_0x56fac3=_0xfb2f37(0x1d8));pythonBridge[_0xfb2f37(0x1a3)](this,_0xfb2f37(0x15e),{'active':_0x497418,'duration':_0x3be0e3,'label':_0x56fac3}),await this[_0xfb2f37(0x1ba)](_0xfb2f37(0x1c5),{'val':JSON[_0xfb2f37(0x137)]({'active':_0x497418,'label':_0x56fac3,'timestamp':Date[_0xfb2f37(0x20f)]()}),'ack':!![]});}}if(!_0x216763[_0xfb2f37(0x1ea)])this['setState'](_0x3ab569,{'val':this['currentSystemMode'],'ack':!![]});return;}if(!_0x216763[_0xfb2f37(0x1ea)]){if(_0x3ab569[_0xfb2f37(0x151)](_0xfb2f37(0x1fa))&&_0x216763[_0xfb2f37(0x1f4)]){this[_0xfb2f37(0x1d4)](_0x3ab569,{'val':![],'ack':!![]}),aiAgent[_0xfb2f37(0x12b)](this);return;}if(_0x3ab569[_0xfb2f37(0x151)](_0xfb2f37(0x1e7))&&_0x216763['val']){this['setState'](_0x3ab569,{'val':![],'ack':!![]});if(this['isProVersion'])aiAgent[_0xfb2f37(0x131)](this,pythonBridge);return;}if(_0x3ab569[_0xfb2f37(0x151)]('triggerBriefing')&&_0x216763[_0xfb2f37(0x1f4)]){this[_0xfb2f37(0x1d4)](_0x3ab569,{'val':![],'ack':!![]}),aiAgent[_0xfb2f37(0x1f9)](this);return;}if(_0x3ab569['includes'](_0xfb2f37(0x1b3))&&_0x216763[_0xfb2f37(0x1f4)]){this[_0xfb2f37(0x1d4)](_0x3ab569,{'val':![],'ack':!![]}),aiAgent[_0xfb2f37(0x1b6)](this);return;}if(_0x3ab569[_0xfb2f37(0x151)](_0xfb2f37(0x1b2))&&_0x216763['val']){this[_0xfb2f37(0x1d4)](_0x3ab569,{'val':![],'ack':!![]});if(this[_0xfb2f37(0x1f6)])try{const _0x2edaef=await this['getStateAsync'](_0xfb2f37(0x20d));if(_0x2edaef&&_0x2edaef['val']){const _0x13481d=JSON[_0xfb2f37(0x1ed)](_0x2edaef[_0xfb2f37(0x1f4)]);this['setStateAsync'](_0xfb2f37(0x15b),{'val':_0xfb2f37(0x1c9),'ack':!![]}),pythonBridge[_0xfb2f37(0x1a3)](this,_0xfb2f37(0x1ca),{'sequences':_0x13481d});}}catch(_0x34e7eb){}return;}if(_0x3ab569['includes'](_0xfb2f37(0x13e))&&_0x216763[_0xfb2f37(0x1f4)]){this[_0xfb2f37(0x1d4)](_0x3ab569,{'val':![],'ack':!![]});if(this[_0xfb2f37(0x1f6)])try{const _0x31a093=await this[_0xfb2f37(0x166)](_0xfb2f37(0x1bd));if(_0x31a093&&_0x31a093[_0xfb2f37(0x1f4)])pythonBridge[_0xfb2f37(0x1a3)](this,_0xfb2f37(0x14a),{'digests':JSON[_0xfb2f37(0x1ed)](_0x31a093[_0xfb2f37(0x1f4)])});}catch(_0x55d0eb){}return;}if(_0x3ab569[_0xfb2f37(0x151)]('analysis.training.triggerEnergy')&&_0x216763[_0xfb2f37(0x1f4)]){this[_0xfb2f37(0x1d4)](_0x3ab569,{'val':![],'ack':!![]});if(this['isProVersion'])try{const _0x39ca55=await this['getStateAsync'](_0xfb2f37(0x1a6));if(_0x39ca55&&_0x39ca55[_0xfb2f37(0x1f4)])pythonBridge['send'](this,_0xfb2f37(0x1eb),{'points':JSON[_0xfb2f37(0x1ed)](_0x39ca55['val'])});}catch(_0x457f77){}return;}if(_0x3ab569[_0xfb2f37(0x151)]('analysis.training.triggerComfort')&&_0x216763[_0xfb2f37(0x1f4)]){this[_0xfb2f37(0x1d4)](_0x3ab569,{'val':![],'ack':!![]});if(this[_0xfb2f37(0x1f6)])try{const _0x135e0e=await this[_0xfb2f37(0x166)]('LTM.rawEventLog');if(_0x135e0e&&_0x135e0e['val'])pythonBridge[_0xfb2f37(0x1a3)](this,_0xfb2f37(0x196),{'events':JSON[_0xfb2f37(0x1ed)](_0x135e0e[_0xfb2f37(0x1f4)])});}catch(_0x4755b1){}return;}if(_0x3ab569[_0xfb2f37(0x151)](_0xfb2f37(0x161))&&_0x216763[_0xfb2f37(0x1f4)]){this[_0xfb2f37(0x1d4)](_0x3ab569,{'val':![],'ack':!![]}),topology[_0xfb2f37(0x1f7)](this);return;}}if(this[_0xfb2f37(0x1f5)][_0xfb2f37(0x14e)]&&this[_0xfb2f37(0x1f5)][_0xfb2f37(0x14e)][_0xfb2f37(0x151)](_0x3ab569)){await this[_0xfb2f37(0x186)]();return;}const _0x24315f=(this['config']['devices']||[])[_0xfb2f37(0x15c)](_0x4fc8cb=>_0x4fc8cb['id']===_0x3ab569);if(_0x24315f){const _0x1cb291=await recorder['processSensorEvent'](this,_0x3ab569,_0x216763,_0x24315f);_0x1cb291&&_0x1cb291[_0xfb2f37(0x14f)]==='motion'&&_0x1cb291[_0xfb2f37(0x1b5)]&&this[_0xfb2f37(0x1f6)]&&deadMan['updateLocation'](this,_0x1cb291[_0xfb2f37(0x1b5)]);}}async[a0_0x2ed4e8(0x1f1)](_0x4cf8e8){const _0x551ab4=a0_0x2ed4e8;if(typeof _0x4cf8e8==='object'&&_0x4cf8e8[_0x551ab4(0x165)]){if(_0x4cf8e8[_0x551ab4(0x15d)]===_0x551ab4(0x15a))try{const _0x43d176=await automation['scanThermostats'](this);this['sendTo'](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![],'results':_0x43d176},_0x4cf8e8['callback']);}catch(_0x22d337){this['sendTo'](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8['command'],{'success':![],'error':_0x22d337[_0x551ab4(0x165)]},_0x4cf8e8[_0x551ab4(0x147)]);}else{if(_0x4cf8e8[_0x551ab4(0x15d)]===_0x551ab4(0x152))try{const {current_temps:_0x475304,t_out:_0x25feb5,targets:_0x1ed9eb,t_forecast:_0x25570e}=_0x4cf8e8['message'],_0x4a152b=[];let _0x25e1f7={};try{const _0x16f540=await this['getStateAsync'](_0x551ab4(0x1dc));if(_0x16f540&&_0x16f540[_0x551ab4(0x1f4)]){const _0x3be1cd=JSON[_0x551ab4(0x1ed)](_0x16f540[_0x551ab4(0x1f4)]);_0x25e1f7=_0x3be1cd[_0x551ab4(0x1da)]||_0x3be1cd;}}catch(_0x11b3b7){}const _0x3f9118=_0x25570e!==undefined&&_0x25570e!==null?(_0x25feb5+_0x25570e)/0x2:_0x25feb5;for(const [_0x2162c9,_0x5f104c]of Object[_0x551ab4(0x130)](_0x475304)){const _0x4b4f50=_0x1ed9eb[_0x2162c9]||0x15;if(_0x5f104c<=_0x4b4f50)continue;let _0x56c13e=_0x25e1f7[_0x2162c9]||-0.5;if(_0x56c13e>=0x0)_0x56c13e=-0.5;const _0xc6732f=Math[_0x551ab4(0x19f)](_0x56c13e),_0xa3f650=_0x5f104c-_0x4b4f50;let _0x4dbe66=Math['floor'](_0xa3f650/_0xc6732f*0x3c);const _0x11ba57=_0x5f104c-_0x25feb5,_0x1bb2f8=_0x5f104c-_0x3f9118;if(_0x1bb2f8!==0x0&&_0x11ba57!==0x0){const _0x35f41d=_0x11ba57/_0x1bb2f8;_0x4dbe66=Math['floor'](_0x4dbe66*_0x35f41d);}if(_0x4dbe66>0xf){if(_0x4dbe66>0xf0)_0x4dbe66=0xf0;_0x4a152b[_0x551ab4(0x1cb)]({'room':_0x2162c9,'minutes_safe':_0x4dbe66,'target':_0x4b4f50,'current':_0x5f104c,'savings_msg':_0x551ab4(0x139)+_0x4dbe66+_0x551ab4(0x1e1)});}}_0x4a152b[_0x551ab4(0x123)]((_0x5c04c5,_0x26883b)=>_0x26883b['minutes_safe']-_0x5c04c5[_0x551ab4(0x193)]),this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![],'proposals':_0x4a152b},_0x4cf8e8[_0x551ab4(0x147)]);}catch(_0x1d6d27){this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':![],'error':_0x1d6d27[_0x551ab4(0x165)]},_0x4cf8e8['callback']);}else{if(_0x4cf8e8[_0x551ab4(0x15d)]===_0x551ab4(0x1bf))await this['setStateAsync']('analysis.automation.patternDetected',{'val':![],'ack':!![]}),await this['setStateAsync'](_0x551ab4(0x144),{'val':'','ack':!![]}),await this[_0x551ab4(0x1ba)](_0x551ab4(0x121),{'val':'','ack':!![]}),this['sendTo'](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![]},_0x4cf8e8[_0x551ab4(0x147)]);else{if(_0x4cf8e8[_0x551ab4(0x15d)]===_0x551ab4(0x1c7)){const {targetId:_0x2a9da7,targetValue:_0x4bc6ef}=_0x4cf8e8[_0x551ab4(0x165)];await this['setStateAsync'](_0x551ab4(0x204),{'val':!![],'ack':!![]}),await this[_0x551ab4(0x1ba)](_0x551ab4(0x144),{'val':_0x551ab4(0x12f),'ack':!![]}),await this['setStateAsync'](_0x551ab4(0x121),{'val':_0x2a9da7,'ack':!![]}),await this['setStateAsync'](_0x551ab4(0x1e2),{'val':String(_0x4bc6ef),'ack':!![]}),this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![]},_0x4cf8e8[_0x551ab4(0x147)]);}else{if(_0x4cf8e8['command']==='testApiKey')try{const _0x5aa38e=_0x4cf8e8['message'][_0x551ab4(0x148)];if(!_0x5aa38e)throw new Error(_0x551ab4(0x13a));const _0x3d8929=new GoogleGenerativeAI(_0x5aa38e),_0x2ebf6a=_0x3d8929[_0x551ab4(0x12e)]({'model':GEMINI_MODEL}),_0x54cf5f=await _0x2ebf6a[_0x551ab4(0x18e)](_0x551ab4(0x1aa)),_0x1d6ddb=await _0x54cf5f[_0x551ab4(0x14c)];if(_0x1d6ddb[_0x551ab4(0x1bc)]())this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![],'message':_0x551ab4(0x163)},_0x4cf8e8[_0x551ab4(0x147)]);else throw new Error('Keine\x20Antwort\x20von\x20Gemini');}catch(_0x28ab0d){this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':![],'message':_0x28ab0d[_0x551ab4(0x165)]},_0x4cf8e8[_0x551ab4(0x147)]);}else{if(_0x4cf8e8['command']===_0x551ab4(0x1b8))try{const _0x66597c=await scanner['scanForDevices'](this,_0x4cf8e8[_0x551ab4(0x165)]||{});this[_0x551ab4(0x198)](_0x4cf8e8['from'],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![],'devices':_0x66597c},_0x4cf8e8[_0x551ab4(0x147)]);}catch(_0x49f294){this[_0x551ab4(0x198)](_0x4cf8e8['from'],_0x4cf8e8[_0x551ab4(0x15d)],{'success':![],'error':_0x49f294[_0x551ab4(0x165)]},_0x4cf8e8['callback']);}else{if(_0x4cf8e8['command']===_0x551ab4(0x202))try{const {matrix:_0x18c184}=_0x4cf8e8[_0x551ab4(0x165)],_0x368a17=await this[_0x551ab4(0x166)](_0x551ab4(0x120));if(_0x368a17&&_0x368a17['val']){const _0x1048ab=JSON[_0x551ab4(0x1ed)](_0x368a17[_0x551ab4(0x1f4)]);_0x1048ab[_0x551ab4(0x1c4)]=_0x18c184,_0x1048ab[_0x551ab4(0x111)]=Date[_0x551ab4(0x20f)](),await this[_0x551ab4(0x1ba)](_0x551ab4(0x120),{'val':JSON[_0x551ab4(0x137)](_0x1048ab),'ack':!![]}),pythonBridge[_0x551ab4(0x1a3)](this,'SET_TOPOLOGY',_0x1048ab);}this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![]},_0x4cf8e8[_0x551ab4(0x147)]);}catch(_0x3f34be){this[_0x551ab4(0x170)]['error'](_0x3f34be);}else{if(_0x4cf8e8[_0x551ab4(0x15d)]==='getLtmData')this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![],'dailyDigests':this[_0x551ab4(0x119)]||[],'analysisHistory':this[_0x551ab4(0x181)]||[]},_0x4cf8e8[_0x551ab4(0x147)]);else{if(_0x4cf8e8[_0x551ab4(0x15d)]==='getOverviewData'){const _0x1fe1d6=this['dailyDigests']['length'],_0x3b8d43=new Array(0x18)['fill'](0x0),_0x12498a=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x551ab4(0x1be)]&&this[_0x551ab4(0x1be)]['forEach'](_0x1f47e3=>{const _0x5c9100=_0x551ab4;if(_0x1f47e3[_0x5c9100(0x184)]>=_0x12498a){const _0x5661d9=new Date(_0x1f47e3[_0x5c9100(0x184)])[_0x5c9100(0x20a)]();if(_0x5661d9>=0x0&&_0x5661d9<0x18)_0x3b8d43[_0x5661d9]++;}});let _0x2dd1e5=![],_0x40e8c9='',_0x11997b='',_0x56c764='';try{const _0x491916=await this[_0x551ab4(0x166)](_0x551ab4(0x204));if(_0x491916&&_0x491916['val']){_0x2dd1e5=!![];const _0x4cdbc3=await this[_0x551ab4(0x166)](_0x551ab4(0x144));_0x40e8c9=_0x4cdbc3?_0x4cdbc3[_0x551ab4(0x1f4)]:'';const _0x2fa7be=await this['getStateAsync'](_0x551ab4(0x121));_0x11997b=_0x2fa7be?_0x2fa7be[_0x551ab4(0x1f4)]:'';const _0x35f640=await this[_0x551ab4(0x166)]('analysis.automation.targetValue');_0x56c764=_0x35f640?_0x35f640[_0x551ab4(0x1f4)]:'';}}catch(_0x166c23){}const _0x1cc3a5=await this[_0x551ab4(0x136)](),_0x1ffece=(this[_0x551ab4(0x1f5)][_0x551ab4(0x1df)]||[])['some'](_0x1a8f09=>_0x1a8f09[_0x551ab4(0x1f2)]),_0x76fec3=_0x1cc3a5&&_0x1ffece;this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8['command'],{'success':!![],'eventHistory':this[_0x551ab4(0x1be)][_0x551ab4(0x133)](0x0,0xf),'stats':{'digestCount':_0x1fe1d6,'isPresent':this[_0x551ab4(0x178)],'hourlyActivity':_0x3b8d43,'solarActive':_0x76fec3},'automation':{'detected':_0x2dd1e5,'description':_0x40e8c9,'targetId':_0x11997b,'targetValue':_0x56c764}},_0x4cf8e8[_0x551ab4(0x147)]);}else{if(_0x4cf8e8[_0x551ab4(0x15d)]===_0x551ab4(0x1e6)){const _0x145281=await this[_0x551ab4(0x10f)](_0x551ab4(0x14b),'enum'),_0x22f38b=[];if(_0x145281)for(const _0x1ed8a8 in _0x145281){const _0x20dbd4=_0x145281[_0x1ed8a8],_0x4ab93b=(_0x20dbd4[_0x551ab4(0x18c)]&&typeof _0x20dbd4['common'][_0x551ab4(0x173)]==='object'?_0x20dbd4[_0x551ab4(0x18c)]['name']['de']:_0x20dbd4[_0x551ab4(0x18c)]['name'])||_0x20dbd4[_0x551ab4(0x18c)][_0x551ab4(0x173)];_0x22f38b['push']({'id':_0x1ed8a8,'name':_0x4ab93b});}const _0x5bf7d0=await this[_0x551ab4(0x10f)](_0x551ab4(0x157),_0x551ab4(0x1fe)),_0x23bb5b=[];if(_0x5bf7d0)for(const _0x5281b8 in _0x5bf7d0){const _0x26abe1=_0x5bf7d0[_0x5281b8],_0xc7bca8=(_0x26abe1[_0x551ab4(0x18c)]&&typeof _0x26abe1['common'][_0x551ab4(0x173)]===_0x551ab4(0x156)?_0x26abe1['common'][_0x551ab4(0x173)]['de']:_0x26abe1[_0x551ab4(0x18c)][_0x551ab4(0x173)])||_0x5281b8['split']('.')['pop']();_0x23bb5b[_0x551ab4(0x1cb)](_0xc7bca8);}this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8['command'],{'success':!![],'enums':_0x22f38b,'rooms':_0x23bb5b},_0x4cf8e8[_0x551ab4(0x147)]);}else{if(_0x4cf8e8['command']===_0x551ab4(0x149))try{let _0x75ef80=_0x551ab4(0x14d),_0x40b372=_0x551ab4(0x1ce);if(this[_0x551ab4(0x1f5)][_0x551ab4(0x18a)]){const _0x3277a3=await recorder['getOutsideTemperatureNumeric'](this);_0x75ef80=_0x3277a3!==null?_0x3277a3+'Â°C':_0x551ab4(0x209);}if(this['config'][_0x551ab4(0x110)]){const _0x49ed8b=await this[_0x551ab4(0x117)](_0x551ab4(0x1fc)+this[_0x551ab4(0x1f5)][_0x551ab4(0x110)]);_0x40b372=_0x49ed8b?_0x551ab4(0x1a9):_0x551ab4(0x10b);}this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8['command'],{'success':!![],'weather':_0x75ef80,'calendar':_0x40b372},_0x4cf8e8['callback']);}catch(_0xd5351e){this['sendTo'](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8[_0x551ab4(0x15d)],{'success':![],'error':_0xd5351e[_0x551ab4(0x165)]},_0x4cf8e8[_0x551ab4(0x147)]);}else{if(_0x4cf8e8[_0x551ab4(0x15d)]===_0x551ab4(0x10d))try{const _0x4710cb=_0x4cf8e8[_0x551ab4(0x165)][_0x551ab4(0x206)],_0x181591=await this['getForeignStateAsync'](_0x4710cb+_0x551ab4(0x11a));let _0x17fa30=[];if(_0x181591&&_0x181591['val']){const _0x3d0540=JSON[_0x551ab4(0x1ed)](_0x181591[_0x551ab4(0x1f4)]),_0x5160a5=new Set();Array['isArray'](_0x3d0540)&&_0x3d0540['forEach'](_0x26bf18=>{const _0x53f6e7=_0x551ab4;if(_0x26bf18[_0x53f6e7(0x1fd)])_0x5160a5[_0x53f6e7(0x174)](_0x26bf18['_calName']);else{if(_0x26bf18['calendarName'])_0x5160a5[_0x53f6e7(0x174)](_0x26bf18[_0x53f6e7(0x126)]);}}),_0x17fa30=Array[_0x551ab4(0x1a5)](_0x5160a5)[_0x551ab4(0x123)]();}if(_0x17fa30['length']===0x0)_0x17fa30=[_0x551ab4(0x16b)];this['sendTo'](_0x4cf8e8['from'],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![],'names':_0x17fa30},_0x4cf8e8[_0x551ab4(0x147)]);}catch(_0x43640f){this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8['command'],{'success':![],'error':_0x43640f[_0x551ab4(0x165)]},_0x4cf8e8['callback']);}else{if(_0x4cf8e8[_0x551ab4(0x15d)]===_0x551ab4(0x1ec))try{await setup[_0x551ab4(0x159)](this,_0x551ab4(0x19c),![],![]),this[_0x551ab4(0x198)](_0x4cf8e8['from'],_0x4cf8e8[_0x551ab4(0x15d)],{'success':!![],'message':_0x551ab4(0x195)},_0x4cf8e8[_0x551ab4(0x147)]);}catch(_0x33bb08){this[_0x551ab4(0x170)]['error']('Notification\x20Test\x20Failed:\x20'+_0x33bb08['message']),this[_0x551ab4(0x198)](_0x4cf8e8[_0x551ab4(0x1a5)],_0x4cf8e8['command'],{'success':![],'message':_0x551ab4(0x16f)+_0x33bb08[_0x551ab4(0x165)]},_0x4cf8e8[_0x551ab4(0x147)]);}}}}}}}}}}}}}}}async[a0_0x2ed4e8(0x10c)](){const _0x5e5a92=a0_0x2ed4e8;try{const _0x46a19c=await this[_0x5e5a92(0x166)](setup[_0x5e5a92(0x16d)]);_0x46a19c&&_0x46a19c[_0x5e5a92(0x1f4)]&&Object[_0x5e5a92(0x140)](setup[_0x5e5a92(0x1e9)])[_0x5e5a92(0x151)](_0x46a19c['val'])?this[_0x5e5a92(0x115)]=_0x46a19c[_0x5e5a92(0x1f4)]:(this[_0x5e5a92(0x115)]=setup[_0x5e5a92(0x1e9)][_0x5e5a92(0x1b9)],await this[_0x5e5a92(0x1ba)](setup['SYSTEM_DP_MODE'],{'val':setup[_0x5e5a92(0x1e9)][_0x5e5a92(0x1b9)],'ack':!![]}));}catch(_0x59d711){this['currentSystemMode']=setup[_0x5e5a92(0x1e9)][_0x5e5a92(0x1b9)];}}async[a0_0x2ed4e8(0x186)](){const _0xf5b7a3=a0_0x2ed4e8;try{const _0x4511ca=this['config'][_0xf5b7a3(0x14e)]||[];let _0x403c6a=![];const _0x59fef7=[];for(const _0x3432a0 of _0x4511ca){try{const _0x42ebe4=await this[_0xf5b7a3(0x1e4)](_0x3432a0);_0x42ebe4&&(_0x42ebe4[_0xf5b7a3(0x1f4)]===!![]||_0x42ebe4[_0xf5b7a3(0x1f4)]===_0xf5b7a3(0x112)||_0x42ebe4[_0xf5b7a3(0x1f4)]===0x1)&&(_0x403c6a=!![],_0x59fef7[_0xf5b7a3(0x1cb)](_0x3432a0));}catch(_0x4d3dea){}}return await this[_0xf5b7a3(0x1ba)](_0xf5b7a3(0x138),{'val':_0x59fef7[_0xf5b7a3(0x141)](',\x20'),'ack':!![]}),_0x403c6a&&(this[_0xf5b7a3(0x1d5)]&&(this[_0xf5b7a3(0x170)][_0xf5b7a3(0x179)](_0xf5b7a3(0x189)),recorder[_0xf5b7a3(0x1fb)](this)),!this[_0xf5b7a3(0x178)]&&this['currentSystemMode']===setup[_0xf5b7a3(0x1e9)]['NORMAL']&&await recorder[_0xf5b7a3(0x1c1)](this,!![])),_0x403c6a;}catch(_0x42cbf1){return![];}}async[a0_0x2ed4e8(0x122)](){const _0x58da8f=a0_0x2ed4e8;this['log']['debug'](_0x58da8f(0x17f)),await aiAgent[_0x58da8f(0x12b)](this),this[_0x58da8f(0x132)](),this[_0x58da8f(0x1dd)](),this[_0x58da8f(0x127)]();}async['checkSolarCondition'](){const _0x1572a6=a0_0x2ed4e8,_0x802d0b=[_0x1572a6(0x167),_0x1572a6(0x1de),'daswetter.0'],_0x4278ea=[_0x1572a6(0x1c0),_0x1572a6(0x113),_0x1572a6(0x145)];for(const _0x4de0a1 of _0x802d0b){for(const _0x2a15c6 of _0x4278ea){try{const _0x38f8a1=_0x4de0a1+'.'+_0x2a15c6,_0x590a2f=await this[_0x1572a6(0x1e4)](_0x38f8a1);if(_0x590a2f&&_0x590a2f[_0x1572a6(0x1f4)]){const _0x27b5a3=String(_0x590a2f['val'])['toLowerCase']();if(_0x27b5a3[_0x1572a6(0x151)](_0x1572a6(0x180))||_0x27b5a3[_0x1572a6(0x151)]('sunny')||_0x27b5a3[_0x1572a6(0x151)](_0x1572a6(0x168))||_0x27b5a3[_0x1572a6(0x151)]('clear')||_0x27b5a3[_0x1572a6(0x151)](_0x1572a6(0x1f0)))return!![];}}catch(_0x461a64){}}}return![];}['triggerGaitAnalysis'](){const _0x25e4b9=a0_0x2ed4e8;if(!this[_0x25e4b9(0x1f6)])return;try{this[_0x25e4b9(0x13c)](_0x25e4b9(0x20d),(_0x1fd77b,_0x11593c)=>{const _0x225072=_0x25e4b9;_0x11593c&&_0x11593c['val']&&pythonBridge[_0x225072(0x1a3)](this,_0x225072(0x155),{'sequences':JSON[_0x225072(0x1ed)](_0x11593c[_0x225072(0x1f4)])});});}catch(_0x436255){}}async[a0_0x2ed4e8(0x127)](){const _0x369afe=a0_0x2ed4e8;if(!this[_0x369afe(0x1f6)])return;try{const _0x56e147=await recorder[_0x369afe(0x1d1)](this);if(_0x56e147===null)return;const _0x107f88={},_0x1e1607={},_0x5e401a=this[_0x369afe(0x1f5)][_0x369afe(0x1df)]||[];for(const _0x1af247 of _0x5e401a){if(_0x1af247[_0x369afe(0x14f)]==='temperature'&&_0x1af247[_0x369afe(0x1b5)]){const _0x5869cc=this[_0x369afe(0x1ae)][_0x1af247['id']];if(_0x5869cc!==undefined)_0x107f88[_0x1af247['location']]=_0x5869cc;if(_0x1af247[_0x369afe(0x1f2)])_0x1e1607[_0x1af247[_0x369afe(0x1b5)]]=!![];}}const _0x460bcf=await this[_0x369afe(0x136)]();let _0x336998={};try{const _0x5da09c=await this[_0x369afe(0x166)](_0x369afe(0x1b4));if(_0x5da09c&&_0x5da09c[_0x369afe(0x1f4)])_0x336998=JSON[_0x369afe(0x1ed)](_0x5da09c[_0x369afe(0x1f4)]);}catch(_0x5ed2a1){}Object[_0x369afe(0x11b)](_0x107f88)[_0x369afe(0x20e)]>0x0&&(pythonBridge[_0x369afe(0x1a3)](this,_0x369afe(0x1ee),{'current_temps':_0x107f88,'t_out':_0x56e147,'is_sunny':_0x460bcf,'solar_flags':_0x1e1607,'warmup_targets':_0x336998}),pythonBridge[_0x369afe(0x1a3)](this,_0x369afe(0x1c8),{'current_temps':_0x107f88,'t_out':_0x56e147,'targets':{}}));}catch(_0x3f1251){}}[a0_0x2ed4e8(0x132)](){const _0x29109e=a0_0x2ed4e8;if(!this[_0x29109e(0x164)]||this[_0x29109e(0x164)][_0x29109e(0x20e)]===0x0)return;const _0x3c0cc7=new Array(0x60)['fill'](0x0),_0x5d236e=new Date()['setHours'](0x0,0x0,0x0,0x0);this[_0x29109e(0x164)]['forEach'](_0xac5c3a=>{const _0x4d26c9=_0x29109e,_0x1a96d4=new Date(_0xac5c3a[_0x4d26c9(0x184)]);if(_0x1a96d4[_0x4d26c9(0x17b)]()>=_0x5d236e){const _0x2d6043=_0x1a96d4[_0x4d26c9(0x20a)](),_0x443a10=_0x1a96d4[_0x4d26c9(0x146)](),_0x27aa29=_0x2d6043*0x4+Math['floor'](_0x443a10/0xf);if(_0x27aa29>=0x0&&_0x27aa29<0x60)_0x3c0cc7[_0x27aa29]++;}}),this[_0x29109e(0x1ba)](_0x29109e(0x1d0),{'val':JSON['stringify'](_0x3c0cc7),'ack':!![]});}[a0_0x2ed4e8(0x172)](){const _0x3b3353=a0_0x2ed4e8;if(!this['dailyDigests']||this[_0x3b3353(0x119)][_0x3b3353(0x20e)]<0x2)return;const _0x2c862e=this[_0x3b3353(0x119)]['map'](_0x286aba=>{const _0x3aa378=_0x3b3353,_0x446a28=(_0x286aba[_0x3aa378(0x1e8)]||'')[_0x3aa378(0x188)]();return ACTIVITY_LEVEL_MAP[_0x446a28]||0x32;});pythonBridge['send'](this,'ANALYZE_TREND',{'values':_0x2c862e,'tag':_0x3b3353(0x154)});}}function a0_0x330d(_0x4c2051,_0x155eaa){const _0x31a946=a0_0x22de();return a0_0x330d=function(_0x36e618,_0x2c6b2e){_0x36e618=_0x36e618-0x109;let _0x22de2b=_0x31a946[_0x36e618];return _0x22de2b;},a0_0x330d(_0x4c2051,_0x155eaa);}if(require['main']!==module)module[a0_0x2ed4e8(0x169)]=_0x4c9963=>new CogniLiving(_0x4c9963);else new CogniLiving();